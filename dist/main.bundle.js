var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name5 in all)
    __defProp(target, name5, { get: all[name5], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react.production.min.js
var require_react_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react.production.min.js"(exports) {
    "use strict";
    var l3 = Symbol.for("react.element");
    var n2 = Symbol.for("react.portal");
    var p3 = Symbol.for("react.fragment");
    var q = Symbol.for("react.strict_mode");
    var r3 = Symbol.for("react.profiler");
    var t2 = Symbol.for("react.provider");
    var u3 = Symbol.for("react.context");
    var v3 = Symbol.for("react.forward_ref");
    var w = Symbol.for("react.suspense");
    var x = Symbol.for("react.memo");
    var y2 = Symbol.for("react.lazy");
    var z = Symbol.iterator;
    function A(a2) {
      if (null === a2 || "object" !== typeof a2) return null;
      a2 = z && a2[z] || a2["@@iterator"];
      return "function" === typeof a2 ? a2 : null;
    }
    var B = { isMounted: function() {
      return false;
    }, enqueueForceUpdate: function() {
    }, enqueueReplaceState: function() {
    }, enqueueSetState: function() {
    } };
    var C2 = Object.assign;
    var D = {};
    function E(a2, b, e3) {
      this.props = a2;
      this.context = b;
      this.refs = D;
      this.updater = e3 || B;
    }
    E.prototype.isReactComponent = {};
    E.prototype.setState = function(a2, b) {
      if ("object" !== typeof a2 && "function" !== typeof a2 && null != a2) throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
      this.updater.enqueueSetState(this, a2, b, "setState");
    };
    E.prototype.forceUpdate = function(a2) {
      this.updater.enqueueForceUpdate(this, a2, "forceUpdate");
    };
    function F() {
    }
    F.prototype = E.prototype;
    function G(a2, b, e3) {
      this.props = a2;
      this.context = b;
      this.refs = D;
      this.updater = e3 || B;
    }
    var H = G.prototype = new F();
    H.constructor = G;
    C2(H, E.prototype);
    H.isPureReactComponent = true;
    var I2 = Array.isArray;
    var J = Object.prototype.hasOwnProperty;
    var K = { current: null };
    var L = { key: true, ref: true, __self: true, __source: true };
    function M(a2, b, e3) {
      var d4, c3 = {}, k = null, h2 = null;
      if (null != b) for (d4 in void 0 !== b.ref && (h2 = b.ref), void 0 !== b.key && (k = "" + b.key), b) J.call(b, d4) && !L.hasOwnProperty(d4) && (c3[d4] = b[d4]);
      var g = arguments.length - 2;
      if (1 === g) c3.children = e3;
      else if (1 < g) {
        for (var f3 = Array(g), m = 0; m < g; m++) f3[m] = arguments[m + 2];
        c3.children = f3;
      }
      if (a2 && a2.defaultProps) for (d4 in g = a2.defaultProps, g) void 0 === c3[d4] && (c3[d4] = g[d4]);
      return { $$typeof: l3, type: a2, key: k, ref: h2, props: c3, _owner: K.current };
    }
    function N(a2, b) {
      return { $$typeof: l3, type: a2.type, key: b, ref: a2.ref, props: a2.props, _owner: a2._owner };
    }
    function O(a2) {
      return "object" === typeof a2 && null !== a2 && a2.$$typeof === l3;
    }
    function escape(a2) {
      var b = { "=": "=0", ":": "=2" };
      return "$" + a2.replace(/[=:]/g, function(a3) {
        return b[a3];
      });
    }
    var P = /\/+/g;
    function Q2(a2, b) {
      return "object" === typeof a2 && null !== a2 && null != a2.key ? escape("" + a2.key) : b.toString(36);
    }
    function R(a2, b, e3, d4, c3) {
      var k = typeof a2;
      if ("undefined" === k || "boolean" === k) a2 = null;
      var h2 = false;
      if (null === a2) h2 = true;
      else switch (k) {
        case "string":
        case "number":
          h2 = true;
          break;
        case "object":
          switch (a2.$$typeof) {
            case l3:
            case n2:
              h2 = true;
          }
      }
      if (h2) return h2 = a2, c3 = c3(h2), a2 = "" === d4 ? "." + Q2(h2, 0) : d4, I2(c3) ? (e3 = "", null != a2 && (e3 = a2.replace(P, "$&/") + "/"), R(c3, b, e3, "", function(a3) {
        return a3;
      })) : null != c3 && (O(c3) && (c3 = N(c3, e3 + (!c3.key || h2 && h2.key === c3.key ? "" : ("" + c3.key).replace(P, "$&/") + "/") + a2)), b.push(c3)), 1;
      h2 = 0;
      d4 = "" === d4 ? "." : d4 + ":";
      if (I2(a2)) for (var g = 0; g < a2.length; g++) {
        k = a2[g];
        var f3 = d4 + Q2(k, g);
        h2 += R(k, b, e3, f3, c3);
      }
      else if (f3 = A(a2), "function" === typeof f3) for (a2 = f3.call(a2), g = 0; !(k = a2.next()).done; ) k = k.value, f3 = d4 + Q2(k, g++), h2 += R(k, b, e3, f3, c3);
      else if ("object" === k) throw b = String(a2), Error("Objects are not valid as a React child (found: " + ("[object Object]" === b ? "object with keys {" + Object.keys(a2).join(", ") + "}" : b) + "). If you meant to render a collection of children, use an array instead.");
      return h2;
    }
    function S(a2, b, e3) {
      if (null == a2) return a2;
      var d4 = [], c3 = 0;
      R(a2, d4, "", "", function(a3) {
        return b.call(e3, a3, c3++);
      });
      return d4;
    }
    function T(a2) {
      if (-1 === a2._status) {
        var b = a2._result;
        b = b();
        b.then(function(b2) {
          if (0 === a2._status || -1 === a2._status) a2._status = 1, a2._result = b2;
        }, function(b2) {
          if (0 === a2._status || -1 === a2._status) a2._status = 2, a2._result = b2;
        });
        -1 === a2._status && (a2._status = 0, a2._result = b);
      }
      if (1 === a2._status) return a2._result.default;
      throw a2._result;
    }
    var U = { current: null };
    var V = { transition: null };
    var W = { ReactCurrentDispatcher: U, ReactCurrentBatchConfig: V, ReactCurrentOwner: K };
    function X() {
      throw Error("act(...) is not supported in production builds of React.");
    }
    exports.Children = { map: S, forEach: function(a2, b, e3) {
      S(a2, function() {
        b.apply(this, arguments);
      }, e3);
    }, count: function(a2) {
      var b = 0;
      S(a2, function() {
        b++;
      });
      return b;
    }, toArray: function(a2) {
      return S(a2, function(a3) {
        return a3;
      }) || [];
    }, only: function(a2) {
      if (!O(a2)) throw Error("React.Children.only expected to receive a single React element child.");
      return a2;
    } };
    exports.Component = E;
    exports.Fragment = p3;
    exports.Profiler = r3;
    exports.PureComponent = G;
    exports.StrictMode = q;
    exports.Suspense = w;
    exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = W;
    exports.act = X;
    exports.cloneElement = function(a2, b, e3) {
      if (null === a2 || void 0 === a2) throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + a2 + ".");
      var d4 = C2({}, a2.props), c3 = a2.key, k = a2.ref, h2 = a2._owner;
      if (null != b) {
        void 0 !== b.ref && (k = b.ref, h2 = K.current);
        void 0 !== b.key && (c3 = "" + b.key);
        if (a2.type && a2.type.defaultProps) var g = a2.type.defaultProps;
        for (f3 in b) J.call(b, f3) && !L.hasOwnProperty(f3) && (d4[f3] = void 0 === b[f3] && void 0 !== g ? g[f3] : b[f3]);
      }
      var f3 = arguments.length - 2;
      if (1 === f3) d4.children = e3;
      else if (1 < f3) {
        g = Array(f3);
        for (var m = 0; m < f3; m++) g[m] = arguments[m + 2];
        d4.children = g;
      }
      return { $$typeof: l3, type: a2.type, key: c3, ref: k, props: d4, _owner: h2 };
    };
    exports.createContext = function(a2) {
      a2 = { $$typeof: u3, _currentValue: a2, _currentValue2: a2, _threadCount: 0, Provider: null, Consumer: null, _defaultValue: null, _globalName: null };
      a2.Provider = { $$typeof: t2, _context: a2 };
      return a2.Consumer = a2;
    };
    exports.createElement = M;
    exports.createFactory = function(a2) {
      var b = M.bind(null, a2);
      b.type = a2;
      return b;
    };
    exports.createRef = function() {
      return { current: null };
    };
    exports.forwardRef = function(a2) {
      return { $$typeof: v3, render: a2 };
    };
    exports.isValidElement = O;
    exports.lazy = function(a2) {
      return { $$typeof: y2, _payload: { _status: -1, _result: a2 }, _init: T };
    };
    exports.memo = function(a2, b) {
      return { $$typeof: x, type: a2, compare: void 0 === b ? null : b };
    };
    exports.startTransition = function(a2) {
      var b = V.transition;
      V.transition = {};
      try {
        a2();
      } finally {
        V.transition = b;
      }
    };
    exports.unstable_act = X;
    exports.useCallback = function(a2, b) {
      return U.current.useCallback(a2, b);
    };
    exports.useContext = function(a2) {
      return U.current.useContext(a2);
    };
    exports.useDebugValue = function() {
    };
    exports.useDeferredValue = function(a2) {
      return U.current.useDeferredValue(a2);
    };
    exports.useEffect = function(a2, b) {
      return U.current.useEffect(a2, b);
    };
    exports.useId = function() {
      return U.current.useId();
    };
    exports.useImperativeHandle = function(a2, b, e3) {
      return U.current.useImperativeHandle(a2, b, e3);
    };
    exports.useInsertionEffect = function(a2, b) {
      return U.current.useInsertionEffect(a2, b);
    };
    exports.useLayoutEffect = function(a2, b) {
      return U.current.useLayoutEffect(a2, b);
    };
    exports.useMemo = function(a2, b) {
      return U.current.useMemo(a2, b);
    };
    exports.useReducer = function(a2, b, e3) {
      return U.current.useReducer(a2, b, e3);
    };
    exports.useRef = function(a2) {
      return U.current.useRef(a2);
    };
    exports.useState = function(a2) {
      return U.current.useState(a2);
    };
    exports.useSyncExternalStore = function(a2, b, e3) {
      return U.current.useSyncExternalStore(a2, b, e3);
    };
    exports.useTransition = function() {
      return U.current.useTransition();
    };
    exports.version = "18.3.1";
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/index.js
var require_react = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/index.js"(exports, module) {
    "use strict";
    if (true) {
      module.exports = require_react_production_min();
    } else {
      module.exports = null;
    }
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/cjs/scheduler.production.min.js
var require_scheduler_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/cjs/scheduler.production.min.js"(exports) {
    "use strict";
    function f3(a2, b) {
      var c3 = a2.length;
      a2.push(b);
      a: for (; 0 < c3; ) {
        var d4 = c3 - 1 >>> 1, e3 = a2[d4];
        if (0 < g(e3, b)) a2[d4] = b, a2[c3] = e3, c3 = d4;
        else break a;
      }
    }
    function h2(a2) {
      return 0 === a2.length ? null : a2[0];
    }
    function k(a2) {
      if (0 === a2.length) return null;
      var b = a2[0], c3 = a2.pop();
      if (c3 !== b) {
        a2[0] = c3;
        a: for (var d4 = 0, e3 = a2.length, w = e3 >>> 1; d4 < w; ) {
          var m = 2 * (d4 + 1) - 1, C2 = a2[m], n2 = m + 1, x = a2[n2];
          if (0 > g(C2, c3)) n2 < e3 && 0 > g(x, C2) ? (a2[d4] = x, a2[n2] = c3, d4 = n2) : (a2[d4] = C2, a2[m] = c3, d4 = m);
          else if (n2 < e3 && 0 > g(x, c3)) a2[d4] = x, a2[n2] = c3, d4 = n2;
          else break a;
        }
      }
      return b;
    }
    function g(a2, b) {
      var c3 = a2.sortIndex - b.sortIndex;
      return 0 !== c3 ? c3 : a2.id - b.id;
    }
    if ("object" === typeof performance && "function" === typeof performance.now) {
      l3 = performance;
      exports.unstable_now = function() {
        return l3.now();
      };
    } else {
      p3 = Date, q = p3.now();
      exports.unstable_now = function() {
        return p3.now() - q;
      };
    }
    var l3;
    var p3;
    var q;
    var r3 = [];
    var t2 = [];
    var u3 = 1;
    var v3 = null;
    var y2 = 3;
    var z = false;
    var A = false;
    var B = false;
    var D = "function" === typeof setTimeout ? setTimeout : null;
    var E = "function" === typeof clearTimeout ? clearTimeout : null;
    var F = "undefined" !== typeof setImmediate ? setImmediate : null;
    "undefined" !== typeof navigator && void 0 !== navigator.scheduling && void 0 !== navigator.scheduling.isInputPending && navigator.scheduling.isInputPending.bind(navigator.scheduling);
    function G(a2) {
      for (var b = h2(t2); null !== b; ) {
        if (null === b.callback) k(t2);
        else if (b.startTime <= a2) k(t2), b.sortIndex = b.expirationTime, f3(r3, b);
        else break;
        b = h2(t2);
      }
    }
    function H(a2) {
      B = false;
      G(a2);
      if (!A) if (null !== h2(r3)) A = true, I2(J);
      else {
        var b = h2(t2);
        null !== b && K(H, b.startTime - a2);
      }
    }
    function J(a2, b) {
      A = false;
      B && (B = false, E(L), L = -1);
      z = true;
      var c3 = y2;
      try {
        G(b);
        for (v3 = h2(r3); null !== v3 && (!(v3.expirationTime > b) || a2 && !M()); ) {
          var d4 = v3.callback;
          if ("function" === typeof d4) {
            v3.callback = null;
            y2 = v3.priorityLevel;
            var e3 = d4(v3.expirationTime <= b);
            b = exports.unstable_now();
            "function" === typeof e3 ? v3.callback = e3 : v3 === h2(r3) && k(r3);
            G(b);
          } else k(r3);
          v3 = h2(r3);
        }
        if (null !== v3) var w = true;
        else {
          var m = h2(t2);
          null !== m && K(H, m.startTime - b);
          w = false;
        }
        return w;
      } finally {
        v3 = null, y2 = c3, z = false;
      }
    }
    var N = false;
    var O = null;
    var L = -1;
    var P = 5;
    var Q2 = -1;
    function M() {
      return exports.unstable_now() - Q2 < P ? false : true;
    }
    function R() {
      if (null !== O) {
        var a2 = exports.unstable_now();
        Q2 = a2;
        var b = true;
        try {
          b = O(true, a2);
        } finally {
          b ? S() : (N = false, O = null);
        }
      } else N = false;
    }
    var S;
    if ("function" === typeof F) S = function() {
      F(R);
    };
    else if ("undefined" !== typeof MessageChannel) {
      T = new MessageChannel(), U = T.port2;
      T.port1.onmessage = R;
      S = function() {
        U.postMessage(null);
      };
    } else S = function() {
      D(R, 0);
    };
    var T;
    var U;
    function I2(a2) {
      O = a2;
      N || (N = true, S());
    }
    function K(a2, b) {
      L = D(function() {
        a2(exports.unstable_now());
      }, b);
    }
    exports.unstable_IdlePriority = 5;
    exports.unstable_ImmediatePriority = 1;
    exports.unstable_LowPriority = 4;
    exports.unstable_NormalPriority = 3;
    exports.unstable_Profiling = null;
    exports.unstable_UserBlockingPriority = 2;
    exports.unstable_cancelCallback = function(a2) {
      a2.callback = null;
    };
    exports.unstable_continueExecution = function() {
      A || z || (A = true, I2(J));
    };
    exports.unstable_forceFrameRate = function(a2) {
      0 > a2 || 125 < a2 ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : P = 0 < a2 ? Math.floor(1e3 / a2) : 5;
    };
    exports.unstable_getCurrentPriorityLevel = function() {
      return y2;
    };
    exports.unstable_getFirstCallbackNode = function() {
      return h2(r3);
    };
    exports.unstable_next = function(a2) {
      switch (y2) {
        case 1:
        case 2:
        case 3:
          var b = 3;
          break;
        default:
          b = y2;
      }
      var c3 = y2;
      y2 = b;
      try {
        return a2();
      } finally {
        y2 = c3;
      }
    };
    exports.unstable_pauseExecution = function() {
    };
    exports.unstable_requestPaint = function() {
    };
    exports.unstable_runWithPriority = function(a2, b) {
      switch (a2) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
          break;
        default:
          a2 = 3;
      }
      var c3 = y2;
      y2 = a2;
      try {
        return b();
      } finally {
        y2 = c3;
      }
    };
    exports.unstable_scheduleCallback = function(a2, b, c3) {
      var d4 = exports.unstable_now();
      "object" === typeof c3 && null !== c3 ? (c3 = c3.delay, c3 = "number" === typeof c3 && 0 < c3 ? d4 + c3 : d4) : c3 = d4;
      switch (a2) {
        case 1:
          var e3 = -1;
          break;
        case 2:
          e3 = 250;
          break;
        case 5:
          e3 = 1073741823;
          break;
        case 4:
          e3 = 1e4;
          break;
        default:
          e3 = 5e3;
      }
      e3 = c3 + e3;
      a2 = { id: u3++, callback: b, priorityLevel: a2, startTime: c3, expirationTime: e3, sortIndex: -1 };
      c3 > d4 ? (a2.sortIndex = c3, f3(t2, a2), null === h2(r3) && a2 === h2(t2) && (B ? (E(L), L = -1) : B = true, K(H, c3 - d4))) : (a2.sortIndex = e3, f3(r3, a2), A || z || (A = true, I2(J)));
      return a2;
    };
    exports.unstable_shouldYield = M;
    exports.unstable_wrapCallback = function(a2) {
      var b = y2;
      return function() {
        var c3 = y2;
        y2 = b;
        try {
          return a2.apply(this, arguments);
        } finally {
          y2 = c3;
        }
      };
    };
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/index.js
var require_scheduler = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/index.js"(exports, module) {
    "use strict";
    if (true) {
      module.exports = require_scheduler_production_min();
    } else {
      module.exports = null;
    }
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js
var require_react_dom_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js"(exports) {
    "use strict";
    var aa = require_react();
    var ca = require_scheduler();
    function p3(a2) {
      for (var b = "https://reactjs.org/docs/error-decoder.html?invariant=" + a2, c3 = 1; c3 < arguments.length; c3++) b += "&args[]=" + encodeURIComponent(arguments[c3]);
      return "Minified React error #" + a2 + "; visit " + b + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";
    }
    var da = /* @__PURE__ */ new Set();
    var ea = {};
    function fa(a2, b) {
      ha(a2, b);
      ha(a2 + "Capture", b);
    }
    function ha(a2, b) {
      ea[a2] = b;
      for (a2 = 0; a2 < b.length; a2++) da.add(b[a2]);
    }
    var ia = !("undefined" === typeof window || "undefined" === typeof window.document || "undefined" === typeof window.document.createElement);
    var ja = Object.prototype.hasOwnProperty;
    var ka = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/;
    var la = {};
    var ma = {};
    function oa(a2) {
      if (ja.call(ma, a2)) return true;
      if (ja.call(la, a2)) return false;
      if (ka.test(a2)) return ma[a2] = true;
      la[a2] = true;
      return false;
    }
    function pa(a2, b, c3, d4) {
      if (null !== c3 && 0 === c3.type) return false;
      switch (typeof b) {
        case "function":
        case "symbol":
          return true;
        case "boolean":
          if (d4) return false;
          if (null !== c3) return !c3.acceptsBooleans;
          a2 = a2.toLowerCase().slice(0, 5);
          return "data-" !== a2 && "aria-" !== a2;
        default:
          return false;
      }
    }
    function qa(a2, b, c3, d4) {
      if (null === b || "undefined" === typeof b || pa(a2, b, c3, d4)) return true;
      if (d4) return false;
      if (null !== c3) switch (c3.type) {
        case 3:
          return !b;
        case 4:
          return false === b;
        case 5:
          return isNaN(b);
        case 6:
          return isNaN(b) || 1 > b;
      }
      return false;
    }
    function v3(a2, b, c3, d4, e3, f3, g) {
      this.acceptsBooleans = 2 === b || 3 === b || 4 === b;
      this.attributeName = d4;
      this.attributeNamespace = e3;
      this.mustUseProperty = c3;
      this.propertyName = a2;
      this.type = b;
      this.sanitizeURL = f3;
      this.removeEmptyString = g;
    }
    var z = {};
    "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a2) {
      z[a2] = new v3(a2, 0, false, a2, null, false, false);
    });
    [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(a2) {
      var b = a2[0];
      z[b] = new v3(b, 1, false, a2[1], null, false, false);
    });
    ["contentEditable", "draggable", "spellCheck", "value"].forEach(function(a2) {
      z[a2] = new v3(a2, 2, false, a2.toLowerCase(), null, false, false);
    });
    ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(a2) {
      z[a2] = new v3(a2, 2, false, a2, null, false, false);
    });
    "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a2) {
      z[a2] = new v3(a2, 3, false, a2.toLowerCase(), null, false, false);
    });
    ["checked", "multiple", "muted", "selected"].forEach(function(a2) {
      z[a2] = new v3(a2, 3, true, a2, null, false, false);
    });
    ["capture", "download"].forEach(function(a2) {
      z[a2] = new v3(a2, 4, false, a2, null, false, false);
    });
    ["cols", "rows", "size", "span"].forEach(function(a2) {
      z[a2] = new v3(a2, 6, false, a2, null, false, false);
    });
    ["rowSpan", "start"].forEach(function(a2) {
      z[a2] = new v3(a2, 5, false, a2.toLowerCase(), null, false, false);
    });
    var ra = /[\-:]([a-z])/g;
    function sa(a2) {
      return a2[1].toUpperCase();
    }
    "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a2) {
      var b = a2.replace(
        ra,
        sa
      );
      z[b] = new v3(b, 1, false, a2, null, false, false);
    });
    "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a2) {
      var b = a2.replace(ra, sa);
      z[b] = new v3(b, 1, false, a2, "http://www.w3.org/1999/xlink", false, false);
    });
    ["xml:base", "xml:lang", "xml:space"].forEach(function(a2) {
      var b = a2.replace(ra, sa);
      z[b] = new v3(b, 1, false, a2, "http://www.w3.org/XML/1998/namespace", false, false);
    });
    ["tabIndex", "crossOrigin"].forEach(function(a2) {
      z[a2] = new v3(a2, 1, false, a2.toLowerCase(), null, false, false);
    });
    z.xlinkHref = new v3("xlinkHref", 1, false, "xlink:href", "http://www.w3.org/1999/xlink", true, false);
    ["src", "href", "action", "formAction"].forEach(function(a2) {
      z[a2] = new v3(a2, 1, false, a2.toLowerCase(), null, true, true);
    });
    function ta(a2, b, c3, d4) {
      var e3 = z.hasOwnProperty(b) ? z[b] : null;
      if (null !== e3 ? 0 !== e3.type : d4 || !(2 < b.length) || "o" !== b[0] && "O" !== b[0] || "n" !== b[1] && "N" !== b[1]) qa(b, c3, e3, d4) && (c3 = null), d4 || null === e3 ? oa(b) && (null === c3 ? a2.removeAttribute(b) : a2.setAttribute(b, "" + c3)) : e3.mustUseProperty ? a2[e3.propertyName] = null === c3 ? 3 === e3.type ? false : "" : c3 : (b = e3.attributeName, d4 = e3.attributeNamespace, null === c3 ? a2.removeAttribute(b) : (e3 = e3.type, c3 = 3 === e3 || 4 === e3 && true === c3 ? "" : "" + c3, d4 ? a2.setAttributeNS(d4, b, c3) : a2.setAttribute(b, c3)));
    }
    var ua = aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    var va = Symbol.for("react.element");
    var wa = Symbol.for("react.portal");
    var ya = Symbol.for("react.fragment");
    var za = Symbol.for("react.strict_mode");
    var Aa = Symbol.for("react.profiler");
    var Ba = Symbol.for("react.provider");
    var Ca = Symbol.for("react.context");
    var Da = Symbol.for("react.forward_ref");
    var Ea = Symbol.for("react.suspense");
    var Fa = Symbol.for("react.suspense_list");
    var Ga = Symbol.for("react.memo");
    var Ha = Symbol.for("react.lazy");
    Symbol.for("react.scope");
    Symbol.for("react.debug_trace_mode");
    var Ia = Symbol.for("react.offscreen");
    Symbol.for("react.legacy_hidden");
    Symbol.for("react.cache");
    Symbol.for("react.tracing_marker");
    var Ja = Symbol.iterator;
    function Ka(a2) {
      if (null === a2 || "object" !== typeof a2) return null;
      a2 = Ja && a2[Ja] || a2["@@iterator"];
      return "function" === typeof a2 ? a2 : null;
    }
    var A = Object.assign;
    var La;
    function Ma(a2) {
      if (void 0 === La) try {
        throw Error();
      } catch (c3) {
        var b = c3.stack.trim().match(/\n( *(at )?)/);
        La = b && b[1] || "";
      }
      return "\n" + La + a2;
    }
    var Na = false;
    function Oa(a2, b) {
      if (!a2 || Na) return "";
      Na = true;
      var c3 = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      try {
        if (b) if (b = function() {
          throw Error();
        }, Object.defineProperty(b.prototype, "props", { set: function() {
          throw Error();
        } }), "object" === typeof Reflect && Reflect.construct) {
          try {
            Reflect.construct(b, []);
          } catch (l3) {
            var d4 = l3;
          }
          Reflect.construct(a2, [], b);
        } else {
          try {
            b.call();
          } catch (l3) {
            d4 = l3;
          }
          a2.call(b.prototype);
        }
        else {
          try {
            throw Error();
          } catch (l3) {
            d4 = l3;
          }
          a2();
        }
      } catch (l3) {
        if (l3 && d4 && "string" === typeof l3.stack) {
          for (var e3 = l3.stack.split("\n"), f3 = d4.stack.split("\n"), g = e3.length - 1, h2 = f3.length - 1; 1 <= g && 0 <= h2 && e3[g] !== f3[h2]; ) h2--;
          for (; 1 <= g && 0 <= h2; g--, h2--) if (e3[g] !== f3[h2]) {
            if (1 !== g || 1 !== h2) {
              do
                if (g--, h2--, 0 > h2 || e3[g] !== f3[h2]) {
                  var k = "\n" + e3[g].replace(" at new ", " at ");
                  a2.displayName && k.includes("<anonymous>") && (k = k.replace("<anonymous>", a2.displayName));
                  return k;
                }
              while (1 <= g && 0 <= h2);
            }
            break;
          }
        }
      } finally {
        Na = false, Error.prepareStackTrace = c3;
      }
      return (a2 = a2 ? a2.displayName || a2.name : "") ? Ma(a2) : "";
    }
    function Pa(a2) {
      switch (a2.tag) {
        case 5:
          return Ma(a2.type);
        case 16:
          return Ma("Lazy");
        case 13:
          return Ma("Suspense");
        case 19:
          return Ma("SuspenseList");
        case 0:
        case 2:
        case 15:
          return a2 = Oa(a2.type, false), a2;
        case 11:
          return a2 = Oa(a2.type.render, false), a2;
        case 1:
          return a2 = Oa(a2.type, true), a2;
        default:
          return "";
      }
    }
    function Qa(a2) {
      if (null == a2) return null;
      if ("function" === typeof a2) return a2.displayName || a2.name || null;
      if ("string" === typeof a2) return a2;
      switch (a2) {
        case ya:
          return "Fragment";
        case wa:
          return "Portal";
        case Aa:
          return "Profiler";
        case za:
          return "StrictMode";
        case Ea:
          return "Suspense";
        case Fa:
          return "SuspenseList";
      }
      if ("object" === typeof a2) switch (a2.$$typeof) {
        case Ca:
          return (a2.displayName || "Context") + ".Consumer";
        case Ba:
          return (a2._context.displayName || "Context") + ".Provider";
        case Da:
          var b = a2.render;
          a2 = a2.displayName;
          a2 || (a2 = b.displayName || b.name || "", a2 = "" !== a2 ? "ForwardRef(" + a2 + ")" : "ForwardRef");
          return a2;
        case Ga:
          return b = a2.displayName || null, null !== b ? b : Qa(a2.type) || "Memo";
        case Ha:
          b = a2._payload;
          a2 = a2._init;
          try {
            return Qa(a2(b));
          } catch (c3) {
          }
      }
      return null;
    }
    function Ra(a2) {
      var b = a2.type;
      switch (a2.tag) {
        case 24:
          return "Cache";
        case 9:
          return (b.displayName || "Context") + ".Consumer";
        case 10:
          return (b._context.displayName || "Context") + ".Provider";
        case 18:
          return "DehydratedFragment";
        case 11:
          return a2 = b.render, a2 = a2.displayName || a2.name || "", b.displayName || ("" !== a2 ? "ForwardRef(" + a2 + ")" : "ForwardRef");
        case 7:
          return "Fragment";
        case 5:
          return b;
        case 4:
          return "Portal";
        case 3:
          return "Root";
        case 6:
          return "Text";
        case 16:
          return Qa(b);
        case 8:
          return b === za ? "StrictMode" : "Mode";
        case 22:
          return "Offscreen";
        case 12:
          return "Profiler";
        case 21:
          return "Scope";
        case 13:
          return "Suspense";
        case 19:
          return "SuspenseList";
        case 25:
          return "TracingMarker";
        case 1:
        case 0:
        case 17:
        case 2:
        case 14:
        case 15:
          if ("function" === typeof b) return b.displayName || b.name || null;
          if ("string" === typeof b) return b;
      }
      return null;
    }
    function Sa(a2) {
      switch (typeof a2) {
        case "boolean":
        case "number":
        case "string":
        case "undefined":
          return a2;
        case "object":
          return a2;
        default:
          return "";
      }
    }
    function Ta(a2) {
      var b = a2.type;
      return (a2 = a2.nodeName) && "input" === a2.toLowerCase() && ("checkbox" === b || "radio" === b);
    }
    function Ua(a2) {
      var b = Ta(a2) ? "checked" : "value", c3 = Object.getOwnPropertyDescriptor(a2.constructor.prototype, b), d4 = "" + a2[b];
      if (!a2.hasOwnProperty(b) && "undefined" !== typeof c3 && "function" === typeof c3.get && "function" === typeof c3.set) {
        var e3 = c3.get, f3 = c3.set;
        Object.defineProperty(a2, b, { configurable: true, get: function() {
          return e3.call(this);
        }, set: function(a3) {
          d4 = "" + a3;
          f3.call(this, a3);
        } });
        Object.defineProperty(a2, b, { enumerable: c3.enumerable });
        return { getValue: function() {
          return d4;
        }, setValue: function(a3) {
          d4 = "" + a3;
        }, stopTracking: function() {
          a2._valueTracker = null;
          delete a2[b];
        } };
      }
    }
    function Va(a2) {
      a2._valueTracker || (a2._valueTracker = Ua(a2));
    }
    function Wa(a2) {
      if (!a2) return false;
      var b = a2._valueTracker;
      if (!b) return true;
      var c3 = b.getValue();
      var d4 = "";
      a2 && (d4 = Ta(a2) ? a2.checked ? "true" : "false" : a2.value);
      a2 = d4;
      return a2 !== c3 ? (b.setValue(a2), true) : false;
    }
    function Xa(a2) {
      a2 = a2 || ("undefined" !== typeof document ? document : void 0);
      if ("undefined" === typeof a2) return null;
      try {
        return a2.activeElement || a2.body;
      } catch (b) {
        return a2.body;
      }
    }
    function Ya(a2, b) {
      var c3 = b.checked;
      return A({}, b, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: null != c3 ? c3 : a2._wrapperState.initialChecked });
    }
    function Za(a2, b) {
      var c3 = null == b.defaultValue ? "" : b.defaultValue, d4 = null != b.checked ? b.checked : b.defaultChecked;
      c3 = Sa(null != b.value ? b.value : c3);
      a2._wrapperState = { initialChecked: d4, initialValue: c3, controlled: "checkbox" === b.type || "radio" === b.type ? null != b.checked : null != b.value };
    }
    function ab(a2, b) {
      b = b.checked;
      null != b && ta(a2, "checked", b, false);
    }
    function bb(a2, b) {
      ab(a2, b);
      var c3 = Sa(b.value), d4 = b.type;
      if (null != c3) if ("number" === d4) {
        if (0 === c3 && "" === a2.value || a2.value != c3) a2.value = "" + c3;
      } else a2.value !== "" + c3 && (a2.value = "" + c3);
      else if ("submit" === d4 || "reset" === d4) {
        a2.removeAttribute("value");
        return;
      }
      b.hasOwnProperty("value") ? cb(a2, b.type, c3) : b.hasOwnProperty("defaultValue") && cb(a2, b.type, Sa(b.defaultValue));
      null == b.checked && null != b.defaultChecked && (a2.defaultChecked = !!b.defaultChecked);
    }
    function db(a2, b, c3) {
      if (b.hasOwnProperty("value") || b.hasOwnProperty("defaultValue")) {
        var d4 = b.type;
        if (!("submit" !== d4 && "reset" !== d4 || void 0 !== b.value && null !== b.value)) return;
        b = "" + a2._wrapperState.initialValue;
        c3 || b === a2.value || (a2.value = b);
        a2.defaultValue = b;
      }
      c3 = a2.name;
      "" !== c3 && (a2.name = "");
      a2.defaultChecked = !!a2._wrapperState.initialChecked;
      "" !== c3 && (a2.name = c3);
    }
    function cb(a2, b, c3) {
      if ("number" !== b || Xa(a2.ownerDocument) !== a2) null == c3 ? a2.defaultValue = "" + a2._wrapperState.initialValue : a2.defaultValue !== "" + c3 && (a2.defaultValue = "" + c3);
    }
    var eb = Array.isArray;
    function fb(a2, b, c3, d4) {
      a2 = a2.options;
      if (b) {
        b = {};
        for (var e3 = 0; e3 < c3.length; e3++) b["$" + c3[e3]] = true;
        for (c3 = 0; c3 < a2.length; c3++) e3 = b.hasOwnProperty("$" + a2[c3].value), a2[c3].selected !== e3 && (a2[c3].selected = e3), e3 && d4 && (a2[c3].defaultSelected = true);
      } else {
        c3 = "" + Sa(c3);
        b = null;
        for (e3 = 0; e3 < a2.length; e3++) {
          if (a2[e3].value === c3) {
            a2[e3].selected = true;
            d4 && (a2[e3].defaultSelected = true);
            return;
          }
          null !== b || a2[e3].disabled || (b = a2[e3]);
        }
        null !== b && (b.selected = true);
      }
    }
    function gb(a2, b) {
      if (null != b.dangerouslySetInnerHTML) throw Error(p3(91));
      return A({}, b, { value: void 0, defaultValue: void 0, children: "" + a2._wrapperState.initialValue });
    }
    function hb(a2, b) {
      var c3 = b.value;
      if (null == c3) {
        c3 = b.children;
        b = b.defaultValue;
        if (null != c3) {
          if (null != b) throw Error(p3(92));
          if (eb(c3)) {
            if (1 < c3.length) throw Error(p3(93));
            c3 = c3[0];
          }
          b = c3;
        }
        null == b && (b = "");
        c3 = b;
      }
      a2._wrapperState = { initialValue: Sa(c3) };
    }
    function ib(a2, b) {
      var c3 = Sa(b.value), d4 = Sa(b.defaultValue);
      null != c3 && (c3 = "" + c3, c3 !== a2.value && (a2.value = c3), null == b.defaultValue && a2.defaultValue !== c3 && (a2.defaultValue = c3));
      null != d4 && (a2.defaultValue = "" + d4);
    }
    function jb(a2) {
      var b = a2.textContent;
      b === a2._wrapperState.initialValue && "" !== b && null !== b && (a2.value = b);
    }
    function kb(a2) {
      switch (a2) {
        case "svg":
          return "http://www.w3.org/2000/svg";
        case "math":
          return "http://www.w3.org/1998/Math/MathML";
        default:
          return "http://www.w3.org/1999/xhtml";
      }
    }
    function lb(a2, b) {
      return null == a2 || "http://www.w3.org/1999/xhtml" === a2 ? kb(b) : "http://www.w3.org/2000/svg" === a2 && "foreignObject" === b ? "http://www.w3.org/1999/xhtml" : a2;
    }
    var mb;
    var nb = function(a2) {
      return "undefined" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function(b, c3, d4, e3) {
        MSApp.execUnsafeLocalFunction(function() {
          return a2(b, c3, d4, e3);
        });
      } : a2;
    }(function(a2, b) {
      if ("http://www.w3.org/2000/svg" !== a2.namespaceURI || "innerHTML" in a2) a2.innerHTML = b;
      else {
        mb = mb || document.createElement("div");
        mb.innerHTML = "<svg>" + b.valueOf().toString() + "</svg>";
        for (b = mb.firstChild; a2.firstChild; ) a2.removeChild(a2.firstChild);
        for (; b.firstChild; ) a2.appendChild(b.firstChild);
      }
    });
    function ob(a2, b) {
      if (b) {
        var c3 = a2.firstChild;
        if (c3 && c3 === a2.lastChild && 3 === c3.nodeType) {
          c3.nodeValue = b;
          return;
        }
      }
      a2.textContent = b;
    }
    var pb = {
      animationIterationCount: true,
      aspectRatio: true,
      borderImageOutset: true,
      borderImageSlice: true,
      borderImageWidth: true,
      boxFlex: true,
      boxFlexGroup: true,
      boxOrdinalGroup: true,
      columnCount: true,
      columns: true,
      flex: true,
      flexGrow: true,
      flexPositive: true,
      flexShrink: true,
      flexNegative: true,
      flexOrder: true,
      gridArea: true,
      gridRow: true,
      gridRowEnd: true,
      gridRowSpan: true,
      gridRowStart: true,
      gridColumn: true,
      gridColumnEnd: true,
      gridColumnSpan: true,
      gridColumnStart: true,
      fontWeight: true,
      lineClamp: true,
      lineHeight: true,
      opacity: true,
      order: true,
      orphans: true,
      tabSize: true,
      widows: true,
      zIndex: true,
      zoom: true,
      fillOpacity: true,
      floodOpacity: true,
      stopOpacity: true,
      strokeDasharray: true,
      strokeDashoffset: true,
      strokeMiterlimit: true,
      strokeOpacity: true,
      strokeWidth: true
    };
    var qb = ["Webkit", "ms", "Moz", "O"];
    Object.keys(pb).forEach(function(a2) {
      qb.forEach(function(b) {
        b = b + a2.charAt(0).toUpperCase() + a2.substring(1);
        pb[b] = pb[a2];
      });
    });
    function rb(a2, b, c3) {
      return null == b || "boolean" === typeof b || "" === b ? "" : c3 || "number" !== typeof b || 0 === b || pb.hasOwnProperty(a2) && pb[a2] ? ("" + b).trim() : b + "px";
    }
    function sb(a2, b) {
      a2 = a2.style;
      for (var c3 in b) if (b.hasOwnProperty(c3)) {
        var d4 = 0 === c3.indexOf("--"), e3 = rb(c3, b[c3], d4);
        "float" === c3 && (c3 = "cssFloat");
        d4 ? a2.setProperty(c3, e3) : a2[c3] = e3;
      }
    }
    var tb = A({ menuitem: true }, { area: true, base: true, br: true, col: true, embed: true, hr: true, img: true, input: true, keygen: true, link: true, meta: true, param: true, source: true, track: true, wbr: true });
    function ub(a2, b) {
      if (b) {
        if (tb[a2] && (null != b.children || null != b.dangerouslySetInnerHTML)) throw Error(p3(137, a2));
        if (null != b.dangerouslySetInnerHTML) {
          if (null != b.children) throw Error(p3(60));
          if ("object" !== typeof b.dangerouslySetInnerHTML || !("__html" in b.dangerouslySetInnerHTML)) throw Error(p3(61));
        }
        if (null != b.style && "object" !== typeof b.style) throw Error(p3(62));
      }
    }
    function vb(a2, b) {
      if (-1 === a2.indexOf("-")) return "string" === typeof b.is;
      switch (a2) {
        case "annotation-xml":
        case "color-profile":
        case "font-face":
        case "font-face-src":
        case "font-face-uri":
        case "font-face-format":
        case "font-face-name":
        case "missing-glyph":
          return false;
        default:
          return true;
      }
    }
    var wb = null;
    function xb(a2) {
      a2 = a2.target || a2.srcElement || window;
      a2.correspondingUseElement && (a2 = a2.correspondingUseElement);
      return 3 === a2.nodeType ? a2.parentNode : a2;
    }
    var yb = null;
    var zb = null;
    var Ab = null;
    function Bb(a2) {
      if (a2 = Cb(a2)) {
        if ("function" !== typeof yb) throw Error(p3(280));
        var b = a2.stateNode;
        b && (b = Db(b), yb(a2.stateNode, a2.type, b));
      }
    }
    function Eb(a2) {
      zb ? Ab ? Ab.push(a2) : Ab = [a2] : zb = a2;
    }
    function Fb() {
      if (zb) {
        var a2 = zb, b = Ab;
        Ab = zb = null;
        Bb(a2);
        if (b) for (a2 = 0; a2 < b.length; a2++) Bb(b[a2]);
      }
    }
    function Gb(a2, b) {
      return a2(b);
    }
    function Hb() {
    }
    var Ib = false;
    function Jb(a2, b, c3) {
      if (Ib) return a2(b, c3);
      Ib = true;
      try {
        return Gb(a2, b, c3);
      } finally {
        if (Ib = false, null !== zb || null !== Ab) Hb(), Fb();
      }
    }
    function Kb(a2, b) {
      var c3 = a2.stateNode;
      if (null === c3) return null;
      var d4 = Db(c3);
      if (null === d4) return null;
      c3 = d4[b];
      a: switch (b) {
        case "onClick":
        case "onClickCapture":
        case "onDoubleClick":
        case "onDoubleClickCapture":
        case "onMouseDown":
        case "onMouseDownCapture":
        case "onMouseMove":
        case "onMouseMoveCapture":
        case "onMouseUp":
        case "onMouseUpCapture":
        case "onMouseEnter":
          (d4 = !d4.disabled) || (a2 = a2.type, d4 = !("button" === a2 || "input" === a2 || "select" === a2 || "textarea" === a2));
          a2 = !d4;
          break a;
        default:
          a2 = false;
      }
      if (a2) return null;
      if (c3 && "function" !== typeof c3) throw Error(p3(231, b, typeof c3));
      return c3;
    }
    var Lb = false;
    if (ia) try {
      Mb = {};
      Object.defineProperty(Mb, "passive", { get: function() {
        Lb = true;
      } });
      window.addEventListener("test", Mb, Mb);
      window.removeEventListener("test", Mb, Mb);
    } catch (a2) {
      Lb = false;
    }
    var Mb;
    function Nb(a2, b, c3, d4, e3, f3, g, h2, k) {
      var l3 = Array.prototype.slice.call(arguments, 3);
      try {
        b.apply(c3, l3);
      } catch (m) {
        this.onError(m);
      }
    }
    var Ob = false;
    var Pb = null;
    var Qb = false;
    var Rb = null;
    var Sb = { onError: function(a2) {
      Ob = true;
      Pb = a2;
    } };
    function Tb(a2, b, c3, d4, e3, f3, g, h2, k) {
      Ob = false;
      Pb = null;
      Nb.apply(Sb, arguments);
    }
    function Ub(a2, b, c3, d4, e3, f3, g, h2, k) {
      Tb.apply(this, arguments);
      if (Ob) {
        if (Ob) {
          var l3 = Pb;
          Ob = false;
          Pb = null;
        } else throw Error(p3(198));
        Qb || (Qb = true, Rb = l3);
      }
    }
    function Vb(a2) {
      var b = a2, c3 = a2;
      if (a2.alternate) for (; b.return; ) b = b.return;
      else {
        a2 = b;
        do
          b = a2, 0 !== (b.flags & 4098) && (c3 = b.return), a2 = b.return;
        while (a2);
      }
      return 3 === b.tag ? c3 : null;
    }
    function Wb(a2) {
      if (13 === a2.tag) {
        var b = a2.memoizedState;
        null === b && (a2 = a2.alternate, null !== a2 && (b = a2.memoizedState));
        if (null !== b) return b.dehydrated;
      }
      return null;
    }
    function Xb(a2) {
      if (Vb(a2) !== a2) throw Error(p3(188));
    }
    function Yb(a2) {
      var b = a2.alternate;
      if (!b) {
        b = Vb(a2);
        if (null === b) throw Error(p3(188));
        return b !== a2 ? null : a2;
      }
      for (var c3 = a2, d4 = b; ; ) {
        var e3 = c3.return;
        if (null === e3) break;
        var f3 = e3.alternate;
        if (null === f3) {
          d4 = e3.return;
          if (null !== d4) {
            c3 = d4;
            continue;
          }
          break;
        }
        if (e3.child === f3.child) {
          for (f3 = e3.child; f3; ) {
            if (f3 === c3) return Xb(e3), a2;
            if (f3 === d4) return Xb(e3), b;
            f3 = f3.sibling;
          }
          throw Error(p3(188));
        }
        if (c3.return !== d4.return) c3 = e3, d4 = f3;
        else {
          for (var g = false, h2 = e3.child; h2; ) {
            if (h2 === c3) {
              g = true;
              c3 = e3;
              d4 = f3;
              break;
            }
            if (h2 === d4) {
              g = true;
              d4 = e3;
              c3 = f3;
              break;
            }
            h2 = h2.sibling;
          }
          if (!g) {
            for (h2 = f3.child; h2; ) {
              if (h2 === c3) {
                g = true;
                c3 = f3;
                d4 = e3;
                break;
              }
              if (h2 === d4) {
                g = true;
                d4 = f3;
                c3 = e3;
                break;
              }
              h2 = h2.sibling;
            }
            if (!g) throw Error(p3(189));
          }
        }
        if (c3.alternate !== d4) throw Error(p3(190));
      }
      if (3 !== c3.tag) throw Error(p3(188));
      return c3.stateNode.current === c3 ? a2 : b;
    }
    function Zb(a2) {
      a2 = Yb(a2);
      return null !== a2 ? $b(a2) : null;
    }
    function $b(a2) {
      if (5 === a2.tag || 6 === a2.tag) return a2;
      for (a2 = a2.child; null !== a2; ) {
        var b = $b(a2);
        if (null !== b) return b;
        a2 = a2.sibling;
      }
      return null;
    }
    var ac = ca.unstable_scheduleCallback;
    var bc = ca.unstable_cancelCallback;
    var cc = ca.unstable_shouldYield;
    var dc = ca.unstable_requestPaint;
    var B = ca.unstable_now;
    var ec = ca.unstable_getCurrentPriorityLevel;
    var fc = ca.unstable_ImmediatePriority;
    var gc = ca.unstable_UserBlockingPriority;
    var hc = ca.unstable_NormalPriority;
    var ic = ca.unstable_LowPriority;
    var jc = ca.unstable_IdlePriority;
    var kc = null;
    var lc = null;
    function mc(a2) {
      if (lc && "function" === typeof lc.onCommitFiberRoot) try {
        lc.onCommitFiberRoot(kc, a2, void 0, 128 === (a2.current.flags & 128));
      } catch (b) {
      }
    }
    var oc = Math.clz32 ? Math.clz32 : nc;
    var pc = Math.log;
    var qc = Math.LN2;
    function nc(a2) {
      a2 >>>= 0;
      return 0 === a2 ? 32 : 31 - (pc(a2) / qc | 0) | 0;
    }
    var rc = 64;
    var sc = 4194304;
    function tc(a2) {
      switch (a2 & -a2) {
        case 1:
          return 1;
        case 2:
          return 2;
        case 4:
          return 4;
        case 8:
          return 8;
        case 16:
          return 16;
        case 32:
          return 32;
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
          return a2 & 4194240;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          return a2 & 130023424;
        case 134217728:
          return 134217728;
        case 268435456:
          return 268435456;
        case 536870912:
          return 536870912;
        case 1073741824:
          return 1073741824;
        default:
          return a2;
      }
    }
    function uc(a2, b) {
      var c3 = a2.pendingLanes;
      if (0 === c3) return 0;
      var d4 = 0, e3 = a2.suspendedLanes, f3 = a2.pingedLanes, g = c3 & 268435455;
      if (0 !== g) {
        var h2 = g & ~e3;
        0 !== h2 ? d4 = tc(h2) : (f3 &= g, 0 !== f3 && (d4 = tc(f3)));
      } else g = c3 & ~e3, 0 !== g ? d4 = tc(g) : 0 !== f3 && (d4 = tc(f3));
      if (0 === d4) return 0;
      if (0 !== b && b !== d4 && 0 === (b & e3) && (e3 = d4 & -d4, f3 = b & -b, e3 >= f3 || 16 === e3 && 0 !== (f3 & 4194240))) return b;
      0 !== (d4 & 4) && (d4 |= c3 & 16);
      b = a2.entangledLanes;
      if (0 !== b) for (a2 = a2.entanglements, b &= d4; 0 < b; ) c3 = 31 - oc(b), e3 = 1 << c3, d4 |= a2[c3], b &= ~e3;
      return d4;
    }
    function vc(a2, b) {
      switch (a2) {
        case 1:
        case 2:
        case 4:
          return b + 250;
        case 8:
        case 16:
        case 32:
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
          return b + 5e3;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          return -1;
        case 134217728:
        case 268435456:
        case 536870912:
        case 1073741824:
          return -1;
        default:
          return -1;
      }
    }
    function wc(a2, b) {
      for (var c3 = a2.suspendedLanes, d4 = a2.pingedLanes, e3 = a2.expirationTimes, f3 = a2.pendingLanes; 0 < f3; ) {
        var g = 31 - oc(f3), h2 = 1 << g, k = e3[g];
        if (-1 === k) {
          if (0 === (h2 & c3) || 0 !== (h2 & d4)) e3[g] = vc(h2, b);
        } else k <= b && (a2.expiredLanes |= h2);
        f3 &= ~h2;
      }
    }
    function xc(a2) {
      a2 = a2.pendingLanes & -1073741825;
      return 0 !== a2 ? a2 : a2 & 1073741824 ? 1073741824 : 0;
    }
    function yc() {
      var a2 = rc;
      rc <<= 1;
      0 === (rc & 4194240) && (rc = 64);
      return a2;
    }
    function zc(a2) {
      for (var b = [], c3 = 0; 31 > c3; c3++) b.push(a2);
      return b;
    }
    function Ac(a2, b, c3) {
      a2.pendingLanes |= b;
      536870912 !== b && (a2.suspendedLanes = 0, a2.pingedLanes = 0);
      a2 = a2.eventTimes;
      b = 31 - oc(b);
      a2[b] = c3;
    }
    function Bc(a2, b) {
      var c3 = a2.pendingLanes & ~b;
      a2.pendingLanes = b;
      a2.suspendedLanes = 0;
      a2.pingedLanes = 0;
      a2.expiredLanes &= b;
      a2.mutableReadLanes &= b;
      a2.entangledLanes &= b;
      b = a2.entanglements;
      var d4 = a2.eventTimes;
      for (a2 = a2.expirationTimes; 0 < c3; ) {
        var e3 = 31 - oc(c3), f3 = 1 << e3;
        b[e3] = 0;
        d4[e3] = -1;
        a2[e3] = -1;
        c3 &= ~f3;
      }
    }
    function Cc(a2, b) {
      var c3 = a2.entangledLanes |= b;
      for (a2 = a2.entanglements; c3; ) {
        var d4 = 31 - oc(c3), e3 = 1 << d4;
        e3 & b | a2[d4] & b && (a2[d4] |= b);
        c3 &= ~e3;
      }
    }
    var C2 = 0;
    function Dc(a2) {
      a2 &= -a2;
      return 1 < a2 ? 4 < a2 ? 0 !== (a2 & 268435455) ? 16 : 536870912 : 4 : 1;
    }
    var Ec;
    var Fc;
    var Gc;
    var Hc;
    var Ic;
    var Jc = false;
    var Kc = [];
    var Lc = null;
    var Mc = null;
    var Nc = null;
    var Oc = /* @__PURE__ */ new Map();
    var Pc = /* @__PURE__ */ new Map();
    var Qc = [];
    var Rc = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
    function Sc(a2, b) {
      switch (a2) {
        case "focusin":
        case "focusout":
          Lc = null;
          break;
        case "dragenter":
        case "dragleave":
          Mc = null;
          break;
        case "mouseover":
        case "mouseout":
          Nc = null;
          break;
        case "pointerover":
        case "pointerout":
          Oc.delete(b.pointerId);
          break;
        case "gotpointercapture":
        case "lostpointercapture":
          Pc.delete(b.pointerId);
      }
    }
    function Tc(a2, b, c3, d4, e3, f3) {
      if (null === a2 || a2.nativeEvent !== f3) return a2 = { blockedOn: b, domEventName: c3, eventSystemFlags: d4, nativeEvent: f3, targetContainers: [e3] }, null !== b && (b = Cb(b), null !== b && Fc(b)), a2;
      a2.eventSystemFlags |= d4;
      b = a2.targetContainers;
      null !== e3 && -1 === b.indexOf(e3) && b.push(e3);
      return a2;
    }
    function Uc(a2, b, c3, d4, e3) {
      switch (b) {
        case "focusin":
          return Lc = Tc(Lc, a2, b, c3, d4, e3), true;
        case "dragenter":
          return Mc = Tc(Mc, a2, b, c3, d4, e3), true;
        case "mouseover":
          return Nc = Tc(Nc, a2, b, c3, d4, e3), true;
        case "pointerover":
          var f3 = e3.pointerId;
          Oc.set(f3, Tc(Oc.get(f3) || null, a2, b, c3, d4, e3));
          return true;
        case "gotpointercapture":
          return f3 = e3.pointerId, Pc.set(f3, Tc(Pc.get(f3) || null, a2, b, c3, d4, e3)), true;
      }
      return false;
    }
    function Vc(a2) {
      var b = Wc(a2.target);
      if (null !== b) {
        var c3 = Vb(b);
        if (null !== c3) {
          if (b = c3.tag, 13 === b) {
            if (b = Wb(c3), null !== b) {
              a2.blockedOn = b;
              Ic(a2.priority, function() {
                Gc(c3);
              });
              return;
            }
          } else if (3 === b && c3.stateNode.current.memoizedState.isDehydrated) {
            a2.blockedOn = 3 === c3.tag ? c3.stateNode.containerInfo : null;
            return;
          }
        }
      }
      a2.blockedOn = null;
    }
    function Xc(a2) {
      if (null !== a2.blockedOn) return false;
      for (var b = a2.targetContainers; 0 < b.length; ) {
        var c3 = Yc(a2.domEventName, a2.eventSystemFlags, b[0], a2.nativeEvent);
        if (null === c3) {
          c3 = a2.nativeEvent;
          var d4 = new c3.constructor(c3.type, c3);
          wb = d4;
          c3.target.dispatchEvent(d4);
          wb = null;
        } else return b = Cb(c3), null !== b && Fc(b), a2.blockedOn = c3, false;
        b.shift();
      }
      return true;
    }
    function Zc(a2, b, c3) {
      Xc(a2) && c3.delete(b);
    }
    function $c() {
      Jc = false;
      null !== Lc && Xc(Lc) && (Lc = null);
      null !== Mc && Xc(Mc) && (Mc = null);
      null !== Nc && Xc(Nc) && (Nc = null);
      Oc.forEach(Zc);
      Pc.forEach(Zc);
    }
    function ad(a2, b) {
      a2.blockedOn === b && (a2.blockedOn = null, Jc || (Jc = true, ca.unstable_scheduleCallback(ca.unstable_NormalPriority, $c)));
    }
    function bd(a2) {
      function b(b2) {
        return ad(b2, a2);
      }
      if (0 < Kc.length) {
        ad(Kc[0], a2);
        for (var c3 = 1; c3 < Kc.length; c3++) {
          var d4 = Kc[c3];
          d4.blockedOn === a2 && (d4.blockedOn = null);
        }
      }
      null !== Lc && ad(Lc, a2);
      null !== Mc && ad(Mc, a2);
      null !== Nc && ad(Nc, a2);
      Oc.forEach(b);
      Pc.forEach(b);
      for (c3 = 0; c3 < Qc.length; c3++) d4 = Qc[c3], d4.blockedOn === a2 && (d4.blockedOn = null);
      for (; 0 < Qc.length && (c3 = Qc[0], null === c3.blockedOn); ) Vc(c3), null === c3.blockedOn && Qc.shift();
    }
    var cd = ua.ReactCurrentBatchConfig;
    var dd = true;
    function ed(a2, b, c3, d4) {
      var e3 = C2, f3 = cd.transition;
      cd.transition = null;
      try {
        C2 = 1, fd(a2, b, c3, d4);
      } finally {
        C2 = e3, cd.transition = f3;
      }
    }
    function gd(a2, b, c3, d4) {
      var e3 = C2, f3 = cd.transition;
      cd.transition = null;
      try {
        C2 = 4, fd(a2, b, c3, d4);
      } finally {
        C2 = e3, cd.transition = f3;
      }
    }
    function fd(a2, b, c3, d4) {
      if (dd) {
        var e3 = Yc(a2, b, c3, d4);
        if (null === e3) hd(a2, b, d4, id, c3), Sc(a2, d4);
        else if (Uc(e3, a2, b, c3, d4)) d4.stopPropagation();
        else if (Sc(a2, d4), b & 4 && -1 < Rc.indexOf(a2)) {
          for (; null !== e3; ) {
            var f3 = Cb(e3);
            null !== f3 && Ec(f3);
            f3 = Yc(a2, b, c3, d4);
            null === f3 && hd(a2, b, d4, id, c3);
            if (f3 === e3) break;
            e3 = f3;
          }
          null !== e3 && d4.stopPropagation();
        } else hd(a2, b, d4, null, c3);
      }
    }
    var id = null;
    function Yc(a2, b, c3, d4) {
      id = null;
      a2 = xb(d4);
      a2 = Wc(a2);
      if (null !== a2) if (b = Vb(a2), null === b) a2 = null;
      else if (c3 = b.tag, 13 === c3) {
        a2 = Wb(b);
        if (null !== a2) return a2;
        a2 = null;
      } else if (3 === c3) {
        if (b.stateNode.current.memoizedState.isDehydrated) return 3 === b.tag ? b.stateNode.containerInfo : null;
        a2 = null;
      } else b !== a2 && (a2 = null);
      id = a2;
      return null;
    }
    function jd(a2) {
      switch (a2) {
        case "cancel":
        case "click":
        case "close":
        case "contextmenu":
        case "copy":
        case "cut":
        case "auxclick":
        case "dblclick":
        case "dragend":
        case "dragstart":
        case "drop":
        case "focusin":
        case "focusout":
        case "input":
        case "invalid":
        case "keydown":
        case "keypress":
        case "keyup":
        case "mousedown":
        case "mouseup":
        case "paste":
        case "pause":
        case "play":
        case "pointercancel":
        case "pointerdown":
        case "pointerup":
        case "ratechange":
        case "reset":
        case "resize":
        case "seeked":
        case "submit":
        case "touchcancel":
        case "touchend":
        case "touchstart":
        case "volumechange":
        case "change":
        case "selectionchange":
        case "textInput":
        case "compositionstart":
        case "compositionend":
        case "compositionupdate":
        case "beforeblur":
        case "afterblur":
        case "beforeinput":
        case "blur":
        case "fullscreenchange":
        case "focus":
        case "hashchange":
        case "popstate":
        case "select":
        case "selectstart":
          return 1;
        case "drag":
        case "dragenter":
        case "dragexit":
        case "dragleave":
        case "dragover":
        case "mousemove":
        case "mouseout":
        case "mouseover":
        case "pointermove":
        case "pointerout":
        case "pointerover":
        case "scroll":
        case "toggle":
        case "touchmove":
        case "wheel":
        case "mouseenter":
        case "mouseleave":
        case "pointerenter":
        case "pointerleave":
          return 4;
        case "message":
          switch (ec()) {
            case fc:
              return 1;
            case gc:
              return 4;
            case hc:
            case ic:
              return 16;
            case jc:
              return 536870912;
            default:
              return 16;
          }
        default:
          return 16;
      }
    }
    var kd = null;
    var ld = null;
    var md = null;
    function nd() {
      if (md) return md;
      var a2, b = ld, c3 = b.length, d4, e3 = "value" in kd ? kd.value : kd.textContent, f3 = e3.length;
      for (a2 = 0; a2 < c3 && b[a2] === e3[a2]; a2++) ;
      var g = c3 - a2;
      for (d4 = 1; d4 <= g && b[c3 - d4] === e3[f3 - d4]; d4++) ;
      return md = e3.slice(a2, 1 < d4 ? 1 - d4 : void 0);
    }
    function od(a2) {
      var b = a2.keyCode;
      "charCode" in a2 ? (a2 = a2.charCode, 0 === a2 && 13 === b && (a2 = 13)) : a2 = b;
      10 === a2 && (a2 = 13);
      return 32 <= a2 || 13 === a2 ? a2 : 0;
    }
    function pd() {
      return true;
    }
    function qd() {
      return false;
    }
    function rd(a2) {
      function b(b2, d4, e3, f3, g) {
        this._reactName = b2;
        this._targetInst = e3;
        this.type = d4;
        this.nativeEvent = f3;
        this.target = g;
        this.currentTarget = null;
        for (var c3 in a2) a2.hasOwnProperty(c3) && (b2 = a2[c3], this[c3] = b2 ? b2(f3) : f3[c3]);
        this.isDefaultPrevented = (null != f3.defaultPrevented ? f3.defaultPrevented : false === f3.returnValue) ? pd : qd;
        this.isPropagationStopped = qd;
        return this;
      }
      A(b.prototype, { preventDefault: function() {
        this.defaultPrevented = true;
        var a3 = this.nativeEvent;
        a3 && (a3.preventDefault ? a3.preventDefault() : "unknown" !== typeof a3.returnValue && (a3.returnValue = false), this.isDefaultPrevented = pd);
      }, stopPropagation: function() {
        var a3 = this.nativeEvent;
        a3 && (a3.stopPropagation ? a3.stopPropagation() : "unknown" !== typeof a3.cancelBubble && (a3.cancelBubble = true), this.isPropagationStopped = pd);
      }, persist: function() {
      }, isPersistent: pd });
      return b;
    }
    var sd = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function(a2) {
      return a2.timeStamp || Date.now();
    }, defaultPrevented: 0, isTrusted: 0 };
    var td = rd(sd);
    var ud = A({}, sd, { view: 0, detail: 0 });
    var vd = rd(ud);
    var wd;
    var xd;
    var yd;
    var Ad = A({}, ud, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: zd, button: 0, buttons: 0, relatedTarget: function(a2) {
      return void 0 === a2.relatedTarget ? a2.fromElement === a2.srcElement ? a2.toElement : a2.fromElement : a2.relatedTarget;
    }, movementX: function(a2) {
      if ("movementX" in a2) return a2.movementX;
      a2 !== yd && (yd && "mousemove" === a2.type ? (wd = a2.screenX - yd.screenX, xd = a2.screenY - yd.screenY) : xd = wd = 0, yd = a2);
      return wd;
    }, movementY: function(a2) {
      return "movementY" in a2 ? a2.movementY : xd;
    } });
    var Bd = rd(Ad);
    var Cd = A({}, Ad, { dataTransfer: 0 });
    var Dd = rd(Cd);
    var Ed = A({}, ud, { relatedTarget: 0 });
    var Fd = rd(Ed);
    var Gd = A({}, sd, { animationName: 0, elapsedTime: 0, pseudoElement: 0 });
    var Hd = rd(Gd);
    var Id = A({}, sd, { clipboardData: function(a2) {
      return "clipboardData" in a2 ? a2.clipboardData : window.clipboardData;
    } });
    var Jd = rd(Id);
    var Kd = A({}, sd, { data: 0 });
    var Ld = rd(Kd);
    var Md = {
      Esc: "Escape",
      Spacebar: " ",
      Left: "ArrowLeft",
      Up: "ArrowUp",
      Right: "ArrowRight",
      Down: "ArrowDown",
      Del: "Delete",
      Win: "OS",
      Menu: "ContextMenu",
      Apps: "ContextMenu",
      Scroll: "ScrollLock",
      MozPrintableKey: "Unidentified"
    };
    var Nd = {
      8: "Backspace",
      9: "Tab",
      12: "Clear",
      13: "Enter",
      16: "Shift",
      17: "Control",
      18: "Alt",
      19: "Pause",
      20: "CapsLock",
      27: "Escape",
      32: " ",
      33: "PageUp",
      34: "PageDown",
      35: "End",
      36: "Home",
      37: "ArrowLeft",
      38: "ArrowUp",
      39: "ArrowRight",
      40: "ArrowDown",
      45: "Insert",
      46: "Delete",
      112: "F1",
      113: "F2",
      114: "F3",
      115: "F4",
      116: "F5",
      117: "F6",
      118: "F7",
      119: "F8",
      120: "F9",
      121: "F10",
      122: "F11",
      123: "F12",
      144: "NumLock",
      145: "ScrollLock",
      224: "Meta"
    };
    var Od = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" };
    function Pd(a2) {
      var b = this.nativeEvent;
      return b.getModifierState ? b.getModifierState(a2) : (a2 = Od[a2]) ? !!b[a2] : false;
    }
    function zd() {
      return Pd;
    }
    var Qd = A({}, ud, { key: function(a2) {
      if (a2.key) {
        var b = Md[a2.key] || a2.key;
        if ("Unidentified" !== b) return b;
      }
      return "keypress" === a2.type ? (a2 = od(a2), 13 === a2 ? "Enter" : String.fromCharCode(a2)) : "keydown" === a2.type || "keyup" === a2.type ? Nd[a2.keyCode] || "Unidentified" : "";
    }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: zd, charCode: function(a2) {
      return "keypress" === a2.type ? od(a2) : 0;
    }, keyCode: function(a2) {
      return "keydown" === a2.type || "keyup" === a2.type ? a2.keyCode : 0;
    }, which: function(a2) {
      return "keypress" === a2.type ? od(a2) : "keydown" === a2.type || "keyup" === a2.type ? a2.keyCode : 0;
    } });
    var Rd = rd(Qd);
    var Sd = A({}, Ad, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 });
    var Td = rd(Sd);
    var Ud = A({}, ud, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: zd });
    var Vd = rd(Ud);
    var Wd = A({}, sd, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 });
    var Xd = rd(Wd);
    var Yd = A({}, Ad, {
      deltaX: function(a2) {
        return "deltaX" in a2 ? a2.deltaX : "wheelDeltaX" in a2 ? -a2.wheelDeltaX : 0;
      },
      deltaY: function(a2) {
        return "deltaY" in a2 ? a2.deltaY : "wheelDeltaY" in a2 ? -a2.wheelDeltaY : "wheelDelta" in a2 ? -a2.wheelDelta : 0;
      },
      deltaZ: 0,
      deltaMode: 0
    });
    var Zd = rd(Yd);
    var $d = [9, 13, 27, 32];
    var ae = ia && "CompositionEvent" in window;
    var be = null;
    ia && "documentMode" in document && (be = document.documentMode);
    var ce = ia && "TextEvent" in window && !be;
    var de = ia && (!ae || be && 8 < be && 11 >= be);
    var ee = String.fromCharCode(32);
    var fe = false;
    function ge(a2, b) {
      switch (a2) {
        case "keyup":
          return -1 !== $d.indexOf(b.keyCode);
        case "keydown":
          return 229 !== b.keyCode;
        case "keypress":
        case "mousedown":
        case "focusout":
          return true;
        default:
          return false;
      }
    }
    function he(a2) {
      a2 = a2.detail;
      return "object" === typeof a2 && "data" in a2 ? a2.data : null;
    }
    var ie = false;
    function je(a2, b) {
      switch (a2) {
        case "compositionend":
          return he(b);
        case "keypress":
          if (32 !== b.which) return null;
          fe = true;
          return ee;
        case "textInput":
          return a2 = b.data, a2 === ee && fe ? null : a2;
        default:
          return null;
      }
    }
    function ke(a2, b) {
      if (ie) return "compositionend" === a2 || !ae && ge(a2, b) ? (a2 = nd(), md = ld = kd = null, ie = false, a2) : null;
      switch (a2) {
        case "paste":
          return null;
        case "keypress":
          if (!(b.ctrlKey || b.altKey || b.metaKey) || b.ctrlKey && b.altKey) {
            if (b.char && 1 < b.char.length) return b.char;
            if (b.which) return String.fromCharCode(b.which);
          }
          return null;
        case "compositionend":
          return de && "ko" !== b.locale ? null : b.data;
        default:
          return null;
      }
    }
    var le = { color: true, date: true, datetime: true, "datetime-local": true, email: true, month: true, number: true, password: true, range: true, search: true, tel: true, text: true, time: true, url: true, week: true };
    function me(a2) {
      var b = a2 && a2.nodeName && a2.nodeName.toLowerCase();
      return "input" === b ? !!le[a2.type] : "textarea" === b ? true : false;
    }
    function ne(a2, b, c3, d4) {
      Eb(d4);
      b = oe(b, "onChange");
      0 < b.length && (c3 = new td("onChange", "change", null, c3, d4), a2.push({ event: c3, listeners: b }));
    }
    var pe = null;
    var qe = null;
    function re(a2) {
      se(a2, 0);
    }
    function te(a2) {
      var b = ue(a2);
      if (Wa(b)) return a2;
    }
    function ve(a2, b) {
      if ("change" === a2) return b;
    }
    var we = false;
    if (ia) {
      if (ia) {
        ye = "oninput" in document;
        if (!ye) {
          ze = document.createElement("div");
          ze.setAttribute("oninput", "return;");
          ye = "function" === typeof ze.oninput;
        }
        xe = ye;
      } else xe = false;
      we = xe && (!document.documentMode || 9 < document.documentMode);
    }
    var xe;
    var ye;
    var ze;
    function Ae() {
      pe && (pe.detachEvent("onpropertychange", Be), qe = pe = null);
    }
    function Be(a2) {
      if ("value" === a2.propertyName && te(qe)) {
        var b = [];
        ne(b, qe, a2, xb(a2));
        Jb(re, b);
      }
    }
    function Ce(a2, b, c3) {
      "focusin" === a2 ? (Ae(), pe = b, qe = c3, pe.attachEvent("onpropertychange", Be)) : "focusout" === a2 && Ae();
    }
    function De(a2) {
      if ("selectionchange" === a2 || "keyup" === a2 || "keydown" === a2) return te(qe);
    }
    function Ee(a2, b) {
      if ("click" === a2) return te(b);
    }
    function Fe(a2, b) {
      if ("input" === a2 || "change" === a2) return te(b);
    }
    function Ge(a2, b) {
      return a2 === b && (0 !== a2 || 1 / a2 === 1 / b) || a2 !== a2 && b !== b;
    }
    var He = "function" === typeof Object.is ? Object.is : Ge;
    function Ie(a2, b) {
      if (He(a2, b)) return true;
      if ("object" !== typeof a2 || null === a2 || "object" !== typeof b || null === b) return false;
      var c3 = Object.keys(a2), d4 = Object.keys(b);
      if (c3.length !== d4.length) return false;
      for (d4 = 0; d4 < c3.length; d4++) {
        var e3 = c3[d4];
        if (!ja.call(b, e3) || !He(a2[e3], b[e3])) return false;
      }
      return true;
    }
    function Je(a2) {
      for (; a2 && a2.firstChild; ) a2 = a2.firstChild;
      return a2;
    }
    function Ke(a2, b) {
      var c3 = Je(a2);
      a2 = 0;
      for (var d4; c3; ) {
        if (3 === c3.nodeType) {
          d4 = a2 + c3.textContent.length;
          if (a2 <= b && d4 >= b) return { node: c3, offset: b - a2 };
          a2 = d4;
        }
        a: {
          for (; c3; ) {
            if (c3.nextSibling) {
              c3 = c3.nextSibling;
              break a;
            }
            c3 = c3.parentNode;
          }
          c3 = void 0;
        }
        c3 = Je(c3);
      }
    }
    function Le(a2, b) {
      return a2 && b ? a2 === b ? true : a2 && 3 === a2.nodeType ? false : b && 3 === b.nodeType ? Le(a2, b.parentNode) : "contains" in a2 ? a2.contains(b) : a2.compareDocumentPosition ? !!(a2.compareDocumentPosition(b) & 16) : false : false;
    }
    function Me() {
      for (var a2 = window, b = Xa(); b instanceof a2.HTMLIFrameElement; ) {
        try {
          var c3 = "string" === typeof b.contentWindow.location.href;
        } catch (d4) {
          c3 = false;
        }
        if (c3) a2 = b.contentWindow;
        else break;
        b = Xa(a2.document);
      }
      return b;
    }
    function Ne(a2) {
      var b = a2 && a2.nodeName && a2.nodeName.toLowerCase();
      return b && ("input" === b && ("text" === a2.type || "search" === a2.type || "tel" === a2.type || "url" === a2.type || "password" === a2.type) || "textarea" === b || "true" === a2.contentEditable);
    }
    function Oe(a2) {
      var b = Me(), c3 = a2.focusedElem, d4 = a2.selectionRange;
      if (b !== c3 && c3 && c3.ownerDocument && Le(c3.ownerDocument.documentElement, c3)) {
        if (null !== d4 && Ne(c3)) {
          if (b = d4.start, a2 = d4.end, void 0 === a2 && (a2 = b), "selectionStart" in c3) c3.selectionStart = b, c3.selectionEnd = Math.min(a2, c3.value.length);
          else if (a2 = (b = c3.ownerDocument || document) && b.defaultView || window, a2.getSelection) {
            a2 = a2.getSelection();
            var e3 = c3.textContent.length, f3 = Math.min(d4.start, e3);
            d4 = void 0 === d4.end ? f3 : Math.min(d4.end, e3);
            !a2.extend && f3 > d4 && (e3 = d4, d4 = f3, f3 = e3);
            e3 = Ke(c3, f3);
            var g = Ke(
              c3,
              d4
            );
            e3 && g && (1 !== a2.rangeCount || a2.anchorNode !== e3.node || a2.anchorOffset !== e3.offset || a2.focusNode !== g.node || a2.focusOffset !== g.offset) && (b = b.createRange(), b.setStart(e3.node, e3.offset), a2.removeAllRanges(), f3 > d4 ? (a2.addRange(b), a2.extend(g.node, g.offset)) : (b.setEnd(g.node, g.offset), a2.addRange(b)));
          }
        }
        b = [];
        for (a2 = c3; a2 = a2.parentNode; ) 1 === a2.nodeType && b.push({ element: a2, left: a2.scrollLeft, top: a2.scrollTop });
        "function" === typeof c3.focus && c3.focus();
        for (c3 = 0; c3 < b.length; c3++) a2 = b[c3], a2.element.scrollLeft = a2.left, a2.element.scrollTop = a2.top;
      }
    }
    var Pe = ia && "documentMode" in document && 11 >= document.documentMode;
    var Qe = null;
    var Re = null;
    var Se = null;
    var Te = false;
    function Ue(a2, b, c3) {
      var d4 = c3.window === c3 ? c3.document : 9 === c3.nodeType ? c3 : c3.ownerDocument;
      Te || null == Qe || Qe !== Xa(d4) || (d4 = Qe, "selectionStart" in d4 && Ne(d4) ? d4 = { start: d4.selectionStart, end: d4.selectionEnd } : (d4 = (d4.ownerDocument && d4.ownerDocument.defaultView || window).getSelection(), d4 = { anchorNode: d4.anchorNode, anchorOffset: d4.anchorOffset, focusNode: d4.focusNode, focusOffset: d4.focusOffset }), Se && Ie(Se, d4) || (Se = d4, d4 = oe(Re, "onSelect"), 0 < d4.length && (b = new td("onSelect", "select", null, b, c3), a2.push({ event: b, listeners: d4 }), b.target = Qe)));
    }
    function Ve(a2, b) {
      var c3 = {};
      c3[a2.toLowerCase()] = b.toLowerCase();
      c3["Webkit" + a2] = "webkit" + b;
      c3["Moz" + a2] = "moz" + b;
      return c3;
    }
    var We = { animationend: Ve("Animation", "AnimationEnd"), animationiteration: Ve("Animation", "AnimationIteration"), animationstart: Ve("Animation", "AnimationStart"), transitionend: Ve("Transition", "TransitionEnd") };
    var Xe = {};
    var Ye = {};
    ia && (Ye = document.createElement("div").style, "AnimationEvent" in window || (delete We.animationend.animation, delete We.animationiteration.animation, delete We.animationstart.animation), "TransitionEvent" in window || delete We.transitionend.transition);
    function Ze(a2) {
      if (Xe[a2]) return Xe[a2];
      if (!We[a2]) return a2;
      var b = We[a2], c3;
      for (c3 in b) if (b.hasOwnProperty(c3) && c3 in Ye) return Xe[a2] = b[c3];
      return a2;
    }
    var $e = Ze("animationend");
    var af = Ze("animationiteration");
    var bf = Ze("animationstart");
    var cf = Ze("transitionend");
    var df = /* @__PURE__ */ new Map();
    var ef = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
    function ff(a2, b) {
      df.set(a2, b);
      fa(b, [a2]);
    }
    for (gf = 0; gf < ef.length; gf++) {
      hf = ef[gf], jf = hf.toLowerCase(), kf = hf[0].toUpperCase() + hf.slice(1);
      ff(jf, "on" + kf);
    }
    var hf;
    var jf;
    var kf;
    var gf;
    ff($e, "onAnimationEnd");
    ff(af, "onAnimationIteration");
    ff(bf, "onAnimationStart");
    ff("dblclick", "onDoubleClick");
    ff("focusin", "onFocus");
    ff("focusout", "onBlur");
    ff(cf, "onTransitionEnd");
    ha("onMouseEnter", ["mouseout", "mouseover"]);
    ha("onMouseLeave", ["mouseout", "mouseover"]);
    ha("onPointerEnter", ["pointerout", "pointerover"]);
    ha("onPointerLeave", ["pointerout", "pointerover"]);
    fa("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" "));
    fa("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));
    fa("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
    fa("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" "));
    fa("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" "));
    fa("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
    var lf = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");
    var mf = new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));
    function nf(a2, b, c3) {
      var d4 = a2.type || "unknown-event";
      a2.currentTarget = c3;
      Ub(d4, b, void 0, a2);
      a2.currentTarget = null;
    }
    function se(a2, b) {
      b = 0 !== (b & 4);
      for (var c3 = 0; c3 < a2.length; c3++) {
        var d4 = a2[c3], e3 = d4.event;
        d4 = d4.listeners;
        a: {
          var f3 = void 0;
          if (b) for (var g = d4.length - 1; 0 <= g; g--) {
            var h2 = d4[g], k = h2.instance, l3 = h2.currentTarget;
            h2 = h2.listener;
            if (k !== f3 && e3.isPropagationStopped()) break a;
            nf(e3, h2, l3);
            f3 = k;
          }
          else for (g = 0; g < d4.length; g++) {
            h2 = d4[g];
            k = h2.instance;
            l3 = h2.currentTarget;
            h2 = h2.listener;
            if (k !== f3 && e3.isPropagationStopped()) break a;
            nf(e3, h2, l3);
            f3 = k;
          }
        }
      }
      if (Qb) throw a2 = Rb, Qb = false, Rb = null, a2;
    }
    function D(a2, b) {
      var c3 = b[of];
      void 0 === c3 && (c3 = b[of] = /* @__PURE__ */ new Set());
      var d4 = a2 + "__bubble";
      c3.has(d4) || (pf(b, a2, 2, false), c3.add(d4));
    }
    function qf(a2, b, c3) {
      var d4 = 0;
      b && (d4 |= 4);
      pf(c3, a2, d4, b);
    }
    var rf = "_reactListening" + Math.random().toString(36).slice(2);
    function sf(a2) {
      if (!a2[rf]) {
        a2[rf] = true;
        da.forEach(function(b2) {
          "selectionchange" !== b2 && (mf.has(b2) || qf(b2, false, a2), qf(b2, true, a2));
        });
        var b = 9 === a2.nodeType ? a2 : a2.ownerDocument;
        null === b || b[rf] || (b[rf] = true, qf("selectionchange", false, b));
      }
    }
    function pf(a2, b, c3, d4) {
      switch (jd(b)) {
        case 1:
          var e3 = ed;
          break;
        case 4:
          e3 = gd;
          break;
        default:
          e3 = fd;
      }
      c3 = e3.bind(null, b, c3, a2);
      e3 = void 0;
      !Lb || "touchstart" !== b && "touchmove" !== b && "wheel" !== b || (e3 = true);
      d4 ? void 0 !== e3 ? a2.addEventListener(b, c3, { capture: true, passive: e3 }) : a2.addEventListener(b, c3, true) : void 0 !== e3 ? a2.addEventListener(b, c3, { passive: e3 }) : a2.addEventListener(b, c3, false);
    }
    function hd(a2, b, c3, d4, e3) {
      var f3 = d4;
      if (0 === (b & 1) && 0 === (b & 2) && null !== d4) a: for (; ; ) {
        if (null === d4) return;
        var g = d4.tag;
        if (3 === g || 4 === g) {
          var h2 = d4.stateNode.containerInfo;
          if (h2 === e3 || 8 === h2.nodeType && h2.parentNode === e3) break;
          if (4 === g) for (g = d4.return; null !== g; ) {
            var k = g.tag;
            if (3 === k || 4 === k) {
              if (k = g.stateNode.containerInfo, k === e3 || 8 === k.nodeType && k.parentNode === e3) return;
            }
            g = g.return;
          }
          for (; null !== h2; ) {
            g = Wc(h2);
            if (null === g) return;
            k = g.tag;
            if (5 === k || 6 === k) {
              d4 = f3 = g;
              continue a;
            }
            h2 = h2.parentNode;
          }
        }
        d4 = d4.return;
      }
      Jb(function() {
        var d5 = f3, e4 = xb(c3), g2 = [];
        a: {
          var h3 = df.get(a2);
          if (void 0 !== h3) {
            var k2 = td, n2 = a2;
            switch (a2) {
              case "keypress":
                if (0 === od(c3)) break a;
              case "keydown":
              case "keyup":
                k2 = Rd;
                break;
              case "focusin":
                n2 = "focus";
                k2 = Fd;
                break;
              case "focusout":
                n2 = "blur";
                k2 = Fd;
                break;
              case "beforeblur":
              case "afterblur":
                k2 = Fd;
                break;
              case "click":
                if (2 === c3.button) break a;
              case "auxclick":
              case "dblclick":
              case "mousedown":
              case "mousemove":
              case "mouseup":
              case "mouseout":
              case "mouseover":
              case "contextmenu":
                k2 = Bd;
                break;
              case "drag":
              case "dragend":
              case "dragenter":
              case "dragexit":
              case "dragleave":
              case "dragover":
              case "dragstart":
              case "drop":
                k2 = Dd;
                break;
              case "touchcancel":
              case "touchend":
              case "touchmove":
              case "touchstart":
                k2 = Vd;
                break;
              case $e:
              case af:
              case bf:
                k2 = Hd;
                break;
              case cf:
                k2 = Xd;
                break;
              case "scroll":
                k2 = vd;
                break;
              case "wheel":
                k2 = Zd;
                break;
              case "copy":
              case "cut":
              case "paste":
                k2 = Jd;
                break;
              case "gotpointercapture":
              case "lostpointercapture":
              case "pointercancel":
              case "pointerdown":
              case "pointermove":
              case "pointerout":
              case "pointerover":
              case "pointerup":
                k2 = Td;
            }
            var t2 = 0 !== (b & 4), J = !t2 && "scroll" === a2, x = t2 ? null !== h3 ? h3 + "Capture" : null : h3;
            t2 = [];
            for (var w = d5, u3; null !== w; ) {
              u3 = w;
              var F = u3.stateNode;
              5 === u3.tag && null !== F && (u3 = F, null !== x && (F = Kb(w, x), null != F && t2.push(tf(w, F, u3))));
              if (J) break;
              w = w.return;
            }
            0 < t2.length && (h3 = new k2(h3, n2, null, c3, e4), g2.push({ event: h3, listeners: t2 }));
          }
        }
        if (0 === (b & 7)) {
          a: {
            h3 = "mouseover" === a2 || "pointerover" === a2;
            k2 = "mouseout" === a2 || "pointerout" === a2;
            if (h3 && c3 !== wb && (n2 = c3.relatedTarget || c3.fromElement) && (Wc(n2) || n2[uf])) break a;
            if (k2 || h3) {
              h3 = e4.window === e4 ? e4 : (h3 = e4.ownerDocument) ? h3.defaultView || h3.parentWindow : window;
              if (k2) {
                if (n2 = c3.relatedTarget || c3.toElement, k2 = d5, n2 = n2 ? Wc(n2) : null, null !== n2 && (J = Vb(n2), n2 !== J || 5 !== n2.tag && 6 !== n2.tag)) n2 = null;
              } else k2 = null, n2 = d5;
              if (k2 !== n2) {
                t2 = Bd;
                F = "onMouseLeave";
                x = "onMouseEnter";
                w = "mouse";
                if ("pointerout" === a2 || "pointerover" === a2) t2 = Td, F = "onPointerLeave", x = "onPointerEnter", w = "pointer";
                J = null == k2 ? h3 : ue(k2);
                u3 = null == n2 ? h3 : ue(n2);
                h3 = new t2(F, w + "leave", k2, c3, e4);
                h3.target = J;
                h3.relatedTarget = u3;
                F = null;
                Wc(e4) === d5 && (t2 = new t2(x, w + "enter", n2, c3, e4), t2.target = u3, t2.relatedTarget = J, F = t2);
                J = F;
                if (k2 && n2) b: {
                  t2 = k2;
                  x = n2;
                  w = 0;
                  for (u3 = t2; u3; u3 = vf(u3)) w++;
                  u3 = 0;
                  for (F = x; F; F = vf(F)) u3++;
                  for (; 0 < w - u3; ) t2 = vf(t2), w--;
                  for (; 0 < u3 - w; ) x = vf(x), u3--;
                  for (; w--; ) {
                    if (t2 === x || null !== x && t2 === x.alternate) break b;
                    t2 = vf(t2);
                    x = vf(x);
                  }
                  t2 = null;
                }
                else t2 = null;
                null !== k2 && wf(g2, h3, k2, t2, false);
                null !== n2 && null !== J && wf(g2, J, n2, t2, true);
              }
            }
          }
          a: {
            h3 = d5 ? ue(d5) : window;
            k2 = h3.nodeName && h3.nodeName.toLowerCase();
            if ("select" === k2 || "input" === k2 && "file" === h3.type) var na = ve;
            else if (me(h3)) if (we) na = Fe;
            else {
              na = De;
              var xa = Ce;
            }
            else (k2 = h3.nodeName) && "input" === k2.toLowerCase() && ("checkbox" === h3.type || "radio" === h3.type) && (na = Ee);
            if (na && (na = na(a2, d5))) {
              ne(g2, na, c3, e4);
              break a;
            }
            xa && xa(a2, h3, d5);
            "focusout" === a2 && (xa = h3._wrapperState) && xa.controlled && "number" === h3.type && cb(h3, "number", h3.value);
          }
          xa = d5 ? ue(d5) : window;
          switch (a2) {
            case "focusin":
              if (me(xa) || "true" === xa.contentEditable) Qe = xa, Re = d5, Se = null;
              break;
            case "focusout":
              Se = Re = Qe = null;
              break;
            case "mousedown":
              Te = true;
              break;
            case "contextmenu":
            case "mouseup":
            case "dragend":
              Te = false;
              Ue(g2, c3, e4);
              break;
            case "selectionchange":
              if (Pe) break;
            case "keydown":
            case "keyup":
              Ue(g2, c3, e4);
          }
          var $a;
          if (ae) b: {
            switch (a2) {
              case "compositionstart":
                var ba = "onCompositionStart";
                break b;
              case "compositionend":
                ba = "onCompositionEnd";
                break b;
              case "compositionupdate":
                ba = "onCompositionUpdate";
                break b;
            }
            ba = void 0;
          }
          else ie ? ge(a2, c3) && (ba = "onCompositionEnd") : "keydown" === a2 && 229 === c3.keyCode && (ba = "onCompositionStart");
          ba && (de && "ko" !== c3.locale && (ie || "onCompositionStart" !== ba ? "onCompositionEnd" === ba && ie && ($a = nd()) : (kd = e4, ld = "value" in kd ? kd.value : kd.textContent, ie = true)), xa = oe(d5, ba), 0 < xa.length && (ba = new Ld(ba, a2, null, c3, e4), g2.push({ event: ba, listeners: xa }), $a ? ba.data = $a : ($a = he(c3), null !== $a && (ba.data = $a))));
          if ($a = ce ? je(a2, c3) : ke(a2, c3)) d5 = oe(d5, "onBeforeInput"), 0 < d5.length && (e4 = new Ld("onBeforeInput", "beforeinput", null, c3, e4), g2.push({ event: e4, listeners: d5 }), e4.data = $a);
        }
        se(g2, b);
      });
    }
    function tf(a2, b, c3) {
      return { instance: a2, listener: b, currentTarget: c3 };
    }
    function oe(a2, b) {
      for (var c3 = b + "Capture", d4 = []; null !== a2; ) {
        var e3 = a2, f3 = e3.stateNode;
        5 === e3.tag && null !== f3 && (e3 = f3, f3 = Kb(a2, c3), null != f3 && d4.unshift(tf(a2, f3, e3)), f3 = Kb(a2, b), null != f3 && d4.push(tf(a2, f3, e3)));
        a2 = a2.return;
      }
      return d4;
    }
    function vf(a2) {
      if (null === a2) return null;
      do
        a2 = a2.return;
      while (a2 && 5 !== a2.tag);
      return a2 ? a2 : null;
    }
    function wf(a2, b, c3, d4, e3) {
      for (var f3 = b._reactName, g = []; null !== c3 && c3 !== d4; ) {
        var h2 = c3, k = h2.alternate, l3 = h2.stateNode;
        if (null !== k && k === d4) break;
        5 === h2.tag && null !== l3 && (h2 = l3, e3 ? (k = Kb(c3, f3), null != k && g.unshift(tf(c3, k, h2))) : e3 || (k = Kb(c3, f3), null != k && g.push(tf(c3, k, h2))));
        c3 = c3.return;
      }
      0 !== g.length && a2.push({ event: b, listeners: g });
    }
    var xf = /\r\n?/g;
    var yf = /\u0000|\uFFFD/g;
    function zf(a2) {
      return ("string" === typeof a2 ? a2 : "" + a2).replace(xf, "\n").replace(yf, "");
    }
    function Af(a2, b, c3) {
      b = zf(b);
      if (zf(a2) !== b && c3) throw Error(p3(425));
    }
    function Bf() {
    }
    var Cf = null;
    var Df = null;
    function Ef(a2, b) {
      return "textarea" === a2 || "noscript" === a2 || "string" === typeof b.children || "number" === typeof b.children || "object" === typeof b.dangerouslySetInnerHTML && null !== b.dangerouslySetInnerHTML && null != b.dangerouslySetInnerHTML.__html;
    }
    var Ff = "function" === typeof setTimeout ? setTimeout : void 0;
    var Gf = "function" === typeof clearTimeout ? clearTimeout : void 0;
    var Hf = "function" === typeof Promise ? Promise : void 0;
    var Jf = "function" === typeof queueMicrotask ? queueMicrotask : "undefined" !== typeof Hf ? function(a2) {
      return Hf.resolve(null).then(a2).catch(If);
    } : Ff;
    function If(a2) {
      setTimeout(function() {
        throw a2;
      });
    }
    function Kf(a2, b) {
      var c3 = b, d4 = 0;
      do {
        var e3 = c3.nextSibling;
        a2.removeChild(c3);
        if (e3 && 8 === e3.nodeType) if (c3 = e3.data, "/$" === c3) {
          if (0 === d4) {
            a2.removeChild(e3);
            bd(b);
            return;
          }
          d4--;
        } else "$" !== c3 && "$?" !== c3 && "$!" !== c3 || d4++;
        c3 = e3;
      } while (c3);
      bd(b);
    }
    function Lf(a2) {
      for (; null != a2; a2 = a2.nextSibling) {
        var b = a2.nodeType;
        if (1 === b || 3 === b) break;
        if (8 === b) {
          b = a2.data;
          if ("$" === b || "$!" === b || "$?" === b) break;
          if ("/$" === b) return null;
        }
      }
      return a2;
    }
    function Mf(a2) {
      a2 = a2.previousSibling;
      for (var b = 0; a2; ) {
        if (8 === a2.nodeType) {
          var c3 = a2.data;
          if ("$" === c3 || "$!" === c3 || "$?" === c3) {
            if (0 === b) return a2;
            b--;
          } else "/$" === c3 && b++;
        }
        a2 = a2.previousSibling;
      }
      return null;
    }
    var Nf = Math.random().toString(36).slice(2);
    var Of = "__reactFiber$" + Nf;
    var Pf = "__reactProps$" + Nf;
    var uf = "__reactContainer$" + Nf;
    var of = "__reactEvents$" + Nf;
    var Qf = "__reactListeners$" + Nf;
    var Rf = "__reactHandles$" + Nf;
    function Wc(a2) {
      var b = a2[Of];
      if (b) return b;
      for (var c3 = a2.parentNode; c3; ) {
        if (b = c3[uf] || c3[Of]) {
          c3 = b.alternate;
          if (null !== b.child || null !== c3 && null !== c3.child) for (a2 = Mf(a2); null !== a2; ) {
            if (c3 = a2[Of]) return c3;
            a2 = Mf(a2);
          }
          return b;
        }
        a2 = c3;
        c3 = a2.parentNode;
      }
      return null;
    }
    function Cb(a2) {
      a2 = a2[Of] || a2[uf];
      return !a2 || 5 !== a2.tag && 6 !== a2.tag && 13 !== a2.tag && 3 !== a2.tag ? null : a2;
    }
    function ue(a2) {
      if (5 === a2.tag || 6 === a2.tag) return a2.stateNode;
      throw Error(p3(33));
    }
    function Db(a2) {
      return a2[Pf] || null;
    }
    var Sf = [];
    var Tf = -1;
    function Uf(a2) {
      return { current: a2 };
    }
    function E(a2) {
      0 > Tf || (a2.current = Sf[Tf], Sf[Tf] = null, Tf--);
    }
    function G(a2, b) {
      Tf++;
      Sf[Tf] = a2.current;
      a2.current = b;
    }
    var Vf = {};
    var H = Uf(Vf);
    var Wf = Uf(false);
    var Xf = Vf;
    function Yf(a2, b) {
      var c3 = a2.type.contextTypes;
      if (!c3) return Vf;
      var d4 = a2.stateNode;
      if (d4 && d4.__reactInternalMemoizedUnmaskedChildContext === b) return d4.__reactInternalMemoizedMaskedChildContext;
      var e3 = {}, f3;
      for (f3 in c3) e3[f3] = b[f3];
      d4 && (a2 = a2.stateNode, a2.__reactInternalMemoizedUnmaskedChildContext = b, a2.__reactInternalMemoizedMaskedChildContext = e3);
      return e3;
    }
    function Zf(a2) {
      a2 = a2.childContextTypes;
      return null !== a2 && void 0 !== a2;
    }
    function $f() {
      E(Wf);
      E(H);
    }
    function ag(a2, b, c3) {
      if (H.current !== Vf) throw Error(p3(168));
      G(H, b);
      G(Wf, c3);
    }
    function bg(a2, b, c3) {
      var d4 = a2.stateNode;
      b = b.childContextTypes;
      if ("function" !== typeof d4.getChildContext) return c3;
      d4 = d4.getChildContext();
      for (var e3 in d4) if (!(e3 in b)) throw Error(p3(108, Ra(a2) || "Unknown", e3));
      return A({}, c3, d4);
    }
    function cg(a2) {
      a2 = (a2 = a2.stateNode) && a2.__reactInternalMemoizedMergedChildContext || Vf;
      Xf = H.current;
      G(H, a2);
      G(Wf, Wf.current);
      return true;
    }
    function dg(a2, b, c3) {
      var d4 = a2.stateNode;
      if (!d4) throw Error(p3(169));
      c3 ? (a2 = bg(a2, b, Xf), d4.__reactInternalMemoizedMergedChildContext = a2, E(Wf), E(H), G(H, a2)) : E(Wf);
      G(Wf, c3);
    }
    var eg = null;
    var fg = false;
    var gg = false;
    function hg(a2) {
      null === eg ? eg = [a2] : eg.push(a2);
    }
    function ig(a2) {
      fg = true;
      hg(a2);
    }
    function jg() {
      if (!gg && null !== eg) {
        gg = true;
        var a2 = 0, b = C2;
        try {
          var c3 = eg;
          for (C2 = 1; a2 < c3.length; a2++) {
            var d4 = c3[a2];
            do
              d4 = d4(true);
            while (null !== d4);
          }
          eg = null;
          fg = false;
        } catch (e3) {
          throw null !== eg && (eg = eg.slice(a2 + 1)), ac(fc, jg), e3;
        } finally {
          C2 = b, gg = false;
        }
      }
      return null;
    }
    var kg = [];
    var lg = 0;
    var mg = null;
    var ng = 0;
    var og = [];
    var pg = 0;
    var qg = null;
    var rg = 1;
    var sg = "";
    function tg(a2, b) {
      kg[lg++] = ng;
      kg[lg++] = mg;
      mg = a2;
      ng = b;
    }
    function ug(a2, b, c3) {
      og[pg++] = rg;
      og[pg++] = sg;
      og[pg++] = qg;
      qg = a2;
      var d4 = rg;
      a2 = sg;
      var e3 = 32 - oc(d4) - 1;
      d4 &= ~(1 << e3);
      c3 += 1;
      var f3 = 32 - oc(b) + e3;
      if (30 < f3) {
        var g = e3 - e3 % 5;
        f3 = (d4 & (1 << g) - 1).toString(32);
        d4 >>= g;
        e3 -= g;
        rg = 1 << 32 - oc(b) + e3 | c3 << e3 | d4;
        sg = f3 + a2;
      } else rg = 1 << f3 | c3 << e3 | d4, sg = a2;
    }
    function vg(a2) {
      null !== a2.return && (tg(a2, 1), ug(a2, 1, 0));
    }
    function wg(a2) {
      for (; a2 === mg; ) mg = kg[--lg], kg[lg] = null, ng = kg[--lg], kg[lg] = null;
      for (; a2 === qg; ) qg = og[--pg], og[pg] = null, sg = og[--pg], og[pg] = null, rg = og[--pg], og[pg] = null;
    }
    var xg = null;
    var yg = null;
    var I2 = false;
    var zg = null;
    function Ag(a2, b) {
      var c3 = Bg(5, null, null, 0);
      c3.elementType = "DELETED";
      c3.stateNode = b;
      c3.return = a2;
      b = a2.deletions;
      null === b ? (a2.deletions = [c3], a2.flags |= 16) : b.push(c3);
    }
    function Cg(a2, b) {
      switch (a2.tag) {
        case 5:
          var c3 = a2.type;
          b = 1 !== b.nodeType || c3.toLowerCase() !== b.nodeName.toLowerCase() ? null : b;
          return null !== b ? (a2.stateNode = b, xg = a2, yg = Lf(b.firstChild), true) : false;
        case 6:
          return b = "" === a2.pendingProps || 3 !== b.nodeType ? null : b, null !== b ? (a2.stateNode = b, xg = a2, yg = null, true) : false;
        case 13:
          return b = 8 !== b.nodeType ? null : b, null !== b ? (c3 = null !== qg ? { id: rg, overflow: sg } : null, a2.memoizedState = { dehydrated: b, treeContext: c3, retryLane: 1073741824 }, c3 = Bg(18, null, null, 0), c3.stateNode = b, c3.return = a2, a2.child = c3, xg = a2, yg = null, true) : false;
        default:
          return false;
      }
    }
    function Dg(a2) {
      return 0 !== (a2.mode & 1) && 0 === (a2.flags & 128);
    }
    function Eg(a2) {
      if (I2) {
        var b = yg;
        if (b) {
          var c3 = b;
          if (!Cg(a2, b)) {
            if (Dg(a2)) throw Error(p3(418));
            b = Lf(c3.nextSibling);
            var d4 = xg;
            b && Cg(a2, b) ? Ag(d4, c3) : (a2.flags = a2.flags & -4097 | 2, I2 = false, xg = a2);
          }
        } else {
          if (Dg(a2)) throw Error(p3(418));
          a2.flags = a2.flags & -4097 | 2;
          I2 = false;
          xg = a2;
        }
      }
    }
    function Fg(a2) {
      for (a2 = a2.return; null !== a2 && 5 !== a2.tag && 3 !== a2.tag && 13 !== a2.tag; ) a2 = a2.return;
      xg = a2;
    }
    function Gg(a2) {
      if (a2 !== xg) return false;
      if (!I2) return Fg(a2), I2 = true, false;
      var b;
      (b = 3 !== a2.tag) && !(b = 5 !== a2.tag) && (b = a2.type, b = "head" !== b && "body" !== b && !Ef(a2.type, a2.memoizedProps));
      if (b && (b = yg)) {
        if (Dg(a2)) throw Hg(), Error(p3(418));
        for (; b; ) Ag(a2, b), b = Lf(b.nextSibling);
      }
      Fg(a2);
      if (13 === a2.tag) {
        a2 = a2.memoizedState;
        a2 = null !== a2 ? a2.dehydrated : null;
        if (!a2) throw Error(p3(317));
        a: {
          a2 = a2.nextSibling;
          for (b = 0; a2; ) {
            if (8 === a2.nodeType) {
              var c3 = a2.data;
              if ("/$" === c3) {
                if (0 === b) {
                  yg = Lf(a2.nextSibling);
                  break a;
                }
                b--;
              } else "$" !== c3 && "$!" !== c3 && "$?" !== c3 || b++;
            }
            a2 = a2.nextSibling;
          }
          yg = null;
        }
      } else yg = xg ? Lf(a2.stateNode.nextSibling) : null;
      return true;
    }
    function Hg() {
      for (var a2 = yg; a2; ) a2 = Lf(a2.nextSibling);
    }
    function Ig() {
      yg = xg = null;
      I2 = false;
    }
    function Jg(a2) {
      null === zg ? zg = [a2] : zg.push(a2);
    }
    var Kg = ua.ReactCurrentBatchConfig;
    function Lg(a2, b, c3) {
      a2 = c3.ref;
      if (null !== a2 && "function" !== typeof a2 && "object" !== typeof a2) {
        if (c3._owner) {
          c3 = c3._owner;
          if (c3) {
            if (1 !== c3.tag) throw Error(p3(309));
            var d4 = c3.stateNode;
          }
          if (!d4) throw Error(p3(147, a2));
          var e3 = d4, f3 = "" + a2;
          if (null !== b && null !== b.ref && "function" === typeof b.ref && b.ref._stringRef === f3) return b.ref;
          b = function(a3) {
            var b2 = e3.refs;
            null === a3 ? delete b2[f3] : b2[f3] = a3;
          };
          b._stringRef = f3;
          return b;
        }
        if ("string" !== typeof a2) throw Error(p3(284));
        if (!c3._owner) throw Error(p3(290, a2));
      }
      return a2;
    }
    function Mg(a2, b) {
      a2 = Object.prototype.toString.call(b);
      throw Error(p3(31, "[object Object]" === a2 ? "object with keys {" + Object.keys(b).join(", ") + "}" : a2));
    }
    function Ng(a2) {
      var b = a2._init;
      return b(a2._payload);
    }
    function Og(a2) {
      function b(b2, c4) {
        if (a2) {
          var d5 = b2.deletions;
          null === d5 ? (b2.deletions = [c4], b2.flags |= 16) : d5.push(c4);
        }
      }
      function c3(c4, d5) {
        if (!a2) return null;
        for (; null !== d5; ) b(c4, d5), d5 = d5.sibling;
        return null;
      }
      function d4(a3, b2) {
        for (a3 = /* @__PURE__ */ new Map(); null !== b2; ) null !== b2.key ? a3.set(b2.key, b2) : a3.set(b2.index, b2), b2 = b2.sibling;
        return a3;
      }
      function e3(a3, b2) {
        a3 = Pg(a3, b2);
        a3.index = 0;
        a3.sibling = null;
        return a3;
      }
      function f3(b2, c4, d5) {
        b2.index = d5;
        if (!a2) return b2.flags |= 1048576, c4;
        d5 = b2.alternate;
        if (null !== d5) return d5 = d5.index, d5 < c4 ? (b2.flags |= 2, c4) : d5;
        b2.flags |= 2;
        return c4;
      }
      function g(b2) {
        a2 && null === b2.alternate && (b2.flags |= 2);
        return b2;
      }
      function h2(a3, b2, c4, d5) {
        if (null === b2 || 6 !== b2.tag) return b2 = Qg(c4, a3.mode, d5), b2.return = a3, b2;
        b2 = e3(b2, c4);
        b2.return = a3;
        return b2;
      }
      function k(a3, b2, c4, d5) {
        var f4 = c4.type;
        if (f4 === ya) return m(a3, b2, c4.props.children, d5, c4.key);
        if (null !== b2 && (b2.elementType === f4 || "object" === typeof f4 && null !== f4 && f4.$$typeof === Ha && Ng(f4) === b2.type)) return d5 = e3(b2, c4.props), d5.ref = Lg(a3, b2, c4), d5.return = a3, d5;
        d5 = Rg(c4.type, c4.key, c4.props, null, a3.mode, d5);
        d5.ref = Lg(a3, b2, c4);
        d5.return = a3;
        return d5;
      }
      function l3(a3, b2, c4, d5) {
        if (null === b2 || 4 !== b2.tag || b2.stateNode.containerInfo !== c4.containerInfo || b2.stateNode.implementation !== c4.implementation) return b2 = Sg(c4, a3.mode, d5), b2.return = a3, b2;
        b2 = e3(b2, c4.children || []);
        b2.return = a3;
        return b2;
      }
      function m(a3, b2, c4, d5, f4) {
        if (null === b2 || 7 !== b2.tag) return b2 = Tg(c4, a3.mode, d5, f4), b2.return = a3, b2;
        b2 = e3(b2, c4);
        b2.return = a3;
        return b2;
      }
      function q(a3, b2, c4) {
        if ("string" === typeof b2 && "" !== b2 || "number" === typeof b2) return b2 = Qg("" + b2, a3.mode, c4), b2.return = a3, b2;
        if ("object" === typeof b2 && null !== b2) {
          switch (b2.$$typeof) {
            case va:
              return c4 = Rg(b2.type, b2.key, b2.props, null, a3.mode, c4), c4.ref = Lg(a3, null, b2), c4.return = a3, c4;
            case wa:
              return b2 = Sg(b2, a3.mode, c4), b2.return = a3, b2;
            case Ha:
              var d5 = b2._init;
              return q(a3, d5(b2._payload), c4);
          }
          if (eb(b2) || Ka(b2)) return b2 = Tg(b2, a3.mode, c4, null), b2.return = a3, b2;
          Mg(a3, b2);
        }
        return null;
      }
      function r3(a3, b2, c4, d5) {
        var e4 = null !== b2 ? b2.key : null;
        if ("string" === typeof c4 && "" !== c4 || "number" === typeof c4) return null !== e4 ? null : h2(a3, b2, "" + c4, d5);
        if ("object" === typeof c4 && null !== c4) {
          switch (c4.$$typeof) {
            case va:
              return c4.key === e4 ? k(a3, b2, c4, d5) : null;
            case wa:
              return c4.key === e4 ? l3(a3, b2, c4, d5) : null;
            case Ha:
              return e4 = c4._init, r3(
                a3,
                b2,
                e4(c4._payload),
                d5
              );
          }
          if (eb(c4) || Ka(c4)) return null !== e4 ? null : m(a3, b2, c4, d5, null);
          Mg(a3, c4);
        }
        return null;
      }
      function y2(a3, b2, c4, d5, e4) {
        if ("string" === typeof d5 && "" !== d5 || "number" === typeof d5) return a3 = a3.get(c4) || null, h2(b2, a3, "" + d5, e4);
        if ("object" === typeof d5 && null !== d5) {
          switch (d5.$$typeof) {
            case va:
              return a3 = a3.get(null === d5.key ? c4 : d5.key) || null, k(b2, a3, d5, e4);
            case wa:
              return a3 = a3.get(null === d5.key ? c4 : d5.key) || null, l3(b2, a3, d5, e4);
            case Ha:
              var f4 = d5._init;
              return y2(a3, b2, c4, f4(d5._payload), e4);
          }
          if (eb(d5) || Ka(d5)) return a3 = a3.get(c4) || null, m(b2, a3, d5, e4, null);
          Mg(b2, d5);
        }
        return null;
      }
      function n2(e4, g2, h3, k2) {
        for (var l4 = null, m2 = null, u3 = g2, w = g2 = 0, x = null; null !== u3 && w < h3.length; w++) {
          u3.index > w ? (x = u3, u3 = null) : x = u3.sibling;
          var n3 = r3(e4, u3, h3[w], k2);
          if (null === n3) {
            null === u3 && (u3 = x);
            break;
          }
          a2 && u3 && null === n3.alternate && b(e4, u3);
          g2 = f3(n3, g2, w);
          null === m2 ? l4 = n3 : m2.sibling = n3;
          m2 = n3;
          u3 = x;
        }
        if (w === h3.length) return c3(e4, u3), I2 && tg(e4, w), l4;
        if (null === u3) {
          for (; w < h3.length; w++) u3 = q(e4, h3[w], k2), null !== u3 && (g2 = f3(u3, g2, w), null === m2 ? l4 = u3 : m2.sibling = u3, m2 = u3);
          I2 && tg(e4, w);
          return l4;
        }
        for (u3 = d4(e4, u3); w < h3.length; w++) x = y2(u3, e4, w, h3[w], k2), null !== x && (a2 && null !== x.alternate && u3.delete(null === x.key ? w : x.key), g2 = f3(x, g2, w), null === m2 ? l4 = x : m2.sibling = x, m2 = x);
        a2 && u3.forEach(function(a3) {
          return b(e4, a3);
        });
        I2 && tg(e4, w);
        return l4;
      }
      function t2(e4, g2, h3, k2) {
        var l4 = Ka(h3);
        if ("function" !== typeof l4) throw Error(p3(150));
        h3 = l4.call(h3);
        if (null == h3) throw Error(p3(151));
        for (var u3 = l4 = null, m2 = g2, w = g2 = 0, x = null, n3 = h3.next(); null !== m2 && !n3.done; w++, n3 = h3.next()) {
          m2.index > w ? (x = m2, m2 = null) : x = m2.sibling;
          var t3 = r3(e4, m2, n3.value, k2);
          if (null === t3) {
            null === m2 && (m2 = x);
            break;
          }
          a2 && m2 && null === t3.alternate && b(e4, m2);
          g2 = f3(t3, g2, w);
          null === u3 ? l4 = t3 : u3.sibling = t3;
          u3 = t3;
          m2 = x;
        }
        if (n3.done) return c3(
          e4,
          m2
        ), I2 && tg(e4, w), l4;
        if (null === m2) {
          for (; !n3.done; w++, n3 = h3.next()) n3 = q(e4, n3.value, k2), null !== n3 && (g2 = f3(n3, g2, w), null === u3 ? l4 = n3 : u3.sibling = n3, u3 = n3);
          I2 && tg(e4, w);
          return l4;
        }
        for (m2 = d4(e4, m2); !n3.done; w++, n3 = h3.next()) n3 = y2(m2, e4, w, n3.value, k2), null !== n3 && (a2 && null !== n3.alternate && m2.delete(null === n3.key ? w : n3.key), g2 = f3(n3, g2, w), null === u3 ? l4 = n3 : u3.sibling = n3, u3 = n3);
        a2 && m2.forEach(function(a3) {
          return b(e4, a3);
        });
        I2 && tg(e4, w);
        return l4;
      }
      function J(a3, d5, f4, h3) {
        "object" === typeof f4 && null !== f4 && f4.type === ya && null === f4.key && (f4 = f4.props.children);
        if ("object" === typeof f4 && null !== f4) {
          switch (f4.$$typeof) {
            case va:
              a: {
                for (var k2 = f4.key, l4 = d5; null !== l4; ) {
                  if (l4.key === k2) {
                    k2 = f4.type;
                    if (k2 === ya) {
                      if (7 === l4.tag) {
                        c3(a3, l4.sibling);
                        d5 = e3(l4, f4.props.children);
                        d5.return = a3;
                        a3 = d5;
                        break a;
                      }
                    } else if (l4.elementType === k2 || "object" === typeof k2 && null !== k2 && k2.$$typeof === Ha && Ng(k2) === l4.type) {
                      c3(a3, l4.sibling);
                      d5 = e3(l4, f4.props);
                      d5.ref = Lg(a3, l4, f4);
                      d5.return = a3;
                      a3 = d5;
                      break a;
                    }
                    c3(a3, l4);
                    break;
                  } else b(a3, l4);
                  l4 = l4.sibling;
                }
                f4.type === ya ? (d5 = Tg(f4.props.children, a3.mode, h3, f4.key), d5.return = a3, a3 = d5) : (h3 = Rg(f4.type, f4.key, f4.props, null, a3.mode, h3), h3.ref = Lg(a3, d5, f4), h3.return = a3, a3 = h3);
              }
              return g(a3);
            case wa:
              a: {
                for (l4 = f4.key; null !== d5; ) {
                  if (d5.key === l4) if (4 === d5.tag && d5.stateNode.containerInfo === f4.containerInfo && d5.stateNode.implementation === f4.implementation) {
                    c3(a3, d5.sibling);
                    d5 = e3(d5, f4.children || []);
                    d5.return = a3;
                    a3 = d5;
                    break a;
                  } else {
                    c3(a3, d5);
                    break;
                  }
                  else b(a3, d5);
                  d5 = d5.sibling;
                }
                d5 = Sg(f4, a3.mode, h3);
                d5.return = a3;
                a3 = d5;
              }
              return g(a3);
            case Ha:
              return l4 = f4._init, J(a3, d5, l4(f4._payload), h3);
          }
          if (eb(f4)) return n2(a3, d5, f4, h3);
          if (Ka(f4)) return t2(a3, d5, f4, h3);
          Mg(a3, f4);
        }
        return "string" === typeof f4 && "" !== f4 || "number" === typeof f4 ? (f4 = "" + f4, null !== d5 && 6 === d5.tag ? (c3(a3, d5.sibling), d5 = e3(d5, f4), d5.return = a3, a3 = d5) : (c3(a3, d5), d5 = Qg(f4, a3.mode, h3), d5.return = a3, a3 = d5), g(a3)) : c3(a3, d5);
      }
      return J;
    }
    var Ug = Og(true);
    var Vg = Og(false);
    var Wg = Uf(null);
    var Xg = null;
    var Yg = null;
    var Zg = null;
    function $g() {
      Zg = Yg = Xg = null;
    }
    function ah(a2) {
      var b = Wg.current;
      E(Wg);
      a2._currentValue = b;
    }
    function bh(a2, b, c3) {
      for (; null !== a2; ) {
        var d4 = a2.alternate;
        (a2.childLanes & b) !== b ? (a2.childLanes |= b, null !== d4 && (d4.childLanes |= b)) : null !== d4 && (d4.childLanes & b) !== b && (d4.childLanes |= b);
        if (a2 === c3) break;
        a2 = a2.return;
      }
    }
    function ch(a2, b) {
      Xg = a2;
      Zg = Yg = null;
      a2 = a2.dependencies;
      null !== a2 && null !== a2.firstContext && (0 !== (a2.lanes & b) && (dh = true), a2.firstContext = null);
    }
    function eh(a2) {
      var b = a2._currentValue;
      if (Zg !== a2) if (a2 = { context: a2, memoizedValue: b, next: null }, null === Yg) {
        if (null === Xg) throw Error(p3(308));
        Yg = a2;
        Xg.dependencies = { lanes: 0, firstContext: a2 };
      } else Yg = Yg.next = a2;
      return b;
    }
    var fh = null;
    function gh(a2) {
      null === fh ? fh = [a2] : fh.push(a2);
    }
    function hh(a2, b, c3, d4) {
      var e3 = b.interleaved;
      null === e3 ? (c3.next = c3, gh(b)) : (c3.next = e3.next, e3.next = c3);
      b.interleaved = c3;
      return ih(a2, d4);
    }
    function ih(a2, b) {
      a2.lanes |= b;
      var c3 = a2.alternate;
      null !== c3 && (c3.lanes |= b);
      c3 = a2;
      for (a2 = a2.return; null !== a2; ) a2.childLanes |= b, c3 = a2.alternate, null !== c3 && (c3.childLanes |= b), c3 = a2, a2 = a2.return;
      return 3 === c3.tag ? c3.stateNode : null;
    }
    var jh = false;
    function kh(a2) {
      a2.updateQueue = { baseState: a2.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, interleaved: null, lanes: 0 }, effects: null };
    }
    function lh(a2, b) {
      a2 = a2.updateQueue;
      b.updateQueue === a2 && (b.updateQueue = { baseState: a2.baseState, firstBaseUpdate: a2.firstBaseUpdate, lastBaseUpdate: a2.lastBaseUpdate, shared: a2.shared, effects: a2.effects });
    }
    function mh(a2, b) {
      return { eventTime: a2, lane: b, tag: 0, payload: null, callback: null, next: null };
    }
    function nh(a2, b, c3) {
      var d4 = a2.updateQueue;
      if (null === d4) return null;
      d4 = d4.shared;
      if (0 !== (K & 2)) {
        var e3 = d4.pending;
        null === e3 ? b.next = b : (b.next = e3.next, e3.next = b);
        d4.pending = b;
        return ih(a2, c3);
      }
      e3 = d4.interleaved;
      null === e3 ? (b.next = b, gh(d4)) : (b.next = e3.next, e3.next = b);
      d4.interleaved = b;
      return ih(a2, c3);
    }
    function oh(a2, b, c3) {
      b = b.updateQueue;
      if (null !== b && (b = b.shared, 0 !== (c3 & 4194240))) {
        var d4 = b.lanes;
        d4 &= a2.pendingLanes;
        c3 |= d4;
        b.lanes = c3;
        Cc(a2, c3);
      }
    }
    function ph(a2, b) {
      var c3 = a2.updateQueue, d4 = a2.alternate;
      if (null !== d4 && (d4 = d4.updateQueue, c3 === d4)) {
        var e3 = null, f3 = null;
        c3 = c3.firstBaseUpdate;
        if (null !== c3) {
          do {
            var g = { eventTime: c3.eventTime, lane: c3.lane, tag: c3.tag, payload: c3.payload, callback: c3.callback, next: null };
            null === f3 ? e3 = f3 = g : f3 = f3.next = g;
            c3 = c3.next;
          } while (null !== c3);
          null === f3 ? e3 = f3 = b : f3 = f3.next = b;
        } else e3 = f3 = b;
        c3 = { baseState: d4.baseState, firstBaseUpdate: e3, lastBaseUpdate: f3, shared: d4.shared, effects: d4.effects };
        a2.updateQueue = c3;
        return;
      }
      a2 = c3.lastBaseUpdate;
      null === a2 ? c3.firstBaseUpdate = b : a2.next = b;
      c3.lastBaseUpdate = b;
    }
    function qh(a2, b, c3, d4) {
      var e3 = a2.updateQueue;
      jh = false;
      var f3 = e3.firstBaseUpdate, g = e3.lastBaseUpdate, h2 = e3.shared.pending;
      if (null !== h2) {
        e3.shared.pending = null;
        var k = h2, l3 = k.next;
        k.next = null;
        null === g ? f3 = l3 : g.next = l3;
        g = k;
        var m = a2.alternate;
        null !== m && (m = m.updateQueue, h2 = m.lastBaseUpdate, h2 !== g && (null === h2 ? m.firstBaseUpdate = l3 : h2.next = l3, m.lastBaseUpdate = k));
      }
      if (null !== f3) {
        var q = e3.baseState;
        g = 0;
        m = l3 = k = null;
        h2 = f3;
        do {
          var r3 = h2.lane, y2 = h2.eventTime;
          if ((d4 & r3) === r3) {
            null !== m && (m = m.next = {
              eventTime: y2,
              lane: 0,
              tag: h2.tag,
              payload: h2.payload,
              callback: h2.callback,
              next: null
            });
            a: {
              var n2 = a2, t2 = h2;
              r3 = b;
              y2 = c3;
              switch (t2.tag) {
                case 1:
                  n2 = t2.payload;
                  if ("function" === typeof n2) {
                    q = n2.call(y2, q, r3);
                    break a;
                  }
                  q = n2;
                  break a;
                case 3:
                  n2.flags = n2.flags & -65537 | 128;
                case 0:
                  n2 = t2.payload;
                  r3 = "function" === typeof n2 ? n2.call(y2, q, r3) : n2;
                  if (null === r3 || void 0 === r3) break a;
                  q = A({}, q, r3);
                  break a;
                case 2:
                  jh = true;
              }
            }
            null !== h2.callback && 0 !== h2.lane && (a2.flags |= 64, r3 = e3.effects, null === r3 ? e3.effects = [h2] : r3.push(h2));
          } else y2 = { eventTime: y2, lane: r3, tag: h2.tag, payload: h2.payload, callback: h2.callback, next: null }, null === m ? (l3 = m = y2, k = q) : m = m.next = y2, g |= r3;
          h2 = h2.next;
          if (null === h2) if (h2 = e3.shared.pending, null === h2) break;
          else r3 = h2, h2 = r3.next, r3.next = null, e3.lastBaseUpdate = r3, e3.shared.pending = null;
        } while (1);
        null === m && (k = q);
        e3.baseState = k;
        e3.firstBaseUpdate = l3;
        e3.lastBaseUpdate = m;
        b = e3.shared.interleaved;
        if (null !== b) {
          e3 = b;
          do
            g |= e3.lane, e3 = e3.next;
          while (e3 !== b);
        } else null === f3 && (e3.shared.lanes = 0);
        rh |= g;
        a2.lanes = g;
        a2.memoizedState = q;
      }
    }
    function sh(a2, b, c3) {
      a2 = b.effects;
      b.effects = null;
      if (null !== a2) for (b = 0; b < a2.length; b++) {
        var d4 = a2[b], e3 = d4.callback;
        if (null !== e3) {
          d4.callback = null;
          d4 = c3;
          if ("function" !== typeof e3) throw Error(p3(191, e3));
          e3.call(d4);
        }
      }
    }
    var th = {};
    var uh = Uf(th);
    var vh = Uf(th);
    var wh = Uf(th);
    function xh(a2) {
      if (a2 === th) throw Error(p3(174));
      return a2;
    }
    function yh(a2, b) {
      G(wh, b);
      G(vh, a2);
      G(uh, th);
      a2 = b.nodeType;
      switch (a2) {
        case 9:
        case 11:
          b = (b = b.documentElement) ? b.namespaceURI : lb(null, "");
          break;
        default:
          a2 = 8 === a2 ? b.parentNode : b, b = a2.namespaceURI || null, a2 = a2.tagName, b = lb(b, a2);
      }
      E(uh);
      G(uh, b);
    }
    function zh() {
      E(uh);
      E(vh);
      E(wh);
    }
    function Ah(a2) {
      xh(wh.current);
      var b = xh(uh.current);
      var c3 = lb(b, a2.type);
      b !== c3 && (G(vh, a2), G(uh, c3));
    }
    function Bh(a2) {
      vh.current === a2 && (E(uh), E(vh));
    }
    var L = Uf(0);
    function Ch(a2) {
      for (var b = a2; null !== b; ) {
        if (13 === b.tag) {
          var c3 = b.memoizedState;
          if (null !== c3 && (c3 = c3.dehydrated, null === c3 || "$?" === c3.data || "$!" === c3.data)) return b;
        } else if (19 === b.tag && void 0 !== b.memoizedProps.revealOrder) {
          if (0 !== (b.flags & 128)) return b;
        } else if (null !== b.child) {
          b.child.return = b;
          b = b.child;
          continue;
        }
        if (b === a2) break;
        for (; null === b.sibling; ) {
          if (null === b.return || b.return === a2) return null;
          b = b.return;
        }
        b.sibling.return = b.return;
        b = b.sibling;
      }
      return null;
    }
    var Dh = [];
    function Eh() {
      for (var a2 = 0; a2 < Dh.length; a2++) Dh[a2]._workInProgressVersionPrimary = null;
      Dh.length = 0;
    }
    var Fh = ua.ReactCurrentDispatcher;
    var Gh = ua.ReactCurrentBatchConfig;
    var Hh = 0;
    var M = null;
    var N = null;
    var O = null;
    var Ih = false;
    var Jh = false;
    var Kh = 0;
    var Lh = 0;
    function P() {
      throw Error(p3(321));
    }
    function Mh(a2, b) {
      if (null === b) return false;
      for (var c3 = 0; c3 < b.length && c3 < a2.length; c3++) if (!He(a2[c3], b[c3])) return false;
      return true;
    }
    function Nh(a2, b, c3, d4, e3, f3) {
      Hh = f3;
      M = b;
      b.memoizedState = null;
      b.updateQueue = null;
      b.lanes = 0;
      Fh.current = null === a2 || null === a2.memoizedState ? Oh : Ph;
      a2 = c3(d4, e3);
      if (Jh) {
        f3 = 0;
        do {
          Jh = false;
          Kh = 0;
          if (25 <= f3) throw Error(p3(301));
          f3 += 1;
          O = N = null;
          b.updateQueue = null;
          Fh.current = Qh;
          a2 = c3(d4, e3);
        } while (Jh);
      }
      Fh.current = Rh;
      b = null !== N && null !== N.next;
      Hh = 0;
      O = N = M = null;
      Ih = false;
      if (b) throw Error(p3(300));
      return a2;
    }
    function Sh() {
      var a2 = 0 !== Kh;
      Kh = 0;
      return a2;
    }
    function Th() {
      var a2 = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null };
      null === O ? M.memoizedState = O = a2 : O = O.next = a2;
      return O;
    }
    function Uh() {
      if (null === N) {
        var a2 = M.alternate;
        a2 = null !== a2 ? a2.memoizedState : null;
      } else a2 = N.next;
      var b = null === O ? M.memoizedState : O.next;
      if (null !== b) O = b, N = a2;
      else {
        if (null === a2) throw Error(p3(310));
        N = a2;
        a2 = { memoizedState: N.memoizedState, baseState: N.baseState, baseQueue: N.baseQueue, queue: N.queue, next: null };
        null === O ? M.memoizedState = O = a2 : O = O.next = a2;
      }
      return O;
    }
    function Vh(a2, b) {
      return "function" === typeof b ? b(a2) : b;
    }
    function Wh(a2) {
      var b = Uh(), c3 = b.queue;
      if (null === c3) throw Error(p3(311));
      c3.lastRenderedReducer = a2;
      var d4 = N, e3 = d4.baseQueue, f3 = c3.pending;
      if (null !== f3) {
        if (null !== e3) {
          var g = e3.next;
          e3.next = f3.next;
          f3.next = g;
        }
        d4.baseQueue = e3 = f3;
        c3.pending = null;
      }
      if (null !== e3) {
        f3 = e3.next;
        d4 = d4.baseState;
        var h2 = g = null, k = null, l3 = f3;
        do {
          var m = l3.lane;
          if ((Hh & m) === m) null !== k && (k = k.next = { lane: 0, action: l3.action, hasEagerState: l3.hasEagerState, eagerState: l3.eagerState, next: null }), d4 = l3.hasEagerState ? l3.eagerState : a2(d4, l3.action);
          else {
            var q = {
              lane: m,
              action: l3.action,
              hasEagerState: l3.hasEagerState,
              eagerState: l3.eagerState,
              next: null
            };
            null === k ? (h2 = k = q, g = d4) : k = k.next = q;
            M.lanes |= m;
            rh |= m;
          }
          l3 = l3.next;
        } while (null !== l3 && l3 !== f3);
        null === k ? g = d4 : k.next = h2;
        He(d4, b.memoizedState) || (dh = true);
        b.memoizedState = d4;
        b.baseState = g;
        b.baseQueue = k;
        c3.lastRenderedState = d4;
      }
      a2 = c3.interleaved;
      if (null !== a2) {
        e3 = a2;
        do
          f3 = e3.lane, M.lanes |= f3, rh |= f3, e3 = e3.next;
        while (e3 !== a2);
      } else null === e3 && (c3.lanes = 0);
      return [b.memoizedState, c3.dispatch];
    }
    function Xh(a2) {
      var b = Uh(), c3 = b.queue;
      if (null === c3) throw Error(p3(311));
      c3.lastRenderedReducer = a2;
      var d4 = c3.dispatch, e3 = c3.pending, f3 = b.memoizedState;
      if (null !== e3) {
        c3.pending = null;
        var g = e3 = e3.next;
        do
          f3 = a2(f3, g.action), g = g.next;
        while (g !== e3);
        He(f3, b.memoizedState) || (dh = true);
        b.memoizedState = f3;
        null === b.baseQueue && (b.baseState = f3);
        c3.lastRenderedState = f3;
      }
      return [f3, d4];
    }
    function Yh() {
    }
    function Zh(a2, b) {
      var c3 = M, d4 = Uh(), e3 = b(), f3 = !He(d4.memoizedState, e3);
      f3 && (d4.memoizedState = e3, dh = true);
      d4 = d4.queue;
      $h(ai.bind(null, c3, d4, a2), [a2]);
      if (d4.getSnapshot !== b || f3 || null !== O && O.memoizedState.tag & 1) {
        c3.flags |= 2048;
        bi(9, ci.bind(null, c3, d4, e3, b), void 0, null);
        if (null === Q2) throw Error(p3(349));
        0 !== (Hh & 30) || di(c3, b, e3);
      }
      return e3;
    }
    function di(a2, b, c3) {
      a2.flags |= 16384;
      a2 = { getSnapshot: b, value: c3 };
      b = M.updateQueue;
      null === b ? (b = { lastEffect: null, stores: null }, M.updateQueue = b, b.stores = [a2]) : (c3 = b.stores, null === c3 ? b.stores = [a2] : c3.push(a2));
    }
    function ci(a2, b, c3, d4) {
      b.value = c3;
      b.getSnapshot = d4;
      ei(b) && fi(a2);
    }
    function ai(a2, b, c3) {
      return c3(function() {
        ei(b) && fi(a2);
      });
    }
    function ei(a2) {
      var b = a2.getSnapshot;
      a2 = a2.value;
      try {
        var c3 = b();
        return !He(a2, c3);
      } catch (d4) {
        return true;
      }
    }
    function fi(a2) {
      var b = ih(a2, 1);
      null !== b && gi(b, a2, 1, -1);
    }
    function hi(a2) {
      var b = Th();
      "function" === typeof a2 && (a2 = a2());
      b.memoizedState = b.baseState = a2;
      a2 = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: Vh, lastRenderedState: a2 };
      b.queue = a2;
      a2 = a2.dispatch = ii.bind(null, M, a2);
      return [b.memoizedState, a2];
    }
    function bi(a2, b, c3, d4) {
      a2 = { tag: a2, create: b, destroy: c3, deps: d4, next: null };
      b = M.updateQueue;
      null === b ? (b = { lastEffect: null, stores: null }, M.updateQueue = b, b.lastEffect = a2.next = a2) : (c3 = b.lastEffect, null === c3 ? b.lastEffect = a2.next = a2 : (d4 = c3.next, c3.next = a2, a2.next = d4, b.lastEffect = a2));
      return a2;
    }
    function ji() {
      return Uh().memoizedState;
    }
    function ki(a2, b, c3, d4) {
      var e3 = Th();
      M.flags |= a2;
      e3.memoizedState = bi(1 | b, c3, void 0, void 0 === d4 ? null : d4);
    }
    function li(a2, b, c3, d4) {
      var e3 = Uh();
      d4 = void 0 === d4 ? null : d4;
      var f3 = void 0;
      if (null !== N) {
        var g = N.memoizedState;
        f3 = g.destroy;
        if (null !== d4 && Mh(d4, g.deps)) {
          e3.memoizedState = bi(b, c3, f3, d4);
          return;
        }
      }
      M.flags |= a2;
      e3.memoizedState = bi(1 | b, c3, f3, d4);
    }
    function mi(a2, b) {
      return ki(8390656, 8, a2, b);
    }
    function $h(a2, b) {
      return li(2048, 8, a2, b);
    }
    function ni(a2, b) {
      return li(4, 2, a2, b);
    }
    function oi(a2, b) {
      return li(4, 4, a2, b);
    }
    function pi(a2, b) {
      if ("function" === typeof b) return a2 = a2(), b(a2), function() {
        b(null);
      };
      if (null !== b && void 0 !== b) return a2 = a2(), b.current = a2, function() {
        b.current = null;
      };
    }
    function qi(a2, b, c3) {
      c3 = null !== c3 && void 0 !== c3 ? c3.concat([a2]) : null;
      return li(4, 4, pi.bind(null, b, a2), c3);
    }
    function ri() {
    }
    function si(a2, b) {
      var c3 = Uh();
      b = void 0 === b ? null : b;
      var d4 = c3.memoizedState;
      if (null !== d4 && null !== b && Mh(b, d4[1])) return d4[0];
      c3.memoizedState = [a2, b];
      return a2;
    }
    function ti(a2, b) {
      var c3 = Uh();
      b = void 0 === b ? null : b;
      var d4 = c3.memoizedState;
      if (null !== d4 && null !== b && Mh(b, d4[1])) return d4[0];
      a2 = a2();
      c3.memoizedState = [a2, b];
      return a2;
    }
    function ui(a2, b, c3) {
      if (0 === (Hh & 21)) return a2.baseState && (a2.baseState = false, dh = true), a2.memoizedState = c3;
      He(c3, b) || (c3 = yc(), M.lanes |= c3, rh |= c3, a2.baseState = true);
      return b;
    }
    function vi(a2, b) {
      var c3 = C2;
      C2 = 0 !== c3 && 4 > c3 ? c3 : 4;
      a2(true);
      var d4 = Gh.transition;
      Gh.transition = {};
      try {
        a2(false), b();
      } finally {
        C2 = c3, Gh.transition = d4;
      }
    }
    function wi() {
      return Uh().memoizedState;
    }
    function xi(a2, b, c3) {
      var d4 = yi(a2);
      c3 = { lane: d4, action: c3, hasEagerState: false, eagerState: null, next: null };
      if (zi(a2)) Ai(b, c3);
      else if (c3 = hh(a2, b, c3, d4), null !== c3) {
        var e3 = R();
        gi(c3, a2, d4, e3);
        Bi(c3, b, d4);
      }
    }
    function ii(a2, b, c3) {
      var d4 = yi(a2), e3 = { lane: d4, action: c3, hasEagerState: false, eagerState: null, next: null };
      if (zi(a2)) Ai(b, e3);
      else {
        var f3 = a2.alternate;
        if (0 === a2.lanes && (null === f3 || 0 === f3.lanes) && (f3 = b.lastRenderedReducer, null !== f3)) try {
          var g = b.lastRenderedState, h2 = f3(g, c3);
          e3.hasEagerState = true;
          e3.eagerState = h2;
          if (He(h2, g)) {
            var k = b.interleaved;
            null === k ? (e3.next = e3, gh(b)) : (e3.next = k.next, k.next = e3);
            b.interleaved = e3;
            return;
          }
        } catch (l3) {
        } finally {
        }
        c3 = hh(a2, b, e3, d4);
        null !== c3 && (e3 = R(), gi(c3, a2, d4, e3), Bi(c3, b, d4));
      }
    }
    function zi(a2) {
      var b = a2.alternate;
      return a2 === M || null !== b && b === M;
    }
    function Ai(a2, b) {
      Jh = Ih = true;
      var c3 = a2.pending;
      null === c3 ? b.next = b : (b.next = c3.next, c3.next = b);
      a2.pending = b;
    }
    function Bi(a2, b, c3) {
      if (0 !== (c3 & 4194240)) {
        var d4 = b.lanes;
        d4 &= a2.pendingLanes;
        c3 |= d4;
        b.lanes = c3;
        Cc(a2, c3);
      }
    }
    var Rh = { readContext: eh, useCallback: P, useContext: P, useEffect: P, useImperativeHandle: P, useInsertionEffect: P, useLayoutEffect: P, useMemo: P, useReducer: P, useRef: P, useState: P, useDebugValue: P, useDeferredValue: P, useTransition: P, useMutableSource: P, useSyncExternalStore: P, useId: P, unstable_isNewReconciler: false };
    var Oh = { readContext: eh, useCallback: function(a2, b) {
      Th().memoizedState = [a2, void 0 === b ? null : b];
      return a2;
    }, useContext: eh, useEffect: mi, useImperativeHandle: function(a2, b, c3) {
      c3 = null !== c3 && void 0 !== c3 ? c3.concat([a2]) : null;
      return ki(
        4194308,
        4,
        pi.bind(null, b, a2),
        c3
      );
    }, useLayoutEffect: function(a2, b) {
      return ki(4194308, 4, a2, b);
    }, useInsertionEffect: function(a2, b) {
      return ki(4, 2, a2, b);
    }, useMemo: function(a2, b) {
      var c3 = Th();
      b = void 0 === b ? null : b;
      a2 = a2();
      c3.memoizedState = [a2, b];
      return a2;
    }, useReducer: function(a2, b, c3) {
      var d4 = Th();
      b = void 0 !== c3 ? c3(b) : b;
      d4.memoizedState = d4.baseState = b;
      a2 = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: a2, lastRenderedState: b };
      d4.queue = a2;
      a2 = a2.dispatch = xi.bind(null, M, a2);
      return [d4.memoizedState, a2];
    }, useRef: function(a2) {
      var b = Th();
      a2 = { current: a2 };
      return b.memoizedState = a2;
    }, useState: hi, useDebugValue: ri, useDeferredValue: function(a2) {
      return Th().memoizedState = a2;
    }, useTransition: function() {
      var a2 = hi(false), b = a2[0];
      a2 = vi.bind(null, a2[1]);
      Th().memoizedState = a2;
      return [b, a2];
    }, useMutableSource: function() {
    }, useSyncExternalStore: function(a2, b, c3) {
      var d4 = M, e3 = Th();
      if (I2) {
        if (void 0 === c3) throw Error(p3(407));
        c3 = c3();
      } else {
        c3 = b();
        if (null === Q2) throw Error(p3(349));
        0 !== (Hh & 30) || di(d4, b, c3);
      }
      e3.memoizedState = c3;
      var f3 = { value: c3, getSnapshot: b };
      e3.queue = f3;
      mi(ai.bind(
        null,
        d4,
        f3,
        a2
      ), [a2]);
      d4.flags |= 2048;
      bi(9, ci.bind(null, d4, f3, c3, b), void 0, null);
      return c3;
    }, useId: function() {
      var a2 = Th(), b = Q2.identifierPrefix;
      if (I2) {
        var c3 = sg;
        var d4 = rg;
        c3 = (d4 & ~(1 << 32 - oc(d4) - 1)).toString(32) + c3;
        b = ":" + b + "R" + c3;
        c3 = Kh++;
        0 < c3 && (b += "H" + c3.toString(32));
        b += ":";
      } else c3 = Lh++, b = ":" + b + "r" + c3.toString(32) + ":";
      return a2.memoizedState = b;
    }, unstable_isNewReconciler: false };
    var Ph = {
      readContext: eh,
      useCallback: si,
      useContext: eh,
      useEffect: $h,
      useImperativeHandle: qi,
      useInsertionEffect: ni,
      useLayoutEffect: oi,
      useMemo: ti,
      useReducer: Wh,
      useRef: ji,
      useState: function() {
        return Wh(Vh);
      },
      useDebugValue: ri,
      useDeferredValue: function(a2) {
        var b = Uh();
        return ui(b, N.memoizedState, a2);
      },
      useTransition: function() {
        var a2 = Wh(Vh)[0], b = Uh().memoizedState;
        return [a2, b];
      },
      useMutableSource: Yh,
      useSyncExternalStore: Zh,
      useId: wi,
      unstable_isNewReconciler: false
    };
    var Qh = { readContext: eh, useCallback: si, useContext: eh, useEffect: $h, useImperativeHandle: qi, useInsertionEffect: ni, useLayoutEffect: oi, useMemo: ti, useReducer: Xh, useRef: ji, useState: function() {
      return Xh(Vh);
    }, useDebugValue: ri, useDeferredValue: function(a2) {
      var b = Uh();
      return null === N ? b.memoizedState = a2 : ui(b, N.memoizedState, a2);
    }, useTransition: function() {
      var a2 = Xh(Vh)[0], b = Uh().memoizedState;
      return [a2, b];
    }, useMutableSource: Yh, useSyncExternalStore: Zh, useId: wi, unstable_isNewReconciler: false };
    function Ci(a2, b) {
      if (a2 && a2.defaultProps) {
        b = A({}, b);
        a2 = a2.defaultProps;
        for (var c3 in a2) void 0 === b[c3] && (b[c3] = a2[c3]);
        return b;
      }
      return b;
    }
    function Di(a2, b, c3, d4) {
      b = a2.memoizedState;
      c3 = c3(d4, b);
      c3 = null === c3 || void 0 === c3 ? b : A({}, b, c3);
      a2.memoizedState = c3;
      0 === a2.lanes && (a2.updateQueue.baseState = c3);
    }
    var Ei = { isMounted: function(a2) {
      return (a2 = a2._reactInternals) ? Vb(a2) === a2 : false;
    }, enqueueSetState: function(a2, b, c3) {
      a2 = a2._reactInternals;
      var d4 = R(), e3 = yi(a2), f3 = mh(d4, e3);
      f3.payload = b;
      void 0 !== c3 && null !== c3 && (f3.callback = c3);
      b = nh(a2, f3, e3);
      null !== b && (gi(b, a2, e3, d4), oh(b, a2, e3));
    }, enqueueReplaceState: function(a2, b, c3) {
      a2 = a2._reactInternals;
      var d4 = R(), e3 = yi(a2), f3 = mh(d4, e3);
      f3.tag = 1;
      f3.payload = b;
      void 0 !== c3 && null !== c3 && (f3.callback = c3);
      b = nh(a2, f3, e3);
      null !== b && (gi(b, a2, e3, d4), oh(b, a2, e3));
    }, enqueueForceUpdate: function(a2, b) {
      a2 = a2._reactInternals;
      var c3 = R(), d4 = yi(a2), e3 = mh(c3, d4);
      e3.tag = 2;
      void 0 !== b && null !== b && (e3.callback = b);
      b = nh(a2, e3, d4);
      null !== b && (gi(b, a2, d4, c3), oh(b, a2, d4));
    } };
    function Fi(a2, b, c3, d4, e3, f3, g) {
      a2 = a2.stateNode;
      return "function" === typeof a2.shouldComponentUpdate ? a2.shouldComponentUpdate(d4, f3, g) : b.prototype && b.prototype.isPureReactComponent ? !Ie(c3, d4) || !Ie(e3, f3) : true;
    }
    function Gi(a2, b, c3) {
      var d4 = false, e3 = Vf;
      var f3 = b.contextType;
      "object" === typeof f3 && null !== f3 ? f3 = eh(f3) : (e3 = Zf(b) ? Xf : H.current, d4 = b.contextTypes, f3 = (d4 = null !== d4 && void 0 !== d4) ? Yf(a2, e3) : Vf);
      b = new b(c3, f3);
      a2.memoizedState = null !== b.state && void 0 !== b.state ? b.state : null;
      b.updater = Ei;
      a2.stateNode = b;
      b._reactInternals = a2;
      d4 && (a2 = a2.stateNode, a2.__reactInternalMemoizedUnmaskedChildContext = e3, a2.__reactInternalMemoizedMaskedChildContext = f3);
      return b;
    }
    function Hi(a2, b, c3, d4) {
      a2 = b.state;
      "function" === typeof b.componentWillReceiveProps && b.componentWillReceiveProps(c3, d4);
      "function" === typeof b.UNSAFE_componentWillReceiveProps && b.UNSAFE_componentWillReceiveProps(c3, d4);
      b.state !== a2 && Ei.enqueueReplaceState(b, b.state, null);
    }
    function Ii(a2, b, c3, d4) {
      var e3 = a2.stateNode;
      e3.props = c3;
      e3.state = a2.memoizedState;
      e3.refs = {};
      kh(a2);
      var f3 = b.contextType;
      "object" === typeof f3 && null !== f3 ? e3.context = eh(f3) : (f3 = Zf(b) ? Xf : H.current, e3.context = Yf(a2, f3));
      e3.state = a2.memoizedState;
      f3 = b.getDerivedStateFromProps;
      "function" === typeof f3 && (Di(a2, b, f3, c3), e3.state = a2.memoizedState);
      "function" === typeof b.getDerivedStateFromProps || "function" === typeof e3.getSnapshotBeforeUpdate || "function" !== typeof e3.UNSAFE_componentWillMount && "function" !== typeof e3.componentWillMount || (b = e3.state, "function" === typeof e3.componentWillMount && e3.componentWillMount(), "function" === typeof e3.UNSAFE_componentWillMount && e3.UNSAFE_componentWillMount(), b !== e3.state && Ei.enqueueReplaceState(e3, e3.state, null), qh(a2, c3, e3, d4), e3.state = a2.memoizedState);
      "function" === typeof e3.componentDidMount && (a2.flags |= 4194308);
    }
    function Ji(a2, b) {
      try {
        var c3 = "", d4 = b;
        do
          c3 += Pa(d4), d4 = d4.return;
        while (d4);
        var e3 = c3;
      } catch (f3) {
        e3 = "\nError generating stack: " + f3.message + "\n" + f3.stack;
      }
      return { value: a2, source: b, stack: e3, digest: null };
    }
    function Ki(a2, b, c3) {
      return { value: a2, source: null, stack: null != c3 ? c3 : null, digest: null != b ? b : null };
    }
    function Li(a2, b) {
      try {
        console.error(b.value);
      } catch (c3) {
        setTimeout(function() {
          throw c3;
        });
      }
    }
    var Mi = "function" === typeof WeakMap ? WeakMap : Map;
    function Ni(a2, b, c3) {
      c3 = mh(-1, c3);
      c3.tag = 3;
      c3.payload = { element: null };
      var d4 = b.value;
      c3.callback = function() {
        Oi || (Oi = true, Pi = d4);
        Li(a2, b);
      };
      return c3;
    }
    function Qi(a2, b, c3) {
      c3 = mh(-1, c3);
      c3.tag = 3;
      var d4 = a2.type.getDerivedStateFromError;
      if ("function" === typeof d4) {
        var e3 = b.value;
        c3.payload = function() {
          return d4(e3);
        };
        c3.callback = function() {
          Li(a2, b);
        };
      }
      var f3 = a2.stateNode;
      null !== f3 && "function" === typeof f3.componentDidCatch && (c3.callback = function() {
        Li(a2, b);
        "function" !== typeof d4 && (null === Ri ? Ri = /* @__PURE__ */ new Set([this]) : Ri.add(this));
        var c4 = b.stack;
        this.componentDidCatch(b.value, { componentStack: null !== c4 ? c4 : "" });
      });
      return c3;
    }
    function Si(a2, b, c3) {
      var d4 = a2.pingCache;
      if (null === d4) {
        d4 = a2.pingCache = new Mi();
        var e3 = /* @__PURE__ */ new Set();
        d4.set(b, e3);
      } else e3 = d4.get(b), void 0 === e3 && (e3 = /* @__PURE__ */ new Set(), d4.set(b, e3));
      e3.has(c3) || (e3.add(c3), a2 = Ti.bind(null, a2, b, c3), b.then(a2, a2));
    }
    function Ui(a2) {
      do {
        var b;
        if (b = 13 === a2.tag) b = a2.memoizedState, b = null !== b ? null !== b.dehydrated ? true : false : true;
        if (b) return a2;
        a2 = a2.return;
      } while (null !== a2);
      return null;
    }
    function Vi(a2, b, c3, d4, e3) {
      if (0 === (a2.mode & 1)) return a2 === b ? a2.flags |= 65536 : (a2.flags |= 128, c3.flags |= 131072, c3.flags &= -52805, 1 === c3.tag && (null === c3.alternate ? c3.tag = 17 : (b = mh(-1, 1), b.tag = 2, nh(c3, b, 1))), c3.lanes |= 1), a2;
      a2.flags |= 65536;
      a2.lanes = e3;
      return a2;
    }
    var Wi = ua.ReactCurrentOwner;
    var dh = false;
    function Xi(a2, b, c3, d4) {
      b.child = null === a2 ? Vg(b, null, c3, d4) : Ug(b, a2.child, c3, d4);
    }
    function Yi(a2, b, c3, d4, e3) {
      c3 = c3.render;
      var f3 = b.ref;
      ch(b, e3);
      d4 = Nh(a2, b, c3, d4, f3, e3);
      c3 = Sh();
      if (null !== a2 && !dh) return b.updateQueue = a2.updateQueue, b.flags &= -2053, a2.lanes &= ~e3, Zi(a2, b, e3);
      I2 && c3 && vg(b);
      b.flags |= 1;
      Xi(a2, b, d4, e3);
      return b.child;
    }
    function $i(a2, b, c3, d4, e3) {
      if (null === a2) {
        var f3 = c3.type;
        if ("function" === typeof f3 && !aj(f3) && void 0 === f3.defaultProps && null === c3.compare && void 0 === c3.defaultProps) return b.tag = 15, b.type = f3, bj(a2, b, f3, d4, e3);
        a2 = Rg(c3.type, null, d4, b, b.mode, e3);
        a2.ref = b.ref;
        a2.return = b;
        return b.child = a2;
      }
      f3 = a2.child;
      if (0 === (a2.lanes & e3)) {
        var g = f3.memoizedProps;
        c3 = c3.compare;
        c3 = null !== c3 ? c3 : Ie;
        if (c3(g, d4) && a2.ref === b.ref) return Zi(a2, b, e3);
      }
      b.flags |= 1;
      a2 = Pg(f3, d4);
      a2.ref = b.ref;
      a2.return = b;
      return b.child = a2;
    }
    function bj(a2, b, c3, d4, e3) {
      if (null !== a2) {
        var f3 = a2.memoizedProps;
        if (Ie(f3, d4) && a2.ref === b.ref) if (dh = false, b.pendingProps = d4 = f3, 0 !== (a2.lanes & e3)) 0 !== (a2.flags & 131072) && (dh = true);
        else return b.lanes = a2.lanes, Zi(a2, b, e3);
      }
      return cj(a2, b, c3, d4, e3);
    }
    function dj(a2, b, c3) {
      var d4 = b.pendingProps, e3 = d4.children, f3 = null !== a2 ? a2.memoizedState : null;
      if ("hidden" === d4.mode) if (0 === (b.mode & 1)) b.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, G(ej, fj), fj |= c3;
      else {
        if (0 === (c3 & 1073741824)) return a2 = null !== f3 ? f3.baseLanes | c3 : c3, b.lanes = b.childLanes = 1073741824, b.memoizedState = { baseLanes: a2, cachePool: null, transitions: null }, b.updateQueue = null, G(ej, fj), fj |= a2, null;
        b.memoizedState = { baseLanes: 0, cachePool: null, transitions: null };
        d4 = null !== f3 ? f3.baseLanes : c3;
        G(ej, fj);
        fj |= d4;
      }
      else null !== f3 ? (d4 = f3.baseLanes | c3, b.memoizedState = null) : d4 = c3, G(ej, fj), fj |= d4;
      Xi(a2, b, e3, c3);
      return b.child;
    }
    function gj(a2, b) {
      var c3 = b.ref;
      if (null === a2 && null !== c3 || null !== a2 && a2.ref !== c3) b.flags |= 512, b.flags |= 2097152;
    }
    function cj(a2, b, c3, d4, e3) {
      var f3 = Zf(c3) ? Xf : H.current;
      f3 = Yf(b, f3);
      ch(b, e3);
      c3 = Nh(a2, b, c3, d4, f3, e3);
      d4 = Sh();
      if (null !== a2 && !dh) return b.updateQueue = a2.updateQueue, b.flags &= -2053, a2.lanes &= ~e3, Zi(a2, b, e3);
      I2 && d4 && vg(b);
      b.flags |= 1;
      Xi(a2, b, c3, e3);
      return b.child;
    }
    function hj(a2, b, c3, d4, e3) {
      if (Zf(c3)) {
        var f3 = true;
        cg(b);
      } else f3 = false;
      ch(b, e3);
      if (null === b.stateNode) ij(a2, b), Gi(b, c3, d4), Ii(b, c3, d4, e3), d4 = true;
      else if (null === a2) {
        var g = b.stateNode, h2 = b.memoizedProps;
        g.props = h2;
        var k = g.context, l3 = c3.contextType;
        "object" === typeof l3 && null !== l3 ? l3 = eh(l3) : (l3 = Zf(c3) ? Xf : H.current, l3 = Yf(b, l3));
        var m = c3.getDerivedStateFromProps, q = "function" === typeof m || "function" === typeof g.getSnapshotBeforeUpdate;
        q || "function" !== typeof g.UNSAFE_componentWillReceiveProps && "function" !== typeof g.componentWillReceiveProps || (h2 !== d4 || k !== l3) && Hi(b, g, d4, l3);
        jh = false;
        var r3 = b.memoizedState;
        g.state = r3;
        qh(b, d4, g, e3);
        k = b.memoizedState;
        h2 !== d4 || r3 !== k || Wf.current || jh ? ("function" === typeof m && (Di(b, c3, m, d4), k = b.memoizedState), (h2 = jh || Fi(b, c3, h2, d4, r3, k, l3)) ? (q || "function" !== typeof g.UNSAFE_componentWillMount && "function" !== typeof g.componentWillMount || ("function" === typeof g.componentWillMount && g.componentWillMount(), "function" === typeof g.UNSAFE_componentWillMount && g.UNSAFE_componentWillMount()), "function" === typeof g.componentDidMount && (b.flags |= 4194308)) : ("function" === typeof g.componentDidMount && (b.flags |= 4194308), b.memoizedProps = d4, b.memoizedState = k), g.props = d4, g.state = k, g.context = l3, d4 = h2) : ("function" === typeof g.componentDidMount && (b.flags |= 4194308), d4 = false);
      } else {
        g = b.stateNode;
        lh(a2, b);
        h2 = b.memoizedProps;
        l3 = b.type === b.elementType ? h2 : Ci(b.type, h2);
        g.props = l3;
        q = b.pendingProps;
        r3 = g.context;
        k = c3.contextType;
        "object" === typeof k && null !== k ? k = eh(k) : (k = Zf(c3) ? Xf : H.current, k = Yf(b, k));
        var y2 = c3.getDerivedStateFromProps;
        (m = "function" === typeof y2 || "function" === typeof g.getSnapshotBeforeUpdate) || "function" !== typeof g.UNSAFE_componentWillReceiveProps && "function" !== typeof g.componentWillReceiveProps || (h2 !== q || r3 !== k) && Hi(b, g, d4, k);
        jh = false;
        r3 = b.memoizedState;
        g.state = r3;
        qh(b, d4, g, e3);
        var n2 = b.memoizedState;
        h2 !== q || r3 !== n2 || Wf.current || jh ? ("function" === typeof y2 && (Di(b, c3, y2, d4), n2 = b.memoizedState), (l3 = jh || Fi(b, c3, l3, d4, r3, n2, k) || false) ? (m || "function" !== typeof g.UNSAFE_componentWillUpdate && "function" !== typeof g.componentWillUpdate || ("function" === typeof g.componentWillUpdate && g.componentWillUpdate(d4, n2, k), "function" === typeof g.UNSAFE_componentWillUpdate && g.UNSAFE_componentWillUpdate(d4, n2, k)), "function" === typeof g.componentDidUpdate && (b.flags |= 4), "function" === typeof g.getSnapshotBeforeUpdate && (b.flags |= 1024)) : ("function" !== typeof g.componentDidUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 4), "function" !== typeof g.getSnapshotBeforeUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 1024), b.memoizedProps = d4, b.memoizedState = n2), g.props = d4, g.state = n2, g.context = k, d4 = l3) : ("function" !== typeof g.componentDidUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 4), "function" !== typeof g.getSnapshotBeforeUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 1024), d4 = false);
      }
      return jj(a2, b, c3, d4, f3, e3);
    }
    function jj(a2, b, c3, d4, e3, f3) {
      gj(a2, b);
      var g = 0 !== (b.flags & 128);
      if (!d4 && !g) return e3 && dg(b, c3, false), Zi(a2, b, f3);
      d4 = b.stateNode;
      Wi.current = b;
      var h2 = g && "function" !== typeof c3.getDerivedStateFromError ? null : d4.render();
      b.flags |= 1;
      null !== a2 && g ? (b.child = Ug(b, a2.child, null, f3), b.child = Ug(b, null, h2, f3)) : Xi(a2, b, h2, f3);
      b.memoizedState = d4.state;
      e3 && dg(b, c3, true);
      return b.child;
    }
    function kj(a2) {
      var b = a2.stateNode;
      b.pendingContext ? ag(a2, b.pendingContext, b.pendingContext !== b.context) : b.context && ag(a2, b.context, false);
      yh(a2, b.containerInfo);
    }
    function lj(a2, b, c3, d4, e3) {
      Ig();
      Jg(e3);
      b.flags |= 256;
      Xi(a2, b, c3, d4);
      return b.child;
    }
    var mj = { dehydrated: null, treeContext: null, retryLane: 0 };
    function nj(a2) {
      return { baseLanes: a2, cachePool: null, transitions: null };
    }
    function oj(a2, b, c3) {
      var d4 = b.pendingProps, e3 = L.current, f3 = false, g = 0 !== (b.flags & 128), h2;
      (h2 = g) || (h2 = null !== a2 && null === a2.memoizedState ? false : 0 !== (e3 & 2));
      if (h2) f3 = true, b.flags &= -129;
      else if (null === a2 || null !== a2.memoizedState) e3 |= 1;
      G(L, e3 & 1);
      if (null === a2) {
        Eg(b);
        a2 = b.memoizedState;
        if (null !== a2 && (a2 = a2.dehydrated, null !== a2)) return 0 === (b.mode & 1) ? b.lanes = 1 : "$!" === a2.data ? b.lanes = 8 : b.lanes = 1073741824, null;
        g = d4.children;
        a2 = d4.fallback;
        return f3 ? (d4 = b.mode, f3 = b.child, g = { mode: "hidden", children: g }, 0 === (d4 & 1) && null !== f3 ? (f3.childLanes = 0, f3.pendingProps = g) : f3 = pj(g, d4, 0, null), a2 = Tg(a2, d4, c3, null), f3.return = b, a2.return = b, f3.sibling = a2, b.child = f3, b.child.memoizedState = nj(c3), b.memoizedState = mj, a2) : qj(b, g);
      }
      e3 = a2.memoizedState;
      if (null !== e3 && (h2 = e3.dehydrated, null !== h2)) return rj(a2, b, g, d4, h2, e3, c3);
      if (f3) {
        f3 = d4.fallback;
        g = b.mode;
        e3 = a2.child;
        h2 = e3.sibling;
        var k = { mode: "hidden", children: d4.children };
        0 === (g & 1) && b.child !== e3 ? (d4 = b.child, d4.childLanes = 0, d4.pendingProps = k, b.deletions = null) : (d4 = Pg(e3, k), d4.subtreeFlags = e3.subtreeFlags & 14680064);
        null !== h2 ? f3 = Pg(h2, f3) : (f3 = Tg(f3, g, c3, null), f3.flags |= 2);
        f3.return = b;
        d4.return = b;
        d4.sibling = f3;
        b.child = d4;
        d4 = f3;
        f3 = b.child;
        g = a2.child.memoizedState;
        g = null === g ? nj(c3) : { baseLanes: g.baseLanes | c3, cachePool: null, transitions: g.transitions };
        f3.memoizedState = g;
        f3.childLanes = a2.childLanes & ~c3;
        b.memoizedState = mj;
        return d4;
      }
      f3 = a2.child;
      a2 = f3.sibling;
      d4 = Pg(f3, { mode: "visible", children: d4.children });
      0 === (b.mode & 1) && (d4.lanes = c3);
      d4.return = b;
      d4.sibling = null;
      null !== a2 && (c3 = b.deletions, null === c3 ? (b.deletions = [a2], b.flags |= 16) : c3.push(a2));
      b.child = d4;
      b.memoizedState = null;
      return d4;
    }
    function qj(a2, b) {
      b = pj({ mode: "visible", children: b }, a2.mode, 0, null);
      b.return = a2;
      return a2.child = b;
    }
    function sj(a2, b, c3, d4) {
      null !== d4 && Jg(d4);
      Ug(b, a2.child, null, c3);
      a2 = qj(b, b.pendingProps.children);
      a2.flags |= 2;
      b.memoizedState = null;
      return a2;
    }
    function rj(a2, b, c3, d4, e3, f3, g) {
      if (c3) {
        if (b.flags & 256) return b.flags &= -257, d4 = Ki(Error(p3(422))), sj(a2, b, g, d4);
        if (null !== b.memoizedState) return b.child = a2.child, b.flags |= 128, null;
        f3 = d4.fallback;
        e3 = b.mode;
        d4 = pj({ mode: "visible", children: d4.children }, e3, 0, null);
        f3 = Tg(f3, e3, g, null);
        f3.flags |= 2;
        d4.return = b;
        f3.return = b;
        d4.sibling = f3;
        b.child = d4;
        0 !== (b.mode & 1) && Ug(b, a2.child, null, g);
        b.child.memoizedState = nj(g);
        b.memoizedState = mj;
        return f3;
      }
      if (0 === (b.mode & 1)) return sj(a2, b, g, null);
      if ("$!" === e3.data) {
        d4 = e3.nextSibling && e3.nextSibling.dataset;
        if (d4) var h2 = d4.dgst;
        d4 = h2;
        f3 = Error(p3(419));
        d4 = Ki(f3, d4, void 0);
        return sj(a2, b, g, d4);
      }
      h2 = 0 !== (g & a2.childLanes);
      if (dh || h2) {
        d4 = Q2;
        if (null !== d4) {
          switch (g & -g) {
            case 4:
              e3 = 2;
              break;
            case 16:
              e3 = 8;
              break;
            case 64:
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
            case 67108864:
              e3 = 32;
              break;
            case 536870912:
              e3 = 268435456;
              break;
            default:
              e3 = 0;
          }
          e3 = 0 !== (e3 & (d4.suspendedLanes | g)) ? 0 : e3;
          0 !== e3 && e3 !== f3.retryLane && (f3.retryLane = e3, ih(a2, e3), gi(d4, a2, e3, -1));
        }
        tj();
        d4 = Ki(Error(p3(421)));
        return sj(a2, b, g, d4);
      }
      if ("$?" === e3.data) return b.flags |= 128, b.child = a2.child, b = uj.bind(null, a2), e3._reactRetry = b, null;
      a2 = f3.treeContext;
      yg = Lf(e3.nextSibling);
      xg = b;
      I2 = true;
      zg = null;
      null !== a2 && (og[pg++] = rg, og[pg++] = sg, og[pg++] = qg, rg = a2.id, sg = a2.overflow, qg = b);
      b = qj(b, d4.children);
      b.flags |= 4096;
      return b;
    }
    function vj(a2, b, c3) {
      a2.lanes |= b;
      var d4 = a2.alternate;
      null !== d4 && (d4.lanes |= b);
      bh(a2.return, b, c3);
    }
    function wj(a2, b, c3, d4, e3) {
      var f3 = a2.memoizedState;
      null === f3 ? a2.memoizedState = { isBackwards: b, rendering: null, renderingStartTime: 0, last: d4, tail: c3, tailMode: e3 } : (f3.isBackwards = b, f3.rendering = null, f3.renderingStartTime = 0, f3.last = d4, f3.tail = c3, f3.tailMode = e3);
    }
    function xj(a2, b, c3) {
      var d4 = b.pendingProps, e3 = d4.revealOrder, f3 = d4.tail;
      Xi(a2, b, d4.children, c3);
      d4 = L.current;
      if (0 !== (d4 & 2)) d4 = d4 & 1 | 2, b.flags |= 128;
      else {
        if (null !== a2 && 0 !== (a2.flags & 128)) a: for (a2 = b.child; null !== a2; ) {
          if (13 === a2.tag) null !== a2.memoizedState && vj(a2, c3, b);
          else if (19 === a2.tag) vj(a2, c3, b);
          else if (null !== a2.child) {
            a2.child.return = a2;
            a2 = a2.child;
            continue;
          }
          if (a2 === b) break a;
          for (; null === a2.sibling; ) {
            if (null === a2.return || a2.return === b) break a;
            a2 = a2.return;
          }
          a2.sibling.return = a2.return;
          a2 = a2.sibling;
        }
        d4 &= 1;
      }
      G(L, d4);
      if (0 === (b.mode & 1)) b.memoizedState = null;
      else switch (e3) {
        case "forwards":
          c3 = b.child;
          for (e3 = null; null !== c3; ) a2 = c3.alternate, null !== a2 && null === Ch(a2) && (e3 = c3), c3 = c3.sibling;
          c3 = e3;
          null === c3 ? (e3 = b.child, b.child = null) : (e3 = c3.sibling, c3.sibling = null);
          wj(b, false, e3, c3, f3);
          break;
        case "backwards":
          c3 = null;
          e3 = b.child;
          for (b.child = null; null !== e3; ) {
            a2 = e3.alternate;
            if (null !== a2 && null === Ch(a2)) {
              b.child = e3;
              break;
            }
            a2 = e3.sibling;
            e3.sibling = c3;
            c3 = e3;
            e3 = a2;
          }
          wj(b, true, c3, null, f3);
          break;
        case "together":
          wj(b, false, null, null, void 0);
          break;
        default:
          b.memoizedState = null;
      }
      return b.child;
    }
    function ij(a2, b) {
      0 === (b.mode & 1) && null !== a2 && (a2.alternate = null, b.alternate = null, b.flags |= 2);
    }
    function Zi(a2, b, c3) {
      null !== a2 && (b.dependencies = a2.dependencies);
      rh |= b.lanes;
      if (0 === (c3 & b.childLanes)) return null;
      if (null !== a2 && b.child !== a2.child) throw Error(p3(153));
      if (null !== b.child) {
        a2 = b.child;
        c3 = Pg(a2, a2.pendingProps);
        b.child = c3;
        for (c3.return = b; null !== a2.sibling; ) a2 = a2.sibling, c3 = c3.sibling = Pg(a2, a2.pendingProps), c3.return = b;
        c3.sibling = null;
      }
      return b.child;
    }
    function yj(a2, b, c3) {
      switch (b.tag) {
        case 3:
          kj(b);
          Ig();
          break;
        case 5:
          Ah(b);
          break;
        case 1:
          Zf(b.type) && cg(b);
          break;
        case 4:
          yh(b, b.stateNode.containerInfo);
          break;
        case 10:
          var d4 = b.type._context, e3 = b.memoizedProps.value;
          G(Wg, d4._currentValue);
          d4._currentValue = e3;
          break;
        case 13:
          d4 = b.memoizedState;
          if (null !== d4) {
            if (null !== d4.dehydrated) return G(L, L.current & 1), b.flags |= 128, null;
            if (0 !== (c3 & b.child.childLanes)) return oj(a2, b, c3);
            G(L, L.current & 1);
            a2 = Zi(a2, b, c3);
            return null !== a2 ? a2.sibling : null;
          }
          G(L, L.current & 1);
          break;
        case 19:
          d4 = 0 !== (c3 & b.childLanes);
          if (0 !== (a2.flags & 128)) {
            if (d4) return xj(a2, b, c3);
            b.flags |= 128;
          }
          e3 = b.memoizedState;
          null !== e3 && (e3.rendering = null, e3.tail = null, e3.lastEffect = null);
          G(L, L.current);
          if (d4) break;
          else return null;
        case 22:
        case 23:
          return b.lanes = 0, dj(a2, b, c3);
      }
      return Zi(a2, b, c3);
    }
    var zj;
    var Aj;
    var Bj;
    var Cj;
    zj = function(a2, b) {
      for (var c3 = b.child; null !== c3; ) {
        if (5 === c3.tag || 6 === c3.tag) a2.appendChild(c3.stateNode);
        else if (4 !== c3.tag && null !== c3.child) {
          c3.child.return = c3;
          c3 = c3.child;
          continue;
        }
        if (c3 === b) break;
        for (; null === c3.sibling; ) {
          if (null === c3.return || c3.return === b) return;
          c3 = c3.return;
        }
        c3.sibling.return = c3.return;
        c3 = c3.sibling;
      }
    };
    Aj = function() {
    };
    Bj = function(a2, b, c3, d4) {
      var e3 = a2.memoizedProps;
      if (e3 !== d4) {
        a2 = b.stateNode;
        xh(uh.current);
        var f3 = null;
        switch (c3) {
          case "input":
            e3 = Ya(a2, e3);
            d4 = Ya(a2, d4);
            f3 = [];
            break;
          case "select":
            e3 = A({}, e3, { value: void 0 });
            d4 = A({}, d4, { value: void 0 });
            f3 = [];
            break;
          case "textarea":
            e3 = gb(a2, e3);
            d4 = gb(a2, d4);
            f3 = [];
            break;
          default:
            "function" !== typeof e3.onClick && "function" === typeof d4.onClick && (a2.onclick = Bf);
        }
        ub(c3, d4);
        var g;
        c3 = null;
        for (l3 in e3) if (!d4.hasOwnProperty(l3) && e3.hasOwnProperty(l3) && null != e3[l3]) if ("style" === l3) {
          var h2 = e3[l3];
          for (g in h2) h2.hasOwnProperty(g) && (c3 || (c3 = {}), c3[g] = "");
        } else "dangerouslySetInnerHTML" !== l3 && "children" !== l3 && "suppressContentEditableWarning" !== l3 && "suppressHydrationWarning" !== l3 && "autoFocus" !== l3 && (ea.hasOwnProperty(l3) ? f3 || (f3 = []) : (f3 = f3 || []).push(l3, null));
        for (l3 in d4) {
          var k = d4[l3];
          h2 = null != e3 ? e3[l3] : void 0;
          if (d4.hasOwnProperty(l3) && k !== h2 && (null != k || null != h2)) if ("style" === l3) if (h2) {
            for (g in h2) !h2.hasOwnProperty(g) || k && k.hasOwnProperty(g) || (c3 || (c3 = {}), c3[g] = "");
            for (g in k) k.hasOwnProperty(g) && h2[g] !== k[g] && (c3 || (c3 = {}), c3[g] = k[g]);
          } else c3 || (f3 || (f3 = []), f3.push(
            l3,
            c3
          )), c3 = k;
          else "dangerouslySetInnerHTML" === l3 ? (k = k ? k.__html : void 0, h2 = h2 ? h2.__html : void 0, null != k && h2 !== k && (f3 = f3 || []).push(l3, k)) : "children" === l3 ? "string" !== typeof k && "number" !== typeof k || (f3 = f3 || []).push(l3, "" + k) : "suppressContentEditableWarning" !== l3 && "suppressHydrationWarning" !== l3 && (ea.hasOwnProperty(l3) ? (null != k && "onScroll" === l3 && D("scroll", a2), f3 || h2 === k || (f3 = [])) : (f3 = f3 || []).push(l3, k));
        }
        c3 && (f3 = f3 || []).push("style", c3);
        var l3 = f3;
        if (b.updateQueue = l3) b.flags |= 4;
      }
    };
    Cj = function(a2, b, c3, d4) {
      c3 !== d4 && (b.flags |= 4);
    };
    function Dj(a2, b) {
      if (!I2) switch (a2.tailMode) {
        case "hidden":
          b = a2.tail;
          for (var c3 = null; null !== b; ) null !== b.alternate && (c3 = b), b = b.sibling;
          null === c3 ? a2.tail = null : c3.sibling = null;
          break;
        case "collapsed":
          c3 = a2.tail;
          for (var d4 = null; null !== c3; ) null !== c3.alternate && (d4 = c3), c3 = c3.sibling;
          null === d4 ? b || null === a2.tail ? a2.tail = null : a2.tail.sibling = null : d4.sibling = null;
      }
    }
    function S(a2) {
      var b = null !== a2.alternate && a2.alternate.child === a2.child, c3 = 0, d4 = 0;
      if (b) for (var e3 = a2.child; null !== e3; ) c3 |= e3.lanes | e3.childLanes, d4 |= e3.subtreeFlags & 14680064, d4 |= e3.flags & 14680064, e3.return = a2, e3 = e3.sibling;
      else for (e3 = a2.child; null !== e3; ) c3 |= e3.lanes | e3.childLanes, d4 |= e3.subtreeFlags, d4 |= e3.flags, e3.return = a2, e3 = e3.sibling;
      a2.subtreeFlags |= d4;
      a2.childLanes = c3;
      return b;
    }
    function Ej(a2, b, c3) {
      var d4 = b.pendingProps;
      wg(b);
      switch (b.tag) {
        case 2:
        case 16:
        case 15:
        case 0:
        case 11:
        case 7:
        case 8:
        case 12:
        case 9:
        case 14:
          return S(b), null;
        case 1:
          return Zf(b.type) && $f(), S(b), null;
        case 3:
          d4 = b.stateNode;
          zh();
          E(Wf);
          E(H);
          Eh();
          d4.pendingContext && (d4.context = d4.pendingContext, d4.pendingContext = null);
          if (null === a2 || null === a2.child) Gg(b) ? b.flags |= 4 : null === a2 || a2.memoizedState.isDehydrated && 0 === (b.flags & 256) || (b.flags |= 1024, null !== zg && (Fj(zg), zg = null));
          Aj(a2, b);
          S(b);
          return null;
        case 5:
          Bh(b);
          var e3 = xh(wh.current);
          c3 = b.type;
          if (null !== a2 && null != b.stateNode) Bj(a2, b, c3, d4, e3), a2.ref !== b.ref && (b.flags |= 512, b.flags |= 2097152);
          else {
            if (!d4) {
              if (null === b.stateNode) throw Error(p3(166));
              S(b);
              return null;
            }
            a2 = xh(uh.current);
            if (Gg(b)) {
              d4 = b.stateNode;
              c3 = b.type;
              var f3 = b.memoizedProps;
              d4[Of] = b;
              d4[Pf] = f3;
              a2 = 0 !== (b.mode & 1);
              switch (c3) {
                case "dialog":
                  D("cancel", d4);
                  D("close", d4);
                  break;
                case "iframe":
                case "object":
                case "embed":
                  D("load", d4);
                  break;
                case "video":
                case "audio":
                  for (e3 = 0; e3 < lf.length; e3++) D(lf[e3], d4);
                  break;
                case "source":
                  D("error", d4);
                  break;
                case "img":
                case "image":
                case "link":
                  D(
                    "error",
                    d4
                  );
                  D("load", d4);
                  break;
                case "details":
                  D("toggle", d4);
                  break;
                case "input":
                  Za(d4, f3);
                  D("invalid", d4);
                  break;
                case "select":
                  d4._wrapperState = { wasMultiple: !!f3.multiple };
                  D("invalid", d4);
                  break;
                case "textarea":
                  hb(d4, f3), D("invalid", d4);
              }
              ub(c3, f3);
              e3 = null;
              for (var g in f3) if (f3.hasOwnProperty(g)) {
                var h2 = f3[g];
                "children" === g ? "string" === typeof h2 ? d4.textContent !== h2 && (true !== f3.suppressHydrationWarning && Af(d4.textContent, h2, a2), e3 = ["children", h2]) : "number" === typeof h2 && d4.textContent !== "" + h2 && (true !== f3.suppressHydrationWarning && Af(
                  d4.textContent,
                  h2,
                  a2
                ), e3 = ["children", "" + h2]) : ea.hasOwnProperty(g) && null != h2 && "onScroll" === g && D("scroll", d4);
              }
              switch (c3) {
                case "input":
                  Va(d4);
                  db(d4, f3, true);
                  break;
                case "textarea":
                  Va(d4);
                  jb(d4);
                  break;
                case "select":
                case "option":
                  break;
                default:
                  "function" === typeof f3.onClick && (d4.onclick = Bf);
              }
              d4 = e3;
              b.updateQueue = d4;
              null !== d4 && (b.flags |= 4);
            } else {
              g = 9 === e3.nodeType ? e3 : e3.ownerDocument;
              "http://www.w3.org/1999/xhtml" === a2 && (a2 = kb(c3));
              "http://www.w3.org/1999/xhtml" === a2 ? "script" === c3 ? (a2 = g.createElement("div"), a2.innerHTML = "<script><\/script>", a2 = a2.removeChild(a2.firstChild)) : "string" === typeof d4.is ? a2 = g.createElement(c3, { is: d4.is }) : (a2 = g.createElement(c3), "select" === c3 && (g = a2, d4.multiple ? g.multiple = true : d4.size && (g.size = d4.size))) : a2 = g.createElementNS(a2, c3);
              a2[Of] = b;
              a2[Pf] = d4;
              zj(a2, b, false, false);
              b.stateNode = a2;
              a: {
                g = vb(c3, d4);
                switch (c3) {
                  case "dialog":
                    D("cancel", a2);
                    D("close", a2);
                    e3 = d4;
                    break;
                  case "iframe":
                  case "object":
                  case "embed":
                    D("load", a2);
                    e3 = d4;
                    break;
                  case "video":
                  case "audio":
                    for (e3 = 0; e3 < lf.length; e3++) D(lf[e3], a2);
                    e3 = d4;
                    break;
                  case "source":
                    D("error", a2);
                    e3 = d4;
                    break;
                  case "img":
                  case "image":
                  case "link":
                    D(
                      "error",
                      a2
                    );
                    D("load", a2);
                    e3 = d4;
                    break;
                  case "details":
                    D("toggle", a2);
                    e3 = d4;
                    break;
                  case "input":
                    Za(a2, d4);
                    e3 = Ya(a2, d4);
                    D("invalid", a2);
                    break;
                  case "option":
                    e3 = d4;
                    break;
                  case "select":
                    a2._wrapperState = { wasMultiple: !!d4.multiple };
                    e3 = A({}, d4, { value: void 0 });
                    D("invalid", a2);
                    break;
                  case "textarea":
                    hb(a2, d4);
                    e3 = gb(a2, d4);
                    D("invalid", a2);
                    break;
                  default:
                    e3 = d4;
                }
                ub(c3, e3);
                h2 = e3;
                for (f3 in h2) if (h2.hasOwnProperty(f3)) {
                  var k = h2[f3];
                  "style" === f3 ? sb(a2, k) : "dangerouslySetInnerHTML" === f3 ? (k = k ? k.__html : void 0, null != k && nb(a2, k)) : "children" === f3 ? "string" === typeof k ? ("textarea" !== c3 || "" !== k) && ob(a2, k) : "number" === typeof k && ob(a2, "" + k) : "suppressContentEditableWarning" !== f3 && "suppressHydrationWarning" !== f3 && "autoFocus" !== f3 && (ea.hasOwnProperty(f3) ? null != k && "onScroll" === f3 && D("scroll", a2) : null != k && ta(a2, f3, k, g));
                }
                switch (c3) {
                  case "input":
                    Va(a2);
                    db(a2, d4, false);
                    break;
                  case "textarea":
                    Va(a2);
                    jb(a2);
                    break;
                  case "option":
                    null != d4.value && a2.setAttribute("value", "" + Sa(d4.value));
                    break;
                  case "select":
                    a2.multiple = !!d4.multiple;
                    f3 = d4.value;
                    null != f3 ? fb(a2, !!d4.multiple, f3, false) : null != d4.defaultValue && fb(
                      a2,
                      !!d4.multiple,
                      d4.defaultValue,
                      true
                    );
                    break;
                  default:
                    "function" === typeof e3.onClick && (a2.onclick = Bf);
                }
                switch (c3) {
                  case "button":
                  case "input":
                  case "select":
                  case "textarea":
                    d4 = !!d4.autoFocus;
                    break a;
                  case "img":
                    d4 = true;
                    break a;
                  default:
                    d4 = false;
                }
              }
              d4 && (b.flags |= 4);
            }
            null !== b.ref && (b.flags |= 512, b.flags |= 2097152);
          }
          S(b);
          return null;
        case 6:
          if (a2 && null != b.stateNode) Cj(a2, b, a2.memoizedProps, d4);
          else {
            if ("string" !== typeof d4 && null === b.stateNode) throw Error(p3(166));
            c3 = xh(wh.current);
            xh(uh.current);
            if (Gg(b)) {
              d4 = b.stateNode;
              c3 = b.memoizedProps;
              d4[Of] = b;
              if (f3 = d4.nodeValue !== c3) {
                if (a2 = xg, null !== a2) switch (a2.tag) {
                  case 3:
                    Af(d4.nodeValue, c3, 0 !== (a2.mode & 1));
                    break;
                  case 5:
                    true !== a2.memoizedProps.suppressHydrationWarning && Af(d4.nodeValue, c3, 0 !== (a2.mode & 1));
                }
              }
              f3 && (b.flags |= 4);
            } else d4 = (9 === c3.nodeType ? c3 : c3.ownerDocument).createTextNode(d4), d4[Of] = b, b.stateNode = d4;
          }
          S(b);
          return null;
        case 13:
          E(L);
          d4 = b.memoizedState;
          if (null === a2 || null !== a2.memoizedState && null !== a2.memoizedState.dehydrated) {
            if (I2 && null !== yg && 0 !== (b.mode & 1) && 0 === (b.flags & 128)) Hg(), Ig(), b.flags |= 98560, f3 = false;
            else if (f3 = Gg(b), null !== d4 && null !== d4.dehydrated) {
              if (null === a2) {
                if (!f3) throw Error(p3(318));
                f3 = b.memoizedState;
                f3 = null !== f3 ? f3.dehydrated : null;
                if (!f3) throw Error(p3(317));
                f3[Of] = b;
              } else Ig(), 0 === (b.flags & 128) && (b.memoizedState = null), b.flags |= 4;
              S(b);
              f3 = false;
            } else null !== zg && (Fj(zg), zg = null), f3 = true;
            if (!f3) return b.flags & 65536 ? b : null;
          }
          if (0 !== (b.flags & 128)) return b.lanes = c3, b;
          d4 = null !== d4;
          d4 !== (null !== a2 && null !== a2.memoizedState) && d4 && (b.child.flags |= 8192, 0 !== (b.mode & 1) && (null === a2 || 0 !== (L.current & 1) ? 0 === T && (T = 3) : tj()));
          null !== b.updateQueue && (b.flags |= 4);
          S(b);
          return null;
        case 4:
          return zh(), Aj(a2, b), null === a2 && sf(b.stateNode.containerInfo), S(b), null;
        case 10:
          return ah(b.type._context), S(b), null;
        case 17:
          return Zf(b.type) && $f(), S(b), null;
        case 19:
          E(L);
          f3 = b.memoizedState;
          if (null === f3) return S(b), null;
          d4 = 0 !== (b.flags & 128);
          g = f3.rendering;
          if (null === g) if (d4) Dj(f3, false);
          else {
            if (0 !== T || null !== a2 && 0 !== (a2.flags & 128)) for (a2 = b.child; null !== a2; ) {
              g = Ch(a2);
              if (null !== g) {
                b.flags |= 128;
                Dj(f3, false);
                d4 = g.updateQueue;
                null !== d4 && (b.updateQueue = d4, b.flags |= 4);
                b.subtreeFlags = 0;
                d4 = c3;
                for (c3 = b.child; null !== c3; ) f3 = c3, a2 = d4, f3.flags &= 14680066, g = f3.alternate, null === g ? (f3.childLanes = 0, f3.lanes = a2, f3.child = null, f3.subtreeFlags = 0, f3.memoizedProps = null, f3.memoizedState = null, f3.updateQueue = null, f3.dependencies = null, f3.stateNode = null) : (f3.childLanes = g.childLanes, f3.lanes = g.lanes, f3.child = g.child, f3.subtreeFlags = 0, f3.deletions = null, f3.memoizedProps = g.memoizedProps, f3.memoizedState = g.memoizedState, f3.updateQueue = g.updateQueue, f3.type = g.type, a2 = g.dependencies, f3.dependencies = null === a2 ? null : { lanes: a2.lanes, firstContext: a2.firstContext }), c3 = c3.sibling;
                G(L, L.current & 1 | 2);
                return b.child;
              }
              a2 = a2.sibling;
            }
            null !== f3.tail && B() > Gj && (b.flags |= 128, d4 = true, Dj(f3, false), b.lanes = 4194304);
          }
          else {
            if (!d4) if (a2 = Ch(g), null !== a2) {
              if (b.flags |= 128, d4 = true, c3 = a2.updateQueue, null !== c3 && (b.updateQueue = c3, b.flags |= 4), Dj(f3, true), null === f3.tail && "hidden" === f3.tailMode && !g.alternate && !I2) return S(b), null;
            } else 2 * B() - f3.renderingStartTime > Gj && 1073741824 !== c3 && (b.flags |= 128, d4 = true, Dj(f3, false), b.lanes = 4194304);
            f3.isBackwards ? (g.sibling = b.child, b.child = g) : (c3 = f3.last, null !== c3 ? c3.sibling = g : b.child = g, f3.last = g);
          }
          if (null !== f3.tail) return b = f3.tail, f3.rendering = b, f3.tail = b.sibling, f3.renderingStartTime = B(), b.sibling = null, c3 = L.current, G(L, d4 ? c3 & 1 | 2 : c3 & 1), b;
          S(b);
          return null;
        case 22:
        case 23:
          return Hj(), d4 = null !== b.memoizedState, null !== a2 && null !== a2.memoizedState !== d4 && (b.flags |= 8192), d4 && 0 !== (b.mode & 1) ? 0 !== (fj & 1073741824) && (S(b), b.subtreeFlags & 6 && (b.flags |= 8192)) : S(b), null;
        case 24:
          return null;
        case 25:
          return null;
      }
      throw Error(p3(156, b.tag));
    }
    function Ij(a2, b) {
      wg(b);
      switch (b.tag) {
        case 1:
          return Zf(b.type) && $f(), a2 = b.flags, a2 & 65536 ? (b.flags = a2 & -65537 | 128, b) : null;
        case 3:
          return zh(), E(Wf), E(H), Eh(), a2 = b.flags, 0 !== (a2 & 65536) && 0 === (a2 & 128) ? (b.flags = a2 & -65537 | 128, b) : null;
        case 5:
          return Bh(b), null;
        case 13:
          E(L);
          a2 = b.memoizedState;
          if (null !== a2 && null !== a2.dehydrated) {
            if (null === b.alternate) throw Error(p3(340));
            Ig();
          }
          a2 = b.flags;
          return a2 & 65536 ? (b.flags = a2 & -65537 | 128, b) : null;
        case 19:
          return E(L), null;
        case 4:
          return zh(), null;
        case 10:
          return ah(b.type._context), null;
        case 22:
        case 23:
          return Hj(), null;
        case 24:
          return null;
        default:
          return null;
      }
    }
    var Jj = false;
    var U = false;
    var Kj = "function" === typeof WeakSet ? WeakSet : Set;
    var V = null;
    function Lj(a2, b) {
      var c3 = a2.ref;
      if (null !== c3) if ("function" === typeof c3) try {
        c3(null);
      } catch (d4) {
        W(a2, b, d4);
      }
      else c3.current = null;
    }
    function Mj(a2, b, c3) {
      try {
        c3();
      } catch (d4) {
        W(a2, b, d4);
      }
    }
    var Nj = false;
    function Oj(a2, b) {
      Cf = dd;
      a2 = Me();
      if (Ne(a2)) {
        if ("selectionStart" in a2) var c3 = { start: a2.selectionStart, end: a2.selectionEnd };
        else a: {
          c3 = (c3 = a2.ownerDocument) && c3.defaultView || window;
          var d4 = c3.getSelection && c3.getSelection();
          if (d4 && 0 !== d4.rangeCount) {
            c3 = d4.anchorNode;
            var e3 = d4.anchorOffset, f3 = d4.focusNode;
            d4 = d4.focusOffset;
            try {
              c3.nodeType, f3.nodeType;
            } catch (F) {
              c3 = null;
              break a;
            }
            var g = 0, h2 = -1, k = -1, l3 = 0, m = 0, q = a2, r3 = null;
            b: for (; ; ) {
              for (var y2; ; ) {
                q !== c3 || 0 !== e3 && 3 !== q.nodeType || (h2 = g + e3);
                q !== f3 || 0 !== d4 && 3 !== q.nodeType || (k = g + d4);
                3 === q.nodeType && (g += q.nodeValue.length);
                if (null === (y2 = q.firstChild)) break;
                r3 = q;
                q = y2;
              }
              for (; ; ) {
                if (q === a2) break b;
                r3 === c3 && ++l3 === e3 && (h2 = g);
                r3 === f3 && ++m === d4 && (k = g);
                if (null !== (y2 = q.nextSibling)) break;
                q = r3;
                r3 = q.parentNode;
              }
              q = y2;
            }
            c3 = -1 === h2 || -1 === k ? null : { start: h2, end: k };
          } else c3 = null;
        }
        c3 = c3 || { start: 0, end: 0 };
      } else c3 = null;
      Df = { focusedElem: a2, selectionRange: c3 };
      dd = false;
      for (V = b; null !== V; ) if (b = V, a2 = b.child, 0 !== (b.subtreeFlags & 1028) && null !== a2) a2.return = b, V = a2;
      else for (; null !== V; ) {
        b = V;
        try {
          var n2 = b.alternate;
          if (0 !== (b.flags & 1024)) switch (b.tag) {
            case 0:
            case 11:
            case 15:
              break;
            case 1:
              if (null !== n2) {
                var t2 = n2.memoizedProps, J = n2.memoizedState, x = b.stateNode, w = x.getSnapshotBeforeUpdate(b.elementType === b.type ? t2 : Ci(b.type, t2), J);
                x.__reactInternalSnapshotBeforeUpdate = w;
              }
              break;
            case 3:
              var u3 = b.stateNode.containerInfo;
              1 === u3.nodeType ? u3.textContent = "" : 9 === u3.nodeType && u3.documentElement && u3.removeChild(u3.documentElement);
              break;
            case 5:
            case 6:
            case 4:
            case 17:
              break;
            default:
              throw Error(p3(163));
          }
        } catch (F) {
          W(b, b.return, F);
        }
        a2 = b.sibling;
        if (null !== a2) {
          a2.return = b.return;
          V = a2;
          break;
        }
        V = b.return;
      }
      n2 = Nj;
      Nj = false;
      return n2;
    }
    function Pj(a2, b, c3) {
      var d4 = b.updateQueue;
      d4 = null !== d4 ? d4.lastEffect : null;
      if (null !== d4) {
        var e3 = d4 = d4.next;
        do {
          if ((e3.tag & a2) === a2) {
            var f3 = e3.destroy;
            e3.destroy = void 0;
            void 0 !== f3 && Mj(b, c3, f3);
          }
          e3 = e3.next;
        } while (e3 !== d4);
      }
    }
    function Qj(a2, b) {
      b = b.updateQueue;
      b = null !== b ? b.lastEffect : null;
      if (null !== b) {
        var c3 = b = b.next;
        do {
          if ((c3.tag & a2) === a2) {
            var d4 = c3.create;
            c3.destroy = d4();
          }
          c3 = c3.next;
        } while (c3 !== b);
      }
    }
    function Rj(a2) {
      var b = a2.ref;
      if (null !== b) {
        var c3 = a2.stateNode;
        switch (a2.tag) {
          case 5:
            a2 = c3;
            break;
          default:
            a2 = c3;
        }
        "function" === typeof b ? b(a2) : b.current = a2;
      }
    }
    function Sj(a2) {
      var b = a2.alternate;
      null !== b && (a2.alternate = null, Sj(b));
      a2.child = null;
      a2.deletions = null;
      a2.sibling = null;
      5 === a2.tag && (b = a2.stateNode, null !== b && (delete b[Of], delete b[Pf], delete b[of], delete b[Qf], delete b[Rf]));
      a2.stateNode = null;
      a2.return = null;
      a2.dependencies = null;
      a2.memoizedProps = null;
      a2.memoizedState = null;
      a2.pendingProps = null;
      a2.stateNode = null;
      a2.updateQueue = null;
    }
    function Tj(a2) {
      return 5 === a2.tag || 3 === a2.tag || 4 === a2.tag;
    }
    function Uj(a2) {
      a: for (; ; ) {
        for (; null === a2.sibling; ) {
          if (null === a2.return || Tj(a2.return)) return null;
          a2 = a2.return;
        }
        a2.sibling.return = a2.return;
        for (a2 = a2.sibling; 5 !== a2.tag && 6 !== a2.tag && 18 !== a2.tag; ) {
          if (a2.flags & 2) continue a;
          if (null === a2.child || 4 === a2.tag) continue a;
          else a2.child.return = a2, a2 = a2.child;
        }
        if (!(a2.flags & 2)) return a2.stateNode;
      }
    }
    function Vj(a2, b, c3) {
      var d4 = a2.tag;
      if (5 === d4 || 6 === d4) a2 = a2.stateNode, b ? 8 === c3.nodeType ? c3.parentNode.insertBefore(a2, b) : c3.insertBefore(a2, b) : (8 === c3.nodeType ? (b = c3.parentNode, b.insertBefore(a2, c3)) : (b = c3, b.appendChild(a2)), c3 = c3._reactRootContainer, null !== c3 && void 0 !== c3 || null !== b.onclick || (b.onclick = Bf));
      else if (4 !== d4 && (a2 = a2.child, null !== a2)) for (Vj(a2, b, c3), a2 = a2.sibling; null !== a2; ) Vj(a2, b, c3), a2 = a2.sibling;
    }
    function Wj(a2, b, c3) {
      var d4 = a2.tag;
      if (5 === d4 || 6 === d4) a2 = a2.stateNode, b ? c3.insertBefore(a2, b) : c3.appendChild(a2);
      else if (4 !== d4 && (a2 = a2.child, null !== a2)) for (Wj(a2, b, c3), a2 = a2.sibling; null !== a2; ) Wj(a2, b, c3), a2 = a2.sibling;
    }
    var X = null;
    var Xj = false;
    function Yj(a2, b, c3) {
      for (c3 = c3.child; null !== c3; ) Zj(a2, b, c3), c3 = c3.sibling;
    }
    function Zj(a2, b, c3) {
      if (lc && "function" === typeof lc.onCommitFiberUnmount) try {
        lc.onCommitFiberUnmount(kc, c3);
      } catch (h2) {
      }
      switch (c3.tag) {
        case 5:
          U || Lj(c3, b);
        case 6:
          var d4 = X, e3 = Xj;
          X = null;
          Yj(a2, b, c3);
          X = d4;
          Xj = e3;
          null !== X && (Xj ? (a2 = X, c3 = c3.stateNode, 8 === a2.nodeType ? a2.parentNode.removeChild(c3) : a2.removeChild(c3)) : X.removeChild(c3.stateNode));
          break;
        case 18:
          null !== X && (Xj ? (a2 = X, c3 = c3.stateNode, 8 === a2.nodeType ? Kf(a2.parentNode, c3) : 1 === a2.nodeType && Kf(a2, c3), bd(a2)) : Kf(X, c3.stateNode));
          break;
        case 4:
          d4 = X;
          e3 = Xj;
          X = c3.stateNode.containerInfo;
          Xj = true;
          Yj(a2, b, c3);
          X = d4;
          Xj = e3;
          break;
        case 0:
        case 11:
        case 14:
        case 15:
          if (!U && (d4 = c3.updateQueue, null !== d4 && (d4 = d4.lastEffect, null !== d4))) {
            e3 = d4 = d4.next;
            do {
              var f3 = e3, g = f3.destroy;
              f3 = f3.tag;
              void 0 !== g && (0 !== (f3 & 2) ? Mj(c3, b, g) : 0 !== (f3 & 4) && Mj(c3, b, g));
              e3 = e3.next;
            } while (e3 !== d4);
          }
          Yj(a2, b, c3);
          break;
        case 1:
          if (!U && (Lj(c3, b), d4 = c3.stateNode, "function" === typeof d4.componentWillUnmount)) try {
            d4.props = c3.memoizedProps, d4.state = c3.memoizedState, d4.componentWillUnmount();
          } catch (h2) {
            W(c3, b, h2);
          }
          Yj(a2, b, c3);
          break;
        case 21:
          Yj(a2, b, c3);
          break;
        case 22:
          c3.mode & 1 ? (U = (d4 = U) || null !== c3.memoizedState, Yj(a2, b, c3), U = d4) : Yj(a2, b, c3);
          break;
        default:
          Yj(a2, b, c3);
      }
    }
    function ak(a2) {
      var b = a2.updateQueue;
      if (null !== b) {
        a2.updateQueue = null;
        var c3 = a2.stateNode;
        null === c3 && (c3 = a2.stateNode = new Kj());
        b.forEach(function(b2) {
          var d4 = bk.bind(null, a2, b2);
          c3.has(b2) || (c3.add(b2), b2.then(d4, d4));
        });
      }
    }
    function ck(a2, b) {
      var c3 = b.deletions;
      if (null !== c3) for (var d4 = 0; d4 < c3.length; d4++) {
        var e3 = c3[d4];
        try {
          var f3 = a2, g = b, h2 = g;
          a: for (; null !== h2; ) {
            switch (h2.tag) {
              case 5:
                X = h2.stateNode;
                Xj = false;
                break a;
              case 3:
                X = h2.stateNode.containerInfo;
                Xj = true;
                break a;
              case 4:
                X = h2.stateNode.containerInfo;
                Xj = true;
                break a;
            }
            h2 = h2.return;
          }
          if (null === X) throw Error(p3(160));
          Zj(f3, g, e3);
          X = null;
          Xj = false;
          var k = e3.alternate;
          null !== k && (k.return = null);
          e3.return = null;
        } catch (l3) {
          W(e3, b, l3);
        }
      }
      if (b.subtreeFlags & 12854) for (b = b.child; null !== b; ) dk(b, a2), b = b.sibling;
    }
    function dk(a2, b) {
      var c3 = a2.alternate, d4 = a2.flags;
      switch (a2.tag) {
        case 0:
        case 11:
        case 14:
        case 15:
          ck(b, a2);
          ek(a2);
          if (d4 & 4) {
            try {
              Pj(3, a2, a2.return), Qj(3, a2);
            } catch (t2) {
              W(a2, a2.return, t2);
            }
            try {
              Pj(5, a2, a2.return);
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          break;
        case 1:
          ck(b, a2);
          ek(a2);
          d4 & 512 && null !== c3 && Lj(c3, c3.return);
          break;
        case 5:
          ck(b, a2);
          ek(a2);
          d4 & 512 && null !== c3 && Lj(c3, c3.return);
          if (a2.flags & 32) {
            var e3 = a2.stateNode;
            try {
              ob(e3, "");
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          if (d4 & 4 && (e3 = a2.stateNode, null != e3)) {
            var f3 = a2.memoizedProps, g = null !== c3 ? c3.memoizedProps : f3, h2 = a2.type, k = a2.updateQueue;
            a2.updateQueue = null;
            if (null !== k) try {
              "input" === h2 && "radio" === f3.type && null != f3.name && ab(e3, f3);
              vb(h2, g);
              var l3 = vb(h2, f3);
              for (g = 0; g < k.length; g += 2) {
                var m = k[g], q = k[g + 1];
                "style" === m ? sb(e3, q) : "dangerouslySetInnerHTML" === m ? nb(e3, q) : "children" === m ? ob(e3, q) : ta(e3, m, q, l3);
              }
              switch (h2) {
                case "input":
                  bb(e3, f3);
                  break;
                case "textarea":
                  ib(e3, f3);
                  break;
                case "select":
                  var r3 = e3._wrapperState.wasMultiple;
                  e3._wrapperState.wasMultiple = !!f3.multiple;
                  var y2 = f3.value;
                  null != y2 ? fb(e3, !!f3.multiple, y2, false) : r3 !== !!f3.multiple && (null != f3.defaultValue ? fb(
                    e3,
                    !!f3.multiple,
                    f3.defaultValue,
                    true
                  ) : fb(e3, !!f3.multiple, f3.multiple ? [] : "", false));
              }
              e3[Pf] = f3;
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          break;
        case 6:
          ck(b, a2);
          ek(a2);
          if (d4 & 4) {
            if (null === a2.stateNode) throw Error(p3(162));
            e3 = a2.stateNode;
            f3 = a2.memoizedProps;
            try {
              e3.nodeValue = f3;
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          break;
        case 3:
          ck(b, a2);
          ek(a2);
          if (d4 & 4 && null !== c3 && c3.memoizedState.isDehydrated) try {
            bd(b.containerInfo);
          } catch (t2) {
            W(a2, a2.return, t2);
          }
          break;
        case 4:
          ck(b, a2);
          ek(a2);
          break;
        case 13:
          ck(b, a2);
          ek(a2);
          e3 = a2.child;
          e3.flags & 8192 && (f3 = null !== e3.memoizedState, e3.stateNode.isHidden = f3, !f3 || null !== e3.alternate && null !== e3.alternate.memoizedState || (fk = B()));
          d4 & 4 && ak(a2);
          break;
        case 22:
          m = null !== c3 && null !== c3.memoizedState;
          a2.mode & 1 ? (U = (l3 = U) || m, ck(b, a2), U = l3) : ck(b, a2);
          ek(a2);
          if (d4 & 8192) {
            l3 = null !== a2.memoizedState;
            if ((a2.stateNode.isHidden = l3) && !m && 0 !== (a2.mode & 1)) for (V = a2, m = a2.child; null !== m; ) {
              for (q = V = m; null !== V; ) {
                r3 = V;
                y2 = r3.child;
                switch (r3.tag) {
                  case 0:
                  case 11:
                  case 14:
                  case 15:
                    Pj(4, r3, r3.return);
                    break;
                  case 1:
                    Lj(r3, r3.return);
                    var n2 = r3.stateNode;
                    if ("function" === typeof n2.componentWillUnmount) {
                      d4 = r3;
                      c3 = r3.return;
                      try {
                        b = d4, n2.props = b.memoizedProps, n2.state = b.memoizedState, n2.componentWillUnmount();
                      } catch (t2) {
                        W(d4, c3, t2);
                      }
                    }
                    break;
                  case 5:
                    Lj(r3, r3.return);
                    break;
                  case 22:
                    if (null !== r3.memoizedState) {
                      gk(q);
                      continue;
                    }
                }
                null !== y2 ? (y2.return = r3, V = y2) : gk(q);
              }
              m = m.sibling;
            }
            a: for (m = null, q = a2; ; ) {
              if (5 === q.tag) {
                if (null === m) {
                  m = q;
                  try {
                    e3 = q.stateNode, l3 ? (f3 = e3.style, "function" === typeof f3.setProperty ? f3.setProperty("display", "none", "important") : f3.display = "none") : (h2 = q.stateNode, k = q.memoizedProps.style, g = void 0 !== k && null !== k && k.hasOwnProperty("display") ? k.display : null, h2.style.display = rb("display", g));
                  } catch (t2) {
                    W(a2, a2.return, t2);
                  }
                }
              } else if (6 === q.tag) {
                if (null === m) try {
                  q.stateNode.nodeValue = l3 ? "" : q.memoizedProps;
                } catch (t2) {
                  W(a2, a2.return, t2);
                }
              } else if ((22 !== q.tag && 23 !== q.tag || null === q.memoizedState || q === a2) && null !== q.child) {
                q.child.return = q;
                q = q.child;
                continue;
              }
              if (q === a2) break a;
              for (; null === q.sibling; ) {
                if (null === q.return || q.return === a2) break a;
                m === q && (m = null);
                q = q.return;
              }
              m === q && (m = null);
              q.sibling.return = q.return;
              q = q.sibling;
            }
          }
          break;
        case 19:
          ck(b, a2);
          ek(a2);
          d4 & 4 && ak(a2);
          break;
        case 21:
          break;
        default:
          ck(
            b,
            a2
          ), ek(a2);
      }
    }
    function ek(a2) {
      var b = a2.flags;
      if (b & 2) {
        try {
          a: {
            for (var c3 = a2.return; null !== c3; ) {
              if (Tj(c3)) {
                var d4 = c3;
                break a;
              }
              c3 = c3.return;
            }
            throw Error(p3(160));
          }
          switch (d4.tag) {
            case 5:
              var e3 = d4.stateNode;
              d4.flags & 32 && (ob(e3, ""), d4.flags &= -33);
              var f3 = Uj(a2);
              Wj(a2, f3, e3);
              break;
            case 3:
            case 4:
              var g = d4.stateNode.containerInfo, h2 = Uj(a2);
              Vj(a2, h2, g);
              break;
            default:
              throw Error(p3(161));
          }
        } catch (k) {
          W(a2, a2.return, k);
        }
        a2.flags &= -3;
      }
      b & 4096 && (a2.flags &= -4097);
    }
    function hk(a2, b, c3) {
      V = a2;
      ik(a2, b, c3);
    }
    function ik(a2, b, c3) {
      for (var d4 = 0 !== (a2.mode & 1); null !== V; ) {
        var e3 = V, f3 = e3.child;
        if (22 === e3.tag && d4) {
          var g = null !== e3.memoizedState || Jj;
          if (!g) {
            var h2 = e3.alternate, k = null !== h2 && null !== h2.memoizedState || U;
            h2 = Jj;
            var l3 = U;
            Jj = g;
            if ((U = k) && !l3) for (V = e3; null !== V; ) g = V, k = g.child, 22 === g.tag && null !== g.memoizedState ? jk(e3) : null !== k ? (k.return = g, V = k) : jk(e3);
            for (; null !== f3; ) V = f3, ik(f3, b, c3), f3 = f3.sibling;
            V = e3;
            Jj = h2;
            U = l3;
          }
          kk(a2, b, c3);
        } else 0 !== (e3.subtreeFlags & 8772) && null !== f3 ? (f3.return = e3, V = f3) : kk(a2, b, c3);
      }
    }
    function kk(a2) {
      for (; null !== V; ) {
        var b = V;
        if (0 !== (b.flags & 8772)) {
          var c3 = b.alternate;
          try {
            if (0 !== (b.flags & 8772)) switch (b.tag) {
              case 0:
              case 11:
              case 15:
                U || Qj(5, b);
                break;
              case 1:
                var d4 = b.stateNode;
                if (b.flags & 4 && !U) if (null === c3) d4.componentDidMount();
                else {
                  var e3 = b.elementType === b.type ? c3.memoizedProps : Ci(b.type, c3.memoizedProps);
                  d4.componentDidUpdate(e3, c3.memoizedState, d4.__reactInternalSnapshotBeforeUpdate);
                }
                var f3 = b.updateQueue;
                null !== f3 && sh(b, f3, d4);
                break;
              case 3:
                var g = b.updateQueue;
                if (null !== g) {
                  c3 = null;
                  if (null !== b.child) switch (b.child.tag) {
                    case 5:
                      c3 = b.child.stateNode;
                      break;
                    case 1:
                      c3 = b.child.stateNode;
                  }
                  sh(b, g, c3);
                }
                break;
              case 5:
                var h2 = b.stateNode;
                if (null === c3 && b.flags & 4) {
                  c3 = h2;
                  var k = b.memoizedProps;
                  switch (b.type) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                      k.autoFocus && c3.focus();
                      break;
                    case "img":
                      k.src && (c3.src = k.src);
                  }
                }
                break;
              case 6:
                break;
              case 4:
                break;
              case 12:
                break;
              case 13:
                if (null === b.memoizedState) {
                  var l3 = b.alternate;
                  if (null !== l3) {
                    var m = l3.memoizedState;
                    if (null !== m) {
                      var q = m.dehydrated;
                      null !== q && bd(q);
                    }
                  }
                }
                break;
              case 19:
              case 17:
              case 21:
              case 22:
              case 23:
              case 25:
                break;
              default:
                throw Error(p3(163));
            }
            U || b.flags & 512 && Rj(b);
          } catch (r3) {
            W(b, b.return, r3);
          }
        }
        if (b === a2) {
          V = null;
          break;
        }
        c3 = b.sibling;
        if (null !== c3) {
          c3.return = b.return;
          V = c3;
          break;
        }
        V = b.return;
      }
    }
    function gk(a2) {
      for (; null !== V; ) {
        var b = V;
        if (b === a2) {
          V = null;
          break;
        }
        var c3 = b.sibling;
        if (null !== c3) {
          c3.return = b.return;
          V = c3;
          break;
        }
        V = b.return;
      }
    }
    function jk(a2) {
      for (; null !== V; ) {
        var b = V;
        try {
          switch (b.tag) {
            case 0:
            case 11:
            case 15:
              var c3 = b.return;
              try {
                Qj(4, b);
              } catch (k) {
                W(b, c3, k);
              }
              break;
            case 1:
              var d4 = b.stateNode;
              if ("function" === typeof d4.componentDidMount) {
                var e3 = b.return;
                try {
                  d4.componentDidMount();
                } catch (k) {
                  W(b, e3, k);
                }
              }
              var f3 = b.return;
              try {
                Rj(b);
              } catch (k) {
                W(b, f3, k);
              }
              break;
            case 5:
              var g = b.return;
              try {
                Rj(b);
              } catch (k) {
                W(b, g, k);
              }
          }
        } catch (k) {
          W(b, b.return, k);
        }
        if (b === a2) {
          V = null;
          break;
        }
        var h2 = b.sibling;
        if (null !== h2) {
          h2.return = b.return;
          V = h2;
          break;
        }
        V = b.return;
      }
    }
    var lk = Math.ceil;
    var mk = ua.ReactCurrentDispatcher;
    var nk = ua.ReactCurrentOwner;
    var ok = ua.ReactCurrentBatchConfig;
    var K = 0;
    var Q2 = null;
    var Y = null;
    var Z = 0;
    var fj = 0;
    var ej = Uf(0);
    var T = 0;
    var pk = null;
    var rh = 0;
    var qk = 0;
    var rk = 0;
    var sk = null;
    var tk = null;
    var fk = 0;
    var Gj = Infinity;
    var uk = null;
    var Oi = false;
    var Pi = null;
    var Ri = null;
    var vk = false;
    var wk = null;
    var xk = 0;
    var yk = 0;
    var zk = null;
    var Ak = -1;
    var Bk = 0;
    function R() {
      return 0 !== (K & 6) ? B() : -1 !== Ak ? Ak : Ak = B();
    }
    function yi(a2) {
      if (0 === (a2.mode & 1)) return 1;
      if (0 !== (K & 2) && 0 !== Z) return Z & -Z;
      if (null !== Kg.transition) return 0 === Bk && (Bk = yc()), Bk;
      a2 = C2;
      if (0 !== a2) return a2;
      a2 = window.event;
      a2 = void 0 === a2 ? 16 : jd(a2.type);
      return a2;
    }
    function gi(a2, b, c3, d4) {
      if (50 < yk) throw yk = 0, zk = null, Error(p3(185));
      Ac(a2, c3, d4);
      if (0 === (K & 2) || a2 !== Q2) a2 === Q2 && (0 === (K & 2) && (qk |= c3), 4 === T && Ck(a2, Z)), Dk(a2, d4), 1 === c3 && 0 === K && 0 === (b.mode & 1) && (Gj = B() + 500, fg && jg());
    }
    function Dk(a2, b) {
      var c3 = a2.callbackNode;
      wc(a2, b);
      var d4 = uc(a2, a2 === Q2 ? Z : 0);
      if (0 === d4) null !== c3 && bc(c3), a2.callbackNode = null, a2.callbackPriority = 0;
      else if (b = d4 & -d4, a2.callbackPriority !== b) {
        null != c3 && bc(c3);
        if (1 === b) 0 === a2.tag ? ig(Ek.bind(null, a2)) : hg(Ek.bind(null, a2)), Jf(function() {
          0 === (K & 6) && jg();
        }), c3 = null;
        else {
          switch (Dc(d4)) {
            case 1:
              c3 = fc;
              break;
            case 4:
              c3 = gc;
              break;
            case 16:
              c3 = hc;
              break;
            case 536870912:
              c3 = jc;
              break;
            default:
              c3 = hc;
          }
          c3 = Fk(c3, Gk.bind(null, a2));
        }
        a2.callbackPriority = b;
        a2.callbackNode = c3;
      }
    }
    function Gk(a2, b) {
      Ak = -1;
      Bk = 0;
      if (0 !== (K & 6)) throw Error(p3(327));
      var c3 = a2.callbackNode;
      if (Hk() && a2.callbackNode !== c3) return null;
      var d4 = uc(a2, a2 === Q2 ? Z : 0);
      if (0 === d4) return null;
      if (0 !== (d4 & 30) || 0 !== (d4 & a2.expiredLanes) || b) b = Ik(a2, d4);
      else {
        b = d4;
        var e3 = K;
        K |= 2;
        var f3 = Jk();
        if (Q2 !== a2 || Z !== b) uk = null, Gj = B() + 500, Kk(a2, b);
        do
          try {
            Lk();
            break;
          } catch (h2) {
            Mk(a2, h2);
          }
        while (1);
        $g();
        mk.current = f3;
        K = e3;
        null !== Y ? b = 0 : (Q2 = null, Z = 0, b = T);
      }
      if (0 !== b) {
        2 === b && (e3 = xc(a2), 0 !== e3 && (d4 = e3, b = Nk(a2, e3)));
        if (1 === b) throw c3 = pk, Kk(a2, 0), Ck(a2, d4), Dk(a2, B()), c3;
        if (6 === b) Ck(a2, d4);
        else {
          e3 = a2.current.alternate;
          if (0 === (d4 & 30) && !Ok(e3) && (b = Ik(a2, d4), 2 === b && (f3 = xc(a2), 0 !== f3 && (d4 = f3, b = Nk(a2, f3))), 1 === b)) throw c3 = pk, Kk(a2, 0), Ck(a2, d4), Dk(a2, B()), c3;
          a2.finishedWork = e3;
          a2.finishedLanes = d4;
          switch (b) {
            case 0:
            case 1:
              throw Error(p3(345));
            case 2:
              Pk(a2, tk, uk);
              break;
            case 3:
              Ck(a2, d4);
              if ((d4 & 130023424) === d4 && (b = fk + 500 - B(), 10 < b)) {
                if (0 !== uc(a2, 0)) break;
                e3 = a2.suspendedLanes;
                if ((e3 & d4) !== d4) {
                  R();
                  a2.pingedLanes |= a2.suspendedLanes & e3;
                  break;
                }
                a2.timeoutHandle = Ff(Pk.bind(null, a2, tk, uk), b);
                break;
              }
              Pk(a2, tk, uk);
              break;
            case 4:
              Ck(a2, d4);
              if ((d4 & 4194240) === d4) break;
              b = a2.eventTimes;
              for (e3 = -1; 0 < d4; ) {
                var g = 31 - oc(d4);
                f3 = 1 << g;
                g = b[g];
                g > e3 && (e3 = g);
                d4 &= ~f3;
              }
              d4 = e3;
              d4 = B() - d4;
              d4 = (120 > d4 ? 120 : 480 > d4 ? 480 : 1080 > d4 ? 1080 : 1920 > d4 ? 1920 : 3e3 > d4 ? 3e3 : 4320 > d4 ? 4320 : 1960 * lk(d4 / 1960)) - d4;
              if (10 < d4) {
                a2.timeoutHandle = Ff(Pk.bind(null, a2, tk, uk), d4);
                break;
              }
              Pk(a2, tk, uk);
              break;
            case 5:
              Pk(a2, tk, uk);
              break;
            default:
              throw Error(p3(329));
          }
        }
      }
      Dk(a2, B());
      return a2.callbackNode === c3 ? Gk.bind(null, a2) : null;
    }
    function Nk(a2, b) {
      var c3 = sk;
      a2.current.memoizedState.isDehydrated && (Kk(a2, b).flags |= 256);
      a2 = Ik(a2, b);
      2 !== a2 && (b = tk, tk = c3, null !== b && Fj(b));
      return a2;
    }
    function Fj(a2) {
      null === tk ? tk = a2 : tk.push.apply(tk, a2);
    }
    function Ok(a2) {
      for (var b = a2; ; ) {
        if (b.flags & 16384) {
          var c3 = b.updateQueue;
          if (null !== c3 && (c3 = c3.stores, null !== c3)) for (var d4 = 0; d4 < c3.length; d4++) {
            var e3 = c3[d4], f3 = e3.getSnapshot;
            e3 = e3.value;
            try {
              if (!He(f3(), e3)) return false;
            } catch (g) {
              return false;
            }
          }
        }
        c3 = b.child;
        if (b.subtreeFlags & 16384 && null !== c3) c3.return = b, b = c3;
        else {
          if (b === a2) break;
          for (; null === b.sibling; ) {
            if (null === b.return || b.return === a2) return true;
            b = b.return;
          }
          b.sibling.return = b.return;
          b = b.sibling;
        }
      }
      return true;
    }
    function Ck(a2, b) {
      b &= ~rk;
      b &= ~qk;
      a2.suspendedLanes |= b;
      a2.pingedLanes &= ~b;
      for (a2 = a2.expirationTimes; 0 < b; ) {
        var c3 = 31 - oc(b), d4 = 1 << c3;
        a2[c3] = -1;
        b &= ~d4;
      }
    }
    function Ek(a2) {
      if (0 !== (K & 6)) throw Error(p3(327));
      Hk();
      var b = uc(a2, 0);
      if (0 === (b & 1)) return Dk(a2, B()), null;
      var c3 = Ik(a2, b);
      if (0 !== a2.tag && 2 === c3) {
        var d4 = xc(a2);
        0 !== d4 && (b = d4, c3 = Nk(a2, d4));
      }
      if (1 === c3) throw c3 = pk, Kk(a2, 0), Ck(a2, b), Dk(a2, B()), c3;
      if (6 === c3) throw Error(p3(345));
      a2.finishedWork = a2.current.alternate;
      a2.finishedLanes = b;
      Pk(a2, tk, uk);
      Dk(a2, B());
      return null;
    }
    function Qk(a2, b) {
      var c3 = K;
      K |= 1;
      try {
        return a2(b);
      } finally {
        K = c3, 0 === K && (Gj = B() + 500, fg && jg());
      }
    }
    function Rk(a2) {
      null !== wk && 0 === wk.tag && 0 === (K & 6) && Hk();
      var b = K;
      K |= 1;
      var c3 = ok.transition, d4 = C2;
      try {
        if (ok.transition = null, C2 = 1, a2) return a2();
      } finally {
        C2 = d4, ok.transition = c3, K = b, 0 === (K & 6) && jg();
      }
    }
    function Hj() {
      fj = ej.current;
      E(ej);
    }
    function Kk(a2, b) {
      a2.finishedWork = null;
      a2.finishedLanes = 0;
      var c3 = a2.timeoutHandle;
      -1 !== c3 && (a2.timeoutHandle = -1, Gf(c3));
      if (null !== Y) for (c3 = Y.return; null !== c3; ) {
        var d4 = c3;
        wg(d4);
        switch (d4.tag) {
          case 1:
            d4 = d4.type.childContextTypes;
            null !== d4 && void 0 !== d4 && $f();
            break;
          case 3:
            zh();
            E(Wf);
            E(H);
            Eh();
            break;
          case 5:
            Bh(d4);
            break;
          case 4:
            zh();
            break;
          case 13:
            E(L);
            break;
          case 19:
            E(L);
            break;
          case 10:
            ah(d4.type._context);
            break;
          case 22:
          case 23:
            Hj();
        }
        c3 = c3.return;
      }
      Q2 = a2;
      Y = a2 = Pg(a2.current, null);
      Z = fj = b;
      T = 0;
      pk = null;
      rk = qk = rh = 0;
      tk = sk = null;
      if (null !== fh) {
        for (b = 0; b < fh.length; b++) if (c3 = fh[b], d4 = c3.interleaved, null !== d4) {
          c3.interleaved = null;
          var e3 = d4.next, f3 = c3.pending;
          if (null !== f3) {
            var g = f3.next;
            f3.next = e3;
            d4.next = g;
          }
          c3.pending = d4;
        }
        fh = null;
      }
      return a2;
    }
    function Mk(a2, b) {
      do {
        var c3 = Y;
        try {
          $g();
          Fh.current = Rh;
          if (Ih) {
            for (var d4 = M.memoizedState; null !== d4; ) {
              var e3 = d4.queue;
              null !== e3 && (e3.pending = null);
              d4 = d4.next;
            }
            Ih = false;
          }
          Hh = 0;
          O = N = M = null;
          Jh = false;
          Kh = 0;
          nk.current = null;
          if (null === c3 || null === c3.return) {
            T = 1;
            pk = b;
            Y = null;
            break;
          }
          a: {
            var f3 = a2, g = c3.return, h2 = c3, k = b;
            b = Z;
            h2.flags |= 32768;
            if (null !== k && "object" === typeof k && "function" === typeof k.then) {
              var l3 = k, m = h2, q = m.tag;
              if (0 === (m.mode & 1) && (0 === q || 11 === q || 15 === q)) {
                var r3 = m.alternate;
                r3 ? (m.updateQueue = r3.updateQueue, m.memoizedState = r3.memoizedState, m.lanes = r3.lanes) : (m.updateQueue = null, m.memoizedState = null);
              }
              var y2 = Ui(g);
              if (null !== y2) {
                y2.flags &= -257;
                Vi(y2, g, h2, f3, b);
                y2.mode & 1 && Si(f3, l3, b);
                b = y2;
                k = l3;
                var n2 = b.updateQueue;
                if (null === n2) {
                  var t2 = /* @__PURE__ */ new Set();
                  t2.add(k);
                  b.updateQueue = t2;
                } else n2.add(k);
                break a;
              } else {
                if (0 === (b & 1)) {
                  Si(f3, l3, b);
                  tj();
                  break a;
                }
                k = Error(p3(426));
              }
            } else if (I2 && h2.mode & 1) {
              var J = Ui(g);
              if (null !== J) {
                0 === (J.flags & 65536) && (J.flags |= 256);
                Vi(J, g, h2, f3, b);
                Jg(Ji(k, h2));
                break a;
              }
            }
            f3 = k = Ji(k, h2);
            4 !== T && (T = 2);
            null === sk ? sk = [f3] : sk.push(f3);
            f3 = g;
            do {
              switch (f3.tag) {
                case 3:
                  f3.flags |= 65536;
                  b &= -b;
                  f3.lanes |= b;
                  var x = Ni(f3, k, b);
                  ph(f3, x);
                  break a;
                case 1:
                  h2 = k;
                  var w = f3.type, u3 = f3.stateNode;
                  if (0 === (f3.flags & 128) && ("function" === typeof w.getDerivedStateFromError || null !== u3 && "function" === typeof u3.componentDidCatch && (null === Ri || !Ri.has(u3)))) {
                    f3.flags |= 65536;
                    b &= -b;
                    f3.lanes |= b;
                    var F = Qi(f3, h2, b);
                    ph(f3, F);
                    break a;
                  }
              }
              f3 = f3.return;
            } while (null !== f3);
          }
          Sk(c3);
        } catch (na) {
          b = na;
          Y === c3 && null !== c3 && (Y = c3 = c3.return);
          continue;
        }
        break;
      } while (1);
    }
    function Jk() {
      var a2 = mk.current;
      mk.current = Rh;
      return null === a2 ? Rh : a2;
    }
    function tj() {
      if (0 === T || 3 === T || 2 === T) T = 4;
      null === Q2 || 0 === (rh & 268435455) && 0 === (qk & 268435455) || Ck(Q2, Z);
    }
    function Ik(a2, b) {
      var c3 = K;
      K |= 2;
      var d4 = Jk();
      if (Q2 !== a2 || Z !== b) uk = null, Kk(a2, b);
      do
        try {
          Tk();
          break;
        } catch (e3) {
          Mk(a2, e3);
        }
      while (1);
      $g();
      K = c3;
      mk.current = d4;
      if (null !== Y) throw Error(p3(261));
      Q2 = null;
      Z = 0;
      return T;
    }
    function Tk() {
      for (; null !== Y; ) Uk(Y);
    }
    function Lk() {
      for (; null !== Y && !cc(); ) Uk(Y);
    }
    function Uk(a2) {
      var b = Vk(a2.alternate, a2, fj);
      a2.memoizedProps = a2.pendingProps;
      null === b ? Sk(a2) : Y = b;
      nk.current = null;
    }
    function Sk(a2) {
      var b = a2;
      do {
        var c3 = b.alternate;
        a2 = b.return;
        if (0 === (b.flags & 32768)) {
          if (c3 = Ej(c3, b, fj), null !== c3) {
            Y = c3;
            return;
          }
        } else {
          c3 = Ij(c3, b);
          if (null !== c3) {
            c3.flags &= 32767;
            Y = c3;
            return;
          }
          if (null !== a2) a2.flags |= 32768, a2.subtreeFlags = 0, a2.deletions = null;
          else {
            T = 6;
            Y = null;
            return;
          }
        }
        b = b.sibling;
        if (null !== b) {
          Y = b;
          return;
        }
        Y = b = a2;
      } while (null !== b);
      0 === T && (T = 5);
    }
    function Pk(a2, b, c3) {
      var d4 = C2, e3 = ok.transition;
      try {
        ok.transition = null, C2 = 1, Wk(a2, b, c3, d4);
      } finally {
        ok.transition = e3, C2 = d4;
      }
      return null;
    }
    function Wk(a2, b, c3, d4) {
      do
        Hk();
      while (null !== wk);
      if (0 !== (K & 6)) throw Error(p3(327));
      c3 = a2.finishedWork;
      var e3 = a2.finishedLanes;
      if (null === c3) return null;
      a2.finishedWork = null;
      a2.finishedLanes = 0;
      if (c3 === a2.current) throw Error(p3(177));
      a2.callbackNode = null;
      a2.callbackPriority = 0;
      var f3 = c3.lanes | c3.childLanes;
      Bc(a2, f3);
      a2 === Q2 && (Y = Q2 = null, Z = 0);
      0 === (c3.subtreeFlags & 2064) && 0 === (c3.flags & 2064) || vk || (vk = true, Fk(hc, function() {
        Hk();
        return null;
      }));
      f3 = 0 !== (c3.flags & 15990);
      if (0 !== (c3.subtreeFlags & 15990) || f3) {
        f3 = ok.transition;
        ok.transition = null;
        var g = C2;
        C2 = 1;
        var h2 = K;
        K |= 4;
        nk.current = null;
        Oj(a2, c3);
        dk(c3, a2);
        Oe(Df);
        dd = !!Cf;
        Df = Cf = null;
        a2.current = c3;
        hk(c3, a2, e3);
        dc();
        K = h2;
        C2 = g;
        ok.transition = f3;
      } else a2.current = c3;
      vk && (vk = false, wk = a2, xk = e3);
      f3 = a2.pendingLanes;
      0 === f3 && (Ri = null);
      mc(c3.stateNode, d4);
      Dk(a2, B());
      if (null !== b) for (d4 = a2.onRecoverableError, c3 = 0; c3 < b.length; c3++) e3 = b[c3], d4(e3.value, { componentStack: e3.stack, digest: e3.digest });
      if (Oi) throw Oi = false, a2 = Pi, Pi = null, a2;
      0 !== (xk & 1) && 0 !== a2.tag && Hk();
      f3 = a2.pendingLanes;
      0 !== (f3 & 1) ? a2 === zk ? yk++ : (yk = 0, zk = a2) : yk = 0;
      jg();
      return null;
    }
    function Hk() {
      if (null !== wk) {
        var a2 = Dc(xk), b = ok.transition, c3 = C2;
        try {
          ok.transition = null;
          C2 = 16 > a2 ? 16 : a2;
          if (null === wk) var d4 = false;
          else {
            a2 = wk;
            wk = null;
            xk = 0;
            if (0 !== (K & 6)) throw Error(p3(331));
            var e3 = K;
            K |= 4;
            for (V = a2.current; null !== V; ) {
              var f3 = V, g = f3.child;
              if (0 !== (V.flags & 16)) {
                var h2 = f3.deletions;
                if (null !== h2) {
                  for (var k = 0; k < h2.length; k++) {
                    var l3 = h2[k];
                    for (V = l3; null !== V; ) {
                      var m = V;
                      switch (m.tag) {
                        case 0:
                        case 11:
                        case 15:
                          Pj(8, m, f3);
                      }
                      var q = m.child;
                      if (null !== q) q.return = m, V = q;
                      else for (; null !== V; ) {
                        m = V;
                        var r3 = m.sibling, y2 = m.return;
                        Sj(m);
                        if (m === l3) {
                          V = null;
                          break;
                        }
                        if (null !== r3) {
                          r3.return = y2;
                          V = r3;
                          break;
                        }
                        V = y2;
                      }
                    }
                  }
                  var n2 = f3.alternate;
                  if (null !== n2) {
                    var t2 = n2.child;
                    if (null !== t2) {
                      n2.child = null;
                      do {
                        var J = t2.sibling;
                        t2.sibling = null;
                        t2 = J;
                      } while (null !== t2);
                    }
                  }
                  V = f3;
                }
              }
              if (0 !== (f3.subtreeFlags & 2064) && null !== g) g.return = f3, V = g;
              else b: for (; null !== V; ) {
                f3 = V;
                if (0 !== (f3.flags & 2048)) switch (f3.tag) {
                  case 0:
                  case 11:
                  case 15:
                    Pj(9, f3, f3.return);
                }
                var x = f3.sibling;
                if (null !== x) {
                  x.return = f3.return;
                  V = x;
                  break b;
                }
                V = f3.return;
              }
            }
            var w = a2.current;
            for (V = w; null !== V; ) {
              g = V;
              var u3 = g.child;
              if (0 !== (g.subtreeFlags & 2064) && null !== u3) u3.return = g, V = u3;
              else b: for (g = w; null !== V; ) {
                h2 = V;
                if (0 !== (h2.flags & 2048)) try {
                  switch (h2.tag) {
                    case 0:
                    case 11:
                    case 15:
                      Qj(9, h2);
                  }
                } catch (na) {
                  W(h2, h2.return, na);
                }
                if (h2 === g) {
                  V = null;
                  break b;
                }
                var F = h2.sibling;
                if (null !== F) {
                  F.return = h2.return;
                  V = F;
                  break b;
                }
                V = h2.return;
              }
            }
            K = e3;
            jg();
            if (lc && "function" === typeof lc.onPostCommitFiberRoot) try {
              lc.onPostCommitFiberRoot(kc, a2);
            } catch (na) {
            }
            d4 = true;
          }
          return d4;
        } finally {
          C2 = c3, ok.transition = b;
        }
      }
      return false;
    }
    function Xk(a2, b, c3) {
      b = Ji(c3, b);
      b = Ni(a2, b, 1);
      a2 = nh(a2, b, 1);
      b = R();
      null !== a2 && (Ac(a2, 1, b), Dk(a2, b));
    }
    function W(a2, b, c3) {
      if (3 === a2.tag) Xk(a2, a2, c3);
      else for (; null !== b; ) {
        if (3 === b.tag) {
          Xk(b, a2, c3);
          break;
        } else if (1 === b.tag) {
          var d4 = b.stateNode;
          if ("function" === typeof b.type.getDerivedStateFromError || "function" === typeof d4.componentDidCatch && (null === Ri || !Ri.has(d4))) {
            a2 = Ji(c3, a2);
            a2 = Qi(b, a2, 1);
            b = nh(b, a2, 1);
            a2 = R();
            null !== b && (Ac(b, 1, a2), Dk(b, a2));
            break;
          }
        }
        b = b.return;
      }
    }
    function Ti(a2, b, c3) {
      var d4 = a2.pingCache;
      null !== d4 && d4.delete(b);
      b = R();
      a2.pingedLanes |= a2.suspendedLanes & c3;
      Q2 === a2 && (Z & c3) === c3 && (4 === T || 3 === T && (Z & 130023424) === Z && 500 > B() - fk ? Kk(a2, 0) : rk |= c3);
      Dk(a2, b);
    }
    function Yk(a2, b) {
      0 === b && (0 === (a2.mode & 1) ? b = 1 : (b = sc, sc <<= 1, 0 === (sc & 130023424) && (sc = 4194304)));
      var c3 = R();
      a2 = ih(a2, b);
      null !== a2 && (Ac(a2, b, c3), Dk(a2, c3));
    }
    function uj(a2) {
      var b = a2.memoizedState, c3 = 0;
      null !== b && (c3 = b.retryLane);
      Yk(a2, c3);
    }
    function bk(a2, b) {
      var c3 = 0;
      switch (a2.tag) {
        case 13:
          var d4 = a2.stateNode;
          var e3 = a2.memoizedState;
          null !== e3 && (c3 = e3.retryLane);
          break;
        case 19:
          d4 = a2.stateNode;
          break;
        default:
          throw Error(p3(314));
      }
      null !== d4 && d4.delete(b);
      Yk(a2, c3);
    }
    var Vk;
    Vk = function(a2, b, c3) {
      if (null !== a2) if (a2.memoizedProps !== b.pendingProps || Wf.current) dh = true;
      else {
        if (0 === (a2.lanes & c3) && 0 === (b.flags & 128)) return dh = false, yj(a2, b, c3);
        dh = 0 !== (a2.flags & 131072) ? true : false;
      }
      else dh = false, I2 && 0 !== (b.flags & 1048576) && ug(b, ng, b.index);
      b.lanes = 0;
      switch (b.tag) {
        case 2:
          var d4 = b.type;
          ij(a2, b);
          a2 = b.pendingProps;
          var e3 = Yf(b, H.current);
          ch(b, c3);
          e3 = Nh(null, b, d4, a2, e3, c3);
          var f3 = Sh();
          b.flags |= 1;
          "object" === typeof e3 && null !== e3 && "function" === typeof e3.render && void 0 === e3.$$typeof ? (b.tag = 1, b.memoizedState = null, b.updateQueue = null, Zf(d4) ? (f3 = true, cg(b)) : f3 = false, b.memoizedState = null !== e3.state && void 0 !== e3.state ? e3.state : null, kh(b), e3.updater = Ei, b.stateNode = e3, e3._reactInternals = b, Ii(b, d4, a2, c3), b = jj(null, b, d4, true, f3, c3)) : (b.tag = 0, I2 && f3 && vg(b), Xi(null, b, e3, c3), b = b.child);
          return b;
        case 16:
          d4 = b.elementType;
          a: {
            ij(a2, b);
            a2 = b.pendingProps;
            e3 = d4._init;
            d4 = e3(d4._payload);
            b.type = d4;
            e3 = b.tag = Zk(d4);
            a2 = Ci(d4, a2);
            switch (e3) {
              case 0:
                b = cj(null, b, d4, a2, c3);
                break a;
              case 1:
                b = hj(null, b, d4, a2, c3);
                break a;
              case 11:
                b = Yi(null, b, d4, a2, c3);
                break a;
              case 14:
                b = $i(null, b, d4, Ci(d4.type, a2), c3);
                break a;
            }
            throw Error(p3(
              306,
              d4,
              ""
            ));
          }
          return b;
        case 0:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), cj(a2, b, d4, e3, c3);
        case 1:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), hj(a2, b, d4, e3, c3);
        case 3:
          a: {
            kj(b);
            if (null === a2) throw Error(p3(387));
            d4 = b.pendingProps;
            f3 = b.memoizedState;
            e3 = f3.element;
            lh(a2, b);
            qh(b, d4, null, c3);
            var g = b.memoizedState;
            d4 = g.element;
            if (f3.isDehydrated) if (f3 = { element: d4, isDehydrated: false, cache: g.cache, pendingSuspenseBoundaries: g.pendingSuspenseBoundaries, transitions: g.transitions }, b.updateQueue.baseState = f3, b.memoizedState = f3, b.flags & 256) {
              e3 = Ji(Error(p3(423)), b);
              b = lj(a2, b, d4, c3, e3);
              break a;
            } else if (d4 !== e3) {
              e3 = Ji(Error(p3(424)), b);
              b = lj(a2, b, d4, c3, e3);
              break a;
            } else for (yg = Lf(b.stateNode.containerInfo.firstChild), xg = b, I2 = true, zg = null, c3 = Vg(b, null, d4, c3), b.child = c3; c3; ) c3.flags = c3.flags & -3 | 4096, c3 = c3.sibling;
            else {
              Ig();
              if (d4 === e3) {
                b = Zi(a2, b, c3);
                break a;
              }
              Xi(a2, b, d4, c3);
            }
            b = b.child;
          }
          return b;
        case 5:
          return Ah(b), null === a2 && Eg(b), d4 = b.type, e3 = b.pendingProps, f3 = null !== a2 ? a2.memoizedProps : null, g = e3.children, Ef(d4, e3) ? g = null : null !== f3 && Ef(d4, f3) && (b.flags |= 32), gj(a2, b), Xi(a2, b, g, c3), b.child;
        case 6:
          return null === a2 && Eg(b), null;
        case 13:
          return oj(a2, b, c3);
        case 4:
          return yh(b, b.stateNode.containerInfo), d4 = b.pendingProps, null === a2 ? b.child = Ug(b, null, d4, c3) : Xi(a2, b, d4, c3), b.child;
        case 11:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), Yi(a2, b, d4, e3, c3);
        case 7:
          return Xi(a2, b, b.pendingProps, c3), b.child;
        case 8:
          return Xi(a2, b, b.pendingProps.children, c3), b.child;
        case 12:
          return Xi(a2, b, b.pendingProps.children, c3), b.child;
        case 10:
          a: {
            d4 = b.type._context;
            e3 = b.pendingProps;
            f3 = b.memoizedProps;
            g = e3.value;
            G(Wg, d4._currentValue);
            d4._currentValue = g;
            if (null !== f3) if (He(f3.value, g)) {
              if (f3.children === e3.children && !Wf.current) {
                b = Zi(a2, b, c3);
                break a;
              }
            } else for (f3 = b.child, null !== f3 && (f3.return = b); null !== f3; ) {
              var h2 = f3.dependencies;
              if (null !== h2) {
                g = f3.child;
                for (var k = h2.firstContext; null !== k; ) {
                  if (k.context === d4) {
                    if (1 === f3.tag) {
                      k = mh(-1, c3 & -c3);
                      k.tag = 2;
                      var l3 = f3.updateQueue;
                      if (null !== l3) {
                        l3 = l3.shared;
                        var m = l3.pending;
                        null === m ? k.next = k : (k.next = m.next, m.next = k);
                        l3.pending = k;
                      }
                    }
                    f3.lanes |= c3;
                    k = f3.alternate;
                    null !== k && (k.lanes |= c3);
                    bh(
                      f3.return,
                      c3,
                      b
                    );
                    h2.lanes |= c3;
                    break;
                  }
                  k = k.next;
                }
              } else if (10 === f3.tag) g = f3.type === b.type ? null : f3.child;
              else if (18 === f3.tag) {
                g = f3.return;
                if (null === g) throw Error(p3(341));
                g.lanes |= c3;
                h2 = g.alternate;
                null !== h2 && (h2.lanes |= c3);
                bh(g, c3, b);
                g = f3.sibling;
              } else g = f3.child;
              if (null !== g) g.return = f3;
              else for (g = f3; null !== g; ) {
                if (g === b) {
                  g = null;
                  break;
                }
                f3 = g.sibling;
                if (null !== f3) {
                  f3.return = g.return;
                  g = f3;
                  break;
                }
                g = g.return;
              }
              f3 = g;
            }
            Xi(a2, b, e3.children, c3);
            b = b.child;
          }
          return b;
        case 9:
          return e3 = b.type, d4 = b.pendingProps.children, ch(b, c3), e3 = eh(e3), d4 = d4(e3), b.flags |= 1, Xi(a2, b, d4, c3), b.child;
        case 14:
          return d4 = b.type, e3 = Ci(d4, b.pendingProps), e3 = Ci(d4.type, e3), $i(a2, b, d4, e3, c3);
        case 15:
          return bj(a2, b, b.type, b.pendingProps, c3);
        case 17:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), ij(a2, b), b.tag = 1, Zf(d4) ? (a2 = true, cg(b)) : a2 = false, ch(b, c3), Gi(b, d4, e3), Ii(b, d4, e3, c3), jj(null, b, d4, true, a2, c3);
        case 19:
          return xj(a2, b, c3);
        case 22:
          return dj(a2, b, c3);
      }
      throw Error(p3(156, b.tag));
    };
    function Fk(a2, b) {
      return ac(a2, b);
    }
    function $k(a2, b, c3, d4) {
      this.tag = a2;
      this.key = c3;
      this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null;
      this.index = 0;
      this.ref = null;
      this.pendingProps = b;
      this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null;
      this.mode = d4;
      this.subtreeFlags = this.flags = 0;
      this.deletions = null;
      this.childLanes = this.lanes = 0;
      this.alternate = null;
    }
    function Bg(a2, b, c3, d4) {
      return new $k(a2, b, c3, d4);
    }
    function aj(a2) {
      a2 = a2.prototype;
      return !(!a2 || !a2.isReactComponent);
    }
    function Zk(a2) {
      if ("function" === typeof a2) return aj(a2) ? 1 : 0;
      if (void 0 !== a2 && null !== a2) {
        a2 = a2.$$typeof;
        if (a2 === Da) return 11;
        if (a2 === Ga) return 14;
      }
      return 2;
    }
    function Pg(a2, b) {
      var c3 = a2.alternate;
      null === c3 ? (c3 = Bg(a2.tag, b, a2.key, a2.mode), c3.elementType = a2.elementType, c3.type = a2.type, c3.stateNode = a2.stateNode, c3.alternate = a2, a2.alternate = c3) : (c3.pendingProps = b, c3.type = a2.type, c3.flags = 0, c3.subtreeFlags = 0, c3.deletions = null);
      c3.flags = a2.flags & 14680064;
      c3.childLanes = a2.childLanes;
      c3.lanes = a2.lanes;
      c3.child = a2.child;
      c3.memoizedProps = a2.memoizedProps;
      c3.memoizedState = a2.memoizedState;
      c3.updateQueue = a2.updateQueue;
      b = a2.dependencies;
      c3.dependencies = null === b ? null : { lanes: b.lanes, firstContext: b.firstContext };
      c3.sibling = a2.sibling;
      c3.index = a2.index;
      c3.ref = a2.ref;
      return c3;
    }
    function Rg(a2, b, c3, d4, e3, f3) {
      var g = 2;
      d4 = a2;
      if ("function" === typeof a2) aj(a2) && (g = 1);
      else if ("string" === typeof a2) g = 5;
      else a: switch (a2) {
        case ya:
          return Tg(c3.children, e3, f3, b);
        case za:
          g = 8;
          e3 |= 8;
          break;
        case Aa:
          return a2 = Bg(12, c3, b, e3 | 2), a2.elementType = Aa, a2.lanes = f3, a2;
        case Ea:
          return a2 = Bg(13, c3, b, e3), a2.elementType = Ea, a2.lanes = f3, a2;
        case Fa:
          return a2 = Bg(19, c3, b, e3), a2.elementType = Fa, a2.lanes = f3, a2;
        case Ia:
          return pj(c3, e3, f3, b);
        default:
          if ("object" === typeof a2 && null !== a2) switch (a2.$$typeof) {
            case Ba:
              g = 10;
              break a;
            case Ca:
              g = 9;
              break a;
            case Da:
              g = 11;
              break a;
            case Ga:
              g = 14;
              break a;
            case Ha:
              g = 16;
              d4 = null;
              break a;
          }
          throw Error(p3(130, null == a2 ? a2 : typeof a2, ""));
      }
      b = Bg(g, c3, b, e3);
      b.elementType = a2;
      b.type = d4;
      b.lanes = f3;
      return b;
    }
    function Tg(a2, b, c3, d4) {
      a2 = Bg(7, a2, d4, b);
      a2.lanes = c3;
      return a2;
    }
    function pj(a2, b, c3, d4) {
      a2 = Bg(22, a2, d4, b);
      a2.elementType = Ia;
      a2.lanes = c3;
      a2.stateNode = { isHidden: false };
      return a2;
    }
    function Qg(a2, b, c3) {
      a2 = Bg(6, a2, null, b);
      a2.lanes = c3;
      return a2;
    }
    function Sg(a2, b, c3) {
      b = Bg(4, null !== a2.children ? a2.children : [], a2.key, b);
      b.lanes = c3;
      b.stateNode = { containerInfo: a2.containerInfo, pendingChildren: null, implementation: a2.implementation };
      return b;
    }
    function al(a2, b, c3, d4, e3) {
      this.tag = b;
      this.containerInfo = a2;
      this.finishedWork = this.pingCache = this.current = this.pendingChildren = null;
      this.timeoutHandle = -1;
      this.callbackNode = this.pendingContext = this.context = null;
      this.callbackPriority = 0;
      this.eventTimes = zc(0);
      this.expirationTimes = zc(-1);
      this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0;
      this.entanglements = zc(0);
      this.identifierPrefix = d4;
      this.onRecoverableError = e3;
      this.mutableSourceEagerHydrationData = null;
    }
    function bl(a2, b, c3, d4, e3, f3, g, h2, k) {
      a2 = new al(a2, b, c3, h2, k);
      1 === b ? (b = 1, true === f3 && (b |= 8)) : b = 0;
      f3 = Bg(3, null, null, b);
      a2.current = f3;
      f3.stateNode = a2;
      f3.memoizedState = { element: d4, isDehydrated: c3, cache: null, transitions: null, pendingSuspenseBoundaries: null };
      kh(f3);
      return a2;
    }
    function cl(a2, b, c3) {
      var d4 = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
      return { $$typeof: wa, key: null == d4 ? null : "" + d4, children: a2, containerInfo: b, implementation: c3 };
    }
    function dl(a2) {
      if (!a2) return Vf;
      a2 = a2._reactInternals;
      a: {
        if (Vb(a2) !== a2 || 1 !== a2.tag) throw Error(p3(170));
        var b = a2;
        do {
          switch (b.tag) {
            case 3:
              b = b.stateNode.context;
              break a;
            case 1:
              if (Zf(b.type)) {
                b = b.stateNode.__reactInternalMemoizedMergedChildContext;
                break a;
              }
          }
          b = b.return;
        } while (null !== b);
        throw Error(p3(171));
      }
      if (1 === a2.tag) {
        var c3 = a2.type;
        if (Zf(c3)) return bg(a2, c3, b);
      }
      return b;
    }
    function el(a2, b, c3, d4, e3, f3, g, h2, k) {
      a2 = bl(c3, d4, true, a2, e3, f3, g, h2, k);
      a2.context = dl(null);
      c3 = a2.current;
      d4 = R();
      e3 = yi(c3);
      f3 = mh(d4, e3);
      f3.callback = void 0 !== b && null !== b ? b : null;
      nh(c3, f3, e3);
      a2.current.lanes = e3;
      Ac(a2, e3, d4);
      Dk(a2, d4);
      return a2;
    }
    function fl(a2, b, c3, d4) {
      var e3 = b.current, f3 = R(), g = yi(e3);
      c3 = dl(c3);
      null === b.context ? b.context = c3 : b.pendingContext = c3;
      b = mh(f3, g);
      b.payload = { element: a2 };
      d4 = void 0 === d4 ? null : d4;
      null !== d4 && (b.callback = d4);
      a2 = nh(e3, b, g);
      null !== a2 && (gi(a2, e3, g, f3), oh(a2, e3, g));
      return g;
    }
    function gl(a2) {
      a2 = a2.current;
      if (!a2.child) return null;
      switch (a2.child.tag) {
        case 5:
          return a2.child.stateNode;
        default:
          return a2.child.stateNode;
      }
    }
    function hl(a2, b) {
      a2 = a2.memoizedState;
      if (null !== a2 && null !== a2.dehydrated) {
        var c3 = a2.retryLane;
        a2.retryLane = 0 !== c3 && c3 < b ? c3 : b;
      }
    }
    function il(a2, b) {
      hl(a2, b);
      (a2 = a2.alternate) && hl(a2, b);
    }
    function jl() {
      return null;
    }
    var kl = "function" === typeof reportError ? reportError : function(a2) {
      console.error(a2);
    };
    function ll(a2) {
      this._internalRoot = a2;
    }
    ml.prototype.render = ll.prototype.render = function(a2) {
      var b = this._internalRoot;
      if (null === b) throw Error(p3(409));
      fl(a2, b, null, null);
    };
    ml.prototype.unmount = ll.prototype.unmount = function() {
      var a2 = this._internalRoot;
      if (null !== a2) {
        this._internalRoot = null;
        var b = a2.containerInfo;
        Rk(function() {
          fl(null, a2, null, null);
        });
        b[uf] = null;
      }
    };
    function ml(a2) {
      this._internalRoot = a2;
    }
    ml.prototype.unstable_scheduleHydration = function(a2) {
      if (a2) {
        var b = Hc();
        a2 = { blockedOn: null, target: a2, priority: b };
        for (var c3 = 0; c3 < Qc.length && 0 !== b && b < Qc[c3].priority; c3++) ;
        Qc.splice(c3, 0, a2);
        0 === c3 && Vc(a2);
      }
    };
    function nl(a2) {
      return !(!a2 || 1 !== a2.nodeType && 9 !== a2.nodeType && 11 !== a2.nodeType);
    }
    function ol(a2) {
      return !(!a2 || 1 !== a2.nodeType && 9 !== a2.nodeType && 11 !== a2.nodeType && (8 !== a2.nodeType || " react-mount-point-unstable " !== a2.nodeValue));
    }
    function pl() {
    }
    function ql(a2, b, c3, d4, e3) {
      if (e3) {
        if ("function" === typeof d4) {
          var f3 = d4;
          d4 = function() {
            var a3 = gl(g);
            f3.call(a3);
          };
        }
        var g = el(b, d4, a2, 0, null, false, false, "", pl);
        a2._reactRootContainer = g;
        a2[uf] = g.current;
        sf(8 === a2.nodeType ? a2.parentNode : a2);
        Rk();
        return g;
      }
      for (; e3 = a2.lastChild; ) a2.removeChild(e3);
      if ("function" === typeof d4) {
        var h2 = d4;
        d4 = function() {
          var a3 = gl(k);
          h2.call(a3);
        };
      }
      var k = bl(a2, 0, false, null, null, false, false, "", pl);
      a2._reactRootContainer = k;
      a2[uf] = k.current;
      sf(8 === a2.nodeType ? a2.parentNode : a2);
      Rk(function() {
        fl(b, k, c3, d4);
      });
      return k;
    }
    function rl(a2, b, c3, d4, e3) {
      var f3 = c3._reactRootContainer;
      if (f3) {
        var g = f3;
        if ("function" === typeof e3) {
          var h2 = e3;
          e3 = function() {
            var a3 = gl(g);
            h2.call(a3);
          };
        }
        fl(b, g, a2, e3);
      } else g = ql(c3, b, a2, e3, d4);
      return gl(g);
    }
    Ec = function(a2) {
      switch (a2.tag) {
        case 3:
          var b = a2.stateNode;
          if (b.current.memoizedState.isDehydrated) {
            var c3 = tc(b.pendingLanes);
            0 !== c3 && (Cc(b, c3 | 1), Dk(b, B()), 0 === (K & 6) && (Gj = B() + 500, jg()));
          }
          break;
        case 13:
          Rk(function() {
            var b2 = ih(a2, 1);
            if (null !== b2) {
              var c4 = R();
              gi(b2, a2, 1, c4);
            }
          }), il(a2, 1);
      }
    };
    Fc = function(a2) {
      if (13 === a2.tag) {
        var b = ih(a2, 134217728);
        if (null !== b) {
          var c3 = R();
          gi(b, a2, 134217728, c3);
        }
        il(a2, 134217728);
      }
    };
    Gc = function(a2) {
      if (13 === a2.tag) {
        var b = yi(a2), c3 = ih(a2, b);
        if (null !== c3) {
          var d4 = R();
          gi(c3, a2, b, d4);
        }
        il(a2, b);
      }
    };
    Hc = function() {
      return C2;
    };
    Ic = function(a2, b) {
      var c3 = C2;
      try {
        return C2 = a2, b();
      } finally {
        C2 = c3;
      }
    };
    yb = function(a2, b, c3) {
      switch (b) {
        case "input":
          bb(a2, c3);
          b = c3.name;
          if ("radio" === c3.type && null != b) {
            for (c3 = a2; c3.parentNode; ) c3 = c3.parentNode;
            c3 = c3.querySelectorAll("input[name=" + JSON.stringify("" + b) + '][type="radio"]');
            for (b = 0; b < c3.length; b++) {
              var d4 = c3[b];
              if (d4 !== a2 && d4.form === a2.form) {
                var e3 = Db(d4);
                if (!e3) throw Error(p3(90));
                Wa(d4);
                bb(d4, e3);
              }
            }
          }
          break;
        case "textarea":
          ib(a2, c3);
          break;
        case "select":
          b = c3.value, null != b && fb(a2, !!c3.multiple, b, false);
      }
    };
    Gb = Qk;
    Hb = Rk;
    var sl = { usingClientEntryPoint: false, Events: [Cb, ue, Db, Eb, Fb, Qk] };
    var tl = { findFiberByHostInstance: Wc, bundleType: 0, version: "18.3.1", rendererPackageName: "react-dom" };
    var ul = { bundleType: tl.bundleType, version: tl.version, rendererPackageName: tl.rendererPackageName, rendererConfig: tl.rendererConfig, overrideHookState: null, overrideHookStateDeletePath: null, overrideHookStateRenamePath: null, overrideProps: null, overridePropsDeletePath: null, overridePropsRenamePath: null, setErrorHandler: null, setSuspenseHandler: null, scheduleUpdate: null, currentDispatcherRef: ua.ReactCurrentDispatcher, findHostInstanceByFiber: function(a2) {
      a2 = Zb(a2);
      return null === a2 ? null : a2.stateNode;
    }, findFiberByHostInstance: tl.findFiberByHostInstance || jl, findHostInstancesForRefresh: null, scheduleRefresh: null, scheduleRoot: null, setRefreshHandler: null, getCurrentFiber: null, reconcilerVersion: "18.3.1-next-f1338f8080-20240426" };
    if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
      vl = __REACT_DEVTOOLS_GLOBAL_HOOK__;
      if (!vl.isDisabled && vl.supportsFiber) try {
        kc = vl.inject(ul), lc = vl;
      } catch (a2) {
      }
    }
    var vl;
    exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = sl;
    exports.createPortal = function(a2, b) {
      var c3 = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
      if (!nl(b)) throw Error(p3(200));
      return cl(a2, b, null, c3);
    };
    exports.createRoot = function(a2, b) {
      if (!nl(a2)) throw Error(p3(299));
      var c3 = false, d4 = "", e3 = kl;
      null !== b && void 0 !== b && (true === b.unstable_strictMode && (c3 = true), void 0 !== b.identifierPrefix && (d4 = b.identifierPrefix), void 0 !== b.onRecoverableError && (e3 = b.onRecoverableError));
      b = bl(a2, 1, false, null, null, c3, false, d4, e3);
      a2[uf] = b.current;
      sf(8 === a2.nodeType ? a2.parentNode : a2);
      return new ll(b);
    };
    exports.findDOMNode = function(a2) {
      if (null == a2) return null;
      if (1 === a2.nodeType) return a2;
      var b = a2._reactInternals;
      if (void 0 === b) {
        if ("function" === typeof a2.render) throw Error(p3(188));
        a2 = Object.keys(a2).join(",");
        throw Error(p3(268, a2));
      }
      a2 = Zb(b);
      a2 = null === a2 ? null : a2.stateNode;
      return a2;
    };
    exports.flushSync = function(a2) {
      return Rk(a2);
    };
    exports.hydrate = function(a2, b, c3) {
      if (!ol(b)) throw Error(p3(200));
      return rl(null, a2, b, true, c3);
    };
    exports.hydrateRoot = function(a2, b, c3) {
      if (!nl(a2)) throw Error(p3(405));
      var d4 = null != c3 && c3.hydratedSources || null, e3 = false, f3 = "", g = kl;
      null !== c3 && void 0 !== c3 && (true === c3.unstable_strictMode && (e3 = true), void 0 !== c3.identifierPrefix && (f3 = c3.identifierPrefix), void 0 !== c3.onRecoverableError && (g = c3.onRecoverableError));
      b = el(b, null, a2, 1, null != c3 ? c3 : null, e3, false, f3, g);
      a2[uf] = b.current;
      sf(a2);
      if (d4) for (a2 = 0; a2 < d4.length; a2++) c3 = d4[a2], e3 = c3._getVersion, e3 = e3(c3._source), null == b.mutableSourceEagerHydrationData ? b.mutableSourceEagerHydrationData = [c3, e3] : b.mutableSourceEagerHydrationData.push(
        c3,
        e3
      );
      return new ml(b);
    };
    exports.render = function(a2, b, c3) {
      if (!ol(b)) throw Error(p3(200));
      return rl(null, a2, b, false, c3);
    };
    exports.unmountComponentAtNode = function(a2) {
      if (!ol(a2)) throw Error(p3(40));
      return a2._reactRootContainer ? (Rk(function() {
        rl(null, null, a2, false, function() {
          a2._reactRootContainer = null;
          a2[uf] = null;
        });
      }), true) : false;
    };
    exports.unstable_batchedUpdates = Qk;
    exports.unstable_renderSubtreeIntoContainer = function(a2, b, c3, d4) {
      if (!ol(c3)) throw Error(p3(200));
      if (null == a2 || void 0 === a2._reactInternals) throw Error(p3(38));
      return rl(a2, b, c3, false, d4);
    };
    exports.version = "18.3.1-next-f1338f8080-20240426";
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js
var require_react_dom = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js"(exports, module) {
    "use strict";
    function checkDCE() {
      if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === "undefined" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== "function") {
        return;
      }
      if (false) {
        throw new Error("^_^");
      }
      try {
        __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);
      } catch (err) {
        console.error(err);
      }
    }
    if (true) {
      checkDCE();
      module.exports = require_react_dom_production_min();
    } else {
      module.exports = null;
    }
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js
var require_client = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js"(exports) {
    "use strict";
    var m = require_react_dom();
    if (true) {
      exports.createRoot = m.createRoot;
      exports.hydrateRoot = m.hydrateRoot;
    } else {
      i3 = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
      exports.createRoot = function(c3, o2) {
        i3.usingClientEntryPoint = true;
        try {
          return m.createRoot(c3, o2);
        } finally {
          i3.usingClientEntryPoint = false;
        }
      };
      exports.hydrateRoot = function(c3, h2, o2) {
        i3.usingClientEntryPoint = true;
        try {
          return m.hydrateRoot(c3, h2, o2);
        } finally {
          i3.usingClientEntryPoint = false;
        }
      };
    }
    var i3;
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/util@1.10.0/node_modules/@firebase/util/dist/index.esm2017.js
function getGlobal() {
  if (typeof self !== "undefined") {
    return self;
  }
  if (typeof window !== "undefined") {
    return window;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw new Error("Unable to locate global object.");
}
function getUA() {
  if (typeof navigator !== "undefined" && typeof navigator["userAgent"] === "string") {
    return navigator["userAgent"];
  } else {
    return "";
  }
}
function isMobileCordova() {
  return typeof window !== "undefined" && // @ts-ignore Setting up an broadly applicable index signature for Window
  // just to deal with this case would probably be a bad idea.
  !!(window["cordova"] || window["phonegap"] || window["PhoneGap"]) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA());
}
function isCloudflareWorker() {
  return typeof navigator !== "undefined" && navigator.userAgent === "Cloudflare-Workers";
}
function isBrowserExtension() {
  const runtime = typeof chrome === "object" ? chrome.runtime : typeof browser === "object" ? browser.runtime : void 0;
  return typeof runtime === "object" && runtime.id !== void 0;
}
function isReactNative() {
  return typeof navigator === "object" && navigator["product"] === "ReactNative";
}
function isIE() {
  const ua = getUA();
  return ua.indexOf("MSIE ") >= 0 || ua.indexOf("Trident/") >= 0;
}
function isIndexedDBAvailable() {
  try {
    return typeof indexedDB === "object";
  } catch (e3) {
    return false;
  }
}
function validateIndexedDBOpenable() {
  return new Promise((resolve, reject) => {
    try {
      let preExist = true;
      const DB_CHECK_NAME = "validate-browser-context-for-indexeddb-analytics-module";
      const request = self.indexedDB.open(DB_CHECK_NAME);
      request.onsuccess = () => {
        request.result.close();
        if (!preExist) {
          self.indexedDB.deleteDatabase(DB_CHECK_NAME);
        }
        resolve(true);
      };
      request.onupgradeneeded = () => {
        preExist = false;
      };
      request.onerror = () => {
        var _a;
        reject(((_a = request.error) === null || _a === void 0 ? void 0 : _a.message) || "");
      };
    } catch (error2) {
      reject(error2);
    }
  });
}
function replaceTemplate(template, data) {
  return template.replace(PATTERN, (_, key) => {
    const value2 = data[key];
    return value2 != null ? String(value2) : `<${key}?>`;
  });
}
function isEmpty(obj) {
  for (const key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      return false;
    }
  }
  return true;
}
function deepEqual(a2, b) {
  if (a2 === b) {
    return true;
  }
  const aKeys = Object.keys(a2);
  const bKeys = Object.keys(b);
  for (const k of aKeys) {
    if (!bKeys.includes(k)) {
      return false;
    }
    const aProp = a2[k];
    const bProp = b[k];
    if (isObject(aProp) && isObject(bProp)) {
      if (!deepEqual(aProp, bProp)) {
        return false;
      }
    } else if (aProp !== bProp) {
      return false;
    }
  }
  for (const k of bKeys) {
    if (!aKeys.includes(k)) {
      return false;
    }
  }
  return true;
}
function isObject(thing) {
  return thing !== null && typeof thing === "object";
}
function querystring(querystringParams) {
  const params = [];
  for (const [key, value2] of Object.entries(querystringParams)) {
    if (Array.isArray(value2)) {
      value2.forEach((arrayVal) => {
        params.push(encodeURIComponent(key) + "=" + encodeURIComponent(arrayVal));
      });
    } else {
      params.push(encodeURIComponent(key) + "=" + encodeURIComponent(value2));
    }
  }
  return params.length ? "&" + params.join("&") : "";
}
function querystringDecode(querystring2) {
  const obj = {};
  const tokens = querystring2.replace(/^\?/, "").split("&");
  tokens.forEach((token) => {
    if (token) {
      const [key, value2] = token.split("=");
      obj[decodeURIComponent(key)] = decodeURIComponent(value2);
    }
  });
  return obj;
}
function extractQuerystring(url) {
  const queryStart = url.indexOf("?");
  if (!queryStart) {
    return "";
  }
  const fragmentStart = url.indexOf("#", queryStart);
  return url.substring(queryStart, fragmentStart > 0 ? fragmentStart : void 0);
}
function createSubscribe(executor, onNoObservers) {
  const proxy = new ObserverProxy(executor, onNoObservers);
  return proxy.subscribe.bind(proxy);
}
function implementsAnyMethods(obj, methods) {
  if (typeof obj !== "object" || obj === null) {
    return false;
  }
  for (const method of methods) {
    if (method in obj && typeof obj[method] === "function") {
      return true;
    }
  }
  return false;
}
function noop2() {
}
function getModularInstance(service) {
  if (service && service._delegate) {
    return service._delegate;
  } else {
    return service;
  }
}
var stringToByteArray$1, byteArrayToString, base64, DecodeBase64StringError, base64Encode, base64urlEncodeWithoutPadding, base64Decode, getDefaultsFromGlobal, getDefaultsFromEnvVariable, getDefaultsFromCookie, getDefaults, getDefaultEmulatorHost, getDefaultAppConfig, getExperimentalSetting, Deferred, ERROR_NAME, FirebaseError, ErrorFactory, PATTERN, ObserverProxy, MAX_VALUE_MILLIS;
var init_index_esm2017 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/util@1.10.0/node_modules/@firebase/util/dist/index.esm2017.js"() {
    stringToByteArray$1 = function(str) {
      const out = [];
      let p3 = 0;
      for (let i3 = 0; i3 < str.length; i3++) {
        let c3 = str.charCodeAt(i3);
        if (c3 < 128) {
          out[p3++] = c3;
        } else if (c3 < 2048) {
          out[p3++] = c3 >> 6 | 192;
          out[p3++] = c3 & 63 | 128;
        } else if ((c3 & 64512) === 55296 && i3 + 1 < str.length && (str.charCodeAt(i3 + 1) & 64512) === 56320) {
          c3 = 65536 + ((c3 & 1023) << 10) + (str.charCodeAt(++i3) & 1023);
          out[p3++] = c3 >> 18 | 240;
          out[p3++] = c3 >> 12 & 63 | 128;
          out[p3++] = c3 >> 6 & 63 | 128;
          out[p3++] = c3 & 63 | 128;
        } else {
          out[p3++] = c3 >> 12 | 224;
          out[p3++] = c3 >> 6 & 63 | 128;
          out[p3++] = c3 & 63 | 128;
        }
      }
      return out;
    };
    byteArrayToString = function(bytes) {
      const out = [];
      let pos = 0, c3 = 0;
      while (pos < bytes.length) {
        const c1 = bytes[pos++];
        if (c1 < 128) {
          out[c3++] = String.fromCharCode(c1);
        } else if (c1 > 191 && c1 < 224) {
          const c22 = bytes[pos++];
          out[c3++] = String.fromCharCode((c1 & 31) << 6 | c22 & 63);
        } else if (c1 > 239 && c1 < 365) {
          const c22 = bytes[pos++];
          const c32 = bytes[pos++];
          const c4 = bytes[pos++];
          const u3 = ((c1 & 7) << 18 | (c22 & 63) << 12 | (c32 & 63) << 6 | c4 & 63) - 65536;
          out[c3++] = String.fromCharCode(55296 + (u3 >> 10));
          out[c3++] = String.fromCharCode(56320 + (u3 & 1023));
        } else {
          const c22 = bytes[pos++];
          const c32 = bytes[pos++];
          out[c3++] = String.fromCharCode((c1 & 15) << 12 | (c22 & 63) << 6 | c32 & 63);
        }
      }
      return out.join("");
    };
    base64 = {
      /**
       * Maps bytes to characters.
       */
      byteToCharMap_: null,
      /**
       * Maps characters to bytes.
       */
      charToByteMap_: null,
      /**
       * Maps bytes to websafe characters.
       * @private
       */
      byteToCharMapWebSafe_: null,
      /**
       * Maps websafe characters to bytes.
       * @private
       */
      charToByteMapWebSafe_: null,
      /**
       * Our default alphabet, shared between
       * ENCODED_VALS and ENCODED_VALS_WEBSAFE
       */
      ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
      /**
       * Our default alphabet. Value 64 (=) is special; it means "nothing."
       */
      get ENCODED_VALS() {
        return this.ENCODED_VALS_BASE + "+/=";
      },
      /**
       * Our websafe alphabet.
       */
      get ENCODED_VALS_WEBSAFE() {
        return this.ENCODED_VALS_BASE + "-_.";
      },
      /**
       * Whether this browser supports the atob and btoa functions. This extension
       * started at Mozilla but is now implemented by many browsers. We use the
       * ASSUME_* variables to avoid pulling in the full useragent detection library
       * but still allowing the standard per-browser compilations.
       *
       */
      HAS_NATIVE_SUPPORT: typeof atob === "function",
      /**
       * Base64-encode an array of bytes.
       *
       * @param input An array of bytes (numbers with
       *     value in [0, 255]) to encode.
       * @param webSafe Boolean indicating we should use the
       *     alternative alphabet.
       * @return The base64 encoded string.
       */
      encodeByteArray(input, webSafe) {
        if (!Array.isArray(input)) {
          throw Error("encodeByteArray takes an array as a parameter");
        }
        this.init_();
        const byteToCharMap = webSafe ? this.byteToCharMapWebSafe_ : this.byteToCharMap_;
        const output = [];
        for (let i3 = 0; i3 < input.length; i3 += 3) {
          const byte1 = input[i3];
          const haveByte2 = i3 + 1 < input.length;
          const byte2 = haveByte2 ? input[i3 + 1] : 0;
          const haveByte3 = i3 + 2 < input.length;
          const byte3 = haveByte3 ? input[i3 + 2] : 0;
          const outByte1 = byte1 >> 2;
          const outByte2 = (byte1 & 3) << 4 | byte2 >> 4;
          let outByte3 = (byte2 & 15) << 2 | byte3 >> 6;
          let outByte4 = byte3 & 63;
          if (!haveByte3) {
            outByte4 = 64;
            if (!haveByte2) {
              outByte3 = 64;
            }
          }
          output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);
        }
        return output.join("");
      },
      /**
       * Base64-encode a string.
       *
       * @param input A string to encode.
       * @param webSafe If true, we should use the
       *     alternative alphabet.
       * @return The base64 encoded string.
       */
      encodeString(input, webSafe) {
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
          return btoa(input);
        }
        return this.encodeByteArray(stringToByteArray$1(input), webSafe);
      },
      /**
       * Base64-decode a string.
       *
       * @param input to decode.
       * @param webSafe True if we should use the
       *     alternative alphabet.
       * @return string representing the decoded value.
       */
      decodeString(input, webSafe) {
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
          return atob(input);
        }
        return byteArrayToString(this.decodeStringToByteArray(input, webSafe));
      },
      /**
       * Base64-decode a string.
       *
       * In base-64 decoding, groups of four characters are converted into three
       * bytes.  If the encoder did not apply padding, the input length may not
       * be a multiple of 4.
       *
       * In this case, the last group will have fewer than 4 characters, and
       * padding will be inferred.  If the group has one or two characters, it decodes
       * to one byte.  If the group has three characters, it decodes to two bytes.
       *
       * @param input Input to decode.
       * @param webSafe True if we should use the web-safe alphabet.
       * @return bytes representing the decoded value.
       */
      decodeStringToByteArray(input, webSafe) {
        this.init_();
        const charToByteMap = webSafe ? this.charToByteMapWebSafe_ : this.charToByteMap_;
        const output = [];
        for (let i3 = 0; i3 < input.length; ) {
          const byte1 = charToByteMap[input.charAt(i3++)];
          const haveByte2 = i3 < input.length;
          const byte2 = haveByte2 ? charToByteMap[input.charAt(i3)] : 0;
          ++i3;
          const haveByte3 = i3 < input.length;
          const byte3 = haveByte3 ? charToByteMap[input.charAt(i3)] : 64;
          ++i3;
          const haveByte4 = i3 < input.length;
          const byte4 = haveByte4 ? charToByteMap[input.charAt(i3)] : 64;
          ++i3;
          if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {
            throw new DecodeBase64StringError();
          }
          const outByte1 = byte1 << 2 | byte2 >> 4;
          output.push(outByte1);
          if (byte3 !== 64) {
            const outByte2 = byte2 << 4 & 240 | byte3 >> 2;
            output.push(outByte2);
            if (byte4 !== 64) {
              const outByte3 = byte3 << 6 & 192 | byte4;
              output.push(outByte3);
            }
          }
        }
        return output;
      },
      /**
       * Lazy static initialization function. Called before
       * accessing any of the static map variables.
       * @private
       */
      init_() {
        if (!this.byteToCharMap_) {
          this.byteToCharMap_ = {};
          this.charToByteMap_ = {};
          this.byteToCharMapWebSafe_ = {};
          this.charToByteMapWebSafe_ = {};
          for (let i3 = 0; i3 < this.ENCODED_VALS.length; i3++) {
            this.byteToCharMap_[i3] = this.ENCODED_VALS.charAt(i3);
            this.charToByteMap_[this.byteToCharMap_[i3]] = i3;
            this.byteToCharMapWebSafe_[i3] = this.ENCODED_VALS_WEBSAFE.charAt(i3);
            this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i3]] = i3;
            if (i3 >= this.ENCODED_VALS_BASE.length) {
              this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i3)] = i3;
              this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i3)] = i3;
            }
          }
        }
      }
    };
    DecodeBase64StringError = class extends Error {
      constructor() {
        super(...arguments);
        this.name = "DecodeBase64StringError";
      }
    };
    base64Encode = function(str) {
      const utf8Bytes = stringToByteArray$1(str);
      return base64.encodeByteArray(utf8Bytes, true);
    };
    base64urlEncodeWithoutPadding = function(str) {
      return base64Encode(str).replace(/\./g, "");
    };
    base64Decode = function(str) {
      try {
        return base64.decodeString(str, true);
      } catch (e3) {
        console.error("base64Decode failed: ", e3);
      }
      return null;
    };
    getDefaultsFromGlobal = () => getGlobal().__FIREBASE_DEFAULTS__;
    getDefaultsFromEnvVariable = () => {
      if (typeof process === "undefined" || typeof process.env === "undefined") {
        return;
      }
      const defaultsJsonString = process.env.__FIREBASE_DEFAULTS__;
      if (defaultsJsonString) {
        return JSON.parse(defaultsJsonString);
      }
    };
    getDefaultsFromCookie = () => {
      if (typeof document === "undefined") {
        return;
      }
      let match;
      try {
        match = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
      } catch (e3) {
        return;
      }
      const decoded = match && base64Decode(match[1]);
      return decoded && JSON.parse(decoded);
    };
    getDefaults = () => {
      try {
        return getDefaultsFromGlobal() || getDefaultsFromEnvVariable() || getDefaultsFromCookie();
      } catch (e3) {
        console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e3}`);
        return;
      }
    };
    getDefaultEmulatorHost = (productName) => {
      var _a, _b;
      return (_b = (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.emulatorHosts) === null || _b === void 0 ? void 0 : _b[productName];
    };
    getDefaultAppConfig = () => {
      var _a;
      return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.config;
    };
    getExperimentalSetting = (name5) => {
      var _a;
      return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a[`_${name5}`];
    };
    Deferred = class {
      constructor() {
        this.reject = () => {
        };
        this.resolve = () => {
        };
        this.promise = new Promise((resolve, reject) => {
          this.resolve = resolve;
          this.reject = reject;
        });
      }
      /**
       * Our API internals are not promisified and cannot because our callback APIs have subtle expectations around
       * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback
       * and returns a node-style callback which will resolve or reject the Deferred's promise.
       */
      wrapCallback(callback) {
        return (error2, value2) => {
          if (error2) {
            this.reject(error2);
          } else {
            this.resolve(value2);
          }
          if (typeof callback === "function") {
            this.promise.catch(() => {
            });
            if (callback.length === 1) {
              callback(error2);
            } else {
              callback(error2, value2);
            }
          }
        };
      }
    };
    ERROR_NAME = "FirebaseError";
    FirebaseError = class _FirebaseError extends Error {
      constructor(code, message, customData) {
        super(message);
        this.code = code;
        this.customData = customData;
        this.name = ERROR_NAME;
        Object.setPrototypeOf(this, _FirebaseError.prototype);
        if (Error.captureStackTrace) {
          Error.captureStackTrace(this, ErrorFactory.prototype.create);
        }
      }
    };
    ErrorFactory = class {
      constructor(service, serviceName, errors) {
        this.service = service;
        this.serviceName = serviceName;
        this.errors = errors;
      }
      create(code, ...data) {
        const customData = data[0] || {};
        const fullCode = `${this.service}/${code}`;
        const template = this.errors[code];
        const message = template ? replaceTemplate(template, customData) : "Error";
        const fullMessage = `${this.serviceName}: ${message} (${fullCode}).`;
        const error2 = new FirebaseError(fullCode, fullMessage, customData);
        return error2;
      }
    };
    PATTERN = /\{\$([^}]+)}/g;
    ObserverProxy = class {
      /**
       * @param executor Function which can make calls to a single Observer
       *     as a proxy.
       * @param onNoObservers Callback when count of Observers goes to zero.
       */
      constructor(executor, onNoObservers) {
        this.observers = [];
        this.unsubscribes = [];
        this.observerCount = 0;
        this.task = Promise.resolve();
        this.finalized = false;
        this.onNoObservers = onNoObservers;
        this.task.then(() => {
          executor(this);
        }).catch((e3) => {
          this.error(e3);
        });
      }
      next(value2) {
        this.forEachObserver((observer) => {
          observer.next(value2);
        });
      }
      error(error2) {
        this.forEachObserver((observer) => {
          observer.error(error2);
        });
        this.close(error2);
      }
      complete() {
        this.forEachObserver((observer) => {
          observer.complete();
        });
        this.close();
      }
      /**
       * Subscribe function that can be used to add an Observer to the fan-out list.
       *
       * - We require that no event is sent to a subscriber synchronously to their
       *   call to subscribe().
       */
      subscribe(nextOrObserver, error2, complete) {
        let observer;
        if (nextOrObserver === void 0 && error2 === void 0 && complete === void 0) {
          throw new Error("Missing Observer.");
        }
        if (implementsAnyMethods(nextOrObserver, [
          "next",
          "error",
          "complete"
        ])) {
          observer = nextOrObserver;
        } else {
          observer = {
            next: nextOrObserver,
            error: error2,
            complete
          };
        }
        if (observer.next === void 0) {
          observer.next = noop2;
        }
        if (observer.error === void 0) {
          observer.error = noop2;
        }
        if (observer.complete === void 0) {
          observer.complete = noop2;
        }
        const unsub = this.unsubscribeOne.bind(this, this.observers.length);
        if (this.finalized) {
          this.task.then(() => {
            try {
              if (this.finalError) {
                observer.error(this.finalError);
              } else {
                observer.complete();
              }
            } catch (e3) {
            }
            return;
          });
        }
        this.observers.push(observer);
        return unsub;
      }
      // Unsubscribe is synchronous - we guarantee that no events are sent to
      // any unsubscribed Observer.
      unsubscribeOne(i3) {
        if (this.observers === void 0 || this.observers[i3] === void 0) {
          return;
        }
        delete this.observers[i3];
        this.observerCount -= 1;
        if (this.observerCount === 0 && this.onNoObservers !== void 0) {
          this.onNoObservers(this);
        }
      }
      forEachObserver(fn) {
        if (this.finalized) {
          return;
        }
        for (let i3 = 0; i3 < this.observers.length; i3++) {
          this.sendOne(i3, fn);
        }
      }
      // Call the Observer via one of it's callback function. We are careful to
      // confirm that the observe has not been unsubscribed since this asynchronous
      // function had been queued.
      sendOne(i3, fn) {
        this.task.then(() => {
          if (this.observers !== void 0 && this.observers[i3] !== void 0) {
            try {
              fn(this.observers[i3]);
            } catch (e3) {
              if (typeof console !== "undefined" && console.error) {
                console.error(e3);
              }
            }
          }
        });
      }
      close(err) {
        if (this.finalized) {
          return;
        }
        this.finalized = true;
        if (err !== void 0) {
          this.finalError = err;
        }
        this.task.then(() => {
          this.observers = void 0;
          this.onNoObservers = void 0;
        });
      }
    };
    MAX_VALUE_MILLIS = 4 * 60 * 60 * 1e3;
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/component@0.6.9/node_modules/@firebase/component/dist/esm/index.esm2017.js
function normalizeIdentifierForFactory(identifier) {
  return identifier === DEFAULT_ENTRY_NAME ? void 0 : identifier;
}
function isComponentEager(component) {
  return component.instantiationMode === "EAGER";
}
var Component2, DEFAULT_ENTRY_NAME, Provider, ComponentContainer;
var init_index_esm20172 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/component@0.6.9/node_modules/@firebase/component/dist/esm/index.esm2017.js"() {
    init_index_esm2017();
    Component2 = class {
      /**
       *
       * @param name The public service name, e.g. app, auth, firestore, database
       * @param instanceFactory Service factory responsible for creating the public interface
       * @param type whether the service provided by the component is public or private
       */
      constructor(name5, instanceFactory, type2) {
        this.name = name5;
        this.instanceFactory = instanceFactory;
        this.type = type2;
        this.multipleInstances = false;
        this.serviceProps = {};
        this.instantiationMode = "LAZY";
        this.onInstanceCreated = null;
      }
      setInstantiationMode(mode) {
        this.instantiationMode = mode;
        return this;
      }
      setMultipleInstances(multipleInstances) {
        this.multipleInstances = multipleInstances;
        return this;
      }
      setServiceProps(props) {
        this.serviceProps = props;
        return this;
      }
      setInstanceCreatedCallback(callback) {
        this.onInstanceCreated = callback;
        return this;
      }
    };
    DEFAULT_ENTRY_NAME = "[DEFAULT]";
    Provider = class {
      constructor(name5, container) {
        this.name = name5;
        this.container = container;
        this.component = null;
        this.instances = /* @__PURE__ */ new Map();
        this.instancesDeferred = /* @__PURE__ */ new Map();
        this.instancesOptions = /* @__PURE__ */ new Map();
        this.onInitCallbacks = /* @__PURE__ */ new Map();
      }
      /**
       * @param identifier A provider can provide multiple instances of a service
       * if this.component.multipleInstances is true.
       */
      get(identifier) {
        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        if (!this.instancesDeferred.has(normalizedIdentifier)) {
          const deferred = new Deferred();
          this.instancesDeferred.set(normalizedIdentifier, deferred);
          if (this.isInitialized(normalizedIdentifier) || this.shouldAutoInitialize()) {
            try {
              const instance = this.getOrInitializeService({
                instanceIdentifier: normalizedIdentifier
              });
              if (instance) {
                deferred.resolve(instance);
              }
            } catch (e3) {
            }
          }
        }
        return this.instancesDeferred.get(normalizedIdentifier).promise;
      }
      getImmediate(options) {
        var _a;
        const normalizedIdentifier = this.normalizeInstanceIdentifier(options === null || options === void 0 ? void 0 : options.identifier);
        const optional = (_a = options === null || options === void 0 ? void 0 : options.optional) !== null && _a !== void 0 ? _a : false;
        if (this.isInitialized(normalizedIdentifier) || this.shouldAutoInitialize()) {
          try {
            return this.getOrInitializeService({
              instanceIdentifier: normalizedIdentifier
            });
          } catch (e3) {
            if (optional) {
              return null;
            } else {
              throw e3;
            }
          }
        } else {
          if (optional) {
            return null;
          } else {
            throw Error(`Service ${this.name} is not available`);
          }
        }
      }
      getComponent() {
        return this.component;
      }
      setComponent(component) {
        if (component.name !== this.name) {
          throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);
        }
        if (this.component) {
          throw Error(`Component for ${this.name} has already been provided`);
        }
        this.component = component;
        if (!this.shouldAutoInitialize()) {
          return;
        }
        if (isComponentEager(component)) {
          try {
            this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });
          } catch (e3) {
          }
        }
        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {
          const normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
          try {
            const instance = this.getOrInitializeService({
              instanceIdentifier: normalizedIdentifier
            });
            instanceDeferred.resolve(instance);
          } catch (e3) {
          }
        }
      }
      clearInstance(identifier = DEFAULT_ENTRY_NAME) {
        this.instancesDeferred.delete(identifier);
        this.instancesOptions.delete(identifier);
        this.instances.delete(identifier);
      }
      // app.delete() will call this method on every provider to delete the services
      // TODO: should we mark the provider as deleted?
      async delete() {
        const services = Array.from(this.instances.values());
        await Promise.all([
          ...services.filter((service) => "INTERNAL" in service).map((service) => service.INTERNAL.delete()),
          ...services.filter((service) => "_delete" in service).map((service) => service._delete())
        ]);
      }
      isComponentSet() {
        return this.component != null;
      }
      isInitialized(identifier = DEFAULT_ENTRY_NAME) {
        return this.instances.has(identifier);
      }
      getOptions(identifier = DEFAULT_ENTRY_NAME) {
        return this.instancesOptions.get(identifier) || {};
      }
      initialize(opts = {}) {
        const { options = {} } = opts;
        const normalizedIdentifier = this.normalizeInstanceIdentifier(opts.instanceIdentifier);
        if (this.isInitialized(normalizedIdentifier)) {
          throw Error(`${this.name}(${normalizedIdentifier}) has already been initialized`);
        }
        if (!this.isComponentSet()) {
          throw Error(`Component ${this.name} has not been registered yet`);
        }
        const instance = this.getOrInitializeService({
          instanceIdentifier: normalizedIdentifier,
          options
        });
        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {
          const normalizedDeferredIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
          if (normalizedIdentifier === normalizedDeferredIdentifier) {
            instanceDeferred.resolve(instance);
          }
        }
        return instance;
      }
      /**
       *
       * @param callback - a function that will be invoked  after the provider has been initialized by calling provider.initialize().
       * The function is invoked SYNCHRONOUSLY, so it should not execute any longrunning tasks in order to not block the program.
       *
       * @param identifier An optional instance identifier
       * @returns a function to unregister the callback
       */
      onInit(callback, identifier) {
        var _a;
        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        const existingCallbacks = (_a = this.onInitCallbacks.get(normalizedIdentifier)) !== null && _a !== void 0 ? _a : /* @__PURE__ */ new Set();
        existingCallbacks.add(callback);
        this.onInitCallbacks.set(normalizedIdentifier, existingCallbacks);
        const existingInstance = this.instances.get(normalizedIdentifier);
        if (existingInstance) {
          callback(existingInstance, normalizedIdentifier);
        }
        return () => {
          existingCallbacks.delete(callback);
        };
      }
      /**
       * Invoke onInit callbacks synchronously
       * @param instance the service instance`
       */
      invokeOnInitCallbacks(instance, identifier) {
        const callbacks = this.onInitCallbacks.get(identifier);
        if (!callbacks) {
          return;
        }
        for (const callback of callbacks) {
          try {
            callback(instance, identifier);
          } catch (_a) {
          }
        }
      }
      getOrInitializeService({ instanceIdentifier, options = {} }) {
        let instance = this.instances.get(instanceIdentifier);
        if (!instance && this.component) {
          instance = this.component.instanceFactory(this.container, {
            instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),
            options
          });
          this.instances.set(instanceIdentifier, instance);
          this.instancesOptions.set(instanceIdentifier, options);
          this.invokeOnInitCallbacks(instance, instanceIdentifier);
          if (this.component.onInstanceCreated) {
            try {
              this.component.onInstanceCreated(this.container, instanceIdentifier, instance);
            } catch (_a) {
            }
          }
        }
        return instance || null;
      }
      normalizeInstanceIdentifier(identifier = DEFAULT_ENTRY_NAME) {
        if (this.component) {
          return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;
        } else {
          return identifier;
        }
      }
      shouldAutoInitialize() {
        return !!this.component && this.component.instantiationMode !== "EXPLICIT";
      }
    };
    ComponentContainer = class {
      constructor(name5) {
        this.name = name5;
        this.providers = /* @__PURE__ */ new Map();
      }
      /**
       *
       * @param component Component being added
       * @param overwrite When a component with the same name has already been registered,
       * if overwrite is true: overwrite the existing component with the new component and create a new
       * provider with the new component. It can be useful in tests where you want to use different mocks
       * for different tests.
       * if overwrite is false: throw an exception
       */
      addComponent(component) {
        const provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
          throw new Error(`Component ${component.name} has already been registered with ${this.name}`);
        }
        provider.setComponent(component);
      }
      addOrOverwriteComponent(component) {
        const provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
          this.providers.delete(component.name);
        }
        this.addComponent(component);
      }
      /**
       * getProvider provides a type safe interface where it can only be called with a field name
       * present in NameServiceMapping interface.
       *
       * Firebase SDKs providing services should extend NameServiceMapping interface to register
       * themselves.
       */
      getProvider(name5) {
        if (this.providers.has(name5)) {
          return this.providers.get(name5);
        }
        const provider = new Provider(name5, this);
        this.providers.set(name5, provider);
        return provider;
      }
      getProviders() {
        return Array.from(this.providers.values());
      }
    };
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/logger@0.4.2/node_modules/@firebase/logger/dist/esm/index.esm2017.js
var instances, LogLevel, levelStringToEnum, defaultLogLevel, ConsoleMethod, defaultLogHandler, Logger;
var init_index_esm20173 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/logger@0.4.2/node_modules/@firebase/logger/dist/esm/index.esm2017.js"() {
    instances = [];
    (function(LogLevel2) {
      LogLevel2[LogLevel2["DEBUG"] = 0] = "DEBUG";
      LogLevel2[LogLevel2["VERBOSE"] = 1] = "VERBOSE";
      LogLevel2[LogLevel2["INFO"] = 2] = "INFO";
      LogLevel2[LogLevel2["WARN"] = 3] = "WARN";
      LogLevel2[LogLevel2["ERROR"] = 4] = "ERROR";
      LogLevel2[LogLevel2["SILENT"] = 5] = "SILENT";
    })(LogLevel || (LogLevel = {}));
    levelStringToEnum = {
      "debug": LogLevel.DEBUG,
      "verbose": LogLevel.VERBOSE,
      "info": LogLevel.INFO,
      "warn": LogLevel.WARN,
      "error": LogLevel.ERROR,
      "silent": LogLevel.SILENT
    };
    defaultLogLevel = LogLevel.INFO;
    ConsoleMethod = {
      [LogLevel.DEBUG]: "log",
      [LogLevel.VERBOSE]: "log",
      [LogLevel.INFO]: "info",
      [LogLevel.WARN]: "warn",
      [LogLevel.ERROR]: "error"
    };
    defaultLogHandler = (instance, logType, ...args) => {
      if (logType < instance.logLevel) {
        return;
      }
      const now = (/* @__PURE__ */ new Date()).toISOString();
      const method = ConsoleMethod[logType];
      if (method) {
        console[method](`[${now}]  ${instance.name}:`, ...args);
      } else {
        throw new Error(`Attempted to log a message with an invalid logType (value: ${logType})`);
      }
    };
    Logger = class {
      /**
       * Gives you an instance of a Logger to capture messages according to
       * Firebase's logging scheme.
       *
       * @param name The name that the logs will be associated with
       */
      constructor(name5) {
        this.name = name5;
        this._logLevel = defaultLogLevel;
        this._logHandler = defaultLogHandler;
        this._userLogHandler = null;
        instances.push(this);
      }
      get logLevel() {
        return this._logLevel;
      }
      set logLevel(val) {
        if (!(val in LogLevel)) {
          throw new TypeError(`Invalid value "${val}" assigned to \`logLevel\``);
        }
        this._logLevel = val;
      }
      // Workaround for setter/getter having to be the same type.
      setLogLevel(val) {
        this._logLevel = typeof val === "string" ? levelStringToEnum[val] : val;
      }
      get logHandler() {
        return this._logHandler;
      }
      set logHandler(val) {
        if (typeof val !== "function") {
          throw new TypeError("Value assigned to `logHandler` must be a function");
        }
        this._logHandler = val;
      }
      get userLogHandler() {
        return this._userLogHandler;
      }
      set userLogHandler(val) {
        this._userLogHandler = val;
      }
      /**
       * The functions below are all based on the `console` interface
       */
      debug(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.DEBUG, ...args);
        this._logHandler(this, LogLevel.DEBUG, ...args);
      }
      log(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.VERBOSE, ...args);
        this._logHandler(this, LogLevel.VERBOSE, ...args);
      }
      info(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.INFO, ...args);
        this._logHandler(this, LogLevel.INFO, ...args);
      }
      warn(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.WARN, ...args);
        this._logHandler(this, LogLevel.WARN, ...args);
      }
      error(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.ERROR, ...args);
        this._logHandler(this, LogLevel.ERROR, ...args);
      }
    };
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/wrap-idb-value.js
function getIdbProxyableTypes() {
  return idbProxyableTypes || (idbProxyableTypes = [
    IDBDatabase,
    IDBObjectStore,
    IDBIndex,
    IDBCursor,
    IDBTransaction
  ]);
}
function getCursorAdvanceMethods() {
  return cursorAdvanceMethods || (cursorAdvanceMethods = [
    IDBCursor.prototype.advance,
    IDBCursor.prototype.continue,
    IDBCursor.prototype.continuePrimaryKey
  ]);
}
function promisifyRequest(request) {
  const promise = new Promise((resolve, reject) => {
    const unlisten = () => {
      request.removeEventListener("success", success);
      request.removeEventListener("error", error2);
    };
    const success = () => {
      resolve(wrap(request.result));
      unlisten();
    };
    const error2 = () => {
      reject(request.error);
      unlisten();
    };
    request.addEventListener("success", success);
    request.addEventListener("error", error2);
  });
  promise.then((value2) => {
    if (value2 instanceof IDBCursor) {
      cursorRequestMap.set(value2, request);
    }
  }).catch(() => {
  });
  reverseTransformCache.set(promise, request);
  return promise;
}
function cacheDonePromiseForTransaction(tx) {
  if (transactionDoneMap.has(tx))
    return;
  const done = new Promise((resolve, reject) => {
    const unlisten = () => {
      tx.removeEventListener("complete", complete);
      tx.removeEventListener("error", error2);
      tx.removeEventListener("abort", error2);
    };
    const complete = () => {
      resolve();
      unlisten();
    };
    const error2 = () => {
      reject(tx.error || new DOMException("AbortError", "AbortError"));
      unlisten();
    };
    tx.addEventListener("complete", complete);
    tx.addEventListener("error", error2);
    tx.addEventListener("abort", error2);
  });
  transactionDoneMap.set(tx, done);
}
function replaceTraps(callback) {
  idbProxyTraps = callback(idbProxyTraps);
}
function wrapFunction(func) {
  if (func === IDBDatabase.prototype.transaction && !("objectStoreNames" in IDBTransaction.prototype)) {
    return function(storeNames, ...args) {
      const tx = func.call(unwrap(this), storeNames, ...args);
      transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);
      return wrap(tx);
    };
  }
  if (getCursorAdvanceMethods().includes(func)) {
    return function(...args) {
      func.apply(unwrap(this), args);
      return wrap(cursorRequestMap.get(this));
    };
  }
  return function(...args) {
    return wrap(func.apply(unwrap(this), args));
  };
}
function transformCachableValue(value2) {
  if (typeof value2 === "function")
    return wrapFunction(value2);
  if (value2 instanceof IDBTransaction)
    cacheDonePromiseForTransaction(value2);
  if (instanceOfAny(value2, getIdbProxyableTypes()))
    return new Proxy(value2, idbProxyTraps);
  return value2;
}
function wrap(value2) {
  if (value2 instanceof IDBRequest)
    return promisifyRequest(value2);
  if (transformCache.has(value2))
    return transformCache.get(value2);
  const newValue = transformCachableValue(value2);
  if (newValue !== value2) {
    transformCache.set(value2, newValue);
    reverseTransformCache.set(newValue, value2);
  }
  return newValue;
}
var instanceOfAny, idbProxyableTypes, cursorAdvanceMethods, cursorRequestMap, transactionDoneMap, transactionStoreNamesMap, transformCache, reverseTransformCache, idbProxyTraps, unwrap;
var init_wrap_idb_value = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/wrap-idb-value.js"() {
    instanceOfAny = (object, constructors) => constructors.some((c3) => object instanceof c3);
    cursorRequestMap = /* @__PURE__ */ new WeakMap();
    transactionDoneMap = /* @__PURE__ */ new WeakMap();
    transactionStoreNamesMap = /* @__PURE__ */ new WeakMap();
    transformCache = /* @__PURE__ */ new WeakMap();
    reverseTransformCache = /* @__PURE__ */ new WeakMap();
    idbProxyTraps = {
      get(target, prop, receiver) {
        if (target instanceof IDBTransaction) {
          if (prop === "done")
            return transactionDoneMap.get(target);
          if (prop === "objectStoreNames") {
            return target.objectStoreNames || transactionStoreNamesMap.get(target);
          }
          if (prop === "store") {
            return receiver.objectStoreNames[1] ? void 0 : receiver.objectStore(receiver.objectStoreNames[0]);
          }
        }
        return wrap(target[prop]);
      },
      set(target, prop, value2) {
        target[prop] = value2;
        return true;
      },
      has(target, prop) {
        if (target instanceof IDBTransaction && (prop === "done" || prop === "store")) {
          return true;
        }
        return prop in target;
      }
    };
    unwrap = (value2) => reverseTransformCache.get(value2);
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/index.js
function openDB(name5, version4, { blocked, upgrade, blocking, terminated } = {}) {
  const request = indexedDB.open(name5, version4);
  const openPromise = wrap(request);
  if (upgrade) {
    request.addEventListener("upgradeneeded", (event) => {
      upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);
    });
  }
  if (blocked) {
    request.addEventListener("blocked", (event) => blocked(
      // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405
      event.oldVersion,
      event.newVersion,
      event
    ));
  }
  openPromise.then((db) => {
    if (terminated)
      db.addEventListener("close", () => terminated());
    if (blocking) {
      db.addEventListener("versionchange", (event) => blocking(event.oldVersion, event.newVersion, event));
    }
  }).catch(() => {
  });
  return openPromise;
}
function getMethod(target, prop) {
  if (!(target instanceof IDBDatabase && !(prop in target) && typeof prop === "string")) {
    return;
  }
  if (cachedMethods.get(prop))
    return cachedMethods.get(prop);
  const targetFuncName = prop.replace(/FromIndex$/, "");
  const useIndex = prop !== targetFuncName;
  const isWrite = writeMethods.includes(targetFuncName);
  if (
    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.
    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) || !(isWrite || readMethods.includes(targetFuncName))
  ) {
    return;
  }
  const method = async function(storeName, ...args) {
    const tx = this.transaction(storeName, isWrite ? "readwrite" : "readonly");
    let target2 = tx.store;
    if (useIndex)
      target2 = target2.index(args.shift());
    return (await Promise.all([
      target2[targetFuncName](...args),
      isWrite && tx.done
    ]))[0];
  };
  cachedMethods.set(prop, method);
  return method;
}
var readMethods, writeMethods, cachedMethods;
var init_build = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/index.js"() {
    init_wrap_idb_value();
    init_wrap_idb_value();
    readMethods = ["get", "getKey", "getAll", "getAllKeys", "count"];
    writeMethods = ["put", "add", "delete", "clear"];
    cachedMethods = /* @__PURE__ */ new Map();
    replaceTraps((oldTraps) => ({
      ...oldTraps,
      get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),
      has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop)
    }));
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/app@0.10.13/node_modules/@firebase/app/dist/esm/index.esm2017.js
function isVersionServiceProvider(provider) {
  const component = provider.getComponent();
  return (component === null || component === void 0 ? void 0 : component.type) === "VERSION";
}
function _addComponent(app2, component) {
  try {
    app2.container.addComponent(component);
  } catch (e3) {
    logger.debug(`Component ${component.name} failed to register with FirebaseApp ${app2.name}`, e3);
  }
}
function _registerComponent(component) {
  const componentName = component.name;
  if (_components.has(componentName)) {
    logger.debug(`There were multiple attempts to register component ${componentName}.`);
    return false;
  }
  _components.set(componentName, component);
  for (const app2 of _apps.values()) {
    _addComponent(app2, component);
  }
  for (const serverApp of _serverApps.values()) {
    _addComponent(serverApp, component);
  }
  return true;
}
function _getProvider(app2, name5) {
  const heartbeatController = app2.container.getProvider("heartbeat").getImmediate({ optional: true });
  if (heartbeatController) {
    void heartbeatController.triggerHeartbeat();
  }
  return app2.container.getProvider(name5);
}
function _isFirebaseServerApp(obj) {
  return obj.settings !== void 0;
}
function initializeApp(_options, rawConfig = {}) {
  let options = _options;
  if (typeof rawConfig !== "object") {
    const name6 = rawConfig;
    rawConfig = { name: name6 };
  }
  const config = Object.assign({ name: DEFAULT_ENTRY_NAME2, automaticDataCollectionEnabled: false }, rawConfig);
  const name5 = config.name;
  if (typeof name5 !== "string" || !name5) {
    throw ERROR_FACTORY.create("bad-app-name", {
      appName: String(name5)
    });
  }
  options || (options = getDefaultAppConfig());
  if (!options) {
    throw ERROR_FACTORY.create(
      "no-options"
      /* AppError.NO_OPTIONS */
    );
  }
  const existingApp = _apps.get(name5);
  if (existingApp) {
    if (deepEqual(options, existingApp.options) && deepEqual(config, existingApp.config)) {
      return existingApp;
    } else {
      throw ERROR_FACTORY.create("duplicate-app", { appName: name5 });
    }
  }
  const container = new ComponentContainer(name5);
  for (const component of _components.values()) {
    container.addComponent(component);
  }
  const newApp = new FirebaseAppImpl(options, config, container);
  _apps.set(name5, newApp);
  return newApp;
}
function getApp(name5 = DEFAULT_ENTRY_NAME2) {
  const app2 = _apps.get(name5);
  if (!app2 && name5 === DEFAULT_ENTRY_NAME2 && getDefaultAppConfig()) {
    return initializeApp();
  }
  if (!app2) {
    throw ERROR_FACTORY.create("no-app", { appName: name5 });
  }
  return app2;
}
function getApps() {
  return Array.from(_apps.values());
}
function registerVersion(libraryKeyOrName, version4, variant) {
  var _a;
  let library = (_a = PLATFORM_LOG_STRING[libraryKeyOrName]) !== null && _a !== void 0 ? _a : libraryKeyOrName;
  if (variant) {
    library += `-${variant}`;
  }
  const libraryMismatch = library.match(/\s|\//);
  const versionMismatch = version4.match(/\s|\//);
  if (libraryMismatch || versionMismatch) {
    const warning2 = [
      `Unable to register library "${library}" with version "${version4}":`
    ];
    if (libraryMismatch) {
      warning2.push(`library name "${library}" contains illegal characters (whitespace or "/")`);
    }
    if (libraryMismatch && versionMismatch) {
      warning2.push("and");
    }
    if (versionMismatch) {
      warning2.push(`version name "${version4}" contains illegal characters (whitespace or "/")`);
    }
    logger.warn(warning2.join(" "));
    return;
  }
  _registerComponent(new Component2(
    `${library}-version`,
    () => ({ library, version: version4 }),
    "VERSION"
    /* ComponentType.VERSION */
  ));
}
function getDbPromise() {
  if (!dbPromise) {
    dbPromise = openDB(DB_NAME, DB_VERSION, {
      upgrade: (db, oldVersion) => {
        switch (oldVersion) {
          case 0:
            try {
              db.createObjectStore(STORE_NAME);
            } catch (e3) {
              console.warn(e3);
            }
        }
      }
    }).catch((e3) => {
      throw ERROR_FACTORY.create("idb-open", {
        originalErrorMessage: e3.message
      });
    });
  }
  return dbPromise;
}
async function readHeartbeatsFromIndexedDB(app2) {
  try {
    const db = await getDbPromise();
    const tx = db.transaction(STORE_NAME);
    const result = await tx.objectStore(STORE_NAME).get(computeKey(app2));
    await tx.done;
    return result;
  } catch (e3) {
    if (e3 instanceof FirebaseError) {
      logger.warn(e3.message);
    } else {
      const idbGetError = ERROR_FACTORY.create("idb-get", {
        originalErrorMessage: e3 === null || e3 === void 0 ? void 0 : e3.message
      });
      logger.warn(idbGetError.message);
    }
  }
}
async function writeHeartbeatsToIndexedDB(app2, heartbeatObject) {
  try {
    const db = await getDbPromise();
    const tx = db.transaction(STORE_NAME, "readwrite");
    const objectStore = tx.objectStore(STORE_NAME);
    await objectStore.put(heartbeatObject, computeKey(app2));
    await tx.done;
  } catch (e3) {
    if (e3 instanceof FirebaseError) {
      logger.warn(e3.message);
    } else {
      const idbGetError = ERROR_FACTORY.create("idb-set", {
        originalErrorMessage: e3 === null || e3 === void 0 ? void 0 : e3.message
      });
      logger.warn(idbGetError.message);
    }
  }
}
function computeKey(app2) {
  return `${app2.name}!${app2.options.appId}`;
}
function getUTCDateString() {
  const today = /* @__PURE__ */ new Date();
  return today.toISOString().substring(0, 10);
}
function extractHeartbeatsForHeader(heartbeatsCache, maxSize = MAX_HEADER_BYTES) {
  const heartbeatsToSend = [];
  let unsentEntries = heartbeatsCache.slice();
  for (const singleDateHeartbeat of heartbeatsCache) {
    const heartbeatEntry = heartbeatsToSend.find((hb) => hb.agent === singleDateHeartbeat.agent);
    if (!heartbeatEntry) {
      heartbeatsToSend.push({
        agent: singleDateHeartbeat.agent,
        dates: [singleDateHeartbeat.date]
      });
      if (countBytes(heartbeatsToSend) > maxSize) {
        heartbeatsToSend.pop();
        break;
      }
    } else {
      heartbeatEntry.dates.push(singleDateHeartbeat.date);
      if (countBytes(heartbeatsToSend) > maxSize) {
        heartbeatEntry.dates.pop();
        break;
      }
    }
    unsentEntries = unsentEntries.slice(1);
  }
  return {
    heartbeatsToSend,
    unsentEntries
  };
}
function countBytes(heartbeatsCache) {
  return base64urlEncodeWithoutPadding(
    // heartbeatsCache wrapper properties
    JSON.stringify({ version: 2, heartbeats: heartbeatsCache })
  ).length;
}
function registerCoreComponents(variant) {
  _registerComponent(new Component2(
    "platform-logger",
    (container) => new PlatformLoggerServiceImpl(container),
    "PRIVATE"
    /* ComponentType.PRIVATE */
  ));
  _registerComponent(new Component2(
    "heartbeat",
    (container) => new HeartbeatServiceImpl(container),
    "PRIVATE"
    /* ComponentType.PRIVATE */
  ));
  registerVersion(name$q, version$1, variant);
  registerVersion(name$q, version$1, "esm2017");
  registerVersion("fire-js", "");
}
var PlatformLoggerServiceImpl, name$q, version$1, logger, name$p, name$o, name$n, name$m, name$l, name$k, name$j, name$i, name$h, name$g, name$f, name$e, name$d, name$c, name$b, name$a, name$9, name$8, name$7, name$6, name$5, name$4, name$3, name$2, name$1, name2, version, DEFAULT_ENTRY_NAME2, PLATFORM_LOG_STRING, _apps, _serverApps, _components, ERRORS, ERROR_FACTORY, FirebaseAppImpl, SDK_VERSION, DB_NAME, DB_VERSION, STORE_NAME, dbPromise, MAX_HEADER_BYTES, STORED_HEARTBEAT_RETENTION_MAX_MILLIS, HeartbeatServiceImpl, HeartbeatStorageImpl;
var init_index_esm20174 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/app@0.10.13/node_modules/@firebase/app/dist/esm/index.esm2017.js"() {
    init_index_esm20172();
    init_index_esm20173();
    init_index_esm2017();
    init_index_esm2017();
    init_build();
    PlatformLoggerServiceImpl = class {
      constructor(container) {
        this.container = container;
      }
      // In initial implementation, this will be called by installations on
      // auth token refresh, and installations will send this string.
      getPlatformInfoString() {
        const providers = this.container.getProviders();
        return providers.map((provider) => {
          if (isVersionServiceProvider(provider)) {
            const service = provider.getImmediate();
            return `${service.library}/${service.version}`;
          } else {
            return null;
          }
        }).filter((logString) => logString).join(" ");
      }
    };
    name$q = "@firebase/app";
    version$1 = "0.10.13";
    logger = new Logger("@firebase/app");
    name$p = "@firebase/app-compat";
    name$o = "@firebase/analytics-compat";
    name$n = "@firebase/analytics";
    name$m = "@firebase/app-check-compat";
    name$l = "@firebase/app-check";
    name$k = "@firebase/auth";
    name$j = "@firebase/auth-compat";
    name$i = "@firebase/database";
    name$h = "@firebase/data-connect";
    name$g = "@firebase/database-compat";
    name$f = "@firebase/functions";
    name$e = "@firebase/functions-compat";
    name$d = "@firebase/installations";
    name$c = "@firebase/installations-compat";
    name$b = "@firebase/messaging";
    name$a = "@firebase/messaging-compat";
    name$9 = "@firebase/performance";
    name$8 = "@firebase/performance-compat";
    name$7 = "@firebase/remote-config";
    name$6 = "@firebase/remote-config-compat";
    name$5 = "@firebase/storage";
    name$4 = "@firebase/storage-compat";
    name$3 = "@firebase/firestore";
    name$2 = "@firebase/vertexai-preview";
    name$1 = "@firebase/firestore-compat";
    name2 = "firebase";
    version = "10.14.1";
    DEFAULT_ENTRY_NAME2 = "[DEFAULT]";
    PLATFORM_LOG_STRING = {
      [name$q]: "fire-core",
      [name$p]: "fire-core-compat",
      [name$n]: "fire-analytics",
      [name$o]: "fire-analytics-compat",
      [name$l]: "fire-app-check",
      [name$m]: "fire-app-check-compat",
      [name$k]: "fire-auth",
      [name$j]: "fire-auth-compat",
      [name$i]: "fire-rtdb",
      [name$h]: "fire-data-connect",
      [name$g]: "fire-rtdb-compat",
      [name$f]: "fire-fn",
      [name$e]: "fire-fn-compat",
      [name$d]: "fire-iid",
      [name$c]: "fire-iid-compat",
      [name$b]: "fire-fcm",
      [name$a]: "fire-fcm-compat",
      [name$9]: "fire-perf",
      [name$8]: "fire-perf-compat",
      [name$7]: "fire-rc",
      [name$6]: "fire-rc-compat",
      [name$5]: "fire-gcs",
      [name$4]: "fire-gcs-compat",
      [name$3]: "fire-fst",
      [name$1]: "fire-fst-compat",
      [name$2]: "fire-vertex",
      "fire-js": "fire-js",
      [name2]: "fire-js-all"
    };
    _apps = /* @__PURE__ */ new Map();
    _serverApps = /* @__PURE__ */ new Map();
    _components = /* @__PURE__ */ new Map();
    ERRORS = {
      [
        "no-app"
        /* AppError.NO_APP */
      ]: "No Firebase App '{$appName}' has been created - call initializeApp() first",
      [
        "bad-app-name"
        /* AppError.BAD_APP_NAME */
      ]: "Illegal App name: '{$appName}'",
      [
        "duplicate-app"
        /* AppError.DUPLICATE_APP */
      ]: "Firebase App named '{$appName}' already exists with different options or config",
      [
        "app-deleted"
        /* AppError.APP_DELETED */
      ]: "Firebase App named '{$appName}' already deleted",
      [
        "server-app-deleted"
        /* AppError.SERVER_APP_DELETED */
      ]: "Firebase Server App has been deleted",
      [
        "no-options"
        /* AppError.NO_OPTIONS */
      ]: "Need to provide options, when not being deployed to hosting via source.",
      [
        "invalid-app-argument"
        /* AppError.INVALID_APP_ARGUMENT */
      ]: "firebase.{$appName}() takes either no argument or a Firebase App instance.",
      [
        "invalid-log-argument"
        /* AppError.INVALID_LOG_ARGUMENT */
      ]: "First argument to `onLog` must be null or a function.",
      [
        "idb-open"
        /* AppError.IDB_OPEN */
      ]: "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "idb-get"
        /* AppError.IDB_GET */
      ]: "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "idb-set"
        /* AppError.IDB_WRITE */
      ]: "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "idb-delete"
        /* AppError.IDB_DELETE */
      ]: "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "finalization-registry-not-supported"
        /* AppError.FINALIZATION_REGISTRY_NOT_SUPPORTED */
      ]: "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",
      [
        "invalid-server-app-environment"
        /* AppError.INVALID_SERVER_APP_ENVIRONMENT */
      ]: "FirebaseServerApp is not for use in browser environments."
    };
    ERROR_FACTORY = new ErrorFactory("app", "Firebase", ERRORS);
    FirebaseAppImpl = class {
      constructor(options, config, container) {
        this._isDeleted = false;
        this._options = Object.assign({}, options);
        this._config = Object.assign({}, config);
        this._name = config.name;
        this._automaticDataCollectionEnabled = config.automaticDataCollectionEnabled;
        this._container = container;
        this.container.addComponent(new Component2(
          "app",
          () => this,
          "PUBLIC"
          /* ComponentType.PUBLIC */
        ));
      }
      get automaticDataCollectionEnabled() {
        this.checkDestroyed();
        return this._automaticDataCollectionEnabled;
      }
      set automaticDataCollectionEnabled(val) {
        this.checkDestroyed();
        this._automaticDataCollectionEnabled = val;
      }
      get name() {
        this.checkDestroyed();
        return this._name;
      }
      get options() {
        this.checkDestroyed();
        return this._options;
      }
      get config() {
        this.checkDestroyed();
        return this._config;
      }
      get container() {
        return this._container;
      }
      get isDeleted() {
        return this._isDeleted;
      }
      set isDeleted(val) {
        this._isDeleted = val;
      }
      /**
       * This function will throw an Error if the App has already been deleted -
       * use before performing API actions on the App.
       */
      checkDestroyed() {
        if (this.isDeleted) {
          throw ERROR_FACTORY.create("app-deleted", { appName: this._name });
        }
      }
    };
    SDK_VERSION = version;
    DB_NAME = "firebase-heartbeat-database";
    DB_VERSION = 1;
    STORE_NAME = "firebase-heartbeat-store";
    dbPromise = null;
    MAX_HEADER_BYTES = 1024;
    STORED_HEARTBEAT_RETENTION_MAX_MILLIS = 30 * 24 * 60 * 60 * 1e3;
    HeartbeatServiceImpl = class {
      constructor(container) {
        this.container = container;
        this._heartbeatsCache = null;
        const app2 = this.container.getProvider("app").getImmediate();
        this._storage = new HeartbeatStorageImpl(app2);
        this._heartbeatsCachePromise = this._storage.read().then((result) => {
          this._heartbeatsCache = result;
          return result;
        });
      }
      /**
       * Called to report a heartbeat. The function will generate
       * a HeartbeatsByUserAgent object, update heartbeatsCache, and persist it
       * to IndexedDB.
       * Note that we only store one heartbeat per day. So if a heartbeat for today is
       * already logged, subsequent calls to this function in the same day will be ignored.
       */
      async triggerHeartbeat() {
        var _a, _b;
        try {
          const platformLogger = this.container.getProvider("platform-logger").getImmediate();
          const agent = platformLogger.getPlatformInfoString();
          const date = getUTCDateString();
          if (((_a = this._heartbeatsCache) === null || _a === void 0 ? void 0 : _a.heartbeats) == null) {
            this._heartbeatsCache = await this._heartbeatsCachePromise;
            if (((_b = this._heartbeatsCache) === null || _b === void 0 ? void 0 : _b.heartbeats) == null) {
              return;
            }
          }
          if (this._heartbeatsCache.lastSentHeartbeatDate === date || this._heartbeatsCache.heartbeats.some((singleDateHeartbeat) => singleDateHeartbeat.date === date)) {
            return;
          } else {
            this._heartbeatsCache.heartbeats.push({ date, agent });
          }
          this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter((singleDateHeartbeat) => {
            const hbTimestamp = new Date(singleDateHeartbeat.date).valueOf();
            const now = Date.now();
            return now - hbTimestamp <= STORED_HEARTBEAT_RETENTION_MAX_MILLIS;
          });
          return this._storage.overwrite(this._heartbeatsCache);
        } catch (e3) {
          logger.warn(e3);
        }
      }
      /**
       * Returns a base64 encoded string which can be attached to the heartbeat-specific header directly.
       * It also clears all heartbeats from memory as well as in IndexedDB.
       *
       * NOTE: Consuming product SDKs should not send the header if this method
       * returns an empty string.
       */
      async getHeartbeatsHeader() {
        var _a;
        try {
          if (this._heartbeatsCache === null) {
            await this._heartbeatsCachePromise;
          }
          if (((_a = this._heartbeatsCache) === null || _a === void 0 ? void 0 : _a.heartbeats) == null || this._heartbeatsCache.heartbeats.length === 0) {
            return "";
          }
          const date = getUTCDateString();
          const { heartbeatsToSend, unsentEntries } = extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats);
          const headerString = base64urlEncodeWithoutPadding(JSON.stringify({ version: 2, heartbeats: heartbeatsToSend }));
          this._heartbeatsCache.lastSentHeartbeatDate = date;
          if (unsentEntries.length > 0) {
            this._heartbeatsCache.heartbeats = unsentEntries;
            await this._storage.overwrite(this._heartbeatsCache);
          } else {
            this._heartbeatsCache.heartbeats = [];
            void this._storage.overwrite(this._heartbeatsCache);
          }
          return headerString;
        } catch (e3) {
          logger.warn(e3);
          return "";
        }
      }
    };
    HeartbeatStorageImpl = class {
      constructor(app2) {
        this.app = app2;
        this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();
      }
      async runIndexedDBEnvironmentCheck() {
        if (!isIndexedDBAvailable()) {
          return false;
        } else {
          return validateIndexedDBOpenable().then(() => true).catch(() => false);
        }
      }
      /**
       * Read all heartbeats.
       */
      async read() {
        const canUseIndexedDB = await this._canUseIndexedDBPromise;
        if (!canUseIndexedDB) {
          return { heartbeats: [] };
        } else {
          const idbHeartbeatObject = await readHeartbeatsFromIndexedDB(this.app);
          if (idbHeartbeatObject === null || idbHeartbeatObject === void 0 ? void 0 : idbHeartbeatObject.heartbeats) {
            return idbHeartbeatObject;
          } else {
            return { heartbeats: [] };
          }
        }
      }
      // overwrite the storage with the provided heartbeats
      async overwrite(heartbeatsObject) {
        var _a;
        const canUseIndexedDB = await this._canUseIndexedDBPromise;
        if (!canUseIndexedDB) {
          return;
        } else {
          const existingHeartbeatsObject = await this.read();
          return writeHeartbeatsToIndexedDB(this.app, {
            lastSentHeartbeatDate: (_a = heartbeatsObject.lastSentHeartbeatDate) !== null && _a !== void 0 ? _a : existingHeartbeatsObject.lastSentHeartbeatDate,
            heartbeats: heartbeatsObject.heartbeats
          });
        }
      }
      // add heartbeats
      async add(heartbeatsObject) {
        var _a;
        const canUseIndexedDB = await this._canUseIndexedDBPromise;
        if (!canUseIndexedDB) {
          return;
        } else {
          const existingHeartbeatsObject = await this.read();
          return writeHeartbeatsToIndexedDB(this.app, {
            lastSentHeartbeatDate: (_a = heartbeatsObject.lastSentHeartbeatDate) !== null && _a !== void 0 ? _a : existingHeartbeatsObject.lastSentHeartbeatDate,
            heartbeats: [
              ...existingHeartbeatsObject.heartbeats,
              ...heartbeatsObject.heartbeats
            ]
          });
        }
      }
    };
    registerCoreComponents("");
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs
function __rest(s, e3) {
  var t2 = {};
  for (var p3 in s) if (Object.prototype.hasOwnProperty.call(s, p3) && e3.indexOf(p3) < 0)
    t2[p3] = s[p3];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i3 = 0, p3 = Object.getOwnPropertySymbols(s); i3 < p3.length; i3++) {
      if (e3.indexOf(p3[i3]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p3[i3]))
        t2[p3[i3]] = s[p3[i3]];
    }
  return t2;
}
var init_tslib_es6 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs"() {
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index-68602d24.js
function _debugErrorMap() {
  return {
    [
      "admin-restricted-operation"
      /* AuthErrorCode.ADMIN_ONLY_OPERATION */
    ]: "This operation is restricted to administrators only.",
    [
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    ]: "",
    [
      "app-not-authorized"
      /* AuthErrorCode.APP_NOT_AUTHORIZED */
    ]: "This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",
    [
      "app-not-installed"
      /* AuthErrorCode.APP_NOT_INSTALLED */
    ]: "The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",
    [
      "captcha-check-failed"
      /* AuthErrorCode.CAPTCHA_CHECK_FAILED */
    ]: "The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",
    [
      "code-expired"
      /* AuthErrorCode.CODE_EXPIRED */
    ]: "The SMS code has expired. Please re-send the verification code to try again.",
    [
      "cordova-not-ready"
      /* AuthErrorCode.CORDOVA_NOT_READY */
    ]: "Cordova framework is not ready.",
    [
      "cors-unsupported"
      /* AuthErrorCode.CORS_UNSUPPORTED */
    ]: "This browser is not supported.",
    [
      "credential-already-in-use"
      /* AuthErrorCode.CREDENTIAL_ALREADY_IN_USE */
    ]: "This credential is already associated with a different user account.",
    [
      "custom-token-mismatch"
      /* AuthErrorCode.CREDENTIAL_MISMATCH */
    ]: "The custom token corresponds to a different audience.",
    [
      "requires-recent-login"
      /* AuthErrorCode.CREDENTIAL_TOO_OLD_LOGIN_AGAIN */
    ]: "This operation is sensitive and requires recent authentication. Log in again before retrying this request.",
    [
      "dependent-sdk-initialized-before-auth"
      /* AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH */
    ]: "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",
    [
      "dynamic-link-not-activated"
      /* AuthErrorCode.DYNAMIC_LINK_NOT_ACTIVATED */
    ]: "Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",
    [
      "email-change-needs-verification"
      /* AuthErrorCode.EMAIL_CHANGE_NEEDS_VERIFICATION */
    ]: "Multi-factor users must always have a verified email.",
    [
      "email-already-in-use"
      /* AuthErrorCode.EMAIL_EXISTS */
    ]: "The email address is already in use by another account.",
    [
      "emulator-config-failed"
      /* AuthErrorCode.EMULATOR_CONFIG_FAILED */
    ]: 'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',
    [
      "expired-action-code"
      /* AuthErrorCode.EXPIRED_OOB_CODE */
    ]: "The action code has expired.",
    [
      "cancelled-popup-request"
      /* AuthErrorCode.EXPIRED_POPUP_REQUEST */
    ]: "This operation has been cancelled due to another conflicting popup being opened.",
    [
      "internal-error"
      /* AuthErrorCode.INTERNAL_ERROR */
    ]: "An internal AuthError has occurred.",
    [
      "invalid-app-credential"
      /* AuthErrorCode.INVALID_APP_CREDENTIAL */
    ]: "The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",
    [
      "invalid-app-id"
      /* AuthErrorCode.INVALID_APP_ID */
    ]: "The mobile app identifier is not registered for the current project.",
    [
      "invalid-user-token"
      /* AuthErrorCode.INVALID_AUTH */
    ]: "This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",
    [
      "invalid-auth-event"
      /* AuthErrorCode.INVALID_AUTH_EVENT */
    ]: "An internal AuthError has occurred.",
    [
      "invalid-verification-code"
      /* AuthErrorCode.INVALID_CODE */
    ]: "The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",
    [
      "invalid-continue-uri"
      /* AuthErrorCode.INVALID_CONTINUE_URI */
    ]: "The continue URL provided in the request is invalid.",
    [
      "invalid-cordova-configuration"
      /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */
    ]: "The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",
    [
      "invalid-custom-token"
      /* AuthErrorCode.INVALID_CUSTOM_TOKEN */
    ]: "The custom token format is incorrect. Please check the documentation.",
    [
      "invalid-dynamic-link-domain"
      /* AuthErrorCode.INVALID_DYNAMIC_LINK_DOMAIN */
    ]: "The provided dynamic link domain is not configured or authorized for the current project.",
    [
      "invalid-email"
      /* AuthErrorCode.INVALID_EMAIL */
    ]: "The email address is badly formatted.",
    [
      "invalid-emulator-scheme"
      /* AuthErrorCode.INVALID_EMULATOR_SCHEME */
    ]: "Emulator URL must start with a valid scheme (http:// or https://).",
    [
      "invalid-api-key"
      /* AuthErrorCode.INVALID_API_KEY */
    ]: "Your API key is invalid, please check you have copied it correctly.",
    [
      "invalid-cert-hash"
      /* AuthErrorCode.INVALID_CERT_HASH */
    ]: "The SHA-1 certificate hash provided is invalid.",
    [
      "invalid-credential"
      /* AuthErrorCode.INVALID_CREDENTIAL */
    ]: "The supplied auth credential is incorrect, malformed or has expired.",
    [
      "invalid-message-payload"
      /* AuthErrorCode.INVALID_MESSAGE_PAYLOAD */
    ]: "The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",
    [
      "invalid-multi-factor-session"
      /* AuthErrorCode.INVALID_MFA_SESSION */
    ]: "The request does not contain a valid proof of first factor successful sign-in.",
    [
      "invalid-oauth-provider"
      /* AuthErrorCode.INVALID_OAUTH_PROVIDER */
    ]: "EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",
    [
      "invalid-oauth-client-id"
      /* AuthErrorCode.INVALID_OAUTH_CLIENT_ID */
    ]: "The OAuth client ID provided is either invalid or does not match the specified API key.",
    [
      "unauthorized-domain"
      /* AuthErrorCode.INVALID_ORIGIN */
    ]: "This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",
    [
      "invalid-action-code"
      /* AuthErrorCode.INVALID_OOB_CODE */
    ]: "The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",
    [
      "wrong-password"
      /* AuthErrorCode.INVALID_PASSWORD */
    ]: "The password is invalid or the user does not have a password.",
    [
      "invalid-persistence-type"
      /* AuthErrorCode.INVALID_PERSISTENCE */
    ]: "The specified persistence type is invalid. It can only be local, session or none.",
    [
      "invalid-phone-number"
      /* AuthErrorCode.INVALID_PHONE_NUMBER */
    ]: "The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",
    [
      "invalid-provider-id"
      /* AuthErrorCode.INVALID_PROVIDER_ID */
    ]: "The specified provider ID is invalid.",
    [
      "invalid-recipient-email"
      /* AuthErrorCode.INVALID_RECIPIENT_EMAIL */
    ]: "The email corresponding to this action failed to send as the provided recipient email address is invalid.",
    [
      "invalid-sender"
      /* AuthErrorCode.INVALID_SENDER */
    ]: "The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",
    [
      "invalid-verification-id"
      /* AuthErrorCode.INVALID_SESSION_INFO */
    ]: "The verification ID used to create the phone auth credential is invalid.",
    [
      "invalid-tenant-id"
      /* AuthErrorCode.INVALID_TENANT_ID */
    ]: "The Auth instance's tenant ID is invalid.",
    [
      "login-blocked"
      /* AuthErrorCode.LOGIN_BLOCKED */
    ]: "Login blocked by user-provided method: {$originalMessage}",
    [
      "missing-android-pkg-name"
      /* AuthErrorCode.MISSING_ANDROID_PACKAGE_NAME */
    ]: "An Android Package Name must be provided if the Android App is required to be installed.",
    [
      "auth-domain-config-required"
      /* AuthErrorCode.MISSING_AUTH_DOMAIN */
    ]: "Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",
    [
      "missing-app-credential"
      /* AuthErrorCode.MISSING_APP_CREDENTIAL */
    ]: "The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",
    [
      "missing-verification-code"
      /* AuthErrorCode.MISSING_CODE */
    ]: "The phone auth credential was created with an empty SMS verification code.",
    [
      "missing-continue-uri"
      /* AuthErrorCode.MISSING_CONTINUE_URI */
    ]: "A continue URL must be provided in the request.",
    [
      "missing-iframe-start"
      /* AuthErrorCode.MISSING_IFRAME_START */
    ]: "An internal AuthError has occurred.",
    [
      "missing-ios-bundle-id"
      /* AuthErrorCode.MISSING_IOS_BUNDLE_ID */
    ]: "An iOS Bundle ID must be provided if an App Store ID is provided.",
    [
      "missing-or-invalid-nonce"
      /* AuthErrorCode.MISSING_OR_INVALID_NONCE */
    ]: "The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",
    [
      "missing-password"
      /* AuthErrorCode.MISSING_PASSWORD */
    ]: "A non-empty password must be provided",
    [
      "missing-multi-factor-info"
      /* AuthErrorCode.MISSING_MFA_INFO */
    ]: "No second factor identifier is provided.",
    [
      "missing-multi-factor-session"
      /* AuthErrorCode.MISSING_MFA_SESSION */
    ]: "The request is missing proof of first factor successful sign-in.",
    [
      "missing-phone-number"
      /* AuthErrorCode.MISSING_PHONE_NUMBER */
    ]: "To send verification codes, provide a phone number for the recipient.",
    [
      "missing-verification-id"
      /* AuthErrorCode.MISSING_SESSION_INFO */
    ]: "The phone auth credential was created with an empty verification ID.",
    [
      "app-deleted"
      /* AuthErrorCode.MODULE_DESTROYED */
    ]: "This instance of FirebaseApp has been deleted.",
    [
      "multi-factor-info-not-found"
      /* AuthErrorCode.MFA_INFO_NOT_FOUND */
    ]: "The user does not have a second factor matching the identifier provided.",
    [
      "multi-factor-auth-required"
      /* AuthErrorCode.MFA_REQUIRED */
    ]: "Proof of ownership of a second factor is required to complete sign-in.",
    [
      "account-exists-with-different-credential"
      /* AuthErrorCode.NEED_CONFIRMATION */
    ]: "An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",
    [
      "network-request-failed"
      /* AuthErrorCode.NETWORK_REQUEST_FAILED */
    ]: "A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",
    [
      "no-auth-event"
      /* AuthErrorCode.NO_AUTH_EVENT */
    ]: "An internal AuthError has occurred.",
    [
      "no-such-provider"
      /* AuthErrorCode.NO_SUCH_PROVIDER */
    ]: "User was not linked to an account with the given provider.",
    [
      "null-user"
      /* AuthErrorCode.NULL_USER */
    ]: "A null user object was provided as the argument for an operation which requires a non-null user object.",
    [
      "operation-not-allowed"
      /* AuthErrorCode.OPERATION_NOT_ALLOWED */
    ]: "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",
    [
      "operation-not-supported-in-this-environment"
      /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
    ]: 'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',
    [
      "popup-blocked"
      /* AuthErrorCode.POPUP_BLOCKED */
    ]: "Unable to establish a connection with the popup. It may have been blocked by the browser.",
    [
      "popup-closed-by-user"
      /* AuthErrorCode.POPUP_CLOSED_BY_USER */
    ]: "The popup has been closed by the user before finalizing the operation.",
    [
      "provider-already-linked"
      /* AuthErrorCode.PROVIDER_ALREADY_LINKED */
    ]: "User can only be linked to one identity for the given provider.",
    [
      "quota-exceeded"
      /* AuthErrorCode.QUOTA_EXCEEDED */
    ]: "The project's quota for this operation has been exceeded.",
    [
      "redirect-cancelled-by-user"
      /* AuthErrorCode.REDIRECT_CANCELLED_BY_USER */
    ]: "The redirect operation has been cancelled by the user before finalizing.",
    [
      "redirect-operation-pending"
      /* AuthErrorCode.REDIRECT_OPERATION_PENDING */
    ]: "A redirect sign-in operation is already pending.",
    [
      "rejected-credential"
      /* AuthErrorCode.REJECTED_CREDENTIAL */
    ]: "The request contains malformed or mismatching credentials.",
    [
      "second-factor-already-in-use"
      /* AuthErrorCode.SECOND_FACTOR_ALREADY_ENROLLED */
    ]: "The second factor is already enrolled on this account.",
    [
      "maximum-second-factor-count-exceeded"
      /* AuthErrorCode.SECOND_FACTOR_LIMIT_EXCEEDED */
    ]: "The maximum allowed number of second factors on a user has been exceeded.",
    [
      "tenant-id-mismatch"
      /* AuthErrorCode.TENANT_ID_MISMATCH */
    ]: "The provided tenant ID does not match the Auth instance's tenant ID",
    [
      "timeout"
      /* AuthErrorCode.TIMEOUT */
    ]: "The operation has timed out.",
    [
      "user-token-expired"
      /* AuthErrorCode.TOKEN_EXPIRED */
    ]: "The user's credential is no longer valid. The user must sign in again.",
    [
      "too-many-requests"
      /* AuthErrorCode.TOO_MANY_ATTEMPTS_TRY_LATER */
    ]: "We have blocked all requests from this device due to unusual activity. Try again later.",
    [
      "unauthorized-continue-uri"
      /* AuthErrorCode.UNAUTHORIZED_DOMAIN */
    ]: "The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",
    [
      "unsupported-first-factor"
      /* AuthErrorCode.UNSUPPORTED_FIRST_FACTOR */
    ]: "Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",
    [
      "unsupported-persistence-type"
      /* AuthErrorCode.UNSUPPORTED_PERSISTENCE */
    ]: "The current environment does not support the specified persistence type.",
    [
      "unsupported-tenant-operation"
      /* AuthErrorCode.UNSUPPORTED_TENANT_OPERATION */
    ]: "This operation is not supported in a multi-tenant context.",
    [
      "unverified-email"
      /* AuthErrorCode.UNVERIFIED_EMAIL */
    ]: "The operation requires a verified email.",
    [
      "user-cancelled"
      /* AuthErrorCode.USER_CANCELLED */
    ]: "The user did not grant your application the permissions it requested.",
    [
      "user-not-found"
      /* AuthErrorCode.USER_DELETED */
    ]: "There is no user record corresponding to this identifier. The user may have been deleted.",
    [
      "user-disabled"
      /* AuthErrorCode.USER_DISABLED */
    ]: "The user account has been disabled by an administrator.",
    [
      "user-mismatch"
      /* AuthErrorCode.USER_MISMATCH */
    ]: "The supplied credentials do not correspond to the previously signed in user.",
    [
      "user-signed-out"
      /* AuthErrorCode.USER_SIGNED_OUT */
    ]: "",
    [
      "weak-password"
      /* AuthErrorCode.WEAK_PASSWORD */
    ]: "The password must be 6 characters long or more.",
    [
      "web-storage-unsupported"
      /* AuthErrorCode.WEB_STORAGE_UNSUPPORTED */
    ]: "This browser is not supported or 3rd party cookies and data may be disabled.",
    [
      "already-initialized"
      /* AuthErrorCode.ALREADY_INITIALIZED */
    ]: "initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",
    [
      "missing-recaptcha-token"
      /* AuthErrorCode.MISSING_RECAPTCHA_TOKEN */
    ]: "The reCAPTCHA token is missing when sending request to the backend.",
    [
      "invalid-recaptcha-token"
      /* AuthErrorCode.INVALID_RECAPTCHA_TOKEN */
    ]: "The reCAPTCHA token is invalid when sending request to the backend.",
    [
      "invalid-recaptcha-action"
      /* AuthErrorCode.INVALID_RECAPTCHA_ACTION */
    ]: "The reCAPTCHA action is invalid when sending request to the backend.",
    [
      "recaptcha-not-enabled"
      /* AuthErrorCode.RECAPTCHA_NOT_ENABLED */
    ]: "reCAPTCHA Enterprise integration is not enabled for this project.",
    [
      "missing-client-type"
      /* AuthErrorCode.MISSING_CLIENT_TYPE */
    ]: "The reCAPTCHA client type is missing when sending request to the backend.",
    [
      "missing-recaptcha-version"
      /* AuthErrorCode.MISSING_RECAPTCHA_VERSION */
    ]: "The reCAPTCHA version is missing when sending request to the backend.",
    [
      "invalid-req-type"
      /* AuthErrorCode.INVALID_REQ_TYPE */
    ]: "Invalid request parameters.",
    [
      "invalid-recaptcha-version"
      /* AuthErrorCode.INVALID_RECAPTCHA_VERSION */
    ]: "The reCAPTCHA version is invalid when sending request to the backend.",
    [
      "unsupported-password-policy-schema-version"
      /* AuthErrorCode.UNSUPPORTED_PASSWORD_POLICY_SCHEMA_VERSION */
    ]: "The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.",
    [
      "password-does-not-meet-requirements"
      /* AuthErrorCode.PASSWORD_DOES_NOT_MEET_REQUIREMENTS */
    ]: "The password does not meet the requirements."
  };
}
function _prodErrorMap() {
  return {
    [
      "dependent-sdk-initialized-before-auth"
      /* AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH */
    ]: "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."
  };
}
function _logWarn(msg, ...args) {
  if (logClient.logLevel <= LogLevel.WARN) {
    logClient.warn(`Auth (${SDK_VERSION}): ${msg}`, ...args);
  }
}
function _logError(msg, ...args) {
  if (logClient.logLevel <= LogLevel.ERROR) {
    logClient.error(`Auth (${SDK_VERSION}): ${msg}`, ...args);
  }
}
function _fail(authOrCode, ...rest) {
  throw createErrorInternal(authOrCode, ...rest);
}
function _createError(authOrCode, ...rest) {
  return createErrorInternal(authOrCode, ...rest);
}
function _errorWithCustomMessage(auth2, code, message) {
  const errorMap = Object.assign(Object.assign({}, prodErrorMap()), { [code]: message });
  const factory = new ErrorFactory("auth", "Firebase", errorMap);
  return factory.create(code, {
    appName: auth2.name
  });
}
function _serverAppCurrentUserOperationNotSupportedError(auth2) {
  return _errorWithCustomMessage(auth2, "operation-not-supported-in-this-environment", "Operations that alter the current user are not supported in conjunction with FirebaseServerApp");
}
function _assertInstanceOf(auth2, object, instance) {
  const constructorInstance = instance;
  if (!(object instanceof constructorInstance)) {
    if (constructorInstance.name !== object.constructor.name) {
      _fail(
        auth2,
        "argument-error"
        /* AuthErrorCode.ARGUMENT_ERROR */
      );
    }
    throw _errorWithCustomMessage(auth2, "argument-error", `Type of ${object.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`);
  }
}
function createErrorInternal(authOrCode, ...rest) {
  if (typeof authOrCode !== "string") {
    const code = rest[0];
    const fullParams = [...rest.slice(1)];
    if (fullParams[0]) {
      fullParams[0].appName = authOrCode.name;
    }
    return authOrCode._errorFactory.create(code, ...fullParams);
  }
  return _DEFAULT_AUTH_ERROR_FACTORY.create(authOrCode, ...rest);
}
function _assert(assertion, authOrCode, ...rest) {
  if (!assertion) {
    throw createErrorInternal(authOrCode, ...rest);
  }
}
function debugFail(failure) {
  const message = `INTERNAL ASSERTION FAILED: ` + failure;
  _logError(message);
  throw new Error(message);
}
function debugAssert(assertion, message) {
  if (!assertion) {
    debugFail(message);
  }
}
function _getCurrentUrl() {
  var _a;
  return typeof self !== "undefined" && ((_a = self.location) === null || _a === void 0 ? void 0 : _a.href) || "";
}
function _isHttpOrHttps() {
  return _getCurrentScheme() === "http:" || _getCurrentScheme() === "https:";
}
function _getCurrentScheme() {
  var _a;
  return typeof self !== "undefined" && ((_a = self.location) === null || _a === void 0 ? void 0 : _a.protocol) || null;
}
function _isOnline() {
  if (typeof navigator !== "undefined" && navigator && "onLine" in navigator && typeof navigator.onLine === "boolean" && // Apply only for traditional web apps and Chrome extensions.
  // This is especially true for Cordova apps which have unreliable
  // navigator.onLine behavior unless cordova-plugin-network-information is
  // installed which overwrites the native navigator.onLine value and
  // defines navigator.connection.
  (_isHttpOrHttps() || isBrowserExtension() || "connection" in navigator)) {
    return navigator.onLine;
  }
  return true;
}
function _getUserLanguage() {
  if (typeof navigator === "undefined") {
    return null;
  }
  const navigatorLanguage = navigator;
  return (
    // Most reliable, but only supported in Chrome/Firefox.
    navigatorLanguage.languages && navigatorLanguage.languages[0] || // Supported in most browsers, but returns the language of the browser
    // UI, not the language set in browser settings.
    navigatorLanguage.language || // Couldn't determine language.
    null
  );
}
function _emulatorUrl(config, path) {
  debugAssert(config.emulator, "Emulator should always be set here");
  const { url } = config.emulator;
  if (!path) {
    return url;
  }
  return `${url}${path.startsWith("/") ? path.slice(1) : path}`;
}
function _addTidIfNecessary(auth2, request) {
  if (auth2.tenantId && !request.tenantId) {
    return Object.assign(Object.assign({}, request), { tenantId: auth2.tenantId });
  }
  return request;
}
async function _performApiRequest(auth2, method, path, request, customErrorMap = {}) {
  return _performFetchWithErrorHandling(auth2, customErrorMap, async () => {
    let body = {};
    let params = {};
    if (request) {
      if (method === "GET") {
        params = request;
      } else {
        body = {
          body: JSON.stringify(request)
        };
      }
    }
    const query = querystring(Object.assign({ key: auth2.config.apiKey }, params)).slice(1);
    const headers = await auth2._getAdditionalHeaders();
    headers[
      "Content-Type"
      /* HttpHeader.CONTENT_TYPE */
    ] = "application/json";
    if (auth2.languageCode) {
      headers[
        "X-Firebase-Locale"
        /* HttpHeader.X_FIREBASE_LOCALE */
      ] = auth2.languageCode;
    }
    const fetchArgs = Object.assign({
      method,
      headers
    }, body);
    if (!isCloudflareWorker()) {
      fetchArgs.referrerPolicy = "no-referrer";
    }
    return FetchProvider.fetch()(_getFinalTarget(auth2, auth2.config.apiHost, path, query), fetchArgs);
  });
}
async function _performFetchWithErrorHandling(auth2, customErrorMap, fetchFn) {
  auth2._canInitEmulator = false;
  const errorMap = Object.assign(Object.assign({}, SERVER_ERROR_MAP), customErrorMap);
  try {
    const networkTimeout = new NetworkTimeout(auth2);
    const response = await Promise.race([
      fetchFn(),
      networkTimeout.promise
    ]);
    networkTimeout.clearNetworkTimeout();
    const json2 = await response.json();
    if ("needConfirmation" in json2) {
      throw _makeTaggedError(auth2, "account-exists-with-different-credential", json2);
    }
    if (response.ok && !("errorMessage" in json2)) {
      return json2;
    } else {
      const errorMessage = response.ok ? json2.errorMessage : json2.error.message;
      const [serverErrorCode, serverErrorMessage] = errorMessage.split(" : ");
      if (serverErrorCode === "FEDERATED_USER_ID_ALREADY_LINKED") {
        throw _makeTaggedError(auth2, "credential-already-in-use", json2);
      } else if (serverErrorCode === "EMAIL_EXISTS") {
        throw _makeTaggedError(auth2, "email-already-in-use", json2);
      } else if (serverErrorCode === "USER_DISABLED") {
        throw _makeTaggedError(auth2, "user-disabled", json2);
      }
      const authError = errorMap[serverErrorCode] || serverErrorCode.toLowerCase().replace(/[_\s]+/g, "-");
      if (serverErrorMessage) {
        throw _errorWithCustomMessage(auth2, authError, serverErrorMessage);
      } else {
        _fail(auth2, authError);
      }
    }
  } catch (e3) {
    if (e3 instanceof FirebaseError) {
      throw e3;
    }
    _fail(auth2, "network-request-failed", { "message": String(e3) });
  }
}
async function _performSignInRequest(auth2, method, path, request, customErrorMap = {}) {
  const serverResponse = await _performApiRequest(auth2, method, path, request, customErrorMap);
  if ("mfaPendingCredential" in serverResponse) {
    _fail(auth2, "multi-factor-auth-required", {
      _serverResponse: serverResponse
    });
  }
  return serverResponse;
}
function _getFinalTarget(auth2, host, path, query) {
  const base = `${host}${path}?${query}`;
  if (!auth2.config.emulator) {
    return `${auth2.config.apiScheme}://${base}`;
  }
  return _emulatorUrl(auth2.config, base);
}
function _parseEnforcementState(enforcementStateStr) {
  switch (enforcementStateStr) {
    case "ENFORCE":
      return "ENFORCE";
    case "AUDIT":
      return "AUDIT";
    case "OFF":
      return "OFF";
    default:
      return "ENFORCEMENT_STATE_UNSPECIFIED";
  }
}
function _makeTaggedError(auth2, code, response) {
  const errorParams = {
    appName: auth2.name
  };
  if (response.email) {
    errorParams.email = response.email;
  }
  if (response.phoneNumber) {
    errorParams.phoneNumber = response.phoneNumber;
  }
  const error2 = _createError(auth2, code, errorParams);
  error2.customData._tokenResponse = response;
  return error2;
}
function isV2(grecaptcha) {
  return grecaptcha !== void 0 && grecaptcha.getResponse !== void 0;
}
function isEnterprise(grecaptcha) {
  return grecaptcha !== void 0 && grecaptcha.enterprise !== void 0;
}
async function getRecaptchaParams(auth2) {
  return (await _performApiRequest(
    auth2,
    "GET",
    "/v1/recaptchaParams"
    /* Endpoint.GET_RECAPTCHA_PARAM */
  )).recaptchaSiteKey || "";
}
async function getRecaptchaConfig(auth2, request) {
  return _performApiRequest(auth2, "GET", "/v2/recaptchaConfig", _addTidIfNecessary(auth2, request));
}
async function deleteAccount(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:delete", request);
}
async function deleteLinkedAccounts(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", request);
}
async function getAccountInfo(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:lookup", request);
}
function utcTimestampToDateString(utcTimestamp) {
  if (!utcTimestamp) {
    return void 0;
  }
  try {
    const date = new Date(Number(utcTimestamp));
    if (!isNaN(date.getTime())) {
      return date.toUTCString();
    }
  } catch (e3) {
  }
  return void 0;
}
function getIdToken(user, forceRefresh = false) {
  return getModularInstance(user).getIdToken(forceRefresh);
}
async function getIdTokenResult(user, forceRefresh = false) {
  const userInternal = getModularInstance(user);
  const token = await userInternal.getIdToken(forceRefresh);
  const claims = _parseToken(token);
  _assert(
    claims && claims.exp && claims.auth_time && claims.iat,
    userInternal.auth,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  const firebase = typeof claims.firebase === "object" ? claims.firebase : void 0;
  const signInProvider = firebase === null || firebase === void 0 ? void 0 : firebase["sign_in_provider"];
  return {
    claims,
    token,
    authTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.auth_time)),
    issuedAtTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.iat)),
    expirationTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.exp)),
    signInProvider: signInProvider || null,
    signInSecondFactor: (firebase === null || firebase === void 0 ? void 0 : firebase["sign_in_second_factor"]) || null
  };
}
function secondsStringToMilliseconds(seconds) {
  return Number(seconds) * 1e3;
}
function _parseToken(token) {
  const [algorithm, payload, signature] = token.split(".");
  if (algorithm === void 0 || payload === void 0 || signature === void 0) {
    _logError("JWT malformed, contained fewer than 3 sections");
    return null;
  }
  try {
    const decoded = base64Decode(payload);
    if (!decoded) {
      _logError("Failed to decode base64 JWT payload");
      return null;
    }
    return JSON.parse(decoded);
  } catch (e3) {
    _logError("Caught error parsing JWT payload as JSON", e3 === null || e3 === void 0 ? void 0 : e3.toString());
    return null;
  }
}
function _tokenExpiresIn(token) {
  const parsedToken = _parseToken(token);
  _assert(
    parsedToken,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  _assert(
    typeof parsedToken.exp !== "undefined",
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  _assert(
    typeof parsedToken.iat !== "undefined",
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return Number(parsedToken.exp) - Number(parsedToken.iat);
}
async function _logoutIfInvalidated(user, promise, bypassAuthState = false) {
  if (bypassAuthState) {
    return promise;
  }
  try {
    return await promise;
  } catch (e3) {
    if (e3 instanceof FirebaseError && isUserInvalidated(e3)) {
      if (user.auth.currentUser === user) {
        await user.auth.signOut();
      }
    }
    throw e3;
  }
}
function isUserInvalidated({ code }) {
  return code === `auth/${"user-disabled"}` || code === `auth/${"user-token-expired"}`;
}
async function _reloadWithoutSaving(user) {
  var _a;
  const auth2 = user.auth;
  const idToken = await user.getIdToken();
  const response = await _logoutIfInvalidated(user, getAccountInfo(auth2, { idToken }));
  _assert(
    response === null || response === void 0 ? void 0 : response.users.length,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  const coreAccount = response.users[0];
  user._notifyReloadListener(coreAccount);
  const newProviderData = ((_a = coreAccount.providerUserInfo) === null || _a === void 0 ? void 0 : _a.length) ? extractProviderData(coreAccount.providerUserInfo) : [];
  const providerData = mergeProviderData(user.providerData, newProviderData);
  const oldIsAnonymous = user.isAnonymous;
  const newIsAnonymous = !(user.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length);
  const isAnonymous = !oldIsAnonymous ? false : newIsAnonymous;
  const updates = {
    uid: coreAccount.localId,
    displayName: coreAccount.displayName || null,
    photoURL: coreAccount.photoUrl || null,
    email: coreAccount.email || null,
    emailVerified: coreAccount.emailVerified || false,
    phoneNumber: coreAccount.phoneNumber || null,
    tenantId: coreAccount.tenantId || null,
    providerData,
    metadata: new UserMetadata(coreAccount.createdAt, coreAccount.lastLoginAt),
    isAnonymous
  };
  Object.assign(user, updates);
}
async function reload(user) {
  const userInternal = getModularInstance(user);
  await _reloadWithoutSaving(userInternal);
  await userInternal.auth._persistUserIfCurrent(userInternal);
  userInternal.auth._notifyListenersIfCurrent(userInternal);
}
function mergeProviderData(original, newData) {
  const deduped = original.filter((o2) => !newData.some((n2) => n2.providerId === o2.providerId));
  return [...deduped, ...newData];
}
function extractProviderData(providers) {
  return providers.map((_a) => {
    var { providerId } = _a, provider = __rest(_a, ["providerId"]);
    return {
      providerId,
      uid: provider.rawId || "",
      displayName: provider.displayName || null,
      email: provider.email || null,
      phoneNumber: provider.phoneNumber || null,
      photoURL: provider.photoUrl || null
    };
  });
}
async function requestStsToken(auth2, refreshToken) {
  const response = await _performFetchWithErrorHandling(auth2, {}, async () => {
    const body = querystring({
      "grant_type": "refresh_token",
      "refresh_token": refreshToken
    }).slice(1);
    const { tokenApiHost, apiKey } = auth2.config;
    const url = _getFinalTarget(auth2, tokenApiHost, "/v1/token", `key=${apiKey}`);
    const headers = await auth2._getAdditionalHeaders();
    headers[
      "Content-Type"
      /* HttpHeader.CONTENT_TYPE */
    ] = "application/x-www-form-urlencoded";
    return FetchProvider.fetch()(url, {
      method: "POST",
      headers,
      body
    });
  });
  return {
    accessToken: response.access_token,
    expiresIn: response.expires_in,
    refreshToken: response.refresh_token
  };
}
async function revokeToken(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts:revokeToken", _addTidIfNecessary(auth2, request));
}
function assertStringOrUndefined(assertion, appName) {
  _assert(typeof assertion === "string" || typeof assertion === "undefined", "internal-error", { appName });
}
function _getInstance(cls) {
  debugAssert(cls instanceof Function, "Expected a class definition");
  let instance = instanceCache.get(cls);
  if (instance) {
    debugAssert(instance instanceof cls, "Instance stored in cache mismatched with class");
    return instance;
  }
  instance = new cls();
  instanceCache.set(cls, instance);
  return instance;
}
function _persistenceKeyName(key, apiKey, appName) {
  return `${"firebase"}:${key}:${apiKey}:${appName}`;
}
function _getBrowserName(userAgent) {
  const ua = userAgent.toLowerCase();
  if (ua.includes("opera/") || ua.includes("opr/") || ua.includes("opios/")) {
    return "Opera";
  } else if (_isIEMobile(ua)) {
    return "IEMobile";
  } else if (ua.includes("msie") || ua.includes("trident/")) {
    return "IE";
  } else if (ua.includes("edge/")) {
    return "Edge";
  } else if (_isFirefox(ua)) {
    return "Firefox";
  } else if (ua.includes("silk/")) {
    return "Silk";
  } else if (_isBlackBerry(ua)) {
    return "Blackberry";
  } else if (_isWebOS(ua)) {
    return "Webos";
  } else if (_isSafari(ua)) {
    return "Safari";
  } else if ((ua.includes("chrome/") || _isChromeIOS(ua)) && !ua.includes("edge/")) {
    return "Chrome";
  } else if (_isAndroid(ua)) {
    return "Android";
  } else {
    const re = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/;
    const matches = userAgent.match(re);
    if ((matches === null || matches === void 0 ? void 0 : matches.length) === 2) {
      return matches[1];
    }
  }
  return "Other";
}
function _isFirefox(ua = getUA()) {
  return /firefox\//i.test(ua);
}
function _isSafari(userAgent = getUA()) {
  const ua = userAgent.toLowerCase();
  return ua.includes("safari/") && !ua.includes("chrome/") && !ua.includes("crios/") && !ua.includes("android");
}
function _isChromeIOS(ua = getUA()) {
  return /crios\//i.test(ua);
}
function _isIEMobile(ua = getUA()) {
  return /iemobile/i.test(ua);
}
function _isAndroid(ua = getUA()) {
  return /android/i.test(ua);
}
function _isBlackBerry(ua = getUA()) {
  return /blackberry/i.test(ua);
}
function _isWebOS(ua = getUA()) {
  return /webos/i.test(ua);
}
function _isIOS(ua = getUA()) {
  return /iphone|ipad|ipod/i.test(ua) || /macintosh/i.test(ua) && /mobile/i.test(ua);
}
function _isIOSStandalone(ua = getUA()) {
  var _a;
  return _isIOS(ua) && !!((_a = window.navigator) === null || _a === void 0 ? void 0 : _a.standalone);
}
function _isIE10() {
  return isIE() && document.documentMode === 10;
}
function _isMobileBrowser(ua = getUA()) {
  return _isIOS(ua) || _isAndroid(ua) || _isWebOS(ua) || _isBlackBerry(ua) || /windows phone/i.test(ua) || _isIEMobile(ua);
}
function _getClientVersion(clientPlatform, frameworks = []) {
  let reportedPlatform;
  switch (clientPlatform) {
    case "Browser":
      reportedPlatform = _getBrowserName(getUA());
      break;
    case "Worker":
      reportedPlatform = `${_getBrowserName(getUA())}-${clientPlatform}`;
      break;
    default:
      reportedPlatform = clientPlatform;
  }
  const reportedFrameworks = frameworks.length ? frameworks.join(",") : "FirebaseCore-web";
  return `${reportedPlatform}/${"JsCore"}/${SDK_VERSION}/${reportedFrameworks}`;
}
async function _getPasswordPolicy(auth2, request = {}) {
  return _performApiRequest(auth2, "GET", "/v2/passwordPolicy", _addTidIfNecessary(auth2, request));
}
function _castAuth(auth2) {
  return getModularInstance(auth2);
}
function _setExternalJSProvider(p3) {
  externalJSProvider = p3;
}
function _loadJS(url) {
  return externalJSProvider.loadJS(url);
}
function _recaptchaV2ScriptUrl() {
  return externalJSProvider.recaptchaV2Script;
}
function _recaptchaEnterpriseScriptUrl() {
  return externalJSProvider.recaptchaEnterpriseScript;
}
function _gapiScriptUrl() {
  return externalJSProvider.gapiScript;
}
function _generateCallbackName(prefix) {
  return `__${prefix}${Math.floor(Math.random() * 1e6)}`;
}
async function injectRecaptchaFields(auth2, request, action, captchaResp = false) {
  const verifier = new RecaptchaEnterpriseVerifier(auth2);
  let captchaResponse;
  try {
    captchaResponse = await verifier.verify(action);
  } catch (error2) {
    captchaResponse = await verifier.verify(action, true);
  }
  const newRequest = Object.assign({}, request);
  if (!captchaResp) {
    Object.assign(newRequest, { captchaResponse });
  } else {
    Object.assign(newRequest, { "captchaResp": captchaResponse });
  }
  Object.assign(newRequest, {
    "clientType": "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  });
  Object.assign(newRequest, {
    "recaptchaVersion": "RECAPTCHA_ENTERPRISE"
    /* RecaptchaVersion.ENTERPRISE */
  });
  return newRequest;
}
async function handleRecaptchaFlow(authInstance, request, actionName, actionMethod) {
  var _a;
  if ((_a = authInstance._getRecaptchaConfig()) === null || _a === void 0 ? void 0 : _a.isProviderEnabled(
    "EMAIL_PASSWORD_PROVIDER"
    /* RecaptchaProvider.EMAIL_PASSWORD_PROVIDER */
  )) {
    const requestWithRecaptcha = await injectRecaptchaFields(
      authInstance,
      request,
      actionName,
      actionName === "getOobCode"
      /* RecaptchaActionName.GET_OOB_CODE */
    );
    return actionMethod(authInstance, requestWithRecaptcha);
  } else {
    return actionMethod(authInstance, request).catch(async (error2) => {
      if (error2.code === `auth/${"missing-recaptcha-token"}`) {
        console.log(`${actionName} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);
        const requestWithRecaptcha = await injectRecaptchaFields(
          authInstance,
          request,
          actionName,
          actionName === "getOobCode"
          /* RecaptchaActionName.GET_OOB_CODE */
        );
        return actionMethod(authInstance, requestWithRecaptcha);
      } else {
        return Promise.reject(error2);
      }
    });
  }
}
async function _initializeRecaptchaConfig(auth2) {
  const authInternal = _castAuth(auth2);
  const response = await getRecaptchaConfig(authInternal, {
    clientType: "CLIENT_TYPE_WEB",
    version: "RECAPTCHA_ENTERPRISE"
    /* RecaptchaVersion.ENTERPRISE */
  });
  const config = new RecaptchaConfig(response);
  if (authInternal.tenantId == null) {
    authInternal._agentRecaptchaConfig = config;
  } else {
    authInternal._tenantRecaptchaConfigs[authInternal.tenantId] = config;
  }
  if (config.isProviderEnabled(
    "EMAIL_PASSWORD_PROVIDER"
    /* RecaptchaProvider.EMAIL_PASSWORD_PROVIDER */
  )) {
    const verifier = new RecaptchaEnterpriseVerifier(authInternal);
    void verifier.verify();
  }
}
function initializeAuth(app2, deps) {
  const provider = _getProvider(app2, "auth");
  if (provider.isInitialized()) {
    const auth3 = provider.getImmediate();
    const initialOptions = provider.getOptions();
    if (deepEqual(initialOptions, deps !== null && deps !== void 0 ? deps : {})) {
      return auth3;
    } else {
      _fail(
        auth3,
        "already-initialized"
        /* AuthErrorCode.ALREADY_INITIALIZED */
      );
    }
  }
  const auth2 = provider.initialize({ options: deps });
  return auth2;
}
function _initializeAuthInstance(auth2, deps) {
  const persistence = (deps === null || deps === void 0 ? void 0 : deps.persistence) || [];
  const hierarchy = (Array.isArray(persistence) ? persistence : [persistence]).map(_getInstance);
  if (deps === null || deps === void 0 ? void 0 : deps.errorMap) {
    auth2._updateErrorMap(deps.errorMap);
  }
  auth2._initializeWithPersistence(hierarchy, deps === null || deps === void 0 ? void 0 : deps.popupRedirectResolver);
}
function connectAuthEmulator(auth2, url, options) {
  const authInternal = _castAuth(auth2);
  _assert(
    authInternal._canInitEmulator,
    authInternal,
    "emulator-config-failed"
    /* AuthErrorCode.EMULATOR_CONFIG_FAILED */
  );
  _assert(
    /^https?:\/\//.test(url),
    authInternal,
    "invalid-emulator-scheme"
    /* AuthErrorCode.INVALID_EMULATOR_SCHEME */
  );
  const disableWarnings = !!(options === null || options === void 0 ? void 0 : options.disableWarnings);
  const protocol = extractProtocol(url);
  const { host, port } = extractHostAndPort(url);
  const portStr = port === null ? "" : `:${port}`;
  authInternal.config.emulator = { url: `${protocol}//${host}${portStr}/` };
  authInternal.settings.appVerificationDisabledForTesting = true;
  authInternal.emulatorConfig = Object.freeze({
    host,
    port,
    protocol: protocol.replace(":", ""),
    options: Object.freeze({ disableWarnings })
  });
  if (!disableWarnings) {
    emitEmulatorWarning();
  }
}
function extractProtocol(url) {
  const protocolEnd = url.indexOf(":");
  return protocolEnd < 0 ? "" : url.substr(0, protocolEnd + 1);
}
function extractHostAndPort(url) {
  const protocol = extractProtocol(url);
  const authority = /(\/\/)?([^?#/]+)/.exec(url.substr(protocol.length));
  if (!authority) {
    return { host: "", port: null };
  }
  const hostAndPort = authority[2].split("@").pop() || "";
  const bracketedIPv6 = /^(\[[^\]]+\])(:|$)/.exec(hostAndPort);
  if (bracketedIPv6) {
    const host = bracketedIPv6[1];
    return { host, port: parsePort(hostAndPort.substr(host.length + 1)) };
  } else {
    const [host, port] = hostAndPort.split(":");
    return { host, port: parsePort(port) };
  }
}
function parsePort(portStr) {
  if (!portStr) {
    return null;
  }
  const port = Number(portStr);
  if (isNaN(port)) {
    return null;
  }
  return port;
}
function emitEmulatorWarning() {
  function attachBanner() {
    const el = document.createElement("p");
    const sty = el.style;
    el.innerText = "Running in emulator mode. Do not use with production credentials.";
    sty.position = "fixed";
    sty.width = "100%";
    sty.backgroundColor = "#ffffff";
    sty.border = ".1em solid #000000";
    sty.color = "#b50000";
    sty.bottom = "0px";
    sty.left = "0px";
    sty.margin = "0px";
    sty.zIndex = "10000";
    sty.textAlign = "center";
    el.classList.add("firebase-emulator-warning");
    document.body.appendChild(el);
  }
  if (typeof console !== "undefined" && typeof console.info === "function") {
    console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");
  }
  if (typeof window !== "undefined" && typeof document !== "undefined") {
    if (document.readyState === "loading") {
      window.addEventListener("DOMContentLoaded", attachBanner);
    } else {
      attachBanner();
    }
  }
}
async function resetPassword(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:resetPassword", _addTidIfNecessary(auth2, request));
}
async function updateEmailPassword(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", request);
}
async function linkEmailPassword(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:signUp", request);
}
async function applyActionCode$1(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", _addTidIfNecessary(auth2, request));
}
async function signInWithPassword(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPassword", _addTidIfNecessary(auth2, request));
}
async function sendOobCode(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:sendOobCode", _addTidIfNecessary(auth2, request));
}
async function sendEmailVerification$1(auth2, request) {
  return sendOobCode(auth2, request);
}
async function sendPasswordResetEmail$1(auth2, request) {
  return sendOobCode(auth2, request);
}
async function sendSignInLinkToEmail$1(auth2, request) {
  return sendOobCode(auth2, request);
}
async function verifyAndChangeEmail(auth2, request) {
  return sendOobCode(auth2, request);
}
async function signInWithEmailLink$1(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithEmailLink", _addTidIfNecessary(auth2, request));
}
async function signInWithEmailLinkForLinking(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithEmailLink", _addTidIfNecessary(auth2, request));
}
async function signInWithIdp(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithIdp", _addTidIfNecessary(auth2, request));
}
async function sendPhoneVerificationCode(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:sendVerificationCode", _addTidIfNecessary(auth2, request));
}
async function signInWithPhoneNumber$1(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPhoneNumber", _addTidIfNecessary(auth2, request));
}
async function linkWithPhoneNumber$1(auth2, request) {
  const response = await _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPhoneNumber", _addTidIfNecessary(auth2, request));
  if (response.temporaryProof) {
    throw _makeTaggedError(auth2, "account-exists-with-different-credential", response);
  }
  return response;
}
async function verifyPhoneNumberForExisting(auth2, request) {
  const apiRequest = Object.assign(Object.assign({}, request), { operation: "REAUTH" });
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPhoneNumber", _addTidIfNecessary(auth2, apiRequest), VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_);
}
function parseMode(mode) {
  switch (mode) {
    case "recoverEmail":
      return "RECOVER_EMAIL";
    case "resetPassword":
      return "PASSWORD_RESET";
    case "signIn":
      return "EMAIL_SIGNIN";
    case "verifyEmail":
      return "VERIFY_EMAIL";
    case "verifyAndChangeEmail":
      return "VERIFY_AND_CHANGE_EMAIL";
    case "revertSecondFactorAddition":
      return "REVERT_SECOND_FACTOR_ADDITION";
    default:
      return null;
  }
}
function parseDeepLink(url) {
  const link = querystringDecode(extractQuerystring(url))["link"];
  const doubleDeepLink = link ? querystringDecode(extractQuerystring(link))["deep_link_id"] : null;
  const iOSDeepLink = querystringDecode(extractQuerystring(url))["deep_link_id"];
  const iOSDoubleDeepLink = iOSDeepLink ? querystringDecode(extractQuerystring(iOSDeepLink))["link"] : null;
  return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;
}
function parseActionCodeURL(link) {
  return ActionCodeURL.parseLink(link);
}
async function signUp(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signUp", _addTidIfNecessary(auth2, request));
}
function providerIdForResponse(response) {
  if (response.providerId) {
    return response.providerId;
  }
  if ("phoneNumber" in response) {
    return "phone";
  }
  return null;
}
async function signInAnonymously(auth2) {
  var _a;
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  await authInternal._initializationPromise;
  if ((_a = authInternal.currentUser) === null || _a === void 0 ? void 0 : _a.isAnonymous) {
    return new UserCredentialImpl({
      user: authInternal.currentUser,
      providerId: null,
      operationType: "signIn"
      /* OperationType.SIGN_IN */
    });
  }
  const response = await signUp(authInternal, {
    returnSecureToken: true
  });
  const userCredential = await UserCredentialImpl._fromIdTokenResponse(authInternal, "signIn", response, true);
  await authInternal._updateCurrentUser(userCredential.user);
  return userCredential;
}
function _processCredentialSavingMfaContextIfNecessary(auth2, operationType, credential, user) {
  const idTokenProvider = operationType === "reauthenticate" ? credential._getReauthenticationResolver(auth2) : credential._getIdTokenResponse(auth2);
  return idTokenProvider.catch((error2) => {
    if (error2.code === `auth/${"multi-factor-auth-required"}`) {
      throw MultiFactorError._fromErrorAndOperation(auth2, error2, operationType, user);
    }
    throw error2;
  });
}
function providerDataAsNames(providerData) {
  return new Set(providerData.map(({ providerId }) => providerId).filter((pid) => !!pid));
}
async function unlink(user, providerId) {
  const userInternal = getModularInstance(user);
  await _assertLinkedStatus(true, userInternal, providerId);
  const { providerUserInfo } = await deleteLinkedAccounts(userInternal.auth, {
    idToken: await userInternal.getIdToken(),
    deleteProvider: [providerId]
  });
  const providersLeft = providerDataAsNames(providerUserInfo || []);
  userInternal.providerData = userInternal.providerData.filter((pd) => providersLeft.has(pd.providerId));
  if (!providersLeft.has(
    "phone"
    /* ProviderId.PHONE */
  )) {
    userInternal.phoneNumber = null;
  }
  await userInternal.auth._persistUserIfCurrent(userInternal);
  return userInternal;
}
async function _link$1(user, credential, bypassAuthState = false) {
  const response = await _logoutIfInvalidated(user, credential._linkToIdToken(user.auth, await user.getIdToken()), bypassAuthState);
  return UserCredentialImpl._forOperation(user, "link", response);
}
async function _assertLinkedStatus(expected, user, provider) {
  await _reloadWithoutSaving(user);
  const providerIds = providerDataAsNames(user.providerData);
  const code = expected === false ? "provider-already-linked" : "no-such-provider";
  _assert(providerIds.has(provider) === expected, user.auth, code);
}
async function _reauthenticate(user, credential, bypassAuthState = false) {
  const { auth: auth2 } = user;
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const operationType = "reauthenticate";
  try {
    const response = await _logoutIfInvalidated(user, _processCredentialSavingMfaContextIfNecessary(auth2, operationType, credential, user), bypassAuthState);
    _assert(
      response.idToken,
      auth2,
      "internal-error"
      /* AuthErrorCode.INTERNAL_ERROR */
    );
    const parsed = _parseToken(response.idToken);
    _assert(
      parsed,
      auth2,
      "internal-error"
      /* AuthErrorCode.INTERNAL_ERROR */
    );
    const { sub: localId } = parsed;
    _assert(
      user.uid === localId,
      auth2,
      "user-mismatch"
      /* AuthErrorCode.USER_MISMATCH */
    );
    return UserCredentialImpl._forOperation(user, operationType, response);
  } catch (e3) {
    if ((e3 === null || e3 === void 0 ? void 0 : e3.code) === `auth/${"user-not-found"}`) {
      _fail(
        auth2,
        "user-mismatch"
        /* AuthErrorCode.USER_MISMATCH */
      );
    }
    throw e3;
  }
}
async function _signInWithCredential(auth2, credential, bypassAuthState = false) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const operationType = "signIn";
  const response = await _processCredentialSavingMfaContextIfNecessary(auth2, operationType, credential);
  const userCredential = await UserCredentialImpl._fromIdTokenResponse(auth2, operationType, response);
  if (!bypassAuthState) {
    await auth2._updateCurrentUser(userCredential.user);
  }
  return userCredential;
}
async function signInWithCredential(auth2, credential) {
  return _signInWithCredential(_castAuth(auth2), credential);
}
async function linkWithCredential(user, credential) {
  const userInternal = getModularInstance(user);
  await _assertLinkedStatus(false, userInternal, credential.providerId);
  return _link$1(userInternal, credential);
}
async function reauthenticateWithCredential(user, credential) {
  return _reauthenticate(getModularInstance(user), credential);
}
async function signInWithCustomToken$1(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithCustomToken", _addTidIfNecessary(auth2, request));
}
async function signInWithCustomToken(auth2, customToken) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const response = await signInWithCustomToken$1(authInternal, {
    token: customToken,
    returnSecureToken: true
  });
  const cred = await UserCredentialImpl._fromIdTokenResponse(authInternal, "signIn", response);
  await authInternal._updateCurrentUser(cred.user);
  return cred;
}
function _setActionCodeSettingsOnRequest(auth2, request, actionCodeSettings) {
  var _a;
  _assert(
    ((_a = actionCodeSettings.url) === null || _a === void 0 ? void 0 : _a.length) > 0,
    auth2,
    "invalid-continue-uri"
    /* AuthErrorCode.INVALID_CONTINUE_URI */
  );
  _assert(
    typeof actionCodeSettings.dynamicLinkDomain === "undefined" || actionCodeSettings.dynamicLinkDomain.length > 0,
    auth2,
    "invalid-dynamic-link-domain"
    /* AuthErrorCode.INVALID_DYNAMIC_LINK_DOMAIN */
  );
  request.continueUrl = actionCodeSettings.url;
  request.dynamicLinkDomain = actionCodeSettings.dynamicLinkDomain;
  request.canHandleCodeInApp = actionCodeSettings.handleCodeInApp;
  if (actionCodeSettings.iOS) {
    _assert(
      actionCodeSettings.iOS.bundleId.length > 0,
      auth2,
      "missing-ios-bundle-id"
      /* AuthErrorCode.MISSING_IOS_BUNDLE_ID */
    );
    request.iOSBundleId = actionCodeSettings.iOS.bundleId;
  }
  if (actionCodeSettings.android) {
    _assert(
      actionCodeSettings.android.packageName.length > 0,
      auth2,
      "missing-android-pkg-name"
      /* AuthErrorCode.MISSING_ANDROID_PACKAGE_NAME */
    );
    request.androidInstallApp = actionCodeSettings.android.installApp;
    request.androidMinimumVersionCode = actionCodeSettings.android.minimumVersion;
    request.androidPackageName = actionCodeSettings.android.packageName;
  }
}
async function recachePasswordPolicy(auth2) {
  const authInternal = _castAuth(auth2);
  if (authInternal._getPasswordPolicyInternal()) {
    await authInternal._updatePasswordPolicy();
  }
}
async function sendPasswordResetEmail(auth2, email, actionCodeSettings) {
  const authInternal = _castAuth(auth2);
  const request = {
    requestType: "PASSWORD_RESET",
    email,
    clientType: "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  };
  if (actionCodeSettings) {
    _setActionCodeSettingsOnRequest(authInternal, request, actionCodeSettings);
  }
  await handleRecaptchaFlow(authInternal, request, "getOobCode", sendPasswordResetEmail$1);
}
async function confirmPasswordReset(auth2, oobCode, newPassword) {
  await resetPassword(getModularInstance(auth2), {
    oobCode,
    newPassword
  }).catch(async (error2) => {
    if (error2.code === `auth/${"password-does-not-meet-requirements"}`) {
      void recachePasswordPolicy(auth2);
    }
    throw error2;
  });
}
async function applyActionCode(auth2, oobCode) {
  await applyActionCode$1(getModularInstance(auth2), { oobCode });
}
async function checkActionCode(auth2, oobCode) {
  const authModular = getModularInstance(auth2);
  const response = await resetPassword(authModular, { oobCode });
  const operation = response.requestType;
  _assert(
    operation,
    authModular,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  switch (operation) {
    case "EMAIL_SIGNIN":
      break;
    case "VERIFY_AND_CHANGE_EMAIL":
      _assert(
        response.newEmail,
        authModular,
        "internal-error"
        /* AuthErrorCode.INTERNAL_ERROR */
      );
      break;
    case "REVERT_SECOND_FACTOR_ADDITION":
      _assert(
        response.mfaInfo,
        authModular,
        "internal-error"
        /* AuthErrorCode.INTERNAL_ERROR */
      );
    // fall through
    default:
      _assert(
        response.email,
        authModular,
        "internal-error"
        /* AuthErrorCode.INTERNAL_ERROR */
      );
  }
  let multiFactorInfo = null;
  if (response.mfaInfo) {
    multiFactorInfo = MultiFactorInfoImpl._fromServerResponse(_castAuth(authModular), response.mfaInfo);
  }
  return {
    data: {
      email: (response.requestType === "VERIFY_AND_CHANGE_EMAIL" ? response.newEmail : response.email) || null,
      previousEmail: (response.requestType === "VERIFY_AND_CHANGE_EMAIL" ? response.email : response.newEmail) || null,
      multiFactorInfo
    },
    operation
  };
}
async function verifyPasswordResetCode(auth2, code) {
  const { data } = await checkActionCode(getModularInstance(auth2), code);
  return data.email;
}
async function createUserWithEmailAndPassword(auth2, email, password) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const request = {
    returnSecureToken: true,
    email,
    password,
    clientType: "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  };
  const signUpResponse = handleRecaptchaFlow(authInternal, request, "signUpPassword", signUp);
  const response = await signUpResponse.catch((error2) => {
    if (error2.code === `auth/${"password-does-not-meet-requirements"}`) {
      void recachePasswordPolicy(auth2);
    }
    throw error2;
  });
  const userCredential = await UserCredentialImpl._fromIdTokenResponse(authInternal, "signIn", response);
  await authInternal._updateCurrentUser(userCredential.user);
  return userCredential;
}
function signInWithEmailAndPassword(auth2, email, password) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  return signInWithCredential(getModularInstance(auth2), EmailAuthProvider.credential(email, password)).catch(async (error2) => {
    if (error2.code === `auth/${"password-does-not-meet-requirements"}`) {
      void recachePasswordPolicy(auth2);
    }
    throw error2;
  });
}
async function sendSignInLinkToEmail(auth2, email, actionCodeSettings) {
  const authInternal = _castAuth(auth2);
  const request = {
    requestType: "EMAIL_SIGNIN",
    email,
    clientType: "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  };
  function setActionCodeSettings(request2, actionCodeSettings2) {
    _assert(
      actionCodeSettings2.handleCodeInApp,
      authInternal,
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    );
    if (actionCodeSettings2) {
      _setActionCodeSettingsOnRequest(authInternal, request2, actionCodeSettings2);
    }
  }
  setActionCodeSettings(request, actionCodeSettings);
  await handleRecaptchaFlow(authInternal, request, "getOobCode", sendSignInLinkToEmail$1);
}
function isSignInWithEmailLink(auth2, emailLink) {
  const actionCodeUrl = ActionCodeURL.parseLink(emailLink);
  return (actionCodeUrl === null || actionCodeUrl === void 0 ? void 0 : actionCodeUrl.operation) === "EMAIL_SIGNIN";
}
async function signInWithEmailLink(auth2, email, emailLink) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authModular = getModularInstance(auth2);
  const credential = EmailAuthProvider.credentialWithLink(email, emailLink || _getCurrentUrl());
  _assert(
    credential._tenantId === (authModular.tenantId || null),
    authModular,
    "tenant-id-mismatch"
    /* AuthErrorCode.TENANT_ID_MISMATCH */
  );
  return signInWithCredential(authModular, credential);
}
async function createAuthUri(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:createAuthUri", _addTidIfNecessary(auth2, request));
}
async function fetchSignInMethodsForEmail(auth2, email) {
  const continueUri = _isHttpOrHttps() ? _getCurrentUrl() : "http://localhost";
  const request = {
    identifier: email,
    continueUri
  };
  const { signinMethods } = await createAuthUri(getModularInstance(auth2), request);
  return signinMethods || [];
}
async function sendEmailVerification(user, actionCodeSettings) {
  const userInternal = getModularInstance(user);
  const idToken = await user.getIdToken();
  const request = {
    requestType: "VERIFY_EMAIL",
    idToken
  };
  if (actionCodeSettings) {
    _setActionCodeSettingsOnRequest(userInternal.auth, request, actionCodeSettings);
  }
  const { email } = await sendEmailVerification$1(userInternal.auth, request);
  if (email !== user.email) {
    await user.reload();
  }
}
async function verifyBeforeUpdateEmail(user, newEmail, actionCodeSettings) {
  const userInternal = getModularInstance(user);
  const idToken = await user.getIdToken();
  const request = {
    requestType: "VERIFY_AND_CHANGE_EMAIL",
    idToken,
    newEmail
  };
  if (actionCodeSettings) {
    _setActionCodeSettingsOnRequest(userInternal.auth, request, actionCodeSettings);
  }
  const { email } = await verifyAndChangeEmail(userInternal.auth, request);
  if (email !== user.email) {
    await user.reload();
  }
}
async function updateProfile$1(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", request);
}
async function updateProfile(user, { displayName, photoURL: photoUrl }) {
  if (displayName === void 0 && photoUrl === void 0) {
    return;
  }
  const userInternal = getModularInstance(user);
  const idToken = await userInternal.getIdToken();
  const profileRequest = {
    idToken,
    displayName,
    photoUrl,
    returnSecureToken: true
  };
  const response = await _logoutIfInvalidated(userInternal, updateProfile$1(userInternal.auth, profileRequest));
  userInternal.displayName = response.displayName || null;
  userInternal.photoURL = response.photoUrl || null;
  const passwordProvider = userInternal.providerData.find(
    ({ providerId }) => providerId === "password"
    /* ProviderId.PASSWORD */
  );
  if (passwordProvider) {
    passwordProvider.displayName = userInternal.displayName;
    passwordProvider.photoURL = userInternal.photoURL;
  }
  await userInternal._updateTokensIfNecessary(response);
}
function updateEmail(user, newEmail) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  return updateEmailOrPassword(userInternal, newEmail, null);
}
function updatePassword(user, newPassword) {
  return updateEmailOrPassword(getModularInstance(user), null, newPassword);
}
async function updateEmailOrPassword(user, email, password) {
  const { auth: auth2 } = user;
  const idToken = await user.getIdToken();
  const request = {
    idToken,
    returnSecureToken: true
  };
  if (email) {
    request.email = email;
  }
  if (password) {
    request.password = password;
  }
  const response = await _logoutIfInvalidated(user, updateEmailPassword(auth2, request));
  await user._updateTokensIfNecessary(
    response,
    /* reload */
    true
  );
}
function _fromIdTokenResponse(idTokenResponse) {
  var _a, _b;
  if (!idTokenResponse) {
    return null;
  }
  const { providerId } = idTokenResponse;
  const profile = idTokenResponse.rawUserInfo ? JSON.parse(idTokenResponse.rawUserInfo) : {};
  const isNewUser = idTokenResponse.isNewUser || idTokenResponse.kind === "identitytoolkit#SignupNewUserResponse";
  if (!providerId && (idTokenResponse === null || idTokenResponse === void 0 ? void 0 : idTokenResponse.idToken)) {
    const signInProvider = (_b = (_a = _parseToken(idTokenResponse.idToken)) === null || _a === void 0 ? void 0 : _a.firebase) === null || _b === void 0 ? void 0 : _b["sign_in_provider"];
    if (signInProvider) {
      const filteredProviderId = signInProvider !== "anonymous" && signInProvider !== "custom" ? signInProvider : null;
      return new GenericAdditionalUserInfo(isNewUser, filteredProviderId);
    }
  }
  if (!providerId) {
    return null;
  }
  switch (providerId) {
    case "facebook.com":
      return new FacebookAdditionalUserInfo(isNewUser, profile);
    case "github.com":
      return new GithubAdditionalUserInfo(isNewUser, profile);
    case "google.com":
      return new GoogleAdditionalUserInfo(isNewUser, profile);
    case "twitter.com":
      return new TwitterAdditionalUserInfo(isNewUser, profile, idTokenResponse.screenName || null);
    case "custom":
    case "anonymous":
      return new GenericAdditionalUserInfo(isNewUser, null);
    default:
      return new GenericAdditionalUserInfo(isNewUser, providerId, profile);
  }
}
function getAdditionalUserInfo(userCredential) {
  const { user, _tokenResponse } = userCredential;
  if (user.isAnonymous && !_tokenResponse) {
    return {
      providerId: null,
      isNewUser: false,
      profile: null
    };
  }
  return _fromIdTokenResponse(_tokenResponse);
}
function setPersistence(auth2, persistence) {
  return getModularInstance(auth2).setPersistence(persistence);
}
function initializeRecaptchaConfig(auth2) {
  return _initializeRecaptchaConfig(auth2);
}
async function validatePassword(auth2, password) {
  const authInternal = _castAuth(auth2);
  return authInternal.validatePassword(password);
}
function onIdTokenChanged(auth2, nextOrObserver, error2, completed) {
  return getModularInstance(auth2).onIdTokenChanged(nextOrObserver, error2, completed);
}
function beforeAuthStateChanged(auth2, callback, onAbort) {
  return getModularInstance(auth2).beforeAuthStateChanged(callback, onAbort);
}
function onAuthStateChanged(auth2, nextOrObserver, error2, completed) {
  return getModularInstance(auth2).onAuthStateChanged(nextOrObserver, error2, completed);
}
function useDeviceLanguage(auth2) {
  getModularInstance(auth2).useDeviceLanguage();
}
function updateCurrentUser(auth2, user) {
  return getModularInstance(auth2).updateCurrentUser(user);
}
function signOut(auth2) {
  return getModularInstance(auth2).signOut();
}
function revokeAccessToken(auth2, token) {
  const authInternal = _castAuth(auth2);
  return authInternal.revokeAccessToken(token);
}
async function deleteUser(user) {
  return getModularInstance(user).delete();
}
function getMultiFactorResolver(auth2, error2) {
  var _a;
  const authModular = getModularInstance(auth2);
  const errorInternal = error2;
  _assert(
    error2.customData.operationType,
    authModular,
    "argument-error"
    /* AuthErrorCode.ARGUMENT_ERROR */
  );
  _assert(
    (_a = errorInternal.customData._serverResponse) === null || _a === void 0 ? void 0 : _a.mfaPendingCredential,
    authModular,
    "argument-error"
    /* AuthErrorCode.ARGUMENT_ERROR */
  );
  return MultiFactorResolverImpl._fromError(authModular, errorInternal);
}
function startEnrollPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:start", _addTidIfNecessary(auth2, request));
}
function finalizeEnrollPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:finalize", _addTidIfNecessary(auth2, request));
}
function startEnrollTotpMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:start", _addTidIfNecessary(auth2, request));
}
function finalizeEnrollTotpMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:finalize", _addTidIfNecessary(auth2, request));
}
function withdrawMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:withdraw", _addTidIfNecessary(auth2, request));
}
function multiFactor(user) {
  const userModular = getModularInstance(user);
  if (!multiFactorUserCache.has(userModular)) {
    multiFactorUserCache.set(userModular, MultiFactorUserImpl._fromUser(userModular));
  }
  return multiFactorUserCache.get(userModular);
}
function _allSettled(promises) {
  return Promise.all(promises.map(async (promise) => {
    try {
      const value2 = await promise;
      return {
        fulfilled: true,
        value: value2
      };
    } catch (reason) {
      return {
        fulfilled: false,
        reason
      };
    }
  }));
}
function _generateEventId(prefix = "", digits = 10) {
  let random = "";
  for (let i3 = 0; i3 < digits; i3++) {
    random += Math.floor(Math.random() * 10);
  }
  return prefix + random;
}
function _window() {
  return window;
}
function _setWindowLocation(url) {
  _window().location.href = url;
}
function _isWorker() {
  return typeof _window()["WorkerGlobalScope"] !== "undefined" && typeof _window()["importScripts"] === "function";
}
async function _getActiveServiceWorker() {
  if (!(navigator === null || navigator === void 0 ? void 0 : navigator.serviceWorker)) {
    return null;
  }
  try {
    const registration = await navigator.serviceWorker.ready;
    return registration.active;
  } catch (_a) {
    return null;
  }
}
function _getServiceWorkerController() {
  var _a;
  return ((_a = navigator === null || navigator === void 0 ? void 0 : navigator.serviceWorker) === null || _a === void 0 ? void 0 : _a.controller) || null;
}
function _getWorkerGlobalScope() {
  return _isWorker() ? self : null;
}
function getObjectStore(db, isReadWrite) {
  return db.transaction([DB_OBJECTSTORE_NAME], isReadWrite ? "readwrite" : "readonly").objectStore(DB_OBJECTSTORE_NAME);
}
function _deleteDatabase() {
  const request = indexedDB.deleteDatabase(DB_NAME2);
  return new DBPromise(request).toPromise();
}
function _openDatabase() {
  const request = indexedDB.open(DB_NAME2, DB_VERSION2);
  return new Promise((resolve, reject) => {
    request.addEventListener("error", () => {
      reject(request.error);
    });
    request.addEventListener("upgradeneeded", () => {
      const db = request.result;
      try {
        db.createObjectStore(DB_OBJECTSTORE_NAME, { keyPath: DB_DATA_KEYPATH });
      } catch (e3) {
        reject(e3);
      }
    });
    request.addEventListener("success", async () => {
      const db = request.result;
      if (!db.objectStoreNames.contains(DB_OBJECTSTORE_NAME)) {
        db.close();
        await _deleteDatabase();
        resolve(await _openDatabase());
      } else {
        resolve(db);
      }
    });
  });
}
async function _putObject(db, key, value2) {
  const request = getObjectStore(db, true).put({
    [DB_DATA_KEYPATH]: key,
    value: value2
  });
  return new DBPromise(request).toPromise();
}
async function getObject(db, key) {
  const request = getObjectStore(db, false).get(key);
  const data = await new DBPromise(request).toPromise();
  return data === void 0 ? null : data.value;
}
function _deleteObject(db, key) {
  const request = getObjectStore(db, true).delete(key);
  return new DBPromise(request).toPromise();
}
function startSignInPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaSignIn:start", _addTidIfNecessary(auth2, request));
}
function finalizeSignInPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaSignIn:finalize", _addTidIfNecessary(auth2, request));
}
function finalizeSignInTotpMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaSignIn:finalize", _addTidIfNecessary(auth2, request));
}
function generateRandomAlphaNumericString(len) {
  const chars = [];
  const allowedChars = "1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
  for (let i3 = 0; i3 < len; i3++) {
    chars.push(allowedChars.charAt(Math.floor(Math.random() * allowedChars.length)));
  }
  return chars.join("");
}
function isHostLanguageValid(hl) {
  return hl.length <= 6 && /^\s*[a-zA-Z0-9\-]*\s*$/.test(hl);
}
function domReady() {
  let resolver = null;
  return new Promise((resolve) => {
    if (document.readyState === "complete") {
      resolve();
      return;
    }
    resolver = () => resolve();
    window.addEventListener("load", resolver);
  }).catch((e3) => {
    if (resolver) {
      window.removeEventListener("load", resolver);
    }
    throw e3;
  });
}
async function signInWithPhoneNumber(auth2, phoneNumber, appVerifier) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const verificationId = await _verifyPhoneNumber(authInternal, phoneNumber, getModularInstance(appVerifier));
  return new ConfirmationResultImpl(verificationId, (cred) => signInWithCredential(authInternal, cred));
}
async function linkWithPhoneNumber(user, phoneNumber, appVerifier) {
  const userInternal = getModularInstance(user);
  await _assertLinkedStatus(
    false,
    userInternal,
    "phone"
    /* ProviderId.PHONE */
  );
  const verificationId = await _verifyPhoneNumber(userInternal.auth, phoneNumber, getModularInstance(appVerifier));
  return new ConfirmationResultImpl(verificationId, (cred) => linkWithCredential(userInternal, cred));
}
async function reauthenticateWithPhoneNumber(user, phoneNumber, appVerifier) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  const verificationId = await _verifyPhoneNumber(userInternal.auth, phoneNumber, getModularInstance(appVerifier));
  return new ConfirmationResultImpl(verificationId, (cred) => reauthenticateWithCredential(userInternal, cred));
}
async function _verifyPhoneNumber(auth2, options, verifier) {
  var _a;
  const recaptchaToken = await verifier.verify();
  try {
    _assert(
      typeof recaptchaToken === "string",
      auth2,
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    );
    _assert(
      verifier.type === RECAPTCHA_VERIFIER_TYPE,
      auth2,
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    );
    let phoneInfoOptions;
    if (typeof options === "string") {
      phoneInfoOptions = {
        phoneNumber: options
      };
    } else {
      phoneInfoOptions = options;
    }
    if ("session" in phoneInfoOptions) {
      const session = phoneInfoOptions.session;
      if ("phoneNumber" in phoneInfoOptions) {
        _assert(
          session.type === "enroll",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const response = await startEnrollPhoneMfa(auth2, {
          idToken: session.credential,
          phoneEnrollmentInfo: {
            phoneNumber: phoneInfoOptions.phoneNumber,
            recaptchaToken
          }
        });
        return response.phoneSessionInfo.sessionInfo;
      } else {
        _assert(
          session.type === "signin",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const mfaEnrollmentId = ((_a = phoneInfoOptions.multiFactorHint) === null || _a === void 0 ? void 0 : _a.uid) || phoneInfoOptions.multiFactorUid;
        _assert(
          mfaEnrollmentId,
          auth2,
          "missing-multi-factor-info"
          /* AuthErrorCode.MISSING_MFA_INFO */
        );
        const response = await startSignInPhoneMfa(auth2, {
          mfaPendingCredential: session.credential,
          mfaEnrollmentId,
          phoneSignInInfo: {
            recaptchaToken
          }
        });
        return response.phoneResponseInfo.sessionInfo;
      }
    } else {
      const { sessionInfo } = await sendPhoneVerificationCode(auth2, {
        phoneNumber: phoneInfoOptions.phoneNumber,
        recaptchaToken
      });
      return sessionInfo;
    }
  } finally {
    verifier._reset();
  }
}
async function updatePhoneNumber(user, credential) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  await _link$1(userInternal, credential);
}
function _withDefaultResolver(auth2, resolverOverride) {
  if (resolverOverride) {
    return _getInstance(resolverOverride);
  }
  _assert(
    auth2._popupRedirectResolver,
    auth2,
    "argument-error"
    /* AuthErrorCode.ARGUMENT_ERROR */
  );
  return auth2._popupRedirectResolver;
}
function _signIn(params) {
  return _signInWithCredential(params.auth, new IdpCredential(params), params.bypassAuthState);
}
function _reauth(params) {
  const { auth: auth2, user } = params;
  _assert(
    user,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return _reauthenticate(user, new IdpCredential(params), params.bypassAuthState);
}
async function _link(params) {
  const { auth: auth2, user } = params;
  _assert(
    user,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return _link$1(user, new IdpCredential(params), params.bypassAuthState);
}
async function signInWithPopup(auth2, provider, resolver) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_createError(
      auth2,
      "operation-not-supported-in-this-environment"
      /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
    ));
  }
  const authInternal = _castAuth(auth2);
  _assertInstanceOf(auth2, provider, FederatedAuthProvider);
  const resolverInternal = _withDefaultResolver(authInternal, resolver);
  const action = new PopupOperation(authInternal, "signInViaPopup", provider, resolverInternal);
  return action.executeNotNull();
}
async function reauthenticateWithPopup(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_createError(
      userInternal.auth,
      "operation-not-supported-in-this-environment"
      /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
    ));
  }
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  const action = new PopupOperation(userInternal.auth, "reauthViaPopup", provider, resolverInternal, userInternal);
  return action.executeNotNull();
}
async function linkWithPopup(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  const action = new PopupOperation(userInternal.auth, "linkViaPopup", provider, resolverInternal, userInternal);
  return action.executeNotNull();
}
async function _getAndClearPendingRedirectStatus(resolver, auth2) {
  const key = pendingRedirectKey(auth2);
  const persistence = resolverPersistence(resolver);
  if (!await persistence._isAvailable()) {
    return false;
  }
  const hasPendingRedirect = await persistence._get(key) === "true";
  await persistence._remove(key);
  return hasPendingRedirect;
}
async function _setPendingRedirectStatus(resolver, auth2) {
  return resolverPersistence(resolver)._set(pendingRedirectKey(auth2), "true");
}
function _overrideRedirectResult(auth2, result) {
  redirectOutcomeMap.set(auth2._key(), result);
}
function resolverPersistence(resolver) {
  return _getInstance(resolver._redirectPersistence);
}
function pendingRedirectKey(auth2) {
  return _persistenceKeyName(PENDING_REDIRECT_KEY, auth2.config.apiKey, auth2.name);
}
function signInWithRedirect(auth2, provider, resolver) {
  return _signInWithRedirect(auth2, provider, resolver);
}
async function _signInWithRedirect(auth2, provider, resolver) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  _assertInstanceOf(auth2, provider, FederatedAuthProvider);
  await authInternal._initializationPromise;
  const resolverInternal = _withDefaultResolver(authInternal, resolver);
  await _setPendingRedirectStatus(resolverInternal, authInternal);
  return resolverInternal._openRedirect(
    authInternal,
    provider,
    "signInViaRedirect"
    /* AuthEventType.SIGN_IN_VIA_REDIRECT */
  );
}
function reauthenticateWithRedirect(user, provider, resolver) {
  return _reauthenticateWithRedirect(user, provider, resolver);
}
async function _reauthenticateWithRedirect(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  await userInternal.auth._initializationPromise;
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  await _setPendingRedirectStatus(resolverInternal, userInternal.auth);
  const eventId = await prepareUserForRedirect(userInternal);
  return resolverInternal._openRedirect(userInternal.auth, provider, "reauthViaRedirect", eventId);
}
function linkWithRedirect(user, provider, resolver) {
  return _linkWithRedirect(user, provider, resolver);
}
async function _linkWithRedirect(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  await userInternal.auth._initializationPromise;
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  await _assertLinkedStatus(false, userInternal, provider.providerId);
  await _setPendingRedirectStatus(resolverInternal, userInternal.auth);
  const eventId = await prepareUserForRedirect(userInternal);
  return resolverInternal._openRedirect(userInternal.auth, provider, "linkViaRedirect", eventId);
}
async function getRedirectResult(auth2, resolver) {
  await _castAuth(auth2)._initializationPromise;
  return _getRedirectResult(auth2, resolver, false);
}
async function _getRedirectResult(auth2, resolverExtern, bypassAuthState = false) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const resolver = _withDefaultResolver(authInternal, resolverExtern);
  const action = new RedirectAction(authInternal, resolver, bypassAuthState);
  const result = await action.execute();
  if (result && !bypassAuthState) {
    delete result.user._redirectEventId;
    await authInternal._persistUserIfCurrent(result.user);
    await authInternal._setRedirectUser(null, resolverExtern);
  }
  return result;
}
async function prepareUserForRedirect(user) {
  const eventId = _generateEventId(`${user.uid}:::`);
  user._redirectEventId = eventId;
  await user.auth._setRedirectUser(user);
  await user.auth._persistUserIfCurrent(user);
  return eventId;
}
function eventUid(e3) {
  return [e3.type, e3.eventId, e3.sessionId, e3.tenantId].filter((v3) => v3).join("-");
}
function isNullRedirectEvent({ type: type2, error: error2 }) {
  return type2 === "unknown" && (error2 === null || error2 === void 0 ? void 0 : error2.code) === `auth/${"no-auth-event"}`;
}
function isRedirectEvent(event) {
  switch (event.type) {
    case "signInViaRedirect":
    case "linkViaRedirect":
    case "reauthViaRedirect":
      return true;
    case "unknown":
      return isNullRedirectEvent(event);
    default:
      return false;
  }
}
async function _getProjectConfig(auth2, request = {}) {
  return _performApiRequest(auth2, "GET", "/v1/projects", request);
}
async function _validateOrigin(auth2) {
  if (auth2.config.emulator) {
    return;
  }
  const { authorizedDomains } = await _getProjectConfig(auth2);
  for (const domain of authorizedDomains) {
    try {
      if (matchDomain(domain)) {
        return;
      }
    } catch (_a) {
    }
  }
  _fail(
    auth2,
    "unauthorized-domain"
    /* AuthErrorCode.INVALID_ORIGIN */
  );
}
function matchDomain(expected) {
  const currentUrl = _getCurrentUrl();
  const { protocol, hostname } = new URL(currentUrl);
  if (expected.startsWith("chrome-extension://")) {
    const ceUrl = new URL(expected);
    if (ceUrl.hostname === "" && hostname === "") {
      return protocol === "chrome-extension:" && expected.replace("chrome-extension://", "") === currentUrl.replace("chrome-extension://", "");
    }
    return protocol === "chrome-extension:" && ceUrl.hostname === hostname;
  }
  if (!HTTP_REGEX.test(protocol)) {
    return false;
  }
  if (IP_ADDRESS_REGEX.test(expected)) {
    return hostname === expected;
  }
  const escapedDomainPattern = expected.replace(/\./g, "\\.");
  const re = new RegExp("^(.+\\." + escapedDomainPattern + "|" + escapedDomainPattern + ")$", "i");
  return re.test(hostname);
}
function resetUnloadedGapiModules() {
  const beacon = _window().___jsl;
  if (beacon === null || beacon === void 0 ? void 0 : beacon.H) {
    for (const hint of Object.keys(beacon.H)) {
      beacon.H[hint].r = beacon.H[hint].r || [];
      beacon.H[hint].L = beacon.H[hint].L || [];
      beacon.H[hint].r = [...beacon.H[hint].L];
      if (beacon.CP) {
        for (let i3 = 0; i3 < beacon.CP.length; i3++) {
          beacon.CP[i3] = null;
        }
      }
    }
  }
}
function loadGapi(auth2) {
  return new Promise((resolve, reject) => {
    var _a, _b, _c;
    function loadGapiIframe() {
      resetUnloadedGapiModules();
      gapi.load("gapi.iframes", {
        callback: () => {
          resolve(gapi.iframes.getContext());
        },
        ontimeout: () => {
          resetUnloadedGapiModules();
          reject(_createError(
            auth2,
            "network-request-failed"
            /* AuthErrorCode.NETWORK_REQUEST_FAILED */
          ));
        },
        timeout: NETWORK_TIMEOUT.get()
      });
    }
    if ((_b = (_a = _window().gapi) === null || _a === void 0 ? void 0 : _a.iframes) === null || _b === void 0 ? void 0 : _b.Iframe) {
      resolve(gapi.iframes.getContext());
    } else if (!!((_c = _window().gapi) === null || _c === void 0 ? void 0 : _c.load)) {
      loadGapiIframe();
    } else {
      const cbName = _generateCallbackName("iframefcb");
      _window()[cbName] = () => {
        if (!!gapi.load) {
          loadGapiIframe();
        } else {
          reject(_createError(
            auth2,
            "network-request-failed"
            /* AuthErrorCode.NETWORK_REQUEST_FAILED */
          ));
        }
      };
      return _loadJS(`${_gapiScriptUrl()}?onload=${cbName}`).catch((e3) => reject(e3));
    }
  }).catch((error2) => {
    cachedGApiLoader = null;
    throw error2;
  });
}
function _loadGapi(auth2) {
  cachedGApiLoader = cachedGApiLoader || loadGapi(auth2);
  return cachedGApiLoader;
}
function getIframeUrl(auth2) {
  const config = auth2.config;
  _assert(
    config.authDomain,
    auth2,
    "auth-domain-config-required"
    /* AuthErrorCode.MISSING_AUTH_DOMAIN */
  );
  const url = config.emulator ? _emulatorUrl(config, EMULATED_IFRAME_PATH) : `https://${auth2.config.authDomain}/${IFRAME_PATH}`;
  const params = {
    apiKey: config.apiKey,
    appName: auth2.name,
    v: SDK_VERSION
  };
  const eid = EID_FROM_APIHOST.get(auth2.config.apiHost);
  if (eid) {
    params.eid = eid;
  }
  const frameworks = auth2._getFrameworks();
  if (frameworks.length) {
    params.fw = frameworks.join(",");
  }
  return `${url}?${querystring(params).slice(1)}`;
}
async function _openIframe(auth2) {
  const context = await _loadGapi(auth2);
  const gapi2 = _window().gapi;
  _assert(
    gapi2,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return context.open({
    where: document.body,
    url: getIframeUrl(auth2),
    messageHandlersFilter: gapi2.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
    attributes: IFRAME_ATTRIBUTES,
    dontclear: true
  }, (iframe) => new Promise(async (resolve, reject) => {
    await iframe.restyle({
      // Prevent iframe from closing on mouse out.
      setHideOnLeave: false
    });
    const networkError = _createError(
      auth2,
      "network-request-failed"
      /* AuthErrorCode.NETWORK_REQUEST_FAILED */
    );
    const networkErrorTimer = _window().setTimeout(() => {
      reject(networkError);
    }, PING_TIMEOUT.get());
    function clearTimerAndResolve() {
      _window().clearTimeout(networkErrorTimer);
      resolve(iframe);
    }
    iframe.ping(clearTimerAndResolve).then(clearTimerAndResolve, () => {
      reject(networkError);
    });
  }));
}
function _open(auth2, url, name5, width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT) {
  const top = Math.max((window.screen.availHeight - height) / 2, 0).toString();
  const left = Math.max((window.screen.availWidth - width) / 2, 0).toString();
  let target = "";
  const options = Object.assign(Object.assign({}, BASE_POPUP_OPTIONS), {
    width: width.toString(),
    height: height.toString(),
    top,
    left
  });
  const ua = getUA().toLowerCase();
  if (name5) {
    target = _isChromeIOS(ua) ? TARGET_BLANK : name5;
  }
  if (_isFirefox(ua)) {
    url = url || FIREFOX_EMPTY_URL;
    options.scrollbars = "yes";
  }
  const optionsString = Object.entries(options).reduce((accum, [key, value2]) => `${accum}${key}=${value2},`, "");
  if (_isIOSStandalone(ua) && target !== "_self") {
    openAsNewWindowIOS(url || "", target);
    return new AuthPopup(null);
  }
  const newWin = window.open(url || "", target, optionsString);
  _assert(
    newWin,
    auth2,
    "popup-blocked"
    /* AuthErrorCode.POPUP_BLOCKED */
  );
  try {
    newWin.focus();
  } catch (e3) {
  }
  return new AuthPopup(newWin);
}
function openAsNewWindowIOS(url, target) {
  const el = document.createElement("a");
  el.href = url;
  el.target = target;
  const click = document.createEvent("MouseEvent");
  click.initMouseEvent("click", true, true, window, 1, 0, 0, 0, 0, false, false, false, false, 1, null);
  el.dispatchEvent(click);
}
async function _getRedirectUrl(auth2, provider, authType, redirectUrl, eventId, additionalParams) {
  _assert(
    auth2.config.authDomain,
    auth2,
    "auth-domain-config-required"
    /* AuthErrorCode.MISSING_AUTH_DOMAIN */
  );
  _assert(
    auth2.config.apiKey,
    auth2,
    "invalid-api-key"
    /* AuthErrorCode.INVALID_API_KEY */
  );
  const params = {
    apiKey: auth2.config.apiKey,
    appName: auth2.name,
    authType,
    redirectUrl,
    v: SDK_VERSION,
    eventId
  };
  if (provider instanceof FederatedAuthProvider) {
    provider.setDefaultLanguage(auth2.languageCode);
    params.providerId = provider.providerId || "";
    if (!isEmpty(provider.getCustomParameters())) {
      params.customParameters = JSON.stringify(provider.getCustomParameters());
    }
    for (const [key, value2] of Object.entries(additionalParams || {})) {
      params[key] = value2;
    }
  }
  if (provider instanceof BaseOAuthProvider) {
    const scopes = provider.getScopes().filter((scope) => scope !== "");
    if (scopes.length > 0) {
      params.scopes = scopes.join(",");
    }
  }
  if (auth2.tenantId) {
    params.tid = auth2.tenantId;
  }
  const paramsDict = params;
  for (const key of Object.keys(paramsDict)) {
    if (paramsDict[key] === void 0) {
      delete paramsDict[key];
    }
  }
  const appCheckToken = await auth2._getAppCheckToken();
  const appCheckTokenFragment = appCheckToken ? `#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(appCheckToken)}` : "";
  return `${getHandlerBase(auth2)}?${querystring(paramsDict).slice(1)}${appCheckTokenFragment}`;
}
function getHandlerBase({ config }) {
  if (!config.emulator) {
    return `https://${config.authDomain}/${WIDGET_PATH}`;
  }
  return _emulatorUrl(config, EMULATOR_WIDGET_PATH);
}
function _isEmptyString(input) {
  return typeof input === "undefined" || (input === null || input === void 0 ? void 0 : input.length) === 0;
}
function getVersionForPlatform(clientPlatform) {
  switch (clientPlatform) {
    case "Node":
      return "node";
    case "ReactNative":
      return "rn";
    case "Worker":
      return "webworker";
    case "Cordova":
      return "cordova";
    case "WebExtension":
      return "web-extension";
    default:
      return void 0;
  }
}
function registerAuth(clientPlatform) {
  _registerComponent(new Component2(
    "auth",
    (container, { options: deps }) => {
      const app2 = container.getProvider("app").getImmediate();
      const heartbeatServiceProvider = container.getProvider("heartbeat");
      const appCheckServiceProvider = container.getProvider("app-check-internal");
      const { apiKey, authDomain } = app2.options;
      _assert(apiKey && !apiKey.includes(":"), "invalid-api-key", { appName: app2.name });
      const config = {
        apiKey,
        authDomain,
        clientPlatform,
        apiHost: "identitytoolkit.googleapis.com",
        tokenApiHost: "securetoken.googleapis.com",
        apiScheme: "https",
        sdkClientVersion: _getClientVersion(clientPlatform)
      };
      const authInstance = new AuthImpl(app2, heartbeatServiceProvider, appCheckServiceProvider, config);
      _initializeAuthInstance(authInstance, deps);
      return authInstance;
    },
    "PUBLIC"
    /* ComponentType.PUBLIC */
  ).setInstantiationMode(
    "EXPLICIT"
    /* InstantiationMode.EXPLICIT */
  ).setInstanceCreatedCallback((container, _instanceIdentifier, _instance) => {
    const authInternalProvider = container.getProvider(
      "auth-internal"
      /* _ComponentName.AUTH_INTERNAL */
    );
    authInternalProvider.initialize();
  }));
  _registerComponent(new Component2(
    "auth-internal",
    (container) => {
      const auth2 = _castAuth(container.getProvider(
        "auth"
        /* _ComponentName.AUTH */
      ).getImmediate());
      return ((auth3) => new AuthInterop(auth3))(auth2);
    },
    "PRIVATE"
    /* ComponentType.PRIVATE */
  ).setInstantiationMode(
    "EXPLICIT"
    /* InstantiationMode.EXPLICIT */
  ));
  registerVersion(name4, version3, getVersionForPlatform(clientPlatform));
  registerVersion(name4, version3, "esm2017");
}
function getAuth(app2 = getApp()) {
  const provider = _getProvider(app2, "auth");
  if (provider.isInitialized()) {
    return provider.getImmediate();
  }
  const auth2 = initializeAuth(app2, {
    popupRedirectResolver: browserPopupRedirectResolver,
    persistence: [
      indexedDBLocalPersistence,
      browserLocalPersistence,
      browserSessionPersistence
    ]
  });
  const authTokenSyncPath = getExperimentalSetting("authTokenSyncURL");
  if (authTokenSyncPath && typeof isSecureContext === "boolean" && isSecureContext) {
    const authTokenSyncUrl = new URL(authTokenSyncPath, location.origin);
    if (location.origin === authTokenSyncUrl.origin) {
      const mintCookie = mintCookieFactory(authTokenSyncUrl.toString());
      beforeAuthStateChanged(auth2, mintCookie, () => mintCookie(auth2.currentUser));
      onIdTokenChanged(auth2, (user) => mintCookie(user));
    }
  }
  const authEmulatorHost = getDefaultEmulatorHost("auth");
  if (authEmulatorHost) {
    connectAuthEmulator(auth2, `http://${authEmulatorHost}`);
  }
  return auth2;
}
function getScriptParentElement() {
  var _a, _b;
  return (_b = (_a = document.getElementsByTagName("head")) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : document;
}
var FactorId, ProviderId, SignInMethod, OperationType, ActionCodeOperation, debugErrorMap, prodErrorMap, _DEFAULT_AUTH_ERROR_FACTORY, AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY, logClient, Delay, FetchProvider, SERVER_ERROR_MAP, DEFAULT_API_TIMEOUT_MS, NetworkTimeout, RecaptchaConfig, ProactiveRefresh, UserMetadata, StsTokenManager, UserImpl, instanceCache, InMemoryPersistence, inMemoryPersistence, PersistenceUserManager, AuthMiddlewareQueue, MINIMUM_MIN_PASSWORD_LENGTH, PasswordPolicyImpl, AuthImpl, Subscription, externalJSProvider, RECAPTCHA_ENTERPRISE_VERIFIER_TYPE, FAKE_TOKEN, RecaptchaEnterpriseVerifier, AuthCredential, EmailAuthCredential, IDP_REQUEST_URI$1, OAuthCredential, VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_, PhoneAuthCredential, ActionCodeURL, EmailAuthProvider, FederatedAuthProvider, BaseOAuthProvider, OAuthProvider, FacebookAuthProvider, GoogleAuthProvider, GithubAuthProvider, IDP_REQUEST_URI, SAMLAuthCredential, SAML_PROVIDER_PREFIX, SAMLAuthProvider, TwitterAuthProvider, UserCredentialImpl, MultiFactorError, MultiFactorInfoImpl, PhoneMultiFactorInfoImpl, TotpMultiFactorInfoImpl, GenericAdditionalUserInfo, FederatedAdditionalUserInfoWithUsername, FacebookAdditionalUserInfo, GithubAdditionalUserInfo, GoogleAdditionalUserInfo, TwitterAdditionalUserInfo, MultiFactorSessionImpl, MultiFactorResolverImpl, MultiFactorUserImpl, multiFactorUserCache, STORAGE_AVAILABLE_KEY, BrowserPersistenceClass, _POLLING_INTERVAL_MS$1, IE10_LOCAL_STORAGE_SYNC_DELAY, BrowserLocalPersistence, browserLocalPersistence, BrowserSessionPersistence, browserSessionPersistence, Receiver, Sender, DB_NAME2, DB_VERSION2, DB_OBJECTSTORE_NAME, DB_DATA_KEYPATH, DBPromise, _POLLING_INTERVAL_MS, _TRANSACTION_RETRY_COUNT, IndexedDBLocalPersistence, indexedDBLocalPersistence, _SOLVE_TIME_MS, _EXPIRATION_TIME_MS, _WIDGET_ID_START, MockReCaptcha, MockWidget, _JSLOAD_CALLBACK, NETWORK_TIMEOUT_DELAY, ReCaptchaLoaderImpl, MockReCaptchaLoaderImpl, RECAPTCHA_VERIFIER_TYPE, DEFAULT_PARAMS, RecaptchaVerifier, ConfirmationResultImpl, PhoneAuthProvider, IdpCredential, AbstractPopupRedirectOperation, _POLL_WINDOW_CLOSE_TIMEOUT, PopupOperation, PENDING_REDIRECT_KEY, redirectOutcomeMap, RedirectAction, EVENT_DUPLICATION_CACHE_DURATION_MS, AuthEventManager, IP_ADDRESS_REGEX, HTTP_REGEX, NETWORK_TIMEOUT, cachedGApiLoader, PING_TIMEOUT, IFRAME_PATH, EMULATED_IFRAME_PATH, IFRAME_ATTRIBUTES, EID_FROM_APIHOST, BASE_POPUP_OPTIONS, DEFAULT_WIDTH, DEFAULT_HEIGHT, TARGET_BLANK, FIREFOX_EMPTY_URL, AuthPopup, WIDGET_PATH, EMULATOR_WIDGET_PATH, FIREBASE_APP_CHECK_FRAGMENT_ID, WEB_STORAGE_SUPPORT_KEY, BrowserPopupRedirectResolver, browserPopupRedirectResolver, MultiFactorAssertionImpl, PhoneMultiFactorAssertionImpl, PhoneMultiFactorGenerator, TotpMultiFactorGenerator, TotpMultiFactorAssertionImpl, TotpSecret, name4, version3, AuthInterop, DEFAULT_ID_TOKEN_MAX_AGE, authIdTokenMaxAge, lastPostedIdToken, mintCookieFactory;
var init_index_68602d24 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index-68602d24.js"() {
    init_index_esm20174();
    init_index_esm2017();
    init_index_esm20173();
    init_tslib_es6();
    init_index_esm20172();
    FactorId = {
      /** Phone as second factor */
      PHONE: "phone",
      TOTP: "totp"
    };
    ProviderId = {
      /** Facebook provider ID */
      FACEBOOK: "facebook.com",
      /** GitHub provider ID */
      GITHUB: "github.com",
      /** Google provider ID */
      GOOGLE: "google.com",
      /** Password provider */
      PASSWORD: "password",
      /** Phone provider */
      PHONE: "phone",
      /** Twitter provider ID */
      TWITTER: "twitter.com"
    };
    SignInMethod = {
      /** Email link sign in method */
      EMAIL_LINK: "emailLink",
      /** Email/password sign in method */
      EMAIL_PASSWORD: "password",
      /** Facebook sign in method */
      FACEBOOK: "facebook.com",
      /** GitHub sign in method */
      GITHUB: "github.com",
      /** Google sign in method */
      GOOGLE: "google.com",
      /** Phone sign in method */
      PHONE: "phone",
      /** Twitter sign in method */
      TWITTER: "twitter.com"
    };
    OperationType = {
      /** Operation involving linking an additional provider to an already signed-in user. */
      LINK: "link",
      /** Operation involving using a provider to reauthenticate an already signed-in user. */
      REAUTHENTICATE: "reauthenticate",
      /** Operation involving signing in a user. */
      SIGN_IN: "signIn"
    };
    ActionCodeOperation = {
      /** The email link sign-in action. */
      EMAIL_SIGNIN: "EMAIL_SIGNIN",
      /** The password reset action. */
      PASSWORD_RESET: "PASSWORD_RESET",
      /** The email revocation action. */
      RECOVER_EMAIL: "RECOVER_EMAIL",
      /** The revert second factor addition email action. */
      REVERT_SECOND_FACTOR_ADDITION: "REVERT_SECOND_FACTOR_ADDITION",
      /** The revert second factor addition email action. */
      VERIFY_AND_CHANGE_EMAIL: "VERIFY_AND_CHANGE_EMAIL",
      /** The email verification action. */
      VERIFY_EMAIL: "VERIFY_EMAIL"
    };
    debugErrorMap = _debugErrorMap;
    prodErrorMap = _prodErrorMap;
    _DEFAULT_AUTH_ERROR_FACTORY = new ErrorFactory("auth", "Firebase", _prodErrorMap());
    AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY = {
      ADMIN_ONLY_OPERATION: "auth/admin-restricted-operation",
      ARGUMENT_ERROR: "auth/argument-error",
      APP_NOT_AUTHORIZED: "auth/app-not-authorized",
      APP_NOT_INSTALLED: "auth/app-not-installed",
      CAPTCHA_CHECK_FAILED: "auth/captcha-check-failed",
      CODE_EXPIRED: "auth/code-expired",
      CORDOVA_NOT_READY: "auth/cordova-not-ready",
      CORS_UNSUPPORTED: "auth/cors-unsupported",
      CREDENTIAL_ALREADY_IN_USE: "auth/credential-already-in-use",
      CREDENTIAL_MISMATCH: "auth/custom-token-mismatch",
      CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "auth/requires-recent-login",
      DEPENDENT_SDK_INIT_BEFORE_AUTH: "auth/dependent-sdk-initialized-before-auth",
      DYNAMIC_LINK_NOT_ACTIVATED: "auth/dynamic-link-not-activated",
      EMAIL_CHANGE_NEEDS_VERIFICATION: "auth/email-change-needs-verification",
      EMAIL_EXISTS: "auth/email-already-in-use",
      EMULATOR_CONFIG_FAILED: "auth/emulator-config-failed",
      EXPIRED_OOB_CODE: "auth/expired-action-code",
      EXPIRED_POPUP_REQUEST: "auth/cancelled-popup-request",
      INTERNAL_ERROR: "auth/internal-error",
      INVALID_API_KEY: "auth/invalid-api-key",
      INVALID_APP_CREDENTIAL: "auth/invalid-app-credential",
      INVALID_APP_ID: "auth/invalid-app-id",
      INVALID_AUTH: "auth/invalid-user-token",
      INVALID_AUTH_EVENT: "auth/invalid-auth-event",
      INVALID_CERT_HASH: "auth/invalid-cert-hash",
      INVALID_CODE: "auth/invalid-verification-code",
      INVALID_CONTINUE_URI: "auth/invalid-continue-uri",
      INVALID_CORDOVA_CONFIGURATION: "auth/invalid-cordova-configuration",
      INVALID_CUSTOM_TOKEN: "auth/invalid-custom-token",
      INVALID_DYNAMIC_LINK_DOMAIN: "auth/invalid-dynamic-link-domain",
      INVALID_EMAIL: "auth/invalid-email",
      INVALID_EMULATOR_SCHEME: "auth/invalid-emulator-scheme",
      INVALID_IDP_RESPONSE: "auth/invalid-credential",
      INVALID_LOGIN_CREDENTIALS: "auth/invalid-credential",
      INVALID_MESSAGE_PAYLOAD: "auth/invalid-message-payload",
      INVALID_MFA_SESSION: "auth/invalid-multi-factor-session",
      INVALID_OAUTH_CLIENT_ID: "auth/invalid-oauth-client-id",
      INVALID_OAUTH_PROVIDER: "auth/invalid-oauth-provider",
      INVALID_OOB_CODE: "auth/invalid-action-code",
      INVALID_ORIGIN: "auth/unauthorized-domain",
      INVALID_PASSWORD: "auth/wrong-password",
      INVALID_PERSISTENCE: "auth/invalid-persistence-type",
      INVALID_PHONE_NUMBER: "auth/invalid-phone-number",
      INVALID_PROVIDER_ID: "auth/invalid-provider-id",
      INVALID_RECIPIENT_EMAIL: "auth/invalid-recipient-email",
      INVALID_SENDER: "auth/invalid-sender",
      INVALID_SESSION_INFO: "auth/invalid-verification-id",
      INVALID_TENANT_ID: "auth/invalid-tenant-id",
      MFA_INFO_NOT_FOUND: "auth/multi-factor-info-not-found",
      MFA_REQUIRED: "auth/multi-factor-auth-required",
      MISSING_ANDROID_PACKAGE_NAME: "auth/missing-android-pkg-name",
      MISSING_APP_CREDENTIAL: "auth/missing-app-credential",
      MISSING_AUTH_DOMAIN: "auth/auth-domain-config-required",
      MISSING_CODE: "auth/missing-verification-code",
      MISSING_CONTINUE_URI: "auth/missing-continue-uri",
      MISSING_IFRAME_START: "auth/missing-iframe-start",
      MISSING_IOS_BUNDLE_ID: "auth/missing-ios-bundle-id",
      MISSING_OR_INVALID_NONCE: "auth/missing-or-invalid-nonce",
      MISSING_MFA_INFO: "auth/missing-multi-factor-info",
      MISSING_MFA_SESSION: "auth/missing-multi-factor-session",
      MISSING_PHONE_NUMBER: "auth/missing-phone-number",
      MISSING_SESSION_INFO: "auth/missing-verification-id",
      MODULE_DESTROYED: "auth/app-deleted",
      NEED_CONFIRMATION: "auth/account-exists-with-different-credential",
      NETWORK_REQUEST_FAILED: "auth/network-request-failed",
      NULL_USER: "auth/null-user",
      NO_AUTH_EVENT: "auth/no-auth-event",
      NO_SUCH_PROVIDER: "auth/no-such-provider",
      OPERATION_NOT_ALLOWED: "auth/operation-not-allowed",
      OPERATION_NOT_SUPPORTED: "auth/operation-not-supported-in-this-environment",
      POPUP_BLOCKED: "auth/popup-blocked",
      POPUP_CLOSED_BY_USER: "auth/popup-closed-by-user",
      PROVIDER_ALREADY_LINKED: "auth/provider-already-linked",
      QUOTA_EXCEEDED: "auth/quota-exceeded",
      REDIRECT_CANCELLED_BY_USER: "auth/redirect-cancelled-by-user",
      REDIRECT_OPERATION_PENDING: "auth/redirect-operation-pending",
      REJECTED_CREDENTIAL: "auth/rejected-credential",
      SECOND_FACTOR_ALREADY_ENROLLED: "auth/second-factor-already-in-use",
      SECOND_FACTOR_LIMIT_EXCEEDED: "auth/maximum-second-factor-count-exceeded",
      TENANT_ID_MISMATCH: "auth/tenant-id-mismatch",
      TIMEOUT: "auth/timeout",
      TOKEN_EXPIRED: "auth/user-token-expired",
      TOO_MANY_ATTEMPTS_TRY_LATER: "auth/too-many-requests",
      UNAUTHORIZED_DOMAIN: "auth/unauthorized-continue-uri",
      UNSUPPORTED_FIRST_FACTOR: "auth/unsupported-first-factor",
      UNSUPPORTED_PERSISTENCE: "auth/unsupported-persistence-type",
      UNSUPPORTED_TENANT_OPERATION: "auth/unsupported-tenant-operation",
      UNVERIFIED_EMAIL: "auth/unverified-email",
      USER_CANCELLED: "auth/user-cancelled",
      USER_DELETED: "auth/user-not-found",
      USER_DISABLED: "auth/user-disabled",
      USER_MISMATCH: "auth/user-mismatch",
      USER_SIGNED_OUT: "auth/user-signed-out",
      WEAK_PASSWORD: "auth/weak-password",
      WEB_STORAGE_UNSUPPORTED: "auth/web-storage-unsupported",
      ALREADY_INITIALIZED: "auth/already-initialized",
      RECAPTCHA_NOT_ENABLED: "auth/recaptcha-not-enabled",
      MISSING_RECAPTCHA_TOKEN: "auth/missing-recaptcha-token",
      INVALID_RECAPTCHA_TOKEN: "auth/invalid-recaptcha-token",
      INVALID_RECAPTCHA_ACTION: "auth/invalid-recaptcha-action",
      MISSING_CLIENT_TYPE: "auth/missing-client-type",
      MISSING_RECAPTCHA_VERSION: "auth/missing-recaptcha-version",
      INVALID_RECAPTCHA_VERSION: "auth/invalid-recaptcha-version",
      INVALID_REQ_TYPE: "auth/invalid-req-type"
    };
    logClient = new Logger("@firebase/auth");
    Delay = class {
      constructor(shortDelay, longDelay) {
        this.shortDelay = shortDelay;
        this.longDelay = longDelay;
        debugAssert(longDelay > shortDelay, "Short delay should be less than long delay!");
        this.isMobile = isMobileCordova() || isReactNative();
      }
      get() {
        if (!_isOnline()) {
          return Math.min(5e3, this.shortDelay);
        }
        return this.isMobile ? this.longDelay : this.shortDelay;
      }
    };
    FetchProvider = class {
      static initialize(fetchImpl, headersImpl, responseImpl) {
        this.fetchImpl = fetchImpl;
        if (headersImpl) {
          this.headersImpl = headersImpl;
        }
        if (responseImpl) {
          this.responseImpl = responseImpl;
        }
      }
      static fetch() {
        if (this.fetchImpl) {
          return this.fetchImpl;
        }
        if (typeof self !== "undefined" && "fetch" in self) {
          return self.fetch;
        }
        if (typeof globalThis !== "undefined" && globalThis.fetch) {
          return globalThis.fetch;
        }
        if (typeof fetch !== "undefined") {
          return fetch;
        }
        debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
      static headers() {
        if (this.headersImpl) {
          return this.headersImpl;
        }
        if (typeof self !== "undefined" && "Headers" in self) {
          return self.Headers;
        }
        if (typeof globalThis !== "undefined" && globalThis.Headers) {
          return globalThis.Headers;
        }
        if (typeof Headers !== "undefined") {
          return Headers;
        }
        debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
      static response() {
        if (this.responseImpl) {
          return this.responseImpl;
        }
        if (typeof self !== "undefined" && "Response" in self) {
          return self.Response;
        }
        if (typeof globalThis !== "undefined" && globalThis.Response) {
          return globalThis.Response;
        }
        if (typeof Response !== "undefined") {
          return Response;
        }
        debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
    };
    SERVER_ERROR_MAP = {
      // Custom token errors.
      [
        "CREDENTIAL_MISMATCH"
        /* ServerError.CREDENTIAL_MISMATCH */
      ]: "custom-token-mismatch",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_CUSTOM_TOKEN"
        /* ServerError.MISSING_CUSTOM_TOKEN */
      ]: "internal-error",
      // Create Auth URI errors.
      [
        "INVALID_IDENTIFIER"
        /* ServerError.INVALID_IDENTIFIER */
      ]: "invalid-email",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_CONTINUE_URI"
        /* ServerError.MISSING_CONTINUE_URI */
      ]: "internal-error",
      // Sign in with email and password errors (some apply to sign up too).
      [
        "INVALID_PASSWORD"
        /* ServerError.INVALID_PASSWORD */
      ]: "wrong-password",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_PASSWORD"
        /* ServerError.MISSING_PASSWORD */
      ]: "missing-password",
      // Thrown if Email Enumeration Protection is enabled in the project and the email or password is
      // invalid.
      [
        "INVALID_LOGIN_CREDENTIALS"
        /* ServerError.INVALID_LOGIN_CREDENTIALS */
      ]: "invalid-credential",
      // Sign up with email and password errors.
      [
        "EMAIL_EXISTS"
        /* ServerError.EMAIL_EXISTS */
      ]: "email-already-in-use",
      [
        "PASSWORD_LOGIN_DISABLED"
        /* ServerError.PASSWORD_LOGIN_DISABLED */
      ]: "operation-not-allowed",
      // Verify assertion for sign in with credential errors:
      [
        "INVALID_IDP_RESPONSE"
        /* ServerError.INVALID_IDP_RESPONSE */
      ]: "invalid-credential",
      [
        "INVALID_PENDING_TOKEN"
        /* ServerError.INVALID_PENDING_TOKEN */
      ]: "invalid-credential",
      [
        "FEDERATED_USER_ID_ALREADY_LINKED"
        /* ServerError.FEDERATED_USER_ID_ALREADY_LINKED */
      ]: "credential-already-in-use",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_REQ_TYPE"
        /* ServerError.MISSING_REQ_TYPE */
      ]: "internal-error",
      // Send Password reset email errors:
      [
        "EMAIL_NOT_FOUND"
        /* ServerError.EMAIL_NOT_FOUND */
      ]: "user-not-found",
      [
        "RESET_PASSWORD_EXCEED_LIMIT"
        /* ServerError.RESET_PASSWORD_EXCEED_LIMIT */
      ]: "too-many-requests",
      [
        "EXPIRED_OOB_CODE"
        /* ServerError.EXPIRED_OOB_CODE */
      ]: "expired-action-code",
      [
        "INVALID_OOB_CODE"
        /* ServerError.INVALID_OOB_CODE */
      ]: "invalid-action-code",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_OOB_CODE"
        /* ServerError.MISSING_OOB_CODE */
      ]: "internal-error",
      // Operations that require ID token in request:
      [
        "CREDENTIAL_TOO_OLD_LOGIN_AGAIN"
        /* ServerError.CREDENTIAL_TOO_OLD_LOGIN_AGAIN */
      ]: "requires-recent-login",
      [
        "INVALID_ID_TOKEN"
        /* ServerError.INVALID_ID_TOKEN */
      ]: "invalid-user-token",
      [
        "TOKEN_EXPIRED"
        /* ServerError.TOKEN_EXPIRED */
      ]: "user-token-expired",
      [
        "USER_NOT_FOUND"
        /* ServerError.USER_NOT_FOUND */
      ]: "user-token-expired",
      // Other errors.
      [
        "TOO_MANY_ATTEMPTS_TRY_LATER"
        /* ServerError.TOO_MANY_ATTEMPTS_TRY_LATER */
      ]: "too-many-requests",
      [
        "PASSWORD_DOES_NOT_MEET_REQUIREMENTS"
        /* ServerError.PASSWORD_DOES_NOT_MEET_REQUIREMENTS */
      ]: "password-does-not-meet-requirements",
      // Phone Auth related errors.
      [
        "INVALID_CODE"
        /* ServerError.INVALID_CODE */
      ]: "invalid-verification-code",
      [
        "INVALID_SESSION_INFO"
        /* ServerError.INVALID_SESSION_INFO */
      ]: "invalid-verification-id",
      [
        "INVALID_TEMPORARY_PROOF"
        /* ServerError.INVALID_TEMPORARY_PROOF */
      ]: "invalid-credential",
      [
        "MISSING_SESSION_INFO"
        /* ServerError.MISSING_SESSION_INFO */
      ]: "missing-verification-id",
      [
        "SESSION_EXPIRED"
        /* ServerError.SESSION_EXPIRED */
      ]: "code-expired",
      // Other action code errors when additional settings passed.
      // MISSING_CONTINUE_URI is getting mapped to INTERNAL_ERROR above.
      // This is OK as this error will be caught by client side validation.
      [
        "MISSING_ANDROID_PACKAGE_NAME"
        /* ServerError.MISSING_ANDROID_PACKAGE_NAME */
      ]: "missing-android-pkg-name",
      [
        "UNAUTHORIZED_DOMAIN"
        /* ServerError.UNAUTHORIZED_DOMAIN */
      ]: "unauthorized-continue-uri",
      // getProjectConfig errors when clientId is passed.
      [
        "INVALID_OAUTH_CLIENT_ID"
        /* ServerError.INVALID_OAUTH_CLIENT_ID */
      ]: "invalid-oauth-client-id",
      // User actions (sign-up or deletion) disabled errors.
      [
        "ADMIN_ONLY_OPERATION"
        /* ServerError.ADMIN_ONLY_OPERATION */
      ]: "admin-restricted-operation",
      // Multi factor related errors.
      [
        "INVALID_MFA_PENDING_CREDENTIAL"
        /* ServerError.INVALID_MFA_PENDING_CREDENTIAL */
      ]: "invalid-multi-factor-session",
      [
        "MFA_ENROLLMENT_NOT_FOUND"
        /* ServerError.MFA_ENROLLMENT_NOT_FOUND */
      ]: "multi-factor-info-not-found",
      [
        "MISSING_MFA_ENROLLMENT_ID"
        /* ServerError.MISSING_MFA_ENROLLMENT_ID */
      ]: "missing-multi-factor-info",
      [
        "MISSING_MFA_PENDING_CREDENTIAL"
        /* ServerError.MISSING_MFA_PENDING_CREDENTIAL */
      ]: "missing-multi-factor-session",
      [
        "SECOND_FACTOR_EXISTS"
        /* ServerError.SECOND_FACTOR_EXISTS */
      ]: "second-factor-already-in-use",
      [
        "SECOND_FACTOR_LIMIT_EXCEEDED"
        /* ServerError.SECOND_FACTOR_LIMIT_EXCEEDED */
      ]: "maximum-second-factor-count-exceeded",
      // Blocking functions related errors.
      [
        "BLOCKING_FUNCTION_ERROR_RESPONSE"
        /* ServerError.BLOCKING_FUNCTION_ERROR_RESPONSE */
      ]: "internal-error",
      // Recaptcha related errors.
      [
        "RECAPTCHA_NOT_ENABLED"
        /* ServerError.RECAPTCHA_NOT_ENABLED */
      ]: "recaptcha-not-enabled",
      [
        "MISSING_RECAPTCHA_TOKEN"
        /* ServerError.MISSING_RECAPTCHA_TOKEN */
      ]: "missing-recaptcha-token",
      [
        "INVALID_RECAPTCHA_TOKEN"
        /* ServerError.INVALID_RECAPTCHA_TOKEN */
      ]: "invalid-recaptcha-token",
      [
        "INVALID_RECAPTCHA_ACTION"
        /* ServerError.INVALID_RECAPTCHA_ACTION */
      ]: "invalid-recaptcha-action",
      [
        "MISSING_CLIENT_TYPE"
        /* ServerError.MISSING_CLIENT_TYPE */
      ]: "missing-client-type",
      [
        "MISSING_RECAPTCHA_VERSION"
        /* ServerError.MISSING_RECAPTCHA_VERSION */
      ]: "missing-recaptcha-version",
      [
        "INVALID_RECAPTCHA_VERSION"
        /* ServerError.INVALID_RECAPTCHA_VERSION */
      ]: "invalid-recaptcha-version",
      [
        "INVALID_REQ_TYPE"
        /* ServerError.INVALID_REQ_TYPE */
      ]: "invalid-req-type"
      /* AuthErrorCode.INVALID_REQ_TYPE */
    };
    DEFAULT_API_TIMEOUT_MS = new Delay(3e4, 6e4);
    NetworkTimeout = class {
      constructor(auth2) {
        this.auth = auth2;
        this.timer = null;
        this.promise = new Promise((_, reject) => {
          this.timer = setTimeout(() => {
            return reject(_createError(
              this.auth,
              "network-request-failed"
              /* AuthErrorCode.NETWORK_REQUEST_FAILED */
            ));
          }, DEFAULT_API_TIMEOUT_MS.get());
        });
      }
      clearNetworkTimeout() {
        clearTimeout(this.timer);
      }
    };
    RecaptchaConfig = class {
      constructor(response) {
        this.siteKey = "";
        this.recaptchaEnforcementState = [];
        if (response.recaptchaKey === void 0) {
          throw new Error("recaptchaKey undefined");
        }
        this.siteKey = response.recaptchaKey.split("/")[3];
        this.recaptchaEnforcementState = response.recaptchaEnforcementState;
      }
      /**
       * Returns the reCAPTCHA Enterprise enforcement state for the given provider.
       *
       * @param providerStr - The provider whose enforcement state is to be returned.
       * @returns The reCAPTCHA Enterprise enforcement state for the given provider.
       */
      getProviderEnforcementState(providerStr) {
        if (!this.recaptchaEnforcementState || this.recaptchaEnforcementState.length === 0) {
          return null;
        }
        for (const recaptchaEnforcementState of this.recaptchaEnforcementState) {
          if (recaptchaEnforcementState.provider && recaptchaEnforcementState.provider === providerStr) {
            return _parseEnforcementState(recaptchaEnforcementState.enforcementState);
          }
        }
        return null;
      }
      /**
       * Returns true if the reCAPTCHA Enterprise enforcement state for the provider is set to ENFORCE or AUDIT.
       *
       * @param providerStr - The provider whose enablement state is to be returned.
       * @returns Whether or not reCAPTCHA Enterprise protection is enabled for the given provider.
       */
      isProviderEnabled(providerStr) {
        return this.getProviderEnforcementState(providerStr) === "ENFORCE" || this.getProviderEnforcementState(providerStr) === "AUDIT";
      }
    };
    ProactiveRefresh = class {
      constructor(user) {
        this.user = user;
        this.isRunning = false;
        this.timerId = null;
        this.errorBackoff = 3e4;
      }
      _start() {
        if (this.isRunning) {
          return;
        }
        this.isRunning = true;
        this.schedule();
      }
      _stop() {
        if (!this.isRunning) {
          return;
        }
        this.isRunning = false;
        if (this.timerId !== null) {
          clearTimeout(this.timerId);
        }
      }
      getInterval(wasError) {
        var _a;
        if (wasError) {
          const interval = this.errorBackoff;
          this.errorBackoff = Math.min(
            this.errorBackoff * 2,
            96e4
            /* Duration.RETRY_BACKOFF_MAX */
          );
          return interval;
        } else {
          this.errorBackoff = 3e4;
          const expTime = (_a = this.user.stsTokenManager.expirationTime) !== null && _a !== void 0 ? _a : 0;
          const interval = expTime - Date.now() - 3e5;
          return Math.max(0, interval);
        }
      }
      schedule(wasError = false) {
        if (!this.isRunning) {
          return;
        }
        const interval = this.getInterval(wasError);
        this.timerId = setTimeout(async () => {
          await this.iteration();
        }, interval);
      }
      async iteration() {
        try {
          await this.user.getIdToken(true);
        } catch (e3) {
          if ((e3 === null || e3 === void 0 ? void 0 : e3.code) === `auth/${"network-request-failed"}`) {
            this.schedule(
              /* wasError */
              true
            );
          }
          return;
        }
        this.schedule();
      }
    };
    UserMetadata = class {
      constructor(createdAt, lastLoginAt) {
        this.createdAt = createdAt;
        this.lastLoginAt = lastLoginAt;
        this._initializeTime();
      }
      _initializeTime() {
        this.lastSignInTime = utcTimestampToDateString(this.lastLoginAt);
        this.creationTime = utcTimestampToDateString(this.createdAt);
      }
      _copy(metadata) {
        this.createdAt = metadata.createdAt;
        this.lastLoginAt = metadata.lastLoginAt;
        this._initializeTime();
      }
      toJSON() {
        return {
          createdAt: this.createdAt,
          lastLoginAt: this.lastLoginAt
        };
      }
    };
    StsTokenManager = class _StsTokenManager {
      constructor() {
        this.refreshToken = null;
        this.accessToken = null;
        this.expirationTime = null;
      }
      get isExpired() {
        return !this.expirationTime || Date.now() > this.expirationTime - 3e4;
      }
      updateFromServerResponse(response) {
        _assert(
          response.idToken,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        _assert(
          typeof response.idToken !== "undefined",
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        _assert(
          typeof response.refreshToken !== "undefined",
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const expiresIn = "expiresIn" in response && typeof response.expiresIn !== "undefined" ? Number(response.expiresIn) : _tokenExpiresIn(response.idToken);
        this.updateTokensAndExpiration(response.idToken, response.refreshToken, expiresIn);
      }
      updateFromIdToken(idToken) {
        _assert(
          idToken.length !== 0,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const expiresIn = _tokenExpiresIn(idToken);
        this.updateTokensAndExpiration(idToken, null, expiresIn);
      }
      async getToken(auth2, forceRefresh = false) {
        if (!forceRefresh && this.accessToken && !this.isExpired) {
          return this.accessToken;
        }
        _assert(
          this.refreshToken,
          auth2,
          "user-token-expired"
          /* AuthErrorCode.TOKEN_EXPIRED */
        );
        if (this.refreshToken) {
          await this.refresh(auth2, this.refreshToken);
          return this.accessToken;
        }
        return null;
      }
      clearRefreshToken() {
        this.refreshToken = null;
      }
      async refresh(auth2, oldToken) {
        const { accessToken, refreshToken, expiresIn } = await requestStsToken(auth2, oldToken);
        this.updateTokensAndExpiration(accessToken, refreshToken, Number(expiresIn));
      }
      updateTokensAndExpiration(accessToken, refreshToken, expiresInSec) {
        this.refreshToken = refreshToken || null;
        this.accessToken = accessToken || null;
        this.expirationTime = Date.now() + expiresInSec * 1e3;
      }
      static fromJSON(appName, object) {
        const { refreshToken, accessToken, expirationTime } = object;
        const manager = new _StsTokenManager();
        if (refreshToken) {
          _assert(typeof refreshToken === "string", "internal-error", {
            appName
          });
          manager.refreshToken = refreshToken;
        }
        if (accessToken) {
          _assert(typeof accessToken === "string", "internal-error", {
            appName
          });
          manager.accessToken = accessToken;
        }
        if (expirationTime) {
          _assert(typeof expirationTime === "number", "internal-error", {
            appName
          });
          manager.expirationTime = expirationTime;
        }
        return manager;
      }
      toJSON() {
        return {
          refreshToken: this.refreshToken,
          accessToken: this.accessToken,
          expirationTime: this.expirationTime
        };
      }
      _assign(stsTokenManager) {
        this.accessToken = stsTokenManager.accessToken;
        this.refreshToken = stsTokenManager.refreshToken;
        this.expirationTime = stsTokenManager.expirationTime;
      }
      _clone() {
        return Object.assign(new _StsTokenManager(), this.toJSON());
      }
      _performRefresh() {
        return debugFail("not implemented");
      }
    };
    UserImpl = class _UserImpl {
      constructor(_a) {
        var { uid, auth: auth2, stsTokenManager } = _a, opt = __rest(_a, ["uid", "auth", "stsTokenManager"]);
        this.providerId = "firebase";
        this.proactiveRefresh = new ProactiveRefresh(this);
        this.reloadUserInfo = null;
        this.reloadListener = null;
        this.uid = uid;
        this.auth = auth2;
        this.stsTokenManager = stsTokenManager;
        this.accessToken = stsTokenManager.accessToken;
        this.displayName = opt.displayName || null;
        this.email = opt.email || null;
        this.emailVerified = opt.emailVerified || false;
        this.phoneNumber = opt.phoneNumber || null;
        this.photoURL = opt.photoURL || null;
        this.isAnonymous = opt.isAnonymous || false;
        this.tenantId = opt.tenantId || null;
        this.providerData = opt.providerData ? [...opt.providerData] : [];
        this.metadata = new UserMetadata(opt.createdAt || void 0, opt.lastLoginAt || void 0);
      }
      async getIdToken(forceRefresh) {
        const accessToken = await _logoutIfInvalidated(this, this.stsTokenManager.getToken(this.auth, forceRefresh));
        _assert(
          accessToken,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        if (this.accessToken !== accessToken) {
          this.accessToken = accessToken;
          await this.auth._persistUserIfCurrent(this);
          this.auth._notifyListenersIfCurrent(this);
        }
        return accessToken;
      }
      getIdTokenResult(forceRefresh) {
        return getIdTokenResult(this, forceRefresh);
      }
      reload() {
        return reload(this);
      }
      _assign(user) {
        if (this === user) {
          return;
        }
        _assert(
          this.uid === user.uid,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        this.displayName = user.displayName;
        this.photoURL = user.photoURL;
        this.email = user.email;
        this.emailVerified = user.emailVerified;
        this.phoneNumber = user.phoneNumber;
        this.isAnonymous = user.isAnonymous;
        this.tenantId = user.tenantId;
        this.providerData = user.providerData.map((userInfo) => Object.assign({}, userInfo));
        this.metadata._copy(user.metadata);
        this.stsTokenManager._assign(user.stsTokenManager);
      }
      _clone(auth2) {
        const newUser = new _UserImpl(Object.assign(Object.assign({}, this), { auth: auth2, stsTokenManager: this.stsTokenManager._clone() }));
        newUser.metadata._copy(this.metadata);
        return newUser;
      }
      _onReload(callback) {
        _assert(
          !this.reloadListener,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        this.reloadListener = callback;
        if (this.reloadUserInfo) {
          this._notifyReloadListener(this.reloadUserInfo);
          this.reloadUserInfo = null;
        }
      }
      _notifyReloadListener(userInfo) {
        if (this.reloadListener) {
          this.reloadListener(userInfo);
        } else {
          this.reloadUserInfo = userInfo;
        }
      }
      _startProactiveRefresh() {
        this.proactiveRefresh._start();
      }
      _stopProactiveRefresh() {
        this.proactiveRefresh._stop();
      }
      async _updateTokensIfNecessary(response, reload2 = false) {
        let tokensRefreshed = false;
        if (response.idToken && response.idToken !== this.stsTokenManager.accessToken) {
          this.stsTokenManager.updateFromServerResponse(response);
          tokensRefreshed = true;
        }
        if (reload2) {
          await _reloadWithoutSaving(this);
        }
        await this.auth._persistUserIfCurrent(this);
        if (tokensRefreshed) {
          this.auth._notifyListenersIfCurrent(this);
        }
      }
      async delete() {
        if (_isFirebaseServerApp(this.auth.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));
        }
        const idToken = await this.getIdToken();
        await _logoutIfInvalidated(this, deleteAccount(this.auth, { idToken }));
        this.stsTokenManager.clearRefreshToken();
        return this.auth.signOut();
      }
      toJSON() {
        return Object.assign(Object.assign({
          uid: this.uid,
          email: this.email || void 0,
          emailVerified: this.emailVerified,
          displayName: this.displayName || void 0,
          isAnonymous: this.isAnonymous,
          photoURL: this.photoURL || void 0,
          phoneNumber: this.phoneNumber || void 0,
          tenantId: this.tenantId || void 0,
          providerData: this.providerData.map((userInfo) => Object.assign({}, userInfo)),
          stsTokenManager: this.stsTokenManager.toJSON(),
          // Redirect event ID must be maintained in case there is a pending
          // redirect event.
          _redirectEventId: this._redirectEventId
        }, this.metadata.toJSON()), {
          // Required for compatibility with the legacy SDK (go/firebase-auth-sdk-persistence-parsing):
          apiKey: this.auth.config.apiKey,
          appName: this.auth.name
        });
      }
      get refreshToken() {
        return this.stsTokenManager.refreshToken || "";
      }
      static _fromJSON(auth2, object) {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        const displayName = (_a = object.displayName) !== null && _a !== void 0 ? _a : void 0;
        const email = (_b = object.email) !== null && _b !== void 0 ? _b : void 0;
        const phoneNumber = (_c = object.phoneNumber) !== null && _c !== void 0 ? _c : void 0;
        const photoURL = (_d = object.photoURL) !== null && _d !== void 0 ? _d : void 0;
        const tenantId = (_e = object.tenantId) !== null && _e !== void 0 ? _e : void 0;
        const _redirectEventId = (_f = object._redirectEventId) !== null && _f !== void 0 ? _f : void 0;
        const createdAt = (_g = object.createdAt) !== null && _g !== void 0 ? _g : void 0;
        const lastLoginAt = (_h = object.lastLoginAt) !== null && _h !== void 0 ? _h : void 0;
        const { uid, emailVerified, isAnonymous, providerData, stsTokenManager: plainObjectTokenManager } = object;
        _assert(
          uid && plainObjectTokenManager,
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const stsTokenManager = StsTokenManager.fromJSON(this.name, plainObjectTokenManager);
        _assert(
          typeof uid === "string",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        assertStringOrUndefined(displayName, auth2.name);
        assertStringOrUndefined(email, auth2.name);
        _assert(
          typeof emailVerified === "boolean",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        _assert(
          typeof isAnonymous === "boolean",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        assertStringOrUndefined(phoneNumber, auth2.name);
        assertStringOrUndefined(photoURL, auth2.name);
        assertStringOrUndefined(tenantId, auth2.name);
        assertStringOrUndefined(_redirectEventId, auth2.name);
        assertStringOrUndefined(createdAt, auth2.name);
        assertStringOrUndefined(lastLoginAt, auth2.name);
        const user = new _UserImpl({
          uid,
          auth: auth2,
          email,
          emailVerified,
          displayName,
          isAnonymous,
          photoURL,
          phoneNumber,
          tenantId,
          stsTokenManager,
          createdAt,
          lastLoginAt
        });
        if (providerData && Array.isArray(providerData)) {
          user.providerData = providerData.map((userInfo) => Object.assign({}, userInfo));
        }
        if (_redirectEventId) {
          user._redirectEventId = _redirectEventId;
        }
        return user;
      }
      /**
       * Initialize a User from an idToken server response
       * @param auth
       * @param idTokenResponse
       */
      static async _fromIdTokenResponse(auth2, idTokenResponse, isAnonymous = false) {
        const stsTokenManager = new StsTokenManager();
        stsTokenManager.updateFromServerResponse(idTokenResponse);
        const user = new _UserImpl({
          uid: idTokenResponse.localId,
          auth: auth2,
          stsTokenManager,
          isAnonymous
        });
        await _reloadWithoutSaving(user);
        return user;
      }
      /**
       * Initialize a User from an idToken server response
       * @param auth
       * @param idTokenResponse
       */
      static async _fromGetAccountInfoResponse(auth2, response, idToken) {
        const coreAccount = response.users[0];
        _assert(
          coreAccount.localId !== void 0,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const providerData = coreAccount.providerUserInfo !== void 0 ? extractProviderData(coreAccount.providerUserInfo) : [];
        const isAnonymous = !(coreAccount.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length);
        const stsTokenManager = new StsTokenManager();
        stsTokenManager.updateFromIdToken(idToken);
        const user = new _UserImpl({
          uid: coreAccount.localId,
          auth: auth2,
          stsTokenManager,
          isAnonymous
        });
        const updates = {
          uid: coreAccount.localId,
          displayName: coreAccount.displayName || null,
          photoURL: coreAccount.photoUrl || null,
          email: coreAccount.email || null,
          emailVerified: coreAccount.emailVerified || false,
          phoneNumber: coreAccount.phoneNumber || null,
          tenantId: coreAccount.tenantId || null,
          providerData,
          metadata: new UserMetadata(coreAccount.createdAt, coreAccount.lastLoginAt),
          isAnonymous: !(coreAccount.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length)
        };
        Object.assign(user, updates);
        return user;
      }
    };
    instanceCache = /* @__PURE__ */ new Map();
    InMemoryPersistence = class {
      constructor() {
        this.type = "NONE";
        this.storage = {};
      }
      async _isAvailable() {
        return true;
      }
      async _set(key, value2) {
        this.storage[key] = value2;
      }
      async _get(key) {
        const value2 = this.storage[key];
        return value2 === void 0 ? null : value2;
      }
      async _remove(key) {
        delete this.storage[key];
      }
      _addListener(_key, _listener) {
        return;
      }
      _removeListener(_key, _listener) {
        return;
      }
    };
    InMemoryPersistence.type = "NONE";
    inMemoryPersistence = InMemoryPersistence;
    PersistenceUserManager = class _PersistenceUserManager {
      constructor(persistence, auth2, userKey) {
        this.persistence = persistence;
        this.auth = auth2;
        this.userKey = userKey;
        const { config, name: name5 } = this.auth;
        this.fullUserKey = _persistenceKeyName(this.userKey, config.apiKey, name5);
        this.fullPersistenceKey = _persistenceKeyName("persistence", config.apiKey, name5);
        this.boundEventHandler = auth2._onStorageEvent.bind(auth2);
        this.persistence._addListener(this.fullUserKey, this.boundEventHandler);
      }
      setCurrentUser(user) {
        return this.persistence._set(this.fullUserKey, user.toJSON());
      }
      async getCurrentUser() {
        const blob = await this.persistence._get(this.fullUserKey);
        return blob ? UserImpl._fromJSON(this.auth, blob) : null;
      }
      removeCurrentUser() {
        return this.persistence._remove(this.fullUserKey);
      }
      savePersistenceForRedirect() {
        return this.persistence._set(this.fullPersistenceKey, this.persistence.type);
      }
      async setPersistence(newPersistence) {
        if (this.persistence === newPersistence) {
          return;
        }
        const currentUser = await this.getCurrentUser();
        await this.removeCurrentUser();
        this.persistence = newPersistence;
        if (currentUser) {
          return this.setCurrentUser(currentUser);
        }
      }
      delete() {
        this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);
      }
      static async create(auth2, persistenceHierarchy, userKey = "authUser") {
        if (!persistenceHierarchy.length) {
          return new _PersistenceUserManager(_getInstance(inMemoryPersistence), auth2, userKey);
        }
        const availablePersistences = (await Promise.all(persistenceHierarchy.map(async (persistence) => {
          if (await persistence._isAvailable()) {
            return persistence;
          }
          return void 0;
        }))).filter((persistence) => persistence);
        let selectedPersistence = availablePersistences[0] || _getInstance(inMemoryPersistence);
        const key = _persistenceKeyName(userKey, auth2.config.apiKey, auth2.name);
        let userToMigrate = null;
        for (const persistence of persistenceHierarchy) {
          try {
            const blob = await persistence._get(key);
            if (blob) {
              const user = UserImpl._fromJSON(auth2, blob);
              if (persistence !== selectedPersistence) {
                userToMigrate = user;
              }
              selectedPersistence = persistence;
              break;
            }
          } catch (_a) {
          }
        }
        const migrationHierarchy = availablePersistences.filter((p3) => p3._shouldAllowMigration);
        if (!selectedPersistence._shouldAllowMigration || !migrationHierarchy.length) {
          return new _PersistenceUserManager(selectedPersistence, auth2, userKey);
        }
        selectedPersistence = migrationHierarchy[0];
        if (userToMigrate) {
          await selectedPersistence._set(key, userToMigrate.toJSON());
        }
        await Promise.all(persistenceHierarchy.map(async (persistence) => {
          if (persistence !== selectedPersistence) {
            try {
              await persistence._remove(key);
            } catch (_a) {
            }
          }
        }));
        return new _PersistenceUserManager(selectedPersistence, auth2, userKey);
      }
    };
    AuthMiddlewareQueue = class {
      constructor(auth2) {
        this.auth = auth2;
        this.queue = [];
      }
      pushCallback(callback, onAbort) {
        const wrappedCallback = (user) => new Promise((resolve, reject) => {
          try {
            const result = callback(user);
            resolve(result);
          } catch (e3) {
            reject(e3);
          }
        });
        wrappedCallback.onAbort = onAbort;
        this.queue.push(wrappedCallback);
        const index = this.queue.length - 1;
        return () => {
          this.queue[index] = () => Promise.resolve();
        };
      }
      async runMiddleware(nextUser) {
        if (this.auth.currentUser === nextUser) {
          return;
        }
        const onAbortStack = [];
        try {
          for (const beforeStateCallback of this.queue) {
            await beforeStateCallback(nextUser);
            if (beforeStateCallback.onAbort) {
              onAbortStack.push(beforeStateCallback.onAbort);
            }
          }
        } catch (e3) {
          onAbortStack.reverse();
          for (const onAbort of onAbortStack) {
            try {
              onAbort();
            } catch (_) {
            }
          }
          throw this.auth._errorFactory.create("login-blocked", {
            originalMessage: e3 === null || e3 === void 0 ? void 0 : e3.message
          });
        }
      }
    };
    MINIMUM_MIN_PASSWORD_LENGTH = 6;
    PasswordPolicyImpl = class {
      constructor(response) {
        var _a, _b, _c, _d;
        const responseOptions = response.customStrengthOptions;
        this.customStrengthOptions = {};
        this.customStrengthOptions.minPasswordLength = (_a = responseOptions.minPasswordLength) !== null && _a !== void 0 ? _a : MINIMUM_MIN_PASSWORD_LENGTH;
        if (responseOptions.maxPasswordLength) {
          this.customStrengthOptions.maxPasswordLength = responseOptions.maxPasswordLength;
        }
        if (responseOptions.containsLowercaseCharacter !== void 0) {
          this.customStrengthOptions.containsLowercaseLetter = responseOptions.containsLowercaseCharacter;
        }
        if (responseOptions.containsUppercaseCharacter !== void 0) {
          this.customStrengthOptions.containsUppercaseLetter = responseOptions.containsUppercaseCharacter;
        }
        if (responseOptions.containsNumericCharacter !== void 0) {
          this.customStrengthOptions.containsNumericCharacter = responseOptions.containsNumericCharacter;
        }
        if (responseOptions.containsNonAlphanumericCharacter !== void 0) {
          this.customStrengthOptions.containsNonAlphanumericCharacter = responseOptions.containsNonAlphanumericCharacter;
        }
        this.enforcementState = response.enforcementState;
        if (this.enforcementState === "ENFORCEMENT_STATE_UNSPECIFIED") {
          this.enforcementState = "OFF";
        }
        this.allowedNonAlphanumericCharacters = (_c = (_b = response.allowedNonAlphanumericCharacters) === null || _b === void 0 ? void 0 : _b.join("")) !== null && _c !== void 0 ? _c : "";
        this.forceUpgradeOnSignin = (_d = response.forceUpgradeOnSignin) !== null && _d !== void 0 ? _d : false;
        this.schemaVersion = response.schemaVersion;
      }
      validatePassword(password) {
        var _a, _b, _c, _d, _e, _f;
        const status = {
          isValid: true,
          passwordPolicy: this
        };
        this.validatePasswordLengthOptions(password, status);
        this.validatePasswordCharacterOptions(password, status);
        status.isValid && (status.isValid = (_a = status.meetsMinPasswordLength) !== null && _a !== void 0 ? _a : true);
        status.isValid && (status.isValid = (_b = status.meetsMaxPasswordLength) !== null && _b !== void 0 ? _b : true);
        status.isValid && (status.isValid = (_c = status.containsLowercaseLetter) !== null && _c !== void 0 ? _c : true);
        status.isValid && (status.isValid = (_d = status.containsUppercaseLetter) !== null && _d !== void 0 ? _d : true);
        status.isValid && (status.isValid = (_e = status.containsNumericCharacter) !== null && _e !== void 0 ? _e : true);
        status.isValid && (status.isValid = (_f = status.containsNonAlphanumericCharacter) !== null && _f !== void 0 ? _f : true);
        return status;
      }
      /**
       * Validates that the password meets the length options for the policy.
       *
       * @param password Password to validate.
       * @param status Validation status.
       */
      validatePasswordLengthOptions(password, status) {
        const minPasswordLength = this.customStrengthOptions.minPasswordLength;
        const maxPasswordLength = this.customStrengthOptions.maxPasswordLength;
        if (minPasswordLength) {
          status.meetsMinPasswordLength = password.length >= minPasswordLength;
        }
        if (maxPasswordLength) {
          status.meetsMaxPasswordLength = password.length <= maxPasswordLength;
        }
      }
      /**
       * Validates that the password meets the character options for the policy.
       *
       * @param password Password to validate.
       * @param status Validation status.
       */
      validatePasswordCharacterOptions(password, status) {
        this.updatePasswordCharacterOptionsStatuses(
          status,
          /* containsLowercaseCharacter= */
          false,
          /* containsUppercaseCharacter= */
          false,
          /* containsNumericCharacter= */
          false,
          /* containsNonAlphanumericCharacter= */
          false
        );
        let passwordChar;
        for (let i3 = 0; i3 < password.length; i3++) {
          passwordChar = password.charAt(i3);
          this.updatePasswordCharacterOptionsStatuses(
            status,
            /* containsLowercaseCharacter= */
            passwordChar >= "a" && passwordChar <= "z",
            /* containsUppercaseCharacter= */
            passwordChar >= "A" && passwordChar <= "Z",
            /* containsNumericCharacter= */
            passwordChar >= "0" && passwordChar <= "9",
            /* containsNonAlphanumericCharacter= */
            this.allowedNonAlphanumericCharacters.includes(passwordChar)
          );
        }
      }
      /**
       * Updates the running validation status with the statuses for the character options.
       * Expected to be called each time a character is processed to update each option status
       * based on the current character.
       *
       * @param status Validation status.
       * @param containsLowercaseCharacter Whether the character is a lowercase letter.
       * @param containsUppercaseCharacter Whether the character is an uppercase letter.
       * @param containsNumericCharacter Whether the character is a numeric character.
       * @param containsNonAlphanumericCharacter Whether the character is a non-alphanumeric character.
       */
      updatePasswordCharacterOptionsStatuses(status, containsLowercaseCharacter, containsUppercaseCharacter, containsNumericCharacter, containsNonAlphanumericCharacter) {
        if (this.customStrengthOptions.containsLowercaseLetter) {
          status.containsLowercaseLetter || (status.containsLowercaseLetter = containsLowercaseCharacter);
        }
        if (this.customStrengthOptions.containsUppercaseLetter) {
          status.containsUppercaseLetter || (status.containsUppercaseLetter = containsUppercaseCharacter);
        }
        if (this.customStrengthOptions.containsNumericCharacter) {
          status.containsNumericCharacter || (status.containsNumericCharacter = containsNumericCharacter);
        }
        if (this.customStrengthOptions.containsNonAlphanumericCharacter) {
          status.containsNonAlphanumericCharacter || (status.containsNonAlphanumericCharacter = containsNonAlphanumericCharacter);
        }
      }
    };
    AuthImpl = class {
      constructor(app2, heartbeatServiceProvider, appCheckServiceProvider, config) {
        this.app = app2;
        this.heartbeatServiceProvider = heartbeatServiceProvider;
        this.appCheckServiceProvider = appCheckServiceProvider;
        this.config = config;
        this.currentUser = null;
        this.emulatorConfig = null;
        this.operations = Promise.resolve();
        this.authStateSubscription = new Subscription(this);
        this.idTokenSubscription = new Subscription(this);
        this.beforeStateQueue = new AuthMiddlewareQueue(this);
        this.redirectUser = null;
        this.isProactiveRefreshEnabled = false;
        this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1;
        this._canInitEmulator = true;
        this._isInitialized = false;
        this._deleted = false;
        this._initializationPromise = null;
        this._popupRedirectResolver = null;
        this._errorFactory = _DEFAULT_AUTH_ERROR_FACTORY;
        this._agentRecaptchaConfig = null;
        this._tenantRecaptchaConfigs = {};
        this._projectPasswordPolicy = null;
        this._tenantPasswordPolicies = {};
        this.lastNotifiedUid = void 0;
        this.languageCode = null;
        this.tenantId = null;
        this.settings = { appVerificationDisabledForTesting: false };
        this.frameworks = [];
        this.name = app2.name;
        this.clientVersion = config.sdkClientVersion;
      }
      _initializeWithPersistence(persistenceHierarchy, popupRedirectResolver) {
        if (popupRedirectResolver) {
          this._popupRedirectResolver = _getInstance(popupRedirectResolver);
        }
        this._initializationPromise = this.queue(async () => {
          var _a, _b;
          if (this._deleted) {
            return;
          }
          this.persistenceManager = await PersistenceUserManager.create(this, persistenceHierarchy);
          if (this._deleted) {
            return;
          }
          if ((_a = this._popupRedirectResolver) === null || _a === void 0 ? void 0 : _a._shouldInitProactively) {
            try {
              await this._popupRedirectResolver._initialize(this);
            } catch (e3) {
            }
          }
          await this.initializeCurrentUser(popupRedirectResolver);
          this.lastNotifiedUid = ((_b = this.currentUser) === null || _b === void 0 ? void 0 : _b.uid) || null;
          if (this._deleted) {
            return;
          }
          this._isInitialized = true;
        });
        return this._initializationPromise;
      }
      /**
       * If the persistence is changed in another window, the user manager will let us know
       */
      async _onStorageEvent() {
        if (this._deleted) {
          return;
        }
        const user = await this.assertedPersistence.getCurrentUser();
        if (!this.currentUser && !user) {
          return;
        }
        if (this.currentUser && user && this.currentUser.uid === user.uid) {
          this._currentUser._assign(user);
          await this.currentUser.getIdToken();
          return;
        }
        await this._updateCurrentUser(
          user,
          /* skipBeforeStateCallbacks */
          true
        );
      }
      async initializeCurrentUserFromIdToken(idToken) {
        try {
          const response = await getAccountInfo(this, { idToken });
          const user = await UserImpl._fromGetAccountInfoResponse(this, response, idToken);
          await this.directlySetCurrentUser(user);
        } catch (err) {
          console.warn("FirebaseServerApp could not login user with provided authIdToken: ", err);
          await this.directlySetCurrentUser(null);
        }
      }
      async initializeCurrentUser(popupRedirectResolver) {
        var _a;
        if (_isFirebaseServerApp(this.app)) {
          const idToken = this.app.settings.authIdToken;
          if (idToken) {
            return new Promise((resolve) => {
              setTimeout(() => this.initializeCurrentUserFromIdToken(idToken).then(resolve, resolve));
            });
          } else {
            return this.directlySetCurrentUser(null);
          }
        }
        const previouslyStoredUser = await this.assertedPersistence.getCurrentUser();
        let futureCurrentUser = previouslyStoredUser;
        let needsTocheckMiddleware = false;
        if (popupRedirectResolver && this.config.authDomain) {
          await this.getOrInitRedirectPersistenceManager();
          const redirectUserEventId = (_a = this.redirectUser) === null || _a === void 0 ? void 0 : _a._redirectEventId;
          const storedUserEventId = futureCurrentUser === null || futureCurrentUser === void 0 ? void 0 : futureCurrentUser._redirectEventId;
          const result = await this.tryRedirectSignIn(popupRedirectResolver);
          if ((!redirectUserEventId || redirectUserEventId === storedUserEventId) && (result === null || result === void 0 ? void 0 : result.user)) {
            futureCurrentUser = result.user;
            needsTocheckMiddleware = true;
          }
        }
        if (!futureCurrentUser) {
          return this.directlySetCurrentUser(null);
        }
        if (!futureCurrentUser._redirectEventId) {
          if (needsTocheckMiddleware) {
            try {
              await this.beforeStateQueue.runMiddleware(futureCurrentUser);
            } catch (e3) {
              futureCurrentUser = previouslyStoredUser;
              this._popupRedirectResolver._overrideRedirectResult(this, () => Promise.reject(e3));
            }
          }
          if (futureCurrentUser) {
            return this.reloadAndSetCurrentUserOrClear(futureCurrentUser);
          } else {
            return this.directlySetCurrentUser(null);
          }
        }
        _assert(
          this._popupRedirectResolver,
          this,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        await this.getOrInitRedirectPersistenceManager();
        if (this.redirectUser && this.redirectUser._redirectEventId === futureCurrentUser._redirectEventId) {
          return this.directlySetCurrentUser(futureCurrentUser);
        }
        return this.reloadAndSetCurrentUserOrClear(futureCurrentUser);
      }
      async tryRedirectSignIn(redirectResolver) {
        let result = null;
        try {
          result = await this._popupRedirectResolver._completeRedirectFn(this, redirectResolver, true);
        } catch (e3) {
          await this._setRedirectUser(null);
        }
        return result;
      }
      async reloadAndSetCurrentUserOrClear(user) {
        try {
          await _reloadWithoutSaving(user);
        } catch (e3) {
          if ((e3 === null || e3 === void 0 ? void 0 : e3.code) !== `auth/${"network-request-failed"}`) {
            return this.directlySetCurrentUser(null);
          }
        }
        return this.directlySetCurrentUser(user);
      }
      useDeviceLanguage() {
        this.languageCode = _getUserLanguage();
      }
      async _delete() {
        this._deleted = true;
      }
      async updateCurrentUser(userExtern) {
        if (_isFirebaseServerApp(this.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
        }
        const user = userExtern ? getModularInstance(userExtern) : null;
        if (user) {
          _assert(
            user.auth.config.apiKey === this.config.apiKey,
            this,
            "invalid-user-token"
            /* AuthErrorCode.INVALID_AUTH */
          );
        }
        return this._updateCurrentUser(user && user._clone(this));
      }
      async _updateCurrentUser(user, skipBeforeStateCallbacks = false) {
        if (this._deleted) {
          return;
        }
        if (user) {
          _assert(
            this.tenantId === user.tenantId,
            this,
            "tenant-id-mismatch"
            /* AuthErrorCode.TENANT_ID_MISMATCH */
          );
        }
        if (!skipBeforeStateCallbacks) {
          await this.beforeStateQueue.runMiddleware(user);
        }
        return this.queue(async () => {
          await this.directlySetCurrentUser(user);
          this.notifyAuthListeners();
        });
      }
      async signOut() {
        if (_isFirebaseServerApp(this.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
        }
        await this.beforeStateQueue.runMiddleware(null);
        if (this.redirectPersistenceManager || this._popupRedirectResolver) {
          await this._setRedirectUser(null);
        }
        return this._updateCurrentUser(
          null,
          /* skipBeforeStateCallbacks */
          true
        );
      }
      setPersistence(persistence) {
        if (_isFirebaseServerApp(this.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
        }
        return this.queue(async () => {
          await this.assertedPersistence.setPersistence(_getInstance(persistence));
        });
      }
      _getRecaptchaConfig() {
        if (this.tenantId == null) {
          return this._agentRecaptchaConfig;
        } else {
          return this._tenantRecaptchaConfigs[this.tenantId];
        }
      }
      async validatePassword(password) {
        if (!this._getPasswordPolicyInternal()) {
          await this._updatePasswordPolicy();
        }
        const passwordPolicy = this._getPasswordPolicyInternal();
        if (passwordPolicy.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION) {
          return Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version", {}));
        }
        return passwordPolicy.validatePassword(password);
      }
      _getPasswordPolicyInternal() {
        if (this.tenantId === null) {
          return this._projectPasswordPolicy;
        } else {
          return this._tenantPasswordPolicies[this.tenantId];
        }
      }
      async _updatePasswordPolicy() {
        const response = await _getPasswordPolicy(this);
        const passwordPolicy = new PasswordPolicyImpl(response);
        if (this.tenantId === null) {
          this._projectPasswordPolicy = passwordPolicy;
        } else {
          this._tenantPasswordPolicies[this.tenantId] = passwordPolicy;
        }
      }
      _getPersistence() {
        return this.assertedPersistence.persistence.type;
      }
      _updateErrorMap(errorMap) {
        this._errorFactory = new ErrorFactory("auth", "Firebase", errorMap());
      }
      onAuthStateChanged(nextOrObserver, error2, completed) {
        return this.registerStateListener(this.authStateSubscription, nextOrObserver, error2, completed);
      }
      beforeAuthStateChanged(callback, onAbort) {
        return this.beforeStateQueue.pushCallback(callback, onAbort);
      }
      onIdTokenChanged(nextOrObserver, error2, completed) {
        return this.registerStateListener(this.idTokenSubscription, nextOrObserver, error2, completed);
      }
      authStateReady() {
        return new Promise((resolve, reject) => {
          if (this.currentUser) {
            resolve();
          } else {
            const unsubscribe = this.onAuthStateChanged(() => {
              unsubscribe();
              resolve();
            }, reject);
          }
        });
      }
      /**
       * Revokes the given access token. Currently only supports Apple OAuth access tokens.
       */
      async revokeAccessToken(token) {
        if (this.currentUser) {
          const idToken = await this.currentUser.getIdToken();
          const request = {
            providerId: "apple.com",
            tokenType: "ACCESS_TOKEN",
            token,
            idToken
          };
          if (this.tenantId != null) {
            request.tenantId = this.tenantId;
          }
          await revokeToken(this, request);
        }
      }
      toJSON() {
        var _a;
        return {
          apiKey: this.config.apiKey,
          authDomain: this.config.authDomain,
          appName: this.name,
          currentUser: (_a = this._currentUser) === null || _a === void 0 ? void 0 : _a.toJSON()
        };
      }
      async _setRedirectUser(user, popupRedirectResolver) {
        const redirectManager = await this.getOrInitRedirectPersistenceManager(popupRedirectResolver);
        return user === null ? redirectManager.removeCurrentUser() : redirectManager.setCurrentUser(user);
      }
      async getOrInitRedirectPersistenceManager(popupRedirectResolver) {
        if (!this.redirectPersistenceManager) {
          const resolver = popupRedirectResolver && _getInstance(popupRedirectResolver) || this._popupRedirectResolver;
          _assert(
            resolver,
            this,
            "argument-error"
            /* AuthErrorCode.ARGUMENT_ERROR */
          );
          this.redirectPersistenceManager = await PersistenceUserManager.create(
            this,
            [_getInstance(resolver._redirectPersistence)],
            "redirectUser"
            /* KeyName.REDIRECT_USER */
          );
          this.redirectUser = await this.redirectPersistenceManager.getCurrentUser();
        }
        return this.redirectPersistenceManager;
      }
      async _redirectUserForId(id) {
        var _a, _b;
        if (this._isInitialized) {
          await this.queue(async () => {
          });
        }
        if (((_a = this._currentUser) === null || _a === void 0 ? void 0 : _a._redirectEventId) === id) {
          return this._currentUser;
        }
        if (((_b = this.redirectUser) === null || _b === void 0 ? void 0 : _b._redirectEventId) === id) {
          return this.redirectUser;
        }
        return null;
      }
      async _persistUserIfCurrent(user) {
        if (user === this.currentUser) {
          return this.queue(async () => this.directlySetCurrentUser(user));
        }
      }
      /** Notifies listeners only if the user is current */
      _notifyListenersIfCurrent(user) {
        if (user === this.currentUser) {
          this.notifyAuthListeners();
        }
      }
      _key() {
        return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;
      }
      _startProactiveRefresh() {
        this.isProactiveRefreshEnabled = true;
        if (this.currentUser) {
          this._currentUser._startProactiveRefresh();
        }
      }
      _stopProactiveRefresh() {
        this.isProactiveRefreshEnabled = false;
        if (this.currentUser) {
          this._currentUser._stopProactiveRefresh();
        }
      }
      /** Returns the current user cast as the internal type */
      get _currentUser() {
        return this.currentUser;
      }
      notifyAuthListeners() {
        var _a, _b;
        if (!this._isInitialized) {
          return;
        }
        this.idTokenSubscription.next(this.currentUser);
        const currentUid = (_b = (_a = this.currentUser) === null || _a === void 0 ? void 0 : _a.uid) !== null && _b !== void 0 ? _b : null;
        if (this.lastNotifiedUid !== currentUid) {
          this.lastNotifiedUid = currentUid;
          this.authStateSubscription.next(this.currentUser);
        }
      }
      registerStateListener(subscription, nextOrObserver, error2, completed) {
        if (this._deleted) {
          return () => {
          };
        }
        const cb = typeof nextOrObserver === "function" ? nextOrObserver : nextOrObserver.next.bind(nextOrObserver);
        let isUnsubscribed = false;
        const promise = this._isInitialized ? Promise.resolve() : this._initializationPromise;
        _assert(
          promise,
          this,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        promise.then(() => {
          if (isUnsubscribed) {
            return;
          }
          cb(this.currentUser);
        });
        if (typeof nextOrObserver === "function") {
          const unsubscribe = subscription.addObserver(nextOrObserver, error2, completed);
          return () => {
            isUnsubscribed = true;
            unsubscribe();
          };
        } else {
          const unsubscribe = subscription.addObserver(nextOrObserver);
          return () => {
            isUnsubscribed = true;
            unsubscribe();
          };
        }
      }
      /**
       * Unprotected (from race conditions) method to set the current user. This
       * should only be called from within a queued callback. This is necessary
       * because the queue shouldn't rely on another queued callback.
       */
      async directlySetCurrentUser(user) {
        if (this.currentUser && this.currentUser !== user) {
          this._currentUser._stopProactiveRefresh();
        }
        if (user && this.isProactiveRefreshEnabled) {
          user._startProactiveRefresh();
        }
        this.currentUser = user;
        if (user) {
          await this.assertedPersistence.setCurrentUser(user);
        } else {
          await this.assertedPersistence.removeCurrentUser();
        }
      }
      queue(action) {
        this.operations = this.operations.then(action, action);
        return this.operations;
      }
      get assertedPersistence() {
        _assert(
          this.persistenceManager,
          this,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return this.persistenceManager;
      }
      _logFramework(framework) {
        if (!framework || this.frameworks.includes(framework)) {
          return;
        }
        this.frameworks.push(framework);
        this.frameworks.sort();
        this.clientVersion = _getClientVersion(this.config.clientPlatform, this._getFrameworks());
      }
      _getFrameworks() {
        return this.frameworks;
      }
      async _getAdditionalHeaders() {
        var _a;
        const headers = {
          [
            "X-Client-Version"
            /* HttpHeader.X_CLIENT_VERSION */
          ]: this.clientVersion
        };
        if (this.app.options.appId) {
          headers[
            "X-Firebase-gmpid"
            /* HttpHeader.X_FIREBASE_GMPID */
          ] = this.app.options.appId;
        }
        const heartbeatsHeader = await ((_a = this.heartbeatServiceProvider.getImmediate({
          optional: true
        })) === null || _a === void 0 ? void 0 : _a.getHeartbeatsHeader());
        if (heartbeatsHeader) {
          headers[
            "X-Firebase-Client"
            /* HttpHeader.X_FIREBASE_CLIENT */
          ] = heartbeatsHeader;
        }
        const appCheckToken = await this._getAppCheckToken();
        if (appCheckToken) {
          headers[
            "X-Firebase-AppCheck"
            /* HttpHeader.X_FIREBASE_APP_CHECK */
          ] = appCheckToken;
        }
        return headers;
      }
      async _getAppCheckToken() {
        var _a;
        const appCheckTokenResult = await ((_a = this.appCheckServiceProvider.getImmediate({ optional: true })) === null || _a === void 0 ? void 0 : _a.getToken());
        if (appCheckTokenResult === null || appCheckTokenResult === void 0 ? void 0 : appCheckTokenResult.error) {
          _logWarn(`Error while retrieving App Check token: ${appCheckTokenResult.error}`);
        }
        return appCheckTokenResult === null || appCheckTokenResult === void 0 ? void 0 : appCheckTokenResult.token;
      }
    };
    Subscription = class {
      constructor(auth2) {
        this.auth = auth2;
        this.observer = null;
        this.addObserver = createSubscribe((observer) => this.observer = observer);
      }
      get next() {
        _assert(
          this.observer,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return this.observer.next.bind(this.observer);
      }
    };
    externalJSProvider = {
      async loadJS() {
        throw new Error("Unable to load external scripts");
      },
      recaptchaV2Script: "",
      recaptchaEnterpriseScript: "",
      gapiScript: ""
    };
    RECAPTCHA_ENTERPRISE_VERIFIER_TYPE = "recaptcha-enterprise";
    FAKE_TOKEN = "NO_RECAPTCHA";
    RecaptchaEnterpriseVerifier = class {
      /**
       *
       * @param authExtern - The corresponding Firebase {@link Auth} instance.
       *
       */
      constructor(authExtern) {
        this.type = RECAPTCHA_ENTERPRISE_VERIFIER_TYPE;
        this.auth = _castAuth(authExtern);
      }
      /**
       * Executes the verification process.
       *
       * @returns A Promise for a token that can be used to assert the validity of a request.
       */
      async verify(action = "verify", forceRefresh = false) {
        async function retrieveSiteKey(auth2) {
          if (!forceRefresh) {
            if (auth2.tenantId == null && auth2._agentRecaptchaConfig != null) {
              return auth2._agentRecaptchaConfig.siteKey;
            }
            if (auth2.tenantId != null && auth2._tenantRecaptchaConfigs[auth2.tenantId] !== void 0) {
              return auth2._tenantRecaptchaConfigs[auth2.tenantId].siteKey;
            }
          }
          return new Promise(async (resolve, reject) => {
            getRecaptchaConfig(auth2, {
              clientType: "CLIENT_TYPE_WEB",
              version: "RECAPTCHA_ENTERPRISE"
              /* RecaptchaVersion.ENTERPRISE */
            }).then((response) => {
              if (response.recaptchaKey === void 0) {
                reject(new Error("recaptcha Enterprise site key undefined"));
              } else {
                const config = new RecaptchaConfig(response);
                if (auth2.tenantId == null) {
                  auth2._agentRecaptchaConfig = config;
                } else {
                  auth2._tenantRecaptchaConfigs[auth2.tenantId] = config;
                }
                return resolve(config.siteKey);
              }
            }).catch((error2) => {
              reject(error2);
            });
          });
        }
        function retrieveRecaptchaToken(siteKey, resolve, reject) {
          const grecaptcha = window.grecaptcha;
          if (isEnterprise(grecaptcha)) {
            grecaptcha.enterprise.ready(() => {
              grecaptcha.enterprise.execute(siteKey, { action }).then((token) => {
                resolve(token);
              }).catch(() => {
                resolve(FAKE_TOKEN);
              });
            });
          } else {
            reject(Error("No reCAPTCHA enterprise script loaded."));
          }
        }
        return new Promise((resolve, reject) => {
          retrieveSiteKey(this.auth).then((siteKey) => {
            if (!forceRefresh && isEnterprise(window.grecaptcha)) {
              retrieveRecaptchaToken(siteKey, resolve, reject);
            } else {
              if (typeof window === "undefined") {
                reject(new Error("RecaptchaVerifier is only supported in browser"));
                return;
              }
              let url = _recaptchaEnterpriseScriptUrl();
              if (url.length !== 0) {
                url += siteKey;
              }
              _loadJS(url).then(() => {
                retrieveRecaptchaToken(siteKey, resolve, reject);
              }).catch((error2) => {
                reject(error2);
              });
            }
          }).catch((error2) => {
            reject(error2);
          });
        });
      }
    };
    AuthCredential = class {
      /** @internal */
      constructor(providerId, signInMethod) {
        this.providerId = providerId;
        this.signInMethod = signInMethod;
      }
      /**
       * Returns a JSON-serializable representation of this object.
       *
       * @returns a JSON-serializable representation of this object.
       */
      toJSON() {
        return debugFail("not implemented");
      }
      /** @internal */
      _getIdTokenResponse(_auth) {
        return debugFail("not implemented");
      }
      /** @internal */
      _linkToIdToken(_auth, _idToken) {
        return debugFail("not implemented");
      }
      /** @internal */
      _getReauthenticationResolver(_auth) {
        return debugFail("not implemented");
      }
    };
    EmailAuthCredential = class _EmailAuthCredential extends AuthCredential {
      /** @internal */
      constructor(_email, _password, signInMethod, _tenantId = null) {
        super("password", signInMethod);
        this._email = _email;
        this._password = _password;
        this._tenantId = _tenantId;
      }
      /** @internal */
      static _fromEmailAndPassword(email, password) {
        return new _EmailAuthCredential(
          email,
          password,
          "password"
          /* SignInMethod.EMAIL_PASSWORD */
        );
      }
      /** @internal */
      static _fromEmailAndCode(email, oobCode, tenantId = null) {
        return new _EmailAuthCredential(email, oobCode, "emailLink", tenantId);
      }
      /** {@inheritdoc AuthCredential.toJSON} */
      toJSON() {
        return {
          email: this._email,
          password: this._password,
          signInMethod: this.signInMethod,
          tenantId: this._tenantId
        };
      }
      /**
       * Static method to deserialize a JSON representation of an object into an {@link  AuthCredential}.
       *
       * @param json - Either `object` or the stringified representation of the object. When string is
       * provided, `JSON.parse` would be called first.
       *
       * @returns If the JSON input does not represent an {@link AuthCredential}, null is returned.
       */
      static fromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        if ((obj === null || obj === void 0 ? void 0 : obj.email) && (obj === null || obj === void 0 ? void 0 : obj.password)) {
          if (obj.signInMethod === "password") {
            return this._fromEmailAndPassword(obj.email, obj.password);
          } else if (obj.signInMethod === "emailLink") {
            return this._fromEmailAndCode(obj.email, obj.password, obj.tenantId);
          }
        }
        return null;
      }
      /** @internal */
      async _getIdTokenResponse(auth2) {
        switch (this.signInMethod) {
          case "password":
            const request = {
              returnSecureToken: true,
              email: this._email,
              password: this._password,
              clientType: "CLIENT_TYPE_WEB"
              /* RecaptchaClientType.WEB */
            };
            return handleRecaptchaFlow(auth2, request, "signInWithPassword", signInWithPassword);
          case "emailLink":
            return signInWithEmailLink$1(auth2, {
              email: this._email,
              oobCode: this._password
            });
          default:
            _fail(
              auth2,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
        }
      }
      /** @internal */
      async _linkToIdToken(auth2, idToken) {
        switch (this.signInMethod) {
          case "password":
            const request = {
              idToken,
              returnSecureToken: true,
              email: this._email,
              password: this._password,
              clientType: "CLIENT_TYPE_WEB"
              /* RecaptchaClientType.WEB */
            };
            return handleRecaptchaFlow(auth2, request, "signUpPassword", linkEmailPassword);
          case "emailLink":
            return signInWithEmailLinkForLinking(auth2, {
              idToken,
              email: this._email,
              oobCode: this._password
            });
          default:
            _fail(
              auth2,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
        }
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        return this._getIdTokenResponse(auth2);
      }
    };
    IDP_REQUEST_URI$1 = "http://localhost";
    OAuthCredential = class _OAuthCredential extends AuthCredential {
      constructor() {
        super(...arguments);
        this.pendingToken = null;
      }
      /** @internal */
      static _fromParams(params) {
        const cred = new _OAuthCredential(params.providerId, params.signInMethod);
        if (params.idToken || params.accessToken) {
          if (params.idToken) {
            cred.idToken = params.idToken;
          }
          if (params.accessToken) {
            cred.accessToken = params.accessToken;
          }
          if (params.nonce && !params.pendingToken) {
            cred.nonce = params.nonce;
          }
          if (params.pendingToken) {
            cred.pendingToken = params.pendingToken;
          }
        } else if (params.oauthToken && params.oauthTokenSecret) {
          cred.accessToken = params.oauthToken;
          cred.secret = params.oauthTokenSecret;
        } else {
          _fail(
            "argument-error"
            /* AuthErrorCode.ARGUMENT_ERROR */
          );
        }
        return cred;
      }
      /** {@inheritdoc AuthCredential.toJSON}  */
      toJSON() {
        return {
          idToken: this.idToken,
          accessToken: this.accessToken,
          secret: this.secret,
          nonce: this.nonce,
          pendingToken: this.pendingToken,
          providerId: this.providerId,
          signInMethod: this.signInMethod
        };
      }
      /**
       * Static method to deserialize a JSON representation of an object into an
       * {@link  AuthCredential}.
       *
       * @param json - Input can be either Object or the stringified representation of the object.
       * When string is provided, JSON.parse would be called first.
       *
       * @returns If the JSON input does not represent an {@link  AuthCredential}, null is returned.
       */
      static fromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        const { providerId, signInMethod } = obj, rest = __rest(obj, ["providerId", "signInMethod"]);
        if (!providerId || !signInMethod) {
          return null;
        }
        const cred = new _OAuthCredential(providerId, signInMethod);
        cred.idToken = rest.idToken || void 0;
        cred.accessToken = rest.accessToken || void 0;
        cred.secret = rest.secret;
        cred.nonce = rest.nonce;
        cred.pendingToken = rest.pendingToken || null;
        return cred;
      }
      /** @internal */
      _getIdTokenResponse(auth2) {
        const request = this.buildRequest();
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _linkToIdToken(auth2, idToken) {
        const request = this.buildRequest();
        request.idToken = idToken;
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        const request = this.buildRequest();
        request.autoCreate = false;
        return signInWithIdp(auth2, request);
      }
      buildRequest() {
        const request = {
          requestUri: IDP_REQUEST_URI$1,
          returnSecureToken: true
        };
        if (this.pendingToken) {
          request.pendingToken = this.pendingToken;
        } else {
          const postBody = {};
          if (this.idToken) {
            postBody["id_token"] = this.idToken;
          }
          if (this.accessToken) {
            postBody["access_token"] = this.accessToken;
          }
          if (this.secret) {
            postBody["oauth_token_secret"] = this.secret;
          }
          postBody["providerId"] = this.providerId;
          if (this.nonce && !this.pendingToken) {
            postBody["nonce"] = this.nonce;
          }
          request.postBody = querystring(postBody);
        }
        return request;
      }
    };
    VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_ = {
      [
        "USER_NOT_FOUND"
        /* ServerError.USER_NOT_FOUND */
      ]: "user-not-found"
      /* AuthErrorCode.USER_DELETED */
    };
    PhoneAuthCredential = class _PhoneAuthCredential extends AuthCredential {
      constructor(params) {
        super(
          "phone",
          "phone"
          /* SignInMethod.PHONE */
        );
        this.params = params;
      }
      /** @internal */
      static _fromVerification(verificationId, verificationCode) {
        return new _PhoneAuthCredential({ verificationId, verificationCode });
      }
      /** @internal */
      static _fromTokenResponse(phoneNumber, temporaryProof) {
        return new _PhoneAuthCredential({ phoneNumber, temporaryProof });
      }
      /** @internal */
      _getIdTokenResponse(auth2) {
        return signInWithPhoneNumber$1(auth2, this._makeVerificationRequest());
      }
      /** @internal */
      _linkToIdToken(auth2, idToken) {
        return linkWithPhoneNumber$1(auth2, Object.assign({ idToken }, this._makeVerificationRequest()));
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        return verifyPhoneNumberForExisting(auth2, this._makeVerificationRequest());
      }
      /** @internal */
      _makeVerificationRequest() {
        const { temporaryProof, phoneNumber, verificationId, verificationCode } = this.params;
        if (temporaryProof && phoneNumber) {
          return { temporaryProof, phoneNumber };
        }
        return {
          sessionInfo: verificationId,
          code: verificationCode
        };
      }
      /** {@inheritdoc AuthCredential.toJSON} */
      toJSON() {
        const obj = {
          providerId: this.providerId
        };
        if (this.params.phoneNumber) {
          obj.phoneNumber = this.params.phoneNumber;
        }
        if (this.params.temporaryProof) {
          obj.temporaryProof = this.params.temporaryProof;
        }
        if (this.params.verificationCode) {
          obj.verificationCode = this.params.verificationCode;
        }
        if (this.params.verificationId) {
          obj.verificationId = this.params.verificationId;
        }
        return obj;
      }
      /** Generates a phone credential based on a plain object or a JSON string. */
      static fromJSON(json2) {
        if (typeof json2 === "string") {
          json2 = JSON.parse(json2);
        }
        const { verificationId, verificationCode, phoneNumber, temporaryProof } = json2;
        if (!verificationCode && !verificationId && !phoneNumber && !temporaryProof) {
          return null;
        }
        return new _PhoneAuthCredential({
          verificationId,
          verificationCode,
          phoneNumber,
          temporaryProof
        });
      }
    };
    ActionCodeURL = class _ActionCodeURL {
      /**
       * @param actionLink - The link from which to extract the URL.
       * @returns The {@link ActionCodeURL} object, or null if the link is invalid.
       *
       * @internal
       */
      constructor(actionLink) {
        var _a, _b, _c, _d, _e, _f;
        const searchParams = querystringDecode(extractQuerystring(actionLink));
        const apiKey = (_a = searchParams[
          "apiKey"
          /* QueryField.API_KEY */
        ]) !== null && _a !== void 0 ? _a : null;
        const code = (_b = searchParams[
          "oobCode"
          /* QueryField.CODE */
        ]) !== null && _b !== void 0 ? _b : null;
        const operation = parseMode((_c = searchParams[
          "mode"
          /* QueryField.MODE */
        ]) !== null && _c !== void 0 ? _c : null);
        _assert(
          apiKey && code && operation,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        this.apiKey = apiKey;
        this.operation = operation;
        this.code = code;
        this.continueUrl = (_d = searchParams[
          "continueUrl"
          /* QueryField.CONTINUE_URL */
        ]) !== null && _d !== void 0 ? _d : null;
        this.languageCode = (_e = searchParams[
          "languageCode"
          /* QueryField.LANGUAGE_CODE */
        ]) !== null && _e !== void 0 ? _e : null;
        this.tenantId = (_f = searchParams[
          "tenantId"
          /* QueryField.TENANT_ID */
        ]) !== null && _f !== void 0 ? _f : null;
      }
      /**
       * Parses the email action link string and returns an {@link ActionCodeURL} if the link is valid,
       * otherwise returns null.
       *
       * @param link  - The email action link string.
       * @returns The {@link ActionCodeURL} object, or null if the link is invalid.
       *
       * @public
       */
      static parseLink(link) {
        const actionLink = parseDeepLink(link);
        try {
          return new _ActionCodeURL(actionLink);
        } catch (_a) {
          return null;
        }
      }
    };
    EmailAuthProvider = class _EmailAuthProvider {
      constructor() {
        this.providerId = _EmailAuthProvider.PROVIDER_ID;
      }
      /**
       * Initialize an {@link AuthCredential} using an email and password.
       *
       * @example
       * ```javascript
       * const authCredential = EmailAuthProvider.credential(email, password);
       * const userCredential = await signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * ```javascript
       * const userCredential = await signInWithEmailAndPassword(auth, email, password);
       * ```
       *
       * @param email - Email address.
       * @param password - User account password.
       * @returns The auth provider credential.
       */
      static credential(email, password) {
        return EmailAuthCredential._fromEmailAndPassword(email, password);
      }
      /**
       * Initialize an {@link AuthCredential} using an email and an email link after a sign in with
       * email link operation.
       *
       * @example
       * ```javascript
       * const authCredential = EmailAuthProvider.credentialWithLink(auth, email, emailLink);
       * const userCredential = await signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * ```javascript
       * await sendSignInLinkToEmail(auth, email);
       * // Obtain emailLink from user.
       * const userCredential = await signInWithEmailLink(auth, email, emailLink);
       * ```
       *
       * @param auth - The {@link Auth} instance used to verify the link.
       * @param email - Email address.
       * @param emailLink - Sign-in email link.
       * @returns - The auth provider credential.
       */
      static credentialWithLink(email, emailLink) {
        const actionCodeUrl = ActionCodeURL.parseLink(emailLink);
        _assert(
          actionCodeUrl,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return EmailAuthCredential._fromEmailAndCode(email, actionCodeUrl.code, actionCodeUrl.tenantId);
      }
    };
    EmailAuthProvider.PROVIDER_ID = "password";
    EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD = "password";
    EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD = "emailLink";
    FederatedAuthProvider = class {
      /**
       * Constructor for generic OAuth providers.
       *
       * @param providerId - Provider for which credentials should be generated.
       */
      constructor(providerId) {
        this.providerId = providerId;
        this.defaultLanguageCode = null;
        this.customParameters = {};
      }
      /**
       * Set the language gode.
       *
       * @param languageCode - language code
       */
      setDefaultLanguage(languageCode) {
        this.defaultLanguageCode = languageCode;
      }
      /**
       * Sets the OAuth custom parameters to pass in an OAuth request for popup and redirect sign-in
       * operations.
       *
       * @remarks
       * For a detailed list, check the reserved required OAuth 2.0 parameters such as `client_id`,
       * `redirect_uri`, `scope`, `response_type`, and `state` are not allowed and will be ignored.
       *
       * @param customOAuthParameters - The custom OAuth parameters to pass in the OAuth request.
       */
      setCustomParameters(customOAuthParameters) {
        this.customParameters = customOAuthParameters;
        return this;
      }
      /**
       * Retrieve the current list of {@link CustomParameters}.
       */
      getCustomParameters() {
        return this.customParameters;
      }
    };
    BaseOAuthProvider = class extends FederatedAuthProvider {
      constructor() {
        super(...arguments);
        this.scopes = [];
      }
      /**
       * Add an OAuth scope to the credential.
       *
       * @param scope - Provider OAuth scope to add.
       */
      addScope(scope) {
        if (!this.scopes.includes(scope)) {
          this.scopes.push(scope);
        }
        return this;
      }
      /**
       * Retrieve the current list of OAuth scopes.
       */
      getScopes() {
        return [...this.scopes];
      }
    };
    OAuthProvider = class _OAuthProvider extends BaseOAuthProvider {
      /**
       * Creates an {@link OAuthCredential} from a JSON string or a plain object.
       * @param json - A plain object or a JSON string
       */
      static credentialFromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        _assert(
          "providerId" in obj && "signInMethod" in obj,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return OAuthCredential._fromParams(obj);
      }
      /**
       * Creates a {@link OAuthCredential} from a generic OAuth provider's access token or ID token.
       *
       * @remarks
       * The raw nonce is required when an ID token with a nonce field is provided. The SHA-256 hash of
       * the raw nonce must match the nonce field in the ID token.
       *
       * @example
       * ```javascript
       * // `googleUser` from the onsuccess Google Sign In callback.
       * // Initialize a generate OAuth provider with a `google.com` providerId.
       * const provider = new OAuthProvider('google.com');
       * const credential = provider.credential({
       *   idToken: googleUser.getAuthResponse().id_token,
       * });
       * const result = await signInWithCredential(credential);
       * ```
       *
       * @param params - Either the options object containing the ID token, access token and raw nonce
       * or the ID token string.
       */
      credential(params) {
        return this._credential(Object.assign(Object.assign({}, params), { nonce: params.rawNonce }));
      }
      /** An internal credential method that accepts more permissive options */
      _credential(params) {
        _assert(
          params.idToken || params.accessToken,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return OAuthCredential._fromParams(Object.assign(Object.assign({}, params), { providerId: this.providerId, signInMethod: this.providerId }));
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _OAuthProvider.oauthCredentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _OAuthProvider.oauthCredentialFromTaggedObject(error2.customData || {});
      }
      static oauthCredentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { oauthIdToken, oauthAccessToken, oauthTokenSecret, pendingToken, nonce, providerId } = tokenResponse;
        if (!oauthAccessToken && !oauthTokenSecret && !oauthIdToken && !pendingToken) {
          return null;
        }
        if (!providerId) {
          return null;
        }
        try {
          return new _OAuthProvider(providerId)._credential({
            idToken: oauthIdToken,
            accessToken: oauthAccessToken,
            nonce,
            pendingToken
          });
        } catch (e3) {
          return null;
        }
      }
    };
    FacebookAuthProvider = class _FacebookAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "facebook.com"
          /* ProviderId.FACEBOOK */
        );
      }
      /**
       * Creates a credential for Facebook.
       *
       * @example
       * ```javascript
       * // `event` from the Facebook auth.authResponseChange callback.
       * const credential = FacebookAuthProvider.credential(event.authResponse.accessToken);
       * const result = await signInWithCredential(credential);
       * ```
       *
       * @param accessToken - Facebook access token.
       */
      static credential(accessToken) {
        return OAuthCredential._fromParams({
          providerId: _FacebookAuthProvider.PROVIDER_ID,
          signInMethod: _FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,
          accessToken
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _FacebookAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _FacebookAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse || !("oauthAccessToken" in tokenResponse)) {
          return null;
        }
        if (!tokenResponse.oauthAccessToken) {
          return null;
        }
        try {
          return _FacebookAuthProvider.credential(tokenResponse.oauthAccessToken);
        } catch (_a) {
          return null;
        }
      }
    };
    FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD = "facebook.com";
    FacebookAuthProvider.PROVIDER_ID = "facebook.com";
    GoogleAuthProvider = class _GoogleAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "google.com"
          /* ProviderId.GOOGLE */
        );
        this.addScope("profile");
      }
      /**
       * Creates a credential for Google. At least one of ID token and access token is required.
       *
       * @example
       * ```javascript
       * // \`googleUser\` from the onsuccess Google Sign In callback.
       * const credential = GoogleAuthProvider.credential(googleUser.getAuthResponse().id_token);
       * const result = await signInWithCredential(credential);
       * ```
       *
       * @param idToken - Google ID token.
       * @param accessToken - Google access token.
       */
      static credential(idToken, accessToken) {
        return OAuthCredential._fromParams({
          providerId: _GoogleAuthProvider.PROVIDER_ID,
          signInMethod: _GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,
          idToken,
          accessToken
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _GoogleAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _GoogleAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { oauthIdToken, oauthAccessToken } = tokenResponse;
        if (!oauthIdToken && !oauthAccessToken) {
          return null;
        }
        try {
          return _GoogleAuthProvider.credential(oauthIdToken, oauthAccessToken);
        } catch (_a) {
          return null;
        }
      }
    };
    GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD = "google.com";
    GoogleAuthProvider.PROVIDER_ID = "google.com";
    GithubAuthProvider = class _GithubAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "github.com"
          /* ProviderId.GITHUB */
        );
      }
      /**
       * Creates a credential for GitHub.
       *
       * @param accessToken - GitHub access token.
       */
      static credential(accessToken) {
        return OAuthCredential._fromParams({
          providerId: _GithubAuthProvider.PROVIDER_ID,
          signInMethod: _GithubAuthProvider.GITHUB_SIGN_IN_METHOD,
          accessToken
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _GithubAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _GithubAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse || !("oauthAccessToken" in tokenResponse)) {
          return null;
        }
        if (!tokenResponse.oauthAccessToken) {
          return null;
        }
        try {
          return _GithubAuthProvider.credential(tokenResponse.oauthAccessToken);
        } catch (_a) {
          return null;
        }
      }
    };
    GithubAuthProvider.GITHUB_SIGN_IN_METHOD = "github.com";
    GithubAuthProvider.PROVIDER_ID = "github.com";
    IDP_REQUEST_URI = "http://localhost";
    SAMLAuthCredential = class _SAMLAuthCredential extends AuthCredential {
      /** @internal */
      constructor(providerId, pendingToken) {
        super(providerId, providerId);
        this.pendingToken = pendingToken;
      }
      /** @internal */
      _getIdTokenResponse(auth2) {
        const request = this.buildRequest();
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _linkToIdToken(auth2, idToken) {
        const request = this.buildRequest();
        request.idToken = idToken;
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        const request = this.buildRequest();
        request.autoCreate = false;
        return signInWithIdp(auth2, request);
      }
      /** {@inheritdoc AuthCredential.toJSON}  */
      toJSON() {
        return {
          signInMethod: this.signInMethod,
          providerId: this.providerId,
          pendingToken: this.pendingToken
        };
      }
      /**
       * Static method to deserialize a JSON representation of an object into an
       * {@link  AuthCredential}.
       *
       * @param json - Input can be either Object or the stringified representation of the object.
       * When string is provided, JSON.parse would be called first.
       *
       * @returns If the JSON input does not represent an {@link  AuthCredential}, null is returned.
       */
      static fromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        const { providerId, signInMethod, pendingToken } = obj;
        if (!providerId || !signInMethod || !pendingToken || providerId !== signInMethod) {
          return null;
        }
        return new _SAMLAuthCredential(providerId, pendingToken);
      }
      /**
       * Helper static method to avoid exposing the constructor to end users.
       *
       * @internal
       */
      static _create(providerId, pendingToken) {
        return new _SAMLAuthCredential(providerId, pendingToken);
      }
      buildRequest() {
        return {
          requestUri: IDP_REQUEST_URI,
          returnSecureToken: true,
          pendingToken: this.pendingToken
        };
      }
    };
    SAML_PROVIDER_PREFIX = "saml.";
    SAMLAuthProvider = class _SAMLAuthProvider extends FederatedAuthProvider {
      /**
       * Constructor. The providerId must start with "saml."
       * @param providerId - SAML provider ID.
       */
      constructor(providerId) {
        _assert(
          providerId.startsWith(SAML_PROVIDER_PREFIX),
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        super(providerId);
      }
      /**
       * Generates an {@link AuthCredential} from a {@link UserCredential} after a
       * successful SAML flow completes.
       *
       * @remarks
       *
       * For example, to get an {@link AuthCredential}, you could write the
       * following code:
       *
       * ```js
       * const userCredential = await signInWithPopup(auth, samlProvider);
       * const credential = SAMLAuthProvider.credentialFromResult(userCredential);
       * ```
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _SAMLAuthProvider.samlCredentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _SAMLAuthProvider.samlCredentialFromTaggedObject(error2.customData || {});
      }
      /**
       * Creates an {@link AuthCredential} from a JSON string or a plain object.
       * @param json - A plain object or a JSON string
       */
      static credentialFromJSON(json2) {
        const credential = SAMLAuthCredential.fromJSON(json2);
        _assert(
          credential,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return credential;
      }
      static samlCredentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { pendingToken, providerId } = tokenResponse;
        if (!pendingToken || !providerId) {
          return null;
        }
        try {
          return SAMLAuthCredential._create(providerId, pendingToken);
        } catch (e3) {
          return null;
        }
      }
    };
    TwitterAuthProvider = class _TwitterAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "twitter.com"
          /* ProviderId.TWITTER */
        );
      }
      /**
       * Creates a credential for Twitter.
       *
       * @param token - Twitter access token.
       * @param secret - Twitter secret.
       */
      static credential(token, secret) {
        return OAuthCredential._fromParams({
          providerId: _TwitterAuthProvider.PROVIDER_ID,
          signInMethod: _TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,
          oauthToken: token,
          oauthTokenSecret: secret
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _TwitterAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _TwitterAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { oauthAccessToken, oauthTokenSecret } = tokenResponse;
        if (!oauthAccessToken || !oauthTokenSecret) {
          return null;
        }
        try {
          return _TwitterAuthProvider.credential(oauthAccessToken, oauthTokenSecret);
        } catch (_a) {
          return null;
        }
      }
    };
    TwitterAuthProvider.TWITTER_SIGN_IN_METHOD = "twitter.com";
    TwitterAuthProvider.PROVIDER_ID = "twitter.com";
    UserCredentialImpl = class _UserCredentialImpl {
      constructor(params) {
        this.user = params.user;
        this.providerId = params.providerId;
        this._tokenResponse = params._tokenResponse;
        this.operationType = params.operationType;
      }
      static async _fromIdTokenResponse(auth2, operationType, idTokenResponse, isAnonymous = false) {
        const user = await UserImpl._fromIdTokenResponse(auth2, idTokenResponse, isAnonymous);
        const providerId = providerIdForResponse(idTokenResponse);
        const userCred = new _UserCredentialImpl({
          user,
          providerId,
          _tokenResponse: idTokenResponse,
          operationType
        });
        return userCred;
      }
      static async _forOperation(user, operationType, response) {
        await user._updateTokensIfNecessary(
          response,
          /* reload */
          true
        );
        const providerId = providerIdForResponse(response);
        return new _UserCredentialImpl({
          user,
          providerId,
          _tokenResponse: response,
          operationType
        });
      }
    };
    MultiFactorError = class _MultiFactorError extends FirebaseError {
      constructor(auth2, error2, operationType, user) {
        var _a;
        super(error2.code, error2.message);
        this.operationType = operationType;
        this.user = user;
        Object.setPrototypeOf(this, _MultiFactorError.prototype);
        this.customData = {
          appName: auth2.name,
          tenantId: (_a = auth2.tenantId) !== null && _a !== void 0 ? _a : void 0,
          _serverResponse: error2.customData._serverResponse,
          operationType
        };
      }
      static _fromErrorAndOperation(auth2, error2, operationType, user) {
        return new _MultiFactorError(auth2, error2, operationType, user);
      }
    };
    MultiFactorInfoImpl = class {
      constructor(factorId, response) {
        this.factorId = factorId;
        this.uid = response.mfaEnrollmentId;
        this.enrollmentTime = new Date(response.enrolledAt).toUTCString();
        this.displayName = response.displayName;
      }
      static _fromServerResponse(auth2, enrollment) {
        if ("phoneInfo" in enrollment) {
          return PhoneMultiFactorInfoImpl._fromServerResponse(auth2, enrollment);
        } else if ("totpInfo" in enrollment) {
          return TotpMultiFactorInfoImpl._fromServerResponse(auth2, enrollment);
        }
        return _fail(
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
      }
    };
    PhoneMultiFactorInfoImpl = class _PhoneMultiFactorInfoImpl extends MultiFactorInfoImpl {
      constructor(response) {
        super("phone", response);
        this.phoneNumber = response.phoneInfo;
      }
      static _fromServerResponse(_auth, enrollment) {
        return new _PhoneMultiFactorInfoImpl(enrollment);
      }
    };
    TotpMultiFactorInfoImpl = class _TotpMultiFactorInfoImpl extends MultiFactorInfoImpl {
      constructor(response) {
        super("totp", response);
      }
      static _fromServerResponse(_auth, enrollment) {
        return new _TotpMultiFactorInfoImpl(enrollment);
      }
    };
    GenericAdditionalUserInfo = class {
      constructor(isNewUser, providerId, profile = {}) {
        this.isNewUser = isNewUser;
        this.providerId = providerId;
        this.profile = profile;
      }
    };
    FederatedAdditionalUserInfoWithUsername = class extends GenericAdditionalUserInfo {
      constructor(isNewUser, providerId, profile, username) {
        super(isNewUser, providerId, profile);
        this.username = username;
      }
    };
    FacebookAdditionalUserInfo = class extends GenericAdditionalUserInfo {
      constructor(isNewUser, profile) {
        super(isNewUser, "facebook.com", profile);
      }
    };
    GithubAdditionalUserInfo = class extends FederatedAdditionalUserInfoWithUsername {
      constructor(isNewUser, profile) {
        super(isNewUser, "github.com", profile, typeof (profile === null || profile === void 0 ? void 0 : profile.login) === "string" ? profile === null || profile === void 0 ? void 0 : profile.login : null);
      }
    };
    GoogleAdditionalUserInfo = class extends GenericAdditionalUserInfo {
      constructor(isNewUser, profile) {
        super(isNewUser, "google.com", profile);
      }
    };
    TwitterAdditionalUserInfo = class extends FederatedAdditionalUserInfoWithUsername {
      constructor(isNewUser, profile, screenName) {
        super(isNewUser, "twitter.com", profile, screenName);
      }
    };
    MultiFactorSessionImpl = class _MultiFactorSessionImpl {
      constructor(type2, credential, user) {
        this.type = type2;
        this.credential = credential;
        this.user = user;
      }
      static _fromIdtoken(idToken, user) {
        return new _MultiFactorSessionImpl("enroll", idToken, user);
      }
      static _fromMfaPendingCredential(mfaPendingCredential) {
        return new _MultiFactorSessionImpl("signin", mfaPendingCredential);
      }
      toJSON() {
        const key = this.type === "enroll" ? "idToken" : "pendingCredential";
        return {
          multiFactorSession: {
            [key]: this.credential
          }
        };
      }
      static fromJSON(obj) {
        var _a, _b;
        if (obj === null || obj === void 0 ? void 0 : obj.multiFactorSession) {
          if ((_a = obj.multiFactorSession) === null || _a === void 0 ? void 0 : _a.pendingCredential) {
            return _MultiFactorSessionImpl._fromMfaPendingCredential(obj.multiFactorSession.pendingCredential);
          } else if ((_b = obj.multiFactorSession) === null || _b === void 0 ? void 0 : _b.idToken) {
            return _MultiFactorSessionImpl._fromIdtoken(obj.multiFactorSession.idToken);
          }
        }
        return null;
      }
    };
    MultiFactorResolverImpl = class _MultiFactorResolverImpl {
      constructor(session, hints, signInResolver) {
        this.session = session;
        this.hints = hints;
        this.signInResolver = signInResolver;
      }
      /** @internal */
      static _fromError(authExtern, error2) {
        const auth2 = _castAuth(authExtern);
        const serverResponse = error2.customData._serverResponse;
        const hints = (serverResponse.mfaInfo || []).map((enrollment) => MultiFactorInfoImpl._fromServerResponse(auth2, enrollment));
        _assert(
          serverResponse.mfaPendingCredential,
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const session = MultiFactorSessionImpl._fromMfaPendingCredential(serverResponse.mfaPendingCredential);
        return new _MultiFactorResolverImpl(session, hints, async (assertion) => {
          const mfaResponse = await assertion._process(auth2, session);
          delete serverResponse.mfaInfo;
          delete serverResponse.mfaPendingCredential;
          const idTokenResponse = Object.assign(Object.assign({}, serverResponse), { idToken: mfaResponse.idToken, refreshToken: mfaResponse.refreshToken });
          switch (error2.operationType) {
            case "signIn":
              const userCredential = await UserCredentialImpl._fromIdTokenResponse(auth2, error2.operationType, idTokenResponse);
              await auth2._updateCurrentUser(userCredential.user);
              return userCredential;
            case "reauthenticate":
              _assert(
                error2.user,
                auth2,
                "internal-error"
                /* AuthErrorCode.INTERNAL_ERROR */
              );
              return UserCredentialImpl._forOperation(error2.user, error2.operationType, idTokenResponse);
            default:
              _fail(
                auth2,
                "internal-error"
                /* AuthErrorCode.INTERNAL_ERROR */
              );
          }
        });
      }
      async resolveSignIn(assertionExtern) {
        const assertion = assertionExtern;
        return this.signInResolver(assertion);
      }
    };
    MultiFactorUserImpl = class _MultiFactorUserImpl {
      constructor(user) {
        this.user = user;
        this.enrolledFactors = [];
        user._onReload((userInfo) => {
          if (userInfo.mfaInfo) {
            this.enrolledFactors = userInfo.mfaInfo.map((enrollment) => MultiFactorInfoImpl._fromServerResponse(user.auth, enrollment));
          }
        });
      }
      static _fromUser(user) {
        return new _MultiFactorUserImpl(user);
      }
      async getSession() {
        return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken(), this.user);
      }
      async enroll(assertionExtern, displayName) {
        const assertion = assertionExtern;
        const session = await this.getSession();
        const finalizeMfaResponse = await _logoutIfInvalidated(this.user, assertion._process(this.user.auth, session, displayName));
        await this.user._updateTokensIfNecessary(finalizeMfaResponse);
        return this.user.reload();
      }
      async unenroll(infoOrUid) {
        const mfaEnrollmentId = typeof infoOrUid === "string" ? infoOrUid : infoOrUid.uid;
        const idToken = await this.user.getIdToken();
        try {
          const idTokenResponse = await _logoutIfInvalidated(this.user, withdrawMfa(this.user.auth, {
            idToken,
            mfaEnrollmentId
          }));
          this.enrolledFactors = this.enrolledFactors.filter(({ uid }) => uid !== mfaEnrollmentId);
          await this.user._updateTokensIfNecessary(idTokenResponse);
          await this.user.reload();
        } catch (e3) {
          throw e3;
        }
      }
    };
    multiFactorUserCache = /* @__PURE__ */ new WeakMap();
    STORAGE_AVAILABLE_KEY = "__sak";
    BrowserPersistenceClass = class {
      constructor(storageRetriever, type2) {
        this.storageRetriever = storageRetriever;
        this.type = type2;
      }
      _isAvailable() {
        try {
          if (!this.storage) {
            return Promise.resolve(false);
          }
          this.storage.setItem(STORAGE_AVAILABLE_KEY, "1");
          this.storage.removeItem(STORAGE_AVAILABLE_KEY);
          return Promise.resolve(true);
        } catch (_a) {
          return Promise.resolve(false);
        }
      }
      _set(key, value2) {
        this.storage.setItem(key, JSON.stringify(value2));
        return Promise.resolve();
      }
      _get(key) {
        const json2 = this.storage.getItem(key);
        return Promise.resolve(json2 ? JSON.parse(json2) : null);
      }
      _remove(key) {
        this.storage.removeItem(key);
        return Promise.resolve();
      }
      get storage() {
        return this.storageRetriever();
      }
    };
    _POLLING_INTERVAL_MS$1 = 1e3;
    IE10_LOCAL_STORAGE_SYNC_DELAY = 10;
    BrowserLocalPersistence = class extends BrowserPersistenceClass {
      constructor() {
        super(
          () => window.localStorage,
          "LOCAL"
          /* PersistenceType.LOCAL */
        );
        this.boundEventHandler = (event, poll) => this.onStorageEvent(event, poll);
        this.listeners = {};
        this.localCache = {};
        this.pollTimer = null;
        this.fallbackToPolling = _isMobileBrowser();
        this._shouldAllowMigration = true;
      }
      forAllChangedKeys(cb) {
        for (const key of Object.keys(this.listeners)) {
          const newValue = this.storage.getItem(key);
          const oldValue = this.localCache[key];
          if (newValue !== oldValue) {
            cb(key, oldValue, newValue);
          }
        }
      }
      onStorageEvent(event, poll = false) {
        if (!event.key) {
          this.forAllChangedKeys((key2, _oldValue, newValue) => {
            this.notifyListeners(key2, newValue);
          });
          return;
        }
        const key = event.key;
        if (poll) {
          this.detachListener();
        } else {
          this.stopPolling();
        }
        const triggerListeners = () => {
          const storedValue2 = this.storage.getItem(key);
          if (!poll && this.localCache[key] === storedValue2) {
            return;
          }
          this.notifyListeners(key, storedValue2);
        };
        const storedValue = this.storage.getItem(key);
        if (_isIE10() && storedValue !== event.newValue && event.newValue !== event.oldValue) {
          setTimeout(triggerListeners, IE10_LOCAL_STORAGE_SYNC_DELAY);
        } else {
          triggerListeners();
        }
      }
      notifyListeners(key, value2) {
        this.localCache[key] = value2;
        const listeners = this.listeners[key];
        if (listeners) {
          for (const listener of Array.from(listeners)) {
            listener(value2 ? JSON.parse(value2) : value2);
          }
        }
      }
      startPolling() {
        this.stopPolling();
        this.pollTimer = setInterval(() => {
          this.forAllChangedKeys((key, oldValue, newValue) => {
            this.onStorageEvent(
              new StorageEvent("storage", {
                key,
                oldValue,
                newValue
              }),
              /* poll */
              true
            );
          });
        }, _POLLING_INTERVAL_MS$1);
      }
      stopPolling() {
        if (this.pollTimer) {
          clearInterval(this.pollTimer);
          this.pollTimer = null;
        }
      }
      attachListener() {
        window.addEventListener("storage", this.boundEventHandler);
      }
      detachListener() {
        window.removeEventListener("storage", this.boundEventHandler);
      }
      _addListener(key, listener) {
        if (Object.keys(this.listeners).length === 0) {
          if (this.fallbackToPolling) {
            this.startPolling();
          } else {
            this.attachListener();
          }
        }
        if (!this.listeners[key]) {
          this.listeners[key] = /* @__PURE__ */ new Set();
          this.localCache[key] = this.storage.getItem(key);
        }
        this.listeners[key].add(listener);
      }
      _removeListener(key, listener) {
        if (this.listeners[key]) {
          this.listeners[key].delete(listener);
          if (this.listeners[key].size === 0) {
            delete this.listeners[key];
          }
        }
        if (Object.keys(this.listeners).length === 0) {
          this.detachListener();
          this.stopPolling();
        }
      }
      // Update local cache on base operations:
      async _set(key, value2) {
        await super._set(key, value2);
        this.localCache[key] = JSON.stringify(value2);
      }
      async _get(key) {
        const value2 = await super._get(key);
        this.localCache[key] = JSON.stringify(value2);
        return value2;
      }
      async _remove(key) {
        await super._remove(key);
        delete this.localCache[key];
      }
    };
    BrowserLocalPersistence.type = "LOCAL";
    browserLocalPersistence = BrowserLocalPersistence;
    BrowserSessionPersistence = class extends BrowserPersistenceClass {
      constructor() {
        super(
          () => window.sessionStorage,
          "SESSION"
          /* PersistenceType.SESSION */
        );
      }
      _addListener(_key, _listener) {
        return;
      }
      _removeListener(_key, _listener) {
        return;
      }
    };
    BrowserSessionPersistence.type = "SESSION";
    browserSessionPersistence = BrowserSessionPersistence;
    Receiver = class _Receiver {
      constructor(eventTarget) {
        this.eventTarget = eventTarget;
        this.handlersMap = {};
        this.boundEventHandler = this.handleEvent.bind(this);
      }
      /**
       * Obtain an instance of a Receiver for a given event target, if none exists it will be created.
       *
       * @param eventTarget - An event target (such as window or self) through which the underlying
       * messages will be received.
       */
      static _getInstance(eventTarget) {
        const existingInstance = this.receivers.find((receiver) => receiver.isListeningto(eventTarget));
        if (existingInstance) {
          return existingInstance;
        }
        const newInstance = new _Receiver(eventTarget);
        this.receivers.push(newInstance);
        return newInstance;
      }
      isListeningto(eventTarget) {
        return this.eventTarget === eventTarget;
      }
      /**
       * Fans out a MessageEvent to the appropriate listeners.
       *
       * @remarks
       * Sends an {@link Status.ACK} upon receipt and a {@link Status.DONE} once all handlers have
       * finished processing.
       *
       * @param event - The MessageEvent.
       *
       */
      async handleEvent(event) {
        const messageEvent = event;
        const { eventId, eventType, data } = messageEvent.data;
        const handlers = this.handlersMap[eventType];
        if (!(handlers === null || handlers === void 0 ? void 0 : handlers.size)) {
          return;
        }
        messageEvent.ports[0].postMessage({
          status: "ack",
          eventId,
          eventType
        });
        const promises = Array.from(handlers).map(async (handler) => handler(messageEvent.origin, data));
        const response = await _allSettled(promises);
        messageEvent.ports[0].postMessage({
          status: "done",
          eventId,
          eventType,
          response
        });
      }
      /**
       * Subscribe an event handler for a particular event.
       *
       * @param eventType - Event name to subscribe to.
       * @param eventHandler - The event handler which should receive the events.
       *
       */
      _subscribe(eventType, eventHandler) {
        if (Object.keys(this.handlersMap).length === 0) {
          this.eventTarget.addEventListener("message", this.boundEventHandler);
        }
        if (!this.handlersMap[eventType]) {
          this.handlersMap[eventType] = /* @__PURE__ */ new Set();
        }
        this.handlersMap[eventType].add(eventHandler);
      }
      /**
       * Unsubscribe an event handler from a particular event.
       *
       * @param eventType - Event name to unsubscribe from.
       * @param eventHandler - Optional event handler, if none provided, unsubscribe all handlers on this event.
       *
       */
      _unsubscribe(eventType, eventHandler) {
        if (this.handlersMap[eventType] && eventHandler) {
          this.handlersMap[eventType].delete(eventHandler);
        }
        if (!eventHandler || this.handlersMap[eventType].size === 0) {
          delete this.handlersMap[eventType];
        }
        if (Object.keys(this.handlersMap).length === 0) {
          this.eventTarget.removeEventListener("message", this.boundEventHandler);
        }
      }
    };
    Receiver.receivers = [];
    Sender = class {
      constructor(target) {
        this.target = target;
        this.handlers = /* @__PURE__ */ new Set();
      }
      /**
       * Unsubscribe the handler and remove it from our tracking Set.
       *
       * @param handler - The handler to unsubscribe.
       */
      removeMessageHandler(handler) {
        if (handler.messageChannel) {
          handler.messageChannel.port1.removeEventListener("message", handler.onMessage);
          handler.messageChannel.port1.close();
        }
        this.handlers.delete(handler);
      }
      /**
       * Send a message to the Receiver located at {@link target}.
       *
       * @remarks
       * We'll first wait a bit for an ACK , if we get one we will wait significantly longer until the
       * receiver has had a chance to fully process the event.
       *
       * @param eventType - Type of event to send.
       * @param data - The payload of the event.
       * @param timeout - Timeout for waiting on an ACK from the receiver.
       *
       * @returns An array of settled promises from all the handlers that were listening on the receiver.
       */
      async _send(eventType, data, timeout = 50) {
        const messageChannel = typeof MessageChannel !== "undefined" ? new MessageChannel() : null;
        if (!messageChannel) {
          throw new Error(
            "connection_unavailable"
            /* _MessageError.CONNECTION_UNAVAILABLE */
          );
        }
        let completionTimer;
        let handler;
        return new Promise((resolve, reject) => {
          const eventId = _generateEventId("", 20);
          messageChannel.port1.start();
          const ackTimer = setTimeout(() => {
            reject(new Error(
              "unsupported_event"
              /* _MessageError.UNSUPPORTED_EVENT */
            ));
          }, timeout);
          handler = {
            messageChannel,
            onMessage(event) {
              const messageEvent = event;
              if (messageEvent.data.eventId !== eventId) {
                return;
              }
              switch (messageEvent.data.status) {
                case "ack":
                  clearTimeout(ackTimer);
                  completionTimer = setTimeout(
                    () => {
                      reject(new Error(
                        "timeout"
                        /* _MessageError.TIMEOUT */
                      ));
                    },
                    3e3
                    /* _TimeoutDuration.COMPLETION */
                  );
                  break;
                case "done":
                  clearTimeout(completionTimer);
                  resolve(messageEvent.data.response);
                  break;
                default:
                  clearTimeout(ackTimer);
                  clearTimeout(completionTimer);
                  reject(new Error(
                    "invalid_response"
                    /* _MessageError.INVALID_RESPONSE */
                  ));
                  break;
              }
            }
          };
          this.handlers.add(handler);
          messageChannel.port1.addEventListener("message", handler.onMessage);
          this.target.postMessage({
            eventType,
            eventId,
            data
          }, [messageChannel.port2]);
        }).finally(() => {
          if (handler) {
            this.removeMessageHandler(handler);
          }
        });
      }
    };
    DB_NAME2 = "firebaseLocalStorageDb";
    DB_VERSION2 = 1;
    DB_OBJECTSTORE_NAME = "firebaseLocalStorage";
    DB_DATA_KEYPATH = "fbase_key";
    DBPromise = class {
      constructor(request) {
        this.request = request;
      }
      toPromise() {
        return new Promise((resolve, reject) => {
          this.request.addEventListener("success", () => {
            resolve(this.request.result);
          });
          this.request.addEventListener("error", () => {
            reject(this.request.error);
          });
        });
      }
    };
    _POLLING_INTERVAL_MS = 800;
    _TRANSACTION_RETRY_COUNT = 3;
    IndexedDBLocalPersistence = class {
      constructor() {
        this.type = "LOCAL";
        this._shouldAllowMigration = true;
        this.listeners = {};
        this.localCache = {};
        this.pollTimer = null;
        this.pendingWrites = 0;
        this.receiver = null;
        this.sender = null;
        this.serviceWorkerReceiverAvailable = false;
        this.activeServiceWorker = null;
        this._workerInitializationPromise = this.initializeServiceWorkerMessaging().then(() => {
        }, () => {
        });
      }
      async _openDb() {
        if (this.db) {
          return this.db;
        }
        this.db = await _openDatabase();
        return this.db;
      }
      async _withRetries(op) {
        let numAttempts = 0;
        while (true) {
          try {
            const db = await this._openDb();
            return await op(db);
          } catch (e3) {
            if (numAttempts++ > _TRANSACTION_RETRY_COUNT) {
              throw e3;
            }
            if (this.db) {
              this.db.close();
              this.db = void 0;
            }
          }
        }
      }
      /**
       * IndexedDB events do not propagate from the main window to the worker context.  We rely on a
       * postMessage interface to send these events to the worker ourselves.
       */
      async initializeServiceWorkerMessaging() {
        return _isWorker() ? this.initializeReceiver() : this.initializeSender();
      }
      /**
       * As the worker we should listen to events from the main window.
       */
      async initializeReceiver() {
        this.receiver = Receiver._getInstance(_getWorkerGlobalScope());
        this.receiver._subscribe("keyChanged", async (_origin, data) => {
          const keys = await this._poll();
          return {
            keyProcessed: keys.includes(data.key)
          };
        });
        this.receiver._subscribe("ping", async (_origin, _data) => {
          return [
            "keyChanged"
            /* _EventType.KEY_CHANGED */
          ];
        });
      }
      /**
       * As the main window, we should let the worker know when keys change (set and remove).
       *
       * @remarks
       * {@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/ready | ServiceWorkerContainer.ready}
       * may not resolve.
       */
      async initializeSender() {
        var _a, _b;
        this.activeServiceWorker = await _getActiveServiceWorker();
        if (!this.activeServiceWorker) {
          return;
        }
        this.sender = new Sender(this.activeServiceWorker);
        const results = await this.sender._send(
          "ping",
          {},
          800
          /* _TimeoutDuration.LONG_ACK */
        );
        if (!results) {
          return;
        }
        if (((_a = results[0]) === null || _a === void 0 ? void 0 : _a.fulfilled) && ((_b = results[0]) === null || _b === void 0 ? void 0 : _b.value.includes(
          "keyChanged"
          /* _EventType.KEY_CHANGED */
        ))) {
          this.serviceWorkerReceiverAvailable = true;
        }
      }
      /**
       * Let the worker know about a changed key, the exact key doesn't technically matter since the
       * worker will just trigger a full sync anyway.
       *
       * @remarks
       * For now, we only support one service worker per page.
       *
       * @param key - Storage key which changed.
       */
      async notifyServiceWorker(key) {
        if (!this.sender || !this.activeServiceWorker || _getServiceWorkerController() !== this.activeServiceWorker) {
          return;
        }
        try {
          await this.sender._send(
            "keyChanged",
            { key },
            // Use long timeout if receiver has previously responded to a ping from us.
            this.serviceWorkerReceiverAvailable ? 800 : 50
            /* _TimeoutDuration.ACK */
          );
        } catch (_a) {
        }
      }
      async _isAvailable() {
        try {
          if (!indexedDB) {
            return false;
          }
          const db = await _openDatabase();
          await _putObject(db, STORAGE_AVAILABLE_KEY, "1");
          await _deleteObject(db, STORAGE_AVAILABLE_KEY);
          return true;
        } catch (_a) {
        }
        return false;
      }
      async _withPendingWrite(write) {
        this.pendingWrites++;
        try {
          await write();
        } finally {
          this.pendingWrites--;
        }
      }
      async _set(key, value2) {
        return this._withPendingWrite(async () => {
          await this._withRetries((db) => _putObject(db, key, value2));
          this.localCache[key] = value2;
          return this.notifyServiceWorker(key);
        });
      }
      async _get(key) {
        const obj = await this._withRetries((db) => getObject(db, key));
        this.localCache[key] = obj;
        return obj;
      }
      async _remove(key) {
        return this._withPendingWrite(async () => {
          await this._withRetries((db) => _deleteObject(db, key));
          delete this.localCache[key];
          return this.notifyServiceWorker(key);
        });
      }
      async _poll() {
        const result = await this._withRetries((db) => {
          const getAllRequest = getObjectStore(db, false).getAll();
          return new DBPromise(getAllRequest).toPromise();
        });
        if (!result) {
          return [];
        }
        if (this.pendingWrites !== 0) {
          return [];
        }
        const keys = [];
        const keysInResult = /* @__PURE__ */ new Set();
        if (result.length !== 0) {
          for (const { fbase_key: key, value: value2 } of result) {
            keysInResult.add(key);
            if (JSON.stringify(this.localCache[key]) !== JSON.stringify(value2)) {
              this.notifyListeners(key, value2);
              keys.push(key);
            }
          }
        }
        for (const localKey of Object.keys(this.localCache)) {
          if (this.localCache[localKey] && !keysInResult.has(localKey)) {
            this.notifyListeners(localKey, null);
            keys.push(localKey);
          }
        }
        return keys;
      }
      notifyListeners(key, newValue) {
        this.localCache[key] = newValue;
        const listeners = this.listeners[key];
        if (listeners) {
          for (const listener of Array.from(listeners)) {
            listener(newValue);
          }
        }
      }
      startPolling() {
        this.stopPolling();
        this.pollTimer = setInterval(async () => this._poll(), _POLLING_INTERVAL_MS);
      }
      stopPolling() {
        if (this.pollTimer) {
          clearInterval(this.pollTimer);
          this.pollTimer = null;
        }
      }
      _addListener(key, listener) {
        if (Object.keys(this.listeners).length === 0) {
          this.startPolling();
        }
        if (!this.listeners[key]) {
          this.listeners[key] = /* @__PURE__ */ new Set();
          void this._get(key);
        }
        this.listeners[key].add(listener);
      }
      _removeListener(key, listener) {
        if (this.listeners[key]) {
          this.listeners[key].delete(listener);
          if (this.listeners[key].size === 0) {
            delete this.listeners[key];
          }
        }
        if (Object.keys(this.listeners).length === 0) {
          this.stopPolling();
        }
      }
    };
    IndexedDBLocalPersistence.type = "LOCAL";
    indexedDBLocalPersistence = IndexedDBLocalPersistence;
    _SOLVE_TIME_MS = 500;
    _EXPIRATION_TIME_MS = 6e4;
    _WIDGET_ID_START = 1e12;
    MockReCaptcha = class {
      constructor(auth2) {
        this.auth = auth2;
        this.counter = _WIDGET_ID_START;
        this._widgets = /* @__PURE__ */ new Map();
      }
      render(container, parameters) {
        const id = this.counter;
        this._widgets.set(id, new MockWidget(container, this.auth.name, parameters || {}));
        this.counter++;
        return id;
      }
      reset(optWidgetId) {
        var _a;
        const id = optWidgetId || _WIDGET_ID_START;
        void ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.delete());
        this._widgets.delete(id);
      }
      getResponse(optWidgetId) {
        var _a;
        const id = optWidgetId || _WIDGET_ID_START;
        return ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.getResponse()) || "";
      }
      async execute(optWidgetId) {
        var _a;
        const id = optWidgetId || _WIDGET_ID_START;
        void ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.execute());
        return "";
      }
    };
    MockWidget = class {
      constructor(containerOrId, appName, params) {
        this.params = params;
        this.timerId = null;
        this.deleted = false;
        this.responseToken = null;
        this.clickHandler = () => {
          this.execute();
        };
        const container = typeof containerOrId === "string" ? document.getElementById(containerOrId) : containerOrId;
        _assert(container, "argument-error", { appName });
        this.container = container;
        this.isVisible = this.params.size !== "invisible";
        if (this.isVisible) {
          this.execute();
        } else {
          this.container.addEventListener("click", this.clickHandler);
        }
      }
      getResponse() {
        this.checkIfDeleted();
        return this.responseToken;
      }
      delete() {
        this.checkIfDeleted();
        this.deleted = true;
        if (this.timerId) {
          clearTimeout(this.timerId);
          this.timerId = null;
        }
        this.container.removeEventListener("click", this.clickHandler);
      }
      execute() {
        this.checkIfDeleted();
        if (this.timerId) {
          return;
        }
        this.timerId = window.setTimeout(() => {
          this.responseToken = generateRandomAlphaNumericString(50);
          const { callback, "expired-callback": expiredCallback } = this.params;
          if (callback) {
            try {
              callback(this.responseToken);
            } catch (e3) {
            }
          }
          this.timerId = window.setTimeout(() => {
            this.timerId = null;
            this.responseToken = null;
            if (expiredCallback) {
              try {
                expiredCallback();
              } catch (e3) {
              }
            }
            if (this.isVisible) {
              this.execute();
            }
          }, _EXPIRATION_TIME_MS);
        }, _SOLVE_TIME_MS);
      }
      checkIfDeleted() {
        if (this.deleted) {
          throw new Error("reCAPTCHA mock was already deleted!");
        }
      }
    };
    _JSLOAD_CALLBACK = _generateCallbackName("rcb");
    NETWORK_TIMEOUT_DELAY = new Delay(3e4, 6e4);
    ReCaptchaLoaderImpl = class {
      constructor() {
        var _a;
        this.hostLanguage = "";
        this.counter = 0;
        this.librarySeparatelyLoaded = !!((_a = _window().grecaptcha) === null || _a === void 0 ? void 0 : _a.render);
      }
      load(auth2, hl = "") {
        _assert(
          isHostLanguageValid(hl),
          auth2,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        if (this.shouldResolveImmediately(hl) && isV2(_window().grecaptcha)) {
          return Promise.resolve(_window().grecaptcha);
        }
        return new Promise((resolve, reject) => {
          const networkTimeout = _window().setTimeout(() => {
            reject(_createError(
              auth2,
              "network-request-failed"
              /* AuthErrorCode.NETWORK_REQUEST_FAILED */
            ));
          }, NETWORK_TIMEOUT_DELAY.get());
          _window()[_JSLOAD_CALLBACK] = () => {
            _window().clearTimeout(networkTimeout);
            delete _window()[_JSLOAD_CALLBACK];
            const recaptcha = _window().grecaptcha;
            if (!recaptcha || !isV2(recaptcha)) {
              reject(_createError(
                auth2,
                "internal-error"
                /* AuthErrorCode.INTERNAL_ERROR */
              ));
              return;
            }
            const render = recaptcha.render;
            recaptcha.render = (container, params) => {
              const widgetId = render(container, params);
              this.counter++;
              return widgetId;
            };
            this.hostLanguage = hl;
            resolve(recaptcha);
          };
          const url = `${_recaptchaV2ScriptUrl()}?${querystring({
            onload: _JSLOAD_CALLBACK,
            render: "explicit",
            hl
          })}`;
          _loadJS(url).catch(() => {
            clearTimeout(networkTimeout);
            reject(_createError(
              auth2,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            ));
          });
        });
      }
      clearedOneInstance() {
        this.counter--;
      }
      shouldResolveImmediately(hl) {
        var _a;
        return !!((_a = _window().grecaptcha) === null || _a === void 0 ? void 0 : _a.render) && (hl === this.hostLanguage || this.counter > 0 || this.librarySeparatelyLoaded);
      }
    };
    MockReCaptchaLoaderImpl = class {
      async load(auth2) {
        return new MockReCaptcha(auth2);
      }
      clearedOneInstance() {
      }
    };
    RECAPTCHA_VERIFIER_TYPE = "recaptcha";
    DEFAULT_PARAMS = {
      theme: "light",
      type: "image"
    };
    RecaptchaVerifier = class {
      /**
       * @param authExtern - The corresponding Firebase {@link Auth} instance.
       *
       * @param containerOrId - The reCAPTCHA container parameter.
       *
       * @remarks
       * This has different meaning depending on whether the reCAPTCHA is hidden or visible. For a
       * visible reCAPTCHA the container must be empty. If a string is used, it has to correspond to
       * an element ID. The corresponding element must also must be in the DOM at the time of
       * initialization.
       *
       * @param parameters - The optional reCAPTCHA parameters.
       *
       * @remarks
       * Check the reCAPTCHA docs for a comprehensive list. All parameters are accepted except for
       * the sitekey. Firebase Auth backend provisions a reCAPTCHA for each project and will
       * configure this upon rendering. For an invisible reCAPTCHA, a size key must have the value
       * 'invisible'.
       */
      constructor(authExtern, containerOrId, parameters = Object.assign({}, DEFAULT_PARAMS)) {
        this.parameters = parameters;
        this.type = RECAPTCHA_VERIFIER_TYPE;
        this.destroyed = false;
        this.widgetId = null;
        this.tokenChangeListeners = /* @__PURE__ */ new Set();
        this.renderPromise = null;
        this.recaptcha = null;
        this.auth = _castAuth(authExtern);
        this.isInvisible = this.parameters.size === "invisible";
        _assert(
          typeof document !== "undefined",
          this.auth,
          "operation-not-supported-in-this-environment"
          /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
        );
        const container = typeof containerOrId === "string" ? document.getElementById(containerOrId) : containerOrId;
        _assert(
          container,
          this.auth,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        this.container = container;
        this.parameters.callback = this.makeTokenCallback(this.parameters.callback);
        this._recaptchaLoader = this.auth.settings.appVerificationDisabledForTesting ? new MockReCaptchaLoaderImpl() : new ReCaptchaLoaderImpl();
        this.validateStartingState();
      }
      /**
       * Waits for the user to solve the reCAPTCHA and resolves with the reCAPTCHA token.
       *
       * @returns A Promise for the reCAPTCHA token.
       */
      async verify() {
        this.assertNotDestroyed();
        const id = await this.render();
        const recaptcha = this.getAssertedRecaptcha();
        const response = recaptcha.getResponse(id);
        if (response) {
          return response;
        }
        return new Promise((resolve) => {
          const tokenChange = (token) => {
            if (!token) {
              return;
            }
            this.tokenChangeListeners.delete(tokenChange);
            resolve(token);
          };
          this.tokenChangeListeners.add(tokenChange);
          if (this.isInvisible) {
            recaptcha.execute(id);
          }
        });
      }
      /**
       * Renders the reCAPTCHA widget on the page.
       *
       * @returns A Promise that resolves with the reCAPTCHA widget ID.
       */
      render() {
        try {
          this.assertNotDestroyed();
        } catch (e3) {
          return Promise.reject(e3);
        }
        if (this.renderPromise) {
          return this.renderPromise;
        }
        this.renderPromise = this.makeRenderPromise().catch((e3) => {
          this.renderPromise = null;
          throw e3;
        });
        return this.renderPromise;
      }
      /** @internal */
      _reset() {
        this.assertNotDestroyed();
        if (this.widgetId !== null) {
          this.getAssertedRecaptcha().reset(this.widgetId);
        }
      }
      /**
       * Clears the reCAPTCHA widget from the page and destroys the instance.
       */
      clear() {
        this.assertNotDestroyed();
        this.destroyed = true;
        this._recaptchaLoader.clearedOneInstance();
        if (!this.isInvisible) {
          this.container.childNodes.forEach((node) => {
            this.container.removeChild(node);
          });
        }
      }
      validateStartingState() {
        _assert(
          !this.parameters.sitekey,
          this.auth,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        _assert(
          this.isInvisible || !this.container.hasChildNodes(),
          this.auth,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        _assert(
          typeof document !== "undefined",
          this.auth,
          "operation-not-supported-in-this-environment"
          /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
        );
      }
      makeTokenCallback(existing) {
        return (token) => {
          this.tokenChangeListeners.forEach((listener) => listener(token));
          if (typeof existing === "function") {
            existing(token);
          } else if (typeof existing === "string") {
            const globalFunc = _window()[existing];
            if (typeof globalFunc === "function") {
              globalFunc(token);
            }
          }
        };
      }
      assertNotDestroyed() {
        _assert(
          !this.destroyed,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
      }
      async makeRenderPromise() {
        await this.init();
        if (!this.widgetId) {
          let container = this.container;
          if (!this.isInvisible) {
            const guaranteedEmpty = document.createElement("div");
            container.appendChild(guaranteedEmpty);
            container = guaranteedEmpty;
          }
          this.widgetId = this.getAssertedRecaptcha().render(container, this.parameters);
        }
        return this.widgetId;
      }
      async init() {
        _assert(
          _isHttpOrHttps() && !_isWorker(),
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        await domReady();
        this.recaptcha = await this._recaptchaLoader.load(this.auth, this.auth.languageCode || void 0);
        const siteKey = await getRecaptchaParams(this.auth);
        _assert(
          siteKey,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        this.parameters.sitekey = siteKey;
      }
      getAssertedRecaptcha() {
        _assert(
          this.recaptcha,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return this.recaptcha;
      }
    };
    ConfirmationResultImpl = class {
      constructor(verificationId, onConfirmation) {
        this.verificationId = verificationId;
        this.onConfirmation = onConfirmation;
      }
      confirm(verificationCode) {
        const authCredential = PhoneAuthCredential._fromVerification(this.verificationId, verificationCode);
        return this.onConfirmation(authCredential);
      }
    };
    PhoneAuthProvider = class _PhoneAuthProvider {
      /**
       * @param auth - The Firebase {@link Auth} instance in which sign-ins should occur.
       *
       */
      constructor(auth2) {
        this.providerId = _PhoneAuthProvider.PROVIDER_ID;
        this.auth = _castAuth(auth2);
      }
      /**
       *
       * Starts a phone number authentication flow by sending a verification code to the given phone
       * number.
       *
       * @example
       * ```javascript
       * const provider = new PhoneAuthProvider(auth);
       * const verificationId = await provider.verifyPhoneNumber(phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);
       * const userCredential = await signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * An alternative flow is provided using the `signInWithPhoneNumber` method.
       * ```javascript
       * const confirmationResult = signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const userCredential = confirmationResult.confirm(verificationCode);
       * ```
       *
       * @param phoneInfoOptions - The user's {@link PhoneInfoOptions}. The phone number should be in
       * E.164 format (e.g. +16505550101).
       * @param applicationVerifier - For abuse prevention, this method also requires a
       * {@link ApplicationVerifier}. This SDK includes a reCAPTCHA-based implementation,
       * {@link RecaptchaVerifier}.
       *
       * @returns A Promise for a verification ID that can be passed to
       * {@link PhoneAuthProvider.credential} to identify this flow..
       */
      verifyPhoneNumber(phoneOptions, applicationVerifier) {
        return _verifyPhoneNumber(this.auth, phoneOptions, getModularInstance(applicationVerifier));
      }
      /**
       * Creates a phone auth credential, given the verification ID from
       * {@link PhoneAuthProvider.verifyPhoneNumber} and the code that was sent to the user's
       * mobile device.
       *
       * @example
       * ```javascript
       * const provider = new PhoneAuthProvider(auth);
       * const verificationId = provider.verifyPhoneNumber(phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);
       * const userCredential = signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * An alternative flow is provided using the `signInWithPhoneNumber` method.
       * ```javascript
       * const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const userCredential = await confirmationResult.confirm(verificationCode);
       * ```
       *
       * @param verificationId - The verification ID returned from {@link PhoneAuthProvider.verifyPhoneNumber}.
       * @param verificationCode - The verification code sent to the user's mobile device.
       *
       * @returns The auth provider credential.
       */
      static credential(verificationId, verificationCode) {
        return PhoneAuthCredential._fromVerification(verificationId, verificationCode);
      }
      /**
       * Generates an {@link AuthCredential} from a {@link UserCredential}.
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        const credential = userCredential;
        return _PhoneAuthProvider.credentialFromTaggedObject(credential);
      }
      /**
       * Returns an {@link AuthCredential} when passed an error.
       *
       * @remarks
       *
       * This method works for errors like
       * `auth/account-exists-with-different-credentials`. This is useful for
       * recovering when attempting to set a user's phone number but the number
       * in question is already tied to another account. For example, the following
       * code tries to update the current user's phone number, and if that
       * fails, links the user with the account associated with that number:
       *
       * ```js
       * const provider = new PhoneAuthProvider(auth);
       * const verificationId = await provider.verifyPhoneNumber(number, verifier);
       * try {
       *   const code = ''; // Prompt the user for the verification code
       *   await updatePhoneNumber(
       *       auth.currentUser,
       *       PhoneAuthProvider.credential(verificationId, code));
       * } catch (e) {
       *   if ((e as FirebaseError)?.code === 'auth/account-exists-with-different-credential') {
       *     const cred = PhoneAuthProvider.credentialFromError(e);
       *     await linkWithCredential(auth.currentUser, cred);
       *   }
       * }
       *
       * // At this point, auth.currentUser.phoneNumber === number.
       * ```
       *
       * @param error - The error to generate a credential from.
       */
      static credentialFromError(error2) {
        return _PhoneAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { phoneNumber, temporaryProof } = tokenResponse;
        if (phoneNumber && temporaryProof) {
          return PhoneAuthCredential._fromTokenResponse(phoneNumber, temporaryProof);
        }
        return null;
      }
    };
    PhoneAuthProvider.PROVIDER_ID = "phone";
    PhoneAuthProvider.PHONE_SIGN_IN_METHOD = "phone";
    IdpCredential = class extends AuthCredential {
      constructor(params) {
        super(
          "custom",
          "custom"
          /* ProviderId.CUSTOM */
        );
        this.params = params;
      }
      _getIdTokenResponse(auth2) {
        return signInWithIdp(auth2, this._buildIdpRequest());
      }
      _linkToIdToken(auth2, idToken) {
        return signInWithIdp(auth2, this._buildIdpRequest(idToken));
      }
      _getReauthenticationResolver(auth2) {
        return signInWithIdp(auth2, this._buildIdpRequest());
      }
      _buildIdpRequest(idToken) {
        const request = {
          requestUri: this.params.requestUri,
          sessionId: this.params.sessionId,
          postBody: this.params.postBody,
          tenantId: this.params.tenantId,
          pendingToken: this.params.pendingToken,
          returnSecureToken: true,
          returnIdpCredential: true
        };
        if (idToken) {
          request.idToken = idToken;
        }
        return request;
      }
    };
    AbstractPopupRedirectOperation = class {
      constructor(auth2, filter2, resolver, user, bypassAuthState = false) {
        this.auth = auth2;
        this.resolver = resolver;
        this.user = user;
        this.bypassAuthState = bypassAuthState;
        this.pendingPromise = null;
        this.eventManager = null;
        this.filter = Array.isArray(filter2) ? filter2 : [filter2];
      }
      execute() {
        return new Promise(async (resolve, reject) => {
          this.pendingPromise = { resolve, reject };
          try {
            this.eventManager = await this.resolver._initialize(this.auth);
            await this.onExecution();
            this.eventManager.registerConsumer(this);
          } catch (e3) {
            this.reject(e3);
          }
        });
      }
      async onAuthEvent(event) {
        const { urlResponse, sessionId, postBody, tenantId, error: error2, type: type2 } = event;
        if (error2) {
          this.reject(error2);
          return;
        }
        const params = {
          auth: this.auth,
          requestUri: urlResponse,
          sessionId,
          tenantId: tenantId || void 0,
          postBody: postBody || void 0,
          user: this.user,
          bypassAuthState: this.bypassAuthState
        };
        try {
          this.resolve(await this.getIdpTask(type2)(params));
        } catch (e3) {
          this.reject(e3);
        }
      }
      onError(error2) {
        this.reject(error2);
      }
      getIdpTask(type2) {
        switch (type2) {
          case "signInViaPopup":
          case "signInViaRedirect":
            return _signIn;
          case "linkViaPopup":
          case "linkViaRedirect":
            return _link;
          case "reauthViaPopup":
          case "reauthViaRedirect":
            return _reauth;
          default:
            _fail(
              this.auth,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
        }
      }
      resolve(cred) {
        debugAssert(this.pendingPromise, "Pending promise was never set");
        this.pendingPromise.resolve(cred);
        this.unregisterAndCleanUp();
      }
      reject(error2) {
        debugAssert(this.pendingPromise, "Pending promise was never set");
        this.pendingPromise.reject(error2);
        this.unregisterAndCleanUp();
      }
      unregisterAndCleanUp() {
        if (this.eventManager) {
          this.eventManager.unregisterConsumer(this);
        }
        this.pendingPromise = null;
        this.cleanUp();
      }
    };
    _POLL_WINDOW_CLOSE_TIMEOUT = new Delay(2e3, 1e4);
    PopupOperation = class _PopupOperation extends AbstractPopupRedirectOperation {
      constructor(auth2, filter2, provider, resolver, user) {
        super(auth2, filter2, resolver, user);
        this.provider = provider;
        this.authWindow = null;
        this.pollId = null;
        if (_PopupOperation.currentPopupAction) {
          _PopupOperation.currentPopupAction.cancel();
        }
        _PopupOperation.currentPopupAction = this;
      }
      async executeNotNull() {
        const result = await this.execute();
        _assert(
          result,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return result;
      }
      async onExecution() {
        debugAssert(this.filter.length === 1, "Popup operations only handle one event");
        const eventId = _generateEventId();
        this.authWindow = await this.resolver._openPopup(
          this.auth,
          this.provider,
          this.filter[0],
          // There's always one, see constructor
          eventId
        );
        this.authWindow.associatedEvent = eventId;
        this.resolver._originValidation(this.auth).catch((e3) => {
          this.reject(e3);
        });
        this.resolver._isIframeWebStorageSupported(this.auth, (isSupported) => {
          if (!isSupported) {
            this.reject(_createError(
              this.auth,
              "web-storage-unsupported"
              /* AuthErrorCode.WEB_STORAGE_UNSUPPORTED */
            ));
          }
        });
        this.pollUserCancellation();
      }
      get eventId() {
        var _a;
        return ((_a = this.authWindow) === null || _a === void 0 ? void 0 : _a.associatedEvent) || null;
      }
      cancel() {
        this.reject(_createError(
          this.auth,
          "cancelled-popup-request"
          /* AuthErrorCode.EXPIRED_POPUP_REQUEST */
        ));
      }
      cleanUp() {
        if (this.authWindow) {
          this.authWindow.close();
        }
        if (this.pollId) {
          window.clearTimeout(this.pollId);
        }
        this.authWindow = null;
        this.pollId = null;
        _PopupOperation.currentPopupAction = null;
      }
      pollUserCancellation() {
        const poll = () => {
          var _a, _b;
          if ((_b = (_a = this.authWindow) === null || _a === void 0 ? void 0 : _a.window) === null || _b === void 0 ? void 0 : _b.closed) {
            this.pollId = window.setTimeout(
              () => {
                this.pollId = null;
                this.reject(_createError(
                  this.auth,
                  "popup-closed-by-user"
                  /* AuthErrorCode.POPUP_CLOSED_BY_USER */
                ));
              },
              8e3
              /* _Timeout.AUTH_EVENT */
            );
            return;
          }
          this.pollId = window.setTimeout(poll, _POLL_WINDOW_CLOSE_TIMEOUT.get());
        };
        poll();
      }
    };
    PopupOperation.currentPopupAction = null;
    PENDING_REDIRECT_KEY = "pendingRedirect";
    redirectOutcomeMap = /* @__PURE__ */ new Map();
    RedirectAction = class extends AbstractPopupRedirectOperation {
      constructor(auth2, resolver, bypassAuthState = false) {
        super(auth2, [
          "signInViaRedirect",
          "linkViaRedirect",
          "reauthViaRedirect",
          "unknown"
          /* AuthEventType.UNKNOWN */
        ], resolver, void 0, bypassAuthState);
        this.eventId = null;
      }
      /**
       * Override the execute function; if we already have a redirect result, then
       * just return it.
       */
      async execute() {
        let readyOutcome = redirectOutcomeMap.get(this.auth._key());
        if (!readyOutcome) {
          try {
            const hasPendingRedirect = await _getAndClearPendingRedirectStatus(this.resolver, this.auth);
            const result = hasPendingRedirect ? await super.execute() : null;
            readyOutcome = () => Promise.resolve(result);
          } catch (e3) {
            readyOutcome = () => Promise.reject(e3);
          }
          redirectOutcomeMap.set(this.auth._key(), readyOutcome);
        }
        if (!this.bypassAuthState) {
          redirectOutcomeMap.set(this.auth._key(), () => Promise.resolve(null));
        }
        return readyOutcome();
      }
      async onAuthEvent(event) {
        if (event.type === "signInViaRedirect") {
          return super.onAuthEvent(event);
        } else if (event.type === "unknown") {
          this.resolve(null);
          return;
        }
        if (event.eventId) {
          const user = await this.auth._redirectUserForId(event.eventId);
          if (user) {
            this.user = user;
            return super.onAuthEvent(event);
          } else {
            this.resolve(null);
          }
        }
      }
      async onExecution() {
      }
      cleanUp() {
      }
    };
    EVENT_DUPLICATION_CACHE_DURATION_MS = 10 * 60 * 1e3;
    AuthEventManager = class {
      constructor(auth2) {
        this.auth = auth2;
        this.cachedEventUids = /* @__PURE__ */ new Set();
        this.consumers = /* @__PURE__ */ new Set();
        this.queuedRedirectEvent = null;
        this.hasHandledPotentialRedirect = false;
        this.lastProcessedEventTime = Date.now();
      }
      registerConsumer(authEventConsumer) {
        this.consumers.add(authEventConsumer);
        if (this.queuedRedirectEvent && this.isEventForConsumer(this.queuedRedirectEvent, authEventConsumer)) {
          this.sendToConsumer(this.queuedRedirectEvent, authEventConsumer);
          this.saveEventToCache(this.queuedRedirectEvent);
          this.queuedRedirectEvent = null;
        }
      }
      unregisterConsumer(authEventConsumer) {
        this.consumers.delete(authEventConsumer);
      }
      onEvent(event) {
        if (this.hasEventBeenHandled(event)) {
          return false;
        }
        let handled = false;
        this.consumers.forEach((consumer) => {
          if (this.isEventForConsumer(event, consumer)) {
            handled = true;
            this.sendToConsumer(event, consumer);
            this.saveEventToCache(event);
          }
        });
        if (this.hasHandledPotentialRedirect || !isRedirectEvent(event)) {
          return handled;
        }
        this.hasHandledPotentialRedirect = true;
        if (!handled) {
          this.queuedRedirectEvent = event;
          handled = true;
        }
        return handled;
      }
      sendToConsumer(event, consumer) {
        var _a;
        if (event.error && !isNullRedirectEvent(event)) {
          const code = ((_a = event.error.code) === null || _a === void 0 ? void 0 : _a.split("auth/")[1]) || "internal-error";
          consumer.onError(_createError(this.auth, code));
        } else {
          consumer.onAuthEvent(event);
        }
      }
      isEventForConsumer(event, consumer) {
        const eventIdMatches = consumer.eventId === null || !!event.eventId && event.eventId === consumer.eventId;
        return consumer.filter.includes(event.type) && eventIdMatches;
      }
      hasEventBeenHandled(event) {
        if (Date.now() - this.lastProcessedEventTime >= EVENT_DUPLICATION_CACHE_DURATION_MS) {
          this.cachedEventUids.clear();
        }
        return this.cachedEventUids.has(eventUid(event));
      }
      saveEventToCache(event) {
        this.cachedEventUids.add(eventUid(event));
        this.lastProcessedEventTime = Date.now();
      }
    };
    IP_ADDRESS_REGEX = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;
    HTTP_REGEX = /^https?/;
    NETWORK_TIMEOUT = new Delay(3e4, 6e4);
    cachedGApiLoader = null;
    PING_TIMEOUT = new Delay(5e3, 15e3);
    IFRAME_PATH = "__/auth/iframe";
    EMULATED_IFRAME_PATH = "emulator/auth/iframe";
    IFRAME_ATTRIBUTES = {
      style: {
        position: "absolute",
        top: "-100px",
        width: "1px",
        height: "1px"
      },
      "aria-hidden": "true",
      tabindex: "-1"
    };
    EID_FROM_APIHOST = /* @__PURE__ */ new Map([
      ["identitytoolkit.googleapis.com", "p"],
      ["staging-identitytoolkit.sandbox.googleapis.com", "s"],
      ["test-identitytoolkit.sandbox.googleapis.com", "t"]
      // test
    ]);
    BASE_POPUP_OPTIONS = {
      location: "yes",
      resizable: "yes",
      statusbar: "yes",
      toolbar: "no"
    };
    DEFAULT_WIDTH = 500;
    DEFAULT_HEIGHT = 600;
    TARGET_BLANK = "_blank";
    FIREFOX_EMPTY_URL = "http://localhost";
    AuthPopup = class {
      constructor(window2) {
        this.window = window2;
        this.associatedEvent = null;
      }
      close() {
        if (this.window) {
          try {
            this.window.close();
          } catch (e3) {
          }
        }
      }
    };
    WIDGET_PATH = "__/auth/handler";
    EMULATOR_WIDGET_PATH = "emulator/auth/handler";
    FIREBASE_APP_CHECK_FRAGMENT_ID = encodeURIComponent("fac");
    WEB_STORAGE_SUPPORT_KEY = "webStorageSupport";
    BrowserPopupRedirectResolver = class {
      constructor() {
        this.eventManagers = {};
        this.iframes = {};
        this.originValidationPromises = {};
        this._redirectPersistence = browserSessionPersistence;
        this._completeRedirectFn = _getRedirectResult;
        this._overrideRedirectResult = _overrideRedirectResult;
      }
      // Wrapping in async even though we don't await anywhere in order
      // to make sure errors are raised as promise rejections
      async _openPopup(auth2, provider, authType, eventId) {
        var _a;
        debugAssert((_a = this.eventManagers[auth2._key()]) === null || _a === void 0 ? void 0 : _a.manager, "_initialize() not called before _openPopup()");
        const url = await _getRedirectUrl(auth2, provider, authType, _getCurrentUrl(), eventId);
        return _open(auth2, url, _generateEventId());
      }
      async _openRedirect(auth2, provider, authType, eventId) {
        await this._originValidation(auth2);
        const url = await _getRedirectUrl(auth2, provider, authType, _getCurrentUrl(), eventId);
        _setWindowLocation(url);
        return new Promise(() => {
        });
      }
      _initialize(auth2) {
        const key = auth2._key();
        if (this.eventManagers[key]) {
          const { manager, promise: promise2 } = this.eventManagers[key];
          if (manager) {
            return Promise.resolve(manager);
          } else {
            debugAssert(promise2, "If manager is not set, promise should be");
            return promise2;
          }
        }
        const promise = this.initAndGetManager(auth2);
        this.eventManagers[key] = { promise };
        promise.catch(() => {
          delete this.eventManagers[key];
        });
        return promise;
      }
      async initAndGetManager(auth2) {
        const iframe = await _openIframe(auth2);
        const manager = new AuthEventManager(auth2);
        iframe.register("authEvent", (iframeEvent) => {
          _assert(
            iframeEvent === null || iframeEvent === void 0 ? void 0 : iframeEvent.authEvent,
            auth2,
            "invalid-auth-event"
            /* AuthErrorCode.INVALID_AUTH_EVENT */
          );
          const handled = manager.onEvent(iframeEvent.authEvent);
          return {
            status: handled ? "ACK" : "ERROR"
            /* GapiOutcome.ERROR */
          };
        }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);
        this.eventManagers[auth2._key()] = { manager };
        this.iframes[auth2._key()] = iframe;
        return manager;
      }
      _isIframeWebStorageSupported(auth2, cb) {
        const iframe = this.iframes[auth2._key()];
        iframe.send(WEB_STORAGE_SUPPORT_KEY, { type: WEB_STORAGE_SUPPORT_KEY }, (result) => {
          var _a;
          const isSupported = (_a = result === null || result === void 0 ? void 0 : result[0]) === null || _a === void 0 ? void 0 : _a[WEB_STORAGE_SUPPORT_KEY];
          if (isSupported !== void 0) {
            cb(!!isSupported);
          }
          _fail(
            auth2,
            "internal-error"
            /* AuthErrorCode.INTERNAL_ERROR */
          );
        }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);
      }
      _originValidation(auth2) {
        const key = auth2._key();
        if (!this.originValidationPromises[key]) {
          this.originValidationPromises[key] = _validateOrigin(auth2);
        }
        return this.originValidationPromises[key];
      }
      get _shouldInitProactively() {
        return _isMobileBrowser() || _isSafari() || _isIOS();
      }
    };
    browserPopupRedirectResolver = BrowserPopupRedirectResolver;
    MultiFactorAssertionImpl = class {
      constructor(factorId) {
        this.factorId = factorId;
      }
      _process(auth2, session, displayName) {
        switch (session.type) {
          case "enroll":
            return this._finalizeEnroll(auth2, session.credential, displayName);
          case "signin":
            return this._finalizeSignIn(auth2, session.credential);
          default:
            return debugFail("unexpected MultiFactorSessionType");
        }
      }
    };
    PhoneMultiFactorAssertionImpl = class _PhoneMultiFactorAssertionImpl extends MultiFactorAssertionImpl {
      constructor(credential) {
        super(
          "phone"
          /* FactorId.PHONE */
        );
        this.credential = credential;
      }
      /** @internal */
      static _fromCredential(credential) {
        return new _PhoneMultiFactorAssertionImpl(credential);
      }
      /** @internal */
      _finalizeEnroll(auth2, idToken, displayName) {
        return finalizeEnrollPhoneMfa(auth2, {
          idToken,
          displayName,
          phoneVerificationInfo: this.credential._makeVerificationRequest()
        });
      }
      /** @internal */
      _finalizeSignIn(auth2, mfaPendingCredential) {
        return finalizeSignInPhoneMfa(auth2, {
          mfaPendingCredential,
          phoneVerificationInfo: this.credential._makeVerificationRequest()
        });
      }
    };
    PhoneMultiFactorGenerator = class {
      constructor() {
      }
      /**
       * Provides a {@link PhoneMultiFactorAssertion} to confirm ownership of the phone second factor.
       *
       * @remarks
       * This method does not work in a Node.js environment.
       *
       * @param phoneAuthCredential - A credential provided by {@link PhoneAuthProvider.credential}.
       * @returns A {@link PhoneMultiFactorAssertion} which can be used with
       * {@link MultiFactorResolver.resolveSignIn}
       */
      static assertion(credential) {
        return PhoneMultiFactorAssertionImpl._fromCredential(credential);
      }
    };
    PhoneMultiFactorGenerator.FACTOR_ID = "phone";
    TotpMultiFactorGenerator = class {
      /**
       * Provides a {@link TotpMultiFactorAssertion} to confirm ownership of
       * the TOTP (time-based one-time password) second factor.
       * This assertion is used to complete enrollment in TOTP second factor.
       *
       * @param secret A {@link TotpSecret} containing the shared secret key and other TOTP parameters.
       * @param oneTimePassword One-time password from TOTP App.
       * @returns A {@link TotpMultiFactorAssertion} which can be used with
       * {@link MultiFactorUser.enroll}.
       */
      static assertionForEnrollment(secret, oneTimePassword) {
        return TotpMultiFactorAssertionImpl._fromSecret(secret, oneTimePassword);
      }
      /**
       * Provides a {@link TotpMultiFactorAssertion} to confirm ownership of the TOTP second factor.
       * This assertion is used to complete signIn with TOTP as the second factor.
       *
       * @param enrollmentId identifies the enrolled TOTP second factor.
       * @param oneTimePassword One-time password from TOTP App.
       * @returns A {@link TotpMultiFactorAssertion} which can be used with
       * {@link MultiFactorResolver.resolveSignIn}.
       */
      static assertionForSignIn(enrollmentId, oneTimePassword) {
        return TotpMultiFactorAssertionImpl._fromEnrollmentId(enrollmentId, oneTimePassword);
      }
      /**
       * Returns a promise to {@link TotpSecret} which contains the TOTP shared secret key and other parameters.
       * Creates a TOTP secret as part of enrolling a TOTP second factor.
       * Used for generating a QR code URL or inputting into a TOTP app.
       * This method uses the auth instance corresponding to the user in the multiFactorSession.
       *
       * @param session The {@link MultiFactorSession} that the user is part of.
       * @returns A promise to {@link TotpSecret}.
       */
      static async generateSecret(session) {
        var _a;
        const mfaSession = session;
        _assert(
          typeof ((_a = mfaSession.user) === null || _a === void 0 ? void 0 : _a.auth) !== "undefined",
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const response = await startEnrollTotpMfa(mfaSession.user.auth, {
          idToken: mfaSession.credential,
          totpEnrollmentInfo: {}
        });
        return TotpSecret._fromStartTotpMfaEnrollmentResponse(response, mfaSession.user.auth);
      }
    };
    TotpMultiFactorGenerator.FACTOR_ID = "totp";
    TotpMultiFactorAssertionImpl = class _TotpMultiFactorAssertionImpl extends MultiFactorAssertionImpl {
      constructor(otp, enrollmentId, secret) {
        super(
          "totp"
          /* FactorId.TOTP */
        );
        this.otp = otp;
        this.enrollmentId = enrollmentId;
        this.secret = secret;
      }
      /** @internal */
      static _fromSecret(secret, otp) {
        return new _TotpMultiFactorAssertionImpl(otp, void 0, secret);
      }
      /** @internal */
      static _fromEnrollmentId(enrollmentId, otp) {
        return new _TotpMultiFactorAssertionImpl(otp, enrollmentId);
      }
      /** @internal */
      async _finalizeEnroll(auth2, idToken, displayName) {
        _assert(
          typeof this.secret !== "undefined",
          auth2,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return finalizeEnrollTotpMfa(auth2, {
          idToken,
          displayName,
          totpVerificationInfo: this.secret._makeTotpVerificationInfo(this.otp)
        });
      }
      /** @internal */
      async _finalizeSignIn(auth2, mfaPendingCredential) {
        _assert(
          this.enrollmentId !== void 0 && this.otp !== void 0,
          auth2,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        const totpVerificationInfo = { verificationCode: this.otp };
        return finalizeSignInTotpMfa(auth2, {
          mfaPendingCredential,
          mfaEnrollmentId: this.enrollmentId,
          totpVerificationInfo
        });
      }
    };
    TotpSecret = class _TotpSecret {
      // The public members are declared outside the constructor so the docs can be generated.
      constructor(secretKey, hashingAlgorithm, codeLength, codeIntervalSeconds, enrollmentCompletionDeadline, sessionInfo, auth2) {
        this.sessionInfo = sessionInfo;
        this.auth = auth2;
        this.secretKey = secretKey;
        this.hashingAlgorithm = hashingAlgorithm;
        this.codeLength = codeLength;
        this.codeIntervalSeconds = codeIntervalSeconds;
        this.enrollmentCompletionDeadline = enrollmentCompletionDeadline;
      }
      /** @internal */
      static _fromStartTotpMfaEnrollmentResponse(response, auth2) {
        return new _TotpSecret(response.totpSessionInfo.sharedSecretKey, response.totpSessionInfo.hashingAlgorithm, response.totpSessionInfo.verificationCodeLength, response.totpSessionInfo.periodSec, new Date(response.totpSessionInfo.finalizeEnrollmentTime).toUTCString(), response.totpSessionInfo.sessionInfo, auth2);
      }
      /** @internal */
      _makeTotpVerificationInfo(otp) {
        return { sessionInfo: this.sessionInfo, verificationCode: otp };
      }
      /**
       * Returns a QR code URL as described in
       * https://github.com/google/google-authenticator/wiki/Key-Uri-Format
       * This can be displayed to the user as a QR code to be scanned into a TOTP app like Google Authenticator.
       * If the optional parameters are unspecified, an accountName of <userEmail> and issuer of <firebaseAppName> are used.
       *
       * @param accountName the name of the account/app along with a user identifier.
       * @param issuer issuer of the TOTP (likely the app name).
       * @returns A QR code URL string.
       */
      generateQrCodeUrl(accountName, issuer) {
        var _a;
        let useDefaults = false;
        if (_isEmptyString(accountName) || _isEmptyString(issuer)) {
          useDefaults = true;
        }
        if (useDefaults) {
          if (_isEmptyString(accountName)) {
            accountName = ((_a = this.auth.currentUser) === null || _a === void 0 ? void 0 : _a.email) || "unknownuser";
          }
          if (_isEmptyString(issuer)) {
            issuer = this.auth.name;
          }
        }
        return `otpauth://totp/${issuer}:${accountName}?secret=${this.secretKey}&issuer=${issuer}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`;
      }
    };
    name4 = "@firebase/auth";
    version3 = "1.7.9";
    AuthInterop = class {
      constructor(auth2) {
        this.auth = auth2;
        this.internalListeners = /* @__PURE__ */ new Map();
      }
      getUid() {
        var _a;
        this.assertAuthConfigured();
        return ((_a = this.auth.currentUser) === null || _a === void 0 ? void 0 : _a.uid) || null;
      }
      async getToken(forceRefresh) {
        this.assertAuthConfigured();
        await this.auth._initializationPromise;
        if (!this.auth.currentUser) {
          return null;
        }
        const accessToken = await this.auth.currentUser.getIdToken(forceRefresh);
        return { accessToken };
      }
      addAuthTokenListener(listener) {
        this.assertAuthConfigured();
        if (this.internalListeners.has(listener)) {
          return;
        }
        const unsubscribe = this.auth.onIdTokenChanged((user) => {
          listener((user === null || user === void 0 ? void 0 : user.stsTokenManager.accessToken) || null);
        });
        this.internalListeners.set(listener, unsubscribe);
        this.updateProactiveRefresh();
      }
      removeAuthTokenListener(listener) {
        this.assertAuthConfigured();
        const unsubscribe = this.internalListeners.get(listener);
        if (!unsubscribe) {
          return;
        }
        this.internalListeners.delete(listener);
        unsubscribe();
        this.updateProactiveRefresh();
      }
      assertAuthConfigured() {
        _assert(
          this.auth._initializationPromise,
          "dependent-sdk-initialized-before-auth"
          /* AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH */
        );
      }
      updateProactiveRefresh() {
        if (this.internalListeners.size > 0) {
          this.auth._startProactiveRefresh();
        } else {
          this.auth._stopProactiveRefresh();
        }
      }
    };
    DEFAULT_ID_TOKEN_MAX_AGE = 5 * 60;
    authIdTokenMaxAge = getExperimentalSetting("authIdTokenMaxAge") || DEFAULT_ID_TOKEN_MAX_AGE;
    lastPostedIdToken = null;
    mintCookieFactory = (url) => async (user) => {
      const idTokenResult = user && await user.getIdTokenResult();
      const idTokenAge = idTokenResult && ((/* @__PURE__ */ new Date()).getTime() - Date.parse(idTokenResult.issuedAtTime)) / 1e3;
      if (idTokenAge && idTokenAge > authIdTokenMaxAge) {
        return;
      }
      const idToken = idTokenResult === null || idTokenResult === void 0 ? void 0 : idTokenResult.token;
      if (lastPostedIdToken === idToken) {
        return;
      }
      lastPostedIdToken = idToken;
      await fetch(url, {
        method: idToken ? "POST" : "DELETE",
        headers: idToken ? {
          "Authorization": `Bearer ${idToken}`
        } : {}
      });
    };
    _setExternalJSProvider({
      loadJS(url) {
        return new Promise((resolve, reject) => {
          const el = document.createElement("script");
          el.setAttribute("src", url);
          el.onload = resolve;
          el.onerror = (e3) => {
            const error2 = _createError(
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
            error2.customData = e3;
            reject(error2);
          };
          el.type = "text/javascript";
          el.charset = "UTF-8";
          getScriptParentElement().appendChild(el);
        });
      },
      gapiScript: "https://apis.google.com/js/api.js",
      recaptchaV2Script: "https://www.google.com/recaptcha/api.js",
      recaptchaEnterpriseScript: "https://www.google.com/recaptcha/enterprise.js?render="
    });
    registerAuth(
      "Browser"
      /* ClientPlatform.BROWSER */
    );
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index.js
var init_esm2017 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index.js"() {
    init_index_68602d24();
    init_index_esm20174();
    init_index_esm2017();
    init_index_esm20173();
    init_index_esm20172();
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/firebase@10.14.1_@firebase+app@0.10.13_@firebase+app-compat@0.2.43_@firebase+app-types@0.9.2/node_modules/firebase/auth/dist/esm/index.esm.js
var index_esm_exports = {};
__export(index_esm_exports, {
  ActionCodeOperation: () => ActionCodeOperation,
  ActionCodeURL: () => ActionCodeURL,
  AuthCredential: () => AuthCredential,
  AuthErrorCodes: () => AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY,
  EmailAuthCredential: () => EmailAuthCredential,
  EmailAuthProvider: () => EmailAuthProvider,
  FacebookAuthProvider: () => FacebookAuthProvider,
  FactorId: () => FactorId,
  GithubAuthProvider: () => GithubAuthProvider,
  GoogleAuthProvider: () => GoogleAuthProvider,
  OAuthCredential: () => OAuthCredential,
  OAuthProvider: () => OAuthProvider,
  OperationType: () => OperationType,
  PhoneAuthCredential: () => PhoneAuthCredential,
  PhoneAuthProvider: () => PhoneAuthProvider,
  PhoneMultiFactorGenerator: () => PhoneMultiFactorGenerator,
  ProviderId: () => ProviderId,
  RecaptchaVerifier: () => RecaptchaVerifier,
  SAMLAuthProvider: () => SAMLAuthProvider,
  SignInMethod: () => SignInMethod,
  TotpMultiFactorGenerator: () => TotpMultiFactorGenerator,
  TotpSecret: () => TotpSecret,
  TwitterAuthProvider: () => TwitterAuthProvider,
  applyActionCode: () => applyActionCode,
  beforeAuthStateChanged: () => beforeAuthStateChanged,
  browserLocalPersistence: () => browserLocalPersistence,
  browserPopupRedirectResolver: () => browserPopupRedirectResolver,
  browserSessionPersistence: () => browserSessionPersistence,
  checkActionCode: () => checkActionCode,
  confirmPasswordReset: () => confirmPasswordReset,
  connectAuthEmulator: () => connectAuthEmulator,
  createUserWithEmailAndPassword: () => createUserWithEmailAndPassword,
  debugErrorMap: () => debugErrorMap,
  deleteUser: () => deleteUser,
  fetchSignInMethodsForEmail: () => fetchSignInMethodsForEmail,
  getAdditionalUserInfo: () => getAdditionalUserInfo,
  getAuth: () => getAuth,
  getIdToken: () => getIdToken,
  getIdTokenResult: () => getIdTokenResult,
  getMultiFactorResolver: () => getMultiFactorResolver,
  getRedirectResult: () => getRedirectResult,
  inMemoryPersistence: () => inMemoryPersistence,
  indexedDBLocalPersistence: () => indexedDBLocalPersistence,
  initializeAuth: () => initializeAuth,
  initializeRecaptchaConfig: () => initializeRecaptchaConfig,
  isSignInWithEmailLink: () => isSignInWithEmailLink,
  linkWithCredential: () => linkWithCredential,
  linkWithPhoneNumber: () => linkWithPhoneNumber,
  linkWithPopup: () => linkWithPopup,
  linkWithRedirect: () => linkWithRedirect,
  multiFactor: () => multiFactor,
  onAuthStateChanged: () => onAuthStateChanged,
  onIdTokenChanged: () => onIdTokenChanged,
  parseActionCodeURL: () => parseActionCodeURL,
  prodErrorMap: () => prodErrorMap,
  reauthenticateWithCredential: () => reauthenticateWithCredential,
  reauthenticateWithPhoneNumber: () => reauthenticateWithPhoneNumber,
  reauthenticateWithPopup: () => reauthenticateWithPopup,
  reauthenticateWithRedirect: () => reauthenticateWithRedirect,
  reload: () => reload,
  revokeAccessToken: () => revokeAccessToken,
  sendEmailVerification: () => sendEmailVerification,
  sendPasswordResetEmail: () => sendPasswordResetEmail,
  sendSignInLinkToEmail: () => sendSignInLinkToEmail,
  setPersistence: () => setPersistence,
  signInAnonymously: () => signInAnonymously,
  signInWithCredential: () => signInWithCredential,
  signInWithCustomToken: () => signInWithCustomToken,
  signInWithEmailAndPassword: () => signInWithEmailAndPassword,
  signInWithEmailLink: () => signInWithEmailLink,
  signInWithPhoneNumber: () => signInWithPhoneNumber,
  signInWithPopup: () => signInWithPopup,
  signInWithRedirect: () => signInWithRedirect,
  signOut: () => signOut,
  unlink: () => unlink,
  updateCurrentUser: () => updateCurrentUser,
  updateEmail: () => updateEmail,
  updatePassword: () => updatePassword,
  updatePhoneNumber: () => updatePhoneNumber,
  updateProfile: () => updateProfile,
  useDeviceLanguage: () => useDeviceLanguage,
  validatePassword: () => validatePassword,
  verifyBeforeUpdateEmail: () => verifyBeforeUpdateEmail,
  verifyPasswordResetCode: () => verifyPasswordResetCode
});
var init_index_esm = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/firebase@10.14.1_@firebase+app@0.10.13_@firebase+app-compat@0.2.43_@firebase+app-types@0.9.2/node_modules/firebase/auth/dist/esm/index.esm.js"() {
    init_esm2017();
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js
var require_react_jsx_runtime_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js"(exports) {
    "use strict";
    var f3 = require_react();
    var k = Symbol.for("react.element");
    var l3 = Symbol.for("react.fragment");
    var m = Object.prototype.hasOwnProperty;
    var n2 = f3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner;
    var p3 = { key: true, ref: true, __self: true, __source: true };
    function q(c3, a2, g) {
      var b, d4 = {}, e3 = null, h2 = null;
      void 0 !== g && (e3 = "" + g);
      void 0 !== a2.key && (e3 = "" + a2.key);
      void 0 !== a2.ref && (h2 = a2.ref);
      for (b in a2) m.call(a2, b) && !p3.hasOwnProperty(b) && (d4[b] = a2[b]);
      if (c3 && c3.defaultProps) for (b in a2 = c3.defaultProps, a2) void 0 === d4[b] && (d4[b] = a2[b]);
      return { $$typeof: k, type: c3, key: e3, ref: h2, props: d4, _owner: n2.current };
    }
    exports.Fragment = l3;
    exports.jsx = q;
    exports.jsxs = q;
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/jsx-runtime.js
var require_jsx_runtime = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/jsx-runtime.js"(exports, module) {
    "use strict";
    if (true) {
      module.exports = require_react_jsx_runtime_production_min();
    } else {
      module.exports = null;
    }
  }
});

// public/main.tsx
var import_react6 = __toESM(require_react());
var import_client = __toESM(require_client());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router-dom@6.30.2_react@18.3.1_react-dom@18.3.1__react@18.3.1/node_modules/react-router-dom/dist/index.js
var React2 = __toESM(require_react());
var ReactDOM = __toESM(require_react_dom());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router@6.30.2_react@18.3.1/node_modules/react-router/dist/index.js
var React = __toESM(require_react());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@remix-run/router@1.23.1/node_modules/@remix-run/router/dist/router.js
function _extends() {
  _extends = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
var Action;
(function(Action2) {
  Action2["Pop"] = "POP";
  Action2["Push"] = "PUSH";
  Action2["Replace"] = "REPLACE";
})(Action || (Action = {}));
var PopStateEventType = "popstate";
function createBrowserHistory(options) {
  if (options === void 0) {
    options = {};
  }
  function createBrowserLocation(window2, globalHistory) {
    let {
      pathname,
      search,
      hash
    } = window2.location;
    return createLocation(
      "",
      {
        pathname,
        search,
        hash
      },
      // state defaults to `null` because `window.history.state` does
      globalHistory.state && globalHistory.state.usr || null,
      globalHistory.state && globalHistory.state.key || "default"
    );
  }
  function createBrowserHref(window2, to) {
    return typeof to === "string" ? to : createPath(to);
  }
  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);
}
function invariant(value2, message) {
  if (value2 === false || value2 === null || typeof value2 === "undefined") {
    throw new Error(message);
  }
}
function warning(cond, message) {
  if (!cond) {
    if (typeof console !== "undefined") console.warn(message);
    try {
      throw new Error(message);
    } catch (e3) {
    }
  }
}
function createKey() {
  return Math.random().toString(36).substr(2, 8);
}
function getHistoryState(location2, index) {
  return {
    usr: location2.state,
    key: location2.key,
    idx: index
  };
}
function createLocation(current, to, state, key) {
  if (state === void 0) {
    state = null;
  }
  let location2 = _extends({
    pathname: typeof current === "string" ? current : current.pathname,
    search: "",
    hash: ""
  }, typeof to === "string" ? parsePath(to) : to, {
    state,
    // TODO: This could be cleaned up.  push/replace should probably just take
    // full Locations now and avoid the need to run through this flow at all
    // But that's a pretty big refactor to the current test suite so going to
    // keep as is for the time being and just let any incoming keys take precedence
    key: to && to.key || key || createKey()
  });
  return location2;
}
function createPath(_ref) {
  let {
    pathname = "/",
    search = "",
    hash = ""
  } = _ref;
  if (search && search !== "?") pathname += search.charAt(0) === "?" ? search : "?" + search;
  if (hash && hash !== "#") pathname += hash.charAt(0) === "#" ? hash : "#" + hash;
  return pathname;
}
function parsePath(path) {
  let parsedPath = {};
  if (path) {
    let hashIndex = path.indexOf("#");
    if (hashIndex >= 0) {
      parsedPath.hash = path.substr(hashIndex);
      path = path.substr(0, hashIndex);
    }
    let searchIndex = path.indexOf("?");
    if (searchIndex >= 0) {
      parsedPath.search = path.substr(searchIndex);
      path = path.substr(0, searchIndex);
    }
    if (path) {
      parsedPath.pathname = path;
    }
  }
  return parsedPath;
}
function getUrlBasedHistory(getLocation, createHref, validateLocation, options) {
  if (options === void 0) {
    options = {};
  }
  let {
    window: window2 = document.defaultView,
    v5Compat = false
  } = options;
  let globalHistory = window2.history;
  let action = Action.Pop;
  let listener = null;
  let index = getIndex();
  if (index == null) {
    index = 0;
    globalHistory.replaceState(_extends({}, globalHistory.state, {
      idx: index
    }), "");
  }
  function getIndex() {
    let state = globalHistory.state || {
      idx: null
    };
    return state.idx;
  }
  function handlePop() {
    action = Action.Pop;
    let nextIndex = getIndex();
    let delta = nextIndex == null ? null : nextIndex - index;
    index = nextIndex;
    if (listener) {
      listener({
        action,
        location: history.location,
        delta
      });
    }
  }
  function push2(to, state) {
    action = Action.Push;
    let location2 = createLocation(history.location, to, state);
    if (validateLocation) validateLocation(location2, to);
    index = getIndex() + 1;
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    try {
      globalHistory.pushState(historyState, "", url);
    } catch (error2) {
      if (error2 instanceof DOMException && error2.name === "DataCloneError") {
        throw error2;
      }
      window2.location.assign(url);
    }
    if (v5Compat && listener) {
      listener({
        action,
        location: history.location,
        delta: 1
      });
    }
  }
  function replace2(to, state) {
    action = Action.Replace;
    let location2 = createLocation(history.location, to, state);
    if (validateLocation) validateLocation(location2, to);
    index = getIndex();
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    globalHistory.replaceState(historyState, "", url);
    if (v5Compat && listener) {
      listener({
        action,
        location: history.location,
        delta: 0
      });
    }
  }
  function createURL(to) {
    let base = window2.location.origin !== "null" ? window2.location.origin : window2.location.href;
    let href = typeof to === "string" ? to : createPath(to);
    href = href.replace(/ $/, "%20");
    invariant(base, "No window.location.(origin|href) available to create URL for href: " + href);
    return new URL(href, base);
  }
  let history = {
    get action() {
      return action;
    },
    get location() {
      return getLocation(window2, globalHistory);
    },
    listen(fn) {
      if (listener) {
        throw new Error("A history only accepts one active listener");
      }
      window2.addEventListener(PopStateEventType, handlePop);
      listener = fn;
      return () => {
        window2.removeEventListener(PopStateEventType, handlePop);
        listener = null;
      };
    },
    createHref(to) {
      return createHref(window2, to);
    },
    createURL,
    encodeLocation(to) {
      let url = createURL(to);
      return {
        pathname: url.pathname,
        search: url.search,
        hash: url.hash
      };
    },
    push: push2,
    replace: replace2,
    go(n2) {
      return globalHistory.go(n2);
    }
  };
  return history;
}
var ResultType;
(function(ResultType2) {
  ResultType2["data"] = "data";
  ResultType2["deferred"] = "deferred";
  ResultType2["redirect"] = "redirect";
  ResultType2["error"] = "error";
})(ResultType || (ResultType = {}));
function matchRoutes(routes, locationArg, basename) {
  if (basename === void 0) {
    basename = "/";
  }
  return matchRoutesImpl(routes, locationArg, basename, false);
}
function matchRoutesImpl(routes, locationArg, basename, allowPartial) {
  let location2 = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
  let pathname = stripBasename(location2.pathname || "/", basename);
  if (pathname == null) {
    return null;
  }
  let branches = flattenRoutes(routes);
  rankRouteBranches(branches);
  let matches = null;
  for (let i3 = 0; matches == null && i3 < branches.length; ++i3) {
    let decoded = decodePath(pathname);
    matches = matchRouteBranch(branches[i3], decoded, allowPartial);
  }
  return matches;
}
function flattenRoutes(routes, branches, parentsMeta, parentPath) {
  if (branches === void 0) {
    branches = [];
  }
  if (parentsMeta === void 0) {
    parentsMeta = [];
  }
  if (parentPath === void 0) {
    parentPath = "";
  }
  let flattenRoute = (route, index, relativePath) => {
    let meta = {
      relativePath: relativePath === void 0 ? route.path || "" : relativePath,
      caseSensitive: route.caseSensitive === true,
      childrenIndex: index,
      route
    };
    if (meta.relativePath.startsWith("/")) {
      invariant(meta.relativePath.startsWith(parentPath), 'Absolute route path "' + meta.relativePath + '" nested under path ' + ('"' + parentPath + '" is not valid. An absolute child route path ') + "must start with the combined path of all its parent routes.");
      meta.relativePath = meta.relativePath.slice(parentPath.length);
    }
    let path = joinPaths([parentPath, meta.relativePath]);
    let routesMeta = parentsMeta.concat(meta);
    if (route.children && route.children.length > 0) {
      invariant(
        // Our types know better, but runtime JS may not!
        // @ts-expect-error
        route.index !== true,
        "Index routes must not have child routes. Please remove " + ('all child routes from route path "' + path + '".')
      );
      flattenRoutes(route.children, branches, routesMeta, path);
    }
    if (route.path == null && !route.index) {
      return;
    }
    branches.push({
      path,
      score: computeScore(path, route.index),
      routesMeta
    });
  };
  routes.forEach((route, index) => {
    var _route$path;
    if (route.path === "" || !((_route$path = route.path) != null && _route$path.includes("?"))) {
      flattenRoute(route, index);
    } else {
      for (let exploded of explodeOptionalSegments(route.path)) {
        flattenRoute(route, index, exploded);
      }
    }
  });
  return branches;
}
function explodeOptionalSegments(path) {
  let segments = path.split("/");
  if (segments.length === 0) return [];
  let [first, ...rest] = segments;
  let isOptional = first.endsWith("?");
  let required = first.replace(/\?$/, "");
  if (rest.length === 0) {
    return isOptional ? [required, ""] : [required];
  }
  let restExploded = explodeOptionalSegments(rest.join("/"));
  let result = [];
  result.push(...restExploded.map((subpath) => subpath === "" ? required : [required, subpath].join("/")));
  if (isOptional) {
    result.push(...restExploded);
  }
  return result.map((exploded) => path.startsWith("/") && exploded === "" ? "/" : exploded);
}
function rankRouteBranches(branches) {
  branches.sort((a2, b) => a2.score !== b.score ? b.score - a2.score : compareIndexes(a2.routesMeta.map((meta) => meta.childrenIndex), b.routesMeta.map((meta) => meta.childrenIndex)));
}
var paramRe = /^:[\w-]+$/;
var dynamicSegmentValue = 3;
var indexRouteValue = 2;
var emptySegmentValue = 1;
var staticSegmentValue = 10;
var splatPenalty = -2;
var isSplat = (s) => s === "*";
function computeScore(path, index) {
  let segments = path.split("/");
  let initialScore = segments.length;
  if (segments.some(isSplat)) {
    initialScore += splatPenalty;
  }
  if (index) {
    initialScore += indexRouteValue;
  }
  return segments.filter((s) => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === "" ? emptySegmentValue : staticSegmentValue), initialScore);
}
function compareIndexes(a2, b) {
  let siblings = a2.length === b.length && a2.slice(0, -1).every((n2, i3) => n2 === b[i3]);
  return siblings ? (
    // If two routes are siblings, we should try to match the earlier sibling
    // first. This allows people to have fine-grained control over the matching
    // behavior by simply putting routes with identical paths in the order they
    // want them tried.
    a2[a2.length - 1] - b[b.length - 1]
  ) : (
    // Otherwise, it doesn't really make sense to rank non-siblings by index,
    // so they sort equally.
    0
  );
}
function matchRouteBranch(branch, pathname, allowPartial) {
  if (allowPartial === void 0) {
    allowPartial = false;
  }
  let {
    routesMeta
  } = branch;
  let matchedParams = {};
  let matchedPathname = "/";
  let matches = [];
  for (let i3 = 0; i3 < routesMeta.length; ++i3) {
    let meta = routesMeta[i3];
    let end = i3 === routesMeta.length - 1;
    let remainingPathname = matchedPathname === "/" ? pathname : pathname.slice(matchedPathname.length) || "/";
    let match = matchPath({
      path: meta.relativePath,
      caseSensitive: meta.caseSensitive,
      end
    }, remainingPathname);
    let route = meta.route;
    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {
      match = matchPath({
        path: meta.relativePath,
        caseSensitive: meta.caseSensitive,
        end: false
      }, remainingPathname);
    }
    if (!match) {
      return null;
    }
    Object.assign(matchedParams, match.params);
    matches.push({
      // TODO: Can this as be avoided?
      params: matchedParams,
      pathname: joinPaths([matchedPathname, match.pathname]),
      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),
      route
    });
    if (match.pathnameBase !== "/") {
      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);
    }
  }
  return matches;
}
function matchPath(pattern, pathname) {
  if (typeof pattern === "string") {
    pattern = {
      path: pattern,
      caseSensitive: false,
      end: true
    };
  }
  let [matcher, compiledParams] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);
  let match = pathname.match(matcher);
  if (!match) return null;
  let matchedPathname = match[0];
  let pathnameBase = matchedPathname.replace(/(.)\/+$/, "$1");
  let captureGroups = match.slice(1);
  let params = compiledParams.reduce((memo2, _ref, index) => {
    let {
      paramName,
      isOptional
    } = _ref;
    if (paramName === "*") {
      let splatValue = captureGroups[index] || "";
      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\/+$/, "$1");
    }
    const value2 = captureGroups[index];
    if (isOptional && !value2) {
      memo2[paramName] = void 0;
    } else {
      memo2[paramName] = (value2 || "").replace(/%2F/g, "/");
    }
    return memo2;
  }, {});
  return {
    params,
    pathname: matchedPathname,
    pathnameBase,
    pattern
  };
}
function compilePath(path, caseSensitive, end) {
  if (caseSensitive === void 0) {
    caseSensitive = false;
  }
  if (end === void 0) {
    end = true;
  }
  warning(path === "*" || !path.endsWith("*") || path.endsWith("/*"), 'Route path "' + path + '" will be treated as if it were ' + ('"' + path.replace(/\*$/, "/*") + '" because the `*` character must ') + "always follow a `/` in the pattern. To get rid of this warning, " + ('please change the route path to "' + path.replace(/\*$/, "/*") + '".'));
  let params = [];
  let regexpSource = "^" + path.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (_, paramName, isOptional) => {
    params.push({
      paramName,
      isOptional: isOptional != null
    });
    return isOptional ? "/?([^\\/]+)?" : "/([^\\/]+)";
  });
  if (path.endsWith("*")) {
    params.push({
      paramName: "*"
    });
    regexpSource += path === "*" || path === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$";
  } else if (end) {
    regexpSource += "\\/*$";
  } else if (path !== "" && path !== "/") {
    regexpSource += "(?:(?=\\/|$))";
  } else ;
  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : "i");
  return [matcher, params];
}
function decodePath(value2) {
  try {
    return value2.split("/").map((v3) => decodeURIComponent(v3).replace(/\//g, "%2F")).join("/");
  } catch (error2) {
    warning(false, 'The URL path "' + value2 + '" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent ' + ("encoding (" + error2 + ")."));
    return value2;
  }
}
function stripBasename(pathname, basename) {
  if (basename === "/") return pathname;
  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {
    return null;
  }
  let startIndex = basename.endsWith("/") ? basename.length - 1 : basename.length;
  let nextChar = pathname.charAt(startIndex);
  if (nextChar && nextChar !== "/") {
    return null;
  }
  return pathname.slice(startIndex) || "/";
}
var ABSOLUTE_URL_REGEX$1 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var isAbsoluteUrl = (url) => ABSOLUTE_URL_REGEX$1.test(url);
function resolvePath(to, fromPathname) {
  if (fromPathname === void 0) {
    fromPathname = "/";
  }
  let {
    pathname: toPathname,
    search = "",
    hash = ""
  } = typeof to === "string" ? parsePath(to) : to;
  let pathname;
  if (toPathname) {
    if (isAbsoluteUrl(toPathname)) {
      pathname = toPathname;
    } else {
      if (toPathname.includes("//")) {
        let oldPathname = toPathname;
        toPathname = toPathname.replace(/\/\/+/g, "/");
        warning(false, "Pathnames cannot have embedded double slashes - normalizing " + (oldPathname + " -> " + toPathname));
      }
      if (toPathname.startsWith("/")) {
        pathname = resolvePathname(toPathname.substring(1), "/");
      } else {
        pathname = resolvePathname(toPathname, fromPathname);
      }
    }
  } else {
    pathname = fromPathname;
  }
  return {
    pathname,
    search: normalizeSearch(search),
    hash: normalizeHash(hash)
  };
}
function resolvePathname(relativePath, fromPathname) {
  let segments = fromPathname.replace(/\/+$/, "").split("/");
  let relativeSegments = relativePath.split("/");
  relativeSegments.forEach((segment) => {
    if (segment === "..") {
      if (segments.length > 1) segments.pop();
    } else if (segment !== ".") {
      segments.push(segment);
    }
  });
  return segments.length > 1 ? segments.join("/") : "/";
}
function getInvalidPathError(char, field, dest, path) {
  return "Cannot include a '" + char + "' character in a manually specified " + ("`to." + field + "` field [" + JSON.stringify(path) + "].  Please separate it out to the ") + ("`to." + dest + "` field. Alternatively you may provide the full path as ") + 'a string in <Link to="..."> and the router will parse it for you.';
}
function getPathContributingMatches(matches) {
  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);
}
function getResolveToMatches(matches, v7_relativeSplatPath) {
  let pathMatches = getPathContributingMatches(matches);
  if (v7_relativeSplatPath) {
    return pathMatches.map((match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase);
  }
  return pathMatches.map((match) => match.pathnameBase);
}
function resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {
  if (isPathRelative === void 0) {
    isPathRelative = false;
  }
  let to;
  if (typeof toArg === "string") {
    to = parsePath(toArg);
  } else {
    to = _extends({}, toArg);
    invariant(!to.pathname || !to.pathname.includes("?"), getInvalidPathError("?", "pathname", "search", to));
    invariant(!to.pathname || !to.pathname.includes("#"), getInvalidPathError("#", "pathname", "hash", to));
    invariant(!to.search || !to.search.includes("#"), getInvalidPathError("#", "search", "hash", to));
  }
  let isEmptyPath = toArg === "" || to.pathname === "";
  let toPathname = isEmptyPath ? "/" : to.pathname;
  let from;
  if (toPathname == null) {
    from = locationPathname;
  } else {
    let routePathnameIndex = routePathnames.length - 1;
    if (!isPathRelative && toPathname.startsWith("..")) {
      let toSegments = toPathname.split("/");
      while (toSegments[0] === "..") {
        toSegments.shift();
        routePathnameIndex -= 1;
      }
      to.pathname = toSegments.join("/");
    }
    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : "/";
  }
  let path = resolvePath(to, from);
  let hasExplicitTrailingSlash = toPathname && toPathname !== "/" && toPathname.endsWith("/");
  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === ".") && locationPathname.endsWith("/");
  if (!path.pathname.endsWith("/") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {
    path.pathname += "/";
  }
  return path;
}
var joinPaths = (paths) => paths.join("/").replace(/\/\/+/g, "/");
var normalizePathname = (pathname) => pathname.replace(/\/+$/, "").replace(/^\/*/, "/");
var normalizeSearch = (search) => !search || search === "?" ? "" : search.startsWith("?") ? search : "?" + search;
var normalizeHash = (hash) => !hash || hash === "#" ? "" : hash.startsWith("#") ? hash : "#" + hash;
function isRouteErrorResponse(error2) {
  return error2 != null && typeof error2.status === "number" && typeof error2.statusText === "string" && typeof error2.internal === "boolean" && "data" in error2;
}
var validMutationMethodsArr = ["post", "put", "patch", "delete"];
var validMutationMethods = new Set(validMutationMethodsArr);
var validRequestMethodsArr = ["get", ...validMutationMethodsArr];
var validRequestMethods = new Set(validRequestMethodsArr);
var UNSAFE_DEFERRED_SYMBOL = Symbol("deferred");

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router@6.30.2_react@18.3.1/node_modules/react-router/dist/index.js
function _extends2() {
  _extends2 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends2.apply(this, arguments);
}
var DataRouterContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  DataRouterContext.displayName = "DataRouter";
}
var DataRouterStateContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  DataRouterStateContext.displayName = "DataRouterState";
}
if (false) {
  AwaitContext.displayName = "Await";
}
var NavigationContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  NavigationContext.displayName = "Navigation";
}
var LocationContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  LocationContext.displayName = "Location";
}
var RouteContext = /* @__PURE__ */ React.createContext({
  outlet: null,
  matches: [],
  isDataRoute: false
});
if (false) {
  RouteContext.displayName = "Route";
}
var RouteErrorContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  RouteErrorContext.displayName = "RouteError";
}
function useHref(to, _temp) {
  let {
    relative
  } = _temp === void 0 ? {} : _temp;
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useHref() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    basename,
    navigator: navigator2
  } = React.useContext(NavigationContext);
  let {
    hash,
    pathname,
    search
  } = useResolvedPath(to, {
    relative
  });
  let joinedPathname = pathname;
  if (basename !== "/") {
    joinedPathname = pathname === "/" ? basename : joinPaths([basename, pathname]);
  }
  return navigator2.createHref({
    pathname: joinedPathname,
    search,
    hash
  });
}
function useInRouterContext() {
  return React.useContext(LocationContext) != null;
}
function useLocation() {
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useLocation() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  return React.useContext(LocationContext).location;
}
function useIsomorphicLayoutEffect(cb) {
  let isStatic = React.useContext(NavigationContext).static;
  if (!isStatic) {
    React.useLayoutEffect(cb);
  }
}
function useNavigate() {
  let {
    isDataRoute
  } = React.useContext(RouteContext);
  return isDataRoute ? useNavigateStable() : useNavigateUnstable();
}
function useNavigateUnstable() {
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useNavigate() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let dataRouterContext = React.useContext(DataRouterContext);
  let {
    basename,
    future,
    navigator: navigator2
  } = React.useContext(NavigationContext);
  let {
    matches
  } = React.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches, future.v7_relativeSplatPath));
  let activeRef = React.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = React.useCallback(function(to, options) {
    if (options === void 0) {
      options = {};
    }
    false ? warning(activeRef.current, navigateEffectWarning) : void 0;
    if (!activeRef.current) return;
    if (typeof to === "number") {
      navigator2.go(to);
      return;
    }
    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === "path");
    if (dataRouterContext == null && basename !== "/") {
      path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
    }
    (!!options.replace ? navigator2.replace : navigator2.push)(path, options.state, options);
  }, [basename, navigator2, routePathnamesJson, locationPathname, dataRouterContext]);
  return navigate;
}
var OutletContext = /* @__PURE__ */ React.createContext(null);
function useOutlet(context) {
  let outlet = React.useContext(RouteContext).outlet;
  if (outlet) {
    return /* @__PURE__ */ React.createElement(OutletContext.Provider, {
      value: context
    }, outlet);
  }
  return outlet;
}
function useResolvedPath(to, _temp2) {
  let {
    relative
  } = _temp2 === void 0 ? {} : _temp2;
  let {
    future
  } = React.useContext(NavigationContext);
  let {
    matches
  } = React.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches, future.v7_relativeSplatPath));
  return React.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === "path"), [to, routePathnamesJson, locationPathname, relative]);
}
function useRoutes(routes, locationArg) {
  return useRoutesImpl(routes, locationArg);
}
function useRoutesImpl(routes, locationArg, dataRouterState, future) {
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useRoutes() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    navigator: navigator2
  } = React.useContext(NavigationContext);
  let {
    matches: parentMatches
  } = React.useContext(RouteContext);
  let routeMatch = parentMatches[parentMatches.length - 1];
  let parentParams = routeMatch ? routeMatch.params : {};
  let parentPathname = routeMatch ? routeMatch.pathname : "/";
  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : "/";
  let parentRoute = routeMatch && routeMatch.route;
  if (false) {
    let parentPath = parentRoute && parentRoute.path || "";
    warningOnce(parentPathname, !parentRoute || parentPath.endsWith("*"), "You rendered descendant <Routes> (or called `useRoutes()`) at " + ('"' + parentPathname + '" (under <Route path="' + parentPath + '">) but the ') + `parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

` + ('Please change the parent <Route path="' + parentPath + '"> to <Route ') + ('path="' + (parentPath === "/" ? "*" : parentPath + "/*") + '">.'));
  }
  let locationFromContext = useLocation();
  let location2;
  if (locationArg) {
    var _parsedLocationArg$pa;
    let parsedLocationArg = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
    !(parentPathnameBase === "/" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) ? false ? invariant(false, "When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was " + ('matched by all parent routes. The current pathname base is "' + parentPathnameBase + '" ') + ('but pathname "' + parsedLocationArg.pathname + '" was given in the `location` prop.')) : invariant(false) : void 0;
    location2 = parsedLocationArg;
  } else {
    location2 = locationFromContext;
  }
  let pathname = location2.pathname || "/";
  let remainingPathname = pathname;
  if (parentPathnameBase !== "/") {
    let parentSegments = parentPathnameBase.replace(/^\//, "").split("/");
    let segments = pathname.replace(/^\//, "").split("/");
    remainingPathname = "/" + segments.slice(parentSegments.length).join("/");
  }
  let matches = matchRoutes(routes, {
    pathname: remainingPathname
  });
  if (false) {
    false ? warning(parentRoute || matches != null, 'No routes matched location "' + location2.pathname + location2.search + location2.hash + '" ') : void 0;
    false ? warning(matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0, 'Matched leaf route at location "' + location2.pathname + location2.search + location2.hash + '" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.') : void 0;
  }
  let renderedMatches = _renderMatches(matches && matches.map((match) => Object.assign({}, match, {
    params: Object.assign({}, parentParams, match.params),
    pathname: joinPaths([
      parentPathnameBase,
      // Re-encode pathnames that were decoded inside matchRoutes
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathname).pathname : match.pathname
    ]),
    pathnameBase: match.pathnameBase === "/" ? parentPathnameBase : joinPaths([
      parentPathnameBase,
      // Re-encode pathnames that were decoded inside matchRoutes
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathnameBase).pathname : match.pathnameBase
    ])
  })), parentMatches, dataRouterState, future);
  if (locationArg && renderedMatches) {
    return /* @__PURE__ */ React.createElement(LocationContext.Provider, {
      value: {
        location: _extends2({
          pathname: "/",
          search: "",
          hash: "",
          state: null,
          key: "default"
        }, location2),
        navigationType: Action.Pop
      }
    }, renderedMatches);
  }
  return renderedMatches;
}
function DefaultErrorComponent() {
  let error2 = useRouteError();
  let message = isRouteErrorResponse(error2) ? error2.status + " " + error2.statusText : error2 instanceof Error ? error2.message : JSON.stringify(error2);
  let stack = error2 instanceof Error ? error2.stack : null;
  let lightgrey = "rgba(200,200,200, 0.5)";
  let preStyles = {
    padding: "0.5rem",
    backgroundColor: lightgrey
  };
  let codeStyles = {
    padding: "2px 4px",
    backgroundColor: lightgrey
  };
  let devInfo = null;
  if (false) {
    console.error("Error handled by React Router default ErrorBoundary:", error2);
    devInfo = /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("p", null, "\u{1F4BF} Hey developer \u{1F44B}"), /* @__PURE__ */ React.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", /* @__PURE__ */ React.createElement("code", {
      style: codeStyles
    }, "ErrorBoundary"), " or", " ", /* @__PURE__ */ React.createElement("code", {
      style: codeStyles
    }, "errorElement"), " prop on your route."));
  }
  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("h2", null, "Unexpected Application Error!"), /* @__PURE__ */ React.createElement("h3", {
    style: {
      fontStyle: "italic"
    }
  }, message), stack ? /* @__PURE__ */ React.createElement("pre", {
    style: preStyles
  }, stack) : null, devInfo);
}
var defaultErrorElement = /* @__PURE__ */ React.createElement(DefaultErrorComponent, null);
var RenderErrorBoundary = class extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      location: props.location,
      revalidation: props.revalidation,
      error: props.error
    };
  }
  static getDerivedStateFromError(error2) {
    return {
      error: error2
    };
  }
  static getDerivedStateFromProps(props, state) {
    if (state.location !== props.location || state.revalidation !== "idle" && props.revalidation === "idle") {
      return {
        error: props.error,
        location: props.location,
        revalidation: props.revalidation
      };
    }
    return {
      error: props.error !== void 0 ? props.error : state.error,
      location: state.location,
      revalidation: props.revalidation || state.revalidation
    };
  }
  componentDidCatch(error2, errorInfo) {
    console.error("React Router caught the following error during render", error2, errorInfo);
  }
  render() {
    return this.state.error !== void 0 ? /* @__PURE__ */ React.createElement(RouteContext.Provider, {
      value: this.props.routeContext
    }, /* @__PURE__ */ React.createElement(RouteErrorContext.Provider, {
      value: this.state.error,
      children: this.props.component
    })) : this.props.children;
  }
};
function RenderedRoute(_ref) {
  let {
    routeContext,
    match,
    children
  } = _ref;
  let dataRouterContext = React.useContext(DataRouterContext);
  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {
    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;
  }
  return /* @__PURE__ */ React.createElement(RouteContext.Provider, {
    value: routeContext
  }, children);
}
function _renderMatches(matches, parentMatches, dataRouterState, future) {
  var _dataRouterState;
  if (parentMatches === void 0) {
    parentMatches = [];
  }
  if (dataRouterState === void 0) {
    dataRouterState = null;
  }
  if (future === void 0) {
    future = null;
  }
  if (matches == null) {
    var _future;
    if (!dataRouterState) {
      return null;
    }
    if (dataRouterState.errors) {
      matches = dataRouterState.matches;
    } else if ((_future = future) != null && _future.v7_partialHydration && parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {
      matches = dataRouterState.matches;
    } else {
      return null;
    }
  }
  let renderedMatches = matches;
  let errors = (_dataRouterState = dataRouterState) == null ? void 0 : _dataRouterState.errors;
  if (errors != null) {
    let errorIndex = renderedMatches.findIndex((m) => m.route.id && (errors == null ? void 0 : errors[m.route.id]) !== void 0);
    !(errorIndex >= 0) ? false ? invariant(false, "Could not find a matching route for errors on route IDs: " + Object.keys(errors).join(",")) : invariant(false) : void 0;
    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));
  }
  let renderFallback = false;
  let fallbackIndex = -1;
  if (dataRouterState && future && future.v7_partialHydration) {
    for (let i3 = 0; i3 < renderedMatches.length; i3++) {
      let match = renderedMatches[i3];
      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {
        fallbackIndex = i3;
      }
      if (match.route.id) {
        let {
          loaderData,
          errors: errors2
        } = dataRouterState;
        let needsToRunLoader = match.route.loader && loaderData[match.route.id] === void 0 && (!errors2 || errors2[match.route.id] === void 0);
        if (match.route.lazy || needsToRunLoader) {
          renderFallback = true;
          if (fallbackIndex >= 0) {
            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);
          } else {
            renderedMatches = [renderedMatches[0]];
          }
          break;
        }
      }
    }
  }
  return renderedMatches.reduceRight((outlet, match, index) => {
    let error2;
    let shouldRenderHydrateFallback = false;
    let errorElement = null;
    let hydrateFallbackElement = null;
    if (dataRouterState) {
      error2 = errors && match.route.id ? errors[match.route.id] : void 0;
      errorElement = match.route.errorElement || defaultErrorElement;
      if (renderFallback) {
        if (fallbackIndex < 0 && index === 0) {
          warningOnce("route-fallback", false, "No `HydrateFallback` element provided to render during initial hydration");
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = null;
        } else if (fallbackIndex === index) {
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = match.route.hydrateFallbackElement || null;
        }
      }
    }
    let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));
    let getChildren = () => {
      let children;
      if (error2) {
        children = errorElement;
      } else if (shouldRenderHydrateFallback) {
        children = hydrateFallbackElement;
      } else if (match.route.Component) {
        children = /* @__PURE__ */ React.createElement(match.route.Component, null);
      } else if (match.route.element) {
        children = match.route.element;
      } else {
        children = outlet;
      }
      return /* @__PURE__ */ React.createElement(RenderedRoute, {
        match,
        routeContext: {
          outlet,
          matches: matches2,
          isDataRoute: dataRouterState != null
        },
        children
      });
    };
    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React.createElement(RenderErrorBoundary, {
      location: dataRouterState.location,
      revalidation: dataRouterState.revalidation,
      component: errorElement,
      error: error2,
      children: getChildren(),
      routeContext: {
        outlet: null,
        matches: matches2,
        isDataRoute: true
      }
    }) : getChildren();
  }, null);
}
var DataRouterHook = /* @__PURE__ */ function(DataRouterHook3) {
  DataRouterHook3["UseBlocker"] = "useBlocker";
  DataRouterHook3["UseRevalidator"] = "useRevalidator";
  DataRouterHook3["UseNavigateStable"] = "useNavigate";
  return DataRouterHook3;
}(DataRouterHook || {});
var DataRouterStateHook = /* @__PURE__ */ function(DataRouterStateHook3) {
  DataRouterStateHook3["UseBlocker"] = "useBlocker";
  DataRouterStateHook3["UseLoaderData"] = "useLoaderData";
  DataRouterStateHook3["UseActionData"] = "useActionData";
  DataRouterStateHook3["UseRouteError"] = "useRouteError";
  DataRouterStateHook3["UseNavigation"] = "useNavigation";
  DataRouterStateHook3["UseRouteLoaderData"] = "useRouteLoaderData";
  DataRouterStateHook3["UseMatches"] = "useMatches";
  DataRouterStateHook3["UseRevalidator"] = "useRevalidator";
  DataRouterStateHook3["UseNavigateStable"] = "useNavigate";
  DataRouterStateHook3["UseRouteId"] = "useRouteId";
  return DataRouterStateHook3;
}(DataRouterStateHook || {});
function useDataRouterContext(hookName) {
  let ctx = React.useContext(DataRouterContext);
  !ctx ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return ctx;
}
function useDataRouterState(hookName) {
  let state = React.useContext(DataRouterStateContext);
  !state ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return state;
}
function useRouteContext(hookName) {
  let route = React.useContext(RouteContext);
  !route ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return route;
}
function useCurrentRouteId(hookName) {
  let route = useRouteContext(hookName);
  let thisRoute = route.matches[route.matches.length - 1];
  !thisRoute.route.id ? false ? invariant(false, hookName + ' can only be used on routes that contain a unique "id"') : invariant(false) : void 0;
  return thisRoute.route.id;
}
function useRouteError() {
  var _state$errors;
  let error2 = React.useContext(RouteErrorContext);
  let state = useDataRouterState(DataRouterStateHook.UseRouteError);
  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);
  if (error2 !== void 0) {
    return error2;
  }
  return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];
}
function useNavigateStable() {
  let {
    router
  } = useDataRouterContext(DataRouterHook.UseNavigateStable);
  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);
  let activeRef = React.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = React.useCallback(function(to, options) {
    if (options === void 0) {
      options = {};
    }
    false ? warning(activeRef.current, navigateEffectWarning) : void 0;
    if (!activeRef.current) return;
    if (typeof to === "number") {
      router.navigate(to);
    } else {
      router.navigate(to, _extends2({
        fromRouteId: id
      }, options));
    }
  }, [router, id]);
  return navigate;
}
var alreadyWarned$1 = {};
function warningOnce(key, cond, message) {
  if (!cond && !alreadyWarned$1[key]) {
    alreadyWarned$1[key] = true;
    false ? warning(false, message) : void 0;
  }
}
function warnOnce(key, message) {
  if (false) {
    alreadyWarned[message] = true;
    console.warn(message);
  }
}
var logDeprecation = (flag, msg, link) => warnOnce(flag, "\u26A0\uFE0F React Router Future Flag Warning: " + msg + ". " + ("You can use the `" + flag + "` future flag to opt-in early. ") + ("For more information, see " + link + "."));
function logV6DeprecationWarnings(renderFuture, routerFuture) {
  if ((renderFuture == null ? void 0 : renderFuture.v7_startTransition) === void 0) {
    logDeprecation("v7_startTransition", "React Router will begin wrapping state updates in `React.startTransition` in v7", "https://reactrouter.com/v6/upgrading/future#v7_starttransition");
  }
  if ((renderFuture == null ? void 0 : renderFuture.v7_relativeSplatPath) === void 0 && (!routerFuture || routerFuture.v7_relativeSplatPath === void 0)) {
    logDeprecation("v7_relativeSplatPath", "Relative route resolution within Splat routes is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath");
  }
  if (routerFuture) {
    if (routerFuture.v7_fetcherPersist === void 0) {
      logDeprecation("v7_fetcherPersist", "The persistence behavior of fetchers is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist");
    }
    if (routerFuture.v7_normalizeFormMethod === void 0) {
      logDeprecation("v7_normalizeFormMethod", "Casing of `formMethod` fields is being normalized to uppercase in v7", "https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod");
    }
    if (routerFuture.v7_partialHydration === void 0) {
      logDeprecation("v7_partialHydration", "`RouterProvider` hydration behavior is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_partialhydration");
    }
    if (routerFuture.v7_skipActionErrorRevalidation === void 0) {
      logDeprecation("v7_skipActionErrorRevalidation", "The revalidation behavior after 4xx/5xx `action` responses is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation");
    }
  }
}
var START_TRANSITION = "startTransition";
var startTransitionImpl = React[START_TRANSITION];
function Navigate(_ref4) {
  let {
    to,
    replace: replace2,
    state,
    relative
  } = _ref4;
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of
    // the router loaded. We can help them understand how to avoid that.
    "<Navigate> may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    future,
    static: isStatic
  } = React.useContext(NavigationContext);
  false ? warning(!isStatic, "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.") : void 0;
  let {
    matches
  } = React.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let navigate = useNavigate();
  let path = resolveTo(to, getResolveToMatches(matches, future.v7_relativeSplatPath), locationPathname, relative === "path");
  let jsonPath = JSON.stringify(path);
  React.useEffect(() => navigate(JSON.parse(jsonPath), {
    replace: replace2,
    state,
    relative
  }), [navigate, jsonPath, relative, replace2, state]);
  return null;
}
function Outlet(props) {
  return useOutlet(props.context);
}
function Route(_props) {
  false ? invariant(false, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.") : invariant(false);
}
function Router(_ref5) {
  let {
    basename: basenameProp = "/",
    children = null,
    location: locationProp,
    navigationType = Action.Pop,
    navigator: navigator2,
    static: staticProp = false,
    future
  } = _ref5;
  !!useInRouterContext() ? false ? invariant(false, "You cannot render a <Router> inside another <Router>. You should never have more than one in your app.") : invariant(false) : void 0;
  let basename = basenameProp.replace(/^\/*/, "/");
  let navigationContext = React.useMemo(() => ({
    basename,
    navigator: navigator2,
    static: staticProp,
    future: _extends2({
      v7_relativeSplatPath: false
    }, future)
  }), [basename, future, navigator2, staticProp]);
  if (typeof locationProp === "string") {
    locationProp = parsePath(locationProp);
  }
  let {
    pathname = "/",
    search = "",
    hash = "",
    state = null,
    key = "default"
  } = locationProp;
  let locationContext = React.useMemo(() => {
    let trailingPathname = stripBasename(pathname, basename);
    if (trailingPathname == null) {
      return null;
    }
    return {
      location: {
        pathname: trailingPathname,
        search,
        hash,
        state,
        key
      },
      navigationType
    };
  }, [basename, pathname, search, hash, state, key, navigationType]);
  false ? warning(locationContext != null, '<Router basename="' + basename + '"> is not able to match the URL ' + ('"' + pathname + search + hash + '" because it does not start with the ') + "basename, so the <Router> won't render anything.") : void 0;
  if (locationContext == null) {
    return null;
  }
  return /* @__PURE__ */ React.createElement(NavigationContext.Provider, {
    value: navigationContext
  }, /* @__PURE__ */ React.createElement(LocationContext.Provider, {
    children,
    value: locationContext
  }));
}
function Routes(_ref6) {
  let {
    children,
    location: location2
  } = _ref6;
  return useRoutes(createRoutesFromChildren(children), location2);
}
var neverSettledPromise = new Promise(() => {
});
function createRoutesFromChildren(children, parentPath) {
  if (parentPath === void 0) {
    parentPath = [];
  }
  let routes = [];
  React.Children.forEach(children, (element, index) => {
    if (!/* @__PURE__ */ React.isValidElement(element)) {
      return;
    }
    let treePath = [...parentPath, index];
    if (element.type === React.Fragment) {
      routes.push.apply(routes, createRoutesFromChildren(element.props.children, treePath));
      return;
    }
    !(element.type === Route) ? false ? invariant(false, "[" + (typeof element.type === "string" ? element.type : element.type.name) + "] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>") : invariant(false) : void 0;
    !(!element.props.index || !element.props.children) ? false ? invariant(false, "An index route cannot have child routes.") : invariant(false) : void 0;
    let route = {
      id: element.props.id || treePath.join("-"),
      caseSensitive: element.props.caseSensitive,
      element: element.props.element,
      Component: element.props.Component,
      index: element.props.index,
      path: element.props.path,
      loader: element.props.loader,
      action: element.props.action,
      errorElement: element.props.errorElement,
      ErrorBoundary: element.props.ErrorBoundary,
      hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,
      shouldRevalidate: element.props.shouldRevalidate,
      handle: element.props.handle,
      lazy: element.props.lazy
    };
    if (element.props.children) {
      route.children = createRoutesFromChildren(element.props.children, treePath);
    }
    routes.push(route);
  });
  return routes;
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router-dom@6.30.2_react@18.3.1_react-dom@18.3.1__react@18.3.1/node_modules/react-router-dom/dist/index.js
function _extends3() {
  _extends3 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends3.apply(this, arguments);
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i3;
  for (i3 = 0; i3 < sourceKeys.length; i3++) {
    key = sourceKeys[i3];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }
  return target;
}
function isModifiedEvent(event) {
  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);
}
function shouldProcessLinkClick(event, target) {
  return event.button === 0 && // Ignore everything but left clicks
  (!target || target === "_self") && // Let browser handle "target=_blank" etc.
  !isModifiedEvent(event);
}
var _excluded = ["onClick", "relative", "reloadDocument", "replace", "state", "target", "to", "preventScrollReset", "viewTransition"];
var _excluded2 = ["aria-current", "caseSensitive", "className", "end", "style", "to", "viewTransition", "children"];
var REACT_ROUTER_VERSION = "6";
try {
  window.__reactRouterVersion = REACT_ROUTER_VERSION;
} catch (e3) {
}
var ViewTransitionContext = /* @__PURE__ */ React2.createContext({
  isTransitioning: false
});
if (false) {
  ViewTransitionContext.displayName = "ViewTransition";
}
if (false) {
  FetchersContext.displayName = "Fetchers";
}
var START_TRANSITION2 = "startTransition";
var startTransitionImpl2 = React2[START_TRANSITION2];
var FLUSH_SYNC = "flushSync";
var flushSyncImpl = ReactDOM[FLUSH_SYNC];
var USE_ID = "useId";
var useIdImpl = React2[USE_ID];
function BrowserRouter(_ref4) {
  let {
    basename,
    children,
    future,
    window: window2
  } = _ref4;
  let historyRef = React2.useRef();
  if (historyRef.current == null) {
    historyRef.current = createBrowserHistory({
      window: window2,
      v5Compat: true
    });
  }
  let history = historyRef.current;
  let [state, setStateImpl] = React2.useState({
    action: history.action,
    location: history.location
  });
  let {
    v7_startTransition
  } = future || {};
  let setState = React2.useCallback((newState) => {
    v7_startTransition && startTransitionImpl2 ? startTransitionImpl2(() => setStateImpl(newState)) : setStateImpl(newState);
  }, [setStateImpl, v7_startTransition]);
  React2.useLayoutEffect(() => history.listen(setState), [history, setState]);
  React2.useEffect(() => logV6DeprecationWarnings(future), [future]);
  return /* @__PURE__ */ React2.createElement(Router, {
    basename,
    children,
    location: state.location,
    navigationType: state.action,
    navigator: history,
    future
  });
}
if (false) {
  HistoryRouter.displayName = "unstable_HistoryRouter";
}
var isBrowser = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined";
var ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var Link = /* @__PURE__ */ React2.forwardRef(function LinkWithRef(_ref7, ref) {
  let {
    onClick,
    relative,
    reloadDocument,
    replace: replace2,
    state,
    target,
    to,
    preventScrollReset,
    viewTransition
  } = _ref7, rest = _objectWithoutPropertiesLoose(_ref7, _excluded);
  let {
    basename
  } = React2.useContext(NavigationContext);
  let absoluteHref;
  let isExternal = false;
  if (typeof to === "string" && ABSOLUTE_URL_REGEX.test(to)) {
    absoluteHref = to;
    if (isBrowser) {
      try {
        let currentUrl = new URL(window.location.href);
        let targetUrl = to.startsWith("//") ? new URL(currentUrl.protocol + to) : new URL(to);
        let path = stripBasename(targetUrl.pathname, basename);
        if (targetUrl.origin === currentUrl.origin && path != null) {
          to = path + targetUrl.search + targetUrl.hash;
        } else {
          isExternal = true;
        }
      } catch (e3) {
        false ? warning(false, '<Link to="' + to + '"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.') : void 0;
      }
    }
  }
  let href = useHref(to, {
    relative
  });
  let internalOnClick = useLinkClickHandler(to, {
    replace: replace2,
    state,
    target,
    preventScrollReset,
    relative,
    viewTransition
  });
  function handleClick(event) {
    if (onClick) onClick(event);
    if (!event.defaultPrevented) {
      internalOnClick(event);
    }
  }
  return (
    // eslint-disable-next-line jsx-a11y/anchor-has-content
    /* @__PURE__ */ React2.createElement("a", _extends3({}, rest, {
      href: absoluteHref || href,
      onClick: isExternal || reloadDocument ? onClick : handleClick,
      ref,
      target
    }))
  );
});
if (false) {
  Link.displayName = "Link";
}
var NavLink = /* @__PURE__ */ React2.forwardRef(function NavLinkWithRef(_ref8, ref) {
  let {
    "aria-current": ariaCurrentProp = "page",
    caseSensitive = false,
    className: classNameProp = "",
    end = false,
    style: styleProp,
    to,
    viewTransition,
    children
  } = _ref8, rest = _objectWithoutPropertiesLoose(_ref8, _excluded2);
  let path = useResolvedPath(to, {
    relative: rest.relative
  });
  let location2 = useLocation();
  let routerState = React2.useContext(DataRouterStateContext);
  let {
    navigator: navigator2,
    basename
  } = React2.useContext(NavigationContext);
  let isTransitioning = routerState != null && // Conditional usage is OK here because the usage of a data router is static
  // eslint-disable-next-line react-hooks/rules-of-hooks
  useViewTransitionState(path) && viewTransition === true;
  let toPathname = navigator2.encodeLocation ? navigator2.encodeLocation(path).pathname : path.pathname;
  let locationPathname = location2.pathname;
  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;
  if (!caseSensitive) {
    locationPathname = locationPathname.toLowerCase();
    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;
    toPathname = toPathname.toLowerCase();
  }
  if (nextLocationPathname && basename) {
    nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;
  }
  const endSlashPosition = toPathname !== "/" && toPathname.endsWith("/") ? toPathname.length - 1 : toPathname.length;
  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === "/";
  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === "/");
  let renderProps = {
    isActive,
    isPending,
    isTransitioning
  };
  let ariaCurrent = isActive ? ariaCurrentProp : void 0;
  let className;
  if (typeof classNameProp === "function") {
    className = classNameProp(renderProps);
  } else {
    className = [classNameProp, isActive ? "active" : null, isPending ? "pending" : null, isTransitioning ? "transitioning" : null].filter(Boolean).join(" ");
  }
  let style = typeof styleProp === "function" ? styleProp(renderProps) : styleProp;
  return /* @__PURE__ */ React2.createElement(Link, _extends3({}, rest, {
    "aria-current": ariaCurrent,
    className,
    ref,
    style,
    to,
    viewTransition
  }), typeof children === "function" ? children(renderProps) : children);
});
if (false) {
  NavLink.displayName = "NavLink";
}
if (false) {
  Form.displayName = "Form";
}
if (false) {
  ScrollRestoration.displayName = "ScrollRestoration";
}
var DataRouterHook2;
(function(DataRouterHook3) {
  DataRouterHook3["UseScrollRestoration"] = "useScrollRestoration";
  DataRouterHook3["UseSubmit"] = "useSubmit";
  DataRouterHook3["UseSubmitFetcher"] = "useSubmitFetcher";
  DataRouterHook3["UseFetcher"] = "useFetcher";
  DataRouterHook3["useViewTransitionState"] = "useViewTransitionState";
})(DataRouterHook2 || (DataRouterHook2 = {}));
var DataRouterStateHook2;
(function(DataRouterStateHook3) {
  DataRouterStateHook3["UseFetcher"] = "useFetcher";
  DataRouterStateHook3["UseFetchers"] = "useFetchers";
  DataRouterStateHook3["UseScrollRestoration"] = "useScrollRestoration";
})(DataRouterStateHook2 || (DataRouterStateHook2 = {}));
function useDataRouterContext2(hookName) {
  let ctx = React2.useContext(DataRouterContext);
  !ctx ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return ctx;
}
function useLinkClickHandler(to, _temp) {
  let {
    target,
    replace: replaceProp,
    state,
    preventScrollReset,
    relative,
    viewTransition
  } = _temp === void 0 ? {} : _temp;
  let navigate = useNavigate();
  let location2 = useLocation();
  let path = useResolvedPath(to, {
    relative
  });
  return React2.useCallback((event) => {
    if (shouldProcessLinkClick(event, target)) {
      event.preventDefault();
      let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location2) === createPath(path);
      navigate(to, {
        replace: replace2,
        state,
        preventScrollReset,
        relative,
        viewTransition
      });
    }
  }, [location2, navigate, path, replaceProp, state, target, to, preventScrollReset, relative, viewTransition]);
}
function useViewTransitionState(to, opts) {
  if (opts === void 0) {
    opts = {};
  }
  let vtContext = React2.useContext(ViewTransitionContext);
  !(vtContext != null) ? false ? invariant(false, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?") : invariant(false) : void 0;
  let {
    basename
  } = useDataRouterContext2(DataRouterHook2.useViewTransitionState);
  let path = useResolvedPath(to, {
    relative: opts.relative
  });
  if (!vtContext.isTransitioning) {
    return false;
  }
  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;
  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;
  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@0no-co/graphql.web@1.2.0/node_modules/@0no-co/graphql.web/dist/graphql.web.mjs
var e = {
  NAME: "Name",
  DOCUMENT: "Document",
  OPERATION_DEFINITION: "OperationDefinition",
  VARIABLE_DEFINITION: "VariableDefinition",
  SELECTION_SET: "SelectionSet",
  FIELD: "Field",
  ARGUMENT: "Argument",
  FRAGMENT_SPREAD: "FragmentSpread",
  INLINE_FRAGMENT: "InlineFragment",
  FRAGMENT_DEFINITION: "FragmentDefinition",
  VARIABLE: "Variable",
  INT: "IntValue",
  FLOAT: "FloatValue",
  STRING: "StringValue",
  BOOLEAN: "BooleanValue",
  NULL: "NullValue",
  ENUM: "EnumValue",
  LIST: "ListValue",
  OBJECT: "ObjectValue",
  OBJECT_FIELD: "ObjectField",
  DIRECTIVE: "Directive",
  NAMED_TYPE: "NamedType",
  LIST_TYPE: "ListType",
  NON_NULL_TYPE: "NonNullType"
};
var GraphQLError = class extends Error {
  constructor(e3, r3, i3, n2, t2, a2, o2) {
    if (super(e3), this.name = "GraphQLError", this.message = e3, t2) {
      this.path = t2;
    }
    if (r3) {
      this.nodes = Array.isArray(r3) ? r3 : [r3];
    }
    if (i3) {
      this.source = i3;
    }
    if (n2) {
      this.positions = n2;
    }
    if (a2) {
      this.originalError = a2;
    }
    var l3 = o2;
    if (!l3 && a2) {
      var d4 = a2.extensions;
      if (d4 && "object" == typeof d4) {
        l3 = d4;
      }
    }
    this.extensions = l3 || {};
  }
  toJSON() {
    return {
      ...this,
      message: this.message
    };
  }
  toString() {
    return this.message;
  }
  get [Symbol.toStringTag]() {
    return "GraphQLError";
  }
};
var i;
var n;
function error(e3) {
  return new GraphQLError(`Syntax Error: Unexpected token at ${n} in ${e3}`);
}
function advance(e3) {
  if (e3.lastIndex = n, e3.test(i)) {
    return i.slice(n, n = e3.lastIndex);
  }
}
var t = / +(?=[^\s])/y;
function blockString(e3) {
  var r3 = e3.split("\n");
  var i3 = "";
  var n2 = 0;
  var a2 = 0;
  var o2 = r3.length - 1;
  for (var l3 = 0; l3 < r3.length; l3++) {
    if (t.lastIndex = 0, t.test(r3[l3])) {
      if (l3 && (!n2 || t.lastIndex < n2)) {
        n2 = t.lastIndex;
      }
      a2 = a2 || l3, o2 = l3;
    }
  }
  for (var d4 = a2; d4 <= o2; d4++) {
    if (d4 !== a2) {
      i3 += "\n";
    }
    i3 += r3[d4].slice(n2).replace(/\\"""/g, '"""');
  }
  return i3;
}
function ignored() {
  for (var e3 = 0 | i.charCodeAt(n++); 9 === e3 || 10 === e3 || 13 === e3 || 32 === e3 || 35 === e3 || 44 === e3 || 65279 === e3; e3 = 0 | i.charCodeAt(n++)) {
    if (35 === e3) {
      for (; (e3 = 0 | i.charCodeAt(n++)) && 10 !== e3 && 13 !== e3; ) {
      }
    }
  }
  n--;
}
function name() {
  var e3 = n;
  for (var r3 = 0 | i.charCodeAt(n++); r3 >= 48 && r3 <= 57 || r3 >= 65 && r3 <= 90 || 95 === r3 || r3 >= 97 && r3 <= 122; r3 = 0 | i.charCodeAt(n++)) {
  }
  if (e3 === n - 1) {
    throw error("Name");
  }
  var t2 = i.slice(e3, --n);
  return ignored(), t2;
}
function nameNode() {
  return {
    kind: "Name",
    value: name()
  };
}
var a = /(?:"""|(?:[\s\S]*?[^\\])""")/y;
var o = /(?:(?:\.\d+)?[eE][+-]?\d+|\.\d+)/y;
function value(e3) {
  var r3;
  switch (i.charCodeAt(n)) {
    case 91:
      n++, ignored();
      var t2 = [];
      for (; 93 !== i.charCodeAt(n); ) {
        t2.push(value(e3));
      }
      return n++, ignored(), {
        kind: "ListValue",
        values: t2
      };
    case 123:
      n++, ignored();
      var l3 = [];
      for (; 125 !== i.charCodeAt(n); ) {
        var d4 = nameNode();
        if (58 !== i.charCodeAt(n++)) {
          throw error("ObjectField");
        }
        ignored(), l3.push({
          kind: "ObjectField",
          name: d4,
          value: value(e3)
        });
      }
      return n++, ignored(), {
        kind: "ObjectValue",
        fields: l3
      };
    case 36:
      if (e3) {
        throw error("Variable");
      }
      return n++, {
        kind: "Variable",
        name: nameNode()
      };
    case 34:
      if (34 === i.charCodeAt(n + 1) && 34 === i.charCodeAt(n + 2)) {
        if (n += 3, null == (r3 = advance(a))) {
          throw error("StringValue");
        }
        return ignored(), {
          kind: "StringValue",
          value: blockString(r3.slice(0, -3)),
          block: true
        };
      } else {
        var u3 = n;
        var s;
        n++;
        var c3 = false;
        for (s = 0 | i.charCodeAt(n++); 92 === s && (n++, c3 = true) || 10 !== s && 13 !== s && 34 !== s && s; s = 0 | i.charCodeAt(n++)) {
        }
        if (34 !== s) {
          throw error("StringValue");
        }
        return r3 = i.slice(u3, n), ignored(), {
          kind: "StringValue",
          value: c3 ? JSON.parse(r3) : r3.slice(1, -1),
          block: false
        };
      }
    case 45:
    case 48:
    case 49:
    case 50:
    case 51:
    case 52:
    case 53:
    case 54:
    case 55:
    case 56:
    case 57:
      var v3 = n++;
      var f3;
      for (; (f3 = 0 | i.charCodeAt(n++)) >= 48 && f3 <= 57; ) {
      }
      var m = i.slice(v3, --n);
      if (46 === (f3 = i.charCodeAt(n)) || 69 === f3 || 101 === f3) {
        if (null == (r3 = advance(o))) {
          throw error("FloatValue");
        }
        return ignored(), {
          kind: "FloatValue",
          value: m + r3
        };
      } else {
        return ignored(), {
          kind: "IntValue",
          value: m
        };
      }
    case 110:
      if (117 === i.charCodeAt(n + 1) && 108 === i.charCodeAt(n + 2) && 108 === i.charCodeAt(n + 3)) {
        return n += 4, ignored(), {
          kind: "NullValue"
        };
      } else {
        break;
      }
    case 116:
      if (114 === i.charCodeAt(n + 1) && 117 === i.charCodeAt(n + 2) && 101 === i.charCodeAt(n + 3)) {
        return n += 4, ignored(), {
          kind: "BooleanValue",
          value: true
        };
      } else {
        break;
      }
    case 102:
      if (97 === i.charCodeAt(n + 1) && 108 === i.charCodeAt(n + 2) && 115 === i.charCodeAt(n + 3) && 101 === i.charCodeAt(n + 4)) {
        return n += 5, ignored(), {
          kind: "BooleanValue",
          value: false
        };
      } else {
        break;
      }
  }
  return {
    kind: "EnumValue",
    value: name()
  };
}
function arguments_(e3) {
  if (40 === i.charCodeAt(n)) {
    var r3 = [];
    n++, ignored();
    do {
      var t2 = nameNode();
      if (58 !== i.charCodeAt(n++)) {
        throw error("Argument");
      }
      ignored(), r3.push({
        kind: "Argument",
        name: t2,
        value: value(e3)
      });
    } while (41 !== i.charCodeAt(n));
    return n++, ignored(), r3;
  }
}
function directives(e3) {
  if (64 === i.charCodeAt(n)) {
    var r3 = [];
    do {
      n++, r3.push({
        kind: "Directive",
        name: nameNode(),
        arguments: arguments_(e3)
      });
    } while (64 === i.charCodeAt(n));
    return r3;
  }
}
function type() {
  var e3 = 0;
  for (; 91 === i.charCodeAt(n); ) {
    e3++, n++, ignored();
  }
  var r3 = {
    kind: "NamedType",
    name: nameNode()
  };
  do {
    if (33 === i.charCodeAt(n)) {
      n++, ignored(), r3 = {
        kind: "NonNullType",
        type: r3
      };
    }
    if (e3) {
      if (93 !== i.charCodeAt(n++)) {
        throw error("NamedType");
      }
      ignored(), r3 = {
        kind: "ListType",
        type: r3
      };
    }
  } while (e3--);
  return r3;
}
function selectionSetStart() {
  if (123 !== i.charCodeAt(n++)) {
    throw error("SelectionSet");
  }
  return ignored(), selectionSet();
}
function selectionSet() {
  var e3 = [];
  do {
    if (46 === i.charCodeAt(n)) {
      if (46 !== i.charCodeAt(++n) || 46 !== i.charCodeAt(++n)) {
        throw error("SelectionSet");
      }
      switch (n++, ignored(), i.charCodeAt(n)) {
        case 64:
          e3.push({
            kind: "InlineFragment",
            typeCondition: void 0,
            directives: directives(false),
            selectionSet: selectionSetStart()
          });
          break;
        case 111:
          if (110 === i.charCodeAt(n + 1)) {
            n += 2, ignored(), e3.push({
              kind: "InlineFragment",
              typeCondition: {
                kind: "NamedType",
                name: nameNode()
              },
              directives: directives(false),
              selectionSet: selectionSetStart()
            });
          } else {
            e3.push({
              kind: "FragmentSpread",
              name: nameNode(),
              directives: directives(false)
            });
          }
          break;
        case 123:
          n++, ignored(), e3.push({
            kind: "InlineFragment",
            typeCondition: void 0,
            directives: void 0,
            selectionSet: selectionSet()
          });
          break;
        default:
          e3.push({
            kind: "FragmentSpread",
            name: nameNode(),
            directives: directives(false)
          });
      }
    } else {
      var r3 = nameNode();
      var t2 = void 0;
      if (58 === i.charCodeAt(n)) {
        n++, ignored(), t2 = r3, r3 = nameNode();
      }
      var a2 = arguments_(false);
      var o2 = directives(false);
      var l3 = void 0;
      if (123 === i.charCodeAt(n)) {
        n++, ignored(), l3 = selectionSet();
      }
      e3.push({
        kind: "Field",
        alias: t2,
        name: r3,
        arguments: a2,
        directives: o2,
        selectionSet: l3
      });
    }
  } while (125 !== i.charCodeAt(n));
  return n++, ignored(), {
    kind: "SelectionSet",
    selections: e3
  };
}
function variableDefinitions() {
  if (ignored(), 40 === i.charCodeAt(n)) {
    var e3 = [];
    n++, ignored();
    do {
      var r3 = void 0;
      if (34 === i.charCodeAt(n)) {
        r3 = value(true);
      }
      if (36 !== i.charCodeAt(n++)) {
        throw error("Variable");
      }
      var t2 = nameNode();
      if (58 !== i.charCodeAt(n++)) {
        throw error("VariableDefinition");
      }
      ignored();
      var a2 = type();
      var o2 = void 0;
      if (61 === i.charCodeAt(n)) {
        n++, ignored(), o2 = value(true);
      }
      ignored();
      var l3 = {
        kind: "VariableDefinition",
        variable: {
          kind: "Variable",
          name: t2
        },
        type: a2,
        defaultValue: o2,
        directives: directives(true)
      };
      if (r3) {
        l3.description = r3;
      }
      e3.push(l3);
    } while (41 !== i.charCodeAt(n));
    return n++, ignored(), e3;
  }
}
function fragmentDefinition(e3) {
  var r3 = nameNode();
  if (111 !== i.charCodeAt(n++) || 110 !== i.charCodeAt(n++)) {
    throw error("FragmentDefinition");
  }
  ignored();
  var t2 = {
    kind: "FragmentDefinition",
    name: r3,
    typeCondition: {
      kind: "NamedType",
      name: nameNode()
    },
    directives: directives(false),
    selectionSet: selectionSetStart()
  };
  if (e3) {
    t2.description = e3;
  }
  return t2;
}
function definitions() {
  var e3 = [];
  do {
    var r3 = void 0;
    if (34 === i.charCodeAt(n)) {
      r3 = value(true);
    }
    if (123 === i.charCodeAt(n)) {
      if (r3) {
        throw error("Document");
      }
      n++, ignored(), e3.push({
        kind: "OperationDefinition",
        operation: "query",
        name: void 0,
        variableDefinitions: void 0,
        directives: void 0,
        selectionSet: selectionSet()
      });
    } else {
      var t2 = name();
      switch (t2) {
        case "fragment":
          e3.push(fragmentDefinition(r3));
          break;
        case "query":
        case "mutation":
        case "subscription":
          var a2;
          var o2 = void 0;
          if (40 !== (a2 = i.charCodeAt(n)) && 64 !== a2 && 123 !== a2) {
            o2 = nameNode();
          }
          var l3 = {
            kind: "OperationDefinition",
            operation: t2,
            name: o2,
            variableDefinitions: variableDefinitions(),
            directives: directives(false),
            selectionSet: selectionSetStart()
          };
          if (r3) {
            l3.description = r3;
          }
          e3.push(l3);
          break;
        default:
          throw error("Document");
      }
    }
  } while (n < i.length);
  return e3;
}
function parse(e3, r3) {
  if (i = e3.body ? e3.body : e3, n = 0, ignored(), r3 && r3.noLocation) {
    return {
      kind: "Document",
      definitions: definitions()
    };
  } else {
    return {
      kind: "Document",
      definitions: definitions(),
      loc: {
        start: 0,
        end: i.length,
        startToken: void 0,
        endToken: void 0,
        source: {
          body: i,
          name: "graphql.web",
          locationOffset: {
            line: 1,
            column: 1
          }
        }
      }
    };
  }
}
function mapJoin(e3, r3, i3) {
  var n2 = "";
  for (var t2 = 0; t2 < e3.length; t2++) {
    if (t2) {
      n2 += r3;
    }
    n2 += i3(e3[t2]);
  }
  return n2;
}
function printString(e3) {
  return JSON.stringify(e3);
}
function printBlockString(e3) {
  return '"""\n' + e3.replace(/"""/g, '\\"""') + '\n"""';
}
var d = "\n";
var u = {
  OperationDefinition(e3) {
    var r3 = "";
    if (e3.description) {
      r3 += u.StringValue(e3.description) + "\n";
    }
    if (r3 += e3.operation, e3.name) {
      r3 += " " + e3.name.value;
    }
    if (e3.variableDefinitions && e3.variableDefinitions.length) {
      if (!e3.name) {
        r3 += " ";
      }
      r3 += "(" + mapJoin(e3.variableDefinitions, ", ", u.VariableDefinition) + ")";
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    var i3 = u.SelectionSet(e3.selectionSet);
    return "query" !== r3 ? r3 + " " + i3 : i3;
  },
  VariableDefinition(e3) {
    var r3 = "";
    if (e3.description) {
      r3 += u.StringValue(e3.description) + " ";
    }
    if (r3 += u.Variable(e3.variable) + ": " + _print(e3.type), e3.defaultValue) {
      r3 += " = " + _print(e3.defaultValue);
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3;
  },
  Field(e3) {
    var r3 = e3.alias ? e3.alias.value + ": " + e3.name.value : e3.name.value;
    if (e3.arguments && e3.arguments.length) {
      var i3 = mapJoin(e3.arguments, ", ", u.Argument);
      if (r3.length + i3.length + 2 > 80) {
        r3 += "(" + (d += "  ") + mapJoin(e3.arguments, d, u.Argument) + (d = d.slice(0, -2)) + ")";
      } else {
        r3 += "(" + i3 + ")";
      }
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    if (e3.selectionSet && e3.selectionSet.selections.length) {
      r3 += " " + u.SelectionSet(e3.selectionSet);
    }
    return r3;
  },
  StringValue(e3) {
    if (e3.block) {
      return printBlockString(e3.value).replace(/\n/g, d);
    } else {
      return printString(e3.value);
    }
  },
  BooleanValue: (e3) => "" + e3.value,
  NullValue: (e3) => "null",
  IntValue: (e3) => e3.value,
  FloatValue: (e3) => e3.value,
  EnumValue: (e3) => e3.value,
  Name: (e3) => e3.value,
  Variable: (e3) => "$" + e3.name.value,
  ListValue: (e3) => "[" + mapJoin(e3.values, ", ", _print) + "]",
  ObjectValue: (e3) => "{" + mapJoin(e3.fields, ", ", u.ObjectField) + "}",
  ObjectField: (e3) => e3.name.value + ": " + _print(e3.value),
  Document(e3) {
    if (!e3.definitions || !e3.definitions.length) {
      return "";
    } else {
      return mapJoin(e3.definitions, "\n\n", _print);
    }
  },
  SelectionSet: (e3) => "{" + (d += "  ") + mapJoin(e3.selections, d, _print) + (d = d.slice(0, -2)) + "}",
  Argument: (e3) => e3.name.value + ": " + _print(e3.value),
  FragmentSpread(e3) {
    var r3 = "..." + e3.name.value;
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3;
  },
  InlineFragment(e3) {
    var r3 = "...";
    if (e3.typeCondition) {
      r3 += " on " + e3.typeCondition.name.value;
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3 += " " + u.SelectionSet(e3.selectionSet);
  },
  FragmentDefinition(e3) {
    var r3 = "";
    if (e3.description) {
      r3 += u.StringValue(e3.description) + "\n";
    }
    if (r3 += "fragment " + e3.name.value, r3 += " on " + e3.typeCondition.name.value, e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3 + " " + u.SelectionSet(e3.selectionSet);
  },
  Directive(e3) {
    var r3 = "@" + e3.name.value;
    if (e3.arguments && e3.arguments.length) {
      r3 += "(" + mapJoin(e3.arguments, ", ", u.Argument) + ")";
    }
    return r3;
  },
  NamedType: (e3) => e3.name.value,
  ListType: (e3) => "[" + _print(e3.type) + "]",
  NonNullType: (e3) => _print(e3.type) + "!"
};
var _print = (e3) => u[e3.kind](e3);
function print(e3) {
  return d = "\n", u[e3.kind] ? u[e3.kind](e3) : "";
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/wonka@6.3.5/node_modules/wonka/dist/wonka.mjs
var teardownPlaceholder = () => {
};
var e2 = teardownPlaceholder;
function start(e3) {
  return {
    tag: 0,
    0: e3
  };
}
function push(e3) {
  return {
    tag: 1,
    0: e3
  };
}
var asyncIteratorSymbol = () => "function" == typeof Symbol && Symbol.asyncIterator || "@@asyncIterator";
var identity = (e3) => e3;
function filter(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    t2((e3) => {
      if (0 === e3) {
        i3(0);
      } else if (0 === e3.tag) {
        a2 = e3[0];
        i3(e3);
      } else if (!r3(e3[0])) {
        a2(0);
      } else {
        i3(e3);
      }
    });
  };
}
function map(e3) {
  return (r3) => (t2) => r3((r4) => {
    if (0 === r4 || 0 === r4.tag) {
      t2(r4);
    } else {
      t2(push(e3(r4[0])));
    }
  });
}
function mergeMap(r3) {
  return (t2) => (i3) => {
    var a2 = [];
    var f3 = e2;
    var n2 = false;
    var s = false;
    t2((t3) => {
      if (s) {
      } else if (0 === t3) {
        s = true;
        if (!a2.length) {
          i3(0);
        }
      } else if (0 === t3.tag) {
        f3 = t3[0];
      } else {
        n2 = false;
        !function applyInnerSource(r4) {
          var t4 = e2;
          r4((e3) => {
            if (0 === e3) {
              if (a2.length) {
                var r5 = a2.indexOf(t4);
                if (r5 > -1) {
                  (a2 = a2.slice()).splice(r5, 1);
                }
                if (!a2.length) {
                  if (s) {
                    i3(0);
                  } else if (!n2) {
                    n2 = true;
                    f3(0);
                  }
                }
              }
            } else if (0 === e3.tag) {
              a2.push(t4 = e3[0]);
              t4(0);
            } else if (a2.length) {
              i3(e3);
              t4(0);
            }
          });
        }(r3(t3[0]));
        if (!n2) {
          n2 = true;
          f3(0);
        }
      }
    });
    i3(start((e3) => {
      if (1 === e3) {
        if (!s) {
          s = true;
          f3(1);
        }
        for (var r4 = 0, t3 = a2, i4 = a2.length; r4 < i4; r4++) {
          t3[r4](1);
        }
        a2.length = 0;
      } else {
        if (!s && !n2) {
          n2 = true;
          f3(0);
        } else {
          n2 = false;
        }
        for (var l3 = 0, u3 = a2, o2 = a2.length; l3 < o2; l3++) {
          u3[l3](0);
        }
      }
    }));
  };
}
function mergeAll(e3) {
  return mergeMap(identity)(e3);
}
function merge(e3) {
  return mergeAll(r(e3));
}
function onEnd(e3) {
  return (r3) => (t2) => {
    var i3 = false;
    r3((r4) => {
      if (i3) {
      } else if (0 === r4) {
        i3 = true;
        t2(0);
        e3();
      } else if (0 === r4.tag) {
        var a2 = r4[0];
        t2(start((r5) => {
          if (1 === r5) {
            i3 = true;
            a2(1);
            e3();
          } else {
            a2(r5);
          }
        }));
      } else {
        t2(r4);
      }
    });
  };
}
function onPush(e3) {
  return (r3) => (t2) => {
    var i3 = false;
    r3((r4) => {
      if (i3) {
      } else if (0 === r4) {
        i3 = true;
        t2(0);
      } else if (0 === r4.tag) {
        var a2 = r4[0];
        t2(start((e4) => {
          if (1 === e4) {
            i3 = true;
          }
          a2(e4);
        }));
      } else {
        e3(r4[0]);
        t2(r4);
      }
    });
  };
}
function onStart(e3) {
  return (r3) => (t2) => r3((r4) => {
    if (0 === r4) {
      t2(0);
    } else if (0 === r4.tag) {
      t2(r4);
      e3();
    } else {
      t2(r4);
    }
  });
}
function share(r3) {
  var t2 = [];
  var i3 = e2;
  var a2 = false;
  return (e3) => {
    t2.push(e3);
    if (1 === t2.length) {
      r3((e4) => {
        if (0 === e4) {
          for (var r4 = 0, f3 = t2, n2 = t2.length; r4 < n2; r4++) {
            f3[r4](0);
          }
          t2.length = 0;
        } else if (0 === e4.tag) {
          i3 = e4[0];
        } else {
          a2 = false;
          for (var s = 0, l3 = t2, u3 = t2.length; s < u3; s++) {
            l3[s](e4);
          }
        }
      });
    }
    e3(start((r4) => {
      if (1 === r4) {
        var f3 = t2.indexOf(e3);
        if (f3 > -1) {
          (t2 = t2.slice()).splice(f3, 1);
        }
        if (!t2.length) {
          i3(1);
        }
      } else if (!a2) {
        a2 = true;
        i3(0);
      }
    }));
  };
}
function switchMap(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    var f3 = e2;
    var n2 = false;
    var s = false;
    var l3 = false;
    var u3 = false;
    t2((t3) => {
      if (u3) {
      } else if (0 === t3) {
        u3 = true;
        if (!l3) {
          i3(0);
        }
      } else if (0 === t3.tag) {
        a2 = t3[0];
      } else {
        if (l3) {
          f3(1);
          f3 = e2;
        }
        if (!n2) {
          n2 = true;
          a2(0);
        } else {
          n2 = false;
        }
        !function applyInnerSource(e3) {
          l3 = true;
          e3((e4) => {
            if (!l3) {
            } else if (0 === e4) {
              l3 = false;
              if (u3) {
                i3(0);
              } else if (!n2) {
                n2 = true;
                a2(0);
              }
            } else if (0 === e4.tag) {
              s = false;
              (f3 = e4[0])(0);
            } else {
              i3(e4);
              if (!s) {
                f3(0);
              } else {
                s = false;
              }
            }
          });
        }(r3(t3[0]));
      }
    });
    i3(start((e3) => {
      if (1 === e3) {
        if (!u3) {
          u3 = true;
          a2(1);
        }
        if (l3) {
          l3 = false;
          f3(1);
        }
      } else {
        if (!u3 && !n2) {
          n2 = true;
          a2(0);
        }
        if (l3 && !s) {
          s = true;
          f3(0);
        }
      }
    }));
  };
}
function take(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    var f3 = false;
    var n2 = 0;
    t2((e3) => {
      if (f3) {
      } else if (0 === e3) {
        f3 = true;
        i3(0);
      } else if (0 === e3.tag) {
        if (r3 <= 0) {
          f3 = true;
          i3(0);
          e3[0](1);
        } else {
          a2 = e3[0];
        }
      } else if (n2++ < r3) {
        i3(e3);
        if (!f3 && n2 >= r3) {
          f3 = true;
          i3(0);
          a2(1);
        }
      } else {
        i3(e3);
      }
    });
    i3(start((e3) => {
      if (1 === e3 && !f3) {
        f3 = true;
        a2(1);
      } else if (0 === e3 && !f3 && n2 < r3) {
        a2(0);
      }
    }));
  };
}
function takeUntil(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    var f3 = e2;
    var n2 = false;
    t2((e3) => {
      if (n2) {
      } else if (0 === e3) {
        n2 = true;
        f3(1);
        i3(0);
      } else if (0 === e3.tag) {
        a2 = e3[0];
        r3((e4) => {
          if (0 === e4) {
          } else if (0 === e4.tag) {
            (f3 = e4[0])(0);
          } else {
            n2 = true;
            f3(1);
            a2(1);
            i3(0);
          }
        });
      } else {
        i3(e3);
      }
    });
    i3(start((e3) => {
      if (1 === e3 && !n2) {
        n2 = true;
        a2(1);
        f3(1);
      } else if (!n2) {
        a2(0);
      }
    }));
  };
}
function takeWhile(r3, t2) {
  return (i3) => (a2) => {
    var f3 = e2;
    var n2 = false;
    i3((e3) => {
      if (n2) {
      } else if (0 === e3) {
        n2 = true;
        a2(0);
      } else if (0 === e3.tag) {
        f3 = e3[0];
        a2(e3);
      } else if (!r3(e3[0])) {
        n2 = true;
        if (t2) {
          a2(e3);
        }
        a2(0);
        f3(1);
      } else {
        a2(e3);
      }
    });
  };
}
function lazy(e3) {
  return (r3) => e3()(r3);
}
function fromAsyncIterable(e3) {
  return (r3) => {
    var t2 = e3[asyncIteratorSymbol()] && e3[asyncIteratorSymbol()]() || e3;
    var i3 = false;
    var a2 = false;
    var f3 = false;
    var n2;
    r3(start(async (e4) => {
      if (1 === e4) {
        i3 = true;
        if (t2.return) {
          t2.return();
        }
      } else if (a2) {
        f3 = true;
      } else {
        for (f3 = a2 = true; f3 && !i3; ) {
          if ((n2 = await t2.next()).done) {
            i3 = true;
            if (t2.return) {
              await t2.return();
            }
            r3(0);
          } else {
            try {
              f3 = false;
              r3(push(n2.value));
            } catch (e5) {
              if (t2.throw) {
                if (i3 = !!(await t2.throw(e5)).done) {
                  r3(0);
                }
              } else {
                throw e5;
              }
            }
          }
        }
        a2 = false;
      }
    }));
  };
}
function fromIterable(e3) {
  if (e3[Symbol.asyncIterator]) {
    return fromAsyncIterable(e3);
  }
  return (r3) => {
    var t2 = e3[Symbol.iterator]();
    var i3 = false;
    var a2 = false;
    var f3 = false;
    var n2;
    r3(start((e4) => {
      if (1 === e4) {
        i3 = true;
        if (t2.return) {
          t2.return();
        }
      } else if (a2) {
        f3 = true;
      } else {
        for (f3 = a2 = true; f3 && !i3; ) {
          if ((n2 = t2.next()).done) {
            i3 = true;
            if (t2.return) {
              t2.return();
            }
            r3(0);
          } else {
            try {
              f3 = false;
              r3(push(n2.value));
            } catch (e5) {
              if (t2.throw) {
                if (i3 = !!t2.throw(e5).done) {
                  r3(0);
                }
              } else {
                throw e5;
              }
            }
          }
        }
        a2 = false;
      }
    }));
  };
}
var r = fromIterable;
function fromValue(e3) {
  return (r3) => {
    var t2 = false;
    r3(start((i3) => {
      if (1 === i3) {
        t2 = true;
      } else if (!t2) {
        t2 = true;
        r3(push(e3));
        r3(0);
      }
    }));
  };
}
function make(e3) {
  return (r3) => {
    var t2 = false;
    var i3 = e3({
      next(e4) {
        if (!t2) {
          r3(push(e4));
        }
      },
      complete() {
        if (!t2) {
          t2 = true;
          r3(0);
        }
      }
    });
    r3(start((e4) => {
      if (1 === e4 && !t2) {
        t2 = true;
        i3();
      }
    }));
  };
}
function makeSubject() {
  var e3;
  var r3;
  return {
    source: share(make((t2) => {
      e3 = t2.next;
      r3 = t2.complete;
      return teardownPlaceholder;
    })),
    next(r4) {
      if (e3) {
        e3(r4);
      }
    },
    complete() {
      if (r3) {
        r3();
      }
    }
  };
}
function subscribe(r3) {
  return (t2) => {
    var i3 = e2;
    var a2 = false;
    t2((e3) => {
      if (0 === e3) {
        a2 = true;
      } else if (0 === e3.tag) {
        (i3 = e3[0])(0);
      } else if (!a2) {
        r3(e3[0]);
        i3(0);
      }
    });
    return {
      unsubscribe() {
        if (!a2) {
          a2 = true;
          i3(1);
        }
      }
    };
  };
}
function publish(e3) {
  subscribe((e4) => {
  })(e3);
}
function toPromise(r3) {
  return new Promise((t2) => {
    var i3 = e2;
    var a2;
    r3((e3) => {
      if (0 === e3) {
        Promise.resolve(a2).then(t2);
      } else if (0 === e3.tag) {
        (i3 = e3[0])(0);
      } else {
        a2 = e3[0];
        i3(0);
      }
    });
  });
}
var pipe = (...e3) => {
  var r3 = e3[0];
  for (var t2 = 1, i3 = e3.length; t2 < i3; t2++) {
    r3 = e3[t2](r3);
  }
  return r3;
};

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@urql/core@6.0.1/node_modules/@urql/core/dist/urql-core-chunk.mjs
var rehydrateGraphQlError = (r3) => {
  if (r3 && "string" == typeof r3.message && (r3.extensions || "GraphQLError" === r3.name)) {
    return r3;
  } else if ("object" == typeof r3 && "string" == typeof r3.message) {
    return new GraphQLError(r3.message, r3.nodes, r3.source, r3.positions, r3.path, r3, r3.extensions || {});
  } else {
    return new GraphQLError(r3);
  }
};
var CombinedError = class extends Error {
  constructor(e3) {
    var r3 = (e3.graphQLErrors || []).map(rehydrateGraphQlError);
    var t2 = ((e4, r4) => {
      var t3 = "";
      if (e4) {
        return `[Network] ${e4.message}`;
      }
      if (r4) {
        for (var a2 = 0, n2 = r4.length; a2 < n2; a2++) {
          if (t3) {
            t3 += "\n";
          }
          t3 += `[GraphQL] ${r4[a2].message}`;
        }
      }
      return t3;
    })(e3.networkError, r3);
    super(t2);
    this.name = "CombinedError";
    this.message = t2;
    this.graphQLErrors = r3;
    this.networkError = e3.networkError;
    this.response = e3.response;
  }
  toString() {
    return this.message;
  }
};
var phash = (e3, r3) => {
  var t2 = 0 | (r3 || 5381);
  for (var a2 = 0, n2 = 0 | e3.length; a2 < n2; a2++) {
    t2 = (t2 << 5) + t2 + e3.charCodeAt(a2);
  }
  return t2;
};
var i2 = /* @__PURE__ */ new Set();
var f = /* @__PURE__ */ new WeakMap();
var stringify = (e3, r3) => {
  if (null === e3 || i2.has(e3)) {
    return "null";
  } else if ("object" != typeof e3) {
    return JSON.stringify(e3) || "";
  } else if (e3.toJSON) {
    return stringify(e3.toJSON(), r3);
  } else if (Array.isArray(e3)) {
    var t2 = "[";
    for (var a2 = 0, n2 = e3.length; a2 < n2; a2++) {
      if (t2.length > 1) {
        t2 += ",";
      }
      t2 += stringify(e3[a2], r3) || "null";
    }
    return t2 += "]";
  } else if (!r3 && (d2 !== NoopConstructor && e3 instanceof d2 || l !== NoopConstructor && e3 instanceof l)) {
    return "null";
  }
  var o2 = Object.keys(e3).sort();
  if (!o2.length && e3.constructor && Object.getPrototypeOf(e3).constructor !== Object.prototype.constructor) {
    var s = f.get(e3) || Math.random().toString(36).slice(2);
    f.set(e3, s);
    return stringify({
      __key: s
    }, r3);
  }
  i2.add(e3);
  var c3 = "{";
  for (var v3 = 0, u3 = o2.length; v3 < u3; v3++) {
    var p3 = stringify(e3[o2[v3]], r3);
    if (p3) {
      if (c3.length > 1) {
        c3 += ",";
      }
      c3 += stringify(o2[v3], r3) + ":" + p3;
    }
  }
  i2.delete(e3);
  return c3 += "}";
};
var extract = (e3, r3, t2) => {
  if (null == t2 || "object" != typeof t2 || t2.toJSON || i2.has(t2)) {
  } else if (Array.isArray(t2)) {
    for (var a2 = 0, n2 = t2.length; a2 < n2; a2++) {
      extract(e3, `${r3}.${a2}`, t2[a2]);
    }
  } else if (t2 instanceof d2 || t2 instanceof l) {
    e3.set(r3, t2);
  } else {
    i2.add(t2);
    for (var o2 in t2) {
      extract(e3, `${r3}.${o2}`, t2[o2]);
    }
  }
};
var stringifyVariables = (e3, r3) => {
  i2.clear();
  return stringify(e3, r3 || false);
};
var NoopConstructor = class {
};
var d2 = "undefined" != typeof File ? File : NoopConstructor;
var l = "undefined" != typeof Blob ? Blob : NoopConstructor;
var c = /("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g;
var v = /(?:#[^\n\r]+)?(?:[\r\n]+|$)/g;
var replaceOutsideStrings = (e3, r3) => r3 % 2 == 0 ? e3.replace(v, "\n") : e3;
var sanitizeDocument = (e3) => e3.split(c).map(replaceOutsideStrings).join("").trim();
var u2 = /* @__PURE__ */ new Map();
var p = /* @__PURE__ */ new Map();
var stringifyDocument = (e3) => {
  var t2;
  if ("string" == typeof e3) {
    t2 = sanitizeDocument(e3);
  } else if (e3.loc && p.get(e3.__key) === e3) {
    t2 = e3.loc.source.body;
  } else {
    t2 = u2.get(e3) || sanitizeDocument(print(e3));
    u2.set(e3, t2);
  }
  if ("string" != typeof e3 && !e3.loc) {
    e3.loc = {
      start: 0,
      end: t2.length,
      source: {
        body: t2,
        name: "gql",
        locationOffset: {
          line: 1,
          column: 1
        }
      }
    };
  }
  return t2;
};
var hashDocument = (e3) => {
  var r3;
  if (e3.documentId) {
    r3 = phash(e3.documentId);
  } else {
    r3 = phash(stringifyDocument(e3));
    if (e3.definitions) {
      var t2 = getOperationName(e3);
      if (t2) {
        r3 = phash(`
# ${t2}`, r3);
      }
    }
  }
  return r3;
};
var keyDocument = (e3) => {
  var r3;
  var t2;
  if ("string" == typeof e3) {
    r3 = hashDocument(e3);
    t2 = p.get(r3) || parse(e3, {
      noLocation: true
    });
  } else {
    r3 = e3.__key || hashDocument(e3);
    t2 = p.get(r3) || e3;
  }
  if (!t2.loc) {
    stringifyDocument(t2);
  }
  t2.__key = r3;
  p.set(r3, t2);
  return t2;
};
var createRequest = (e3, r3, t2) => {
  var a2 = r3 || {};
  var n2 = keyDocument(e3);
  var o2 = stringifyVariables(a2, true);
  var s = n2.__key;
  if ("{}" !== o2) {
    s = phash(o2, s);
  }
  return {
    key: s,
    query: n2,
    variables: a2,
    extensions: t2
  };
};
var getOperationName = (e3) => {
  for (var r3 = 0, a2 = e3.definitions.length; r3 < a2; r3++) {
    var n2 = e3.definitions[r3];
    if (n2.kind === e.OPERATION_DEFINITION) {
      return n2.name ? n2.name.value : void 0;
    }
  }
};
var makeResult = (e3, r3, t2) => {
  if (!("data" in r3 || "errors" in r3 && Array.isArray(r3.errors))) {
    throw new Error("No Content");
  }
  var a2 = "subscription" === e3.kind;
  return {
    operation: e3,
    data: r3.data,
    error: Array.isArray(r3.errors) ? new CombinedError({
      graphQLErrors: r3.errors,
      response: t2
    }) : void 0,
    extensions: r3.extensions ? {
      ...r3.extensions
    } : void 0,
    hasNext: null == r3.hasNext ? a2 : r3.hasNext,
    stale: false
  };
};
var deepMerge = (e3, r3) => {
  if ("object" == typeof e3 && null != e3) {
    if (Array.isArray(e3)) {
      e3 = [...e3];
      for (var t2 = 0, a2 = r3.length; t2 < a2; t2++) {
        e3[t2] = deepMerge(e3[t2], r3[t2]);
      }
      return e3;
    }
    if (!e3.constructor || e3.constructor === Object) {
      e3 = {
        ...e3
      };
      for (var n2 in r3) {
        e3[n2] = deepMerge(e3[n2], r3[n2]);
      }
      return e3;
    }
  }
  return r3;
};
var mergeResultPatch = (e3, r3, t2, a2) => {
  var n2 = e3.error ? e3.error.graphQLErrors : [];
  var o2 = !!e3.extensions || !!(r3.payload || r3).extensions;
  var s = {
    ...e3.extensions,
    ...(r3.payload || r3).extensions
  };
  var i3 = r3.incremental;
  if ("path" in r3) {
    i3 = [r3];
  }
  var f3 = {
    data: e3.data
  };
  if (i3) {
    var _loop = function() {
      var e4 = i3[d4];
      if (Array.isArray(e4.errors)) {
        n2.push(...e4.errors);
      }
      if (e4.extensions) {
        Object.assign(s, e4.extensions);
        o2 = true;
      }
      var r4 = "data";
      var t3 = f3;
      var l4 = [];
      if (e4.path) {
        l4 = e4.path;
      } else if (a2) {
        var c3 = a2.find((r5) => r5.id === e4.id);
        if (e4.subPath) {
          l4 = [...c3.path, ...e4.subPath];
        } else {
          l4 = c3.path;
        }
      }
      for (var v3 = 0, u3 = l4.length; v3 < u3; r4 = l4[v3++]) {
        t3 = t3[r4] = Array.isArray(t3[r4]) ? [...t3[r4]] : {
          ...t3[r4]
        };
      }
      if (e4.items) {
        var p3 = +r4 >= 0 ? r4 : 0;
        for (var h2 = 0, y2 = e4.items.length; h2 < y2; h2++) {
          t3[p3 + h2] = deepMerge(t3[p3 + h2], e4.items[h2]);
        }
      } else if (void 0 !== e4.data) {
        t3[r4] = deepMerge(t3[r4], e4.data);
      }
    };
    for (var d4 = 0, l3 = i3.length; d4 < l3; d4++) {
      _loop();
    }
  } else {
    f3.data = (r3.payload || r3).data || e3.data;
    n2 = r3.errors || r3.payload && r3.payload.errors || n2;
  }
  return {
    operation: e3.operation,
    data: f3.data,
    error: n2.length ? new CombinedError({
      graphQLErrors: n2,
      response: t2
    }) : void 0,
    extensions: o2 ? s : void 0,
    hasNext: null != r3.hasNext ? r3.hasNext : e3.hasNext,
    stale: false
  };
};
var makeErrorResult = (e3, r3, t2) => ({
  operation: e3,
  data: void 0,
  error: new CombinedError({
    networkError: r3,
    response: t2
  }),
  extensions: void 0,
  hasNext: false,
  stale: false
});
function makeFetchBody(e3) {
  var r3 = {
    query: void 0,
    documentId: void 0,
    operationName: getOperationName(e3.query),
    variables: e3.variables || void 0,
    extensions: e3.extensions
  };
  if ("documentId" in e3.query && e3.query.documentId && (!e3.query.definitions || !e3.query.definitions.length)) {
    r3.documentId = e3.query.documentId;
  } else if (!e3.extensions || !e3.extensions.persistedQuery || e3.extensions.persistedQuery.miss) {
    r3.query = stringifyDocument(e3.query);
  }
  return r3;
}
var makeFetchURL = (e3, r3) => {
  var t2 = "query" === e3.kind && e3.context.preferGetMethod;
  if (!t2 || !r3) {
    return e3.context.url;
  }
  var a2 = splitOutSearchParams(e3.context.url);
  for (var n2 in r3) {
    var o2 = r3[n2];
    if (o2) {
      a2[1].set(n2, "object" == typeof o2 ? stringifyVariables(o2) : o2);
    }
  }
  var s = a2.join("?");
  if (s.length > 2047 && "force" !== t2) {
    e3.context.preferGetMethod = false;
    return e3.context.url;
  }
  return s;
};
var splitOutSearchParams = (e3) => {
  var r3 = e3.indexOf("?");
  return r3 > -1 ? [e3.slice(0, r3), new URLSearchParams(e3.slice(r3 + 1))] : [e3, new URLSearchParams()];
};
var serializeBody = (e3, r3) => {
  if (r3 && !("query" === e3.kind && !!e3.context.preferGetMethod)) {
    var t2 = stringifyVariables(r3);
    var a2 = ((e4) => {
      var r4 = /* @__PURE__ */ new Map();
      if (d2 !== NoopConstructor || l !== NoopConstructor) {
        i2.clear();
        extract(r4, "variables", e4);
      }
      return r4;
    })(r3.variables);
    if (a2.size) {
      var n2 = new FormData();
      n2.append("operations", t2);
      n2.append("map", stringifyVariables({
        ...[...a2.keys()].map((e4) => [e4])
      }));
      var o2 = 0;
      for (var s of a2.values()) {
        n2.append("" + o2++, s);
      }
      return n2;
    }
    return t2;
  }
};
var makeFetchOptions = (e3, r3) => {
  var t2 = {
    accept: "subscription" === e3.kind ? "text/event-stream, multipart/mixed" : "application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"
  };
  var a2 = ("function" == typeof e3.context.fetchOptions ? e3.context.fetchOptions() : e3.context.fetchOptions) || {};
  if (a2.headers) {
    if (((e4) => "has" in e4 && !Object.keys(e4).length)(a2.headers)) {
      a2.headers.forEach((e4, r4) => {
        t2[r4] = e4;
      });
    } else if (Array.isArray(a2.headers)) {
      a2.headers.forEach((e4, r4) => {
        if (Array.isArray(e4)) {
          if (t2[e4[0]]) {
            t2[e4[0]] = `${t2[e4[0]]},${e4[1]}`;
          } else {
            t2[e4[0]] = e4[1];
          }
        } else {
          t2[r4] = e4;
        }
      });
    } else {
      for (var n2 in a2.headers) {
        t2[n2.toLowerCase()] = a2.headers[n2];
      }
    }
  }
  var o2 = serializeBody(e3, r3);
  if ("string" == typeof o2 && !t2["content-type"]) {
    t2["content-type"] = "application/json";
  }
  return {
    ...a2,
    method: o2 ? "POST" : "GET",
    body: o2,
    headers: t2
  };
};
var h = /boundary="?([^=";]+)"?/i;
var y = /data: ?([^\n]+)/;
async function* streamBody(e3) {
  if (e3.body[Symbol.asyncIterator]) {
    for await (var r3 of e3.body) {
      yield r3;
    }
  } else {
    var t2 = e3.body.getReader();
    var a2;
    try {
      while (!(a2 = await t2.read()).done) {
        yield a2.value;
      }
    } finally {
      t2.cancel();
    }
  }
}
async function* streamToBoundedChunks(e3, r3) {
  var t2 = "undefined" != typeof TextDecoder ? new TextDecoder() : null;
  var a2 = "";
  var n2;
  for await (var o2 of e3) {
    a2 += "Buffer" === o2.constructor.name ? o2.toString() : t2.decode(o2, {
      stream: true
    });
    while ((n2 = a2.indexOf(r3)) > -1) {
      yield a2.slice(0, n2);
      a2 = a2.slice(n2 + r3.length);
    }
  }
}
async function* fetchOperation(e3, r3, t2) {
  var a2 = true;
  var n2 = null;
  var o2;
  try {
    yield await Promise.resolve();
    var s = (o2 = await (e3.context.fetch || fetch)(r3, t2)).headers.get("Content-Type") || "";
    var i3;
    if (/multipart\/mixed/i.test(s)) {
      i3 = async function* parseMultipartMixed(e4, r4) {
        var t3 = e4.match(h);
        var a3 = "--" + (t3 ? t3[1] : "-");
        var n3 = true;
        var o3;
        for await (var s2 of streamToBoundedChunks(streamBody(r4), "\r\n" + a3)) {
          if (n3) {
            n3 = false;
            var i4 = s2.indexOf(a3);
            if (i4 > -1) {
              s2 = s2.slice(i4 + a3.length);
            } else {
              continue;
            }
          }
          try {
            yield o3 = JSON.parse(s2.slice(s2.indexOf("\r\n\r\n") + 4));
          } catch (e5) {
            if (!o3) {
              throw e5;
            }
          }
          if (o3 && false === o3.hasNext) {
            break;
          }
        }
        if (o3 && false !== o3.hasNext) {
          yield {
            hasNext: false
          };
        }
      }(s, o2);
    } else if (/text\/event-stream/i.test(s)) {
      i3 = async function* parseEventStream(e4) {
        var r4;
        for await (var t3 of streamToBoundedChunks(streamBody(e4), "\n\n")) {
          var a3 = t3.match(y);
          if (a3) {
            var n3 = a3[1];
            try {
              yield r4 = JSON.parse(n3);
            } catch (e5) {
              if (!r4) {
                throw e5;
              }
            }
            if (r4 && false === r4.hasNext) {
              break;
            }
          }
        }
        if (r4 && false !== r4.hasNext) {
          yield {
            hasNext: false
          };
        }
      }(o2);
    } else if (!/text\//i.test(s)) {
      i3 = async function* parseJSON(e4) {
        yield JSON.parse(await e4.text());
      }(o2);
    } else {
      i3 = async function* parseMaybeJSON(e4) {
        var r4 = await e4.text();
        try {
          var t3 = JSON.parse(r4);
          if (false) {
            console.warn('Found response with content-type "text/plain" but it had a valid "application/json" response.');
          }
          yield t3;
        } catch (e5) {
          throw new Error(r4);
        }
      }(o2);
    }
    var f3;
    for await (var d4 of i3) {
      if (d4.pending && !n2) {
        f3 = d4.pending;
      } else if (d4.pending) {
        f3 = [...f3, ...d4.pending];
      }
      n2 = n2 ? mergeResultPatch(n2, d4, o2, f3) : makeResult(e3, d4, o2);
      a2 = false;
      yield n2;
      a2 = true;
    }
    if (!n2) {
      yield n2 = makeResult(e3, {}, o2);
    }
  } catch (r4) {
    if (!a2) {
      throw r4;
    }
    yield makeErrorResult(e3, o2 && (o2.status < 200 || o2.status >= 300) && o2.statusText ? new Error(o2.statusText) : r4, o2);
  }
}
function makeFetchSource(e3, r3, t2) {
  var a2;
  if ("undefined" != typeof AbortController) {
    t2.signal = (a2 = new AbortController()).signal;
  }
  return onEnd(() => {
    if (a2) {
      a2.abort();
    }
  })(filter((e4) => !!e4)(fromAsyncIterable(fetchOperation(e3, r3, t2))));
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@urql/core@6.0.1/node_modules/@urql/core/dist/urql-core.mjs
var collectTypes = (e3, r3) => {
  if (Array.isArray(e3)) {
    for (var t2 = 0, n2 = e3.length; t2 < n2; t2++) {
      collectTypes(e3[t2], r3);
    }
  } else if ("object" == typeof e3 && null !== e3) {
    for (var a2 in e3) {
      if ("__typename" === a2 && "string" == typeof e3[a2]) {
        r3.add(e3[a2]);
      } else {
        collectTypes(e3[a2], r3);
      }
    }
  }
  return r3;
};
var formatNode = (r3) => {
  if ("definitions" in r3) {
    var t2 = [];
    for (var n2 = 0, a2 = r3.definitions.length; n2 < a2; n2++) {
      var i3 = formatNode(r3.definitions[n2]);
      t2.push(i3);
    }
    return {
      ...r3,
      definitions: t2
    };
  }
  if ("directives" in r3 && r3.directives && r3.directives.length) {
    var o2 = [];
    var s = {};
    for (var c3 = 0, u3 = r3.directives.length; c3 < u3; c3++) {
      var p3 = r3.directives[c3];
      var d4 = p3.name.value;
      if ("_" !== d4[0]) {
        o2.push(p3);
      } else {
        d4 = d4.slice(1);
      }
      s[d4] = p3;
    }
    r3 = {
      ...r3,
      directives: o2,
      _directives: s
    };
  }
  if ("selectionSet" in r3) {
    var l3 = [];
    var v3 = r3.kind === e.OPERATION_DEFINITION;
    if (r3.selectionSet) {
      for (var f3 = 0, h2 = r3.selectionSet.selections.length; f3 < h2; f3++) {
        var k = r3.selectionSet.selections[f3];
        v3 = v3 || k.kind === e.FIELD && "__typename" === k.name.value && !k.alias;
        var y2 = formatNode(k);
        l3.push(y2);
      }
      if (!v3) {
        l3.push({
          kind: e.FIELD,
          name: {
            kind: e.NAME,
            value: "__typename"
          },
          _generated: true
        });
      }
      return {
        ...r3,
        selectionSet: {
          ...r3.selectionSet,
          selections: l3
        }
      };
    }
  }
  return r3;
};
var I = /* @__PURE__ */ new Map();
var formatDocument = (e3) => {
  var t2 = keyDocument(e3);
  var n2 = I.get(t2.__key);
  if (!n2) {
    I.set(t2.__key, n2 = formatNode(t2));
    Object.defineProperty(n2, "__key", {
      value: t2.__key,
      enumerable: false
    });
  }
  return n2;
};
function withPromise(e3) {
  var source$ = (r3) => e3(r3);
  source$.toPromise = () => toPromise(take(1)(filter((e4) => !e4.stale && !e4.hasNext)(source$)));
  source$.then = (e4, r3) => source$.toPromise().then(e4, r3);
  source$.subscribe = (e4) => subscribe(e4)(source$);
  return source$;
}
function makeOperation(e3, r3, t2) {
  return {
    ...r3,
    kind: e3,
    context: r3.context ? {
      ...r3.context,
      ...t2
    } : t2 || r3.context
  };
}
var addMetadata = (e3, r3) => makeOperation(e3.kind, e3, {
  meta: {
    ...e3.context.meta,
    ...r3
  }
});
var noop = () => {
};
var shouldSkip = ({ kind: e3 }) => "mutation" !== e3 && "query" !== e3;
var mapTypeNames = (e3) => {
  var r3 = formatDocument(e3.query);
  if (r3 !== e3.query) {
    var t2 = makeOperation(e3.kind, e3);
    t2.query = r3;
    return t2;
  } else {
    return e3;
  }
};
var cacheExchange = ({ forward: e3, client: r3, dispatchDebug: t2 }) => {
  var a2 = /* @__PURE__ */ new Map();
  var i3 = /* @__PURE__ */ new Map();
  var isOperationCached = (e4) => "query" === e4.kind && "network-only" !== e4.context.requestPolicy && ("cache-only" === e4.context.requestPolicy || a2.has(e4.key));
  return (o2) => {
    var s = map((e4) => {
      var i4 = a2.get(e4.key);
      var o3 = i4 || makeResult(e4, {
        data: null
      });
      o3 = {
        ...o3,
        operation: addMetadata(e4, {
          cacheOutcome: i4 ? "hit" : "miss"
        })
      };
      if ("cache-and-network" === e4.context.requestPolicy) {
        o3.stale = true;
        reexecuteOperation(r3, e4);
      }
      return o3;
    })(filter((e4) => !shouldSkip(e4) && isOperationCached(e4))(o2));
    var c3 = onPush((e4) => {
      var { operation: n2 } = e4;
      if (!n2) {
        return;
      }
      var o3 = n2.context.additionalTypenames || [];
      if ("subscription" !== e4.operation.kind) {
        o3 = ((e5) => [...collectTypes(e5, /* @__PURE__ */ new Set())])(e4.data).concat(o3);
      }
      if ("mutation" === e4.operation.kind || "subscription" === e4.operation.kind) {
        var s2 = /* @__PURE__ */ new Set();
        for (var c4 = 0; c4 < o3.length; c4++) {
          var u3 = o3[c4];
          var p3 = i3.get(u3);
          if (!p3) {
            i3.set(u3, p3 = /* @__PURE__ */ new Set());
          }
          for (var d4 of p3.values()) {
            s2.add(d4);
          }
          p3.clear();
        }
        for (var l3 of s2.values()) {
          if (a2.has(l3)) {
            n2 = a2.get(l3).operation;
            a2.delete(l3);
            reexecuteOperation(r3, n2);
          }
        }
      } else if ("query" === n2.kind && e4.data) {
        a2.set(n2.key, e4);
        for (var v3 = 0; v3 < o3.length; v3++) {
          var f3 = o3[v3];
          var h2 = i3.get(f3);
          if (!h2) {
            i3.set(f3, h2 = /* @__PURE__ */ new Set());
          }
          h2.add(n2.key);
        }
      }
    })(e3(filter((e4) => "query" !== e4.kind || "cache-only" !== e4.context.requestPolicy)(map((e4) => addMetadata(e4, {
      cacheOutcome: "miss"
    }))(merge([map(mapTypeNames)(filter((e4) => !shouldSkip(e4) && !isOperationCached(e4))(o2)), filter((e4) => shouldSkip(e4))(o2)])))));
    return merge([s, c3]);
  };
};
var reexecuteOperation = (e3, r3) => e3.reexecuteOperation(makeOperation(r3.kind, r3, {
  requestPolicy: "network-only"
}));
var fetchExchange = ({ forward: e3, dispatchDebug: r3 }) => (t2) => {
  var n2 = mergeMap((e4) => {
    var n3 = makeFetchBody(e4);
    var a3 = makeFetchURL(e4, n3);
    var i3 = makeFetchOptions(e4, n3);
    var s = takeUntil(filter((r4) => "teardown" === r4.kind && r4.key === e4.key)(t2))(makeFetchSource(e4, a3, i3));
    if (false) {
      return onPush((t3) => {
        var n4 = !t3.data ? t3.error : void 0;
      })(s);
    }
    return s;
  })(filter((e4) => "teardown" !== e4.kind && ("subscription" !== e4.kind || !!e4.context.fetchSubscriptions))(t2));
  var a2 = e3(filter((e4) => "teardown" === e4.kind || "subscription" === e4.kind && !e4.context.fetchSubscriptions)(t2));
  return merge([n2, a2]);
};
var composeExchanges = (e3) => ({ client: r3, forward: t2, dispatchDebug: n2 }) => e3.reduceRight((e4, t3) => {
  var a2 = false;
  return t3({
    client: r3,
    forward(r4) {
      if (false) {
        if (a2) {
          throw new Error("forward() must only be called once in each Exchange.");
        }
        a2 = true;
      }
      return share(e4(share(r4)));
    },
    dispatchDebug(e5) {
    }
  });
}, t2);
var fallbackExchange = ({ dispatchDebug: e3 }) => (r3) => {
  if (false) {
    r3 = onPush((r4) => {
      if ("teardown" !== r4.kind && false) {
        var t2 = `No exchange has handled operations of kind "${r4.kind}". Check whether you've added an exchange responsible for these operations.`;
        console.warn(t2);
      }
    })(r3);
  }
  return filter((e4) => false)(r3);
};
var C = function Client(e3) {
  if (false) {
    throw new Error("You are creating an urql-client without a url.");
  }
  var r3 = 0;
  var t2 = /* @__PURE__ */ new Map();
  var n2 = /* @__PURE__ */ new Map();
  var a2 = /* @__PURE__ */ new Set();
  var i3 = [];
  var o2 = {
    url: e3.url,
    fetchSubscriptions: e3.fetchSubscriptions,
    fetchOptions: e3.fetchOptions,
    fetch: e3.fetch,
    preferGetMethod: null != e3.preferGetMethod ? e3.preferGetMethod : "within-url-limit",
    requestPolicy: e3.requestPolicy || "cache-first"
  };
  var s = makeSubject();
  function nextOperation(e4) {
    if ("mutation" === e4.kind || "teardown" === e4.kind || !a2.has(e4.key)) {
      if ("teardown" === e4.kind) {
        a2.delete(e4.key);
      } else if ("mutation" !== e4.kind) {
        a2.add(e4.key);
      }
      s.next(e4);
    }
  }
  var c3 = false;
  function dispatchOperation(e4) {
    if (e4) {
      nextOperation(e4);
    }
    if (!c3) {
      c3 = true;
      while (c3 && (e4 = i3.shift())) {
        nextOperation(e4);
      }
      c3 = false;
    }
  }
  var makeResultSource = (e4) => {
    var r4 = takeUntil(filter((r5) => "teardown" === r5.kind && r5.key === e4.key)(s.source))(filter((r5) => r5.operation.kind === e4.kind && r5.operation.key === e4.key && (!r5.operation.context._instance || r5.operation.context._instance === e4.context._instance))(E));
    if ("query" !== e4.kind) {
      r4 = takeWhile((e5) => !!e5.hasNext, true)(r4);
    } else {
      r4 = switchMap((r5) => {
        var t3 = fromValue(r5);
        return r5.stale || r5.hasNext ? t3 : merge([t3, map(() => {
          r5.stale = true;
          return r5;
        })(take(1)(filter((r6) => r6.key === e4.key)(s.source)))]);
      })(r4);
    }
    if ("mutation" !== e4.kind) {
      r4 = onEnd(() => {
        a2.delete(e4.key);
        t2.delete(e4.key);
        n2.delete(e4.key);
        c3 = false;
        for (var r5 = i3.length - 1; r5 >= 0; r5--) {
          if (i3[r5].key === e4.key) {
            i3.splice(r5, 1);
          }
        }
        nextOperation(makeOperation("teardown", e4, e4.context));
      })(onPush((r5) => {
        if (r5.stale) {
          if (!r5.hasNext) {
            a2.delete(e4.key);
          } else {
            for (var n3 = 0; n3 < i3.length; n3++) {
              var o3 = i3[n3];
              if (o3.key === r5.operation.key) {
                a2.delete(o3.key);
                break;
              }
            }
          }
        } else if (!r5.hasNext) {
          a2.delete(e4.key);
        }
        t2.set(e4.key, r5);
      })(r4));
    } else {
      r4 = onStart(() => {
        nextOperation(e4);
      })(r4);
    }
    return share(r4);
  };
  var u3 = this instanceof Client ? this : Object.create(Client.prototype);
  var p3 = Object.assign(u3, {
    suspense: !!e3.suspense,
    operations$: s.source,
    reexecuteOperation(e4) {
      if ("teardown" === e4.kind) {
        dispatchOperation(e4);
      } else if ("mutation" === e4.kind) {
        i3.push(e4);
        Promise.resolve().then(dispatchOperation);
      } else if (n2.has(e4.key)) {
        var r4 = false;
        for (var t3 = 0; t3 < i3.length; t3++) {
          if (i3[t3].key === e4.key) {
            i3[t3] = e4;
            r4 = true;
          }
        }
        if (!(r4 || a2.has(e4.key) && "network-only" !== e4.context.requestPolicy)) {
          i3.push(e4);
          Promise.resolve().then(dispatchOperation);
        } else {
          a2.delete(e4.key);
          Promise.resolve().then(dispatchOperation);
        }
      }
    },
    createRequestOperation(e4, t3, n3) {
      if (!n3) {
        n3 = {};
      }
      var a3;
      if (false) {
        throw new Error(`Expected operation of type "${e4}" but found "${a3}"`);
      }
      return makeOperation(e4, t3, {
        _instance: "mutation" === e4 ? r3 = r3 + 1 | 0 : void 0,
        ...o2,
        ...n3,
        requestPolicy: n3.requestPolicy || o2.requestPolicy,
        suspense: n3.suspense || false !== n3.suspense && p3.suspense
      });
    },
    executeRequestOperation(e4) {
      if ("mutation" === e4.kind) {
        return withPromise(makeResultSource(e4));
      }
      return withPromise(lazy(() => {
        var r4 = n2.get(e4.key);
        if (!r4) {
          n2.set(e4.key, r4 = makeResultSource(e4));
        }
        r4 = onStart(() => {
          dispatchOperation(e4);
        })(r4);
        var a3 = t2.get(e4.key);
        if ("query" === e4.kind && a3 && (a3.stale || a3.hasNext)) {
          return switchMap(fromValue)(merge([r4, filter((r5) => r5 === t2.get(e4.key))(fromValue(a3))]));
        } else {
          return r4;
        }
      }));
    },
    executeQuery(e4, r4) {
      var t3 = p3.createRequestOperation("query", e4, r4);
      return p3.executeRequestOperation(t3);
    },
    executeSubscription(e4, r4) {
      var t3 = p3.createRequestOperation("subscription", e4, r4);
      return p3.executeRequestOperation(t3);
    },
    executeMutation(e4, r4) {
      var t3 = p3.createRequestOperation("mutation", e4, r4);
      return p3.executeRequestOperation(t3);
    },
    readQuery(e4, r4, t3) {
      var n3 = null;
      subscribe((e5) => {
        n3 = e5;
      })(p3.query(e4, r4, t3)).unsubscribe();
      return n3;
    },
    query: (e4, r4, t3) => p3.executeQuery(createRequest(e4, r4), t3),
    subscription: (e4, r4, t3) => p3.executeSubscription(createRequest(e4, r4), t3),
    mutation: (e4, r4, t3) => p3.executeMutation(createRequest(e4, r4), t3)
  });
  var d4 = noop;
  if (false) {
    var { next: f3, source: x } = makeSubject();
    p3.subscribeToDebugTarget = (e4) => subscribe(e4)(x);
    d4 = f3;
  }
  var w = composeExchanges(e3.exchanges);
  var E = share(w({
    client: p3,
    dispatchDebug: d4,
    forward: fallbackExchange({
      dispatchDebug: d4
    })
  })(s.source));
  publish(E);
  return p3;
};
var Q = C;

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/urql@5.0.1_@urql+core@6.0.1_react@18.3.1/node_modules/urql/dist/urql.es.js
var r2 = __toESM(require_react());
var c2 = {};
var v2 = r2.createContext(c2);
var f2 = v2.Provider;
var l2 = v2.Consumer;
v2.displayName = "UrqlContext";
var useClient = () => {
  var e3 = r2.useContext(v2);
  if (e3 === c2 && false) {
    var t2 = "No client has been specified using urql's Provider. please create a client and add a Provider.";
    console.error(t2);
    throw new Error(t2);
  }
  return e3;
};
var d3 = {
  fetching: false,
  stale: false,
  hasNext: false,
  error: void 0,
  data: void 0,
  extensions: void 0,
  operation: void 0
};
var areOperationsEqual = (e3, r3) => e3 === r3 || !(!e3 || !r3 || e3.key !== r3.key);
var computeNextState = (e3, r3) => {
  var t2 = {
    ...e3,
    ...r3,
    data: void 0 !== r3.data || r3.error ? r3.data : e3.data,
    fetching: !!r3.fetching,
    stale: !!r3.stale
  };
  return ((e4, r4) => {
    for (var t3 in e4) {
      if (!(t3 in r4)) {
        return true;
      }
    }
    for (var a2 in r4) {
      if ("operation" === a2 ? !areOperationsEqual(e4[a2], r4[a2]) : e4[a2] !== r4[a2]) {
        return true;
      }
    }
    return false;
  })(e3, t2) ? t2 : e3;
};
var hasDepsChanged = (e3, r3) => {
  for (var t2 = 0, a2 = r3.length; t2 < a2; t2++) {
    if (e3[t2] !== r3[t2]) {
      return true;
    }
  }
  return false;
};
var p2 = false;
function deferDispatch(e3, r3) {
  if (!p2 || void 0 === r3) {
    try {
      p2 = true;
      return e3(r3);
    } finally {
      p2 = false;
    }
  } else {
    Promise.resolve(r3).then(e3);
  }
}
function useRequest(t2, a2) {
  var n2 = r2.useRef(void 0);
  return r2.useMemo(() => {
    var r3 = createRequest(t2, a2);
    if (void 0 !== n2.current && n2.current.key === r3.key) {
      return n2.current;
    } else {
      n2.current = r3;
      return r3;
    }
  }, [t2, a2]);
}
var getCacheForClient = (e3) => {
  if (!e3._react) {
    var r3 = /* @__PURE__ */ new Set();
    var t2 = /* @__PURE__ */ new Map();
    if (e3.operations$) {
      subscribe((e4) => {
        if ("teardown" === e4.kind && r3.has(e4.key)) {
          r3.delete(e4.key);
          t2.delete(e4.key);
        }
      })(e3.operations$);
    }
    e3._react = {
      get: (e4) => t2.get(e4),
      set(e4, a2) {
        r3.delete(e4);
        t2.set(e4, a2);
      },
      dispose(e4) {
        r3.add(e4);
      }
    };
  }
  return e3._react;
};
var isSuspense = (e3, r3) => r3 && void 0 !== r3.suspense ? !!r3.suspense : e3.suspense;
function useQuery(e3) {
  var t2 = useClient();
  var a2 = getCacheForClient(t2);
  var n2 = isSuspense(t2, e3.context);
  var c3 = useRequest(e3.query, e3.variables);
  var v3 = r2.useMemo(() => {
    if (e3.pause) {
      return null;
    }
    var r3 = t2.executeQuery(c3, {
      requestPolicy: e3.requestPolicy,
      ...e3.context
    });
    return n2 ? onPush((e4) => {
      a2.set(c3.key, e4);
    })(r3) : r3;
  }, [a2, t2, c3, n2, e3.pause, e3.requestPolicy, e3.context]);
  var f3 = r2.useCallback((e4, r3) => {
    if (!e4) {
      return {
        fetching: false
      };
    }
    var t3 = a2.get(c3.key);
    if (!t3) {
      var n3;
      var u3 = subscribe((e5) => {
        t3 = e5;
        if (n3) {
          n3(t3);
        }
      })(takeWhile(() => r3 && !n3 || !t3 || "hasNext" in t3 && t3.hasNext)(e4));
      if (null == t3 && r3) {
        var o2 = new Promise((e5) => {
          n3 = e5;
        });
        a2.set(c3.key, o2);
        throw o2;
      } else {
        u3.unsubscribe();
      }
    } else if (r3 && null != t3 && "then" in t3) {
      throw t3;
    }
    return t3 || {
      fetching: true
    };
  }, [a2, c3]);
  var l3 = [t2, c3, e3.requestPolicy, e3.context, e3.pause];
  var [p3, h2] = r2.useState(() => [v3, computeNextState(d3, deferDispatch(() => f3(v3, n2))), l3]);
  var x = p3[1];
  if (v3 !== p3[0] && hasDepsChanged(p3[2], l3)) {
    h2([v3, x = computeNextState(p3[1], deferDispatch(() => f3(v3, n2))), l3]);
  }
  r2.useEffect(() => {
    var e4 = p3[0];
    var r3 = p3[2][1];
    var t3 = false;
    var updateResult = (e5) => {
      t3 = true;
      deferDispatch(h2, (r4) => {
        var t4 = computeNextState(r4[1], e5);
        return r4[1] !== t4 ? [r4[0], t4, r4[2]] : r4;
      });
    };
    if (e4) {
      var n3 = subscribe(updateResult)(onEnd(() => {
        updateResult({
          fetching: false
        });
      })(e4));
      if (!t3) {
        updateResult({
          fetching: true
        });
      }
      return () => {
        a2.dispose(r3.key);
        n3.unsubscribe();
      };
    } else {
      updateResult({
        fetching: false
      });
    }
  }, [a2, p3[0], p3[2][1]]);
  var y2 = r2.useCallback((r3) => {
    var i3 = {
      requestPolicy: e3.requestPolicy,
      ...e3.context,
      ...r3
    };
    deferDispatch(h2, (e4) => [n2 ? onPush((e5) => {
      a2.set(c3.key, e5);
    })(t2.executeQuery(c3, i3)) : t2.executeQuery(c3, i3), e4[1], l3]);
  }, [t2, a2, c3, n2, e3.requestPolicy, e3.context, e3.pause]);
  return [x, y2];
}

// public/pages/LoginPage.tsx
var import_react3 = __toESM(require_react());

// public/components/LoginForm.tsx
var import_react2 = __toESM(require_react());

// public/context/AuthContext.tsx
var import_react = __toESM(require_react());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/firebase@10.14.1_@firebase+app@0.10.13_@firebase+app-compat@0.2.43_@firebase+app-types@0.9.2/node_modules/firebase/app/dist/esm/index.esm.js
init_index_esm20174();
init_index_esm20174();
var name3 = "firebase";
var version2 = "10.14.1";
registerVersion(name3, version2, "app");

// public/firebase/auth.ts
init_index_esm();

// public/firebase/config.ts
var firebaseConfig = {
  apiKey: "AIzaSyD7lz5N0CNyyHB9OdNujQ84IdPkKLSurUc",
  authDomain: "deno-906b2.firebaseapp.com",
  projectId: "deno-906b2",
  storageBucket: "deno-906b2.firebasestorage.app",
  messagingSenderId: "213727809596",
  appId: "1:213727809596:web:a01e0fb18e8d06a4e2b339",
  measurementId: "G-J0T3T158J6"
};

// public/firebase/auth.ts
var app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];
var auth = getAuth(app);
async function firebaseSignup(email, password) {
  try {
    const userCredential = await createUserWithEmailAndPassword(
      auth,
      email,
      password
    );
    const user = userCredential.user;
    await sendEmailVerification(user);
    return {
      success: true,
      message: "\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002\u30E1\u30FC\u30EB\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",
      user
    };
  } catch (error2) {
    const firebaseError = error2;
    let message = "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    switch (firebaseError.code) {
      case "auth/email-already-in-use":
        message = "\u3053\u306E\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306F\u65E2\u306B\u4F7F\u7528\u3055\u308C\u3066\u3044\u307E\u3059";
        break;
      case "auth/invalid-email":
        message = "\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u3059";
        break;
      case "auth/weak-password":
        message = "\u30D1\u30B9\u30EF\u30FC\u30C9\u306F6\u6587\u5B57\u4EE5\u4E0A\u306B\u3057\u3066\u304F\u3060\u3055\u3044";
        break;
      default:
        message = firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    }
    return { success: false, message };
  }
}
async function firebaseLogin(email, password) {
  try {
    const userCredential = await signInWithEmailAndPassword(
      auth,
      email,
      password
    );
    const user = userCredential.user;
    await user.reload();
    if (!user.emailVerified) {
      await signOut(auth);
      return {
        success: false,
        message: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u304C\u78BA\u8A8D\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"
      };
    }
    return {
      success: true,
      message: "\u30ED\u30B0\u30A4\u30F3\u3057\u307E\u3057\u305F",
      user
    };
  } catch (error2) {
    const firebaseError = error2;
    let message = "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    switch (firebaseError.code) {
      case "auth/user-not-found":
        message = "\u30E6\u30FC\u30B6\u30FC\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093";
        break;
      case "auth/wrong-password":
        message = "\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u9593\u9055\u3063\u3066\u3044\u307E\u3059";
        break;
      case "auth/invalid-credential":
        message = "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u307E\u305F\u306F\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u9593\u9055\u3063\u3066\u3044\u307E\u3059";
        break;
      case "auth/invalid-email":
        message = "\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u3059";
        break;
      case "auth/user-disabled":
        message = "\u3053\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u306F\u7121\u52B9\u5316\u3055\u308C\u3066\u3044\u307E\u3059";
        break;
      case "auth/too-many-requests":
        message = "\u30ED\u30B0\u30A4\u30F3\u8A66\u884C\u56DE\u6570\u304C\u591A\u3059\u304E\u307E\u3059\u3002\u3057\u3070\u3089\u304F\u5F85\u3063\u3066\u304B\u3089\u518D\u8A66\u884C\u3057\u3066\u304F\u3060\u3055\u3044";
        break;
      default:
        console.error("Unknown error code:", firebaseError.code);
        message = firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    }
    return { success: false, message };
  }
}
async function firebaseLogout() {
  await signOut(auth);
}
function onAuthChange(callback) {
  return onAuthStateChanged(auth, callback);
}
async function resendVerificationEmail() {
  const user = auth.currentUser;
  if (!user) {
    return { success: false, message: "\u30ED\u30B0\u30A4\u30F3\u3057\u3066\u3044\u307E\u305B\u3093" };
  }
  try {
    await sendEmailVerification(user);
    return { success: true, message: "\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u518D\u9001\u4FE1\u3057\u307E\u3057\u305F" };
  } catch (error2) {
    const firebaseError = error2;
    return {
      success: false,
      message: firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"
    };
  }
}
async function sendPasswordReset(email) {
  try {
    await sendPasswordResetEmail(auth, email);
    return {
      success: true,
      message: "\u30D1\u30B9\u30EF\u30FC\u30C9\u30EA\u30BB\u30C3\u30C8\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002\u30E1\u30FC\u30EB\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"
    };
  } catch (error2) {
    const firebaseError = error2;
    let message = "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    switch (firebaseError.code) {
      case "auth/user-not-found":
        message = "\u3053\u306E\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306F\u767B\u9332\u3055\u308C\u3066\u3044\u307E\u305B\u3093";
        break;
      case "auth/invalid-email":
        message = "\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u3059";
        break;
      default:
        message = firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    }
    return { success: false, message };
  }
}

// public/context/AuthContext.tsx
var import_jsx_runtime = __toESM(require_jsx_runtime());
var AuthContext = (0, import_react.createContext)(null);
function toAuthUser(firebaseUser) {
  return {
    id: firebaseUser.uid,
    name: firebaseUser.displayName || "",
    email: firebaseUser.email || "",
    emailVerified: firebaseUser.emailVerified
  };
}
function AuthProvider({ children }) {
  const [firebaseUser, setFirebaseUser] = (0, import_react.useState)(null);
  const [user, setUser] = (0, import_react.useState)(null);
  const [isLoading, setIsLoading] = (0, import_react.useState)(true);
  (0, import_react.useEffect)(() => {
    const unsubscribe = onAuthChange((fbUser) => {
      setFirebaseUser(fbUser);
      if (fbUser) {
        setUser(toAuthUser(fbUser));
      } else {
        setUser(null);
      }
      setIsLoading(false);
    });
    return () => unsubscribe();
  }, []);
  const signup = (0, import_react.useCallback)(
    async (name5, email, password) => {
      setIsLoading(true);
      try {
        const result = await firebaseSignup(email, password);
        if (result.success && result.user) {
          const { updateProfile: updateProfile2 } = await Promise.resolve().then(() => (init_index_esm(), index_esm_exports));
          await updateProfile2(result.user, { displayName: name5 });
          setUser({
            id: result.user.uid,
            name: name5,
            email: result.user.email || "",
            emailVerified: result.user.emailVerified
          });
        }
        return { success: result.success, message: result.message };
      } catch (error2) {
        return {
          success: false,
          message: error2 instanceof Error ? error2.message : "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"
        };
      } finally {
        setIsLoading(false);
      }
    },
    []
  );
  const login = (0, import_react.useCallback)(
    async (email, password) => {
      setIsLoading(true);
      try {
        const result = await firebaseLogin(email, password);
        return { success: result.success, message: result.message };
      } catch (error2) {
        return {
          success: false,
          message: error2 instanceof Error ? error2.message : "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"
        };
      } finally {
        setIsLoading(false);
      }
    },
    []
  );
  const logout = (0, import_react.useCallback)(async () => {
    await firebaseLogout();
    setUser(null);
    setFirebaseUser(null);
  }, []);
  const resendVerification = (0, import_react.useCallback)(async () => {
    return await resendVerificationEmail();
  }, []);
  const isAuthenticated = user !== null && user.emailVerified;
  const value2 = {
    user,
    firebaseUser,
    isLoading,
    isAuthenticated,
    signup,
    login,
    logout,
    resendVerification
  };
  return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(AuthContext.Provider, { value: value2, children });
}
function useAuth() {
  const context = (0, import_react.useContext)(AuthContext);
  if (!context) {
    throw new Error("useAuth must be used within an AuthProvider");
  }
  return context;
}

// public/components/button/button.tsx
var import_jsx_runtime2 = __toESM(require_jsx_runtime());
function Button({ children, className, type: type2 = "button", disabled = false, onClick }) {
  return /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
    "button",
    {
      type: type2,
      disabled,
      onClick,
      className: `px-6 py-3 bg-gray-600 text-white font-semibold rounded-md hover:bg-gray-700 transition-all duration-200 relative overflow-hidden group active:scale-95 transform ${className}`,
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("span", { className: "relative z-10", children }),
        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("span", { className: "absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-200" })
      ]
    }
  );
}

// public/components/input/input.tsx
var React3 = __toESM(require_react());
var import_jsx_runtime3 = __toESM(require_jsx_runtime());
var MailIcon = () => /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
  "svg",
  {
    className: "w-5 h-5",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24",
    children: /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        strokeWidth: 2,
        d: "M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
      }
    )
  }
);
var LockIcon = () => /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
  "svg",
  {
    className: "w-5 h-5",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24",
    children: /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        strokeWidth: 2,
        d: "M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
      }
    )
  }
);
var EyeIcon = () => /* @__PURE__ */ (0, import_jsx_runtime3.jsxs)(
  "svg",
  {
    className: "w-5 h-5",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24",
    children: [
      /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
        }
      )
    ]
  }
);
var EyeOffIcon = () => /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
  "svg",
  {
    className: "w-5 h-5",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24",
    children: /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        strokeWidth: 2,
        d: "M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"
      }
    )
  }
);
var StyledInput = React3.forwardRef(
  ({ className, label, error: error2, type: type2, id, ...props }, ref) => {
    const generatedId = React3.useId();
    const inputId = id || generatedId;
    const [showPassword, setShowPassword] = React3.useState(false);
    const [isFocused, setIsFocused] = React3.useState(false);
    const inputType = type2 === "password" && showPassword ? "text" : type2;
    const getIcon = () => {
      if (type2 === "email") return /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(MailIcon, {});
      if (type2 === "password") return /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(LockIcon, {});
      return null;
    };
    const iconColorClass = isFocused ? "text-blue-600" : "text-gray-400";
    const inputClasses = [
      "flex h-12 w-full rounded-lg border bg-gray-50 px-12 py-3 text-base font-medium text-gray-900",
      "transition-all duration-200 ease-out",
      "placeholder:text-gray-400 placeholder:font-normal",
      "focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",
      "disabled:cursor-not-allowed disabled:opacity-50",
      error2 ? "border-red-500 focus:ring-red-500" : "border-gray-300 hover:border-gray-400",
      className
    ].filter(Boolean).join(" ");
    return /* @__PURE__ */ (0, import_jsx_runtime3.jsxs)("div", { className: "w-full space-y-2", children: [
      label && /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
        "label",
        {
          htmlFor: inputId,
          className: "text-sm font-medium text-gray-700",
          children: label
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime3.jsxs)("div", { className: "relative", children: [
        /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
          "div",
          {
            className: `absolute left-4 top-1/2 -translate-y-1/2 transition-colors ${iconColorClass}`,
            children: getIcon()
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
          "input",
          {
            type: inputType,
            className: inputClasses,
            ref,
            id: inputId,
            onFocus: () => setIsFocused(true),
            onBlur: () => setIsFocused(false),
            ...props
          }
        ),
        type2 === "password" && /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
          "button",
          {
            type: "button",
            onClick: () => setShowPassword(!showPassword),
            className: `absolute right-4 top-1/2 -translate-y-1/2 transition-colors hover:text-gray-700 focus:outline-none focus:text-gray-700 ${iconColorClass}`,
            "aria-label": showPassword ? "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u96A0\u3059" : "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u8868\u793A",
            children: showPassword ? /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(EyeOffIcon, {}) : /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(EyeIcon, {})
          }
        )
      ] }),
      error2 && /* @__PURE__ */ (0, import_jsx_runtime3.jsx)("p", { className: "text-sm text-red-500 font-medium", children: error2 })
    ] });
  }
);
StyledInput.displayName = "StyledInput";

// public/components/LoginForm.tsx
var import_jsx_runtime4 = __toESM(require_jsx_runtime());
function LoginForm({ onSuccess, onSwitchToSignup }) {
  const { login, isLoading } = useAuth();
  const [email, setEmail] = (0, import_react2.useState)("");
  const [password, setPassword] = (0, import_react2.useState)("");
  const [error2, setError] = (0, import_react2.useState)("");
  const [message, setMessage] = (0, import_react2.useState)("");
  const [showResetForm, setShowResetForm] = (0, import_react2.useState)(false);
  const [resetLoading, setResetLoading] = (0, import_react2.useState)(false);
  const handleSubmit = async (e3) => {
    e3.preventDefault();
    setError("");
    setMessage("");
    const result = await login(email, password);
    if (result.success) {
      setEmail("");
      setPassword("");
      onSuccess?.();
    } else {
      setError(result.message);
    }
  };
  const handlePasswordReset = async (e3) => {
    e3.preventDefault();
    setError("");
    setMessage("");
    setResetLoading(true);
    const result = await sendPasswordReset(email);
    if (result.success) {
      setMessage(result.message);
      setShowResetForm(false);
    } else {
      setError(result.message);
    }
    setResetLoading(false);
  };
  if (showResetForm) {
    return /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("h2", { className: "text-xl font-semibold text-gray-800 mb-4", children: "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u30EA\u30BB\u30C3\u30C8" }),
      error2 && /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("div", { className: "mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm", children: error2 }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("p", { className: "text-sm text-gray-600 mb-4", children: "\u767B\u9332\u3057\u305F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u30D1\u30B9\u30EF\u30FC\u30C9\u30EA\u30BB\u30C3\u30C8\u7528\u306E\u30EA\u30F3\u30AF\u3092\u9001\u4FE1\u3057\u307E\u3059\u3002" }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("form", { onSubmit: handlePasswordReset, className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
            "label",
            {
              htmlFor: "reset-email",
              className: "block text-sm font-medium text-gray-700 mb-1",
              children: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
            "input",
            {
              type: "email",
              id: "reset-email",
              value: email,
              onChange: (e3) => setEmail(e3.target.value),
              required: true,
              className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
              placeholder: "example@example.com"
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "button",
          {
            type: "submit",
            disabled: resetLoading,
            className: "w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",
            children: resetLoading ? "\u9001\u4FE1\u4E2D..." : "\u30EA\u30BB\u30C3\u30C8\u30E1\u30FC\u30EB\u3092\u9001\u4FE1"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
        "button",
        {
          type: "button",
          onClick: () => {
            setShowResetForm(false);
            setError("");
          },
          className: "mt-4 w-full text-gray-600 hover:text-gray-800 text-sm",
          children: "\u30ED\u30B0\u30A4\u30F3\u306B\u623B\u308B"
        }
      )
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-6", children: [
    error2 && /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("div", { className: "mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm", children: error2 }),
    message && /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("div", { className: "mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm", children: message }),
    /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "label",
          {
            htmlFor: "login-email",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          StyledInput,
          {
            type: "email",
            id: "login-email",
            value: email,
            onChange: (e3) => setEmail(e3.target.value),
            required: true,
            placeholder: "example@example.com"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "label",
          {
            htmlFor: "login-password",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30D1\u30B9\u30EF\u30FC\u30C9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          StyledInput,
          {
            type: "password",
            id: "login-password",
            value: password,
            onChange: (e3) => setPassword(e3.target.value),
            required: true,
            placeholder: "6\u6587\u5B57\u4EE5\u4E0A"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(Button, { type: "submit", disabled: isLoading, className: "w-full", children: isLoading ? "\u30ED\u30B0\u30A4\u30F3\u4E2D..." : "\u30ED\u30B0\u30A4\u30F3" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
      "button",
      {
        type: "button",
        onClick: () => {
          setShowResetForm(true);
          setError("");
          setMessage("");
        },
        className: "mt-3 w-full text-blue-600 hover:underline text-sm",
        children: "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5FD8\u308C\u305F\u5834\u5408"
      }
    ),
    onSwitchToSignup && /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("p", { className: "mt-4 text-center text-sm text-gray-600", children: [
      "\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u304A\u6301\u3061\u3067\u306A\u3044\u65B9\u306F",
      " ",
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
        "button",
        {
          type: "button",
          onClick: onSwitchToSignup,
          className: "text-blue-600 hover:underline",
          children: "\u65B0\u898F\u767B\u9332"
        }
      )
    ] })
  ] });
}

// public/pages/LoginPage.tsx
var import_jsx_runtime5 = __toESM(require_jsx_runtime());
function LoginPage() {
  const { isAuthenticated, isLoading } = useAuth();
  const navigate = useNavigate();
  (0, import_react3.useEffect)(() => {
    if (!isLoading && isAuthenticated) {
      navigate("/", { replace: true });
    }
  }, [isAuthenticated, isLoading, navigate]);
  return /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("div", { className: "max-w-md mx-auto", children: /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
    LoginForm,
    {
      onSuccess: () => navigate("/", { replace: true }),
      onSwitchToSignup: () => navigate("/signup")
    }
  ) }) });
}

// public/pages/SignupPage.tsx
var import_react5 = __toESM(require_react());

// public/components/SignupForm.tsx
var import_react4 = __toESM(require_react());
var import_jsx_runtime6 = __toESM(require_jsx_runtime());
function SignupForm({ onSuccess, onSwitchToLogin }) {
  const { signup, isLoading } = useAuth();
  const [name5, setName] = (0, import_react4.useState)("");
  const [email, setEmail] = (0, import_react4.useState)("");
  const [password, setPassword] = (0, import_react4.useState)("");
  const [error2, setError] = (0, import_react4.useState)("");
  const handleSubmit = async (e3) => {
    e3.preventDefault();
    setError("");
    const result = await signup(name5, email, password);
    if (result.success) {
      setName("");
      setEmail("");
      setPassword("");
      onSuccess?.();
    } else {
      setError(result.message);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("h2", { className: "text-xl font-semibold text-gray-800 mb-4", children: "\u65B0\u898F\u767B\u9332" }),
    error2 && /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("div", { className: "mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm", children: error2 }),
    /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
          "label",
          {
            htmlFor: "signup-name",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u540D\u524D"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
          "input",
          {
            type: "text",
            id: "signup-name",
            value: name5,
            onChange: (e3) => setName(e3.target.value),
            required: true,
            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
            placeholder: "\u5C71\u7530 \u592A\u90CE"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
          "label",
          {
            htmlFor: "signup-email",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
          "input",
          {
            type: "email",
            id: "signup-email",
            value: email,
            onChange: (e3) => setEmail(e3.target.value),
            required: true,
            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
            placeholder: "example@example.com"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
          "label",
          {
            htmlFor: "signup-password",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30D1\u30B9\u30EF\u30FC\u30C9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
          "input",
          {
            type: "password",
            id: "signup-password",
            value: password,
            onChange: (e3) => setPassword(e3.target.value),
            required: true,
            minLength: 6,
            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
            placeholder: "6\u6587\u5B57\u4EE5\u4E0A"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
        "button",
        {
          type: "submit",
          disabled: isLoading,
          className: "w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",
          children: isLoading ? "\u767B\u9332\u4E2D..." : "\u767B\u9332\u3059\u308B"
        }
      )
    ] }),
    onSwitchToLogin && /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("p", { className: "mt-4 text-center text-sm text-gray-600", children: [
      "\u3059\u3067\u306B\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u304A\u6301\u3061\u306E\u65B9\u306F",
      " ",
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
        "button",
        {
          type: "button",
          onClick: onSwitchToLogin,
          className: "text-blue-600 hover:underline",
          children: "\u30ED\u30B0\u30A4\u30F3"
        }
      )
    ] })
  ] });
}

// public/pages/SignupPage.tsx
var import_jsx_runtime7 = __toESM(require_jsx_runtime());
function SignupPage() {
  const { isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const [signupComplete, setSignupComplete] = (0, import_react5.useState)(false);
  (0, import_react5.useEffect)(() => {
    if (isAuthenticated) {
      navigate("/", { replace: true });
    }
  }, [isAuthenticated, navigate]);
  if (signupComplete) {
    return /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "max-w-md mx-auto", children: /* @__PURE__ */ (0, import_jsx_runtime7.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-8 text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "text-5xl mb-4", children: "\u{1F4E7}" }),
      /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("h1", { className: "text-2xl font-bold text-gray-900 mb-4", children: "\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F" }),
      /* @__PURE__ */ (0, import_jsx_runtime7.jsxs)("p", { className: "text-gray-600 mb-6", children: [
        "\u3054\u767B\u9332\u3044\u305F\u3060\u3044\u305F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306B\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002",
        /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("br", {}),
        "\u30E1\u30FC\u30EB\u5185\u306E\u30EA\u30F3\u30AF\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u3001\u767B\u9332\u3092\u5B8C\u4E86\u3057\u3066\u304F\u3060\u3055\u3044\u3002"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime7.jsxs)("div", { className: "space-y-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(
          Link,
          {
            to: "/login",
            className: "block w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 text-center",
            children: "\u30ED\u30B0\u30A4\u30F3\u30DA\u30FC\u30B8\u3078"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(
          "button",
          {
            type: "button",
            onClick: () => setSignupComplete(false),
            className: "block w-full text-gray-600 hover:text-gray-800 text-sm",
            children: "\u5225\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u3067\u767B\u9332\u3059\u308B"
          }
        )
      ] })
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime7.jsxs)("div", { className: "max-w-md mx-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("h1", { className: "text-3xl font-bold text-center text-gray-900 mb-8", children: "React Auth Demo" }),
    /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(
      SignupForm,
      {
        onSuccess: () => setSignupComplete(true),
        onSwitchToLogin: () => navigate("/login")
      }
    )
  ] }) });
}

// public/generated/genql/runtime/generateGraphqlOperation.ts
var parseRequest = (request, ctx, path) => {
  if (typeof request === "object" && "__args" in request) {
    const args = request.__args;
    let fields = { ...request };
    delete fields.__args;
    const argNames = Object.keys(args);
    if (argNames.length === 0) {
      return parseRequest(fields, ctx, path);
    }
    const field = getFieldFromPath(ctx.root, path);
    const argStrings = argNames.map((argName) => {
      ctx.varCounter++;
      const varName = `v${ctx.varCounter}`;
      const typing = field.args && field.args[argName];
      if (!typing) {
        throw new Error(
          `no typing defined for argument \`${argName}\` in path \`${path.join(
            "."
          )}\``
        );
      }
      ctx.variables[varName] = {
        value: args[argName],
        typing
      };
      return `${argName}:$${varName}`;
    });
    return `(${argStrings})${parseRequest(fields, ctx, path)}`;
  } else if (typeof request === "object" && Object.keys(request).length > 0) {
    const fields = request;
    const fieldNames = Object.keys(fields).filter((k) => Boolean(fields[k]));
    if (fieldNames.length === 0) {
      throw new Error(
        `field selection should not be empty: ${path.join(".")}`
      );
    }
    const type2 = path.length > 0 ? getFieldFromPath(ctx.root, path).type : ctx.root;
    const scalarFields = type2.scalar;
    let scalarFieldsFragment;
    if (fieldNames.includes("__scalar")) {
      const falsyFieldNames = new Set(
        Object.keys(fields).filter((k) => !Boolean(fields[k]))
      );
      if (scalarFields?.length) {
        ctx.fragmentCounter++;
        scalarFieldsFragment = `f${ctx.fragmentCounter}`;
        ctx.fragments.push(
          `fragment ${scalarFieldsFragment} on ${type2.name}{${scalarFields.filter((f3) => !falsyFieldNames.has(f3)).join(",")}}`
        );
      }
    }
    const fieldsSelection = fieldNames.filter((f3) => !["__scalar", "__name"].includes(f3)).map((f3) => {
      const parsed = parseRequest(fields[f3], ctx, [...path, f3]);
      if (f3.startsWith("on_")) {
        ctx.fragmentCounter++;
        const implementationFragment = `f${ctx.fragmentCounter}`;
        const typeMatch = f3.match(/^on_(.+)/);
        if (!typeMatch || !typeMatch[1])
          throw new Error("match failed");
        ctx.fragments.push(
          `fragment ${implementationFragment} on ${typeMatch[1]}${parsed}`
        );
        return `...${implementationFragment}`;
      } else {
        return `${f3}${parsed}`;
      }
    }).concat(scalarFieldsFragment ? [`...${scalarFieldsFragment}`] : []).join(",");
    return `{${fieldsSelection}}`;
  } else {
    return "";
  }
};
var generateGraphqlOperation = (operation, root2, fields) => {
  const ctx = {
    root: root2,
    varCounter: 0,
    variables: {},
    fragmentCounter: 0,
    fragments: []
  };
  const result = parseRequest(fields, ctx, []);
  const varNames = Object.keys(ctx.variables);
  const varsString = varNames.length > 0 ? `(${varNames.map((v3) => {
    const variableType = ctx.variables[v3].typing[1];
    return `$${v3}:${variableType}`;
  })})` : "";
  const operationName = fields?.__name || "";
  return {
    query: [
      `${operation} ${operationName}${varsString}${result}`,
      ...ctx.fragments
    ].join(","),
    variables: Object.keys(ctx.variables).reduce(
      (r3, v3) => {
        r3[v3] = ctx.variables[v3].value;
        return r3;
      },
      {}
    ),
    ...operationName ? { operationName: operationName.toString() } : {}
  };
};
var getFieldFromPath = (root2, path) => {
  let current;
  if (!root2) throw new Error("root type is not provided");
  if (path.length === 0) throw new Error(`path is empty`);
  path.forEach((f3) => {
    const type2 = current ? current.type : root2;
    if (!type2.fields)
      throw new Error(`type \`${type2.name}\` does not have fields`);
    const possibleTypes = Object.keys(type2.fields).filter((i3) => i3.startsWith("on_")).reduce(
      (types, fieldName) => {
        const field2 = type2.fields && type2.fields[fieldName];
        if (field2) types.push(field2.type);
        return types;
      },
      [type2]
    );
    let field = null;
    possibleTypes.forEach((type3) => {
      const found = type3.fields && type3.fields[f3];
      if (found) field = found;
    });
    if (!field)
      throw new Error(
        `type \`${type2.name}\` does not have a field \`${f3}\``
      );
    current = field;
  });
  return current;
};

// public/generated/genql/runtime/linkTypeMap.ts
var linkTypeMap = (typeMap3) => {
  const indexToName = Object.assign(
    {},
    ...Object.keys(typeMap3.types).map((k, i3) => ({ [i3]: k }))
  );
  let intermediaryTypeMap = Object.assign(
    {},
    ...Object.keys(typeMap3.types || {}).map(
      (k) => {
        const type2 = typeMap3.types[k];
        const fields = type2 || {};
        return {
          [k]: {
            name: k,
            // type scalar properties
            scalar: Object.keys(fields).filter((f3) => {
              const [type3] = fields[f3] || [];
              const isScalar = type3 && typeMap3.scalars.includes(type3);
              if (!isScalar) {
                return false;
              }
              const args = fields[f3]?.[1];
              const argTypes = Object.values(args || {}).map((x) => x?.[1]).filter(Boolean);
              const hasRequiredArgs = argTypes.some(
                (str) => str && str.endsWith("!")
              );
              if (hasRequiredArgs) {
                return false;
              }
              return true;
            }),
            // fields with corresponding `type` and `args`
            fields: Object.assign(
              {},
              ...Object.keys(fields).map(
                (f3) => {
                  const [typeIndex, args] = fields[f3] || [];
                  if (typeIndex == null) {
                    return {};
                  }
                  return {
                    [f3]: {
                      // replace index with type name
                      type: indexToName[typeIndex],
                      args: Object.assign(
                        {},
                        ...Object.keys(args || {}).map(
                          (k2) => {
                            if (!args || !args[k2]) {
                              return;
                            }
                            const [
                              argTypeName,
                              argTypeString
                            ] = args[k2];
                            return {
                              [k2]: [
                                indexToName[argTypeName],
                                argTypeString || indexToName[argTypeName]
                              ]
                            };
                          }
                        )
                      )
                    }
                  };
                }
              )
            )
          }
        };
      }
    )
  );
  const res = resolveConcreteTypes(intermediaryTypeMap);
  return res;
};
var resolveConcreteTypes = (linkedTypeMap) => {
  Object.keys(linkedTypeMap).forEach((typeNameFromKey) => {
    const type2 = linkedTypeMap[typeNameFromKey];
    if (!type2.fields) {
      return;
    }
    const fields = type2.fields;
    Object.keys(fields).forEach((f3) => {
      const field = fields[f3];
      if (field.args) {
        const args = field.args;
        Object.keys(args).forEach((key) => {
          const arg = args[key];
          if (arg) {
            const [typeName2] = arg;
            if (typeof typeName2 === "string") {
              if (!linkedTypeMap[typeName2]) {
                linkedTypeMap[typeName2] = { name: typeName2 };
              }
              arg[0] = linkedTypeMap[typeName2];
            }
          }
        });
      }
      const typeName = field.type;
      if (typeof typeName === "string") {
        if (!linkedTypeMap[typeName]) {
          linkedTypeMap[typeName] = { name: typeName };
        }
        field.type = linkedTypeMap[typeName];
      }
    });
  });
  return linkedTypeMap;
};

// public/generated/genql/types.ts
var types_default = {
  "scalars": [
    1,
    2,
    5,
    8
  ],
  "types": {
    "Mutation": {
      "createUser": [
        6,
        {
          "name": [
            1,
            "String!"
          ]
        }
      ],
      "deleteUser": [
        6,
        {
          "id": [
            2,
            "ID!"
          ]
        }
      ],
      "__typename": [
        1
      ]
    },
    "String": {},
    "ID": {},
    "Post": {
      "content": [
        1
      ],
      "id": [
        2
      ],
      "title": [
        1
      ],
      "__typename": [
        1
      ]
    },
    "Query": {
      "me": [
        1
      ],
      "post": [
        3,
        {
          "id": [
            2,
            "ID!"
          ]
        }
      ],
      "postCount": [
        5
      ],
      "posts": [
        3
      ],
      "test": [
        1
      ],
      "user": [
        6,
        {
          "id": [
            2,
            "ID!"
          ]
        }
      ],
      "users": [
        6
      ],
      "words": [
        7
      ],
      "__typename": [
        1
      ]
    },
    "Int": {},
    "User": {
      "id": [
        2
      ],
      "name": [
        1
      ],
      "__typename": [
        1
      ]
    },
    "Word": {
      "difficulty": [
        5
      ],
      "english": [
        1
      ],
      "frequency": [
        5
      ],
      "id": [
        2
      ],
      "japanese": [
        1
      ],
      "situation": [
        1
      ],
      "__typename": [
        1
      ]
    },
    "Boolean": {}
  }
};

// public/generated/genql/index.ts
var typeMap = linkTypeMap(types_default);
var generateQueryOp = function(fields) {
  return generateGraphqlOperation("query", typeMap.Query, fields);
};

// public/utils/genql-urql-bridge.ts
function useTypedQuery(opts) {
  const { query, variables } = generateQueryOp(opts.query);
  return useQuery({
    ...opts,
    query,
    variables
  });
}
var typeMap2 = linkTypeMap(types_default);

// public/pages/DashboardPage.tsx
var import_jsx_runtime8 = __toESM(require_jsx_runtime());
function DashboardPage() {
  const { user, logout } = useAuth();
  const navigate = useNavigate();
  const [usersResult] = useTypedQuery({
    query: {
      users: {
        id: true,
        name: true
      }
    }
  });
  const [postsResult] = useTypedQuery({
    query: {
      posts: {
        id: true,
        title: true,
        content: true
      }
    }
  });
  const [testResult] = useTypedQuery({
    query: {
      test: true
    }
  });
  const handleLogout = async () => {
    await logout();
    navigate("/login", { replace: true });
  };
  const users = usersResult.data?.users ?? [];
  const posts = postsResult.data?.posts ?? [];
  return /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("div", { className: "max-w-4xl mx-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("div", { className: "flex justify-between items-center mb-8", children: [
      /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("h1", { className: "text-2xl font-bold text-gray-900", children: "\u30C0\u30C3\u30B7\u30E5\u30DC\u30FC\u30C9" }),
      /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
        Button,
        {
          type: "button",
          onClick: handleLogout,
          className: "text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",
          children: "\u30ED\u30B0\u30A2\u30A6\u30C8"
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("div", { className: "bg-white rounded-lg shadow p-6 mb-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("h2", { className: "text-lg font-semibold text-gray-800 mb-4", children: "\u30ED\u30B0\u30A4\u30F3\u4E2D\u306E\u30E6\u30FC\u30B6\u30FC" }),
      /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("div", { className: "w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("span", { className: "text-blue-600 font-bold text-xl", children: user?.name?.charAt(0).toUpperCase() || "?" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("p", { className: "font-medium text-gray-900", children: user?.name || "\u540D\u524D\u672A\u8A2D\u5B9A" }),
          /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("p", { className: "text-sm text-gray-500", children: user?.email })
        ] }),
        user?.emailVerified && /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("span", { className: "ml-auto px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full", children: "\u8A8D\u8A3C\u6E08\u307F" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("div", { className: "bg-white rounded-lg shadow p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("h2", { className: "text-lg font-semibold text-gray-800 mb-4", children: [
          "\u30E6\u30FC\u30B6\u30FC\u4E00\u89A7 (",
          users.length,
          "\u4EF6)"
        ] }),
        usersResult.fetching ? /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("p", { className: "text-gray-500", children: "\u8AAD\u307F\u8FBC\u307F\u4E2D..." }) : usersResult.error ? /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("p", { className: "text-red-500", children: [
          "\u30A8\u30E9\u30FC: ",
          usersResult.error.message
        ] }) : users.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("p", { className: "text-gray-500", children: "\u30E6\u30FC\u30B6\u30FC\u304C\u3044\u307E\u305B\u3093" }) : /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("ul", { className: "space-y-2", children: users.map((u3) => /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)(
          "li",
          {
            className: "flex items-center gap-2 p-2 bg-gray-50 rounded",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("div", { className: "w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("span", { className: "text-blue-600 font-medium text-sm", children: u3.name?.charAt(0).toUpperCase() || "?" }) }),
              /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("span", { className: "text-gray-900", children: u3.name }),
              /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("span", { className: "text-gray-400 text-xs ml-auto", children: [
                "ID: ",
                u3.id
              ] })
            ]
          },
          u3.id
        )) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("div", { className: "bg-white rounded-lg shadow p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("h2", { className: "text-lg font-semibold text-gray-800 mb-4", children: [
          "\u6295\u7A3F\u4E00\u89A7 (",
          posts.length,
          "\u4EF6)"
        ] }),
        postsResult.fetching ? /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("p", { className: "text-gray-500", children: "\u8AAD\u307F\u8FBC\u307F\u4E2D..." }) : postsResult.error ? /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("p", { className: "text-red-500", children: [
          "\u30A8\u30E9\u30FC: ",
          postsResult.error.message
        ] }) : posts.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("p", { className: "text-gray-500", children: "\u6295\u7A3F\u304C\u3042\u308A\u307E\u305B\u3093" }) : /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("ul", { className: "space-y-3", children: posts.map((p3) => /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)("li", { className: "p-3 bg-gray-50 rounded", children: [
          /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("h3", { className: "font-medium text-gray-900", children: p3.title }),
          /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("p", { className: "text-sm text-gray-600 mt-1 line-clamp-2", children: p3.content })
        ] }, p3.id)) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("div", { className: "bg-white rounded-lg shadow p-6", children: testResult.data?.test })
  ] }) });
}

// public/components/ProtectedRoute.tsx
var import_jsx_runtime9 = __toESM(require_jsx_runtime());
function ProtectedRoute({
  children,
  redirectTo = "/login"
}) {
  const { isAuthenticated, isLoading } = useAuth();
  const location2 = useLocation();
  if (isLoading) {
    return /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("div", { className: "min-h-screen bg-gray-50 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("div", { className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600" }) });
  }
  if (!isAuthenticated) {
    return /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Navigate, { to: redirectTo, state: { from: location2 }, replace: true });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(import_jsx_runtime9.Fragment, { children });
}

// public/components/Navigation.tsx
var import_jsx_runtime10 = __toESM(require_jsx_runtime());
function Navigation() {
  const { isAuthenticated, logout } = useAuth();
  const location2 = useLocation();
  return /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("nav", { className: "bg-white shadow", children: /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "max-w-4xl mx-auto px-4", children: /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "flex justify-between h-16 items-center", children: [
    /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(Link, { to: "/", className: "font-bold text-xl", children: "React Auth" }),
    /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "flex gap-4", children: isAuthenticated ? /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)(import_jsx_runtime10.Fragment, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(
        NavLink,
        {
          to: "/word",
          className: ({ isActive }) => isActive ? "text-blue-600" : "text-gray-600",
          children: "\u5358\u8A9E\u5B66\u7FD2"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(
        NavLink,
        {
          to: "/",
          className: ({ isActive }) => isActive ? "text-blue-600" : "text-gray-600",
          children: "\u30C0\u30C3\u30B7\u30E5\u30DC\u30FC\u30C9"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("button", { type: "button", onClick: logout, children: "\u30ED\u30B0\u30A2\u30A6\u30C8" })
    ] }) : /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)(import_jsx_runtime10.Fragment, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(
        NavLink,
        {
          to: "/login",
          className: ({ isActive }) => isActive ? "text-blue-600" : "text-gray-600",
          children: "\u30ED\u30B0\u30A4\u30F3"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(
        NavLink,
        {
          to: "/signup",
          className: ({ isActive }) => isActive ? "text-blue-600" : "text-gray-600",
          children: "\u65B0\u898F\u767B\u9332"
        }
      )
    ] }) })
  ] }) }) });
}

// public/pages/WordReflesher.tsx
var import_jsx_runtime11 = __toESM(require_jsx_runtime());
function WordReflesher() {
  const [wordsResult] = useTypedQuery({
    query: {
      words: {
        id: true,
        japanese: true,
        english: true
      }
    }
  });
  return /* @__PURE__ */ (0, import_jsx_runtime11.jsxs)("div", { children: [
    /* @__PURE__ */ (0, import_jsx_runtime11.jsx)("h1", { children: "Word Reflesher" }),
    /* @__PURE__ */ (0, import_jsx_runtime11.jsx)("div", { children: wordsResult.data?.words?.map((word) => /* @__PURE__ */ (0, import_jsx_runtime11.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime11.jsx)("h2", { children: word.japanese }),
      /* @__PURE__ */ (0, import_jsx_runtime11.jsx)("p", { children: word?.english?.join(", ") })
    ] }, word.id)) })
  ] });
}

// public/App.tsx
var import_jsx_runtime12 = __toESM(require_jsx_runtime());
function Layout() {
  return /* @__PURE__ */ (0, import_jsx_runtime12.jsxs)(import_jsx_runtime12.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(Navigation, {}),
    /* @__PURE__ */ (0, import_jsx_runtime12.jsxs)("main", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(Outlet, {}),
      " "
    ] })
  ] });
}
function App() {
  return /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(Routes, { children: /* @__PURE__ */ (0, import_jsx_runtime12.jsxs)(Route, { element: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(Layout, {}), children: [
    /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(Route, { path: "/login", element: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(LoginPage, {}) }),
    /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(Route, { path: "/signup", element: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(SignupPage, {}) }),
    /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(
      Route,
      {
        path: "/",
        element: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(ProtectedRoute, { children: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(DashboardPage, {}) })
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(
      Route,
      {
        path: "/word",
        element: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(ProtectedRoute, { children: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(WordReflesher, {}) })
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(
      Route,
      {
        path: "*",
        element: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(ProtectedRoute, { children: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(DashboardPage, {}) })
      }
    )
  ] }) });
}
var App_default = App;

// public/utils/refetchOnTypename.ts
function collectTypenames(node, out) {
  if (node == null) return;
  if (Array.isArray(node)) {
    for (const v3 of node) collectTypenames(v3, out);
    return;
  }
  if (typeof node === "object") {
    const obj = node;
    const tn = obj.__typename;
    if (typeof tn === "string") out.add(tn);
    for (const v3 of Object.values(obj)) collectTypenames(v3, out);
  }
}
var refetchOnTypename = ({ forward, client }) => (ops$) => {
  const activeQueries = /* @__PURE__ */ new Map();
  const results$ = pipe(
    ops$,
    onPush((operation) => {
      if (operation.kind === "teardown") {
        activeQueries.delete(operation.key);
      }
    }),
    forward
  );
  return pipe(
    results$,
    onPush((result) => {
      if (result.operation.kind === "query") {
        activeQueries.set(result.operation.key, result.operation);
        const getQueryName = (op) => {
          const def = op.query.definitions[0];
          if (!def || def.kind !== "OperationDefinition") return void 0;
          if (def.name?.value) return def.name.value;
          const firstSelection = def.selectionSet?.selections?.[0];
          if (firstSelection && firstSelection.kind === "Field") {
            return firstSelection.name.value;
          }
          return void 0;
        };
        const queryName = getQueryName(result.operation);
        console.log("[refetchOnTypename] query added:", {
          key: result.operation.key,
          queryName,
          totalCount: activeQueries.size,
          allQueries: Array.from(activeQueries.values()).map((op) => ({
            key: op.key,
            name: getQueryName(op)
          }))
        });
      }
      if (result.operation.kind === "mutation" && !result.error) {
        const ctx = result.operation.context;
        const refetchTypenames = Array.isArray(ctx?.additionalTypenames) ? ctx.additionalTypenames : [];
        if (refetchTypenames.length > 0) {
          const resultTypenames = /* @__PURE__ */ new Set();
          collectTypenames(result.data, resultTypenames);
          for (const op of activeQueries.values()) {
            if (refetchTypenames.some((t2) => resultTypenames.has(t2))) {
              client.reexecuteOperation({
                ...op,
                context: { ...op.context, requestPolicy: "network-only" }
              });
            }
          }
        }
      }
    })
  );
};

// public/main.tsx
var import_jsx_runtime13 = __toESM(require_jsx_runtime());
var urqlClient = Q({
  url: "/graphql",
  exchanges: [refetchOnTypename, cacheExchange, fetchExchange],
  fetchOptions: () => {
    const user = auth.currentUser;
    if (!user) {
      return {};
    }
    const token = user.accessToken;
    if (!token) {
      return {};
    }
    return {
      headers: {
        Authorization: `Bearer ${token}`
      }
    };
  }
});
var rootElement = document.getElementById("app");
if (!rootElement) {
  throw new Error("Root element not found");
}
var root = (0, import_client.createRoot)(rootElement);
root.render(
  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(import_react6.StrictMode, { children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(BrowserRouter, { children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(f2, { value: urqlClient, children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(AuthProvider, { children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(App_default, {}) }) }) }) })
);
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@remix-run/router/dist/router.js:
  (**
   * @remix-run/router v1.23.1
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router/dist/index.js:
  (**
   * React Router v6.30.2
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router-dom/dist/index.js:
  (**
   * React Router DOM v6.30.2
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9zY2hlZHVsZXJAMC4yMy4yL25vZGVfbW9kdWxlcy9zY2hlZHVsZXIvY2pzL3NjaGVkdWxlci5wcm9kdWN0aW9uLm1pbi5qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvc2NoZWR1bGVyQDAuMjMuMi9ub2RlX21vZHVsZXMvc2NoZWR1bGVyL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vY2xpZW50LmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2Fzc2VydC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvY3J5cHQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2RlZXBDb3B5LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9nbG9iYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2RlZmF1bHRzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9kZWZlcnJlZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvZW11bGF0b3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2Vudmlyb25tZW50LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9lcnJvcnMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2pzb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2p3dC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvb2JqLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9wcm9taXNlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9xdWVyeS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvc2hhMS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvc3Vic2NyaWJlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy92YWxpZGF0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy91dGY4LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy91dWlkLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9leHBvbmVudGlhbF9iYWNrb2ZmLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9mb3JtYXR0ZXJzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9jb21wYXQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9jb21wb25lbnRAMC42Ljkvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvc3JjL2NvbXBvbmVudC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2NvbXBvbmVudEAwLjYuOS9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2NvbXBvbmVudC9zcmMvY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvY29tcG9uZW50QDAuNi45L25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvY29tcG9uZW50L3NyYy9wcm92aWRlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2NvbXBvbmVudEAwLjYuOS9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2NvbXBvbmVudC9zcmMvY29tcG9uZW50X2NvbnRhaW5lci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2xvZ2dlckAwLjQuMi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2xvZ2dlci9zcmMvbG9nZ2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9pZGJANy4xLjEvbm9kZV9tb2R1bGVzL2lkYi9idWlsZC93cmFwLWlkYi12YWx1ZS5qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvaWRiQDcuMS4xL25vZGVfbW9kdWxlcy9pZGIvYnVpbGQvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvcGxhdGZvcm1Mb2dnZXJTZXJ2aWNlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2xvZ2dlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXBwL3NyYy9jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvaW50ZXJuYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvZXJyb3JzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2ZpcmViYXNlQXBwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2ZpcmViYXNlU2VydmVyQXBwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2FwaS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXBwL3NyYy9pbmRleGVkZGIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvaGVhcnRiZWF0U2VydmljZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXBwL3NyYy9yZWdpc3RlckNvcmVDb21wb25lbnRzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2luZGV4LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy90c2xpYkAyLjguMS9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvbW9kZWwvZW51bV9tYXBzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL2Vycm9ycy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2xvZy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2Fzc2VydC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2xvY2F0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvbmF2aWdhdG9yLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvZGVsYXkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvdXRpbC9lbXVsYXRvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2ZldGNoX3Byb3ZpZGVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvZXJyb3JzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3JlY2FwdGNoYS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2FjY291bnRfbWFuYWdlbWVudC9hY2NvdW50LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvdGltZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL2lkX3Rva2VuX3Jlc3VsdC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL2ludmFsaWRhdGlvbi50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL3Byb2FjdGl2ZV9yZWZyZXNoLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvdXNlcl9tZXRhZGF0YS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL3JlbG9hZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3Rva2VuLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvdG9rZW5fbWFuYWdlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL3VzZXJfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2luc3RhbnRpYXRvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wZXJzaXN0ZW5jZS9pbl9tZW1vcnkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvcGVyc2lzdGVuY2UvcGVyc2lzdGVuY2VfdXNlcl9tYW5hZ2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvYnJvd3Nlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL3ZlcnNpb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9taWRkbGV3YXJlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvcGFzc3dvcmRfcG9saWN5L2dldF9wYXNzd29yZF9wb2xpY3kudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9wYXNzd29yZF9wb2xpY3lfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9hdXRoL2F1dGhfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9sb2FkX2pzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3JlY2FwdGNoYS9yZWNhcHRjaGFfZW50ZXJwcmlzZV92ZXJpZmllci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9hdXRoL2luaXRpYWxpemUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9lbXVsYXRvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9hdXRoX2NyZWRlbnRpYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvZW1haWxfYW5kX3Bhc3N3b3JkLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfYW5kX3Bhc3N3b3JkLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfbGluay50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9lbWFpbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL2lkcC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9vYXV0aC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3Ntcy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9waG9uZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9hY3Rpb25fY29kZV91cmwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvcHJvdmlkZXJzL2VtYWlsLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3Byb3ZpZGVycy9mZWRlcmF0ZWQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvcHJvdmlkZXJzL29hdXRoLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3Byb3ZpZGVycy9mYWNlYm9vay50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wcm92aWRlcnMvZ29vZ2xlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3Byb3ZpZGVycy9naXRodWIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvY3JlZGVudGlhbHMvc2FtbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wcm92aWRlcnMvc2FtbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wcm92aWRlcnMvdHdpdHRlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3NpZ25fdXAudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvdXNlci91c2VyX2NyZWRlbnRpYWxfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9zdHJhdGVnaWVzL2Fub255bW91cy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvbWZhL21mYV9lcnJvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL3Byb3ZpZGVycy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL2xpbmtfdW5saW5rLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvcmVhdXRoZW50aWNhdGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9jcmVkZW50aWFsLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvYXV0aGVudGljYXRpb24vY3VzdG9tX3Rva2VuLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3N0cmF0ZWdpZXMvY3VzdG9tX3Rva2VuLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9tZmEvbWZhX2luZm8udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9hY3Rpb25fY29kZV9zZXR0aW5ncy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9zdHJhdGVnaWVzL2VtYWlsX2FuZF9wYXNzd29yZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9zdHJhdGVnaWVzL2VtYWlsX2xpbmsudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2FwaS9hdXRoZW50aWNhdGlvbi9jcmVhdGVfYXV0aF91cmkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9lbWFpbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2FjY291bnRfbWFuYWdlbWVudC9wcm9maWxlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvYWNjb3VudF9pbmZvLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvYWRkaXRpb25hbF91c2VyX2luZm8udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL21mYS9tZmFfc2Vzc2lvbi50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvbWZhL21mYV9yZXNvbHZlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2FjY291bnRfbWFuYWdlbWVudC9tZmEudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL21mYS9tZmFfdXNlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wZXJzaXN0ZW5jZS9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9wZXJzaXN0ZW5jZS9icm93c2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3BlcnNpc3RlbmNlL2xvY2FsX3N0b3JhZ2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcGVyc2lzdGVuY2Uvc2Vzc2lvbl9zdG9yYWdlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL21lc3NhZ2VjaGFubmVsL3Byb21pc2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvbWVzc2FnZWNoYW5uZWwvcmVjZWl2ZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvdXRpbC9ldmVudF9pZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9tZXNzYWdlY2hhbm5lbC9zZW5kZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvYXV0aF93aW5kb3cudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvdXRpbC93b3JrZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcGVyc2lzdGVuY2UvaW5kZXhlZF9kYi50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL21mYS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9yZWNhcHRjaGEvcmVjYXB0Y2hhX21vY2sudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV9sb2FkZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV92ZXJpZmllci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9zdHJhdGVnaWVzL3Bob25lLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3Byb3ZpZGVycy9waG9uZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL3Jlc29sdmVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3N0cmF0ZWdpZXMvaWRwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3N0cmF0ZWdpZXMvYWJzdHJhY3RfcG9wdXBfcmVkaXJlY3Rfb3BlcmF0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3N0cmF0ZWdpZXMvcG9wdXAudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9yZWRpcmVjdC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9zdHJhdGVnaWVzL3JlZGlyZWN0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL2F1dGgvYXV0aF9ldmVudF9tYW5hZ2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvcHJvamVjdF9jb25maWcvZ2V0X3Byb2plY3RfY29uZmlnLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvdmFsaWRhdGVfb3JpZ2luLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL2lmcmFtZS9nYXBpLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL2lmcmFtZS9pZnJhbWUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvdXRpbC9wb3B1cC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2hhbmRsZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcG9wdXBfcmVkaXJlY3QudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL21mYS9tZmFfYXNzZXJ0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL21mYS9hc3NlcnRpb25zL3Bob25lLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9tZmEvYXNzZXJ0aW9ucy90b3RwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL2F1dGgvZmlyZWJhc2VfaW50ZXJuYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9yZWdpc3Rlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9kaXN0L2VzbTIwMTcvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL2ZpcmViYXNlQDEwLjE0LjFfQGZpcmViYXNlK2FwcEAwLjEwLjEzX0BmaXJlYmFzZSthcHAtY29tcGF0QDAuMi40M19AZmlyZWJhc2UrYXBwLXR5cGVzQDAuOS4yL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hdXRoL2Rpc3QvZXNtL2luZGV4LmVzbS5qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QvanN4LXJ1bnRpbWUuanMiLCAiLi4vcHVibGljL21haW4udHN4IiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AcmVtaXgtcnVuL3JvdXRlckAxLjIzLjEvbm9kZV9tb2R1bGVzL0ByZW1peC1ydW4vcm91dGVyL2hpc3RvcnkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0ByZW1peC1ydW4vcm91dGVyQDEuMjMuMS9ub2RlX21vZHVsZXMvQHJlbWl4LXJ1bi9yb3V0ZXIvdXRpbHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0ByZW1peC1ydW4vcm91dGVyQDEuMjMuMS9ub2RlX21vZHVsZXMvQHJlbWl4LXJ1bi9yb3V0ZXIvcm91dGVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdC1yb3V0ZXJANi4zMC4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL2xpYi9jb250ZXh0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdC1yb3V0ZXJANi4zMC4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL2xpYi9ob29rcy50c3giLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LXJvdXRlckA2LjMwLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvbGliL2RlcHJlY2F0aW9ucy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvcmVhY3Qtcm91dGVyQDYuMzAuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9saWIvY29tcG9uZW50cy50c3giLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LXJvdXRlckA2LjMwLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL2tpbmQuanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL2Vycm9yLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AMG5vLWNvL2dyYXBocWwud2ViQDEuMi4wL25vZGVfbW9kdWxlcy9AMG5vLWNvL2dyYXBocWwud2ViL3NyYy9wYXJzZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL3Zpc2l0b3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL3ByaW50ZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL3ZhbHVlcy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQDBuby1jby9ncmFwaHFsLndlYkAxLjIuMC9ub2RlX21vZHVsZXMvQDBuby1jby9ncmFwaHFsLndlYi9zcmMvaGVscGVycy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvd29ua2FANi4zLjUvbm9kZV9tb2R1bGVzL3dvbmthL2Rpc3Qvd29ua2EubWpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9lcnJvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvdXRpbHMvaGFzaC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvdXRpbHMvdmFyaWFibGVzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9yZXF1ZXN0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9yZXN1bHQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2ludGVybmFsL2ZldGNoT3B0aW9ucy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvaW50ZXJuYWwvZmV0Y2hTb3VyY2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL3V0aWxzL2NvbGxlY3RUeXBlbmFtZXMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL3V0aWxzL2Zvcm1hdERvY3VtZW50LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9zdHJlYW1VdGlscy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvdXRpbHMvb3BlcmF0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZ3FsLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy9leGNoYW5nZXMvY2FjaGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2V4Y2hhbmdlcy9zc3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2V4Y2hhbmdlcy9zdWJzY3JpcHRpb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2V4Y2hhbmdlcy9kZWJ1Zy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZXhjaGFuZ2VzL2ZldGNoLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy9leGNoYW5nZXMvY29tcG9zZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZXhjaGFuZ2VzL21hcC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZXhjaGFuZ2VzL2ZhbGxiYWNrLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy9jbGllbnQudHMiLCAiLi4vcHVibGljL3BhZ2VzL0xvZ2luUGFnZS50c3giLCAiLi4vcHVibGljL2NvbXBvbmVudHMvTG9naW5Gb3JtLnRzeCIsICIuLi9wdWJsaWMvY29udGV4dC9BdXRoQ29udGV4dC50c3giLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL2ZpcmViYXNlQDEwLjE0LjFfQGZpcmViYXNlK2FwcEAwLjEwLjEzX0BmaXJlYmFzZSthcHAtY29tcGF0QDAuMi40M19AZmlyZWJhc2UrYXBwLXR5cGVzQDAuOS4yL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hcHAvaW5kZXgudHMiLCAiLi4vcHVibGljL2ZpcmViYXNlL2F1dGgudHMiLCAiLi4vcHVibGljL2ZpcmViYXNlL2NvbmZpZy50cyIsICIuLi9wdWJsaWMvY29tcG9uZW50cy9idXR0b24vYnV0dG9uLnRzeCIsICIuLi9wdWJsaWMvY29tcG9uZW50cy9pbnB1dC9pbnB1dC50c3giLCAiLi4vcHVibGljL3BhZ2VzL1NpZ251cFBhZ2UudHN4IiwgIi4uL3B1YmxpYy9jb21wb25lbnRzL1NpZ251cEZvcm0udHN4IiwgIi4uL3B1YmxpYy9nZW5lcmF0ZWQvZ2VucWwvcnVudGltZS9nZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24udHMiLCAiLi4vcHVibGljL2dlbmVyYXRlZC9nZW5xbC9ydW50aW1lL2xpbmtUeXBlTWFwLnRzIiwgIi4uL3B1YmxpYy9nZW5lcmF0ZWQvZ2VucWwvdHlwZXMudHMiLCAiLi4vcHVibGljL2dlbmVyYXRlZC9nZW5xbC9pbmRleC50cyIsICIuLi9wdWJsaWMvdXRpbHMvZ2VucWwtdXJxbC1icmlkZ2UudHMiLCAiLi4vcHVibGljL3BhZ2VzL0Rhc2hib2FyZFBhZ2UudHN4IiwgIi4uL3B1YmxpYy9jb21wb25lbnRzL1Byb3RlY3RlZFJvdXRlLnRzeCIsICIuLi9wdWJsaWMvY29tcG9uZW50cy9OYXZpZ2F0aW9uLnRzeCIsICIuLi9wdWJsaWMvcGFnZXMvV29yZFJlZmxlc2hlci50c3giLCAiLi4vcHVibGljL0FwcC50c3giLCAiLi4vcHVibGljL3V0aWxzL3JlZmV0Y2hPblR5cGVuYW1lLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG4ndXNlIHN0cmljdCc7dmFyIGw9U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksbj1TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLHA9U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLHE9U3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLHI9U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLHQ9U3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpLHU9U3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksdj1TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksdz1TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIikseD1TeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSx5PVN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLHo9U3ltYm9sLml0ZXJhdG9yO2Z1bmN0aW9uIEEoYSl7aWYobnVsbD09PWF8fFwib2JqZWN0XCIhPT10eXBlb2YgYSlyZXR1cm4gbnVsbDthPXomJmFbel18fGFbXCJAQGl0ZXJhdG9yXCJdO3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBhP2E6bnVsbH1cbnZhciBCPXtpc01vdW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKCl7fSxlbnF1ZXVlU2V0U3RhdGU6ZnVuY3Rpb24oKXt9fSxDPU9iamVjdC5hc3NpZ24sRD17fTtmdW5jdGlvbiBFKGEsYixlKXt0aGlzLnByb3BzPWE7dGhpcy5jb250ZXh0PWI7dGhpcy5yZWZzPUQ7dGhpcy51cGRhdGVyPWV8fEJ9RS5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudD17fTtcbkUucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGEsYil7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYSYmbnVsbCE9YSl0aHJvdyBFcnJvcihcInNldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLlwiKTt0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsYSxiLFwic2V0U3RhdGVcIil9O0UucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyxhLFwiZm9yY2VVcGRhdGVcIil9O2Z1bmN0aW9uIEYoKXt9Ri5wcm90b3R5cGU9RS5wcm90b3R5cGU7ZnVuY3Rpb24gRyhhLGIsZSl7dGhpcy5wcm9wcz1hO3RoaXMuY29udGV4dD1iO3RoaXMucmVmcz1EO3RoaXMudXBkYXRlcj1lfHxCfXZhciBIPUcucHJvdG90eXBlPW5ldyBGO1xuSC5jb25zdHJ1Y3Rvcj1HO0MoSCxFLnByb3RvdHlwZSk7SC5pc1B1cmVSZWFjdENvbXBvbmVudD0hMDt2YXIgST1BcnJheS5pc0FycmF5LEo9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxLPXtjdXJyZW50Om51bGx9LEw9e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtcbmZ1bmN0aW9uIE0oYSxiLGUpe3ZhciBkLGM9e30saz1udWxsLGg9bnVsbDtpZihudWxsIT1iKWZvcihkIGluIHZvaWQgMCE9PWIucmVmJiYoaD1iLnJlZiksdm9pZCAwIT09Yi5rZXkmJihrPVwiXCIrYi5rZXkpLGIpSi5jYWxsKGIsZCkmJiFMLmhhc093blByb3BlcnR5KGQpJiYoY1tkXT1iW2RdKTt2YXIgZz1hcmd1bWVudHMubGVuZ3RoLTI7aWYoMT09PWcpYy5jaGlsZHJlbj1lO2Vsc2UgaWYoMTxnKXtmb3IodmFyIGY9QXJyYXkoZyksbT0wO208ZzttKyspZlttXT1hcmd1bWVudHNbbSsyXTtjLmNoaWxkcmVuPWZ9aWYoYSYmYS5kZWZhdWx0UHJvcHMpZm9yKGQgaW4gZz1hLmRlZmF1bHRQcm9wcyxnKXZvaWQgMD09PWNbZF0mJihjW2RdPWdbZF0pO3JldHVybnskJHR5cGVvZjpsLHR5cGU6YSxrZXk6ayxyZWY6aCxwcm9wczpjLF9vd25lcjpLLmN1cnJlbnR9fVxuZnVuY3Rpb24gTihhLGIpe3JldHVybnskJHR5cGVvZjpsLHR5cGU6YS50eXBlLGtleTpiLHJlZjphLnJlZixwcm9wczphLnByb3BzLF9vd25lcjphLl9vd25lcn19ZnVuY3Rpb24gTyhhKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZhLiQkdHlwZW9mPT09bH1mdW5jdGlvbiBlc2NhcGUoYSl7dmFyIGI9e1wiPVwiOlwiPTBcIixcIjpcIjpcIj0yXCJ9O3JldHVyblwiJFwiK2EucmVwbGFjZSgvWz06XS9nLGZ1bmN0aW9uKGEpe3JldHVybiBiW2FdfSl9dmFyIFA9L1xcLysvZztmdW5jdGlvbiBRKGEsYil7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmbnVsbCE9YS5rZXk/ZXNjYXBlKFwiXCIrYS5rZXkpOmIudG9TdHJpbmcoMzYpfVxuZnVuY3Rpb24gUihhLGIsZSxkLGMpe3ZhciBrPXR5cGVvZiBhO2lmKFwidW5kZWZpbmVkXCI9PT1rfHxcImJvb2xlYW5cIj09PWspYT1udWxsO3ZhciBoPSExO2lmKG51bGw9PT1hKWg9ITA7ZWxzZSBzd2l0Y2goayl7Y2FzZSBcInN0cmluZ1wiOmNhc2UgXCJudW1iZXJcIjpoPSEwO2JyZWFrO2Nhc2UgXCJvYmplY3RcIjpzd2l0Y2goYS4kJHR5cGVvZil7Y2FzZSBsOmNhc2UgbjpoPSEwfX1pZihoKXJldHVybiBoPWEsYz1jKGgpLGE9XCJcIj09PWQ/XCIuXCIrUShoLDApOmQsSShjKT8oZT1cIlwiLG51bGwhPWEmJihlPWEucmVwbGFjZShQLFwiJCYvXCIpK1wiL1wiKSxSKGMsYixlLFwiXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KSk6bnVsbCE9YyYmKE8oYykmJihjPU4oYyxlKyghYy5rZXl8fGgmJmgua2V5PT09Yy5rZXk/XCJcIjooXCJcIitjLmtleSkucmVwbGFjZShQLFwiJCYvXCIpK1wiL1wiKSthKSksYi5wdXNoKGMpKSwxO2g9MDtkPVwiXCI9PT1kP1wiLlwiOmQrXCI6XCI7aWYoSShhKSlmb3IodmFyIGc9MDtnPGEubGVuZ3RoO2crKyl7az1cbmFbZ107dmFyIGY9ZCtRKGssZyk7aCs9UihrLGIsZSxmLGMpfWVsc2UgaWYoZj1BKGEpLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBmKWZvcihhPWYuY2FsbChhKSxnPTA7IShrPWEubmV4dCgpKS5kb25lOylrPWsudmFsdWUsZj1kK1EoayxnKyspLGgrPVIoayxiLGUsZixjKTtlbHNlIGlmKFwib2JqZWN0XCI9PT1rKXRocm93IGI9U3RyaW5nKGEpLEVycm9yKFwiT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiBcIisoXCJbb2JqZWN0IE9iamVjdF1cIj09PWI/XCJvYmplY3Qgd2l0aCBrZXlzIHtcIitPYmplY3Qua2V5cyhhKS5qb2luKFwiLCBcIikrXCJ9XCI6YikrXCIpLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5IGluc3RlYWQuXCIpO3JldHVybiBofVxuZnVuY3Rpb24gUyhhLGIsZSl7aWYobnVsbD09YSlyZXR1cm4gYTt2YXIgZD1bXSxjPTA7UihhLGQsXCJcIixcIlwiLGZ1bmN0aW9uKGEpe3JldHVybiBiLmNhbGwoZSxhLGMrKyl9KTtyZXR1cm4gZH1mdW5jdGlvbiBUKGEpe2lmKC0xPT09YS5fc3RhdHVzKXt2YXIgYj1hLl9yZXN1bHQ7Yj1iKCk7Yi50aGVuKGZ1bmN0aW9uKGIpe2lmKDA9PT1hLl9zdGF0dXN8fC0xPT09YS5fc3RhdHVzKWEuX3N0YXR1cz0xLGEuX3Jlc3VsdD1ifSxmdW5jdGlvbihiKXtpZigwPT09YS5fc3RhdHVzfHwtMT09PWEuX3N0YXR1cylhLl9zdGF0dXM9MixhLl9yZXN1bHQ9Yn0pOy0xPT09YS5fc3RhdHVzJiYoYS5fc3RhdHVzPTAsYS5fcmVzdWx0PWIpfWlmKDE9PT1hLl9zdGF0dXMpcmV0dXJuIGEuX3Jlc3VsdC5kZWZhdWx0O3Rocm93IGEuX3Jlc3VsdDt9XG52YXIgVT17Y3VycmVudDpudWxsfSxWPXt0cmFuc2l0aW9uOm51bGx9LFc9e1JlYWN0Q3VycmVudERpc3BhdGNoZXI6VSxSZWFjdEN1cnJlbnRCYXRjaENvbmZpZzpWLFJlYWN0Q3VycmVudE93bmVyOkt9O2Z1bmN0aW9uIFgoKXt0aHJvdyBFcnJvcihcImFjdCguLi4pIGlzIG5vdCBzdXBwb3J0ZWQgaW4gcHJvZHVjdGlvbiBidWlsZHMgb2YgUmVhY3QuXCIpO31cbmV4cG9ydHMuQ2hpbGRyZW49e21hcDpTLGZvckVhY2g6ZnVuY3Rpb24oYSxiLGUpe1MoYSxmdW5jdGlvbigpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlKX0sY291bnQ6ZnVuY3Rpb24oYSl7dmFyIGI9MDtTKGEsZnVuY3Rpb24oKXtiKyt9KTtyZXR1cm4gYn0sdG9BcnJheTpmdW5jdGlvbihhKXtyZXR1cm4gUyhhLGZ1bmN0aW9uKGEpe3JldHVybiBhfSl8fFtdfSxvbmx5OmZ1bmN0aW9uKGEpe2lmKCFPKGEpKXRocm93IEVycm9yKFwiUmVhY3QuQ2hpbGRyZW4ub25seSBleHBlY3RlZCB0byByZWNlaXZlIGEgc2luZ2xlIFJlYWN0IGVsZW1lbnQgY2hpbGQuXCIpO3JldHVybiBhfX07ZXhwb3J0cy5Db21wb25lbnQ9RTtleHBvcnRzLkZyYWdtZW50PXA7ZXhwb3J0cy5Qcm9maWxlcj1yO2V4cG9ydHMuUHVyZUNvbXBvbmVudD1HO2V4cG9ydHMuU3RyaWN0TW9kZT1xO2V4cG9ydHMuU3VzcGVuc2U9dztcbmV4cG9ydHMuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ9VztleHBvcnRzLmFjdD1YO1xuZXhwb3J0cy5jbG9uZUVsZW1lbnQ9ZnVuY3Rpb24oYSxiLGUpe2lmKG51bGw9PT1hfHx2b2lkIDA9PT1hKXRocm93IEVycm9yKFwiUmVhY3QuY2xvbmVFbGVtZW50KC4uLik6IFRoZSBhcmd1bWVudCBtdXN0IGJlIGEgUmVhY3QgZWxlbWVudCwgYnV0IHlvdSBwYXNzZWQgXCIrYStcIi5cIik7dmFyIGQ9Qyh7fSxhLnByb3BzKSxjPWEua2V5LGs9YS5yZWYsaD1hLl9vd25lcjtpZihudWxsIT1iKXt2b2lkIDAhPT1iLnJlZiYmKGs9Yi5yZWYsaD1LLmN1cnJlbnQpO3ZvaWQgMCE9PWIua2V5JiYoYz1cIlwiK2Iua2V5KTtpZihhLnR5cGUmJmEudHlwZS5kZWZhdWx0UHJvcHMpdmFyIGc9YS50eXBlLmRlZmF1bHRQcm9wcztmb3IoZiBpbiBiKUouY2FsbChiLGYpJiYhTC5oYXNPd25Qcm9wZXJ0eShmKSYmKGRbZl09dm9pZCAwPT09YltmXSYmdm9pZCAwIT09Zz9nW2ZdOmJbZl0pfXZhciBmPWFyZ3VtZW50cy5sZW5ndGgtMjtpZigxPT09ZilkLmNoaWxkcmVuPWU7ZWxzZSBpZigxPGYpe2c9QXJyYXkoZik7XG5mb3IodmFyIG09MDttPGY7bSsrKWdbbV09YXJndW1lbnRzW20rMl07ZC5jaGlsZHJlbj1nfXJldHVybnskJHR5cGVvZjpsLHR5cGU6YS50eXBlLGtleTpjLHJlZjprLHByb3BzOmQsX293bmVyOmh9fTtleHBvcnRzLmNyZWF0ZUNvbnRleHQ9ZnVuY3Rpb24oYSl7YT17JCR0eXBlb2Y6dSxfY3VycmVudFZhbHVlOmEsX2N1cnJlbnRWYWx1ZTI6YSxfdGhyZWFkQ291bnQ6MCxQcm92aWRlcjpudWxsLENvbnN1bWVyOm51bGwsX2RlZmF1bHRWYWx1ZTpudWxsLF9nbG9iYWxOYW1lOm51bGx9O2EuUHJvdmlkZXI9eyQkdHlwZW9mOnQsX2NvbnRleHQ6YX07cmV0dXJuIGEuQ29uc3VtZXI9YX07ZXhwb3J0cy5jcmVhdGVFbGVtZW50PU07ZXhwb3J0cy5jcmVhdGVGYWN0b3J5PWZ1bmN0aW9uKGEpe3ZhciBiPU0uYmluZChudWxsLGEpO2IudHlwZT1hO3JldHVybiBifTtleHBvcnRzLmNyZWF0ZVJlZj1mdW5jdGlvbigpe3JldHVybntjdXJyZW50Om51bGx9fTtcbmV4cG9ydHMuZm9yd2FyZFJlZj1mdW5jdGlvbihhKXtyZXR1cm57JCR0eXBlb2Y6dixyZW5kZXI6YX19O2V4cG9ydHMuaXNWYWxpZEVsZW1lbnQ9TztleHBvcnRzLmxhenk9ZnVuY3Rpb24oYSl7cmV0dXJueyQkdHlwZW9mOnksX3BheWxvYWQ6e19zdGF0dXM6LTEsX3Jlc3VsdDphfSxfaW5pdDpUfX07ZXhwb3J0cy5tZW1vPWZ1bmN0aW9uKGEsYil7cmV0dXJueyQkdHlwZW9mOngsdHlwZTphLGNvbXBhcmU6dm9pZCAwPT09Yj9udWxsOmJ9fTtleHBvcnRzLnN0YXJ0VHJhbnNpdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1WLnRyYW5zaXRpb247Vi50cmFuc2l0aW9uPXt9O3RyeXthKCl9ZmluYWxseXtWLnRyYW5zaXRpb249Yn19O2V4cG9ydHMudW5zdGFibGVfYWN0PVg7ZXhwb3J0cy51c2VDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiBVLmN1cnJlbnQudXNlQ2FsbGJhY2soYSxiKX07ZXhwb3J0cy51c2VDb250ZXh0PWZ1bmN0aW9uKGEpe3JldHVybiBVLmN1cnJlbnQudXNlQ29udGV4dChhKX07XG5leHBvcnRzLnVzZURlYnVnVmFsdWU9ZnVuY3Rpb24oKXt9O2V4cG9ydHMudXNlRGVmZXJyZWRWYWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gVS5jdXJyZW50LnVzZURlZmVycmVkVmFsdWUoYSl9O2V4cG9ydHMudXNlRWZmZWN0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIFUuY3VycmVudC51c2VFZmZlY3QoYSxiKX07ZXhwb3J0cy51c2VJZD1mdW5jdGlvbigpe3JldHVybiBVLmN1cnJlbnQudXNlSWQoKX07ZXhwb3J0cy51c2VJbXBlcmF0aXZlSGFuZGxlPWZ1bmN0aW9uKGEsYixlKXtyZXR1cm4gVS5jdXJyZW50LnVzZUltcGVyYXRpdmVIYW5kbGUoYSxiLGUpfTtleHBvcnRzLnVzZUluc2VydGlvbkVmZmVjdD1mdW5jdGlvbihhLGIpe3JldHVybiBVLmN1cnJlbnQudXNlSW5zZXJ0aW9uRWZmZWN0KGEsYil9O2V4cG9ydHMudXNlTGF5b3V0RWZmZWN0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIFUuY3VycmVudC51c2VMYXlvdXRFZmZlY3QoYSxiKX07XG5leHBvcnRzLnVzZU1lbW89ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVS5jdXJyZW50LnVzZU1lbW8oYSxiKX07ZXhwb3J0cy51c2VSZWR1Y2VyPWZ1bmN0aW9uKGEsYixlKXtyZXR1cm4gVS5jdXJyZW50LnVzZVJlZHVjZXIoYSxiLGUpfTtleHBvcnRzLnVzZVJlZj1mdW5jdGlvbihhKXtyZXR1cm4gVS5jdXJyZW50LnVzZVJlZihhKX07ZXhwb3J0cy51c2VTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gVS5jdXJyZW50LnVzZVN0YXRlKGEpfTtleHBvcnRzLnVzZVN5bmNFeHRlcm5hbFN0b3JlPWZ1bmN0aW9uKGEsYixlKXtyZXR1cm4gVS5jdXJyZW50LnVzZVN5bmNFeHRlcm5hbFN0b3JlKGEsYixlKX07ZXhwb3J0cy51c2VUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIFUuY3VycmVudC51c2VUcmFuc2l0aW9uKCl9O2V4cG9ydHMudmVyc2lvbj1cIjE4LjMuMVwiO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHNjaGVkdWxlci5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG4ndXNlIHN0cmljdCc7ZnVuY3Rpb24gZihhLGIpe3ZhciBjPWEubGVuZ3RoO2EucHVzaChiKTthOmZvcig7MDxjOyl7dmFyIGQ9Yy0xPj4+MSxlPWFbZF07aWYoMDxnKGUsYikpYVtkXT1iLGFbY109ZSxjPWQ7ZWxzZSBicmVhayBhfX1mdW5jdGlvbiBoKGEpe3JldHVybiAwPT09YS5sZW5ndGg/bnVsbDphWzBdfWZ1bmN0aW9uIGsoYSl7aWYoMD09PWEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBiPWFbMF0sYz1hLnBvcCgpO2lmKGMhPT1iKXthWzBdPWM7YTpmb3IodmFyIGQ9MCxlPWEubGVuZ3RoLHc9ZT4+PjE7ZDx3Oyl7dmFyIG09MiooZCsxKS0xLEM9YVttXSxuPW0rMSx4PWFbbl07aWYoMD5nKEMsYykpbjxlJiYwPmcoeCxDKT8oYVtkXT14LGFbbl09YyxkPW4pOihhW2RdPUMsYVttXT1jLGQ9bSk7ZWxzZSBpZihuPGUmJjA+Zyh4LGMpKWFbZF09eCxhW25dPWMsZD1uO2Vsc2UgYnJlYWsgYX19cmV0dXJuIGJ9XG5mdW5jdGlvbiBnKGEsYil7dmFyIGM9YS5zb3J0SW5kZXgtYi5zb3J0SW5kZXg7cmV0dXJuIDAhPT1jP2M6YS5pZC1iLmlkfWlmKFwib2JqZWN0XCI9PT10eXBlb2YgcGVyZm9ybWFuY2UmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBwZXJmb3JtYW5jZS5ub3cpe3ZhciBsPXBlcmZvcm1hbmNlO2V4cG9ydHMudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIGwubm93KCl9fWVsc2V7dmFyIHA9RGF0ZSxxPXAubm93KCk7ZXhwb3J0cy51bnN0YWJsZV9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gcC5ub3coKS1xfX12YXIgcj1bXSx0PVtdLHU9MSx2PW51bGwseT0zLHo9ITEsQT0hMSxCPSExLEQ9XCJmdW5jdGlvblwiPT09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpudWxsLEU9XCJmdW5jdGlvblwiPT09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6bnVsbCxGPVwidW5kZWZpbmVkXCIhPT10eXBlb2Ygc2V0SW1tZWRpYXRlP3NldEltbWVkaWF0ZTpudWxsO1xuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJnZvaWQgMCE9PW5hdmlnYXRvci5zY2hlZHVsaW5nJiZ2b2lkIDAhPT1uYXZpZ2F0b3Iuc2NoZWR1bGluZy5pc0lucHV0UGVuZGluZyYmbmF2aWdhdG9yLnNjaGVkdWxpbmcuaXNJbnB1dFBlbmRpbmcuYmluZChuYXZpZ2F0b3Iuc2NoZWR1bGluZyk7ZnVuY3Rpb24gRyhhKXtmb3IodmFyIGI9aCh0KTtudWxsIT09Yjspe2lmKG51bGw9PT1iLmNhbGxiYWNrKWsodCk7ZWxzZSBpZihiLnN0YXJ0VGltZTw9YSlrKHQpLGIuc29ydEluZGV4PWIuZXhwaXJhdGlvblRpbWUsZihyLGIpO2Vsc2UgYnJlYWs7Yj1oKHQpfX1mdW5jdGlvbiBIKGEpe0I9ITE7RyhhKTtpZighQSlpZihudWxsIT09aChyKSlBPSEwLEkoSik7ZWxzZXt2YXIgYj1oKHQpO251bGwhPT1iJiZLKEgsYi5zdGFydFRpbWUtYSl9fVxuZnVuY3Rpb24gSihhLGIpe0E9ITE7QiYmKEI9ITEsRShMKSxMPS0xKTt6PSEwO3ZhciBjPXk7dHJ5e0coYik7Zm9yKHY9aChyKTtudWxsIT09diYmKCEodi5leHBpcmF0aW9uVGltZT5iKXx8YSYmIU0oKSk7KXt2YXIgZD12LmNhbGxiYWNrO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkKXt2LmNhbGxiYWNrPW51bGw7eT12LnByaW9yaXR5TGV2ZWw7dmFyIGU9ZCh2LmV4cGlyYXRpb25UaW1lPD1iKTtiPWV4cG9ydHMudW5zdGFibGVfbm93KCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGU/di5jYWxsYmFjaz1lOnY9PT1oKHIpJiZrKHIpO0coYil9ZWxzZSBrKHIpO3Y9aChyKX1pZihudWxsIT09dil2YXIgdz0hMDtlbHNle3ZhciBtPWgodCk7bnVsbCE9PW0mJksoSCxtLnN0YXJ0VGltZS1iKTt3PSExfXJldHVybiB3fWZpbmFsbHl7dj1udWxsLHk9Yyx6PSExfX12YXIgTj0hMSxPPW51bGwsTD0tMSxQPTUsUT0tMTtcbmZ1bmN0aW9uIE0oKXtyZXR1cm4gZXhwb3J0cy51bnN0YWJsZV9ub3coKS1RPFA/ITE6ITB9ZnVuY3Rpb24gUigpe2lmKG51bGwhPT1PKXt2YXIgYT1leHBvcnRzLnVuc3RhYmxlX25vdygpO1E9YTt2YXIgYj0hMDt0cnl7Yj1PKCEwLGEpfWZpbmFsbHl7Yj9TKCk6KE49ITEsTz1udWxsKX19ZWxzZSBOPSExfXZhciBTO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBGKVM9ZnVuY3Rpb24oKXtGKFIpfTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgTWVzc2FnZUNoYW5uZWwpe3ZhciBUPW5ldyBNZXNzYWdlQ2hhbm5lbCxVPVQucG9ydDI7VC5wb3J0MS5vbm1lc3NhZ2U9UjtTPWZ1bmN0aW9uKCl7VS5wb3N0TWVzc2FnZShudWxsKX19ZWxzZSBTPWZ1bmN0aW9uKCl7RChSLDApfTtmdW5jdGlvbiBJKGEpe089YTtOfHwoTj0hMCxTKCkpfWZ1bmN0aW9uIEsoYSxiKXtMPUQoZnVuY3Rpb24oKXthKGV4cG9ydHMudW5zdGFibGVfbm93KCkpfSxiKX1cbmV4cG9ydHMudW5zdGFibGVfSWRsZVByaW9yaXR5PTU7ZXhwb3J0cy51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eT0xO2V4cG9ydHMudW5zdGFibGVfTG93UHJpb3JpdHk9NDtleHBvcnRzLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5PTM7ZXhwb3J0cy51bnN0YWJsZV9Qcm9maWxpbmc9bnVsbDtleHBvcnRzLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5PTI7ZXhwb3J0cy51bnN0YWJsZV9jYW5jZWxDYWxsYmFjaz1mdW5jdGlvbihhKXthLmNhbGxiYWNrPW51bGx9O2V4cG9ydHMudW5zdGFibGVfY29udGludWVFeGVjdXRpb249ZnVuY3Rpb24oKXtBfHx6fHwoQT0hMCxJKEopKX07XG5leHBvcnRzLnVuc3RhYmxlX2ZvcmNlRnJhbWVSYXRlPWZ1bmN0aW9uKGEpezA+YXx8MTI1PGE/Y29uc29sZS5lcnJvcihcImZvcmNlRnJhbWVSYXRlIHRha2VzIGEgcG9zaXRpdmUgaW50IGJldHdlZW4gMCBhbmQgMTI1LCBmb3JjaW5nIGZyYW1lIHJhdGVzIGhpZ2hlciB0aGFuIDEyNSBmcHMgaXMgbm90IHN1cHBvcnRlZFwiKTpQPTA8YT9NYXRoLmZsb29yKDFFMy9hKTo1fTtleHBvcnRzLnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHl9O2V4cG9ydHMudW5zdGFibGVfZ2V0Rmlyc3RDYWxsYmFja05vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gaChyKX07ZXhwb3J0cy51bnN0YWJsZV9uZXh0PWZ1bmN0aW9uKGEpe3N3aXRjaCh5KXtjYXNlIDE6Y2FzZSAyOmNhc2UgMzp2YXIgYj0zO2JyZWFrO2RlZmF1bHQ6Yj15fXZhciBjPXk7eT1iO3RyeXtyZXR1cm4gYSgpfWZpbmFsbHl7eT1jfX07ZXhwb3J0cy51bnN0YWJsZV9wYXVzZUV4ZWN1dGlvbj1mdW5jdGlvbigpe307XG5leHBvcnRzLnVuc3RhYmxlX3JlcXVlc3RQYWludD1mdW5jdGlvbigpe307ZXhwb3J0cy51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHk9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpicmVhaztkZWZhdWx0OmE9M312YXIgYz15O3k9YTt0cnl7cmV0dXJuIGIoKX1maW5hbGx5e3k9Y319O1xuZXhwb3J0cy51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1leHBvcnRzLnVuc3RhYmxlX25vdygpO1wib2JqZWN0XCI9PT10eXBlb2YgYyYmbnVsbCE9PWM/KGM9Yy5kZWxheSxjPVwibnVtYmVyXCI9PT10eXBlb2YgYyYmMDxjP2QrYzpkKTpjPWQ7c3dpdGNoKGEpe2Nhc2UgMTp2YXIgZT0tMTticmVhaztjYXNlIDI6ZT0yNTA7YnJlYWs7Y2FzZSA1OmU9MTA3Mzc0MTgyMzticmVhaztjYXNlIDQ6ZT0xRTQ7YnJlYWs7ZGVmYXVsdDplPTVFM31lPWMrZTthPXtpZDp1KyssY2FsbGJhY2s6Yixwcmlvcml0eUxldmVsOmEsc3RhcnRUaW1lOmMsZXhwaXJhdGlvblRpbWU6ZSxzb3J0SW5kZXg6LTF9O2M+ZD8oYS5zb3J0SW5kZXg9YyxmKHQsYSksbnVsbD09PWgocikmJmE9PT1oKHQpJiYoQj8oRShMKSxMPS0xKTpCPSEwLEsoSCxjLWQpKSk6KGEuc29ydEluZGV4PWUsZihyLGEpLEF8fHp8fChBPSEwLEkoSikpKTtyZXR1cm4gYX07XG5leHBvcnRzLnVuc3RhYmxlX3Nob3VsZFlpZWxkPU07ZXhwb3J0cy51bnN0YWJsZV93cmFwQ2FsbGJhY2s9ZnVuY3Rpb24oYSl7dmFyIGI9eTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz15O3k9Yjt0cnl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZpbmFsbHl7eT1jfX19O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zY2hlZHVsZXIucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvc2NoZWR1bGVyLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtZG9tLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbi8qXG4gTW9kZXJuaXpyIDMuMC4wcHJlIChDdXN0b20gQnVpbGQpIHwgTUlUXG4qL1xuJ3VzZSBzdHJpY3QnO3ZhciBhYT1yZXF1aXJlKFwicmVhY3RcIiksY2E9cmVxdWlyZShcInNjaGVkdWxlclwiKTtmdW5jdGlvbiBwKGEpe2Zvcih2YXIgYj1cImh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50PVwiK2EsYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYis9XCImYXJnc1tdPVwiK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbY10pO3JldHVyblwiTWluaWZpZWQgUmVhY3QgZXJyb3IgI1wiK2ErXCI7IHZpc2l0IFwiK2IrXCIgZm9yIHRoZSBmdWxsIG1lc3NhZ2Ugb3IgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciBmdWxsIGVycm9ycyBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLlwifXZhciBkYT1uZXcgU2V0LGVhPXt9O2Z1bmN0aW9uIGZhKGEsYil7aGEoYSxiKTtoYShhK1wiQ2FwdHVyZVwiLGIpfVxuZnVuY3Rpb24gaGEoYSxiKXtlYVthXT1iO2ZvcihhPTA7YTxiLmxlbmd0aDthKyspZGEuYWRkKGJbYV0pfVxudmFyIGlhPSEoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiB3aW5kb3d8fFwidW5kZWZpbmVkXCI9PT10eXBlb2Ygd2luZG93LmRvY3VtZW50fHxcInVuZGVmaW5lZFwiPT09dHlwZW9mIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KSxqYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGthPS9eWzpBLVpfYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXVs6QS1aX2EtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRFxcLS4wLTlcXHUwMEI3XFx1MDMwMC1cXHUwMzZGXFx1MjAzRi1cXHUyMDQwXSokLyxsYT1cbnt9LG1hPXt9O2Z1bmN0aW9uIG9hKGEpe2lmKGphLmNhbGwobWEsYSkpcmV0dXJuITA7aWYoamEuY2FsbChsYSxhKSlyZXR1cm4hMTtpZihrYS50ZXN0KGEpKXJldHVybiBtYVthXT0hMDtsYVthXT0hMDtyZXR1cm4hMX1mdW5jdGlvbiBwYShhLGIsYyxkKXtpZihudWxsIT09YyYmMD09PWMudHlwZSlyZXR1cm4hMTtzd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJmdW5jdGlvblwiOmNhc2UgXCJzeW1ib2xcIjpyZXR1cm4hMDtjYXNlIFwiYm9vbGVhblwiOmlmKGQpcmV0dXJuITE7aWYobnVsbCE9PWMpcmV0dXJuIWMuYWNjZXB0c0Jvb2xlYW5zO2E9YS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNSk7cmV0dXJuXCJkYXRhLVwiIT09YSYmXCJhcmlhLVwiIT09YTtkZWZhdWx0OnJldHVybiExfX1cbmZ1bmN0aW9uIHFhKGEsYixjLGQpe2lmKG51bGw9PT1ifHxcInVuZGVmaW5lZFwiPT09dHlwZW9mIGJ8fHBhKGEsYixjLGQpKXJldHVybiEwO2lmKGQpcmV0dXJuITE7aWYobnVsbCE9PWMpc3dpdGNoKGMudHlwZSl7Y2FzZSAzOnJldHVybiFiO2Nhc2UgNDpyZXR1cm4hMT09PWI7Y2FzZSA1OnJldHVybiBpc05hTihiKTtjYXNlIDY6cmV0dXJuIGlzTmFOKGIpfHwxPmJ9cmV0dXJuITF9ZnVuY3Rpb24gdihhLGIsYyxkLGUsZixnKXt0aGlzLmFjY2VwdHNCb29sZWFucz0yPT09Ynx8Mz09PWJ8fDQ9PT1iO3RoaXMuYXR0cmlidXRlTmFtZT1kO3RoaXMuYXR0cmlidXRlTmFtZXNwYWNlPWU7dGhpcy5tdXN0VXNlUHJvcGVydHk9Yzt0aGlzLnByb3BlcnR5TmFtZT1hO3RoaXMudHlwZT1iO3RoaXMuc2FuaXRpemVVUkw9Zjt0aGlzLnJlbW92ZUVtcHR5U3RyaW5nPWd9dmFyIHo9e307XG5cImNoaWxkcmVuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIGRlZmF1bHRWYWx1ZSBkZWZhdWx0Q2hlY2tlZCBpbm5lckhUTUwgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyBzdHlsZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSwwLCExLGEsbnVsbCwhMSwhMSl9KTtbW1wiYWNjZXB0Q2hhcnNldFwiLFwiYWNjZXB0LWNoYXJzZXRcIl0sW1wiY2xhc3NOYW1lXCIsXCJjbGFzc1wiXSxbXCJodG1sRm9yXCIsXCJmb3JcIl0sW1wiaHR0cEVxdWl2XCIsXCJodHRwLWVxdWl2XCJdXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWFbMF07eltiXT1uZXcgdihiLDEsITEsYVsxXSxudWxsLCExLCExKX0pO1tcImNvbnRlbnRFZGl0YWJsZVwiLFwiZHJhZ2dhYmxlXCIsXCJzcGVsbENoZWNrXCIsXCJ2YWx1ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSwyLCExLGEudG9Mb3dlckNhc2UoKSxudWxsLCExLCExKX0pO1xuW1wiYXV0b1JldmVyc2VcIixcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWRcIixcImZvY3VzYWJsZVwiLFwicHJlc2VydmVBbHBoYVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSwyLCExLGEsbnVsbCwhMSwhMSl9KTtcImFsbG93RnVsbFNjcmVlbiBhc3luYyBhdXRvRm9jdXMgYXV0b1BsYXkgY29udHJvbHMgZGVmYXVsdCBkZWZlciBkaXNhYmxlZCBkaXNhYmxlUGljdHVyZUluUGljdHVyZSBkaXNhYmxlUmVtb3RlUGxheWJhY2sgZm9ybU5vVmFsaWRhdGUgaGlkZGVuIGxvb3Agbm9Nb2R1bGUgbm9WYWxpZGF0ZSBvcGVuIHBsYXlzSW5saW5lIHJlYWRPbmx5IHJlcXVpcmVkIHJldmVyc2VkIHNjb3BlZCBzZWFtbGVzcyBpdGVtU2NvcGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsMywhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCwhMSwhMSl9KTtcbltcImNoZWNrZWRcIixcIm11bHRpcGxlXCIsXCJtdXRlZFwiLFwic2VsZWN0ZWRcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsMywhMCxhLG51bGwsITEsITEpfSk7W1wiY2FwdHVyZVwiLFwiZG93bmxvYWRcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsNCwhMSxhLG51bGwsITEsITEpfSk7W1wiY29sc1wiLFwicm93c1wiLFwic2l6ZVwiLFwic3BhblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSw2LCExLGEsbnVsbCwhMSwhMSl9KTtbXCJyb3dTcGFuXCIsXCJzdGFydFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSw1LCExLGEudG9Mb3dlckNhc2UoKSxudWxsLCExLCExKX0pO3ZhciByYT0vW1xcLTpdKFthLXpdKS9nO2Z1bmN0aW9uIHNhKGEpe3JldHVybiBhWzFdLnRvVXBwZXJDYXNlKCl9XG5cImFjY2VudC1oZWlnaHQgYWxpZ25tZW50LWJhc2VsaW5lIGFyYWJpYy1mb3JtIGJhc2VsaW5lLXNoaWZ0IGNhcC1oZWlnaHQgY2xpcC1wYXRoIGNsaXAtcnVsZSBjb2xvci1pbnRlcnBvbGF0aW9uIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyBjb2xvci1wcm9maWxlIGNvbG9yLXJlbmRlcmluZyBkb21pbmFudC1iYXNlbGluZSBlbmFibGUtYmFja2dyb3VuZCBmaWxsLW9wYWNpdHkgZmlsbC1ydWxlIGZsb29kLWNvbG9yIGZsb29kLW9wYWNpdHkgZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtc2l6ZS1hZGp1c3QgZm9udC1zdHJldGNoIGZvbnQtc3R5bGUgZm9udC12YXJpYW50IGZvbnQtd2VpZ2h0IGdseXBoLW5hbWUgZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCBnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCBob3Jpei1hZHYteCBob3Jpei1vcmlnaW4teCBpbWFnZS1yZW5kZXJpbmcgbGV0dGVyLXNwYWNpbmcgbGlnaHRpbmctY29sb3IgbWFya2VyLWVuZCBtYXJrZXItbWlkIG1hcmtlci1zdGFydCBvdmVybGluZS1wb3NpdGlvbiBvdmVybGluZS10aGlja25lc3MgcGFpbnQtb3JkZXIgcGFub3NlLTEgcG9pbnRlci1ldmVudHMgcmVuZGVyaW5nLWludGVudCBzaGFwZS1yZW5kZXJpbmcgc3RvcC1jb2xvciBzdG9wLW9wYWNpdHkgc3RyaWtldGhyb3VnaC1wb3NpdGlvbiBzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyBzdHJva2UtZGFzaGFycmF5IHN0cm9rZS1kYXNob2Zmc2V0IHN0cm9rZS1saW5lY2FwIHN0cm9rZS1saW5lam9pbiBzdHJva2UtbWl0ZXJsaW1pdCBzdHJva2Utb3BhY2l0eSBzdHJva2Utd2lkdGggdGV4dC1hbmNob3IgdGV4dC1kZWNvcmF0aW9uIHRleHQtcmVuZGVyaW5nIHVuZGVybGluZS1wb3NpdGlvbiB1bmRlcmxpbmUtdGhpY2tuZXNzIHVuaWNvZGUtYmlkaSB1bmljb2RlLXJhbmdlIHVuaXRzLXBlci1lbSB2LWFscGhhYmV0aWMgdi1oYW5naW5nIHYtaWRlb2dyYXBoaWMgdi1tYXRoZW1hdGljYWwgdmVjdG9yLWVmZmVjdCB2ZXJ0LWFkdi15IHZlcnQtb3JpZ2luLXggdmVydC1vcmlnaW4teSB3b3JkLXNwYWNpbmcgd3JpdGluZy1tb2RlIHhtbG5zOnhsaW5rIHgtaGVpZ2h0XCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKHJhLFxuc2EpO3pbYl09bmV3IHYoYiwxLCExLGEsbnVsbCwhMSwhMSl9KTtcInhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpyb2xlIHhsaW5rOnNob3cgeGxpbms6dGl0bGUgeGxpbms6dHlwZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShyYSxzYSk7eltiXT1uZXcgdihiLDEsITEsYSxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMSwhMSl9KTtbXCJ4bWw6YmFzZVwiLFwieG1sOmxhbmdcIixcInhtbDpzcGFjZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShyYSxzYSk7eltiXT1uZXcgdihiLDEsITEsYSxcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLCExLCExKX0pO1tcInRhYkluZGV4XCIsXCJjcm9zc09yaWdpblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSwxLCExLGEudG9Mb3dlckNhc2UoKSxudWxsLCExLCExKX0pO1xuei54bGlua0hyZWY9bmV3IHYoXCJ4bGlua0hyZWZcIiwxLCExLFwieGxpbms6aHJlZlwiLFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCEwLCExKTtbXCJzcmNcIixcImhyZWZcIixcImFjdGlvblwiLFwiZm9ybUFjdGlvblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSwxLCExLGEudG9Mb3dlckNhc2UoKSxudWxsLCEwLCEwKX0pO1xuZnVuY3Rpb24gdGEoYSxiLGMsZCl7dmFyIGU9ei5oYXNPd25Qcm9wZXJ0eShiKT96W2JdOm51bGw7aWYobnVsbCE9PWU/MCE9PWUudHlwZTpkfHwhKDI8Yi5sZW5ndGgpfHxcIm9cIiE9PWJbMF0mJlwiT1wiIT09YlswXXx8XCJuXCIhPT1iWzFdJiZcIk5cIiE9PWJbMV0pcWEoYixjLGUsZCkmJihjPW51bGwpLGR8fG51bGw9PT1lP29hKGIpJiYobnVsbD09PWM/YS5yZW1vdmVBdHRyaWJ1dGUoYik6YS5zZXRBdHRyaWJ1dGUoYixcIlwiK2MpKTplLm11c3RVc2VQcm9wZXJ0eT9hW2UucHJvcGVydHlOYW1lXT1udWxsPT09Yz8zPT09ZS50eXBlPyExOlwiXCI6YzooYj1lLmF0dHJpYnV0ZU5hbWUsZD1lLmF0dHJpYnV0ZU5hbWVzcGFjZSxudWxsPT09Yz9hLnJlbW92ZUF0dHJpYnV0ZShiKTooZT1lLnR5cGUsYz0zPT09ZXx8ND09PWUmJiEwPT09Yz9cIlwiOlwiXCIrYyxkP2Euc2V0QXR0cmlidXRlTlMoZCxiLGMpOmEuc2V0QXR0cmlidXRlKGIsYykpKX1cbnZhciB1YT1hYS5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCx2YT1TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSx3YT1TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLHlhPVN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSx6YT1TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksQWE9U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLEJhPVN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKSxDYT1TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxEYT1TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksRWE9U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLEZhPVN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLEdhPVN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLEhhPVN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpO1N5bWJvbC5mb3IoXCJyZWFjdC5zY29wZVwiKTtTeW1ib2wuZm9yKFwicmVhY3QuZGVidWdfdHJhY2VfbW9kZVwiKTtcbnZhciBJYT1TeW1ib2wuZm9yKFwicmVhY3Qub2Zmc2NyZWVuXCIpO1N5bWJvbC5mb3IoXCJyZWFjdC5sZWdhY3lfaGlkZGVuXCIpO1N5bWJvbC5mb3IoXCJyZWFjdC5jYWNoZVwiKTtTeW1ib2wuZm9yKFwicmVhY3QudHJhY2luZ19tYXJrZXJcIik7dmFyIEphPVN5bWJvbC5pdGVyYXRvcjtmdW5jdGlvbiBLYShhKXtpZihudWxsPT09YXx8XCJvYmplY3RcIiE9PXR5cGVvZiBhKXJldHVybiBudWxsO2E9SmEmJmFbSmFdfHxhW1wiQEBpdGVyYXRvclwiXTtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYT9hOm51bGx9dmFyIEE9T2JqZWN0LmFzc2lnbixMYTtmdW5jdGlvbiBNYShhKXtpZih2b2lkIDA9PT1MYSl0cnl7dGhyb3cgRXJyb3IoKTt9Y2F0Y2goYyl7dmFyIGI9Yy5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtMYT1iJiZiWzFdfHxcIlwifXJldHVyblwiXFxuXCIrTGErYX12YXIgTmE9ITE7XG5mdW5jdGlvbiBPYShhLGIpe2lmKCFhfHxOYSlyZXR1cm5cIlwiO05hPSEwO3ZhciBjPUVycm9yLnByZXBhcmVTdGFja1RyYWNlO0Vycm9yLnByZXBhcmVTdGFja1RyYWNlPXZvaWQgMDt0cnl7aWYoYilpZihiPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoKTt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSxcInByb3BzXCIse3NldDpmdW5jdGlvbigpe3Rocm93IEVycm9yKCk7fX0pLFwib2JqZWN0XCI9PT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5jb25zdHJ1Y3Qpe3RyeXtSZWZsZWN0LmNvbnN0cnVjdChiLFtdKX1jYXRjaChsKXt2YXIgZD1sfVJlZmxlY3QuY29uc3RydWN0KGEsW10sYil9ZWxzZXt0cnl7Yi5jYWxsKCl9Y2F0Y2gobCl7ZD1sfWEuY2FsbChiLnByb3RvdHlwZSl9ZWxzZXt0cnl7dGhyb3cgRXJyb3IoKTt9Y2F0Y2gobCl7ZD1sfWEoKX19Y2F0Y2gobCl7aWYobCYmZCYmXCJzdHJpbmdcIj09PXR5cGVvZiBsLnN0YWNrKXtmb3IodmFyIGU9bC5zdGFjay5zcGxpdChcIlxcblwiKSxcbmY9ZC5zdGFjay5zcGxpdChcIlxcblwiKSxnPWUubGVuZ3RoLTEsaD1mLmxlbmd0aC0xOzE8PWcmJjA8PWgmJmVbZ10hPT1mW2hdOyloLS07Zm9yKDsxPD1nJiYwPD1oO2ctLSxoLS0paWYoZVtnXSE9PWZbaF0pe2lmKDEhPT1nfHwxIT09aCl7ZG8gaWYoZy0tLGgtLSwwPmh8fGVbZ10hPT1mW2hdKXt2YXIgaz1cIlxcblwiK2VbZ10ucmVwbGFjZShcIiBhdCBuZXcgXCIsXCIgYXQgXCIpO2EuZGlzcGxheU5hbWUmJmsuaW5jbHVkZXMoXCI8YW5vbnltb3VzPlwiKSYmKGs9ay5yZXBsYWNlKFwiPGFub255bW91cz5cIixhLmRpc3BsYXlOYW1lKSk7cmV0dXJuIGt9d2hpbGUoMTw9ZyYmMDw9aCl9YnJlYWt9fX1maW5hbGx5e05hPSExLEVycm9yLnByZXBhcmVTdGFja1RyYWNlPWN9cmV0dXJuKGE9YT9hLmRpc3BsYXlOYW1lfHxhLm5hbWU6XCJcIik/TWEoYSk6XCJcIn1cbmZ1bmN0aW9uIFBhKGEpe3N3aXRjaChhLnRhZyl7Y2FzZSA1OnJldHVybiBNYShhLnR5cGUpO2Nhc2UgMTY6cmV0dXJuIE1hKFwiTGF6eVwiKTtjYXNlIDEzOnJldHVybiBNYShcIlN1c3BlbnNlXCIpO2Nhc2UgMTk6cmV0dXJuIE1hKFwiU3VzcGVuc2VMaXN0XCIpO2Nhc2UgMDpjYXNlIDI6Y2FzZSAxNTpyZXR1cm4gYT1PYShhLnR5cGUsITEpLGE7Y2FzZSAxMTpyZXR1cm4gYT1PYShhLnR5cGUucmVuZGVyLCExKSxhO2Nhc2UgMTpyZXR1cm4gYT1PYShhLnR5cGUsITApLGE7ZGVmYXVsdDpyZXR1cm5cIlwifX1cbmZ1bmN0aW9uIFFhKGEpe2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpcmV0dXJuIGEuZGlzcGxheU5hbWV8fGEubmFtZXx8bnVsbDtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEpcmV0dXJuIGE7c3dpdGNoKGEpe2Nhc2UgeWE6cmV0dXJuXCJGcmFnbWVudFwiO2Nhc2Ugd2E6cmV0dXJuXCJQb3J0YWxcIjtjYXNlIEFhOnJldHVyblwiUHJvZmlsZXJcIjtjYXNlIHphOnJldHVyblwiU3RyaWN0TW9kZVwiO2Nhc2UgRWE6cmV0dXJuXCJTdXNwZW5zZVwiO2Nhc2UgRmE6cmV0dXJuXCJTdXNwZW5zZUxpc3RcIn1pZihcIm9iamVjdFwiPT09dHlwZW9mIGEpc3dpdGNoKGEuJCR0eXBlb2Ype2Nhc2UgQ2E6cmV0dXJuKGEuZGlzcGxheU5hbWV8fFwiQ29udGV4dFwiKStcIi5Db25zdW1lclwiO2Nhc2UgQmE6cmV0dXJuKGEuX2NvbnRleHQuZGlzcGxheU5hbWV8fFwiQ29udGV4dFwiKStcIi5Qcm92aWRlclwiO2Nhc2UgRGE6dmFyIGI9YS5yZW5kZXI7YT1hLmRpc3BsYXlOYW1lO2F8fChhPWIuZGlzcGxheU5hbWV8fFxuYi5uYW1lfHxcIlwiLGE9XCJcIiE9PWE/XCJGb3J3YXJkUmVmKFwiK2ErXCIpXCI6XCJGb3J3YXJkUmVmXCIpO3JldHVybiBhO2Nhc2UgR2E6cmV0dXJuIGI9YS5kaXNwbGF5TmFtZXx8bnVsbCxudWxsIT09Yj9iOlFhKGEudHlwZSl8fFwiTWVtb1wiO2Nhc2UgSGE6Yj1hLl9wYXlsb2FkO2E9YS5faW5pdDt0cnl7cmV0dXJuIFFhKGEoYikpfWNhdGNoKGMpe319cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBSYShhKXt2YXIgYj1hLnR5cGU7c3dpdGNoKGEudGFnKXtjYXNlIDI0OnJldHVyblwiQ2FjaGVcIjtjYXNlIDk6cmV0dXJuKGIuZGlzcGxheU5hbWV8fFwiQ29udGV4dFwiKStcIi5Db25zdW1lclwiO2Nhc2UgMTA6cmV0dXJuKGIuX2NvbnRleHQuZGlzcGxheU5hbWV8fFwiQ29udGV4dFwiKStcIi5Qcm92aWRlclwiO2Nhc2UgMTg6cmV0dXJuXCJEZWh5ZHJhdGVkRnJhZ21lbnRcIjtjYXNlIDExOnJldHVybiBhPWIucmVuZGVyLGE9YS5kaXNwbGF5TmFtZXx8YS5uYW1lfHxcIlwiLGIuZGlzcGxheU5hbWV8fChcIlwiIT09YT9cIkZvcndhcmRSZWYoXCIrYStcIilcIjpcIkZvcndhcmRSZWZcIik7Y2FzZSA3OnJldHVyblwiRnJhZ21lbnRcIjtjYXNlIDU6cmV0dXJuIGI7Y2FzZSA0OnJldHVyblwiUG9ydGFsXCI7Y2FzZSAzOnJldHVyblwiUm9vdFwiO2Nhc2UgNjpyZXR1cm5cIlRleHRcIjtjYXNlIDE2OnJldHVybiBRYShiKTtjYXNlIDg6cmV0dXJuIGI9PT16YT9cIlN0cmljdE1vZGVcIjpcIk1vZGVcIjtjYXNlIDIyOnJldHVyblwiT2Zmc2NyZWVuXCI7XG5jYXNlIDEyOnJldHVyblwiUHJvZmlsZXJcIjtjYXNlIDIxOnJldHVyblwiU2NvcGVcIjtjYXNlIDEzOnJldHVyblwiU3VzcGVuc2VcIjtjYXNlIDE5OnJldHVyblwiU3VzcGVuc2VMaXN0XCI7Y2FzZSAyNTpyZXR1cm5cIlRyYWNpbmdNYXJrZXJcIjtjYXNlIDE6Y2FzZSAwOmNhc2UgMTc6Y2FzZSAyOmNhc2UgMTQ6Y2FzZSAxNTppZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilyZXR1cm4gYi5kaXNwbGF5TmFtZXx8Yi5uYW1lfHxudWxsO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYilyZXR1cm4gYn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBTYShhKXtzd2l0Y2godHlwZW9mIGEpe2Nhc2UgXCJib29sZWFuXCI6Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJzdHJpbmdcIjpjYXNlIFwidW5kZWZpbmVkXCI6cmV0dXJuIGE7Y2FzZSBcIm9iamVjdFwiOnJldHVybiBhO2RlZmF1bHQ6cmV0dXJuXCJcIn19XG5mdW5jdGlvbiBUYShhKXt2YXIgYj1hLnR5cGU7cmV0dXJuKGE9YS5ub2RlTmFtZSkmJlwiaW5wdXRcIj09PWEudG9Mb3dlckNhc2UoKSYmKFwiY2hlY2tib3hcIj09PWJ8fFwicmFkaW9cIj09PWIpfVxuZnVuY3Rpb24gVWEoYSl7dmFyIGI9VGEoYSk/XCJjaGVja2VkXCI6XCJ2YWx1ZVwiLGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxiKSxkPVwiXCIrYVtiXTtpZighYS5oYXNPd25Qcm9wZXJ0eShiKSYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5nZXQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLnNldCl7dmFyIGU9Yy5nZXQsZj1jLnNldDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh0aGlzKX0sc2V0OmZ1bmN0aW9uKGEpe2Q9XCJcIithO2YuY2FsbCh0aGlzLGEpfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2VudW1lcmFibGU6Yy5lbnVtZXJhYmxlfSk7cmV0dXJue2dldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGR9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe2Q9XCJcIithfSxzdG9wVHJhY2tpbmc6ZnVuY3Rpb24oKXthLl92YWx1ZVRyYWNrZXI9XG5udWxsO2RlbGV0ZSBhW2JdfX19fWZ1bmN0aW9uIFZhKGEpe2EuX3ZhbHVlVHJhY2tlcnx8KGEuX3ZhbHVlVHJhY2tlcj1VYShhKSl9ZnVuY3Rpb24gV2EoYSl7aWYoIWEpcmV0dXJuITE7dmFyIGI9YS5fdmFsdWVUcmFja2VyO2lmKCFiKXJldHVybiEwO3ZhciBjPWIuZ2V0VmFsdWUoKTt2YXIgZD1cIlwiO2EmJihkPVRhKGEpP2EuY2hlY2tlZD9cInRydWVcIjpcImZhbHNlXCI6YS52YWx1ZSk7YT1kO3JldHVybiBhIT09Yz8oYi5zZXRWYWx1ZShhKSwhMCk6ITF9ZnVuY3Rpb24gWGEoYSl7YT1hfHwoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDp2b2lkIDApO2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgYSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIGEuYWN0aXZlRWxlbWVudHx8YS5ib2R5fWNhdGNoKGIpe3JldHVybiBhLmJvZHl9fVxuZnVuY3Rpb24gWWEoYSxiKXt2YXIgYz1iLmNoZWNrZWQ7cmV0dXJuIEEoe30sYix7ZGVmYXVsdENoZWNrZWQ6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDAsdmFsdWU6dm9pZCAwLGNoZWNrZWQ6bnVsbCE9Yz9jOmEuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZH0pfWZ1bmN0aW9uIFphKGEsYil7dmFyIGM9bnVsbD09Yi5kZWZhdWx0VmFsdWU/XCJcIjpiLmRlZmF1bHRWYWx1ZSxkPW51bGwhPWIuY2hlY2tlZD9iLmNoZWNrZWQ6Yi5kZWZhdWx0Q2hlY2tlZDtjPVNhKG51bGwhPWIudmFsdWU/Yi52YWx1ZTpjKTthLl93cmFwcGVyU3RhdGU9e2luaXRpYWxDaGVja2VkOmQsaW5pdGlhbFZhbHVlOmMsY29udHJvbGxlZDpcImNoZWNrYm94XCI9PT1iLnR5cGV8fFwicmFkaW9cIj09PWIudHlwZT9udWxsIT1iLmNoZWNrZWQ6bnVsbCE9Yi52YWx1ZX19ZnVuY3Rpb24gYWIoYSxiKXtiPWIuY2hlY2tlZDtudWxsIT1iJiZ0YShhLFwiY2hlY2tlZFwiLGIsITEpfVxuZnVuY3Rpb24gYmIoYSxiKXthYihhLGIpO3ZhciBjPVNhKGIudmFsdWUpLGQ9Yi50eXBlO2lmKG51bGwhPWMpaWYoXCJudW1iZXJcIj09PWQpe2lmKDA9PT1jJiZcIlwiPT09YS52YWx1ZXx8YS52YWx1ZSE9YylhLnZhbHVlPVwiXCIrY31lbHNlIGEudmFsdWUhPT1cIlwiK2MmJihhLnZhbHVlPVwiXCIrYyk7ZWxzZSBpZihcInN1Ym1pdFwiPT09ZHx8XCJyZXNldFwiPT09ZCl7YS5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtyZXR1cm59Yi5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpP2NiKGEsYi50eXBlLGMpOmIuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0VmFsdWVcIikmJmNiKGEsYi50eXBlLFNhKGIuZGVmYXVsdFZhbHVlKSk7bnVsbD09Yi5jaGVja2VkJiZudWxsIT1iLmRlZmF1bHRDaGVja2VkJiYoYS5kZWZhdWx0Q2hlY2tlZD0hIWIuZGVmYXVsdENoZWNrZWQpfVxuZnVuY3Rpb24gZGIoYSxiLGMpe2lmKGIuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKXx8Yi5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSl7dmFyIGQ9Yi50eXBlO2lmKCEoXCJzdWJtaXRcIiE9PWQmJlwicmVzZXRcIiE9PWR8fHZvaWQgMCE9PWIudmFsdWUmJm51bGwhPT1iLnZhbHVlKSlyZXR1cm47Yj1cIlwiK2EuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7Y3x8Yj09PWEudmFsdWV8fChhLnZhbHVlPWIpO2EuZGVmYXVsdFZhbHVlPWJ9Yz1hLm5hbWU7XCJcIiE9PWMmJihhLm5hbWU9XCJcIik7YS5kZWZhdWx0Q2hlY2tlZD0hIWEuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZDtcIlwiIT09YyYmKGEubmFtZT1jKX1cbmZ1bmN0aW9uIGNiKGEsYixjKXtpZihcIm51bWJlclwiIT09Ynx8WGEoYS5vd25lckRvY3VtZW50KSE9PWEpbnVsbD09Yz9hLmRlZmF1bHRWYWx1ZT1cIlwiK2EuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU6YS5kZWZhdWx0VmFsdWUhPT1cIlwiK2MmJihhLmRlZmF1bHRWYWx1ZT1cIlwiK2MpfXZhciBlYj1BcnJheS5pc0FycmF5O1xuZnVuY3Rpb24gZmIoYSxiLGMsZCl7YT1hLm9wdGlvbnM7aWYoYil7Yj17fTtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyliW1wiJFwiK2NbZV1dPSEwO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspZT1iLmhhc093blByb3BlcnR5KFwiJFwiK2FbY10udmFsdWUpLGFbY10uc2VsZWN0ZWQhPT1lJiYoYVtjXS5zZWxlY3RlZD1lKSxlJiZkJiYoYVtjXS5kZWZhdWx0U2VsZWN0ZWQ9ITApfWVsc2V7Yz1cIlwiK1NhKGMpO2I9bnVsbDtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKXtpZihhW2VdLnZhbHVlPT09Yyl7YVtlXS5zZWxlY3RlZD0hMDtkJiYoYVtlXS5kZWZhdWx0U2VsZWN0ZWQ9ITApO3JldHVybn1udWxsIT09Ynx8YVtlXS5kaXNhYmxlZHx8KGI9YVtlXSl9bnVsbCE9PWImJihiLnNlbGVjdGVkPSEwKX19XG5mdW5jdGlvbiBnYihhLGIpe2lmKG51bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpdGhyb3cgRXJyb3IocCg5MSkpO3JldHVybiBBKHt9LGIse3ZhbHVlOnZvaWQgMCxkZWZhdWx0VmFsdWU6dm9pZCAwLGNoaWxkcmVuOlwiXCIrYS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZX0pfWZ1bmN0aW9uIGhiKGEsYil7dmFyIGM9Yi52YWx1ZTtpZihudWxsPT1jKXtjPWIuY2hpbGRyZW47Yj1iLmRlZmF1bHRWYWx1ZTtpZihudWxsIT1jKXtpZihudWxsIT1iKXRocm93IEVycm9yKHAoOTIpKTtpZihlYihjKSl7aWYoMTxjLmxlbmd0aCl0aHJvdyBFcnJvcihwKDkzKSk7Yz1jWzBdfWI9Y31udWxsPT1iJiYoYj1cIlwiKTtjPWJ9YS5fd3JhcHBlclN0YXRlPXtpbml0aWFsVmFsdWU6U2EoYyl9fVxuZnVuY3Rpb24gaWIoYSxiKXt2YXIgYz1TYShiLnZhbHVlKSxkPVNhKGIuZGVmYXVsdFZhbHVlKTtudWxsIT1jJiYoYz1cIlwiK2MsYyE9PWEudmFsdWUmJihhLnZhbHVlPWMpLG51bGw9PWIuZGVmYXVsdFZhbHVlJiZhLmRlZmF1bHRWYWx1ZSE9PWMmJihhLmRlZmF1bHRWYWx1ZT1jKSk7bnVsbCE9ZCYmKGEuZGVmYXVsdFZhbHVlPVwiXCIrZCl9ZnVuY3Rpb24gamIoYSl7dmFyIGI9YS50ZXh0Q29udGVudDtiPT09YS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSYmXCJcIiE9PWImJm51bGwhPT1iJiYoYS52YWx1ZT1iKX1mdW5jdGlvbiBrYihhKXtzd2l0Y2goYSl7Y2FzZSBcInN2Z1wiOnJldHVyblwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtjYXNlIFwibWF0aFwiOnJldHVyblwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiO2RlZmF1bHQ6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCJ9fVxuZnVuY3Rpb24gbGIoYSxiKXtyZXR1cm4gbnVsbD09YXx8XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PT1hP2tiKGIpOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj09PWEmJlwiZm9yZWlnbk9iamVjdFwiPT09Yj9cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjphfVxudmFyIG1iLG5iPWZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgTVNBcHAmJk1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uP2Z1bmN0aW9uKGIsYyxkLGUpe01TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIGEoYixjLGQsZSl9KX06YX0oZnVuY3Rpb24oYSxiKXtpZihcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIhPT1hLm5hbWVzcGFjZVVSSXx8XCJpbm5lckhUTUxcImluIGEpYS5pbm5lckhUTUw9YjtlbHNle21iPW1ifHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO21iLmlubmVySFRNTD1cIjxzdmc+XCIrYi52YWx1ZU9mKCkudG9TdHJpbmcoKStcIjwvc3ZnPlwiO2ZvcihiPW1iLmZpcnN0Q2hpbGQ7YS5maXJzdENoaWxkOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCk7Zm9yKDtiLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoYi5maXJzdENoaWxkKX19KTtcbmZ1bmN0aW9uIG9iKGEsYil7aWYoYil7dmFyIGM9YS5maXJzdENoaWxkO2lmKGMmJmM9PT1hLmxhc3RDaGlsZCYmMz09PWMubm9kZVR5cGUpe2Mubm9kZVZhbHVlPWI7cmV0dXJufX1hLnRleHRDb250ZW50PWJ9XG52YXIgcGI9e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGFzcGVjdFJhdGlvOiEwLGJvcmRlckltYWdlT3V0c2V0OiEwLGJvcmRlckltYWdlU2xpY2U6ITAsYm9yZGVySW1hZ2VXaWR0aDohMCxib3hGbGV4OiEwLGJveEZsZXhHcm91cDohMCxib3hPcmRpbmFsR3JvdXA6ITAsY29sdW1uQ291bnQ6ITAsY29sdW1uczohMCxmbGV4OiEwLGZsZXhHcm93OiEwLGZsZXhQb3NpdGl2ZTohMCxmbGV4U2hyaW5rOiEwLGZsZXhOZWdhdGl2ZTohMCxmbGV4T3JkZXI6ITAsZ3JpZEFyZWE6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTcGFuOiEwLGdyaWRSb3dTdGFydDohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblNwYW46ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUNsYW1wOiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHRhYlNpemU6ITAsd2lkb3dzOiEwLHpJbmRleDohMCxcbnpvb206ITAsZmlsbE9wYWNpdHk6ITAsZmxvb2RPcGFjaXR5OiEwLHN0b3BPcGFjaXR5OiEwLHN0cm9rZURhc2hhcnJheTohMCxzdHJva2VEYXNob2Zmc2V0OiEwLHN0cm9rZU1pdGVybGltaXQ6ITAsc3Ryb2tlT3BhY2l0eTohMCxzdHJva2VXaWR0aDohMH0scWI9W1wiV2Via2l0XCIsXCJtc1wiLFwiTW96XCIsXCJPXCJdO09iamVjdC5rZXlzKHBiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3FiLmZvckVhY2goZnVuY3Rpb24oYil7Yj1iK2EuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHJpbmcoMSk7cGJbYl09cGJbYV19KX0pO2Z1bmN0aW9uIHJiKGEsYixjKXtyZXR1cm4gbnVsbD09Ynx8XCJib29sZWFuXCI9PT10eXBlb2YgYnx8XCJcIj09PWI/XCJcIjpjfHxcIm51bWJlclwiIT09dHlwZW9mIGJ8fDA9PT1ifHxwYi5oYXNPd25Qcm9wZXJ0eShhKSYmcGJbYV0/KFwiXCIrYikudHJpbSgpOmIrXCJweFwifVxuZnVuY3Rpb24gc2IoYSxiKXthPWEuc3R5bGU7Zm9yKHZhciBjIGluIGIpaWYoYi5oYXNPd25Qcm9wZXJ0eShjKSl7dmFyIGQ9MD09PWMuaW5kZXhPZihcIi0tXCIpLGU9cmIoYyxiW2NdLGQpO1wiZmxvYXRcIj09PWMmJihjPVwiY3NzRmxvYXRcIik7ZD9hLnNldFByb3BlcnR5KGMsZSk6YVtjXT1lfX12YXIgdGI9QSh7bWVudWl0ZW06ITB9LHthcmVhOiEwLGJhc2U6ITAsYnI6ITAsY29sOiEwLGVtYmVkOiEwLGhyOiEwLGltZzohMCxpbnB1dDohMCxrZXlnZW46ITAsbGluazohMCxtZXRhOiEwLHBhcmFtOiEwLHNvdXJjZTohMCx0cmFjazohMCx3YnI6ITB9KTtcbmZ1bmN0aW9uIHViKGEsYil7aWYoYil7aWYodGJbYV0mJihudWxsIT1iLmNoaWxkcmVufHxudWxsIT1iLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSl0aHJvdyBFcnJvcihwKDEzNyxhKSk7aWYobnVsbCE9Yi5kYW5nZXJvdXNseVNldElubmVySFRNTCl7aWYobnVsbCE9Yi5jaGlsZHJlbil0aHJvdyBFcnJvcihwKDYwKSk7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MfHwhKFwiX19odG1sXCJpbiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSl0aHJvdyBFcnJvcihwKDYxKSk7fWlmKG51bGwhPWIuc3R5bGUmJlwib2JqZWN0XCIhPT10eXBlb2YgYi5zdHlsZSl0aHJvdyBFcnJvcihwKDYyKSk7fX1cbmZ1bmN0aW9uIHZiKGEsYil7aWYoLTE9PT1hLmluZGV4T2YoXCItXCIpKXJldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYi5pcztzd2l0Y2goYSl7Y2FzZSBcImFubm90YXRpb24teG1sXCI6Y2FzZSBcImNvbG9yLXByb2ZpbGVcIjpjYXNlIFwiZm9udC1mYWNlXCI6Y2FzZSBcImZvbnQtZmFjZS1zcmNcIjpjYXNlIFwiZm9udC1mYWNlLXVyaVwiOmNhc2UgXCJmb250LWZhY2UtZm9ybWF0XCI6Y2FzZSBcImZvbnQtZmFjZS1uYW1lXCI6Y2FzZSBcIm1pc3NpbmctZ2x5cGhcIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiEwfX12YXIgd2I9bnVsbDtmdW5jdGlvbiB4YihhKXthPWEudGFyZ2V0fHxhLnNyY0VsZW1lbnR8fHdpbmRvdzthLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50JiYoYT1hLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KTtyZXR1cm4gMz09PWEubm9kZVR5cGU/YS5wYXJlbnROb2RlOmF9dmFyIHliPW51bGwsemI9bnVsbCxBYj1udWxsO1xuZnVuY3Rpb24gQmIoYSl7aWYoYT1DYihhKSl7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIHliKXRocm93IEVycm9yKHAoMjgwKSk7dmFyIGI9YS5zdGF0ZU5vZGU7YiYmKGI9RGIoYikseWIoYS5zdGF0ZU5vZGUsYS50eXBlLGIpKX19ZnVuY3Rpb24gRWIoYSl7emI/QWI/QWIucHVzaChhKTpBYj1bYV06emI9YX1mdW5jdGlvbiBGYigpe2lmKHpiKXt2YXIgYT16YixiPUFiO0FiPXpiPW51bGw7QmIoYSk7aWYoYilmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKUJiKGJbYV0pfX1mdW5jdGlvbiBHYihhLGIpe3JldHVybiBhKGIpfWZ1bmN0aW9uIEhiKCl7fXZhciBJYj0hMTtmdW5jdGlvbiBKYihhLGIsYyl7aWYoSWIpcmV0dXJuIGEoYixjKTtJYj0hMDt0cnl7cmV0dXJuIEdiKGEsYixjKX1maW5hbGx5e2lmKEliPSExLG51bGwhPT16Ynx8bnVsbCE9PUFiKUhiKCksRmIoKX19XG5mdW5jdGlvbiBLYihhLGIpe3ZhciBjPWEuc3RhdGVOb2RlO2lmKG51bGw9PT1jKXJldHVybiBudWxsO3ZhciBkPURiKGMpO2lmKG51bGw9PT1kKXJldHVybiBudWxsO2M9ZFtiXTthOnN3aXRjaChiKXtjYXNlIFwib25DbGlja1wiOmNhc2UgXCJvbkNsaWNrQ2FwdHVyZVwiOmNhc2UgXCJvbkRvdWJsZUNsaWNrXCI6Y2FzZSBcIm9uRG91YmxlQ2xpY2tDYXB0dXJlXCI6Y2FzZSBcIm9uTW91c2VEb3duXCI6Y2FzZSBcIm9uTW91c2VEb3duQ2FwdHVyZVwiOmNhc2UgXCJvbk1vdXNlTW92ZVwiOmNhc2UgXCJvbk1vdXNlTW92ZUNhcHR1cmVcIjpjYXNlIFwib25Nb3VzZVVwXCI6Y2FzZSBcIm9uTW91c2VVcENhcHR1cmVcIjpjYXNlIFwib25Nb3VzZUVudGVyXCI6KGQ9IWQuZGlzYWJsZWQpfHwoYT1hLnR5cGUsZD0hKFwiYnV0dG9uXCI9PT1hfHxcImlucHV0XCI9PT1hfHxcInNlbGVjdFwiPT09YXx8XCJ0ZXh0YXJlYVwiPT09YSkpO2E9IWQ7YnJlYWsgYTtkZWZhdWx0OmE9ITF9aWYoYSlyZXR1cm4gbnVsbDtpZihjJiZcImZ1bmN0aW9uXCIhPT1cbnR5cGVvZiBjKXRocm93IEVycm9yKHAoMjMxLGIsdHlwZW9mIGMpKTtyZXR1cm4gY312YXIgTGI9ITE7aWYoaWEpdHJ5e3ZhciBNYj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTWIsXCJwYXNzaXZlXCIse2dldDpmdW5jdGlvbigpe0xiPSEwfX0pO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLE1iLE1iKTt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRlc3RcIixNYixNYil9Y2F0Y2goYSl7TGI9ITF9ZnVuY3Rpb24gTmIoYSxiLGMsZCxlLGYsZyxoLGspe3ZhciBsPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTt0cnl7Yi5hcHBseShjLGwpfWNhdGNoKG0pe3RoaXMub25FcnJvcihtKX19dmFyIE9iPSExLFBiPW51bGwsUWI9ITEsUmI9bnVsbCxTYj17b25FcnJvcjpmdW5jdGlvbihhKXtPYj0hMDtQYj1hfX07ZnVuY3Rpb24gVGIoYSxiLGMsZCxlLGYsZyxoLGspe09iPSExO1BiPW51bGw7TmIuYXBwbHkoU2IsYXJndW1lbnRzKX1cbmZ1bmN0aW9uIFViKGEsYixjLGQsZSxmLGcsaCxrKXtUYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoT2Ipe2lmKE9iKXt2YXIgbD1QYjtPYj0hMTtQYj1udWxsfWVsc2UgdGhyb3cgRXJyb3IocCgxOTgpKTtRYnx8KFFiPSEwLFJiPWwpfX1mdW5jdGlvbiBWYihhKXt2YXIgYj1hLGM9YTtpZihhLmFsdGVybmF0ZSlmb3IoO2IucmV0dXJuOyliPWIucmV0dXJuO2Vsc2V7YT1iO2RvIGI9YSwwIT09KGIuZmxhZ3MmNDA5OCkmJihjPWIucmV0dXJuKSxhPWIucmV0dXJuO3doaWxlKGEpfXJldHVybiAzPT09Yi50YWc/YzpudWxsfWZ1bmN0aW9uIFdiKGEpe2lmKDEzPT09YS50YWcpe3ZhciBiPWEubWVtb2l6ZWRTdGF0ZTtudWxsPT09YiYmKGE9YS5hbHRlcm5hdGUsbnVsbCE9PWEmJihiPWEubWVtb2l6ZWRTdGF0ZSkpO2lmKG51bGwhPT1iKXJldHVybiBiLmRlaHlkcmF0ZWR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gWGIoYSl7aWYoVmIoYSkhPT1hKXRocm93IEVycm9yKHAoMTg4KSk7fVxuZnVuY3Rpb24gWWIoYSl7dmFyIGI9YS5hbHRlcm5hdGU7aWYoIWIpe2I9VmIoYSk7aWYobnVsbD09PWIpdGhyb3cgRXJyb3IocCgxODgpKTtyZXR1cm4gYiE9PWE/bnVsbDphfWZvcih2YXIgYz1hLGQ9Yjs7KXt2YXIgZT1jLnJldHVybjtpZihudWxsPT09ZSlicmVhazt2YXIgZj1lLmFsdGVybmF0ZTtpZihudWxsPT09Zil7ZD1lLnJldHVybjtpZihudWxsIT09ZCl7Yz1kO2NvbnRpbnVlfWJyZWFrfWlmKGUuY2hpbGQ9PT1mLmNoaWxkKXtmb3IoZj1lLmNoaWxkO2Y7KXtpZihmPT09YylyZXR1cm4gWGIoZSksYTtpZihmPT09ZClyZXR1cm4gWGIoZSksYjtmPWYuc2libGluZ310aHJvdyBFcnJvcihwKDE4OCkpO31pZihjLnJldHVybiE9PWQucmV0dXJuKWM9ZSxkPWY7ZWxzZXtmb3IodmFyIGc9ITEsaD1lLmNoaWxkO2g7KXtpZihoPT09Yyl7Zz0hMDtjPWU7ZD1mO2JyZWFrfWlmKGg9PT1kKXtnPSEwO2Q9ZTtjPWY7YnJlYWt9aD1oLnNpYmxpbmd9aWYoIWcpe2ZvcihoPWYuY2hpbGQ7aDspe2lmKGg9PT1cbmMpe2c9ITA7Yz1mO2Q9ZTticmVha31pZihoPT09ZCl7Zz0hMDtkPWY7Yz1lO2JyZWFrfWg9aC5zaWJsaW5nfWlmKCFnKXRocm93IEVycm9yKHAoMTg5KSk7fX1pZihjLmFsdGVybmF0ZSE9PWQpdGhyb3cgRXJyb3IocCgxOTApKTt9aWYoMyE9PWMudGFnKXRocm93IEVycm9yKHAoMTg4KSk7cmV0dXJuIGMuc3RhdGVOb2RlLmN1cnJlbnQ9PT1jP2E6Yn1mdW5jdGlvbiBaYihhKXthPVliKGEpO3JldHVybiBudWxsIT09YT8kYihhKTpudWxsfWZ1bmN0aW9uICRiKGEpe2lmKDU9PT1hLnRhZ3x8Nj09PWEudGFnKXJldHVybiBhO2ZvcihhPWEuY2hpbGQ7bnVsbCE9PWE7KXt2YXIgYj0kYihhKTtpZihudWxsIT09YilyZXR1cm4gYjthPWEuc2libGluZ31yZXR1cm4gbnVsbH1cbnZhciBhYz1jYS51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrLGJjPWNhLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrLGNjPWNhLnVuc3RhYmxlX3Nob3VsZFlpZWxkLGRjPWNhLnVuc3RhYmxlX3JlcXVlc3RQYWludCxCPWNhLnVuc3RhYmxlX25vdyxlYz1jYS51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbCxmYz1jYS51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eSxnYz1jYS51bnN0YWJsZV9Vc2VyQmxvY2tpbmdQcmlvcml0eSxoYz1jYS51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxpYz1jYS51bnN0YWJsZV9Mb3dQcmlvcml0eSxqYz1jYS51bnN0YWJsZV9JZGxlUHJpb3JpdHksa2M9bnVsbCxsYz1udWxsO2Z1bmN0aW9uIG1jKGEpe2lmKGxjJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgbGMub25Db21taXRGaWJlclJvb3QpdHJ5e2xjLm9uQ29tbWl0RmliZXJSb290KGtjLGEsdm9pZCAwLDEyOD09PShhLmN1cnJlbnQuZmxhZ3MmMTI4KSl9Y2F0Y2goYil7fX1cbnZhciBvYz1NYXRoLmNsejMyP01hdGguY2x6MzI6bmMscGM9TWF0aC5sb2cscWM9TWF0aC5MTjI7ZnVuY3Rpb24gbmMoYSl7YT4+Pj0wO3JldHVybiAwPT09YT8zMjozMS0ocGMoYSkvcWN8MCl8MH12YXIgcmM9NjQsc2M9NDE5NDMwNDtcbmZ1bmN0aW9uIHRjKGEpe3N3aXRjaChhJi1hKXtjYXNlIDE6cmV0dXJuIDE7Y2FzZSAyOnJldHVybiAyO2Nhc2UgNDpyZXR1cm4gNDtjYXNlIDg6cmV0dXJuIDg7Y2FzZSAxNjpyZXR1cm4gMTY7Y2FzZSAzMjpyZXR1cm4gMzI7Y2FzZSA2NDpjYXNlIDEyODpjYXNlIDI1NjpjYXNlIDUxMjpjYXNlIDEwMjQ6Y2FzZSAyMDQ4OmNhc2UgNDA5NjpjYXNlIDgxOTI6Y2FzZSAxNjM4NDpjYXNlIDMyNzY4OmNhc2UgNjU1MzY6Y2FzZSAxMzEwNzI6Y2FzZSAyNjIxNDQ6Y2FzZSA1MjQyODg6Y2FzZSAxMDQ4NTc2OmNhc2UgMjA5NzE1MjpyZXR1cm4gYSY0MTk0MjQwO2Nhc2UgNDE5NDMwNDpjYXNlIDgzODg2MDg6Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOmNhc2UgNjcxMDg4NjQ6cmV0dXJuIGEmMTMwMDIzNDI0O2Nhc2UgMTM0MjE3NzI4OnJldHVybiAxMzQyMTc3Mjg7Y2FzZSAyNjg0MzU0NTY6cmV0dXJuIDI2ODQzNTQ1NjtjYXNlIDUzNjg3MDkxMjpyZXR1cm4gNTM2ODcwOTEyO2Nhc2UgMTA3Mzc0MTgyNDpyZXR1cm4gMTA3Mzc0MTgyNDtcbmRlZmF1bHQ6cmV0dXJuIGF9fWZ1bmN0aW9uIHVjKGEsYil7dmFyIGM9YS5wZW5kaW5nTGFuZXM7aWYoMD09PWMpcmV0dXJuIDA7dmFyIGQ9MCxlPWEuc3VzcGVuZGVkTGFuZXMsZj1hLnBpbmdlZExhbmVzLGc9YyYyNjg0MzU0NTU7aWYoMCE9PWcpe3ZhciBoPWcmfmU7MCE9PWg/ZD10YyhoKTooZiY9ZywwIT09ZiYmKGQ9dGMoZikpKX1lbHNlIGc9YyZ+ZSwwIT09Zz9kPXRjKGcpOjAhPT1mJiYoZD10YyhmKSk7aWYoMD09PWQpcmV0dXJuIDA7aWYoMCE9PWImJmIhPT1kJiYwPT09KGImZSkmJihlPWQmLWQsZj1iJi1iLGU+PWZ8fDE2PT09ZSYmMCE9PShmJjQxOTQyNDApKSlyZXR1cm4gYjswIT09KGQmNCkmJihkfD1jJjE2KTtiPWEuZW50YW5nbGVkTGFuZXM7aWYoMCE9PWIpZm9yKGE9YS5lbnRhbmdsZW1lbnRzLGImPWQ7MDxiOyljPTMxLW9jKGIpLGU9MTw8YyxkfD1hW2NdLGImPX5lO3JldHVybiBkfVxuZnVuY3Rpb24gdmMoYSxiKXtzd2l0Y2goYSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDQ6cmV0dXJuIGIrMjUwO2Nhc2UgODpjYXNlIDE2OmNhc2UgMzI6Y2FzZSA2NDpjYXNlIDEyODpjYXNlIDI1NjpjYXNlIDUxMjpjYXNlIDEwMjQ6Y2FzZSAyMDQ4OmNhc2UgNDA5NjpjYXNlIDgxOTI6Y2FzZSAxNjM4NDpjYXNlIDMyNzY4OmNhc2UgNjU1MzY6Y2FzZSAxMzEwNzI6Y2FzZSAyNjIxNDQ6Y2FzZSA1MjQyODg6Y2FzZSAxMDQ4NTc2OmNhc2UgMjA5NzE1MjpyZXR1cm4gYis1RTM7Y2FzZSA0MTk0MzA0OmNhc2UgODM4ODYwODpjYXNlIDE2Nzc3MjE2OmNhc2UgMzM1NTQ0MzI6Y2FzZSA2NzEwODg2NDpyZXR1cm4tMTtjYXNlIDEzNDIxNzcyODpjYXNlIDI2ODQzNTQ1NjpjYXNlIDUzNjg3MDkxMjpjYXNlIDEwNzM3NDE4MjQ6cmV0dXJuLTE7ZGVmYXVsdDpyZXR1cm4tMX19XG5mdW5jdGlvbiB3YyhhLGIpe2Zvcih2YXIgYz1hLnN1c3BlbmRlZExhbmVzLGQ9YS5waW5nZWRMYW5lcyxlPWEuZXhwaXJhdGlvblRpbWVzLGY9YS5wZW5kaW5nTGFuZXM7MDxmOyl7dmFyIGc9MzEtb2MoZiksaD0xPDxnLGs9ZVtnXTtpZigtMT09PWspe2lmKDA9PT0oaCZjKXx8MCE9PShoJmQpKWVbZ109dmMoaCxiKX1lbHNlIGs8PWImJihhLmV4cGlyZWRMYW5lc3w9aCk7ZiY9fmh9fWZ1bmN0aW9uIHhjKGEpe2E9YS5wZW5kaW5nTGFuZXMmLTEwNzM3NDE4MjU7cmV0dXJuIDAhPT1hP2E6YSYxMDczNzQxODI0PzEwNzM3NDE4MjQ6MH1mdW5jdGlvbiB5Yygpe3ZhciBhPXJjO3JjPDw9MTswPT09KHJjJjQxOTQyNDApJiYocmM9NjQpO3JldHVybiBhfWZ1bmN0aW9uIHpjKGEpe2Zvcih2YXIgYj1bXSxjPTA7MzE+YztjKyspYi5wdXNoKGEpO3JldHVybiBifVxuZnVuY3Rpb24gQWMoYSxiLGMpe2EucGVuZGluZ0xhbmVzfD1iOzUzNjg3MDkxMiE9PWImJihhLnN1c3BlbmRlZExhbmVzPTAsYS5waW5nZWRMYW5lcz0wKTthPWEuZXZlbnRUaW1lcztiPTMxLW9jKGIpO2FbYl09Y31mdW5jdGlvbiBCYyhhLGIpe3ZhciBjPWEucGVuZGluZ0xhbmVzJn5iO2EucGVuZGluZ0xhbmVzPWI7YS5zdXNwZW5kZWRMYW5lcz0wO2EucGluZ2VkTGFuZXM9MDthLmV4cGlyZWRMYW5lcyY9YjthLm11dGFibGVSZWFkTGFuZXMmPWI7YS5lbnRhbmdsZWRMYW5lcyY9YjtiPWEuZW50YW5nbGVtZW50czt2YXIgZD1hLmV2ZW50VGltZXM7Zm9yKGE9YS5leHBpcmF0aW9uVGltZXM7MDxjOyl7dmFyIGU9MzEtb2MoYyksZj0xPDxlO2JbZV09MDtkW2VdPS0xO2FbZV09LTE7YyY9fmZ9fVxuZnVuY3Rpb24gQ2MoYSxiKXt2YXIgYz1hLmVudGFuZ2xlZExhbmVzfD1iO2ZvcihhPWEuZW50YW5nbGVtZW50cztjOyl7dmFyIGQ9MzEtb2MoYyksZT0xPDxkO2UmYnxhW2RdJmImJihhW2RdfD1iKTtjJj1+ZX19dmFyIEM9MDtmdW5jdGlvbiBEYyhhKXthJj0tYTtyZXR1cm4gMTxhPzQ8YT8wIT09KGEmMjY4NDM1NDU1KT8xNjo1MzY4NzA5MTI6NDoxfXZhciBFYyxGYyxHYyxIYyxJYyxKYz0hMSxLYz1bXSxMYz1udWxsLE1jPW51bGwsTmM9bnVsbCxPYz1uZXcgTWFwLFBjPW5ldyBNYXAsUWM9W10sUmM9XCJtb3VzZWRvd24gbW91c2V1cCB0b3VjaGNhbmNlbCB0b3VjaGVuZCB0b3VjaHN0YXJ0IGF1eGNsaWNrIGRibGNsaWNrIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmRvd24gcG9pbnRlcnVwIGRyYWdlbmQgZHJhZ3N0YXJ0IGRyb3AgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IHRleHRJbnB1dCBjb3B5IGN1dCBwYXN0ZSBjbGljayBjaGFuZ2UgY29udGV4dG1lbnUgcmVzZXQgc3VibWl0XCIuc3BsaXQoXCIgXCIpO1xuZnVuY3Rpb24gU2MoYSxiKXtzd2l0Y2goYSl7Y2FzZSBcImZvY3VzaW5cIjpjYXNlIFwiZm9jdXNvdXRcIjpMYz1udWxsO2JyZWFrO2Nhc2UgXCJkcmFnZW50ZXJcIjpjYXNlIFwiZHJhZ2xlYXZlXCI6TWM9bnVsbDticmVhaztjYXNlIFwibW91c2VvdmVyXCI6Y2FzZSBcIm1vdXNlb3V0XCI6TmM9bnVsbDticmVhaztjYXNlIFwicG9pbnRlcm92ZXJcIjpjYXNlIFwicG9pbnRlcm91dFwiOk9jLmRlbGV0ZShiLnBvaW50ZXJJZCk7YnJlYWs7Y2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6Y2FzZSBcImxvc3Rwb2ludGVyY2FwdHVyZVwiOlBjLmRlbGV0ZShiLnBvaW50ZXJJZCl9fVxuZnVuY3Rpb24gVGMoYSxiLGMsZCxlLGYpe2lmKG51bGw9PT1hfHxhLm5hdGl2ZUV2ZW50IT09ZilyZXR1cm4gYT17YmxvY2tlZE9uOmIsZG9tRXZlbnROYW1lOmMsZXZlbnRTeXN0ZW1GbGFnczpkLG5hdGl2ZUV2ZW50OmYsdGFyZ2V0Q29udGFpbmVyczpbZV19LG51bGwhPT1iJiYoYj1DYihiKSxudWxsIT09YiYmRmMoYikpLGE7YS5ldmVudFN5c3RlbUZsYWdzfD1kO2I9YS50YXJnZXRDb250YWluZXJzO251bGwhPT1lJiYtMT09PWIuaW5kZXhPZihlKSYmYi5wdXNoKGUpO3JldHVybiBhfVxuZnVuY3Rpb24gVWMoYSxiLGMsZCxlKXtzd2l0Y2goYil7Y2FzZSBcImZvY3VzaW5cIjpyZXR1cm4gTGM9VGMoTGMsYSxiLGMsZCxlKSwhMDtjYXNlIFwiZHJhZ2VudGVyXCI6cmV0dXJuIE1jPVRjKE1jLGEsYixjLGQsZSksITA7Y2FzZSBcIm1vdXNlb3ZlclwiOnJldHVybiBOYz1UYyhOYyxhLGIsYyxkLGUpLCEwO2Nhc2UgXCJwb2ludGVyb3ZlclwiOnZhciBmPWUucG9pbnRlcklkO09jLnNldChmLFRjKE9jLmdldChmKXx8bnVsbCxhLGIsYyxkLGUpKTtyZXR1cm4hMDtjYXNlIFwiZ290cG9pbnRlcmNhcHR1cmVcIjpyZXR1cm4gZj1lLnBvaW50ZXJJZCxQYy5zZXQoZixUYyhQYy5nZXQoZil8fG51bGwsYSxiLGMsZCxlKSksITB9cmV0dXJuITF9XG5mdW5jdGlvbiBWYyhhKXt2YXIgYj1XYyhhLnRhcmdldCk7aWYobnVsbCE9PWIpe3ZhciBjPVZiKGIpO2lmKG51bGwhPT1jKWlmKGI9Yy50YWcsMTM9PT1iKXtpZihiPVdiKGMpLG51bGwhPT1iKXthLmJsb2NrZWRPbj1iO0ljKGEucHJpb3JpdHksZnVuY3Rpb24oKXtHYyhjKX0pO3JldHVybn19ZWxzZSBpZigzPT09YiYmYy5zdGF0ZU5vZGUuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCl7YS5ibG9ja2VkT249Mz09PWMudGFnP2Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm86bnVsbDtyZXR1cm59fWEuYmxvY2tlZE9uPW51bGx9XG5mdW5jdGlvbiBYYyhhKXtpZihudWxsIT09YS5ibG9ja2VkT24pcmV0dXJuITE7Zm9yKHZhciBiPWEudGFyZ2V0Q29udGFpbmVyczswPGIubGVuZ3RoOyl7dmFyIGM9WWMoYS5kb21FdmVudE5hbWUsYS5ldmVudFN5c3RlbUZsYWdzLGJbMF0sYS5uYXRpdmVFdmVudCk7aWYobnVsbD09PWMpe2M9YS5uYXRpdmVFdmVudDt2YXIgZD1uZXcgYy5jb25zdHJ1Y3RvcihjLnR5cGUsYyk7d2I9ZDtjLnRhcmdldC5kaXNwYXRjaEV2ZW50KGQpO3diPW51bGx9ZWxzZSByZXR1cm4gYj1DYihjKSxudWxsIT09YiYmRmMoYiksYS5ibG9ja2VkT249YywhMTtiLnNoaWZ0KCl9cmV0dXJuITB9ZnVuY3Rpb24gWmMoYSxiLGMpe1hjKGEpJiZjLmRlbGV0ZShiKX1mdW5jdGlvbiAkYygpe0pjPSExO251bGwhPT1MYyYmWGMoTGMpJiYoTGM9bnVsbCk7bnVsbCE9PU1jJiZYYyhNYykmJihNYz1udWxsKTtudWxsIT09TmMmJlhjKE5jKSYmKE5jPW51bGwpO09jLmZvckVhY2goWmMpO1BjLmZvckVhY2goWmMpfVxuZnVuY3Rpb24gYWQoYSxiKXthLmJsb2NrZWRPbj09PWImJihhLmJsb2NrZWRPbj1udWxsLEpjfHwoSmM9ITAsY2EudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhjYS51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSwkYykpKX1cbmZ1bmN0aW9uIGJkKGEpe2Z1bmN0aW9uIGIoYil7cmV0dXJuIGFkKGIsYSl9aWYoMDxLYy5sZW5ndGgpe2FkKEtjWzBdLGEpO2Zvcih2YXIgYz0xO2M8S2MubGVuZ3RoO2MrKyl7dmFyIGQ9S2NbY107ZC5ibG9ja2VkT249PT1hJiYoZC5ibG9ja2VkT249bnVsbCl9fW51bGwhPT1MYyYmYWQoTGMsYSk7bnVsbCE9PU1jJiZhZChNYyxhKTtudWxsIT09TmMmJmFkKE5jLGEpO09jLmZvckVhY2goYik7UGMuZm9yRWFjaChiKTtmb3IoYz0wO2M8UWMubGVuZ3RoO2MrKylkPVFjW2NdLGQuYmxvY2tlZE9uPT09YSYmKGQuYmxvY2tlZE9uPW51bGwpO2Zvcig7MDxRYy5sZW5ndGgmJihjPVFjWzBdLG51bGw9PT1jLmJsb2NrZWRPbik7KVZjKGMpLG51bGw9PT1jLmJsb2NrZWRPbiYmUWMuc2hpZnQoKX12YXIgY2Q9dWEuUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsZGQ9ITA7XG5mdW5jdGlvbiBlZChhLGIsYyxkKXt2YXIgZT1DLGY9Y2QudHJhbnNpdGlvbjtjZC50cmFuc2l0aW9uPW51bGw7dHJ5e0M9MSxmZChhLGIsYyxkKX1maW5hbGx5e0M9ZSxjZC50cmFuc2l0aW9uPWZ9fWZ1bmN0aW9uIGdkKGEsYixjLGQpe3ZhciBlPUMsZj1jZC50cmFuc2l0aW9uO2NkLnRyYW5zaXRpb249bnVsbDt0cnl7Qz00LGZkKGEsYixjLGQpfWZpbmFsbHl7Qz1lLGNkLnRyYW5zaXRpb249Zn19XG5mdW5jdGlvbiBmZChhLGIsYyxkKXtpZihkZCl7dmFyIGU9WWMoYSxiLGMsZCk7aWYobnVsbD09PWUpaGQoYSxiLGQsaWQsYyksU2MoYSxkKTtlbHNlIGlmKFVjKGUsYSxiLGMsZCkpZC5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKFNjKGEsZCksYiY0JiYtMTxSYy5pbmRleE9mKGEpKXtmb3IoO251bGwhPT1lOyl7dmFyIGY9Q2IoZSk7bnVsbCE9PWYmJkVjKGYpO2Y9WWMoYSxiLGMsZCk7bnVsbD09PWYmJmhkKGEsYixkLGlkLGMpO2lmKGY9PT1lKWJyZWFrO2U9Zn1udWxsIT09ZSYmZC5zdG9wUHJvcGFnYXRpb24oKX1lbHNlIGhkKGEsYixkLG51bGwsYyl9fXZhciBpZD1udWxsO1xuZnVuY3Rpb24gWWMoYSxiLGMsZCl7aWQ9bnVsbDthPXhiKGQpO2E9V2MoYSk7aWYobnVsbCE9PWEpaWYoYj1WYihhKSxudWxsPT09YilhPW51bGw7ZWxzZSBpZihjPWIudGFnLDEzPT09Yyl7YT1XYihiKTtpZihudWxsIT09YSlyZXR1cm4gYTthPW51bGx9ZWxzZSBpZigzPT09Yyl7aWYoYi5zdGF0ZU5vZGUuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZClyZXR1cm4gMz09PWIudGFnP2Iuc3RhdGVOb2RlLmNvbnRhaW5lckluZm86bnVsbDthPW51bGx9ZWxzZSBiIT09YSYmKGE9bnVsbCk7aWQ9YTtyZXR1cm4gbnVsbH1cbmZ1bmN0aW9uIGpkKGEpe3N3aXRjaChhKXtjYXNlIFwiY2FuY2VsXCI6Y2FzZSBcImNsaWNrXCI6Y2FzZSBcImNsb3NlXCI6Y2FzZSBcImNvbnRleHRtZW51XCI6Y2FzZSBcImNvcHlcIjpjYXNlIFwiY3V0XCI6Y2FzZSBcImF1eGNsaWNrXCI6Y2FzZSBcImRibGNsaWNrXCI6Y2FzZSBcImRyYWdlbmRcIjpjYXNlIFwiZHJhZ3N0YXJ0XCI6Y2FzZSBcImRyb3BcIjpjYXNlIFwiZm9jdXNpblwiOmNhc2UgXCJmb2N1c291dFwiOmNhc2UgXCJpbnB1dFwiOmNhc2UgXCJpbnZhbGlkXCI6Y2FzZSBcImtleWRvd25cIjpjYXNlIFwia2V5cHJlc3NcIjpjYXNlIFwia2V5dXBcIjpjYXNlIFwibW91c2Vkb3duXCI6Y2FzZSBcIm1vdXNldXBcIjpjYXNlIFwicGFzdGVcIjpjYXNlIFwicGF1c2VcIjpjYXNlIFwicGxheVwiOmNhc2UgXCJwb2ludGVyY2FuY2VsXCI6Y2FzZSBcInBvaW50ZXJkb3duXCI6Y2FzZSBcInBvaW50ZXJ1cFwiOmNhc2UgXCJyYXRlY2hhbmdlXCI6Y2FzZSBcInJlc2V0XCI6Y2FzZSBcInJlc2l6ZVwiOmNhc2UgXCJzZWVrZWRcIjpjYXNlIFwic3VibWl0XCI6Y2FzZSBcInRvdWNoY2FuY2VsXCI6Y2FzZSBcInRvdWNoZW5kXCI6Y2FzZSBcInRvdWNoc3RhcnRcIjpjYXNlIFwidm9sdW1lY2hhbmdlXCI6Y2FzZSBcImNoYW5nZVwiOmNhc2UgXCJzZWxlY3Rpb25jaGFuZ2VcIjpjYXNlIFwidGV4dElucHV0XCI6Y2FzZSBcImNvbXBvc2l0aW9uc3RhcnRcIjpjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpjYXNlIFwiY29tcG9zaXRpb251cGRhdGVcIjpjYXNlIFwiYmVmb3JlYmx1clwiOmNhc2UgXCJhZnRlcmJsdXJcIjpjYXNlIFwiYmVmb3JlaW5wdXRcIjpjYXNlIFwiYmx1clwiOmNhc2UgXCJmdWxsc2NyZWVuY2hhbmdlXCI6Y2FzZSBcImZvY3VzXCI6Y2FzZSBcImhhc2hjaGFuZ2VcIjpjYXNlIFwicG9wc3RhdGVcIjpjYXNlIFwic2VsZWN0XCI6Y2FzZSBcInNlbGVjdHN0YXJ0XCI6cmV0dXJuIDE7Y2FzZSBcImRyYWdcIjpjYXNlIFwiZHJhZ2VudGVyXCI6Y2FzZSBcImRyYWdleGl0XCI6Y2FzZSBcImRyYWdsZWF2ZVwiOmNhc2UgXCJkcmFnb3ZlclwiOmNhc2UgXCJtb3VzZW1vdmVcIjpjYXNlIFwibW91c2VvdXRcIjpjYXNlIFwibW91c2VvdmVyXCI6Y2FzZSBcInBvaW50ZXJtb3ZlXCI6Y2FzZSBcInBvaW50ZXJvdXRcIjpjYXNlIFwicG9pbnRlcm92ZXJcIjpjYXNlIFwic2Nyb2xsXCI6Y2FzZSBcInRvZ2dsZVwiOmNhc2UgXCJ0b3VjaG1vdmVcIjpjYXNlIFwid2hlZWxcIjpjYXNlIFwibW91c2VlbnRlclwiOmNhc2UgXCJtb3VzZWxlYXZlXCI6Y2FzZSBcInBvaW50ZXJlbnRlclwiOmNhc2UgXCJwb2ludGVybGVhdmVcIjpyZXR1cm4gNDtcbmNhc2UgXCJtZXNzYWdlXCI6c3dpdGNoKGVjKCkpe2Nhc2UgZmM6cmV0dXJuIDE7Y2FzZSBnYzpyZXR1cm4gNDtjYXNlIGhjOmNhc2UgaWM6cmV0dXJuIDE2O2Nhc2UgamM6cmV0dXJuIDUzNjg3MDkxMjtkZWZhdWx0OnJldHVybiAxNn1kZWZhdWx0OnJldHVybiAxNn19dmFyIGtkPW51bGwsbGQ9bnVsbCxtZD1udWxsO2Z1bmN0aW9uIG5kKCl7aWYobWQpcmV0dXJuIG1kO3ZhciBhLGI9bGQsYz1iLmxlbmd0aCxkLGU9XCJ2YWx1ZVwiaW4ga2Q/a2QudmFsdWU6a2QudGV4dENvbnRlbnQsZj1lLmxlbmd0aDtmb3IoYT0wO2E8YyYmYlthXT09PWVbYV07YSsrKTt2YXIgZz1jLWE7Zm9yKGQ9MTtkPD1nJiZiW2MtZF09PT1lW2YtZF07ZCsrKTtyZXR1cm4gbWQ9ZS5zbGljZShhLDE8ZD8xLWQ6dm9pZCAwKX1cbmZ1bmN0aW9uIG9kKGEpe3ZhciBiPWEua2V5Q29kZTtcImNoYXJDb2RlXCJpbiBhPyhhPWEuY2hhckNvZGUsMD09PWEmJjEzPT09YiYmKGE9MTMpKTphPWI7MTA9PT1hJiYoYT0xMyk7cmV0dXJuIDMyPD1hfHwxMz09PWE/YTowfWZ1bmN0aW9uIHBkKCl7cmV0dXJuITB9ZnVuY3Rpb24gcWQoKXtyZXR1cm4hMX1cbmZ1bmN0aW9uIHJkKGEpe2Z1bmN0aW9uIGIoYixkLGUsZixnKXt0aGlzLl9yZWFjdE5hbWU9Yjt0aGlzLl90YXJnZXRJbnN0PWU7dGhpcy50eXBlPWQ7dGhpcy5uYXRpdmVFdmVudD1mO3RoaXMudGFyZ2V0PWc7dGhpcy5jdXJyZW50VGFyZ2V0PW51bGw7Zm9yKHZhciBjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmKGI9YVtjXSx0aGlzW2NdPWI/YihmKTpmW2NdKTt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD0obnVsbCE9Zi5kZWZhdWx0UHJldmVudGVkP2YuZGVmYXVsdFByZXZlbnRlZDohMT09PWYucmV0dXJuVmFsdWUpP3BkOnFkO3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9cWQ7cmV0dXJuIHRoaXN9QShiLnByb3RvdHlwZSx7cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITA7dmFyIGE9dGhpcy5uYXRpdmVFdmVudDthJiYoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6XCJ1bmtub3duXCIhPT10eXBlb2YgYS5yZXR1cm5WYWx1ZSYmXG4oYS5yZXR1cm5WYWx1ZT0hMSksdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cGQpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5hdGl2ZUV2ZW50O2EmJihhLnN0b3BQcm9wYWdhdGlvbj9hLnN0b3BQcm9wYWdhdGlvbigpOlwidW5rbm93blwiIT09dHlwZW9mIGEuY2FuY2VsQnViYmxlJiYoYS5jYW5jZWxCdWJibGU9ITApLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9cGQpfSxwZXJzaXN0OmZ1bmN0aW9uKCl7fSxpc1BlcnNpc3RlbnQ6cGR9KTtyZXR1cm4gYn1cbnZhciBzZD17ZXZlbnRQaGFzZTowLGJ1YmJsZXM6MCxjYW5jZWxhYmxlOjAsdGltZVN0YW1wOmZ1bmN0aW9uKGEpe3JldHVybiBhLnRpbWVTdGFtcHx8RGF0ZS5ub3coKX0sZGVmYXVsdFByZXZlbnRlZDowLGlzVHJ1c3RlZDowfSx0ZD1yZChzZCksdWQ9QSh7fSxzZCx7dmlldzowLGRldGFpbDowfSksdmQ9cmQodWQpLHdkLHhkLHlkLEFkPUEoe30sdWQse3NjcmVlblg6MCxzY3JlZW5ZOjAsY2xpZW50WDowLGNsaWVudFk6MCxwYWdlWDowLHBhZ2VZOjAsY3RybEtleTowLHNoaWZ0S2V5OjAsYWx0S2V5OjAsbWV0YUtleTowLGdldE1vZGlmaWVyU3RhdGU6emQsYnV0dG9uOjAsYnV0dG9uczowLHJlbGF0ZWRUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWEucmVsYXRlZFRhcmdldD9hLmZyb21FbGVtZW50PT09YS5zcmNFbGVtZW50P2EudG9FbGVtZW50OmEuZnJvbUVsZW1lbnQ6YS5yZWxhdGVkVGFyZ2V0fSxtb3ZlbWVudFg6ZnVuY3Rpb24oYSl7aWYoXCJtb3ZlbWVudFhcImluXG5hKXJldHVybiBhLm1vdmVtZW50WDthIT09eWQmJih5ZCYmXCJtb3VzZW1vdmVcIj09PWEudHlwZT8od2Q9YS5zY3JlZW5YLXlkLnNjcmVlblgseGQ9YS5zY3JlZW5ZLXlkLnNjcmVlblkpOnhkPXdkPTAseWQ9YSk7cmV0dXJuIHdkfSxtb3ZlbWVudFk6ZnVuY3Rpb24oYSl7cmV0dXJuXCJtb3ZlbWVudFlcImluIGE/YS5tb3ZlbWVudFk6eGR9fSksQmQ9cmQoQWQpLENkPUEoe30sQWQse2RhdGFUcmFuc2ZlcjowfSksRGQ9cmQoQ2QpLEVkPUEoe30sdWQse3JlbGF0ZWRUYXJnZXQ6MH0pLEZkPXJkKEVkKSxHZD1BKHt9LHNkLHthbmltYXRpb25OYW1lOjAsZWxhcHNlZFRpbWU6MCxwc2V1ZG9FbGVtZW50OjB9KSxIZD1yZChHZCksSWQ9QSh7fSxzZCx7Y2xpcGJvYXJkRGF0YTpmdW5jdGlvbihhKXtyZXR1cm5cImNsaXBib2FyZERhdGFcImluIGE/YS5jbGlwYm9hcmREYXRhOndpbmRvdy5jbGlwYm9hcmREYXRhfX0pLEpkPXJkKElkKSxLZD1BKHt9LHNkLHtkYXRhOjB9KSxMZD1yZChLZCksTWQ9e0VzYzpcIkVzY2FwZVwiLFxuU3BhY2ViYXI6XCIgXCIsTGVmdDpcIkFycm93TGVmdFwiLFVwOlwiQXJyb3dVcFwiLFJpZ2h0OlwiQXJyb3dSaWdodFwiLERvd246XCJBcnJvd0Rvd25cIixEZWw6XCJEZWxldGVcIixXaW46XCJPU1wiLE1lbnU6XCJDb250ZXh0TWVudVwiLEFwcHM6XCJDb250ZXh0TWVudVwiLFNjcm9sbDpcIlNjcm9sbExvY2tcIixNb3pQcmludGFibGVLZXk6XCJVbmlkZW50aWZpZWRcIn0sTmQ9ezg6XCJCYWNrc3BhY2VcIiw5OlwiVGFiXCIsMTI6XCJDbGVhclwiLDEzOlwiRW50ZXJcIiwxNjpcIlNoaWZ0XCIsMTc6XCJDb250cm9sXCIsMTg6XCJBbHRcIiwxOTpcIlBhdXNlXCIsMjA6XCJDYXBzTG9ja1wiLDI3OlwiRXNjYXBlXCIsMzI6XCIgXCIsMzM6XCJQYWdlVXBcIiwzNDpcIlBhZ2VEb3duXCIsMzU6XCJFbmRcIiwzNjpcIkhvbWVcIiwzNzpcIkFycm93TGVmdFwiLDM4OlwiQXJyb3dVcFwiLDM5OlwiQXJyb3dSaWdodFwiLDQwOlwiQXJyb3dEb3duXCIsNDU6XCJJbnNlcnRcIiw0NjpcIkRlbGV0ZVwiLDExMjpcIkYxXCIsMTEzOlwiRjJcIiwxMTQ6XCJGM1wiLDExNTpcIkY0XCIsMTE2OlwiRjVcIiwxMTc6XCJGNlwiLDExODpcIkY3XCIsXG4xMTk6XCJGOFwiLDEyMDpcIkY5XCIsMTIxOlwiRjEwXCIsMTIyOlwiRjExXCIsMTIzOlwiRjEyXCIsMTQ0OlwiTnVtTG9ja1wiLDE0NTpcIlNjcm9sbExvY2tcIiwyMjQ6XCJNZXRhXCJ9LE9kPXtBbHQ6XCJhbHRLZXlcIixDb250cm9sOlwiY3RybEtleVwiLE1ldGE6XCJtZXRhS2V5XCIsU2hpZnQ6XCJzaGlmdEtleVwifTtmdW5jdGlvbiBQZChhKXt2YXIgYj10aGlzLm5hdGl2ZUV2ZW50O3JldHVybiBiLmdldE1vZGlmaWVyU3RhdGU/Yi5nZXRNb2RpZmllclN0YXRlKGEpOihhPU9kW2FdKT8hIWJbYV06ITF9ZnVuY3Rpb24gemQoKXtyZXR1cm4gUGR9XG52YXIgUWQ9QSh7fSx1ZCx7a2V5OmZ1bmN0aW9uKGEpe2lmKGEua2V5KXt2YXIgYj1NZFthLmtleV18fGEua2V5O2lmKFwiVW5pZGVudGlmaWVkXCIhPT1iKXJldHVybiBifXJldHVyblwia2V5cHJlc3NcIj09PWEudHlwZT8oYT1vZChhKSwxMz09PWE/XCJFbnRlclwiOlN0cmluZy5mcm9tQ2hhckNvZGUoYSkpOlwia2V5ZG93blwiPT09YS50eXBlfHxcImtleXVwXCI9PT1hLnR5cGU/TmRbYS5rZXlDb2RlXXx8XCJVbmlkZW50aWZpZWRcIjpcIlwifSxjb2RlOjAsbG9jYXRpb246MCxjdHJsS2V5OjAsc2hpZnRLZXk6MCxhbHRLZXk6MCxtZXRhS2V5OjAscmVwZWF0OjAsbG9jYWxlOjAsZ2V0TW9kaWZpZXJTdGF0ZTp6ZCxjaGFyQ29kZTpmdW5jdGlvbihhKXtyZXR1cm5cImtleXByZXNzXCI9PT1hLnR5cGU/b2QoYSk6MH0sa2V5Q29kZTpmdW5jdGlvbihhKXtyZXR1cm5cImtleWRvd25cIj09PWEudHlwZXx8XCJrZXl1cFwiPT09YS50eXBlP2Eua2V5Q29kZTowfSx3aGljaDpmdW5jdGlvbihhKXtyZXR1cm5cImtleXByZXNzXCI9PT1cbmEudHlwZT9vZChhKTpcImtleWRvd25cIj09PWEudHlwZXx8XCJrZXl1cFwiPT09YS50eXBlP2Eua2V5Q29kZTowfX0pLFJkPXJkKFFkKSxTZD1BKHt9LEFkLHtwb2ludGVySWQ6MCx3aWR0aDowLGhlaWdodDowLHByZXNzdXJlOjAsdGFuZ2VudGlhbFByZXNzdXJlOjAsdGlsdFg6MCx0aWx0WTowLHR3aXN0OjAscG9pbnRlclR5cGU6MCxpc1ByaW1hcnk6MH0pLFRkPXJkKFNkKSxVZD1BKHt9LHVkLHt0b3VjaGVzOjAsdGFyZ2V0VG91Y2hlczowLGNoYW5nZWRUb3VjaGVzOjAsYWx0S2V5OjAsbWV0YUtleTowLGN0cmxLZXk6MCxzaGlmdEtleTowLGdldE1vZGlmaWVyU3RhdGU6emR9KSxWZD1yZChVZCksV2Q9QSh7fSxzZCx7cHJvcGVydHlOYW1lOjAsZWxhcHNlZFRpbWU6MCxwc2V1ZG9FbGVtZW50OjB9KSxYZD1yZChXZCksWWQ9QSh7fSxBZCx7ZGVsdGFYOmZ1bmN0aW9uKGEpe3JldHVyblwiZGVsdGFYXCJpbiBhP2EuZGVsdGFYOlwid2hlZWxEZWx0YVhcImluIGE/LWEud2hlZWxEZWx0YVg6MH0sXG5kZWx0YVk6ZnVuY3Rpb24oYSl7cmV0dXJuXCJkZWx0YVlcImluIGE/YS5kZWx0YVk6XCJ3aGVlbERlbHRhWVwiaW4gYT8tYS53aGVlbERlbHRhWTpcIndoZWVsRGVsdGFcImluIGE/LWEud2hlZWxEZWx0YTowfSxkZWx0YVo6MCxkZWx0YU1vZGU6MH0pLFpkPXJkKFlkKSwkZD1bOSwxMywyNywzMl0sYWU9aWEmJlwiQ29tcG9zaXRpb25FdmVudFwiaW4gd2luZG93LGJlPW51bGw7aWEmJlwiZG9jdW1lbnRNb2RlXCJpbiBkb2N1bWVudCYmKGJlPWRvY3VtZW50LmRvY3VtZW50TW9kZSk7dmFyIGNlPWlhJiZcIlRleHRFdmVudFwiaW4gd2luZG93JiYhYmUsZGU9aWEmJighYWV8fGJlJiY4PGJlJiYxMT49YmUpLGVlPVN0cmluZy5mcm9tQ2hhckNvZGUoMzIpLGZlPSExO1xuZnVuY3Rpb24gZ2UoYSxiKXtzd2l0Y2goYSl7Y2FzZSBcImtleXVwXCI6cmV0dXJuLTEhPT0kZC5pbmRleE9mKGIua2V5Q29kZSk7Y2FzZSBcImtleWRvd25cIjpyZXR1cm4gMjI5IT09Yi5rZXlDb2RlO2Nhc2UgXCJrZXlwcmVzc1wiOmNhc2UgXCJtb3VzZWRvd25cIjpjYXNlIFwiZm9jdXNvdXRcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBoZShhKXthPWEuZGV0YWlsO3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmXCJkYXRhXCJpbiBhP2EuZGF0YTpudWxsfXZhciBpZT0hMTtmdW5jdGlvbiBqZShhLGIpe3N3aXRjaChhKXtjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpyZXR1cm4gaGUoYik7Y2FzZSBcImtleXByZXNzXCI6aWYoMzIhPT1iLndoaWNoKXJldHVybiBudWxsO2ZlPSEwO3JldHVybiBlZTtjYXNlIFwidGV4dElucHV0XCI6cmV0dXJuIGE9Yi5kYXRhLGE9PT1lZSYmZmU/bnVsbDphO2RlZmF1bHQ6cmV0dXJuIG51bGx9fVxuZnVuY3Rpb24ga2UoYSxiKXtpZihpZSlyZXR1cm5cImNvbXBvc2l0aW9uZW5kXCI9PT1hfHwhYWUmJmdlKGEsYik/KGE9bmQoKSxtZD1sZD1rZD1udWxsLGllPSExLGEpOm51bGw7c3dpdGNoKGEpe2Nhc2UgXCJwYXN0ZVwiOnJldHVybiBudWxsO2Nhc2UgXCJrZXlwcmVzc1wiOmlmKCEoYi5jdHJsS2V5fHxiLmFsdEtleXx8Yi5tZXRhS2V5KXx8Yi5jdHJsS2V5JiZiLmFsdEtleSl7aWYoYi5jaGFyJiYxPGIuY2hhci5sZW5ndGgpcmV0dXJuIGIuY2hhcjtpZihiLndoaWNoKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGIud2hpY2gpfXJldHVybiBudWxsO2Nhc2UgXCJjb21wb3NpdGlvbmVuZFwiOnJldHVybiBkZSYmXCJrb1wiIT09Yi5sb2NhbGU/bnVsbDpiLmRhdGE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19XG52YXIgbGU9e2NvbG9yOiEwLGRhdGU6ITAsZGF0ZXRpbWU6ITAsXCJkYXRldGltZS1sb2NhbFwiOiEwLGVtYWlsOiEwLG1vbnRoOiEwLG51bWJlcjohMCxwYXNzd29yZDohMCxyYW5nZTohMCxzZWFyY2g6ITAsdGVsOiEwLHRleHQ6ITAsdGltZTohMCx1cmw6ITAsd2VlazohMH07ZnVuY3Rpb24gbWUoYSl7dmFyIGI9YSYmYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWI/ISFsZVthLnR5cGVdOlwidGV4dGFyZWFcIj09PWI/ITA6ITF9ZnVuY3Rpb24gbmUoYSxiLGMsZCl7RWIoZCk7Yj1vZShiLFwib25DaGFuZ2VcIik7MDxiLmxlbmd0aCYmKGM9bmV3IHRkKFwib25DaGFuZ2VcIixcImNoYW5nZVwiLG51bGwsYyxkKSxhLnB1c2goe2V2ZW50OmMsbGlzdGVuZXJzOmJ9KSl9dmFyIHBlPW51bGwscWU9bnVsbDtmdW5jdGlvbiByZShhKXtzZShhLDApfWZ1bmN0aW9uIHRlKGEpe3ZhciBiPXVlKGEpO2lmKFdhKGIpKXJldHVybiBhfVxuZnVuY3Rpb24gdmUoYSxiKXtpZihcImNoYW5nZVwiPT09YSlyZXR1cm4gYn12YXIgd2U9ITE7aWYoaWEpe3ZhciB4ZTtpZihpYSl7dmFyIHllPVwib25pbnB1dFwiaW4gZG9jdW1lbnQ7aWYoIXllKXt2YXIgemU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt6ZS5zZXRBdHRyaWJ1dGUoXCJvbmlucHV0XCIsXCJyZXR1cm47XCIpO3llPVwiZnVuY3Rpb25cIj09PXR5cGVvZiB6ZS5vbmlucHV0fXhlPXllfWVsc2UgeGU9ITE7d2U9eGUmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PGRvY3VtZW50LmRvY3VtZW50TW9kZSl9ZnVuY3Rpb24gQWUoKXtwZSYmKHBlLmRldGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLEJlKSxxZT1wZT1udWxsKX1mdW5jdGlvbiBCZShhKXtpZihcInZhbHVlXCI9PT1hLnByb3BlcnR5TmFtZSYmdGUocWUpKXt2YXIgYj1bXTtuZShiLHFlLGEseGIoYSkpO0piKHJlLGIpfX1cbmZ1bmN0aW9uIENlKGEsYixjKXtcImZvY3VzaW5cIj09PWE/KEFlKCkscGU9YixxZT1jLHBlLmF0dGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLEJlKSk6XCJmb2N1c291dFwiPT09YSYmQWUoKX1mdW5jdGlvbiBEZShhKXtpZihcInNlbGVjdGlvbmNoYW5nZVwiPT09YXx8XCJrZXl1cFwiPT09YXx8XCJrZXlkb3duXCI9PT1hKXJldHVybiB0ZShxZSl9ZnVuY3Rpb24gRWUoYSxiKXtpZihcImNsaWNrXCI9PT1hKXJldHVybiB0ZShiKX1mdW5jdGlvbiBGZShhLGIpe2lmKFwiaW5wdXRcIj09PWF8fFwiY2hhbmdlXCI9PT1hKXJldHVybiB0ZShiKX1mdW5jdGlvbiBHZShhLGIpe3JldHVybiBhPT09YiYmKDAhPT1hfHwxL2E9PT0xL2IpfHxhIT09YSYmYiE9PWJ9dmFyIEhlPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBPYmplY3QuaXM/T2JqZWN0LmlzOkdlO1xuZnVuY3Rpb24gSWUoYSxiKXtpZihIZShhLGIpKXJldHVybiEwO2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8bnVsbD09PWF8fFwib2JqZWN0XCIhPT10eXBlb2YgYnx8bnVsbD09PWIpcmV0dXJuITE7dmFyIGM9T2JqZWN0LmtleXMoYSksZD1PYmplY3Qua2V5cyhiKTtpZihjLmxlbmd0aCE9PWQubGVuZ3RoKXJldHVybiExO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07aWYoIWphLmNhbGwoYixlKXx8IUhlKGFbZV0sYltlXSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gSmUoYSl7Zm9yKDthJiZhLmZpcnN0Q2hpbGQ7KWE9YS5maXJzdENoaWxkO3JldHVybiBhfVxuZnVuY3Rpb24gS2UoYSxiKXt2YXIgYz1KZShhKTthPTA7Zm9yKHZhciBkO2M7KXtpZigzPT09Yy5ub2RlVHlwZSl7ZD1hK2MudGV4dENvbnRlbnQubGVuZ3RoO2lmKGE8PWImJmQ+PWIpcmV0dXJue25vZGU6YyxvZmZzZXQ6Yi1hfTthPWR9YTp7Zm9yKDtjOyl7aWYoYy5uZXh0U2libGluZyl7Yz1jLm5leHRTaWJsaW5nO2JyZWFrIGF9Yz1jLnBhcmVudE5vZGV9Yz12b2lkIDB9Yz1KZShjKX19ZnVuY3Rpb24gTGUoYSxiKXtyZXR1cm4gYSYmYj9hPT09Yj8hMDphJiYzPT09YS5ub2RlVHlwZT8hMTpiJiYzPT09Yi5ub2RlVHlwZT9MZShhLGIucGFyZW50Tm9kZSk6XCJjb250YWluc1wiaW4gYT9hLmNvbnRhaW5zKGIpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ISEoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSYxNik6ITE6ITF9XG5mdW5jdGlvbiBNZSgpe2Zvcih2YXIgYT13aW5kb3csYj1YYSgpO2IgaW5zdGFuY2VvZiBhLkhUTUxJRnJhbWVFbGVtZW50Oyl7dHJ5e3ZhciBjPVwic3RyaW5nXCI9PT10eXBlb2YgYi5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWZ9Y2F0Y2goZCl7Yz0hMX1pZihjKWE9Yi5jb250ZW50V2luZG93O2Vsc2UgYnJlYWs7Yj1YYShhLmRvY3VtZW50KX1yZXR1cm4gYn1mdW5jdGlvbiBOZShhKXt2YXIgYj1hJiZhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGImJihcImlucHV0XCI9PT1iJiYoXCJ0ZXh0XCI9PT1hLnR5cGV8fFwic2VhcmNoXCI9PT1hLnR5cGV8fFwidGVsXCI9PT1hLnR5cGV8fFwidXJsXCI9PT1hLnR5cGV8fFwicGFzc3dvcmRcIj09PWEudHlwZSl8fFwidGV4dGFyZWFcIj09PWJ8fFwidHJ1ZVwiPT09YS5jb250ZW50RWRpdGFibGUpfVxuZnVuY3Rpb24gT2UoYSl7dmFyIGI9TWUoKSxjPWEuZm9jdXNlZEVsZW0sZD1hLnNlbGVjdGlvblJhbmdlO2lmKGIhPT1jJiZjJiZjLm93bmVyRG9jdW1lbnQmJkxlKGMub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYykpe2lmKG51bGwhPT1kJiZOZShjKSlpZihiPWQuc3RhcnQsYT1kLmVuZCx2b2lkIDA9PT1hJiYoYT1iKSxcInNlbGVjdGlvblN0YXJ0XCJpbiBjKWMuc2VsZWN0aW9uU3RhcnQ9YixjLnNlbGVjdGlvbkVuZD1NYXRoLm1pbihhLGMudmFsdWUubGVuZ3RoKTtlbHNlIGlmKGE9KGI9Yy5vd25lckRvY3VtZW50fHxkb2N1bWVudCkmJmIuZGVmYXVsdFZpZXd8fHdpbmRvdyxhLmdldFNlbGVjdGlvbil7YT1hLmdldFNlbGVjdGlvbigpO3ZhciBlPWMudGV4dENvbnRlbnQubGVuZ3RoLGY9TWF0aC5taW4oZC5zdGFydCxlKTtkPXZvaWQgMD09PWQuZW5kP2Y6TWF0aC5taW4oZC5lbmQsZSk7IWEuZXh0ZW5kJiZmPmQmJihlPWQsZD1mLGY9ZSk7ZT1LZShjLGYpO3ZhciBnPUtlKGMsXG5kKTtlJiZnJiYoMSE9PWEucmFuZ2VDb3VudHx8YS5hbmNob3JOb2RlIT09ZS5ub2RlfHxhLmFuY2hvck9mZnNldCE9PWUub2Zmc2V0fHxhLmZvY3VzTm9kZSE9PWcubm9kZXx8YS5mb2N1c09mZnNldCE9PWcub2Zmc2V0KSYmKGI9Yi5jcmVhdGVSYW5nZSgpLGIuc2V0U3RhcnQoZS5ub2RlLGUub2Zmc2V0KSxhLnJlbW92ZUFsbFJhbmdlcygpLGY+ZD8oYS5hZGRSYW5nZShiKSxhLmV4dGVuZChnLm5vZGUsZy5vZmZzZXQpKTooYi5zZXRFbmQoZy5ub2RlLGcub2Zmc2V0KSxhLmFkZFJhbmdlKGIpKSl9Yj1bXTtmb3IoYT1jO2E9YS5wYXJlbnROb2RlOykxPT09YS5ub2RlVHlwZSYmYi5wdXNoKHtlbGVtZW50OmEsbGVmdDphLnNjcm9sbExlZnQsdG9wOmEuc2Nyb2xsVG9wfSk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGMuZm9jdXMmJmMuZm9jdXMoKTtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWE9YltjXSxhLmVsZW1lbnQuc2Nyb2xsTGVmdD1hLmxlZnQsYS5lbGVtZW50LnNjcm9sbFRvcD1hLnRvcH19XG52YXIgUGU9aWEmJlwiZG9jdW1lbnRNb2RlXCJpbiBkb2N1bWVudCYmMTE+PWRvY3VtZW50LmRvY3VtZW50TW9kZSxRZT1udWxsLFJlPW51bGwsU2U9bnVsbCxUZT0hMTtcbmZ1bmN0aW9uIFVlKGEsYixjKXt2YXIgZD1jLndpbmRvdz09PWM/Yy5kb2N1bWVudDo5PT09Yy5ub2RlVHlwZT9jOmMub3duZXJEb2N1bWVudDtUZXx8bnVsbD09UWV8fFFlIT09WGEoZCl8fChkPVFlLFwic2VsZWN0aW9uU3RhcnRcImluIGQmJk5lKGQpP2Q9e3N0YXJ0OmQuc2VsZWN0aW9uU3RhcnQsZW5kOmQuc2VsZWN0aW9uRW5kfTooZD0oZC5vd25lckRvY3VtZW50JiZkLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uKCksZD17YW5jaG9yTm9kZTpkLmFuY2hvck5vZGUsYW5jaG9yT2Zmc2V0OmQuYW5jaG9yT2Zmc2V0LGZvY3VzTm9kZTpkLmZvY3VzTm9kZSxmb2N1c09mZnNldDpkLmZvY3VzT2Zmc2V0fSksU2UmJkllKFNlLGQpfHwoU2U9ZCxkPW9lKFJlLFwib25TZWxlY3RcIiksMDxkLmxlbmd0aCYmKGI9bmV3IHRkKFwib25TZWxlY3RcIixcInNlbGVjdFwiLG51bGwsYixjKSxhLnB1c2goe2V2ZW50OmIsbGlzdGVuZXJzOmR9KSxiLnRhcmdldD1RZSkpKX1cbmZ1bmN0aW9uIFZlKGEsYil7dmFyIGM9e307Y1thLnRvTG93ZXJDYXNlKCldPWIudG9Mb3dlckNhc2UoKTtjW1wiV2Via2l0XCIrYV09XCJ3ZWJraXRcIitiO2NbXCJNb3pcIithXT1cIm1velwiK2I7cmV0dXJuIGN9dmFyIFdlPXthbmltYXRpb25lbmQ6VmUoXCJBbmltYXRpb25cIixcIkFuaW1hdGlvbkVuZFwiKSxhbmltYXRpb25pdGVyYXRpb246VmUoXCJBbmltYXRpb25cIixcIkFuaW1hdGlvbkl0ZXJhdGlvblwiKSxhbmltYXRpb25zdGFydDpWZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uU3RhcnRcIiksdHJhbnNpdGlvbmVuZDpWZShcIlRyYW5zaXRpb25cIixcIlRyYW5zaXRpb25FbmRcIil9LFhlPXt9LFllPXt9O1xuaWEmJihZZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlLFwiQW5pbWF0aW9uRXZlbnRcImluIHdpbmRvd3x8KGRlbGV0ZSBXZS5hbmltYXRpb25lbmQuYW5pbWF0aW9uLGRlbGV0ZSBXZS5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uLGRlbGV0ZSBXZS5hbmltYXRpb25zdGFydC5hbmltYXRpb24pLFwiVHJhbnNpdGlvbkV2ZW50XCJpbiB3aW5kb3d8fGRlbGV0ZSBXZS50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb24pO2Z1bmN0aW9uIFplKGEpe2lmKFhlW2FdKXJldHVybiBYZVthXTtpZighV2VbYV0pcmV0dXJuIGE7dmFyIGI9V2VbYV0sYztmb3IoYyBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoYykmJmMgaW4gWWUpcmV0dXJuIFhlW2FdPWJbY107cmV0dXJuIGF9dmFyICRlPVplKFwiYW5pbWF0aW9uZW5kXCIpLGFmPVplKFwiYW5pbWF0aW9uaXRlcmF0aW9uXCIpLGJmPVplKFwiYW5pbWF0aW9uc3RhcnRcIiksY2Y9WmUoXCJ0cmFuc2l0aW9uZW5kXCIpLGRmPW5ldyBNYXAsZWY9XCJhYm9ydCBhdXhDbGljayBjYW5jZWwgY2FuUGxheSBjYW5QbGF5VGhyb3VnaCBjbGljayBjbG9zZSBjb250ZXh0TWVudSBjb3B5IGN1dCBkcmFnIGRyYWdFbmQgZHJhZ0VudGVyIGRyYWdFeGl0IGRyYWdMZWF2ZSBkcmFnT3ZlciBkcmFnU3RhcnQgZHJvcCBkdXJhdGlvbkNoYW5nZSBlbXB0aWVkIGVuY3J5cHRlZCBlbmRlZCBlcnJvciBnb3RQb2ludGVyQ2FwdHVyZSBpbnB1dCBpbnZhbGlkIGtleURvd24ga2V5UHJlc3Mga2V5VXAgbG9hZCBsb2FkZWREYXRhIGxvYWRlZE1ldGFkYXRhIGxvYWRTdGFydCBsb3N0UG9pbnRlckNhcHR1cmUgbW91c2VEb3duIG1vdXNlTW92ZSBtb3VzZU91dCBtb3VzZU92ZXIgbW91c2VVcCBwYXN0ZSBwYXVzZSBwbGF5IHBsYXlpbmcgcG9pbnRlckNhbmNlbCBwb2ludGVyRG93biBwb2ludGVyTW92ZSBwb2ludGVyT3V0IHBvaW50ZXJPdmVyIHBvaW50ZXJVcCBwcm9ncmVzcyByYXRlQ2hhbmdlIHJlc2V0IHJlc2l6ZSBzZWVrZWQgc2Vla2luZyBzdGFsbGVkIHN1Ym1pdCBzdXNwZW5kIHRpbWVVcGRhdGUgdG91Y2hDYW5jZWwgdG91Y2hFbmQgdG91Y2hTdGFydCB2b2x1bWVDaGFuZ2Ugc2Nyb2xsIHRvZ2dsZSB0b3VjaE1vdmUgd2FpdGluZyB3aGVlbFwiLnNwbGl0KFwiIFwiKTtcbmZ1bmN0aW9uIGZmKGEsYil7ZGYuc2V0KGEsYik7ZmEoYixbYV0pfWZvcih2YXIgZ2Y9MDtnZjxlZi5sZW5ndGg7Z2YrKyl7dmFyIGhmPWVmW2dmXSxqZj1oZi50b0xvd2VyQ2FzZSgpLGtmPWhmWzBdLnRvVXBwZXJDYXNlKCkraGYuc2xpY2UoMSk7ZmYoamYsXCJvblwiK2tmKX1mZigkZSxcIm9uQW5pbWF0aW9uRW5kXCIpO2ZmKGFmLFwib25BbmltYXRpb25JdGVyYXRpb25cIik7ZmYoYmYsXCJvbkFuaW1hdGlvblN0YXJ0XCIpO2ZmKFwiZGJsY2xpY2tcIixcIm9uRG91YmxlQ2xpY2tcIik7ZmYoXCJmb2N1c2luXCIsXCJvbkZvY3VzXCIpO2ZmKFwiZm9jdXNvdXRcIixcIm9uQmx1clwiKTtmZihjZixcIm9uVHJhbnNpdGlvbkVuZFwiKTtoYShcIm9uTW91c2VFbnRlclwiLFtcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIl0pO2hhKFwib25Nb3VzZUxlYXZlXCIsW1wibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiXSk7aGEoXCJvblBvaW50ZXJFbnRlclwiLFtcInBvaW50ZXJvdXRcIixcInBvaW50ZXJvdmVyXCJdKTtcbmhhKFwib25Qb2ludGVyTGVhdmVcIixbXCJwb2ludGVyb3V0XCIsXCJwb2ludGVyb3ZlclwiXSk7ZmEoXCJvbkNoYW5nZVwiLFwiY2hhbmdlIGNsaWNrIGZvY3VzaW4gZm9jdXNvdXQgaW5wdXQga2V5ZG93biBrZXl1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcIiBcIikpO2ZhKFwib25TZWxlY3RcIixcImZvY3Vzb3V0IGNvbnRleHRtZW51IGRyYWdlbmQgZm9jdXNpbiBrZXlkb3duIGtleXVwIG1vdXNlZG93biBtb3VzZXVwIHNlbGVjdGlvbmNoYW5nZVwiLnNwbGl0KFwiIFwiKSk7ZmEoXCJvbkJlZm9yZUlucHV0XCIsW1wiY29tcG9zaXRpb25lbmRcIixcImtleXByZXNzXCIsXCJ0ZXh0SW5wdXRcIixcInBhc3RlXCJdKTtmYShcIm9uQ29tcG9zaXRpb25FbmRcIixcImNvbXBvc2l0aW9uZW5kIGZvY3Vzb3V0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpKTtmYShcIm9uQ29tcG9zaXRpb25TdGFydFwiLFwiY29tcG9zaXRpb25zdGFydCBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKSk7XG5mYShcIm9uQ29tcG9zaXRpb25VcGRhdGVcIixcImNvbXBvc2l0aW9udXBkYXRlIGZvY3Vzb3V0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpKTt2YXIgbGY9XCJhYm9ydCBjYW5wbGF5IGNhbnBsYXl0aHJvdWdoIGR1cmF0aW9uY2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGxvYWRlZGRhdGEgbG9hZGVkbWV0YWRhdGEgbG9hZHN0YXJ0IHBhdXNlIHBsYXkgcGxheWluZyBwcm9ncmVzcyByYXRlY2hhbmdlIHJlc2l6ZSBzZWVrZWQgc2Vla2luZyBzdGFsbGVkIHN1c3BlbmQgdGltZXVwZGF0ZSB2b2x1bWVjaGFuZ2Ugd2FpdGluZ1wiLnNwbGl0KFwiIFwiKSxtZj1uZXcgU2V0KFwiY2FuY2VsIGNsb3NlIGludmFsaWQgbG9hZCBzY3JvbGwgdG9nZ2xlXCIuc3BsaXQoXCIgXCIpLmNvbmNhdChsZikpO1xuZnVuY3Rpb24gbmYoYSxiLGMpe3ZhciBkPWEudHlwZXx8XCJ1bmtub3duLWV2ZW50XCI7YS5jdXJyZW50VGFyZ2V0PWM7VWIoZCxiLHZvaWQgMCxhKTthLmN1cnJlbnRUYXJnZXQ9bnVsbH1cbmZ1bmN0aW9uIHNlKGEsYil7Yj0wIT09KGImNCk7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10sZT1kLmV2ZW50O2Q9ZC5saXN0ZW5lcnM7YTp7dmFyIGY9dm9pZCAwO2lmKGIpZm9yKHZhciBnPWQubGVuZ3RoLTE7MDw9ZztnLS0pe3ZhciBoPWRbZ10saz1oLmluc3RhbmNlLGw9aC5jdXJyZW50VGFyZ2V0O2g9aC5saXN0ZW5lcjtpZihrIT09ZiYmZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrIGE7bmYoZSxoLGwpO2Y9a31lbHNlIGZvcihnPTA7ZzxkLmxlbmd0aDtnKyspe2g9ZFtnXTtrPWguaW5zdGFuY2U7bD1oLmN1cnJlbnRUYXJnZXQ7aD1oLmxpc3RlbmVyO2lmKGshPT1mJiZlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYnJlYWsgYTtuZihlLGgsbCk7Zj1rfX19aWYoUWIpdGhyb3cgYT1SYixRYj0hMSxSYj1udWxsLGE7fVxuZnVuY3Rpb24gRChhLGIpe3ZhciBjPWJbb2ZdO3ZvaWQgMD09PWMmJihjPWJbb2ZdPW5ldyBTZXQpO3ZhciBkPWErXCJfX2J1YmJsZVwiO2MuaGFzKGQpfHwocGYoYixhLDIsITEpLGMuYWRkKGQpKX1mdW5jdGlvbiBxZihhLGIsYyl7dmFyIGQ9MDtiJiYoZHw9NCk7cGYoYyxhLGQsYil9dmFyIHJmPVwiX3JlYWN0TGlzdGVuaW5nXCIrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7ZnVuY3Rpb24gc2YoYSl7aWYoIWFbcmZdKXthW3JmXT0hMDtkYS5mb3JFYWNoKGZ1bmN0aW9uKGIpe1wic2VsZWN0aW9uY2hhbmdlXCIhPT1iJiYobWYuaGFzKGIpfHxxZihiLCExLGEpLHFmKGIsITAsYSkpfSk7dmFyIGI9OT09PWEubm9kZVR5cGU/YTphLm93bmVyRG9jdW1lbnQ7bnVsbD09PWJ8fGJbcmZdfHwoYltyZl09ITAscWYoXCJzZWxlY3Rpb25jaGFuZ2VcIiwhMSxiKSl9fVxuZnVuY3Rpb24gcGYoYSxiLGMsZCl7c3dpdGNoKGpkKGIpKXtjYXNlIDE6dmFyIGU9ZWQ7YnJlYWs7Y2FzZSA0OmU9Z2Q7YnJlYWs7ZGVmYXVsdDplPWZkfWM9ZS5iaW5kKG51bGwsYixjLGEpO2U9dm9pZCAwOyFMYnx8XCJ0b3VjaHN0YXJ0XCIhPT1iJiZcInRvdWNobW92ZVwiIT09YiYmXCJ3aGVlbFwiIT09Ynx8KGU9ITApO2Q/dm9pZCAwIT09ZT9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLHtjYXB0dXJlOiEwLHBhc3NpdmU6ZX0pOmEuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITApOnZvaWQgMCE9PWU/YS5hZGRFdmVudExpc3RlbmVyKGIsYyx7cGFzc2l2ZTplfSk6YS5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9XG5mdW5jdGlvbiBoZChhLGIsYyxkLGUpe3ZhciBmPWQ7aWYoMD09PShiJjEpJiYwPT09KGImMikmJm51bGwhPT1kKWE6Zm9yKDs7KXtpZihudWxsPT09ZClyZXR1cm47dmFyIGc9ZC50YWc7aWYoMz09PWd8fDQ9PT1nKXt2YXIgaD1kLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO2lmKGg9PT1lfHw4PT09aC5ub2RlVHlwZSYmaC5wYXJlbnROb2RlPT09ZSlicmVhaztpZig0PT09Zylmb3IoZz1kLnJldHVybjtudWxsIT09Zzspe3ZhciBrPWcudGFnO2lmKDM9PT1rfHw0PT09aylpZihrPWcuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8saz09PWV8fDg9PT1rLm5vZGVUeXBlJiZrLnBhcmVudE5vZGU9PT1lKXJldHVybjtnPWcucmV0dXJufWZvcig7bnVsbCE9PWg7KXtnPVdjKGgpO2lmKG51bGw9PT1nKXJldHVybjtrPWcudGFnO2lmKDU9PT1rfHw2PT09ayl7ZD1mPWc7Y29udGludWUgYX1oPWgucGFyZW50Tm9kZX19ZD1kLnJldHVybn1KYihmdW5jdGlvbigpe3ZhciBkPWYsZT14YihjKSxnPVtdO1xuYTp7dmFyIGg9ZGYuZ2V0KGEpO2lmKHZvaWQgMCE9PWgpe3ZhciBrPXRkLG49YTtzd2l0Y2goYSl7Y2FzZSBcImtleXByZXNzXCI6aWYoMD09PW9kKGMpKWJyZWFrIGE7Y2FzZSBcImtleWRvd25cIjpjYXNlIFwia2V5dXBcIjprPVJkO2JyZWFrO2Nhc2UgXCJmb2N1c2luXCI6bj1cImZvY3VzXCI7az1GZDticmVhaztjYXNlIFwiZm9jdXNvdXRcIjpuPVwiYmx1clwiO2s9RmQ7YnJlYWs7Y2FzZSBcImJlZm9yZWJsdXJcIjpjYXNlIFwiYWZ0ZXJibHVyXCI6az1GZDticmVhaztjYXNlIFwiY2xpY2tcIjppZigyPT09Yy5idXR0b24pYnJlYWsgYTtjYXNlIFwiYXV4Y2xpY2tcIjpjYXNlIFwiZGJsY2xpY2tcIjpjYXNlIFwibW91c2Vkb3duXCI6Y2FzZSBcIm1vdXNlbW92ZVwiOmNhc2UgXCJtb3VzZXVwXCI6Y2FzZSBcIm1vdXNlb3V0XCI6Y2FzZSBcIm1vdXNlb3ZlclwiOmNhc2UgXCJjb250ZXh0bWVudVwiOms9QmQ7YnJlYWs7Y2FzZSBcImRyYWdcIjpjYXNlIFwiZHJhZ2VuZFwiOmNhc2UgXCJkcmFnZW50ZXJcIjpjYXNlIFwiZHJhZ2V4aXRcIjpjYXNlIFwiZHJhZ2xlYXZlXCI6Y2FzZSBcImRyYWdvdmVyXCI6Y2FzZSBcImRyYWdzdGFydFwiOmNhc2UgXCJkcm9wXCI6az1cbkRkO2JyZWFrO2Nhc2UgXCJ0b3VjaGNhbmNlbFwiOmNhc2UgXCJ0b3VjaGVuZFwiOmNhc2UgXCJ0b3VjaG1vdmVcIjpjYXNlIFwidG91Y2hzdGFydFwiOms9VmQ7YnJlYWs7Y2FzZSAkZTpjYXNlIGFmOmNhc2UgYmY6az1IZDticmVhaztjYXNlIGNmOms9WGQ7YnJlYWs7Y2FzZSBcInNjcm9sbFwiOms9dmQ7YnJlYWs7Y2FzZSBcIndoZWVsXCI6az1aZDticmVhaztjYXNlIFwiY29weVwiOmNhc2UgXCJjdXRcIjpjYXNlIFwicGFzdGVcIjprPUpkO2JyZWFrO2Nhc2UgXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2UgXCJsb3N0cG9pbnRlcmNhcHR1cmVcIjpjYXNlIFwicG9pbnRlcmNhbmNlbFwiOmNhc2UgXCJwb2ludGVyZG93blwiOmNhc2UgXCJwb2ludGVybW92ZVwiOmNhc2UgXCJwb2ludGVyb3V0XCI6Y2FzZSBcInBvaW50ZXJvdmVyXCI6Y2FzZSBcInBvaW50ZXJ1cFwiOms9VGR9dmFyIHQ9MCE9PShiJjQpLEo9IXQmJlwic2Nyb2xsXCI9PT1hLHg9dD9udWxsIT09aD9oK1wiQ2FwdHVyZVwiOm51bGw6aDt0PVtdO2Zvcih2YXIgdz1kLHU7bnVsbCE9PVxudzspe3U9dzt2YXIgRj11LnN0YXRlTm9kZTs1PT09dS50YWcmJm51bGwhPT1GJiYodT1GLG51bGwhPT14JiYoRj1LYih3LHgpLG51bGwhPUYmJnQucHVzaCh0Zih3LEYsdSkpKSk7aWYoSilicmVhazt3PXcucmV0dXJufTA8dC5sZW5ndGgmJihoPW5ldyBrKGgsbixudWxsLGMsZSksZy5wdXNoKHtldmVudDpoLGxpc3RlbmVyczp0fSkpfX1pZigwPT09KGImNykpe2E6e2g9XCJtb3VzZW92ZXJcIj09PWF8fFwicG9pbnRlcm92ZXJcIj09PWE7az1cIm1vdXNlb3V0XCI9PT1hfHxcInBvaW50ZXJvdXRcIj09PWE7aWYoaCYmYyE9PXdiJiYobj1jLnJlbGF0ZWRUYXJnZXR8fGMuZnJvbUVsZW1lbnQpJiYoV2Mobil8fG5bdWZdKSlicmVhayBhO2lmKGt8fGgpe2g9ZS53aW5kb3c9PT1lP2U6KGg9ZS5vd25lckRvY3VtZW50KT9oLmRlZmF1bHRWaWV3fHxoLnBhcmVudFdpbmRvdzp3aW5kb3c7aWYoayl7aWYobj1jLnJlbGF0ZWRUYXJnZXR8fGMudG9FbGVtZW50LGs9ZCxuPW4/V2Mobik6bnVsbCxudWxsIT09XG5uJiYoSj1WYihuKSxuIT09Snx8NSE9PW4udGFnJiY2IT09bi50YWcpKW49bnVsbH1lbHNlIGs9bnVsbCxuPWQ7aWYoayE9PW4pe3Q9QmQ7Rj1cIm9uTW91c2VMZWF2ZVwiO3g9XCJvbk1vdXNlRW50ZXJcIjt3PVwibW91c2VcIjtpZihcInBvaW50ZXJvdXRcIj09PWF8fFwicG9pbnRlcm92ZXJcIj09PWEpdD1UZCxGPVwib25Qb2ludGVyTGVhdmVcIix4PVwib25Qb2ludGVyRW50ZXJcIix3PVwicG9pbnRlclwiO0o9bnVsbD09az9oOnVlKGspO3U9bnVsbD09bj9oOnVlKG4pO2g9bmV3IHQoRix3K1wibGVhdmVcIixrLGMsZSk7aC50YXJnZXQ9SjtoLnJlbGF0ZWRUYXJnZXQ9dTtGPW51bGw7V2MoZSk9PT1kJiYodD1uZXcgdCh4LHcrXCJlbnRlclwiLG4sYyxlKSx0LnRhcmdldD11LHQucmVsYXRlZFRhcmdldD1KLEY9dCk7Sj1GO2lmKGsmJm4pYjp7dD1rO3g9bjt3PTA7Zm9yKHU9dDt1O3U9dmYodSkpdysrO3U9MDtmb3IoRj14O0Y7Rj12ZihGKSl1Kys7Zm9yKDswPHctdTspdD12Zih0KSx3LS07Zm9yKDswPHUtdzspeD1cbnZmKHgpLHUtLTtmb3IoO3ctLTspe2lmKHQ9PT14fHxudWxsIT09eCYmdD09PXguYWx0ZXJuYXRlKWJyZWFrIGI7dD12Zih0KTt4PXZmKHgpfXQ9bnVsbH1lbHNlIHQ9bnVsbDtudWxsIT09ayYmd2YoZyxoLGssdCwhMSk7bnVsbCE9PW4mJm51bGwhPT1KJiZ3ZihnLEosbix0LCEwKX19fWE6e2g9ZD91ZShkKTp3aW5kb3c7az1oLm5vZGVOYW1lJiZoLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoXCJzZWxlY3RcIj09PWt8fFwiaW5wdXRcIj09PWsmJlwiZmlsZVwiPT09aC50eXBlKXZhciBuYT12ZTtlbHNlIGlmKG1lKGgpKWlmKHdlKW5hPUZlO2Vsc2V7bmE9RGU7dmFyIHhhPUNlfWVsc2Uoaz1oLm5vZGVOYW1lKSYmXCJpbnB1dFwiPT09ay50b0xvd2VyQ2FzZSgpJiYoXCJjaGVja2JveFwiPT09aC50eXBlfHxcInJhZGlvXCI9PT1oLnR5cGUpJiYobmE9RWUpO2lmKG5hJiYobmE9bmEoYSxkKSkpe25lKGcsbmEsYyxlKTticmVhayBhfXhhJiZ4YShhLGgsZCk7XCJmb2N1c291dFwiPT09YSYmKHhhPWguX3dyYXBwZXJTdGF0ZSkmJlxueGEuY29udHJvbGxlZCYmXCJudW1iZXJcIj09PWgudHlwZSYmY2IoaCxcIm51bWJlclwiLGgudmFsdWUpfXhhPWQ/dWUoZCk6d2luZG93O3N3aXRjaChhKXtjYXNlIFwiZm9jdXNpblwiOmlmKG1lKHhhKXx8XCJ0cnVlXCI9PT14YS5jb250ZW50RWRpdGFibGUpUWU9eGEsUmU9ZCxTZT1udWxsO2JyZWFrO2Nhc2UgXCJmb2N1c291dFwiOlNlPVJlPVFlPW51bGw7YnJlYWs7Y2FzZSBcIm1vdXNlZG93blwiOlRlPSEwO2JyZWFrO2Nhc2UgXCJjb250ZXh0bWVudVwiOmNhc2UgXCJtb3VzZXVwXCI6Y2FzZSBcImRyYWdlbmRcIjpUZT0hMTtVZShnLGMsZSk7YnJlYWs7Y2FzZSBcInNlbGVjdGlvbmNoYW5nZVwiOmlmKFBlKWJyZWFrO2Nhc2UgXCJrZXlkb3duXCI6Y2FzZSBcImtleXVwXCI6VWUoZyxjLGUpfXZhciAkYTtpZihhZSliOntzd2l0Y2goYSl7Y2FzZSBcImNvbXBvc2l0aW9uc3RhcnRcIjp2YXIgYmE9XCJvbkNvbXBvc2l0aW9uU3RhcnRcIjticmVhayBiO2Nhc2UgXCJjb21wb3NpdGlvbmVuZFwiOmJhPVwib25Db21wb3NpdGlvbkVuZFwiO1xuYnJlYWsgYjtjYXNlIFwiY29tcG9zaXRpb251cGRhdGVcIjpiYT1cIm9uQ29tcG9zaXRpb25VcGRhdGVcIjticmVhayBifWJhPXZvaWQgMH1lbHNlIGllP2dlKGEsYykmJihiYT1cIm9uQ29tcG9zaXRpb25FbmRcIik6XCJrZXlkb3duXCI9PT1hJiYyMjk9PT1jLmtleUNvZGUmJihiYT1cIm9uQ29tcG9zaXRpb25TdGFydFwiKTtiYSYmKGRlJiZcImtvXCIhPT1jLmxvY2FsZSYmKGllfHxcIm9uQ29tcG9zaXRpb25TdGFydFwiIT09YmE/XCJvbkNvbXBvc2l0aW9uRW5kXCI9PT1iYSYmaWUmJigkYT1uZCgpKTooa2Q9ZSxsZD1cInZhbHVlXCJpbiBrZD9rZC52YWx1ZTprZC50ZXh0Q29udGVudCxpZT0hMCkpLHhhPW9lKGQsYmEpLDA8eGEubGVuZ3RoJiYoYmE9bmV3IExkKGJhLGEsbnVsbCxjLGUpLGcucHVzaCh7ZXZlbnQ6YmEsbGlzdGVuZXJzOnhhfSksJGE/YmEuZGF0YT0kYTooJGE9aGUoYyksbnVsbCE9PSRhJiYoYmEuZGF0YT0kYSkpKSk7aWYoJGE9Y2U/amUoYSxjKTprZShhLGMpKWQ9b2UoZCxcIm9uQmVmb3JlSW5wdXRcIiksXG4wPGQubGVuZ3RoJiYoZT1uZXcgTGQoXCJvbkJlZm9yZUlucHV0XCIsXCJiZWZvcmVpbnB1dFwiLG51bGwsYyxlKSxnLnB1c2goe2V2ZW50OmUsbGlzdGVuZXJzOmR9KSxlLmRhdGE9JGEpfXNlKGcsYil9KX1mdW5jdGlvbiB0ZihhLGIsYyl7cmV0dXJue2luc3RhbmNlOmEsbGlzdGVuZXI6YixjdXJyZW50VGFyZ2V0OmN9fWZ1bmN0aW9uIG9lKGEsYil7Zm9yKHZhciBjPWIrXCJDYXB0dXJlXCIsZD1bXTtudWxsIT09YTspe3ZhciBlPWEsZj1lLnN0YXRlTm9kZTs1PT09ZS50YWcmJm51bGwhPT1mJiYoZT1mLGY9S2IoYSxjKSxudWxsIT1mJiZkLnVuc2hpZnQodGYoYSxmLGUpKSxmPUtiKGEsYiksbnVsbCE9ZiYmZC5wdXNoKHRmKGEsZixlKSkpO2E9YS5yZXR1cm59cmV0dXJuIGR9ZnVuY3Rpb24gdmYoYSl7aWYobnVsbD09PWEpcmV0dXJuIG51bGw7ZG8gYT1hLnJldHVybjt3aGlsZShhJiY1IT09YS50YWcpO3JldHVybiBhP2E6bnVsbH1cbmZ1bmN0aW9uIHdmKGEsYixjLGQsZSl7Zm9yKHZhciBmPWIuX3JlYWN0TmFtZSxnPVtdO251bGwhPT1jJiZjIT09ZDspe3ZhciBoPWMsaz1oLmFsdGVybmF0ZSxsPWguc3RhdGVOb2RlO2lmKG51bGwhPT1rJiZrPT09ZClicmVhazs1PT09aC50YWcmJm51bGwhPT1sJiYoaD1sLGU/KGs9S2IoYyxmKSxudWxsIT1rJiZnLnVuc2hpZnQodGYoYyxrLGgpKSk6ZXx8KGs9S2IoYyxmKSxudWxsIT1rJiZnLnB1c2godGYoYyxrLGgpKSkpO2M9Yy5yZXR1cm59MCE9PWcubGVuZ3RoJiZhLnB1c2goe2V2ZW50OmIsbGlzdGVuZXJzOmd9KX12YXIgeGY9L1xcclxcbj8vZyx5Zj0vXFx1MDAwMHxcXHVGRkZEL2c7ZnVuY3Rpb24gemYoYSl7cmV0dXJuKFwic3RyaW5nXCI9PT10eXBlb2YgYT9hOlwiXCIrYSkucmVwbGFjZSh4ZixcIlxcblwiKS5yZXBsYWNlKHlmLFwiXCIpfWZ1bmN0aW9uIEFmKGEsYixjKXtiPXpmKGIpO2lmKHpmKGEpIT09YiYmYyl0aHJvdyBFcnJvcihwKDQyNSkpO31mdW5jdGlvbiBCZigpe31cbnZhciBDZj1udWxsLERmPW51bGw7ZnVuY3Rpb24gRWYoYSxiKXtyZXR1cm5cInRleHRhcmVhXCI9PT1hfHxcIm5vc2NyaXB0XCI9PT1hfHxcInN0cmluZ1wiPT09dHlwZW9mIGIuY2hpbGRyZW58fFwibnVtYmVyXCI9PT10eXBlb2YgYi5jaGlsZHJlbnx8XCJvYmplY3RcIj09PXR5cGVvZiBiLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZudWxsIT09Yi5kYW5nZXJvdXNseVNldElubmVySFRNTCYmbnVsbCE9Yi5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWx9XG52YXIgRmY9XCJmdW5jdGlvblwiPT09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDp2b2lkIDAsR2Y9XCJmdW5jdGlvblwiPT09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6dm9pZCAwLEhmPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBQcm9taXNlP1Byb21pc2U6dm9pZCAwLEpmPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBxdWV1ZU1pY3JvdGFzaz9xdWV1ZU1pY3JvdGFzazpcInVuZGVmaW5lZFwiIT09dHlwZW9mIEhmP2Z1bmN0aW9uKGEpe3JldHVybiBIZi5yZXNvbHZlKG51bGwpLnRoZW4oYSkuY2F0Y2goSWYpfTpGZjtmdW5jdGlvbiBJZihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYTt9KX1cbmZ1bmN0aW9uIEtmKGEsYil7dmFyIGM9YixkPTA7ZG97dmFyIGU9Yy5uZXh0U2libGluZzthLnJlbW92ZUNoaWxkKGMpO2lmKGUmJjg9PT1lLm5vZGVUeXBlKWlmKGM9ZS5kYXRhLFwiLyRcIj09PWMpe2lmKDA9PT1kKXthLnJlbW92ZUNoaWxkKGUpO2JkKGIpO3JldHVybn1kLS19ZWxzZVwiJFwiIT09YyYmXCIkP1wiIT09YyYmXCIkIVwiIT09Y3x8ZCsrO2M9ZX13aGlsZShjKTtiZChiKX1mdW5jdGlvbiBMZihhKXtmb3IoO251bGwhPWE7YT1hLm5leHRTaWJsaW5nKXt2YXIgYj1hLm5vZGVUeXBlO2lmKDE9PT1ifHwzPT09YilicmVhaztpZig4PT09Yil7Yj1hLmRhdGE7aWYoXCIkXCI9PT1ifHxcIiQhXCI9PT1ifHxcIiQ/XCI9PT1iKWJyZWFrO2lmKFwiLyRcIj09PWIpcmV0dXJuIG51bGx9fXJldHVybiBhfVxuZnVuY3Rpb24gTWYoYSl7YT1hLnByZXZpb3VzU2libGluZztmb3IodmFyIGI9MDthOyl7aWYoOD09PWEubm9kZVR5cGUpe3ZhciBjPWEuZGF0YTtpZihcIiRcIj09PWN8fFwiJCFcIj09PWN8fFwiJD9cIj09PWMpe2lmKDA9PT1iKXJldHVybiBhO2ItLX1lbHNlXCIvJFwiPT09YyYmYisrfWE9YS5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9dmFyIE5mPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLE9mPVwiX19yZWFjdEZpYmVyJFwiK05mLFBmPVwiX19yZWFjdFByb3BzJFwiK05mLHVmPVwiX19yZWFjdENvbnRhaW5lciRcIitOZixvZj1cIl9fcmVhY3RFdmVudHMkXCIrTmYsUWY9XCJfX3JlYWN0TGlzdGVuZXJzJFwiK05mLFJmPVwiX19yZWFjdEhhbmRsZXMkXCIrTmY7XG5mdW5jdGlvbiBXYyhhKXt2YXIgYj1hW09mXTtpZihiKXJldHVybiBiO2Zvcih2YXIgYz1hLnBhcmVudE5vZGU7Yzspe2lmKGI9Y1t1Zl18fGNbT2ZdKXtjPWIuYWx0ZXJuYXRlO2lmKG51bGwhPT1iLmNoaWxkfHxudWxsIT09YyYmbnVsbCE9PWMuY2hpbGQpZm9yKGE9TWYoYSk7bnVsbCE9PWE7KXtpZihjPWFbT2ZdKXJldHVybiBjO2E9TWYoYSl9cmV0dXJuIGJ9YT1jO2M9YS5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIENiKGEpe2E9YVtPZl18fGFbdWZdO3JldHVybiFhfHw1IT09YS50YWcmJjYhPT1hLnRhZyYmMTMhPT1hLnRhZyYmMyE9PWEudGFnP251bGw6YX1mdW5jdGlvbiB1ZShhKXtpZig1PT09YS50YWd8fDY9PT1hLnRhZylyZXR1cm4gYS5zdGF0ZU5vZGU7dGhyb3cgRXJyb3IocCgzMykpO31mdW5jdGlvbiBEYihhKXtyZXR1cm4gYVtQZl18fG51bGx9dmFyIFNmPVtdLFRmPS0xO2Z1bmN0aW9uIFVmKGEpe3JldHVybntjdXJyZW50OmF9fVxuZnVuY3Rpb24gRShhKXswPlRmfHwoYS5jdXJyZW50PVNmW1RmXSxTZltUZl09bnVsbCxUZi0tKX1mdW5jdGlvbiBHKGEsYil7VGYrKztTZltUZl09YS5jdXJyZW50O2EuY3VycmVudD1ifXZhciBWZj17fSxIPVVmKFZmKSxXZj1VZighMSksWGY9VmY7ZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1hLnR5cGUuY29udGV4dFR5cGVzO2lmKCFjKXJldHVybiBWZjt2YXIgZD1hLnN0YXRlTm9kZTtpZihkJiZkLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQ9PT1iKXJldHVybiBkLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0O3ZhciBlPXt9LGY7Zm9yKGYgaW4gYyllW2ZdPWJbZl07ZCYmKGE9YS5zdGF0ZU5vZGUsYS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PWIsYS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1lKTtyZXR1cm4gZX1cbmZ1bmN0aW9uIFpmKGEpe2E9YS5jaGlsZENvbnRleHRUeXBlcztyZXR1cm4gbnVsbCE9PWEmJnZvaWQgMCE9PWF9ZnVuY3Rpb24gJGYoKXtFKFdmKTtFKEgpfWZ1bmN0aW9uIGFnKGEsYixjKXtpZihILmN1cnJlbnQhPT1WZil0aHJvdyBFcnJvcihwKDE2OCkpO0coSCxiKTtHKFdmLGMpfWZ1bmN0aW9uIGJnKGEsYixjKXt2YXIgZD1hLnN0YXRlTm9kZTtiPWIuY2hpbGRDb250ZXh0VHlwZXM7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIGQuZ2V0Q2hpbGRDb250ZXh0KXJldHVybiBjO2Q9ZC5nZXRDaGlsZENvbnRleHQoKTtmb3IodmFyIGUgaW4gZClpZighKGUgaW4gYikpdGhyb3cgRXJyb3IocCgxMDgsUmEoYSl8fFwiVW5rbm93blwiLGUpKTtyZXR1cm4gQSh7fSxjLGQpfVxuZnVuY3Rpb24gY2coYSl7YT0oYT1hLnN0YXRlTm9kZSkmJmEuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHR8fFZmO1hmPUguY3VycmVudDtHKEgsYSk7RyhXZixXZi5jdXJyZW50KTtyZXR1cm4hMH1mdW5jdGlvbiBkZyhhLGIsYyl7dmFyIGQ9YS5zdGF0ZU5vZGU7aWYoIWQpdGhyb3cgRXJyb3IocCgxNjkpKTtjPyhhPWJnKGEsYixYZiksZC5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dD1hLEUoV2YpLEUoSCksRyhILGEpKTpFKFdmKTtHKFdmLGMpfXZhciBlZz1udWxsLGZnPSExLGdnPSExO2Z1bmN0aW9uIGhnKGEpe251bGw9PT1lZz9lZz1bYV06ZWcucHVzaChhKX1mdW5jdGlvbiBpZyhhKXtmZz0hMDtoZyhhKX1cbmZ1bmN0aW9uIGpnKCl7aWYoIWdnJiZudWxsIT09ZWcpe2dnPSEwO3ZhciBhPTAsYj1DO3RyeXt2YXIgYz1lZztmb3IoQz0xO2E8Yy5sZW5ndGg7YSsrKXt2YXIgZD1jW2FdO2RvIGQ9ZCghMCk7d2hpbGUobnVsbCE9PWQpfWVnPW51bGw7Zmc9ITF9Y2F0Y2goZSl7dGhyb3cgbnVsbCE9PWVnJiYoZWc9ZWcuc2xpY2UoYSsxKSksYWMoZmMsamcpLGU7fWZpbmFsbHl7Qz1iLGdnPSExfX1yZXR1cm4gbnVsbH12YXIga2c9W10sbGc9MCxtZz1udWxsLG5nPTAsb2c9W10scGc9MCxxZz1udWxsLHJnPTEsc2c9XCJcIjtmdW5jdGlvbiB0ZyhhLGIpe2tnW2xnKytdPW5nO2tnW2xnKytdPW1nO21nPWE7bmc9Yn1cbmZ1bmN0aW9uIHVnKGEsYixjKXtvZ1twZysrXT1yZztvZ1twZysrXT1zZztvZ1twZysrXT1xZztxZz1hO3ZhciBkPXJnO2E9c2c7dmFyIGU9MzItb2MoZCktMTtkJj1+KDE8PGUpO2MrPTE7dmFyIGY9MzItb2MoYikrZTtpZigzMDxmKXt2YXIgZz1lLWUlNTtmPShkJigxPDxnKS0xKS50b1N0cmluZygzMik7ZD4+PWc7ZS09ZztyZz0xPDwzMi1vYyhiKStlfGM8PGV8ZDtzZz1mK2F9ZWxzZSByZz0xPDxmfGM8PGV8ZCxzZz1hfWZ1bmN0aW9uIHZnKGEpe251bGwhPT1hLnJldHVybiYmKHRnKGEsMSksdWcoYSwxLDApKX1mdW5jdGlvbiB3ZyhhKXtmb3IoO2E9PT1tZzspbWc9a2dbLS1sZ10sa2dbbGddPW51bGwsbmc9a2dbLS1sZ10sa2dbbGddPW51bGw7Zm9yKDthPT09cWc7KXFnPW9nWy0tcGddLG9nW3BnXT1udWxsLHNnPW9nWy0tcGddLG9nW3BnXT1udWxsLHJnPW9nWy0tcGddLG9nW3BnXT1udWxsfXZhciB4Zz1udWxsLHlnPW51bGwsST0hMSx6Zz1udWxsO1xuZnVuY3Rpb24gQWcoYSxiKXt2YXIgYz1CZyg1LG51bGwsbnVsbCwwKTtjLmVsZW1lbnRUeXBlPVwiREVMRVRFRFwiO2Muc3RhdGVOb2RlPWI7Yy5yZXR1cm49YTtiPWEuZGVsZXRpb25zO251bGw9PT1iPyhhLmRlbGV0aW9ucz1bY10sYS5mbGFnc3w9MTYpOmIucHVzaChjKX1cbmZ1bmN0aW9uIENnKGEsYil7c3dpdGNoKGEudGFnKXtjYXNlIDU6dmFyIGM9YS50eXBlO2I9MSE9PWIubm9kZVR5cGV8fGMudG9Mb3dlckNhc2UoKSE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9udWxsOmI7cmV0dXJuIG51bGwhPT1iPyhhLnN0YXRlTm9kZT1iLHhnPWEseWc9TGYoYi5maXJzdENoaWxkKSwhMCk6ITE7Y2FzZSA2OnJldHVybiBiPVwiXCI9PT1hLnBlbmRpbmdQcm9wc3x8MyE9PWIubm9kZVR5cGU/bnVsbDpiLG51bGwhPT1iPyhhLnN0YXRlTm9kZT1iLHhnPWEseWc9bnVsbCwhMCk6ITE7Y2FzZSAxMzpyZXR1cm4gYj04IT09Yi5ub2RlVHlwZT9udWxsOmIsbnVsbCE9PWI/KGM9bnVsbCE9PXFnP3tpZDpyZyxvdmVyZmxvdzpzZ306bnVsbCxhLm1lbW9pemVkU3RhdGU9e2RlaHlkcmF0ZWQ6Yix0cmVlQ29udGV4dDpjLHJldHJ5TGFuZToxMDczNzQxODI0fSxjPUJnKDE4LG51bGwsbnVsbCwwKSxjLnN0YXRlTm9kZT1iLGMucmV0dXJuPWEsYS5jaGlsZD1jLHhnPWEseWc9XG5udWxsLCEwKTohMTtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBEZyhhKXtyZXR1cm4gMCE9PShhLm1vZGUmMSkmJjA9PT0oYS5mbGFncyYxMjgpfWZ1bmN0aW9uIEVnKGEpe2lmKEkpe3ZhciBiPXlnO2lmKGIpe3ZhciBjPWI7aWYoIUNnKGEsYikpe2lmKERnKGEpKXRocm93IEVycm9yKHAoNDE4KSk7Yj1MZihjLm5leHRTaWJsaW5nKTt2YXIgZD14ZztiJiZDZyhhLGIpP0FnKGQsYyk6KGEuZmxhZ3M9YS5mbGFncyYtNDA5N3wyLEk9ITEseGc9YSl9fWVsc2V7aWYoRGcoYSkpdGhyb3cgRXJyb3IocCg0MTgpKTthLmZsYWdzPWEuZmxhZ3MmLTQwOTd8MjtJPSExO3hnPWF9fX1mdW5jdGlvbiBGZyhhKXtmb3IoYT1hLnJldHVybjtudWxsIT09YSYmNSE9PWEudGFnJiYzIT09YS50YWcmJjEzIT09YS50YWc7KWE9YS5yZXR1cm47eGc9YX1cbmZ1bmN0aW9uIEdnKGEpe2lmKGEhPT14ZylyZXR1cm4hMTtpZighSSlyZXR1cm4gRmcoYSksST0hMCwhMTt2YXIgYjsoYj0zIT09YS50YWcpJiYhKGI9NSE9PWEudGFnKSYmKGI9YS50eXBlLGI9XCJoZWFkXCIhPT1iJiZcImJvZHlcIiE9PWImJiFFZihhLnR5cGUsYS5tZW1vaXplZFByb3BzKSk7aWYoYiYmKGI9eWcpKXtpZihEZyhhKSl0aHJvdyBIZygpLEVycm9yKHAoNDE4KSk7Zm9yKDtiOylBZyhhLGIpLGI9TGYoYi5uZXh0U2libGluZyl9RmcoYSk7aWYoMTM9PT1hLnRhZyl7YT1hLm1lbW9pemVkU3RhdGU7YT1udWxsIT09YT9hLmRlaHlkcmF0ZWQ6bnVsbDtpZighYSl0aHJvdyBFcnJvcihwKDMxNykpO2E6e2E9YS5uZXh0U2libGluZztmb3IoYj0wO2E7KXtpZig4PT09YS5ub2RlVHlwZSl7dmFyIGM9YS5kYXRhO2lmKFwiLyRcIj09PWMpe2lmKDA9PT1iKXt5Zz1MZihhLm5leHRTaWJsaW5nKTticmVhayBhfWItLX1lbHNlXCIkXCIhPT1jJiZcIiQhXCIhPT1jJiZcIiQ/XCIhPT1jfHxiKyt9YT1hLm5leHRTaWJsaW5nfXlnPVxubnVsbH19ZWxzZSB5Zz14Zz9MZihhLnN0YXRlTm9kZS5uZXh0U2libGluZyk6bnVsbDtyZXR1cm4hMH1mdW5jdGlvbiBIZygpe2Zvcih2YXIgYT15ZzthOylhPUxmKGEubmV4dFNpYmxpbmcpfWZ1bmN0aW9uIElnKCl7eWc9eGc9bnVsbDtJPSExfWZ1bmN0aW9uIEpnKGEpe251bGw9PT16Zz96Zz1bYV06emcucHVzaChhKX12YXIgS2c9dWEuUmVhY3RDdXJyZW50QmF0Y2hDb25maWc7XG5mdW5jdGlvbiBMZyhhLGIsYyl7YT1jLnJlZjtpZihudWxsIT09YSYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGEmJlwib2JqZWN0XCIhPT10eXBlb2YgYSl7aWYoYy5fb3duZXIpe2M9Yy5fb3duZXI7aWYoYyl7aWYoMSE9PWMudGFnKXRocm93IEVycm9yKHAoMzA5KSk7dmFyIGQ9Yy5zdGF0ZU5vZGV9aWYoIWQpdGhyb3cgRXJyb3IocCgxNDcsYSkpO3ZhciBlPWQsZj1cIlwiK2E7aWYobnVsbCE9PWImJm51bGwhPT1iLnJlZiYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGIucmVmJiZiLnJlZi5fc3RyaW5nUmVmPT09ZilyZXR1cm4gYi5yZWY7Yj1mdW5jdGlvbihhKXt2YXIgYj1lLnJlZnM7bnVsbD09PWE/ZGVsZXRlIGJbZl06YltmXT1hfTtiLl9zdHJpbmdSZWY9ZjtyZXR1cm4gYn1pZihcInN0cmluZ1wiIT09dHlwZW9mIGEpdGhyb3cgRXJyb3IocCgyODQpKTtpZighYy5fb3duZXIpdGhyb3cgRXJyb3IocCgyOTAsYSkpO31yZXR1cm4gYX1cbmZ1bmN0aW9uIE1nKGEsYil7YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYik7dGhyb3cgRXJyb3IocCgzMSxcIltvYmplY3QgT2JqZWN0XVwiPT09YT9cIm9iamVjdCB3aXRoIGtleXMge1wiK09iamVjdC5rZXlzKGIpLmpvaW4oXCIsIFwiKStcIn1cIjphKSk7fWZ1bmN0aW9uIE5nKGEpe3ZhciBiPWEuX2luaXQ7cmV0dXJuIGIoYS5fcGF5bG9hZCl9XG5mdW5jdGlvbiBPZyhhKXtmdW5jdGlvbiBiKGIsYyl7aWYoYSl7dmFyIGQ9Yi5kZWxldGlvbnM7bnVsbD09PWQ/KGIuZGVsZXRpb25zPVtjXSxiLmZsYWdzfD0xNik6ZC5wdXNoKGMpfX1mdW5jdGlvbiBjKGMsZCl7aWYoIWEpcmV0dXJuIG51bGw7Zm9yKDtudWxsIT09ZDspYihjLGQpLGQ9ZC5zaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGQoYSxiKXtmb3IoYT1uZXcgTWFwO251bGwhPT1iOyludWxsIT09Yi5rZXk/YS5zZXQoYi5rZXksYik6YS5zZXQoYi5pbmRleCxiKSxiPWIuc2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBlKGEsYil7YT1QZyhhLGIpO2EuaW5kZXg9MDthLnNpYmxpbmc9bnVsbDtyZXR1cm4gYX1mdW5jdGlvbiBmKGIsYyxkKXtiLmluZGV4PWQ7aWYoIWEpcmV0dXJuIGIuZmxhZ3N8PTEwNDg1NzYsYztkPWIuYWx0ZXJuYXRlO2lmKG51bGwhPT1kKXJldHVybiBkPWQuaW5kZXgsZDxjPyhiLmZsYWdzfD0yLGMpOmQ7Yi5mbGFnc3w9MjtyZXR1cm4gY31mdW5jdGlvbiBnKGIpe2EmJlxubnVsbD09PWIuYWx0ZXJuYXRlJiYoYi5mbGFnc3w9Mik7cmV0dXJuIGJ9ZnVuY3Rpb24gaChhLGIsYyxkKXtpZihudWxsPT09Ynx8NiE9PWIudGFnKXJldHVybiBiPVFnKGMsYS5tb2RlLGQpLGIucmV0dXJuPWEsYjtiPWUoYixjKTtiLnJldHVybj1hO3JldHVybiBifWZ1bmN0aW9uIGsoYSxiLGMsZCl7dmFyIGY9Yy50eXBlO2lmKGY9PT15YSlyZXR1cm4gbShhLGIsYy5wcm9wcy5jaGlsZHJlbixkLGMua2V5KTtpZihudWxsIT09YiYmKGIuZWxlbWVudFR5cGU9PT1mfHxcIm9iamVjdFwiPT09dHlwZW9mIGYmJm51bGwhPT1mJiZmLiQkdHlwZW9mPT09SGEmJk5nKGYpPT09Yi50eXBlKSlyZXR1cm4gZD1lKGIsYy5wcm9wcyksZC5yZWY9TGcoYSxiLGMpLGQucmV0dXJuPWEsZDtkPVJnKGMudHlwZSxjLmtleSxjLnByb3BzLG51bGwsYS5tb2RlLGQpO2QucmVmPUxnKGEsYixjKTtkLnJldHVybj1hO3JldHVybiBkfWZ1bmN0aW9uIGwoYSxiLGMsZCl7aWYobnVsbD09PWJ8fDQhPT1iLnRhZ3x8XG5iLnN0YXRlTm9kZS5jb250YWluZXJJbmZvIT09Yy5jb250YWluZXJJbmZvfHxiLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiE9PWMuaW1wbGVtZW50YXRpb24pcmV0dXJuIGI9U2coYyxhLm1vZGUsZCksYi5yZXR1cm49YSxiO2I9ZShiLGMuY2hpbGRyZW58fFtdKTtiLnJldHVybj1hO3JldHVybiBifWZ1bmN0aW9uIG0oYSxiLGMsZCxmKXtpZihudWxsPT09Ynx8NyE9PWIudGFnKXJldHVybiBiPVRnKGMsYS5tb2RlLGQsZiksYi5yZXR1cm49YSxiO2I9ZShiLGMpO2IucmV0dXJuPWE7cmV0dXJuIGJ9ZnVuY3Rpb24gcShhLGIsYyl7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBiJiZcIlwiIT09Ynx8XCJudW1iZXJcIj09PXR5cGVvZiBiKXJldHVybiBiPVFnKFwiXCIrYixhLm1vZGUsYyksYi5yZXR1cm49YSxiO2lmKFwib2JqZWN0XCI9PT10eXBlb2YgYiYmbnVsbCE9PWIpe3N3aXRjaChiLiQkdHlwZW9mKXtjYXNlIHZhOnJldHVybiBjPVJnKGIudHlwZSxiLmtleSxiLnByb3BzLG51bGwsYS5tb2RlLGMpLFxuYy5yZWY9TGcoYSxudWxsLGIpLGMucmV0dXJuPWEsYztjYXNlIHdhOnJldHVybiBiPVNnKGIsYS5tb2RlLGMpLGIucmV0dXJuPWEsYjtjYXNlIEhhOnZhciBkPWIuX2luaXQ7cmV0dXJuIHEoYSxkKGIuX3BheWxvYWQpLGMpfWlmKGViKGIpfHxLYShiKSlyZXR1cm4gYj1UZyhiLGEubW9kZSxjLG51bGwpLGIucmV0dXJuPWEsYjtNZyhhLGIpfXJldHVybiBudWxsfWZ1bmN0aW9uIHIoYSxiLGMsZCl7dmFyIGU9bnVsbCE9PWI/Yi5rZXk6bnVsbDtpZihcInN0cmluZ1wiPT09dHlwZW9mIGMmJlwiXCIhPT1jfHxcIm51bWJlclwiPT09dHlwZW9mIGMpcmV0dXJuIG51bGwhPT1lP251bGw6aChhLGIsXCJcIitjLGQpO2lmKFwib2JqZWN0XCI9PT10eXBlb2YgYyYmbnVsbCE9PWMpe3N3aXRjaChjLiQkdHlwZW9mKXtjYXNlIHZhOnJldHVybiBjLmtleT09PWU/ayhhLGIsYyxkKTpudWxsO2Nhc2Ugd2E6cmV0dXJuIGMua2V5PT09ZT9sKGEsYixjLGQpOm51bGw7Y2FzZSBIYTpyZXR1cm4gZT1jLl9pbml0LHIoYSxcbmIsZShjLl9wYXlsb2FkKSxkKX1pZihlYihjKXx8S2EoYykpcmV0dXJuIG51bGwhPT1lP251bGw6bShhLGIsYyxkLG51bGwpO01nKGEsYyl9cmV0dXJuIG51bGx9ZnVuY3Rpb24geShhLGIsYyxkLGUpe2lmKFwic3RyaW5nXCI9PT10eXBlb2YgZCYmXCJcIiE9PWR8fFwibnVtYmVyXCI9PT10eXBlb2YgZClyZXR1cm4gYT1hLmdldChjKXx8bnVsbCxoKGIsYSxcIlwiK2QsZSk7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZCl7c3dpdGNoKGQuJCR0eXBlb2Ype2Nhc2UgdmE6cmV0dXJuIGE9YS5nZXQobnVsbD09PWQua2V5P2M6ZC5rZXkpfHxudWxsLGsoYixhLGQsZSk7Y2FzZSB3YTpyZXR1cm4gYT1hLmdldChudWxsPT09ZC5rZXk/YzpkLmtleSl8fG51bGwsbChiLGEsZCxlKTtjYXNlIEhhOnZhciBmPWQuX2luaXQ7cmV0dXJuIHkoYSxiLGMsZihkLl9wYXlsb2FkKSxlKX1pZihlYihkKXx8S2EoZCkpcmV0dXJuIGE9YS5nZXQoYyl8fG51bGwsbShiLGEsZCxlLG51bGwpO01nKGIsZCl9cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBuKGUsZyxoLGspe2Zvcih2YXIgbD1udWxsLG09bnVsbCx1PWcsdz1nPTAseD1udWxsO251bGwhPT11JiZ3PGgubGVuZ3RoO3crKyl7dS5pbmRleD53Pyh4PXUsdT1udWxsKTp4PXUuc2libGluZzt2YXIgbj1yKGUsdSxoW3ddLGspO2lmKG51bGw9PT1uKXtudWxsPT09dSYmKHU9eCk7YnJlYWt9YSYmdSYmbnVsbD09PW4uYWx0ZXJuYXRlJiZiKGUsdSk7Zz1mKG4sZyx3KTtudWxsPT09bT9sPW46bS5zaWJsaW5nPW47bT1uO3U9eH1pZih3PT09aC5sZW5ndGgpcmV0dXJuIGMoZSx1KSxJJiZ0ZyhlLHcpLGw7aWYobnVsbD09PXUpe2Zvcig7dzxoLmxlbmd0aDt3KyspdT1xKGUsaFt3XSxrKSxudWxsIT09dSYmKGc9Zih1LGcsdyksbnVsbD09PW0/bD11Om0uc2libGluZz11LG09dSk7SSYmdGcoZSx3KTtyZXR1cm4gbH1mb3IodT1kKGUsdSk7dzxoLmxlbmd0aDt3KyspeD15KHUsZSx3LGhbd10sayksbnVsbCE9PXgmJihhJiZudWxsIT09eC5hbHRlcm5hdGUmJnUuZGVsZXRlKG51bGw9PT1cbngua2V5P3c6eC5rZXkpLGc9Zih4LGcsdyksbnVsbD09PW0/bD14Om0uc2libGluZz14LG09eCk7YSYmdS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBiKGUsYSl9KTtJJiZ0ZyhlLHcpO3JldHVybiBsfWZ1bmN0aW9uIHQoZSxnLGgsayl7dmFyIGw9S2EoaCk7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIGwpdGhyb3cgRXJyb3IocCgxNTApKTtoPWwuY2FsbChoKTtpZihudWxsPT1oKXRocm93IEVycm9yKHAoMTUxKSk7Zm9yKHZhciB1PWw9bnVsbCxtPWcsdz1nPTAseD1udWxsLG49aC5uZXh0KCk7bnVsbCE9PW0mJiFuLmRvbmU7dysrLG49aC5uZXh0KCkpe20uaW5kZXg+dz8oeD1tLG09bnVsbCk6eD1tLnNpYmxpbmc7dmFyIHQ9cihlLG0sbi52YWx1ZSxrKTtpZihudWxsPT09dCl7bnVsbD09PW0mJihtPXgpO2JyZWFrfWEmJm0mJm51bGw9PT10LmFsdGVybmF0ZSYmYihlLG0pO2c9Zih0LGcsdyk7bnVsbD09PXU/bD10OnUuc2libGluZz10O3U9dDttPXh9aWYobi5kb25lKXJldHVybiBjKGUsXG5tKSxJJiZ0ZyhlLHcpLGw7aWYobnVsbD09PW0pe2Zvcig7IW4uZG9uZTt3Kyssbj1oLm5leHQoKSluPXEoZSxuLnZhbHVlLGspLG51bGwhPT1uJiYoZz1mKG4sZyx3KSxudWxsPT09dT9sPW46dS5zaWJsaW5nPW4sdT1uKTtJJiZ0ZyhlLHcpO3JldHVybiBsfWZvcihtPWQoZSxtKTshbi5kb25lO3crKyxuPWgubmV4dCgpKW49eShtLGUsdyxuLnZhbHVlLGspLG51bGwhPT1uJiYoYSYmbnVsbCE9PW4uYWx0ZXJuYXRlJiZtLmRlbGV0ZShudWxsPT09bi5rZXk/dzpuLmtleSksZz1mKG4sZyx3KSxudWxsPT09dT9sPW46dS5zaWJsaW5nPW4sdT1uKTthJiZtLmZvckVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIGIoZSxhKX0pO0kmJnRnKGUsdyk7cmV0dXJuIGx9ZnVuY3Rpb24gSihhLGQsZixoKXtcIm9iamVjdFwiPT09dHlwZW9mIGYmJm51bGwhPT1mJiZmLnR5cGU9PT15YSYmbnVsbD09PWYua2V5JiYoZj1mLnByb3BzLmNoaWxkcmVuKTtpZihcIm9iamVjdFwiPT09dHlwZW9mIGYmJm51bGwhPT1mKXtzd2l0Y2goZi4kJHR5cGVvZil7Y2FzZSB2YTphOntmb3IodmFyIGs9XG5mLmtleSxsPWQ7bnVsbCE9PWw7KXtpZihsLmtleT09PWspe2s9Zi50eXBlO2lmKGs9PT15YSl7aWYoNz09PWwudGFnKXtjKGEsbC5zaWJsaW5nKTtkPWUobCxmLnByb3BzLmNoaWxkcmVuKTtkLnJldHVybj1hO2E9ZDticmVhayBhfX1lbHNlIGlmKGwuZWxlbWVudFR5cGU9PT1rfHxcIm9iamVjdFwiPT09dHlwZW9mIGsmJm51bGwhPT1rJiZrLiQkdHlwZW9mPT09SGEmJk5nKGspPT09bC50eXBlKXtjKGEsbC5zaWJsaW5nKTtkPWUobCxmLnByb3BzKTtkLnJlZj1MZyhhLGwsZik7ZC5yZXR1cm49YTthPWQ7YnJlYWsgYX1jKGEsbCk7YnJlYWt9ZWxzZSBiKGEsbCk7bD1sLnNpYmxpbmd9Zi50eXBlPT09eWE/KGQ9VGcoZi5wcm9wcy5jaGlsZHJlbixhLm1vZGUsaCxmLmtleSksZC5yZXR1cm49YSxhPWQpOihoPVJnKGYudHlwZSxmLmtleSxmLnByb3BzLG51bGwsYS5tb2RlLGgpLGgucmVmPUxnKGEsZCxmKSxoLnJldHVybj1hLGE9aCl9cmV0dXJuIGcoYSk7Y2FzZSB3YTphOntmb3IobD1mLmtleTtudWxsIT09XG5kOyl7aWYoZC5rZXk9PT1sKWlmKDQ9PT1kLnRhZyYmZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbz09PWYuY29udGFpbmVySW5mbyYmZC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb249PT1mLmltcGxlbWVudGF0aW9uKXtjKGEsZC5zaWJsaW5nKTtkPWUoZCxmLmNoaWxkcmVufHxbXSk7ZC5yZXR1cm49YTthPWQ7YnJlYWsgYX1lbHNle2MoYSxkKTticmVha31lbHNlIGIoYSxkKTtkPWQuc2libGluZ31kPVNnKGYsYS5tb2RlLGgpO2QucmV0dXJuPWE7YT1kfXJldHVybiBnKGEpO2Nhc2UgSGE6cmV0dXJuIGw9Zi5faW5pdCxKKGEsZCxsKGYuX3BheWxvYWQpLGgpfWlmKGViKGYpKXJldHVybiBuKGEsZCxmLGgpO2lmKEthKGYpKXJldHVybiB0KGEsZCxmLGgpO01nKGEsZil9cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBmJiZcIlwiIT09Znx8XCJudW1iZXJcIj09PXR5cGVvZiBmPyhmPVwiXCIrZixudWxsIT09ZCYmNj09PWQudGFnPyhjKGEsZC5zaWJsaW5nKSxkPWUoZCxmKSxkLnJldHVybj1hLGE9ZCk6XG4oYyhhLGQpLGQ9UWcoZixhLm1vZGUsaCksZC5yZXR1cm49YSxhPWQpLGcoYSkpOmMoYSxkKX1yZXR1cm4gSn12YXIgVWc9T2coITApLFZnPU9nKCExKSxXZz1VZihudWxsKSxYZz1udWxsLFlnPW51bGwsWmc9bnVsbDtmdW5jdGlvbiAkZygpe1pnPVlnPVhnPW51bGx9ZnVuY3Rpb24gYWgoYSl7dmFyIGI9V2cuY3VycmVudDtFKFdnKTthLl9jdXJyZW50VmFsdWU9Yn1mdW5jdGlvbiBiaChhLGIsYyl7Zm9yKDtudWxsIT09YTspe3ZhciBkPWEuYWx0ZXJuYXRlOyhhLmNoaWxkTGFuZXMmYikhPT1iPyhhLmNoaWxkTGFuZXN8PWIsbnVsbCE9PWQmJihkLmNoaWxkTGFuZXN8PWIpKTpudWxsIT09ZCYmKGQuY2hpbGRMYW5lcyZiKSE9PWImJihkLmNoaWxkTGFuZXN8PWIpO2lmKGE9PT1jKWJyZWFrO2E9YS5yZXR1cm59fVxuZnVuY3Rpb24gY2goYSxiKXtYZz1hO1pnPVlnPW51bGw7YT1hLmRlcGVuZGVuY2llcztudWxsIT09YSYmbnVsbCE9PWEuZmlyc3RDb250ZXh0JiYoMCE9PShhLmxhbmVzJmIpJiYoZGg9ITApLGEuZmlyc3RDb250ZXh0PW51bGwpfWZ1bmN0aW9uIGVoKGEpe3ZhciBiPWEuX2N1cnJlbnRWYWx1ZTtpZihaZyE9PWEpaWYoYT17Y29udGV4dDphLG1lbW9pemVkVmFsdWU6YixuZXh0Om51bGx9LG51bGw9PT1ZZyl7aWYobnVsbD09PVhnKXRocm93IEVycm9yKHAoMzA4KSk7WWc9YTtYZy5kZXBlbmRlbmNpZXM9e2xhbmVzOjAsZmlyc3RDb250ZXh0OmF9fWVsc2UgWWc9WWcubmV4dD1hO3JldHVybiBifXZhciBmaD1udWxsO2Z1bmN0aW9uIGdoKGEpe251bGw9PT1maD9maD1bYV06ZmgucHVzaChhKX1cbmZ1bmN0aW9uIGhoKGEsYixjLGQpe3ZhciBlPWIuaW50ZXJsZWF2ZWQ7bnVsbD09PWU/KGMubmV4dD1jLGdoKGIpKTooYy5uZXh0PWUubmV4dCxlLm5leHQ9Yyk7Yi5pbnRlcmxlYXZlZD1jO3JldHVybiBpaChhLGQpfWZ1bmN0aW9uIGloKGEsYil7YS5sYW5lc3w9Yjt2YXIgYz1hLmFsdGVybmF0ZTtudWxsIT09YyYmKGMubGFuZXN8PWIpO2M9YTtmb3IoYT1hLnJldHVybjtudWxsIT09YTspYS5jaGlsZExhbmVzfD1iLGM9YS5hbHRlcm5hdGUsbnVsbCE9PWMmJihjLmNoaWxkTGFuZXN8PWIpLGM9YSxhPWEucmV0dXJuO3JldHVybiAzPT09Yy50YWc/Yy5zdGF0ZU5vZGU6bnVsbH12YXIgamg9ITE7ZnVuY3Rpb24ga2goYSl7YS51cGRhdGVRdWV1ZT17YmFzZVN0YXRlOmEubWVtb2l6ZWRTdGF0ZSxmaXJzdEJhc2VVcGRhdGU6bnVsbCxsYXN0QmFzZVVwZGF0ZTpudWxsLHNoYXJlZDp7cGVuZGluZzpudWxsLGludGVybGVhdmVkOm51bGwsbGFuZXM6MH0sZWZmZWN0czpudWxsfX1cbmZ1bmN0aW9uIGxoKGEsYil7YT1hLnVwZGF0ZVF1ZXVlO2IudXBkYXRlUXVldWU9PT1hJiYoYi51cGRhdGVRdWV1ZT17YmFzZVN0YXRlOmEuYmFzZVN0YXRlLGZpcnN0QmFzZVVwZGF0ZTphLmZpcnN0QmFzZVVwZGF0ZSxsYXN0QmFzZVVwZGF0ZTphLmxhc3RCYXNlVXBkYXRlLHNoYXJlZDphLnNoYXJlZCxlZmZlY3RzOmEuZWZmZWN0c30pfWZ1bmN0aW9uIG1oKGEsYil7cmV0dXJue2V2ZW50VGltZTphLGxhbmU6Yix0YWc6MCxwYXlsb2FkOm51bGwsY2FsbGJhY2s6bnVsbCxuZXh0Om51bGx9fVxuZnVuY3Rpb24gbmgoYSxiLGMpe3ZhciBkPWEudXBkYXRlUXVldWU7aWYobnVsbD09PWQpcmV0dXJuIG51bGw7ZD1kLnNoYXJlZDtpZigwIT09KEsmMikpe3ZhciBlPWQucGVuZGluZztudWxsPT09ZT9iLm5leHQ9YjooYi5uZXh0PWUubmV4dCxlLm5leHQ9Yik7ZC5wZW5kaW5nPWI7cmV0dXJuIGloKGEsYyl9ZT1kLmludGVybGVhdmVkO251bGw9PT1lPyhiLm5leHQ9YixnaChkKSk6KGIubmV4dD1lLm5leHQsZS5uZXh0PWIpO2QuaW50ZXJsZWF2ZWQ9YjtyZXR1cm4gaWgoYSxjKX1mdW5jdGlvbiBvaChhLGIsYyl7Yj1iLnVwZGF0ZVF1ZXVlO2lmKG51bGwhPT1iJiYoYj1iLnNoYXJlZCwwIT09KGMmNDE5NDI0MCkpKXt2YXIgZD1iLmxhbmVzO2QmPWEucGVuZGluZ0xhbmVzO2N8PWQ7Yi5sYW5lcz1jO0NjKGEsYyl9fVxuZnVuY3Rpb24gcGgoYSxiKXt2YXIgYz1hLnVwZGF0ZVF1ZXVlLGQ9YS5hbHRlcm5hdGU7aWYobnVsbCE9PWQmJihkPWQudXBkYXRlUXVldWUsYz09PWQpKXt2YXIgZT1udWxsLGY9bnVsbDtjPWMuZmlyc3RCYXNlVXBkYXRlO2lmKG51bGwhPT1jKXtkb3t2YXIgZz17ZXZlbnRUaW1lOmMuZXZlbnRUaW1lLGxhbmU6Yy5sYW5lLHRhZzpjLnRhZyxwYXlsb2FkOmMucGF5bG9hZCxjYWxsYmFjazpjLmNhbGxiYWNrLG5leHQ6bnVsbH07bnVsbD09PWY/ZT1mPWc6Zj1mLm5leHQ9ZztjPWMubmV4dH13aGlsZShudWxsIT09Yyk7bnVsbD09PWY/ZT1mPWI6Zj1mLm5leHQ9Yn1lbHNlIGU9Zj1iO2M9e2Jhc2VTdGF0ZTpkLmJhc2VTdGF0ZSxmaXJzdEJhc2VVcGRhdGU6ZSxsYXN0QmFzZVVwZGF0ZTpmLHNoYXJlZDpkLnNoYXJlZCxlZmZlY3RzOmQuZWZmZWN0c307YS51cGRhdGVRdWV1ZT1jO3JldHVybn1hPWMubGFzdEJhc2VVcGRhdGU7bnVsbD09PWE/Yy5maXJzdEJhc2VVcGRhdGU9YjphLm5leHQ9XG5iO2MubGFzdEJhc2VVcGRhdGU9Yn1cbmZ1bmN0aW9uIHFoKGEsYixjLGQpe3ZhciBlPWEudXBkYXRlUXVldWU7amg9ITE7dmFyIGY9ZS5maXJzdEJhc2VVcGRhdGUsZz1lLmxhc3RCYXNlVXBkYXRlLGg9ZS5zaGFyZWQucGVuZGluZztpZihudWxsIT09aCl7ZS5zaGFyZWQucGVuZGluZz1udWxsO3ZhciBrPWgsbD1rLm5leHQ7ay5uZXh0PW51bGw7bnVsbD09PWc/Zj1sOmcubmV4dD1sO2c9azt2YXIgbT1hLmFsdGVybmF0ZTtudWxsIT09bSYmKG09bS51cGRhdGVRdWV1ZSxoPW0ubGFzdEJhc2VVcGRhdGUsaCE9PWcmJihudWxsPT09aD9tLmZpcnN0QmFzZVVwZGF0ZT1sOmgubmV4dD1sLG0ubGFzdEJhc2VVcGRhdGU9aykpfWlmKG51bGwhPT1mKXt2YXIgcT1lLmJhc2VTdGF0ZTtnPTA7bT1sPWs9bnVsbDtoPWY7ZG97dmFyIHI9aC5sYW5lLHk9aC5ldmVudFRpbWU7aWYoKGQmcik9PT1yKXtudWxsIT09bSYmKG09bS5uZXh0PXtldmVudFRpbWU6eSxsYW5lOjAsdGFnOmgudGFnLHBheWxvYWQ6aC5wYXlsb2FkLGNhbGxiYWNrOmguY2FsbGJhY2ssXG5uZXh0Om51bGx9KTthOnt2YXIgbj1hLHQ9aDtyPWI7eT1jO3N3aXRjaCh0LnRhZyl7Y2FzZSAxOm49dC5wYXlsb2FkO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBuKXtxPW4uY2FsbCh5LHEscik7YnJlYWsgYX1xPW47YnJlYWsgYTtjYXNlIDM6bi5mbGFncz1uLmZsYWdzJi02NTUzN3wxMjg7Y2FzZSAwOm49dC5wYXlsb2FkO3I9XCJmdW5jdGlvblwiPT09dHlwZW9mIG4/bi5jYWxsKHkscSxyKTpuO2lmKG51bGw9PT1yfHx2b2lkIDA9PT1yKWJyZWFrIGE7cT1BKHt9LHEscik7YnJlYWsgYTtjYXNlIDI6amg9ITB9fW51bGwhPT1oLmNhbGxiYWNrJiYwIT09aC5sYW5lJiYoYS5mbGFnc3w9NjQscj1lLmVmZmVjdHMsbnVsbD09PXI/ZS5lZmZlY3RzPVtoXTpyLnB1c2goaCkpfWVsc2UgeT17ZXZlbnRUaW1lOnksbGFuZTpyLHRhZzpoLnRhZyxwYXlsb2FkOmgucGF5bG9hZCxjYWxsYmFjazpoLmNhbGxiYWNrLG5leHQ6bnVsbH0sbnVsbD09PW0/KGw9bT15LGs9cSk6bT1tLm5leHQ9eSxnfD1yO1xuaD1oLm5leHQ7aWYobnVsbD09PWgpaWYoaD1lLnNoYXJlZC5wZW5kaW5nLG51bGw9PT1oKWJyZWFrO2Vsc2Ugcj1oLGg9ci5uZXh0LHIubmV4dD1udWxsLGUubGFzdEJhc2VVcGRhdGU9cixlLnNoYXJlZC5wZW5kaW5nPW51bGx9d2hpbGUoMSk7bnVsbD09PW0mJihrPXEpO2UuYmFzZVN0YXRlPWs7ZS5maXJzdEJhc2VVcGRhdGU9bDtlLmxhc3RCYXNlVXBkYXRlPW07Yj1lLnNoYXJlZC5pbnRlcmxlYXZlZDtpZihudWxsIT09Yil7ZT1iO2RvIGd8PWUubGFuZSxlPWUubmV4dDt3aGlsZShlIT09Yil9ZWxzZSBudWxsPT09ZiYmKGUuc2hhcmVkLmxhbmVzPTApO3JofD1nO2EubGFuZXM9ZzthLm1lbW9pemVkU3RhdGU9cX19XG5mdW5jdGlvbiBzaChhLGIsYyl7YT1iLmVmZmVjdHM7Yi5lZmZlY3RzPW51bGw7aWYobnVsbCE9PWEpZm9yKGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGQ9YVtiXSxlPWQuY2FsbGJhY2s7aWYobnVsbCE9PWUpe2QuY2FsbGJhY2s9bnVsbDtkPWM7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIGUpdGhyb3cgRXJyb3IocCgxOTEsZSkpO2UuY2FsbChkKX19fXZhciB0aD17fSx1aD1VZih0aCksdmg9VWYodGgpLHdoPVVmKHRoKTtmdW5jdGlvbiB4aChhKXtpZihhPT09dGgpdGhyb3cgRXJyb3IocCgxNzQpKTtyZXR1cm4gYX1cbmZ1bmN0aW9uIHloKGEsYil7Ryh3aCxiKTtHKHZoLGEpO0codWgsdGgpO2E9Yi5ub2RlVHlwZTtzd2l0Y2goYSl7Y2FzZSA5OmNhc2UgMTE6Yj0oYj1iLmRvY3VtZW50RWxlbWVudCk/Yi5uYW1lc3BhY2VVUkk6bGIobnVsbCxcIlwiKTticmVhaztkZWZhdWx0OmE9OD09PWE/Yi5wYXJlbnROb2RlOmIsYj1hLm5hbWVzcGFjZVVSSXx8bnVsbCxhPWEudGFnTmFtZSxiPWxiKGIsYSl9RSh1aCk7Ryh1aCxiKX1mdW5jdGlvbiB6aCgpe0UodWgpO0UodmgpO0Uod2gpfWZ1bmN0aW9uIEFoKGEpe3hoKHdoLmN1cnJlbnQpO3ZhciBiPXhoKHVoLmN1cnJlbnQpO3ZhciBjPWxiKGIsYS50eXBlKTtiIT09YyYmKEcodmgsYSksRyh1aCxjKSl9ZnVuY3Rpb24gQmgoYSl7dmguY3VycmVudD09PWEmJihFKHVoKSxFKHZoKSl9dmFyIEw9VWYoMCk7XG5mdW5jdGlvbiBDaChhKXtmb3IodmFyIGI9YTtudWxsIT09Yjspe2lmKDEzPT09Yi50YWcpe3ZhciBjPWIubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09YyYmKGM9Yy5kZWh5ZHJhdGVkLG51bGw9PT1jfHxcIiQ/XCI9PT1jLmRhdGF8fFwiJCFcIj09PWMuZGF0YSkpcmV0dXJuIGJ9ZWxzZSBpZigxOT09PWIudGFnJiZ2b2lkIDAhPT1iLm1lbW9pemVkUHJvcHMucmV2ZWFsT3JkZXIpe2lmKDAhPT0oYi5mbGFncyYxMjgpKXJldHVybiBifWVsc2UgaWYobnVsbCE9PWIuY2hpbGQpe2IuY2hpbGQucmV0dXJuPWI7Yj1iLmNoaWxkO2NvbnRpbnVlfWlmKGI9PT1hKWJyZWFrO2Zvcig7bnVsbD09PWIuc2libGluZzspe2lmKG51bGw9PT1iLnJldHVybnx8Yi5yZXR1cm49PT1hKXJldHVybiBudWxsO2I9Yi5yZXR1cm59Yi5zaWJsaW5nLnJldHVybj1iLnJldHVybjtiPWIuc2libGluZ31yZXR1cm4gbnVsbH12YXIgRGg9W107XG5mdW5jdGlvbiBFaCgpe2Zvcih2YXIgYT0wO2E8RGgubGVuZ3RoO2ErKylEaFthXS5fd29ya0luUHJvZ3Jlc3NWZXJzaW9uUHJpbWFyeT1udWxsO0RoLmxlbmd0aD0wfXZhciBGaD11YS5SZWFjdEN1cnJlbnREaXNwYXRjaGVyLEdoPXVhLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnLEhoPTAsTT1udWxsLE49bnVsbCxPPW51bGwsSWg9ITEsSmg9ITEsS2g9MCxMaD0wO2Z1bmN0aW9uIFAoKXt0aHJvdyBFcnJvcihwKDMyMSkpO31mdW5jdGlvbiBNaChhLGIpe2lmKG51bGw9PT1iKXJldHVybiExO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGgmJmM8YS5sZW5ndGg7YysrKWlmKCFIZShhW2NdLGJbY10pKXJldHVybiExO3JldHVybiEwfVxuZnVuY3Rpb24gTmgoYSxiLGMsZCxlLGYpe0hoPWY7TT1iO2IubWVtb2l6ZWRTdGF0ZT1udWxsO2IudXBkYXRlUXVldWU9bnVsbDtiLmxhbmVzPTA7RmguY3VycmVudD1udWxsPT09YXx8bnVsbD09PWEubWVtb2l6ZWRTdGF0ZT9PaDpQaDthPWMoZCxlKTtpZihKaCl7Zj0wO2Rve0poPSExO0toPTA7aWYoMjU8PWYpdGhyb3cgRXJyb3IocCgzMDEpKTtmKz0xO089Tj1udWxsO2IudXBkYXRlUXVldWU9bnVsbDtGaC5jdXJyZW50PVFoO2E9YyhkLGUpfXdoaWxlKEpoKX1GaC5jdXJyZW50PVJoO2I9bnVsbCE9PU4mJm51bGwhPT1OLm5leHQ7SGg9MDtPPU49TT1udWxsO0loPSExO2lmKGIpdGhyb3cgRXJyb3IocCgzMDApKTtyZXR1cm4gYX1mdW5jdGlvbiBTaCgpe3ZhciBhPTAhPT1LaDtLaD0wO3JldHVybiBhfVxuZnVuY3Rpb24gVGgoKXt2YXIgYT17bWVtb2l6ZWRTdGF0ZTpudWxsLGJhc2VTdGF0ZTpudWxsLGJhc2VRdWV1ZTpudWxsLHF1ZXVlOm51bGwsbmV4dDpudWxsfTtudWxsPT09Tz9NLm1lbW9pemVkU3RhdGU9Tz1hOk89Ty5uZXh0PWE7cmV0dXJuIE99ZnVuY3Rpb24gVWgoKXtpZihudWxsPT09Til7dmFyIGE9TS5hbHRlcm5hdGU7YT1udWxsIT09YT9hLm1lbW9pemVkU3RhdGU6bnVsbH1lbHNlIGE9Ti5uZXh0O3ZhciBiPW51bGw9PT1PP00ubWVtb2l6ZWRTdGF0ZTpPLm5leHQ7aWYobnVsbCE9PWIpTz1iLE49YTtlbHNle2lmKG51bGw9PT1hKXRocm93IEVycm9yKHAoMzEwKSk7Tj1hO2E9e21lbW9pemVkU3RhdGU6Ti5tZW1vaXplZFN0YXRlLGJhc2VTdGF0ZTpOLmJhc2VTdGF0ZSxiYXNlUXVldWU6Ti5iYXNlUXVldWUscXVldWU6Ti5xdWV1ZSxuZXh0Om51bGx9O251bGw9PT1PP00ubWVtb2l6ZWRTdGF0ZT1PPWE6Tz1PLm5leHQ9YX1yZXR1cm4gT31cbmZ1bmN0aW9uIFZoKGEsYil7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGI/YihhKTpifVxuZnVuY3Rpb24gV2goYSl7dmFyIGI9VWgoKSxjPWIucXVldWU7aWYobnVsbD09PWMpdGhyb3cgRXJyb3IocCgzMTEpKTtjLmxhc3RSZW5kZXJlZFJlZHVjZXI9YTt2YXIgZD1OLGU9ZC5iYXNlUXVldWUsZj1jLnBlbmRpbmc7aWYobnVsbCE9PWYpe2lmKG51bGwhPT1lKXt2YXIgZz1lLm5leHQ7ZS5uZXh0PWYubmV4dDtmLm5leHQ9Z31kLmJhc2VRdWV1ZT1lPWY7Yy5wZW5kaW5nPW51bGx9aWYobnVsbCE9PWUpe2Y9ZS5uZXh0O2Q9ZC5iYXNlU3RhdGU7dmFyIGg9Zz1udWxsLGs9bnVsbCxsPWY7ZG97dmFyIG09bC5sYW5lO2lmKChIaCZtKT09PW0pbnVsbCE9PWsmJihrPWsubmV4dD17bGFuZTowLGFjdGlvbjpsLmFjdGlvbixoYXNFYWdlclN0YXRlOmwuaGFzRWFnZXJTdGF0ZSxlYWdlclN0YXRlOmwuZWFnZXJTdGF0ZSxuZXh0Om51bGx9KSxkPWwuaGFzRWFnZXJTdGF0ZT9sLmVhZ2VyU3RhdGU6YShkLGwuYWN0aW9uKTtlbHNle3ZhciBxPXtsYW5lOm0sYWN0aW9uOmwuYWN0aW9uLGhhc0VhZ2VyU3RhdGU6bC5oYXNFYWdlclN0YXRlLFxuZWFnZXJTdGF0ZTpsLmVhZ2VyU3RhdGUsbmV4dDpudWxsfTtudWxsPT09az8oaD1rPXEsZz1kKTprPWsubmV4dD1xO00ubGFuZXN8PW07cmh8PW19bD1sLm5leHR9d2hpbGUobnVsbCE9PWwmJmwhPT1mKTtudWxsPT09az9nPWQ6ay5uZXh0PWg7SGUoZCxiLm1lbW9pemVkU3RhdGUpfHwoZGg9ITApO2IubWVtb2l6ZWRTdGF0ZT1kO2IuYmFzZVN0YXRlPWc7Yi5iYXNlUXVldWU9aztjLmxhc3RSZW5kZXJlZFN0YXRlPWR9YT1jLmludGVybGVhdmVkO2lmKG51bGwhPT1hKXtlPWE7ZG8gZj1lLmxhbmUsTS5sYW5lc3w9ZixyaHw9ZixlPWUubmV4dDt3aGlsZShlIT09YSl9ZWxzZSBudWxsPT09ZSYmKGMubGFuZXM9MCk7cmV0dXJuW2IubWVtb2l6ZWRTdGF0ZSxjLmRpc3BhdGNoXX1cbmZ1bmN0aW9uIFhoKGEpe3ZhciBiPVVoKCksYz1iLnF1ZXVlO2lmKG51bGw9PT1jKXRocm93IEVycm9yKHAoMzExKSk7Yy5sYXN0UmVuZGVyZWRSZWR1Y2VyPWE7dmFyIGQ9Yy5kaXNwYXRjaCxlPWMucGVuZGluZyxmPWIubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09ZSl7Yy5wZW5kaW5nPW51bGw7dmFyIGc9ZT1lLm5leHQ7ZG8gZj1hKGYsZy5hY3Rpb24pLGc9Zy5uZXh0O3doaWxlKGchPT1lKTtIZShmLGIubWVtb2l6ZWRTdGF0ZSl8fChkaD0hMCk7Yi5tZW1vaXplZFN0YXRlPWY7bnVsbD09PWIuYmFzZVF1ZXVlJiYoYi5iYXNlU3RhdGU9Zik7Yy5sYXN0UmVuZGVyZWRTdGF0ZT1mfXJldHVybltmLGRdfWZ1bmN0aW9uIFloKCl7fVxuZnVuY3Rpb24gWmgoYSxiKXt2YXIgYz1NLGQ9VWgoKSxlPWIoKSxmPSFIZShkLm1lbW9pemVkU3RhdGUsZSk7ZiYmKGQubWVtb2l6ZWRTdGF0ZT1lLGRoPSEwKTtkPWQucXVldWU7JGgoYWkuYmluZChudWxsLGMsZCxhKSxbYV0pO2lmKGQuZ2V0U25hcHNob3QhPT1ifHxmfHxudWxsIT09TyYmTy5tZW1vaXplZFN0YXRlLnRhZyYxKXtjLmZsYWdzfD0yMDQ4O2JpKDksY2kuYmluZChudWxsLGMsZCxlLGIpLHZvaWQgMCxudWxsKTtpZihudWxsPT09USl0aHJvdyBFcnJvcihwKDM0OSkpOzAhPT0oSGgmMzApfHxkaShjLGIsZSl9cmV0dXJuIGV9ZnVuY3Rpb24gZGkoYSxiLGMpe2EuZmxhZ3N8PTE2Mzg0O2E9e2dldFNuYXBzaG90OmIsdmFsdWU6Y307Yj1NLnVwZGF0ZVF1ZXVlO251bGw9PT1iPyhiPXtsYXN0RWZmZWN0Om51bGwsc3RvcmVzOm51bGx9LE0udXBkYXRlUXVldWU9YixiLnN0b3Jlcz1bYV0pOihjPWIuc3RvcmVzLG51bGw9PT1jP2Iuc3RvcmVzPVthXTpjLnB1c2goYSkpfVxuZnVuY3Rpb24gY2koYSxiLGMsZCl7Yi52YWx1ZT1jO2IuZ2V0U25hcHNob3Q9ZDtlaShiKSYmZmkoYSl9ZnVuY3Rpb24gYWkoYSxiLGMpe3JldHVybiBjKGZ1bmN0aW9uKCl7ZWkoYikmJmZpKGEpfSl9ZnVuY3Rpb24gZWkoYSl7dmFyIGI9YS5nZXRTbmFwc2hvdDthPWEudmFsdWU7dHJ5e3ZhciBjPWIoKTtyZXR1cm4hSGUoYSxjKX1jYXRjaChkKXtyZXR1cm4hMH19ZnVuY3Rpb24gZmkoYSl7dmFyIGI9aWgoYSwxKTtudWxsIT09YiYmZ2koYixhLDEsLTEpfVxuZnVuY3Rpb24gaGkoYSl7dmFyIGI9VGgoKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSYmKGE9YSgpKTtiLm1lbW9pemVkU3RhdGU9Yi5iYXNlU3RhdGU9YTthPXtwZW5kaW5nOm51bGwsaW50ZXJsZWF2ZWQ6bnVsbCxsYW5lczowLGRpc3BhdGNoOm51bGwsbGFzdFJlbmRlcmVkUmVkdWNlcjpWaCxsYXN0UmVuZGVyZWRTdGF0ZTphfTtiLnF1ZXVlPWE7YT1hLmRpc3BhdGNoPWlpLmJpbmQobnVsbCxNLGEpO3JldHVybltiLm1lbW9pemVkU3RhdGUsYV19XG5mdW5jdGlvbiBiaShhLGIsYyxkKXthPXt0YWc6YSxjcmVhdGU6YixkZXN0cm95OmMsZGVwczpkLG5leHQ6bnVsbH07Yj1NLnVwZGF0ZVF1ZXVlO251bGw9PT1iPyhiPXtsYXN0RWZmZWN0Om51bGwsc3RvcmVzOm51bGx9LE0udXBkYXRlUXVldWU9YixiLmxhc3RFZmZlY3Q9YS5uZXh0PWEpOihjPWIubGFzdEVmZmVjdCxudWxsPT09Yz9iLmxhc3RFZmZlY3Q9YS5uZXh0PWE6KGQ9Yy5uZXh0LGMubmV4dD1hLGEubmV4dD1kLGIubGFzdEVmZmVjdD1hKSk7cmV0dXJuIGF9ZnVuY3Rpb24gamkoKXtyZXR1cm4gVWgoKS5tZW1vaXplZFN0YXRlfWZ1bmN0aW9uIGtpKGEsYixjLGQpe3ZhciBlPVRoKCk7TS5mbGFnc3w9YTtlLm1lbW9pemVkU3RhdGU9YmkoMXxiLGMsdm9pZCAwLHZvaWQgMD09PWQ/bnVsbDpkKX1cbmZ1bmN0aW9uIGxpKGEsYixjLGQpe3ZhciBlPVVoKCk7ZD12b2lkIDA9PT1kP251bGw6ZDt2YXIgZj12b2lkIDA7aWYobnVsbCE9PU4pe3ZhciBnPU4ubWVtb2l6ZWRTdGF0ZTtmPWcuZGVzdHJveTtpZihudWxsIT09ZCYmTWgoZCxnLmRlcHMpKXtlLm1lbW9pemVkU3RhdGU9YmkoYixjLGYsZCk7cmV0dXJufX1NLmZsYWdzfD1hO2UubWVtb2l6ZWRTdGF0ZT1iaSgxfGIsYyxmLGQpfWZ1bmN0aW9uIG1pKGEsYil7cmV0dXJuIGtpKDgzOTA2NTYsOCxhLGIpfWZ1bmN0aW9uICRoKGEsYil7cmV0dXJuIGxpKDIwNDgsOCxhLGIpfWZ1bmN0aW9uIG5pKGEsYil7cmV0dXJuIGxpKDQsMixhLGIpfWZ1bmN0aW9uIG9pKGEsYil7cmV0dXJuIGxpKDQsNCxhLGIpfVxuZnVuY3Rpb24gcGkoYSxiKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilyZXR1cm4gYT1hKCksYihhKSxmdW5jdGlvbigpe2IobnVsbCl9O2lmKG51bGwhPT1iJiZ2b2lkIDAhPT1iKXJldHVybiBhPWEoKSxiLmN1cnJlbnQ9YSxmdW5jdGlvbigpe2IuY3VycmVudD1udWxsfX1mdW5jdGlvbiBxaShhLGIsYyl7Yz1udWxsIT09YyYmdm9pZCAwIT09Yz9jLmNvbmNhdChbYV0pOm51bGw7cmV0dXJuIGxpKDQsNCxwaS5iaW5kKG51bGwsYixhKSxjKX1mdW5jdGlvbiByaSgpe31mdW5jdGlvbiBzaShhLGIpe3ZhciBjPVVoKCk7Yj12b2lkIDA9PT1iP251bGw6Yjt2YXIgZD1jLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWQmJm51bGwhPT1iJiZNaChiLGRbMV0pKXJldHVybiBkWzBdO2MubWVtb2l6ZWRTdGF0ZT1bYSxiXTtyZXR1cm4gYX1cbmZ1bmN0aW9uIHRpKGEsYil7dmFyIGM9VWgoKTtiPXZvaWQgMD09PWI/bnVsbDpiO3ZhciBkPWMubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09ZCYmbnVsbCE9PWImJk1oKGIsZFsxXSkpcmV0dXJuIGRbMF07YT1hKCk7Yy5tZW1vaXplZFN0YXRlPVthLGJdO3JldHVybiBhfWZ1bmN0aW9uIHVpKGEsYixjKXtpZigwPT09KEhoJjIxKSlyZXR1cm4gYS5iYXNlU3RhdGUmJihhLmJhc2VTdGF0ZT0hMSxkaD0hMCksYS5tZW1vaXplZFN0YXRlPWM7SGUoYyxiKXx8KGM9eWMoKSxNLmxhbmVzfD1jLHJofD1jLGEuYmFzZVN0YXRlPSEwKTtyZXR1cm4gYn1mdW5jdGlvbiB2aShhLGIpe3ZhciBjPUM7Qz0wIT09YyYmND5jP2M6NDthKCEwKTt2YXIgZD1HaC50cmFuc2l0aW9uO0doLnRyYW5zaXRpb249e307dHJ5e2EoITEpLGIoKX1maW5hbGx5e0M9YyxHaC50cmFuc2l0aW9uPWR9fWZ1bmN0aW9uIHdpKCl7cmV0dXJuIFVoKCkubWVtb2l6ZWRTdGF0ZX1cbmZ1bmN0aW9uIHhpKGEsYixjKXt2YXIgZD15aShhKTtjPXtsYW5lOmQsYWN0aW9uOmMsaGFzRWFnZXJTdGF0ZTohMSxlYWdlclN0YXRlOm51bGwsbmV4dDpudWxsfTtpZih6aShhKSlBaShiLGMpO2Vsc2UgaWYoYz1oaChhLGIsYyxkKSxudWxsIT09Yyl7dmFyIGU9UigpO2dpKGMsYSxkLGUpO0JpKGMsYixkKX19XG5mdW5jdGlvbiBpaShhLGIsYyl7dmFyIGQ9eWkoYSksZT17bGFuZTpkLGFjdGlvbjpjLGhhc0VhZ2VyU3RhdGU6ITEsZWFnZXJTdGF0ZTpudWxsLG5leHQ6bnVsbH07aWYoemkoYSkpQWkoYixlKTtlbHNle3ZhciBmPWEuYWx0ZXJuYXRlO2lmKDA9PT1hLmxhbmVzJiYobnVsbD09PWZ8fDA9PT1mLmxhbmVzKSYmKGY9Yi5sYXN0UmVuZGVyZWRSZWR1Y2VyLG51bGwhPT1mKSl0cnl7dmFyIGc9Yi5sYXN0UmVuZGVyZWRTdGF0ZSxoPWYoZyxjKTtlLmhhc0VhZ2VyU3RhdGU9ITA7ZS5lYWdlclN0YXRlPWg7aWYoSGUoaCxnKSl7dmFyIGs9Yi5pbnRlcmxlYXZlZDtudWxsPT09az8oZS5uZXh0PWUsZ2goYikpOihlLm5leHQ9ay5uZXh0LGsubmV4dD1lKTtiLmludGVybGVhdmVkPWU7cmV0dXJufX1jYXRjaChsKXt9ZmluYWxseXt9Yz1oaChhLGIsZSxkKTtudWxsIT09YyYmKGU9UigpLGdpKGMsYSxkLGUpLEJpKGMsYixkKSl9fVxuZnVuY3Rpb24gemkoYSl7dmFyIGI9YS5hbHRlcm5hdGU7cmV0dXJuIGE9PT1NfHxudWxsIT09YiYmYj09PU19ZnVuY3Rpb24gQWkoYSxiKXtKaD1JaD0hMDt2YXIgYz1hLnBlbmRpbmc7bnVsbD09PWM/Yi5uZXh0PWI6KGIubmV4dD1jLm5leHQsYy5uZXh0PWIpO2EucGVuZGluZz1ifWZ1bmN0aW9uIEJpKGEsYixjKXtpZigwIT09KGMmNDE5NDI0MCkpe3ZhciBkPWIubGFuZXM7ZCY9YS5wZW5kaW5nTGFuZXM7Y3w9ZDtiLmxhbmVzPWM7Q2MoYSxjKX19XG52YXIgUmg9e3JlYWRDb250ZXh0OmVoLHVzZUNhbGxiYWNrOlAsdXNlQ29udGV4dDpQLHVzZUVmZmVjdDpQLHVzZUltcGVyYXRpdmVIYW5kbGU6UCx1c2VJbnNlcnRpb25FZmZlY3Q6UCx1c2VMYXlvdXRFZmZlY3Q6UCx1c2VNZW1vOlAsdXNlUmVkdWNlcjpQLHVzZVJlZjpQLHVzZVN0YXRlOlAsdXNlRGVidWdWYWx1ZTpQLHVzZURlZmVycmVkVmFsdWU6UCx1c2VUcmFuc2l0aW9uOlAsdXNlTXV0YWJsZVNvdXJjZTpQLHVzZVN5bmNFeHRlcm5hbFN0b3JlOlAsdXNlSWQ6UCx1bnN0YWJsZV9pc05ld1JlY29uY2lsZXI6ITF9LE9oPXtyZWFkQ29udGV4dDplaCx1c2VDYWxsYmFjazpmdW5jdGlvbihhLGIpe1RoKCkubWVtb2l6ZWRTdGF0ZT1bYSx2b2lkIDA9PT1iP251bGw6Yl07cmV0dXJuIGF9LHVzZUNvbnRleHQ6ZWgsdXNlRWZmZWN0Om1pLHVzZUltcGVyYXRpdmVIYW5kbGU6ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9PWMmJnZvaWQgMCE9PWM/Yy5jb25jYXQoW2FdKTpudWxsO3JldHVybiBraSg0MTk0MzA4LFxuNCxwaS5iaW5kKG51bGwsYixhKSxjKX0sdXNlTGF5b3V0RWZmZWN0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGtpKDQxOTQzMDgsNCxhLGIpfSx1c2VJbnNlcnRpb25FZmZlY3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4ga2koNCwyLGEsYil9LHVzZU1lbW86ZnVuY3Rpb24oYSxiKXt2YXIgYz1UaCgpO2I9dm9pZCAwPT09Yj9udWxsOmI7YT1hKCk7Yy5tZW1vaXplZFN0YXRlPVthLGJdO3JldHVybiBhfSx1c2VSZWR1Y2VyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1UaCgpO2I9dm9pZCAwIT09Yz9jKGIpOmI7ZC5tZW1vaXplZFN0YXRlPWQuYmFzZVN0YXRlPWI7YT17cGVuZGluZzpudWxsLGludGVybGVhdmVkOm51bGwsbGFuZXM6MCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6YSxsYXN0UmVuZGVyZWRTdGF0ZTpifTtkLnF1ZXVlPWE7YT1hLmRpc3BhdGNoPXhpLmJpbmQobnVsbCxNLGEpO3JldHVybltkLm1lbW9pemVkU3RhdGUsYV19LHVzZVJlZjpmdW5jdGlvbihhKXt2YXIgYj1cblRoKCk7YT17Y3VycmVudDphfTtyZXR1cm4gYi5tZW1vaXplZFN0YXRlPWF9LHVzZVN0YXRlOmhpLHVzZURlYnVnVmFsdWU6cmksdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gVGgoKS5tZW1vaXplZFN0YXRlPWF9LHVzZVRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT1oaSghMSksYj1hWzBdO2E9dmkuYmluZChudWxsLGFbMV0pO1RoKCkubWVtb2l6ZWRTdGF0ZT1hO3JldHVybltiLGFdfSx1c2VNdXRhYmxlU291cmNlOmZ1bmN0aW9uKCl7fSx1c2VTeW5jRXh0ZXJuYWxTdG9yZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9TSxlPVRoKCk7aWYoSSl7aWYodm9pZCAwPT09Yyl0aHJvdyBFcnJvcihwKDQwNykpO2M9YygpfWVsc2V7Yz1iKCk7aWYobnVsbD09PVEpdGhyb3cgRXJyb3IocCgzNDkpKTswIT09KEhoJjMwKXx8ZGkoZCxiLGMpfWUubWVtb2l6ZWRTdGF0ZT1jO3ZhciBmPXt2YWx1ZTpjLGdldFNuYXBzaG90OmJ9O2UucXVldWU9ZjttaShhaS5iaW5kKG51bGwsZCxcbmYsYSksW2FdKTtkLmZsYWdzfD0yMDQ4O2JpKDksY2kuYmluZChudWxsLGQsZixjLGIpLHZvaWQgMCxudWxsKTtyZXR1cm4gY30sdXNlSWQ6ZnVuY3Rpb24oKXt2YXIgYT1UaCgpLGI9US5pZGVudGlmaWVyUHJlZml4O2lmKEkpe3ZhciBjPXNnO3ZhciBkPXJnO2M9KGQmfigxPDwzMi1vYyhkKS0xKSkudG9TdHJpbmcoMzIpK2M7Yj1cIjpcIitiK1wiUlwiK2M7Yz1LaCsrOzA8YyYmKGIrPVwiSFwiK2MudG9TdHJpbmcoMzIpKTtiKz1cIjpcIn1lbHNlIGM9TGgrKyxiPVwiOlwiK2IrXCJyXCIrYy50b1N0cmluZygzMikrXCI6XCI7cmV0dXJuIGEubWVtb2l6ZWRTdGF0ZT1ifSx1bnN0YWJsZV9pc05ld1JlY29uY2lsZXI6ITF9LFBoPXtyZWFkQ29udGV4dDplaCx1c2VDYWxsYmFjazpzaSx1c2VDb250ZXh0OmVoLHVzZUVmZmVjdDokaCx1c2VJbXBlcmF0aXZlSGFuZGxlOnFpLHVzZUluc2VydGlvbkVmZmVjdDpuaSx1c2VMYXlvdXRFZmZlY3Q6b2ksdXNlTWVtbzp0aSx1c2VSZWR1Y2VyOldoLHVzZVJlZjpqaSx1c2VTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBXaChWaCl9LFxudXNlRGVidWdWYWx1ZTpyaSx1c2VEZWZlcnJlZFZhbHVlOmZ1bmN0aW9uKGEpe3ZhciBiPVVoKCk7cmV0dXJuIHVpKGIsTi5tZW1vaXplZFN0YXRlLGEpfSx1c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9V2goVmgpWzBdLGI9VWgoKS5tZW1vaXplZFN0YXRlO3JldHVyblthLGJdfSx1c2VNdXRhYmxlU291cmNlOlloLHVzZVN5bmNFeHRlcm5hbFN0b3JlOlpoLHVzZUlkOndpLHVuc3RhYmxlX2lzTmV3UmVjb25jaWxlcjohMX0sUWg9e3JlYWRDb250ZXh0OmVoLHVzZUNhbGxiYWNrOnNpLHVzZUNvbnRleHQ6ZWgsdXNlRWZmZWN0OiRoLHVzZUltcGVyYXRpdmVIYW5kbGU6cWksdXNlSW5zZXJ0aW9uRWZmZWN0Om5pLHVzZUxheW91dEVmZmVjdDpvaSx1c2VNZW1vOnRpLHVzZVJlZHVjZXI6WGgsdXNlUmVmOmppLHVzZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIFhoKFZoKX0sdXNlRGVidWdWYWx1ZTpyaSx1c2VEZWZlcnJlZFZhbHVlOmZ1bmN0aW9uKGEpe3ZhciBiPVVoKCk7cmV0dXJuIG51bGw9PT1cbk4/Yi5tZW1vaXplZFN0YXRlPWE6dWkoYixOLm1lbW9pemVkU3RhdGUsYSl9LHVzZVRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT1YaChWaClbMF0sYj1VaCgpLm1lbW9pemVkU3RhdGU7cmV0dXJuW2EsYl19LHVzZU11dGFibGVTb3VyY2U6WWgsdXNlU3luY0V4dGVybmFsU3RvcmU6WmgsdXNlSWQ6d2ksdW5zdGFibGVfaXNOZXdSZWNvbmNpbGVyOiExfTtmdW5jdGlvbiBDaShhLGIpe2lmKGEmJmEuZGVmYXVsdFByb3BzKXtiPUEoe30sYik7YT1hLmRlZmF1bHRQcm9wcztmb3IodmFyIGMgaW4gYSl2b2lkIDA9PT1iW2NdJiYoYltjXT1hW2NdKTtyZXR1cm4gYn1yZXR1cm4gYn1mdW5jdGlvbiBEaShhLGIsYyxkKXtiPWEubWVtb2l6ZWRTdGF0ZTtjPWMoZCxiKTtjPW51bGw9PT1jfHx2b2lkIDA9PT1jP2I6QSh7fSxiLGMpO2EubWVtb2l6ZWRTdGF0ZT1jOzA9PT1hLmxhbmVzJiYoYS51cGRhdGVRdWV1ZS5iYXNlU3RhdGU9Yyl9XG52YXIgRWk9e2lzTW91bnRlZDpmdW5jdGlvbihhKXtyZXR1cm4oYT1hLl9yZWFjdEludGVybmFscyk/VmIoYSk9PT1hOiExfSxlbnF1ZXVlU2V0U3RhdGU6ZnVuY3Rpb24oYSxiLGMpe2E9YS5fcmVhY3RJbnRlcm5hbHM7dmFyIGQ9UigpLGU9eWkoYSksZj1taChkLGUpO2YucGF5bG9hZD1iO3ZvaWQgMCE9PWMmJm51bGwhPT1jJiYoZi5jYWxsYmFjaz1jKTtiPW5oKGEsZixlKTtudWxsIT09YiYmKGdpKGIsYSxlLGQpLG9oKGIsYSxlKSl9LGVucXVldWVSZXBsYWNlU3RhdGU6ZnVuY3Rpb24oYSxiLGMpe2E9YS5fcmVhY3RJbnRlcm5hbHM7dmFyIGQ9UigpLGU9eWkoYSksZj1taChkLGUpO2YudGFnPTE7Zi5wYXlsb2FkPWI7dm9pZCAwIT09YyYmbnVsbCE9PWMmJihmLmNhbGxiYWNrPWMpO2I9bmgoYSxmLGUpO251bGwhPT1iJiYoZ2koYixhLGUsZCksb2goYixhLGUpKX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKGEsYil7YT1hLl9yZWFjdEludGVybmFsczt2YXIgYz1SKCksZD1cbnlpKGEpLGU9bWgoYyxkKTtlLnRhZz0yO3ZvaWQgMCE9PWImJm51bGwhPT1iJiYoZS5jYWxsYmFjaz1iKTtiPW5oKGEsZSxkKTtudWxsIT09YiYmKGdpKGIsYSxkLGMpLG9oKGIsYSxkKSl9fTtmdW5jdGlvbiBGaShhLGIsYyxkLGUsZixnKXthPWEuc3RhdGVOb2RlO3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLnNob3VsZENvbXBvbmVudFVwZGF0ZT9hLnNob3VsZENvbXBvbmVudFVwZGF0ZShkLGYsZyk6Yi5wcm90b3R5cGUmJmIucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50PyFJZShjLGQpfHwhSWUoZSxmKTohMH1cbmZ1bmN0aW9uIEdpKGEsYixjKXt2YXIgZD0hMSxlPVZmO3ZhciBmPWIuY29udGV4dFR5cGU7XCJvYmplY3RcIj09PXR5cGVvZiBmJiZudWxsIT09Zj9mPWVoKGYpOihlPVpmKGIpP1hmOkguY3VycmVudCxkPWIuY29udGV4dFR5cGVzLGY9KGQ9bnVsbCE9PWQmJnZvaWQgMCE9PWQpP1lmKGEsZSk6VmYpO2I9bmV3IGIoYyxmKTthLm1lbW9pemVkU3RhdGU9bnVsbCE9PWIuc3RhdGUmJnZvaWQgMCE9PWIuc3RhdGU/Yi5zdGF0ZTpudWxsO2IudXBkYXRlcj1FaTthLnN0YXRlTm9kZT1iO2IuX3JlYWN0SW50ZXJuYWxzPWE7ZCYmKGE9YS5zdGF0ZU5vZGUsYS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PWUsYS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1mKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIEhpKGEsYixjLGQpe2E9Yi5zdGF0ZTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZiLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoYyxkKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYi5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmYi5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhjLGQpO2Iuc3RhdGUhPT1hJiZFaS5lbnF1ZXVlUmVwbGFjZVN0YXRlKGIsYi5zdGF0ZSxudWxsKX1cbmZ1bmN0aW9uIElpKGEsYixjLGQpe3ZhciBlPWEuc3RhdGVOb2RlO2UucHJvcHM9YztlLnN0YXRlPWEubWVtb2l6ZWRTdGF0ZTtlLnJlZnM9e307a2goYSk7dmFyIGY9Yi5jb250ZXh0VHlwZTtcIm9iamVjdFwiPT09dHlwZW9mIGYmJm51bGwhPT1mP2UuY29udGV4dD1laChmKTooZj1aZihiKT9YZjpILmN1cnJlbnQsZS5jb250ZXh0PVlmKGEsZikpO2Uuc3RhdGU9YS5tZW1vaXplZFN0YXRlO2Y9Yi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XCJmdW5jdGlvblwiPT09dHlwZW9mIGYmJihEaShhLGIsZixjKSxlLnN0YXRlPWEubWVtb2l6ZWRTdGF0ZSk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGUuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGUuY29tcG9uZW50V2lsbE1vdW50fHwoYj1lLnN0YXRlLFxuXCJmdW5jdGlvblwiPT09dHlwZW9mIGUuY29tcG9uZW50V2lsbE1vdW50JiZlLmNvbXBvbmVudFdpbGxNb3VudCgpLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQmJmUuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpLGIhPT1lLnN0YXRlJiZFaS5lbnF1ZXVlUmVwbGFjZVN0YXRlKGUsZS5zdGF0ZSxudWxsKSxxaChhLGMsZSxkKSxlLnN0YXRlPWEubWVtb2l6ZWRTdGF0ZSk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGUuY29tcG9uZW50RGlkTW91bnQmJihhLmZsYWdzfD00MTk0MzA4KX1mdW5jdGlvbiBKaShhLGIpe3RyeXt2YXIgYz1cIlwiLGQ9YjtkbyBjKz1QYShkKSxkPWQucmV0dXJuO3doaWxlKGQpO3ZhciBlPWN9Y2F0Y2goZil7ZT1cIlxcbkVycm9yIGdlbmVyYXRpbmcgc3RhY2s6IFwiK2YubWVzc2FnZStcIlxcblwiK2Yuc3RhY2t9cmV0dXJue3ZhbHVlOmEsc291cmNlOmIsc3RhY2s6ZSxkaWdlc3Q6bnVsbH19XG5mdW5jdGlvbiBLaShhLGIsYyl7cmV0dXJue3ZhbHVlOmEsc291cmNlOm51bGwsc3RhY2s6bnVsbCE9Yz9jOm51bGwsZGlnZXN0Om51bGwhPWI/YjpudWxsfX1mdW5jdGlvbiBMaShhLGIpe3RyeXtjb25zb2xlLmVycm9yKGIudmFsdWUpfWNhdGNoKGMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBjO30pfX12YXIgTWk9XCJmdW5jdGlvblwiPT09dHlwZW9mIFdlYWtNYXA/V2Vha01hcDpNYXA7ZnVuY3Rpb24gTmkoYSxiLGMpe2M9bWgoLTEsYyk7Yy50YWc9MztjLnBheWxvYWQ9e2VsZW1lbnQ6bnVsbH07dmFyIGQ9Yi52YWx1ZTtjLmNhbGxiYWNrPWZ1bmN0aW9uKCl7T2l8fChPaT0hMCxQaT1kKTtMaShhLGIpfTtyZXR1cm4gY31cbmZ1bmN0aW9uIFFpKGEsYixjKXtjPW1oKC0xLGMpO2MudGFnPTM7dmFyIGQ9YS50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZCl7dmFyIGU9Yi52YWx1ZTtjLnBheWxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZChlKX07Yy5jYWxsYmFjaz1mdW5jdGlvbigpe0xpKGEsYil9fXZhciBmPWEuc3RhdGVOb2RlO251bGwhPT1mJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZi5jb21wb25lbnREaWRDYXRjaCYmKGMuY2FsbGJhY2s9ZnVuY3Rpb24oKXtMaShhLGIpO1wiZnVuY3Rpb25cIiE9PXR5cGVvZiBkJiYobnVsbD09PVJpP1JpPW5ldyBTZXQoW3RoaXNdKTpSaS5hZGQodGhpcykpO3ZhciBjPWIuc3RhY2s7dGhpcy5jb21wb25lbnREaWRDYXRjaChiLnZhbHVlLHtjb21wb25lbnRTdGFjazpudWxsIT09Yz9jOlwiXCJ9KX0pO3JldHVybiBjfVxuZnVuY3Rpb24gU2koYSxiLGMpe3ZhciBkPWEucGluZ0NhY2hlO2lmKG51bGw9PT1kKXtkPWEucGluZ0NhY2hlPW5ldyBNaTt2YXIgZT1uZXcgU2V0O2Quc2V0KGIsZSl9ZWxzZSBlPWQuZ2V0KGIpLHZvaWQgMD09PWUmJihlPW5ldyBTZXQsZC5zZXQoYixlKSk7ZS5oYXMoYyl8fChlLmFkZChjKSxhPVRpLmJpbmQobnVsbCxhLGIsYyksYi50aGVuKGEsYSkpfWZ1bmN0aW9uIFVpKGEpe2Rve3ZhciBiO2lmKGI9MTM9PT1hLnRhZyliPWEubWVtb2l6ZWRTdGF0ZSxiPW51bGwhPT1iP251bGwhPT1iLmRlaHlkcmF0ZWQ/ITA6ITE6ITA7aWYoYilyZXR1cm4gYTthPWEucmV0dXJufXdoaWxlKG51bGwhPT1hKTtyZXR1cm4gbnVsbH1cbmZ1bmN0aW9uIFZpKGEsYixjLGQsZSl7aWYoMD09PShhLm1vZGUmMSkpcmV0dXJuIGE9PT1iP2EuZmxhZ3N8PTY1NTM2OihhLmZsYWdzfD0xMjgsYy5mbGFnc3w9MTMxMDcyLGMuZmxhZ3MmPS01MjgwNSwxPT09Yy50YWcmJihudWxsPT09Yy5hbHRlcm5hdGU/Yy50YWc9MTc6KGI9bWgoLTEsMSksYi50YWc9MixuaChjLGIsMSkpKSxjLmxhbmVzfD0xKSxhO2EuZmxhZ3N8PTY1NTM2O2EubGFuZXM9ZTtyZXR1cm4gYX12YXIgV2k9dWEuUmVhY3RDdXJyZW50T3duZXIsZGg9ITE7ZnVuY3Rpb24gWGkoYSxiLGMsZCl7Yi5jaGlsZD1udWxsPT09YT9WZyhiLG51bGwsYyxkKTpVZyhiLGEuY2hpbGQsYyxkKX1cbmZ1bmN0aW9uIFlpKGEsYixjLGQsZSl7Yz1jLnJlbmRlcjt2YXIgZj1iLnJlZjtjaChiLGUpO2Q9TmgoYSxiLGMsZCxmLGUpO2M9U2goKTtpZihudWxsIT09YSYmIWRoKXJldHVybiBiLnVwZGF0ZVF1ZXVlPWEudXBkYXRlUXVldWUsYi5mbGFncyY9LTIwNTMsYS5sYW5lcyY9fmUsWmkoYSxiLGUpO0kmJmMmJnZnKGIpO2IuZmxhZ3N8PTE7WGkoYSxiLGQsZSk7cmV0dXJuIGIuY2hpbGR9XG5mdW5jdGlvbiAkaShhLGIsYyxkLGUpe2lmKG51bGw9PT1hKXt2YXIgZj1jLnR5cGU7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGYmJiFhaihmKSYmdm9pZCAwPT09Zi5kZWZhdWx0UHJvcHMmJm51bGw9PT1jLmNvbXBhcmUmJnZvaWQgMD09PWMuZGVmYXVsdFByb3BzKXJldHVybiBiLnRhZz0xNSxiLnR5cGU9ZixiaihhLGIsZixkLGUpO2E9UmcoYy50eXBlLG51bGwsZCxiLGIubW9kZSxlKTthLnJlZj1iLnJlZjthLnJldHVybj1iO3JldHVybiBiLmNoaWxkPWF9Zj1hLmNoaWxkO2lmKDA9PT0oYS5sYW5lcyZlKSl7dmFyIGc9Zi5tZW1vaXplZFByb3BzO2M9Yy5jb21wYXJlO2M9bnVsbCE9PWM/YzpJZTtpZihjKGcsZCkmJmEucmVmPT09Yi5yZWYpcmV0dXJuIFppKGEsYixlKX1iLmZsYWdzfD0xO2E9UGcoZixkKTthLnJlZj1iLnJlZjthLnJldHVybj1iO3JldHVybiBiLmNoaWxkPWF9XG5mdW5jdGlvbiBiaihhLGIsYyxkLGUpe2lmKG51bGwhPT1hKXt2YXIgZj1hLm1lbW9pemVkUHJvcHM7aWYoSWUoZixkKSYmYS5yZWY9PT1iLnJlZilpZihkaD0hMSxiLnBlbmRpbmdQcm9wcz1kPWYsMCE9PShhLmxhbmVzJmUpKTAhPT0oYS5mbGFncyYxMzEwNzIpJiYoZGg9ITApO2Vsc2UgcmV0dXJuIGIubGFuZXM9YS5sYW5lcyxaaShhLGIsZSl9cmV0dXJuIGNqKGEsYixjLGQsZSl9XG5mdW5jdGlvbiBkaihhLGIsYyl7dmFyIGQ9Yi5wZW5kaW5nUHJvcHMsZT1kLmNoaWxkcmVuLGY9bnVsbCE9PWE/YS5tZW1vaXplZFN0YXRlOm51bGw7aWYoXCJoaWRkZW5cIj09PWQubW9kZSlpZigwPT09KGIubW9kZSYxKSliLm1lbW9pemVkU3RhdGU9e2Jhc2VMYW5lczowLGNhY2hlUG9vbDpudWxsLHRyYW5zaXRpb25zOm51bGx9LEcoZWosZmopLGZqfD1jO2Vsc2V7aWYoMD09PShjJjEwNzM3NDE4MjQpKXJldHVybiBhPW51bGwhPT1mP2YuYmFzZUxhbmVzfGM6YyxiLmxhbmVzPWIuY2hpbGRMYW5lcz0xMDczNzQxODI0LGIubWVtb2l6ZWRTdGF0ZT17YmFzZUxhbmVzOmEsY2FjaGVQb29sOm51bGwsdHJhbnNpdGlvbnM6bnVsbH0sYi51cGRhdGVRdWV1ZT1udWxsLEcoZWosZmopLGZqfD1hLG51bGw7Yi5tZW1vaXplZFN0YXRlPXtiYXNlTGFuZXM6MCxjYWNoZVBvb2w6bnVsbCx0cmFuc2l0aW9uczpudWxsfTtkPW51bGwhPT1mP2YuYmFzZUxhbmVzOmM7Ryhlaixmaik7Zmp8PWR9ZWxzZSBudWxsIT09XG5mPyhkPWYuYmFzZUxhbmVzfGMsYi5tZW1vaXplZFN0YXRlPW51bGwpOmQ9YyxHKGVqLGZqKSxmanw9ZDtYaShhLGIsZSxjKTtyZXR1cm4gYi5jaGlsZH1mdW5jdGlvbiBnaihhLGIpe3ZhciBjPWIucmVmO2lmKG51bGw9PT1hJiZudWxsIT09Y3x8bnVsbCE9PWEmJmEucmVmIT09YyliLmZsYWdzfD01MTIsYi5mbGFnc3w9MjA5NzE1Mn1mdW5jdGlvbiBjaihhLGIsYyxkLGUpe3ZhciBmPVpmKGMpP1hmOkguY3VycmVudDtmPVlmKGIsZik7Y2goYixlKTtjPU5oKGEsYixjLGQsZixlKTtkPVNoKCk7aWYobnVsbCE9PWEmJiFkaClyZXR1cm4gYi51cGRhdGVRdWV1ZT1hLnVwZGF0ZVF1ZXVlLGIuZmxhZ3MmPS0yMDUzLGEubGFuZXMmPX5lLFppKGEsYixlKTtJJiZkJiZ2ZyhiKTtiLmZsYWdzfD0xO1hpKGEsYixjLGUpO3JldHVybiBiLmNoaWxkfVxuZnVuY3Rpb24gaGooYSxiLGMsZCxlKXtpZihaZihjKSl7dmFyIGY9ITA7Y2coYil9ZWxzZSBmPSExO2NoKGIsZSk7aWYobnVsbD09PWIuc3RhdGVOb2RlKWlqKGEsYiksR2koYixjLGQpLElpKGIsYyxkLGUpLGQ9ITA7ZWxzZSBpZihudWxsPT09YSl7dmFyIGc9Yi5zdGF0ZU5vZGUsaD1iLm1lbW9pemVkUHJvcHM7Zy5wcm9wcz1oO3ZhciBrPWcuY29udGV4dCxsPWMuY29udGV4dFR5cGU7XCJvYmplY3RcIj09PXR5cGVvZiBsJiZudWxsIT09bD9sPWVoKGwpOihsPVpmKGMpP1hmOkguY3VycmVudCxsPVlmKGIsbCkpO3ZhciBtPWMuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLHE9XCJmdW5jdGlvblwiPT09dHlwZW9mIG18fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlO3F8fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzfHxcbihoIT09ZHx8ayE9PWwpJiZIaShiLGcsZCxsKTtqaD0hMTt2YXIgcj1iLm1lbW9pemVkU3RhdGU7Zy5zdGF0ZT1yO3FoKGIsZCxnLGUpO2s9Yi5tZW1vaXplZFN0YXRlO2ghPT1kfHxyIT09a3x8V2YuY3VycmVudHx8amg/KFwiZnVuY3Rpb25cIj09PXR5cGVvZiBtJiYoRGkoYixjLG0sZCksaz1iLm1lbW9pemVkU3RhdGUpLChoPWpofHxGaShiLGMsaCxkLHIsayxsKSk/KHF8fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudFdpbGxNb3VudHx8KFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmNvbXBvbmVudFdpbGxNb3VudCYmZy5jb21wb25lbnRXaWxsTW91bnQoKSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZnLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSksXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuY29tcG9uZW50RGlkTW91bnQmJihiLmZsYWdzfD00MTk0MzA4KSk6XG4oXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuY29tcG9uZW50RGlkTW91bnQmJihiLmZsYWdzfD00MTk0MzA4KSxiLm1lbW9pemVkUHJvcHM9ZCxiLm1lbW9pemVkU3RhdGU9ayksZy5wcm9wcz1kLGcuc3RhdGU9ayxnLmNvbnRleHQ9bCxkPWgpOihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5jb21wb25lbnREaWRNb3VudCYmKGIuZmxhZ3N8PTQxOTQzMDgpLGQ9ITEpfWVsc2V7Zz1iLnN0YXRlTm9kZTtsaChhLGIpO2g9Yi5tZW1vaXplZFByb3BzO2w9Yi50eXBlPT09Yi5lbGVtZW50VHlwZT9oOkNpKGIudHlwZSxoKTtnLnByb3BzPWw7cT1iLnBlbmRpbmdQcm9wcztyPWcuY29udGV4dDtrPWMuY29udGV4dFR5cGU7XCJvYmplY3RcIj09PXR5cGVvZiBrJiZudWxsIT09az9rPWVoKGspOihrPVpmKGMpP1hmOkguY3VycmVudCxrPVlmKGIsaykpO3ZhciB5PWMuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOyhtPVwiZnVuY3Rpb25cIj09PXR5cGVvZiB5fHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSl8fFxuXCJmdW5jdGlvblwiIT09dHlwZW9mIGcuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fChoIT09cXx8ciE9PWspJiZIaShiLGcsZCxrKTtqaD0hMTtyPWIubWVtb2l6ZWRTdGF0ZTtnLnN0YXRlPXI7cWgoYixkLGcsZSk7dmFyIG49Yi5tZW1vaXplZFN0YXRlO2ghPT1xfHxyIT09bnx8V2YuY3VycmVudHx8amg/KFwiZnVuY3Rpb25cIj09PXR5cGVvZiB5JiYoRGkoYixjLHksZCksbj1iLm1lbW9pemVkU3RhdGUpLChsPWpofHxGaShiLGMsbCxkLHIsbixrKXx8ITEpPyhtfHxcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGcuY29tcG9uZW50V2lsbFVwZGF0ZXx8KFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmNvbXBvbmVudFdpbGxVcGRhdGUmJmcuY29tcG9uZW50V2lsbFVwZGF0ZShkLG4sayksXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUmJlxuZy5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZShkLG4saykpLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmNvbXBvbmVudERpZFVwZGF0ZSYmKGIuZmxhZ3N8PTQpLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlJiYoYi5mbGFnc3w9MTAyNCkpOihcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5jb21wb25lbnREaWRVcGRhdGV8fGg9PT1hLm1lbW9pemVkUHJvcHMmJnI9PT1hLm1lbW9pemVkU3RhdGV8fChiLmZsYWdzfD00KSxcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8aD09PWEubWVtb2l6ZWRQcm9wcyYmcj09PWEubWVtb2l6ZWRTdGF0ZXx8KGIuZmxhZ3N8PTEwMjQpLGIubWVtb2l6ZWRQcm9wcz1kLGIubWVtb2l6ZWRTdGF0ZT1uKSxnLnByb3BzPWQsZy5zdGF0ZT1uLGcuY29udGV4dD1rLGQ9bCk6KFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudERpZFVwZGF0ZXx8aD09PWEubWVtb2l6ZWRQcm9wcyYmcj09PVxuYS5tZW1vaXplZFN0YXRlfHwoYi5mbGFnc3w9NCksXCJmdW5jdGlvblwiIT09dHlwZW9mIGcuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fGg9PT1hLm1lbW9pemVkUHJvcHMmJnI9PT1hLm1lbW9pemVkU3RhdGV8fChiLmZsYWdzfD0xMDI0KSxkPSExKX1yZXR1cm4gamooYSxiLGMsZCxmLGUpfVxuZnVuY3Rpb24gamooYSxiLGMsZCxlLGYpe2dqKGEsYik7dmFyIGc9MCE9PShiLmZsYWdzJjEyOCk7aWYoIWQmJiFnKXJldHVybiBlJiZkZyhiLGMsITEpLFppKGEsYixmKTtkPWIuc3RhdGVOb2RlO1dpLmN1cnJlbnQ9Yjt2YXIgaD1nJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYy5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I/bnVsbDpkLnJlbmRlcigpO2IuZmxhZ3N8PTE7bnVsbCE9PWEmJmc/KGIuY2hpbGQ9VWcoYixhLmNoaWxkLG51bGwsZiksYi5jaGlsZD1VZyhiLG51bGwsaCxmKSk6WGkoYSxiLGgsZik7Yi5tZW1vaXplZFN0YXRlPWQuc3RhdGU7ZSYmZGcoYixjLCEwKTtyZXR1cm4gYi5jaGlsZH1mdW5jdGlvbiBraihhKXt2YXIgYj1hLnN0YXRlTm9kZTtiLnBlbmRpbmdDb250ZXh0P2FnKGEsYi5wZW5kaW5nQ29udGV4dCxiLnBlbmRpbmdDb250ZXh0IT09Yi5jb250ZXh0KTpiLmNvbnRleHQmJmFnKGEsYi5jb250ZXh0LCExKTt5aChhLGIuY29udGFpbmVySW5mbyl9XG5mdW5jdGlvbiBsaihhLGIsYyxkLGUpe0lnKCk7SmcoZSk7Yi5mbGFnc3w9MjU2O1hpKGEsYixjLGQpO3JldHVybiBiLmNoaWxkfXZhciBtaj17ZGVoeWRyYXRlZDpudWxsLHRyZWVDb250ZXh0Om51bGwscmV0cnlMYW5lOjB9O2Z1bmN0aW9uIG5qKGEpe3JldHVybntiYXNlTGFuZXM6YSxjYWNoZVBvb2w6bnVsbCx0cmFuc2l0aW9uczpudWxsfX1cbmZ1bmN0aW9uIG9qKGEsYixjKXt2YXIgZD1iLnBlbmRpbmdQcm9wcyxlPUwuY3VycmVudCxmPSExLGc9MCE9PShiLmZsYWdzJjEyOCksaDsoaD1nKXx8KGg9bnVsbCE9PWEmJm51bGw9PT1hLm1lbW9pemVkU3RhdGU/ITE6MCE9PShlJjIpKTtpZihoKWY9ITAsYi5mbGFncyY9LTEyOTtlbHNlIGlmKG51bGw9PT1hfHxudWxsIT09YS5tZW1vaXplZFN0YXRlKWV8PTE7RyhMLGUmMSk7aWYobnVsbD09PWEpe0VnKGIpO2E9Yi5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1hJiYoYT1hLmRlaHlkcmF0ZWQsbnVsbCE9PWEpKXJldHVybiAwPT09KGIubW9kZSYxKT9iLmxhbmVzPTE6XCIkIVwiPT09YS5kYXRhP2IubGFuZXM9ODpiLmxhbmVzPTEwNzM3NDE4MjQsbnVsbDtnPWQuY2hpbGRyZW47YT1kLmZhbGxiYWNrO3JldHVybiBmPyhkPWIubW9kZSxmPWIuY2hpbGQsZz17bW9kZTpcImhpZGRlblwiLGNoaWxkcmVuOmd9LDA9PT0oZCYxKSYmbnVsbCE9PWY/KGYuY2hpbGRMYW5lcz0wLGYucGVuZGluZ1Byb3BzPVxuZyk6Zj1waihnLGQsMCxudWxsKSxhPVRnKGEsZCxjLG51bGwpLGYucmV0dXJuPWIsYS5yZXR1cm49YixmLnNpYmxpbmc9YSxiLmNoaWxkPWYsYi5jaGlsZC5tZW1vaXplZFN0YXRlPW5qKGMpLGIubWVtb2l6ZWRTdGF0ZT1taixhKTpxaihiLGcpfWU9YS5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1lJiYoaD1lLmRlaHlkcmF0ZWQsbnVsbCE9PWgpKXJldHVybiByaihhLGIsZyxkLGgsZSxjKTtpZihmKXtmPWQuZmFsbGJhY2s7Zz1iLm1vZGU7ZT1hLmNoaWxkO2g9ZS5zaWJsaW5nO3ZhciBrPXttb2RlOlwiaGlkZGVuXCIsY2hpbGRyZW46ZC5jaGlsZHJlbn07MD09PShnJjEpJiZiLmNoaWxkIT09ZT8oZD1iLmNoaWxkLGQuY2hpbGRMYW5lcz0wLGQucGVuZGluZ1Byb3BzPWssYi5kZWxldGlvbnM9bnVsbCk6KGQ9UGcoZSxrKSxkLnN1YnRyZWVGbGFncz1lLnN1YnRyZWVGbGFncyYxNDY4MDA2NCk7bnVsbCE9PWg/Zj1QZyhoLGYpOihmPVRnKGYsZyxjLG51bGwpLGYuZmxhZ3N8PTIpO2YucmV0dXJuPVxuYjtkLnJldHVybj1iO2Quc2libGluZz1mO2IuY2hpbGQ9ZDtkPWY7Zj1iLmNoaWxkO2c9YS5jaGlsZC5tZW1vaXplZFN0YXRlO2c9bnVsbD09PWc/bmooYyk6e2Jhc2VMYW5lczpnLmJhc2VMYW5lc3xjLGNhY2hlUG9vbDpudWxsLHRyYW5zaXRpb25zOmcudHJhbnNpdGlvbnN9O2YubWVtb2l6ZWRTdGF0ZT1nO2YuY2hpbGRMYW5lcz1hLmNoaWxkTGFuZXMmfmM7Yi5tZW1vaXplZFN0YXRlPW1qO3JldHVybiBkfWY9YS5jaGlsZDthPWYuc2libGluZztkPVBnKGYse21vZGU6XCJ2aXNpYmxlXCIsY2hpbGRyZW46ZC5jaGlsZHJlbn0pOzA9PT0oYi5tb2RlJjEpJiYoZC5sYW5lcz1jKTtkLnJldHVybj1iO2Quc2libGluZz1udWxsO251bGwhPT1hJiYoYz1iLmRlbGV0aW9ucyxudWxsPT09Yz8oYi5kZWxldGlvbnM9W2FdLGIuZmxhZ3N8PTE2KTpjLnB1c2goYSkpO2IuY2hpbGQ9ZDtiLm1lbW9pemVkU3RhdGU9bnVsbDtyZXR1cm4gZH1cbmZ1bmN0aW9uIHFqKGEsYil7Yj1waih7bW9kZTpcInZpc2libGVcIixjaGlsZHJlbjpifSxhLm1vZGUsMCxudWxsKTtiLnJldHVybj1hO3JldHVybiBhLmNoaWxkPWJ9ZnVuY3Rpb24gc2ooYSxiLGMsZCl7bnVsbCE9PWQmJkpnKGQpO1VnKGIsYS5jaGlsZCxudWxsLGMpO2E9cWooYixiLnBlbmRpbmdQcm9wcy5jaGlsZHJlbik7YS5mbGFnc3w9MjtiLm1lbW9pemVkU3RhdGU9bnVsbDtyZXR1cm4gYX1cbmZ1bmN0aW9uIHJqKGEsYixjLGQsZSxmLGcpe2lmKGMpe2lmKGIuZmxhZ3MmMjU2KXJldHVybiBiLmZsYWdzJj0tMjU3LGQ9S2koRXJyb3IocCg0MjIpKSksc2ooYSxiLGcsZCk7aWYobnVsbCE9PWIubWVtb2l6ZWRTdGF0ZSlyZXR1cm4gYi5jaGlsZD1hLmNoaWxkLGIuZmxhZ3N8PTEyOCxudWxsO2Y9ZC5mYWxsYmFjaztlPWIubW9kZTtkPXBqKHttb2RlOlwidmlzaWJsZVwiLGNoaWxkcmVuOmQuY2hpbGRyZW59LGUsMCxudWxsKTtmPVRnKGYsZSxnLG51bGwpO2YuZmxhZ3N8PTI7ZC5yZXR1cm49YjtmLnJldHVybj1iO2Quc2libGluZz1mO2IuY2hpbGQ9ZDswIT09KGIubW9kZSYxKSYmVWcoYixhLmNoaWxkLG51bGwsZyk7Yi5jaGlsZC5tZW1vaXplZFN0YXRlPW5qKGcpO2IubWVtb2l6ZWRTdGF0ZT1tajtyZXR1cm4gZn1pZigwPT09KGIubW9kZSYxKSlyZXR1cm4gc2ooYSxiLGcsbnVsbCk7aWYoXCIkIVwiPT09ZS5kYXRhKXtkPWUubmV4dFNpYmxpbmcmJmUubmV4dFNpYmxpbmcuZGF0YXNldDtcbmlmKGQpdmFyIGg9ZC5kZ3N0O2Q9aDtmPUVycm9yKHAoNDE5KSk7ZD1LaShmLGQsdm9pZCAwKTtyZXR1cm4gc2ooYSxiLGcsZCl9aD0wIT09KGcmYS5jaGlsZExhbmVzKTtpZihkaHx8aCl7ZD1RO2lmKG51bGwhPT1kKXtzd2l0Y2goZyYtZyl7Y2FzZSA0OmU9MjticmVhaztjYXNlIDE2OmU9ODticmVhaztjYXNlIDY0OmNhc2UgMTI4OmNhc2UgMjU2OmNhc2UgNTEyOmNhc2UgMTAyNDpjYXNlIDIwNDg6Y2FzZSA0MDk2OmNhc2UgODE5MjpjYXNlIDE2Mzg0OmNhc2UgMzI3Njg6Y2FzZSA2NTUzNjpjYXNlIDEzMTA3MjpjYXNlIDI2MjE0NDpjYXNlIDUyNDI4ODpjYXNlIDEwNDg1NzY6Y2FzZSAyMDk3MTUyOmNhc2UgNDE5NDMwNDpjYXNlIDgzODg2MDg6Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOmNhc2UgNjcxMDg4NjQ6ZT0zMjticmVhaztjYXNlIDUzNjg3MDkxMjplPTI2ODQzNTQ1NjticmVhaztkZWZhdWx0OmU9MH1lPTAhPT0oZSYoZC5zdXNwZW5kZWRMYW5lc3xnKSk/MDplO1xuMCE9PWUmJmUhPT1mLnJldHJ5TGFuZSYmKGYucmV0cnlMYW5lPWUsaWgoYSxlKSxnaShkLGEsZSwtMSkpfXRqKCk7ZD1LaShFcnJvcihwKDQyMSkpKTtyZXR1cm4gc2ooYSxiLGcsZCl9aWYoXCIkP1wiPT09ZS5kYXRhKXJldHVybiBiLmZsYWdzfD0xMjgsYi5jaGlsZD1hLmNoaWxkLGI9dWouYmluZChudWxsLGEpLGUuX3JlYWN0UmV0cnk9YixudWxsO2E9Zi50cmVlQ29udGV4dDt5Zz1MZihlLm5leHRTaWJsaW5nKTt4Zz1iO0k9ITA7emc9bnVsbDtudWxsIT09YSYmKG9nW3BnKytdPXJnLG9nW3BnKytdPXNnLG9nW3BnKytdPXFnLHJnPWEuaWQsc2c9YS5vdmVyZmxvdyxxZz1iKTtiPXFqKGIsZC5jaGlsZHJlbik7Yi5mbGFnc3w9NDA5NjtyZXR1cm4gYn1mdW5jdGlvbiB2aihhLGIsYyl7YS5sYW5lc3w9Yjt2YXIgZD1hLmFsdGVybmF0ZTtudWxsIT09ZCYmKGQubGFuZXN8PWIpO2JoKGEucmV0dXJuLGIsYyl9XG5mdW5jdGlvbiB3aihhLGIsYyxkLGUpe3ZhciBmPWEubWVtb2l6ZWRTdGF0ZTtudWxsPT09Zj9hLm1lbW9pemVkU3RhdGU9e2lzQmFja3dhcmRzOmIscmVuZGVyaW5nOm51bGwscmVuZGVyaW5nU3RhcnRUaW1lOjAsbGFzdDpkLHRhaWw6Yyx0YWlsTW9kZTplfTooZi5pc0JhY2t3YXJkcz1iLGYucmVuZGVyaW5nPW51bGwsZi5yZW5kZXJpbmdTdGFydFRpbWU9MCxmLmxhc3Q9ZCxmLnRhaWw9YyxmLnRhaWxNb2RlPWUpfVxuZnVuY3Rpb24geGooYSxiLGMpe3ZhciBkPWIucGVuZGluZ1Byb3BzLGU9ZC5yZXZlYWxPcmRlcixmPWQudGFpbDtYaShhLGIsZC5jaGlsZHJlbixjKTtkPUwuY3VycmVudDtpZigwIT09KGQmMikpZD1kJjF8MixiLmZsYWdzfD0xMjg7ZWxzZXtpZihudWxsIT09YSYmMCE9PShhLmZsYWdzJjEyOCkpYTpmb3IoYT1iLmNoaWxkO251bGwhPT1hOyl7aWYoMTM9PT1hLnRhZyludWxsIT09YS5tZW1vaXplZFN0YXRlJiZ2aihhLGMsYik7ZWxzZSBpZigxOT09PWEudGFnKXZqKGEsYyxiKTtlbHNlIGlmKG51bGwhPT1hLmNoaWxkKXthLmNoaWxkLnJldHVybj1hO2E9YS5jaGlsZDtjb250aW51ZX1pZihhPT09YilicmVhayBhO2Zvcig7bnVsbD09PWEuc2libGluZzspe2lmKG51bGw9PT1hLnJldHVybnx8YS5yZXR1cm49PT1iKWJyZWFrIGE7YT1hLnJldHVybn1hLnNpYmxpbmcucmV0dXJuPWEucmV0dXJuO2E9YS5zaWJsaW5nfWQmPTF9RyhMLGQpO2lmKDA9PT0oYi5tb2RlJjEpKWIubWVtb2l6ZWRTdGF0ZT1cbm51bGw7ZWxzZSBzd2l0Y2goZSl7Y2FzZSBcImZvcndhcmRzXCI6Yz1iLmNoaWxkO2ZvcihlPW51bGw7bnVsbCE9PWM7KWE9Yy5hbHRlcm5hdGUsbnVsbCE9PWEmJm51bGw9PT1DaChhKSYmKGU9YyksYz1jLnNpYmxpbmc7Yz1lO251bGw9PT1jPyhlPWIuY2hpbGQsYi5jaGlsZD1udWxsKTooZT1jLnNpYmxpbmcsYy5zaWJsaW5nPW51bGwpO3dqKGIsITEsZSxjLGYpO2JyZWFrO2Nhc2UgXCJiYWNrd2FyZHNcIjpjPW51bGw7ZT1iLmNoaWxkO2ZvcihiLmNoaWxkPW51bGw7bnVsbCE9PWU7KXthPWUuYWx0ZXJuYXRlO2lmKG51bGwhPT1hJiZudWxsPT09Q2goYSkpe2IuY2hpbGQ9ZTticmVha31hPWUuc2libGluZztlLnNpYmxpbmc9YztjPWU7ZT1hfXdqKGIsITAsYyxudWxsLGYpO2JyZWFrO2Nhc2UgXCJ0b2dldGhlclwiOndqKGIsITEsbnVsbCxudWxsLHZvaWQgMCk7YnJlYWs7ZGVmYXVsdDpiLm1lbW9pemVkU3RhdGU9bnVsbH1yZXR1cm4gYi5jaGlsZH1cbmZ1bmN0aW9uIGlqKGEsYil7MD09PShiLm1vZGUmMSkmJm51bGwhPT1hJiYoYS5hbHRlcm5hdGU9bnVsbCxiLmFsdGVybmF0ZT1udWxsLGIuZmxhZ3N8PTIpfWZ1bmN0aW9uIFppKGEsYixjKXtudWxsIT09YSYmKGIuZGVwZW5kZW5jaWVzPWEuZGVwZW5kZW5jaWVzKTtyaHw9Yi5sYW5lcztpZigwPT09KGMmYi5jaGlsZExhbmVzKSlyZXR1cm4gbnVsbDtpZihudWxsIT09YSYmYi5jaGlsZCE9PWEuY2hpbGQpdGhyb3cgRXJyb3IocCgxNTMpKTtpZihudWxsIT09Yi5jaGlsZCl7YT1iLmNoaWxkO2M9UGcoYSxhLnBlbmRpbmdQcm9wcyk7Yi5jaGlsZD1jO2ZvcihjLnJldHVybj1iO251bGwhPT1hLnNpYmxpbmc7KWE9YS5zaWJsaW5nLGM9Yy5zaWJsaW5nPVBnKGEsYS5wZW5kaW5nUHJvcHMpLGMucmV0dXJuPWI7Yy5zaWJsaW5nPW51bGx9cmV0dXJuIGIuY2hpbGR9XG5mdW5jdGlvbiB5aihhLGIsYyl7c3dpdGNoKGIudGFnKXtjYXNlIDM6a2ooYik7SWcoKTticmVhaztjYXNlIDU6QWgoYik7YnJlYWs7Y2FzZSAxOlpmKGIudHlwZSkmJmNnKGIpO2JyZWFrO2Nhc2UgNDp5aChiLGIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO2JyZWFrO2Nhc2UgMTA6dmFyIGQ9Yi50eXBlLl9jb250ZXh0LGU9Yi5tZW1vaXplZFByb3BzLnZhbHVlO0coV2csZC5fY3VycmVudFZhbHVlKTtkLl9jdXJyZW50VmFsdWU9ZTticmVhaztjYXNlIDEzOmQ9Yi5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1kKXtpZihudWxsIT09ZC5kZWh5ZHJhdGVkKXJldHVybiBHKEwsTC5jdXJyZW50JjEpLGIuZmxhZ3N8PTEyOCxudWxsO2lmKDAhPT0oYyZiLmNoaWxkLmNoaWxkTGFuZXMpKXJldHVybiBvaihhLGIsYyk7RyhMLEwuY3VycmVudCYxKTthPVppKGEsYixjKTtyZXR1cm4gbnVsbCE9PWE/YS5zaWJsaW5nOm51bGx9RyhMLEwuY3VycmVudCYxKTticmVhaztjYXNlIDE5OmQ9MCE9PShjJlxuYi5jaGlsZExhbmVzKTtpZigwIT09KGEuZmxhZ3MmMTI4KSl7aWYoZClyZXR1cm4geGooYSxiLGMpO2IuZmxhZ3N8PTEyOH1lPWIubWVtb2l6ZWRTdGF0ZTtudWxsIT09ZSYmKGUucmVuZGVyaW5nPW51bGwsZS50YWlsPW51bGwsZS5sYXN0RWZmZWN0PW51bGwpO0coTCxMLmN1cnJlbnQpO2lmKGQpYnJlYWs7ZWxzZSByZXR1cm4gbnVsbDtjYXNlIDIyOmNhc2UgMjM6cmV0dXJuIGIubGFuZXM9MCxkaihhLGIsYyl9cmV0dXJuIFppKGEsYixjKX12YXIgemosQWosQmosQ2o7XG56aj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1iLmNoaWxkO251bGwhPT1jOyl7aWYoNT09PWMudGFnfHw2PT09Yy50YWcpYS5hcHBlbmRDaGlsZChjLnN0YXRlTm9kZSk7ZWxzZSBpZig0IT09Yy50YWcmJm51bGwhPT1jLmNoaWxkKXtjLmNoaWxkLnJldHVybj1jO2M9Yy5jaGlsZDtjb250aW51ZX1pZihjPT09YilicmVhaztmb3IoO251bGw9PT1jLnNpYmxpbmc7KXtpZihudWxsPT09Yy5yZXR1cm58fGMucmV0dXJuPT09YilyZXR1cm47Yz1jLnJldHVybn1jLnNpYmxpbmcucmV0dXJuPWMucmV0dXJuO2M9Yy5zaWJsaW5nfX07QWo9ZnVuY3Rpb24oKXt9O1xuQmo9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5tZW1vaXplZFByb3BzO2lmKGUhPT1kKXthPWIuc3RhdGVOb2RlO3hoKHVoLmN1cnJlbnQpO3ZhciBmPW51bGw7c3dpdGNoKGMpe2Nhc2UgXCJpbnB1dFwiOmU9WWEoYSxlKTtkPVlhKGEsZCk7Zj1bXTticmVhaztjYXNlIFwic2VsZWN0XCI6ZT1BKHt9LGUse3ZhbHVlOnZvaWQgMH0pO2Q9QSh7fSxkLHt2YWx1ZTp2b2lkIDB9KTtmPVtdO2JyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOmU9Z2IoYSxlKTtkPWdiKGEsZCk7Zj1bXTticmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBlLm9uQ2xpY2smJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLm9uQ2xpY2smJihhLm9uY2xpY2s9QmYpfXViKGMsZCk7dmFyIGc7Yz1udWxsO2ZvcihsIGluIGUpaWYoIWQuaGFzT3duUHJvcGVydHkobCkmJmUuaGFzT3duUHJvcGVydHkobCkmJm51bGwhPWVbbF0paWYoXCJzdHlsZVwiPT09bCl7dmFyIGg9ZVtsXTtmb3IoZyBpbiBoKWguaGFzT3duUHJvcGVydHkoZykmJlxuKGN8fChjPXt9KSxjW2ddPVwiXCIpfWVsc2VcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIhPT1sJiZcImNoaWxkcmVuXCIhPT1sJiZcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09bCYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PWwmJlwiYXV0b0ZvY3VzXCIhPT1sJiYoZWEuaGFzT3duUHJvcGVydHkobCk/Znx8KGY9W10pOihmPWZ8fFtdKS5wdXNoKGwsbnVsbCkpO2ZvcihsIGluIGQpe3ZhciBrPWRbbF07aD1udWxsIT1lP2VbbF06dm9pZCAwO2lmKGQuaGFzT3duUHJvcGVydHkobCkmJmshPT1oJiYobnVsbCE9a3x8bnVsbCE9aCkpaWYoXCJzdHlsZVwiPT09bClpZihoKXtmb3IoZyBpbiBoKSFoLmhhc093blByb3BlcnR5KGcpfHxrJiZrLmhhc093blByb3BlcnR5KGcpfHwoY3x8KGM9e30pLGNbZ109XCJcIik7Zm9yKGcgaW4gaylrLmhhc093blByb3BlcnR5KGcpJiZoW2ddIT09a1tnXSYmKGN8fChjPXt9KSxjW2ddPWtbZ10pfWVsc2UgY3x8KGZ8fChmPVtdKSxmLnB1c2gobCxcbmMpKSxjPWs7ZWxzZVwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PWw/KGs9az9rLl9faHRtbDp2b2lkIDAsaD1oP2guX19odG1sOnZvaWQgMCxudWxsIT1rJiZoIT09ayYmKGY9Znx8W10pLnB1c2gobCxrKSk6XCJjaGlsZHJlblwiPT09bD9cInN0cmluZ1wiIT09dHlwZW9mIGsmJlwibnVtYmVyXCIhPT10eXBlb2Yga3x8KGY9Znx8W10pLnB1c2gobCxcIlwiK2spOlwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCIhPT1sJiZcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiIT09bCYmKGVhLmhhc093blByb3BlcnR5KGwpPyhudWxsIT1rJiZcIm9uU2Nyb2xsXCI9PT1sJiZEKFwic2Nyb2xsXCIsYSksZnx8aD09PWt8fChmPVtdKSk6KGY9Znx8W10pLnB1c2gobCxrKSl9YyYmKGY9Znx8W10pLnB1c2goXCJzdHlsZVwiLGMpO3ZhciBsPWY7aWYoYi51cGRhdGVRdWV1ZT1sKWIuZmxhZ3N8PTR9fTtDaj1mdW5jdGlvbihhLGIsYyxkKXtjIT09ZCYmKGIuZmxhZ3N8PTQpfTtcbmZ1bmN0aW9uIERqKGEsYil7aWYoIUkpc3dpdGNoKGEudGFpbE1vZGUpe2Nhc2UgXCJoaWRkZW5cIjpiPWEudGFpbDtmb3IodmFyIGM9bnVsbDtudWxsIT09YjspbnVsbCE9PWIuYWx0ZXJuYXRlJiYoYz1iKSxiPWIuc2libGluZztudWxsPT09Yz9hLnRhaWw9bnVsbDpjLnNpYmxpbmc9bnVsbDticmVhaztjYXNlIFwiY29sbGFwc2VkXCI6Yz1hLnRhaWw7Zm9yKHZhciBkPW51bGw7bnVsbCE9PWM7KW51bGwhPT1jLmFsdGVybmF0ZSYmKGQ9YyksYz1jLnNpYmxpbmc7bnVsbD09PWQ/Ynx8bnVsbD09PWEudGFpbD9hLnRhaWw9bnVsbDphLnRhaWwuc2libGluZz1udWxsOmQuc2libGluZz1udWxsfX1cbmZ1bmN0aW9uIFMoYSl7dmFyIGI9bnVsbCE9PWEuYWx0ZXJuYXRlJiZhLmFsdGVybmF0ZS5jaGlsZD09PWEuY2hpbGQsYz0wLGQ9MDtpZihiKWZvcih2YXIgZT1hLmNoaWxkO251bGwhPT1lOyljfD1lLmxhbmVzfGUuY2hpbGRMYW5lcyxkfD1lLnN1YnRyZWVGbGFncyYxNDY4MDA2NCxkfD1lLmZsYWdzJjE0NjgwMDY0LGUucmV0dXJuPWEsZT1lLnNpYmxpbmc7ZWxzZSBmb3IoZT1hLmNoaWxkO251bGwhPT1lOyljfD1lLmxhbmVzfGUuY2hpbGRMYW5lcyxkfD1lLnN1YnRyZWVGbGFncyxkfD1lLmZsYWdzLGUucmV0dXJuPWEsZT1lLnNpYmxpbmc7YS5zdWJ0cmVlRmxhZ3N8PWQ7YS5jaGlsZExhbmVzPWM7cmV0dXJuIGJ9XG5mdW5jdGlvbiBFaihhLGIsYyl7dmFyIGQ9Yi5wZW5kaW5nUHJvcHM7d2coYik7c3dpdGNoKGIudGFnKXtjYXNlIDI6Y2FzZSAxNjpjYXNlIDE1OmNhc2UgMDpjYXNlIDExOmNhc2UgNzpjYXNlIDg6Y2FzZSAxMjpjYXNlIDk6Y2FzZSAxNDpyZXR1cm4gUyhiKSxudWxsO2Nhc2UgMTpyZXR1cm4gWmYoYi50eXBlKSYmJGYoKSxTKGIpLG51bGw7Y2FzZSAzOmQ9Yi5zdGF0ZU5vZGU7emgoKTtFKFdmKTtFKEgpO0VoKCk7ZC5wZW5kaW5nQ29udGV4dCYmKGQuY29udGV4dD1kLnBlbmRpbmdDb250ZXh0LGQucGVuZGluZ0NvbnRleHQ9bnVsbCk7aWYobnVsbD09PWF8fG51bGw9PT1hLmNoaWxkKUdnKGIpP2IuZmxhZ3N8PTQ6bnVsbD09PWF8fGEubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQmJjA9PT0oYi5mbGFncyYyNTYpfHwoYi5mbGFnc3w9MTAyNCxudWxsIT09emcmJihGaih6Zyksemc9bnVsbCkpO0FqKGEsYik7UyhiKTtyZXR1cm4gbnVsbDtjYXNlIDU6QmgoYik7dmFyIGU9eGgod2guY3VycmVudCk7XG5jPWIudHlwZTtpZihudWxsIT09YSYmbnVsbCE9Yi5zdGF0ZU5vZGUpQmooYSxiLGMsZCxlKSxhLnJlZiE9PWIucmVmJiYoYi5mbGFnc3w9NTEyLGIuZmxhZ3N8PTIwOTcxNTIpO2Vsc2V7aWYoIWQpe2lmKG51bGw9PT1iLnN0YXRlTm9kZSl0aHJvdyBFcnJvcihwKDE2NikpO1MoYik7cmV0dXJuIG51bGx9YT14aCh1aC5jdXJyZW50KTtpZihHZyhiKSl7ZD1iLnN0YXRlTm9kZTtjPWIudHlwZTt2YXIgZj1iLm1lbW9pemVkUHJvcHM7ZFtPZl09YjtkW1BmXT1mO2E9MCE9PShiLm1vZGUmMSk7c3dpdGNoKGMpe2Nhc2UgXCJkaWFsb2dcIjpEKFwiY2FuY2VsXCIsZCk7RChcImNsb3NlXCIsZCk7YnJlYWs7Y2FzZSBcImlmcmFtZVwiOmNhc2UgXCJvYmplY3RcIjpjYXNlIFwiZW1iZWRcIjpEKFwibG9hZFwiLGQpO2JyZWFrO2Nhc2UgXCJ2aWRlb1wiOmNhc2UgXCJhdWRpb1wiOmZvcihlPTA7ZTxsZi5sZW5ndGg7ZSsrKUQobGZbZV0sZCk7YnJlYWs7Y2FzZSBcInNvdXJjZVwiOkQoXCJlcnJvclwiLGQpO2JyZWFrO2Nhc2UgXCJpbWdcIjpjYXNlIFwiaW1hZ2VcIjpjYXNlIFwibGlua1wiOkQoXCJlcnJvclwiLFxuZCk7RChcImxvYWRcIixkKTticmVhaztjYXNlIFwiZGV0YWlsc1wiOkQoXCJ0b2dnbGVcIixkKTticmVhaztjYXNlIFwiaW5wdXRcIjpaYShkLGYpO0QoXCJpbnZhbGlkXCIsZCk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmQuX3dyYXBwZXJTdGF0ZT17d2FzTXVsdGlwbGU6ISFmLm11bHRpcGxlfTtEKFwiaW52YWxpZFwiLGQpO2JyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOmhiKGQsZiksRChcImludmFsaWRcIixkKX11YihjLGYpO2U9bnVsbDtmb3IodmFyIGcgaW4gZilpZihmLmhhc093blByb3BlcnR5KGcpKXt2YXIgaD1mW2ddO1wiY2hpbGRyZW5cIj09PWc/XCJzdHJpbmdcIj09PXR5cGVvZiBoP2QudGV4dENvbnRlbnQhPT1oJiYoITAhPT1mLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZyYmQWYoZC50ZXh0Q29udGVudCxoLGEpLGU9W1wiY2hpbGRyZW5cIixoXSk6XCJudW1iZXJcIj09PXR5cGVvZiBoJiZkLnRleHRDb250ZW50IT09XCJcIitoJiYoITAhPT1mLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZyYmQWYoZC50ZXh0Q29udGVudCxcbmgsYSksZT1bXCJjaGlsZHJlblwiLFwiXCIraF0pOmVhLmhhc093blByb3BlcnR5KGcpJiZudWxsIT1oJiZcIm9uU2Nyb2xsXCI9PT1nJiZEKFwic2Nyb2xsXCIsZCl9c3dpdGNoKGMpe2Nhc2UgXCJpbnB1dFwiOlZhKGQpO2RiKGQsZiwhMCk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6VmEoZCk7amIoZCk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmNhc2UgXCJvcHRpb25cIjpicmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09PXR5cGVvZiBmLm9uQ2xpY2smJihkLm9uY2xpY2s9QmYpfWQ9ZTtiLnVwZGF0ZVF1ZXVlPWQ7bnVsbCE9PWQmJihiLmZsYWdzfD00KX1lbHNle2c9OT09PWUubm9kZVR5cGU/ZTplLm93bmVyRG9jdW1lbnQ7XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PT1hJiYoYT1rYihjKSk7XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PT1hP1wic2NyaXB0XCI9PT1jPyhhPWcuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhLmlubmVySFRNTD1cIjxzY3JpcHQ+XFx4M2Mvc2NyaXB0PlwiLGE9YS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpKTpcblwic3RyaW5nXCI9PT10eXBlb2YgZC5pcz9hPWcuY3JlYXRlRWxlbWVudChjLHtpczpkLmlzfSk6KGE9Zy5jcmVhdGVFbGVtZW50KGMpLFwic2VsZWN0XCI9PT1jJiYoZz1hLGQubXVsdGlwbGU/Zy5tdWx0aXBsZT0hMDpkLnNpemUmJihnLnNpemU9ZC5zaXplKSkpOmE9Zy5jcmVhdGVFbGVtZW50TlMoYSxjKTthW09mXT1iO2FbUGZdPWQ7emooYSxiLCExLCExKTtiLnN0YXRlTm9kZT1hO2E6e2c9dmIoYyxkKTtzd2l0Y2goYyl7Y2FzZSBcImRpYWxvZ1wiOkQoXCJjYW5jZWxcIixhKTtEKFwiY2xvc2VcIixhKTtlPWQ7YnJlYWs7Y2FzZSBcImlmcmFtZVwiOmNhc2UgXCJvYmplY3RcIjpjYXNlIFwiZW1iZWRcIjpEKFwibG9hZFwiLGEpO2U9ZDticmVhaztjYXNlIFwidmlkZW9cIjpjYXNlIFwiYXVkaW9cIjpmb3IoZT0wO2U8bGYubGVuZ3RoO2UrKylEKGxmW2VdLGEpO2U9ZDticmVhaztjYXNlIFwic291cmNlXCI6RChcImVycm9yXCIsYSk7ZT1kO2JyZWFrO2Nhc2UgXCJpbWdcIjpjYXNlIFwiaW1hZ2VcIjpjYXNlIFwibGlua1wiOkQoXCJlcnJvclwiLFxuYSk7RChcImxvYWRcIixhKTtlPWQ7YnJlYWs7Y2FzZSBcImRldGFpbHNcIjpEKFwidG9nZ2xlXCIsYSk7ZT1kO2JyZWFrO2Nhc2UgXCJpbnB1dFwiOlphKGEsZCk7ZT1ZYShhLGQpO0QoXCJpbnZhbGlkXCIsYSk7YnJlYWs7Y2FzZSBcIm9wdGlvblwiOmU9ZDticmVhaztjYXNlIFwic2VsZWN0XCI6YS5fd3JhcHBlclN0YXRlPXt3YXNNdWx0aXBsZTohIWQubXVsdGlwbGV9O2U9QSh7fSxkLHt2YWx1ZTp2b2lkIDB9KTtEKFwiaW52YWxpZFwiLGEpO2JyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOmhiKGEsZCk7ZT1nYihhLGQpO0QoXCJpbnZhbGlkXCIsYSk7YnJlYWs7ZGVmYXVsdDplPWR9dWIoYyxlKTtoPWU7Zm9yKGYgaW4gaClpZihoLmhhc093blByb3BlcnR5KGYpKXt2YXIgaz1oW2ZdO1wic3R5bGVcIj09PWY/c2IoYSxrKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1mPyhrPWs/ay5fX2h0bWw6dm9pZCAwLG51bGwhPWsmJm5iKGEsaykpOlwiY2hpbGRyZW5cIj09PWY/XCJzdHJpbmdcIj09PXR5cGVvZiBrPyhcInRleHRhcmVhXCIhPT1cbmN8fFwiXCIhPT1rKSYmb2IoYSxrKTpcIm51bWJlclwiPT09dHlwZW9mIGsmJm9iKGEsXCJcIitrKTpcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09ZiYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PWYmJlwiYXV0b0ZvY3VzXCIhPT1mJiYoZWEuaGFzT3duUHJvcGVydHkoZik/bnVsbCE9ayYmXCJvblNjcm9sbFwiPT09ZiYmRChcInNjcm9sbFwiLGEpOm51bGwhPWsmJnRhKGEsZixrLGcpKX1zd2l0Y2goYyl7Y2FzZSBcImlucHV0XCI6VmEoYSk7ZGIoYSxkLCExKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjpWYShhKTtqYihhKTticmVhaztjYXNlIFwib3B0aW9uXCI6bnVsbCE9ZC52YWx1ZSYmYS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIrU2EoZC52YWx1ZSkpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjphLm11bHRpcGxlPSEhZC5tdWx0aXBsZTtmPWQudmFsdWU7bnVsbCE9Zj9mYihhLCEhZC5tdWx0aXBsZSxmLCExKTpudWxsIT1kLmRlZmF1bHRWYWx1ZSYmZmIoYSwhIWQubXVsdGlwbGUsZC5kZWZhdWx0VmFsdWUsXG4hMCk7YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgZS5vbkNsaWNrJiYoYS5vbmNsaWNrPUJmKX1zd2l0Y2goYyl7Y2FzZSBcImJ1dHRvblwiOmNhc2UgXCJpbnB1dFwiOmNhc2UgXCJzZWxlY3RcIjpjYXNlIFwidGV4dGFyZWFcIjpkPSEhZC5hdXRvRm9jdXM7YnJlYWsgYTtjYXNlIFwiaW1nXCI6ZD0hMDticmVhayBhO2RlZmF1bHQ6ZD0hMX19ZCYmKGIuZmxhZ3N8PTQpfW51bGwhPT1iLnJlZiYmKGIuZmxhZ3N8PTUxMixiLmZsYWdzfD0yMDk3MTUyKX1TKGIpO3JldHVybiBudWxsO2Nhc2UgNjppZihhJiZudWxsIT1iLnN0YXRlTm9kZSlDaihhLGIsYS5tZW1vaXplZFByb3BzLGQpO2Vsc2V7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBkJiZudWxsPT09Yi5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IocCgxNjYpKTtjPXhoKHdoLmN1cnJlbnQpO3hoKHVoLmN1cnJlbnQpO2lmKEdnKGIpKXtkPWIuc3RhdGVOb2RlO2M9Yi5tZW1vaXplZFByb3BzO2RbT2ZdPWI7aWYoZj1kLm5vZGVWYWx1ZSE9PWMpaWYoYT1cbnhnLG51bGwhPT1hKXN3aXRjaChhLnRhZyl7Y2FzZSAzOkFmKGQubm9kZVZhbHVlLGMsMCE9PShhLm1vZGUmMSkpO2JyZWFrO2Nhc2UgNTohMCE9PWEubWVtb2l6ZWRQcm9wcy5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcmJkFmKGQubm9kZVZhbHVlLGMsMCE9PShhLm1vZGUmMSkpfWYmJihiLmZsYWdzfD00KX1lbHNlIGQ9KDk9PT1jLm5vZGVUeXBlP2M6Yy5vd25lckRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShkKSxkW09mXT1iLGIuc3RhdGVOb2RlPWR9UyhiKTtyZXR1cm4gbnVsbDtjYXNlIDEzOkUoTCk7ZD1iLm1lbW9pemVkU3RhdGU7aWYobnVsbD09PWF8fG51bGwhPT1hLm1lbW9pemVkU3RhdGUmJm51bGwhPT1hLm1lbW9pemVkU3RhdGUuZGVoeWRyYXRlZCl7aWYoSSYmbnVsbCE9PXlnJiYwIT09KGIubW9kZSYxKSYmMD09PShiLmZsYWdzJjEyOCkpSGcoKSxJZygpLGIuZmxhZ3N8PTk4NTYwLGY9ITE7ZWxzZSBpZihmPUdnKGIpLG51bGwhPT1kJiZudWxsIT09ZC5kZWh5ZHJhdGVkKXtpZihudWxsPT09XG5hKXtpZighZil0aHJvdyBFcnJvcihwKDMxOCkpO2Y9Yi5tZW1vaXplZFN0YXRlO2Y9bnVsbCE9PWY/Zi5kZWh5ZHJhdGVkOm51bGw7aWYoIWYpdGhyb3cgRXJyb3IocCgzMTcpKTtmW09mXT1ifWVsc2UgSWcoKSwwPT09KGIuZmxhZ3MmMTI4KSYmKGIubWVtb2l6ZWRTdGF0ZT1udWxsKSxiLmZsYWdzfD00O1MoYik7Zj0hMX1lbHNlIG51bGwhPT16ZyYmKEZqKHpnKSx6Zz1udWxsKSxmPSEwO2lmKCFmKXJldHVybiBiLmZsYWdzJjY1NTM2P2I6bnVsbH1pZigwIT09KGIuZmxhZ3MmMTI4KSlyZXR1cm4gYi5sYW5lcz1jLGI7ZD1udWxsIT09ZDtkIT09KG51bGwhPT1hJiZudWxsIT09YS5tZW1vaXplZFN0YXRlKSYmZCYmKGIuY2hpbGQuZmxhZ3N8PTgxOTIsMCE9PShiLm1vZGUmMSkmJihudWxsPT09YXx8MCE9PShMLmN1cnJlbnQmMSk/MD09PVQmJihUPTMpOnRqKCkpKTtudWxsIT09Yi51cGRhdGVRdWV1ZSYmKGIuZmxhZ3N8PTQpO1MoYik7cmV0dXJuIG51bGw7Y2FzZSA0OnJldHVybiB6aCgpLFxuQWooYSxiKSxudWxsPT09YSYmc2YoYi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyksUyhiKSxudWxsO2Nhc2UgMTA6cmV0dXJuIGFoKGIudHlwZS5fY29udGV4dCksUyhiKSxudWxsO2Nhc2UgMTc6cmV0dXJuIFpmKGIudHlwZSkmJiRmKCksUyhiKSxudWxsO2Nhc2UgMTk6RShMKTtmPWIubWVtb2l6ZWRTdGF0ZTtpZihudWxsPT09ZilyZXR1cm4gUyhiKSxudWxsO2Q9MCE9PShiLmZsYWdzJjEyOCk7Zz1mLnJlbmRlcmluZztpZihudWxsPT09ZylpZihkKURqKGYsITEpO2Vsc2V7aWYoMCE9PVR8fG51bGwhPT1hJiYwIT09KGEuZmxhZ3MmMTI4KSlmb3IoYT1iLmNoaWxkO251bGwhPT1hOyl7Zz1DaChhKTtpZihudWxsIT09Zyl7Yi5mbGFnc3w9MTI4O0RqKGYsITEpO2Q9Zy51cGRhdGVRdWV1ZTtudWxsIT09ZCYmKGIudXBkYXRlUXVldWU9ZCxiLmZsYWdzfD00KTtiLnN1YnRyZWVGbGFncz0wO2Q9Yztmb3IoYz1iLmNoaWxkO251bGwhPT1jOylmPWMsYT1kLGYuZmxhZ3MmPTE0NjgwMDY2LFxuZz1mLmFsdGVybmF0ZSxudWxsPT09Zz8oZi5jaGlsZExhbmVzPTAsZi5sYW5lcz1hLGYuY2hpbGQ9bnVsbCxmLnN1YnRyZWVGbGFncz0wLGYubWVtb2l6ZWRQcm9wcz1udWxsLGYubWVtb2l6ZWRTdGF0ZT1udWxsLGYudXBkYXRlUXVldWU9bnVsbCxmLmRlcGVuZGVuY2llcz1udWxsLGYuc3RhdGVOb2RlPW51bGwpOihmLmNoaWxkTGFuZXM9Zy5jaGlsZExhbmVzLGYubGFuZXM9Zy5sYW5lcyxmLmNoaWxkPWcuY2hpbGQsZi5zdWJ0cmVlRmxhZ3M9MCxmLmRlbGV0aW9ucz1udWxsLGYubWVtb2l6ZWRQcm9wcz1nLm1lbW9pemVkUHJvcHMsZi5tZW1vaXplZFN0YXRlPWcubWVtb2l6ZWRTdGF0ZSxmLnVwZGF0ZVF1ZXVlPWcudXBkYXRlUXVldWUsZi50eXBlPWcudHlwZSxhPWcuZGVwZW5kZW5jaWVzLGYuZGVwZW5kZW5jaWVzPW51bGw9PT1hP251bGw6e2xhbmVzOmEubGFuZXMsZmlyc3RDb250ZXh0OmEuZmlyc3RDb250ZXh0fSksYz1jLnNpYmxpbmc7RyhMLEwuY3VycmVudCYxfDIpO3JldHVybiBiLmNoaWxkfWE9XG5hLnNpYmxpbmd9bnVsbCE9PWYudGFpbCYmQigpPkdqJiYoYi5mbGFnc3w9MTI4LGQ9ITAsRGooZiwhMSksYi5sYW5lcz00MTk0MzA0KX1lbHNle2lmKCFkKWlmKGE9Q2goZyksbnVsbCE9PWEpe2lmKGIuZmxhZ3N8PTEyOCxkPSEwLGM9YS51cGRhdGVRdWV1ZSxudWxsIT09YyYmKGIudXBkYXRlUXVldWU9YyxiLmZsYWdzfD00KSxEaihmLCEwKSxudWxsPT09Zi50YWlsJiZcImhpZGRlblwiPT09Zi50YWlsTW9kZSYmIWcuYWx0ZXJuYXRlJiYhSSlyZXR1cm4gUyhiKSxudWxsfWVsc2UgMipCKCktZi5yZW5kZXJpbmdTdGFydFRpbWU+R2omJjEwNzM3NDE4MjQhPT1jJiYoYi5mbGFnc3w9MTI4LGQ9ITAsRGooZiwhMSksYi5sYW5lcz00MTk0MzA0KTtmLmlzQmFja3dhcmRzPyhnLnNpYmxpbmc9Yi5jaGlsZCxiLmNoaWxkPWcpOihjPWYubGFzdCxudWxsIT09Yz9jLnNpYmxpbmc9ZzpiLmNoaWxkPWcsZi5sYXN0PWcpfWlmKG51bGwhPT1mLnRhaWwpcmV0dXJuIGI9Zi50YWlsLGYucmVuZGVyaW5nPVxuYixmLnRhaWw9Yi5zaWJsaW5nLGYucmVuZGVyaW5nU3RhcnRUaW1lPUIoKSxiLnNpYmxpbmc9bnVsbCxjPUwuY3VycmVudCxHKEwsZD9jJjF8MjpjJjEpLGI7UyhiKTtyZXR1cm4gbnVsbDtjYXNlIDIyOmNhc2UgMjM6cmV0dXJuIEhqKCksZD1udWxsIT09Yi5tZW1vaXplZFN0YXRlLG51bGwhPT1hJiZudWxsIT09YS5tZW1vaXplZFN0YXRlIT09ZCYmKGIuZmxhZ3N8PTgxOTIpLGQmJjAhPT0oYi5tb2RlJjEpPzAhPT0oZmomMTA3Mzc0MTgyNCkmJihTKGIpLGIuc3VidHJlZUZsYWdzJjYmJihiLmZsYWdzfD04MTkyKSk6UyhiKSxudWxsO2Nhc2UgMjQ6cmV0dXJuIG51bGw7Y2FzZSAyNTpyZXR1cm4gbnVsbH10aHJvdyBFcnJvcihwKDE1NixiLnRhZykpO31cbmZ1bmN0aW9uIElqKGEsYil7d2coYik7c3dpdGNoKGIudGFnKXtjYXNlIDE6cmV0dXJuIFpmKGIudHlwZSkmJiRmKCksYT1iLmZsYWdzLGEmNjU1MzY/KGIuZmxhZ3M9YSYtNjU1Mzd8MTI4LGIpOm51bGw7Y2FzZSAzOnJldHVybiB6aCgpLEUoV2YpLEUoSCksRWgoKSxhPWIuZmxhZ3MsMCE9PShhJjY1NTM2KSYmMD09PShhJjEyOCk/KGIuZmxhZ3M9YSYtNjU1Mzd8MTI4LGIpOm51bGw7Y2FzZSA1OnJldHVybiBCaChiKSxudWxsO2Nhc2UgMTM6RShMKTthPWIubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09YSYmbnVsbCE9PWEuZGVoeWRyYXRlZCl7aWYobnVsbD09PWIuYWx0ZXJuYXRlKXRocm93IEVycm9yKHAoMzQwKSk7SWcoKX1hPWIuZmxhZ3M7cmV0dXJuIGEmNjU1MzY/KGIuZmxhZ3M9YSYtNjU1Mzd8MTI4LGIpOm51bGw7Y2FzZSAxOTpyZXR1cm4gRShMKSxudWxsO2Nhc2UgNDpyZXR1cm4gemgoKSxudWxsO2Nhc2UgMTA6cmV0dXJuIGFoKGIudHlwZS5fY29udGV4dCksbnVsbDtjYXNlIDIyOmNhc2UgMjM6cmV0dXJuIEhqKCksXG5udWxsO2Nhc2UgMjQ6cmV0dXJuIG51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH19dmFyIEpqPSExLFU9ITEsS2o9XCJmdW5jdGlvblwiPT09dHlwZW9mIFdlYWtTZXQ/V2Vha1NldDpTZXQsVj1udWxsO2Z1bmN0aW9uIExqKGEsYil7dmFyIGM9YS5yZWY7aWYobnVsbCE9PWMpaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGMpdHJ5e2MobnVsbCl9Y2F0Y2goZCl7VyhhLGIsZCl9ZWxzZSBjLmN1cnJlbnQ9bnVsbH1mdW5jdGlvbiBNaihhLGIsYyl7dHJ5e2MoKX1jYXRjaChkKXtXKGEsYixkKX19dmFyIE5qPSExO1xuZnVuY3Rpb24gT2ooYSxiKXtDZj1kZDthPU1lKCk7aWYoTmUoYSkpe2lmKFwic2VsZWN0aW9uU3RhcnRcImluIGEpdmFyIGM9e3N0YXJ0OmEuc2VsZWN0aW9uU3RhcnQsZW5kOmEuc2VsZWN0aW9uRW5kfTtlbHNlIGE6e2M9KGM9YS5vd25lckRvY3VtZW50KSYmYy5kZWZhdWx0Vmlld3x8d2luZG93O3ZhciBkPWMuZ2V0U2VsZWN0aW9uJiZjLmdldFNlbGVjdGlvbigpO2lmKGQmJjAhPT1kLnJhbmdlQ291bnQpe2M9ZC5hbmNob3JOb2RlO3ZhciBlPWQuYW5jaG9yT2Zmc2V0LGY9ZC5mb2N1c05vZGU7ZD1kLmZvY3VzT2Zmc2V0O3RyeXtjLm5vZGVUeXBlLGYubm9kZVR5cGV9Y2F0Y2goRil7Yz1udWxsO2JyZWFrIGF9dmFyIGc9MCxoPS0xLGs9LTEsbD0wLG09MCxxPWEscj1udWxsO2I6Zm9yKDs7KXtmb3IodmFyIHk7Oyl7cSE9PWN8fDAhPT1lJiYzIT09cS5ub2RlVHlwZXx8KGg9ZytlKTtxIT09Znx8MCE9PWQmJjMhPT1xLm5vZGVUeXBlfHwoaz1nK2QpOzM9PT1xLm5vZGVUeXBlJiYoZys9XG5xLm5vZGVWYWx1ZS5sZW5ndGgpO2lmKG51bGw9PT0oeT1xLmZpcnN0Q2hpbGQpKWJyZWFrO3I9cTtxPXl9Zm9yKDs7KXtpZihxPT09YSlicmVhayBiO3I9PT1jJiYrK2w9PT1lJiYoaD1nKTtyPT09ZiYmKyttPT09ZCYmKGs9Zyk7aWYobnVsbCE9PSh5PXEubmV4dFNpYmxpbmcpKWJyZWFrO3E9cjtyPXEucGFyZW50Tm9kZX1xPXl9Yz0tMT09PWh8fC0xPT09az9udWxsOntzdGFydDpoLGVuZDprfX1lbHNlIGM9bnVsbH1jPWN8fHtzdGFydDowLGVuZDowfX1lbHNlIGM9bnVsbDtEZj17Zm9jdXNlZEVsZW06YSxzZWxlY3Rpb25SYW5nZTpjfTtkZD0hMTtmb3IoVj1iO251bGwhPT1WOylpZihiPVYsYT1iLmNoaWxkLDAhPT0oYi5zdWJ0cmVlRmxhZ3MmMTAyOCkmJm51bGwhPT1hKWEucmV0dXJuPWIsVj1hO2Vsc2UgZm9yKDtudWxsIT09Vjspe2I9Vjt0cnl7dmFyIG49Yi5hbHRlcm5hdGU7aWYoMCE9PShiLmZsYWdzJjEwMjQpKXN3aXRjaChiLnRhZyl7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNTpicmVhaztcbmNhc2UgMTppZihudWxsIT09bil7dmFyIHQ9bi5tZW1vaXplZFByb3BzLEo9bi5tZW1vaXplZFN0YXRlLHg9Yi5zdGF0ZU5vZGUsdz14LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKGIuZWxlbWVudFR5cGU9PT1iLnR5cGU/dDpDaShiLnR5cGUsdCksSik7eC5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZT13fWJyZWFrO2Nhc2UgMzp2YXIgdT1iLnN0YXRlTm9kZS5jb250YWluZXJJbmZvOzE9PT11Lm5vZGVUeXBlP3UudGV4dENvbnRlbnQ9XCJcIjo5PT09dS5ub2RlVHlwZSYmdS5kb2N1bWVudEVsZW1lbnQmJnUucmVtb3ZlQ2hpbGQodS5kb2N1bWVudEVsZW1lbnQpO2JyZWFrO2Nhc2UgNTpjYXNlIDY6Y2FzZSA0OmNhc2UgMTc6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihwKDE2MykpO319Y2F0Y2goRil7VyhiLGIucmV0dXJuLEYpfWE9Yi5zaWJsaW5nO2lmKG51bGwhPT1hKXthLnJldHVybj1iLnJldHVybjtWPWE7YnJlYWt9Vj1iLnJldHVybn1uPU5qO05qPSExO3JldHVybiBufVxuZnVuY3Rpb24gUGooYSxiLGMpe3ZhciBkPWIudXBkYXRlUXVldWU7ZD1udWxsIT09ZD9kLmxhc3RFZmZlY3Q6bnVsbDtpZihudWxsIT09ZCl7dmFyIGU9ZD1kLm5leHQ7ZG97aWYoKGUudGFnJmEpPT09YSl7dmFyIGY9ZS5kZXN0cm95O2UuZGVzdHJveT12b2lkIDA7dm9pZCAwIT09ZiYmTWooYixjLGYpfWU9ZS5uZXh0fXdoaWxlKGUhPT1kKX19ZnVuY3Rpb24gUWooYSxiKXtiPWIudXBkYXRlUXVldWU7Yj1udWxsIT09Yj9iLmxhc3RFZmZlY3Q6bnVsbDtpZihudWxsIT09Yil7dmFyIGM9Yj1iLm5leHQ7ZG97aWYoKGMudGFnJmEpPT09YSl7dmFyIGQ9Yy5jcmVhdGU7Yy5kZXN0cm95PWQoKX1jPWMubmV4dH13aGlsZShjIT09Yil9fWZ1bmN0aW9uIFJqKGEpe3ZhciBiPWEucmVmO2lmKG51bGwhPT1iKXt2YXIgYz1hLnN0YXRlTm9kZTtzd2l0Y2goYS50YWcpe2Nhc2UgNTphPWM7YnJlYWs7ZGVmYXVsdDphPWN9XCJmdW5jdGlvblwiPT09dHlwZW9mIGI/YihhKTpiLmN1cnJlbnQ9YX19XG5mdW5jdGlvbiBTaihhKXt2YXIgYj1hLmFsdGVybmF0ZTtudWxsIT09YiYmKGEuYWx0ZXJuYXRlPW51bGwsU2ooYikpO2EuY2hpbGQ9bnVsbDthLmRlbGV0aW9ucz1udWxsO2Euc2libGluZz1udWxsOzU9PT1hLnRhZyYmKGI9YS5zdGF0ZU5vZGUsbnVsbCE9PWImJihkZWxldGUgYltPZl0sZGVsZXRlIGJbUGZdLGRlbGV0ZSBiW29mXSxkZWxldGUgYltRZl0sZGVsZXRlIGJbUmZdKSk7YS5zdGF0ZU5vZGU9bnVsbDthLnJldHVybj1udWxsO2EuZGVwZW5kZW5jaWVzPW51bGw7YS5tZW1vaXplZFByb3BzPW51bGw7YS5tZW1vaXplZFN0YXRlPW51bGw7YS5wZW5kaW5nUHJvcHM9bnVsbDthLnN0YXRlTm9kZT1udWxsO2EudXBkYXRlUXVldWU9bnVsbH1mdW5jdGlvbiBUaihhKXtyZXR1cm4gNT09PWEudGFnfHwzPT09YS50YWd8fDQ9PT1hLnRhZ31cbmZ1bmN0aW9uIFVqKGEpe2E6Zm9yKDs7KXtmb3IoO251bGw9PT1hLnNpYmxpbmc7KXtpZihudWxsPT09YS5yZXR1cm58fFRqKGEucmV0dXJuKSlyZXR1cm4gbnVsbDthPWEucmV0dXJufWEuc2libGluZy5yZXR1cm49YS5yZXR1cm47Zm9yKGE9YS5zaWJsaW5nOzUhPT1hLnRhZyYmNiE9PWEudGFnJiYxOCE9PWEudGFnOyl7aWYoYS5mbGFncyYyKWNvbnRpbnVlIGE7aWYobnVsbD09PWEuY2hpbGR8fDQ9PT1hLnRhZyljb250aW51ZSBhO2Vsc2UgYS5jaGlsZC5yZXR1cm49YSxhPWEuY2hpbGR9aWYoIShhLmZsYWdzJjIpKXJldHVybiBhLnN0YXRlTm9kZX19XG5mdW5jdGlvbiBWaihhLGIsYyl7dmFyIGQ9YS50YWc7aWYoNT09PWR8fDY9PT1kKWE9YS5zdGF0ZU5vZGUsYj84PT09Yy5ub2RlVHlwZT9jLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsYik6Yy5pbnNlcnRCZWZvcmUoYSxiKTooOD09PWMubm9kZVR5cGU/KGI9Yy5wYXJlbnROb2RlLGIuaW5zZXJ0QmVmb3JlKGEsYykpOihiPWMsYi5hcHBlbmRDaGlsZChhKSksYz1jLl9yZWFjdFJvb3RDb250YWluZXIsbnVsbCE9PWMmJnZvaWQgMCE9PWN8fG51bGwhPT1iLm9uY2xpY2t8fChiLm9uY2xpY2s9QmYpKTtlbHNlIGlmKDQhPT1kJiYoYT1hLmNoaWxkLG51bGwhPT1hKSlmb3IoVmooYSxiLGMpLGE9YS5zaWJsaW5nO251bGwhPT1hOylWaihhLGIsYyksYT1hLnNpYmxpbmd9XG5mdW5jdGlvbiBXaihhLGIsYyl7dmFyIGQ9YS50YWc7aWYoNT09PWR8fDY9PT1kKWE9YS5zdGF0ZU5vZGUsYj9jLmluc2VydEJlZm9yZShhLGIpOmMuYXBwZW5kQ2hpbGQoYSk7ZWxzZSBpZig0IT09ZCYmKGE9YS5jaGlsZCxudWxsIT09YSkpZm9yKFdqKGEsYixjKSxhPWEuc2libGluZztudWxsIT09YTspV2ooYSxiLGMpLGE9YS5zaWJsaW5nfXZhciBYPW51bGwsWGo9ITE7ZnVuY3Rpb24gWWooYSxiLGMpe2ZvcihjPWMuY2hpbGQ7bnVsbCE9PWM7KVpqKGEsYixjKSxjPWMuc2libGluZ31cbmZ1bmN0aW9uIFpqKGEsYixjKXtpZihsYyYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGxjLm9uQ29tbWl0RmliZXJVbm1vdW50KXRyeXtsYy5vbkNvbW1pdEZpYmVyVW5tb3VudChrYyxjKX1jYXRjaChoKXt9c3dpdGNoKGMudGFnKXtjYXNlIDU6VXx8TGooYyxiKTtjYXNlIDY6dmFyIGQ9WCxlPVhqO1g9bnVsbDtZaihhLGIsYyk7WD1kO1hqPWU7bnVsbCE9PVgmJihYaj8oYT1YLGM9Yy5zdGF0ZU5vZGUsOD09PWEubm9kZVR5cGU/YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpOmEucmVtb3ZlQ2hpbGQoYykpOlgucmVtb3ZlQ2hpbGQoYy5zdGF0ZU5vZGUpKTticmVhaztjYXNlIDE4Om51bGwhPT1YJiYoWGo/KGE9WCxjPWMuc3RhdGVOb2RlLDg9PT1hLm5vZGVUeXBlP0tmKGEucGFyZW50Tm9kZSxjKToxPT09YS5ub2RlVHlwZSYmS2YoYSxjKSxiZChhKSk6S2YoWCxjLnN0YXRlTm9kZSkpO2JyZWFrO2Nhc2UgNDpkPVg7ZT1YajtYPWMuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87WGo9ITA7XG5ZaihhLGIsYyk7WD1kO1hqPWU7YnJlYWs7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNDpjYXNlIDE1OmlmKCFVJiYoZD1jLnVwZGF0ZVF1ZXVlLG51bGwhPT1kJiYoZD1kLmxhc3RFZmZlY3QsbnVsbCE9PWQpKSl7ZT1kPWQubmV4dDtkb3t2YXIgZj1lLGc9Zi5kZXN0cm95O2Y9Zi50YWc7dm9pZCAwIT09ZyYmKDAhPT0oZiYyKT9NaihjLGIsZyk6MCE9PShmJjQpJiZNaihjLGIsZykpO2U9ZS5uZXh0fXdoaWxlKGUhPT1kKX1ZaihhLGIsYyk7YnJlYWs7Y2FzZSAxOmlmKCFVJiYoTGooYyxiKSxkPWMuc3RhdGVOb2RlLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmNvbXBvbmVudFdpbGxVbm1vdW50KSl0cnl7ZC5wcm9wcz1jLm1lbW9pemVkUHJvcHMsZC5zdGF0ZT1jLm1lbW9pemVkU3RhdGUsZC5jb21wb25lbnRXaWxsVW5tb3VudCgpfWNhdGNoKGgpe1coYyxiLGgpfVlqKGEsYixjKTticmVhaztjYXNlIDIxOllqKGEsYixjKTticmVhaztjYXNlIDIyOmMubW9kZSYxPyhVPShkPVUpfHxudWxsIT09XG5jLm1lbW9pemVkU3RhdGUsWWooYSxiLGMpLFU9ZCk6WWooYSxiLGMpO2JyZWFrO2RlZmF1bHQ6WWooYSxiLGMpfX1mdW5jdGlvbiBhayhhKXt2YXIgYj1hLnVwZGF0ZVF1ZXVlO2lmKG51bGwhPT1iKXthLnVwZGF0ZVF1ZXVlPW51bGw7dmFyIGM9YS5zdGF0ZU5vZGU7bnVsbD09PWMmJihjPWEuc3RhdGVOb2RlPW5ldyBLaik7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBkPWJrLmJpbmQobnVsbCxhLGIpO2MuaGFzKGIpfHwoYy5hZGQoYiksYi50aGVuKGQsZCkpfSl9fVxuZnVuY3Rpb24gY2soYSxiKXt2YXIgYz1iLmRlbGV0aW9ucztpZihudWxsIT09Yylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTt0cnl7dmFyIGY9YSxnPWIsaD1nO2E6Zm9yKDtudWxsIT09aDspe3N3aXRjaChoLnRhZyl7Y2FzZSA1Olg9aC5zdGF0ZU5vZGU7WGo9ITE7YnJlYWsgYTtjYXNlIDM6WD1oLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1hqPSEwO2JyZWFrIGE7Y2FzZSA0Olg9aC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztYaj0hMDticmVhayBhfWg9aC5yZXR1cm59aWYobnVsbD09PVgpdGhyb3cgRXJyb3IocCgxNjApKTtaaihmLGcsZSk7WD1udWxsO1hqPSExO3ZhciBrPWUuYWx0ZXJuYXRlO251bGwhPT1rJiYoay5yZXR1cm49bnVsbCk7ZS5yZXR1cm49bnVsbH1jYXRjaChsKXtXKGUsYixsKX19aWYoYi5zdWJ0cmVlRmxhZ3MmMTI4NTQpZm9yKGI9Yi5jaGlsZDtudWxsIT09YjspZGsoYixhKSxiPWIuc2libGluZ31cbmZ1bmN0aW9uIGRrKGEsYil7dmFyIGM9YS5hbHRlcm5hdGUsZD1hLmZsYWdzO3N3aXRjaChhLnRhZyl7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNDpjYXNlIDE1OmNrKGIsYSk7ZWsoYSk7aWYoZCY0KXt0cnl7UGooMyxhLGEucmV0dXJuKSxRaigzLGEpfWNhdGNoKHQpe1coYSxhLnJldHVybix0KX10cnl7UGooNSxhLGEucmV0dXJuKX1jYXRjaCh0KXtXKGEsYS5yZXR1cm4sdCl9fWJyZWFrO2Nhc2UgMTpjayhiLGEpO2VrKGEpO2QmNTEyJiZudWxsIT09YyYmTGooYyxjLnJldHVybik7YnJlYWs7Y2FzZSA1OmNrKGIsYSk7ZWsoYSk7ZCY1MTImJm51bGwhPT1jJiZMaihjLGMucmV0dXJuKTtpZihhLmZsYWdzJjMyKXt2YXIgZT1hLnN0YXRlTm9kZTt0cnl7b2IoZSxcIlwiKX1jYXRjaCh0KXtXKGEsYS5yZXR1cm4sdCl9fWlmKGQmNCYmKGU9YS5zdGF0ZU5vZGUsbnVsbCE9ZSkpe3ZhciBmPWEubWVtb2l6ZWRQcm9wcyxnPW51bGwhPT1jP2MubWVtb2l6ZWRQcm9wczpmLGg9YS50eXBlLGs9YS51cGRhdGVRdWV1ZTtcbmEudXBkYXRlUXVldWU9bnVsbDtpZihudWxsIT09ayl0cnl7XCJpbnB1dFwiPT09aCYmXCJyYWRpb1wiPT09Zi50eXBlJiZudWxsIT1mLm5hbWUmJmFiKGUsZik7dmIoaCxnKTt2YXIgbD12YihoLGYpO2ZvcihnPTA7ZzxrLmxlbmd0aDtnKz0yKXt2YXIgbT1rW2ddLHE9a1tnKzFdO1wic3R5bGVcIj09PW0/c2IoZSxxKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1tP25iKGUscSk6XCJjaGlsZHJlblwiPT09bT9vYihlLHEpOnRhKGUsbSxxLGwpfXN3aXRjaChoKXtjYXNlIFwiaW5wdXRcIjpiYihlLGYpO2JyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOmliKGUsZik7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOnZhciByPWUuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZTtlLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGU9ISFmLm11bHRpcGxlO3ZhciB5PWYudmFsdWU7bnVsbCE9eT9mYihlLCEhZi5tdWx0aXBsZSx5LCExKTpyIT09ISFmLm11bHRpcGxlJiYobnVsbCE9Zi5kZWZhdWx0VmFsdWU/ZmIoZSwhIWYubXVsdGlwbGUsXG5mLmRlZmF1bHRWYWx1ZSwhMCk6ZmIoZSwhIWYubXVsdGlwbGUsZi5tdWx0aXBsZT9bXTpcIlwiLCExKSl9ZVtQZl09Zn1jYXRjaCh0KXtXKGEsYS5yZXR1cm4sdCl9fWJyZWFrO2Nhc2UgNjpjayhiLGEpO2VrKGEpO2lmKGQmNCl7aWYobnVsbD09PWEuc3RhdGVOb2RlKXRocm93IEVycm9yKHAoMTYyKSk7ZT1hLnN0YXRlTm9kZTtmPWEubWVtb2l6ZWRQcm9wczt0cnl7ZS5ub2RlVmFsdWU9Zn1jYXRjaCh0KXtXKGEsYS5yZXR1cm4sdCl9fWJyZWFrO2Nhc2UgMzpjayhiLGEpO2VrKGEpO2lmKGQmNCYmbnVsbCE9PWMmJmMubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQpdHJ5e2JkKGIuY29udGFpbmVySW5mbyl9Y2F0Y2godCl7VyhhLGEucmV0dXJuLHQpfWJyZWFrO2Nhc2UgNDpjayhiLGEpO2VrKGEpO2JyZWFrO2Nhc2UgMTM6Y2soYixhKTtlayhhKTtlPWEuY2hpbGQ7ZS5mbGFncyY4MTkyJiYoZj1udWxsIT09ZS5tZW1vaXplZFN0YXRlLGUuc3RhdGVOb2RlLmlzSGlkZGVuPWYsIWZ8fFxubnVsbCE9PWUuYWx0ZXJuYXRlJiZudWxsIT09ZS5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZXx8KGZrPUIoKSkpO2QmNCYmYWsoYSk7YnJlYWs7Y2FzZSAyMjptPW51bGwhPT1jJiZudWxsIT09Yy5tZW1vaXplZFN0YXRlO2EubW9kZSYxPyhVPShsPVUpfHxtLGNrKGIsYSksVT1sKTpjayhiLGEpO2VrKGEpO2lmKGQmODE5Mil7bD1udWxsIT09YS5tZW1vaXplZFN0YXRlO2lmKChhLnN0YXRlTm9kZS5pc0hpZGRlbj1sKSYmIW0mJjAhPT0oYS5tb2RlJjEpKWZvcihWPWEsbT1hLmNoaWxkO251bGwhPT1tOyl7Zm9yKHE9Vj1tO251bGwhPT1WOyl7cj1WO3k9ci5jaGlsZDtzd2l0Y2goci50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTQ6Y2FzZSAxNTpQaig0LHIsci5yZXR1cm4pO2JyZWFrO2Nhc2UgMTpMaihyLHIucmV0dXJuKTt2YXIgbj1yLnN0YXRlTm9kZTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2Ygbi5jb21wb25lbnRXaWxsVW5tb3VudCl7ZD1yO2M9ci5yZXR1cm47dHJ5e2I9ZCxuLnByb3BzPVxuYi5tZW1vaXplZFByb3BzLG4uc3RhdGU9Yi5tZW1vaXplZFN0YXRlLG4uY29tcG9uZW50V2lsbFVubW91bnQoKX1jYXRjaCh0KXtXKGQsYyx0KX19YnJlYWs7Y2FzZSA1OkxqKHIsci5yZXR1cm4pO2JyZWFrO2Nhc2UgMjI6aWYobnVsbCE9PXIubWVtb2l6ZWRTdGF0ZSl7Z2socSk7Y29udGludWV9fW51bGwhPT15Pyh5LnJldHVybj1yLFY9eSk6Z2socSl9bT1tLnNpYmxpbmd9YTpmb3IobT1udWxsLHE9YTs7KXtpZig1PT09cS50YWcpe2lmKG51bGw9PT1tKXttPXE7dHJ5e2U9cS5zdGF0ZU5vZGUsbD8oZj1lLnN0eWxlLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBmLnNldFByb3BlcnR5P2Yuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsXCJub25lXCIsXCJpbXBvcnRhbnRcIik6Zi5kaXNwbGF5PVwibm9uZVwiKTooaD1xLnN0YXRlTm9kZSxrPXEubWVtb2l6ZWRQcm9wcy5zdHlsZSxnPXZvaWQgMCE9PWsmJm51bGwhPT1rJiZrLmhhc093blByb3BlcnR5KFwiZGlzcGxheVwiKT9rLmRpc3BsYXk6bnVsbCxoLnN0eWxlLmRpc3BsYXk9XG5yYihcImRpc3BsYXlcIixnKSl9Y2F0Y2godCl7VyhhLGEucmV0dXJuLHQpfX19ZWxzZSBpZig2PT09cS50YWcpe2lmKG51bGw9PT1tKXRyeXtxLnN0YXRlTm9kZS5ub2RlVmFsdWU9bD9cIlwiOnEubWVtb2l6ZWRQcm9wc31jYXRjaCh0KXtXKGEsYS5yZXR1cm4sdCl9fWVsc2UgaWYoKDIyIT09cS50YWcmJjIzIT09cS50YWd8fG51bGw9PT1xLm1lbW9pemVkU3RhdGV8fHE9PT1hKSYmbnVsbCE9PXEuY2hpbGQpe3EuY2hpbGQucmV0dXJuPXE7cT1xLmNoaWxkO2NvbnRpbnVlfWlmKHE9PT1hKWJyZWFrIGE7Zm9yKDtudWxsPT09cS5zaWJsaW5nOyl7aWYobnVsbD09PXEucmV0dXJufHxxLnJldHVybj09PWEpYnJlYWsgYTttPT09cSYmKG09bnVsbCk7cT1xLnJldHVybn1tPT09cSYmKG09bnVsbCk7cS5zaWJsaW5nLnJldHVybj1xLnJldHVybjtxPXEuc2libGluZ319YnJlYWs7Y2FzZSAxOTpjayhiLGEpO2VrKGEpO2QmNCYmYWsoYSk7YnJlYWs7Y2FzZSAyMTpicmVhaztkZWZhdWx0OmNrKGIsXG5hKSxlayhhKX19ZnVuY3Rpb24gZWsoYSl7dmFyIGI9YS5mbGFncztpZihiJjIpe3RyeXthOntmb3IodmFyIGM9YS5yZXR1cm47bnVsbCE9PWM7KXtpZihUaihjKSl7dmFyIGQ9YzticmVhayBhfWM9Yy5yZXR1cm59dGhyb3cgRXJyb3IocCgxNjApKTt9c3dpdGNoKGQudGFnKXtjYXNlIDU6dmFyIGU9ZC5zdGF0ZU5vZGU7ZC5mbGFncyYzMiYmKG9iKGUsXCJcIiksZC5mbGFncyY9LTMzKTt2YXIgZj1VaihhKTtXaihhLGYsZSk7YnJlYWs7Y2FzZSAzOmNhc2UgNDp2YXIgZz1kLnN0YXRlTm9kZS5jb250YWluZXJJbmZvLGg9VWooYSk7VmooYSxoLGcpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IocCgxNjEpKTt9fWNhdGNoKGspe1coYSxhLnJldHVybixrKX1hLmZsYWdzJj0tM31iJjQwOTYmJihhLmZsYWdzJj0tNDA5Nyl9ZnVuY3Rpb24gaGsoYSxiLGMpe1Y9YTtpayhhLGIsYyl9XG5mdW5jdGlvbiBpayhhLGIsYyl7Zm9yKHZhciBkPTAhPT0oYS5tb2RlJjEpO251bGwhPT1WOyl7dmFyIGU9VixmPWUuY2hpbGQ7aWYoMjI9PT1lLnRhZyYmZCl7dmFyIGc9bnVsbCE9PWUubWVtb2l6ZWRTdGF0ZXx8Smo7aWYoIWcpe3ZhciBoPWUuYWx0ZXJuYXRlLGs9bnVsbCE9PWgmJm51bGwhPT1oLm1lbW9pemVkU3RhdGV8fFU7aD1Kajt2YXIgbD1VO0pqPWc7aWYoKFU9aykmJiFsKWZvcihWPWU7bnVsbCE9PVY7KWc9VixrPWcuY2hpbGQsMjI9PT1nLnRhZyYmbnVsbCE9PWcubWVtb2l6ZWRTdGF0ZT9qayhlKTpudWxsIT09az8oay5yZXR1cm49ZyxWPWspOmprKGUpO2Zvcig7bnVsbCE9PWY7KVY9ZixpayhmLGIsYyksZj1mLnNpYmxpbmc7Vj1lO0pqPWg7VT1sfWtrKGEsYixjKX1lbHNlIDAhPT0oZS5zdWJ0cmVlRmxhZ3MmODc3MikmJm51bGwhPT1mPyhmLnJldHVybj1lLFY9Zik6a2soYSxiLGMpfX1cbmZ1bmN0aW9uIGtrKGEpe2Zvcig7bnVsbCE9PVY7KXt2YXIgYj1WO2lmKDAhPT0oYi5mbGFncyY4NzcyKSl7dmFyIGM9Yi5hbHRlcm5hdGU7dHJ5e2lmKDAhPT0oYi5mbGFncyY4NzcyKSlzd2l0Y2goYi50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6VXx8UWooNSxiKTticmVhaztjYXNlIDE6dmFyIGQ9Yi5zdGF0ZU5vZGU7aWYoYi5mbGFncyY0JiYhVSlpZihudWxsPT09YylkLmNvbXBvbmVudERpZE1vdW50KCk7ZWxzZXt2YXIgZT1iLmVsZW1lbnRUeXBlPT09Yi50eXBlP2MubWVtb2l6ZWRQcm9wczpDaShiLnR5cGUsYy5tZW1vaXplZFByb3BzKTtkLmNvbXBvbmVudERpZFVwZGF0ZShlLGMubWVtb2l6ZWRTdGF0ZSxkLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlKX12YXIgZj1iLnVwZGF0ZVF1ZXVlO251bGwhPT1mJiZzaChiLGYsZCk7YnJlYWs7Y2FzZSAzOnZhciBnPWIudXBkYXRlUXVldWU7aWYobnVsbCE9PWcpe2M9bnVsbDtpZihudWxsIT09Yi5jaGlsZClzd2l0Y2goYi5jaGlsZC50YWcpe2Nhc2UgNTpjPVxuYi5jaGlsZC5zdGF0ZU5vZGU7YnJlYWs7Y2FzZSAxOmM9Yi5jaGlsZC5zdGF0ZU5vZGV9c2goYixnLGMpfWJyZWFrO2Nhc2UgNTp2YXIgaD1iLnN0YXRlTm9kZTtpZihudWxsPT09YyYmYi5mbGFncyY0KXtjPWg7dmFyIGs9Yi5tZW1vaXplZFByb3BzO3N3aXRjaChiLnR5cGUpe2Nhc2UgXCJidXR0b25cIjpjYXNlIFwiaW5wdXRcIjpjYXNlIFwic2VsZWN0XCI6Y2FzZSBcInRleHRhcmVhXCI6ay5hdXRvRm9jdXMmJmMuZm9jdXMoKTticmVhaztjYXNlIFwiaW1nXCI6ay5zcmMmJihjLnNyYz1rLnNyYyl9fWJyZWFrO2Nhc2UgNjpicmVhaztjYXNlIDQ6YnJlYWs7Y2FzZSAxMjpicmVhaztjYXNlIDEzOmlmKG51bGw9PT1iLm1lbW9pemVkU3RhdGUpe3ZhciBsPWIuYWx0ZXJuYXRlO2lmKG51bGwhPT1sKXt2YXIgbT1sLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PW0pe3ZhciBxPW0uZGVoeWRyYXRlZDtudWxsIT09cSYmYmQocSl9fX1icmVhaztjYXNlIDE5OmNhc2UgMTc6Y2FzZSAyMTpjYXNlIDIyOmNhc2UgMjM6Y2FzZSAyNTpicmVhaztcbmRlZmF1bHQ6dGhyb3cgRXJyb3IocCgxNjMpKTt9VXx8Yi5mbGFncyY1MTImJlJqKGIpfWNhdGNoKHIpe1coYixiLnJldHVybixyKX19aWYoYj09PWEpe1Y9bnVsbDticmVha31jPWIuc2libGluZztpZihudWxsIT09Yyl7Yy5yZXR1cm49Yi5yZXR1cm47Vj1jO2JyZWFrfVY9Yi5yZXR1cm59fWZ1bmN0aW9uIGdrKGEpe2Zvcig7bnVsbCE9PVY7KXt2YXIgYj1WO2lmKGI9PT1hKXtWPW51bGw7YnJlYWt9dmFyIGM9Yi5zaWJsaW5nO2lmKG51bGwhPT1jKXtjLnJldHVybj1iLnJldHVybjtWPWM7YnJlYWt9Vj1iLnJldHVybn19XG5mdW5jdGlvbiBqayhhKXtmb3IoO251bGwhPT1WOyl7dmFyIGI9Vjt0cnl7c3dpdGNoKGIudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OnZhciBjPWIucmV0dXJuO3RyeXtRaig0LGIpfWNhdGNoKGspe1coYixjLGspfWJyZWFrO2Nhc2UgMTp2YXIgZD1iLnN0YXRlTm9kZTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5jb21wb25lbnREaWRNb3VudCl7dmFyIGU9Yi5yZXR1cm47dHJ5e2QuY29tcG9uZW50RGlkTW91bnQoKX1jYXRjaChrKXtXKGIsZSxrKX19dmFyIGY9Yi5yZXR1cm47dHJ5e1JqKGIpfWNhdGNoKGspe1coYixmLGspfWJyZWFrO2Nhc2UgNTp2YXIgZz1iLnJldHVybjt0cnl7UmooYil9Y2F0Y2goayl7VyhiLGcsayl9fX1jYXRjaChrKXtXKGIsYi5yZXR1cm4sayl9aWYoYj09PWEpe1Y9bnVsbDticmVha312YXIgaD1iLnNpYmxpbmc7aWYobnVsbCE9PWgpe2gucmV0dXJuPWIucmV0dXJuO1Y9aDticmVha31WPWIucmV0dXJufX1cbnZhciBsaz1NYXRoLmNlaWwsbWs9dWEuUmVhY3RDdXJyZW50RGlzcGF0Y2hlcixuaz11YS5SZWFjdEN1cnJlbnRPd25lcixvaz11YS5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZyxLPTAsUT1udWxsLFk9bnVsbCxaPTAsZmo9MCxlaj1VZigwKSxUPTAscGs9bnVsbCxyaD0wLHFrPTAscms9MCxzaz1udWxsLHRrPW51bGwsZms9MCxHaj1JbmZpbml0eSx1az1udWxsLE9pPSExLFBpPW51bGwsUmk9bnVsbCx2az0hMSx3az1udWxsLHhrPTAseWs9MCx6az1udWxsLEFrPS0xLEJrPTA7ZnVuY3Rpb24gUigpe3JldHVybiAwIT09KEsmNik/QigpOi0xIT09QWs/QWs6QWs9QigpfVxuZnVuY3Rpb24geWkoYSl7aWYoMD09PShhLm1vZGUmMSkpcmV0dXJuIDE7aWYoMCE9PShLJjIpJiYwIT09WilyZXR1cm4gWiYtWjtpZihudWxsIT09S2cudHJhbnNpdGlvbilyZXR1cm4gMD09PUJrJiYoQms9eWMoKSksQms7YT1DO2lmKDAhPT1hKXJldHVybiBhO2E9d2luZG93LmV2ZW50O2E9dm9pZCAwPT09YT8xNjpqZChhLnR5cGUpO3JldHVybiBhfWZ1bmN0aW9uIGdpKGEsYixjLGQpe2lmKDUwPHlrKXRocm93IHlrPTAsems9bnVsbCxFcnJvcihwKDE4NSkpO0FjKGEsYyxkKTtpZigwPT09KEsmMil8fGEhPT1RKWE9PT1RJiYoMD09PShLJjIpJiYocWt8PWMpLDQ9PT1UJiZDayhhLFopKSxEayhhLGQpLDE9PT1jJiYwPT09SyYmMD09PShiLm1vZGUmMSkmJihHaj1CKCkrNTAwLGZnJiZqZygpKX1cbmZ1bmN0aW9uIERrKGEsYil7dmFyIGM9YS5jYWxsYmFja05vZGU7d2MoYSxiKTt2YXIgZD11YyhhLGE9PT1RP1o6MCk7aWYoMD09PWQpbnVsbCE9PWMmJmJjKGMpLGEuY2FsbGJhY2tOb2RlPW51bGwsYS5jYWxsYmFja1ByaW9yaXR5PTA7ZWxzZSBpZihiPWQmLWQsYS5jYWxsYmFja1ByaW9yaXR5IT09Yil7bnVsbCE9YyYmYmMoYyk7aWYoMT09PWIpMD09PWEudGFnP2lnKEVrLmJpbmQobnVsbCxhKSk6aGcoRWsuYmluZChudWxsLGEpKSxKZihmdW5jdGlvbigpezA9PT0oSyY2KSYmamcoKX0pLGM9bnVsbDtlbHNle3N3aXRjaChEYyhkKSl7Y2FzZSAxOmM9ZmM7YnJlYWs7Y2FzZSA0OmM9Z2M7YnJlYWs7Y2FzZSAxNjpjPWhjO2JyZWFrO2Nhc2UgNTM2ODcwOTEyOmM9amM7YnJlYWs7ZGVmYXVsdDpjPWhjfWM9RmsoYyxHay5iaW5kKG51bGwsYSkpfWEuY2FsbGJhY2tQcmlvcml0eT1iO2EuY2FsbGJhY2tOb2RlPWN9fVxuZnVuY3Rpb24gR2soYSxiKXtBaz0tMTtCaz0wO2lmKDAhPT0oSyY2KSl0aHJvdyBFcnJvcihwKDMyNykpO3ZhciBjPWEuY2FsbGJhY2tOb2RlO2lmKEhrKCkmJmEuY2FsbGJhY2tOb2RlIT09YylyZXR1cm4gbnVsbDt2YXIgZD11YyhhLGE9PT1RP1o6MCk7aWYoMD09PWQpcmV0dXJuIG51bGw7aWYoMCE9PShkJjMwKXx8MCE9PShkJmEuZXhwaXJlZExhbmVzKXx8YiliPUlrKGEsZCk7ZWxzZXtiPWQ7dmFyIGU9SztLfD0yO3ZhciBmPUprKCk7aWYoUSE9PWF8fFohPT1iKXVrPW51bGwsR2o9QigpKzUwMCxLayhhLGIpO2RvIHRyeXtMaygpO2JyZWFrfWNhdGNoKGgpe01rKGEsaCl9d2hpbGUoMSk7JGcoKTttay5jdXJyZW50PWY7Sz1lO251bGwhPT1ZP2I9MDooUT1udWxsLFo9MCxiPVQpfWlmKDAhPT1iKXsyPT09YiYmKGU9eGMoYSksMCE9PWUmJihkPWUsYj1OayhhLGUpKSk7aWYoMT09PWIpdGhyb3cgYz1wayxLayhhLDApLENrKGEsZCksRGsoYSxCKCkpLGM7aWYoNj09PWIpQ2soYSxkKTtcbmVsc2V7ZT1hLmN1cnJlbnQuYWx0ZXJuYXRlO2lmKDA9PT0oZCYzMCkmJiFPayhlKSYmKGI9SWsoYSxkKSwyPT09YiYmKGY9eGMoYSksMCE9PWYmJihkPWYsYj1OayhhLGYpKSksMT09PWIpKXRocm93IGM9cGssS2soYSwwKSxDayhhLGQpLERrKGEsQigpKSxjO2EuZmluaXNoZWRXb3JrPWU7YS5maW5pc2hlZExhbmVzPWQ7c3dpdGNoKGIpe2Nhc2UgMDpjYXNlIDE6dGhyb3cgRXJyb3IocCgzNDUpKTtjYXNlIDI6UGsoYSx0ayx1ayk7YnJlYWs7Y2FzZSAzOkNrKGEsZCk7aWYoKGQmMTMwMDIzNDI0KT09PWQmJihiPWZrKzUwMC1CKCksMTA8Yikpe2lmKDAhPT11YyhhLDApKWJyZWFrO2U9YS5zdXNwZW5kZWRMYW5lcztpZigoZSZkKSE9PWQpe1IoKTthLnBpbmdlZExhbmVzfD1hLnN1c3BlbmRlZExhbmVzJmU7YnJlYWt9YS50aW1lb3V0SGFuZGxlPUZmKFBrLmJpbmQobnVsbCxhLHRrLHVrKSxiKTticmVha31QayhhLHRrLHVrKTticmVhaztjYXNlIDQ6Q2soYSxkKTtpZigoZCY0MTk0MjQwKT09PVxuZClicmVhaztiPWEuZXZlbnRUaW1lcztmb3IoZT0tMTswPGQ7KXt2YXIgZz0zMS1vYyhkKTtmPTE8PGc7Zz1iW2ddO2c+ZSYmKGU9Zyk7ZCY9fmZ9ZD1lO2Q9QigpLWQ7ZD0oMTIwPmQ/MTIwOjQ4MD5kPzQ4MDoxMDgwPmQ/MTA4MDoxOTIwPmQ/MTkyMDozRTM+ZD8zRTM6NDMyMD5kPzQzMjA6MTk2MCpsayhkLzE5NjApKS1kO2lmKDEwPGQpe2EudGltZW91dEhhbmRsZT1GZihQay5iaW5kKG51bGwsYSx0ayx1ayksZCk7YnJlYWt9UGsoYSx0ayx1ayk7YnJlYWs7Y2FzZSA1OlBrKGEsdGssdWspO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IocCgzMjkpKTt9fX1EayhhLEIoKSk7cmV0dXJuIGEuY2FsbGJhY2tOb2RlPT09Yz9Hay5iaW5kKG51bGwsYSk6bnVsbH1cbmZ1bmN0aW9uIE5rKGEsYil7dmFyIGM9c2s7YS5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkJiYoS2soYSxiKS5mbGFnc3w9MjU2KTthPUlrKGEsYik7MiE9PWEmJihiPXRrLHRrPWMsbnVsbCE9PWImJkZqKGIpKTtyZXR1cm4gYX1mdW5jdGlvbiBGaihhKXtudWxsPT09dGs/dGs9YTp0ay5wdXNoLmFwcGx5KHRrLGEpfVxuZnVuY3Rpb24gT2soYSl7Zm9yKHZhciBiPWE7Oyl7aWYoYi5mbGFncyYxNjM4NCl7dmFyIGM9Yi51cGRhdGVRdWV1ZTtpZihudWxsIT09YyYmKGM9Yy5zdG9yZXMsbnVsbCE9PWMpKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdLGY9ZS5nZXRTbmFwc2hvdDtlPWUudmFsdWU7dHJ5e2lmKCFIZShmKCksZSkpcmV0dXJuITF9Y2F0Y2goZyl7cmV0dXJuITF9fX1jPWIuY2hpbGQ7aWYoYi5zdWJ0cmVlRmxhZ3MmMTYzODQmJm51bGwhPT1jKWMucmV0dXJuPWIsYj1jO2Vsc2V7aWYoYj09PWEpYnJlYWs7Zm9yKDtudWxsPT09Yi5zaWJsaW5nOyl7aWYobnVsbD09PWIucmV0dXJufHxiLnJldHVybj09PWEpcmV0dXJuITA7Yj1iLnJldHVybn1iLnNpYmxpbmcucmV0dXJuPWIucmV0dXJuO2I9Yi5zaWJsaW5nfX1yZXR1cm4hMH1cbmZ1bmN0aW9uIENrKGEsYil7YiY9fnJrO2ImPX5xazthLnN1c3BlbmRlZExhbmVzfD1iO2EucGluZ2VkTGFuZXMmPX5iO2ZvcihhPWEuZXhwaXJhdGlvblRpbWVzOzA8Yjspe3ZhciBjPTMxLW9jKGIpLGQ9MTw8YzthW2NdPS0xO2ImPX5kfX1mdW5jdGlvbiBFayhhKXtpZigwIT09KEsmNikpdGhyb3cgRXJyb3IocCgzMjcpKTtIaygpO3ZhciBiPXVjKGEsMCk7aWYoMD09PShiJjEpKXJldHVybiBEayhhLEIoKSksbnVsbDt2YXIgYz1JayhhLGIpO2lmKDAhPT1hLnRhZyYmMj09PWMpe3ZhciBkPXhjKGEpOzAhPT1kJiYoYj1kLGM9TmsoYSxkKSl9aWYoMT09PWMpdGhyb3cgYz1wayxLayhhLDApLENrKGEsYiksRGsoYSxCKCkpLGM7aWYoNj09PWMpdGhyb3cgRXJyb3IocCgzNDUpKTthLmZpbmlzaGVkV29yaz1hLmN1cnJlbnQuYWx0ZXJuYXRlO2EuZmluaXNoZWRMYW5lcz1iO1BrKGEsdGssdWspO0RrKGEsQigpKTtyZXR1cm4gbnVsbH1cbmZ1bmN0aW9uIFFrKGEsYil7dmFyIGM9SztLfD0xO3RyeXtyZXR1cm4gYShiKX1maW5hbGx5e0s9YywwPT09SyYmKEdqPUIoKSs1MDAsZmcmJmpnKCkpfX1mdW5jdGlvbiBSayhhKXtudWxsIT09d2smJjA9PT13ay50YWcmJjA9PT0oSyY2KSYmSGsoKTt2YXIgYj1LO0t8PTE7dmFyIGM9b2sudHJhbnNpdGlvbixkPUM7dHJ5e2lmKG9rLnRyYW5zaXRpb249bnVsbCxDPTEsYSlyZXR1cm4gYSgpfWZpbmFsbHl7Qz1kLG9rLnRyYW5zaXRpb249YyxLPWIsMD09PShLJjYpJiZqZygpfX1mdW5jdGlvbiBIaigpe2ZqPWVqLmN1cnJlbnQ7RShlail9XG5mdW5jdGlvbiBLayhhLGIpe2EuZmluaXNoZWRXb3JrPW51bGw7YS5maW5pc2hlZExhbmVzPTA7dmFyIGM9YS50aW1lb3V0SGFuZGxlOy0xIT09YyYmKGEudGltZW91dEhhbmRsZT0tMSxHZihjKSk7aWYobnVsbCE9PVkpZm9yKGM9WS5yZXR1cm47bnVsbCE9PWM7KXt2YXIgZD1jO3dnKGQpO3N3aXRjaChkLnRhZyl7Y2FzZSAxOmQ9ZC50eXBlLmNoaWxkQ29udGV4dFR5cGVzO251bGwhPT1kJiZ2b2lkIDAhPT1kJiYkZigpO2JyZWFrO2Nhc2UgMzp6aCgpO0UoV2YpO0UoSCk7RWgoKTticmVhaztjYXNlIDU6QmgoZCk7YnJlYWs7Y2FzZSA0OnpoKCk7YnJlYWs7Y2FzZSAxMzpFKEwpO2JyZWFrO2Nhc2UgMTk6RShMKTticmVhaztjYXNlIDEwOmFoKGQudHlwZS5fY29udGV4dCk7YnJlYWs7Y2FzZSAyMjpjYXNlIDIzOkhqKCl9Yz1jLnJldHVybn1RPWE7WT1hPVBnKGEuY3VycmVudCxudWxsKTtaPWZqPWI7VD0wO3BrPW51bGw7cms9cWs9cmg9MDt0az1zaz1udWxsO2lmKG51bGwhPT1maCl7Zm9yKGI9XG4wO2I8ZmgubGVuZ3RoO2IrKylpZihjPWZoW2JdLGQ9Yy5pbnRlcmxlYXZlZCxudWxsIT09ZCl7Yy5pbnRlcmxlYXZlZD1udWxsO3ZhciBlPWQubmV4dCxmPWMucGVuZGluZztpZihudWxsIT09Zil7dmFyIGc9Zi5uZXh0O2YubmV4dD1lO2QubmV4dD1nfWMucGVuZGluZz1kfWZoPW51bGx9cmV0dXJuIGF9XG5mdW5jdGlvbiBNayhhLGIpe2Rve3ZhciBjPVk7dHJ5eyRnKCk7RmguY3VycmVudD1SaDtpZihJaCl7Zm9yKHZhciBkPU0ubWVtb2l6ZWRTdGF0ZTtudWxsIT09ZDspe3ZhciBlPWQucXVldWU7bnVsbCE9PWUmJihlLnBlbmRpbmc9bnVsbCk7ZD1kLm5leHR9SWg9ITF9SGg9MDtPPU49TT1udWxsO0poPSExO0toPTA7bmsuY3VycmVudD1udWxsO2lmKG51bGw9PT1jfHxudWxsPT09Yy5yZXR1cm4pe1Q9MTtwaz1iO1k9bnVsbDticmVha31hOnt2YXIgZj1hLGc9Yy5yZXR1cm4saD1jLGs9YjtiPVo7aC5mbGFnc3w9MzI3Njg7aWYobnVsbCE9PWsmJlwib2JqZWN0XCI9PT10eXBlb2YgayYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGsudGhlbil7dmFyIGw9ayxtPWgscT1tLnRhZztpZigwPT09KG0ubW9kZSYxKSYmKDA9PT1xfHwxMT09PXF8fDE1PT09cSkpe3ZhciByPW0uYWx0ZXJuYXRlO3I/KG0udXBkYXRlUXVldWU9ci51cGRhdGVRdWV1ZSxtLm1lbW9pemVkU3RhdGU9ci5tZW1vaXplZFN0YXRlLFxubS5sYW5lcz1yLmxhbmVzKToobS51cGRhdGVRdWV1ZT1udWxsLG0ubWVtb2l6ZWRTdGF0ZT1udWxsKX12YXIgeT1VaShnKTtpZihudWxsIT09eSl7eS5mbGFncyY9LTI1NztWaSh5LGcsaCxmLGIpO3kubW9kZSYxJiZTaShmLGwsYik7Yj15O2s9bDt2YXIgbj1iLnVwZGF0ZVF1ZXVlO2lmKG51bGw9PT1uKXt2YXIgdD1uZXcgU2V0O3QuYWRkKGspO2IudXBkYXRlUXVldWU9dH1lbHNlIG4uYWRkKGspO2JyZWFrIGF9ZWxzZXtpZigwPT09KGImMSkpe1NpKGYsbCxiKTt0aigpO2JyZWFrIGF9az1FcnJvcihwKDQyNikpfX1lbHNlIGlmKEkmJmgubW9kZSYxKXt2YXIgSj1VaShnKTtpZihudWxsIT09Sil7MD09PShKLmZsYWdzJjY1NTM2KSYmKEouZmxhZ3N8PTI1Nik7VmkoSixnLGgsZixiKTtKZyhKaShrLGgpKTticmVhayBhfX1mPWs9SmkoayxoKTs0IT09VCYmKFQ9Mik7bnVsbD09PXNrP3NrPVtmXTpzay5wdXNoKGYpO2Y9Zztkb3tzd2l0Y2goZi50YWcpe2Nhc2UgMzpmLmZsYWdzfD02NTUzNjtcbmImPS1iO2YubGFuZXN8PWI7dmFyIHg9TmkoZixrLGIpO3BoKGYseCk7YnJlYWsgYTtjYXNlIDE6aD1rO3ZhciB3PWYudHlwZSx1PWYuc3RhdGVOb2RlO2lmKDA9PT0oZi5mbGFncyYxMjgpJiYoXCJmdW5jdGlvblwiPT09dHlwZW9mIHcuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yfHxudWxsIT09dSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIHUuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09Uml8fCFSaS5oYXModSkpKSl7Zi5mbGFnc3w9NjU1MzY7YiY9LWI7Zi5sYW5lc3w9Yjt2YXIgRj1RaShmLGgsYik7cGgoZixGKTticmVhayBhfX1mPWYucmV0dXJufXdoaWxlKG51bGwhPT1mKX1TayhjKX1jYXRjaChuYSl7Yj1uYTtZPT09YyYmbnVsbCE9PWMmJihZPWM9Yy5yZXR1cm4pO2NvbnRpbnVlfWJyZWFrfXdoaWxlKDEpfWZ1bmN0aW9uIEprKCl7dmFyIGE9bWsuY3VycmVudDttay5jdXJyZW50PVJoO3JldHVybiBudWxsPT09YT9SaDphfVxuZnVuY3Rpb24gdGooKXtpZigwPT09VHx8Mz09PVR8fDI9PT1UKVQ9NDtudWxsPT09UXx8MD09PShyaCYyNjg0MzU0NTUpJiYwPT09KHFrJjI2ODQzNTQ1NSl8fENrKFEsWil9ZnVuY3Rpb24gSWsoYSxiKXt2YXIgYz1LO0t8PTI7dmFyIGQ9SmsoKTtpZihRIT09YXx8WiE9PWIpdWs9bnVsbCxLayhhLGIpO2RvIHRyeXtUaygpO2JyZWFrfWNhdGNoKGUpe01rKGEsZSl9d2hpbGUoMSk7JGcoKTtLPWM7bWsuY3VycmVudD1kO2lmKG51bGwhPT1ZKXRocm93IEVycm9yKHAoMjYxKSk7UT1udWxsO1o9MDtyZXR1cm4gVH1mdW5jdGlvbiBUaygpe2Zvcig7bnVsbCE9PVk7KVVrKFkpfWZ1bmN0aW9uIExrKCl7Zm9yKDtudWxsIT09WSYmIWNjKCk7KVVrKFkpfWZ1bmN0aW9uIFVrKGEpe3ZhciBiPVZrKGEuYWx0ZXJuYXRlLGEsZmopO2EubWVtb2l6ZWRQcm9wcz1hLnBlbmRpbmdQcm9wcztudWxsPT09Yj9TayhhKTpZPWI7bmsuY3VycmVudD1udWxsfVxuZnVuY3Rpb24gU2soYSl7dmFyIGI9YTtkb3t2YXIgYz1iLmFsdGVybmF0ZTthPWIucmV0dXJuO2lmKDA9PT0oYi5mbGFncyYzMjc2OCkpe2lmKGM9RWooYyxiLGZqKSxudWxsIT09Yyl7WT1jO3JldHVybn19ZWxzZXtjPUlqKGMsYik7aWYobnVsbCE9PWMpe2MuZmxhZ3MmPTMyNzY3O1k9YztyZXR1cm59aWYobnVsbCE9PWEpYS5mbGFnc3w9MzI3NjgsYS5zdWJ0cmVlRmxhZ3M9MCxhLmRlbGV0aW9ucz1udWxsO2Vsc2V7VD02O1k9bnVsbDtyZXR1cm59fWI9Yi5zaWJsaW5nO2lmKG51bGwhPT1iKXtZPWI7cmV0dXJufVk9Yj1hfXdoaWxlKG51bGwhPT1iKTswPT09VCYmKFQ9NSl9ZnVuY3Rpb24gUGsoYSxiLGMpe3ZhciBkPUMsZT1vay50cmFuc2l0aW9uO3RyeXtvay50cmFuc2l0aW9uPW51bGwsQz0xLFdrKGEsYixjLGQpfWZpbmFsbHl7b2sudHJhbnNpdGlvbj1lLEM9ZH1yZXR1cm4gbnVsbH1cbmZ1bmN0aW9uIFdrKGEsYixjLGQpe2RvIEhrKCk7d2hpbGUobnVsbCE9PXdrKTtpZigwIT09KEsmNikpdGhyb3cgRXJyb3IocCgzMjcpKTtjPWEuZmluaXNoZWRXb3JrO3ZhciBlPWEuZmluaXNoZWRMYW5lcztpZihudWxsPT09YylyZXR1cm4gbnVsbDthLmZpbmlzaGVkV29yaz1udWxsO2EuZmluaXNoZWRMYW5lcz0wO2lmKGM9PT1hLmN1cnJlbnQpdGhyb3cgRXJyb3IocCgxNzcpKTthLmNhbGxiYWNrTm9kZT1udWxsO2EuY2FsbGJhY2tQcmlvcml0eT0wO3ZhciBmPWMubGFuZXN8Yy5jaGlsZExhbmVzO0JjKGEsZik7YT09PVEmJihZPVE9bnVsbCxaPTApOzA9PT0oYy5zdWJ0cmVlRmxhZ3MmMjA2NCkmJjA9PT0oYy5mbGFncyYyMDY0KXx8dmt8fCh2az0hMCxGayhoYyxmdW5jdGlvbigpe0hrKCk7cmV0dXJuIG51bGx9KSk7Zj0wIT09KGMuZmxhZ3MmMTU5OTApO2lmKDAhPT0oYy5zdWJ0cmVlRmxhZ3MmMTU5OTApfHxmKXtmPW9rLnRyYW5zaXRpb247b2sudHJhbnNpdGlvbj1udWxsO1xudmFyIGc9QztDPTE7dmFyIGg9SztLfD00O25rLmN1cnJlbnQ9bnVsbDtPaihhLGMpO2RrKGMsYSk7T2UoRGYpO2RkPSEhQ2Y7RGY9Q2Y9bnVsbDthLmN1cnJlbnQ9YztoayhjLGEsZSk7ZGMoKTtLPWg7Qz1nO29rLnRyYW5zaXRpb249Zn1lbHNlIGEuY3VycmVudD1jO3ZrJiYodms9ITEsd2s9YSx4az1lKTtmPWEucGVuZGluZ0xhbmVzOzA9PT1mJiYoUmk9bnVsbCk7bWMoYy5zdGF0ZU5vZGUsZCk7RGsoYSxCKCkpO2lmKG51bGwhPT1iKWZvcihkPWEub25SZWNvdmVyYWJsZUVycm9yLGM9MDtjPGIubGVuZ3RoO2MrKyllPWJbY10sZChlLnZhbHVlLHtjb21wb25lbnRTdGFjazplLnN0YWNrLGRpZ2VzdDplLmRpZ2VzdH0pO2lmKE9pKXRocm93IE9pPSExLGE9UGksUGk9bnVsbCxhOzAhPT0oeGsmMSkmJjAhPT1hLnRhZyYmSGsoKTtmPWEucGVuZGluZ0xhbmVzOzAhPT0oZiYxKT9hPT09ems/eWsrKzooeWs9MCx6az1hKTp5az0wO2pnKCk7cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBIaygpe2lmKG51bGwhPT13ayl7dmFyIGE9RGMoeGspLGI9b2sudHJhbnNpdGlvbixjPUM7dHJ5e29rLnRyYW5zaXRpb249bnVsbDtDPTE2PmE/MTY6YTtpZihudWxsPT09d2spdmFyIGQ9ITE7ZWxzZXthPXdrO3drPW51bGw7eGs9MDtpZigwIT09KEsmNikpdGhyb3cgRXJyb3IocCgzMzEpKTt2YXIgZT1LO0t8PTQ7Zm9yKFY9YS5jdXJyZW50O251bGwhPT1WOyl7dmFyIGY9VixnPWYuY2hpbGQ7aWYoMCE9PShWLmZsYWdzJjE2KSl7dmFyIGg9Zi5kZWxldGlvbnM7aWYobnVsbCE9PWgpe2Zvcih2YXIgaz0wO2s8aC5sZW5ndGg7aysrKXt2YXIgbD1oW2tdO2ZvcihWPWw7bnVsbCE9PVY7KXt2YXIgbT1WO3N3aXRjaChtLnRhZyl7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNTpQaig4LG0sZil9dmFyIHE9bS5jaGlsZDtpZihudWxsIT09cSlxLnJldHVybj1tLFY9cTtlbHNlIGZvcig7bnVsbCE9PVY7KXttPVY7dmFyIHI9bS5zaWJsaW5nLHk9bS5yZXR1cm47U2oobSk7aWYobT09PVxubCl7Vj1udWxsO2JyZWFrfWlmKG51bGwhPT1yKXtyLnJldHVybj15O1Y9cjticmVha31WPXl9fX12YXIgbj1mLmFsdGVybmF0ZTtpZihudWxsIT09bil7dmFyIHQ9bi5jaGlsZDtpZihudWxsIT09dCl7bi5jaGlsZD1udWxsO2Rve3ZhciBKPXQuc2libGluZzt0LnNpYmxpbmc9bnVsbDt0PUp9d2hpbGUobnVsbCE9PXQpfX1WPWZ9fWlmKDAhPT0oZi5zdWJ0cmVlRmxhZ3MmMjA2NCkmJm51bGwhPT1nKWcucmV0dXJuPWYsVj1nO2Vsc2UgYjpmb3IoO251bGwhPT1WOyl7Zj1WO2lmKDAhPT0oZi5mbGFncyYyMDQ4KSlzd2l0Y2goZi50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6UGooOSxmLGYucmV0dXJuKX12YXIgeD1mLnNpYmxpbmc7aWYobnVsbCE9PXgpe3gucmV0dXJuPWYucmV0dXJuO1Y9eDticmVhayBifVY9Zi5yZXR1cm59fXZhciB3PWEuY3VycmVudDtmb3IoVj13O251bGwhPT1WOyl7Zz1WO3ZhciB1PWcuY2hpbGQ7aWYoMCE9PShnLnN1YnRyZWVGbGFncyYyMDY0KSYmbnVsbCE9PVxudSl1LnJldHVybj1nLFY9dTtlbHNlIGI6Zm9yKGc9dztudWxsIT09Vjspe2g9VjtpZigwIT09KGguZmxhZ3MmMjA0OCkpdHJ5e3N3aXRjaChoLnRhZyl7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNTpRaig5LGgpfX1jYXRjaChuYSl7VyhoLGgucmV0dXJuLG5hKX1pZihoPT09Zyl7Vj1udWxsO2JyZWFrIGJ9dmFyIEY9aC5zaWJsaW5nO2lmKG51bGwhPT1GKXtGLnJldHVybj1oLnJldHVybjtWPUY7YnJlYWsgYn1WPWgucmV0dXJufX1LPWU7amcoKTtpZihsYyYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGxjLm9uUG9zdENvbW1pdEZpYmVyUm9vdCl0cnl7bGMub25Qb3N0Q29tbWl0RmliZXJSb290KGtjLGEpfWNhdGNoKG5hKXt9ZD0hMH1yZXR1cm4gZH1maW5hbGx5e0M9Yyxvay50cmFuc2l0aW9uPWJ9fXJldHVybiExfWZ1bmN0aW9uIFhrKGEsYixjKXtiPUppKGMsYik7Yj1OaShhLGIsMSk7YT1uaChhLGIsMSk7Yj1SKCk7bnVsbCE9PWEmJihBYyhhLDEsYiksRGsoYSxiKSl9XG5mdW5jdGlvbiBXKGEsYixjKXtpZigzPT09YS50YWcpWGsoYSxhLGMpO2Vsc2UgZm9yKDtudWxsIT09Yjspe2lmKDM9PT1iLnRhZyl7WGsoYixhLGMpO2JyZWFrfWVsc2UgaWYoMT09PWIudGFnKXt2YXIgZD1iLnN0YXRlTm9kZTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYi50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcnx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGQuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09Uml8fCFSaS5oYXMoZCkpKXthPUppKGMsYSk7YT1RaShiLGEsMSk7Yj1uaChiLGEsMSk7YT1SKCk7bnVsbCE9PWImJihBYyhiLDEsYSksRGsoYixhKSk7YnJlYWt9fWI9Yi5yZXR1cm59fVxuZnVuY3Rpb24gVGkoYSxiLGMpe3ZhciBkPWEucGluZ0NhY2hlO251bGwhPT1kJiZkLmRlbGV0ZShiKTtiPVIoKTthLnBpbmdlZExhbmVzfD1hLnN1c3BlbmRlZExhbmVzJmM7UT09PWEmJihaJmMpPT09YyYmKDQ9PT1UfHwzPT09VCYmKFomMTMwMDIzNDI0KT09PVomJjUwMD5CKCktZms/S2soYSwwKTpya3w9Yyk7RGsoYSxiKX1mdW5jdGlvbiBZayhhLGIpezA9PT1iJiYoMD09PShhLm1vZGUmMSk/Yj0xOihiPXNjLHNjPDw9MSwwPT09KHNjJjEzMDAyMzQyNCkmJihzYz00MTk0MzA0KSkpO3ZhciBjPVIoKTthPWloKGEsYik7bnVsbCE9PWEmJihBYyhhLGIsYyksRGsoYSxjKSl9ZnVuY3Rpb24gdWooYSl7dmFyIGI9YS5tZW1vaXplZFN0YXRlLGM9MDtudWxsIT09YiYmKGM9Yi5yZXRyeUxhbmUpO1lrKGEsYyl9XG5mdW5jdGlvbiBiayhhLGIpe3ZhciBjPTA7c3dpdGNoKGEudGFnKXtjYXNlIDEzOnZhciBkPWEuc3RhdGVOb2RlO3ZhciBlPWEubWVtb2l6ZWRTdGF0ZTtudWxsIT09ZSYmKGM9ZS5yZXRyeUxhbmUpO2JyZWFrO2Nhc2UgMTk6ZD1hLnN0YXRlTm9kZTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKHAoMzE0KSk7fW51bGwhPT1kJiZkLmRlbGV0ZShiKTtZayhhLGMpfXZhciBWaztcblZrPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT09YSlpZihhLm1lbW9pemVkUHJvcHMhPT1iLnBlbmRpbmdQcm9wc3x8V2YuY3VycmVudClkaD0hMDtlbHNle2lmKDA9PT0oYS5sYW5lcyZjKSYmMD09PShiLmZsYWdzJjEyOCkpcmV0dXJuIGRoPSExLHlqKGEsYixjKTtkaD0wIT09KGEuZmxhZ3MmMTMxMDcyKT8hMDohMX1lbHNlIGRoPSExLEkmJjAhPT0oYi5mbGFncyYxMDQ4NTc2KSYmdWcoYixuZyxiLmluZGV4KTtiLmxhbmVzPTA7c3dpdGNoKGIudGFnKXtjYXNlIDI6dmFyIGQ9Yi50eXBlO2lqKGEsYik7YT1iLnBlbmRpbmdQcm9wczt2YXIgZT1ZZihiLEguY3VycmVudCk7Y2goYixjKTtlPU5oKG51bGwsYixkLGEsZSxjKTt2YXIgZj1TaCgpO2IuZmxhZ3N8PTE7XCJvYmplY3RcIj09PXR5cGVvZiBlJiZudWxsIT09ZSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGUucmVuZGVyJiZ2b2lkIDA9PT1lLiQkdHlwZW9mPyhiLnRhZz0xLGIubWVtb2l6ZWRTdGF0ZT1udWxsLGIudXBkYXRlUXVldWU9XG5udWxsLFpmKGQpPyhmPSEwLGNnKGIpKTpmPSExLGIubWVtb2l6ZWRTdGF0ZT1udWxsIT09ZS5zdGF0ZSYmdm9pZCAwIT09ZS5zdGF0ZT9lLnN0YXRlOm51bGwsa2goYiksZS51cGRhdGVyPUVpLGIuc3RhdGVOb2RlPWUsZS5fcmVhY3RJbnRlcm5hbHM9YixJaShiLGQsYSxjKSxiPWpqKG51bGwsYixkLCEwLGYsYykpOihiLnRhZz0wLEkmJmYmJnZnKGIpLFhpKG51bGwsYixlLGMpLGI9Yi5jaGlsZCk7cmV0dXJuIGI7Y2FzZSAxNjpkPWIuZWxlbWVudFR5cGU7YTp7aWooYSxiKTthPWIucGVuZGluZ1Byb3BzO2U9ZC5faW5pdDtkPWUoZC5fcGF5bG9hZCk7Yi50eXBlPWQ7ZT1iLnRhZz1aayhkKTthPUNpKGQsYSk7c3dpdGNoKGUpe2Nhc2UgMDpiPWNqKG51bGwsYixkLGEsYyk7YnJlYWsgYTtjYXNlIDE6Yj1oaihudWxsLGIsZCxhLGMpO2JyZWFrIGE7Y2FzZSAxMTpiPVlpKG51bGwsYixkLGEsYyk7YnJlYWsgYTtjYXNlIDE0OmI9JGkobnVsbCxiLGQsQ2koZC50eXBlLGEpLGMpO2JyZWFrIGF9dGhyb3cgRXJyb3IocCgzMDYsXG5kLFwiXCIpKTt9cmV0dXJuIGI7Y2FzZSAwOnJldHVybiBkPWIudHlwZSxlPWIucGVuZGluZ1Byb3BzLGU9Yi5lbGVtZW50VHlwZT09PWQ/ZTpDaShkLGUpLGNqKGEsYixkLGUsYyk7Y2FzZSAxOnJldHVybiBkPWIudHlwZSxlPWIucGVuZGluZ1Byb3BzLGU9Yi5lbGVtZW50VHlwZT09PWQ/ZTpDaShkLGUpLGhqKGEsYixkLGUsYyk7Y2FzZSAzOmE6e2tqKGIpO2lmKG51bGw9PT1hKXRocm93IEVycm9yKHAoMzg3KSk7ZD1iLnBlbmRpbmdQcm9wcztmPWIubWVtb2l6ZWRTdGF0ZTtlPWYuZWxlbWVudDtsaChhLGIpO3FoKGIsZCxudWxsLGMpO3ZhciBnPWIubWVtb2l6ZWRTdGF0ZTtkPWcuZWxlbWVudDtpZihmLmlzRGVoeWRyYXRlZClpZihmPXtlbGVtZW50OmQsaXNEZWh5ZHJhdGVkOiExLGNhY2hlOmcuY2FjaGUscGVuZGluZ1N1c3BlbnNlQm91bmRhcmllczpnLnBlbmRpbmdTdXNwZW5zZUJvdW5kYXJpZXMsdHJhbnNpdGlvbnM6Zy50cmFuc2l0aW9uc30sYi51cGRhdGVRdWV1ZS5iYXNlU3RhdGU9XG5mLGIubWVtb2l6ZWRTdGF0ZT1mLGIuZmxhZ3MmMjU2KXtlPUppKEVycm9yKHAoNDIzKSksYik7Yj1saihhLGIsZCxjLGUpO2JyZWFrIGF9ZWxzZSBpZihkIT09ZSl7ZT1KaShFcnJvcihwKDQyNCkpLGIpO2I9bGooYSxiLGQsYyxlKTticmVhayBhfWVsc2UgZm9yKHlnPUxmKGIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8uZmlyc3RDaGlsZCkseGc9YixJPSEwLHpnPW51bGwsYz1WZyhiLG51bGwsZCxjKSxiLmNoaWxkPWM7YzspYy5mbGFncz1jLmZsYWdzJi0zfDQwOTYsYz1jLnNpYmxpbmc7ZWxzZXtJZygpO2lmKGQ9PT1lKXtiPVppKGEsYixjKTticmVhayBhfVhpKGEsYixkLGMpfWI9Yi5jaGlsZH1yZXR1cm4gYjtjYXNlIDU6cmV0dXJuIEFoKGIpLG51bGw9PT1hJiZFZyhiKSxkPWIudHlwZSxlPWIucGVuZGluZ1Byb3BzLGY9bnVsbCE9PWE/YS5tZW1vaXplZFByb3BzOm51bGwsZz1lLmNoaWxkcmVuLEVmKGQsZSk/Zz1udWxsOm51bGwhPT1mJiZFZihkLGYpJiYoYi5mbGFnc3w9MzIpLFxuZ2ooYSxiKSxYaShhLGIsZyxjKSxiLmNoaWxkO2Nhc2UgNjpyZXR1cm4gbnVsbD09PWEmJkVnKGIpLG51bGw7Y2FzZSAxMzpyZXR1cm4gb2ooYSxiLGMpO2Nhc2UgNDpyZXR1cm4geWgoYixiLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKSxkPWIucGVuZGluZ1Byb3BzLG51bGw9PT1hP2IuY2hpbGQ9VWcoYixudWxsLGQsYyk6WGkoYSxiLGQsYyksYi5jaGlsZDtjYXNlIDExOnJldHVybiBkPWIudHlwZSxlPWIucGVuZGluZ1Byb3BzLGU9Yi5lbGVtZW50VHlwZT09PWQ/ZTpDaShkLGUpLFlpKGEsYixkLGUsYyk7Y2FzZSA3OnJldHVybiBYaShhLGIsYi5wZW5kaW5nUHJvcHMsYyksYi5jaGlsZDtjYXNlIDg6cmV0dXJuIFhpKGEsYixiLnBlbmRpbmdQcm9wcy5jaGlsZHJlbixjKSxiLmNoaWxkO2Nhc2UgMTI6cmV0dXJuIFhpKGEsYixiLnBlbmRpbmdQcm9wcy5jaGlsZHJlbixjKSxiLmNoaWxkO2Nhc2UgMTA6YTp7ZD1iLnR5cGUuX2NvbnRleHQ7ZT1iLnBlbmRpbmdQcm9wcztmPWIubWVtb2l6ZWRQcm9wcztcbmc9ZS52YWx1ZTtHKFdnLGQuX2N1cnJlbnRWYWx1ZSk7ZC5fY3VycmVudFZhbHVlPWc7aWYobnVsbCE9PWYpaWYoSGUoZi52YWx1ZSxnKSl7aWYoZi5jaGlsZHJlbj09PWUuY2hpbGRyZW4mJiFXZi5jdXJyZW50KXtiPVppKGEsYixjKTticmVhayBhfX1lbHNlIGZvcihmPWIuY2hpbGQsbnVsbCE9PWYmJihmLnJldHVybj1iKTtudWxsIT09Zjspe3ZhciBoPWYuZGVwZW5kZW5jaWVzO2lmKG51bGwhPT1oKXtnPWYuY2hpbGQ7Zm9yKHZhciBrPWguZmlyc3RDb250ZXh0O251bGwhPT1rOyl7aWYoay5jb250ZXh0PT09ZCl7aWYoMT09PWYudGFnKXtrPW1oKC0xLGMmLWMpO2sudGFnPTI7dmFyIGw9Zi51cGRhdGVRdWV1ZTtpZihudWxsIT09bCl7bD1sLnNoYXJlZDt2YXIgbT1sLnBlbmRpbmc7bnVsbD09PW0/ay5uZXh0PWs6KGsubmV4dD1tLm5leHQsbS5uZXh0PWspO2wucGVuZGluZz1rfX1mLmxhbmVzfD1jO2s9Zi5hbHRlcm5hdGU7bnVsbCE9PWsmJihrLmxhbmVzfD1jKTtiaChmLnJldHVybixcbmMsYik7aC5sYW5lc3w9YzticmVha31rPWsubmV4dH19ZWxzZSBpZigxMD09PWYudGFnKWc9Zi50eXBlPT09Yi50eXBlP251bGw6Zi5jaGlsZDtlbHNlIGlmKDE4PT09Zi50YWcpe2c9Zi5yZXR1cm47aWYobnVsbD09PWcpdGhyb3cgRXJyb3IocCgzNDEpKTtnLmxhbmVzfD1jO2g9Zy5hbHRlcm5hdGU7bnVsbCE9PWgmJihoLmxhbmVzfD1jKTtiaChnLGMsYik7Zz1mLnNpYmxpbmd9ZWxzZSBnPWYuY2hpbGQ7aWYobnVsbCE9PWcpZy5yZXR1cm49ZjtlbHNlIGZvcihnPWY7bnVsbCE9PWc7KXtpZihnPT09Yil7Zz1udWxsO2JyZWFrfWY9Zy5zaWJsaW5nO2lmKG51bGwhPT1mKXtmLnJldHVybj1nLnJldHVybjtnPWY7YnJlYWt9Zz1nLnJldHVybn1mPWd9WGkoYSxiLGUuY2hpbGRyZW4sYyk7Yj1iLmNoaWxkfXJldHVybiBiO2Nhc2UgOTpyZXR1cm4gZT1iLnR5cGUsZD1iLnBlbmRpbmdQcm9wcy5jaGlsZHJlbixjaChiLGMpLGU9ZWgoZSksZD1kKGUpLGIuZmxhZ3N8PTEsWGkoYSxiLGQsYyksXG5iLmNoaWxkO2Nhc2UgMTQ6cmV0dXJuIGQ9Yi50eXBlLGU9Q2koZCxiLnBlbmRpbmdQcm9wcyksZT1DaShkLnR5cGUsZSksJGkoYSxiLGQsZSxjKTtjYXNlIDE1OnJldHVybiBiaihhLGIsYi50eXBlLGIucGVuZGluZ1Byb3BzLGMpO2Nhc2UgMTc6cmV0dXJuIGQ9Yi50eXBlLGU9Yi5wZW5kaW5nUHJvcHMsZT1iLmVsZW1lbnRUeXBlPT09ZD9lOkNpKGQsZSksaWooYSxiKSxiLnRhZz0xLFpmKGQpPyhhPSEwLGNnKGIpKTphPSExLGNoKGIsYyksR2koYixkLGUpLElpKGIsZCxlLGMpLGpqKG51bGwsYixkLCEwLGEsYyk7Y2FzZSAxOTpyZXR1cm4geGooYSxiLGMpO2Nhc2UgMjI6cmV0dXJuIGRqKGEsYixjKX10aHJvdyBFcnJvcihwKDE1NixiLnRhZykpO307ZnVuY3Rpb24gRmsoYSxiKXtyZXR1cm4gYWMoYSxiKX1cbmZ1bmN0aW9uICRrKGEsYixjLGQpe3RoaXMudGFnPWE7dGhpcy5rZXk9Yzt0aGlzLnNpYmxpbmc9dGhpcy5jaGlsZD10aGlzLnJldHVybj10aGlzLnN0YXRlTm9kZT10aGlzLnR5cGU9dGhpcy5lbGVtZW50VHlwZT1udWxsO3RoaXMuaW5kZXg9MDt0aGlzLnJlZj1udWxsO3RoaXMucGVuZGluZ1Byb3BzPWI7dGhpcy5kZXBlbmRlbmNpZXM9dGhpcy5tZW1vaXplZFN0YXRlPXRoaXMudXBkYXRlUXVldWU9dGhpcy5tZW1vaXplZFByb3BzPW51bGw7dGhpcy5tb2RlPWQ7dGhpcy5zdWJ0cmVlRmxhZ3M9dGhpcy5mbGFncz0wO3RoaXMuZGVsZXRpb25zPW51bGw7dGhpcy5jaGlsZExhbmVzPXRoaXMubGFuZXM9MDt0aGlzLmFsdGVybmF0ZT1udWxsfWZ1bmN0aW9uIEJnKGEsYixjLGQpe3JldHVybiBuZXcgJGsoYSxiLGMsZCl9ZnVuY3Rpb24gYWooYSl7YT1hLnByb3RvdHlwZTtyZXR1cm4hKCFhfHwhYS5pc1JlYWN0Q29tcG9uZW50KX1cbmZ1bmN0aW9uIFprKGEpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXJldHVybiBhaihhKT8xOjA7aWYodm9pZCAwIT09YSYmbnVsbCE9PWEpe2E9YS4kJHR5cGVvZjtpZihhPT09RGEpcmV0dXJuIDExO2lmKGE9PT1HYSlyZXR1cm4gMTR9cmV0dXJuIDJ9XG5mdW5jdGlvbiBQZyhhLGIpe3ZhciBjPWEuYWx0ZXJuYXRlO251bGw9PT1jPyhjPUJnKGEudGFnLGIsYS5rZXksYS5tb2RlKSxjLmVsZW1lbnRUeXBlPWEuZWxlbWVudFR5cGUsYy50eXBlPWEudHlwZSxjLnN0YXRlTm9kZT1hLnN0YXRlTm9kZSxjLmFsdGVybmF0ZT1hLGEuYWx0ZXJuYXRlPWMpOihjLnBlbmRpbmdQcm9wcz1iLGMudHlwZT1hLnR5cGUsYy5mbGFncz0wLGMuc3VidHJlZUZsYWdzPTAsYy5kZWxldGlvbnM9bnVsbCk7Yy5mbGFncz1hLmZsYWdzJjE0NjgwMDY0O2MuY2hpbGRMYW5lcz1hLmNoaWxkTGFuZXM7Yy5sYW5lcz1hLmxhbmVzO2MuY2hpbGQ9YS5jaGlsZDtjLm1lbW9pemVkUHJvcHM9YS5tZW1vaXplZFByb3BzO2MubWVtb2l6ZWRTdGF0ZT1hLm1lbW9pemVkU3RhdGU7Yy51cGRhdGVRdWV1ZT1hLnVwZGF0ZVF1ZXVlO2I9YS5kZXBlbmRlbmNpZXM7Yy5kZXBlbmRlbmNpZXM9bnVsbD09PWI/bnVsbDp7bGFuZXM6Yi5sYW5lcyxmaXJzdENvbnRleHQ6Yi5maXJzdENvbnRleHR9O1xuYy5zaWJsaW5nPWEuc2libGluZztjLmluZGV4PWEuaW5kZXg7Yy5yZWY9YS5yZWY7cmV0dXJuIGN9XG5mdW5jdGlvbiBSZyhhLGIsYyxkLGUsZil7dmFyIGc9MjtkPWE7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpYWooYSkmJihnPTEpO2Vsc2UgaWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKWc9NTtlbHNlIGE6c3dpdGNoKGEpe2Nhc2UgeWE6cmV0dXJuIFRnKGMuY2hpbGRyZW4sZSxmLGIpO2Nhc2UgemE6Zz04O2V8PTg7YnJlYWs7Y2FzZSBBYTpyZXR1cm4gYT1CZygxMixjLGIsZXwyKSxhLmVsZW1lbnRUeXBlPUFhLGEubGFuZXM9ZixhO2Nhc2UgRWE6cmV0dXJuIGE9QmcoMTMsYyxiLGUpLGEuZWxlbWVudFR5cGU9RWEsYS5sYW5lcz1mLGE7Y2FzZSBGYTpyZXR1cm4gYT1CZygxOSxjLGIsZSksYS5lbGVtZW50VHlwZT1GYSxhLmxhbmVzPWYsYTtjYXNlIElhOnJldHVybiBwaihjLGUsZixiKTtkZWZhdWx0OmlmKFwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEpc3dpdGNoKGEuJCR0eXBlb2Ype2Nhc2UgQmE6Zz0xMDticmVhayBhO2Nhc2UgQ2E6Zz05O2JyZWFrIGE7Y2FzZSBEYTpnPTExO1xuYnJlYWsgYTtjYXNlIEdhOmc9MTQ7YnJlYWsgYTtjYXNlIEhhOmc9MTY7ZD1udWxsO2JyZWFrIGF9dGhyb3cgRXJyb3IocCgxMzAsbnVsbD09YT9hOnR5cGVvZiBhLFwiXCIpKTt9Yj1CZyhnLGMsYixlKTtiLmVsZW1lbnRUeXBlPWE7Yi50eXBlPWQ7Yi5sYW5lcz1mO3JldHVybiBifWZ1bmN0aW9uIFRnKGEsYixjLGQpe2E9QmcoNyxhLGQsYik7YS5sYW5lcz1jO3JldHVybiBhfWZ1bmN0aW9uIHBqKGEsYixjLGQpe2E9QmcoMjIsYSxkLGIpO2EuZWxlbWVudFR5cGU9SWE7YS5sYW5lcz1jO2Euc3RhdGVOb2RlPXtpc0hpZGRlbjohMX07cmV0dXJuIGF9ZnVuY3Rpb24gUWcoYSxiLGMpe2E9QmcoNixhLG51bGwsYik7YS5sYW5lcz1jO3JldHVybiBhfVxuZnVuY3Rpb24gU2coYSxiLGMpe2I9QmcoNCxudWxsIT09YS5jaGlsZHJlbj9hLmNoaWxkcmVuOltdLGEua2V5LGIpO2IubGFuZXM9YztiLnN0YXRlTm9kZT17Y29udGFpbmVySW5mbzphLmNvbnRhaW5lckluZm8scGVuZGluZ0NoaWxkcmVuOm51bGwsaW1wbGVtZW50YXRpb246YS5pbXBsZW1lbnRhdGlvbn07cmV0dXJuIGJ9XG5mdW5jdGlvbiBhbChhLGIsYyxkLGUpe3RoaXMudGFnPWI7dGhpcy5jb250YWluZXJJbmZvPWE7dGhpcy5maW5pc2hlZFdvcms9dGhpcy5waW5nQ2FjaGU9dGhpcy5jdXJyZW50PXRoaXMucGVuZGluZ0NoaWxkcmVuPW51bGw7dGhpcy50aW1lb3V0SGFuZGxlPS0xO3RoaXMuY2FsbGJhY2tOb2RlPXRoaXMucGVuZGluZ0NvbnRleHQ9dGhpcy5jb250ZXh0PW51bGw7dGhpcy5jYWxsYmFja1ByaW9yaXR5PTA7dGhpcy5ldmVudFRpbWVzPXpjKDApO3RoaXMuZXhwaXJhdGlvblRpbWVzPXpjKC0xKTt0aGlzLmVudGFuZ2xlZExhbmVzPXRoaXMuZmluaXNoZWRMYW5lcz10aGlzLm11dGFibGVSZWFkTGFuZXM9dGhpcy5leHBpcmVkTGFuZXM9dGhpcy5waW5nZWRMYW5lcz10aGlzLnN1c3BlbmRlZExhbmVzPXRoaXMucGVuZGluZ0xhbmVzPTA7dGhpcy5lbnRhbmdsZW1lbnRzPXpjKDApO3RoaXMuaWRlbnRpZmllclByZWZpeD1kO3RoaXMub25SZWNvdmVyYWJsZUVycm9yPWU7dGhpcy5tdXRhYmxlU291cmNlRWFnZXJIeWRyYXRpb25EYXRhPVxubnVsbH1mdW5jdGlvbiBibChhLGIsYyxkLGUsZixnLGgsayl7YT1uZXcgYWwoYSxiLGMsaCxrKTsxPT09Yj8oYj0xLCEwPT09ZiYmKGJ8PTgpKTpiPTA7Zj1CZygzLG51bGwsbnVsbCxiKTthLmN1cnJlbnQ9ZjtmLnN0YXRlTm9kZT1hO2YubWVtb2l6ZWRTdGF0ZT17ZWxlbWVudDpkLGlzRGVoeWRyYXRlZDpjLGNhY2hlOm51bGwsdHJhbnNpdGlvbnM6bnVsbCxwZW5kaW5nU3VzcGVuc2VCb3VuZGFyaWVzOm51bGx9O2toKGYpO3JldHVybiBhfWZ1bmN0aW9uIGNsKGEsYixjKXt2YXIgZD0zPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbDtyZXR1cm57JCR0eXBlb2Y6d2Esa2V5Om51bGw9PWQ/bnVsbDpcIlwiK2QsY2hpbGRyZW46YSxjb250YWluZXJJbmZvOmIsaW1wbGVtZW50YXRpb246Y319XG5mdW5jdGlvbiBkbChhKXtpZighYSlyZXR1cm4gVmY7YT1hLl9yZWFjdEludGVybmFsczthOntpZihWYihhKSE9PWF8fDEhPT1hLnRhZyl0aHJvdyBFcnJvcihwKDE3MCkpO3ZhciBiPWE7ZG97c3dpdGNoKGIudGFnKXtjYXNlIDM6Yj1iLnN0YXRlTm9kZS5jb250ZXh0O2JyZWFrIGE7Y2FzZSAxOmlmKFpmKGIudHlwZSkpe2I9Yi5zdGF0ZU5vZGUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQ7YnJlYWsgYX19Yj1iLnJldHVybn13aGlsZShudWxsIT09Yik7dGhyb3cgRXJyb3IocCgxNzEpKTt9aWYoMT09PWEudGFnKXt2YXIgYz1hLnR5cGU7aWYoWmYoYykpcmV0dXJuIGJnKGEsYyxiKX1yZXR1cm4gYn1cbmZ1bmN0aW9uIGVsKGEsYixjLGQsZSxmLGcsaCxrKXthPWJsKGMsZCwhMCxhLGUsZixnLGgsayk7YS5jb250ZXh0PWRsKG51bGwpO2M9YS5jdXJyZW50O2Q9UigpO2U9eWkoYyk7Zj1taChkLGUpO2YuY2FsbGJhY2s9dm9pZCAwIT09YiYmbnVsbCE9PWI/YjpudWxsO25oKGMsZixlKTthLmN1cnJlbnQubGFuZXM9ZTtBYyhhLGUsZCk7RGsoYSxkKTtyZXR1cm4gYX1mdW5jdGlvbiBmbChhLGIsYyxkKXt2YXIgZT1iLmN1cnJlbnQsZj1SKCksZz15aShlKTtjPWRsKGMpO251bGw9PT1iLmNvbnRleHQ/Yi5jb250ZXh0PWM6Yi5wZW5kaW5nQ29udGV4dD1jO2I9bWgoZixnKTtiLnBheWxvYWQ9e2VsZW1lbnQ6YX07ZD12b2lkIDA9PT1kP251bGw6ZDtudWxsIT09ZCYmKGIuY2FsbGJhY2s9ZCk7YT1uaChlLGIsZyk7bnVsbCE9PWEmJihnaShhLGUsZyxmKSxvaChhLGUsZykpO3JldHVybiBnfVxuZnVuY3Rpb24gZ2woYSl7YT1hLmN1cnJlbnQ7aWYoIWEuY2hpbGQpcmV0dXJuIG51bGw7c3dpdGNoKGEuY2hpbGQudGFnKXtjYXNlIDU6cmV0dXJuIGEuY2hpbGQuc3RhdGVOb2RlO2RlZmF1bHQ6cmV0dXJuIGEuY2hpbGQuc3RhdGVOb2RlfX1mdW5jdGlvbiBobChhLGIpe2E9YS5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1hJiZudWxsIT09YS5kZWh5ZHJhdGVkKXt2YXIgYz1hLnJldHJ5TGFuZTthLnJldHJ5TGFuZT0wIT09YyYmYzxiP2M6Yn19ZnVuY3Rpb24gaWwoYSxiKXtobChhLGIpOyhhPWEuYWx0ZXJuYXRlKSYmaGwoYSxiKX1mdW5jdGlvbiBqbCgpe3JldHVybiBudWxsfXZhciBrbD1cImZ1bmN0aW9uXCI9PT10eXBlb2YgcmVwb3J0RXJyb3I/cmVwb3J0RXJyb3I6ZnVuY3Rpb24oYSl7Y29uc29sZS5lcnJvcihhKX07ZnVuY3Rpb24gbGwoYSl7dGhpcy5faW50ZXJuYWxSb290PWF9XG5tbC5wcm90b3R5cGUucmVuZGVyPWxsLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5faW50ZXJuYWxSb290O2lmKG51bGw9PT1iKXRocm93IEVycm9yKHAoNDA5KSk7ZmwoYSxiLG51bGwsbnVsbCl9O21sLnByb3RvdHlwZS51bm1vdW50PWxsLnByb3RvdHlwZS51bm1vdW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5faW50ZXJuYWxSb290O2lmKG51bGwhPT1hKXt0aGlzLl9pbnRlcm5hbFJvb3Q9bnVsbDt2YXIgYj1hLmNvbnRhaW5lckluZm87UmsoZnVuY3Rpb24oKXtmbChudWxsLGEsbnVsbCxudWxsKX0pO2JbdWZdPW51bGx9fTtmdW5jdGlvbiBtbChhKXt0aGlzLl9pbnRlcm5hbFJvb3Q9YX1cbm1sLnByb3RvdHlwZS51bnN0YWJsZV9zY2hlZHVsZUh5ZHJhdGlvbj1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj1IYygpO2E9e2Jsb2NrZWRPbjpudWxsLHRhcmdldDphLHByaW9yaXR5OmJ9O2Zvcih2YXIgYz0wO2M8UWMubGVuZ3RoJiYwIT09YiYmYjxRY1tjXS5wcmlvcml0eTtjKyspO1FjLnNwbGljZShjLDAsYSk7MD09PWMmJlZjKGEpfX07ZnVuY3Rpb24gbmwoYSl7cmV0dXJuISghYXx8MSE9PWEubm9kZVR5cGUmJjkhPT1hLm5vZGVUeXBlJiYxMSE9PWEubm9kZVR5cGUpfWZ1bmN0aW9uIG9sKGEpe3JldHVybiEoIWF8fDEhPT1hLm5vZGVUeXBlJiY5IT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlJiYoOCE9PWEubm9kZVR5cGV8fFwiIHJlYWN0LW1vdW50LXBvaW50LXVuc3RhYmxlIFwiIT09YS5ub2RlVmFsdWUpKX1mdW5jdGlvbiBwbCgpe31cbmZ1bmN0aW9uIHFsKGEsYixjLGQsZSl7aWYoZSl7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGQpe3ZhciBmPWQ7ZD1mdW5jdGlvbigpe3ZhciBhPWdsKGcpO2YuY2FsbChhKX19dmFyIGc9ZWwoYixkLGEsMCxudWxsLCExLCExLFwiXCIscGwpO2EuX3JlYWN0Um9vdENvbnRhaW5lcj1nO2FbdWZdPWcuY3VycmVudDtzZig4PT09YS5ub2RlVHlwZT9hLnBhcmVudE5vZGU6YSk7UmsoKTtyZXR1cm4gZ31mb3IoO2U9YS5sYXN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoZSk7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGQpe3ZhciBoPWQ7ZD1mdW5jdGlvbigpe3ZhciBhPWdsKGspO2guY2FsbChhKX19dmFyIGs9YmwoYSwwLCExLG51bGwsbnVsbCwhMSwhMSxcIlwiLHBsKTthLl9yZWFjdFJvb3RDb250YWluZXI9azthW3VmXT1rLmN1cnJlbnQ7c2YoOD09PWEubm9kZVR5cGU/YS5wYXJlbnROb2RlOmEpO1JrKGZ1bmN0aW9uKCl7ZmwoYixrLGMsZCl9KTtyZXR1cm4ga31cbmZ1bmN0aW9uIHJsKGEsYixjLGQsZSl7dmFyIGY9Yy5fcmVhY3RSb290Q29udGFpbmVyO2lmKGYpe3ZhciBnPWY7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGUpe3ZhciBoPWU7ZT1mdW5jdGlvbigpe3ZhciBhPWdsKGcpO2guY2FsbChhKX19ZmwoYixnLGEsZSl9ZWxzZSBnPXFsKGMsYixhLGUsZCk7cmV0dXJuIGdsKGcpfUVjPWZ1bmN0aW9uKGEpe3N3aXRjaChhLnRhZyl7Y2FzZSAzOnZhciBiPWEuc3RhdGVOb2RlO2lmKGIuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCl7dmFyIGM9dGMoYi5wZW5kaW5nTGFuZXMpOzAhPT1jJiYoQ2MoYixjfDEpLERrKGIsQigpKSwwPT09KEsmNikmJihHaj1CKCkrNTAwLGpnKCkpKX1icmVhaztjYXNlIDEzOlJrKGZ1bmN0aW9uKCl7dmFyIGI9aWgoYSwxKTtpZihudWxsIT09Yil7dmFyIGM9UigpO2dpKGIsYSwxLGMpfX0pLGlsKGEsMSl9fTtcbkZjPWZ1bmN0aW9uKGEpe2lmKDEzPT09YS50YWcpe3ZhciBiPWloKGEsMTM0MjE3NzI4KTtpZihudWxsIT09Yil7dmFyIGM9UigpO2dpKGIsYSwxMzQyMTc3MjgsYyl9aWwoYSwxMzQyMTc3MjgpfX07R2M9ZnVuY3Rpb24oYSl7aWYoMTM9PT1hLnRhZyl7dmFyIGI9eWkoYSksYz1paChhLGIpO2lmKG51bGwhPT1jKXt2YXIgZD1SKCk7Z2koYyxhLGIsZCl9aWwoYSxiKX19O0hjPWZ1bmN0aW9uKCl7cmV0dXJuIEN9O0ljPWZ1bmN0aW9uKGEsYil7dmFyIGM9Qzt0cnl7cmV0dXJuIEM9YSxiKCl9ZmluYWxseXtDPWN9fTtcbnliPWZ1bmN0aW9uKGEsYixjKXtzd2l0Y2goYil7Y2FzZSBcImlucHV0XCI6YmIoYSxjKTtiPWMubmFtZTtpZihcInJhZGlvXCI9PT1jLnR5cGUmJm51bGwhPWIpe2ZvcihjPWE7Yy5wYXJlbnROb2RlOyljPWMucGFyZW50Tm9kZTtjPWMucXVlcnlTZWxlY3RvckFsbChcImlucHV0W25hbWU9XCIrSlNPTi5zdHJpbmdpZnkoXCJcIitiKSsnXVt0eXBlPVwicmFkaW9cIl0nKTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKXt2YXIgZD1jW2JdO2lmKGQhPT1hJiZkLmZvcm09PT1hLmZvcm0pe3ZhciBlPURiKGQpO2lmKCFlKXRocm93IEVycm9yKHAoOTApKTtXYShkKTtiYihkLGUpfX19YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6aWIoYSxjKTticmVhaztjYXNlIFwic2VsZWN0XCI6Yj1jLnZhbHVlLG51bGwhPWImJmZiKGEsISFjLm11bHRpcGxlLGIsITEpfX07R2I9UWs7SGI9Ums7XG52YXIgc2w9e3VzaW5nQ2xpZW50RW50cnlQb2ludDohMSxFdmVudHM6W0NiLHVlLERiLEViLEZiLFFrXX0sdGw9e2ZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOldjLGJ1bmRsZVR5cGU6MCx2ZXJzaW9uOlwiMTguMy4xXCIscmVuZGVyZXJQYWNrYWdlTmFtZTpcInJlYWN0LWRvbVwifTtcbnZhciB1bD17YnVuZGxlVHlwZTp0bC5idW5kbGVUeXBlLHZlcnNpb246dGwudmVyc2lvbixyZW5kZXJlclBhY2thZ2VOYW1lOnRsLnJlbmRlcmVyUGFja2FnZU5hbWUscmVuZGVyZXJDb25maWc6dGwucmVuZGVyZXJDb25maWcsb3ZlcnJpZGVIb29rU3RhdGU6bnVsbCxvdmVycmlkZUhvb2tTdGF0ZURlbGV0ZVBhdGg6bnVsbCxvdmVycmlkZUhvb2tTdGF0ZVJlbmFtZVBhdGg6bnVsbCxvdmVycmlkZVByb3BzOm51bGwsb3ZlcnJpZGVQcm9wc0RlbGV0ZVBhdGg6bnVsbCxvdmVycmlkZVByb3BzUmVuYW1lUGF0aDpudWxsLHNldEVycm9ySGFuZGxlcjpudWxsLHNldFN1c3BlbnNlSGFuZGxlcjpudWxsLHNjaGVkdWxlVXBkYXRlOm51bGwsY3VycmVudERpc3BhdGNoZXJSZWY6dWEuUmVhY3RDdXJyZW50RGlzcGF0Y2hlcixmaW5kSG9zdEluc3RhbmNlQnlGaWJlcjpmdW5jdGlvbihhKXthPVpiKGEpO3JldHVybiBudWxsPT09YT9udWxsOmEuc3RhdGVOb2RlfSxmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTp0bC5maW5kRmliZXJCeUhvc3RJbnN0YW5jZXx8XG5qbCxmaW5kSG9zdEluc3RhbmNlc0ZvclJlZnJlc2g6bnVsbCxzY2hlZHVsZVJlZnJlc2g6bnVsbCxzY2hlZHVsZVJvb3Q6bnVsbCxzZXRSZWZyZXNoSGFuZGxlcjpudWxsLGdldEN1cnJlbnRGaWJlcjpudWxsLHJlY29uY2lsZXJWZXJzaW9uOlwiMTguMy4xLW5leHQtZjEzMzhmODA4MC0yMDI0MDQyNlwifTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyl7dmFyIHZsPV9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztpZighdmwuaXNEaXNhYmxlZCYmdmwuc3VwcG9ydHNGaWJlcil0cnl7a2M9dmwuaW5qZWN0KHVsKSxsYz12bH1jYXRjaChhKXt9fWV4cG9ydHMuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ9c2w7XG5leHBvcnRzLmNyZWF0ZVBvcnRhbD1mdW5jdGlvbihhLGIpe3ZhciBjPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsO2lmKCFubChiKSl0aHJvdyBFcnJvcihwKDIwMCkpO3JldHVybiBjbChhLGIsbnVsbCxjKX07ZXhwb3J0cy5jcmVhdGVSb290PWZ1bmN0aW9uKGEsYil7aWYoIW5sKGEpKXRocm93IEVycm9yKHAoMjk5KSk7dmFyIGM9ITEsZD1cIlwiLGU9a2w7bnVsbCE9PWImJnZvaWQgMCE9PWImJighMD09PWIudW5zdGFibGVfc3RyaWN0TW9kZSYmKGM9ITApLHZvaWQgMCE9PWIuaWRlbnRpZmllclByZWZpeCYmKGQ9Yi5pZGVudGlmaWVyUHJlZml4KSx2b2lkIDAhPT1iLm9uUmVjb3ZlcmFibGVFcnJvciYmKGU9Yi5vblJlY292ZXJhYmxlRXJyb3IpKTtiPWJsKGEsMSwhMSxudWxsLG51bGwsYywhMSxkLGUpO2FbdWZdPWIuY3VycmVudDtzZig4PT09YS5ub2RlVHlwZT9hLnBhcmVudE5vZGU6YSk7cmV0dXJuIG5ldyBsbChiKX07XG5leHBvcnRzLmZpbmRET01Ob2RlPWZ1bmN0aW9uKGEpe2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoMT09PWEubm9kZVR5cGUpcmV0dXJuIGE7dmFyIGI9YS5fcmVhY3RJbnRlcm5hbHM7aWYodm9pZCAwPT09Yil7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEucmVuZGVyKXRocm93IEVycm9yKHAoMTg4KSk7YT1PYmplY3Qua2V5cyhhKS5qb2luKFwiLFwiKTt0aHJvdyBFcnJvcihwKDI2OCxhKSk7fWE9WmIoYik7YT1udWxsPT09YT9udWxsOmEuc3RhdGVOb2RlO3JldHVybiBhfTtleHBvcnRzLmZsdXNoU3luYz1mdW5jdGlvbihhKXtyZXR1cm4gUmsoYSl9O2V4cG9ydHMuaHlkcmF0ZT1mdW5jdGlvbihhLGIsYyl7aWYoIW9sKGIpKXRocm93IEVycm9yKHAoMjAwKSk7cmV0dXJuIHJsKG51bGwsYSxiLCEwLGMpfTtcbmV4cG9ydHMuaHlkcmF0ZVJvb3Q9ZnVuY3Rpb24oYSxiLGMpe2lmKCFubChhKSl0aHJvdyBFcnJvcihwKDQwNSkpO3ZhciBkPW51bGwhPWMmJmMuaHlkcmF0ZWRTb3VyY2VzfHxudWxsLGU9ITEsZj1cIlwiLGc9a2w7bnVsbCE9PWMmJnZvaWQgMCE9PWMmJighMD09PWMudW5zdGFibGVfc3RyaWN0TW9kZSYmKGU9ITApLHZvaWQgMCE9PWMuaWRlbnRpZmllclByZWZpeCYmKGY9Yy5pZGVudGlmaWVyUHJlZml4KSx2b2lkIDAhPT1jLm9uUmVjb3ZlcmFibGVFcnJvciYmKGc9Yy5vblJlY292ZXJhYmxlRXJyb3IpKTtiPWVsKGIsbnVsbCxhLDEsbnVsbCE9Yz9jOm51bGwsZSwhMSxmLGcpO2FbdWZdPWIuY3VycmVudDtzZihhKTtpZihkKWZvcihhPTA7YTxkLmxlbmd0aDthKyspYz1kW2FdLGU9Yy5fZ2V0VmVyc2lvbixlPWUoYy5fc291cmNlKSxudWxsPT1iLm11dGFibGVTb3VyY2VFYWdlckh5ZHJhdGlvbkRhdGE/Yi5tdXRhYmxlU291cmNlRWFnZXJIeWRyYXRpb25EYXRhPVtjLGVdOmIubXV0YWJsZVNvdXJjZUVhZ2VySHlkcmF0aW9uRGF0YS5wdXNoKGMsXG5lKTtyZXR1cm4gbmV3IG1sKGIpfTtleHBvcnRzLnJlbmRlcj1mdW5jdGlvbihhLGIsYyl7aWYoIW9sKGIpKXRocm93IEVycm9yKHAoMjAwKSk7cmV0dXJuIHJsKG51bGwsYSxiLCExLGMpfTtleHBvcnRzLnVubW91bnRDb21wb25lbnRBdE5vZGU9ZnVuY3Rpb24oYSl7aWYoIW9sKGEpKXRocm93IEVycm9yKHAoNDApKTtyZXR1cm4gYS5fcmVhY3RSb290Q29udGFpbmVyPyhSayhmdW5jdGlvbigpe3JsKG51bGwsbnVsbCxhLCExLGZ1bmN0aW9uKCl7YS5fcmVhY3RSb290Q29udGFpbmVyPW51bGw7YVt1Zl09bnVsbH0pfSksITApOiExfTtleHBvcnRzLnVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzPVFrO1xuZXhwb3J0cy51bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcj1mdW5jdGlvbihhLGIsYyxkKXtpZighb2woYykpdGhyb3cgRXJyb3IocCgyMDApKTtpZihudWxsPT1hfHx2b2lkIDA9PT1hLl9yZWFjdEludGVybmFscyl0aHJvdyBFcnJvcihwKDM4KSk7cmV0dXJuIHJsKGEsYixjLCExLGQpfTtleHBvcnRzLnZlcnNpb249XCIxOC4zLjEtbmV4dC1mMTMzOGY4MDgwLTIwMjQwNDI2XCI7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBjaGVja0RDRSgpIHtcbiAgLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuICBpZiAoXG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFICE9PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFRoaXMgYnJhbmNoIGlzIHVucmVhY2hhYmxlIGJlY2F1c2UgdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZFxuICAgIC8vIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgY29uZGl0aW9uIGlzIHRydWUgb25seSBpbiBkZXZlbG9wbWVudC5cbiAgICAvLyBUaGVyZWZvcmUgaWYgdGhlIGJyYW5jaCBpcyBzdGlsbCBoZXJlLCBkZWFkIGNvZGUgZWxpbWluYXRpb24gd2Fzbid0XG4gICAgLy8gcHJvcGVybHkgYXBwbGllZC5cbiAgICAvLyBEb24ndCBjaGFuZ2UgdGhlIG1lc3NhZ2UuIFJlYWN0IERldlRvb2xzIHJlbGllcyBvbiBpdC4gQWxzbyBtYWtlIHN1cmVcbiAgICAvLyB0aGlzIG1lc3NhZ2UgZG9lc24ndCBvY2N1ciBlbHNld2hlcmUgaW4gdGhpcyBmdW5jdGlvbiwgb3IgaXQgd2lsbCBjYXVzZVxuICAgIC8vIGEgZmFsc2UgcG9zaXRpdmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdeX14nKTtcbiAgfVxuICB0cnkge1xuICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBjb2RlIGFib3ZlIGhhcyBiZWVuIGRlYWQgY29kZSBlbGltaW5hdGVkIChEQ0UnZCkuXG4gICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFKGNoZWNrRENFKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gRGV2VG9vbHMgc2hvdWxkbid0IGNyYXNoIFJlYWN0LCBubyBtYXR0ZXIgd2hhdC5cbiAgICAvLyBXZSBzaG91bGQgc3RpbGwgcmVwb3J0IGluIGNhc2Ugd2UgYnJlYWsgdGhpcyBjb2RlLlxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBEQ0UgY2hlY2sgc2hvdWxkIGhhcHBlbiBiZWZvcmUgUmVhY3RET00gYnVuZGxlIGV4ZWN1dGVzIHNvIHRoYXRcbiAgLy8gRGV2VG9vbHMgY2FuIHJlcG9ydCBiYWQgbWluaWZpY2F0aW9uIGR1cmluZyBpbmplY3Rpb24uXG4gIGNoZWNrRENFKCk7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIG0gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGV4cG9ydHMuY3JlYXRlUm9vdCA9IG0uY3JlYXRlUm9vdDtcbiAgZXhwb3J0cy5oeWRyYXRlUm9vdCA9IG0uaHlkcmF0ZVJvb3Q7XG59IGVsc2Uge1xuICB2YXIgaSA9IG0uX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG4gIGV4cG9ydHMuY3JlYXRlUm9vdCA9IGZ1bmN0aW9uKGMsIG8pIHtcbiAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBtLmNyZWF0ZVJvb3QoYywgbyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICBleHBvcnRzLmh5ZHJhdGVSb290ID0gZnVuY3Rpb24oYywgaCwgbykge1xuICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG0uaHlkcmF0ZVJvb3QoYywgaCwgbyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBGaXJlYmFzZSBjb25zdGFudHMuICBTb21lIG9mIHRoZXNlIChAZGVmaW5lcykgY2FuIGJlIG92ZXJyaWRkZW4gYXQgY29tcGlsZS10aW1lLlxuICovXG5cbmV4cG9ydCBjb25zdCBDT05TVEFOVFMgPSB7XG4gIC8qKlxuICAgKiBAZGVmaW5lIHtib29sZWFufSBXaGV0aGVyIHRoaXMgaXMgdGhlIGNsaWVudCBOb2RlLmpzIFNESy5cbiAgICovXG4gIE5PREVfQ0xJRU5UOiBmYWxzZSxcbiAgLyoqXG4gICAqIEBkZWZpbmUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBpcyB0aGUgQWRtaW4gTm9kZS5qcyBTREsuXG4gICAqL1xuICBOT0RFX0FETUlOOiBmYWxzZSxcblxuICAvKipcbiAgICogRmlyZWJhc2UgU0RLIFZlcnNpb25cbiAgICovXG4gIFNES19WRVJTSU9OOiAnJHtKU0NPUkVfVkVSU0lPTn0nXG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENPTlNUQU5UUyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuLyoqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIHByb3ZpZGVkIGFzc2VydGlvbiBpcyBmYWxzeVxuICovXG5leHBvcnQgY29uc3QgYXNzZXJ0ID0gZnVuY3Rpb24gKGFzc2VydGlvbjogdW5rbm93biwgbWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gIGlmICghYXNzZXJ0aW9uKSB7XG4gICAgdGhyb3cgYXNzZXJ0aW9uRXJyb3IobWVzc2FnZSk7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBFcnJvciBvYmplY3Qgc3VpdGFibGUgZm9yIHRocm93aW5nLlxuICovXG5leHBvcnQgY29uc3QgYXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZTogc3RyaW5nKTogRXJyb3Ige1xuICByZXR1cm4gbmV3IEVycm9yKFxuICAgICdGaXJlYmFzZSBEYXRhYmFzZSAoJyArXG4gICAgICBDT05TVEFOVFMuU0RLX1ZFUlNJT04gK1xuICAgICAgJykgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogJyArXG4gICAgICBtZXNzYWdlXG4gICk7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IHN0cmluZ1RvQnl0ZUFycmF5ID0gZnVuY3Rpb24gKHN0cjogc3RyaW5nKTogbnVtYmVyW10ge1xuICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxuICBjb25zdCBvdXQ6IG51bWJlcltdID0gW107XG4gIGxldCBwID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGlmIChjIDwgMTI4KSB7XG4gICAgICBvdXRbcCsrXSA9IGM7XG4gICAgfSBlbHNlIGlmIChjIDwgMjA0OCkge1xuICAgICAgb3V0W3ArK10gPSAoYyA+PiA2KSB8IDE5MjtcbiAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIChjICYgMHhmYzAwKSA9PT0gMHhkODAwICYmXG4gICAgICBpICsgMSA8IHN0ci5sZW5ndGggJiZcbiAgICAgIChzdHIuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDBcbiAgICApIHtcbiAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXG4gICAgICBjID0gMHgxMDAwMCArICgoYyAmIDB4MDNmZikgPDwgMTApICsgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDAzZmYpO1xuICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XG4gICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XG4gICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcbiAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xuICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XG4gICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBUdXJucyBhbiBhcnJheSBvZiBudW1iZXJzIGludG8gdGhlIHN0cmluZyBnaXZlbiBieSB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGVcbiAqIGNoYXJhY3RlcnMgdG8gd2hpY2ggdGhlIG51bWJlcnMgY29ycmVzcG9uZC5cbiAqIEBwYXJhbSBieXRlcyBBcnJheSBvZiBudW1iZXJzIHJlcHJlc2VudGluZyBjaGFyYWN0ZXJzLlxuICogQHJldHVybiBTdHJpbmdpZmljYXRpb24gb2YgdGhlIGFycmF5LlxuICovXG5jb25zdCBieXRlQXJyYXlUb1N0cmluZyA9IGZ1bmN0aW9uIChieXRlczogbnVtYmVyW10pOiBzdHJpbmcge1xuICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxuICBjb25zdCBvdXQ6IHN0cmluZ1tdID0gW107XG4gIGxldCBwb3MgPSAwLFxuICAgIGMgPSAwO1xuICB3aGlsZSAocG9zIDwgYnl0ZXMubGVuZ3RoKSB7XG4gICAgY29uc3QgYzEgPSBieXRlc1twb3MrK107XG4gICAgaWYgKGMxIDwgMTI4KSB7XG4gICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYzEpO1xuICAgIH0gZWxzZSBpZiAoYzEgPiAxOTEgJiYgYzEgPCAyMjQpIHtcbiAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xuICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYzEgJiAzMSkgPDwgNikgfCAoYzIgJiA2MykpO1xuICAgIH0gZWxzZSBpZiAoYzEgPiAyMzkgJiYgYzEgPCAzNjUpIHtcbiAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXG4gICAgICBjb25zdCBjMiA9IGJ5dGVzW3BvcysrXTtcbiAgICAgIGNvbnN0IGMzID0gYnl0ZXNbcG9zKytdO1xuICAgICAgY29uc3QgYzQgPSBieXRlc1twb3MrK107XG4gICAgICBjb25zdCB1ID1cbiAgICAgICAgKCgoYzEgJiA3KSA8PCAxOCkgfCAoKGMyICYgNjMpIDw8IDEyKSB8ICgoYzMgJiA2MykgPDwgNikgfCAoYzQgJiA2MykpIC1cbiAgICAgICAgMHgxMDAwMDtcbiAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGQ4MDAgKyAodSA+PiAxMCkpO1xuICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZGMwMCArICh1ICYgMTAyMykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjMiA9IGJ5dGVzW3BvcysrXTtcbiAgICAgIGNvbnN0IGMzID0gYnl0ZXNbcG9zKytdO1xuICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICAoKGMxICYgMTUpIDw8IDEyKSB8ICgoYzIgJiA2MykgPDwgNikgfCAoYzMgJiA2MylcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQuam9pbignJyk7XG59O1xuXG5pbnRlcmZhY2UgQmFzZTY0IHtcbiAgYnl0ZVRvQ2hhck1hcF86IHsgW2tleTogbnVtYmVyXTogc3RyaW5nIH0gfCBudWxsO1xuICBjaGFyVG9CeXRlTWFwXzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB8IG51bGw7XG4gIGJ5dGVUb0NoYXJNYXBXZWJTYWZlXzogeyBba2V5OiBudW1iZXJdOiBzdHJpbmcgfSB8IG51bGw7XG4gIGNoYXJUb0J5dGVNYXBXZWJTYWZlXzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB8IG51bGw7XG4gIEVOQ09ERURfVkFMU19CQVNFOiBzdHJpbmc7XG4gIHJlYWRvbmx5IEVOQ09ERURfVkFMUzogc3RyaW5nO1xuICByZWFkb25seSBFTkNPREVEX1ZBTFNfV0VCU0FGRTogc3RyaW5nO1xuICBIQVNfTkFUSVZFX1NVUFBPUlQ6IGJvb2xlYW47XG4gIGVuY29kZUJ5dGVBcnJheShpbnB1dDogbnVtYmVyW10gfCBVaW50OEFycmF5LCB3ZWJTYWZlPzogYm9vbGVhbik6IHN0cmluZztcbiAgZW5jb2RlU3RyaW5nKGlucHV0OiBzdHJpbmcsIHdlYlNhZmU/OiBib29sZWFuKTogc3RyaW5nO1xuICBkZWNvZGVTdHJpbmcoaW5wdXQ6IHN0cmluZywgd2ViU2FmZTogYm9vbGVhbik6IHN0cmluZztcbiAgZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXkoaW5wdXQ6IHN0cmluZywgd2ViU2FmZTogYm9vbGVhbik6IG51bWJlcltdO1xuICBpbml0XygpOiB2b2lkO1xufVxuXG4vLyBXZSBkZWZpbmUgaXQgYXMgYW4gb2JqZWN0IGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNsYXNzIGJlY2F1c2UgYSBjbGFzcyBjb21waWxlZCBkb3duIHRvIGVzNSBjYW4ndFxuLy8gYmUgdHJlZXNoYWtlZC4gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE2OTFcbi8vIFN0YXRpYyBsb29rdXAgbWFwcywgbGF6aWx5IHBvcHVsYXRlZCBieSBpbml0XygpXG5leHBvcnQgY29uc3QgYmFzZTY0OiBCYXNlNjQgPSB7XG4gIC8qKlxuICAgKiBNYXBzIGJ5dGVzIHRvIGNoYXJhY3RlcnMuXG4gICAqL1xuICBieXRlVG9DaGFyTWFwXzogbnVsbCxcblxuICAvKipcbiAgICogTWFwcyBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxuICAgKi9cbiAgY2hhclRvQnl0ZU1hcF86IG51bGwsXG5cbiAgLyoqXG4gICAqIE1hcHMgYnl0ZXMgdG8gd2Vic2FmZSBjaGFyYWN0ZXJzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYnl0ZVRvQ2hhck1hcFdlYlNhZmVfOiBudWxsLFxuXG4gIC8qKlxuICAgKiBNYXBzIHdlYnNhZmUgY2hhcmFjdGVycyB0byBieXRlcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNoYXJUb0J5dGVNYXBXZWJTYWZlXzogbnVsbCxcblxuICAvKipcbiAgICogT3VyIGRlZmF1bHQgYWxwaGFiZXQsIHNoYXJlZCBiZXR3ZWVuXG4gICAqIEVOQ09ERURfVkFMUyBhbmQgRU5DT0RFRF9WQUxTX1dFQlNBRkVcbiAgICovXG4gIEVOQ09ERURfVkFMU19CQVNFOlxuICAgICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWicgKyAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonICsgJzAxMjM0NTY3ODknLFxuXG4gIC8qKlxuICAgKiBPdXIgZGVmYXVsdCBhbHBoYWJldC4gVmFsdWUgNjQgKD0pIGlzIHNwZWNpYWw7IGl0IG1lYW5zIFwibm90aGluZy5cIlxuICAgKi9cbiAgZ2V0IEVOQ09ERURfVkFMUygpIHtcbiAgICByZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRSArICcrLz0nO1xuICB9LFxuXG4gIC8qKlxuICAgKiBPdXIgd2Vic2FmZSBhbHBoYWJldC5cbiAgICovXG4gIGdldCBFTkNPREVEX1ZBTFNfV0VCU0FGRSgpIHtcbiAgICByZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRSArICctXy4nO1xuICB9LFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgYnJvd3NlciBzdXBwb3J0cyB0aGUgYXRvYiBhbmQgYnRvYSBmdW5jdGlvbnMuIFRoaXMgZXh0ZW5zaW9uXG4gICAqIHN0YXJ0ZWQgYXQgTW96aWxsYSBidXQgaXMgbm93IGltcGxlbWVudGVkIGJ5IG1hbnkgYnJvd3NlcnMuIFdlIHVzZSB0aGVcbiAgICogQVNTVU1FXyogdmFyaWFibGVzIHRvIGF2b2lkIHB1bGxpbmcgaW4gdGhlIGZ1bGwgdXNlcmFnZW50IGRldGVjdGlvbiBsaWJyYXJ5XG4gICAqIGJ1dCBzdGlsbCBhbGxvd2luZyB0aGUgc3RhbmRhcmQgcGVyLWJyb3dzZXIgY29tcGlsYXRpb25zLlxuICAgKlxuICAgKi9cbiAgSEFTX05BVElWRV9TVVBQT1JUOiB0eXBlb2YgYXRvYiA9PT0gJ2Z1bmN0aW9uJyxcblxuICAvKipcbiAgICogQmFzZTY0LWVuY29kZSBhbiBhcnJheSBvZiBieXRlcy5cbiAgICpcbiAgICogQHBhcmFtIGlucHV0IEFuIGFycmF5IG9mIGJ5dGVzIChudW1iZXJzIHdpdGhcbiAgICogICAgIHZhbHVlIGluIFswLCAyNTVdKSB0byBlbmNvZGUuXG4gICAqIEBwYXJhbSB3ZWJTYWZlIEJvb2xlYW4gaW5kaWNhdGluZyB3ZSBzaG91bGQgdXNlIHRoZVxuICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXG4gICAqIEByZXR1cm4gVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cbiAgICovXG4gIGVuY29kZUJ5dGVBcnJheShpbnB1dDogbnVtYmVyW10gfCBVaW50OEFycmF5LCB3ZWJTYWZlPzogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ2VuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlcicpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdF8oKTtcblxuICAgIGNvbnN0IGJ5dGVUb0NoYXJNYXAgPSB3ZWJTYWZlXG4gICAgICA/IHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfIVxuICAgICAgOiB0aGlzLmJ5dGVUb0NoYXJNYXBfITtcblxuICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgY29uc3QgYnl0ZTEgPSBpbnB1dFtpXTtcbiAgICAgIGNvbnN0IGhhdmVCeXRlMiA9IGkgKyAxIDwgaW5wdXQubGVuZ3RoO1xuICAgICAgY29uc3QgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBpbnB1dFtpICsgMV0gOiAwO1xuICAgICAgY29uc3QgaGF2ZUJ5dGUzID0gaSArIDIgPCBpbnB1dC5sZW5ndGg7XG4gICAgICBjb25zdCBieXRlMyA9IGhhdmVCeXRlMyA/IGlucHV0W2kgKyAyXSA6IDA7XG5cbiAgICAgIGNvbnN0IG91dEJ5dGUxID0gYnl0ZTEgPj4gMjtcbiAgICAgIGNvbnN0IG91dEJ5dGUyID0gKChieXRlMSAmIDB4MDMpIDw8IDQpIHwgKGJ5dGUyID4+IDQpO1xuICAgICAgbGV0IG91dEJ5dGUzID0gKChieXRlMiAmIDB4MGYpIDw8IDIpIHwgKGJ5dGUzID4+IDYpO1xuICAgICAgbGV0IG91dEJ5dGU0ID0gYnl0ZTMgJiAweDNmO1xuXG4gICAgICBpZiAoIWhhdmVCeXRlMykge1xuICAgICAgICBvdXRCeXRlNCA9IDY0O1xuXG4gICAgICAgIGlmICghaGF2ZUJ5dGUyKSB7XG4gICAgICAgICAgb3V0Qnl0ZTMgPSA2NDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvdXRwdXQucHVzaChcbiAgICAgICAgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlMV0sXG4gICAgICAgIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTJdLFxuICAgICAgICBieXRlVG9DaGFyTWFwW291dEJ5dGUzXSxcbiAgICAgICAgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlNF1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcbiAgfSxcblxuICAvKipcbiAgICogQmFzZTY0LWVuY29kZSBhIHN0cmluZy5cbiAgICpcbiAgICogQHBhcmFtIGlucHV0IEEgc3RyaW5nIHRvIGVuY29kZS5cbiAgICogQHBhcmFtIHdlYlNhZmUgSWYgdHJ1ZSwgd2Ugc2hvdWxkIHVzZSB0aGVcbiAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxuICAgKiBAcmV0dXJuIFRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXG4gICAqL1xuICBlbmNvZGVTdHJpbmcoaW5wdXQ6IHN0cmluZywgd2ViU2FmZT86IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XG4gICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxuICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xuICAgICAgcmV0dXJuIGJ0b2EoaW5wdXQpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lbmNvZGVCeXRlQXJyYXkoc3RyaW5nVG9CeXRlQXJyYXkoaW5wdXQpLCB3ZWJTYWZlKTtcbiAgfSxcblxuICAvKipcbiAgICogQmFzZTY0LWRlY29kZSBhIHN0cmluZy5cbiAgICpcbiAgICogQHBhcmFtIGlucHV0IHRvIGRlY29kZS5cbiAgICogQHBhcmFtIHdlYlNhZmUgVHJ1ZSBpZiB3ZSBzaG91bGQgdXNlIHRoZVxuICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXG4gICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cbiAgICovXG4gIGRlY29kZVN0cmluZyhpbnB1dDogc3RyaW5nLCB3ZWJTYWZlOiBib29sZWFuKTogc3RyaW5nIHtcbiAgICAvLyBTaG9ydGN1dCBmb3IgTW96aWxsYSBicm93c2VycyB0aGF0IGltcGxlbWVudFxuICAgIC8vIGEgbmF0aXZlIGJhc2U2NCBlbmNvZGVyIGluIHRoZSBmb3JtIG9mIFwiYnRvYS9hdG9iXCJcbiAgICBpZiAodGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQgJiYgIXdlYlNhZmUpIHtcbiAgICAgIHJldHVybiBhdG9iKGlucHV0KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVBcnJheVRvU3RyaW5nKHRoaXMuZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXkoaW5wdXQsIHdlYlNhZmUpKTtcbiAgfSxcblxuICAvKipcbiAgICogQmFzZTY0LWRlY29kZSBhIHN0cmluZy5cbiAgICpcbiAgICogSW4gYmFzZS02NCBkZWNvZGluZywgZ3JvdXBzIG9mIGZvdXIgY2hhcmFjdGVycyBhcmUgY29udmVydGVkIGludG8gdGhyZWVcbiAgICogYnl0ZXMuICBJZiB0aGUgZW5jb2RlciBkaWQgbm90IGFwcGx5IHBhZGRpbmcsIHRoZSBpbnB1dCBsZW5ndGggbWF5IG5vdFxuICAgKiBiZSBhIG11bHRpcGxlIG9mIDQuXG4gICAqXG4gICAqIEluIHRoaXMgY2FzZSwgdGhlIGxhc3QgZ3JvdXAgd2lsbCBoYXZlIGZld2VyIHRoYW4gNCBjaGFyYWN0ZXJzLCBhbmRcbiAgICogcGFkZGluZyB3aWxsIGJlIGluZmVycmVkLiAgSWYgdGhlIGdyb3VwIGhhcyBvbmUgb3IgdHdvIGNoYXJhY3RlcnMsIGl0IGRlY29kZXNcbiAgICogdG8gb25lIGJ5dGUuICBJZiB0aGUgZ3JvdXAgaGFzIHRocmVlIGNoYXJhY3RlcnMsIGl0IGRlY29kZXMgdG8gdHdvIGJ5dGVzLlxuICAgKlxuICAgKiBAcGFyYW0gaW5wdXQgSW5wdXQgdG8gZGVjb2RlLlxuICAgKiBAcGFyYW0gd2ViU2FmZSBUcnVlIGlmIHdlIHNob3VsZCB1c2UgdGhlIHdlYi1zYWZlIGFscGhhYmV0LlxuICAgKiBAcmV0dXJuIGJ5dGVzIHJlcHJlc2VudGluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cbiAgICovXG4gIGRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KGlucHV0OiBzdHJpbmcsIHdlYlNhZmU6IGJvb2xlYW4pOiBudW1iZXJbXSB7XG4gICAgdGhpcy5pbml0XygpO1xuXG4gICAgY29uc3QgY2hhclRvQnl0ZU1hcCA9IHdlYlNhZmVcbiAgICAgID8gdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV8hXG4gICAgICA6IHRoaXMuY2hhclRvQnl0ZU1hcF8hO1xuXG4gICAgY29uc3Qgb3V0cHV0OiBudW1iZXJbXSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7ICkge1xuICAgICAgY29uc3QgYnl0ZTEgPSBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKyspXTtcblxuICAgICAgY29uc3QgaGF2ZUJ5dGUyID0gaSA8IGlucHV0Lmxlbmd0aDtcbiAgICAgIGNvbnN0IGJ5dGUyID0gaGF2ZUJ5dGUyID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogMDtcbiAgICAgICsraTtcblxuICAgICAgY29uc3QgaGF2ZUJ5dGUzID0gaSA8IGlucHV0Lmxlbmd0aDtcbiAgICAgIGNvbnN0IGJ5dGUzID0gaGF2ZUJ5dGUzID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogNjQ7XG4gICAgICArK2k7XG5cbiAgICAgIGNvbnN0IGhhdmVCeXRlNCA9IGkgPCBpbnB1dC5sZW5ndGg7XG4gICAgICBjb25zdCBieXRlNCA9IGhhdmVCeXRlNCA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDY0O1xuICAgICAgKytpO1xuXG4gICAgICBpZiAoYnl0ZTEgPT0gbnVsbCB8fCBieXRlMiA9PSBudWxsIHx8IGJ5dGUzID09IG51bGwgfHwgYnl0ZTQgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3IoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb3V0Qnl0ZTEgPSAoYnl0ZTEgPDwgMikgfCAoYnl0ZTIgPj4gNCk7XG4gICAgICBvdXRwdXQucHVzaChvdXRCeXRlMSk7XG5cbiAgICAgIGlmIChieXRlMyAhPT0gNjQpIHtcbiAgICAgICAgY29uc3Qgb3V0Qnl0ZTIgPSAoKGJ5dGUyIDw8IDQpICYgMHhmMCkgfCAoYnl0ZTMgPj4gMik7XG4gICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUyKTtcblxuICAgICAgICBpZiAoYnl0ZTQgIT09IDY0KSB7XG4gICAgICAgICAgY29uc3Qgb3V0Qnl0ZTMgPSAoKGJ5dGUzIDw8IDYpICYgMHhjMCkgfCBieXRlNDtcbiAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBMYXp5IHN0YXRpYyBpbml0aWFsaXphdGlvbiBmdW5jdGlvbi4gQ2FsbGVkIGJlZm9yZVxuICAgKiBhY2Nlc3NpbmcgYW55IG9mIHRoZSBzdGF0aWMgbWFwIHZhcmlhYmxlcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGluaXRfKCkge1xuICAgIGlmICghdGhpcy5ieXRlVG9DaGFyTWFwXykge1xuICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwXyA9IHt9O1xuICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwXyA9IHt9O1xuICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV8gPSB7fTtcbiAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfID0ge307XG5cbiAgICAgIC8vIFdlIHdhbnQgcXVpY2sgbWFwcGluZ3MgYmFjayBhbmQgZm9ydGgsIHNvIHdlIHByZWNvbXB1dGUgdHdvIG1hcHMuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRU5DT0RFRF9WQUxTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcF9baV0gPSB0aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQoaSk7XG4gICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5ieXRlVG9DaGFyTWFwX1tpXV0gPSBpO1xuICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1tpXSA9IHRoaXMuRU5DT0RFRF9WQUxTX1dFQlNBRkUuY2hhckF0KGkpO1xuICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1tpXV0gPSBpO1xuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZyB3aGVuIGRlY29kaW5nIGFuZCBjb3JyZWN0bHkgZGVjb2RlIGJvdGggZW5jb2RpbmdzLlxuICAgICAgICBpZiAoaSA+PSB0aGlzLkVOQ09ERURfVkFMU19CQVNFLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQoaSldID0gaTtcbiAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQoaSldID0gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBBbiBlcnJvciBlbmNvdW50ZXJlZCB3aGlsZSBkZWNvZGluZyBiYXNlNjQgc3RyaW5nLlxuICovXG5leHBvcnQgY2xhc3MgRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHJlYWRvbmx5IG5hbWUgPSAnRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3InO1xufVxuXG4vKipcbiAqIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZ1xuICovXG5leHBvcnQgY29uc3QgYmFzZTY0RW5jb2RlID0gZnVuY3Rpb24gKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgdXRmOEJ5dGVzID0gc3RyaW5nVG9CeXRlQXJyYXkoc3RyKTtcbiAgcmV0dXJuIGJhc2U2NC5lbmNvZGVCeXRlQXJyYXkodXRmOEJ5dGVzLCB0cnVlKTtcbn07XG5cbi8qKlxuICogVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nICh3aXRob3V0IFwiLlwiIHBhZGRpbmcgaW4gdGhlIGVuZCkuXG4gKiBlLmcuIFVzZWQgaW4gSlNPTiBXZWIgVG9rZW4gKEpXVCkgcGFydHMuXG4gKi9cbmV4cG9ydCBjb25zdCBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyA9IGZ1bmN0aW9uIChzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIFVzZSBiYXNlNjR1cmwgZW5jb2RpbmcgYW5kIHJlbW92ZSBwYWRkaW5nIGluIHRoZSBlbmQgKGRvdCBjaGFyYWN0ZXJzKS5cbiAgcmV0dXJuIGJhc2U2NEVuY29kZShzdHIpLnJlcGxhY2UoL1xcLi9nLCAnJyk7XG59O1xuXG4vKipcbiAqIFVSTC1zYWZlIGJhc2U2NCBkZWNvZGluZ1xuICpcbiAqIE5PVEU6IERPIE5PVCB1c2UgdGhlIGdsb2JhbCBhdG9iKCkgZnVuY3Rpb24gLSBpdCBkb2VzIE5PVCBzdXBwb3J0IHRoZVxuICogYmFzZTY0VXJsIHZhcmlhbnQgZW5jb2RpbmcuXG4gKlxuICogQHBhcmFtIHN0ciBUbyBiZSBkZWNvZGVkXG4gKiBAcmV0dXJuIERlY29kZWQgcmVzdWx0LCBpZiBwb3NzaWJsZVxuICovXG5leHBvcnQgY29uc3QgYmFzZTY0RGVjb2RlID0gZnVuY3Rpb24gKHN0cjogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGJhc2U2NC5kZWNvZGVTdHJpbmcoc3RyLCB0cnVlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ2Jhc2U2NERlY29kZSBmYWlsZWQ6ICcsIGUpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIERvIGEgZGVlcC1jb3B5IG9mIGJhc2ljIEphdmFTY3JpcHQgT2JqZWN0cyBvciBBcnJheXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwQ29weTxUPih2YWx1ZTogVCk6IFQge1xuICByZXR1cm4gZGVlcEV4dGVuZCh1bmRlZmluZWQsIHZhbHVlKSBhcyBUO1xufVxuXG4vKipcbiAqIENvcHkgcHJvcGVydGllcyBmcm9tIHNvdXJjZSB0byB0YXJnZXQgKHJlY3Vyc2l2ZWx5IGFsbG93cyBleHRlbnNpb25cbiAqIG9mIE9iamVjdHMgYW5kIEFycmF5cykuICBTY2FsYXIgdmFsdWVzIGluIHRoZSB0YXJnZXQgYXJlIG92ZXItd3JpdHRlbi5cbiAqIElmIHRhcmdldCBpcyB1bmRlZmluZWQsIGFuIG9iamVjdCBvZiB0aGUgYXBwcm9wcmlhdGUgdHlwZSB3aWxsIGJlIGNyZWF0ZWRcbiAqIChhbmQgcmV0dXJuZWQpLlxuICpcbiAqIFdlIHJlY3Vyc2l2ZWx5IGNvcHkgYWxsIGNoaWxkIHByb3BlcnRpZXMgb2YgcGxhaW4gT2JqZWN0cyBpbiB0aGUgc291cmNlLSBzb1xuICogdGhhdCBuYW1lc3BhY2UtIGxpa2UgZGljdGlvbmFyaWVzIGFyZSBtZXJnZWQuXG4gKlxuICogTm90ZSB0aGF0IHRoZSB0YXJnZXQgY2FuIGJlIGEgZnVuY3Rpb24sIGluIHdoaWNoIGNhc2UgdGhlIHByb3BlcnRpZXMgaW5cbiAqIHRoZSBzb3VyY2UgT2JqZWN0IGFyZSBjb3BpZWQgb250byBpdCBhcyBzdGF0aWMgcHJvcGVydGllcyBvZiB0aGUgRnVuY3Rpb24uXG4gKlxuICogTm90ZTogd2UgZG9uJ3QgbWVyZ2UgX19wcm90b19fIHRvIHByZXZlbnQgcHJvdG90eXBlIHBvbGx1dGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcEV4dGVuZCh0YXJnZXQ6IHVua25vd24sIHNvdXJjZTogdW5rbm93bik6IHVua25vd24ge1xuICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIHN3aXRjaCAoc291cmNlLmNvbnN0cnVjdG9yKSB7XG4gICAgY2FzZSBEYXRlOlxuICAgICAgLy8gVHJlYXQgRGF0ZXMgbGlrZSBzY2FsYXJzOyBpZiB0aGUgdGFyZ2V0IGRhdGUgb2JqZWN0IGhhZCBhbnkgY2hpbGRcbiAgICAgIC8vIHByb3BlcnRpZXMgLSB0aGV5IHdpbGwgYmUgbG9zdCFcbiAgICAgIGNvbnN0IGRhdGVWYWx1ZSA9IHNvdXJjZSBhcyBEYXRlO1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVWYWx1ZS5nZXRUaW1lKCkpO1xuXG4gICAgY2FzZSBPYmplY3Q6XG4gICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGFyZ2V0ID0ge307XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFycmF5OlxuICAgICAgLy8gQWx3YXlzIGNvcHkgdGhlIGFycmF5IHNvdXJjZSBhbmQgb3ZlcndyaXRlIHRoZSB0YXJnZXQuXG4gICAgICB0YXJnZXQgPSBbXTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIE5vdCBhIHBsYWluIE9iamVjdCAtIHRyZWF0IGl0IGFzIGEgc2NhbGFyLlxuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIGZvciAoY29uc3QgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAvLyB1c2UgaXNWYWxpZEtleSB0byBndWFyZCBhZ2FpbnN0IHByb3RvdHlwZSBwb2xsdXRpb24uIFNlZSBodHRwczovL3NueWsuaW8vdnVsbi9TTllLLUpTLUxPREFTSC00NTAyMDJcbiAgICBpZiAoIXNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSB8fCAhaXNWYWxpZEtleShwcm9wKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgICh0YXJnZXQgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW3Byb3BdID0gZGVlcEV4dGVuZChcbiAgICAgICh0YXJnZXQgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW3Byb3BdLFxuICAgICAgKHNvdXJjZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbcHJvcF1cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEtleShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4ga2V5ICE9PSAnX19wcm90b19fJztcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFBvbHlmaWxsIGZvciBgZ2xvYmFsVGhpc2Agb2JqZWN0LlxuICogQHJldHVybnMgdGhlIGBnbG9iYWxUaGlzYCBvYmplY3QgZm9yIHRoZSBnaXZlbiBlbnZpcm9ubWVudC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbCgpOiB0eXBlb2YgZ2xvYmFsVGhpcyB7XG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBnbG9iYWw7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QuJyk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgYmFzZTY0RGVjb2RlIH0gZnJvbSAnLi9jcnlwdCc7XG5pbXBvcnQgeyBnZXRHbG9iYWwgfSBmcm9tICcuL2dsb2JhbCc7XG5cbi8qKlxuICogS2V5cyBmb3IgZXhwZXJpbWVudGFsIHByb3BlcnRpZXMgb24gdGhlIGBGaXJlYmFzZURlZmF1bHRzYCBvYmplY3QuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEV4cGVyaW1lbnRhbEtleSA9ICdhdXRoVG9rZW5TeW5jVVJMJyB8ICdhdXRoSWRUb2tlbk1heEFnZSc7XG5cbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgY2FuIGJlIGluamVjdGVkIGludG8gdGhlIGVudmlyb25tZW50IGFzIF9fRklSRUJBU0VfREVGQVVMVFNfXyxcbiAqIGVpdGhlciBhcyBhIHByb3BlcnR5IG9mIGdsb2JhbFRoaXMsIGEgc2hlbGwgZW52aXJvbm1lbnQgdmFyaWFibGUsIG9yIGFcbiAqIGNvb2tpZS5cbiAqXG4gKiBUaGlzIG9iamVjdCBjYW4gYmUgdXNlZCB0byBhdXRvbWF0aWNhbGx5IGNvbmZpZ3VyZSBhbmQgaW5pdGlhbGl6ZVxuICogYSBGaXJlYmFzZSBhcHAgYXMgd2VsbCBhcyBhbnkgZW11bGF0b3JzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaXJlYmFzZURlZmF1bHRzIHtcbiAgY29uZmlnPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgZW11bGF0b3JIb3N0cz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIF9hdXRoVG9rZW5TeW5jVVJMPzogc3RyaW5nO1xuICBfYXV0aElkVG9rZW5NYXhBZ2U/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBPdmVycmlkZSBGaXJlYmFzZSdzIHJ1bnRpbWUgZW52aXJvbm1lbnQgZGV0ZWN0aW9uIGFuZFxuICAgKiBmb3JjZSB0aGUgU0RLIHRvIGFjdCBhcyBpZiBpdCB3ZXJlIGluIHRoZSBzcGVjaWZpZWQgZW52aXJvbm1lbnQuXG4gICAqL1xuICBmb3JjZUVudmlyb25tZW50PzogJ2Jyb3dzZXInIHwgJ25vZGUnO1xuICBba2V5OiBzdHJpbmddOiB1bmtub3duO1xufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIE5lZWQgYHZhcmAgZm9yIHRoaXMgdG8gd29yay5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgX19GSVJFQkFTRV9ERUZBVUxUU19fOiBGaXJlYmFzZURlZmF1bHRzIHwgdW5kZWZpbmVkO1xufVxuXG5jb25zdCBnZXREZWZhdWx0c0Zyb21HbG9iYWwgPSAoKTogRmlyZWJhc2VEZWZhdWx0cyB8IHVuZGVmaW5lZCA9PlxuICBnZXRHbG9iYWwoKS5fX0ZJUkVCQVNFX0RFRkFVTFRTX187XG5cbi8qKlxuICogQXR0ZW1wdCB0byByZWFkIGRlZmF1bHRzIGZyb20gYSBKU09OIHN0cmluZyBwcm92aWRlZCB0b1xuICogcHJvY2VzcyguKWVudiguKV9fRklSRUJBU0VfREVGQVVMVFNfXyBvciBhIEpTT04gZmlsZSB3aG9zZSBwYXRoIGlzIGluXG4gKiBwcm9jZXNzKC4pZW52KC4pX19GSVJFQkFTRV9ERUZBVUxUU19QQVRIX19cbiAqIFRoZSBkb3RzIGFyZSBpbiBwYXJlbnMgYmVjYXVzZSBjZXJ0YWluIGNvbXBpbGVycyAoVml0ZT8pIGNhbm5vdFxuICogaGFuZGxlIHNlZWluZyB0aGF0IHZhcmlhYmxlIGluIGNvbW1lbnRzLlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvaXNzdWVzLzY4MzhcbiAqL1xuY29uc3QgZ2V0RGVmYXVsdHNGcm9tRW52VmFyaWFibGUgPSAoKTogRmlyZWJhc2VEZWZhdWx0cyB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHByb2Nlc3MuZW52ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBkZWZhdWx0c0pzb25TdHJpbmcgPSBwcm9jZXNzLmVudi5fX0ZJUkVCQVNFX0RFRkFVTFRTX187XG4gIGlmIChkZWZhdWx0c0pzb25TdHJpbmcpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkZWZhdWx0c0pzb25TdHJpbmcpO1xuICB9XG59O1xuXG5jb25zdCBnZXREZWZhdWx0c0Zyb21Db29raWUgPSAoKTogRmlyZWJhc2VEZWZhdWx0cyB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBtYXRjaDtcbiAgdHJ5IHtcbiAgICBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaCgvX19GSVJFQkFTRV9ERUZBVUxUU19fPShbXjtdKykvKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFNvbWUgZW52aXJvbm1lbnRzIHN1Y2ggYXMgQW5ndWxhciBVbml2ZXJzYWwgU1NSIGhhdmUgYVxuICAgIC8vIGBkb2N1bWVudGAgb2JqZWN0IGJ1dCBlcnJvciBvbiBhY2Nlc3NpbmcgYGRvY3VtZW50LmNvb2tpZWAuXG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGRlY29kZWQgPSBtYXRjaCAmJiBiYXNlNjREZWNvZGUobWF0Y2hbMV0pO1xuICByZXR1cm4gZGVjb2RlZCAmJiBKU09OLnBhcnNlKGRlY29kZWQpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QuIEl0IGNoZWNrcyBpbiBvcmRlcjpcbiAqICgxKSBpZiBzdWNoIGFuIG9iamVjdCBleGlzdHMgYXMgYSBwcm9wZXJ0eSBvZiBgZ2xvYmFsVGhpc2BcbiAqICgyKSBpZiBzdWNoIGFuIG9iamVjdCB3YXMgcHJvdmlkZWQgb24gYSBzaGVsbCBlbnZpcm9ubWVudCB2YXJpYWJsZVxuICogKDMpIGlmIHN1Y2ggYW4gb2JqZWN0IGV4aXN0cyBpbiBhIGNvb2tpZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdHMgPSAoKTogRmlyZWJhc2VEZWZhdWx0cyB8IHVuZGVmaW5lZCA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGdldERlZmF1bHRzRnJvbUdsb2JhbCgpIHx8XG4gICAgICBnZXREZWZhdWx0c0Zyb21FbnZWYXJpYWJsZSgpIHx8XG4gICAgICBnZXREZWZhdWx0c0Zyb21Db29raWUoKVxuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvKipcbiAgICAgKiBDYXRjaC1hbGwgZm9yIGJlaW5nIHVuYWJsZSB0byBnZXQgX19GSVJFQkFTRV9ERUZBVUxUU19fIGR1ZVxuICAgICAqIHRvIGFueSBlbnZpcm9ubWVudCBjYXNlIHdlIGhhdmUgbm90IGFjY291bnRlZCBmb3IuIExvZyB0b1xuICAgICAqIGluZm8gaW5zdGVhZCBvZiBzd2FsbG93aW5nIHNvIHdlIGNhbiBmaW5kIHRoZXNlIHVua25vd24gY2FzZXNcbiAgICAgKiBhbmQgYWRkIHBhdGhzIGZvciB0aGVtIGlmIG5lZWRlZC5cbiAgICAgKi9cbiAgICBjb25zb2xlLmluZm8oYFVuYWJsZSB0byBnZXQgX19GSVJFQkFTRV9ERUZBVUxUU19fIGR1ZSB0bzogJHtlfWApO1xuICAgIHJldHVybjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGVtdWxhdG9yIGhvc3Qgc3RvcmVkIGluIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0XG4gKiBmb3IgdGhlIGdpdmVuIHByb2R1Y3QuXG4gKiBAcmV0dXJucyBhIFVSTCBob3N0IGZvcm1hdHRlZCBsaWtlIGAxMjcuMC4wLjE6OTk5OWAgb3IgYFs6OjFdOjQwMDBgIGlmIGF2YWlsYWJsZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdCA9IChcbiAgcHJvZHVjdE5hbWU6IHN0cmluZ1xuKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IGdldERlZmF1bHRzKCk/LmVtdWxhdG9ySG9zdHM/Lltwcm9kdWN0TmFtZV07XG5cbi8qKlxuICogUmV0dXJucyBlbXVsYXRvciBob3N0bmFtZSBhbmQgcG9ydCBzdG9yZWQgaW4gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3RcbiAqIGZvciB0aGUgZ2l2ZW4gcHJvZHVjdC5cbiAqIEByZXR1cm5zIGEgcGFpciBvZiBob3N0bmFtZSBhbmQgcG9ydCBsaWtlIGBbXCI6OjFcIiwgNDAwMF1gIGlmIGF2YWlsYWJsZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0ID0gKFxuICBwcm9kdWN0TmFtZTogc3RyaW5nXG4pOiBbaG9zdG5hbWU6IHN0cmluZywgcG9ydDogbnVtYmVyXSB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IGhvc3QgPSBnZXREZWZhdWx0RW11bGF0b3JIb3N0KHByb2R1Y3ROYW1lKTtcbiAgaWYgKCFob3N0KSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBjb25zdCBzZXBhcmF0b3JJbmRleCA9IGhvc3QubGFzdEluZGV4T2YoJzonKTsgLy8gRmluZGluZyB0aGUgbGFzdCBzaW5jZSBJUHY2IGFkZHIgYWxzbyBoYXMgY29sb25zLlxuICBpZiAoc2VwYXJhdG9ySW5kZXggPD0gMCB8fCBzZXBhcmF0b3JJbmRleCArIDEgPT09IGhvc3QubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGhvc3QgJHtob3N0fSB3aXRoIG5vIHNlcGFyYXRlIGhvc3RuYW1lIGFuZCBwb3J0IWApO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgY29uc3QgcG9ydCA9IHBhcnNlSW50KGhvc3Quc3Vic3RyaW5nKHNlcGFyYXRvckluZGV4ICsgMSksIDEwKTtcbiAgaWYgKGhvc3RbMF0gPT09ICdbJykge1xuICAgIC8vIEJyYWNrZXQtcXVvdGVkIGBbaXB2NmFkZHJdOnBvcnRgID0+IHJldHVybiBcImlwdjZhZGRyXCIgKHdpdGhvdXQgYnJhY2tldHMpLlxuICAgIHJldHVybiBbaG9zdC5zdWJzdHJpbmcoMSwgc2VwYXJhdG9ySW5kZXggLSAxKSwgcG9ydF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtob3N0LnN1YnN0cmluZygwLCBzZXBhcmF0b3JJbmRleCksIHBvcnRdO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgRmlyZWJhc2UgYXBwIGNvbmZpZyBzdG9yZWQgaW4gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0QXBwQ29uZmlnID0gKCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfCB1bmRlZmluZWQgPT5cbiAgZ2V0RGVmYXVsdHMoKT8uY29uZmlnO1xuXG4vKipcbiAqIFJldHVybnMgYW4gZXhwZXJpbWVudGFsIHNldHRpbmcgb24gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QgKHByb3BlcnRpZXNcbiAqIHByZWZpeGVkIGJ5IFwiX1wiKVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZ2V0RXhwZXJpbWVudGFsU2V0dGluZyA9IDxUIGV4dGVuZHMgRXhwZXJpbWVudGFsS2V5PihcbiAgbmFtZTogVFxuKTogRmlyZWJhc2VEZWZhdWx0c1tgXyR7VH1gXSA9PlxuICBnZXREZWZhdWx0cygpPy5bYF8ke25hbWV9YF0gYXMgRmlyZWJhc2VEZWZhdWx0c1tgXyR7VH1gXTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgRGVmZXJyZWQ8Uj4ge1xuICBwcm9taXNlOiBQcm9taXNlPFI+O1xuICByZWplY3Q6ICh2YWx1ZT86IHVua25vd24pID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgcmVzb2x2ZTogKHZhbHVlPzogdW5rbm93bikgPT4gdm9pZCA9ICgpID0+IHt9O1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlIGFzICh2YWx1ZT86IHVua25vd24pID0+IHZvaWQ7XG4gICAgICB0aGlzLnJlamVjdCA9IHJlamVjdCBhcyAodmFsdWU/OiB1bmtub3duKSA9PiB2b2lkO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE91ciBBUEkgaW50ZXJuYWxzIGFyZSBub3QgcHJvbWlzaWZpZWQgYW5kIGNhbm5vdCBiZWNhdXNlIG91ciBjYWxsYmFjayBBUElzIGhhdmUgc3VidGxlIGV4cGVjdGF0aW9ucyBhcm91bmRcbiAgICogaW52b2tpbmcgcHJvbWlzZXMgaW5saW5lLCB3aGljaCBQcm9taXNlcyBhcmUgZm9yYmlkZGVuIHRvIGRvLiBUaGlzIG1ldGhvZCBhY2NlcHRzIGFuIG9wdGlvbmFsIG5vZGUtc3R5bGUgY2FsbGJhY2tcbiAgICogYW5kIHJldHVybnMgYSBub2RlLXN0eWxlIGNhbGxiYWNrIHdoaWNoIHdpbGwgcmVzb2x2ZSBvciByZWplY3QgdGhlIERlZmVycmVkJ3MgcHJvbWlzZS5cbiAgICovXG4gIHdyYXBDYWxsYmFjayhcbiAgICBjYWxsYmFjaz86IChlcnJvcj86IHVua25vd24sIHZhbHVlPzogdW5rbm93bikgPT4gdm9pZFxuICApOiAoZXJyb3I6IHVua25vd24sIHZhbHVlPzogdW5rbm93bikgPT4gdm9pZCB7XG4gICAgcmV0dXJuIChlcnJvciwgdmFsdWU/KSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5yZWplY3QoZXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gQXR0YWNoaW5nIG5vb3AgaGFuZGxlciBqdXN0IGluIGNhc2UgZGV2ZWxvcGVyIHdhc24ndCBleHBlY3RpbmdcbiAgICAgICAgLy8gcHJvbWlzZXNcbiAgICAgICAgdGhpcy5wcm9taXNlLmNhdGNoKCgpID0+IHt9KTtcblxuICAgICAgICAvLyBTb21lIG9mIG91ciBjYWxsYmFja3MgZG9uJ3QgZXhwZWN0IGEgdmFsdWUgYW5kIG91ciBvd24gdGVzdHNcbiAgICAgICAgLy8gYXNzZXJ0IHRoYXQgdGhlIHBhcmFtZXRlciBsZW5ndGggaXMgMVxuICAgICAgICBpZiAoY2FsbGJhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcgfSBmcm9tICcuL2NyeXB0JztcblxuLy8gRmlyZWJhc2UgQXV0aCB0b2tlbnMgY29udGFpbiBzbmFrZV9jYXNlIGNsYWltcyBmb2xsb3dpbmcgdGhlIEpXVCBzdGFuZGFyZCAvIGNvbnZlbnRpb24uXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cblxuZXhwb3J0IHR5cGUgRmlyZWJhc2VTaWduSW5Qcm92aWRlciA9XG4gIHwgJ2N1c3RvbSdcbiAgfCAnZW1haWwnXG4gIHwgJ3Bhc3N3b3JkJ1xuICB8ICdwaG9uZSdcbiAgfCAnYW5vbnltb3VzJ1xuICB8ICdnb29nbGUuY29tJ1xuICB8ICdmYWNlYm9vay5jb20nXG4gIHwgJ2dpdGh1Yi5jb20nXG4gIHwgJ3R3aXR0ZXIuY29tJ1xuICB8ICdtaWNyb3NvZnQuY29tJ1xuICB8ICdhcHBsZS5jb20nO1xuXG5pbnRlcmZhY2UgRmlyZWJhc2VJZFRva2VuIHtcbiAgLy8gQWx3YXlzIHNldCB0byBodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vUFJPSkVDVF9JRFxuICBpc3M6IHN0cmluZztcblxuICAvLyBBbHdheXMgc2V0IHRvIFBST0pFQ1RfSURcbiAgYXVkOiBzdHJpbmc7XG5cbiAgLy8gVGhlIHVzZXIncyB1bmlxdWUgSURcbiAgc3ViOiBzdHJpbmc7XG5cbiAgLy8gVGhlIHRva2VuIGlzc3VlIHRpbWUsIGluIHNlY29uZHMgc2luY2UgZXBvY2hcbiAgaWF0OiBudW1iZXI7XG5cbiAgLy8gVGhlIHRva2VuIGV4cGlyeSB0aW1lLCBub3JtYWxseSAnaWF0JyArIDM2MDBcbiAgZXhwOiBudW1iZXI7XG5cbiAgLy8gVGhlIHVzZXIncyB1bmlxdWUgSUQuIE11c3QgYmUgZXF1YWwgdG8gJ3N1YidcbiAgdXNlcl9pZDogc3RyaW5nO1xuXG4gIC8vIFRoZSB0aW1lIHRoZSB1c2VyIGF1dGhlbnRpY2F0ZWQsIG5vcm1hbGx5ICdpYXQnXG4gIGF1dGhfdGltZTogbnVtYmVyO1xuXG4gIC8vIFRoZSBzaWduIGluIHByb3ZpZGVyLCBvbmx5IHNldCB3aGVuIHRoZSBwcm92aWRlciBpcyAnYW5vbnltb3VzJ1xuICBwcm92aWRlcl9pZD86ICdhbm9ueW1vdXMnO1xuXG4gIC8vIFRoZSB1c2VyJ3MgcHJpbWFyeSBlbWFpbFxuICBlbWFpbD86IHN0cmluZztcblxuICAvLyBUaGUgdXNlcidzIGVtYWlsIHZlcmlmaWNhdGlvbiBzdGF0dXNcbiAgZW1haWxfdmVyaWZpZWQ/OiBib29sZWFuO1xuXG4gIC8vIFRoZSB1c2VyJ3MgcHJpbWFyeSBwaG9uZSBudW1iZXJcbiAgcGhvbmVfbnVtYmVyPzogc3RyaW5nO1xuXG4gIC8vIFRoZSB1c2VyJ3MgZGlzcGxheSBuYW1lXG4gIG5hbWU/OiBzdHJpbmc7XG5cbiAgLy8gVGhlIHVzZXIncyBwcm9maWxlIHBob3RvIFVSTFxuICBwaWN0dXJlPzogc3RyaW5nO1xuXG4gIC8vIEluZm9ybWF0aW9uIG9uIGFsbCBpZGVudGl0aWVzIGxpbmtlZCB0byB0aGlzIHVzZXJcbiAgZmlyZWJhc2U6IHtcbiAgICAvLyBUaGUgcHJpbWFyeSBzaWduLWluIHByb3ZpZGVyXG4gICAgc2lnbl9pbl9wcm92aWRlcjogRmlyZWJhc2VTaWduSW5Qcm92aWRlcjtcblxuICAgIC8vIEEgbWFwIG9mIHByb3ZpZGVycyB0byB0aGUgdXNlcidzIGxpc3Qgb2YgdW5pcXVlIGlkZW50aWZpZXJzIGZyb21cbiAgICAvLyBlYWNoIHByb3ZpZGVyXG4gICAgaWRlbnRpdGllcz86IHsgW3Byb3ZpZGVyIGluIEZpcmViYXNlU2lnbkluUHJvdmlkZXJdPzogc3RyaW5nW10gfTtcbiAgfTtcblxuICAvLyBDdXN0b20gY2xhaW1zIHNldCBieSB0aGUgZGV2ZWxvcGVyXG4gIFtjbGFpbTogc3RyaW5nXTogdW5rbm93bjtcblxuICB1aWQ/OiBuZXZlcjsgLy8gVHJ5IHRvIGNhdGNoIGEgY29tbW9uIG1pc3Rha2Ugb2YgXCJ1aWRcIiAoc2hvdWxkIGJlIFwic3ViXCIgaW5zdGVhZCkuXG59XG5cbmV4cG9ydCB0eXBlIEVtdWxhdG9yTW9ja1Rva2VuT3B0aW9ucyA9ICh7IHVzZXJfaWQ6IHN0cmluZyB9IHwgeyBzdWI6IHN0cmluZyB9KSAmXG4gIFBhcnRpYWw8RmlyZWJhc2VJZFRva2VuPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vY2tVc2VyVG9rZW4oXG4gIHRva2VuOiBFbXVsYXRvck1vY2tUb2tlbk9wdGlvbnMsXG4gIHByb2plY3RJZD86IHN0cmluZ1xuKTogc3RyaW5nIHtcbiAgaWYgKHRva2VuLnVpZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdUaGUgXCJ1aWRcIiBmaWVsZCBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGJ5IG1vY2tVc2VyVG9rZW4uIFBsZWFzZSB1c2UgXCJzdWJcIiBpbnN0ZWFkIGZvciBGaXJlYmFzZSBBdXRoIFVzZXIgSUQuJ1xuICAgICk7XG4gIH1cbiAgLy8gVW5zZWN1cmVkIEpXVHMgdXNlIFwibm9uZVwiIGFzIHRoZSBhbGdvcml0aG0uXG4gIGNvbnN0IGhlYWRlciA9IHtcbiAgICBhbGc6ICdub25lJyxcbiAgICB0eXBlOiAnSldUJ1xuICB9O1xuXG4gIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0SWQgfHwgJ2RlbW8tcHJvamVjdCc7XG4gIGNvbnN0IGlhdCA9IHRva2VuLmlhdCB8fCAwO1xuICBjb25zdCBzdWIgPSB0b2tlbi5zdWIgfHwgdG9rZW4udXNlcl9pZDtcbiAgaWYgKCFzdWIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb2NrVXNlclRva2VuIG11c3QgY29udGFpbiAnc3ViJyBvciAndXNlcl9pZCcgZmllbGQhXCIpO1xuICB9XG5cbiAgY29uc3QgcGF5bG9hZDogRmlyZWJhc2VJZFRva2VuID0ge1xuICAgIC8vIFNldCBhbGwgcmVxdWlyZWQgZmllbGRzIHRvIGRlY2VudCBkZWZhdWx0c1xuICAgIGlzczogYGh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS8ke3Byb2plY3R9YCxcbiAgICBhdWQ6IHByb2plY3QsXG4gICAgaWF0LFxuICAgIGV4cDogaWF0ICsgMzYwMCxcbiAgICBhdXRoX3RpbWU6IGlhdCxcbiAgICBzdWIsXG4gICAgdXNlcl9pZDogc3ViLFxuICAgIGZpcmViYXNlOiB7XG4gICAgICBzaWduX2luX3Byb3ZpZGVyOiAnY3VzdG9tJyxcbiAgICAgIGlkZW50aXRpZXM6IHt9XG4gICAgfSxcblxuICAgIC8vIE92ZXJyaWRlIHdpdGggdXNlciBvcHRpb25zXG4gICAgLi4udG9rZW5cbiAgfTtcblxuICAvLyBVbnNlY3VyZWQgSldUcyB1c2UgdGhlIGVtcHR5IHN0cmluZyBhcyBhIHNpZ25hdHVyZS5cbiAgY29uc3Qgc2lnbmF0dXJlID0gJyc7XG4gIHJldHVybiBbXG4gICAgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkoaGVhZGVyKSksXG4gICAgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpLFxuICAgIHNpZ25hdHVyZVxuICBdLmpvaW4oJy4nKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDT05TVEFOVFMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMnO1xuXG4vKipcbiAqIFR5cGUgcGxhY2Vob2xkZXIgZm9yIGBXb3JrZXJHbG9iYWxTY29wZWAgZnJvbSBgd2Vid29ya2VyYFxuICovXG5kZWNsYXJlIGNsYXNzIFdvcmtlckdsb2JhbFNjb3BlIHt9XG5cbi8qKlxuICogUmV0dXJucyBuYXZpZ2F0b3IudXNlckFnZW50IHN0cmluZyBvciAnJyBpZiBpdCdzIG5vdCBkZWZpbmVkLlxuICogQHJldHVybiB1c2VyIGFnZW50IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VUEoKTogc3RyaW5nIHtcbiAgaWYgKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIG5hdmlnYXRvclsndXNlckFnZW50J10gPT09ICdzdHJpbmcnXG4gICkge1xuICAgIHJldHVybiBuYXZpZ2F0b3JbJ3VzZXJBZ2VudCddO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG4vKipcbiAqIERldGVjdCBDb3Jkb3ZhIC8gUGhvbmVHYXAgLyBJb25pYyBmcmFtZXdvcmtzIG9uIGEgbW9iaWxlIGRldmljZS5cbiAqXG4gKiBEZWxpYmVyYXRlbHkgZG9lcyBub3QgcmVseSBvbiBjaGVja2luZyBgZmlsZTovL2AgVVJMcyAoYXMgdGhpcyBmYWlscyBQaG9uZUdhcFxuICogaW4gdGhlIFJpcHBsZSBlbXVsYXRvcikgbm9yIENvcmRvdmEgYG9uRGV2aWNlUmVhZHlgLCB3aGljaCB3b3VsZCBub3JtYWxseVxuICogd2FpdCBmb3IgYSBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTW9iaWxlQ29yZG92YSgpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIC8vIEB0cy1pZ25vcmUgU2V0dGluZyB1cCBhbiBicm9hZGx5IGFwcGxpY2FibGUgaW5kZXggc2lnbmF0dXJlIGZvciBXaW5kb3dcbiAgICAvLyBqdXN0IHRvIGRlYWwgd2l0aCB0aGlzIGNhc2Ugd291bGQgcHJvYmFibHkgYmUgYSBiYWQgaWRlYS5cbiAgICAhISh3aW5kb3dbJ2NvcmRvdmEnXSB8fCB3aW5kb3dbJ3Bob25lZ2FwJ10gfHwgd2luZG93WydQaG9uZUdhcCddKSAmJlxuICAgIC9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KGdldFVBKCkpXG4gICk7XG59XG5cbi8qKlxuICogRGV0ZWN0IE5vZGUuanMuXG4gKlxuICogQHJldHVybiB0cnVlIGlmIE5vZGUuanMgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQgb3Igc3BlY2lmaWVkLlxuICovXG4vLyBOb2RlIGRldGVjdGlvbiBsb2dpYyBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vaWxpYWthbi9kZXRlY3Qtbm9kZS9cbmV4cG9ydCBmdW5jdGlvbiBpc05vZGUoKTogYm9vbGVhbiB7XG4gIGNvbnN0IGZvcmNlRW52aXJvbm1lbnQgPSBnZXREZWZhdWx0cygpPy5mb3JjZUVudmlyb25tZW50O1xuICBpZiAoZm9yY2VFbnZpcm9ubWVudCA9PT0gJ25vZGUnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoZm9yY2VFbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gKFxuICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nXG4gICAgKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIERldGVjdCBCcm93c2VyIEVudmlyb25tZW50LlxuICogTm90ZTogVGhpcyB3aWxsIHJldHVybiB0cnVlIGZvciBjZXJ0YWluIHRlc3QgZnJhbWV3b3JrcyB0aGF0IGFyZSBpbmNvbXBsZXRlbHlcbiAqIG1pbWlja2luZyBhIGJyb3dzZXIsIGFuZCBzaG91bGQgbm90IGxlYWQgdG8gYXNzdW1pbmcgYWxsIGJyb3dzZXIgQVBJcyBhcmVcbiAqIGF2YWlsYWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQnJvd3NlcigpOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnIHx8IGlzV2ViV29ya2VyKCk7XG59XG5cbi8qKlxuICogRGV0ZWN0IFdlYiBXb3JrZXIgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzV2ViV29ya2VyKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGVcbiAgKTtcbn1cblxuLyoqXG4gKiBEZXRlY3QgQ2xvdWRmbGFyZSBXb3JrZXIgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2xvdWRmbGFyZVdvcmtlcigpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIG5hdmlnYXRvci51c2VyQWdlbnQgPT09ICdDbG91ZGZsYXJlLVdvcmtlcnMnXG4gICk7XG59XG5cbi8qKlxuICogRGV0ZWN0IGJyb3dzZXIgZXh0ZW5zaW9ucyAoQ2hyb21lIGFuZCBGaXJlZm94IGF0IGxlYXN0KS5cbiAqL1xuaW50ZXJmYWNlIEJyb3dzZXJSdW50aW1lIHtcbiAgaWQ/OiB1bmtub3duO1xufVxuZGVjbGFyZSBjb25zdCBjaHJvbWU6IHsgcnVudGltZT86IEJyb3dzZXJSdW50aW1lIH07XG5kZWNsYXJlIGNvbnN0IGJyb3dzZXI6IHsgcnVudGltZT86IEJyb3dzZXJSdW50aW1lIH07XG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyRXh0ZW5zaW9uKCk6IGJvb2xlYW4ge1xuICBjb25zdCBydW50aW1lID1cbiAgICB0eXBlb2YgY2hyb21lID09PSAnb2JqZWN0J1xuICAgICAgPyBjaHJvbWUucnVudGltZVxuICAgICAgOiB0eXBlb2YgYnJvd3NlciA9PT0gJ29iamVjdCdcbiAgICAgID8gYnJvd3Nlci5ydW50aW1lXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIHR5cGVvZiBydW50aW1lID09PSAnb2JqZWN0JyAmJiBydW50aW1lLmlkICE9PSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogRGV0ZWN0IFJlYWN0IE5hdGl2ZS5cbiAqXG4gKiBAcmV0dXJuIHRydWUgaWYgUmVhY3ROYXRpdmUgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWN0TmF0aXZlKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvclsncHJvZHVjdCddID09PSAnUmVhY3ROYXRpdmUnXG4gICk7XG59XG5cbi8qKiBEZXRlY3RzIEVsZWN0cm9uIGFwcHMuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVjdHJvbigpOiBib29sZWFuIHtcbiAgcmV0dXJuIGdldFVBKCkuaW5kZXhPZignRWxlY3Ryb24vJykgPj0gMDtcbn1cblxuLyoqIERldGVjdHMgSW50ZXJuZXQgRXhwbG9yZXIuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJRSgpOiBib29sZWFuIHtcbiAgY29uc3QgdWEgPSBnZXRVQSgpO1xuICByZXR1cm4gdWEuaW5kZXhPZignTVNJRSAnKSA+PSAwIHx8IHVhLmluZGV4T2YoJ1RyaWRlbnQvJykgPj0gMDtcbn1cblxuLyoqIERldGVjdHMgVW5pdmVyc2FsIFdpbmRvd3MgUGxhdGZvcm0gYXBwcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1VXUCgpOiBib29sZWFuIHtcbiAgcmV0dXJuIGdldFVBKCkuaW5kZXhPZignTVNBcHBIb3N0LycpID49IDA7XG59XG5cbi8qKlxuICogRGV0ZWN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgU0RLIGJ1aWxkIGlzIHRoZSBOb2RlIHZlcnNpb24uXG4gKlxuICogQHJldHVybiB0cnVlIGlmIGl0J3MgdGhlIE5vZGUgU0RLIGJ1aWxkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlU2RrKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gQ09OU1RBTlRTLk5PREVfQ0xJRU5UID09PSB0cnVlIHx8IENPTlNUQU5UUy5OT0RFX0FETUlOID09PSB0cnVlO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIHdlIGFyZSBydW5uaW5nIGluIFNhZmFyaS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhZmFyaSgpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICAhaXNOb2RlKCkgJiZcbiAgICAhIW5hdmlnYXRvci51c2VyQWdlbnQgJiZcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdTYWZhcmknKSAmJlxuICAgICFuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdDaHJvbWUnKVxuICApO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGNoZWNrcyBpZiBpbmRleGVkREIgaXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgYnJvd3Nlci9zZXJ2aWNlIHdvcmtlciBjb250ZXh0XG4gKiBAcmV0dXJuIHRydWUgaWYgaW5kZXhlZERCIGlzIHN1cHBvcnRlZCBieSBjdXJyZW50IGJyb3dzZXIvc2VydmljZSB3b3JrZXIgY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJbmRleGVkREJBdmFpbGFibGUoKTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbmRleGVkREIgPT09ICdvYmplY3QnO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgdmFsaWRhdGVzIGJyb3dzZXIvc3cgY29udGV4dCBmb3IgaW5kZXhlZERCIGJ5IG9wZW5pbmcgYSBkdW1teSBpbmRleGVkREIgZGF0YWJhc2UgYW5kIHJlamVjdFxuICogaWYgZXJyb3JzIG9jY3VyIGR1cmluZyB0aGUgZGF0YWJhc2Ugb3BlbiBvcGVyYXRpb24uXG4gKlxuICogQHRocm93cyBleGNlcHRpb24gaWYgY3VycmVudCBicm93c2VyL3N3IGNvbnRleHQgY2FuJ3QgcnVuIGlkYi5vcGVuIChleDogU2FmYXJpIGlmcmFtZSwgRmlyZWZveFxuICogcHJpdmF0ZSBicm93c2luZylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBwcmVFeGlzdDogYm9vbGVhbiA9IHRydWU7XG4gICAgICBjb25zdCBEQl9DSEVDS19OQU1FID1cbiAgICAgICAgJ3ZhbGlkYXRlLWJyb3dzZXItY29udGV4dC1mb3ItaW5kZXhlZGRiLWFuYWx5dGljcy1tb2R1bGUnO1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHNlbGYuaW5kZXhlZERCLm9wZW4oREJfQ0hFQ0tfTkFNRSk7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgcmVxdWVzdC5yZXN1bHQuY2xvc2UoKTtcbiAgICAgICAgLy8gZGVsZXRlIGRhdGFiYXNlIG9ubHkgd2hlbiBpdCBkb2Vzbid0IHByZS1leGlzdFxuICAgICAgICBpZiAoIXByZUV4aXN0KSB7XG4gICAgICAgICAgc2VsZi5pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoREJfQ0hFQ0tfTkFNRSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH07XG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9ICgpID0+IHtcbiAgICAgICAgcHJlRXhpc3QgPSBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3I/Lm1lc3NhZ2UgfHwgJycpO1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqXG4gKiBUaGlzIG1ldGhvZCBjaGVja3Mgd2hldGhlciBjb29raWUgaXMgZW5hYmxlZCB3aXRoaW4gY3VycmVudCBicm93c2VyXG4gKiBAcmV0dXJuIHRydWUgaWYgY29va2llIGlzIGVuYWJsZWQgd2l0aGluIGN1cnJlbnQgYnJvd3NlclxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJlQ29va2llc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yLmNvb2tpZUVuYWJsZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQGZpbGVvdmVydmlldyBTdGFuZGFyZGl6ZWQgRmlyZWJhc2UgRXJyb3IuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogICAvLyBUeXBlU2NyaXB0IHN0cmluZyBsaXRlcmFscyBmb3IgdHlwZS1zYWZlIGNvZGVzXG4gKiAgIHR5cGUgRXJyID1cbiAqICAgICAndW5rbm93bicgfFxuICogICAgICdvYmplY3Qtbm90LWZvdW5kJ1xuICogICAgIDtcbiAqXG4gKiAgIC8vIENsb3N1cmUgZW51bSBmb3IgdHlwZS1zYWZlIGVycm9yIGNvZGVzXG4gKiAgIC8vIGF0LWVudW0ge3N0cmluZ31cbiAqICAgdmFyIEVyciA9IHtcbiAqICAgICBVTktOT1dOOiAndW5rbm93bicsXG4gKiAgICAgT0JKRUNUX05PVF9GT1VORDogJ29iamVjdC1ub3QtZm91bmQnLFxuICogICB9XG4gKlxuICogICBsZXQgZXJyb3JzOiBNYXA8RXJyLCBzdHJpbmc+ID0ge1xuICogICAgICdnZW5lcmljLWVycm9yJzogXCJVbmtub3duIGVycm9yXCIsXG4gKiAgICAgJ2ZpbGUtbm90LWZvdW5kJzogXCJDb3VsZCBub3QgZmluZCBmaWxlOiB7JGZpbGV9XCIsXG4gKiAgIH07XG4gKlxuICogICAvLyBUeXBlLXNhZmUgZnVuY3Rpb24gLSBtdXN0IHBhc3MgYSB2YWxpZCBlcnJvciBjb2RlIGFzIHBhcmFtLlxuICogICBsZXQgZXJyb3IgPSBuZXcgRXJyb3JGYWN0b3J5PEVycj4oJ3NlcnZpY2UnLCAnU2VydmljZScsIGVycm9ycyk7XG4gKlxuICogICAuLi5cbiAqICAgdGhyb3cgZXJyb3IuY3JlYXRlKEVyci5HRU5FUklDKTtcbiAqICAgLi4uXG4gKiAgIHRocm93IGVycm9yLmNyZWF0ZShFcnIuRklMRV9OT1RfRk9VTkQsIHsnZmlsZSc6IGZpbGVOYW1lfSk7XG4gKiAgIC4uLlxuICogICAvLyBTZXJ2aWNlOiBDb3VsZCBub3QgZmlsZSBmaWxlOiBmb28udHh0IChzZXJ2aWNlL2ZpbGUtbm90LWZvdW5kKS5cbiAqXG4gKiAgIGNhdGNoIChlKSB7XG4gKiAgICAgYXNzZXJ0KGUubWVzc2FnZSA9PT0gXCJDb3VsZCBub3QgZmluZCBmaWxlOiBmb28udHh0LlwiKTtcbiAqICAgICBpZiAoKGUgYXMgRmlyZWJhc2VFcnJvcik/LmNvZGUgPT09ICdzZXJ2aWNlL2ZpbGUtbm90LWZvdW5kJykge1xuICogICAgICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgcmVhZCBmaWxlOiBcIiArIGVbJ2ZpbGUnXSk7XG4gKiAgICAgfVxuICogICB9XG4gKi9cblxuZXhwb3J0IHR5cGUgRXJyb3JNYXA8RXJyb3JDb2RlIGV4dGVuZHMgc3RyaW5nPiA9IHtcbiAgcmVhZG9ubHkgW0sgaW4gRXJyb3JDb2RlXTogc3RyaW5nO1xufTtcblxuY29uc3QgRVJST1JfTkFNRSA9ICdGaXJlYmFzZUVycm9yJztcblxuZXhwb3J0IGludGVyZmFjZSBTdHJpbmdMaWtlIHtcbiAgdG9TdHJpbmcoKTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yRGF0YSB7XG4gIFtrZXk6IHN0cmluZ106IHVua25vd247XG59XG5cbi8vIEJhc2VkIG9uIGNvZGUgZnJvbTpcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yI0N1c3RvbV9FcnJvcl9UeXBlc1xuZXhwb3J0IGNsYXNzIEZpcmViYXNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKiBUaGUgY3VzdG9tIG5hbWUgZm9yIGFsbCBGaXJlYmFzZUVycm9ycy4gKi9cbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nID0gRVJST1JfTkFNRTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIGVycm9yIGNvZGUgZm9yIHRoaXMgZXJyb3IuICovXG4gICAgcmVhZG9ubHkgY29kZTogc3RyaW5nLFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICAvKiogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgZXJyb3IuICovXG4gICAgcHVibGljIGN1c3RvbURhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuICApIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcblxuICAgIC8vIEZpeCBGb3IgRVM1XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0LXdpa2kvYmxvYi9tYXN0ZXIvQnJlYWtpbmctQ2hhbmdlcy5tZCNleHRlbmRpbmctYnVpbHQtaW5zLWxpa2UtZXJyb3ItYXJyYXktYW5kLW1hcC1tYXktbm8tbG9uZ2VyLXdvcmtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRmlyZWJhc2VFcnJvci5wcm90b3R5cGUpO1xuXG4gICAgLy8gTWFpbnRhaW5zIHByb3BlciBzdGFjayB0cmFjZSBmb3Igd2hlcmUgb3VyIGVycm9yIHdhcyB0aHJvd24uXG4gICAgLy8gT25seSBhdmFpbGFibGUgb24gVjguXG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBFcnJvckZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFcnJvckZhY3Rvcnk8XG4gIEVycm9yQ29kZSBleHRlbmRzIHN0cmluZyxcbiAgRXJyb3JQYXJhbXMgZXh0ZW5kcyB7IHJlYWRvbmx5IFtLIGluIEVycm9yQ29kZV0/OiBFcnJvckRhdGEgfSA9IHt9XG4+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBzZXJ2aWNlOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBzZXJ2aWNlTmFtZTogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgZXJyb3JzOiBFcnJvck1hcDxFcnJvckNvZGU+XG4gICkge31cblxuICBjcmVhdGU8SyBleHRlbmRzIEVycm9yQ29kZT4oXG4gICAgY29kZTogSyxcbiAgICAuLi5kYXRhOiBLIGV4dGVuZHMga2V5b2YgRXJyb3JQYXJhbXMgPyBbRXJyb3JQYXJhbXNbS11dIDogW11cbiAgKTogRmlyZWJhc2VFcnJvciB7XG4gICAgY29uc3QgY3VzdG9tRGF0YSA9IChkYXRhWzBdIGFzIEVycm9yRGF0YSkgfHwge307XG4gICAgY29uc3QgZnVsbENvZGUgPSBgJHt0aGlzLnNlcnZpY2V9LyR7Y29kZX1gO1xuICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5lcnJvcnNbY29kZV07XG5cbiAgICBjb25zdCBtZXNzYWdlID0gdGVtcGxhdGUgPyByZXBsYWNlVGVtcGxhdGUodGVtcGxhdGUsIGN1c3RvbURhdGEpIDogJ0Vycm9yJztcbiAgICAvLyBTZXJ2aWNlIE5hbWU6IEVycm9yIG1lc3NhZ2UgKHNlcnZpY2UvY29kZSkuXG4gICAgY29uc3QgZnVsbE1lc3NhZ2UgPSBgJHt0aGlzLnNlcnZpY2VOYW1lfTogJHttZXNzYWdlfSAoJHtmdWxsQ29kZX0pLmA7XG5cbiAgICBjb25zdCBlcnJvciA9IG5ldyBGaXJlYmFzZUVycm9yKGZ1bGxDb2RlLCBmdWxsTWVzc2FnZSwgY3VzdG9tRGF0YSk7XG5cbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVwbGFjZVRlbXBsYXRlKHRlbXBsYXRlOiBzdHJpbmcsIGRhdGE6IEVycm9yRGF0YSk6IHN0cmluZyB7XG4gIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKFBBVFRFUk4sIChfLCBrZXkpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IFN0cmluZyh2YWx1ZSkgOiBgPCR7a2V5fT8+YDtcbiAgfSk7XG59XG5cbmNvbnN0IFBBVFRFUk4gPSAvXFx7XFwkKFtefV0rKX0vZztcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEV2YWx1YXRlcyBhIEpTT04gc3RyaW5nIGludG8gYSBqYXZhc2NyaXB0IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIEEgc3RyaW5nIGNvbnRhaW5pbmcgSlNPTi5cbiAqIEByZXR1cm4geyp9IFRoZSBqYXZhc2NyaXB0IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBKU09OLlxuICovXG5leHBvcnQgZnVuY3Rpb24ganNvbkV2YWwoc3RyOiBzdHJpbmcpOiB1bmtub3duIHtcbiAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIEpTT04gcmVwcmVzZW50aW5nIGEgamF2YXNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0geyp9IGRhdGEgSmF2YVNjcmlwdCBvYmplY3QgdG8gYmUgc3RyaW5naWZpZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBKU09OIGNvbnRlbnRzIG9mIHRoZSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkoZGF0YTogdW5rbm93bik6IHN0cmluZyB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBiYXNlNjREZWNvZGUgfSBmcm9tICcuL2NyeXB0JztcbmltcG9ydCB7IGpzb25FdmFsIH0gZnJvbSAnLi9qc29uJztcblxuaW50ZXJmYWNlIENsYWltcyB7XG4gIFtrZXk6IHN0cmluZ106IHt9O1xufVxuXG5pbnRlcmZhY2UgRGVjb2RlZFRva2VuIHtcbiAgaGVhZGVyOiBvYmplY3Q7XG4gIGNsYWltczogQ2xhaW1zO1xuICBkYXRhOiBvYmplY3Q7XG4gIHNpZ25hdHVyZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBpbnRvIGNvbnN0aXR1ZW50IHBhcnRzLlxuICpcbiAqIE5vdGVzOlxuICogLSBNYXkgcmV0dXJuIHdpdGggaW52YWxpZCAvIGluY29tcGxldGUgY2xhaW1zIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IGZ1bmN0aW9uICh0b2tlbjogc3RyaW5nKTogRGVjb2RlZFRva2VuIHtcbiAgbGV0IGhlYWRlciA9IHt9LFxuICAgIGNsYWltczogQ2xhaW1zID0ge30sXG4gICAgZGF0YSA9IHt9LFxuICAgIHNpZ25hdHVyZSA9ICcnO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcGFydHMgPSB0b2tlbi5zcGxpdCgnLicpO1xuICAgIGhlYWRlciA9IGpzb25FdmFsKGJhc2U2NERlY29kZShwYXJ0c1swXSkgfHwgJycpIGFzIG9iamVjdDtcbiAgICBjbGFpbXMgPSBqc29uRXZhbChiYXNlNjREZWNvZGUocGFydHNbMV0pIHx8ICcnKSBhcyBDbGFpbXM7XG4gICAgc2lnbmF0dXJlID0gcGFydHNbMl07XG4gICAgZGF0YSA9IGNsYWltc1snZCddIHx8IHt9O1xuICAgIGRlbGV0ZSBjbGFpbXNbJ2QnXTtcbiAgfSBjYXRjaCAoZSkge31cblxuICByZXR1cm4ge1xuICAgIGhlYWRlcixcbiAgICBjbGFpbXMsXG4gICAgZGF0YSxcbiAgICBzaWduYXR1cmVcbiAgfTtcbn07XG5cbmludGVyZmFjZSBEZWNvZGVkVG9rZW4ge1xuICBoZWFkZXI6IG9iamVjdDtcbiAgY2xhaW1zOiBDbGFpbXM7XG4gIGRhdGE6IG9iamVjdDtcbiAgc2lnbmF0dXJlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCBjaGVja3MgdGhlIHZhbGlkaXR5IG9mIGl0cyB0aW1lLWJhc2VkIGNsYWltcy4gV2lsbCByZXR1cm4gdHJ1ZSBpZiB0aGVcbiAqIHRva2VuIGlzIHdpdGhpbiB0aGUgdGltZSB3aW5kb3cgYXV0aG9yaXplZCBieSB0aGUgJ25iZicgKG5vdC1iZWZvcmUpIGFuZCAnaWF0JyAoaXNzdWVkLWF0KSBjbGFpbXMuXG4gKlxuICogTm90ZXM6XG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1ZhbGlkVGltZXN0YW1wID0gZnVuY3Rpb24gKHRva2VuOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgY2xhaW1zOiBDbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcbiAgY29uc3Qgbm93OiBudW1iZXIgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7XG4gIGxldCB2YWxpZFNpbmNlOiBudW1iZXIgPSAwLFxuICAgIHZhbGlkVW50aWw6IG51bWJlciA9IDA7XG5cbiAgaWYgKHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnbmJmJykpIHtcbiAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ25iZiddIGFzIG51bWJlcjtcbiAgICB9IGVsc2UgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0JykpIHtcbiAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ2lhdCddIGFzIG51bWJlcjtcbiAgICB9XG5cbiAgICBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCdleHAnKSkge1xuICAgICAgdmFsaWRVbnRpbCA9IGNsYWltc1snZXhwJ10gYXMgbnVtYmVyO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0b2tlbiB3aWxsIGV4cGlyZSBhZnRlciAyNGggYnkgZGVmYXVsdFxuICAgICAgdmFsaWRVbnRpbCA9IHZhbGlkU2luY2UgKyA4NjQwMDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgICEhbm93ICYmXG4gICAgISF2YWxpZFNpbmNlICYmXG4gICAgISF2YWxpZFVudGlsICYmXG4gICAgbm93ID49IHZhbGlkU2luY2UgJiZcbiAgICBub3cgPD0gdmFsaWRVbnRpbFxuICApO1xufTtcblxuLyoqXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIHJldHVybnMgaXRzIGlzc3VlZCBhdCB0aW1lIGlmIHZhbGlkLCBudWxsIG90aGVyd2lzZS5cbiAqXG4gKiBOb3RlczpcbiAqIC0gTWF5IHJldHVybiBudWxsIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzc3VlZEF0VGltZSA9IGZ1bmN0aW9uICh0b2tlbjogc3RyaW5nKTogbnVtYmVyIHwgbnVsbCB7XG4gIGNvbnN0IGNsYWltczogQ2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XG4gIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XG4gICAgcmV0dXJuIGNsYWltc1snaWF0J10gYXMgbnVtYmVyO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIGNoZWNrcyB0aGUgdmFsaWRpdHkgb2YgaXRzIGZvcm1hdC4gRXhwZWN0cyBhIHZhbGlkIGlzc3VlZC1hdCB0aW1lLlxuICpcbiAqIE5vdGVzOlxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZEZvcm1hdCA9IGZ1bmN0aW9uICh0b2tlbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGRlY29kZWQgPSBkZWNvZGUodG9rZW4pLFxuICAgIGNsYWltcyA9IGRlY29kZWQuY2xhaW1zO1xuXG4gIHJldHVybiAhIWNsYWltcyAmJiB0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpO1xufTtcblxuLyoqXG4gKiBBdHRlbXB0cyB0byBwZWVyIGludG8gYW4gYXV0aCB0b2tlbiBhbmQgZGV0ZXJtaW5lIGlmIGl0J3MgYW4gYWRtaW4gYXV0aCB0b2tlbiBieSBsb29raW5nIGF0IHRoZSBjbGFpbXMgcG9ydGlvbi5cbiAqXG4gKiBOb3RlczpcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSBmdW5jdGlvbiAodG9rZW46IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBjbGFpbXM6IENsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xuICByZXR1cm4gdHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zWydhZG1pbiddID09PSB0cnVlO1xufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnM8VCBleHRlbmRzIG9iamVjdD4ob2JqOiBULCBrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVHZXQ8VCBleHRlbmRzIG9iamVjdCwgSyBleHRlbmRzIGtleW9mIFQ+KFxuICBvYmo6IFQsXG4gIGtleTogS1xuKTogVFtLXSB8IHVuZGVmaW5lZCB7XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHkob2JqOiBvYmplY3QpOiBvYmogaXMge30ge1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcDxLIGV4dGVuZHMgc3RyaW5nLCBWLCBVPihcbiAgb2JqOiB7IFtrZXkgaW4gS106IFYgfSxcbiAgZm46ICh2YWx1ZTogViwga2V5OiBLLCBvYmo6IHsgW2tleSBpbiBLXTogViB9KSA9PiBVLFxuICBjb250ZXh0T2JqPzogdW5rbm93blxuKTogeyBba2V5IGluIEtdOiBVIH0ge1xuICBjb25zdCByZXM6IFBhcnRpYWw8eyBba2V5IGluIEtdOiBVIH0+ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICByZXNba2V5XSA9IGZuLmNhbGwoY29udGV4dE9iaiwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcyBhcyB7IFtrZXkgaW4gS106IFUgfTtcbn1cblxuLyoqXG4gKiBEZWVwIGVxdWFsIHR3byBvYmplY3RzLiBTdXBwb3J0IEFycmF5cyBhbmQgT2JqZWN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBFcXVhbChhOiBvYmplY3QsIGI6IG9iamVjdCk6IGJvb2xlYW4ge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgY29uc3QgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcbiAgZm9yIChjb25zdCBrIG9mIGFLZXlzKSB7XG4gICAgaWYgKCFiS2V5cy5pbmNsdWRlcyhrKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGFQcm9wID0gKGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tdO1xuICAgIGNvbnN0IGJQcm9wID0gKGIgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW2tdO1xuICAgIGlmIChpc09iamVjdChhUHJvcCkgJiYgaXNPYmplY3QoYlByb3ApKSB7XG4gICAgICBpZiAoIWRlZXBFcXVhbChhUHJvcCwgYlByb3ApKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFQcm9wICE9PSBiUHJvcCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3QgayBvZiBiS2V5cykge1xuICAgIGlmICghYUtleXMuaW5jbHVkZXMoaykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KHRoaW5nOiB1bmtub3duKTogdGhpbmcgaXMgb2JqZWN0IHtcbiAgcmV0dXJuIHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCc7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRGVmZXJyZWQgfSBmcm9tICcuL2RlZmVycmVkJztcblxuLyoqXG4gKiBSZWplY3RzIGlmIHRoZSBnaXZlbiBwcm9taXNlIGRvZXNuJ3QgcmVzb2x2ZSBpbiB0aW1lSW5NUyBtaWxsaXNlY29uZHMuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb21pc2VXaXRoVGltZW91dDxUPihcbiAgcHJvbWlzZTogUHJvbWlzZTxUPixcbiAgdGltZUluTVMgPSAyMDAwXG4pOiBQcm9taXNlPFQ+IHtcbiAgY29uc3QgZGVmZXJyZWRQcm9taXNlID0gbmV3IERlZmVycmVkPFQ+KCk7XG4gIHNldFRpbWVvdXQoKCkgPT4gZGVmZXJyZWRQcm9taXNlLnJlamVjdCgndGltZW91dCEnKSwgdGltZUluTVMpO1xuICBwcm9taXNlLnRoZW4oZGVmZXJyZWRQcm9taXNlLnJlc29sdmUsIGRlZmVycmVkUHJvbWlzZS5yZWplY3QpO1xuICByZXR1cm4gZGVmZXJyZWRQcm9taXNlLnByb21pc2U7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIGEgcXVlcnlzdHJpbmctZm9ybWF0dGVkIHN0cmluZyAoZS5nLiAmYXJnPXZhbCZhcmcyPXZhbDIpIGZyb20gYVxuICogcGFyYW1zIG9iamVjdCAoZS5nLiB7YXJnOiAndmFsJywgYXJnMjogJ3ZhbDInfSlcbiAqIE5vdGU6IFlvdSBtdXN0IHByZXBlbmQgaXQgd2l0aCA/IHdoZW4gYWRkaW5nIGl0IHRvIGEgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlzdHJpbmcocXVlcnlzdHJpbmdQYXJhbXM6IHtcbiAgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyO1xufSk6IHN0cmluZyB7XG4gIGNvbnN0IHBhcmFtcyA9IFtdO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhxdWVyeXN0cmluZ1BhcmFtcykpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlLmZvckVhY2goYXJyYXlWYWwgPT4ge1xuICAgICAgICBwYXJhbXMucHVzaChcbiAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChhcnJheVZhbClcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFyYW1zLmxlbmd0aCA/ICcmJyArIHBhcmFtcy5qb2luKCcmJykgOiAnJztcbn1cblxuLyoqXG4gKiBEZWNvZGVzIGEgcXVlcnlzdHJpbmcgKGUuZy4gP2FyZz12YWwmYXJnMj12YWwyKSBpbnRvIGEgcGFyYW1zIG9iamVjdFxuICogKGUuZy4ge2FyZzogJ3ZhbCcsIGFyZzI6ICd2YWwyJ30pXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeXN0cmluZ0RlY29kZShxdWVyeXN0cmluZzogc3RyaW5nKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG4gIGNvbnN0IG9iajogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICBjb25zdCB0b2tlbnMgPSBxdWVyeXN0cmluZy5yZXBsYWNlKC9eXFw/LywgJycpLnNwbGl0KCcmJyk7XG5cbiAgdG9rZW5zLmZvckVhY2godG9rZW4gPT4ge1xuICAgIGlmICh0b2tlbikge1xuICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gdG9rZW4uc3BsaXQoJz0nKTtcbiAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQoa2V5KV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogRXh0cmFjdCB0aGUgcXVlcnkgc3RyaW5nIHBhcnQgb2YgYSBVUkwsIGluY2x1ZGluZyB0aGUgbGVhZGluZyBxdWVzdGlvbiBtYXJrIChpZiBwcmVzZW50KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RRdWVyeXN0cmluZyh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHF1ZXJ5U3RhcnQgPSB1cmwuaW5kZXhPZignPycpO1xuICBpZiAoIXF1ZXJ5U3RhcnQpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgY29uc3QgZnJhZ21lbnRTdGFydCA9IHVybC5pbmRleE9mKCcjJywgcXVlcnlTdGFydCk7XG4gIHJldHVybiB1cmwuc3Vic3RyaW5nKFxuICAgIHF1ZXJ5U3RhcnQsXG4gICAgZnJhZ21lbnRTdGFydCA+IDAgPyBmcmFnbWVudFN0YXJ0IDogdW5kZWZpbmVkXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNIQS0xIGNyeXB0b2dyYXBoaWMgaGFzaC5cbiAqIFZhcmlhYmxlIG5hbWVzIGZvbGxvdyB0aGUgbm90YXRpb24gaW4gRklQUyBQVUIgMTgwLTM6XG4gKiBodHRwOi8vY3NyYy5uaXN0Lmdvdi9wdWJsaWNhdGlvbnMvZmlwcy9maXBzMTgwLTMvZmlwczE4MC0zX2ZpbmFsLnBkZi5cbiAqXG4gKiBVc2FnZTpcbiAqICAgdmFyIHNoYTEgPSBuZXcgc2hhMSgpO1xuICogICBzaGExLnVwZGF0ZShieXRlcyk7XG4gKiAgIHZhciBoYXNoID0gc2hhMS5kaWdlc3QoKTtcbiAqXG4gKiBQZXJmb3JtYW5jZTpcbiAqICAgQ2hyb21lIDIzOiAgIH40MDAgTWJpdC9zXG4gKiAgIEZpcmVmb3ggMTY6ICB+MjUwIE1iaXQvc1xuICpcbiAqL1xuXG4vKipcbiAqIFNIQS0xIGNyeXB0b2dyYXBoaWMgaGFzaCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBUaGUgcHJvcGVydGllcyBkZWNsYXJlZCBoZXJlIGFyZSBkaXNjdXNzZWQgaW4gdGhlIGFib3ZlIGFsZ29yaXRobSBkb2N1bWVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGZpbmFsXG4gKiBAc3RydWN0XG4gKi9cbmV4cG9ydCBjbGFzcyBTaGExIHtcbiAgLyoqXG4gICAqIEhvbGRzIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgYWNjdW11bGF0ZWQgdmFyaWFibGVzIGEtZSBpbiB0aGUgY29tcHJlc3NfXG4gICAqIGZ1bmN0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBjaGFpbl86IG51bWJlcltdID0gW107XG5cbiAgLyoqXG4gICAqIEEgYnVmZmVyIGhvbGRpbmcgdGhlIHBhcnRpYWxseSBjb21wdXRlZCBoYXNoIHJlc3VsdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgYnVmXzogbnVtYmVyW10gPSBbXTtcblxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgODAgYnl0ZXMsIGVhY2ggYSBwYXJ0IG9mIHRoZSBtZXNzYWdlIHRvIGJlIGhhc2hlZC4gIFJlZmVycmVkIHRvXG4gICAqIGFzIHRoZSBtZXNzYWdlIHNjaGVkdWxlIGluIHRoZSBkb2NzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBXXzogbnVtYmVyW10gPSBbXTtcblxuICAvKipcbiAgICogQ29udGFpbnMgZGF0YSBuZWVkZWQgdG8gcGFkIG1lc3NhZ2VzIGxlc3MgdGhhbiA2NCBieXRlcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcGFkXzogbnVtYmVyW10gPSBbXTtcblxuICAvKipcbiAgICogQHByaXZhdGUge251bWJlcn1cbiAgICovXG4gIHByaXZhdGUgaW5idWZfOiBudW1iZXIgPSAwO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxuICAgKi9cbiAgcHJpdmF0ZSB0b3RhbF86IG51bWJlciA9IDA7XG5cbiAgYmxvY2tTaXplOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ibG9ja1NpemUgPSA1MTIgLyA4O1xuXG4gICAgdGhpcy5wYWRfWzBdID0gMTI4O1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5ibG9ja1NpemU7ICsraSkge1xuICAgICAgdGhpcy5wYWRfW2ldID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICByZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLmNoYWluX1swXSA9IDB4Njc0NTIzMDE7XG4gICAgdGhpcy5jaGFpbl9bMV0gPSAweGVmY2RhYjg5O1xuICAgIHRoaXMuY2hhaW5fWzJdID0gMHg5OGJhZGNmZTtcbiAgICB0aGlzLmNoYWluX1szXSA9IDB4MTAzMjU0NzY7XG4gICAgdGhpcy5jaGFpbl9bNF0gPSAweGMzZDJlMWYwO1xuXG4gICAgdGhpcy5pbmJ1Zl8gPSAwO1xuICAgIHRoaXMudG90YWxfID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCBjb21wcmVzcyBoZWxwZXIgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSBidWYgQmxvY2sgdG8gY29tcHJlc3MuXG4gICAqIEBwYXJhbSBvZmZzZXQgT2Zmc2V0IG9mIHRoZSBibG9jayBpbiB0aGUgYnVmZmVyLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29tcHJlc3NfKGJ1ZjogbnVtYmVyW10gfCBVaW50OEFycmF5IHwgc3RyaW5nLCBvZmZzZXQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBjb25zdCBXID0gdGhpcy5XXztcblxuICAgIC8vIGdldCAxNiBiaWcgZW5kaWFuIHdvcmRzXG4gICAgaWYgKHR5cGVvZiBidWYgPT09ICdzdHJpbmcnKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgLy8gVE9ETyh1c2VyKTogW2J1ZyA4MTQwMTIyXSBSZWNlbnQgdmVyc2lvbnMgb2YgU2FmYXJpIGZvciBNYWMgT1MgYW5kIGlPU1xuICAgICAgICAvLyBoYXZlIGEgYnVnIHRoYXQgdHVybnMgdGhlIHBvc3QtaW5jcmVtZW50ICsrIG9wZXJhdG9yIGludG8gcHJlLWluY3JlbWVudFxuICAgICAgICAvLyBkdXJpbmcgSklUIGNvbXBpbGF0aW9uLiAgV2UgaGF2ZSBjb2RlIHRoYXQgZGVwZW5kcyBoZWF2aWx5IG9uIFNIQS0xIGZvclxuICAgICAgICAvLyBjb3JyZWN0bmVzcyBhbmQgd2hpY2ggaXMgYWZmZWN0ZWQgYnkgdGhpcyBidWcsIHNvIEkndmUgcmVtb3ZlZCBhbGwgdXNlc1xuICAgICAgICAvLyBvZiBwb3N0LWluY3JlbWVudCArKyBpbiB3aGljaCB0aGUgcmVzdWx0IHZhbHVlIGlzIHVzZWQuICBXZSBjYW4gcmV2ZXJ0XG4gICAgICAgIC8vIHRoaXMgY2hhbmdlIG9uY2UgdGhlIFNhZmFyaSBidWdcbiAgICAgICAgLy8gKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDkwMzYpIGhhcyBiZWVuIGZpeGVkIGFuZFxuICAgICAgICAvLyBtb3N0IGNsaWVudHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXG4gICAgICAgIFdbaV0gPVxuICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQpIDw8IDI0KSB8XG4gICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDEpIDw8IDE2KSB8XG4gICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDIpIDw8IDgpIHxcbiAgICAgICAgICBidWYuY2hhckNvZGVBdChvZmZzZXQgKyAzKTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICBXW2ldID1cbiAgICAgICAgICAoYnVmW29mZnNldF0gPDwgMjQpIHxcbiAgICAgICAgICAoYnVmW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgICAgICAgKGJ1ZltvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgICAgICAgYnVmW29mZnNldCArIDNdO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBleHBhbmQgdG8gODAgd29yZHNcbiAgICBmb3IgKGxldCBpID0gMTY7IGkgPCA4MDsgaSsrKSB7XG4gICAgICBjb25zdCB0ID0gV1tpIC0gM10gXiBXW2kgLSA4XSBeIFdbaSAtIDE0XSBeIFdbaSAtIDE2XTtcbiAgICAgIFdbaV0gPSAoKHQgPDwgMSkgfCAodCA+Pj4gMzEpKSAmIDB4ZmZmZmZmZmY7XG4gICAgfVxuXG4gICAgbGV0IGEgPSB0aGlzLmNoYWluX1swXTtcbiAgICBsZXQgYiA9IHRoaXMuY2hhaW5fWzFdO1xuICAgIGxldCBjID0gdGhpcy5jaGFpbl9bMl07XG4gICAgbGV0IGQgPSB0aGlzLmNoYWluX1szXTtcbiAgICBsZXQgZSA9IHRoaXMuY2hhaW5fWzRdO1xuICAgIGxldCBmLCBrO1xuXG4gICAgLy8gVE9ETyh1c2VyKTogVHJ5IHRvIHVucm9sbCB0aGlzIGxvb3AgdG8gc3BlZWQgdXAgdGhlIGNvbXB1dGF0aW9uLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODA7IGkrKykge1xuICAgICAgaWYgKGkgPCA0MCkge1xuICAgICAgICBpZiAoaSA8IDIwKSB7XG4gICAgICAgICAgZiA9IGQgXiAoYiAmIChjIF4gZCkpO1xuICAgICAgICAgIGsgPSAweDVhODI3OTk5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGYgPSBiIF4gYyBeIGQ7XG4gICAgICAgICAgayA9IDB4NmVkOWViYTE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpIDwgNjApIHtcbiAgICAgICAgICBmID0gKGIgJiBjKSB8IChkICYgKGIgfCBjKSk7XG4gICAgICAgICAgayA9IDB4OGYxYmJjZGM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZiA9IGIgXiBjIF4gZDtcbiAgICAgICAgICBrID0gMHhjYTYyYzFkNjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB0ID0gKCgoYSA8PCA1KSB8IChhID4+PiAyNykpICsgZiArIGUgKyBrICsgV1tpXSkgJiAweGZmZmZmZmZmO1xuICAgICAgZSA9IGQ7XG4gICAgICBkID0gYztcbiAgICAgIGMgPSAoKGIgPDwgMzApIHwgKGIgPj4+IDIpKSAmIDB4ZmZmZmZmZmY7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSB0O1xuICAgIH1cblxuICAgIHRoaXMuY2hhaW5fWzBdID0gKHRoaXMuY2hhaW5fWzBdICsgYSkgJiAweGZmZmZmZmZmO1xuICAgIHRoaXMuY2hhaW5fWzFdID0gKHRoaXMuY2hhaW5fWzFdICsgYikgJiAweGZmZmZmZmZmO1xuICAgIHRoaXMuY2hhaW5fWzJdID0gKHRoaXMuY2hhaW5fWzJdICsgYykgJiAweGZmZmZmZmZmO1xuICAgIHRoaXMuY2hhaW5fWzNdID0gKHRoaXMuY2hhaW5fWzNdICsgZCkgJiAweGZmZmZmZmZmO1xuICAgIHRoaXMuY2hhaW5fWzRdID0gKHRoaXMuY2hhaW5fWzRdICsgZSkgJiAweGZmZmZmZmZmO1xuICB9XG5cbiAgdXBkYXRlKGJ5dGVzPzogbnVtYmVyW10gfCBVaW50OEFycmF5IHwgc3RyaW5nLCBsZW5ndGg/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBUT0RPKGpvaG5sZW56KTogdGlnaHRlbiB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIGFuZCByZW1vdmUgdGhpcyBjaGVja1xuICAgIGlmIChieXRlcyA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZW5ndGggPSBieXRlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc3QgbGVuZ3RoTWludXNCbG9jayA9IGxlbmd0aCAtIHRoaXMuYmxvY2tTaXplO1xuICAgIGxldCBuID0gMDtcbiAgICAvLyBVc2luZyBsb2NhbCBpbnN0ZWFkIG9mIG1lbWJlciB2YXJpYWJsZXMgZ2l2ZXMgfjUlIHNwZWVkdXAgb24gRmlyZWZveCAxNi5cbiAgICBjb25zdCBidWYgPSB0aGlzLmJ1Zl87XG4gICAgbGV0IGluYnVmID0gdGhpcy5pbmJ1Zl87XG5cbiAgICAvLyBUaGUgb3V0ZXIgd2hpbGUgbG9vcCBzaG91bGQgZXhlY3V0ZSBhdCBtb3N0IHR3aWNlLlxuICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XG4gICAgICAvLyBXaGVuIHdlIGhhdmUgbm8gZGF0YSBpbiB0aGUgYmxvY2sgdG8gdG9wIHVwLCB3ZSBjYW4gZGlyZWN0bHkgcHJvY2VzcyB0aGVcbiAgICAgIC8vIGlucHV0IGJ1ZmZlciAoYXNzdW1pbmcgaXQgY29udGFpbnMgc3VmZmljaWVudCBkYXRhKS4gVGhpcyBnaXZlcyB+MjUlXG4gICAgICAvLyBzcGVlZHVwIG9uIENocm9tZSAyMyBhbmQgfjE1JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYsIGJ1dCByZXF1aXJlcyB0aGF0XG4gICAgICAvLyB0aGUgZGF0YSBpcyBwcm92aWRlZCBpbiBsYXJnZSBjaHVua3MgKG9yIGluIG11bHRpcGxlcyBvZiA2NCBieXRlcykuXG4gICAgICBpZiAoaW5idWYgPT09IDApIHtcbiAgICAgICAgd2hpbGUgKG4gPD0gbGVuZ3RoTWludXNCbG9jaykge1xuICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ5dGVzLCBuKTtcbiAgICAgICAgICBuICs9IHRoaXMuYmxvY2tTaXplO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzLmNoYXJDb2RlQXQobik7XG4gICAgICAgICAgKytpbmJ1ZjtcbiAgICAgICAgICArK247XG4gICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnVmKTtcbiAgICAgICAgICAgIGluYnVmID0gMDtcbiAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcbiAgICAgICAgICBidWZbaW5idWZdID0gYnl0ZXNbbl07XG4gICAgICAgICAgKytpbmJ1ZjtcbiAgICAgICAgICArK247XG4gICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnVmKTtcbiAgICAgICAgICAgIGluYnVmID0gMDtcbiAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaW5idWZfID0gaW5idWY7XG4gICAgdGhpcy50b3RhbF8gKz0gbGVuZ3RoO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBkaWdlc3QoKTogbnVtYmVyW10ge1xuICAgIGNvbnN0IGRpZ2VzdDogbnVtYmVyW10gPSBbXTtcbiAgICBsZXQgdG90YWxCaXRzID0gdGhpcy50b3RhbF8gKiA4O1xuXG4gICAgLy8gQWRkIHBhZCAweDgwIDB4MDAqLlxuICAgIGlmICh0aGlzLmluYnVmXyA8IDU2KSB7XG4gICAgICB0aGlzLnVwZGF0ZSh0aGlzLnBhZF8sIDU2IC0gdGhpcy5pbmJ1Zl8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZSh0aGlzLnBhZF8sIHRoaXMuYmxvY2tTaXplIC0gKHRoaXMuaW5idWZfIC0gNTYpKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgIyBiaXRzLlxuICAgIGZvciAobGV0IGkgPSB0aGlzLmJsb2NrU2l6ZSAtIDE7IGkgPj0gNTY7IGktLSkge1xuICAgICAgdGhpcy5idWZfW2ldID0gdG90YWxCaXRzICYgMjU1O1xuICAgICAgdG90YWxCaXRzIC89IDI1NjsgLy8gRG9uJ3QgdXNlIGJpdC1zaGlmdGluZyBoZXJlIVxuICAgIH1cblxuICAgIHRoaXMuY29tcHJlc3NfKHRoaXMuYnVmXyk7XG5cbiAgICBsZXQgbiA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAyNDsgaiA+PSAwOyBqIC09IDgpIHtcbiAgICAgICAgZGlnZXN0W25dID0gKHRoaXMuY2hhaW5fW2ldID4+IGopICYgMjU1O1xuICAgICAgICArK247XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWdlc3Q7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IHR5cGUgTmV4dEZuPFQ+ID0gKHZhbHVlOiBUKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgRXJyb3JGbiA9IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBDb21wbGV0ZUZuID0gKCkgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZlcjxUPiB7XG4gIC8vIENhbGxlZCBvbmNlIGZvciBlYWNoIHZhbHVlIGluIGEgc3RyZWFtIG9mIHZhbHVlcy5cbiAgbmV4dDogTmV4dEZuPFQ+O1xuXG4gIC8vIEEgc3RyZWFtIHRlcm1pbmF0ZXMgYnkgYSBzaW5nbGUgY2FsbCB0byBFSVRIRVIgZXJyb3IoKSBvciBjb21wbGV0ZSgpLlxuICBlcnJvcjogRXJyb3JGbjtcblxuICAvLyBObyBldmVudHMgd2lsbCBiZSBzZW50IHRvIG5leHQoKSBvbmNlIGNvbXBsZXRlKCkgaXMgY2FsbGVkLlxuICBjb21wbGV0ZTogQ29tcGxldGVGbjtcbn1cblxuZXhwb3J0IHR5cGUgUGFydGlhbE9ic2VydmVyPFQ+ID0gUGFydGlhbDxPYnNlcnZlcjxUPj47XG5cbi8vIFRPRE86IFN1cHBvcnQgYWxzbyBVbnN1YnNjcmliZS51bnN1YnNjcmliZT9cbmV4cG9ydCB0eXBlIFVuc3Vic2NyaWJlID0gKCkgPT4gdm9pZDtcblxuLyoqXG4gKiBUaGUgU3Vic2NyaWJlIGludGVyZmFjZSBoYXMgdHdvIGZvcm1zIC0gcGFzc2luZyB0aGUgaW5saW5lIGZ1bmN0aW9uXG4gKiBjYWxsYmFja3MsIG9yIGEgb2JqZWN0IGludGVyZmFjZSB3aXRoIGNhbGxiYWNrIHByb3BlcnRpZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3Vic2NyaWJlPFQ+IHtcbiAgKG5leHQ/OiBOZXh0Rm48VD4sIGVycm9yPzogRXJyb3JGbiwgY29tcGxldGU/OiBDb21wbGV0ZUZuKTogVW5zdWJzY3JpYmU7XG4gIChvYnNlcnZlcjogUGFydGlhbE9ic2VydmVyPFQ+KTogVW5zdWJzY3JpYmU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JzZXJ2YWJsZTxUPiB7XG4gIC8vIFN1YnNjcmliZSBtZXRob2RcbiAgc3Vic2NyaWJlOiBTdWJzY3JpYmU8VD47XG59XG5cbmV4cG9ydCB0eXBlIEV4ZWN1dG9yPFQ+ID0gKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4gdm9pZDtcblxuLyoqXG4gKiBIZWxwZXIgdG8gbWFrZSBhIFN1YnNjcmliZSBmdW5jdGlvbiAoanVzdCBsaWtlIFByb21pc2UgaGVscHMgbWFrZSBhXG4gKiBUaGVuYWJsZSkuXG4gKlxuICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXG4gKiAgICAgYXMgYSBwcm94eS5cbiAqIEBwYXJhbSBvbk5vT2JzZXJ2ZXJzIENhbGxiYWNrIHdoZW4gY291bnQgb2YgT2JzZXJ2ZXJzIGdvZXMgdG8gemVyby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmliZTxUPihcbiAgZXhlY3V0b3I6IEV4ZWN1dG9yPFQ+LFxuICBvbk5vT2JzZXJ2ZXJzPzogRXhlY3V0b3I8VD5cbik6IFN1YnNjcmliZTxUPiB7XG4gIGNvbnN0IHByb3h5ID0gbmV3IE9ic2VydmVyUHJveHk8VD4oZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpO1xuICByZXR1cm4gcHJveHkuc3Vic2NyaWJlLmJpbmQocHJveHkpO1xufVxuXG4vKipcbiAqIEltcGxlbWVudCBmYW4tb3V0IGZvciBhbnkgbnVtYmVyIG9mIE9ic2VydmVycyBhdHRhY2hlZCB2aWEgYSBzdWJzY3JpYmVcbiAqIGZ1bmN0aW9uLlxuICovXG5jbGFzcyBPYnNlcnZlclByb3h5PFQ+IGltcGxlbWVudHMgT2JzZXJ2ZXI8VD4ge1xuICBwcml2YXRlIG9ic2VydmVyczogQXJyYXk8T2JzZXJ2ZXI8VD4+IHwgdW5kZWZpbmVkID0gW107XG4gIHByaXZhdGUgdW5zdWJzY3JpYmVzOiBVbnN1YnNjcmliZVtdID0gW107XG4gIHByaXZhdGUgb25Ob09ic2VydmVyczogRXhlY3V0b3I8VD4gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgb2JzZXJ2ZXJDb3VudCA9IDA7XG4gIC8vIE1pY3JvLXRhc2sgc2NoZWR1bGluZyBieSBjYWxsaW5nIHRhc2sudGhlbigpLlxuICBwcml2YXRlIHRhc2sgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgcHJpdmF0ZSBmaW5hbGl6ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBmaW5hbEVycm9yPzogRXJyb3I7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBleGVjdXRvciBGdW5jdGlvbiB3aGljaCBjYW4gbWFrZSBjYWxscyB0byBhIHNpbmdsZSBPYnNlcnZlclxuICAgKiAgICAgYXMgYSBwcm94eS5cbiAgICogQHBhcmFtIG9uTm9PYnNlcnZlcnMgQ2FsbGJhY2sgd2hlbiBjb3VudCBvZiBPYnNlcnZlcnMgZ29lcyB0byB6ZXJvLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZXhlY3V0b3I6IEV4ZWN1dG9yPFQ+LCBvbk5vT2JzZXJ2ZXJzPzogRXhlY3V0b3I8VD4pIHtcbiAgICB0aGlzLm9uTm9PYnNlcnZlcnMgPSBvbk5vT2JzZXJ2ZXJzO1xuICAgIC8vIENhbGwgdGhlIGV4ZWN1dG9yIGFzeW5jaHJvbm91c2x5IHNvIHN1YnNjcmliZXJzIHRoYXQgYXJlIGNhbGxlZFxuICAgIC8vIHN5bmNocm9ub3VzbHkgYWZ0ZXIgdGhlIGNyZWF0aW9uIG9mIHRoZSBzdWJzY3JpYmUgZnVuY3Rpb25cbiAgICAvLyBjYW4gc3RpbGwgcmVjZWl2ZSB0aGUgdmVyeSBmaXJzdCB2YWx1ZSBnZW5lcmF0ZWQgaW4gdGhlIGV4ZWN1dG9yLlxuICAgIHRoaXMudGFza1xuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBleGVjdXRvcih0aGlzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgIHRoaXMuZXJyb3IoZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIG5leHQodmFsdWU6IFQpOiB2b2lkIHtcbiAgICB0aGlzLmZvckVhY2hPYnNlcnZlcigob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSA9PiB7XG4gICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVycm9yKGVycm9yOiBFcnJvcik6IHZvaWQge1xuICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHtcbiAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgICB0aGlzLmNsb3NlKGVycm9yKTtcbiAgfVxuXG4gIGNvbXBsZXRlKCk6IHZvaWQge1xuICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHtcbiAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGFkZCBhbiBPYnNlcnZlciB0byB0aGUgZmFuLW91dCBsaXN0LlxuICAgKlxuICAgKiAtIFdlIHJlcXVpcmUgdGhhdCBubyBldmVudCBpcyBzZW50IHRvIGEgc3Vic2NyaWJlciBzeW5jaHJvbm91c2x5IHRvIHRoZWlyXG4gICAqICAgY2FsbCB0byBzdWJzY3JpYmUoKS5cbiAgICovXG4gIHN1YnNjcmliZShcbiAgICBuZXh0T3JPYnNlcnZlcj86IE5leHRGbjxUPiB8IFBhcnRpYWxPYnNlcnZlcjxUPixcbiAgICBlcnJvcj86IEVycm9yRm4sXG4gICAgY29tcGxldGU/OiBDb21wbGV0ZUZuXG4gICk6IFVuc3Vic2NyaWJlIHtcbiAgICBsZXQgb2JzZXJ2ZXI6IE9ic2VydmVyPFQ+O1xuXG4gICAgaWYgKFxuICAgICAgbmV4dE9yT2JzZXJ2ZXIgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgZXJyb3IgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgY29tcGxldGUgPT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIE9ic2VydmVyLicpO1xuICAgIH1cblxuICAgIC8vIEFzc2VtYmxlIGFuIE9ic2VydmVyIG9iamVjdCB3aGVuIHBhc3NlZCBhcyBjYWxsYmFjayBmdW5jdGlvbnMuXG4gICAgaWYgKFxuICAgICAgaW1wbGVtZW50c0FueU1ldGhvZHMobmV4dE9yT2JzZXJ2ZXIgYXMgeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH0sIFtcbiAgICAgICAgJ25leHQnLFxuICAgICAgICAnZXJyb3InLFxuICAgICAgICAnY29tcGxldGUnXG4gICAgICBdKVxuICAgICkge1xuICAgICAgb2JzZXJ2ZXIgPSBuZXh0T3JPYnNlcnZlciBhcyBPYnNlcnZlcjxUPjtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JzZXJ2ZXIgPSB7XG4gICAgICAgIG5leHQ6IG5leHRPck9ic2VydmVyIGFzIE5leHRGbjxUPixcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGNvbXBsZXRlXG4gICAgICB9IGFzIE9ic2VydmVyPFQ+O1xuICAgIH1cblxuICAgIGlmIChvYnNlcnZlci5uZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9ic2VydmVyLm5leHQgPSBub29wIGFzIE5leHRGbjxUPjtcbiAgICB9XG4gICAgaWYgKG9ic2VydmVyLmVycm9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9ic2VydmVyLmVycm9yID0gbm9vcCBhcyBFcnJvckZuO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2ZXIuY29tcGxldGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgb2JzZXJ2ZXIuY29tcGxldGUgPSBub29wIGFzIENvbXBsZXRlRm47XG4gICAgfVxuXG4gICAgY29uc3QgdW5zdWIgPSB0aGlzLnVuc3Vic2NyaWJlT25lLmJpbmQodGhpcywgdGhpcy5vYnNlcnZlcnMhLmxlbmd0aCk7XG5cbiAgICAvLyBBdHRlbXB0IHRvIHN1YnNjcmliZSB0byBhIHRlcm1pbmF0ZWQgT2JzZXJ2YWJsZSAtIHdlXG4gICAgLy8ganVzdCByZXNwb25kIHRvIHRoZSBPYnNlcnZlciB3aXRoIHRoZSBmaW5hbCBlcnJvciBvciBjb21wbGV0ZVxuICAgIC8vIGV2ZW50LlxuICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgdGhpcy50YXNrLnRoZW4oKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0aGlzLmZpbmFsRXJyb3IpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKHRoaXMuZmluYWxFcnJvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gbm90aGluZ1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMub2JzZXJ2ZXJzIS5wdXNoKG9ic2VydmVyIGFzIE9ic2VydmVyPFQ+KTtcblxuICAgIHJldHVybiB1bnN1YjtcbiAgfVxuXG4gIC8vIFVuc3Vic2NyaWJlIGlzIHN5bmNocm9ub3VzIC0gd2UgZ3VhcmFudGVlIHRoYXQgbm8gZXZlbnRzIGFyZSBzZW50IHRvXG4gIC8vIGFueSB1bnN1YnNjcmliZWQgT2JzZXJ2ZXIuXG4gIHByaXZhdGUgdW5zdWJzY3JpYmVPbmUoaTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXJzID09PSB1bmRlZmluZWQgfHwgdGhpcy5vYnNlcnZlcnNbaV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tpXTtcblxuICAgIHRoaXMub2JzZXJ2ZXJDb3VudCAtPSAxO1xuICAgIGlmICh0aGlzLm9ic2VydmVyQ291bnQgPT09IDAgJiYgdGhpcy5vbk5vT2JzZXJ2ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub25Ob09ic2VydmVycyh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZvckVhY2hPYnNlcnZlcihmbjogKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xuICAgICAgLy8gQWxyZWFkeSBjbG9zZWQgYnkgcHJldmlvdXMgZXZlbnQuLi4uanVzdCBlYXQgdGhlIGFkZGl0aW9uYWwgdmFsdWVzLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNpbmNlIHNlbmRPbmUgY2FsbHMgYXN5bmNocm9ub3VzbHkgLSB0aGVyZSBpcyBubyBjaGFuY2UgdGhhdFxuICAgIC8vIHRoaXMub2JzZXJ2ZXJzIHdpbGwgYmVjb21lIHVuZGVmaW5lZC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzIS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zZW5kT25lKGksIGZuKTtcbiAgICB9XG4gIH1cblxuICAvLyBDYWxsIHRoZSBPYnNlcnZlciB2aWEgb25lIG9mIGl0J3MgY2FsbGJhY2sgZnVuY3Rpb24uIFdlIGFyZSBjYXJlZnVsIHRvXG4gIC8vIGNvbmZpcm0gdGhhdCB0aGUgb2JzZXJ2ZSBoYXMgbm90IGJlZW4gdW5zdWJzY3JpYmVkIHNpbmNlIHRoaXMgYXN5bmNocm9ub3VzXG4gIC8vIGZ1bmN0aW9uIGhhZCBiZWVuIHF1ZXVlZC5cbiAgcHJpdmF0ZSBzZW5kT25lKGk6IG51bWJlciwgZm46IChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHZvaWQpOiB2b2lkIHtcbiAgICAvLyBFeGVjdXRlIHRoZSBjYWxsYmFjayBhc3luY2hyb25vdXNseVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcbiAgICB0aGlzLnRhc2sudGhlbigoKSA9PiB7XG4gICAgICBpZiAodGhpcy5vYnNlcnZlcnMgIT09IHVuZGVmaW5lZCAmJiB0aGlzLm9ic2VydmVyc1tpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm4odGhpcy5vYnNlcnZlcnNbaV0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gSWdub3JlIGV4Y2VwdGlvbnMgcmFpc2VkIGluIE9ic2VydmVycyBvciBtaXNzaW5nIG1ldGhvZHMgb2YgYW5cbiAgICAgICAgICAvLyBPYnNlcnZlci5cbiAgICAgICAgICAvLyBMb2cgZXJyb3IgdG8gY29uc29sZS4gYi8zMTQwNDgwNlxuICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS5lcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY2xvc2UoZXJyPzogRXJyb3IpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5maW5hbEVycm9yID0gZXJyO1xuICAgIH1cbiAgICAvLyBQcm94eSBpcyBubyBsb25nZXIgbmVlZGVkIC0gZ2FyYmFnZSBjb2xsZWN0IHJlZmVyZW5jZXNcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgdGhpcy50YXNrLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5vYnNlcnZlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLm9uTm9PYnNlcnZlcnMgPSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIFR1cm4gc3luY2hyb25vdXMgZnVuY3Rpb24gaW50byBvbmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5LiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmV4cG9ydCBmdW5jdGlvbiBhc3luYyhmbjogRnVuY3Rpb24sIG9uRXJyb3I/OiBFcnJvckZuKTogRnVuY3Rpb24ge1xuICByZXR1cm4gKC4uLmFyZ3M6IHVua25vd25bXSkgPT4ge1xuICAgIFByb21pc2UucmVzb2x2ZSh0cnVlKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmbiguLi5hcmdzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yOiBFcnJvcikgPT4ge1xuICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgb2JqZWN0IHBhc3NlZCBpbiBpbXBsZW1lbnRzIGFueSBvZiB0aGUgbmFtZWQgbWV0aG9kcy5cbiAqL1xuZnVuY3Rpb24gaW1wbGVtZW50c0FueU1ldGhvZHMoXG4gIG9iajogeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH0sXG4gIG1ldGhvZHM6IHN0cmluZ1tdXG4pOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAoY29uc3QgbWV0aG9kIG9mIG1ldGhvZHMpIHtcbiAgICBpZiAobWV0aG9kIGluIG9iaiAmJiB0eXBlb2Ygb2JqW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpOiB2b2lkIHtcbiAgLy8gZG8gbm90aGluZ1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQ2hlY2sgdG8gbWFrZSBzdXJlIHRoZSBhcHByb3ByaWF0ZSBudW1iZXIgb2YgYXJndW1lbnRzIGFyZSBwcm92aWRlZCBmb3IgYSBwdWJsaWMgZnVuY3Rpb24uXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgaXQgZmFpbHMuXG4gKlxuICogQHBhcmFtIGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxuICogQHBhcmFtIG1pbkNvdW50IFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgdG8gYWxsb3cgZm9yIHRoZSBmdW5jdGlvbiBjYWxsXG4gKiBAcGFyYW0gbWF4Q291bnQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50IHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxuICogQHBhcmFtIGFyZ0NvdW50IFRoZSBhY3R1YWwgbnVtYmVyIG9mIGFyZ3VtZW50cyBwcm92aWRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQXJnQ291bnQgPSBmdW5jdGlvbiAoXG4gIGZuTmFtZTogc3RyaW5nLFxuICBtaW5Db3VudDogbnVtYmVyLFxuICBtYXhDb3VudDogbnVtYmVyLFxuICBhcmdDb3VudDogbnVtYmVyXG4pOiB2b2lkIHtcbiAgbGV0IGFyZ0Vycm9yO1xuICBpZiAoYXJnQ291bnQgPCBtaW5Db3VudCkge1xuICAgIGFyZ0Vycm9yID0gJ2F0IGxlYXN0ICcgKyBtaW5Db3VudDtcbiAgfSBlbHNlIGlmIChhcmdDb3VudCA+IG1heENvdW50KSB7XG4gICAgYXJnRXJyb3IgPSBtYXhDb3VudCA9PT0gMCA/ICdub25lJyA6ICdubyBtb3JlIHRoYW4gJyArIG1heENvdW50O1xuICB9XG4gIGlmIChhcmdFcnJvcikge1xuICAgIGNvbnN0IGVycm9yID1cbiAgICAgIGZuTmFtZSArXG4gICAgICAnIGZhaWxlZDogV2FzIGNhbGxlZCB3aXRoICcgK1xuICAgICAgYXJnQ291bnQgK1xuICAgICAgKGFyZ0NvdW50ID09PSAxID8gJyBhcmd1bWVudC4nIDogJyBhcmd1bWVudHMuJykgK1xuICAgICAgJyBFeHBlY3RzICcgK1xuICAgICAgYXJnRXJyb3IgK1xuICAgICAgJy4nO1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgc3RyaW5nIHRvIHByZWZpeCBhbiBlcnJvciBtZXNzYWdlIGFib3V0IGZhaWxlZCBhcmd1bWVudCB2YWxpZGF0aW9uXG4gKlxuICogQHBhcmFtIGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxuICogQHBhcmFtIGFyZ05hbWUgVGhlIG5hbWUgb2YgdGhlIGFyZ3VtZW50XG4gKiBAcmV0dXJuIFRoZSBwcmVmaXggdG8gYWRkIHRvIHRoZSBlcnJvciB0aHJvd24gZm9yIHZhbGlkYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcnJvclByZWZpeChmbk5hbWU6IHN0cmluZywgYXJnTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke2ZuTmFtZX0gZmFpbGVkOiAke2FyZ05hbWV9IGFyZ3VtZW50IGA7XG59XG5cbi8qKlxuICogQHBhcmFtIGZuTmFtZVxuICogQHBhcmFtIGFyZ3VtZW50TnVtYmVyXG4gKiBAcGFyYW0gbmFtZXNwYWNlXG4gKiBAcGFyYW0gb3B0aW9uYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTmFtZXNwYWNlKFxuICBmbk5hbWU6IHN0cmluZyxcbiAgbmFtZXNwYWNlOiBzdHJpbmcsXG4gIG9wdGlvbmFsOiBib29sZWFuXG4pOiB2b2lkIHtcbiAgaWYgKG9wdGlvbmFsICYmICFuYW1lc3BhY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgIT09ICdzdHJpbmcnKSB7XG4gICAgLy9UT0RPOiBJIHNob3VsZCBkbyBtb3JlIHZhbGlkYXRpb24gaGVyZS4gV2Ugb25seSBhbGxvdyBjZXJ0YWluIGNoYXJzIGluIG5hbWVzcGFjZXMuXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZXJyb3JQcmVmaXgoZm5OYW1lLCAnbmFtZXNwYWNlJykgKyAnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIG5hbWVzcGFjZS4nXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDYWxsYmFjayhcbiAgZm5OYW1lOiBzdHJpbmcsXG4gIGFyZ3VtZW50TmFtZTogc3RyaW5nLFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuICBjYWxsYmFjazogRnVuY3Rpb24sXG4gIG9wdGlvbmFsOiBib29sZWFuXG4pOiB2b2lkIHtcbiAgaWYgKG9wdGlvbmFsICYmICFjYWxsYmFjaykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE5hbWUpICsgJ211c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi4nXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0T2JqZWN0KFxuICBmbk5hbWU6IHN0cmluZyxcbiAgYXJndW1lbnROYW1lOiBzdHJpbmcsXG4gIGNvbnRleHQ6IHVua25vd24sXG4gIG9wdGlvbmFsOiBib29sZWFuXG4pOiB2b2lkIHtcbiAgaWYgKG9wdGlvbmFsICYmICFjb250ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgY29udGV4dCAhPT0gJ29iamVjdCcgfHwgY29udGV4dCA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGVycm9yUHJlZml4KGZuTmFtZSwgYXJndW1lbnROYW1lKSArICdtdXN0IGJlIGEgdmFsaWQgY29udGV4dCBvYmplY3QuJ1xuICAgICk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuL2Fzc2VydCc7XG5cbi8vIENvZGUgb3JpZ2luYWxseSBjYW1lIGZyb20gZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXksIGJ1dCBmb3Igc29tZSByZWFzb24gdGhleVxuLy8gYXV0b21hdGljYWxseSByZXBsYWNlZCAnXFxyXFxuJyB3aXRoICdcXG4nLCBhbmQgdGhleSBkaWRuJ3QgaGFuZGxlIHN1cnJvZ2F0ZSBwYWlycyxcbi8vIHNvIGl0J3MgYmVlbiBtb2RpZmllZC5cblxuLy8gTm90ZSB0aGF0IG5vdCBhbGwgVW5pY29kZSBjaGFyYWN0ZXJzIGFwcGVhciBhcyBzaW5nbGUgY2hhcmFjdGVycyBpbiBKYXZhU2NyaXB0IHN0cmluZ3MuXG4vLyBmcm9tQ2hhckNvZGUgcmV0dXJucyB0aGUgVVRGLTE2IGVuY29kaW5nIG9mIGEgY2hhcmFjdGVyIC0gc28gc29tZSBVbmljb2RlIGNoYXJhY3RlcnNcbi8vIHVzZSAyIGNoYXJhY3RlcnMgaW4gSmF2YVNjcmlwdC4gIEFsbCA0LWJ5dGUgVVRGLTggY2hhcmFjdGVycyBiZWdpbiB3aXRoIGEgZmlyc3Rcbi8vIGNoYXJhY3RlciBpbiB0aGUgcmFuZ2UgMHhEODAwIC0gMHhEQkZGICh0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc28tY2FsbGVkIHN1cnJvZ2F0ZVxuLy8gcGFpcikuXG4vLyBTZWUgaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTE1LjEuM1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5leHBvcnQgY29uc3Qgc3RyaW5nVG9CeXRlQXJyYXkgPSBmdW5jdGlvbiAoc3RyOiBzdHJpbmcpOiBudW1iZXJbXSB7XG4gIGNvbnN0IG91dDogbnVtYmVyW10gPSBbXTtcbiAgbGV0IHAgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAvLyBJcyB0aGlzIHRoZSBsZWFkIHN1cnJvZ2F0ZSBpbiBhIHN1cnJvZ2F0ZSBwYWlyP1xuICAgIGlmIChjID49IDB4ZDgwMCAmJiBjIDw9IDB4ZGJmZikge1xuICAgICAgY29uc3QgaGlnaCA9IGMgLSAweGQ4MDA7IC8vIHRoZSBoaWdoIDEwIGJpdHMuXG4gICAgICBpKys7XG4gICAgICBhc3NlcnQoaSA8IHN0ci5sZW5ndGgsICdTdXJyb2dhdGUgcGFpciBtaXNzaW5nIHRyYWlsIHN1cnJvZ2F0ZS4nKTtcbiAgICAgIGNvbnN0IGxvdyA9IHN0ci5jaGFyQ29kZUF0KGkpIC0gMHhkYzAwOyAvLyB0aGUgbG93IDEwIGJpdHMuXG4gICAgICBjID0gMHgxMDAwMCArIChoaWdoIDw8IDEwKSArIGxvdztcbiAgICB9XG5cbiAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgb3V0W3ArK10gPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA8IDIwNDgpIHtcbiAgICAgIG91dFtwKytdID0gKGMgPj4gNikgfCAxOTI7XG4gICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xuICAgIH0gZWxzZSBpZiAoYyA8IDY1NTM2KSB7XG4gICAgICBvdXRbcCsrXSA9IChjID4+IDEyKSB8IDIyNDtcbiAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xuICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XG4gICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XG4gICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcbiAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSBsZW5ndGggd2l0aG91dCBhY3R1YWxseSBjb252ZXJ0aW5nOyB1c2VmdWwgZm9yIGRvaW5nIGNoZWFwZXIgdmFsaWRhdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IHN0cmluZ0xlbmd0aCA9IGZ1bmN0aW9uIChzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gIGxldCBwID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGMgPCAxMjgpIHtcbiAgICAgIHArKztcbiAgICB9IGVsc2UgaWYgKGMgPCAyMDQ4KSB7XG4gICAgICBwICs9IDI7XG4gICAgfSBlbHNlIGlmIChjID49IDB4ZDgwMCAmJiBjIDw9IDB4ZGJmZikge1xuICAgICAgLy8gTGVhZCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpci4gIFRoZSBwYWlyIHRvZ2V0aGVyIHdpbGwgdGFrZSA0IGJ5dGVzIHRvIHJlcHJlc2VudC5cbiAgICAgIHAgKz0gNDtcbiAgICAgIGkrKzsgLy8gc2tpcCB0cmFpbCBzdXJyb2dhdGUuXG4gICAgfSBlbHNlIHtcbiAgICAgIHAgKz0gMztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHA7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQ29waWVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjNcbiAqIEdlbmVyYXRlcyBhIG5ldyB1dWlkLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdXVpZHY0ID0gZnVuY3Rpb24gKCk6IHN0cmluZyB7XG4gIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGMgPT4ge1xuICAgIGNvbnN0IHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXG4gICAgICB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFRoZSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHRvIGV4cG9uZW50aWFsbHkgaW5jcmVhc2UuXG4gKi9cbmNvbnN0IERFRkFVTFRfSU5URVJWQUxfTUlMTElTID0gMTAwMDtcblxuLyoqXG4gKiBUaGUgZmFjdG9yIHRvIGJhY2tvZmYgYnkuXG4gKiBTaG91bGQgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDEuXG4gKi9cbmNvbnN0IERFRkFVTFRfQkFDS09GRl9GQUNUT1IgPSAyO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0byBpbmNyZWFzZSB0by5cbiAqXG4gKiA8cD5WaXNpYmxlIGZvciB0ZXN0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBNQVhfVkFMVUVfTUlMTElTID0gNCAqIDYwICogNjAgKiAxMDAwOyAvLyBGb3VyIGhvdXJzLCBsaWtlIGlPUyBhbmQgQW5kcm9pZC5cblxuLyoqXG4gKiBUaGUgcGVyY2VudGFnZSBvZiBiYWNrb2ZmIHRpbWUgdG8gcmFuZG9taXplIGJ5LlxuICogU2VlXG4gKiBodHRwOi8vZ28vc2FmZS1jbGllbnQtYmVoYXZpb3Ijc3RlcC0xLWRldGVybWluZS10aGUtYXBwcm9wcmlhdGUtcmV0cnktaW50ZXJ2YWwtdG8taGFuZGxlLXNwaWtlLXRyYWZmaWNcbiAqIGZvciBjb250ZXh0LlxuICpcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IFJBTkRPTV9GQUNUT1IgPSAwLjU7XG5cbi8qKlxuICogQmFzZWQgb24gdGhlIGJhY2tvZmYgbWV0aG9kIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L2Jsb2IvbWFzdGVyL2Nsb3N1cmUvZ29vZy9tYXRoL2V4cG9uZW50aWFsYmFja29mZi5qcy5cbiAqIEV4dHJhY3RlZCBoZXJlIHNvIHdlIGRvbid0IG5lZWQgdG8gcGFzcyBtZXRhZGF0YSBhbmQgYSBzdGF0ZWZ1bCBFeHBvbmVudGlhbEJhY2tvZmYgb2JqZWN0IGFyb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUJhY2tvZmZNaWxsaXMoXG4gIGJhY2tvZmZDb3VudDogbnVtYmVyLFxuICBpbnRlcnZhbE1pbGxpczogbnVtYmVyID0gREVGQVVMVF9JTlRFUlZBTF9NSUxMSVMsXG4gIGJhY2tvZmZGYWN0b3I6IG51bWJlciA9IERFRkFVTFRfQkFDS09GRl9GQUNUT1Jcbik6IG51bWJlciB7XG4gIC8vIENhbGN1bGF0ZXMgYW4gZXhwb25lbnRpYWxseSBpbmNyZWFzaW5nIHZhbHVlLlxuICAvLyBEZXZpYXRpb246IGNhbGN1bGF0ZXMgdmFsdWUgZnJvbSBjb3VudCBhbmQgYSBjb25zdGFudCBpbnRlcnZhbCwgc28gd2Ugb25seSBuZWVkIHRvIHNhdmUgdmFsdWVcbiAgLy8gYW5kIGNvdW50IHRvIHJlc3RvcmUgc3RhdGUuXG4gIGNvbnN0IGN1cnJCYXNlVmFsdWUgPSBpbnRlcnZhbE1pbGxpcyAqIE1hdGgucG93KGJhY2tvZmZGYWN0b3IsIGJhY2tvZmZDb3VudCk7XG5cbiAgLy8gQSByYW5kb20gXCJmdXp6XCIgdG8gYXZvaWQgd2F2ZXMgb2YgcmV0cmllcy5cbiAgLy8gRGV2aWF0aW9uOiByYW5kb21GYWN0b3IgaXMgcmVxdWlyZWQuXG4gIGNvbnN0IHJhbmRvbVdhaXQgPSBNYXRoLnJvdW5kKFxuICAgIC8vIEEgZnJhY3Rpb24gb2YgdGhlIGJhY2tvZmYgdmFsdWUgdG8gYWRkL3N1YnRyYWN0LlxuICAgIC8vIERldmlhdGlvbjogY2hhbmdlcyBtdWx0aXBsaWNhdGlvbiBvcmRlciB0byBpbXByb3ZlIHJlYWRhYmlsaXR5LlxuICAgIFJBTkRPTV9GQUNUT1IgKlxuICAgICAgY3VyckJhc2VWYWx1ZSAqXG4gICAgICAvLyBBIHJhbmRvbSBmbG9hdCAocm91bmRlZCB0byBpbnQgYnkgTWF0aC5yb3VuZCBhYm92ZSkgaW4gdGhlIHJhbmdlIFstMSwgMV0uIERldGVybWluZXNcbiAgICAgIC8vIGlmIHdlIGFkZCBvciBzdWJ0cmFjdC5cbiAgICAgIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqXG4gICAgICAyXG4gICk7XG5cbiAgLy8gTGltaXRzIGJhY2tvZmYgdG8gbWF4IHRvIGF2b2lkIGVmZmVjdGl2ZWx5IHBlcm1hbmVudCBiYWNrb2ZmLlxuICByZXR1cm4gTWF0aC5taW4oTUFYX1ZBTFVFX01JTExJUywgY3VyckJhc2VWYWx1ZSArIHJhbmRvbVdhaXQpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogUHJvdmlkZSBFbmdsaXNoIG9yZGluYWwgbGV0dGVycyBhZnRlciBhIG51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JkaW5hbChpOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShpKSkge1xuICAgIHJldHVybiBgJHtpfWA7XG4gIH1cbiAgcmV0dXJuIGkgKyBpbmRpY2F0b3IoaSk7XG59XG5cbmZ1bmN0aW9uIGluZGljYXRvcihpOiBudW1iZXIpOiBzdHJpbmcge1xuICBpID0gTWF0aC5hYnMoaSk7XG4gIGNvbnN0IGNlbnQgPSBpICUgMTAwO1xuICBpZiAoY2VudCA+PSAxMCAmJiBjZW50IDw9IDIwKSB7XG4gICAgcmV0dXJuICd0aCc7XG4gIH1cbiAgY29uc3QgZGVjID0gaSAlIDEwO1xuICBpZiAoZGVjID09PSAxKSB7XG4gICAgcmV0dXJuICdzdCc7XG4gIH1cbiAgaWYgKGRlYyA9PT0gMikge1xuICAgIHJldHVybiAnbmQnO1xuICB9XG4gIGlmIChkZWMgPT09IDMpIHtcbiAgICByZXR1cm4gJ3JkJztcbiAgfVxuICByZXR1cm4gJ3RoJztcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBhdDxUPiB7XG4gIF9kZWxlZ2F0ZTogVDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZHVsYXJJbnN0YW5jZTxFeHBTZXJ2aWNlPihcbiAgc2VydmljZTogQ29tcGF0PEV4cFNlcnZpY2U+IHwgRXhwU2VydmljZVxuKTogRXhwU2VydmljZSB7XG4gIGlmIChzZXJ2aWNlICYmIChzZXJ2aWNlIGFzIENvbXBhdDxFeHBTZXJ2aWNlPikuX2RlbGVnYXRlKSB7XG4gICAgcmV0dXJuIChzZXJ2aWNlIGFzIENvbXBhdDxFeHBTZXJ2aWNlPikuX2RlbGVnYXRlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzZXJ2aWNlIGFzIEV4cFNlcnZpY2U7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtcbiAgSW5zdGFudGlhdGlvbk1vZGUsXG4gIEluc3RhbmNlRmFjdG9yeSxcbiAgQ29tcG9uZW50VHlwZSxcbiAgRGljdGlvbmFyeSxcbiAgTmFtZSxcbiAgb25JbnN0YW5jZUNyZWF0ZWRDYWxsYmFja1xufSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBDb21wb25lbnQgZm9yIHNlcnZpY2UgbmFtZSBULCBlLmcuIGBhdXRoYCwgYGF1dGgtaW50ZXJuYWxgXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wb25lbnQ8VCBleHRlbmRzIE5hbWUgPSBOYW1lPiB7XG4gIG11bHRpcGxlSW5zdGFuY2VzID0gZmFsc2U7XG4gIC8qKlxuICAgKiBQcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIHRoZSBzZXJ2aWNlIG5hbWVzcGFjZVxuICAgKi9cbiAgc2VydmljZVByb3BzOiBEaWN0aW9uYXJ5ID0ge307XG5cbiAgaW5zdGFudGlhdGlvbk1vZGUgPSBJbnN0YW50aWF0aW9uTW9kZS5MQVpZO1xuXG4gIG9uSW5zdGFuY2VDcmVhdGVkOiBvbkluc3RhbmNlQ3JlYXRlZENhbGxiYWNrPFQ+IHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIFRoZSBwdWJsaWMgc2VydmljZSBuYW1lLCBlLmcuIGFwcCwgYXV0aCwgZmlyZXN0b3JlLCBkYXRhYmFzZVxuICAgKiBAcGFyYW0gaW5zdGFuY2VGYWN0b3J5IFNlcnZpY2UgZmFjdG9yeSByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhlIHB1YmxpYyBpbnRlcmZhY2VcbiAgICogQHBhcmFtIHR5cGUgd2hldGhlciB0aGUgc2VydmljZSBwcm92aWRlZCBieSB0aGUgY29tcG9uZW50IGlzIHB1YmxpYyBvciBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBuYW1lOiBULFxuICAgIHJlYWRvbmx5IGluc3RhbmNlRmFjdG9yeTogSW5zdGFuY2VGYWN0b3J5PFQ+LFxuICAgIHJlYWRvbmx5IHR5cGU6IENvbXBvbmVudFR5cGVcbiAgKSB7fVxuXG4gIHNldEluc3RhbnRpYXRpb25Nb2RlKG1vZGU6IEluc3RhbnRpYXRpb25Nb2RlKTogdGhpcyB7XG4gICAgdGhpcy5pbnN0YW50aWF0aW9uTW9kZSA9IG1vZGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRNdWx0aXBsZUluc3RhbmNlcyhtdWx0aXBsZUluc3RhbmNlczogYm9vbGVhbik6IHRoaXMge1xuICAgIHRoaXMubXVsdGlwbGVJbnN0YW5jZXMgPSBtdWx0aXBsZUluc3RhbmNlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldFNlcnZpY2VQcm9wcyhwcm9wczogRGljdGlvbmFyeSk6IHRoaXMge1xuICAgIHRoaXMuc2VydmljZVByb3BzID0gcHJvcHM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRJbnN0YW5jZUNyZWF0ZWRDYWxsYmFjayhjYWxsYmFjazogb25JbnN0YW5jZUNyZWF0ZWRDYWxsYmFjazxUPik6IHRoaXMge1xuICAgIHRoaXMub25JbnN0YW5jZUNyZWF0ZWQgPSBjYWxsYmFjaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0VOVFJZX05BTUUgPSAnW0RFRkFVTFRdJztcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBEZWZlcnJlZCB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IENvbXBvbmVudENvbnRhaW5lciB9IGZyb20gJy4vY29tcG9uZW50X2NvbnRhaW5lcic7XG5pbXBvcnQgeyBERUZBVUxUX0VOVFJZX05BTUUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICBJbml0aWFsaXplT3B0aW9ucyxcbiAgSW5zdGFudGlhdGlvbk1vZGUsXG4gIE5hbWUsXG4gIE5hbWVTZXJ2aWNlTWFwcGluZyxcbiAgT25Jbml0Q2FsbEJhY2tcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGluc3RhbmNlIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiAnYXV0aCcsICdhdXRoLWludGVybmFsJ1xuICogTmFtZVNlcnZpY2VNYXBwaW5nW1RdIGlzIGFuIGFsaWFzIGZvciB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGNsYXNzIFByb3ZpZGVyPFQgZXh0ZW5kcyBOYW1lPiB7XG4gIHByaXZhdGUgY29tcG9uZW50OiBDb21wb25lbnQ8VD4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBpbnN0YW5jZXM6IE1hcDxzdHJpbmcsIE5hbWVTZXJ2aWNlTWFwcGluZ1tUXT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaW5zdGFuY2VzRGVmZXJyZWQ6IE1hcDxcbiAgICBzdHJpbmcsXG4gICAgRGVmZXJyZWQ8TmFtZVNlcnZpY2VNYXBwaW5nW1RdPlxuICA+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHJlYWRvbmx5IGluc3RhbmNlc09wdGlvbnM6IE1hcDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHVua25vd24+PiA9XG4gICAgbmV3IE1hcCgpO1xuICBwcml2YXRlIG9uSW5pdENhbGxiYWNrczogTWFwPHN0cmluZywgU2V0PE9uSW5pdENhbGxCYWNrPFQ+Pj4gPSBuZXcgTWFwKCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBuYW1lOiBULFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOiBDb21wb25lbnRDb250YWluZXJcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gaWRlbnRpZmllciBBIHByb3ZpZGVyIGNhbiBwcm92aWRlIG11bHRpcGxlIGluc3RhbmNlcyBvZiBhIHNlcnZpY2VcbiAgICogaWYgdGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXMgaXMgdHJ1ZS5cbiAgICovXG4gIGdldChpZGVudGlmaWVyPzogc3RyaW5nKTogUHJvbWlzZTxOYW1lU2VydmljZU1hcHBpbmdbVF0+IHtcbiAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG5cbiAgICBpZiAoIXRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuaGFzKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkge1xuICAgICAgY29uc3QgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQ8TmFtZVNlcnZpY2VNYXBwaW5nW1RdPigpO1xuICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5zZXQobm9ybWFsaXplZElkZW50aWZpZXIsIGRlZmVycmVkKTtcblxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpIHx8XG4gICAgICAgIHRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKVxuICAgICAgKSB7XG4gICAgICAgIC8vIGluaXRpYWxpemUgdGhlIHNlcnZpY2UgaWYgaXQgY2FuIGJlIGF1dG8taW5pdGlhbGl6ZWRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XG4gICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IHRocm93cyBhbiBleGNlcHRpb24gZHVyaW5nIGdldCgpLCBpdCBzaG91bGQgbm90IGNhdXNlXG4gICAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCByZXR1cm4gdGhlIHVucmVzb2x2ZWQgcHJvbWlzZSBpbiB0aGlzIGNhc2UuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5nZXQobm9ybWFsaXplZElkZW50aWZpZXIpIS5wcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zLmlkZW50aWZpZXIgQSBwcm92aWRlciBjYW4gcHJvdmlkZSBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgYSBzZXJ2aWNlXG4gICAqIGlmIHRoaXMuY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzIGlzIHRydWUuXG4gICAqIEBwYXJhbSBvcHRpb25zLm9wdGlvbmFsIElmIG9wdGlvbmFsIGlzIGZhbHNlIG9yIG5vdCBwcm92aWRlZCwgdGhlIG1ldGhvZCB0aHJvd3MgYW4gZXJyb3Igd2hlblxuICAgKiB0aGUgc2VydmljZSBpcyBub3QgaW1tZWRpYXRlbHkgYXZhaWxhYmxlLlxuICAgKiBJZiBvcHRpb25hbCBpcyB0cnVlLCB0aGUgbWV0aG9kIHJldHVybnMgbnVsbCBpZiB0aGUgc2VydmljZSBpcyBub3QgaW1tZWRpYXRlbHkgYXZhaWxhYmxlLlxuICAgKi9cbiAgZ2V0SW1tZWRpYXRlKG9wdGlvbnM6IHtcbiAgICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICAgIG9wdGlvbmFsOiB0cnVlO1xuICB9KTogTmFtZVNlcnZpY2VNYXBwaW5nW1RdIHwgbnVsbDtcbiAgZ2V0SW1tZWRpYXRlKG9wdGlvbnM/OiB7XG4gICAgaWRlbnRpZmllcj86IHN0cmluZztcbiAgICBvcHRpb25hbD86IGZhbHNlO1xuICB9KTogTmFtZVNlcnZpY2VNYXBwaW5nW1RdO1xuICBnZXRJbW1lZGlhdGUob3B0aW9ucz86IHtcbiAgICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICAgIG9wdGlvbmFsPzogYm9vbGVhbjtcbiAgfSk6IE5hbWVTZXJ2aWNlTWFwcGluZ1tUXSB8IG51bGwge1xuICAgIC8vIGlmIG11bHRpcGxlSW5zdGFuY2VzIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgZGVmYXVsdCBuYW1lXG4gICAgY29uc3Qgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihcbiAgICAgIG9wdGlvbnM/LmlkZW50aWZpZXJcbiAgICApO1xuICAgIGNvbnN0IG9wdGlvbmFsID0gb3B0aW9ucz8ub3B0aW9uYWwgPz8gZmFsc2U7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpIHx8XG4gICAgICB0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKClcbiAgICApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xuICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChvcHRpb25hbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW4gY2FzZSBhIGNvbXBvbmVudCBpcyBub3QgaW5pdGlhbGl6ZWQgYW5kIHNob3VsZC9jYW5ub3QgYmUgYXV0by1pbml0aWFsaXplZCBhdCB0aGUgbW9tZW50LCByZXR1cm4gbnVsbCBpZiB0aGUgb3B0aW9uYWwgZmxhZyBpcyBzZXQsIG9yIHRocm93XG4gICAgICBpZiAob3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihgU2VydmljZSAke3RoaXMubmFtZX0gaXMgbm90IGF2YWlsYWJsZWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldENvbXBvbmVudCgpOiBDb21wb25lbnQ8VD4gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQ7XG4gIH1cblxuICBzZXRDb21wb25lbnQoY29tcG9uZW50OiBDb21wb25lbnQ8VD4pOiB2b2lkIHtcbiAgICBpZiAoY29tcG9uZW50Lm5hbWUgIT09IHRoaXMubmFtZSkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIGBNaXNtYXRjaGluZyBDb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gZm9yIFByb3ZpZGVyICR7dGhpcy5uYW1lfS5gXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgdGhyb3cgRXJyb3IoYENvbXBvbmVudCBmb3IgJHt0aGlzLm5hbWV9IGhhcyBhbHJlYWR5IGJlZW4gcHJvdmlkZWRgKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcblxuICAgIC8vIHJldHVybiBlYXJseSB3aXRob3V0IGF0dGVtcHRpbmcgdG8gaW5pdGlhbGl6ZSB0aGUgY29tcG9uZW50IGlmIHRoZSBjb21wb25lbnQgcmVxdWlyZXMgZXhwbGljaXQgaW5pdGlhbGl6YXRpb24gKGNhbGxpbmcgYFByb3ZpZGVyLmluaXRpYWxpemUoKWApXG4gICAgaWYgKCF0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgc2VydmljZSBpcyBlYWdlciwgaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZVxuICAgIGlmIChpc0NvbXBvbmVudEVhZ2VyKGNvbXBvbmVudCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7IGluc3RhbmNlSWRlbnRpZmllcjogREVGQVVMVF9FTlRSWV9OQU1FIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IGZvciBhbiBlYWdlciBDb21wb25lbnQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBkdXJpbmcgdGhlIGVhZ2VyXG4gICAgICAgIC8vIGluaXRpYWxpemF0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlIGEgZmF0YWwgZXJyb3IuXG4gICAgICAgIC8vIFRPRE86IEludmVzdGlnYXRlIGlmIHdlIG5lZWQgdG8gbWFrZSBpdCBjb25maWd1cmFibGUsIGJlY2F1c2Ugc29tZSBjb21wb25lbnQgbWF5IHdhbnQgdG8gY2F1c2VcbiAgICAgICAgLy8gYSBmYXRhbCBlcnJvciBpbiB0aGlzIGNhc2U/XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHNlcnZpY2UgaW5zdGFuY2VzIGZvciB0aGUgcGVuZGluZyBwcm9taXNlcyBhbmQgcmVzb2x2ZSB0aGVtXG4gICAgLy8gTk9URTogaWYgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyBpcyBmYWxzZSwgb25seSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWRcbiAgICAvLyBhbmQgYWxsIHByb21pc2VzIHdpdGggcmVzb2x2ZSB3aXRoIGl0IHJlZ2FyZGxlc3Mgb2YgdGhlIGlkZW50aWZpZXIuXG4gICAgZm9yIChjb25zdCBbXG4gICAgICBpbnN0YW5jZUlkZW50aWZpZXIsXG4gICAgICBpbnN0YW5jZURlZmVycmVkXG4gICAgXSBvZiB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmVudHJpZXMoKSkge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZElkZW50aWZpZXIgPVxuICAgICAgICB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpbnN0YW5jZUlkZW50aWZpZXIpO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBgZ2V0T3JJbml0aWFsaXplU2VydmljZSgpYCBzaG91bGQgYWx3YXlzIHJldHVybiBhIHZhbGlkIGluc3RhbmNlIHNpbmNlIGEgY29tcG9uZW50IGlzIGd1YXJhbnRlZWQuIHVzZSAhIHRvIG1ha2UgdHlwZXNjcmlwdCBoYXBweS5cbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xuICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcbiAgICAgICAgfSkhO1xuICAgICAgICBpbnN0YW5jZURlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IHRocm93cyBhbiBleGNlcHRpb24sIGl0IHNob3VsZCBub3QgY2F1c2VcbiAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCBsZWF2ZSB0aGUgcHJvbWlzZSB1bnJlc29sdmVkLlxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFySW5zdGFuY2UoaWRlbnRpZmllcjogc3RyaW5nID0gREVGQVVMVF9FTlRSWV9OQU1FKTogdm9pZCB7XG4gICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5kZWxldGUoaWRlbnRpZmllcik7XG4gICAgdGhpcy5pbnN0YW5jZXNPcHRpb25zLmRlbGV0ZShpZGVudGlmaWVyKTtcbiAgICB0aGlzLmluc3RhbmNlcy5kZWxldGUoaWRlbnRpZmllcik7XG4gIH1cblxuICAvLyBhcHAuZGVsZXRlKCkgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIG9uIGV2ZXJ5IHByb3ZpZGVyIHRvIGRlbGV0ZSB0aGUgc2VydmljZXNcbiAgLy8gVE9ETzogc2hvdWxkIHdlIG1hcmsgdGhlIHByb3ZpZGVyIGFzIGRlbGV0ZWQ/XG4gIGFzeW5jIGRlbGV0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBzZXJ2aWNlcyA9IEFycmF5LmZyb20odGhpcy5pbnN0YW5jZXMudmFsdWVzKCkpO1xuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgLi4uc2VydmljZXNcbiAgICAgICAgLmZpbHRlcihzZXJ2aWNlID0+ICdJTlRFUk5BTCcgaW4gc2VydmljZSkgLy8gbGVnYWN5IHNlcnZpY2VzXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIC5tYXAoc2VydmljZSA9PiAoc2VydmljZSBhcyBhbnkpLklOVEVSTkFMIS5kZWxldGUoKSksXG4gICAgICAuLi5zZXJ2aWNlc1xuICAgICAgICAuZmlsdGVyKHNlcnZpY2UgPT4gJ19kZWxldGUnIGluIHNlcnZpY2UpIC8vIG1vZHVsYXJpemVkIHNlcnZpY2VzXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIC5tYXAoc2VydmljZSA9PiAoc2VydmljZSBhcyBhbnkpLl9kZWxldGUoKSlcbiAgICBdKTtcbiAgfVxuXG4gIGlzQ29tcG9uZW50U2V0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudCAhPSBudWxsO1xuICB9XG5cbiAgaXNJbml0aWFsaXplZChpZGVudGlmaWVyOiBzdHJpbmcgPSBERUZBVUxUX0VOVFJZX05BTUUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuaGFzKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgZ2V0T3B0aW9ucyhpZGVudGlmaWVyOiBzdHJpbmcgPSBERUZBVUxUX0VOVFJZX05BTUUpOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5nZXQoaWRlbnRpZmllcikgfHwge307XG4gIH1cblxuICBpbml0aWFsaXplKG9wdHM6IEluaXRpYWxpemVPcHRpb25zID0ge30pOiBOYW1lU2VydmljZU1hcHBpbmdbVF0ge1xuICAgIGNvbnN0IHsgb3B0aW9ucyA9IHt9IH0gPSBvcHRzO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoXG4gICAgICBvcHRzLmluc3RhbmNlSWRlbnRpZmllclxuICAgICk7XG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZChub3JtYWxpemVkSWRlbnRpZmllcikpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBgJHt0aGlzLm5hbWV9KCR7bm9ybWFsaXplZElkZW50aWZpZXJ9KSBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNDb21wb25lbnRTZXQoKSkge1xuICAgICAgdGhyb3cgRXJyb3IoYENvbXBvbmVudCAke3RoaXMubmFtZX0gaGFzIG5vdCBiZWVuIHJlZ2lzdGVyZWQgeWV0YCk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xuICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllcixcbiAgICAgIG9wdGlvbnNcbiAgICB9KSE7XG5cbiAgICAvLyByZXNvbHZlIGFueSBwZW5kaW5nIHByb21pc2Ugd2FpdGluZyBmb3IgdGhlIHNlcnZpY2UgaW5zdGFuY2VcbiAgICBmb3IgKGNvbnN0IFtcbiAgICAgIGluc3RhbmNlSWRlbnRpZmllcixcbiAgICAgIGluc3RhbmNlRGVmZXJyZWRcbiAgICBdIG9mIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRGVmZXJyZWRJZGVudGlmaWVyID1cbiAgICAgICAgdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoaW5zdGFuY2VJZGVudGlmaWVyKTtcbiAgICAgIGlmIChub3JtYWxpemVkSWRlbnRpZmllciA9PT0gbm9ybWFsaXplZERlZmVycmVkSWRlbnRpZmllcikge1xuICAgICAgICBpbnN0YW5jZURlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkICBhZnRlciB0aGUgcHJvdmlkZXIgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYnkgY2FsbGluZyBwcm92aWRlci5pbml0aWFsaXplKCkuXG4gICAqIFRoZSBmdW5jdGlvbiBpcyBpbnZva2VkIFNZTkNIUk9OT1VTTFksIHNvIGl0IHNob3VsZCBub3QgZXhlY3V0ZSBhbnkgbG9uZ3J1bm5pbmcgdGFza3MgaW4gb3JkZXIgdG8gbm90IGJsb2NrIHRoZSBwcm9ncmFtLlxuICAgKlxuICAgKiBAcGFyYW0gaWRlbnRpZmllciBBbiBvcHRpb25hbCBpbnN0YW5jZSBpZGVudGlmaWVyXG4gICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gdG8gdW5yZWdpc3RlciB0aGUgY2FsbGJhY2tcbiAgICovXG4gIG9uSW5pdChjYWxsYmFjazogT25Jbml0Q2FsbEJhY2s8VD4sIGlkZW50aWZpZXI/OiBzdHJpbmcpOiAoKSA9PiB2b2lkIHtcbiAgICBjb25zdCBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIGNvbnN0IGV4aXN0aW5nQ2FsbGJhY2tzID1cbiAgICAgIHRoaXMub25Jbml0Q2FsbGJhY2tzLmdldChub3JtYWxpemVkSWRlbnRpZmllcikgPz9cbiAgICAgIG5ldyBTZXQ8T25Jbml0Q2FsbEJhY2s8VD4+KCk7XG4gICAgZXhpc3RpbmdDYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcbiAgICB0aGlzLm9uSW5pdENhbGxiYWNrcy5zZXQobm9ybWFsaXplZElkZW50aWZpZXIsIGV4aXN0aW5nQ2FsbGJhY2tzKTtcblxuICAgIGNvbnN0IGV4aXN0aW5nSW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5nZXQobm9ybWFsaXplZElkZW50aWZpZXIpO1xuICAgIGlmIChleGlzdGluZ0luc3RhbmNlKSB7XG4gICAgICBjYWxsYmFjayhleGlzdGluZ0luc3RhbmNlLCBub3JtYWxpemVkSWRlbnRpZmllcik7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGV4aXN0aW5nQ2FsbGJhY2tzLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2Ugb25Jbml0IGNhbGxiYWNrcyBzeW5jaHJvbm91c2x5XG4gICAqIEBwYXJhbSBpbnN0YW5jZSB0aGUgc2VydmljZSBpbnN0YW5jZWBcbiAgICovXG4gIHByaXZhdGUgaW52b2tlT25Jbml0Q2FsbGJhY2tzKFxuICAgIGluc3RhbmNlOiBOYW1lU2VydmljZU1hcHBpbmdbVF0sXG4gICAgaWRlbnRpZmllcjogc3RyaW5nXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMub25Jbml0Q2FsbGJhY2tzLmdldChpZGVudGlmaWVyKTtcbiAgICBpZiAoIWNhbGxiYWNrcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2FsbGJhY2soaW5zdGFuY2UsIGlkZW50aWZpZXIpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIGlnbm9yZSBlcnJvcnMgaW4gdGhlIG9uSW5pdCBjYWxsYmFja1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XG4gICAgaW5zdGFuY2VJZGVudGlmaWVyLFxuICAgIG9wdGlvbnMgPSB7fVxuICB9OiB7XG4gICAgaW5zdGFuY2VJZGVudGlmaWVyOiBzdHJpbmc7XG4gICAgb3B0aW9ucz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICB9KTogTmFtZVNlcnZpY2VNYXBwaW5nW1RdIHwgbnVsbCB7XG4gICAgbGV0IGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZ2V0KGluc3RhbmNlSWRlbnRpZmllcik7XG4gICAgaWYgKCFpbnN0YW5jZSAmJiB0aGlzLmNvbXBvbmVudCkge1xuICAgICAgaW5zdGFuY2UgPSB0aGlzLmNvbXBvbmVudC5pbnN0YW5jZUZhY3RvcnkodGhpcy5jb250YWluZXIsIHtcbiAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVJZGVudGlmaWVyRm9yRmFjdG9yeShpbnN0YW5jZUlkZW50aWZpZXIpLFxuICAgICAgICBvcHRpb25zXG4gICAgICB9KTtcbiAgICAgIHRoaXMuaW5zdGFuY2VzLnNldChpbnN0YW5jZUlkZW50aWZpZXIsIGluc3RhbmNlKTtcbiAgICAgIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBvcHRpb25zKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBJbnZva2Ugb25Jbml0IGxpc3RlbmVycy5cbiAgICAgICAqIE5vdGUgdGhpcy5jb21wb25lbnQub25JbnN0YW5jZUNyZWF0ZWQgaXMgZGlmZmVyZW50LCB3aGljaCBpcyB1c2VkIGJ5IHRoZSBjb21wb25lbnQgY3JlYXRvcixcbiAgICAgICAqIHdoaWxlIG9uSW5pdCBsaXN0ZW5lcnMgYXJlIHJlZ2lzdGVyZWQgYnkgY29uc3VtZXJzIG9mIHRoZSBwcm92aWRlci5cbiAgICAgICAqL1xuICAgICAgdGhpcy5pbnZva2VPbkluaXRDYWxsYmFja3MoaW5zdGFuY2UsIGluc3RhbmNlSWRlbnRpZmllcik7XG5cbiAgICAgIC8qKlxuICAgICAgICogT3JkZXIgaXMgaW1wb3J0YW50XG4gICAgICAgKiBvbkluc3RhbmNlQ3JlYXRlZCgpIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgdGhpcy5pbnN0YW5jZXMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpOyB3aGljaFxuICAgICAgICogbWFrZXMgYGlzSW5pdGlhbGl6ZWQoKWAgcmV0dXJuIHRydWUuXG4gICAgICAgKi9cbiAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKFxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXIsXG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIC8vIGlnbm9yZSBlcnJvcnMgaW4gdGhlIG9uSW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2tcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbnN0YW5jZSB8fCBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoXG4gICAgaWRlbnRpZmllcjogc3RyaW5nID0gREVGQVVMVF9FTlRSWV9OQU1FXG4gICk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXMgPyBpZGVudGlmaWVyIDogREVGQVVMVF9FTlRSWV9OQU1FO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaWRlbnRpZmllcjsgLy8gYXNzdW1lIG11bHRpcGxlIGluc3RhbmNlcyBhcmUgc3VwcG9ydGVkIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHByb3ZpZGVkLlxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkQXV0b0luaXRpYWxpemUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhdGhpcy5jb21wb25lbnQgJiZcbiAgICAgIHRoaXMuY29tcG9uZW50Lmluc3RhbnRpYXRpb25Nb2RlICE9PSBJbnN0YW50aWF0aW9uTW9kZS5FWFBMSUNJVFxuICAgICk7XG4gIH1cbn1cblxuLy8gdW5kZWZpbmVkIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIHNlcnZpY2UgZmFjdG9yeSBmb3IgdGhlIGRlZmF1bHQgaW5zdGFuY2VcbmZ1bmN0aW9uIG5vcm1hbGl6ZUlkZW50aWZpZXJGb3JGYWN0b3J5KGlkZW50aWZpZXI6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBpZGVudGlmaWVyID09PSBERUZBVUxUX0VOVFJZX05BTUUgPyB1bmRlZmluZWQgOiBpZGVudGlmaWVyO1xufVxuXG5mdW5jdGlvbiBpc0NvbXBvbmVudEVhZ2VyPFQgZXh0ZW5kcyBOYW1lPihjb21wb25lbnQ6IENvbXBvbmVudDxUPik6IGJvb2xlYW4ge1xuICByZXR1cm4gY29tcG9uZW50Lmluc3RhbnRpYXRpb25Nb2RlID09PSBJbnN0YW50aWF0aW9uTW9kZS5FQUdFUjtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXInO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgTmFtZSB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIENvbXBvbmVudENvbnRhaW5lciB0aGF0IHByb3ZpZGVzIFByb3ZpZGVycyBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcbiAqL1xuZXhwb3J0IGNsYXNzIENvbXBvbmVudENvbnRhaW5lciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcHJvdmlkZXJzID0gbmV3IE1hcDxzdHJpbmcsIFByb3ZpZGVyPE5hbWU+PigpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgbmFtZTogc3RyaW5nKSB7fVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCBiZWluZyBhZGRlZFxuICAgKiBAcGFyYW0gb3ZlcndyaXRlIFdoZW4gYSBjb21wb25lbnQgd2l0aCB0aGUgc2FtZSBuYW1lIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCxcbiAgICogaWYgb3ZlcndyaXRlIGlzIHRydWU6IG92ZXJ3cml0ZSB0aGUgZXhpc3RpbmcgY29tcG9uZW50IHdpdGggdGhlIG5ldyBjb21wb25lbnQgYW5kIGNyZWF0ZSBhIG5ld1xuICAgKiBwcm92aWRlciB3aXRoIHRoZSBuZXcgY29tcG9uZW50LiBJdCBjYW4gYmUgdXNlZnVsIGluIHRlc3RzIHdoZXJlIHlvdSB3YW50IHRvIHVzZSBkaWZmZXJlbnQgbW9ja3NcbiAgICogZm9yIGRpZmZlcmVudCB0ZXN0cy5cbiAgICogaWYgb3ZlcndyaXRlIGlzIGZhbHNlOiB0aHJvdyBhbiBleGNlcHRpb25cbiAgICovXG4gIGFkZENvbXBvbmVudDxUIGV4dGVuZHMgTmFtZT4oY29tcG9uZW50OiBDb21wb25lbnQ8VD4pOiB2b2lkIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIoY29tcG9uZW50Lm5hbWUpO1xuICAgIGlmIChwcm92aWRlci5pc0NvbXBvbmVudFNldCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBDb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIHdpdGggJHt0aGlzLm5hbWV9YFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBwcm92aWRlci5zZXRDb21wb25lbnQoY29tcG9uZW50KTtcbiAgfVxuXG4gIGFkZE9yT3ZlcndyaXRlQ29tcG9uZW50PFQgZXh0ZW5kcyBOYW1lPihjb21wb25lbnQ6IENvbXBvbmVudDxUPik6IHZvaWQge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihjb21wb25lbnQubmFtZSk7XG4gICAgaWYgKHByb3ZpZGVyLmlzQ29tcG9uZW50U2V0KCkpIHtcbiAgICAgIC8vIGRlbGV0ZSB0aGUgZXhpc3RpbmcgcHJvdmlkZXIgZnJvbSB0aGUgY29udGFpbmVyLCBzbyB3ZSBjYW4gcmVnaXN0ZXIgdGhlIG5ldyBjb21wb25lbnRcbiAgICAgIHRoaXMucHJvdmlkZXJzLmRlbGV0ZShjb21wb25lbnQubmFtZSk7XG4gICAgfVxuXG4gICAgdGhpcy5hZGRDb21wb25lbnQoY29tcG9uZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXRQcm92aWRlciBwcm92aWRlcyBhIHR5cGUgc2FmZSBpbnRlcmZhY2Ugd2hlcmUgaXQgY2FuIG9ubHkgYmUgY2FsbGVkIHdpdGggYSBmaWVsZCBuYW1lXG4gICAqIHByZXNlbnQgaW4gTmFtZVNlcnZpY2VNYXBwaW5nIGludGVyZmFjZS5cbiAgICpcbiAgICogRmlyZWJhc2UgU0RLcyBwcm92aWRpbmcgc2VydmljZXMgc2hvdWxkIGV4dGVuZCBOYW1lU2VydmljZU1hcHBpbmcgaW50ZXJmYWNlIHRvIHJlZ2lzdGVyXG4gICAqIHRoZW1zZWx2ZXMuXG4gICAqL1xuICBnZXRQcm92aWRlcjxUIGV4dGVuZHMgTmFtZT4obmFtZTogVCk6IFByb3ZpZGVyPFQ+IHtcbiAgICBpZiAodGhpcy5wcm92aWRlcnMuaGFzKG5hbWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnMuZ2V0KG5hbWUpIGFzIHVua25vd24gYXMgUHJvdmlkZXI8VD47XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGEgUHJvdmlkZXIgZm9yIGEgc2VydmljZSB0aGF0IGhhc24ndCByZWdpc3RlcmVkIHdpdGggRmlyZWJhc2VcbiAgICBjb25zdCBwcm92aWRlciA9IG5ldyBQcm92aWRlcjxUPihuYW1lLCB0aGlzKTtcbiAgICB0aGlzLnByb3ZpZGVycy5zZXQobmFtZSwgcHJvdmlkZXIgYXMgdW5rbm93biBhcyBQcm92aWRlcjxOYW1lPik7XG5cbiAgICByZXR1cm4gcHJvdmlkZXIgYXMgUHJvdmlkZXI8VD47XG4gIH1cblxuICBnZXRQcm92aWRlcnMoKTogQXJyYXk8UHJvdmlkZXI8TmFtZT4+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByb3ZpZGVycy52YWx1ZXMoKSk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgdHlwZSBMb2dMZXZlbFN0cmluZyA9XG4gIHwgJ2RlYnVnJ1xuICB8ICd2ZXJib3NlJ1xuICB8ICdpbmZvJ1xuICB8ICd3YXJuJ1xuICB8ICdlcnJvcidcbiAgfCAnc2lsZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBMb2dPcHRpb25zIHtcbiAgbGV2ZWw6IExvZ0xldmVsU3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBMb2dDYWxsYmFjayA9IChjYWxsYmFja1BhcmFtczogTG9nQ2FsbGJhY2tQYXJhbXMpID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nQ2FsbGJhY2tQYXJhbXMge1xuICBsZXZlbDogTG9nTGV2ZWxTdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgYXJnczogdW5rbm93bltdO1xuICB0eXBlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGFsbCBvZiB0aGUgTG9nZ2VyIGluc3RhbmNlc1xuICovXG5leHBvcnQgY29uc3QgaW5zdGFuY2VzOiBMb2dnZXJbXSA9IFtdO1xuXG4vKipcbiAqIFRoZSBKUyBTREsgc3VwcG9ydHMgNSBsb2cgbGV2ZWxzIGFuZCBhbHNvIGFsbG93cyBhIHVzZXIgdGhlIGFiaWxpdHkgdG9cbiAqIHNpbGVuY2UgdGhlIGxvZ3MgYWx0b2dldGhlci5cbiAqXG4gKiBUaGUgb3JkZXIgaXMgYSBmb2xsb3dzOlxuICogREVCVUcgPCBWRVJCT1NFIDwgSU5GTyA8IFdBUk4gPCBFUlJPUlxuICpcbiAqIEFsbCBvZiB0aGUgbG9nIHR5cGVzIGFib3ZlIHRoZSBjdXJyZW50IGxvZyBsZXZlbCB3aWxsIGJlIGNhcHR1cmVkIChpLmUuIGlmXG4gKiB5b3Ugc2V0IHRoZSBsb2cgbGV2ZWwgdG8gYElORk9gLCBlcnJvcnMgd2lsbCBzdGlsbCBiZSBsb2dnZWQsIGJ1dCBgREVCVUdgIGFuZFxuICogYFZFUkJPU0VgIGxvZ3Mgd2lsbCBub3QpXG4gKi9cbmV4cG9ydCBlbnVtIExvZ0xldmVsIHtcbiAgREVCVUcsXG4gIFZFUkJPU0UsXG4gIElORk8sXG4gIFdBUk4sXG4gIEVSUk9SLFxuICBTSUxFTlRcbn1cblxuY29uc3QgbGV2ZWxTdHJpbmdUb0VudW06IHsgW2tleSBpbiBMb2dMZXZlbFN0cmluZ106IExvZ0xldmVsIH0gPSB7XG4gICdkZWJ1Zyc6IExvZ0xldmVsLkRFQlVHLFxuICAndmVyYm9zZSc6IExvZ0xldmVsLlZFUkJPU0UsXG4gICdpbmZvJzogTG9nTGV2ZWwuSU5GTyxcbiAgJ3dhcm4nOiBMb2dMZXZlbC5XQVJOLFxuICAnZXJyb3InOiBMb2dMZXZlbC5FUlJPUixcbiAgJ3NpbGVudCc6IExvZ0xldmVsLlNJTEVOVFxufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBsb2cgbGV2ZWxcbiAqL1xuY29uc3QgZGVmYXVsdExvZ0xldmVsOiBMb2dMZXZlbCA9IExvZ0xldmVsLklORk87XG5cbi8qKlxuICogV2UgYWxsb3cgdXNlcnMgdGhlIGFiaWxpdHkgdG8gcGFzcyB0aGVpciBvd24gbG9nIGhhbmRsZXIuIFdlIHdpbGwgcGFzcyB0aGVcbiAqIHR5cGUgb2YgbG9nLCB0aGUgY3VycmVudCBsb2cgbGV2ZWwsIGFuZCBhbnkgb3RoZXIgYXJndW1lbnRzIHBhc3NlZCAoaS5lLiB0aGVcbiAqIG1lc3NhZ2VzIHRoYXQgdGhlIHVzZXIgd2FudHMgdG8gbG9nKSB0byB0aGlzIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgdHlwZSBMb2dIYW5kbGVyID0gKFxuICBsb2dnZXJJbnN0YW5jZTogTG9nZ2VyLFxuICBsb2dUeXBlOiBMb2dMZXZlbCxcbiAgLi4uYXJnczogdW5rbm93bltdXG4pID0+IHZvaWQ7XG5cbi8qKlxuICogQnkgZGVmYXVsdCwgYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBkaXNwbGF5ZWQgaW4gdGhlIGRldmVsb3BlciBjb25zb2xlIChpblxuICogY2hyb21lKS4gVG8gYXZvaWQgZm9yY2luZyB1c2VycyB0byBoYXZlIHRvIG9wdC1pbiB0byB0aGVzZSBsb2dzIHR3aWNlXG4gKiAoaS5lLiBvbmNlIGZvciBmaXJlYmFzZSwgYW5kIG9uY2UgaW4gdGhlIGNvbnNvbGUpLCB3ZSBhcmUgc2VuZGluZyBgREVCVUdgXG4gKiBsb2dzIHRvIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uLlxuICovXG5jb25zdCBDb25zb2xlTWV0aG9kID0ge1xuICBbTG9nTGV2ZWwuREVCVUddOiAnbG9nJyxcbiAgW0xvZ0xldmVsLlZFUkJPU0VdOiAnbG9nJyxcbiAgW0xvZ0xldmVsLklORk9dOiAnaW5mbycsXG4gIFtMb2dMZXZlbC5XQVJOXTogJ3dhcm4nLFxuICBbTG9nTGV2ZWwuRVJST1JdOiAnZXJyb3InXG59O1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGxvZyBoYW5kbGVyIHdpbGwgZm9yd2FyZCBERUJVRywgVkVSQk9TRSwgSU5GTywgV0FSTiwgYW5kIEVSUk9SXG4gKiBtZXNzYWdlcyBvbiB0byB0aGVpciBjb3JyZXNwb25kaW5nIGNvbnNvbGUgY291bnRlcnBhcnRzIChpZiB0aGUgbG9nIG1ldGhvZFxuICogaXMgc3VwcG9ydGVkIGJ5IHRoZSBjdXJyZW50IGxvZyBsZXZlbClcbiAqL1xuY29uc3QgZGVmYXVsdExvZ0hhbmRsZXI6IExvZ0hhbmRsZXIgPSAoaW5zdGFuY2UsIGxvZ1R5cGUsIC4uLmFyZ3MpOiB2b2lkID0+IHtcbiAgaWYgKGxvZ1R5cGUgPCBpbnN0YW5jZS5sb2dMZXZlbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gIGNvbnN0IG1ldGhvZCA9IENvbnNvbGVNZXRob2RbbG9nVHlwZSBhcyBrZXlvZiB0eXBlb2YgQ29uc29sZU1ldGhvZF07XG4gIGlmIChtZXRob2QpIHtcbiAgICBjb25zb2xlW21ldGhvZCBhcyAnbG9nJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvciddKFxuICAgICAgYFske25vd31dICAke2luc3RhbmNlLm5hbWV9OmAsXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQXR0ZW1wdGVkIHRvIGxvZyBhIG1lc3NhZ2Ugd2l0aCBhbiBpbnZhbGlkIGxvZ1R5cGUgKHZhbHVlOiAke2xvZ1R5cGV9KWBcbiAgICApO1xuICB9XG59O1xuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgLyoqXG4gICAqIEdpdmVzIHlvdSBhbiBpbnN0YW5jZSBvZiBhIExvZ2dlciB0byBjYXB0dXJlIG1lc3NhZ2VzIGFjY29yZGluZyB0b1xuICAgKiBGaXJlYmFzZSdzIGxvZ2dpbmcgc2NoZW1lLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSB0aGF0IHRoZSBsb2dzIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nKSB7XG4gICAgLyoqXG4gICAgICogQ2FwdHVyZSB0aGUgY3VycmVudCBpbnN0YW5jZSBmb3IgbGF0ZXIgdXNlXG4gICAgICovXG4gICAgaW5zdGFuY2VzLnB1c2godGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxvZyBsZXZlbCBvZiB0aGUgZ2l2ZW4gTG9nZ2VyIGluc3RhbmNlLlxuICAgKi9cbiAgcHJpdmF0ZSBfbG9nTGV2ZWwgPSBkZWZhdWx0TG9nTGV2ZWw7XG5cbiAgZ2V0IGxvZ0xldmVsKCk6IExvZ0xldmVsIHtcbiAgICByZXR1cm4gdGhpcy5fbG9nTGV2ZWw7XG4gIH1cblxuICBzZXQgbG9nTGV2ZWwodmFsOiBMb2dMZXZlbCkge1xuICAgIGlmICghKHZhbCBpbiBMb2dMZXZlbCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgdmFsdWUgXCIke3ZhbH1cIiBhc3NpZ25lZCB0byBcXGBsb2dMZXZlbFxcYGApO1xuICAgIH1cbiAgICB0aGlzLl9sb2dMZXZlbCA9IHZhbDtcbiAgfVxuXG4gIC8vIFdvcmthcm91bmQgZm9yIHNldHRlci9nZXR0ZXIgaGF2aW5nIHRvIGJlIHRoZSBzYW1lIHR5cGUuXG4gIHNldExvZ0xldmVsKHZhbDogTG9nTGV2ZWwgfCBMb2dMZXZlbFN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuX2xvZ0xldmVsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyBsZXZlbFN0cmluZ1RvRW51bVt2YWxdIDogdmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBtYWluIChpbnRlcm5hbCkgbG9nIGhhbmRsZXIgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXG4gICAqIENhbiBiZSBzZXQgdG8gYSBuZXcgZnVuY3Rpb24gaW4gaW50ZXJuYWwgcGFja2FnZSBjb2RlIGJ1dCBub3QgYnkgdXNlci5cbiAgICovXG4gIHByaXZhdGUgX2xvZ0hhbmRsZXI6IExvZ0hhbmRsZXIgPSBkZWZhdWx0TG9nSGFuZGxlcjtcbiAgZ2V0IGxvZ0hhbmRsZXIoKTogTG9nSGFuZGxlciB7XG4gICAgcmV0dXJuIHRoaXMuX2xvZ0hhbmRsZXI7XG4gIH1cbiAgc2V0IGxvZ0hhbmRsZXIodmFsOiBMb2dIYW5kbGVyKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIGFzc2lnbmVkIHRvIGBsb2dIYW5kbGVyYCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdGhpcy5fbG9nSGFuZGxlciA9IHZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgb3B0aW9uYWwsIGFkZGl0aW9uYWwsIHVzZXItZGVmaW5lZCBsb2cgaGFuZGxlciBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cbiAgICovXG4gIHByaXZhdGUgX3VzZXJMb2dIYW5kbGVyOiBMb2dIYW5kbGVyIHwgbnVsbCA9IG51bGw7XG4gIGdldCB1c2VyTG9nSGFuZGxlcigpOiBMb2dIYW5kbGVyIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJMb2dIYW5kbGVyO1xuICB9XG4gIHNldCB1c2VyTG9nSGFuZGxlcih2YWw6IExvZ0hhbmRsZXIgfCBudWxsKSB7XG4gICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgPSB2YWw7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGZ1bmN0aW9ucyBiZWxvdyBhcmUgYWxsIGJhc2VkIG9uIHRoZSBgY29uc29sZWAgaW50ZXJmYWNlXG4gICAqL1xuXG4gIGRlYnVnKC4uLmFyZ3M6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLkRFQlVHLCAuLi5hcmdzKTtcbiAgICB0aGlzLl9sb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLkRFQlVHLCAuLi5hcmdzKTtcbiAgfVxuICBsb2coLi4uYXJnczogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiZcbiAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLlZFUkJPU0UsIC4uLmFyZ3MpO1xuICAgIHRoaXMuX2xvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuVkVSQk9TRSwgLi4uYXJncyk7XG4gIH1cbiAgaW5mbyguLi5hcmdzOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5JTkZPLCAuLi5hcmdzKTtcbiAgICB0aGlzLl9sb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLklORk8sIC4uLmFyZ3MpO1xuICB9XG4gIHdhcm4oLi4uYXJnczogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuV0FSTiwgLi4uYXJncyk7XG4gICAgdGhpcy5fbG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5XQVJOLCAuLi5hcmdzKTtcbiAgfVxuICBlcnJvciguLi5hcmdzOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5FUlJPUiwgLi4uYXJncyk7XG4gICAgdGhpcy5fbG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5FUlJPUiwgLi4uYXJncyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldExvZ0xldmVsKGxldmVsOiBMb2dMZXZlbFN0cmluZyB8IExvZ0xldmVsKTogdm9pZCB7XG4gIGluc3RhbmNlcy5mb3JFYWNoKGluc3QgPT4ge1xuICAgIGluc3Quc2V0TG9nTGV2ZWwobGV2ZWwpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFVzZXJMb2dIYW5kbGVyKFxuICBsb2dDYWxsYmFjazogTG9nQ2FsbGJhY2sgfCBudWxsLFxuICBvcHRpb25zPzogTG9nT3B0aW9uc1xuKTogdm9pZCB7XG4gIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgaW5zdGFuY2VzKSB7XG4gICAgbGV0IGN1c3RvbUxvZ0xldmVsOiBMb2dMZXZlbCB8IG51bGwgPSBudWxsO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMubGV2ZWwpIHtcbiAgICAgIGN1c3RvbUxvZ0xldmVsID0gbGV2ZWxTdHJpbmdUb0VudW1bb3B0aW9ucy5sZXZlbF07XG4gICAgfVxuICAgIGlmIChsb2dDYWxsYmFjayA9PT0gbnVsbCkge1xuICAgICAgaW5zdGFuY2UudXNlckxvZ0hhbmRsZXIgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS51c2VyTG9nSGFuZGxlciA9IChcbiAgICAgICAgaW5zdGFuY2U6IExvZ2dlcixcbiAgICAgICAgbGV2ZWw6IExvZ0xldmVsLFxuICAgICAgICAuLi5hcmdzOiB1bmtub3duW11cbiAgICAgICkgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gYXJnc1xuICAgICAgICAgIC5tYXAoYXJnID0+IHtcbiAgICAgICAgICAgIGlmIChhcmcgPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhcmcudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFyZy5tZXNzYWdlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmlsdGVyKGFyZyA9PiBhcmcpXG4gICAgICAgICAgLmpvaW4oJyAnKTtcbiAgICAgICAgaWYgKGxldmVsID49IChjdXN0b21Mb2dMZXZlbCA/PyBpbnN0YW5jZS5sb2dMZXZlbCkpIHtcbiAgICAgICAgICBsb2dDYWxsYmFjayh7XG4gICAgICAgICAgICBsZXZlbDogTG9nTGV2ZWxbbGV2ZWxdLnRvTG93ZXJDYXNlKCkgYXMgTG9nTGV2ZWxTdHJpbmcsXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgIHR5cGU6IGluc3RhbmNlLm5hbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cbiIsICJjb25zdCBpbnN0YW5jZU9mQW55ID0gKG9iamVjdCwgY29uc3RydWN0b3JzKSA9PiBjb25zdHJ1Y3RvcnMuc29tZSgoYykgPT4gb2JqZWN0IGluc3RhbmNlb2YgYyk7XG5cbmxldCBpZGJQcm94eWFibGVUeXBlcztcbmxldCBjdXJzb3JBZHZhbmNlTWV0aG9kcztcbi8vIFRoaXMgaXMgYSBmdW5jdGlvbiB0byBwcmV2ZW50IGl0IHRocm93aW5nIHVwIGluIG5vZGUgZW52aXJvbm1lbnRzLlxuZnVuY3Rpb24gZ2V0SWRiUHJveHlhYmxlVHlwZXMoKSB7XG4gICAgcmV0dXJuIChpZGJQcm94eWFibGVUeXBlcyB8fFxuICAgICAgICAoaWRiUHJveHlhYmxlVHlwZXMgPSBbXG4gICAgICAgICAgICBJREJEYXRhYmFzZSxcbiAgICAgICAgICAgIElEQk9iamVjdFN0b3JlLFxuICAgICAgICAgICAgSURCSW5kZXgsXG4gICAgICAgICAgICBJREJDdXJzb3IsXG4gICAgICAgICAgICBJREJUcmFuc2FjdGlvbixcbiAgICAgICAgXSkpO1xufVxuLy8gVGhpcyBpcyBhIGZ1bmN0aW9uIHRvIHByZXZlbnQgaXQgdGhyb3dpbmcgdXAgaW4gbm9kZSBlbnZpcm9ubWVudHMuXG5mdW5jdGlvbiBnZXRDdXJzb3JBZHZhbmNlTWV0aG9kcygpIHtcbiAgICByZXR1cm4gKGN1cnNvckFkdmFuY2VNZXRob2RzIHx8XG4gICAgICAgIChjdXJzb3JBZHZhbmNlTWV0aG9kcyA9IFtcbiAgICAgICAgICAgIElEQkN1cnNvci5wcm90b3R5cGUuYWR2YW5jZSxcbiAgICAgICAgICAgIElEQkN1cnNvci5wcm90b3R5cGUuY29udGludWUsXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlUHJpbWFyeUtleSxcbiAgICAgICAgXSkpO1xufVxuY29uc3QgY3Vyc29yUmVxdWVzdE1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2FjdGlvbkRvbmVNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zZm9ybUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJldmVyc2VUcmFuc2Zvcm1DYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBwcm9taXNpZnlSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCB1bmxpc3RlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUod3JhcChyZXF1ZXN0LnJlc3VsdCkpO1xuICAgICAgICAgICAgdW5saXN0ZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBzdWNjZXNzKTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICB9KTtcbiAgICBwcm9taXNlXG4gICAgICAgIC50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICAvLyBTaW5jZSBjdXJzb3JpbmcgcmV1c2VzIHRoZSBJREJSZXF1ZXN0ICgqc2lnaCopLCB3ZSBjYWNoZSBpdCBmb3IgbGF0ZXIgcmV0cmlldmFsXG4gICAgICAgIC8vIChzZWUgd3JhcEZ1bmN0aW9uKS5cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSURCQ3Vyc29yKSB7XG4gICAgICAgICAgICBjdXJzb3JSZXF1ZXN0TWFwLnNldCh2YWx1ZSwgcmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2F0Y2hpbmcgdG8gYXZvaWQgXCJVbmNhdWdodCBQcm9taXNlIGV4Y2VwdGlvbnNcIlxuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pO1xuICAgIC8vIFRoaXMgbWFwcGluZyBleGlzdHMgaW4gcmV2ZXJzZVRyYW5zZm9ybUNhY2hlIGJ1dCBkb2Vzbid0IGRvZXNuJ3QgZXhpc3QgaW4gdHJhbnNmb3JtQ2FjaGUuIFRoaXNcbiAgICAvLyBpcyBiZWNhdXNlIHdlIGNyZWF0ZSBtYW55IHByb21pc2VzIGZyb20gYSBzaW5nbGUgSURCUmVxdWVzdC5cbiAgICByZXZlcnNlVHJhbnNmb3JtQ2FjaGUuc2V0KHByb21pc2UsIHJlcXVlc3QpO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuZnVuY3Rpb24gY2FjaGVEb25lUHJvbWlzZUZvclRyYW5zYWN0aW9uKHR4KSB7XG4gICAgLy8gRWFybHkgYmFpbCBpZiB3ZSd2ZSBhbHJlYWR5IGNyZWF0ZWQgYSBkb25lIHByb21pc2UgZm9yIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgaWYgKHRyYW5zYWN0aW9uRG9uZU1hcC5oYXModHgpKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgZG9uZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgdW5saXN0ZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb21wbGV0ZScsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgdW5saXN0ZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QodHguZXJyb3IgfHwgbmV3IERPTUV4Y2VwdGlvbignQWJvcnRFcnJvcicsICdBYm9ydEVycm9yJykpO1xuICAgICAgICAgICAgdW5saXN0ZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBjb21wbGV0ZSk7XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGVycm9yKTtcbiAgICB9KTtcbiAgICAvLyBDYWNoZSBpdCBmb3IgbGF0ZXIgcmV0cmlldmFsLlxuICAgIHRyYW5zYWN0aW9uRG9uZU1hcC5zZXQodHgsIGRvbmUpO1xufVxubGV0IGlkYlByb3h5VHJhcHMgPSB7XG4gICAgZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciB0cmFuc2FjdGlvbi5kb25lLlxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdkb25lJylcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb25Eb25lTWFwLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgLy8gUG9seWZpbGwgZm9yIG9iamVjdFN0b3JlTmFtZXMgYmVjYXVzZSBvZiBFZGdlLlxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdvYmplY3RTdG9yZU5hbWVzJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQub2JqZWN0U3RvcmVOYW1lcyB8fCB0cmFuc2FjdGlvblN0b3JlTmFtZXNNYXAuZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNYWtlIHR4LnN0b3JlIHJldHVybiB0aGUgb25seSBzdG9yZSBpbiB0aGUgdHJhbnNhY3Rpb24sIG9yIHVuZGVmaW5lZCBpZiB0aGVyZSBhcmUgbWFueS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnc3RvcmUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY2VpdmVyLm9iamVjdFN0b3JlTmFtZXNbMV1cbiAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgOiByZWNlaXZlci5vYmplY3RTdG9yZShyZWNlaXZlci5vYmplY3RTdG9yZU5hbWVzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBFbHNlIHRyYW5zZm9ybSB3aGF0ZXZlciB3ZSBnZXQgYmFjay5cbiAgICAgICAgcmV0dXJuIHdyYXAodGFyZ2V0W3Byb3BdKTtcbiAgICB9LFxuICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGhhcyh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uICYmXG4gICAgICAgICAgICAocHJvcCA9PT0gJ2RvbmUnIHx8IHByb3AgPT09ICdzdG9yZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcCBpbiB0YXJnZXQ7XG4gICAgfSxcbn07XG5mdW5jdGlvbiByZXBsYWNlVHJhcHMoY2FsbGJhY2spIHtcbiAgICBpZGJQcm94eVRyYXBzID0gY2FsbGJhY2soaWRiUHJveHlUcmFwcyk7XG59XG5mdW5jdGlvbiB3cmFwRnVuY3Rpb24oZnVuYykge1xuICAgIC8vIER1ZSB0byBleHBlY3RlZCBvYmplY3QgZXF1YWxpdHkgKHdoaWNoIGlzIGVuZm9yY2VkIGJ5IHRoZSBjYWNoaW5nIGluIGB3cmFwYCksIHdlXG4gICAgLy8gb25seSBjcmVhdGUgb25lIG5ldyBmdW5jIHBlciBmdW5jLlxuICAgIC8vIEVkZ2UgZG9lc24ndCBzdXBwb3J0IG9iamVjdFN0b3JlTmFtZXMgKGJvb28pLCBzbyB3ZSBwb2x5ZmlsbCBpdCBoZXJlLlxuICAgIGlmIChmdW5jID09PSBJREJEYXRhYmFzZS5wcm90b3R5cGUudHJhbnNhY3Rpb24gJiZcbiAgICAgICAgISgnb2JqZWN0U3RvcmVOYW1lcycgaW4gSURCVHJhbnNhY3Rpb24ucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHN0b3JlTmFtZXMsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHR4ID0gZnVuYy5jYWxsKHVud3JhcCh0aGlzKSwgc3RvcmVOYW1lcywgLi4uYXJncyk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvblN0b3JlTmFtZXNNYXAuc2V0KHR4LCBzdG9yZU5hbWVzLnNvcnQgPyBzdG9yZU5hbWVzLnNvcnQoKSA6IFtzdG9yZU5hbWVzXSk7XG4gICAgICAgICAgICByZXR1cm4gd3JhcCh0eCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIEN1cnNvciBtZXRob2RzIGFyZSBzcGVjaWFsLCBhcyB0aGUgYmVoYXZpb3VyIGlzIGEgbGl0dGxlIG1vcmUgZGlmZmVyZW50IHRvIHN0YW5kYXJkIElEQi4gSW5cbiAgICAvLyBJREIsIHlvdSBhZHZhbmNlIHRoZSBjdXJzb3IgYW5kIHdhaXQgZm9yIGEgbmV3ICdzdWNjZXNzJyBvbiB0aGUgSURCUmVxdWVzdCB0aGF0IGdhdmUgeW91IHRoZVxuICAgIC8vIGN1cnNvci4gSXQncyBraW5kYSBsaWtlIGEgcHJvbWlzZSB0aGF0IGNhbiByZXNvbHZlIHdpdGggbWFueSB2YWx1ZXMuIFRoYXQgZG9lc24ndCBtYWtlIHNlbnNlXG4gICAgLy8gd2l0aCByZWFsIHByb21pc2VzLCBzbyBlYWNoIGFkdmFuY2UgbWV0aG9kcyByZXR1cm5zIGEgbmV3IHByb21pc2UgZm9yIHRoZSBjdXJzb3Igb2JqZWN0LCBvclxuICAgIC8vIHVuZGVmaW5lZCBpZiB0aGUgZW5kIG9mIHRoZSBjdXJzb3IgaGFzIGJlZW4gcmVhY2hlZC5cbiAgICBpZiAoZ2V0Q3Vyc29yQWR2YW5jZU1ldGhvZHMoKS5pbmNsdWRlcyhmdW5jKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIC8vIENhbGxpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3h5IGFzICd0aGlzJyBjYXVzZXMgSUxMRUdBTCBJTlZPQ0FUSU9OLCBzbyB3ZSB1c2VcbiAgICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCBvYmplY3QuXG4gICAgICAgICAgICBmdW5jLmFwcGx5KHVud3JhcCh0aGlzKSwgYXJncyk7XG4gICAgICAgICAgICByZXR1cm4gd3JhcChjdXJzb3JSZXF1ZXN0TWFwLmdldCh0aGlzKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAvLyBDYWxsaW5nIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3aXRoIHRoZSBwcm94eSBhcyAndGhpcycgY2F1c2VzIElMTEVHQUwgSU5WT0NBVElPTiwgc28gd2UgdXNlXG4gICAgICAgIC8vIHRoZSBvcmlnaW5hbCBvYmplY3QuXG4gICAgICAgIHJldHVybiB3cmFwKGZ1bmMuYXBwbHkodW53cmFwKHRoaXMpLCBhcmdzKSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRyYW5zZm9ybUNhY2hhYmxlVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKVxuICAgICAgICByZXR1cm4gd3JhcEZ1bmN0aW9uKHZhbHVlKTtcbiAgICAvLyBUaGlzIGRvZXNuJ3QgcmV0dXJuLCBpdCBqdXN0IGNyZWF0ZXMgYSAnZG9uZScgcHJvbWlzZSBmb3IgdGhlIHRyYW5zYWN0aW9uLFxuICAgIC8vIHdoaWNoIGlzIGxhdGVyIHJldHVybmVkIGZvciB0cmFuc2FjdGlvbi5kb25lIChzZWUgaWRiT2JqZWN0SGFuZGxlcikuXG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24pXG4gICAgICAgIGNhY2hlRG9uZVByb21pc2VGb3JUcmFuc2FjdGlvbih2YWx1ZSk7XG4gICAgaWYgKGluc3RhbmNlT2ZBbnkodmFsdWUsIGdldElkYlByb3h5YWJsZVR5cGVzKCkpKVxuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHZhbHVlLCBpZGJQcm94eVRyYXBzKTtcbiAgICAvLyBSZXR1cm4gdGhlIHNhbWUgdmFsdWUgYmFjayBpZiB3ZSdyZSBub3QgZ29pbmcgdG8gdHJhbnNmb3JtIGl0LlxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHdyYXAodmFsdWUpIHtcbiAgICAvLyBXZSBzb21ldGltZXMgZ2VuZXJhdGUgbXVsdGlwbGUgcHJvbWlzZXMgZnJvbSBhIHNpbmdsZSBJREJSZXF1ZXN0IChlZyB3aGVuIGN1cnNvcmluZyksIGJlY2F1c2VcbiAgICAvLyBJREIgaXMgd2VpcmQgYW5kIGEgc2luZ2xlIElEQlJlcXVlc3QgY2FuIHlpZWxkIG1hbnkgcmVzcG9uc2VzLCBzbyB0aGVzZSBjYW4ndCBiZSBjYWNoZWQuXG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSURCUmVxdWVzdClcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3QodmFsdWUpO1xuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgdHJhbnNmb3JtZWQgdGhpcyB2YWx1ZSBiZWZvcmUsIHJldXNlIHRoZSB0cmFuc2Zvcm1lZCB2YWx1ZS5cbiAgICAvLyBUaGlzIGlzIGZhc3RlciwgYnV0IGl0IGFsc28gcHJvdmlkZXMgb2JqZWN0IGVxdWFsaXR5LlxuICAgIGlmICh0cmFuc2Zvcm1DYWNoZS5oYXModmFsdWUpKVxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtQ2FjaGUuZ2V0KHZhbHVlKTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHRyYW5zZm9ybUNhY2hhYmxlVmFsdWUodmFsdWUpO1xuICAgIC8vIE5vdCBhbGwgdHlwZXMgYXJlIHRyYW5zZm9ybWVkLlxuICAgIC8vIFRoZXNlIG1heSBiZSBwcmltaXRpdmUgdHlwZXMsIHNvIHRoZXkgY2FuJ3QgYmUgV2Vha01hcCBrZXlzLlxuICAgIGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgdHJhbnNmb3JtQ2FjaGUuc2V0KHZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgIHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5zZXQobmV3VmFsdWUsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1ZhbHVlO1xufVxuY29uc3QgdW53cmFwID0gKHZhbHVlKSA9PiByZXZlcnNlVHJhbnNmb3JtQ2FjaGUuZ2V0KHZhbHVlKTtcblxuZXhwb3J0IHsgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlIGFzIGEsIGluc3RhbmNlT2ZBbnkgYXMgaSwgcmVwbGFjZVRyYXBzIGFzIHIsIHVud3JhcCBhcyB1LCB3cmFwIGFzIHcgfTtcbiIsICJpbXBvcnQgeyB3IGFzIHdyYXAsIHIgYXMgcmVwbGFjZVRyYXBzIH0gZnJvbSAnLi93cmFwLWlkYi12YWx1ZS5qcyc7XG5leHBvcnQgeyB1IGFzIHVud3JhcCwgdyBhcyB3cmFwIH0gZnJvbSAnLi93cmFwLWlkYi12YWx1ZS5qcyc7XG5cbi8qKlxuICogT3BlbiBhIGRhdGFiYXNlLlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGRhdGFiYXNlLlxuICogQHBhcmFtIHZlcnNpb24gU2NoZW1hIHZlcnNpb24uXG4gKiBAcGFyYW0gY2FsbGJhY2tzIEFkZGl0aW9uYWwgY2FsbGJhY2tzLlxuICovXG5mdW5jdGlvbiBvcGVuREIobmFtZSwgdmVyc2lvbiwgeyBibG9ja2VkLCB1cGdyYWRlLCBibG9ja2luZywgdGVybWluYXRlZCB9ID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4obmFtZSwgdmVyc2lvbik7XG4gICAgY29uc3Qgb3BlblByb21pc2UgPSB3cmFwKHJlcXVlc3QpO1xuICAgIGlmICh1cGdyYWRlKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigndXBncmFkZW5lZWRlZCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdXBncmFkZSh3cmFwKHJlcXVlc3QucmVzdWx0KSwgZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgd3JhcChyZXF1ZXN0LnRyYW5zYWN0aW9uKSwgZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGJsb2NrZWQpIHtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdibG9ja2VkJywgKGV2ZW50KSA9PiBibG9ja2VkKFxuICAgICAgICAvLyBDYXN0aW5nIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQtRE9NLWxpYi1nZW5lcmF0b3IvcHVsbC8xNDA1XG4gICAgICAgIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIGV2ZW50KSk7XG4gICAgfVxuICAgIG9wZW5Qcm9taXNlXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICBpZiAodGVybWluYXRlZClcbiAgICAgICAgICAgIGRiLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4gdGVybWluYXRlZCgpKTtcbiAgICAgICAgaWYgKGJsb2NraW5nKSB7XG4gICAgICAgICAgICBkYi5hZGRFdmVudExpc3RlbmVyKCd2ZXJzaW9uY2hhbmdlJywgKGV2ZW50KSA9PiBibG9ja2luZyhldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCBldmVudCkpO1xuICAgICAgICB9XG4gICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgcmV0dXJuIG9wZW5Qcm9taXNlO1xufVxuLyoqXG4gKiBEZWxldGUgYSBkYXRhYmFzZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBkYXRhYmFzZS5cbiAqL1xuZnVuY3Rpb24gZGVsZXRlREIobmFtZSwgeyBibG9ja2VkIH0gPSB7fSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UobmFtZSk7XG4gICAgaWYgKGJsb2NrZWQpIHtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdibG9ja2VkJywgKGV2ZW50KSA9PiBibG9ja2VkKFxuICAgICAgICAvLyBDYXN0aW5nIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQtRE9NLWxpYi1nZW5lcmF0b3IvcHVsbC8xNDA1XG4gICAgICAgIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50KSk7XG4gICAgfVxuICAgIHJldHVybiB3cmFwKHJlcXVlc3QpLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbn1cblxuY29uc3QgcmVhZE1ldGhvZHMgPSBbJ2dldCcsICdnZXRLZXknLCAnZ2V0QWxsJywgJ2dldEFsbEtleXMnLCAnY291bnQnXTtcbmNvbnN0IHdyaXRlTWV0aG9kcyA9IFsncHV0JywgJ2FkZCcsICdkZWxldGUnLCAnY2xlYXInXTtcbmNvbnN0IGNhY2hlZE1ldGhvZHMgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB7XG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSURCRGF0YWJhc2UgJiZcbiAgICAgICAgIShwcm9wIGluIHRhcmdldCkgJiZcbiAgICAgICAgdHlwZW9mIHByb3AgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYWNoZWRNZXRob2RzLmdldChwcm9wKSlcbiAgICAgICAgcmV0dXJuIGNhY2hlZE1ldGhvZHMuZ2V0KHByb3ApO1xuICAgIGNvbnN0IHRhcmdldEZ1bmNOYW1lID0gcHJvcC5yZXBsYWNlKC9Gcm9tSW5kZXgkLywgJycpO1xuICAgIGNvbnN0IHVzZUluZGV4ID0gcHJvcCAhPT0gdGFyZ2V0RnVuY05hbWU7XG4gICAgY29uc3QgaXNXcml0ZSA9IHdyaXRlTWV0aG9kcy5pbmNsdWRlcyh0YXJnZXRGdW5jTmFtZSk7XG4gICAgaWYgKFxuICAgIC8vIEJhaWwgaWYgdGhlIHRhcmdldCBkb2Vzbid0IGV4aXN0IG9uIHRoZSB0YXJnZXQuIEVnLCBnZXRBbGwgaXNuJ3QgaW4gRWRnZS5cbiAgICAhKHRhcmdldEZ1bmNOYW1lIGluICh1c2VJbmRleCA/IElEQkluZGV4IDogSURCT2JqZWN0U3RvcmUpLnByb3RvdHlwZSkgfHxcbiAgICAgICAgIShpc1dyaXRlIHx8IHJlYWRNZXRob2RzLmluY2x1ZGVzKHRhcmdldEZ1bmNOYW1lKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSBhc3luYyBmdW5jdGlvbiAoc3RvcmVOYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIGlzV3JpdGUgPyAncmVhZHdyaXRlJyA6IHVuZGVmaW5lZCBnemlwcHMgYmV0dGVyLCBidXQgZmFpbHMgaW4gRWRnZSA6KFxuICAgICAgICBjb25zdCB0eCA9IHRoaXMudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCBpc1dyaXRlID8gJ3JlYWR3cml0ZScgOiAncmVhZG9ubHknKTtcbiAgICAgICAgbGV0IHRhcmdldCA9IHR4LnN0b3JlO1xuICAgICAgICBpZiAodXNlSW5kZXgpXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQuaW5kZXgoYXJncy5zaGlmdCgpKTtcbiAgICAgICAgLy8gTXVzdCByZWplY3QgaWYgb3AgcmVqZWN0cy5cbiAgICAgICAgLy8gSWYgaXQncyBhIHdyaXRlIG9wZXJhdGlvbiwgbXVzdCByZWplY3QgaWYgdHguZG9uZSByZWplY3RzLlxuICAgICAgICAvLyBNdXN0IHJlamVjdCB3aXRoIG9wIHJlamVjdGlvbiBmaXJzdC5cbiAgICAgICAgLy8gTXVzdCByZXNvbHZlIHdpdGggb3AgdmFsdWUuXG4gICAgICAgIC8vIE11c3QgaGFuZGxlIGJvdGggcHJvbWlzZXMgKG5vIHVuaGFuZGxlZCByZWplY3Rpb25zKVxuICAgICAgICByZXR1cm4gKGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRGdW5jTmFtZV0oLi4uYXJncyksXG4gICAgICAgICAgICBpc1dyaXRlICYmIHR4LmRvbmUsXG4gICAgICAgIF0pKVswXTtcbiAgICB9O1xuICAgIGNhY2hlZE1ldGhvZHMuc2V0KHByb3AsIG1ldGhvZCk7XG4gICAgcmV0dXJuIG1ldGhvZDtcbn1cbnJlcGxhY2VUcmFwcygob2xkVHJhcHMpID0+ICh7XG4gICAgLi4ub2xkVHJhcHMsXG4gICAgZ2V0OiAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgPT4gZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpLFxuICAgIGhhczogKHRhcmdldCwgcHJvcCkgPT4gISFnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB8fCBvbGRUcmFwcy5oYXModGFyZ2V0LCBwcm9wKSxcbn0pKTtcblxuZXhwb3J0IHsgZGVsZXRlREIsIG9wZW5EQiB9O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIENvbXBvbmVudENvbnRhaW5lcixcbiAgQ29tcG9uZW50VHlwZSxcbiAgUHJvdmlkZXIsXG4gIE5hbWVcbn0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBQbGF0Zm9ybUxvZ2dlclNlcnZpY2UsIFZlcnNpb25TZXJ2aWNlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsIGltcGxlbWVudHMgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IENvbXBvbmVudENvbnRhaW5lcikge31cbiAgLy8gSW4gaW5pdGlhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3aWxsIGJlIGNhbGxlZCBieSBpbnN0YWxsYXRpb25zIG9uXG4gIC8vIGF1dGggdG9rZW4gcmVmcmVzaCwgYW5kIGluc3RhbGxhdGlvbnMgd2lsbCBzZW5kIHRoaXMgc3RyaW5nLlxuICBnZXRQbGF0Zm9ybUluZm9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBwcm92aWRlcnMgPSB0aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcnMoKTtcbiAgICAvLyBMb29wIHRocm91Z2ggcHJvdmlkZXJzIGFuZCBnZXQgbGlicmFyeS92ZXJzaW9uIHBhaXJzIGZyb20gYW55IHRoYXQgYXJlXG4gICAgLy8gdmVyc2lvbiBjb21wb25lbnRzLlxuICAgIHJldHVybiBwcm92aWRlcnNcbiAgICAgIC5tYXAocHJvdmlkZXIgPT4ge1xuICAgICAgICBpZiAoaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICAgIGNvbnN0IHNlcnZpY2UgPSBwcm92aWRlci5nZXRJbW1lZGlhdGUoKSBhcyBWZXJzaW9uU2VydmljZTtcbiAgICAgICAgICByZXR1cm4gYCR7c2VydmljZS5saWJyYXJ5fS8ke3NlcnZpY2UudmVyc2lvbn1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmZpbHRlcihsb2dTdHJpbmcgPT4gbG9nU3RyaW5nKVxuICAgICAgLmpvaW4oJyAnKTtcbiAgfVxufVxuLyoqXG4gKlxuICogQHBhcmFtIHByb3ZpZGVyIGNoZWNrIGlmIHRoaXMgcHJvdmlkZXIgcHJvdmlkZXMgYSBWZXJzaW9uU2VydmljZVxuICpcbiAqIE5PVEU6IFVzaW5nIFByb3ZpZGVyPCdhcHAtdmVyc2lvbic+IGlzIGEgaGFjayB0byBpbmRpY2F0ZSB0aGF0IHRoZSBwcm92aWRlclxuICogcHJvdmlkZXMgVmVyc2lvblNlcnZpY2UuIFRoZSBwcm92aWRlciBpcyBub3QgbmVjZXNzYXJpbHkgYSAnYXBwLXZlcnNpb24nXG4gKiBwcm92aWRlci5cbiAqL1xuZnVuY3Rpb24gaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyKHByb3ZpZGVyOiBQcm92aWRlcjxOYW1lPik6IGJvb2xlYW4ge1xuICBjb25zdCBjb21wb25lbnQgPSBwcm92aWRlci5nZXRDb21wb25lbnQoKTtcbiAgcmV0dXJuIGNvbXBvbmVudD8udHlwZSA9PT0gQ29tcG9uZW50VHlwZS5WRVJTSU9OO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJ0BmaXJlYmFzZS9sb2dnZXInO1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignQGZpcmViYXNlL2FwcCcpO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IG5hbWUgYXMgYXBwTmFtZSB9IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGFwcENvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi9hcHAtY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGFuYWx5dGljc0NvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9hbmFseXRpY3MtY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGFuYWx5dGljc05hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9hbmFseXRpY3MvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgYXBwQ2hlY2tDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvYXBwLWNoZWNrLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBhcHBDaGVja05hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9hcHAtY2hlY2svcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgYXV0aE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9hdXRoL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGF1dGhDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvYXV0aC1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgZGF0YWJhc2VOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvZGF0YWJhc2UvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgZGF0YWNvbm5lY3ROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvZGF0YS1jb25uZWN0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGRhdGFiYXNlQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2RhdGFiYXNlLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBmdW5jdGlvbnNOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvZnVuY3Rpb25zL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGZ1bmN0aW9uc0NvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9mdW5jdGlvbnMtY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGluc3RhbGxhdGlvbnNOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvaW5zdGFsbGF0aW9ucy9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBpbnN0YWxsYXRpb25zQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2luc3RhbGxhdGlvbnMtY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIG1lc3NhZ2luZ05hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9tZXNzYWdpbmcvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgbWVzc2FnaW5nQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL21lc3NhZ2luZy1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgcGVyZm9ybWFuY2VOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvcGVyZm9ybWFuY2UvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgcGVyZm9ybWFuY2VDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvcGVyZm9ybWFuY2UtY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIHJlbW90ZUNvbmZpZ05hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9yZW1vdGUtY29uZmlnL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIHJlbW90ZUNvbmZpZ0NvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9yZW1vdGUtY29uZmlnLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBzdG9yYWdlTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL3N0b3JhZ2UvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgc3RvcmFnZUNvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9zdG9yYWdlLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBmaXJlc3RvcmVOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvZmlyZXN0b3JlL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIHZlcnRleE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy92ZXJ0ZXhhaS9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBmaXJlc3RvcmVDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvZmlyZXN0b3JlLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBwYWNrYWdlTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2ZpcmViYXNlL3BhY2thZ2UuanNvbic7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgYXBwIG5hbWVcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRU5UUllfTkFNRSA9ICdbREVGQVVMVF0nO1xuXG5leHBvcnQgY29uc3QgUExBVEZPUk1fTE9HX1NUUklORyA9IHtcbiAgW2FwcE5hbWVdOiAnZmlyZS1jb3JlJyxcbiAgW2FwcENvbXBhdE5hbWVdOiAnZmlyZS1jb3JlLWNvbXBhdCcsXG4gIFthbmFseXRpY3NOYW1lXTogJ2ZpcmUtYW5hbHl0aWNzJyxcbiAgW2FuYWx5dGljc0NvbXBhdE5hbWVdOiAnZmlyZS1hbmFseXRpY3MtY29tcGF0JyxcbiAgW2FwcENoZWNrTmFtZV06ICdmaXJlLWFwcC1jaGVjaycsXG4gIFthcHBDaGVja0NvbXBhdE5hbWVdOiAnZmlyZS1hcHAtY2hlY2stY29tcGF0JyxcbiAgW2F1dGhOYW1lXTogJ2ZpcmUtYXV0aCcsXG4gIFthdXRoQ29tcGF0TmFtZV06ICdmaXJlLWF1dGgtY29tcGF0JyxcbiAgW2RhdGFiYXNlTmFtZV06ICdmaXJlLXJ0ZGInLFxuICBbZGF0YWNvbm5lY3ROYW1lXTogJ2ZpcmUtZGF0YS1jb25uZWN0JyxcbiAgW2RhdGFiYXNlQ29tcGF0TmFtZV06ICdmaXJlLXJ0ZGItY29tcGF0JyxcbiAgW2Z1bmN0aW9uc05hbWVdOiAnZmlyZS1mbicsXG4gIFtmdW5jdGlvbnNDb21wYXROYW1lXTogJ2ZpcmUtZm4tY29tcGF0JyxcbiAgW2luc3RhbGxhdGlvbnNOYW1lXTogJ2ZpcmUtaWlkJyxcbiAgW2luc3RhbGxhdGlvbnNDb21wYXROYW1lXTogJ2ZpcmUtaWlkLWNvbXBhdCcsXG4gIFttZXNzYWdpbmdOYW1lXTogJ2ZpcmUtZmNtJyxcbiAgW21lc3NhZ2luZ0NvbXBhdE5hbWVdOiAnZmlyZS1mY20tY29tcGF0JyxcbiAgW3BlcmZvcm1hbmNlTmFtZV06ICdmaXJlLXBlcmYnLFxuICBbcGVyZm9ybWFuY2VDb21wYXROYW1lXTogJ2ZpcmUtcGVyZi1jb21wYXQnLFxuICBbcmVtb3RlQ29uZmlnTmFtZV06ICdmaXJlLXJjJyxcbiAgW3JlbW90ZUNvbmZpZ0NvbXBhdE5hbWVdOiAnZmlyZS1yYy1jb21wYXQnLFxuICBbc3RvcmFnZU5hbWVdOiAnZmlyZS1nY3MnLFxuICBbc3RvcmFnZUNvbXBhdE5hbWVdOiAnZmlyZS1nY3MtY29tcGF0JyxcbiAgW2ZpcmVzdG9yZU5hbWVdOiAnZmlyZS1mc3QnLFxuICBbZmlyZXN0b3JlQ29tcGF0TmFtZV06ICdmaXJlLWZzdC1jb21wYXQnLFxuICBbdmVydGV4TmFtZV06ICdmaXJlLXZlcnRleCcsXG4gICdmaXJlLWpzJzogJ2ZpcmUtanMnLCAvLyBQbGF0Zm9ybSBpZGVudGlmaWVyIGZvciBKUyBTREsuXG4gIFtwYWNrYWdlTmFtZV06ICdmaXJlLWpzLWFsbCdcbn0gYXMgY29uc3Q7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRmlyZWJhc2VBcHAsXG4gIEZpcmViYXNlT3B0aW9ucyxcbiAgRmlyZWJhc2VTZXJ2ZXJBcHBcbn0gZnJvbSAnLi9wdWJsaWMtdHlwZXMnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBQcm92aWRlciwgTmFtZSB9IGZyb20gJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgREVGQVVMVF9FTlRSWV9OQU1FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgRmlyZWJhc2VBcHBJbXBsIH0gZnJvbSAnLi9maXJlYmFzZUFwcCc7XG5pbXBvcnQgeyBGaXJlYmFzZVNlcnZlckFwcEltcGwgfSBmcm9tICcuL2ZpcmViYXNlU2VydmVyQXBwJztcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IF9hcHBzID0gbmV3IE1hcDxzdHJpbmcsIEZpcmViYXNlQXBwPigpO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX3NlcnZlckFwcHMgPSBuZXcgTWFwPHN0cmluZywgRmlyZWJhc2VTZXJ2ZXJBcHA+KCk7XG5cbi8qKlxuICogUmVnaXN0ZXJlZCBjb21wb25lbnRzLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGNvbnN0IF9jb21wb25lbnRzID0gbmV3IE1hcDxzdHJpbmcsIENvbXBvbmVudDxhbnk+PigpO1xuXG4vKipcbiAqIEBwYXJhbSBjb21wb25lbnQgLSB0aGUgY29tcG9uZW50IGJlaW5nIGFkZGVkIHRvIHRoaXMgYXBwJ3MgY29udGFpbmVyXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfYWRkQ29tcG9uZW50PFQgZXh0ZW5kcyBOYW1lPihcbiAgYXBwOiBGaXJlYmFzZUFwcCxcbiAgY29tcG9uZW50OiBDb21wb25lbnQ8VD5cbik6IHZvaWQge1xuICB0cnkge1xuICAgIChhcHAgYXMgRmlyZWJhc2VBcHBJbXBsKS5jb250YWluZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIuZGVidWcoXG4gICAgICBgQ29tcG9uZW50ICR7Y29tcG9uZW50Lm5hbWV9IGZhaWxlZCB0byByZWdpc3RlciB3aXRoIEZpcmViYXNlQXBwICR7YXBwLm5hbWV9YCxcbiAgICAgIGVcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gX2FkZE9yT3ZlcndyaXRlQ29tcG9uZW50KFxuICBhcHA6IEZpcmViYXNlQXBwLFxuICBjb21wb25lbnQ6IENvbXBvbmVudFxuKTogdm9pZCB7XG4gIChhcHAgYXMgRmlyZWJhc2VBcHBJbXBsKS5jb250YWluZXIuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQoY29tcG9uZW50KTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudCAtIHRoZSBjb21wb25lbnQgdG8gcmVnaXN0ZXJcbiAqIEByZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHlcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9yZWdpc3RlckNvbXBvbmVudDxUIGV4dGVuZHMgTmFtZT4oXG4gIGNvbXBvbmVudDogQ29tcG9uZW50PFQ+XG4pOiBib29sZWFuIHtcbiAgY29uc3QgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5uYW1lO1xuICBpZiAoX2NvbXBvbmVudHMuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgYFRoZXJlIHdlcmUgbXVsdGlwbGUgYXR0ZW1wdHMgdG8gcmVnaXN0ZXIgY29tcG9uZW50ICR7Y29tcG9uZW50TmFtZX0uYFxuICAgICk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBfY29tcG9uZW50cy5zZXQoY29tcG9uZW50TmFtZSwgY29tcG9uZW50KTtcblxuICAvLyBhZGQgdGhlIGNvbXBvbmVudCB0byBleGlzdGluZyBhcHAgaW5zdGFuY2VzXG4gIGZvciAoY29uc3QgYXBwIG9mIF9hcHBzLnZhbHVlcygpKSB7XG4gICAgX2FkZENvbXBvbmVudChhcHAgYXMgRmlyZWJhc2VBcHBJbXBsLCBjb21wb25lbnQpO1xuICB9XG5cbiAgZm9yIChjb25zdCBzZXJ2ZXJBcHAgb2YgX3NlcnZlckFwcHMudmFsdWVzKCkpIHtcbiAgICBfYWRkQ29tcG9uZW50KHNlcnZlckFwcCBhcyBGaXJlYmFzZVNlcnZlckFwcEltcGwsIGNvbXBvbmVudCk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIGFwcCAtIEZpcmViYXNlQXBwIGluc3RhbmNlXG4gKiBAcGFyYW0gbmFtZSAtIHNlcnZpY2UgbmFtZVxuICpcbiAqIEByZXR1cm5zIHRoZSBwcm92aWRlciBmb3IgdGhlIHNlcnZpY2Ugd2l0aCB0aGUgbWF0Y2hpbmcgbmFtZVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gX2dldFByb3ZpZGVyPFQgZXh0ZW5kcyBOYW1lPihcbiAgYXBwOiBGaXJlYmFzZUFwcCxcbiAgbmFtZTogVFxuKTogUHJvdmlkZXI8VD4ge1xuICBjb25zdCBoZWFydGJlYXRDb250cm9sbGVyID0gKGFwcCBhcyBGaXJlYmFzZUFwcEltcGwpLmNvbnRhaW5lclxuICAgIC5nZXRQcm92aWRlcignaGVhcnRiZWF0JylcbiAgICAuZ2V0SW1tZWRpYXRlKHsgb3B0aW9uYWw6IHRydWUgfSk7XG4gIGlmIChoZWFydGJlYXRDb250cm9sbGVyKSB7XG4gICAgdm9pZCBoZWFydGJlYXRDb250cm9sbGVyLnRyaWdnZXJIZWFydGJlYXQoKTtcbiAgfVxuICByZXR1cm4gKGFwcCBhcyBGaXJlYmFzZUFwcEltcGwpLmNvbnRhaW5lci5nZXRQcm92aWRlcihuYW1lKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIGFwcCAtIEZpcmViYXNlQXBwIGluc3RhbmNlXG4gKiBAcGFyYW0gbmFtZSAtIHNlcnZpY2UgbmFtZVxuICogQHBhcmFtIGluc3RhbmNlSWRlbnRpZmllciAtIHNlcnZpY2UgaW5zdGFuY2UgaWRlbnRpZmllciBpbiBjYXNlIHRoZSBzZXJ2aWNlIHN1cHBvcnRzIG11bHRpcGxlIGluc3RhbmNlc1xuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gX3JlbW92ZVNlcnZpY2VJbnN0YW5jZTxUIGV4dGVuZHMgTmFtZT4oXG4gIGFwcDogRmlyZWJhc2VBcHAsXG4gIG5hbWU6IFQsXG4gIGluc3RhbmNlSWRlbnRpZmllcjogc3RyaW5nID0gREVGQVVMVF9FTlRSWV9OQU1FXG4pOiB2b2lkIHtcbiAgX2dldFByb3ZpZGVyKGFwcCwgbmFtZSkuY2xlYXJJbnN0YW5jZShpbnN0YW5jZUlkZW50aWZpZXIpO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gb2JqIC0gYW4gb2JqZWN0IG9mIHR5cGUgRmlyZWJhc2VBcHAgb3IgRmlyZWJhc2VPcHRpb25zLlxuICpcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGUgb2JqZWN0IGlzIG9mIHR5cGUgRmlyZWJhc2VBcHAuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfaXNGaXJlYmFzZUFwcChcbiAgb2JqOiBGaXJlYmFzZUFwcCB8IEZpcmViYXNlT3B0aW9uc1xuKTogb2JqIGlzIEZpcmViYXNlQXBwIHtcbiAgcmV0dXJuIChvYmogYXMgRmlyZWJhc2VBcHApLm9wdGlvbnMgIT09IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIG9iaiAtIGFuIG9iamVjdCBvZiB0eXBlIEZpcmViYXNlQXBwLlxuICpcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIG9iamVjdCBpcyBvZiB0eXBlIEZpcmViYXNlU2VydmVyQXBwSW1wbC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9pc0ZpcmViYXNlU2VydmVyQXBwKFxuICBvYmo6IEZpcmViYXNlQXBwIHwgRmlyZWJhc2VTZXJ2ZXJBcHBcbik6IG9iaiBpcyBGaXJlYmFzZVNlcnZlckFwcCB7XG4gIHJldHVybiAob2JqIGFzIEZpcmViYXNlU2VydmVyQXBwKS5zZXR0aW5ncyAhPT0gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFRlc3Qgb25seVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gX2NsZWFyQ29tcG9uZW50cygpOiB2b2lkIHtcbiAgX2NvbXBvbmVudHMuY2xlYXIoKTtcbn1cblxuLyoqXG4gKiBFeHBvcnRlZCBpbiBvcmRlciB0byBiZSB1c2VkIGluIGFwcC1jb21wYXQgcGFja2FnZVxuICovXG5leHBvcnQgeyBERUZBVUxUX0VOVFJZX05BTUUgYXMgX0RFRkFVTFRfRU5UUllfTkFNRSB9O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEVycm9yRmFjdG9yeSwgRXJyb3JNYXAgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIEFwcEVycm9yIHtcbiAgTk9fQVBQID0gJ25vLWFwcCcsXG4gIEJBRF9BUFBfTkFNRSA9ICdiYWQtYXBwLW5hbWUnLFxuICBEVVBMSUNBVEVfQVBQID0gJ2R1cGxpY2F0ZS1hcHAnLFxuICBBUFBfREVMRVRFRCA9ICdhcHAtZGVsZXRlZCcsXG4gIFNFUlZFUl9BUFBfREVMRVRFRCA9ICdzZXJ2ZXItYXBwLWRlbGV0ZWQnLFxuICBOT19PUFRJT05TID0gJ25vLW9wdGlvbnMnLFxuICBJTlZBTElEX0FQUF9BUkdVTUVOVCA9ICdpbnZhbGlkLWFwcC1hcmd1bWVudCcsXG4gIElOVkFMSURfTE9HX0FSR1VNRU5UID0gJ2ludmFsaWQtbG9nLWFyZ3VtZW50JyxcbiAgSURCX09QRU4gPSAnaWRiLW9wZW4nLFxuICBJREJfR0VUID0gJ2lkYi1nZXQnLFxuICBJREJfV1JJVEUgPSAnaWRiLXNldCcsXG4gIElEQl9ERUxFVEUgPSAnaWRiLWRlbGV0ZScsXG4gIEZJTkFMSVpBVElPTl9SRUdJU1RSWV9OT1RfU1VQUE9SVEVEID0gJ2ZpbmFsaXphdGlvbi1yZWdpc3RyeS1ub3Qtc3VwcG9ydGVkJyxcbiAgSU5WQUxJRF9TRVJWRVJfQVBQX0VOVklST05NRU5UID0gJ2ludmFsaWQtc2VydmVyLWFwcC1lbnZpcm9ubWVudCdcbn1cblxuY29uc3QgRVJST1JTOiBFcnJvck1hcDxBcHBFcnJvcj4gPSB7XG4gIFtBcHBFcnJvci5OT19BUFBdOlxuICAgIFwiTm8gRmlyZWJhc2UgQXBwICd7JGFwcE5hbWV9JyBoYXMgYmVlbiBjcmVhdGVkIC0gXCIgK1xuICAgICdjYWxsIGluaXRpYWxpemVBcHAoKSBmaXJzdCcsXG4gIFtBcHBFcnJvci5CQURfQVBQX05BTUVdOiBcIklsbGVnYWwgQXBwIG5hbWU6ICd7JGFwcE5hbWV9J1wiLFxuICBbQXBwRXJyb3IuRFVQTElDQVRFX0FQUF06XG4gICAgXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZXhpc3RzIHdpdGggZGlmZmVyZW50IG9wdGlvbnMgb3IgY29uZmlnXCIsXG4gIFtBcHBFcnJvci5BUFBfREVMRVRFRF06IFwiRmlyZWJhc2UgQXBwIG5hbWVkICd7JGFwcE5hbWV9JyBhbHJlYWR5IGRlbGV0ZWRcIixcbiAgW0FwcEVycm9yLlNFUlZFUl9BUFBfREVMRVRFRF06ICdGaXJlYmFzZSBTZXJ2ZXIgQXBwIGhhcyBiZWVuIGRlbGV0ZWQnLFxuICBbQXBwRXJyb3IuTk9fT1BUSU9OU106XG4gICAgJ05lZWQgdG8gcHJvdmlkZSBvcHRpb25zLCB3aGVuIG5vdCBiZWluZyBkZXBsb3llZCB0byBob3N0aW5nIHZpYSBzb3VyY2UuJyxcbiAgW0FwcEVycm9yLklOVkFMSURfQVBQX0FSR1VNRU5UXTpcbiAgICAnZmlyZWJhc2UueyRhcHBOYW1lfSgpIHRha2VzIGVpdGhlciBubyBhcmd1bWVudCBvciBhICcgK1xuICAgICdGaXJlYmFzZSBBcHAgaW5zdGFuY2UuJyxcbiAgW0FwcEVycm9yLklOVkFMSURfTE9HX0FSR1VNRU5UXTpcbiAgICAnRmlyc3QgYXJndW1lbnQgdG8gYG9uTG9nYCBtdXN0IGJlIG51bGwgb3IgYSBmdW5jdGlvbi4nLFxuICBbQXBwRXJyb3IuSURCX09QRU5dOlxuICAgICdFcnJvciB0aHJvd24gd2hlbiBvcGVuaW5nIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LicsXG4gIFtBcHBFcnJvci5JREJfR0VUXTpcbiAgICAnRXJyb3IgdGhyb3duIHdoZW4gcmVhZGluZyBmcm9tIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LicsXG4gIFtBcHBFcnJvci5JREJfV1JJVEVdOlxuICAgICdFcnJvciB0aHJvd24gd2hlbiB3cml0aW5nIHRvIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LicsXG4gIFtBcHBFcnJvci5JREJfREVMRVRFXTpcbiAgICAnRXJyb3IgdGhyb3duIHdoZW4gZGVsZXRpbmcgZnJvbSBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxuICBbQXBwRXJyb3IuRklOQUxJWkFUSU9OX1JFR0lTVFJZX05PVF9TVVBQT1JURURdOlxuICAgICdGaXJlYmFzZVNlcnZlckFwcCBkZWxldGVPbkRlcmVmIGZpZWxkIGRlZmluZWQgYnV0IHRoZSBKUyBydW50aW1lIGRvZXMgbm90IHN1cHBvcnQgRmluYWxpemF0aW9uUmVnaXN0cnkuJyxcbiAgW0FwcEVycm9yLklOVkFMSURfU0VSVkVSX0FQUF9FTlZJUk9OTUVOVF06XG4gICAgJ0ZpcmViYXNlU2VydmVyQXBwIGlzIG5vdCBmb3IgdXNlIGluIGJyb3dzZXIgZW52aXJvbm1lbnRzLidcbn07XG5cbmludGVyZmFjZSBFcnJvclBhcmFtcyB7XG4gIFtBcHBFcnJvci5OT19BUFBdOiB7IGFwcE5hbWU6IHN0cmluZyB9O1xuICBbQXBwRXJyb3IuQkFEX0FQUF9OQU1FXTogeyBhcHBOYW1lOiBzdHJpbmcgfTtcbiAgW0FwcEVycm9yLkRVUExJQ0FURV9BUFBdOiB7IGFwcE5hbWU6IHN0cmluZyB9O1xuICBbQXBwRXJyb3IuQVBQX0RFTEVURURdOiB7IGFwcE5hbWU6IHN0cmluZyB9O1xuICBbQXBwRXJyb3IuSU5WQUxJRF9BUFBfQVJHVU1FTlRdOiB7IGFwcE5hbWU6IHN0cmluZyB9O1xuICBbQXBwRXJyb3IuSURCX09QRU5dOiB7IG9yaWdpbmFsRXJyb3JNZXNzYWdlPzogc3RyaW5nIH07XG4gIFtBcHBFcnJvci5JREJfR0VUXTogeyBvcmlnaW5hbEVycm9yTWVzc2FnZT86IHN0cmluZyB9O1xuICBbQXBwRXJyb3IuSURCX1dSSVRFXTogeyBvcmlnaW5hbEVycm9yTWVzc2FnZT86IHN0cmluZyB9O1xuICBbQXBwRXJyb3IuSURCX0RFTEVURV06IHsgb3JpZ2luYWxFcnJvck1lc3NhZ2U/OiBzdHJpbmcgfTtcbiAgW0FwcEVycm9yLkZJTkFMSVpBVElPTl9SRUdJU1RSWV9OT1RfU1VQUE9SVEVEXTogeyBhcHBOYW1lPzogc3RyaW5nIH07XG59XG5cbmV4cG9ydCBjb25zdCBFUlJPUl9GQUNUT1JZID0gbmV3IEVycm9yRmFjdG9yeTxBcHBFcnJvciwgRXJyb3JQYXJhbXM+KFxuICAnYXBwJyxcbiAgJ0ZpcmViYXNlJyxcbiAgRVJST1JTXG4pO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEZpcmViYXNlQXBwLFxuICBGaXJlYmFzZU9wdGlvbnMsXG4gIEZpcmViYXNlQXBwU2V0dGluZ3Ncbn0gZnJvbSAnLi9wdWJsaWMtdHlwZXMnO1xuaW1wb3J0IHtcbiAgQ29tcG9uZW50Q29udGFpbmVyLFxuICBDb21wb25lbnQsXG4gIENvbXBvbmVudFR5cGVcbn0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBFUlJPUl9GQUNUT1JZLCBBcHBFcnJvciB9IGZyb20gJy4vZXJyb3JzJztcblxuZXhwb3J0IGNsYXNzIEZpcmViYXNlQXBwSW1wbCBpbXBsZW1lbnRzIEZpcmViYXNlQXBwIHtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IF9vcHRpb25zOiBGaXJlYmFzZU9wdGlvbnM7XG4gIHByb3RlY3RlZCByZWFkb25seSBfbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogT3JpZ2luYWwgY29uZmlnIHZhbHVlcyBwYXNzZWQgaW4gYXMgYSBjb25zdHJ1Y3RvciBwYXJhbWV0ZXIuXG4gICAqIEl0IGlzIG9ubHkgdXNlZCB0byBjb21wYXJlIHdpdGggYW5vdGhlciBjb25maWcgb2JqZWN0IHRvIHN1cHBvcnQgaWRlbXBvdGVudCBpbml0aWFsaXplQXBwKCkuXG4gICAqXG4gICAqIFVwZGF0aW5nIGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCBvbiB0aGUgQXBwIGluc3RhbmNlIHdpbGwgbm90IGNoYW5nZSBpdHMgdmFsdWUgaW4gX2NvbmZpZy5cbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgX2NvbmZpZzogUmVxdWlyZWQ8RmlyZWJhc2VBcHBTZXR0aW5ncz47XG4gIHByaXZhdGUgX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDogYm9vbGVhbjtcbiAgcHJvdGVjdGVkIF9pc0RlbGV0ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSByZWFkb25seSBfY29udGFpbmVyOiBDb21wb25lbnRDb250YWluZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgb3B0aW9uczogRmlyZWJhc2VPcHRpb25zLFxuICAgIGNvbmZpZzogUmVxdWlyZWQ8RmlyZWJhc2VBcHBTZXR0aW5ncz4sXG4gICAgY29udGFpbmVyOiBDb21wb25lbnRDb250YWluZXJcbiAgKSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMuX2NvbmZpZyA9IHsgLi4uY29uZmlnIH07XG4gICAgdGhpcy5fbmFtZSA9IGNvbmZpZy5uYW1lO1xuICAgIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9XG4gICAgICBjb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLmNvbnRhaW5lci5hZGRDb21wb25lbnQoXG4gICAgICBuZXcgQ29tcG9uZW50KCdhcHAnLCAoKSA9PiB0aGlzLCBDb21wb25lbnRUeXBlLlBVQkxJQylcbiAgICApO1xuICB9XG5cbiAgZ2V0IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDtcbiAgfVxuXG4gIHNldCBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQodmFsOiBib29sZWFuKSB7XG4gICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9IHZhbDtcbiAgfVxuXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICB9XG5cbiAgZ2V0IG9wdGlvbnMoKTogRmlyZWJhc2VPcHRpb25zIHtcbiAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gIH1cblxuICBnZXQgY29uZmlnKCk6IFJlcXVpcmVkPEZpcmViYXNlQXBwU2V0dGluZ3M+IHtcbiAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgfVxuXG4gIGdldCBjb250YWluZXIoKTogQ29tcG9uZW50Q29udGFpbmVyIHtcbiAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuICB9XG5cbiAgZ2V0IGlzRGVsZXRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faXNEZWxldGVkO1xuICB9XG5cbiAgc2V0IGlzRGVsZXRlZCh2YWw6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9pc0RlbGV0ZWQgPSB2YWw7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIEVycm9yIGlmIHRoZSBBcHAgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkIC1cbiAgICogdXNlIGJlZm9yZSBwZXJmb3JtaW5nIEFQSSBhY3Rpb25zIG9uIHRoZSBBcHAuXG4gICAqL1xuICBwcm90ZWN0ZWQgY2hlY2tEZXN0cm95ZWQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNEZWxldGVkKSB7XG4gICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5BUFBfREVMRVRFRCwgeyBhcHBOYW1lOiB0aGlzLl9uYW1lIH0pO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEZpcmViYXNlQXBwU2V0dGluZ3MsXG4gIEZpcmViYXNlU2VydmVyQXBwLFxuICBGaXJlYmFzZVNlcnZlckFwcFNldHRpbmdzLFxuICBGaXJlYmFzZU9wdGlvbnNcbn0gZnJvbSAnLi9wdWJsaWMtdHlwZXMnO1xuaW1wb3J0IHsgZGVsZXRlQXBwLCByZWdpc3RlclZlcnNpb24gfSBmcm9tICcuL2FwaSc7XG5pbXBvcnQgeyBDb21wb25lbnRDb250YWluZXIgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IEZpcmViYXNlQXBwSW1wbCB9IGZyb20gJy4vZmlyZWJhc2VBcHAnO1xuaW1wb3J0IHsgRVJST1JfRkFDVE9SWSwgQXBwRXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyBuYW1lIGFzIHBhY2thZ2VOYW1lLCB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZS5qc29uJztcblxuZXhwb3J0IGNsYXNzIEZpcmViYXNlU2VydmVyQXBwSW1wbFxuICBleHRlbmRzIEZpcmViYXNlQXBwSW1wbFxuICBpbXBsZW1lbnRzIEZpcmViYXNlU2VydmVyQXBwXG57XG4gIHByaXZhdGUgcmVhZG9ubHkgX3NlcnZlckNvbmZpZzogRmlyZWJhc2VTZXJ2ZXJBcHBTZXR0aW5ncztcbiAgcHJpdmF0ZSBfZmluYWxpemF0aW9uUmVnaXN0cnk6IEZpbmFsaXphdGlvblJlZ2lzdHJ5PG9iamVjdD4gfCBudWxsO1xuICBwcml2YXRlIF9yZWZDb3VudDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG9wdGlvbnM6IEZpcmViYXNlT3B0aW9ucyB8IEZpcmViYXNlQXBwSW1wbCxcbiAgICBzZXJ2ZXJDb25maWc6IEZpcmViYXNlU2VydmVyQXBwU2V0dGluZ3MsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGNvbnRhaW5lcjogQ29tcG9uZW50Q29udGFpbmVyXG4gICkge1xuICAgIC8vIEJ1aWxkIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBmb3IgdGhlIEZpcmViYXNlQXBwSW1wbCBiYXNlIGNsYXNzLlxuICAgIGNvbnN0IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9XG4gICAgICBzZXJ2ZXJDb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBzZXJ2ZXJDb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvLyBDcmVhdGUgdGhlIEZpcmViYXNlQXBwU2V0dGluZ3Mgb2JqZWN0IGZvciB0aGUgRmlyZWJhc2VBcHBJbXAgY29uc3RydWN0b3IuXG4gICAgY29uc3QgY29uZmlnOiBSZXF1aXJlZDxGaXJlYmFzZUFwcFNldHRpbmdzPiA9IHtcbiAgICAgIG5hbWUsXG4gICAgICBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWRcbiAgICB9O1xuXG4gICAgaWYgKChvcHRpb25zIGFzIEZpcmViYXNlT3B0aW9ucykuYXBpS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIENvbnN0cnVjdCB0aGUgcGFyZW50IEZpcmViYXNlQXBwSW1wIG9iamVjdC5cbiAgICAgIHN1cGVyKG9wdGlvbnMgYXMgRmlyZWJhc2VPcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGFwcEltcGw6IEZpcmViYXNlQXBwSW1wbCA9IG9wdGlvbnMgYXMgRmlyZWJhc2VBcHBJbXBsO1xuICAgICAgc3VwZXIoYXBwSW1wbC5vcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgLy8gTm93IGNvbnN0cnVjdCB0aGUgZGF0YSBmb3IgdGhlIEZpcmViYXNlU2VydmVyQXBwSW1wbC5cbiAgICB0aGlzLl9zZXJ2ZXJDb25maWcgPSB7XG4gICAgICBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQsXG4gICAgICAuLi5zZXJ2ZXJDb25maWdcbiAgICB9O1xuXG4gICAgdGhpcy5fZmluYWxpemF0aW9uUmVnaXN0cnkgPSBudWxsO1xuICAgIGlmICh0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeSA9IG5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeSgoKSA9PiB7XG4gICAgICAgIHRoaXMuYXV0b21hdGljQ2xlYW51cCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmQ291bnQgPSAwO1xuICAgIHRoaXMuaW5jUmVmQ291bnQodGhpcy5fc2VydmVyQ29uZmlnLnJlbGVhc2VPbkRlcmVmKTtcblxuICAgIC8vIERvIG5vdCByZXRhaW4gYSBoYXJkIHJlZmVyZW5jZSB0byB0aGUgZHJlZiBvYmplY3QsIG90aGVyd2lzZSB0aGUgRmluYWxpemF0aW9uUmVnaXN0cnlcbiAgICAvLyB3aWxsIG5ldmVyIHRyaWdnZXIuXG4gICAgdGhpcy5fc2VydmVyQ29uZmlnLnJlbGVhc2VPbkRlcmVmID0gdW5kZWZpbmVkO1xuICAgIHNlcnZlckNvbmZpZy5yZWxlYXNlT25EZXJlZiA9IHVuZGVmaW5lZDtcblxuICAgIHJlZ2lzdGVyVmVyc2lvbihwYWNrYWdlTmFtZSwgdmVyc2lvbiwgJ3NlcnZlcmFwcCcpO1xuICB9XG5cbiAgdG9KU09OKCk6IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldCByZWZDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9yZWZDb3VudDtcbiAgfVxuXG4gIC8vIEluY3JlbWVudCB0aGUgcmVmZXJlbmNlIGNvdW50IG9mIHRoaXMgc2VydmVyIGFwcC4gSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkLCByZWdpc3RlciBpdFxuICAvLyB3aXRoIHRoZSBmaW5hbGl6YXRpb24gcmVnaXN0cnkuXG4gIGluY1JlZkNvdW50KG9iajogb2JqZWN0IHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNEZWxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3JlZkNvdW50Kys7XG4gICAgaWYgKG9iaiAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX2ZpbmFsaXphdGlvblJlZ2lzdHJ5ICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeS5yZWdpc3RlcihvYmosIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8vIERlY3JlbWVudCB0aGUgcmVmZXJlbmNlIGNvdW50LlxuICBkZWNSZWZDb3VudCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLmlzRGVsZXRlZCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiAtLXRoaXMuX3JlZkNvdW50O1xuICB9XG5cbiAgLy8gSW52b2tlZCBieSB0aGUgRmluYWxpemF0aW9uUmVnaXN0cnkgY2FsbGJhY2sgdG8gbm90ZSB0aGF0IHRoaXMgYXBwIHNob3VsZCBnbyB0aHJvdWdoIGl0c1xuICAvLyByZWZlcmVuY2UgY291bnRzIGFuZCBkZWxldGUgaXRzZWxmIGlmIG5vIHJlZmVyZW5jZSBjb3VudCByZW1haW4uIFRoZSBjb29yZGluYXRpbmcgbG9naWMgdGhhdFxuICAvLyBoYW5kbGVzIHRoaXMgaXMgaW4gZGVsZXRlQXBwKC4uLikuXG4gIHByaXZhdGUgYXV0b21hdGljQ2xlYW51cCgpOiB2b2lkIHtcbiAgICB2b2lkIGRlbGV0ZUFwcCh0aGlzKTtcbiAgfVxuXG4gIGdldCBzZXR0aW5ncygpOiBGaXJlYmFzZVNlcnZlckFwcFNldHRpbmdzIHtcbiAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlckNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYW4gRXJyb3IgaWYgdGhlIEFwcCBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWQgLVxuICAgKiB1c2UgYmVmb3JlIHBlcmZvcm1pbmcgQVBJIGFjdGlvbnMgb24gdGhlIEFwcC5cbiAgICovXG4gIHByb3RlY3RlZCBjaGVja0Rlc3Ryb3llZCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcbiAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLlNFUlZFUl9BUFBfREVMRVRFRCk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRmlyZWJhc2VBcHAsXG4gIEZpcmViYXNlU2VydmVyQXBwLFxuICBGaXJlYmFzZU9wdGlvbnMsXG4gIEZpcmViYXNlQXBwU2V0dGluZ3MsXG4gIEZpcmViYXNlU2VydmVyQXBwU2V0dGluZ3Ncbn0gZnJvbSAnLi9wdWJsaWMtdHlwZXMnO1xuaW1wb3J0IHsgREVGQVVMVF9FTlRSWV9OQU1FLCBQTEFURk9STV9MT0dfU1RSSU5HIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgRVJST1JfRkFDVE9SWSwgQXBwRXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQge1xuICBDb21wb25lbnRDb250YWluZXIsXG4gIENvbXBvbmVudCxcbiAgTmFtZSxcbiAgQ29tcG9uZW50VHlwZVxufSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi8uLi9maXJlYmFzZS9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgRmlyZWJhc2VBcHBJbXBsIH0gZnJvbSAnLi9maXJlYmFzZUFwcCc7XG5pbXBvcnQgeyBGaXJlYmFzZVNlcnZlckFwcEltcGwgfSBmcm9tICcuL2ZpcmViYXNlU2VydmVyQXBwJztcbmltcG9ydCB7XG4gIF9hcHBzLFxuICBfY29tcG9uZW50cyxcbiAgX2lzRmlyZWJhc2VBcHAsXG4gIF9yZWdpc3RlckNvbXBvbmVudCxcbiAgX3NlcnZlckFwcHNcbn0gZnJvbSAnLi9pbnRlcm5hbCc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQge1xuICBMb2dMZXZlbFN0cmluZyxcbiAgc2V0TG9nTGV2ZWwgYXMgc2V0TG9nTGV2ZWxJbXBsLFxuICBMb2dDYWxsYmFjayxcbiAgTG9nT3B0aW9ucyxcbiAgc2V0VXNlckxvZ0hhbmRsZXJcbn0gZnJvbSAnQGZpcmViYXNlL2xvZ2dlcic7XG5pbXBvcnQge1xuICBkZWVwRXF1YWwsXG4gIGdldERlZmF1bHRBcHBDb25maWcsXG4gIGlzQnJvd3NlcixcbiAgaXNXZWJXb3JrZXJcbn0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5leHBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG4vKipcbiAqIFRoZSBjdXJyZW50IFNESyB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNES19WRVJTSU9OID0gdmVyc2lvbjtcblxuLyoqXG4gKiBDcmVhdGVzIGFuZCBpbml0aWFsaXplcyBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBpbnN0YW5jZS5cbiAqXG4gKiBTZWVcbiAqIHtAbGlua1xuICogICBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy93ZWIvc2V0dXAjYWRkX2ZpcmViYXNlX3RvX3lvdXJfYXBwXG4gKiAgIHwgQWRkIEZpcmViYXNlIHRvIHlvdXIgYXBwfSBhbmRcbiAqIHtAbGlua1xuICogICBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy93ZWIvc2V0dXAjbXVsdGlwbGUtcHJvamVjdHNcbiAqICAgfCBJbml0aWFsaXplIG11bHRpcGxlIHByb2plY3RzfSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICpcbiAqIC8vIEluaXRpYWxpemUgZGVmYXVsdCBhcHBcbiAqIC8vIFJldHJpZXZlIHlvdXIgb3duIG9wdGlvbnMgdmFsdWVzIGJ5IGFkZGluZyBhIHdlYiBhcHAgb25cbiAqIC8vIGh0dHBzOi8vY29uc29sZS5maXJlYmFzZS5nb29nbGUuY29tXG4gKiBpbml0aWFsaXplQXBwKHtcbiAqICAgYXBpS2V5OiBcIkFJemEuLi4uXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBdXRoIC8gR2VuZXJhbCBVc2VcbiAqICAgYXV0aERvbWFpbjogXCJZT1VSX0FQUC5maXJlYmFzZWFwcC5jb21cIiwgICAgICAgICAvLyBBdXRoIHdpdGggcG9wdXAvcmVkaXJlY3RcbiAqICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9ZT1VSX0FQUC5maXJlYmFzZWlvLmNvbVwiLCAvLyBSZWFsdGltZSBEYXRhYmFzZVxuICogICBzdG9yYWdlQnVja2V0OiBcIllPVVJfQVBQLmFwcHNwb3QuY29tXCIsICAgICAgICAgIC8vIFN0b3JhZ2VcbiAqICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiMTIzNDU2Nzg5XCIgICAgICAgICAgICAgICAgICAvLyBDbG91ZCBNZXNzYWdpbmdcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBJbml0aWFsaXplIGFub3RoZXIgYXBwXG4gKiBjb25zdCBvdGhlckFwcCA9IGluaXRpYWxpemVBcHAoe1xuICogICBkYXRhYmFzZVVSTDogXCJodHRwczovLzxPVEhFUl9EQVRBQkFTRV9OQU1FPi5maXJlYmFzZWlvLmNvbVwiLFxuICogICBzdG9yYWdlQnVja2V0OiBcIjxPVEhFUl9TVE9SQUdFX0JVQ0tFVD4uYXBwc3BvdC5jb21cIlxuICogfSwgXCJvdGhlckFwcFwiKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyB0byBjb25maWd1cmUgdGhlIGFwcCdzIHNlcnZpY2VzLlxuICogQHBhcmFtIG5hbWUgLSBPcHRpb25hbCBuYW1lIG9mIHRoZSBhcHAgdG8gaW5pdGlhbGl6ZS4gSWYgbm8gbmFtZVxuICogICBpcyBwcm92aWRlZCwgdGhlIGRlZmF1bHQgaXMgYFwiW0RFRkFVTFRdXCJgLlxuICpcbiAqIEByZXR1cm5zIFRoZSBpbml0aWFsaXplZCBhcHAuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcChcbiAgb3B0aW9uczogRmlyZWJhc2VPcHRpb25zLFxuICBuYW1lPzogc3RyaW5nXG4pOiBGaXJlYmFzZUFwcDtcbi8qKlxuICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgYSBGaXJlYmFzZUFwcCBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gY29uZmlndXJlIHRoZSBhcHAncyBzZXJ2aWNlcy5cbiAqIEBwYXJhbSBjb25maWcgLSBGaXJlYmFzZUFwcCBDb25maWd1cmF0aW9uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcChcbiAgb3B0aW9uczogRmlyZWJhc2VPcHRpb25zLFxuICBjb25maWc/OiBGaXJlYmFzZUFwcFNldHRpbmdzXG4pOiBGaXJlYmFzZUFwcDtcbi8qKlxuICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgYSBGaXJlYmFzZUFwcCBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQXBwKCk6IEZpcmViYXNlQXBwO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVBcHAoXG4gIF9vcHRpb25zPzogRmlyZWJhc2VPcHRpb25zLFxuICByYXdDb25maWcgPSB7fVxuKTogRmlyZWJhc2VBcHAge1xuICBsZXQgb3B0aW9ucyA9IF9vcHRpb25zO1xuXG4gIGlmICh0eXBlb2YgcmF3Q29uZmlnICE9PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IG5hbWUgPSByYXdDb25maWc7XG4gICAgcmF3Q29uZmlnID0geyBuYW1lIH07XG4gIH1cblxuICBjb25zdCBjb25maWc6IFJlcXVpcmVkPEZpcmViYXNlQXBwU2V0dGluZ3M+ID0ge1xuICAgIG5hbWU6IERFRkFVTFRfRU5UUllfTkFNRSxcbiAgICBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IGZhbHNlLFxuICAgIC4uLnJhd0NvbmZpZ1xuICB9O1xuICBjb25zdCBuYW1lID0gY29uZmlnLm5hbWU7XG5cbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCAhbmFtZSkge1xuICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLkJBRF9BUFBfTkFNRSwge1xuICAgICAgYXBwTmFtZTogU3RyaW5nKG5hbWUpXG4gICAgfSk7XG4gIH1cblxuICBvcHRpb25zIHx8PSBnZXREZWZhdWx0QXBwQ29uZmlnKCk7XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuTk9fT1BUSU9OUyk7XG4gIH1cblxuICBjb25zdCBleGlzdGluZ0FwcCA9IF9hcHBzLmdldChuYW1lKSBhcyBGaXJlYmFzZUFwcEltcGw7XG4gIGlmIChleGlzdGluZ0FwcCkge1xuICAgIC8vIHJldHVybiB0aGUgZXhpc3RpbmcgYXBwIGlmIG9wdGlvbnMgYW5kIGNvbmZpZyBkZWVwIGVxdWFsIHRoZSBvbmVzIGluIHRoZSBleGlzdGluZyBhcHAuXG4gICAgaWYgKFxuICAgICAgZGVlcEVxdWFsKG9wdGlvbnMsIGV4aXN0aW5nQXBwLm9wdGlvbnMpICYmXG4gICAgICBkZWVwRXF1YWwoY29uZmlnLCBleGlzdGluZ0FwcC5jb25maWcpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZXhpc3RpbmdBcHA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLkRVUExJQ0FURV9BUFAsIHsgYXBwTmFtZTogbmFtZSB9KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjb250YWluZXIgPSBuZXcgQ29tcG9uZW50Q29udGFpbmVyKG5hbWUpO1xuICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBfY29tcG9uZW50cy52YWx1ZXMoKSkge1xuICAgIGNvbnRhaW5lci5hZGRDb21wb25lbnQoY29tcG9uZW50KTtcbiAgfVxuXG4gIGNvbnN0IG5ld0FwcCA9IG5ldyBGaXJlYmFzZUFwcEltcGwob3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpO1xuXG4gIF9hcHBzLnNldChuYW1lLCBuZXdBcHApO1xuXG4gIHJldHVybiBuZXdBcHA7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0gaW5zdGFuY2UuXG4gKlxuICogVGhlIGBGaXJlYmFzZVNlcnZlckFwcGAgaXMgc2ltaWxhciB0byBgRmlyZWJhc2VBcHBgLCBidXQgaXMgaW50ZW5kZWQgZm9yIGV4ZWN1dGlvbiBpblxuICogc2VydmVyIHNpZGUgcmVuZGVyaW5nIGVudmlyb25tZW50cyBvbmx5LiBJbml0aWFsaXphdGlvbiB3aWxsIGZhaWwgaWYgaW52b2tlZCBmcm9tIGFcbiAqIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gKlxuICogU2VlXG4gKiB7QGxpbmtcbiAqICAgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3Mvd2ViL3NldHVwI2FkZF9maXJlYmFzZV90b195b3VyX2FwcFxuICogICB8IEFkZCBGaXJlYmFzZSB0byB5b3VyIGFwcH0gYW5kXG4gKiB7QGxpbmtcbiAqICAgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3Mvd2ViL3NldHVwI211bHRpcGxlLXByb2plY3RzXG4gKiAgIHwgSW5pdGlhbGl6ZSBtdWx0aXBsZSBwcm9qZWN0c30gZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBJbml0aWFsaXplIGFuIGluc3RhbmNlIG9mIGBGaXJlYmFzZVNlcnZlckFwcGAuXG4gKiAvLyBSZXRyaWV2ZSB5b3VyIG93biBvcHRpb25zIHZhbHVlcyBieSBhZGRpbmcgYSB3ZWIgYXBwIG9uXG4gKiAvLyBodHRwczovL2NvbnNvbGUuZmlyZWJhc2UuZ29vZ2xlLmNvbVxuICogaW5pdGlhbGl6ZVNlcnZlckFwcCh7XG4gKiAgICAgYXBpS2V5OiBcIkFJemEuLi4uXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBdXRoIC8gR2VuZXJhbCBVc2VcbiAqICAgICBhdXRoRG9tYWluOiBcIllPVVJfQVBQLmZpcmViYXNlYXBwLmNvbVwiLCAgICAgICAgIC8vIEF1dGggd2l0aCBwb3B1cC9yZWRpcmVjdFxuICogICAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vWU9VUl9BUFAuZmlyZWJhc2Vpby5jb21cIiwgLy8gUmVhbHRpbWUgRGF0YWJhc2VcbiAqICAgICBzdG9yYWdlQnVja2V0OiBcIllPVVJfQVBQLmFwcHNwb3QuY29tXCIsICAgICAgICAgIC8vIFN0b3JhZ2VcbiAqICAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCIxMjM0NTY3ODlcIiAgICAgICAgICAgICAgICAgIC8vIENsb3VkIE1lc3NhZ2luZ1xuICogICB9LFxuICogICB7XG4gKiAgICBhdXRoSWRUb2tlbjogXCJZb3VyIEF1dGggSUQgVG9rZW5cIlxuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gYEZpcmViYXNlLkFwcE9wdGlvbnNgIHRvIGNvbmZpZ3VyZSB0aGUgYXBwJ3Mgc2VydmljZXMsIG9yIGFcbiAqICAgYSBgRmlyZWJhc2VBcHBgIGluc3RhbmNlIHdoaWNoIGNvbnRhaW5zIHRoZSBgQXBwT3B0aW9uc2Agd2l0aGluLlxuICogQHBhcmFtIGNvbmZpZyAtIGBGaXJlYmFzZVNlcnZlckFwcGAgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAcmV0dXJucyBUaGUgaW5pdGlhbGl6ZWQgYEZpcmViYXNlU2VydmVyQXBwYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplU2VydmVyQXBwKFxuICBvcHRpb25zOiBGaXJlYmFzZU9wdGlvbnMgfCBGaXJlYmFzZUFwcCxcbiAgY29uZmlnOiBGaXJlYmFzZVNlcnZlckFwcFNldHRpbmdzXG4pOiBGaXJlYmFzZVNlcnZlckFwcDtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVTZXJ2ZXJBcHAoXG4gIF9vcHRpb25zOiBGaXJlYmFzZU9wdGlvbnMgfCBGaXJlYmFzZUFwcCxcbiAgX3NlcnZlckFwcENvbmZpZzogRmlyZWJhc2VTZXJ2ZXJBcHBTZXR0aW5nc1xuKTogRmlyZWJhc2VTZXJ2ZXJBcHAge1xuICBpZiAoaXNCcm93c2VyKCkgJiYgIWlzV2ViV29ya2VyKCkpIHtcbiAgICAvLyBGaXJlYmFzZVNlcnZlckFwcCBpc24ndCBkZXNpZ25lZCB0byBiZSBydW4gaW4gYnJvd3NlcnMuXG4gICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuSU5WQUxJRF9TRVJWRVJfQVBQX0VOVklST05NRU5UKTtcbiAgfVxuXG4gIGlmIChfc2VydmVyQXBwQ29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgX3NlcnZlckFwcENvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGxldCBhcHBPcHRpb25zOiBGaXJlYmFzZU9wdGlvbnM7XG4gIGlmIChfaXNGaXJlYmFzZUFwcChfb3B0aW9ucykpIHtcbiAgICBhcHBPcHRpb25zID0gX29wdGlvbnMub3B0aW9ucztcbiAgfSBlbHNlIHtcbiAgICBhcHBPcHRpb25zID0gX29wdGlvbnM7XG4gIH1cblxuICAvLyBCdWlsZCBhbiBhcHAgbmFtZSBiYXNlZCBvbiBhIGhhc2ggb2YgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgY29uc3QgbmFtZU9iaiA9IHtcbiAgICAuLi5fc2VydmVyQXBwQ29uZmlnLFxuICAgIC4uLmFwcE9wdGlvbnNcbiAgfTtcblxuICAvLyBIb3dldmVyLCBEbyBub3QgbWFuZ2xlIHRoZSBuYW1lIGJhc2VkIG9uIHJlbGVhc2VPbkRlcmVmLCBzaW5jZSBpdCB3aWxsIHZhcnkgYmV0d2VlbiB0aGVcbiAgLy8gY29uc3RydWN0aW9uIG9mIEZpcmViYXNlU2VydmVyQXBwIGluc3RhbmNlcy4gRm9yIGV4YW1wbGUsIGlmIHRoZSBvYmplY3QgaXMgdGhlIHJlcXVlc3QgaGVhZGVycy5cbiAgaWYgKG5hbWVPYmoucmVsZWFzZU9uRGVyZWYgIT09IHVuZGVmaW5lZCkge1xuICAgIGRlbGV0ZSBuYW1lT2JqLnJlbGVhc2VPbkRlcmVmO1xuICB9XG5cbiAgY29uc3QgaGFzaENvZGUgPSAoczogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgICByZXR1cm4gWy4uLnNdLnJlZHVjZShcbiAgICAgIChoYXNoLCBjKSA9PiAoTWF0aC5pbXVsKDMxLCBoYXNoKSArIGMuY2hhckNvZGVBdCgwKSkgfCAwLFxuICAgICAgMFxuICAgICk7XG4gIH07XG5cbiAgaWYgKF9zZXJ2ZXJBcHBDb25maWcucmVsZWFzZU9uRGVyZWYgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcbiAgICAgICAgQXBwRXJyb3IuRklOQUxJWkFUSU9OX1JFR0lTVFJZX05PVF9TVVBQT1JURUQsXG4gICAgICAgIHt9XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG5hbWVTdHJpbmcgPSAnJyArIGhhc2hDb2RlKEpTT04uc3RyaW5naWZ5KG5hbWVPYmopKTtcbiAgY29uc3QgZXhpc3RpbmdBcHAgPSBfc2VydmVyQXBwcy5nZXQobmFtZVN0cmluZykgYXMgRmlyZWJhc2VTZXJ2ZXJBcHA7XG4gIGlmIChleGlzdGluZ0FwcCkge1xuICAgIChleGlzdGluZ0FwcCBhcyBGaXJlYmFzZVNlcnZlckFwcEltcGwpLmluY1JlZkNvdW50KFxuICAgICAgX3NlcnZlckFwcENvbmZpZy5yZWxlYXNlT25EZXJlZlxuICAgICk7XG4gICAgcmV0dXJuIGV4aXN0aW5nQXBwO1xuICB9XG5cbiAgY29uc3QgY29udGFpbmVyID0gbmV3IENvbXBvbmVudENvbnRhaW5lcihuYW1lU3RyaW5nKTtcbiAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgX2NvbXBvbmVudHMudmFsdWVzKCkpIHtcbiAgICBjb250YWluZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XG4gIH1cblxuICBjb25zdCBuZXdBcHAgPSBuZXcgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsKFxuICAgIGFwcE9wdGlvbnMsXG4gICAgX3NlcnZlckFwcENvbmZpZyxcbiAgICBuYW1lU3RyaW5nLFxuICAgIGNvbnRhaW5lclxuICApO1xuXG4gIF9zZXJ2ZXJBcHBzLnNldChuYW1lU3RyaW5nLCBuZXdBcHApO1xuXG4gIHJldHVybiBuZXdBcHA7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IGluc3RhbmNlLlxuICpcbiAqIFdoZW4gY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzLCB0aGUgZGVmYXVsdCBhcHAgaXMgcmV0dXJuZWQuIFdoZW4gYW4gYXBwIG5hbWVcbiAqIGlzIHByb3ZpZGVkLCB0aGUgYXBwIGNvcnJlc3BvbmRpbmcgdG8gdGhhdCBuYW1lIGlzIHJldHVybmVkLlxuICpcbiAqIEFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gaWYgdGhlIGFwcCBiZWluZyByZXRyaWV2ZWQgaGFzIG5vdCB5ZXQgYmVlblxuICogaW5pdGlhbGl6ZWQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFJldHVybiB0aGUgZGVmYXVsdCBhcHBcbiAqIGNvbnN0IGFwcCA9IGdldEFwcCgpO1xuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFJldHVybiBhIG5hbWVkIGFwcFxuICogY29uc3Qgb3RoZXJBcHAgPSBnZXRBcHAoXCJvdGhlckFwcFwiKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBuYW1lIC0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgYXBwIHRvIHJldHVybi4gSWYgbm8gbmFtZSBpc1xuICogICBwcm92aWRlZCwgdGhlIGRlZmF1bHQgaXMgYFwiW0RFRkFVTFRdXCJgLlxuICpcbiAqIEByZXR1cm5zIFRoZSBhcHAgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdmlkZWQgYXBwIG5hbWUuXG4gKiAgIElmIG5vIGFwcCBuYW1lIGlzIHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBhcHAgaXMgcmV0dXJuZWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBwKG5hbWU6IHN0cmluZyA9IERFRkFVTFRfRU5UUllfTkFNRSk6IEZpcmViYXNlQXBwIHtcbiAgY29uc3QgYXBwID0gX2FwcHMuZ2V0KG5hbWUpO1xuICBpZiAoIWFwcCAmJiBuYW1lID09PSBERUZBVUxUX0VOVFJZX05BTUUgJiYgZ2V0RGVmYXVsdEFwcENvbmZpZygpKSB7XG4gICAgcmV0dXJuIGluaXRpYWxpemVBcHAoKTtcbiAgfVxuICBpZiAoIWFwcCkge1xuICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLk5PX0FQUCwgeyBhcHBOYW1lOiBuYW1lIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFwcDtcbn1cblxuLyoqXG4gKiBBIChyZWFkLW9ubHkpIGFycmF5IG9mIGFsbCBpbml0aWFsaXplZCBhcHBzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBwcygpOiBGaXJlYmFzZUFwcFtdIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oX2FwcHMudmFsdWVzKCkpO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgdGhpcyBhcHAgdW51c2FibGUgYW5kIGZyZWVzIHRoZSByZXNvdXJjZXMgb2YgYWxsIGFzc29jaWF0ZWRcbiAqIHNlcnZpY2VzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBkZWxldGVBcHAoYXBwKVxuICogICAudGhlbihmdW5jdGlvbigpIHtcbiAqICAgICBjb25zb2xlLmxvZyhcIkFwcCBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAqICAgfSlcbiAqICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gKiAgICAgY29uc29sZS5sb2coXCJFcnJvciBkZWxldGluZyBhcHA6XCIsIGVycm9yKTtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVBcHAoYXBwOiBGaXJlYmFzZUFwcCk6IFByb21pc2U8dm9pZD4ge1xuICBsZXQgY2xlYW51cFByb3ZpZGVycyA9IGZhbHNlO1xuICBjb25zdCBuYW1lID0gYXBwLm5hbWU7XG4gIGlmIChfYXBwcy5oYXMobmFtZSkpIHtcbiAgICBjbGVhbnVwUHJvdmlkZXJzID0gdHJ1ZTtcbiAgICBfYXBwcy5kZWxldGUobmFtZSk7XG4gIH0gZWxzZSBpZiAoX3NlcnZlckFwcHMuaGFzKG5hbWUpKSB7XG4gICAgY29uc3QgZmlyZWJhc2VTZXJ2ZXJBcHAgPSBhcHAgYXMgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsO1xuICAgIGlmIChmaXJlYmFzZVNlcnZlckFwcC5kZWNSZWZDb3VudCgpIDw9IDApIHtcbiAgICAgIF9zZXJ2ZXJBcHBzLmRlbGV0ZShuYW1lKTtcbiAgICAgIGNsZWFudXBQcm92aWRlcnMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjbGVhbnVwUHJvdmlkZXJzKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAoYXBwIGFzIEZpcmViYXNlQXBwSW1wbCkuY29udGFpbmVyXG4gICAgICAgIC5nZXRQcm92aWRlcnMoKVxuICAgICAgICAubWFwKHByb3ZpZGVyID0+IHByb3ZpZGVyLmRlbGV0ZSgpKVxuICAgICk7XG4gICAgKGFwcCBhcyBGaXJlYmFzZUFwcEltcGwpLmlzRGVsZXRlZCA9IHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBsaWJyYXJ5J3MgbmFtZSBhbmQgdmVyc2lvbiBmb3IgcGxhdGZvcm0gbG9nZ2luZyBwdXJwb3Nlcy5cbiAqIEBwYXJhbSBsaWJyYXJ5IC0gTmFtZSBvZiAxcCBvciAzcCBsaWJyYXJ5IChlLmcuIGZpcmVzdG9yZSwgYW5ndWxhcmZpcmUpXG4gKiBAcGFyYW0gdmVyc2lvbiAtIEN1cnJlbnQgdmVyc2lvbiBvZiB0aGF0IGxpYnJhcnkuXG4gKiBAcGFyYW0gdmFyaWFudCAtIEJ1bmRsZSB2YXJpYW50LCBlLmcuLCBub2RlLCBybiwgZXRjLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyVmVyc2lvbihcbiAgbGlicmFyeUtleU9yTmFtZTogc3RyaW5nLFxuICB2ZXJzaW9uOiBzdHJpbmcsXG4gIHZhcmlhbnQ/OiBzdHJpbmdcbik6IHZvaWQge1xuICAvLyBUT0RPOiBXZSBjYW4gdXNlIHRoaXMgY2hlY2sgdG8gd2hpdGVsaXN0IHN0cmluZ3Mgd2hlbi9pZiB3ZSBzZXQgdXBcbiAgLy8gYSBnb29kIHdoaXRlbGlzdCBzeXN0ZW0uXG4gIGxldCBsaWJyYXJ5ID0gUExBVEZPUk1fTE9HX1NUUklOR1tsaWJyYXJ5S2V5T3JOYW1lXSA/PyBsaWJyYXJ5S2V5T3JOYW1lO1xuICBpZiAodmFyaWFudCkge1xuICAgIGxpYnJhcnkgKz0gYC0ke3ZhcmlhbnR9YDtcbiAgfVxuICBjb25zdCBsaWJyYXJ5TWlzbWF0Y2ggPSBsaWJyYXJ5Lm1hdGNoKC9cXHN8XFwvLyk7XG4gIGNvbnN0IHZlcnNpb25NaXNtYXRjaCA9IHZlcnNpb24ubWF0Y2goL1xcc3xcXC8vKTtcbiAgaWYgKGxpYnJhcnlNaXNtYXRjaCB8fCB2ZXJzaW9uTWlzbWF0Y2gpIHtcbiAgICBjb25zdCB3YXJuaW5nID0gW1xuICAgICAgYFVuYWJsZSB0byByZWdpc3RlciBsaWJyYXJ5IFwiJHtsaWJyYXJ5fVwiIHdpdGggdmVyc2lvbiBcIiR7dmVyc2lvbn1cIjpgXG4gICAgXTtcbiAgICBpZiAobGlicmFyeU1pc21hdGNoKSB7XG4gICAgICB3YXJuaW5nLnB1c2goXG4gICAgICAgIGBsaWJyYXJ5IG5hbWUgXCIke2xpYnJhcnl9XCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yIFwiL1wiKWBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2ggJiYgdmVyc2lvbk1pc21hdGNoKSB7XG4gICAgICB3YXJuaW5nLnB1c2goJ2FuZCcpO1xuICAgIH1cbiAgICBpZiAodmVyc2lvbk1pc21hdGNoKSB7XG4gICAgICB3YXJuaW5nLnB1c2goXG4gICAgICAgIGB2ZXJzaW9uIG5hbWUgXCIke3ZlcnNpb259XCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yIFwiL1wiKWBcbiAgICAgICk7XG4gICAgfVxuICAgIGxvZ2dlci53YXJuKHdhcm5pbmcuam9pbignICcpKTtcbiAgICByZXR1cm47XG4gIH1cbiAgX3JlZ2lzdGVyQ29tcG9uZW50KFxuICAgIG5ldyBDb21wb25lbnQoXG4gICAgICBgJHtsaWJyYXJ5fS12ZXJzaW9uYCBhcyBOYW1lLFxuICAgICAgKCkgPT4gKHsgbGlicmFyeSwgdmVyc2lvbiB9KSxcbiAgICAgIENvbXBvbmVudFR5cGUuVkVSU0lPTlxuICAgIClcbiAgKTtcbn1cblxuLyoqXG4gKiBTZXRzIGxvZyBoYW5kbGVyIGZvciBhbGwgRmlyZWJhc2UgU0RLcy5cbiAqIEBwYXJhbSBsb2dDYWxsYmFjayAtIEFuIG9wdGlvbmFsIGN1c3RvbSBsb2cgaGFuZGxlciB0aGF0IGV4ZWN1dGVzIHVzZXIgY29kZSB3aGVuZXZlclxuICogdGhlIEZpcmViYXNlIFNESyBtYWtlcyBhIGxvZ2dpbmcgY2FsbC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkxvZyhcbiAgbG9nQ2FsbGJhY2s6IExvZ0NhbGxiYWNrIHwgbnVsbCxcbiAgb3B0aW9ucz86IExvZ09wdGlvbnNcbik6IHZvaWQge1xuICBpZiAobG9nQ2FsbGJhY2sgIT09IG51bGwgJiYgdHlwZW9mIGxvZ0NhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuSU5WQUxJRF9MT0dfQVJHVU1FTlQpO1xuICB9XG4gIHNldFVzZXJMb2dIYW5kbGVyKGxvZ0NhbGxiYWNrLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBTZXRzIGxvZyBsZXZlbCBmb3IgYWxsIEZpcmViYXNlIFNES3MuXG4gKlxuICogQWxsIG9mIHRoZSBsb2cgdHlwZXMgYWJvdmUgdGhlIGN1cnJlbnQgbG9nIGxldmVsIGFyZSBjYXB0dXJlZCAoaS5lLiBpZlxuICogeW91IHNldCB0aGUgbG9nIGxldmVsIHRvIGBpbmZvYCwgZXJyb3JzIGFyZSBsb2dnZWQsIGJ1dCBgZGVidWdgIGFuZFxuICogYHZlcmJvc2VgIGxvZ3MgYXJlIG5vdCkuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0TG9nTGV2ZWwobG9nTGV2ZWw6IExvZ0xldmVsU3RyaW5nKTogdm9pZCB7XG4gIHNldExvZ0xldmVsSW1wbChsb2dMZXZlbCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IERCU2NoZW1hLCBvcGVuREIsIElEQlBEYXRhYmFzZSB9IGZyb20gJ2lkYic7XG5pbXBvcnQgeyBBcHBFcnJvciwgRVJST1JfRkFDVE9SWSB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7IEZpcmViYXNlQXBwIH0gZnJvbSAnLi9wdWJsaWMtdHlwZXMnO1xuaW1wb3J0IHsgSGVhcnRiZWF0c0luSW5kZXhlZERCIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5cbmNvbnN0IERCX05BTUUgPSAnZmlyZWJhc2UtaGVhcnRiZWF0LWRhdGFiYXNlJztcbmNvbnN0IERCX1ZFUlNJT04gPSAxO1xuY29uc3QgU1RPUkVfTkFNRSA9ICdmaXJlYmFzZS1oZWFydGJlYXQtc3RvcmUnO1xuXG5pbnRlcmZhY2UgQXBwREIgZXh0ZW5kcyBEQlNjaGVtYSB7XG4gICdmaXJlYmFzZS1oZWFydGJlYXQtc3RvcmUnOiB7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgdmFsdWU6IEhlYXJ0YmVhdHNJbkluZGV4ZWREQjtcbiAgfTtcbn1cblxubGV0IGRiUHJvbWlzZTogUHJvbWlzZTxJREJQRGF0YWJhc2U8QXBwREI+PiB8IG51bGwgPSBudWxsO1xuZnVuY3Rpb24gZ2V0RGJQcm9taXNlKCk6IFByb21pc2U8SURCUERhdGFiYXNlPEFwcERCPj4ge1xuICBpZiAoIWRiUHJvbWlzZSkge1xuICAgIGRiUHJvbWlzZSA9IG9wZW5EQjxBcHBEQj4oREJfTkFNRSwgREJfVkVSU0lPTiwge1xuICAgICAgdXBncmFkZTogKGRiLCBvbGRWZXJzaW9uKSA9PiB7XG4gICAgICAgIC8vIFdlIGRvbid0IHVzZSAnYnJlYWsnIGluIHRoaXMgc3dpdGNoIHN0YXRlbWVudCwgdGhlIGZhbGwtdGhyb3VnaFxuICAgICAgICAvLyBiZWhhdmlvciBpcyB3aGF0IHdlIHdhbnQsIGJlY2F1c2UgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHZlcnNpb25zIGJldHdlZW5cbiAgICAgICAgLy8gdGhlIG9sZCB2ZXJzaW9uIGFuZCB0aGUgY3VycmVudCB2ZXJzaW9uLCB3ZSB3YW50IEFMTCB0aGUgbWlncmF0aW9uc1xuICAgICAgICAvLyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhvc2UgdmVyc2lvbnMgdG8gcnVuLCBub3Qgb25seSB0aGUgbGFzdCBvbmUuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZWZhdWx0LWNhc2VcbiAgICAgICAgc3dpdGNoIChvbGRWZXJzaW9uKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIC8vIFNhZmFyaS9pT1MgYnJvd3NlcnMgdGhyb3cgb2NjYXNpb25hbCBleGNlcHRpb25zIG9uXG4gICAgICAgICAgICAgIC8vIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCkgdGhhdCBtYXkgYmUgYSBidWcuIEF2b2lkIGJsb2NraW5nXG4gICAgICAgICAgICAgIC8vIHRoZSByZXN0IG9mIHRoZSBhcHAgZnVuY3Rpb25hbGl0eS5cbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkuY2F0Y2goZSA9PiB7XG4gICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5JREJfT1BFTiwge1xuICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZGJQcm9taXNlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCKFxuICBhcHA6IEZpcmViYXNlQXBwXG4pOiBQcm9taXNlPEhlYXJ0YmVhdHNJbkluZGV4ZWREQiB8IHVuZGVmaW5lZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGJQcm9taXNlKCk7XG4gICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9OQU1FKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0eC5vYmplY3RTdG9yZShTVE9SRV9OQU1FKS5nZXQoY29tcHV0ZUtleShhcHApKTtcbiAgICAvLyBXZSBhbHJlYWR5IGhhdmUgdGhlIHZhbHVlIGJ1dCB0eC5kb25lIGNhbiB0aHJvdyxcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGF3YWl0IGl0IGhlcmUgdG8gY2F0Y2ggZXJyb3JzXG4gICAgYXdhaXQgdHguZG9uZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBGaXJlYmFzZUVycm9yKSB7XG4gICAgICBsb2dnZXIud2FybihlLm1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpZGJHZXRFcnJvciA9IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLklEQl9HRVQsIHtcbiAgICAgICAgb3JpZ2luYWxFcnJvck1lc3NhZ2U6IChlIGFzIEVycm9yKT8ubWVzc2FnZVxuICAgICAgfSk7XG4gICAgICBsb2dnZXIud2FybihpZGJHZXRFcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyaXRlSGVhcnRiZWF0c1RvSW5kZXhlZERCKFxuICBhcHA6IEZpcmViYXNlQXBwLFxuICBoZWFydGJlYXRPYmplY3Q6IEhlYXJ0YmVhdHNJbkluZGV4ZWREQlxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGIgPSBhd2FpdCBnZXREYlByb21pc2UoKTtcbiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUsICdyZWFkd3JpdGUnKTtcbiAgICBjb25zdCBvYmplY3RTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKFNUT1JFX05BTUUpO1xuICAgIGF3YWl0IG9iamVjdFN0b3JlLnB1dChoZWFydGJlYXRPYmplY3QsIGNvbXB1dGVLZXkoYXBwKSk7XG4gICAgYXdhaXQgdHguZG9uZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgRmlyZWJhc2VFcnJvcikge1xuICAgICAgbG9nZ2VyLndhcm4oZS5tZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaWRiR2V0RXJyb3IgPSBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5JREJfV1JJVEUsIHtcbiAgICAgICAgb3JpZ2luYWxFcnJvck1lc3NhZ2U6IChlIGFzIEVycm9yKT8ubWVzc2FnZVxuICAgICAgfSk7XG4gICAgICBsb2dnZXIud2FybihpZGJHZXRFcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZUtleShhcHA6IEZpcmViYXNlQXBwKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke2FwcC5uYW1lfSEke2FwcC5vcHRpb25zLmFwcElkfWA7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50Q29udGFpbmVyIH0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQge1xuICBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyxcbiAgaXNJbmRleGVkREJBdmFpbGFibGUsXG4gIHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGVcbn0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHtcbiAgcmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCLFxuICB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQlxufSBmcm9tICcuL2luZGV4ZWRkYic7XG5pbXBvcnQgeyBGaXJlYmFzZUFwcCB9IGZyb20gJy4vcHVibGljLXR5cGVzJztcbmltcG9ydCB7XG4gIEhlYXJ0YmVhdHNCeVVzZXJBZ2VudCxcbiAgSGVhcnRiZWF0U2VydmljZSxcbiAgSGVhcnRiZWF0c0luSW5kZXhlZERCLFxuICBIZWFydGJlYXRTdG9yYWdlLFxuICBTaW5nbGVEYXRlSGVhcnRiZWF0XG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuXG5jb25zdCBNQVhfSEVBREVSX0JZVEVTID0gMTAyNDtcbi8vIDMwIGRheXNcbmNvbnN0IFNUT1JFRF9IRUFSVEJFQVRfUkVURU5USU9OX01BWF9NSUxMSVMgPSAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG5cbmV4cG9ydCBjbGFzcyBIZWFydGJlYXRTZXJ2aWNlSW1wbCBpbXBsZW1lbnRzIEhlYXJ0YmVhdFNlcnZpY2Uge1xuICAvKipcbiAgICogVGhlIHBlcnNpc3RlbmNlIGxheWVyIGZvciBoZWFydGJlYXRzXG4gICAqIExlYXZlIHB1YmxpYyBmb3IgZWFzaWVyIHRlc3RpbmcuXG4gICAqL1xuICBfc3RvcmFnZTogSGVhcnRiZWF0U3RvcmFnZUltcGw7XG5cbiAgLyoqXG4gICAqIEluLW1lbW9yeSBjYWNoZSBmb3IgaGVhcnRiZWF0cywgdXNlZCBieSBnZXRIZWFydGJlYXRzSGVhZGVyKCkgdG8gZ2VuZXJhdGVcbiAgICogdGhlIGhlYWRlciBzdHJpbmcuXG4gICAqIFN0b3JlcyBvbmUgcmVjb3JkIHBlciBkYXRlLiBUaGlzIHdpbGwgYmUgY29uc29saWRhdGVkIGludG8gdGhlIHN0YW5kYXJkXG4gICAqIGZvcm1hdCBvZiBvbmUgcmVjb3JkIHBlciB1c2VyIGFnZW50IHN0cmluZyBiZWZvcmUgYmVpbmcgc2VudCBhcyBhIGhlYWRlci5cbiAgICogUG9wdWxhdGVkIGZyb20gaW5kZXhlZERCIHdoZW4gdGhlIGNvbnRyb2xsZXIgaXMgaW5zdGFudGlhdGVkIGFuZCBzaG91bGRcbiAgICogYmUga2VwdCBpbiBzeW5jIHdpdGggaW5kZXhlZERCLlxuICAgKiBMZWF2ZSBwdWJsaWMgZm9yIGVhc2llciB0ZXN0aW5nLlxuICAgKi9cbiAgX2hlYXJ0YmVhdHNDYWNoZTogSGVhcnRiZWF0c0luSW5kZXhlZERCIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIHRoZSBpbml0aWFsaXphdGlvbiBwcm9taXNlIGZvciBwb3B1bGF0aW5nIGhlYXJ0YmVhdENhY2hlLlxuICAgKiBJZiBnZXRIZWFydGJlYXRzSGVhZGVyKCkgaXMgY2FsbGVkIGJlZm9yZSB0aGUgcHJvbWlzZSByZXNvbHZlc1xuICAgKiAoaGVhcnRiZWF0c0NhY2hlID09IG51bGwpLCBpdCBzaG91bGQgd2FpdCBmb3IgdGhpcyBwcm9taXNlXG4gICAqIExlYXZlIHB1YmxpYyBmb3IgZWFzaWVyIHRlc3RpbmcuXG4gICAqL1xuICBfaGVhcnRiZWF0c0NhY2hlUHJvbWlzZTogUHJvbWlzZTxIZWFydGJlYXRzSW5JbmRleGVkREI+O1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbnRhaW5lcjogQ29tcG9uZW50Q29udGFpbmVyKSB7XG4gICAgY29uc3QgYXBwID0gdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXIoJ2FwcCcpLmdldEltbWVkaWF0ZSgpO1xuICAgIHRoaXMuX3N0b3JhZ2UgPSBuZXcgSGVhcnRiZWF0U3RvcmFnZUltcGwoYXBwKTtcbiAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGVQcm9taXNlID0gdGhpcy5fc3RvcmFnZS5yZWFkKCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlID0gcmVzdWx0O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgdG8gcmVwb3J0IGEgaGVhcnRiZWF0LiBUaGUgZnVuY3Rpb24gd2lsbCBnZW5lcmF0ZVxuICAgKiBhIEhlYXJ0YmVhdHNCeVVzZXJBZ2VudCBvYmplY3QsIHVwZGF0ZSBoZWFydGJlYXRzQ2FjaGUsIGFuZCBwZXJzaXN0IGl0XG4gICAqIHRvIEluZGV4ZWREQi5cbiAgICogTm90ZSB0aGF0IHdlIG9ubHkgc3RvcmUgb25lIGhlYXJ0YmVhdCBwZXIgZGF5LiBTbyBpZiBhIGhlYXJ0YmVhdCBmb3IgdG9kYXkgaXNcbiAgICogYWxyZWFkeSBsb2dnZWQsIHN1YnNlcXVlbnQgY2FsbHMgdG8gdGhpcyBmdW5jdGlvbiBpbiB0aGUgc2FtZSBkYXkgd2lsbCBiZSBpZ25vcmVkLlxuICAgKi9cbiAgYXN5bmMgdHJpZ2dlckhlYXJ0YmVhdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGxhdGZvcm1Mb2dnZXIgPSB0aGlzLmNvbnRhaW5lclxuICAgICAgICAuZ2V0UHJvdmlkZXIoJ3BsYXRmb3JtLWxvZ2dlcicpXG4gICAgICAgIC5nZXRJbW1lZGlhdGUoKTtcblxuICAgICAgLy8gVGhpcyBpcyB0aGUgXCJGaXJlYmFzZSB1c2VyIGFnZW50XCIgc3RyaW5nIGZyb20gdGhlIHBsYXRmb3JtIGxvZ2dlclxuICAgICAgLy8gc2VydmljZSwgbm90IHRoZSBicm93c2VyIHVzZXIgYWdlbnQuXG4gICAgICBjb25zdCBhZ2VudCA9IHBsYXRmb3JtTG9nZ2VyLmdldFBsYXRmb3JtSW5mb1N0cmluZygpO1xuICAgICAgY29uc3QgZGF0ZSA9IGdldFVUQ0RhdGVTdHJpbmcoKTtcbiAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRzQ2FjaGU/LmhlYXJ0YmVhdHMgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPSBhd2FpdCB0aGlzLl9oZWFydGJlYXRzQ2FjaGVQcm9taXNlO1xuICAgICAgICAvLyBJZiB3ZSBmYWlsZWQgdG8gY29uc3RydWN0IGEgaGVhcnRiZWF0cyBjYWNoZSwgdGhlbiByZXR1cm4gaW1tZWRpYXRlbHkuXG4gICAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRzQ2FjaGU/LmhlYXJ0YmVhdHMgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRG8gbm90IHN0b3JlIGEgaGVhcnRiZWF0IGlmIG9uZSBpcyBhbHJlYWR5IHN0b3JlZCBmb3IgdGhpcyBkYXlcbiAgICAgIC8vIG9yIGlmIGEgaGVhZGVyIGhhcyBhbHJlYWR5IGJlZW4gc2VudCB0b2RheS5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmxhc3RTZW50SGVhcnRiZWF0RGF0ZSA9PT0gZGF0ZSB8fFxuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5zb21lKFxuICAgICAgICAgIHNpbmdsZURhdGVIZWFydGJlYXQgPT4gc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlID09PSBkYXRlXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGVyZSBpcyBubyBlbnRyeSBmb3IgdGhpcyBkYXRlLiBDcmVhdGUgb25lLlxuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5wdXNoKHsgZGF0ZSwgYWdlbnQgfSk7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgZW50cmllcyBvbGRlciB0aGFuIDMwIGRheXMuXG4gICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cyA9XG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzLmZpbHRlcihzaW5nbGVEYXRlSGVhcnRiZWF0ID0+IHtcbiAgICAgICAgICBjb25zdCBoYlRpbWVzdGFtcCA9IG5ldyBEYXRlKHNpbmdsZURhdGVIZWFydGJlYXQuZGF0ZSkudmFsdWVPZigpO1xuICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgcmV0dXJuIG5vdyAtIGhiVGltZXN0YW1wIDw9IFNUT1JFRF9IRUFSVEJFQVRfUkVURU5USU9OX01BWF9NSUxMSVM7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2Uub3ZlcndyaXRlKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLndhcm4oZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgd2hpY2ggY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBoZWFydGJlYXQtc3BlY2lmaWMgaGVhZGVyIGRpcmVjdGx5LlxuICAgKiBJdCBhbHNvIGNsZWFycyBhbGwgaGVhcnRiZWF0cyBmcm9tIG1lbW9yeSBhcyB3ZWxsIGFzIGluIEluZGV4ZWREQi5cbiAgICpcbiAgICogTk9URTogQ29uc3VtaW5nIHByb2R1Y3QgU0RLcyBzaG91bGQgbm90IHNlbmQgdGhlIGhlYWRlciBpZiB0aGlzIG1ldGhvZFxuICAgKiByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAgICovXG4gIGFzeW5jIGdldEhlYXJ0YmVhdHNIZWFkZXIoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSA9PT0gbnVsbCkge1xuICAgICAgICBhd2FpdCB0aGlzLl9oZWFydGJlYXRzQ2FjaGVQcm9taXNlO1xuICAgICAgfVxuICAgICAgLy8gSWYgaXQncyBzdGlsbCBudWxsIG9yIHRoZSBhcnJheSBpcyBlbXB0eSwgdGhlcmUgaXMgbm8gZGF0YSB0byBzZW5kLlxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGU/LmhlYXJ0YmVhdHMgPT0gbnVsbCB8fFxuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5sZW5ndGggPT09IDBcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRlID0gZ2V0VVRDRGF0ZVN0cmluZygpO1xuICAgICAgLy8gRXh0cmFjdCBhcyBtYW55IGhlYXJ0YmVhdHMgZnJvbSB0aGUgY2FjaGUgYXMgd2lsbCBmaXQgdW5kZXIgdGhlIHNpemUgbGltaXQuXG4gICAgICBjb25zdCB7IGhlYXJ0YmVhdHNUb1NlbmQsIHVuc2VudEVudHJpZXMgfSA9IGV4dHJhY3RIZWFydGJlYXRzRm9ySGVhZGVyKFxuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0c1xuICAgICAgKTtcbiAgICAgIGNvbnN0IGhlYWRlclN0cmluZyA9IGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IDIsIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNUb1NlbmQgfSlcbiAgICAgICk7XG4gICAgICAvLyBTdG9yZSBsYXN0IHNlbnQgZGF0ZSB0byBwcmV2ZW50IGFub3RoZXIgYmVpbmcgbG9nZ2VkL3NlbnQgZm9yIHRoZSBzYW1lIGRheS5cbiAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPSBkYXRlO1xuICAgICAgaWYgKHVuc2VudEVudHJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBTdG9yZSBhbnkgdW5zZW50IGVudHJpZXMgaWYgdGhleSBleGlzdC5cbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMgPSB1bnNlbnRFbnRyaWVzO1xuICAgICAgICAvLyBUaGlzIHNlZW1zIG1vcmUgbGlrZWx5IHRoYW4gZW1wdHlpbmcgdGhlIGFycmF5IChiZWxvdykgdG8gbGVhZCB0byBzb21lIG9kZCBzdGF0ZVxuICAgICAgICAvLyBzaW5jZSB0aGUgY2FjaGUgaXNuJ3QgZW1wdHkgYW5kIHRoaXMgd2lsbCBiZSBjYWxsZWQgYWdhaW4gb24gdGhlIG5leHQgcmVxdWVzdCxcbiAgICAgICAgLy8gYW5kIGlzIHByb2JhYmx5IHNhZmVzdCBpZiB3ZSBhd2FpdCBpdC5cbiAgICAgICAgYXdhaXQgdGhpcy5fc3RvcmFnZS5vdmVyd3JpdGUodGhpcy5faGVhcnRiZWF0c0NhY2hlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzID0gW107XG4gICAgICAgIC8vIERvIG5vdCB3YWl0IGZvciB0aGlzLCB0byByZWR1Y2UgbGF0ZW5jeS5cbiAgICAgICAgdm9pZCB0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhlYWRlclN0cmluZztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIud2FybihlKTtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VVRDRGF0ZVN0cmluZygpOiBzdHJpbmcge1xuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gIC8vIFJldHVybnMgZGF0ZSBmb3JtYXQgJ1lZWVktTU0tREQnXG4gIHJldHVybiB0b2RheS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0SGVhcnRiZWF0c0ZvckhlYWRlcihcbiAgaGVhcnRiZWF0c0NhY2hlOiBTaW5nbGVEYXRlSGVhcnRiZWF0W10sXG4gIG1heFNpemUgPSBNQVhfSEVBREVSX0JZVEVTXG4pOiB7XG4gIGhlYXJ0YmVhdHNUb1NlbmQ6IEhlYXJ0YmVhdHNCeVVzZXJBZ2VudFtdO1xuICB1bnNlbnRFbnRyaWVzOiBTaW5nbGVEYXRlSGVhcnRiZWF0W107XG59IHtcbiAgLy8gSGVhcnRiZWF0cyBncm91cGVkIGJ5IHVzZXIgYWdlbnQgaW4gdGhlIHN0YW5kYXJkIGZvcm1hdCB0byBiZSBzZW50IGluXG4gIC8vIHRoZSBoZWFkZXIuXG4gIGNvbnN0IGhlYXJ0YmVhdHNUb1NlbmQ6IEhlYXJ0YmVhdHNCeVVzZXJBZ2VudFtdID0gW107XG4gIC8vIFNpbmdsZSBkYXRlIGZvcm1hdCBoZWFydGJlYXRzIHRoYXQgYXJlIG5vdCBzZW50LlxuICBsZXQgdW5zZW50RW50cmllcyA9IGhlYXJ0YmVhdHNDYWNoZS5zbGljZSgpO1xuICBmb3IgKGNvbnN0IHNpbmdsZURhdGVIZWFydGJlYXQgb2YgaGVhcnRiZWF0c0NhY2hlKSB7XG4gICAgLy8gTG9vayBmb3IgYW4gZXhpc3RpbmcgZW50cnkgd2l0aCB0aGUgc2FtZSB1c2VyIGFnZW50LlxuICAgIGNvbnN0IGhlYXJ0YmVhdEVudHJ5ID0gaGVhcnRiZWF0c1RvU2VuZC5maW5kKFxuICAgICAgaGIgPT4gaGIuYWdlbnQgPT09IHNpbmdsZURhdGVIZWFydGJlYXQuYWdlbnRcbiAgICApO1xuICAgIGlmICghaGVhcnRiZWF0RW50cnkpIHtcbiAgICAgIC8vIElmIG5vIGVudHJ5IGZvciB0aGlzIHVzZXIgYWdlbnQgZXhpc3RzLCBjcmVhdGUgb25lLlxuICAgICAgaGVhcnRiZWF0c1RvU2VuZC5wdXNoKHtcbiAgICAgICAgYWdlbnQ6IHNpbmdsZURhdGVIZWFydGJlYXQuYWdlbnQsXG4gICAgICAgIGRhdGVzOiBbc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlXVxuICAgICAgfSk7XG4gICAgICBpZiAoY291bnRCeXRlcyhoZWFydGJlYXRzVG9TZW5kKSA+IG1heFNpemUpIHtcbiAgICAgICAgLy8gSWYgdGhlIGhlYWRlciB3b3VsZCBleGNlZWQgbWF4IHNpemUsIHJlbW92ZSB0aGUgYWRkZWQgaGVhcnRiZWF0XG4gICAgICAgIC8vIGVudHJ5IGFuZCBzdG9wIGFkZGluZyB0byB0aGUgaGVhZGVyLlxuICAgICAgICBoZWFydGJlYXRzVG9TZW5kLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGVhcnRiZWF0RW50cnkuZGF0ZXMucHVzaChzaW5nbGVEYXRlSGVhcnRiZWF0LmRhdGUpO1xuICAgICAgLy8gSWYgdGhlIGhlYWRlciB3b3VsZCBleGNlZWQgbWF4IHNpemUsIHJlbW92ZSB0aGUgYWRkZWQgZGF0ZVxuICAgICAgLy8gYW5kIHN0b3AgYWRkaW5nIHRvIHRoZSBoZWFkZXIuXG4gICAgICBpZiAoY291bnRCeXRlcyhoZWFydGJlYXRzVG9TZW5kKSA+IG1heFNpemUpIHtcbiAgICAgICAgaGVhcnRiZWF0RW50cnkuZGF0ZXMucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBQb3AgdW5zZW50IGVudHJ5IGZyb20gcXVldWUuIChTa2lwcGVkIGlmIGFkZGluZyB0aGUgZW50cnkgZXhjZWVkZWRcbiAgICAvLyBxdW90YSBhbmQgdGhlIGxvb3AgYnJlYWtzIGVhcmx5LilcbiAgICB1bnNlbnRFbnRyaWVzID0gdW5zZW50RW50cmllcy5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGhlYXJ0YmVhdHNUb1NlbmQsXG4gICAgdW5zZW50RW50cmllc1xuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgSGVhcnRiZWF0U3RvcmFnZUltcGwgaW1wbGVtZW50cyBIZWFydGJlYXRTdG9yYWdlIHtcbiAgcHJpdmF0ZSBfY2FuVXNlSW5kZXhlZERCUHJvbWlzZTogUHJvbWlzZTxib29sZWFuPjtcbiAgY29uc3RydWN0b3IocHVibGljIGFwcDogRmlyZWJhc2VBcHApIHtcbiAgICB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlID0gdGhpcy5ydW5JbmRleGVkREJFbnZpcm9ubWVudENoZWNrKCk7XG4gIH1cbiAgYXN5bmMgcnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjaygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAoIWlzSW5kZXhlZERCQXZhaWxhYmxlKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUoKVxuICAgICAgICAudGhlbigoKSA9PiB0cnVlKVxuICAgICAgICAuY2F0Y2goKCkgPT4gZmFsc2UpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVhZCBhbGwgaGVhcnRiZWF0cy5cbiAgICovXG4gIGFzeW5jIHJlYWQoKTogUHJvbWlzZTxIZWFydGJlYXRzSW5JbmRleGVkREI+IHtcbiAgICBjb25zdCBjYW5Vc2VJbmRleGVkREIgPSBhd2FpdCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlO1xuICAgIGlmICghY2FuVXNlSW5kZXhlZERCKSB7XG4gICAgICByZXR1cm4geyBoZWFydGJlYXRzOiBbXSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpZGJIZWFydGJlYXRPYmplY3QgPSBhd2FpdCByZWFkSGVhcnRiZWF0c0Zyb21JbmRleGVkREIodGhpcy5hcHApO1xuICAgICAgaWYgKGlkYkhlYXJ0YmVhdE9iamVjdD8uaGVhcnRiZWF0cykge1xuICAgICAgICByZXR1cm4gaWRiSGVhcnRiZWF0T2JqZWN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgaGVhcnRiZWF0czogW10gfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gb3ZlcndyaXRlIHRoZSBzdG9yYWdlIHdpdGggdGhlIHByb3ZpZGVkIGhlYXJ0YmVhdHNcbiAgYXN5bmMgb3ZlcndyaXRlKGhlYXJ0YmVhdHNPYmplY3Q6IEhlYXJ0YmVhdHNJbkluZGV4ZWREQik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNhblVzZUluZGV4ZWREQiA9IGF3YWl0IHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2U7XG4gICAgaWYgKCFjYW5Vc2VJbmRleGVkREIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0ID0gYXdhaXQgdGhpcy5yZWFkKCk7XG4gICAgICByZXR1cm4gd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIodGhpcy5hcHAsIHtcbiAgICAgICAgbGFzdFNlbnRIZWFydGJlYXREYXRlOlxuICAgICAgICAgIGhlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlID8/XG4gICAgICAgICAgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0Lmxhc3RTZW50SGVhcnRiZWF0RGF0ZSxcbiAgICAgICAgaGVhcnRiZWF0czogaGVhcnRiZWF0c09iamVjdC5oZWFydGJlYXRzXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLy8gYWRkIGhlYXJ0YmVhdHNcbiAgYXN5bmMgYWRkKGhlYXJ0YmVhdHNPYmplY3Q6IEhlYXJ0YmVhdHNJbkluZGV4ZWREQik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNhblVzZUluZGV4ZWREQiA9IGF3YWl0IHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2U7XG4gICAgaWYgKCFjYW5Vc2VJbmRleGVkREIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0ID0gYXdhaXQgdGhpcy5yZWFkKCk7XG4gICAgICByZXR1cm4gd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIodGhpcy5hcHAsIHtcbiAgICAgICAgbGFzdFNlbnRIZWFydGJlYXREYXRlOlxuICAgICAgICAgIGhlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlID8/XG4gICAgICAgICAgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0Lmxhc3RTZW50SGVhcnRiZWF0RGF0ZSxcbiAgICAgICAgaGVhcnRiZWF0czogW1xuICAgICAgICAgIC4uLmV4aXN0aW5nSGVhcnRiZWF0c09iamVjdC5oZWFydGJlYXRzLFxuICAgICAgICAgIC4uLmhlYXJ0YmVhdHNPYmplY3QuaGVhcnRiZWF0c1xuICAgICAgICBdXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgYnl0ZXMgb2YgYSBIZWFydGJlYXRzQnlVc2VyQWdlbnQgYXJyYXkgYWZ0ZXIgYmVpbmcgd3JhcHBlZFxuICogaW4gYSBwbGF0Zm9ybSBsb2dnaW5nIGhlYWRlciBKU09OIG9iamVjdCwgc3RyaW5naWZpZWQsIGFuZCBjb252ZXJ0ZWRcbiAqIHRvIGJhc2UgNjQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3VudEJ5dGVzKGhlYXJ0YmVhdHNDYWNoZTogSGVhcnRiZWF0c0J5VXNlckFnZW50W10pOiBudW1iZXIge1xuICAvLyBiYXNlNjQgaGFzIGEgcmVzdHJpY3RlZCBzZXQgb2YgY2hhcmFjdGVycywgYWxsIG9mIHdoaWNoIHNob3VsZCBiZSAxIGJ5dGUuXG4gIHJldHVybiBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhcbiAgICAvLyBoZWFydGJlYXRzQ2FjaGUgd3JhcHBlciBwcm9wZXJ0aWVzXG4gICAgSlNPTi5zdHJpbmdpZnkoeyB2ZXJzaW9uOiAyLCBoZWFydGJlYXRzOiBoZWFydGJlYXRzQ2FjaGUgfSlcbiAgKS5sZW5ndGg7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRUeXBlIH0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsIH0gZnJvbSAnLi9wbGF0Zm9ybUxvZ2dlclNlcnZpY2UnO1xuaW1wb3J0IHsgbmFtZSwgdmVyc2lvbiB9IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBfcmVnaXN0ZXJDb21wb25lbnQgfSBmcm9tICcuL2ludGVybmFsJztcbmltcG9ydCB7IHJlZ2lzdGVyVmVyc2lvbiB9IGZyb20gJy4vYXBpJztcbmltcG9ydCB7IEhlYXJ0YmVhdFNlcnZpY2VJbXBsIH0gZnJvbSAnLi9oZWFydGJlYXRTZXJ2aWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQ29yZUNvbXBvbmVudHModmFyaWFudD86IHN0cmluZyk6IHZvaWQge1xuICBfcmVnaXN0ZXJDb21wb25lbnQoXG4gICAgbmV3IENvbXBvbmVudChcbiAgICAgICdwbGF0Zm9ybS1sb2dnZXInLFxuICAgICAgY29udGFpbmVyID0+IG5ldyBQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsKGNvbnRhaW5lciksXG4gICAgICBDb21wb25lbnRUeXBlLlBSSVZBVEVcbiAgICApXG4gICk7XG4gIF9yZWdpc3RlckNvbXBvbmVudChcbiAgICBuZXcgQ29tcG9uZW50KFxuICAgICAgJ2hlYXJ0YmVhdCcsXG4gICAgICBjb250YWluZXIgPT4gbmV3IEhlYXJ0YmVhdFNlcnZpY2VJbXBsKGNvbnRhaW5lciksXG4gICAgICBDb21wb25lbnRUeXBlLlBSSVZBVEVcbiAgICApXG4gICk7XG5cbiAgLy8gUmVnaXN0ZXIgYGFwcGAgcGFja2FnZS5cbiAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sIHZhcmlhbnQpO1xuICAvLyBCVUlMRF9UQVJHRVQgd2lsbCBiZSByZXBsYWNlZCBieSB2YWx1ZXMgbGlrZSBlc201LCBlc20yMDE3LCBjanM1LCBldGMgZHVyaW5nIHRoZSBjb21waWxhdGlvblxuICByZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgJ19fQlVJTERfVEFSR0VUX18nKTtcbiAgLy8gUmVnaXN0ZXIgcGxhdGZvcm0gU0RLIGlkZW50aWZpZXIgKG5vIHZlcnNpb24pLlxuICByZWdpc3RlclZlcnNpb24oJ2ZpcmUtanMnLCAnJyk7XG59XG4iLCAiLyoqXG4gKiBGaXJlYmFzZSBBcHBcbiAqXG4gKiBAcmVtYXJrcyBUaGlzIHBhY2thZ2UgY29vcmRpbmF0ZXMgdGhlIGNvbW11bmljYXRpb24gYmV0d2VlbiB0aGUgZGlmZmVyZW50IEZpcmViYXNlIGNvbXBvbmVudHNcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IHJlZ2lzdGVyQ29yZUNvbXBvbmVudHMgfSBmcm9tICcuL3JlZ2lzdGVyQ29yZUNvbXBvbmVudHMnO1xuXG5leHBvcnQgKiBmcm9tICcuL2FwaSc7XG5leHBvcnQgKiBmcm9tICcuL2ludGVybmFsJztcbmV4cG9ydCAqIGZyb20gJy4vcHVibGljLXR5cGVzJztcblxucmVnaXN0ZXJDb3JlQ29tcG9uZW50cygnX19SVU5USU1FX0VOVl9fJyk7XG4iLCAiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sLCBJdGVyYXRvciAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGcgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEl0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpO1xuICByZXR1cm4gZy5uZXh0ID0gdmVyYigwKSwgZ1tcInRocm93XCJdID0gdmVyYigxKSwgZ1tcInJldHVyblwiXSA9IHZlcmIoMiksIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgb1trMl0gPSBtW2tdO1xufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xuICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XG4gIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICB9XG4gIH07XG4gIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gIHRyeSB7XG4gICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgfVxuICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgfVxuICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gIH1cbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XG4gIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICByW2tdID0gYVtqXTtcbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XG4gIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcbiAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICByZXR1cm4gaSA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBBc3luY0l0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBBc3luY0l0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpLCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIsIGF3YWl0UmV0dXJuKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiBhd2FpdFJldHVybihmKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZiwgcmVqZWN0KTsgfTsgfVxuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKGdbbl0pIHsgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgaWYgKGYpIGlbbl0gPSBmKGlbbl0pOyB9IH1cbiAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cbiAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xuICB2YXIgaSwgcDtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cbiAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcbiAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cbiAgcmV0dXJuIGNvb2tlZDtcbn07XG5cbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gIG9bXCJkZWZhdWx0XCJdID0gdjtcbn07XG5cbnZhciBvd25LZXlzID0gZnVuY3Rpb24obykge1xuICBvd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gKG8pIHtcbiAgICB2YXIgYXIgPSBbXTtcbiAgICBmb3IgKHZhciBrIGluIG8pIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgaykpIGFyW2FyLmxlbmd0aF0gPSBrO1xuICAgIHJldHVybiBhcjtcbiAgfTtcbiAgcmV0dXJuIG93bktleXMobyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayA9IG93bktleXMobW9kKSwgaSA9IDA7IGkgPCBrLmxlbmd0aDsgaSsrKSBpZiAoa1tpXSAhPT0gXCJkZWZhdWx0XCIpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwga1tpXSk7XG4gIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XG4gIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcbiAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XG4gIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnYsIHZhbHVlLCBhc3luYykge1xuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWQuXCIpO1xuICAgIHZhciBkaXNwb3NlLCBpbm5lcjtcbiAgICBpZiAoYXN5bmMpIHtcbiAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5hc3luY0Rpc3Bvc2VdO1xuICAgIH1cbiAgICBpZiAoZGlzcG9zZSA9PT0gdm9pZCAwKSB7XG4gICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICAgIGlmIChhc3luYykgaW5uZXIgPSBkaXNwb3NlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBub3QgZGlzcG9zYWJsZS5cIik7XG4gICAgaWYgKGlubmVyKSBkaXNwb3NlID0gZnVuY3Rpb24oKSB7IHRyeSB7IGlubmVyLmNhbGwodGhpcyk7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpOyB9IH07XG4gICAgZW52LnN0YWNrLnB1c2goeyB2YWx1ZTogdmFsdWUsIGRpc3Bvc2U6IGRpc3Bvc2UsIGFzeW5jOiBhc3luYyB9KTtcbiAgfVxuICBlbHNlIGlmIChhc3luYykge1xuICAgIGVudi5zdGFjay5wdXNoKHsgYXN5bmM6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgX1N1cHByZXNzZWRFcnJvciA9IHR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xuICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52KSB7XG4gIGZ1bmN0aW9uIGZhaWwoZSkge1xuICAgIGVudi5lcnJvciA9IGVudi5oYXNFcnJvciA/IG5ldyBfU3VwcHJlc3NlZEVycm9yKGUsIGVudi5lcnJvciwgXCJBbiBlcnJvciB3YXMgc3VwcHJlc3NlZCBkdXJpbmcgZGlzcG9zYWwuXCIpIDogZTtcbiAgICBlbnYuaGFzRXJyb3IgPSB0cnVlO1xuICB9XG4gIHZhciByLCBzID0gMDtcbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICB3aGlsZSAociA9IGVudi5zdGFjay5wb3AoKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFyLmFzeW5jICYmIHMgPT09IDEpIHJldHVybiBzID0gMCwgZW52LnN0YWNrLnB1c2gociksIFByb21pc2UucmVzb2x2ZSgpLnRoZW4obmV4dCk7XG4gICAgICAgIGlmIChyLmRpc3Bvc2UpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gci5kaXNwb3NlLmNhbGwoci52YWx1ZSk7XG4gICAgICAgICAgaWYgKHIuYXN5bmMpIHJldHVybiBzIHw9IDIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHMgfD0gMTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGZhaWwoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzID09PSAxKSByZXR1cm4gZW52Lmhhc0Vycm9yID8gUHJvbWlzZS5yZWplY3QoZW52LmVycm9yKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcbiAgfVxuICByZXR1cm4gbmV4dCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXdyaXRlUmVsYXRpdmVJbXBvcnRFeHRlbnNpb24ocGF0aCwgcHJlc2VydmVKc3gpIHtcbiAgaWYgKHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiICYmIC9eXFwuXFwuP1xcLy8udGVzdChwYXRoKSkge1xuICAgICAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXFwuKHRzeCkkfCgoPzpcXC5kKT8pKCg/OlxcLlteLi9dKz8pPylcXC4oW2NtXT8pdHMkL2ksIGZ1bmN0aW9uIChtLCB0c3gsIGQsIGV4dCwgY20pIHtcbiAgICAgICAgICByZXR1cm4gdHN4ID8gcHJlc2VydmVKc3ggPyBcIi5qc3hcIiA6IFwiLmpzXCIgOiBkICYmICghZXh0IHx8ICFjbSkgPyBtIDogKGQgKyBleHQgKyBcIi5cIiArIGNtLnRvTG93ZXJDYXNlKCkgKyBcImpzXCIpO1xuICAgICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19leHRlbmRzLFxuICBfX2Fzc2lnbixcbiAgX19yZXN0LFxuICBfX2RlY29yYXRlLFxuICBfX3BhcmFtLFxuICBfX2VzRGVjb3JhdGUsXG4gIF9fcnVuSW5pdGlhbGl6ZXJzLFxuICBfX3Byb3BLZXksXG4gIF9fc2V0RnVuY3Rpb25OYW1lLFxuICBfX21ldGFkYXRhLFxuICBfX2F3YWl0ZXIsXG4gIF9fZ2VuZXJhdG9yLFxuICBfX2NyZWF0ZUJpbmRpbmcsXG4gIF9fZXhwb3J0U3RhcixcbiAgX192YWx1ZXMsXG4gIF9fcmVhZCxcbiAgX19zcHJlYWQsXG4gIF9fc3ByZWFkQXJyYXlzLFxuICBfX3NwcmVhZEFycmF5LFxuICBfX2F3YWl0LFxuICBfX2FzeW5jR2VuZXJhdG9yLFxuICBfX2FzeW5jRGVsZWdhdG9yLFxuICBfX2FzeW5jVmFsdWVzLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdCxcbiAgX19pbXBvcnRTdGFyLFxuICBfX2ltcG9ydERlZmF1bHQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRJbixcbiAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXG4gIF9fZGlzcG9zZVJlc291cmNlcyxcbiAgX19yZXdyaXRlUmVsYXRpdmVJbXBvcnRFeHRlbnNpb24sXG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQW4gZW51bSBvZiBmYWN0b3JzIHRoYXQgbWF5IGJlIHVzZWQgZm9yIG11bHRpZmFjdG9yIGF1dGhlbnRpY2F0aW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEZhY3RvcklkID0ge1xuICAvKiogUGhvbmUgYXMgc2Vjb25kIGZhY3RvciAqL1xuICBQSE9ORTogJ3Bob25lJyxcbiAgVE9UUDogJ3RvdHAnXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIEVudW1lcmF0aW9uIG9mIHN1cHBvcnRlZCBwcm92aWRlcnMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgUHJvdmlkZXJJZCA9IHtcbiAgLyoqIEZhY2Vib29rIHByb3ZpZGVyIElEICovXG4gIEZBQ0VCT09LOiAnZmFjZWJvb2suY29tJyxcbiAgLyoqIEdpdEh1YiBwcm92aWRlciBJRCAqL1xuICBHSVRIVUI6ICdnaXRodWIuY29tJyxcbiAgLyoqIEdvb2dsZSBwcm92aWRlciBJRCAqL1xuICBHT09HTEU6ICdnb29nbGUuY29tJyxcbiAgLyoqIFBhc3N3b3JkIHByb3ZpZGVyICovXG4gIFBBU1NXT1JEOiAncGFzc3dvcmQnLFxuICAvKiogUGhvbmUgcHJvdmlkZXIgKi9cbiAgUEhPTkU6ICdwaG9uZScsXG4gIC8qKiBUd2l0dGVyIHByb3ZpZGVyIElEICovXG4gIFRXSVRURVI6ICd0d2l0dGVyLmNvbSdcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogRW51bWVyYXRpb24gb2Ygc3VwcG9ydGVkIHNpZ24taW4gbWV0aG9kcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBTaWduSW5NZXRob2QgPSB7XG4gIC8qKiBFbWFpbCBsaW5rIHNpZ24gaW4gbWV0aG9kICovXG4gIEVNQUlMX0xJTks6ICdlbWFpbExpbmsnLFxuICAvKiogRW1haWwvcGFzc3dvcmQgc2lnbiBpbiBtZXRob2QgKi9cbiAgRU1BSUxfUEFTU1dPUkQ6ICdwYXNzd29yZCcsXG4gIC8qKiBGYWNlYm9vayBzaWduIGluIG1ldGhvZCAqL1xuICBGQUNFQk9PSzogJ2ZhY2Vib29rLmNvbScsXG4gIC8qKiBHaXRIdWIgc2lnbiBpbiBtZXRob2QgKi9cbiAgR0lUSFVCOiAnZ2l0aHViLmNvbScsXG4gIC8qKiBHb29nbGUgc2lnbiBpbiBtZXRob2QgKi9cbiAgR09PR0xFOiAnZ29vZ2xlLmNvbScsXG4gIC8qKiBQaG9uZSBzaWduIGluIG1ldGhvZCAqL1xuICBQSE9ORTogJ3Bob25lJyxcbiAgLyoqIFR3aXR0ZXIgc2lnbiBpbiBtZXRob2QgKi9cbiAgVFdJVFRFUjogJ3R3aXR0ZXIuY29tJ1xufSBhcyBjb25zdDtcblxuLyoqXG4gKiBFbnVtZXJhdGlvbiBvZiBzdXBwb3J0ZWQgb3BlcmF0aW9uIHR5cGVzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IE9wZXJhdGlvblR5cGUgPSB7XG4gIC8qKiBPcGVyYXRpb24gaW52b2x2aW5nIGxpbmtpbmcgYW4gYWRkaXRpb25hbCBwcm92aWRlciB0byBhbiBhbHJlYWR5IHNpZ25lZC1pbiB1c2VyLiAqL1xuICBMSU5LOiAnbGluaycsXG4gIC8qKiBPcGVyYXRpb24gaW52b2x2aW5nIHVzaW5nIGEgcHJvdmlkZXIgdG8gcmVhdXRoZW50aWNhdGUgYW4gYWxyZWFkeSBzaWduZWQtaW4gdXNlci4gKi9cbiAgUkVBVVRIRU5USUNBVEU6ICdyZWF1dGhlbnRpY2F0ZScsXG4gIC8qKiBPcGVyYXRpb24gaW52b2x2aW5nIHNpZ25pbmcgaW4gYSB1c2VyLiAqL1xuICBTSUdOX0lOOiAnc2lnbkluJ1xufSBhcyBjb25zdDtcblxuLyoqXG4gKiBBbiBlbnVtZXJhdGlvbiBvZiB0aGUgcG9zc2libGUgZW1haWwgYWN0aW9uIHR5cGVzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEFjdGlvbkNvZGVPcGVyYXRpb24gPSB7XG4gIC8qKiBUaGUgZW1haWwgbGluayBzaWduLWluIGFjdGlvbi4gKi9cbiAgRU1BSUxfU0lHTklOOiAnRU1BSUxfU0lHTklOJyxcbiAgLyoqIFRoZSBwYXNzd29yZCByZXNldCBhY3Rpb24uICovXG4gIFBBU1NXT1JEX1JFU0VUOiAnUEFTU1dPUkRfUkVTRVQnLFxuICAvKiogVGhlIGVtYWlsIHJldm9jYXRpb24gYWN0aW9uLiAqL1xuICBSRUNPVkVSX0VNQUlMOiAnUkVDT1ZFUl9FTUFJTCcsXG4gIC8qKiBUaGUgcmV2ZXJ0IHNlY29uZCBmYWN0b3IgYWRkaXRpb24gZW1haWwgYWN0aW9uLiAqL1xuICBSRVZFUlRfU0VDT05EX0ZBQ1RPUl9BRERJVElPTjogJ1JFVkVSVF9TRUNPTkRfRkFDVE9SX0FERElUSU9OJyxcbiAgLyoqIFRoZSByZXZlcnQgc2Vjb25kIGZhY3RvciBhZGRpdGlvbiBlbWFpbCBhY3Rpb24uICovXG4gIFZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMOiAnVkVSSUZZX0FORF9DSEFOR0VfRU1BSUwnLFxuICAvKiogVGhlIGVtYWlsIHZlcmlmaWNhdGlvbiBhY3Rpb24uICovXG4gIFZFUklGWV9FTUFJTDogJ1ZFUklGWV9FTUFJTCdcbn0gYXMgY29uc3Q7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aEVycm9yTWFwLCBVc2VyIH0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEVycm9yRmFjdG9yeSwgRXJyb3JNYXAgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IElkVG9rZW5NZmFSZXNwb25zZSB9IGZyb20gJy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgQXBwTmFtZSB9IGZyb20gJy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuL2NyZWRlbnRpYWxzJztcblxuLyoqXG4gKiBFbnVtZXJhdGlvbiBvZiBGaXJlYmFzZSBBdXRoIGVycm9yIGNvZGVzLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgZW51bSBBdXRoRXJyb3JDb2RlIHtcbiAgQURNSU5fT05MWV9PUEVSQVRJT04gPSAnYWRtaW4tcmVzdHJpY3RlZC1vcGVyYXRpb24nLFxuICBBUkdVTUVOVF9FUlJPUiA9ICdhcmd1bWVudC1lcnJvcicsXG4gIEFQUF9OT1RfQVVUSE9SSVpFRCA9ICdhcHAtbm90LWF1dGhvcml6ZWQnLFxuICBBUFBfTk9UX0lOU1RBTExFRCA9ICdhcHAtbm90LWluc3RhbGxlZCcsXG4gIENBUFRDSEFfQ0hFQ0tfRkFJTEVEID0gJ2NhcHRjaGEtY2hlY2stZmFpbGVkJyxcbiAgQ09ERV9FWFBJUkVEID0gJ2NvZGUtZXhwaXJlZCcsXG4gIENPUkRPVkFfTk9UX1JFQURZID0gJ2NvcmRvdmEtbm90LXJlYWR5JyxcbiAgQ09SU19VTlNVUFBPUlRFRCA9ICdjb3JzLXVuc3VwcG9ydGVkJyxcbiAgQ1JFREVOVElBTF9BTFJFQURZX0lOX1VTRSA9ICdjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlJyxcbiAgQ1JFREVOVElBTF9NSVNNQVRDSCA9ICdjdXN0b20tdG9rZW4tbWlzbWF0Y2gnLFxuICBDUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU4gPSAncmVxdWlyZXMtcmVjZW50LWxvZ2luJyxcbiAgREVQRU5ERU5UX1NES19JTklUX0JFRk9SRV9BVVRIID0gJ2RlcGVuZGVudC1zZGstaW5pdGlhbGl6ZWQtYmVmb3JlLWF1dGgnLFxuICBEWU5BTUlDX0xJTktfTk9UX0FDVElWQVRFRCA9ICdkeW5hbWljLWxpbmstbm90LWFjdGl2YXRlZCcsXG4gIEVNQUlMX0NIQU5HRV9ORUVEU19WRVJJRklDQVRJT04gPSAnZW1haWwtY2hhbmdlLW5lZWRzLXZlcmlmaWNhdGlvbicsXG4gIEVNQUlMX0VYSVNUUyA9ICdlbWFpbC1hbHJlYWR5LWluLXVzZScsXG4gIEVNVUxBVE9SX0NPTkZJR19GQUlMRUQgPSAnZW11bGF0b3ItY29uZmlnLWZhaWxlZCcsXG4gIEVYUElSRURfT09CX0NPREUgPSAnZXhwaXJlZC1hY3Rpb24tY29kZScsXG4gIEVYUElSRURfUE9QVVBfUkVRVUVTVCA9ICdjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdCcsXG4gIElOVEVSTkFMX0VSUk9SID0gJ2ludGVybmFsLWVycm9yJyxcbiAgSU5WQUxJRF9BUElfS0VZID0gJ2ludmFsaWQtYXBpLWtleScsXG4gIElOVkFMSURfQVBQX0NSRURFTlRJQUwgPSAnaW52YWxpZC1hcHAtY3JlZGVudGlhbCcsXG4gIElOVkFMSURfQVBQX0lEID0gJ2ludmFsaWQtYXBwLWlkJyxcbiAgSU5WQUxJRF9BVVRIID0gJ2ludmFsaWQtdXNlci10b2tlbicsXG4gIElOVkFMSURfQVVUSF9FVkVOVCA9ICdpbnZhbGlkLWF1dGgtZXZlbnQnLFxuICBJTlZBTElEX0NFUlRfSEFTSCA9ICdpbnZhbGlkLWNlcnQtaGFzaCcsXG4gIElOVkFMSURfQ09ERSA9ICdpbnZhbGlkLXZlcmlmaWNhdGlvbi1jb2RlJyxcbiAgSU5WQUxJRF9DT05USU5VRV9VUkkgPSAnaW52YWxpZC1jb250aW51ZS11cmknLFxuICBJTlZBTElEX0NPUkRPVkFfQ09ORklHVVJBVElPTiA9ICdpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvbicsXG4gIElOVkFMSURfQ1VTVE9NX1RPS0VOID0gJ2ludmFsaWQtY3VzdG9tLXRva2VuJyxcbiAgSU5WQUxJRF9EWU5BTUlDX0xJTktfRE9NQUlOID0gJ2ludmFsaWQtZHluYW1pYy1saW5rLWRvbWFpbicsXG4gIElOVkFMSURfRU1BSUwgPSAnaW52YWxpZC1lbWFpbCcsXG4gIElOVkFMSURfRU1VTEFUT1JfU0NIRU1FID0gJ2ludmFsaWQtZW11bGF0b3Itc2NoZW1lJyxcbiAgSU5WQUxJRF9DUkVERU5USUFMID0gJ2ludmFsaWQtY3JlZGVudGlhbCcsXG4gIElOVkFMSURfTUVTU0FHRV9QQVlMT0FEID0gJ2ludmFsaWQtbWVzc2FnZS1wYXlsb2FkJyxcbiAgSU5WQUxJRF9NRkFfU0VTU0lPTiA9ICdpbnZhbGlkLW11bHRpLWZhY3Rvci1zZXNzaW9uJyxcbiAgSU5WQUxJRF9PQVVUSF9DTElFTlRfSUQgPSAnaW52YWxpZC1vYXV0aC1jbGllbnQtaWQnLFxuICBJTlZBTElEX09BVVRIX1BST1ZJREVSID0gJ2ludmFsaWQtb2F1dGgtcHJvdmlkZXInLFxuICBJTlZBTElEX09PQl9DT0RFID0gJ2ludmFsaWQtYWN0aW9uLWNvZGUnLFxuICBJTlZBTElEX09SSUdJTiA9ICd1bmF1dGhvcml6ZWQtZG9tYWluJyxcbiAgSU5WQUxJRF9QQVNTV09SRCA9ICd3cm9uZy1wYXNzd29yZCcsXG4gIElOVkFMSURfUEVSU0lTVEVOQ0UgPSAnaW52YWxpZC1wZXJzaXN0ZW5jZS10eXBlJyxcbiAgSU5WQUxJRF9QSE9ORV9OVU1CRVIgPSAnaW52YWxpZC1waG9uZS1udW1iZXInLFxuICBJTlZBTElEX1BST1ZJREVSX0lEID0gJ2ludmFsaWQtcHJvdmlkZXItaWQnLFxuICBJTlZBTElEX1JFQ0lQSUVOVF9FTUFJTCA9ICdpbnZhbGlkLXJlY2lwaWVudC1lbWFpbCcsXG4gIElOVkFMSURfU0VOREVSID0gJ2ludmFsaWQtc2VuZGVyJyxcbiAgSU5WQUxJRF9TRVNTSU9OX0lORk8gPSAnaW52YWxpZC12ZXJpZmljYXRpb24taWQnLFxuICBJTlZBTElEX1RFTkFOVF9JRCA9ICdpbnZhbGlkLXRlbmFudC1pZCcsXG4gIExPR0lOX0JMT0NLRUQgPSAnbG9naW4tYmxvY2tlZCcsXG4gIE1GQV9JTkZPX05PVF9GT1VORCA9ICdtdWx0aS1mYWN0b3ItaW5mby1ub3QtZm91bmQnLFxuICBNRkFfUkVRVUlSRUQgPSAnbXVsdGktZmFjdG9yLWF1dGgtcmVxdWlyZWQnLFxuICBNSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FID0gJ21pc3NpbmctYW5kcm9pZC1wa2ctbmFtZScsXG4gIE1JU1NJTkdfQVBQX0NSRURFTlRJQUwgPSAnbWlzc2luZy1hcHAtY3JlZGVudGlhbCcsXG4gIE1JU1NJTkdfQVVUSF9ET01BSU4gPSAnYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkJyxcbiAgTUlTU0lOR19DT0RFID0gJ21pc3NpbmctdmVyaWZpY2F0aW9uLWNvZGUnLFxuICBNSVNTSU5HX0NPTlRJTlVFX1VSSSA9ICdtaXNzaW5nLWNvbnRpbnVlLXVyaScsXG4gIE1JU1NJTkdfSUZSQU1FX1NUQVJUID0gJ21pc3NpbmctaWZyYW1lLXN0YXJ0JyxcbiAgTUlTU0lOR19JT1NfQlVORExFX0lEID0gJ21pc3NpbmctaW9zLWJ1bmRsZS1pZCcsXG4gIE1JU1NJTkdfT1JfSU5WQUxJRF9OT05DRSA9ICdtaXNzaW5nLW9yLWludmFsaWQtbm9uY2UnLFxuICBNSVNTSU5HX01GQV9JTkZPID0gJ21pc3NpbmctbXVsdGktZmFjdG9yLWluZm8nLFxuICBNSVNTSU5HX01GQV9TRVNTSU9OID0gJ21pc3NpbmctbXVsdGktZmFjdG9yLXNlc3Npb24nLFxuICBNSVNTSU5HX1BIT05FX05VTUJFUiA9ICdtaXNzaW5nLXBob25lLW51bWJlcicsXG4gIE1JU1NJTkdfUEFTU1dPUkQgPSAnbWlzc2luZy1wYXNzd29yZCcsXG4gIE1JU1NJTkdfU0VTU0lPTl9JTkZPID0gJ21pc3NpbmctdmVyaWZpY2F0aW9uLWlkJyxcbiAgTU9EVUxFX0RFU1RST1lFRCA9ICdhcHAtZGVsZXRlZCcsXG4gIE5FRURfQ09ORklSTUFUSU9OID0gJ2FjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWwnLFxuICBORVRXT1JLX1JFUVVFU1RfRkFJTEVEID0gJ25ldHdvcmstcmVxdWVzdC1mYWlsZWQnLFxuICBOVUxMX1VTRVIgPSAnbnVsbC11c2VyJyxcbiAgTk9fQVVUSF9FVkVOVCA9ICduby1hdXRoLWV2ZW50JyxcbiAgTk9fU1VDSF9QUk9WSURFUiA9ICduby1zdWNoLXByb3ZpZGVyJyxcbiAgT1BFUkFUSU9OX05PVF9BTExPV0VEID0gJ29wZXJhdGlvbi1ub3QtYWxsb3dlZCcsXG4gIE9QRVJBVElPTl9OT1RfU1VQUE9SVEVEID0gJ29wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnQnLFxuICBQT1BVUF9CTE9DS0VEID0gJ3BvcHVwLWJsb2NrZWQnLFxuICBQT1BVUF9DTE9TRURfQllfVVNFUiA9ICdwb3B1cC1jbG9zZWQtYnktdXNlcicsXG4gIFBST1ZJREVSX0FMUkVBRFlfTElOS0VEID0gJ3Byb3ZpZGVyLWFscmVhZHktbGlua2VkJyxcbiAgUVVPVEFfRVhDRUVERUQgPSAncXVvdGEtZXhjZWVkZWQnLFxuICBSRURJUkVDVF9DQU5DRUxMRURfQllfVVNFUiA9ICdyZWRpcmVjdC1jYW5jZWxsZWQtYnktdXNlcicsXG4gIFJFRElSRUNUX09QRVJBVElPTl9QRU5ESU5HID0gJ3JlZGlyZWN0LW9wZXJhdGlvbi1wZW5kaW5nJyxcbiAgUkVKRUNURURfQ1JFREVOVElBTCA9ICdyZWplY3RlZC1jcmVkZW50aWFsJyxcbiAgU0VDT05EX0ZBQ1RPUl9BTFJFQURZX0VOUk9MTEVEID0gJ3NlY29uZC1mYWN0b3ItYWxyZWFkeS1pbi11c2UnLFxuICBTRUNPTkRfRkFDVE9SX0xJTUlUX0VYQ0VFREVEID0gJ21heGltdW0tc2Vjb25kLWZhY3Rvci1jb3VudC1leGNlZWRlZCcsXG4gIFRFTkFOVF9JRF9NSVNNQVRDSCA9ICd0ZW5hbnQtaWQtbWlzbWF0Y2gnLFxuICBUSU1FT1VUID0gJ3RpbWVvdXQnLFxuICBUT0tFTl9FWFBJUkVEID0gJ3VzZXItdG9rZW4tZXhwaXJlZCcsXG4gIFRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUiA9ICd0b28tbWFueS1yZXF1ZXN0cycsXG4gIFVOQVVUSE9SSVpFRF9ET01BSU4gPSAndW5hdXRob3JpemVkLWNvbnRpbnVlLXVyaScsXG4gIFVOU1VQUE9SVEVEX0ZJUlNUX0ZBQ1RPUiA9ICd1bnN1cHBvcnRlZC1maXJzdC1mYWN0b3InLFxuICBVTlNVUFBPUlRFRF9QRVJTSVNURU5DRSA9ICd1bnN1cHBvcnRlZC1wZXJzaXN0ZW5jZS10eXBlJyxcbiAgVU5TVVBQT1JURURfVEVOQU5UX09QRVJBVElPTiA9ICd1bnN1cHBvcnRlZC10ZW5hbnQtb3BlcmF0aW9uJyxcbiAgVU5WRVJJRklFRF9FTUFJTCA9ICd1bnZlcmlmaWVkLWVtYWlsJyxcbiAgVVNFUl9DQU5DRUxMRUQgPSAndXNlci1jYW5jZWxsZWQnLFxuICBVU0VSX0RFTEVURUQgPSAndXNlci1ub3QtZm91bmQnLFxuICBVU0VSX0RJU0FCTEVEID0gJ3VzZXItZGlzYWJsZWQnLFxuICBVU0VSX01JU01BVENIID0gJ3VzZXItbWlzbWF0Y2gnLFxuICBVU0VSX1NJR05FRF9PVVQgPSAndXNlci1zaWduZWQtb3V0JyxcbiAgV0VBS19QQVNTV09SRCA9ICd3ZWFrLXBhc3N3b3JkJyxcbiAgV0VCX1NUT1JBR0VfVU5TVVBQT1JURUQgPSAnd2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWQnLFxuICBBTFJFQURZX0lOSVRJQUxJWkVEID0gJ2FscmVhZHktaW5pdGlhbGl6ZWQnLFxuICBSRUNBUFRDSEFfTk9UX0VOQUJMRUQgPSAncmVjYXB0Y2hhLW5vdC1lbmFibGVkJyxcbiAgTUlTU0lOR19SRUNBUFRDSEFfVE9LRU4gPSAnbWlzc2luZy1yZWNhcHRjaGEtdG9rZW4nLFxuICBJTlZBTElEX1JFQ0FQVENIQV9UT0tFTiA9ICdpbnZhbGlkLXJlY2FwdGNoYS10b2tlbicsXG4gIElOVkFMSURfUkVDQVBUQ0hBX0FDVElPTiA9ICdpbnZhbGlkLXJlY2FwdGNoYS1hY3Rpb24nLFxuICBNSVNTSU5HX0NMSUVOVF9UWVBFID0gJ21pc3NpbmctY2xpZW50LXR5cGUnLFxuICBNSVNTSU5HX1JFQ0FQVENIQV9WRVJTSU9OID0gJ21pc3NpbmctcmVjYXB0Y2hhLXZlcnNpb24nLFxuICBJTlZBTElEX1JFQ0FQVENIQV9WRVJTSU9OID0gJ2ludmFsaWQtcmVjYXB0Y2hhLXZlcnNpb24nLFxuICBJTlZBTElEX1JFUV9UWVBFID0gJ2ludmFsaWQtcmVxLXR5cGUnLFxuICBVTlNVUFBPUlRFRF9QQVNTV09SRF9QT0xJQ1lfU0NIRU1BX1ZFUlNJT04gPSAndW5zdXBwb3J0ZWQtcGFzc3dvcmQtcG9saWN5LXNjaGVtYS12ZXJzaW9uJyxcbiAgUEFTU1dPUkRfRE9FU19OT1RfTUVFVF9SRVFVSVJFTUVOVFMgPSAncGFzc3dvcmQtZG9lcy1ub3QtbWVldC1yZXF1aXJlbWVudHMnXG59XG5cbmZ1bmN0aW9uIF9kZWJ1Z0Vycm9yTWFwKCk6IEVycm9yTWFwPEF1dGhFcnJvckNvZGU+IHtcbiAgcmV0dXJuIHtcbiAgICBbQXV0aEVycm9yQ29kZS5BRE1JTl9PTkxZX09QRVJBVElPTl06XG4gICAgICAnVGhpcyBvcGVyYXRpb24gaXMgcmVzdHJpY3RlZCB0byBhZG1pbmlzdHJhdG9ycyBvbmx5LicsXG4gICAgW0F1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JdOiAnJyxcbiAgICBbQXV0aEVycm9yQ29kZS5BUFBfTk9UX0FVVEhPUklaRURdOlxuICAgICAgXCJUaGlzIGFwcCwgaWRlbnRpZmllZCBieSB0aGUgZG9tYWluIHdoZXJlIGl0J3MgaG9zdGVkLCBpcyBub3QgXCIgK1xuICAgICAgJ2F1dGhvcml6ZWQgdG8gdXNlIEZpcmViYXNlIEF1dGhlbnRpY2F0aW9uIHdpdGggdGhlIHByb3ZpZGVkIEFQSSBrZXkuICcgK1xuICAgICAgJ1JldmlldyB5b3VyIGtleSBjb25maWd1cmF0aW9uIGluIHRoZSBHb29nbGUgQVBJIGNvbnNvbGUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5BUFBfTk9UX0lOU1RBTExFRF06XG4gICAgICAnVGhlIHJlcXVlc3RlZCBtb2JpbGUgYXBwbGljYXRpb24gY29ycmVzcG9uZGluZyB0byB0aGUgaWRlbnRpZmllciAoJyArXG4gICAgICAnQW5kcm9pZCBwYWNrYWdlIG5hbWUgb3IgaU9TIGJ1bmRsZSBJRCkgcHJvdmlkZWQgaXMgbm90IGluc3RhbGxlZCBvbiAnICtcbiAgICAgICd0aGlzIGRldmljZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkNBUFRDSEFfQ0hFQ0tfRkFJTEVEXTpcbiAgICAgICdUaGUgcmVDQVBUQ0hBIHJlc3BvbnNlIHRva2VuIHByb3ZpZGVkIGlzIGVpdGhlciBpbnZhbGlkLCBleHBpcmVkLCAnICtcbiAgICAgICdhbHJlYWR5IHVzZWQgb3IgdGhlIGRvbWFpbiBhc3NvY2lhdGVkIHdpdGggaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGxpc3QgJyArXG4gICAgICAnb2Ygd2hpdGVsaXN0ZWQgZG9tYWlucy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkNPREVfRVhQSVJFRF06XG4gICAgICAnVGhlIFNNUyBjb2RlIGhhcyBleHBpcmVkLiBQbGVhc2UgcmUtc2VuZCB0aGUgdmVyaWZpY2F0aW9uIGNvZGUgdG8gdHJ5ICcgK1xuICAgICAgJ2FnYWluLicsXG4gICAgW0F1dGhFcnJvckNvZGUuQ09SRE9WQV9OT1RfUkVBRFldOiAnQ29yZG92YSBmcmFtZXdvcmsgaXMgbm90IHJlYWR5LicsXG4gICAgW0F1dGhFcnJvckNvZGUuQ09SU19VTlNVUFBPUlRFRF06ICdUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkNSRURFTlRJQUxfQUxSRUFEWV9JTl9VU0VdOlxuICAgICAgJ1RoaXMgY3JlZGVudGlhbCBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhIGRpZmZlcmVudCB1c2VyIGFjY291bnQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5DUkVERU5USUFMX01JU01BVENIXTpcbiAgICAgICdUaGUgY3VzdG9tIHRva2VuIGNvcnJlc3BvbmRzIHRvIGEgZGlmZmVyZW50IGF1ZGllbmNlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOXTpcbiAgICAgICdUaGlzIG9wZXJhdGlvbiBpcyBzZW5zaXRpdmUgYW5kIHJlcXVpcmVzIHJlY2VudCBhdXRoZW50aWNhdGlvbi4gTG9nIGluICcgK1xuICAgICAgJ2FnYWluIGJlZm9yZSByZXRyeWluZyB0aGlzIHJlcXVlc3QuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5ERVBFTkRFTlRfU0RLX0lOSVRfQkVGT1JFX0FVVEhdOlxuICAgICAgJ0Fub3RoZXIgRmlyZWJhc2UgU0RLIHdhcyBpbml0aWFsaXplZCBhbmQgaXMgdHJ5aW5nIHRvIHVzZSBBdXRoIGJlZm9yZSBBdXRoIGlzICcgK1xuICAgICAgJ2luaXRpYWxpemVkLiBQbGVhc2UgYmUgc3VyZSB0byBjYWxsIGBpbml0aWFsaXplQXV0aGAgb3IgYGdldEF1dGhgIGJlZm9yZSAnICtcbiAgICAgICdzdGFydGluZyBhbnkgb3RoZXIgRmlyZWJhc2UgU0RLLicsXG4gICAgW0F1dGhFcnJvckNvZGUuRFlOQU1JQ19MSU5LX05PVF9BQ1RJVkFURURdOlxuICAgICAgJ1BsZWFzZSBhY3RpdmF0ZSBEeW5hbWljIExpbmtzIGluIHRoZSBGaXJlYmFzZSBDb25zb2xlIGFuZCBhZ3JlZSB0byB0aGUgdGVybXMgYW5kICcgK1xuICAgICAgJ2NvbmRpdGlvbnMuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5FTUFJTF9DSEFOR0VfTkVFRFNfVkVSSUZJQ0FUSU9OXTpcbiAgICAgICdNdWx0aS1mYWN0b3IgdXNlcnMgbXVzdCBhbHdheXMgaGF2ZSBhIHZlcmlmaWVkIGVtYWlsLicsXG4gICAgW0F1dGhFcnJvckNvZGUuRU1BSUxfRVhJU1RTXTpcbiAgICAgICdUaGUgZW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGluIHVzZSBieSBhbm90aGVyIGFjY291bnQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5FTVVMQVRPUl9DT05GSUdfRkFJTEVEXTpcbiAgICAgICdBdXRoIGluc3RhbmNlIGhhcyBhbHJlYWR5IGJlZW4gdXNlZCB0byBtYWtlIGEgbmV0d29yayBjYWxsLiBBdXRoIGNhbiAnICtcbiAgICAgICdubyBsb25nZXIgYmUgY29uZmlndXJlZCB0byB1c2UgdGhlIGVtdWxhdG9yLiBUcnkgY2FsbGluZyAnICtcbiAgICAgICdcImNvbm5lY3RBdXRoRW11bGF0b3IoKVwiIHNvb25lci4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkVYUElSRURfT09CX0NPREVdOiAnVGhlIGFjdGlvbiBjb2RlIGhhcyBleHBpcmVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuRVhQSVJFRF9QT1BVUF9SRVFVRVNUXTpcbiAgICAgICdUaGlzIG9wZXJhdGlvbiBoYXMgYmVlbiBjYW5jZWxsZWQgZHVlIHRvIGFub3RoZXIgY29uZmxpY3RpbmcgcG9wdXAgYmVpbmcgb3BlbmVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JdOiAnQW4gaW50ZXJuYWwgQXV0aEVycm9yIGhhcyBvY2N1cnJlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQVBQX0NSRURFTlRJQUxdOlxuICAgICAgJ1RoZSBwaG9uZSB2ZXJpZmljYXRpb24gcmVxdWVzdCBjb250YWlucyBhbiBpbnZhbGlkIGFwcGxpY2F0aW9uIHZlcmlmaWVyLicgK1xuICAgICAgJyBUaGUgcmVDQVBUQ0hBIHRva2VuIHJlc3BvbnNlIGlzIGVpdGhlciBpbnZhbGlkIG9yIGV4cGlyZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0FQUF9JRF06XG4gICAgICAnVGhlIG1vYmlsZSBhcHAgaWRlbnRpZmllciBpcyBub3QgcmVnaXN0ZXJlZCBmb3IgdGhlIGN1cnJlbnQgcHJvamVjdC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQVVUSF06XG4gICAgICBcIlRoaXMgdXNlcidzIGNyZWRlbnRpYWwgaXNuJ3QgdmFsaWQgZm9yIHRoaXMgcHJvamVjdC4gVGhpcyBjYW4gaGFwcGVuIFwiICtcbiAgICAgIFwiaWYgdGhlIHVzZXIncyB0b2tlbiBoYXMgYmVlbiB0YW1wZXJlZCB3aXRoLCBvciBpZiB0aGUgdXNlciBpc24ndCBmb3IgXCIgK1xuICAgICAgJ3RoZSBwcm9qZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIEFQSSBrZXkuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0FVVEhfRVZFTlRdOiAnQW4gaW50ZXJuYWwgQXV0aEVycm9yIGhhcyBvY2N1cnJlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQ09ERV06XG4gICAgICAnVGhlIFNNUyB2ZXJpZmljYXRpb24gY29kZSB1c2VkIHRvIGNyZWF0ZSB0aGUgcGhvbmUgYXV0aCBjcmVkZW50aWFsIGlzICcgK1xuICAgICAgJ2ludmFsaWQuIFBsZWFzZSByZXNlbmQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHNtcyBhbmQgYmUgc3VyZSB0byB1c2UgdGhlICcgK1xuICAgICAgJ3ZlcmlmaWNhdGlvbiBjb2RlIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9DT05USU5VRV9VUkldOlxuICAgICAgJ1RoZSBjb250aW51ZSBVUkwgcHJvdmlkZWQgaW4gdGhlIHJlcXVlc3QgaXMgaW52YWxpZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQ09SRE9WQV9DT05GSUdVUkFUSU9OXTpcbiAgICAgICdUaGUgZm9sbG93aW5nIENvcmRvdmEgcGx1Z2lucyBtdXN0IGJlIGluc3RhbGxlZCB0byBlbmFibGUgT0F1dGggc2lnbi1pbjogJyArXG4gICAgICAnY29yZG92YS1wbHVnaW4tYnVpbGRpbmZvLCBjb3Jkb3ZhLXVuaXZlcnNhbC1saW5rcy1wbHVnaW4sICcgK1xuICAgICAgJ2NvcmRvdmEtcGx1Z2luLWJyb3dzZXJ0YWIsIGNvcmRvdmEtcGx1Z2luLWluYXBwYnJvd3NlciBhbmQgJyArXG4gICAgICAnY29yZG92YS1wbHVnaW4tY3VzdG9tdXJsc2NoZW1lLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9DVVNUT01fVE9LRU5dOlxuICAgICAgJ1RoZSBjdXN0b20gdG9rZW4gZm9ybWF0IGlzIGluY29ycmVjdC4gUGxlYXNlIGNoZWNrIHRoZSBkb2N1bWVudGF0aW9uLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9EWU5BTUlDX0xJTktfRE9NQUlOXTpcbiAgICAgICdUaGUgcHJvdmlkZWQgZHluYW1pYyBsaW5rIGRvbWFpbiBpcyBub3QgY29uZmlndXJlZCBvciBhdXRob3JpemVkIGZvciB0aGUgY3VycmVudCBwcm9qZWN0LicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9FTUFJTF06ICdUaGUgZW1haWwgYWRkcmVzcyBpcyBiYWRseSBmb3JtYXR0ZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0VNVUxBVE9SX1NDSEVNRV06XG4gICAgICAnRW11bGF0b3IgVVJMIG11c3Qgc3RhcnQgd2l0aCBhIHZhbGlkIHNjaGVtZSAoaHR0cDovLyBvciBodHRwczovLykuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0FQSV9LRVldOlxuICAgICAgJ1lvdXIgQVBJIGtleSBpcyBpbnZhbGlkLCBwbGVhc2UgY2hlY2sgeW91IGhhdmUgY29waWVkIGl0IGNvcnJlY3RseS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQ0VSVF9IQVNIXTpcbiAgICAgICdUaGUgU0hBLTEgY2VydGlmaWNhdGUgaGFzaCBwcm92aWRlZCBpcyBpbnZhbGlkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9DUkVERU5USUFMXTpcbiAgICAgICdUaGUgc3VwcGxpZWQgYXV0aCBjcmVkZW50aWFsIGlzIGluY29ycmVjdCwgbWFsZm9ybWVkIG9yIGhhcyBleHBpcmVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9NRVNTQUdFX1BBWUxPQURdOlxuICAgICAgJ1RoZSBlbWFpbCB0ZW1wbGF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyBpbiBpdHMgbWVzc2FnZS4gJyArXG4gICAgICAnUGxlYXNlIGZpeCBieSBnb2luZyB0byB0aGUgQXV0aCBlbWFpbCB0ZW1wbGF0ZXMgc2VjdGlvbiBpbiB0aGUgRmlyZWJhc2UgQ29uc29sZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfTUZBX1NFU1NJT05dOlxuICAgICAgJ1RoZSByZXF1ZXN0IGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCBwcm9vZiBvZiBmaXJzdCBmYWN0b3Igc3VjY2Vzc2Z1bCBzaWduLWluLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9PQVVUSF9QUk9WSURFUl06XG4gICAgICAnRW1haWxBdXRoUHJvdmlkZXIgaXMgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBvcGVyYXRpb24uIFRoaXMgb3BlcmF0aW9uICcgK1xuICAgICAgJ29ubHkgc3VwcG9ydHMgT0F1dGggcHJvdmlkZXJzLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9PQVVUSF9DTElFTlRfSURdOlxuICAgICAgJ1RoZSBPQXV0aCBjbGllbnQgSUQgcHJvdmlkZWQgaXMgZWl0aGVyIGludmFsaWQgb3IgZG9lcyBub3QgbWF0Y2ggdGhlICcgK1xuICAgICAgJ3NwZWNpZmllZCBBUEkga2V5LicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9PUklHSU5dOlxuICAgICAgJ1RoaXMgZG9tYWluIGlzIG5vdCBhdXRob3JpemVkIGZvciBPQXV0aCBvcGVyYXRpb25zIGZvciB5b3VyIEZpcmViYXNlICcgK1xuICAgICAgJ3Byb2plY3QuIEVkaXQgdGhlIGxpc3Qgb2YgYXV0aG9yaXplZCBkb21haW5zIGZyb20gdGhlIEZpcmViYXNlIGNvbnNvbGUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX09PQl9DT0RFXTpcbiAgICAgICdUaGUgYWN0aW9uIGNvZGUgaXMgaW52YWxpZC4gVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBjb2RlIGlzIG1hbGZvcm1lZCwgJyArXG4gICAgICAnZXhwaXJlZCwgb3IgaGFzIGFscmVhZHkgYmVlbiB1c2VkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9QQVNTV09SRF06XG4gICAgICAnVGhlIHBhc3N3b3JkIGlzIGludmFsaWQgb3IgdGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhIHBhc3N3b3JkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9QRVJTSVNURU5DRV06XG4gICAgICAnVGhlIHNwZWNpZmllZCBwZXJzaXN0ZW5jZSB0eXBlIGlzIGludmFsaWQuIEl0IGNhbiBvbmx5IGJlIGxvY2FsLCBzZXNzaW9uIG9yIG5vbmUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1BIT05FX05VTUJFUl06XG4gICAgICAnVGhlIGZvcm1hdCBvZiB0aGUgcGhvbmUgbnVtYmVyIHByb3ZpZGVkIGlzIGluY29ycmVjdC4gUGxlYXNlIGVudGVyIHRoZSAnICtcbiAgICAgICdwaG9uZSBudW1iZXIgaW4gYSBmb3JtYXQgdGhhdCBjYW4gYmUgcGFyc2VkIGludG8gRS4xNjQgZm9ybWF0LiBFLjE2NCAnICtcbiAgICAgICdwaG9uZSBudW1iZXJzIGFyZSB3cml0dGVuIGluIHRoZSBmb3JtYXQgWytdW2NvdW50cnkgY29kZV1bc3Vic2NyaWJlciAnICtcbiAgICAgICdudW1iZXIgaW5jbHVkaW5nIGFyZWEgY29kZV0uJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1BST1ZJREVSX0lEXTpcbiAgICAgICdUaGUgc3BlY2lmaWVkIHByb3ZpZGVyIElEIGlzIGludmFsaWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1JFQ0lQSUVOVF9FTUFJTF06XG4gICAgICAnVGhlIGVtYWlsIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBhY3Rpb24gZmFpbGVkIHRvIHNlbmQgYXMgdGhlIHByb3ZpZGVkICcgK1xuICAgICAgJ3JlY2lwaWVudCBlbWFpbCBhZGRyZXNzIGlzIGludmFsaWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1NFTkRFUl06XG4gICAgICAnVGhlIGVtYWlsIHRlbXBsYXRlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBhY3Rpb24gY29udGFpbnMgYW4gaW52YWxpZCBzZW5kZXIgZW1haWwgb3IgbmFtZS4gJyArXG4gICAgICAnUGxlYXNlIGZpeCBieSBnb2luZyB0byB0aGUgQXV0aCBlbWFpbCB0ZW1wbGF0ZXMgc2VjdGlvbiBpbiB0aGUgRmlyZWJhc2UgQ29uc29sZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfU0VTU0lPTl9JTkZPXTpcbiAgICAgICdUaGUgdmVyaWZpY2F0aW9uIElEIHVzZWQgdG8gY3JlYXRlIHRoZSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwgaXMgaW52YWxpZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfVEVOQU5UX0lEXTpcbiAgICAgIFwiVGhlIEF1dGggaW5zdGFuY2UncyB0ZW5hbnQgSUQgaXMgaW52YWxpZC5cIixcbiAgICBbQXV0aEVycm9yQ29kZS5MT0dJTl9CTE9DS0VEXTpcbiAgICAgICdMb2dpbiBibG9ja2VkIGJ5IHVzZXItcHJvdmlkZWQgbWV0aG9kOiB7JG9yaWdpbmFsTWVzc2FnZX0nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQU5EUk9JRF9QQUNLQUdFX05BTUVdOlxuICAgICAgJ0FuIEFuZHJvaWQgUGFja2FnZSBOYW1lIG11c3QgYmUgcHJvdmlkZWQgaWYgdGhlIEFuZHJvaWQgQXBwIGlzIHJlcXVpcmVkIHRvIGJlIGluc3RhbGxlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQVVUSF9ET01BSU5dOlxuICAgICAgJ0JlIHN1cmUgdG8gaW5jbHVkZSBhdXRoRG9tYWluIHdoZW4gY2FsbGluZyBmaXJlYmFzZS5pbml0aWFsaXplQXBwKCksICcgK1xuICAgICAgJ2J5IGZvbGxvd2luZyB0aGUgaW5zdHJ1Y3Rpb25zIGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19BUFBfQ1JFREVOVElBTF06XG4gICAgICAnVGhlIHBob25lIHZlcmlmaWNhdGlvbiByZXF1ZXN0IGlzIG1pc3NpbmcgYW4gYXBwbGljYXRpb24gdmVyaWZpZXIgJyArXG4gICAgICAnYXNzZXJ0aW9uLiBBIHJlQ0FQVENIQSByZXNwb25zZSB0b2tlbiBuZWVkcyB0byBiZSBwcm92aWRlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQ09ERV06XG4gICAgICAnVGhlIHBob25lIGF1dGggY3JlZGVudGlhbCB3YXMgY3JlYXRlZCB3aXRoIGFuIGVtcHR5IFNNUyB2ZXJpZmljYXRpb24gY29kZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQ09OVElOVUVfVVJJXTpcbiAgICAgICdBIGNvbnRpbnVlIFVSTCBtdXN0IGJlIHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0LicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19JRlJBTUVfU1RBUlRdOiAnQW4gaW50ZXJuYWwgQXV0aEVycm9yIGhhcyBvY2N1cnJlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfSU9TX0JVTkRMRV9JRF06XG4gICAgICAnQW4gaU9TIEJ1bmRsZSBJRCBtdXN0IGJlIHByb3ZpZGVkIGlmIGFuIEFwcCBTdG9yZSBJRCBpcyBwcm92aWRlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfT1JfSU5WQUxJRF9OT05DRV06XG4gICAgICAnVGhlIHJlcXVlc3QgZG9lcyBub3QgY29udGFpbiBhIHZhbGlkIG5vbmNlLiBUaGlzIGNhbiBvY2N1ciBpZiB0aGUgJyArXG4gICAgICAnU0hBLTI1NiBoYXNoIG9mIHRoZSBwcm92aWRlZCByYXcgbm9uY2UgZG9lcyBub3QgbWF0Y2ggdGhlIGhhc2hlZCBub25jZSAnICtcbiAgICAgICdpbiB0aGUgSUQgdG9rZW4gcGF5bG9hZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfUEFTU1dPUkRdOiAnQSBub24tZW1wdHkgcGFzc3dvcmQgbXVzdCBiZSBwcm92aWRlZCcsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19NRkFfSU5GT106XG4gICAgICAnTm8gc2Vjb25kIGZhY3RvciBpZGVudGlmaWVyIGlzIHByb3ZpZGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19NRkFfU0VTU0lPTl06XG4gICAgICAnVGhlIHJlcXVlc3QgaXMgbWlzc2luZyBwcm9vZiBvZiBmaXJzdCBmYWN0b3Igc3VjY2Vzc2Z1bCBzaWduLWluLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19QSE9ORV9OVU1CRVJdOlxuICAgICAgJ1RvIHNlbmQgdmVyaWZpY2F0aW9uIGNvZGVzLCBwcm92aWRlIGEgcGhvbmUgbnVtYmVyIGZvciB0aGUgcmVjaXBpZW50LicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19TRVNTSU9OX0lORk9dOlxuICAgICAgJ1RoZSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwgd2FzIGNyZWF0ZWQgd2l0aCBhbiBlbXB0eSB2ZXJpZmljYXRpb24gSUQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NT0RVTEVfREVTVFJPWUVEXTpcbiAgICAgICdUaGlzIGluc3RhbmNlIG9mIEZpcmViYXNlQXBwIGhhcyBiZWVuIGRlbGV0ZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NRkFfSU5GT19OT1RfRk9VTkRdOlxuICAgICAgJ1RoZSB1c2VyIGRvZXMgbm90IGhhdmUgYSBzZWNvbmQgZmFjdG9yIG1hdGNoaW5nIHRoZSBpZGVudGlmaWVyIHByb3ZpZGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUZBX1JFUVVJUkVEXTpcbiAgICAgICdQcm9vZiBvZiBvd25lcnNoaXAgb2YgYSBzZWNvbmQgZmFjdG9yIGlzIHJlcXVpcmVkIHRvIGNvbXBsZXRlIHNpZ24taW4uJyxcbiAgICBbQXV0aEVycm9yQ29kZS5ORUVEX0NPTkZJUk1BVElPTl06XG4gICAgICAnQW4gYWNjb3VudCBhbHJlYWR5IGV4aXN0cyB3aXRoIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3MgYnV0IGRpZmZlcmVudCAnICtcbiAgICAgICdzaWduLWluIGNyZWRlbnRpYWxzLiBTaWduIGluIHVzaW5nIGEgcHJvdmlkZXIgYXNzb2NpYXRlZCB3aXRoIHRoaXMgJyArXG4gICAgICAnZW1haWwgYWRkcmVzcy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk5FVFdPUktfUkVRVUVTVF9GQUlMRURdOlxuICAgICAgJ0EgbmV0d29yayBBdXRoRXJyb3IgKHN1Y2ggYXMgdGltZW91dCwgaW50ZXJydXB0ZWQgY29ubmVjdGlvbiBvciB1bnJlYWNoYWJsZSBob3N0KSBoYXMgb2NjdXJyZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5OT19BVVRIX0VWRU5UXTogJ0FuIGludGVybmFsIEF1dGhFcnJvciBoYXMgb2NjdXJyZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5OT19TVUNIX1BST1ZJREVSXTpcbiAgICAgICdVc2VyIHdhcyBub3QgbGlua2VkIHRvIGFuIGFjY291bnQgd2l0aCB0aGUgZ2l2ZW4gcHJvdmlkZXIuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5OVUxMX1VTRVJdOlxuICAgICAgJ0EgbnVsbCB1c2VyIG9iamVjdCB3YXMgcHJvdmlkZWQgYXMgdGhlIGFyZ3VtZW50IGZvciBhbiBvcGVyYXRpb24gd2hpY2ggJyArXG4gICAgICAncmVxdWlyZXMgYSBub24tbnVsbCB1c2VyIG9iamVjdC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfQUxMT1dFRF06XG4gICAgICAnVGhlIGdpdmVuIHNpZ24taW4gcHJvdmlkZXIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgRmlyZWJhc2UgcHJvamVjdC4gJyArXG4gICAgICAnRW5hYmxlIGl0IGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLCB1bmRlciB0aGUgc2lnbi1pbiBtZXRob2QgdGFiIG9mIHRoZSAnICtcbiAgICAgICdBdXRoIHNlY3Rpb24uJyxcbiAgICBbQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX1NVUFBPUlRFRF06XG4gICAgICAnVGhpcyBvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgZW52aXJvbm1lbnQgdGhpcyBhcHBsaWNhdGlvbiBpcyAnICtcbiAgICAgICdydW5uaW5nIG9uLiBcImxvY2F0aW9uLnByb3RvY29sXCIgbXVzdCBiZSBodHRwLCBodHRwcyBvciBjaHJvbWUtZXh0ZW5zaW9uJyArXG4gICAgICAnIGFuZCB3ZWIgc3RvcmFnZSBtdXN0IGJlIGVuYWJsZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5QT1BVUF9CTE9DS0VEXTpcbiAgICAgICdVbmFibGUgdG8gZXN0YWJsaXNoIGEgY29ubmVjdGlvbiB3aXRoIHRoZSBwb3B1cC4gSXQgbWF5IGhhdmUgYmVlbiBibG9ja2VkIGJ5IHRoZSBicm93c2VyLicsXG4gICAgW0F1dGhFcnJvckNvZGUuUE9QVVBfQ0xPU0VEX0JZX1VTRVJdOlxuICAgICAgJ1RoZSBwb3B1cCBoYXMgYmVlbiBjbG9zZWQgYnkgdGhlIHVzZXIgYmVmb3JlIGZpbmFsaXppbmcgdGhlIG9wZXJhdGlvbi4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlBST1ZJREVSX0FMUkVBRFlfTElOS0VEXTpcbiAgICAgICdVc2VyIGNhbiBvbmx5IGJlIGxpbmtlZCB0byBvbmUgaWRlbnRpdHkgZm9yIHRoZSBnaXZlbiBwcm92aWRlci4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlFVT1RBX0VYQ0VFREVEXTpcbiAgICAgIFwiVGhlIHByb2plY3QncyBxdW90YSBmb3IgdGhpcyBvcGVyYXRpb24gaGFzIGJlZW4gZXhjZWVkZWQuXCIsXG4gICAgW0F1dGhFcnJvckNvZGUuUkVESVJFQ1RfQ0FOQ0VMTEVEX0JZX1VTRVJdOlxuICAgICAgJ1RoZSByZWRpcmVjdCBvcGVyYXRpb24gaGFzIGJlZW4gY2FuY2VsbGVkIGJ5IHRoZSB1c2VyIGJlZm9yZSBmaW5hbGl6aW5nLicsXG4gICAgW0F1dGhFcnJvckNvZGUuUkVESVJFQ1RfT1BFUkFUSU9OX1BFTkRJTkddOlxuICAgICAgJ0EgcmVkaXJlY3Qgc2lnbi1pbiBvcGVyYXRpb24gaXMgYWxyZWFkeSBwZW5kaW5nLicsXG4gICAgW0F1dGhFcnJvckNvZGUuUkVKRUNURURfQ1JFREVOVElBTF06XG4gICAgICAnVGhlIHJlcXVlc3QgY29udGFpbnMgbWFsZm9ybWVkIG9yIG1pc21hdGNoaW5nIGNyZWRlbnRpYWxzLicsXG4gICAgW0F1dGhFcnJvckNvZGUuU0VDT05EX0ZBQ1RPUl9BTFJFQURZX0VOUk9MTEVEXTpcbiAgICAgICdUaGUgc2Vjb25kIGZhY3RvciBpcyBhbHJlYWR5IGVucm9sbGVkIG9uIHRoaXMgYWNjb3VudC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlNFQ09ORF9GQUNUT1JfTElNSVRfRVhDRUVERURdOlxuICAgICAgJ1RoZSBtYXhpbXVtIGFsbG93ZWQgbnVtYmVyIG9mIHNlY29uZCBmYWN0b3JzIG9uIGEgdXNlciBoYXMgYmVlbiBleGNlZWRlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlRFTkFOVF9JRF9NSVNNQVRDSF06XG4gICAgICBcIlRoZSBwcm92aWRlZCB0ZW5hbnQgSUQgZG9lcyBub3QgbWF0Y2ggdGhlIEF1dGggaW5zdGFuY2UncyB0ZW5hbnQgSURcIixcbiAgICBbQXV0aEVycm9yQ29kZS5USU1FT1VUXTogJ1RoZSBvcGVyYXRpb24gaGFzIHRpbWVkIG91dC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlRPS0VOX0VYUElSRURdOlxuICAgICAgXCJUaGUgdXNlcidzIGNyZWRlbnRpYWwgaXMgbm8gbG9uZ2VyIHZhbGlkLiBUaGUgdXNlciBtdXN0IHNpZ24gaW4gYWdhaW4uXCIsXG4gICAgW0F1dGhFcnJvckNvZGUuVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSXTpcbiAgICAgICdXZSBoYXZlIGJsb2NrZWQgYWxsIHJlcXVlc3RzIGZyb20gdGhpcyBkZXZpY2UgZHVlIHRvIHVudXN1YWwgYWN0aXZpdHkuICcgK1xuICAgICAgJ1RyeSBhZ2FpbiBsYXRlci4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVOQVVUSE9SSVpFRF9ET01BSU5dOlxuICAgICAgJ1RoZSBkb21haW4gb2YgdGhlIGNvbnRpbnVlIFVSTCBpcyBub3Qgd2hpdGVsaXN0ZWQuICBQbGVhc2Ugd2hpdGVsaXN0ICcgK1xuICAgICAgJ3RoZSBkb21haW4gaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VTlNVUFBPUlRFRF9GSVJTVF9GQUNUT1JdOlxuICAgICAgJ0Vucm9sbGluZyBhIHNlY29uZCBmYWN0b3Igb3Igc2lnbmluZyBpbiB3aXRoIGEgbXVsdGktZmFjdG9yIGFjY291bnQgcmVxdWlyZXMgc2lnbi1pbiB3aXRoIGEgc3VwcG9ydGVkIGZpcnN0IGZhY3Rvci4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVOU1VQUE9SVEVEX1BFUlNJU1RFTkNFXTpcbiAgICAgICdUaGUgY3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBzcGVjaWZpZWQgcGVyc2lzdGVuY2UgdHlwZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVOU1VQUE9SVEVEX1RFTkFOVF9PUEVSQVRJT05dOlxuICAgICAgJ1RoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYSBtdWx0aS10ZW5hbnQgY29udGV4dC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVOVkVSSUZJRURfRU1BSUxdOlxuICAgICAgJ1RoZSBvcGVyYXRpb24gcmVxdWlyZXMgYSB2ZXJpZmllZCBlbWFpbC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVTRVJfQ0FOQ0VMTEVEXTpcbiAgICAgICdUaGUgdXNlciBkaWQgbm90IGdyYW50IHlvdXIgYXBwbGljYXRpb24gdGhlIHBlcm1pc3Npb25zIGl0IHJlcXVlc3RlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVTRVJfREVMRVRFRF06XG4gICAgICAnVGhlcmUgaXMgbm8gdXNlciByZWNvcmQgY29ycmVzcG9uZGluZyB0byB0aGlzIGlkZW50aWZpZXIuIFRoZSB1c2VyIG1heSAnICtcbiAgICAgICdoYXZlIGJlZW4gZGVsZXRlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVTRVJfRElTQUJMRURdOlxuICAgICAgJ1RoZSB1c2VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQgYnkgYW4gYWRtaW5pc3RyYXRvci4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVTRVJfTUlTTUFUQ0hdOlxuICAgICAgJ1RoZSBzdXBwbGllZCBjcmVkZW50aWFscyBkbyBub3QgY29ycmVzcG9uZCB0byB0aGUgcHJldmlvdXNseSBzaWduZWQgaW4gdXNlci4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVTRVJfU0lHTkVEX09VVF06ICcnLFxuICAgIFtBdXRoRXJyb3JDb2RlLldFQUtfUEFTU1dPUkRdOlxuICAgICAgJ1RoZSBwYXNzd29yZCBtdXN0IGJlIDYgY2hhcmFjdGVycyBsb25nIG9yIG1vcmUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5XRUJfU1RPUkFHRV9VTlNVUFBPUlRFRF06XG4gICAgICAnVGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWQgb3IgM3JkIHBhcnR5IGNvb2tpZXMgYW5kIGRhdGEgbWF5IGJlIGRpc2FibGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuQUxSRUFEWV9JTklUSUFMSVpFRF06XG4gICAgICAnaW5pdGlhbGl6ZUF1dGgoKSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCB3aXRoICcgK1xuICAgICAgJ2RpZmZlcmVudCBvcHRpb25zLiBUbyBhdm9pZCB0aGlzIGVycm9yLCBjYWxsIGluaXRpYWxpemVBdXRoKCkgd2l0aCB0aGUgJyArXG4gICAgICAnc2FtZSBvcHRpb25zIGFzIHdoZW4gaXQgd2FzIG9yaWdpbmFsbHkgY2FsbGVkLCBvciBjYWxsIGdldEF1dGgoKSB0byByZXR1cm4gdGhlJyArXG4gICAgICAnIGFscmVhZHkgaW5pdGlhbGl6ZWQgaW5zdGFuY2UuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX1JFQ0FQVENIQV9UT0tFTl06XG4gICAgICAnVGhlIHJlQ0FQVENIQSB0b2tlbiBpcyBtaXNzaW5nIHdoZW4gc2VuZGluZyByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9SRUNBUFRDSEFfVE9LRU5dOlxuICAgICAgJ1RoZSByZUNBUFRDSEEgdG9rZW4gaXMgaW52YWxpZCB3aGVuIHNlbmRpbmcgcmVxdWVzdCB0byB0aGUgYmFja2VuZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfUkVDQVBUQ0hBX0FDVElPTl06XG4gICAgICAnVGhlIHJlQ0FQVENIQSBhY3Rpb24gaXMgaW52YWxpZCB3aGVuIHNlbmRpbmcgcmVxdWVzdCB0byB0aGUgYmFja2VuZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlJFQ0FQVENIQV9OT1RfRU5BQkxFRF06XG4gICAgICAncmVDQVBUQ0hBIEVudGVycHJpc2UgaW50ZWdyYXRpb24gaXMgbm90IGVuYWJsZWQgZm9yIHRoaXMgcHJvamVjdC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQ0xJRU5UX1RZUEVdOlxuICAgICAgJ1RoZSByZUNBUFRDSEEgY2xpZW50IHR5cGUgaXMgbWlzc2luZyB3aGVuIHNlbmRpbmcgcmVxdWVzdCB0byB0aGUgYmFja2VuZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfUkVDQVBUQ0hBX1ZFUlNJT05dOlxuICAgICAgJ1RoZSByZUNBUFRDSEEgdmVyc2lvbiBpcyBtaXNzaW5nIHdoZW4gc2VuZGluZyByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9SRVFfVFlQRV06ICdJbnZhbGlkIHJlcXVlc3QgcGFyYW1ldGVycy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfUkVDQVBUQ0hBX1ZFUlNJT05dOlxuICAgICAgJ1RoZSByZUNBUFRDSEEgdmVyc2lvbiBpcyBpbnZhbGlkIHdoZW4gc2VuZGluZyByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVU5TVVBQT1JURURfUEFTU1dPUkRfUE9MSUNZX1NDSEVNQV9WRVJTSU9OXTpcbiAgICAgICdUaGUgcGFzc3dvcmQgcG9saWN5IHJlY2VpdmVkIGZyb20gdGhlIGJhY2tlbmQgdXNlcyBhIHNjaGVtYSB2ZXJzaW9uIHRoYXQgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIHZlcnNpb24gb2YgdGhlIEZpcmViYXNlIFNESy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlBBU1NXT1JEX0RPRVNfTk9UX01FRVRfUkVRVUlSRU1FTlRTXTpcbiAgICAgICdUaGUgcGFzc3dvcmQgZG9lcyBub3QgbWVldCB0aGUgcmVxdWlyZW1lbnRzLidcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFcnJvck1hcFJldHJpZXZlciBleHRlbmRzIEF1dGhFcnJvck1hcCB7XG4gICgpOiBFcnJvck1hcDxBdXRoRXJyb3JDb2RlPjtcbn1cblxuZnVuY3Rpb24gX3Byb2RFcnJvck1hcCgpOiBFcnJvck1hcDxBdXRoRXJyb3JDb2RlPiB7XG4gIC8vIFdlIHdpbGwgaW5jbHVkZSB0aGlzIG9uZSBtZXNzYWdlIGluIHRoZSBwcm9kIGVycm9yIG1hcCBzaW5jZSBieSB0aGUgdmVyeVxuICAvLyBuYXR1cmUgb2YgdGhpcyBlcnJvciwgZGV2ZWxvcGVycyB3aWxsIG5ldmVyIGJlIGFibGUgdG8gc2VlIHRoZSBtZXNzYWdlXG4gIC8vIHVzaW5nIHRoZSBkZWJ1Z0Vycm9yTWFwICh3aGljaCBpcyBpbnN0YWxsZWQgZHVyaW5nIGF1dGggaW5pdGlhbGl6YXRpb24pLlxuICByZXR1cm4ge1xuICAgIFtBdXRoRXJyb3JDb2RlLkRFUEVOREVOVF9TREtfSU5JVF9CRUZPUkVfQVVUSF06XG4gICAgICAnQW5vdGhlciBGaXJlYmFzZSBTREsgd2FzIGluaXRpYWxpemVkIGFuZCBpcyB0cnlpbmcgdG8gdXNlIEF1dGggYmVmb3JlIEF1dGggaXMgJyArXG4gICAgICAnaW5pdGlhbGl6ZWQuIFBsZWFzZSBiZSBzdXJlIHRvIGNhbGwgYGluaXRpYWxpemVBdXRoYCBvciBgZ2V0QXV0aGAgYmVmb3JlICcgK1xuICAgICAgJ3N0YXJ0aW5nIGFueSBvdGhlciBGaXJlYmFzZSBTREsuJ1xuICB9IGFzIEVycm9yTWFwPEF1dGhFcnJvckNvZGU+O1xufVxuXG4vKipcbiAqIEEgdmVyYm9zZSBlcnJvciBtYXAgd2l0aCBkZXRhaWxlZCBkZXNjcmlwdGlvbnMgZm9yIG1vc3QgZXJyb3IgY29kZXMuXG4gKlxuICogU2VlIGRpc2N1c3Npb24gYXQge0BsaW5rIEF1dGhFcnJvck1hcH1cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBkZWJ1Z0Vycm9yTWFwOiBBdXRoRXJyb3JNYXAgPSBfZGVidWdFcnJvck1hcDtcblxuLyoqXG4gKiBBIG1pbmltYWwgZXJyb3IgbWFwIHdpdGggYWxsIHZlcmJvc2UgZXJyb3IgbWVzc2FnZXMgc3RyaXBwZWQuXG4gKlxuICogU2VlIGRpc2N1c3Npb24gYXQge0BsaW5rIEF1dGhFcnJvck1hcH1cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9kRXJyb3JNYXA6IEF1dGhFcnJvck1hcCA9IF9wcm9kRXJyb3JNYXA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmFtZWRFcnJvclBhcmFtcyB7XG4gIGFwcE5hbWU6IEFwcE5hbWU7XG4gIGNyZWRlbnRpYWw/OiBBdXRoQ3JlZGVudGlhbDtcbiAgZW1haWw/OiBzdHJpbmc7XG4gIHBob25lTnVtYmVyPzogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbiAgdXNlcj86IFVzZXI7XG4gIF9zZXJ2ZXJSZXNwb25zZT86IG9iamVjdDtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xudHlwZSBHZW5lcmljQXV0aEVycm9yUGFyYW1zID0ge1xuICBba2V5IGluIEV4Y2x1ZGU8XG4gICAgQXV0aEVycm9yQ29kZSxcbiAgICB8IEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgICB8IEF1dGhFcnJvckNvZGUuREVQRU5ERU5UX1NES19JTklUX0JFRk9SRV9BVVRIXG4gICAgfCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgfCBBdXRoRXJyb3JDb2RlLk1GQV9SRVFVSVJFRFxuICAgIHwgQXV0aEVycm9yQ29kZS5OT19BVVRIX0VWRU5UXG4gICAgfCBBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfU1VQUE9SVEVEXG4gID5dOiB7XG4gICAgYXBwTmFtZT86IEFwcE5hbWU7XG4gICAgZW1haWw/OiBzdHJpbmc7XG4gICAgcGhvbmVOdW1iZXI/OiBzdHJpbmc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfTtcbn07XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aEVycm9yUGFyYW1zIGV4dGVuZHMgR2VuZXJpY0F1dGhFcnJvclBhcmFtcyB7XG4gIFtBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXTogeyBhcHBOYW1lPzogQXBwTmFtZSB9O1xuICBbQXV0aEVycm9yQ29kZS5ERVBFTkRFTlRfU0RLX0lOSVRfQkVGT1JFX0FVVEhdOiB7IGFwcE5hbWU/OiBBcHBOYW1lIH07XG4gIFtBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXTogeyBhcHBOYW1lPzogQXBwTmFtZSB9O1xuICBbQXV0aEVycm9yQ29kZS5MT0dJTl9CTE9DS0VEXToge1xuICAgIGFwcE5hbWU/OiBBcHBOYW1lO1xuICAgIG9yaWdpbmFsTWVzc2FnZT86IHN0cmluZztcbiAgfTtcbiAgW0F1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9TVVBQT1JURURdOiB7IGFwcE5hbWU/OiBBcHBOYW1lIH07XG4gIFtBdXRoRXJyb3JDb2RlLk5PX0FVVEhfRVZFTlRdOiB7IGFwcE5hbWU/OiBBcHBOYW1lIH07XG4gIFtBdXRoRXJyb3JDb2RlLk1GQV9SRVFVSVJFRF06IHtcbiAgICBhcHBOYW1lOiBBcHBOYW1lO1xuICAgIF9zZXJ2ZXJSZXNwb25zZTogSWRUb2tlbk1mYVJlc3BvbnNlO1xuICB9O1xuICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0NPUkRPVkFfQ09ORklHVVJBVElPTl06IHtcbiAgICBhcHBOYW1lOiBBcHBOYW1lO1xuICAgIG1pc3NpbmdQbHVnaW4/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBfREVGQVVMVF9BVVRIX0VSUk9SX0ZBQ1RPUlkgPSBuZXcgRXJyb3JGYWN0b3J5PFxuICBBdXRoRXJyb3JDb2RlLFxuICBBdXRoRXJyb3JQYXJhbXNcbj4oJ2F1dGgnLCAnRmlyZWJhc2UnLCBfcHJvZEVycm9yTWFwKCkpO1xuXG4vKipcbiAqIEEgbWFwIG9mIHBvdGVudGlhbCBgQXV0aGAgZXJyb3IgY29kZXMsIGZvciBlYXNpZXIgY29tcGFyaXNvbiB3aXRoIGVycm9yc1xuICogdGhyb3duIGJ5IHRoZSBTREsuXG4gKlxuICogQHJlbWFya3NcbiAqIE5vdGUgdGhhdCB5b3UgY2FuJ3QgdHJlZS1zaGFrZSBpbmRpdmlkdWFsIGtleXNcbiAqIGluIHRoZSBtYXAsIHNvIGJ5IHVzaW5nIHRoZSBtYXAgeW91IG1pZ2h0IHN1YnN0YW50aWFsbHkgaW5jcmVhc2UgeW91clxuICogYnVuZGxlIHNpemUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgQVVUSF9FUlJPUl9DT0RFU19NQVBfRE9fTk9UX1VTRV9JTlRFUk5BTExZID0ge1xuICBBRE1JTl9PTkxZX09QRVJBVElPTjogJ2F1dGgvYWRtaW4tcmVzdHJpY3RlZC1vcGVyYXRpb24nLFxuICBBUkdVTUVOVF9FUlJPUjogJ2F1dGgvYXJndW1lbnQtZXJyb3InLFxuICBBUFBfTk9UX0FVVEhPUklaRUQ6ICdhdXRoL2FwcC1ub3QtYXV0aG9yaXplZCcsXG4gIEFQUF9OT1RfSU5TVEFMTEVEOiAnYXV0aC9hcHAtbm90LWluc3RhbGxlZCcsXG4gIENBUFRDSEFfQ0hFQ0tfRkFJTEVEOiAnYXV0aC9jYXB0Y2hhLWNoZWNrLWZhaWxlZCcsXG4gIENPREVfRVhQSVJFRDogJ2F1dGgvY29kZS1leHBpcmVkJyxcbiAgQ09SRE9WQV9OT1RfUkVBRFk6ICdhdXRoL2NvcmRvdmEtbm90LXJlYWR5JyxcbiAgQ09SU19VTlNVUFBPUlRFRDogJ2F1dGgvY29ycy11bnN1cHBvcnRlZCcsXG4gIENSRURFTlRJQUxfQUxSRUFEWV9JTl9VU0U6ICdhdXRoL2NyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2UnLFxuICBDUkVERU5USUFMX01JU01BVENIOiAnYXV0aC9jdXN0b20tdG9rZW4tbWlzbWF0Y2gnLFxuICBDUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU46ICdhdXRoL3JlcXVpcmVzLXJlY2VudC1sb2dpbicsXG4gIERFUEVOREVOVF9TREtfSU5JVF9CRUZPUkVfQVVUSDogJ2F1dGgvZGVwZW5kZW50LXNkay1pbml0aWFsaXplZC1iZWZvcmUtYXV0aCcsXG4gIERZTkFNSUNfTElOS19OT1RfQUNUSVZBVEVEOiAnYXV0aC9keW5hbWljLWxpbmstbm90LWFjdGl2YXRlZCcsXG4gIEVNQUlMX0NIQU5HRV9ORUVEU19WRVJJRklDQVRJT046ICdhdXRoL2VtYWlsLWNoYW5nZS1uZWVkcy12ZXJpZmljYXRpb24nLFxuICBFTUFJTF9FWElTVFM6ICdhdXRoL2VtYWlsLWFscmVhZHktaW4tdXNlJyxcbiAgRU1VTEFUT1JfQ09ORklHX0ZBSUxFRDogJ2F1dGgvZW11bGF0b3ItY29uZmlnLWZhaWxlZCcsXG4gIEVYUElSRURfT09CX0NPREU6ICdhdXRoL2V4cGlyZWQtYWN0aW9uLWNvZGUnLFxuICBFWFBJUkVEX1BPUFVQX1JFUVVFU1Q6ICdhdXRoL2NhbmNlbGxlZC1wb3B1cC1yZXF1ZXN0JyxcbiAgSU5URVJOQUxfRVJST1I6ICdhdXRoL2ludGVybmFsLWVycm9yJyxcbiAgSU5WQUxJRF9BUElfS0VZOiAnYXV0aC9pbnZhbGlkLWFwaS1rZXknLFxuICBJTlZBTElEX0FQUF9DUkVERU5USUFMOiAnYXV0aC9pbnZhbGlkLWFwcC1jcmVkZW50aWFsJyxcbiAgSU5WQUxJRF9BUFBfSUQ6ICdhdXRoL2ludmFsaWQtYXBwLWlkJyxcbiAgSU5WQUxJRF9BVVRIOiAnYXV0aC9pbnZhbGlkLXVzZXItdG9rZW4nLFxuICBJTlZBTElEX0FVVEhfRVZFTlQ6ICdhdXRoL2ludmFsaWQtYXV0aC1ldmVudCcsXG4gIElOVkFMSURfQ0VSVF9IQVNIOiAnYXV0aC9pbnZhbGlkLWNlcnQtaGFzaCcsXG4gIElOVkFMSURfQ09ERTogJ2F1dGgvaW52YWxpZC12ZXJpZmljYXRpb24tY29kZScsXG4gIElOVkFMSURfQ09OVElOVUVfVVJJOiAnYXV0aC9pbnZhbGlkLWNvbnRpbnVlLXVyaScsXG4gIElOVkFMSURfQ09SRE9WQV9DT05GSUdVUkFUSU9OOiAnYXV0aC9pbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvbicsXG4gIElOVkFMSURfQ1VTVE9NX1RPS0VOOiAnYXV0aC9pbnZhbGlkLWN1c3RvbS10b2tlbicsXG4gIElOVkFMSURfRFlOQU1JQ19MSU5LX0RPTUFJTjogJ2F1dGgvaW52YWxpZC1keW5hbWljLWxpbmstZG9tYWluJyxcbiAgSU5WQUxJRF9FTUFJTDogJ2F1dGgvaW52YWxpZC1lbWFpbCcsXG4gIElOVkFMSURfRU1VTEFUT1JfU0NIRU1FOiAnYXV0aC9pbnZhbGlkLWVtdWxhdG9yLXNjaGVtZScsXG4gIElOVkFMSURfSURQX1JFU1BPTlNFOiAnYXV0aC9pbnZhbGlkLWNyZWRlbnRpYWwnLFxuICBJTlZBTElEX0xPR0lOX0NSRURFTlRJQUxTOiAnYXV0aC9pbnZhbGlkLWNyZWRlbnRpYWwnLFxuICBJTlZBTElEX01FU1NBR0VfUEFZTE9BRDogJ2F1dGgvaW52YWxpZC1tZXNzYWdlLXBheWxvYWQnLFxuICBJTlZBTElEX01GQV9TRVNTSU9OOiAnYXV0aC9pbnZhbGlkLW11bHRpLWZhY3Rvci1zZXNzaW9uJyxcbiAgSU5WQUxJRF9PQVVUSF9DTElFTlRfSUQ6ICdhdXRoL2ludmFsaWQtb2F1dGgtY2xpZW50LWlkJyxcbiAgSU5WQUxJRF9PQVVUSF9QUk9WSURFUjogJ2F1dGgvaW52YWxpZC1vYXV0aC1wcm92aWRlcicsXG4gIElOVkFMSURfT09CX0NPREU6ICdhdXRoL2ludmFsaWQtYWN0aW9uLWNvZGUnLFxuICBJTlZBTElEX09SSUdJTjogJ2F1dGgvdW5hdXRob3JpemVkLWRvbWFpbicsXG4gIElOVkFMSURfUEFTU1dPUkQ6ICdhdXRoL3dyb25nLXBhc3N3b3JkJyxcbiAgSU5WQUxJRF9QRVJTSVNURU5DRTogJ2F1dGgvaW52YWxpZC1wZXJzaXN0ZW5jZS10eXBlJyxcbiAgSU5WQUxJRF9QSE9ORV9OVU1CRVI6ICdhdXRoL2ludmFsaWQtcGhvbmUtbnVtYmVyJyxcbiAgSU5WQUxJRF9QUk9WSURFUl9JRDogJ2F1dGgvaW52YWxpZC1wcm92aWRlci1pZCcsXG4gIElOVkFMSURfUkVDSVBJRU5UX0VNQUlMOiAnYXV0aC9pbnZhbGlkLXJlY2lwaWVudC1lbWFpbCcsXG4gIElOVkFMSURfU0VOREVSOiAnYXV0aC9pbnZhbGlkLXNlbmRlcicsXG4gIElOVkFMSURfU0VTU0lPTl9JTkZPOiAnYXV0aC9pbnZhbGlkLXZlcmlmaWNhdGlvbi1pZCcsXG4gIElOVkFMSURfVEVOQU5UX0lEOiAnYXV0aC9pbnZhbGlkLXRlbmFudC1pZCcsXG4gIE1GQV9JTkZPX05PVF9GT1VORDogJ2F1dGgvbXVsdGktZmFjdG9yLWluZm8tbm90LWZvdW5kJyxcbiAgTUZBX1JFUVVJUkVEOiAnYXV0aC9tdWx0aS1mYWN0b3ItYXV0aC1yZXF1aXJlZCcsXG4gIE1JU1NJTkdfQU5EUk9JRF9QQUNLQUdFX05BTUU6ICdhdXRoL21pc3NpbmctYW5kcm9pZC1wa2ctbmFtZScsXG4gIE1JU1NJTkdfQVBQX0NSRURFTlRJQUw6ICdhdXRoL21pc3NpbmctYXBwLWNyZWRlbnRpYWwnLFxuICBNSVNTSU5HX0FVVEhfRE9NQUlOOiAnYXV0aC9hdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWQnLFxuICBNSVNTSU5HX0NPREU6ICdhdXRoL21pc3NpbmctdmVyaWZpY2F0aW9uLWNvZGUnLFxuICBNSVNTSU5HX0NPTlRJTlVFX1VSSTogJ2F1dGgvbWlzc2luZy1jb250aW51ZS11cmknLFxuICBNSVNTSU5HX0lGUkFNRV9TVEFSVDogJ2F1dGgvbWlzc2luZy1pZnJhbWUtc3RhcnQnLFxuICBNSVNTSU5HX0lPU19CVU5ETEVfSUQ6ICdhdXRoL21pc3NpbmctaW9zLWJ1bmRsZS1pZCcsXG4gIE1JU1NJTkdfT1JfSU5WQUxJRF9OT05DRTogJ2F1dGgvbWlzc2luZy1vci1pbnZhbGlkLW5vbmNlJyxcbiAgTUlTU0lOR19NRkFfSU5GTzogJ2F1dGgvbWlzc2luZy1tdWx0aS1mYWN0b3ItaW5mbycsXG4gIE1JU1NJTkdfTUZBX1NFU1NJT046ICdhdXRoL21pc3NpbmctbXVsdGktZmFjdG9yLXNlc3Npb24nLFxuICBNSVNTSU5HX1BIT05FX05VTUJFUjogJ2F1dGgvbWlzc2luZy1waG9uZS1udW1iZXInLFxuICBNSVNTSU5HX1NFU1NJT05fSU5GTzogJ2F1dGgvbWlzc2luZy12ZXJpZmljYXRpb24taWQnLFxuICBNT0RVTEVfREVTVFJPWUVEOiAnYXV0aC9hcHAtZGVsZXRlZCcsXG4gIE5FRURfQ09ORklSTUFUSU9OOiAnYXV0aC9hY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsJyxcbiAgTkVUV09SS19SRVFVRVNUX0ZBSUxFRDogJ2F1dGgvbmV0d29yay1yZXF1ZXN0LWZhaWxlZCcsXG4gIE5VTExfVVNFUjogJ2F1dGgvbnVsbC11c2VyJyxcbiAgTk9fQVVUSF9FVkVOVDogJ2F1dGgvbm8tYXV0aC1ldmVudCcsXG4gIE5PX1NVQ0hfUFJPVklERVI6ICdhdXRoL25vLXN1Y2gtcHJvdmlkZXInLFxuICBPUEVSQVRJT05fTk9UX0FMTE9XRUQ6ICdhdXRoL29wZXJhdGlvbi1ub3QtYWxsb3dlZCcsXG4gIE9QRVJBVElPTl9OT1RfU1VQUE9SVEVEOiAnYXV0aC9vcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50JyxcbiAgUE9QVVBfQkxPQ0tFRDogJ2F1dGgvcG9wdXAtYmxvY2tlZCcsXG4gIFBPUFVQX0NMT1NFRF9CWV9VU0VSOiAnYXV0aC9wb3B1cC1jbG9zZWQtYnktdXNlcicsXG4gIFBST1ZJREVSX0FMUkVBRFlfTElOS0VEOiAnYXV0aC9wcm92aWRlci1hbHJlYWR5LWxpbmtlZCcsXG4gIFFVT1RBX0VYQ0VFREVEOiAnYXV0aC9xdW90YS1leGNlZWRlZCcsXG4gIFJFRElSRUNUX0NBTkNFTExFRF9CWV9VU0VSOiAnYXV0aC9yZWRpcmVjdC1jYW5jZWxsZWQtYnktdXNlcicsXG4gIFJFRElSRUNUX09QRVJBVElPTl9QRU5ESU5HOiAnYXV0aC9yZWRpcmVjdC1vcGVyYXRpb24tcGVuZGluZycsXG4gIFJFSkVDVEVEX0NSRURFTlRJQUw6ICdhdXRoL3JlamVjdGVkLWNyZWRlbnRpYWwnLFxuICBTRUNPTkRfRkFDVE9SX0FMUkVBRFlfRU5ST0xMRUQ6ICdhdXRoL3NlY29uZC1mYWN0b3ItYWxyZWFkeS1pbi11c2UnLFxuICBTRUNPTkRfRkFDVE9SX0xJTUlUX0VYQ0VFREVEOiAnYXV0aC9tYXhpbXVtLXNlY29uZC1mYWN0b3ItY291bnQtZXhjZWVkZWQnLFxuICBURU5BTlRfSURfTUlTTUFUQ0g6ICdhdXRoL3RlbmFudC1pZC1taXNtYXRjaCcsXG4gIFRJTUVPVVQ6ICdhdXRoL3RpbWVvdXQnLFxuICBUT0tFTl9FWFBJUkVEOiAnYXV0aC91c2VyLXRva2VuLWV4cGlyZWQnLFxuICBUT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVI6ICdhdXRoL3Rvby1tYW55LXJlcXVlc3RzJyxcbiAgVU5BVVRIT1JJWkVEX0RPTUFJTjogJ2F1dGgvdW5hdXRob3JpemVkLWNvbnRpbnVlLXVyaScsXG4gIFVOU1VQUE9SVEVEX0ZJUlNUX0ZBQ1RPUjogJ2F1dGgvdW5zdXBwb3J0ZWQtZmlyc3QtZmFjdG9yJyxcbiAgVU5TVVBQT1JURURfUEVSU0lTVEVOQ0U6ICdhdXRoL3Vuc3VwcG9ydGVkLXBlcnNpc3RlbmNlLXR5cGUnLFxuICBVTlNVUFBPUlRFRF9URU5BTlRfT1BFUkFUSU9OOiAnYXV0aC91bnN1cHBvcnRlZC10ZW5hbnQtb3BlcmF0aW9uJyxcbiAgVU5WRVJJRklFRF9FTUFJTDogJ2F1dGgvdW52ZXJpZmllZC1lbWFpbCcsXG4gIFVTRVJfQ0FOQ0VMTEVEOiAnYXV0aC91c2VyLWNhbmNlbGxlZCcsXG4gIFVTRVJfREVMRVRFRDogJ2F1dGgvdXNlci1ub3QtZm91bmQnLFxuICBVU0VSX0RJU0FCTEVEOiAnYXV0aC91c2VyLWRpc2FibGVkJyxcbiAgVVNFUl9NSVNNQVRDSDogJ2F1dGgvdXNlci1taXNtYXRjaCcsXG4gIFVTRVJfU0lHTkVEX09VVDogJ2F1dGgvdXNlci1zaWduZWQtb3V0JyxcbiAgV0VBS19QQVNTV09SRDogJ2F1dGgvd2Vhay1wYXNzd29yZCcsXG4gIFdFQl9TVE9SQUdFX1VOU1VQUE9SVEVEOiAnYXV0aC93ZWItc3RvcmFnZS11bnN1cHBvcnRlZCcsXG4gIEFMUkVBRFlfSU5JVElBTElaRUQ6ICdhdXRoL2FscmVhZHktaW5pdGlhbGl6ZWQnLFxuICBSRUNBUFRDSEFfTk9UX0VOQUJMRUQ6ICdhdXRoL3JlY2FwdGNoYS1ub3QtZW5hYmxlZCcsXG4gIE1JU1NJTkdfUkVDQVBUQ0hBX1RPS0VOOiAnYXV0aC9taXNzaW5nLXJlY2FwdGNoYS10b2tlbicsXG4gIElOVkFMSURfUkVDQVBUQ0hBX1RPS0VOOiAnYXV0aC9pbnZhbGlkLXJlY2FwdGNoYS10b2tlbicsXG4gIElOVkFMSURfUkVDQVBUQ0hBX0FDVElPTjogJ2F1dGgvaW52YWxpZC1yZWNhcHRjaGEtYWN0aW9uJyxcbiAgTUlTU0lOR19DTElFTlRfVFlQRTogJ2F1dGgvbWlzc2luZy1jbGllbnQtdHlwZScsXG4gIE1JU1NJTkdfUkVDQVBUQ0hBX1ZFUlNJT046ICdhdXRoL21pc3NpbmctcmVjYXB0Y2hhLXZlcnNpb24nLFxuICBJTlZBTElEX1JFQ0FQVENIQV9WRVJTSU9OOiAnYXV0aC9pbnZhbGlkLXJlY2FwdGNoYS12ZXJzaW9uJyxcbiAgSU5WQUxJRF9SRVFfVFlQRTogJ2F1dGgvaW52YWxpZC1yZXEtdHlwZSdcbn0gYXMgY29uc3Q7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTG9nZ2VyLCBMb2dMZXZlbCB9IGZyb20gJ0BmaXJlYmFzZS9sb2dnZXInO1xuaW1wb3J0IHsgU0RLX1ZFUlNJT04gfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcblxuZXhwb3J0IHsgTG9nTGV2ZWwgfTtcblxuY29uc3QgbG9nQ2xpZW50ID0gbmV3IExvZ2dlcignQGZpcmViYXNlL2F1dGgnKTtcblxuLy8gSGVscGVyIG1ldGhvZHMgYXJlIG5lZWRlZCBiZWNhdXNlIHZhcmlhYmxlcyBjYW4ndCBiZSBleHBvcnRlZCBhcyByZWFkL3dyaXRlXG5leHBvcnQgZnVuY3Rpb24gX2dldExvZ0xldmVsKCk6IExvZ0xldmVsIHtcbiAgcmV0dXJuIGxvZ0NsaWVudC5sb2dMZXZlbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9zZXRMb2dMZXZlbChuZXdMZXZlbDogTG9nTGV2ZWwpOiB2b2lkIHtcbiAgbG9nQ2xpZW50LmxvZ0xldmVsID0gbmV3TGV2ZWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfbG9nRGVidWcobXNnOiBzdHJpbmcsIC4uLmFyZ3M6IHN0cmluZ1tdKTogdm9pZCB7XG4gIGlmIChsb2dDbGllbnQubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuREVCVUcpIHtcbiAgICBsb2dDbGllbnQuZGVidWcoYEF1dGggKCR7U0RLX1ZFUlNJT059KTogJHttc2d9YCwgLi4uYXJncyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9sb2dXYXJuKG1zZzogc3RyaW5nLCAuLi5hcmdzOiBzdHJpbmdbXSk6IHZvaWQge1xuICBpZiAobG9nQ2xpZW50LmxvZ0xldmVsIDw9IExvZ0xldmVsLldBUk4pIHtcbiAgICBsb2dDbGllbnQud2FybihgQXV0aCAoJHtTREtfVkVSU0lPTn0pOiAke21zZ31gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX2xvZ0Vycm9yKG1zZzogc3RyaW5nLCAuLi5hcmdzOiBzdHJpbmdbXSk6IHZvaWQge1xuICBpZiAobG9nQ2xpZW50LmxvZ0xldmVsIDw9IExvZ0xldmVsLkVSUk9SKSB7XG4gICAgbG9nQ2xpZW50LmVycm9yKGBBdXRoICgke1NES19WRVJTSU9OfSk6ICR7bXNnfWAsIC4uLmFyZ3MpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBFcnJvckZhY3RvcnksIEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7XG4gIF9ERUZBVUxUX0FVVEhfRVJST1JfRkFDVE9SWSxcbiAgQXV0aEVycm9yQ29kZSxcbiAgQXV0aEVycm9yUGFyYW1zLFxuICBwcm9kRXJyb3JNYXAsXG4gIEVycm9yTWFwUmV0cmlldmVyXG59IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfbG9nRXJyb3IgfSBmcm9tICcuL2xvZyc7XG5cbnR5cGUgQXV0aEVycm9yTGlzdFBhcmFtczxLPiA9IEsgZXh0ZW5kcyBrZXlvZiBBdXRoRXJyb3JQYXJhbXNcbiAgPyBbQXV0aEVycm9yUGFyYW1zW0tdXVxuICA6IFtdO1xudHlwZSBMZXNzQXBwTmFtZTxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4gPSBPbWl0PEF1dGhFcnJvclBhcmFtc1tLXSwgJ2FwcE5hbWUnPjtcblxuLyoqXG4gKiBVbmNvbmRpdGlvbmFsbHkgZmFpbHMsIHRocm93aW5nIGEgZGV2ZWxvcGVyIGZhY2luZyBJTlRFUk5BTF9FUlJPUlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBmYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuTUZBX1JFUVVJUkVEKTsgIC8vIEVycm9yOiB0aGUgTUZBX1JFUVVJUkVEIGVycm9yIG5lZWRzIG1vcmUgcGFyYW1zIHRoYW4gYXBwTmFtZVxuICogZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLk1GQV9SRVFVSVJFRCwge3NlcnZlclJlc3BvbnNlfSk7ICAvLyBDb21waWxlc1xuICogZmFpbChBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTsgIC8vIENvbXBpbGVzOyBpbnRlcm5hbCBlcnJvciBkb2VzIG5vdCBuZWVkIGFwcE5hbWVcbiAqIGZhaWwoQXV0aEVycm9yQ29kZS5VU0VSX0RFTEVURUQpOyAgLy8gRXJyb3I6IFVTRVJfREVMRVRFRCByZXF1aXJlcyBhcHAgbmFtZVxuICogZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLlVTRVJfREVMRVRFRCk7ICAvLyBDb21waWxlczsgVVNFUl9ERUxFVEVEIF9vbmx5XyBuZWVkcyBhcHAgbmFtZVxuICogYGBgXG4gKlxuICogQHBhcmFtIGFwcE5hbWUgQXBwIG5hbWUgZm9yIHRhZ2dpbmcgdGhlIGVycm9yXG4gKiBAdGhyb3dzIEZpcmViYXNlRXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9mYWlsPEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgY29kZTogSyxcbiAgLi4uZGF0YToge30gZXh0ZW5kcyBBdXRoRXJyb3JQYXJhbXNbS11cbiAgICA/IFtBdXRoRXJyb3JQYXJhbXNbS10/XVxuICAgIDogW0F1dGhFcnJvclBhcmFtc1tLXV1cbik6IG5ldmVyO1xuZXhwb3J0IGZ1bmN0aW9uIF9mYWlsPEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgYXV0aDogQXV0aCxcbiAgY29kZTogSyxcbiAgLi4uZGF0YToge30gZXh0ZW5kcyBMZXNzQXBwTmFtZTxLPiA/IFtMZXNzQXBwTmFtZTxLPj9dIDogW0xlc3NBcHBOYW1lPEs+XVxuKTogbmV2ZXI7XG5leHBvcnQgZnVuY3Rpb24gX2ZhaWw8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBhdXRoT3JDb2RlOiBBdXRoIHwgSyxcbiAgLi4ucmVzdDogdW5rbm93bltdXG4pOiBuZXZlciB7XG4gIHRocm93IGNyZWF0ZUVycm9ySW50ZXJuYWwoYXV0aE9yQ29kZSwgLi4ucmVzdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfY3JlYXRlRXJyb3I8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBjb2RlOiBLLFxuICAuLi5kYXRhOiB7fSBleHRlbmRzIEF1dGhFcnJvclBhcmFtc1tLXVxuICAgID8gW0F1dGhFcnJvclBhcmFtc1tLXT9dXG4gICAgOiBbQXV0aEVycm9yUGFyYW1zW0tdXVxuKTogRmlyZWJhc2VFcnJvcjtcbmV4cG9ydCBmdW5jdGlvbiBfY3JlYXRlRXJyb3I8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBhdXRoOiBBdXRoLFxuICBjb2RlOiBLLFxuICAuLi5kYXRhOiB7fSBleHRlbmRzIExlc3NBcHBOYW1lPEs+ID8gW0xlc3NBcHBOYW1lPEs+P10gOiBbTGVzc0FwcE5hbWU8Sz5dXG4pOiBGaXJlYmFzZUVycm9yO1xuZXhwb3J0IGZ1bmN0aW9uIF9jcmVhdGVFcnJvcjxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGF1dGhPckNvZGU6IEF1dGggfCBLLFxuICAuLi5yZXN0OiB1bmtub3duW11cbik6IEZpcmViYXNlRXJyb3Ige1xuICByZXR1cm4gY3JlYXRlRXJyb3JJbnRlcm5hbChhdXRoT3JDb2RlLCAuLi5yZXN0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9lcnJvcldpdGhDdXN0b21NZXNzYWdlKFxuICBhdXRoOiBBdXRoLFxuICBjb2RlOiBBdXRoRXJyb3JDb2RlLFxuICBtZXNzYWdlOiBzdHJpbmdcbik6IEZpcmViYXNlRXJyb3Ige1xuICBjb25zdCBlcnJvck1hcCA9IHtcbiAgICAuLi4ocHJvZEVycm9yTWFwIGFzIEVycm9yTWFwUmV0cmlldmVyKSgpLFxuICAgIFtjb2RlXTogbWVzc2FnZVxuICB9O1xuICBjb25zdCBmYWN0b3J5ID0gbmV3IEVycm9yRmFjdG9yeTxBdXRoRXJyb3JDb2RlLCBBdXRoRXJyb3JQYXJhbXM+KFxuICAgICdhdXRoJyxcbiAgICAnRmlyZWJhc2UnLFxuICAgIGVycm9yTWFwXG4gICk7XG4gIHJldHVybiBmYWN0b3J5LmNyZWF0ZShjb2RlLCB7XG4gICAgYXBwTmFtZTogYXV0aC5uYW1lXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoXG4gIGF1dGg6IEF1dGhcbik6IEZpcmViYXNlRXJyb3Ige1xuICByZXR1cm4gX2Vycm9yV2l0aEN1c3RvbU1lc3NhZ2UoXG4gICAgYXV0aCxcbiAgICBBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfU1VQUE9SVEVELFxuICAgICdPcGVyYXRpb25zIHRoYXQgYWx0ZXIgdGhlIGN1cnJlbnQgdXNlciBhcmUgbm90IHN1cHBvcnRlZCBpbiBjb25qdW5jdGlvbiB3aXRoIEZpcmViYXNlU2VydmVyQXBwJ1xuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2Fzc2VydEluc3RhbmNlT2YoXG4gIGF1dGg6IEF1dGgsXG4gIG9iamVjdDogb2JqZWN0LFxuICBpbnN0YW5jZTogdW5rbm93blxuKTogdm9pZCB7XG4gIGNvbnN0IGNvbnN0cnVjdG9ySW5zdGFuY2UgPSBpbnN0YW5jZSBhcyB7IG5ldyAoLi4uYXJnczogdW5rbm93bltdKTogdW5rbm93biB9O1xuICBpZiAoIShvYmplY3QgaW5zdGFuY2VvZiBjb25zdHJ1Y3Rvckluc3RhbmNlKSkge1xuICAgIGlmIChjb25zdHJ1Y3Rvckluc3RhbmNlLm5hbWUgIT09IG9iamVjdC5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcbiAgICB9XG5cbiAgICB0aHJvdyBfZXJyb3JXaXRoQ3VzdG9tTWVzc2FnZShcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SLFxuICAgICAgYFR5cGUgb2YgJHtvYmplY3QuY29uc3RydWN0b3IubmFtZX0gZG9lcyBub3QgbWF0Y2ggZXhwZWN0ZWQgaW5zdGFuY2UuYCArXG4gICAgICAgIGBEaWQgeW91IHBhc3MgYSByZWZlcmVuY2UgZnJvbSBhIGRpZmZlcmVudCBBdXRoIFNESz9gXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVFcnJvckludGVybmFsPEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgYXV0aE9yQ29kZTogQXV0aCB8IEssXG4gIC4uLnJlc3Q6IHVua25vd25bXVxuKTogRmlyZWJhc2VFcnJvciB7XG4gIGlmICh0eXBlb2YgYXV0aE9yQ29kZSAhPT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBjb2RlID0gcmVzdFswXSBhcyBLO1xuICAgIGNvbnN0IGZ1bGxQYXJhbXMgPSBbLi4ucmVzdC5zbGljZSgxKV0gYXMgQXV0aEVycm9yTGlzdFBhcmFtczxLPjtcbiAgICBpZiAoZnVsbFBhcmFtc1swXSkge1xuICAgICAgZnVsbFBhcmFtc1swXS5hcHBOYW1lID0gYXV0aE9yQ29kZS5uYW1lO1xuICAgIH1cblxuICAgIHJldHVybiAoYXV0aE9yQ29kZSBhcyBBdXRoSW50ZXJuYWwpLl9lcnJvckZhY3RvcnkuY3JlYXRlKFxuICAgICAgY29kZSxcbiAgICAgIC4uLmZ1bGxQYXJhbXNcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIF9ERUZBVUxUX0FVVEhfRVJST1JfRkFDVE9SWS5jcmVhdGUoXG4gICAgYXV0aE9yQ29kZSxcbiAgICAuLi4ocmVzdCBhcyBBdXRoRXJyb3JMaXN0UGFyYW1zPEs+KVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2Fzc2VydDxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGFzc2VydGlvbjogdW5rbm93bixcbiAgY29kZTogSyxcbiAgLi4uZGF0YToge30gZXh0ZW5kcyBBdXRoRXJyb3JQYXJhbXNbS11cbiAgICA/IFtBdXRoRXJyb3JQYXJhbXNbS10/XVxuICAgIDogW0F1dGhFcnJvclBhcmFtc1tLXV1cbik6IGFzc2VydHMgYXNzZXJ0aW9uO1xuZXhwb3J0IGZ1bmN0aW9uIF9hc3NlcnQ8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBhc3NlcnRpb246IHVua25vd24sXG4gIGF1dGg6IEF1dGgsXG4gIGNvZGU6IEssXG4gIC4uLmRhdGE6IHt9IGV4dGVuZHMgTGVzc0FwcE5hbWU8Sz4gPyBbTGVzc0FwcE5hbWU8Sz4/XSA6IFtMZXNzQXBwTmFtZTxLPl1cbik6IGFzc2VydHMgYXNzZXJ0aW9uO1xuZXhwb3J0IGZ1bmN0aW9uIF9hc3NlcnQ8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBhc3NlcnRpb246IHVua25vd24sXG4gIGF1dGhPckNvZGU6IEF1dGggfCBLLFxuICAuLi5yZXN0OiB1bmtub3duW11cbik6IGFzc2VydHMgYXNzZXJ0aW9uIHtcbiAgaWYgKCFhc3NlcnRpb24pIHtcbiAgICB0aHJvdyBjcmVhdGVFcnJvckludGVybmFsKGF1dGhPckNvZGUsIC4uLnJlc3QpO1xuICB9XG59XG5cbi8vIFdlIHJlYWxseSBkbyB3YW50IHRvIGFjY2VwdCBsaXRlcmFsbHkgYW55IGZ1bmN0aW9uIHR5cGUgaGVyZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbnR5cGUgVHlwZUV4cGVjdGF0aW9uID0gRnVuY3Rpb24gfCBzdHJpbmcgfCBNYXBUeXBlO1xuXG5pbnRlcmZhY2UgTWFwVHlwZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFR5cGVFeHBlY3RhdGlvbiB8IE9wdGlvbmFsPiB7fVxuXG5jbGFzcyBPcHRpb25hbCB7XG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHR5cGU6IFR5cGVFeHBlY3RhdGlvbikge31cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wdCh0eXBlOiBUeXBlRXhwZWN0YXRpb24pOiBPcHRpb25hbCB7XG4gIHJldHVybiBuZXcgT3B0aW9uYWwodHlwZSk7XG59XG5cbi8qKlxuICogQXNzZXJ0cyB0aGUgcnVudGltZSB0eXBlcyBvZiBhcmd1bWVudHMuIFRoZSAnZXhwZWN0ZWQnIGZpZWxkIGNhbiBiZSBvbmUgb2ZcbiAqIGEgY2xhc3MsIGEgc3RyaW5nIChyZXByZXNlbnRpbmcgYSBcInR5cGVvZlwiIGNhbGwpLCBvciBhIHJlY29yZCBtYXAgb2YgbmFtZVxuICogdG8gdHlwZS4gRnVydGhlcm1vcmUsIHRoZSBvcHQoKSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBtYXJrIGEgZmllbGQgYXNcbiAqIG9wdGlvbmFsLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBmdW5jdGlvbiBmb28oYXV0aDogQXV0aCwgcHJvZmlsZToge2Rpc3BsYXlOYW1lPzogc3RyaW5nfSwgdXBkYXRlID0gZmFsc2UpIHtcbiAqICAgYXNzZXJ0VHlwZXMoYXJndW1lbnRzLCBbQXV0aEltcGwsIHtkaXNwbGF5TmFtZTogb3B0KCdzdHJpbmcnKX0sIG9wdCgnYm9vbGVhbicpXSk7XG4gKiB9XG4gKlxuICogb3B0KCkgY2FuIGJlIHVzZWQgZm9yIGFueSB0eXBlOlxuICogZnVuY3Rpb24gZm9vKGF1dGg/OiBBdXRoKSB7XG4gKiAgIGFzc2VydFR5cGVzKGFyZ3VtZW50cywgW29wdChBdXRoSW1wbCldKTtcbiAqIH1cbiAqXG4gKiBUaGUgc3RyaW5nIHR5cGVzIGNhbiBiZSBvcidkIHRvZ2V0aGVyLCBhbmQgeW91IGNhbiB1c2UgXCJudWxsXCIgYXMgd2VsbCAobm90ZVxuICogdGhhdCB0eXBlb2YgbnVsbCA9PT0gJ29iamVjdCc7IHRoaXMgaXMgYW4gZWRnZSBjYXNlKS4gRm9yIGV4YW1wbGU6XG4gKlxuICogZnVuY3Rpb24gZm9vKHByb2ZpbGU6IHtkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGx9KSB7XG4gKiAgIGFzc2VydFR5cGVzKGFyZ3VtZW50cywgW3tkaXNwbGF5TmFtZTogb3B0KCdzdHJpbmd8bnVsbCcpfV0pO1xuICogfVxuICpcbiAqIEBwYXJhbSBhcmdzXG4gKiBAcGFyYW0gZXhwZWN0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFR5cGVzKFxuICBhcmdzOiBPbWl0PElBcmd1bWVudHMsICdjYWxsZWUnPixcbiAgLi4uZXhwZWN0ZWQ6IEFycmF5PFR5cGVFeHBlY3RhdGlvbiB8IE9wdGlvbmFsPlxuKTogdm9pZCB7XG4gIGlmIChhcmdzLmxlbmd0aCA+IGV4cGVjdGVkLmxlbmd0aCkge1xuICAgIF9mYWlsKEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IsIHt9KTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgZXhwZWN0ID0gZXhwZWN0ZWRbaV07XG4gICAgY29uc3QgYXJnID0gYXJnc1tpXTtcblxuICAgIGlmIChleHBlY3QgaW5zdGFuY2VvZiBPcHRpb25hbCkge1xuICAgICAgLy8gSWYgdGhlIGFyZyBpcyB1bmRlZmluZWQsIHRoZW4gaXQgbWF0Y2hlcyBcIm9wdGlvbmFsXCIgYW5kIHdlIGNhbiBtb3ZlIHRvXG4gICAgICAvLyB0aGUgbmV4dCBhcmdcbiAgICAgIGlmICh0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGV4cGVjdCA9IGV4cGVjdC50eXBlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZXhwZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gSGFuZGxlIHRoZSBlZGdlIGNhc2UgZm9yIG51bGwgYmVjYXVzZSB0eXBlb2YgbnVsbCA9PT0gJ29iamVjdCdcbiAgICAgIGlmIChleHBlY3QuaW5jbHVkZXMoJ251bGwnKSAmJiBhcmcgPT09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlcXVpcmVkID0gZXhwZWN0LnNwbGl0KCd8Jyk7XG4gICAgICBfYXNzZXJ0KHJlcXVpcmVkLmluY2x1ZGVzKHR5cGVvZiBhcmcpLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SLCB7fSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwZWN0ID09PSAnb2JqZWN0Jykge1xuICAgICAgLy8gUmVjdXJzaXZlbHkgY2hlY2sgcmVjb3JkIGFyZ3VtZW50c1xuICAgICAgY29uc3QgcmVjb3JkID0gYXJnIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgY29uc3QgbWFwID0gZXhwZWN0IGFzIE1hcFR5cGU7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZXhwZWN0KTtcblxuICAgICAgYXNzZXJ0VHlwZXMoXG4gICAgICAgIGtleXMubWFwKGsgPT4gcmVjb3JkW2tdKSxcbiAgICAgICAgLi4ua2V5cy5tYXAoayA9PiBtYXBba10pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBfYXNzZXJ0KGFyZyBpbnN0YW5jZW9mIGV4cGVjdCwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUiwge30pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFVuY29uZGl0aW9uYWxseSBmYWlscywgdGhyb3dpbmcgYW4gaW50ZXJuYWwgZXJyb3Igd2l0aCB0aGUgZ2l2ZW4gbWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0gZmFpbHVyZSB0eXBlIG9mIGZhaWx1cmUgZW5jb3VudGVyZWRcbiAqIEB0aHJvd3MgRXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnRmFpbChmYWlsdXJlOiBzdHJpbmcpOiBuZXZlciB7XG4gIC8vIExvZyB0aGUgZmFpbHVyZSBpbiBhZGRpdGlvbiB0byB0aHJvdyBhbiBleGNlcHRpb24sIGp1c3QgaW4gY2FzZSB0aGVcbiAgLy8gZXhjZXB0aW9uIGlzIHN3YWxsb3dlZC5cbiAgY29uc3QgbWVzc2FnZSA9IGBJTlRFUk5BTCBBU1NFUlRJT04gRkFJTEVEOiBgICsgZmFpbHVyZTtcbiAgX2xvZ0Vycm9yKG1lc3NhZ2UpO1xuXG4gIC8vIE5PVEU6IFdlIGRvbid0IHVzZSBGaXJlYmFzZUVycm9yIGhlcmUgYmVjYXVzZSB0aGVzZSBhcmUgaW50ZXJuYWwgZmFpbHVyZXNcbiAgLy8gdGhhdCBjYW5ub3QgYmUgaGFuZGxlZCBieSB0aGUgdXNlci4gKEFsc28gaXQgd291bGQgY3JlYXRlIGEgY2lyY3VsYXJcbiAgLy8gZGVwZW5kZW5jeSBiZXR3ZWVuIHRoZSBlcnJvciBhbmQgYXNzZXJ0IG1vZHVsZXMgd2hpY2ggZG9lc24ndCB3b3JrLilcbiAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xufVxuXG4vKipcbiAqIEZhaWxzIGlmIHRoZSBnaXZlbiBhc3NlcnRpb24gY29uZGl0aW9uIGlzIGZhbHNlLCB0aHJvd2luZyBhbiBFcnJvciB3aXRoIHRoZVxuICogZ2l2ZW4gbWVzc2FnZSBpZiBpdCBkaWQuXG4gKlxuICogQHBhcmFtIGFzc2VydGlvblxuICogQHBhcmFtIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnQXNzZXJ0KFxuICBhc3NlcnRpb246IHVua25vd24sXG4gIG1lc3NhZ2U6IHN0cmluZ1xuKTogYXNzZXJ0cyBhc3NlcnRpb24ge1xuICBpZiAoIWFzc2VydGlvbikge1xuICAgIGRlYnVnRmFpbChtZXNzYWdlKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0Q3VycmVudFVybCgpOiBzdHJpbmcge1xuICByZXR1cm4gKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmLmxvY2F0aW9uPy5ocmVmKSB8fCAnJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0h0dHBPckh0dHBzKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gX2dldEN1cnJlbnRTY2hlbWUoKSA9PT0gJ2h0dHA6JyB8fCBfZ2V0Q3VycmVudFNjaGVtZSgpID09PSAnaHR0cHM6Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRDdXJyZW50U2NoZW1lKCk6IHN0cmluZyB8IG51bGwge1xuICByZXR1cm4gKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmLmxvY2F0aW9uPy5wcm90b2NvbCkgfHwgbnVsbDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBpc0Jyb3dzZXJFeHRlbnNpb24gfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBfaXNIdHRwT3JIdHRwcyB9IGZyb20gJy4vbG9jYXRpb24nO1xuXG4vKipcbiAqIERldGVybWluZSB3aGV0aGVyIHRoZSBicm93c2VyIGlzIHdvcmtpbmcgb25saW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfaXNPbmxpbmUoKTogYm9vbGVhbiB7XG4gIGlmIChcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIG5hdmlnYXRvciAmJlxuICAgICdvbkxpbmUnIGluIG5hdmlnYXRvciAmJlxuICAgIHR5cGVvZiBuYXZpZ2F0b3Iub25MaW5lID09PSAnYm9vbGVhbicgJiZcbiAgICAvLyBBcHBseSBvbmx5IGZvciB0cmFkaXRpb25hbCB3ZWIgYXBwcyBhbmQgQ2hyb21lIGV4dGVuc2lvbnMuXG4gICAgLy8gVGhpcyBpcyBlc3BlY2lhbGx5IHRydWUgZm9yIENvcmRvdmEgYXBwcyB3aGljaCBoYXZlIHVucmVsaWFibGVcbiAgICAvLyBuYXZpZ2F0b3Iub25MaW5lIGJlaGF2aW9yIHVubGVzcyBjb3Jkb3ZhLXBsdWdpbi1uZXR3b3JrLWluZm9ybWF0aW9uIGlzXG4gICAgLy8gaW5zdGFsbGVkIHdoaWNoIG92ZXJ3cml0ZXMgdGhlIG5hdGl2ZSBuYXZpZ2F0b3Iub25MaW5lIHZhbHVlIGFuZFxuICAgIC8vIGRlZmluZXMgbmF2aWdhdG9yLmNvbm5lY3Rpb24uXG4gICAgKF9pc0h0dHBPckh0dHBzKCkgfHwgaXNCcm93c2VyRXh0ZW5zaW9uKCkgfHwgJ2Nvbm5lY3Rpb24nIGluIG5hdmlnYXRvcilcbiAgKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG4gIH1cbiAgLy8gSWYgd2UgY2FuJ3QgZGV0ZXJtaW5lIHRoZSBzdGF0ZSwgYXNzdW1lIGl0IGlzIG9ubGluZS5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0VXNlckxhbmd1YWdlKCk6IHN0cmluZyB8IG51bGwge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBuYXZpZ2F0b3JMYW5ndWFnZTogTmF2aWdhdG9yTGFuZ3VhZ2UgPSBuYXZpZ2F0b3I7XG4gIHJldHVybiAoXG4gICAgLy8gTW9zdCByZWxpYWJsZSwgYnV0IG9ubHkgc3VwcG9ydGVkIGluIENocm9tZS9GaXJlZm94LlxuICAgIChuYXZpZ2F0b3JMYW5ndWFnZS5sYW5ndWFnZXMgJiYgbmF2aWdhdG9yTGFuZ3VhZ2UubGFuZ3VhZ2VzWzBdKSB8fFxuICAgIC8vIFN1cHBvcnRlZCBpbiBtb3N0IGJyb3dzZXJzLCBidXQgcmV0dXJucyB0aGUgbGFuZ3VhZ2Ugb2YgdGhlIGJyb3dzZXJcbiAgICAvLyBVSSwgbm90IHRoZSBsYW5ndWFnZSBzZXQgaW4gYnJvd3NlciBzZXR0aW5ncy5cbiAgICBuYXZpZ2F0b3JMYW5ndWFnZS5sYW5ndWFnZSB8fFxuICAgIC8vIENvdWxkbid0IGRldGVybWluZSBsYW5ndWFnZS5cbiAgICBudWxsXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgaXNNb2JpbGVDb3Jkb3ZhLCBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgX2lzT25saW5lIH0gZnJvbSAnLi9uYXZpZ2F0b3InO1xuaW1wb3J0IHsgZGVidWdBc3NlcnQgfSBmcm9tICcuL2Fzc2VydCc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIERlbGF5TWluIHtcbiAgT0ZGTElORSA9IDUwMDBcbn1cblxuLyoqXG4gKiBBIHN0cnVjdHVyZSB0byBoZWxwIHBpY2sgYmV0d2VlbiBhIHJhbmdlIG9mIGxvbmcgYW5kIHNob3J0IGRlbGF5IGR1cmF0aW9uc1xuICogZGVwZW5kaW5nIG9uIHRoZSBjdXJyZW50IGVudmlyb25tZW50LiBJbiBnZW5lcmFsLCB0aGUgbG9uZyBkZWxheSBpcyB1c2VkIGZvclxuICogbW9iaWxlIGVudmlyb25tZW50cyB3aGVyZWFzIHNob3J0IGRlbGF5cyBhcmUgdXNlZCBmb3IgZGVza3RvcCBlbnZpcm9ubWVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWxheSB7XG4gIC8vIFRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgb2ZmbGluZSBkZWxheSB0aW1lb3V0IGluIG1zLlxuXG4gIHByaXZhdGUgcmVhZG9ubHkgaXNNb2JpbGU6IGJvb2xlYW47XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2hvcnREZWxheTogbnVtYmVyLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgbG9uZ0RlbGF5OiBudW1iZXJcbiAgKSB7XG4gICAgLy8gSW50ZXJuYWwgZXJyb3Igd2hlbiBpbXByb3Blcmx5IGluaXRpYWxpemVkLlxuICAgIGRlYnVnQXNzZXJ0KFxuICAgICAgbG9uZ0RlbGF5ID4gc2hvcnREZWxheSxcbiAgICAgICdTaG9ydCBkZWxheSBzaG91bGQgYmUgbGVzcyB0aGFuIGxvbmcgZGVsYXkhJ1xuICAgICk7XG4gICAgdGhpcy5pc01vYmlsZSA9IGlzTW9iaWxlQ29yZG92YSgpIHx8IGlzUmVhY3ROYXRpdmUoKTtcbiAgfVxuXG4gIGdldCgpOiBudW1iZXIge1xuICAgIGlmICghX2lzT25saW5lKCkpIHtcbiAgICAgIC8vIFBpY2sgdGhlIHNob3J0ZXIgdGltZW91dC5cbiAgICAgIHJldHVybiBNYXRoLm1pbihEZWxheU1pbi5PRkZMSU5FLCB0aGlzLnNob3J0RGVsYXkpO1xuICAgIH1cbiAgICAvLyBJZiBydW5uaW5nIGluIGEgbW9iaWxlIGVudmlyb25tZW50LCByZXR1cm4gdGhlIGxvbmcgZGVsYXksIG90aGVyd2lzZVxuICAgIC8vIHJldHVybiB0aGUgc2hvcnQgZGVsYXkuXG4gICAgLy8gVGhpcyBjb3VsZCBiZSBpbXByb3ZlZCBpbiB0aGUgZnV0dXJlIHRvIGR5bmFtaWNhbGx5IGNoYW5nZSBiYXNlZCBvbiBvdGhlclxuICAgIC8vIHZhcmlhYmxlcyBpbnN0ZWFkIG9mIGp1c3QgcmVhZGluZyB0aGUgY3VycmVudCBlbnZpcm9ubWVudC5cbiAgICByZXR1cm4gdGhpcy5pc01vYmlsZSA/IHRoaXMubG9uZ0RlbGF5IDogdGhpcy5zaG9ydERlbGF5O1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29uZmlnSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IGRlYnVnQXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gX2VtdWxhdG9yVXJsKGNvbmZpZzogQ29uZmlnSW50ZXJuYWwsIHBhdGg/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBkZWJ1Z0Fzc2VydChjb25maWcuZW11bGF0b3IsICdFbXVsYXRvciBzaG91bGQgYWx3YXlzIGJlIHNldCBoZXJlJyk7XG4gIGNvbnN0IHsgdXJsIH0gPSBjb25maWcuZW11bGF0b3I7XG5cbiAgaWYgKCFwYXRoKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHJldHVybiBgJHt1cmx9JHtwYXRoLnN0YXJ0c1dpdGgoJy8nKSA/IHBhdGguc2xpY2UoMSkgOiBwYXRofWA7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgZGVidWdGYWlsIH0gZnJvbSAnLi9hc3NlcnQnO1xuXG5leHBvcnQgY2xhc3MgRmV0Y2hQcm92aWRlciB7XG4gIHByaXZhdGUgc3RhdGljIGZldGNoSW1wbDogdHlwZW9mIGZldGNoIHwgbnVsbDtcbiAgcHJpdmF0ZSBzdGF0aWMgaGVhZGVyc0ltcGw6IHR5cGVvZiBIZWFkZXJzIHwgbnVsbDtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVzcG9uc2VJbXBsOiB0eXBlb2YgUmVzcG9uc2UgfCBudWxsO1xuXG4gIHN0YXRpYyBpbml0aWFsaXplKFxuICAgIGZldGNoSW1wbDogdHlwZW9mIGZldGNoLFxuICAgIGhlYWRlcnNJbXBsPzogdHlwZW9mIEhlYWRlcnMsXG4gICAgcmVzcG9uc2VJbXBsPzogdHlwZW9mIFJlc3BvbnNlXG4gICk6IHZvaWQge1xuICAgIHRoaXMuZmV0Y2hJbXBsID0gZmV0Y2hJbXBsO1xuICAgIGlmIChoZWFkZXJzSW1wbCkge1xuICAgICAgdGhpcy5oZWFkZXJzSW1wbCA9IGhlYWRlcnNJbXBsO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2VJbXBsKSB7XG4gICAgICB0aGlzLnJlc3BvbnNlSW1wbCA9IHJlc3BvbnNlSW1wbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZmV0Y2goKTogdHlwZW9mIGZldGNoIHtcbiAgICBpZiAodGhpcy5mZXRjaEltcGwpIHtcbiAgICAgIHJldHVybiB0aGlzLmZldGNoSW1wbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiAnZmV0Y2gnIGluIHNlbGYpIHtcbiAgICAgIHJldHVybiBzZWxmLmZldGNoO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuZmV0Y2gpIHtcbiAgICAgIHJldHVybiBnbG9iYWxUaGlzLmZldGNoO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZldGNoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGZldGNoO1xuICAgIH1cbiAgICBkZWJ1Z0ZhaWwoXG4gICAgICAnQ291bGQgbm90IGZpbmQgZmV0Y2ggaW1wbGVtZW50YXRpb24sIG1ha2Ugc3VyZSB5b3UgY2FsbCBGZXRjaFByb3ZpZGVyLmluaXRpYWxpemUoKSB3aXRoIGFuIGFwcHJvcHJpYXRlIHBvbHlmaWxsJ1xuICAgICk7XG4gIH1cblxuICBzdGF0aWMgaGVhZGVycygpOiB0eXBlb2YgSGVhZGVycyB7XG4gICAgaWYgKHRoaXMuaGVhZGVyc0ltcGwpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlYWRlcnNJbXBsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmICdIZWFkZXJzJyBpbiBzZWxmKSB7XG4gICAgICByZXR1cm4gc2VsZi5IZWFkZXJzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuSGVhZGVycykge1xuICAgICAgcmV0dXJuIGdsb2JhbFRoaXMuSGVhZGVycztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBIZWFkZXJzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIEhlYWRlcnM7XG4gICAgfVxuICAgIGRlYnVnRmFpbChcbiAgICAgICdDb3VsZCBub3QgZmluZCBIZWFkZXJzIGltcGxlbWVudGF0aW9uLCBtYWtlIHN1cmUgeW91IGNhbGwgRmV0Y2hQcm92aWRlci5pbml0aWFsaXplKCkgd2l0aCBhbiBhcHByb3ByaWF0ZSBwb2x5ZmlsbCdcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIHJlc3BvbnNlKCk6IHR5cGVvZiBSZXNwb25zZSB7XG4gICAgaWYgKHRoaXMucmVzcG9uc2VJbXBsKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXNwb25zZUltcGw7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgJ1Jlc3BvbnNlJyBpbiBzZWxmKSB7XG4gICAgICByZXR1cm4gc2VsZi5SZXNwb25zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzLlJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsVGhpcy5SZXNwb25zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBSZXNwb25zZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBSZXNwb25zZTtcbiAgICB9XG4gICAgZGVidWdGYWlsKFxuICAgICAgJ0NvdWxkIG5vdCBmaW5kIFJlc3BvbnNlIGltcGxlbWVudGF0aW9uLCBtYWtlIHN1cmUgeW91IGNhbGwgRmV0Y2hQcm92aWRlci5pbml0aWFsaXplKCkgd2l0aCBhbiBhcHByb3ByaWF0ZSBwb2x5ZmlsbCdcbiAgICApO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvZXJyb3JzJztcblxuLyoqXG4gKiBFcnJvcnMgdGhhdCBjYW4gYmUgcmV0dXJuZWQgYnkgdGhlIGJhY2tlbmRcbiAqL1xuZXhwb3J0IGNvbnN0IGVudW0gU2VydmVyRXJyb3Ige1xuICBBRE1JTl9PTkxZX09QRVJBVElPTiA9ICdBRE1JTl9PTkxZX09QRVJBVElPTicsXG4gIEJMT0NLSU5HX0ZVTkNUSU9OX0VSUk9SX1JFU1BPTlNFID0gJ0JMT0NLSU5HX0ZVTkNUSU9OX0VSUk9SX1JFU1BPTlNFJyxcbiAgQ0FQVENIQV9DSEVDS19GQUlMRUQgPSAnQ0FQVENIQV9DSEVDS19GQUlMRUQnLFxuICBDT1JTX1VOU1VQUE9SVEVEID0gJ0NPUlNfVU5TVVBQT1JURUQnLFxuICBDUkVERU5USUFMX01JU01BVENIID0gJ0NSRURFTlRJQUxfTUlTTUFUQ0gnLFxuICBDUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU4gPSAnQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOJyxcbiAgRFlOQU1JQ19MSU5LX05PVF9BQ1RJVkFURUQgPSAnRFlOQU1JQ19MSU5LX05PVF9BQ1RJVkFURUQnLFxuICBFTUFJTF9DSEFOR0VfTkVFRFNfVkVSSUZJQ0FUSU9OID0gJ0VNQUlMX0NIQU5HRV9ORUVEU19WRVJJRklDQVRJT04nLFxuICBFTUFJTF9FWElTVFMgPSAnRU1BSUxfRVhJU1RTJyxcbiAgRU1BSUxfTk9UX0ZPVU5EID0gJ0VNQUlMX05PVF9GT1VORCcsXG4gIEVYUElSRURfT09CX0NPREUgPSAnRVhQSVJFRF9PT0JfQ09ERScsXG4gIEZFREVSQVRFRF9VU0VSX0lEX0FMUkVBRFlfTElOS0VEID0gJ0ZFREVSQVRFRF9VU0VSX0lEX0FMUkVBRFlfTElOS0VEJyxcbiAgSU5WQUxJRF9BUFBfQ1JFREVOVElBTCA9ICdJTlZBTElEX0FQUF9DUkVERU5USUFMJyxcbiAgSU5WQUxJRF9BUFBfSUQgPSAnSU5WQUxJRF9BUFBfSUQnLFxuICBJTlZBTElEX0NFUlRfSEFTSCA9ICdJTlZBTElEX0NFUlRfSEFTSCcsXG4gIElOVkFMSURfQ09ERSA9ICdJTlZBTElEX0NPREUnLFxuICBJTlZBTElEX0NPTlRJTlVFX1VSSSA9ICdJTlZBTElEX0NPTlRJTlVFX1VSSScsXG4gIElOVkFMSURfQ1VTVE9NX1RPS0VOID0gJ0lOVkFMSURfQ1VTVE9NX1RPS0VOJyxcbiAgSU5WQUxJRF9EWU5BTUlDX0xJTktfRE9NQUlOID0gJ0lOVkFMSURfRFlOQU1JQ19MSU5LX0RPTUFJTicsXG4gIElOVkFMSURfRU1BSUwgPSAnSU5WQUxJRF9FTUFJTCcsXG4gIElOVkFMSURfSURfVE9LRU4gPSAnSU5WQUxJRF9JRF9UT0tFTicsXG4gIElOVkFMSURfSURQX1JFU1BPTlNFID0gJ0lOVkFMSURfSURQX1JFU1BPTlNFJyxcbiAgSU5WQUxJRF9JREVOVElGSUVSID0gJ0lOVkFMSURfSURFTlRJRklFUicsXG4gIElOVkFMSURfTE9HSU5fQ1JFREVOVElBTFMgPSAnSU5WQUxJRF9MT0dJTl9DUkVERU5USUFMUycsXG4gIElOVkFMSURfTUVTU0FHRV9QQVlMT0FEID0gJ0lOVkFMSURfTUVTU0FHRV9QQVlMT0FEJyxcbiAgSU5WQUxJRF9NRkFfUEVORElOR19DUkVERU5USUFMID0gJ0lOVkFMSURfTUZBX1BFTkRJTkdfQ1JFREVOVElBTCcsXG4gIElOVkFMSURfT0FVVEhfQ0xJRU5UX0lEID0gJ0lOVkFMSURfT0FVVEhfQ0xJRU5UX0lEJyxcbiAgSU5WQUxJRF9PT0JfQ09ERSA9ICdJTlZBTElEX09PQl9DT0RFJyxcbiAgSU5WQUxJRF9QQVNTV09SRCA9ICdJTlZBTElEX1BBU1NXT1JEJyxcbiAgSU5WQUxJRF9QRU5ESU5HX1RPS0VOID0gJ0lOVkFMSURfUEVORElOR19UT0tFTicsXG4gIElOVkFMSURfUEhPTkVfTlVNQkVSID0gJ0lOVkFMSURfUEhPTkVfTlVNQkVSJyxcbiAgSU5WQUxJRF9QUk9WSURFUl9JRCA9ICdJTlZBTElEX1BST1ZJREVSX0lEJyxcbiAgSU5WQUxJRF9SRUNJUElFTlRfRU1BSUwgPSAnSU5WQUxJRF9SRUNJUElFTlRfRU1BSUwnLFxuICBJTlZBTElEX1NFTkRFUiA9ICdJTlZBTElEX1NFTkRFUicsXG4gIElOVkFMSURfU0VTU0lPTl9JTkZPID0gJ0lOVkFMSURfU0VTU0lPTl9JTkZPJyxcbiAgSU5WQUxJRF9URU1QT1JBUllfUFJPT0YgPSAnSU5WQUxJRF9URU1QT1JBUllfUFJPT0YnLFxuICBJTlZBTElEX1RFTkFOVF9JRCA9ICdJTlZBTElEX1RFTkFOVF9JRCcsXG4gIE1GQV9FTlJPTExNRU5UX05PVF9GT1VORCA9ICdNRkFfRU5ST0xMTUVOVF9OT1RfRk9VTkQnLFxuICBNSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FID0gJ01JU1NJTkdfQU5EUk9JRF9QQUNLQUdFX05BTUUnLFxuICBNSVNTSU5HX0FQUF9DUkVERU5USUFMID0gJ01JU1NJTkdfQVBQX0NSRURFTlRJQUwnLFxuICBNSVNTSU5HX0NPREUgPSAnTUlTU0lOR19DT0RFJyxcbiAgTUlTU0lOR19DT05USU5VRV9VUkkgPSAnTUlTU0lOR19DT05USU5VRV9VUkknLFxuICBNSVNTSU5HX0NVU1RPTV9UT0tFTiA9ICdNSVNTSU5HX0NVU1RPTV9UT0tFTicsXG4gIE1JU1NJTkdfSU9TX0JVTkRMRV9JRCA9ICdNSVNTSU5HX0lPU19CVU5ETEVfSUQnLFxuICBNSVNTSU5HX01GQV9FTlJPTExNRU5UX0lEID0gJ01JU1NJTkdfTUZBX0VOUk9MTE1FTlRfSUQnLFxuICBNSVNTSU5HX01GQV9QRU5ESU5HX0NSRURFTlRJQUwgPSAnTUlTU0lOR19NRkFfUEVORElOR19DUkVERU5USUFMJyxcbiAgTUlTU0lOR19PT0JfQ09ERSA9ICdNSVNTSU5HX09PQl9DT0RFJyxcbiAgTUlTU0lOR19PUl9JTlZBTElEX05PTkNFID0gJ01JU1NJTkdfT1JfSU5WQUxJRF9OT05DRScsXG4gIE1JU1NJTkdfUEFTU1dPUkQgPSAnTUlTU0lOR19QQVNTV09SRCcsXG4gIE1JU1NJTkdfUkVRX1RZUEUgPSAnTUlTU0lOR19SRVFfVFlQRScsXG4gIE1JU1NJTkdfUEhPTkVfTlVNQkVSID0gJ01JU1NJTkdfUEhPTkVfTlVNQkVSJyxcbiAgTUlTU0lOR19TRVNTSU9OX0lORk8gPSAnTUlTU0lOR19TRVNTSU9OX0lORk8nLFxuICBPUEVSQVRJT05fTk9UX0FMTE9XRUQgPSAnT1BFUkFUSU9OX05PVF9BTExPV0VEJyxcbiAgUEFTU1dPUkRfTE9HSU5fRElTQUJMRUQgPSAnUEFTU1dPUkRfTE9HSU5fRElTQUJMRUQnLFxuICBRVU9UQV9FWENFRURFRCA9ICdRVU9UQV9FWENFRURFRCcsXG4gIFJFU0VUX1BBU1NXT1JEX0VYQ0VFRF9MSU1JVCA9ICdSRVNFVF9QQVNTV09SRF9FWENFRURfTElNSVQnLFxuICBSRUpFQ1RFRF9DUkVERU5USUFMID0gJ1JFSkVDVEVEX0NSRURFTlRJQUwnLFxuICBTRUNPTkRfRkFDVE9SX0VYSVNUUyA9ICdTRUNPTkRfRkFDVE9SX0VYSVNUUycsXG4gIFNFQ09ORF9GQUNUT1JfTElNSVRfRVhDRUVERUQgPSAnU0VDT05EX0ZBQ1RPUl9MSU1JVF9FWENFRURFRCcsXG4gIFNFU1NJT05fRVhQSVJFRCA9ICdTRVNTSU9OX0VYUElSRUQnLFxuICBURU5BTlRfSURfTUlTTUFUQ0ggPSAnVEVOQU5UX0lEX01JU01BVENIJyxcbiAgVE9LRU5fRVhQSVJFRCA9ICdUT0tFTl9FWFBJUkVEJyxcbiAgVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSID0gJ1RPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUicsXG4gIFVOU1VQUE9SVEVEX0ZJUlNUX0ZBQ1RPUiA9ICdVTlNVUFBPUlRFRF9GSVJTVF9GQUNUT1InLFxuICBVTlNVUFBPUlRFRF9URU5BTlRfT1BFUkFUSU9OID0gJ1VOU1VQUE9SVEVEX1RFTkFOVF9PUEVSQVRJT04nLFxuICBVTkFVVEhPUklaRURfRE9NQUlOID0gJ1VOQVVUSE9SSVpFRF9ET01BSU4nLFxuICBVTlZFUklGSUVEX0VNQUlMID0gJ1VOVkVSSUZJRURfRU1BSUwnLFxuICBVU0VSX0NBTkNFTExFRCA9ICdVU0VSX0NBTkNFTExFRCcsXG4gIFVTRVJfRElTQUJMRUQgPSAnVVNFUl9ESVNBQkxFRCcsXG4gIFVTRVJfTk9UX0ZPVU5EID0gJ1VTRVJfTk9UX0ZPVU5EJyxcbiAgV0VBS19QQVNTV09SRCA9ICdXRUFLX1BBU1NXT1JEJyxcbiAgUkVDQVBUQ0hBX05PVF9FTkFCTEVEID0gJ1JFQ0FQVENIQV9OT1RfRU5BQkxFRCcsXG4gIE1JU1NJTkdfUkVDQVBUQ0hBX1RPS0VOID0gJ01JU1NJTkdfUkVDQVBUQ0hBX1RPS0VOJyxcbiAgSU5WQUxJRF9SRUNBUFRDSEFfVE9LRU4gPSAnSU5WQUxJRF9SRUNBUFRDSEFfVE9LRU4nLFxuICBJTlZBTElEX1JFQ0FQVENIQV9BQ1RJT04gPSAnSU5WQUxJRF9SRUNBUFRDSEFfQUNUSU9OJyxcbiAgTUlTU0lOR19DTElFTlRfVFlQRSA9ICdNSVNTSU5HX0NMSUVOVF9UWVBFJyxcbiAgTUlTU0lOR19SRUNBUFRDSEFfVkVSU0lPTiA9ICdNSVNTSU5HX1JFQ0FQVENIQV9WRVJTSU9OJyxcbiAgSU5WQUxJRF9SRUNBUFRDSEFfVkVSU0lPTiA9ICdJTlZBTElEX1JFQ0FQVENIQV9WRVJTSU9OJyxcbiAgSU5WQUxJRF9SRVFfVFlQRSA9ICdJTlZBTElEX1JFUV9UWVBFJyxcbiAgUEFTU1dPUkRfRE9FU19OT1RfTUVFVF9SRVFVSVJFTUVOVFMgPSAnUEFTU1dPUkRfRE9FU19OT1RfTUVFVF9SRVFVSVJFTUVOVFMnXG59XG5cbi8qKlxuICogQVBJIFJlc3BvbnNlIGluIHRoZSBldmVudCBvZiBhbiBlcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpzb25FcnJvciB7XG4gIGVycm9yOiB7XG4gICAgY29kZTogbnVtYmVyO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBlcnJvcnM/OiBbXG4gICAgICB7XG4gICAgICAgIG1lc3NhZ2U6IFNlcnZlckVycm9yO1xuICAgICAgICBkb21haW46IHN0cmluZztcbiAgICAgICAgcmVhc29uOiBzdHJpbmc7XG4gICAgICB9XG4gICAgXTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUeXBlIGRlZmluaXRpb24gZm9yIGEgbWFwIGZyb20gc2VydmVyIGVycm9ycyB0byBkZXZlbG9wZXIgdmlzaWJsZSBlcnJvcnNcbiAqL1xuZXhwb3J0IGRlY2xhcmUgdHlwZSBTZXJ2ZXJFcnJvck1hcDxBcGlFcnJvciBleHRlbmRzIHN0cmluZz4gPSB7XG4gIHJlYWRvbmx5IFtLIGluIEFwaUVycm9yXTogQXV0aEVycm9yQ29kZTtcbn07XG5cbi8qKlxuICogTWFwIGZyb20gZXJyb3JzIHJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIgdG8gZXJyb3JzIHRvIGRldmVsb3BlciB2aXNpYmxlIGVycm9yc1xuICovXG5leHBvcnQgY29uc3QgU0VSVkVSX0VSUk9SX01BUDogUGFydGlhbDxTZXJ2ZXJFcnJvck1hcDxTZXJ2ZXJFcnJvcj4+ID0ge1xuICAvLyBDdXN0b20gdG9rZW4gZXJyb3JzLlxuICBbU2VydmVyRXJyb3IuQ1JFREVOVElBTF9NSVNNQVRDSF06IEF1dGhFcnJvckNvZGUuQ1JFREVOVElBTF9NSVNNQVRDSCxcbiAgLy8gVGhpcyBjYW4gb25seSBoYXBwZW4gaWYgdGhlIFNESyBzZW5kcyBhIGJhZCByZXF1ZXN0LlxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19DVVNUT01fVE9LRU5dOiBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SLFxuXG4gIC8vIENyZWF0ZSBBdXRoIFVSSSBlcnJvcnMuXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX0lERU5USUZJRVJdOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfRU1BSUwsXG4gIC8vIFRoaXMgY2FuIG9ubHkgaGFwcGVuIGlmIHRoZSBTREsgc2VuZHMgYSBiYWQgcmVxdWVzdC5cbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfQ09OVElOVUVfVVJJXTogQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUixcblxuICAvLyBTaWduIGluIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkIGVycm9ycyAoc29tZSBhcHBseSB0byBzaWduIHVwIHRvbykuXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX1BBU1NXT1JEXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX1BBU1NXT1JELFxuICAvLyBUaGlzIGNhbiBvbmx5IGhhcHBlbiBpZiB0aGUgU0RLIHNlbmRzIGEgYmFkIHJlcXVlc3QuXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX1BBU1NXT1JEXTogQXV0aEVycm9yQ29kZS5NSVNTSU5HX1BBU1NXT1JELFxuICAvLyBUaHJvd24gaWYgRW1haWwgRW51bWVyYXRpb24gUHJvdGVjdGlvbiBpcyBlbmFibGVkIGluIHRoZSBwcm9qZWN0IGFuZCB0aGUgZW1haWwgb3IgcGFzc3dvcmQgaXNcbiAgLy8gaW52YWxpZC5cbiAgW1NlcnZlckVycm9yLklOVkFMSURfTE9HSU5fQ1JFREVOVElBTFNdOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfQ1JFREVOVElBTCxcblxuICAvLyBTaWduIHVwIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkIGVycm9ycy5cbiAgW1NlcnZlckVycm9yLkVNQUlMX0VYSVNUU106IEF1dGhFcnJvckNvZGUuRU1BSUxfRVhJU1RTLFxuICBbU2VydmVyRXJyb3IuUEFTU1dPUkRfTE9HSU5fRElTQUJMRURdOiBBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfQUxMT1dFRCxcblxuICAvLyBWZXJpZnkgYXNzZXJ0aW9uIGZvciBzaWduIGluIHdpdGggY3JlZGVudGlhbCBlcnJvcnM6XG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX0lEUF9SRVNQT05TRV06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9DUkVERU5USUFMLFxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9QRU5ESU5HX1RPS0VOXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX0NSRURFTlRJQUwsXG4gIFtTZXJ2ZXJFcnJvci5GRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRF06XG4gICAgQXV0aEVycm9yQ29kZS5DUkVERU5USUFMX0FMUkVBRFlfSU5fVVNFLFxuXG4gIC8vIFRoaXMgY2FuIG9ubHkgaGFwcGVuIGlmIHRoZSBTREsgc2VuZHMgYSBiYWQgcmVxdWVzdC5cbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfUkVRX1RZUEVdOiBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SLFxuXG4gIC8vIFNlbmQgUGFzc3dvcmQgcmVzZXQgZW1haWwgZXJyb3JzOlxuICBbU2VydmVyRXJyb3IuRU1BSUxfTk9UX0ZPVU5EXTogQXV0aEVycm9yQ29kZS5VU0VSX0RFTEVURUQsXG4gIFtTZXJ2ZXJFcnJvci5SRVNFVF9QQVNTV09SRF9FWENFRURfTElNSVRdOlxuICAgIEF1dGhFcnJvckNvZGUuVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSLFxuXG4gIFtTZXJ2ZXJFcnJvci5FWFBJUkVEX09PQl9DT0RFXTogQXV0aEVycm9yQ29kZS5FWFBJUkVEX09PQl9DT0RFLFxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9PT0JfQ09ERV06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9PT0JfQ09ERSxcbiAgLy8gVGhpcyBjYW4gb25seSBoYXBwZW4gaWYgdGhlIFNESyBzZW5kcyBhIGJhZCByZXF1ZXN0LlxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19PT0JfQ09ERV06IEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IsXG5cbiAgLy8gT3BlcmF0aW9ucyB0aGF0IHJlcXVpcmUgSUQgdG9rZW4gaW4gcmVxdWVzdDpcbiAgW1NlcnZlckVycm9yLkNSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTl06XG4gICAgQXV0aEVycm9yQ29kZS5DUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU4sXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX0lEX1RPS0VOXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX0FVVEgsXG4gIFtTZXJ2ZXJFcnJvci5UT0tFTl9FWFBJUkVEXTogQXV0aEVycm9yQ29kZS5UT0tFTl9FWFBJUkVELFxuICBbU2VydmVyRXJyb3IuVVNFUl9OT1RfRk9VTkRdOiBBdXRoRXJyb3JDb2RlLlRPS0VOX0VYUElSRUQsXG5cbiAgLy8gT3RoZXIgZXJyb3JzLlxuICBbU2VydmVyRXJyb3IuVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSXTpcbiAgICBBdXRoRXJyb3JDb2RlLlRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUixcbiAgW1NlcnZlckVycm9yLlBBU1NXT1JEX0RPRVNfTk9UX01FRVRfUkVRVUlSRU1FTlRTXTpcbiAgICBBdXRoRXJyb3JDb2RlLlBBU1NXT1JEX0RPRVNfTk9UX01FRVRfUkVRVUlSRU1FTlRTLFxuXG4gIC8vIFBob25lIEF1dGggcmVsYXRlZCBlcnJvcnMuXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX0NPREVdOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfQ09ERSxcbiAgW1NlcnZlckVycm9yLklOVkFMSURfU0VTU0lPTl9JTkZPXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX1NFU1NJT05fSU5GTyxcbiAgW1NlcnZlckVycm9yLklOVkFMSURfVEVNUE9SQVJZX1BST09GXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX0NSRURFTlRJQUwsXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX1NFU1NJT05fSU5GT106IEF1dGhFcnJvckNvZGUuTUlTU0lOR19TRVNTSU9OX0lORk8sXG4gIFtTZXJ2ZXJFcnJvci5TRVNTSU9OX0VYUElSRURdOiBBdXRoRXJyb3JDb2RlLkNPREVfRVhQSVJFRCxcblxuICAvLyBPdGhlciBhY3Rpb24gY29kZSBlcnJvcnMgd2hlbiBhZGRpdGlvbmFsIHNldHRpbmdzIHBhc3NlZC5cbiAgLy8gTUlTU0lOR19DT05USU5VRV9VUkkgaXMgZ2V0dGluZyBtYXBwZWQgdG8gSU5URVJOQUxfRVJST1IgYWJvdmUuXG4gIC8vIFRoaXMgaXMgT0sgYXMgdGhpcyBlcnJvciB3aWxsIGJlIGNhdWdodCBieSBjbGllbnQgc2lkZSB2YWxpZGF0aW9uLlxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRV06XG4gICAgQXV0aEVycm9yQ29kZS5NSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FLFxuICBbU2VydmVyRXJyb3IuVU5BVVRIT1JJWkVEX0RPTUFJTl06IEF1dGhFcnJvckNvZGUuVU5BVVRIT1JJWkVEX0RPTUFJTixcblxuICAvLyBnZXRQcm9qZWN0Q29uZmlnIGVycm9ycyB3aGVuIGNsaWVudElkIGlzIHBhc3NlZC5cbiAgW1NlcnZlckVycm9yLklOVkFMSURfT0FVVEhfQ0xJRU5UX0lEXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX09BVVRIX0NMSUVOVF9JRCxcblxuICAvLyBVc2VyIGFjdGlvbnMgKHNpZ24tdXAgb3IgZGVsZXRpb24pIGRpc2FibGVkIGVycm9ycy5cbiAgW1NlcnZlckVycm9yLkFETUlOX09OTFlfT1BFUkFUSU9OXTogQXV0aEVycm9yQ29kZS5BRE1JTl9PTkxZX09QRVJBVElPTixcblxuICAvLyBNdWx0aSBmYWN0b3IgcmVsYXRlZCBlcnJvcnMuXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX01GQV9QRU5ESU5HX0NSRURFTlRJQUxdOlxuICAgIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9NRkFfU0VTU0lPTixcbiAgW1NlcnZlckVycm9yLk1GQV9FTlJPTExNRU5UX05PVF9GT1VORF06IEF1dGhFcnJvckNvZGUuTUZBX0lORk9fTk9UX0ZPVU5ELFxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19NRkFfRU5ST0xMTUVOVF9JRF06IEF1dGhFcnJvckNvZGUuTUlTU0lOR19NRkFfSU5GTyxcbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfTUZBX1BFTkRJTkdfQ1JFREVOVElBTF06XG4gICAgQXV0aEVycm9yQ29kZS5NSVNTSU5HX01GQV9TRVNTSU9OLFxuICBbU2VydmVyRXJyb3IuU0VDT05EX0ZBQ1RPUl9FWElTVFNdOlxuICAgIEF1dGhFcnJvckNvZGUuU0VDT05EX0ZBQ1RPUl9BTFJFQURZX0VOUk9MTEVELFxuICBbU2VydmVyRXJyb3IuU0VDT05EX0ZBQ1RPUl9MSU1JVF9FWENFRURFRF06XG4gICAgQXV0aEVycm9yQ29kZS5TRUNPTkRfRkFDVE9SX0xJTUlUX0VYQ0VFREVELFxuXG4gIC8vIEJsb2NraW5nIGZ1bmN0aW9ucyByZWxhdGVkIGVycm9ycy5cbiAgW1NlcnZlckVycm9yLkJMT0NLSU5HX0ZVTkNUSU9OX0VSUk9SX1JFU1BPTlNFXTogQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUixcblxuICAvLyBSZWNhcHRjaGEgcmVsYXRlZCBlcnJvcnMuXG4gIFtTZXJ2ZXJFcnJvci5SRUNBUFRDSEFfTk9UX0VOQUJMRURdOiBBdXRoRXJyb3JDb2RlLlJFQ0FQVENIQV9OT1RfRU5BQkxFRCxcbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfUkVDQVBUQ0hBX1RPS0VOXTogQXV0aEVycm9yQ29kZS5NSVNTSU5HX1JFQ0FQVENIQV9UT0tFTixcbiAgW1NlcnZlckVycm9yLklOVkFMSURfUkVDQVBUQ0hBX1RPS0VOXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX1JFQ0FQVENIQV9UT0tFTixcbiAgW1NlcnZlckVycm9yLklOVkFMSURfUkVDQVBUQ0hBX0FDVElPTl06XG4gICAgQXV0aEVycm9yQ29kZS5JTlZBTElEX1JFQ0FQVENIQV9BQ1RJT04sXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX0NMSUVOVF9UWVBFXTogQXV0aEVycm9yQ29kZS5NSVNTSU5HX0NMSUVOVF9UWVBFLFxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19SRUNBUFRDSEFfVkVSU0lPTl06XG4gICAgQXV0aEVycm9yQ29kZS5NSVNTSU5HX1JFQ0FQVENIQV9WRVJTSU9OLFxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9SRUNBUFRDSEFfVkVSU0lPTl06XG4gICAgQXV0aEVycm9yQ29kZS5JTlZBTElEX1JFQ0FQVENIQV9WRVJTSU9OLFxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9SRVFfVFlQRV06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9SRVFfVFlQRVxufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yLCBpc0Nsb3VkZmxhcmVXb3JrZXIsIHF1ZXJ5c3RyaW5nIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlLCBOYW1lZEVycm9yUGFyYW1zIH0gZnJvbSAnLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHtcbiAgX2NyZWF0ZUVycm9yLFxuICBfZXJyb3JXaXRoQ3VzdG9tTWVzc2FnZSxcbiAgX2ZhaWxcbn0gZnJvbSAnLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBEZWxheSB9IGZyb20gJy4uL2NvcmUvdXRpbC9kZWxheSc7XG5pbXBvcnQgeyBfZW11bGF0b3JVcmwgfSBmcm9tICcuLi9jb3JlL3V0aWwvZW11bGF0b3InO1xuaW1wb3J0IHsgRmV0Y2hQcm92aWRlciB9IGZyb20gJy4uL2NvcmUvdXRpbC9mZXRjaF9wcm92aWRlcic7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCwgQ29uZmlnSW50ZXJuYWwgfSBmcm9tICcuLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSwgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBJZFRva2VuTWZhUmVzcG9uc2UgfSBmcm9tICcuL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBTRVJWRVJfRVJST1JfTUFQLCBTZXJ2ZXJFcnJvciwgU2VydmVyRXJyb3JNYXAgfSBmcm9tICcuL2Vycm9ycyc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIEh0dHBNZXRob2Qge1xuICBQT1NUID0gJ1BPU1QnLFxuICBHRVQgPSAnR0VUJ1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBIdHRwSGVhZGVyIHtcbiAgQ09OVEVOVF9UWVBFID0gJ0NvbnRlbnQtVHlwZScsXG4gIFhfRklSRUJBU0VfTE9DQUxFID0gJ1gtRmlyZWJhc2UtTG9jYWxlJyxcbiAgWF9DTElFTlRfVkVSU0lPTiA9ICdYLUNsaWVudC1WZXJzaW9uJyxcbiAgWF9GSVJFQkFTRV9HTVBJRCA9ICdYLUZpcmViYXNlLWdtcGlkJyxcbiAgWF9GSVJFQkFTRV9DTElFTlQgPSAnWC1GaXJlYmFzZS1DbGllbnQnLFxuICBYX0ZJUkVCQVNFX0FQUF9DSEVDSyA9ICdYLUZpcmViYXNlLUFwcENoZWNrJ1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBFbmRwb2ludCB7XG4gIENSRUFURV9BVVRIX1VSSSA9ICcvdjEvYWNjb3VudHM6Y3JlYXRlQXV0aFVyaScsXG4gIERFTEVURV9BQ0NPVU5UID0gJy92MS9hY2NvdW50czpkZWxldGUnLFxuICBSRVNFVF9QQVNTV09SRCA9ICcvdjEvYWNjb3VudHM6cmVzZXRQYXNzd29yZCcsXG4gIFNJR05fVVAgPSAnL3YxL2FjY291bnRzOnNpZ25VcCcsXG4gIFNJR05fSU5fV0lUSF9DVVNUT01fVE9LRU4gPSAnL3YxL2FjY291bnRzOnNpZ25JbldpdGhDdXN0b21Ub2tlbicsXG4gIFNJR05fSU5fV0lUSF9FTUFJTF9MSU5LID0gJy92MS9hY2NvdW50czpzaWduSW5XaXRoRW1haWxMaW5rJyxcbiAgU0lHTl9JTl9XSVRIX0lEUCA9ICcvdjEvYWNjb3VudHM6c2lnbkluV2l0aElkcCcsXG4gIFNJR05fSU5fV0lUSF9QQVNTV09SRCA9ICcvdjEvYWNjb3VudHM6c2lnbkluV2l0aFBhc3N3b3JkJyxcbiAgU0lHTl9JTl9XSVRIX1BIT05FX05VTUJFUiA9ICcvdjEvYWNjb3VudHM6c2lnbkluV2l0aFBob25lTnVtYmVyJyxcbiAgU0VORF9WRVJJRklDQVRJT05fQ09ERSA9ICcvdjEvYWNjb3VudHM6c2VuZFZlcmlmaWNhdGlvbkNvZGUnLFxuICBTRU5EX09PQl9DT0RFID0gJy92MS9hY2NvdW50czpzZW5kT29iQ29kZScsXG4gIFNFVF9BQ0NPVU5UX0lORk8gPSAnL3YxL2FjY291bnRzOnVwZGF0ZScsXG4gIEdFVF9BQ0NPVU5UX0lORk8gPSAnL3YxL2FjY291bnRzOmxvb2t1cCcsXG4gIEdFVF9SRUNBUFRDSEFfUEFSQU0gPSAnL3YxL3JlY2FwdGNoYVBhcmFtcycsXG4gIFNUQVJUX01GQV9FTlJPTExNRU5UID0gJy92Mi9hY2NvdW50cy9tZmFFbnJvbGxtZW50OnN0YXJ0JyxcbiAgRklOQUxJWkVfTUZBX0VOUk9MTE1FTlQgPSAnL3YyL2FjY291bnRzL21mYUVucm9sbG1lbnQ6ZmluYWxpemUnLFxuICBTVEFSVF9NRkFfU0lHTl9JTiA9ICcvdjIvYWNjb3VudHMvbWZhU2lnbkluOnN0YXJ0JyxcbiAgRklOQUxJWkVfTUZBX1NJR05fSU4gPSAnL3YyL2FjY291bnRzL21mYVNpZ25JbjpmaW5hbGl6ZScsXG4gIFdJVEhEUkFXX01GQSA9ICcvdjIvYWNjb3VudHMvbWZhRW5yb2xsbWVudDp3aXRoZHJhdycsXG4gIEdFVF9QUk9KRUNUX0NPTkZJRyA9ICcvdjEvcHJvamVjdHMnLFxuICBHRVRfUkVDQVBUQ0hBX0NPTkZJRyA9ICcvdjIvcmVjYXB0Y2hhQ29uZmlnJyxcbiAgR0VUX1BBU1NXT1JEX1BPTElDWSA9ICcvdjIvcGFzc3dvcmRQb2xpY3knLFxuICBUT0tFTiA9ICcvdjEvdG9rZW4nLFxuICBSRVZPS0VfVE9LRU4gPSAnL3YyL2FjY291bnRzOnJldm9rZVRva2VuJ1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBSZWNhcHRjaGFDbGllbnRUeXBlIHtcbiAgV0VCID0gJ0NMSUVOVF9UWVBFX1dFQicsXG4gIEFORFJPSUQgPSAnQ0xJRU5UX1RZUEVfQU5EUk9JRCcsXG4gIElPUyA9ICdDTElFTlRfVFlQRV9JT1MnXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIFJlY2FwdGNoYVZlcnNpb24ge1xuICBFTlRFUlBSSVNFID0gJ1JFQ0FQVENIQV9FTlRFUlBSSVNFJ1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBSZWNhcHRjaGFBY3Rpb25OYW1lIHtcbiAgU0lHTl9JTl9XSVRIX1BBU1NXT1JEID0gJ3NpZ25JbldpdGhQYXNzd29yZCcsXG4gIEdFVF9PT0JfQ09ERSA9ICdnZXRPb2JDb2RlJyxcbiAgU0lHTl9VUF9QQVNTV09SRCA9ICdzaWduVXBQYXNzd29yZCdcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gRW5mb3JjZW1lbnRTdGF0ZSB7XG4gIEVORk9SQ0UgPSAnRU5GT1JDRScsXG4gIEFVRElUID0gJ0FVRElUJyxcbiAgT0ZGID0gJ09GRicsXG4gIEVORk9SQ0VNRU5UX1NUQVRFX1VOU1BFQ0lGSUVEID0gJ0VORk9SQ0VNRU5UX1NUQVRFX1VOU1BFQ0lGSUVEJ1xufVxuXG4vLyBQcm92aWRlcnMgdGhhdCBoYXZlIHJlQ0FQVENIQSBFbnRlcnByaXNlIHN1cHBvcnQuXG5leHBvcnQgY29uc3QgZW51bSBSZWNhcHRjaGFQcm92aWRlciB7XG4gIEVNQUlMX1BBU1NXT1JEX1BST1ZJREVSID0gJ0VNQUlMX1BBU1NXT1JEX1BST1ZJREVSJ1xufVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9BUElfVElNRU9VVF9NUyA9IG5ldyBEZWxheSgzMF8wMDAsIDYwXzAwMCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBfYWRkVGlkSWZOZWNlc3Nhcnk8VCBleHRlbmRzIHsgdGVuYW50SWQ/OiBzdHJpbmcgfT4oXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFRcbik6IFQge1xuICBpZiAoYXV0aC50ZW5hbnRJZCAmJiAhcmVxdWVzdC50ZW5hbnRJZCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXF1ZXN0LFxuICAgICAgdGVuYW50SWQ6IGF1dGgudGVuYW50SWRcbiAgICB9O1xuICB9XG4gIHJldHVybiByZXF1ZXN0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3BlcmZvcm1BcGlSZXF1ZXN0PFQsIFY+KFxuICBhdXRoOiBBdXRoLFxuICBtZXRob2Q6IEh0dHBNZXRob2QsXG4gIHBhdGg6IEVuZHBvaW50LFxuICByZXF1ZXN0PzogVCxcbiAgY3VzdG9tRXJyb3JNYXA6IFBhcnRpYWw8U2VydmVyRXJyb3JNYXA8U2VydmVyRXJyb3I+PiA9IHt9XG4pOiBQcm9taXNlPFY+IHtcbiAgcmV0dXJuIF9wZXJmb3JtRmV0Y2hXaXRoRXJyb3JIYW5kbGluZyhhdXRoLCBjdXN0b21FcnJvck1hcCwgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBib2R5ID0ge307XG4gICAgbGV0IHBhcmFtcyA9IHt9O1xuICAgIGlmIChyZXF1ZXN0KSB7XG4gICAgICBpZiAobWV0aG9kID09PSBIdHRwTWV0aG9kLkdFVCkge1xuICAgICAgICBwYXJhbXMgPSByZXF1ZXN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm9keSA9IHtcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHF1ZXJ5ID0gcXVlcnlzdHJpbmcoe1xuICAgICAga2V5OiBhdXRoLmNvbmZpZy5hcGlLZXksXG4gICAgICAuLi5wYXJhbXNcbiAgICB9KS5zbGljZSgxKTtcblxuICAgIGNvbnN0IGhlYWRlcnMgPSBhd2FpdCAoYXV0aCBhcyBBdXRoSW50ZXJuYWwpLl9nZXRBZGRpdGlvbmFsSGVhZGVycygpO1xuICAgIGhlYWRlcnNbSHR0cEhlYWRlci5DT05URU5UX1RZUEVdID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgaWYgKGF1dGgubGFuZ3VhZ2VDb2RlKSB7XG4gICAgICBoZWFkZXJzW0h0dHBIZWFkZXIuWF9GSVJFQkFTRV9MT0NBTEVdID0gYXV0aC5sYW5ndWFnZUNvZGU7XG4gICAgfVxuXG4gICAgY29uc3QgZmV0Y2hBcmdzOiBSZXF1ZXN0SW5pdCA9IHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIGhlYWRlcnMsXG4gICAgICAuLi5ib2R5XG4gICAgfTtcblxuICAgIC8qIFNlY3VyaXR5LWNvbnNjaW91cyBzZXJ2ZXItc2lkZSBmcmFtZXdvcmtzIHRlbmQgdG8gaGF2ZSBidWlsdCBpbiBtaXRpZ2F0aW9ucyBmb3IgcmVmZXJyZXJcbiAgICAgICBwcm9ibGVtc1wiLiBTZWUgdGhlIENsb3VkZmxhcmUgR2l0SHViIGlzc3VlICM0ODc6IEVycm9yOiBUaGUgJ3JlZmVycmVyUG9saWN5JyBmaWVsZCBvblxuICAgICAgICdSZXF1ZXN0SW5pdGlhbGl6ZXJEaWN0JyBpcyBub3QgaW1wbGVtZW50ZWQuXCJcbiAgICAgICBodHRwczovL2dpdGh1Yi5jb20vY2xvdWRmbGFyZS9uZXh0LW9uLXBhZ2VzL2lzc3Vlcy80ODcgKi9cbiAgICBpZiAoIWlzQ2xvdWRmbGFyZVdvcmtlcigpKSB7XG4gICAgICBmZXRjaEFyZ3MucmVmZXJyZXJQb2xpY3kgPSAnbm8tcmVmZXJyZXInO1xuICAgIH1cblxuICAgIHJldHVybiBGZXRjaFByb3ZpZGVyLmZldGNoKCkoXG4gICAgICBfZ2V0RmluYWxUYXJnZXQoYXV0aCwgYXV0aC5jb25maWcuYXBpSG9zdCwgcGF0aCwgcXVlcnkpLFxuICAgICAgZmV0Y2hBcmdzXG4gICAgKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfcGVyZm9ybUZldGNoV2l0aEVycm9ySGFuZGxpbmc8Vj4oXG4gIGF1dGg6IEF1dGgsXG4gIGN1c3RvbUVycm9yTWFwOiBQYXJ0aWFsPFNlcnZlckVycm9yTWFwPFNlcnZlckVycm9yPj4sXG4gIGZldGNoRm46ICgpID0+IFByb21pc2U8UmVzcG9uc2U+XG4pOiBQcm9taXNlPFY+IHtcbiAgKGF1dGggYXMgQXV0aEludGVybmFsKS5fY2FuSW5pdEVtdWxhdG9yID0gZmFsc2U7XG4gIGNvbnN0IGVycm9yTWFwID0geyAuLi5TRVJWRVJfRVJST1JfTUFQLCAuLi5jdXN0b21FcnJvck1hcCB9O1xuICB0cnkge1xuICAgIGNvbnN0IG5ldHdvcmtUaW1lb3V0ID0gbmV3IE5ldHdvcmtUaW1lb3V0PFJlc3BvbnNlPihhdXRoKTtcbiAgICBjb25zdCByZXNwb25zZTogUmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2U8UHJvbWlzZTxSZXNwb25zZT4+KFtcbiAgICAgIGZldGNoRm4oKSxcbiAgICAgIG5ldHdvcmtUaW1lb3V0LnByb21pc2VcbiAgICBdKTtcblxuICAgIC8vIElmIHdlJ3ZlIHJlYWNoZWQgdGhpcyBwb2ludCwgdGhlIGZldGNoIHN1Y2NlZWRlZCBhbmQgdGhlIG5ldHdvcmtUaW1lb3V0XG4gICAgLy8gZGlkbid0IHRocm93OyBjbGVhciB0aGUgbmV0d29yayB0aW1lb3V0IGRlbGF5IHNvIHRoYXQgTm9kZSB3b24ndCBoYW5nXG4gICAgbmV0d29ya1RpbWVvdXQuY2xlYXJOZXR3b3JrVGltZW91dCgpO1xuXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBpZiAoJ25lZWRDb25maXJtYXRpb24nIGluIGpzb24pIHtcbiAgICAgIHRocm93IF9tYWtlVGFnZ2VkRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5ORUVEX0NPTkZJUk1BVElPTiwganNvbik7XG4gICAgfVxuXG4gICAgaWYgKHJlc3BvbnNlLm9rICYmICEoJ2Vycm9yTWVzc2FnZScgaW4ganNvbikpIHtcbiAgICAgIHJldHVybiBqc29uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSByZXNwb25zZS5vayA/IGpzb24uZXJyb3JNZXNzYWdlIDoganNvbi5lcnJvci5tZXNzYWdlO1xuICAgICAgY29uc3QgW3NlcnZlckVycm9yQ29kZSwgc2VydmVyRXJyb3JNZXNzYWdlXSA9IGVycm9yTWVzc2FnZS5zcGxpdCgnIDogJyk7XG4gICAgICBpZiAoc2VydmVyRXJyb3JDb2RlID09PSBTZXJ2ZXJFcnJvci5GRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRCkge1xuICAgICAgICB0aHJvdyBfbWFrZVRhZ2dlZEVycm9yKFxuICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgQXV0aEVycm9yQ29kZS5DUkVERU5USUFMX0FMUkVBRFlfSU5fVVNFLFxuICAgICAgICAgIGpzb25cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VydmVyRXJyb3JDb2RlID09PSBTZXJ2ZXJFcnJvci5FTUFJTF9FWElTVFMpIHtcbiAgICAgICAgdGhyb3cgX21ha2VUYWdnZWRFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLkVNQUlMX0VYSVNUUywganNvbik7XG4gICAgICB9IGVsc2UgaWYgKHNlcnZlckVycm9yQ29kZSA9PT0gU2VydmVyRXJyb3IuVVNFUl9ESVNBQkxFRCkge1xuICAgICAgICB0aHJvdyBfbWFrZVRhZ2dlZEVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuVVNFUl9ESVNBQkxFRCwganNvbik7XG4gICAgICB9XG4gICAgICBjb25zdCBhdXRoRXJyb3IgPVxuICAgICAgICBlcnJvck1hcFtzZXJ2ZXJFcnJvckNvZGUgYXMgU2VydmVyRXJyb3JdIHx8XG4gICAgICAgIChzZXJ2ZXJFcnJvckNvZGVcbiAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgIC5yZXBsYWNlKC9bX1xcc10rL2csICctJykgYXMgdW5rbm93biBhcyBBdXRoRXJyb3JDb2RlKTtcbiAgICAgIGlmIChzZXJ2ZXJFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgX2Vycm9yV2l0aEN1c3RvbU1lc3NhZ2UoYXV0aCwgYXV0aEVycm9yLCBzZXJ2ZXJFcnJvck1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2ZhaWwoYXV0aCwgYXV0aEVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIEZpcmViYXNlRXJyb3IpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIC8vIENoYW5naW5nIHRoaXMgdG8gYSBkaWZmZXJlbnQgZXJyb3IgY29kZSB3aWxsIGxvZyB1c2VyIG91dCB3aGVuIHRoZXJlIGlzIGEgbmV0d29yayBlcnJvclxuICAgIC8vIGJlY2F1c2Ugd2UgdHJlYXQgYW55IGVycm9yIG90aGVyIHRoYW4gTkVUV09SS19SRVFVRVNUX0ZBSUxFRCBhcyB0b2tlbiBpcyBpbnZhbGlkLlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvYmxvYi80ZmJjNzM2MTBkNzBiZTRlMDg1MmU3ZGU2M2EzOWNiNzg5N2U4NTQ2L3BhY2thZ2VzL2F1dGgvc3JjL2NvcmUvYXV0aC9hdXRoX2ltcGwudHMjTDMwOS1MMzE2XG4gICAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5ORVRXT1JLX1JFUVVFU1RfRkFJTEVELCB7ICdtZXNzYWdlJzogU3RyaW5nKGUpIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8VCwgViBleHRlbmRzIElkVG9rZW5SZXNwb25zZT4oXG4gIGF1dGg6IEF1dGgsXG4gIG1ldGhvZDogSHR0cE1ldGhvZCxcbiAgcGF0aDogRW5kcG9pbnQsXG4gIHJlcXVlc3Q/OiBULFxuICBjdXN0b21FcnJvck1hcDogUGFydGlhbDxTZXJ2ZXJFcnJvck1hcDxTZXJ2ZXJFcnJvcj4+ID0ge31cbik6IFByb21pc2U8Vj4ge1xuICBjb25zdCBzZXJ2ZXJSZXNwb25zZSA9IChhd2FpdCBfcGVyZm9ybUFwaVJlcXVlc3Q8VCwgViB8IElkVG9rZW5NZmFSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBtZXRob2QsXG4gICAgcGF0aCxcbiAgICByZXF1ZXN0LFxuICAgIGN1c3RvbUVycm9yTWFwXG4gICkpIGFzIFY7XG4gIGlmICgnbWZhUGVuZGluZ0NyZWRlbnRpYWwnIGluIHNlcnZlclJlc3BvbnNlKSB7XG4gICAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5NRkFfUkVRVUlSRUQsIHtcbiAgICAgIF9zZXJ2ZXJSZXNwb25zZTogc2VydmVyUmVzcG9uc2VcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzZXJ2ZXJSZXNwb25zZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRGaW5hbFRhcmdldChcbiAgYXV0aDogQXV0aCxcbiAgaG9zdDogc3RyaW5nLFxuICBwYXRoOiBzdHJpbmcsXG4gIHF1ZXJ5OiBzdHJpbmdcbik6IHN0cmluZyB7XG4gIGNvbnN0IGJhc2UgPSBgJHtob3N0fSR7cGF0aH0/JHtxdWVyeX1gO1xuXG4gIGlmICghKGF1dGggYXMgQXV0aEludGVybmFsKS5jb25maWcuZW11bGF0b3IpIHtcbiAgICByZXR1cm4gYCR7YXV0aC5jb25maWcuYXBpU2NoZW1lfTovLyR7YmFzZX1gO1xuICB9XG5cbiAgcmV0dXJuIF9lbXVsYXRvclVybChhdXRoLmNvbmZpZyBhcyBDb25maWdJbnRlcm5hbCwgYmFzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcGFyc2VFbmZvcmNlbWVudFN0YXRlKFxuICBlbmZvcmNlbWVudFN0YXRlU3RyOiBzdHJpbmdcbik6IEVuZm9yY2VtZW50U3RhdGUge1xuICBzd2l0Y2ggKGVuZm9yY2VtZW50U3RhdGVTdHIpIHtcbiAgICBjYXNlICdFTkZPUkNFJzpcbiAgICAgIHJldHVybiBFbmZvcmNlbWVudFN0YXRlLkVORk9SQ0U7XG4gICAgY2FzZSAnQVVESVQnOlxuICAgICAgcmV0dXJuIEVuZm9yY2VtZW50U3RhdGUuQVVESVQ7XG4gICAgY2FzZSAnT0ZGJzpcbiAgICAgIHJldHVybiBFbmZvcmNlbWVudFN0YXRlLk9GRjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEVuZm9yY2VtZW50U3RhdGUuRU5GT1JDRU1FTlRfU1RBVEVfVU5TUEVDSUZJRUQ7XG4gIH1cbn1cblxuY2xhc3MgTmV0d29ya1RpbWVvdXQ8VD4ge1xuICAvLyBOb2RlIHRpbWVycyBhbmQgYnJvd3NlciB0aW1lcnMgYXJlIGZ1bmRhbWVudGFsbHkgaW5jb21wYXRpYmxlLCBidXQgd2VcbiAgLy8gZG9uJ3QgY2FyZSBhYm91dCB0aGUgdmFsdWUgaGVyZVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBwcml2YXRlIHRpbWVyOiBhbnkgfCBudWxsID0gbnVsbDtcbiAgcmVhZG9ubHkgcHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChfLCByZWplY3QpID0+IHtcbiAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICBfY3JlYXRlRXJyb3IodGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLk5FVFdPUktfUkVRVUVTVF9GQUlMRUQpXG4gICAgICApO1xuICAgIH0sIERFRkFVTFRfQVBJX1RJTUVPVVRfTVMuZ2V0KCkpO1xuICB9KTtcblxuICBjbGVhck5ldHdvcmtUaW1lb3V0KCk6IHZvaWQge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aCkge31cbn1cblxuaW50ZXJmYWNlIFBvdGVudGlhbFJlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHtcbiAgZW1haWw/OiBzdHJpbmc7XG4gIHBob25lTnVtYmVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX21ha2VUYWdnZWRFcnJvcihcbiAgYXV0aDogQXV0aCxcbiAgY29kZTogQXV0aEVycm9yQ29kZSxcbiAgcmVzcG9uc2U6IFBvdGVudGlhbFJlc3BvbnNlXG4pOiBGaXJlYmFzZUVycm9yIHtcbiAgY29uc3QgZXJyb3JQYXJhbXM6IE5hbWVkRXJyb3JQYXJhbXMgPSB7XG4gICAgYXBwTmFtZTogYXV0aC5uYW1lXG4gIH07XG5cbiAgaWYgKHJlc3BvbnNlLmVtYWlsKSB7XG4gICAgZXJyb3JQYXJhbXMuZW1haWwgPSByZXNwb25zZS5lbWFpbDtcbiAgfVxuICBpZiAocmVzcG9uc2UucGhvbmVOdW1iZXIpIHtcbiAgICBlcnJvclBhcmFtcy5waG9uZU51bWJlciA9IHJlc3BvbnNlLnBob25lTnVtYmVyO1xuICB9XG5cbiAgY29uc3QgZXJyb3IgPSBfY3JlYXRlRXJyb3IoYXV0aCwgY29kZSwgZXJyb3JQYXJhbXMpO1xuXG4gIC8vIFdlIGtub3cgY3VzdG9tRGF0YSBpcyBkZWZpbmVkIG9uIGVycm9yIGJlY2F1c2UgZXJyb3JQYXJhbXMgaXMgZGVmaW5lZFxuICAoZXJyb3IuY3VzdG9tRGF0YSEgYXMgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UpLl90b2tlblJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIHJldHVybiBlcnJvcjtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBSZWNhcHRjaGFQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7XG4gIEdldFJlY2FwdGNoYUNvbmZpZ1Jlc3BvbnNlLFxuICBSZWNhcHRjaGFFbmZvcmNlbWVudFByb3ZpZGVyU3RhdGVcbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3JlY2FwdGNoYSc7XG5pbXBvcnQgeyBFbmZvcmNlbWVudFN0YXRlLCBfcGFyc2VFbmZvcmNlbWVudFN0YXRlIH0gZnJvbSAnLi4vLi4vYXBpL2luZGV4JztcblxuLy8gcmVDQVBUQ0hBIHYyIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBSZWNhcHRjaGEge1xuICByZW5kZXI6IChjb250YWluZXI6IEhUTUxFbGVtZW50LCBwYXJhbWV0ZXJzOiBSZWNhcHRjaGFQYXJhbWV0ZXJzKSA9PiBudW1iZXI7XG4gIGdldFJlc3BvbnNlOiAoaWQ6IG51bWJlcikgPT4gc3RyaW5nO1xuICBleGVjdXRlOiAoaWQ6IG51bWJlcikgPT4gdW5rbm93bjtcbiAgcmVzZXQ6IChpZDogbnVtYmVyKSA9PiB1bmtub3duO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWMihcbiAgZ3JlY2FwdGNoYTogUmVjYXB0Y2hhIHwgR3JlQ0FQVENIQSB8IHVuZGVmaW5lZFxuKTogZ3JlY2FwdGNoYSBpcyBSZWNhcHRjaGEge1xuICByZXR1cm4gKFxuICAgIGdyZWNhcHRjaGEgIT09IHVuZGVmaW5lZCAmJlxuICAgIChncmVjYXB0Y2hhIGFzIFJlY2FwdGNoYSkuZ2V0UmVzcG9uc2UgIT09IHVuZGVmaW5lZFxuICApO1xufVxuXG4vLyByZUNBUFRDSEEgRW50ZXJwcmlzZSAmIHYzIHNoYXJlZCBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgR3JlQ0FQVENIQVRvcExldmVsIGV4dGVuZHMgR3JlQ0FQVENIQSB7XG4gIGVudGVycHJpc2U6IEdyZUNBUFRDSEE7XG59XG5cbi8vIHJlQ0FQVENIQSBFbnRlcnByaXNlIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBHcmVDQVBUQ0hBIHtcbiAgcmVhZHk6IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gdm9pZDtcbiAgZXhlY3V0ZTogKHNpdGVLZXk6IHN0cmluZywgb3B0aW9uczogeyBhY3Rpb246IHN0cmluZyB9KSA9PiBQcm9taXNlPHN0cmluZz47XG4gIHJlbmRlcjogKFxuICAgIGNvbnRhaW5lcjogc3RyaW5nIHwgSFRNTEVsZW1lbnQsXG4gICAgcGFyYW1ldGVyczogR3JlQ0FQVENIQVJlbmRlck9wdGlvblxuICApID0+IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcmVDQVBUQ0hBUmVuZGVyT3B0aW9uIHtcbiAgc2l0ZWtleTogc3RyaW5nO1xuICBzaXplOiAnaW52aXNpYmxlJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW50ZXJwcmlzZShcbiAgZ3JlY2FwdGNoYTogUmVjYXB0Y2hhIHwgR3JlQ0FQVENIQSB8IHVuZGVmaW5lZFxuKTogZ3JlY2FwdGNoYSBpcyBHcmVDQVBUQ0hBVG9wTGV2ZWwge1xuICByZXR1cm4gKFxuICAgIGdyZWNhcHRjaGEgIT09IHVuZGVmaW5lZCAmJlxuICAgIChncmVjYXB0Y2hhIGFzIEdyZUNBUFRDSEFUb3BMZXZlbCkuZW50ZXJwcmlzZSAhPT0gdW5kZWZpbmVkXG4gICk7XG59XG5cbi8vIFRPRE8oY2h1YW5yKTogUmVwbGFjZSB0aGlzIHdpdGggdGhlIEF1dGhXaW5kb3cgYWZ0ZXIgcmVzb2x2aW5nIHRoZSBkZXBlbmRlbmN5IGlzc3VlIGluIE5vZGUuanMgZW52LlxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBncmVjYXB0Y2hhPzogUmVjYXB0Y2hhIHwgR3JlQ0FQVENIQVRvcExldmVsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWNhcHRjaGFDb25maWcge1xuICAvKipcbiAgICogVGhlIHJlQ0FQVENIQSBzaXRlIGtleS5cbiAgICovXG4gIHNpdGVLZXk6IHN0cmluZyA9ICcnO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBwcm92aWRlcnMgYW5kIHRoZWlyIGVuYWJsZW1lbnQgc3RhdHVzIGZvciByZUNBUFRDSEEgRW50ZXJwcmlzZS5cbiAgICovXG4gIHJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGU6IFJlY2FwdGNoYUVuZm9yY2VtZW50UHJvdmlkZXJTdGF0ZVtdID0gW107XG5cbiAgY29uc3RydWN0b3IocmVzcG9uc2U6IEdldFJlY2FwdGNoYUNvbmZpZ1Jlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLnJlY2FwdGNoYUtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlY2FwdGNoYUtleSB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgLy8gRXhhbXBsZSByZXNwb25zZS5yZWNhcHRjaGFLZXk6IFwicHJvamVjdHMvcHJvajEyMy9rZXlzL3NpdGVrZXkxMjNcIlxuICAgIHRoaXMuc2l0ZUtleSA9IHJlc3BvbnNlLnJlY2FwdGNoYUtleS5zcGxpdCgnLycpWzNdO1xuICAgIHRoaXMucmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZSA9IHJlc3BvbnNlLnJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVDQVBUQ0hBIEVudGVycHJpc2UgZW5mb3JjZW1lbnQgc3RhdGUgZm9yIHRoZSBnaXZlbiBwcm92aWRlci5cbiAgICpcbiAgICogQHBhcmFtIHByb3ZpZGVyU3RyIC0gVGhlIHByb3ZpZGVyIHdob3NlIGVuZm9yY2VtZW50IHN0YXRlIGlzIHRvIGJlIHJldHVybmVkLlxuICAgKiBAcmV0dXJucyBUaGUgcmVDQVBUQ0hBIEVudGVycHJpc2UgZW5mb3JjZW1lbnQgc3RhdGUgZm9yIHRoZSBnaXZlbiBwcm92aWRlci5cbiAgICovXG4gIGdldFByb3ZpZGVyRW5mb3JjZW1lbnRTdGF0ZShwcm92aWRlclN0cjogc3RyaW5nKTogRW5mb3JjZW1lbnRTdGF0ZSB8IG51bGwge1xuICAgIGlmIChcbiAgICAgICF0aGlzLnJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGUgfHxcbiAgICAgIHRoaXMucmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZS5sZW5ndGggPT09IDBcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgcmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZSBvZiB0aGlzLnJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgcmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZS5wcm92aWRlciAmJlxuICAgICAgICByZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlLnByb3ZpZGVyID09PSBwcm92aWRlclN0clxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBfcGFyc2VFbmZvcmNlbWVudFN0YXRlKFxuICAgICAgICAgIHJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGUuZW5mb3JjZW1lbnRTdGF0ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHJlQ0FQVENIQSBFbnRlcnByaXNlIGVuZm9yY2VtZW50IHN0YXRlIGZvciB0aGUgcHJvdmlkZXIgaXMgc2V0IHRvIEVORk9SQ0Ugb3IgQVVESVQuXG4gICAqXG4gICAqIEBwYXJhbSBwcm92aWRlclN0ciAtIFRoZSBwcm92aWRlciB3aG9zZSBlbmFibGVtZW50IHN0YXRlIGlzIHRvIGJlIHJldHVybmVkLlxuICAgKiBAcmV0dXJucyBXaGV0aGVyIG9yIG5vdCByZUNBUFRDSEEgRW50ZXJwcmlzZSBwcm90ZWN0aW9uIGlzIGVuYWJsZWQgZm9yIHRoZSBnaXZlbiBwcm92aWRlci5cbiAgICovXG4gIGlzUHJvdmlkZXJFbmFibGVkKHByb3ZpZGVyU3RyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5nZXRQcm92aWRlckVuZm9yY2VtZW50U3RhdGUocHJvdmlkZXJTdHIpID09PVxuICAgICAgICBFbmZvcmNlbWVudFN0YXRlLkVORk9SQ0UgfHxcbiAgICAgIHRoaXMuZ2V0UHJvdmlkZXJFbmZvcmNlbWVudFN0YXRlKHByb3ZpZGVyU3RyKSA9PT0gRW5mb3JjZW1lbnRTdGF0ZS5BVURJVFxuICAgICk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgUmVjYXB0Y2hhQ2xpZW50VHlwZSxcbiAgUmVjYXB0Y2hhVmVyc2lvbixcbiAgX3BlcmZvcm1BcGlSZXF1ZXN0LFxuICBfYWRkVGlkSWZOZWNlc3Nhcnlcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmludGVyZmFjZSBHZXRSZWNhcHRjaGFQYXJhbVJlc3BvbnNlIHtcbiAgcmVjYXB0Y2hhU2l0ZUtleT86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlY2FwdGNoYVBhcmFtcyhhdXRoOiBBdXRoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIChcbiAgICAoXG4gICAgICBhd2FpdCBfcGVyZm9ybUFwaVJlcXVlc3Q8dm9pZCwgR2V0UmVjYXB0Y2hhUGFyYW1SZXNwb25zZT4oXG4gICAgICAgIGF1dGgsXG4gICAgICAgIEh0dHBNZXRob2QuR0VULFxuICAgICAgICBFbmRwb2ludC5HRVRfUkVDQVBUQ0hBX1BBUkFNXG4gICAgICApXG4gICAgKS5yZWNhcHRjaGFTaXRlS2V5IHx8ICcnXG4gICk7XG59XG5cbi8vIFRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSBmb3IgcmVDQVBUQ0hBIGVudGVycHJpc2UgaW50ZWdyYXRpb24uXG5pbnRlcmZhY2UgR2V0UmVjYXB0Y2hhQ29uZmlnUmVxdWVzdCB7XG4gIHRlbmFudElkPzogc3RyaW5nO1xuICBjbGllbnRUeXBlPzogUmVjYXB0Y2hhQ2xpZW50VHlwZTtcbiAgdmVyc2lvbj86IFJlY2FwdGNoYVZlcnNpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVjYXB0Y2hhRW5mb3JjZW1lbnRQcm92aWRlclN0YXRlIHtcbiAgcHJvdmlkZXI6IHN0cmluZztcbiAgZW5mb3JjZW1lbnRTdGF0ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldFJlY2FwdGNoYUNvbmZpZ1Jlc3BvbnNlIHtcbiAgcmVjYXB0Y2hhS2V5OiBzdHJpbmc7XG4gIHJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGU6IFJlY2FwdGNoYUVuZm9yY2VtZW50UHJvdmlkZXJTdGF0ZVtdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVjYXB0Y2hhQ29uZmlnKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBHZXRSZWNhcHRjaGFDb25maWdSZXF1ZXN0XG4pOiBQcm9taXNlPEdldFJlY2FwdGNoYUNvbmZpZ1Jlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgR2V0UmVjYXB0Y2hhQ29uZmlnUmVxdWVzdCxcbiAgICBHZXRSZWNhcHRjaGFDb25maWdSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5HRVQsXG4gICAgRW5kcG9pbnQuR0VUX1JFQ0FQVENIQV9DT05GSUcsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRW5kcG9pbnQsIEh0dHBNZXRob2QsIF9wZXJmb3JtQXBpUmVxdWVzdCB9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IE1mYUVucm9sbG1lbnQgfSBmcm9tICcuL21mYSc7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVBY2NvdW50UmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUFjY291bnQoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IERlbGV0ZUFjY291bnRSZXF1ZXN0XG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxEZWxldGVBY2NvdW50UmVxdWVzdCwgdm9pZD4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuREVMRVRFX0FDQ09VTlQsXG4gICAgcmVxdWVzdFxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3ZpZGVyVXNlckluZm8ge1xuICBwcm92aWRlcklkOiBzdHJpbmc7XG4gIHJhd0lkPzogc3RyaW5nO1xuICBlbWFpbD86IHN0cmluZztcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIHBob3RvVXJsPzogc3RyaW5nO1xuICBwaG9uZU51bWJlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVMaW5rZWRBY2NvdW50c1JlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIGRlbGV0ZVByb3ZpZGVyOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWxldGVMaW5rZWRBY2NvdW50c1Jlc3BvbnNlIHtcbiAgcHJvdmlkZXJVc2VySW5mbzogUHJvdmlkZXJVc2VySW5mb1tdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTGlua2VkQWNjb3VudHMoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IERlbGV0ZUxpbmtlZEFjY291bnRzUmVxdWVzdFxuKTogUHJvbWlzZTxEZWxldGVMaW5rZWRBY2NvdW50c1Jlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgRGVsZXRlTGlua2VkQWNjb3VudHNSZXF1ZXN0LFxuICAgIERlbGV0ZUxpbmtlZEFjY291bnRzUmVzcG9uc2VcbiAgPihhdXRoLCBIdHRwTWV0aG9kLlBPU1QsIEVuZHBvaW50LlNFVF9BQ0NPVU5UX0lORk8sIHJlcXVlc3QpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFQSVVzZXJJbmZvIHtcbiAgbG9jYWxJZD86IHN0cmluZztcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIHBob3RvVXJsPzogc3RyaW5nO1xuICBlbWFpbD86IHN0cmluZztcbiAgZW1haWxWZXJpZmllZD86IGJvb2xlYW47XG4gIHBob25lTnVtYmVyPzogc3RyaW5nO1xuICBsYXN0TG9naW5BdD86IG51bWJlcjtcbiAgY3JlYXRlZEF0PzogbnVtYmVyO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbiAgcGFzc3dvcmRIYXNoPzogc3RyaW5nO1xuICBwcm92aWRlclVzZXJJbmZvPzogUHJvdmlkZXJVc2VySW5mb1tdO1xuICBtZmFJbmZvPzogTWZhRW5yb2xsbWVudFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldEFjY291bnRJbmZvUmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRBY2NvdW50SW5mb1Jlc3BvbnNlIHtcbiAgdXNlcnM6IEFQSVVzZXJJbmZvW107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBY2NvdW50SW5mbyhcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogR2V0QWNjb3VudEluZm9SZXF1ZXN0XG4pOiBQcm9taXNlPEdldEFjY291bnRJbmZvUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxHZXRBY2NvdW50SW5mb1JlcXVlc3QsIEdldEFjY291bnRJbmZvUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LkdFVF9BQ0NPVU5UX0lORk8sXG4gICAgcmVxdWVzdFxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB1dGNUaW1lc3RhbXBUb0RhdGVTdHJpbmcoXG4gIHV0Y1RpbWVzdGFtcD86IHN0cmluZyB8IG51bWJlclxuKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCF1dGNUaW1lc3RhbXApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gQ29udmVydCB0byBkYXRlIG9iamVjdC5cbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoTnVtYmVyKHV0Y1RpbWVzdGFtcCkpO1xuICAgIC8vIFRlc3QgZGF0ZSBpcyB2YWxpZC5cbiAgICBpZiAoIWlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgLy8gQ29udmVydCB0byBVVEMgZGF0ZSBzdHJpbmcuXG4gICAgICByZXR1cm4gZGF0ZS50b1VUQ1N0cmluZygpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIERvIG5vdGhpbmcuIHVuZGVmaW5lZCB3aWxsIGJlIHJldHVybmVkLlxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSWRUb2tlblJlc3VsdCwgUGFyc2VkVG9rZW4sIFVzZXIgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgYmFzZTY0RGVjb2RlLCBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9sb2dFcnJvciB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHV0Y1RpbWVzdGFtcFRvRGF0ZVN0cmluZyB9IGZyb20gJy4uL3V0aWwvdGltZSc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcblxuLyoqXG4gKiBSZXR1cm5zIGEgSlNPTiBXZWIgVG9rZW4gKEpXVCkgdXNlZCB0byBpZGVudGlmeSB0aGUgdXNlciB0byBhIEZpcmViYXNlIHNlcnZpY2UuXG4gKlxuICogQHJlbWFya3NcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgdG9rZW4gaWYgaXQgaGFzIG5vdCBleHBpcmVkIG9yIGlmIGl0IHdpbGwgbm90IGV4cGlyZSBpbiB0aGUgbmV4dCBmaXZlXG4gKiBtaW51dGVzLiBPdGhlcndpc2UsIHRoaXMgd2lsbCByZWZyZXNoIHRoZSB0b2tlbiBhbmQgcmV0dXJuIGEgbmV3IG9uZS5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIGZvcmNlUmVmcmVzaCAtIEZvcmNlIHJlZnJlc2ggcmVnYXJkbGVzcyBvZiB0b2tlbiBleHBpcmF0aW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldElkVG9rZW4odXNlcjogVXNlciwgZm9yY2VSZWZyZXNoID0gZmFsc2UpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpLmdldElkVG9rZW4oZm9yY2VSZWZyZXNoKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZGVzZXJpYWxpemVkIEpTT04gV2ViIFRva2VuIChKV1QpIHVzZWQgdG8gaWRlbnRpZnkgdGhlIHVzZXIgdG8gYSBGaXJlYmFzZSBzZXJ2aWNlLlxuICpcbiAqIEByZW1hcmtzXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHRva2VuIGlmIGl0IGhhcyBub3QgZXhwaXJlZCBvciBpZiBpdCB3aWxsIG5vdCBleHBpcmUgaW4gdGhlIG5leHQgZml2ZVxuICogbWludXRlcy4gT3RoZXJ3aXNlLCB0aGlzIHdpbGwgcmVmcmVzaCB0aGUgdG9rZW4gYW5kIHJldHVybiBhIG5ldyBvbmUuXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBmb3JjZVJlZnJlc2ggLSBGb3JjZSByZWZyZXNoIHJlZ2FyZGxlc3Mgb2YgdG9rZW4gZXhwaXJhdGlvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJZFRva2VuUmVzdWx0KFxuICB1c2VyOiBVc2VyLFxuICBmb3JjZVJlZnJlc2ggPSBmYWxzZVxuKTogUHJvbWlzZTxJZFRva2VuUmVzdWx0PiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGNvbnN0IHRva2VuID0gYXdhaXQgdXNlckludGVybmFsLmdldElkVG9rZW4oZm9yY2VSZWZyZXNoKTtcbiAgY29uc3QgY2xhaW1zID0gX3BhcnNlVG9rZW4odG9rZW4pO1xuXG4gIF9hc3NlcnQoXG4gICAgY2xhaW1zICYmIGNsYWltcy5leHAgJiYgY2xhaW1zLmF1dGhfdGltZSAmJiBjbGFpbXMuaWF0LFxuICAgIHVzZXJJbnRlcm5hbC5hdXRoLFxuICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgKTtcbiAgY29uc3QgZmlyZWJhc2UgPVxuICAgIHR5cGVvZiBjbGFpbXMuZmlyZWJhc2UgPT09ICdvYmplY3QnID8gY2xhaW1zLmZpcmViYXNlIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHNpZ25JblByb3ZpZGVyOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBmaXJlYmFzZT8uWydzaWduX2luX3Byb3ZpZGVyJ107XG5cbiAgcmV0dXJuIHtcbiAgICBjbGFpbXMsXG4gICAgdG9rZW4sXG4gICAgYXV0aFRpbWU6IHV0Y1RpbWVzdGFtcFRvRGF0ZVN0cmluZyhcbiAgICAgIHNlY29uZHNTdHJpbmdUb01pbGxpc2Vjb25kcyhjbGFpbXMuYXV0aF90aW1lKVxuICAgICkhLFxuICAgIGlzc3VlZEF0VGltZTogdXRjVGltZXN0YW1wVG9EYXRlU3RyaW5nKFxuICAgICAgc2Vjb25kc1N0cmluZ1RvTWlsbGlzZWNvbmRzKGNsYWltcy5pYXQpXG4gICAgKSEsXG4gICAgZXhwaXJhdGlvblRpbWU6IHV0Y1RpbWVzdGFtcFRvRGF0ZVN0cmluZyhcbiAgICAgIHNlY29uZHNTdHJpbmdUb01pbGxpc2Vjb25kcyhjbGFpbXMuZXhwKVxuICAgICkhLFxuICAgIHNpZ25JblByb3ZpZGVyOiBzaWduSW5Qcm92aWRlciB8fCBudWxsLFxuICAgIHNpZ25JblNlY29uZEZhY3RvcjogZmlyZWJhc2U/Llsnc2lnbl9pbl9zZWNvbmRfZmFjdG9yJ10gfHwgbnVsbFxuICB9O1xufVxuXG5mdW5jdGlvbiBzZWNvbmRzU3RyaW5nVG9NaWxsaXNlY29uZHMoc2Vjb25kczogc3RyaW5nKTogbnVtYmVyIHtcbiAgcmV0dXJuIE51bWJlcihzZWNvbmRzKSAqIDEwMDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcGFyc2VUb2tlbih0b2tlbjogc3RyaW5nKTogUGFyc2VkVG9rZW4gfCBudWxsIHtcbiAgY29uc3QgW2FsZ29yaXRobSwgcGF5bG9hZCwgc2lnbmF0dXJlXSA9IHRva2VuLnNwbGl0KCcuJyk7XG4gIGlmIChcbiAgICBhbGdvcml0aG0gPT09IHVuZGVmaW5lZCB8fFxuICAgIHBheWxvYWQgPT09IHVuZGVmaW5lZCB8fFxuICAgIHNpZ25hdHVyZSA9PT0gdW5kZWZpbmVkXG4gICkge1xuICAgIF9sb2dFcnJvcignSldUIG1hbGZvcm1lZCwgY29udGFpbmVkIGZld2VyIHRoYW4gMyBzZWN0aW9ucycpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gYmFzZTY0RGVjb2RlKHBheWxvYWQpO1xuICAgIGlmICghZGVjb2RlZCkge1xuICAgICAgX2xvZ0Vycm9yKCdGYWlsZWQgdG8gZGVjb2RlIGJhc2U2NCBKV1QgcGF5bG9hZCcpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnBhcnNlKGRlY29kZWQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgX2xvZ0Vycm9yKFxuICAgICAgJ0NhdWdodCBlcnJvciBwYXJzaW5nIEpXVCBwYXlsb2FkIGFzIEpTT04nLFxuICAgICAgKGUgYXMgRXJyb3IpPy50b1N0cmluZygpXG4gICAgKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEV4dHJhY3QgZXhwaXJlc0luIFRUTCBmcm9tIGEgdG9rZW4gYnkgc3VidHJhY3RpbmcgdGhlIGV4cGlyYXRpb24gZnJvbSB0aGUgaXNzdWFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfdG9rZW5FeHBpcmVzSW4odG9rZW46IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IHBhcnNlZFRva2VuID0gX3BhcnNlVG9rZW4odG9rZW4pO1xuICBfYXNzZXJ0KHBhcnNlZFRva2VuLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgX2Fzc2VydCh0eXBlb2YgcGFyc2VkVG9rZW4uZXhwICE9PSAndW5kZWZpbmVkJywgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIF9hc3NlcnQodHlwZW9mIHBhcnNlZFRva2VuLmlhdCAhPT0gJ3VuZGVmaW5lZCcsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICByZXR1cm4gTnVtYmVyKHBhcnNlZFRva2VuLmV4cCkgLSBOdW1iZXIocGFyc2VkVG9rZW4uaWF0KTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2xvZ291dElmSW52YWxpZGF0ZWQ8VD4oXG4gIHVzZXI6IFVzZXJJbnRlcm5hbCxcbiAgcHJvbWlzZTogUHJvbWlzZTxUPixcbiAgYnlwYXNzQXV0aFN0YXRlID0gZmFsc2Vcbik6IFByb21pc2U8VD4ge1xuICBpZiAoYnlwYXNzQXV0aFN0YXRlKSB7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcHJvbWlzZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgRmlyZWJhc2VFcnJvciAmJiBpc1VzZXJJbnZhbGlkYXRlZChlKSkge1xuICAgICAgaWYgKHVzZXIuYXV0aC5jdXJyZW50VXNlciA9PT0gdXNlcikge1xuICAgICAgICBhd2FpdCB1c2VyLmF1dGguc2lnbk91dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRocm93IGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNVc2VySW52YWxpZGF0ZWQoeyBjb2RlIH06IEZpcmViYXNlRXJyb3IpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBjb2RlID09PSBgYXV0aC8ke0F1dGhFcnJvckNvZGUuVVNFUl9ESVNBQkxFRH1gIHx8XG4gICAgY29kZSA9PT0gYGF1dGgvJHtBdXRoRXJyb3JDb2RlLlRPS0VOX0VYUElSRUR9YFxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG4vLyBSZWZyZXNoIHRoZSB0b2tlbiBmaXZlIG1pbnV0ZXMgYmVmb3JlIGV4cGlyYXRpb25cbmV4cG9ydCBjb25zdCBlbnVtIER1cmF0aW9uIHtcbiAgT0ZGU0VUID0gNSAqIDEwMDAgKiA2MCxcbiAgUkVUUllfQkFDS09GRl9NSU4gPSAzMCAqIDEwMDAsXG4gIFJFVFJZX0JBQ0tPRkZfTUFYID0gMTYgKiA2MCAqIDEwMDBcbn1cblxuZXhwb3J0IGNsYXNzIFByb2FjdGl2ZVJlZnJlc2gge1xuICBwcml2YXRlIGlzUnVubmluZyA9IGZhbHNlO1xuXG4gIC8vIE5vZGUgdGltZXJzIGFuZCBicm93c2VyIHRpbWVycyByZXR1cm4gZnVuZGFtZW50YWxseSBkaWZmZXJlbnQgdHlwZXMuXG4gIC8vIFdlIGRvbid0IGFjdHVhbGx5IGNhcmUgd2hhdCB0aGUgdmFsdWUgaXMgYnV0IFRTIHdvbid0IGFjY2VwdCB1bmtub3duIGFuZFxuICAvLyB3ZSBjYW4ndCBjYXN0IHByb3Blcmx5IGluIGJvdGggZW52aXJvbm1lbnRzLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBwcml2YXRlIHRpbWVySWQ6IGFueSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGVycm9yQmFja29mZiA9IER1cmF0aW9uLlJFVFJZX0JBQ0tPRkZfTUlOO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgdXNlcjogVXNlckludGVybmFsKSB7fVxuXG4gIF9zdGFydCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XG4gICAgdGhpcy5zY2hlZHVsZSgpO1xuICB9XG5cbiAgX3N0b3AoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzUnVubmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgaWYgKHRoaXMudGltZXJJZCAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRJbnRlcnZhbCh3YXNFcnJvcjogYm9vbGVhbik6IG51bWJlciB7XG4gICAgaWYgKHdhc0Vycm9yKSB7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMuZXJyb3JCYWNrb2ZmO1xuICAgICAgdGhpcy5lcnJvckJhY2tvZmYgPSBNYXRoLm1pbihcbiAgICAgICAgdGhpcy5lcnJvckJhY2tvZmYgKiAyLFxuICAgICAgICBEdXJhdGlvbi5SRVRSWV9CQUNLT0ZGX01BWFxuICAgICAgKTtcbiAgICAgIHJldHVybiBpbnRlcnZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVzZXQgdGhlIGVycm9yIGJhY2tvZmZcbiAgICAgIHRoaXMuZXJyb3JCYWNrb2ZmID0gRHVyYXRpb24uUkVUUllfQkFDS09GRl9NSU47XG4gICAgICBjb25zdCBleHBUaW1lID0gdGhpcy51c2VyLnN0c1Rva2VuTWFuYWdlci5leHBpcmF0aW9uVGltZSA/PyAwO1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBleHBUaW1lIC0gRGF0ZS5ub3coKSAtIER1cmF0aW9uLk9GRlNFVDtcblxuICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIGludGVydmFsKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNjaGVkdWxlKHdhc0Vycm9yID0gZmFsc2UpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XG4gICAgICAvLyBKdXN0IGluIGNhc2UuLi5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMuZ2V0SW50ZXJ2YWwod2FzRXJyb3IpO1xuICAgIHRoaXMudGltZXJJZCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5pdGVyYXRpb24oKTtcbiAgICB9LCBpbnRlcnZhbCk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGl0ZXJhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy51c2VyLmdldElkVG9rZW4odHJ1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gT25seSByZXRyeSBvbiBuZXR3b3JrIGVycm9yc1xuICAgICAgaWYgKFxuICAgICAgICAoZSBhcyBGaXJlYmFzZUVycm9yKT8uY29kZSA9PT1cbiAgICAgICAgYGF1dGgvJHtBdXRoRXJyb3JDb2RlLk5FVFdPUktfUkVRVUVTVF9GQUlMRUR9YFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGUoLyogd2FzRXJyb3IgKi8gdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zY2hlZHVsZSgpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlck1ldGFkYXRhIGFzIFVzZXJNZXRhZGF0YVR5cGUgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyB1dGNUaW1lc3RhbXBUb0RhdGVTdHJpbmcgfSBmcm9tICcuLi91dGlsL3RpbWUnO1xuXG5leHBvcnQgY2xhc3MgVXNlck1ldGFkYXRhIGltcGxlbWVudHMgVXNlck1ldGFkYXRhVHlwZSB7XG4gIGNyZWF0aW9uVGltZT86IHN0cmluZztcbiAgbGFzdFNpZ25JblRpbWU/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBjcmVhdGVkQXQ/OiBzdHJpbmcgfCBudW1iZXIsXG4gICAgcHJpdmF0ZSBsYXN0TG9naW5BdD86IHN0cmluZyB8IG51bWJlclxuICApIHtcbiAgICB0aGlzLl9pbml0aWFsaXplVGltZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaW5pdGlhbGl6ZVRpbWUoKTogdm9pZCB7XG4gICAgdGhpcy5sYXN0U2lnbkluVGltZSA9IHV0Y1RpbWVzdGFtcFRvRGF0ZVN0cmluZyh0aGlzLmxhc3RMb2dpbkF0KTtcbiAgICB0aGlzLmNyZWF0aW9uVGltZSA9IHV0Y1RpbWVzdGFtcFRvRGF0ZVN0cmluZyh0aGlzLmNyZWF0ZWRBdCk7XG4gIH1cblxuICBfY29weShtZXRhZGF0YTogVXNlck1ldGFkYXRhKTogdm9pZCB7XG4gICAgdGhpcy5jcmVhdGVkQXQgPSBtZXRhZGF0YS5jcmVhdGVkQXQ7XG4gICAgdGhpcy5sYXN0TG9naW5BdCA9IG1ldGFkYXRhLmxhc3RMb2dpbkF0O1xuICAgIHRoaXMuX2luaXRpYWxpemVUaW1lKCk7XG4gIH1cblxuICB0b0pTT04oKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlZEF0OiB0aGlzLmNyZWF0ZWRBdCxcbiAgICAgIGxhc3RMb2dpbkF0OiB0aGlzLmxhc3RMb2dpbkF0XG4gICAgfTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXIsIFVzZXJJbmZvIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHtcbiAgZ2V0QWNjb3VudEluZm8sXG4gIFByb3ZpZGVyVXNlckluZm9cbn0gZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9hY2NvdW50JztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX2xvZ291dElmSW52YWxpZGF0ZWQgfSBmcm9tICcuL2ludmFsaWRhdGlvbic7XG5pbXBvcnQgeyBVc2VyTWV0YWRhdGEgfSBmcm9tICcuL3VzZXJfbWV0YWRhdGEnO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3JlbG9hZFdpdGhvdXRTYXZpbmcodXNlcjogVXNlckludGVybmFsKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGF1dGggPSB1c2VyLmF1dGg7XG4gIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCB1c2VyLmdldElkVG9rZW4oKTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfbG9nb3V0SWZJbnZhbGlkYXRlZChcbiAgICB1c2VyLFxuICAgIGdldEFjY291bnRJbmZvKGF1dGgsIHsgaWRUb2tlbiB9KVxuICApO1xuXG4gIF9hc3NlcnQocmVzcG9uc2U/LnVzZXJzLmxlbmd0aCwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG5cbiAgY29uc3QgY29yZUFjY291bnQgPSByZXNwb25zZS51c2Vyc1swXTtcblxuICB1c2VyLl9ub3RpZnlSZWxvYWRMaXN0ZW5lcihjb3JlQWNjb3VudCk7XG5cbiAgY29uc3QgbmV3UHJvdmlkZXJEYXRhID0gY29yZUFjY291bnQucHJvdmlkZXJVc2VySW5mbz8ubGVuZ3RoXG4gICAgPyBleHRyYWN0UHJvdmlkZXJEYXRhKGNvcmVBY2NvdW50LnByb3ZpZGVyVXNlckluZm8pXG4gICAgOiBbXTtcblxuICBjb25zdCBwcm92aWRlckRhdGEgPSBtZXJnZVByb3ZpZGVyRGF0YSh1c2VyLnByb3ZpZGVyRGF0YSwgbmV3UHJvdmlkZXJEYXRhKTtcblxuICAvLyBQcmVzZXJ2ZXMgdGhlIG5vbi1ub255bW91cyBzdGF0dXMgb2YgdGhlIHN0b3JlZCB1c2VyLCBldmVuIGlmIG5vIG1vcmVcbiAgLy8gY3JlZGVudGlhbHMgKGZlZGVyYXRlZCBvciBlbWFpbC9wYXNzd29yZCkgYXJlIGxpbmtlZCB0byB0aGUgdXNlci4gSWZcbiAgLy8gdGhlIHVzZXIgd2FzIHByZXZpb3VzbHkgYW5vbnltb3VzLCB0aGVuIHVzZSBwcm92aWRlciBkYXRhIHRvIHVwZGF0ZS5cbiAgLy8gT24gdGhlIG90aGVyIGhhbmQsIGlmIGl0IHdhcyBub3QgYW5vbnltb3VzIGJlZm9yZSwgaXQgc2hvdWxkIG5ldmVyIGJlXG4gIC8vIGNvbnNpZGVyZWQgYW5vbnltb3VzIG5vdy5cbiAgY29uc3Qgb2xkSXNBbm9ueW1vdXMgPSB1c2VyLmlzQW5vbnltb3VzO1xuICBjb25zdCBuZXdJc0Fub255bW91cyA9XG4gICAgISh1c2VyLmVtYWlsICYmIGNvcmVBY2NvdW50LnBhc3N3b3JkSGFzaCkgJiYgIXByb3ZpZGVyRGF0YT8ubGVuZ3RoO1xuICBjb25zdCBpc0Fub255bW91cyA9ICFvbGRJc0Fub255bW91cyA/IGZhbHNlIDogbmV3SXNBbm9ueW1vdXM7XG5cbiAgY29uc3QgdXBkYXRlczogUGFydGlhbDxVc2VySW50ZXJuYWw+ID0ge1xuICAgIHVpZDogY29yZUFjY291bnQubG9jYWxJZCxcbiAgICBkaXNwbGF5TmFtZTogY29yZUFjY291bnQuZGlzcGxheU5hbWUgfHwgbnVsbCxcbiAgICBwaG90b1VSTDogY29yZUFjY291bnQucGhvdG9VcmwgfHwgbnVsbCxcbiAgICBlbWFpbDogY29yZUFjY291bnQuZW1haWwgfHwgbnVsbCxcbiAgICBlbWFpbFZlcmlmaWVkOiBjb3JlQWNjb3VudC5lbWFpbFZlcmlmaWVkIHx8IGZhbHNlLFxuICAgIHBob25lTnVtYmVyOiBjb3JlQWNjb3VudC5waG9uZU51bWJlciB8fCBudWxsLFxuICAgIHRlbmFudElkOiBjb3JlQWNjb3VudC50ZW5hbnRJZCB8fCBudWxsLFxuICAgIHByb3ZpZGVyRGF0YSxcbiAgICBtZXRhZGF0YTogbmV3IFVzZXJNZXRhZGF0YShjb3JlQWNjb3VudC5jcmVhdGVkQXQsIGNvcmVBY2NvdW50Lmxhc3RMb2dpbkF0KSxcbiAgICBpc0Fub255bW91c1xuICB9O1xuXG4gIE9iamVjdC5hc3NpZ24odXNlciwgdXBkYXRlcyk7XG59XG5cbi8qKlxuICogUmVsb2FkcyB1c2VyIGFjY291bnQgZGF0YSwgaWYgc2lnbmVkIGluLlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVsb2FkKHVzZXI6IFVzZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXNlckludGVybmFsOiBVc2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBhd2FpdCBfcmVsb2FkV2l0aG91dFNhdmluZyh1c2VySW50ZXJuYWwpO1xuXG4gIC8vIEV2ZW4gdGhvdWdoIHRoZSBjdXJyZW50IHVzZXIgaGFzbid0IGNoYW5nZWQsIHVwZGF0ZVxuICAvLyBjdXJyZW50IHVzZXIgd2lsbCB0cmlnZ2VyIGEgcGVyc2lzdGVuY2UgdXBkYXRlIHcvIHRoZVxuICAvLyBuZXcgaW5mby5cbiAgYXdhaXQgdXNlckludGVybmFsLmF1dGguX3BlcnNpc3RVc2VySWZDdXJyZW50KHVzZXJJbnRlcm5hbCk7XG4gIHVzZXJJbnRlcm5hbC5hdXRoLl9ub3RpZnlMaXN0ZW5lcnNJZkN1cnJlbnQodXNlckludGVybmFsKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VQcm92aWRlckRhdGEoXG4gIG9yaWdpbmFsOiBVc2VySW5mb1tdLFxuICBuZXdEYXRhOiBVc2VySW5mb1tdXG4pOiBVc2VySW5mb1tdIHtcbiAgY29uc3QgZGVkdXBlZCA9IG9yaWdpbmFsLmZpbHRlcihcbiAgICBvID0+ICFuZXdEYXRhLnNvbWUobiA9PiBuLnByb3ZpZGVySWQgPT09IG8ucHJvdmlkZXJJZClcbiAgKTtcbiAgcmV0dXJuIFsuLi5kZWR1cGVkLCAuLi5uZXdEYXRhXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RQcm92aWRlckRhdGEocHJvdmlkZXJzOiBQcm92aWRlclVzZXJJbmZvW10pOiBVc2VySW5mb1tdIHtcbiAgcmV0dXJuIHByb3ZpZGVycy5tYXAoKHsgcHJvdmlkZXJJZCwgLi4ucHJvdmlkZXIgfSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBwcm92aWRlcklkLFxuICAgICAgdWlkOiBwcm92aWRlci5yYXdJZCB8fCAnJyxcbiAgICAgIGRpc3BsYXlOYW1lOiBwcm92aWRlci5kaXNwbGF5TmFtZSB8fCBudWxsLFxuICAgICAgZW1haWw6IHByb3ZpZGVyLmVtYWlsIHx8IG51bGwsXG4gICAgICBwaG9uZU51bWJlcjogcHJvdmlkZXIucGhvbmVOdW1iZXIgfHwgbnVsbCxcbiAgICAgIHBob3RvVVJMOiBwcm92aWRlci5waG90b1VybCB8fCBudWxsXG4gICAgfTtcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG5cbmltcG9ydCB7IHF1ZXJ5c3RyaW5nIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQge1xuICBfZ2V0RmluYWxUYXJnZXQsXG4gIF9wZXJmb3JtRmV0Y2hXaXRoRXJyb3JIYW5kbGluZyxcbiAgX3BlcmZvcm1BcGlSZXF1ZXN0LFxuICBfYWRkVGlkSWZOZWNlc3NhcnksXG4gIEh0dHBNZXRob2QsXG4gIEh0dHBIZWFkZXIsXG4gIEVuZHBvaW50XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEZldGNoUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvZmV0Y2hfcHJvdmlkZXInO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcblxuZXhwb3J0IGNvbnN0IGVudW0gVG9rZW5UeXBlIHtcbiAgUkVGUkVTSF9UT0tFTiA9ICdSRUZSRVNIX1RPS0VOJyxcbiAgQUNDRVNTX1RPS0VOID0gJ0FDQ0VTU19UT0tFTidcbn1cblxuLyoqIFRoZSBzZXJ2ZXIgcmVzcG9uc2VzIHdpdGggc25ha2VfY2FzZTsgd2UgY29udmVydCB0byBjYW1lbENhc2UgKi9cbmludGVyZmFjZSBSZXF1ZXN0U3RzVG9rZW5TZXJ2ZXJSZXNwb25zZSB7XG4gIGFjY2Vzc190b2tlbjogc3RyaW5nO1xuICBleHBpcmVzX2luOiBzdHJpbmc7XG4gIHJlZnJlc2hfdG9rZW46IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0U3RzVG9rZW5SZXNwb25zZSB7XG4gIGFjY2Vzc1Rva2VuOiBzdHJpbmc7XG4gIGV4cGlyZXNJbjogc3RyaW5nO1xuICByZWZyZXNoVG9rZW46IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXZva2VUb2tlblJlcXVlc3Qge1xuICBwcm92aWRlcklkOiBzdHJpbmc7XG4gIHRva2VuVHlwZTogVG9rZW5UeXBlO1xuICB0b2tlbjogc3RyaW5nO1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJldm9rZVRva2VuUmVzcG9uc2Uge31cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RTdHNUb2tlbihcbiAgYXV0aDogQXV0aCxcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmdcbik6IFByb21pc2U8UmVxdWVzdFN0c1Rva2VuUmVzcG9uc2U+IHtcbiAgY29uc3QgcmVzcG9uc2UgPVxuICAgIGF3YWl0IF9wZXJmb3JtRmV0Y2hXaXRoRXJyb3JIYW5kbGluZzxSZXF1ZXN0U3RzVG9rZW5TZXJ2ZXJSZXNwb25zZT4oXG4gICAgICBhdXRoLFxuICAgICAge30sXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBxdWVyeXN0cmluZyh7XG4gICAgICAgICAgJ2dyYW50X3R5cGUnOiAncmVmcmVzaF90b2tlbicsXG4gICAgICAgICAgJ3JlZnJlc2hfdG9rZW4nOiByZWZyZXNoVG9rZW5cbiAgICAgICAgfSkuc2xpY2UoMSk7XG4gICAgICAgIGNvbnN0IHsgdG9rZW5BcGlIb3N0LCBhcGlLZXkgfSA9IGF1dGguY29uZmlnO1xuICAgICAgICBjb25zdCB1cmwgPSBfZ2V0RmluYWxUYXJnZXQoXG4gICAgICAgICAgYXV0aCxcbiAgICAgICAgICB0b2tlbkFwaUhvc3QsXG4gICAgICAgICAgRW5kcG9pbnQuVE9LRU4sXG4gICAgICAgICAgYGtleT0ke2FwaUtleX1gXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IGF3YWl0IChhdXRoIGFzIEF1dGhJbnRlcm5hbCkuX2dldEFkZGl0aW9uYWxIZWFkZXJzKCk7XG4gICAgICAgIGhlYWRlcnNbSHR0cEhlYWRlci5DT05URU5UX1RZUEVdID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7XG5cbiAgICAgICAgcmV0dXJuIEZldGNoUHJvdmlkZXIuZmV0Y2goKSh1cmwsIHtcbiAgICAgICAgICBtZXRob2Q6IEh0dHBNZXRob2QuUE9TVCxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIGJvZHlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcblxuICAvLyBUaGUgcmVzcG9uc2UgY29tZXMgYmFjayBpbiBzbmFrZV9jYXNlLiBDb252ZXJ0IHRvIGNhbWVsOlxuICByZXR1cm4ge1xuICAgIGFjY2Vzc1Rva2VuOiByZXNwb25zZS5hY2Nlc3NfdG9rZW4sXG4gICAgZXhwaXJlc0luOiByZXNwb25zZS5leHBpcmVzX2luLFxuICAgIHJlZnJlc2hUb2tlbjogcmVzcG9uc2UucmVmcmVzaF90b2tlblxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmV2b2tlVG9rZW4oXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFJldm9rZVRva2VuUmVxdWVzdFxuKTogUHJvbWlzZTxSZXZva2VUb2tlblJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8UmV2b2tlVG9rZW5SZXF1ZXN0LCBSZXZva2VUb2tlblJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5SRVZPS0VfVE9LRU4sXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmluYWxpemVNZmFSZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgcmVxdWVzdFN0c1Rva2VuIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3Rva2VuJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBQZXJzaXN0ZWRCbG9iIH0gZnJvbSAnLi4vcGVyc2lzdGVuY2UnO1xuaW1wb3J0IHsgX2Fzc2VydCwgZGVidWdGYWlsIH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX3Rva2VuRXhwaXJlc0luIH0gZnJvbSAnLi9pZF90b2tlbl9yZXN1bHQnO1xuXG4vKipcbiAqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJlZm9yZSB0aGUgb2ZmaWNpYWwgZXhwaXJhdGlvbiB0aW1lIG9mIGEgdG9rZW5cbiAqIHRvIHJlZnJlc2ggdGhhdCB0b2tlbiwgdG8gcHJvdmlkZSBhIGJ1ZmZlciBmb3IgUlBDcyB0byBjb21wbGV0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGVudW0gQnVmZmVyIHtcbiAgVE9LRU5fUkVGUkVTSCA9IDMwXzAwMFxufVxuXG4vKipcbiAqIFdlIG5lZWQgdG8gbWFyayB0aGlzIGNsYXNzIGFzIGludGVybmFsIGV4cGxpY2l0bHkgdG8gZXhjbHVkZSBpdCBpbiB0aGUgcHVibGljIHR5cGluZ3MsIGJlY2F1c2VcbiAqIGl0IHJlZmVyZW5jZXMgQXV0aEludGVybmFsIHdoaWNoIGhhcyBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgd2l0aCBVc2VySW50ZXJuYWwuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHNUb2tlbk1hbmFnZXIge1xuICByZWZyZXNoVG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBhY2Nlc3NUb2tlbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGV4cGlyYXRpb25UaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBnZXQgaXNFeHBpcmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICAhdGhpcy5leHBpcmF0aW9uVGltZSB8fFxuICAgICAgRGF0ZS5ub3coKSA+IHRoaXMuZXhwaXJhdGlvblRpbWUgLSBCdWZmZXIuVE9LRU5fUkVGUkVTSFxuICAgICk7XG4gIH1cblxuICB1cGRhdGVGcm9tU2VydmVyUmVzcG9uc2UoXG4gICAgcmVzcG9uc2U6IElkVG9rZW5SZXNwb25zZSB8IEZpbmFsaXplTWZhUmVzcG9uc2VcbiAgKTogdm9pZCB7XG4gICAgX2Fzc2VydChyZXNwb25zZS5pZFRva2VuLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICBfYXNzZXJ0KFxuICAgICAgdHlwZW9mIHJlc3BvbnNlLmlkVG9rZW4gIT09ICd1bmRlZmluZWQnLFxuICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgICk7XG4gICAgX2Fzc2VydChcbiAgICAgIHR5cGVvZiByZXNwb25zZS5yZWZyZXNoVG9rZW4gIT09ICd1bmRlZmluZWQnLFxuICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgICk7XG4gICAgY29uc3QgZXhwaXJlc0luID1cbiAgICAgICdleHBpcmVzSW4nIGluIHJlc3BvbnNlICYmIHR5cGVvZiByZXNwb25zZS5leHBpcmVzSW4gIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gTnVtYmVyKHJlc3BvbnNlLmV4cGlyZXNJbilcbiAgICAgICAgOiBfdG9rZW5FeHBpcmVzSW4ocmVzcG9uc2UuaWRUb2tlbik7XG4gICAgdGhpcy51cGRhdGVUb2tlbnNBbmRFeHBpcmF0aW9uKFxuICAgICAgcmVzcG9uc2UuaWRUb2tlbixcbiAgICAgIHJlc3BvbnNlLnJlZnJlc2hUb2tlbixcbiAgICAgIGV4cGlyZXNJblxuICAgICk7XG4gIH1cblxuICB1cGRhdGVGcm9tSWRUb2tlbihpZFRva2VuOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBfYXNzZXJ0KGlkVG9rZW4ubGVuZ3RoICE9PSAwLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICBjb25zdCBleHBpcmVzSW4gPSBfdG9rZW5FeHBpcmVzSW4oaWRUb2tlbik7XG4gICAgdGhpcy51cGRhdGVUb2tlbnNBbmRFeHBpcmF0aW9uKGlkVG9rZW4sIG51bGwsIGV4cGlyZXNJbik7XG4gIH1cblxuICBhc3luYyBnZXRUb2tlbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgZm9yY2VSZWZyZXNoID0gZmFsc2VcbiAgKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gICAgaWYgKCFmb3JjZVJlZnJlc2ggJiYgdGhpcy5hY2Nlc3NUb2tlbiAmJiAhdGhpcy5pc0V4cGlyZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjY2Vzc1Rva2VuO1xuICAgIH1cblxuICAgIF9hc3NlcnQodGhpcy5yZWZyZXNoVG9rZW4sIGF1dGgsIEF1dGhFcnJvckNvZGUuVE9LRU5fRVhQSVJFRCk7XG5cbiAgICBpZiAodGhpcy5yZWZyZXNoVG9rZW4pIHtcbiAgICAgIGF3YWl0IHRoaXMucmVmcmVzaChhdXRoLCB0aGlzLnJlZnJlc2hUb2tlbiEpO1xuICAgICAgcmV0dXJuIHRoaXMuYWNjZXNzVG9rZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjbGVhclJlZnJlc2hUb2tlbigpOiB2b2lkIHtcbiAgICB0aGlzLnJlZnJlc2hUb2tlbiA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlZnJlc2goYXV0aDogQXV0aEludGVybmFsLCBvbGRUb2tlbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBleHBpcmVzSW4gfSA9IGF3YWl0IHJlcXVlc3RTdHNUb2tlbihcbiAgICAgIGF1dGgsXG4gICAgICBvbGRUb2tlblxuICAgICk7XG4gICAgdGhpcy51cGRhdGVUb2tlbnNBbmRFeHBpcmF0aW9uKFxuICAgICAgYWNjZXNzVG9rZW4sXG4gICAgICByZWZyZXNoVG9rZW4sXG4gICAgICBOdW1iZXIoZXhwaXJlc0luKVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVRva2Vuc0FuZEV4cGlyYXRpb24oXG4gICAgYWNjZXNzVG9rZW46IHN0cmluZyxcbiAgICByZWZyZXNoVG9rZW46IHN0cmluZyB8IG51bGwsXG4gICAgZXhwaXJlc0luU2VjOiBudW1iZXJcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5yZWZyZXNoVG9rZW4gPSByZWZyZXNoVG9rZW4gfHwgbnVsbDtcbiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW4gfHwgbnVsbDtcbiAgICB0aGlzLmV4cGlyYXRpb25UaW1lID0gRGF0ZS5ub3coKSArIGV4cGlyZXNJblNlYyAqIDEwMDA7XG4gIH1cblxuICBzdGF0aWMgZnJvbUpTT04oYXBwTmFtZTogc3RyaW5nLCBvYmplY3Q6IFBlcnNpc3RlZEJsb2IpOiBTdHNUb2tlbk1hbmFnZXIge1xuICAgIGNvbnN0IHsgcmVmcmVzaFRva2VuLCBhY2Nlc3NUb2tlbiwgZXhwaXJhdGlvblRpbWUgfSA9IG9iamVjdDtcblxuICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgU3RzVG9rZW5NYW5hZ2VyKCk7XG4gICAgaWYgKHJlZnJlc2hUb2tlbikge1xuICAgICAgX2Fzc2VydCh0eXBlb2YgcmVmcmVzaFRva2VuID09PSAnc3RyaW5nJywgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUiwge1xuICAgICAgICBhcHBOYW1lXG4gICAgICB9KTtcbiAgICAgIG1hbmFnZXIucmVmcmVzaFRva2VuID0gcmVmcmVzaFRva2VuO1xuICAgIH1cbiAgICBpZiAoYWNjZXNzVG9rZW4pIHtcbiAgICAgIF9hc3NlcnQodHlwZW9mIGFjY2Vzc1Rva2VuID09PSAnc3RyaW5nJywgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUiwge1xuICAgICAgICBhcHBOYW1lXG4gICAgICB9KTtcbiAgICAgIG1hbmFnZXIuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbjtcbiAgICB9XG4gICAgaWYgKGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICBfYXNzZXJ0KFxuICAgICAgICB0eXBlb2YgZXhwaXJhdGlvblRpbWUgPT09ICdudW1iZXInLFxuICAgICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SLFxuICAgICAgICB7XG4gICAgICAgICAgYXBwTmFtZVxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgbWFuYWdlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgIH1cbiAgICByZXR1cm4gbWFuYWdlcjtcbiAgfVxuXG4gIHRvSlNPTigpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICByZWZyZXNoVG9rZW46IHRoaXMucmVmcmVzaFRva2VuLFxuICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sXG4gICAgICBleHBpcmF0aW9uVGltZTogdGhpcy5leHBpcmF0aW9uVGltZVxuICAgIH07XG4gIH1cblxuICBfYXNzaWduKHN0c1Rva2VuTWFuYWdlcjogU3RzVG9rZW5NYW5hZ2VyKTogdm9pZCB7XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IHN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbjtcbiAgICB0aGlzLnJlZnJlc2hUb2tlbiA9IHN0c1Rva2VuTWFuYWdlci5yZWZyZXNoVG9rZW47XG4gICAgdGhpcy5leHBpcmF0aW9uVGltZSA9IHN0c1Rva2VuTWFuYWdlci5leHBpcmF0aW9uVGltZTtcbiAgfVxuXG4gIF9jbG9uZSgpOiBTdHNUb2tlbk1hbmFnZXIge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBTdHNUb2tlbk1hbmFnZXIoKSwgdGhpcy50b0pTT04oKSk7XG4gIH1cblxuICBfcGVyZm9ybVJlZnJlc2goKTogbmV2ZXIge1xuICAgIHJldHVybiBkZWJ1Z0ZhaWwoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSWRUb2tlblJlc3VsdCwgVXNlckluZm8gfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgTmV4dEZuIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHtcbiAgQVBJVXNlckluZm8sXG4gIEdldEFjY291bnRJbmZvUmVzcG9uc2UsXG4gIGRlbGV0ZUFjY291bnRcbn0gZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9hY2NvdW50JztcbmltcG9ydCB7IEZpbmFsaXplTWZhUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHtcbiAgTXV0YWJsZVVzZXJJbmZvLFxuICBVc2VySW50ZXJuYWwsXG4gIFVzZXJQYXJhbWV0ZXJzXG59IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBQZXJzaXN0ZWRCbG9iIH0gZnJvbSAnLi4vcGVyc2lzdGVuY2UnO1xuaW1wb3J0IHtcbiAgX2Fzc2VydCxcbiAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3Jcbn0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgZ2V0SWRUb2tlblJlc3VsdCB9IGZyb20gJy4vaWRfdG9rZW5fcmVzdWx0JztcbmltcG9ydCB7IF9sb2dvdXRJZkludmFsaWRhdGVkIH0gZnJvbSAnLi9pbnZhbGlkYXRpb24nO1xuaW1wb3J0IHsgUHJvYWN0aXZlUmVmcmVzaCB9IGZyb20gJy4vcHJvYWN0aXZlX3JlZnJlc2gnO1xuaW1wb3J0IHsgZXh0cmFjdFByb3ZpZGVyRGF0YSwgX3JlbG9hZFdpdGhvdXRTYXZpbmcsIHJlbG9hZCB9IGZyb20gJy4vcmVsb2FkJztcbmltcG9ydCB7IFN0c1Rva2VuTWFuYWdlciB9IGZyb20gJy4vdG9rZW5fbWFuYWdlcic7XG5pbXBvcnQgeyBVc2VyTWV0YWRhdGEgfSBmcm9tICcuL3VzZXJfbWV0YWRhdGEnO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbmZ1bmN0aW9uIGFzc2VydFN0cmluZ09yVW5kZWZpbmVkKFxuICBhc3NlcnRpb246IHVua25vd24sXG4gIGFwcE5hbWU6IHN0cmluZ1xuKTogYXNzZXJ0cyBhc3NlcnRpb24gaXMgc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgX2Fzc2VydChcbiAgICB0eXBlb2YgYXNzZXJ0aW9uID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgYXNzZXJ0aW9uID09PSAndW5kZWZpbmVkJyxcbiAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SLFxuICAgIHsgYXBwTmFtZSB9XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VySW1wbCBpbXBsZW1lbnRzIFVzZXJJbnRlcm5hbCB7XG4gIC8vIEZvciB0aGUgdXNlciBvYmplY3QsIHByb3ZpZGVyIGlzIGFsd2F5cyBGaXJlYmFzZS5cbiAgcmVhZG9ubHkgcHJvdmlkZXJJZCA9IFByb3ZpZGVySWQuRklSRUJBU0U7XG4gIHN0c1Rva2VuTWFuYWdlcjogU3RzVG9rZW5NYW5hZ2VyO1xuICAvLyBMYXN0IGtub3duIGFjY2Vzc1Rva2VuIHNvIHdlIGtub3cgd2hlbiBpdCBjaGFuZ2VzXG4gIHByaXZhdGUgYWNjZXNzVG9rZW46IHN0cmluZyB8IG51bGw7XG5cbiAgdWlkOiBzdHJpbmc7XG4gIGF1dGg6IEF1dGhJbnRlcm5hbDtcbiAgZW1haWxWZXJpZmllZDogYm9vbGVhbjtcbiAgaXNBbm9ueW1vdXM6IGJvb2xlYW47XG4gIHRlbmFudElkOiBzdHJpbmcgfCBudWxsO1xuICByZWFkb25seSBtZXRhZGF0YTogVXNlck1ldGFkYXRhO1xuICBwcm92aWRlckRhdGE6IE11dGFibGVVc2VySW5mb1tdO1xuXG4gIC8vIE9wdGlvbmFsIGZpZWxkcyBmcm9tIFVzZXJJbmZvXG4gIGRpc3BsYXlOYW1lOiBzdHJpbmcgfCBudWxsO1xuICBlbWFpbDogc3RyaW5nIHwgbnVsbDtcbiAgcGhvbmVOdW1iZXI6IHN0cmluZyB8IG51bGw7XG4gIHBob3RvVVJMOiBzdHJpbmcgfCBudWxsO1xuXG4gIF9yZWRpcmVjdEV2ZW50SWQ/OiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgcHJvYWN0aXZlUmVmcmVzaCA9IG5ldyBQcm9hY3RpdmVSZWZyZXNoKHRoaXMpO1xuXG4gIGNvbnN0cnVjdG9yKHsgdWlkLCBhdXRoLCBzdHNUb2tlbk1hbmFnZXIsIC4uLm9wdCB9OiBVc2VyUGFyYW1ldGVycykge1xuICAgIHRoaXMudWlkID0gdWlkO1xuICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgdGhpcy5zdHNUb2tlbk1hbmFnZXIgPSBzdHNUb2tlbk1hbmFnZXI7XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IHN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbjtcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gb3B0LmRpc3BsYXlOYW1lIHx8IG51bGw7XG4gICAgdGhpcy5lbWFpbCA9IG9wdC5lbWFpbCB8fCBudWxsO1xuICAgIHRoaXMuZW1haWxWZXJpZmllZCA9IG9wdC5lbWFpbFZlcmlmaWVkIHx8IGZhbHNlO1xuICAgIHRoaXMucGhvbmVOdW1iZXIgPSBvcHQucGhvbmVOdW1iZXIgfHwgbnVsbDtcbiAgICB0aGlzLnBob3RvVVJMID0gb3B0LnBob3RvVVJMIHx8IG51bGw7XG4gICAgdGhpcy5pc0Fub255bW91cyA9IG9wdC5pc0Fub255bW91cyB8fCBmYWxzZTtcbiAgICB0aGlzLnRlbmFudElkID0gb3B0LnRlbmFudElkIHx8IG51bGw7XG4gICAgdGhpcy5wcm92aWRlckRhdGEgPSBvcHQucHJvdmlkZXJEYXRhID8gWy4uLm9wdC5wcm92aWRlckRhdGFdIDogW107XG4gICAgdGhpcy5tZXRhZGF0YSA9IG5ldyBVc2VyTWV0YWRhdGEoXG4gICAgICBvcHQuY3JlYXRlZEF0IHx8IHVuZGVmaW5lZCxcbiAgICAgIG9wdC5sYXN0TG9naW5BdCB8fCB1bmRlZmluZWRcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgZ2V0SWRUb2tlbihmb3JjZVJlZnJlc2g/OiBib29sZWFuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGF3YWl0IF9sb2dvdXRJZkludmFsaWRhdGVkKFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMuc3RzVG9rZW5NYW5hZ2VyLmdldFRva2VuKHRoaXMuYXV0aCwgZm9yY2VSZWZyZXNoKVxuICAgICk7XG4gICAgX2Fzc2VydChhY2Nlc3NUb2tlbiwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcblxuICAgIGlmICh0aGlzLmFjY2Vzc1Rva2VuICE9PSBhY2Nlc3NUb2tlbikge1xuICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuO1xuICAgICAgYXdhaXQgdGhpcy5hdXRoLl9wZXJzaXN0VXNlcklmQ3VycmVudCh0aGlzKTtcbiAgICAgIHRoaXMuYXV0aC5fbm90aWZ5TGlzdGVuZXJzSWZDdXJyZW50KHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiBhY2Nlc3NUb2tlbjtcbiAgfVxuXG4gIGdldElkVG9rZW5SZXN1bHQoZm9yY2VSZWZyZXNoPzogYm9vbGVhbik6IFByb21pc2U8SWRUb2tlblJlc3VsdD4ge1xuICAgIHJldHVybiBnZXRJZFRva2VuUmVzdWx0KHRoaXMsIGZvcmNlUmVmcmVzaCk7XG4gIH1cblxuICByZWxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHJlbG9hZCh0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVsb2FkVXNlckluZm86IEFQSVVzZXJJbmZvIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVsb2FkTGlzdGVuZXI6IE5leHRGbjxBUElVc2VySW5mbz4gfCBudWxsID0gbnVsbDtcblxuICBfYXNzaWduKHVzZXI6IFVzZXJJbnRlcm5hbCk6IHZvaWQge1xuICAgIGlmICh0aGlzID09PSB1c2VyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9hc3NlcnQodGhpcy51aWQgPT09IHVzZXIudWlkLCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSB1c2VyLmRpc3BsYXlOYW1lO1xuICAgIHRoaXMucGhvdG9VUkwgPSB1c2VyLnBob3RvVVJMO1xuICAgIHRoaXMuZW1haWwgPSB1c2VyLmVtYWlsO1xuICAgIHRoaXMuZW1haWxWZXJpZmllZCA9IHVzZXIuZW1haWxWZXJpZmllZDtcbiAgICB0aGlzLnBob25lTnVtYmVyID0gdXNlci5waG9uZU51bWJlcjtcbiAgICB0aGlzLmlzQW5vbnltb3VzID0gdXNlci5pc0Fub255bW91cztcbiAgICB0aGlzLnRlbmFudElkID0gdXNlci50ZW5hbnRJZDtcbiAgICB0aGlzLnByb3ZpZGVyRGF0YSA9IHVzZXIucHJvdmlkZXJEYXRhLm1hcCh1c2VySW5mbyA9PiAoeyAuLi51c2VySW5mbyB9KSk7XG4gICAgdGhpcy5tZXRhZGF0YS5fY29weSh1c2VyLm1ldGFkYXRhKTtcbiAgICB0aGlzLnN0c1Rva2VuTWFuYWdlci5fYXNzaWduKHVzZXIuc3RzVG9rZW5NYW5hZ2VyKTtcbiAgfVxuXG4gIF9jbG9uZShhdXRoOiBBdXRoSW50ZXJuYWwpOiBVc2VySW50ZXJuYWwge1xuICAgIGNvbnN0IG5ld1VzZXIgPSBuZXcgVXNlckltcGwoe1xuICAgICAgLi4udGhpcyxcbiAgICAgIGF1dGgsXG4gICAgICBzdHNUb2tlbk1hbmFnZXI6IHRoaXMuc3RzVG9rZW5NYW5hZ2VyLl9jbG9uZSgpXG4gICAgfSk7XG4gICAgbmV3VXNlci5tZXRhZGF0YS5fY29weSh0aGlzLm1ldGFkYXRhKTtcbiAgICByZXR1cm4gbmV3VXNlcjtcbiAgfVxuXG4gIF9vblJlbG9hZChjYWxsYmFjazogTmV4dEZuPEFQSVVzZXJJbmZvPik6IHZvaWQge1xuICAgIC8vIFRoZXJlIHNob3VsZCBvbmx5IGV2ZXIgYmUgb25lIGxpc3RlbmVyLCBhbmQgdGhhdCBpcyBhIHNpbmdsZSBpbnN0YW5jZSBvZiBNdWx0aUZhY3RvclVzZXJcbiAgICBfYXNzZXJ0KCF0aGlzLnJlbG9hZExpc3RlbmVyLCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIHRoaXMucmVsb2FkTGlzdGVuZXIgPSBjYWxsYmFjaztcbiAgICBpZiAodGhpcy5yZWxvYWRVc2VySW5mbykge1xuICAgICAgdGhpcy5fbm90aWZ5UmVsb2FkTGlzdGVuZXIodGhpcy5yZWxvYWRVc2VySW5mbyk7XG4gICAgICB0aGlzLnJlbG9hZFVzZXJJbmZvID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBfbm90aWZ5UmVsb2FkTGlzdGVuZXIodXNlckluZm86IEFQSVVzZXJJbmZvKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucmVsb2FkTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMucmVsb2FkTGlzdGVuZXIodXNlckluZm8pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBubyBsaXN0ZW5lciBpcyBzdWJzY3JpYmVkIHlldCwgc2F2ZSB0aGUgcmVzdWx0IHNvIGl0J3MgYXZhaWxhYmxlIHdoZW4gdGhleSBkbyBzdWJzY3JpYmVcbiAgICAgIHRoaXMucmVsb2FkVXNlckluZm8gPSB1c2VySW5mbztcbiAgICB9XG4gIH1cblxuICBfc3RhcnRQcm9hY3RpdmVSZWZyZXNoKCk6IHZvaWQge1xuICAgIHRoaXMucHJvYWN0aXZlUmVmcmVzaC5fc3RhcnQoKTtcbiAgfVxuXG4gIF9zdG9wUHJvYWN0aXZlUmVmcmVzaCgpOiB2b2lkIHtcbiAgICB0aGlzLnByb2FjdGl2ZVJlZnJlc2guX3N0b3AoKTtcbiAgfVxuXG4gIGFzeW5jIF91cGRhdGVUb2tlbnNJZk5lY2Vzc2FyeShcbiAgICByZXNwb25zZTogSWRUb2tlblJlc3BvbnNlIHwgRmluYWxpemVNZmFSZXNwb25zZSxcbiAgICByZWxvYWQgPSBmYWxzZVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBsZXQgdG9rZW5zUmVmcmVzaGVkID0gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgcmVzcG9uc2UuaWRUb2tlbiAmJlxuICAgICAgcmVzcG9uc2UuaWRUb2tlbiAhPT0gdGhpcy5zdHNUb2tlbk1hbmFnZXIuYWNjZXNzVG9rZW5cbiAgICApIHtcbiAgICAgIHRoaXMuc3RzVG9rZW5NYW5hZ2VyLnVwZGF0ZUZyb21TZXJ2ZXJSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICB0b2tlbnNSZWZyZXNoZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChyZWxvYWQpIHtcbiAgICAgIGF3YWl0IF9yZWxvYWRXaXRob3V0U2F2aW5nKHRoaXMpO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuYXV0aC5fcGVyc2lzdFVzZXJJZkN1cnJlbnQodGhpcyk7XG4gICAgaWYgKHRva2Vuc1JlZnJlc2hlZCkge1xuICAgICAgdGhpcy5hdXRoLl9ub3RpZnlMaXN0ZW5lcnNJZkN1cnJlbnQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh0aGlzLmF1dGguYXBwKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcih0aGlzLmF1dGgpXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBpZFRva2VuID0gYXdhaXQgdGhpcy5nZXRJZFRva2VuKCk7XG4gICAgYXdhaXQgX2xvZ291dElmSW52YWxpZGF0ZWQodGhpcywgZGVsZXRlQWNjb3VudCh0aGlzLmF1dGgsIHsgaWRUb2tlbiB9KSk7XG4gICAgdGhpcy5zdHNUb2tlbk1hbmFnZXIuY2xlYXJSZWZyZXNoVG9rZW4oKTtcblxuICAgIC8vIFRPRE86IERldGVybWluZSBpZiBjYW5jZWxsYWJsZS1wcm9taXNlcyBhcmUgbmVjZXNzYXJ5IHRvIHVzZSBpbiB0aGlzIGNsYXNzIHNvIHRoYXQgZGVsZXRlKClcbiAgICAvLyAgICAgICBjYW5jZWxzIHBlbmRpbmcgYWN0aW9ucy4uLlxuXG4gICAgcmV0dXJuIHRoaXMuYXV0aC5zaWduT3V0KCk7XG4gIH1cblxuICB0b0pTT04oKTogUGVyc2lzdGVkQmxvYiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVpZDogdGhpcy51aWQsXG4gICAgICBlbWFpbDogdGhpcy5lbWFpbCB8fCB1bmRlZmluZWQsXG4gICAgICBlbWFpbFZlcmlmaWVkOiB0aGlzLmVtYWlsVmVyaWZpZWQsXG4gICAgICBkaXNwbGF5TmFtZTogdGhpcy5kaXNwbGF5TmFtZSB8fCB1bmRlZmluZWQsXG4gICAgICBpc0Fub255bW91czogdGhpcy5pc0Fub255bW91cyxcbiAgICAgIHBob3RvVVJMOiB0aGlzLnBob3RvVVJMIHx8IHVuZGVmaW5lZCxcbiAgICAgIHBob25lTnVtYmVyOiB0aGlzLnBob25lTnVtYmVyIHx8IHVuZGVmaW5lZCxcbiAgICAgIHRlbmFudElkOiB0aGlzLnRlbmFudElkIHx8IHVuZGVmaW5lZCxcbiAgICAgIHByb3ZpZGVyRGF0YTogdGhpcy5wcm92aWRlckRhdGEubWFwKHVzZXJJbmZvID0+ICh7IC4uLnVzZXJJbmZvIH0pKSxcbiAgICAgIHN0c1Rva2VuTWFuYWdlcjogdGhpcy5zdHNUb2tlbk1hbmFnZXIudG9KU09OKCksXG4gICAgICAvLyBSZWRpcmVjdCBldmVudCBJRCBtdXN0IGJlIG1haW50YWluZWQgaW4gY2FzZSB0aGVyZSBpcyBhIHBlbmRpbmdcbiAgICAgIC8vIHJlZGlyZWN0IGV2ZW50LlxuICAgICAgX3JlZGlyZWN0RXZlbnRJZDogdGhpcy5fcmVkaXJlY3RFdmVudElkLFxuICAgICAgLi4udGhpcy5tZXRhZGF0YS50b0pTT04oKSxcblxuICAgICAgLy8gUmVxdWlyZWQgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgbGVnYWN5IFNESyAoZ28vZmlyZWJhc2UtYXV0aC1zZGstcGVyc2lzdGVuY2UtcGFyc2luZyk6XG4gICAgICBhcGlLZXk6IHRoaXMuYXV0aC5jb25maWcuYXBpS2V5LFxuICAgICAgYXBwTmFtZTogdGhpcy5hdXRoLm5hbWVcbiAgICAgIC8vIE1pc3NpbmcgYXV0aERvbWFpbiB3aWxsIGJlIHRvbGVyYXRlZCBieSB0aGUgbGVnYWN5IFNESy5cbiAgICAgIC8vIHN0c1Rva2VuTWFuYWdlci5hcGlLZXkgaXNuJ3QgYWN0dWFsbHkgcmVxdWlyZWQgKGRlc3BpdGUgdGhlIGxlZ2FjeSBTREsgcGVyc2lzdGluZyBpdCkuXG4gICAgfTtcbiAgfVxuXG4gIGdldCByZWZyZXNoVG9rZW4oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zdHNUb2tlbk1hbmFnZXIucmVmcmVzaFRva2VuIHx8ICcnO1xuICB9XG5cbiAgc3RhdGljIF9mcm9tSlNPTihhdXRoOiBBdXRoSW50ZXJuYWwsIG9iamVjdDogUGVyc2lzdGVkQmxvYik6IFVzZXJJbnRlcm5hbCB7XG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSBvYmplY3QuZGlzcGxheU5hbWUgPz8gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGVtYWlsID0gb2JqZWN0LmVtYWlsID8/IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwaG9uZU51bWJlciA9IG9iamVjdC5waG9uZU51bWJlciA/PyB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGhvdG9VUkwgPSBvYmplY3QucGhvdG9VUkwgPz8gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHRlbmFudElkID0gb2JqZWN0LnRlbmFudElkID8/IHVuZGVmaW5lZDtcbiAgICBjb25zdCBfcmVkaXJlY3RFdmVudElkID0gb2JqZWN0Ll9yZWRpcmVjdEV2ZW50SWQgPz8gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGNyZWF0ZWRBdCA9IG9iamVjdC5jcmVhdGVkQXQgPz8gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGxhc3RMb2dpbkF0ID0gb2JqZWN0Lmxhc3RMb2dpbkF0ID8/IHVuZGVmaW5lZDtcbiAgICBjb25zdCB7XG4gICAgICB1aWQsXG4gICAgICBlbWFpbFZlcmlmaWVkLFxuICAgICAgaXNBbm9ueW1vdXMsXG4gICAgICBwcm92aWRlckRhdGEsXG4gICAgICBzdHNUb2tlbk1hbmFnZXI6IHBsYWluT2JqZWN0VG9rZW5NYW5hZ2VyXG4gICAgfSA9IG9iamVjdDtcblxuICAgIF9hc3NlcnQodWlkICYmIHBsYWluT2JqZWN0VG9rZW5NYW5hZ2VyLCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcblxuICAgIGNvbnN0IHN0c1Rva2VuTWFuYWdlciA9IFN0c1Rva2VuTWFuYWdlci5mcm9tSlNPTihcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIHBsYWluT2JqZWN0VG9rZW5NYW5hZ2VyIGFzIFBlcnNpc3RlZEJsb2JcbiAgICApO1xuXG4gICAgX2Fzc2VydCh0eXBlb2YgdWlkID09PSAnc3RyaW5nJywgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgYXNzZXJ0U3RyaW5nT3JVbmRlZmluZWQoZGlzcGxheU5hbWUsIGF1dGgubmFtZSk7XG4gICAgYXNzZXJ0U3RyaW5nT3JVbmRlZmluZWQoZW1haWwsIGF1dGgubmFtZSk7XG4gICAgX2Fzc2VydChcbiAgICAgIHR5cGVvZiBlbWFpbFZlcmlmaWVkID09PSAnYm9vbGVhbicsXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgICk7XG4gICAgX2Fzc2VydChcbiAgICAgIHR5cGVvZiBpc0Fub255bW91cyA9PT0gJ2Jvb2xlYW4nLFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICApO1xuICAgIGFzc2VydFN0cmluZ09yVW5kZWZpbmVkKHBob25lTnVtYmVyLCBhdXRoLm5hbWUpO1xuICAgIGFzc2VydFN0cmluZ09yVW5kZWZpbmVkKHBob3RvVVJMLCBhdXRoLm5hbWUpO1xuICAgIGFzc2VydFN0cmluZ09yVW5kZWZpbmVkKHRlbmFudElkLCBhdXRoLm5hbWUpO1xuICAgIGFzc2VydFN0cmluZ09yVW5kZWZpbmVkKF9yZWRpcmVjdEV2ZW50SWQsIGF1dGgubmFtZSk7XG4gICAgYXNzZXJ0U3RyaW5nT3JVbmRlZmluZWQoY3JlYXRlZEF0LCBhdXRoLm5hbWUpO1xuICAgIGFzc2VydFN0cmluZ09yVW5kZWZpbmVkKGxhc3RMb2dpbkF0LCBhdXRoLm5hbWUpO1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlckltcGwoe1xuICAgICAgdWlkLFxuICAgICAgYXV0aCxcbiAgICAgIGVtYWlsLFxuICAgICAgZW1haWxWZXJpZmllZCxcbiAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgaXNBbm9ueW1vdXMsXG4gICAgICBwaG90b1VSTCxcbiAgICAgIHBob25lTnVtYmVyLFxuICAgICAgdGVuYW50SWQsXG4gICAgICBzdHNUb2tlbk1hbmFnZXIsXG4gICAgICBjcmVhdGVkQXQsXG4gICAgICBsYXN0TG9naW5BdFxuICAgIH0pO1xuXG4gICAgaWYgKHByb3ZpZGVyRGF0YSAmJiBBcnJheS5pc0FycmF5KHByb3ZpZGVyRGF0YSkpIHtcbiAgICAgIHVzZXIucHJvdmlkZXJEYXRhID0gcHJvdmlkZXJEYXRhLm1hcCh1c2VySW5mbyA9PiAoeyAuLi51c2VySW5mbyB9KSk7XG4gICAgfVxuXG4gICAgaWYgKF9yZWRpcmVjdEV2ZW50SWQpIHtcbiAgICAgIHVzZXIuX3JlZGlyZWN0RXZlbnRJZCA9IF9yZWRpcmVjdEV2ZW50SWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVzZXI7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIFVzZXIgZnJvbSBhbiBpZFRva2VuIHNlcnZlciByZXNwb25zZVxuICAgKiBAcGFyYW0gYXV0aFxuICAgKiBAcGFyYW0gaWRUb2tlblJlc3BvbnNlXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgX2Zyb21JZFRva2VuUmVzcG9uc2UoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGlkVG9rZW5SZXNwb25zZTogSWRUb2tlblJlc3BvbnNlLFxuICAgIGlzQW5vbnltb3VzOiBib29sZWFuID0gZmFsc2VcbiAgKTogUHJvbWlzZTxVc2VySW50ZXJuYWw+IHtcbiAgICBjb25zdCBzdHNUb2tlbk1hbmFnZXIgPSBuZXcgU3RzVG9rZW5NYW5hZ2VyKCk7XG4gICAgc3RzVG9rZW5NYW5hZ2VyLnVwZGF0ZUZyb21TZXJ2ZXJSZXNwb25zZShpZFRva2VuUmVzcG9uc2UpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgRmlyZWJhc2UgQXV0aCB1c2VyLlxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlckltcGwoe1xuICAgICAgdWlkOiBpZFRva2VuUmVzcG9uc2UubG9jYWxJZCxcbiAgICAgIGF1dGgsXG4gICAgICBzdHNUb2tlbk1hbmFnZXIsXG4gICAgICBpc0Fub255bW91c1xuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlcyB0aGUgdXNlciBpbmZvIGFuZCBkYXRhIGFuZCByZXNvbHZlcyB3aXRoIGEgdXNlciBpbnN0YW5jZS5cbiAgICBhd2FpdCBfcmVsb2FkV2l0aG91dFNhdmluZyh1c2VyKTtcbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgVXNlciBmcm9tIGFuIGlkVG9rZW4gc2VydmVyIHJlc3BvbnNlXG4gICAqIEBwYXJhbSBhdXRoXG4gICAqIEBwYXJhbSBpZFRva2VuUmVzcG9uc2VcbiAgICovXG4gIHN0YXRpYyBhc3luYyBfZnJvbUdldEFjY291bnRJbmZvUmVzcG9uc2UoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIHJlc3BvbnNlOiBHZXRBY2NvdW50SW5mb1Jlc3BvbnNlLFxuICAgIGlkVG9rZW46IHN0cmluZ1xuICApOiBQcm9taXNlPFVzZXJJbnRlcm5hbD4ge1xuICAgIGNvbnN0IGNvcmVBY2NvdW50ID0gcmVzcG9uc2UudXNlcnNbMF07XG4gICAgX2Fzc2VydChjb3JlQWNjb3VudC5sb2NhbElkICE9PSB1bmRlZmluZWQsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuXG4gICAgY29uc3QgcHJvdmlkZXJEYXRhOiBVc2VySW5mb1tdID1cbiAgICAgIGNvcmVBY2NvdW50LnByb3ZpZGVyVXNlckluZm8gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGV4dHJhY3RQcm92aWRlckRhdGEoY29yZUFjY291bnQucHJvdmlkZXJVc2VySW5mbylcbiAgICAgICAgOiBbXTtcblxuICAgIGNvbnN0IGlzQW5vbnltb3VzID1cbiAgICAgICEoY29yZUFjY291bnQuZW1haWwgJiYgY29yZUFjY291bnQucGFzc3dvcmRIYXNoKSAmJiAhcHJvdmlkZXJEYXRhPy5sZW5ndGg7XG5cbiAgICBjb25zdCBzdHNUb2tlbk1hbmFnZXIgPSBuZXcgU3RzVG9rZW5NYW5hZ2VyKCk7XG4gICAgc3RzVG9rZW5NYW5hZ2VyLnVwZGF0ZUZyb21JZFRva2VuKGlkVG9rZW4pO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgRmlyZWJhc2UgQXV0aCB1c2VyLlxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlckltcGwoe1xuICAgICAgdWlkOiBjb3JlQWNjb3VudC5sb2NhbElkLFxuICAgICAgYXV0aCxcbiAgICAgIHN0c1Rva2VuTWFuYWdlcixcbiAgICAgIGlzQW5vbnltb3VzXG4gICAgfSk7XG5cbiAgICAvLyB1cGRhdGUgdGhlIHVzZXIgd2l0aCBkYXRhIGZyb20gdGhlIEdldEFjY291bnRJbmZvIHJlc3BvbnNlLlxuICAgIGNvbnN0IHVwZGF0ZXM6IFBhcnRpYWw8VXNlckludGVybmFsPiA9IHtcbiAgICAgIHVpZDogY29yZUFjY291bnQubG9jYWxJZCxcbiAgICAgIGRpc3BsYXlOYW1lOiBjb3JlQWNjb3VudC5kaXNwbGF5TmFtZSB8fCBudWxsLFxuICAgICAgcGhvdG9VUkw6IGNvcmVBY2NvdW50LnBob3RvVXJsIHx8IG51bGwsXG4gICAgICBlbWFpbDogY29yZUFjY291bnQuZW1haWwgfHwgbnVsbCxcbiAgICAgIGVtYWlsVmVyaWZpZWQ6IGNvcmVBY2NvdW50LmVtYWlsVmVyaWZpZWQgfHwgZmFsc2UsXG4gICAgICBwaG9uZU51bWJlcjogY29yZUFjY291bnQucGhvbmVOdW1iZXIgfHwgbnVsbCxcbiAgICAgIHRlbmFudElkOiBjb3JlQWNjb3VudC50ZW5hbnRJZCB8fCBudWxsLFxuICAgICAgcHJvdmlkZXJEYXRhLFxuICAgICAgbWV0YWRhdGE6IG5ldyBVc2VyTWV0YWRhdGEoXG4gICAgICAgIGNvcmVBY2NvdW50LmNyZWF0ZWRBdCxcbiAgICAgICAgY29yZUFjY291bnQubGFzdExvZ2luQXRcbiAgICAgICksXG4gICAgICBpc0Fub255bW91czpcbiAgICAgICAgIShjb3JlQWNjb3VudC5lbWFpbCAmJiBjb3JlQWNjb3VudC5wYXNzd29yZEhhc2gpICYmXG4gICAgICAgICFwcm92aWRlckRhdGE/Lmxlbmd0aFxuICAgIH07XG5cbiAgICBPYmplY3QuYXNzaWduKHVzZXIsIHVwZGF0ZXMpO1xuICAgIHJldHVybiB1c2VyO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgZGVidWdBc3NlcnQgfSBmcm9tICcuL2Fzc2VydCc7XG5cbi8qKlxuICogT3VyIEFQSSBoYXMgYSBsb3Qgb2Ygb25lLW9mZiBjb25zdGFudHMgdGhhdCBhcmUgdXNlZCB0byBkbyB0aGluZ3MuXG4gKiBVbmZvcnR1bmF0ZWx5IHdlIGNhbid0IGV4cG9ydCB0aGVzZSBhcyBjbGFzc2VzIGluc3RhbnRpYXRlZCBkaXJlY3RseSBzaW5jZVxuICogdGhlIGNvbnN0cnVjdG9yIG1heSBzaWRlIGVmZmVjdCBhbmQgdGhlcmVmb3JlIGNhbid0IGJlIHByb3ZlbiB0byBiZSBzYWZlbHlcbiAqIGN1bGxlZC4gSW5zdGVhZCwgd2UgZXhwb3J0IHRoZXNlIGNsYXNzZXMgdGhlbXNlbHZlcyBhcyBhIGxvd2VyQ2FtZWxDYXNlXG4gKiBjb25zdGFudCwgYW5kIGluc3RhbnRpYXRlIHRoZW0gdW5kZXIgdGhlIGhvb2QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2luZ2xldG9uSW5zdGFudGlhdG9yPFQ+IHtcbiAgbmV3ICgpOiBUO1xufVxuXG5jb25zdCBpbnN0YW5jZUNhY2hlOiBNYXA8dW5rbm93biwgdW5rbm93bj4gPSBuZXcgTWFwKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0SW5zdGFuY2U8VD4oY2xzOiB1bmtub3duKTogVCB7XG4gIGRlYnVnQXNzZXJ0KGNscyBpbnN0YW5jZW9mIEZ1bmN0aW9uLCAnRXhwZWN0ZWQgYSBjbGFzcyBkZWZpbml0aW9uJyk7XG4gIGxldCBpbnN0YW5jZSA9IGluc3RhbmNlQ2FjaGUuZ2V0KGNscykgYXMgVCB8IHVuZGVmaW5lZDtcblxuICBpZiAoaW5zdGFuY2UpIHtcbiAgICBkZWJ1Z0Fzc2VydChcbiAgICAgIGluc3RhbmNlIGluc3RhbmNlb2YgY2xzLFxuICAgICAgJ0luc3RhbmNlIHN0b3JlZCBpbiBjYWNoZSBtaXNtYXRjaGVkIHdpdGggY2xhc3MnXG4gICAgKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICBpbnN0YW5jZSA9IG5ldyAoY2xzIGFzIFNpbmdsZXRvbkluc3RhbnRpYXRvcjxUPikoKTtcbiAgaW5zdGFuY2VDYWNoZS5zZXQoY2xzLCBpbnN0YW5jZSk7XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9jbGVhckluc3RhbmNlTWFwKCk6IHZvaWQge1xuICBpbnN0YW5jZUNhY2hlLmNsZWFyKCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGVyc2lzdGVuY2UgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQge1xuICBQZXJzaXN0ZW5jZUludGVybmFsLFxuICBQZXJzaXN0ZW5jZVR5cGUsXG4gIFBlcnNpc3RlbmNlVmFsdWUsXG4gIFN0b3JhZ2VFdmVudExpc3RlbmVyXG59IGZyb20gJy4uL3BlcnNpc3RlbmNlJztcblxuZXhwb3J0IGNsYXNzIEluTWVtb3J5UGVyc2lzdGVuY2UgaW1wbGVtZW50cyBQZXJzaXN0ZW5jZUludGVybmFsIHtcbiAgc3RhdGljIHR5cGU6ICdOT05FJyA9ICdOT05FJztcbiAgcmVhZG9ubHkgdHlwZSA9IFBlcnNpc3RlbmNlVHlwZS5OT05FO1xuICBzdG9yYWdlOiBSZWNvcmQ8c3RyaW5nLCBQZXJzaXN0ZW5jZVZhbHVlPiA9IHt9O1xuXG4gIGFzeW5jIF9pc0F2YWlsYWJsZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIF9zZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBQZXJzaXN0ZW5jZVZhbHVlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5zdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIGFzeW5jIF9nZXQ8VCBleHRlbmRzIFBlcnNpc3RlbmNlVmFsdWU+KGtleTogc3RyaW5nKTogUHJvbWlzZTxUIHwgbnVsbD4ge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5zdG9yYWdlW2tleV07XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogKHZhbHVlIGFzIFQpO1xuICB9XG5cbiAgYXN5bmMgX3JlbW92ZShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGRlbGV0ZSB0aGlzLnN0b3JhZ2Vba2V5XTtcbiAgfVxuXG4gIF9hZGRMaXN0ZW5lcihfa2V5OiBzdHJpbmcsIF9saXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICAvLyBMaXN0ZW5lcnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIGluLW1lbW9yeSBzdG9yYWdlIHNpbmNlIGl0IGNhbm5vdCBiZSBzaGFyZWQgYWNyb3NzIHdpbmRvd3Mvd29ya2Vyc1xuICAgIHJldHVybjtcbiAgfVxuXG4gIF9yZW1vdmVMaXN0ZW5lcihfa2V5OiBzdHJpbmcsIF9saXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICAvLyBMaXN0ZW5lcnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIGluLW1lbW9yeSBzdG9yYWdlIHNpbmNlIGl0IGNhbm5vdCBiZSBzaGFyZWQgYWNyb3NzIHdpbmRvd3Mvd29ya2Vyc1xuICAgIHJldHVybjtcbiAgfVxufVxuXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBQZXJzaXN0ZW5jZX0gb2YgdHlwZSAnTk9ORScuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgaW5NZW1vcnlQZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2UgPSBJbk1lbW9yeVBlcnNpc3RlbmNlO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFwaUtleSwgQXBwTmFtZSwgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IFBlcnNpc3RlZEJsb2IsIFBlcnNpc3RlbmNlSW50ZXJuYWwgfSBmcm9tICcuLi9wZXJzaXN0ZW5jZSc7XG5pbXBvcnQgeyBVc2VySW1wbCB9IGZyb20gJy4uL3VzZXIvdXNlcl9pbXBsJztcbmltcG9ydCB7IF9nZXRJbnN0YW5jZSB9IGZyb20gJy4uL3V0aWwvaW5zdGFudGlhdG9yJztcbmltcG9ydCB7IGluTWVtb3J5UGVyc2lzdGVuY2UgfSBmcm9tICcuL2luX21lbW9yeSc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIEtleU5hbWUge1xuICBBVVRIX1VTRVIgPSAnYXV0aFVzZXInLFxuICBBVVRIX0VWRU5UID0gJ2F1dGhFdmVudCcsXG4gIFJFRElSRUNUX1VTRVIgPSAncmVkaXJlY3RVc2VyJyxcbiAgUEVSU0lTVEVOQ0VfVVNFUiA9ICdwZXJzaXN0ZW5jZSdcbn1cbmV4cG9ydCBjb25zdCBlbnVtIE5hbWVzcGFjZSB7XG4gIFBFUlNJU1RFTkNFID0gJ2ZpcmViYXNlJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3BlcnNpc3RlbmNlS2V5TmFtZShcbiAga2V5OiBzdHJpbmcsXG4gIGFwaUtleTogQXBpS2V5LFxuICBhcHBOYW1lOiBBcHBOYW1lXG4pOiBzdHJpbmcge1xuICByZXR1cm4gYCR7TmFtZXNwYWNlLlBFUlNJU1RFTkNFfToke2tleX06JHthcGlLZXl9OiR7YXBwTmFtZX1gO1xufVxuXG5leHBvcnQgY2xhc3MgUGVyc2lzdGVuY2VVc2VyTWFuYWdlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZnVsbFVzZXJLZXk6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBmdWxsUGVyc2lzdGVuY2VLZXk6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBib3VuZEV2ZW50SGFuZGxlcjogKCkgPT4gdm9pZDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBwZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2VJbnRlcm5hbCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHVzZXJLZXk6IHN0cmluZ1xuICApIHtcbiAgICBjb25zdCB7IGNvbmZpZywgbmFtZSB9ID0gdGhpcy5hdXRoO1xuICAgIHRoaXMuZnVsbFVzZXJLZXkgPSBfcGVyc2lzdGVuY2VLZXlOYW1lKHRoaXMudXNlcktleSwgY29uZmlnLmFwaUtleSwgbmFtZSk7XG4gICAgdGhpcy5mdWxsUGVyc2lzdGVuY2VLZXkgPSBfcGVyc2lzdGVuY2VLZXlOYW1lKFxuICAgICAgS2V5TmFtZS5QRVJTSVNURU5DRV9VU0VSLFxuICAgICAgY29uZmlnLmFwaUtleSxcbiAgICAgIG5hbWVcbiAgICApO1xuICAgIHRoaXMuYm91bmRFdmVudEhhbmRsZXIgPSBhdXRoLl9vblN0b3JhZ2VFdmVudC5iaW5kKGF1dGgpO1xuICAgIHRoaXMucGVyc2lzdGVuY2UuX2FkZExpc3RlbmVyKHRoaXMuZnVsbFVzZXJLZXksIHRoaXMuYm91bmRFdmVudEhhbmRsZXIpO1xuICB9XG5cbiAgc2V0Q3VycmVudFVzZXIodXNlcjogVXNlckludGVybmFsKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuX3NldCh0aGlzLmZ1bGxVc2VyS2V5LCB1c2VyLnRvSlNPTigpKTtcbiAgfVxuXG4gIGFzeW5jIGdldEN1cnJlbnRVc2VyKCk6IFByb21pc2U8VXNlckludGVybmFsIHwgbnVsbD4ge1xuICAgIGNvbnN0IGJsb2IgPSBhd2FpdCB0aGlzLnBlcnNpc3RlbmNlLl9nZXQ8UGVyc2lzdGVkQmxvYj4odGhpcy5mdWxsVXNlcktleSk7XG4gICAgcmV0dXJuIGJsb2IgPyBVc2VySW1wbC5fZnJvbUpTT04odGhpcy5hdXRoLCBibG9iKSA6IG51bGw7XG4gIH1cblxuICByZW1vdmVDdXJyZW50VXNlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5fcmVtb3ZlKHRoaXMuZnVsbFVzZXJLZXkpO1xuICB9XG5cbiAgc2F2ZVBlcnNpc3RlbmNlRm9yUmVkaXJlY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuX3NldChcbiAgICAgIHRoaXMuZnVsbFBlcnNpc3RlbmNlS2V5LFxuICAgICAgdGhpcy5wZXJzaXN0ZW5jZS50eXBlXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIHNldFBlcnNpc3RlbmNlKG5ld1BlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZUludGVybmFsKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMucGVyc2lzdGVuY2UgPT09IG5ld1BlcnNpc3RlbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudFVzZXIgPSBhd2FpdCB0aGlzLmdldEN1cnJlbnRVc2VyKCk7XG4gICAgYXdhaXQgdGhpcy5yZW1vdmVDdXJyZW50VXNlcigpO1xuXG4gICAgdGhpcy5wZXJzaXN0ZW5jZSA9IG5ld1BlcnNpc3RlbmNlO1xuXG4gICAgaWYgKGN1cnJlbnRVc2VyKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VXNlcihjdXJyZW50VXNlcik7XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlKCk6IHZvaWQge1xuICAgIHRoaXMucGVyc2lzdGVuY2UuX3JlbW92ZUxpc3RlbmVyKHRoaXMuZnVsbFVzZXJLZXksIHRoaXMuYm91bmRFdmVudEhhbmRsZXIpO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZShcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgcGVyc2lzdGVuY2VIaWVyYXJjaHk6IFBlcnNpc3RlbmNlSW50ZXJuYWxbXSxcbiAgICB1c2VyS2V5ID0gS2V5TmFtZS5BVVRIX1VTRVJcbiAgKTogUHJvbWlzZTxQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyPiB7XG4gICAgaWYgKCFwZXJzaXN0ZW5jZUhpZXJhcmNoeS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VVc2VyTWFuYWdlcihcbiAgICAgICAgX2dldEluc3RhbmNlKGluTWVtb3J5UGVyc2lzdGVuY2UpLFxuICAgICAgICBhdXRoLFxuICAgICAgICB1c2VyS2V5XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEVsaW1pbmF0ZSBhbnkgcGVyc2lzdGVuY2VzIHRoYXQgYXJlIG5vdCBhdmFpbGFibGVcbiAgICBjb25zdCBhdmFpbGFibGVQZXJzaXN0ZW5jZXMgPSAoXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgcGVyc2lzdGVuY2VIaWVyYXJjaHkubWFwKGFzeW5jIHBlcnNpc3RlbmNlID0+IHtcbiAgICAgICAgICBpZiAoYXdhaXQgcGVyc2lzdGVuY2UuX2lzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwZXJzaXN0ZW5jZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApLmZpbHRlcihwZXJzaXN0ZW5jZSA9PiBwZXJzaXN0ZW5jZSkgYXMgUGVyc2lzdGVuY2VJbnRlcm5hbFtdO1xuXG4gICAgLy8gRmFsbCBiYWNrIHRvIHRoZSBmaXJzdCBwZXJzaXN0ZW5jZSBsaXN0ZWQsIG9yIGluIG1lbW9yeSBpZiBub25lIGF2YWlsYWJsZVxuICAgIGxldCBzZWxlY3RlZFBlcnNpc3RlbmNlID1cbiAgICAgIGF2YWlsYWJsZVBlcnNpc3RlbmNlc1swXSB8fFxuICAgICAgX2dldEluc3RhbmNlPFBlcnNpc3RlbmNlSW50ZXJuYWw+KGluTWVtb3J5UGVyc2lzdGVuY2UpO1xuXG4gICAgY29uc3Qga2V5ID0gX3BlcnNpc3RlbmNlS2V5TmFtZSh1c2VyS2V5LCBhdXRoLmNvbmZpZy5hcGlLZXksIGF1dGgubmFtZSk7XG5cbiAgICAvLyBQdWxsIG91dCB0aGUgZXhpc3RpbmcgdXNlciwgc2V0dGluZyB0aGUgY2hvc2VuIHBlcnNpc3RlbmNlIHRvIHRoYXRcbiAgICAvLyBwZXJzaXN0ZW5jZSBpZiB0aGUgdXNlciBleGlzdHMuXG4gICAgbGV0IHVzZXJUb01pZ3JhdGU6IFVzZXJJbnRlcm5hbCB8IG51bGwgPSBudWxsO1xuICAgIC8vIE5vdGUsIGhlcmUgd2UgY2hlY2sgZm9yIGEgdXNlciBpbiBfYWxsXyBwZXJzaXN0ZW5jZXMsIG5vdCBqdXN0IHRoZVxuICAgIC8vIG9uZXMgZGVlbWVkIGF2YWlsYWJsZS4gSWYgd2UgY2FuIG1pZ3JhdGUgYSB1c2VyIG91dCBvZiBhIGJyb2tlblxuICAgIC8vIHBlcnNpc3RlbmNlLCB3ZSB3aWxsIChidXQgb25seSBpZiB0aGF0IHBlcnNpc3RlbmNlIHN1cHBvcnRzIG1pZ3JhdGlvbikuXG4gICAgZm9yIChjb25zdCBwZXJzaXN0ZW5jZSBvZiBwZXJzaXN0ZW5jZUhpZXJhcmNoeSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHBlcnNpc3RlbmNlLl9nZXQ8UGVyc2lzdGVkQmxvYj4oa2V5KTtcbiAgICAgICAgaWYgKGJsb2IpIHtcbiAgICAgICAgICBjb25zdCB1c2VyID0gVXNlckltcGwuX2Zyb21KU09OKGF1dGgsIGJsb2IpOyAvLyB0aHJvd3MgZm9yIHVucGFyc2FibGUgYmxvYiAod3JvbmcgZm9ybWF0KVxuICAgICAgICAgIGlmIChwZXJzaXN0ZW5jZSAhPT0gc2VsZWN0ZWRQZXJzaXN0ZW5jZSkge1xuICAgICAgICAgICAgdXNlclRvTWlncmF0ZSA9IHVzZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGVjdGVkUGVyc2lzdGVuY2UgPSBwZXJzaXN0ZW5jZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgIH1cblxuICAgIC8vIElmIHdlIGZpbmQgdGhlIHVzZXIgaW4gYSBwZXJzaXN0ZW5jZSB0aGF0IGRvZXMgc3VwcG9ydCBtaWdyYXRpb24sIHVzZVxuICAgIC8vIHRoYXQgbWlncmF0aW9uIHBhdGggKG9mIG9ubHkgcGVyc2lzdGVuY2VzIHRoYXQgc3VwcG9ydCBtaWdyYXRpb24pXG4gICAgY29uc3QgbWlncmF0aW9uSGllcmFyY2h5ID0gYXZhaWxhYmxlUGVyc2lzdGVuY2VzLmZpbHRlcihcbiAgICAgIHAgPT4gcC5fc2hvdWxkQWxsb3dNaWdyYXRpb25cbiAgICApO1xuXG4gICAgLy8gSWYgdGhlIHBlcnNpc3RlbmNlIGRvZXMgX25vdF8gYWxsb3cgbWlncmF0aW9uLCBqdXN0IGZpbmlzaCBvZmYgaGVyZVxuICAgIGlmIChcbiAgICAgICFzZWxlY3RlZFBlcnNpc3RlbmNlLl9zaG91bGRBbGxvd01pZ3JhdGlvbiB8fFxuICAgICAgIW1pZ3JhdGlvbkhpZXJhcmNoeS5sZW5ndGhcbiAgICApIHtcbiAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VVc2VyTWFuYWdlcihzZWxlY3RlZFBlcnNpc3RlbmNlLCBhdXRoLCB1c2VyS2V5KTtcbiAgICB9XG5cbiAgICBzZWxlY3RlZFBlcnNpc3RlbmNlID0gbWlncmF0aW9uSGllcmFyY2h5WzBdO1xuICAgIGlmICh1c2VyVG9NaWdyYXRlKSB7XG4gICAgICAvLyBUaGlzIG5vcm1hbGx5IHNob3VsZG4ndCB0aHJvdyBzaW5jZSBjaG9zZW5QZXJzaXN0ZW5jZS5pc0F2YWlsYWJsZSgpIGlzIHRydWUsIGJ1dCBpZiBpdCBkb2VzXG4gICAgICAvLyB3ZSdsbCBqdXN0IGxldCBpdCBidWJibGUgdG8gc3VyZmFjZSB0aGUgZXJyb3IuXG4gICAgICBhd2FpdCBzZWxlY3RlZFBlcnNpc3RlbmNlLl9zZXQoa2V5LCB1c2VyVG9NaWdyYXRlLnRvSlNPTigpKTtcbiAgICB9XG5cbiAgICAvLyBBdHRlbXB0IHRvIGNsZWFyIHRoZSBrZXkgaW4gb3RoZXIgcGVyc2lzdGVuY2VzIGJ1dCBpZ25vcmUgZXJyb3JzLiBUaGlzIGhlbHBzIHByZXZlbnQgaXNzdWVzXG4gICAgLy8gc3VjaCBhcyB1c2VycyBnZXR0aW5nIHN0dWNrIHdpdGggYSBwcmV2aW91cyBhY2NvdW50IGFmdGVyIHNpZ25pbmcgb3V0IGFuZCByZWZyZXNoaW5nIHRoZSB0YWIuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBwZXJzaXN0ZW5jZUhpZXJhcmNoeS5tYXAoYXN5bmMgcGVyc2lzdGVuY2UgPT4ge1xuICAgICAgICBpZiAocGVyc2lzdGVuY2UgIT09IHNlbGVjdGVkUGVyc2lzdGVuY2UpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgcGVyc2lzdGVuY2UuX3JlbW92ZShrZXkpO1xuICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VVc2VyTWFuYWdlcihzZWxlY3RlZFBlcnNpc3RlbmNlLCBhdXRoLCB1c2VyS2V5KTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGlzSUUsIGdldFVBIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbnRlcmZhY2UgTmF2aWdhdG9yU3RhbmRhbG9uZSBleHRlbmRzIE5hdmlnYXRvciB7XG4gIHN0YW5kYWxvbmU/OiB1bmtub3duO1xufVxuXG5pbnRlcmZhY2UgRG9jdW1lbnQge1xuICBkb2N1bWVudE1vZGU/OiBudW1iZXI7XG59XG5cbi8qKlxuICogRW51bXMgZm9yIEJyb3dzZXIgbmFtZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGVudW0gQnJvd3Nlck5hbWUge1xuICBBTkRST0lEID0gJ0FuZHJvaWQnLFxuICBCTEFDS0JFUlJZID0gJ0JsYWNrYmVycnknLFxuICBFREdFID0gJ0VkZ2UnLFxuICBGSVJFRk9YID0gJ0ZpcmVmb3gnLFxuICBJRSA9ICdJRScsXG4gIElFTU9CSUxFID0gJ0lFTW9iaWxlJyxcbiAgT1BFUkEgPSAnT3BlcmEnLFxuICBPVEhFUiA9ICdPdGhlcicsXG4gIENIUk9NRSA9ICdDaHJvbWUnLFxuICBTQUZBUkkgPSAnU2FmYXJpJyxcbiAgU0lMSyA9ICdTaWxrJyxcbiAgV0VCT1MgPSAnV2Vib3MnXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSBicm93c2VyIGZvciB0aGUgcHVycG9zZXMgb2YgcmVwb3J0aW5nIHVzYWdlIHRvIHRoZSBBUElcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9nZXRCcm93c2VyTmFtZSh1c2VyQWdlbnQ6IHN0cmluZyk6IEJyb3dzZXJOYW1lIHwgc3RyaW5nIHtcbiAgY29uc3QgdWEgPSB1c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgaWYgKHVhLmluY2x1ZGVzKCdvcGVyYS8nKSB8fCB1YS5pbmNsdWRlcygnb3ByLycpIHx8IHVhLmluY2x1ZGVzKCdvcGlvcy8nKSkge1xuICAgIHJldHVybiBCcm93c2VyTmFtZS5PUEVSQTtcbiAgfSBlbHNlIGlmIChfaXNJRU1vYmlsZSh1YSkpIHtcbiAgICAvLyBXaW5kb3dzIHBob25lIElFTW9iaWxlIGJyb3dzZXIuXG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLklFTU9CSUxFO1xuICB9IGVsc2UgaWYgKHVhLmluY2x1ZGVzKCdtc2llJykgfHwgdWEuaW5jbHVkZXMoJ3RyaWRlbnQvJykpIHtcbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuSUU7XG4gIH0gZWxzZSBpZiAodWEuaW5jbHVkZXMoJ2VkZ2UvJykpIHtcbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuRURHRTtcbiAgfSBlbHNlIGlmIChfaXNGaXJlZm94KHVhKSkge1xuICAgIHJldHVybiBCcm93c2VyTmFtZS5GSVJFRk9YO1xuICB9IGVsc2UgaWYgKHVhLmluY2x1ZGVzKCdzaWxrLycpKSB7XG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLlNJTEs7XG4gIH0gZWxzZSBpZiAoX2lzQmxhY2tCZXJyeSh1YSkpIHtcbiAgICAvLyBCbGFja2JlcnJ5IGJyb3dzZXIuXG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLkJMQUNLQkVSUlk7XG4gIH0gZWxzZSBpZiAoX2lzV2ViT1ModWEpKSB7XG4gICAgLy8gV2ViT1MgZGVmYXVsdCBicm93c2VyLlxuICAgIHJldHVybiBCcm93c2VyTmFtZS5XRUJPUztcbiAgfSBlbHNlIGlmIChfaXNTYWZhcmkodWEpKSB7XG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLlNBRkFSSTtcbiAgfSBlbHNlIGlmIChcbiAgICAodWEuaW5jbHVkZXMoJ2Nocm9tZS8nKSB8fCBfaXNDaHJvbWVJT1ModWEpKSAmJlxuICAgICF1YS5pbmNsdWRlcygnZWRnZS8nKVxuICApIHtcbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuQ0hST01FO1xuICB9IGVsc2UgaWYgKF9pc0FuZHJvaWQodWEpKSB7XG4gICAgLy8gQW5kcm9pZCBzdG9jayBicm93c2VyLlxuICAgIHJldHVybiBCcm93c2VyTmFtZS5BTkRST0lEO1xuICB9IGVsc2Uge1xuICAgIC8vIE1vc3QgbW9kZXJuIGJyb3dzZXJzIGhhdmUgbmFtZS92ZXJzaW9uIGF0IGVuZCBvZiB1c2VyIGFnZW50IHN0cmluZy5cbiAgICBjb25zdCByZSA9IC8oW2EtekEtWlxcZFxcLl0rKVxcL1thLXpBLVpcXGRcXC5dKiQvO1xuICAgIGNvbnN0IG1hdGNoZXMgPSB1c2VyQWdlbnQubWF0Y2gocmUpO1xuICAgIGlmIChtYXRjaGVzPy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzWzFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gQnJvd3Nlck5hbWUuT1RIRVI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNGaXJlZm94KHVhID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gL2ZpcmVmb3hcXC8vaS50ZXN0KHVhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc1NhZmFyaSh1c2VyQWdlbnQgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIGNvbnN0IHVhID0gdXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAoXG4gICAgdWEuaW5jbHVkZXMoJ3NhZmFyaS8nKSAmJlxuICAgICF1YS5pbmNsdWRlcygnY2hyb21lLycpICYmXG4gICAgIXVhLmluY2x1ZGVzKCdjcmlvcy8nKSAmJlxuICAgICF1YS5pbmNsdWRlcygnYW5kcm9pZCcpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNDaHJvbWVJT1ModWEgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIHJldHVybiAvY3Jpb3NcXC8vaS50ZXN0KHVhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0lFTW9iaWxlKHVhID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gL2llbW9iaWxlL2kudGVzdCh1YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNBbmRyb2lkKHVhID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gL2FuZHJvaWQvaS50ZXN0KHVhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0JsYWNrQmVycnkodWEgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIHJldHVybiAvYmxhY2tiZXJyeS9pLnRlc3QodWEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzV2ViT1ModWEgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIHJldHVybiAvd2Vib3MvaS50ZXN0KHVhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0lPUyh1YSA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICAvaXBob25lfGlwYWR8aXBvZC9pLnRlc3QodWEpIHx8XG4gICAgKC9tYWNpbnRvc2gvaS50ZXN0KHVhKSAmJiAvbW9iaWxlL2kudGVzdCh1YSkpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNJT1M3T3I4KHVhID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIC8oaVBhZHxpUGhvbmV8aVBvZCkuKk9TIDdfXFxkL2kudGVzdCh1YSkgfHxcbiAgICAvKGlQYWR8aVBob25lfGlQb2QpLipPUyA4X1xcZC9pLnRlc3QodWEpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNJT1NTdGFuZGFsb25lKHVhID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gX2lzSU9TKHVhKSAmJiAhISh3aW5kb3cubmF2aWdhdG9yIGFzIE5hdmlnYXRvclN0YW5kYWxvbmUpPy5zdGFuZGFsb25lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzSUUxMCgpOiBib29sZWFuIHtcbiAgcmV0dXJuIGlzSUUoKSAmJiAoZG9jdW1lbnQgYXMgRG9jdW1lbnQpLmRvY3VtZW50TW9kZSA9PT0gMTA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNNb2JpbGVCcm93c2VyKHVhOiBzdHJpbmcgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIC8vIFRPRE86IGltcGxlbWVudCBnZXRCcm93c2VyTmFtZSBlcXVpdmFsZW50IGZvciBPUy5cbiAgcmV0dXJuIChcbiAgICBfaXNJT1ModWEpIHx8XG4gICAgX2lzQW5kcm9pZCh1YSkgfHxcbiAgICBfaXNXZWJPUyh1YSkgfHxcbiAgICBfaXNCbGFja0JlcnJ5KHVhKSB8fFxuICAgIC93aW5kb3dzIHBob25lL2kudGVzdCh1YSkgfHxcbiAgICBfaXNJRU1vYmlsZSh1YSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0lmcmFtZSgpOiBib29sZWFuIHtcbiAgdHJ5IHtcbiAgICAvLyBDaGVjayB0aGF0IHRoZSBjdXJyZW50IHdpbmRvdyBpcyBub3QgdGhlIHRvcCB3aW5kb3cuXG4gICAgLy8gSWYgc28sIHJldHVybiB0cnVlLlxuICAgIHJldHVybiAhISh3aW5kb3cgJiYgd2luZG93ICE9PSB3aW5kb3cudG9wKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFNES19WRVJTSU9OIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBfZ2V0QnJvd3Nlck5hbWUgfSBmcm9tICcuL2Jyb3dzZXInO1xuaW1wb3J0IHsgZ2V0VUEgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIENsaWVudEltcGxlbWVudGF0aW9uIHtcbiAgQ09SRSA9ICdKc0NvcmUnXG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIENsaWVudFBsYXRmb3JtIHtcbiAgQlJPV1NFUiA9ICdCcm93c2VyJyxcbiAgTk9ERSA9ICdOb2RlJyxcbiAgUkVBQ1RfTkFUSVZFID0gJ1JlYWN0TmF0aXZlJyxcbiAgQ09SRE9WQSA9ICdDb3Jkb3ZhJyxcbiAgV09SS0VSID0gJ1dvcmtlcicsXG4gIFdFQl9FWFRFTlNJT04gPSAnV2ViRXh0ZW5zaW9uJ1xufVxuXG4vKlxuICogRGV0ZXJtaW5lIHRoZSBTREsgdmVyc2lvbiBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9nZXRDbGllbnRWZXJzaW9uKFxuICBjbGllbnRQbGF0Zm9ybTogQ2xpZW50UGxhdGZvcm0sXG4gIGZyYW1ld29ya3M6IHJlYWRvbmx5IHN0cmluZ1tdID0gW11cbik6IHN0cmluZyB7XG4gIGxldCByZXBvcnRlZFBsYXRmb3JtOiBzdHJpbmc7XG4gIHN3aXRjaCAoY2xpZW50UGxhdGZvcm0pIHtcbiAgICBjYXNlIENsaWVudFBsYXRmb3JtLkJST1dTRVI6XG4gICAgICAvLyBJbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQsIHJlcG9ydCB0aGUgYnJvd3NlciBuYW1lLlxuICAgICAgcmVwb3J0ZWRQbGF0Zm9ybSA9IF9nZXRCcm93c2VyTmFtZShnZXRVQSgpKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQ2xpZW50UGxhdGZvcm0uV09SS0VSOlxuICAgICAgLy8gVGVjaG5pY2FsbHkgYSB3b3JrZXIgcnVucyBmcm9tIGEgYnJvd3NlciBidXQgd2UgbmVlZCB0byBkaWZmZXJlbnRpYXRlIGFcbiAgICAgIC8vIHdvcmtlciBmcm9tIGEgYnJvd3Nlci5cbiAgICAgIC8vIEZvciBleGFtcGxlOiBDaHJvbWUtV29ya2VyL0pzQ29yZS80LjkuMS9GaXJlYmFzZUNvcmUtd2ViLlxuICAgICAgcmVwb3J0ZWRQbGF0Zm9ybSA9IGAke19nZXRCcm93c2VyTmFtZShnZXRVQSgpKX0tJHtjbGllbnRQbGF0Zm9ybX1gO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJlcG9ydGVkUGxhdGZvcm0gPSBjbGllbnRQbGF0Zm9ybTtcbiAgfVxuICBjb25zdCByZXBvcnRlZEZyYW1ld29ya3MgPSBmcmFtZXdvcmtzLmxlbmd0aFxuICAgID8gZnJhbWV3b3Jrcy5qb2luKCcsJylcbiAgICA6ICdGaXJlYmFzZUNvcmUtd2ViJzsgLyogZGVmYXVsdCB2YWx1ZSBpZiBubyBvdGhlciBmcmFtZXdvcmsgaXMgdXNlZCAqL1xuICByZXR1cm4gYCR7cmVwb3J0ZWRQbGF0Zm9ybX0vJHtDbGllbnRJbXBsZW1lbnRhdGlvbi5DT1JFfS8ke1NES19WRVJTSU9OfS8ke3JlcG9ydGVkRnJhbWV3b3Jrc31gO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgVW5zdWJzY3JpYmUsIFVzZXIgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5cbmludGVyZmFjZSBNaWRkbGV3YXJlRW50cnkge1xuICAodXNlcjogVXNlciB8IG51bGwpOiBQcm9taXNlPHZvaWQ+O1xuICBvbkFib3J0PzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhNaWRkbGV3YXJlUXVldWUge1xuICBwcml2YXRlIHJlYWRvbmx5IHF1ZXVlOiBNaWRkbGV3YXJlRW50cnlbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsKSB7fVxuXG4gIHB1c2hDYWxsYmFjayhcbiAgICBjYWxsYmFjazogKHVzZXI6IFVzZXIgfCBudWxsKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgICBvbkFib3J0PzogKCkgPT4gdm9pZFxuICApOiBVbnN1YnNjcmliZSB7XG4gICAgLy8gVGhlIGNhbGxiYWNrIGNvdWxkIGJlIHN5bmMgb3IgYXN5bmMuIFdyYXAgaXQgaW50byBhXG4gICAgLy8gZnVuY3Rpb24gdGhhdCBpcyBhbHdheXMgYXN5bmMuXG4gICAgY29uc3Qgd3JhcHBlZENhbGxiYWNrOiBNaWRkbGV3YXJlRW50cnkgPSAoXG4gICAgICB1c2VyOiBVc2VyIHwgbnVsbFxuICAgICk6IFByb21pc2U8dm9pZD4gPT5cbiAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBjYWxsYmFjayh1c2VyKTtcbiAgICAgICAgICAvLyBFaXRoZXIgcmVzb2x2ZSB3aXRoIGV4aXN0aW5nIHByb21pc2Ugb3Igd3JhcCBhIG5vbi1wcm9taXNlXG4gICAgICAgICAgLy8gcmV0dXJuIHZhbHVlIGludG8gYSBwcm9taXNlLlxuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIFN5bmMgY2FsbGJhY2sgdGhyb3dzLlxuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgLy8gQXR0YWNoIHRoZSBvbkFib3J0IGlmIHByZXNlbnRcbiAgICB3cmFwcGVkQ2FsbGJhY2sub25BYm9ydCA9IG9uQWJvcnQ7XG4gICAgdGhpcy5xdWV1ZS5wdXNoKHdyYXBwZWRDYWxsYmFjayk7XG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMucXVldWUubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gVW5zdWJzY3JpYmUuIFJlcGxhY2Ugd2l0aCBuby1vcC4gRG8gbm90IHJlbW92ZSBmcm9tIGFycmF5LCBvciBpdCB3aWxsIGRpc3R1cmJcbiAgICAgIC8vIGluZGV4aW5nIG9mIG90aGVyIGVsZW1lbnRzLlxuICAgICAgdGhpcy5xdWV1ZVtpbmRleF0gPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgcnVuTWlkZGxld2FyZShuZXh0VXNlcjogVXNlciB8IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5hdXRoLmN1cnJlbnRVc2VyID09PSBuZXh0VXNlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdoaWxlIHJ1bm5pbmcgdGhlIG1pZGRsZXdhcmUsIGJ1aWxkIGEgdGVtcG9yYXJ5IHN0YWNrIG9mIG9uQWJvcnRcbiAgICAvLyBjYWxsYmFja3MgdG8gY2FsbCBpZiBvbmUgbWlkZGxld2FyZSBjYWxsYmFjayByZWplY3RzLlxuXG4gICAgY29uc3Qgb25BYm9ydFN0YWNrOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICAgIHRyeSB7XG4gICAgICBmb3IgKGNvbnN0IGJlZm9yZVN0YXRlQ2FsbGJhY2sgb2YgdGhpcy5xdWV1ZSkge1xuICAgICAgICBhd2FpdCBiZWZvcmVTdGF0ZUNhbGxiYWNrKG5leHRVc2VyKTtcblxuICAgICAgICAvLyBPbmx5IHB1c2ggdGhlIG9uQWJvcnQgaWYgdGhlIGNhbGxiYWNrIHN1Y2NlZWRzXG4gICAgICAgIGlmIChiZWZvcmVTdGF0ZUNhbGxiYWNrLm9uQWJvcnQpIHtcbiAgICAgICAgICBvbkFib3J0U3RhY2sucHVzaChiZWZvcmVTdGF0ZUNhbGxiYWNrLm9uQWJvcnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gUnVuIGFsbCBvbkFib3J0LCB3aXRoIHNlcGFyYXRlIHRyeS9jYXRjaCB0byBpZ25vcmUgYW55IGVycm9ycyBhbmRcbiAgICAgIC8vIGNvbnRpbnVlXG4gICAgICBvbkFib3J0U3RhY2sucmV2ZXJzZSgpO1xuICAgICAgZm9yIChjb25zdCBvbkFib3J0IG9mIG9uQWJvcnRTdGFjaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG9uQWJvcnQoKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIC8qIHN3YWxsb3cgZXJyb3IgKi9cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyB0aGlzLmF1dGguX2Vycm9yRmFjdG9yeS5jcmVhdGUoQXV0aEVycm9yQ29kZS5MT0dJTl9CTE9DS0VELCB7XG4gICAgICAgIG9yaWdpbmFsTWVzc2FnZTogKGUgYXMgRXJyb3IpPy5tZXNzYWdlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBfcGVyZm9ybUFwaVJlcXVlc3QsXG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBfYWRkVGlkSWZOZWNlc3Nhcnlcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbi8qKlxuICogUmVxdWVzdCBvYmplY3QgZm9yIGZldGNoaW5nIHRoZSBwYXNzd29yZCBwb2xpY3kuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0UGFzc3dvcmRQb2xpY3lSZXF1ZXN0IHtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVzcG9uc2Ugb2JqZWN0IGZvciBmZXRjaGluZyB0aGUgcGFzc3dvcmQgcG9saWN5LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldFBhc3N3b3JkUG9saWN5UmVzcG9uc2Uge1xuICBjdXN0b21TdHJlbmd0aE9wdGlvbnM6IHtcbiAgICBtaW5QYXNzd29yZExlbmd0aD86IG51bWJlcjtcbiAgICBtYXhQYXNzd29yZExlbmd0aD86IG51bWJlcjtcbiAgICBjb250YWluc0xvd2VyY2FzZUNoYXJhY3Rlcj86IGJvb2xlYW47XG4gICAgY29udGFpbnNVcHBlcmNhc2VDaGFyYWN0ZXI/OiBib29sZWFuO1xuICAgIGNvbnRhaW5zTnVtZXJpY0NoYXJhY3Rlcj86IGJvb2xlYW47XG4gICAgY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXI/OiBib29sZWFuO1xuICB9O1xuICBhbGxvd2VkTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVycz86IHN0cmluZ1tdO1xuICBlbmZvcmNlbWVudFN0YXRlOiBzdHJpbmc7XG4gIGZvcmNlVXBncmFkZU9uU2lnbmluPzogYm9vbGVhbjtcbiAgc2NoZW1hVmVyc2lvbjogbnVtYmVyO1xufVxuXG4vKipcbiAqIEZldGNoZXMgdGhlIHBhc3N3b3JkIHBvbGljeSBmb3IgdGhlIGN1cnJlbnRseSBzZXQgdGVuYW50IG9yIHRoZSBwcm9qZWN0IGlmIG5vIHRlbmFudCBpcyBzZXQuXG4gKlxuICogQHBhcmFtIGF1dGggQXV0aCBvYmplY3QuXG4gKiBAcGFyYW0gcmVxdWVzdCBQYXNzd29yZCBwb2xpY3kgcmVxdWVzdC5cbiAqIEByZXR1cm5zIFBhc3N3b3JkIHBvbGljeSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9nZXRQYXNzd29yZFBvbGljeShcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogR2V0UGFzc3dvcmRQb2xpY3lSZXF1ZXN0ID0ge31cbik6IFByb21pc2U8R2V0UGFzc3dvcmRQb2xpY3lSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIEdldFBhc3N3b3JkUG9saWN5UmVxdWVzdCxcbiAgICBHZXRQYXNzd29yZFBvbGljeVJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLkdFVCxcbiAgICBFbmRwb2ludC5HRVRfUEFTU1dPUkRfUE9MSUNZLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEdldFBhc3N3b3JkUG9saWN5UmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvcGFzc3dvcmRfcG9saWN5L2dldF9wYXNzd29yZF9wb2xpY3knO1xuaW1wb3J0IHtcbiAgUGFzc3dvcmRQb2xpY3lDdXN0b21TdHJlbmd0aE9wdGlvbnMsXG4gIFBhc3N3b3JkUG9saWN5SW50ZXJuYWwsXG4gIFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1c0ludGVybmFsXG59IGZyb20gJy4uLy4uL21vZGVsL3Bhc3N3b3JkX3BvbGljeSc7XG5pbXBvcnQgeyBQYXNzd29yZFZhbGlkYXRpb25TdGF0dXMgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG4vLyBNaW5pbXVtIG1pbiBwYXNzd29yZCBsZW5ndGggZW5mb3JjZWQgYnkgdGhlIGJhY2tlbmQsIGV2ZW4gaWYgbm8gbWluaW11bSBsZW5ndGggaXMgc2V0LlxuY29uc3QgTUlOSU1VTV9NSU5fUEFTU1dPUkRfTEVOR1RIID0gNjtcblxuLyoqXG4gKiBTdG9yZXMgcGFzc3dvcmQgcG9saWN5IHJlcXVpcmVtZW50cyBhbmQgcHJvdmlkZXMgcGFzc3dvcmQgdmFsaWRhdGlvbiBhZ2FpbnN0IHRoZSBwb2xpY3kuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXNzd29yZFBvbGljeUltcGwgaW1wbGVtZW50cyBQYXNzd29yZFBvbGljeUludGVybmFsIHtcbiAgcmVhZG9ubHkgY3VzdG9tU3RyZW5ndGhPcHRpb25zOiBQYXNzd29yZFBvbGljeUN1c3RvbVN0cmVuZ3RoT3B0aW9ucztcbiAgcmVhZG9ubHkgYWxsb3dlZE5vbkFscGhhbnVtZXJpY0NoYXJhY3RlcnM6IHN0cmluZztcbiAgcmVhZG9ubHkgZW5mb3JjZW1lbnRTdGF0ZTogc3RyaW5nO1xuICByZWFkb25seSBmb3JjZVVwZ3JhZGVPblNpZ25pbjogYm9vbGVhbjtcbiAgcmVhZG9ubHkgc2NoZW1hVmVyc2lvbjogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlOiBHZXRQYXNzd29yZFBvbGljeVJlc3BvbnNlKSB7XG4gICAgLy8gT25seSBpbmNsdWRlIGN1c3RvbSBzdHJlbmd0aCBvcHRpb25zIGRlZmluZWQgaW4gdGhlIHJlc3BvbnNlLlxuICAgIGNvbnN0IHJlc3BvbnNlT3B0aW9ucyA9IHJlc3BvbnNlLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucztcbiAgICB0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucyA9IHt9O1xuICAgIC8vIFRPRE86IFJlbW92ZSBvbmNlIHRoZSBiYWNrZW5kIGlzIHVwZGF0ZWQgdG8gaW5jbHVkZSB0aGUgbWluaW11bSBtaW4gcGFzc3dvcmQgbGVuZ3RoIGluc3RlYWQgb2YgdW5kZWZpbmVkIHdoZW4gdGhlcmUgaXMgbm8gbWluaW11bSBsZW5ndGggc2V0LlxuICAgIHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLm1pblBhc3N3b3JkTGVuZ3RoID1cbiAgICAgIHJlc3BvbnNlT3B0aW9ucy5taW5QYXNzd29yZExlbmd0aCA/PyBNSU5JTVVNX01JTl9QQVNTV09SRF9MRU5HVEg7XG4gICAgaWYgKHJlc3BvbnNlT3B0aW9ucy5tYXhQYXNzd29yZExlbmd0aCkge1xuICAgICAgdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMubWF4UGFzc3dvcmRMZW5ndGggPVxuICAgICAgICByZXNwb25zZU9wdGlvbnMubWF4UGFzc3dvcmRMZW5ndGg7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZU9wdGlvbnMuY29udGFpbnNMb3dlcmNhc2VDaGFyYWN0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNMb3dlcmNhc2VMZXR0ZXIgPVxuICAgICAgICByZXNwb25zZU9wdGlvbnMuY29udGFpbnNMb3dlcmNhc2VDaGFyYWN0ZXI7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZU9wdGlvbnMuY29udGFpbnNVcHBlcmNhc2VDaGFyYWN0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNVcHBlcmNhc2VMZXR0ZXIgPVxuICAgICAgICByZXNwb25zZU9wdGlvbnMuY29udGFpbnNVcHBlcmNhc2VDaGFyYWN0ZXI7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZU9wdGlvbnMuY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLmNvbnRhaW5zTnVtZXJpY0NoYXJhY3RlciA9XG4gICAgICAgIHJlc3BvbnNlT3B0aW9ucy5jb250YWluc051bWVyaWNDaGFyYWN0ZXI7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZU9wdGlvbnMuY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXIgPVxuICAgICAgICByZXNwb25zZU9wdGlvbnMuY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXI7XG4gICAgfVxuXG4gICAgdGhpcy5lbmZvcmNlbWVudFN0YXRlID0gcmVzcG9uc2UuZW5mb3JjZW1lbnRTdGF0ZTtcbiAgICBpZiAodGhpcy5lbmZvcmNlbWVudFN0YXRlID09PSAnRU5GT1JDRU1FTlRfU1RBVEVfVU5TUEVDSUZJRUQnKSB7XG4gICAgICB0aGlzLmVuZm9yY2VtZW50U3RhdGUgPSAnT0ZGJztcbiAgICB9XG5cbiAgICAvLyBVc2UgYW4gZW1wdHkgc3RyaW5nIGlmIG5vIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVycyBhcmUgc3BlY2lmaWVkIGluIHRoZSByZXNwb25zZS5cbiAgICB0aGlzLmFsbG93ZWROb25BbHBoYW51bWVyaWNDaGFyYWN0ZXJzID1cbiAgICAgIHJlc3BvbnNlLmFsbG93ZWROb25BbHBoYW51bWVyaWNDaGFyYWN0ZXJzPy5qb2luKCcnKSA/PyAnJztcblxuICAgIHRoaXMuZm9yY2VVcGdyYWRlT25TaWduaW4gPSByZXNwb25zZS5mb3JjZVVwZ3JhZGVPblNpZ25pbiA/PyBmYWxzZTtcbiAgICB0aGlzLnNjaGVtYVZlcnNpb24gPSByZXNwb25zZS5zY2hlbWFWZXJzaW9uO1xuICB9XG5cbiAgdmFsaWRhdGVQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKTogUGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzIHtcbiAgICBjb25zdCBzdGF0dXM6IFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1c0ludGVybmFsID0ge1xuICAgICAgaXNWYWxpZDogdHJ1ZSxcbiAgICAgIHBhc3N3b3JkUG9saWN5OiB0aGlzXG4gICAgfTtcblxuICAgIC8vIENoZWNrIHRoZSBwYXNzd29yZCBsZW5ndGggYW5kIGNoYXJhY3RlciBvcHRpb25zLlxuICAgIHRoaXMudmFsaWRhdGVQYXNzd29yZExlbmd0aE9wdGlvbnMocGFzc3dvcmQsIHN0YXR1cyk7XG4gICAgdGhpcy52YWxpZGF0ZVBhc3N3b3JkQ2hhcmFjdGVyT3B0aW9ucyhwYXNzd29yZCwgc3RhdHVzKTtcblxuICAgIC8vIENvbWJpbmUgdGhlIHN0YXR1cyBpbnRvIHNpbmdsZSBpc1ZhbGlkIHByb3BlcnR5LlxuICAgIHN0YXR1cy5pc1ZhbGlkICYmPSBzdGF0dXMubWVldHNNaW5QYXNzd29yZExlbmd0aCA/PyB0cnVlO1xuICAgIHN0YXR1cy5pc1ZhbGlkICYmPSBzdGF0dXMubWVldHNNYXhQYXNzd29yZExlbmd0aCA/PyB0cnVlO1xuICAgIHN0YXR1cy5pc1ZhbGlkICYmPSBzdGF0dXMuY29udGFpbnNMb3dlcmNhc2VMZXR0ZXIgPz8gdHJ1ZTtcbiAgICBzdGF0dXMuaXNWYWxpZCAmJj0gc3RhdHVzLmNvbnRhaW5zVXBwZXJjYXNlTGV0dGVyID8/IHRydWU7XG4gICAgc3RhdHVzLmlzVmFsaWQgJiY9IHN0YXR1cy5jb250YWluc051bWVyaWNDaGFyYWN0ZXIgPz8gdHJ1ZTtcbiAgICBzdGF0dXMuaXNWYWxpZCAmJj0gc3RhdHVzLmNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyID8/IHRydWU7XG5cbiAgICByZXR1cm4gc3RhdHVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSBwYXNzd29yZCBtZWV0cyB0aGUgbGVuZ3RoIG9wdGlvbnMgZm9yIHRoZSBwb2xpY3kuXG4gICAqXG4gICAqIEBwYXJhbSBwYXNzd29yZCBQYXNzd29yZCB0byB2YWxpZGF0ZS5cbiAgICogQHBhcmFtIHN0YXR1cyBWYWxpZGF0aW9uIHN0YXR1cy5cbiAgICovXG4gIHByaXZhdGUgdmFsaWRhdGVQYXNzd29yZExlbmd0aE9wdGlvbnMoXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICBzdGF0dXM6IFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1c0ludGVybmFsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IG1pblBhc3N3b3JkTGVuZ3RoID0gdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMubWluUGFzc3dvcmRMZW5ndGg7XG4gICAgY29uc3QgbWF4UGFzc3dvcmRMZW5ndGggPSB0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5tYXhQYXNzd29yZExlbmd0aDtcbiAgICBpZiAobWluUGFzc3dvcmRMZW5ndGgpIHtcbiAgICAgIHN0YXR1cy5tZWV0c01pblBhc3N3b3JkTGVuZ3RoID0gcGFzc3dvcmQubGVuZ3RoID49IG1pblBhc3N3b3JkTGVuZ3RoO1xuICAgIH1cbiAgICBpZiAobWF4UGFzc3dvcmRMZW5ndGgpIHtcbiAgICAgIHN0YXR1cy5tZWV0c01heFBhc3N3b3JkTGVuZ3RoID0gcGFzc3dvcmQubGVuZ3RoIDw9IG1heFBhc3N3b3JkTGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgcGFzc3dvcmQgbWVldHMgdGhlIGNoYXJhY3RlciBvcHRpb25zIGZvciB0aGUgcG9saWN5LlxuICAgKlxuICAgKiBAcGFyYW0gcGFzc3dvcmQgUGFzc3dvcmQgdG8gdmFsaWRhdGUuXG4gICAqIEBwYXJhbSBzdGF0dXMgVmFsaWRhdGlvbiBzdGF0dXMuXG4gICAqL1xuICBwcml2YXRlIHZhbGlkYXRlUGFzc3dvcmRDaGFyYWN0ZXJPcHRpb25zKFxuICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgc3RhdHVzOiBQYXNzd29yZFZhbGlkYXRpb25TdGF0dXNJbnRlcm5hbFxuICApOiB2b2lkIHtcbiAgICAvLyBBc3NpZ24gc3RhdHVzZXMgZm9yIHJlcXVpcmVtZW50cyBldmVuIGlmIHRoZSBwYXNzd29yZCBpcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgdGhpcy51cGRhdGVQYXNzd29yZENoYXJhY3Rlck9wdGlvbnNTdGF0dXNlcyhcbiAgICAgIHN0YXR1cyxcbiAgICAgIC8qIGNvbnRhaW5zTG93ZXJjYXNlQ2hhcmFjdGVyPSAqLyBmYWxzZSxcbiAgICAgIC8qIGNvbnRhaW5zVXBwZXJjYXNlQ2hhcmFjdGVyPSAqLyBmYWxzZSxcbiAgICAgIC8qIGNvbnRhaW5zTnVtZXJpY0NoYXJhY3Rlcj0gKi8gZmFsc2UsXG4gICAgICAvKiBjb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3Rlcj0gKi8gZmFsc2VcbiAgICApO1xuXG4gICAgbGV0IHBhc3N3b3JkQ2hhcjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3N3b3JkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYXNzd29yZENoYXIgPSBwYXNzd29yZC5jaGFyQXQoaSk7XG4gICAgICB0aGlzLnVwZGF0ZVBhc3N3b3JkQ2hhcmFjdGVyT3B0aW9uc1N0YXR1c2VzKFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIC8qIGNvbnRhaW5zTG93ZXJjYXNlQ2hhcmFjdGVyPSAqLyBwYXNzd29yZENoYXIgPj0gJ2EnICYmXG4gICAgICAgICAgcGFzc3dvcmRDaGFyIDw9ICd6JyxcbiAgICAgICAgLyogY29udGFpbnNVcHBlcmNhc2VDaGFyYWN0ZXI9ICovIHBhc3N3b3JkQ2hhciA+PSAnQScgJiZcbiAgICAgICAgICBwYXNzd29yZENoYXIgPD0gJ1onLFxuICAgICAgICAvKiBjb250YWluc051bWVyaWNDaGFyYWN0ZXI9ICovIHBhc3N3b3JkQ2hhciA+PSAnMCcgJiZcbiAgICAgICAgICBwYXNzd29yZENoYXIgPD0gJzknLFxuICAgICAgICAvKiBjb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3Rlcj0gKi8gdGhpcy5hbGxvd2VkTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVycy5pbmNsdWRlcyhcbiAgICAgICAgICBwYXNzd29yZENoYXJcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcnVubmluZyB2YWxpZGF0aW9uIHN0YXR1cyB3aXRoIHRoZSBzdGF0dXNlcyBmb3IgdGhlIGNoYXJhY3RlciBvcHRpb25zLlxuICAgKiBFeHBlY3RlZCB0byBiZSBjYWxsZWQgZWFjaCB0aW1lIGEgY2hhcmFjdGVyIGlzIHByb2Nlc3NlZCB0byB1cGRhdGUgZWFjaCBvcHRpb24gc3RhdHVzXG4gICAqIGJhc2VkIG9uIHRoZSBjdXJyZW50IGNoYXJhY3Rlci5cbiAgICpcbiAgICogQHBhcmFtIHN0YXR1cyBWYWxpZGF0aW9uIHN0YXR1cy5cbiAgICogQHBhcmFtIGNvbnRhaW5zTG93ZXJjYXNlQ2hhcmFjdGVyIFdoZXRoZXIgdGhlIGNoYXJhY3RlciBpcyBhIGxvd2VyY2FzZSBsZXR0ZXIuXG4gICAqIEBwYXJhbSBjb250YWluc1VwcGVyY2FzZUNoYXJhY3RlciBXaGV0aGVyIHRoZSBjaGFyYWN0ZXIgaXMgYW4gdXBwZXJjYXNlIGxldHRlci5cbiAgICogQHBhcmFtIGNvbnRhaW5zTnVtZXJpY0NoYXJhY3RlciBXaGV0aGVyIHRoZSBjaGFyYWN0ZXIgaXMgYSBudW1lcmljIGNoYXJhY3Rlci5cbiAgICogQHBhcmFtIGNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyIFdoZXRoZXIgdGhlIGNoYXJhY3RlciBpcyBhIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVyLlxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVQYXNzd29yZENoYXJhY3Rlck9wdGlvbnNTdGF0dXNlcyhcbiAgICBzdGF0dXM6IFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1c0ludGVybmFsLFxuICAgIGNvbnRhaW5zTG93ZXJjYXNlQ2hhcmFjdGVyOiBib29sZWFuLFxuICAgIGNvbnRhaW5zVXBwZXJjYXNlQ2hhcmFjdGVyOiBib29sZWFuLFxuICAgIGNvbnRhaW5zTnVtZXJpY0NoYXJhY3RlcjogYm9vbGVhbixcbiAgICBjb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3RlcjogYm9vbGVhblxuICApOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNMb3dlcmNhc2VMZXR0ZXIpIHtcbiAgICAgIHN0YXR1cy5jb250YWluc0xvd2VyY2FzZUxldHRlciB8fD0gY29udGFpbnNMb3dlcmNhc2VDaGFyYWN0ZXI7XG4gICAgfVxuICAgIGlmICh0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc1VwcGVyY2FzZUxldHRlcikge1xuICAgICAgc3RhdHVzLmNvbnRhaW5zVXBwZXJjYXNlTGV0dGVyIHx8PSBjb250YWluc1VwcGVyY2FzZUNoYXJhY3RlcjtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLmNvbnRhaW5zTnVtZXJpY0NoYXJhY3Rlcikge1xuICAgICAgc3RhdHVzLmNvbnRhaW5zTnVtZXJpY0NoYXJhY3RlciB8fD0gY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXIpIHtcbiAgICAgIHN0YXR1cy5jb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3RlciB8fD1cbiAgICAgICAgY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXI7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAsXG4gIF9GaXJlYmFzZVNlcnZpY2UsXG4gIEZpcmViYXNlQXBwXG59IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IEFwcENoZWNrSW50ZXJuYWxDb21wb25lbnROYW1lIH0gZnJvbSAnQGZpcmViYXNlL2FwcC1jaGVjay1pbnRlcm9wLXR5cGVzJztcbmltcG9ydCB7XG4gIEF1dGgsXG4gIEF1dGhFcnJvck1hcCxcbiAgQXV0aFNldHRpbmdzLFxuICBFbXVsYXRvckNvbmZpZyxcbiAgTmV4dE9yT2JzZXJ2ZXIsXG4gIFBlcnNpc3RlbmNlLFxuICBQb3B1cFJlZGlyZWN0UmVzb2x2ZXIsXG4gIFVzZXIsXG4gIFVzZXJDcmVkZW50aWFsLFxuICBDb21wbGV0ZUZuLFxuICBFcnJvckZuLFxuICBOZXh0Rm4sXG4gIFVuc3Vic2NyaWJlLFxuICBQYXNzd29yZFZhbGlkYXRpb25TdGF0dXNcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7XG4gIGNyZWF0ZVN1YnNjcmliZSxcbiAgRXJyb3JGYWN0b3J5LFxuICBGaXJlYmFzZUVycm9yLFxuICBnZXRNb2R1bGFySW5zdGFuY2UsXG4gIE9ic2VydmVyLFxuICBTdWJzY3JpYmVcbn0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwsIENvbmZpZ0ludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHtcbiAgQXV0aEVycm9yQ29kZSxcbiAgQXV0aEVycm9yUGFyYW1zLFxuICBFcnJvck1hcFJldHJpZXZlcixcbiAgX0RFRkFVTFRfQVVUSF9FUlJPUl9GQUNUT1JZXG59IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBQZXJzaXN0ZW5jZUludGVybmFsIH0gZnJvbSAnLi4vcGVyc2lzdGVuY2UnO1xuaW1wb3J0IHtcbiAgS2V5TmFtZSxcbiAgUGVyc2lzdGVuY2VVc2VyTWFuYWdlclxufSBmcm9tICcuLi9wZXJzaXN0ZW5jZS9wZXJzaXN0ZW5jZV91c2VyX21hbmFnZXInO1xuaW1wb3J0IHsgX3JlbG9hZFdpdGhvdXRTYXZpbmcgfSBmcm9tICcuLi91c2VyL3JlbG9hZCc7XG5pbXBvcnQge1xuICBfYXNzZXJ0LFxuICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvclxufSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfZ2V0SW5zdGFuY2UgfSBmcm9tICcuLi91dGlsL2luc3RhbnRpYXRvcic7XG5pbXBvcnQgeyBfZ2V0VXNlckxhbmd1YWdlIH0gZnJvbSAnLi4vdXRpbC9uYXZpZ2F0b3InO1xuaW1wb3J0IHsgX2dldENsaWVudFZlcnNpb24gfSBmcm9tICcuLi91dGlsL3ZlcnNpb24nO1xuaW1wb3J0IHsgSHR0cEhlYWRlciB9IGZyb20gJy4uLy4uL2FwaSc7XG5pbXBvcnQge1xuICBSZXZva2VUb2tlblJlcXVlc3QsXG4gIFRva2VuVHlwZSxcbiAgcmV2b2tlVG9rZW5cbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3Rva2VuJztcbmltcG9ydCB7IEF1dGhNaWRkbGV3YXJlUXVldWUgfSBmcm9tICcuL21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgUmVjYXB0Y2hhQ29uZmlnIH0gZnJvbSAnLi4vLi4vcGxhdGZvcm1fYnJvd3Nlci9yZWNhcHRjaGEvcmVjYXB0Y2hhJztcbmltcG9ydCB7IF9sb2dXYXJuIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgX2dldFBhc3N3b3JkUG9saWN5IH0gZnJvbSAnLi4vLi4vYXBpL3Bhc3N3b3JkX3BvbGljeS9nZXRfcGFzc3dvcmRfcG9saWN5JztcbmltcG9ydCB7IFBhc3N3b3JkUG9saWN5SW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wYXNzd29yZF9wb2xpY3knO1xuaW1wb3J0IHsgUGFzc3dvcmRQb2xpY3lJbXBsIH0gZnJvbSAnLi9wYXNzd29yZF9wb2xpY3lfaW1wbCc7XG5pbXBvcnQgeyBnZXRBY2NvdW50SW5mbyB9IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvYWNjb3VudCc7XG5pbXBvcnQgeyBVc2VySW1wbCB9IGZyb20gJy4uL3VzZXIvdXNlcl9pbXBsJztcblxuaW50ZXJmYWNlIEFzeW5jQWN0aW9uIHtcbiAgKCk6IFByb21pc2U8dm9pZD47XG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIERlZmF1bHRDb25maWcge1xuICBUT0tFTl9BUElfSE9TVCA9ICdzZWN1cmV0b2tlbi5nb29nbGVhcGlzLmNvbScsXG4gIEFQSV9IT1NUID0gJ2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbScsXG4gIEFQSV9TQ0hFTUUgPSAnaHR0cHMnXG59XG5cbmV4cG9ydCBjbGFzcyBBdXRoSW1wbCBpbXBsZW1lbnRzIEF1dGhJbnRlcm5hbCwgX0ZpcmViYXNlU2VydmljZSB7XG4gIGN1cnJlbnRVc2VyOiBVc2VyIHwgbnVsbCA9IG51bGw7XG4gIGVtdWxhdG9yQ29uZmlnOiBFbXVsYXRvckNvbmZpZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG9wZXJhdGlvbnMgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgcHJpdmF0ZSBwZXJzaXN0ZW5jZU1hbmFnZXI/OiBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyO1xuICBwcml2YXRlIHJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyPzogUGVyc2lzdGVuY2VVc2VyTWFuYWdlcjtcbiAgcHJpdmF0ZSBhdXRoU3RhdGVTdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uPFVzZXI+KHRoaXMpO1xuICBwcml2YXRlIGlkVG9rZW5TdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uPFVzZXI+KHRoaXMpO1xuICBwcml2YXRlIHJlYWRvbmx5IGJlZm9yZVN0YXRlUXVldWUgPSBuZXcgQXV0aE1pZGRsZXdhcmVRdWV1ZSh0aGlzKTtcbiAgcHJpdmF0ZSByZWRpcmVjdFVzZXI6IFVzZXJJbnRlcm5hbCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGlzUHJvYWN0aXZlUmVmcmVzaEVuYWJsZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSByZWFkb25seSBFWFBFQ1RFRF9QQVNTV09SRF9QT0xJQ1lfU0NIRU1BX1ZFUlNJT046IG51bWJlciA9IDE7XG5cbiAgLy8gQW55IG5ldHdvcmsgY2FsbHMgd2lsbCBzZXQgdGhpcyB0byB0cnVlIGFuZCBwcmV2ZW50IHN1YnNlcXVlbnQgZW11bGF0b3JcbiAgLy8gaW5pdGlhbGl6YXRpb25cbiAgX2NhbkluaXRFbXVsYXRvciA9IHRydWU7XG4gIF9pc0luaXRpYWxpemVkID0gZmFsc2U7XG4gIF9kZWxldGVkID0gZmFsc2U7XG4gIF9pbml0aWFsaXphdGlvblByb21pc2U6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcbiAgX3BvcHVwUmVkaXJlY3RSZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwgfCBudWxsID0gbnVsbDtcbiAgX2Vycm9yRmFjdG9yeTogRXJyb3JGYWN0b3J5PEF1dGhFcnJvckNvZGUsIEF1dGhFcnJvclBhcmFtcz4gPVxuICAgIF9ERUZBVUxUX0FVVEhfRVJST1JfRkFDVE9SWTtcbiAgX2FnZW50UmVjYXB0Y2hhQ29uZmlnOiBSZWNhcHRjaGFDb25maWcgfCBudWxsID0gbnVsbDtcbiAgX3RlbmFudFJlY2FwdGNoYUNvbmZpZ3M6IFJlY29yZDxzdHJpbmcsIFJlY2FwdGNoYUNvbmZpZz4gPSB7fTtcbiAgX3Byb2plY3RQYXNzd29yZFBvbGljeTogUGFzc3dvcmRQb2xpY3lJbnRlcm5hbCB8IG51bGwgPSBudWxsO1xuICBfdGVuYW50UGFzc3dvcmRQb2xpY2llczogUmVjb3JkPHN0cmluZywgUGFzc3dvcmRQb2xpY3lJbnRlcm5hbD4gPSB7fTtcbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gIC8vIFRyYWNrcyB0aGUgbGFzdCBub3RpZmllZCBVSUQgZm9yIHN0YXRlIGNoYW5nZSBsaXN0ZW5lcnMgdG8gcHJldmVudFxuICAvLyByZXBlYXRlZCBjYWxscyB0byB0aGUgY2FsbGJhY2tzLiBVbmRlZmluZWQgbWVhbnMgaXQncyBuZXZlciBiZWVuXG4gIC8vIGNhbGxlZCwgd2hlcmVhcyBudWxsIG1lYW5zIGl0J3MgYmVlbiBjYWxsZWQgd2l0aCBhIHNpZ25lZCBvdXQgdXNlclxuICBwcml2YXRlIGxhc3ROb3RpZmllZFVpZDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICBsYW5ndWFnZUNvZGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICB0ZW5hbnRJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHNldHRpbmdzOiBBdXRoU2V0dGluZ3MgPSB7IGFwcFZlcmlmaWNhdGlvbkRpc2FibGVkRm9yVGVzdGluZzogZmFsc2UgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXBwOiBGaXJlYmFzZUFwcCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhlYXJ0YmVhdFNlcnZpY2VQcm92aWRlcjogUHJvdmlkZXI8J2hlYXJ0YmVhdCc+LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXBwQ2hlY2tTZXJ2aWNlUHJvdmlkZXI6IFByb3ZpZGVyPEFwcENoZWNrSW50ZXJuYWxDb21wb25lbnROYW1lPixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZmlnOiBDb25maWdJbnRlcm5hbFxuICApIHtcbiAgICB0aGlzLm5hbWUgPSBhcHAubmFtZTtcbiAgICB0aGlzLmNsaWVudFZlcnNpb24gPSBjb25maWcuc2RrQ2xpZW50VmVyc2lvbjtcbiAgfVxuXG4gIF9pbml0aWFsaXplV2l0aFBlcnNpc3RlbmNlKFxuICAgIHBlcnNpc3RlbmNlSGllcmFyY2h5OiBQZXJzaXN0ZW5jZUludGVybmFsW10sXG4gICAgcG9wdXBSZWRpcmVjdFJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChwb3B1cFJlZGlyZWN0UmVzb2x2ZXIpIHtcbiAgICAgIHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlciA9IF9nZXRJbnN0YW5jZShwb3B1cFJlZGlyZWN0UmVzb2x2ZXIpO1xuICAgIH1cblxuICAgIC8vIEhhdmUgdG8gY2hlY2sgZm9yIGFwcCBkZWxldGlvbiB0aHJvdWdob3V0IGluaXRpYWxpemF0aW9uIChhZnRlciBlYWNoXG4gICAgLy8gcHJvbWlzZSByZXNvbHV0aW9uKVxuICAgIHRoaXMuX2luaXRpYWxpemF0aW9uUHJvbWlzZSA9IHRoaXMucXVldWUoYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2RlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBlcnNpc3RlbmNlTWFuYWdlciA9IGF3YWl0IFBlcnNpc3RlbmNlVXNlck1hbmFnZXIuY3JlYXRlKFxuICAgICAgICB0aGlzLFxuICAgICAgICBwZXJzaXN0ZW5jZUhpZXJhcmNoeVxuICAgICAgKTtcblxuICAgICAgaWYgKHRoaXMuX2RlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBJbml0aWFsaXplIHRoZSByZXNvbHZlciBlYXJseSBpZiBuZWNlc3NhcnkgKG9ubHkgYXBwbGljYWJsZSB0byB3ZWI6XG4gICAgICAvLyB0aGlzIHdpbGwgY2F1c2UgdGhlIGlmcmFtZSB0byBsb2FkIGltbWVkaWF0ZWx5IGluIGNlcnRhaW4gY2FzZXMpXG4gICAgICBpZiAodGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyPy5fc2hvdWxkSW5pdFByb2FjdGl2ZWx5KSB7XG4gICAgICAgIC8vIElmIHRoaXMgZmFpbHMsIGRvbid0IGhhbHQgYXV0aCBsb2FkaW5nXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyLl9pbml0aWFsaXplKHRoaXMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLyogSWdub3JlIHRoZSBlcnJvciAqL1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZUN1cnJlbnRVc2VyKHBvcHVwUmVkaXJlY3RSZXNvbHZlcik7XG5cbiAgICAgIHRoaXMubGFzdE5vdGlmaWVkVWlkID0gdGhpcy5jdXJyZW50VXNlcj8udWlkIHx8IG51bGw7XG5cbiAgICAgIGlmICh0aGlzLl9kZWxldGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5faW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoZSBwZXJzaXN0ZW5jZSBpcyBjaGFuZ2VkIGluIGFub3RoZXIgd2luZG93LCB0aGUgdXNlciBtYW5hZ2VyIHdpbGwgbGV0IHVzIGtub3dcbiAgICovXG4gIGFzeW5jIF9vblN0b3JhZ2VFdmVudCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5fZGVsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmFzc2VydGVkUGVyc2lzdGVuY2UuZ2V0Q3VycmVudFVzZXIoKTtcblxuICAgIGlmICghdGhpcy5jdXJyZW50VXNlciAmJiAhdXNlcikge1xuICAgICAgLy8gTm8gY2hhbmdlLCBkbyBub3RoaW5nICh3YXMgc2lnbmVkIG91dCBhbmQgcmVtYWluZWQgc2lnbmVkIG91dCkuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNhbWUgdXNlciBpcyB0byBiZSBzeW5jaHJvbml6ZWQuXG4gICAgaWYgKHRoaXMuY3VycmVudFVzZXIgJiYgdXNlciAmJiB0aGlzLmN1cnJlbnRVc2VyLnVpZCA9PT0gdXNlci51aWQpIHtcbiAgICAgIC8vIERhdGEgdXBkYXRlLCBzaW1wbHkgY29weSBkYXRhIGNoYW5nZXMuXG4gICAgICB0aGlzLl9jdXJyZW50VXNlci5fYXNzaWduKHVzZXIpO1xuICAgICAgLy8gSWYgdG9rZW5zIGNoYW5nZWQgZnJvbSBwcmV2aW91cyB1c2VyIHRva2VucywgdGhpcyB3aWxsIHRyaWdnZXJcbiAgICAgIC8vIG5vdGlmeUF1dGhMaXN0ZW5lcnNfLlxuICAgICAgYXdhaXQgdGhpcy5jdXJyZW50VXNlci5nZXRJZFRva2VuKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGN1cnJlbnQgQXV0aCBzdGF0ZS4gRWl0aGVyIGEgbmV3IGxvZ2luIG9yIGxvZ291dC5cbiAgICAvLyBTa2lwIGJsb2NraW5nIGNhbGxiYWNrcywgdGhleSBzaG91bGQgbm90IGFwcGx5IHRvIGEgY2hhbmdlIGluIGFub3RoZXIgdGFiLlxuICAgIGF3YWl0IHRoaXMuX3VwZGF0ZUN1cnJlbnRVc2VyKHVzZXIsIC8qIHNraXBCZWZvcmVTdGF0ZUNhbGxiYWNrcyAqLyB0cnVlKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZUN1cnJlbnRVc2VyRnJvbUlkVG9rZW4oXG4gICAgaWRUb2tlbjogc3RyaW5nXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldEFjY291bnRJbmZvKHRoaXMsIHsgaWRUb2tlbiB9KTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VySW1wbC5fZnJvbUdldEFjY291bnRJbmZvUmVzcG9uc2UoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICBpZFRva2VuXG4gICAgICApO1xuICAgICAgYXdhaXQgdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKHVzZXIpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnRmlyZWJhc2VTZXJ2ZXJBcHAgY291bGQgbm90IGxvZ2luIHVzZXIgd2l0aCBwcm92aWRlZCBhdXRoSWRUb2tlbjogJyxcbiAgICAgICAgZXJyXG4gICAgICApO1xuICAgICAgYXdhaXQgdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZUN1cnJlbnRVc2VyKFxuICAgIHBvcHVwUmVkaXJlY3RSZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodGhpcy5hcHApKSB7XG4gICAgICBjb25zdCBpZFRva2VuID0gdGhpcy5hcHAuc2V0dGluZ3MuYXV0aElkVG9rZW47XG4gICAgICBpZiAoaWRUb2tlbikge1xuICAgICAgICAvLyBTdGFydCB0aGUgYXV0aCBvcGVyYXRpb24gaW4gdGhlIG5leHQgdGljayB0byBhbGxvdyBhIG1vbWVudCBmb3IgdGhlIGN1c3RvbWVyJ3MgYXBwIHRvXG4gICAgICAgIC8vIGF0dGFjaCBhbiBlbXVsYXRvciwgaWYgZGVzaXJlZC5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUN1cnJlbnRVc2VyRnJvbUlkVG9rZW4oaWRUb2tlbikudGhlbihcbiAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgcmVzb2x2ZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcihudWxsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGaXJzdCBjaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHBlbmRpbmcgcmVkaXJlY3QgZXZlbnQuXG4gICAgY29uc3QgcHJldmlvdXNseVN0b3JlZFVzZXIgPVxuICAgICAgKGF3YWl0IHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5nZXRDdXJyZW50VXNlcigpKSBhcyBVc2VySW50ZXJuYWwgfCBudWxsO1xuICAgIGxldCBmdXR1cmVDdXJyZW50VXNlciA9IHByZXZpb3VzbHlTdG9yZWRVc2VyO1xuICAgIGxldCBuZWVkc1RvY2hlY2tNaWRkbGV3YXJlID0gZmFsc2U7XG4gICAgaWYgKHBvcHVwUmVkaXJlY3RSZXNvbHZlciAmJiB0aGlzLmNvbmZpZy5hdXRoRG9tYWluKSB7XG4gICAgICBhd2FpdCB0aGlzLmdldE9ySW5pdFJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyKCk7XG4gICAgICBjb25zdCByZWRpcmVjdFVzZXJFdmVudElkID0gdGhpcy5yZWRpcmVjdFVzZXI/Ll9yZWRpcmVjdEV2ZW50SWQ7XG4gICAgICBjb25zdCBzdG9yZWRVc2VyRXZlbnRJZCA9IGZ1dHVyZUN1cnJlbnRVc2VyPy5fcmVkaXJlY3RFdmVudElkO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy50cnlSZWRpcmVjdFNpZ25Jbihwb3B1cFJlZGlyZWN0UmVzb2x2ZXIpO1xuXG4gICAgICAvLyBJZiB0aGUgc3RvcmVkIHVzZXIgKGkuZS4gdGhlIG9sZCBcImN1cnJlbnRVc2VyXCIpIGhhcyBhIHJlZGlyZWN0SWQgdGhhdFxuICAgICAgLy8gbWF0Y2hlcyB0aGUgcmVkaXJlY3QgdXNlciwgdGhlbiB3ZSB3YW50IHRvIGluaXRpYWxseSBzaWduIGluIHdpdGggdGhlXG4gICAgICAvLyBuZXcgdXNlciBvYmplY3QgZnJvbSByZXN1bHQuXG4gICAgICAvLyBUT0RPKHNhbWdobyk6IE1vcmUgdGhvcm91Z2hseSB0ZXN0IGFsbCBvZiB0aGlzXG4gICAgICBpZiAoXG4gICAgICAgICghcmVkaXJlY3RVc2VyRXZlbnRJZCB8fCByZWRpcmVjdFVzZXJFdmVudElkID09PSBzdG9yZWRVc2VyRXZlbnRJZCkgJiZcbiAgICAgICAgcmVzdWx0Py51c2VyXG4gICAgICApIHtcbiAgICAgICAgZnV0dXJlQ3VycmVudFVzZXIgPSByZXN1bHQudXNlciBhcyBVc2VySW50ZXJuYWw7XG4gICAgICAgIG5lZWRzVG9jaGVja01pZGRsZXdhcmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIG5vIHVzZXIgaW4gcGVyc2lzdGVuY2UsIHRoZXJlIGlzIG5vIGN1cnJlbnQgdXNlci4gU2V0IHRvIG51bGwuXG4gICAgaWYgKCFmdXR1cmVDdXJyZW50VXNlcikge1xuICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcihudWxsKTtcbiAgICB9XG5cbiAgICBpZiAoIWZ1dHVyZUN1cnJlbnRVc2VyLl9yZWRpcmVjdEV2ZW50SWQpIHtcbiAgICAgIC8vIFRoaXMgaXNuJ3QgYSByZWRpcmVjdCBsaW5rIG9wZXJhdGlvbiwgd2UgY2FuIHJlbG9hZCBhbmQgYmFpbC5cbiAgICAgIC8vIEZpcnN0IHRob3VnaCwgZW5zdXJlIHRoYXQgd2UgY2hlY2sgdGhlIG1pZGRsZXdhcmUgaXMgaGFwcHkuXG4gICAgICBpZiAobmVlZHNUb2NoZWNrTWlkZGxld2FyZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMuYmVmb3JlU3RhdGVRdWV1ZS5ydW5NaWRkbGV3YXJlKGZ1dHVyZUN1cnJlbnRVc2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGZ1dHVyZUN1cnJlbnRVc2VyID0gcHJldmlvdXNseVN0b3JlZFVzZXI7XG4gICAgICAgICAgLy8gV2Uga25vdyB0aGlzIGlzIGF2YWlsYWJsZSBzaW5jZSB0aGUgYml0IGlzIG9ubHkgc2V0IHdoZW4gdGhlXG4gICAgICAgICAgLy8gcmVzb2x2ZXIgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgdGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyIS5fb3ZlcnJpZGVSZWRpcmVjdFJlc3VsdCh0aGlzLCAoKSA9PlxuICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QoZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmdXR1cmVDdXJyZW50VXNlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWxvYWRBbmRTZXRDdXJyZW50VXNlck9yQ2xlYXIoZnV0dXJlQ3VycmVudFVzZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcihudWxsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfYXNzZXJ0KHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlciwgdGhpcywgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG4gICAgYXdhaXQgdGhpcy5nZXRPckluaXRSZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlcigpO1xuXG4gICAgLy8gSWYgdGhlIHJlZGlyZWN0IHVzZXIncyBldmVudCBJRCBtYXRjaGVzIHRoZSBjdXJyZW50IHVzZXIncyBldmVudCBJRCxcbiAgICAvLyBETyBOT1QgcmVsb2FkIHRoZSBjdXJyZW50IHVzZXIsIG90aGVyd2lzZSB0aGV5J2xsIGJlIGNsZWFyZWQgZnJvbSBzdG9yYWdlLlxuICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IGZvciB0aGUgcmVhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3QoKSBmbG93LlxuICAgIGlmIChcbiAgICAgIHRoaXMucmVkaXJlY3RVc2VyICYmXG4gICAgICB0aGlzLnJlZGlyZWN0VXNlci5fcmVkaXJlY3RFdmVudElkID09PSBmdXR1cmVDdXJyZW50VXNlci5fcmVkaXJlY3RFdmVudElkXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKGZ1dHVyZUN1cnJlbnRVc2VyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZWxvYWRBbmRTZXRDdXJyZW50VXNlck9yQ2xlYXIoZnV0dXJlQ3VycmVudFVzZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyB0cnlSZWRpcmVjdFNpZ25JbihcbiAgICByZWRpcmVjdFJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbiAgKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbCB8IG51bGw+IHtcbiAgICAvLyBUaGUgcmVkaXJlY3QgdXNlciBuZWVkcyB0byBiZSBjaGVja2VkIChhbmQgc2lnbmVkIGluIGlmIGF2YWlsYWJsZSlcbiAgICAvLyBkdXJpbmcgYXV0aCBpbml0aWFsaXphdGlvbi4gQWxsIG9mIHRoZSBub3JtYWwgc2lnbiBpbiBhbmQgbGluay9yZWF1dGhcbiAgICAvLyBmbG93cyBjYWxsIGJhY2sgaW50byBhdXRoIGFuZCBwdXNoIHRoaW5ncyBvbnRvIHRoZSBwcm9taXNlIHF1ZXVlLiBXZVxuICAgIC8vIG5lZWQgdG8gYXdhaXQgdGhlIHJlc3VsdCBvZiB0aGUgcmVkaXJlY3Qgc2lnbiBpbiAqaW5zaWRlIHRoZSBwcm9taXNlXG4gICAgLy8gcXVldWUqLiBUaGlzIHByZXNlbnRzIGEgcHJvYmxlbTogd2UgcnVuIGludG8gZGVhZGxvY2suIFNlZTpcbiAgICAvLyAgICDilIw+IFtJbml0aWFsaXphdGlvbl0g4pSA4pSA4pSA4pSA4pSA4pSQXG4gICAgLy8gICAg4pSMPiBbPG90aGVyIHF1ZXVlIHRhc2tzPl0g4pSCXG4gICAgLy8gICAg4pSU4pSAIFtnZXRSZWRpcmVjdFJlc3VsdF0gPOKUgOKUmFxuICAgIC8vICAgIHdoZXJlIFtdIGFyZSB0YXNrcyBvbiB0aGUgcXVldWUgYW5kIGFycm93cyBkZW5vdGUgYXdhaXRzXG4gICAgLy8gSW5pdGlhbGl6YXRpb24gd2lsbCBuZXZlciBjb21wbGV0ZSBiZWNhdXNlIGl0J3Mgd2FpdGluZyBvbiBzb21ldGhpbmdcbiAgICAvLyB0aGF0J3Mgd2FpdGluZyBmb3IgaW5pdGlhbGl6YXRpb24gdG8gY29tcGxldGUhXG4gICAgLy9cbiAgICAvLyBJbnN0ZWFkLCB0aGlzIG1ldGhvZCBjYWxscyBnZXRSZWRpcmVjdFJlc3VsdCgpIChzdG9yZWQgaW5cbiAgICAvLyBfY29tcGxldGVSZWRpcmVjdEZuKSB3aXRoIGFuIG9wdGlvbmFsIHBhcmFtZXRlciB0aGF0IGluc3RydWN0cyBhbGwgb2ZcbiAgICAvLyB0aGUgdW5kZXJseWluZyBhdXRoIG9wZXJhdGlvbnMgdG8gc2tpcCBhbnl0aGluZyB0aGF0IG11dGF0ZXMgYXV0aCBzdGF0ZS5cblxuICAgIGxldCByZXN1bHQ6IFVzZXJDcmVkZW50aWFsIHwgbnVsbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFdlIGtub3cgdGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyIGlzIHNldCBzaW5jZSByZWRpcmVjdFJlc29sdmVyXG4gICAgICAvLyBpcyBwYXNzZWQgaW4uIFRoZSBfY29tcGxldGVSZWRpcmVjdEZuIGV4cGVjdHMgdGhlIHVud3JhcHBlZCBleHRlcm4uXG4gICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIhLl9jb21wbGV0ZVJlZGlyZWN0Rm4oXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHJlZGlyZWN0UmVzb2x2ZXIsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gU3dhbGxvdyBhbnkgZXJyb3JzIGhlcmU7IHRoZSBjb2RlIGNhbiByZXRyaWV2ZSB0aGVtIGluXG4gICAgICAvLyBnZXRSZWRpcmVjdFJlc3VsdCgpLlxuICAgICAgYXdhaXQgdGhpcy5fc2V0UmVkaXJlY3RVc2VyKG51bGwpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlbG9hZEFuZFNldEN1cnJlbnRVc2VyT3JDbGVhcihcbiAgICB1c2VyOiBVc2VySW50ZXJuYWxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IF9yZWxvYWRXaXRob3V0U2F2aW5nKHVzZXIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgKGUgYXMgRmlyZWJhc2VFcnJvcik/LmNvZGUgIT09XG4gICAgICAgIGBhdXRoLyR7QXV0aEVycm9yQ29kZS5ORVRXT1JLX1JFUVVFU1RfRkFJTEVEfWBcbiAgICAgICkge1xuICAgICAgICAvLyBTb21ldGhpbmcncyB3cm9uZyB3aXRoIHRoZSB1c2VyJ3MgdG9rZW4uIExvZyB0aGVtIG91dCBhbmQgcmVtb3ZlXG4gICAgICAgIC8vIHRoZW0gZnJvbSBzdG9yYWdlXG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIobnVsbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgfVxuXG4gIHVzZURldmljZUxhbmd1YWdlKCk6IHZvaWQge1xuICAgIHRoaXMubGFuZ3VhZ2VDb2RlID0gX2dldFVzZXJMYW5ndWFnZSgpO1xuICB9XG5cbiAgYXN5bmMgX2RlbGV0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLl9kZWxldGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUN1cnJlbnRVc2VyKHVzZXJFeHRlcm46IFVzZXIgfCBudWxsKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHRoaXMuYXBwKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcih0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gVGhlIHB1YmxpYyB1cGRhdGVDdXJyZW50VXNlciBtZXRob2QgbmVlZHMgdG8gbWFrZSBhIGNvcHkgb2YgdGhlIHVzZXIsXG4gICAgLy8gYW5kIGFsc28gY2hlY2sgdGhhdCB0aGUgcHJvamVjdCBtYXRjaGVzXG4gICAgY29uc3QgdXNlciA9IHVzZXJFeHRlcm5cbiAgICAgID8gKGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyRXh0ZXJuKSBhcyBVc2VySW50ZXJuYWwpXG4gICAgICA6IG51bGw7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIF9hc3NlcnQoXG4gICAgICAgIHVzZXIuYXV0aC5jb25maWcuYXBpS2V5ID09PSB0aGlzLmNvbmZpZy5hcGlLZXksXG4gICAgICAgIHRoaXMsXG4gICAgICAgIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9BVVRIXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlQ3VycmVudFVzZXIodXNlciAmJiB1c2VyLl9jbG9uZSh0aGlzKSk7XG4gIH1cblxuICBhc3luYyBfdXBkYXRlQ3VycmVudFVzZXIoXG4gICAgdXNlcjogVXNlciB8IG51bGwsXG4gICAgc2tpcEJlZm9yZVN0YXRlQ2FsbGJhY2tzOiBib29sZWFuID0gZmFsc2VcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuX2RlbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIF9hc3NlcnQoXG4gICAgICAgIHRoaXMudGVuYW50SWQgPT09IHVzZXIudGVuYW50SWQsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIEF1dGhFcnJvckNvZGUuVEVOQU5UX0lEX01JU01BVENIXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghc2tpcEJlZm9yZVN0YXRlQ2FsbGJhY2tzKSB7XG4gICAgICBhd2FpdCB0aGlzLmJlZm9yZVN0YXRlUXVldWUucnVuTWlkZGxld2FyZSh1c2VyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5xdWV1ZShhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIodXNlciBhcyBVc2VySW50ZXJuYWwgfCBudWxsKTtcbiAgICAgIHRoaXMubm90aWZ5QXV0aExpc3RlbmVycygpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgc2lnbk91dCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodGhpcy5hcHApKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBSdW4gZmlyc3QsIHRvIGJsb2NrIF9zZXRSZWRpcmVjdFVzZXIoKSBpZiBhbnkgY2FsbGJhY2tzIGZhaWwuXG4gICAgYXdhaXQgdGhpcy5iZWZvcmVTdGF0ZVF1ZXVlLnJ1bk1pZGRsZXdhcmUobnVsbCk7XG4gICAgLy8gQ2xlYXIgdGhlIHJlZGlyZWN0IHVzZXIgd2hlbiBzaWduT3V0IGlzIGNhbGxlZFxuICAgIGlmICh0aGlzLnJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyIHx8IHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlcikge1xuICAgICAgYXdhaXQgdGhpcy5fc2V0UmVkaXJlY3RVc2VyKG51bGwpO1xuICAgIH1cblxuICAgIC8vIFByZXZlbnQgY2FsbGJhY2tzIGZyb20gYmVpbmcgY2FsbGVkIGFnYWluIGluIF91cGRhdGVDdXJyZW50VXNlciwgYXNcbiAgICAvLyB0aGV5IHdlcmUgYWxyZWFkeSBjYWxsZWQgaW4gdGhlIGZpcnN0IGxpbmUuXG4gICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUN1cnJlbnRVc2VyKG51bGwsIC8qIHNraXBCZWZvcmVTdGF0ZUNhbGxiYWNrcyAqLyB0cnVlKTtcbiAgfVxuXG4gIHNldFBlcnNpc3RlbmNlKHBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh0aGlzLmFwcCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IodGhpcylcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnF1ZXVlKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5zZXRQZXJzaXN0ZW5jZShfZ2V0SW5zdGFuY2UocGVyc2lzdGVuY2UpKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRSZWNhcHRjaGFDb25maWcoKTogUmVjYXB0Y2hhQ29uZmlnIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMudGVuYW50SWQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FnZW50UmVjYXB0Y2hhQ29uZmlnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGVuYW50UmVjYXB0Y2hhQ29uZmlnc1t0aGlzLnRlbmFudElkXTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB2YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1cz4ge1xuICAgIGlmICghdGhpcy5fZ2V0UGFzc3dvcmRQb2xpY3lJbnRlcm5hbCgpKSB7XG4gICAgICBhd2FpdCB0aGlzLl91cGRhdGVQYXNzd29yZFBvbGljeSgpO1xuICAgIH1cblxuICAgIC8vIFBhc3N3b3JkIHBvbGljeSB3aWxsIGJlIGRlZmluZWQgYWZ0ZXIgZmV0Y2hpbmcuXG4gICAgY29uc3QgcGFzc3dvcmRQb2xpY3k6IFBhc3N3b3JkUG9saWN5SW50ZXJuYWwgPVxuICAgICAgdGhpcy5fZ2V0UGFzc3dvcmRQb2xpY3lJbnRlcm5hbCgpITtcblxuICAgIC8vIENoZWNrIHRoYXQgdGhlIHBvbGljeSBzY2hlbWEgdmVyc2lvbiBpcyBzdXBwb3J0ZWQgYnkgdGhlIFNESy5cbiAgICAvLyBUT0RPOiBVcGRhdGUgdGhpcyBsb2dpYyB0byB1c2UgYSBtYXggc3VwcG9ydGVkIHBvbGljeSBzY2hlbWEgdmVyc2lvbiBvbmNlIHdlIGhhdmUgbXVsdGlwbGUgc2NoZW1hIHZlcnNpb25zLlxuICAgIGlmIChcbiAgICAgIHBhc3N3b3JkUG9saWN5LnNjaGVtYVZlcnNpb24gIT09XG4gICAgICB0aGlzLkVYUEVDVEVEX1BBU1NXT1JEX1BPTElDWV9TQ0hFTUFfVkVSU0lPTlxuICAgICkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICB0aGlzLl9lcnJvckZhY3RvcnkuY3JlYXRlKFxuICAgICAgICAgIEF1dGhFcnJvckNvZGUuVU5TVVBQT1JURURfUEFTU1dPUkRfUE9MSUNZX1NDSEVNQV9WRVJTSU9OLFxuICAgICAgICAgIHt9XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhc3N3b3JkUG9saWN5LnZhbGlkYXRlUGFzc3dvcmQocGFzc3dvcmQpO1xuICB9XG5cbiAgX2dldFBhc3N3b3JkUG9saWN5SW50ZXJuYWwoKTogUGFzc3dvcmRQb2xpY3lJbnRlcm5hbCB8IG51bGwge1xuICAgIGlmICh0aGlzLnRlbmFudElkID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJvamVjdFBhc3N3b3JkUG9saWN5O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGVuYW50UGFzc3dvcmRQb2xpY2llc1t0aGlzLnRlbmFudElkXTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBfdXBkYXRlUGFzc3dvcmRQb2xpY3koKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfZ2V0UGFzc3dvcmRQb2xpY3kodGhpcyk7XG5cbiAgICBjb25zdCBwYXNzd29yZFBvbGljeTogUGFzc3dvcmRQb2xpY3lJbnRlcm5hbCA9IG5ldyBQYXNzd29yZFBvbGljeUltcGwoXG4gICAgICByZXNwb25zZVxuICAgICk7XG5cbiAgICBpZiAodGhpcy50ZW5hbnRJZCA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5fcHJvamVjdFBhc3N3b3JkUG9saWN5ID0gcGFzc3dvcmRQb2xpY3k7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3RlbmFudFBhc3N3b3JkUG9saWNpZXNbdGhpcy50ZW5hbnRJZF0gPSBwYXNzd29yZFBvbGljeTtcbiAgICB9XG4gIH1cblxuICBfZ2V0UGVyc2lzdGVuY2UoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5hc3NlcnRlZFBlcnNpc3RlbmNlLnBlcnNpc3RlbmNlLnR5cGU7XG4gIH1cblxuICBfdXBkYXRlRXJyb3JNYXAoZXJyb3JNYXA6IEF1dGhFcnJvck1hcCk6IHZvaWQge1xuICAgIHRoaXMuX2Vycm9yRmFjdG9yeSA9IG5ldyBFcnJvckZhY3Rvcnk8QXV0aEVycm9yQ29kZSwgQXV0aEVycm9yUGFyYW1zPihcbiAgICAgICdhdXRoJyxcbiAgICAgICdGaXJlYmFzZScsXG4gICAgICAoZXJyb3JNYXAgYXMgRXJyb3JNYXBSZXRyaWV2ZXIpKClcbiAgICApO1xuICB9XG5cbiAgb25BdXRoU3RhdGVDaGFuZ2VkKFxuICAgIG5leHRPck9ic2VydmVyOiBOZXh0T3JPYnNlcnZlcjxVc2VyPixcbiAgICBlcnJvcj86IEVycm9yRm4sXG4gICAgY29tcGxldGVkPzogQ29tcGxldGVGblxuICApOiBVbnN1YnNjcmliZSB7XG4gICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJTdGF0ZUxpc3RlbmVyKFxuICAgICAgdGhpcy5hdXRoU3RhdGVTdWJzY3JpcHRpb24sXG4gICAgICBuZXh0T3JPYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVkXG4gICAgKTtcbiAgfVxuXG4gIGJlZm9yZUF1dGhTdGF0ZUNoYW5nZWQoXG4gICAgY2FsbGJhY2s6ICh1c2VyOiBVc2VyIHwgbnVsbCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4gICAgb25BYm9ydD86ICgpID0+IHZvaWRcbiAgKTogVW5zdWJzY3JpYmUge1xuICAgIHJldHVybiB0aGlzLmJlZm9yZVN0YXRlUXVldWUucHVzaENhbGxiYWNrKGNhbGxiYWNrLCBvbkFib3J0KTtcbiAgfVxuXG4gIG9uSWRUb2tlbkNoYW5nZWQoXG4gICAgbmV4dE9yT2JzZXJ2ZXI6IE5leHRPck9ic2VydmVyPFVzZXI+LFxuICAgIGVycm9yPzogRXJyb3JGbixcbiAgICBjb21wbGV0ZWQ/OiBDb21wbGV0ZUZuXG4gICk6IFVuc3Vic2NyaWJlIHtcbiAgICByZXR1cm4gdGhpcy5yZWdpc3RlclN0YXRlTGlzdGVuZXIoXG4gICAgICB0aGlzLmlkVG9rZW5TdWJzY3JpcHRpb24sXG4gICAgICBuZXh0T3JPYnNlcnZlcixcbiAgICAgIGVycm9yLFxuICAgICAgY29tcGxldGVkXG4gICAgKTtcbiAgfVxuXG4gIGF1dGhTdGF0ZVJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50VXNlcikge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMub25BdXRoU3RhdGVDaGFuZ2VkKCgpID0+IHtcbiAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXZva2VzIHRoZSBnaXZlbiBhY2Nlc3MgdG9rZW4uIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIEFwcGxlIE9BdXRoIGFjY2VzcyB0b2tlbnMuXG4gICAqL1xuICBhc3luYyByZXZva2VBY2Nlc3NUb2tlbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuY3VycmVudFVzZXIpIHtcbiAgICAgIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCB0aGlzLmN1cnJlbnRVc2VyLmdldElkVG9rZW4oKTtcbiAgICAgIC8vIEdlbmVyYWxpemUgdGhpcyB0byBhY2NlcHQgb3RoZXIgcHJvdmlkZXJzIG9uY2Ugc3VwcG9ydGVkLlxuICAgICAgY29uc3QgcmVxdWVzdDogUmV2b2tlVG9rZW5SZXF1ZXN0ID0ge1xuICAgICAgICBwcm92aWRlcklkOiAnYXBwbGUuY29tJyxcbiAgICAgICAgdG9rZW5UeXBlOiBUb2tlblR5cGUuQUNDRVNTX1RPS0VOLFxuICAgICAgICB0b2tlbixcbiAgICAgICAgaWRUb2tlblxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLnRlbmFudElkICE9IG51bGwpIHtcbiAgICAgICAgcmVxdWVzdC50ZW5hbnRJZCA9IHRoaXMudGVuYW50SWQ7XG4gICAgICB9XG4gICAgICBhd2FpdCByZXZva2VUb2tlbih0aGlzLCByZXF1ZXN0KTtcbiAgICB9XG4gIH1cblxuICB0b0pTT04oKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgYXBpS2V5OiB0aGlzLmNvbmZpZy5hcGlLZXksXG4gICAgICBhdXRoRG9tYWluOiB0aGlzLmNvbmZpZy5hdXRoRG9tYWluLFxuICAgICAgYXBwTmFtZTogdGhpcy5uYW1lLFxuICAgICAgY3VycmVudFVzZXI6IHRoaXMuX2N1cnJlbnRVc2VyPy50b0pTT04oKVxuICAgIH07XG4gIH1cblxuICBhc3luYyBfc2V0UmVkaXJlY3RVc2VyKFxuICAgIHVzZXI6IFVzZXJJbnRlcm5hbCB8IG51bGwsXG4gICAgcG9wdXBSZWRpcmVjdFJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHJlZGlyZWN0TWFuYWdlciA9IGF3YWl0IHRoaXMuZ2V0T3JJbml0UmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXIoXG4gICAgICBwb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbiAgICApO1xuICAgIHJldHVybiB1c2VyID09PSBudWxsXG4gICAgICA/IHJlZGlyZWN0TWFuYWdlci5yZW1vdmVDdXJyZW50VXNlcigpXG4gICAgICA6IHJlZGlyZWN0TWFuYWdlci5zZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0T3JJbml0UmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXIoXG4gICAgcG9wdXBSZWRpcmVjdFJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4gICk6IFByb21pc2U8UGVyc2lzdGVuY2VVc2VyTWFuYWdlcj4ge1xuICAgIGlmICghdGhpcy5yZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlcikge1xuICAgICAgY29uc3QgcmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsIHwgbnVsbCA9XG4gICAgICAgIChwb3B1cFJlZGlyZWN0UmVzb2x2ZXIgJiYgX2dldEluc3RhbmNlKHBvcHVwUmVkaXJlY3RSZXNvbHZlcikpIHx8XG4gICAgICAgIHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlcjtcbiAgICAgIF9hc3NlcnQocmVzb2x2ZXIsIHRoaXMsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuICAgICAgdGhpcy5yZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlciA9IGF3YWl0IFBlcnNpc3RlbmNlVXNlck1hbmFnZXIuY3JlYXRlKFxuICAgICAgICB0aGlzLFxuICAgICAgICBbX2dldEluc3RhbmNlKHJlc29sdmVyLl9yZWRpcmVjdFBlcnNpc3RlbmNlKV0sXG4gICAgICAgIEtleU5hbWUuUkVESVJFQ1RfVVNFUlxuICAgICAgKTtcbiAgICAgIHRoaXMucmVkaXJlY3RVc2VyID1cbiAgICAgICAgYXdhaXQgdGhpcy5yZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlci5nZXRDdXJyZW50VXNlcigpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyO1xuICB9XG5cbiAgYXN5bmMgX3JlZGlyZWN0VXNlckZvcklkKGlkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJJbnRlcm5hbCB8IG51bGw+IHtcbiAgICAvLyBNYWtlIHN1cmUgd2UndmUgY2xlYXJlZCBhbnkgcGVuZGluZyBwZXJzaXN0ZW5jZSBhY3Rpb25zIGlmIHdlJ3JlIG5vdCBpblxuICAgIC8vIHRoZSBpbml0aWFsaXplclxuICAgIGlmICh0aGlzLl9pc0luaXRpYWxpemVkKSB7XG4gICAgICBhd2FpdCB0aGlzLnF1ZXVlKGFzeW5jICgpID0+IHt9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY3VycmVudFVzZXI/Ll9yZWRpcmVjdEV2ZW50SWQgPT09IGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY3VycmVudFVzZXI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVkaXJlY3RVc2VyPy5fcmVkaXJlY3RFdmVudElkID09PSBpZCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVkaXJlY3RVc2VyO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgX3BlcnNpc3RVc2VySWZDdXJyZW50KHVzZXI6IFVzZXJJbnRlcm5hbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh1c2VyID09PSB0aGlzLmN1cnJlbnRVc2VyKSB7XG4gICAgICByZXR1cm4gdGhpcy5xdWV1ZShhc3luYyAoKSA9PiB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIodXNlcikpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBOb3RpZmllcyBsaXN0ZW5lcnMgb25seSBpZiB0aGUgdXNlciBpcyBjdXJyZW50ICovXG4gIF9ub3RpZnlMaXN0ZW5lcnNJZkN1cnJlbnQodXNlcjogVXNlckludGVybmFsKTogdm9pZCB7XG4gICAgaWYgKHVzZXIgPT09IHRoaXMuY3VycmVudFVzZXIpIHtcbiAgICAgIHRoaXMubm90aWZ5QXV0aExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG4gIF9rZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7dGhpcy5jb25maWcuYXV0aERvbWFpbn06JHt0aGlzLmNvbmZpZy5hcGlLZXl9OiR7dGhpcy5uYW1lfWA7XG4gIH1cblxuICBfc3RhcnRQcm9hY3RpdmVSZWZyZXNoKCk6IHZvaWQge1xuICAgIHRoaXMuaXNQcm9hY3RpdmVSZWZyZXNoRW5hYmxlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMuY3VycmVudFVzZXIpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRVc2VyLl9zdGFydFByb2FjdGl2ZVJlZnJlc2goKTtcbiAgICB9XG4gIH1cblxuICBfc3RvcFByb2FjdGl2ZVJlZnJlc2goKTogdm9pZCB7XG4gICAgdGhpcy5pc1Byb2FjdGl2ZVJlZnJlc2hFbmFibGVkID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuY3VycmVudFVzZXIpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRVc2VyLl9zdG9wUHJvYWN0aXZlUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBSZXR1cm5zIHRoZSBjdXJyZW50IHVzZXIgY2FzdCBhcyB0aGUgaW50ZXJuYWwgdHlwZSAqL1xuICBnZXQgX2N1cnJlbnRVc2VyKCk6IFVzZXJJbnRlcm5hbCB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFVzZXIgYXMgVXNlckludGVybmFsO1xuICB9XG5cbiAgcHJpdmF0ZSBub3RpZnlBdXRoTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5faXNJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaWRUb2tlblN1YnNjcmlwdGlvbi5uZXh0KHRoaXMuY3VycmVudFVzZXIpO1xuXG4gICAgY29uc3QgY3VycmVudFVpZCA9IHRoaXMuY3VycmVudFVzZXI/LnVpZCA/PyBudWxsO1xuICAgIGlmICh0aGlzLmxhc3ROb3RpZmllZFVpZCAhPT0gY3VycmVudFVpZCkge1xuICAgICAgdGhpcy5sYXN0Tm90aWZpZWRVaWQgPSBjdXJyZW50VWlkO1xuICAgICAgdGhpcy5hdXRoU3RhdGVTdWJzY3JpcHRpb24ubmV4dCh0aGlzLmN1cnJlbnRVc2VyKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlZ2lzdGVyU3RhdGVMaXN0ZW5lcihcbiAgICBzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjxVc2VyPixcbiAgICBuZXh0T3JPYnNlcnZlcjogTmV4dE9yT2JzZXJ2ZXI8VXNlcj4sXG4gICAgZXJyb3I/OiBFcnJvckZuLFxuICAgIGNvbXBsZXRlZD86IENvbXBsZXRlRm5cbiAgKTogVW5zdWJzY3JpYmUge1xuICAgIGlmICh0aGlzLl9kZWxldGVkKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge307XG4gICAgfVxuXG4gICAgY29uc3QgY2IgPVxuICAgICAgdHlwZW9mIG5leHRPck9ic2VydmVyID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gbmV4dE9yT2JzZXJ2ZXJcbiAgICAgICAgOiBuZXh0T3JPYnNlcnZlci5uZXh0LmJpbmQobmV4dE9yT2JzZXJ2ZXIpO1xuXG4gICAgbGV0IGlzVW5zdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy5faXNJbml0aWFsaXplZFxuICAgICAgPyBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgOiB0aGlzLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gICAgX2Fzc2VydChwcm9taXNlLCB0aGlzLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICAvLyBUaGUgY2FsbGJhY2sgbmVlZHMgdG8gYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5IHBlciB0aGUgc3BlYy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIGlmIChpc1Vuc3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYih0aGlzLmN1cnJlbnRVc2VyKTtcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2YgbmV4dE9yT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc3Vic2NyaXB0aW9uLmFkZE9ic2VydmVyKFxuICAgICAgICBuZXh0T3JPYnNlcnZlcixcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGNvbXBsZXRlZFxuICAgICAgKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlzVW5zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc3Vic2NyaXB0aW9uLmFkZE9ic2VydmVyKG5leHRPck9ic2VydmVyKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlzVW5zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVucHJvdGVjdGVkIChmcm9tIHJhY2UgY29uZGl0aW9ucykgbWV0aG9kIHRvIHNldCB0aGUgY3VycmVudCB1c2VyLiBUaGlzXG4gICAqIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBmcm9tIHdpdGhpbiBhIHF1ZXVlZCBjYWxsYmFjay4gVGhpcyBpcyBuZWNlc3NhcnlcbiAgICogYmVjYXVzZSB0aGUgcXVldWUgc2hvdWxkbid0IHJlbHkgb24gYW5vdGhlciBxdWV1ZWQgY2FsbGJhY2suXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGRpcmVjdGx5U2V0Q3VycmVudFVzZXIoXG4gICAgdXNlcjogVXNlckludGVybmFsIHwgbnVsbFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5jdXJyZW50VXNlciAmJiB0aGlzLmN1cnJlbnRVc2VyICE9PSB1c2VyKSB7XG4gICAgICB0aGlzLl9jdXJyZW50VXNlci5fc3RvcFByb2FjdGl2ZVJlZnJlc2goKTtcbiAgICB9XG4gICAgaWYgKHVzZXIgJiYgdGhpcy5pc1Byb2FjdGl2ZVJlZnJlc2hFbmFibGVkKSB7XG4gICAgICB1c2VyLl9zdGFydFByb2FjdGl2ZVJlZnJlc2goKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnJlbnRVc2VyID0gdXNlcjtcblxuICAgIGlmICh1c2VyKSB7XG4gICAgICBhd2FpdCB0aGlzLmFzc2VydGVkUGVyc2lzdGVuY2Uuc2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5yZW1vdmVDdXJyZW50VXNlcigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcXVldWUoYWN0aW9uOiBBc3luY0FjdGlvbik6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIEluIGNhc2Ugc29tZXRoaW5nIGVycm9ycywgdGhlIGNhbGxiYWNrIHN0aWxsIHNob3VsZCBiZSBjYWxsZWQgaW4gb3JkZXJcbiAgICAvLyB0byBrZWVwIHRoZSBwcm9taXNlIGNoYWluIGFsaXZlXG4gICAgdGhpcy5vcGVyYXRpb25zID0gdGhpcy5vcGVyYXRpb25zLnRoZW4oYWN0aW9uLCBhY3Rpb24pO1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnM7XG4gIH1cblxuICBwcml2YXRlIGdldCBhc3NlcnRlZFBlcnNpc3RlbmNlKCk6IFBlcnNpc3RlbmNlVXNlck1hbmFnZXIge1xuICAgIF9hc3NlcnQodGhpcy5wZXJzaXN0ZW5jZU1hbmFnZXIsIHRoaXMsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlTWFuYWdlcjtcbiAgfVxuXG4gIHByaXZhdGUgZnJhbWV3b3Jrczogc3RyaW5nW10gPSBbXTtcbiAgcHJpdmF0ZSBjbGllbnRWZXJzaW9uOiBzdHJpbmc7XG4gIF9sb2dGcmFtZXdvcmsoZnJhbWV3b3JrOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIWZyYW1ld29yayB8fCB0aGlzLmZyYW1ld29ya3MuaW5jbHVkZXMoZnJhbWV3b3JrKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZyYW1ld29ya3MucHVzaChmcmFtZXdvcmspO1xuXG4gICAgLy8gU29ydCBhbHBoYWJldGljYWxseSBzbyB0aGF0IFwiRmlyZWJhc2VDb3JlLXdlYixGaXJlYmFzZVVJLXdlYlwiIGFuZFxuICAgIC8vIFwiRmlyZWJhc2VVSS13ZWIsRmlyZWJhc2VDb3JlLXdlYlwiIGFyZW4ndCB2aWV3ZWQgYXMgZGlmZmVyZW50LlxuICAgIHRoaXMuZnJhbWV3b3Jrcy5zb3J0KCk7XG4gICAgdGhpcy5jbGllbnRWZXJzaW9uID0gX2dldENsaWVudFZlcnNpb24oXG4gICAgICB0aGlzLmNvbmZpZy5jbGllbnRQbGF0Zm9ybSxcbiAgICAgIHRoaXMuX2dldEZyYW1ld29ya3MoKVxuICAgICk7XG4gIH1cbiAgX2dldEZyYW1ld29ya3MoKTogcmVhZG9ubHkgc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLmZyYW1ld29ya3M7XG4gIH1cbiAgYXN5bmMgX2dldEFkZGl0aW9uYWxIZWFkZXJzKCk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4ge1xuICAgIC8vIEFkZGl0aW9uYWwgaGVhZGVycyBvbiBldmVyeSByZXF1ZXN0XG4gICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIFtIdHRwSGVhZGVyLlhfQ0xJRU5UX1ZFUlNJT05dOiB0aGlzLmNsaWVudFZlcnNpb25cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuYXBwLm9wdGlvbnMuYXBwSWQpIHtcbiAgICAgIGhlYWRlcnNbSHR0cEhlYWRlci5YX0ZJUkVCQVNFX0dNUElEXSA9IHRoaXMuYXBwLm9wdGlvbnMuYXBwSWQ7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGhlYXJ0YmVhdCBzZXJ2aWNlIGV4aXN0cywgYWRkIHRoZSBoZWFydGJlYXQgc3RyaW5nXG4gICAgY29uc3QgaGVhcnRiZWF0c0hlYWRlciA9IGF3YWl0IHRoaXMuaGVhcnRiZWF0U2VydmljZVByb3ZpZGVyXG4gICAgICAuZ2V0SW1tZWRpYXRlKHtcbiAgICAgICAgb3B0aW9uYWw6IHRydWVcbiAgICAgIH0pXG4gICAgICA/LmdldEhlYXJ0YmVhdHNIZWFkZXIoKTtcbiAgICBpZiAoaGVhcnRiZWF0c0hlYWRlcikge1xuICAgICAgaGVhZGVyc1tIdHRwSGVhZGVyLlhfRklSRUJBU0VfQ0xJRU5UXSA9IGhlYXJ0YmVhdHNIZWFkZXI7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIEFwcCBDaGVjayBzZXJ2aWNlIGV4aXN0cywgYWRkIHRoZSBBcHAgQ2hlY2sgdG9rZW4gaW4gdGhlIGhlYWRlcnNcbiAgICBjb25zdCBhcHBDaGVja1Rva2VuID0gYXdhaXQgdGhpcy5fZ2V0QXBwQ2hlY2tUb2tlbigpO1xuICAgIGlmIChhcHBDaGVja1Rva2VuKSB7XG4gICAgICBoZWFkZXJzW0h0dHBIZWFkZXIuWF9GSVJFQkFTRV9BUFBfQ0hFQ0tdID0gYXBwQ2hlY2tUb2tlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gaGVhZGVycztcbiAgfVxuXG4gIGFzeW5jIF9nZXRBcHBDaGVja1Rva2VuKCk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgYXBwQ2hlY2tUb2tlblJlc3VsdCA9IGF3YWl0IHRoaXMuYXBwQ2hlY2tTZXJ2aWNlUHJvdmlkZXJcbiAgICAgIC5nZXRJbW1lZGlhdGUoeyBvcHRpb25hbDogdHJ1ZSB9KVxuICAgICAgPy5nZXRUb2tlbigpO1xuICAgIGlmIChhcHBDaGVja1Rva2VuUmVzdWx0Py5lcnJvcikge1xuICAgICAgLy8gQ29udGV4dDogYXBwQ2hlY2suZ2V0VG9rZW4oKSB3aWxsIG5ldmVyIHRocm93IGV2ZW4gaWYgYW4gZXJyb3IgaGFwcGVuZWQuXG4gICAgICAvLyBJbiB0aGUgZXJyb3IgY2FzZSwgYSBkdW1teSB0b2tlbiB3aWxsIGJlIHJldHVybmVkIGFsb25nIHdpdGggYW4gZXJyb3IgZmllbGQgZGVzY3JpYmluZ1xuICAgICAgLy8gdGhlIGVycm9yLiBJbiBnZW5lcmFsLCB3ZSBzaG91bGRuJ3QgY2FyZSBhYm91dCB0aGUgZXJyb3IgY29uZGl0aW9uIGFuZCBqdXN0IHVzZVxuICAgICAgLy8gdGhlIHRva2VuIChhY3R1YWwgb3IgZHVtbXkpIHRvIHNlbmQgcmVxdWVzdHMuXG4gICAgICBfbG9nV2FybihcbiAgICAgICAgYEVycm9yIHdoaWxlIHJldHJpZXZpbmcgQXBwIENoZWNrIHRva2VuOiAke2FwcENoZWNrVG9rZW5SZXN1bHQuZXJyb3J9YFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcENoZWNrVG9rZW5SZXN1bHQ/LnRva2VuO1xuICB9XG59XG5cbi8qKlxuICogTWV0aG9kIHRvIGJlIHVzZWQgdG8gY2FzdCBkb3duIHRvIG91ciBwcml2YXRlIGltcGxlbWVudGF0aW9uIG9mIEF1dGguXG4gKiBJdCB3aWxsIGFsc28gaGFuZGxlIHVud3JhcHBpbmcgZnJvbSB0aGUgY29tcGF0IHR5cGUgaWYgbmVjZXNzYXJ5XG4gKlxuICogQHBhcmFtIGF1dGggQXV0aCBvYmplY3QgcGFzc2VkIGluIGZyb20gZGV2ZWxvcGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfY2FzdEF1dGgoYXV0aDogQXV0aCk6IEF1dGhJbnRlcm5hbCB7XG4gIHJldHVybiBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCkgYXMgQXV0aEludGVybmFsO1xufVxuXG4vKiogSGVscGVyIGNsYXNzIHRvIHdyYXAgc3Vic2NyaWJlciBsb2dpYyAqL1xuY2xhc3MgU3Vic2NyaXB0aW9uPFQ+IHtcbiAgcHJpdmF0ZSBvYnNlcnZlcjogT2JzZXJ2ZXI8VCB8IG51bGw+IHwgbnVsbCA9IG51bGw7XG4gIHJlYWRvbmx5IGFkZE9ic2VydmVyOiBTdWJzY3JpYmU8VCB8IG51bGw+ID0gY3JlYXRlU3Vic2NyaWJlKFxuICAgIG9ic2VydmVyID0+ICh0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXIpXG4gICk7XG5cbiAgY29uc3RydWN0b3IocmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsKSB7fVxuXG4gIGdldCBuZXh0KCk6IE5leHRGbjxUIHwgbnVsbD4ge1xuICAgIF9hc3NlcnQodGhpcy5vYnNlcnZlciwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICByZXR1cm4gdGhpcy5vYnNlcnZlci5uZXh0LmJpbmQodGhpcy5vYnNlcnZlcik7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbnRlcmZhY2UgRXh0ZXJuYWxKU1Byb3ZpZGVyIHtcbiAgbG9hZEpTKHVybDogc3RyaW5nKTogUHJvbWlzZTxFdmVudD47XG4gIHJlY2FwdGNoYVYyU2NyaXB0OiBzdHJpbmc7XG4gIHJlY2FwdGNoYUVudGVycHJpc2VTY3JpcHQ6IHN0cmluZztcbiAgZ2FwaVNjcmlwdDogc3RyaW5nO1xufVxuXG5sZXQgZXh0ZXJuYWxKU1Byb3ZpZGVyOiBFeHRlcm5hbEpTUHJvdmlkZXIgPSB7XG4gIGFzeW5jIGxvYWRKUygpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2FkIGV4dGVybmFsIHNjcmlwdHMnKTtcbiAgfSxcblxuICByZWNhcHRjaGFWMlNjcmlwdDogJycsXG4gIHJlY2FwdGNoYUVudGVycHJpc2VTY3JpcHQ6ICcnLFxuICBnYXBpU2NyaXB0OiAnJ1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9zZXRFeHRlcm5hbEpTUHJvdmlkZXIocDogRXh0ZXJuYWxKU1Byb3ZpZGVyKTogdm9pZCB7XG4gIGV4dGVybmFsSlNQcm92aWRlciA9IHA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfbG9hZEpTKHVybDogc3RyaW5nKTogUHJvbWlzZTxFdmVudD4ge1xuICByZXR1cm4gZXh0ZXJuYWxKU1Byb3ZpZGVyLmxvYWRKUyh1cmwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3JlY2FwdGNoYVYyU2NyaXB0VXJsKCk6IHN0cmluZyB7XG4gIHJldHVybiBleHRlcm5hbEpTUHJvdmlkZXIucmVjYXB0Y2hhVjJTY3JpcHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcmVjYXB0Y2hhRW50ZXJwcmlzZVNjcmlwdFVybCgpOiBzdHJpbmcge1xuICByZXR1cm4gZXh0ZXJuYWxKU1Byb3ZpZGVyLnJlY2FwdGNoYUVudGVycHJpc2VTY3JpcHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2FwaVNjcmlwdFVybCgpOiBzdHJpbmcge1xuICByZXR1cm4gZXh0ZXJuYWxKU1Byb3ZpZGVyLmdhcGlTY3JpcHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2VuZXJhdGVDYWxsYmFja05hbWUocHJlZml4OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYF9fJHtwcmVmaXh9JHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKX1gO1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZXF1aXJlLWltcG9ydHMgKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGlzRW50ZXJwcmlzZSwgUmVjYXB0Y2hhQ29uZmlnIH0gZnJvbSAnLi9yZWNhcHRjaGEnO1xuaW1wb3J0IHsgZ2V0UmVjYXB0Y2hhQ29uZmlnIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3JlY2FwdGNoYSc7XG5pbXBvcnQge1xuICBSZWNhcHRjaGFDbGllbnRUeXBlLFxuICBSZWNhcHRjaGFWZXJzaW9uLFxuICBSZWNhcHRjaGFBY3Rpb25OYW1lLFxuICBSZWNhcHRjaGFQcm92aWRlclxufSBmcm9tICcuLi8uLi9hcGknO1xuXG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vLi4vY29yZS9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgKiBhcyBqc0hlbHBlcnMgZnJvbSAnLi4vbG9hZF9qcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuXG5leHBvcnQgY29uc3QgUkVDQVBUQ0hBX0VOVEVSUFJJU0VfVkVSSUZJRVJfVFlQRSA9ICdyZWNhcHRjaGEtZW50ZXJwcmlzZSc7XG5leHBvcnQgY29uc3QgRkFLRV9UT0tFTiA9ICdOT19SRUNBUFRDSEEnO1xuXG5leHBvcnQgY2xhc3MgUmVjYXB0Y2hhRW50ZXJwcmlzZVZlcmlmaWVyIHtcbiAgLyoqXG4gICAqIElkZW50aWZpZXMgdGhlIHR5cGUgb2YgYXBwbGljYXRpb24gdmVyaWZpZXIgKGUuZy4gXCJyZWNhcHRjaGEtZW50ZXJwcmlzZVwiKS5cbiAgICovXG4gIHJlYWRvbmx5IHR5cGUgPSBSRUNBUFRDSEFfRU5URVJQUklTRV9WRVJJRklFUl9UWVBFO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsO1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gYXV0aEV4dGVybiAtIFRoZSBjb3JyZXNwb25kaW5nIEZpcmViYXNlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKGF1dGhFeHRlcm46IEF1dGgpIHtcbiAgICB0aGlzLmF1dGggPSBfY2FzdEF1dGgoYXV0aEV4dGVybik7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIHZlcmlmaWNhdGlvbiBwcm9jZXNzLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIFByb21pc2UgZm9yIGEgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCB0byBhc3NlcnQgdGhlIHZhbGlkaXR5IG9mIGEgcmVxdWVzdC5cbiAgICovXG4gIGFzeW5jIHZlcmlmeShcbiAgICBhY3Rpb246IHN0cmluZyA9ICd2ZXJpZnknLFxuICAgIGZvcmNlUmVmcmVzaCA9IGZhbHNlXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgYXN5bmMgZnVuY3Rpb24gcmV0cmlldmVTaXRlS2V5KGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICBpZiAoIWZvcmNlUmVmcmVzaCkge1xuICAgICAgICBpZiAoYXV0aC50ZW5hbnRJZCA9PSBudWxsICYmIGF1dGguX2FnZW50UmVjYXB0Y2hhQ29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gYXV0aC5fYWdlbnRSZWNhcHRjaGFDb25maWcuc2l0ZUtleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgYXV0aC50ZW5hbnRJZCAhPSBudWxsICYmXG4gICAgICAgICAgYXV0aC5fdGVuYW50UmVjYXB0Y2hhQ29uZmlnc1thdXRoLnRlbmFudElkXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBhdXRoLl90ZW5hbnRSZWNhcHRjaGFDb25maWdzW2F1dGgudGVuYW50SWRdLnNpdGVLZXk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBnZXRSZWNhcHRjaGFDb25maWcoYXV0aCwge1xuICAgICAgICAgIGNsaWVudFR5cGU6IFJlY2FwdGNoYUNsaWVudFR5cGUuV0VCLFxuICAgICAgICAgIHZlcnNpb246IFJlY2FwdGNoYVZlcnNpb24uRU5URVJQUklTRVxuICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZWNhcHRjaGFLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdyZWNhcHRjaGEgRW50ZXJwcmlzZSBzaXRlIGtleSB1bmRlZmluZWQnKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSBuZXcgUmVjYXB0Y2hhQ29uZmlnKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgaWYgKGF1dGgudGVuYW50SWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF1dGguX2FnZW50UmVjYXB0Y2hhQ29uZmlnID0gY29uZmlnO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF1dGguX3RlbmFudFJlY2FwdGNoYUNvbmZpZ3NbYXV0aC50ZW5hbnRJZF0gPSBjb25maWc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoY29uZmlnLnNpdGVLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXRyaWV2ZVJlY2FwdGNoYVRva2VuKFxuICAgICAgc2l0ZUtleTogc3RyaW5nLFxuICAgICAgcmVzb2x2ZTogKHZhbHVlOiBzdHJpbmcgfCBQcm9taXNlTGlrZTxzdHJpbmc+KSA9PiB2b2lkLFxuICAgICAgcmVqZWN0OiAocmVhc29uPzogdW5rbm93bikgPT4gdm9pZFxuICAgICk6IHZvaWQge1xuICAgICAgY29uc3QgZ3JlY2FwdGNoYSA9IHdpbmRvdy5ncmVjYXB0Y2hhO1xuICAgICAgaWYgKGlzRW50ZXJwcmlzZShncmVjYXB0Y2hhKSkge1xuICAgICAgICBncmVjYXB0Y2hhLmVudGVycHJpc2UucmVhZHkoKCkgPT4ge1xuICAgICAgICAgIGdyZWNhcHRjaGEuZW50ZXJwcmlzZVxuICAgICAgICAgICAgLmV4ZWN1dGUoc2l0ZUtleSwgeyBhY3Rpb24gfSlcbiAgICAgICAgICAgIC50aGVuKHRva2VuID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh0b2tlbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShGQUtFX1RPS0VOKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdChFcnJvcignTm8gcmVDQVBUQ0hBIGVudGVycHJpc2Ugc2NyaXB0IGxvYWRlZC4nKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmV0cmlldmVTaXRlS2V5KHRoaXMuYXV0aClcbiAgICAgICAgLnRoZW4oc2l0ZUtleSA9PiB7XG4gICAgICAgICAgaWYgKCFmb3JjZVJlZnJlc2ggJiYgaXNFbnRlcnByaXNlKHdpbmRvdy5ncmVjYXB0Y2hhKSkge1xuICAgICAgICAgICAgcmV0cmlldmVSZWNhcHRjaGFUb2tlbihzaXRlS2V5LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICAgIG5ldyBFcnJvcignUmVjYXB0Y2hhVmVyaWZpZXIgaXMgb25seSBzdXBwb3J0ZWQgaW4gYnJvd3NlcicpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB1cmwgPSBqc0hlbHBlcnMuX3JlY2FwdGNoYUVudGVycHJpc2VTY3JpcHRVcmwoKTtcbiAgICAgICAgICAgIGlmICh1cmwubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgIHVybCArPSBzaXRlS2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAganNIZWxwZXJzXG4gICAgICAgICAgICAgIC5fbG9hZEpTKHVybClcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHJpZXZlUmVjYXB0Y2hhVG9rZW4oc2l0ZUtleSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluamVjdFJlY2FwdGNoYUZpZWxkczxUPihcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICByZXF1ZXN0OiBULFxuICBhY3Rpb246IFJlY2FwdGNoYUFjdGlvbk5hbWUsXG4gIGNhcHRjaGFSZXNwID0gZmFsc2Vcbik6IFByb21pc2U8VD4ge1xuICBjb25zdCB2ZXJpZmllciA9IG5ldyBSZWNhcHRjaGFFbnRlcnByaXNlVmVyaWZpZXIoYXV0aCk7XG4gIGxldCBjYXB0Y2hhUmVzcG9uc2U7XG4gIHRyeSB7XG4gICAgY2FwdGNoYVJlc3BvbnNlID0gYXdhaXQgdmVyaWZpZXIudmVyaWZ5KGFjdGlvbik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY2FwdGNoYVJlc3BvbnNlID0gYXdhaXQgdmVyaWZpZXIudmVyaWZ5KGFjdGlvbiwgdHJ1ZSk7XG4gIH1cbiAgY29uc3QgbmV3UmVxdWVzdCA9IHsgLi4ucmVxdWVzdCB9O1xuICBpZiAoIWNhcHRjaGFSZXNwKSB7XG4gICAgT2JqZWN0LmFzc2lnbihuZXdSZXF1ZXN0LCB7IGNhcHRjaGFSZXNwb25zZSB9KTtcbiAgfSBlbHNlIHtcbiAgICBPYmplY3QuYXNzaWduKG5ld1JlcXVlc3QsIHsgJ2NhcHRjaGFSZXNwJzogY2FwdGNoYVJlc3BvbnNlIH0pO1xuICB9XG4gIE9iamVjdC5hc3NpZ24obmV3UmVxdWVzdCwgeyAnY2xpZW50VHlwZSc6IFJlY2FwdGNoYUNsaWVudFR5cGUuV0VCIH0pO1xuICBPYmplY3QuYXNzaWduKG5ld1JlcXVlc3QsIHtcbiAgICAncmVjYXB0Y2hhVmVyc2lvbic6IFJlY2FwdGNoYVZlcnNpb24uRU5URVJQUklTRVxuICB9KTtcbiAgcmV0dXJuIG5ld1JlcXVlc3Q7XG59XG5cbnR5cGUgQWN0aW9uTWV0aG9kPFRSZXF1ZXN0LCBUUmVzcG9uc2U+ID0gKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBUUmVxdWVzdFxuKSA9PiBQcm9taXNlPFRSZXNwb25zZT47XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWNhcHRjaGFGbG93PFRSZXF1ZXN0LCBUUmVzcG9uc2U+KFxuICBhdXRoSW5zdGFuY2U6IEF1dGhJbnRlcm5hbCxcbiAgcmVxdWVzdDogVFJlcXVlc3QsXG4gIGFjdGlvbk5hbWU6IFJlY2FwdGNoYUFjdGlvbk5hbWUsXG4gIGFjdGlvbk1ldGhvZDogQWN0aW9uTWV0aG9kPFRSZXF1ZXN0LCBUUmVzcG9uc2U+XG4pOiBQcm9taXNlPFRSZXNwb25zZT4ge1xuICBpZiAoXG4gICAgYXV0aEluc3RhbmNlXG4gICAgICAuX2dldFJlY2FwdGNoYUNvbmZpZygpXG4gICAgICA/LmlzUHJvdmlkZXJFbmFibGVkKFJlY2FwdGNoYVByb3ZpZGVyLkVNQUlMX1BBU1NXT1JEX1BST1ZJREVSKVxuICApIHtcbiAgICBjb25zdCByZXF1ZXN0V2l0aFJlY2FwdGNoYSA9IGF3YWl0IGluamVjdFJlY2FwdGNoYUZpZWxkcyhcbiAgICAgIGF1dGhJbnN0YW5jZSxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBhY3Rpb25OYW1lLFxuICAgICAgYWN0aW9uTmFtZSA9PT0gUmVjYXB0Y2hhQWN0aW9uTmFtZS5HRVRfT09CX0NPREVcbiAgICApO1xuICAgIHJldHVybiBhY3Rpb25NZXRob2QoYXV0aEluc3RhbmNlLCByZXF1ZXN0V2l0aFJlY2FwdGNoYSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFjdGlvbk1ldGhvZChhdXRoSW5zdGFuY2UsIHJlcXVlc3QpLmNhdGNoKGFzeW5jIGVycm9yID0+IHtcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSBgYXV0aC8ke0F1dGhFcnJvckNvZGUuTUlTU0lOR19SRUNBUFRDSEFfVE9LRU59YCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgJHthY3Rpb25OYW1lfSBpcyBwcm90ZWN0ZWQgYnkgcmVDQVBUQ0hBIEVudGVycHJpc2UgZm9yIHRoaXMgcHJvamVjdC4gQXV0b21hdGljYWxseSB0cmlnZ2VyaW5nIHRoZSByZUNBUFRDSEEgZmxvdyBhbmQgcmVzdGFydGluZyB0aGUgZmxvdy5gXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RXaXRoUmVjYXB0Y2hhID0gYXdhaXQgaW5qZWN0UmVjYXB0Y2hhRmllbGRzKFxuICAgICAgICAgIGF1dGhJbnN0YW5jZSxcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIGFjdGlvbk5hbWUsXG4gICAgICAgICAgYWN0aW9uTmFtZSA9PT0gUmVjYXB0Y2hhQWN0aW9uTmFtZS5HRVRfT09CX0NPREVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGFjdGlvbk1ldGhvZChhdXRoSW5zdGFuY2UsIHJlcXVlc3RXaXRoUmVjYXB0Y2hhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9pbml0aWFsaXplUmVjYXB0Y2hhQ29uZmlnKGF1dGg6IEF1dGgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UmVjYXB0Y2hhQ29uZmlnKGF1dGhJbnRlcm5hbCwge1xuICAgIGNsaWVudFR5cGU6IFJlY2FwdGNoYUNsaWVudFR5cGUuV0VCLFxuICAgIHZlcnNpb246IFJlY2FwdGNoYVZlcnNpb24uRU5URVJQUklTRVxuICB9KTtcblxuICBjb25zdCBjb25maWcgPSBuZXcgUmVjYXB0Y2hhQ29uZmlnKHJlc3BvbnNlKTtcbiAgaWYgKGF1dGhJbnRlcm5hbC50ZW5hbnRJZCA9PSBudWxsKSB7XG4gICAgYXV0aEludGVybmFsLl9hZ2VudFJlY2FwdGNoYUNvbmZpZyA9IGNvbmZpZztcbiAgfSBlbHNlIHtcbiAgICBhdXRoSW50ZXJuYWwuX3RlbmFudFJlY2FwdGNoYUNvbmZpZ3NbYXV0aEludGVybmFsLnRlbmFudElkXSA9IGNvbmZpZztcbiAgfVxuXG4gIGlmIChjb25maWcuaXNQcm92aWRlckVuYWJsZWQoUmVjYXB0Y2hhUHJvdmlkZXIuRU1BSUxfUEFTU1dPUkRfUFJPVklERVIpKSB7XG4gICAgY29uc3QgdmVyaWZpZXIgPSBuZXcgUmVjYXB0Y2hhRW50ZXJwcmlzZVZlcmlmaWVyKGF1dGhJbnRlcm5hbCk7XG4gICAgdm9pZCB2ZXJpZmllci52ZXJpZnkoKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IF9nZXRQcm92aWRlciwgRmlyZWJhc2VBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IGRlZXBFcXVhbCB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IEF1dGgsIERlcGVuZGVuY2llcyB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgUGVyc2lzdGVuY2VJbnRlcm5hbCB9IGZyb20gJy4uL3BlcnNpc3RlbmNlJztcbmltcG9ydCB7IF9mYWlsIH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX2dldEluc3RhbmNlIH0gZnJvbSAnLi4vdXRpbC9pbnN0YW50aWF0b3InO1xuaW1wb3J0IHsgQXV0aEltcGwgfSBmcm9tICcuL2F1dGhfaW1wbCc7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW4ge0BsaW5rIEF1dGh9IGluc3RhbmNlIHdpdGggZmluZS1ncmFpbmVkIGNvbnRyb2wgb3ZlclxuICoge0BsaW5rIERlcGVuZGVuY2llc30uXG4gKlxuICogQHJlbWFya3NcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFsbG93cyBtb3JlIGNvbnRyb2wgb3ZlciB0aGUge0BsaW5rIEF1dGh9IGluc3RhbmNlIHRoYW5cbiAqIHtAbGluayBnZXRBdXRofS4gYGdldEF1dGhgIHVzZXMgcGxhdGZvcm0tc3BlY2lmaWMgZGVmYXVsdHMgdG8gc3VwcGx5XG4gKiB0aGUge0BsaW5rIERlcGVuZGVuY2llc30uIEluIGdlbmVyYWwsIGBnZXRBdXRoYCBpcyB0aGUgZWFzaWVzdCB3YXkgdG9cbiAqIGluaXRpYWxpemUgQXV0aCBhbmQgd29ya3MgZm9yIG1vc3QgdXNlIGNhc2VzLiBVc2UgYGluaXRpYWxpemVBdXRoYCBpZiB5b3VcbiAqIG5lZWQgY29udHJvbCBvdmVyIHdoaWNoIHBlcnNpc3RlbmNlIGxheWVyIGlzIHVzZWQsIG9yIHRvIG1pbmltaXplIGJ1bmRsZVxuICogc2l6ZSBpZiB5b3UncmUgbm90IHVzaW5nIGVpdGhlciBgc2lnbkluV2l0aFBvcHVwYCBvciBgc2lnbkluV2l0aFJlZGlyZWN0YC5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgaWYgeW91ciBhcHAgb25seSB1c2VzIGFub255bW91cyBhY2NvdW50cyBhbmQgeW91IG9ubHkgd2FudFxuICogYWNjb3VudHMgc2F2ZWQgZm9yIHRoZSBjdXJyZW50IHNlc3Npb24sIGluaXRpYWxpemUgYEF1dGhgIHdpdGg6XG4gKlxuICogYGBganNcbiAqIGNvbnN0IGF1dGggPSBpbml0aWFsaXplQXV0aChhcHAsIHtcbiAqICAgcGVyc2lzdGVuY2U6IGJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2UsXG4gKiAgIHBvcHVwUmVkaXJlY3RSZXNvbHZlcjogdW5kZWZpbmVkLFxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQXV0aChhcHA6IEZpcmViYXNlQXBwLCBkZXBzPzogRGVwZW5kZW5jaWVzKTogQXV0aCB7XG4gIGNvbnN0IHByb3ZpZGVyID0gX2dldFByb3ZpZGVyKGFwcCwgJ2F1dGgnKTtcblxuICBpZiAocHJvdmlkZXIuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgY29uc3QgYXV0aCA9IHByb3ZpZGVyLmdldEltbWVkaWF0ZSgpIGFzIEF1dGhJbXBsO1xuICAgIGNvbnN0IGluaXRpYWxPcHRpb25zID0gcHJvdmlkZXIuZ2V0T3B0aW9ucygpIGFzIERlcGVuZGVuY2llcztcbiAgICBpZiAoZGVlcEVxdWFsKGluaXRpYWxPcHRpb25zLCBkZXBzID8/IHt9KSkge1xuICAgICAgcmV0dXJuIGF1dGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuQUxSRUFEWV9JTklUSUFMSVpFRCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYXV0aCA9IHByb3ZpZGVyLmluaXRpYWxpemUoeyBvcHRpb25zOiBkZXBzIH0pIGFzIEF1dGhJbXBsO1xuXG4gIHJldHVybiBhdXRoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2luaXRpYWxpemVBdXRoSW5zdGFuY2UoXG4gIGF1dGg6IEF1dGhJbXBsLFxuICBkZXBzPzogRGVwZW5kZW5jaWVzXG4pOiB2b2lkIHtcbiAgY29uc3QgcGVyc2lzdGVuY2UgPSBkZXBzPy5wZXJzaXN0ZW5jZSB8fCBbXTtcbiAgY29uc3QgaGllcmFyY2h5ID0gKFxuICAgIEFycmF5LmlzQXJyYXkocGVyc2lzdGVuY2UpID8gcGVyc2lzdGVuY2UgOiBbcGVyc2lzdGVuY2VdXG4gICkubWFwPFBlcnNpc3RlbmNlSW50ZXJuYWw+KF9nZXRJbnN0YW5jZSk7XG4gIGlmIChkZXBzPy5lcnJvck1hcCkge1xuICAgIGF1dGguX3VwZGF0ZUVycm9yTWFwKGRlcHMuZXJyb3JNYXApO1xuICB9XG5cbiAgLy8gVGhpcyBwcm9taXNlIGlzIGludGVuZGVkIHRvIGZsb2F0OyBhdXRoIGluaXRpYWxpemF0aW9uIGhhcHBlbnMgaW4gdGhlXG4gIC8vIGJhY2tncm91bmQsIG1lYW53aGlsZSB0aGUgYXV0aCBvYmplY3QgbWF5IGJlIHVzZWQgYnkgdGhlIGFwcC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICBhdXRoLl9pbml0aWFsaXplV2l0aFBlcnNpc3RlbmNlKGhpZXJhcmNoeSwgZGVwcz8ucG9wdXBSZWRpcmVjdFJlc29sdmVyKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuL2F1dGhfaW1wbCc7XG5cbi8qKlxuICogQ2hhbmdlcyB0aGUge0BsaW5rIEF1dGh9IGluc3RhbmNlIHRvIGNvbW11bmljYXRlIHdpdGggdGhlIEZpcmViYXNlIEF1dGggRW11bGF0b3IsIGluc3RlYWQgb2YgcHJvZHVjdGlvblxuICogRmlyZWJhc2UgQXV0aCBzZXJ2aWNlcy5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBtdXN0IGJlIGNhbGxlZCBzeW5jaHJvbm91c2x5IGltbWVkaWF0ZWx5IGZvbGxvd2luZyB0aGUgZmlyc3QgY2FsbCB0b1xuICoge0BsaW5rIGluaXRpYWxpemVBdXRofS4gIERvIG5vdCB1c2Ugd2l0aCBwcm9kdWN0aW9uIGNyZWRlbnRpYWxzIGFzIGVtdWxhdG9yXG4gKiB0cmFmZmljIGlzIG5vdCBlbmNyeXB0ZWQuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25uZWN0QXV0aEVtdWxhdG9yKGF1dGgsICdodHRwOi8vMTI3LjAuMC4xOjkwOTknLCB7IGRpc2FibGVXYXJuaW5nczogdHJ1ZSB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB1cmwgLSBUaGUgVVJMIGF0IHdoaWNoIHRoZSBlbXVsYXRvciBpcyBydW5uaW5nIChlZywgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTA5OScpLlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbC4gYG9wdGlvbnMuZGlzYWJsZVdhcm5pbmdzYCBkZWZhdWx0cyB0byBgZmFsc2VgLiBTZXQgaXQgdG9cbiAqIGB0cnVlYCB0byBkaXNhYmxlIHRoZSB3YXJuaW5nIGJhbm5lciBhdHRhY2hlZCB0byB0aGUgRE9NLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RBdXRoRW11bGF0b3IoXG4gIGF1dGg6IEF1dGgsXG4gIHVybDogc3RyaW5nLFxuICBvcHRpb25zPzogeyBkaXNhYmxlV2FybmluZ3M6IGJvb2xlYW4gfVxuKTogdm9pZCB7XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgX2Fzc2VydChcbiAgICBhdXRoSW50ZXJuYWwuX2NhbkluaXRFbXVsYXRvcixcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgQXV0aEVycm9yQ29kZS5FTVVMQVRPUl9DT05GSUdfRkFJTEVEXG4gICk7XG5cbiAgX2Fzc2VydChcbiAgICAvXmh0dHBzPzpcXC9cXC8vLnRlc3QodXJsKSxcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgQXV0aEVycm9yQ29kZS5JTlZBTElEX0VNVUxBVE9SX1NDSEVNRVxuICApO1xuXG4gIGNvbnN0IGRpc2FibGVXYXJuaW5ncyA9ICEhb3B0aW9ucz8uZGlzYWJsZVdhcm5pbmdzO1xuXG4gIGNvbnN0IHByb3RvY29sID0gZXh0cmFjdFByb3RvY29sKHVybCk7XG4gIGNvbnN0IHsgaG9zdCwgcG9ydCB9ID0gZXh0cmFjdEhvc3RBbmRQb3J0KHVybCk7XG4gIGNvbnN0IHBvcnRTdHIgPSBwb3J0ID09PSBudWxsID8gJycgOiBgOiR7cG9ydH1gO1xuXG4gIC8vIEFsd2F5cyByZXBsYWNlIHBhdGggd2l0aCBcIi9cIiAoZXZlbiBpZiBpbnB1dCB1cmwgaGFkIG5vIHBhdGggYXQgYWxsLCBvciBoYWQgYSBkaWZmZXJlbnQgb25lKS5cbiAgYXV0aEludGVybmFsLmNvbmZpZy5lbXVsYXRvciA9IHsgdXJsOiBgJHtwcm90b2NvbH0vLyR7aG9zdH0ke3BvcnRTdHJ9L2AgfTtcbiAgYXV0aEludGVybmFsLnNldHRpbmdzLmFwcFZlcmlmaWNhdGlvbkRpc2FibGVkRm9yVGVzdGluZyA9IHRydWU7XG4gIGF1dGhJbnRlcm5hbC5lbXVsYXRvckNvbmZpZyA9IE9iamVjdC5mcmVlemUoe1xuICAgIGhvc3QsXG4gICAgcG9ydCxcbiAgICBwcm90b2NvbDogcHJvdG9jb2wucmVwbGFjZSgnOicsICcnKSxcbiAgICBvcHRpb25zOiBPYmplY3QuZnJlZXplKHsgZGlzYWJsZVdhcm5pbmdzIH0pXG4gIH0pO1xuXG4gIGlmICghZGlzYWJsZVdhcm5pbmdzKSB7XG4gICAgZW1pdEVtdWxhdG9yV2FybmluZygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RQcm90b2NvbCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHByb3RvY29sRW5kID0gdXJsLmluZGV4T2YoJzonKTtcbiAgcmV0dXJuIHByb3RvY29sRW5kIDwgMCA/ICcnIDogdXJsLnN1YnN0cigwLCBwcm90b2NvbEVuZCArIDEpO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0SG9zdEFuZFBvcnQodXJsOiBzdHJpbmcpOiB7XG4gIGhvc3Q6IHN0cmluZztcbiAgcG9ydDogbnVtYmVyIHwgbnVsbDtcbn0ge1xuICBjb25zdCBwcm90b2NvbCA9IGV4dHJhY3RQcm90b2NvbCh1cmwpO1xuICBjb25zdCBhdXRob3JpdHkgPSAvKFxcL1xcLyk/KFtePyMvXSspLy5leGVjKHVybC5zdWJzdHIocHJvdG9jb2wubGVuZ3RoKSk7IC8vIEJldHdlZW4gLy8gYW5kIC8sID8gb3IgIy5cbiAgaWYgKCFhdXRob3JpdHkpIHtcbiAgICByZXR1cm4geyBob3N0OiAnJywgcG9ydDogbnVsbCB9O1xuICB9XG4gIGNvbnN0IGhvc3RBbmRQb3J0ID0gYXV0aG9yaXR5WzJdLnNwbGl0KCdAJykucG9wKCkgfHwgJyc7IC8vIFN0cmlwIG91dCBcInVzZXJuYW1lOnBhc3N3b3JkQFwiLlxuICBjb25zdCBicmFja2V0ZWRJUHY2ID0gL14oXFxbW15cXF1dK1xcXSkoOnwkKS8uZXhlYyhob3N0QW5kUG9ydCk7XG4gIGlmIChicmFja2V0ZWRJUHY2KSB7XG4gICAgY29uc3QgaG9zdCA9IGJyYWNrZXRlZElQdjZbMV07XG4gICAgcmV0dXJuIHsgaG9zdCwgcG9ydDogcGFyc2VQb3J0KGhvc3RBbmRQb3J0LnN1YnN0cihob3N0Lmxlbmd0aCArIDEpKSB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IFtob3N0LCBwb3J0XSA9IGhvc3RBbmRQb3J0LnNwbGl0KCc6Jyk7XG4gICAgcmV0dXJuIHsgaG9zdCwgcG9ydDogcGFyc2VQb3J0KHBvcnQpIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VQb3J0KHBvcnRTdHI6IHN0cmluZyk6IG51bWJlciB8IG51bGwge1xuICBpZiAoIXBvcnRTdHIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBwb3J0ID0gTnVtYmVyKHBvcnRTdHIpO1xuICBpZiAoaXNOYU4ocG9ydCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcG9ydDtcbn1cblxuZnVuY3Rpb24gZW1pdEVtdWxhdG9yV2FybmluZygpOiB2b2lkIHtcbiAgZnVuY3Rpb24gYXR0YWNoQmFubmVyKCk6IHZvaWQge1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHN0eSA9IGVsLnN0eWxlO1xuICAgIGVsLmlubmVyVGV4dCA9XG4gICAgICAnUnVubmluZyBpbiBlbXVsYXRvciBtb2RlLiBEbyBub3QgdXNlIHdpdGggcHJvZHVjdGlvbiBjcmVkZW50aWFscy4nO1xuICAgIHN0eS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgc3R5LndpZHRoID0gJzEwMCUnO1xuICAgIHN0eS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZmZmZic7XG4gICAgc3R5LmJvcmRlciA9ICcuMWVtIHNvbGlkICMwMDAwMDAnO1xuICAgIHN0eS5jb2xvciA9ICcjYjUwMDAwJztcbiAgICBzdHkuYm90dG9tID0gJzBweCc7XG4gICAgc3R5LmxlZnQgPSAnMHB4JztcbiAgICBzdHkubWFyZ2luID0gJzBweCc7XG4gICAgc3R5LnpJbmRleCA9ICcxMDAwMCc7XG4gICAgc3R5LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2ZpcmViYXNlLWVtdWxhdG9yLXdhcm5pbmcnKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuaW5mbyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICdXQVJOSU5HOiBZb3UgYXJlIHVzaW5nIHRoZSBBdXRoIEVtdWxhdG9yLCcgK1xuICAgICAgICAnIHdoaWNoIGlzIGludGVuZGVkIGZvciBsb2NhbCB0ZXN0aW5nIG9ubHkuICBEbyBub3QgdXNlIHdpdGgnICtcbiAgICAgICAgJyBwcm9kdWN0aW9uIGNyZWRlbnRpYWxzLidcbiAgICApO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBhdHRhY2hCYW5uZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdHRhY2hCYW5uZXIoKTtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IGRlYnVnRmFpbCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcblxuLyoqXG4gKiBJbnRlcmZhY2UgdGhhdCByZXByZXNlbnRzIHRoZSBjcmVkZW50aWFscyByZXR1cm5lZCBieSBhbiB7QGxpbmsgQXV0aFByb3ZpZGVyfS5cbiAqXG4gKiBAcmVtYXJrc1xuICogSW1wbGVtZW50YXRpb25zIHNwZWNpZnkgdGhlIGRldGFpbHMgYWJvdXQgZWFjaCBhdXRoIHByb3ZpZGVyJ3MgY3JlZGVudGlhbCByZXF1aXJlbWVudHMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQXV0aENyZWRlbnRpYWwge1xuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgYXV0aGVudGljYXRpb24gcHJvdmlkZXIgSUQgZm9yIHRoZSBjcmVkZW50aWFsLlxuICAgICAqXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBGb3IgZXhhbXBsZSwgJ2ZhY2Vib29rLmNvbScsIG9yICdnb29nbGUuY29tJy5cbiAgICAgKi9cbiAgICByZWFkb25seSBwcm92aWRlcklkOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogVGhlIGF1dGhlbnRpY2F0aW9uIHNpZ24gaW4gbWV0aG9kIGZvciB0aGUgY3JlZGVudGlhbC5cbiAgICAgKlxuICAgICAqIEByZW1hcmtzXG4gICAgICogRm9yIGV4YW1wbGUsIHtAbGluayBTaWduSW5NZXRob2R9LkVNQUlMX1BBU1NXT1JELCBvclxuICAgICAqIHtAbGluayBTaWduSW5NZXRob2R9LkVNQUlMX0xJTksuIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlIHNpZ24taW4gbWV0aG9kXG4gICAgICogaWRlbnRpZmllciBhcyByZXR1cm5lZCBpbiB7QGxpbmsgZmV0Y2hTaWduSW5NZXRob2RzRm9yRW1haWx9LlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHNpZ25Jbk1ldGhvZDogc3RyaW5nXG4gICkge31cblxuICAvKipcbiAgICogUmV0dXJucyBhIEpTT04tc2VyaWFsaXphYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgKlxuICAgKiBAcmV0dXJucyBhIEpTT04tc2VyaWFsaXphYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgKi9cbiAgdG9KU09OKCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIGRlYnVnRmFpbCgnbm90IGltcGxlbWVudGVkJyk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9nZXRJZFRva2VuUmVzcG9uc2UoX2F1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8UGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiBkZWJ1Z0ZhaWwoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2xpbmtUb0lkVG9rZW4oXG4gICAgX2F1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBfaWRUb2tlbjogc3RyaW5nXG4gICk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIGRlYnVnRmFpbCgnbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZ2V0UmVhdXRoZW50aWNhdGlvblJlc29sdmVyKF9hdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiBkZWJ1Z0ZhaWwoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQWN0aW9uQ29kZU9wZXJhdGlvbiwgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7XG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBfYWRkVGlkSWZOZWNlc3NhcnksXG4gIF9wZXJmb3JtQXBpUmVxdWVzdFxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBNZmFFbnJvbGxtZW50IH0gZnJvbSAnLi9tZmEnO1xuaW1wb3J0IHsgU2lnblVwUmVxdWVzdCwgU2lnblVwUmVzcG9uc2UgfSBmcm9tICcuLi9hdXRoZW50aWNhdGlvbi9zaWduX3VwJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXNldFBhc3N3b3JkUmVxdWVzdCB7XG4gIG9vYkNvZGU6IHN0cmluZztcbiAgbmV3UGFzc3dvcmQ/OiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc2V0UGFzc3dvcmRSZXNwb25zZSB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIG5ld0VtYWlsPzogc3RyaW5nO1xuICByZXF1ZXN0VHlwZT86IEFjdGlvbkNvZGVPcGVyYXRpb247XG4gIG1mYUluZm8/OiBNZmFFbnJvbGxtZW50O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzZXRQYXNzd29yZChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogUmVzZXRQYXNzd29yZFJlcXVlc3Rcbik6IFByb21pc2U8UmVzZXRQYXNzd29yZFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8UmVzZXRQYXNzd29yZFJlcXVlc3QsIFJlc2V0UGFzc3dvcmRSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuUkVTRVRfUEFTU1dPUkQsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUVtYWlsUGFzc3dvcmRSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xuICByZXR1cm5TZWN1cmVUb2tlbj86IGJvb2xlYW47XG4gIGVtYWlsPzogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVFbWFpbFBhc3N3b3JkUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge31cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUVtYWlsUGFzc3dvcmQoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFVwZGF0ZUVtYWlsUGFzc3dvcmRSZXF1ZXN0XG4pOiBQcm9taXNlPFVwZGF0ZUVtYWlsUGFzc3dvcmRSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIFVwZGF0ZUVtYWlsUGFzc3dvcmRSZXF1ZXN0LFxuICAgIFVwZGF0ZUVtYWlsUGFzc3dvcmRSZXNwb25zZVxuICA+KGF1dGgsIEh0dHBNZXRob2QuUE9TVCwgRW5kcG9pbnQuU0VUX0FDQ09VTlRfSU5GTywgcmVxdWVzdCk7XG59XG5cbi8vIFVzZWQgZm9yIGxpbmtpbmcgYW4gZW1haWwvcGFzc3dvcmQgYWNjb3VudCB0byBhbiBleGlzdGluZyBpZFRva2VuLiBVc2VzIHRoZSBzYW1lIHJlcXVlc3QvcmVzcG9uc2Vcbi8vIGZvcm1hdCBhcyB1cGRhdGVFbWFpbFBhc3N3b3JkLlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpbmtFbWFpbFBhc3N3b3JkKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTaWduVXBSZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25VcFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8U2lnblVwUmVxdWVzdCwgU2lnblVwUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fVVAsXG4gICAgcmVxdWVzdFxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFwcGx5QWN0aW9uQ29kZVJlcXVlc3Qge1xuICBvb2JDb2RlOiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFwcGx5QWN0aW9uQ29kZVJlc3BvbnNlIHt9XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHBseUFjdGlvbkNvZGUoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEFwcGx5QWN0aW9uQ29kZVJlcXVlc3Rcbik6IFByb21pc2U8QXBwbHlBY3Rpb25Db2RlUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxBcHBseUFjdGlvbkNvZGVSZXF1ZXN0LCBBcHBseUFjdGlvbkNvZGVSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0VUX0FDQ09VTlRfSU5GTyxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBY3Rpb25Db2RlT3BlcmF0aW9uLCBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHtcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIFJlY2FwdGNoYUNsaWVudFR5cGUsXG4gIFJlY2FwdGNoYVZlcnNpb24sXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeSxcbiAgX3BlcmZvcm1BcGlSZXF1ZXN0LFxuICBfcGVyZm9ybVNpZ25JblJlcXVlc3Rcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgSWRUb2tlbiwgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhQYXNzd29yZFJlcXVlc3Qge1xuICByZXR1cm5TZWN1cmVUb2tlbj86IGJvb2xlYW47XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xuICBjYXB0Y2hhUmVzcG9uc2U/OiBzdHJpbmc7XG4gIGNsaWVudFR5cGU/OiBSZWNhcHRjaGFDbGllbnRUeXBlO1xuICByZWNhcHRjaGFWZXJzaW9uPzogUmVjYXB0Y2hhVmVyc2lvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoUGFzc3dvcmRSZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoUGFzc3dvcmQoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNpZ25JbldpdGhQYXNzd29yZFJlcXVlc3Rcbik6IFByb21pc2U8U2lnbkluV2l0aFBhc3N3b3JkUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtU2lnbkluUmVxdWVzdDxcbiAgICBTaWduSW5XaXRoUGFzc3dvcmRSZXF1ZXN0LFxuICAgIFNpZ25JbldpdGhQYXNzd29yZFJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9JTl9XSVRIX1BBU1NXT1JELFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldE9vYkNvZGVSZXF1ZXN0IHtcbiAgZW1haWw/OiBzdHJpbmc7IC8vIEV2ZXJ5dGhpbmcgZXhjZXB0IFZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMXG4gIGNvbnRpbnVlVXJsPzogc3RyaW5nO1xuICBpT1NCdW5kbGVJZD86IHN0cmluZztcbiAgaW9zQXBwU3RvcmVJZD86IHN0cmluZztcbiAgYW5kcm9pZFBhY2thZ2VOYW1lPzogc3RyaW5nO1xuICBhbmRyb2lkSW5zdGFsbEFwcD86IGJvb2xlYW47XG4gIGFuZHJvaWRNaW5pbXVtVmVyc2lvbkNvZGU/OiBzdHJpbmc7XG4gIGNhbkhhbmRsZUNvZGVJbkFwcD86IGJvb2xlYW47XG4gIGR5bmFtaWNMaW5rRG9tYWluPzogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbiAgdGFyZ2V0UHJvamVjdGlkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmeUVtYWlsUmVxdWVzdCBleHRlbmRzIEdldE9vYkNvZGVSZXF1ZXN0IHtcbiAgcmVxdWVzdFR5cGU6IEFjdGlvbkNvZGVPcGVyYXRpb24uVkVSSUZZX0VNQUlMO1xuICBpZFRva2VuOiBJZFRva2VuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhc3N3b3JkUmVzZXRSZXF1ZXN0IGV4dGVuZHMgR2V0T29iQ29kZVJlcXVlc3Qge1xuICByZXF1ZXN0VHlwZTogQWN0aW9uQ29kZU9wZXJhdGlvbi5QQVNTV09SRF9SRVNFVDtcbiAgZW1haWw6IHN0cmluZztcbiAgY2FwdGNoYVJlc3A/OiBzdHJpbmc7XG4gIGNsaWVudFR5cGU/OiBSZWNhcHRjaGFDbGllbnRUeXBlO1xuICByZWNhcHRjaGFWZXJzaW9uPzogUmVjYXB0Y2hhVmVyc2lvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbWFpbFNpZ25JblJlcXVlc3QgZXh0ZW5kcyBHZXRPb2JDb2RlUmVxdWVzdCB7XG4gIHJlcXVlc3RUeXBlOiBBY3Rpb25Db2RlT3BlcmF0aW9uLkVNQUlMX1NJR05JTjtcbiAgZW1haWw6IHN0cmluZztcbiAgY2FwdGNoYVJlc3A/OiBzdHJpbmc7XG4gIGNsaWVudFR5cGU/OiBSZWNhcHRjaGFDbGllbnRUeXBlO1xuICByZWNhcHRjaGFWZXJzaW9uPzogUmVjYXB0Y2hhVmVyc2lvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZXJpZnlBbmRDaGFuZ2VFbWFpbFJlcXVlc3QgZXh0ZW5kcyBHZXRPb2JDb2RlUmVxdWVzdCB7XG4gIHJlcXVlc3RUeXBlOiBBY3Rpb25Db2RlT3BlcmF0aW9uLlZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMO1xuICBpZFRva2VuOiBJZFRva2VuO1xuICBuZXdFbWFpbDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgR2V0T29iQ29kZVJlc3BvbnNlIHtcbiAgZW1haWw6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZXJpZnlFbWFpbFJlc3BvbnNlIGV4dGVuZHMgR2V0T29iQ29kZVJlc3BvbnNlIHt9XG5leHBvcnQgaW50ZXJmYWNlIFBhc3N3b3JkUmVzZXRSZXNwb25zZSBleHRlbmRzIEdldE9vYkNvZGVSZXNwb25zZSB7fVxuZXhwb3J0IGludGVyZmFjZSBFbWFpbFNpZ25JblJlc3BvbnNlIGV4dGVuZHMgR2V0T29iQ29kZVJlc3BvbnNlIHt9XG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmeUFuZENoYW5nZUVtYWlsUmVzcG9uc2UgZXh0ZW5kcyBHZXRPb2JDb2RlUmVxdWVzdCB7fVxuXG5hc3luYyBmdW5jdGlvbiBzZW5kT29iQ29kZShcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogR2V0T29iQ29kZVJlcXVlc3Rcbik6IFByb21pc2U8R2V0T29iQ29kZVJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8R2V0T29iQ29kZVJlcXVlc3QsIEdldE9vYkNvZGVSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0VORF9PT0JfQ09ERSxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRFbWFpbFZlcmlmaWNhdGlvbihcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogVmVyaWZ5RW1haWxSZXF1ZXN0XG4pOiBQcm9taXNlPFZlcmlmeUVtYWlsUmVzcG9uc2U+IHtcbiAgcmV0dXJuIHNlbmRPb2JDb2RlKGF1dGgsIHJlcXVlc3QpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogUGFzc3dvcmRSZXNldFJlcXVlc3Rcbik6IFByb21pc2U8UGFzc3dvcmRSZXNldFJlc3BvbnNlPiB7XG4gIHJldHVybiBzZW5kT29iQ29kZShhdXRoLCByZXF1ZXN0KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRTaWduSW5MaW5rVG9FbWFpbChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogRW1haWxTaWduSW5SZXF1ZXN0XG4pOiBQcm9taXNlPEVtYWlsU2lnbkluUmVzcG9uc2U+IHtcbiAgcmV0dXJuIHNlbmRPb2JDb2RlKGF1dGgsIHJlcXVlc3QpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5QW5kQ2hhbmdlRW1haWwoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFZlcmlmeUFuZENoYW5nZUVtYWlsUmVxdWVzdFxuKTogUHJvbWlzZTxWZXJpZnlBbmRDaGFuZ2VFbWFpbFJlc3BvbnNlPiB7XG4gIHJldHVybiBzZW5kT29iQ29kZShhdXRoLCByZXF1ZXN0KTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBfcGVyZm9ybVNpZ25JblJlcXVlc3QsXG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBfYWRkVGlkSWZOZWNlc3Nhcnlcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aEVtYWlsTGlua1JlcXVlc3Qge1xuICBlbWFpbDogc3RyaW5nO1xuICBvb2JDb2RlOiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhFbWFpbExpbmtSZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGlzTmV3VXNlcjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhFbWFpbExpbmsoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNpZ25JbldpdGhFbWFpbExpbmtSZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25JbldpdGhFbWFpbExpbmtSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFxuICAgIFNpZ25JbldpdGhFbWFpbExpbmtSZXF1ZXN0LFxuICAgIFNpZ25JbldpdGhFbWFpbExpbmtSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fSU5fV0lUSF9FTUFJTF9MSU5LLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhFbWFpbExpbmtGb3JMaW5raW5nUmVxdWVzdFxuICBleHRlbmRzIFNpZ25JbldpdGhFbWFpbExpbmtSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aEVtYWlsTGlua0ZvckxpbmtpbmcoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNpZ25JbldpdGhFbWFpbExpbmtGb3JMaW5raW5nUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduSW5XaXRoRW1haWxMaW5rUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtU2lnbkluUmVxdWVzdDxcbiAgICBTaWduSW5XaXRoRW1haWxMaW5rRm9yTGlua2luZ1JlcXVlc3QsXG4gICAgU2lnbkluV2l0aEVtYWlsTGlua1Jlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9JTl9XSVRIX0VNQUlMX0xJTkssXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUHJvdmlkZXJJZCwgU2lnbkluTWV0aG9kIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG5pbXBvcnQgeyBsaW5rRW1haWxQYXNzd29yZCB9IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvZW1haWxfYW5kX3Bhc3N3b3JkJztcbmltcG9ydCB7XG4gIHNpZ25JbldpdGhQYXNzd29yZCxcbiAgU2lnbkluV2l0aFBhc3N3b3JkUmVxdWVzdFxufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfYW5kX3Bhc3N3b3JkJztcbmltcG9ydCB7XG4gIHNpZ25JbldpdGhFbWFpbExpbmssXG4gIHNpZ25JbldpdGhFbWFpbExpbmtGb3JMaW5raW5nXG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9lbWFpbF9saW5rJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfZmFpbCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi9hdXRoX2NyZWRlbnRpYWwnO1xuaW1wb3J0IHsgaGFuZGxlUmVjYXB0Y2hhRmxvdyB9IGZyb20gJy4uLy4uL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV9lbnRlcnByaXNlX3ZlcmlmaWVyJztcbmltcG9ydCB7IFJlY2FwdGNoYUFjdGlvbk5hbWUsIFJlY2FwdGNoYUNsaWVudFR5cGUgfSBmcm9tICcuLi8uLi9hcGknO1xuaW1wb3J0IHsgU2lnblVwUmVxdWVzdCB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9zaWduX3VwJztcbi8qKlxuICogSW50ZXJmYWNlIHRoYXQgcmVwcmVzZW50cyB0aGUgY3JlZGVudGlhbHMgcmV0dXJuZWQgYnkge0BsaW5rIEVtYWlsQXV0aFByb3ZpZGVyfSBmb3JcbiAqIHtAbGluayBQcm92aWRlcklkfS5QQVNTV09SRFxuICpcbiAqIEByZW1hcmtzXG4gKiBDb3ZlcnMgYm90aCB7QGxpbmsgU2lnbkluTWV0aG9kfS5FTUFJTF9QQVNTV09SRCBhbmRcbiAqIHtAbGluayBTaWduSW5NZXRob2R9LkVNQUlMX0xJTksuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRW1haWxBdXRoQ3JlZGVudGlhbCBleHRlbmRzIEF1dGhDcmVkZW50aWFsIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICByZWFkb25seSBfZW1haWw6IHN0cmluZyxcbiAgICAvKiogQGludGVybmFsICovXG4gICAgcmVhZG9ubHkgX3Bhc3N3b3JkOiBzdHJpbmcsXG4gICAgc2lnbkluTWV0aG9kOiBTaWduSW5NZXRob2QsXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJlYWRvbmx5IF90ZW5hbnRJZDogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgKSB7XG4gICAgc3VwZXIoUHJvdmlkZXJJZC5QQVNTV09SRCwgc2lnbkluTWV0aG9kKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tRW1haWxBbmRQYXNzd29yZChcbiAgICBlbWFpbDogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmdcbiAgKTogRW1haWxBdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIG5ldyBFbWFpbEF1dGhDcmVkZW50aWFsKFxuICAgICAgZW1haWwsXG4gICAgICBwYXNzd29yZCxcbiAgICAgIFNpZ25Jbk1ldGhvZC5FTUFJTF9QQVNTV09SRFxuICAgICk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbUVtYWlsQW5kQ29kZShcbiAgICBlbWFpbDogc3RyaW5nLFxuICAgIG9vYkNvZGU6IHN0cmluZyxcbiAgICB0ZW5hbnRJZDogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgKTogRW1haWxBdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIG5ldyBFbWFpbEF1dGhDcmVkZW50aWFsKFxuICAgICAgZW1haWwsXG4gICAgICBvb2JDb2RlLFxuICAgICAgU2lnbkluTWV0aG9kLkVNQUlMX0xJTkssXG4gICAgICB0ZW5hbnRJZFxuICAgICk7XG4gIH1cblxuICAvKioge0Bpbmhlcml0ZG9jIEF1dGhDcmVkZW50aWFsLnRvSlNPTn0gKi9cbiAgdG9KU09OKCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVtYWlsOiB0aGlzLl9lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLl9wYXNzd29yZCxcbiAgICAgIHNpZ25Jbk1ldGhvZDogdGhpcy5zaWduSW5NZXRob2QsXG4gICAgICB0ZW5hbnRJZDogdGhpcy5fdGVuYW50SWRcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBtZXRob2QgdG8gZGVzZXJpYWxpemUgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGFuIG9iamVjdCBpbnRvIGFuIHtAbGluayAgQXV0aENyZWRlbnRpYWx9LlxuICAgKlxuICAgKiBAcGFyYW0ganNvbiAtIEVpdGhlciBgb2JqZWN0YCBvciB0aGUgc3RyaW5naWZpZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdC4gV2hlbiBzdHJpbmcgaXNcbiAgICogcHJvdmlkZWQsIGBKU09OLnBhcnNlYCB3b3VsZCBiZSBjYWxsZWQgZmlyc3QuXG4gICAqXG4gICAqIEByZXR1cm5zIElmIHRoZSBKU09OIGlucHV0IGRvZXMgbm90IHJlcHJlc2VudCBhbiB7QGxpbmsgQXV0aENyZWRlbnRpYWx9LCBudWxsIGlzIHJldHVybmVkLlxuICAgKi9cbiAgc3RhdGljIGZyb21KU09OKGpzb246IG9iamVjdCB8IHN0cmluZyk6IEVtYWlsQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBjb25zdCBvYmogPSB0eXBlb2YganNvbiA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGpzb24pIDoganNvbjtcbiAgICBpZiAob2JqPy5lbWFpbCAmJiBvYmo/LnBhc3N3b3JkKSB7XG4gICAgICBpZiAob2JqLnNpZ25Jbk1ldGhvZCA9PT0gU2lnbkluTWV0aG9kLkVNQUlMX1BBU1NXT1JEKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcm9tRW1haWxBbmRQYXNzd29yZChvYmouZW1haWwsIG9iai5wYXNzd29yZCk7XG4gICAgICB9IGVsc2UgaWYgKG9iai5zaWduSW5NZXRob2QgPT09IFNpZ25Jbk1ldGhvZC5FTUFJTF9MSU5LKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcm9tRW1haWxBbmRDb2RlKG9iai5lbWFpbCwgb2JqLnBhc3N3b3JkLCBvYmoudGVuYW50SWQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXN5bmMgX2dldElkVG9rZW5SZXNwb25zZShhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIHN3aXRjaCAodGhpcy5zaWduSW5NZXRob2QpIHtcbiAgICAgIGNhc2UgU2lnbkluTWV0aG9kLkVNQUlMX1BBU1NXT1JEOlxuICAgICAgICBjb25zdCByZXF1ZXN0OiBTaWduSW5XaXRoUGFzc3dvcmRSZXF1ZXN0ID0ge1xuICAgICAgICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlLFxuICAgICAgICAgIGVtYWlsOiB0aGlzLl9lbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogdGhpcy5fcGFzc3dvcmQsXG4gICAgICAgICAgY2xpZW50VHlwZTogUmVjYXB0Y2hhQ2xpZW50VHlwZS5XRUJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlY2FwdGNoYUZsb3coXG4gICAgICAgICAgYXV0aCxcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIFJlY2FwdGNoYUFjdGlvbk5hbWUuU0lHTl9JTl9XSVRIX1BBU1NXT1JELFxuICAgICAgICAgIHNpZ25JbldpdGhQYXNzd29yZFxuICAgICAgICApO1xuICAgICAgY2FzZSBTaWduSW5NZXRob2QuRU1BSUxfTElOSzpcbiAgICAgICAgcmV0dXJuIHNpZ25JbldpdGhFbWFpbExpbmsoYXV0aCwge1xuICAgICAgICAgIGVtYWlsOiB0aGlzLl9lbWFpbCxcbiAgICAgICAgICBvb2JDb2RlOiB0aGlzLl9wYXNzd29yZFxuICAgICAgICB9KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXN5bmMgX2xpbmtUb0lkVG9rZW4oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGlkVG9rZW46IHN0cmluZ1xuICApOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIHN3aXRjaCAodGhpcy5zaWduSW5NZXRob2QpIHtcbiAgICAgIGNhc2UgU2lnbkluTWV0aG9kLkVNQUlMX1BBU1NXT1JEOlxuICAgICAgICBjb25zdCByZXF1ZXN0OiBTaWduVXBSZXF1ZXN0ID0ge1xuICAgICAgICAgIGlkVG9rZW4sXG4gICAgICAgICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWUsXG4gICAgICAgICAgZW1haWw6IHRoaXMuX2VtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLl9wYXNzd29yZCxcbiAgICAgICAgICBjbGllbnRUeXBlOiBSZWNhcHRjaGFDbGllbnRUeXBlLldFQlxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVjYXB0Y2hhRmxvdyhcbiAgICAgICAgICBhdXRoLFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgUmVjYXB0Y2hhQWN0aW9uTmFtZS5TSUdOX1VQX1BBU1NXT1JELFxuICAgICAgICAgIGxpbmtFbWFpbFBhc3N3b3JkXG4gICAgICAgICk7XG4gICAgICBjYXNlIFNpZ25Jbk1ldGhvZC5FTUFJTF9MSU5LOlxuICAgICAgICByZXR1cm4gc2lnbkluV2l0aEVtYWlsTGlua0ZvckxpbmtpbmcoYXV0aCwge1xuICAgICAgICAgIGlkVG9rZW4sXG4gICAgICAgICAgZW1haWw6IHRoaXMuX2VtYWlsLFxuICAgICAgICAgIG9vYkNvZGU6IHRoaXMuX3Bhc3N3b3JkXG4gICAgICAgIH0pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZ2V0UmVhdXRoZW50aWNhdGlvblJlc29sdmVyKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX2dldElkVG9rZW5SZXNwb25zZShhdXRoKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBfYWRkVGlkSWZOZWNlc3NhcnksXG4gIF9wZXJmb3JtU2lnbkluUmVxdWVzdFxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBJZFRva2VuLCBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoSWRwUmVxdWVzdCB7XG4gIHJlcXVlc3RVcmk6IHN0cmluZztcbiAgcG9zdEJvZHk/OiBzdHJpbmc7XG4gIHNlc3Npb25JZD86IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG4gIHJldHVyblNlY3VyZVRva2VuOiBib29sZWFuO1xuICByZXR1cm5JZHBDcmVkZW50aWFsPzogYm9vbGVhbjtcbiAgaWRUb2tlbj86IElkVG9rZW47XG4gIGF1dG9DcmVhdGU/OiBib29sZWFuO1xuICBwZW5kaW5nVG9rZW4/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aElkcFJlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHtcbiAgb2F1dGhBY2Nlc3NUb2tlbj86IHN0cmluZztcbiAgb2F1dGhUb2tlblNlY3JldD86IHN0cmluZztcbiAgbm9uY2U/OiBzdHJpbmc7XG4gIG9hdXRoSWRUb2tlbj86IHN0cmluZztcbiAgcGVuZGluZ1Rva2VuPzogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aElkcChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2lnbkluV2l0aElkcFJlcXVlc3Rcbik6IFByb21pc2U8U2lnbkluV2l0aElkcFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8U2lnbkluV2l0aElkcFJlcXVlc3QsIFNpZ25JbldpdGhJZHBSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9JTl9XSVRIX0lEUCxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBxdWVyeXN0cmluZyB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHtcbiAgc2lnbkluV2l0aElkcCxcbiAgU2lnbkluV2l0aElkcFJlcXVlc3Rcbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2lkcCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2ZhaWwgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vYXV0aF9jcmVkZW50aWFsJztcblxuY29uc3QgSURQX1JFUVVFU1RfVVJJID0gJ2h0dHA6Ly9sb2NhbGhvc3QnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9BdXRoQ3JlZGVudGlhbFBhcmFtcyB7XG4gIC8vIE9BdXRoIDIgdXNlcyBlaXRoZXIgaWQgdG9rZW4gb3IgYWNjZXNzIHRva2VuXG4gIGlkVG9rZW4/OiBzdHJpbmcgfCBudWxsO1xuICBhY2Nlc3NUb2tlbj86IHN0cmluZyB8IG51bGw7XG5cbiAgLy8gVGhlc2UgZmllbGRzIGFyZSB1c2VkIHdpdGggT0F1dGggMVxuICBvYXV0aFRva2VuPzogc3RyaW5nO1xuICBzZWNyZXQ/OiBzdHJpbmc7XG4gIG9hdXRoVG9rZW5TZWNyZXQ/OiBzdHJpbmc7XG5cbiAgLy8gTm9uY2UgaXMgb25seSBzZXQgaWYgcGVuZGluZ1Rva2VuIGlzIG5vdCBwcmVzZW50XG4gIG5vbmNlPzogc3RyaW5nO1xuICBwZW5kaW5nVG9rZW4/OiBzdHJpbmc7XG5cbiAgLy8gVXRpbGl0aWVzXG4gIHByb3ZpZGVySWQ6IHN0cmluZztcbiAgc2lnbkluTWV0aG9kOiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgT0F1dGggY3JlZGVudGlhbHMgcmV0dXJuZWQgYnkgYW4ge0BsaW5rIE9BdXRoUHJvdmlkZXJ9LlxuICpcbiAqIEByZW1hcmtzXG4gKiBJbXBsZW1lbnRhdGlvbnMgc3BlY2lmeSB0aGUgZGV0YWlscyBhYm91dCBlYWNoIGF1dGggcHJvdmlkZXIncyBjcmVkZW50aWFsIHJlcXVpcmVtZW50cy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBPQXV0aENyZWRlbnRpYWwgZXh0ZW5kcyBBdXRoQ3JlZGVudGlhbCB7XG4gIC8qKlxuICAgKiBUaGUgT0F1dGggSUQgdG9rZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBjcmVkZW50aWFsIGlmIGl0IGJlbG9uZ3MgdG8gYW4gT0lEQyBwcm92aWRlcixcbiAgICogc3VjaCBhcyBgZ29vZ2xlLmNvbWAuXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgaWRUb2tlbj86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBjcmVkZW50aWFsIGlmIGl0IGJlbG9uZ3MgdG8gYW5cbiAgICoge0BsaW5rIE9BdXRoUHJvdmlkZXJ9LCBzdWNoIGFzIGBmYWNlYm9vay5jb21gLCBgdHdpdHRlci5jb21gLCBldGMuXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgYWNjZXNzVG9rZW4/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgT0F1dGggYWNjZXNzIHRva2VuIHNlY3JldCBhc3NvY2lhdGVkIHdpdGggdGhlIGNyZWRlbnRpYWwgaWYgaXQgYmVsb25ncyB0byBhbiBPQXV0aCAxLjBcbiAgICogcHJvdmlkZXIsIHN1Y2ggYXMgYHR3aXR0ZXIuY29tYC5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBzZWNyZXQ/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSBub25jZT86IHN0cmluZztcbiAgcHJpdmF0ZSBwZW5kaW5nVG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tUGFyYW1zKHBhcmFtczogT0F1dGhDcmVkZW50aWFsUGFyYW1zKTogT0F1dGhDcmVkZW50aWFsIHtcbiAgICBjb25zdCBjcmVkID0gbmV3IE9BdXRoQ3JlZGVudGlhbChwYXJhbXMucHJvdmlkZXJJZCwgcGFyYW1zLnNpZ25Jbk1ldGhvZCk7XG5cbiAgICBpZiAocGFyYW1zLmlkVG9rZW4gfHwgcGFyYW1zLmFjY2Vzc1Rva2VuKSB7XG4gICAgICAvLyBPQXV0aCAyIGFuZCBlaXRoZXIgSUQgdG9rZW4gb3IgYWNjZXNzIHRva2VuLlxuICAgICAgaWYgKHBhcmFtcy5pZFRva2VuKSB7XG4gICAgICAgIGNyZWQuaWRUb2tlbiA9IHBhcmFtcy5pZFRva2VuO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIGNyZWQuYWNjZXNzVG9rZW4gPSBwYXJhbXMuYWNjZXNzVG9rZW47XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBub25jZSBpZiBhdmFpbGFibGUgYW5kIG5vIHBlbmRpbmdUb2tlbiBpcyBwcmVzZW50LlxuICAgICAgaWYgKHBhcmFtcy5ub25jZSAmJiAhcGFyYW1zLnBlbmRpbmdUb2tlbikge1xuICAgICAgICBjcmVkLm5vbmNlID0gcGFyYW1zLm5vbmNlO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyYW1zLnBlbmRpbmdUb2tlbikge1xuICAgICAgICBjcmVkLnBlbmRpbmdUb2tlbiA9IHBhcmFtcy5wZW5kaW5nVG9rZW47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYXJhbXMub2F1dGhUb2tlbiAmJiBwYXJhbXMub2F1dGhUb2tlblNlY3JldCkge1xuICAgICAgLy8gT0F1dGggMSBhbmQgT0F1dGggdG9rZW4gd2l0aCB0b2tlbiBzZWNyZXRcbiAgICAgIGNyZWQuYWNjZXNzVG9rZW4gPSBwYXJhbXMub2F1dGhUb2tlbjtcbiAgICAgIGNyZWQuc2VjcmV0ID0gcGFyYW1zLm9hdXRoVG9rZW5TZWNyZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9mYWlsKEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVkO1xuICB9XG5cbiAgLyoqIHtAaW5oZXJpdGRvYyBBdXRoQ3JlZGVudGlhbC50b0pTT059ICAqL1xuICB0b0pTT04oKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWRUb2tlbjogdGhpcy5pZFRva2VuLFxuICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sXG4gICAgICBzZWNyZXQ6IHRoaXMuc2VjcmV0LFxuICAgICAgbm9uY2U6IHRoaXMubm9uY2UsXG4gICAgICBwZW5kaW5nVG9rZW46IHRoaXMucGVuZGluZ1Rva2VuLFxuICAgICAgcHJvdmlkZXJJZDogdGhpcy5wcm92aWRlcklkLFxuICAgICAgc2lnbkluTWV0aG9kOiB0aGlzLnNpZ25Jbk1ldGhvZFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3RhdGljIG1ldGhvZCB0byBkZXNlcmlhbGl6ZSBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYW4gb2JqZWN0IGludG8gYW5cbiAgICoge0BsaW5rICBBdXRoQ3JlZGVudGlhbH0uXG4gICAqXG4gICAqIEBwYXJhbSBqc29uIC0gSW5wdXQgY2FuIGJlIGVpdGhlciBPYmplY3Qgb3IgdGhlIHN0cmluZ2lmaWVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QuXG4gICAqIFdoZW4gc3RyaW5nIGlzIHByb3ZpZGVkLCBKU09OLnBhcnNlIHdvdWxkIGJlIGNhbGxlZCBmaXJzdC5cbiAgICpcbiAgICogQHJldHVybnMgSWYgdGhlIEpTT04gaW5wdXQgZG9lcyBub3QgcmVwcmVzZW50IGFuIHtAbGluayAgQXV0aENyZWRlbnRpYWx9LCBudWxsIGlzIHJldHVybmVkLlxuICAgKi9cbiAgc3RhdGljIGZyb21KU09OKGpzb246IHN0cmluZyB8IG9iamVjdCk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGNvbnN0IG9iaiA9IHR5cGVvZiBqc29uID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoanNvbikgOiBqc29uO1xuICAgIGNvbnN0IHsgcHJvdmlkZXJJZCwgc2lnbkluTWV0aG9kLCAuLi5yZXN0IH06IE9BdXRoQ3JlZGVudGlhbFBhcmFtcyA9IG9iajtcbiAgICBpZiAoIXByb3ZpZGVySWQgfHwgIXNpZ25Jbk1ldGhvZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgY3JlZCA9IG5ldyBPQXV0aENyZWRlbnRpYWwocHJvdmlkZXJJZCwgc2lnbkluTWV0aG9kKTtcbiAgICBjcmVkLmlkVG9rZW4gPSByZXN0LmlkVG9rZW4gfHwgdW5kZWZpbmVkO1xuICAgIGNyZWQuYWNjZXNzVG9rZW4gPSByZXN0LmFjY2Vzc1Rva2VuIHx8IHVuZGVmaW5lZDtcbiAgICBjcmVkLnNlY3JldCA9IHJlc3Quc2VjcmV0O1xuICAgIGNyZWQubm9uY2UgPSByZXN0Lm5vbmNlO1xuICAgIGNyZWQucGVuZGluZ1Rva2VuID0gcmVzdC5wZW5kaW5nVG9rZW4gfHwgbnVsbDtcbiAgICByZXR1cm4gY3JlZDtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2dldElkVG9rZW5SZXNwb25zZShhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmJ1aWxkUmVxdWVzdCgpO1xuICAgIHJldHVybiBzaWduSW5XaXRoSWRwKGF1dGgsIHJlcXVlc3QpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbGlua1RvSWRUb2tlbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgaWRUb2tlbjogc3RyaW5nXG4gICk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuYnVpbGRSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5pZFRva2VuID0gaWRUb2tlbjtcbiAgICByZXR1cm4gc2lnbkluV2l0aElkcChhdXRoLCByZXF1ZXN0KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2dldFJlYXV0aGVudGljYXRpb25SZXNvbHZlcihhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmJ1aWxkUmVxdWVzdCgpO1xuICAgIHJlcXVlc3QuYXV0b0NyZWF0ZSA9IGZhbHNlO1xuICAgIHJldHVybiBzaWduSW5XaXRoSWRwKGF1dGgsIHJlcXVlc3QpO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZFJlcXVlc3QoKTogU2lnbkluV2l0aElkcFJlcXVlc3Qge1xuICAgIGNvbnN0IHJlcXVlc3Q6IFNpZ25JbldpdGhJZHBSZXF1ZXN0ID0ge1xuICAgICAgcmVxdWVzdFVyaTogSURQX1JFUVVFU1RfVVJJLFxuICAgICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWVcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMucGVuZGluZ1Rva2VuKSB7XG4gICAgICByZXF1ZXN0LnBlbmRpbmdUb2tlbiA9IHRoaXMucGVuZGluZ1Rva2VuO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwb3N0Qm9keTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgICAgaWYgKHRoaXMuaWRUb2tlbikge1xuICAgICAgICBwb3N0Qm9keVsnaWRfdG9rZW4nXSA9IHRoaXMuaWRUb2tlbjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHBvc3RCb2R5WydhY2Nlc3NfdG9rZW4nXSA9IHRoaXMuYWNjZXNzVG9rZW47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zZWNyZXQpIHtcbiAgICAgICAgcG9zdEJvZHlbJ29hdXRoX3Rva2VuX3NlY3JldCddID0gdGhpcy5zZWNyZXQ7XG4gICAgICB9XG5cbiAgICAgIHBvc3RCb2R5Wydwcm92aWRlcklkJ10gPSB0aGlzLnByb3ZpZGVySWQ7XG4gICAgICBpZiAodGhpcy5ub25jZSAmJiAhdGhpcy5wZW5kaW5nVG9rZW4pIHtcbiAgICAgICAgcG9zdEJvZHlbJ25vbmNlJ10gPSB0aGlzLm5vbmNlO1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LnBvc3RCb2R5ID0gcXVlcnlzdHJpbmcocG9zdEJvZHkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXF1ZXN0O1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeSxcbiAgX21ha2VUYWdnZWRFcnJvcixcbiAgX3BlcmZvcm1BcGlSZXF1ZXN0LFxuICBfcGVyZm9ybVNpZ25JblJlcXVlc3Rcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFNlcnZlckVycm9yLCBTZXJ2ZXJFcnJvck1hcCB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBTZW5kUGhvbmVWZXJpZmljYXRpb25Db2RlUmVxdWVzdCB7XG4gIHBob25lTnVtYmVyOiBzdHJpbmc7XG4gIHJlY2FwdGNoYVRva2VuOiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRQaG9uZVZlcmlmaWNhdGlvbkNvZGVSZXNwb25zZSB7XG4gIHNlc3Npb25JbmZvOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kUGhvbmVWZXJpZmljYXRpb25Db2RlKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTZW5kUGhvbmVWZXJpZmljYXRpb25Db2RlUmVxdWVzdFxuKTogUHJvbWlzZTxTZW5kUGhvbmVWZXJpZmljYXRpb25Db2RlUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBTZW5kUGhvbmVWZXJpZmljYXRpb25Db2RlUmVxdWVzdCxcbiAgICBTZW5kUGhvbmVWZXJpZmljYXRpb25Db2RlUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TRU5EX1ZFUklGSUNBVElPTl9DT0RFLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3Qge1xuICB0ZW1wb3JhcnlQcm9vZj86IHN0cmluZztcbiAgcGhvbmVOdW1iZXI/OiBzdHJpbmc7XG4gIHNlc3Npb25JbmZvPzogc3RyaW5nO1xuICBjb2RlPzogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaW5rV2l0aFBob25lTnVtYmVyUmVxdWVzdFxuICBleHRlbmRzIFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge1xuICB0ZW1wb3JhcnlQcm9vZj86IHN0cmluZztcbiAgcGhvbmVOdW1iZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoUGhvbmVOdW1iZXIoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3Rcbik6IFByb21pc2U8U2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtU2lnbkluUmVxdWVzdDxcbiAgICBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0LFxuICAgIFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9JTl9XSVRIX1BIT05FX05VTUJFUixcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpbmtXaXRoUGhvbmVOdW1iZXIoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IExpbmtXaXRoUGhvbmVOdW1iZXJSZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlPiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFxuICAgIExpbmtXaXRoUGhvbmVOdW1iZXJSZXF1ZXN0LFxuICAgIFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9JTl9XSVRIX1BIT05FX05VTUJFUixcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbiAgaWYgKHJlc3BvbnNlLnRlbXBvcmFyeVByb29mKSB7XG4gICAgdGhyb3cgX21ha2VUYWdnZWRFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLk5FRURfQ09ORklSTUFUSU9OLCByZXNwb25zZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5pbnRlcmZhY2UgVmVyaWZ5UGhvbmVOdW1iZXJGb3JFeGlzdGluZ1JlcXVlc3RcbiAgZXh0ZW5kcyBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0IHtcbiAgb3BlcmF0aW9uOiAnUkVBVVRIJztcbn1cblxuY29uc3QgVkVSSUZZX1BIT05FX05VTUJFUl9GT1JfRVhJU1RJTkdfRVJST1JfTUFQXzogUGFydGlhbDxcbiAgU2VydmVyRXJyb3JNYXA8U2VydmVyRXJyb3I+XG4+ID0ge1xuICBbU2VydmVyRXJyb3IuVVNFUl9OT1RfRk9VTkRdOiBBdXRoRXJyb3JDb2RlLlVTRVJfREVMRVRFRFxufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBob25lTnVtYmVyRm9yRXhpc3RpbmcoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3Rcbik6IFByb21pc2U8U2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2U+IHtcbiAgY29uc3QgYXBpUmVxdWVzdDogVmVyaWZ5UGhvbmVOdW1iZXJGb3JFeGlzdGluZ1JlcXVlc3QgPSB7XG4gICAgLi4ucmVxdWVzdCxcbiAgICBvcGVyYXRpb246ICdSRUFVVEgnXG4gIH07XG4gIHJldHVybiBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8XG4gICAgVmVyaWZ5UGhvbmVOdW1iZXJGb3JFeGlzdGluZ1JlcXVlc3QsXG4gICAgU2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX0lOX1dJVEhfUEhPTkVfTlVNQkVSLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCBhcGlSZXF1ZXN0KSxcbiAgICBWRVJJRllfUEhPTkVfTlVNQkVSX0ZPUl9FWElTVElOR19FUlJPUl9NQVBfXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUHJvdmlkZXJJZCwgU2lnbkluTWV0aG9kIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG5pbXBvcnQgeyBQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQge1xuICBsaW5rV2l0aFBob25lTnVtYmVyLFxuICBzaWduSW5XaXRoUGhvbmVOdW1iZXIsXG4gIFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3QsXG4gIHZlcmlmeVBob25lTnVtYmVyRm9yRXhpc3Rpbmdcbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3Ntcyc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi9hdXRoX2NyZWRlbnRpYWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBob25lQXV0aENyZWRlbnRpYWxQYXJhbWV0ZXJzIHtcbiAgdmVyaWZpY2F0aW9uSWQ/OiBzdHJpbmc7XG4gIHZlcmlmaWNhdGlvbkNvZGU/OiBzdHJpbmc7XG4gIHBob25lTnVtYmVyPzogc3RyaW5nO1xuICB0ZW1wb3JhcnlQcm9vZj86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBjcmVkZW50aWFscyByZXR1cm5lZCBieSB7QGxpbmsgUGhvbmVBdXRoUHJvdmlkZXJ9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFBob25lQXV0aENyZWRlbnRpYWwgZXh0ZW5kcyBBdXRoQ3JlZGVudGlhbCB7XG4gIHByaXZhdGUgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBwYXJhbXM6IFBob25lQXV0aENyZWRlbnRpYWxQYXJhbWV0ZXJzKSB7XG4gICAgc3VwZXIoUHJvdmlkZXJJZC5QSE9ORSwgU2lnbkluTWV0aG9kLlBIT05FKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tVmVyaWZpY2F0aW9uKFxuICAgIHZlcmlmaWNhdGlvbklkOiBzdHJpbmcsXG4gICAgdmVyaWZpY2F0aW9uQ29kZTogc3RyaW5nXG4gICk6IFBob25lQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBuZXcgUGhvbmVBdXRoQ3JlZGVudGlhbCh7IHZlcmlmaWNhdGlvbklkLCB2ZXJpZmljYXRpb25Db2RlIH0pO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21Ub2tlblJlc3BvbnNlKFxuICAgIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gICAgdGVtcG9yYXJ5UHJvb2Y6IHN0cmluZ1xuICApOiBQaG9uZUF1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gbmV3IFBob25lQXV0aENyZWRlbnRpYWwoeyBwaG9uZU51bWJlciwgdGVtcG9yYXJ5UHJvb2YgfSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9nZXRJZFRva2VuUmVzcG9uc2UoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHNpZ25JbldpdGhQaG9uZU51bWJlcihhdXRoLCB0aGlzLl9tYWtlVmVyaWZpY2F0aW9uUmVxdWVzdCgpKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2xpbmtUb0lkVG9rZW4oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGlkVG9rZW46IHN0cmluZ1xuICApOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiBsaW5rV2l0aFBob25lTnVtYmVyKGF1dGgsIHtcbiAgICAgIGlkVG9rZW4sXG4gICAgICAuLi50aGlzLl9tYWtlVmVyaWZpY2F0aW9uUmVxdWVzdCgpXG4gICAgfSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9nZXRSZWF1dGhlbnRpY2F0aW9uUmVzb2x2ZXIoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdmVyaWZ5UGhvbmVOdW1iZXJGb3JFeGlzdGluZyhhdXRoLCB0aGlzLl9tYWtlVmVyaWZpY2F0aW9uUmVxdWVzdCgpKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX21ha2VWZXJpZmljYXRpb25SZXF1ZXN0KCk6IFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3Qge1xuICAgIGNvbnN0IHsgdGVtcG9yYXJ5UHJvb2YsIHBob25lTnVtYmVyLCB2ZXJpZmljYXRpb25JZCwgdmVyaWZpY2F0aW9uQ29kZSB9ID1cbiAgICAgIHRoaXMucGFyYW1zO1xuICAgIGlmICh0ZW1wb3JhcnlQcm9vZiAmJiBwaG9uZU51bWJlcikge1xuICAgICAgcmV0dXJuIHsgdGVtcG9yYXJ5UHJvb2YsIHBob25lTnVtYmVyIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNlc3Npb25JbmZvOiB2ZXJpZmljYXRpb25JZCxcbiAgICAgIGNvZGU6IHZlcmlmaWNhdGlvbkNvZGVcbiAgICB9O1xuICB9XG5cbiAgLyoqIHtAaW5oZXJpdGRvYyBBdXRoQ3JlZGVudGlhbC50b0pTT059ICovXG4gIHRvSlNPTigpOiBvYmplY3Qge1xuICAgIGNvbnN0IG9iajogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIHByb3ZpZGVySWQ6IHRoaXMucHJvdmlkZXJJZFxuICAgIH07XG4gICAgaWYgKHRoaXMucGFyYW1zLnBob25lTnVtYmVyKSB7XG4gICAgICBvYmoucGhvbmVOdW1iZXIgPSB0aGlzLnBhcmFtcy5waG9uZU51bWJlcjtcbiAgICB9XG4gICAgaWYgKHRoaXMucGFyYW1zLnRlbXBvcmFyeVByb29mKSB7XG4gICAgICBvYmoudGVtcG9yYXJ5UHJvb2YgPSB0aGlzLnBhcmFtcy50ZW1wb3JhcnlQcm9vZjtcbiAgICB9XG4gICAgaWYgKHRoaXMucGFyYW1zLnZlcmlmaWNhdGlvbkNvZGUpIHtcbiAgICAgIG9iai52ZXJpZmljYXRpb25Db2RlID0gdGhpcy5wYXJhbXMudmVyaWZpY2F0aW9uQ29kZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucGFyYW1zLnZlcmlmaWNhdGlvbklkKSB7XG4gICAgICBvYmoudmVyaWZpY2F0aW9uSWQgPSB0aGlzLnBhcmFtcy52ZXJpZmljYXRpb25JZDtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgLyoqIEdlbmVyYXRlcyBhIHBob25lIGNyZWRlbnRpYWwgYmFzZWQgb24gYSBwbGFpbiBvYmplY3Qgb3IgYSBKU09OIHN0cmluZy4gKi9cbiAgc3RhdGljIGZyb21KU09OKGpzb246IG9iamVjdCB8IHN0cmluZyk6IFBob25lQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBpZiAodHlwZW9mIGpzb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICBqc29uID0gSlNPTi5wYXJzZShqc29uKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHZlcmlmaWNhdGlvbklkLCB2ZXJpZmljYXRpb25Db2RlLCBwaG9uZU51bWJlciwgdGVtcG9yYXJ5UHJvb2YgfSA9XG4gICAgICBqc29uIGFzIHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gICAgaWYgKFxuICAgICAgIXZlcmlmaWNhdGlvbkNvZGUgJiZcbiAgICAgICF2ZXJpZmljYXRpb25JZCAmJlxuICAgICAgIXBob25lTnVtYmVyICYmXG4gICAgICAhdGVtcG9yYXJ5UHJvb2ZcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUGhvbmVBdXRoQ3JlZGVudGlhbCh7XG4gICAgICB2ZXJpZmljYXRpb25JZCxcbiAgICAgIHZlcmlmaWNhdGlvbkNvZGUsXG4gICAgICBwaG9uZU51bWJlcixcbiAgICAgIHRlbXBvcmFyeVByb29mXG4gICAgfSk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBleHRyYWN0UXVlcnlzdHJpbmcsIHF1ZXJ5c3RyaW5nRGVjb2RlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgQWN0aW9uQ29kZU9wZXJhdGlvbiB9IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4vdXRpbC9hc3NlcnQnO1xuXG4vKipcbiAqIEVudW1zIGZvciBmaWVsZHMgaW4gVVJMIHF1ZXJ5IHN0cmluZy5cbiAqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5jb25zdCBlbnVtIFF1ZXJ5RmllbGQge1xuICBBUElfS0VZID0gJ2FwaUtleScsXG4gIENPREUgPSAnb29iQ29kZScsXG4gIENPTlRJTlVFX1VSTCA9ICdjb250aW51ZVVybCcsXG4gIExBTkdVQUdFX0NPREUgPSAnbGFuZ3VhZ2VDb2RlJyxcbiAgTU9ERSA9ICdtb2RlJyxcbiAgVEVOQU5UX0lEID0gJ3RlbmFudElkJ1xufVxuXG4vKipcbiAqIE1hcHMgdGhlIG1vZGUgc3RyaW5nIGluIGFjdGlvbiBjb2RlIFVSTCB0byBBY3Rpb24gQ29kZSBJbmZvIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0gbW9kZVxuICovXG5mdW5jdGlvbiBwYXJzZU1vZGUobW9kZTogc3RyaW5nIHwgbnVsbCk6IEFjdGlvbkNvZGVPcGVyYXRpb24gfCBudWxsIHtcbiAgc3dpdGNoIChtb2RlKSB7XG4gICAgY2FzZSAncmVjb3ZlckVtYWlsJzpcbiAgICAgIHJldHVybiBBY3Rpb25Db2RlT3BlcmF0aW9uLlJFQ09WRVJfRU1BSUw7XG4gICAgY2FzZSAncmVzZXRQYXNzd29yZCc6XG4gICAgICByZXR1cm4gQWN0aW9uQ29kZU9wZXJhdGlvbi5QQVNTV09SRF9SRVNFVDtcbiAgICBjYXNlICdzaWduSW4nOlxuICAgICAgcmV0dXJuIEFjdGlvbkNvZGVPcGVyYXRpb24uRU1BSUxfU0lHTklOO1xuICAgIGNhc2UgJ3ZlcmlmeUVtYWlsJzpcbiAgICAgIHJldHVybiBBY3Rpb25Db2RlT3BlcmF0aW9uLlZFUklGWV9FTUFJTDtcbiAgICBjYXNlICd2ZXJpZnlBbmRDaGFuZ2VFbWFpbCc6XG4gICAgICByZXR1cm4gQWN0aW9uQ29kZU9wZXJhdGlvbi5WRVJJRllfQU5EX0NIQU5HRV9FTUFJTDtcbiAgICBjYXNlICdyZXZlcnRTZWNvbmRGYWN0b3JBZGRpdGlvbic6XG4gICAgICByZXR1cm4gQWN0aW9uQ29kZU9wZXJhdGlvbi5SRVZFUlRfU0VDT05EX0ZBQ1RPUl9BRERJVElPTjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gcGFyc2UgRkRMIGxpbmtzXG4gKlxuICogQHBhcmFtIHVybFxuICovXG5mdW5jdGlvbiBwYXJzZURlZXBMaW5rKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgbGluayA9IHF1ZXJ5c3RyaW5nRGVjb2RlKGV4dHJhY3RRdWVyeXN0cmluZyh1cmwpKVsnbGluayddO1xuXG4gIC8vIERvdWJsZSBsaW5rIGNhc2UgKGF1dG9tYXRpYyByZWRpcmVjdCkuXG4gIGNvbnN0IGRvdWJsZURlZXBMaW5rID0gbGlua1xuICAgID8gcXVlcnlzdHJpbmdEZWNvZGUoZXh0cmFjdFF1ZXJ5c3RyaW5nKGxpbmspKVsnZGVlcF9saW5rX2lkJ11cbiAgICA6IG51bGw7XG4gIC8vIGlPUyBjdXN0b20gc2NoZW1lIGxpbmtzLlxuICBjb25zdCBpT1NEZWVwTGluayA9IHF1ZXJ5c3RyaW5nRGVjb2RlKGV4dHJhY3RRdWVyeXN0cmluZyh1cmwpKVtcbiAgICAnZGVlcF9saW5rX2lkJ1xuICBdO1xuICBjb25zdCBpT1NEb3VibGVEZWVwTGluayA9IGlPU0RlZXBMaW5rXG4gICAgPyBxdWVyeXN0cmluZ0RlY29kZShleHRyYWN0UXVlcnlzdHJpbmcoaU9TRGVlcExpbmspKVsnbGluayddXG4gICAgOiBudWxsO1xuICByZXR1cm4gaU9TRG91YmxlRGVlcExpbmsgfHwgaU9TRGVlcExpbmsgfHwgZG91YmxlRGVlcExpbmsgfHwgbGluayB8fCB1cmw7XG59XG5cbi8qKlxuICogQSB1dGlsaXR5IGNsYXNzIHRvIHBhcnNlIGVtYWlsIGFjdGlvbiBVUkxzIHN1Y2ggYXMgcGFzc3dvcmQgcmVzZXQsIGVtYWlsIHZlcmlmaWNhdGlvbixcbiAqIGVtYWlsIGxpbmsgc2lnbiBpbiwgZXRjLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEFjdGlvbkNvZGVVUkwge1xuICAvKipcbiAgICogVGhlIEFQSSBrZXkgb2YgdGhlIGVtYWlsIGFjdGlvbiBsaW5rLlxuICAgKi9cbiAgcmVhZG9ubHkgYXBpS2V5OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgYWN0aW9uIGNvZGUgb2YgdGhlIGVtYWlsIGFjdGlvbiBsaW5rLlxuICAgKi9cbiAgcmVhZG9ubHkgY29kZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGNvbnRpbnVlIFVSTCBvZiB0aGUgZW1haWwgYWN0aW9uIGxpbmsuIE51bGwgaWYgbm90IHByb3ZpZGVkLlxuICAgKi9cbiAgcmVhZG9ubHkgY29udGludWVVcmw6IHN0cmluZyB8IG51bGw7XG4gIC8qKlxuICAgKiBUaGUgbGFuZ3VhZ2UgY29kZSBvZiB0aGUgZW1haWwgYWN0aW9uIGxpbmsuIE51bGwgaWYgbm90IHByb3ZpZGVkLlxuICAgKi9cbiAgcmVhZG9ubHkgbGFuZ3VhZ2VDb2RlOiBzdHJpbmcgfCBudWxsO1xuICAvKipcbiAgICogVGhlIGFjdGlvbiBwZXJmb3JtZWQgYnkgdGhlIGVtYWlsIGFjdGlvbiBsaW5rLiBJdCByZXR1cm5zIGZyb20gb25lIG9mIHRoZSB0eXBlcyBmcm9tXG4gICAqIHtAbGluayBBY3Rpb25Db2RlSW5mb31cbiAgICovXG4gIHJlYWRvbmx5IG9wZXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHRlbmFudCBJRCBvZiB0aGUgZW1haWwgYWN0aW9uIGxpbmsuIE51bGwgaWYgdGhlIGVtYWlsIGFjdGlvbiBpcyBmcm9tIHRoZSBwYXJlbnQgcHJvamVjdC5cbiAgICovXG4gIHJlYWRvbmx5IHRlbmFudElkOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gYWN0aW9uTGluayAtIFRoZSBsaW5rIGZyb20gd2hpY2ggdG8gZXh0cmFjdCB0aGUgVVJMLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEFjdGlvbkNvZGVVUkx9IG9iamVjdCwgb3IgbnVsbCBpZiB0aGUgbGluayBpcyBpbnZhbGlkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFjdGlvbkxpbms6IHN0cmluZykge1xuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHF1ZXJ5c3RyaW5nRGVjb2RlKGV4dHJhY3RRdWVyeXN0cmluZyhhY3Rpb25MaW5rKSk7XG4gICAgY29uc3QgYXBpS2V5ID0gc2VhcmNoUGFyYW1zW1F1ZXJ5RmllbGQuQVBJX0tFWV0gPz8gbnVsbDtcbiAgICBjb25zdCBjb2RlID0gc2VhcmNoUGFyYW1zW1F1ZXJ5RmllbGQuQ09ERV0gPz8gbnVsbDtcbiAgICBjb25zdCBvcGVyYXRpb24gPSBwYXJzZU1vZGUoc2VhcmNoUGFyYW1zW1F1ZXJ5RmllbGQuTU9ERV0gPz8gbnVsbCk7XG4gICAgLy8gVmFsaWRhdGUgQVBJIGtleSwgY29kZSBhbmQgbW9kZS5cbiAgICBfYXNzZXJ0KGFwaUtleSAmJiBjb2RlICYmIG9wZXJhdGlvbiwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgdGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb247XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB0aGlzLmNvbnRpbnVlVXJsID0gc2VhcmNoUGFyYW1zW1F1ZXJ5RmllbGQuQ09OVElOVUVfVVJMXSA/PyBudWxsO1xuICAgIHRoaXMubGFuZ3VhZ2VDb2RlID0gc2VhcmNoUGFyYW1zW1F1ZXJ5RmllbGQuTEFOR1VBR0VfQ09ERV0gPz8gbnVsbDtcbiAgICB0aGlzLnRlbmFudElkID0gc2VhcmNoUGFyYW1zW1F1ZXJ5RmllbGQuVEVOQU5UX0lEXSA/PyBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlcyB0aGUgZW1haWwgYWN0aW9uIGxpbmsgc3RyaW5nIGFuZCByZXR1cm5zIGFuIHtAbGluayBBY3Rpb25Db2RlVVJMfSBpZiB0aGUgbGluayBpcyB2YWxpZCxcbiAgICogb3RoZXJ3aXNlIHJldHVybnMgbnVsbC5cbiAgICpcbiAgICogQHBhcmFtIGxpbmsgIC0gVGhlIGVtYWlsIGFjdGlvbiBsaW5rIHN0cmluZy5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBBY3Rpb25Db2RlVVJMfSBvYmplY3QsIG9yIG51bGwgaWYgdGhlIGxpbmsgaXMgaW52YWxpZC5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc3RhdGljIHBhcnNlTGluayhsaW5rOiBzdHJpbmcpOiBBY3Rpb25Db2RlVVJMIHwgbnVsbCB7XG4gICAgY29uc3QgYWN0aW9uTGluayA9IHBhcnNlRGVlcExpbmsobGluayk7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgQWN0aW9uQ29kZVVSTChhY3Rpb25MaW5rKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlcyB0aGUgZW1haWwgYWN0aW9uIGxpbmsgc3RyaW5nIGFuZCByZXR1cm5zIGFuIHtAbGluayBBY3Rpb25Db2RlVVJMfSBpZlxuICogdGhlIGxpbmsgaXMgdmFsaWQsIG90aGVyd2lzZSByZXR1cm5zIG51bGwuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBY3Rpb25Db2RlVVJMKGxpbms6IHN0cmluZyk6IEFjdGlvbkNvZGVVUkwgfCBudWxsIHtcbiAgcmV0dXJuIEFjdGlvbkNvZGVVUkwucGFyc2VMaW5rKGxpbmspO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFByb3ZpZGVySWQsIFNpZ25Jbk1ldGhvZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcbmltcG9ydCB7IEF1dGhQcm92aWRlciB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IEFjdGlvbkNvZGVVUkwgfSBmcm9tICcuLi9hY3Rpb25fY29kZV91cmwnO1xuaW1wb3J0IHsgRW1haWxBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzL2VtYWlsJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyB7QGxpbmsgRW1haWxBdXRoQ3JlZGVudGlhbH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRW1haWxBdXRoUHJvdmlkZXIgaW1wbGVtZW50cyBBdXRoUHJvdmlkZXIge1xuICAvKipcbiAgICogQWx3YXlzIHNldCB0byB7QGxpbmsgUHJvdmlkZXJJZH0uUEFTU1dPUkQsIGV2ZW4gZm9yIGVtYWlsIGxpbmsuXG4gICAqL1xuICBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfSUQ6ICdwYXNzd29yZCcgPSBQcm92aWRlcklkLlBBU1NXT1JEO1xuICAvKipcbiAgICogQWx3YXlzIHNldCB0byB7QGxpbmsgU2lnbkluTWV0aG9kfS5FTUFJTF9QQVNTV09SRC5cbiAgICovXG4gIHN0YXRpYyByZWFkb25seSBFTUFJTF9QQVNTV09SRF9TSUdOX0lOX01FVEhPRDogJ3Bhc3N3b3JkJyA9XG4gICAgU2lnbkluTWV0aG9kLkVNQUlMX1BBU1NXT1JEO1xuICAvKipcbiAgICogQWx3YXlzIHNldCB0byB7QGxpbmsgU2lnbkluTWV0aG9kfS5FTUFJTF9MSU5LLlxuICAgKi9cbiAgc3RhdGljIHJlYWRvbmx5IEVNQUlMX0xJTktfU0lHTl9JTl9NRVRIT0Q6ICdlbWFpbExpbmsnID1cbiAgICBTaWduSW5NZXRob2QuRU1BSUxfTElOSztcbiAgLyoqXG4gICAqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFByb3ZpZGVySWR9LlBBU1NXT1JELCBldmVuIGZvciBlbWFpbCBsaW5rLlxuICAgKi9cbiAgcmVhZG9ubHkgcHJvdmlkZXJJZCA9IEVtYWlsQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEO1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGFuIHtAbGluayBBdXRoQ3JlZGVudGlhbH0gdXNpbmcgYW4gZW1haWwgYW5kIHBhc3N3b3JkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IGF1dGhDcmVkZW50aWFsID0gRW1haWxBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChlbWFpbCwgcGFzc3dvcmQpO1xuICAgKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhDcmVkZW50aWFsKGF1dGgsIGF1dGhDcmVkZW50aWFsKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChhdXRoLCBlbWFpbCwgcGFzc3dvcmQpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGVtYWlsIC0gRW1haWwgYWRkcmVzcy5cbiAgICogQHBhcmFtIHBhc3N3b3JkIC0gVXNlciBhY2NvdW50IHBhc3N3b3JkLlxuICAgKiBAcmV0dXJucyBUaGUgYXV0aCBwcm92aWRlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWwoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IEVtYWlsQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBFbWFpbEF1dGhDcmVkZW50aWFsLl9mcm9tRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYW4ge0BsaW5rIEF1dGhDcmVkZW50aWFsfSB1c2luZyBhbiBlbWFpbCBhbmQgYW4gZW1haWwgbGluayBhZnRlciBhIHNpZ24gaW4gd2l0aFxuICAgKiBlbWFpbCBsaW5rIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBhdXRoQ3JlZGVudGlhbCA9IEVtYWlsQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxXaXRoTGluayhhdXRoLCBlbWFpbCwgZW1haWxMaW5rKTtcbiAgICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoQ3JlZGVudGlhbChhdXRoLCBhdXRoQ3JlZGVudGlhbCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGF3YWl0IHNlbmRTaWduSW5MaW5rVG9FbWFpbChhdXRoLCBlbWFpbCk7XG4gICAqIC8vIE9idGFpbiBlbWFpbExpbmsgZnJvbSB1c2VyLlxuICAgKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbExpbmsoYXV0aCwgZW1haWwsIGVtYWlsTGluayk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UgdXNlZCB0byB2ZXJpZnkgdGhlIGxpbmsuXG4gICAqIEBwYXJhbSBlbWFpbCAtIEVtYWlsIGFkZHJlc3MuXG4gICAqIEBwYXJhbSBlbWFpbExpbmsgLSBTaWduLWluIGVtYWlsIGxpbmsuXG4gICAqIEByZXR1cm5zIC0gVGhlIGF1dGggcHJvdmlkZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsV2l0aExpbmsoXG4gICAgZW1haWw6IHN0cmluZyxcbiAgICBlbWFpbExpbms6IHN0cmluZ1xuICApOiBFbWFpbEF1dGhDcmVkZW50aWFsIHtcbiAgICBjb25zdCBhY3Rpb25Db2RlVXJsID0gQWN0aW9uQ29kZVVSTC5wYXJzZUxpbmsoZW1haWxMaW5rKTtcbiAgICBfYXNzZXJ0KGFjdGlvbkNvZGVVcmwsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuXG4gICAgcmV0dXJuIEVtYWlsQXV0aENyZWRlbnRpYWwuX2Zyb21FbWFpbEFuZENvZGUoXG4gICAgICBlbWFpbCxcbiAgICAgIGFjdGlvbkNvZGVVcmwuY29kZSxcbiAgICAgIGFjdGlvbkNvZGVVcmwudGVuYW50SWRcbiAgICApO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuLyoqXG4gKiBNYXAgb2YgT0F1dGggQ3VzdG9tIFBhcmFtZXRlcnMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBDdXN0b21QYXJhbWV0ZXJzID0gUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIEZlZGVyYXRlZCBwcm92aWRlcnMgKE9BdXRoIChpbmNsdWRpbmcgT0lEQyksIFNBTUwpLlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgbm90IG1lYW50IHRvIGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIgaW1wbGVtZW50cyBBdXRoUHJvdmlkZXIge1xuICAvKiogQGludGVybmFsICovXG4gIGRlZmF1bHRMYW5ndWFnZUNvZGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAvKiogQGludGVybmFsICovXG4gIHByaXZhdGUgY3VzdG9tUGFyYW1ldGVyczogQ3VzdG9tUGFyYW1ldGVycyA9IHt9O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgZ2VuZXJpYyBPQXV0aCBwcm92aWRlcnMuXG4gICAqXG4gICAqIEBwYXJhbSBwcm92aWRlcklkIC0gUHJvdmlkZXIgZm9yIHdoaWNoIGNyZWRlbnRpYWxzIHNob3VsZCBiZSBnZW5lcmF0ZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZWFkb25seSBwcm92aWRlcklkOiBzdHJpbmcpIHt9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGFuZ3VhZ2UgZ29kZS5cbiAgICpcbiAgICogQHBhcmFtIGxhbmd1YWdlQ29kZSAtIGxhbmd1YWdlIGNvZGVcbiAgICovXG4gIHNldERlZmF1bHRMYW5ndWFnZShsYW5ndWFnZUNvZGU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLmRlZmF1bHRMYW5ndWFnZUNvZGUgPSBsYW5ndWFnZUNvZGU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgT0F1dGggY3VzdG9tIHBhcmFtZXRlcnMgdG8gcGFzcyBpbiBhbiBPQXV0aCByZXF1ZXN0IGZvciBwb3B1cCBhbmQgcmVkaXJlY3Qgc2lnbi1pblxuICAgKiBvcGVyYXRpb25zLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBGb3IgYSBkZXRhaWxlZCBsaXN0LCBjaGVjayB0aGUgcmVzZXJ2ZWQgcmVxdWlyZWQgT0F1dGggMi4wIHBhcmFtZXRlcnMgc3VjaCBhcyBgY2xpZW50X2lkYCxcbiAgICogYHJlZGlyZWN0X3VyaWAsIGBzY29wZWAsIGByZXNwb25zZV90eXBlYCwgYW5kIGBzdGF0ZWAgYXJlIG5vdCBhbGxvd2VkIGFuZCB3aWxsIGJlIGlnbm9yZWQuXG4gICAqXG4gICAqIEBwYXJhbSBjdXN0b21PQXV0aFBhcmFtZXRlcnMgLSBUaGUgY3VzdG9tIE9BdXRoIHBhcmFtZXRlcnMgdG8gcGFzcyBpbiB0aGUgT0F1dGggcmVxdWVzdC5cbiAgICovXG4gIHNldEN1c3RvbVBhcmFtZXRlcnMoY3VzdG9tT0F1dGhQYXJhbWV0ZXJzOiBDdXN0b21QYXJhbWV0ZXJzKTogQXV0aFByb3ZpZGVyIHtcbiAgICB0aGlzLmN1c3RvbVBhcmFtZXRlcnMgPSBjdXN0b21PQXV0aFBhcmFtZXRlcnM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgdGhlIGN1cnJlbnQgbGlzdCBvZiB7QGxpbmsgQ3VzdG9tUGFyYW1ldGVyc30uXG4gICAqL1xuICBnZXRDdXN0b21QYXJhbWV0ZXJzKCk6IEN1c3RvbVBhcmFtZXRlcnMge1xuICAgIHJldHVybiB0aGlzLmN1c3RvbVBhcmFtZXRlcnM7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIsIFVzZXJDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5pbXBvcnQgeyBPQXV0aENyZWRlbnRpYWwsIE9BdXRoQ3JlZGVudGlhbFBhcmFtcyB9IGZyb20gJy4uL2NyZWRlbnRpYWxzL29hdXRoJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFNpZ25JbldpdGhJZHBSZXNwb25zZSB9IGZyb20gJy4uLy4uLy4uL2ludGVybmFsJztcbmltcG9ydCB7IEZlZGVyYXRlZEF1dGhQcm92aWRlciB9IGZyb20gJy4vZmVkZXJhdGVkJztcblxuLyoqXG4gKiBEZWZpbmVzIHRoZSBvcHRpb25zIGZvciBpbml0aWFsaXppbmcgYW4ge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0uXG4gKlxuICogQHJlbWFya3NcbiAqIEZvciBJRCB0b2tlbnMgd2l0aCBub25jZSBjbGFpbSwgdGhlIHJhdyBub25jZSBoYXMgdG8gYWxzbyBiZSBwcm92aWRlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT0F1dGhDcmVkZW50aWFsT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgT0F1dGggSUQgdG9rZW4gdXNlZCB0byBpbml0aWFsaXplIHRoZSB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfS5cbiAgICovXG4gIGlkVG9rZW4/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgT0F1dGggYWNjZXNzIHRva2VuIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0uXG4gICAqL1xuICBhY2Nlc3NUb2tlbj86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSByYXcgbm9uY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBJRCB0b2tlbi5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogSXQgaXMgcmVxdWlyZWQgd2hlbiBhbiBJRCB0b2tlbiB3aXRoIGEgbm9uY2UgZmllbGQgaXMgcHJvdmlkZWQuIFRoZSBTSEEtMjU2IGhhc2ggb2YgdGhlXG4gICAqIHJhdyBub25jZSBtdXN0IG1hdGNoIHRoZSBub25jZSBmaWVsZCBpbiB0aGUgSUQgdG9rZW4uXG4gICAqL1xuICByYXdOb25jZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBDb21tb24gY29kZSB0byBhbGwgT0F1dGggcHJvdmlkZXJzLiBUaGlzIGlzIHNlcGFyYXRlIGZyb20gdGhlXG4gKiB7QGxpbmsgT0F1dGhQcm92aWRlcn0gc28gdGhhdCBjaGlsZCBwcm92aWRlcnMgKGxpa2VcbiAqIHtAbGluayBHb29nbGVBdXRoUHJvdmlkZXJ9KSBkb24ndCBpbmhlcml0IHRoZSBgY3JlZGVudGlhbGAgaW5zdGFuY2UgbWV0aG9kLlxuICogSW5zdGVhZCwgdGhleSByZWx5IG9uIGEgc3RhdGljIGBjcmVkZW50aWFsYCBtZXRob2QuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlT0F1dGhQcm92aWRlclxuICBleHRlbmRzIEZlZGVyYXRlZEF1dGhQcm92aWRlclxuICBpbXBsZW1lbnRzIEF1dGhQcm92aWRlclxue1xuICAvKiogQGludGVybmFsICovXG4gIHByaXZhdGUgc2NvcGVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBBZGQgYW4gT0F1dGggc2NvcGUgdG8gdGhlIGNyZWRlbnRpYWwuXG4gICAqXG4gICAqIEBwYXJhbSBzY29wZSAtIFByb3ZpZGVyIE9BdXRoIHNjb3BlIHRvIGFkZC5cbiAgICovXG4gIGFkZFNjb3BlKHNjb3BlOiBzdHJpbmcpOiBBdXRoUHJvdmlkZXIge1xuICAgIC8vIElmIG5vdCBhbHJlYWR5IGFkZGVkLCBhZGQgc2NvcGUgdG8gbGlzdC5cbiAgICBpZiAoIXRoaXMuc2NvcGVzLmluY2x1ZGVzKHNjb3BlKSkge1xuICAgICAgdGhpcy5zY29wZXMucHVzaChzY29wZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBjdXJyZW50IGxpc3Qgb2YgT0F1dGggc2NvcGVzLlxuICAgKi9cbiAgZ2V0U2NvcGVzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuc2NvcGVzXTtcbiAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIGdlbmVyaWMge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSByZWRpcmVjdC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IE9BdXRoUHJvdmlkZXIoJ2dvb2dsZS5jb20nKTtcbiAqIC8vIFN0YXJ0IGEgc2lnbiBpbiBwcm9jZXNzIGZvciBhbiB1bmF1dGhlbnRpY2F0ZWQgdXNlci5cbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdwcm9maWxlJyk7XG4gKiBwcm92aWRlci5hZGRTY29wZSgnZW1haWwnKTtcbiAqIGF3YWl0IHNpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIGlmIChyZXN1bHQpIHtcbiAqICAgLy8gVGhpcyBpcyB0aGUgc2lnbmVkLWluIHVzZXJcbiAqICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogICAvLyBUaGlzIGdpdmVzIHlvdSBhIE9BdXRoIEFjY2VzcyBUb2tlbiBmb3IgdGhlIHByb3ZpZGVyLlxuICogICBjb25zdCBjcmVkZW50aWFsID0gcHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQoYXV0aCwgcmVzdWx0KTtcbiAqICAgY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSBwb3B1cC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IE9BdXRoUHJvdmlkZXIoJ2dvb2dsZS5jb20nKTtcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdwcm9maWxlJyk7XG4gKiBwcm92aWRlci5hZGRTY29wZSgnZW1haWwnKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gKlxuICogLy8gVGhlIHNpZ25lZC1pbiB1c2VyIGluZm8uXG4gKiBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAvLyBUaGlzIGdpdmVzIHlvdSBhIE9BdXRoIEFjY2VzcyBUb2tlbiBmb3IgdGhlIHByb3ZpZGVyLlxuICogY29uc3QgY3JlZGVudGlhbCA9IHByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KGF1dGgsIHJlc3VsdCk7XG4gKiBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiBgYGBcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9BdXRoUHJvdmlkZXIgZXh0ZW5kcyBCYXNlT0F1dGhQcm92aWRlciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSBKU09OIHN0cmluZyBvciBhIHBsYWluIG9iamVjdC5cbiAgICogQHBhcmFtIGpzb24gLSBBIHBsYWluIG9iamVjdCBvciBhIEpTT04gc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21KU09OKGpzb246IG9iamVjdCB8IHN0cmluZyk6IE9BdXRoQ3JlZGVudGlhbCB7XG4gICAgY29uc3Qgb2JqID0gdHlwZW9mIGpzb24gPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShqc29uKSA6IGpzb247XG4gICAgX2Fzc2VydChcbiAgICAgICdwcm92aWRlcklkJyBpbiBvYmogJiYgJ3NpZ25Jbk1ldGhvZCcgaW4gb2JqLFxuICAgICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICAgICk7XG4gICAgcmV0dXJuIE9BdXRoQ3JlZGVudGlhbC5fZnJvbVBhcmFtcyhvYmopO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEgZ2VuZXJpYyBPQXV0aCBwcm92aWRlcidzIGFjY2VzcyB0b2tlbiBvciBJRCB0b2tlbi5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhlIHJhdyBub25jZSBpcyByZXF1aXJlZCB3aGVuIGFuIElEIHRva2VuIHdpdGggYSBub25jZSBmaWVsZCBpcyBwcm92aWRlZC4gVGhlIFNIQS0yNTYgaGFzaCBvZlxuICAgKiB0aGUgcmF3IG5vbmNlIG11c3QgbWF0Y2ggdGhlIG5vbmNlIGZpZWxkIGluIHRoZSBJRCB0b2tlbi5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiAvLyBgZ29vZ2xlVXNlcmAgZnJvbSB0aGUgb25zdWNjZXNzIEdvb2dsZSBTaWduIEluIGNhbGxiYWNrLlxuICAgKiAvLyBJbml0aWFsaXplIGEgZ2VuZXJhdGUgT0F1dGggcHJvdmlkZXIgd2l0aCBhIGBnb29nbGUuY29tYCBwcm92aWRlcklkLlxuICAgKiBjb25zdCBwcm92aWRlciA9IG5ldyBPQXV0aFByb3ZpZGVyKCdnb29nbGUuY29tJyk7XG4gICAqIGNvbnN0IGNyZWRlbnRpYWwgPSBwcm92aWRlci5jcmVkZW50aWFsKHtcbiAgICogICBpZFRva2VuOiBnb29nbGVVc2VyLmdldEF1dGhSZXNwb25zZSgpLmlkX3Rva2VuLFxuICAgKiB9KTtcbiAgICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aENyZWRlbnRpYWwoY3JlZGVudGlhbCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gRWl0aGVyIHRoZSBvcHRpb25zIG9iamVjdCBjb250YWluaW5nIHRoZSBJRCB0b2tlbiwgYWNjZXNzIHRva2VuIGFuZCByYXcgbm9uY2VcbiAgICogb3IgdGhlIElEIHRva2VuIHN0cmluZy5cbiAgICovXG4gIGNyZWRlbnRpYWwocGFyYW1zOiBPQXV0aENyZWRlbnRpYWxPcHRpb25zKTogT0F1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gdGhpcy5fY3JlZGVudGlhbCh7IC4uLnBhcmFtcywgbm9uY2U6IHBhcmFtcy5yYXdOb25jZSB9KTtcbiAgfVxuXG4gIC8qKiBBbiBpbnRlcm5hbCBjcmVkZW50aWFsIG1ldGhvZCB0aGF0IGFjY2VwdHMgbW9yZSBwZXJtaXNzaXZlIG9wdGlvbnMgKi9cbiAgcHJpdmF0ZSBfY3JlZGVudGlhbChcbiAgICBwYXJhbXM6IE9taXQ8T0F1dGhDcmVkZW50aWFsUGFyYW1zLCAnc2lnbkluTWV0aG9kJyB8ICdwcm92aWRlcklkJz5cbiAgKTogT0F1dGhDcmVkZW50aWFsIHtcbiAgICBfYXNzZXJ0KHBhcmFtcy5pZFRva2VuIHx8IHBhcmFtcy5hY2Nlc3NUb2tlbiwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG4gICAgLy8gRm9yIE9BdXRoQ3JlZGVudGlhbCwgc2lnbiBpbiBtZXRob2QgaXMgc2FtZSBhcyBwcm92aWRlcklkLlxuICAgIHJldHVybiBPQXV0aENyZWRlbnRpYWwuX2Zyb21QYXJhbXMoe1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAgcHJvdmlkZXJJZDogdGhpcy5wcm92aWRlcklkLFxuICAgICAgc2lnbkluTWV0aG9kOiB0aGlzLnByb3ZpZGVySWRcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBVc2VyQ3JlZGVudGlhbH0uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21SZXN1bHQoXG4gICAgdXNlckNyZWRlbnRpYWw6IFVzZXJDcmVkZW50aWFsXG4gICk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBPQXV0aFByb3ZpZGVyLm9hdXRoQ3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICB1c2VyQ3JlZGVudGlhbCBhcyBVc2VyQ3JlZGVudGlhbEludGVybmFsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgQXV0aEVycm9yfSB3aGljaCB3YXNcbiAgICogdGhyb3duIGR1cmluZyBhIHNpZ24taW4sIGxpbmssIG9yIHJlYXV0aGVudGljYXRlIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbUVycm9yKGVycm9yOiBGaXJlYmFzZUVycm9yKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIE9BdXRoUHJvdmlkZXIub2F1dGhDcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIChlcnJvci5jdXN0b21EYXRhIHx8IHt9KSBhcyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBvYXV0aENyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KHtcbiAgICBfdG9rZW5SZXNwb25zZTogdG9rZW5SZXNwb25zZVxuICB9OiBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGlmICghdG9rZW5SZXNwb25zZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgb2F1dGhJZFRva2VuLFxuICAgICAgb2F1dGhBY2Nlc3NUb2tlbixcbiAgICAgIG9hdXRoVG9rZW5TZWNyZXQsXG4gICAgICBwZW5kaW5nVG9rZW4sXG4gICAgICBub25jZSxcbiAgICAgIHByb3ZpZGVySWRcbiAgICB9ID0gdG9rZW5SZXNwb25zZSBhcyBTaWduSW5XaXRoSWRwUmVzcG9uc2U7XG4gICAgaWYgKFxuICAgICAgIW9hdXRoQWNjZXNzVG9rZW4gJiZcbiAgICAgICFvYXV0aFRva2VuU2VjcmV0ICYmXG4gICAgICAhb2F1dGhJZFRva2VuICYmXG4gICAgICAhcGVuZGluZ1Rva2VuXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXByb3ZpZGVySWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IE9BdXRoUHJvdmlkZXIocHJvdmlkZXJJZCkuX2NyZWRlbnRpYWwoe1xuICAgICAgICBpZFRva2VuOiBvYXV0aElkVG9rZW4sXG4gICAgICAgIGFjY2Vzc1Rva2VuOiBvYXV0aEFjY2Vzc1Rva2VuLFxuICAgICAgICBub25jZSxcbiAgICAgICAgcGVuZGluZ1Rva2VuXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IE9BdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzL29hdXRoJztcbmltcG9ydCB7IEJhc2VPQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9vYXV0aCc7XG5pbXBvcnQgeyBQcm92aWRlcklkLCBTaWduSW5NZXRob2QgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcgYW4ge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZm9yIHtAbGluayBQcm92aWRlcklkfS5GQUNFQk9PSy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHJlZGlyZWN0LlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAqIC8vIFN0YXJ0IGEgc2lnbiBpbiBwcm9jZXNzIGZvciBhbiB1bmF1dGhlbnRpY2F0ZWQgdXNlci5cbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCd1c2VyX2JpcnRoZGF5Jyk7XG4gKiBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiBpZiAocmVzdWx0KSB7XG4gKiAgIC8vIFRoaXMgaXMgdGhlIHNpZ25lZC1pbiB1c2VyXG4gKiAgIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBGYWNlYm9vayBBY2Nlc3MgVG9rZW4uXG4gKiAgIGNvbnN0IGNyZWRlbnRpYWwgPSBGYWNlYm9va0F1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICogICBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHBvcHVwLlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCd1c2VyX2JpcnRoZGF5Jyk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICpcbiAqIC8vIFRoZSBzaWduZWQtaW4gdXNlciBpbmZvLlxuICogY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogLy8gVGhpcyBnaXZlcyB5b3UgYSBGYWNlYm9vayBBY2Nlc3MgVG9rZW4uXG4gKiBjb25zdCBjcmVkZW50aWFsID0gRmFjZWJvb2tBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KTtcbiAqIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEZhY2Vib29rQXV0aFByb3ZpZGVyIGV4dGVuZHMgQmFzZU9BdXRoUHJvdmlkZXIge1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgU2lnbkluTWV0aG9kfS5GQUNFQk9PSy4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IEZBQ0VCT09LX1NJR05fSU5fTUVUSE9EOiAnZmFjZWJvb2suY29tJyA9XG4gICAgU2lnbkluTWV0aG9kLkZBQ0VCT09LO1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgUHJvdmlkZXJJZH0uRkFDRUJPT0suICovXG4gIHN0YXRpYyByZWFkb25seSBQUk9WSURFUl9JRDogJ2ZhY2Vib29rLmNvbScgPSBQcm92aWRlcklkLkZBQ0VCT09LO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFByb3ZpZGVySWQuRkFDRUJPT0spO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjcmVkZW50aWFsIGZvciBGYWNlYm9vay5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiAvLyBgZXZlbnRgIGZyb20gdGhlIEZhY2Vib29rIGF1dGguYXV0aFJlc3BvbnNlQ2hhbmdlIGNhbGxiYWNrLlxuICAgKiBjb25zdCBjcmVkZW50aWFsID0gRmFjZWJvb2tBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChldmVudC5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW4pO1xuICAgKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoQ3JlZGVudGlhbChjcmVkZW50aWFsKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBhY2Nlc3NUb2tlbiAtIEZhY2Vib29rIGFjY2VzcyB0b2tlbi5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsKGFjY2Vzc1Rva2VuOiBzdHJpbmcpOiBPQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBPQXV0aENyZWRlbnRpYWwuX2Zyb21QYXJhbXMoe1xuICAgICAgcHJvdmlkZXJJZDogRmFjZWJvb2tBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQsXG4gICAgICBzaWduSW5NZXRob2Q6IEZhY2Vib29rQXV0aFByb3ZpZGVyLkZBQ0VCT09LX1NJR05fSU5fTUVUSE9ELFxuICAgICAgYWNjZXNzVG9rZW5cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBVc2VyQ3JlZGVudGlhbH0uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21SZXN1bHQoXG4gICAgdXNlckNyZWRlbnRpYWw6IFVzZXJDcmVkZW50aWFsXG4gICk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBGYWNlYm9va0F1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIHVzZXJDcmVkZW50aWFsIGFzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIEF1dGhFcnJvcn0gd2hpY2ggd2FzXG4gICAqIHRocm93biBkdXJpbmcgYSBzaWduLWluLCBsaW5rLCBvciByZWF1dGhlbnRpY2F0ZSBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21FcnJvcihlcnJvcjogRmlyZWJhc2VFcnJvcik6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBGYWNlYm9va0F1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIChlcnJvci5jdXN0b21EYXRhIHx8IHt9KSBhcyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdCh7XG4gICAgX3Rva2VuUmVzcG9uc2U6IHRva2VuUmVzcG9uc2VcbiAgfTogVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBpZiAoIXRva2VuUmVzcG9uc2UgfHwgISgnb2F1dGhBY2Nlc3NUb2tlbicgaW4gdG9rZW5SZXNwb25zZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICghdG9rZW5SZXNwb25zZS5vYXV0aEFjY2Vzc1Rva2VuKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwodG9rZW5SZXNwb25zZS5vYXV0aEFjY2Vzc1Rva2VuKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IFNpZ25JbldpdGhJZHBSZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9pZHAnO1xuaW1wb3J0IHsgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBPQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscy9vYXV0aCc7XG5pbXBvcnQgeyBCYXNlT0F1dGhQcm92aWRlciB9IGZyb20gJy4vb2F1dGgnO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCwgU2lnbkluTWV0aG9kIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIGFuIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZvciB7QGxpbmsgUHJvdmlkZXJJZH0uR09PR0xFLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBHb29nbGVBdXRoUHJvdmlkZXIoKTtcbiAqIC8vIFN0YXJ0IGEgc2lnbiBpbiBwcm9jZXNzIGZvciBhbiB1bmF1dGhlbnRpY2F0ZWQgdXNlci5cbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdwcm9maWxlJyk7XG4gKiBwcm92aWRlci5hZGRTY29wZSgnZW1haWwnKTtcbiAqIGF3YWl0IHNpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIGlmIChyZXN1bHQpIHtcbiAqICAgLy8gVGhpcyBpcyB0aGUgc2lnbmVkLWluIHVzZXJcbiAqICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogICAvLyBUaGlzIGdpdmVzIHlvdSBhIEdvb2dsZSBBY2Nlc3MgVG9rZW4uXG4gKiAgIGNvbnN0IGNyZWRlbnRpYWwgPSBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KTtcbiAqICAgY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSBwb3B1cC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEdvb2dsZUF1dGhQcm92aWRlcigpO1xuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3Byb2ZpbGUnKTtcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdlbWFpbCcpO1xuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAqXG4gKiAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby5cbiAqIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqIC8vIFRoaXMgZ2l2ZXMgeW91IGEgR29vZ2xlIEFjY2VzcyBUb2tlbi5cbiAqIGNvbnN0IGNyZWRlbnRpYWwgPSBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KTtcbiAqIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEdvb2dsZUF1dGhQcm92aWRlciBleHRlbmRzIEJhc2VPQXV0aFByb3ZpZGVyIHtcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFNpZ25Jbk1ldGhvZH0uR09PR0xFLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgR09PR0xFX1NJR05fSU5fTUVUSE9EOiAnZ29vZ2xlLmNvbScgPSBTaWduSW5NZXRob2QuR09PR0xFO1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgUHJvdmlkZXJJZH0uR09PR0xFLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfSUQ6ICdnb29nbGUuY29tJyA9IFByb3ZpZGVySWQuR09PR0xFO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFByb3ZpZGVySWQuR09PR0xFKTtcbiAgICB0aGlzLmFkZFNjb3BlKCdwcm9maWxlJyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNyZWRlbnRpYWwgZm9yIEdvb2dsZS4gQXQgbGVhc3Qgb25lIG9mIElEIHRva2VuIGFuZCBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogLy8gXFxgZ29vZ2xlVXNlclxcYCBmcm9tIHRoZSBvbnN1Y2Nlc3MgR29vZ2xlIFNpZ24gSW4gY2FsbGJhY2suXG4gICAqIGNvbnN0IGNyZWRlbnRpYWwgPSBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChnb29nbGVVc2VyLmdldEF1dGhSZXNwb25zZSgpLmlkX3Rva2VuKTtcbiAgICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aENyZWRlbnRpYWwoY3JlZGVudGlhbCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gaWRUb2tlbiAtIEdvb2dsZSBJRCB0b2tlbi5cbiAgICogQHBhcmFtIGFjY2Vzc1Rva2VuIC0gR29vZ2xlIGFjY2VzcyB0b2tlbi5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsKFxuICAgIGlkVG9rZW4/OiBzdHJpbmcgfCBudWxsLFxuICAgIGFjY2Vzc1Rva2VuPzogc3RyaW5nIHwgbnVsbFxuICApOiBPQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBPQXV0aENyZWRlbnRpYWwuX2Zyb21QYXJhbXMoe1xuICAgICAgcHJvdmlkZXJJZDogR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lELFxuICAgICAgc2lnbkluTWV0aG9kOiBHb29nbGVBdXRoUHJvdmlkZXIuR09PR0xFX1NJR05fSU5fTUVUSE9ELFxuICAgICAgaWRUb2tlbixcbiAgICAgIGFjY2Vzc1Rva2VuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgVXNlckNyZWRlbnRpYWx9LlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tUmVzdWx0KFxuICAgIHVzZXJDcmVkZW50aWFsOiBVc2VyQ3JlZGVudGlhbFxuICApOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgdXNlckNyZWRlbnRpYWwgYXMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIEF1dGhFcnJvcn0gd2hpY2ggd2FzXG4gICAqIHRocm93biBkdXJpbmcgYSBzaWduLWluLCBsaW5rLCBvciByZWF1dGhlbnRpY2F0ZSBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21FcnJvcihlcnJvcjogRmlyZWJhc2VFcnJvcik6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICAoZXJyb3IuY3VzdG9tRGF0YSB8fCB7fSkgYXMgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2VcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3Qoe1xuICAgIF90b2tlblJlc3BvbnNlOiB0b2tlblJlc3BvbnNlXG4gIH06IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgaWYgKCF0b2tlblJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB7IG9hdXRoSWRUb2tlbiwgb2F1dGhBY2Nlc3NUb2tlbiB9ID1cbiAgICAgIHRva2VuUmVzcG9uc2UgYXMgU2lnbkluV2l0aElkcFJlc3BvbnNlO1xuICAgIGlmICghb2F1dGhJZFRva2VuICYmICFvYXV0aEFjY2Vzc1Rva2VuKSB7XG4gICAgICAvLyBUaGlzIGNvdWxkIGJlIGFuIG9hdXRoIDEgY3JlZGVudGlhbCBvciBhIHBob25lIGNyZWRlbnRpYWxcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwob2F1dGhJZFRva2VuLCBvYXV0aEFjY2Vzc1Rva2VuKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgT0F1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMvb2F1dGgnO1xuaW1wb3J0IHsgQmFzZU9BdXRoUHJvdmlkZXIgfSBmcm9tICcuL29hdXRoJztcbmltcG9ydCB7IFByb3ZpZGVySWQsIFNpZ25Jbk1ldGhvZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyBhbiB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmb3Ige0BsaW5rIFByb3ZpZGVySWR9LkdJVEhVQi5cbiAqXG4gKiBAcmVtYXJrc1xuICogR2l0SHViIHJlcXVpcmVzIGFuIE9BdXRoIDIuMCByZWRpcmVjdCwgc28geW91IGNhbiBlaXRoZXIgaGFuZGxlIHRoZSByZWRpcmVjdCBkaXJlY3RseSwgb3IgdXNlXG4gKiB0aGUge0BsaW5rIHNpZ25JbldpdGhQb3B1cH0gaGFuZGxlcjpcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHJlZGlyZWN0LlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgR2l0aHViQXV0aFByb3ZpZGVyKCk7XG4gKiAvLyBTdGFydCBhIHNpZ24gaW4gcHJvY2VzcyBmb3IgYW4gdW5hdXRoZW50aWNhdGVkIHVzZXIuXG4gKiBwcm92aWRlci5hZGRTY29wZSgncmVwbycpO1xuICogYXdhaXQgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogaWYgKHJlc3VsdCkge1xuICogICAvLyBUaGlzIGlzIHRoZSBzaWduZWQtaW4gdXNlclxuICogICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgR2l0SHViIEFjY2VzcyBUb2tlbi5cbiAqICAgY29uc3QgY3JlZGVudGlhbCA9IEdpdGh1YkF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICogICBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHBvcHVwLlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgR2l0aHViQXV0aFByb3ZpZGVyKCk7XG4gKiBwcm92aWRlci5hZGRTY29wZSgncmVwbycpO1xuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAqXG4gKiAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby5cbiAqIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqIC8vIFRoaXMgZ2l2ZXMgeW91IGEgR2l0SHViIEFjY2VzcyBUb2tlbi5cbiAqIGNvbnN0IGNyZWRlbnRpYWwgPSBHaXRodWJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KTtcbiAqIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIGBgYFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgR2l0aHViQXV0aFByb3ZpZGVyIGV4dGVuZHMgQmFzZU9BdXRoUHJvdmlkZXIge1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgU2lnbkluTWV0aG9kfS5HSVRIVUIuICovXG4gIHN0YXRpYyByZWFkb25seSBHSVRIVUJfU0lHTl9JTl9NRVRIT0Q6ICdnaXRodWIuY29tJyA9IFNpZ25Jbk1ldGhvZC5HSVRIVUI7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBQcm92aWRlcklkfS5HSVRIVUIuICovXG4gIHN0YXRpYyByZWFkb25seSBQUk9WSURFUl9JRDogJ2dpdGh1Yi5jb20nID0gUHJvdmlkZXJJZC5HSVRIVUI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoUHJvdmlkZXJJZC5HSVRIVUIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjcmVkZW50aWFsIGZvciBHaXRIdWIuXG4gICAqXG4gICAqIEBwYXJhbSBhY2Nlc3NUb2tlbiAtIEdpdEh1YiBhY2Nlc3MgdG9rZW4uXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbChhY2Nlc3NUb2tlbjogc3RyaW5nKTogT0F1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gT0F1dGhDcmVkZW50aWFsLl9mcm9tUGFyYW1zKHtcbiAgICAgIHByb3ZpZGVySWQ6IEdpdGh1YkF1dGhQcm92aWRlci5QUk9WSURFUl9JRCxcbiAgICAgIHNpZ25Jbk1ldGhvZDogR2l0aHViQXV0aFByb3ZpZGVyLkdJVEhVQl9TSUdOX0lOX01FVEhPRCxcbiAgICAgIGFjY2Vzc1Rva2VuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgVXNlckNyZWRlbnRpYWx9LlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tUmVzdWx0KFxuICAgIHVzZXJDcmVkZW50aWFsOiBVc2VyQ3JlZGVudGlhbFxuICApOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gR2l0aHViQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgdXNlckNyZWRlbnRpYWwgYXMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgQXV0aEVycm9yfSB3aGljaCB3YXNcbiAgICogdGhyb3duIGR1cmluZyBhIHNpZ24taW4sIGxpbmssIG9yIHJlYXV0aGVudGljYXRlIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbUVycm9yKGVycm9yOiBGaXJlYmFzZUVycm9yKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIEdpdGh1YkF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIChlcnJvci5jdXN0b21EYXRhIHx8IHt9KSBhcyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdCh7XG4gICAgX3Rva2VuUmVzcG9uc2U6IHRva2VuUmVzcG9uc2VcbiAgfTogVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBpZiAoIXRva2VuUmVzcG9uc2UgfHwgISgnb2F1dGhBY2Nlc3NUb2tlbicgaW4gdG9rZW5SZXNwb25zZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICghdG9rZW5SZXNwb25zZS5vYXV0aEFjY2Vzc1Rva2VuKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEdpdGh1YkF1dGhQcm92aWRlci5jcmVkZW50aWFsKHRva2VuUmVzcG9uc2Uub2F1dGhBY2Nlc3NUb2tlbik7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIFNBTUwgY3JlZGVudGlhbHMgcmV0dXJuZWQgYnkgYW4ge0BsaW5rIFNBTUxBdXRoUHJvdmlkZXJ9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuXG5pbXBvcnQge1xuICBzaWduSW5XaXRoSWRwLFxuICBTaWduSW5XaXRoSWRwUmVxdWVzdFxufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vaWRwJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuL2F1dGhfY3JlZGVudGlhbCc7XG5cbmNvbnN0IElEUF9SRVFVRVNUX1VSSSA9ICdodHRwOi8vbG9jYWxob3N0JztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBTQU1MQXV0aENyZWRlbnRpYWwgZXh0ZW5kcyBBdXRoQ3JlZGVudGlhbCB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICBwcm92aWRlcklkOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwZW5kaW5nVG9rZW46IHN0cmluZ1xuICApIHtcbiAgICBzdXBlcihwcm92aWRlcklkLCBwcm92aWRlcklkKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2dldElkVG9rZW5SZXNwb25zZShhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmJ1aWxkUmVxdWVzdCgpO1xuICAgIHJldHVybiBzaWduSW5XaXRoSWRwKGF1dGgsIHJlcXVlc3QpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbGlua1RvSWRUb2tlbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgaWRUb2tlbjogc3RyaW5nXG4gICk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuYnVpbGRSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5pZFRva2VuID0gaWRUb2tlbjtcbiAgICByZXR1cm4gc2lnbkluV2l0aElkcChhdXRoLCByZXF1ZXN0KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2dldFJlYXV0aGVudGljYXRpb25SZXNvbHZlcihhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmJ1aWxkUmVxdWVzdCgpO1xuICAgIHJlcXVlc3QuYXV0b0NyZWF0ZSA9IGZhbHNlO1xuICAgIHJldHVybiBzaWduSW5XaXRoSWRwKGF1dGgsIHJlcXVlc3QpO1xuICB9XG5cbiAgLyoqIHtAaW5oZXJpdGRvYyBBdXRoQ3JlZGVudGlhbC50b0pTT059ICAqL1xuICB0b0pTT04oKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgc2lnbkluTWV0aG9kOiB0aGlzLnNpZ25Jbk1ldGhvZCxcbiAgICAgIHByb3ZpZGVySWQ6IHRoaXMucHJvdmlkZXJJZCxcbiAgICAgIHBlbmRpbmdUb2tlbjogdGhpcy5wZW5kaW5nVG9rZW5cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBtZXRob2QgdG8gZGVzZXJpYWxpemUgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGFuIG9iamVjdCBpbnRvIGFuXG4gICAqIHtAbGluayAgQXV0aENyZWRlbnRpYWx9LlxuICAgKlxuICAgKiBAcGFyYW0ganNvbiAtIElucHV0IGNhbiBiZSBlaXRoZXIgT2JqZWN0IG9yIHRoZSBzdHJpbmdpZmllZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0LlxuICAgKiBXaGVuIHN0cmluZyBpcyBwcm92aWRlZCwgSlNPTi5wYXJzZSB3b3VsZCBiZSBjYWxsZWQgZmlyc3QuXG4gICAqXG4gICAqIEByZXR1cm5zIElmIHRoZSBKU09OIGlucHV0IGRvZXMgbm90IHJlcHJlc2VudCBhbiB7QGxpbmsgIEF1dGhDcmVkZW50aWFsfSwgbnVsbCBpcyByZXR1cm5lZC5cbiAgICovXG4gIHN0YXRpYyBmcm9tSlNPTihqc29uOiBzdHJpbmcgfCBvYmplY3QpOiBTQU1MQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBjb25zdCBvYmogPSB0eXBlb2YganNvbiA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGpzb24pIDoganNvbjtcbiAgICBjb25zdCB7IHByb3ZpZGVySWQsIHNpZ25Jbk1ldGhvZCwgcGVuZGluZ1Rva2VuIH06IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPVxuICAgICAgb2JqO1xuICAgIGlmIChcbiAgICAgICFwcm92aWRlcklkIHx8XG4gICAgICAhc2lnbkluTWV0aG9kIHx8XG4gICAgICAhcGVuZGluZ1Rva2VuIHx8XG4gICAgICBwcm92aWRlcklkICE9PSBzaWduSW5NZXRob2RcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgU0FNTEF1dGhDcmVkZW50aWFsKHByb3ZpZGVySWQsIHBlbmRpbmdUb2tlbik7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHN0YXRpYyBtZXRob2QgdG8gYXZvaWQgZXhwb3NpbmcgdGhlIGNvbnN0cnVjdG9yIHRvIGVuZCB1c2Vycy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzdGF0aWMgX2NyZWF0ZShwcm92aWRlcklkOiBzdHJpbmcsIHBlbmRpbmdUb2tlbjogc3RyaW5nKTogU0FNTEF1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gbmV3IFNBTUxBdXRoQ3JlZGVudGlhbChwcm92aWRlcklkLCBwZW5kaW5nVG9rZW4pO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZFJlcXVlc3QoKTogU2lnbkluV2l0aElkcFJlcXVlc3Qge1xuICAgIHJldHVybiB7XG4gICAgICByZXF1ZXN0VXJpOiBJRFBfUkVRVUVTVF9VUkksXG4gICAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZSxcbiAgICAgIHBlbmRpbmdUb2tlbjogdGhpcy5wZW5kaW5nVG9rZW5cbiAgICB9O1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IFNpZ25JbldpdGhJZHBSZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9pZHAnO1xuaW1wb3J0IHsgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IFNBTUxBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzL3NhbWwnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgRmVkZXJhdGVkQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9mZWRlcmF0ZWQnO1xuXG5jb25zdCBTQU1MX1BST1ZJREVSX1BSRUZJWCA9ICdzYW1sLic7XG5cbi8qKlxuICogQW4ge0BsaW5rIEF1dGhQcm92aWRlcn0gZm9yIFNBTUwuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgU0FNTEF1dGhQcm92aWRlciBleHRlbmRzIEZlZGVyYXRlZEF1dGhQcm92aWRlciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Rvci4gVGhlIHByb3ZpZGVySWQgbXVzdCBzdGFydCB3aXRoIFwic2FtbC5cIlxuICAgKiBAcGFyYW0gcHJvdmlkZXJJZCAtIFNBTUwgcHJvdmlkZXIgSUQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcm92aWRlcklkOiBzdHJpbmcpIHtcbiAgICBfYXNzZXJ0KFxuICAgICAgcHJvdmlkZXJJZC5zdGFydHNXaXRoKFNBTUxfUFJPVklERVJfUFJFRklYKSxcbiAgICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgICApO1xuICAgIHN1cGVyKHByb3ZpZGVySWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiB7QGxpbmsgQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgVXNlckNyZWRlbnRpYWx9IGFmdGVyIGFcbiAgICogc3VjY2Vzc2Z1bCBTQU1MIGZsb3cgY29tcGxldGVzLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgdG8gZ2V0IGFuIHtAbGluayBBdXRoQ3JlZGVudGlhbH0sIHlvdSBjb3VsZCB3cml0ZSB0aGVcbiAgICogZm9sbG93aW5nIGNvZGU6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHNhbWxQcm92aWRlcik7XG4gICAqIGNvbnN0IGNyZWRlbnRpYWwgPSBTQU1MQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHVzZXJDcmVkZW50aWFsKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21SZXN1bHQoXG4gICAgdXNlckNyZWRlbnRpYWw6IFVzZXJDcmVkZW50aWFsXG4gICk6IEF1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIFNBTUxBdXRoUHJvdmlkZXIuc2FtbENyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgdXNlckNyZWRlbnRpYWwgYXMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgQXV0aEVycm9yfSB3aGljaCB3YXNcbiAgICogdGhyb3duIGR1cmluZyBhIHNpZ24taW4sIGxpbmssIG9yIHJlYXV0aGVudGljYXRlIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbUVycm9yKGVycm9yOiBGaXJlYmFzZUVycm9yKTogQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gU0FNTEF1dGhQcm92aWRlci5zYW1sQ3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICAoZXJyb3IuY3VzdG9tRGF0YSB8fCB7fSkgYXMgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2VcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4ge0BsaW5rIEF1dGhDcmVkZW50aWFsfSBmcm9tIGEgSlNPTiBzdHJpbmcgb3IgYSBwbGFpbiBvYmplY3QuXG4gICAqIEBwYXJhbSBqc29uIC0gQSBwbGFpbiBvYmplY3Qgb3IgYSBKU09OIHN0cmluZ1xuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tSlNPTihqc29uOiBzdHJpbmcgfCBvYmplY3QpOiBBdXRoQ3JlZGVudGlhbCB7XG4gICAgY29uc3QgY3JlZGVudGlhbCA9IFNBTUxBdXRoQ3JlZGVudGlhbC5mcm9tSlNPTihqc29uKTtcbiAgICBfYXNzZXJ0KGNyZWRlbnRpYWwsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuICAgIHJldHVybiBjcmVkZW50aWFsO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc2FtbENyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KHtcbiAgICBfdG9rZW5SZXNwb25zZTogdG9rZW5SZXNwb25zZVxuICB9OiBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSk6IFNBTUxBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGlmICghdG9rZW5SZXNwb25zZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgeyBwZW5kaW5nVG9rZW4sIHByb3ZpZGVySWQgfSA9IHRva2VuUmVzcG9uc2UgYXMgU2lnbkluV2l0aElkcFJlc3BvbnNlO1xuXG4gICAgaWYgKCFwZW5kaW5nVG9rZW4gfHwgIXByb3ZpZGVySWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gU0FNTEF1dGhDcmVkZW50aWFsLl9jcmVhdGUocHJvdmlkZXJJZCwgcGVuZGluZ1Rva2VuKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBUd2l0dGVyIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgU2lnbkluV2l0aElkcFJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2lkcCc7XG5pbXBvcnQgeyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IE9BdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzL29hdXRoJztcbmltcG9ydCB7IEJhc2VPQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9vYXV0aCc7XG5pbXBvcnQgeyBQcm92aWRlcklkLCBTaWduSW5NZXRob2QgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcgYW4ge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZm9yIHtAbGluayBQcm92aWRlcklkfS5UV0lUVEVSLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBUd2l0dGVyQXV0aFByb3ZpZGVyKCk7XG4gKiAvLyBTdGFydCBhIHNpZ24gaW4gcHJvY2VzcyBmb3IgYW4gdW5hdXRoZW50aWNhdGVkIHVzZXIuXG4gKiBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiBpZiAocmVzdWx0KSB7XG4gKiAgIC8vIFRoaXMgaXMgdGhlIHNpZ25lZC1pbiB1c2VyXG4gKiAgIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBUd2l0dGVyIEFjY2VzcyBUb2tlbiBhbmQgU2VjcmV0LlxuICogICBjb25zdCBjcmVkZW50aWFsID0gVHdpdHRlckF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICogICBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiAgIGNvbnN0IHNlY3JldCA9IGNyZWRlbnRpYWwuc2VjcmV0O1xuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSBwb3B1cC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IFR3aXR0ZXJBdXRoUHJvdmlkZXIoKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gKlxuICogLy8gVGhlIHNpZ25lZC1pbiB1c2VyIGluZm8uXG4gKiBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAvLyBUaGlzIGdpdmVzIHlvdSBhIFR3aXR0ZXIgQWNjZXNzIFRva2VuIGFuZCBTZWNyZXQuXG4gKiBjb25zdCBjcmVkZW50aWFsID0gVHdpdHRlckF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICogY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogY29uc3Qgc2VjcmV0ID0gY3JlZGVudGlhbC5zZWNyZXQ7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBUd2l0dGVyQXV0aFByb3ZpZGVyIGV4dGVuZHMgQmFzZU9BdXRoUHJvdmlkZXIge1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgU2lnbkluTWV0aG9kfS5UV0lUVEVSLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgVFdJVFRFUl9TSUdOX0lOX01FVEhPRDogJ3R3aXR0ZXIuY29tJyA9IFNpZ25Jbk1ldGhvZC5UV0lUVEVSO1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgUHJvdmlkZXJJZH0uVFdJVFRFUi4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IFBST1ZJREVSX0lEOiAndHdpdHRlci5jb20nID0gUHJvdmlkZXJJZC5UV0lUVEVSO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFByb3ZpZGVySWQuVFdJVFRFUik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNyZWRlbnRpYWwgZm9yIFR3aXR0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB0b2tlbiAtIFR3aXR0ZXIgYWNjZXNzIHRva2VuLlxuICAgKiBAcGFyYW0gc2VjcmV0IC0gVHdpdHRlciBzZWNyZXQuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbCh0b2tlbjogc3RyaW5nLCBzZWNyZXQ6IHN0cmluZyk6IE9BdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIE9BdXRoQ3JlZGVudGlhbC5fZnJvbVBhcmFtcyh7XG4gICAgICBwcm92aWRlcklkOiBUd2l0dGVyQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lELFxuICAgICAgc2lnbkluTWV0aG9kOiBUd2l0dGVyQXV0aFByb3ZpZGVyLlRXSVRURVJfU0lHTl9JTl9NRVRIT0QsXG4gICAgICBvYXV0aFRva2VuOiB0b2tlbixcbiAgICAgIG9hdXRoVG9rZW5TZWNyZXQ6IHNlY3JldFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIFVzZXJDcmVkZW50aWFsfS5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbVJlc3VsdChcbiAgICB1c2VyQ3JlZGVudGlhbDogVXNlckNyZWRlbnRpYWxcbiAgKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIFR3aXR0ZXJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICB1c2VyQ3JlZGVudGlhbCBhcyBVc2VyQ3JlZGVudGlhbEludGVybmFsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBBdXRoRXJyb3J9IHdoaWNoIHdhc1xuICAgKiB0aHJvd24gZHVyaW5nIGEgc2lnbi1pbiwgbGluaywgb3IgcmVhdXRoZW50aWNhdGUgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tRXJyb3IoZXJyb3I6IEZpcmViYXNlRXJyb3IpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gVHdpdHRlckF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIChlcnJvci5jdXN0b21EYXRhIHx8IHt9KSBhcyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdCh7XG4gICAgX3Rva2VuUmVzcG9uc2U6IHRva2VuUmVzcG9uc2VcbiAgfTogVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBpZiAoIXRva2VuUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IG9hdXRoQWNjZXNzVG9rZW4sIG9hdXRoVG9rZW5TZWNyZXQgfSA9XG4gICAgICB0b2tlblJlc3BvbnNlIGFzIFNpZ25JbldpdGhJZHBSZXNwb25zZTtcbiAgICBpZiAoIW9hdXRoQWNjZXNzVG9rZW4gfHwgIW9hdXRoVG9rZW5TZWNyZXQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gVHdpdHRlckF1dGhQcm92aWRlci5jcmVkZW50aWFsKG9hdXRoQWNjZXNzVG9rZW4sIG9hdXRoVG9rZW5TZWNyZXQpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIFJlY2FwdGNoYUNsaWVudFR5cGUsXG4gIFJlY2FwdGNoYVZlcnNpb24sXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeSxcbiAgX3BlcmZvcm1TaWduSW5SZXF1ZXN0XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25VcFJlcXVlc3Qge1xuICBpZFRva2VuPzogc3RyaW5nO1xuICByZXR1cm5TZWN1cmVUb2tlbj86IGJvb2xlYW47XG4gIGVtYWlsPzogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG4gIGNhcHRjaGFSZXNwb25zZT86IHN0cmluZztcbiAgY2xpZW50VHlwZT86IFJlY2FwdGNoYUNsaWVudFR5cGU7XG4gIHJlY2FwdGNoYVZlcnNpb24/OiBSZWNhcHRjaGFWZXJzaW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25VcFJlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHtcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIGVtYWlsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnblVwKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTaWduVXBSZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25VcFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8U2lnblVwUmVxdWVzdCwgU2lnblVwUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fVVAsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgVXNlckludGVybmFsLCBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBVc2VySW1wbCB9IGZyb20gJy4vdXNlcl9pbXBsJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgT3BlcmF0aW9uVHlwZSwgUHJvdmlkZXJJZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuaW50ZXJmYWNlIFVzZXJDcmVkZW50aWFsUGFyYW1zIHtcbiAgcmVhZG9ubHkgdXNlcjogVXNlckludGVybmFsO1xuICByZWFkb25seSBwcm92aWRlcklkOiBQcm92aWRlcklkIHwgc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgX3Rva2VuUmVzcG9uc2U/OiBQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlO1xuICByZWFkb25seSBvcGVyYXRpb25UeXBlOiBPcGVyYXRpb25UeXBlO1xufVxuXG5leHBvcnQgY2xhc3MgVXNlckNyZWRlbnRpYWxJbXBsXG4gIGltcGxlbWVudHMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCwgVXNlckNyZWRlbnRpYWxQYXJhbXNcbntcbiAgcmVhZG9ubHkgdXNlcjogVXNlckludGVybmFsO1xuICByZWFkb25seSBwcm92aWRlcklkOiBQcm92aWRlcklkIHwgc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgX3Rva2VuUmVzcG9uc2U6IFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2UgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IG9wZXJhdGlvblR5cGU6IE9wZXJhdGlvblR5cGU7XG5cbiAgY29uc3RydWN0b3IocGFyYW1zOiBVc2VyQ3JlZGVudGlhbFBhcmFtcykge1xuICAgIHRoaXMudXNlciA9IHBhcmFtcy51c2VyO1xuICAgIHRoaXMucHJvdmlkZXJJZCA9IHBhcmFtcy5wcm92aWRlcklkO1xuICAgIHRoaXMuX3Rva2VuUmVzcG9uc2UgPSBwYXJhbXMuX3Rva2VuUmVzcG9uc2U7XG4gICAgdGhpcy5vcGVyYXRpb25UeXBlID0gcGFyYW1zLm9wZXJhdGlvblR5cGU7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX2Zyb21JZFRva2VuUmVzcG9uc2UoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIG9wZXJhdGlvblR5cGU6IE9wZXJhdGlvblR5cGUsXG4gICAgaWRUb2tlblJlc3BvbnNlOiBJZFRva2VuUmVzcG9uc2UsXG4gICAgaXNBbm9ueW1vdXM6IGJvb2xlYW4gPSBmYWxzZVxuICApOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWw+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlckltcGwuX2Zyb21JZFRva2VuUmVzcG9uc2UoXG4gICAgICBhdXRoLFxuICAgICAgaWRUb2tlblJlc3BvbnNlLFxuICAgICAgaXNBbm9ueW1vdXNcbiAgICApO1xuICAgIGNvbnN0IHByb3ZpZGVySWQgPSBwcm92aWRlcklkRm9yUmVzcG9uc2UoaWRUb2tlblJlc3BvbnNlKTtcbiAgICBjb25zdCB1c2VyQ3JlZCA9IG5ldyBVc2VyQ3JlZGVudGlhbEltcGwoe1xuICAgICAgdXNlcixcbiAgICAgIHByb3ZpZGVySWQsXG4gICAgICBfdG9rZW5SZXNwb25zZTogaWRUb2tlblJlc3BvbnNlLFxuICAgICAgb3BlcmF0aW9uVHlwZVxuICAgIH0pO1xuICAgIHJldHVybiB1c2VyQ3JlZDtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfZm9yT3BlcmF0aW9uKFxuICAgIHVzZXI6IFVzZXJJbnRlcm5hbCxcbiAgICBvcGVyYXRpb25UeXBlOiBPcGVyYXRpb25UeXBlLFxuICAgIHJlc3BvbnNlOiBQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlXG4gICk6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbXBsPiB7XG4gICAgYXdhaXQgdXNlci5fdXBkYXRlVG9rZW5zSWZOZWNlc3NhcnkocmVzcG9uc2UsIC8qIHJlbG9hZCAqLyB0cnVlKTtcbiAgICBjb25zdCBwcm92aWRlcklkID0gcHJvdmlkZXJJZEZvclJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICByZXR1cm4gbmV3IFVzZXJDcmVkZW50aWFsSW1wbCh7XG4gICAgICB1c2VyLFxuICAgICAgcHJvdmlkZXJJZCxcbiAgICAgIF90b2tlblJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgIG9wZXJhdGlvblR5cGVcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm92aWRlcklkRm9yUmVzcG9uc2UoXG4gIHJlc3BvbnNlOiBJZFRva2VuUmVzcG9uc2Vcbik6IFByb3ZpZGVySWQgfCBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKHJlc3BvbnNlLnByb3ZpZGVySWQpIHtcbiAgICByZXR1cm4gcmVzcG9uc2UucHJvdmlkZXJJZDtcbiAgfVxuXG4gIGlmICgncGhvbmVOdW1iZXInIGluIHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIFByb3ZpZGVySWQuUEhPTkU7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoLCBVc2VyQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBzaWduVXAgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vc2lnbl91cCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW1wbCB9IGZyb20gJy4uL3VzZXIvdXNlcl9jcmVkZW50aWFsX2ltcGwnO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgT3BlcmF0aW9uVHlwZSB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNpZ25zIGluIGFzIGFuIGFub255bW91cyB1c2VyLlxuICpcbiAqIEByZW1hcmtzXG4gKiBJZiB0aGVyZSBpcyBhbHJlYWR5IGFuIGFub255bW91cyB1c2VyIHNpZ25lZCBpbiwgdGhhdCB1c2VyIHdpbGwgYmUgcmV0dXJuZWQ7IG90aGVyd2lzZSwgYVxuICogbmV3IGFub255bW91cyB1c2VyIGlkZW50aXR5IHdpbGwgYmUgY3JlYXRlZCBhbmQgcmV0dXJuZWQuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbkFub255bW91c2x5KGF1dGg6IEF1dGgpOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBhd2FpdCBhdXRoSW50ZXJuYWwuX2luaXRpYWxpemF0aW9uUHJvbWlzZTtcbiAgaWYgKGF1dGhJbnRlcm5hbC5jdXJyZW50VXNlcj8uaXNBbm9ueW1vdXMpIHtcbiAgICAvLyBJZiBhbiBhbm9ueW1vdXMgdXNlciBpcyBhbHJlYWR5IHNpZ25lZCBpbiwgbm8gbmVlZCB0byBzaWduIHRoZW0gaW4gYWdhaW4uXG4gICAgcmV0dXJuIG5ldyBVc2VyQ3JlZGVudGlhbEltcGwoe1xuICAgICAgdXNlcjogYXV0aEludGVybmFsLmN1cnJlbnRVc2VyIGFzIFVzZXJJbnRlcm5hbCxcbiAgICAgIHByb3ZpZGVySWQ6IG51bGwsXG4gICAgICBvcGVyYXRpb25UeXBlOiBPcGVyYXRpb25UeXBlLlNJR05fSU5cbiAgICB9KTtcbiAgfVxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNpZ25VcChhdXRoSW50ZXJuYWwsIHtcbiAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZVxuICB9KTtcbiAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBVc2VyQ3JlZGVudGlhbEltcGwuX2Zyb21JZFRva2VuUmVzcG9uc2UoXG4gICAgYXV0aEludGVybmFsLFxuICAgIE9wZXJhdGlvblR5cGUuU0lHTl9JTixcbiAgICByZXNwb25zZSxcbiAgICB0cnVlXG4gICk7XG4gIGF3YWl0IGF1dGhJbnRlcm5hbC5fdXBkYXRlQ3VycmVudFVzZXIodXNlckNyZWRlbnRpYWwudXNlcik7XG4gIHJldHVybiB1c2VyQ3JlZGVudGlhbDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBNdWx0aUZhY3RvckVycm9yIGFzIE11bHRpRmFjdG9yRXJyb3JQdWJsaWMgfSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jb3JlL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IElkVG9rZW5NZmFSZXNwb25zZSB9IGZyb20gJy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgT3BlcmF0aW9uVHlwZSB9IGZyb20gJy4uL21vZGVsL2VudW1zJztcblxuZXhwb3J0IHR5cGUgTXVsdGlGYWN0b3JFcnJvckRhdGEgPSBNdWx0aUZhY3RvckVycm9yUHVibGljWydjdXN0b21EYXRhJ10gJiB7XG4gIF9zZXJ2ZXJSZXNwb25zZTogSWRUb2tlbk1mYVJlc3BvbnNlO1xufTtcblxuZXhwb3J0IGNsYXNzIE11bHRpRmFjdG9yRXJyb3JcbiAgZXh0ZW5kcyBGaXJlYmFzZUVycm9yXG4gIGltcGxlbWVudHMgTXVsdGlGYWN0b3JFcnJvclB1YmxpY1xue1xuICByZWFkb25seSBjdXN0b21EYXRhOiBNdWx0aUZhY3RvckVycm9yRGF0YTtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBlcnJvcjogRmlyZWJhc2VFcnJvcixcbiAgICByZWFkb25seSBvcGVyYXRpb25UeXBlOiBPcGVyYXRpb25UeXBlLFxuICAgIHJlYWRvbmx5IHVzZXI/OiBVc2VySW50ZXJuYWxcbiAgKSB7XG4gICAgc3VwZXIoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0LXdpa2kvYmxvYi9tYXN0ZXIvQnJlYWtpbmctQ2hhbmdlcy5tZCNleHRlbmRpbmctYnVpbHQtaW5zLWxpa2UtZXJyb3ItYXJyYXktYW5kLW1hcC1tYXktbm8tbG9uZ2VyLXdvcmtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTXVsdGlGYWN0b3JFcnJvci5wcm90b3R5cGUpO1xuICAgIHRoaXMuY3VzdG9tRGF0YSA9IHtcbiAgICAgIGFwcE5hbWU6IGF1dGgubmFtZSxcbiAgICAgIHRlbmFudElkOiBhdXRoLnRlbmFudElkID8/IHVuZGVmaW5lZCxcbiAgICAgIF9zZXJ2ZXJSZXNwb25zZTogZXJyb3IuY3VzdG9tRGF0YSEuX3NlcnZlclJlc3BvbnNlIGFzIElkVG9rZW5NZmFSZXNwb25zZSxcbiAgICAgIG9wZXJhdGlvblR5cGVcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIF9mcm9tRXJyb3JBbmRPcGVyYXRpb24oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGVycm9yOiBGaXJlYmFzZUVycm9yLFxuICAgIG9wZXJhdGlvblR5cGU6IE9wZXJhdGlvblR5cGUsXG4gICAgdXNlcj86IFVzZXJJbnRlcm5hbFxuICApOiBNdWx0aUZhY3RvckVycm9yIHtcbiAgICByZXR1cm4gbmV3IE11bHRpRmFjdG9yRXJyb3IoYXV0aCwgZXJyb3IsIG9wZXJhdGlvblR5cGUsIHVzZXIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcHJvY2Vzc0NyZWRlbnRpYWxTYXZpbmdNZmFDb250ZXh0SWZOZWNlc3NhcnkoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgb3BlcmF0aW9uVHlwZTogT3BlcmF0aW9uVHlwZSxcbiAgY3JlZGVudGlhbDogQXV0aENyZWRlbnRpYWwsXG4gIHVzZXI/OiBVc2VySW50ZXJuYWxcbik6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gIGNvbnN0IGlkVG9rZW5Qcm92aWRlciA9XG4gICAgb3BlcmF0aW9uVHlwZSA9PT0gT3BlcmF0aW9uVHlwZS5SRUFVVEhFTlRJQ0FURVxuICAgICAgPyBjcmVkZW50aWFsLl9nZXRSZWF1dGhlbnRpY2F0aW9uUmVzb2x2ZXIoYXV0aClcbiAgICAgIDogY3JlZGVudGlhbC5fZ2V0SWRUb2tlblJlc3BvbnNlKGF1dGgpO1xuXG4gIHJldHVybiBpZFRva2VuUHJvdmlkZXIuY2F0Y2goZXJyb3IgPT4ge1xuICAgIGlmIChlcnJvci5jb2RlID09PSBgYXV0aC8ke0F1dGhFcnJvckNvZGUuTUZBX1JFUVVJUkVEfWApIHtcbiAgICAgIHRocm93IE11bHRpRmFjdG9yRXJyb3IuX2Zyb21FcnJvckFuZE9wZXJhdGlvbihcbiAgICAgICAgYXV0aCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIG9wZXJhdGlvblR5cGUsXG4gICAgICAgIHVzZXJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH0pO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJBc3NvY2lhdGVkT2JqZWN0IHtcbiAgcHJvdmlkZXJJZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHNldCBvZiBVc2VySW5mbyBwcm92aWRlciBkYXRhIGFuZCBjb252ZXJ0cyBpdCB0byBhIHNldCBvZiBuYW1lc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZXJEYXRhQXNOYW1lczxUIGV4dGVuZHMgUHJvdmlkZXJBc3NvY2lhdGVkT2JqZWN0PihcbiAgcHJvdmlkZXJEYXRhOiBUW11cbik6IFNldDxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBTZXQoXG4gICAgcHJvdmlkZXJEYXRhXG4gICAgICAubWFwKCh7IHByb3ZpZGVySWQgfSkgPT4gcHJvdmlkZXJJZClcbiAgICAgIC5maWx0ZXIocGlkID0+ICEhcGlkKSBhcyBzdHJpbmdbXVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBkZWxldGVMaW5rZWRBY2NvdW50cyB9IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvYWNjb3VudCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwsIFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgcHJvdmlkZXJEYXRhQXNOYW1lcyB9IGZyb20gJy4uL3V0aWwvcHJvdmlkZXJzJztcbmltcG9ydCB7IF9sb2dvdXRJZkludmFsaWRhdGVkIH0gZnJvbSAnLi9pbnZhbGlkYXRpb24nO1xuaW1wb3J0IHsgX3JlbG9hZFdpdGhvdXRTYXZpbmcgfSBmcm9tICcuL3JlbG9hZCc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEltcGwgfSBmcm9tICcuL3VzZXJfY3JlZGVudGlhbF9pbXBsJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IE9wZXJhdGlvblR5cGUsIFByb3ZpZGVySWQgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbi8qKlxuICogVW5saW5rcyBhIHByb3ZpZGVyIGZyb20gYSB1c2VyIGFjY291bnQuXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBwcm92aWRlcklkIC0gVGhlIHByb3ZpZGVyIHRvIHVubGluay5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bmxpbmsodXNlcjogVXNlciwgcHJvdmlkZXJJZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGF3YWl0IF9hc3NlcnRMaW5rZWRTdGF0dXModHJ1ZSwgdXNlckludGVybmFsLCBwcm92aWRlcklkKTtcbiAgY29uc3QgeyBwcm92aWRlclVzZXJJbmZvIH0gPSBhd2FpdCBkZWxldGVMaW5rZWRBY2NvdW50cyh1c2VySW50ZXJuYWwuYXV0aCwge1xuICAgIGlkVG9rZW46IGF3YWl0IHVzZXJJbnRlcm5hbC5nZXRJZFRva2VuKCksXG4gICAgZGVsZXRlUHJvdmlkZXI6IFtwcm92aWRlcklkXVxuICB9KTtcblxuICBjb25zdCBwcm92aWRlcnNMZWZ0ID0gcHJvdmlkZXJEYXRhQXNOYW1lcyhwcm92aWRlclVzZXJJbmZvIHx8IFtdKTtcblxuICB1c2VySW50ZXJuYWwucHJvdmlkZXJEYXRhID0gdXNlckludGVybmFsLnByb3ZpZGVyRGF0YS5maWx0ZXIocGQgPT5cbiAgICBwcm92aWRlcnNMZWZ0LmhhcyhwZC5wcm92aWRlcklkKVxuICApO1xuICBpZiAoIXByb3ZpZGVyc0xlZnQuaGFzKFByb3ZpZGVySWQuUEhPTkUpKSB7XG4gICAgdXNlckludGVybmFsLnBob25lTnVtYmVyID0gbnVsbDtcbiAgfVxuXG4gIGF3YWl0IHVzZXJJbnRlcm5hbC5hdXRoLl9wZXJzaXN0VXNlcklmQ3VycmVudCh1c2VySW50ZXJuYWwpO1xuICByZXR1cm4gdXNlckludGVybmFsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2xpbmsoXG4gIHVzZXI6IFVzZXJJbnRlcm5hbCxcbiAgY3JlZGVudGlhbDogQXV0aENyZWRlbnRpYWwsXG4gIGJ5cGFzc0F1dGhTdGF0ZSA9IGZhbHNlXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWw+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfbG9nb3V0SWZJbnZhbGlkYXRlZChcbiAgICB1c2VyLFxuICAgIGNyZWRlbnRpYWwuX2xpbmtUb0lkVG9rZW4odXNlci5hdXRoLCBhd2FpdCB1c2VyLmdldElkVG9rZW4oKSksXG4gICAgYnlwYXNzQXV0aFN0YXRlXG4gICk7XG4gIHJldHVybiBVc2VyQ3JlZGVudGlhbEltcGwuX2Zvck9wZXJhdGlvbih1c2VyLCBPcGVyYXRpb25UeXBlLkxJTkssIHJlc3BvbnNlKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9hc3NlcnRMaW5rZWRTdGF0dXMoXG4gIGV4cGVjdGVkOiBib29sZWFuLFxuICB1c2VyOiBVc2VySW50ZXJuYWwsXG4gIHByb3ZpZGVyOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBfcmVsb2FkV2l0aG91dFNhdmluZyh1c2VyKTtcbiAgY29uc3QgcHJvdmlkZXJJZHMgPSBwcm92aWRlckRhdGFBc05hbWVzKHVzZXIucHJvdmlkZXJEYXRhKTtcblxuICBjb25zdCBjb2RlID1cbiAgICBleHBlY3RlZCA9PT0gZmFsc2VcbiAgICAgID8gQXV0aEVycm9yQ29kZS5QUk9WSURFUl9BTFJFQURZX0xJTktFRFxuICAgICAgOiBBdXRoRXJyb3JDb2RlLk5PX1NVQ0hfUFJPVklERVI7XG4gIF9hc3NlcnQocHJvdmlkZXJJZHMuaGFzKHByb3ZpZGVyKSA9PT0gZXhwZWN0ZWQsIHVzZXIuYXV0aCwgY29kZSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IF9wcm9jZXNzQ3JlZGVudGlhbFNhdmluZ01mYUNvbnRleHRJZk5lY2Vzc2FyeSB9IGZyb20gJy4uLy4uL21mYS9tZmFfZXJyb3InO1xuaW1wb3J0IHsgT3BlcmF0aW9uVHlwZSB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscyc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQsIF9mYWlsIH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX3BhcnNlVG9rZW4gfSBmcm9tICcuL2lkX3Rva2VuX3Jlc3VsdCc7XG5pbXBvcnQgeyBfbG9nb3V0SWZJbnZhbGlkYXRlZCB9IGZyb20gJy4vaW52YWxpZGF0aW9uJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW1wbCB9IGZyb20gJy4vdXNlcl9jcmVkZW50aWFsX2ltcGwnO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfcmVhdXRoZW50aWNhdGUoXG4gIHVzZXI6IFVzZXJJbnRlcm5hbCxcbiAgY3JlZGVudGlhbDogQXV0aENyZWRlbnRpYWwsXG4gIGJ5cGFzc0F1dGhTdGF0ZSA9IGZhbHNlXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW1wbD4ge1xuICBjb25zdCB7IGF1dGggfSA9IHVzZXI7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3Qgb3BlcmF0aW9uVHlwZSA9IE9wZXJhdGlvblR5cGUuUkVBVVRIRU5USUNBVEU7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9sb2dvdXRJZkludmFsaWRhdGVkKFxuICAgICAgdXNlcixcbiAgICAgIF9wcm9jZXNzQ3JlZGVudGlhbFNhdmluZ01mYUNvbnRleHRJZk5lY2Vzc2FyeShcbiAgICAgICAgYXV0aCxcbiAgICAgICAgb3BlcmF0aW9uVHlwZSxcbiAgICAgICAgY3JlZGVudGlhbCxcbiAgICAgICAgdXNlclxuICAgICAgKSxcbiAgICAgIGJ5cGFzc0F1dGhTdGF0ZVxuICAgICk7XG4gICAgX2Fzc2VydChyZXNwb25zZS5pZFRva2VuLCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICBjb25zdCBwYXJzZWQgPSBfcGFyc2VUb2tlbihyZXNwb25zZS5pZFRva2VuKTtcbiAgICBfYXNzZXJ0KHBhcnNlZCwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG5cbiAgICBjb25zdCB7IHN1YjogbG9jYWxJZCB9ID0gcGFyc2VkO1xuICAgIF9hc3NlcnQodXNlci51aWQgPT09IGxvY2FsSWQsIGF1dGgsIEF1dGhFcnJvckNvZGUuVVNFUl9NSVNNQVRDSCk7XG5cbiAgICByZXR1cm4gVXNlckNyZWRlbnRpYWxJbXBsLl9mb3JPcGVyYXRpb24odXNlciwgb3BlcmF0aW9uVHlwZSwgcmVzcG9uc2UpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gQ29udmVydCB1c2VyIGRlbGV0ZWQgZXJyb3IgaW50byB1c2VyIG1pc21hdGNoXG4gICAgaWYgKChlIGFzIEZpcmViYXNlRXJyb3IpPy5jb2RlID09PSBgYXV0aC8ke0F1dGhFcnJvckNvZGUuVVNFUl9ERUxFVEVEfWApIHtcbiAgICAgIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuVVNFUl9NSVNNQVRDSCk7XG4gICAgfVxuICAgIHRocm93IGU7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbCwgQXV0aCwgVXNlciB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IF9wcm9jZXNzQ3JlZGVudGlhbFNhdmluZ01mYUNvbnRleHRJZk5lY2Vzc2FyeSB9IGZyb20gJy4uLy4uL21mYS9tZmFfZXJyb3InO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMnO1xuaW1wb3J0IHsgX2Fzc2VydExpbmtlZFN0YXR1cywgX2xpbmsgfSBmcm9tICcuLi91c2VyL2xpbmtfdW5saW5rJztcbmltcG9ydCB7IF9yZWF1dGhlbnRpY2F0ZSB9IGZyb20gJy4uL3VzZXIvcmVhdXRoZW50aWNhdGUnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbXBsIH0gZnJvbSAnLi4vdXNlci91c2VyX2NyZWRlbnRpYWxfaW1wbCc7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfc2lnbkluV2l0aENyZWRlbnRpYWwoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgY3JlZGVudGlhbDogQXV0aENyZWRlbnRpYWwsXG4gIGJ5cGFzc0F1dGhTdGF0ZSA9IGZhbHNlXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3Qgb3BlcmF0aW9uVHlwZSA9IE9wZXJhdGlvblR5cGUuU0lHTl9JTjtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfcHJvY2Vzc0NyZWRlbnRpYWxTYXZpbmdNZmFDb250ZXh0SWZOZWNlc3NhcnkoXG4gICAgYXV0aCxcbiAgICBvcGVyYXRpb25UeXBlLFxuICAgIGNyZWRlbnRpYWxcbiAgKTtcbiAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBVc2VyQ3JlZGVudGlhbEltcGwuX2Zyb21JZFRva2VuUmVzcG9uc2UoXG4gICAgYXV0aCxcbiAgICBvcGVyYXRpb25UeXBlLFxuICAgIHJlc3BvbnNlXG4gICk7XG5cbiAgaWYgKCFieXBhc3NBdXRoU3RhdGUpIHtcbiAgICBhd2FpdCBhdXRoLl91cGRhdGVDdXJyZW50VXNlcih1c2VyQ3JlZGVudGlhbC51c2VyKTtcbiAgfVxuICByZXR1cm4gdXNlckNyZWRlbnRpYWw7XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2lnbnMgaW4gd2l0aCB0aGUgZ2l2ZW4gY3JlZGVudGlhbHMuXG4gKlxuICogQHJlbWFya3NcbiAqIEFuIHtAbGluayBBdXRoUHJvdmlkZXJ9IGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIHRoZSBjcmVkZW50aWFsLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBjcmVkZW50aWFsIC0gVGhlIGF1dGggY3JlZGVudGlhbC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoQ3JlZGVudGlhbChcbiAgYXV0aDogQXV0aCxcbiAgY3JlZGVudGlhbDogQXV0aENyZWRlbnRpYWxcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgcmV0dXJuIF9zaWduSW5XaXRoQ3JlZGVudGlhbChfY2FzdEF1dGgoYXV0aCksIGNyZWRlbnRpYWwpO1xufVxuXG4vKipcbiAqIExpbmtzIHRoZSB1c2VyIGFjY291bnQgd2l0aCB0aGUgZ2l2ZW4gY3JlZGVudGlhbHMuXG4gKlxuICogQHJlbWFya3NcbiAqIEFuIHtAbGluayBBdXRoUHJvdmlkZXJ9IGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIHRoZSBjcmVkZW50aWFsLlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gY3JlZGVudGlhbCAtIFRoZSBhdXRoIGNyZWRlbnRpYWwuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlua1dpdGhDcmVkZW50aWFsKFxuICB1c2VyOiBVc2VyLFxuICBjcmVkZW50aWFsOiBBdXRoQ3JlZGVudGlhbFxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuXG4gIGF3YWl0IF9hc3NlcnRMaW5rZWRTdGF0dXMoZmFsc2UsIHVzZXJJbnRlcm5hbCwgY3JlZGVudGlhbC5wcm92aWRlcklkKTtcblxuICByZXR1cm4gX2xpbmsodXNlckludGVybmFsLCBjcmVkZW50aWFsKTtcbn1cblxuLyoqXG4gKiBSZS1hdXRoZW50aWNhdGVzIGEgdXNlciB1c2luZyBhIGZyZXNoIGNyZWRlbnRpYWwuXG4gKlxuICogQHJlbWFya3NcbiAqIFVzZSBiZWZvcmUgb3BlcmF0aW9ucyBzdWNoIGFzIHtAbGluayB1cGRhdGVQYXNzd29yZH0gdGhhdCByZXF1aXJlIHRva2VucyBmcm9tIHJlY2VudCBzaWduLWluXG4gKiBhdHRlbXB0cy4gVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gcmVjb3ZlciBmcm9tIGEgYENSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTmAgZXJyb3JcbiAqIG9yIGEgYFRPS0VOX0VYUElSRURgIGVycm9yLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgb24gYW55IHtAbGluayBVc2VyfSBzaWduZWQgaW4gYnkge0BsaW5rIEF1dGh9IGluc3RhbmNlc1xuICogY3JlYXRlZCB3aXRoIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gY3JlZGVudGlhbCAtIFRoZSBhdXRoIGNyZWRlbnRpYWwuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhdXRoZW50aWNhdGVXaXRoQ3JlZGVudGlhbChcbiAgdXNlcjogVXNlcixcbiAgY3JlZGVudGlhbDogQXV0aENyZWRlbnRpYWxcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgcmV0dXJuIF9yZWF1dGhlbnRpY2F0ZShnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsLCBjcmVkZW50aWFsKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5LFxuICBfcGVyZm9ybVNpZ25JblJlcXVlc3Rcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aEN1c3RvbVRva2VuUmVxdWVzdCB7XG4gIHRva2VuOiBzdHJpbmc7XG4gIHJldHVyblNlY3VyZVRva2VuOiBib29sZWFuO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoQ3VzdG9tVG9rZW5SZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7fVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aEN1c3RvbVRva2VuKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTaWduSW5XaXRoQ3VzdG9tVG9rZW5SZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25JbldpdGhDdXN0b21Ub2tlblJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8XG4gICAgU2lnbkluV2l0aEN1c3RvbVRva2VuUmVxdWVzdCxcbiAgICBTaWduSW5XaXRoQ3VzdG9tVG9rZW5SZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fSU5fV0lUSF9DVVNUT01fVE9LRU4sXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aCwgVXNlckNyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBzaWduSW5XaXRoQ3VzdG9tVG9rZW4gYXMgZ2V0SWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2N1c3RvbV90b2tlbic7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEltcGwgfSBmcm9tICcuLi91c2VyL3VzZXJfY3JlZGVudGlhbF9pbXBsJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IE9wZXJhdGlvblR5cGUgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0Jztcbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2lnbnMgaW4gdXNpbmcgYSBjdXN0b20gdG9rZW4uXG4gKlxuICogQHJlbWFya3NcbiAqIEN1c3RvbSB0b2tlbnMgYXJlIHVzZWQgdG8gaW50ZWdyYXRlIEZpcmViYXNlIEF1dGggd2l0aCBleGlzdGluZyBhdXRoIHN5c3RlbXMsIGFuZCBtdXN0XG4gKiBiZSBnZW5lcmF0ZWQgYnkgYW4gYXV0aCBiYWNrZW5kIHVzaW5nIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL3JlZmVyZW5jZS9hZG1pbi9ub2RlL2FkbWluLmF1dGguQXV0aCNjcmVhdGVjdXN0b210b2tlbiB8IGNyZWF0ZUN1c3RvbVRva2VufVxuICogbWV0aG9kIGluIHRoZSB7QGxpbmsgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvYXV0aC9hZG1pbiB8IEFkbWluIFNES30gLlxuICpcbiAqIEZhaWxzIHdpdGggYW4gZXJyb3IgaWYgdGhlIHRva2VuIGlzIGludmFsaWQsIGV4cGlyZWQsIG9yIG5vdCBhY2NlcHRlZCBieSB0aGUgRmlyZWJhc2UgQXV0aCBzZXJ2aWNlLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBjdXN0b21Ub2tlbiAtIFRoZSBjdXN0b20gdG9rZW4gdG8gc2lnbiBpbiB3aXRoLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhDdXN0b21Ub2tlbihcbiAgYXV0aDogQXV0aCxcbiAgY3VzdG9tVG9rZW46IHN0cmluZ1xuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgY29uc3QgcmVzcG9uc2U6IElkVG9rZW5SZXNwb25zZSA9IGF3YWl0IGdldElkVG9rZW5SZXNwb25zZShhdXRoSW50ZXJuYWwsIHtcbiAgICB0b2tlbjogY3VzdG9tVG9rZW4sXG4gICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWVcbiAgfSk7XG4gIGNvbnN0IGNyZWQgPSBhd2FpdCBVc2VyQ3JlZGVudGlhbEltcGwuX2Zyb21JZFRva2VuUmVzcG9uc2UoXG4gICAgYXV0aEludGVybmFsLFxuICAgIE9wZXJhdGlvblR5cGUuU0lHTl9JTixcbiAgICByZXNwb25zZVxuICApO1xuICBhd2FpdCBhdXRoSW50ZXJuYWwuX3VwZGF0ZUN1cnJlbnRVc2VyKGNyZWQudXNlcik7XG4gIHJldHVybiBjcmVkO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEZhY3RvcklkLFxuICBNdWx0aUZhY3RvckluZm8sXG4gIFBob25lTXVsdGlGYWN0b3JJbmZvLFxuICBUb3RwTXVsdGlGYWN0b3JJbmZvXG59IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQge1xuICBQaG9uZU1mYUVucm9sbG1lbnQsXG4gIE1mYUVucm9sbG1lbnQsXG4gIFRvdHBNZmFFbnJvbGxtZW50XG59IGZyb20gJy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvbWZhJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfZmFpbCB9IGZyb20gJy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vbW9kZWwvYXV0aCc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBNdWx0aUZhY3RvckluZm9JbXBsIGltcGxlbWVudHMgTXVsdGlGYWN0b3JJbmZvIHtcbiAgcmVhZG9ubHkgdWlkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgZW5yb2xsbWVudFRpbWU6IHN0cmluZztcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocmVhZG9ubHkgZmFjdG9ySWQ6IEZhY3RvcklkLCByZXNwb25zZTogTWZhRW5yb2xsbWVudCkge1xuICAgIHRoaXMudWlkID0gcmVzcG9uc2UubWZhRW5yb2xsbWVudElkO1xuICAgIHRoaXMuZW5yb2xsbWVudFRpbWUgPSBuZXcgRGF0ZShyZXNwb25zZS5lbnJvbGxlZEF0KS50b1VUQ1N0cmluZygpO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSByZXNwb25zZS5kaXNwbGF5TmFtZTtcbiAgfVxuXG4gIHN0YXRpYyBfZnJvbVNlcnZlclJlc3BvbnNlKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBlbnJvbGxtZW50OiBNZmFFbnJvbGxtZW50XG4gICk6IE11bHRpRmFjdG9ySW5mb0ltcGwge1xuICAgIGlmICgncGhvbmVJbmZvJyBpbiBlbnJvbGxtZW50KSB7XG4gICAgICByZXR1cm4gUGhvbmVNdWx0aUZhY3RvckluZm9JbXBsLl9mcm9tU2VydmVyUmVzcG9uc2UoYXV0aCwgZW5yb2xsbWVudCk7XG4gICAgfSBlbHNlIGlmICgndG90cEluZm8nIGluIGVucm9sbG1lbnQpIHtcbiAgICAgIHJldHVybiBUb3RwTXVsdGlGYWN0b3JJbmZvSW1wbC5fZnJvbVNlcnZlclJlc3BvbnNlKGF1dGgsIGVucm9sbG1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBob25lTXVsdGlGYWN0b3JJbmZvSW1wbFxuICBleHRlbmRzIE11bHRpRmFjdG9ySW5mb0ltcGxcbiAgaW1wbGVtZW50cyBQaG9uZU11bHRpRmFjdG9ySW5mb1xue1xuICByZWFkb25seSBwaG9uZU51bWJlcjogc3RyaW5nO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IocmVzcG9uc2U6IFBob25lTWZhRW5yb2xsbWVudCkge1xuICAgIHN1cGVyKEZhY3RvcklkLlBIT05FLCByZXNwb25zZSk7XG4gICAgdGhpcy5waG9uZU51bWJlciA9IHJlc3BvbnNlLnBob25lSW5mbztcbiAgfVxuXG4gIHN0YXRpYyBfZnJvbVNlcnZlclJlc3BvbnNlKFxuICAgIF9hdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgZW5yb2xsbWVudDogTWZhRW5yb2xsbWVudFxuICApOiBQaG9uZU11bHRpRmFjdG9ySW5mb0ltcGwge1xuICAgIHJldHVybiBuZXcgUGhvbmVNdWx0aUZhY3RvckluZm9JbXBsKGVucm9sbG1lbnQgYXMgUGhvbmVNZmFFbnJvbGxtZW50KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFRvdHBNdWx0aUZhY3RvckluZm9JbXBsXG4gIGV4dGVuZHMgTXVsdGlGYWN0b3JJbmZvSW1wbFxuICBpbXBsZW1lbnRzIFRvdHBNdWx0aUZhY3RvckluZm9cbntcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihyZXNwb25zZTogVG90cE1mYUVucm9sbG1lbnQpIHtcbiAgICBzdXBlcihGYWN0b3JJZC5UT1RQLCByZXNwb25zZSk7XG4gIH1cblxuICBzdGF0aWMgX2Zyb21TZXJ2ZXJSZXNwb25zZShcbiAgICBfYXV0aDogQXV0aEludGVybmFsLFxuICAgIGVucm9sbG1lbnQ6IE1mYUVucm9sbG1lbnRcbiAgKTogVG90cE11bHRpRmFjdG9ySW5mb0ltcGwge1xuICAgIHJldHVybiBuZXcgVG90cE11bHRpRmFjdG9ySW5mb0ltcGwoZW5yb2xsbWVudCBhcyBUb3RwTWZhRW5yb2xsbWVudCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBY3Rpb25Db2RlU2V0dGluZ3MsIEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBHZXRPb2JDb2RlUmVxdWVzdCB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9lbWFpbF9hbmRfcGFzc3dvcmQnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gX3NldEFjdGlvbkNvZGVTZXR0aW5nc09uUmVxdWVzdChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogR2V0T29iQ29kZVJlcXVlc3QsXG4gIGFjdGlvbkNvZGVTZXR0aW5nczogQWN0aW9uQ29kZVNldHRpbmdzXG4pOiB2b2lkIHtcbiAgX2Fzc2VydChcbiAgICBhY3Rpb25Db2RlU2V0dGluZ3MudXJsPy5sZW5ndGggPiAwLFxuICAgIGF1dGgsXG4gICAgQXV0aEVycm9yQ29kZS5JTlZBTElEX0NPTlRJTlVFX1VSSVxuICApO1xuICBfYXNzZXJ0KFxuICAgIHR5cGVvZiBhY3Rpb25Db2RlU2V0dGluZ3MuZHluYW1pY0xpbmtEb21haW4gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICBhY3Rpb25Db2RlU2V0dGluZ3MuZHluYW1pY0xpbmtEb21haW4ubGVuZ3RoID4gMCxcbiAgICBhdXRoLFxuICAgIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9EWU5BTUlDX0xJTktfRE9NQUlOXG4gICk7XG5cbiAgcmVxdWVzdC5jb250aW51ZVVybCA9IGFjdGlvbkNvZGVTZXR0aW5ncy51cmw7XG4gIHJlcXVlc3QuZHluYW1pY0xpbmtEb21haW4gPSBhY3Rpb25Db2RlU2V0dGluZ3MuZHluYW1pY0xpbmtEb21haW47XG4gIHJlcXVlc3QuY2FuSGFuZGxlQ29kZUluQXBwID0gYWN0aW9uQ29kZVNldHRpbmdzLmhhbmRsZUNvZGVJbkFwcDtcblxuICBpZiAoYWN0aW9uQ29kZVNldHRpbmdzLmlPUykge1xuICAgIF9hc3NlcnQoXG4gICAgICBhY3Rpb25Db2RlU2V0dGluZ3MuaU9TLmJ1bmRsZUlkLmxlbmd0aCA+IDAsXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5NSVNTSU5HX0lPU19CVU5ETEVfSURcbiAgICApO1xuICAgIHJlcXVlc3QuaU9TQnVuZGxlSWQgPSBhY3Rpb25Db2RlU2V0dGluZ3MuaU9TLmJ1bmRsZUlkO1xuICB9XG5cbiAgaWYgKGFjdGlvbkNvZGVTZXR0aW5ncy5hbmRyb2lkKSB7XG4gICAgX2Fzc2VydChcbiAgICAgIGFjdGlvbkNvZGVTZXR0aW5ncy5hbmRyb2lkLnBhY2thZ2VOYW1lLmxlbmd0aCA+IDAsXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5NSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FXG4gICAgKTtcbiAgICByZXF1ZXN0LmFuZHJvaWRJbnN0YWxsQXBwID0gYWN0aW9uQ29kZVNldHRpbmdzLmFuZHJvaWQuaW5zdGFsbEFwcDtcbiAgICByZXF1ZXN0LmFuZHJvaWRNaW5pbXVtVmVyc2lvbkNvZGUgPVxuICAgICAgYWN0aW9uQ29kZVNldHRpbmdzLmFuZHJvaWQubWluaW11bVZlcnNpb247XG4gICAgcmVxdWVzdC5hbmRyb2lkUGFja2FnZU5hbWUgPSBhY3Rpb25Db2RlU2V0dGluZ3MuYW5kcm9pZC5wYWNrYWdlTmFtZTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEFjdGlvbkNvZGVJbmZvLFxuICBBY3Rpb25Db2RlT3BlcmF0aW9uLFxuICBBY3Rpb25Db2RlU2V0dGluZ3MsXG4gIEF1dGgsXG4gIFVzZXJDcmVkZW50aWFsXG59IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCAqIGFzIGFjY291bnQgZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9lbWFpbF9hbmRfcGFzc3dvcmQnO1xuaW1wb3J0ICogYXMgYXV0aGVudGljYXRpb24gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2VtYWlsX2FuZF9wYXNzd29yZCc7XG5pbXBvcnQgeyBzaWduVXAsIFNpZ25VcFJlcXVlc3QgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vc2lnbl91cCc7XG5pbXBvcnQgeyBNdWx0aUZhY3RvckluZm9JbXBsIH0gZnJvbSAnLi4vLi4vbWZhL21mYV9pbmZvJztcbmltcG9ydCB7IEVtYWlsQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vcHJvdmlkZXJzL2VtYWlsJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW1wbCB9IGZyb20gJy4uL3VzZXIvdXNlcl9jcmVkZW50aWFsX2ltcGwnO1xuaW1wb3J0IHtcbiAgX2Fzc2VydCxcbiAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3Jcbn0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX3NldEFjdGlvbkNvZGVTZXR0aW5nc09uUmVxdWVzdCB9IGZyb20gJy4vYWN0aW9uX2NvZGVfc2V0dGluZ3MnO1xuaW1wb3J0IHsgc2lnbkluV2l0aENyZWRlbnRpYWwgfSBmcm9tICcuL2NyZWRlbnRpYWwnO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuaW1wb3J0IHsgaGFuZGxlUmVjYXB0Y2hhRmxvdyB9IGZyb20gJy4uLy4uL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV9lbnRlcnByaXNlX3ZlcmlmaWVyJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFJlY2FwdGNoYUFjdGlvbk5hbWUsIFJlY2FwdGNoYUNsaWVudFR5cGUgfSBmcm9tICcuLi8uLi9hcGknO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBwYXNzd29yZCBwb2xpY3kgY2FjaGVkIGluIHRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UgaWYgYSBwb2xpY3kgaXMgYWxyZWFkeVxuICogY2FjaGVkIGZvciB0aGUgcHJvamVjdCBvciB0ZW5hbnQuXG4gKlxuICogQHJlbWFya3NcbiAqIFdlIG9ubHkgZmV0Y2ggdGhlIHBhc3N3b3JkIHBvbGljeSBpZiB0aGUgcGFzc3dvcmQgZGlkIG5vdCBtZWV0IHBvbGljeSByZXF1aXJlbWVudHMgYW5kXG4gKiB0aGVyZSBpcyBhbiBleGlzdGluZyBwb2xpY3kgY2FjaGVkLiBBIGRldmVsb3BlciBtdXN0IGNhbGwgdmFsaWRhdGVQYXNzd29yZCBhdCBsZWFzdFxuICogb25jZSBmb3IgdGhlIGNhY2hlIHRvIGJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlZC5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcmVjYWNoZVBhc3N3b3JkUG9saWN5KGF1dGg6IEF1dGgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBpZiAoYXV0aEludGVybmFsLl9nZXRQYXNzd29yZFBvbGljeUludGVybmFsKCkpIHtcbiAgICBhd2FpdCBhdXRoSW50ZXJuYWwuX3VwZGF0ZVBhc3N3b3JkUG9saWN5KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kcyBhIHBhc3N3b3JkIHJlc2V0IGVtYWlsIHRvIHRoZSBnaXZlbiBlbWFpbCBhZGRyZXNzLiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciB3aGVuXG4gKiB0aGVyZSdzIG5vIHVzZXIgYWNjb3VudCB3aXRoIHRoZSBnaXZlbiBlbWFpbCBhZGRyZXNzIGFuZFxuICoge0BsaW5rIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9pZGVudGl0eS1wbGF0Zm9ybS9kb2NzL2FkbWluL2VtYWlsLWVudW1lcmF0aW9uLXByb3RlY3Rpb24gfCBFbWFpbCBFbnVtZXJhdGlvbiBQcm90ZWN0aW9ufVxuICogaXMgZW5hYmxlZC5cbiAqXG4gKiBAcmVtYXJrc1xuICogVG8gY29tcGxldGUgdGhlIHBhc3N3b3JkIHJlc2V0LCBjYWxsIHtAbGluayBjb25maXJtUGFzc3dvcmRSZXNldH0gd2l0aCB0aGUgY29kZSBzdXBwbGllZCBpblxuICogdGhlIGVtYWlsIHNlbnQgdG8gdGhlIHVzZXIsIGFsb25nIHdpdGggdGhlIG5ldyBwYXNzd29yZCBzcGVjaWZpZWQgYnkgdGhlIHVzZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IGFjdGlvbkNvZGVTZXR0aW5ncyA9IHtcbiAqICAgdXJsOiAnaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vP2VtYWlsPXVzZXJAZXhhbXBsZS5jb20nLFxuICogICBpT1M6IHtcbiAqICAgICAgYnVuZGxlSWQ6ICdjb20uZXhhbXBsZS5pb3MnXG4gKiAgIH0sXG4gKiAgIGFuZHJvaWQ6IHtcbiAqICAgICBwYWNrYWdlTmFtZTogJ2NvbS5leGFtcGxlLmFuZHJvaWQnLFxuICogICAgIGluc3RhbGxBcHA6IHRydWUsXG4gKiAgICAgbWluaW11bVZlcnNpb246ICcxMidcbiAqICAgfSxcbiAqICAgaGFuZGxlQ29kZUluQXBwOiB0cnVlXG4gKiB9O1xuICogYXdhaXQgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChhdXRoLCAndXNlckBleGFtcGxlLmNvbScsIGFjdGlvbkNvZGVTZXR0aW5ncyk7XG4gKiAvLyBPYnRhaW4gY29kZSBmcm9tIHVzZXIuXG4gKiBhd2FpdCBjb25maXJtUGFzc3dvcmRSZXNldCgndXNlckBleGFtcGxlLmNvbScsIGNvZGUpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGVtYWlsIC0gVGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzLlxuICogQHBhcmFtIGFjdGlvbkNvZGVTZXR0aW5ncyAtIFRoZSB7QGxpbmsgQWN0aW9uQ29kZVNldHRpbmdzfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKFxuICBhdXRoOiBBdXRoLFxuICBlbWFpbDogc3RyaW5nLFxuICBhY3Rpb25Db2RlU2V0dGluZ3M/OiBBY3Rpb25Db2RlU2V0dGluZ3Ncbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIGNvbnN0IHJlcXVlc3Q6IGF1dGhlbnRpY2F0aW9uLlBhc3N3b3JkUmVzZXRSZXF1ZXN0ID0ge1xuICAgIHJlcXVlc3RUeXBlOiBBY3Rpb25Db2RlT3BlcmF0aW9uLlBBU1NXT1JEX1JFU0VULFxuICAgIGVtYWlsLFxuICAgIGNsaWVudFR5cGU6IFJlY2FwdGNoYUNsaWVudFR5cGUuV0VCXG4gIH07XG4gIGlmIChhY3Rpb25Db2RlU2V0dGluZ3MpIHtcbiAgICBfc2V0QWN0aW9uQ29kZVNldHRpbmdzT25SZXF1ZXN0KGF1dGhJbnRlcm5hbCwgcmVxdWVzdCwgYWN0aW9uQ29kZVNldHRpbmdzKTtcbiAgfVxuICBhd2FpdCBoYW5kbGVSZWNhcHRjaGFGbG93KFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICByZXF1ZXN0LFxuICAgIFJlY2FwdGNoYUFjdGlvbk5hbWUuR0VUX09PQl9DT0RFLFxuICAgIGF1dGhlbnRpY2F0aW9uLnNlbmRQYXNzd29yZFJlc2V0RW1haWxcbiAgKTtcbn1cblxuLyoqXG4gKiBDb21wbGV0ZXMgdGhlIHBhc3N3b3JkIHJlc2V0IHByb2Nlc3MsIGdpdmVuIGEgY29uZmlybWF0aW9uIGNvZGUgYW5kIG5ldyBwYXNzd29yZC5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gb29iQ29kZSAtIEEgY29uZmlybWF0aW9uIGNvZGUgc2VudCB0byB0aGUgdXNlci5cbiAqIEBwYXJhbSBuZXdQYXNzd29yZCAtIFRoZSBuZXcgcGFzc3dvcmQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29uZmlybVBhc3N3b3JkUmVzZXQoXG4gIGF1dGg6IEF1dGgsXG4gIG9vYkNvZGU6IHN0cmluZyxcbiAgbmV3UGFzc3dvcmQ6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IGFjY291bnRcbiAgICAucmVzZXRQYXNzd29yZChnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCksIHtcbiAgICAgIG9vYkNvZGUsXG4gICAgICBuZXdQYXNzd29yZFxuICAgIH0pXG4gICAgLmNhdGNoKGFzeW5jIGVycm9yID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZXJyb3IuY29kZSA9PT1cbiAgICAgICAgYGF1dGgvJHtBdXRoRXJyb3JDb2RlLlBBU1NXT1JEX0RPRVNfTk9UX01FRVRfUkVRVUlSRU1FTlRTfWBcbiAgICAgICkge1xuICAgICAgICB2b2lkIHJlY2FjaGVQYXNzd29yZFBvbGljeShhdXRoKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG4gIC8vIERvIG5vdCByZXR1cm4gdGhlIGVtYWlsLlxufVxuXG4vKipcbiAqIEFwcGxpZXMgYSB2ZXJpZmljYXRpb24gY29kZSBzZW50IHRvIHRoZSB1c2VyIGJ5IGVtYWlsIG9yIG90aGVyIG91dC1vZi1iYW5kIG1lY2hhbmlzbS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gb29iQ29kZSAtIEEgdmVyaWZpY2F0aW9uIGNvZGUgc2VudCB0byB0aGUgdXNlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHBseUFjdGlvbkNvZGUoXG4gIGF1dGg6IEF1dGgsXG4gIG9vYkNvZGU6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IGFjY291bnQuYXBwbHlBY3Rpb25Db2RlKGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKSwgeyBvb2JDb2RlIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIHZlcmlmaWNhdGlvbiBjb2RlIHNlbnQgdG8gdGhlIHVzZXIgYnkgZW1haWwgb3Igb3RoZXIgb3V0LW9mLWJhbmQgbWVjaGFuaXNtLlxuICpcbiAqIEByZXR1cm5zIG1ldGFkYXRhIGFib3V0IHRoZSBjb2RlLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBvb2JDb2RlIC0gQSB2ZXJpZmljYXRpb24gY29kZSBzZW50IHRvIHRoZSB1c2VyLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrQWN0aW9uQ29kZShcbiAgYXV0aDogQXV0aCxcbiAgb29iQ29kZTogc3RyaW5nXG4pOiBQcm9taXNlPEFjdGlvbkNvZGVJbmZvPiB7XG4gIGNvbnN0IGF1dGhNb2R1bGFyID0gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFjY291bnQucmVzZXRQYXNzd29yZChhdXRoTW9kdWxhciwgeyBvb2JDb2RlIH0pO1xuXG4gIC8vIEVtYWlsIGNvdWxkIGJlIGVtcHR5IG9ubHkgaWYgdGhlIHJlcXVlc3QgdHlwZSBpcyBFTUFJTF9TSUdOSU4gb3JcbiAgLy8gVkVSSUZZX0FORF9DSEFOR0VfRU1BSUwuXG4gIC8vIE5ldyBlbWFpbCBzaG91bGQgbm90IGJlIGVtcHR5IGlmIHRoZSByZXF1ZXN0IHR5cGUgaXNcbiAgLy8gVkVSSUZZX0FORF9DSEFOR0VfRU1BSUwuXG4gIC8vIE11bHRpLWZhY3RvciBpbmZvIGNvdWxkIG5vdCBiZSBlbXB0eSBpZiB0aGUgcmVxdWVzdCB0eXBlIGlzXG4gIC8vIFJFVkVSVF9TRUNPTkRfRkFDVE9SX0FERElUSU9OLlxuICBjb25zdCBvcGVyYXRpb24gPSByZXNwb25zZS5yZXF1ZXN0VHlwZTtcbiAgX2Fzc2VydChvcGVyYXRpb24sIGF1dGhNb2R1bGFyLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgc3dpdGNoIChvcGVyYXRpb24pIHtcbiAgICBjYXNlIEFjdGlvbkNvZGVPcGVyYXRpb24uRU1BSUxfU0lHTklOOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBY3Rpb25Db2RlT3BlcmF0aW9uLlZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMOlxuICAgICAgX2Fzc2VydChyZXNwb25zZS5uZXdFbWFpbCwgYXV0aE1vZHVsYXIsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBY3Rpb25Db2RlT3BlcmF0aW9uLlJFVkVSVF9TRUNPTkRfRkFDVE9SX0FERElUSU9OOlxuICAgICAgX2Fzc2VydChyZXNwb25zZS5tZmFJbmZvLCBhdXRoTW9kdWxhciwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgZGVmYXVsdDpcbiAgICAgIF9hc3NlcnQocmVzcG9uc2UuZW1haWwsIGF1dGhNb2R1bGFyLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgfVxuXG4gIC8vIFRoZSBtdWx0aS1mYWN0b3IgaW5mbyBmb3IgcmV2ZXJ0IHNlY29uZCBmYWN0b3IgYWRkaXRpb25cbiAgbGV0IG11bHRpRmFjdG9ySW5mbzogTXVsdGlGYWN0b3JJbmZvSW1wbCB8IG51bGwgPSBudWxsO1xuICBpZiAocmVzcG9uc2UubWZhSW5mbykge1xuICAgIG11bHRpRmFjdG9ySW5mbyA9IE11bHRpRmFjdG9ySW5mb0ltcGwuX2Zyb21TZXJ2ZXJSZXNwb25zZShcbiAgICAgIF9jYXN0QXV0aChhdXRoTW9kdWxhciksXG4gICAgICByZXNwb25zZS5tZmFJbmZvXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZGF0YToge1xuICAgICAgZW1haWw6XG4gICAgICAgIChyZXNwb25zZS5yZXF1ZXN0VHlwZSA9PT0gQWN0aW9uQ29kZU9wZXJhdGlvbi5WRVJJRllfQU5EX0NIQU5HRV9FTUFJTFxuICAgICAgICAgID8gcmVzcG9uc2UubmV3RW1haWxcbiAgICAgICAgICA6IHJlc3BvbnNlLmVtYWlsKSB8fCBudWxsLFxuICAgICAgcHJldmlvdXNFbWFpbDpcbiAgICAgICAgKHJlc3BvbnNlLnJlcXVlc3RUeXBlID09PSBBY3Rpb25Db2RlT3BlcmF0aW9uLlZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMXG4gICAgICAgICAgPyByZXNwb25zZS5lbWFpbFxuICAgICAgICAgIDogcmVzcG9uc2UubmV3RW1haWwpIHx8IG51bGwsXG4gICAgICBtdWx0aUZhY3RvckluZm9cbiAgICB9LFxuICAgIG9wZXJhdGlvblxuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBhIHBhc3N3b3JkIHJlc2V0IGNvZGUgc2VudCB0byB0aGUgdXNlciBieSBlbWFpbCBvciBvdGhlciBvdXQtb2YtYmFuZCBtZWNoYW5pc20uXG4gKlxuICogQHJldHVybnMgdGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzIGlmIHZhbGlkLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBjb2RlIC0gQSB2ZXJpZmljYXRpb24gY29kZSBzZW50IHRvIHRoZSB1c2VyLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBhc3N3b3JkUmVzZXRDb2RlKFxuICBhdXRoOiBBdXRoLFxuICBjb2RlOiBzdHJpbmdcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgY2hlY2tBY3Rpb25Db2RlKGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKSwgY29kZSk7XG4gIC8vIEVtYWlsIHNob3VsZCBhbHdheXMgYmUgcHJlc2VudCBzaW5jZSBhIGNvZGUgd2FzIHNlbnQgdG8gaXRcbiAgcmV0dXJuIGRhdGEuZW1haWwhO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdXNlciBhY2NvdW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGVtYWlsIGFkZHJlc3MgYW5kIHBhc3N3b3JkLlxuICpcbiAqIEByZW1hcmtzXG4gKiBPbiBzdWNjZXNzZnVsIGNyZWF0aW9uIG9mIHRoZSB1c2VyIGFjY291bnQsIHRoaXMgdXNlciB3aWxsIGFsc28gYmUgc2lnbmVkIGluIHRvIHlvdXIgYXBwbGljYXRpb24uXG4gKlxuICogVXNlciBhY2NvdW50IGNyZWF0aW9uIGNhbiBmYWlsIGlmIHRoZSBhY2NvdW50IGFscmVhZHkgZXhpc3RzIG9yIHRoZSBwYXNzd29yZCBpcyBpbnZhbGlkLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgb24ge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIE5vdGU6IFRoZSBlbWFpbCBhZGRyZXNzIGFjdHMgYXMgYSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHVzZXIgYW5kIGVuYWJsZXMgYW4gZW1haWwtYmFzZWRcbiAqIHBhc3N3b3JkIHJlc2V0LiBUaGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIGEgbmV3IHVzZXIgYWNjb3VudCBhbmQgc2V0IHRoZSBpbml0aWFsIHVzZXIgcGFzc3dvcmQuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGVtYWlsIC0gVGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzLlxuICogQHBhcmFtIHBhc3N3b3JkIC0gVGhlIHVzZXIncyBjaG9zZW4gcGFzc3dvcmQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKFxuICBhdXRoOiBBdXRoLFxuICBlbWFpbDogc3RyaW5nLFxuICBwYXNzd29yZDogc3RyaW5nXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBjb25zdCByZXF1ZXN0OiBTaWduVXBSZXF1ZXN0ID0ge1xuICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlLFxuICAgIGVtYWlsLFxuICAgIHBhc3N3b3JkLFxuICAgIGNsaWVudFR5cGU6IFJlY2FwdGNoYUNsaWVudFR5cGUuV0VCXG4gIH07XG4gIGNvbnN0IHNpZ25VcFJlc3BvbnNlOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4gPSBoYW5kbGVSZWNhcHRjaGFGbG93KFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICByZXF1ZXN0LFxuICAgIFJlY2FwdGNoYUFjdGlvbk5hbWUuU0lHTl9VUF9QQVNTV09SRCxcbiAgICBzaWduVXBcbiAgKTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaWduVXBSZXNwb25zZS5jYXRjaChlcnJvciA9PiB7XG4gICAgaWYgKFxuICAgICAgZXJyb3IuY29kZSA9PT0gYGF1dGgvJHtBdXRoRXJyb3JDb2RlLlBBU1NXT1JEX0RPRVNfTk9UX01FRVRfUkVRVUlSRU1FTlRTfWBcbiAgICApIHtcbiAgICAgIHZvaWQgcmVjYWNoZVBhc3N3b3JkUG9saWN5KGF1dGgpO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9KTtcblxuICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IFVzZXJDcmVkZW50aWFsSW1wbC5fZnJvbUlkVG9rZW5SZXNwb25zZShcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgT3BlcmF0aW9uVHlwZS5TSUdOX0lOLFxuICAgIHJlc3BvbnNlXG4gICk7XG4gIGF3YWl0IGF1dGhJbnRlcm5hbC5fdXBkYXRlQ3VycmVudFVzZXIodXNlckNyZWRlbnRpYWwudXNlcik7XG5cbiAgcmV0dXJuIHVzZXJDcmVkZW50aWFsO1xufVxuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNpZ25zIGluIHVzaW5nIGFuIGVtYWlsIGFuZCBwYXNzd29yZC5cbiAqXG4gKiBAcmVtYXJrc1xuICogRmFpbHMgd2l0aCBhbiBlcnJvciBpZiB0aGUgZW1haWwgYWRkcmVzcyBhbmQgcGFzc3dvcmQgZG8gbm90IG1hdGNoLiBXaGVuXG4gKiB7QGxpbmsgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2lkZW50aXR5LXBsYXRmb3JtL2RvY3MvYWRtaW4vZW1haWwtZW51bWVyYXRpb24tcHJvdGVjdGlvbiB8IEVtYWlsIEVudW1lcmF0aW9uIFByb3RlY3Rpb259XG4gKiBpcyBlbmFibGVkLCB0aGlzIG1ldGhvZCBmYWlscyB3aXRoIFwiYXV0aC9pbnZhbGlkLWNyZWRlbnRpYWxcIiBpbiBjYXNlIG9mIGFuIGludmFsaWRcbiAqIGVtYWlsL3Bhc3N3b3JkLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgb24ge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIE5vdGU6IFRoZSB1c2VyJ3MgcGFzc3dvcmQgaXMgTk9UIHRoZSBwYXNzd29yZCB1c2VkIHRvIGFjY2VzcyB0aGUgdXNlcidzIGVtYWlsIGFjY291bnQuIFRoZVxuICogZW1haWwgYWRkcmVzcyBzZXJ2ZXMgYXMgYSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHVzZXIsIGFuZCB0aGUgcGFzc3dvcmQgaXMgdXNlZCB0byBhY2Nlc3NcbiAqIHRoZSB1c2VyJ3MgYWNjb3VudCBpbiB5b3VyIEZpcmViYXNlIHByb2plY3QuIFNlZSBhbHNvOiB7QGxpbmsgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkfS5cbiAqXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGVtYWlsIC0gVGhlIHVzZXJzIGVtYWlsIGFkZHJlc3MuXG4gKiBAcGFyYW0gcGFzc3dvcmQgLSBUaGUgdXNlcnMgcGFzc3dvcmQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoXG4gIGF1dGg6IEF1dGgsXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmdcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gc2lnbkluV2l0aENyZWRlbnRpYWwoXG4gICAgZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLFxuICAgIEVtYWlsQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoZW1haWwsIHBhc3N3b3JkKVxuICApLmNhdGNoKGFzeW5jIGVycm9yID0+IHtcbiAgICBpZiAoXG4gICAgICBlcnJvci5jb2RlID09PSBgYXV0aC8ke0F1dGhFcnJvckNvZGUuUEFTU1dPUkRfRE9FU19OT1RfTUVFVF9SRVFVSVJFTUVOVFN9YFxuICAgICkge1xuICAgICAgdm9pZCByZWNhY2hlUGFzc3dvcmRQb2xpY3koYXV0aCk7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH0pO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEFjdGlvbkNvZGVPcGVyYXRpb24sXG4gIEFjdGlvbkNvZGVTZXR0aW5ncyxcbiAgQXV0aCxcbiAgVXNlckNyZWRlbnRpYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0ICogYXMgYXBpIGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9lbWFpbF9hbmRfcGFzc3dvcmQnO1xuaW1wb3J0IHsgQWN0aW9uQ29kZVVSTCB9IGZyb20gJy4uL2FjdGlvbl9jb2RlX3VybCc7XG5pbXBvcnQgeyBFbWFpbEF1dGhQcm92aWRlciB9IGZyb20gJy4uL3Byb3ZpZGVycy9lbWFpbCc7XG5pbXBvcnQgeyBfZ2V0Q3VycmVudFVybCB9IGZyb20gJy4uL3V0aWwvbG9jYXRpb24nO1xuaW1wb3J0IHsgX3NldEFjdGlvbkNvZGVTZXR0aW5nc09uUmVxdWVzdCB9IGZyb20gJy4vYWN0aW9uX2NvZGVfc2V0dGluZ3MnO1xuaW1wb3J0IHsgc2lnbkluV2l0aENyZWRlbnRpYWwgfSBmcm9tICcuL2NyZWRlbnRpYWwnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgaGFuZGxlUmVjYXB0Y2hhRmxvdyB9IGZyb20gJy4uLy4uL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV9lbnRlcnByaXNlX3ZlcmlmaWVyJztcbmltcG9ydCB7IFJlY2FwdGNoYUFjdGlvbk5hbWUsIFJlY2FwdGNoYUNsaWVudFR5cGUgfSBmcm9tICcuLi8uLi9hcGknO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5cbi8qKlxuICogU2VuZHMgYSBzaWduLWluIGVtYWlsIGxpbmsgdG8gdGhlIHVzZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGVtYWlsLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGUgc2lnbi1pbiBvcGVyYXRpb24gaGFzIHRvIGFsd2F5cyBiZSBjb21wbGV0ZWQgaW4gdGhlIGFwcCB1bmxpa2Ugb3RoZXIgb3V0IG9mIGJhbmQgZW1haWxcbiAqIGFjdGlvbnMgKHBhc3N3b3JkIHJlc2V0IGFuZCBlbWFpbCB2ZXJpZmljYXRpb25zKS4gVGhpcyBpcyBiZWNhdXNlLCBhdCB0aGUgZW5kIG9mIHRoZSBmbG93LFxuICogdGhlIHVzZXIgaXMgZXhwZWN0ZWQgdG8gYmUgc2lnbmVkIGluIGFuZCB0aGVpciBBdXRoIHN0YXRlIHBlcnNpc3RlZCB3aXRoaW4gdGhlIGFwcC5cbiAqXG4gKiBUbyBjb21wbGV0ZSBzaWduIGluIHdpdGggdGhlIGVtYWlsIGxpbmssIGNhbGwge0BsaW5rIHNpZ25JbldpdGhFbWFpbExpbmt9IHdpdGggdGhlIGVtYWlsXG4gKiBhZGRyZXNzIGFuZCB0aGUgZW1haWwgbGluayBzdXBwbGllZCBpbiB0aGUgZW1haWwgc2VudCB0byB0aGUgdXNlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgYWN0aW9uQ29kZVNldHRpbmdzID0ge1xuICogICB1cmw6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS8/ZW1haWw9dXNlckBleGFtcGxlLmNvbScsXG4gKiAgIGlPUzoge1xuICogICAgICBidW5kbGVJZDogJ2NvbS5leGFtcGxlLmlvcydcbiAqICAgfSxcbiAqICAgYW5kcm9pZDoge1xuICogICAgIHBhY2thZ2VOYW1lOiAnY29tLmV4YW1wbGUuYW5kcm9pZCcsXG4gKiAgICAgaW5zdGFsbEFwcDogdHJ1ZSxcbiAqICAgICBtaW5pbXVtVmVyc2lvbjogJzEyJ1xuICogICB9LFxuICogICBoYW5kbGVDb2RlSW5BcHA6IHRydWVcbiAqIH07XG4gKiBhd2FpdCBzZW5kU2lnbkluTGlua1RvRW1haWwoYXV0aCwgJ3VzZXJAZXhhbXBsZS5jb20nLCBhY3Rpb25Db2RlU2V0dGluZ3MpO1xuICogLy8gT2J0YWluIGVtYWlsTGluayBmcm9tIHRoZSB1c2VyLlxuICogaWYoaXNTaWduSW5XaXRoRW1haWxMaW5rKGF1dGgsIGVtYWlsTGluaykpIHtcbiAqICAgYXdhaXQgc2lnbkluV2l0aEVtYWlsTGluayhhdXRoLCAndXNlckBleGFtcGxlLmNvbScsIGVtYWlsTGluayk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aEludGVybmFsIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlbWFpbCAtIFRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcy5cbiAqIEBwYXJhbSBhY3Rpb25Db2RlU2V0dGluZ3MgLSBUaGUge0BsaW5rIEFjdGlvbkNvZGVTZXR0aW5nc30uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFNpZ25JbkxpbmtUb0VtYWlsKFxuICBhdXRoOiBBdXRoLFxuICBlbWFpbDogc3RyaW5nLFxuICBhY3Rpb25Db2RlU2V0dGluZ3M6IEFjdGlvbkNvZGVTZXR0aW5nc1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgY29uc3QgcmVxdWVzdDogYXBpLkVtYWlsU2lnbkluUmVxdWVzdCA9IHtcbiAgICByZXF1ZXN0VHlwZTogQWN0aW9uQ29kZU9wZXJhdGlvbi5FTUFJTF9TSUdOSU4sXG4gICAgZW1haWwsXG4gICAgY2xpZW50VHlwZTogUmVjYXB0Y2hhQ2xpZW50VHlwZS5XRUJcbiAgfTtcbiAgZnVuY3Rpb24gc2V0QWN0aW9uQ29kZVNldHRpbmdzKFxuICAgIHJlcXVlc3Q6IGFwaS5FbWFpbFNpZ25JblJlcXVlc3QsXG4gICAgYWN0aW9uQ29kZVNldHRpbmdzOiBBY3Rpb25Db2RlU2V0dGluZ3NcbiAgKTogdm9pZCB7XG4gICAgX2Fzc2VydChcbiAgICAgIGFjdGlvbkNvZGVTZXR0aW5ncy5oYW5kbGVDb2RlSW5BcHAsXG4gICAgICBhdXRoSW50ZXJuYWwsXG4gICAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICAgKTtcbiAgICBpZiAoYWN0aW9uQ29kZVNldHRpbmdzKSB7XG4gICAgICBfc2V0QWN0aW9uQ29kZVNldHRpbmdzT25SZXF1ZXN0KFxuICAgICAgICBhdXRoSW50ZXJuYWwsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGFjdGlvbkNvZGVTZXR0aW5nc1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgc2V0QWN0aW9uQ29kZVNldHRpbmdzKHJlcXVlc3QsIGFjdGlvbkNvZGVTZXR0aW5ncyk7XG4gIGF3YWl0IGhhbmRsZVJlY2FwdGNoYUZsb3coXG4gICAgYXV0aEludGVybmFsLFxuICAgIHJlcXVlc3QsXG4gICAgUmVjYXB0Y2hhQWN0aW9uTmFtZS5HRVRfT09CX0NPREUsXG4gICAgYXBpLnNlbmRTaWduSW5MaW5rVG9FbWFpbFxuICApO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhbiBpbmNvbWluZyBsaW5rIGlzIGEgc2lnbi1pbiB3aXRoIGVtYWlsIGxpbmsgc3VpdGFibGUgZm9yIHtAbGluayBzaWduSW5XaXRoRW1haWxMaW5rfS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gZW1haWxMaW5rIC0gVGhlIGxpbmsgc2VudCB0byB0aGUgdXNlcidzIGVtYWlsIGFkZHJlc3MuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTaWduSW5XaXRoRW1haWxMaW5rKGF1dGg6IEF1dGgsIGVtYWlsTGluazogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGFjdGlvbkNvZGVVcmwgPSBBY3Rpb25Db2RlVVJMLnBhcnNlTGluayhlbWFpbExpbmspO1xuICByZXR1cm4gYWN0aW9uQ29kZVVybD8ub3BlcmF0aW9uID09PSBBY3Rpb25Db2RlT3BlcmF0aW9uLkVNQUlMX1NJR05JTjtcbn1cblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzaWducyBpbiB1c2luZyBhbiBlbWFpbCBhbmQgc2lnbi1pbiBlbWFpbCBsaW5rLlxuICpcbiAqIEByZW1hcmtzXG4gKiBJZiBubyBsaW5rIGlzIHBhc3NlZCwgdGhlIGxpbmsgaXMgaW5mZXJyZWQgZnJvbSB0aGUgY3VycmVudCBVUkwuXG4gKlxuICogRmFpbHMgd2l0aCBhbiBlcnJvciBpZiB0aGUgZW1haWwgYWRkcmVzcyBpcyBpbnZhbGlkIG9yIE9UUCBpbiBlbWFpbCBsaW5rIGV4cGlyZXMuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogTm90ZTogQ29uZmlybSB0aGUgbGluayBpcyBhIHNpZ24taW4gZW1haWwgbGluayBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZCBmaXJlYmFzZS5hdXRoLkF1dGguaXNTaWduSW5XaXRoRW1haWxMaW5rLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBhY3Rpb25Db2RlU2V0dGluZ3MgPSB7XG4gKiAgIHVybDogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tLz9lbWFpbD11c2VyQGV4YW1wbGUuY29tJyxcbiAqICAgaU9TOiB7XG4gKiAgICAgIGJ1bmRsZUlkOiAnY29tLmV4YW1wbGUuaW9zJ1xuICogICB9LFxuICogICBhbmRyb2lkOiB7XG4gKiAgICAgcGFja2FnZU5hbWU6ICdjb20uZXhhbXBsZS5hbmRyb2lkJyxcbiAqICAgICBpbnN0YWxsQXBwOiB0cnVlLFxuICogICAgIG1pbmltdW1WZXJzaW9uOiAnMTInXG4gKiAgIH0sXG4gKiAgIGhhbmRsZUNvZGVJbkFwcDogdHJ1ZVxuICogfTtcbiAqIGF3YWl0IHNlbmRTaWduSW5MaW5rVG9FbWFpbChhdXRoLCAndXNlckBleGFtcGxlLmNvbScsIGFjdGlvbkNvZGVTZXR0aW5ncyk7XG4gKiAvLyBPYnRhaW4gZW1haWxMaW5rIGZyb20gdGhlIHVzZXIuXG4gKiBpZihpc1NpZ25JbldpdGhFbWFpbExpbmsoYXV0aCwgZW1haWxMaW5rKSkge1xuICogICBhd2FpdCBzaWduSW5XaXRoRW1haWxMaW5rKGF1dGgsICd1c2VyQGV4YW1wbGUuY29tJywgZW1haWxMaW5rKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gZW1haWwgLSBUaGUgdXNlcidzIGVtYWlsIGFkZHJlc3MuXG4gKiBAcGFyYW0gZW1haWxMaW5rIC0gVGhlIGxpbmsgc2VudCB0byB0aGUgdXNlcidzIGVtYWlsIGFkZHJlc3MuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aEVtYWlsTGluayhcbiAgYXV0aDogQXV0aCxcbiAgZW1haWw6IHN0cmluZyxcbiAgZW1haWxMaW5rPzogc3RyaW5nXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3QgYXV0aE1vZHVsYXIgPSBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCk7XG4gIGNvbnN0IGNyZWRlbnRpYWwgPSBFbWFpbEF1dGhQcm92aWRlci5jcmVkZW50aWFsV2l0aExpbmsoXG4gICAgZW1haWwsXG4gICAgZW1haWxMaW5rIHx8IF9nZXRDdXJyZW50VXJsKClcbiAgKTtcbiAgLy8gQ2hlY2sgaWYgdGhlIHRlbmFudCBJRCBpbiB0aGUgZW1haWwgbGluayBtYXRjaGVzIHRoZSB0ZW5hbnQgSUQgb24gQXV0aFxuICAvLyBpbnN0YW5jZS5cbiAgX2Fzc2VydChcbiAgICBjcmVkZW50aWFsLl90ZW5hbnRJZCA9PT0gKGF1dGhNb2R1bGFyLnRlbmFudElkIHx8IG51bGwpLFxuICAgIGF1dGhNb2R1bGFyLFxuICAgIEF1dGhFcnJvckNvZGUuVEVOQU5UX0lEX01JU01BVENIXG4gICk7XG4gIHJldHVybiBzaWduSW5XaXRoQ3JlZGVudGlhbChhdXRoTW9kdWxhciwgY3JlZGVudGlhbCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeSxcbiAgX3BlcmZvcm1BcGlSZXF1ZXN0XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUF1dGhVcmlSZXF1ZXN0IHtcbiAgaWRlbnRpZmllcjogc3RyaW5nO1xuICBjb250aW51ZVVyaTogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVBdXRoVXJpUmVzcG9uc2Uge1xuICBzaWduaW5NZXRob2RzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUF1dGhVcmkoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IENyZWF0ZUF1dGhVcmlSZXF1ZXN0XG4pOiBQcm9taXNlPENyZWF0ZUF1dGhVcmlSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PENyZWF0ZUF1dGhVcmlSZXF1ZXN0LCBDcmVhdGVBdXRoVXJpUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LkNSRUFURV9BVVRIX1VSSSxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBY3Rpb25Db2RlT3BlcmF0aW9uLFxuICBBY3Rpb25Db2RlU2V0dGluZ3MsXG4gIEF1dGgsXG4gIFVzZXJcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHtcbiAgY3JlYXRlQXV0aFVyaSxcbiAgQ3JlYXRlQXV0aFVyaVJlcXVlc3Rcbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2NyZWF0ZV9hdXRoX3VyaSc7XG5pbXBvcnQgKiBhcyBhcGkgZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2VtYWlsX2FuZF9wYXNzd29yZCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IF9nZXRDdXJyZW50VXJsLCBfaXNIdHRwT3JIdHRwcyB9IGZyb20gJy4uL3V0aWwvbG9jYXRpb24nO1xuaW1wb3J0IHsgX3NldEFjdGlvbkNvZGVTZXR0aW5nc09uUmVxdWVzdCB9IGZyb20gJy4vYWN0aW9uX2NvZGVfc2V0dGluZ3MnO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG4vKipcbiAqIEdldHMgdGhlIGxpc3Qgb2YgcG9zc2libGUgc2lnbiBpbiBtZXRob2RzIGZvciB0aGUgZ2l2ZW4gZW1haWwgYWRkcmVzcy4gVGhpcyBtZXRob2QgcmV0dXJucyBhblxuICogZW1wdHkgbGlzdCB3aGVuXG4gKiB7QGxpbmsgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2lkZW50aXR5LXBsYXRmb3JtL2RvY3MvYWRtaW4vZW1haWwtZW51bWVyYXRpb24tcHJvdGVjdGlvbiB8IEVtYWlsIEVudW1lcmF0aW9uIFByb3RlY3Rpb259XG4gKiBpcyBlbmFibGVkLCBpcnJlc3BlY3RpdmUgb2YgdGhlIG51bWJlciBvZiBhdXRoZW50aWNhdGlvbiBtZXRob2RzIGF2YWlsYWJsZSBmb3IgdGhlIGdpdmVuIGVtYWlsLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIGlzIHVzZWZ1bCB0byBkaWZmZXJlbnRpYXRlIG1ldGhvZHMgb2Ygc2lnbi1pbiBmb3IgdGhlIHNhbWUgcHJvdmlkZXIsIGVnLlxuICoge0BsaW5rIEVtYWlsQXV0aFByb3ZpZGVyfSB3aGljaCBoYXMgMiBtZXRob2RzIG9mIHNpZ24taW4sXG4gKiB7QGxpbmsgU2lnbkluTWV0aG9kfS5FTUFJTF9QQVNTV09SRCBhbmRcbiAqIHtAbGluayBTaWduSW5NZXRob2R9LkVNQUlMX0xJTksuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGVtYWlsIC0gVGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzLlxuICpcbiAqIERlcHJlY2F0ZWQuIE1pZ3JhdGluZyBvZmYgb2YgdGhpcyBtZXRob2QgaXMgcmVjb21tZW5kZWQgYXMgYSBzZWN1cml0eSBiZXN0LXByYWN0aWNlLlxuICogTGVhcm4gbW9yZSBpbiB0aGUgSWRlbnRpdHkgUGxhdGZvcm0gZG9jdW1lbnRhdGlvbiBmb3JcbiAqIHtAbGluayBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vaWRlbnRpdHktcGxhdGZvcm0vZG9jcy9hZG1pbi9lbWFpbC1lbnVtZXJhdGlvbi1wcm90ZWN0aW9uIHwgRW1haWwgRW51bWVyYXRpb24gUHJvdGVjdGlvbn0uXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFNpZ25Jbk1ldGhvZHNGb3JFbWFpbChcbiAgYXV0aDogQXV0aCxcbiAgZW1haWw6IHN0cmluZ1xuKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAvLyBjcmVhdGVBdXRoVXJpIHJldHVybnMgYW4gZXJyb3IgaWYgY29udGludWUgVVJJIGlzIG5vdCBodHRwIG9yIGh0dHBzLlxuICAvLyBGb3IgZW52aXJvbm1lbnRzIGxpa2UgQ29yZG92YSwgQ2hyb21lIGV4dGVuc2lvbnMsIG5hdGl2ZSBmcmFtZXdvcmtzLCBmaWxlXG4gIC8vIHN5c3RlbXMsIGV0YywgdXNlIGh0dHA6Ly9sb2NhbGhvc3QgYXMgY29udGludWUgVVJMLlxuICBjb25zdCBjb250aW51ZVVyaSA9IF9pc0h0dHBPckh0dHBzKCkgPyBfZ2V0Q3VycmVudFVybCgpIDogJ2h0dHA6Ly9sb2NhbGhvc3QnO1xuICBjb25zdCByZXF1ZXN0OiBDcmVhdGVBdXRoVXJpUmVxdWVzdCA9IHtcbiAgICBpZGVudGlmaWVyOiBlbWFpbCxcbiAgICBjb250aW51ZVVyaVxuICB9O1xuXG4gIGNvbnN0IHsgc2lnbmluTWV0aG9kcyB9ID0gYXdhaXQgY3JlYXRlQXV0aFVyaShcbiAgICBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCksXG4gICAgcmVxdWVzdFxuICApO1xuXG4gIHJldHVybiBzaWduaW5NZXRob2RzIHx8IFtdO1xufVxuXG4vKipcbiAqIFNlbmRzIGEgdmVyaWZpY2F0aW9uIGVtYWlsIHRvIGEgdXNlci5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIHZlcmlmaWNhdGlvbiBwcm9jZXNzIGlzIGNvbXBsZXRlZCBieSBjYWxsaW5nIHtAbGluayBhcHBseUFjdGlvbkNvZGV9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBhY3Rpb25Db2RlU2V0dGluZ3MgPSB7XG4gKiAgIHVybDogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tLz9lbWFpbD11c2VyQGV4YW1wbGUuY29tJyxcbiAqICAgaU9TOiB7XG4gKiAgICAgIGJ1bmRsZUlkOiAnY29tLmV4YW1wbGUuaW9zJ1xuICogICB9LFxuICogICBhbmRyb2lkOiB7XG4gKiAgICAgcGFja2FnZU5hbWU6ICdjb20uZXhhbXBsZS5hbmRyb2lkJyxcbiAqICAgICBpbnN0YWxsQXBwOiB0cnVlLFxuICogICAgIG1pbmltdW1WZXJzaW9uOiAnMTInXG4gKiAgIH0sXG4gKiAgIGhhbmRsZUNvZGVJbkFwcDogdHJ1ZVxuICogfTtcbiAqIGF3YWl0IHNlbmRFbWFpbFZlcmlmaWNhdGlvbih1c2VyLCBhY3Rpb25Db2RlU2V0dGluZ3MpO1xuICogLy8gT2J0YWluIGNvZGUgZnJvbSB0aGUgdXNlci5cbiAqIGF3YWl0IGFwcGx5QWN0aW9uQ29kZShhdXRoLCBjb2RlKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gYWN0aW9uQ29kZVNldHRpbmdzIC0gVGhlIHtAbGluayBBY3Rpb25Db2RlU2V0dGluZ3N9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRFbWFpbFZlcmlmaWNhdGlvbihcbiAgdXNlcjogVXNlcixcbiAgYWN0aW9uQ29kZVNldHRpbmdzPzogQWN0aW9uQ29kZVNldHRpbmdzIHwgbnVsbFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCB1c2VyLmdldElkVG9rZW4oKTtcbiAgY29uc3QgcmVxdWVzdDogYXBpLlZlcmlmeUVtYWlsUmVxdWVzdCA9IHtcbiAgICByZXF1ZXN0VHlwZTogQWN0aW9uQ29kZU9wZXJhdGlvbi5WRVJJRllfRU1BSUwsXG4gICAgaWRUb2tlblxuICB9O1xuICBpZiAoYWN0aW9uQ29kZVNldHRpbmdzKSB7XG4gICAgX3NldEFjdGlvbkNvZGVTZXR0aW5nc09uUmVxdWVzdChcbiAgICAgIHVzZXJJbnRlcm5hbC5hdXRoLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGFjdGlvbkNvZGVTZXR0aW5nc1xuICAgICk7XG4gIH1cblxuICBjb25zdCB7IGVtYWlsIH0gPSBhd2FpdCBhcGkuc2VuZEVtYWlsVmVyaWZpY2F0aW9uKHVzZXJJbnRlcm5hbC5hdXRoLCByZXF1ZXN0KTtcblxuICBpZiAoZW1haWwgIT09IHVzZXIuZW1haWwpIHtcbiAgICBhd2FpdCB1c2VyLnJlbG9hZCgpO1xuICB9XG59XG5cbi8qKlxuICogU2VuZHMgYSB2ZXJpZmljYXRpb24gZW1haWwgdG8gYSBuZXcgZW1haWwgYWRkcmVzcy5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIHVzZXIncyBlbWFpbCB3aWxsIGJlIHVwZGF0ZWQgdG8gdGhlIG5ldyBvbmUgYWZ0ZXIgYmVpbmcgdmVyaWZpZWQuXG4gKlxuICogSWYgeW91IGhhdmUgYSBjdXN0b20gZW1haWwgYWN0aW9uIGhhbmRsZXIsIHlvdSBjYW4gY29tcGxldGUgdGhlIHZlcmlmaWNhdGlvbiBwcm9jZXNzIGJ5IGNhbGxpbmdcbiAqIHtAbGluayBhcHBseUFjdGlvbkNvZGV9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBhY3Rpb25Db2RlU2V0dGluZ3MgPSB7XG4gKiAgIHVybDogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tLz9lbWFpbD11c2VyQGV4YW1wbGUuY29tJyxcbiAqICAgaU9TOiB7XG4gKiAgICAgIGJ1bmRsZUlkOiAnY29tLmV4YW1wbGUuaW9zJ1xuICogICB9LFxuICogICBhbmRyb2lkOiB7XG4gKiAgICAgcGFja2FnZU5hbWU6ICdjb20uZXhhbXBsZS5hbmRyb2lkJyxcbiAqICAgICBpbnN0YWxsQXBwOiB0cnVlLFxuICogICAgIG1pbmltdW1WZXJzaW9uOiAnMTInXG4gKiAgIH0sXG4gKiAgIGhhbmRsZUNvZGVJbkFwcDogdHJ1ZVxuICogfTtcbiAqIGF3YWl0IHZlcmlmeUJlZm9yZVVwZGF0ZUVtYWlsKHVzZXIsICduZXdlbWFpbEBleGFtcGxlLmNvbScsIGFjdGlvbkNvZGVTZXR0aW5ncyk7XG4gKiAvLyBPYnRhaW4gY29kZSBmcm9tIHRoZSB1c2VyLlxuICogYXdhaXQgYXBwbHlBY3Rpb25Db2RlKGF1dGgsIGNvZGUpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBuZXdFbWFpbCAtIFRoZSBuZXcgZW1haWwgYWRkcmVzcyB0byBiZSB2ZXJpZmllZCBiZWZvcmUgdXBkYXRlLlxuICogQHBhcmFtIGFjdGlvbkNvZGVTZXR0aW5ncyAtIFRoZSB7QGxpbmsgQWN0aW9uQ29kZVNldHRpbmdzfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlCZWZvcmVVcGRhdGVFbWFpbChcbiAgdXNlcjogVXNlcixcbiAgbmV3RW1haWw6IHN0cmluZyxcbiAgYWN0aW9uQ29kZVNldHRpbmdzPzogQWN0aW9uQ29kZVNldHRpbmdzIHwgbnVsbFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCB1c2VyLmdldElkVG9rZW4oKTtcbiAgY29uc3QgcmVxdWVzdDogYXBpLlZlcmlmeUFuZENoYW5nZUVtYWlsUmVxdWVzdCA9IHtcbiAgICByZXF1ZXN0VHlwZTogQWN0aW9uQ29kZU9wZXJhdGlvbi5WRVJJRllfQU5EX0NIQU5HRV9FTUFJTCxcbiAgICBpZFRva2VuLFxuICAgIG5ld0VtYWlsXG4gIH07XG4gIGlmIChhY3Rpb25Db2RlU2V0dGluZ3MpIHtcbiAgICBfc2V0QWN0aW9uQ29kZVNldHRpbmdzT25SZXF1ZXN0KFxuICAgICAgdXNlckludGVybmFsLmF1dGgsXG4gICAgICByZXF1ZXN0LFxuICAgICAgYWN0aW9uQ29kZVNldHRpbmdzXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHsgZW1haWwgfSA9IGF3YWl0IGFwaS52ZXJpZnlBbmRDaGFuZ2VFbWFpbCh1c2VySW50ZXJuYWwuYXV0aCwgcmVxdWVzdCk7XG5cbiAgaWYgKGVtYWlsICE9PSB1c2VyLmVtYWlsKSB7XG4gICAgLy8gSWYgdGhlIGxvY2FsIGNvcHkgb2YgdGhlIGVtYWlsIG9uIHVzZXIgaXMgb3V0ZGF0ZWQsIHJlbG9hZCB0aGVcbiAgICAvLyB1c2VyLlxuICAgIGF3YWl0IHVzZXIucmVsb2FkKCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBFbmRwb2ludCwgSHR0cE1ldGhvZCwgX3BlcmZvcm1BcGlSZXF1ZXN0IH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlUHJvZmlsZVJlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgcGhvdG9Vcmw/OiBzdHJpbmcgfCBudWxsO1xuICByZXR1cm5TZWN1cmVUb2tlbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVQcm9maWxlUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge1xuICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGw7XG4gIHBob3RvVXJsPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb2ZpbGUoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFVwZGF0ZVByb2ZpbGVSZXF1ZXN0XG4pOiBQcm9taXNlPFVwZGF0ZVByb2ZpbGVSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFVwZGF0ZVByb2ZpbGVSZXF1ZXN0LCBVcGRhdGVQcm9maWxlUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNFVF9BQ0NPVU5UX0lORk8sXG4gICAgcmVxdWVzdFxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQge1xuICB1cGRhdGVFbWFpbFBhc3N3b3JkIGFzIGFwaVVwZGF0ZUVtYWlsUGFzc3dvcmQsXG4gIFVwZGF0ZUVtYWlsUGFzc3dvcmRSZXF1ZXN0XG59IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvZW1haWxfYW5kX3Bhc3N3b3JkJztcbmltcG9ydCB7IHVwZGF0ZVByb2ZpbGUgYXMgYXBpVXBkYXRlUHJvZmlsZSB9IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvcHJvZmlsZSc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IF9sb2dvdXRJZkludmFsaWRhdGVkIH0gZnJvbSAnLi9pbnZhbGlkYXRpb24nO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuXG4vKipcbiAqIFVwZGF0ZXMgYSB1c2VyJ3MgcHJvZmlsZSBkYXRhLlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gcHJvZmlsZSAtIFRoZSBwcm9maWxlJ3MgYGRpc3BsYXlOYW1lYCBhbmQgYHBob3RvVVJMYCB0byB1cGRhdGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvZmlsZShcbiAgdXNlcjogVXNlcixcbiAge1xuICAgIGRpc3BsYXlOYW1lLFxuICAgIHBob3RvVVJMOiBwaG90b1VybFxuICB9OiB7IGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbDsgcGhvdG9VUkw/OiBzdHJpbmcgfCBudWxsIH1cbik6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoZGlzcGxheU5hbWUgPT09IHVuZGVmaW5lZCAmJiBwaG90b1VybCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IHVzZXJJbnRlcm5hbC5nZXRJZFRva2VuKCk7XG4gIGNvbnN0IHByb2ZpbGVSZXF1ZXN0ID0ge1xuICAgIGlkVG9rZW4sXG4gICAgZGlzcGxheU5hbWUsXG4gICAgcGhvdG9VcmwsXG4gICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWVcbiAgfTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfbG9nb3V0SWZJbnZhbGlkYXRlZChcbiAgICB1c2VySW50ZXJuYWwsXG4gICAgYXBpVXBkYXRlUHJvZmlsZSh1c2VySW50ZXJuYWwuYXV0aCwgcHJvZmlsZVJlcXVlc3QpXG4gICk7XG5cbiAgdXNlckludGVybmFsLmRpc3BsYXlOYW1lID0gcmVzcG9uc2UuZGlzcGxheU5hbWUgfHwgbnVsbDtcbiAgdXNlckludGVybmFsLnBob3RvVVJMID0gcmVzcG9uc2UucGhvdG9VcmwgfHwgbnVsbDtcblxuICAvLyBVcGRhdGUgdGhlIHBhc3N3b3JkIHByb3ZpZGVyIGFzIHdlbGxcbiAgY29uc3QgcGFzc3dvcmRQcm92aWRlciA9IHVzZXJJbnRlcm5hbC5wcm92aWRlckRhdGEuZmluZChcbiAgICAoeyBwcm92aWRlcklkIH0pID0+IHByb3ZpZGVySWQgPT09IFByb3ZpZGVySWQuUEFTU1dPUkRcbiAgKTtcbiAgaWYgKHBhc3N3b3JkUHJvdmlkZXIpIHtcbiAgICBwYXNzd29yZFByb3ZpZGVyLmRpc3BsYXlOYW1lID0gdXNlckludGVybmFsLmRpc3BsYXlOYW1lO1xuICAgIHBhc3N3b3JkUHJvdmlkZXIucGhvdG9VUkwgPSB1c2VySW50ZXJuYWwucGhvdG9VUkw7XG4gIH1cblxuICBhd2FpdCB1c2VySW50ZXJuYWwuX3VwZGF0ZVRva2Vuc0lmTmVjZXNzYXJ5KHJlc3BvbnNlKTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcy5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW4gZW1haWwgd2lsbCBiZSBzZW50IHRvIHRoZSBvcmlnaW5hbCBlbWFpbCBhZGRyZXNzIChpZiBpdCB3YXMgc2V0KSB0aGF0IGFsbG93cyB0byByZXZva2UgdGhlXG4gKiBlbWFpbCBhZGRyZXNzIGNoYW5nZSwgaW4gb3JkZXIgdG8gcHJvdGVjdCB0aGVtIGZyb20gYWNjb3VudCBoaWphY2tpbmcuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBvbiBhbnkge0BsaW5rIFVzZXJ9IHNpZ25lZCBpbiBieSB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzXG4gKiBjcmVhdGVkIHdpdGggYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogSW1wb3J0YW50OiB0aGlzIGlzIGEgc2VjdXJpdHkgc2Vuc2l0aXZlIG9wZXJhdGlvbiB0aGF0IHJlcXVpcmVzIHRoZSB1c2VyIHRvIGhhdmUgcmVjZW50bHkgc2lnbmVkXG4gKiBpbi4gSWYgdGhpcyByZXF1aXJlbWVudCBpc24ndCBtZXQsIGFzayB0aGUgdXNlciB0byBhdXRoZW50aWNhdGUgYWdhaW4gYW5kIHRoZW4gY2FsbFxuICoge0BsaW5rIHJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWx9LlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gbmV3RW1haWwgLSBUaGUgbmV3IGVtYWlsIGFkZHJlc3MuXG4gKlxuICogVGhyb3dzIFwiYXV0aC9vcGVyYXRpb24tbm90LWFsbG93ZWRcIiBlcnJvciB3aGVuXG4gKiB7QGxpbmsgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2lkZW50aXR5LXBsYXRmb3JtL2RvY3MvYWRtaW4vZW1haWwtZW51bWVyYXRpb24tcHJvdGVjdGlvbiB8IEVtYWlsIEVudW1lcmF0aW9uIFByb3RlY3Rpb259XG4gKiBpcyBlbmFibGVkLlxuICogRGVwcmVjYXRlZCAtIFVzZSB7QGxpbmsgdmVyaWZ5QmVmb3JlVXBkYXRlRW1haWx9IGluc3RlYWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRW1haWwodXNlcjogVXNlciwgbmV3RW1haWw6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodXNlckludGVybmFsLmF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKHVzZXJJbnRlcm5hbC5hdXRoKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZUVtYWlsT3JQYXNzd29yZCh1c2VySW50ZXJuYWwsIG5ld0VtYWlsLCBudWxsKTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSB1c2VyJ3MgcGFzc3dvcmQuXG4gKlxuICogQHJlbWFya3NcbiAqIEltcG9ydGFudDogdGhpcyBpcyBhIHNlY3VyaXR5IHNlbnNpdGl2ZSBvcGVyYXRpb24gdGhhdCByZXF1aXJlcyB0aGUgdXNlciB0byBoYXZlIHJlY2VudGx5IHNpZ25lZFxuICogaW4uIElmIHRoaXMgcmVxdWlyZW1lbnQgaXNuJ3QgbWV0LCBhc2sgdGhlIHVzZXIgdG8gYXV0aGVudGljYXRlIGFnYWluIGFuZCB0aGVuIGNhbGxcbiAqIHtAbGluayByZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsfS5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIG5ld1Bhc3N3b3JkIC0gVGhlIG5ldyBwYXNzd29yZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQYXNzd29yZCh1c2VyOiBVc2VyLCBuZXdQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiB1cGRhdGVFbWFpbE9yUGFzc3dvcmQoXG4gICAgZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbCxcbiAgICBudWxsLFxuICAgIG5ld1Bhc3N3b3JkXG4gICk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUVtYWlsT3JQYXNzd29yZChcbiAgdXNlcjogVXNlckludGVybmFsLFxuICBlbWFpbDogc3RyaW5nIHwgbnVsbCxcbiAgcGFzc3dvcmQ6IHN0cmluZyB8IG51bGxcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB7IGF1dGggfSA9IHVzZXI7XG4gIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCB1c2VyLmdldElkVG9rZW4oKTtcbiAgY29uc3QgcmVxdWVzdDogVXBkYXRlRW1haWxQYXNzd29yZFJlcXVlc3QgPSB7XG4gICAgaWRUb2tlbixcbiAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZVxuICB9O1xuXG4gIGlmIChlbWFpbCkge1xuICAgIHJlcXVlc3QuZW1haWwgPSBlbWFpbDtcbiAgfVxuXG4gIGlmIChwYXNzd29yZCkge1xuICAgIHJlcXVlc3QucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgfVxuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX2xvZ291dElmSW52YWxpZGF0ZWQoXG4gICAgdXNlcixcbiAgICBhcGlVcGRhdGVFbWFpbFBhc3N3b3JkKGF1dGgsIHJlcXVlc3QpXG4gICk7XG4gIGF3YWl0IHVzZXIuX3VwZGF0ZVRva2Vuc0lmTmVjZXNzYXJ5KHJlc3BvbnNlLCAvKiByZWxvYWQgKi8gdHJ1ZSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQWRkaXRpb25hbFVzZXJJbmZvLCBVc2VyQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UsIElkVG9rZW5SZXNwb25zZUtpbmQgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBfcGFyc2VUb2tlbiB9IGZyb20gJy4vaWRfdG9rZW5fcmVzdWx0JztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IFByb3ZpZGVySWQgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbi8qKlxuICogUGFyc2UgdGhlIGBBZGRpdGlvbmFsVXNlckluZm9gIGZyb20gdGhlIElEIHRva2VuIHJlc3BvbnNlLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9mcm9tSWRUb2tlblJlc3BvbnNlKFxuICBpZFRva2VuUmVzcG9uc2U/OiBJZFRva2VuUmVzcG9uc2Vcbik6IEFkZGl0aW9uYWxVc2VySW5mbyB8IG51bGwge1xuICBpZiAoIWlkVG9rZW5SZXNwb25zZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHsgcHJvdmlkZXJJZCB9ID0gaWRUb2tlblJlc3BvbnNlO1xuICBjb25zdCBwcm9maWxlID0gaWRUb2tlblJlc3BvbnNlLnJhd1VzZXJJbmZvXG4gICAgPyBKU09OLnBhcnNlKGlkVG9rZW5SZXNwb25zZS5yYXdVc2VySW5mbylcbiAgICA6IHt9O1xuICBjb25zdCBpc05ld1VzZXIgPVxuICAgIGlkVG9rZW5SZXNwb25zZS5pc05ld1VzZXIgfHxcbiAgICBpZFRva2VuUmVzcG9uc2Uua2luZCA9PT0gSWRUb2tlblJlc3BvbnNlS2luZC5TaWdudXBOZXdVc2VyO1xuICBpZiAoIXByb3ZpZGVySWQgJiYgaWRUb2tlblJlc3BvbnNlPy5pZFRva2VuKSB7XG4gICAgY29uc3Qgc2lnbkluUHJvdmlkZXIgPSBfcGFyc2VUb2tlbihpZFRva2VuUmVzcG9uc2UuaWRUb2tlbik/LmZpcmViYXNlPy5bXG4gICAgICAnc2lnbl9pbl9wcm92aWRlcidcbiAgICBdO1xuICAgIGlmIChzaWduSW5Qcm92aWRlcikge1xuICAgICAgY29uc3QgZmlsdGVyZWRQcm92aWRlcklkID1cbiAgICAgICAgc2lnbkluUHJvdmlkZXIgIT09IFByb3ZpZGVySWQuQU5PTllNT1VTICYmXG4gICAgICAgIHNpZ25JblByb3ZpZGVyICE9PSBQcm92aWRlcklkLkNVU1RPTVxuICAgICAgICAgID8gKHNpZ25JblByb3ZpZGVyIGFzIFByb3ZpZGVySWQpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgLy8gVXNlcyBnZW5lcmljIGNsYXNzIGluIGFjY29yZGFuY2Ugd2l0aCB0aGUgbGVnYWN5IFNESy5cbiAgICAgIHJldHVybiBuZXcgR2VuZXJpY0FkZGl0aW9uYWxVc2VySW5mbyhpc05ld1VzZXIsIGZpbHRlcmVkUHJvdmlkZXJJZCk7XG4gICAgfVxuICB9XG4gIGlmICghcHJvdmlkZXJJZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHN3aXRjaCAocHJvdmlkZXJJZCkge1xuICAgIGNhc2UgUHJvdmlkZXJJZC5GQUNFQk9PSzpcbiAgICAgIHJldHVybiBuZXcgRmFjZWJvb2tBZGRpdGlvbmFsVXNlckluZm8oaXNOZXdVc2VyLCBwcm9maWxlKTtcbiAgICBjYXNlIFByb3ZpZGVySWQuR0lUSFVCOlxuICAgICAgcmV0dXJuIG5ldyBHaXRodWJBZGRpdGlvbmFsVXNlckluZm8oaXNOZXdVc2VyLCBwcm9maWxlKTtcbiAgICBjYXNlIFByb3ZpZGVySWQuR09PR0xFOlxuICAgICAgcmV0dXJuIG5ldyBHb29nbGVBZGRpdGlvbmFsVXNlckluZm8oaXNOZXdVc2VyLCBwcm9maWxlKTtcbiAgICBjYXNlIFByb3ZpZGVySWQuVFdJVFRFUjpcbiAgICAgIHJldHVybiBuZXcgVHdpdHRlckFkZGl0aW9uYWxVc2VySW5mbyhcbiAgICAgICAgaXNOZXdVc2VyLFxuICAgICAgICBwcm9maWxlLFxuICAgICAgICBpZFRva2VuUmVzcG9uc2Uuc2NyZWVuTmFtZSB8fCBudWxsXG4gICAgICApO1xuICAgIGNhc2UgUHJvdmlkZXJJZC5DVVNUT006XG4gICAgY2FzZSBQcm92aWRlcklkLkFOT05ZTU9VUzpcbiAgICAgIHJldHVybiBuZXcgR2VuZXJpY0FkZGl0aW9uYWxVc2VySW5mbyhpc05ld1VzZXIsIG51bGwpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbmV3IEdlbmVyaWNBZGRpdGlvbmFsVXNlckluZm8oaXNOZXdVc2VyLCBwcm92aWRlcklkLCBwcm9maWxlKTtcbiAgfVxufVxuXG5jbGFzcyBHZW5lcmljQWRkaXRpb25hbFVzZXJJbmZvIGltcGxlbWVudHMgQWRkaXRpb25hbFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgaXNOZXdVc2VyOiBib29sZWFuLFxuICAgIHJlYWRvbmx5IHByb3ZpZGVySWQ6IFByb3ZpZGVySWQgfCBzdHJpbmcgfCBudWxsLFxuICAgIHJlYWRvbmx5IHByb2ZpbGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge31cbiAgKSB7fVxufVxuXG5jbGFzcyBGZWRlcmF0ZWRBZGRpdGlvbmFsVXNlckluZm9XaXRoVXNlcm5hbWUgZXh0ZW5kcyBHZW5lcmljQWRkaXRpb25hbFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoXG4gICAgaXNOZXdVc2VyOiBib29sZWFuLFxuICAgIHByb3ZpZGVySWQ6IFByb3ZpZGVySWQsXG4gICAgcHJvZmlsZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgcmVhZG9ubHkgdXNlcm5hbWU6IHN0cmluZyB8IG51bGxcbiAgKSB7XG4gICAgc3VwZXIoaXNOZXdVc2VyLCBwcm92aWRlcklkLCBwcm9maWxlKTtcbiAgfVxufVxuXG5jbGFzcyBGYWNlYm9va0FkZGl0aW9uYWxVc2VySW5mbyBleHRlbmRzIEdlbmVyaWNBZGRpdGlvbmFsVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcihpc05ld1VzZXI6IGJvb2xlYW4sIHByb2ZpbGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSB7XG4gICAgc3VwZXIoaXNOZXdVc2VyLCBQcm92aWRlcklkLkZBQ0VCT09LLCBwcm9maWxlKTtcbiAgfVxufVxuXG5jbGFzcyBHaXRodWJBZGRpdGlvbmFsVXNlckluZm8gZXh0ZW5kcyBGZWRlcmF0ZWRBZGRpdGlvbmFsVXNlckluZm9XaXRoVXNlcm5hbWUge1xuICBjb25zdHJ1Y3Rvcihpc05ld1VzZXI6IGJvb2xlYW4sIHByb2ZpbGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSB7XG4gICAgc3VwZXIoXG4gICAgICBpc05ld1VzZXIsXG4gICAgICBQcm92aWRlcklkLkdJVEhVQixcbiAgICAgIHByb2ZpbGUsXG4gICAgICB0eXBlb2YgcHJvZmlsZT8ubG9naW4gPT09ICdzdHJpbmcnID8gcHJvZmlsZT8ubG9naW4gOiBudWxsXG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBHb29nbGVBZGRpdGlvbmFsVXNlckluZm8gZXh0ZW5kcyBHZW5lcmljQWRkaXRpb25hbFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoaXNOZXdVc2VyOiBib29sZWFuLCBwcm9maWxlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikge1xuICAgIHN1cGVyKGlzTmV3VXNlciwgUHJvdmlkZXJJZC5HT09HTEUsIHByb2ZpbGUpO1xuICB9XG59XG5cbmNsYXNzIFR3aXR0ZXJBZGRpdGlvbmFsVXNlckluZm8gZXh0ZW5kcyBGZWRlcmF0ZWRBZGRpdGlvbmFsVXNlckluZm9XaXRoVXNlcm5hbWUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBpc05ld1VzZXI6IGJvb2xlYW4sXG4gICAgcHJvZmlsZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICAgc2NyZWVuTmFtZTogc3RyaW5nIHwgbnVsbFxuICApIHtcbiAgICBzdXBlcihpc05ld1VzZXIsIFByb3ZpZGVySWQuVFdJVFRFUiwgcHJvZmlsZSwgc2NyZWVuTmFtZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRyYWN0cyBwcm92aWRlciBzcGVjaWZpYyB7QGxpbmsgQWRkaXRpb25hbFVzZXJJbmZvfSBmb3IgdGhlIGdpdmVuIGNyZWRlbnRpYWwuXG4gKlxuICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBZGRpdGlvbmFsVXNlckluZm8oXG4gIHVzZXJDcmVkZW50aWFsOiBVc2VyQ3JlZGVudGlhbFxuKTogQWRkaXRpb25hbFVzZXJJbmZvIHwgbnVsbCB7XG4gIGNvbnN0IHsgdXNlciwgX3Rva2VuUmVzcG9uc2UgfSA9IHVzZXJDcmVkZW50aWFsIGFzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWw7XG4gIGlmICh1c2VyLmlzQW5vbnltb3VzICYmICFfdG9rZW5SZXNwb25zZSkge1xuICAgIC8vIEhhbmRsZSB0aGUgc3BlY2lhbCBjYXNlIHdoZXJlIHNpZ25JbkFub255bW91c2x5KCkgZ2V0cyBjYWxsZWQgdHdpY2UuXG4gICAgLy8gTm8gbmV0d29yayBjYWxsIGlzIG1hZGUgc28gdGhlcmUncyBub3RoaW5nIHRvIGFjdHVhbGx5IGZpbGwgdGhpcyBpblxuICAgIHJldHVybiB7XG4gICAgICBwcm92aWRlcklkOiBudWxsLFxuICAgICAgaXNOZXdVc2VyOiBmYWxzZSxcbiAgICAgIHByb2ZpbGU6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF9mcm9tSWRUb2tlblJlc3BvbnNlKF90b2tlblJlc3BvbnNlKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQge1xuICBBdXRoLFxuICBOZXh0T3JPYnNlcnZlcixcbiAgUGVyc2lzdGVuY2UsXG4gIFVzZXIsXG4gIENvbXBsZXRlRm4sXG4gIEVycm9yRm4sXG4gIFVuc3Vic2NyaWJlLFxuICBQYXNzd29yZFZhbGlkYXRpb25TdGF0dXNcbn0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IF9pbml0aWFsaXplUmVjYXB0Y2hhQ29uZmlnIH0gZnJvbSAnLi4vcGxhdGZvcm1fYnJvd3Nlci9yZWNhcHRjaGEvcmVjYXB0Y2hhX2VudGVycHJpc2VfdmVyaWZpZXInO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vY29yZS9hdXRoL2F1dGhfaW1wbCc7XG5cbmV4cG9ydCB7XG4gIGRlYnVnRXJyb3JNYXAsXG4gIHByb2RFcnJvck1hcCxcbiAgQVVUSF9FUlJPUl9DT0RFU19NQVBfRE9fTk9UX1VTRV9JTlRFUk5BTExZIGFzIEF1dGhFcnJvckNvZGVzXG59IGZyb20gJy4vZXJyb3JzJztcblxuLy8gTm9uLW9wdGlvbmFsIGF1dGggbWV0aG9kcy5cbi8qKlxuICogQ2hhbmdlcyB0aGUgdHlwZSBvZiBwZXJzaXN0ZW5jZSBvbiB0aGUge0BsaW5rIEF1dGh9IGluc3RhbmNlIGZvciB0aGUgY3VycmVudGx5IHNhdmVkXG4gKiBgQXV0aGAgc2Vzc2lvbiBhbmQgYXBwbGllcyB0aGlzIHR5cGUgb2YgcGVyc2lzdGVuY2UgZm9yIGZ1dHVyZSBzaWduLWluIHJlcXVlc3RzLCBpbmNsdWRpbmdcbiAqIHNpZ24taW4gd2l0aCByZWRpcmVjdCByZXF1ZXN0cy5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBtYWtlcyBpdCBlYXN5IGZvciBhIHVzZXIgc2lnbmluZyBpbiB0byBzcGVjaWZ5IHdoZXRoZXIgdGhlaXIgc2Vzc2lvbiBzaG91bGQgYmVcbiAqIHJlbWVtYmVyZWQgb3Igbm90LiBJdCBhbHNvIG1ha2VzIGl0IGVhc2llciB0byBuZXZlciBwZXJzaXN0IHRoZSBgQXV0aGAgc3RhdGUgZm9yIGFwcGxpY2F0aW9uc1xuICogdGhhdCBhcmUgc2hhcmVkIGJ5IG90aGVyIHVzZXJzIG9yIGhhdmUgc2Vuc2l0aXZlIGRhdGEuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igd2l0aCB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHNldFBlcnNpc3RlbmNlKGF1dGgsIGJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2UpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIHBlcnNpc3RlbmNlIC0gVGhlIHtAbGluayBQZXJzaXN0ZW5jZX0gdG8gdXNlLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyBvbmNlIHRoZSBwZXJzaXN0ZW5jZSBjaGFuZ2UgaGFzIGNvbXBsZXRlZFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFBlcnNpc3RlbmNlKFxuICBhdXRoOiBBdXRoLFxuICBwZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2Vcbik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLnNldFBlcnNpc3RlbmNlKHBlcnNpc3RlbmNlKTtcbn1cblxuLyoqXG4gKiBMb2FkcyB0aGUgcmVDQVBUQ0hBIGNvbmZpZ3VyYXRpb24gaW50byB0aGUgYEF1dGhgIGluc3RhbmNlLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIHdpbGwgbG9hZCB0aGUgcmVDQVBUQ0hBIGNvbmZpZywgd2hpY2ggaW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJlQ0FQVENIQVxuICogdmVyaWZpY2F0aW9uIGZsb3cgc2hvdWxkIGJlIHRyaWdnZXJlZCBmb3IgZWFjaCBhdXRoIHByb3ZpZGVyLCBpbnRvIHRoZVxuICogY3VycmVudCBBdXRoIHNlc3Npb24uXG4gKlxuICogSWYgaW5pdGlhbGl6ZVJlY2FwdGNoYUNvbmZpZygpIGlzIG5vdCBpbnZva2VkLCB0aGUgYXV0aCBmbG93IHdpbGwgYWx3YXlzIHN0YXJ0XG4gKiB3aXRob3V0IHJlQ0FQVENIQSB2ZXJpZmljYXRpb24uIElmIHRoZSBwcm92aWRlciBpcyBjb25maWd1cmVkIHRvIHJlcXVpcmUgcmVDQVBUQ0hBXG4gKiB2ZXJpZmljYXRpb24sIHRoZSBTREsgd2lsbCB0cmFuc3BhcmVudGx5IGxvYWQgdGhlIHJlQ0FQVENIQSBjb25maWcgYW5kIHJlc3RhcnQgdGhlXG4gKiBhdXRoIGZsb3dzLlxuICpcbiAqIFRodXMsIGJ5IGNhbGxpbmcgdGhpcyBvcHRpb25hbCBtZXRob2QsIHlvdSB3aWxsIHJlZHVjZSB0aGUgbGF0ZW5jeSBvZiBmdXR1cmUgYXV0aCBmbG93cy5cbiAqIExvYWRpbmcgdGhlIHJlQ0FQVENIQSBjb25maWcgZWFybHkgd2lsbCBhbHNvIGVuaGFuY2UgdGhlIHNpZ25hbCBjb2xsZWN0ZWQgYnkgcmVDQVBUQ0hBLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBpbml0aWFsaXplUmVjYXB0Y2hhQ29uZmlnKGF1dGgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVSZWNhcHRjaGFDb25maWcoYXV0aDogQXV0aCk6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gX2luaXRpYWxpemVSZWNhcHRjaGFDb25maWcoYXV0aCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBwYXNzd29yZCBhZ2FpbnN0IHRoZSBwYXNzd29yZCBwb2xpY3kgY29uZmlndXJlZCBmb3IgdGhlIHByb2plY3Qgb3IgdGVuYW50LlxuICpcbiAqIEByZW1hcmtzXG4gKiBJZiBubyB0ZW5hbnQgSUQgaXMgc2V0IG9uIHRoZSBgQXV0aGAgaW5zdGFuY2UsIHRoZW4gdGhpcyBtZXRob2Qgd2lsbCB1c2UgdGhlIHBhc3N3b3JkXG4gKiBwb2xpY3kgY29uZmlndXJlZCBmb3IgdGhlIHByb2plY3QuIE90aGVyd2lzZSwgdGhpcyBtZXRob2Qgd2lsbCB1c2UgdGhlIHBvbGljeSBjb25maWd1cmVkXG4gKiBmb3IgdGhlIHRlbmFudC4gSWYgYSBwYXNzd29yZCBwb2xpY3kgaGFzIG5vdCBiZWVuIGNvbmZpZ3VyZWQsIHRoZW4gdGhlIGRlZmF1bHQgcG9saWN5XG4gKiBjb25maWd1cmVkIGZvciBhbGwgcHJvamVjdHMgd2lsbCBiZSB1c2VkLlxuICpcbiAqIElmIGFuIGF1dGggZmxvdyBmYWlscyBiZWNhdXNlIGEgc3VibWl0dGVkIHBhc3N3b3JkIGRvZXMgbm90IG1lZXQgdGhlIHBhc3N3b3JkIHBvbGljeVxuICogcmVxdWlyZW1lbnRzIGFuZCB0aGlzIG1ldGhvZCBoYXMgcHJldmlvdXNseSBiZWVuIGNhbGxlZCwgdGhlbiB0aGlzIG1ldGhvZCB3aWxsIHVzZSB0aGVcbiAqIG1vc3QgcmVjZW50IHBvbGljeSBhdmFpbGFibGUgd2hlbiBjYWxsZWQgYWdhaW4uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHZhbGlkYXRlUGFzc3dvcmQoYXV0aCwgJ3NvbWUtcGFzc3dvcmQnKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gcGFzc3dvcmQgVGhlIHBhc3N3b3JkIHRvIHZhbGlkYXRlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlUGFzc3dvcmQoXG4gIGF1dGg6IEF1dGgsXG4gIHBhc3N3b3JkOiBzdHJpbmdcbik6IFByb21pc2U8UGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzPiB7XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgcmV0dXJuIGF1dGhJbnRlcm5hbC52YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkKTtcbn1cblxuLyoqXG4gKiBBZGRzIGFuIG9ic2VydmVyIGZvciBjaGFuZ2VzIHRvIHRoZSBzaWduZWQtaW4gdXNlcidzIElEIHRva2VuLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIGluY2x1ZGVzIHNpZ24taW4sIHNpZ24tb3V0LCBhbmQgdG9rZW4gcmVmcmVzaCBldmVudHMuXG4gKiBUaGlzIHdpbGwgbm90IGJlIHRyaWdnZXJlZCBhdXRvbWF0aWNhbGx5IHVwb24gSUQgdG9rZW4gZXhwaXJhdGlvbi4gVXNlIHtAbGluayBVc2VyLmdldElkVG9rZW59IHRvIHJlZnJlc2ggdGhlIElEIHRva2VuLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBuZXh0T3JPYnNlcnZlciAtIGNhbGxiYWNrIHRyaWdnZXJlZCBvbiBjaGFuZ2UuXG4gKiBAcGFyYW0gZXJyb3IgLSBEZXByZWNhdGVkLiBUaGlzIGNhbGxiYWNrIGlzIG5ldmVyIHRyaWdnZXJlZC4gRXJyb3JzXG4gKiBvbiBzaWduaW5nIGluL291dCBjYW4gYmUgY2F1Z2h0IGluIHByb21pc2VzIHJldHVybmVkIGZyb21cbiAqIHNpZ24taW4vc2lnbi1vdXQgZnVuY3Rpb25zLlxuICogQHBhcmFtIGNvbXBsZXRlZCAtIERlcHJlY2F0ZWQuIFRoaXMgY2FsbGJhY2sgaXMgbmV2ZXIgdHJpZ2dlcmVkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uSWRUb2tlbkNoYW5nZWQoXG4gIGF1dGg6IEF1dGgsXG4gIG5leHRPck9ic2VydmVyOiBOZXh0T3JPYnNlcnZlcjxVc2VyPixcbiAgZXJyb3I/OiBFcnJvckZuLFxuICBjb21wbGV0ZWQ/OiBDb21wbGV0ZUZuXG4pOiBVbnN1YnNjcmliZSB7XG4gIHJldHVybiBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCkub25JZFRva2VuQ2hhbmdlZChcbiAgICBuZXh0T3JPYnNlcnZlcixcbiAgICBlcnJvcixcbiAgICBjb21wbGV0ZWRcbiAgKTtcbn1cbi8qKlxuICogQWRkcyBhIGJsb2NraW5nIGNhbGxiYWNrIHRoYXQgcnVucyBiZWZvcmUgYW4gYXV0aCBzdGF0ZSBjaGFuZ2VcbiAqIHNldHMgYSBuZXcgdXNlci5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0cmlnZ2VyZWQgYmVmb3JlIG5ldyB1c2VyIHZhbHVlIGlzIHNldC5cbiAqICAgSWYgdGhpcyB0aHJvd3MsIGl0IGJsb2NrcyB0aGUgdXNlciBmcm9tIGJlaW5nIHNldC5cbiAqIEBwYXJhbSBvbkFib3J0IC0gY2FsbGJhY2sgdHJpZ2dlcmVkIGlmIGEgbGF0ZXIgYGJlZm9yZUF1dGhTdGF0ZUNoYW5nZWQoKWBcbiAqICAgY2FsbGJhY2sgdGhyb3dzLCBhbGxvd2luZyB5b3UgdG8gdW5kbyBhbnkgc2lkZSBlZmZlY3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlQXV0aFN0YXRlQ2hhbmdlZChcbiAgYXV0aDogQXV0aCxcbiAgY2FsbGJhY2s6ICh1c2VyOiBVc2VyIHwgbnVsbCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4gIG9uQWJvcnQ/OiAoKSA9PiB2b2lkXG4pOiBVbnN1YnNjcmliZSB7XG4gIHJldHVybiBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCkuYmVmb3JlQXV0aFN0YXRlQ2hhbmdlZChjYWxsYmFjaywgb25BYm9ydCk7XG59XG4vKipcbiAqIEFkZHMgYW4gb2JzZXJ2ZXIgZm9yIGNoYW5nZXMgdG8gdGhlIHVzZXIncyBzaWduLWluIHN0YXRlLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUbyBrZWVwIHRoZSBvbGQgYmVoYXZpb3IsIHNlZSB7QGxpbmsgb25JZFRva2VuQ2hhbmdlZH0uXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIG5leHRPck9ic2VydmVyIC0gY2FsbGJhY2sgdHJpZ2dlcmVkIG9uIGNoYW5nZS5cbiAqIEBwYXJhbSBlcnJvciAtIERlcHJlY2F0ZWQuIFRoaXMgY2FsbGJhY2sgaXMgbmV2ZXIgdHJpZ2dlcmVkLiBFcnJvcnNcbiAqIG9uIHNpZ25pbmcgaW4vb3V0IGNhbiBiZSBjYXVnaHQgaW4gcHJvbWlzZXMgcmV0dXJuZWQgZnJvbVxuICogc2lnbi1pbi9zaWduLW91dCBmdW5jdGlvbnMuXG4gKiBAcGFyYW0gY29tcGxldGVkIC0gRGVwcmVjYXRlZC4gVGhpcyBjYWxsYmFjayBpcyBuZXZlciB0cmlnZ2VyZWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gb25BdXRoU3RhdGVDaGFuZ2VkKFxuICBhdXRoOiBBdXRoLFxuICBuZXh0T3JPYnNlcnZlcjogTmV4dE9yT2JzZXJ2ZXI8VXNlcj4sXG4gIGVycm9yPzogRXJyb3JGbixcbiAgY29tcGxldGVkPzogQ29tcGxldGVGblxuKTogVW5zdWJzY3JpYmUge1xuICByZXR1cm4gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLm9uQXV0aFN0YXRlQ2hhbmdlZChcbiAgICBuZXh0T3JPYnNlcnZlcixcbiAgICBlcnJvcixcbiAgICBjb21wbGV0ZWRcbiAgKTtcbn1cbi8qKlxuICogU2V0cyB0aGUgY3VycmVudCBsYW5ndWFnZSB0byB0aGUgZGVmYXVsdCBkZXZpY2UvYnJvd3NlciBwcmVmZXJlbmNlLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VEZXZpY2VMYW5ndWFnZShhdXRoOiBBdXRoKTogdm9pZCB7XG4gIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKS51c2VEZXZpY2VMYW5ndWFnZSgpO1xufVxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzZXRzIHRoZSBwcm92aWRlZCB1c2VyIGFzIHtAbGluayBBdXRoLmN1cnJlbnRVc2VyfSBvbiB0aGVcbiAqIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogQSBuZXcgaW5zdGFuY2UgY29weSBvZiB0aGUgdXNlciBwcm92aWRlZCB3aWxsIGJlIG1hZGUgYW5kIHNldCBhcyBjdXJyZW50VXNlci5cbiAqXG4gKiBUaGlzIHdpbGwgdHJpZ2dlciB7QGxpbmsgb25BdXRoU3RhdGVDaGFuZ2VkfSBhbmQge0BsaW5rIG9uSWRUb2tlbkNoYW5nZWR9IGxpc3RlbmVyc1xuICogbGlrZSBvdGhlciBzaWduIGluIG1ldGhvZHMuXG4gKlxuICogVGhlIG9wZXJhdGlvbiBmYWlscyB3aXRoIGFuIGVycm9yIGlmIHRoZSB1c2VyIHRvIGJlIHVwZGF0ZWQgYmVsb25ncyB0byBhIGRpZmZlcmVudCBGaXJlYmFzZVxuICogcHJvamVjdC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gdXNlciAtIFRoZSBuZXcge0BsaW5rIFVzZXJ9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRVc2VyKFxuICBhdXRoOiBBdXRoLFxuICB1c2VyOiBVc2VyIHwgbnVsbFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCkudXBkYXRlQ3VycmVudFVzZXIodXNlcik7XG59XG4vKipcbiAqIFNpZ25zIG91dCB0aGUgY3VycmVudCB1c2VyLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2lnbk91dChhdXRoOiBBdXRoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCkuc2lnbk91dCgpO1xufVxuXG4vKipcbiAqIFJldm9rZXMgdGhlIGdpdmVuIGFjY2VzcyB0b2tlbi4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgQXBwbGUgT0F1dGggYWNjZXNzIHRva2Vucy5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gdG9rZW4gLSBUaGUgQXBwbGUgT0F1dGggYWNjZXNzIHRva2VuLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldm9rZUFjY2Vzc1Rva2VuKGF1dGg6IEF1dGgsIHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICByZXR1cm4gYXV0aEludGVybmFsLnJldm9rZUFjY2Vzc1Rva2VuKHRva2VuKTtcbn1cblxuZXhwb3J0IHsgaW5pdGlhbGl6ZUF1dGggfSBmcm9tICcuL2F1dGgvaW5pdGlhbGl6ZSc7XG5leHBvcnQgeyBjb25uZWN0QXV0aEVtdWxhdG9yIH0gZnJvbSAnLi9hdXRoL2VtdWxhdG9yJztcblxuLy8gY3JlZGVudGlhbHNcbmV4cG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi9jcmVkZW50aWFscyc7XG5leHBvcnQgeyBFbWFpbEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi9jcmVkZW50aWFscy9lbWFpbCc7XG5leHBvcnQgeyBPQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuL2NyZWRlbnRpYWxzL29hdXRoJztcbmV4cG9ydCB7IFBob25lQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuL2NyZWRlbnRpYWxzL3Bob25lJztcblxuLy8gcGVyc2lzdGVuY2VcbmV4cG9ydCB7IGluTWVtb3J5UGVyc2lzdGVuY2UgfSBmcm9tICcuL3BlcnNpc3RlbmNlL2luX21lbW9yeSc7XG5cbi8vIHByb3ZpZGVyc1xuZXhwb3J0IHsgRW1haWxBdXRoUHJvdmlkZXIgfSBmcm9tICcuL3Byb3ZpZGVycy9lbWFpbCc7XG5leHBvcnQgeyBGYWNlYm9va0F1dGhQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL2ZhY2Vib29rJztcbmV4cG9ydCB7IEN1c3RvbVBhcmFtZXRlcnMgfSBmcm9tICcuL3Byb3ZpZGVycy9mZWRlcmF0ZWQnO1xuZXhwb3J0IHsgR29vZ2xlQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcnMvZ29vZ2xlJztcbmV4cG9ydCB7IEdpdGh1YkF1dGhQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL2dpdGh1Yic7XG5leHBvcnQgeyBPQXV0aFByb3ZpZGVyLCBPQXV0aENyZWRlbnRpYWxPcHRpb25zIH0gZnJvbSAnLi9wcm92aWRlcnMvb2F1dGgnO1xuZXhwb3J0IHsgU0FNTEF1dGhQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL3NhbWwnO1xuZXhwb3J0IHsgVHdpdHRlckF1dGhQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL3R3aXR0ZXInO1xuXG4vLyBzdHJhdGVnaWVzXG5leHBvcnQgeyBzaWduSW5Bbm9ueW1vdXNseSB9IGZyb20gJy4vc3RyYXRlZ2llcy9hbm9ueW1vdXMnO1xuZXhwb3J0IHtcbiAgc2lnbkluV2l0aENyZWRlbnRpYWwsXG4gIGxpbmtXaXRoQ3JlZGVudGlhbCxcbiAgcmVhdXRoZW50aWNhdGVXaXRoQ3JlZGVudGlhbFxufSBmcm9tICcuL3N0cmF0ZWdpZXMvY3JlZGVudGlhbCc7XG5leHBvcnQgeyBzaWduSW5XaXRoQ3VzdG9tVG9rZW4gfSBmcm9tICcuL3N0cmF0ZWdpZXMvY3VzdG9tX3Rva2VuJztcbmV4cG9ydCB7XG4gIHNlbmRQYXNzd29yZFJlc2V0RW1haWwsXG4gIGNvbmZpcm1QYXNzd29yZFJlc2V0LFxuICBhcHBseUFjdGlvbkNvZGUsXG4gIGNoZWNrQWN0aW9uQ29kZSxcbiAgdmVyaWZ5UGFzc3dvcmRSZXNldENvZGUsXG4gIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCxcbiAgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmRcbn0gZnJvbSAnLi9zdHJhdGVnaWVzL2VtYWlsX2FuZF9wYXNzd29yZCc7XG5leHBvcnQge1xuICBzZW5kU2lnbkluTGlua1RvRW1haWwsXG4gIGlzU2lnbkluV2l0aEVtYWlsTGluayxcbiAgc2lnbkluV2l0aEVtYWlsTGlua1xufSBmcm9tICcuL3N0cmF0ZWdpZXMvZW1haWxfbGluayc7XG5leHBvcnQge1xuICBmZXRjaFNpZ25Jbk1ldGhvZHNGb3JFbWFpbCxcbiAgc2VuZEVtYWlsVmVyaWZpY2F0aW9uLFxuICB2ZXJpZnlCZWZvcmVVcGRhdGVFbWFpbFxufSBmcm9tICcuL3N0cmF0ZWdpZXMvZW1haWwnO1xuXG4vLyBjb3JlXG5leHBvcnQgeyBBY3Rpb25Db2RlVVJMLCBwYXJzZUFjdGlvbkNvZGVVUkwgfSBmcm9tICcuL2FjdGlvbl9jb2RlX3VybCc7XG5cbi8vIHVzZXJcbmV4cG9ydCB7XG4gIHVwZGF0ZVByb2ZpbGUsXG4gIHVwZGF0ZUVtYWlsLFxuICB1cGRhdGVQYXNzd29yZFxufSBmcm9tICcuL3VzZXIvYWNjb3VudF9pbmZvJztcbmV4cG9ydCB7IGdldElkVG9rZW4sIGdldElkVG9rZW5SZXN1bHQgfSBmcm9tICcuL3VzZXIvaWRfdG9rZW5fcmVzdWx0JztcbmV4cG9ydCB7IHVubGluayB9IGZyb20gJy4vdXNlci9saW5rX3VubGluayc7XG5leHBvcnQgeyBnZXRBZGRpdGlvbmFsVXNlckluZm8gfSBmcm9tICcuL3VzZXIvYWRkaXRpb25hbF91c2VyX2luZm8nO1xuXG4vLyBOb24tb3B0aW9uYWwgdXNlciBtZXRob2RzLlxuZXhwb3J0IHsgcmVsb2FkIH0gZnJvbSAnLi91c2VyL3JlbG9hZCc7XG4vKipcbiAqIERlbGV0ZXMgYW5kIHNpZ25zIG91dCB0aGUgdXNlci5cbiAqXG4gKiBAcmVtYXJrc1xuICogSW1wb3J0YW50OiB0aGlzIGlzIGEgc2VjdXJpdHktc2Vuc2l0aXZlIG9wZXJhdGlvbiB0aGF0IHJlcXVpcmVzIHRoZSB1c2VyIHRvIGhhdmUgcmVjZW50bHlcbiAqIHNpZ25lZCBpbi4gSWYgdGhpcyByZXF1aXJlbWVudCBpc24ndCBtZXQsIGFzayB0aGUgdXNlciB0byBhdXRoZW50aWNhdGUgYWdhaW4gYW5kIHRoZW4gY2FsbFxuICoge0BsaW5rIHJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWx9LlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVXNlcih1c2VyOiBVc2VyKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikuZGVsZXRlKCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBNdWx0aUZhY3RvclNlc3Npb24gfSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgZW51bSBNdWx0aUZhY3RvclNlc3Npb25UeXBlIHtcbiAgRU5ST0xMID0gJ2Vucm9sbCcsXG4gIFNJR05fSU4gPSAnc2lnbmluJ1xufVxuXG5pbnRlcmZhY2UgU2VyaWFsaXplZE11bHRpRmFjdG9yU2Vzc2lvbiB7XG4gIG11bHRpRmFjdG9yU2Vzc2lvbjoge1xuICAgIGlkVG9rZW4/OiBzdHJpbmc7XG4gICAgcGVuZGluZ0NyZWRlbnRpYWw/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBNdWx0aUZhY3RvclNlc3Npb25JbXBsIGltcGxlbWVudHMgTXVsdGlGYWN0b3JTZXNzaW9uIHtcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSB0eXBlOiBNdWx0aUZhY3RvclNlc3Npb25UeXBlLFxuICAgIHJlYWRvbmx5IGNyZWRlbnRpYWw6IHN0cmluZyxcbiAgICByZWFkb25seSB1c2VyPzogVXNlckludGVybmFsXG4gICkge31cblxuICBzdGF0aWMgX2Zyb21JZHRva2VuKFxuICAgIGlkVG9rZW46IHN0cmluZyxcbiAgICB1c2VyPzogVXNlckludGVybmFsXG4gICk6IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwge1xuICAgIHJldHVybiBuZXcgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbChcbiAgICAgIE11bHRpRmFjdG9yU2Vzc2lvblR5cGUuRU5ST0xMLFxuICAgICAgaWRUb2tlbixcbiAgICAgIHVzZXJcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIF9mcm9tTWZhUGVuZGluZ0NyZWRlbnRpYWwoXG4gICAgbWZhUGVuZGluZ0NyZWRlbnRpYWw6IHN0cmluZ1xuICApOiBNdWx0aUZhY3RvclNlc3Npb25JbXBsIHtcbiAgICByZXR1cm4gbmV3IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwoXG4gICAgICBNdWx0aUZhY3RvclNlc3Npb25UeXBlLlNJR05fSU4sXG4gICAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbFxuICAgICk7XG4gIH1cblxuICB0b0pTT04oKTogU2VyaWFsaXplZE11bHRpRmFjdG9yU2Vzc2lvbiB7XG4gICAgY29uc3Qga2V5ID1cbiAgICAgIHRoaXMudHlwZSA9PT0gTXVsdGlGYWN0b3JTZXNzaW9uVHlwZS5FTlJPTExcbiAgICAgICAgPyAnaWRUb2tlbidcbiAgICAgICAgOiAncGVuZGluZ0NyZWRlbnRpYWwnO1xuICAgIHJldHVybiB7XG4gICAgICBtdWx0aUZhY3RvclNlc3Npb246IHtcbiAgICAgICAgW2tleV06IHRoaXMuY3JlZGVudGlhbFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZnJvbUpTT04oXG4gICAgb2JqOiBQYXJ0aWFsPFNlcmlhbGl6ZWRNdWx0aUZhY3RvclNlc3Npb24+XG4gICk6IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwgfCBudWxsIHtcbiAgICBpZiAob2JqPy5tdWx0aUZhY3RvclNlc3Npb24pIHtcbiAgICAgIGlmIChvYmoubXVsdGlGYWN0b3JTZXNzaW9uPy5wZW5kaW5nQ3JlZGVudGlhbCkge1xuICAgICAgICByZXR1cm4gTXVsdGlGYWN0b3JTZXNzaW9uSW1wbC5fZnJvbU1mYVBlbmRpbmdDcmVkZW50aWFsKFxuICAgICAgICAgIG9iai5tdWx0aUZhY3RvclNlc3Npb24ucGVuZGluZ0NyZWRlbnRpYWxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqLm11bHRpRmFjdG9yU2Vzc2lvbj8uaWRUb2tlbikge1xuICAgICAgICByZXR1cm4gTXVsdGlGYWN0b3JTZXNzaW9uSW1wbC5fZnJvbUlkdG9rZW4oXG4gICAgICAgICAgb2JqLm11bHRpRmFjdG9yU2Vzc2lvbi5pZFRva2VuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQXV0aCxcbiAgTXVsdGlGYWN0b3JSZXNvbHZlcixcbiAgVXNlckNyZWRlbnRpYWwsXG4gIE11bHRpRmFjdG9yRXJyb3Jcbn0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vY29yZS9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbXBsIH0gZnJvbSAnLi4vY29yZS91c2VyL3VzZXJfY3JlZGVudGlhbF9pbXBsJztcbmltcG9ydCB7IF9hc3NlcnQsIF9mYWlsIH0gZnJvbSAnLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwgfSBmcm9tICcuL21mYV9hc3NlcnRpb24nO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JFcnJvciBhcyBNdWx0aUZhY3RvckVycm9ySW50ZXJuYWwgfSBmcm9tICcuL21mYV9lcnJvcic7XG5pbXBvcnQgeyBNdWx0aUZhY3RvckluZm9JbXBsIH0gZnJvbSAnLi9tZmFfaW5mbyc7XG5pbXBvcnQgeyBNdWx0aUZhY3RvclNlc3Npb25JbXBsIH0gZnJvbSAnLi9tZmFfc2Vzc2lvbic7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlIH0gZnJvbSAnLi4vbW9kZWwvZW51bXMnO1xuXG5leHBvcnQgY2xhc3MgTXVsdGlGYWN0b3JSZXNvbHZlckltcGwgaW1wbGVtZW50cyBNdWx0aUZhY3RvclJlc29sdmVyIHtcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBzZXNzaW9uOiBNdWx0aUZhY3RvclNlc3Npb25JbXBsLFxuICAgIHJlYWRvbmx5IGhpbnRzOiBNdWx0aUZhY3RvckluZm9JbXBsW10sXG4gICAgcHJpdmF0ZSByZWFkb25seSBzaWduSW5SZXNvbHZlcjogKFxuICAgICAgYXNzZXJ0aW9uOiBNdWx0aUZhY3RvckFzc2VydGlvbkltcGxcbiAgICApID0+IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbD5cbiAgKSB7fVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tRXJyb3IoXG4gICAgYXV0aEV4dGVybjogQXV0aCxcbiAgICBlcnJvcjogTXVsdGlGYWN0b3JFcnJvckludGVybmFsXG4gICk6IE11bHRpRmFjdG9yUmVzb2x2ZXJJbXBsIHtcbiAgICBjb25zdCBhdXRoID0gX2Nhc3RBdXRoKGF1dGhFeHRlcm4pO1xuICAgIGNvbnN0IHNlcnZlclJlc3BvbnNlID0gZXJyb3IuY3VzdG9tRGF0YS5fc2VydmVyUmVzcG9uc2U7XG4gICAgY29uc3QgaGludHMgPSAoc2VydmVyUmVzcG9uc2UubWZhSW5mbyB8fCBbXSkubWFwKGVucm9sbG1lbnQgPT5cbiAgICAgIE11bHRpRmFjdG9ySW5mb0ltcGwuX2Zyb21TZXJ2ZXJSZXNwb25zZShhdXRoLCBlbnJvbGxtZW50KVxuICAgICk7XG5cbiAgICBfYXNzZXJ0KFxuICAgICAgc2VydmVyUmVzcG9uc2UubWZhUGVuZGluZ0NyZWRlbnRpYWwsXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgICk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwuX2Zyb21NZmFQZW5kaW5nQ3JlZGVudGlhbChcbiAgICAgIHNlcnZlclJlc3BvbnNlLm1mYVBlbmRpbmdDcmVkZW50aWFsXG4gICAgKTtcblxuICAgIHJldHVybiBuZXcgTXVsdGlGYWN0b3JSZXNvbHZlckltcGwoXG4gICAgICBzZXNzaW9uLFxuICAgICAgaGludHMsXG4gICAgICBhc3luYyAoXG4gICAgICAgIGFzc2VydGlvbjogTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsXG4gICAgICApOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWw+ID0+IHtcbiAgICAgICAgY29uc3QgbWZhUmVzcG9uc2UgPSBhd2FpdCBhc3NlcnRpb24uX3Byb2Nlc3MoYXV0aCwgc2Vzc2lvbik7XG4gICAgICAgIC8vIENsZWFyIG91dCB0aGUgdW5uZWVkZWQgZmllbGRzIGZyb20gdGhlIG9sZCBsb2dpbiByZXNwb25zZVxuICAgICAgICBkZWxldGUgc2VydmVyUmVzcG9uc2UubWZhSW5mbztcbiAgICAgICAgZGVsZXRlIHNlcnZlclJlc3BvbnNlLm1mYVBlbmRpbmdDcmVkZW50aWFsO1xuXG4gICAgICAgIC8vIFVzZSBpbiB0aGUgbmV3IHRva2VuICYgcmVmcmVzaCB0b2tlbiBpbiB0aGUgb2xkIHJlc3BvbnNlXG4gICAgICAgIGNvbnN0IGlkVG9rZW5SZXNwb25zZSA9IHtcbiAgICAgICAgICAuLi5zZXJ2ZXJSZXNwb25zZSxcbiAgICAgICAgICBpZFRva2VuOiBtZmFSZXNwb25zZS5pZFRva2VuLFxuICAgICAgICAgIHJlZnJlc2hUb2tlbjogbWZhUmVzcG9uc2UucmVmcmVzaFRva2VuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVE9ETzogd2Ugc2hvdWxkIGNvbGxhcHNlIHRoaXMgc3dpdGNoIHN0YXRlbWVudCBpbnRvIFVzZXJDcmVkZW50aWFsSW1wbC5fZm9yT3BlcmF0aW9uIGFuZCBoYXZlIGl0IHN1cHBvcnQgdGhlIFNJR05fSU4gY2FzZVxuICAgICAgICBzd2l0Y2ggKGVycm9yLm9wZXJhdGlvblR5cGUpIHtcbiAgICAgICAgICBjYXNlIE9wZXJhdGlvblR5cGUuU0lHTl9JTjpcbiAgICAgICAgICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID1cbiAgICAgICAgICAgICAgYXdhaXQgVXNlckNyZWRlbnRpYWxJbXBsLl9mcm9tSWRUb2tlblJlc3BvbnNlKFxuICAgICAgICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgICAgICAgZXJyb3Iub3BlcmF0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICBpZFRva2VuUmVzcG9uc2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGF3YWl0IGF1dGguX3VwZGF0ZUN1cnJlbnRVc2VyKHVzZXJDcmVkZW50aWFsLnVzZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHVzZXJDcmVkZW50aWFsO1xuICAgICAgICAgIGNhc2UgT3BlcmF0aW9uVHlwZS5SRUFVVEhFTlRJQ0FURTpcbiAgICAgICAgICAgIF9hc3NlcnQoZXJyb3IudXNlciwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgICAgICAgICByZXR1cm4gVXNlckNyZWRlbnRpYWxJbXBsLl9mb3JPcGVyYXRpb24oXG4gICAgICAgICAgICAgIGVycm9yLnVzZXIsXG4gICAgICAgICAgICAgIGVycm9yLm9wZXJhdGlvblR5cGUsXG4gICAgICAgICAgICAgIGlkVG9rZW5SZXNwb25zZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgYXN5bmMgcmVzb2x2ZVNpZ25JbihcbiAgICBhc3NlcnRpb25FeHRlcm46IE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbFxuICApOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gICAgY29uc3QgYXNzZXJ0aW9uID0gYXNzZXJ0aW9uRXh0ZXJuIGFzIE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbDtcbiAgICByZXR1cm4gdGhpcy5zaWduSW5SZXNvbHZlcihhc3NlcnRpb24pO1xuICB9XG59XG5cbi8qKlxuICogUHJvdmlkZXMgYSB7QGxpbmsgTXVsdGlGYWN0b3JSZXNvbHZlcn0gc3VpdGFibGUgZm9yIGNvbXBsZXRpb24gb2YgYVxuICogbXVsdGktZmFjdG9yIGZsb3cuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGVycm9yIC0gVGhlIHtAbGluayBNdWx0aUZhY3RvckVycm9yfSByYWlzZWQgZHVyaW5nIGEgc2lnbi1pbiwgb3JcbiAqIHJlYXV0aGVudGljYXRpb24gb3BlcmF0aW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE11bHRpRmFjdG9yUmVzb2x2ZXIoXG4gIGF1dGg6IEF1dGgsXG4gIGVycm9yOiBNdWx0aUZhY3RvckVycm9yXG4pOiBNdWx0aUZhY3RvclJlc29sdmVyIHtcbiAgY29uc3QgYXV0aE1vZHVsYXIgPSBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCk7XG4gIGNvbnN0IGVycm9ySW50ZXJuYWwgPSBlcnJvciBhcyBNdWx0aUZhY3RvckVycm9ySW50ZXJuYWw7XG4gIF9hc3NlcnQoXG4gICAgZXJyb3IuY3VzdG9tRGF0YS5vcGVyYXRpb25UeXBlLFxuICAgIGF1dGhNb2R1bGFyLFxuICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgKTtcbiAgX2Fzc2VydChcbiAgICBlcnJvckludGVybmFsLmN1c3RvbURhdGEuX3NlcnZlclJlc3BvbnNlPy5tZmFQZW5kaW5nQ3JlZGVudGlhbCxcbiAgICBhdXRoTW9kdWxhcixcbiAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICk7XG5cbiAgcmV0dXJuIE11bHRpRmFjdG9yUmVzb2x2ZXJJbXBsLl9mcm9tRXJyb3IoYXV0aE1vZHVsYXIsIGVycm9ySW50ZXJuYWwpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBfYWRkVGlkSWZOZWNlc3NhcnksXG4gIF9wZXJmb3JtQXBpUmVxdWVzdFxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0IH0gZnJvbSAnLi4vYXV0aGVudGljYXRpb24vc21zJztcbmltcG9ydCB7IEZpbmFsaXplTWZhUmVzcG9uc2UgfSBmcm9tICcuLi9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5cbi8qKlxuICogTUZBIEluZm8gYXMgcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAqL1xuaW50ZXJmYWNlIEJhc2VNZmFFbnJvbGxtZW50IHtcbiAgbWZhRW5yb2xsbWVudElkOiBzdHJpbmc7XG4gIGVucm9sbGVkQXQ6IG51bWJlcjtcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQW4gTUZBIHByb3ZpZGVkIGJ5IFNNUyB2ZXJpZmljYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGhvbmVNZmFFbnJvbGxtZW50IGV4dGVuZHMgQmFzZU1mYUVucm9sbG1lbnQge1xuICBwaG9uZUluZm86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBbiBNRkEgcHJvdmlkZWQgYnkgVE9UUCAoVGltZS1iYXNlZCBPbmUgVGltZSBQYXNzd29yZCkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVG90cE1mYUVucm9sbG1lbnQgZXh0ZW5kcyBCYXNlTWZhRW5yb2xsbWVudCB7fVxuXG4vKipcbiAqIE1mYUVucm9sbG1lbnQgY2FuIGJlIGFueSBzdWJ0eXBlIG9mIEJhc2VNZmFFbnJvbGxtZW50LCBjdXJyZW50bHkgb25seSBQaG9uZU1mYUVucm9sbG1lbnQgYW5kIFRvdHBNZmFFbnJvbGxtZW50IGFyZSBzdXBwb3J0ZWQuXG4gKi9cbmV4cG9ydCB0eXBlIE1mYUVucm9sbG1lbnQgPSBQaG9uZU1mYUVucm9sbG1lbnQgfCBUb3RwTWZhRW5yb2xsbWVudDtcblxuZXhwb3J0IGludGVyZmFjZSBTdGFydFBob25lTWZhRW5yb2xsbWVudFJlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIHBob25lRW5yb2xsbWVudEluZm86IHtcbiAgICBwaG9uZU51bWJlcjogc3RyaW5nO1xuICAgIHJlY2FwdGNoYVRva2VuOiBzdHJpbmc7XG4gIH07XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UGhvbmVNZmFFbnJvbGxtZW50UmVzcG9uc2Uge1xuICBwaG9uZVNlc3Npb25JbmZvOiB7XG4gICAgc2Vzc2lvbkluZm86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RW5yb2xsUGhvbmVNZmEoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgcmVxdWVzdDogU3RhcnRQaG9uZU1mYUVucm9sbG1lbnRSZXF1ZXN0XG4pOiBQcm9taXNlPFN0YXJ0UGhvbmVNZmFFbnJvbGxtZW50UmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBTdGFydFBob25lTWZhRW5yb2xsbWVudFJlcXVlc3QsXG4gICAgU3RhcnRQaG9uZU1mYUVucm9sbG1lbnRSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNUQVJUX01GQV9FTlJPTExNRU5ULFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmFsaXplUGhvbmVNZmFFbnJvbGxtZW50UmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgcGhvbmVWZXJpZmljYXRpb25JbmZvOiBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0O1xuICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGw7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmFsaXplUGhvbmVNZmFFbnJvbGxtZW50UmVzcG9uc2VcbiAgZXh0ZW5kcyBGaW5hbGl6ZU1mYVJlc3BvbnNlIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5hbGl6ZUVucm9sbFBob25lTWZhKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHJlcXVlc3Q6IEZpbmFsaXplUGhvbmVNZmFFbnJvbGxtZW50UmVxdWVzdFxuKTogUHJvbWlzZTxGaW5hbGl6ZVBob25lTWZhRW5yb2xsbWVudFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgRmluYWxpemVQaG9uZU1mYUVucm9sbG1lbnRSZXF1ZXN0LFxuICAgIEZpbmFsaXplUGhvbmVNZmFFbnJvbGxtZW50UmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5GSU5BTElaRV9NRkFfRU5ST0xMTUVOVCxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIHRvdHBFbnJvbGxtZW50SW5mbzoge307XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXNwb25zZSB7XG4gIHRvdHBTZXNzaW9uSW5mbzoge1xuICAgIHNoYXJlZFNlY3JldEtleTogc3RyaW5nO1xuICAgIHZlcmlmaWNhdGlvbkNvZGVMZW5ndGg6IG51bWJlcjtcbiAgICBoYXNoaW5nQWxnb3JpdGhtOiBzdHJpbmc7XG4gICAgcGVyaW9kU2VjOiBudW1iZXI7XG4gICAgc2Vzc2lvbkluZm86IHN0cmluZztcbiAgICBmaW5hbGl6ZUVucm9sbG1lbnRUaW1lOiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydEVucm9sbFRvdHBNZmEoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgcmVxdWVzdDogU3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlcXVlc3Rcbik6IFByb21pc2U8U3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgU3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlcXVlc3QsXG4gICAgU3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU1RBUlRfTUZBX0VOUk9MTE1FTlQsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG90cFZlcmlmaWNhdGlvbkluZm8ge1xuICBzZXNzaW9uSW5mbzogc3RyaW5nO1xuICB2ZXJpZmljYXRpb25Db2RlOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIEZpbmFsaXplVG90cE1mYUVucm9sbG1lbnRSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xuICB0b3RwVmVyaWZpY2F0aW9uSW5mbzogVG90cFZlcmlmaWNhdGlvbkluZm87XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxpemVUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlXG4gIGV4dGVuZHMgRmluYWxpemVNZmFSZXNwb25zZSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVFbnJvbGxUb3RwTWZhKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHJlcXVlc3Q6IEZpbmFsaXplVG90cE1mYUVucm9sbG1lbnRSZXF1ZXN0XG4pOiBQcm9taXNlPEZpbmFsaXplVG90cE1mYUVucm9sbG1lbnRSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIEZpbmFsaXplVG90cE1mYUVucm9sbG1lbnRSZXF1ZXN0LFxuICAgIEZpbmFsaXplVG90cE1mYUVucm9sbG1lbnRSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LkZJTkFMSVpFX01GQV9FTlJPTExNRU5ULFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdpdGhkcmF3TWZhUmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgbWZhRW5yb2xsbWVudElkOiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdpdGhkcmF3TWZhUmVzcG9uc2UgZXh0ZW5kcyBGaW5hbGl6ZU1mYVJlc3BvbnNlIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoZHJhd01mYShcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICByZXF1ZXN0OiBXaXRoZHJhd01mYVJlcXVlc3Rcbik6IFByb21pc2U8V2l0aGRyYXdNZmFSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFdpdGhkcmF3TWZhUmVxdWVzdCwgV2l0aGRyYXdNZmFSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuV0lUSERSQVdfTUZBLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1xuICBNdWx0aUZhY3RvckFzc2VydGlvbixcbiAgTXVsdGlGYWN0b3JJbmZvLFxuICBNdWx0aUZhY3RvclNlc3Npb24sXG4gIE11bHRpRmFjdG9yVXNlcixcbiAgVXNlclxufSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyB3aXRoZHJhd01mYSB9IGZyb20gJy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvbWZhJztcbmltcG9ydCB7IF9sb2dvdXRJZkludmFsaWRhdGVkIH0gZnJvbSAnLi4vY29yZS91c2VyL2ludmFsaWRhdGlvbic7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbCB9IGZyb20gJy4vbWZhX2Fzc2VydGlvbic7XG5pbXBvcnQgeyBNdWx0aUZhY3RvckluZm9JbXBsIH0gZnJvbSAnLi9tZmFfaW5mbyc7XG5pbXBvcnQgeyBNdWx0aUZhY3RvclNlc3Npb25JbXBsIH0gZnJvbSAnLi9tZmFfc2Vzc2lvbic7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aUZhY3RvclVzZXJJbXBsIGltcGxlbWVudHMgTXVsdGlGYWN0b3JVc2VyIHtcbiAgZW5yb2xsZWRGYWN0b3JzOiBNdWx0aUZhY3RvckluZm9bXSA9IFtdO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IocmVhZG9ubHkgdXNlcjogVXNlckludGVybmFsKSB7XG4gICAgdXNlci5fb25SZWxvYWQodXNlckluZm8gPT4ge1xuICAgICAgaWYgKHVzZXJJbmZvLm1mYUluZm8pIHtcbiAgICAgICAgdGhpcy5lbnJvbGxlZEZhY3RvcnMgPSB1c2VySW5mby5tZmFJbmZvLm1hcChlbnJvbGxtZW50ID0+XG4gICAgICAgICAgTXVsdGlGYWN0b3JJbmZvSW1wbC5fZnJvbVNlcnZlclJlc3BvbnNlKHVzZXIuYXV0aCwgZW5yb2xsbWVudClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBfZnJvbVVzZXIodXNlcjogVXNlckludGVybmFsKTogTXVsdGlGYWN0b3JVc2VySW1wbCB7XG4gICAgcmV0dXJuIG5ldyBNdWx0aUZhY3RvclVzZXJJbXBsKHVzZXIpO1xuICB9XG5cbiAgYXN5bmMgZ2V0U2Vzc2lvbigpOiBQcm9taXNlPE11bHRpRmFjdG9yU2Vzc2lvbj4ge1xuICAgIHJldHVybiBNdWx0aUZhY3RvclNlc3Npb25JbXBsLl9mcm9tSWR0b2tlbihcbiAgICAgIGF3YWl0IHRoaXMudXNlci5nZXRJZFRva2VuKCksXG4gICAgICB0aGlzLnVzZXJcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgZW5yb2xsKFxuICAgIGFzc2VydGlvbkV4dGVybjogTXVsdGlGYWN0b3JBc3NlcnRpb24sXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGFzc2VydGlvbiA9IGFzc2VydGlvbkV4dGVybiBhcyBNdWx0aUZhY3RvckFzc2VydGlvbkltcGw7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IChhd2FpdCB0aGlzLmdldFNlc3Npb24oKSkgYXMgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbDtcbiAgICBjb25zdCBmaW5hbGl6ZU1mYVJlc3BvbnNlID0gYXdhaXQgX2xvZ291dElmSW52YWxpZGF0ZWQoXG4gICAgICB0aGlzLnVzZXIsXG4gICAgICBhc3NlcnRpb24uX3Byb2Nlc3ModGhpcy51c2VyLmF1dGgsIHNlc3Npb24sIGRpc3BsYXlOYW1lKVxuICAgICk7XG4gICAgLy8gTmV3IHRva2VucyB3aWxsIGJlIGlzc3VlZCBhZnRlciBlbnJvbGxtZW50IG9mIHRoZSBuZXcgc2Vjb25kIGZhY3RvcnMuXG4gICAgLy8gVGhleSBuZWVkIHRvIGJlIHVwZGF0ZWQgb24gdGhlIHVzZXIuXG4gICAgYXdhaXQgdGhpcy51c2VyLl91cGRhdGVUb2tlbnNJZk5lY2Vzc2FyeShmaW5hbGl6ZU1mYVJlc3BvbnNlKTtcbiAgICAvLyBUaGUgdXNlciBuZWVkcyB0byBiZSByZWxvYWRlZCB0byBnZXQgdGhlIG5ldyBtdWx0aS1mYWN0b3IgaW5mb3JtYXRpb25cbiAgICAvLyBmcm9tIHNlcnZlci4gVVNFUl9SRUxPQURFRCBldmVudCB3aWxsIGJlIHRyaWdnZXJlZCBhbmQgYGVucm9sbGVkRmFjdG9yc2BcbiAgICAvLyB3aWxsIGJlIHVwZGF0ZWQuXG4gICAgcmV0dXJuIHRoaXMudXNlci5yZWxvYWQoKTtcbiAgfVxuXG4gIGFzeW5jIHVuZW5yb2xsKGluZm9PclVpZDogTXVsdGlGYWN0b3JJbmZvIHwgc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgbWZhRW5yb2xsbWVudElkID1cbiAgICAgIHR5cGVvZiBpbmZvT3JVaWQgPT09ICdzdHJpbmcnID8gaW5mb09yVWlkIDogaW5mb09yVWlkLnVpZDtcbiAgICBjb25zdCBpZFRva2VuID0gYXdhaXQgdGhpcy51c2VyLmdldElkVG9rZW4oKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaWRUb2tlblJlc3BvbnNlID0gYXdhaXQgX2xvZ291dElmSW52YWxpZGF0ZWQoXG4gICAgICAgIHRoaXMudXNlcixcbiAgICAgICAgd2l0aGRyYXdNZmEodGhpcy51c2VyLmF1dGgsIHtcbiAgICAgICAgICBpZFRva2VuLFxuICAgICAgICAgIG1mYUVucm9sbG1lbnRJZFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIC8vIFJlbW92ZSB0aGUgc2Vjb25kIGZhY3RvciBmcm9tIHRoZSB1c2VyJ3MgbGlzdC5cbiAgICAgIHRoaXMuZW5yb2xsZWRGYWN0b3JzID0gdGhpcy5lbnJvbGxlZEZhY3RvcnMuZmlsdGVyKFxuICAgICAgICAoeyB1aWQgfSkgPT4gdWlkICE9PSBtZmFFbnJvbGxtZW50SWRcbiAgICAgICk7XG4gICAgICAvLyBEZXBlbmRpbmcgb24gd2hldGhlciB0aGUgYmFja2VuZCBkZWNpZGVkIHRvIHJldm9rZSB0aGUgdXNlcidzIHNlc3Npb24sXG4gICAgICAvLyB0aGUgdG9rZW5SZXNwb25zZSBtYXkgYmUgZW1wdHkuIElmIHRoZSB0b2tlbnMgd2VyZSBub3QgdXBkYXRlZCAoYW5kIHRoZXlcbiAgICAgIC8vIGFyZSBub3cgaW52YWxpZCksIHJlbG9hZGluZyB0aGUgdXNlciB3aWxsIGRpc2NvdmVyIHRoaXMgYW5kIGludmFsaWRhdGVcbiAgICAgIC8vIHRoZSB1c2VyJ3Mgc3RhdGUgYWNjb3JkaW5nbHkuXG4gICAgICBhd2FpdCB0aGlzLnVzZXIuX3VwZGF0ZVRva2Vuc0lmTmVjZXNzYXJ5KGlkVG9rZW5SZXNwb25zZSk7XG4gICAgICBhd2FpdCB0aGlzLnVzZXIucmVsb2FkKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbXVsdGlGYWN0b3JVc2VyQ2FjaGUgPSBuZXcgV2Vha01hcDxVc2VyLCBNdWx0aUZhY3RvclVzZXI+KCk7XG5cbi8qKlxuICogVGhlIHtAbGluayBNdWx0aUZhY3RvclVzZXJ9IGNvcnJlc3BvbmRpbmcgdG8gdGhlIHVzZXIuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgaXMgdXNlZCB0byBhY2Nlc3MgYWxsIG11bHRpLWZhY3RvciBwcm9wZXJ0aWVzIGFuZCBvcGVyYXRpb25zIHJlbGF0ZWQgdG8gdGhlIHVzZXIuXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aUZhY3Rvcih1c2VyOiBVc2VyKTogTXVsdGlGYWN0b3JVc2VyIHtcbiAgY29uc3QgdXNlck1vZHVsYXIgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcik7XG4gIGlmICghbXVsdGlGYWN0b3JVc2VyQ2FjaGUuaGFzKHVzZXJNb2R1bGFyKSkge1xuICAgIG11bHRpRmFjdG9yVXNlckNhY2hlLnNldChcbiAgICAgIHVzZXJNb2R1bGFyLFxuICAgICAgTXVsdGlGYWN0b3JVc2VySW1wbC5fZnJvbVVzZXIodXNlck1vZHVsYXIgYXMgVXNlckludGVybmFsKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG11bHRpRmFjdG9yVXNlckNhY2hlLmdldCh1c2VyTW9kdWxhcikhO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBQZXJzaXN0ZW5jZSB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIFBlcnNpc3RlbmNlVHlwZSB7XG4gIFNFU1NJT04gPSAnU0VTU0lPTicsXG4gIExPQ0FMID0gJ0xPQ0FMJyxcbiAgTk9ORSA9ICdOT05FJ1xufVxuXG5leHBvcnQgdHlwZSBQZXJzaXN0ZWRCbG9iID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5zdGFudGlhdG9yPFQ+IHtcbiAgKGJsb2I6IFBlcnNpc3RlZEJsb2IpOiBUO1xufVxuXG5leHBvcnQgdHlwZSBQZXJzaXN0ZW5jZVZhbHVlID0gUGVyc2lzdGVkQmxvYiB8IHN0cmluZztcblxuZXhwb3J0IGNvbnN0IFNUT1JBR0VfQVZBSUxBQkxFX0tFWSA9ICdfX3Nhayc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmFnZUV2ZW50TGlzdGVuZXIge1xuICAodmFsdWU6IFBlcnNpc3RlbmNlVmFsdWUgfCBudWxsKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJzaXN0ZW5jZUludGVybmFsIGV4dGVuZHMgUGVyc2lzdGVuY2Uge1xuICB0eXBlOiBQZXJzaXN0ZW5jZVR5cGU7XG4gIF9pc0F2YWlsYWJsZSgpOiBQcm9taXNlPGJvb2xlYW4+O1xuICBfc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogUGVyc2lzdGVuY2VWYWx1ZSk6IFByb21pc2U8dm9pZD47XG4gIF9nZXQ8VCBleHRlbmRzIFBlcnNpc3RlbmNlVmFsdWU+KGtleTogc3RyaW5nKTogUHJvbWlzZTxUIHwgbnVsbD47XG4gIF9yZW1vdmUoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xuICBfYWRkTGlzdGVuZXIoa2V5OiBzdHJpbmcsIGxpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQ7XG4gIF9yZW1vdmVMaXN0ZW5lcihrZXk6IHN0cmluZywgbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZDtcbiAgLy8gU2hvdWxkIHRoaXMgcGVyc2lzdGVuY2UgYWxsb3cgbWlncmF0aW9uIHVwIHRoZSBjaG9zZW4gaGllcmFyY2h5P1xuICBfc2hvdWxkQWxsb3dNaWdyYXRpb24/OiBib29sZWFuO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIFBlcnNpc3RlbmNlVmFsdWUsXG4gIFNUT1JBR0VfQVZBSUxBQkxFX0tFWSxcbiAgUGVyc2lzdGVuY2VUeXBlXG59IGZyb20gJy4uLy4uL2NvcmUvcGVyc2lzdGVuY2UnO1xuXG4vLyBUaGVyZSBhcmUgdHdvIGRpZmZlcmVudCBicm93c2VyIHBlcnNpc3RlbmNlIHR5cGVzOiBsb2NhbCBhbmQgc2Vzc2lvbi5cbi8vIEJvdGggaGF2ZSB0aGUgc2FtZSBpbXBsZW1lbnRhdGlvbiBidXQgdXNlIGEgZGlmZmVyZW50IHVuZGVybHlpbmcgc3RvcmFnZVxuLy8gb2JqZWN0LlxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQnJvd3NlclBlcnNpc3RlbmNlQ2xhc3Mge1xuICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHN0b3JhZ2VSZXRyaWV2ZXI6ICgpID0+IFN0b3JhZ2UsXG4gICAgcmVhZG9ubHkgdHlwZTogUGVyc2lzdGVuY2VUeXBlXG4gICkge31cblxuICBfaXNBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5zdG9yYWdlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICAgICAgfVxuICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9BVkFJTEFCTEVfS0VZLCAnMScpO1xuICAgICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9BVkFJTEFCTEVfS0VZKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBfc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogUGVyc2lzdGVuY2VWYWx1ZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBfZ2V0PFQgZXh0ZW5kcyBQZXJzaXN0ZW5jZVZhbHVlPihrZXk6IHN0cmluZyk6IFByb21pc2U8VCB8IG51bGw+IHtcbiAgICBjb25zdCBqc29uID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGpzb24gPyBKU09OLnBhcnNlKGpzb24pIDogbnVsbCk7XG4gIH1cblxuICBfcmVtb3ZlKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0IHN0b3JhZ2UoKTogU3RvcmFnZSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZVJldHJpZXZlcigpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGVyc2lzdGVuY2UgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBfaXNNb2JpbGVCcm93c2VyLCBfaXNJRTEwIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHtcbiAgUGVyc2lzdGVuY2VJbnRlcm5hbCBhcyBJbnRlcm5hbFBlcnNpc3RlbmNlLFxuICBQZXJzaXN0ZW5jZVR5cGUsXG4gIFBlcnNpc3RlbmNlVmFsdWUsXG4gIFN0b3JhZ2VFdmVudExpc3RlbmVyXG59IGZyb20gJy4uLy4uL2NvcmUvcGVyc2lzdGVuY2UnO1xuaW1wb3J0IHsgQnJvd3NlclBlcnNpc3RlbmNlQ2xhc3MgfSBmcm9tICcuL2Jyb3dzZXInO1xuXG4vLyBUaGUgcG9sbGluZyBwZXJpb2QgaW4gY2FzZSBldmVudHMgYXJlIG5vdCBzdXBwb3J0ZWRcbmV4cG9ydCBjb25zdCBfUE9MTElOR19JTlRFUlZBTF9NUyA9IDEwMDA7XG5cbi8vIFRoZSBJRSAxMCBsb2NhbFN0b3JhZ2UgY3Jvc3MgdGFiIHN5bmNocm9uaXphdGlvbiBkZWxheSBpbiBtaWxsaXNlY29uZHNcbmNvbnN0IElFMTBfTE9DQUxfU1RPUkFHRV9TWU5DX0RFTEFZID0gMTA7XG5cbmNsYXNzIEJyb3dzZXJMb2NhbFBlcnNpc3RlbmNlXG4gIGV4dGVuZHMgQnJvd3NlclBlcnNpc3RlbmNlQ2xhc3NcbiAgaW1wbGVtZW50cyBJbnRlcm5hbFBlcnNpc3RlbmNlXG57XG4gIHN0YXRpYyB0eXBlOiAnTE9DQUwnID0gJ0xPQ0FMJztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigoKSA9PiB3aW5kb3cubG9jYWxTdG9yYWdlLCBQZXJzaXN0ZW5jZVR5cGUuTE9DQUwpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFkb25seSBib3VuZEV2ZW50SGFuZGxlciA9IChcbiAgICBldmVudDogU3RvcmFnZUV2ZW50LFxuICAgIHBvbGw/OiBib29sZWFuXG4gICk6IHZvaWQgPT4gdGhpcy5vblN0b3JhZ2VFdmVudChldmVudCwgcG9sbCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbGlzdGVuZXJzOiBSZWNvcmQ8c3RyaW5nLCBTZXQ8U3RvcmFnZUV2ZW50TGlzdGVuZXI+PiA9IHt9O1xuICBwcml2YXRlIHJlYWRvbmx5IGxvY2FsQ2FjaGU6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bGw+ID0ge307XG4gIC8vIHNldFRpbWVvdXQgcmV0dXJuIHZhbHVlIGlzIHBsYXRmb3JtIHNwZWNpZmljXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHByaXZhdGUgcG9sbFRpbWVyOiBhbnkgfCBudWxsID0gbnVsbDtcblxuICAvLyBXaGV0aGVyIHRvIHVzZSBwb2xsaW5nIGluc3RlYWQgb2YgZGVwZW5kaW5nIG9uIHdpbmRvdyBldmVudHNcbiAgcHJpdmF0ZSByZWFkb25seSBmYWxsYmFja1RvUG9sbGluZyA9IF9pc01vYmlsZUJyb3dzZXIoKTtcbiAgcmVhZG9ubHkgX3Nob3VsZEFsbG93TWlncmF0aW9uID0gdHJ1ZTtcblxuICBwcml2YXRlIGZvckFsbENoYW5nZWRLZXlzKFxuICAgIGNiOiAoa2V5OiBzdHJpbmcsIG9sZFZhbHVlOiBzdHJpbmcgfCBudWxsLCBuZXdWYWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZFxuICApOiB2b2lkIHtcbiAgICAvLyBDaGVjayBhbGwga2V5cyB3aXRoIGxpc3RlbmVycyBvbiB0aGVtLlxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgLy8gR2V0IHZhbHVlIGZyb20gbG9jYWxTdG9yYWdlLlxuICAgICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLmxvY2FsQ2FjaGVba2V5XTtcbiAgICAgIC8vIElmIGxvY2FsIG1hcCB2YWx1ZSBkb2VzIG5vdCBtYXRjaCwgdHJpZ2dlciBsaXN0ZW5lciB3aXRoIHN0b3JhZ2UgZXZlbnQuXG4gICAgICAvLyBEaWZmZXJlbnRpYXRlIHRoaXMgc2ltdWxhdGVkIGV2ZW50IGZyb20gdGhlIHJlYWwgc3RvcmFnZSBldmVudC5cbiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgY2Ioa2V5LCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25TdG9yYWdlRXZlbnQoZXZlbnQ6IFN0b3JhZ2VFdmVudCwgcG9sbCA9IGZhbHNlKTogdm9pZCB7XG4gICAgLy8gS2V5IHdvdWxkIGJlIG51bGwgaW4gc29tZSBzaXR1YXRpb25zLCBsaWtlIHdoZW4gbG9jYWxTdG9yYWdlIGlzIGNsZWFyZWRcbiAgICBpZiAoIWV2ZW50LmtleSkge1xuICAgICAgdGhpcy5mb3JBbGxDaGFuZ2VkS2V5cyhcbiAgICAgICAgKGtleTogc3RyaW5nLCBfb2xkVmFsdWU6IHN0cmluZyB8IG51bGwsIG5ld1ZhbHVlOiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoa2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gZXZlbnQua2V5O1xuXG4gICAgLy8gQ2hlY2sgdGhlIG1lY2hhbmlzbSBob3cgdGhpcyBldmVudCB3YXMgZGV0ZWN0ZWQuXG4gICAgLy8gVGhlIGZpcnN0IGV2ZW50IHdpbGwgZGljdGF0ZSB0aGUgbWVjaGFuaXNtIHRvIGJlIHVzZWQuXG4gICAgaWYgKHBvbGwpIHtcbiAgICAgIC8vIEVudmlyb25tZW50IGRldGVjdHMgc3RvcmFnZSBjaGFuZ2VzIHZpYSBwb2xsaW5nLlxuICAgICAgLy8gUmVtb3ZlIHN0b3JhZ2UgZXZlbnQgbGlzdGVuZXIgdG8gcHJldmVudCBwb3NzaWJsZSBldmVudCBkdXBsaWNhdGlvbi5cbiAgICAgIHRoaXMuZGV0YWNoTGlzdGVuZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRW52aXJvbm1lbnQgZGV0ZWN0cyBzdG9yYWdlIGNoYW5nZXMgdmlhIHN0b3JhZ2UgZXZlbnQgbGlzdGVuZXIuXG4gICAgICAvLyBSZW1vdmUgcG9sbGluZyBsaXN0ZW5lciB0byBwcmV2ZW50IHBvc3NpYmxlIGV2ZW50IGR1cGxpY2F0aW9uLlxuICAgICAgdGhpcy5zdG9wUG9sbGluZygpO1xuICAgIH1cblxuICAgIGNvbnN0IHRyaWdnZXJMaXN0ZW5lcnMgPSAoKTogdm9pZCA9PiB7XG4gICAgICAvLyBLZWVwIGxvY2FsIG1hcCB1cCB0byBkYXRlIGluIGNhc2Ugc3RvcmFnZSBldmVudCBpcyB0cmlnZ2VyZWQgYmVmb3JlXG4gICAgICAvLyBwb2xsLlxuICAgICAgY29uc3Qgc3RvcmVkVmFsdWUgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgaWYgKCFwb2xsICYmIHRoaXMubG9jYWxDYWNoZVtrZXldID09PSBzdG9yZWRWYWx1ZSkge1xuICAgICAgICAvLyBSZWFsIHN0b3JhZ2UgZXZlbnQgd2hpY2ggaGFzIGFscmVhZHkgYmVlbiBkZXRlY3RlZCwgZG8gbm90aGluZy5cbiAgICAgICAgLy8gVGhpcyBzZWVtcyB0byB0cmlnZ2VyIGluIHNvbWUgSUUgYnJvd3NlcnMgZm9yIHNvbWUgcmVhc29uLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhrZXksIHN0b3JlZFZhbHVlKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3RvcmVkVmFsdWUgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIGlmIChcbiAgICAgIF9pc0lFMTAoKSAmJlxuICAgICAgc3RvcmVkVmFsdWUgIT09IGV2ZW50Lm5ld1ZhbHVlICYmXG4gICAgICBldmVudC5uZXdWYWx1ZSAhPT0gZXZlbnQub2xkVmFsdWVcbiAgICApIHtcbiAgICAgIC8vIElFIDEwIGhhcyB0aGlzIHdlaXJkIGJ1ZyB3aGVyZSBhIHN0b3JhZ2UgZXZlbnQgd291bGQgdHJpZ2dlciB3aXRoIHRoZVxuICAgICAgLy8gY29ycmVjdCBrZXksIG9sZFZhbHVlIGFuZCBuZXdWYWx1ZSBidXQgbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSBkb2VzXG4gICAgICAvLyBub3QgeWllbGQgdGhlIHVwZGF0ZWQgdmFsdWUgdW50aWwgYSBmZXcgbWlsbGlzZWNvbmRzLiBUaGlzIGVuc3VyZXNcbiAgICAgIC8vIHRoaXMgcmVjb3ZlcnMgZnJvbSB0aGF0IHNpdHVhdGlvbi5cbiAgICAgIHNldFRpbWVvdXQodHJpZ2dlckxpc3RlbmVycywgSUUxMF9MT0NBTF9TVE9SQUdFX1NZTkNfREVMQVkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmlnZ2VyTGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBub3RpZnlMaXN0ZW5lcnMoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy5sb2NhbENhY2hlW2tleV0gPSB2YWx1ZTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc1trZXldO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgQXJyYXkuZnJvbShsaXN0ZW5lcnMpKSB7XG4gICAgICAgIGxpc3RlbmVyKHZhbHVlID8gSlNPTi5wYXJzZSh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGFydFBvbGxpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wUG9sbGluZygpO1xuXG4gICAgdGhpcy5wb2xsVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLmZvckFsbENoYW5nZWRLZXlzKFxuICAgICAgICAoa2V5OiBzdHJpbmcsIG9sZFZhbHVlOiBzdHJpbmcgfCBudWxsLCBuZXdWYWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgICAgICAgIHRoaXMub25TdG9yYWdlRXZlbnQoXG4gICAgICAgICAgICBuZXcgU3RvcmFnZUV2ZW50KCdzdG9yYWdlJywge1xuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgICAgICBuZXdWYWx1ZVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvKiBwb2xsICovIHRydWVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0sIF9QT0xMSU5HX0lOVEVSVkFMX01TKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RvcFBvbGxpbmcoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucG9sbFRpbWVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMucG9sbFRpbWVyKTtcbiAgICAgIHRoaXMucG9sbFRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGF0dGFjaExpc3RlbmVyKCk6IHZvaWQge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgdGhpcy5ib3VuZEV2ZW50SGFuZGxlcik7XG4gIH1cblxuICBwcml2YXRlIGRldGFjaExpc3RlbmVyKCk6IHZvaWQge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgdGhpcy5ib3VuZEV2ZW50SGFuZGxlcik7XG4gIH1cblxuICBfYWRkTGlzdGVuZXIoa2V5OiBzdHJpbmcsIGxpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBXaGV0aGVyIGJyb3dzZXIgY2FuIGRldGVjdCBzdG9yYWdlIGV2ZW50IHdoZW4gaXQgaGFkIGFscmVhZHkgYmVlbiBwdXNoZWQgdG8gdGhlIGJhY2tncm91bmQuXG4gICAgICAvLyBUaGlzIG1heSBoYXBwZW4gaW4gc29tZSBtb2JpbGUgYnJvd3NlcnMuIEEgbG9jYWxTdG9yYWdlIGNoYW5nZSBpbiB0aGUgZm9yZWdyb3VuZCB3aW5kb3dcbiAgICAgIC8vIHdpbGwgbm90IGJlIGRldGVjdGVkIGluIHRoZSBiYWNrZ3JvdW5kIHdpbmRvdyB2aWEgdGhlIHN0b3JhZ2UgZXZlbnQuXG4gICAgICAvLyBUaGlzIHdhcyBkZXRlY3RlZCBpbiBpT1MgNy54IG1vYmlsZSBicm93c2Vyc1xuICAgICAgaWYgKHRoaXMuZmFsbGJhY2tUb1BvbGxpbmcpIHtcbiAgICAgICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYXR0YWNoTGlzdGVuZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc1trZXldKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldID0gbmV3IFNldCgpO1xuICAgICAgLy8gUG9wdWxhdGUgdGhlIGNhY2hlIHRvIGF2b2lkIHNwdXJpb3VzbHkgdHJpZ2dlcmluZyBvbiBmaXJzdCBwb2xsLlxuICAgICAgdGhpcy5sb2NhbENhY2hlW2tleV0gPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVyc1trZXldLmFkZChsaXN0ZW5lcik7XG4gIH1cblxuICBfcmVtb3ZlTGlzdGVuZXIoa2V5OiBzdHJpbmcsIGxpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmxpc3RlbmVyc1trZXldKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldLmRlbGV0ZShsaXN0ZW5lcik7XG5cbiAgICAgIGlmICh0aGlzLmxpc3RlbmVyc1trZXldLnNpemUgPT09IDApIHtcbiAgICAgICAgZGVsZXRlIHRoaXMubGlzdGVuZXJzW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuZGV0YWNoTGlzdGVuZXIoKTtcbiAgICAgIHRoaXMuc3RvcFBvbGxpbmcoKTtcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgbG9jYWwgY2FjaGUgb24gYmFzZSBvcGVyYXRpb25zOlxuXG4gIGFzeW5jIF9zZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBQZXJzaXN0ZW5jZVZhbHVlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgc3VwZXIuX3NldChrZXksIHZhbHVlKTtcbiAgICB0aGlzLmxvY2FsQ2FjaGVba2V5XSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgfVxuXG4gIGFzeW5jIF9nZXQ8VCBleHRlbmRzIFBlcnNpc3RlbmNlVmFsdWU+KGtleTogc3RyaW5nKTogUHJvbWlzZTxUIHwgbnVsbD4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgc3VwZXIuX2dldDxUPihrZXkpO1xuICAgIHRoaXMubG9jYWxDYWNoZVtrZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGFzeW5jIF9yZW1vdmUoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCBzdXBlci5fcmVtb3ZlKGtleSk7XG4gICAgZGVsZXRlIHRoaXMubG9jYWxDYWNoZVtrZXldO1xuICB9XG59XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIFBlcnNpc3RlbmNlfSBvZiB0eXBlIGBMT0NBTGAgdXNpbmcgYGxvY2FsU3RvcmFnZWBcbiAqIGZvciB0aGUgdW5kZXJseWluZyBzdG9yYWdlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGJyb3dzZXJMb2NhbFBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSA9IEJyb3dzZXJMb2NhbFBlcnNpc3RlbmNlO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFBlcnNpc3RlbmNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHtcbiAgUGVyc2lzdGVuY2VJbnRlcm5hbCBhcyBJbnRlcm5hbFBlcnNpc3RlbmNlLFxuICBQZXJzaXN0ZW5jZVR5cGUsXG4gIFN0b3JhZ2VFdmVudExpc3RlbmVyXG59IGZyb20gJy4uLy4uL2NvcmUvcGVyc2lzdGVuY2UnO1xuaW1wb3J0IHsgQnJvd3NlclBlcnNpc3RlbmNlQ2xhc3MgfSBmcm9tICcuL2Jyb3dzZXInO1xuXG5jbGFzcyBCcm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlXG4gIGV4dGVuZHMgQnJvd3NlclBlcnNpc3RlbmNlQ2xhc3NcbiAgaW1wbGVtZW50cyBJbnRlcm5hbFBlcnNpc3RlbmNlXG57XG4gIHN0YXRpYyB0eXBlOiAnU0VTU0lPTicgPSAnU0VTU0lPTic7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKCkgPT4gd2luZG93LnNlc3Npb25TdG9yYWdlLCBQZXJzaXN0ZW5jZVR5cGUuU0VTU0lPTik7XG4gIH1cblxuICBfYWRkTGlzdGVuZXIoX2tleTogc3RyaW5nLCBfbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgLy8gTGlzdGVuZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBzZXNzaW9uIHN0b3JhZ2Ugc2luY2UgaXQgY2Fubm90IGJlIHNoYXJlZCBhY3Jvc3Mgd2luZG93c1xuICAgIHJldHVybjtcbiAgfVxuXG4gIF9yZW1vdmVMaXN0ZW5lcihfa2V5OiBzdHJpbmcsIF9saXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICAvLyBMaXN0ZW5lcnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHNlc3Npb24gc3RvcmFnZSBzaW5jZSBpdCBjYW5ub3QgYmUgc2hhcmVkIGFjcm9zcyB3aW5kb3dzXG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIFBlcnNpc3RlbmNlfSBvZiBgU0VTU0lPTmAgdXNpbmcgYHNlc3Npb25TdG9yYWdlYFxuICogZm9yIHRoZSB1bmRlcmx5aW5nIHN0b3JhZ2UuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2UgPSBCcm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKiBUT0RPOiByZW1vdmUgdGhpcyBvbmNlIHRzbGliIGhhcyBhIHBvbHlmaWxsIGZvciBQcm9taXNlLmFsbFNldHRsZWQgKi9cbmludGVyZmFjZSBQcm9taXNlRnVsZmlsbGVkUmVzdWx0PFQ+IHtcbiAgZnVsZmlsbGVkOiB0cnVlO1xuICB2YWx1ZTogVDtcbn1cblxuaW50ZXJmYWNlIFByb21pc2VSZWplY3RlZFJlc3VsdCB7XG4gIGZ1bGZpbGxlZDogZmFsc2U7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHJlYXNvbjogYW55O1xufVxuXG5leHBvcnQgdHlwZSBQcm9taXNlU2V0dGxlZFJlc3VsdDxUPiA9XG4gIHwgUHJvbWlzZUZ1bGZpbGxlZFJlc3VsdDxUPlxuICB8IFByb21pc2VSZWplY3RlZFJlc3VsdDtcblxuLyoqXG4gKiBTaGltIGZvciBQcm9taXNlLmFsbFNldHRsZWQsIG5vdGUgdGhlIHNsaWdodGx5IGRpZmZlcmVudCBmb3JtYXQgb2YgYGZ1bGZpbGxlZGAgdnMgYHN0YXR1c2AuXG4gKlxuICogQHBhcmFtIHByb21pc2VzIC0gQXJyYXkgb2YgcHJvbWlzZXMgdG8gd2FpdCBvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9hbGxTZXR0bGVkPFQ+KFxuICBwcm9taXNlczogQXJyYXk8UHJvbWlzZTxUPj5cbik6IFByb21pc2U8QXJyYXk8UHJvbWlzZVNldHRsZWRSZXN1bHQ8VD4+PiB7XG4gIHJldHVybiBQcm9taXNlLmFsbChcbiAgICBwcm9taXNlcy5tYXAoYXN5bmMgcHJvbWlzZSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHByb21pc2U7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZnVsZmlsbGVkOiB0cnVlLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0gYXMgUHJvbWlzZUZ1bGZpbGxlZFJlc3VsdDxUPjtcbiAgICAgIH0gY2F0Y2ggKHJlYXNvbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGZ1bGZpbGxlZDogZmFsc2UsXG4gICAgICAgICAgcmVhc29uXG4gICAgICAgIH0gYXMgUHJvbWlzZVJlamVjdGVkUmVzdWx0O1xuICAgICAgfVxuICAgIH0pXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgUmVjZWl2ZXJIYW5kbGVyLFxuICBfRXZlbnRUeXBlLFxuICBfUmVjZWl2ZXJSZXNwb25zZSxcbiAgU2VuZGVyTWVzc2FnZUV2ZW50LFxuICBfU3RhdHVzLFxuICBfU2VuZGVyUmVxdWVzdFxufSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7IF9hbGxTZXR0bGVkIH0gZnJvbSAnLi9wcm9taXNlJztcblxuLyoqXG4gKiBJbnRlcmZhY2UgY2xhc3MgZm9yIHJlY2VpdmluZyBtZXNzYWdlcy5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWNlaXZlciB7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHJlY2VpdmVyczogUmVjZWl2ZXJbXSA9IFtdO1xuICBwcml2YXRlIHJlYWRvbmx5IGJvdW5kRXZlbnRIYW5kbGVyOiBFdmVudExpc3RlbmVyO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlcnNNYXA6IHtcbiAgICAvLyBUeXBlU2NyaXB0IGRvZXNuJ3QgaGF2ZSBleGlzdGVudGlhbCB0eXBlcyA6KFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgW2V2ZW50VHlwZTogc3RyaW5nXTogU2V0PFJlY2VpdmVySGFuZGxlcjxhbnksIGFueT4+O1xuICB9ID0ge307XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBldmVudFRhcmdldDogRXZlbnRUYXJnZXQpIHtcbiAgICB0aGlzLmJvdW5kRXZlbnRIYW5kbGVyID0gdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGFpbiBhbiBpbnN0YW5jZSBvZiBhIFJlY2VpdmVyIGZvciBhIGdpdmVuIGV2ZW50IHRhcmdldCwgaWYgbm9uZSBleGlzdHMgaXQgd2lsbCBiZSBjcmVhdGVkLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRUYXJnZXQgLSBBbiBldmVudCB0YXJnZXQgKHN1Y2ggYXMgd2luZG93IG9yIHNlbGYpIHRocm91Z2ggd2hpY2ggdGhlIHVuZGVybHlpbmdcbiAgICogbWVzc2FnZXMgd2lsbCBiZSByZWNlaXZlZC5cbiAgICovXG4gIHN0YXRpYyBfZ2V0SW5zdGFuY2UoZXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0KTogUmVjZWl2ZXIge1xuICAgIC8vIFRoZSByZXN1bHRzIGFyZSBzdG9yZWQgaW4gYW4gYXJyYXkgc2luY2Ugb2JqZWN0cyBjYW4ndCBiZSBrZXlzIGZvciBvdGhlclxuICAgIC8vIG9iamVjdHMuIEluIGFkZGl0aW9uLCBzZXR0aW5nIGEgdW5pcXVlIHByb3BlcnR5IG9uIGFuIGV2ZW50IHRhcmdldCBhcyBhXG4gICAgLy8gaGFzaCBtYXAga2V5IG1heSBub3QgYmUgYWxsb3dlZCBkdWUgdG8gQ09SUyByZXN0cmljdGlvbnMuXG4gICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IHRoaXMucmVjZWl2ZXJzLmZpbmQocmVjZWl2ZXIgPT5cbiAgICAgIHJlY2VpdmVyLmlzTGlzdGVuaW5ndG8oZXZlbnRUYXJnZXQpXG4gICAgKTtcbiAgICBpZiAoZXhpc3RpbmdJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nSW5zdGFuY2U7XG4gICAgfVxuICAgIGNvbnN0IG5ld0luc3RhbmNlID0gbmV3IFJlY2VpdmVyKGV2ZW50VGFyZ2V0KTtcbiAgICB0aGlzLnJlY2VpdmVycy5wdXNoKG5ld0luc3RhbmNlKTtcbiAgICByZXR1cm4gbmV3SW5zdGFuY2U7XG4gIH1cblxuICBwcml2YXRlIGlzTGlzdGVuaW5ndG8oZXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRUYXJnZXQgPT09IGV2ZW50VGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEZhbnMgb3V0IGEgTWVzc2FnZUV2ZW50IHRvIHRoZSBhcHByb3ByaWF0ZSBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFNlbmRzIGFuIHtAbGluayBTdGF0dXMuQUNLfSB1cG9uIHJlY2VpcHQgYW5kIGEge0BsaW5rIFN0YXR1cy5ET05FfSBvbmNlIGFsbCBoYW5kbGVycyBoYXZlXG4gICAqIGZpbmlzaGVkIHByb2Nlc3NpbmcuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCAtIFRoZSBNZXNzYWdlRXZlbnQuXG4gICAqXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZUV2ZW50PFxuICAgIFQgZXh0ZW5kcyBfUmVjZWl2ZXJSZXNwb25zZSxcbiAgICBTIGV4dGVuZHMgX1NlbmRlclJlcXVlc3RcbiAgPihldmVudDogRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBtZXNzYWdlRXZlbnQgPSBldmVudCBhcyBNZXNzYWdlRXZlbnQ8U2VuZGVyTWVzc2FnZUV2ZW50PFM+PjtcbiAgICBjb25zdCB7IGV2ZW50SWQsIGV2ZW50VHlwZSwgZGF0YSB9ID0gbWVzc2FnZUV2ZW50LmRhdGE7XG5cbiAgICBjb25zdCBoYW5kbGVyczogU2V0PFJlY2VpdmVySGFuZGxlcjxULCBTPj4gfCB1bmRlZmluZWQgPVxuICAgICAgdGhpcy5oYW5kbGVyc01hcFtldmVudFR5cGVdO1xuICAgIGlmICghaGFuZGxlcnM/LnNpemUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtZXNzYWdlRXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe1xuICAgICAgc3RhdHVzOiBfU3RhdHVzLkFDSyxcbiAgICAgIGV2ZW50SWQsXG4gICAgICBldmVudFR5cGVcbiAgICB9KTtcblxuICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkuZnJvbShoYW5kbGVycykubWFwKGFzeW5jIGhhbmRsZXIgPT5cbiAgICAgIGhhbmRsZXIobWVzc2FnZUV2ZW50Lm9yaWdpbiwgZGF0YSlcbiAgICApO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX2FsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgIG1lc3NhZ2VFdmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7XG4gICAgICBzdGF0dXM6IF9TdGF0dXMuRE9ORSxcbiAgICAgIGV2ZW50SWQsXG4gICAgICBldmVudFR5cGUsXG4gICAgICByZXNwb25zZVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSBhbiBldmVudCBoYW5kbGVyIGZvciBhIHBhcnRpY3VsYXIgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFR5cGUgLSBFdmVudCBuYW1lIHRvIHN1YnNjcmliZSB0by5cbiAgICogQHBhcmFtIGV2ZW50SGFuZGxlciAtIFRoZSBldmVudCBoYW5kbGVyIHdoaWNoIHNob3VsZCByZWNlaXZlIHRoZSBldmVudHMuXG4gICAqXG4gICAqL1xuICBfc3Vic2NyaWJlPFQgZXh0ZW5kcyBfUmVjZWl2ZXJSZXNwb25zZSwgUyBleHRlbmRzIF9TZW5kZXJSZXF1ZXN0PihcbiAgICBldmVudFR5cGU6IF9FdmVudFR5cGUsXG4gICAgZXZlbnRIYW5kbGVyOiBSZWNlaXZlckhhbmRsZXI8VCwgUz5cbiAgKTogdm9pZCB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuaGFuZGxlcnNNYXApLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5ldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5ib3VuZEV2ZW50SGFuZGxlcik7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmhhbmRsZXJzTWFwW2V2ZW50VHlwZV0pIHtcbiAgICAgIHRoaXMuaGFuZGxlcnNNYXBbZXZlbnRUeXBlXSA9IG5ldyBTZXQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmhhbmRsZXJzTWFwW2V2ZW50VHlwZV0uYWRkKGV2ZW50SGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgYW4gZXZlbnQgaGFuZGxlciBmcm9tIGEgcGFydGljdWxhciBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50VHlwZSAtIEV2ZW50IG5hbWUgdG8gdW5zdWJzY3JpYmUgZnJvbS5cbiAgICogQHBhcmFtIGV2ZW50SGFuZGxlciAtIE9wdGlvbmFsIGV2ZW50IGhhbmRsZXIsIGlmIG5vbmUgcHJvdmlkZWQsIHVuc3Vic2NyaWJlIGFsbCBoYW5kbGVycyBvbiB0aGlzIGV2ZW50LlxuICAgKlxuICAgKi9cbiAgX3Vuc3Vic2NyaWJlPFQgZXh0ZW5kcyBfUmVjZWl2ZXJSZXNwb25zZSwgUyBleHRlbmRzIF9TZW5kZXJSZXF1ZXN0PihcbiAgICBldmVudFR5cGU6IF9FdmVudFR5cGUsXG4gICAgZXZlbnRIYW5kbGVyPzogUmVjZWl2ZXJIYW5kbGVyPFQsIFM+XG4gICk6IHZvaWQge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzTWFwW2V2ZW50VHlwZV0gJiYgZXZlbnRIYW5kbGVyKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzTWFwW2V2ZW50VHlwZV0uZGVsZXRlKGV2ZW50SGFuZGxlcik7XG4gICAgfVxuICAgIGlmICghZXZlbnRIYW5kbGVyIHx8IHRoaXMuaGFuZGxlcnNNYXBbZXZlbnRUeXBlXS5zaXplID09PSAwKSB7XG4gICAgICBkZWxldGUgdGhpcy5oYW5kbGVyc01hcFtldmVudFR5cGVdO1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmhhbmRsZXJzTWFwKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuYm91bmRFdmVudEhhbmRsZXIpO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2VuZXJhdGVFdmVudElkKHByZWZpeCA9ICcnLCBkaWdpdHMgPSAxMCk6IHN0cmluZyB7XG4gIGxldCByYW5kb20gPSAnJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWdpdHM7IGkrKykge1xuICAgIHJhbmRvbSArPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gIH1cbiAgcmV0dXJuIHByZWZpeCArIHJhbmRvbTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBfZ2VuZXJhdGVFdmVudElkIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2V2ZW50X2lkJztcbmltcG9ydCB7XG4gIF9TZW5kZXJSZXF1ZXN0LFxuICBfRXZlbnRUeXBlLFxuICBSZWNlaXZlck1lc3NhZ2VFdmVudCxcbiAgX01lc3NhZ2VFcnJvcixcbiAgU2VuZGVyTWVzc2FnZUV2ZW50LFxuICBfU3RhdHVzLFxuICBfUmVjZWl2ZXJNZXNzYWdlUmVzcG9uc2UsXG4gIF9SZWNlaXZlclJlc3BvbnNlLFxuICBfVGltZW91dER1cmF0aW9uXG59IGZyb20gJy4vaW5kZXgnO1xuXG5pbnRlcmZhY2UgTWVzc2FnZUhhbmRsZXIge1xuICBtZXNzYWdlQ2hhbm5lbDogTWVzc2FnZUNoYW5uZWw7XG4gIG9uTWVzc2FnZTogRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdDtcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHNlbmRpbmcgbWVzc2FnZXMgYW5kIHdhaXRpbmcgZm9yIGEgY29tcGxldGlvbiByZXNwb25zZS5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBTZW5kZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGhhbmRsZXJzID0gbmV3IFNldDxNZXNzYWdlSGFuZGxlcj4oKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHRhcmdldDogU2VydmljZVdvcmtlcikge31cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgdGhlIGhhbmRsZXIgYW5kIHJlbW92ZSBpdCBmcm9tIG91ciB0cmFja2luZyBTZXQuXG4gICAqXG4gICAqIEBwYXJhbSBoYW5kbGVyIC0gVGhlIGhhbmRsZXIgdG8gdW5zdWJzY3JpYmUuXG4gICAqL1xuICBwcml2YXRlIHJlbW92ZU1lc3NhZ2VIYW5kbGVyKGhhbmRsZXI6IE1lc3NhZ2VIYW5kbGVyKTogdm9pZCB7XG4gICAgaWYgKGhhbmRsZXIubWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgIGhhbmRsZXIubWVzc2FnZUNoYW5uZWwucG9ydDEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICBoYW5kbGVyLm9uTWVzc2FnZVxuICAgICAgKTtcbiAgICAgIGhhbmRsZXIubWVzc2FnZUNoYW5uZWwucG9ydDEuY2xvc2UoKTtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVycy5kZWxldGUoaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIFJlY2VpdmVyIGxvY2F0ZWQgYXQge0BsaW5rIHRhcmdldH0uXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFdlJ2xsIGZpcnN0IHdhaXQgYSBiaXQgZm9yIGFuIEFDSyAsIGlmIHdlIGdldCBvbmUgd2Ugd2lsbCB3YWl0IHNpZ25pZmljYW50bHkgbG9uZ2VyIHVudGlsIHRoZVxuICAgKiByZWNlaXZlciBoYXMgaGFkIGEgY2hhbmNlIHRvIGZ1bGx5IHByb2Nlc3MgdGhlIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRUeXBlIC0gVHlwZSBvZiBldmVudCB0byBzZW5kLlxuICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBwYXlsb2FkIG9mIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHRpbWVvdXQgLSBUaW1lb3V0IGZvciB3YWl0aW5nIG9uIGFuIEFDSyBmcm9tIHRoZSByZWNlaXZlci5cbiAgICpcbiAgICogQHJldHVybnMgQW4gYXJyYXkgb2Ygc2V0dGxlZCBwcm9taXNlcyBmcm9tIGFsbCB0aGUgaGFuZGxlcnMgdGhhdCB3ZXJlIGxpc3RlbmluZyBvbiB0aGUgcmVjZWl2ZXIuXG4gICAqL1xuICBhc3luYyBfc2VuZDxUIGV4dGVuZHMgX1JlY2VpdmVyUmVzcG9uc2UsIFMgZXh0ZW5kcyBfU2VuZGVyUmVxdWVzdD4oXG4gICAgZXZlbnRUeXBlOiBfRXZlbnRUeXBlLFxuICAgIGRhdGE6IFMsXG4gICAgdGltZW91dCA9IF9UaW1lb3V0RHVyYXRpb24uQUNLXG4gICk6IFByb21pc2U8X1JlY2VpdmVyTWVzc2FnZVJlc3BvbnNlPFQ+PiB7XG4gICAgY29uc3QgbWVzc2FnZUNoYW5uZWwgPVxuICAgICAgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJyA/IG5ldyBNZXNzYWdlQ2hhbm5lbCgpIDogbnVsbDtcbiAgICBpZiAoIW1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoX01lc3NhZ2VFcnJvci5DT05ORUNUSU9OX1VOQVZBSUxBQkxFKTtcbiAgICB9XG4gICAgLy8gTm9kZSB0aW1lcnMgYW5kIGJyb3dzZXIgdGltZXJzIHJldHVybiBmdW5kYW1lbnRhbGx5IGRpZmZlcmVudCB0eXBlcy5cbiAgICAvLyBXZSBkb24ndCBhY3R1YWxseSBjYXJlIHdoYXQgdGhlIHZhbHVlIGlzIGJ1dCBUUyB3b24ndCBhY2NlcHQgdW5rbm93biBhbmRcbiAgICAvLyB3ZSBjYW4ndCBjYXN0IHByb3Blcmx5IGluIGJvdGggZW52aXJvbm1lbnRzLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IGNvbXBsZXRpb25UaW1lcjogYW55O1xuICAgIGxldCBoYW5kbGVyOiBNZXNzYWdlSGFuZGxlcjtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8X1JlY2VpdmVyTWVzc2FnZVJlc3BvbnNlPFQ+PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBldmVudElkID0gX2dlbmVyYXRlRXZlbnRJZCgnJywgMjApO1xuICAgICAgbWVzc2FnZUNoYW5uZWwucG9ydDEuc3RhcnQoKTtcbiAgICAgIGNvbnN0IGFja1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoX01lc3NhZ2VFcnJvci5VTlNVUFBPUlRFRF9FVkVOVCkpO1xuICAgICAgfSwgdGltZW91dCk7XG4gICAgICBoYW5kbGVyID0ge1xuICAgICAgICBtZXNzYWdlQ2hhbm5lbCxcbiAgICAgICAgb25NZXNzYWdlKGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VFdmVudCA9IGV2ZW50IGFzIE1lc3NhZ2VFdmVudDxSZWNlaXZlck1lc3NhZ2VFdmVudDxUPj47XG4gICAgICAgICAgaWYgKG1lc3NhZ2VFdmVudC5kYXRhLmV2ZW50SWQgIT09IGV2ZW50SWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoIChtZXNzYWdlRXZlbnQuZGF0YS5zdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgX1N0YXR1cy5BQ0s6XG4gICAgICAgICAgICAgIC8vIFRoZSByZWNlaXZlciBzaG91bGQgQUNLIGZpcnN0LlxuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoYWNrVGltZXIpO1xuICAgICAgICAgICAgICBjb21wbGV0aW9uVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKF9NZXNzYWdlRXJyb3IuVElNRU9VVCkpO1xuICAgICAgICAgICAgICB9LCBfVGltZW91dER1cmF0aW9uLkNPTVBMRVRJT04pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgX1N0YXR1cy5ET05FOlxuICAgICAgICAgICAgICAvLyBPbmNlIHRoZSByZWNlaXZlcidzIGhhbmRsZXJzIGFyZSBmaW5pc2hlZCB3ZSB3aWxsIGdldCB0aGUgcmVzdWx0cy5cbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbXBsZXRpb25UaW1lcik7XG4gICAgICAgICAgICAgIHJlc29sdmUobWVzc2FnZUV2ZW50LmRhdGEucmVzcG9uc2UpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChhY2tUaW1lcik7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb21wbGV0aW9uVGltZXIpO1xuICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKF9NZXNzYWdlRXJyb3IuSU5WQUxJRF9SRVNQT05TRSkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLmhhbmRsZXJzLmFkZChoYW5kbGVyKTtcbiAgICAgIG1lc3NhZ2VDaGFubmVsLnBvcnQxLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVyLm9uTWVzc2FnZSk7XG4gICAgICB0aGlzLnRhcmdldC5wb3N0TWVzc2FnZShcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50VHlwZSxcbiAgICAgICAgICBldmVudElkLFxuICAgICAgICAgIGRhdGFcbiAgICAgICAgfSBhcyBTZW5kZXJNZXNzYWdlRXZlbnQ8Uz4sXG4gICAgICAgIFttZXNzYWdlQ2hhbm5lbC5wb3J0Ml1cbiAgICAgICk7XG4gICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLnJlbW92ZU1lc3NhZ2VIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUmVjYXB0Y2hhLCBHcmVDQVBUQ0hBVG9wTGV2ZWwgfSBmcm9tICcuL3JlY2FwdGNoYS9yZWNhcHRjaGEnO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgd2luZG93IHR5cGUgdGhhdCBtZWxkcyB0aGUgbm9ybWFsIHdpbmRvdyB0eXBlIHBsdXMgdGhlXG4gKiB2YXJpb3VzIGJpdHMgd2UgbmVlZC4gVGhlIHRocmVlIGRpZmZlcmVudCBibG9ja3MgdGhhdCBhcmUgJidkIHRvZ2V0aGVyXG4gKiBjYW50IGJlIGRlZmluZWQgaW4gdGhlIHNhbWUgYmxvY2sgdG9nZXRoZXIuXG4gKi9cbmV4cG9ydCB0eXBlIEF1dGhXaW5kb3cgPSB7XG4gIC8vIFN0YW5kYXJkIHdpbmRvdyB0eXBlc1xuICBbVCBpbiBrZXlvZiBXaW5kb3ddOiBXaW5kb3dbVF07XG59ICYge1xuICAvLyBBbnkga25vd24gLyBuYW1lZCBwcm9wZXJ0aWVzIHdlIHdhbnQgdG8gYWRkXG4gIGdyZWNhcHRjaGE/OiBSZWNhcHRjaGEgfCBHcmVDQVBUQ0hBVG9wTGV2ZWw7XG4gIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4gIF9fX2pzbD86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIGdhcGk/OiB0eXBlb2YgZ2FwaTtcbn0gJiB7XG4gIC8vIEEgZmluYWwgY2F0Y2gtYWxsIGZvciBjYWxsYmFja3MgKHdoaWNoIHdpbGwgaGF2ZSByYW5kb20gbmFtZXMpIHRoYXRcbiAgLy8gd2Ugd2lsbCBzdGljayBvbiB0aGUgd2luZG93LlxuICBbY2FsbGJhY2s6IHN0cmluZ106ICguLi5hcmdzOiB1bmtub3duW10pID0+IHZvaWQ7XG59O1xuXG4vKipcbiAqIExhenkgYWNjZXNzb3IgZm9yIHdpbmRvdywgc2luY2UgdGhlIGNvbXBhdCBsYXllciB3b24ndCB0cmVlIHNoYWtlIHRoaXMgb3V0LFxuICogd2UgbmVlZCB0byBtYWtlIHN1cmUgbm90IHRvIG1lc3Mgd2l0aCB3aW5kb3cgdW5sZXNzIHdlIGhhdmUgdG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF93aW5kb3coKTogQXV0aFdpbmRvdyB7XG4gIHJldHVybiB3aW5kb3cgYXMgdW5rbm93biBhcyBBdXRoV2luZG93O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3NldFdpbmRvd0xvY2F0aW9uKHVybDogc3RyaW5nKTogdm9pZCB7XG4gIF93aW5kb3coKS5sb2NhdGlvbi5ocmVmID0gdXJsO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBfd2luZG93IH0gZnJvbSAnLi4vYXV0aF93aW5kb3cnO1xuXG5leHBvcnQgZnVuY3Rpb24gX2lzV29ya2VyKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBfd2luZG93KClbJ1dvcmtlckdsb2JhbFNjb3BlJ10gIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIF93aW5kb3coKVsnaW1wb3J0U2NyaXB0cyddID09PSAnZnVuY3Rpb24nXG4gICk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfZ2V0QWN0aXZlU2VydmljZVdvcmtlcigpOiBQcm9taXNlPFNlcnZpY2VXb3JrZXIgfCBudWxsPiB7XG4gIGlmICghbmF2aWdhdG9yPy5zZXJ2aWNlV29ya2VyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCByZWdpc3RyYXRpb24gPSBhd2FpdCBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeTtcbiAgICByZXR1cm4gcmVnaXN0cmF0aW9uLmFjdGl2ZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRTZXJ2aWNlV29ya2VyQ29udHJvbGxlcigpOiBTZXJ2aWNlV29ya2VyIHwgbnVsbCB7XG4gIHJldHVybiBuYXZpZ2F0b3I/LnNlcnZpY2VXb3JrZXI/LmNvbnRyb2xsZXIgfHwgbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRXb3JrZXJHbG9iYWxTY29wZSgpOiBTZXJ2aWNlV29ya2VyIHwgbnVsbCB7XG4gIHJldHVybiBfaXNXb3JrZXIoKSA/IChzZWxmIGFzIHVua25vd24gYXMgU2VydmljZVdvcmtlcikgOiBudWxsO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFBlcnNpc3RlbmNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7XG4gIFBlcnNpc3RlZEJsb2IsXG4gIFBlcnNpc3RlbmNlSW50ZXJuYWwgYXMgSW50ZXJuYWxQZXJzaXN0ZW5jZSxcbiAgUGVyc2lzdGVuY2VUeXBlLFxuICBQZXJzaXN0ZW5jZVZhbHVlLFxuICBTdG9yYWdlRXZlbnRMaXN0ZW5lcixcbiAgU1RPUkFHRV9BVkFJTEFCTEVfS0VZXG59IGZyb20gJy4uLy4uL2NvcmUvcGVyc2lzdGVuY2UvJztcbmltcG9ydCB7XG4gIF9FdmVudFR5cGUsXG4gIF9QaW5nUmVzcG9uc2UsXG4gIEtleUNoYW5nZWRSZXNwb25zZSxcbiAgS2V5Q2hhbmdlZFJlcXVlc3QsXG4gIFBpbmdSZXF1ZXN0LFxuICBfVGltZW91dER1cmF0aW9uXG59IGZyb20gJy4uL21lc3NhZ2VjaGFubmVsL2luZGV4JztcbmltcG9ydCB7IFJlY2VpdmVyIH0gZnJvbSAnLi4vbWVzc2FnZWNoYW5uZWwvcmVjZWl2ZXInO1xuaW1wb3J0IHsgU2VuZGVyIH0gZnJvbSAnLi4vbWVzc2FnZWNoYW5uZWwvc2VuZGVyJztcbmltcG9ydCB7XG4gIF9pc1dvcmtlcixcbiAgX2dldEFjdGl2ZVNlcnZpY2VXb3JrZXIsXG4gIF9nZXRTZXJ2aWNlV29ya2VyQ29udHJvbGxlcixcbiAgX2dldFdvcmtlckdsb2JhbFNjb3BlXG59IGZyb20gJy4uL3V0aWwvd29ya2VyJztcblxuZXhwb3J0IGNvbnN0IERCX05BTUUgPSAnZmlyZWJhc2VMb2NhbFN0b3JhZ2VEYic7XG5jb25zdCBEQl9WRVJTSU9OID0gMTtcbmNvbnN0IERCX09CSkVDVFNUT1JFX05BTUUgPSAnZmlyZWJhc2VMb2NhbFN0b3JhZ2UnO1xuY29uc3QgREJfREFUQV9LRVlQQVRIID0gJ2ZiYXNlX2tleSc7XG5cbmludGVyZmFjZSBEQk9iamVjdCB7XG4gIFtEQl9EQVRBX0tFWVBBVEhdOiBzdHJpbmc7XG4gIHZhbHVlOiBQZXJzaXN0ZWRCbG9iO1xufVxuXG4vKipcbiAqIFByb21pc2Ugd3JhcHBlciBmb3IgSURCUmVxdWVzdFxuICpcbiAqIFVuZm9ydHVuYXRlbHkgd2UgY2FuJ3QgY2xlYW5seSBleHRlbmQgUHJvbWlzZTxUPiBzaW5jZSBwcm9taXNlcyBhcmUgbm90IGNhbGxhYmxlIGluIEVTNlxuICpcbiAqL1xuY2xhc3MgREJQcm9taXNlPFQ+IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSByZXF1ZXN0OiBJREJSZXF1ZXN0KSB7fVxuXG4gIHRvUHJvbWlzZSgpOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8VD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUodGhpcy5yZXF1ZXN0LnJlc3VsdCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgcmVqZWN0KHRoaXMucmVxdWVzdC5lcnJvcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRPYmplY3RTdG9yZShkYjogSURCRGF0YWJhc2UsIGlzUmVhZFdyaXRlOiBib29sZWFuKTogSURCT2JqZWN0U3RvcmUge1xuICByZXR1cm4gZGJcbiAgICAudHJhbnNhY3Rpb24oW0RCX09CSkVDVFNUT1JFX05BTUVdLCBpc1JlYWRXcml0ZSA/ICdyZWFkd3JpdGUnIDogJ3JlYWRvbmx5JylcbiAgICAub2JqZWN0U3RvcmUoREJfT0JKRUNUU1RPUkVfTkFNRSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfY2xlYXJEYXRhYmFzZShkYjogSURCRGF0YWJhc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3Qgb2JqZWN0U3RvcmUgPSBnZXRPYmplY3RTdG9yZShkYiwgdHJ1ZSk7XG4gIHJldHVybiBuZXcgREJQcm9taXNlPHZvaWQ+KG9iamVjdFN0b3JlLmNsZWFyKCkpLnRvUHJvbWlzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2RlbGV0ZURhdGFiYXNlKCk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKERCX05BTUUpO1xuICByZXR1cm4gbmV3IERCUHJvbWlzZTx2b2lkPihyZXF1ZXN0KS50b1Byb21pc2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9vcGVuRGF0YWJhc2UoKTogUHJvbWlzZTxJREJEYXRhYmFzZT4ge1xuICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oREJfTkFNRSwgREJfVkVSU0lPTik7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICB9KTtcblxuICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigndXBncmFkZW5lZWRlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGRiID0gcmVxdWVzdC5yZXN1bHQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKERCX09CSkVDVFNUT1JFX05BTUUsIHsga2V5UGF0aDogREJfREFUQV9LRVlQQVRIIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkYjogSURCRGF0YWJhc2UgPSByZXF1ZXN0LnJlc3VsdDtcbiAgICAgIC8vIFN0cmFuZ2UgYnVnIHRoYXQgb2NjdXJzIGluIEZpcmVmb3ggd2hlbiBtdWx0aXBsZSB0YWJzIGFyZSBvcGVuZWQgYXQgdGhlXG4gICAgICAvLyBzYW1lIHRpbWUuIFRoZSBvbmx5IHdheSB0byByZWNvdmVyIHNlZW1zIHRvIGJlIGRlbGV0aW5nIHRoZSBkYXRhYmFzZVxuICAgICAgLy8gYW5kIHJlLWluaXRpYWxpemluZyBpdC5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvaXNzdWVzLzYzNFxuXG4gICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoREJfT0JKRUNUU1RPUkVfTkFNRSkpIHtcbiAgICAgICAgLy8gTmVlZCB0byBjbG9zZSB0aGUgZGF0YWJhc2Ugb3IgZWxzZSB5b3UgZ2V0IGEgYGJsb2NrZWRgIGV2ZW50XG4gICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgIGF3YWl0IF9kZWxldGVEYXRhYmFzZSgpO1xuICAgICAgICByZXNvbHZlKGF3YWl0IF9vcGVuRGF0YWJhc2UoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKGRiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfcHV0T2JqZWN0KFxuICBkYjogSURCRGF0YWJhc2UsXG4gIGtleTogc3RyaW5nLFxuICB2YWx1ZTogUGVyc2lzdGVuY2VWYWx1ZSB8IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHJlcXVlc3QgPSBnZXRPYmplY3RTdG9yZShkYiwgdHJ1ZSkucHV0KHtcbiAgICBbREJfREFUQV9LRVlQQVRIXToga2V5LFxuICAgIHZhbHVlXG4gIH0pO1xuICByZXR1cm4gbmV3IERCUHJvbWlzZTx2b2lkPihyZXF1ZXN0KS50b1Byb21pc2UoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0T2JqZWN0KFxuICBkYjogSURCRGF0YWJhc2UsXG4gIGtleTogc3RyaW5nXG4pOiBQcm9taXNlPFBlcnNpc3RlZEJsb2IgfCBudWxsPiB7XG4gIGNvbnN0IHJlcXVlc3QgPSBnZXRPYmplY3RTdG9yZShkYiwgZmFsc2UpLmdldChrZXkpO1xuICBjb25zdCBkYXRhID0gYXdhaXQgbmV3IERCUHJvbWlzZTxEQk9iamVjdCB8IHVuZGVmaW5lZD4ocmVxdWVzdCkudG9Qcm9taXNlKCk7XG4gIHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgPyBudWxsIDogZGF0YS52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9kZWxldGVPYmplY3QoZGI6IElEQkRhdGFiYXNlLCBrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCByZXF1ZXN0ID0gZ2V0T2JqZWN0U3RvcmUoZGIsIHRydWUpLmRlbGV0ZShrZXkpO1xuICByZXR1cm4gbmV3IERCUHJvbWlzZTx2b2lkPihyZXF1ZXN0KS50b1Byb21pc2UoKTtcbn1cblxuZXhwb3J0IGNvbnN0IF9QT0xMSU5HX0lOVEVSVkFMX01TID0gODAwO1xuZXhwb3J0IGNvbnN0IF9UUkFOU0FDVElPTl9SRVRSWV9DT1VOVCA9IDM7XG5cbmNsYXNzIEluZGV4ZWREQkxvY2FsUGVyc2lzdGVuY2UgaW1wbGVtZW50cyBJbnRlcm5hbFBlcnNpc3RlbmNlIHtcbiAgc3RhdGljIHR5cGU6ICdMT0NBTCcgPSAnTE9DQUwnO1xuXG4gIHR5cGUgPSBQZXJzaXN0ZW5jZVR5cGUuTE9DQUw7XG4gIGRiPzogSURCRGF0YWJhc2U7XG4gIHJlYWRvbmx5IF9zaG91bGRBbGxvd01pZ3JhdGlvbiA9IHRydWU7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBsaXN0ZW5lcnM6IFJlY29yZDxzdHJpbmcsIFNldDxTdG9yYWdlRXZlbnRMaXN0ZW5lcj4+ID0ge307XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9jYWxDYWNoZTogUmVjb3JkPHN0cmluZywgUGVyc2lzdGVuY2VWYWx1ZSB8IG51bGw+ID0ge307XG4gIC8vIHNldFRpbWVvdXQgcmV0dXJuIHZhbHVlIGlzIHBsYXRmb3JtIHNwZWNpZmljXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHByaXZhdGUgcG9sbFRpbWVyOiBhbnkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBwZW5kaW5nV3JpdGVzID0gMDtcblxuICBwcml2YXRlIHJlY2VpdmVyOiBSZWNlaXZlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHNlbmRlcjogU2VuZGVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgc2VydmljZVdvcmtlclJlY2VpdmVyQXZhaWxhYmxlID0gZmFsc2U7XG4gIHByaXZhdGUgYWN0aXZlU2VydmljZVdvcmtlcjogU2VydmljZVdvcmtlciB8IG51bGwgPSBudWxsO1xuICAvLyBWaXNpYmxlIGZvciB0ZXN0aW5nIG9ubHlcbiAgcmVhZG9ubHkgX3dvcmtlckluaXRpYWxpemF0aW9uUHJvbWlzZTogUHJvbWlzZTx2b2lkPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBGaXJlICYgZm9yZ2V0IHRoZSBzZXJ2aWNlIHdvcmtlciByZWdpc3RyYXRpb24gYXMgaXQgbWF5IG5ldmVyIHJlc29sdmVcbiAgICB0aGlzLl93b3JrZXJJbml0aWFsaXphdGlvblByb21pc2UgPVxuICAgICAgdGhpcy5pbml0aWFsaXplU2VydmljZVdvcmtlck1lc3NhZ2luZygpLnRoZW4oXG4gICAgICAgICgpID0+IHt9LFxuICAgICAgICAoKSA9PiB7fVxuICAgICAgKTtcbiAgfVxuXG4gIGFzeW5jIF9vcGVuRGIoKTogUHJvbWlzZTxJREJEYXRhYmFzZT4ge1xuICAgIGlmICh0aGlzLmRiKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYjtcbiAgICB9XG4gICAgdGhpcy5kYiA9IGF3YWl0IF9vcGVuRGF0YWJhc2UoKTtcbiAgICByZXR1cm4gdGhpcy5kYjtcbiAgfVxuXG4gIGFzeW5jIF93aXRoUmV0cmllczxUPihvcDogKGRiOiBJREJEYXRhYmFzZSkgPT4gUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xuICAgIGxldCBudW1BdHRlbXB0cyA9IDA7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLl9vcGVuRGIoKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IG9wKGRiKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKG51bUF0dGVtcHRzKysgPiBfVFJBTlNBQ1RJT05fUkVUUllfQ09VTlQpIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRiKSB7XG4gICAgICAgICAgdGhpcy5kYi5jbG9zZSgpO1xuICAgICAgICAgIHRoaXMuZGIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogY29uc2lkZXIgYWRkaW5nIGV4cG9uZW50aWFsIGJhY2tvZmZcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5kZXhlZERCIGV2ZW50cyBkbyBub3QgcHJvcGFnYXRlIGZyb20gdGhlIG1haW4gd2luZG93IHRvIHRoZSB3b3JrZXIgY29udGV4dC4gIFdlIHJlbHkgb24gYVxuICAgKiBwb3N0TWVzc2FnZSBpbnRlcmZhY2UgdG8gc2VuZCB0aGVzZSBldmVudHMgdG8gdGhlIHdvcmtlciBvdXJzZWx2ZXMuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVTZXJ2aWNlV29ya2VyTWVzc2FnaW5nKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBfaXNXb3JrZXIoKSA/IHRoaXMuaW5pdGlhbGl6ZVJlY2VpdmVyKCkgOiB0aGlzLmluaXRpYWxpemVTZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcyB0aGUgd29ya2VyIHdlIHNob3VsZCBsaXN0ZW4gdG8gZXZlbnRzIGZyb20gdGhlIG1haW4gd2luZG93LlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplUmVjZWl2ZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5yZWNlaXZlciA9IFJlY2VpdmVyLl9nZXRJbnN0YW5jZShfZ2V0V29ya2VyR2xvYmFsU2NvcGUoKSEpO1xuICAgIC8vIFJlZnJlc2ggZnJvbSBwZXJzaXN0ZW5jZSBpZiB3ZSByZWNlaXZlIGEgS2V5Q2hhbmdlZCBtZXNzYWdlLlxuICAgIHRoaXMucmVjZWl2ZXIuX3N1YnNjcmliZShcbiAgICAgIF9FdmVudFR5cGUuS0VZX0NIQU5HRUQsXG4gICAgICBhc3luYyAoX29yaWdpbjogc3RyaW5nLCBkYXRhOiBLZXlDaGFuZ2VkUmVxdWVzdCkgPT4ge1xuICAgICAgICBjb25zdCBrZXlzID0gYXdhaXQgdGhpcy5fcG9sbCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtleVByb2Nlc3NlZDoga2V5cy5pbmNsdWRlcyhkYXRhLmtleSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICApO1xuICAgIC8vIExldCB0aGUgc2VuZGVyIGtub3cgdGhhdCB3ZSBhcmUgbGlzdGVuaW5nIHNvIHRoZXkgZ2l2ZSB1cyBtb3JlIHRpbWVvdXQuXG4gICAgdGhpcy5yZWNlaXZlci5fc3Vic2NyaWJlKFxuICAgICAgX0V2ZW50VHlwZS5QSU5HLFxuICAgICAgYXN5bmMgKF9vcmlnaW46IHN0cmluZywgX2RhdGE6IFBpbmdSZXF1ZXN0KSA9PiB7XG4gICAgICAgIHJldHVybiBbX0V2ZW50VHlwZS5LRVlfQ0hBTkdFRF07XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcyB0aGUgbWFpbiB3aW5kb3csIHdlIHNob3VsZCBsZXQgdGhlIHdvcmtlciBrbm93IHdoZW4ga2V5cyBjaGFuZ2UgKHNldCBhbmQgcmVtb3ZlKS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TZXJ2aWNlV29ya2VyQ29udGFpbmVyL3JlYWR5IHwgU2VydmljZVdvcmtlckNvbnRhaW5lci5yZWFkeX1cbiAgICogbWF5IG5vdCByZXNvbHZlLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplU2VuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGVyZSdzIGFuIGFjdGl2ZSBzZXJ2aWNlIHdvcmtlci5cbiAgICB0aGlzLmFjdGl2ZVNlcnZpY2VXb3JrZXIgPSBhd2FpdCBfZ2V0QWN0aXZlU2VydmljZVdvcmtlcigpO1xuICAgIGlmICghdGhpcy5hY3RpdmVTZXJ2aWNlV29ya2VyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2VuZGVyID0gbmV3IFNlbmRlcih0aGlzLmFjdGl2ZVNlcnZpY2VXb3JrZXIpO1xuICAgIC8vIFBpbmcgdGhlIHNlcnZpY2Ugd29ya2VyIHRvIGNoZWNrIHdoYXQgZXZlbnRzIHRoZXkgY2FuIGhhbmRsZS5cbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5zZW5kZXIuX3NlbmQ8X1BpbmdSZXNwb25zZSwgUGluZ1JlcXVlc3Q+KFxuICAgICAgX0V2ZW50VHlwZS5QSU5HLFxuICAgICAge30sXG4gICAgICBfVGltZW91dER1cmF0aW9uLkxPTkdfQUNLXG4gICAgKTtcbiAgICBpZiAoIXJlc3VsdHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcmVzdWx0c1swXT8uZnVsZmlsbGVkICYmXG4gICAgICByZXN1bHRzWzBdPy52YWx1ZS5pbmNsdWRlcyhfRXZlbnRUeXBlLktFWV9DSEFOR0VEKVxuICAgICkge1xuICAgICAgdGhpcy5zZXJ2aWNlV29ya2VyUmVjZWl2ZXJBdmFpbGFibGUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMZXQgdGhlIHdvcmtlciBrbm93IGFib3V0IGEgY2hhbmdlZCBrZXksIHRoZSBleGFjdCBrZXkgZG9lc24ndCB0ZWNobmljYWxseSBtYXR0ZXIgc2luY2UgdGhlXG4gICAqIHdvcmtlciB3aWxsIGp1c3QgdHJpZ2dlciBhIGZ1bGwgc3luYyBhbnl3YXkuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIEZvciBub3csIHdlIG9ubHkgc3VwcG9ydCBvbmUgc2VydmljZSB3b3JrZXIgcGVyIHBhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgLSBTdG9yYWdlIGtleSB3aGljaCBjaGFuZ2VkLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBub3RpZnlTZXJ2aWNlV29ya2VyKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuc2VuZGVyIHx8XG4gICAgICAhdGhpcy5hY3RpdmVTZXJ2aWNlV29ya2VyIHx8XG4gICAgICBfZ2V0U2VydmljZVdvcmtlckNvbnRyb2xsZXIoKSAhPT0gdGhpcy5hY3RpdmVTZXJ2aWNlV29ya2VyXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnNlbmRlci5fc2VuZDxLZXlDaGFuZ2VkUmVzcG9uc2UsIEtleUNoYW5nZWRSZXF1ZXN0PihcbiAgICAgICAgX0V2ZW50VHlwZS5LRVlfQ0hBTkdFRCxcbiAgICAgICAgeyBrZXkgfSxcbiAgICAgICAgLy8gVXNlIGxvbmcgdGltZW91dCBpZiByZWNlaXZlciBoYXMgcHJldmlvdXNseSByZXNwb25kZWQgdG8gYSBwaW5nIGZyb20gdXMuXG4gICAgICAgIHRoaXMuc2VydmljZVdvcmtlclJlY2VpdmVyQXZhaWxhYmxlXG4gICAgICAgICAgPyBfVGltZW91dER1cmF0aW9uLkxPTkdfQUNLXG4gICAgICAgICAgOiBfVGltZW91dER1cmF0aW9uLkFDS1xuICAgICAgKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBiZXN0IGVmZm9ydCBhcHByb2FjaC4gSWdub3JlIGVycm9ycy5cbiAgICB9XG4gIH1cblxuICBhc3luYyBfaXNBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghaW5kZXhlZERCKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRiID0gYXdhaXQgX29wZW5EYXRhYmFzZSgpO1xuICAgICAgYXdhaXQgX3B1dE9iamVjdChkYiwgU1RPUkFHRV9BVkFJTEFCTEVfS0VZLCAnMScpO1xuICAgICAgYXdhaXQgX2RlbGV0ZU9iamVjdChkYiwgU1RPUkFHRV9BVkFJTEFCTEVfS0VZKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2gge31cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF93aXRoUGVuZGluZ1dyaXRlKHdyaXRlOiAoKSA9PiBQcm9taXNlPHZvaWQ+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5wZW5kaW5nV3JpdGVzKys7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHdyaXRlKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMucGVuZGluZ1dyaXRlcy0tO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9zZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBQZXJzaXN0ZW5jZVZhbHVlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuX3dpdGhQZW5kaW5nV3JpdGUoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5fd2l0aFJldHJpZXMoKGRiOiBJREJEYXRhYmFzZSkgPT4gX3B1dE9iamVjdChkYiwga2V5LCB2YWx1ZSkpO1xuICAgICAgdGhpcy5sb2NhbENhY2hlW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzLm5vdGlmeVNlcnZpY2VXb3JrZXIoa2V5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIF9nZXQ8VCBleHRlbmRzIFBlcnNpc3RlbmNlVmFsdWU+KGtleTogc3RyaW5nKTogUHJvbWlzZTxUIHwgbnVsbD4ge1xuICAgIGNvbnN0IG9iaiA9IChhd2FpdCB0aGlzLl93aXRoUmV0cmllcygoZGI6IElEQkRhdGFiYXNlKSA9PlxuICAgICAgZ2V0T2JqZWN0KGRiLCBrZXkpXG4gICAgKSkgYXMgVDtcbiAgICB0aGlzLmxvY2FsQ2FjaGVba2V5XSA9IG9iajtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgYXN5bmMgX3JlbW92ZShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLl93aXRoUGVuZGluZ1dyaXRlKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuX3dpdGhSZXRyaWVzKChkYjogSURCRGF0YWJhc2UpID0+IF9kZWxldGVPYmplY3QoZGIsIGtleSkpO1xuICAgICAgZGVsZXRlIHRoaXMubG9jYWxDYWNoZVtrZXldO1xuICAgICAgcmV0dXJuIHRoaXMubm90aWZ5U2VydmljZVdvcmtlcihrZXkpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfcG9sbCgpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgLy8gVE9ETzogY2hlY2sgaWYgd2UgbmVlZCB0byBmYWxsYmFjayBpZiBnZXRBbGwgaXMgbm90IHN1cHBvcnRlZFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX3dpdGhSZXRyaWVzKChkYjogSURCRGF0YWJhc2UpID0+IHtcbiAgICAgIGNvbnN0IGdldEFsbFJlcXVlc3QgPSBnZXRPYmplY3RTdG9yZShkYiwgZmFsc2UpLmdldEFsbCgpO1xuICAgICAgcmV0dXJuIG5ldyBEQlByb21pc2U8REJPYmplY3RbXSB8IG51bGw+KGdldEFsbFJlcXVlc3QpLnRvUHJvbWlzZSgpO1xuICAgIH0pO1xuXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBoYXZlIHBlbmRpbmcgd3JpdGVzIGluIHByb2dyZXNzIGFib3J0LCB3ZSdsbCBnZXQgcGlja2VkIHVwIG9uIHRoZSBuZXh0IHBvbGxcbiAgICBpZiAodGhpcy5wZW5kaW5nV3JpdGVzICE9PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGNvbnN0IGtleXNJblJlc3VsdCA9IG5ldyBTZXQoKTtcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgZm9yIChjb25zdCB7IGZiYXNlX2tleToga2V5LCB2YWx1ZSB9IG9mIHJlc3VsdCkge1xuICAgICAgICBrZXlzSW5SZXN1bHQuYWRkKGtleSk7XG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh0aGlzLmxvY2FsQ2FjaGVba2V5XSkgIT09IEpTT04uc3RyaW5naWZ5KHZhbHVlKSkge1xuICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKGtleSwgdmFsdWUgYXMgUGVyc2lzdGVuY2VWYWx1ZSk7XG4gICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGxvY2FsS2V5IG9mIE9iamVjdC5rZXlzKHRoaXMubG9jYWxDYWNoZSkpIHtcbiAgICAgIGlmICh0aGlzLmxvY2FsQ2FjaGVbbG9jYWxLZXldICYmICFrZXlzSW5SZXN1bHQuaGFzKGxvY2FsS2V5KSkge1xuICAgICAgICAvLyBEZWxldGVkXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKGxvY2FsS2V5LCBudWxsKTtcbiAgICAgICAga2V5cy5wdXNoKGxvY2FsS2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleXM7XG4gIH1cblxuICBwcml2YXRlIG5vdGlmeUxpc3RlbmVycyhcbiAgICBrZXk6IHN0cmluZyxcbiAgICBuZXdWYWx1ZTogUGVyc2lzdGVuY2VWYWx1ZSB8IG51bGxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5sb2NhbENhY2hlW2tleV0gPSBuZXdWYWx1ZTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVyc1trZXldO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgQXJyYXkuZnJvbShsaXN0ZW5lcnMpKSB7XG4gICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXJ0UG9sbGluZygpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XG5cbiAgICB0aGlzLnBvbGxUaW1lciA9IHNldEludGVydmFsKFxuICAgICAgYXN5bmMgKCkgPT4gdGhpcy5fcG9sbCgpLFxuICAgICAgX1BPTExJTkdfSU5URVJWQUxfTVNcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdG9wUG9sbGluZygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wb2xsVGltZXIpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wb2xsVGltZXIpO1xuICAgICAgdGhpcy5wb2xsVGltZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIF9hZGRMaXN0ZW5lcihrZXk6IHN0cmluZywgbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5saXN0ZW5lcnNba2V5XSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IG5ldyBTZXQoKTtcbiAgICAgIC8vIFBvcHVsYXRlIHRoZSBjYWNoZSB0byBhdm9pZCBzcHVyaW91c2x5IHRyaWdnZXJpbmcgb24gZmlyc3QgcG9sbC5cbiAgICAgIHZvaWQgdGhpcy5fZ2V0KGtleSk7IC8vIFRoaXMgY2FuIGhhcHBlbiBpbiB0aGUgYmFja2dyb3VuZCBhc3luYyBhbmQgd2UgY2FuIHJldHVybiBpbW1lZGlhdGVseS5cbiAgICB9XG4gICAgdGhpcy5saXN0ZW5lcnNba2V5XS5hZGQobGlzdGVuZXIpO1xuICB9XG5cbiAgX3JlbW92ZUxpc3RlbmVyKGtleTogc3RyaW5nLCBsaXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5saXN0ZW5lcnNba2V5XSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XS5kZWxldGUobGlzdGVuZXIpO1xuXG4gICAgICBpZiAodGhpcy5saXN0ZW5lcnNba2V5XS5zaXplID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIFBlcnNpc3RlbmNlfSBvZiB0eXBlIGBMT0NBTGAgdXNpbmcgYGluZGV4ZWREQmBcbiAqIGZvciB0aGUgdW5kZXJseWluZyBzdG9yYWdlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGluZGV4ZWREQkxvY2FsUGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlID0gSW5kZXhlZERCTG9jYWxQZXJzaXN0ZW5jZTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBfcGVyZm9ybUFwaVJlcXVlc3QsXG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBfYWRkVGlkSWZOZWNlc3Nhcnlcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBNZmFFbnJvbGxtZW50IH0gZnJvbSAnLi4vYWNjb3VudF9tYW5hZ2VtZW50L21mYSc7XG5pbXBvcnQgeyBTaWduSW5XaXRoSWRwUmVzcG9uc2UgfSBmcm9tICcuL2lkcCc7XG5pbXBvcnQge1xuICBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0LFxuICBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZVxufSBmcm9tICcuL3Ntcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxpemVNZmFSZXNwb25zZSB7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSWRUb2tlbk1mYVJlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHtcbiAgbWZhUGVuZGluZ0NyZWRlbnRpYWw/OiBzdHJpbmc7XG4gIG1mYUluZm8/OiBNZmFFbnJvbGxtZW50W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRQaG9uZU1mYVNpZ25JblJlcXVlc3Qge1xuICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogc3RyaW5nO1xuICBtZmFFbnJvbGxtZW50SWQ6IHN0cmluZztcbiAgcGhvbmVTaWduSW5JbmZvOiB7XG4gICAgcmVjYXB0Y2hhVG9rZW46IHN0cmluZztcbiAgfTtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRQaG9uZU1mYVNpZ25JblJlc3BvbnNlIHtcbiAgcGhvbmVSZXNwb25zZUluZm86IHtcbiAgICBzZXNzaW9uSW5mbzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRTaWduSW5QaG9uZU1mYShcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU3RhcnRQaG9uZU1mYVNpZ25JblJlcXVlc3Rcbik6IFByb21pc2U8U3RhcnRQaG9uZU1mYVNpZ25JblJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgU3RhcnRQaG9uZU1mYVNpZ25JblJlcXVlc3QsXG4gICAgU3RhcnRQaG9uZU1mYVNpZ25JblJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU1RBUlRfTUZBX1NJR05fSU4sXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxpemVQaG9uZU1mYVNpZ25JblJlcXVlc3Qge1xuICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogc3RyaW5nO1xuICBwaG9uZVZlcmlmaWNhdGlvbkluZm86IFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3Q7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG4vLyBUT1RQIE1GQSBTaWduIGluIG9ubHkgaGFzIGEgZmluYWxpemUgcGhhc2UuIFBob25lIE1GQSBoYXMgYSBzdGFydCBwaGFzZSB0byBpbml0aWF0ZSBzZW5kaW5nIGFuXG4vLyBTTVMgYW5kIGEgZmluYWxpemUgcGhhc2UgdG8gY29tcGxldGUgc2lnbiBpbi4gV2l0aCBUT1RQLCB0aGUgdXNlciBhbHJlYWR5IGhhcyB0aGUgT1RQIGluIHRoZVxuLy8gVE9UUC9BdXRoZW50aWNhdG9yIGFwcC5cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxpemVUb3RwTWZhU2lnbkluUmVxdWVzdCB7XG4gIG1mYVBlbmRpbmdDcmVkZW50aWFsOiBzdHJpbmc7XG4gIHRvdHBWZXJpZmljYXRpb25JbmZvOiB7IHZlcmlmaWNhdGlvbkNvZGU6IHN0cmluZyB9O1xuICB0ZW5hbnRJZD86IHN0cmluZztcbiAgbWZhRW5yb2xsbWVudElkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxpemVQaG9uZU1mYVNpZ25JblJlc3BvbnNlIGV4dGVuZHMgRmluYWxpemVNZmFSZXNwb25zZSB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmFsaXplVG90cE1mYVNpZ25JblJlc3BvbnNlIGV4dGVuZHMgRmluYWxpemVNZmFSZXNwb25zZSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVTaWduSW5QaG9uZU1mYShcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogRmluYWxpemVQaG9uZU1mYVNpZ25JblJlcXVlc3Rcbik6IFByb21pc2U8RmluYWxpemVQaG9uZU1mYVNpZ25JblJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgRmluYWxpemVQaG9uZU1mYVNpZ25JblJlcXVlc3QsXG4gICAgRmluYWxpemVQaG9uZU1mYVNpZ25JblJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuRklOQUxJWkVfTUZBX1NJR05fSU4sXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5hbGl6ZVNpZ25JblRvdHBNZmEoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEZpbmFsaXplVG90cE1mYVNpZ25JblJlcXVlc3Rcbik6IFByb21pc2U8RmluYWxpemVUb3RwTWZhU2lnbkluUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBGaW5hbGl6ZVRvdHBNZmFTaWduSW5SZXF1ZXN0LFxuICAgIEZpbmFsaXplVG90cE1mYVNpZ25JblJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuRklOQUxJWkVfTUZBX1NJR05fSU4sXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCB0eXBlIFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2UgPVxuICB8IFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlXG4gIHwgU2lnbkluV2l0aElkcFJlc3BvbnNlXG4gIHwgSWRUb2tlblJlc3BvbnNlO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IFJlY2FwdGNoYVBhcmFtZXRlcnMgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHtcbiAgUmVjYXB0Y2hhLFxuICBHcmVDQVBUQ0hBVG9wTGV2ZWwsXG4gIEdyZUNBUFRDSEFSZW5kZXJPcHRpb24sXG4gIEdyZUNBUFRDSEFcbn0gZnJvbSAnLi9yZWNhcHRjaGEnO1xuXG5leHBvcnQgY29uc3QgX1NPTFZFX1RJTUVfTVMgPSA1MDA7XG5leHBvcnQgY29uc3QgX0VYUElSQVRJT05fVElNRV9NUyA9IDYwXzAwMDtcbmV4cG9ydCBjb25zdCBfV0lER0VUX0lEX1NUQVJUID0gMV8wMDBfMDAwXzAwMF8wMDA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2lkZ2V0IHtcbiAgZ2V0UmVzcG9uc2U6ICgpID0+IHN0cmluZyB8IG51bGw7XG4gIGRlbGV0ZTogKCkgPT4gdm9pZDtcbiAgZXhlY3V0ZTogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIE1vY2tSZUNhcHRjaGEgaW1wbGVtZW50cyBSZWNhcHRjaGEge1xuICBwcml2YXRlIGNvdW50ZXIgPSBfV0lER0VUX0lEX1NUQVJUO1xuICBfd2lkZ2V0cyA9IG5ldyBNYXA8bnVtYmVyLCBXaWRnZXQ+KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWwpIHt9XG5cbiAgcmVuZGVyKFxuICAgIGNvbnRhaW5lcjogc3RyaW5nIHwgSFRNTEVsZW1lbnQsXG4gICAgcGFyYW1ldGVycz86IFJlY2FwdGNoYVBhcmFtZXRlcnNcbiAgKTogbnVtYmVyIHtcbiAgICBjb25zdCBpZCA9IHRoaXMuY291bnRlcjtcbiAgICB0aGlzLl93aWRnZXRzLnNldChcbiAgICAgIGlkLFxuICAgICAgbmV3IE1vY2tXaWRnZXQoY29udGFpbmVyLCB0aGlzLmF1dGgubmFtZSwgcGFyYW1ldGVycyB8fCB7fSlcbiAgICApO1xuICAgIHRoaXMuY291bnRlcisrO1xuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIHJlc2V0KG9wdFdpZGdldElkPzogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgaWQgPSBvcHRXaWRnZXRJZCB8fCBfV0lER0VUX0lEX1NUQVJUO1xuICAgIHZvaWQgdGhpcy5fd2lkZ2V0cy5nZXQoaWQpPy5kZWxldGUoKTtcbiAgICB0aGlzLl93aWRnZXRzLmRlbGV0ZShpZCk7XG4gIH1cblxuICBnZXRSZXNwb25zZShvcHRXaWRnZXRJZD86IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3QgaWQgPSBvcHRXaWRnZXRJZCB8fCBfV0lER0VUX0lEX1NUQVJUO1xuICAgIHJldHVybiB0aGlzLl93aWRnZXRzLmdldChpZCk/LmdldFJlc3BvbnNlKCkgfHwgJyc7XG4gIH1cblxuICBhc3luYyBleGVjdXRlKG9wdFdpZGdldElkPzogbnVtYmVyIHwgc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCBpZDogbnVtYmVyID0gKG9wdFdpZGdldElkIGFzIG51bWJlcikgfHwgX1dJREdFVF9JRF9TVEFSVDtcbiAgICB2b2lkIHRoaXMuX3dpZGdldHMuZ2V0KGlkKT8uZXhlY3V0ZSgpO1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9ja0dyZUNBUFRDSEFUb3BMZXZlbCBpbXBsZW1lbnRzIEdyZUNBUFRDSEFUb3BMZXZlbCB7XG4gIGVudGVycHJpc2U6IEdyZUNBUFRDSEEgPSBuZXcgTW9ja0dyZUNBUFRDSEEoKTtcbiAgcmVhZHkoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG5cbiAgZXhlY3V0ZShcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgX3NpdGVLZXk6IHN0cmluZyxcbiAgICBfb3B0aW9uczogeyBhY3Rpb246IHN0cmluZyB9XG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgndG9rZW4nKTtcbiAgfVxuICByZW5kZXIoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIF9jb250YWluZXI6IHN0cmluZyB8IEhUTUxFbGVtZW50LFxuICAgIF9wYXJhbWV0ZXJzOiBHcmVDQVBUQ0hBUmVuZGVyT3B0aW9uXG4gICk6IHN0cmluZyB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2NrR3JlQ0FQVENIQSBpbXBsZW1lbnRzIEdyZUNBUFRDSEEge1xuICByZWFkeShjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cblxuICBleGVjdXRlKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBfc2l0ZUtleTogc3RyaW5nLFxuICAgIF9vcHRpb25zOiB7IGFjdGlvbjogc3RyaW5nIH1cbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCd0b2tlbicpO1xuICB9XG4gIHJlbmRlcihcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgX2NvbnRhaW5lcjogc3RyaW5nIHwgSFRNTEVsZW1lbnQsXG4gICAgX3BhcmFtZXRlcnM6IEdyZUNBUFRDSEFSZW5kZXJPcHRpb25cbiAgKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vY2tXaWRnZXQge1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgaXNWaXNpYmxlOiBib29sZWFuO1xuICBwcml2YXRlIHRpbWVySWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGRlbGV0ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSByZXNwb25zZVRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBjbGlja0hhbmRsZXIgPSAoKTogdm9pZCA9PiB7XG4gICAgdGhpcy5leGVjdXRlKCk7XG4gIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29udGFpbmVyT3JJZDogc3RyaW5nIHwgSFRNTEVsZW1lbnQsXG4gICAgYXBwTmFtZTogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFyYW1zOiBSZWNhcHRjaGFQYXJhbWV0ZXJzXG4gICkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9XG4gICAgICB0eXBlb2YgY29udGFpbmVyT3JJZCA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJPcklkKVxuICAgICAgICA6IGNvbnRhaW5lck9ySWQ7XG4gICAgX2Fzc2VydChjb250YWluZXIsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IsIHsgYXBwTmFtZSB9KTtcblxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuaXNWaXNpYmxlID0gdGhpcy5wYXJhbXMuc2l6ZSAhPT0gJ2ludmlzaWJsZSc7XG4gICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlcik7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVzcG9uc2UoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgdGhpcy5jaGVja0lmRGVsZXRlZCgpO1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlVG9rZW47XG4gIH1cblxuICBkZWxldGUoKTogdm9pZCB7XG4gICAgdGhpcy5jaGVja0lmRGVsZXRlZCgpO1xuICAgIHRoaXMuZGVsZXRlZCA9IHRydWU7XG4gICAgaWYgKHRoaXMudGltZXJJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgICB0aGlzLnRpbWVySWQgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyKTtcbiAgfVxuXG4gIGV4ZWN1dGUoKTogdm9pZCB7XG4gICAgdGhpcy5jaGVja0lmRGVsZXRlZCgpO1xuICAgIGlmICh0aGlzLnRpbWVySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnRpbWVySWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnJlc3BvbnNlVG9rZW4gPSBnZW5lcmF0ZVJhbmRvbUFscGhhTnVtZXJpY1N0cmluZyg1MCk7XG4gICAgICBjb25zdCB7IGNhbGxiYWNrLCAnZXhwaXJlZC1jYWxsYmFjayc6IGV4cGlyZWRDYWxsYmFjayB9ID0gdGhpcy5wYXJhbXM7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjYWxsYmFjayh0aGlzLnJlc3BvbnNlVG9rZW4pO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuXG4gICAgICB0aGlzLnRpbWVySWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMudGltZXJJZCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzcG9uc2VUb2tlbiA9IG51bGw7XG4gICAgICAgIGlmIChleHBpcmVkQ2FsbGJhY2spIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXhwaXJlZENhbGxiYWNrKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgICAgIHRoaXMuZXhlY3V0ZSgpO1xuICAgICAgICB9XG4gICAgICB9LCBfRVhQSVJBVElPTl9USU1FX01TKTtcbiAgICB9LCBfU09MVkVfVElNRV9NUyk7XG4gIH1cblxuICBwcml2YXRlIGNoZWNrSWZEZWxldGVkKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmRlbGV0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVDQVBUQ0hBIG1vY2sgd2FzIGFscmVhZHkgZGVsZXRlZCEnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21BbHBoYU51bWVyaWNTdHJpbmcobGVuOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBjaGFycyA9IFtdO1xuICBjb25zdCBhbGxvd2VkQ2hhcnMgPVxuICAgICcxMjM0NTY3ODkwYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWic7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjaGFycy5wdXNoKFxuICAgICAgYWxsb3dlZENoYXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhbGxvd2VkQ2hhcnMubGVuZ3RoKSlcbiAgICApO1xuICB9XG4gIHJldHVybiBjaGFycy5qb2luKCcnKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBxdWVyeXN0cmluZyB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQsIF9jcmVhdGVFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgRGVsYXkgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvZGVsYXknO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBfd2luZG93IH0gZnJvbSAnLi4vYXV0aF93aW5kb3cnO1xuaW1wb3J0ICogYXMganNIZWxwZXJzIGZyb20gJy4uL2xvYWRfanMnO1xuaW1wb3J0IHsgUmVjYXB0Y2hhLCBpc1YyIH0gZnJvbSAnLi9yZWNhcHRjaGEnO1xuaW1wb3J0IHsgTW9ja1JlQ2FwdGNoYSB9IGZyb20gJy4vcmVjYXB0Y2hhX21vY2snO1xuXG4vLyBSZUNhcHRjaGEgd2lsbCBsb2FkIHVzaW5nIHRoZSBzYW1lIGNhbGxiYWNrLCBzbyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gbmVlZHNcbi8vIHRvIGJlIGtlcHQgYXJvdW5kXG5leHBvcnQgY29uc3QgX0pTTE9BRF9DQUxMQkFDSyA9IGpzSGVscGVycy5fZ2VuZXJhdGVDYWxsYmFja05hbWUoJ3JjYicpO1xuY29uc3QgTkVUV09SS19USU1FT1VUX0RFTEFZID0gbmV3IERlbGF5KDMwMDAwLCA2MDAwMCk7XG5cbi8qKlxuICogV2UgbmVlZCB0byBtYXJrIHRoaXMgaW50ZXJmYWNlIGFzIGludGVybmFsIGV4cGxpY2l0bHkgdG8gZXhjbHVkZSBpdCBpbiB0aGUgcHVibGljIHR5cGluZ3MsIGJlY2F1c2VcbiAqIGl0IHJlZmVyZW5jZXMgQXV0aEludGVybmFsIHdoaWNoIGhhcyBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgd2l0aCBVc2VySW50ZXJuYWwuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVDYXB0Y2hhTG9hZGVyIHtcbiAgbG9hZChhdXRoOiBBdXRoSW50ZXJuYWwsIGhsPzogc3RyaW5nKTogUHJvbWlzZTxSZWNhcHRjaGE+O1xuICBjbGVhcmVkT25lSW5zdGFuY2UoKTogdm9pZDtcbn1cblxuLyoqXG4gKiBMb2FkZXIgZm9yIHRoZSBHUmVDYXB0Y2hhIGxpYnJhcnkuIFRoZXJlIHNob3VsZCBvbmx5IGV2ZXIgYmUgb25lIG9mIHRoaXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZUNhcHRjaGFMb2FkZXJJbXBsIGltcGxlbWVudHMgUmVDYXB0Y2hhTG9hZGVyIHtcbiAgcHJpdmF0ZSBob3N0TGFuZ3VhZ2UgPSAnJztcbiAgcHJpdmF0ZSBjb3VudGVyID0gMDtcbiAgLyoqXG4gICAqIENoZWNrIGZvciBgcmVuZGVyKClgIG1ldGhvZC4gYHdpbmRvdy5ncmVjYXB0Y2hhYCB3aWxsIGV4aXN0IGlmIHRoZSBFbnRlcnByaXNlXG4gICAqIHZlcnNpb24gb2YgdGhlIFJlQ0FQVENIQSBzY3JpcHQgd2FzIGxvYWRlZCBieSBzb21lb25lIGVsc2UgKGUuZy4gQXBwIENoZWNrKSBidXRcbiAgICogYHdpbmRvdy5ncmVjYXB0Y2hhLnJlbmRlcigpYCB3aWxsIG5vdC4gQW5vdGhlciBsb2FkIHdpbGwgYWRkIGl0LlxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBsaWJyYXJ5U2VwYXJhdGVseUxvYWRlZCA9ICEhX3dpbmRvdygpLmdyZWNhcHRjaGE/LnJlbmRlcjtcblxuICBsb2FkKGF1dGg6IEF1dGhJbnRlcm5hbCwgaGwgPSAnJyk6IFByb21pc2U8UmVjYXB0Y2hhPiB7XG4gICAgX2Fzc2VydChpc0hvc3RMYW5ndWFnZVZhbGlkKGhsKSwgYXV0aCwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG5cbiAgICBpZiAodGhpcy5zaG91bGRSZXNvbHZlSW1tZWRpYXRlbHkoaGwpICYmIGlzVjIoX3dpbmRvdygpLmdyZWNhcHRjaGEpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF93aW5kb3coKS5ncmVjYXB0Y2hhISBhcyBSZWNhcHRjaGEpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2U8UmVjYXB0Y2hhPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBuZXR3b3JrVGltZW91dCA9IF93aW5kb3coKS5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVqZWN0KF9jcmVhdGVFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLk5FVFdPUktfUkVRVUVTVF9GQUlMRUQpKTtcbiAgICAgIH0sIE5FVFdPUktfVElNRU9VVF9ERUxBWS5nZXQoKSk7XG5cbiAgICAgIF93aW5kb3coKVtfSlNMT0FEX0NBTExCQUNLXSA9ICgpID0+IHtcbiAgICAgICAgX3dpbmRvdygpLmNsZWFyVGltZW91dChuZXR3b3JrVGltZW91dCk7XG4gICAgICAgIGRlbGV0ZSBfd2luZG93KClbX0pTTE9BRF9DQUxMQkFDS107XG5cbiAgICAgICAgY29uc3QgcmVjYXB0Y2hhID0gX3dpbmRvdygpLmdyZWNhcHRjaGEgYXMgUmVjYXB0Y2hhO1xuXG4gICAgICAgIGlmICghcmVjYXB0Y2hhIHx8ICFpc1YyKHJlY2FwdGNoYSkpIHtcbiAgICAgICAgICByZWplY3QoX2NyZWF0ZUVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXcmFwIHRoZSByZWNhcHRjaGEgcmVuZGVyIGZ1bmN0aW9uIHNvIHRoYXQgd2Uga25vdyBpZiB0aGUgZGV2ZWxvcGVyIGhhc1xuICAgICAgICAvLyBjYWxsZWQgaXQgc2VwYXJhdGVseVxuICAgICAgICBjb25zdCByZW5kZXIgPSByZWNhcHRjaGEucmVuZGVyO1xuICAgICAgICByZWNhcHRjaGEucmVuZGVyID0gKGNvbnRhaW5lciwgcGFyYW1zKSA9PiB7XG4gICAgICAgICAgY29uc3Qgd2lkZ2V0SWQgPSByZW5kZXIoY29udGFpbmVyLCBwYXJhbXMpO1xuICAgICAgICAgIHRoaXMuY291bnRlcisrO1xuICAgICAgICAgIHJldHVybiB3aWRnZXRJZDtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmhvc3RMYW5ndWFnZSA9IGhsO1xuICAgICAgICByZXNvbHZlKHJlY2FwdGNoYSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB1cmwgPSBgJHtqc0hlbHBlcnMuX3JlY2FwdGNoYVYyU2NyaXB0VXJsKCl9PyR7cXVlcnlzdHJpbmcoe1xuICAgICAgICBvbmxvYWQ6IF9KU0xPQURfQ0FMTEJBQ0ssXG4gICAgICAgIHJlbmRlcjogJ2V4cGxpY2l0JyxcbiAgICAgICAgaGxcbiAgICAgIH0pfWA7XG5cbiAgICAgIGpzSGVscGVycy5fbG9hZEpTKHVybCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQobmV0d29ya1RpbWVvdXQpO1xuICAgICAgICByZWplY3QoX2NyZWF0ZUVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2xlYXJlZE9uZUluc3RhbmNlKCk6IHZvaWQge1xuICAgIHRoaXMuY291bnRlci0tO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG91bGRSZXNvbHZlSW1tZWRpYXRlbHkoaGw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vIFdlIGNhbiByZXNvbHZlIGltbWVkaWF0ZWx5IGlmOlxuICAgIC8vICAg4oCiIGdyZWNhcHRjaGEgaXMgYWxyZWFkeSBkZWZpbmVkIEFORCAoXG4gICAgLy8gICAgIDEuIHRoZSByZXF1ZXN0ZWQgbGFuZ3VhZ2UgY29kZXMgYXJlIHRoZSBzYW1lIE9SXG4gICAgLy8gICAgIDIuIHRoZXJlIGV4aXN0cyBhbHJlYWR5IGEgUmVDYXB0Y2hhIG9uIHRoZSBwYWdlXG4gICAgLy8gICAgIDMuIHRoZSBsaWJyYXJ5IHdhcyBhbHJlYWR5IGxvYWRlZCBieSB0aGUgYXBwXG4gICAgLy8gSW4gY2FzZXMgKDIpIGFuZCAoMyksIHdlIF9jYW4ndF8gcmVsb2FkIGFzIGl0IHdvdWxkIGJyZWFrIHRoZSByZWNhcHRjaGFzXG4gICAgLy8gdGhhdCBhcmUgYWxyZWFkeSBpbiB0aGUgcGFnZVxuICAgIHJldHVybiAoXG4gICAgICAhIV93aW5kb3coKS5ncmVjYXB0Y2hhPy5yZW5kZXIgJiZcbiAgICAgIChobCA9PT0gdGhpcy5ob3N0TGFuZ3VhZ2UgfHxcbiAgICAgICAgdGhpcy5jb3VudGVyID4gMCB8fFxuICAgICAgICB0aGlzLmxpYnJhcnlTZXBhcmF0ZWx5TG9hZGVkKVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNIb3N0TGFuZ3VhZ2VWYWxpZChobDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBobC5sZW5ndGggPD0gNiAmJiAvXlxccypbYS16QS1aMC05XFwtXSpcXHMqJC8udGVzdChobCk7XG59XG5cbmV4cG9ydCBjbGFzcyBNb2NrUmVDYXB0Y2hhTG9hZGVySW1wbCBpbXBsZW1lbnRzIFJlQ2FwdGNoYUxvYWRlciB7XG4gIGFzeW5jIGxvYWQoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxSZWNhcHRjaGE+IHtcbiAgICByZXR1cm4gbmV3IE1vY2tSZUNhcHRjaGEoYXV0aCk7XG4gIH1cblxuICBjbGVhcmVkT25lSW5zdGFuY2UoKTogdm9pZCB7fVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGgsIFJlY2FwdGNoYVBhcmFtZXRlcnMgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UmVjYXB0Y2hhUGFyYW1zIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3JlY2FwdGNoYSc7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi8uLi9jb3JlL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfaXNIdHRwT3JIdHRwcyB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9sb2NhdGlvbic7XG5pbXBvcnQgeyBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hcHBsaWNhdGlvbl92ZXJpZmllcic7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IF93aW5kb3cgfSBmcm9tICcuLi9hdXRoX3dpbmRvdyc7XG5pbXBvcnQgeyBfaXNXb3JrZXIgfSBmcm9tICcuLi91dGlsL3dvcmtlcic7XG5pbXBvcnQgeyBSZWNhcHRjaGEgfSBmcm9tICcuL3JlY2FwdGNoYSc7XG5pbXBvcnQge1xuICBNb2NrUmVDYXB0Y2hhTG9hZGVySW1wbCxcbiAgUmVDYXB0Y2hhTG9hZGVyLFxuICBSZUNhcHRjaGFMb2FkZXJJbXBsXG59IGZyb20gJy4vcmVjYXB0Y2hhX2xvYWRlcic7XG5cbmV4cG9ydCBjb25zdCBSRUNBUFRDSEFfVkVSSUZJRVJfVFlQRSA9ICdyZWNhcHRjaGEnO1xuXG5jb25zdCBERUZBVUxUX1BBUkFNUzogUmVjYXB0Y2hhUGFyYW1ldGVycyA9IHtcbiAgdGhlbWU6ICdsaWdodCcsXG4gIHR5cGU6ICdpbWFnZSdcbn07XG5cbnR5cGUgVG9rZW5DYWxsYmFjayA9ICh0b2tlbjogc3RyaW5nKSA9PiB2b2lkO1xuXG4vKipcbiAqIEFuIHtAbGluayBodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS8gfCByZUNBUFRDSEF9LWJhc2VkIGFwcGxpY2F0aW9uIHZlcmlmaWVyLlxuICpcbiAqIEByZW1hcmtzXG4gKiBgUmVjYXB0Y2hhVmVyaWZpZXJgIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlY2FwdGNoYVZlcmlmaWVyIGltcGxlbWVudHMgQXBwbGljYXRpb25WZXJpZmllckludGVybmFsIHtcbiAgLyoqXG4gICAqIFRoZSBhcHBsaWNhdGlvbiB2ZXJpZmllciB0eXBlLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBGb3IgYSByZUNBUFRDSEEgdmVyaWZpZXIsIHRoaXMgaXMgJ3JlY2FwdGNoYScuXG4gICAqL1xuICByZWFkb25seSB0eXBlID0gUkVDQVBUQ0hBX1ZFUklGSUVSX1RZUEU7XG4gIHByaXZhdGUgZGVzdHJveWVkID0gZmFsc2U7XG4gIHByaXZhdGUgd2lkZ2V0SWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgaXNJbnZpc2libGU6IGJvb2xlYW47XG4gIHByaXZhdGUgcmVhZG9ubHkgdG9rZW5DaGFuZ2VMaXN0ZW5lcnMgPSBuZXcgU2V0PFRva2VuQ2FsbGJhY2s+KCk7XG4gIHByaXZhdGUgcmVuZGVyUHJvbWlzZTogUHJvbWlzZTxudW1iZXI+IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcmVhZG9ubHkgX3JlY2FwdGNoYUxvYWRlcjogUmVDYXB0Y2hhTG9hZGVyO1xuICBwcml2YXRlIHJlY2FwdGNoYTogUmVjYXB0Y2hhIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBhdXRoRXh0ZXJuIC0gVGhlIGNvcnJlc3BvbmRpbmcgRmlyZWJhc2Uge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gY29udGFpbmVyT3JJZCAtIFRoZSByZUNBUFRDSEEgY29udGFpbmVyIHBhcmFtZXRlci5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBoYXMgZGlmZmVyZW50IG1lYW5pbmcgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIHJlQ0FQVENIQSBpcyBoaWRkZW4gb3IgdmlzaWJsZS4gRm9yIGFcbiAgICogdmlzaWJsZSByZUNBUFRDSEEgdGhlIGNvbnRhaW5lciBtdXN0IGJlIGVtcHR5LiBJZiBhIHN0cmluZyBpcyB1c2VkLCBpdCBoYXMgdG8gY29ycmVzcG9uZCB0b1xuICAgKiBhbiBlbGVtZW50IElELiBUaGUgY29ycmVzcG9uZGluZyBlbGVtZW50IG11c3QgYWxzbyBtdXN0IGJlIGluIHRoZSBET00gYXQgdGhlIHRpbWUgb2ZcbiAgICogaW5pdGlhbGl6YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0gVGhlIG9wdGlvbmFsIHJlQ0FQVENIQSBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBDaGVjayB0aGUgcmVDQVBUQ0hBIGRvY3MgZm9yIGEgY29tcHJlaGVuc2l2ZSBsaXN0LiBBbGwgcGFyYW1ldGVycyBhcmUgYWNjZXB0ZWQgZXhjZXB0IGZvclxuICAgKiB0aGUgc2l0ZWtleS4gRmlyZWJhc2UgQXV0aCBiYWNrZW5kIHByb3Zpc2lvbnMgYSByZUNBUFRDSEEgZm9yIGVhY2ggcHJvamVjdCBhbmQgd2lsbFxuICAgKiBjb25maWd1cmUgdGhpcyB1cG9uIHJlbmRlcmluZy4gRm9yIGFuIGludmlzaWJsZSByZUNBUFRDSEEsIGEgc2l6ZSBrZXkgbXVzdCBoYXZlIHRoZSB2YWx1ZVxuICAgKiAnaW52aXNpYmxlJy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIGF1dGhFeHRlcm46IEF1dGgsXG4gICAgY29udGFpbmVyT3JJZDogSFRNTEVsZW1lbnQgfCBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwYXJhbWV0ZXJzOiBSZWNhcHRjaGFQYXJhbWV0ZXJzID0ge1xuICAgICAgLi4uREVGQVVMVF9QQVJBTVNcbiAgICB9XG4gICkge1xuICAgIHRoaXMuYXV0aCA9IF9jYXN0QXV0aChhdXRoRXh0ZXJuKTtcbiAgICB0aGlzLmlzSW52aXNpYmxlID0gdGhpcy5wYXJhbWV0ZXJzLnNpemUgPT09ICdpbnZpc2libGUnO1xuICAgIF9hc3NlcnQoXG4gICAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnLFxuICAgICAgdGhpcy5hdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX1NVUFBPUlRFRFxuICAgICk7XG4gICAgY29uc3QgY29udGFpbmVyID1cbiAgICAgIHR5cGVvZiBjb250YWluZXJPcklkID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lck9ySWQpXG4gICAgICAgIDogY29udGFpbmVyT3JJZDtcbiAgICBfYXNzZXJ0KGNvbnRhaW5lciwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcblxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMucGFyYW1ldGVycy5jYWxsYmFjayA9IHRoaXMubWFrZVRva2VuQ2FsbGJhY2sodGhpcy5wYXJhbWV0ZXJzLmNhbGxiYWNrKTtcblxuICAgIHRoaXMuX3JlY2FwdGNoYUxvYWRlciA9IHRoaXMuYXV0aC5zZXR0aW5ncy5hcHBWZXJpZmljYXRpb25EaXNhYmxlZEZvclRlc3RpbmdcbiAgICAgID8gbmV3IE1vY2tSZUNhcHRjaGFMb2FkZXJJbXBsKClcbiAgICAgIDogbmV3IFJlQ2FwdGNoYUxvYWRlckltcGwoKTtcblxuICAgIHRoaXMudmFsaWRhdGVTdGFydGluZ1N0YXRlKCk7XG4gICAgLy8gVE9ETzogRmlndXJlIG91dCBpZiBzZGsgdmVyc2lvbiBpcyBuZWVkZWRcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0cyBmb3IgdGhlIHVzZXIgdG8gc29sdmUgdGhlIHJlQ0FQVENIQSBhbmQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVDQVBUQ0hBIHRva2VuLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIFByb21pc2UgZm9yIHRoZSByZUNBUFRDSEEgdG9rZW4uXG4gICAqL1xuICBhc3luYyB2ZXJpZnkoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO1xuICAgIGNvbnN0IGlkID0gYXdhaXQgdGhpcy5yZW5kZXIoKTtcbiAgICBjb25zdCByZWNhcHRjaGEgPSB0aGlzLmdldEFzc2VydGVkUmVjYXB0Y2hhKCk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IHJlY2FwdGNoYS5nZXRSZXNwb25zZShpZCk7XG4gICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4ocmVzb2x2ZSA9PiB7XG4gICAgICBjb25zdCB0b2tlbkNoYW5nZSA9ICh0b2tlbjogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICByZXR1cm47IC8vIElnbm9yZSB0b2tlbiBleHBpcmF0aW9ucy5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRva2VuQ2hhbmdlTGlzdGVuZXJzLmRlbGV0ZSh0b2tlbkNoYW5nZSk7XG4gICAgICAgIHJlc29sdmUodG9rZW4pO1xuICAgICAgfTtcblxuICAgICAgdGhpcy50b2tlbkNoYW5nZUxpc3RlbmVycy5hZGQodG9rZW5DaGFuZ2UpO1xuICAgICAgaWYgKHRoaXMuaXNJbnZpc2libGUpIHtcbiAgICAgICAgcmVjYXB0Y2hhLmV4ZWN1dGUoaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIHJlQ0FQVENIQSB3aWRnZXQgb24gdGhlIHBhZ2UuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlQ0FQVENIQSB3aWRnZXQgSUQuXG4gICAqL1xuICByZW5kZXIoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBUaGlzIG1ldGhvZCByZXR1cm5zIGEgcHJvbWlzZS4gU2luY2UgaXQncyBub3QgYXN5bmMgKHdlIHdhbnQgdG8gcmV0dXJuIHRoZVxuICAgICAgLy8gX3NhbWVfIHByb21pc2UgaWYgcmVuZGVyaW5nIGlzIHN0aWxsIG9jY3VycmluZyksIHRoZSBBUEkgc3VyZmFjZSBzaG91bGRcbiAgICAgIC8vIHJlamVjdCB3aXRoIHRoZSBlcnJvciByYXRoZXIgdGhhbiBqdXN0IHRocm93XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVuZGVyUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUHJvbWlzZTtcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlclByb21pc2UgPSB0aGlzLm1ha2VSZW5kZXJQcm9taXNlKCkuY2F0Y2goZSA9PiB7XG4gICAgICB0aGlzLnJlbmRlclByb21pc2UgPSBudWxsO1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLnJlbmRlclByb21pc2U7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9yZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO1xuICAgIGlmICh0aGlzLndpZGdldElkICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmdldEFzc2VydGVkUmVjYXB0Y2hhKCkucmVzZXQodGhpcy53aWRnZXRJZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgcmVDQVBUQ0hBIHdpZGdldCBmcm9tIHRoZSBwYWdlIGFuZCBkZXN0cm95cyB0aGUgaW5zdGFuY2UuXG4gICAqL1xuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO1xuICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB0aGlzLl9yZWNhcHRjaGFMb2FkZXIuY2xlYXJlZE9uZUluc3RhbmNlKCk7XG4gICAgaWYgKCF0aGlzLmlzSW52aXNpYmxlKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5jaGlsZE5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB2YWxpZGF0ZVN0YXJ0aW5nU3RhdGUoKTogdm9pZCB7XG4gICAgX2Fzc2VydCghdGhpcy5wYXJhbWV0ZXJzLnNpdGVrZXksIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG4gICAgX2Fzc2VydChcbiAgICAgIHRoaXMuaXNJbnZpc2libGUgfHwgIXRoaXMuY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSxcbiAgICAgIHRoaXMuYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgICApO1xuICAgIF9hc3NlcnQoXG4gICAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnLFxuICAgICAgdGhpcy5hdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX1NVUFBPUlRFRFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIG1ha2VUb2tlbkNhbGxiYWNrKFxuICAgIGV4aXN0aW5nOiBUb2tlbkNhbGxiYWNrIHwgc3RyaW5nIHwgdW5kZWZpbmVkXG4gICk6IFRva2VuQ2FsbGJhY2sge1xuICAgIHJldHVybiB0b2tlbiA9PiB7XG4gICAgICB0aGlzLnRva2VuQ2hhbmdlTGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIodG9rZW4pKTtcbiAgICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZXhpc3RpbmcodG9rZW4pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IGdsb2JhbEZ1bmMgPSBfd2luZG93KClbZXhpc3RpbmddO1xuICAgICAgICBpZiAodHlwZW9mIGdsb2JhbEZ1bmMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBnbG9iYWxGdW5jKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGFzc2VydE5vdERlc3Ryb3llZCgpOiB2b2lkIHtcbiAgICBfYXNzZXJ0KCF0aGlzLmRlc3Ryb3llZCwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbWFrZVJlbmRlclByb21pc2UoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcbiAgICBpZiAoIXRoaXMud2lkZ2V0SWQpIHtcbiAgICAgIGxldCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgIGlmICghdGhpcy5pc0ludmlzaWJsZSkge1xuICAgICAgICBjb25zdCBndWFyYW50ZWVkRW1wdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGd1YXJhbnRlZWRFbXB0eSk7XG4gICAgICAgIGNvbnRhaW5lciA9IGd1YXJhbnRlZWRFbXB0eTtcbiAgICAgIH1cblxuICAgICAgdGhpcy53aWRnZXRJZCA9IHRoaXMuZ2V0QXNzZXJ0ZWRSZWNhcHRjaGEoKS5yZW5kZXIoXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLndpZGdldElkO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIF9hc3NlcnQoXG4gICAgICBfaXNIdHRwT3JIdHRwcygpICYmICFfaXNXb3JrZXIoKSxcbiAgICAgIHRoaXMuYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICApO1xuXG4gICAgYXdhaXQgZG9tUmVhZHkoKTtcbiAgICB0aGlzLnJlY2FwdGNoYSA9IGF3YWl0IHRoaXMuX3JlY2FwdGNoYUxvYWRlci5sb2FkKFxuICAgICAgdGhpcy5hdXRoLFxuICAgICAgdGhpcy5hdXRoLmxhbmd1YWdlQ29kZSB8fCB1bmRlZmluZWRcbiAgICApO1xuXG4gICAgY29uc3Qgc2l0ZUtleSA9IGF3YWl0IGdldFJlY2FwdGNoYVBhcmFtcyh0aGlzLmF1dGgpO1xuICAgIF9hc3NlcnQoc2l0ZUtleSwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICB0aGlzLnBhcmFtZXRlcnMuc2l0ZWtleSA9IHNpdGVLZXk7XG4gIH1cblxuICBwcml2YXRlIGdldEFzc2VydGVkUmVjYXB0Y2hhKCk6IFJlY2FwdGNoYSB7XG4gICAgX2Fzc2VydCh0aGlzLnJlY2FwdGNoYSwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICByZXR1cm4gdGhpcy5yZWNhcHRjaGE7XG4gIH1cbn1cblxuZnVuY3Rpb24gZG9tUmVhZHkoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGxldCByZXNvbHZlcjogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERvY3VtZW50IG5vdCByZWFkeSwgd2FpdCBmb3IgbG9hZCBiZWZvcmUgcmVzb2x2aW5nLlxuICAgIC8vIFNhdmUgcmVzb2x2ZXIsIHNvIHdlIGNhbiByZW1vdmUgbGlzdGVuZXIgaW4gY2FzZSBpdCB3YXMgZXh0ZXJuYWxseVxuICAgIC8vIGNhbmNlbGxlZC5cbiAgICByZXNvbHZlciA9ICgpID0+IHJlc29sdmUoKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJlc29sdmVyKTtcbiAgfSkuY2F0Y2goZSA9PiB7XG4gICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJlc29sdmVyKTtcbiAgICB9XG5cbiAgICB0aHJvdyBlO1xuICB9KTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBcHBsaWNhdGlvblZlcmlmaWVyLFxuICBBdXRoLFxuICBDb25maXJtYXRpb25SZXN1bHQsXG4gIFBob25lSW5mb09wdGlvbnMsXG4gIFVzZXIsXG4gIFVzZXJDcmVkZW50aWFsXG59IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IHN0YXJ0RW5yb2xsUGhvbmVNZmEgfSBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L21mYSc7XG5pbXBvcnQgeyBzdGFydFNpZ25JblBob25lTWZhIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBzZW5kUGhvbmVWZXJpZmljYXRpb25Db2RlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3Ntcyc7XG5pbXBvcnQgeyBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hcHBsaWNhdGlvbl92ZXJpZmllcic7XG5pbXBvcnQgeyBQaG9uZUF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vY29yZS9jcmVkZW50aWFscy9waG9uZSc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydExpbmtlZFN0YXR1cywgX2xpbmsgfSBmcm9tICcuLi8uLi9jb3JlL3VzZXIvbGlua191bmxpbmsnO1xuaW1wb3J0IHtcbiAgX2Fzc2VydCxcbiAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3Jcbn0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7XG4gIGxpbmtXaXRoQ3JlZGVudGlhbCxcbiAgcmVhdXRoZW50aWNhdGVXaXRoQ3JlZGVudGlhbCxcbiAgc2lnbkluV2l0aENyZWRlbnRpYWxcbn0gZnJvbSAnLi4vLi4vY29yZS9zdHJhdGVnaWVzL2NyZWRlbnRpYWwnO1xuaW1wb3J0IHtcbiAgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCxcbiAgTXVsdGlGYWN0b3JTZXNzaW9uVHlwZVxufSBmcm9tICcuLi8uLi9tZmEvbWZhX3Nlc3Npb24nO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBSRUNBUFRDSEFfVkVSSUZJRVJfVFlQRSB9IGZyb20gJy4uL3JlY2FwdGNoYS9yZWNhcHRjaGFfdmVyaWZpZXInO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vLi4vY29yZS9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBQcm92aWRlcklkIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcblxuaW50ZXJmYWNlIE9uQ29uZmlybWF0aW9uQ2FsbGJhY2sge1xuICAoY3JlZGVudGlhbDogUGhvbmVBdXRoQ3JlZGVudGlhbCk6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+O1xufVxuXG5jbGFzcyBDb25maXJtYXRpb25SZXN1bHRJbXBsIGltcGxlbWVudHMgQ29uZmlybWF0aW9uUmVzdWx0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgdmVyaWZpY2F0aW9uSWQ6IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IG9uQ29uZmlybWF0aW9uOiBPbkNvbmZpcm1hdGlvbkNhbGxiYWNrXG4gICkge31cblxuICBjb25maXJtKHZlcmlmaWNhdGlvbkNvZGU6IHN0cmluZyk6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgICBjb25zdCBhdXRoQ3JlZGVudGlhbCA9IFBob25lQXV0aENyZWRlbnRpYWwuX2Zyb21WZXJpZmljYXRpb24oXG4gICAgICB0aGlzLnZlcmlmaWNhdGlvbklkLFxuICAgICAgdmVyaWZpY2F0aW9uQ29kZVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMub25Db25maXJtYXRpb24oYXV0aENyZWRlbnRpYWwpO1xuICB9XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2lnbnMgaW4gdXNpbmcgYSBwaG9uZSBudW1iZXIuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgbWV0aG9kIHNlbmRzIGEgY29kZSB2aWEgU01TIHRvIHRoZSBnaXZlblxuICogcGhvbmUgbnVtYmVyLCBhbmQgcmV0dXJucyBhIHtAbGluayBDb25maXJtYXRpb25SZXN1bHR9LiBBZnRlciB0aGUgdXNlclxuICogcHJvdmlkZXMgdGhlIGNvZGUgc2VudCB0byB0aGVpciBwaG9uZSwgY2FsbCB7QGxpbmsgQ29uZmlybWF0aW9uUmVzdWx0LmNvbmZpcm19XG4gKiB3aXRoIHRoZSBjb2RlIHRvIHNpZ24gdGhlIHVzZXIgaW4uXG4gKlxuICogRm9yIGFidXNlIHByZXZlbnRpb24sIHRoaXMgbWV0aG9kIGFsc28gcmVxdWlyZXMgYSB7QGxpbmsgQXBwbGljYXRpb25WZXJpZmllcn0uXG4gKiBUaGlzIFNESyBpbmNsdWRlcyBhIHJlQ0FQVENIQS1iYXNlZCBpbXBsZW1lbnRhdGlvbiwge0BsaW5rIFJlY2FwdGNoYVZlcmlmaWVyfS5cbiAqIFRoaXMgZnVuY3Rpb24gY2FuIHdvcmsgb24gb3RoZXIgcGxhdGZvcm1zIHRoYXQgZG8gbm90IHN1cHBvcnQgdGhlXG4gKiB7QGxpbmsgUmVjYXB0Y2hhVmVyaWZpZXJ9IChsaWtlIFJlYWN0IE5hdGl2ZSksIGJ1dCB5b3UgbmVlZCB0byB1c2UgYVxuICogdGhpcmQtcGFydHkge0BsaW5rIEFwcGxpY2F0aW9uVmVyaWZpZXJ9IGltcGxlbWVudGF0aW9uLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIHdpdGgge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyAncmVjYXB0Y2hhLWNvbnRhaW5lcicgaXMgdGhlIElEIG9mIGFuIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIGNvbnN0IGFwcGxpY2F0aW9uVmVyaWZpZXIgPSBuZXcgZmlyZWJhc2UuYXV0aC5SZWNhcHRjaGFWZXJpZmllcigncmVjYXB0Y2hhLWNvbnRhaW5lcicpO1xuICogY29uc3QgY29uZmlybWF0aW9uUmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFBob25lTnVtYmVyKGF1dGgsIHBob25lTnVtYmVyLCBhcHBsaWNhdGlvblZlcmlmaWVyKTtcbiAqIC8vIE9idGFpbiBhIHZlcmlmaWNhdGlvbkNvZGUgZnJvbSB0aGUgdXNlci5cbiAqIGNvbnN0IGNyZWRlbnRpYWwgPSBhd2FpdCBjb25maXJtYXRpb25SZXN1bHQuY29uZmlybSh2ZXJpZmljYXRpb25Db2RlKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBwaG9uZU51bWJlciAtIFRoZSB1c2VyJ3MgcGhvbmUgbnVtYmVyIGluIEUuMTY0IGZvcm1hdCAoZS5nLiArMTY1MDU1NTAxMDEpLlxuICogQHBhcmFtIGFwcFZlcmlmaWVyIC0gVGhlIHtAbGluayBBcHBsaWNhdGlvblZlcmlmaWVyfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoUGhvbmVOdW1iZXIoXG4gIGF1dGg6IEF1dGgsXG4gIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gIGFwcFZlcmlmaWVyOiBBcHBsaWNhdGlvblZlcmlmaWVyXG4pOiBQcm9taXNlPENvbmZpcm1hdGlvblJlc3VsdD4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgY29uc3QgdmVyaWZpY2F0aW9uSWQgPSBhd2FpdCBfdmVyaWZ5UGhvbmVOdW1iZXIoXG4gICAgYXV0aEludGVybmFsLFxuICAgIHBob25lTnVtYmVyLFxuICAgIGdldE1vZHVsYXJJbnN0YW5jZShhcHBWZXJpZmllciBhcyBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWwpXG4gICk7XG4gIHJldHVybiBuZXcgQ29uZmlybWF0aW9uUmVzdWx0SW1wbCh2ZXJpZmljYXRpb25JZCwgY3JlZCA9PlxuICAgIHNpZ25JbldpdGhDcmVkZW50aWFsKGF1dGhJbnRlcm5hbCwgY3JlZClcbiAgKTtcbn1cblxuLyoqXG4gKiBMaW5rcyB0aGUgdXNlciBhY2NvdW50IHdpdGggdGhlIGdpdmVuIHBob25lIG51bWJlci5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBwaG9uZU51bWJlciAtIFRoZSB1c2VyJ3MgcGhvbmUgbnVtYmVyIGluIEUuMTY0IGZvcm1hdCAoZS5nLiArMTY1MDU1NTAxMDEpLlxuICogQHBhcmFtIGFwcFZlcmlmaWVyIC0gVGhlIHtAbGluayBBcHBsaWNhdGlvblZlcmlmaWVyfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaW5rV2l0aFBob25lTnVtYmVyKFxuICB1c2VyOiBVc2VyLFxuICBwaG9uZU51bWJlcjogc3RyaW5nLFxuICBhcHBWZXJpZmllcjogQXBwbGljYXRpb25WZXJpZmllclxuKTogUHJvbWlzZTxDb25maXJtYXRpb25SZXN1bHQ+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgYXdhaXQgX2Fzc2VydExpbmtlZFN0YXR1cyhmYWxzZSwgdXNlckludGVybmFsLCBQcm92aWRlcklkLlBIT05FKTtcbiAgY29uc3QgdmVyaWZpY2F0aW9uSWQgPSBhd2FpdCBfdmVyaWZ5UGhvbmVOdW1iZXIoXG4gICAgdXNlckludGVybmFsLmF1dGgsXG4gICAgcGhvbmVOdW1iZXIsXG4gICAgZ2V0TW9kdWxhckluc3RhbmNlKGFwcFZlcmlmaWVyIGFzIEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbClcbiAgKTtcbiAgcmV0dXJuIG5ldyBDb25maXJtYXRpb25SZXN1bHRJbXBsKHZlcmlmaWNhdGlvbklkLCBjcmVkID0+XG4gICAgbGlua1dpdGhDcmVkZW50aWFsKHVzZXJJbnRlcm5hbCwgY3JlZClcbiAgKTtcbn1cblxuLyoqXG4gKiBSZS1hdXRoZW50aWNhdGVzIGEgdXNlciB1c2luZyBhIGZyZXNoIHBob25lIGNyZWRlbnRpYWwuXG4gKlxuICogQHJlbWFya3NcbiAqIFVzZSBiZWZvcmUgb3BlcmF0aW9ucyBzdWNoIGFzIHtAbGluayB1cGRhdGVQYXNzd29yZH0gdGhhdCByZXF1aXJlIHRva2VucyBmcm9tIHJlY2VudCBzaWduLWluIGF0dGVtcHRzLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIG9uIGFueSB7QGxpbmsgVXNlcn0gc2lnbmVkIGluIGJ5XG4gKiB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIHBob25lTnVtYmVyIC0gVGhlIHVzZXIncyBwaG9uZSBudW1iZXIgaW4gRS4xNjQgZm9ybWF0IChlLmcuICsxNjUwNTU1MDEwMSkuXG4gKiBAcGFyYW0gYXBwVmVyaWZpZXIgLSBUaGUge0BsaW5rIEFwcGxpY2F0aW9uVmVyaWZpZXJ9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYXV0aGVudGljYXRlV2l0aFBob25lTnVtYmVyKFxuICB1c2VyOiBVc2VyLFxuICBwaG9uZU51bWJlcjogc3RyaW5nLFxuICBhcHBWZXJpZmllcjogQXBwbGljYXRpb25WZXJpZmllclxuKTogUHJvbWlzZTxDb25maXJtYXRpb25SZXN1bHQ+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHVzZXJJbnRlcm5hbC5hdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcih1c2VySW50ZXJuYWwuYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IHZlcmlmaWNhdGlvbklkID0gYXdhaXQgX3ZlcmlmeVBob25lTnVtYmVyKFxuICAgIHVzZXJJbnRlcm5hbC5hdXRoLFxuICAgIHBob25lTnVtYmVyLFxuICAgIGdldE1vZHVsYXJJbnN0YW5jZShhcHBWZXJpZmllciBhcyBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWwpXG4gICk7XG4gIHJldHVybiBuZXcgQ29uZmlybWF0aW9uUmVzdWx0SW1wbCh2ZXJpZmljYXRpb25JZCwgY3JlZCA9PlxuICAgIHJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWwodXNlckludGVybmFsLCBjcmVkKVxuICApO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB2ZXJpZmljYXRpb24gSUQgdG8gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBTTVMgY29kZSB0aGF0IGlzIHNlbnQuXG4gKlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3ZlcmlmeVBob25lTnVtYmVyKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIG9wdGlvbnM6IFBob25lSW5mb09wdGlvbnMgfCBzdHJpbmcsXG4gIHZlcmlmaWVyOiBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWxcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHJlY2FwdGNoYVRva2VuID0gYXdhaXQgdmVyaWZpZXIudmVyaWZ5KCk7XG5cbiAgdHJ5IHtcbiAgICBfYXNzZXJ0KFxuICAgICAgdHlwZW9mIHJlY2FwdGNoYVRva2VuID09PSAnc3RyaW5nJyxcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICAgKTtcbiAgICBfYXNzZXJ0KFxuICAgICAgdmVyaWZpZXIudHlwZSA9PT0gUkVDQVBUQ0hBX1ZFUklGSUVSX1RZUEUsXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICAgICk7XG5cbiAgICBsZXQgcGhvbmVJbmZvT3B0aW9uczogUGhvbmVJbmZvT3B0aW9ucztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBob25lSW5mb09wdGlvbnMgPSB7XG4gICAgICAgIHBob25lTnVtYmVyOiBvcHRpb25zXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwaG9uZUluZm9PcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG5cbiAgICBpZiAoJ3Nlc3Npb24nIGluIHBob25lSW5mb09wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBwaG9uZUluZm9PcHRpb25zLnNlc3Npb24gYXMgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbDtcblxuICAgICAgaWYgKCdwaG9uZU51bWJlcicgaW4gcGhvbmVJbmZvT3B0aW9ucykge1xuICAgICAgICBfYXNzZXJ0KFxuICAgICAgICAgIHNlc3Npb24udHlwZSA9PT0gTXVsdGlGYWN0b3JTZXNzaW9uVHlwZS5FTlJPTEwsXG4gICAgICAgICAgYXV0aCxcbiAgICAgICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3RhcnRFbnJvbGxQaG9uZU1mYShhdXRoLCB7XG4gICAgICAgICAgaWRUb2tlbjogc2Vzc2lvbi5jcmVkZW50aWFsLFxuICAgICAgICAgIHBob25lRW5yb2xsbWVudEluZm86IHtcbiAgICAgICAgICAgIHBob25lTnVtYmVyOiBwaG9uZUluZm9PcHRpb25zLnBob25lTnVtYmVyLFxuICAgICAgICAgICAgcmVjYXB0Y2hhVG9rZW5cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UucGhvbmVTZXNzaW9uSW5mby5zZXNzaW9uSW5mbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9hc3NlcnQoXG4gICAgICAgICAgc2Vzc2lvbi50eXBlID09PSBNdWx0aUZhY3RvclNlc3Npb25UeXBlLlNJR05fSU4sXG4gICAgICAgICAgYXV0aCxcbiAgICAgICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG1mYUVucm9sbG1lbnRJZCA9XG4gICAgICAgICAgcGhvbmVJbmZvT3B0aW9ucy5tdWx0aUZhY3RvckhpbnQ/LnVpZCB8fFxuICAgICAgICAgIHBob25lSW5mb09wdGlvbnMubXVsdGlGYWN0b3JVaWQ7XG4gICAgICAgIF9hc3NlcnQobWZhRW5yb2xsbWVudElkLCBhdXRoLCBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfTUZBX0lORk8pO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN0YXJ0U2lnbkluUGhvbmVNZmEoYXV0aCwge1xuICAgICAgICAgIG1mYVBlbmRpbmdDcmVkZW50aWFsOiBzZXNzaW9uLmNyZWRlbnRpYWwsXG4gICAgICAgICAgbWZhRW5yb2xsbWVudElkLFxuICAgICAgICAgIHBob25lU2lnbkluSW5mbzoge1xuICAgICAgICAgICAgcmVjYXB0Y2hhVG9rZW5cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UucGhvbmVSZXNwb25zZUluZm8uc2Vzc2lvbkluZm87XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgc2Vzc2lvbkluZm8gfSA9IGF3YWl0IHNlbmRQaG9uZVZlcmlmaWNhdGlvbkNvZGUoYXV0aCwge1xuICAgICAgICBwaG9uZU51bWJlcjogcGhvbmVJbmZvT3B0aW9ucy5waG9uZU51bWJlcixcbiAgICAgICAgcmVjYXB0Y2hhVG9rZW5cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHNlc3Npb25JbmZvO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICB2ZXJpZmllci5fcmVzZXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHVzZXIncyBwaG9uZSBudW1iZXIuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIG9uIGFueSB7QGxpbmsgVXNlcn0gc2lnbmVkIGluIGJ5XG4gKiB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAvLyAncmVjYXB0Y2hhLWNvbnRhaW5lcicgaXMgdGhlIElEIG9mIGFuIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIGNvbnN0IGFwcGxpY2F0aW9uVmVyaWZpZXIgPSBuZXcgUmVjYXB0Y2hhVmVyaWZpZXIoJ3JlY2FwdGNoYS1jb250YWluZXInKTtcbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IFBob25lQXV0aFByb3ZpZGVyKGF1dGgpO1xuICogY29uc3QgdmVyaWZpY2F0aW9uSWQgPSBhd2FpdCBwcm92aWRlci52ZXJpZnlQaG9uZU51bWJlcignKzE2NTA1NTUwMTAxJywgYXBwbGljYXRpb25WZXJpZmllcik7XG4gKiAvLyBPYnRhaW4gdGhlIHZlcmlmaWNhdGlvbkNvZGUgZnJvbSB0aGUgdXNlci5cbiAqIGNvbnN0IHBob25lQ3JlZGVudGlhbCA9IFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwodmVyaWZpY2F0aW9uSWQsIHZlcmlmaWNhdGlvbkNvZGUpO1xuICogYXdhaXQgdXBkYXRlUGhvbmVOdW1iZXIodXNlciwgcGhvbmVDcmVkZW50aWFsKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gY3JlZGVudGlhbCAtIEEgY3JlZGVudGlhbCBhdXRoZW50aWNhdGluZyB0aGUgbmV3IHBob25lIG51bWJlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQaG9uZU51bWJlcihcbiAgdXNlcjogVXNlcixcbiAgY3JlZGVudGlhbDogUGhvbmVBdXRoQ3JlZGVudGlhbFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh1c2VySW50ZXJuYWwuYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IodXNlckludGVybmFsLmF1dGgpXG4gICAgKTtcbiAgfVxuICBhd2FpdCBfbGluayh1c2VySW50ZXJuYWwsIGNyZWRlbnRpYWwpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEF1dGgsXG4gIFBob25lSW5mb09wdGlvbnMsXG4gIEFwcGxpY2F0aW9uVmVyaWZpZXIsXG4gIFVzZXJDcmVkZW50aWFsXG59IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3Ntcyc7XG5pbXBvcnQgeyBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWwgYXMgQXBwbGljYXRpb25WZXJpZmllckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXBwbGljYXRpb25fdmVyaWZpZXInO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIGFzIEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCBhcyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBQaG9uZUF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vY29yZS9jcmVkZW50aWFscy9waG9uZSc7XG5pbXBvcnQgeyBfdmVyaWZ5UGhvbmVOdW1iZXIgfSBmcm9tICcuLi9zdHJhdGVnaWVzL3Bob25lJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uLy4uL2NvcmUvYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IEZpcmViYXNlRXJyb3IsIGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCwgU2lnbkluTWV0aG9kIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIGFuIHtAbGluayBQaG9uZUF1dGhDcmVkZW50aWFsfS5cbiAqXG4gKiBAcmVtYXJrc1xuICogYFBob25lQXV0aFByb3ZpZGVyYCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gJ3JlY2FwdGNoYS1jb250YWluZXInIGlzIHRoZSBJRCBvZiBhbiBlbGVtZW50IGluIHRoZSBET00uXG4gKiBjb25zdCBhcHBsaWNhdGlvblZlcmlmaWVyID0gbmV3IFJlY2FwdGNoYVZlcmlmaWVyKCdyZWNhcHRjaGEtY29udGFpbmVyJyk7XG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBQaG9uZUF1dGhQcm92aWRlcihhdXRoKTtcbiAqIGNvbnN0IHZlcmlmaWNhdGlvbklkID0gYXdhaXQgcHJvdmlkZXIudmVyaWZ5UGhvbmVOdW1iZXIoJysxNjUwNTU1MDEwMScsIGFwcGxpY2F0aW9uVmVyaWZpZXIpO1xuICogLy8gT2J0YWluIHRoZSB2ZXJpZmljYXRpb25Db2RlIGZyb20gdGhlIHVzZXIuXG4gKiBjb25zdCBwaG9uZUNyZWRlbnRpYWwgPSBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsKHZlcmlmaWNhdGlvbklkLCB2ZXJpZmljYXRpb25Db2RlKTtcbiAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aENyZWRlbnRpYWwoYXV0aCwgcGhvbmVDcmVkZW50aWFsKTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFBob25lQXV0aFByb3ZpZGVyIHtcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFByb3ZpZGVySWR9LlBIT05FLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfSUQ6ICdwaG9uZScgPSBQcm92aWRlcklkLlBIT05FO1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgU2lnbkluTWV0aG9kfS5QSE9ORS4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IFBIT05FX1NJR05fSU5fTUVUSE9EOiAncGhvbmUnID0gU2lnbkluTWV0aG9kLlBIT05FO1xuXG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBQcm92aWRlcklkfS5QSE9ORS4gKi9cbiAgcmVhZG9ubHkgcHJvdmlkZXJJZCA9IFBob25lQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lEO1xuICBwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbDtcblxuICAvKipcbiAgICogQHBhcmFtIGF1dGggLSBUaGUgRmlyZWJhc2Uge0BsaW5rIEF1dGh9IGluc3RhbmNlIGluIHdoaWNoIHNpZ24taW5zIHNob3VsZCBvY2N1ci5cbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKGF1dGg6IEF1dGgpIHtcbiAgICB0aGlzLmF1dGggPSBfY2FzdEF1dGgoYXV0aCk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogU3RhcnRzIGEgcGhvbmUgbnVtYmVyIGF1dGhlbnRpY2F0aW9uIGZsb3cgYnkgc2VuZGluZyBhIHZlcmlmaWNhdGlvbiBjb2RlIHRvIHRoZSBnaXZlbiBwaG9uZVxuICAgKiBudW1iZXIuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3QgcHJvdmlkZXIgPSBuZXcgUGhvbmVBdXRoUHJvdmlkZXIoYXV0aCk7XG4gICAqIGNvbnN0IHZlcmlmaWNhdGlvbklkID0gYXdhaXQgcHJvdmlkZXIudmVyaWZ5UGhvbmVOdW1iZXIocGhvbmVOdW1iZXIsIGFwcGxpY2F0aW9uVmVyaWZpZXIpO1xuICAgKiAvLyBPYnRhaW4gdmVyaWZpY2F0aW9uQ29kZSBmcm9tIHRoZSB1c2VyLlxuICAgKiBjb25zdCBhdXRoQ3JlZGVudGlhbCA9IFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwodmVyaWZpY2F0aW9uSWQsIHZlcmlmaWNhdGlvbkNvZGUpO1xuICAgKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhDcmVkZW50aWFsKGF1dGgsIGF1dGhDcmVkZW50aWFsKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIEFuIGFsdGVybmF0aXZlIGZsb3cgaXMgcHJvdmlkZWQgdXNpbmcgdGhlIGBzaWduSW5XaXRoUGhvbmVOdW1iZXJgIG1ldGhvZC5cbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBjb25maXJtYXRpb25SZXN1bHQgPSBzaWduSW5XaXRoUGhvbmVOdW1iZXIoYXV0aCwgcGhvbmVOdW1iZXIsIGFwcGxpY2F0aW9uVmVyaWZpZXIpO1xuICAgKiAvLyBPYnRhaW4gdmVyaWZpY2F0aW9uQ29kZSBmcm9tIHRoZSB1c2VyLlxuICAgKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGNvbmZpcm1hdGlvblJlc3VsdC5jb25maXJtKHZlcmlmaWNhdGlvbkNvZGUpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHBob25lSW5mb09wdGlvbnMgLSBUaGUgdXNlcidzIHtAbGluayBQaG9uZUluZm9PcHRpb25zfS4gVGhlIHBob25lIG51bWJlciBzaG91bGQgYmUgaW5cbiAgICogRS4xNjQgZm9ybWF0IChlLmcuICsxNjUwNTU1MDEwMSkuXG4gICAqIEBwYXJhbSBhcHBsaWNhdGlvblZlcmlmaWVyIC0gRm9yIGFidXNlIHByZXZlbnRpb24sIHRoaXMgbWV0aG9kIGFsc28gcmVxdWlyZXMgYVxuICAgKiB7QGxpbmsgQXBwbGljYXRpb25WZXJpZmllcn0uIFRoaXMgU0RLIGluY2x1ZGVzIGEgcmVDQVBUQ0hBLWJhc2VkIGltcGxlbWVudGF0aW9uLFxuICAgKiB7QGxpbmsgUmVjYXB0Y2hhVmVyaWZpZXJ9LlxuICAgKlxuICAgKiBAcmV0dXJucyBBIFByb21pc2UgZm9yIGEgdmVyaWZpY2F0aW9uIElEIHRoYXQgY2FuIGJlIHBhc3NlZCB0b1xuICAgKiB7QGxpbmsgUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbH0gdG8gaWRlbnRpZnkgdGhpcyBmbG93Li5cbiAgICovXG4gIHZlcmlmeVBob25lTnVtYmVyKFxuICAgIHBob25lT3B0aW9uczogUGhvbmVJbmZvT3B0aW9ucyB8IHN0cmluZyxcbiAgICBhcHBsaWNhdGlvblZlcmlmaWVyOiBBcHBsaWNhdGlvblZlcmlmaWVyXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIF92ZXJpZnlQaG9uZU51bWJlcihcbiAgICAgIHRoaXMuYXV0aCxcbiAgICAgIHBob25lT3B0aW9ucyxcbiAgICAgIGdldE1vZHVsYXJJbnN0YW5jZShhcHBsaWNhdGlvblZlcmlmaWVyIGFzIEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwsIGdpdmVuIHRoZSB2ZXJpZmljYXRpb24gSUQgZnJvbVxuICAgKiB7QGxpbmsgUGhvbmVBdXRoUHJvdmlkZXIudmVyaWZ5UGhvbmVOdW1iZXJ9IGFuZCB0aGUgY29kZSB0aGF0IHdhcyBzZW50IHRvIHRoZSB1c2VyJ3NcbiAgICogbW9iaWxlIGRldmljZS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBwcm92aWRlciA9IG5ldyBQaG9uZUF1dGhQcm92aWRlcihhdXRoKTtcbiAgICogY29uc3QgdmVyaWZpY2F0aW9uSWQgPSBwcm92aWRlci52ZXJpZnlQaG9uZU51bWJlcihwaG9uZU51bWJlciwgYXBwbGljYXRpb25WZXJpZmllcik7XG4gICAqIC8vIE9idGFpbiB2ZXJpZmljYXRpb25Db2RlIGZyb20gdGhlIHVzZXIuXG4gICAqIGNvbnN0IGF1dGhDcmVkZW50aWFsID0gUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh2ZXJpZmljYXRpb25JZCwgdmVyaWZpY2F0aW9uQ29kZSk7XG4gICAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gc2lnbkluV2l0aENyZWRlbnRpYWwoYXV0aCwgYXV0aENyZWRlbnRpYWwpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogQW4gYWx0ZXJuYXRpdmUgZmxvdyBpcyBwcm92aWRlZCB1c2luZyB0aGUgYHNpZ25JbldpdGhQaG9uZU51bWJlcmAgbWV0aG9kLlxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IGNvbmZpcm1hdGlvblJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQaG9uZU51bWJlcihhdXRoLCBwaG9uZU51bWJlciwgYXBwbGljYXRpb25WZXJpZmllcik7XG4gICAqIC8vIE9idGFpbiB2ZXJpZmljYXRpb25Db2RlIGZyb20gdGhlIHVzZXIuXG4gICAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgY29uZmlybWF0aW9uUmVzdWx0LmNvbmZpcm0odmVyaWZpY2F0aW9uQ29kZSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gdmVyaWZpY2F0aW9uSWQgLSBUaGUgdmVyaWZpY2F0aW9uIElEIHJldHVybmVkIGZyb20ge0BsaW5rIFBob25lQXV0aFByb3ZpZGVyLnZlcmlmeVBob25lTnVtYmVyfS5cbiAgICogQHBhcmFtIHZlcmlmaWNhdGlvbkNvZGUgLSBUaGUgdmVyaWZpY2F0aW9uIGNvZGUgc2VudCB0byB0aGUgdXNlcidzIG1vYmlsZSBkZXZpY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBhdXRoIHByb3ZpZGVyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbChcbiAgICB2ZXJpZmljYXRpb25JZDogc3RyaW5nLFxuICAgIHZlcmlmaWNhdGlvbkNvZGU6IHN0cmluZ1xuICApOiBQaG9uZUF1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gUGhvbmVBdXRoQ3JlZGVudGlhbC5fZnJvbVZlcmlmaWNhdGlvbihcbiAgICAgIHZlcmlmaWNhdGlvbklkLFxuICAgICAgdmVyaWZpY2F0aW9uQ29kZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIGFuIHtAbGluayBBdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBVc2VyQ3JlZGVudGlhbH0uXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21SZXN1bHQoXG4gICAgdXNlckNyZWRlbnRpYWw6IFVzZXJDcmVkZW50aWFsXG4gICk6IEF1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgY29uc3QgY3JlZGVudGlhbCA9IHVzZXJDcmVkZW50aWFsIGFzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWw7XG4gICAgcmV0dXJuIFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KGNyZWRlbnRpYWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4ge0BsaW5rIEF1dGhDcmVkZW50aWFsfSB3aGVuIHBhc3NlZCBhbiBlcnJvci5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICpcbiAgICogVGhpcyBtZXRob2Qgd29ya3MgZm9yIGVycm9ycyBsaWtlXG4gICAqIGBhdXRoL2FjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWxzYC4gVGhpcyBpcyB1c2VmdWwgZm9yXG4gICAqIHJlY292ZXJpbmcgd2hlbiBhdHRlbXB0aW5nIHRvIHNldCBhIHVzZXIncyBwaG9uZSBudW1iZXIgYnV0IHRoZSBudW1iZXJcbiAgICogaW4gcXVlc3Rpb24gaXMgYWxyZWFkeSB0aWVkIHRvIGFub3RoZXIgYWNjb3VudC4gRm9yIGV4YW1wbGUsIHRoZSBmb2xsb3dpbmdcbiAgICogY29kZSB0cmllcyB0byB1cGRhdGUgdGhlIGN1cnJlbnQgdXNlcidzIHBob25lIG51bWJlciwgYW5kIGlmIHRoYXRcbiAgICogZmFpbHMsIGxpbmtzIHRoZSB1c2VyIHdpdGggdGhlIGFjY291bnQgYXNzb2NpYXRlZCB3aXRoIHRoYXQgbnVtYmVyOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjb25zdCBwcm92aWRlciA9IG5ldyBQaG9uZUF1dGhQcm92aWRlcihhdXRoKTtcbiAgICogY29uc3QgdmVyaWZpY2F0aW9uSWQgPSBhd2FpdCBwcm92aWRlci52ZXJpZnlQaG9uZU51bWJlcihudW1iZXIsIHZlcmlmaWVyKTtcbiAgICogdHJ5IHtcbiAgICogICBjb25zdCBjb2RlID0gJyc7IC8vIFByb21wdCB0aGUgdXNlciBmb3IgdGhlIHZlcmlmaWNhdGlvbiBjb2RlXG4gICAqICAgYXdhaXQgdXBkYXRlUGhvbmVOdW1iZXIoXG4gICAqICAgICAgIGF1dGguY3VycmVudFVzZXIsXG4gICAqICAgICAgIFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwodmVyaWZpY2F0aW9uSWQsIGNvZGUpKTtcbiAgICogfSBjYXRjaCAoZSkge1xuICAgKiAgIGlmICgoZSBhcyBGaXJlYmFzZUVycm9yKT8uY29kZSA9PT0gJ2F1dGgvYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCcpIHtcbiAgICogICAgIGNvbnN0IGNyZWQgPSBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbUVycm9yKGUpO1xuICAgKiAgICAgYXdhaXQgbGlua1dpdGhDcmVkZW50aWFsKGF1dGguY3VycmVudFVzZXIsIGNyZWQpO1xuICAgKiAgIH1cbiAgICogfVxuICAgKlxuICAgKiAvLyBBdCB0aGlzIHBvaW50LCBhdXRoLmN1cnJlbnRVc2VyLnBob25lTnVtYmVyID09PSBudW1iZXIuXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gZXJyb3IgLSBUaGUgZXJyb3IgdG8gZ2VuZXJhdGUgYSBjcmVkZW50aWFsIGZyb20uXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21FcnJvcihlcnJvcjogRmlyZWJhc2VFcnJvcik6IEF1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgKGVycm9yLmN1c3RvbURhdGEgfHwge30pIGFzIFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KHtcbiAgICBfdG9rZW5SZXNwb25zZTogdG9rZW5SZXNwb25zZVxuICB9OiBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSk6IEF1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgaWYgKCF0b2tlblJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBwaG9uZU51bWJlciwgdGVtcG9yYXJ5UHJvb2YgfSA9XG4gICAgICB0b2tlblJlc3BvbnNlIGFzIFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlO1xuICAgIGlmIChwaG9uZU51bWJlciAmJiB0ZW1wb3JhcnlQcm9vZikge1xuICAgICAgcmV0dXJuIFBob25lQXV0aENyZWRlbnRpYWwuX2Zyb21Ub2tlblJlc3BvbnNlKFxuICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgdGVtcG9yYXJ5UHJvb2ZcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUG9wdXBSZWRpcmVjdFJlc29sdmVyIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuL2Fzc2VydCc7XG5pbXBvcnQgeyBfZ2V0SW5zdGFuY2UgfSBmcm9tICcuL2luc3RhbnRpYXRvcic7XG5cbi8qKlxuICogQ2hvb3NlcyBhIHBvcHVwL3JlZGlyZWN0IHJlc29sdmVyIHRvIHVzZS4gVGhpcyBwcmVmZXJzIHRoZSBvdmVycmlkZSAod2hpY2hcbiAqIGlzIGRpcmVjdGx5IHBhc3NlZCBpbiksIGFuZCBmYWxscyBiYWNrIHRvIHRoZSBwcm9wZXJ0eSBzZXQgb24gdGhlIGF1dGhcbiAqIG9iamVjdC4gSWYgbmVpdGhlciBhcmUgYXZhaWxhYmxlLCB0aGlzIGZ1bmN0aW9uIGVycm9ycyB3LyBhbiBhcmd1bWVudCBlcnJvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF93aXRoRGVmYXVsdFJlc29sdmVyKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHJlc29sdmVyT3ZlcnJpZGU6IFBvcHVwUmVkaXJlY3RSZXNvbHZlciB8IHVuZGVmaW5lZFxuKTogUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwge1xuICBpZiAocmVzb2x2ZXJPdmVycmlkZSkge1xuICAgIHJldHVybiBfZ2V0SW5zdGFuY2UocmVzb2x2ZXJPdmVycmlkZSk7XG4gIH1cblxuICBfYXNzZXJ0KGF1dGguX3BvcHVwUmVkaXJlY3RSZXNvbHZlciwgYXV0aCwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG5cbiAgcmV0dXJuIGF1dGguX3BvcHVwUmVkaXJlY3RSZXNvbHZlcjtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBzaWduSW5XaXRoSWRwLFxuICBTaWduSW5XaXRoSWRwUmVxdWVzdFxufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vaWRwJztcbmltcG9ydCB7IFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgVXNlckludGVybmFsLCBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IF9saW5rIGFzIF9saW5rVXNlciB9IGZyb20gJy4uL3VzZXIvbGlua191bmxpbmsnO1xuaW1wb3J0IHsgX3JlYXV0aGVudGljYXRlIH0gZnJvbSAnLi4vdXNlci9yZWF1dGhlbnRpY2F0ZSc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX3NpZ25JbldpdGhDcmVkZW50aWFsIH0gZnJvbSAnLi9jcmVkZW50aWFsJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuZXhwb3J0IGludGVyZmFjZSBJZHBUYXNrUGFyYW1zIHtcbiAgYXV0aDogQXV0aEludGVybmFsO1xuICByZXF1ZXN0VXJpOiBzdHJpbmc7XG4gIHNlc3Npb25JZD86IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG4gIHBvc3RCb2R5Pzogc3RyaW5nO1xuICBwZW5kaW5nVG9rZW4/OiBzdHJpbmc7XG4gIHVzZXI/OiBVc2VySW50ZXJuYWw7XG4gIGJ5cGFzc0F1dGhTdGF0ZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIElkcFRhc2sgPSAoXG4gIHBhcmFtczogSWRwVGFza1BhcmFtc1xuKSA9PiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWw+O1xuXG5jbGFzcyBJZHBDcmVkZW50aWFsIGV4dGVuZHMgQXV0aENyZWRlbnRpYWwge1xuICBjb25zdHJ1Y3RvcihyZWFkb25seSBwYXJhbXM6IElkcFRhc2tQYXJhbXMpIHtcbiAgICBzdXBlcihQcm92aWRlcklkLkNVU1RPTSwgUHJvdmlkZXJJZC5DVVNUT00pO1xuICB9XG5cbiAgX2dldElkVG9rZW5SZXNwb25zZShhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gc2lnbkluV2l0aElkcChhdXRoLCB0aGlzLl9idWlsZElkcFJlcXVlc3QoKSk7XG4gIH1cblxuICBfbGlua1RvSWRUb2tlbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgaWRUb2tlbjogc3RyaW5nXG4gICk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHNpZ25JbldpdGhJZHAoYXV0aCwgdGhpcy5fYnVpbGRJZHBSZXF1ZXN0KGlkVG9rZW4pKTtcbiAgfVxuXG4gIF9nZXRSZWF1dGhlbnRpY2F0aW9uUmVzb2x2ZXIoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gc2lnbkluV2l0aElkcChhdXRoLCB0aGlzLl9idWlsZElkcFJlcXVlc3QoKSk7XG4gIH1cblxuICBwcml2YXRlIF9idWlsZElkcFJlcXVlc3QoaWRUb2tlbj86IHN0cmluZyk6IFNpZ25JbldpdGhJZHBSZXF1ZXN0IHtcbiAgICBjb25zdCByZXF1ZXN0OiBTaWduSW5XaXRoSWRwUmVxdWVzdCA9IHtcbiAgICAgIHJlcXVlc3RVcmk6IHRoaXMucGFyYW1zLnJlcXVlc3RVcmksXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMucGFyYW1zLnNlc3Npb25JZCxcbiAgICAgIHBvc3RCb2R5OiB0aGlzLnBhcmFtcy5wb3N0Qm9keSxcbiAgICAgIHRlbmFudElkOiB0aGlzLnBhcmFtcy50ZW5hbnRJZCxcbiAgICAgIHBlbmRpbmdUb2tlbjogdGhpcy5wYXJhbXMucGVuZGluZ1Rva2VuLFxuICAgICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWUsXG4gICAgICByZXR1cm5JZHBDcmVkZW50aWFsOiB0cnVlXG4gICAgfTtcblxuICAgIGlmIChpZFRva2VuKSB7XG4gICAgICByZXF1ZXN0LmlkVG9rZW4gPSBpZFRva2VuO1xuICAgIH1cblxuICAgIHJldHVybiByZXF1ZXN0O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfc2lnbkluKFxuICBwYXJhbXM6IElkcFRhc2tQYXJhbXNcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbD4ge1xuICByZXR1cm4gX3NpZ25JbldpdGhDcmVkZW50aWFsKFxuICAgIHBhcmFtcy5hdXRoLFxuICAgIG5ldyBJZHBDcmVkZW50aWFsKHBhcmFtcyksXG4gICAgcGFyYW1zLmJ5cGFzc0F1dGhTdGF0ZVxuICApIGFzIFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbD47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcmVhdXRoKFxuICBwYXJhbXM6IElkcFRhc2tQYXJhbXNcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbD4ge1xuICBjb25zdCB7IGF1dGgsIHVzZXIgfSA9IHBhcmFtcztcbiAgX2Fzc2VydCh1c2VyLCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgcmV0dXJuIF9yZWF1dGhlbnRpY2F0ZShcbiAgICB1c2VyLFxuICAgIG5ldyBJZHBDcmVkZW50aWFsKHBhcmFtcyksXG4gICAgcGFyYW1zLmJ5cGFzc0F1dGhTdGF0ZVxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2xpbmsoXG4gIHBhcmFtczogSWRwVGFza1BhcmFtc1xuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsPiB7XG4gIGNvbnN0IHsgYXV0aCwgdXNlciB9ID0gcGFyYW1zO1xuICBfYXNzZXJ0KHVzZXIsIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICByZXR1cm4gX2xpbmtVc2VyKHVzZXIsIG5ldyBJZHBDcmVkZW50aWFsKHBhcmFtcyksIHBhcmFtcy5ieXBhc3NBdXRoU3RhdGUpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7XG4gIEF1dGhFdmVudCxcbiAgQXV0aEV2ZW50Q29uc3VtZXIsXG4gIEF1dGhFdmVudFR5cGUsXG4gIEV2ZW50TWFuYWdlcixcbiAgUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgVXNlckludGVybmFsLCBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IGRlYnVnQXNzZXJ0LCBfZmFpbCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7XG4gIF9saW5rLFxuICBfcmVhdXRoLFxuICBfc2lnbkluLFxuICBJZHBUYXNrLFxuICBJZHBUYXNrUGFyYW1zXG59IGZyb20gJy4uL3N0cmF0ZWdpZXMvaWRwJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuXG5pbnRlcmZhY2UgUGVuZGluZ1Byb21pc2Uge1xuICByZXNvbHZlOiAoY3JlZDogVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB8IG51bGwpID0+IHZvaWQ7XG4gIHJlamVjdDogKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBQb3B1cCBldmVudCBtYW5hZ2VyLiBIYW5kbGVzIHRoZSBwb3B1cCdzIGVudGlyZSBsaWZlY3ljbGU7IGxpc3RlbnMgdG8gYXV0aFxuICogZXZlbnRzXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFBvcHVwUmVkaXJlY3RPcGVyYXRpb25cbiAgaW1wbGVtZW50cyBBdXRoRXZlbnRDb25zdW1lclxue1xuICBwcml2YXRlIHBlbmRpbmdQcm9taXNlOiBQZW5kaW5nUHJvbWlzZSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGV2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyIHwgbnVsbCA9IG51bGw7XG4gIHJlYWRvbmx5IGZpbHRlcjogQXV0aEV2ZW50VHlwZVtdO1xuXG4gIGFic3RyYWN0IGV2ZW50SWQ6IHN0cmluZyB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBmaWx0ZXI6IEF1dGhFdmVudFR5cGUgfCBBdXRoRXZlbnRUeXBlW10sXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCxcbiAgICBwcm90ZWN0ZWQgdXNlcj86IFVzZXJJbnRlcm5hbCxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgYnlwYXNzQXV0aFN0YXRlID0gZmFsc2VcbiAgKSB7XG4gICAgdGhpcy5maWx0ZXIgPSBBcnJheS5pc0FycmF5KGZpbHRlcikgPyBmaWx0ZXIgOiBbZmlsdGVyXTtcbiAgfVxuXG4gIGFic3RyYWN0IG9uRXhlY3V0aW9uKCk6IFByb21pc2U8dm9pZD47XG5cbiAgZXhlY3V0ZSgpOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfCBudWxsPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfCBudWxsPihcbiAgICAgIGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdGhpcy5wZW5kaW5nUHJvbWlzZSA9IHsgcmVzb2x2ZSwgcmVqZWN0IH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlciA9IGF3YWl0IHRoaXMucmVzb2x2ZXIuX2luaXRpYWxpemUodGhpcy5hdXRoKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLm9uRXhlY3V0aW9uKCk7XG4gICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIucmVnaXN0ZXJDb25zdW1lcih0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRoaXMucmVqZWN0KGUgYXMgRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIG9uQXV0aEV2ZW50KGV2ZW50OiBBdXRoRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IHVybFJlc3BvbnNlLCBzZXNzaW9uSWQsIHBvc3RCb2R5LCB0ZW5hbnRJZCwgZXJyb3IsIHR5cGUgfSA9IGV2ZW50O1xuICAgIGlmIChlcnJvcikge1xuICAgICAgdGhpcy5yZWplY3QoZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtczogSWRwVGFza1BhcmFtcyA9IHtcbiAgICAgIGF1dGg6IHRoaXMuYXV0aCxcbiAgICAgIHJlcXVlc3RVcmk6IHVybFJlc3BvbnNlISxcbiAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkISxcbiAgICAgIHRlbmFudElkOiB0ZW5hbnRJZCB8fCB1bmRlZmluZWQsXG4gICAgICBwb3N0Qm9keTogcG9zdEJvZHkgfHwgdW5kZWZpbmVkLFxuICAgICAgdXNlcjogdGhpcy51c2VyLFxuICAgICAgYnlwYXNzQXV0aFN0YXRlOiB0aGlzLmJ5cGFzc0F1dGhTdGF0ZVxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5yZXNvbHZlKGF3YWl0IHRoaXMuZ2V0SWRwVGFzayh0eXBlKShwYXJhbXMpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnJlamVjdChlIGFzIEVycm9yKTtcbiAgICB9XG4gIH1cblxuICBvbkVycm9yKGVycm9yOiBGaXJlYmFzZUVycm9yKTogdm9pZCB7XG4gICAgdGhpcy5yZWplY3QoZXJyb3IpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRJZHBUYXNrKHR5cGU6IEF1dGhFdmVudFR5cGUpOiBJZHBUYXNrIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5TSUdOX0lOX1ZJQV9QT1BVUDpcbiAgICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5TSUdOX0lOX1ZJQV9SRURJUkVDVDpcbiAgICAgICAgcmV0dXJuIF9zaWduSW47XG4gICAgICBjYXNlIEF1dGhFdmVudFR5cGUuTElOS19WSUFfUE9QVVA6XG4gICAgICBjYXNlIEF1dGhFdmVudFR5cGUuTElOS19WSUFfUkVESVJFQ1Q6XG4gICAgICAgIHJldHVybiBfbGluaztcbiAgICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5SRUFVVEhfVklBX1BPUFVQOlxuICAgICAgY2FzZSBBdXRoRXZlbnRUeXBlLlJFQVVUSF9WSUFfUkVESVJFQ1Q6XG4gICAgICAgIHJldHVybiBfcmVhdXRoO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgX2ZhaWwodGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVzb2x2ZShjcmVkOiBVc2VyQ3JlZGVudGlhbEludGVybmFsIHwgbnVsbCk6IHZvaWQge1xuICAgIGRlYnVnQXNzZXJ0KHRoaXMucGVuZGluZ1Byb21pc2UsICdQZW5kaW5nIHByb21pc2Ugd2FzIG5ldmVyIHNldCcpO1xuICAgIHRoaXMucGVuZGluZ1Byb21pc2UucmVzb2x2ZShjcmVkKTtcbiAgICB0aGlzLnVucmVnaXN0ZXJBbmRDbGVhblVwKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVqZWN0KGVycm9yOiBFcnJvcik6IHZvaWQge1xuICAgIGRlYnVnQXNzZXJ0KHRoaXMucGVuZGluZ1Byb21pc2UsICdQZW5kaW5nIHByb21pc2Ugd2FzIG5ldmVyIHNldCcpO1xuICAgIHRoaXMucGVuZGluZ1Byb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB0aGlzLnVucmVnaXN0ZXJBbmRDbGVhblVwKCk7XG4gIH1cblxuICBwcml2YXRlIHVucmVnaXN0ZXJBbmRDbGVhblVwKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmV2ZW50TWFuYWdlcikge1xuICAgICAgdGhpcy5ldmVudE1hbmFnZXIudW5yZWdpc3RlckNvbnN1bWVyKHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMucGVuZGluZ1Byb21pc2UgPSBudWxsO1xuICAgIHRoaXMuY2xlYW5VcCgpO1xuICB9XG5cbiAgYWJzdHJhY3QgY2xlYW5VcCgpOiB2b2lkO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEF1dGgsXG4gIEF1dGhQcm92aWRlcixcbiAgUG9wdXBSZWRpcmVjdFJlc29sdmVyLFxuICBVc2VyLFxuICBVc2VyQ3JlZGVudGlhbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi8uLi9jb3JlL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQge1xuICBfYXNzZXJ0LFxuICBkZWJ1Z0Fzc2VydCxcbiAgX2NyZWF0ZUVycm9yLFxuICBfYXNzZXJ0SW5zdGFuY2VPZlxufSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IERlbGF5IH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2RlbGF5JztcbmltcG9ydCB7IF9nZW5lcmF0ZUV2ZW50SWQgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvZXZlbnRfaWQnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQge1xuICBBdXRoRXZlbnRUeXBlLFxuICBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IF93aXRoRGVmYXVsdFJlc29sdmVyIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL3Jlc29sdmVyJztcbmltcG9ydCB7IEF1dGhQb3B1cCB9IGZyb20gJy4uL3V0aWwvcG9wdXAnO1xuaW1wb3J0IHsgQWJzdHJhY3RQb3B1cFJlZGlyZWN0T3BlcmF0aW9uIH0gZnJvbSAnLi4vLi4vY29yZS9zdHJhdGVnaWVzL2Fic3RyYWN0X3BvcHVwX3JlZGlyZWN0X29wZXJhdGlvbic7XG5pbXBvcnQgeyBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9jb3JlL3Byb3ZpZGVycy9mZWRlcmF0ZWQnO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcblxuLypcbiAqIFRoZSBldmVudCB0aW1lb3V0IGlzIHRoZSBzYW1lIG9uIG1vYmlsZSBhbmQgZGVza3RvcCwgbm8gbmVlZCBmb3IgRGVsYXkuIFNldCB0aGlzIHRvIDhzIHNpbmNlXG4gKiBibG9ja2luZyBmdW5jdGlvbnMgY2FuIHRha2UgdXB0byA3cyB0byBjb21wbGV0ZSBzaWduIGluLCBhcyBkb2N1bWVudGVkIGluOlxuICogaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2lkZW50aXR5LXBsYXRmb3JtL2RvY3MvYmxvY2tpbmctZnVuY3Rpb25zI3VuZGVyc3RhbmRpbmdfYmxvY2tpbmdfZnVuY3Rpb25zXG4gKiBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy9hdXRoL2V4dGVuZC13aXRoLWJsb2NraW5nLWZ1bmN0aW9ucyN1bmRlcnN0YW5kaW5nX2Jsb2NraW5nX2Z1bmN0aW9uc1xuICovXG5leHBvcnQgY29uc3QgZW51bSBfVGltZW91dCB7XG4gIEFVVEhfRVZFTlQgPSA4MDAwXG59XG5leHBvcnQgY29uc3QgX1BPTExfV0lORE9XX0NMT1NFX1RJTUVPVVQgPSBuZXcgRGVsYXkoMjAwMCwgMTAwMDApO1xuXG4vKipcbiAqIEF1dGhlbnRpY2F0ZXMgYSBGaXJlYmFzZSBjbGllbnQgdXNpbmcgYSBwb3B1cC1iYXNlZCBPQXV0aCBhdXRoZW50aWNhdGlvbiBmbG93LlxuICpcbiAqIEByZW1hcmtzXG4gKiBJZiBzdWNjZWVkcywgcmV0dXJucyB0aGUgc2lnbmVkIGluIHVzZXIgYWxvbmcgd2l0aCB0aGUgcHJvdmlkZXIncyBjcmVkZW50aWFsLiBJZiBzaWduIGluIHdhc1xuICogdW5zdWNjZXNzZnVsLCByZXR1cm5zIGFuIGVycm9yIG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIHdpdGgge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcG9wdXAuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAqXG4gKiAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby5cbiAqIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqIC8vIFRoaXMgZ2l2ZXMgeW91IGEgRmFjZWJvb2sgQWNjZXNzIFRva2VuLlxuICogY29uc3QgY3JlZGVudGlhbCA9IHByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KGF1dGgsIHJlc3VsdCk7XG4gKiBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgdG8gYXV0aGVudGljYXRlLiBUaGUgcHJvdmlkZXIgaGFzIHRvIGJlIGFuIHtAbGluayBPQXV0aFByb3ZpZGVyfS5cbiAqIE5vbi1PQXV0aCBwcm92aWRlcnMgbGlrZSB7QGxpbmsgRW1haWxBdXRoUHJvdmlkZXJ9IHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gKiBAcGFyYW0gcmVzb2x2ZXIgLSBBbiBpbnN0YW5jZSBvZiB7QGxpbmsgUG9wdXBSZWRpcmVjdFJlc29sdmVyfSwgb3B0aW9uYWxcbiAqIGlmIGFscmVhZHkgc3VwcGxpZWQgdG8ge0BsaW5rIGluaXRpYWxpemVBdXRofSBvciBwcm92aWRlZCBieSB7QGxpbmsgZ2V0QXV0aH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aFBvcHVwKFxuICBhdXRoOiBBdXRoLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX2NyZWF0ZUVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9TVVBQT1JURUQpXG4gICAgKTtcbiAgfVxuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIF9hc3NlcnRJbnN0YW5jZU9mKGF1dGgsIHByb3ZpZGVyLCBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIpO1xuICBjb25zdCByZXNvbHZlckludGVybmFsID0gX3dpdGhEZWZhdWx0UmVzb2x2ZXIoYXV0aEludGVybmFsLCByZXNvbHZlcik7XG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBQb3B1cE9wZXJhdGlvbihcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgQXV0aEV2ZW50VHlwZS5TSUdOX0lOX1ZJQV9QT1BVUCxcbiAgICBwcm92aWRlcixcbiAgICByZXNvbHZlckludGVybmFsXG4gICk7XG4gIHJldHVybiBhY3Rpb24uZXhlY3V0ZU5vdE51bGwoKTtcbn1cblxuLyoqXG4gKiBSZWF1dGhlbnRpY2F0ZXMgdGhlIGN1cnJlbnQgdXNlciB3aXRoIHRoZSBzcGVjaWZpZWQge0BsaW5rIE9BdXRoUHJvdmlkZXJ9IHVzaW5nIGEgcG9wLXVwIGJhc2VkXG4gKiBPQXV0aCBmbG93LlxuICpcbiAqIEByZW1hcmtzXG4gKiBJZiB0aGUgcmVhdXRoZW50aWNhdGlvbiBpcyBzdWNjZXNzZnVsLCB0aGUgcmV0dXJuZWQgcmVzdWx0IHdpbGwgY29udGFpbiB0aGUgdXNlciBhbmQgdGhlXG4gKiBwcm92aWRlcidzIGNyZWRlbnRpYWwuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igb24gYW55IHtAbGluayBVc2VyfSBzaWduZWQgaW4gYnlcbiAqIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcG9wdXAuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAqIC8vIFJlYXV0aGVudGljYXRlIHVzaW5nIGEgcG9wdXAuXG4gKiBhd2FpdCByZWF1dGhlbnRpY2F0ZVdpdGhQb3B1cChyZXN1bHQudXNlciwgcHJvdmlkZXIpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBhdXRoZW50aWNhdGUuIFRoZSBwcm92aWRlciBoYXMgdG8gYmUgYW4ge0BsaW5rIE9BdXRoUHJvdmlkZXJ9LlxuICogTm9uLU9BdXRoIHByb3ZpZGVycyBsaWtlIHtAbGluayBFbWFpbEF1dGhQcm92aWRlcn0gd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAqIEBwYXJhbSByZXNvbHZlciAtIEFuIGluc3RhbmNlIG9mIHtAbGluayBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJ9LCBvcHRpb25hbFxuICogaWYgYWxyZWFkeSBzdXBwbGllZCB0byB7QGxpbmsgaW5pdGlhbGl6ZUF1dGh9IG9yIHByb3ZpZGVkIGJ5IHtAbGluayBnZXRBdXRofS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWF1dGhlbnRpY2F0ZVdpdGhQb3B1cChcbiAgdXNlcjogVXNlcixcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHVzZXJJbnRlcm5hbC5hdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfY3JlYXRlRXJyb3IodXNlckludGVybmFsLmF1dGgsIEF1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9TVVBQT1JURUQpXG4gICAgKTtcbiAgfVxuICBfYXNzZXJ0SW5zdGFuY2VPZih1c2VySW50ZXJuYWwuYXV0aCwgcHJvdmlkZXIsIEZlZGVyYXRlZEF1dGhQcm92aWRlcik7XG4gIGNvbnN0IHJlc29sdmVySW50ZXJuYWwgPSBfd2l0aERlZmF1bHRSZXNvbHZlcih1c2VySW50ZXJuYWwuYXV0aCwgcmVzb2x2ZXIpO1xuICBjb25zdCBhY3Rpb24gPSBuZXcgUG9wdXBPcGVyYXRpb24oXG4gICAgdXNlckludGVybmFsLmF1dGgsXG4gICAgQXV0aEV2ZW50VHlwZS5SRUFVVEhfVklBX1BPUFVQLFxuICAgIHByb3ZpZGVyLFxuICAgIHJlc29sdmVySW50ZXJuYWwsXG4gICAgdXNlckludGVybmFsXG4gICk7XG4gIHJldHVybiBhY3Rpb24uZXhlY3V0ZU5vdE51bGwoKTtcbn1cblxuLyoqXG4gKiBMaW5rcyB0aGUgYXV0aGVudGljYXRlZCBwcm92aWRlciB0byB0aGUgdXNlciBhY2NvdW50IHVzaW5nIGEgcG9wLXVwIGJhc2VkIE9BdXRoIGZsb3cuXG4gKlxuICogQHJlbWFya3NcbiAqIElmIHRoZSBsaW5raW5nIGlzIHN1Y2Nlc3NmdWwsIHRoZSByZXR1cm5lZCByZXN1bHQgd2lsbCBjb250YWluIHRoZSB1c2VyIGFuZCB0aGUgcHJvdmlkZXIncyBjcmVkZW50aWFsLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIHNvbWUgb3RoZXIgcHJvdmlkZXIuXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChhdXRoLCBlbWFpbCwgcGFzc3dvcmQpO1xuICogLy8gTGluayB1c2luZyBhIHBvcHVwLlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAqIGF3YWl0IGxpbmtXaXRoUG9wdXAocmVzdWx0LnVzZXIsIHByb3ZpZGVyKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgdG8gYXV0aGVudGljYXRlLiBUaGUgcHJvdmlkZXIgaGFzIHRvIGJlIGFuIHtAbGluayBPQXV0aFByb3ZpZGVyfS5cbiAqIE5vbi1PQXV0aCBwcm92aWRlcnMgbGlrZSB7QGxpbmsgRW1haWxBdXRoUHJvdmlkZXJ9IHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gKiBAcGFyYW0gcmVzb2x2ZXIgLSBBbiBpbnN0YW5jZSBvZiB7QGxpbmsgUG9wdXBSZWRpcmVjdFJlc29sdmVyfSwgb3B0aW9uYWxcbiAqIGlmIGFscmVhZHkgc3VwcGxpZWQgdG8ge0BsaW5rIGluaXRpYWxpemVBdXRofSBvciBwcm92aWRlZCBieSB7QGxpbmsgZ2V0QXV0aH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlua1dpdGhQb3B1cChcbiAgdXNlcjogVXNlcixcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgX2Fzc2VydEluc3RhbmNlT2YodXNlckludGVybmFsLmF1dGgsIHByb3ZpZGVyLCBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIpO1xuICBjb25zdCByZXNvbHZlckludGVybmFsID0gX3dpdGhEZWZhdWx0UmVzb2x2ZXIodXNlckludGVybmFsLmF1dGgsIHJlc29sdmVyKTtcblxuICBjb25zdCBhY3Rpb24gPSBuZXcgUG9wdXBPcGVyYXRpb24oXG4gICAgdXNlckludGVybmFsLmF1dGgsXG4gICAgQXV0aEV2ZW50VHlwZS5MSU5LX1ZJQV9QT1BVUCxcbiAgICBwcm92aWRlcixcbiAgICByZXNvbHZlckludGVybmFsLFxuICAgIHVzZXJJbnRlcm5hbFxuICApO1xuICByZXR1cm4gYWN0aW9uLmV4ZWN1dGVOb3ROdWxsKCk7XG59XG5cbi8qKlxuICogUG9wdXAgZXZlbnQgbWFuYWdlci4gSGFuZGxlcyB0aGUgcG9wdXAncyBlbnRpcmUgbGlmZWN5Y2xlOyBsaXN0ZW5zIHRvIGF1dGhcbiAqIGV2ZW50c1xuICpcbiAqL1xuY2xhc3MgUG9wdXBPcGVyYXRpb24gZXh0ZW5kcyBBYnN0cmFjdFBvcHVwUmVkaXJlY3RPcGVyYXRpb24ge1xuICAvLyBPbmx5IG9uZSBwb3B1cCBpcyBldmVyIHNob3duIGF0IG9uY2UuIFRoZSBsaWZlY3ljbGUgb2YgdGhlIGN1cnJlbnQgcG9wdXBcbiAgLy8gY2FuIGJlIG1hbmFnZWQgLyBjYW5jZWxsZWQgYnkgdGhlIGNvbnN0cnVjdG9yLlxuICBwcml2YXRlIHN0YXRpYyBjdXJyZW50UG9wdXBBY3Rpb246IFBvcHVwT3BlcmF0aW9uIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgYXV0aFdpbmRvdzogQXV0aFBvcHVwIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcG9sbElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgZmlsdGVyOiBBdXRoRXZlbnRUeXBlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgICByZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwsXG4gICAgdXNlcj86IFVzZXJJbnRlcm5hbFxuICApIHtcbiAgICBzdXBlcihhdXRoLCBmaWx0ZXIsIHJlc29sdmVyLCB1c2VyKTtcbiAgICBpZiAoUG9wdXBPcGVyYXRpb24uY3VycmVudFBvcHVwQWN0aW9uKSB7XG4gICAgICBQb3B1cE9wZXJhdGlvbi5jdXJyZW50UG9wdXBBY3Rpb24uY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgUG9wdXBPcGVyYXRpb24uY3VycmVudFBvcHVwQWN0aW9uID0gdGhpcztcbiAgfVxuXG4gIGFzeW5jIGV4ZWN1dGVOb3ROdWxsKCk6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGUoKTtcbiAgICBfYXNzZXJ0KHJlc3VsdCwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgYXN5bmMgb25FeGVjdXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZGVidWdBc3NlcnQoXG4gICAgICB0aGlzLmZpbHRlci5sZW5ndGggPT09IDEsXG4gICAgICAnUG9wdXAgb3BlcmF0aW9ucyBvbmx5IGhhbmRsZSBvbmUgZXZlbnQnXG4gICAgKTtcbiAgICBjb25zdCBldmVudElkID0gX2dlbmVyYXRlRXZlbnRJZCgpO1xuICAgIHRoaXMuYXV0aFdpbmRvdyA9IGF3YWl0IHRoaXMucmVzb2x2ZXIuX29wZW5Qb3B1cChcbiAgICAgIHRoaXMuYXV0aCxcbiAgICAgIHRoaXMucHJvdmlkZXIsXG4gICAgICB0aGlzLmZpbHRlclswXSwgLy8gVGhlcmUncyBhbHdheXMgb25lLCBzZWUgY29uc3RydWN0b3JcbiAgICAgIGV2ZW50SWRcbiAgICApO1xuICAgIHRoaXMuYXV0aFdpbmRvdy5hc3NvY2lhdGVkRXZlbnQgPSBldmVudElkO1xuXG4gICAgLy8gQ2hlY2sgZm9yIHdlYiBzdG9yYWdlIHN1cHBvcnQgYW5kIG9yaWdpbiB2YWxpZGF0aW9uIF9hZnRlcl8gdGhlIHBvcHVwIGlzXG4gICAgLy8gbG9hZGVkLiBUaGVzZSBvcGVyYXRpb25zIGFyZSBzbG93ICh+MSBzZWNvbmQgb3Igc28pIFJhdGhlciB0aGFuXG4gICAgLy8gd2FpdGluZyBvbiB0aGVtIGJlZm9yZSBvcGVuaW5nIHRoZSB3aW5kb3csIG9wdGltaXN0aWNhbGx5IG9wZW4gdGhlIHBvcHVwXG4gICAgLy8gYW5kIGNoZWNrIGZvciBzdG9yYWdlIHN1cHBvcnQgYXQgdGhlIHNhbWUgdGltZS4gSWYgc3RvcmFnZSBzdXBwb3J0IGlzXG4gICAgLy8gbm90IGF2YWlsYWJsZSwgdGhpcyB3aWxsIGNhdXNlIHRoZSB3aG9sZSB0aGluZyB0byByZWplY3QgcHJvcGVybHkuIEl0XG4gICAgLy8gd2lsbCBhbHNvIGNsb3NlIHRoZSBwb3B1cCwgYnV0IHNpbmNlIHRoZSBwcm9taXNlIGhhcyBhbHJlYWR5IHJlamVjdGVkLFxuICAgIC8vIHRoZSBwb3B1cCBjbG9zZWQgYnkgdXNlciBwb2xsIHdpbGwgcmVqZWN0IGludG8gdGhlIHZvaWQuXG4gICAgdGhpcy5yZXNvbHZlci5fb3JpZ2luVmFsaWRhdGlvbih0aGlzLmF1dGgpLmNhdGNoKGUgPT4ge1xuICAgICAgdGhpcy5yZWplY3QoZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlc29sdmVyLl9pc0lmcmFtZVdlYlN0b3JhZ2VTdXBwb3J0ZWQodGhpcy5hdXRoLCBpc1N1cHBvcnRlZCA9PiB7XG4gICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICAgIHRoaXMucmVqZWN0KFxuICAgICAgICAgIF9jcmVhdGVFcnJvcih0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuV0VCX1NUT1JBR0VfVU5TVVBQT1JURUQpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgdXNlciBjbG9zdXJlLiBOb3RpY2UgdGhpcyBkb2VzICpub3QqIHVzZSBhd2FpdFxuICAgIHRoaXMucG9sbFVzZXJDYW5jZWxsYXRpb24oKTtcbiAgfVxuXG4gIGdldCBldmVudElkKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmF1dGhXaW5kb3c/LmFzc29jaWF0ZWRFdmVudCB8fCBudWxsO1xuICB9XG5cbiAgY2FuY2VsKCk6IHZvaWQge1xuICAgIHRoaXMucmVqZWN0KF9jcmVhdGVFcnJvcih0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuRVhQSVJFRF9QT1BVUF9SRVFVRVNUKSk7XG4gIH1cblxuICBjbGVhblVwKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmF1dGhXaW5kb3cpIHtcbiAgICAgIHRoaXMuYXV0aFdpbmRvdy5jbG9zZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBvbGxJZCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnBvbGxJZCk7XG4gICAgfVxuXG4gICAgdGhpcy5hdXRoV2luZG93ID0gbnVsbDtcbiAgICB0aGlzLnBvbGxJZCA9IG51bGw7XG4gICAgUG9wdXBPcGVyYXRpb24uY3VycmVudFBvcHVwQWN0aW9uID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgcG9sbFVzZXJDYW5jZWxsYXRpb24oKTogdm9pZCB7XG4gICAgY29uc3QgcG9sbCA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGlmICh0aGlzLmF1dGhXaW5kb3c/LndpbmRvdz8uY2xvc2VkKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZXJlIGlzIHN1ZmZpY2llbnQgdGltZSBmb3Igd2hhdGV2ZXIgYWN0aW9uIHRvXG4gICAgICAgIC8vIGNvbXBsZXRlLiBUaGUgd2luZG93IGNvdWxkIGhhdmUgY2xvc2VkIGJ1dCB0aGUgc2lnbiBpbiBuZXR3b3JrXG4gICAgICAgIC8vIGNhbGwgY291bGQgc3RpbGwgYmUgaW4gZmxpZ2h0LiBUaGlzIGlzIHNwZWNpZmljYWxseSB0cnVlIGZvclxuICAgICAgICAvLyBGaXJlZm94IG9yIGlmIHRoZSBvcGVuZXIgaXMgaW4gYW4gaWZyYW1lLCBpbiB3aGljaCBjYXNlIHRoZSBvYXV0aFxuICAgICAgICAvLyBoZWxwZXIgY2xvc2VzIHRoZSBwb3B1cC5cbiAgICAgICAgdGhpcy5wb2xsSWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5wb2xsSWQgPSBudWxsO1xuICAgICAgICAgIHRoaXMucmVqZWN0KFxuICAgICAgICAgICAgX2NyZWF0ZUVycm9yKHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5QT1BVUF9DTE9TRURfQllfVVNFUilcbiAgICAgICAgICApO1xuICAgICAgICB9LCBfVGltZW91dC5BVVRIX0VWRU5UKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBvbGxJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KHBvbGwsIF9QT0xMX1dJTkRPV19DTE9TRV9USU1FT1VULmdldCgpKTtcbiAgICB9O1xuXG4gICAgcG9sbCgpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQge1xuICBBdXRoRXZlbnQsXG4gIEF1dGhFdmVudFR5cGUsXG4gIFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsXG59IGZyb20gJy4uLy4uL21vZGVsL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IFBlcnNpc3RlbmNlSW50ZXJuYWwgfSBmcm9tICcuLi9wZXJzaXN0ZW5jZSc7XG5pbXBvcnQgeyBfcGVyc2lzdGVuY2VLZXlOYW1lIH0gZnJvbSAnLi4vcGVyc2lzdGVuY2UvcGVyc2lzdGVuY2VfdXNlcl9tYW5hZ2VyJztcbmltcG9ydCB7IF9nZXRJbnN0YW5jZSB9IGZyb20gJy4uL3V0aWwvaW5zdGFudGlhdG9yJztcbmltcG9ydCB7IEFic3RyYWN0UG9wdXBSZWRpcmVjdE9wZXJhdGlvbiB9IGZyb20gJy4vYWJzdHJhY3RfcG9wdXBfcmVkaXJlY3Rfb3BlcmF0aW9uJztcblxuY29uc3QgUEVORElOR19SRURJUkVDVF9LRVkgPSAncGVuZGluZ1JlZGlyZWN0JztcblxuLy8gV2Ugb25seSBnZXQgb25lIHJlZGlyZWN0IG91dGNvbWUgZm9yIGFueSBvbmUgYXV0aCwgc28ganVzdCBzdG9yZSBpdFxuLy8gaW4gaGVyZS5cbmNvbnN0IHJlZGlyZWN0T3V0Y29tZU1hcDogTWFwPFxuICBzdHJpbmcsXG4gICgpID0+IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbCB8IG51bGw+XG4+ID0gbmV3IE1hcCgpO1xuXG5leHBvcnQgY2xhc3MgUmVkaXJlY3RBY3Rpb24gZXh0ZW5kcyBBYnN0cmFjdFBvcHVwUmVkaXJlY3RPcGVyYXRpb24ge1xuICBldmVudElkID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgcmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsLFxuICAgIGJ5cGFzc0F1dGhTdGF0ZSA9IGZhbHNlXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgYXV0aCxcbiAgICAgIFtcbiAgICAgICAgQXV0aEV2ZW50VHlwZS5TSUdOX0lOX1ZJQV9SRURJUkVDVCxcbiAgICAgICAgQXV0aEV2ZW50VHlwZS5MSU5LX1ZJQV9SRURJUkVDVCxcbiAgICAgICAgQXV0aEV2ZW50VHlwZS5SRUFVVEhfVklBX1JFRElSRUNULFxuICAgICAgICBBdXRoRXZlbnRUeXBlLlVOS05PV05cbiAgICAgIF0sXG4gICAgICByZXNvbHZlcixcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGJ5cGFzc0F1dGhTdGF0ZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIGV4ZWN1dGUgZnVuY3Rpb247IGlmIHdlIGFscmVhZHkgaGF2ZSBhIHJlZGlyZWN0IHJlc3VsdCwgdGhlblxuICAgKiBqdXN0IHJldHVybiBpdC5cbiAgICovXG4gIGFzeW5jIGV4ZWN1dGUoKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsIHwgbnVsbD4ge1xuICAgIGxldCByZWFkeU91dGNvbWUgPSByZWRpcmVjdE91dGNvbWVNYXAuZ2V0KHRoaXMuYXV0aC5fa2V5KCkpO1xuICAgIGlmICghcmVhZHlPdXRjb21lKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBoYXNQZW5kaW5nUmVkaXJlY3QgPSBhd2FpdCBfZ2V0QW5kQ2xlYXJQZW5kaW5nUmVkaXJlY3RTdGF0dXMoXG4gICAgICAgICAgdGhpcy5yZXNvbHZlcixcbiAgICAgICAgICB0aGlzLmF1dGhcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gaGFzUGVuZGluZ1JlZGlyZWN0ID8gYXdhaXQgc3VwZXIuZXhlY3V0ZSgpIDogbnVsbDtcbiAgICAgICAgcmVhZHlPdXRjb21lID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlYWR5T3V0Y29tZSA9ICgpID0+IFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgfVxuXG4gICAgICByZWRpcmVjdE91dGNvbWVNYXAuc2V0KHRoaXMuYXV0aC5fa2V5KCksIHJlYWR5T3V0Y29tZSk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UncmUgbm90IGJ5cGFzc2luZyBhdXRoIHN0YXRlLCB0aGUgcmVhZHkgb3V0Y29tZSBzaG91bGQgYmUgc2V0IHRvXG4gICAgLy8gbnVsbC5cbiAgICBpZiAoIXRoaXMuYnlwYXNzQXV0aFN0YXRlKSB7XG4gICAgICByZWRpcmVjdE91dGNvbWVNYXAuc2V0KHRoaXMuYXV0aC5fa2V5KCksICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlYWR5T3V0Y29tZSgpO1xuICB9XG5cbiAgYXN5bmMgb25BdXRoRXZlbnQoZXZlbnQ6IEF1dGhFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChldmVudC50eXBlID09PSBBdXRoRXZlbnRUeXBlLlNJR05fSU5fVklBX1JFRElSRUNUKSB7XG4gICAgICByZXR1cm4gc3VwZXIub25BdXRoRXZlbnQoZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gQXV0aEV2ZW50VHlwZS5VTktOT1dOKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc2VudGluZWwgdmFsdWUgaW5kaWNhdGluZyB0aGVyZSdzIG5vIHBlbmRpbmcgcmVkaXJlY3RcbiAgICAgIHRoaXMucmVzb2x2ZShudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuZXZlbnRJZCkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuYXV0aC5fcmVkaXJlY3RVc2VyRm9ySWQoZXZlbnQuZXZlbnRJZCk7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgICAgICByZXR1cm4gc3VwZXIub25BdXRoRXZlbnQoZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG9uRXhlY3V0aW9uKCk6IFByb21pc2U8dm9pZD4ge31cblxuICBjbGVhblVwKCk6IHZvaWQge31cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9nZXRBbmRDbGVhclBlbmRpbmdSZWRpcmVjdFN0YXR1cyhcbiAgcmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsLFxuICBhdXRoOiBBdXRoSW50ZXJuYWxcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCBrZXkgPSBwZW5kaW5nUmVkaXJlY3RLZXkoYXV0aCk7XG4gIGNvbnN0IHBlcnNpc3RlbmNlID0gcmVzb2x2ZXJQZXJzaXN0ZW5jZShyZXNvbHZlcik7XG4gIGlmICghKGF3YWl0IHBlcnNpc3RlbmNlLl9pc0F2YWlsYWJsZSgpKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBoYXNQZW5kaW5nUmVkaXJlY3QgPSAoYXdhaXQgcGVyc2lzdGVuY2UuX2dldChrZXkpKSA9PT0gJ3RydWUnO1xuICBhd2FpdCBwZXJzaXN0ZW5jZS5fcmVtb3ZlKGtleSk7XG4gIHJldHVybiBoYXNQZW5kaW5nUmVkaXJlY3Q7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfc2V0UGVuZGluZ1JlZGlyZWN0U3RhdHVzKFxuICByZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwsXG4gIGF1dGg6IEF1dGhJbnRlcm5hbFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiByZXNvbHZlclBlcnNpc3RlbmNlKHJlc29sdmVyKS5fc2V0KHBlbmRpbmdSZWRpcmVjdEtleShhdXRoKSwgJ3RydWUnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9jbGVhclJlZGlyZWN0T3V0Y29tZXMoKTogdm9pZCB7XG4gIHJlZGlyZWN0T3V0Y29tZU1hcC5jbGVhcigpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX292ZXJyaWRlUmVkaXJlY3RSZXN1bHQoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgcmVzdWx0OiAoKSA9PiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfCBudWxsPlxuKTogdm9pZCB7XG4gIHJlZGlyZWN0T3V0Y29tZU1hcC5zZXQoYXV0aC5fa2V5KCksIHJlc3VsdCk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVyUGVyc2lzdGVuY2UoXG4gIHJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbFxuKTogUGVyc2lzdGVuY2VJbnRlcm5hbCB7XG4gIHJldHVybiBfZ2V0SW5zdGFuY2UocmVzb2x2ZXIuX3JlZGlyZWN0UGVyc2lzdGVuY2UpO1xufVxuXG5mdW5jdGlvbiBwZW5kaW5nUmVkaXJlY3RLZXkoYXV0aDogQXV0aEludGVybmFsKTogc3RyaW5nIHtcbiAgcmV0dXJuIF9wZXJzaXN0ZW5jZUtleU5hbWUoXG4gICAgUEVORElOR19SRURJUkVDVF9LRVksXG4gICAgYXV0aC5jb25maWcuYXBpS2V5LFxuICAgIGF1dGgubmFtZVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEF1dGgsXG4gIEF1dGhQcm92aWRlcixcbiAgUG9wdXBSZWRpcmVjdFJlc29sdmVyLFxuICBVc2VyLFxuICBVc2VyQ3JlZGVudGlhbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi8uLi9jb3JlL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IF9hc3NlcnRMaW5rZWRTdGF0dXMgfSBmcm9tICcuLi8uLi9jb3JlL3VzZXIvbGlua191bmxpbmsnO1xuaW1wb3J0IHtcbiAgX2Fzc2VydEluc3RhbmNlT2YsXG4gIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yXG59IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX2dlbmVyYXRlRXZlbnRJZCB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9ldmVudF9pZCc7XG5pbXBvcnQgeyBBdXRoRXZlbnRUeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwvcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBfd2l0aERlZmF1bHRSZXNvbHZlciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9yZXNvbHZlcic7XG5pbXBvcnQge1xuICBSZWRpcmVjdEFjdGlvbixcbiAgX3NldFBlbmRpbmdSZWRpcmVjdFN0YXR1c1xufSBmcm9tICcuLi8uLi9jb3JlL3N0cmF0ZWdpZXMvcmVkaXJlY3QnO1xuaW1wb3J0IHsgRmVkZXJhdGVkQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vY29yZS9wcm92aWRlcnMvZmVkZXJhdGVkJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbi8qKlxuICogQXV0aGVudGljYXRlcyBhIEZpcmViYXNlIGNsaWVudCB1c2luZyBhIGZ1bGwtcGFnZSByZWRpcmVjdCBmbG93LlxuICpcbiAqIEByZW1hcmtzXG4gKiBUbyBoYW5kbGUgdGhlIHJlc3VsdHMgYW5kIGVycm9ycyBmb3IgdGhpcyBvcGVyYXRpb24sIHJlZmVyIHRvIHtAbGluayBnZXRSZWRpcmVjdFJlc3VsdH0uXG4gKiBGb2xsb3cgdGhlIHtAbGluayBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy9hdXRoL3dlYi9yZWRpcmVjdC1iZXN0LXByYWN0aWNlc1xuICogfCBiZXN0IHByYWN0aWNlc30gd2hlbiB1c2luZyB7QGxpbmsgc2lnbkluV2l0aFJlZGlyZWN0fS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciB3aXRoIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHJlZGlyZWN0LlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAqIC8vIFlvdSBjYW4gYWRkIGFkZGl0aW9uYWwgc2NvcGVzIHRvIHRoZSBwcm92aWRlcjpcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCd1c2VyX2JpcnRoZGF5Jyk7XG4gKiAvLyBTdGFydCBhIHNpZ24gaW4gcHJvY2VzcyBmb3IgYW4gdW5hdXRoZW50aWNhdGVkIHVzZXIuXG4gKiBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiBpZiAocmVzdWx0KSB7XG4gKiAgIC8vIFRoaXMgaXMgdGhlIHNpZ25lZC1pbiB1c2VyXG4gKiAgIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBGYWNlYm9vayBBY2Nlc3MgVG9rZW4uXG4gKiAgIGNvbnN0IGNyZWRlbnRpYWwgPSBwcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChhdXRoLCByZXN1bHQpO1xuICogICBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiB9XG4gKiAvLyBBcyB0aGlzIEFQSSBjYW4gYmUgdXNlZCBmb3Igc2lnbi1pbiwgbGlua2luZyBhbmQgcmVhdXRoZW50aWNhdGlvbixcbiAqIC8vIGNoZWNrIHRoZSBvcGVyYXRpb25UeXBlIHRvIGRldGVybWluZSB3aGF0IHRyaWdnZXJlZCB0aGlzIHJlZGlyZWN0XG4gKiAvLyBvcGVyYXRpb24uXG4gKiBjb25zdCBvcGVyYXRpb25UeXBlID0gcmVzdWx0Lm9wZXJhdGlvblR5cGU7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgdG8gYXV0aGVudGljYXRlLiBUaGUgcHJvdmlkZXIgaGFzIHRvIGJlIGFuIHtAbGluayBPQXV0aFByb3ZpZGVyfS5cbiAqIE5vbi1PQXV0aCBwcm92aWRlcnMgbGlrZSB7QGxpbmsgRW1haWxBdXRoUHJvdmlkZXJ9IHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gKiBAcGFyYW0gcmVzb2x2ZXIgLSBBbiBpbnN0YW5jZSBvZiB7QGxpbmsgUG9wdXBSZWRpcmVjdFJlc29sdmVyfSwgb3B0aW9uYWxcbiAqIGlmIGFscmVhZHkgc3VwcGxpZWQgdG8ge0BsaW5rIGluaXRpYWxpemVBdXRofSBvciBwcm92aWRlZCBieSB7QGxpbmsgZ2V0QXV0aH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2lnbkluV2l0aFJlZGlyZWN0KFxuICBhdXRoOiBBdXRoLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTxuZXZlcj4ge1xuICByZXR1cm4gX3NpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBwcm92aWRlciwgcmVzb2x2ZXIpIGFzIFByb21pc2U8bmV2ZXI+O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3NpZ25JbldpdGhSZWRpcmVjdChcbiAgYXV0aDogQXV0aCxcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8dm9pZCB8IG5ldmVyPiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBfYXNzZXJ0SW5zdGFuY2VPZihhdXRoLCBwcm92aWRlciwgRmVkZXJhdGVkQXV0aFByb3ZpZGVyKTtcbiAgLy8gV2FpdCBmb3IgYXV0aCBpbml0aWFsaXphdGlvbiB0byBjb21wbGV0ZSwgdGhpcyB3aWxsIHByb2Nlc3MgcGVuZGluZyByZWRpcmVjdHMgYW5kIGNsZWFyIHRoZVxuICAvLyBQRU5ESU5HX1JFRElSRUNUX0tFWSBpbiBwZXJzaXN0ZW5jZS4gVGhpcyBzaG91bGQgYmUgY29tcGxldGVkIGJlZm9yZSBzdGFydGluZyBhIG5ld1xuICAvLyByZWRpcmVjdCBhbmQgY3JlYXRpbmcgYSBQRU5ESU5HX1JFRElSRUNUX0tFWSBlbnRyeS5cbiAgYXdhaXQgYXV0aEludGVybmFsLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gIGNvbnN0IHJlc29sdmVySW50ZXJuYWwgPSBfd2l0aERlZmF1bHRSZXNvbHZlcihhdXRoSW50ZXJuYWwsIHJlc29sdmVyKTtcbiAgYXdhaXQgX3NldFBlbmRpbmdSZWRpcmVjdFN0YXR1cyhyZXNvbHZlckludGVybmFsLCBhdXRoSW50ZXJuYWwpO1xuXG4gIHJldHVybiByZXNvbHZlckludGVybmFsLl9vcGVuUmVkaXJlY3QoXG4gICAgYXV0aEludGVybmFsLFxuICAgIHByb3ZpZGVyLFxuICAgIEF1dGhFdmVudFR5cGUuU0lHTl9JTl9WSUFfUkVESVJFQ1RcbiAgKTtcbn1cblxuLyoqXG4gKiBSZWF1dGhlbnRpY2F0ZXMgdGhlIGN1cnJlbnQgdXNlciB3aXRoIHRoZSBzcGVjaWZpZWQge0BsaW5rIE9BdXRoUHJvdmlkZXJ9IHVzaW5nIGEgZnVsbC1wYWdlIHJlZGlyZWN0IGZsb3cuXG4gKiBAcmVtYXJrc1xuICogVG8gaGFuZGxlIHRoZSByZXN1bHRzIGFuZCBlcnJvcnMgZm9yIHRoaXMgb3BlcmF0aW9uLCByZWZlciB0byB7QGxpbmsgZ2V0UmVkaXJlY3RSZXN1bHR9LlxuICogRm9sbG93IHRoZSB7QGxpbmsgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvYXV0aC93ZWIvcmVkaXJlY3QtYmVzdC1wcmFjdGljZXNcbiAqIHwgYmVzdCBwcmFjdGljZXN9IHdoZW4gdXNpbmcge0BsaW5rIHJlYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0fS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciB3aXRoIHtAbGluayBBdXRofSBpbnN0YW5jZXNcbiAqIGNyZWF0ZWQgd2l0aCBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHJlZGlyZWN0LlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIC8vIFJlYXV0aGVudGljYXRlIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBhd2FpdCByZWF1dGhlbnRpY2F0ZVdpdGhSZWRpcmVjdChyZXN1bHQudXNlciwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIGFnYWluIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIHByb3ZpZGVyIC0gVGhlIHByb3ZpZGVyIHRvIGF1dGhlbnRpY2F0ZS4gVGhlIHByb3ZpZGVyIGhhcyB0byBiZSBhbiB7QGxpbmsgT0F1dGhQcm92aWRlcn0uXG4gKiBOb24tT0F1dGggcHJvdmlkZXJzIGxpa2Uge0BsaW5rIEVtYWlsQXV0aFByb3ZpZGVyfSB3aWxsIHRocm93IGFuIGVycm9yLlxuICogQHBhcmFtIHJlc29sdmVyIC0gQW4gaW5zdGFuY2Ugb2Yge0BsaW5rIFBvcHVwUmVkaXJlY3RSZXNvbHZlcn0sIG9wdGlvbmFsXG4gKiBpZiBhbHJlYWR5IHN1cHBsaWVkIHRvIHtAbGluayBpbml0aWFsaXplQXV0aH0gb3IgcHJvdmlkZWQgYnkge0BsaW5rIGdldEF1dGh9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0KFxuICB1c2VyOiBVc2VyLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTxuZXZlcj4ge1xuICByZXR1cm4gX3JlYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0KFxuICAgIHVzZXIsXG4gICAgcHJvdmlkZXIsXG4gICAgcmVzb2x2ZXJcbiAgKSBhcyBQcm9taXNlPG5ldmVyPjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfcmVhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3QoXG4gIHVzZXI6IFVzZXIsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPHZvaWQgfCBuZXZlcj4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBfYXNzZXJ0SW5zdGFuY2VPZih1c2VySW50ZXJuYWwuYXV0aCwgcHJvdmlkZXIsIEZlZGVyYXRlZEF1dGhQcm92aWRlcik7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh1c2VySW50ZXJuYWwuYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IodXNlckludGVybmFsLmF1dGgpXG4gICAgKTtcbiAgfVxuICAvLyBXYWl0IGZvciBhdXRoIGluaXRpYWxpemF0aW9uIHRvIGNvbXBsZXRlLCB0aGlzIHdpbGwgcHJvY2VzcyBwZW5kaW5nIHJlZGlyZWN0cyBhbmQgY2xlYXIgdGhlXG4gIC8vIFBFTkRJTkdfUkVESVJFQ1RfS0VZIGluIHBlcnNpc3RlbmNlLiBUaGlzIHNob3VsZCBiZSBjb21wbGV0ZWQgYmVmb3JlIHN0YXJ0aW5nIGEgbmV3XG4gIC8vIHJlZGlyZWN0IGFuZCBjcmVhdGluZyBhIFBFTkRJTkdfUkVESVJFQ1RfS0VZIGVudHJ5LlxuICBhd2FpdCB1c2VySW50ZXJuYWwuYXV0aC5faW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICAvLyBBbGxvdyB0aGUgcmVzb2x2ZXIgdG8gZXJyb3IgYmVmb3JlIHBlcnNpc3RpbmcgdGhlIHJlZGlyZWN0IHVzZXJcbiAgY29uc3QgcmVzb2x2ZXJJbnRlcm5hbCA9IF93aXRoRGVmYXVsdFJlc29sdmVyKHVzZXJJbnRlcm5hbC5hdXRoLCByZXNvbHZlcik7XG4gIGF3YWl0IF9zZXRQZW5kaW5nUmVkaXJlY3RTdGF0dXMocmVzb2x2ZXJJbnRlcm5hbCwgdXNlckludGVybmFsLmF1dGgpO1xuXG4gIGNvbnN0IGV2ZW50SWQgPSBhd2FpdCBwcmVwYXJlVXNlckZvclJlZGlyZWN0KHVzZXJJbnRlcm5hbCk7XG4gIHJldHVybiByZXNvbHZlckludGVybmFsLl9vcGVuUmVkaXJlY3QoXG4gICAgdXNlckludGVybmFsLmF1dGgsXG4gICAgcHJvdmlkZXIsXG4gICAgQXV0aEV2ZW50VHlwZS5SRUFVVEhfVklBX1JFRElSRUNULFxuICAgIGV2ZW50SWRcbiAgKTtcbn1cblxuLyoqXG4gKiBMaW5rcyB0aGUge0BsaW5rIE9BdXRoUHJvdmlkZXJ9IHRvIHRoZSB1c2VyIGFjY291bnQgdXNpbmcgYSBmdWxsLXBhZ2UgcmVkaXJlY3QgZmxvdy5cbiAqIEByZW1hcmtzXG4gKiBUbyBoYW5kbGUgdGhlIHJlc3VsdHMgYW5kIGVycm9ycyBmb3IgdGhpcyBvcGVyYXRpb24sIHJlZmVyIHRvIHtAbGluayBnZXRSZWRpcmVjdFJlc3VsdH0uXG4gKiBGb2xsb3cgdGhlIHtAbGluayBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy9hdXRoL3dlYi9yZWRpcmVjdC1iZXN0LXByYWN0aWNlc1xuICogfCBiZXN0IHByYWN0aWNlc30gd2hlbiB1c2luZyB7QGxpbmsgbGlua1dpdGhSZWRpcmVjdH0uXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igd2l0aCB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzXG4gKiBjcmVhdGVkIHdpdGggYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgc29tZSBvdGhlciBwcm92aWRlci5cbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGVtYWlsLCBwYXNzd29yZCk7XG4gKiAvLyBMaW5rIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICogYXdhaXQgbGlua1dpdGhSZWRpcmVjdChyZXN1bHQudXNlciwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIHByb3ZpZGVyIC0gVGhlIHByb3ZpZGVyIHRvIGF1dGhlbnRpY2F0ZS4gVGhlIHByb3ZpZGVyIGhhcyB0byBiZSBhbiB7QGxpbmsgT0F1dGhQcm92aWRlcn0uXG4gKiBOb24tT0F1dGggcHJvdmlkZXJzIGxpa2Uge0BsaW5rIEVtYWlsQXV0aFByb3ZpZGVyfSB3aWxsIHRocm93IGFuIGVycm9yLlxuICogQHBhcmFtIHJlc29sdmVyIC0gQW4gaW5zdGFuY2Ugb2Yge0BsaW5rIFBvcHVwUmVkaXJlY3RSZXNvbHZlcn0sIG9wdGlvbmFsXG4gKiBpZiBhbHJlYWR5IHN1cHBsaWVkIHRvIHtAbGluayBpbml0aWFsaXplQXV0aH0gb3IgcHJvdmlkZWQgYnkge0BsaW5rIGdldEF1dGh9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpbmtXaXRoUmVkaXJlY3QoXG4gIHVzZXI6IFVzZXIsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPG5ldmVyPiB7XG4gIHJldHVybiBfbGlua1dpdGhSZWRpcmVjdCh1c2VyLCBwcm92aWRlciwgcmVzb2x2ZXIpIGFzIFByb21pc2U8bmV2ZXI+O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9saW5rV2l0aFJlZGlyZWN0KFxuICB1c2VyOiBVc2VyLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTx2b2lkIHwgbmV2ZXI+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgX2Fzc2VydEluc3RhbmNlT2YodXNlckludGVybmFsLmF1dGgsIHByb3ZpZGVyLCBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIpO1xuICAvLyBXYWl0IGZvciBhdXRoIGluaXRpYWxpemF0aW9uIHRvIGNvbXBsZXRlLCB0aGlzIHdpbGwgcHJvY2VzcyBwZW5kaW5nIHJlZGlyZWN0cyBhbmQgY2xlYXIgdGhlXG4gIC8vIFBFTkRJTkdfUkVESVJFQ1RfS0VZIGluIHBlcnNpc3RlbmNlLiBUaGlzIHNob3VsZCBiZSBjb21wbGV0ZWQgYmVmb3JlIHN0YXJ0aW5nIGEgbmV3XG4gIC8vIHJlZGlyZWN0IGFuZCBjcmVhdGluZyBhIFBFTkRJTkdfUkVESVJFQ1RfS0VZIGVudHJ5LlxuICBhd2FpdCB1c2VySW50ZXJuYWwuYXV0aC5faW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICAvLyBBbGxvdyB0aGUgcmVzb2x2ZXIgdG8gZXJyb3IgYmVmb3JlIHBlcnNpc3RpbmcgdGhlIHJlZGlyZWN0IHVzZXJcbiAgY29uc3QgcmVzb2x2ZXJJbnRlcm5hbCA9IF93aXRoRGVmYXVsdFJlc29sdmVyKHVzZXJJbnRlcm5hbC5hdXRoLCByZXNvbHZlcik7XG4gIGF3YWl0IF9hc3NlcnRMaW5rZWRTdGF0dXMoZmFsc2UsIHVzZXJJbnRlcm5hbCwgcHJvdmlkZXIucHJvdmlkZXJJZCk7XG4gIGF3YWl0IF9zZXRQZW5kaW5nUmVkaXJlY3RTdGF0dXMocmVzb2x2ZXJJbnRlcm5hbCwgdXNlckludGVybmFsLmF1dGgpO1xuXG4gIGNvbnN0IGV2ZW50SWQgPSBhd2FpdCBwcmVwYXJlVXNlckZvclJlZGlyZWN0KHVzZXJJbnRlcm5hbCk7XG4gIHJldHVybiByZXNvbHZlckludGVybmFsLl9vcGVuUmVkaXJlY3QoXG4gICAgdXNlckludGVybmFsLmF1dGgsXG4gICAgcHJvdmlkZXIsXG4gICAgQXV0aEV2ZW50VHlwZS5MSU5LX1ZJQV9SRURJUkVDVCxcbiAgICBldmVudElkXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHtAbGluayBVc2VyQ3JlZGVudGlhbH0gZnJvbSB0aGUgcmVkaXJlY3QtYmFzZWQgc2lnbi1pbiBmbG93LlxuICpcbiAqIEByZW1hcmtzXG4gKiBJZiBzaWduLWluIHN1Y2NlZWRlZCwgcmV0dXJucyB0aGUgc2lnbmVkIGluIHVzZXIuIElmIHNpZ24taW4gd2FzIHVuc3VjY2Vzc2Z1bCwgZmFpbHMgd2l0aCBhblxuICogZXJyb3IuIElmIG5vIHJlZGlyZWN0IG9wZXJhdGlvbiB3YXMgY2FsbGVkLCByZXR1cm5zIGBudWxsYC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciB3aXRoIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHJlZGlyZWN0LlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAqIC8vIFlvdSBjYW4gYWRkIGFkZGl0aW9uYWwgc2NvcGVzIHRvIHRoZSBwcm92aWRlcjpcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCd1c2VyX2JpcnRoZGF5Jyk7XG4gKiAvLyBTdGFydCBhIHNpZ24gaW4gcHJvY2VzcyBmb3IgYW4gdW5hdXRoZW50aWNhdGVkIHVzZXIuXG4gKiBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiBpZiAocmVzdWx0KSB7XG4gKiAgIC8vIFRoaXMgaXMgdGhlIHNpZ25lZC1pbiB1c2VyXG4gKiAgIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBGYWNlYm9vayBBY2Nlc3MgVG9rZW4uXG4gKiAgIGNvbnN0IGNyZWRlbnRpYWwgPSBwcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChhdXRoLCByZXN1bHQpO1xuICogICBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiB9XG4gKiAvLyBBcyB0aGlzIEFQSSBjYW4gYmUgdXNlZCBmb3Igc2lnbi1pbiwgbGlua2luZyBhbmQgcmVhdXRoZW50aWNhdGlvbixcbiAqIC8vIGNoZWNrIHRoZSBvcGVyYXRpb25UeXBlIHRvIGRldGVybWluZSB3aGF0IHRyaWdnZXJlZCB0aGlzIHJlZGlyZWN0XG4gKiAvLyBvcGVyYXRpb24uXG4gKiBjb25zdCBvcGVyYXRpb25UeXBlID0gcmVzdWx0Lm9wZXJhdGlvblR5cGU7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gcmVzb2x2ZXIgLSBBbiBpbnN0YW5jZSBvZiB7QGxpbmsgUG9wdXBSZWRpcmVjdFJlc29sdmVyfSwgb3B0aW9uYWxcbiAqIGlmIGFscmVhZHkgc3VwcGxpZWQgdG8ge0BsaW5rIGluaXRpYWxpemVBdXRofSBvciBwcm92aWRlZCBieSB7QGxpbmsgZ2V0QXV0aH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVkaXJlY3RSZXN1bHQoXG4gIGF1dGg6IEF1dGgsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsIHwgbnVsbD4ge1xuICBhd2FpdCBfY2FzdEF1dGgoYXV0aCkuX2luaXRpYWxpemF0aW9uUHJvbWlzZTtcbiAgcmV0dXJuIF9nZXRSZWRpcmVjdFJlc3VsdChhdXRoLCByZXNvbHZlciwgZmFsc2UpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2dldFJlZGlyZWN0UmVzdWx0KFxuICBhdXRoOiBBdXRoLFxuICByZXNvbHZlckV4dGVybj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlcixcbiAgYnlwYXNzQXV0aFN0YXRlID0gZmFsc2Vcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWwgfCBudWxsPiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBjb25zdCByZXNvbHZlciA9IF93aXRoRGVmYXVsdFJlc29sdmVyKGF1dGhJbnRlcm5hbCwgcmVzb2x2ZXJFeHRlcm4pO1xuICBjb25zdCBhY3Rpb24gPSBuZXcgUmVkaXJlY3RBY3Rpb24oYXV0aEludGVybmFsLCByZXNvbHZlciwgYnlwYXNzQXV0aFN0YXRlKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWN0aW9uLmV4ZWN1dGUoKTtcblxuICBpZiAocmVzdWx0ICYmICFieXBhc3NBdXRoU3RhdGUpIHtcbiAgICBkZWxldGUgcmVzdWx0LnVzZXIuX3JlZGlyZWN0RXZlbnRJZDtcbiAgICBhd2FpdCBhdXRoSW50ZXJuYWwuX3BlcnNpc3RVc2VySWZDdXJyZW50KHJlc3VsdC51c2VyIGFzIFVzZXJJbnRlcm5hbCk7XG4gICAgYXdhaXQgYXV0aEludGVybmFsLl9zZXRSZWRpcmVjdFVzZXIobnVsbCwgcmVzb2x2ZXJFeHRlcm4pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZVVzZXJGb3JSZWRpcmVjdCh1c2VyOiBVc2VySW50ZXJuYWwpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBldmVudElkID0gX2dlbmVyYXRlRXZlbnRJZChgJHt1c2VyLnVpZH06OjpgKTtcbiAgdXNlci5fcmVkaXJlY3RFdmVudElkID0gZXZlbnRJZDtcbiAgYXdhaXQgdXNlci5hdXRoLl9zZXRSZWRpcmVjdFVzZXIodXNlcik7XG4gIGF3YWl0IHVzZXIuYXV0aC5fcGVyc2lzdFVzZXJJZkN1cnJlbnQodXNlcik7XG4gIHJldHVybiBldmVudElkO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEF1dGhFdmVudCxcbiAgQXV0aEV2ZW50Q29uc3VtZXIsXG4gIEF1dGhFdmVudFR5cGUsXG4gIEV2ZW50TWFuYWdlclxufSBmcm9tICcuLi8uLi9tb2RlbC9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgX2NyZWF0ZUVycm9yIH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuXG4vLyBUaGUgYW1vdW50IG9mIHRpbWUgdG8gc3RvcmUgdGhlIFVJRHMgb2Ygc2VlbiBldmVudHM7IHRoaXMgaXNcbi8vIHNldCB0byAxMCBtaW4gYnkgZGVmYXVsdFxuY29uc3QgRVZFTlRfRFVQTElDQVRJT05fQ0FDSEVfRFVSQVRJT05fTVMgPSAxMCAqIDYwICogMTAwMDtcblxuZXhwb3J0IGNsYXNzIEF1dGhFdmVudE1hbmFnZXIgaW1wbGVtZW50cyBFdmVudE1hbmFnZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGNhY2hlZEV2ZW50VWlkczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29uc3VtZXJzOiBTZXQ8QXV0aEV2ZW50Q29uc3VtZXI+ID0gbmV3IFNldCgpO1xuICBwcm90ZWN0ZWQgcXVldWVkUmVkaXJlY3RFdmVudDogQXV0aEV2ZW50IHwgbnVsbCA9IG51bGw7XG4gIHByb3RlY3RlZCBoYXNIYW5kbGVkUG90ZW50aWFsUmVkaXJlY3QgPSBmYWxzZTtcbiAgcHJpdmF0ZSBsYXN0UHJvY2Vzc2VkRXZlbnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbCkge31cblxuICByZWdpc3RlckNvbnN1bWVyKGF1dGhFdmVudENvbnN1bWVyOiBBdXRoRXZlbnRDb25zdW1lcik6IHZvaWQge1xuICAgIHRoaXMuY29uc3VtZXJzLmFkZChhdXRoRXZlbnRDb25zdW1lcik7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnF1ZXVlZFJlZGlyZWN0RXZlbnQgJiZcbiAgICAgIHRoaXMuaXNFdmVudEZvckNvbnN1bWVyKHRoaXMucXVldWVkUmVkaXJlY3RFdmVudCwgYXV0aEV2ZW50Q29uc3VtZXIpXG4gICAgKSB7XG4gICAgICB0aGlzLnNlbmRUb0NvbnN1bWVyKHRoaXMucXVldWVkUmVkaXJlY3RFdmVudCwgYXV0aEV2ZW50Q29uc3VtZXIpO1xuICAgICAgdGhpcy5zYXZlRXZlbnRUb0NhY2hlKHRoaXMucXVldWVkUmVkaXJlY3RFdmVudCk7XG4gICAgICB0aGlzLnF1ZXVlZFJlZGlyZWN0RXZlbnQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHVucmVnaXN0ZXJDb25zdW1lcihhdXRoRXZlbnRDb25zdW1lcjogQXV0aEV2ZW50Q29uc3VtZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbnN1bWVycy5kZWxldGUoYXV0aEV2ZW50Q29uc3VtZXIpO1xuICB9XG5cbiAgb25FdmVudChldmVudDogQXV0aEV2ZW50KTogYm9vbGVhbiB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGV2ZW50IGhhcyBhbHJlYWR5IGJlZW4gaGFuZGxlZFxuICAgIGlmICh0aGlzLmhhc0V2ZW50QmVlbkhhbmRsZWQoZXZlbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGhhbmRsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNvbnN1bWVycy5mb3JFYWNoKGNvbnN1bWVyID0+IHtcbiAgICAgIGlmICh0aGlzLmlzRXZlbnRGb3JDb25zdW1lcihldmVudCwgY29uc3VtZXIpKSB7XG4gICAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnNlbmRUb0NvbnN1bWVyKGV2ZW50LCBjb25zdW1lcik7XG4gICAgICAgIHRoaXMuc2F2ZUV2ZW50VG9DYWNoZShldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5oYXNIYW5kbGVkUG90ZW50aWFsUmVkaXJlY3QgfHwgIWlzUmVkaXJlY3RFdmVudChldmVudCkpIHtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgc2VlbiBhIHJlZGlyZWN0IGJlZm9yZSwgb3IgdGhpcyBpcyBhIHBvcHVwIGV2ZW50LFxuICAgICAgLy8gYmFpbCBub3dcbiAgICAgIHJldHVybiBoYW5kbGVkO1xuICAgIH1cblxuICAgIHRoaXMuaGFzSGFuZGxlZFBvdGVudGlhbFJlZGlyZWN0ID0gdHJ1ZTtcblxuICAgIC8vIElmIHRoZSByZWRpcmVjdCB3YXNuJ3QgaGFuZGxlZCwgaGFuZyBvbiB0byBpdFxuICAgIGlmICghaGFuZGxlZCkge1xuICAgICAgdGhpcy5xdWV1ZWRSZWRpcmVjdEV2ZW50ID0gZXZlbnQ7XG4gICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFuZGxlZDtcbiAgfVxuXG4gIHByaXZhdGUgc2VuZFRvQ29uc3VtZXIoZXZlbnQ6IEF1dGhFdmVudCwgY29uc3VtZXI6IEF1dGhFdmVudENvbnN1bWVyKTogdm9pZCB7XG4gICAgaWYgKGV2ZW50LmVycm9yICYmICFpc051bGxSZWRpcmVjdEV2ZW50KGV2ZW50KSkge1xuICAgICAgY29uc3QgY29kZSA9XG4gICAgICAgIChldmVudC5lcnJvci5jb2RlPy5zcGxpdCgnYXV0aC8nKVsxXSBhcyBBdXRoRXJyb3JDb2RlKSB8fFxuICAgICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SO1xuICAgICAgY29uc3VtZXIub25FcnJvcihfY3JlYXRlRXJyb3IodGhpcy5hdXRoLCBjb2RlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN1bWVyLm9uQXV0aEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzRXZlbnRGb3JDb25zdW1lcihcbiAgICBldmVudDogQXV0aEV2ZW50LFxuICAgIGNvbnN1bWVyOiBBdXRoRXZlbnRDb25zdW1lclxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBldmVudElkTWF0Y2hlcyA9XG4gICAgICBjb25zdW1lci5ldmVudElkID09PSBudWxsIHx8XG4gICAgICAoISFldmVudC5ldmVudElkICYmIGV2ZW50LmV2ZW50SWQgPT09IGNvbnN1bWVyLmV2ZW50SWQpO1xuICAgIHJldHVybiBjb25zdW1lci5maWx0ZXIuaW5jbHVkZXMoZXZlbnQudHlwZSkgJiYgZXZlbnRJZE1hdGNoZXM7XG4gIH1cblxuICBwcml2YXRlIGhhc0V2ZW50QmVlbkhhbmRsZWQoZXZlbnQ6IEF1dGhFdmVudCk6IGJvb2xlYW4ge1xuICAgIGlmIChcbiAgICAgIERhdGUubm93KCkgLSB0aGlzLmxhc3RQcm9jZXNzZWRFdmVudFRpbWUgPj1cbiAgICAgIEVWRU5UX0RVUExJQ0FUSU9OX0NBQ0hFX0RVUkFUSU9OX01TXG4gICAgKSB7XG4gICAgICB0aGlzLmNhY2hlZEV2ZW50VWlkcy5jbGVhcigpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNhY2hlZEV2ZW50VWlkcy5oYXMoZXZlbnRVaWQoZXZlbnQpKTtcbiAgfVxuXG4gIHByaXZhdGUgc2F2ZUV2ZW50VG9DYWNoZShldmVudDogQXV0aEV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5jYWNoZWRFdmVudFVpZHMuYWRkKGV2ZW50VWlkKGV2ZW50KSk7XG4gICAgdGhpcy5sYXN0UHJvY2Vzc2VkRXZlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudFVpZChlOiBBdXRoRXZlbnQpOiBzdHJpbmcge1xuICByZXR1cm4gW2UudHlwZSwgZS5ldmVudElkLCBlLnNlc3Npb25JZCwgZS50ZW5hbnRJZF0uZmlsdGVyKHYgPT4gdikuam9pbignLScpO1xufVxuXG5mdW5jdGlvbiBpc051bGxSZWRpcmVjdEV2ZW50KHsgdHlwZSwgZXJyb3IgfTogQXV0aEV2ZW50KTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdHlwZSA9PT0gQXV0aEV2ZW50VHlwZS5VTktOT1dOICYmXG4gICAgZXJyb3I/LmNvZGUgPT09IGBhdXRoLyR7QXV0aEVycm9yQ29kZS5OT19BVVRIX0VWRU5UfWBcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNSZWRpcmVjdEV2ZW50KGV2ZW50OiBBdXRoRXZlbnQpOiBib29sZWFuIHtcbiAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgY2FzZSBBdXRoRXZlbnRUeXBlLlNJR05fSU5fVklBX1JFRElSRUNUOlxuICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5MSU5LX1ZJQV9SRURJUkVDVDpcbiAgICBjYXNlIEF1dGhFdmVudFR5cGUuUkVBVVRIX1ZJQV9SRURJUkVDVDpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5VTktOT1dOOlxuICAgICAgcmV0dXJuIGlzTnVsbFJlZGlyZWN0RXZlbnQoZXZlbnQpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBfcGVyZm9ybUFwaVJlcXVlc3QsIEVuZHBvaW50LCBIdHRwTWV0aG9kIH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0UHJvamVjdENvbmZpZ1JlcXVlc3Qge1xuICBhbmRyb2lkUGFja2FnZU5hbWU/OiBzdHJpbmc7XG4gIGlvc0J1bmRsZUlkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldFByb2plY3RDb25maWdSZXNwb25zZSB7XG4gIGF1dGhvcml6ZWREb21haW5zOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9nZXRQcm9qZWN0Q29uZmlnKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBHZXRQcm9qZWN0Q29uZmlnUmVxdWVzdCA9IHt9XG4pOiBQcm9taXNlPEdldFByb2plY3RDb25maWdSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PEdldFByb2plY3RDb25maWdSZXF1ZXN0LCBHZXRQcm9qZWN0Q29uZmlnUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5HRVQsXG4gICAgRW5kcG9pbnQuR0VUX1BST0pFQ1RfQ09ORklHLFxuICAgIHJlcXVlc3RcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBfZ2V0UHJvamVjdENvbmZpZyB9IGZyb20gJy4uLy4uL2FwaS9wcm9qZWN0X2NvbmZpZy9nZXRfcHJvamVjdF9jb25maWcnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9mYWlsIH0gZnJvbSAnLi9hc3NlcnQnO1xuaW1wb3J0IHsgX2dldEN1cnJlbnRVcmwgfSBmcm9tICcuL2xvY2F0aW9uJztcblxuY29uc3QgSVBfQUREUkVTU19SRUdFWCA9IC9eXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM30kLztcbmNvbnN0IEhUVFBfUkVHRVggPSAvXmh0dHBzPy87XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfdmFsaWRhdGVPcmlnaW4oYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIFNraXAgb3JpZ2luIHZhbGlkYXRpb24gaWYgd2UgYXJlIGluIGFuIGVtdWxhdGVkIGVudmlyb25tZW50XG4gIGlmIChhdXRoLmNvbmZpZy5lbXVsYXRvcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHsgYXV0aG9yaXplZERvbWFpbnMgfSA9IGF3YWl0IF9nZXRQcm9qZWN0Q29uZmlnKGF1dGgpO1xuXG4gIGZvciAoY29uc3QgZG9tYWluIG9mIGF1dGhvcml6ZWREb21haW5zKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChtYXRjaERvbWFpbihkb21haW4pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlcmUncyBhIFVSTCBlcnJvcjsganVzdCBjb250aW51ZSBzZWFyY2hpbmdcbiAgICB9XG4gIH1cblxuICAvLyBJbiB0aGUgb2xkIFNESywgdGhpcyBlcnJvciBhbHNvIHByb3ZpZGVzIGhlbHBmdWwgbWVzc2FnZXMuXG4gIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9PUklHSU4pO1xufVxuXG5mdW5jdGlvbiBtYXRjaERvbWFpbihleHBlY3RlZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGN1cnJlbnRVcmwgPSBfZ2V0Q3VycmVudFVybCgpO1xuICBjb25zdCB7IHByb3RvY29sLCBob3N0bmFtZSB9ID0gbmV3IFVSTChjdXJyZW50VXJsKTtcbiAgaWYgKGV4cGVjdGVkLnN0YXJ0c1dpdGgoJ2Nocm9tZS1leHRlbnNpb246Ly8nKSkge1xuICAgIGNvbnN0IGNlVXJsID0gbmV3IFVSTChleHBlY3RlZCk7XG5cbiAgICBpZiAoY2VVcmwuaG9zdG5hbWUgPT09ICcnICYmIGhvc3RuYW1lID09PSAnJykge1xuICAgICAgLy8gRm9yIHNvbWUgcmVhc29uIHdlJ3JlIG5vdCBwYXJzaW5nIGNocm9tZSBVUkxzIHByb3Blcmx5XG4gICAgICByZXR1cm4gKFxuICAgICAgICBwcm90b2NvbCA9PT0gJ2Nocm9tZS1leHRlbnNpb246JyAmJlxuICAgICAgICBleHBlY3RlZC5yZXBsYWNlKCdjaHJvbWUtZXh0ZW5zaW9uOi8vJywgJycpID09PVxuICAgICAgICAgIGN1cnJlbnRVcmwucmVwbGFjZSgnY2hyb21lLWV4dGVuc2lvbjovLycsICcnKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvdG9jb2wgPT09ICdjaHJvbWUtZXh0ZW5zaW9uOicgJiYgY2VVcmwuaG9zdG5hbWUgPT09IGhvc3RuYW1lO1xuICB9XG5cbiAgaWYgKCFIVFRQX1JFR0VYLnRlc3QocHJvdG9jb2wpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKElQX0FERFJFU1NfUkVHRVgudGVzdChleHBlY3RlZCkpIHtcbiAgICAvLyBUaGUgZG9tYWluIGhhcyB0byBiZSBleGFjdGx5IGVxdWFsIHRvIHRoZSBwYXR0ZXJuLCBhcyBhbiBJUCBkb21haW4gd2lsbFxuICAgIC8vIG9ubHkgY29udGFpbiB0aGUgSVAsIG5vIGV4dHJhIGNoYXJhY3Rlci5cbiAgICByZXR1cm4gaG9zdG5hbWUgPT09IGV4cGVjdGVkO1xuICB9XG5cbiAgLy8gRG90cyBpbiBwYXR0ZXJuIHNob3VsZCBiZSBlc2NhcGVkLlxuICBjb25zdCBlc2NhcGVkRG9tYWluUGF0dGVybiA9IGV4cGVjdGVkLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKTtcbiAgLy8gTm9uIGlwIGFkZHJlc3MgZG9tYWlucy5cbiAgLy8gZG9tYWluLmNvbSA9ICouZG9tYWluLmNvbSBPUiBkb21haW4uY29tXG4gIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChcbiAgICAnXiguK1xcXFwuJyArIGVzY2FwZWREb21haW5QYXR0ZXJuICsgJ3wnICsgZXNjYXBlZERvbWFpblBhdHRlcm4gKyAnKSQnLFxuICAgICdpJ1xuICApO1xuICByZXR1cm4gcmUudGVzdChob3N0bmFtZSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfY3JlYXRlRXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IERlbGF5IH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2RlbGF5JztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgX3dpbmRvdyB9IGZyb20gJy4uL2F1dGhfd2luZG93JztcbmltcG9ydCAqIGFzIGpzIGZyb20gJy4uL2xvYWRfanMnO1xuXG5jb25zdCBORVRXT1JLX1RJTUVPVVQgPSBuZXcgRGVsYXkoMzAwMDAsIDYwMDAwKTtcblxuLyoqXG4gKiBSZXNldCB1bmxvYWRlZCBHQXBpIG1vZHVsZXMuIElmIGdhcGkubG9hZCBmYWlscyBkdWUgdG8gYSBuZXR3b3JrIGVycm9yLFxuICogaXQgd2lsbCBzdG9wIHdvcmtpbmcgYWZ0ZXIgYSByZXRyaWFsLiBUaGlzIGlzIGEgaGFjayB0byBmaXggdGhpcyBpc3N1ZS5cbiAqL1xuZnVuY3Rpb24gcmVzZXRVbmxvYWRlZEdhcGlNb2R1bGVzKCk6IHZvaWQge1xuICAvLyBDbGVhciBsYXN0IGZhaWxlZCBnYXBpLmxvYWQgc3RhdGUgdG8gZm9yY2UgbmV4dCBnYXBpLmxvYWQgdG8gZmlyc3RcbiAgLy8gbG9hZCB0aGUgZmFpbGVkIGdhcGkuaWZyYW1lcyBtb2R1bGUuXG4gIC8vIEdldCBnYXBpeC5iZWFjb24gY29udGV4dC5cbiAgY29uc3QgYmVhY29uID0gX3dpbmRvdygpLl9fX2pzbDtcbiAgLy8gR2V0IGN1cnJlbnQgaGludC5cbiAgaWYgKGJlYWNvbj8uSCkge1xuICAgIC8vIEdldCBnYXBpIGhpbnQuXG4gICAgZm9yIChjb25zdCBoaW50IG9mIE9iamVjdC5rZXlzKGJlYWNvbi5IKSkge1xuICAgICAgLy8gUmVxdWVzdGVkIG1vZHVsZXMuXG4gICAgICBiZWFjb24uSFtoaW50XS5yID0gYmVhY29uLkhbaGludF0uciB8fCBbXTtcbiAgICAgIC8vIExvYWRlZCBtb2R1bGVzLlxuICAgICAgYmVhY29uLkhbaGludF0uTCA9IGJlYWNvbi5IW2hpbnRdLkwgfHwgW107XG4gICAgICAvLyBTZXQgcmVxdWVzdGVkIG1vZHVsZXMgdG8gYSBjb3B5IG9mIHRoZSBsb2FkZWQgbW9kdWxlcy5cbiAgICAgIGJlYWNvbi5IW2hpbnRdLnIgPSBbLi4uYmVhY29uLkhbaGludF0uTF07XG4gICAgICAvLyBDbGVhciBwZW5kaW5nIGNhbGxiYWNrcy5cbiAgICAgIGlmIChiZWFjb24uQ1ApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWFjb24uQ1AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAvLyBSZW1vdmUgYWxsIGZhaWxlZCBwZW5kaW5nIGNhbGxiYWNrcy5cbiAgICAgICAgICBiZWFjb24uQ1BbaV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGxvYWRHYXBpKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8Z2FwaS5pZnJhbWVzLkNvbnRleHQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPGdhcGkuaWZyYW1lcy5Db250ZXh0PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gRnVuY3Rpb24gdG8gcnVuIHdoZW4gZ2FwaS5sb2FkIGlzIHJlYWR5LlxuICAgIGZ1bmN0aW9uIGxvYWRHYXBpSWZyYW1lKCk6IHZvaWQge1xuICAgICAgLy8gVGhlIGRldmVsb3BlciBtYXkgaGF2ZSB0cmllZCB0byBwcmV2aW91c2x5IHJ1biBnYXBpLmxvYWQgYW5kIGZhaWxlZC5cbiAgICAgIC8vIFJ1biB0aGlzIHRvIGZpeCB0aGF0LlxuICAgICAgcmVzZXRVbmxvYWRlZEdhcGlNb2R1bGVzKCk7XG4gICAgICBnYXBpLmxvYWQoJ2dhcGkuaWZyYW1lcycsIHtcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGdhcGkuaWZyYW1lcy5nZXRDb250ZXh0KCkpO1xuICAgICAgICB9LFxuICAgICAgICBvbnRpbWVvdXQ6ICgpID0+IHtcbiAgICAgICAgICAvLyBUaGUgYWJvdmUgcmVzZXQgbWF5IGJlIHN1ZmZpY2llbnQsIGJ1dCBoYXZpbmcgdGhpcyByZXNldCBhZnRlclxuICAgICAgICAgIC8vIGZhaWx1cmUgZW5zdXJlcyB0aGF0IGlmIHRoZSBkZXZlbG9wZXIgY2FsbHMgZ2FwaS5sb2FkIGFmdGVyIHRoZVxuICAgICAgICAgIC8vIGNvbm5lY3Rpb24gaXMgcmUtZXN0YWJsaXNoZWQgYW5kIGJlZm9yZSBhbm90aGVyIGF0dGVtcHQgdG8gZW1iZWRcbiAgICAgICAgICAvLyB0aGUgaWZyYW1lLCBpdCB3b3VsZCB3b3JrIGFuZCB3b3VsZCBub3QgYmUgYnJva2VuIGJlY2F1c2Ugb2Ygb3VyXG4gICAgICAgICAgLy8gZmFpbGVkIGF0dGVtcHQuXG4gICAgICAgICAgLy8gVGltZW91dCB3aGVuIGdhcGkuaWZyYW1lcy5JZnJhbWUgbm90IGxvYWRlZC5cbiAgICAgICAgICByZXNldFVubG9hZGVkR2FwaU1vZHVsZXMoKTtcbiAgICAgICAgICByZWplY3QoX2NyZWF0ZUVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuTkVUV09SS19SRVFVRVNUX0ZBSUxFRCkpO1xuICAgICAgICB9LFxuICAgICAgICB0aW1lb3V0OiBORVRXT1JLX1RJTUVPVVQuZ2V0KClcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChfd2luZG93KCkuZ2FwaT8uaWZyYW1lcz8uSWZyYW1lKSB7XG4gICAgICAvLyBJZiBnYXBpLmlmcmFtZXMuSWZyYW1lIGF2YWlsYWJsZSwgcmVzb2x2ZS5cbiAgICAgIHJlc29sdmUoZ2FwaS5pZnJhbWVzLmdldENvbnRleHQoKSk7XG4gICAgfSBlbHNlIGlmICghIV93aW5kb3coKS5nYXBpPy5sb2FkKSB7XG4gICAgICAvLyBHYXBpIGxvYWRlciByZWFkeSwgbG9hZCBnYXBpLmlmcmFtZXMuXG4gICAgICBsb2FkR2FwaUlmcmFtZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgYSBuZXcgaWZyYW1lIGNhbGxiYWNrIHdoZW4gdGhpcyBpcyBjYWxsZWQgc28gYXMgbm90IHRvIG92ZXJ3cml0ZVxuICAgICAgLy8gYW55IHByZXZpb3VzIGRlZmluZWQgY2FsbGJhY2suIFRoaXMgaGFwcGVucyBpZiB0aGlzIG1ldGhvZCBpcyBjYWxsZWRcbiAgICAgIC8vIG11bHRpcGxlIHRpbWVzIGluIHBhcmFsbGVsIGFuZCBjb3VsZCByZXN1bHQgaW4gdGhlIGxhdGVyIGNhbGxiYWNrXG4gICAgICAvLyBvdmVyd3JpdGluZyB0aGUgcHJldmlvdXMgb25lLiBUaGlzIHdvdWxkIGVuZCB1cCB3aXRoIGEgaWZyYW1lXG4gICAgICAvLyB0aW1lb3V0LlxuICAgICAgY29uc3QgY2JOYW1lID0ganMuX2dlbmVyYXRlQ2FsbGJhY2tOYW1lKCdpZnJhbWVmY2InKTtcbiAgICAgIC8vIEdBcGkgbG9hZGVyIG5vdCBhdmFpbGFibGUsIGR5bmFtaWNhbGx5IGxvYWQgcGxhdGZvcm0uanMuXG4gICAgICBfd2luZG93KClbY2JOYW1lXSA9ICgpID0+IHtcbiAgICAgICAgLy8gR0FwaSBsb2FkZXIgc2hvdWxkIGJlIHJlYWR5LlxuICAgICAgICBpZiAoISFnYXBpLmxvYWQpIHtcbiAgICAgICAgICBsb2FkR2FwaUlmcmFtZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEdhcGkgbG9hZGVyIGZhaWxlZCwgdGhyb3cgZXJyb3IuXG4gICAgICAgICAgcmVqZWN0KF9jcmVhdGVFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLk5FVFdPUktfUkVRVUVTVF9GQUlMRUQpKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIC8vIExvYWQgR0FwaSBsb2FkZXIuXG4gICAgICByZXR1cm4ganNcbiAgICAgICAgLl9sb2FkSlMoYCR7anMuX2dhcGlTY3JpcHRVcmwoKX0/b25sb2FkPSR7Y2JOYW1lfWApXG4gICAgICAgIC5jYXRjaChlID0+IHJlamVjdChlKSk7XG4gICAgfVxuICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgLy8gUmVzZXQgY2FjaGVkIHByb21pc2UgdG8gYWxsb3cgZm9yIHJldHJpYWwuXG4gICAgY2FjaGVkR0FwaUxvYWRlciA9IG51bGw7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH0pO1xufVxuXG5sZXQgY2FjaGVkR0FwaUxvYWRlcjogUHJvbWlzZTxnYXBpLmlmcmFtZXMuQ29udGV4dD4gfCBudWxsID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBfbG9hZEdhcGkoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxnYXBpLmlmcmFtZXMuQ29udGV4dD4ge1xuICBjYWNoZWRHQXBpTG9hZGVyID0gY2FjaGVkR0FwaUxvYWRlciB8fCBsb2FkR2FwaShhdXRoKTtcbiAgcmV0dXJuIGNhY2hlZEdBcGlMb2FkZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcmVzZXRMb2FkZXIoKTogdm9pZCB7XG4gIGNhY2hlZEdBcGlMb2FkZXIgPSBudWxsO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBTREtfVkVSU0lPTiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgcXVlcnlzdHJpbmcgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBEZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vaW50ZXJuYWwnO1xuXG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCwgX2NyZWF0ZUVycm9yIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBEZWxheSB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9kZWxheSc7XG5pbXBvcnQgeyBfZW11bGF0b3JVcmwgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvZW11bGF0b3InO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBfd2luZG93IH0gZnJvbSAnLi4vYXV0aF93aW5kb3cnO1xuaW1wb3J0ICogYXMgZ2FwaUxvYWRlciBmcm9tICcuL2dhcGknO1xuXG5jb25zdCBQSU5HX1RJTUVPVVQgPSBuZXcgRGVsYXkoNTAwMCwgMTUwMDApO1xuY29uc3QgSUZSQU1FX1BBVEggPSAnX18vYXV0aC9pZnJhbWUnO1xuY29uc3QgRU1VTEFURURfSUZSQU1FX1BBVEggPSAnZW11bGF0b3IvYXV0aC9pZnJhbWUnO1xuXG5jb25zdCBJRlJBTUVfQVRUUklCVVRFUyA9IHtcbiAgc3R5bGU6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6ICctMTAwcHgnLFxuICAgIHdpZHRoOiAnMXB4JyxcbiAgICBoZWlnaHQ6ICcxcHgnXG4gIH0sXG4gICdhcmlhLWhpZGRlbic6ICd0cnVlJyxcbiAgdGFiaW5kZXg6ICctMSdcbn07XG5cbi8vIE1hcCBmcm9tIGFwaUhvc3QgdG8gZW5kcG9pbnQgSUQgZm9yIHBhc3NpbmcgaW50byBpZnJhbWUuIEluIGN1cnJlbnQgU0RLLCBhcGlIb3N0IGNhbiBiZSBzZXQgdG9cbi8vIGFueXRoaW5nIChub3QgZnJvbSBhIGxpc3Qgb2YgZW5kcG9pbnRzIHdpdGggSURzIGFzIGluIGxlZ2FjeSksIHNvIHRoaXMgaXMgdGhlIGNsb3Nlc3Qgd2UgY2FuIGdldC5cbmNvbnN0IEVJRF9GUk9NX0FQSUhPU1QgPSBuZXcgTWFwKFtcbiAgW0RlZmF1bHRDb25maWcuQVBJX0hPU1QsICdwJ10sIC8vIHByb2R1Y3Rpb25cbiAgWydzdGFnaW5nLWlkZW50aXR5dG9vbGtpdC5zYW5kYm94Lmdvb2dsZWFwaXMuY29tJywgJ3MnXSwgLy8gc3RhZ2luZ1xuICBbJ3Rlc3QtaWRlbnRpdHl0b29sa2l0LnNhbmRib3guZ29vZ2xlYXBpcy5jb20nLCAndCddIC8vIHRlc3Rcbl0pO1xuXG5mdW5jdGlvbiBnZXRJZnJhbWVVcmwoYXV0aDogQXV0aEludGVybmFsKTogc3RyaW5nIHtcbiAgY29uc3QgY29uZmlnID0gYXV0aC5jb25maWc7XG4gIF9hc3NlcnQoY29uZmlnLmF1dGhEb21haW4sIGF1dGgsIEF1dGhFcnJvckNvZGUuTUlTU0lOR19BVVRIX0RPTUFJTik7XG4gIGNvbnN0IHVybCA9IGNvbmZpZy5lbXVsYXRvclxuICAgID8gX2VtdWxhdG9yVXJsKGNvbmZpZywgRU1VTEFURURfSUZSQU1FX1BBVEgpXG4gICAgOiBgaHR0cHM6Ly8ke2F1dGguY29uZmlnLmF1dGhEb21haW59LyR7SUZSQU1FX1BBVEh9YDtcblxuICBjb25zdCBwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgYXBpS2V5OiBjb25maWcuYXBpS2V5LFxuICAgIGFwcE5hbWU6IGF1dGgubmFtZSxcbiAgICB2OiBTREtfVkVSU0lPTlxuICB9O1xuICBjb25zdCBlaWQgPSBFSURfRlJPTV9BUElIT1NULmdldChhdXRoLmNvbmZpZy5hcGlIb3N0KTtcbiAgaWYgKGVpZCkge1xuICAgIHBhcmFtcy5laWQgPSBlaWQ7XG4gIH1cbiAgY29uc3QgZnJhbWV3b3JrcyA9IGF1dGguX2dldEZyYW1ld29ya3MoKTtcbiAgaWYgKGZyYW1ld29ya3MubGVuZ3RoKSB7XG4gICAgcGFyYW1zLmZ3ID0gZnJhbWV3b3Jrcy5qb2luKCcsJyk7XG4gIH1cbiAgcmV0dXJuIGAke3VybH0/JHtxdWVyeXN0cmluZyhwYXJhbXMpLnNsaWNlKDEpfWA7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfb3BlbklmcmFtZShcbiAgYXV0aDogQXV0aEludGVybmFsXG4pOiBQcm9taXNlPGdhcGkuaWZyYW1lcy5JZnJhbWU+IHtcbiAgY29uc3QgY29udGV4dCA9IGF3YWl0IGdhcGlMb2FkZXIuX2xvYWRHYXBpKGF1dGgpO1xuICBjb25zdCBnYXBpID0gX3dpbmRvdygpLmdhcGk7XG4gIF9hc3NlcnQoZ2FwaSwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIHJldHVybiBjb250ZXh0Lm9wZW4oXG4gICAge1xuICAgICAgd2hlcmU6IGRvY3VtZW50LmJvZHksXG4gICAgICB1cmw6IGdldElmcmFtZVVybChhdXRoKSxcbiAgICAgIG1lc3NhZ2VIYW5kbGVyc0ZpbHRlcjogZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUixcbiAgICAgIGF0dHJpYnV0ZXM6IElGUkFNRV9BVFRSSUJVVEVTLFxuICAgICAgZG9udGNsZWFyOiB0cnVlXG4gICAgfSxcbiAgICAoaWZyYW1lOiBnYXBpLmlmcmFtZXMuSWZyYW1lKSA9PlxuICAgICAgbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBhd2FpdCBpZnJhbWUucmVzdHlsZSh7XG4gICAgICAgICAgLy8gUHJldmVudCBpZnJhbWUgZnJvbSBjbG9zaW5nIG9uIG1vdXNlIG91dC5cbiAgICAgICAgICBzZXRIaWRlT25MZWF2ZTogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgbmV0d29ya0Vycm9yID0gX2NyZWF0ZUVycm9yKFxuICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgQXV0aEVycm9yQ29kZS5ORVRXT1JLX1JFUVVFU1RfRkFJTEVEXG4gICAgICAgICk7XG4gICAgICAgIC8vIENvbmZpcm0gaWZyYW1lIGlzIGNvcnJlY3RseSBsb2FkZWQuXG4gICAgICAgIC8vIFRvIGZhbGxiYWNrIG9uIGZhaWx1cmUsIHNldCBhIHRpbWVvdXQuXG4gICAgICAgIGNvbnN0IG5ldHdvcmtFcnJvclRpbWVyID0gX3dpbmRvdygpLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHJlamVjdChuZXR3b3JrRXJyb3IpO1xuICAgICAgICB9LCBQSU5HX1RJTUVPVVQuZ2V0KCkpO1xuICAgICAgICAvLyBDbGVhciB0aW1lciBhbmQgcmVzb2x2ZSBwZW5kaW5nIGlmcmFtZSByZWFkeSBwcm9taXNlLlxuICAgICAgICBmdW5jdGlvbiBjbGVhclRpbWVyQW5kUmVzb2x2ZSgpOiB2b2lkIHtcbiAgICAgICAgICBfd2luZG93KCkuY2xlYXJUaW1lb3V0KG5ldHdvcmtFcnJvclRpbWVyKTtcbiAgICAgICAgICByZXNvbHZlKGlmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyByZXR1cm5zIGFuIElUaGVuYWJsZS4gSG93ZXZlciB0aGUgcmVqZWN0IHBhcnQgZG9lcyBub3QgY2FsbFxuICAgICAgICAvLyB3aGVuIHRoZSBpZnJhbWUgaXMgbm90IGxvYWRlZC5cbiAgICAgICAgaWZyYW1lLnBpbmcoY2xlYXJUaW1lckFuZFJlc29sdmUpLnRoZW4oY2xlYXJUaW1lckFuZFJlc29sdmUsICgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV0d29ya0Vycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBnZXRVQSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7XG4gIF9pc0Nocm9tZUlPUyxcbiAgX2lzRmlyZWZveCxcbiAgX2lzSU9TU3RhbmRhbG9uZVxufSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcblxuY29uc3QgQkFTRV9QT1BVUF9PUFRJT05TID0ge1xuICBsb2NhdGlvbjogJ3llcycsXG4gIHJlc2l6YWJsZTogJ3llcycsXG4gIHN0YXR1c2JhcjogJ3llcycsXG4gIHRvb2xiYXI6ICdubydcbn07XG5cbmNvbnN0IERFRkFVTFRfV0lEVEggPSA1MDA7XG5jb25zdCBERUZBVUxUX0hFSUdIVCA9IDYwMDtcbmNvbnN0IFRBUkdFVF9CTEFOSyA9ICdfYmxhbmsnO1xuXG5jb25zdCBGSVJFRk9YX0VNUFRZX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0JztcblxuZXhwb3J0IGNsYXNzIEF1dGhQb3B1cCB7XG4gIGFzc29jaWF0ZWRFdmVudDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IocmVhZG9ubHkgd2luZG93OiBXaW5kb3cgfCBudWxsKSB7fVxuXG4gIGNsb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLndpbmRvdykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy53aW5kb3cuY2xvc2UoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfb3BlbihcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICB1cmw/OiBzdHJpbmcsXG4gIG5hbWU/OiBzdHJpbmcsXG4gIHdpZHRoID0gREVGQVVMVF9XSURUSCxcbiAgaGVpZ2h0ID0gREVGQVVMVF9IRUlHSFRcbik6IEF1dGhQb3B1cCB7XG4gIGNvbnN0IHRvcCA9IE1hdGgubWF4KCh3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0IC0gaGVpZ2h0KSAvIDIsIDApLnRvU3RyaW5nKCk7XG4gIGNvbnN0IGxlZnQgPSBNYXRoLm1heCgod2luZG93LnNjcmVlbi5hdmFpbFdpZHRoIC0gd2lkdGgpIC8gMiwgMCkudG9TdHJpbmcoKTtcbiAgbGV0IHRhcmdldCA9ICcnO1xuXG4gIGNvbnN0IG9wdGlvbnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgLi4uQkFTRV9QT1BVUF9PUFRJT05TLFxuICAgIHdpZHRoOiB3aWR0aC50b1N0cmluZygpLFxuICAgIGhlaWdodDogaGVpZ2h0LnRvU3RyaW5nKCksXG4gICAgdG9wLFxuICAgIGxlZnRcbiAgfTtcblxuICAvLyBDaHJvbWUgaU9TIDcgYW5kIDggaXMgcmV0dXJuaW5nIGFuIHVuZGVmaW5lZCBwb3B1cCB3aW4gd2hlbiB0YXJnZXQgaXNcbiAgLy8gc3BlY2lmaWVkLCBldmVuIHRob3VnaCB0aGUgcG9wdXAgaXMgbm90IG5lY2Vzc2FyaWx5IGJsb2NrZWQuXG4gIGNvbnN0IHVhID0gZ2V0VUEoKS50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmIChuYW1lKSB7XG4gICAgdGFyZ2V0ID0gX2lzQ2hyb21lSU9TKHVhKSA/IFRBUkdFVF9CTEFOSyA6IG5hbWU7XG4gIH1cblxuICBpZiAoX2lzRmlyZWZveCh1YSkpIHtcbiAgICAvLyBGaXJlZm94IGNvbXBsYWlucyB3aGVuIGludmFsaWQgVVJMcyBhcmUgcG9wcGVkIG91dC4gSGFja3kgd2F5IHRvIGJ5cGFzcy5cbiAgICB1cmwgPSB1cmwgfHwgRklSRUZPWF9FTVBUWV9VUkw7XG4gICAgLy8gRmlyZWZveCBkaXNhYmxlcyBieSBkZWZhdWx0IHNjcm9sbGluZyBvbiBwb3B1cCB3aW5kb3dzLCB3aGljaCBjYW4gY3JlYXRlXG4gICAgLy8gaXNzdWVzIHdoZW4gdGhlIHVzZXIgaGFzIG1hbnkgR29vZ2xlIGFjY291bnRzLCBmb3IgaW5zdGFuY2UuXG4gICAgb3B0aW9ucy5zY3JvbGxiYXJzID0gJ3llcyc7XG4gIH1cblxuICBjb25zdCBvcHRpb25zU3RyaW5nID0gT2JqZWN0LmVudHJpZXMob3B0aW9ucykucmVkdWNlKFxuICAgIChhY2N1bSwgW2tleSwgdmFsdWVdKSA9PiBgJHthY2N1bX0ke2tleX09JHt2YWx1ZX0sYCxcbiAgICAnJ1xuICApO1xuXG4gIGlmIChfaXNJT1NTdGFuZGFsb25lKHVhKSAmJiB0YXJnZXQgIT09ICdfc2VsZicpIHtcbiAgICBvcGVuQXNOZXdXaW5kb3dJT1ModXJsIHx8ICcnLCB0YXJnZXQpO1xuICAgIHJldHVybiBuZXcgQXV0aFBvcHVwKG51bGwpO1xuICB9XG5cbiAgLy8gYWJvdXQ6YmxhbmsgZ2V0dGluZyBzYW5pdGl6ZWQgY2F1c2luZyBicm93c2VycyBsaWtlIElFL0VkZ2UgdG8gZGlzcGxheVxuICAvLyBicmllZiBlcnJvciBtZXNzYWdlIGJlZm9yZSByZWRpcmVjdGluZyB0byBoYW5kbGVyLlxuICBjb25zdCBuZXdXaW4gPSB3aW5kb3cub3Blbih1cmwgfHwgJycsIHRhcmdldCwgb3B0aW9uc1N0cmluZyk7XG4gIF9hc3NlcnQobmV3V2luLCBhdXRoLCBBdXRoRXJyb3JDb2RlLlBPUFVQX0JMT0NLRUQpO1xuXG4gIC8vIEZsYWt5IG9uIElFIGVkZ2UsIGVuY2Fwc3VsYXRlIHdpdGggYSB0cnkgYW5kIGNhdGNoLlxuICB0cnkge1xuICAgIG5ld1dpbi5mb2N1cygpO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHJldHVybiBuZXcgQXV0aFBvcHVwKG5ld1dpbik7XG59XG5cbmZ1bmN0aW9uIG9wZW5Bc05ld1dpbmRvd0lPUyh1cmw6IHN0cmluZywgdGFyZ2V0OiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGVsLmhyZWYgPSB1cmw7XG4gIGVsLnRhcmdldCA9IHRhcmdldDtcbiAgY29uc3QgY2xpY2sgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpO1xuICBjbGljay5pbml0TW91c2VFdmVudChcbiAgICAnY2xpY2snLFxuICAgIHRydWUsXG4gICAgdHJ1ZSxcbiAgICB3aW5kb3csXG4gICAgMSxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIGZhbHNlLFxuICAgIGZhbHNlLFxuICAgIGZhbHNlLFxuICAgIGZhbHNlLFxuICAgIDEsXG4gICAgbnVsbFxuICApO1xuICBlbC5kaXNwYXRjaEV2ZW50KGNsaWNrKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBTREtfVkVSU0lPTiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEFwaUtleSwgQXBwTmFtZSwgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBBdXRoRXZlbnRUeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwvcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnQnO1xuaW1wb3J0IHsgaXNFbXB0eSwgcXVlcnlzdHJpbmcgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBfZW11bGF0b3JVcmwgfSBmcm9tICcuL2VtdWxhdG9yJztcbmltcG9ydCB7IEZlZGVyYXRlZEF1dGhQcm92aWRlciB9IGZyb20gJy4uL3Byb3ZpZGVycy9mZWRlcmF0ZWQnO1xuaW1wb3J0IHsgQmFzZU9BdXRoUHJvdmlkZXIgfSBmcm9tICcuLi9wcm92aWRlcnMvb2F1dGgnO1xuXG4vKipcbiAqIFVSTCBmb3IgQXV0aGVudGljYXRpb24gd2lkZ2V0IHdoaWNoIHdpbGwgaW5pdGlhdGUgdGhlIE9BdXRoIGhhbmRzaGFrZVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBXSURHRVRfUEFUSCA9ICdfXy9hdXRoL2hhbmRsZXInO1xuXG4vKipcbiAqIFVSTCBmb3IgZW11bGF0ZWQgZW52aXJvbm1lbnRcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgRU1VTEFUT1JfV0lER0VUX1BBVEggPSAnZW11bGF0b3IvYXV0aC9oYW5kbGVyJztcblxuLyoqXG4gKiBGcmFnbWVudCBuYW1lIGZvciB0aGUgQXBwIENoZWNrIHRva2VuIHRoYXQgZ2V0cyBwYXNzZWQgdG8gdGhlIHdpZGdldFxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBGSVJFQkFTRV9BUFBfQ0hFQ0tfRlJBR01FTlRfSUQgPSBlbmNvZGVVUklDb21wb25lbnQoJ2ZhYycpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1kZWZpbml0aW9uc1xudHlwZSBXaWRnZXRQYXJhbXMgPSB7XG4gIGFwaUtleTogQXBpS2V5O1xuICBhcHBOYW1lOiBBcHBOYW1lO1xuICBhdXRoVHlwZTogQXV0aEV2ZW50VHlwZTtcbiAgcmVkaXJlY3RVcmw/OiBzdHJpbmc7XG4gIHY6IHN0cmluZztcbiAgcHJvdmlkZXJJZD86IHN0cmluZztcbiAgc2NvcGVzPzogc3RyaW5nO1xuICBjdXN0b21QYXJhbWV0ZXJzPzogc3RyaW5nO1xuICBldmVudElkPzogc3RyaW5nO1xuICB0aWQ/OiBzdHJpbmc7XG59ICYgeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCB1bmRlZmluZWQgfTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9nZXRSZWRpcmVjdFVybChcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICBhdXRoVHlwZTogQXV0aEV2ZW50VHlwZSxcbiAgcmVkaXJlY3RVcmw/OiBzdHJpbmcsXG4gIGV2ZW50SWQ/OiBzdHJpbmcsXG4gIGFkZGl0aW9uYWxQYXJhbXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+XG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBfYXNzZXJ0KGF1dGguY29uZmlnLmF1dGhEb21haW4sIGF1dGgsIEF1dGhFcnJvckNvZGUuTUlTU0lOR19BVVRIX0RPTUFJTik7XG4gIF9hc3NlcnQoYXV0aC5jb25maWcuYXBpS2V5LCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVkFMSURfQVBJX0tFWSk7XG5cbiAgY29uc3QgcGFyYW1zOiBXaWRnZXRQYXJhbXMgPSB7XG4gICAgYXBpS2V5OiBhdXRoLmNvbmZpZy5hcGlLZXksXG4gICAgYXBwTmFtZTogYXV0aC5uYW1lLFxuICAgIGF1dGhUeXBlLFxuICAgIHJlZGlyZWN0VXJsLFxuICAgIHY6IFNES19WRVJTSU9OLFxuICAgIGV2ZW50SWRcbiAgfTtcblxuICBpZiAocHJvdmlkZXIgaW5zdGFuY2VvZiBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIpIHtcbiAgICBwcm92aWRlci5zZXREZWZhdWx0TGFuZ3VhZ2UoYXV0aC5sYW5ndWFnZUNvZGUpO1xuICAgIHBhcmFtcy5wcm92aWRlcklkID0gcHJvdmlkZXIucHJvdmlkZXJJZCB8fCAnJztcbiAgICBpZiAoIWlzRW1wdHkocHJvdmlkZXIuZ2V0Q3VzdG9tUGFyYW1ldGVycygpKSkge1xuICAgICAgcGFyYW1zLmN1c3RvbVBhcmFtZXRlcnMgPSBKU09OLnN0cmluZ2lmeShwcm92aWRlci5nZXRDdXN0b21QYXJhbWV0ZXJzKCkpO1xuICAgIH1cblxuICAgIC8vIFRPRE8gc2V0IGFkZGl0aW9uYWxQYXJhbXMgZnJvbSB0aGUgcHJvdmlkZXIgYXMgd2VsbD9cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhZGRpdGlvbmFsUGFyYW1zIHx8IHt9KSkge1xuICAgICAgcGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAocHJvdmlkZXIgaW5zdGFuY2VvZiBCYXNlT0F1dGhQcm92aWRlcikge1xuICAgIGNvbnN0IHNjb3BlcyA9IHByb3ZpZGVyLmdldFNjb3BlcygpLmZpbHRlcihzY29wZSA9PiBzY29wZSAhPT0gJycpO1xuICAgIGlmIChzY29wZXMubGVuZ3RoID4gMCkge1xuICAgICAgcGFyYW1zLnNjb3BlcyA9IHNjb3Blcy5qb2luKCcsJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGF1dGgudGVuYW50SWQpIHtcbiAgICBwYXJhbXMudGlkID0gYXV0aC50ZW5hbnRJZDtcbiAgfVxuXG4gIC8vIFRPRE86IG1heWJlIHNldCBlaWQgYXMgZW5kcG9pbnRJZFxuICAvLyBUT0RPOiBtYXliZSBzZXQgZncgYXMgRnJhbWV3b3Jrcy5qb2luKFwiLFwiKVxuXG4gIGNvbnN0IHBhcmFtc0RpY3QgPSBwYXJhbXMgYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyPjtcbiAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMocGFyYW1zRGljdCkpIHtcbiAgICBpZiAocGFyYW1zRGljdFtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlbGV0ZSBwYXJhbXNEaWN0W2tleV07XG4gICAgfVxuICB9XG5cbiAgLy8gU2V0cyB0aGUgQXBwIENoZWNrIHRva2VuIHRvIHBhc3MgdG8gdGhlIHdpZGdldFxuICBjb25zdCBhcHBDaGVja1Rva2VuID0gYXdhaXQgYXV0aC5fZ2V0QXBwQ2hlY2tUb2tlbigpO1xuICBjb25zdCBhcHBDaGVja1Rva2VuRnJhZ21lbnQgPSBhcHBDaGVja1Rva2VuXG4gICAgPyBgIyR7RklSRUJBU0VfQVBQX0NIRUNLX0ZSQUdNRU5UX0lEfT0ke2VuY29kZVVSSUNvbXBvbmVudChhcHBDaGVja1Rva2VuKX1gXG4gICAgOiAnJztcblxuICAvLyBTdGFydCBhdCBpbmRleCAxIHRvIHNraXAgdGhlIGxlYWRpbmcgJyYnIGluIHRoZSBxdWVyeSBzdHJpbmdcbiAgcmV0dXJuIGAke2dldEhhbmRsZXJCYXNlKGF1dGgpfT8ke3F1ZXJ5c3RyaW5nKHBhcmFtc0RpY3QpLnNsaWNlKFxuICAgIDFcbiAgKX0ke2FwcENoZWNrVG9rZW5GcmFnbWVudH1gO1xufVxuXG5mdW5jdGlvbiBnZXRIYW5kbGVyQmFzZSh7IGNvbmZpZyB9OiBBdXRoSW50ZXJuYWwpOiBzdHJpbmcge1xuICBpZiAoIWNvbmZpZy5lbXVsYXRvcikge1xuICAgIHJldHVybiBgaHR0cHM6Ly8ke2NvbmZpZy5hdXRoRG9tYWlufS8ke1dJREdFVF9QQVRIfWA7XG4gIH1cblxuICByZXR1cm4gX2VtdWxhdG9yVXJsKGNvbmZpZywgRU1VTEFUT1JfV0lER0VUX1BBVEgpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGhQcm92aWRlciwgUG9wdXBSZWRpcmVjdFJlc29sdmVyIH0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgQXV0aEV2ZW50TWFuYWdlciB9IGZyb20gJy4uL2NvcmUvYXV0aC9hdXRoX2V2ZW50X21hbmFnZXInO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQsIGRlYnVnQXNzZXJ0LCBfZmFpbCB9IGZyb20gJy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX2dlbmVyYXRlRXZlbnRJZCB9IGZyb20gJy4uL2NvcmUvdXRpbC9ldmVudF9pZCc7XG5pbXBvcnQgeyBfZ2V0Q3VycmVudFVybCB9IGZyb20gJy4uL2NvcmUvdXRpbC9sb2NhdGlvbic7XG5pbXBvcnQgeyBfdmFsaWRhdGVPcmlnaW4gfSBmcm9tICcuLi9jb3JlL3V0aWwvdmFsaWRhdGVfb3JpZ2luJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHtcbiAgQXV0aEV2ZW50VHlwZSxcbiAgRXZlbnRNYW5hZ2VyLFxuICBHYXBpQXV0aEV2ZW50LFxuICBHYXBpT3V0Y29tZSxcbiAgUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWxcbn0gZnJvbSAnLi4vbW9kZWwvcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgX3NldFdpbmRvd0xvY2F0aW9uIH0gZnJvbSAnLi9hdXRoX3dpbmRvdyc7XG5pbXBvcnQgeyBfb3BlbklmcmFtZSB9IGZyb20gJy4vaWZyYW1lL2lmcmFtZSc7XG5pbXBvcnQgeyBicm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlIH0gZnJvbSAnLi9wZXJzaXN0ZW5jZS9zZXNzaW9uX3N0b3JhZ2UnO1xuaW1wb3J0IHsgX29wZW4sIEF1dGhQb3B1cCB9IGZyb20gJy4vdXRpbC9wb3B1cCc7XG5pbXBvcnQgeyBfZ2V0UmVkaXJlY3RSZXN1bHQgfSBmcm9tICcuL3N0cmF0ZWdpZXMvcmVkaXJlY3QnO1xuaW1wb3J0IHsgX2dldFJlZGlyZWN0VXJsIH0gZnJvbSAnLi4vY29yZS91dGlsL2hhbmRsZXInO1xuaW1wb3J0IHsgX2lzSU9TLCBfaXNNb2JpbGVCcm93c2VyLCBfaXNTYWZhcmkgfSBmcm9tICcuLi9jb3JlL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQgeyBfb3ZlcnJpZGVSZWRpcmVjdFJlc3VsdCB9IGZyb20gJy4uL2NvcmUvc3RyYXRlZ2llcy9yZWRpcmVjdCc7XG5cbi8qKlxuICogVGhlIHNwZWNpYWwgd2ViIHN0b3JhZ2UgZXZlbnRcbiAqXG4gKi9cbmNvbnN0IFdFQl9TVE9SQUdFX1NVUFBPUlRfS0VZID0gJ3dlYlN0b3JhZ2VTdXBwb3J0JztcblxuaW50ZXJmYWNlIFdlYlN0b3JhZ2VTdXBwb3J0TWVzc2FnZSBleHRlbmRzIGdhcGkuaWZyYW1lcy5NZXNzYWdlIHtcbiAgW2luZGV4OiBudW1iZXJdOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcbn1cblxuaW50ZXJmYWNlIE1hbmFnZXJPclByb21pc2Uge1xuICBtYW5hZ2VyPzogRXZlbnRNYW5hZ2VyO1xuICBwcm9taXNlPzogUHJvbWlzZTxFdmVudE1hbmFnZXI+O1xufVxuXG5jbGFzcyBCcm93c2VyUG9wdXBSZWRpcmVjdFJlc29sdmVyIGltcGxlbWVudHMgUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwge1xuICBwcml2YXRlIHJlYWRvbmx5IGV2ZW50TWFuYWdlcnM6IFJlY29yZDxzdHJpbmcsIE1hbmFnZXJPclByb21pc2U+ID0ge307XG4gIHByaXZhdGUgcmVhZG9ubHkgaWZyYW1lczogUmVjb3JkPHN0cmluZywgZ2FwaS5pZnJhbWVzLklmcmFtZT4gPSB7fTtcbiAgcHJpdmF0ZSByZWFkb25seSBvcmlnaW5WYWxpZGF0aW9uUHJvbWlzZXM6IFJlY29yZDxzdHJpbmcsIFByb21pc2U8dm9pZD4+ID0ge307XG5cbiAgcmVhZG9ubHkgX3JlZGlyZWN0UGVyc2lzdGVuY2UgPSBicm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlO1xuXG4gIC8vIFdyYXBwaW5nIGluIGFzeW5jIGV2ZW4gdGhvdWdoIHdlIGRvbid0IGF3YWl0IGFueXdoZXJlIGluIG9yZGVyXG4gIC8vIHRvIG1ha2Ugc3VyZSBlcnJvcnMgYXJlIHJhaXNlZCBhcyBwcm9taXNlIHJlamVjdGlvbnNcbiAgYXN5bmMgX29wZW5Qb3B1cChcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgICBhdXRoVHlwZTogQXV0aEV2ZW50VHlwZSxcbiAgICBldmVudElkPzogc3RyaW5nXG4gICk6IFByb21pc2U8QXV0aFBvcHVwPiB7XG4gICAgZGVidWdBc3NlcnQoXG4gICAgICB0aGlzLmV2ZW50TWFuYWdlcnNbYXV0aC5fa2V5KCldPy5tYW5hZ2VyLFxuICAgICAgJ19pbml0aWFsaXplKCkgbm90IGNhbGxlZCBiZWZvcmUgX29wZW5Qb3B1cCgpJ1xuICAgICk7XG5cbiAgICBjb25zdCB1cmwgPSBhd2FpdCBfZ2V0UmVkaXJlY3RVcmwoXG4gICAgICBhdXRoLFxuICAgICAgcHJvdmlkZXIsXG4gICAgICBhdXRoVHlwZSxcbiAgICAgIF9nZXRDdXJyZW50VXJsKCksXG4gICAgICBldmVudElkXG4gICAgKTtcbiAgICByZXR1cm4gX29wZW4oYXV0aCwgdXJsLCBfZ2VuZXJhdGVFdmVudElkKCkpO1xuICB9XG5cbiAgYXN5bmMgX29wZW5SZWRpcmVjdChcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgICBhdXRoVHlwZTogQXV0aEV2ZW50VHlwZSxcbiAgICBldmVudElkPzogc3RyaW5nXG4gICk6IFByb21pc2U8bmV2ZXI+IHtcbiAgICBhd2FpdCB0aGlzLl9vcmlnaW5WYWxpZGF0aW9uKGF1dGgpO1xuICAgIGNvbnN0IHVybCA9IGF3YWl0IF9nZXRSZWRpcmVjdFVybChcbiAgICAgIGF1dGgsXG4gICAgICBwcm92aWRlcixcbiAgICAgIGF1dGhUeXBlLFxuICAgICAgX2dldEN1cnJlbnRVcmwoKSxcbiAgICAgIGV2ZW50SWRcbiAgICApO1xuICAgIF9zZXRXaW5kb3dMb2NhdGlvbih1cmwpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB7fSk7XG4gIH1cblxuICBfaW5pdGlhbGl6ZShhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPEV2ZW50TWFuYWdlcj4ge1xuICAgIGNvbnN0IGtleSA9IGF1dGguX2tleSgpO1xuICAgIGlmICh0aGlzLmV2ZW50TWFuYWdlcnNba2V5XSkge1xuICAgICAgY29uc3QgeyBtYW5hZ2VyLCBwcm9taXNlIH0gPSB0aGlzLmV2ZW50TWFuYWdlcnNba2V5XTtcbiAgICAgIGlmIChtYW5hZ2VyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobWFuYWdlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1Z0Fzc2VydChwcm9taXNlLCAnSWYgbWFuYWdlciBpcyBub3Qgc2V0LCBwcm9taXNlIHNob3VsZCBiZScpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy5pbml0QW5kR2V0TWFuYWdlcihhdXRoKTtcbiAgICB0aGlzLmV2ZW50TWFuYWdlcnNba2V5XSA9IHsgcHJvbWlzZSB9O1xuXG4gICAgLy8gSWYgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQsIHRoZSBrZXkgc2hvdWxkIGJlIHJlbW92ZWQgc28gdGhhdCB0aGVcbiAgICAvLyBvcGVyYXRpb24gY2FuIGJlIHJldHJpZWQgbGF0ZXIuXG4gICAgcHJvbWlzZS5jYXRjaCgoKSA9PiB7XG4gICAgICBkZWxldGUgdGhpcy5ldmVudE1hbmFnZXJzW2tleV07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdEFuZEdldE1hbmFnZXIoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxFdmVudE1hbmFnZXI+IHtcbiAgICBjb25zdCBpZnJhbWUgPSBhd2FpdCBfb3BlbklmcmFtZShhdXRoKTtcbiAgICBjb25zdCBtYW5hZ2VyID0gbmV3IEF1dGhFdmVudE1hbmFnZXIoYXV0aCk7XG4gICAgaWZyYW1lLnJlZ2lzdGVyPEdhcGlBdXRoRXZlbnQ+KFxuICAgICAgJ2F1dGhFdmVudCcsXG4gICAgICAoaWZyYW1lRXZlbnQ6IEdhcGlBdXRoRXZlbnQgfCBudWxsKSA9PiB7XG4gICAgICAgIF9hc3NlcnQoaWZyYW1lRXZlbnQ/LmF1dGhFdmVudCwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlZBTElEX0FVVEhfRVZFTlQpO1xuICAgICAgICAvLyBUT0RPOiBDb25zaWRlciBzcGxpdHRpbmcgcmVkaXJlY3QgYW5kIHBvcHVwIGV2ZW50cyBlYXJsaWVyIG9uXG5cbiAgICAgICAgY29uc3QgaGFuZGxlZCA9IG1hbmFnZXIub25FdmVudChpZnJhbWVFdmVudC5hdXRoRXZlbnQpO1xuICAgICAgICByZXR1cm4geyBzdGF0dXM6IGhhbmRsZWQgPyBHYXBpT3V0Y29tZS5BQ0sgOiBHYXBpT3V0Y29tZS5FUlJPUiB9O1xuICAgICAgfSxcbiAgICAgIGdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcbiAgICApO1xuXG4gICAgdGhpcy5ldmVudE1hbmFnZXJzW2F1dGguX2tleSgpXSA9IHsgbWFuYWdlciB9O1xuICAgIHRoaXMuaWZyYW1lc1thdXRoLl9rZXkoKV0gPSBpZnJhbWU7XG4gICAgcmV0dXJuIG1hbmFnZXI7XG4gIH1cblxuICBfaXNJZnJhbWVXZWJTdG9yYWdlU3VwcG9ydGVkKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBjYjogKHN1cHBvcnRlZDogYm9vbGVhbikgPT4gdW5rbm93blxuICApOiB2b2lkIHtcbiAgICBjb25zdCBpZnJhbWUgPSB0aGlzLmlmcmFtZXNbYXV0aC5fa2V5KCldO1xuICAgIGlmcmFtZS5zZW5kPGdhcGkuaWZyYW1lcy5NZXNzYWdlLCBXZWJTdG9yYWdlU3VwcG9ydE1lc3NhZ2U+KFxuICAgICAgV0VCX1NUT1JBR0VfU1VQUE9SVF9LRVksXG4gICAgICB7IHR5cGU6IFdFQl9TVE9SQUdFX1NVUFBPUlRfS0VZIH0sXG4gICAgICByZXN1bHQgPT4ge1xuICAgICAgICBjb25zdCBpc1N1cHBvcnRlZCA9IHJlc3VsdD8uWzBdPy5bV0VCX1NUT1JBR0VfU1VQUE9SVF9LRVldO1xuICAgICAgICBpZiAoaXNTdXBwb3J0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNiKCEhaXNTdXBwb3J0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgICB9LFxuICAgICAgZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUlxuICAgICk7XG4gIH1cblxuICBfb3JpZ2luVmFsaWRhdGlvbihhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBrZXkgPSBhdXRoLl9rZXkoKTtcbiAgICBpZiAoIXRoaXMub3JpZ2luVmFsaWRhdGlvblByb21pc2VzW2tleV0pIHtcbiAgICAgIHRoaXMub3JpZ2luVmFsaWRhdGlvblByb21pc2VzW2tleV0gPSBfdmFsaWRhdGVPcmlnaW4oYXV0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3JpZ2luVmFsaWRhdGlvblByb21pc2VzW2tleV07XG4gIH1cblxuICBnZXQgX3Nob3VsZEluaXRQcm9hY3RpdmVseSgpOiBib29sZWFuIHtcbiAgICAvLyBNb2JpbGUgYnJvd3NlcnMgYW5kIFNhZmFyaSBuZWVkIHRvIG9wdGltaXN0aWNhbGx5IGluaXRpYWxpemVcbiAgICByZXR1cm4gX2lzTW9iaWxlQnJvd3NlcigpIHx8IF9pc1NhZmFyaSgpIHx8IF9pc0lPUygpO1xuICB9XG5cbiAgX2NvbXBsZXRlUmVkaXJlY3RGbiA9IF9nZXRSZWRpcmVjdFJlc3VsdDtcblxuICBfb3ZlcnJpZGVSZWRpcmVjdFJlc3VsdCA9IF9vdmVycmlkZVJlZGlyZWN0UmVzdWx0O1xufVxuXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJ9IHN1aXRhYmxlIGZvciBicm93c2VyXG4gKiBiYXNlZCBhcHBsaWNhdGlvbnMuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGJyb3dzZXJQb3B1cFJlZGlyZWN0UmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlciA9XG4gIEJyb3dzZXJQb3B1cFJlZGlyZWN0UmVzb2x2ZXI7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEZhY3RvcklkLCBNdWx0aUZhY3RvckFzc2VydGlvbiB9IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBkZWJ1Z0ZhaWwgfSBmcm9tICcuLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwsIE11bHRpRmFjdG9yU2Vzc2lvblR5cGUgfSBmcm9tICcuL21mYV9zZXNzaW9uJztcbmltcG9ydCB7IEZpbmFsaXplTWZhUmVzcG9uc2UgfSBmcm9tICcuLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uL21vZGVsL2F1dGgnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsIGltcGxlbWVudHMgTXVsdGlGYWN0b3JBc3NlcnRpb24ge1xuICBwcm90ZWN0ZWQgY29uc3RydWN0b3IocmVhZG9ubHkgZmFjdG9ySWQ6IEZhY3RvcklkKSB7fVxuXG4gIF9wcm9jZXNzKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBzZXNzaW9uOiBNdWx0aUZhY3RvclNlc3Npb25JbXBsLFxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPEZpbmFsaXplTWZhUmVzcG9uc2U+IHtcbiAgICBzd2l0Y2ggKHNlc3Npb24udHlwZSkge1xuICAgICAgY2FzZSBNdWx0aUZhY3RvclNlc3Npb25UeXBlLkVOUk9MTDpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbmFsaXplRW5yb2xsKGF1dGgsIHNlc3Npb24uY3JlZGVudGlhbCwgZGlzcGxheU5hbWUpO1xuICAgICAgY2FzZSBNdWx0aUZhY3RvclNlc3Npb25UeXBlLlNJR05fSU46XG4gICAgICAgIHJldHVybiB0aGlzLl9maW5hbGl6ZVNpZ25JbihhdXRoLCBzZXNzaW9uLmNyZWRlbnRpYWwpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGRlYnVnRmFpbCgndW5leHBlY3RlZCBNdWx0aUZhY3RvclNlc3Npb25UeXBlJyk7XG4gICAgfVxuICB9XG5cbiAgYWJzdHJhY3QgX2ZpbmFsaXplRW5yb2xsKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBpZFRva2VuOiBzdHJpbmcsXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsXG4gICk6IFByb21pc2U8RmluYWxpemVNZmFSZXNwb25zZT47XG4gIGFic3RyYWN0IF9maW5hbGl6ZVNpZ25JbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgbWZhUGVuZGluZ0NyZWRlbnRpYWw6IHN0cmluZ1xuICApOiBQcm9taXNlPEZpbmFsaXplTWZhUmVzcG9uc2U+O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1xuICBGYWN0b3JJZCxcbiAgUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvblxufSBmcm9tICcuLi8uLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwgfSBmcm9tICcuLi8uLi8uLi9tZmEvbWZhX2Fzc2VydGlvbic7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IGZpbmFsaXplRW5yb2xsUGhvbmVNZmEgfSBmcm9tICcuLi8uLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L21mYSc7XG5pbXBvcnQgeyBQaG9uZUF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9jcmVkZW50aWFscy9waG9uZSc7XG5pbXBvcnQge1xuICBmaW5hbGl6ZVNpZ25JblBob25lTWZhLFxuICBGaW5hbGl6ZU1mYVJlc3BvbnNlXG59IGZyb20gJy4uLy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuXG4vKipcbiAqIHtAaW5oZXJpdGRvYyBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9ufVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsXG4gIGV4dGVuZHMgTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsXG4gIGltcGxlbWVudHMgUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvblxue1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgY3JlZGVudGlhbDogUGhvbmVBdXRoQ3JlZGVudGlhbCkge1xuICAgIHN1cGVyKEZhY3RvcklkLlBIT05FKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tQ3JlZGVudGlhbChcbiAgICBjcmVkZW50aWFsOiBQaG9uZUF1dGhDcmVkZW50aWFsXG4gICk6IFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsIHtcbiAgICByZXR1cm4gbmV3IFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsKGNyZWRlbnRpYWwpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZmluYWxpemVFbnJvbGwoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGlkVG9rZW46IHN0cmluZyxcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGxcbiAgKTogUHJvbWlzZTxGaW5hbGl6ZU1mYVJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIGZpbmFsaXplRW5yb2xsUGhvbmVNZmEoYXV0aCwge1xuICAgICAgaWRUb2tlbixcbiAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgcGhvbmVWZXJpZmljYXRpb25JbmZvOiB0aGlzLmNyZWRlbnRpYWwuX21ha2VWZXJpZmljYXRpb25SZXF1ZXN0KClcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2ZpbmFsaXplU2lnbkluKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogc3RyaW5nXG4gICk6IFByb21pc2U8RmluYWxpemVNZmFSZXNwb25zZT4ge1xuICAgIHJldHVybiBmaW5hbGl6ZVNpZ25JblBob25lTWZhKGF1dGgsIHtcbiAgICAgIG1mYVBlbmRpbmdDcmVkZW50aWFsLFxuICAgICAgcGhvbmVWZXJpZmljYXRpb25JbmZvOiB0aGlzLmNyZWRlbnRpYWwuX21ha2VWZXJpZmljYXRpb25SZXF1ZXN0KClcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIGEge0BsaW5rIFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb259LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFBob25lTXVsdGlGYWN0b3JHZW5lcmF0b3Ige1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSB7QGxpbmsgUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbn0gdG8gY29uZmlybSBvd25lcnNoaXAgb2YgdGhlIHBob25lIHNlY29uZCBmYWN0b3IuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LlxuICAgKlxuICAgKiBAcGFyYW0gcGhvbmVBdXRoQ3JlZGVudGlhbCAtIEEgY3JlZGVudGlhbCBwcm92aWRlZCBieSB7QGxpbmsgUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbH0uXG4gICAqIEByZXR1cm5zIEEge0BsaW5rIFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb259IHdoaWNoIGNhbiBiZSB1c2VkIHdpdGhcbiAgICoge0BsaW5rIE11bHRpRmFjdG9yUmVzb2x2ZXIucmVzb2x2ZVNpZ25Jbn1cbiAgICovXG4gIHN0YXRpYyBhc3NlcnRpb24oY3JlZGVudGlhbDogUGhvbmVBdXRoQ3JlZGVudGlhbCk6IFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb24ge1xuICAgIHJldHVybiBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbC5fZnJvbUNyZWRlbnRpYWwoY3JlZGVudGlhbCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHBob25lIHNlY29uZCBmYWN0b3I6IGBwaG9uZWAuXG4gICAqL1xuICBzdGF0aWMgRkFDVE9SX0lEID0gJ3Bob25lJztcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtcbiAgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uLFxuICBNdWx0aUZhY3RvclNlc3Npb24sXG4gIEZhY3RvcklkXG59IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7XG4gIGZpbmFsaXplRW5yb2xsVG90cE1mYSxcbiAgc3RhcnRFbnJvbGxUb3RwTWZhLFxuICBTdGFydFRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2UsXG4gIFRvdHBWZXJpZmljYXRpb25JbmZvXG59IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvbWZhJztcbmltcG9ydCB7XG4gIEZpbmFsaXplTWZhUmVzcG9uc2UsXG4gIGZpbmFsaXplU2lnbkluVG90cE1mYVxufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbCB9IGZyb20gJy4uLy4uL21mYS9tZmFfYXNzZXJ0aW9uJztcbmltcG9ydCB7IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwgfSBmcm9tICcuLi9tZmFfc2Vzc2lvbic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIGEge0BsaW5rIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgVG90cE11bHRpRmFjdG9yR2VuZXJhdG9yIHtcbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEge0BsaW5rIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbn0gdG8gY29uZmlybSBvd25lcnNoaXAgb2ZcbiAgICogdGhlIFRPVFAgKHRpbWUtYmFzZWQgb25lLXRpbWUgcGFzc3dvcmQpIHNlY29uZCBmYWN0b3IuXG4gICAqIFRoaXMgYXNzZXJ0aW9uIGlzIHVzZWQgdG8gY29tcGxldGUgZW5yb2xsbWVudCBpbiBUT1RQIHNlY29uZCBmYWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSBzZWNyZXQgQSB7QGxpbmsgVG90cFNlY3JldH0gY29udGFpbmluZyB0aGUgc2hhcmVkIHNlY3JldCBrZXkgYW5kIG90aGVyIFRPVFAgcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIG9uZVRpbWVQYXNzd29yZCBPbmUtdGltZSBwYXNzd29yZCBmcm9tIFRPVFAgQXBwLlxuICAgKiBAcmV0dXJucyBBIHtAbGluayBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb259IHdoaWNoIGNhbiBiZSB1c2VkIHdpdGhcbiAgICoge0BsaW5rIE11bHRpRmFjdG9yVXNlci5lbnJvbGx9LlxuICAgKi9cbiAgc3RhdGljIGFzc2VydGlvbkZvckVucm9sbG1lbnQoXG4gICAgc2VjcmV0OiBUb3RwU2VjcmV0LFxuICAgIG9uZVRpbWVQYXNzd29yZDogc3RyaW5nXG4gICk6IFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbiB7XG4gICAgcmV0dXJuIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwuX2Zyb21TZWNyZXQoc2VjcmV0LCBvbmVUaW1lUGFzc3dvcmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEge0BsaW5rIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbn0gdG8gY29uZmlybSBvd25lcnNoaXAgb2YgdGhlIFRPVFAgc2Vjb25kIGZhY3Rvci5cbiAgICogVGhpcyBhc3NlcnRpb24gaXMgdXNlZCB0byBjb21wbGV0ZSBzaWduSW4gd2l0aCBUT1RQIGFzIHRoZSBzZWNvbmQgZmFjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0gZW5yb2xsbWVudElkIGlkZW50aWZpZXMgdGhlIGVucm9sbGVkIFRPVFAgc2Vjb25kIGZhY3Rvci5cbiAgICogQHBhcmFtIG9uZVRpbWVQYXNzd29yZCBPbmUtdGltZSBwYXNzd29yZCBmcm9tIFRPVFAgQXBwLlxuICAgKiBAcmV0dXJucyBBIHtAbGluayBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb259IHdoaWNoIGNhbiBiZSB1c2VkIHdpdGhcbiAgICoge0BsaW5rIE11bHRpRmFjdG9yUmVzb2x2ZXIucmVzb2x2ZVNpZ25Jbn0uXG4gICAqL1xuICBzdGF0aWMgYXNzZXJ0aW9uRm9yU2lnbkluKFxuICAgIGVucm9sbG1lbnRJZDogc3RyaW5nLFxuICAgIG9uZVRpbWVQYXNzd29yZDogc3RyaW5nXG4gICk6IFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbiB7XG4gICAgcmV0dXJuIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwuX2Zyb21FbnJvbGxtZW50SWQoXG4gICAgICBlbnJvbGxtZW50SWQsXG4gICAgICBvbmVUaW1lUGFzc3dvcmRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRvIHtAbGluayBUb3RwU2VjcmV0fSB3aGljaCBjb250YWlucyB0aGUgVE9UUCBzaGFyZWQgc2VjcmV0IGtleSBhbmQgb3RoZXIgcGFyYW1ldGVycy5cbiAgICogQ3JlYXRlcyBhIFRPVFAgc2VjcmV0IGFzIHBhcnQgb2YgZW5yb2xsaW5nIGEgVE9UUCBzZWNvbmQgZmFjdG9yLlxuICAgKiBVc2VkIGZvciBnZW5lcmF0aW5nIGEgUVIgY29kZSBVUkwgb3IgaW5wdXR0aW5nIGludG8gYSBUT1RQIGFwcC5cbiAgICogVGhpcyBtZXRob2QgdXNlcyB0aGUgYXV0aCBpbnN0YW5jZSBjb3JyZXNwb25kaW5nIHRvIHRoZSB1c2VyIGluIHRoZSBtdWx0aUZhY3RvclNlc3Npb24uXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uIFRoZSB7QGxpbmsgTXVsdGlGYWN0b3JTZXNzaW9ufSB0aGF0IHRoZSB1c2VyIGlzIHBhcnQgb2YuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0byB7QGxpbmsgVG90cFNlY3JldH0uXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVTZWNyZXQoXG4gICAgc2Vzc2lvbjogTXVsdGlGYWN0b3JTZXNzaW9uXG4gICk6IFByb21pc2U8VG90cFNlY3JldD4ge1xuICAgIGNvbnN0IG1mYVNlc3Npb24gPSBzZXNzaW9uIGFzIE11bHRpRmFjdG9yU2Vzc2lvbkltcGw7XG4gICAgX2Fzc2VydChcbiAgICAgIHR5cGVvZiBtZmFTZXNzaW9uLnVzZXI/LmF1dGggIT09ICd1bmRlZmluZWQnLFxuICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgICk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdGFydEVucm9sbFRvdHBNZmEobWZhU2Vzc2lvbi51c2VyLmF1dGgsIHtcbiAgICAgIGlkVG9rZW46IG1mYVNlc3Npb24uY3JlZGVudGlhbCxcbiAgICAgIHRvdHBFbnJvbGxtZW50SW5mbzoge31cbiAgICB9KTtcbiAgICByZXR1cm4gVG90cFNlY3JldC5fZnJvbVN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXNwb25zZShcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgbWZhU2Vzc2lvbi51c2VyLmF1dGhcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBUT1RQIHNlY29uZCBmYWN0b3I6IGB0b3RwYC5cbiAgICovXG4gIHN0YXRpYyBGQUNUT1JfSUQ6ICd0b3RwJyA9IEZhY3RvcklkLlRPVFA7XG59XG5cbmV4cG9ydCBjbGFzcyBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsXG4gIGV4dGVuZHMgTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsXG4gIGltcGxlbWVudHMgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uXG57XG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IG90cDogc3RyaW5nLFxuICAgIHJlYWRvbmx5IGVucm9sbG1lbnRJZD86IHN0cmluZyxcbiAgICByZWFkb25seSBzZWNyZXQ/OiBUb3RwU2VjcmV0XG4gICkge1xuICAgIHN1cGVyKEZhY3RvcklkLlRPVFApO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21TZWNyZXQoXG4gICAgc2VjcmV0OiBUb3RwU2VjcmV0LFxuICAgIG90cDogc3RyaW5nXG4gICk6IFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwge1xuICAgIHJldHVybiBuZXcgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbChvdHAsIHVuZGVmaW5lZCwgc2VjcmV0KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tRW5yb2xsbWVudElkKFxuICAgIGVucm9sbG1lbnRJZDogc3RyaW5nLFxuICAgIG90cDogc3RyaW5nXG4gICk6IFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwge1xuICAgIHJldHVybiBuZXcgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbChvdHAsIGVucm9sbG1lbnRJZCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIGFzeW5jIF9maW5hbGl6ZUVucm9sbChcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgaWRUb2tlbjogc3RyaW5nLFxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPEZpbmFsaXplTWZhUmVzcG9uc2U+IHtcbiAgICBfYXNzZXJ0KFxuICAgICAgdHlwZW9mIHRoaXMuc2VjcmV0ICE9PSAndW5kZWZpbmVkJyxcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICAgKTtcbiAgICByZXR1cm4gZmluYWxpemVFbnJvbGxUb3RwTWZhKGF1dGgsIHtcbiAgICAgIGlkVG9rZW4sXG4gICAgICBkaXNwbGF5TmFtZSxcbiAgICAgIHRvdHBWZXJpZmljYXRpb25JbmZvOiB0aGlzLnNlY3JldC5fbWFrZVRvdHBWZXJpZmljYXRpb25JbmZvKHRoaXMub3RwKVxuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc3luYyBfZmluYWxpemVTaWduSW4oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIG1mYVBlbmRpbmdDcmVkZW50aWFsOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxGaW5hbGl6ZU1mYVJlc3BvbnNlPiB7XG4gICAgX2Fzc2VydChcbiAgICAgIHRoaXMuZW5yb2xsbWVudElkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vdHAgIT09IHVuZGVmaW5lZCxcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICAgKTtcbiAgICBjb25zdCB0b3RwVmVyaWZpY2F0aW9uSW5mbyA9IHsgdmVyaWZpY2F0aW9uQ29kZTogdGhpcy5vdHAgfTtcbiAgICByZXR1cm4gZmluYWxpemVTaWduSW5Ub3RwTWZhKGF1dGgsIHtcbiAgICAgIG1mYVBlbmRpbmdDcmVkZW50aWFsLFxuICAgICAgbWZhRW5yb2xsbWVudElkOiB0aGlzLmVucm9sbG1lbnRJZCxcbiAgICAgIHRvdHBWZXJpZmljYXRpb25JbmZvXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyBhIHtAbGluayBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb259LlxuICpcbiAqIFN0b3JlcyB0aGUgc2hhcmVkIHNlY3JldCBrZXkgYW5kIG90aGVyIHBhcmFtZXRlcnMgdG8gZ2VuZXJhdGUgdGltZS1iYXNlZCBPVFBzLlxuICogSW1wbGVtZW50cyBtZXRob2RzIHRvIHJldHJpZXZlIHRoZSBzaGFyZWQgc2VjcmV0IGtleSBhbmQgZ2VuZXJhdGUgYSBRUiBjb2RlIFVSTC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFRvdHBTZWNyZXQge1xuICAvKipcbiAgICogU2hhcmVkIHNlY3JldCBrZXkvc2VlZCB1c2VkIGZvciBlbnJvbGxpbmcgaW4gVE9UUCBNRkEgYW5kIGdlbmVyYXRpbmcgT1RQcy5cbiAgICovXG4gIHJlYWRvbmx5IHNlY3JldEtleTogc3RyaW5nO1xuICAvKipcbiAgICogSGFzaGluZyBhbGdvcml0aG0gdXNlZC5cbiAgICovXG4gIHJlYWRvbmx5IGhhc2hpbmdBbGdvcml0aG06IHN0cmluZztcbiAgLyoqXG4gICAqIExlbmd0aCBvZiB0aGUgb25lLXRpbWUgcGFzc3dvcmRzIHRvIGJlIGdlbmVyYXRlZC5cbiAgICovXG4gIHJlYWRvbmx5IGNvZGVMZW5ndGg6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBpbnRlcnZhbCAoaW4gc2Vjb25kcykgd2hlbiB0aGUgT1RQIGNvZGVzIHNob3VsZCBjaGFuZ2UuXG4gICAqL1xuICByZWFkb25seSBjb2RlSW50ZXJ2YWxTZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgdGltZXN0YW1wIChVVEMgc3RyaW5nKSBieSB3aGljaCBUT1RQIGVucm9sbG1lbnQgc2hvdWxkIGJlIGNvbXBsZXRlZC5cbiAgICovXG4gIC8vIFRoaXMgY2FuIGJlIHVzZWQgYnkgY2FsbGVycyB0byBzaG93IGEgY291bnRkb3duIG9mIHdoZW4gdG8gZW50ZXIgT1RQIGNvZGUgYnkuXG4gIHJlYWRvbmx5IGVucm9sbG1lbnRDb21wbGV0aW9uRGVhZGxpbmU6IHN0cmluZztcblxuICAvLyBUaGUgcHVibGljIG1lbWJlcnMgYXJlIGRlY2xhcmVkIG91dHNpZGUgdGhlIGNvbnN0cnVjdG9yIHNvIHRoZSBkb2NzIGNhbiBiZSBnZW5lcmF0ZWQuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgc2VjcmV0S2V5OiBzdHJpbmcsXG4gICAgaGFzaGluZ0FsZ29yaXRobTogc3RyaW5nLFxuICAgIGNvZGVMZW5ndGg6IG51bWJlcixcbiAgICBjb2RlSW50ZXJ2YWxTZWNvbmRzOiBudW1iZXIsXG4gICAgZW5yb2xsbWVudENvbXBsZXRpb25EZWFkbGluZTogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2Vzc2lvbkluZm86IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbFxuICApIHtcbiAgICB0aGlzLnNlY3JldEtleSA9IHNlY3JldEtleTtcbiAgICB0aGlzLmhhc2hpbmdBbGdvcml0aG0gPSBoYXNoaW5nQWxnb3JpdGhtO1xuICAgIHRoaXMuY29kZUxlbmd0aCA9IGNvZGVMZW5ndGg7XG4gICAgdGhpcy5jb2RlSW50ZXJ2YWxTZWNvbmRzID0gY29kZUludGVydmFsU2Vjb25kcztcbiAgICB0aGlzLmVucm9sbG1lbnRDb21wbGV0aW9uRGVhZGxpbmUgPSBlbnJvbGxtZW50Q29tcGxldGlvbkRlYWRsaW5lO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21TdGFydFRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2UoXG4gICAgcmVzcG9uc2U6IFN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXNwb25zZSxcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWxcbiAgKTogVG90cFNlY3JldCB7XG4gICAgcmV0dXJuIG5ldyBUb3RwU2VjcmV0KFxuICAgICAgcmVzcG9uc2UudG90cFNlc3Npb25JbmZvLnNoYXJlZFNlY3JldEtleSxcbiAgICAgIHJlc3BvbnNlLnRvdHBTZXNzaW9uSW5mby5oYXNoaW5nQWxnb3JpdGhtLFxuICAgICAgcmVzcG9uc2UudG90cFNlc3Npb25JbmZvLnZlcmlmaWNhdGlvbkNvZGVMZW5ndGgsXG4gICAgICByZXNwb25zZS50b3RwU2Vzc2lvbkluZm8ucGVyaW9kU2VjLFxuICAgICAgbmV3IERhdGUocmVzcG9uc2UudG90cFNlc3Npb25JbmZvLmZpbmFsaXplRW5yb2xsbWVudFRpbWUpLnRvVVRDU3RyaW5nKCksXG4gICAgICByZXNwb25zZS50b3RwU2Vzc2lvbkluZm8uc2Vzc2lvbkluZm8sXG4gICAgICBhdXRoXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX21ha2VUb3RwVmVyaWZpY2F0aW9uSW5mbyhvdHA6IHN0cmluZyk6IFRvdHBWZXJpZmljYXRpb25JbmZvIHtcbiAgICByZXR1cm4geyBzZXNzaW9uSW5mbzogdGhpcy5zZXNzaW9uSW5mbywgdmVyaWZpY2F0aW9uQ29kZTogb3RwIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIFFSIGNvZGUgVVJMIGFzIGRlc2NyaWJlZCBpblxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2dvb2dsZS1hdXRoZW50aWNhdG9yL3dpa2kvS2V5LVVyaS1Gb3JtYXRcbiAgICogVGhpcyBjYW4gYmUgZGlzcGxheWVkIHRvIHRoZSB1c2VyIGFzIGEgUVIgY29kZSB0byBiZSBzY2FubmVkIGludG8gYSBUT1RQIGFwcCBsaWtlIEdvb2dsZSBBdXRoZW50aWNhdG9yLlxuICAgKiBJZiB0aGUgb3B0aW9uYWwgcGFyYW1ldGVycyBhcmUgdW5zcGVjaWZpZWQsIGFuIGFjY291bnROYW1lIG9mIDx1c2VyRW1haWw+IGFuZCBpc3N1ZXIgb2YgPGZpcmViYXNlQXBwTmFtZT4gYXJlIHVzZWQuXG4gICAqXG4gICAqIEBwYXJhbSBhY2NvdW50TmFtZSB0aGUgbmFtZSBvZiB0aGUgYWNjb3VudC9hcHAgYWxvbmcgd2l0aCBhIHVzZXIgaWRlbnRpZmllci5cbiAgICogQHBhcmFtIGlzc3VlciBpc3N1ZXIgb2YgdGhlIFRPVFAgKGxpa2VseSB0aGUgYXBwIG5hbWUpLlxuICAgKiBAcmV0dXJucyBBIFFSIGNvZGUgVVJMIHN0cmluZy5cbiAgICovXG4gIGdlbmVyYXRlUXJDb2RlVXJsKGFjY291bnROYW1lPzogc3RyaW5nLCBpc3N1ZXI/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCB1c2VEZWZhdWx0cyA9IGZhbHNlO1xuICAgIGlmIChfaXNFbXB0eVN0cmluZyhhY2NvdW50TmFtZSkgfHwgX2lzRW1wdHlTdHJpbmcoaXNzdWVyKSkge1xuICAgICAgdXNlRGVmYXVsdHMgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodXNlRGVmYXVsdHMpIHtcbiAgICAgIGlmIChfaXNFbXB0eVN0cmluZyhhY2NvdW50TmFtZSkpIHtcbiAgICAgICAgYWNjb3VudE5hbWUgPSB0aGlzLmF1dGguY3VycmVudFVzZXI/LmVtYWlsIHx8ICd1bmtub3dudXNlcic7XG4gICAgICB9XG4gICAgICBpZiAoX2lzRW1wdHlTdHJpbmcoaXNzdWVyKSkge1xuICAgICAgICBpc3N1ZXIgPSB0aGlzLmF1dGgubmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGBvdHBhdXRoOi8vdG90cC8ke2lzc3Vlcn06JHthY2NvdW50TmFtZX0/c2VjcmV0PSR7dGhpcy5zZWNyZXRLZXl9Jmlzc3Vlcj0ke2lzc3Vlcn0mYWxnb3JpdGhtPSR7dGhpcy5oYXNoaW5nQWxnb3JpdGhtfSZkaWdpdHM9JHt0aGlzLmNvZGVMZW5ndGh9YDtcbiAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBfaXNFbXB0eVN0cmluZyhpbnB1dD86IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJyB8fCBpbnB1dD8ubGVuZ3RoID09PSAwO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVuc3Vic2NyaWJlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgRmlyZWJhc2VBdXRoSW50ZXJuYWwgfSBmcm9tICdAZmlyZWJhc2UvYXV0aC1pbnRlcm9wLXR5cGVzJztcblxuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcblxuaW50ZXJmYWNlIFRva2VuTGlzdGVuZXIge1xuICAodG9rOiBzdHJpbmcgfCBudWxsKTogdW5rbm93bjtcbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhJbnRlcm9wIGltcGxlbWVudHMgRmlyZWJhc2VBdXRoSW50ZXJuYWwge1xuICBwcml2YXRlIHJlYWRvbmx5IGludGVybmFsTGlzdGVuZXJzOiBNYXA8VG9rZW5MaXN0ZW5lciwgVW5zdWJzY3JpYmU+ID1cbiAgICBuZXcgTWFwKCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWwpIHt9XG5cbiAgZ2V0VWlkKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHRoaXMuYXNzZXJ0QXV0aENvbmZpZ3VyZWQoKTtcbiAgICByZXR1cm4gdGhpcy5hdXRoLmN1cnJlbnRVc2VyPy51aWQgfHwgbnVsbDtcbiAgfVxuXG4gIGFzeW5jIGdldFRva2VuKFxuICAgIGZvcmNlUmVmcmVzaD86IGJvb2xlYW5cbiAgKTogUHJvbWlzZTx7IGFjY2Vzc1Rva2VuOiBzdHJpbmcgfSB8IG51bGw+IHtcbiAgICB0aGlzLmFzc2VydEF1dGhDb25maWd1cmVkKCk7XG4gICAgYXdhaXQgdGhpcy5hdXRoLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gICAgaWYgKCF0aGlzLmF1dGguY3VycmVudFVzZXIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXdhaXQgdGhpcy5hdXRoLmN1cnJlbnRVc2VyLmdldElkVG9rZW4oZm9yY2VSZWZyZXNoKTtcbiAgICByZXR1cm4geyBhY2Nlc3NUb2tlbiB9O1xuICB9XG5cbiAgYWRkQXV0aFRva2VuTGlzdGVuZXIobGlzdGVuZXI6IFRva2VuTGlzdGVuZXIpOiB2b2lkIHtcbiAgICB0aGlzLmFzc2VydEF1dGhDb25maWd1cmVkKCk7XG4gICAgaWYgKHRoaXMuaW50ZXJuYWxMaXN0ZW5lcnMuaGFzKGxpc3RlbmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gdGhpcy5hdXRoLm9uSWRUb2tlbkNoYW5nZWQodXNlciA9PiB7XG4gICAgICBsaXN0ZW5lcihcbiAgICAgICAgKHVzZXIgYXMgVXNlckludGVybmFsIHwgbnVsbCk/LnN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlbiB8fCBudWxsXG4gICAgICApO1xuICAgIH0pO1xuICAgIHRoaXMuaW50ZXJuYWxMaXN0ZW5lcnMuc2V0KGxpc3RlbmVyLCB1bnN1YnNjcmliZSk7XG4gICAgdGhpcy51cGRhdGVQcm9hY3RpdmVSZWZyZXNoKCk7XG4gIH1cblxuICByZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcihsaXN0ZW5lcjogVG9rZW5MaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuYXNzZXJ0QXV0aENvbmZpZ3VyZWQoKTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuaW50ZXJuYWxMaXN0ZW5lcnMuZ2V0KGxpc3RlbmVyKTtcbiAgICBpZiAoIXVuc3Vic2NyaWJlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcm5hbExpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgdGhpcy51cGRhdGVQcm9hY3RpdmVSZWZyZXNoKCk7XG4gIH1cblxuICBwcml2YXRlIGFzc2VydEF1dGhDb25maWd1cmVkKCk6IHZvaWQge1xuICAgIF9hc3NlcnQoXG4gICAgICB0aGlzLmF1dGguX2luaXRpYWxpemF0aW9uUHJvbWlzZSxcbiAgICAgIEF1dGhFcnJvckNvZGUuREVQRU5ERU5UX1NES19JTklUX0JFRk9SRV9BVVRIXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlUHJvYWN0aXZlUmVmcmVzaCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pbnRlcm5hbExpc3RlbmVycy5zaXplID4gMCkge1xuICAgICAgdGhpcy5hdXRoLl9zdGFydFByb2FjdGl2ZVJlZnJlc2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hdXRoLl9zdG9wUHJvYWN0aXZlUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IF9yZWdpc3RlckNvbXBvbmVudCwgcmVnaXN0ZXJWZXJzaW9uIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQge1xuICBDb21wb25lbnQsXG4gIENvbXBvbmVudFR5cGUsXG4gIEluc3RhbnRpYXRpb25Nb2RlXG59IGZyb20gJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuXG5pbXBvcnQgeyBuYW1lLCB2ZXJzaW9uIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZS5qc29uJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9nZXRDbGllbnRWZXJzaW9uLCBDbGllbnRQbGF0Zm9ybSB9IGZyb20gJy4uL3V0aWwvdmVyc2lvbic7XG5pbXBvcnQgeyBfY2FzdEF1dGgsIEF1dGhJbXBsLCBEZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgQXV0aEludGVyb3AgfSBmcm9tICcuL2ZpcmViYXNlX2ludGVybmFsJztcbmltcG9ydCB7IENvbmZpZ0ludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBEZXBlbmRlbmNpZXMgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgX2luaXRpYWxpemVBdXRoSW5zdGFuY2UgfSBmcm9tICcuL2luaXRpYWxpemUnO1xuXG5leHBvcnQgY29uc3QgZW51bSBfQ29tcG9uZW50TmFtZSB7XG4gIEFVVEggPSAnYXV0aCcsXG4gIEFVVEhfSU5URVJOQUwgPSAnYXV0aC1pbnRlcm5hbCdcbn1cblxuZnVuY3Rpb24gZ2V0VmVyc2lvbkZvclBsYXRmb3JtKFxuICBjbGllbnRQbGF0Zm9ybTogQ2xpZW50UGxhdGZvcm1cbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIHN3aXRjaCAoY2xpZW50UGxhdGZvcm0pIHtcbiAgICBjYXNlIENsaWVudFBsYXRmb3JtLk5PREU6XG4gICAgICByZXR1cm4gJ25vZGUnO1xuICAgIGNhc2UgQ2xpZW50UGxhdGZvcm0uUkVBQ1RfTkFUSVZFOlxuICAgICAgcmV0dXJuICdybic7XG4gICAgY2FzZSBDbGllbnRQbGF0Zm9ybS5XT1JLRVI6XG4gICAgICByZXR1cm4gJ3dlYndvcmtlcic7XG4gICAgY2FzZSBDbGllbnRQbGF0Zm9ybS5DT1JET1ZBOlxuICAgICAgcmV0dXJuICdjb3Jkb3ZhJztcbiAgICBjYXNlIENsaWVudFBsYXRmb3JtLldFQl9FWFRFTlNJT046XG4gICAgICByZXR1cm4gJ3dlYi1leHRlbnNpb24nO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckF1dGgoY2xpZW50UGxhdGZvcm06IENsaWVudFBsYXRmb3JtKTogdm9pZCB7XG4gIF9yZWdpc3RlckNvbXBvbmVudChcbiAgICBuZXcgQ29tcG9uZW50KFxuICAgICAgX0NvbXBvbmVudE5hbWUuQVVUSCxcbiAgICAgIChjb250YWluZXIsIHsgb3B0aW9uczogZGVwcyB9OiB7IG9wdGlvbnM/OiBEZXBlbmRlbmNpZXMgfSkgPT4ge1xuICAgICAgICBjb25zdCBhcHAgPSBjb250YWluZXIuZ2V0UHJvdmlkZXIoJ2FwcCcpLmdldEltbWVkaWF0ZSgpITtcbiAgICAgICAgY29uc3QgaGVhcnRiZWF0U2VydmljZVByb3ZpZGVyID1cbiAgICAgICAgICBjb250YWluZXIuZ2V0UHJvdmlkZXI8J2hlYXJ0YmVhdCc+KCdoZWFydGJlYXQnKTtcbiAgICAgICAgY29uc3QgYXBwQ2hlY2tTZXJ2aWNlUHJvdmlkZXIgPVxuICAgICAgICAgIGNvbnRhaW5lci5nZXRQcm92aWRlcjwnYXBwLWNoZWNrLWludGVybmFsJz4oJ2FwcC1jaGVjay1pbnRlcm5hbCcpO1xuICAgICAgICBjb25zdCB7IGFwaUtleSwgYXV0aERvbWFpbiB9ID0gYXBwLm9wdGlvbnM7XG5cbiAgICAgICAgX2Fzc2VydChcbiAgICAgICAgICBhcGlLZXkgJiYgIWFwaUtleS5pbmNsdWRlcygnOicpLFxuICAgICAgICAgIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9BUElfS0VZLFxuICAgICAgICAgIHsgYXBwTmFtZTogYXBwLm5hbWUgfVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGNvbmZpZzogQ29uZmlnSW50ZXJuYWwgPSB7XG4gICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgIGF1dGhEb21haW4sXG4gICAgICAgICAgY2xpZW50UGxhdGZvcm0sXG4gICAgICAgICAgYXBpSG9zdDogRGVmYXVsdENvbmZpZy5BUElfSE9TVCxcbiAgICAgICAgICB0b2tlbkFwaUhvc3Q6IERlZmF1bHRDb25maWcuVE9LRU5fQVBJX0hPU1QsXG4gICAgICAgICAgYXBpU2NoZW1lOiBEZWZhdWx0Q29uZmlnLkFQSV9TQ0hFTUUsXG4gICAgICAgICAgc2RrQ2xpZW50VmVyc2lvbjogX2dldENsaWVudFZlcnNpb24oY2xpZW50UGxhdGZvcm0pXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYXV0aEluc3RhbmNlID0gbmV3IEF1dGhJbXBsKFxuICAgICAgICAgIGFwcCxcbiAgICAgICAgICBoZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXIsXG4gICAgICAgICAgYXBwQ2hlY2tTZXJ2aWNlUHJvdmlkZXIsXG4gICAgICAgICAgY29uZmlnXG4gICAgICAgICk7XG4gICAgICAgIF9pbml0aWFsaXplQXV0aEluc3RhbmNlKGF1dGhJbnN0YW5jZSwgZGVwcyk7XG5cbiAgICAgICAgcmV0dXJuIGF1dGhJbnN0YW5jZTtcbiAgICAgIH0sXG4gICAgICBDb21wb25lbnRUeXBlLlBVQkxJQ1xuICAgIClcbiAgICAgIC8qKlxuICAgICAgICogQXV0aCBjYW4gb25seSBiZSBpbml0aWFsaXplZCBieSBleHBsaWNpdGx5IGNhbGxpbmcgZ2V0QXV0aCgpIG9yIGluaXRpYWxpemVBdXRoKClcbiAgICAgICAqIEZvciB3aHkgd2UgZG8gdGhpcywgU2VlIGdvL2ZpcmViYXNlLW5leHQtYXV0aC1pbml0XG4gICAgICAgKi9cbiAgICAgIC5zZXRJbnN0YW50aWF0aW9uTW9kZShJbnN0YW50aWF0aW9uTW9kZS5FWFBMSUNJVClcbiAgICAgIC8qKlxuICAgICAgICogQmVjYXVzZSBhbGwgZmlyZWJhc2UgcHJvZHVjdHMgdGhhdCBkZXBlbmQgb24gYXV0aCBkZXBlbmQgb24gYXV0aC1pbnRlcm5hbCBkaXJlY3RseSxcbiAgICAgICAqIHdlIG5lZWQgdG8gaW5pdGlhbGl6ZSBhdXRoLWludGVybmFsIGFmdGVyIGF1dGggaXMgaW5pdGlhbGl6ZWQgdG8gbWFrZSBpdCBhdmFpbGFibGUgdG8gb3RoZXIgZmlyZWJhc2UgcHJvZHVjdHMuXG4gICAgICAgKi9cbiAgICAgIC5zZXRJbnN0YW5jZUNyZWF0ZWRDYWxsYmFjayhcbiAgICAgICAgKGNvbnRhaW5lciwgX2luc3RhbmNlSWRlbnRpZmllciwgX2luc3RhbmNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgYXV0aEludGVybmFsUHJvdmlkZXIgPSBjb250YWluZXIuZ2V0UHJvdmlkZXIoXG4gICAgICAgICAgICBfQ29tcG9uZW50TmFtZS5BVVRIX0lOVEVSTkFMXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhdXRoSW50ZXJuYWxQcm92aWRlci5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgKTtcblxuICBfcmVnaXN0ZXJDb21wb25lbnQoXG4gICAgbmV3IENvbXBvbmVudChcbiAgICAgIF9Db21wb25lbnROYW1lLkFVVEhfSU5URVJOQUwsXG4gICAgICBjb250YWluZXIgPT4ge1xuICAgICAgICBjb25zdCBhdXRoID0gX2Nhc3RBdXRoKFxuICAgICAgICAgIGNvbnRhaW5lci5nZXRQcm92aWRlcihfQ29tcG9uZW50TmFtZS5BVVRIKS5nZXRJbW1lZGlhdGUoKSFcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIChhdXRoID0+IG5ldyBBdXRoSW50ZXJvcChhdXRoKSkoYXV0aCk7XG4gICAgICB9LFxuICAgICAgQ29tcG9uZW50VHlwZS5QUklWQVRFXG4gICAgKS5zZXRJbnN0YW50aWF0aW9uTW9kZShJbnN0YW50aWF0aW9uTW9kZS5FWFBMSUNJVClcbiAgKTtcblxuICByZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgZ2V0VmVyc2lvbkZvclBsYXRmb3JtKGNsaWVudFBsYXRmb3JtKSk7XG4gIC8vIEJVSUxEX1RBUkdFVCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHZhbHVlcyBsaWtlIGVzbTUsIGVzbTIwMTcsIGNqczUsIGV0YyBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uXG4gIHJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCAnX19CVUlMRF9UQVJHRVRfXycpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpcmViYXNlQXBwLCBnZXRBcHAsIF9nZXRQcm92aWRlciB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG5pbXBvcnQge1xuICBpbml0aWFsaXplQXV0aCxcbiAgYmVmb3JlQXV0aFN0YXRlQ2hhbmdlZCxcbiAgb25JZFRva2VuQ2hhbmdlZCxcbiAgY29ubmVjdEF1dGhFbXVsYXRvclxufSBmcm9tICcuLic7XG5pbXBvcnQgeyByZWdpc3RlckF1dGggfSBmcm9tICcuLi9jb3JlL2F1dGgvcmVnaXN0ZXInO1xuaW1wb3J0IHsgQ2xpZW50UGxhdGZvcm0gfSBmcm9tICcuLi9jb3JlL3V0aWwvdmVyc2lvbic7XG5pbXBvcnQgeyBicm93c2VyTG9jYWxQZXJzaXN0ZW5jZSB9IGZyb20gJy4vcGVyc2lzdGVuY2UvbG9jYWxfc3RvcmFnZSc7XG5pbXBvcnQgeyBicm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlIH0gZnJvbSAnLi9wZXJzaXN0ZW5jZS9zZXNzaW9uX3N0b3JhZ2UnO1xuaW1wb3J0IHsgaW5kZXhlZERCTG9jYWxQZXJzaXN0ZW5jZSB9IGZyb20gJy4vcGVyc2lzdGVuY2UvaW5kZXhlZF9kYic7XG5pbXBvcnQgeyBicm93c2VyUG9wdXBSZWRpcmVjdFJlc29sdmVyIH0gZnJvbSAnLi9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBBdXRoLCBVc2VyIH0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IGdldERlZmF1bHRFbXVsYXRvckhvc3QsIGdldEV4cGVyaW1lbnRhbFNldHRpbmcgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBfc2V0RXh0ZXJuYWxKU1Byb3ZpZGVyIH0gZnJvbSAnLi9sb2FkX2pzJztcbmltcG9ydCB7IF9jcmVhdGVFcnJvciB9IGZyb20gJy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvZXJyb3JzJztcblxuY29uc3QgREVGQVVMVF9JRF9UT0tFTl9NQVhfQUdFID0gNSAqIDYwO1xuY29uc3QgYXV0aElkVG9rZW5NYXhBZ2UgPVxuICBnZXRFeHBlcmltZW50YWxTZXR0aW5nKCdhdXRoSWRUb2tlbk1heEFnZScpIHx8IERFRkFVTFRfSURfVE9LRU5fTUFYX0FHRTtcblxubGV0IGxhc3RQb3N0ZWRJZFRva2VuOiBzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsID0gbnVsbDtcblxuY29uc3QgbWludENvb2tpZUZhY3RvcnkgPSAodXJsOiBzdHJpbmcpID0+IGFzeW5jICh1c2VyOiBVc2VyIHwgbnVsbCkgPT4ge1xuICBjb25zdCBpZFRva2VuUmVzdWx0ID0gdXNlciAmJiAoYXdhaXQgdXNlci5nZXRJZFRva2VuUmVzdWx0KCkpO1xuICBjb25zdCBpZFRva2VuQWdlID1cbiAgICBpZFRva2VuUmVzdWx0ICYmXG4gICAgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gRGF0ZS5wYXJzZShpZFRva2VuUmVzdWx0Lmlzc3VlZEF0VGltZSkpIC8gMV8wMDA7XG4gIGlmIChpZFRva2VuQWdlICYmIGlkVG9rZW5BZ2UgPiBhdXRoSWRUb2tlbk1heEFnZSkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBTcGVjaWZpY2FsbHkgdHJpcCBudWxsID0+IHVuZGVmaW5lZCB3aGVuIGxvZ2dlZCBvdXQsIHRvIGRlbGV0ZSBhbnkgZXhpc3RpbmcgY29va2llXG4gIGNvbnN0IGlkVG9rZW4gPSBpZFRva2VuUmVzdWx0Py50b2tlbjtcbiAgaWYgKGxhc3RQb3N0ZWRJZFRva2VuID09PSBpZFRva2VuKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxhc3RQb3N0ZWRJZFRva2VuID0gaWRUb2tlbjtcbiAgYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgbWV0aG9kOiBpZFRva2VuID8gJ1BPU1QnIDogJ0RFTEVURScsXG4gICAgaGVhZGVyczogaWRUb2tlblxuICAgICAgPyB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7aWRUb2tlbn1gXG4gICAgICAgIH1cbiAgICAgIDoge31cbiAgfSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIEF1dGggaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm92aWRlZCB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZUFwcH0uXG4gKiBJZiBubyBpbnN0YW5jZSBleGlzdHMsIGluaXRpYWxpemVzIGFuIEF1dGggaW5zdGFuY2Ugd2l0aCBwbGF0Zm9ybS1zcGVjaWZpYyBkZWZhdWx0IGRlcGVuZGVuY2llcy5cbiAqXG4gKiBAcGFyYW0gYXBwIC0gVGhlIEZpcmViYXNlIEFwcC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBdXRoKGFwcDogRmlyZWJhc2VBcHAgPSBnZXRBcHAoKSk6IEF1dGgge1xuICBjb25zdCBwcm92aWRlciA9IF9nZXRQcm92aWRlcihhcHAsICdhdXRoJyk7XG5cbiAgaWYgKHByb3ZpZGVyLmlzSW5pdGlhbGl6ZWQoKSkge1xuICAgIHJldHVybiBwcm92aWRlci5nZXRJbW1lZGlhdGUoKTtcbiAgfVxuXG4gIGNvbnN0IGF1dGggPSBpbml0aWFsaXplQXV0aChhcHAsIHtcbiAgICBwb3B1cFJlZGlyZWN0UmVzb2x2ZXI6IGJyb3dzZXJQb3B1cFJlZGlyZWN0UmVzb2x2ZXIsXG4gICAgcGVyc2lzdGVuY2U6IFtcbiAgICAgIGluZGV4ZWREQkxvY2FsUGVyc2lzdGVuY2UsXG4gICAgICBicm93c2VyTG9jYWxQZXJzaXN0ZW5jZSxcbiAgICAgIGJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2VcbiAgICBdXG4gIH0pO1xuXG4gIGNvbnN0IGF1dGhUb2tlblN5bmNQYXRoID0gZ2V0RXhwZXJpbWVudGFsU2V0dGluZygnYXV0aFRva2VuU3luY1VSTCcpO1xuICAvLyBPbmx5IGRvIHRoZSBDb29raWUgZXhjaGFuZ2UgaW4gYSBzZWN1cmUgY29udGV4dFxuICBpZiAoXG4gICAgYXV0aFRva2VuU3luY1BhdGggJiZcbiAgICB0eXBlb2YgaXNTZWN1cmVDb250ZXh0ID09PSAnYm9vbGVhbicgJiZcbiAgICBpc1NlY3VyZUNvbnRleHRcbiAgKSB7XG4gICAgLy8gRG9uJ3QgYWxsb3cgdXJscyAoWFNTIHBvc3NpYmlsaXR5KSwgb25seSBwYXRocyBvbiB0aGUgc2FtZSBkb21haW5cbiAgICBjb25zdCBhdXRoVG9rZW5TeW5jVXJsID0gbmV3IFVSTChhdXRoVG9rZW5TeW5jUGF0aCwgbG9jYXRpb24ub3JpZ2luKTtcbiAgICBpZiAobG9jYXRpb24ub3JpZ2luID09PSBhdXRoVG9rZW5TeW5jVXJsLm9yaWdpbikge1xuICAgICAgY29uc3QgbWludENvb2tpZSA9IG1pbnRDb29raWVGYWN0b3J5KGF1dGhUb2tlblN5bmNVcmwudG9TdHJpbmcoKSk7XG4gICAgICBiZWZvcmVBdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIG1pbnRDb29raWUsICgpID0+XG4gICAgICAgIG1pbnRDb29raWUoYXV0aC5jdXJyZW50VXNlcilcbiAgICAgICk7XG4gICAgICBvbklkVG9rZW5DaGFuZ2VkKGF1dGgsIHVzZXIgPT4gbWludENvb2tpZSh1c2VyKSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYXV0aEVtdWxhdG9ySG9zdCA9IGdldERlZmF1bHRFbXVsYXRvckhvc3QoJ2F1dGgnKTtcbiAgaWYgKGF1dGhFbXVsYXRvckhvc3QpIHtcbiAgICBjb25uZWN0QXV0aEVtdWxhdG9yKGF1dGgsIGBodHRwOi8vJHthdXRoRW11bGF0b3JIb3N0fWApO1xuICB9XG5cbiAgcmV0dXJuIGF1dGg7XG59XG5cbmZ1bmN0aW9uIGdldFNjcmlwdFBhcmVudEVsZW1lbnQoKTogSFRNTERvY3VtZW50IHwgSFRNTEhlYWRFbGVtZW50IHtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJyk/LlswXSA/PyBkb2N1bWVudDtcbn1cblxuX3NldEV4dGVybmFsSlNQcm92aWRlcih7XG4gIGxvYWRKUyh1cmw6IHN0cmluZyk6IFByb21pc2U8RXZlbnQ+IHtcbiAgICAvLyBUT0RPOiBjb25zaWRlciBhZGRpbmcgdGltZW91dCBzdXBwb3J0ICYgY2FuY2VsbGF0aW9uXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybCk7XG4gICAgICBlbC5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgZWwub25lcnJvciA9IGUgPT4ge1xuICAgICAgICBjb25zdCBlcnJvciA9IF9jcmVhdGVFcnJvcihBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICAgICAgZXJyb3IuY3VzdG9tRGF0YSA9IGUgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH07XG4gICAgICBlbC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICBlbC5jaGFyc2V0ID0gJ1VURi04JztcbiAgICAgIGdldFNjcmlwdFBhcmVudEVsZW1lbnQoKS5hcHBlbmRDaGlsZChlbCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgZ2FwaVNjcmlwdDogJ2h0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2FwaS5qcycsXG4gIHJlY2FwdGNoYVYyU2NyaXB0OiAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzJyxcbiAgcmVjYXB0Y2hhRW50ZXJwcmlzZVNjcmlwdDpcbiAgICAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvZW50ZXJwcmlzZS5qcz9yZW5kZXI9J1xufSk7XG5cbnJlZ2lzdGVyQXV0aChDbGllbnRQbGF0Zm9ybS5CUk9XU0VSKTtcbiIsICJleHBvcnQgeyBBIGFzIEFjdGlvbkNvZGVPcGVyYXRpb24sIGFpIGFzIEFjdGlvbkNvZGVVUkwsIEwgYXMgQXV0aENyZWRlbnRpYWwsIEkgYXMgQXV0aEVycm9yQ29kZXMsIE0gYXMgRW1haWxBdXRoQ3JlZGVudGlhbCwgViBhcyBFbWFpbEF1dGhQcm92aWRlciwgVyBhcyBGYWNlYm9va0F1dGhQcm92aWRlciwgRiBhcyBGYWN0b3JJZCwgWSBhcyBHaXRodWJBdXRoUHJvdmlkZXIsIFggYXMgR29vZ2xlQXV0aFByb3ZpZGVyLCBOIGFzIE9BdXRoQ3JlZGVudGlhbCwgWiBhcyBPQXV0aFByb3ZpZGVyLCBPIGFzIE9wZXJhdGlvblR5cGUsIFEgYXMgUGhvbmVBdXRoQ3JlZGVudGlhbCwgUCBhcyBQaG9uZUF1dGhQcm92aWRlciwgbSBhcyBQaG9uZU11bHRpRmFjdG9yR2VuZXJhdG9yLCBwIGFzIFByb3ZpZGVySWQsIFIgYXMgUmVjYXB0Y2hhVmVyaWZpZXIsIF8gYXMgU0FNTEF1dGhQcm92aWRlciwgUyBhcyBTaWduSW5NZXRob2QsIFQgYXMgVG90cE11bHRpRmFjdG9yR2VuZXJhdG9yLCBuIGFzIFRvdHBTZWNyZXQsICQgYXMgVHdpdHRlckF1dGhQcm92aWRlciwgYTcgYXMgYXBwbHlBY3Rpb25Db2RlLCB4IGFzIGJlZm9yZUF1dGhTdGF0ZUNoYW5nZWQsIGIgYXMgYnJvd3NlckxvY2FsUGVyc2lzdGVuY2UsIGsgYXMgYnJvd3NlclBvcHVwUmVkaXJlY3RSZXNvbHZlciwgYSBhcyBicm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlLCBhOCBhcyBjaGVja0FjdGlvbkNvZGUsIGE2IGFzIGNvbmZpcm1QYXNzd29yZFJlc2V0LCBLIGFzIGNvbm5lY3RBdXRoRW11bGF0b3IsIGFhIGFzIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCwgRyBhcyBkZWJ1Z0Vycm9yTWFwLCBFIGFzIGRlbGV0ZVVzZXIsIGFmIGFzIGZldGNoU2lnbkluTWV0aG9kc0ZvckVtYWlsLCBhcSBhcyBnZXRBZGRpdGlvbmFsVXNlckluZm8sIG8gYXMgZ2V0QXV0aCwgYW4gYXMgZ2V0SWRUb2tlbiwgYW8gYXMgZ2V0SWRUb2tlblJlc3VsdCwgYXMgYXMgZ2V0TXVsdGlGYWN0b3JSZXNvbHZlciwgaiBhcyBnZXRSZWRpcmVjdFJlc3VsdCwgVSBhcyBpbk1lbW9yeVBlcnNpc3RlbmNlLCBpIGFzIGluZGV4ZWREQkxvY2FsUGVyc2lzdGVuY2UsIEogYXMgaW5pdGlhbGl6ZUF1dGgsIHQgYXMgaW5pdGlhbGl6ZVJlY2FwdGNoYUNvbmZpZywgYWQgYXMgaXNTaWduSW5XaXRoRW1haWxMaW5rLCBhMiBhcyBsaW5rV2l0aENyZWRlbnRpYWwsIGwgYXMgbGlua1dpdGhQaG9uZU51bWJlciwgZCBhcyBsaW5rV2l0aFBvcHVwLCBnIGFzIGxpbmtXaXRoUmVkaXJlY3QsIGF0IGFzIG11bHRpRmFjdG9yLCB5IGFzIG9uQXV0aFN0YXRlQ2hhbmdlZCwgdyBhcyBvbklkVG9rZW5DaGFuZ2VkLCBhaiBhcyBwYXJzZUFjdGlvbkNvZGVVUkwsIEggYXMgcHJvZEVycm9yTWFwLCBhMyBhcyByZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsLCByIGFzIHJlYXV0aGVudGljYXRlV2l0aFBob25lTnVtYmVyLCBlIGFzIHJlYXV0aGVudGljYXRlV2l0aFBvcHVwLCBoIGFzIHJlYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0LCBhciBhcyByZWxvYWQsIEQgYXMgcmV2b2tlQWNjZXNzVG9rZW4sIGFnIGFzIHNlbmRFbWFpbFZlcmlmaWNhdGlvbiwgYTUgYXMgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbCwgYWMgYXMgc2VuZFNpZ25JbkxpbmtUb0VtYWlsLCBxIGFzIHNldFBlcnNpc3RlbmNlLCBhMCBhcyBzaWduSW5Bbm9ueW1vdXNseSwgYTEgYXMgc2lnbkluV2l0aENyZWRlbnRpYWwsIGE0IGFzIHNpZ25JbldpdGhDdXN0b21Ub2tlbiwgYWIgYXMgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsIGFlIGFzIHNpZ25JbldpdGhFbWFpbExpbmssIHMgYXMgc2lnbkluV2l0aFBob25lTnVtYmVyLCBjIGFzIHNpZ25JbldpdGhQb3B1cCwgZiBhcyBzaWduSW5XaXRoUmVkaXJlY3QsIEMgYXMgc2lnbk91dCwgYXAgYXMgdW5saW5rLCBCIGFzIHVwZGF0ZUN1cnJlbnRVc2VyLCBhbCBhcyB1cGRhdGVFbWFpbCwgYW0gYXMgdXBkYXRlUGFzc3dvcmQsIHUgYXMgdXBkYXRlUGhvbmVOdW1iZXIsIGFrIGFzIHVwZGF0ZVByb2ZpbGUsIHogYXMgdXNlRGV2aWNlTGFuZ3VhZ2UsIHYgYXMgdmFsaWRhdGVQYXNzd29yZCwgYWggYXMgdmVyaWZ5QmVmb3JlVXBkYXRlRW1haWwsIGE5IGFzIHZlcmlmeVBhc3N3b3JkUmVzZXRDb2RlIH0gZnJvbSAnLi9pbmRleC02ODYwMmQyNC5qcyc7XG5pbXBvcnQgJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0ICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgJ0BmaXJlYmFzZS9sb2dnZXInO1xuaW1wb3J0ICd0c2xpYic7XG5pbXBvcnQgJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iLCAiZXhwb3J0ICogZnJvbSAnQGZpcmViYXNlL2F1dGgnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0Jzt2YXIgZj1yZXF1aXJlKFwicmVhY3RcIiksaz1TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSxsPVN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxtPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbj1mLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudE93bmVyLHA9e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtcbmZ1bmN0aW9uIHEoYyxhLGcpe3ZhciBiLGQ9e30sZT1udWxsLGg9bnVsbDt2b2lkIDAhPT1nJiYoZT1cIlwiK2cpO3ZvaWQgMCE9PWEua2V5JiYoZT1cIlwiK2Eua2V5KTt2b2lkIDAhPT1hLnJlZiYmKGg9YS5yZWYpO2ZvcihiIGluIGEpbS5jYWxsKGEsYikmJiFwLmhhc093blByb3BlcnR5KGIpJiYoZFtiXT1hW2JdKTtpZihjJiZjLmRlZmF1bHRQcm9wcylmb3IoYiBpbiBhPWMuZGVmYXVsdFByb3BzLGEpdm9pZCAwPT09ZFtiXSYmKGRbYl09YVtiXSk7cmV0dXJueyQkdHlwZW9mOmssdHlwZTpjLGtleTplLHJlZjpoLHByb3BzOmQsX293bmVyOm4uY3VycmVudH19ZXhwb3J0cy5GcmFnbWVudD1sO2V4cG9ydHMuanN4PXE7ZXhwb3J0cy5qc3hzPXE7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCAiaW1wb3J0IHsgU3RyaWN0TW9kZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlUm9vdCB9IGZyb20gXCJyZWFjdC1kb20vY2xpZW50XCI7XG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IGNhY2hlRXhjaGFuZ2UsIGNyZWF0ZUNsaWVudCwgZmV0Y2hFeGNoYW5nZSwgUHJvdmlkZXIgfSBmcm9tIFwidXJxbFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwiLi9BcHAudHN4XCI7XG5pbXBvcnQgeyByZWZldGNoT25UeXBlbmFtZSB9IGZyb20gXCIuL3V0aWxzL3JlZmV0Y2hPblR5cGVuYW1lLnRzXCI7XG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tIFwiLi9jb250ZXh0L0F1dGhDb250ZXh0LnRzeFwiO1xuaW1wb3J0IHsgYXV0aCB9IGZyb20gXCIuL2ZpcmViYXNlL2F1dGgudHNcIjtcblxuLy8gdXJxbFx1MzBBRlx1MzBFOVx1MzBBNFx1MzBBMlx1MzBGM1x1MzBDOFx1MzA5Mlx1NEY1Q1x1NjIxMFx1RkYwOFx1OEE4RFx1OEEzQ1x1MzBDOFx1MzBGQ1x1MzBBRlx1MzBGM1x1NEVEOFx1MzA0RFx1RkYwOVxuY29uc3QgdXJxbENsaWVudCA9IGNyZWF0ZUNsaWVudCh7XG4gIHVybDogXCIvZ3JhcGhxbFwiLFxuICBleGNoYW5nZXM6IFtyZWZldGNoT25UeXBlbmFtZSwgY2FjaGVFeGNoYW5nZSwgZmV0Y2hFeGNoYW5nZV0sXG4gIGZldGNoT3B0aW9uczogKCkgPT4ge1xuICAgIC8vIEZpcmViYXNlIFx1MzA2RVx1NzNGRVx1NTcyOFx1MzA2RVx1MzBFNlx1MzBGQ1x1MzBCNlx1MzBGQ1x1MzA0Qlx1MzA4OVx1MzBDOFx1MzBGQ1x1MzBBRlx1MzBGM1x1MzA5Mlx1NTNENlx1NUY5N1xuICAgIGNvbnN0IHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8vIGdldElkVG9rZW4gXHUzMDZGXHU5NzVFXHU1NDBDXHU2NzFGXHUzMDYwXHUzMDRDXHUzMDAxXHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1XHUzMDU1XHUzMDhDXHUzMDVGXHUzMEM4XHUzMEZDXHUzMEFGXHUzMEYzXHUzMDkyXHU1NDBDXHU2NzFGXHU3Njg0XHUzMDZCXHU1M0Q2XHU1Rjk3XHUzMDU5XHUzMDhCXHUzMDVGXHUzMDgxXG4gICAgLy8gYWNjZXNzVG9rZW4gXHUzMEQ3XHUzMEVEXHUzMEQxXHUzMEM2XHUzMEEzXHUzMDkyXHU3NkY0XHU2M0E1XHU0RjdGXHU3NTI4XHVGRjA4RmlyZWJhc2UgU0RLIFx1MzA0Q1x1NTE4NVx1OTBFOFx1MzA2N1x1MzBBRFx1MzBFM1x1MzBDM1x1MzBCN1x1MzBFNVx1RkYwOVxuICAgIC8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3QgdG9rZW4gPSAodXNlciBhcyBhbnkpLmFjY2Vzc1Rva2VuO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSxcbn0pO1xuXG5jb25zdCByb290RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpO1xuaWYgKCFyb290RWxlbWVudCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJSb290IGVsZW1lbnQgbm90IGZvdW5kXCIpO1xufVxuXG5jb25zdCByb290ID0gY3JlYXRlUm9vdChyb290RWxlbWVudCk7XG5yb290LnJlbmRlcihcbiAgPFN0cmljdE1vZGU+XG4gICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICA8UHJvdmlkZXIgdmFsdWU9e3VycWxDbGllbnR9PlxuICAgICAgICA8QXV0aFByb3ZpZGVyPlxuICAgICAgICAgIDxBcHAgLz5cbiAgICAgICAgPC9BdXRoUHJvdmlkZXI+XG4gICAgICA8L1Byb3ZpZGVyPlxuICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgPC9TdHJpY3RNb2RlPixcbik7XG4iLCAiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vI3JlZ2lvbiBUeXBlcyBhbmQgQ29uc3RhbnRzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEFjdGlvbnMgcmVwcmVzZW50IHRoZSB0eXBlIG9mIGNoYW5nZSB0byBhIGxvY2F0aW9uIHZhbHVlLlxuICovXG5leHBvcnQgZW51bSBBY3Rpb24ge1xuICAvKipcbiAgICogQSBQT1AgaW5kaWNhdGVzIGEgY2hhbmdlIHRvIGFuIGFyYml0cmFyeSBpbmRleCBpbiB0aGUgaGlzdG9yeSBzdGFjaywgc3VjaFxuICAgKiBhcyBhIGJhY2sgb3IgZm9yd2FyZCBuYXZpZ2F0aW9uLiBJdCBkb2VzIG5vdCBkZXNjcmliZSB0aGUgZGlyZWN0aW9uIG9mIHRoZVxuICAgKiBuYXZpZ2F0aW9uLCBvbmx5IHRoYXQgdGhlIGN1cnJlbnQgaW5kZXggY2hhbmdlZC5cbiAgICpcbiAgICogTm90ZTogVGhpcyBpcyB0aGUgZGVmYXVsdCBhY3Rpb24gZm9yIG5ld2x5IGNyZWF0ZWQgaGlzdG9yeSBvYmplY3RzLlxuICAgKi9cbiAgUG9wID0gXCJQT1BcIixcblxuICAvKipcbiAgICogQSBQVVNIIGluZGljYXRlcyBhIG5ldyBlbnRyeSBiZWluZyBhZGRlZCB0byB0aGUgaGlzdG9yeSBzdGFjaywgc3VjaCBhcyB3aGVuXG4gICAqIGEgbGluayBpcyBjbGlja2VkIGFuZCBhIG5ldyBwYWdlIGxvYWRzLiBXaGVuIHRoaXMgaGFwcGVucywgYWxsIHN1YnNlcXVlbnRcbiAgICogZW50cmllcyBpbiB0aGUgc3RhY2sgYXJlIGxvc3QuXG4gICAqL1xuICBQdXNoID0gXCJQVVNIXCIsXG5cbiAgLyoqXG4gICAqIEEgUkVQTEFDRSBpbmRpY2F0ZXMgdGhlIGVudHJ5IGF0IHRoZSBjdXJyZW50IGluZGV4IGluIHRoZSBoaXN0b3J5IHN0YWNrXG4gICAqIGJlaW5nIHJlcGxhY2VkIGJ5IGEgbmV3IG9uZS5cbiAgICovXG4gIFJlcGxhY2UgPSBcIlJFUExBQ0VcIixcbn1cblxuLyoqXG4gKiBUaGUgcGF0aG5hbWUsIHNlYXJjaCwgYW5kIGhhc2ggdmFsdWVzIG9mIGEgVVJMLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhdGgge1xuICAvKipcbiAgICogQSBVUkwgcGF0aG5hbWUsIGJlZ2lubmluZyB3aXRoIGEgLy5cbiAgICovXG4gIHBhdGhuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgVVJMIHNlYXJjaCBzdHJpbmcsIGJlZ2lubmluZyB3aXRoIGEgPy5cbiAgICovXG4gIHNlYXJjaDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIFVSTCBmcmFnbWVudCBpZGVudGlmaWVyLCBiZWdpbm5pbmcgd2l0aCBhICMuXG4gICAqL1xuICBoYXNoOiBzdHJpbmc7XG59XG5cbi8vIFRPRE86ICh2NykgQ2hhbmdlIHRoZSBMb2NhdGlvbiBnZW5lcmljIGRlZmF1bHQgZnJvbSBgYW55YCB0byBgdW5rbm93bmAgYW5kXG4vLyByZW1vdmUgUmVtaXggYHVzZUxvY2F0aW9uYCB3cmFwcGVyLlxuXG4vKipcbiAqIEFuIGVudHJ5IGluIGEgaGlzdG9yeSBzdGFjay4gQSBsb2NhdGlvbiBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGVcbiAqIFVSTCBwYXRoLCBhcyB3ZWxsIGFzIHBvc3NpYmx5IHNvbWUgYXJiaXRyYXJ5IHN0YXRlIGFuZCBhIGtleS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbjxTdGF0ZSA9IGFueT4gZXh0ZW5kcyBQYXRoIHtcbiAgLyoqXG4gICAqIEEgdmFsdWUgb2YgYXJiaXRyYXJ5IGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbG9jYXRpb24uXG4gICAqL1xuICBzdGF0ZTogU3RhdGU7XG5cbiAgLyoqXG4gICAqIEEgdW5pcXVlIHN0cmluZyBhc3NvY2lhdGVkIHdpdGggdGhpcyBsb2NhdGlvbi4gTWF5IGJlIHVzZWQgdG8gc2FmZWx5IHN0b3JlXG4gICAqIGFuZCByZXRyaWV2ZSBkYXRhIGluIHNvbWUgb3RoZXIgc3RvcmFnZSBBUEksIGxpa2UgYGxvY2FsU3RvcmFnZWAuXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgdmFsdWUgaXMgYWx3YXlzIFwiZGVmYXVsdFwiIG9uIHRoZSBpbml0aWFsIGxvY2F0aW9uLlxuICAgKi9cbiAga2V5OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQSBjaGFuZ2UgdG8gdGhlIGN1cnJlbnQgbG9jYXRpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlIHtcbiAgLyoqXG4gICAqIFRoZSBhY3Rpb24gdGhhdCB0cmlnZ2VyZWQgdGhlIGNoYW5nZS5cbiAgICovXG4gIGFjdGlvbjogQWN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgbmV3IGxvY2F0aW9uLlxuICAgKi9cbiAgbG9jYXRpb246IExvY2F0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVsdGEgYmV0d2VlbiB0aGlzIGxvY2F0aW9uIGFuZCB0aGUgZm9ybWVyIGxvY2F0aW9uIGluIHRoZSBoaXN0b3J5IHN0YWNrXG4gICAqL1xuICBkZWx0YTogbnVtYmVyIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgbm90aWZpY2F0aW9ucyBhYm91dCBsb2NhdGlvbiBjaGFuZ2VzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpc3RlbmVyIHtcbiAgKHVwZGF0ZTogVXBkYXRlKTogdm9pZDtcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgYSBsb2NhdGlvbiB0aGF0IGlzIHRoZSBkZXN0aW5hdGlvbiBvZiBzb21lIG5hdmlnYXRpb24sIGVpdGhlciB2aWFcbiAqIGBoaXN0b3J5LnB1c2hgIG9yIGBoaXN0b3J5LnJlcGxhY2VgLiBUaGlzIG1heSBiZSBlaXRoZXIgYSBVUkwgb3IgdGhlIHBpZWNlc1xuICogb2YgYSBVUkwgcGF0aC5cbiAqL1xuZXhwb3J0IHR5cGUgVG8gPSBzdHJpbmcgfCBQYXJ0aWFsPFBhdGg+O1xuXG4vKipcbiAqIEEgaGlzdG9yeSBpcyBhbiBpbnRlcmZhY2UgdG8gdGhlIG5hdmlnYXRpb24gc3RhY2suIFRoZSBoaXN0b3J5IHNlcnZlcyBhcyB0aGVcbiAqIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlIGN1cnJlbnQgbG9jYXRpb24sIGFzIHdlbGwgYXMgcHJvdmlkZXMgYSBzZXQgb2ZcbiAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgdXNlZCB0byBjaGFuZ2UgaXQuXG4gKlxuICogSXQgaXMgc2ltaWxhciB0byB0aGUgRE9NJ3MgYHdpbmRvdy5oaXN0b3J5YCBvYmplY3QsIGJ1dCB3aXRoIGEgc21hbGxlciwgbW9yZVxuICogZm9jdXNlZCBBUEkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSGlzdG9yeSB7XG4gIC8qKlxuICAgKiBUaGUgbGFzdCBhY3Rpb24gdGhhdCBtb2RpZmllZCB0aGUgY3VycmVudCBsb2NhdGlvbi4gVGhpcyB3aWxsIGFsd2F5cyBiZVxuICAgKiBBY3Rpb24uUG9wIHdoZW4gYSBoaXN0b3J5IGluc3RhbmNlIGlzIGZpcnN0IGNyZWF0ZWQuIFRoaXMgdmFsdWUgaXMgbXV0YWJsZS5cbiAgICovXG4gIHJlYWRvbmx5IGFjdGlvbjogQWN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBsb2NhdGlvbi4gVGhpcyB2YWx1ZSBpcyBtdXRhYmxlLlxuICAgKi9cbiAgcmVhZG9ubHkgbG9jYXRpb246IExvY2F0aW9uO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdmFsaWQgaHJlZiBmb3IgdGhlIGdpdmVuIGB0b2AgdmFsdWUgdGhhdCBtYXkgYmUgdXNlZCBhc1xuICAgKiB0aGUgdmFsdWUgb2YgYW4gPGEgaHJlZj4gYXR0cmlidXRlLlxuICAgKlxuICAgKiBAcGFyYW0gdG8gLSBUaGUgZGVzdGluYXRpb24gVVJMXG4gICAqL1xuICBjcmVhdGVIcmVmKHRvOiBUbyk6IHN0cmluZztcblxuICAvKipcbiAgICogUmV0dXJucyBhIFVSTCBmb3IgdGhlIGdpdmVuIGB0b2AgdmFsdWVcbiAgICpcbiAgICogQHBhcmFtIHRvIC0gVGhlIGRlc3RpbmF0aW9uIFVSTFxuICAgKi9cbiAgY3JlYXRlVVJMKHRvOiBUbyk6IFVSTDtcblxuICAvKipcbiAgICogRW5jb2RlIGEgbG9jYXRpb24gdGhlIHNhbWUgd2F5IHdpbmRvdy5oaXN0b3J5IHdvdWxkIGRvIChuby1vcCBmb3IgbWVtb3J5XG4gICAqIGhpc3RvcnkpIHNvIHdlIGVuc3VyZSBvdXIgUFVTSC9SRVBMQUNFIG5hdmlnYXRpb25zIGZvciBkYXRhIHJvdXRlcnNcbiAgICogYmVoYXZlIHRoZSBzYW1lIGFzIFBPUFxuICAgKlxuICAgKiBAcGFyYW0gdG8gVW5lbmNvZGVkIHBhdGhcbiAgICovXG4gIGVuY29kZUxvY2F0aW9uKHRvOiBUbyk6IFBhdGg7XG5cbiAgLyoqXG4gICAqIFB1c2hlcyBhIG5ldyBsb2NhdGlvbiBvbnRvIHRoZSBoaXN0b3J5IHN0YWNrLCBpbmNyZWFzaW5nIGl0cyBsZW5ndGggYnkgb25lLlxuICAgKiBJZiB0aGVyZSB3ZXJlIGFueSBlbnRyaWVzIGluIHRoZSBzdGFjayBhZnRlciB0aGUgY3VycmVudCBvbmUsIHRoZXkgYXJlXG4gICAqIGxvc3QuXG4gICAqXG4gICAqIEBwYXJhbSB0byAtIFRoZSBuZXcgVVJMXG4gICAqIEBwYXJhbSBzdGF0ZSAtIERhdGEgdG8gYXNzb2NpYXRlIHdpdGggdGhlIG5ldyBsb2NhdGlvblxuICAgKi9cbiAgcHVzaCh0bzogVG8sIHN0YXRlPzogYW55KTogdm9pZDtcblxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIGN1cnJlbnQgbG9jYXRpb24gaW4gdGhlIGhpc3Rvcnkgc3RhY2sgd2l0aCBhIG5ldyBvbmUuICBUaGVcbiAgICogbG9jYXRpb24gdGhhdCB3YXMgcmVwbGFjZWQgd2lsbCBubyBsb25nZXIgYmUgYXZhaWxhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0gdG8gLSBUaGUgbmV3IFVSTFxuICAgKiBAcGFyYW0gc3RhdGUgLSBEYXRhIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBuZXcgbG9jYXRpb25cbiAgICovXG4gIHJlcGxhY2UodG86IFRvLCBzdGF0ZT86IGFueSk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlcyBgbmAgZW50cmllcyBiYWNrd2FyZC9mb3J3YXJkIGluIHRoZSBoaXN0b3J5IHN0YWNrIHJlbGF0aXZlIHRvIHRoZVxuICAgKiBjdXJyZW50IGluZGV4LiBGb3IgZXhhbXBsZSwgYSBcImJhY2tcIiBuYXZpZ2F0aW9uIHdvdWxkIHVzZSBnbygtMSkuXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YSAtIFRoZSBkZWx0YSBpbiB0aGUgc3RhY2sgaW5kZXhcbiAgICovXG4gIGdvKGRlbHRhOiBudW1iZXIpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBTZXRzIHVwIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgKiBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0gbGlzdGVuZXIgLSBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgbG9jYXRpb24gY2hhbmdlc1xuICAgKiBAcmV0dXJucyB1bmxpc3RlbiAtIEEgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBzdG9wIGxpc3RlbmluZ1xuICAgKi9cbiAgbGlzdGVuKGxpc3RlbmVyOiBMaXN0ZW5lcik6ICgpID0+IHZvaWQ7XG59XG5cbnR5cGUgSGlzdG9yeVN0YXRlID0ge1xuICB1c3I6IGFueTtcbiAga2V5Pzogc3RyaW5nO1xuICBpZHg6IG51bWJlcjtcbn07XG5cbmNvbnN0IFBvcFN0YXRlRXZlbnRUeXBlID0gXCJwb3BzdGF0ZVwiO1xuLy8jZW5kcmVnaW9uXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyNyZWdpb24gTWVtb3J5IEhpc3Rvcnlcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQSB1c2VyLXN1cHBsaWVkIG9iamVjdCB0aGF0IGRlc2NyaWJlcyBhIGxvY2F0aW9uLiBVc2VkIHdoZW4gcHJvdmlkaW5nXG4gKiBlbnRyaWVzIHRvIGBjcmVhdGVNZW1vcnlIaXN0b3J5YCB2aWEgaXRzIGBpbml0aWFsRW50cmllc2Agb3B0aW9uLlxuICovXG5leHBvcnQgdHlwZSBJbml0aWFsRW50cnkgPSBzdHJpbmcgfCBQYXJ0aWFsPExvY2F0aW9uPjtcblxuZXhwb3J0IHR5cGUgTWVtb3J5SGlzdG9yeU9wdGlvbnMgPSB7XG4gIGluaXRpYWxFbnRyaWVzPzogSW5pdGlhbEVudHJ5W107XG4gIGluaXRpYWxJbmRleD86IG51bWJlcjtcbiAgdjVDb21wYXQ/OiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBBIG1lbW9yeSBoaXN0b3J5IHN0b3JlcyBsb2NhdGlvbnMgaW4gbWVtb3J5LiBUaGlzIGlzIHVzZWZ1bCBpbiBzdGF0ZWZ1bFxuICogZW52aXJvbm1lbnRzIHdoZXJlIHRoZXJlIGlzIG5vIHdlYiBicm93c2VyLCBzdWNoIGFzIG5vZGUgdGVzdHMgb3IgUmVhY3RcbiAqIE5hdGl2ZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZW1vcnlIaXN0b3J5IGV4dGVuZHMgSGlzdG9yeSB7XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBpbmRleCBpbiB0aGUgaGlzdG9yeSBzdGFjay5cbiAgICovXG4gIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XG59XG5cbi8qKlxuICogTWVtb3J5IGhpc3Rvcnkgc3RvcmVzIHRoZSBjdXJyZW50IGxvY2F0aW9uIGluIG1lbW9yeS4gSXQgaXMgZGVzaWduZWQgZm9yIHVzZVxuICogaW4gc3RhdGVmdWwgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRzIGxpa2UgdGVzdHMgYW5kIFJlYWN0IE5hdGl2ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3RvcnkoXG4gIG9wdGlvbnM6IE1lbW9yeUhpc3RvcnlPcHRpb25zID0ge31cbik6IE1lbW9yeUhpc3Rvcnkge1xuICBsZXQgeyBpbml0aWFsRW50cmllcyA9IFtcIi9cIl0sIGluaXRpYWxJbmRleCwgdjVDb21wYXQgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgbGV0IGVudHJpZXM6IExvY2F0aW9uW107IC8vIERlY2xhcmUgc28gd2UgY2FuIGFjY2VzcyBmcm9tIGNyZWF0ZU1lbW9yeUxvY2F0aW9uXG4gIGVudHJpZXMgPSBpbml0aWFsRW50cmllcy5tYXAoKGVudHJ5LCBpbmRleCkgPT5cbiAgICBjcmVhdGVNZW1vcnlMb2NhdGlvbihcbiAgICAgIGVudHJ5LFxuICAgICAgdHlwZW9mIGVudHJ5ID09PSBcInN0cmluZ1wiID8gbnVsbCA6IGVudHJ5LnN0YXRlLFxuICAgICAgaW5kZXggPT09IDAgPyBcImRlZmF1bHRcIiA6IHVuZGVmaW5lZFxuICAgIClcbiAgKTtcbiAgbGV0IGluZGV4ID0gY2xhbXBJbmRleChcbiAgICBpbml0aWFsSW5kZXggPT0gbnVsbCA/IGVudHJpZXMubGVuZ3RoIC0gMSA6IGluaXRpYWxJbmRleFxuICApO1xuICBsZXQgYWN0aW9uID0gQWN0aW9uLlBvcDtcbiAgbGV0IGxpc3RlbmVyOiBMaXN0ZW5lciB8IG51bGwgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGNsYW1wSW5kZXgobjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwgMCksIGVudHJpZXMubGVuZ3RoIC0gMSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudExvY2F0aW9uKCk6IExvY2F0aW9uIHtcbiAgICByZXR1cm4gZW50cmllc1tpbmRleF07XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTWVtb3J5TG9jYXRpb24oXG4gICAgdG86IFRvLFxuICAgIHN0YXRlOiBhbnkgPSBudWxsLFxuICAgIGtleT86IHN0cmluZ1xuICApOiBMb2NhdGlvbiB7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oXG4gICAgICBlbnRyaWVzID8gZ2V0Q3VycmVudExvY2F0aW9uKCkucGF0aG5hbWUgOiBcIi9cIixcbiAgICAgIHRvLFxuICAgICAgc3RhdGUsXG4gICAgICBrZXlcbiAgICApO1xuICAgIHdhcm5pbmcoXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgPT09IFwiL1wiLFxuICAgICAgYHJlbGF0aXZlIHBhdGhuYW1lcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBtZW1vcnkgaGlzdG9yeTogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgdG9cbiAgICAgICl9YFxuICAgICk7XG4gICAgcmV0dXJuIGxvY2F0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZih0bzogVG8pIHtcbiAgICByZXR1cm4gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgfVxuXG4gIGxldCBoaXN0b3J5OiBNZW1vcnlIaXN0b3J5ID0ge1xuICAgIGdldCBpbmRleCgpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuICAgIGdldCBhY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH0sXG4gICAgZ2V0IGxvY2F0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldEN1cnJlbnRMb2NhdGlvbigpO1xuICAgIH0sXG4gICAgY3JlYXRlSHJlZixcbiAgICBjcmVhdGVVUkwodG8pIHtcbiAgICAgIHJldHVybiBuZXcgVVJMKGNyZWF0ZUhyZWYodG8pLCBcImh0dHA6Ly9sb2NhbGhvc3RcIik7XG4gICAgfSxcbiAgICBlbmNvZGVMb2NhdGlvbih0bzogVG8pIHtcbiAgICAgIGxldCBwYXRoID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHRvKSA6IHRvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aG5hbWU6IHBhdGgucGF0aG5hbWUgfHwgXCJcIixcbiAgICAgICAgc2VhcmNoOiBwYXRoLnNlYXJjaCB8fCBcIlwiLFxuICAgICAgICBoYXNoOiBwYXRoLmhhc2ggfHwgXCJcIixcbiAgICAgIH07XG4gICAgfSxcbiAgICBwdXNoKHRvLCBzdGF0ZSkge1xuICAgICAgYWN0aW9uID0gQWN0aW9uLlB1c2g7XG4gICAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTWVtb3J5TG9jYXRpb24odG8sIHN0YXRlKTtcbiAgICAgIGluZGV4ICs9IDE7XG4gICAgICBlbnRyaWVzLnNwbGljZShpbmRleCwgZW50cmllcy5sZW5ndGgsIG5leHRMb2NhdGlvbik7XG4gICAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sIGRlbHRhOiAxIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVwbGFjZSh0bywgc3RhdGUpIHtcbiAgICAgIGFjdGlvbiA9IEFjdGlvbi5SZXBsYWNlO1xuICAgICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZU1lbW9yeUxvY2F0aW9uKHRvLCBzdGF0ZSk7XG4gICAgICBlbnRyaWVzW2luZGV4XSA9IG5leHRMb2NhdGlvbjtcbiAgICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IG5leHRMb2NhdGlvbiwgZGVsdGE6IDAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnbyhkZWx0YSkge1xuICAgICAgYWN0aW9uID0gQWN0aW9uLlBvcDtcbiAgICAgIGxldCBuZXh0SW5kZXggPSBjbGFtcEluZGV4KGluZGV4ICsgZGVsdGEpO1xuICAgICAgbGV0IG5leHRMb2NhdGlvbiA9IGVudHJpZXNbbmV4dEluZGV4XTtcbiAgICAgIGluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogbmV4dExvY2F0aW9uLCBkZWx0YSB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxpc3RlbihmbjogTGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyID0gZm47XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBsaXN0ZW5lciA9IG51bGw7XG4gICAgICB9O1xuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG4vLyNlbmRyZWdpb25cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vI3JlZ2lvbiBCcm93c2VyIEhpc3Rvcnlcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQSBicm93c2VyIGhpc3Rvcnkgc3RvcmVzIHRoZSBjdXJyZW50IGxvY2F0aW9uIGluIHJlZ3VsYXIgVVJMcyBpbiBhIHdlYlxuICogYnJvd3NlciBlbnZpcm9ubWVudC4gVGhpcyBpcyB0aGUgc3RhbmRhcmQgZm9yIG1vc3Qgd2ViIGFwcHMgYW5kIHByb3ZpZGVzIHRoZVxuICogY2xlYW5lc3QgVVJMcyB0aGUgYnJvd3NlcidzIGFkZHJlc3MgYmFyLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9oaXN0b3J5L3RyZWUvbWFpbi9kb2NzL2FwaS1yZWZlcmVuY2UubWQjYnJvd3Nlcmhpc3RvcnlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcm93c2VySGlzdG9yeSBleHRlbmRzIFVybEhpc3Rvcnkge31cblxuZXhwb3J0IHR5cGUgQnJvd3Nlckhpc3RvcnlPcHRpb25zID0gVXJsSGlzdG9yeU9wdGlvbnM7XG5cbi8qKlxuICogQnJvd3NlciBoaXN0b3J5IHN0b3JlcyB0aGUgbG9jYXRpb24gaW4gcmVndWxhciBVUkxzLiBUaGlzIGlzIHRoZSBzdGFuZGFyZCBmb3JcbiAqIG1vc3Qgd2ViIGFwcHMsIGJ1dCBpdCByZXF1aXJlcyBzb21lIGNvbmZpZ3VyYXRpb24gb24gdGhlIHNlcnZlciB0byBlbnN1cmUgeW91XG4gKiBzZXJ2ZSB0aGUgc2FtZSBhcHAgYXQgbXVsdGlwbGUgVVJMcy5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vaGlzdG9yeS90cmVlL21haW4vZG9jcy9hcGktcmVmZXJlbmNlLm1kI2NyZWF0ZWJyb3dzZXJoaXN0b3J5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeShcbiAgb3B0aW9uczogQnJvd3Nlckhpc3RvcnlPcHRpb25zID0ge31cbik6IEJyb3dzZXJIaXN0b3J5IHtcbiAgZnVuY3Rpb24gY3JlYXRlQnJvd3NlckxvY2F0aW9uKFxuICAgIHdpbmRvdzogV2luZG93LFxuICAgIGdsb2JhbEhpc3Rvcnk6IFdpbmRvd1tcImhpc3RvcnlcIl1cbiAgKSB7XG4gICAgbGV0IHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9ID0gd2luZG93LmxvY2F0aW9uO1xuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihcbiAgICAgIFwiXCIsXG4gICAgICB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSxcbiAgICAgIC8vIHN0YXRlIGRlZmF1bHRzIHRvIGBudWxsYCBiZWNhdXNlIGB3aW5kb3cuaGlzdG9yeS5zdGF0ZWAgZG9lc1xuICAgICAgKGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS51c3IpIHx8IG51bGwsXG4gICAgICAoZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLmtleSkgfHwgXCJkZWZhdWx0XCJcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQnJvd3NlckhyZWYod2luZG93OiBXaW5kb3csIHRvOiBUbykge1xuICAgIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICB9XG5cbiAgcmV0dXJuIGdldFVybEJhc2VkSGlzdG9yeShcbiAgICBjcmVhdGVCcm93c2VyTG9jYXRpb24sXG4gICAgY3JlYXRlQnJvd3NlckhyZWYsXG4gICAgbnVsbCxcbiAgICBvcHRpb25zXG4gICk7XG59XG4vLyNlbmRyZWdpb25cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vI3JlZ2lvbiBIYXNoIEhpc3Rvcnlcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQSBoYXNoIGhpc3Rvcnkgc3RvcmVzIHRoZSBjdXJyZW50IGxvY2F0aW9uIGluIHRoZSBmcmFnbWVudCBpZGVudGlmaWVyIHBvcnRpb25cbiAqIG9mIHRoZSBVUkwgaW4gYSB3ZWIgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAqXG4gKiBUaGlzIGlzIGlkZWFsIGZvciBhcHBzIHRoYXQgZG8gbm90IGNvbnRyb2wgdGhlIHNlcnZlciBmb3Igc29tZSByZWFzb25cbiAqIChiZWNhdXNlIHRoZSBmcmFnbWVudCBpZGVudGlmaWVyIGlzIG5ldmVyIHNlbnQgdG8gdGhlIHNlcnZlciksIGluY2x1ZGluZyBzb21lXG4gKiBzaGFyZWQgaG9zdGluZyBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgcHJvdmlkZSBmaW5lLWdyYWluZWQgY29udHJvbHMgb3ZlclxuICogd2hpY2ggcGFnZXMgYXJlIHNlcnZlZCBhdCB3aGljaCBVUkxzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9oaXN0b3J5L3RyZWUvbWFpbi9kb2NzL2FwaS1yZWZlcmVuY2UubWQjaGFzaGhpc3RvcnlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIYXNoSGlzdG9yeSBleHRlbmRzIFVybEhpc3Rvcnkge31cblxuZXhwb3J0IHR5cGUgSGFzaEhpc3RvcnlPcHRpb25zID0gVXJsSGlzdG9yeU9wdGlvbnM7XG5cbi8qKlxuICogSGFzaCBoaXN0b3J5IHN0b3JlcyB0aGUgbG9jYXRpb24gaW4gd2luZG93LmxvY2F0aW9uLmhhc2guIFRoaXMgbWFrZXMgaXQgaWRlYWxcbiAqIGZvciBzaXR1YXRpb25zIHdoZXJlIHlvdSBkb24ndCB3YW50IHRvIHNlbmQgdGhlIGxvY2F0aW9uIHRvIHRoZSBzZXJ2ZXIgZm9yXG4gKiBzb21lIHJlYXNvbiwgZWl0aGVyIGJlY2F1c2UgeW91IGRvIGNhbm5vdCBjb25maWd1cmUgaXQgb3IgdGhlIFVSTCBzcGFjZSBpc1xuICogcmVzZXJ2ZWQgZm9yIHNvbWV0aGluZyBlbHNlLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9oaXN0b3J5L3RyZWUvbWFpbi9kb2NzL2FwaS1yZWZlcmVuY2UubWQjY3JlYXRlaGFzaGhpc3RvcnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KFxuICBvcHRpb25zOiBIYXNoSGlzdG9yeU9wdGlvbnMgPSB7fVxuKTogSGFzaEhpc3Rvcnkge1xuICBmdW5jdGlvbiBjcmVhdGVIYXNoTG9jYXRpb24oXG4gICAgd2luZG93OiBXaW5kb3csXG4gICAgZ2xvYmFsSGlzdG9yeTogV2luZG93W1wiaGlzdG9yeVwiXVxuICApIHtcbiAgICBsZXQge1xuICAgICAgcGF0aG5hbWUgPSBcIi9cIixcbiAgICAgIHNlYXJjaCA9IFwiXCIsXG4gICAgICBoYXNoID0gXCJcIixcbiAgICB9ID0gcGFyc2VQYXRoKHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKSk7XG5cbiAgICAvLyBIYXNoIFVSTCBzaG91bGQgYWx3YXlzIGhhdmUgYSBsZWFkaW5nIC8ganVzdCBsaWtlIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZVxuICAgIC8vIGRvZXMsIHNvIGlmIGFuIGFwcCBlbmRzIHVwIGF0IGEgcm91dGUgbGlrZSAvI3NvbWV0aGluZyB0aGVuIHdlIGFkZCBhXG4gICAgLy8gbGVhZGluZyBzbGFzaCBzbyBhbGwgb2Ygb3VyIHBhdGgtbWF0Y2hpbmcgYmVoYXZlcyB0aGUgc2FtZSBhcyBpZiBpdCB3b3VsZFxuICAgIC8vIGluIGEgYnJvd3NlciByb3V0ZXIuICBUaGlzIGlzIHBhcnRpY3VsYXJseSBpbXBvcnRhbnQgd2hlbiB0aGVyZSBleGlzdHMgYVxuICAgIC8vIHJvb3Qgc3BsYXQgcm91dGUgKDxSb3V0ZSBwYXRoPVwiKlwiPikgc2luY2UgdGhhdCBtYXRjaGVzIGludGVybmFsbHkgYWdhaW5zdFxuICAgIC8vIFwiLypcIiBhbmQgd2UnZCBleHBlY3QgLyNzb21ldGhpbmcgdG8gNDA0IGluIGEgaGFzaCByb3V0ZXIgYXBwLlxuICAgIGlmICghcGF0aG5hbWUuc3RhcnRzV2l0aChcIi9cIikgJiYgIXBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIuXCIpKSB7XG4gICAgICBwYXRobmFtZSA9IFwiL1wiICsgcGF0aG5hbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKFxuICAgICAgXCJcIixcbiAgICAgIHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9LFxuICAgICAgLy8gc3RhdGUgZGVmYXVsdHMgdG8gYG51bGxgIGJlY2F1c2UgYHdpbmRvdy5oaXN0b3J5LnN0YXRlYCBkb2VzXG4gICAgICAoZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLnVzcikgfHwgbnVsbCxcbiAgICAgIChnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUua2V5KSB8fCBcImRlZmF1bHRcIlxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVIYXNoSHJlZih3aW5kb3c6IFdpbmRvdywgdG86IFRvKSB7XG4gICAgbGV0IGJhc2UgPSB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJhc2VcIik7XG4gICAgbGV0IGhyZWYgPSBcIlwiO1xuXG4gICAgaWYgKGJhc2UgJiYgYmFzZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKSB7XG4gICAgICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICBsZXQgaGFzaEluZGV4ID0gdXJsLmluZGV4T2YoXCIjXCIpO1xuICAgICAgaHJlZiA9IGhhc2hJbmRleCA9PT0gLTEgPyB1cmwgOiB1cmwuc2xpY2UoMCwgaGFzaEluZGV4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaHJlZiArIFwiI1wiICsgKHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0bykpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVIYXNoTG9jYXRpb24obG9jYXRpb246IExvY2F0aW9uLCB0bzogVG8pIHtcbiAgICB3YXJuaW5nKFxuICAgICAgbG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApID09PSBcIi9cIixcbiAgICAgIGByZWxhdGl2ZSBwYXRobmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gaGFzaCBoaXN0b3J5LnB1c2goJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgdG9cbiAgICAgICl9KWBcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGdldFVybEJhc2VkSGlzdG9yeShcbiAgICBjcmVhdGVIYXNoTG9jYXRpb24sXG4gICAgY3JlYXRlSGFzaEhyZWYsXG4gICAgdmFsaWRhdGVIYXNoTG9jYXRpb24sXG4gICAgb3B0aW9uc1xuICApO1xufVxuLy8jZW5kcmVnaW9uXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyNyZWdpb24gVVRJTFNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFyaWFudCh2YWx1ZTogYm9vbGVhbiwgbWVzc2FnZT86IHN0cmluZyk6IGFzc2VydHMgdmFsdWU7XG5leHBvcnQgZnVuY3Rpb24gaW52YXJpYW50PFQ+KFxuICB2YWx1ZTogVCB8IG51bGwgfCB1bmRlZmluZWQsXG4gIG1lc3NhZ2U/OiBzdHJpbmdcbik6IGFzc2VydHMgdmFsdWUgaXMgVDtcbmV4cG9ydCBmdW5jdGlvbiBpbnZhcmlhbnQodmFsdWU6IGFueSwgbWVzc2FnZT86IHN0cmluZykge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2FybmluZyhjb25kOiBhbnksIG1lc3NhZ2U6IHN0cmluZykge1xuICBpZiAoIWNvbmQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFdlbGNvbWUgdG8gZGVidWdnaW5nIGhpc3RvcnkhXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBlcnJvciBpcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSwgc28geW91IGNhbiBtb3JlIGVhc2lseVxuICAgICAgLy8gZmluZCB0aGUgc291cmNlIGZvciBhIHdhcm5pbmcgdGhhdCBhcHBlYXJzIGluIHRoZSBjb25zb2xlIGJ5XG4gICAgICAvLyBlbmFibGluZyBcInBhdXNlIG9uIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIEphdmFTY3JpcHQgZGVidWdnZXIuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA4KTtcbn1cblxuLyoqXG4gKiBGb3IgYnJvd3Nlci1iYXNlZCBoaXN0b3JpZXMsIHdlIGNvbWJpbmUgdGhlIHN0YXRlIGFuZCBrZXkgaW50byBhbiBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKGxvY2F0aW9uOiBMb2NhdGlvbiwgaW5kZXg6IG51bWJlcik6IEhpc3RvcnlTdGF0ZSB7XG4gIHJldHVybiB7XG4gICAgdXNyOiBsb2NhdGlvbi5zdGF0ZSxcbiAgICBrZXk6IGxvY2F0aW9uLmtleSxcbiAgICBpZHg6IGluZGV4LFxuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBMb2NhdGlvbiBvYmplY3Qgd2l0aCBhIHVuaXF1ZSBrZXkgZnJvbSB0aGUgZ2l2ZW4gUGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24oXG4gIGN1cnJlbnQ6IHN0cmluZyB8IExvY2F0aW9uLFxuICB0bzogVG8sXG4gIHN0YXRlOiBhbnkgPSBudWxsLFxuICBrZXk/OiBzdHJpbmdcbik6IFJlYWRvbmx5PExvY2F0aW9uPiB7XG4gIGxldCBsb2NhdGlvbjogUmVhZG9ubHk8TG9jYXRpb24+ID0ge1xuICAgIHBhdGhuYW1lOiB0eXBlb2YgY3VycmVudCA9PT0gXCJzdHJpbmdcIiA/IGN1cnJlbnQgOiBjdXJyZW50LnBhdGhuYW1lLFxuICAgIHNlYXJjaDogXCJcIixcbiAgICBoYXNoOiBcIlwiLFxuICAgIC4uLih0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgodG8pIDogdG8pLFxuICAgIHN0YXRlLFxuICAgIC8vIFRPRE86IFRoaXMgY291bGQgYmUgY2xlYW5lZCB1cC4gIHB1c2gvcmVwbGFjZSBzaG91bGQgcHJvYmFibHkganVzdCB0YWtlXG4gICAgLy8gZnVsbCBMb2NhdGlvbnMgbm93IGFuZCBhdm9pZCB0aGUgbmVlZCB0byBydW4gdGhyb3VnaCB0aGlzIGZsb3cgYXQgYWxsXG4gICAgLy8gQnV0IHRoYXQncyBhIHByZXR0eSBiaWcgcmVmYWN0b3IgdG8gdGhlIGN1cnJlbnQgdGVzdCBzdWl0ZSBzbyBnb2luZyB0b1xuICAgIC8vIGtlZXAgYXMgaXMgZm9yIHRoZSB0aW1lIGJlaW5nIGFuZCBqdXN0IGxldCBhbnkgaW5jb21pbmcga2V5cyB0YWtlIHByZWNlZGVuY2VcbiAgICBrZXk6ICh0byAmJiAodG8gYXMgTG9jYXRpb24pLmtleSkgfHwga2V5IHx8IGNyZWF0ZUtleSgpLFxuICB9O1xuICByZXR1cm4gbG9jYXRpb247XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0cmluZyBVUkwgcGF0aCBmcm9tIHRoZSBnaXZlbiBwYXRobmFtZSwgc2VhcmNoLCBhbmQgaGFzaCBjb21wb25lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGF0aCh7XG4gIHBhdGhuYW1lID0gXCIvXCIsXG4gIHNlYXJjaCA9IFwiXCIsXG4gIGhhc2ggPSBcIlwiLFxufTogUGFydGlhbDxQYXRoPikge1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaCAhPT0gXCI/XCIpXG4gICAgcGF0aG5hbWUgKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gXCI/XCIgPyBzZWFyY2ggOiBcIj9cIiArIHNlYXJjaDtcbiAgaWYgKGhhc2ggJiYgaGFzaCAhPT0gXCIjXCIpXG4gICAgcGF0aG5hbWUgKz0gaGFzaC5jaGFyQXQoMCkgPT09IFwiI1wiID8gaGFzaCA6IFwiI1wiICsgaGFzaDtcbiAgcmV0dXJuIHBhdGhuYW1lO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhIHN0cmluZyBVUkwgcGF0aCBpbnRvIGl0cyBzZXBhcmF0ZSBwYXRobmFtZSwgc2VhcmNoLCBhbmQgaGFzaCBjb21wb25lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGg6IHN0cmluZyk6IFBhcnRpYWw8UGF0aD4ge1xuICBsZXQgcGFyc2VkUGF0aDogUGFydGlhbDxQYXRoPiA9IHt9O1xuXG4gIGlmIChwYXRoKSB7XG4gICAgbGV0IGhhc2hJbmRleCA9IHBhdGguaW5kZXhPZihcIiNcIik7XG4gICAgaWYgKGhhc2hJbmRleCA+PSAwKSB7XG4gICAgICBwYXJzZWRQYXRoLmhhc2ggPSBwYXRoLnN1YnN0cihoYXNoSW5kZXgpO1xuICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDAsIGhhc2hJbmRleCk7XG4gICAgfVxuXG4gICAgbGV0IHNlYXJjaEluZGV4ID0gcGF0aC5pbmRleE9mKFwiP1wiKTtcbiAgICBpZiAoc2VhcmNoSW5kZXggPj0gMCkge1xuICAgICAgcGFyc2VkUGF0aC5zZWFyY2ggPSBwYXRoLnN1YnN0cihzZWFyY2hJbmRleCk7XG4gICAgICBwYXRoID0gcGF0aC5zdWJzdHIoMCwgc2VhcmNoSW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChwYXRoKSB7XG4gICAgICBwYXJzZWRQYXRoLnBhdGhuYW1lID0gcGF0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFyc2VkUGF0aDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcmxIaXN0b3J5IGV4dGVuZHMgSGlzdG9yeSB7fVxuXG5leHBvcnQgdHlwZSBVcmxIaXN0b3J5T3B0aW9ucyA9IHtcbiAgd2luZG93PzogV2luZG93O1xuICB2NUNvbXBhdD86IGJvb2xlYW47XG59O1xuXG5mdW5jdGlvbiBnZXRVcmxCYXNlZEhpc3RvcnkoXG4gIGdldExvY2F0aW9uOiAod2luZG93OiBXaW5kb3csIGdsb2JhbEhpc3Rvcnk6IFdpbmRvd1tcImhpc3RvcnlcIl0pID0+IExvY2F0aW9uLFxuICBjcmVhdGVIcmVmOiAod2luZG93OiBXaW5kb3csIHRvOiBUbykgPT4gc3RyaW5nLFxuICB2YWxpZGF0ZUxvY2F0aW9uOiAoKGxvY2F0aW9uOiBMb2NhdGlvbiwgdG86IFRvKSA9PiB2b2lkKSB8IG51bGwsXG4gIG9wdGlvbnM6IFVybEhpc3RvcnlPcHRpb25zID0ge31cbik6IFVybEhpc3Rvcnkge1xuICBsZXQgeyB3aW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldyEsIHY1Q29tcGF0ID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGxldCBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIGxldCBhY3Rpb24gPSBBY3Rpb24uUG9wO1xuICBsZXQgbGlzdGVuZXI6IExpc3RlbmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgbGV0IGluZGV4ID0gZ2V0SW5kZXgoKSE7XG4gIC8vIEluZGV4IHNob3VsZCBvbmx5IGJlIG51bGwgd2hlbiB3ZSBpbml0aWFsaXplLiBJZiBub3QsIGl0J3MgYmVjYXVzZSB0aGVcbiAgLy8gdXNlciBjYWxsZWQgaGlzdG9yeS5wdXNoU3RhdGUgb3IgaGlzdG9yeS5yZXBsYWNlU3RhdGUgZGlyZWN0bHksIGluIHdoaWNoXG4gIC8vIGNhc2Ugd2Ugc2hvdWxkIGxvZyBhIHdhcm5pbmcgYXMgaXQgd2lsbCByZXN1bHQgaW4gYnVncy5cbiAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICBpbmRleCA9IDA7XG4gICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoeyAuLi5nbG9iYWxIaXN0b3J5LnN0YXRlLCBpZHg6IGluZGV4IH0sIFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5kZXgoKTogbnVtYmVyIHtcbiAgICBsZXQgc3RhdGUgPSBnbG9iYWxIaXN0b3J5LnN0YXRlIHx8IHsgaWR4OiBudWxsIH07XG4gICAgcmV0dXJuIHN0YXRlLmlkeDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVBvcCgpIHtcbiAgICBhY3Rpb24gPSBBY3Rpb24uUG9wO1xuICAgIGxldCBuZXh0SW5kZXggPSBnZXRJbmRleCgpO1xuICAgIGxldCBkZWx0YSA9IG5leHRJbmRleCA9PSBudWxsID8gbnVsbCA6IG5leHRJbmRleCAtIGluZGV4O1xuICAgIGluZGV4ID0gbmV4dEluZGV4O1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLCBkZWx0YSB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoKHRvOiBUbywgc3RhdGU/OiBhbnkpIHtcbiAgICBhY3Rpb24gPSBBY3Rpb24uUHVzaDtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihoaXN0b3J5LmxvY2F0aW9uLCB0bywgc3RhdGUpO1xuICAgIGlmICh2YWxpZGF0ZUxvY2F0aW9uKSB2YWxpZGF0ZUxvY2F0aW9uKGxvY2F0aW9uLCB0byk7XG5cbiAgICBpbmRleCA9IGdldEluZGV4KCkgKyAxO1xuICAgIGxldCBoaXN0b3J5U3RhdGUgPSBnZXRIaXN0b3J5U3RhdGUobG9jYXRpb24sIGluZGV4KTtcbiAgICBsZXQgdXJsID0gaGlzdG9yeS5jcmVhdGVIcmVmKGxvY2F0aW9uKTtcblxuICAgIC8vIHRyeS4uLmNhdGNoIGJlY2F1c2UgaU9TIGxpbWl0cyB1cyB0byAxMDAgcHVzaFN0YXRlIGNhbGxzIDovXG4gICAgdHJ5IHtcbiAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKGhpc3RvcnlTdGF0ZSwgXCJcIiwgdXJsKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgdGhlIGV4Y2VwdGlvbiBpcyBiZWNhdXNlIGBzdGF0ZWAgY2FuJ3QgYmUgc2VyaWFsaXplZCwgbGV0IHRoYXQgdGhyb3dcbiAgICAgIC8vIG91dHdhcmRzIGp1c3QgbGlrZSBhIHJlcGxhY2UgY2FsbCB3b3VsZCBzbyB0aGUgZGV2IGtub3dzIHRoZSBjYXVzZVxuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvbmF2LWhpc3RvcnktYXBpcy5odG1sI3NoYXJlZC1oaXN0b3J5LXB1c2gvcmVwbGFjZS1zdGF0ZS1zdGVwc1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3RydWN0dXJlZC1kYXRhLmh0bWwjc3RydWN0dXJlZHNlcmlhbGl6ZWludGVybmFsXG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgZXJyb3IubmFtZSA9PT0gXCJEYXRhQ2xvbmVFcnJvclwiKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgLy8gVGhleSBhcmUgZ29pbmcgdG8gbG9zZSBzdGF0ZSBoZXJlLCBidXQgdGhlcmUgaXMgbm8gcmVhbFxuICAgICAgLy8gd2F5IHRvIHdhcm4gdGhlbSBhYm91dCBpdCBzaW5jZSB0aGUgcGFnZSB3aWxsIHJlZnJlc2guLi5cbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICB9XG5cbiAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbiwgZGVsdGE6IDEgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZSh0bzogVG8sIHN0YXRlPzogYW55KSB7XG4gICAgYWN0aW9uID0gQWN0aW9uLlJlcGxhY2U7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oaGlzdG9yeS5sb2NhdGlvbiwgdG8sIHN0YXRlKTtcbiAgICBpZiAodmFsaWRhdGVMb2NhdGlvbikgdmFsaWRhdGVMb2NhdGlvbihsb2NhdGlvbiwgdG8pO1xuXG4gICAgaW5kZXggPSBnZXRJbmRleCgpO1xuICAgIGxldCBoaXN0b3J5U3RhdGUgPSBnZXRIaXN0b3J5U3RhdGUobG9jYXRpb24sIGluZGV4KTtcbiAgICBsZXQgdXJsID0gaGlzdG9yeS5jcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZShoaXN0b3J5U3RhdGUsIFwiXCIsIHVybCk7XG5cbiAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbiwgZGVsdGE6IDAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVVJMKHRvOiBUbyk6IFVSTCB7XG4gICAgLy8gd2luZG93LmxvY2F0aW9uLm9yaWdpbiBpcyBcIm51bGxcIiAodGhlIGxpdGVyYWwgc3RyaW5nIHZhbHVlKSBpbiBGaXJlZm94XG4gICAgLy8gdW5kZXIgY2VydGFpbiBjb25kaXRpb25zLCBub3RhYmx5IHdoZW4gc2VydmluZyBmcm9tIGEgbG9jYWwgSFRNTCBmaWxlXG4gICAgLy8gU2VlIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTg3ODI5N1xuICAgIGxldCBiYXNlID1cbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gIT09IFwibnVsbFwiXG4gICAgICAgID8gd2luZG93LmxvY2F0aW9uLm9yaWdpblxuICAgICAgICA6IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXG4gICAgbGV0IGhyZWYgPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICAgIC8vIFRyZWF0aW5nIHRoaXMgYXMgYSBmdWxsIFVSTCB3aWxsIHN0cmlwIGFueSB0cmFpbGluZyBzcGFjZXMgc28gd2UgbmVlZCB0b1xuICAgIC8vIHByZS1lbmNvZGUgdGhlbSBzaW5jZSB0aGV5IG1pZ2h0IGJlIHBhcnQgb2YgYSBtYXRjaGluZyBzcGxhdCBwYXJhbSBmcm9tXG4gICAgLy8gYW4gYW5jZXN0b3Igcm91dGVcbiAgICBocmVmID0gaHJlZi5yZXBsYWNlKC8gJC8sIFwiJTIwXCIpO1xuICAgIGludmFyaWFudChcbiAgICAgIGJhc2UsXG4gICAgICBgTm8gd2luZG93LmxvY2F0aW9uLihvcmlnaW58aHJlZikgYXZhaWxhYmxlIHRvIGNyZWF0ZSBVUkwgZm9yIGhyZWY6ICR7aHJlZn1gXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IFVSTChocmVmLCBiYXNlKTtcbiAgfVxuXG4gIGxldCBoaXN0b3J5OiBIaXN0b3J5ID0ge1xuICAgIGdldCBhY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH0sXG4gICAgZ2V0IGxvY2F0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldExvY2F0aW9uKHdpbmRvdywgZ2xvYmFsSGlzdG9yeSk7XG4gICAgfSxcbiAgICBsaXN0ZW4oZm46IExpc3RlbmVyKSB7XG4gICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBoaXN0b3J5IG9ubHkgYWNjZXB0cyBvbmUgYWN0aXZlIGxpc3RlbmVyXCIpO1xuICAgICAgfVxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudFR5cGUsIGhhbmRsZVBvcCk7XG4gICAgICBsaXN0ZW5lciA9IGZuO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50VHlwZSwgaGFuZGxlUG9wKTtcbiAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xuICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZUhyZWYodG8pIHtcbiAgICAgIHJldHVybiBjcmVhdGVIcmVmKHdpbmRvdywgdG8pO1xuICAgIH0sXG4gICAgY3JlYXRlVVJMLFxuICAgIGVuY29kZUxvY2F0aW9uKHRvKSB7XG4gICAgICAvLyBFbmNvZGUgYSBMb2NhdGlvbiB0aGUgc2FtZSB3YXkgd2luZG93LmxvY2F0aW9uIHdvdWxkXG4gICAgICBsZXQgdXJsID0gY3JlYXRlVVJMKHRvKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGhuYW1lOiB1cmwucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaDogdXJsLnNlYXJjaCxcbiAgICAgICAgaGFzaDogdXJsLmhhc2gsXG4gICAgICB9O1xuICAgIH0sXG4gICAgcHVzaCxcbiAgICByZXBsYWNlLFxuICAgIGdvKG4pIHtcbiAgICAgIHJldHVybiBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbi8vI2VuZHJlZ2lvblxuIiwgImltcG9ydCB0eXBlIHsgTG9jYXRpb24sIFBhdGgsIFRvIH0gZnJvbSBcIi4vaGlzdG9yeVwiO1xuaW1wb3J0IHsgaW52YXJpYW50LCBwYXJzZVBhdGgsIHdhcm5pbmcgfSBmcm9tIFwiLi9oaXN0b3J5XCI7XG5cbi8qKlxuICogTWFwIG9mIHJvdXRlSWQgLT4gZGF0YSByZXR1cm5lZCBmcm9tIGEgbG9hZGVyL2FjdGlvbi9lcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlRGF0YSB7XG4gIFtyb3V0ZUlkOiBzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCBlbnVtIFJlc3VsdFR5cGUge1xuICBkYXRhID0gXCJkYXRhXCIsXG4gIGRlZmVycmVkID0gXCJkZWZlcnJlZFwiLFxuICByZWRpcmVjdCA9IFwicmVkaXJlY3RcIixcbiAgZXJyb3IgPSBcImVycm9yXCIsXG59XG5cbi8qKlxuICogU3VjY2Vzc2Z1bCByZXN1bHQgZnJvbSBhIGxvYWRlciBvciBhY3Rpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWNjZXNzUmVzdWx0IHtcbiAgdHlwZTogUmVzdWx0VHlwZS5kYXRhO1xuICBkYXRhOiB1bmtub3duO1xuICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICBoZWFkZXJzPzogSGVhZGVycztcbn1cblxuLyoqXG4gKiBTdWNjZXNzZnVsIGRlZmVyKCkgcmVzdWx0IGZyb20gYSBsb2FkZXIgb3IgYWN0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGVmZXJyZWRSZXN1bHQge1xuICB0eXBlOiBSZXN1bHRUeXBlLmRlZmVycmVkO1xuICBkZWZlcnJlZERhdGE6IERlZmVycmVkRGF0YTtcbiAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgaGVhZGVycz86IEhlYWRlcnM7XG59XG5cbi8qKlxuICogUmVkaXJlY3QgcmVzdWx0IGZyb20gYSBsb2FkZXIgb3IgYWN0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVkaXJlY3RSZXN1bHQge1xuICB0eXBlOiBSZXN1bHRUeXBlLnJlZGlyZWN0O1xuICAvLyBXZSBrZWVwIHRoZSByYXcgUmVzcG9uc2UgZm9yIHJlZGlyZWN0cyBzbyB3ZSBjYW4gcmV0dXJuIGl0IHZlcmJhdGltXG4gIHJlc3BvbnNlOiBSZXNwb25zZTtcbn1cblxuLyoqXG4gKiBVbnN1Y2Nlc3NmdWwgcmVzdWx0IGZyb20gYSBsb2FkZXIgb3IgYWN0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JSZXN1bHQge1xuICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yO1xuICBlcnJvcjogdW5rbm93bjtcbiAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgaGVhZGVycz86IEhlYWRlcnM7XG59XG5cbi8qKlxuICogUmVzdWx0IGZyb20gYSBsb2FkZXIgb3IgYWN0aW9uIC0gcG90ZW50aWFsbHkgc3VjY2Vzc2Z1bCBvciB1bnN1Y2Nlc3NmdWxcbiAqL1xuZXhwb3J0IHR5cGUgRGF0YVJlc3VsdCA9XG4gIHwgU3VjY2Vzc1Jlc3VsdFxuICB8IERlZmVycmVkUmVzdWx0XG4gIHwgUmVkaXJlY3RSZXN1bHRcbiAgfCBFcnJvclJlc3VsdDtcblxudHlwZSBMb3dlckNhc2VGb3JtTWV0aG9kID0gXCJnZXRcIiB8IFwicG9zdFwiIHwgXCJwdXRcIiB8IFwicGF0Y2hcIiB8IFwiZGVsZXRlXCI7XG50eXBlIFVwcGVyQ2FzZUZvcm1NZXRob2QgPSBVcHBlcmNhc2U8TG93ZXJDYXNlRm9ybU1ldGhvZD47XG5cbi8qKlxuICogVXNlcnMgY2FuIHNwZWNpZnkgZWl0aGVyIGxvd2VyY2FzZSBvciB1cHBlcmNhc2UgZm9ybSBtZXRob2RzIG9uIGA8Rm9ybT5gLFxuICogdXNlU3VibWl0KCksIGA8ZmV0Y2hlci5Gb3JtPmAsIGV0Yy5cbiAqL1xuZXhwb3J0IHR5cGUgSFRNTEZvcm1NZXRob2QgPSBMb3dlckNhc2VGb3JtTWV0aG9kIHwgVXBwZXJDYXNlRm9ybU1ldGhvZDtcblxuLyoqXG4gKiBBY3RpdmUgbmF2aWdhdGlvbi9mZXRjaGVyIGZvcm0gbWV0aG9kcyBhcmUgZXhwb3NlZCBpbiBsb3dlcmNhc2Ugb24gdGhlXG4gKiBSb3V0ZXJTdGF0ZVxuICovXG5leHBvcnQgdHlwZSBGb3JtTWV0aG9kID0gTG93ZXJDYXNlRm9ybU1ldGhvZDtcbmV4cG9ydCB0eXBlIE11dGF0aW9uRm9ybU1ldGhvZCA9IEV4Y2x1ZGU8Rm9ybU1ldGhvZCwgXCJnZXRcIj47XG5cbi8qKlxuICogSW4gdjcsIGFjdGl2ZSBuYXZpZ2F0aW9uL2ZldGNoZXIgZm9ybSBtZXRob2RzIGFyZSBleHBvc2VkIGluIHVwcGVyY2FzZSBvbiB0aGVcbiAqIFJvdXRlclN0YXRlLiAgVGhpcyBpcyB0byBhbGlnbiB3aXRoIHRoZSBub3JtYWxpemF0aW9uIGRvbmUgdmlhIGZldGNoKCkuXG4gKi9cbmV4cG9ydCB0eXBlIFY3X0Zvcm1NZXRob2QgPSBVcHBlckNhc2VGb3JtTWV0aG9kO1xuZXhwb3J0IHR5cGUgVjdfTXV0YXRpb25Gb3JtTWV0aG9kID0gRXhjbHVkZTxWN19Gb3JtTWV0aG9kLCBcIkdFVFwiPjtcblxuZXhwb3J0IHR5cGUgRm9ybUVuY1R5cGUgPVxuICB8IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCJcbiAgfCBcIm11bHRpcGFydC9mb3JtLWRhdGFcIlxuICB8IFwiYXBwbGljYXRpb24vanNvblwiXG4gIHwgXCJ0ZXh0L3BsYWluXCI7XG5cbi8vIFRoYW5rcyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3R5cGUtZmVzdCFcbnR5cGUgSnNvbk9iamVjdCA9IHsgW0tleSBpbiBzdHJpbmddOiBKc29uVmFsdWUgfSAmIHtcbiAgW0tleSBpbiBzdHJpbmddPzogSnNvblZhbHVlIHwgdW5kZWZpbmVkO1xufTtcbnR5cGUgSnNvbkFycmF5ID0gSnNvblZhbHVlW10gfCByZWFkb25seSBKc29uVmFsdWVbXTtcbnR5cGUgSnNvblByaW1pdGl2ZSA9IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBudWxsO1xudHlwZSBKc29uVmFsdWUgPSBKc29uUHJpbWl0aXZlIHwgSnNvbk9iamVjdCB8IEpzb25BcnJheTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogSW50ZXJuYWwgaW50ZXJmYWNlIHRvIHBhc3MgYXJvdW5kIGZvciBhY3Rpb24gc3VibWlzc2lvbnMsIG5vdCBpbnRlbmRlZCBmb3JcbiAqIGV4dGVybmFsIGNvbnN1bXB0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIFN1Ym1pc3Npb24gPVxuICB8IHtcbiAgICAgIGZvcm1NZXRob2Q6IEZvcm1NZXRob2QgfCBWN19Gb3JtTWV0aG9kO1xuICAgICAgZm9ybUFjdGlvbjogc3RyaW5nO1xuICAgICAgZm9ybUVuY1R5cGU6IEZvcm1FbmNUeXBlO1xuICAgICAgZm9ybURhdGE6IEZvcm1EYXRhO1xuICAgICAganNvbjogdW5kZWZpbmVkO1xuICAgICAgdGV4dDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfCB7XG4gICAgICBmb3JtTWV0aG9kOiBGb3JtTWV0aG9kIHwgVjdfRm9ybU1ldGhvZDtcbiAgICAgIGZvcm1BY3Rpb246IHN0cmluZztcbiAgICAgIGZvcm1FbmNUeXBlOiBGb3JtRW5jVHlwZTtcbiAgICAgIGZvcm1EYXRhOiB1bmRlZmluZWQ7XG4gICAgICBqc29uOiBKc29uVmFsdWU7XG4gICAgICB0ZXh0OiB1bmRlZmluZWQ7XG4gICAgfVxuICB8IHtcbiAgICAgIGZvcm1NZXRob2Q6IEZvcm1NZXRob2QgfCBWN19Gb3JtTWV0aG9kO1xuICAgICAgZm9ybUFjdGlvbjogc3RyaW5nO1xuICAgICAgZm9ybUVuY1R5cGU6IEZvcm1FbmNUeXBlO1xuICAgICAgZm9ybURhdGE6IHVuZGVmaW5lZDtcbiAgICAgIGpzb246IHVuZGVmaW5lZDtcbiAgICAgIHRleHQ6IHN0cmluZztcbiAgICB9O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBBcmd1bWVudHMgcGFzc2VkIHRvIHJvdXRlIGxvYWRlci9hY3Rpb24gZnVuY3Rpb25zLiAgU2FtZSBmb3Igbm93IGJ1dCB3ZSBrZWVwXG4gKiB0aGlzIGFzIGEgcHJpdmF0ZSBpbXBsZW1lbnRhdGlvbiBkZXRhaWwgaW4gY2FzZSB0aGV5IGRpdmVyZ2UgaW4gdGhlIGZ1dHVyZS5cbiAqL1xuaW50ZXJmYWNlIERhdGFGdW5jdGlvbkFyZ3M8Q29udGV4dD4ge1xuICByZXF1ZXN0OiBSZXF1ZXN0O1xuICBwYXJhbXM6IFBhcmFtcztcbiAgY29udGV4dD86IENvbnRleHQ7XG59XG5cbi8vIFRPRE86ICh2NykgQ2hhbmdlIHRoZSBkZWZhdWx0cyBmcm9tIGFueSB0byB1bmtub3duIGluIGFuZCByZW1vdmUgUmVtaXggd3JhcHBlcnM6XG4vLyAgIEFjdGlvbkZ1bmN0aW9uLCBBY3Rpb25GdW5jdGlvbkFyZ3MsIExvYWRlckZ1bmN0aW9uLCBMb2FkZXJGdW5jdGlvbkFyZ3Ncbi8vICAgQWxzbywgbWFrZSB0aGVtIGEgdHlwZSBhbGlhcyBpbnN0ZWFkIG9mIGFuIGludGVyZmFjZVxuXG4vKipcbiAqIEFyZ3VtZW50cyBwYXNzZWQgdG8gbG9hZGVyIGZ1bmN0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIExvYWRlckZ1bmN0aW9uQXJnczxDb250ZXh0ID0gYW55PlxuICBleHRlbmRzIERhdGFGdW5jdGlvbkFyZ3M8Q29udGV4dD4ge31cblxuLyoqXG4gKiBBcmd1bWVudHMgcGFzc2VkIHRvIGFjdGlvbiBmdW5jdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25GdW5jdGlvbkFyZ3M8Q29udGV4dCA9IGFueT5cbiAgZXh0ZW5kcyBEYXRhRnVuY3Rpb25BcmdzPENvbnRleHQ+IHt9XG5cbi8qKlxuICogTG9hZGVycyBhbmQgYWN0aW9ucyBjYW4gcmV0dXJuIGFueXRoaW5nIGV4Y2VwdCBgdW5kZWZpbmVkYCAoYG51bGxgIGlzIGFcbiAqIHZhbGlkIHJldHVybiB2YWx1ZSBpZiB0aGVyZSBpcyBubyBkYXRhIHRvIHJldHVybikuICBSZXNwb25zZXMgYXJlIHByZWZlcnJlZFxuICogYW5kIHdpbGwgZWFzZSBhbnkgZnV0dXJlIG1pZ3JhdGlvbiB0byBSZW1peFxuICovXG50eXBlIERhdGFGdW5jdGlvblZhbHVlID0gUmVzcG9uc2UgfCBOb25OdWxsYWJsZTx1bmtub3duPiB8IG51bGw7XG5cbnR5cGUgRGF0YUZ1bmN0aW9uUmV0dXJuVmFsdWUgPSBQcm9taXNlPERhdGFGdW5jdGlvblZhbHVlPiB8IERhdGFGdW5jdGlvblZhbHVlO1xuXG4vKipcbiAqIFJvdXRlIGxvYWRlciBmdW5jdGlvbiBzaWduYXR1cmVcbiAqL1xuZXhwb3J0IHR5cGUgTG9hZGVyRnVuY3Rpb248Q29udGV4dCA9IGFueT4gPSB7XG4gIChcbiAgICBhcmdzOiBMb2FkZXJGdW5jdGlvbkFyZ3M8Q29udGV4dD4sXG4gICAgaGFuZGxlckN0eD86IHVua25vd25cbiAgKTogRGF0YUZ1bmN0aW9uUmV0dXJuVmFsdWU7XG59ICYgeyBoeWRyYXRlPzogYm9vbGVhbiB9O1xuXG4vKipcbiAqIFJvdXRlIGFjdGlvbiBmdW5jdGlvbiBzaWduYXR1cmVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25GdW5jdGlvbjxDb250ZXh0ID0gYW55PiB7XG4gIChcbiAgICBhcmdzOiBBY3Rpb25GdW5jdGlvbkFyZ3M8Q29udGV4dD4sXG4gICAgaGFuZGxlckN0eD86IHVua25vd25cbiAgKTogRGF0YUZ1bmN0aW9uUmV0dXJuVmFsdWU7XG59XG5cbi8qKlxuICogQXJndW1lbnRzIHBhc3NlZCB0byBzaG91bGRSZXZhbGlkYXRlIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uQXJncyB7XG4gIGN1cnJlbnRVcmw6IFVSTDtcbiAgY3VycmVudFBhcmFtczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtcInBhcmFtc1wiXTtcbiAgbmV4dFVybDogVVJMO1xuICBuZXh0UGFyYW1zOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW1wicGFyYW1zXCJdO1xuICBmb3JtTWV0aG9kPzogU3VibWlzc2lvbltcImZvcm1NZXRob2RcIl07XG4gIGZvcm1BY3Rpb24/OiBTdWJtaXNzaW9uW1wiZm9ybUFjdGlvblwiXTtcbiAgZm9ybUVuY1R5cGU/OiBTdWJtaXNzaW9uW1wiZm9ybUVuY1R5cGVcIl07XG4gIHRleHQ/OiBTdWJtaXNzaW9uW1widGV4dFwiXTtcbiAgZm9ybURhdGE/OiBTdWJtaXNzaW9uW1wiZm9ybURhdGFcIl07XG4gIGpzb24/OiBTdWJtaXNzaW9uW1wianNvblwiXTtcbiAgYWN0aW9uU3RhdHVzPzogbnVtYmVyO1xuICBhY3Rpb25SZXN1bHQ/OiBhbnk7XG4gIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiBib29sZWFuO1xufVxuXG4vKipcbiAqIFJvdXRlIHNob3VsZFJldmFsaWRhdGUgZnVuY3Rpb24gc2lnbmF0dXJlLiAgVGhpcyBydW5zIGFmdGVyIGFueSBzdWJtaXNzaW9uXG4gKiAobmF2aWdhdGlvbiBvciBmZXRjaGVyKSwgc28gd2UgZmxhdHRlbiB0aGUgbmF2aWdhdGlvbi9mZXRjaGVyIHN1Ym1pc3Npb25cbiAqIG9udG8gdGhlIGFyZ3VtZW50cy4gIEl0IHNob3VsZG4ndCBtYXR0ZXIgd2hldGhlciBpdCBjYW1lIGZyb20gYSBuYXZpZ2F0aW9uXG4gKiBvciBhIGZldGNoZXIsIHdoYXQgcmVhbGx5IG1hdHRlcnMgaXMgdGhlIFVSTHMgYW5kIHRoZSBmb3JtRGF0YSBzaW5jZSBsb2FkZXJzXG4gKiBoYXZlIHRvIHJlLXJ1biBiYXNlZCBvbiB0aGUgZGF0YSBtb2RlbHMgdGhhdCB3ZXJlIHBvdGVudGlhbGx5IG11dGF0ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uIHtcbiAgKGFyZ3M6IFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbkFyZ3MpOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHByb3ZpZGVkIGJ5IHRoZSBmcmFtZXdvcmstYXdhcmUgbGF5ZXJzIHRvIHNldCBgaGFzRXJyb3JCb3VuZGFyeWBcbiAqIGZyb20gdGhlIGZyYW1ld29yay1hd2FyZSBgZXJyb3JFbGVtZW50YCBwcm9wXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBtYXBSb3V0ZVByb3BlcnRpZXNgIGluc3RlYWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXRlY3RFcnJvckJvdW5kYXJ5RnVuY3Rpb24ge1xuICAocm91dGU6IEFnbm9zdGljUm91dGVPYmplY3QpOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTdHJhdGVneU1hdGNoXG4gIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU1hdGNoPHN0cmluZywgQWdub3N0aWNEYXRhUm91dGVPYmplY3Q+IHtcbiAgc2hvdWxkTG9hZDogYm9vbGVhbjtcbiAgcmVzb2x2ZTogKFxuICAgIGhhbmRsZXJPdmVycmlkZT86IChcbiAgICAgIGhhbmRsZXI6IChjdHg/OiB1bmtub3duKSA9PiBEYXRhRnVuY3Rpb25SZXR1cm5WYWx1ZVxuICAgICkgPT4gRGF0YUZ1bmN0aW9uUmV0dXJuVmFsdWVcbiAgKSA9PiBQcm9taXNlPERhdGFTdHJhdGVneVJlc3VsdD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVN0cmF0ZWd5RnVuY3Rpb25BcmdzPENvbnRleHQgPSBhbnk+XG4gIGV4dGVuZHMgRGF0YUZ1bmN0aW9uQXJnczxDb250ZXh0PiB7XG4gIG1hdGNoZXM6IERhdGFTdHJhdGVneU1hdGNoW107XG4gIGZldGNoZXJLZXk6IHN0cmluZyB8IG51bGw7XG59XG5cbi8qKlxuICogUmVzdWx0IGZyb20gYSBsb2FkZXIgb3IgYWN0aW9uIGNhbGxlZCB2aWEgZGF0YVN0cmF0ZWd5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVN0cmF0ZWd5UmVzdWx0IHtcbiAgdHlwZTogXCJkYXRhXCIgfCBcImVycm9yXCI7XG4gIHJlc3VsdDogdW5rbm93bjsgLy8gZGF0YSwgRXJyb3IsIFJlc3BvbnNlLCBEZWZlcnJlZERhdGEsIERhdGFXaXRoUmVzcG9uc2VJbml0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVN0cmF0ZWd5RnVuY3Rpb24ge1xuICAoYXJnczogRGF0YVN0cmF0ZWd5RnVuY3Rpb25BcmdzKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBEYXRhU3RyYXRlZ3lSZXN1bHQ+Pjtcbn1cblxuZXhwb3J0IHR5cGUgQWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uQXJnczxcbiAgTyBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3QgPSBBZ25vc3RpY1JvdXRlT2JqZWN0LFxuICBNIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU1hdGNoID0gQWdub3N0aWNSb3V0ZU1hdGNoXG4+ID0ge1xuICBzaWduYWw6IEFib3J0U2lnbmFsO1xuICBwYXRoOiBzdHJpbmc7XG4gIG1hdGNoZXM6IE1bXTtcbiAgZmV0Y2hlcktleTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBwYXRjaDogKHJvdXRlSWQ6IHN0cmluZyB8IG51bGwsIGNoaWxkcmVuOiBPW10pID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgdHlwZSBBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb248XG4gIE8gZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0ID0gQWdub3N0aWNSb3V0ZU9iamVjdCxcbiAgTSBleHRlbmRzIEFnbm9zdGljUm91dGVNYXRjaCA9IEFnbm9zdGljUm91dGVNYXRjaFxuPiA9IChcbiAgb3B0czogQWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uQXJnczxPLCBNPlxuKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcblxuLyoqXG4gKiBGdW5jdGlvbiBwcm92aWRlZCBieSB0aGUgZnJhbWV3b3JrLWF3YXJlIGxheWVycyB0byBzZXQgYW55IGZyYW1ld29yay1zcGVjaWZpY1xuICogcHJvcGVydGllcyBmcm9tIGZyYW1ld29yay1hZ25vc3RpYyBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb24ge1xuICAocm91dGU6IEFnbm9zdGljUm91dGVPYmplY3QpOiB7XG4gICAgaGFzRXJyb3JCb3VuZGFyeTogYm9vbGVhbjtcbiAgfSAmIFJlY29yZDxzdHJpbmcsIGFueT47XG59XG5cbi8qKlxuICogS2V5cyB3ZSBjYW5ub3QgY2hhbmdlIGZyb20gd2l0aGluIGEgbGF6eSgpIGZ1bmN0aW9uLiBXZSBzcHJlYWQgYWxsIG90aGVyIGtleXNcbiAqIG9udG8gdGhlIHJvdXRlLiBFaXRoZXIgdGhleSdyZSBtZWFuaW5nZnVsIHRvIHRoZSByb3V0ZXIsIG9yIHRoZXknbGwgZ2V0XG4gKiBpZ25vcmVkLlxuICovXG5leHBvcnQgdHlwZSBJbW11dGFibGVSb3V0ZUtleSA9XG4gIHwgXCJsYXp5XCJcbiAgfCBcImNhc2VTZW5zaXRpdmVcIlxuICB8IFwicGF0aFwiXG4gIHwgXCJpZFwiXG4gIHwgXCJpbmRleFwiXG4gIHwgXCJjaGlsZHJlblwiO1xuXG5leHBvcnQgY29uc3QgaW1tdXRhYmxlUm91dGVLZXlzID0gbmV3IFNldDxJbW11dGFibGVSb3V0ZUtleT4oW1xuICBcImxhenlcIixcbiAgXCJjYXNlU2Vuc2l0aXZlXCIsXG4gIFwicGF0aFwiLFxuICBcImlkXCIsXG4gIFwiaW5kZXhcIixcbiAgXCJjaGlsZHJlblwiLFxuXSk7XG5cbnR5cGUgUmVxdWlyZU9uZTxULCBLZXkgPSBrZXlvZiBUPiA9IEV4Y2x1ZGU8XG4gIHtcbiAgICBbSyBpbiBrZXlvZiBUXTogSyBleHRlbmRzIEtleSA/IE9taXQ8VCwgSz4gJiBSZXF1aXJlZDxQaWNrPFQsIEs+PiA6IG5ldmVyO1xuICB9W2tleW9mIFRdLFxuICB1bmRlZmluZWRcbj47XG5cbi8qKlxuICogbGF6eSgpIGZ1bmN0aW9uIHRvIGxvYWQgYSByb3V0ZSBkZWZpbml0aW9uLCB3aGljaCBjYW4gYWRkIG5vbi1tYXRjaGluZ1xuICogcmVsYXRlZCBwcm9wZXJ0aWVzIHRvIGEgcm91dGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMYXp5Um91dGVGdW5jdGlvbjxSIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdD4ge1xuICAoKTogUHJvbWlzZTxSZXF1aXJlT25lPE9taXQ8UiwgSW1tdXRhYmxlUm91dGVLZXk+Pj47XG59XG5cbi8qKlxuICogQmFzZSBSb3V0ZU9iamVjdCB3aXRoIGNvbW1vbiBwcm9wcyBzaGFyZWQgYnkgYWxsIHR5cGVzIG9mIHJvdXRlc1xuICovXG50eXBlIEFnbm9zdGljQmFzZVJvdXRlT2JqZWN0ID0ge1xuICBjYXNlU2Vuc2l0aXZlPzogYm9vbGVhbjtcbiAgcGF0aD86IHN0cmluZztcbiAgaWQ/OiBzdHJpbmc7XG4gIGxvYWRlcj86IExvYWRlckZ1bmN0aW9uIHwgYm9vbGVhbjtcbiAgYWN0aW9uPzogQWN0aW9uRnVuY3Rpb24gfCBib29sZWFuO1xuICBoYXNFcnJvckJvdW5kYXJ5PzogYm9vbGVhbjtcbiAgc2hvdWxkUmV2YWxpZGF0ZT86IFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbjtcbiAgaGFuZGxlPzogYW55O1xuICBsYXp5PzogTGF6eVJvdXRlRnVuY3Rpb248QWdub3N0aWNCYXNlUm91dGVPYmplY3Q+O1xufTtcblxuLyoqXG4gKiBJbmRleCByb3V0ZXMgbXVzdCBub3QgaGF2ZSBjaGlsZHJlblxuICovXG5leHBvcnQgdHlwZSBBZ25vc3RpY0luZGV4Um91dGVPYmplY3QgPSBBZ25vc3RpY0Jhc2VSb3V0ZU9iamVjdCAmIHtcbiAgY2hpbGRyZW4/OiB1bmRlZmluZWQ7XG4gIGluZGV4OiB0cnVlO1xufTtcblxuLyoqXG4gKiBOb24taW5kZXggcm91dGVzIG1heSBoYXZlIGNoaWxkcmVuLCBidXQgY2Fubm90IGhhdmUgaW5kZXhcbiAqL1xuZXhwb3J0IHR5cGUgQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0ID0gQWdub3N0aWNCYXNlUm91dGVPYmplY3QgJiB7XG4gIGNoaWxkcmVuPzogQWdub3N0aWNSb3V0ZU9iamVjdFtdO1xuICBpbmRleD86IGZhbHNlO1xufTtcblxuLyoqXG4gKiBBIHJvdXRlIG9iamVjdCByZXByZXNlbnRzIGEgbG9naWNhbCByb3V0ZSwgd2l0aCAob3B0aW9uYWxseSkgaXRzIGNoaWxkXG4gKiByb3V0ZXMgb3JnYW5pemVkIGluIGEgdHJlZS1saWtlIHN0cnVjdHVyZS5cbiAqL1xuZXhwb3J0IHR5cGUgQWdub3N0aWNSb3V0ZU9iamVjdCA9XG4gIHwgQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0XG4gIHwgQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0O1xuXG5leHBvcnQgdHlwZSBBZ25vc3RpY0RhdGFJbmRleFJvdXRlT2JqZWN0ID0gQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0ICYge1xuICBpZDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgQWdub3N0aWNEYXRhTm9uSW5kZXhSb3V0ZU9iamVjdCA9IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdCAmIHtcbiAgY2hpbGRyZW4/OiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdO1xuICBpZDogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBBIGRhdGEgcm91dGUgb2JqZWN0LCB3aGljaCBpcyBqdXN0IGEgUm91dGVPYmplY3Qgd2l0aCBhIHJlcXVpcmVkIHVuaXF1ZSBJRFxuICovXG5leHBvcnQgdHlwZSBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdCA9XG4gIHwgQWdub3N0aWNEYXRhSW5kZXhSb3V0ZU9iamVjdFxuICB8IEFnbm9zdGljRGF0YU5vbkluZGV4Um91dGVPYmplY3Q7XG5cbmV4cG9ydCB0eXBlIFJvdXRlTWFuaWZlc3QgPSBSZWNvcmQ8c3RyaW5nLCBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdCB8IHVuZGVmaW5lZD47XG5cbi8vIFJlY3Vyc2l2ZSBoZWxwZXIgZm9yIGZpbmRpbmcgcGF0aCBwYXJhbWV0ZXJzIGluIHRoZSBhYnNlbmNlIG9mIHdpbGRjYXJkc1xudHlwZSBfUGF0aFBhcmFtPFBhdGggZXh0ZW5kcyBzdHJpbmc+ID1cbiAgLy8gc3BsaXQgcGF0aCBpbnRvIGluZGl2aWR1YWwgcGF0aCBzZWdtZW50c1xuICBQYXRoIGV4dGVuZHMgYCR7aW5mZXIgTH0vJHtpbmZlciBSfWBcbiAgICA/IF9QYXRoUGFyYW08TD4gfCBfUGF0aFBhcmFtPFI+XG4gICAgOiAvLyBmaW5kIHBhcmFtcyBhZnRlciBgOmBcbiAgICBQYXRoIGV4dGVuZHMgYDoke2luZmVyIFBhcmFtfWBcbiAgICA/IFBhcmFtIGV4dGVuZHMgYCR7aW5mZXIgT3B0aW9uYWx9P2BcbiAgICAgID8gT3B0aW9uYWxcbiAgICAgIDogUGFyYW1cbiAgICA6IC8vIG90aGVyd2lzZSwgdGhlcmUgYXJlbid0IGFueSBwYXJhbXMgcHJlc2VudFxuICAgICAgbmV2ZXI7XG5cbi8qKlxuICogRXhhbXBsZXM6XG4gKiBcIi9hL2IvKlwiIC0+IFwiKlwiXG4gKiBcIjphXCIgLT4gXCJhXCJcbiAqIFwiL2EvOmJcIiAtPiBcImJcIlxuICogXCIvYS9ibGFoYmxhaGJsYWg6YlwiIC0+IFwiYlwiXG4gKiBcIi86YS86YlwiIC0+IFwiYVwiIHwgXCJiXCJcbiAqIFwiLzphL2IvOmMvKlwiIC0+IFwiYVwiIHwgXCJjXCIgfCBcIipcIlxuICovXG5leHBvcnQgdHlwZSBQYXRoUGFyYW08UGF0aCBleHRlbmRzIHN0cmluZz4gPVxuICAvLyBjaGVjayBpZiBwYXRoIGlzIGp1c3QgYSB3aWxkY2FyZFxuICBQYXRoIGV4dGVuZHMgXCIqXCIgfCBcIi8qXCJcbiAgICA/IFwiKlwiXG4gICAgOiAvLyBsb29rIGZvciB3aWxkY2FyZCBhdCB0aGUgZW5kIG9mIHRoZSBwYXRoXG4gICAgUGF0aCBleHRlbmRzIGAke2luZmVyIFJlc3R9LypgXG4gICAgPyBcIipcIiB8IF9QYXRoUGFyYW08UmVzdD5cbiAgICA6IC8vIGxvb2sgZm9yIHBhcmFtcyBpbiB0aGUgYWJzZW5jZSBvZiB3aWxkY2FyZHNcbiAgICAgIF9QYXRoUGFyYW08UGF0aD47XG5cbi8vIEF0dGVtcHQgdG8gcGFyc2UgdGhlIGdpdmVuIHN0cmluZyBzZWdtZW50LiBJZiBpdCBmYWlscywgdGhlbiBqdXN0IHJldHVybiB0aGVcbi8vIHBsYWluIHN0cmluZyB0eXBlIGFzIGEgZGVmYXVsdCBmYWxsYmFjay4gT3RoZXJ3aXNlLCByZXR1cm4gdGhlIHVuaW9uIG9mIHRoZVxuLy8gcGFyc2VkIHN0cmluZyBsaXRlcmFscyB0aGF0IHdlcmUgcmVmZXJlbmNlZCBhcyBkeW5hbWljIHNlZ21lbnRzIGluIHRoZSByb3V0ZS5cbmV4cG9ydCB0eXBlIFBhcmFtUGFyc2VLZXk8U2VnbWVudCBleHRlbmRzIHN0cmluZz4gPVxuICAvLyBpZiB5b3UgY291bGQgbm90IGZpbmQgcGF0aCBwYXJhbXMsIGZhbGxiYWNrIHRvIGBzdHJpbmdgXG4gIFtQYXRoUGFyYW08U2VnbWVudD5dIGV4dGVuZHMgW25ldmVyXSA/IHN0cmluZyA6IFBhdGhQYXJhbTxTZWdtZW50PjtcblxuLyoqXG4gKiBUaGUgcGFyYW1ldGVycyB0aGF0IHdlcmUgcGFyc2VkIGZyb20gdGhlIFVSTCBwYXRoLlxuICovXG5leHBvcnQgdHlwZSBQYXJhbXM8S2V5IGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nPiA9IHtcbiAgcmVhZG9ubHkgW2tleSBpbiBLZXldOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIEEgUm91dGVNYXRjaCBjb250YWlucyBpbmZvIGFib3V0IGhvdyBhIHJvdXRlIG1hdGNoZWQgYSBVUkwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWdub3N0aWNSb3V0ZU1hdGNoPFxuICBQYXJhbUtleSBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcbiAgUm91dGVPYmplY3RUeXBlIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdCA9IEFnbm9zdGljUm91dGVPYmplY3Rcbj4ge1xuICAvKipcbiAgICogVGhlIG5hbWVzIGFuZCB2YWx1ZXMgb2YgZHluYW1pYyBwYXJhbWV0ZXJzIGluIHRoZSBVUkwuXG4gICAqL1xuICBwYXJhbXM6IFBhcmFtczxQYXJhbUtleT47XG4gIC8qKlxuICAgKiBUaGUgcG9ydGlvbiBvZiB0aGUgVVJMIHBhdGhuYW1lIHRoYXQgd2FzIG1hdGNoZWQuXG4gICAqL1xuICBwYXRobmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHBvcnRpb24gb2YgdGhlIFVSTCBwYXRobmFtZSB0aGF0IHdhcyBtYXRjaGVkIGJlZm9yZSBjaGlsZCByb3V0ZXMuXG4gICAqL1xuICBwYXRobmFtZUJhc2U6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSByb3V0ZSBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBtYXRjaC5cbiAgICovXG4gIHJvdXRlOiBSb3V0ZU9iamVjdFR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWdub3N0aWNEYXRhUm91dGVNYXRjaFxuICBleHRlbmRzIEFnbm9zdGljUm91dGVNYXRjaDxzdHJpbmcsIEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0PiB7fVxuXG5mdW5jdGlvbiBpc0luZGV4Um91dGUoXG4gIHJvdXRlOiBBZ25vc3RpY1JvdXRlT2JqZWN0XG4pOiByb3V0ZSBpcyBBZ25vc3RpY0luZGV4Um91dGVPYmplY3Qge1xuICByZXR1cm4gcm91dGUuaW5kZXggPT09IHRydWU7XG59XG5cbi8vIFdhbGsgdGhlIHJvdXRlIHRyZWUgZ2VuZXJhdGluZyB1bmlxdWUgSURzIHdoZXJlIG5lY2Vzc2FyeSwgc28gd2UgYXJlIHdvcmtpbmdcbi8vIHNvbGVseSB3aXRoIEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0J3Mgd2l0aGluIHRoZSBSb3V0ZXJcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICByb3V0ZXM6IEFnbm9zdGljUm91dGVPYmplY3RbXSxcbiAgbWFwUm91dGVQcm9wZXJ0aWVzOiBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbixcbiAgcGFyZW50UGF0aDogc3RyaW5nW10gPSBbXSxcbiAgbWFuaWZlc3Q6IFJvdXRlTWFuaWZlc3QgPSB7fVxuKTogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXSB7XG4gIHJldHVybiByb3V0ZXMubWFwKChyb3V0ZSwgaW5kZXgpID0+IHtcbiAgICBsZXQgdHJlZVBhdGggPSBbLi4ucGFyZW50UGF0aCwgU3RyaW5nKGluZGV4KV07XG4gICAgbGV0IGlkID0gdHlwZW9mIHJvdXRlLmlkID09PSBcInN0cmluZ1wiID8gcm91dGUuaWQgOiB0cmVlUGF0aC5qb2luKFwiLVwiKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByb3V0ZS5pbmRleCAhPT0gdHJ1ZSB8fCAhcm91dGUuY2hpbGRyZW4sXG4gICAgICBgQ2Fubm90IHNwZWNpZnkgY2hpbGRyZW4gb24gYW4gaW5kZXggcm91dGVgXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhbWFuaWZlc3RbaWRdLFxuICAgICAgYEZvdW5kIGEgcm91dGUgaWQgY29sbGlzaW9uIG9uIGlkIFwiJHtpZH1cIi4gIFJvdXRlIGAgK1xuICAgICAgICBcImlkJ3MgbXVzdCBiZSBnbG9iYWxseSB1bmlxdWUgd2l0aGluIERhdGEgUm91dGVyIHVzYWdlc1wiXG4gICAgKTtcblxuICAgIGlmIChpc0luZGV4Um91dGUocm91dGUpKSB7XG4gICAgICBsZXQgaW5kZXhSb3V0ZTogQWdub3N0aWNEYXRhSW5kZXhSb3V0ZU9iamVjdCA9IHtcbiAgICAgICAgLi4ucm91dGUsXG4gICAgICAgIC4uLm1hcFJvdXRlUHJvcGVydGllcyhyb3V0ZSksXG4gICAgICAgIGlkLFxuICAgICAgfTtcbiAgICAgIG1hbmlmZXN0W2lkXSA9IGluZGV4Um91dGU7XG4gICAgICByZXR1cm4gaW5kZXhSb3V0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHBhdGhPckxheW91dFJvdXRlOiBBZ25vc3RpY0RhdGFOb25JbmRleFJvdXRlT2JqZWN0ID0ge1xuICAgICAgICAuLi5yb3V0ZSxcbiAgICAgICAgLi4ubWFwUm91dGVQcm9wZXJ0aWVzKHJvdXRlKSxcbiAgICAgICAgaWQsXG4gICAgICAgIGNoaWxkcmVuOiB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgICAgbWFuaWZlc3RbaWRdID0gcGF0aE9yTGF5b3V0Um91dGU7XG5cbiAgICAgIGlmIChyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgICBwYXRoT3JMYXlvdXRSb3V0ZS5jaGlsZHJlbiA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgICAgICAgcm91dGUuY2hpbGRyZW4sXG4gICAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgICAgICAgIHRyZWVQYXRoLFxuICAgICAgICAgIG1hbmlmZXN0XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoT3JMYXlvdXRSb3V0ZTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIE1hdGNoZXMgdGhlIGdpdmVuIHJvdXRlcyB0byBhIGxvY2F0aW9uIGFuZCByZXR1cm5zIHRoZSBtYXRjaCBkYXRhLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXRpbHMvbWF0Y2gtcm91dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaFJvdXRlczxcbiAgUm91dGVPYmplY3RUeXBlIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdCA9IEFnbm9zdGljUm91dGVPYmplY3Rcbj4oXG4gIHJvdXRlczogUm91dGVPYmplY3RUeXBlW10sXG4gIGxvY2F0aW9uQXJnOiBQYXJ0aWFsPExvY2F0aW9uPiB8IHN0cmluZyxcbiAgYmFzZW5hbWUgPSBcIi9cIlxuKTogQWdub3N0aWNSb3V0ZU1hdGNoPHN0cmluZywgUm91dGVPYmplY3RUeXBlPltdIHwgbnVsbCB7XG4gIHJldHVybiBtYXRjaFJvdXRlc0ltcGwocm91dGVzLCBsb2NhdGlvbkFyZywgYmFzZW5hbWUsIGZhbHNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoUm91dGVzSW1wbDxcbiAgUm91dGVPYmplY3RUeXBlIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdCA9IEFnbm9zdGljUm91dGVPYmplY3Rcbj4oXG4gIHJvdXRlczogUm91dGVPYmplY3RUeXBlW10sXG4gIGxvY2F0aW9uQXJnOiBQYXJ0aWFsPExvY2F0aW9uPiB8IHN0cmluZyxcbiAgYmFzZW5hbWU6IHN0cmluZyxcbiAgYWxsb3dQYXJ0aWFsOiBib29sZWFuXG4pOiBBZ25vc3RpY1JvdXRlTWF0Y2g8c3RyaW5nLCBSb3V0ZU9iamVjdFR5cGU+W10gfCBudWxsIHtcbiAgbGV0IGxvY2F0aW9uID1cbiAgICB0eXBlb2YgbG9jYXRpb25BcmcgPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgobG9jYXRpb25BcmcpIDogbG9jYXRpb25Bcmc7XG5cbiAgbGV0IHBhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShsb2NhdGlvbi5wYXRobmFtZSB8fCBcIi9cIiwgYmFzZW5hbWUpO1xuXG4gIGlmIChwYXRobmFtZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZXQgYnJhbmNoZXMgPSBmbGF0dGVuUm91dGVzKHJvdXRlcyk7XG4gIHJhbmtSb3V0ZUJyYW5jaGVzKGJyYW5jaGVzKTtcblxuICBsZXQgbWF0Y2hlcyA9IG51bGw7XG4gIGZvciAobGV0IGkgPSAwOyBtYXRjaGVzID09IG51bGwgJiYgaSA8IGJyYW5jaGVzLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gSW5jb21pbmcgcGF0aG5hbWVzIGFyZSBnZW5lcmFsbHkgZW5jb2RlZCBmcm9tIGVpdGhlciB3aW5kb3cubG9jYXRpb25cbiAgICAvLyBvciBmcm9tIHJvdXRlci5uYXZpZ2F0ZSwgYnV0IHdlIHdhbnQgdG8gbWF0Y2ggYWdhaW5zdCB0aGUgdW5lbmNvZGVkXG4gICAgLy8gcGF0aHMgaW4gdGhlIHJvdXRlIGRlZmluaXRpb25zLiAgTWVtb3J5IHJvdXRlciBsb2NhdGlvbnMgd29uJ3QgYmVcbiAgICAvLyBlbmNvZGVkIGhlcmUgYnV0IHRoZXJlIGFsc28gc2hvdWxkbid0IGJlIGFueXRoaW5nIHRvIGRlY29kZSBzbyB0aGlzXG4gICAgLy8gc2hvdWxkIGJlIGEgc2FmZSBvcGVyYXRpb24uICBUaGlzIGF2b2lkcyBuZWVkaW5nIG1hdGNoUm91dGVzIHRvIGJlXG4gICAgLy8gaGlzdG9yeS1hd2FyZS5cbiAgICBsZXQgZGVjb2RlZCA9IGRlY29kZVBhdGgocGF0aG5hbWUpO1xuICAgIG1hdGNoZXMgPSBtYXRjaFJvdXRlQnJhbmNoPHN0cmluZywgUm91dGVPYmplY3RUeXBlPihcbiAgICAgIGJyYW5jaGVzW2ldLFxuICAgICAgZGVjb2RlZCxcbiAgICAgIGFsbG93UGFydGlhbFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVSU1hdGNoPERhdGEgPSB1bmtub3duLCBIYW5kbGUgPSB1bmtub3duPiB7XG4gIGlkOiBzdHJpbmc7XG4gIHBhdGhuYW1lOiBzdHJpbmc7XG4gIHBhcmFtczogQWdub3N0aWNSb3V0ZU1hdGNoW1wicGFyYW1zXCJdO1xuICBkYXRhOiBEYXRhO1xuICBoYW5kbGU6IEhhbmRsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoKFxuICBtYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCxcbiAgbG9hZGVyRGF0YTogUm91dGVEYXRhXG4pOiBVSU1hdGNoIHtcbiAgbGV0IHsgcm91dGUsIHBhdGhuYW1lLCBwYXJhbXMgfSA9IG1hdGNoO1xuICByZXR1cm4ge1xuICAgIGlkOiByb3V0ZS5pZCxcbiAgICBwYXRobmFtZSxcbiAgICBwYXJhbXMsXG4gICAgZGF0YTogbG9hZGVyRGF0YVtyb3V0ZS5pZF0sXG4gICAgaGFuZGxlOiByb3V0ZS5oYW5kbGUsXG4gIH07XG59XG5cbmludGVyZmFjZSBSb3V0ZU1ldGE8XG4gIFJvdXRlT2JqZWN0VHlwZSBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3QgPSBBZ25vc3RpY1JvdXRlT2JqZWN0XG4+IHtcbiAgcmVsYXRpdmVQYXRoOiBzdHJpbmc7XG4gIGNhc2VTZW5zaXRpdmU6IGJvb2xlYW47XG4gIGNoaWxkcmVuSW5kZXg6IG51bWJlcjtcbiAgcm91dGU6IFJvdXRlT2JqZWN0VHlwZTtcbn1cblxuaW50ZXJmYWNlIFJvdXRlQnJhbmNoPFxuICBSb3V0ZU9iamVjdFR5cGUgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0ID0gQWdub3N0aWNSb3V0ZU9iamVjdFxuPiB7XG4gIHBhdGg6IHN0cmluZztcbiAgc2NvcmU6IG51bWJlcjtcbiAgcm91dGVzTWV0YTogUm91dGVNZXRhPFJvdXRlT2JqZWN0VHlwZT5bXTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlblJvdXRlczxcbiAgUm91dGVPYmplY3RUeXBlIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdCA9IEFnbm9zdGljUm91dGVPYmplY3Rcbj4oXG4gIHJvdXRlczogUm91dGVPYmplY3RUeXBlW10sXG4gIGJyYW5jaGVzOiBSb3V0ZUJyYW5jaDxSb3V0ZU9iamVjdFR5cGU+W10gPSBbXSxcbiAgcGFyZW50c01ldGE6IFJvdXRlTWV0YTxSb3V0ZU9iamVjdFR5cGU+W10gPSBbXSxcbiAgcGFyZW50UGF0aCA9IFwiXCJcbik6IFJvdXRlQnJhbmNoPFJvdXRlT2JqZWN0VHlwZT5bXSB7XG4gIGxldCBmbGF0dGVuUm91dGUgPSAoXG4gICAgcm91dGU6IFJvdXRlT2JqZWN0VHlwZSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHJlbGF0aXZlUGF0aD86IHN0cmluZ1xuICApID0+IHtcbiAgICBsZXQgbWV0YTogUm91dGVNZXRhPFJvdXRlT2JqZWN0VHlwZT4gPSB7XG4gICAgICByZWxhdGl2ZVBhdGg6XG4gICAgICAgIHJlbGF0aXZlUGF0aCA9PT0gdW5kZWZpbmVkID8gcm91dGUucGF0aCB8fCBcIlwiIDogcmVsYXRpdmVQYXRoLFxuICAgICAgY2FzZVNlbnNpdGl2ZTogcm91dGUuY2FzZVNlbnNpdGl2ZSA9PT0gdHJ1ZSxcbiAgICAgIGNoaWxkcmVuSW5kZXg6IGluZGV4LFxuICAgICAgcm91dGUsXG4gICAgfTtcblxuICAgIGlmIChtZXRhLnJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBtZXRhLnJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKHBhcmVudFBhdGgpLFxuICAgICAgICBgQWJzb2x1dGUgcm91dGUgcGF0aCBcIiR7bWV0YS5yZWxhdGl2ZVBhdGh9XCIgbmVzdGVkIHVuZGVyIHBhdGggYCArXG4gICAgICAgICAgYFwiJHtwYXJlbnRQYXRofVwiIGlzIG5vdCB2YWxpZC4gQW4gYWJzb2x1dGUgY2hpbGQgcm91dGUgcGF0aCBgICtcbiAgICAgICAgICBgbXVzdCBzdGFydCB3aXRoIHRoZSBjb21iaW5lZCBwYXRoIG9mIGFsbCBpdHMgcGFyZW50IHJvdXRlcy5gXG4gICAgICApO1xuXG4gICAgICBtZXRhLnJlbGF0aXZlUGF0aCA9IG1ldGEucmVsYXRpdmVQYXRoLnNsaWNlKHBhcmVudFBhdGgubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBsZXQgcGF0aCA9IGpvaW5QYXRocyhbcGFyZW50UGF0aCwgbWV0YS5yZWxhdGl2ZVBhdGhdKTtcbiAgICBsZXQgcm91dGVzTWV0YSA9IHBhcmVudHNNZXRhLmNvbmNhdChtZXRhKTtcblxuICAgIC8vIEFkZCB0aGUgY2hpbGRyZW4gYmVmb3JlIGFkZGluZyB0aGlzIHJvdXRlIHRvIHRoZSBhcnJheSwgc28gd2UgdHJhdmVyc2UgdGhlXG4gICAgLy8gcm91dGUgdHJlZSBkZXB0aC1maXJzdCBhbmQgY2hpbGQgcm91dGVzIGFwcGVhciBiZWZvcmUgdGhlaXIgcGFyZW50cyBpblxuICAgIC8vIHRoZSBcImZsYXR0ZW5lZFwiIHZlcnNpb24uXG4gICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgLy8gT3VyIHR5cGVzIGtub3cgYmV0dGVyLCBidXQgcnVudGltZSBKUyBtYXkgbm90IVxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIHJvdXRlLmluZGV4ICE9PSB0cnVlLFxuICAgICAgICBgSW5kZXggcm91dGVzIG11c3Qgbm90IGhhdmUgY2hpbGQgcm91dGVzLiBQbGVhc2UgcmVtb3ZlIGAgK1xuICAgICAgICAgIGBhbGwgY2hpbGQgcm91dGVzIGZyb20gcm91dGUgcGF0aCBcIiR7cGF0aH1cIi5gXG4gICAgICApO1xuICAgICAgZmxhdHRlblJvdXRlcyhyb3V0ZS5jaGlsZHJlbiwgYnJhbmNoZXMsIHJvdXRlc01ldGEsIHBhdGgpO1xuICAgIH1cblxuICAgIC8vIFJvdXRlcyB3aXRob3V0IGEgcGF0aCBzaG91bGRuJ3QgZXZlciBtYXRjaCBieSB0aGVtc2VsdmVzIHVubGVzcyB0aGV5IGFyZVxuICAgIC8vIGluZGV4IHJvdXRlcywgc28gZG9uJ3QgYWRkIHRoZW0gdG8gdGhlIGxpc3Qgb2YgcG9zc2libGUgYnJhbmNoZXMuXG4gICAgaWYgKHJvdXRlLnBhdGggPT0gbnVsbCAmJiAhcm91dGUuaW5kZXgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBicmFuY2hlcy5wdXNoKHtcbiAgICAgIHBhdGgsXG4gICAgICBzY29yZTogY29tcHV0ZVNjb3JlKHBhdGgsIHJvdXRlLmluZGV4KSxcbiAgICAgIHJvdXRlc01ldGEsXG4gICAgfSk7XG4gIH07XG4gIHJvdXRlcy5mb3JFYWNoKChyb3V0ZSwgaW5kZXgpID0+IHtcbiAgICAvLyBjb2Fyc2UtZ3JhaW4gY2hlY2sgZm9yIG9wdGlvbmFsIHBhcmFtc1xuICAgIGlmIChyb3V0ZS5wYXRoID09PSBcIlwiIHx8ICFyb3V0ZS5wYXRoPy5pbmNsdWRlcyhcIj9cIikpIHtcbiAgICAgIGZsYXR0ZW5Sb3V0ZShyb3V0ZSwgaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBleHBsb2RlZCBvZiBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhyb3V0ZS5wYXRoKSkge1xuICAgICAgICBmbGF0dGVuUm91dGUocm91dGUsIGluZGV4LCBleHBsb2RlZCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gYnJhbmNoZXM7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgYWxsIGNvbWJpbmF0aW9ucyBvZiBvcHRpb25hbCBwYXRoIHNlZ21lbnRzIGZvciBhIGdpdmVuIHBhdGgsXG4gKiBleGNsdWRpbmcgY29tYmluYXRpb25zIHRoYXQgYXJlIGFtYmlndW91cyBhbmQgb2YgbG93ZXIgcHJpb3JpdHkuXG4gKlxuICogRm9yIGV4YW1wbGUsIGAvb25lLzp0d28/L3RocmVlLzpmb3VyPy86Zml2ZT9gIGV4cGxvZGVzIHRvOlxuICogLSBgL29uZS90aHJlZWBcbiAqIC0gYC9vbmUvOnR3by90aHJlZWBcbiAqIC0gYC9vbmUvdGhyZWUvOmZvdXJgXG4gKiAtIGAvb25lL3RocmVlLzpmaXZlYFxuICogLSBgL29uZS86dHdvL3RocmVlLzpmb3VyYFxuICogLSBgL29uZS86dHdvL3RocmVlLzpmaXZlYFxuICogLSBgL29uZS90aHJlZS86Zm91ci86Zml2ZWBcbiAqIC0gYC9vbmUvOnR3by90aHJlZS86Zm91ci86Zml2ZWBcbiAqL1xuZnVuY3Rpb24gZXhwbG9kZU9wdGlvbmFsU2VnbWVudHMocGF0aDogc3RyaW5nKTogc3RyaW5nW10ge1xuICBsZXQgc2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgaWYgKHNlZ21lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuXG4gIGxldCBbZmlyc3QsIC4uLnJlc3RdID0gc2VnbWVudHM7XG5cbiAgLy8gT3B0aW9uYWwgcGF0aCBzZWdtZW50cyBhcmUgZGVub3RlZCBieSBhIHRyYWlsaW5nIGA/YFxuICBsZXQgaXNPcHRpb25hbCA9IGZpcnN0LmVuZHNXaXRoKFwiP1wiKTtcbiAgLy8gQ29tcHV0ZSB0aGUgY29ycmVzcG9uZGluZyByZXF1aXJlZCBzZWdtZW50OiBgZm9vP2AgLT4gYGZvb2BcbiAgbGV0IHJlcXVpcmVkID0gZmlyc3QucmVwbGFjZSgvXFw/JC8sIFwiXCIpO1xuXG4gIGlmIChyZXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIEludGVwcmV0IGVtcHR5IHN0cmluZyBhcyBvbWl0dGluZyBhbiBvcHRpb25hbCBzZWdtZW50XG4gICAgLy8gYFtcIm9uZVwiLCBcIlwiLCBcInRocmVlXCJdYCBjb3JyZXNwb25kcyB0byBvbWl0dGluZyBgOnR3b2AgZnJvbSBgL29uZS86dHdvPy90aHJlZWAgLT4gYC9vbmUvdGhyZWVgXG4gICAgcmV0dXJuIGlzT3B0aW9uYWwgPyBbcmVxdWlyZWQsIFwiXCJdIDogW3JlcXVpcmVkXTtcbiAgfVxuXG4gIGxldCByZXN0RXhwbG9kZWQgPSBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhyZXN0LmpvaW4oXCIvXCIpKTtcblxuICBsZXQgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuXG4gIC8vIEFsbCBjaGlsZCBwYXRocyB3aXRoIHRoZSBwcmVmaXguICBEbyB0aGlzIGZvciBhbGwgY2hpbGRyZW4gYmVmb3JlIHRoZVxuICAvLyBvcHRpb25hbCB2ZXJzaW9uIGZvciBhbGwgY2hpbGRyZW4sIHNvIHdlIGdldCBjb25zaXN0ZW50IG9yZGVyaW5nIHdoZXJlIHRoZVxuICAvLyBwYXJlbnQgb3B0aW9uYWwgYXNwZWN0IGlzIHByZWZlcnJlZCBhcyByZXF1aXJlZC4gIE90aGVyd2lzZSwgd2UgY2FuIGdldFxuICAvLyBjaGlsZCBzZWN0aW9ucyBpbnRlcnNwZXJzZWQgd2hlcmUgZGVlcGVyIG9wdGlvbmFsIHNlZ21lbnRzIGFyZSBoaWdoZXIgdGhhblxuICAvLyBwYXJlbnQgb3B0aW9uYWwgc2VnbWVudHMsIHdoZXJlIGZvciBleGFtcGxlLCAvOnR3byB3b3VsZCBleHBsb2RlIF9lYXJsaWVyX1xuICAvLyB0aGVuIC86b25lLiAgQnkgYWx3YXlzIGluY2x1ZGluZyB0aGUgcGFyZW50IGFzIHJlcXVpcmVkIF9mb3IgYWxsIGNoaWxkcmVuX1xuICAvLyBmaXJzdCwgd2UgYXZvaWQgdGhpcyBpc3N1ZVxuICByZXN1bHQucHVzaChcbiAgICAuLi5yZXN0RXhwbG9kZWQubWFwKChzdWJwYXRoKSA9PlxuICAgICAgc3VicGF0aCA9PT0gXCJcIiA/IHJlcXVpcmVkIDogW3JlcXVpcmVkLCBzdWJwYXRoXS5qb2luKFwiL1wiKVxuICAgIClcbiAgKTtcblxuICAvLyBUaGVuLCBpZiB0aGlzIGlzIGFuIG9wdGlvbmFsIHZhbHVlLCBhZGQgYWxsIGNoaWxkIHZlcnNpb25zIHdpdGhvdXRcbiAgaWYgKGlzT3B0aW9uYWwpIHtcbiAgICByZXN1bHQucHVzaCguLi5yZXN0RXhwbG9kZWQpO1xuICB9XG5cbiAgLy8gZm9yIGFic29sdXRlIHBhdGhzLCBlbnN1cmUgYC9gIGluc3RlYWQgb2YgZW1wdHkgc2VnbWVudFxuICByZXR1cm4gcmVzdWx0Lm1hcCgoZXhwbG9kZWQpID0+XG4gICAgcGF0aC5zdGFydHNXaXRoKFwiL1wiKSAmJiBleHBsb2RlZCA9PT0gXCJcIiA/IFwiL1wiIDogZXhwbG9kZWRcbiAgKTtcbn1cblxuZnVuY3Rpb24gcmFua1JvdXRlQnJhbmNoZXMoYnJhbmNoZXM6IFJvdXRlQnJhbmNoW10pOiB2b2lkIHtcbiAgYnJhbmNoZXMuc29ydCgoYSwgYikgPT5cbiAgICBhLnNjb3JlICE9PSBiLnNjb3JlXG4gICAgICA/IGIuc2NvcmUgLSBhLnNjb3JlIC8vIEhpZ2hlciBzY29yZSBmaXJzdFxuICAgICAgOiBjb21wYXJlSW5kZXhlcyhcbiAgICAgICAgICBhLnJvdXRlc01ldGEubWFwKChtZXRhKSA9PiBtZXRhLmNoaWxkcmVuSW5kZXgpLFxuICAgICAgICAgIGIucm91dGVzTWV0YS5tYXAoKG1ldGEpID0+IG1ldGEuY2hpbGRyZW5JbmRleClcbiAgICAgICAgKVxuICApO1xufVxuXG5jb25zdCBwYXJhbVJlID0gL146W1xcdy1dKyQvO1xuY29uc3QgZHluYW1pY1NlZ21lbnRWYWx1ZSA9IDM7XG5jb25zdCBpbmRleFJvdXRlVmFsdWUgPSAyO1xuY29uc3QgZW1wdHlTZWdtZW50VmFsdWUgPSAxO1xuY29uc3Qgc3RhdGljU2VnbWVudFZhbHVlID0gMTA7XG5jb25zdCBzcGxhdFBlbmFsdHkgPSAtMjtcbmNvbnN0IGlzU3BsYXQgPSAoczogc3RyaW5nKSA9PiBzID09PSBcIipcIjtcblxuZnVuY3Rpb24gY29tcHV0ZVNjb3JlKHBhdGg6IHN0cmluZywgaW5kZXg6IGJvb2xlYW4gfCB1bmRlZmluZWQpOiBudW1iZXIge1xuICBsZXQgc2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgbGV0IGluaXRpYWxTY29yZSA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgaWYgKHNlZ21lbnRzLnNvbWUoaXNTcGxhdCkpIHtcbiAgICBpbml0aWFsU2NvcmUgKz0gc3BsYXRQZW5hbHR5O1xuICB9XG5cbiAgaWYgKGluZGV4KSB7XG4gICAgaW5pdGlhbFNjb3JlICs9IGluZGV4Um91dGVWYWx1ZTtcbiAgfVxuXG4gIHJldHVybiBzZWdtZW50c1xuICAgIC5maWx0ZXIoKHMpID0+ICFpc1NwbGF0KHMpKVxuICAgIC5yZWR1Y2UoXG4gICAgICAoc2NvcmUsIHNlZ21lbnQpID0+XG4gICAgICAgIHNjb3JlICtcbiAgICAgICAgKHBhcmFtUmUudGVzdChzZWdtZW50KVxuICAgICAgICAgID8gZHluYW1pY1NlZ21lbnRWYWx1ZVxuICAgICAgICAgIDogc2VnbWVudCA9PT0gXCJcIlxuICAgICAgICAgID8gZW1wdHlTZWdtZW50VmFsdWVcbiAgICAgICAgICA6IHN0YXRpY1NlZ21lbnRWYWx1ZSksXG4gICAgICBpbml0aWFsU2NvcmVcbiAgICApO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlSW5kZXhlcyhhOiBudW1iZXJbXSwgYjogbnVtYmVyW10pOiBudW1iZXIge1xuICBsZXQgc2libGluZ3MgPVxuICAgIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLnNsaWNlKDAsIC0xKS5ldmVyeSgobiwgaSkgPT4gbiA9PT0gYltpXSk7XG5cbiAgcmV0dXJuIHNpYmxpbmdzXG4gICAgPyAvLyBJZiB0d28gcm91dGVzIGFyZSBzaWJsaW5ncywgd2Ugc2hvdWxkIHRyeSB0byBtYXRjaCB0aGUgZWFybGllciBzaWJsaW5nXG4gICAgICAvLyBmaXJzdC4gVGhpcyBhbGxvd3MgcGVvcGxlIHRvIGhhdmUgZmluZS1ncmFpbmVkIGNvbnRyb2wgb3ZlciB0aGUgbWF0Y2hpbmdcbiAgICAgIC8vIGJlaGF2aW9yIGJ5IHNpbXBseSBwdXR0aW5nIHJvdXRlcyB3aXRoIGlkZW50aWNhbCBwYXRocyBpbiB0aGUgb3JkZXIgdGhleVxuICAgICAgLy8gd2FudCB0aGVtIHRyaWVkLlxuICAgICAgYVthLmxlbmd0aCAtIDFdIC0gYltiLmxlbmd0aCAtIDFdXG4gICAgOiAvLyBPdGhlcndpc2UsIGl0IGRvZXNuJ3QgcmVhbGx5IG1ha2Ugc2Vuc2UgdG8gcmFuayBub24tc2libGluZ3MgYnkgaW5kZXgsXG4gICAgICAvLyBzbyB0aGV5IHNvcnQgZXF1YWxseS5cbiAgICAgIDA7XG59XG5cbmZ1bmN0aW9uIG1hdGNoUm91dGVCcmFuY2g8XG4gIFBhcmFtS2V5IGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuICBSb3V0ZU9iamVjdFR5cGUgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0ID0gQWdub3N0aWNSb3V0ZU9iamVjdFxuPihcbiAgYnJhbmNoOiBSb3V0ZUJyYW5jaDxSb3V0ZU9iamVjdFR5cGU+LFxuICBwYXRobmFtZTogc3RyaW5nLFxuICBhbGxvd1BhcnRpYWwgPSBmYWxzZVxuKTogQWdub3N0aWNSb3V0ZU1hdGNoPFBhcmFtS2V5LCBSb3V0ZU9iamVjdFR5cGU+W10gfCBudWxsIHtcbiAgbGV0IHsgcm91dGVzTWV0YSB9ID0gYnJhbmNoO1xuXG4gIGxldCBtYXRjaGVkUGFyYW1zID0ge307XG4gIGxldCBtYXRjaGVkUGF0aG5hbWUgPSBcIi9cIjtcbiAgbGV0IG1hdGNoZXM6IEFnbm9zdGljUm91dGVNYXRjaDxQYXJhbUtleSwgUm91dGVPYmplY3RUeXBlPltdID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcm91dGVzTWV0YS5sZW5ndGg7ICsraSkge1xuICAgIGxldCBtZXRhID0gcm91dGVzTWV0YVtpXTtcbiAgICBsZXQgZW5kID0gaSA9PT0gcm91dGVzTWV0YS5sZW5ndGggLSAxO1xuICAgIGxldCByZW1haW5pbmdQYXRobmFtZSA9XG4gICAgICBtYXRjaGVkUGF0aG5hbWUgPT09IFwiL1wiXG4gICAgICAgID8gcGF0aG5hbWVcbiAgICAgICAgOiBwYXRobmFtZS5zbGljZShtYXRjaGVkUGF0aG5hbWUubGVuZ3RoKSB8fCBcIi9cIjtcbiAgICBsZXQgbWF0Y2ggPSBtYXRjaFBhdGgoXG4gICAgICB7IHBhdGg6IG1ldGEucmVsYXRpdmVQYXRoLCBjYXNlU2Vuc2l0aXZlOiBtZXRhLmNhc2VTZW5zaXRpdmUsIGVuZCB9LFxuICAgICAgcmVtYWluaW5nUGF0aG5hbWVcbiAgICApO1xuXG4gICAgbGV0IHJvdXRlID0gbWV0YS5yb3V0ZTtcblxuICAgIGlmIChcbiAgICAgICFtYXRjaCAmJlxuICAgICAgZW5kICYmXG4gICAgICBhbGxvd1BhcnRpYWwgJiZcbiAgICAgICFyb3V0ZXNNZXRhW3JvdXRlc01ldGEubGVuZ3RoIC0gMV0ucm91dGUuaW5kZXhcbiAgICApIHtcbiAgICAgIG1hdGNoID0gbWF0Y2hQYXRoKFxuICAgICAgICB7XG4gICAgICAgICAgcGF0aDogbWV0YS5yZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgY2FzZVNlbnNpdGl2ZTogbWV0YS5jYXNlU2Vuc2l0aXZlLFxuICAgICAgICAgIGVuZDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIE9iamVjdC5hc3NpZ24obWF0Y2hlZFBhcmFtcywgbWF0Y2gucGFyYW1zKTtcblxuICAgIG1hdGNoZXMucHVzaCh7XG4gICAgICAvLyBUT0RPOiBDYW4gdGhpcyBhcyBiZSBhdm9pZGVkP1xuICAgICAgcGFyYW1zOiBtYXRjaGVkUGFyYW1zIGFzIFBhcmFtczxQYXJhbUtleT4sXG4gICAgICBwYXRobmFtZTogam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lXSksXG4gICAgICBwYXRobmFtZUJhc2U6IG5vcm1hbGl6ZVBhdGhuYW1lKFxuICAgICAgICBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVCYXNlXSlcbiAgICAgICksXG4gICAgICByb3V0ZSxcbiAgICB9KTtcblxuICAgIGlmIChtYXRjaC5wYXRobmFtZUJhc2UgIT09IFwiL1wiKSB7XG4gICAgICBtYXRjaGVkUGF0aG5hbWUgPSBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVCYXNlXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHBhdGggd2l0aCBwYXJhbXMgaW50ZXJwb2xhdGVkLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXRpbHMvZ2VuZXJhdGUtcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQYXRoPFBhdGggZXh0ZW5kcyBzdHJpbmc+KFxuICBvcmlnaW5hbFBhdGg6IFBhdGgsXG4gIHBhcmFtczoge1xuICAgIFtrZXkgaW4gUGF0aFBhcmFtPFBhdGg+XTogc3RyaW5nIHwgbnVsbDtcbiAgfSA9IHt9IGFzIGFueVxuKTogc3RyaW5nIHtcbiAgbGV0IHBhdGg6IHN0cmluZyA9IG9yaWdpbmFsUGF0aDtcbiAgaWYgKHBhdGguZW5kc1dpdGgoXCIqXCIpICYmIHBhdGggIT09IFwiKlwiICYmICFwYXRoLmVuZHNXaXRoKFwiLypcIikpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBgUm91dGUgcGF0aCBcIiR7cGF0aH1cIiB3aWxsIGJlIHRyZWF0ZWQgYXMgaWYgaXQgd2VyZSBgICtcbiAgICAgICAgYFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiIGJlY2F1c2UgdGhlIFxcYCpcXGAgY2hhcmFjdGVyIG11c3QgYCArXG4gICAgICAgIGBhbHdheXMgZm9sbG93IGEgXFxgL1xcYCBpbiB0aGUgcGF0dGVybi4gVG8gZ2V0IHJpZCBvZiB0aGlzIHdhcm5pbmcsIGAgK1xuICAgICAgICBgcGxlYXNlIGNoYW5nZSB0aGUgcm91dGUgcGF0aCB0byBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIi5gXG4gICAgKTtcbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKSBhcyBQYXRoO1xuICB9XG5cbiAgLy8gZW5zdXJlIGAvYCBpcyBhZGRlZCBhdCB0aGUgYmVnaW5uaW5nIGlmIHRoZSBwYXRoIGlzIGFic29sdXRlXG4gIGNvbnN0IHByZWZpeCA9IHBhdGguc3RhcnRzV2l0aChcIi9cIikgPyBcIi9cIiA6IFwiXCI7XG5cbiAgY29uc3Qgc3RyaW5naWZ5ID0gKHA6IGFueSkgPT5cbiAgICBwID09IG51bGwgPyBcIlwiIDogdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyBwIDogU3RyaW5nKHApO1xuXG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aFxuICAgIC5zcGxpdCgvXFwvKy8pXG4gICAgLm1hcCgoc2VnbWVudCwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgICBjb25zdCBpc0xhc3RTZWdtZW50ID0gaW5kZXggPT09IGFycmF5Lmxlbmd0aCAtIDE7XG5cbiAgICAgIC8vIG9ubHkgYXBwbHkgdGhlIHNwbGF0IGlmIGl0J3MgdGhlIGxhc3Qgc2VnbWVudFxuICAgICAgaWYgKGlzTGFzdFNlZ21lbnQgJiYgc2VnbWVudCA9PT0gXCIqXCIpIHtcbiAgICAgICAgY29uc3Qgc3RhciA9IFwiKlwiIGFzIFBhdGhQYXJhbTxQYXRoPjtcbiAgICAgICAgLy8gQXBwbHkgdGhlIHNwbGF0XG4gICAgICAgIHJldHVybiBzdHJpbmdpZnkocGFyYW1zW3N0YXJdKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qga2V5TWF0Y2ggPSBzZWdtZW50Lm1hdGNoKC9eOihbXFx3LV0rKShcXD8/KSQvKTtcbiAgICAgIGlmIChrZXlNYXRjaCkge1xuICAgICAgICBjb25zdCBbLCBrZXksIG9wdGlvbmFsXSA9IGtleU1hdGNoO1xuICAgICAgICBsZXQgcGFyYW0gPSBwYXJhbXNba2V5IGFzIFBhdGhQYXJhbTxQYXRoPl07XG4gICAgICAgIGludmFyaWFudChvcHRpb25hbCA9PT0gXCI/XCIgfHwgcGFyYW0gIT0gbnVsbCwgYE1pc3NpbmcgXCI6JHtrZXl9XCIgcGFyYW1gKTtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeShwYXJhbSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBhbnkgb3B0aW9uYWwgbWFya2VycyBmcm9tIG9wdGlvbmFsIHN0YXRpYyBzZWdtZW50c1xuICAgICAgcmV0dXJuIHNlZ21lbnQucmVwbGFjZSgvXFw/JC9nLCBcIlwiKTtcbiAgICB9KVxuICAgIC8vIFJlbW92ZSBlbXB0eSBzZWdtZW50c1xuICAgIC5maWx0ZXIoKHNlZ21lbnQpID0+ICEhc2VnbWVudCk7XG5cbiAgcmV0dXJuIHByZWZpeCArIHNlZ21lbnRzLmpvaW4oXCIvXCIpO1xufVxuXG4vKipcbiAqIEEgUGF0aFBhdHRlcm4gaXMgdXNlZCB0byBtYXRjaCBvbiBzb21lIHBvcnRpb24gb2YgYSBVUkwgcGF0aG5hbWUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGF0aFBhdHRlcm48UGF0aCBleHRlbmRzIHN0cmluZyA9IHN0cmluZz4ge1xuICAvKipcbiAgICogQSBzdHJpbmcgdG8gbWF0Y2ggYWdhaW5zdCBhIFVSTCBwYXRobmFtZS4gTWF5IGNvbnRhaW4gYDppZGAtc3R5bGUgc2VnbWVudHNcbiAgICogdG8gaW5kaWNhdGUgcGxhY2Vob2xkZXJzIGZvciBkeW5hbWljIHBhcmFtZXRlcnMuIE1heSBhbHNvIGVuZCB3aXRoIGAvKmAgdG9cbiAgICogaW5kaWNhdGUgbWF0Y2hpbmcgdGhlIHJlc3Qgb2YgdGhlIFVSTCBwYXRobmFtZS5cbiAgICovXG4gIHBhdGg6IFBhdGg7XG4gIC8qKlxuICAgKiBTaG91bGQgYmUgYHRydWVgIGlmIHRoZSBzdGF0aWMgcG9ydGlvbnMgb2YgdGhlIGBwYXRoYCBzaG91bGQgYmUgbWF0Y2hlZCBpblxuICAgKiB0aGUgc2FtZSBjYXNlLlxuICAgKi9cbiAgY2FzZVNlbnNpdGl2ZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTaG91bGQgYmUgYHRydWVgIGlmIHRoaXMgcGF0dGVybiBzaG91bGQgbWF0Y2ggdGhlIGVudGlyZSBVUkwgcGF0aG5hbWUuXG4gICAqL1xuICBlbmQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEEgUGF0aE1hdGNoIGNvbnRhaW5zIGluZm8gYWJvdXQgaG93IGEgUGF0aFBhdHRlcm4gbWF0Y2hlZCBvbiBhIFVSTCBwYXRobmFtZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXRoTWF0Y2g8UGFyYW1LZXkgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmc+IHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lcyBhbmQgdmFsdWVzIG9mIGR5bmFtaWMgcGFyYW1ldGVycyBpbiB0aGUgVVJMLlxuICAgKi9cbiAgcGFyYW1zOiBQYXJhbXM8UGFyYW1LZXk+O1xuICAvKipcbiAgICogVGhlIHBvcnRpb24gb2YgdGhlIFVSTCBwYXRobmFtZSB0aGF0IHdhcyBtYXRjaGVkLlxuICAgKi9cbiAgcGF0aG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBwb3J0aW9uIG9mIHRoZSBVUkwgcGF0aG5hbWUgdGhhdCB3YXMgbWF0Y2hlZCBiZWZvcmUgY2hpbGQgcm91dGVzLlxuICAgKi9cbiAgcGF0aG5hbWVCYXNlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgcGF0dGVybiB0aGF0IHdhcyB1c2VkIHRvIG1hdGNoLlxuICAgKi9cbiAgcGF0dGVybjogUGF0aFBhdHRlcm47XG59XG5cbnR5cGUgTXV0YWJsZTxUPiA9IHtcbiAgLXJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBUW1BdO1xufTtcblxuLyoqXG4gKiBQZXJmb3JtcyBwYXR0ZXJuIG1hdGNoaW5nIG9uIGEgVVJMIHBhdGhuYW1lIGFuZCByZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0XG4gKiB0aGUgbWF0Y2guXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91dGlscy9tYXRjaC1wYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaFBhdGg8XG4gIFBhcmFtS2V5IGV4dGVuZHMgUGFyYW1QYXJzZUtleTxQYXRoPixcbiAgUGF0aCBleHRlbmRzIHN0cmluZ1xuPihcbiAgcGF0dGVybjogUGF0aFBhdHRlcm48UGF0aD4gfCBQYXRoLFxuICBwYXRobmFtZTogc3RyaW5nXG4pOiBQYXRoTWF0Y2g8UGFyYW1LZXk+IHwgbnVsbCB7XG4gIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gXCJzdHJpbmdcIikge1xuICAgIHBhdHRlcm4gPSB7IHBhdGg6IHBhdHRlcm4sIGNhc2VTZW5zaXRpdmU6IGZhbHNlLCBlbmQ6IHRydWUgfTtcbiAgfVxuXG4gIGxldCBbbWF0Y2hlciwgY29tcGlsZWRQYXJhbXNdID0gY29tcGlsZVBhdGgoXG4gICAgcGF0dGVybi5wYXRoLFxuICAgIHBhdHRlcm4uY2FzZVNlbnNpdGl2ZSxcbiAgICBwYXR0ZXJuLmVuZFxuICApO1xuXG4gIGxldCBtYXRjaCA9IHBhdGhuYW1lLm1hdGNoKG1hdGNoZXIpO1xuICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcblxuICBsZXQgbWF0Y2hlZFBhdGhuYW1lID0gbWF0Y2hbMF07XG4gIGxldCBwYXRobmFtZUJhc2UgPSBtYXRjaGVkUGF0aG5hbWUucmVwbGFjZSgvKC4pXFwvKyQvLCBcIiQxXCIpO1xuICBsZXQgY2FwdHVyZUdyb3VwcyA9IG1hdGNoLnNsaWNlKDEpO1xuICBsZXQgcGFyYW1zOiBQYXJhbXMgPSBjb21waWxlZFBhcmFtcy5yZWR1Y2U8TXV0YWJsZTxQYXJhbXM+PihcbiAgICAobWVtbywgeyBwYXJhbU5hbWUsIGlzT3B0aW9uYWwgfSwgaW5kZXgpID0+IHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gY29tcHV0ZSB0aGUgcGF0aG5hbWVCYXNlIGhlcmUgdXNpbmcgdGhlIHJhdyBzcGxhdCB2YWx1ZVxuICAgICAgLy8gaW5zdGVhZCBvZiB1c2luZyBwYXJhbXNbXCIqXCJdIGxhdGVyIGJlY2F1c2UgaXQgd2lsbCBiZSBkZWNvZGVkIHRoZW5cbiAgICAgIGlmIChwYXJhbU5hbWUgPT09IFwiKlwiKSB7XG4gICAgICAgIGxldCBzcGxhdFZhbHVlID0gY2FwdHVyZUdyb3Vwc1tpbmRleF0gfHwgXCJcIjtcbiAgICAgICAgcGF0aG5hbWVCYXNlID0gbWF0Y2hlZFBhdGhuYW1lXG4gICAgICAgICAgLnNsaWNlKDAsIG1hdGNoZWRQYXRobmFtZS5sZW5ndGggLSBzcGxhdFZhbHVlLmxlbmd0aClcbiAgICAgICAgICAucmVwbGFjZSgvKC4pXFwvKyQvLCBcIiQxXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2YWx1ZSA9IGNhcHR1cmVHcm91cHNbaW5kZXhdO1xuICAgICAgaWYgKGlzT3B0aW9uYWwgJiYgIXZhbHVlKSB7XG4gICAgICAgIG1lbW9bcGFyYW1OYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbW9bcGFyYW1OYW1lXSA9ICh2YWx1ZSB8fCBcIlwiKS5yZXBsYWNlKC8lMkYvZywgXCIvXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfSxcbiAgICB7fVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgcGFyYW1zLFxuICAgIHBhdGhuYW1lOiBtYXRjaGVkUGF0aG5hbWUsXG4gICAgcGF0aG5hbWVCYXNlLFxuICAgIHBhdHRlcm4sXG4gIH07XG59XG5cbnR5cGUgQ29tcGlsZWRQYXRoUGFyYW0gPSB7IHBhcmFtTmFtZTogc3RyaW5nOyBpc09wdGlvbmFsPzogYm9vbGVhbiB9O1xuXG5mdW5jdGlvbiBjb21waWxlUGF0aChcbiAgcGF0aDogc3RyaW5nLFxuICBjYXNlU2Vuc2l0aXZlID0gZmFsc2UsXG4gIGVuZCA9IHRydWVcbik6IFtSZWdFeHAsIENvbXBpbGVkUGF0aFBhcmFtW11dIHtcbiAgd2FybmluZyhcbiAgICBwYXRoID09PSBcIipcIiB8fCAhcGF0aC5lbmRzV2l0aChcIipcIikgfHwgcGF0aC5lbmRzV2l0aChcIi8qXCIpLFxuICAgIGBSb3V0ZSBwYXRoIFwiJHtwYXRofVwiIHdpbGwgYmUgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIGAgK1xuICAgICAgYFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiIGJlY2F1c2UgdGhlIFxcYCpcXGAgY2hhcmFjdGVyIG11c3QgYCArXG4gICAgICBgYWx3YXlzIGZvbGxvdyBhIFxcYC9cXGAgaW4gdGhlIHBhdHRlcm4uIFRvIGdldCByaWQgb2YgdGhpcyB3YXJuaW5nLCBgICtcbiAgICAgIGBwbGVhc2UgY2hhbmdlIHRoZSByb3V0ZSBwYXRoIHRvIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiLmBcbiAgKTtcblxuICBsZXQgcGFyYW1zOiBDb21waWxlZFBhdGhQYXJhbVtdID0gW107XG4gIGxldCByZWdleHBTb3VyY2UgPVxuICAgIFwiXlwiICtcbiAgICBwYXRoXG4gICAgICAucmVwbGFjZSgvXFwvKlxcKj8kLywgXCJcIikgLy8gSWdub3JlIHRyYWlsaW5nIC8gYW5kIC8qLCB3ZSdsbCBoYW5kbGUgaXQgYmVsb3dcbiAgICAgIC5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKSAvLyBNYWtlIHN1cmUgaXQgaGFzIGEgbGVhZGluZyAvXG4gICAgICAucmVwbGFjZSgvW1xcXFwuKiteJHt9fCgpW1xcXV0vZywgXCJcXFxcJCZcIikgLy8gRXNjYXBlIHNwZWNpYWwgcmVnZXggY2hhcnNcbiAgICAgIC5yZXBsYWNlKFxuICAgICAgICAvXFwvOihbXFx3LV0rKShcXD8pPy9nLFxuICAgICAgICAoXzogc3RyaW5nLCBwYXJhbU5hbWU6IHN0cmluZywgaXNPcHRpb25hbCkgPT4ge1xuICAgICAgICAgIHBhcmFtcy5wdXNoKHsgcGFyYW1OYW1lLCBpc09wdGlvbmFsOiBpc09wdGlvbmFsICE9IG51bGwgfSk7XG4gICAgICAgICAgcmV0dXJuIGlzT3B0aW9uYWwgPyBcIi8/KFteXFxcXC9dKyk/XCIgOiBcIi8oW15cXFxcL10rKVwiO1xuICAgICAgICB9XG4gICAgICApO1xuXG4gIGlmIChwYXRoLmVuZHNXaXRoKFwiKlwiKSkge1xuICAgIHBhcmFtcy5wdXNoKHsgcGFyYW1OYW1lOiBcIipcIiB9KTtcbiAgICByZWdleHBTb3VyY2UgKz1cbiAgICAgIHBhdGggPT09IFwiKlwiIHx8IHBhdGggPT09IFwiLypcIlxuICAgICAgICA/IFwiKC4qKSRcIiAvLyBBbHJlYWR5IG1hdGNoZWQgdGhlIGluaXRpYWwgLywganVzdCBtYXRjaCB0aGUgcmVzdFxuICAgICAgICA6IFwiKD86XFxcXC8oLispfFxcXFwvKikkXCI7IC8vIERvbid0IGluY2x1ZGUgdGhlIC8gaW4gcGFyYW1zW1wiKlwiXVxuICB9IGVsc2UgaWYgKGVuZCkge1xuICAgIC8vIFdoZW4gbWF0Y2hpbmcgdG8gdGhlIGVuZCwgaWdub3JlIHRyYWlsaW5nIHNsYXNoZXNcbiAgICByZWdleHBTb3VyY2UgKz0gXCJcXFxcLyokXCI7XG4gIH0gZWxzZSBpZiAocGF0aCAhPT0gXCJcIiAmJiBwYXRoICE9PSBcIi9cIikge1xuICAgIC8vIElmIG91ciBwYXRoIGlzIG5vbi1lbXB0eSBhbmQgY29udGFpbnMgYW55dGhpbmcgYmV5b25kIGFuIGluaXRpYWwgc2xhc2gsXG4gICAgLy8gdGhlbiB3ZSBoYXZlIF9zb21lXyBmb3JtIG9mIHBhdGggaW4gb3VyIHJlZ2V4LCBzbyB3ZSBzaG91bGQgZXhwZWN0IHRvXG4gICAgLy8gbWF0Y2ggb25seSBpZiB3ZSBmaW5kIHRoZSBlbmQgb2YgdGhpcyBwYXRoIHNlZ21lbnQuICBMb29rIGZvciBhbiBvcHRpb25hbFxuICAgIC8vIG5vbi1jYXB0dXJlZCB0cmFpbGluZyBzbGFzaCAodG8gbWF0Y2ggYSBwb3J0aW9uIG9mIHRoZSBVUkwpIG9yIHRoZSBlbmRcbiAgICAvLyBvZiB0aGUgcGF0aCAoaWYgd2UndmUgbWF0Y2hlZCB0byB0aGUgZW5kKS4gIFdlIHVzZWQgdG8gZG8gdGhpcyB3aXRoIGFcbiAgICAvLyB3b3JkIGJvdW5kYXJ5IGJ1dCB0aGF0IGdpdmVzIGZhbHNlIHBvc2l0aXZlcyBvbiByb3V0ZXMgbGlrZVxuICAgIC8vIC91c2VyLXByZWZlcmVuY2VzIHNpbmNlIGAtYCBjb3VudHMgYXMgYSB3b3JkIGJvdW5kYXJ5LlxuICAgIHJlZ2V4cFNvdXJjZSArPSBcIig/Oig/PVxcXFwvfCQpKVwiO1xuICB9IGVsc2Uge1xuICAgIC8vIE5vdGhpbmcgdG8gbWF0Y2ggZm9yIFwiXCIgb3IgXCIvXCJcbiAgfVxuXG4gIGxldCBtYXRjaGVyID0gbmV3IFJlZ0V4cChyZWdleHBTb3VyY2UsIGNhc2VTZW5zaXRpdmUgPyB1bmRlZmluZWQgOiBcImlcIik7XG5cbiAgcmV0dXJuIFttYXRjaGVyLCBwYXJhbXNdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlUGF0aCh2YWx1ZTogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gICAgICAuc3BsaXQoXCIvXCIpXG4gICAgICAubWFwKCh2KSA9PiBkZWNvZGVVUklDb21wb25lbnQodikucmVwbGFjZSgvXFwvL2csIFwiJTJGXCIpKVxuICAgICAgLmpvaW4oXCIvXCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgIGBUaGUgVVJMIHBhdGggXCIke3ZhbHVlfVwiIGNvdWxkIG5vdCBiZSBkZWNvZGVkIGJlY2F1c2UgaXQgaXMgaXMgYSBgICtcbiAgICAgICAgYG1hbGZvcm1lZCBVUkwgc2VnbWVudC4gVGhpcyBpcyBwcm9iYWJseSBkdWUgdG8gYSBiYWQgcGVyY2VudCBgICtcbiAgICAgICAgYGVuY29kaW5nICgke2Vycm9yfSkuYFxuICAgICk7XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShcbiAgcGF0aG5hbWU6IHN0cmluZyxcbiAgYmFzZW5hbWU6IHN0cmluZ1xuKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmIChiYXNlbmFtZSA9PT0gXCIvXCIpIHJldHVybiBwYXRobmFtZTtcblxuICBpZiAoIXBhdGhuYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChiYXNlbmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gV2Ugd2FudCB0byBsZWF2ZSB0cmFpbGluZyBzbGFzaCBiZWhhdmlvciBpbiB0aGUgdXNlcidzIGNvbnRyb2wsIHNvIGlmIHRoZXlcbiAgLy8gc3BlY2lmeSBhIGJhc2VuYW1lIHdpdGggYSB0cmFpbGluZyBzbGFzaCwgd2Ugc2hvdWxkIHN1cHBvcnQgaXRcbiAgbGV0IHN0YXJ0SW5kZXggPSBiYXNlbmFtZS5lbmRzV2l0aChcIi9cIilcbiAgICA/IGJhc2VuYW1lLmxlbmd0aCAtIDFcbiAgICA6IGJhc2VuYW1lLmxlbmd0aDtcbiAgbGV0IG5leHRDaGFyID0gcGF0aG5hbWUuY2hhckF0KHN0YXJ0SW5kZXgpO1xuICBpZiAobmV4dENoYXIgJiYgbmV4dENoYXIgIT09IFwiL1wiKSB7XG4gICAgLy8gcGF0aG5hbWUgZG9lcyBub3Qgc3RhcnQgd2l0aCBiYXNlbmFtZS9cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBwYXRobmFtZS5zbGljZShzdGFydEluZGV4KSB8fCBcIi9cIjtcbn1cblxuY29uc3QgQUJTT0xVVEVfVVJMX1JFR0VYID0gL14oPzpbYS16XVthLXowLTkrLi1dKjp8XFwvXFwvKS9pO1xuZXhwb3J0IGNvbnN0IGlzQWJzb2x1dGVVcmwgPSAodXJsOiBzdHJpbmcpID0+IEFCU09MVVRFX1VSTF9SRUdFWC50ZXN0KHVybCk7XG5cbi8qKlxuICogUmV0dXJucyBhIHJlc29sdmVkIHBhdGggb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBnaXZlbiBwYXRobmFtZS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3V0aWxzL3Jlc29sdmUtcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVBhdGgodG86IFRvLCBmcm9tUGF0aG5hbWUgPSBcIi9cIik6IFBhdGgge1xuICBsZXQge1xuICAgIHBhdGhuYW1lOiB0b1BhdGhuYW1lLFxuICAgIHNlYXJjaCA9IFwiXCIsXG4gICAgaGFzaCA9IFwiXCIsXG4gIH0gPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgodG8pIDogdG87XG5cbiAgbGV0IHBhdGhuYW1lOiBzdHJpbmc7XG4gIGlmICh0b1BhdGhuYW1lKSB7XG4gICAgaWYgKGlzQWJzb2x1dGVVcmwodG9QYXRobmFtZSkpIHtcbiAgICAgIHBhdGhuYW1lID0gdG9QYXRobmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRvUGF0aG5hbWUuaW5jbHVkZXMoXCIvL1wiKSkge1xuICAgICAgICBsZXQgb2xkUGF0aG5hbWUgPSB0b1BhdGhuYW1lO1xuICAgICAgICB0b1BhdGhuYW1lID0gdG9QYXRobmFtZS5yZXBsYWNlKC9cXC9cXC8rL2csIFwiL1wiKTtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBgUGF0aG5hbWVzIGNhbm5vdCBoYXZlIGVtYmVkZGVkIGRvdWJsZSBzbGFzaGVzIC0gbm9ybWFsaXppbmcgYCArXG4gICAgICAgICAgICBgJHtvbGRQYXRobmFtZX0gLT4gJHt0b1BhdGhuYW1lfWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0b1BhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHBhdGhuYW1lID0gcmVzb2x2ZVBhdGhuYW1lKHRvUGF0aG5hbWUuc3Vic3RyaW5nKDEpLCBcIi9cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZSh0b1BhdGhuYW1lLCBmcm9tUGF0aG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBwYXRobmFtZSA9IGZyb21QYXRobmFtZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBub3JtYWxpemVTZWFyY2goc2VhcmNoKSxcbiAgICBoYXNoOiBub3JtYWxpemVIYXNoKGhhc2gpLFxuICB9O1xufVxuXG5mdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUocmVsYXRpdmVQYXRoOiBzdHJpbmcsIGZyb21QYXRobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IHNlZ21lbnRzID0gZnJvbVBhdGhuYW1lLnJlcGxhY2UoL1xcLyskLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICBsZXQgcmVsYXRpdmVTZWdtZW50cyA9IHJlbGF0aXZlUGF0aC5zcGxpdChcIi9cIik7XG5cbiAgcmVsYXRpdmVTZWdtZW50cy5mb3JFYWNoKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHNlZ21lbnQgPT09IFwiLi5cIikge1xuICAgICAgLy8gS2VlcCB0aGUgcm9vdCBcIlwiIHNlZ21lbnQgc28gdGhlIHBhdGhuYW1lIHN0YXJ0cyBhdCAvXG4gICAgICBpZiAoc2VnbWVudHMubGVuZ3RoID4gMSkgc2VnbWVudHMucG9wKCk7XG4gICAgfSBlbHNlIGlmIChzZWdtZW50ICE9PSBcIi5cIikge1xuICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBzZWdtZW50cy5sZW5ndGggPiAxID8gc2VnbWVudHMuam9pbihcIi9cIikgOiBcIi9cIjtcbn1cblxuZnVuY3Rpb24gZ2V0SW52YWxpZFBhdGhFcnJvcihcbiAgY2hhcjogc3RyaW5nLFxuICBmaWVsZDogc3RyaW5nLFxuICBkZXN0OiBzdHJpbmcsXG4gIHBhdGg6IFBhcnRpYWw8UGF0aD5cbikge1xuICByZXR1cm4gKFxuICAgIGBDYW5ub3QgaW5jbHVkZSBhICcke2NoYXJ9JyBjaGFyYWN0ZXIgaW4gYSBtYW51YWxseSBzcGVjaWZpZWQgYCArXG4gICAgYFxcYHRvLiR7ZmllbGR9XFxgIGZpZWxkIFske0pTT04uc3RyaW5naWZ5KFxuICAgICAgcGF0aFxuICAgICl9XS4gIFBsZWFzZSBzZXBhcmF0ZSBpdCBvdXQgdG8gdGhlIGAgK1xuICAgIGBcXGB0by4ke2Rlc3R9XFxgIGZpZWxkLiBBbHRlcm5hdGl2ZWx5IHlvdSBtYXkgcHJvdmlkZSB0aGUgZnVsbCBwYXRoIGFzIGAgK1xuICAgIGBhIHN0cmluZyBpbiA8TGluayB0bz1cIi4uLlwiPiBhbmQgdGhlIHJvdXRlciB3aWxsIHBhcnNlIGl0IGZvciB5b3UuYFxuICApO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKlxuICogV2hlbiBwcm9jZXNzaW5nIHJlbGF0aXZlIG5hdmlnYXRpb24gd2Ugd2FudCB0byBpZ25vcmUgYW5jZXN0b3Igcm91dGVzIHRoYXRcbiAqIGRvIG5vdCBjb250cmlidXRlIHRvIHRoZSBwYXRoLCBzdWNoIHRoYXQgaW5kZXgvcGF0aGxlc3MgbGF5b3V0IHJvdXRlcyBkb24ndFxuICogaW50ZXJmZXJlLlxuICpcbiAqIEZvciBleGFtcGxlLCB3aGVuIG1vdmluZyBhIHJvdXRlIGVsZW1lbnQgaW50byBhbiBpbmRleCByb3V0ZSBhbmQvb3IgYVxuICogcGF0aGxlc3MgbGF5b3V0IHJvdXRlLCByZWxhdGl2ZSBsaW5rIGJlaGF2aW9yIGNvbnRhaW5lZCB3aXRoaW4gc2hvdWxkIHN0YXlcbiAqIHRoZSBzYW1lLiAgQm90aCBvZiB0aGUgZm9sbG93aW5nIGV4YW1wbGVzIHNob3VsZCBsaW5rIGJhY2sgdG8gdGhlIHJvb3Q6XG4gKlxuICogICA8Um91dGUgcGF0aD1cIi9cIj5cbiAqICAgICA8Um91dGUgcGF0aD1cImFjY291bnRzXCIgZWxlbWVudD17PExpbmsgdG89XCIuLlwifT5cbiAqICAgPC9Sb3V0ZT5cbiAqXG4gKiAgIDxSb3V0ZSBwYXRoPVwiL1wiPlxuICogICAgIDxSb3V0ZSBwYXRoPVwiYWNjb3VudHNcIj5cbiAqICAgICAgIDxSb3V0ZSBlbGVtZW50PXs8QWNjb3VudHNMYXlvdXQgLz59PiAgICAgICAvLyA8LS0gRG9lcyBub3QgY29udHJpYnV0ZVxuICogICAgICAgICA8Um91dGUgaW5kZXggZWxlbWVudD17PExpbmsgdG89XCIuLlwifSAvPiAgLy8gPC0tIERvZXMgbm90IGNvbnRyaWJ1dGVcbiAqICAgICAgIDwvUm91dGVcbiAqICAgICA8L1JvdXRlPlxuICogICA8L1JvdXRlPlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXM8XG4gIFQgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlTWF0Y2ggPSBBZ25vc3RpY1JvdXRlTWF0Y2hcbj4obWF0Y2hlczogVFtdKSB7XG4gIHJldHVybiBtYXRjaGVzLmZpbHRlcihcbiAgICAobWF0Y2gsIGluZGV4KSA9PlxuICAgICAgaW5kZXggPT09IDAgfHwgKG1hdGNoLnJvdXRlLnBhdGggJiYgbWF0Y2gucm91dGUucGF0aC5sZW5ndGggPiAwKVxuICApO1xufVxuXG4vLyBSZXR1cm4gdGhlIGFycmF5IG9mIHBhdGhuYW1lcyBmb3IgdGhlIGN1cnJlbnQgcm91dGUgbWF0Y2hlcyAtIHVzZWQgdG9cbi8vIGdlbmVyYXRlIHRoZSByb3V0ZVBhdGhuYW1lcyBpbnB1dCBmb3IgcmVzb2x2ZVRvKClcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXNvbHZlVG9NYXRjaGVzPFxuICBUIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU1hdGNoID0gQWdub3N0aWNSb3V0ZU1hdGNoXG4+KG1hdGNoZXM6IFRbXSwgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGJvb2xlYW4pIHtcbiAgbGV0IHBhdGhNYXRjaGVzID0gZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMobWF0Y2hlcyk7XG5cbiAgLy8gV2hlbiB2N19yZWxhdGl2ZVNwbGF0UGF0aCBpcyBlbmFibGVkLCB1c2UgdGhlIGZ1bGwgcGF0aG5hbWUgZm9yIHRoZSBsZWFmXG4gIC8vIG1hdGNoIHNvIHdlIGluY2x1ZGUgc3BsYXQgdmFsdWVzIGZvciBcIi5cIiBsaW5rcy4gIFNlZTpcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9yZWFjdC1yb3V0ZXIvaXNzdWVzLzExMDUyI2lzc3VlY29tbWVudC0xODM2NTg5MzI5XG4gIGlmICh2N19yZWxhdGl2ZVNwbGF0UGF0aCkge1xuICAgIHJldHVybiBwYXRoTWF0Y2hlcy5tYXAoKG1hdGNoLCBpZHgpID0+XG4gICAgICBpZHggPT09IHBhdGhNYXRjaGVzLmxlbmd0aCAtIDEgPyBtYXRjaC5wYXRobmFtZSA6IG1hdGNoLnBhdGhuYW1lQmFzZVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gcGF0aE1hdGNoZXMubWFwKChtYXRjaCkgPT4gbWF0Y2gucGF0aG5hbWVCYXNlKTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVRvKFxuICB0b0FyZzogVG8sXG4gIHJvdXRlUGF0aG5hbWVzOiBzdHJpbmdbXSxcbiAgbG9jYXRpb25QYXRobmFtZTogc3RyaW5nLFxuICBpc1BhdGhSZWxhdGl2ZSA9IGZhbHNlXG4pOiBQYXRoIHtcbiAgbGV0IHRvOiBQYXJ0aWFsPFBhdGg+O1xuICBpZiAodHlwZW9mIHRvQXJnID09PSBcInN0cmluZ1wiKSB7XG4gICAgdG8gPSBwYXJzZVBhdGgodG9BcmcpO1xuICB9IGVsc2Uge1xuICAgIHRvID0geyAuLi50b0FyZyB9O1xuXG4gICAgaW52YXJpYW50KFxuICAgICAgIXRvLnBhdGhuYW1lIHx8ICF0by5wYXRobmFtZS5pbmNsdWRlcyhcIj9cIiksXG4gICAgICBnZXRJbnZhbGlkUGF0aEVycm9yKFwiP1wiLCBcInBhdGhuYW1lXCIsIFwic2VhcmNoXCIsIHRvKVxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRvLnBhdGhuYW1lIHx8ICF0by5wYXRobmFtZS5pbmNsdWRlcyhcIiNcIiksXG4gICAgICBnZXRJbnZhbGlkUGF0aEVycm9yKFwiI1wiLCBcInBhdGhuYW1lXCIsIFwiaGFzaFwiLCB0bylcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICF0by5zZWFyY2ggfHwgIXRvLnNlYXJjaC5pbmNsdWRlcyhcIiNcIiksXG4gICAgICBnZXRJbnZhbGlkUGF0aEVycm9yKFwiI1wiLCBcInNlYXJjaFwiLCBcImhhc2hcIiwgdG8pXG4gICAgKTtcbiAgfVxuXG4gIGxldCBpc0VtcHR5UGF0aCA9IHRvQXJnID09PSBcIlwiIHx8IHRvLnBhdGhuYW1lID09PSBcIlwiO1xuICBsZXQgdG9QYXRobmFtZSA9IGlzRW1wdHlQYXRoID8gXCIvXCIgOiB0by5wYXRobmFtZTtcblxuICBsZXQgZnJvbTogc3RyaW5nO1xuXG4gIC8vIFJvdXRpbmcgaXMgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgcGF0aG5hbWUgaWYgZXhwbGljaXRseSByZXF1ZXN0ZWQuXG4gIC8vXG4gIC8vIElmIGEgcGF0aG5hbWUgaXMgZXhwbGljaXRseSBwcm92aWRlZCBpbiBgdG9gLCBpdCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlXG4gIC8vIHJvdXRlIGNvbnRleHQuIFRoaXMgaXMgZXhwbGFpbmVkIGluIGBOb3RlIG9uIGA8TGluayB0bz5gIHZhbHVlc2AgaW4gb3VyXG4gIC8vIG1pZ3JhdGlvbiBndWlkZSBmcm9tIHY1IGFzIGEgbWVhbnMgb2YgZGlzYW1iaWd1YXRpb24gYmV0d2VlbiBgdG9gIHZhbHVlc1xuICAvLyB0aGF0IGJlZ2luIHdpdGggYC9gIGFuZCB0aG9zZSB0aGF0IGRvIG5vdC4gSG93ZXZlciwgdGhpcyBpcyBwcm9ibGVtYXRpYyBmb3JcbiAgLy8gYHRvYCB2YWx1ZXMgdGhhdCBkbyBub3QgcHJvdmlkZSBhIHBhdGhuYW1lLiBgdG9gIGNhbiBzaW1wbHkgYmUgYSBzZWFyY2ggb3JcbiAgLy8gaGFzaCBzdHJpbmcsIGluIHdoaWNoIGNhc2Ugd2Ugc2hvdWxkIGFzc3VtZSB0aGF0IHRoZSBuYXZpZ2F0aW9uIGlzIHJlbGF0aXZlXG4gIC8vIHRvIHRoZSBjdXJyZW50IGxvY2F0aW9uJ3MgcGF0aG5hbWUgYW5kICpub3QqIHRoZSByb3V0ZSBwYXRobmFtZS5cbiAgaWYgKHRvUGF0aG5hbWUgPT0gbnVsbCkge1xuICAgIGZyb20gPSBsb2NhdGlvblBhdGhuYW1lO1xuICB9IGVsc2Uge1xuICAgIGxldCByb3V0ZVBhdGhuYW1lSW5kZXggPSByb3V0ZVBhdGhuYW1lcy5sZW5ndGggLSAxO1xuXG4gICAgLy8gV2l0aCByZWxhdGl2ZT1cInJvdXRlXCIgKHRoZSBkZWZhdWx0KSwgZWFjaCBsZWFkaW5nIC4uIHNlZ21lbnQgbWVhbnNcbiAgICAvLyBcImdvIHVwIG9uZSByb3V0ZVwiIGluc3RlYWQgb2YgXCJnbyB1cCBvbmUgVVJMIHNlZ21lbnRcIi4gIFRoaXMgaXMgYSBrZXlcbiAgICAvLyBkaWZmZXJlbmNlIGZyb20gaG93IDxhIGhyZWY+IHdvcmtzIGFuZCBhIG1ham9yIHJlYXNvbiB3ZSBjYWxsIHRoaXMgYVxuICAgIC8vIFwidG9cIiB2YWx1ZSBpbnN0ZWFkIG9mIGEgXCJocmVmXCIuXG4gICAgaWYgKCFpc1BhdGhSZWxhdGl2ZSAmJiB0b1BhdGhuYW1lLnN0YXJ0c1dpdGgoXCIuLlwiKSkge1xuICAgICAgbGV0IHRvU2VnbWVudHMgPSB0b1BhdGhuYW1lLnNwbGl0KFwiL1wiKTtcblxuICAgICAgd2hpbGUgKHRvU2VnbWVudHNbMF0gPT09IFwiLi5cIikge1xuICAgICAgICB0b1NlZ21lbnRzLnNoaWZ0KCk7XG4gICAgICAgIHJvdXRlUGF0aG5hbWVJbmRleCAtPSAxO1xuICAgICAgfVxuXG4gICAgICB0by5wYXRobmFtZSA9IHRvU2VnbWVudHMuam9pbihcIi9cIik7XG4gICAgfVxuXG4gICAgZnJvbSA9IHJvdXRlUGF0aG5hbWVJbmRleCA+PSAwID8gcm91dGVQYXRobmFtZXNbcm91dGVQYXRobmFtZUluZGV4XSA6IFwiL1wiO1xuICB9XG5cbiAgbGV0IHBhdGggPSByZXNvbHZlUGF0aCh0bywgZnJvbSk7XG5cbiAgLy8gRW5zdXJlIHRoZSBwYXRobmFtZSBoYXMgYSB0cmFpbGluZyBzbGFzaCBpZiB0aGUgb3JpZ2luYWwgXCJ0b1wiIGhhZCBvbmVcbiAgbGV0IGhhc0V4cGxpY2l0VHJhaWxpbmdTbGFzaCA9XG4gICAgdG9QYXRobmFtZSAmJiB0b1BhdGhuYW1lICE9PSBcIi9cIiAmJiB0b1BhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKTtcbiAgLy8gT3IgaWYgdGhpcyB3YXMgYSBsaW5rIHRvIHRoZSBjdXJyZW50IHBhdGggd2hpY2ggaGFzIGEgdHJhaWxpbmcgc2xhc2hcbiAgbGV0IGhhc0N1cnJlbnRUcmFpbGluZ1NsYXNoID1cbiAgICAoaXNFbXB0eVBhdGggfHwgdG9QYXRobmFtZSA9PT0gXCIuXCIpICYmIGxvY2F0aW9uUGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpO1xuICBpZiAoXG4gICAgIXBhdGgucGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpICYmXG4gICAgKGhhc0V4cGxpY2l0VHJhaWxpbmdTbGFzaCB8fCBoYXNDdXJyZW50VHJhaWxpbmdTbGFzaClcbiAgKSB7XG4gICAgcGF0aC5wYXRobmFtZSArPSBcIi9cIjtcbiAgfVxuXG4gIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb1BhdGhuYW1lKHRvOiBUbyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIC8vIEVtcHR5IHN0cmluZ3Mgc2hvdWxkIGJlIHRyZWF0ZWQgdGhlIHNhbWUgYXMgLyBwYXRoc1xuICByZXR1cm4gdG8gPT09IFwiXCIgfHwgKHRvIGFzIFBhdGgpLnBhdGhuYW1lID09PSBcIlwiXG4gICAgPyBcIi9cIlxuICAgIDogdHlwZW9mIHRvID09PSBcInN0cmluZ1wiXG4gICAgPyBwYXJzZVBhdGgodG8pLnBhdGhuYW1lXG4gICAgOiB0by5wYXRobmFtZTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3Qgam9pblBhdGhzID0gKHBhdGhzOiBzdHJpbmdbXSk6IHN0cmluZyA9PlxuICBwYXRocy5qb2luKFwiL1wiKS5yZXBsYWNlKC9cXC9cXC8rL2csIFwiL1wiKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplUGF0aG5hbWUgPSAocGF0aG5hbWU6IHN0cmluZyk6IHN0cmluZyA9PlxuICBwYXRobmFtZS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpLnJlcGxhY2UoL15cXC8qLywgXCIvXCIpO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBub3JtYWxpemVTZWFyY2ggPSAoc2VhcmNoOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgIXNlYXJjaCB8fCBzZWFyY2ggPT09IFwiP1wiXG4gICAgPyBcIlwiXG4gICAgOiBzZWFyY2guc3RhcnRzV2l0aChcIj9cIilcbiAgICA/IHNlYXJjaFxuICAgIDogXCI/XCIgKyBzZWFyY2g7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZUhhc2ggPSAoaGFzaDogc3RyaW5nKTogc3RyaW5nID0+XG4gICFoYXNoIHx8IGhhc2ggPT09IFwiI1wiID8gXCJcIiA6IGhhc2guc3RhcnRzV2l0aChcIiNcIikgPyBoYXNoIDogXCIjXCIgKyBoYXNoO1xuXG5leHBvcnQgdHlwZSBKc29uRnVuY3Rpb24gPSA8RGF0YT4oXG4gIGRhdGE6IERhdGEsXG4gIGluaXQ/OiBudW1iZXIgfCBSZXNwb25zZUluaXRcbikgPT4gUmVzcG9uc2U7XG5cbi8qKlxuICogVGhpcyBpcyBhIHNob3J0Y3V0IGZvciBjcmVhdGluZyBgYXBwbGljYXRpb24vanNvbmAgcmVzcG9uc2VzLiBDb252ZXJ0cyBgZGF0YWBcbiAqIHRvIEpTT04gYW5kIHNldHMgdGhlIGBDb250ZW50LVR5cGVgIGhlYWRlci5cbiAqXG4gKiBAZGVwcmVjYXRlZCBUaGUgYGpzb25gIG1ldGhvZCBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHJldHVybmluZyByYXcgb2JqZWN0cy5cbiAqIFRoaXMgbWV0aG9kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2Ny5cbiAqL1xuZXhwb3J0IGNvbnN0IGpzb246IEpzb25GdW5jdGlvbiA9IChkYXRhLCBpbml0ID0ge30pID0+IHtcbiAgbGV0IHJlc3BvbnNlSW5pdCA9IHR5cGVvZiBpbml0ID09PSBcIm51bWJlclwiID8geyBzdGF0dXM6IGluaXQgfSA6IGluaXQ7XG5cbiAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhyZXNwb25zZUluaXQuaGVhZGVycyk7XG4gIGlmICghaGVhZGVycy5oYXMoXCJDb250ZW50LVR5cGVcIikpIHtcbiAgICBoZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIik7XG4gIH1cblxuICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpLCB7XG4gICAgLi4ucmVzcG9uc2VJbml0LFxuICAgIGhlYWRlcnMsXG4gIH0pO1xufTtcblxuZXhwb3J0IGNsYXNzIERhdGFXaXRoUmVzcG9uc2VJbml0PEQ+IHtcbiAgdHlwZTogc3RyaW5nID0gXCJEYXRhV2l0aFJlc3BvbnNlSW5pdFwiO1xuICBkYXRhOiBEO1xuICBpbml0OiBSZXNwb25zZUluaXQgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IEQsIGluaXQ/OiBSZXNwb25zZUluaXQpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuaW5pdCA9IGluaXQgfHwgbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBcInJlc3BvbnNlc1wiIHRoYXQgY29udGFpbiBgc3RhdHVzYC9gaGVhZGVyc2Agd2l0aG91dCBmb3JjaW5nXG4gKiBzZXJpYWxpemF0aW9uIGludG8gYW4gYWN0dWFsIGBSZXNwb25zZWAgLSB1c2VkIGJ5IFJlbWl4IHNpbmdsZSBmZXRjaFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGF0YTxEPihkYXRhOiBELCBpbml0PzogbnVtYmVyIHwgUmVzcG9uc2VJbml0KSB7XG4gIHJldHVybiBuZXcgRGF0YVdpdGhSZXNwb25zZUluaXQoXG4gICAgZGF0YSxcbiAgICB0eXBlb2YgaW5pdCA9PT0gXCJudW1iZXJcIiA/IHsgc3RhdHVzOiBpbml0IH0gOiBpbml0XG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tlZFByb21pc2UgZXh0ZW5kcyBQcm9taXNlPGFueT4ge1xuICBfdHJhY2tlZD86IGJvb2xlYW47XG4gIF9kYXRhPzogYW55O1xuICBfZXJyb3I/OiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBBYm9ydGVkRGVmZXJyZWRFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmV4cG9ydCBjbGFzcyBEZWZlcnJlZERhdGEge1xuICBwcml2YXRlIHBlbmRpbmdLZXlzU2V0OiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBwcml2YXRlIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlcjtcbiAgcHJpdmF0ZSBhYm9ydFByb21pc2U6IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgdW5saXN0ZW5BYm9ydFNpZ25hbDogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSBzdWJzY3JpYmVyczogU2V0PChhYm9ydGVkOiBib29sZWFuLCBzZXR0bGVkS2V5Pzogc3RyaW5nKSA9PiB2b2lkPiA9XG4gICAgbmV3IFNldCgpO1xuICBkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgaW5pdD86IFJlc3BvbnNlSW5pdDtcbiAgZGVmZXJyZWRLZXlzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCByZXNwb25zZUluaXQ/OiBSZXNwb25zZUluaXQpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBkYXRhICYmIHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGRhdGEpLFxuICAgICAgXCJkZWZlcigpIG9ubHkgYWNjZXB0cyBwbGFpbiBvYmplY3RzXCJcbiAgICApO1xuXG4gICAgLy8gU2V0IHVwIGFuIEFib3J0Q29udHJvbGxlciArIFByb21pc2Ugd2UgY2FuIHJhY2UgYWdhaW5zdCB0byBleGl0IGVhcmx5XG4gICAgLy8gY2FuY2VsbGF0aW9uXG4gICAgbGV0IHJlamVjdDogKGU6IEFib3J0ZWREZWZlcnJlZEVycm9yKSA9PiB2b2lkO1xuICAgIHRoaXMuYWJvcnRQcm9taXNlID0gbmV3IFByb21pc2UoKF8sIHIpID0+IChyZWplY3QgPSByKSk7XG4gICAgdGhpcy5jb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBvbkFib3J0ID0gKCkgPT5cbiAgICAgIHJlamVjdChuZXcgQWJvcnRlZERlZmVycmVkRXJyb3IoXCJEZWZlcnJlZCBkYXRhIGFib3J0ZWRcIikpO1xuICAgIHRoaXMudW5saXN0ZW5BYm9ydFNpZ25hbCA9ICgpID0+XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvbkFib3J0KTtcbiAgICB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvbkFib3J0KTtcblxuICAgIHRoaXMuZGF0YSA9IE9iamVjdC5lbnRyaWVzKGRhdGEpLnJlZHVjZShcbiAgICAgIChhY2MsIFtrZXksIHZhbHVlXSkgPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihhY2MsIHtcbiAgICAgICAgICBba2V5XTogdGhpcy50cmFja1Byb21pc2Uoa2V5LCB2YWx1ZSksXG4gICAgICAgIH0pLFxuICAgICAge31cbiAgICApO1xuXG4gICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgLy8gQWxsIGluY29taW5nIHZhbHVlcyB3ZXJlIHJlc29sdmVkXG4gICAgICB0aGlzLnVubGlzdGVuQWJvcnRTaWduYWwoKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXQgPSByZXNwb25zZUluaXQ7XG4gIH1cblxuICBwcml2YXRlIHRyYWNrUHJvbWlzZShcbiAgICBrZXk6IHN0cmluZyxcbiAgICB2YWx1ZTogUHJvbWlzZTx1bmtub3duPiB8IHVua25vd25cbiAgKTogVHJhY2tlZFByb21pc2UgfCB1bmtub3duIHtcbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgdGhpcy5kZWZlcnJlZEtleXMucHVzaChrZXkpO1xuICAgIHRoaXMucGVuZGluZ0tleXNTZXQuYWRkKGtleSk7XG5cbiAgICAvLyBXZSBzdG9yZSBhIGxpdHRsZSB3cmFwcGVyIHByb21pc2UgdGhhdCB3aWxsIGJlIGV4dGVuZGVkIHdpdGhcbiAgICAvLyBfZGF0YS9fZXJyb3IgcHJvcHMgdXBvbiByZXNvbHZlL3JlamVjdFxuICAgIGxldCBwcm9taXNlOiBUcmFja2VkUHJvbWlzZSA9IFByb21pc2UucmFjZShbdmFsdWUsIHRoaXMuYWJvcnRQcm9taXNlXSkudGhlbihcbiAgICAgIChkYXRhKSA9PiB0aGlzLm9uU2V0dGxlKHByb21pc2UsIGtleSwgdW5kZWZpbmVkLCBkYXRhIGFzIHVua25vd24pLFxuICAgICAgKGVycm9yKSA9PiB0aGlzLm9uU2V0dGxlKHByb21pc2UsIGtleSwgZXJyb3IgYXMgdW5rbm93bilcbiAgICApO1xuXG4gICAgLy8gUmVnaXN0ZXIgcmVqZWN0aW9uIGxpc3RlbmVycyB0byBhdm9pZCB1bmNhdWdodCBwcm9taXNlIHJlamVjdGlvbnMgb25cbiAgICAvLyBlcnJvcnMgb3IgYWJvcnRlZCBkZWZlcnJlZCB2YWx1ZXNcbiAgICBwcm9taXNlLmNhdGNoKCgpID0+IHt9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcHJpdmF0ZSBvblNldHRsZShcbiAgICBwcm9taXNlOiBUcmFja2VkUHJvbWlzZSxcbiAgICBrZXk6IHN0cmluZyxcbiAgICBlcnJvcjogdW5rbm93bixcbiAgICBkYXRhPzogdW5rbm93blxuICApOiB1bmtub3duIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQgJiZcbiAgICAgIGVycm9yIGluc3RhbmNlb2YgQWJvcnRlZERlZmVycmVkRXJyb3JcbiAgICApIHtcbiAgICAgIHRoaXMudW5saXN0ZW5BYm9ydFNpZ25hbCgpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2Vycm9yXCIsIHsgZ2V0OiAoKSA9PiBlcnJvciB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuXG4gICAgdGhpcy5wZW5kaW5nS2V5c1NldC5kZWxldGUoa2V5KTtcblxuICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgIC8vIE5vdGhpbmcgbGVmdCB0byBhYm9ydCFcbiAgICAgIHRoaXMudW5saXN0ZW5BYm9ydFNpZ25hbCgpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBwcm9taXNlIHdhcyByZXNvbHZlZC9yZWplY3RlZCB3aXRoIHVuZGVmaW5lZCwgd2UnbGwgdGhyb3cgYW4gZXJyb3IgYXMgeW91XG4gICAgLy8gc2hvdWxkIGFsd2F5cyByZXNvbHZlIHdpdGggYSB2YWx1ZSBvciBudWxsXG4gICAgaWYgKGVycm9yID09PSB1bmRlZmluZWQgJiYgZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgdW5kZWZpbmVkRXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGBEZWZlcnJlZCBkYXRhIGZvciBrZXkgXCIke2tleX1cIiByZXNvbHZlZC9yZWplY3RlZCB3aXRoIFxcYHVuZGVmaW5lZFxcYCwgYCArXG4gICAgICAgICAgYHlvdSBtdXN0IHJlc29sdmUvcmVqZWN0IHdpdGggYSB2YWx1ZSBvciBcXGBudWxsXFxgLmBcbiAgICAgICk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IHVuZGVmaW5lZEVycm9yIH0pO1xuICAgICAgdGhpcy5lbWl0KGZhbHNlLCBrZXkpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHVuZGVmaW5lZEVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IGVycm9yIH0pO1xuICAgICAgdGhpcy5lbWl0KGZhbHNlLCBrZXkpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZGF0YVwiLCB7IGdldDogKCkgPT4gZGF0YSB9KTtcbiAgICB0aGlzLmVtaXQoZmFsc2UsIGtleSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBwcml2YXRlIGVtaXQoYWJvcnRlZDogYm9vbGVhbiwgc2V0dGxlZEtleT86IHN0cmluZykge1xuICAgIHRoaXMuc3Vic2NyaWJlcnMuZm9yRWFjaCgoc3Vic2NyaWJlcikgPT4gc3Vic2NyaWJlcihhYm9ydGVkLCBzZXR0bGVkS2V5KSk7XG4gIH1cblxuICBzdWJzY3JpYmUoZm46IChhYm9ydGVkOiBib29sZWFuLCBzZXR0bGVkS2V5Pzogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5zdWJzY3JpYmVycy5hZGQoZm4pO1xuICAgIHJldHVybiAoKSA9PiB0aGlzLnN1YnNjcmliZXJzLmRlbGV0ZShmbik7XG4gIH1cblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgdGhpcy5wZW5kaW5nS2V5c1NldC5mb3JFYWNoKCh2LCBrKSA9PiB0aGlzLnBlbmRpbmdLZXlzU2V0LmRlbGV0ZShrKSk7XG4gICAgdGhpcy5lbWl0KHRydWUpO1xuICB9XG5cbiAgYXN5bmMgcmVzb2x2ZURhdGEoc2lnbmFsOiBBYm9ydFNpZ25hbCkge1xuICAgIGxldCBhYm9ydGVkID0gZmFsc2U7XG4gICAgaWYgKCF0aGlzLmRvbmUpIHtcbiAgICAgIGxldCBvbkFib3J0ID0gKCkgPT4gdGhpcy5jYW5jZWwoKTtcbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG4gICAgICBhYm9ydGVkID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKGFib3J0ZWQpID0+IHtcbiAgICAgICAgICBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnQpO1xuICAgICAgICAgIGlmIChhYm9ydGVkIHx8IHRoaXMuZG9uZSkge1xuICAgICAgICAgICAgcmVzb2x2ZShhYm9ydGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhYm9ydGVkO1xuICB9XG5cbiAgZ2V0IGRvbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGVuZGluZ0tleXNTZXQuc2l6ZSA9PT0gMDtcbiAgfVxuXG4gIGdldCB1bndyYXBwZWREYXRhKCkge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMuZGF0YSAhPT0gbnVsbCAmJiB0aGlzLmRvbmUsXG4gICAgICBcIkNhbiBvbmx5IHVud3JhcCBkYXRhIG9uIGluaXRpYWxpemVkIGFuZCBzZXR0bGVkIGRlZmVycmVkc1wiXG4gICAgKTtcblxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLmRhdGEpLnJlZHVjZShcbiAgICAgIChhY2MsIFtrZXksIHZhbHVlXSkgPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihhY2MsIHtcbiAgICAgICAgICBba2V5XTogdW53cmFwVHJhY2tlZFByb21pc2UodmFsdWUpLFxuICAgICAgICB9KSxcbiAgICAgIHt9XG4gICAgKTtcbiAgfVxuXG4gIGdldCBwZW5kaW5nS2V5cygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnBlbmRpbmdLZXlzU2V0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1RyYWNrZWRQcm9taXNlKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBUcmFja2VkUHJvbWlzZSB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlICYmICh2YWx1ZSBhcyBUcmFja2VkUHJvbWlzZSkuX3RyYWNrZWQgPT09IHRydWVcbiAgKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwVHJhY2tlZFByb21pc2UodmFsdWU6IGFueSkge1xuICBpZiAoIWlzVHJhY2tlZFByb21pc2UodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgaWYgKHZhbHVlLl9lcnJvcikge1xuICAgIHRocm93IHZhbHVlLl9lcnJvcjtcbiAgfVxuICByZXR1cm4gdmFsdWUuX2RhdGE7XG59XG5cbmV4cG9ydCB0eXBlIERlZmVyRnVuY3Rpb24gPSAoXG4gIGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBpbml0PzogbnVtYmVyIHwgUmVzcG9uc2VJbml0XG4pID0+IERlZmVycmVkRGF0YTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaGUgYGRlZmVyYCBtZXRob2QgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiByZXR1cm5pbmcgcmF3XG4gKiBvYmplY3RzLiBUaGlzIG1ldGhvZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjcuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZlcjogRGVmZXJGdW5jdGlvbiA9IChkYXRhLCBpbml0ID0ge30pID0+IHtcbiAgbGV0IHJlc3BvbnNlSW5pdCA9IHR5cGVvZiBpbml0ID09PSBcIm51bWJlclwiID8geyBzdGF0dXM6IGluaXQgfSA6IGluaXQ7XG5cbiAgcmV0dXJuIG5ldyBEZWZlcnJlZERhdGEoZGF0YSwgcmVzcG9uc2VJbml0KTtcbn07XG5cbmV4cG9ydCB0eXBlIFJlZGlyZWN0RnVuY3Rpb24gPSAoXG4gIHVybDogc3RyaW5nLFxuICBpbml0PzogbnVtYmVyIHwgUmVzcG9uc2VJbml0XG4pID0+IFJlc3BvbnNlO1xuXG4vKipcbiAqIEEgcmVkaXJlY3QgcmVzcG9uc2UuIFNldHMgdGhlIHN0YXR1cyBjb2RlIGFuZCB0aGUgYExvY2F0aW9uYCBoZWFkZXIuXG4gKiBEZWZhdWx0cyB0byBcIjMwMiBGb3VuZFwiLlxuICovXG5leHBvcnQgY29uc3QgcmVkaXJlY3Q6IFJlZGlyZWN0RnVuY3Rpb24gPSAodXJsLCBpbml0ID0gMzAyKSA9PiB7XG4gIGxldCByZXNwb25zZUluaXQgPSBpbml0O1xuICBpZiAodHlwZW9mIHJlc3BvbnNlSW5pdCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJlc3BvbnNlSW5pdCA9IHsgc3RhdHVzOiByZXNwb25zZUluaXQgfTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcmVzcG9uc2VJbml0LnN0YXR1cyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJlc3BvbnNlSW5pdC5zdGF0dXMgPSAzMDI7XG4gIH1cblxuICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHJlc3BvbnNlSW5pdC5oZWFkZXJzKTtcbiAgaGVhZGVycy5zZXQoXCJMb2NhdGlvblwiLCB1cmwpO1xuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgIC4uLnJlc3BvbnNlSW5pdCxcbiAgICBoZWFkZXJzLFxuICB9KTtcbn07XG5cbi8qKlxuICogQSByZWRpcmVjdCByZXNwb25zZSB0aGF0IHdpbGwgZm9yY2UgYSBkb2N1bWVudCByZWxvYWQgdG8gdGhlIG5ldyBsb2NhdGlvbi5cbiAqIFNldHMgdGhlIHN0YXR1cyBjb2RlIGFuZCB0aGUgYExvY2F0aW9uYCBoZWFkZXIuXG4gKiBEZWZhdWx0cyB0byBcIjMwMiBGb3VuZFwiLlxuICovXG5leHBvcnQgY29uc3QgcmVkaXJlY3REb2N1bWVudDogUmVkaXJlY3RGdW5jdGlvbiA9ICh1cmwsIGluaXQpID0+IHtcbiAgbGV0IHJlc3BvbnNlID0gcmVkaXJlY3QodXJsLCBpbml0KTtcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiLCBcInRydWVcIik7XG4gIHJldHVybiByZXNwb25zZTtcbn07XG5cbi8qKlxuICogQSByZWRpcmVjdCByZXNwb25zZSB0aGF0IHdpbGwgcGVyZm9ybSBhIGBoaXN0b3J5LnJlcGxhY2VTdGF0ZWAgaW5zdGVhZCBvZiBhXG4gKiBgaGlzdG9yeS5wdXNoU3RhdGVgIGZvciBjbGllbnQtc2lkZSBuYXZpZ2F0aW9uIHJlZGlyZWN0cy5cbiAqIFNldHMgdGhlIHN0YXR1cyBjb2RlIGFuZCB0aGUgYExvY2F0aW9uYCBoZWFkZXIuXG4gKiBEZWZhdWx0cyB0byBcIjMwMiBGb3VuZFwiLlxuICovXG5leHBvcnQgY29uc3QgcmVwbGFjZTogUmVkaXJlY3RGdW5jdGlvbiA9ICh1cmwsIGluaXQpID0+IHtcbiAgbGV0IHJlc3BvbnNlID0gcmVkaXJlY3QodXJsLCBpbml0KTtcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoXCJYLVJlbWl4LVJlcGxhY2VcIiwgXCJ0cnVlXCIpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuXG5leHBvcnQgdHlwZSBFcnJvclJlc3BvbnNlID0ge1xuICBzdGF0dXM6IG51bWJlcjtcbiAgc3RhdHVzVGV4dDogc3RyaW5nO1xuICBkYXRhOiBhbnk7XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBVdGlsaXR5IGNsYXNzIHdlIHVzZSB0byBob2xkIGF1dG8tdW53cmFwcGVkIDR4eC81eHggUmVzcG9uc2UgYm9kaWVzXG4gKlxuICogV2UgZG9uJ3QgZXhwb3J0IHRoZSBjbGFzcyBmb3IgcHVibGljIHVzZSBzaW5jZSBpdCdzIGFuIGltcGxlbWVudGF0aW9uXG4gKiBkZXRhaWwsIGJ1dCB3ZSBleHBvcnQgdGhlIGludGVyZmFjZSBhYm92ZSBzbyBmb2xrcyBjYW4gYnVpbGQgdGhlaXIgb3duXG4gKiBhYnN0cmFjdGlvbnMgYXJvdW5kIGluc3RhbmNlcyB2aWEgaXNSb3V0ZUVycm9yUmVzcG9uc2UoKVxuICovXG5leHBvcnQgY2xhc3MgRXJyb3JSZXNwb25zZUltcGwgaW1wbGVtZW50cyBFcnJvclJlc3BvbnNlIHtcbiAgc3RhdHVzOiBudW1iZXI7XG4gIHN0YXR1c1RleHQ6IHN0cmluZztcbiAgZGF0YTogYW55O1xuICBwcml2YXRlIGVycm9yPzogRXJyb3I7XG4gIHByaXZhdGUgaW50ZXJuYWw6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc3RhdHVzOiBudW1iZXIsXG4gICAgc3RhdHVzVGV4dDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGRhdGE6IGFueSxcbiAgICBpbnRlcm5hbCA9IGZhbHNlXG4gICkge1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHN0YXR1c1RleHQgfHwgXCJcIjtcbiAgICB0aGlzLmludGVybmFsID0gaW50ZXJuYWw7XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YS50b1N0cmluZygpO1xuICAgICAgdGhpcy5lcnJvciA9IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGFuIEVycm9yUmVzcG9uc2UgZ2VuZXJhdGVkIGZyb20gYSA0eHgvNXh4XG4gKiBSZXNwb25zZSB0aHJvd24gZnJvbSBhbiBhY3Rpb24vbG9hZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcjogYW55KTogZXJyb3IgaXMgRXJyb3JSZXNwb25zZSB7XG4gIHJldHVybiAoXG4gICAgZXJyb3IgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiBlcnJvci5zdGF0dXMgPT09IFwibnVtYmVyXCIgJiZcbiAgICB0eXBlb2YgZXJyb3Iuc3RhdHVzVGV4dCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIHR5cGVvZiBlcnJvci5pbnRlcm5hbCA9PT0gXCJib29sZWFuXCIgJiZcbiAgICBcImRhdGFcIiBpbiBlcnJvclxuICApO1xufVxuIiwgImltcG9ydCB0eXBlIHsgSGlzdG9yeSwgTG9jYXRpb24sIFBhdGgsIFRvIH0gZnJvbSBcIi4vaGlzdG9yeVwiO1xuaW1wb3J0IHtcbiAgQWN0aW9uIGFzIEhpc3RvcnlBY3Rpb24sXG4gIGNyZWF0ZUxvY2F0aW9uLFxuICBjcmVhdGVQYXRoLFxuICBpbnZhcmlhbnQsXG4gIHBhcnNlUGF0aCxcbiAgd2FybmluZyxcbn0gZnJvbSBcIi4vaGlzdG9yeVwiO1xuaW1wb3J0IHR5cGUge1xuICBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoLFxuICBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdCxcbiAgRGF0YVN0cmF0ZWd5TWF0Y2gsXG4gIEFnbm9zdGljUm91dGVPYmplY3QsXG4gIERhdGFSZXN1bHQsXG4gIERhdGFTdHJhdGVneUZ1bmN0aW9uLFxuICBEYXRhU3RyYXRlZ3lGdW5jdGlvbkFyZ3MsXG4gIERlZmVycmVkRGF0YSxcbiAgRGVmZXJyZWRSZXN1bHQsXG4gIERldGVjdEVycm9yQm91bmRhcnlGdW5jdGlvbixcbiAgRXJyb3JSZXN1bHQsXG4gIEZvcm1FbmNUeXBlLFxuICBGb3JtTWV0aG9kLFxuICBIVE1MRm9ybU1ldGhvZCxcbiAgRGF0YVN0cmF0ZWd5UmVzdWx0LFxuICBJbW11dGFibGVSb3V0ZUtleSxcbiAgTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb24sXG4gIE11dGF0aW9uRm9ybU1ldGhvZCxcbiAgUmVkaXJlY3RSZXN1bHQsXG4gIFJvdXRlRGF0YSxcbiAgUm91dGVNYW5pZmVzdCxcbiAgU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uQXJncyxcbiAgU3VibWlzc2lvbixcbiAgU3VjY2Vzc1Jlc3VsdCxcbiAgVUlNYXRjaCxcbiAgVjdfRm9ybU1ldGhvZCxcbiAgVjdfTXV0YXRpb25Gb3JtTWV0aG9kLFxuICBBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24sXG4gIERhdGFXaXRoUmVzcG9uc2VJbml0LFxufSBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHtcbiAgRXJyb3JSZXNwb25zZUltcGwsXG4gIFJlc3VsdFR5cGUsXG4gIGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoLFxuICBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzLFxuICBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlcyxcbiAgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyxcbiAgaW1tdXRhYmxlUm91dGVLZXlzLFxuICBpc1JvdXRlRXJyb3JSZXNwb25zZSxcbiAgam9pblBhdGhzLFxuICBtYXRjaFJvdXRlcyxcbiAgbWF0Y2hSb3V0ZXNJbXBsLFxuICByZXNvbHZlVG8sXG4gIHN0cmlwQmFzZW5hbWUsXG59IGZyb20gXCIuL3V0aWxzXCI7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyNyZWdpb24gVHlwZXMgYW5kIENvbnN0YW50c1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBBIFJvdXRlciBpbnN0YW5jZSBtYW5hZ2VzIGFsbCBuYXZpZ2F0aW9uIGFuZCBkYXRhIGxvYWRpbmcvbXV0YXRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVyIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBSZXR1cm4gdGhlIGJhc2VuYW1lIGZvciB0aGUgcm91dGVyXG4gICAqL1xuICBnZXQgYmFzZW5hbWUoKTogUm91dGVySW5pdFtcImJhc2VuYW1lXCJdO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogUmV0dXJuIHRoZSBmdXR1cmUgY29uZmlnIGZvciB0aGUgcm91dGVyXG4gICAqL1xuICBnZXQgZnV0dXJlKCk6IEZ1dHVyZUNvbmZpZztcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFJldHVybiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgcm91dGVyXG4gICAqL1xuICBnZXQgc3RhdGUoKTogUm91dGVyU3RhdGU7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBSZXR1cm4gdGhlIHJvdXRlcyBmb3IgdGhpcyByb3V0ZXIgaW5zdGFuY2VcbiAgICovXG4gIGdldCByb3V0ZXMoKTogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXTtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFJldHVybiB0aGUgd2luZG93IGFzc29jaWF0ZWQgd2l0aCB0aGUgcm91dGVyXG4gICAqL1xuICBnZXQgd2luZG93KCk6IFJvdXRlckluaXRbXCJ3aW5kb3dcIl07XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBJbml0aWFsaXplIHRoZSByb3V0ZXIsIGluY2x1ZGluZyBhZGRpbmcgaGlzdG9yeSBsaXN0ZW5lcnMgYW5kIGtpY2tpbmcgb2ZmXG4gICAqIGluaXRpYWwgZGF0YSBmZXRjaGVzLiAgUmV0dXJucyBhIGZ1bmN0aW9uIHRvIGNsZWFudXAgbGlzdGVuZXJzIGFuZCBhYm9ydFxuICAgKiBhbnkgaW4tcHJvZ3Jlc3MgbG9hZHNcbiAgICovXG4gIGluaXRpYWxpemUoKTogUm91dGVyO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogU3Vic2NyaWJlIHRvIHJvdXRlci5zdGF0ZSB1cGRhdGVzXG4gICAqXG4gICAqIEBwYXJhbSBmbiBmdW5jdGlvbiB0byBjYWxsIHdpdGggdGhlIG5ldyBzdGF0ZVxuICAgKi9cbiAgc3Vic2NyaWJlKGZuOiBSb3V0ZXJTdWJzY3JpYmVyKTogKCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIEVuYWJsZSBzY3JvbGwgcmVzdG9yYXRpb24gYmVoYXZpb3IgaW4gdGhlIHJvdXRlclxuICAgKlxuICAgKiBAcGFyYW0gc2F2ZWRTY3JvbGxQb3NpdGlvbnMgT2JqZWN0IHRoYXQgd2lsbCBtYW5hZ2UgcG9zaXRpb25zLCBpbiBjYXNlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdCdzIGJlaW5nIHJlc3RvcmVkIGZyb20gc2Vzc2lvblN0b3JhZ2VcbiAgICogQHBhcmFtIGdldFNjcm9sbFBvc2l0aW9uICAgIEZ1bmN0aW9uIHRvIGdldCB0aGUgYWN0aXZlIFkgc2Nyb2xsIHBvc2l0aW9uXG4gICAqIEBwYXJhbSBnZXRLZXkgICAgICAgICAgICAgICBGdW5jdGlvbiB0byBnZXQgdGhlIGtleSB0byB1c2UgZm9yIHJlc3RvcmF0aW9uXG4gICAqL1xuICBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbihcbiAgICBzYXZlZFNjcm9sbFBvc2l0aW9uczogUmVjb3JkPHN0cmluZywgbnVtYmVyPixcbiAgICBnZXRTY3JvbGxQb3NpdGlvbjogR2V0U2Nyb2xsUG9zaXRpb25GdW5jdGlvbixcbiAgICBnZXRLZXk/OiBHZXRTY3JvbGxSZXN0b3JhdGlvbktleUZ1bmN0aW9uXG4gICk6ICgpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBOYXZpZ2F0ZSBmb3J3YXJkL2JhY2t3YXJkIGluIHRoZSBoaXN0b3J5IHN0YWNrXG4gICAqIEBwYXJhbSB0byBEZWx0YSB0byBtb3ZlIGluIHRoZSBoaXN0b3J5IHN0YWNrXG4gICAqL1xuICBuYXZpZ2F0ZSh0bzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKipcbiAgICogTmF2aWdhdGUgdG8gdGhlIGdpdmVuIHBhdGhcbiAgICogQHBhcmFtIHRvIFBhdGggdG8gbmF2aWdhdGUgdG9cbiAgICogQHBhcmFtIG9wdHMgTmF2aWdhdGlvbiBvcHRpb25zIChtZXRob2QsIHN1Ym1pc3Npb24sIGV0Yy4pXG4gICAqL1xuICBuYXZpZ2F0ZSh0bzogVG8gfCBudWxsLCBvcHRzPzogUm91dGVyTmF2aWdhdGVPcHRpb25zKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFRyaWdnZXIgYSBmZXRjaGVyIGxvYWQvc3VibWlzc2lvblxuICAgKlxuICAgKiBAcGFyYW0ga2V5ICAgICBGZXRjaGVyIGtleVxuICAgKiBAcGFyYW0gcm91dGVJZCBSb3V0ZSB0aGF0IG93bnMgdGhlIGZldGNoZXJcbiAgICogQHBhcmFtIGhyZWYgICAgaHJlZiB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0cyAgICBGZXRjaGVyIG9wdGlvbnMsIChtZXRob2QsIHN1Ym1pc3Npb24sIGV0Yy4pXG4gICAqL1xuICBmZXRjaChcbiAgICBrZXk6IHN0cmluZyxcbiAgICByb3V0ZUlkOiBzdHJpbmcsXG4gICAgaHJlZjogc3RyaW5nIHwgbnVsbCxcbiAgICBvcHRzPzogUm91dGVyRmV0Y2hPcHRpb25zXG4gICk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBUcmlnZ2VyIGEgcmV2YWxpZGF0aW9uIG9mIGFsbCBjdXJyZW50IHJvdXRlIGxvYWRlcnMgYW5kIGZldGNoZXIgbG9hZHNcbiAgICovXG4gIHJldmFsaWRhdGUoKTogdm9pZDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGhyZWYgZm9yIHRoZSBnaXZlbiBsb2NhdGlvblxuICAgKiBAcGFyYW0gbG9jYXRpb25cbiAgICovXG4gIGNyZWF0ZUhyZWYobG9jYXRpb246IExvY2F0aW9uIHwgVVJMKTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogVXRpbGl0eSBmdW5jdGlvbiB0byBVUkwgZW5jb2RlIGEgZGVzdGluYXRpb24gcGF0aCBhY2NvcmRpbmcgdG8gdGhlIGludGVybmFsXG4gICAqIGhpc3RvcnkgaW1wbGVtZW50YXRpb25cbiAgICogQHBhcmFtIHRvXG4gICAqL1xuICBlbmNvZGVMb2NhdGlvbih0bzogVG8pOiBQYXRoO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogR2V0L2NyZWF0ZSBhIGZldGNoZXIgZm9yIHRoZSBnaXZlbiBrZXlcbiAgICogQHBhcmFtIGtleVxuICAgKi9cbiAgZ2V0RmV0Y2hlcjxURGF0YSA9IGFueT4oa2V5OiBzdHJpbmcpOiBGZXRjaGVyPFREYXRhPjtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIERlbGV0ZSB0aGUgZmV0Y2hlciBmb3IgYSBnaXZlbiBrZXlcbiAgICogQHBhcmFtIGtleVxuICAgKi9cbiAgZGVsZXRlRmV0Y2hlcihrZXk6IHN0cmluZyk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBDbGVhbnVwIGxpc3RlbmVycyBhbmQgYWJvcnQgYW55IGluLXByb2dyZXNzIGxvYWRzXG4gICAqL1xuICBkaXNwb3NlKCk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBHZXQgYSBuYXZpZ2F0aW9uIGJsb2NrZXJcbiAgICogQHBhcmFtIGtleSBUaGUgaWRlbnRpZmllciBmb3IgdGhlIGJsb2NrZXJcbiAgICogQHBhcmFtIGZuIFRoZSBibG9ja2VyIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICBnZXRCbG9ja2VyKGtleTogc3RyaW5nLCBmbjogQmxvY2tlckZ1bmN0aW9uKTogQmxvY2tlcjtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIERlbGV0ZSBhIG5hdmlnYXRpb24gYmxvY2tlclxuICAgKiBAcGFyYW0ga2V5IFRoZSBpZGVudGlmaWVyIGZvciB0aGUgYmxvY2tlclxuICAgKi9cbiAgZGVsZXRlQmxvY2tlcihrZXk6IHN0cmluZyk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIERPIE5PVCBVU0VcbiAgICpcbiAgICogUGF0Y2ggYWRkaXRpb25hbCBjaGlsZHJlbiByb3V0ZXMgaW50byBhbiBleGlzdGluZyBwYXJlbnQgcm91dGVcbiAgICogQHBhcmFtIHJvdXRlSWQgVGhlIHBhcmVudCByb3V0ZSBpZCBvciBhIGNhbGxiYWNrIGZ1bmN0aW9uIGFjY2VwdGluZyBgcGF0Y2hgXG4gICAqICAgICAgICAgICAgICAgIHRvIHBlcmZvcm0gYmF0Y2ggcGF0Y2hpbmdcbiAgICogQHBhcmFtIGNoaWxkcmVuIFRoZSBhZGRpdGlvbmFsIGNoaWxkcmVuIHJvdXRlc1xuICAgKi9cbiAgcGF0Y2hSb3V0ZXMocm91dGVJZDogc3RyaW5nIHwgbnVsbCwgY2hpbGRyZW46IEFnbm9zdGljUm91dGVPYmplY3RbXSk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBITVIgbmVlZHMgdG8gcGFzcyBpbi1mbGlnaHQgcm91dGUgdXBkYXRlcyB0byBSZWFjdCBSb3V0ZXJcbiAgICogVE9ETzogUmVwbGFjZSB0aGlzIHdpdGggZ3JhbnVsYXIgcm91dGUgdXBkYXRlIEFQSXMgKGFkZFJvdXRlLCB1cGRhdGVSb3V0ZSwgZGVsZXRlUm91dGUpXG4gICAqL1xuICBfaW50ZXJuYWxTZXRSb3V0ZXMocm91dGVzOiBBZ25vc3RpY1JvdXRlT2JqZWN0W10pOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogSW50ZXJuYWwgZmV0Y2ggQWJvcnRDb250cm9sbGVycyBhY2Nlc3NlZCBieSB1bml0IHRlc3RzXG4gICAqL1xuICBfaW50ZXJuYWxGZXRjaENvbnRyb2xsZXJzOiBNYXA8c3RyaW5nLCBBYm9ydENvbnRyb2xsZXI+O1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogSW50ZXJuYWwgcGVuZGluZyBEZWZlcnJlZERhdGEgaW5zdGFuY2VzIGFjY2Vzc2VkIGJ5IHVuaXQgdGVzdHNcbiAgICovXG4gIF9pbnRlcm5hbEFjdGl2ZURlZmVycmVkczogTWFwPHN0cmluZywgRGVmZXJyZWREYXRhPjtcbn1cblxuLyoqXG4gKiBTdGF0ZSBtYWludGFpbmVkIGludGVybmFsbHkgYnkgdGhlIHJvdXRlci4gIER1cmluZyBhIG5hdmlnYXRpb24sIGFsbCBzdGF0ZXNcbiAqIHJlZmxlY3QgdGhlIHRoZSBcIm9sZFwiIGxvY2F0aW9uIHVubGVzcyBvdGhlcndpc2Ugbm90ZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVyU3RhdGUge1xuICAvKipcbiAgICogVGhlIGFjdGlvbiBvZiB0aGUgbW9zdCByZWNlbnQgbmF2aWdhdGlvblxuICAgKi9cbiAgaGlzdG9yeUFjdGlvbjogSGlzdG9yeUFjdGlvbjtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgbG9jYXRpb24gcmVmbGVjdGVkIGJ5IHRoZSByb3V0ZXJcbiAgICovXG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2V0IG9mIHJvdXRlIG1hdGNoZXNcbiAgICovXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXTtcblxuICAvKipcbiAgICogVHJhY2tzIHdoZXRoZXIgd2UndmUgY29tcGxldGVkIG91ciBpbml0aWFsIGRhdGEgbG9hZFxuICAgKi9cbiAgaW5pdGlhbGl6ZWQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uIHdlIHNob3VsZCBzdGFydCBhdCBmb3IgYSBuZXcgdmlld1xuICAgKiAgLSBudW1iZXIgLT4gc2Nyb2xsIHBvc2l0aW9uIHRvIHJlc3RvcmUgdG9cbiAgICogIC0gZmFsc2UgLT4gZG8gbm90IHJlc3RvcmUgc2Nyb2xsIGF0IGFsbCAodXNlZCBkdXJpbmcgc3VibWlzc2lvbnMpXG4gICAqICAtIG51bGwgLT4gZG9uJ3QgaGF2ZSBhIHNhdmVkIHBvc2l0aW9uLCBzY3JvbGwgdG8gaGFzaCBvciB0b3Agb2YgcGFnZVxuICAgKi9cbiAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiBudW1iZXIgfCBmYWxzZSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlIHdoZXRoZXIgdGhpcyBuYXZpZ2F0aW9uIHNob3VsZCBza2lwIHJlc2V0dGluZyB0aGUgc2Nyb2xsIHBvc2l0aW9uXG4gICAqIGlmIHdlIGFyZSB1bmFibGUgdG8gcmVzdG9yZSB0aGUgc2Nyb2xsIHBvc2l0aW9uXG4gICAqL1xuICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRyYWNrcyB0aGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgbmF2aWdhdGlvblxuICAgKi9cbiAgbmF2aWdhdGlvbjogTmF2aWdhdGlvbjtcblxuICAvKipcbiAgICogVHJhY2tzIGFueSBpbi1wcm9ncmVzcyByZXZhbGlkYXRpb25zXG4gICAqL1xuICByZXZhbGlkYXRpb246IFJldmFsaWRhdGlvblN0YXRlO1xuXG4gIC8qKlxuICAgKiBEYXRhIGZyb20gdGhlIGxvYWRlcnMgZm9yIHRoZSBjdXJyZW50IG1hdGNoZXNcbiAgICovXG4gIGxvYWRlckRhdGE6IFJvdXRlRGF0YTtcblxuICAvKipcbiAgICogRGF0YSBmcm9tIHRoZSBhY3Rpb24gZm9yIHRoZSBjdXJyZW50IG1hdGNoZXNcbiAgICovXG4gIGFjdGlvbkRhdGE6IFJvdXRlRGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEVycm9ycyBjYXVnaHQgZnJvbSBsb2FkZXJzIGZvciB0aGUgY3VycmVudCBtYXRjaGVzXG4gICAqL1xuICBlcnJvcnM6IFJvdXRlRGF0YSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIE1hcCBvZiBjdXJyZW50IGZldGNoZXJzXG4gICAqL1xuICBmZXRjaGVyczogTWFwPHN0cmluZywgRmV0Y2hlcj47XG5cbiAgLyoqXG4gICAqIE1hcCBvZiBjdXJyZW50IGJsb2NrZXJzXG4gICAqL1xuICBibG9ja2VyczogTWFwPHN0cmluZywgQmxvY2tlcj47XG59XG5cbi8qKlxuICogRGF0YSB0aGF0IGNhbiBiZSBwYXNzZWQgaW50byBoeWRyYXRlIGEgUm91dGVyIGZyb20gU1NSXG4gKi9cbmV4cG9ydCB0eXBlIEh5ZHJhdGlvblN0YXRlID0gUGFydGlhbDxcbiAgUGljazxSb3V0ZXJTdGF0ZSwgXCJsb2FkZXJEYXRhXCIgfCBcImFjdGlvbkRhdGFcIiB8IFwiZXJyb3JzXCI+XG4+O1xuXG4vKipcbiAqIEZ1dHVyZSBmbGFncyB0byB0b2dnbGUgbmV3IGZlYXR1cmUgYmVoYXZpb3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGdXR1cmVDb25maWcge1xuICB2N19mZXRjaGVyUGVyc2lzdDogYm9vbGVhbjtcbiAgdjdfbm9ybWFsaXplRm9ybU1ldGhvZDogYm9vbGVhbjtcbiAgdjdfcGFydGlhbEh5ZHJhdGlvbjogYm9vbGVhbjtcbiAgdjdfcHJlcGVuZEJhc2VuYW1lOiBib29sZWFuO1xuICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogYm9vbGVhbjtcbiAgdjdfc2tpcEFjdGlvbkVycm9yUmV2YWxpZGF0aW9uOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemF0aW9uIG9wdGlvbnMgZm9yIGNyZWF0ZVJvdXRlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlckluaXQge1xuICByb3V0ZXM6IEFnbm9zdGljUm91dGVPYmplY3RbXTtcbiAgaGlzdG9yeTogSGlzdG9yeTtcbiAgYmFzZW5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYG1hcFJvdXRlUHJvcGVydGllc2AgaW5zdGVhZFxuICAgKi9cbiAgZGV0ZWN0RXJyb3JCb3VuZGFyeT86IERldGVjdEVycm9yQm91bmRhcnlGdW5jdGlvbjtcbiAgbWFwUm91dGVQcm9wZXJ0aWVzPzogTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb247XG4gIGZ1dHVyZT86IFBhcnRpYWw8RnV0dXJlQ29uZmlnPjtcbiAgaHlkcmF0aW9uRGF0YT86IEh5ZHJhdGlvblN0YXRlO1xuICB3aW5kb3c/OiBXaW5kb3c7XG4gIGRhdGFTdHJhdGVneT86IERhdGFTdHJhdGVneUZ1bmN0aW9uO1xuICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbj86IEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbjtcbn1cblxuLyoqXG4gKiBTdGF0ZSByZXR1cm5lZCBmcm9tIGEgc2VydmVyLXNpZGUgcXVlcnkoKSBjYWxsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGljSGFuZGxlckNvbnRleHQge1xuICBiYXNlbmFtZTogUm91dGVyW1wiYmFzZW5hbWVcIl07XG4gIGxvY2F0aW9uOiBSb3V0ZXJTdGF0ZVtcImxvY2F0aW9uXCJdO1xuICBtYXRjaGVzOiBSb3V0ZXJTdGF0ZVtcIm1hdGNoZXNcIl07XG4gIGxvYWRlckRhdGE6IFJvdXRlclN0YXRlW1wibG9hZGVyRGF0YVwiXTtcbiAgYWN0aW9uRGF0YTogUm91dGVyU3RhdGVbXCJhY3Rpb25EYXRhXCJdO1xuICBlcnJvcnM6IFJvdXRlclN0YXRlW1wiZXJyb3JzXCJdO1xuICBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIGxvYWRlckhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIEhlYWRlcnM+O1xuICBhY3Rpb25IZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBIZWFkZXJzPjtcbiAgYWN0aXZlRGVmZXJyZWRzOiBSZWNvcmQ8c3RyaW5nLCBEZWZlcnJlZERhdGE+IHwgbnVsbDtcbiAgX2RlZXBlc3RSZW5kZXJlZEJvdW5kYXJ5SWQ/OiBzdHJpbmcgfCBudWxsO1xufVxuXG4vKipcbiAqIEEgU3RhdGljSGFuZGxlciBpbnN0YW5jZSBtYW5hZ2VzIGEgc2luZ3VsYXIgU1NSIG5hdmlnYXRpb24vZmV0Y2ggZXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGF0aWNIYW5kbGVyIHtcbiAgZGF0YVJvdXRlczogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXTtcbiAgcXVlcnkoXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICBvcHRzPzoge1xuICAgICAgcmVxdWVzdENvbnRleHQ/OiB1bmtub3duO1xuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmc/OiBib29sZWFuO1xuICAgICAgZGF0YVN0cmF0ZWd5PzogRGF0YVN0cmF0ZWd5RnVuY3Rpb247XG4gICAgfVxuICApOiBQcm9taXNlPFN0YXRpY0hhbmRsZXJDb250ZXh0IHwgUmVzcG9uc2U+O1xuICBxdWVyeVJvdXRlKFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgb3B0cz86IHtcbiAgICAgIHJvdXRlSWQ/OiBzdHJpbmc7XG4gICAgICByZXF1ZXN0Q29udGV4dD86IHVua25vd247XG4gICAgICBkYXRhU3RyYXRlZ3k/OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbjtcbiAgICB9XG4gICk6IFByb21pc2U8YW55Pjtcbn1cblxudHlwZSBWaWV3VHJhbnNpdGlvbk9wdHMgPSB7XG4gIGN1cnJlbnRMb2NhdGlvbjogTG9jYXRpb247XG4gIG5leHRMb2NhdGlvbjogTG9jYXRpb247XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZXIgZnVuY3Rpb24gc2lnbmF0dXJlIGZvciBjaGFuZ2VzIHRvIHJvdXRlciBzdGF0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlclN1YnNjcmliZXIge1xuICAoXG4gICAgc3RhdGU6IFJvdXRlclN0YXRlLFxuICAgIG9wdHM6IHtcbiAgICAgIGRlbGV0ZWRGZXRjaGVyczogc3RyaW5nW107XG4gICAgICB2aWV3VHJhbnNpdGlvbk9wdHM/OiBWaWV3VHJhbnNpdGlvbk9wdHM7XG4gICAgICBmbHVzaFN5bmM6IGJvb2xlYW47XG4gICAgfVxuICApOiB2b2lkO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHNpZ25hdHVyZSBmb3IgZGV0ZXJtaW5pbmcgdGhlIGtleSB0byBiZSB1c2VkIGluIHNjcm9sbCByZXN0b3JhdGlvblxuICogZm9yIGEgZ2l2ZW4gbG9jYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRTY3JvbGxSZXN0b3JhdGlvbktleUZ1bmN0aW9uIHtcbiAgKGxvY2F0aW9uOiBMb2NhdGlvbiwgbWF0Y2hlczogVUlNYXRjaFtdKTogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBzaWduYXR1cmUgZm9yIGRldGVybWluaW5nIHRoZSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldFNjcm9sbFBvc2l0aW9uRnVuY3Rpb24ge1xuICAoKTogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBSZWxhdGl2ZVJvdXRpbmdUeXBlID0gXCJyb3V0ZVwiIHwgXCJwYXRoXCI7XG5cbi8vIEFsbG93ZWQgZm9yIGFueSBuYXZpZ2F0aW9uIG9yIGZldGNoXG50eXBlIEJhc2VOYXZpZ2F0ZU9yRmV0Y2hPcHRpb25zID0ge1xuICBwcmV2ZW50U2Nyb2xsUmVzZXQ/OiBib29sZWFuO1xuICByZWxhdGl2ZT86IFJlbGF0aXZlUm91dGluZ1R5cGU7XG4gIGZsdXNoU3luYz86IGJvb2xlYW47XG59O1xuXG4vLyBPbmx5IGFsbG93ZWQgZm9yIG5hdmlnYXRpb25zXG50eXBlIEJhc2VOYXZpZ2F0ZU9wdGlvbnMgPSBCYXNlTmF2aWdhdGVPckZldGNoT3B0aW9ucyAmIHtcbiAgcmVwbGFjZT86IGJvb2xlYW47XG4gIHN0YXRlPzogYW55O1xuICBmcm9tUm91dGVJZD86IHN0cmluZztcbiAgdmlld1RyYW5zaXRpb24/OiBib29sZWFuO1xufTtcblxuLy8gT25seSBhbGxvd2VkIGZvciBzdWJtaXNzaW9uIG5hdmlnYXRpb25zXG50eXBlIEJhc2VTdWJtaXNzaW9uT3B0aW9ucyA9IHtcbiAgZm9ybU1ldGhvZD86IEhUTUxGb3JtTWV0aG9kO1xuICBmb3JtRW5jVHlwZT86IEZvcm1FbmNUeXBlO1xufSAmIChcbiAgfCB7IGZvcm1EYXRhOiBGb3JtRGF0YTsgYm9keT86IHVuZGVmaW5lZCB9XG4gIHwgeyBmb3JtRGF0YT86IHVuZGVmaW5lZDsgYm9keTogYW55IH1cbik7XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgYSBuYXZpZ2F0ZSgpIGNhbGwgZm9yIGEgbm9ybWFsIChub24tc3VibWlzc2lvbikgbmF2aWdhdGlvblxuICovXG50eXBlIExpbmtOYXZpZ2F0ZU9wdGlvbnMgPSBCYXNlTmF2aWdhdGVPcHRpb25zO1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIGEgbmF2aWdhdGUoKSBjYWxsIGZvciBhIHN1Ym1pc3Npb24gbmF2aWdhdGlvblxuICovXG50eXBlIFN1Ym1pc3Npb25OYXZpZ2F0ZU9wdGlvbnMgPSBCYXNlTmF2aWdhdGVPcHRpb25zICYgQmFzZVN1Ym1pc3Npb25PcHRpb25zO1xuXG4vKipcbiAqIE9wdGlvbnMgdG8gcGFzcyB0byBuYXZpZ2F0ZSgpIGZvciBhIG5hdmlnYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgUm91dGVyTmF2aWdhdGVPcHRpb25zID1cbiAgfCBMaW5rTmF2aWdhdGVPcHRpb25zXG4gIHwgU3VibWlzc2lvbk5hdmlnYXRlT3B0aW9ucztcblxuLyoqXG4gKiBPcHRpb25zIGZvciBhIGZldGNoKCkgbG9hZFxuICovXG50eXBlIExvYWRGZXRjaE9wdGlvbnMgPSBCYXNlTmF2aWdhdGVPckZldGNoT3B0aW9ucztcblxuLyoqXG4gKiBPcHRpb25zIGZvciBhIGZldGNoKCkgc3VibWlzc2lvblxuICovXG50eXBlIFN1Ym1pdEZldGNoT3B0aW9ucyA9IEJhc2VOYXZpZ2F0ZU9yRmV0Y2hPcHRpb25zICYgQmFzZVN1Ym1pc3Npb25PcHRpb25zO1xuXG4vKipcbiAqIE9wdGlvbnMgdG8gcGFzcyB0byBmZXRjaCgpXG4gKi9cbmV4cG9ydCB0eXBlIFJvdXRlckZldGNoT3B0aW9ucyA9IExvYWRGZXRjaE9wdGlvbnMgfCBTdWJtaXRGZXRjaE9wdGlvbnM7XG5cbi8qKlxuICogUG90ZW50aWFsIHN0YXRlcyBmb3Igc3RhdGUubmF2aWdhdGlvblxuICovXG5leHBvcnQgdHlwZSBOYXZpZ2F0aW9uU3RhdGVzID0ge1xuICBJZGxlOiB7XG4gICAgc3RhdGU6IFwiaWRsZVwiO1xuICAgIGxvY2F0aW9uOiB1bmRlZmluZWQ7XG4gICAgZm9ybU1ldGhvZDogdW5kZWZpbmVkO1xuICAgIGZvcm1BY3Rpb246IHVuZGVmaW5lZDtcbiAgICBmb3JtRW5jVHlwZTogdW5kZWZpbmVkO1xuICAgIGZvcm1EYXRhOiB1bmRlZmluZWQ7XG4gICAganNvbjogdW5kZWZpbmVkO1xuICAgIHRleHQ6IHVuZGVmaW5lZDtcbiAgfTtcbiAgTG9hZGluZzoge1xuICAgIHN0YXRlOiBcImxvYWRpbmdcIjtcbiAgICBsb2NhdGlvbjogTG9jYXRpb247XG4gICAgZm9ybU1ldGhvZDogU3VibWlzc2lvbltcImZvcm1NZXRob2RcIl0gfCB1bmRlZmluZWQ7XG4gICAgZm9ybUFjdGlvbjogU3VibWlzc2lvbltcImZvcm1BY3Rpb25cIl0gfCB1bmRlZmluZWQ7XG4gICAgZm9ybUVuY1R5cGU6IFN1Ym1pc3Npb25bXCJmb3JtRW5jVHlwZVwiXSB8IHVuZGVmaW5lZDtcbiAgICBmb3JtRGF0YTogU3VibWlzc2lvbltcImZvcm1EYXRhXCJdIHwgdW5kZWZpbmVkO1xuICAgIGpzb246IFN1Ym1pc3Npb25bXCJqc29uXCJdIHwgdW5kZWZpbmVkO1xuICAgIHRleHQ6IFN1Ym1pc3Npb25bXCJ0ZXh0XCJdIHwgdW5kZWZpbmVkO1xuICB9O1xuICBTdWJtaXR0aW5nOiB7XG4gICAgc3RhdGU6IFwic3VibWl0dGluZ1wiO1xuICAgIGxvY2F0aW9uOiBMb2NhdGlvbjtcbiAgICBmb3JtTWV0aG9kOiBTdWJtaXNzaW9uW1wiZm9ybU1ldGhvZFwiXTtcbiAgICBmb3JtQWN0aW9uOiBTdWJtaXNzaW9uW1wiZm9ybUFjdGlvblwiXTtcbiAgICBmb3JtRW5jVHlwZTogU3VibWlzc2lvbltcImZvcm1FbmNUeXBlXCJdO1xuICAgIGZvcm1EYXRhOiBTdWJtaXNzaW9uW1wiZm9ybURhdGFcIl07XG4gICAganNvbjogU3VibWlzc2lvbltcImpzb25cIl07XG4gICAgdGV4dDogU3VibWlzc2lvbltcInRleHRcIl07XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBOYXZpZ2F0aW9uID0gTmF2aWdhdGlvblN0YXRlc1trZXlvZiBOYXZpZ2F0aW9uU3RhdGVzXTtcblxuZXhwb3J0IHR5cGUgUmV2YWxpZGF0aW9uU3RhdGUgPSBcImlkbGVcIiB8IFwibG9hZGluZ1wiO1xuXG4vKipcbiAqIFBvdGVudGlhbCBzdGF0ZXMgZm9yIGZldGNoZXJzXG4gKi9cbnR5cGUgRmV0Y2hlclN0YXRlczxURGF0YSA9IGFueT4gPSB7XG4gIElkbGU6IHtcbiAgICBzdGF0ZTogXCJpZGxlXCI7XG4gICAgZm9ybU1ldGhvZDogdW5kZWZpbmVkO1xuICAgIGZvcm1BY3Rpb246IHVuZGVmaW5lZDtcbiAgICBmb3JtRW5jVHlwZTogdW5kZWZpbmVkO1xuICAgIHRleHQ6IHVuZGVmaW5lZDtcbiAgICBmb3JtRGF0YTogdW5kZWZpbmVkO1xuICAgIGpzb246IHVuZGVmaW5lZDtcbiAgICBkYXRhOiBURGF0YSB8IHVuZGVmaW5lZDtcbiAgfTtcbiAgTG9hZGluZzoge1xuICAgIHN0YXRlOiBcImxvYWRpbmdcIjtcbiAgICBmb3JtTWV0aG9kOiBTdWJtaXNzaW9uW1wiZm9ybU1ldGhvZFwiXSB8IHVuZGVmaW5lZDtcbiAgICBmb3JtQWN0aW9uOiBTdWJtaXNzaW9uW1wiZm9ybUFjdGlvblwiXSB8IHVuZGVmaW5lZDtcbiAgICBmb3JtRW5jVHlwZTogU3VibWlzc2lvbltcImZvcm1FbmNUeXBlXCJdIHwgdW5kZWZpbmVkO1xuICAgIHRleHQ6IFN1Ym1pc3Npb25bXCJ0ZXh0XCJdIHwgdW5kZWZpbmVkO1xuICAgIGZvcm1EYXRhOiBTdWJtaXNzaW9uW1wiZm9ybURhdGFcIl0gfCB1bmRlZmluZWQ7XG4gICAganNvbjogU3VibWlzc2lvbltcImpzb25cIl0gfCB1bmRlZmluZWQ7XG4gICAgZGF0YTogVERhdGEgfCB1bmRlZmluZWQ7XG4gIH07XG4gIFN1Ym1pdHRpbmc6IHtcbiAgICBzdGF0ZTogXCJzdWJtaXR0aW5nXCI7XG4gICAgZm9ybU1ldGhvZDogU3VibWlzc2lvbltcImZvcm1NZXRob2RcIl07XG4gICAgZm9ybUFjdGlvbjogU3VibWlzc2lvbltcImZvcm1BY3Rpb25cIl07XG4gICAgZm9ybUVuY1R5cGU6IFN1Ym1pc3Npb25bXCJmb3JtRW5jVHlwZVwiXTtcbiAgICB0ZXh0OiBTdWJtaXNzaW9uW1widGV4dFwiXTtcbiAgICBmb3JtRGF0YTogU3VibWlzc2lvbltcImZvcm1EYXRhXCJdO1xuICAgIGpzb246IFN1Ym1pc3Npb25bXCJqc29uXCJdO1xuICAgIGRhdGE6IFREYXRhIHwgdW5kZWZpbmVkO1xuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgRmV0Y2hlcjxURGF0YSA9IGFueT4gPVxuICBGZXRjaGVyU3RhdGVzPFREYXRhPltrZXlvZiBGZXRjaGVyU3RhdGVzPFREYXRhPl07XG5cbmludGVyZmFjZSBCbG9ja2VyQmxvY2tlZCB7XG4gIHN0YXRlOiBcImJsb2NrZWRcIjtcbiAgcmVzZXQoKTogdm9pZDtcbiAgcHJvY2VlZCgpOiB2b2lkO1xuICBsb2NhdGlvbjogTG9jYXRpb247XG59XG5cbmludGVyZmFjZSBCbG9ja2VyVW5ibG9ja2VkIHtcbiAgc3RhdGU6IFwidW5ibG9ja2VkXCI7XG4gIHJlc2V0OiB1bmRlZmluZWQ7XG4gIHByb2NlZWQ6IHVuZGVmaW5lZDtcbiAgbG9jYXRpb246IHVuZGVmaW5lZDtcbn1cblxuaW50ZXJmYWNlIEJsb2NrZXJQcm9jZWVkaW5nIHtcbiAgc3RhdGU6IFwicHJvY2VlZGluZ1wiO1xuICByZXNldDogdW5kZWZpbmVkO1xuICBwcm9jZWVkOiB1bmRlZmluZWQ7XG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcbn1cblxuZXhwb3J0IHR5cGUgQmxvY2tlciA9IEJsb2NrZXJVbmJsb2NrZWQgfCBCbG9ja2VyQmxvY2tlZCB8IEJsb2NrZXJQcm9jZWVkaW5nO1xuXG5leHBvcnQgdHlwZSBCbG9ja2VyRnVuY3Rpb24gPSAoYXJnczoge1xuICBjdXJyZW50TG9jYXRpb246IExvY2F0aW9uO1xuICBuZXh0TG9jYXRpb246IExvY2F0aW9uO1xuICBoaXN0b3J5QWN0aW9uOiBIaXN0b3J5QWN0aW9uO1xufSkgPT4gYm9vbGVhbjtcblxuaW50ZXJmYWNlIFNob3J0Q2lyY3VpdGFibGUge1xuICAvKipcbiAgICogc3RhcnROYXZpZ2F0aW9uIGRvZXMgbm90IG5lZWQgdG8gY29tcGxldGUgdGhlIG5hdmlnYXRpb24gYmVjYXVzZSB3ZVxuICAgKiByZWRpcmVjdGVkIG9yIGdvdCBpbnRlcnJ1cHRlZFxuICAgKi9cbiAgc2hvcnRDaXJjdWl0ZWQ/OiBib29sZWFuO1xufVxuXG50eXBlIFBlbmRpbmdBY3Rpb25SZXN1bHQgPSBbc3RyaW5nLCBTdWNjZXNzUmVzdWx0IHwgRXJyb3JSZXN1bHRdO1xuXG5pbnRlcmZhY2UgSGFuZGxlQWN0aW9uUmVzdWx0IGV4dGVuZHMgU2hvcnRDaXJjdWl0YWJsZSB7XG4gIC8qKlxuICAgKiBSb3V0ZSBtYXRjaGVzIHdoaWNoIG1heSBoYXZlIGJlZW4gdXBkYXRlZCBmcm9tIGZvZyBvZiB3YXIgZGlzY292ZXJ5XG4gICAqL1xuICBtYXRjaGVzPzogUm91dGVyU3RhdGVbXCJtYXRjaGVzXCJdO1xuICAvKipcbiAgICogVHVwbGUgZm9yIHRoZSByZXR1cm5lZCBvciB0aHJvd24gdmFsdWUgZnJvbSB0aGUgY3VycmVudCBhY3Rpb24uICBUaGUgcm91dGVJZFxuICAgKiBpcyB0aGUgYWN0aW9uIHJvdXRlIGZvciBzdWNjZXNzIGFuZCB0aGUgYnViYmxlZCBib3VuZGFyeSByb3V0ZSBmb3IgZXJyb3JzLlxuICAgKi9cbiAgcGVuZGluZ0FjdGlvblJlc3VsdD86IFBlbmRpbmdBY3Rpb25SZXN1bHQ7XG59XG5cbmludGVyZmFjZSBIYW5kbGVMb2FkZXJzUmVzdWx0IGV4dGVuZHMgU2hvcnRDaXJjdWl0YWJsZSB7XG4gIC8qKlxuICAgKiBSb3V0ZSBtYXRjaGVzIHdoaWNoIG1heSBoYXZlIGJlZW4gdXBkYXRlZCBmcm9tIGZvZyBvZiB3YXIgZGlzY292ZXJ5XG4gICAqL1xuICBtYXRjaGVzPzogUm91dGVyU3RhdGVbXCJtYXRjaGVzXCJdO1xuICAvKipcbiAgICogbG9hZGVyRGF0YSByZXR1cm5lZCBmcm9tIHRoZSBjdXJyZW50IHNldCBvZiBsb2FkZXJzXG4gICAqL1xuICBsb2FkZXJEYXRhPzogUm91dGVyU3RhdGVbXCJsb2FkZXJEYXRhXCJdO1xuICAvKipcbiAgICogZXJyb3JzIHRocm93biBmcm9tIHRoZSBjdXJyZW50IHNldCBvZiBsb2FkZXJzXG4gICAqL1xuICBlcnJvcnM/OiBSb3V0ZXJTdGF0ZVtcImVycm9yc1wiXTtcbn1cblxuLyoqXG4gKiBDYWNoZWQgaW5mbyBmb3IgYWN0aXZlIGZldGNoZXIubG9hZCgpIGluc3RhbmNlcyBzbyB0aGV5IGNhbiBwYXJ0aWNpcGF0ZVxuICogaW4gcmV2YWxpZGF0aW9uXG4gKi9cbmludGVyZmFjZSBGZXRjaExvYWRNYXRjaCB7XG4gIHJvdXRlSWQ6IHN0cmluZztcbiAgcGF0aDogc3RyaW5nO1xufVxuXG4vKipcbiAqIElkZW50aWZpZWQgZmV0Y2hlci5sb2FkKCkgY2FsbHMgdGhhdCBuZWVkIHRvIGJlIHJldmFsaWRhdGVkXG4gKi9cbmludGVyZmFjZSBSZXZhbGlkYXRpbmdGZXRjaGVyIGV4dGVuZHMgRmV0Y2hMb2FkTWF0Y2gge1xuICBrZXk6IHN0cmluZztcbiAgbWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2ggfCBudWxsO1xuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10gfCBudWxsO1xuICBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIgfCBudWxsO1xufVxuXG5jb25zdCB2YWxpZE11dGF0aW9uTWV0aG9kc0FycjogTXV0YXRpb25Gb3JtTWV0aG9kW10gPSBbXG4gIFwicG9zdFwiLFxuICBcInB1dFwiLFxuICBcInBhdGNoXCIsXG4gIFwiZGVsZXRlXCIsXG5dO1xuY29uc3QgdmFsaWRNdXRhdGlvbk1ldGhvZHMgPSBuZXcgU2V0PE11dGF0aW9uRm9ybU1ldGhvZD4oXG4gIHZhbGlkTXV0YXRpb25NZXRob2RzQXJyXG4pO1xuXG5jb25zdCB2YWxpZFJlcXVlc3RNZXRob2RzQXJyOiBGb3JtTWV0aG9kW10gPSBbXG4gIFwiZ2V0XCIsXG4gIC4uLnZhbGlkTXV0YXRpb25NZXRob2RzQXJyLFxuXTtcbmNvbnN0IHZhbGlkUmVxdWVzdE1ldGhvZHMgPSBuZXcgU2V0PEZvcm1NZXRob2Q+KHZhbGlkUmVxdWVzdE1ldGhvZHNBcnIpO1xuXG5jb25zdCByZWRpcmVjdFN0YXR1c0NvZGVzID0gbmV3IFNldChbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdKTtcbmNvbnN0IHJlZGlyZWN0UHJlc2VydmVNZXRob2RTdGF0dXNDb2RlcyA9IG5ldyBTZXQoWzMwNywgMzA4XSk7XG5cbmV4cG9ydCBjb25zdCBJRExFX05BVklHQVRJT046IE5hdmlnYXRpb25TdGF0ZXNbXCJJZGxlXCJdID0ge1xuICBzdGF0ZTogXCJpZGxlXCIsXG4gIGxvY2F0aW9uOiB1bmRlZmluZWQsXG4gIGZvcm1NZXRob2Q6IHVuZGVmaW5lZCxcbiAgZm9ybUFjdGlvbjogdW5kZWZpbmVkLFxuICBmb3JtRW5jVHlwZTogdW5kZWZpbmVkLFxuICBmb3JtRGF0YTogdW5kZWZpbmVkLFxuICBqc29uOiB1bmRlZmluZWQsXG4gIHRleHQ6IHVuZGVmaW5lZCxcbn07XG5cbmV4cG9ydCBjb25zdCBJRExFX0ZFVENIRVI6IEZldGNoZXJTdGF0ZXNbXCJJZGxlXCJdID0ge1xuICBzdGF0ZTogXCJpZGxlXCIsXG4gIGRhdGE6IHVuZGVmaW5lZCxcbiAgZm9ybU1ldGhvZDogdW5kZWZpbmVkLFxuICBmb3JtQWN0aW9uOiB1bmRlZmluZWQsXG4gIGZvcm1FbmNUeXBlOiB1bmRlZmluZWQsXG4gIGZvcm1EYXRhOiB1bmRlZmluZWQsXG4gIGpzb246IHVuZGVmaW5lZCxcbiAgdGV4dDogdW5kZWZpbmVkLFxufTtcblxuZXhwb3J0IGNvbnN0IElETEVfQkxPQ0tFUjogQmxvY2tlclVuYmxvY2tlZCA9IHtcbiAgc3RhdGU6IFwidW5ibG9ja2VkXCIsXG4gIHByb2NlZWQ6IHVuZGVmaW5lZCxcbiAgcmVzZXQ6IHVuZGVmaW5lZCxcbiAgbG9jYXRpb246IHVuZGVmaW5lZCxcbn07XG5cbmNvbnN0IEFCU09MVVRFX1VSTF9SRUdFWCA9IC9eKD86W2Etel1bYS16MC05Ky4tXSo6fFxcL1xcLykvaTtcblxuY29uc3QgZGVmYXVsdE1hcFJvdXRlUHJvcGVydGllczogTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb24gPSAocm91dGUpID0+ICh7XG4gIGhhc0Vycm9yQm91bmRhcnk6IEJvb2xlYW4ocm91dGUuaGFzRXJyb3JCb3VuZGFyeSksXG59KTtcblxuY29uc3QgVFJBTlNJVElPTlNfU1RPUkFHRV9LRVkgPSBcInJlbWl4LXJvdXRlci10cmFuc2l0aW9uc1wiO1xuXG4vLyNlbmRyZWdpb25cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vI3JlZ2lvbiBjcmVhdGVSb3V0ZXJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQ3JlYXRlIGEgcm91dGVyIGFuZCBsaXN0ZW4gdG8gaGlzdG9yeSBQT1AgbmF2aWdhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlcihpbml0OiBSb3V0ZXJJbml0KTogUm91dGVyIHtcbiAgY29uc3Qgcm91dGVyV2luZG93ID0gaW5pdC53aW5kb3dcbiAgICA/IGluaXQud2luZG93XG4gICAgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgPyB3aW5kb3dcbiAgICA6IHVuZGVmaW5lZDtcbiAgY29uc3QgaXNCcm93c2VyID1cbiAgICB0eXBlb2Ygcm91dGVyV2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHJvdXRlcldpbmRvdy5kb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiByb3V0ZXJXaW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgY29uc3QgaXNTZXJ2ZXIgPSAhaXNCcm93c2VyO1xuXG4gIGludmFyaWFudChcbiAgICBpbml0LnJvdXRlcy5sZW5ndGggPiAwLFxuICAgIFwiWW91IG11c3QgcHJvdmlkZSBhIG5vbi1lbXB0eSByb3V0ZXMgYXJyYXkgdG8gY3JlYXRlUm91dGVyXCJcbiAgKTtcblxuICBsZXQgbWFwUm91dGVQcm9wZXJ0aWVzOiBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbjtcbiAgaWYgKGluaXQubWFwUm91dGVQcm9wZXJ0aWVzKSB7XG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzID0gaW5pdC5tYXBSb3V0ZVByb3BlcnRpZXM7XG4gIH0gZWxzZSBpZiAoaW5pdC5kZXRlY3RFcnJvckJvdW5kYXJ5KSB7XG4gICAgLy8gSWYgdGhleSBhcmUgc3RpbGwgdXNpbmcgdGhlIGRlcHJlY2F0ZWQgdmVyc2lvbiwgd3JhcCBpdCB3aXRoIHRoZSBuZXcgQVBJXG4gICAgbGV0IGRldGVjdEVycm9yQm91bmRhcnkgPSBpbml0LmRldGVjdEVycm9yQm91bmRhcnk7XG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzID0gKHJvdXRlKSA9PiAoe1xuICAgICAgaGFzRXJyb3JCb3VuZGFyeTogZGV0ZWN0RXJyb3JCb3VuZGFyeShyb3V0ZSksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzID0gZGVmYXVsdE1hcFJvdXRlUHJvcGVydGllcztcbiAgfVxuXG4gIC8vIFJvdXRlcyBrZXllZCBieSBJRFxuICBsZXQgbWFuaWZlc3Q6IFJvdXRlTWFuaWZlc3QgPSB7fTtcbiAgLy8gUm91dGVzIGluIHRyZWUgZm9ybWF0IGZvciBtYXRjaGluZ1xuICBsZXQgZGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgaW5pdC5yb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIHVuZGVmaW5lZCxcbiAgICBtYW5pZmVzdFxuICApO1xuICBsZXQgaW5GbGlnaHREYXRhUm91dGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdIHwgdW5kZWZpbmVkO1xuICBsZXQgYmFzZW5hbWUgPSBpbml0LmJhc2VuYW1lIHx8IFwiL1wiO1xuICBsZXQgZGF0YVN0cmF0ZWd5SW1wbCA9IGluaXQuZGF0YVN0cmF0ZWd5IHx8IGRlZmF1bHREYXRhU3RyYXRlZ3k7XG4gIGxldCBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbkltcGwgPSBpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uO1xuXG4gIC8vIENvbmZpZyBkcml2ZW4gYmVoYXZpb3IgZmxhZ3NcbiAgbGV0IGZ1dHVyZTogRnV0dXJlQ29uZmlnID0ge1xuICAgIHY3X2ZldGNoZXJQZXJzaXN0OiBmYWxzZSxcbiAgICB2N19ub3JtYWxpemVGb3JtTWV0aG9kOiBmYWxzZSxcbiAgICB2N19wYXJ0aWFsSHlkcmF0aW9uOiBmYWxzZSxcbiAgICB2N19wcmVwZW5kQmFzZW5hbWU6IGZhbHNlLFxuICAgIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBmYWxzZSxcbiAgICB2N19za2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb246IGZhbHNlLFxuICAgIC4uLmluaXQuZnV0dXJlLFxuICB9O1xuICAvLyBDbGVhbnVwIGZ1bmN0aW9uIGZvciBoaXN0b3J5XG4gIGxldCB1bmxpc3Rlbkhpc3Rvcnk6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuICAvLyBFeHRlcm5hbGx5LXByb3ZpZGVkIGZ1bmN0aW9ucyB0byBjYWxsIG9uIGFsbCBzdGF0ZSBjaGFuZ2VzXG4gIGxldCBzdWJzY3JpYmVycyA9IG5ldyBTZXQ8Um91dGVyU3Vic2NyaWJlcj4oKTtcbiAgLy8gRXh0ZXJuYWxseS1wcm92aWRlZCBvYmplY3QgdG8gaG9sZCBzY3JvbGwgcmVzdG9yYXRpb24gbG9jYXRpb25zIGR1cmluZyByb3V0aW5nXG4gIGxldCBzYXZlZFNjcm9sbFBvc2l0aW9uczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB8IG51bGwgPSBudWxsO1xuICAvLyBFeHRlcm5hbGx5LXByb3ZpZGVkIGZ1bmN0aW9uIHRvIGdldCBzY3JvbGwgcmVzdG9yYXRpb24ga2V5c1xuICBsZXQgZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXk6IEdldFNjcm9sbFJlc3RvcmF0aW9uS2V5RnVuY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgLy8gRXh0ZXJuYWxseS1wcm92aWRlZCBmdW5jdGlvbiB0byBnZXQgY3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAgbGV0IGdldFNjcm9sbFBvc2l0aW9uOiBHZXRTY3JvbGxQb3NpdGlvbkZ1bmN0aW9uIHwgbnVsbCA9IG51bGw7XG4gIC8vIE9uZS10aW1lIGZsYWcgdG8gY29udHJvbCB0aGUgaW5pdGlhbCBoeWRyYXRpb24gc2Nyb2xsIHJlc3RvcmF0aW9uLiAgQmVjYXVzZVxuICAvLyB3ZSBkb24ndCBnZXQgdGhlIHNhdmVkIHBvc2l0aW9ucyBmcm9tIDxTY3JvbGxSZXN0b3JhdGlvbiAvPiB1bnRpbCBfYWZ0ZXJfXG4gIC8vIHRoZSBpbml0aWFsIHJlbmRlciwgd2UgbmVlZCB0byBtYW51YWxseSB0cmlnZ2VyIGEgc2VwYXJhdGUgdXBkYXRlU3RhdGUgdG9cbiAgLy8gc2VuZCBhbG9uZyB0aGUgcmVzdG9yZVNjcm9sbFBvc2l0aW9uXG4gIC8vIFNldCB0byB0cnVlIGlmIHdlIGhhdmUgYGh5ZHJhdGlvbkRhdGFgIHNpbmNlIHdlIGFzc3VtZSB3ZSB3ZXJlIFNTUidkIGFuZCB0aGF0XG4gIC8vIFNTUiBkaWQgdGhlIGluaXRpYWwgc2Nyb2xsIHJlc3RvcmF0aW9uLlxuICBsZXQgaW5pdGlhbFNjcm9sbFJlc3RvcmVkID0gaW5pdC5oeWRyYXRpb25EYXRhICE9IG51bGw7XG5cbiAgbGV0IGluaXRpYWxNYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgaW5pdC5oaXN0b3J5LmxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gIGxldCBpbml0aWFsTWF0Y2hlc0lzRk9XID0gZmFsc2U7XG4gIGxldCBpbml0aWFsRXJyb3JzOiBSb3V0ZURhdGEgfCBudWxsID0gbnVsbDtcblxuICBpZiAoaW5pdGlhbE1hdGNoZXMgPT0gbnVsbCAmJiAhcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25JbXBsKSB7XG4gICAgLy8gSWYgd2UgZG8gbm90IG1hdGNoIGEgdXNlci1wcm92aWRlZC1yb3V0ZSwgZmFsbCBiYWNrIHRvIHRoZSByb290XG4gICAgLy8gdG8gYWxsb3cgdGhlIGVycm9yIGJvdW5kYXJ5IHRvIHRha2Ugb3ZlclxuICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7XG4gICAgICBwYXRobmFtZTogaW5pdC5oaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgIH0pO1xuICAgIGxldCB7IG1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgIGluaXRpYWxNYXRjaGVzID0gbWF0Y2hlcztcbiAgICBpbml0aWFsRXJyb3JzID0geyBbcm91dGUuaWRdOiBlcnJvciB9O1xuICB9XG5cbiAgLy8gSW4gU1BBIGFwcHMsIGlmIHRoZSB1c2VyIHByb3ZpZGVkIGEgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24gaW1wbGVtZW50YXRpb24gYW5kXG4gIC8vIG91ciBpbml0aWFsIG1hdGNoIGlzIGEgc3BsYXQgcm91dGUsIGNsZWFyIHRoZW0gb3V0IHNvIHdlIHJ1biB0aHJvdWdoIGxhenlcbiAgLy8gZGlzY292ZXJ5IG9uIGh5ZHJhdGlvbiBpbiBjYXNlIHRoZXJlJ3MgYSBtb3JlIGFjY3VyYXRlIGxhenkgcm91dGUgbWF0Y2guXG4gIC8vIEluIFNTUiBhcHBzICh3aXRoIGBoeWRyYXRpb25EYXRhYCksIHdlIGV4cGVjdCB0aGF0IHRoZSBzZXJ2ZXIgd2lsbCBzZW5kXG4gIC8vIHVwIHRoZSBwcm9wZXIgbWF0Y2hlZCByb3V0ZXMgc28gd2UgZG9uJ3Qgd2FudCB0byBydW4gbGF6eSBkaXNjb3Zlcnkgb25cbiAgLy8gaW5pdGlhbCBoeWRyYXRpb24gYW5kIHdhbnQgdG8gaHlkcmF0ZSBpbnRvIHRoZSBzcGxhdCByb3V0ZS5cbiAgaWYgKGluaXRpYWxNYXRjaGVzICYmICFpbml0Lmh5ZHJhdGlvbkRhdGEpIHtcbiAgICBsZXQgZm9nT2ZXYXIgPSBjaGVja0ZvZ09mV2FyKFxuICAgICAgaW5pdGlhbE1hdGNoZXMsXG4gICAgICBkYXRhUm91dGVzLFxuICAgICAgaW5pdC5oaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgKTtcbiAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlKSB7XG4gICAgICBpbml0aWFsTWF0Y2hlcyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgbGV0IGluaXRpYWxpemVkOiBib29sZWFuO1xuICBpZiAoIWluaXRpYWxNYXRjaGVzKSB7XG4gICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICBpbml0aWFsTWF0Y2hlcyA9IFtdO1xuXG4gICAgLy8gSWYgcGFydGlhbCBoeWRyYXRpb24gYW5kIGZvZyBvZiB3YXIgaXMgZW5hYmxlZCwgd2Ugd2lsbCBiZSBydW5uaW5nXG4gICAgLy8gYHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uYCBkdXJpbmcgaHlkcmF0aW9uIHNvIGluY2x1ZGUgYW55IHBhcnRpYWwgbWF0Y2hlcyBhc1xuICAgIC8vIHRoZSBpbml0aWFsIG1hdGNoZXMgc28gd2UgY2FuIHByb3Blcmx5IHJlbmRlciBgSHlkcmF0ZUZhbGxiYWNrYCdzXG4gICAgaWYgKGZ1dHVyZS52N19wYXJ0aWFsSHlkcmF0aW9uKSB7XG4gICAgICBsZXQgZm9nT2ZXYXIgPSBjaGVja0ZvZ09mV2FyKFxuICAgICAgICBudWxsLFxuICAgICAgICBkYXRhUm91dGVzLFxuICAgICAgICBpbml0Lmhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICk7XG4gICAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlICYmIGZvZ09mV2FyLm1hdGNoZXMpIHtcbiAgICAgICAgaW5pdGlhbE1hdGNoZXNJc0ZPVyA9IHRydWU7XG4gICAgICAgIGluaXRpYWxNYXRjaGVzID0gZm9nT2ZXYXIubWF0Y2hlcztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaW5pdGlhbE1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5sYXp5KSkge1xuICAgIC8vIEFsbCBpbml0aWFsTWF0Y2hlcyBuZWVkIHRvIGJlIGxvYWRlZCBiZWZvcmUgd2UncmUgcmVhZHkuICBJZiB3ZSBoYXZlIGxhenlcbiAgICAvLyBmdW5jdGlvbnMgYXJvdW5kIHN0aWxsIHRoZW4gd2UnbGwgbmVlZCB0byBydW4gdGhlbSBpbiBpbml0aWFsaXplKClcbiAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKCFpbml0aWFsTWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLmxvYWRlcikpIHtcbiAgICAvLyBJZiB3ZSd2ZSBnb3Qgbm8gbG9hZGVycyB0byBydW4sIHRoZW4gd2UncmUgZ29vZCB0byBnb1xuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChmdXR1cmUudjdfcGFydGlhbEh5ZHJhdGlvbikge1xuICAgIC8vIElmIHBhcnRpYWwgaHlkcmF0aW9uIGlzIGVuYWJsZWQsIHdlJ3JlIGluaXRpYWxpemVkIHNvIGxvbmcgYXMgd2Ugd2VyZVxuICAgIC8vIHByb3ZpZGVkIHdpdGggaHlkcmF0aW9uRGF0YSBmb3IgZXZlcnkgcm91dGUgd2l0aCBhIGxvYWRlciwgYW5kIG5vIGxvYWRlcnNcbiAgICAvLyB3ZXJlIG1hcmtlZCBmb3IgZXhwbGljaXQgaHlkcmF0aW9uXG4gICAgbGV0IGxvYWRlckRhdGEgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgPyBpbml0Lmh5ZHJhdGlvbkRhdGEubG9hZGVyRGF0YSA6IG51bGw7XG4gICAgbGV0IGVycm9ycyA9IGluaXQuaHlkcmF0aW9uRGF0YSA/IGluaXQuaHlkcmF0aW9uRGF0YS5lcnJvcnMgOiBudWxsO1xuICAgIC8vIElmIGVycm9ycyBleGlzdCwgZG9uJ3QgY29uc2lkZXIgcm91dGVzIGJlbG93IHRoZSBib3VuZGFyeVxuICAgIGlmIChlcnJvcnMpIHtcbiAgICAgIGxldCBpZHggPSBpbml0aWFsTWF0Y2hlcy5maW5kSW5kZXgoXG4gICAgICAgIChtKSA9PiBlcnJvcnMhW20ucm91dGUuaWRdICE9PSB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgICBpbml0aWFsaXplZCA9IGluaXRpYWxNYXRjaGVzXG4gICAgICAgIC5zbGljZSgwLCBpZHggKyAxKVxuICAgICAgICAuZXZlcnkoKG0pID0+ICFzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihtLnJvdXRlLCBsb2FkZXJEYXRhLCBlcnJvcnMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdGlhbGl6ZWQgPSBpbml0aWFsTWF0Y2hlcy5ldmVyeShcbiAgICAgICAgKG0pID0+ICFzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihtLnJvdXRlLCBsb2FkZXJEYXRhLCBlcnJvcnMpXG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBXaXRob3V0IHBhcnRpYWwgaHlkcmF0aW9uIC0gd2UncmUgaW5pdGlhbGl6ZWQgaWYgd2Ugd2VyZSBwcm92aWRlZCBhbnlcbiAgICAvLyBoeWRyYXRpb25EYXRhIC0gd2hpY2ggaXMgZXhwZWN0ZWQgdG8gYmUgY29tcGxldGVcbiAgICBpbml0aWFsaXplZCA9IGluaXQuaHlkcmF0aW9uRGF0YSAhPSBudWxsO1xuICB9XG5cbiAgbGV0IHJvdXRlcjogUm91dGVyO1xuICBsZXQgc3RhdGU6IFJvdXRlclN0YXRlID0ge1xuICAgIGhpc3RvcnlBY3Rpb246IGluaXQuaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGluaXQuaGlzdG9yeS5sb2NhdGlvbixcbiAgICBtYXRjaGVzOiBpbml0aWFsTWF0Y2hlcyxcbiAgICBpbml0aWFsaXplZCxcbiAgICBuYXZpZ2F0aW9uOiBJRExFX05BVklHQVRJT04sXG4gICAgLy8gRG9uJ3QgcmVzdG9yZSBvbiBpbml0aWFsIHVwZGF0ZVN0YXRlKCkgaWYgd2Ugd2VyZSBTU1InZFxuICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogaW5pdC5oeWRyYXRpb25EYXRhICE9IG51bGwgPyBmYWxzZSA6IG51bGwsXG4gICAgcHJldmVudFNjcm9sbFJlc2V0OiBmYWxzZSxcbiAgICByZXZhbGlkYXRpb246IFwiaWRsZVwiLFxuICAgIGxvYWRlckRhdGE6IChpbml0Lmh5ZHJhdGlvbkRhdGEgJiYgaW5pdC5oeWRyYXRpb25EYXRhLmxvYWRlckRhdGEpIHx8IHt9LFxuICAgIGFjdGlvbkRhdGE6IChpbml0Lmh5ZHJhdGlvbkRhdGEgJiYgaW5pdC5oeWRyYXRpb25EYXRhLmFjdGlvbkRhdGEpIHx8IG51bGwsXG4gICAgZXJyb3JzOiAoaW5pdC5oeWRyYXRpb25EYXRhICYmIGluaXQuaHlkcmF0aW9uRGF0YS5lcnJvcnMpIHx8IGluaXRpYWxFcnJvcnMsXG4gICAgZmV0Y2hlcnM6IG5ldyBNYXAoKSxcbiAgICBibG9ja2VyczogbmV3IE1hcCgpLFxuICB9O1xuXG4gIC8vIC0tIFN0YXRlZnVsIGludGVybmFsIHZhcmlhYmxlcyB0byBtYW5hZ2UgbmF2aWdhdGlvbnMgLS1cbiAgLy8gQ3VycmVudCBuYXZpZ2F0aW9uIGluIHByb2dyZXNzICh0byBiZSBjb21taXR0ZWQgaW4gY29tcGxldGVOYXZpZ2F0aW9uKVxuICBsZXQgcGVuZGluZ0FjdGlvbjogSGlzdG9yeUFjdGlvbiA9IEhpc3RvcnlBY3Rpb24uUG9wO1xuXG4gIC8vIFNob3VsZCB0aGUgY3VycmVudCBuYXZpZ2F0aW9uIHByZXZlbnQgdGhlIHNjcm9sbCByZXNldCBpZiBzY3JvbGwgY2Fubm90XG4gIC8vIGJlIHJlc3RvcmVkP1xuICBsZXQgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9IGZhbHNlO1xuXG4gIC8vIEFib3J0Q29udHJvbGxlciBmb3IgdGhlIGFjdGl2ZSBuYXZpZ2F0aW9uXG4gIGxldCBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlciB8IG51bGw7XG5cbiAgLy8gU2hvdWxkIHRoZSBjdXJyZW50IG5hdmlnYXRpb24gZW5hYmxlIGRvY3VtZW50LnN0YXJ0Vmlld1RyYW5zaXRpb24/XG4gIGxldCBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gZmFsc2U7XG5cbiAgLy8gU3RvcmUgYXBwbGllZCB2aWV3IHRyYW5zaXRpb25zIHNvIHdlIGNhbiBhcHBseSB0aGVtIG9uIFBPUFxuICBsZXQgYXBwbGllZFZpZXdUcmFuc2l0aW9uczogTWFwPHN0cmluZywgU2V0PHN0cmluZz4+ID0gbmV3IE1hcDxcbiAgICBzdHJpbmcsXG4gICAgU2V0PHN0cmluZz5cbiAgPigpO1xuXG4gIC8vIENsZWFudXAgZnVuY3Rpb24gZm9yIHBlcnNpc3RpbmcgYXBwbGllZCB0cmFuc2l0aW9ucyB0byBzZXNzaW9uU3RvcmFnZVxuICBsZXQgcmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICAvLyBXZSB1c2UgdGhpcyB0byBhdm9pZCB0b3VjaGluZyBoaXN0b3J5IGluIGNvbXBsZXRlTmF2aWdhdGlvbiBpZiBhXG4gIC8vIHJldmFsaWRhdGlvbiBpcyBlbnRpcmVseSB1bmludGVycnVwdGVkXG4gIGxldCBpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gPSBmYWxzZTtcblxuICAvLyBVc2UgdGhpcyBpbnRlcm5hbCBmbGFnIHRvIGZvcmNlIHJldmFsaWRhdGlvbiBvZiBhbGwgbG9hZGVyczpcbiAgLy8gIC0gc3VibWlzc2lvbnMgKGNvbXBsZXRlZCBvciBpbnRlcnJ1cHRlZClcbiAgLy8gIC0gdXNlUmV2YWxpZGF0b3IoKVxuICAvLyAgLSBYLVJlbWl4LVJldmFsaWRhdGUgKGZyb20gcmVkaXJlY3QpXG4gIGxldCBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gZmFsc2U7XG5cbiAgLy8gVXNlIHRoaXMgaW50ZXJuYWwgYXJyYXkgdG8gY2FwdHVyZSByb3V0ZXMgdGhhdCByZXF1aXJlIHJldmFsaWRhdGlvbiBkdWVcbiAgLy8gdG8gYSBjYW5jZWxsZWQgZGVmZXJyZWQgb24gYWN0aW9uIHN1Ym1pc3Npb25cbiAgbGV0IGNhbmNlbGxlZERlZmVycmVkUm91dGVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIC8vIFVzZSB0aGlzIGludGVybmFsIGFycmF5IHRvIGNhcHR1cmUgZmV0Y2hlciBsb2FkcyB0aGF0IHdlcmUgY2FuY2VsbGVkIGJ5IGFuXG4gIC8vIGFjdGlvbiBuYXZpZ2F0aW9uIGFuZCByZXF1aXJlIHJldmFsaWRhdGlvblxuICBsZXQgY2FuY2VsbGVkRmV0Y2hlckxvYWRzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuICAvLyBBYm9ydENvbnRyb2xsZXJzIGZvciBhbnkgaW4tZmxpZ2h0IGZldGNoZXJzXG4gIGxldCBmZXRjaENvbnRyb2xsZXJzID0gbmV3IE1hcDxzdHJpbmcsIEFib3J0Q29udHJvbGxlcj4oKTtcblxuICAvLyBUcmFjayBsb2FkcyBiYXNlZCBvbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBzdGFydGVkXG4gIGxldCBpbmNyZW1lbnRpbmdMb2FkSWQgPSAwO1xuXG4gIC8vIFRyYWNrIHRoZSBvdXRzdGFuZGluZyBwZW5kaW5nIG5hdmlnYXRpb24gZGF0YSBsb2FkIHRvIGJlIGNvbXBhcmVkIGFnYWluc3RcbiAgLy8gdGhlIGdsb2JhbGx5IGluY3JlbWVudGluZyBsb2FkIHdoZW4gYSBmZXRjaGVyIGxvYWQgbGFuZHMgYWZ0ZXIgYSBjb21wbGV0ZWRcbiAgLy8gbmF2aWdhdGlvblxuICBsZXQgcGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPSAtMTtcblxuICAvLyBGZXRjaGVycyB0aGF0IHRyaWdnZXJlZCBkYXRhIHJlbG9hZHMgYXMgYSByZXN1bHQgb2YgdGhlaXIgYWN0aW9uc1xuICBsZXQgZmV0Y2hSZWxvYWRJZHMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuXG4gIC8vIEZldGNoZXJzIHRoYXQgdHJpZ2dlcmVkIHJlZGlyZWN0IG5hdmlnYXRpb25zXG4gIGxldCBmZXRjaFJlZGlyZWN0SWRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgLy8gTW9zdCByZWNlbnQgaHJlZi9tYXRjaCBmb3IgZmV0Y2hlci5sb2FkIGNhbGxzIGZvciBmZXRjaGVyc1xuICBsZXQgZmV0Y2hMb2FkTWF0Y2hlcyA9IG5ldyBNYXA8c3RyaW5nLCBGZXRjaExvYWRNYXRjaD4oKTtcblxuICAvLyBSZWYtY291bnQgbW91bnRlZCBmZXRjaGVycyBzbyB3ZSBrbm93IHdoZW4gaXQncyBvayB0byBjbGVhbiB0aGVtIHVwXG4gIGxldCBhY3RpdmVGZXRjaGVycyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG5cbiAgLy8gRmV0Y2hlcnMgdGhhdCBoYXZlIHJlcXVlc3RlZCBhIGRlbGV0ZSB3aGVuIHVzaW5nIHY3X2ZldGNoZXJQZXJzaXN0LFxuICAvLyB0aGV5J2xsIGJlIG9mZmljaWFsbHkgcmVtb3ZlZCBhZnRlciB0aGV5IHJldHVybiB0byBpZGxlXG4gIGxldCBkZWxldGVkRmV0Y2hlcnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAvLyBTdG9yZSBEZWZlcnJlZERhdGEgaW5zdGFuY2VzIGZvciBhY3RpdmUgcm91dGUgbWF0Y2hlcy4gIFdoZW4gYVxuICAvLyByb3V0ZSBsb2FkZXIgcmV0dXJucyBkZWZlcigpIHdlIHN0aWNrIG9uZSBpbiBoZXJlLiAgVGhlbiwgd2hlbiBhIG5lc3RlZFxuICAvLyBwcm9taXNlIHJlc29sdmVzIHdlIHVwZGF0ZSBsb2FkZXJEYXRhLiAgSWYgYSBuZXcgbmF2aWdhdGlvbiBzdGFydHMgd2VcbiAgLy8gY2FuY2VsIGFjdGl2ZSBkZWZlcnJlZHMgZm9yIGVsaW1pbmF0ZWQgcm91dGVzLlxuICBsZXQgYWN0aXZlRGVmZXJyZWRzID0gbmV3IE1hcDxzdHJpbmcsIERlZmVycmVkRGF0YT4oKTtcblxuICAvLyBTdG9yZSBibG9ja2VyIGZ1bmN0aW9ucyBpbiBhIHNlcGFyYXRlIE1hcCBvdXRzaWRlIG9mIHJvdXRlciBzdGF0ZSBzaW5jZVxuICAvLyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSBVSSBzdGF0ZSBpZiB0aGV5IGNoYW5nZVxuICBsZXQgYmxvY2tlckZ1bmN0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBCbG9ja2VyRnVuY3Rpb24+KCk7XG5cbiAgLy8gTWFwIG9mIHBlbmRpbmcgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24oKSBwcm9taXNlcyAoa2V5ZWQgYnkgcGF0aC9tYXRjaGVzKSBzb1xuICAvLyB0aGF0IHdlIG9ubHkga2ljayB0aGVtIG9mZiBvbmNlIGZvciBhIGdpdmVuIGNvbWJvXG4gIGxldCBwZW5kaW5nUGF0Y2hSb3V0ZXMgPSBuZXcgTWFwPFxuICAgIHN0cmluZyxcbiAgICBSZXR1cm5UeXBlPEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbj5cbiAgPigpO1xuXG4gIC8vIEZsYWcgdG8gaWdub3JlIHRoZSBuZXh0IGhpc3RvcnkgdXBkYXRlLCBzbyB3ZSBjYW4gcmV2ZXJ0IHRoZSBVUkwgY2hhbmdlIG9uXG4gIC8vIGEgUE9QIG5hdmlnYXRpb24gdGhhdCB3YXMgYmxvY2tlZCBieSB0aGUgdXNlciB3aXRob3V0IHRvdWNoaW5nIHJvdXRlciBzdGF0ZVxuICBsZXQgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgLy8gSW5pdGlhbGl6ZSB0aGUgcm91dGVyLCBhbGwgc2lkZSBlZmZlY3RzIHNob3VsZCBiZSBraWNrZWQgb2ZmIGZyb20gaGVyZS5cbiAgLy8gSW1wbGVtZW50ZWQgYXMgYSBGbHVlbnQgQVBJIGZvciBlYXNlIG9mOlxuICAvLyAgIGxldCByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoaW5pdCkuaW5pdGlhbGl6ZSgpO1xuICBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgIC8vIElmIGhpc3RvcnkgaW5mb3JtcyB1cyBvZiBhIFBPUCBuYXZpZ2F0aW9uLCBzdGFydCB0aGUgbmF2aWdhdGlvbiBidXQgZG8gbm90IHVwZGF0ZVxuICAgIC8vIHN0YXRlLiAgV2UnbGwgdXBkYXRlIG91ciBvd24gc3RhdGUgb25jZSB0aGUgbmF2aWdhdGlvbiBjb21wbGV0ZXNcbiAgICB1bmxpc3Rlbkhpc3RvcnkgPSBpbml0Lmhpc3RvcnkubGlzdGVuKFxuICAgICAgKHsgYWN0aW9uOiBoaXN0b3J5QWN0aW9uLCBsb2NhdGlvbiwgZGVsdGEgfSkgPT4ge1xuICAgICAgICAvLyBJZ25vcmUgdGhpcyBldmVudCBpZiBpdCB3YXMganVzdCB1cyByZXNldHRpbmcgdGhlIFVSTCBmcm9tIGFcbiAgICAgICAgLy8gYmxvY2tlZCBQT1AgbmF2aWdhdGlvblxuICAgICAgICBpZiAodW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlKSB7XG4gICAgICAgICAgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlKCk7XG4gICAgICAgICAgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgYmxvY2tlckZ1bmN0aW9ucy5zaXplID09PSAwIHx8IGRlbHRhICE9IG51bGwsXG4gICAgICAgICAgXCJZb3UgYXJlIHRyeWluZyB0byB1c2UgYSBibG9ja2VyIG9uIGEgUE9QIG5hdmlnYXRpb24gdG8gYSBsb2NhdGlvbiBcIiArXG4gICAgICAgICAgICBcInRoYXQgd2FzIG5vdCBjcmVhdGVkIGJ5IEByZW1peC1ydW4vcm91dGVyLiBUaGlzIHdpbGwgZmFpbCBzaWxlbnRseSBpbiBcIiArXG4gICAgICAgICAgICBcInByb2R1Y3Rpb24uIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UgYXJlIG5hdmlnYXRpbmcgb3V0c2lkZSB0aGUgcm91dGVyIFwiICtcbiAgICAgICAgICAgIFwidmlhIGB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGVgL2B3aW5kb3cubG9jYXRpb24uaGFzaGAgaW5zdGVhZCBvZiB1c2luZyBcIiArXG4gICAgICAgICAgICBcInJvdXRlciBuYXZpZ2F0aW9uIEFQSXMuICBUaGlzIGNhbiBhbHNvIGhhcHBlbiBpZiB5b3UgYXJlIHVzaW5nIFwiICtcbiAgICAgICAgICAgIFwiY3JlYXRlSGFzaFJvdXRlciBhbmQgdGhlIHVzZXIgbWFudWFsbHkgY2hhbmdlcyB0aGUgVVJMLlwiXG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGJsb2NrZXJLZXkgPSBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBoaXN0b3J5QWN0aW9uLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoYmxvY2tlcktleSAmJiBkZWx0YSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gUmVzdG9yZSB0aGUgVVJMIHRvIG1hdGNoIHRoZSBjdXJyZW50IFVJLCBidXQgZG9uJ3QgdXBkYXRlIHJvdXRlciBzdGF0ZVxuICAgICAgICAgIGxldCBuZXh0SGlzdG9yeVVwZGF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlID0gcmVzb2x2ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpbml0Lmhpc3RvcnkuZ28oZGVsdGEgKiAtMSk7XG5cbiAgICAgICAgICAvLyBQdXQgdGhlIGJsb2NrZXIgaW50byBhIGJsb2NrZWQgc3RhdGVcbiAgICAgICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgICAgIHN0YXRlOiBcImJsb2NrZWRcIixcbiAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgcHJvY2VlZCgpIHtcbiAgICAgICAgICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5ISwge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBcInByb2NlZWRpbmdcIixcbiAgICAgICAgICAgICAgICBwcm9jZWVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVzZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIC8vIFJlLWRvIHRoZSBzYW1lIFBPUCBuYXZpZ2F0aW9uIHdlIGp1c3QgYmxvY2tlZCwgYWZ0ZXIgdGhlIHVybFxuICAgICAgICAgICAgICAvLyByZXN0b3JhdGlvbiBpcyBhbHNvIGNvbXBsZXRlLiAgU2VlOlxuICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL3JlYWN0LXJvdXRlci9pc3N1ZXMvMTE2MTNcbiAgICAgICAgICAgICAgbmV4dEhpc3RvcnlVcGRhdGVQcm9taXNlLnRoZW4oKCkgPT4gaW5pdC5oaXN0b3J5LmdvKGRlbHRhKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzZXQoKSB7XG4gICAgICAgICAgICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgICAgICAgICAgICBibG9ja2Vycy5zZXQoYmxvY2tlcktleSEsIElETEVfQkxPQ0tFUik7XG4gICAgICAgICAgICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGFydE5hdmlnYXRpb24oaGlzdG9yeUFjdGlvbiwgbG9jYXRpb24pO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAvLyBGSVhNRTogVGhpcyBmZWVscyBncm9zcy4gIEhvdyBjYW4gd2UgY2xlYW51cCB0aGUgbGluZXMgYmV0d2VlblxuICAgICAgLy8gc2Nyb2xsUmVzdG9yYXRpb24vYXBwbGllZFRyYW5zaXRpb25zIHBlcnNpc3RhbmNlP1xuICAgICAgcmVzdG9yZUFwcGxpZWRUcmFuc2l0aW9ucyhyb3V0ZXJXaW5kb3csIGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMpO1xuICAgICAgbGV0IF9zYXZlQXBwbGllZFRyYW5zaXRpb25zID0gKCkgPT5cbiAgICAgICAgcGVyc2lzdEFwcGxpZWRUcmFuc2l0aW9ucyhyb3V0ZXJXaW5kb3csIGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMpO1xuICAgICAgcm91dGVyV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBfc2F2ZUFwcGxpZWRUcmFuc2l0aW9ucyk7XG4gICAgICByZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIgPSAoKSA9PlxuICAgICAgICByb3V0ZXJXaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIF9zYXZlQXBwbGllZFRyYW5zaXRpb25zKTtcbiAgICB9XG5cbiAgICAvLyBLaWNrIG9mZiBpbml0aWFsIGRhdGEgbG9hZCBpZiBuZWVkZWQuICBVc2UgUG9wIHRvIGF2b2lkIG1vZGlmeWluZyBoaXN0b3J5XG4gICAgLy8gTm90ZSB3ZSBkb24ndCBkbyBhbnkgaGFuZGxpbmcgb2YgbGF6eSBoZXJlLiAgRm9yIFNQQSdzIGl0J2xsIGdldCBoYW5kbGVkXG4gICAgLy8gaW4gdGhlIG5vcm1hbCBuYXZpZ2F0aW9uIGZsb3cuICBGb3IgU1NSIGl0J3MgZXhwZWN0ZWQgdGhhdCBsYXp5IG1vZHVsZXMgYXJlXG4gICAgLy8gcmVzb2x2ZWQgcHJpb3IgdG8gcm91dGVyIGNyZWF0aW9uIHNpbmNlIHdlIGNhbid0IGdvIGludG8gYSBmYWxsYmFja0VsZW1lbnRcbiAgICAvLyBVSSBmb3IgU1NSJ2QgYXBwc1xuICAgIGlmICghc3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHN0YXJ0TmF2aWdhdGlvbihIaXN0b3J5QWN0aW9uLlBvcCwgc3RhdGUubG9jYXRpb24sIHtcbiAgICAgICAgaW5pdGlhbEh5ZHJhdGlvbjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByb3V0ZXI7XG4gIH1cblxuICAvLyBDbGVhbiB1cCBhIHJvdXRlciBhbmQgaXQncyBzaWRlIGVmZmVjdHNcbiAgZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICBpZiAodW5saXN0ZW5IaXN0b3J5KSB7XG4gICAgICB1bmxpc3Rlbkhpc3RvcnkoKTtcbiAgICB9XG4gICAgaWYgKHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgcmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyKCk7XG4gICAgfVxuICAgIHN1YnNjcmliZXJzLmNsZWFyKCk7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyICYmIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5hYm9ydCgpO1xuICAgIHN0YXRlLmZldGNoZXJzLmZvckVhY2goKF8sIGtleSkgPT4gZGVsZXRlRmV0Y2hlcihrZXkpKTtcbiAgICBzdGF0ZS5ibG9ja2Vycy5mb3JFYWNoKChfLCBrZXkpID0+IGRlbGV0ZUJsb2NrZXIoa2V5KSk7XG4gIH1cblxuICAvLyBTdWJzY3JpYmUgdG8gc3RhdGUgdXBkYXRlcyBmb3IgdGhlIHJvdXRlclxuICBmdW5jdGlvbiBzdWJzY3JpYmUoZm46IFJvdXRlclN1YnNjcmliZXIpIHtcbiAgICBzdWJzY3JpYmVycy5hZGQoZm4pO1xuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpYmVycy5kZWxldGUoZm4pO1xuICB9XG5cbiAgLy8gVXBkYXRlIG91ciBzdGF0ZSBhbmQgbm90aWZ5IHRoZSBjYWxsaW5nIGNvbnRleHQgb2YgdGhlIGNoYW5nZVxuICBmdW5jdGlvbiB1cGRhdGVTdGF0ZShcbiAgICBuZXdTdGF0ZTogUGFydGlhbDxSb3V0ZXJTdGF0ZT4sXG4gICAgb3B0czoge1xuICAgICAgZmx1c2hTeW5jPzogYm9vbGVhbjtcbiAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cz86IFZpZXdUcmFuc2l0aW9uT3B0cztcbiAgICB9ID0ge31cbiAgKTogdm9pZCB7XG4gICAgc3RhdGUgPSB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIC4uLm5ld1N0YXRlLFxuICAgIH07XG5cbiAgICAvLyBQcmVwIGZldGNoZXIgY2xlYW51cCBzbyB3ZSBjYW4gdGVsbCB0aGUgVUkgd2hpY2ggZmV0Y2hlciBkYXRhIGVudHJpZXNcbiAgICAvLyBjYW4gYmUgcmVtb3ZlZFxuICAgIGxldCBjb21wbGV0ZWRGZXRjaGVyczogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgZGVsZXRlZEZldGNoZXJzS2V5czogc3RyaW5nW10gPSBbXTtcblxuICAgIGlmIChmdXR1cmUudjdfZmV0Y2hlclBlcnNpc3QpIHtcbiAgICAgIHN0YXRlLmZldGNoZXJzLmZvckVhY2goKGZldGNoZXIsIGtleSkgPT4ge1xuICAgICAgICBpZiAoZmV0Y2hlci5zdGF0ZSA9PT0gXCJpZGxlXCIpIHtcbiAgICAgICAgICBpZiAoZGVsZXRlZEZldGNoZXJzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAvLyBVbm1vdW50ZWQgZnJvbSB0aGUgVUkgYW5kIGNhbiBiZSB0b3RhbGx5IHJlbW92ZWRcbiAgICAgICAgICAgIGRlbGV0ZWRGZXRjaGVyc0tleXMucHVzaChrZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXR1cm5lZCB0byBpZGxlIGJ1dCBzdGlsbCBtb3VudGVkIGluIHRoZSBVSSwgc28gc2VtaS1yZW1haW5zIGZvclxuICAgICAgICAgICAgLy8gcmV2YWxpZGF0aW9ucyBhbmQgc3VjaFxuICAgICAgICAgICAgY29tcGxldGVkRmV0Y2hlcnMucHVzaChrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGFueSBsaW5nZXJpbmcgZGVsZXRlZCBmZXRjaGVycyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWRcbiAgICAvLyBmcm9tIHN0YXRlLmZldGNoZXJzXG4gICAgZGVsZXRlZEZldGNoZXJzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCFzdGF0ZS5mZXRjaGVycy5oYXMoa2V5KSAmJiAhZmV0Y2hDb250cm9sbGVycy5oYXMoa2V5KSkge1xuICAgICAgICBkZWxldGVkRmV0Y2hlcnNLZXlzLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciBhIGxvY2FsIGNvcHkgc28gdGhhdCBpZiBmbHVzaFN5bmMgaXMgdXNlZCBhbmQgd2UgZW5kIHVwXG4gICAgLy8gcmVtb3ZpbmcgYW5kIGFkZGluZyBhIG5ldyBzdWJzY3JpYmVyIGR1ZSB0byB0aGUgdXNlQ2FsbGJhY2sgZGVwZW5kZW5jaWVzLFxuICAgIC8vIHdlIGRvbid0IGdldCBvdXJzZWx2ZXMgaW50byBhIGxvb3AgY2FsbGluZyB0aGUgbmV3IHN1YnNjcmliZXIgaW1tZWRpYXRlbHlcbiAgICBbLi4uc3Vic2NyaWJlcnNdLmZvckVhY2goKHN1YnNjcmliZXIpID0+XG4gICAgICBzdWJzY3JpYmVyKHN0YXRlLCB7XG4gICAgICAgIGRlbGV0ZWRGZXRjaGVyczogZGVsZXRlZEZldGNoZXJzS2V5cyxcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzOiBvcHRzLnZpZXdUcmFuc2l0aW9uT3B0cyxcbiAgICAgICAgZmx1c2hTeW5jOiBvcHRzLmZsdXNoU3luYyA9PT0gdHJ1ZSxcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIFJlbW92ZSBpZGxlIGZldGNoZXJzIGZyb20gc3RhdGUgc2luY2Ugd2Ugb25seSBjYXJlIGFib3V0IGluLWZsaWdodCBmZXRjaGVycy5cbiAgICBpZiAoZnV0dXJlLnY3X2ZldGNoZXJQZXJzaXN0KSB7XG4gICAgICBjb21wbGV0ZWRGZXRjaGVycy5mb3JFYWNoKChrZXkpID0+IHN0YXRlLmZldGNoZXJzLmRlbGV0ZShrZXkpKTtcbiAgICAgIGRlbGV0ZWRGZXRjaGVyc0tleXMuZm9yRWFjaCgoa2V5KSA9PiBkZWxldGVGZXRjaGVyKGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBhbHJlYWR5IGNhbGxlZCBkZWxldGVGZXRjaGVyKCkgb24gdGhlc2UsIGNhbiByZW1vdmUgdGhlbSBmcm9tIHRoaXNcbiAgICAgIC8vIFNldCBub3cgdGhhdCB3ZSd2ZSBoYW5kZWQgdGhlIGtleXMgb2ZmIHRvIHRoZSBkYXRhIGxheWVyXG4gICAgICBkZWxldGVkRmV0Y2hlcnNLZXlzLmZvckVhY2goKGtleSkgPT4gZGVsZXRlZEZldGNoZXJzLmRlbGV0ZShrZXkpKTtcbiAgICB9XG4gIH1cblxuICAvLyBDb21wbGV0ZSBhIG5hdmlnYXRpb24gcmV0dXJuaW5nIHRoZSBzdGF0ZS5uYXZpZ2F0aW9uIGJhY2sgdG8gdGhlIElETEVfTkFWSUdBVElPTlxuICAvLyBhbmQgc2V0dGluZyBzdGF0ZS5baGlzdG9yeUFjdGlvbi9sb2NhdGlvbi9tYXRjaGVzXSB0byB0aGUgbmV3IHJvdXRlLlxuICAvLyAtIExvY2F0aW9uIGlzIGEgcmVxdWlyZWQgcGFyYW1cbiAgLy8gLSBOYXZpZ2F0aW9uIHdpbGwgYWx3YXlzIGJlIHNldCB0byBJRExFX05BVklHQVRJT05cbiAgLy8gLSBDYW4gcGFzcyBhbnkgb3RoZXIgc3RhdGUgaW4gbmV3U3RhdGVcbiAgZnVuY3Rpb24gY29tcGxldGVOYXZpZ2F0aW9uKFxuICAgIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgICBuZXdTdGF0ZTogUGFydGlhbDxPbWl0PFJvdXRlclN0YXRlLCBcImFjdGlvblwiIHwgXCJsb2NhdGlvblwiIHwgXCJuYXZpZ2F0aW9uXCI+PixcbiAgICB7IGZsdXNoU3luYyB9OiB7IGZsdXNoU3luYz86IGJvb2xlYW4gfSA9IHt9XG4gICk6IHZvaWQge1xuICAgIC8vIERlZHVjZSBpZiB3ZSdyZSBpbiBhIGxvYWRpbmcvYWN0aW9uUmVsb2FkIHN0YXRlOlxuICAgIC8vIC0gV2UgaGF2ZSBjb21taXR0ZWQgYWN0aW9uRGF0YSBpbiB0aGUgc3RvcmVcbiAgICAvLyAtIFRoZSBjdXJyZW50IG5hdmlnYXRpb24gd2FzIGEgbXV0YXRpb24gc3VibWlzc2lvblxuICAgIC8vIC0gV2UncmUgcGFzdCB0aGUgc3VibWl0dGluZyBzdGF0ZSBhbmQgaW50byB0aGUgbG9hZGluZyBzdGF0ZVxuICAgIC8vIC0gVGhlIGxvY2F0aW9uIGJlaW5nIGxvYWRlZCBpcyBub3QgdGhlIHJlc3VsdCBvZiBhIHJlZGlyZWN0XG4gICAgbGV0IGlzQWN0aW9uUmVsb2FkID1cbiAgICAgIHN0YXRlLmFjdGlvbkRhdGEgIT0gbnVsbCAmJlxuICAgICAgc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kICE9IG51bGwgJiZcbiAgICAgIGlzTXV0YXRpb25NZXRob2Qoc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kKSAmJlxuICAgICAgc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIgJiZcbiAgICAgIGxvY2F0aW9uLnN0YXRlPy5faXNSZWRpcmVjdCAhPT0gdHJ1ZTtcblxuICAgIGxldCBhY3Rpb25EYXRhOiBSb3V0ZURhdGEgfCBudWxsO1xuICAgIGlmIChuZXdTdGF0ZS5hY3Rpb25EYXRhKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMobmV3U3RhdGUuYWN0aW9uRGF0YSkubGVuZ3RoID4gMCkge1xuICAgICAgICBhY3Rpb25EYXRhID0gbmV3U3RhdGUuYWN0aW9uRGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVtcHR5IGFjdGlvbkRhdGEgLT4gY2xlYXIgcHJpb3IgYWN0aW9uRGF0YSBkdWUgdG8gYW4gYWN0aW9uIGVycm9yXG4gICAgICAgIGFjdGlvbkRhdGEgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBY3Rpb25SZWxvYWQpIHtcbiAgICAgIC8vIEtlZXAgdGhlIGN1cnJlbnQgZGF0YSBpZiB3ZSdyZSB3cmFwcGluZyB1cCB0aGUgYWN0aW9uIHJlbG9hZFxuICAgICAgYWN0aW9uRGF0YSA9IHN0YXRlLmFjdGlvbkRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENsZWFyIGFjdGlvbkRhdGEgb24gYW55IG90aGVyIGNvbXBsZXRlZCBuYXZpZ2F0aW9uc1xuICAgICAgYWN0aW9uRGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQWx3YXlzIHByZXNlcnZlIGFueSBleGlzdGluZyBsb2FkZXJEYXRhIGZyb20gcmUtdXNlZCByb3V0ZXNcbiAgICBsZXQgbG9hZGVyRGF0YSA9IG5ld1N0YXRlLmxvYWRlckRhdGFcbiAgICAgID8gbWVyZ2VMb2FkZXJEYXRhKFxuICAgICAgICAgIHN0YXRlLmxvYWRlckRhdGEsXG4gICAgICAgICAgbmV3U3RhdGUubG9hZGVyRGF0YSxcbiAgICAgICAgICBuZXdTdGF0ZS5tYXRjaGVzIHx8IFtdLFxuICAgICAgICAgIG5ld1N0YXRlLmVycm9yc1xuICAgICAgICApXG4gICAgICA6IHN0YXRlLmxvYWRlckRhdGE7XG5cbiAgICAvLyBPbiBhIHN1Y2Nlc3NmdWwgbmF2aWdhdGlvbiB3ZSBjYW4gYXNzdW1lIHdlIGdvdCB0aHJvdWdoIGFsbCBibG9ja2Vyc1xuICAgIC8vIHNvIHdlIGNhbiBzdGFydCBmcmVzaFxuICAgIGxldCBibG9ja2VycyA9IHN0YXRlLmJsb2NrZXJzO1xuICAgIGlmIChibG9ja2Vycy5zaXplID4gMCkge1xuICAgICAgYmxvY2tlcnMgPSBuZXcgTWFwKGJsb2NrZXJzKTtcbiAgICAgIGJsb2NrZXJzLmZvckVhY2goKF8sIGspID0+IGJsb2NrZXJzLnNldChrLCBJRExFX0JMT0NLRVIpKTtcbiAgICB9XG5cbiAgICAvLyBBbHdheXMgcmVzcGVjdCB0aGUgdXNlciBmbGFnLiAgT3RoZXJ3aXNlIGRvbid0IHJlc2V0IG9uIG11dGF0aW9uXG4gICAgLy8gc3VibWlzc2lvbiBuYXZpZ2F0aW9ucyB1bmxlc3MgdGhleSByZWRpcmVjdFxuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPVxuICAgICAgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9PT0gdHJ1ZSB8fFxuICAgICAgKHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCAhPSBudWxsICYmXG4gICAgICAgIGlzTXV0YXRpb25NZXRob2Qoc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kKSAmJlxuICAgICAgICBsb2NhdGlvbi5zdGF0ZT8uX2lzUmVkaXJlY3QgIT09IHRydWUpO1xuXG4gICAgLy8gQ29tbWl0IGFueSBpbi1mbGlnaHQgcm91dGVzIGF0IHRoZSBlbmQgb2YgdGhlIEhNUiByZXZhbGlkYXRpb24gXCJuYXZpZ2F0aW9uXCJcbiAgICBpZiAoaW5GbGlnaHREYXRhUm91dGVzKSB7XG4gICAgICBkYXRhUm91dGVzID0gaW5GbGlnaHREYXRhUm91dGVzO1xuICAgICAgaW5GbGlnaHREYXRhUm91dGVzID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24pIHtcbiAgICAgIC8vIElmIHRoaXMgd2FzIGFuIHVuaW50ZXJydXB0ZWQgcmV2YWxpZGF0aW9uIHRoZW4gZG8gbm90IHRvdWNoIGhpc3RvcnlcbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb24gPT09IEhpc3RvcnlBY3Rpb24uUG9wKSB7XG4gICAgICAvLyBEbyBub3RoaW5nIGZvciBQT1AgLSBVUkwgaGFzIGFscmVhZHkgYmVlbiB1cGRhdGVkXG4gICAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uID09PSBIaXN0b3J5QWN0aW9uLlB1c2gpIHtcbiAgICAgIGluaXQuaGlzdG9yeS5wdXNoKGxvY2F0aW9uLCBsb2NhdGlvbi5zdGF0ZSk7XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uID09PSBIaXN0b3J5QWN0aW9uLlJlcGxhY2UpIHtcbiAgICAgIGluaXQuaGlzdG9yeS5yZXBsYWNlKGxvY2F0aW9uLCBsb2NhdGlvbi5zdGF0ZSk7XG4gICAgfVxuXG4gICAgbGV0IHZpZXdUcmFuc2l0aW9uT3B0czogVmlld1RyYW5zaXRpb25PcHRzIHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gT24gUE9QLCBlbmFibGUgdHJhbnNpdGlvbnMgaWYgdGhleSB3ZXJlIGVuYWJsZWQgb24gdGhlIG9yaWdpbmFsIG5hdmlnYXRpb25cbiAgICBpZiAocGVuZGluZ0FjdGlvbiA9PT0gSGlzdG9yeUFjdGlvbi5Qb3ApIHtcbiAgICAgIC8vIEZvcndhcmQgdGFrZXMgcHJlY2VkZW5jZSBzbyB0aGV5IGJlaGF2ZSBsaWtlIHRoZSBvcmlnaW5hbCBuYXZpZ2F0aW9uXG4gICAgICBsZXQgcHJpb3JQYXRocyA9IGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMuZ2V0KHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgIGlmIChwcmlvclBhdGhzICYmIHByaW9yUGF0aHMuaGFzKGxvY2F0aW9uLnBhdGhuYW1lKSkge1xuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPSB7XG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChhcHBsaWVkVmlld1RyYW5zaXRpb25zLmhhcyhsb2NhdGlvbi5wYXRobmFtZSkpIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHByZXZpb3VzIGZvcndhcmQgbmF2LCBhc3N1bWUgd2UncmUgcG9wcGluZyBiYWNrIHRvXG4gICAgICAgIC8vIHRoZSBuZXcgbG9jYXRpb24gYW5kIGVuYWJsZSBpZiB0aGF0IGxvY2F0aW9uIHByZXZpb3VzbHkgZW5hYmxlZFxuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPSB7XG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCkge1xuICAgICAgLy8gU3RvcmUgdGhlIGFwcGxpZWQgdHJhbnNpdGlvbiBvbiBQVVNIL1JFUExBQ0VcbiAgICAgIGxldCB0b1BhdGhzID0gYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5nZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgaWYgKHRvUGF0aHMpIHtcbiAgICAgICAgdG9QYXRocy5hZGQobG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9QYXRocyA9IG5ldyBTZXQ8c3RyaW5nPihbbG9jYXRpb24ucGF0aG5hbWVdKTtcbiAgICAgICAgYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5zZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUsIHRvUGF0aHMpO1xuICAgICAgfVxuICAgICAgdmlld1RyYW5zaXRpb25PcHRzID0ge1xuICAgICAgICBjdXJyZW50TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICBuZXh0TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB1cGRhdGVTdGF0ZShcbiAgICAgIHtcbiAgICAgICAgLi4ubmV3U3RhdGUsIC8vIG1hdGNoZXMsIGVycm9ycywgZmV0Y2hlcnMgZ28gdGhyb3VnaCBhcy1pc1xuICAgICAgICBhY3Rpb25EYXRhLFxuICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICBoaXN0b3J5QWN0aW9uOiBwZW5kaW5nQWN0aW9uLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICAgIG5hdmlnYXRpb246IElETEVfTkFWSUdBVElPTixcbiAgICAgICAgcmV2YWxpZGF0aW9uOiBcImlkbGVcIixcbiAgICAgICAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKFxuICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgIG5ld1N0YXRlLm1hdGNoZXMgfHwgc3RhdGUubWF0Y2hlc1xuICAgICAgICApLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIGJsb2NrZXJzLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzLFxuICAgICAgICBmbHVzaFN5bmM6IGZsdXNoU3luYyA9PT0gdHJ1ZSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gUmVzZXQgc3RhdGVmdWwgbmF2aWdhdGlvbiB2YXJzXG4gICAgcGVuZGluZ0FjdGlvbiA9IEhpc3RvcnlBY3Rpb24uUG9wO1xuICAgIHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPSBmYWxzZTtcbiAgICBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gZmFsc2U7XG4gICAgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID0gZmFsc2U7XG4gICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xuICAgIGNhbmNlbGxlZERlZmVycmVkUm91dGVzID0gW107XG4gIH1cblxuICAvLyBUcmlnZ2VyIGEgbmF2aWdhdGlvbiBldmVudCwgd2hpY2ggY2FuIGVpdGhlciBiZSBhIG51bWVyaWNhbCBQT1Agb3IgYSBQVVNIXG4gIC8vIHJlcGxhY2Ugd2l0aCBhbiBvcHRpb25hbCBzdWJtaXNzaW9uXG4gIGFzeW5jIGZ1bmN0aW9uIG5hdmlnYXRlKFxuICAgIHRvOiBudW1iZXIgfCBUbyB8IG51bGwsXG4gICAgb3B0cz86IFJvdXRlck5hdmlnYXRlT3B0aW9uc1xuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICBpbml0Lmhpc3RvcnkuZ28odG8pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVRvKFxuICAgICAgc3RhdGUubG9jYXRpb24sXG4gICAgICBzdGF0ZS5tYXRjaGVzLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBmdXR1cmUudjdfcHJlcGVuZEJhc2VuYW1lLFxuICAgICAgdG8sXG4gICAgICBmdXR1cmUudjdfcmVsYXRpdmVTcGxhdFBhdGgsXG4gICAgICBvcHRzPy5mcm9tUm91dGVJZCxcbiAgICAgIG9wdHM/LnJlbGF0aXZlXG4gICAgKTtcbiAgICBsZXQgeyBwYXRoLCBzdWJtaXNzaW9uLCBlcnJvciB9ID0gbm9ybWFsaXplTmF2aWdhdGVPcHRpb25zKFxuICAgICAgZnV0dXJlLnY3X25vcm1hbGl6ZUZvcm1NZXRob2QsXG4gICAgICBmYWxzZSxcbiAgICAgIG5vcm1hbGl6ZWRQYXRoLFxuICAgICAgb3B0c1xuICAgICk7XG5cbiAgICBsZXQgY3VycmVudExvY2F0aW9uID0gc3RhdGUubG9jYXRpb247XG4gICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHN0YXRlLmxvY2F0aW9uLCBwYXRoLCBvcHRzICYmIG9wdHMuc3RhdGUpO1xuXG4gICAgLy8gV2hlbiB1c2luZyBuYXZpZ2F0ZSBhcyBhIFBVU0gvUkVQTEFDRSB3ZSBhcmVuJ3QgcmVhZGluZyBhbiBhbHJlYWR5LWVuY29kZWRcbiAgICAvLyBVUkwgZnJvbSB3aW5kb3cubG9jYXRpb24sIHNvIHdlIG5lZWQgdG8gZW5jb2RlIGl0IGhlcmUgc28gdGhlIGJlaGF2aW9yXG4gICAgLy8gcmVtYWlucyB0aGUgc2FtZSBhcyBQT1AgYW5kIG5vbi1kYXRhLXJvdXRlciB1c2FnZXMuICBuZXcgVVJMKCkgZG9lcyBhbGxcbiAgICAvLyB0aGUgc2FtZSBlbmNvZGluZyB3ZSdkIGdldCBmcm9tIGEgaGlzdG9yeS5wdXNoU3RhdGUvd2luZG93LmxvY2F0aW9uIHJlYWRcbiAgICAvLyB3aXRob3V0IGhhdmluZyB0byB0b3VjaCBoaXN0b3J5XG4gICAgbmV4dExvY2F0aW9uID0ge1xuICAgICAgLi4ubmV4dExvY2F0aW9uLFxuICAgICAgLi4uaW5pdC5oaXN0b3J5LmVuY29kZUxvY2F0aW9uKG5leHRMb2NhdGlvbiksXG4gICAgfTtcblxuICAgIGxldCB1c2VyUmVwbGFjZSA9IG9wdHMgJiYgb3B0cy5yZXBsYWNlICE9IG51bGwgPyBvcHRzLnJlcGxhY2UgOiB1bmRlZmluZWQ7XG5cbiAgICBsZXQgaGlzdG9yeUFjdGlvbiA9IEhpc3RvcnlBY3Rpb24uUHVzaDtcblxuICAgIGlmICh1c2VyUmVwbGFjZSA9PT0gdHJ1ZSkge1xuICAgICAgaGlzdG9yeUFjdGlvbiA9IEhpc3RvcnlBY3Rpb24uUmVwbGFjZTtcbiAgICB9IGVsc2UgaWYgKHVzZXJSZXBsYWNlID09PSBmYWxzZSkge1xuICAgICAgLy8gbm8tb3BcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgc3VibWlzc2lvbiAhPSBudWxsICYmXG4gICAgICBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkgJiZcbiAgICAgIHN1Ym1pc3Npb24uZm9ybUFjdGlvbiA9PT0gc3RhdGUubG9jYXRpb24ucGF0aG5hbWUgKyBzdGF0ZS5sb2NhdGlvbi5zZWFyY2hcbiAgICApIHtcbiAgICAgIC8vIEJ5IGRlZmF1bHQgb24gc3VibWlzc2lvbnMgdG8gdGhlIGN1cnJlbnQgbG9jYXRpb24gd2UgUkVQTEFDRSBzbyB0aGF0XG4gICAgICAvLyB1c2VycyBkb24ndCBoYXZlIHRvIGRvdWJsZS1jbGljayB0aGUgYmFjayBidXR0b24gdG8gZ2V0IHRvIHRoZSBwcmlvclxuICAgICAgLy8gbG9jYXRpb24uICBJZiB0aGUgdXNlciByZWRpcmVjdHMgdG8gYSBkaWZmZXJlbnQgbG9jYXRpb24gZnJvbSB0aGVcbiAgICAgIC8vIGFjdGlvbi9sb2FkZXIgdGhpcyB3aWxsIGJlIGlnbm9yZWQgYW5kIHRoZSByZWRpcmVjdCB3aWxsIGJlIGEgUFVTSFxuICAgICAgaGlzdG9yeUFjdGlvbiA9IEhpc3RvcnlBY3Rpb24uUmVwbGFjZTtcbiAgICB9XG5cbiAgICBsZXQgcHJldmVudFNjcm9sbFJlc2V0ID1cbiAgICAgIG9wdHMgJiYgXCJwcmV2ZW50U2Nyb2xsUmVzZXRcIiBpbiBvcHRzXG4gICAgICAgID8gb3B0cy5wcmV2ZW50U2Nyb2xsUmVzZXQgPT09IHRydWVcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBsZXQgZmx1c2hTeW5jID0gKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlO1xuXG4gICAgbGV0IGJsb2NrZXJLZXkgPSBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgaGlzdG9yeUFjdGlvbixcbiAgICB9KTtcblxuICAgIGlmIChibG9ja2VyS2V5KSB7XG4gICAgICAvLyBQdXQgdGhlIGJsb2NrZXIgaW50byBhIGJsb2NrZWQgc3RhdGVcbiAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICBzdGF0ZTogXCJibG9ja2VkXCIsXG4gICAgICAgIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sXG4gICAgICAgIHByb2NlZWQoKSB7XG4gICAgICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5ISwge1xuICAgICAgICAgICAgc3RhdGU6IFwicHJvY2VlZGluZ1wiLFxuICAgICAgICAgICAgcHJvY2VlZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcmVzZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gU2VuZCB0aGUgc2FtZSBuYXZpZ2F0aW9uIHRocm91Z2hcbiAgICAgICAgICBuYXZpZ2F0ZSh0bywgb3B0cyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0KCkge1xuICAgICAgICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgICAgICAgIGJsb2NrZXJzLnNldChibG9ja2VyS2V5ISwgSURMRV9CTE9DS0VSKTtcbiAgICAgICAgICB1cGRhdGVTdGF0ZSh7IGJsb2NrZXJzIH0pO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHN0YXJ0TmF2aWdhdGlvbihoaXN0b3J5QWN0aW9uLCBuZXh0TG9jYXRpb24sIHtcbiAgICAgIHN1Ym1pc3Npb24sXG4gICAgICAvLyBTZW5kIHRocm91Z2ggdGhlIGZvcm1EYXRhIHNlcmlhbGl6YXRpb24gZXJyb3IgaWYgd2UgaGF2ZSBvbmUgc28gd2UgY2FuXG4gICAgICAvLyByZW5kZXIgYXQgdGhlIHJpZ2h0IGVycm9yIGJvdW5kYXJ5IGFmdGVyIHdlIG1hdGNoIHJvdXRlc1xuICAgICAgcGVuZGluZ0Vycm9yOiBlcnJvcixcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHJlcGxhY2U6IG9wdHMgJiYgb3B0cy5yZXBsYWNlLFxuICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IG9wdHMgJiYgb3B0cy52aWV3VHJhbnNpdGlvbixcbiAgICAgIGZsdXNoU3luYyxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFJldmFsaWRhdGUgYWxsIGN1cnJlbnQgbG9hZGVycy4gIElmIGEgbmF2aWdhdGlvbiBpcyBpbiBwcm9ncmVzcyBvciBpZiB0aGlzXG4gIC8vIGlzIGludGVycnVwdGVkIGJ5IGEgbmF2aWdhdGlvbiwgYWxsb3cgdGhpcyB0byBcInN1Y2NlZWRcIiBieSBjYWxsaW5nIGFsbFxuICAvLyBsb2FkZXJzIGR1cmluZyB0aGUgbmV4dCBsb2FkZXIgcm91bmRcbiAgZnVuY3Rpb24gcmV2YWxpZGF0ZSgpIHtcbiAgICBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpO1xuICAgIHVwZGF0ZVN0YXRlKHsgcmV2YWxpZGF0aW9uOiBcImxvYWRpbmdcIiB9KTtcblxuICAgIC8vIElmIHdlJ3JlIGN1cnJlbnRseSBzdWJtaXR0aW5nIGFuIGFjdGlvbiwgd2UgZG9uJ3QgbmVlZCB0byBzdGFydCBhIG5ld1xuICAgIC8vIG5hdmlnYXRpb24sIHdlJ2xsIGp1c3QgbGV0IHRoZSBmb2xsb3cgdXAgbG9hZGVyIGV4ZWN1dGlvbiBjYWxsIGFsbCBsb2FkZXJzXG4gICAgaWYgKHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwic3VibWl0dGluZ1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgd2UncmUgY3VycmVudGx5IGluIGFuIGlkbGUgc3RhdGUsIHN0YXJ0IGEgbmV3IG5hdmlnYXRpb24gZm9yIHRoZSBjdXJyZW50XG4gICAgLy8gYWN0aW9uL2xvY2F0aW9uIGFuZCBtYXJrIGl0IGFzIHVuaW50ZXJydXB0ZWQsIHdoaWNoIHdpbGwgc2tpcCB0aGUgaGlzdG9yeVxuICAgIC8vIHVwZGF0ZSBpbiBjb21wbGV0ZU5hdmlnYXRpb25cbiAgICBpZiAoc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJpZGxlXCIpIHtcbiAgICAgIHN0YXJ0TmF2aWdhdGlvbihzdGF0ZS5oaXN0b3J5QWN0aW9uLCBzdGF0ZS5sb2NhdGlvbiwge1xuICAgICAgICBzdGFydFVuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb246IHRydWUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPdGhlcndpc2UsIGlmIHdlJ3JlIGN1cnJlbnRseSBpbiBhIGxvYWRpbmcgc3RhdGUsIGp1c3Qgc3RhcnQgYSBuZXdcbiAgICAvLyBuYXZpZ2F0aW9uIHRvIHRoZSBuYXZpZ2F0aW9uLmxvY2F0aW9uIGJ1dCBkbyBub3QgdHJpZ2dlciBhbiB1bmludGVycnVwdGVkXG4gICAgLy8gcmV2YWxpZGF0aW9uIHNvIHRoYXQgaGlzdG9yeSBjb3JyZWN0bHkgdXBkYXRlcyBvbmNlIHRoZSBuYXZpZ2F0aW9uIGNvbXBsZXRlc1xuICAgIHN0YXJ0TmF2aWdhdGlvbihcbiAgICAgIHBlbmRpbmdBY3Rpb24gfHwgc3RhdGUuaGlzdG9yeUFjdGlvbixcbiAgICAgIHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24sXG4gICAgICB7XG4gICAgICAgIG92ZXJyaWRlTmF2aWdhdGlvbjogc3RhdGUubmF2aWdhdGlvbixcbiAgICAgICAgLy8gUHJveHkgdGhyb3VnaCBhbnkgcmVuZGluZyB2aWV3IHRyYW5zaXRpb25cbiAgICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPT09IHRydWUsXG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IGEgbmF2aWdhdGlvbiB0byB0aGUgZ2l2ZW4gYWN0aW9uL2xvY2F0aW9uLiAgQ2FuIG9wdGlvbmFsbHkgcHJvdmlkZSBhXG4gIC8vIG92ZXJyaWRlTmF2aWdhdGlvbiB3aGljaCB3aWxsIG92ZXJyaWRlIHRoZSBub3JtYWxMb2FkIGluIHRoZSBjYXNlIG9mIGEgcmVkaXJlY3RcbiAgLy8gbmF2aWdhdGlvblxuICBhc3luYyBmdW5jdGlvbiBzdGFydE5hdmlnYXRpb24oXG4gICAgaGlzdG9yeUFjdGlvbjogSGlzdG9yeUFjdGlvbixcbiAgICBsb2NhdGlvbjogTG9jYXRpb24sXG4gICAgb3B0cz86IHtcbiAgICAgIGluaXRpYWxIeWRyYXRpb24/OiBib29sZWFuO1xuICAgICAgc3VibWlzc2lvbj86IFN1Ym1pc3Npb247XG4gICAgICBmZXRjaGVyU3VibWlzc2lvbj86IFN1Ym1pc3Npb247XG4gICAgICBvdmVycmlkZU5hdmlnYXRpb24/OiBOYXZpZ2F0aW9uO1xuICAgICAgcGVuZGluZ0Vycm9yPzogRXJyb3JSZXNwb25zZUltcGw7XG4gICAgICBzdGFydFVuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24/OiBib29sZWFuO1xuICAgICAgcHJldmVudFNjcm9sbFJlc2V0PzogYm9vbGVhbjtcbiAgICAgIHJlcGxhY2U/OiBib29sZWFuO1xuICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb24/OiBib29sZWFuO1xuICAgICAgZmx1c2hTeW5jPzogYm9vbGVhbjtcbiAgICB9XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIEFib3J0IGFueSBpbi1wcm9ncmVzcyBuYXZpZ2F0aW9ucyBhbmQgc3RhcnQgYSBuZXcgb25lLiBVbnNldCBhbnkgb25nb2luZ1xuICAgIC8vIHVuaW50ZXJydXB0ZWQgcmV2YWxpZGF0aW9ucyB1bmxlc3MgdG9sZCBvdGhlcndpc2UsIHNpbmNlIHdlIHdhbnQgdGhpc1xuICAgIC8vIG5ldyBuYXZpZ2F0aW9uIHRvIHVwZGF0ZSBoaXN0b3J5IG5vcm1hbGx5XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyICYmIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5hYm9ydCgpO1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgcGVuZGluZ0FjdGlvbiA9IGhpc3RvcnlBY3Rpb247XG4gICAgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID1cbiAgICAgIChvcHRzICYmIG9wdHMuc3RhcnRVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uKSA9PT0gdHJ1ZTtcblxuICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uIGV2ZXJ5IHRpbWUgd2Ugc3RhcnQgYSBuZXcgbmF2aWdhdGlvbixcbiAgICAvLyBhbmQgdHJhY2sgd2hldGhlciB3ZSBzaG91bGQgcmVzZXQgc2Nyb2xsIG9uIGNvbXBsZXRpb25cbiAgICBzYXZlU2Nyb2xsUG9zaXRpb24oc3RhdGUubG9jYXRpb24sIHN0YXRlLm1hdGNoZXMpO1xuICAgIHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPSAob3B0cyAmJiBvcHRzLnByZXZlbnRTY3JvbGxSZXNldCkgPT09IHRydWU7XG5cbiAgICBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gKG9wdHMgJiYgb3B0cy5lbmFibGVWaWV3VHJhbnNpdGlvbikgPT09IHRydWU7XG5cbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgbG9hZGluZ05hdmlnYXRpb24gPSBvcHRzICYmIG9wdHMub3ZlcnJpZGVOYXZpZ2F0aW9uO1xuICAgIGxldCBtYXRjaGVzID1cbiAgICAgIG9wdHM/LmluaXRpYWxIeWRyYXRpb24gJiZcbiAgICAgIHN0YXRlLm1hdGNoZXMgJiZcbiAgICAgIHN0YXRlLm1hdGNoZXMubGVuZ3RoID4gMCAmJlxuICAgICAgIWluaXRpYWxNYXRjaGVzSXNGT1dcbiAgICAgICAgPyAvLyBgbWF0Y2hSb3V0ZXMoKWAgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWQgaWYgd2UncmUgaW4gaGVyZSB2aWEgYHJvdXRlci5pbml0aWFsaXplKClgXG4gICAgICAgICAgc3RhdGUubWF0Y2hlc1xuICAgICAgICA6IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBsb2NhdGlvbiwgYmFzZW5hbWUpO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG5cbiAgICAvLyBTaG9ydCBjaXJjdWl0IGlmIGl0J3Mgb25seSBhIGhhc2ggY2hhbmdlIGFuZCBub3QgYSByZXZhbGlkYXRpb24gb3JcbiAgICAvLyBtdXRhdGlvbiBzdWJtaXNzaW9uLlxuICAgIC8vXG4gICAgLy8gSWdub3JlIG9uIGluaXRpYWwgcGFnZSBsb2FkcyBiZWNhdXNlIHNpbmNlIHRoZSBpbml0aWFsIGh5ZHJhdGlvbiB3aWxsIGFsd2F5c1xuICAgIC8vIGJlIFwic2FtZSBoYXNoXCIuICBGb3IgZXhhbXBsZSwgb24gL3BhZ2UjaGFzaCBhbmQgc3VibWl0IGEgPEZvcm0gbWV0aG9kPVwicG9zdFwiPlxuICAgIC8vIHdoaWNoIHdpbGwgZGVmYXVsdCB0byBhIG5hdmlnYXRpb24gdG8gL3BhZ2VcbiAgICBpZiAoXG4gICAgICBtYXRjaGVzICYmXG4gICAgICBzdGF0ZS5pbml0aWFsaXplZCAmJlxuICAgICAgIWlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgJiZcbiAgICAgIGlzSGFzaENoYW5nZU9ubHkoc3RhdGUubG9jYXRpb24sIGxvY2F0aW9uKSAmJlxuICAgICAgIShvcHRzICYmIG9wdHMuc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKG9wdHMuc3VibWlzc2lvbi5mb3JtTWV0aG9kKSlcbiAgICApIHtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwgeyBtYXRjaGVzIH0sIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIobWF0Y2hlcywgcm91dGVzVG9Vc2UsIGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlICYmIGZvZ09mV2FyLm1hdGNoZXMpIHtcbiAgICAgIG1hdGNoZXMgPSBmb2dPZldhci5tYXRjaGVzO1xuICAgIH1cblxuICAgIC8vIFNob3J0IGNpcmN1aXQgd2l0aCBhIDQwNCBvbiB0aGUgcm9vdCBlcnJvciBib3VuZGFyeSBpZiB3ZSBtYXRjaCBub3RoaW5nXG4gICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICBsZXQgeyBlcnJvciwgbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgKTtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvcixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIGNvbnRyb2xsZXIvUmVxdWVzdCBmb3IgdGhpcyBuYXZpZ2F0aW9uXG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCByZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBsb2NhdGlvbixcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwsXG4gICAgICBvcHRzICYmIG9wdHMuc3VibWlzc2lvblxuICAgICk7XG4gICAgbGV0IHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFBlbmRpbmdBY3Rpb25SZXN1bHQgfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAob3B0cyAmJiBvcHRzLnBlbmRpbmdFcnJvcikge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBlbmRpbmdFcnJvciwgaXQgbWVhbnMgdGhlIHVzZXIgYXR0ZW1wdGVkIGEgR0VUIHN1Ym1pc3Npb25cbiAgICAgIC8vIHdpdGggYmluYXJ5IEZvcm1EYXRhIHNvIGFzc2lnbiBoZXJlIGFuZCBza2lwIHRvIGhhbmRsZUxvYWRlcnMuICBUaGF0XG4gICAgICAvLyB3YXkgd2UgaGFuZGxlIGNhbGxpbmcgbG9hZGVycyBhYm92ZSB0aGUgYm91bmRhcnkgZXRjLiAgSXQncyBub3QgcmVhbGx5XG4gICAgICAvLyBkaWZmZXJlbnQgZnJvbSBhbiBhY3Rpb25FcnJvciBpbiB0aGF0IHNlbnNlLlxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCA9IFtcbiAgICAgICAgZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzKS5yb3V0ZS5pZCxcbiAgICAgICAgeyB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLCBlcnJvcjogb3B0cy5wZW5kaW5nRXJyb3IgfSxcbiAgICAgIF07XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIG9wdHMgJiZcbiAgICAgIG9wdHMuc3VibWlzc2lvbiAmJlxuICAgICAgaXNNdXRhdGlvbk1ldGhvZChvcHRzLnN1Ym1pc3Npb24uZm9ybU1ldGhvZClcbiAgICApIHtcbiAgICAgIC8vIENhbGwgYWN0aW9uIGlmIHdlIHJlY2VpdmVkIGFuIGFjdGlvbiBzdWJtaXNzaW9uXG4gICAgICBsZXQgYWN0aW9uUmVzdWx0ID0gYXdhaXQgaGFuZGxlQWN0aW9uKFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgb3B0cy5zdWJtaXNzaW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICAgIHsgcmVwbGFjZTogb3B0cy5yZXBsYWNlLCBmbHVzaFN5bmMgfVxuICAgICAgKTtcblxuICAgICAgaWYgKGFjdGlvblJlc3VsdC5zaG9ydENpcmN1aXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIHJlY2VpdmVkIGEgNDA0IGZyb20gaGFuZGxlQWN0aW9uLCBpdCdzIGJlY2F1c2Ugd2UgY291bGRuJ3QgbGF6aWx5XG4gICAgICAvLyBkaXNjb3ZlciB0aGUgZGVzdGluYXRpb24gcm91dGUgc28gd2UgZG9uJ3Qgd2FudCB0byBjYWxsIGxvYWRlcnNcbiAgICAgIGlmIChhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgICAgICBsZXQgW3JvdXRlSWQsIHJlc3VsdF0gPSBhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGlzRXJyb3JSZXN1bHQocmVzdWx0KSAmJlxuICAgICAgICAgIGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcikgJiZcbiAgICAgICAgICByZXN1bHQuZXJyb3Iuc3RhdHVzID09PSA0MDRcbiAgICAgICAgKSB7XG4gICAgICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcblxuICAgICAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwge1xuICAgICAgICAgICAgbWF0Y2hlczogYWN0aW9uUmVzdWx0Lm1hdGNoZXMsXG4gICAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgICBbcm91dGVJZF06IHJlc3VsdC5lcnJvcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1hdGNoZXMgPSBhY3Rpb25SZXN1bHQubWF0Y2hlcyB8fCBtYXRjaGVzO1xuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCA9IGFjdGlvblJlc3VsdC5wZW5kaW5nQWN0aW9uUmVzdWx0O1xuICAgICAgbG9hZGluZ05hdmlnYXRpb24gPSBnZXRMb2FkaW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgb3B0cy5zdWJtaXNzaW9uKTtcbiAgICAgIGZsdXNoU3luYyA9IGZhbHNlO1xuICAgICAgLy8gTm8gbmVlZCB0byBkbyBmb2cgb2Ygd2FyIG1hdGNoaW5nIGFnYWluIG9uIGxvYWRlciBleGVjdXRpb25cbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAvLyBDcmVhdGUgYSBHRVQgcmVxdWVzdCBmb3IgdGhlIGxvYWRlcnNcbiAgICAgIHJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgICByZXF1ZXN0LnVybCxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2FsbCBsb2FkZXJzXG4gICAgbGV0IHtcbiAgICAgIHNob3J0Q2lyY3VpdGVkLFxuICAgICAgbWF0Y2hlczogdXBkYXRlZE1hdGNoZXMsXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzLFxuICAgIH0gPSBhd2FpdCBoYW5kbGVMb2FkZXJzKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgIGxvYWRpbmdOYXZpZ2F0aW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24sXG4gICAgICBvcHRzICYmIG9wdHMuZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgICBvcHRzICYmIG9wdHMucmVwbGFjZSxcbiAgICAgIG9wdHMgJiYgb3B0cy5pbml0aWFsSHlkcmF0aW9uID09PSB0cnVlLFxuICAgICAgZmx1c2hTeW5jLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdFxuICAgICk7XG5cbiAgICBpZiAoc2hvcnRDaXJjdWl0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDbGVhbiB1cCBub3cgdGhhdCB0aGUgYWN0aW9uL2xvYWRlcnMgaGF2ZSBjb21wbGV0ZWQuICBEb24ndCBjbGVhbiB1cCBpZlxuICAgIC8vIHdlIHNob3J0IGNpcmN1aXRlZCBiZWNhdXNlIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciB3aWxsIGhhdmUgYWxyZWFkeVxuICAgIC8vIGJlZW4gYXNzaWduZWQgdG8gYSBuZXcgY29udHJvbGxlciBmb3IgdGhlIG5leHQgbmF2aWdhdGlvblxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG5cbiAgICBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIHtcbiAgICAgIG1hdGNoZXM6IHVwZGF0ZWRNYXRjaGVzIHx8IG1hdGNoZXMsXG4gICAgICAuLi5nZXRBY3Rpb25EYXRhRm9yQ29tbWl0KHBlbmRpbmdBY3Rpb25SZXN1bHQpLFxuICAgICAgbG9hZGVyRGF0YSxcbiAgICAgIGVycm9ycyxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENhbGwgdGhlIGFjdGlvbiBtYXRjaGVkIGJ5IHRoZSBsZWFmIHJvdXRlIGZvciB0aGlzIG5hdmlnYXRpb24gYW5kIGhhbmRsZVxuICAvLyByZWRpcmVjdHMvZXJyb3JzXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFjdGlvbihcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgICBzdWJtaXNzaW9uOiBTdWJtaXNzaW9uLFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBpc0ZvZ09mV2FyOiBib29sZWFuLFxuICAgIG9wdHM6IHsgcmVwbGFjZT86IGJvb2xlYW47IGZsdXNoU3luYz86IGJvb2xlYW4gfSA9IHt9XG4gICk6IFByb21pc2U8SGFuZGxlQWN0aW9uUmVzdWx0PiB7XG4gICAgaW50ZXJydXB0QWN0aXZlTG9hZHMoKTtcblxuICAgIC8vIFB1dCB1cyBpbiBhIHN1Ym1pdHRpbmcgc3RhdGVcbiAgICBsZXQgbmF2aWdhdGlvbiA9IGdldFN1Ym1pdHRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKTtcbiAgICB1cGRhdGVTdGF0ZSh7IG5hdmlnYXRpb24gfSwgeyBmbHVzaFN5bmM6IG9wdHMuZmx1c2hTeW5jID09PSB0cnVlIH0pO1xuXG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGxldCBib3VuZGFyeUlkID0gZmluZE5lYXJlc3RCb3VuZGFyeShkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcylcbiAgICAgICAgICAucm91dGUuaWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW1xuICAgICAgICAgICAgYm91bmRhcnlJZCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgICAgICAgZXJyb3I6IGRpc2NvdmVyUmVzdWx0LmVycm9yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBsZXQgeyBub3RGb3VuZE1hdGNoZXMsIGVycm9yLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFtcbiAgICAgICAgICAgIHJvdXRlLmlkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGwgb3VyIGFjdGlvbiBhbmQgZ2V0IHRoZSByZXN1bHRcbiAgICBsZXQgcmVzdWx0OiBEYXRhUmVzdWx0O1xuICAgIGxldCBhY3Rpb25NYXRjaCA9IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKTtcblxuICAgIGlmICghYWN0aW9uTWF0Y2gucm91dGUuYWN0aW9uICYmICFhY3Rpb25NYXRjaC5yb3V0ZS5sYXp5KSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICAgIHJvdXRlSWQ6IGFjdGlvbk1hdGNoLnJvdXRlLmlkLFxuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgXCJhY3Rpb25cIixcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIFthY3Rpb25NYXRjaF0sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIG51bGxcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSByZXN1bHRzW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTtcblxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgcmVwbGFjZTogYm9vbGVhbjtcbiAgICAgIGlmIChvcHRzICYmIG9wdHMucmVwbGFjZSAhPSBudWxsKSB7XG4gICAgICAgIHJlcGxhY2UgPSBvcHRzLnJlcGxhY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBkaWRuJ3QgZXhwbGljaXR5IGluZGljYXRlIHJlcGxhY2UgYmVoYXZpb3IsIHJlcGxhY2UgaWZcbiAgICAgICAgLy8gd2UgcmVkaXJlY3RlZCB0byB0aGUgZXhhY3Qgc2FtZSBsb2NhdGlvbiB3ZSdyZSBjdXJyZW50bHkgYXQgdG8gYXZvaWRcbiAgICAgICAgLy8gZG91YmxlIGJhY2stYnV0dG9uc1xuICAgICAgICBsZXQgbG9jYXRpb24gPSBub3JtYWxpemVSZWRpcmVjdExvY2F0aW9uKFxuICAgICAgICAgIHJlc3VsdC5yZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpISxcbiAgICAgICAgICBuZXcgVVJMKHJlcXVlc3QudXJsKSxcbiAgICAgICAgICBiYXNlbmFtZVxuICAgICAgICApO1xuICAgICAgICByZXBsYWNlID0gbG9jYXRpb24gPT09IHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lICsgc3RhdGUubG9jYXRpb24uc2VhcmNoO1xuICAgICAgfVxuICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVzdWx0LCB0cnVlLCB7XG4gICAgICAgIHN1Ym1pc3Npb24sXG4gICAgICAgIHJlcGxhY2UsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmZXJyZWRSZXN1bHQocmVzdWx0KSkge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDAsIHsgdHlwZTogXCJkZWZlci1hY3Rpb25cIiB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAvLyBTdG9yZSBvZmYgdGhlIHBlbmRpbmcgZXJyb3IgLSB3ZSB1c2UgaXQgdG8gZGV0ZXJtaW5lIHdoaWNoIGxvYWRlcnNcbiAgICAgIC8vIHRvIGNhbGwgYW5kIHdpbGwgY29tbWl0IGl0IHdoZW4gd2UgY29tcGxldGUgdGhlIG5hdmlnYXRpb25cbiAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBhY3Rpb25NYXRjaC5yb3V0ZS5pZCk7XG5cbiAgICAgIC8vIEJ5IGRlZmF1bHQsIGFsbCBzdWJtaXNzaW9ucyB0byB0aGUgY3VycmVudCBsb2NhdGlvbiBhcmUgUkVQTEFDRVxuICAgICAgLy8gbmF2aWdhdGlvbnMsIGJ1dCBpZiB0aGUgYWN0aW9uIHRocmV3IGFuIGVycm9yIHRoYXQnbGwgYmUgcmVuZGVyZWQgaW5cbiAgICAgIC8vIGFuIGVycm9yRWxlbWVudCwgd2UgZmFsbCBiYWNrIHRvIFBVU0ggc28gdGhhdCB0aGUgdXNlciBjYW4gdXNlIHRoZVxuICAgICAgLy8gYmFjayBidXR0b24gdG8gZ2V0IGJhY2sgdG8gdGhlIHByZS1zdWJtaXNzaW9uIGZvcm0gbG9jYXRpb24gdG8gdHJ5XG4gICAgICAvLyBhZ2FpblxuICAgICAgaWYgKChvcHRzICYmIG9wdHMucmVwbGFjZSkgIT09IHRydWUpIHtcbiAgICAgICAgcGVuZGluZ0FjdGlvbiA9IEhpc3RvcnlBY3Rpb24uUHVzaDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWQsIHJlc3VsdF0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBtYXRjaGVzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW2FjdGlvbk1hdGNoLnJvdXRlLmlkLCByZXN1bHRdLFxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGFsbCBhcHBsaWNhYmxlIGxvYWRlcnMgZm9yIHRoZSBnaXZlbiBtYXRjaGVzLCBoYW5kbGluZyByZWRpcmVjdHMsXG4gIC8vIGVycm9ycywgZXRjLlxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVMb2FkZXJzKFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgbG9jYXRpb246IExvY2F0aW9uLFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBpc0ZvZ09mV2FyOiBib29sZWFuLFxuICAgIG92ZXJyaWRlTmF2aWdhdGlvbj86IE5hdmlnYXRpb24sXG4gICAgc3VibWlzc2lvbj86IFN1Ym1pc3Npb24sXG4gICAgZmV0Y2hlclN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uLFxuICAgIHJlcGxhY2U/OiBib29sZWFuLFxuICAgIGluaXRpYWxIeWRyYXRpb24/OiBib29sZWFuLFxuICAgIGZsdXNoU3luYz86IGJvb2xlYW4sXG4gICAgcGVuZGluZ0FjdGlvblJlc3VsdD86IFBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgKTogUHJvbWlzZTxIYW5kbGVMb2FkZXJzUmVzdWx0PiB7XG4gICAgLy8gRmlndXJlIG91dCB0aGUgcmlnaHQgbmF2aWdhdGlvbiB3ZSB3YW50IHRvIHVzZSBmb3IgZGF0YSBsb2FkaW5nXG4gICAgbGV0IGxvYWRpbmdOYXZpZ2F0aW9uID1cbiAgICAgIG92ZXJyaWRlTmF2aWdhdGlvbiB8fCBnZXRMb2FkaW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbik7XG5cbiAgICAvLyBJZiB0aGlzIHdhcyBhIHJlZGlyZWN0IGZyb20gYW4gYWN0aW9uIHdlIGRvbid0IGhhdmUgYSBcInN1Ym1pc3Npb25cIiBidXRcbiAgICAvLyB3ZSBoYXZlIGl0IG9uIHRoZSBsb2FkaW5nIG5hdmlnYXRpb24gc28gdXNlIHRoYXQgaWYgYXZhaWxhYmxlXG4gICAgbGV0IGFjdGl2ZVN1Ym1pc3Npb24gPVxuICAgICAgc3VibWlzc2lvbiB8fFxuICAgICAgZmV0Y2hlclN1Ym1pc3Npb24gfHxcbiAgICAgIGdldFN1Ym1pc3Npb25Gcm9tTmF2aWdhdGlvbihsb2FkaW5nTmF2aWdhdGlvbik7XG5cbiAgICAvLyBJZiB0aGlzIGlzIGFuIHVuaW50ZXJydXB0ZWQgcmV2YWxpZGF0aW9uLCB3ZSByZW1haW4gaW4gb3VyIGN1cnJlbnQgaWRsZVxuICAgIC8vIHN0YXRlLiAgSWYgbm90LCB3ZSBuZWVkIHRvIHN3aXRjaCB0byBvdXIgbG9hZGluZyBzdGF0ZSBhbmQgbG9hZCBkYXRhLFxuICAgIC8vIHByZXNlcnZpbmcgYW55IG5ldyBhY3Rpb24gZGF0YSBvciBleGlzdGluZyBhY3Rpb24gZGF0YSAoaW4gdGhlIGNhc2Ugb2ZcbiAgICAvLyBhIHJldmFsaWRhdGlvbiBpbnRlcnJ1cHRpbmcgYW4gYWN0aW9uUmVsb2FkKVxuICAgIC8vIElmIHdlIGhhdmUgcGFydGlhbEh5ZHJhdGlvbiBlbmFibGVkLCB0aGVuIGRvbid0IHVwZGF0ZSB0aGUgc3RhdGUgZm9yIHRoZVxuICAgIC8vIGluaXRpYWwgZGF0YSBsb2FkIHNpbmNlIGl0J3Mgbm90IGEgXCJuYXZpZ2F0aW9uXCJcbiAgICBsZXQgc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlID1cbiAgICAgICFpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gJiZcbiAgICAgICghZnV0dXJlLnY3X3BhcnRpYWxIeWRyYXRpb24gfHwgIWluaXRpYWxIeWRyYXRpb24pO1xuXG4gICAgLy8gV2hlbiBmb2cgb2Ygd2FyIGlzIGVuYWJsZWQsIHdlIGVudGVyIG91ciBgbG9hZGluZ2Agc3RhdGUgZWFybGllciBzbyB3ZVxuICAgIC8vIGNhbiBkaXNjb3ZlciBuZXcgcm91dGVzIGR1cmluZyB0aGUgYGxvYWRpbmdgIHN0YXRlLiAgV2Ugc2tpcCB0aGlzIGlmXG4gICAgLy8gd2UndmUgYWxyZWFkeSBydW4gYWN0aW9ucyBzaW5jZSB3ZSB3b3VsZCBoYXZlIGRvbmUgb3VyIG1hdGNoaW5nIGFscmVhZHkuXG4gICAgLy8gSWYgdGhlIGNoaWxkcmVuKCkgZnVuY3Rpb24gdGhyZXcgdGhlbiwgd2Ugd2FudCB0byBwcm9jZWVkIHdpdGggdGhlXG4gICAgLy8gcGFydGlhbCBtYXRjaGVzIGl0IGRpc2NvdmVyZWQuXG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGlmIChzaG91bGRVcGRhdGVOYXZpZ2F0aW9uU3RhdGUpIHtcbiAgICAgICAgbGV0IGFjdGlvbkRhdGEgPSBnZXRVcGRhdGVkQWN0aW9uRGF0YShwZW5kaW5nQWN0aW9uUmVzdWx0KTtcbiAgICAgICAgdXBkYXRlU3RhdGUoXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmF2aWdhdGlvbjogbG9hZGluZ05hdmlnYXRpb24sXG4gICAgICAgICAgICAuLi4oYWN0aW9uRGF0YSAhPT0gdW5kZWZpbmVkID8geyBhY3Rpb25EYXRhIH0gOiB7fSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmbHVzaFN5bmMsXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHJlcXVlc3Quc2lnbmFsXG4gICAgICApO1xuXG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGxldCBib3VuZGFyeUlkID0gZmluZE5lYXJlc3RCb3VuZGFyeShkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcylcbiAgICAgICAgICAucm91dGUuaWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbYm91bmRhcnlJZF06IGRpc2NvdmVyUmVzdWx0LmVycm9yLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIGxldCB7IGVycm9yLCBub3RGb3VuZE1hdGNoZXMsIHJvdXRlIH0gPSBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQoXG4gICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvcixcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IFttYXRjaGVzVG9Mb2FkLCByZXZhbGlkYXRpbmdGZXRjaGVyc10gPSBnZXRNYXRjaGVzVG9Mb2FkKFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgYWN0aXZlU3VibWlzc2lvbixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZnV0dXJlLnY3X3BhcnRpYWxIeWRyYXRpb24gJiYgaW5pdGlhbEh5ZHJhdGlvbiA9PT0gdHJ1ZSxcbiAgICAgIGZ1dHVyZS52N19za2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb24sXG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkLFxuICAgICAgY2FuY2VsbGVkRGVmZXJyZWRSb3V0ZXMsXG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMsXG4gICAgICBkZWxldGVkRmV0Y2hlcnMsXG4gICAgICBmZXRjaExvYWRNYXRjaGVzLFxuICAgICAgZmV0Y2hSZWRpcmVjdElkcyxcbiAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0XG4gICAgKTtcblxuICAgIC8vIENhbmNlbCBwZW5kaW5nIGRlZmVycmVkcyBmb3Igbm8tbG9uZ2VyLW1hdGNoZWQgcm91dGVzIG9yIHJvdXRlcyB3ZSdyZVxuICAgIC8vIGFib3V0IHRvIHJlbG9hZC4gIE5vdGUgdGhhdCBpZiB0aGlzIGlzIGFuIGFjdGlvbiByZWxvYWQgd2Ugd291bGQgaGF2ZVxuICAgIC8vIGFscmVhZHkgY2FuY2VsbGVkIGFsbCBwZW5kaW5nIGRlZmVycmVkcyBzbyB0aGlzIHdvdWxkIGJlIGEgbm8tb3BcbiAgICBjYW5jZWxBY3RpdmVEZWZlcnJlZHMoXG4gICAgICAocm91dGVJZCkgPT5cbiAgICAgICAgIShtYXRjaGVzICYmIG1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkpIHx8XG4gICAgICAgIChtYXRjaGVzVG9Mb2FkICYmIG1hdGNoZXNUb0xvYWQuc29tZSgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkpXG4gICAgKTtcblxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID0gKytpbmNyZW1lbnRpbmdMb2FkSWQ7XG5cbiAgICAvLyBTaG9ydCBjaXJjdWl0IGlmIHdlIGhhdmUgbm8gbG9hZGVycyB0byBydW5cbiAgICBpZiAobWF0Y2hlc1RvTG9hZC5sZW5ndGggPT09IDAgJiYgcmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBsZXQgdXBkYXRlZEZldGNoZXJzID0gbWFya0ZldGNoUmVkaXJlY3RzRG9uZSgpO1xuICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAge1xuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgLy8gQ29tbWl0IHBlbmRpbmcgZXJyb3IgaWYgd2UncmUgc2hvcnQgY2lyY3VpdGluZ1xuICAgICAgICAgIGVycm9yczpcbiAgICAgICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKVxuICAgICAgICAgICAgICA/IHsgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yIH1cbiAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgIC4uLmdldEFjdGlvbkRhdGFGb3JDb21taXQocGVuZGluZ0FjdGlvblJlc3VsdCksXG4gICAgICAgICAgLi4uKHVwZGF0ZWRGZXRjaGVycyA/IHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0gOiB7fSksXG4gICAgICAgIH0sXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cblxuICAgIGlmIChzaG91bGRVcGRhdGVOYXZpZ2F0aW9uU3RhdGUpIHtcbiAgICAgIGxldCB1cGRhdGVzOiBQYXJ0aWFsPFJvdXRlclN0YXRlPiA9IHt9O1xuICAgICAgaWYgKCFpc0ZvZ09mV2FyKSB7XG4gICAgICAgIC8vIE9ubHkgdXBkYXRlIG5hdmlnYXRpb24vYWN0aW9uTkRhdGEgaWYgd2UgZGlkbid0IGFscmVhZHkgZG8gaXQgYWJvdmVcbiAgICAgICAgdXBkYXRlcy5uYXZpZ2F0aW9uID0gbG9hZGluZ05hdmlnYXRpb247XG4gICAgICAgIGxldCBhY3Rpb25EYXRhID0gZ2V0VXBkYXRlZEFjdGlvbkRhdGEocGVuZGluZ0FjdGlvblJlc3VsdCk7XG4gICAgICAgIGlmIChhY3Rpb25EYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cGRhdGVzLmFjdGlvbkRhdGEgPSBhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICB1cGRhdGVzLmZldGNoZXJzID0gZ2V0VXBkYXRlZFJldmFsaWRhdGluZ0ZldGNoZXJzKHJldmFsaWRhdGluZ0ZldGNoZXJzKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZVN0YXRlKHVwZGF0ZXMsIHsgZmx1c2hTeW5jIH0pO1xuICAgIH1cblxuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiB7XG4gICAgICBhYm9ydEZldGNoZXIocmYua2V5KTtcbiAgICAgIGlmIChyZi5jb250cm9sbGVyKSB7XG4gICAgICAgIC8vIEZldGNoZXJzIHVzZSBhbiBpbmRlcGVuZGVudCBBYm9ydENvbnRyb2xsZXIgc28gdGhhdCBhYm9ydGluZyBhIGZldGNoZXJcbiAgICAgICAgLy8gKHZpYSBkZWxldGVGZXRjaGVyKSBkb2VzIG5vdCBhYm9ydCB0aGUgdHJpZ2dlcmluZyBuYXZpZ2F0aW9uIHRoYXRcbiAgICAgICAgLy8gdHJpZ2dlcmVkIHRoZSByZXZhbGlkYXRpb25cbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5zZXQocmYua2V5LCByZi5jb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFByb3h5IG5hdmlnYXRpb24gYWJvcnQgdGhyb3VnaCB0byByZXZhbGlkYXRpb24gZmV0Y2hlcnNcbiAgICBsZXQgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zID0gKCkgPT5cbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKGYpID0+IGFib3J0RmV0Y2hlcihmLmtleSkpO1xuICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIpIHtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IHsgbG9hZGVyUmVzdWx0cywgZmV0Y2hlclJlc3VsdHMgfSA9XG4gICAgICBhd2FpdCBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEoXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgKTtcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cblxuICAgIC8vIENsZWFuIHVwIF9hZnRlcl8gbG9hZGVycyBoYXZlIGNvbXBsZXRlZC4gIERvbid0IGNsZWFuIHVwIGlmIHdlIHNob3J0XG4gICAgLy8gY2lyY3VpdGVkIGJlY2F1c2UgZmV0Y2hDb250cm9sbGVycyB3b3VsZCBoYXZlIGJlZW4gYWJvcnRlZCBhbmRcbiAgICAvLyByZWFzc2lnbmVkIHRvIG5ldyBjb250cm9sbGVycyBmb3IgdGhlIG5leHQgbmF2aWdhdGlvblxuICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIpIHtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKHJmLmtleSkpO1xuXG4gICAgLy8gSWYgYW55IGxvYWRlcnMgcmV0dXJuZWQgYSByZWRpcmVjdCBSZXNwb25zZSwgc3RhcnQgYSBuZXcgUkVQTEFDRSBuYXZpZ2F0aW9uXG4gICAgbGV0IHJlZGlyZWN0ID0gZmluZFJlZGlyZWN0KGxvYWRlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdCkge1xuICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVkaXJlY3QucmVzdWx0LCB0cnVlLCB7XG4gICAgICAgIHJlcGxhY2UsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuXG4gICAgcmVkaXJlY3QgPSBmaW5kUmVkaXJlY3QoZmV0Y2hlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdCkge1xuICAgICAgLy8gSWYgdGhpcyByZWRpcmVjdCBjYW1lIGZyb20gYSBmZXRjaGVyIG1ha2Ugc3VyZSB3ZSBtYXJrIGl0IGluXG4gICAgICAvLyBmZXRjaFJlZGlyZWN0SWRzIHNvIGl0IGRvZXNuJ3QgZ2V0IHJldmFsaWRhdGVkIG9uIHRoZSBuZXh0IHNldCBvZlxuICAgICAgLy8gbG9hZGVyIGV4ZWN1dGlvbnNcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKHJlZGlyZWN0LmtleSk7XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZWRpcmVjdC5yZXN1bHQsIHRydWUsIHtcbiAgICAgICAgcmVwbGFjZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGFuZCBjb21taXQgb3V0cHV0IGZyb20gbG9hZGVyc1xuICAgIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gcHJvY2Vzc0xvYWRlckRhdGEoXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCxcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgZmV0Y2hlclJlc3VsdHMsXG4gICAgICBhY3RpdmVEZWZlcnJlZHNcbiAgICApO1xuXG4gICAgLy8gV2lyZSB1cCBzdWJzY3JpYmVycyB0byB1cGRhdGUgbG9hZGVyRGF0YSBhcyBwcm9taXNlcyBzZXR0bGVcbiAgICBhY3RpdmVEZWZlcnJlZHMuZm9yRWFjaCgoZGVmZXJyZWREYXRhLCByb3V0ZUlkKSA9PiB7XG4gICAgICBkZWZlcnJlZERhdGEuc3Vic2NyaWJlKChhYm9ydGVkKSA9PiB7XG4gICAgICAgIC8vIE5vdGU6IE5vIG5lZWQgdG8gdXBkYXRlU3RhdGUgaGVyZSBzaW5jZSB0aGUgVHJhY2tlZFByb21pc2Ugb25cbiAgICAgICAgLy8gbG9hZGVyRGF0YSBpcyBzdGFibGUgYWNyb3NzIHJlc29sdmUvcmVqZWN0XG4gICAgICAgIC8vIFJlbW92ZSB0aGlzIGluc3RhbmNlIGlmIHdlIHdlcmUgYWJvcnRlZCBvciBpZiBwcm9taXNlcyBoYXZlIHNldHRsZWRcbiAgICAgICAgaWYgKGFib3J0ZWQgfHwgZGVmZXJyZWREYXRhLmRvbmUpIHtcbiAgICAgICAgICBhY3RpdmVEZWZlcnJlZHMuZGVsZXRlKHJvdXRlSWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFByZXNlcnZlIFNTUiBlcnJvcnMgZHVyaW5nIHBhcnRpYWwgaHlkcmF0aW9uXG4gICAgaWYgKGZ1dHVyZS52N19wYXJ0aWFsSHlkcmF0aW9uICYmIGluaXRpYWxIeWRyYXRpb24gJiYgc3RhdGUuZXJyb3JzKSB7XG4gICAgICBlcnJvcnMgPSB7IC4uLnN0YXRlLmVycm9ycywgLi4uZXJyb3JzIH07XG4gICAgfVxuXG4gICAgbGV0IHVwZGF0ZWRGZXRjaGVycyA9IG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKTtcbiAgICBsZXQgZGlkQWJvcnRGZXRjaExvYWRzID0gYWJvcnRTdGFsZUZldGNoTG9hZHMocGVuZGluZ05hdmlnYXRpb25Mb2FkSWQpO1xuICAgIGxldCBzaG91bGRVcGRhdGVGZXRjaGVycyA9XG4gICAgICB1cGRhdGVkRmV0Y2hlcnMgfHwgZGlkQWJvcnRGZXRjaExvYWRzIHx8IHJldmFsaWRhdGluZ0ZldGNoZXJzLmxlbmd0aCA+IDA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlcyxcbiAgICAgIGxvYWRlckRhdGEsXG4gICAgICBlcnJvcnMsXG4gICAgICAuLi4oc2hvdWxkVXBkYXRlRmV0Y2hlcnMgPyB7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9IDoge30pLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRVcGRhdGVkQWN0aW9uRGF0YShcbiAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBQZW5kaW5nQWN0aW9uUmVzdWx0IHwgdW5kZWZpbmVkXG4gICk6IFJlY29yZDxzdHJpbmcsIFJvdXRlRGF0YT4gfCBudWxsIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAocGVuZGluZ0FjdGlvblJlc3VsdCAmJiAhaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSkge1xuICAgICAgLy8gVGhpcyBpcyBjYXN0IHRvIGBhbnlgIGN1cnJlbnRseSBiZWNhdXNlIGBSb3V0ZURhdGFgdXNlcyBhbnkgYW5kIGl0XG4gICAgICAvLyB3b3VsZCBiZSBhIGJyZWFraW5nIGNoYW5nZSB0byB1c2UgYW55LlxuICAgICAgLy8gVE9ETzogdjcgLSBjaGFuZ2UgYFJvdXRlRGF0YWAgdG8gdXNlIGB1bmtub3duYCBpbnN0ZWFkIG9mIGBhbnlgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZGF0YSBhcyBhbnksXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoc3RhdGUuYWN0aW9uRGF0YSkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHN0YXRlLmFjdGlvbkRhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5hY3Rpb25EYXRhO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFVwZGF0ZWRSZXZhbGlkYXRpbmdGZXRjaGVycyhcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVyczogUmV2YWxpZGF0aW5nRmV0Y2hlcltdXG4gICkge1xuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiB7XG4gICAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChyZi5rZXkpO1xuICAgICAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBmZXRjaGVyID8gZmV0Y2hlci5kYXRhIDogdW5kZWZpbmVkXG4gICAgICApO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KHJmLmtleSwgcmV2YWxpZGF0aW5nRmV0Y2hlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpO1xuICB9XG5cbiAgLy8gVHJpZ2dlciBhIGZldGNoZXIgbG9hZC9zdWJtaXQgZm9yIHRoZSBnaXZlbiBmZXRjaGVyIGtleVxuICBmdW5jdGlvbiBmZXRjaChcbiAgICBrZXk6IHN0cmluZyxcbiAgICByb3V0ZUlkOiBzdHJpbmcsXG4gICAgaHJlZjogc3RyaW5nIHwgbnVsbCxcbiAgICBvcHRzPzogUm91dGVyRmV0Y2hPcHRpb25zXG4gICkge1xuICAgIGlmIChpc1NlcnZlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcInJvdXRlci5mZXRjaCgpIHdhcyBjYWxsZWQgZHVyaW5nIHRoZSBzZXJ2ZXIgcmVuZGVyLCBidXQgaXQgc2hvdWxkbid0IGJlLiBcIiArXG4gICAgICAgICAgXCJZb3UgYXJlIGxpa2VseSBjYWxsaW5nIGEgdXNlRmV0Y2hlcigpIG1ldGhvZCBpbiB0aGUgYm9keSBvZiB5b3VyIGNvbXBvbmVudC4gXCIgK1xuICAgICAgICAgIFwiVHJ5IG1vdmluZyBpdCB0byBhIHVzZUVmZmVjdCBvciBhIGNhbGxiYWNrLlwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuXG4gICAgbGV0IGZsdXNoU3luYyA9IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZTtcblxuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVRvKFxuICAgICAgc3RhdGUubG9jYXRpb24sXG4gICAgICBzdGF0ZS5tYXRjaGVzLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBmdXR1cmUudjdfcHJlcGVuZEJhc2VuYW1lLFxuICAgICAgaHJlZixcbiAgICAgIGZ1dHVyZS52N19yZWxhdGl2ZVNwbGF0UGF0aCxcbiAgICAgIHJvdXRlSWQsXG4gICAgICBvcHRzPy5yZWxhdGl2ZVxuICAgICk7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgbm9ybWFsaXplZFBhdGgsIGJhc2VuYW1lKTtcblxuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIobWF0Y2hlcywgcm91dGVzVG9Vc2UsIG5vcm1hbGl6ZWRQYXRoKTtcbiAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlICYmIGZvZ09mV2FyLm1hdGNoZXMpIHtcbiAgICAgIG1hdGNoZXMgPSBmb2dPZldhci5tYXRjaGVzO1xuICAgIH1cblxuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQsXG4gICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBub3JtYWxpemVkUGF0aCB9KSxcbiAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgeyBwYXRoLCBzdWJtaXNzaW9uLCBlcnJvciB9ID0gbm9ybWFsaXplTmF2aWdhdGVPcHRpb25zKFxuICAgICAgZnV0dXJlLnY3X25vcm1hbGl6ZUZvcm1NZXRob2QsXG4gICAgICB0cnVlLFxuICAgICAgbm9ybWFsaXplZFBhdGgsXG4gICAgICBvcHRzXG4gICAgKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBtYXRjaCA9IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIHBhdGgpO1xuXG4gICAgbGV0IHByZXZlbnRTY3JvbGxSZXNldCA9IChvcHRzICYmIG9wdHMucHJldmVudFNjcm9sbFJlc2V0KSA9PT0gdHJ1ZTtcblxuICAgIGlmIChzdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgICAgaGFuZGxlRmV0Y2hlckFjdGlvbihcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkLFxuICAgICAgICBwYXRoLFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgICBmbHVzaFN5bmMsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgc3VibWlzc2lvblxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTdG9yZSBvZmYgdGhlIG1hdGNoIHNvIHdlIGNhbiBjYWxsIGl0J3Mgc2hvdWxkUmV2YWxpZGF0ZSBvbiBzdWJzZXF1ZW50XG4gICAgLy8gcmV2YWxpZGF0aW9uc1xuICAgIGZldGNoTG9hZE1hdGNoZXMuc2V0KGtleSwgeyByb3V0ZUlkLCBwYXRoIH0pO1xuICAgIGhhbmRsZUZldGNoZXJMb2FkZXIoXG4gICAgICBrZXksXG4gICAgICByb3V0ZUlkLFxuICAgICAgcGF0aCxcbiAgICAgIG1hdGNoLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgIGZsdXNoU3luYyxcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHN1Ym1pc3Npb25cbiAgICApO1xuICB9XG5cbiAgLy8gQ2FsbCB0aGUgYWN0aW9uIGZvciB0aGUgbWF0Y2hlZCBmZXRjaGVyLnN1Ym1pdCgpLCBhbmQgdGhlbiBoYW5kbGUgcmVkaXJlY3RzLFxuICAvLyBlcnJvcnMsIGFuZCByZXZhbGlkYXRpb25cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmV0Y2hlckFjdGlvbihcbiAgICBrZXk6IHN0cmluZyxcbiAgICByb3V0ZUlkOiBzdHJpbmcsXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIG1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoLFxuICAgIHJlcXVlc3RNYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgaXNGb2dPZldhcjogYm9vbGVhbixcbiAgICBmbHVzaFN5bmM6IGJvb2xlYW4sXG4gICAgcHJldmVudFNjcm9sbFJlc2V0OiBib29sZWFuLFxuICAgIHN1Ym1pc3Npb246IFN1Ym1pc3Npb25cbiAgKSB7XG4gICAgaW50ZXJydXB0QWN0aXZlTG9hZHMoKTtcbiAgICBmZXRjaExvYWRNYXRjaGVzLmRlbGV0ZShrZXkpO1xuXG4gICAgZnVuY3Rpb24gZGV0ZWN0QW5kSGFuZGxlNDA1RXJyb3IobTogQWdub3N0aWNEYXRhUm91dGVNYXRjaCkge1xuICAgICAgaWYgKCFtLnJvdXRlLmFjdGlvbiAmJiAhbS5yb3V0ZS5sYXp5KSB7XG4gICAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgICAgbWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgICAgICAgcGF0aG5hbWU6IHBhdGgsXG4gICAgICAgICAgcm91dGVJZDogcm91dGVJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFpc0ZvZ09mV2FyICYmIGRldGVjdEFuZEhhbmRsZTQwNUVycm9yKG1hdGNoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFB1dCB0aGlzIGZldGNoZXIgaW50byBpdCdzIHN1Ym1pdHRpbmcgc3RhdGVcbiAgICBsZXQgZXhpc3RpbmdGZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0U3VibWl0dGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgZXhpc3RpbmdGZXRjaGVyKSwge1xuICAgICAgZmx1c2hTeW5jLFxuICAgIH0pO1xuXG4gICAgbGV0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgZmV0Y2hSZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBwYXRoLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIHN1Ym1pc3Npb25cbiAgICApO1xuXG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICByZXF1ZXN0TWF0Y2hlcyxcbiAgICAgICAgbmV3IFVSTChmZXRjaFJlcXVlc3QudXJsKS5wYXRobmFtZSxcbiAgICAgICAgZmV0Y2hSZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAga2V5XG4gICAgICApO1xuXG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZGlzY292ZXJSZXN1bHQuZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogcGF0aCB9KSxcbiAgICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3RNYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgICAgbWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChyZXF1ZXN0TWF0Y2hlcywgcGF0aCk7XG5cbiAgICAgICAgaWYgKGRldGVjdEFuZEhhbmRsZTQwNUVycm9yKG1hdGNoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGwgdGhlIGFjdGlvbiBmb3IgdGhlIGZldGNoZXJcbiAgICBmZXRjaENvbnRyb2xsZXJzLnNldChrZXksIGFib3J0Q29udHJvbGxlcik7XG5cbiAgICBsZXQgb3JpZ2luYXRpbmdMb2FkSWQgPSBpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgbGV0IGFjdGlvblJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJhY3Rpb25cIixcbiAgICAgIHN0YXRlLFxuICAgICAgZmV0Y2hSZXF1ZXN0LFxuICAgICAgW21hdGNoXSxcbiAgICAgIHJlcXVlc3RNYXRjaGVzLFxuICAgICAga2V5XG4gICAgKTtcbiAgICBsZXQgYWN0aW9uUmVzdWx0ID0gYWN0aW9uUmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG5cbiAgICBpZiAoZmV0Y2hSZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAvLyBXZSBjYW4gZGVsZXRlIHRoaXMgc28gbG9uZyBhcyB3ZSB3ZXJlbid0IGFib3J0ZWQgYnkgb3VyIG93biBmZXRjaGVyXG4gICAgICAvLyByZS1zdWJtaXQgd2hpY2ggd291bGQgaGF2ZSBwdXQgX25ld18gY29udHJvbGxlciBpcyBpbiBmZXRjaENvbnRyb2xsZXJzXG4gICAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5nZXQoa2V5KSA9PT0gYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gV2hlbiB1c2luZyB2N19mZXRjaGVyUGVyc2lzdCwgd2UgZG9uJ3Qgd2FudCBlcnJvcnMgYnViYmxpbmcgdXAgdG8gdGhlIFVJXG4gICAgLy8gb3IgcmVkaXJlY3RzIHByb2Nlc3NlZCBmb3IgdW5tb3VudGVkIGZldGNoZXJzIHNvIHdlIGp1c3QgcmV2ZXJ0IHRoZW0gdG9cbiAgICAvLyBpZGxlXG4gICAgaWYgKGZ1dHVyZS52N19mZXRjaGVyUGVyc2lzdCAmJiBkZWxldGVkRmV0Y2hlcnMuaGFzKGtleSkpIHtcbiAgICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KGFjdGlvblJlc3VsdCkgfHwgaXNFcnJvclJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHVuZGVmaW5lZCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBMZXQgU3VjY2Vzc1Jlc3VsdCdzIGZhbGwgdGhyb3VnaCBmb3IgcmV2YWxpZGF0aW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICAgICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID4gb3JpZ2luYXRpbmdMb2FkSWQpIHtcbiAgICAgICAgICAvLyBBIG5ldyBuYXZpZ2F0aW9uIHdhcyBraWNrZWQgb2ZmIGFmdGVyIG91ciBhY3Rpb24gc3RhcnRlZCwgc28gdGhhdFxuICAgICAgICAgIC8vIHNob3VsZCB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aGlzIHJlZGlyZWN0IG5hdmlnYXRpb24uICBXZSBhbHJlYWR5XG4gICAgICAgICAgLy8gc2V0IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgc28gYWxsIGxvYWRlcnMgZm9yIHRoZSBuZXcgcm91dGUgc2hvdWxkXG4gICAgICAgICAgLy8gZmlyZSB1bmxlc3Mgb3B0ZWQgb3V0IHZpYSBzaG91bGRSZXZhbGlkYXRlXG4gICAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodW5kZWZpbmVkKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKGtleSk7XG4gICAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0TG9hZGluZ0ZldGNoZXIoc3VibWlzc2lvbikpO1xuICAgICAgICAgIHJldHVybiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihmZXRjaFJlcXVlc3QsIGFjdGlvblJlc3VsdCwgZmFsc2UsIHtcbiAgICAgICAgICAgIGZldGNoZXJTdWJtaXNzaW9uOiBzdWJtaXNzaW9uLFxuICAgICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFByb2Nlc3MgYW55IG5vbi1yZWRpcmVjdCBlcnJvcnMgdGhyb3duXG4gICAgICBpZiAoaXNFcnJvclJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGFjdGlvblJlc3VsdC5lcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNEZWZlcnJlZFJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwgeyB0eXBlOiBcImRlZmVyLWFjdGlvblwiIH0pO1xuICAgIH1cblxuICAgIC8vIFN0YXJ0IHRoZSBkYXRhIGxvYWQgZm9yIGN1cnJlbnQgbWF0Y2hlcywgb3IgdGhlIG5leHQgbG9jYXRpb24gaWYgd2UncmVcbiAgICAvLyBpbiB0aGUgbWlkZGxlIG9mIGEgbmF2aWdhdGlvblxuICAgIGxldCBuZXh0TG9jYXRpb24gPSBzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uIHx8IHN0YXRlLmxvY2F0aW9uO1xuICAgIGxldCByZXZhbGlkYXRpb25SZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBuZXh0TG9jYXRpb24sXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgKTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgbWF0Y2hlcyA9XG4gICAgICBzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlICE9PSBcImlkbGVcIlxuICAgICAgICA/IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLCBiYXNlbmFtZSlcbiAgICAgICAgOiBzdGF0ZS5tYXRjaGVzO1xuXG4gICAgaW52YXJpYW50KG1hdGNoZXMsIFwiRGlkbid0IGZpbmQgYW55IG1hdGNoZXMgYWZ0ZXIgZmV0Y2hlciBhY3Rpb25cIik7XG5cbiAgICBsZXQgbG9hZElkID0gKytpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgZmV0Y2hSZWxvYWRJZHMuc2V0KGtleSwgbG9hZElkKTtcblxuICAgIGxldCBsb2FkRmV0Y2hlciA9IGdldExvYWRpbmdGZXRjaGVyKHN1Ym1pc3Npb24sIGFjdGlvblJlc3VsdC5kYXRhKTtcbiAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBsb2FkRmV0Y2hlcik7XG5cbiAgICBsZXQgW21hdGNoZXNUb0xvYWQsIHJldmFsaWRhdGluZ0ZldGNoZXJzXSA9IGdldE1hdGNoZXNUb0xvYWQoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzdWJtaXNzaW9uLFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgZmFsc2UsXG4gICAgICBmdXR1cmUudjdfc2tpcEFjdGlvbkVycm9yUmV2YWxpZGF0aW9uLFxuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCxcbiAgICAgIGNhbmNlbGxlZERlZmVycmVkUm91dGVzLFxuICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLFxuICAgICAgZGVsZXRlZEZldGNoZXJzLFxuICAgICAgZmV0Y2hMb2FkTWF0Y2hlcyxcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMsXG4gICAgICByb3V0ZXNUb1VzZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgW21hdGNoLnJvdXRlLmlkLCBhY3Rpb25SZXN1bHRdXG4gICAgKTtcblxuICAgIC8vIFB1dCBhbGwgcmV2YWxpZGF0aW5nIGZldGNoZXJzIGludG8gdGhlIGxvYWRpbmcgc3RhdGUsIGV4Y2VwdCBmb3IgdGhlXG4gICAgLy8gY3VycmVudCBmZXRjaGVyIHdoaWNoIHdlIHdhbnQgdG8ga2VlcCBpbiBpdCdzIGN1cnJlbnQgbG9hZGluZyBzdGF0ZSB3aGljaFxuICAgIC8vIGNvbnRhaW5zIGl0J3MgYWN0aW9uIHN1Ym1pc3Npb24gaW5mbyArIGFjdGlvbiBkYXRhXG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnNcbiAgICAgIC5maWx0ZXIoKHJmKSA9PiByZi5rZXkgIT09IGtleSlcbiAgICAgIC5mb3JFYWNoKChyZikgPT4ge1xuICAgICAgICBsZXQgc3RhbGVLZXkgPSByZi5rZXk7XG4gICAgICAgIGxldCBleGlzdGluZ0ZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoc3RhbGVLZXkpO1xuICAgICAgICBsZXQgcmV2YWxpZGF0aW5nRmV0Y2hlciA9IGdldExvYWRpbmdGZXRjaGVyKFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICBleGlzdGluZ0ZldGNoZXIgPyBleGlzdGluZ0ZldGNoZXIuZGF0YSA6IHVuZGVmaW5lZFxuICAgICAgICApO1xuICAgICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoc3RhbGVLZXksIHJldmFsaWRhdGluZ0ZldGNoZXIpO1xuICAgICAgICBhYm9ydEZldGNoZXIoc3RhbGVLZXkpO1xuICAgICAgICBpZiAocmYuY29udHJvbGxlcikge1xuICAgICAgICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KHN0YWxlS2V5LCByZi5jb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB1cGRhdGVTdGF0ZSh7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9KTtcblxuICAgIGxldCBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnMgPSAoKSA9PlxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IGFib3J0RmV0Y2hlcihyZi5rZXkpKTtcblxuICAgIGFib3J0Q29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiYWJvcnRcIixcbiAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICk7XG5cbiAgICBsZXQgeyBsb2FkZXJSZXN1bHRzLCBmZXRjaGVyUmVzdWx0cyB9ID1cbiAgICAgIGF3YWl0IGNhbGxMb2FkZXJzQW5kTWF5YmVSZXNvbHZlRGF0YShcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgICByZXZhbGlkYXRpb25SZXF1ZXN0XG4gICAgICApO1xuXG4gICAgaWYgKGFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFib3J0Q29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiYWJvcnRcIixcbiAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICk7XG5cbiAgICBmZXRjaFJlbG9hZElkcy5kZWxldGUoa2V5KTtcbiAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHIpID0+IGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKHIua2V5KSk7XG5cbiAgICBsZXQgcmVkaXJlY3QgPSBmaW5kUmVkaXJlY3QobG9hZGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0KSB7XG4gICAgICByZXR1cm4gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oXG4gICAgICAgIHJldmFsaWRhdGlvblJlcXVlc3QsXG4gICAgICAgIHJlZGlyZWN0LnJlc3VsdCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHsgcHJldmVudFNjcm9sbFJlc2V0IH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmVkaXJlY3QgPSBmaW5kUmVkaXJlY3QoZmV0Y2hlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdCkge1xuICAgICAgLy8gSWYgdGhpcyByZWRpcmVjdCBjYW1lIGZyb20gYSBmZXRjaGVyIG1ha2Ugc3VyZSB3ZSBtYXJrIGl0IGluXG4gICAgICAvLyBmZXRjaFJlZGlyZWN0SWRzIHNvIGl0IGRvZXNuJ3QgZ2V0IHJldmFsaWRhdGVkIG9uIHRoZSBuZXh0IHNldCBvZlxuICAgICAgLy8gbG9hZGVyIGV4ZWN1dGlvbnNcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKHJlZGlyZWN0LmtleSk7XG4gICAgICByZXR1cm4gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oXG4gICAgICAgIHJldmFsaWRhdGlvblJlcXVlc3QsXG4gICAgICAgIHJlZGlyZWN0LnJlc3VsdCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHsgcHJldmVudFNjcm9sbFJlc2V0IH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyBhbmQgY29tbWl0IG91dHB1dCBmcm9tIGxvYWRlcnNcbiAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NMb2FkZXJEYXRhKFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgZmV0Y2hlclJlc3VsdHMsXG4gICAgICBhY3RpdmVEZWZlcnJlZHNcbiAgICApO1xuXG4gICAgLy8gU2luY2Ugd2UgbGV0IHJldmFsaWRhdGlvbnMgY29tcGxldGUgZXZlbiBpZiB0aGUgc3VibWl0dGluZyBmZXRjaGVyIHdhc1xuICAgIC8vIGRlbGV0ZWQsIG9ubHkgcHV0IGl0IGJhY2sgdG8gaWRsZSBpZiBpdCBoYXNuJ3QgYmVlbiBkZWxldGVkXG4gICAgaWYgKHN0YXRlLmZldGNoZXJzLmhhcyhrZXkpKSB7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihhY3Rpb25SZXN1bHQuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuXG4gICAgYWJvcnRTdGFsZUZldGNoTG9hZHMobG9hZElkKTtcblxuICAgIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgaW4gYSBuYXZpZ2F0aW9uIGxvYWRpbmcgc3RhdGUgYW5kIHRoaXMgZmV0Y2hlciBpc1xuICAgIC8vIG1vcmUgcmVjZW50IHRoYW4gdGhlIG5hdmlnYXRpb24sIHdlIHdhbnQgdGhlIG5ld2VyIGRhdGEgc28gYWJvcnQgdGhlXG4gICAgLy8gbmF2aWdhdGlvbiBhbmQgY29tcGxldGUgaXQgd2l0aCB0aGUgZmV0Y2hlciBkYXRhXG4gICAgaWYgKFxuICAgICAgc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIgJiZcbiAgICAgIGxvYWRJZCA+IHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkXG4gICAgKSB7XG4gICAgICBpbnZhcmlhbnQocGVuZGluZ0FjdGlvbiwgXCJFeHBlY3RlZCBwZW5kaW5nIGFjdGlvblwiKTtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciAmJiBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24sIHtcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YSxcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycyksXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gb3RoZXJ3aXNlIGp1c3QgdXBkYXRlIHdpdGggdGhlIGZldGNoZXIgZGF0YSwgcHJlc2VydmluZyBhbnkgZXhpc3RpbmdcbiAgICAgIC8vIGxvYWRlckRhdGEgZm9yIGxvYWRlcnMgdGhhdCBkaWQgbm90IG5lZWQgdG8gcmVsb2FkLiAgV2UgaGF2ZSB0b1xuICAgICAgLy8gbWFudWFsbHkgbWVyZ2UgaGVyZSBzaW5jZSB3ZSBhcmVuJ3QgZ29pbmcgdGhyb3VnaCBjb21wbGV0ZU5hdmlnYXRpb25cbiAgICAgIHVwZGF0ZVN0YXRlKHtcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBsb2FkZXJEYXRhOiBtZXJnZUxvYWRlckRhdGEoXG4gICAgICAgICAgc3RhdGUubG9hZGVyRGF0YSxcbiAgICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgZXJyb3JzXG4gICAgICAgICksXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSxcbiAgICAgIH0pO1xuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIENhbGwgdGhlIG1hdGNoZWQgbG9hZGVyIGZvciBmZXRjaGVyLmxvYWQoKSwgaGFuZGxpbmcgcmVkaXJlY3RzLCBlcnJvcnMsIGV0Yy5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmV0Y2hlckxvYWRlcihcbiAgICBrZXk6IHN0cmluZyxcbiAgICByb3V0ZUlkOiBzdHJpbmcsXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIG1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoLFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBpc0ZvZ09mV2FyOiBib29sZWFuLFxuICAgIGZsdXNoU3luYzogYm9vbGVhbixcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IGJvb2xlYW4sXG4gICAgc3VibWlzc2lvbj86IFN1Ym1pc3Npb25cbiAgKSB7XG4gICAgbGV0IGV4aXN0aW5nRmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShcbiAgICAgIGtleSxcbiAgICAgIGdldExvYWRpbmdGZXRjaGVyKFxuICAgICAgICBzdWJtaXNzaW9uLFxuICAgICAgICBleGlzdGluZ0ZldGNoZXIgPyBleGlzdGluZ0ZldGNoZXIuZGF0YSA6IHVuZGVmaW5lZFxuICAgICAgKSxcbiAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICApO1xuXG4gICAgbGV0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgZmV0Y2hSZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBwYXRoLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICAgICk7XG5cbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIG5ldyBVUkwoZmV0Y2hSZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIGZldGNoUmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGtleVxuICAgICAgKTtcblxuICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGRpc2NvdmVyUmVzdWx0LmVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3IoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IHBhdGggfSksXG4gICAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgICAgbWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBwYXRoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYWxsIHRoZSBsb2FkZXIgZm9yIHRoaXMgZmV0Y2hlciByb3V0ZSBtYXRjaFxuICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KGtleSwgYWJvcnRDb250cm9sbGVyKTtcblxuICAgIGxldCBvcmlnaW5hdGluZ0xvYWRJZCA9IGluY3JlbWVudGluZ0xvYWRJZDtcbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBcImxvYWRlclwiLFxuICAgICAgc3RhdGUsXG4gICAgICBmZXRjaFJlcXVlc3QsXG4gICAgICBbbWF0Y2hdLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGtleVxuICAgICk7XG4gICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuXG4gICAgLy8gRGVmZXJyZWQgaXNuJ3Qgc3VwcG9ydGVkIGZvciBmZXRjaGVyIGxvYWRzLCBhd2FpdCBldmVyeXRoaW5nIGFuZCB0cmVhdCBpdFxuICAgIC8vIGFzIGEgbm9ybWFsIGxvYWQuICByZXNvbHZlRGVmZXJyZWREYXRhIHdpbGwgcmV0dXJuIHVuZGVmaW5lZCBpZiB0aGlzXG4gICAgLy8gZmV0Y2hlciBnZXRzIGFib3J0ZWQsIHNvIHdlIGp1c3QgbGVhdmUgcmVzdWx0IHVudG91Y2hlZCBhbmQgc2hvcnQgY2lyY3VpdFxuICAgIC8vIGJlbG93IGlmIHRoYXQgaGFwcGVuc1xuICAgIGlmIChpc0RlZmVycmVkUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHJlc3VsdCA9XG4gICAgICAgIChhd2FpdCByZXNvbHZlRGVmZXJyZWREYXRhKHJlc3VsdCwgZmV0Y2hSZXF1ZXN0LnNpZ25hbCwgdHJ1ZSkpIHx8XG4gICAgICAgIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBXZSBjYW4gZGVsZXRlIHRoaXMgc28gbG9uZyBhcyB3ZSB3ZXJlbid0IGFib3J0ZWQgYnkgb3VyIG91ciBvd24gZmV0Y2hlclxuICAgIC8vIHJlLWxvYWQgd2hpY2ggd291bGQgaGF2ZSBwdXQgX25ld18gY29udHJvbGxlciBpcyBpbiBmZXRjaENvbnRyb2xsZXJzXG4gICAgaWYgKGZldGNoQ29udHJvbGxlcnMuZ2V0KGtleSkgPT09IGFib3J0Q29udHJvbGxlcikge1xuICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICB9XG5cbiAgICBpZiAoZmV0Y2hSZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gV2UgZG9uJ3Qgd2FudCBlcnJvcnMgYnViYmxpbmcgdXAgb3IgcmVkaXJlY3RzIGZvbGxvd2VkIGZvciB1bm1vdW50ZWRcbiAgICAvLyBmZXRjaGVycywgc28gc2hvcnQgY2lyY3VpdCBoZXJlIGlmIGl0IHdhcyByZW1vdmVkIGZyb20gdGhlIFVJXG4gICAgaWYgKGRlbGV0ZWRGZXRjaGVycy5oYXMoa2V5KSkge1xuICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodW5kZWZpbmVkKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGxvYWRlciB0aHJldyBhIHJlZGlyZWN0IFJlc3BvbnNlLCBzdGFydCBhIG5ldyBSRVBMQUNFIG5hdmlnYXRpb25cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPiBvcmlnaW5hdGluZ0xvYWRJZCkge1xuICAgICAgICAvLyBBIG5ldyBuYXZpZ2F0aW9uIHdhcyBraWNrZWQgb2ZmIGFmdGVyIG91ciBsb2FkZXIgc3RhcnRlZCwgc28gdGhhdFxuICAgICAgICAvLyBzaG91bGQgdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhpcyByZWRpcmVjdCBuYXZpZ2F0aW9uXG4gICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHVuZGVmaW5lZCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChrZXkpO1xuICAgICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihmZXRjaFJlcXVlc3QsIHJlc3VsdCwgZmFsc2UsIHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyBhbnkgbm9uLXJlZGlyZWN0IGVycm9ycyB0aHJvd25cbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCByZXN1bHQuZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGludmFyaWFudCghaXNEZWZlcnJlZFJlc3VsdChyZXN1bHQpLCBcIlVuaGFuZGxlZCBmZXRjaGVyIGRlZmVycmVkIGRhdGFcIik7XG5cbiAgICAvLyBQdXQgdGhlIGZldGNoZXIgYmFjayBpbnRvIGFuIGlkbGUgc3RhdGVcbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcihyZXN1bHQuZGF0YSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gaGFuZGxlIHJlZGlyZWN0cyByZXR1cm5lZCBmcm9tIGFuIGFjdGlvbiBvciBsb2FkZXIuXG4gICAqIE5vcm1hbGx5LCBhIHJlZGlyZWN0IFwicmVwbGFjZXNcIiB0aGUgbmF2aWdhdGlvbiB0aGF0IHRyaWdnZXJlZCBpdC4gIFNvLCBmb3JcbiAgICogZXhhbXBsZTpcbiAgICpcbiAgICogIC0gdXNlciBpcyBvbiAvYVxuICAgKiAgLSB1c2VyIGNsaWNrcyBhIGxpbmsgdG8gL2JcbiAgICogIC0gbG9hZGVyIGZvciAvYiByZWRpcmVjdHMgdG8gL2NcbiAgICpcbiAgICogSW4gYSBub24tSlMgYXBwIHRoZSBicm93c2VyIHdvdWxkIHRyYWNrIHRoZSBpbi1mbGlnaHQgbmF2aWdhdGlvbiB0byAvYiBhbmRcbiAgICogdGhlbiByZXBsYWNlIGl0IHdpdGggL2Mgd2hlbiBpdCBlbmNvdW50ZXJlZCB0aGUgcmVkaXJlY3QgcmVzcG9uc2UuICBJblxuICAgKiB0aGUgZW5kIGl0IHdvdWxkIG9ubHkgZXZlciB1cGRhdGUgdGhlIFVSTCBiYXIgd2l0aCAvYy5cbiAgICpcbiAgICogSW4gY2xpZW50LXNpZGUgcm91dGluZyB1c2luZyBwdXNoU3RhdGUvcmVwbGFjZVN0YXRlLCB3ZSBhaW0gdG8gZW11bGF0ZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCB3ZSBhbHNvIGRvIG5vdCB1cGRhdGUgaGlzdG9yeSB1bnRpbCB0aGUgZW5kIG9mIHRoZVxuICAgKiBuYXZpZ2F0aW9uIChpbmNsdWRpbmcgcHJvY2Vzc2VkIHJlZGlyZWN0cykuICBUaGlzIG1lYW5zIHRoYXQgd2UgbmV2ZXJcbiAgICogYWN0dWFsbHkgdG91Y2ggaGlzdG9yeSB1bnRpbCB3ZSd2ZSBwcm9jZXNzZWQgcmVkaXJlY3RzLCBzbyB3ZSBqdXN0IHVzZVxuICAgKiB0aGUgaGlzdG9yeSBhY3Rpb24gZnJvbSB0aGUgb3JpZ2luYWwgbmF2aWdhdGlvbiAoUFVTSCBvciBSRVBMQUNFKS5cbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgcmVkaXJlY3Q6IFJlZGlyZWN0UmVzdWx0LFxuICAgIGlzTmF2aWdhdGlvbjogYm9vbGVhbixcbiAgICB7XG4gICAgICBzdWJtaXNzaW9uLFxuICAgICAgZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICByZXBsYWNlLFxuICAgIH06IHtcbiAgICAgIHN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uO1xuICAgICAgZmV0Y2hlclN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uO1xuICAgICAgcHJldmVudFNjcm9sbFJlc2V0PzogYm9vbGVhbjtcbiAgICAgIHJlcGxhY2U/OiBib29sZWFuO1xuICAgIH0gPSB7fVxuICApIHtcbiAgICBpZiAocmVkaXJlY3QucmVzcG9uc2UuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJldmFsaWRhdGVcIikpIHtcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGxldCBsb2NhdGlvbiA9IHJlZGlyZWN0LnJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIik7XG4gICAgaW52YXJpYW50KGxvY2F0aW9uLCBcIkV4cGVjdGVkIGEgTG9jYXRpb24gaGVhZGVyIG9uIHRoZSByZWRpcmVjdCBSZXNwb25zZVwiKTtcbiAgICBsb2NhdGlvbiA9IG5vcm1hbGl6ZVJlZGlyZWN0TG9jYXRpb24oXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgYmFzZW5hbWVcbiAgICApO1xuICAgIGxldCByZWRpcmVjdExvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oc3RhdGUubG9jYXRpb24sIGxvY2F0aW9uLCB7XG4gICAgICBfaXNSZWRpcmVjdDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgIGxldCBpc0RvY3VtZW50UmVsb2FkID0gZmFsc2U7XG5cbiAgICAgIGlmIChyZWRpcmVjdC5yZXNwb25zZS5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIpKSB7XG4gICAgICAgIC8vIEhhcmQgcmVsb2FkIGlmIHRoZSByZXNwb25zZSBjb250YWluZWQgWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcbiAgICAgICAgaXNEb2N1bWVudFJlbG9hZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKEFCU09MVVRFX1VSTF9SRUdFWC50ZXN0KGxvY2F0aW9uKSkge1xuICAgICAgICBjb25zdCB1cmwgPSBpbml0Lmhpc3RvcnkuY3JlYXRlVVJMKGxvY2F0aW9uKTtcbiAgICAgICAgaXNEb2N1bWVudFJlbG9hZCA9XG4gICAgICAgICAgLy8gSGFyZCByZWxvYWQgaWYgaXQncyBhbiBhYnNvbHV0ZSBVUkwgdG8gYSBuZXcgb3JpZ2luXG4gICAgICAgICAgdXJsLm9yaWdpbiAhPT0gcm91dGVyV2luZG93LmxvY2F0aW9uLm9yaWdpbiB8fFxuICAgICAgICAgIC8vIEhhcmQgcmVsb2FkIGlmIGl0J3MgYW4gYWJzb2x1dGUgVVJMIHRoYXQgZG9lcyBub3QgbWF0Y2ggb3VyIGJhc2VuYW1lXG4gICAgICAgICAgc3RyaXBCYXNlbmFtZSh1cmwucGF0aG5hbWUsIGJhc2VuYW1lKSA9PSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEb2N1bWVudFJlbG9hZCkge1xuICAgICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICAgIHJvdXRlcldpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGxvY2F0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3V0ZXJXaW5kb3cubG9jYXRpb24uYXNzaWduKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhlcmUncyBubyBuZWVkIHRvIGFib3J0IG9uIHJlZGlyZWN0cywgc2luY2Ugd2UgZG9uJ3QgZGV0ZWN0IHRoZVxuICAgIC8vIHJlZGlyZWN0IHVudGlsIHRoZSBhY3Rpb24vbG9hZGVycyBoYXZlIHNldHRsZWRcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuXG4gICAgbGV0IHJlZGlyZWN0SGlzdG9yeUFjdGlvbiA9XG4gICAgICByZXBsYWNlID09PSB0cnVlIHx8IHJlZGlyZWN0LnJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXBsYWNlXCIpXG4gICAgICAgID8gSGlzdG9yeUFjdGlvbi5SZXBsYWNlXG4gICAgICAgIDogSGlzdG9yeUFjdGlvbi5QdXNoO1xuXG4gICAgLy8gVXNlIHRoZSBpbmNvbWluZyBzdWJtaXNzaW9uIGlmIHByb3ZpZGVkLCBmYWxsYmFjayBvbiB0aGUgYWN0aXZlIG9uZSBpblxuICAgIC8vIHN0YXRlLm5hdmlnYXRpb25cbiAgICBsZXQgeyBmb3JtTWV0aG9kLCBmb3JtQWN0aW9uLCBmb3JtRW5jVHlwZSB9ID0gc3RhdGUubmF2aWdhdGlvbjtcbiAgICBpZiAoXG4gICAgICAhc3VibWlzc2lvbiAmJlxuICAgICAgIWZldGNoZXJTdWJtaXNzaW9uICYmXG4gICAgICBmb3JtTWV0aG9kICYmXG4gICAgICBmb3JtQWN0aW9uICYmXG4gICAgICBmb3JtRW5jVHlwZVxuICAgICkge1xuICAgICAgc3VibWlzc2lvbiA9IGdldFN1Ym1pc3Npb25Gcm9tTmF2aWdhdGlvbihzdGF0ZS5uYXZpZ2F0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGlzIHdhcyBhIDMwNy8zMDggc3VibWlzc2lvbiB3ZSB3YW50IHRvIHByZXNlcnZlIHRoZSBIVFRQIG1ldGhvZCBhbmRcbiAgICAvLyByZS1zdWJtaXQgdGhlIEdFVC9QT1NUL1BVVC9QQVRDSC9ERUxFVEUgYXMgYSBzdWJtaXNzaW9uIG5hdmlnYXRpb24gdG8gdGhlXG4gICAgLy8gcmVkaXJlY3RlZCBsb2NhdGlvblxuICAgIGxldCBhY3RpdmVTdWJtaXNzaW9uID0gc3VibWlzc2lvbiB8fCBmZXRjaGVyU3VibWlzc2lvbjtcbiAgICBpZiAoXG4gICAgICByZWRpcmVjdFByZXNlcnZlTWV0aG9kU3RhdHVzQ29kZXMuaGFzKHJlZGlyZWN0LnJlc3BvbnNlLnN0YXR1cykgJiZcbiAgICAgIGFjdGl2ZVN1Ym1pc3Npb24gJiZcbiAgICAgIGlzTXV0YXRpb25NZXRob2QoYWN0aXZlU3VibWlzc2lvbi5mb3JtTWV0aG9kKVxuICAgICkge1xuICAgICAgYXdhaXQgc3RhcnROYXZpZ2F0aW9uKHJlZGlyZWN0SGlzdG9yeUFjdGlvbiwgcmVkaXJlY3RMb2NhdGlvbiwge1xuICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgLi4uYWN0aXZlU3VibWlzc2lvbixcbiAgICAgICAgICBmb3JtQWN0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUHJlc2VydmUgdGhlc2UgZmxhZ3MgYWNyb3NzIHJlZGlyZWN0c1xuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IHByZXZlbnRTY3JvbGxSZXNldCB8fCBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogaXNOYXZpZ2F0aW9uXG4gICAgICAgICAgPyBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIG5hdmlnYXRpb24gc3VibWlzc2lvbiwgd2Ugd2lsbCBwcmVzZXJ2ZSBpdCB0aHJvdWdoIHRoZVxuICAgICAgLy8gcmVkaXJlY3QgbmF2aWdhdGlvblxuICAgICAgbGV0IG92ZXJyaWRlTmF2aWdhdGlvbiA9IGdldExvYWRpbmdOYXZpZ2F0aW9uKFxuICAgICAgICByZWRpcmVjdExvY2F0aW9uLFxuICAgICAgICBzdWJtaXNzaW9uXG4gICAgICApO1xuICAgICAgYXdhaXQgc3RhcnROYXZpZ2F0aW9uKHJlZGlyZWN0SGlzdG9yeUFjdGlvbiwgcmVkaXJlY3RMb2NhdGlvbiwge1xuICAgICAgICBvdmVycmlkZU5hdmlnYXRpb24sXG4gICAgICAgIC8vIFNlbmQgZmV0Y2hlciBzdWJtaXNzaW9ucyB0aHJvdWdoIGZvciBzaG91bGRSZXZhbGlkYXRlXG4gICAgICAgIGZldGNoZXJTdWJtaXNzaW9uLFxuICAgICAgICAvLyBQcmVzZXJ2ZSB0aGVzZSBmbGFncyBhY3Jvc3MgcmVkaXJlY3RzXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogcHJldmVudFNjcm9sbFJlc2V0IHx8IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBpc05hdmlnYXRpb25cbiAgICAgICAgICA/IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWRcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFV0aWxpdHkgd3JhcHBlciBmb3IgY2FsbGluZyBkYXRhU3RyYXRlZ3kgY2xpZW50LXNpZGUgd2l0aG91dCBoYXZpbmcgdG9cbiAgLy8gcGFzcyBhcm91bmQgdGhlIG1hbmlmZXN0LCBtYXBSb3V0ZVByb3BlcnRpZXMsIGV0Yy5cbiAgYXN5bmMgZnVuY3Rpb24gY2FsbERhdGFTdHJhdGVneShcbiAgICB0eXBlOiBcImxvYWRlclwiIHwgXCJhY3Rpb25cIixcbiAgICBzdGF0ZTogUm91dGVyU3RhdGUsXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICBtYXRjaGVzVG9Mb2FkOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIGZldGNoZXJLZXk6IHN0cmluZyB8IG51bGxcbiAgKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0Pj4ge1xuICAgIGxldCByZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBEYXRhU3RyYXRlZ3lSZXN1bHQ+O1xuICAgIGxldCBkYXRhUmVzdWx0czogUmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD4gPSB7fTtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3lJbXBsKFxuICAgICAgICBkYXRhU3RyYXRlZ3lJbXBsLFxuICAgICAgICB0eXBlLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgZmV0Y2hlcktleSxcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIG1hcFJvdXRlUHJvcGVydGllc1xuICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBJZiB0aGUgb3V0ZXIgZGF0YVN0cmF0ZWd5IG1ldGhvZCB0aHJvd3MsIGp1c3QgcmV0dXJuIHRoZSBlcnJvciBmb3IgYWxsXG4gICAgICAvLyBtYXRjaGVzIC0gYW5kIGl0J2xsIG5hdHVyYWxseSBidWJibGUgdG8gdGhlIHJvb3RcbiAgICAgIG1hdGNoZXNUb0xvYWQuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICBkYXRhUmVzdWx0c1ttLnJvdXRlLmlkXSA9IHtcbiAgICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICAgIGVycm9yOiBlLFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGF0YVJlc3VsdHM7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgW3JvdXRlSWQsIHJlc3VsdF0gb2YgT2JqZWN0LmVudHJpZXMocmVzdWx0cykpIHtcbiAgICAgIGlmIChpc1JlZGlyZWN0RGF0YVN0cmF0ZWd5UmVzdWx0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gcmVzdWx0LnJlc3VsdCBhcyBSZXNwb25zZTtcbiAgICAgICAgZGF0YVJlc3VsdHNbcm91dGVJZF0gPSB7XG4gICAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5yZWRpcmVjdCxcbiAgICAgICAgICByZXNwb25zZTogbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgICBmdXR1cmUudjdfcmVsYXRpdmVTcGxhdFBhdGhcbiAgICAgICAgICApLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVJlc3VsdHNbcm91dGVJZF0gPSBhd2FpdCBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KFxuICAgICAgICAgIHJlc3VsdFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxMb2FkZXJzQW5kTWF5YmVSZXNvbHZlRGF0YShcbiAgICBzdGF0ZTogUm91dGVyU3RhdGUsXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIG1hdGNoZXNUb0xvYWQ6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBmZXRjaGVyc1RvTG9hZDogUmV2YWxpZGF0aW5nRmV0Y2hlcltdLFxuICAgIHJlcXVlc3Q6IFJlcXVlc3RcbiAgKSB7XG4gICAgbGV0IGN1cnJlbnRNYXRjaGVzID0gc3RhdGUubWF0Y2hlcztcblxuICAgIC8vIEtpY2sgb2ZmIGxvYWRlcnMgYW5kIGZldGNoZXJzIGluIHBhcmFsbGVsXG4gICAgbGV0IGxvYWRlclJlc3VsdHNQcm9taXNlID0gY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwibG9hZGVyXCIsXG4gICAgICBzdGF0ZSxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG51bGxcbiAgICApO1xuXG4gICAgbGV0IGZldGNoZXJSZXN1bHRzUHJvbWlzZSA9IFByb21pc2UuYWxsKFxuICAgICAgZmV0Y2hlcnNUb0xvYWQubWFwKGFzeW5jIChmKSA9PiB7XG4gICAgICAgIGlmIChmLm1hdGNoZXMgJiYgZi5tYXRjaCAmJiBmLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICAgICAgICBcImxvYWRlclwiLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChpbml0Lmhpc3RvcnksIGYucGF0aCwgZi5jb250cm9sbGVyLnNpZ25hbCksXG4gICAgICAgICAgICBbZi5tYXRjaF0sXG4gICAgICAgICAgICBmLm1hdGNoZXMsXG4gICAgICAgICAgICBmLmtleVxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbZi5tYXRjaC5yb3V0ZS5pZF07XG4gICAgICAgICAgLy8gRmV0Y2hlciByZXN1bHRzIGFyZSBrZXllZCBieSBmZXRjaGVyIGtleSBmcm9tIGhlcmUgb24gb3V0LCBub3Qgcm91dGVJZFxuICAgICAgICAgIHJldHVybiB7IFtmLmtleV06IHJlc3VsdCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgW2Yua2V5XToge1xuICAgICAgICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICAgICAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHtcbiAgICAgICAgICAgICAgICBwYXRobmFtZTogZi5wYXRoLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0gYXMgRXJyb3JSZXN1bHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGxldCBsb2FkZXJSZXN1bHRzID0gYXdhaXQgbG9hZGVyUmVzdWx0c1Byb21pc2U7XG4gICAgbGV0IGZldGNoZXJSZXN1bHRzID0gKGF3YWl0IGZldGNoZXJSZXN1bHRzUHJvbWlzZSkucmVkdWNlKFxuICAgICAgKGFjYywgcikgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHIpLFxuICAgICAge31cbiAgICApO1xuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgcmVzb2x2ZU5hdmlnYXRpb25EZWZlcnJlZFJlc3VsdHMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgICBjdXJyZW50TWF0Y2hlcyxcbiAgICAgICAgc3RhdGUubG9hZGVyRGF0YVxuICAgICAgKSxcbiAgICAgIHJlc29sdmVGZXRjaGVyRGVmZXJyZWRSZXN1bHRzKG1hdGNoZXMsIGZldGNoZXJSZXN1bHRzLCBmZXRjaGVyc1RvTG9hZCksXG4gICAgXSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgIGZldGNoZXJSZXN1bHRzLFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpIHtcbiAgICAvLyBFdmVyeSBpbnRlcnJ1cHRpb24gdHJpZ2dlcnMgYSByZXZhbGlkYXRpb25cbiAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gdHJ1ZTtcblxuICAgIC8vIENhbmNlbCBwZW5kaW5nIHJvdXRlLWxldmVsIGRlZmVycmVkcyBhbmQgbWFyayBjYW5jZWxsZWQgcm91dGVzIGZvclxuICAgIC8vIHJldmFsaWRhdGlvblxuICAgIGNhbmNlbGxlZERlZmVycmVkUm91dGVzLnB1c2goLi4uY2FuY2VsQWN0aXZlRGVmZXJyZWRzKCkpO1xuXG4gICAgLy8gQWJvcnQgaW4tZmxpZ2h0IGZldGNoZXIgbG9hZHNcbiAgICBmZXRjaExvYWRNYXRjaGVzLmZvckVhY2goKF8sIGtleSkgPT4ge1xuICAgICAgaWYgKGZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmFkZChrZXkpO1xuICAgICAgfVxuICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGZXRjaGVyU3RhdGUoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgZmV0Y2hlcjogRmV0Y2hlcixcbiAgICBvcHRzOiB7IGZsdXNoU3luYz86IGJvb2xlYW4gfSA9IHt9XG4gICkge1xuICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGZldGNoZXIpO1xuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAgeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSxcbiAgICAgIHsgZmx1c2hTeW5jOiAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWUgfVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRGZXRjaGVyRXJyb3IoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcm91dGVJZDogc3RyaW5nLFxuICAgIGVycm9yOiBhbnksXG4gICAgb3B0czogeyBmbHVzaFN5bmM/OiBib29sZWFuIH0gPSB7fVxuICApIHtcbiAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoc3RhdGUubWF0Y2hlcywgcm91dGVJZCk7XG4gICAgZGVsZXRlRmV0Y2hlcihrZXkpO1xuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAge1xuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF06IGVycm9yLFxuICAgICAgICB9LFxuICAgICAgICBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycyksXG4gICAgICB9LFxuICAgICAgeyBmbHVzaFN5bmM6IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZSB9XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZldGNoZXI8VERhdGEgPSBhbnk+KGtleTogc3RyaW5nKTogRmV0Y2hlcjxURGF0YT4ge1xuICAgIGFjdGl2ZUZldGNoZXJzLnNldChrZXksIChhY3RpdmVGZXRjaGVycy5nZXQoa2V5KSB8fCAwKSArIDEpO1xuICAgIC8vIElmIHRoaXMgZmV0Y2hlciB3YXMgcHJldmlvdXNseSBtYXJrZWQgZm9yIGRlbGV0aW9uLCB1bm1hcmsgaXQgc2luY2Ugd2VcbiAgICAvLyBoYXZlIGEgbmV3IGluc3RhbmNlXG4gICAgaWYgKGRlbGV0ZWRGZXRjaGVycy5oYXMoa2V5KSkge1xuICAgICAgZGVsZXRlZEZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSkgfHwgSURMRV9GRVRDSEVSO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlRmV0Y2hlcihrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgLy8gRG9uJ3QgYWJvcnQgdGhlIGNvbnRyb2xsZXIgaWYgdGhpcyBpcyBhIGRlbGV0aW9uIG9mIGEgZmV0Y2hlci5zdWJtaXQoKVxuICAgIC8vIGluIGl0J3MgbG9hZGluZyBwaGFzZSBzaW5jZSAtIHdlIGRvbid0IHdhbnQgdG8gYWJvcnQgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAvLyByZXZhbGlkYXRpb24gYW5kIHdhbnQgdGhlbSB0byBjb21wbGV0ZSBhbmQgbGFuZFxuICAgIGlmIChcbiAgICAgIGZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkgJiZcbiAgICAgICEoZmV0Y2hlciAmJiBmZXRjaGVyLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJiBmZXRjaFJlbG9hZElkcy5oYXMoa2V5KSlcbiAgICApIHtcbiAgICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgIH1cbiAgICBmZXRjaExvYWRNYXRjaGVzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoUmVkaXJlY3RJZHMuZGVsZXRlKGtleSk7XG5cbiAgICAvLyBJZiB3ZSBvcHRlZCBpbnRvIHRoZSBmbGFnIHdlIGNhbiBjbGVhciB0aGlzIG5vdyBzaW5jZSB3ZSdyZSBjYWxsaW5nXG4gICAgLy8gZGVsZXRlRmV0Y2hlcigpIGF0IHRoZSBlbmQgb2YgdXBkYXRlU3RhdGUoKSBhbmQgd2UndmUgYWxyZWFkeSBoYW5kZWQgdGhlXG4gICAgLy8gZGVsZXRlZCBmZXRjaGVyIGtleXMgb2ZmIHRvIHRoZSBkYXRhIGxheWVyLlxuICAgIC8vIElmIG5vdCwgd2UncmUgZWFnZXJseSBjYWxsaW5nIGRlbGV0ZUZldGNoZXIoKSBhbmQgd2UgbmVlZCB0byBrZWVwIHRoaXNcbiAgICAvLyBTZXQgcG9wdWxhdGVkIHVudGlsIHRoZSBuZXh0IHVwZGF0ZVN0YXRlIGNhbGwsIGFuZCB3ZSdsbCBjbGVhclxuICAgIC8vIGBkZWxldGVkRmV0Y2hlcnNgIHRoZW5cbiAgICBpZiAoZnV0dXJlLnY3X2ZldGNoZXJQZXJzaXN0KSB7XG4gICAgICBkZWxldGVkRmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gICAgfVxuXG4gICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmRlbGV0ZShrZXkpO1xuICAgIHN0YXRlLmZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlRmV0Y2hlckFuZFVwZGF0ZVN0YXRlKGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgbGV0IGNvdW50ID0gKGFjdGl2ZUZldGNoZXJzLmdldChrZXkpIHx8IDApIC0gMTtcbiAgICBpZiAoY291bnQgPD0gMCkge1xuICAgICAgYWN0aXZlRmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gICAgICBkZWxldGVkRmV0Y2hlcnMuYWRkKGtleSk7XG4gICAgICBpZiAoIWZ1dHVyZS52N19mZXRjaGVyUGVyc2lzdCkge1xuICAgICAgICBkZWxldGVGZXRjaGVyKGtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUZldGNoZXJzLnNldChrZXksIGNvdW50KTtcbiAgICB9XG5cbiAgICB1cGRhdGVTdGF0ZSh7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFib3J0RmV0Y2hlcihrZXk6IHN0cmluZykge1xuICAgIGxldCBjb250cm9sbGVyID0gZmV0Y2hDb250cm9sbGVycy5nZXQoa2V5KTtcbiAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrRmV0Y2hlcnNEb25lKGtleXM6IHN0cmluZ1tdKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgIGxldCBmZXRjaGVyID0gZ2V0RmV0Y2hlcihrZXkpO1xuICAgICAgbGV0IGRvbmVGZXRjaGVyID0gZ2V0RG9uZUZldGNoZXIoZmV0Y2hlci5kYXRhKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGRvbmVGZXRjaGVyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrRmV0Y2hSZWRpcmVjdHNEb25lKCk6IGJvb2xlYW4ge1xuICAgIGxldCBkb25lS2V5cyA9IFtdO1xuICAgIGxldCB1cGRhdGVkRmV0Y2hlcnMgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBrZXkgb2YgZmV0Y2hSZWRpcmVjdElkcykge1xuICAgICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICAgIGludmFyaWFudChmZXRjaGVyLCBgRXhwZWN0ZWQgZmV0Y2hlcjogJHtrZXl9YCk7XG4gICAgICBpZiAoZmV0Y2hlci5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgZmV0Y2hSZWRpcmVjdElkcy5kZWxldGUoa2V5KTtcbiAgICAgICAgZG9uZUtleXMucHVzaChrZXkpO1xuICAgICAgICB1cGRhdGVkRmV0Y2hlcnMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBtYXJrRmV0Y2hlcnNEb25lKGRvbmVLZXlzKTtcbiAgICByZXR1cm4gdXBkYXRlZEZldGNoZXJzO1xuICB9XG5cbiAgZnVuY3Rpb24gYWJvcnRTdGFsZUZldGNoTG9hZHMobGFuZGVkSWQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGxldCB5ZWV0ZWRLZXlzID0gW107XG4gICAgZm9yIChsZXQgW2tleSwgaWRdIG9mIGZldGNoUmVsb2FkSWRzKSB7XG4gICAgICBpZiAoaWQgPCBsYW5kZWRJZCkge1xuICAgICAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgICAgICBpbnZhcmlhbnQoZmV0Y2hlciwgYEV4cGVjdGVkIGZldGNoZXI6ICR7a2V5fWApO1xuICAgICAgICBpZiAoZmV0Y2hlci5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgICBhYm9ydEZldGNoZXIoa2V5KTtcbiAgICAgICAgICBmZXRjaFJlbG9hZElkcy5kZWxldGUoa2V5KTtcbiAgICAgICAgICB5ZWV0ZWRLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBtYXJrRmV0Y2hlcnNEb25lKHllZXRlZEtleXMpO1xuICAgIHJldHVybiB5ZWV0ZWRLZXlzLmxlbmd0aCA+IDA7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCbG9ja2VyKGtleTogc3RyaW5nLCBmbjogQmxvY2tlckZ1bmN0aW9uKSB7XG4gICAgbGV0IGJsb2NrZXI6IEJsb2NrZXIgPSBzdGF0ZS5ibG9ja2Vycy5nZXQoa2V5KSB8fCBJRExFX0JMT0NLRVI7XG5cbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9ucy5nZXQoa2V5KSAhPT0gZm4pIHtcbiAgICAgIGJsb2NrZXJGdW5jdGlvbnMuc2V0KGtleSwgZm4pO1xuICAgIH1cblxuICAgIHJldHVybiBibG9ja2VyO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlQmxvY2tlcihrZXk6IHN0cmluZykge1xuICAgIHN0YXRlLmJsb2NrZXJzLmRlbGV0ZShrZXkpO1xuICAgIGJsb2NrZXJGdW5jdGlvbnMuZGVsZXRlKGtleSk7XG4gIH1cblxuICAvLyBVdGlsaXR5IGZ1bmN0aW9uIHRvIHVwZGF0ZSBibG9ja2VycywgZW5zdXJpbmcgdmFsaWQgc3RhdGUgdHJhbnNpdGlvbnNcbiAgZnVuY3Rpb24gdXBkYXRlQmxvY2tlcihrZXk6IHN0cmluZywgbmV3QmxvY2tlcjogQmxvY2tlcikge1xuICAgIGxldCBibG9ja2VyID0gc3RhdGUuYmxvY2tlcnMuZ2V0KGtleSkgfHwgSURMRV9CTE9DS0VSO1xuXG4gICAgLy8gUG9vciBtYW5zIHN0YXRlIG1hY2hpbmUgOilcbiAgICAvLyBodHRwczovL21lcm1haWQubGl2ZS9lZGl0I3Bha286ZU5xVmtjOU93ekFNeGw4bDhubmpBWXJFdERJT0hFQklnd3ZLSlRSZUd5M19sRHBJcU8yN2s2YXdNRzBYY3JMbG56ODdud2RvbkVTb2dLWFhCdUU3OXJxNzVYWk8zLXlIZHMwUkpWdXY3MFlyUGxVckNFZTJIZnJPUlMzcnVicVpmdWh0cGc1Qzl3azV0WjRWS2NSVXE4OHE5WjhSUzAtNDhjRTFpSEprTDB1Z2JIdUZMdXM5TDZzcFp5OG5YOU1QMkNOZG9tVmFwb3NxdTNmR2F5VDhUOC1qSlF3aGVwb19VdHBnQlFhREVVb20wNGRaaEFOMWFKQkRsVUtKQnhFMWNlQjJTbWowTWxuLUlCVzVBRlUyZHdVaWt0dF8yUWFxMmRCZmFLZEV1cDg1VVY3WWQtZEtqbG5rYWJsMlB2cjBEVGtUcmVNXG4gICAgaW52YXJpYW50KFxuICAgICAgKGJsb2NrZXIuc3RhdGUgPT09IFwidW5ibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIpIHx8XG4gICAgICAgIChibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIikgfHxcbiAgICAgICAgKGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwicHJvY2VlZGluZ1wiKSB8fFxuICAgICAgICAoYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJ1bmJsb2NrZWRcIikgfHxcbiAgICAgICAgKGJsb2NrZXIuc3RhdGUgPT09IFwicHJvY2VlZGluZ1wiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwidW5ibG9ja2VkXCIpLFxuICAgICAgYEludmFsaWQgYmxvY2tlciBzdGF0ZSB0cmFuc2l0aW9uOiAke2Jsb2NrZXIuc3RhdGV9IC0+ICR7bmV3QmxvY2tlci5zdGF0ZX1gXG4gICAgKTtcblxuICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgIGJsb2NrZXJzLnNldChrZXksIG5ld0Jsb2NrZXIpO1xuICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICBuZXh0TG9jYXRpb24sXG4gICAgaGlzdG9yeUFjdGlvbixcbiAgfToge1xuICAgIGN1cnJlbnRMb2NhdGlvbjogTG9jYXRpb247XG4gICAgbmV4dExvY2F0aW9uOiBMb2NhdGlvbjtcbiAgICBoaXN0b3J5QWN0aW9uOiBIaXN0b3J5QWN0aW9uO1xuICB9KTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9ucy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gV2Ugb255IHN1cHBvcnQgYSBzaW5nbGUgYWN0aXZlIGJsb2NrZXIgYXQgdGhlIG1vbWVudCBzaW5jZSB3ZSBkb24ndCBoYXZlXG4gICAgLy8gYW55IGNvbXBlbGxpbmcgdXNlIGNhc2VzIGZvciBtdWx0aS1ibG9ja2VyIHlldFxuICAgIGlmIChibG9ja2VyRnVuY3Rpb25zLnNpemUgPiAxKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCBcIkEgcm91dGVyIG9ubHkgc3VwcG9ydHMgb25lIGJsb2NrZXIgYXQgYSB0aW1lXCIpO1xuICAgIH1cblxuICAgIGxldCBlbnRyaWVzID0gQXJyYXkuZnJvbShibG9ja2VyRnVuY3Rpb25zLmVudHJpZXMoKSk7XG4gICAgbGV0IFtibG9ja2VyS2V5LCBibG9ja2VyRnVuY3Rpb25dID0gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdO1xuICAgIGxldCBibG9ja2VyID0gc3RhdGUuYmxvY2tlcnMuZ2V0KGJsb2NrZXJLZXkpO1xuXG4gICAgaWYgKGJsb2NrZXIgJiYgYmxvY2tlci5zdGF0ZSA9PT0gXCJwcm9jZWVkaW5nXCIpIHtcbiAgICAgIC8vIElmIHRoZSBibG9ja2VyIGlzIGN1cnJlbnRseSBwcm9jZWVkaW5nLCB3ZSBkb24ndCBuZWVkIHRvIHJlLWNoZWNrXG4gICAgICAvLyBpdCBhbmQgY2FuIGxldCB0aGlzIG5hdmlnYXRpb24gY29udGludWVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBrbm93IHdlJ3JlIHVuYmxvY2tlZC9ibG9ja2VkIHNvIHdlIG5lZWQgdG8gY2hlY2sgdGhlXG4gICAgLy8gdXNlci1wcm92aWRlZCBibG9ja2VyIGZ1bmN0aW9uXG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbih7IGN1cnJlbnRMb2NhdGlvbiwgbmV4dExvY2F0aW9uLCBoaXN0b3J5QWN0aW9uIH0pKSB7XG4gICAgICByZXR1cm4gYmxvY2tlcktleTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQocGF0aG5hbWU6IHN0cmluZykge1xuICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lIH0pO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCB7IG1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKHJvdXRlc1RvVXNlKTtcblxuICAgIC8vIENhbmNlbCBhbGwgcGVuZGluZyBkZWZlcnJlZCBvbiA0MDRzIHNpbmNlIHdlIGRvbid0IGtlZXAgYW55IHJvdXRlc1xuICAgIGNhbmNlbEFjdGl2ZURlZmVycmVkcygpO1xuXG4gICAgcmV0dXJuIHsgbm90Rm91bmRNYXRjaGVzOiBtYXRjaGVzLCByb3V0ZSwgZXJyb3IgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbEFjdGl2ZURlZmVycmVkcyhcbiAgICBwcmVkaWNhdGU/OiAocm91dGVJZDogc3RyaW5nKSA9PiBib29sZWFuXG4gICk6IHN0cmluZ1tdIHtcbiAgICBsZXQgY2FuY2VsbGVkUm91dGVJZHM6IHN0cmluZ1tdID0gW107XG4gICAgYWN0aXZlRGVmZXJyZWRzLmZvckVhY2goKGRmZCwgcm91dGVJZCkgPT4ge1xuICAgICAgaWYgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKHJvdXRlSWQpKSB7XG4gICAgICAgIC8vIENhbmNlbCB0aGUgZGVmZXJyZWQgLSBidXQgZG8gbm90IHJlbW92ZSBmcm9tIGFjdGl2ZURlZmVycmVkcyBoZXJlIC1cbiAgICAgICAgLy8gd2UgcmVseSBvbiB0aGUgc3Vic2NyaWJlcnMgdG8gZG8gdGhhdCBzbyBvdXIgdGVzdHMgY2FuIGFzc2VydCBwcm9wZXJcbiAgICAgICAgLy8gY2xlYW51cCB2aWEgX2ludGVybmFsQWN0aXZlRGVmZXJyZWRzXG4gICAgICAgIGRmZC5jYW5jZWwoKTtcbiAgICAgICAgY2FuY2VsbGVkUm91dGVJZHMucHVzaChyb3V0ZUlkKTtcbiAgICAgICAgYWN0aXZlRGVmZXJyZWRzLmRlbGV0ZShyb3V0ZUlkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2FuY2VsbGVkUm91dGVJZHM7XG4gIH1cblxuICAvLyBPcHQgaW4gdG8gY2FwdHVyaW5nIGFuZCByZXBvcnRpbmcgc2Nyb2xsIHBvc2l0aW9ucyBkdXJpbmcgbmF2aWdhdGlvbnMsXG4gIC8vIHVzZWQgYnkgdGhlIDxTY3JvbGxSZXN0b3JhdGlvbj4gY29tcG9uZW50XG4gIGZ1bmN0aW9uIGVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uKFxuICAgIHBvc2l0aW9uczogUmVjb3JkPHN0cmluZywgbnVtYmVyPixcbiAgICBnZXRQb3NpdGlvbjogR2V0U2Nyb2xsUG9zaXRpb25GdW5jdGlvbixcbiAgICBnZXRLZXk/OiBHZXRTY3JvbGxSZXN0b3JhdGlvbktleUZ1bmN0aW9uXG4gICkge1xuICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgIGdldFNjcm9sbFBvc2l0aW9uID0gZ2V0UG9zaXRpb247XG4gICAgZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkgPSBnZXRLZXkgfHwgbnVsbDtcblxuICAgIC8vIFBlcmZvcm0gaW5pdGlhbCBoeWRyYXRpb24gc2Nyb2xsIHJlc3RvcmF0aW9uLCBzaW5jZSB3ZSBtaXNzIHRoZSBib2F0IG9uXG4gICAgLy8gdGhlIGluaXRpYWwgdXBkYXRlU3RhdGUoKSBiZWNhdXNlIHdlJ3ZlIG5vdCB5ZXQgcmVuZGVyZWQgPFNjcm9sbFJlc3RvcmF0aW9uLz5cbiAgICAvLyBhbmQgdGhlcmVmb3JlIGhhdmUgbm8gc2F2ZWRTY3JvbGxQb3NpdGlvbnMgYXZhaWxhYmxlXG4gICAgaWYgKCFpbml0aWFsU2Nyb2xsUmVzdG9yZWQgJiYgc3RhdGUubmF2aWdhdGlvbiA9PT0gSURMRV9OQVZJR0FUSU9OKSB7XG4gICAgICBpbml0aWFsU2Nyb2xsUmVzdG9yZWQgPSB0cnVlO1xuICAgICAgbGV0IHkgPSBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKHN0YXRlLmxvY2F0aW9uLCBzdGF0ZS5tYXRjaGVzKTtcbiAgICAgIGlmICh5ICE9IG51bGwpIHtcbiAgICAgICAgdXBkYXRlU3RhdGUoeyByZXN0b3JlU2Nyb2xsUG9zaXRpb246IHkgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zID0gbnVsbDtcbiAgICAgIGdldFNjcm9sbFBvc2l0aW9uID0gbnVsbDtcbiAgICAgIGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5ID0gbnVsbDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2Nyb2xsS2V5KGxvY2F0aW9uOiBMb2NhdGlvbiwgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdKSB7XG4gICAgaWYgKGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KSB7XG4gICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkoXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLm1hcCgobSkgPT4gY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2gobSwgc3RhdGUubG9hZGVyRGF0YSkpXG4gICAgICApO1xuICAgICAgcmV0dXJuIGtleSB8fCBsb2NhdGlvbi5rZXk7XG4gICAgfVxuICAgIHJldHVybiBsb2NhdGlvbi5rZXk7XG4gIH1cblxuICBmdW5jdGlvbiBzYXZlU2Nyb2xsUG9zaXRpb24oXG4gICAgbG9jYXRpb246IExvY2F0aW9uLFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXVxuICApOiB2b2lkIHtcbiAgICBpZiAoc2F2ZWRTY3JvbGxQb3NpdGlvbnMgJiYgZ2V0U2Nyb2xsUG9zaXRpb24pIHtcbiAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxLZXkobG9jYXRpb24sIG1hdGNoZXMpO1xuICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnNba2V5XSA9IGdldFNjcm9sbFBvc2l0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihcbiAgICBsb2NhdGlvbjogTG9jYXRpb24sXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdXG4gICk6IG51bWJlciB8IG51bGwge1xuICAgIGlmIChzYXZlZFNjcm9sbFBvc2l0aW9ucykge1xuICAgICAgbGV0IGtleSA9IGdldFNjcm9sbEtleShsb2NhdGlvbiwgbWF0Y2hlcyk7XG4gICAgICBsZXQgeSA9IHNhdmVkU2Nyb2xsUG9zaXRpb25zW2tleV07XG4gICAgICBpZiAodHlwZW9mIHkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tGb2dPZldhcihcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10gfCBudWxsLFxuICAgIHJvdXRlc1RvVXNlOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdLFxuICAgIHBhdGhuYW1lOiBzdHJpbmdcbiAgKTogeyBhY3RpdmU6IGJvb2xlYW47IG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSB8IG51bGwgfSB7XG4gICAgaWYgKHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uSW1wbCkge1xuICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgIGxldCBmb2dNYXRjaGVzID0gbWF0Y2hSb3V0ZXNJbXBsPEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0PihcbiAgICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHsgYWN0aXZlOiB0cnVlLCBtYXRjaGVzOiBmb2dNYXRjaGVzIHx8IFtdIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMobWF0Y2hlc1swXS5wYXJhbXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBJZiB3ZSBtYXRjaGVkIGEgZHluYW1pYyBwYXJhbSBvciBhIHNwbGF0LCBpdCBtaWdodCBvbmx5IGJlIGJlY2F1c2VcbiAgICAgICAgICAvLyB3ZSBoYXZlbid0IHlldCBkaXNjb3ZlcmVkIG90aGVyIHJvdXRlcyB0aGF0IHdvdWxkIG1hdGNoIHdpdGggYVxuICAgICAgICAgIC8vIGhpZ2hlciBzY29yZS4gIENhbGwgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24ganVzdCB0byBiZSBzdXJlXG4gICAgICAgICAgbGV0IHBhcnRpYWxNYXRjaGVzID0gbWF0Y2hSb3V0ZXNJbXBsPEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0PihcbiAgICAgICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB7IGFjdGl2ZTogdHJ1ZSwgbWF0Y2hlczogcGFydGlhbE1hdGNoZXMgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGFjdGl2ZTogZmFsc2UsIG1hdGNoZXM6IG51bGwgfTtcbiAgfVxuXG4gIHR5cGUgRGlzY292ZXJSb3V0ZXNTdWNjZXNzUmVzdWx0ID0ge1xuICAgIHR5cGU6IFwic3VjY2Vzc1wiO1xuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSB8IG51bGw7XG4gIH07XG4gIHR5cGUgRGlzY292ZXJSb3V0ZXNFcnJvclJlc3VsdCA9IHtcbiAgICB0eXBlOiBcImVycm9yXCI7XG4gICAgZXJyb3I6IGFueTtcbiAgICBwYXJ0aWFsTWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdO1xuICB9O1xuICB0eXBlIERpc2NvdmVyUm91dGVzQWJvcnRlZFJlc3VsdCA9IHsgdHlwZTogXCJhYm9ydGVkXCIgfTtcbiAgdHlwZSBEaXNjb3ZlclJvdXRlc1Jlc3VsdCA9XG4gICAgfCBEaXNjb3ZlclJvdXRlc1N1Y2Nlc3NSZXN1bHRcbiAgICB8IERpc2NvdmVyUm91dGVzRXJyb3JSZXN1bHRcbiAgICB8IERpc2NvdmVyUm91dGVzQWJvcnRlZFJlc3VsdDtcblxuICBhc3luYyBmdW5jdGlvbiBkaXNjb3ZlclJvdXRlcyhcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgcGF0aG5hbWU6IHN0cmluZyxcbiAgICBzaWduYWw6IEFib3J0U2lnbmFsLFxuICAgIGZldGNoZXJLZXk/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxEaXNjb3ZlclJvdXRlc1Jlc3VsdD4ge1xuICAgIGlmICghcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25JbXBsKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWF0Y2hlcyB9O1xuICAgIH1cblxuICAgIGxldCBwYXJ0aWFsTWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdIHwgbnVsbCA9IG1hdGNoZXM7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBpc05vbkhNUiA9IGluRmxpZ2h0RGF0YVJvdXRlcyA9PSBudWxsO1xuICAgICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgICBsZXQgbG9jYWxNYW5pZmVzdCA9IG1hbmlmZXN0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25JbXBsKHtcbiAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgcGF0aDogcGF0aG5hbWUsXG4gICAgICAgICAgbWF0Y2hlczogcGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgZmV0Y2hlcktleSxcbiAgICAgICAgICBwYXRjaDogKHJvdXRlSWQsIGNoaWxkcmVuKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHJldHVybjtcbiAgICAgICAgICAgIHBhdGNoUm91dGVzSW1wbChcbiAgICAgICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICAgICAgICBsb2NhbE1hbmlmZXN0LFxuICAgICAgICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IGUsIHBhcnRpYWxNYXRjaGVzIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgbm90IGluIHRoZSBtaWRkbGUgb2YgYW4gSE1SIHJldmFsaWRhdGlvbiBhbmQgd2UgY2hhbmdlZCB0aGVcbiAgICAgICAgLy8gcm91dGVzLCBwcm92aWRlIGEgbmV3IGlkZW50aXR5IHNvIHdoZW4gd2UgYHVwZGF0ZVN0YXRlYCBhdCB0aGUgZW5kIG9mXG4gICAgICAgIC8vIHRoaXMgbmF2aWdhdGlvbi9mZXRjaCBgcm91dGVyLnJvdXRlc2Agd2lsbCBiZSBhIG5ldyBpZGVudGl0eSBhbmRcbiAgICAgICAgLy8gdHJpZ2dlciBhIHJlLXJ1biBvZiBtZW1vaXplZCBgcm91dGVyLnJvdXRlc2AgZGVwZW5kZW5jaWVzLlxuICAgICAgICAvLyBITVIgd2lsbCBhbHJlYWR5IHVwZGF0ZSB0aGUgaWRlbnRpdHkgYW5kIHJlZmxvdyB3aGVuIGl0IGxhbmRzXG4gICAgICAgIC8vIGBpbkZsaWdodERhdGFSb3V0ZXNgIGluIGBjb21wbGV0ZU5hdmlnYXRpb25gXG4gICAgICAgIGlmIChpc05vbkhNUiAmJiAhc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICBkYXRhUm91dGVzID0gWy4uLmRhdGFSb3V0ZXNdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImFib3J0ZWRcIiB9O1xuICAgICAgfVxuXG4gICAgICBsZXQgbmV3TWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBwYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgICAgaWYgKG5ld01hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXM6IG5ld01hdGNoZXMgfTtcbiAgICAgIH1cblxuICAgICAgbGV0IG5ld1BhcnRpYWxNYXRjaGVzID0gbWF0Y2hSb3V0ZXNJbXBsPEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0PihcbiAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgIHBhdGhuYW1lLFxuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcblxuICAgICAgLy8gQXZvaWQgbG9vcHMgaWYgdGhlIHNlY29uZCBwYXNzIHJlc3VsdHMgaW4gdGhlIHNhbWUgcGFydGlhbCBtYXRjaGVzXG4gICAgICBpZiAoXG4gICAgICAgICFuZXdQYXJ0aWFsTWF0Y2hlcyB8fFxuICAgICAgICAocGFydGlhbE1hdGNoZXMubGVuZ3RoID09PSBuZXdQYXJ0aWFsTWF0Y2hlcy5sZW5ndGggJiZcbiAgICAgICAgICBwYXJ0aWFsTWF0Y2hlcy5ldmVyeShcbiAgICAgICAgICAgIChtLCBpKSA9PiBtLnJvdXRlLmlkID09PSBuZXdQYXJ0aWFsTWF0Y2hlcyFbaV0ucm91dGUuaWRcbiAgICAgICAgICApKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwic3VjY2Vzc1wiLCBtYXRjaGVzOiBudWxsIH07XG4gICAgICB9XG5cbiAgICAgIHBhcnRpYWxNYXRjaGVzID0gbmV3UGFydGlhbE1hdGNoZXM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2ludGVybmFsU2V0Um91dGVzKG5ld1JvdXRlczogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXSkge1xuICAgIG1hbmlmZXN0ID0ge307XG4gICAgaW5GbGlnaHREYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICAgIG5ld1JvdXRlcyxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIG1hbmlmZXN0XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdGNoUm91dGVzKFxuICAgIHJvdXRlSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgY2hpbGRyZW46IEFnbm9zdGljUm91dGVPYmplY3RbXVxuICApOiB2b2lkIHtcbiAgICBsZXQgaXNOb25ITVIgPSBpbkZsaWdodERhdGFSb3V0ZXMgPT0gbnVsbDtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBwYXRjaFJvdXRlc0ltcGwoXG4gICAgICByb3V0ZUlkLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICByb3V0ZXNUb1VzZSxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzXG4gICAgKTtcblxuICAgIC8vIElmIHdlIGFyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiBhbiBITVIgcmV2YWxpZGF0aW9uIGFuZCB3ZSBjaGFuZ2VkIHRoZVxuICAgIC8vIHJvdXRlcywgcHJvdmlkZSBhIG5ldyBpZGVudGl0eSBhbmQgdHJpZ2dlciBhIHJlZmxvdyB2aWEgYHVwZGF0ZVN0YXRlYFxuICAgIC8vIHRvIHJlLXJ1biBtZW1vaXplZCBgcm91dGVyLnJvdXRlc2AgZGVwZW5kZW5jaWVzLlxuICAgIC8vIEhNUiB3aWxsIGFscmVhZHkgdXBkYXRlIHRoZSBpZGVudGl0eSBhbmQgcmVmbG93IHdoZW4gaXQgbGFuZHNcbiAgICAvLyBgaW5GbGlnaHREYXRhUm91dGVzYCBpbiBgY29tcGxldGVOYXZpZ2F0aW9uYFxuICAgIGlmIChpc05vbkhNUikge1xuICAgICAgZGF0YVJvdXRlcyA9IFsuLi5kYXRhUm91dGVzXTtcbiAgICAgIHVwZGF0ZVN0YXRlKHt9KTtcbiAgICB9XG4gIH1cblxuICByb3V0ZXIgPSB7XG4gICAgZ2V0IGJhc2VuYW1lKCkge1xuICAgICAgcmV0dXJuIGJhc2VuYW1lO1xuICAgIH0sXG4gICAgZ2V0IGZ1dHVyZSgpIHtcbiAgICAgIHJldHVybiBmdXR1cmU7XG4gICAgfSxcbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSxcbiAgICBnZXQgcm91dGVzKCkge1xuICAgICAgcmV0dXJuIGRhdGFSb3V0ZXM7XG4gICAgfSxcbiAgICBnZXQgd2luZG93KCkge1xuICAgICAgcmV0dXJuIHJvdXRlcldpbmRvdztcbiAgICB9LFxuICAgIGluaXRpYWxpemUsXG4gICAgc3Vic2NyaWJlLFxuICAgIGVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uLFxuICAgIG5hdmlnYXRlLFxuICAgIGZldGNoLFxuICAgIHJldmFsaWRhdGUsXG4gICAgLy8gUGFzc3Rocm91Z2ggdG8gaGlzdG9yeS1hd2FyZSBjcmVhdGVIcmVmIHVzZWQgYnkgdXNlSHJlZiBzbyB3ZSBnZXQgcHJvcGVyXG4gICAgLy8gaGFzaC1hd2FyZSBVUkxzIGluIERPTSBwYXRoc1xuICAgIGNyZWF0ZUhyZWY6ICh0bzogVG8pID0+IGluaXQuaGlzdG9yeS5jcmVhdGVIcmVmKHRvKSxcbiAgICBlbmNvZGVMb2NhdGlvbjogKHRvOiBUbykgPT4gaW5pdC5oaXN0b3J5LmVuY29kZUxvY2F0aW9uKHRvKSxcbiAgICBnZXRGZXRjaGVyLFxuICAgIGRlbGV0ZUZldGNoZXI6IGRlbGV0ZUZldGNoZXJBbmRVcGRhdGVTdGF0ZSxcbiAgICBkaXNwb3NlLFxuICAgIGdldEJsb2NrZXIsXG4gICAgZGVsZXRlQmxvY2tlcixcbiAgICBwYXRjaFJvdXRlcyxcbiAgICBfaW50ZXJuYWxGZXRjaENvbnRyb2xsZXJzOiBmZXRjaENvbnRyb2xsZXJzLFxuICAgIF9pbnRlcm5hbEFjdGl2ZURlZmVycmVkczogYWN0aXZlRGVmZXJyZWRzLFxuICAgIC8vIFRPRE86IFJlbW92ZSBzZXRSb3V0ZXMsIGl0J3MgdGVtcG9yYXJ5IHRvIGF2b2lkIGRlYWxpbmcgd2l0aFxuICAgIC8vIHVwZGF0aW5nIHRoZSB0cmVlIHdoaWxlIHZhbGlkYXRpbmcgdGhlIHVwZGF0ZSBhbGdvcml0aG0uXG4gICAgX2ludGVybmFsU2V0Um91dGVzLFxuICB9O1xuXG4gIHJldHVybiByb3V0ZXI7XG59XG4vLyNlbmRyZWdpb25cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vI3JlZ2lvbiBjcmVhdGVTdGF0aWNIYW5kbGVyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgY29uc3QgVU5TQUZFX0RFRkVSUkVEX1NZTUJPTCA9IFN5bWJvbChcImRlZmVycmVkXCIpO1xuXG4vKipcbiAqIEZ1dHVyZSBmbGFncyB0byB0b2dnbGUgbmV3IGZlYXR1cmUgYmVoYXZpb3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGF0aWNIYW5kbGVyRnV0dXJlQ29uZmlnIHtcbiAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGJvb2xlYW47XG4gIHY3X3Rocm93QWJvcnRSZWFzb246IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlU3RhdGljSGFuZGxlck9wdGlvbnMge1xuICBiYXNlbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgbWFwUm91dGVQcm9wZXJ0aWVzYCBpbnN0ZWFkXG4gICAqL1xuICBkZXRlY3RFcnJvckJvdW5kYXJ5PzogRGV0ZWN0RXJyb3JCb3VuZGFyeUZ1bmN0aW9uO1xuICBtYXBSb3V0ZVByb3BlcnRpZXM/OiBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbjtcbiAgZnV0dXJlPzogUGFydGlhbDxTdGF0aWNIYW5kbGVyRnV0dXJlQ29uZmlnPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0YXRpY0hhbmRsZXIoXG4gIHJvdXRlczogQWdub3N0aWNSb3V0ZU9iamVjdFtdLFxuICBvcHRzPzogQ3JlYXRlU3RhdGljSGFuZGxlck9wdGlvbnNcbik6IFN0YXRpY0hhbmRsZXIge1xuICBpbnZhcmlhbnQoXG4gICAgcm91dGVzLmxlbmd0aCA+IDAsXG4gICAgXCJZb3UgbXVzdCBwcm92aWRlIGEgbm9uLWVtcHR5IHJvdXRlcyBhcnJheSB0byBjcmVhdGVTdGF0aWNIYW5kbGVyXCJcbiAgKTtcblxuICBsZXQgbWFuaWZlc3Q6IFJvdXRlTWFuaWZlc3QgPSB7fTtcbiAgbGV0IGJhc2VuYW1lID0gKG9wdHMgPyBvcHRzLmJhc2VuYW1lIDogbnVsbCkgfHwgXCIvXCI7XG4gIGxldCBtYXBSb3V0ZVByb3BlcnRpZXM6IE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uO1xuICBpZiAob3B0cz8ubWFwUm91dGVQcm9wZXJ0aWVzKSB7XG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzID0gb3B0cy5tYXBSb3V0ZVByb3BlcnRpZXM7XG4gIH0gZWxzZSBpZiAob3B0cz8uZGV0ZWN0RXJyb3JCb3VuZGFyeSkge1xuICAgIC8vIElmIHRoZXkgYXJlIHN0aWxsIHVzaW5nIHRoZSBkZXByZWNhdGVkIHZlcnNpb24sIHdyYXAgaXQgd2l0aCB0aGUgbmV3IEFQSVxuICAgIGxldCBkZXRlY3RFcnJvckJvdW5kYXJ5ID0gb3B0cy5kZXRlY3RFcnJvckJvdW5kYXJ5O1xuICAgIG1hcFJvdXRlUHJvcGVydGllcyA9IChyb3V0ZSkgPT4gKHtcbiAgICAgIGhhc0Vycm9yQm91bmRhcnk6IGRldGVjdEVycm9yQm91bmRhcnkocm91dGUpLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG1hcFJvdXRlUHJvcGVydGllcyA9IGRlZmF1bHRNYXBSb3V0ZVByb3BlcnRpZXM7XG4gIH1cbiAgLy8gQ29uZmlnIGRyaXZlbiBiZWhhdmlvciBmbGFnc1xuICBsZXQgZnV0dXJlOiBTdGF0aWNIYW5kbGVyRnV0dXJlQ29uZmlnID0ge1xuICAgIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBmYWxzZSxcbiAgICB2N190aHJvd0Fib3J0UmVhc29uOiBmYWxzZSxcbiAgICAuLi4ob3B0cyA/IG9wdHMuZnV0dXJlIDogbnVsbCksXG4gIH07XG5cbiAgbGV0IGRhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgdW5kZWZpbmVkLFxuICAgIG1hbmlmZXN0XG4gICk7XG5cbiAgLyoqXG4gICAqIFRoZSBxdWVyeSgpIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZG9jdW1lbnQgcmVxdWVzdHMsIGluIHdoaWNoIHdlIHdhbnQgdG9cbiAgICogY2FsbCBhbiBvcHRpb25hbCBhY3Rpb24gYW5kIHBvdGVudGlhbGx5IG11bHRpcGxlIGxvYWRlcnMgZm9yIGFsbCBuZXN0ZWRcbiAgICogcm91dGVzLiAgSXQgcmV0dXJucyBhIFN0YXRpY0hhbmRsZXJDb250ZXh0IG9iamVjdCwgd2hpY2ggaXMgdmVyeSBzaW1pbGFyXG4gICAqIHRvIHRoZSByb3V0ZXIgc3RhdGUgKGxvY2F0aW9uLCBsb2FkZXJEYXRhLCBhY3Rpb25EYXRhLCBlcnJvcnMsIGV0Yy4pIGFuZFxuICAgKiBhbHNvIGFkZHMgU1NSLXNwZWNpZmljIGluZm9ybWF0aW9uIHN1Y2ggYXMgdGhlIHN0YXR1c0NvZGUgYW5kIGhlYWRlcnNcbiAgICogZnJvbSBhY3Rpb24vbG9hZGVycyBSZXNwb25zZXMuXG4gICAqXG4gICAqIEl0IF9zaG91bGRfIG5ldmVyIHRocm93IGFuZCBzaG91bGQgcmVwb3J0IGFsbCBlcnJvcnMgdGhyb3VnaCB0aGVcbiAgICogcmV0dXJuZWQgY29udGV4dC5lcnJvcnMgb2JqZWN0LCBwcm9wZXJseSBhc3NvY2lhdGluZyBlcnJvcnMgdG8gdGhlaXIgZXJyb3JcbiAgICogYm91bmRhcnkuICBBZGRpdGlvbmFsbHksIGl0IHRyYWNrcyBfZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZCB3aGljaCBjYW4gYmVcbiAgICogdXNlZCB0byBlbXVsYXRlIFJlYWN0IGVycm9yIGJvdW5kYXJpZXMgZHVyaW5nIFNTciBieSBwZXJmb3JtaW5nIGEgc2Vjb25kXG4gICAqIHBhc3Mgb25seSBkb3duIHRvIHRoZSBib3VuZGFyeUlkLlxuICAgKlxuICAgKiBUaGUgb25lIGV4Y2VwdGlvbiB3aGVyZSB3ZSBkbyBub3QgcmV0dXJuIGEgU3RhdGljSGFuZGxlckNvbnRleHQgaXMgd2hlbiBhXG4gICAqIHJlZGlyZWN0IHJlc3BvbnNlIGlzIHJldHVybmVkIG9yIHRocm93biBmcm9tIGFueSBhY3Rpb24vbG9hZGVyLiAgV2VcbiAgICogcHJvcGFnYXRlIHRoYXQgb3V0IGFuZCByZXR1cm4gdGhlIHJhdyBSZXNwb25zZSBzbyB0aGUgSFRUUCBzZXJ2ZXIgY2FuXG4gICAqIHJldHVybiBpdCBkaXJlY3RseS5cbiAgICpcbiAgICogLSBgb3B0cy5yZXF1ZXN0Q29udGV4dGAgaXMgYW4gb3B0aW9uYWwgc2VydmVyIGNvbnRleHQgdGhhdCB3aWxsIGJlIHBhc3NlZFxuICAgKiAgIHRvIGFjdGlvbnMvbG9hZGVycyBpbiB0aGUgYGNvbnRleHRgIHBhcmFtZXRlclxuICAgKiAtIGBvcHRzLnNraXBMb2FkZXJFcnJvckJ1YmJsaW5nYCBpcyBhbiBvcHRpb25hbCBwYXJhbWV0ZXIgdGhhdCB3aWxsIHByZXZlbnRcbiAgICogICB0aGUgYnViYmxpbmcgb2YgZXJyb3JzIHdoaWNoIGFsbG93cyBzaW5nbGUtZmV0Y2gtdHlwZSBpbXBsZW1lbnRhdGlvbnNcbiAgICogICB3aGVyZSB0aGUgY2xpZW50IHdpbGwgaGFuZGxlIHRoZSBidWJibGluZyBhbmQgd2UgbWF5IG5lZWQgdG8gcmV0dXJuIGRhdGFcbiAgICogICBmb3IgdGhlIGhhbmRsaW5nIHJvdXRlXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBxdWVyeShcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIHtcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgfToge1xuICAgICAgcmVxdWVzdENvbnRleHQ/OiB1bmtub3duO1xuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmc/OiBib29sZWFuO1xuICAgICAgZGF0YVN0cmF0ZWd5PzogRGF0YVN0cmF0ZWd5RnVuY3Rpb247XG4gICAgfSA9IHt9XG4gICk6IFByb21pc2U8U3RhdGljSGFuZGxlckNvbnRleHQgfCBSZXNwb25zZT4ge1xuICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBsZXQgbWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oXCJcIiwgY3JlYXRlUGF0aCh1cmwpLCBudWxsLCBcImRlZmF1bHRcIik7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhkYXRhUm91dGVzLCBsb2NhdGlvbiwgYmFzZW5hbWUpO1xuXG4gICAgLy8gU1NSIHN1cHBvcnRzIEhFQUQgcmVxdWVzdHMgd2hpbGUgU1BBIGRvZXNuJ3RcbiAgICBpZiAoIWlzVmFsaWRNZXRob2QobWV0aG9kKSAmJiBtZXRob2QgIT09IFwiSEVBRFwiKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2QgfSk7XG4gICAgICBsZXQgeyBtYXRjaGVzOiBtZXRob2ROb3RBbGxvd2VkTWF0Y2hlcywgcm91dGUgfSA9XG4gICAgICAgIGdldFNob3J0Q2lyY3VpdE1hdGNoZXMoZGF0YVJvdXRlcyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXM6IG1ldGhvZE5vdEFsbG93ZWRNYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3IsXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9LFxuICAgICAgICBhY3RpdmVEZWZlcnJlZHM6IG51bGwsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSB9KTtcbiAgICAgIGxldCB7IG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcywgcm91dGUgfSA9XG4gICAgICAgIGdldFNob3J0Q2lyY3VpdE1hdGNoZXMoZGF0YVJvdXRlcyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yLFxuICAgICAgICB9LFxuICAgICAgICBzdGF0dXNDb2RlOiBlcnJvci5zdGF0dXMsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aXZlRGVmZXJyZWRzOiBudWxsLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA9PT0gdHJ1ZSxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gV2hlbiByZXR1cm5pbmcgU3RhdGljSGFuZGxlckNvbnRleHQsIHdlIHBhdGNoIGJhY2sgaW4gdGhlIGxvY2F0aW9uIGhlcmVcbiAgICAvLyBzaW5jZSB3ZSBuZWVkIGl0IGZvciBSZWFjdCBDb250ZXh0LiAgQnV0IHRoaXMgaGVscHMga2VlcCBvdXIgc3VibWl0IGFuZFxuICAgIC8vIGxvYWRSb3V0ZURhdGEgb3BlcmF0aW5nIG9uIGEgUmVxdWVzdCBpbnN0ZWFkIG9mIGEgTG9jYXRpb25cbiAgICByZXR1cm4geyBsb2NhdGlvbiwgYmFzZW5hbWUsIC4uLnJlc3VsdCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBxdWVyeVJvdXRlKCkgbWV0aG9kIGlzIGludGVuZGVkIGZvciB0YXJnZXRlZCByb3V0ZSByZXF1ZXN0cywgZWl0aGVyXG4gICAqIGZvciBmZXRjaCA/X2RhdGEgcmVxdWVzdHMgb3IgcmVzb3VyY2Ugcm91dGUgcmVxdWVzdHMuICBJbiB0aGlzIGNhc2UsIHdlXG4gICAqIGFyZSBvbmx5IGV2ZXIgY2FsbGluZyBhIHNpbmdsZSBhY3Rpb24gb3IgbG9hZGVyLCBhbmQgd2UgYXJlIHJldHVybmluZyB0aGVcbiAgICogcmV0dXJuZWQgdmFsdWUgZGlyZWN0bHkuICBJbiBtb3N0IGNhc2VzLCB0aGlzIHdpbGwgYmUgYSBSZXNwb25zZSByZXR1cm5lZFxuICAgKiBmcm9tIHRoZSBhY3Rpb24vbG9hZGVyLCBidXQgaXQgbWF5IGJlIGEgcHJpbWl0aXZlIG9yIG90aGVyIHZhbHVlIGFzIHdlbGwgLVxuICAgKiBhbmQgaW4gc3VjaCBjYXNlcyB0aGUgY2FsbGluZyBjb250ZXh0IHNob3VsZCBoYW5kbGUgdGhhdCBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogV2UgZG8gcmVzcGVjdCB0aGUgdGhyb3cvcmV0dXJuIGRpZmZlcmVudGlhdGlvbiwgc28gaWYgYW4gYWN0aW9uL2xvYWRlclxuICAgKiB0aHJvd3MsIHRoZW4gdGhpcyBtZXRob2Qgd2lsbCB0aHJvdyB0aGUgdmFsdWUuICBUaGlzIGlzIGltcG9ydGFudCBzbyB3ZVxuICAgKiBjYW4gZG8gcHJvcGVyIGJvdW5kYXJ5IGlkZW50aWZpY2F0aW9uIGluIFJlbWl4IHdoZXJlIGEgdGhyb3duIFJlc3BvbnNlXG4gICAqIG11c3QgZ28gdG8gdGhlIENhdGNoIEJvdW5kYXJ5IGJ1dCBhIHJldHVybmVkIFJlc3BvbnNlIGlzIGhhcHB5LXBhdGguXG4gICAqXG4gICAqIE9uZSB0aGluZyB0byBub3RlIGlzIHRoYXQgYW55IFJvdXRlci1pbml0aWF0ZWQgRXJyb3JzIHRoYXQgbWFrZSBzZW5zZVxuICAgKiB0byBhc3NvY2lhdGUgd2l0aCBhIHN0YXR1cyBjb2RlIHdpbGwgYmUgdGhyb3duIGFzIGFuIEVycm9yUmVzcG9uc2VcbiAgICogaW5zdGFuY2Ugd2hpY2ggaW5jbHVkZSB0aGUgcmF3IEVycm9yLCBzdWNoIHRoYXQgdGhlIGNhbGxpbmcgY29udGV4dCBjYW5cbiAgICogc2VyaWFsaXplIHRoZSBlcnJvciBhcyB0aGV5IHNlZSBmaXQgd2hpbGUgaW5jbHVkaW5nIHRoZSBwcm9wZXIgcmVzcG9uc2VcbiAgICogY29kZS4gIEV4YW1wbGVzIGhlcmUgYXJlIDQwNCBhbmQgNDA1IGVycm9ycyB0aGF0IG9jY3VyIHByaW9yIHRvIHJlYWNoaW5nXG4gICAqIGFueSB1c2VyLWRlZmluZWQgbG9hZGVycy5cbiAgICpcbiAgICogLSBgb3B0cy5yb3V0ZUlkYCBhbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIHNwZWNpZmljIHJvdXRlIGhhbmRsZXIgdG8gY2FsbC5cbiAgICogICBJZiBub3QgcHJvdmlkZWQgdGhlIGhhbmRsZXIgd2lsbCBkZXRlcm1pbmUgdGhlIHByb3BlciByb3V0ZSBieSBtYXRjaGluZ1xuICAgKiAgIGFnYWluc3QgYHJlcXVlc3QudXJsYFxuICAgKiAtIGBvcHRzLnJlcXVlc3RDb250ZXh0YCBpcyBhbiBvcHRpb25hbCBzZXJ2ZXIgY29udGV4dCB0aGF0IHdpbGwgYmUgcGFzc2VkXG4gICAqICAgIHRvIGFjdGlvbnMvbG9hZGVycyBpbiB0aGUgYGNvbnRleHRgIHBhcmFtZXRlclxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnlSb3V0ZShcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIHtcbiAgICAgIHJvdXRlSWQsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSxcbiAgICB9OiB7XG4gICAgICByZXF1ZXN0Q29udGV4dD86IHVua25vd247XG4gICAgICByb3V0ZUlkPzogc3RyaW5nO1xuICAgICAgZGF0YVN0cmF0ZWd5PzogRGF0YVN0cmF0ZWd5RnVuY3Rpb247XG4gICAgfSA9IHt9XG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGxldCBtZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihcIlwiLCBjcmVhdGVQYXRoKHVybCksIG51bGwsIFwiZGVmYXVsdFwiKTtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGxvY2F0aW9uLCBiYXNlbmFtZSk7XG5cbiAgICAvLyBTU1Igc3VwcG9ydHMgSEVBRCByZXF1ZXN0cyB3aGlsZSBTUEEgZG9lc24ndFxuICAgIGlmICghaXNWYWxpZE1ldGhvZChtZXRob2QpICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIgJiYgbWV0aG9kICE9PSBcIk9QVElPTlNcIikge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHsgbWV0aG9kIH0pO1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSB9KTtcbiAgICB9XG5cbiAgICBsZXQgbWF0Y2ggPSByb3V0ZUlkXG4gICAgICA/IG1hdGNoZXMuZmluZCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZClcbiAgICAgIDogZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pO1xuXG4gICAgaWYgKHJvdXRlSWQgJiYgIW1hdGNoKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMywge1xuICAgICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWQsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaCkge1xuICAgICAgLy8gVGhpcyBzaG91bGQgbmV2ZXIgaGl0IEkgZG9uJ3QgdGhpbms/XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5SW1wbChcbiAgICAgIHJlcXVlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSB8fCBudWxsLFxuICAgICAgZmFsc2UsXG4gICAgICBtYXRjaFxuICAgICk7XG5cbiAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGxldCBlcnJvciA9IHJlc3VsdC5lcnJvcnMgPyBPYmplY3QudmFsdWVzKHJlc3VsdC5lcnJvcnMpWzBdIDogdW5kZWZpbmVkO1xuICAgIGlmIChlcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBJZiB3ZSBnb3QgYmFjayByZXN1bHQuZXJyb3JzLCB0aGF0IG1lYW5zIHRoZSBsb2FkZXIvYWN0aW9uIHRocmV3XG4gICAgICAvLyBfc29tZXRoaW5nXyB0aGF0IHdhc24ndCBhIFJlc3BvbnNlLCBidXQgaXQncyBub3QgZ3VhcmFudGVlZC9yZXF1aXJlZFxuICAgICAgLy8gdG8gYmUgYW4gYGluc3RhbmNlb2YgRXJyb3JgIGVpdGhlciwgc28gd2UgaGF2ZSB0byB1c2UgdGhyb3cgaGVyZSB0b1xuICAgICAgLy8gcHJlc2VydmUgdGhlIFwiZXJyb3JcIiBzdGF0ZSBvdXRzaWRlIG9mIHF1ZXJ5SW1wbC5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIC8vIFBpY2sgb2ZmIHRoZSByaWdodCBzdGF0ZSB2YWx1ZSB0byByZXR1cm5cbiAgICBpZiAocmVzdWx0LmFjdGlvbkRhdGEpIHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlc3VsdC5hY3Rpb25EYXRhKVswXTtcbiAgICB9XG5cbiAgICBpZiAocmVzdWx0LmxvYWRlckRhdGEpIHtcbiAgICAgIGxldCBkYXRhID0gT2JqZWN0LnZhbHVlcyhyZXN1bHQubG9hZGVyRGF0YSlbMF07XG4gICAgICBpZiAocmVzdWx0LmFjdGl2ZURlZmVycmVkcz8uW21hdGNoLnJvdXRlLmlkXSkge1xuICAgICAgICBkYXRhW1VOU0FGRV9ERUZFUlJFRF9TWU1CT0xdID0gcmVzdWx0LmFjdGl2ZURlZmVycmVkc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICB9XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnlJbXBsKFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgbG9jYXRpb246IExvY2F0aW9uLFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICByZXF1ZXN0Q29udGV4dDogdW5rbm93bixcbiAgICBkYXRhU3RyYXRlZ3k6IERhdGFTdHJhdGVneUZ1bmN0aW9uIHwgbnVsbCxcbiAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZzogYm9vbGVhbixcbiAgICByb3V0ZU1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoIHwgbnVsbFxuICApOiBQcm9taXNlPE9taXQ8U3RhdGljSGFuZGxlckNvbnRleHQsIFwibG9jYXRpb25cIiB8IFwiYmFzZW5hbWVcIj4gfCBSZXNwb25zZT4ge1xuICAgIGludmFyaWFudChcbiAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgXCJxdWVyeSgpL3F1ZXJ5Um91dGUoKSByZXF1ZXN0cyBtdXN0IGNvbnRhaW4gYW4gQWJvcnRDb250cm9sbGVyIHNpZ25hbFwiXG4gICAgKTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoaXNNdXRhdGlvbk1ldGhvZChyZXF1ZXN0Lm1ldGhvZC50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgc3VibWl0KFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICByb3V0ZU1hdGNoIHx8IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKSxcbiAgICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICAgICAgcm91dGVNYXRjaCAhPSBudWxsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgICAgcm91dGVNYXRjaFxuICAgICAgKTtcbiAgICAgIHJldHVybiBpc1Jlc3BvbnNlKHJlc3VsdClcbiAgICAgICAgPyByZXN1bHRcbiAgICAgICAgOiB7XG4gICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICAgICAgYWN0aW9uSGVhZGVyczoge30sXG4gICAgICAgICAgfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciB0aHJldy9yZXR1cm5lZCBhIFJlc3BvbnNlIGluIGNhbGxMb2FkZXJPckFjdGlvbiBmb3IgYVxuICAgICAgLy8gYHF1ZXJ5Um91dGVgIGNhbGwsIHdlIHRocm93IHRoZSBgRGF0YVN0cmF0ZWd5UmVzdWx0YCB0byBiYWlsIG91dCBlYXJseVxuICAgICAgLy8gYW5kIHRoZW4gcmV0dXJuIG9yIHRocm93IHRoZSByYXcgUmVzcG9uc2UgaGVyZSBhY2NvcmRpbmdseVxuICAgICAgaWYgKGlzRGF0YVN0cmF0ZWd5UmVzdWx0KGUpICYmIGlzUmVzcG9uc2UoZS5yZXN1bHQpKSB7XG4gICAgICAgIGlmIChlLnR5cGUgPT09IFJlc3VsdFR5cGUuZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZS5yZXN1bHQ7XG4gICAgICB9XG4gICAgICAvLyBSZWRpcmVjdHMgYXJlIGFsd2F5cyByZXR1cm5lZCBzaW5jZSB0aGV5IGRvbid0IHByb3BhZ2F0ZSB0byBjYXRjaFxuICAgICAgLy8gYm91bmRhcmllc1xuICAgICAgaWYgKGlzUmVkaXJlY3RSZXNwb25zZShlKSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc3VibWl0KFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIGFjdGlvbk1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoLFxuICAgIHJlcXVlc3RDb250ZXh0OiB1bmtub3duLFxuICAgIGRhdGFTdHJhdGVneTogRGF0YVN0cmF0ZWd5RnVuY3Rpb24gfCBudWxsLFxuICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nOiBib29sZWFuLFxuICAgIGlzUm91dGVSZXF1ZXN0OiBib29sZWFuXG4gICk6IFByb21pc2U8T21pdDxTdGF0aWNIYW5kbGVyQ29udGV4dCwgXCJsb2NhdGlvblwiIHwgXCJiYXNlbmFtZVwiPiB8IFJlc3BvbnNlPiB7XG4gICAgbGV0IHJlc3VsdDogRGF0YVJlc3VsdDtcblxuICAgIGlmICghYWN0aW9uTWF0Y2gucm91dGUuYWN0aW9uICYmICFhY3Rpb25NYXRjaC5yb3V0ZS5sYXp5KSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICBwYXRobmFtZTogbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWQ6IGFjdGlvbk1hdGNoLnJvdXRlLmlkLFxuICAgICAgfSk7XG4gICAgICBpZiAoaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgIGVycm9yLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBbYWN0aW9uTWF0Y2hdLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBpc1JvdXRlUmVxdWVzdCxcbiAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgIGRhdGFTdHJhdGVneVxuICAgICAgKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdHNbYWN0aW9uTWF0Y2gucm91dGUuaWRdO1xuXG4gICAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICB0aHJvd1N0YXRpY0hhbmRsZXJBYm9ydGVkRXJyb3IocmVxdWVzdCwgaXNSb3V0ZVJlcXVlc3QsIGZ1dHVyZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgLy8gVWhoaGggLSB0aGlzIHNob3VsZCBuZXZlciBoYXBwZW4sIHdlIHNob3VsZCBhbHdheXMgdGhyb3cgdGhlc2UgZnJvbVxuICAgICAgLy8gY2FsbExvYWRlck9yQWN0aW9uLCBidXQgdGhlIHR5cGUgbmFycm93aW5nIGhlcmUga2VlcHMgVFMgaGFwcHkgYW5kIHdlXG4gICAgICAvLyBjYW4gZ2V0IGJhY2sgb24gdGhlIFwidGhyb3cgYWxsIHJlZGlyZWN0IHJlc3BvbnNlc1wiIHRyYWluIGhlcmUgc2hvdWxkXG4gICAgICAvLyB0aGlzIGV2ZXIgaGFwcGVuIDovXG4gICAgICB0aHJvdyBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICBzdGF0dXM6IHJlc3VsdC5yZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBMb2NhdGlvbjogcmVzdWx0LnJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIikhLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmZXJyZWRSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDAsIHsgdHlwZTogXCJkZWZlci1hY3Rpb25cIiB9KTtcbiAgICAgIGlmIChpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgZXJyb3IsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgLy8gTm90ZTogVGhpcyBzaG91bGQgb25seSBiZSBub24tUmVzcG9uc2UgdmFsdWVzIGlmIHdlIGdldCBoZXJlLCBzaW5jZVxuICAgICAgLy8gaXNSb3V0ZVJlcXVlc3Qgc2hvdWxkIHRocm93IGFueSBSZXNwb25zZSByZWNlaXZlZCBpbiBjYWxsTG9hZGVyT3JBY3Rpb25cbiAgICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVzOiBbYWN0aW9uTWF0Y2hdLFxuICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgYWN0aW9uRGF0YTogeyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZGF0YSB9LFxuICAgICAgICBlcnJvcnM6IG51bGwsXG4gICAgICAgIC8vIE5vdGU6IHN0YXR1c0NvZGUgKyBoZWFkZXJzIGFyZSB1bnVzZWQgaGVyZSBzaW5jZSBxdWVyeVJvdXRlIHdpbGxcbiAgICAgICAgLy8gcmV0dXJuIHRoZSByYXcgUmVzcG9uc2Ugb3IgdmFsdWVcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge30sXG4gICAgICAgIGFjdGl2ZURlZmVycmVkczogbnVsbCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgR0VUIHJlcXVlc3QgZm9yIHRoZSBsb2FkZXJzXG4gICAgbGV0IGxvYWRlclJlcXVlc3QgPSBuZXcgUmVxdWVzdChyZXF1ZXN0LnVybCwge1xuICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgcmVkaXJlY3Q6IHJlcXVlc3QucmVkaXJlY3QsXG4gICAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsLFxuICAgIH0pO1xuXG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgLy8gU3RvcmUgb2ZmIHRoZSBwZW5kaW5nIGVycm9yIC0gd2UgdXNlIGl0IHRvIGRldGVybWluZSB3aGljaCBsb2FkZXJzXG4gICAgICAvLyB0byBjYWxsIGFuZCB3aWxsIGNvbW1pdCBpdCB3aGVuIHdlIGNvbXBsZXRlIHRoZSBuYXZpZ2F0aW9uXG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nXG4gICAgICAgID8gYWN0aW9uTWF0Y2hcbiAgICAgICAgOiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcblxuICAgICAgbGV0IGNvbnRleHQgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgICBsb2FkZXJSZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWQsIHJlc3VsdF1cbiAgICAgICk7XG5cbiAgICAgIC8vIGFjdGlvbiBzdGF0dXMgY29kZXMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgbG9hZGVyIHN0YXR1cyBjb2Rlc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKVxuICAgICAgICAgID8gcmVzdWx0LmVycm9yLnN0YXR1c1xuICAgICAgICAgIDogcmVzdWx0LnN0YXR1c0NvZGUgIT0gbnVsbFxuICAgICAgICAgID8gcmVzdWx0LnN0YXR1c0NvZGVcbiAgICAgICAgICA6IDUwMCxcbiAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge1xuICAgICAgICAgIC4uLihyZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9KSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IGNvbnRleHQgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgbG9hZGVyUmVxdWVzdCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgbnVsbFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgICAgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmRhdGEsXG4gICAgICB9LFxuICAgICAgLy8gYWN0aW9uIHN0YXR1cyBjb2RlcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBsb2FkZXIgc3RhdHVzIGNvZGVzXG4gICAgICAuLi4ocmVzdWx0LnN0YXR1c0NvZGUgPyB7IHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXNDb2RlIH0gOiB7fSksXG4gICAgICBhY3Rpb25IZWFkZXJzOiByZXN1bHQuaGVhZGVyc1xuICAgICAgICA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfVxuICAgICAgICA6IHt9LFxuICAgIH07XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBsb2FkUm91dGVEYXRhKFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIHJlcXVlc3RDb250ZXh0OiB1bmtub3duLFxuICAgIGRhdGFTdHJhdGVneTogRGF0YVN0cmF0ZWd5RnVuY3Rpb24gfCBudWxsLFxuICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nOiBib29sZWFuLFxuICAgIHJvdXRlTWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2ggfCBudWxsLFxuICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ/OiBQZW5kaW5nQWN0aW9uUmVzdWx0XG4gICk6IFByb21pc2U8XG4gICAgfCBPbWl0PFxuICAgICAgICBTdGF0aWNIYW5kbGVyQ29udGV4dCxcbiAgICAgICAgXCJsb2NhdGlvblwiIHwgXCJiYXNlbmFtZVwiIHwgXCJhY3Rpb25EYXRhXCIgfCBcImFjdGlvbkhlYWRlcnNcIlxuICAgICAgPlxuICAgIHwgUmVzcG9uc2VcbiAgPiB7XG4gICAgbGV0IGlzUm91dGVSZXF1ZXN0ID0gcm91dGVNYXRjaCAhPSBudWxsO1xuXG4gICAgLy8gU2hvcnQgY2lyY3VpdCBpZiB3ZSBoYXZlIG5vIGxvYWRlcnMgdG8gcnVuIChxdWVyeVJvdXRlKCkpXG4gICAgaWYgKFxuICAgICAgaXNSb3V0ZVJlcXVlc3QgJiZcbiAgICAgICFyb3V0ZU1hdGNoPy5yb3V0ZS5sb2FkZXIgJiZcbiAgICAgICFyb3V0ZU1hdGNoPy5yb3V0ZS5sYXp5XG4gICAgKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwge1xuICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICBwYXRobmFtZTogbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWQ6IHJvdXRlTWF0Y2g/LnJvdXRlLmlkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV0IHJlcXVlc3RNYXRjaGVzID0gcm91dGVNYXRjaFxuICAgICAgPyBbcm91dGVNYXRjaF1cbiAgICAgIDogcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pXG4gICAgICA/IGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KG1hdGNoZXMsIHBlbmRpbmdBY3Rpb25SZXN1bHRbMF0pXG4gICAgICA6IG1hdGNoZXM7XG4gICAgbGV0IG1hdGNoZXNUb0xvYWQgPSByZXF1ZXN0TWF0Y2hlcy5maWx0ZXIoXG4gICAgICAobSkgPT4gbS5yb3V0ZS5sb2FkZXIgfHwgbS5yb3V0ZS5sYXp5XG4gICAgKTtcblxuICAgIC8vIFNob3J0IGNpcmN1aXQgaWYgd2UgaGF2ZSBubyBsb2FkZXJzIHRvIHJ1biAocXVlcnkoKSlcbiAgICBpZiAobWF0Y2hlc1RvTG9hZC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIC8vIEFkZCBhIG51bGwgZm9yIGFsbCBtYXRjaGVkIHJvdXRlcyBmb3IgcHJvcGVyIHJldmFsaWRhdGlvbiBvbiB0aGUgY2xpZW50XG4gICAgICAgIGxvYWRlckRhdGE6IG1hdGNoZXMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIG0pID0+IE9iamVjdC5hc3NpZ24oYWNjLCB7IFttLnJvdXRlLmlkXTogbnVsbCB9KSxcbiAgICAgICAgICB7fVxuICAgICAgICApLFxuICAgICAgICBlcnJvcnM6XG4gICAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3IsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aXZlRGVmZXJyZWRzOiBudWxsLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBcImxvYWRlclwiLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgaXNSb3V0ZVJlcXVlc3QsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneVxuICAgICk7XG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgdGhyb3dTdGF0aWNIYW5kbGVyQWJvcnRlZEVycm9yKHJlcXVlc3QsIGlzUm91dGVSZXF1ZXN0LCBmdXR1cmUpO1xuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgYW5kIGNvbW1pdCBvdXRwdXQgZnJvbSBsb2FkZXJzXG4gICAgbGV0IGFjdGl2ZURlZmVycmVkcyA9IG5ldyBNYXA8c3RyaW5nLCBEZWZlcnJlZERhdGE+KCk7XG4gICAgbGV0IGNvbnRleHQgPSBwcm9jZXNzUm91dGVMb2FkZXJEYXRhKFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlc3VsdHMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0LFxuICAgICAgYWN0aXZlRGVmZXJyZWRzLFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmdcbiAgICApO1xuXG4gICAgLy8gQWRkIGEgbnVsbCBmb3IgYW55IG5vbi1sb2FkZXIgbWF0Y2hlcyBmb3IgcHJvcGVyIHJldmFsaWRhdGlvbiBvbiB0aGUgY2xpZW50XG4gICAgbGV0IGV4ZWN1dGVkTG9hZGVycyA9IG5ldyBTZXQ8c3RyaW5nPihcbiAgICAgIG1hdGNoZXNUb0xvYWQubWFwKChtYXRjaCkgPT4gbWF0Y2gucm91dGUuaWQpXG4gICAgKTtcbiAgICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgICBpZiAoIWV4ZWN1dGVkTG9hZGVycy5oYXMobWF0Y2gucm91dGUuaWQpKSB7XG4gICAgICAgIGNvbnRleHQubG9hZGVyRGF0YVttYXRjaC5yb3V0ZS5pZF0gPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgYWN0aXZlRGVmZXJyZWRzOlxuICAgICAgICBhY3RpdmVEZWZlcnJlZHMuc2l6ZSA+IDBcbiAgICAgICAgICA/IE9iamVjdC5mcm9tRW50cmllcyhhY3RpdmVEZWZlcnJlZHMuZW50cmllcygpKVxuICAgICAgICAgIDogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgLy8gVXRpbGl0eSB3cmFwcGVyIGZvciBjYWxsaW5nIGRhdGFTdHJhdGVneSBzZXJ2ZXItc2lkZSB3aXRob3V0IGhhdmluZyB0b1xuICAvLyBwYXNzIGFyb3VuZCB0aGUgbWFuaWZlc3QsIG1hcFJvdXRlUHJvcGVydGllcywgZXRjLlxuICBhc3luYyBmdW5jdGlvbiBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgIHR5cGU6IFwibG9hZGVyXCIgfCBcImFjdGlvblwiLFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgbWF0Y2hlc1RvTG9hZDogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBpc1JvdXRlUmVxdWVzdDogYm9vbGVhbixcbiAgICByZXF1ZXN0Q29udGV4dDogdW5rbm93bixcbiAgICBkYXRhU3RyYXRlZ3k6IERhdGFTdHJhdGVneUZ1bmN0aW9uIHwgbnVsbFxuICApOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+PiB7XG4gICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5SW1wbChcbiAgICAgIGRhdGFTdHJhdGVneSB8fCBkZWZhdWx0RGF0YVN0cmF0ZWd5LFxuICAgICAgdHlwZSxcbiAgICAgIG51bGwsXG4gICAgICByZXF1ZXN0LFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBudWxsLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dFxuICAgICk7XG5cbiAgICBsZXQgZGF0YVJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+ID0ge307XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBtYXRjaGVzLm1hcChhc3luYyAobWF0Y2gpID0+IHtcbiAgICAgICAgaWYgKCEobWF0Y2gucm91dGUuaWQgaW4gcmVzdWx0cykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgICBpZiAoaXNSZWRpcmVjdERhdGFTdHJhdGVneVJlc3VsdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgICAgbGV0IHJlc3BvbnNlID0gcmVzdWx0LnJlc3VsdCBhcyBSZXNwb25zZTtcbiAgICAgICAgICAvLyBUaHJvdyByZWRpcmVjdHMgYW5kIGxldCB0aGUgc2VydmVyIGhhbmRsZSB0aGVtIHdpdGggYW4gSFRUUCByZWRpcmVjdFxuICAgICAgICAgIHRocm93IG5vcm1hbGl6ZVJlbGF0aXZlUm91dGluZ1JlZGlyZWN0UmVzcG9uc2UoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBtYXRjaC5yb3V0ZS5pZCxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICAgIGZ1dHVyZS52N19yZWxhdGl2ZVNwbGF0UGF0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgJiYgaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgICAgICAvLyBGb3IgU1NSIHNpbmdsZS1yb3V0ZSByZXF1ZXN0cywgd2Ugd2FudCB0byBoYW5kIFJlc3BvbnNlcyBiYWNrXG4gICAgICAgICAgLy8gZGlyZWN0bHkgd2l0aG91dCB1bndyYXBwaW5nXG4gICAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YVJlc3VsdHNbbWF0Y2gucm91dGUuaWRdID1cbiAgICAgICAgICBhd2FpdCBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KHJlc3VsdCk7XG4gICAgICB9KVxuICAgICk7XG4gICAgcmV0dXJuIGRhdGFSZXN1bHRzO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkYXRhUm91dGVzLFxuICAgIHF1ZXJ5LFxuICAgIHF1ZXJ5Um91dGUsXG4gIH07XG59XG5cbi8vI2VuZHJlZ2lvblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8jcmVnaW9uIEhlbHBlcnNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogR2l2ZW4gYW4gZXhpc3RpbmcgU3RhdGljSGFuZGxlckNvbnRleHQgYW5kIGFuIGVycm9yIHRocm93biBhdCByZW5kZXIgdGltZSxcbiAqIHByb3ZpZGUgYW4gdXBkYXRlZCBTdGF0aWNIYW5kbGVyQ29udGV4dCBzdWl0YWJsZSBmb3IgYSBzZWNvbmQgU1NSIHJlbmRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdGljQ29udGV4dEZyb21FcnJvcihcbiAgcm91dGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdLFxuICBjb250ZXh0OiBTdGF0aWNIYW5kbGVyQ29udGV4dCxcbiAgZXJyb3I6IGFueVxuKSB7XG4gIGxldCBuZXdDb250ZXh0OiBTdGF0aWNIYW5kbGVyQ29udGV4dCA9IHtcbiAgICAuLi5jb250ZXh0LFxuICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSA/IGVycm9yLnN0YXR1cyA6IDUwMCxcbiAgICBlcnJvcnM6IHtcbiAgICAgIFtjb250ZXh0Ll9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkIHx8IHJvdXRlc1swXS5pZF06IGVycm9yLFxuICAgIH0sXG4gIH07XG4gIHJldHVybiBuZXdDb250ZXh0O1xufVxuXG5mdW5jdGlvbiB0aHJvd1N0YXRpY0hhbmRsZXJBYm9ydGVkRXJyb3IoXG4gIHJlcXVlc3Q6IFJlcXVlc3QsXG4gIGlzUm91dGVSZXF1ZXN0OiBib29sZWFuLFxuICBmdXR1cmU6IFN0YXRpY0hhbmRsZXJGdXR1cmVDb25maWdcbikge1xuICBpZiAoZnV0dXJlLnY3X3Rocm93QWJvcnRSZWFzb24gJiYgcmVxdWVzdC5zaWduYWwucmVhc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyByZXF1ZXN0LnNpZ25hbC5yZWFzb247XG4gIH1cblxuICBsZXQgbWV0aG9kID0gaXNSb3V0ZVJlcXVlc3QgPyBcInF1ZXJ5Um91dGVcIiA6IFwicXVlcnlcIjtcbiAgdGhyb3cgbmV3IEVycm9yKGAke21ldGhvZH0oKSBjYWxsIGFib3J0ZWQ6ICR7cmVxdWVzdC5tZXRob2R9ICR7cmVxdWVzdC51cmx9YCk7XG59XG5cbmZ1bmN0aW9uIGlzU3VibWlzc2lvbk5hdmlnYXRpb24oXG4gIG9wdHM6IEJhc2VOYXZpZ2F0ZU9yRmV0Y2hPcHRpb25zXG4pOiBvcHRzIGlzIFN1Ym1pc3Npb25OYXZpZ2F0ZU9wdGlvbnMge1xuICByZXR1cm4gKFxuICAgIG9wdHMgIT0gbnVsbCAmJlxuICAgICgoXCJmb3JtRGF0YVwiIGluIG9wdHMgJiYgb3B0cy5mb3JtRGF0YSAhPSBudWxsKSB8fFxuICAgICAgKFwiYm9keVwiIGluIG9wdHMgJiYgb3B0cy5ib2R5ICE9PSB1bmRlZmluZWQpKVxuICApO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVUbyhcbiAgbG9jYXRpb246IFBhdGgsXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgYmFzZW5hbWU6IHN0cmluZyxcbiAgcHJlcGVuZEJhc2VuYW1lOiBib29sZWFuLFxuICB0bzogVG8gfCBudWxsLFxuICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogYm9vbGVhbixcbiAgZnJvbVJvdXRlSWQ/OiBzdHJpbmcsXG4gIHJlbGF0aXZlPzogUmVsYXRpdmVSb3V0aW5nVHlwZVxuKSB7XG4gIGxldCBjb250ZXh0dWFsTWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdO1xuICBsZXQgYWN0aXZlUm91dGVNYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCB8IHVuZGVmaW5lZDtcbiAgaWYgKGZyb21Sb3V0ZUlkKSB7XG4gICAgLy8gR3JhYiBtYXRjaGVzIHVwIHRvIHRoZSBjYWxsaW5nIHJvdXRlIHNvIG91ciByb3V0ZS1yZWxhdGl2ZSBsb2dpYyBpc1xuICAgIC8vIHJlbGF0aXZlIHRvIHRoZSBjb3JyZWN0IHNvdXJjZSByb3V0ZVxuICAgIGNvbnRleHR1YWxNYXRjaGVzID0gW107XG4gICAgZm9yIChsZXQgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgY29udGV4dHVhbE1hdGNoZXMucHVzaChtYXRjaCk7XG4gICAgICBpZiAobWF0Y2gucm91dGUuaWQgPT09IGZyb21Sb3V0ZUlkKSB7XG4gICAgICAgIGFjdGl2ZVJvdXRlTWF0Y2ggPSBtYXRjaDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnRleHR1YWxNYXRjaGVzID0gbWF0Y2hlcztcbiAgICBhY3RpdmVSb3V0ZU1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgLy8gUmVzb2x2ZSB0aGUgcmVsYXRpdmUgcGF0aFxuICBsZXQgcGF0aCA9IHJlc29sdmVUbyhcbiAgICB0byA/IHRvIDogXCIuXCIsXG4gICAgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhjb250ZXh0dWFsTWF0Y2hlcywgdjdfcmVsYXRpdmVTcGxhdFBhdGgpLFxuICAgIHN0cmlwQmFzZW5hbWUobG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICByZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgKTtcblxuICAvLyBXaGVuIGB0b2AgaXMgbm90IHNwZWNpZmllZCB3ZSBpbmhlcml0IHNlYXJjaC9oYXNoIGZyb20gdGhlIGN1cnJlbnRcbiAgLy8gbG9jYXRpb24sIHVubGlrZSB3aGVuIHRvPVwiLlwiIGFuZCB3ZSBqdXN0IGluaGVyaXQgdGhlIHBhdGguXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL3JlbWl4L2lzc3Vlcy85MjdcbiAgaWYgKHRvID09IG51bGwpIHtcbiAgICBwYXRoLnNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcbiAgICBwYXRoLmhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuICB9XG5cbiAgLy8gQWNjb3VudCBmb3IgYD9pbmRleGAgcGFyYW1zIHdoZW4gcm91dGluZyB0byB0aGUgY3VycmVudCBsb2NhdGlvblxuICBpZiAoKHRvID09IG51bGwgfHwgdG8gPT09IFwiXCIgfHwgdG8gPT09IFwiLlwiKSAmJiBhY3RpdmVSb3V0ZU1hdGNoKSB7XG4gICAgbGV0IG5ha2VkSW5kZXggPSBoYXNOYWtlZEluZGV4UXVlcnkocGF0aC5zZWFyY2gpO1xuICAgIGlmIChhY3RpdmVSb3V0ZU1hdGNoLnJvdXRlLmluZGV4ICYmICFuYWtlZEluZGV4KSB7XG4gICAgICAvLyBBZGQgb25lIHdoZW4gd2UncmUgdGFyZ2V0aW5nIGFuIGluZGV4IHJvdXRlXG4gICAgICBwYXRoLnNlYXJjaCA9IHBhdGguc2VhcmNoXG4gICAgICAgID8gcGF0aC5zZWFyY2gucmVwbGFjZSgvXlxcPy8sIFwiP2luZGV4JlwiKVxuICAgICAgICA6IFwiP2luZGV4XCI7XG4gICAgfSBlbHNlIGlmICghYWN0aXZlUm91dGVNYXRjaC5yb3V0ZS5pbmRleCAmJiBuYWtlZEluZGV4KSB7XG4gICAgICAvLyBSZW1vdmUgZXhpc3Rpbmcgb25lcyB3aGVuIHdlJ3JlIG5vdFxuICAgICAgbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGF0aC5zZWFyY2gpO1xuICAgICAgbGV0IGluZGV4VmFsdWVzID0gcGFyYW1zLmdldEFsbChcImluZGV4XCIpO1xuICAgICAgcGFyYW1zLmRlbGV0ZShcImluZGV4XCIpO1xuICAgICAgaW5kZXhWYWx1ZXMuZmlsdGVyKCh2KSA9PiB2KS5mb3JFYWNoKCh2KSA9PiBwYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgdikpO1xuICAgICAgbGV0IHFzID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICBwYXRoLnNlYXJjaCA9IHFzID8gYD8ke3FzfWAgOiBcIlwiO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIHdlJ3JlIG9wZXJhdGluZyB3aXRoaW4gYSBiYXNlbmFtZSwgcHJlcGVuZCBpdCB0byB0aGUgcGF0aG5hbWUuICBJZlxuICAvLyB0aGlzIGlzIGEgcm9vdCBuYXZpZ2F0aW9uLCB0aGVuIGp1c3QgdXNlIHRoZSByYXcgYmFzZW5hbWUgd2hpY2ggYWxsb3dzXG4gIC8vIHRoZSBiYXNlbmFtZSB0byBoYXZlIGZ1bGwgY29udHJvbCBvdmVyIHRoZSBwcmVzZW5jZSBvZiBhIHRyYWlsaW5nIHNsYXNoXG4gIC8vIG9uIHJvb3QgYWN0aW9uc1xuICBpZiAocHJlcGVuZEJhc2VuYW1lICYmIGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgIHBhdGgucGF0aG5hbWUgPVxuICAgICAgcGF0aC5wYXRobmFtZSA9PT0gXCIvXCIgPyBiYXNlbmFtZSA6IGpvaW5QYXRocyhbYmFzZW5hbWUsIHBhdGgucGF0aG5hbWVdKTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVQYXRoKHBhdGgpO1xufVxuXG4vLyBOb3JtYWxpemUgbmF2aWdhdGlvbiBvcHRpb25zIGJ5IGNvbnZlcnRpbmcgZm9ybU1ldGhvZD1HRVQgZm9ybURhdGEgb2JqZWN0cyB0b1xuLy8gVVJMU2VhcmNoUGFyYW1zIHNvIHRoZXkgYmVoYXZlIGlkZW50aWNhbGx5IHRvIGxpbmtzIHdpdGggcXVlcnkgcGFyYW1zXG5mdW5jdGlvbiBub3JtYWxpemVOYXZpZ2F0ZU9wdGlvbnMoXG4gIG5vcm1hbGl6ZUZvcm1NZXRob2Q6IGJvb2xlYW4sXG4gIGlzRmV0Y2hlcjogYm9vbGVhbixcbiAgcGF0aDogc3RyaW5nLFxuICBvcHRzPzogQmFzZU5hdmlnYXRlT3JGZXRjaE9wdGlvbnNcbik6IHtcbiAgcGF0aDogc3RyaW5nO1xuICBzdWJtaXNzaW9uPzogU3VibWlzc2lvbjtcbiAgZXJyb3I/OiBFcnJvclJlc3BvbnNlSW1wbDtcbn0ge1xuICAvLyBSZXR1cm4gbG9jYXRpb24gdmVyYmF0aW0gb24gbm9uLXN1Ym1pc3Npb24gbmF2aWdhdGlvbnNcbiAgaWYgKCFvcHRzIHx8ICFpc1N1Ym1pc3Npb25OYXZpZ2F0aW9uKG9wdHMpKSB7XG4gICAgcmV0dXJuIHsgcGF0aCB9O1xuICB9XG5cbiAgaWYgKG9wdHMuZm9ybU1ldGhvZCAmJiAhaXNWYWxpZE1ldGhvZChvcHRzLmZvcm1NZXRob2QpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGgsXG4gICAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHsgbWV0aG9kOiBvcHRzLmZvcm1NZXRob2QgfSksXG4gICAgfTtcbiAgfVxuXG4gIGxldCBnZXRJbnZhbGlkQm9keUVycm9yID0gKCkgPT4gKHtcbiAgICBwYXRoLFxuICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwgeyB0eXBlOiBcImludmFsaWQtYm9keVwiIH0pLFxuICB9KTtcblxuICAvLyBDcmVhdGUgYSBTdWJtaXNzaW9uIG9uIG5vbi1HRVQgbmF2aWdhdGlvbnNcbiAgbGV0IHJhd0Zvcm1NZXRob2QgPSBvcHRzLmZvcm1NZXRob2QgfHwgXCJnZXRcIjtcbiAgbGV0IGZvcm1NZXRob2QgPSBub3JtYWxpemVGb3JtTWV0aG9kXG4gICAgPyAocmF3Rm9ybU1ldGhvZC50b1VwcGVyQ2FzZSgpIGFzIFY3X0Zvcm1NZXRob2QpXG4gICAgOiAocmF3Rm9ybU1ldGhvZC50b0xvd2VyQ2FzZSgpIGFzIEZvcm1NZXRob2QpO1xuICBsZXQgZm9ybUFjdGlvbiA9IHN0cmlwSGFzaEZyb21QYXRoKHBhdGgpO1xuXG4gIGlmIChvcHRzLmJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChvcHRzLmZvcm1FbmNUeXBlID09PSBcInRleHQvcGxhaW5cIikge1xuICAgICAgLy8gdGV4dCBvbmx5IHN1cHBvcnQgUE9TVC9QVVQvUEFUQ0gvREVMRVRFIHN1Ym1pc3Npb25zXG4gICAgICBpZiAoIWlzTXV0YXRpb25NZXRob2QoZm9ybU1ldGhvZCkpIHtcbiAgICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHRleHQgPVxuICAgICAgICB0eXBlb2Ygb3B0cy5ib2R5ID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgPyBvcHRzLmJvZHlcbiAgICAgICAgICA6IG9wdHMuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhIHx8XG4gICAgICAgICAgICBvcHRzLmJvZHkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXNcbiAgICAgICAgICA/IC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm0tY29udHJvbC1pbmZyYXN0cnVjdHVyZS5odG1sI3BsYWluLXRleHQtZm9ybS1kYXRhXG4gICAgICAgICAgICBBcnJheS5mcm9tKG9wdHMuYm9keS5lbnRyaWVzKCkpLnJlZHVjZShcbiAgICAgICAgICAgICAgKGFjYywgW25hbWUsIHZhbHVlXSkgPT4gYCR7YWNjfSR7bmFtZX09JHt2YWx1ZX1cXG5gLFxuICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBTdHJpbmcob3B0cy5ib2R5KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aCxcbiAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgIGZvcm1NZXRob2QsXG4gICAgICAgICAgZm9ybUFjdGlvbixcbiAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0cy5mb3JtRW5jVHlwZSxcbiAgICAgICAgICBmb3JtRGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgIGpzb246IHVuZGVmaW5lZCxcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG9wdHMuZm9ybUVuY1R5cGUgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICAvLyBqc29uIG9ubHkgc3VwcG9ydHMgUE9TVC9QVVQvUEFUQ0gvREVMRVRFIHN1Ym1pc3Npb25zXG4gICAgICBpZiAoIWlzTXV0YXRpb25NZXRob2QoZm9ybU1ldGhvZCkpIHtcbiAgICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGpzb24gPVxuICAgICAgICAgIHR5cGVvZiBvcHRzLmJvZHkgPT09IFwic3RyaW5nXCIgPyBKU09OLnBhcnNlKG9wdHMuYm9keSkgOiBvcHRzLmJvZHk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICAgIGZvcm1NZXRob2QsXG4gICAgICAgICAgICBmb3JtQWN0aW9uLFxuICAgICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdHMuZm9ybUVuY1R5cGUsXG4gICAgICAgICAgICBmb3JtRGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAganNvbixcbiAgICAgICAgICAgIHRleHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGludmFyaWFudChcbiAgICB0eXBlb2YgRm9ybURhdGEgPT09IFwiZnVuY3Rpb25cIixcbiAgICBcIkZvcm1EYXRhIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudFwiXG4gICk7XG5cbiAgbGV0IHNlYXJjaFBhcmFtczogVVJMU2VhcmNoUGFyYW1zO1xuICBsZXQgZm9ybURhdGE6IEZvcm1EYXRhO1xuXG4gIGlmIChvcHRzLmZvcm1EYXRhKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMob3B0cy5mb3JtRGF0YSk7XG4gICAgZm9ybURhdGEgPSBvcHRzLmZvcm1EYXRhO1xuICB9IGVsc2UgaWYgKG9wdHMuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMob3B0cy5ib2R5KTtcbiAgICBmb3JtRGF0YSA9IG9wdHMuYm9keTtcbiAgfSBlbHNlIGlmIChvcHRzLmJvZHkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBvcHRzLmJvZHk7XG4gICAgZm9ybURhdGEgPSBjb252ZXJ0U2VhcmNoUGFyYW1zVG9Gb3JtRGF0YShzZWFyY2hQYXJhbXMpO1xuICB9IGVsc2UgaWYgKG9wdHMuYm9keSA9PSBudWxsKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMob3B0cy5ib2R5KTtcbiAgICAgIGZvcm1EYXRhID0gY29udmVydFNlYXJjaFBhcmFtc1RvRm9ybURhdGEoc2VhcmNoUGFyYW1zKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgIH1cbiAgfVxuXG4gIGxldCBzdWJtaXNzaW9uOiBTdWJtaXNzaW9uID0ge1xuICAgIGZvcm1NZXRob2QsXG4gICAgZm9ybUFjdGlvbixcbiAgICBmb3JtRW5jVHlwZTpcbiAgICAgIChvcHRzICYmIG9wdHMuZm9ybUVuY1R5cGUpIHx8IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG4gICAgZm9ybURhdGEsXG4gICAganNvbjogdW5kZWZpbmVkLFxuICAgIHRleHQ6IHVuZGVmaW5lZCxcbiAgfTtcblxuICBpZiAoaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgcmV0dXJuIHsgcGF0aCwgc3VibWlzc2lvbiB9O1xuICB9XG5cbiAgLy8gRmxhdHRlbiBzdWJtaXNzaW9uIG9udG8gVVJMU2VhcmNoUGFyYW1zIGZvciBHRVQgc3VibWlzc2lvbnNcbiAgbGV0IHBhcnNlZFBhdGggPSBwYXJzZVBhdGgocGF0aCk7XG4gIC8vIE9uIEdFVCBuYXZpZ2F0aW9uIHN1Ym1pc3Npb25zIHdlIGNhbiBkcm9wIHRoZSA/aW5kZXggcGFyYW0gZnJvbSB0aGVcbiAgLy8gcmVzdWx0aW5nIGxvY2F0aW9uIHNpbmNlIGFsbCBsb2FkZXJzIHdpbGwgcnVuLiAgQnV0IGZldGNoZXIgR0VUIHN1Ym1pc3Npb25zXG4gIC8vIG9ubHkgcnVuIGEgc2luZ2xlIGxvYWRlciBzbyB3ZSBuZWVkIHRvIHByZXNlcnZlIGFueSBpbmNvbWluZyA/aW5kZXggcGFyYW1zXG4gIGlmIChpc0ZldGNoZXIgJiYgcGFyc2VkUGF0aC5zZWFyY2ggJiYgaGFzTmFrZWRJbmRleFF1ZXJ5KHBhcnNlZFBhdGguc2VhcmNoKSkge1xuICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCBcIlwiKTtcbiAgfVxuICBwYXJzZWRQYXRoLnNlYXJjaCA9IGA/JHtzZWFyY2hQYXJhbXN9YDtcblxuICByZXR1cm4geyBwYXRoOiBjcmVhdGVQYXRoKHBhcnNlZFBhdGgpLCBzdWJtaXNzaW9uIH07XG59XG5cbi8vIEZpbHRlciBvdXQgYWxsIHJvdXRlcyBhdC9iZWxvdyBhbnkgY2F1Z2h0IGVycm9yIGFzIHRoZXkgYXJlbid0IGdvaW5nIHRvXG4vLyByZW5kZXIgc28gd2UgZG9uJ3QgbmVlZCB0byBsb2FkIHRoZW1cbmZ1bmN0aW9uIGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIGJvdW5kYXJ5SWQ6IHN0cmluZyxcbiAgaW5jbHVkZUJvdW5kYXJ5ID0gZmFsc2Vcbikge1xuICBsZXQgaW5kZXggPSBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gYm91bmRhcnlJZCk7XG4gIGlmIChpbmRleCA+PSAwKSB7XG4gICAgcmV0dXJuIG1hdGNoZXMuc2xpY2UoMCwgaW5jbHVkZUJvdW5kYXJ5ID8gaW5kZXggKyAxIDogaW5kZXgpO1xuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxuXG5mdW5jdGlvbiBnZXRNYXRjaGVzVG9Mb2FkKFxuICBoaXN0b3J5OiBIaXN0b3J5LFxuICBzdGF0ZTogUm91dGVyU3RhdGUsXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgc3VibWlzc2lvbjogU3VibWlzc2lvbiB8IHVuZGVmaW5lZCxcbiAgbG9jYXRpb246IExvY2F0aW9uLFxuICBpbml0aWFsSHlkcmF0aW9uOiBib29sZWFuLFxuICBza2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb246IGJvb2xlYW4sXG4gIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQ6IGJvb2xlYW4sXG4gIGNhbmNlbGxlZERlZmVycmVkUm91dGVzOiBzdHJpbmdbXSxcbiAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzOiBTZXQ8c3RyaW5nPixcbiAgZGVsZXRlZEZldGNoZXJzOiBTZXQ8c3RyaW5nPixcbiAgZmV0Y2hMb2FkTWF0Y2hlczogTWFwPHN0cmluZywgRmV0Y2hMb2FkTWF0Y2g+LFxuICBmZXRjaFJlZGlyZWN0SWRzOiBTZXQ8c3RyaW5nPixcbiAgcm91dGVzVG9Vc2U6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W10sXG4gIGJhc2VuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIHBlbmRpbmdBY3Rpb25SZXN1bHQ/OiBQZW5kaW5nQWN0aW9uUmVzdWx0XG4pOiBbQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLCBSZXZhbGlkYXRpbmdGZXRjaGVyW11dIHtcbiAgbGV0IGFjdGlvblJlc3VsdCA9IHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgICA/IGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSlcbiAgICAgID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvclxuICAgICAgOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGFcbiAgICA6IHVuZGVmaW5lZDtcbiAgbGV0IGN1cnJlbnRVcmwgPSBoaXN0b3J5LmNyZWF0ZVVSTChzdGF0ZS5sb2NhdGlvbik7XG4gIGxldCBuZXh0VXJsID0gaGlzdG9yeS5jcmVhdGVVUkwobG9jYXRpb24pO1xuXG4gIC8vIFBpY2sgbmF2aWdhdGlvbiBtYXRjaGVzIHRoYXQgYXJlIG5ldC1uZXcgb3IgcXVhbGlmeSBmb3IgcmV2YWxpZGF0aW9uXG4gIGxldCBib3VuZGFyeU1hdGNoZXMgPSBtYXRjaGVzO1xuICBpZiAoaW5pdGlhbEh5ZHJhdGlvbiAmJiBzdGF0ZS5lcnJvcnMpIHtcbiAgICAvLyBPbiBpbml0aWFsIGh5ZHJhdGlvbiwgb25seSBjb25zaWRlciBtYXRjaGVzIHVwIHRvIF9hbmQgaW5jbHVkaW5nXyB0aGUgYm91bmRhcnkuXG4gICAgLy8gVGhpcyBpcyBpbmNsdXNpdmUgdG8gaGFuZGxlIGNhc2VzIHdoZXJlIGEgc2VydmVyIGxvYWRlciByYW4gc3VjY2Vzc2Z1bGx5LFxuICAgIC8vIGEgY2hpbGQgc2VydmVyIGxvYWRlciBidWJibGVkIHVwIHRvIHRoaXMgcm91dGUsIGJ1dCB0aGlzIHJvdXRlIGhhc1xuICAgIC8vIGBjbGllbnRMb2FkZXIuaHlkcmF0ZWAgc28gd2Ugd2FudCB0byBzdGlsbCBydW4gdGhlIGBjbGllbnRMb2FkZXJgIHNvIHRoYXRcbiAgICAvLyB3ZSBoYXZlIGEgY29tcGxldGUgdmVyc2lvbiBvZiBgbG9hZGVyRGF0YWBcbiAgICBib3VuZGFyeU1hdGNoZXMgPSBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShcbiAgICAgIG1hdGNoZXMsXG4gICAgICBPYmplY3Qua2V5cyhzdGF0ZS5lcnJvcnMpWzBdLFxuICAgICAgdHJ1ZVxuICAgICk7XG4gIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pKSB7XG4gICAgLy8gSWYgYW4gYWN0aW9uIHRocmV3IGFuIGVycm9yLCB3ZSBjYWxsIGxvYWRlcnMgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nIHRoZVxuICAgIC8vIGJvdW5kYXJ5XG4gICAgYm91bmRhcnlNYXRjaGVzID0gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkoXG4gICAgICBtYXRjaGVzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdFswXVxuICAgICk7XG4gIH1cblxuICAvLyBEb24ndCByZXZhbGlkYXRlIGxvYWRlcnMgYnkgZGVmYXVsdCBhZnRlciBhY3Rpb24gNHh4LzV4eCByZXNwb25zZXNcbiAgLy8gd2hlbiB0aGUgZmxhZyBpcyBlbmFibGVkLiAgVGhleSBjYW4gc3RpbGwgb3B0LWludG8gcmV2YWxpZGF0aW9uIHZpYVxuICAvLyBgc2hvdWxkUmV2YWxpZGF0ZWAgdmlhIGBhY3Rpb25SZXN1bHRgXG4gIGxldCBhY3Rpb25TdGF0dXMgPSBwZW5kaW5nQWN0aW9uUmVzdWx0XG4gICAgPyBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLnN0YXR1c0NvZGVcbiAgICA6IHVuZGVmaW5lZDtcbiAgbGV0IHNob3VsZFNraXBSZXZhbGlkYXRpb24gPVxuICAgIHNraXBBY3Rpb25FcnJvclJldmFsaWRhdGlvbiAmJiBhY3Rpb25TdGF0dXMgJiYgYWN0aW9uU3RhdHVzID49IDQwMDtcblxuICBsZXQgbmF2aWdhdGlvbk1hdGNoZXMgPSBib3VuZGFyeU1hdGNoZXMuZmlsdGVyKChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICBsZXQgeyByb3V0ZSB9ID0gbWF0Y2g7XG4gICAgaWYgKHJvdXRlLmxhenkpIHtcbiAgICAgIC8vIFdlIGhhdmVuJ3QgbG9hZGVkIHRoaXMgcm91dGUgeWV0IHNvIHdlIGRvbid0IGtub3cgaWYgaXQncyBnb3QgYSBsb2FkZXIhXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAocm91dGUubG9hZGVyID09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaW5pdGlhbEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuIHNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKHJvdXRlLCBzdGF0ZS5sb2FkZXJEYXRhLCBzdGF0ZS5lcnJvcnMpO1xuICAgIH1cblxuICAgIC8vIEFsd2F5cyBjYWxsIHRoZSBsb2FkZXIgb24gbmV3IHJvdXRlIGluc3RhbmNlcyBhbmQgcGVuZGluZyBkZWZlciBjYW5jZWxsYXRpb25zXG4gICAgaWYgKFxuICAgICAgaXNOZXdMb2FkZXIoc3RhdGUubG9hZGVyRGF0YSwgc3RhdGUubWF0Y2hlc1tpbmRleF0sIG1hdGNoKSB8fFxuICAgICAgY2FuY2VsbGVkRGVmZXJyZWRSb3V0ZXMuc29tZSgoaWQpID0+IGlkID09PSBtYXRjaC5yb3V0ZS5pZClcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFRoaXMgaXMgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gZm9yIHdoZW4gd2UgcmV2YWxpZGF0ZS4gIElmIHRoZSByb3V0ZVxuICAgIC8vIHByb3ZpZGVzIGl0J3Mgb3duIGltcGxlbWVudGF0aW9uLCB0aGVuIHdlIGdpdmUgdGhlbSBmdWxsIGNvbnRyb2wgYnV0XG4gICAgLy8gcHJvdmlkZSB0aGlzIHZhbHVlIHNvIHRoZXkgY2FuIGxldmVyYWdlIGl0IGlmIG5lZWRlZCBhZnRlciB0aGV5IGNoZWNrXG4gICAgLy8gdGhlaXIgb3duIHNwZWNpZmljIHVzZSBjYXNlc1xuICAgIGxldCBjdXJyZW50Um91dGVNYXRjaCA9IHN0YXRlLm1hdGNoZXNbaW5kZXhdO1xuICAgIGxldCBuZXh0Um91dGVNYXRjaCA9IG1hdGNoO1xuXG4gICAgcmV0dXJuIHNob3VsZFJldmFsaWRhdGVMb2FkZXIobWF0Y2gsIHtcbiAgICAgIGN1cnJlbnRVcmwsXG4gICAgICBjdXJyZW50UGFyYW1zOiBjdXJyZW50Um91dGVNYXRjaC5wYXJhbXMsXG4gICAgICBuZXh0VXJsLFxuICAgICAgbmV4dFBhcmFtczogbmV4dFJvdXRlTWF0Y2gucGFyYW1zLFxuICAgICAgLi4uc3VibWlzc2lvbixcbiAgICAgIGFjdGlvblJlc3VsdCxcbiAgICAgIGFjdGlvblN0YXR1cyxcbiAgICAgIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiBzaG91bGRTa2lwUmV2YWxpZGF0aW9uXG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiAvLyBGb3JjZWQgcmV2YWxpZGF0aW9uIGR1ZSB0byBzdWJtaXNzaW9uLCB1c2VSZXZhbGlkYXRvciwgb3IgWC1SZW1peC1SZXZhbGlkYXRlXG4gICAgICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCB8fFxuICAgICAgICAgIGN1cnJlbnRVcmwucGF0aG5hbWUgKyBjdXJyZW50VXJsLnNlYXJjaCA9PT1cbiAgICAgICAgICAgIG5leHRVcmwucGF0aG5hbWUgKyBuZXh0VXJsLnNlYXJjaCB8fFxuICAgICAgICAgIC8vIFNlYXJjaCBwYXJhbXMgYWZmZWN0IGFsbCBsb2FkZXJzXG4gICAgICAgICAgY3VycmVudFVybC5zZWFyY2ggIT09IG5leHRVcmwuc2VhcmNoIHx8XG4gICAgICAgICAgaXNOZXdSb3V0ZUluc3RhbmNlKGN1cnJlbnRSb3V0ZU1hdGNoLCBuZXh0Um91dGVNYXRjaCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFBpY2sgZmV0Y2hlci5sb2FkcyB0aGF0IG5lZWQgdG8gYmUgcmV2YWxpZGF0ZWRcbiAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXJzOiBSZXZhbGlkYXRpbmdGZXRjaGVyW10gPSBbXTtcbiAgZmV0Y2hMb2FkTWF0Y2hlcy5mb3JFYWNoKChmLCBrZXkpID0+IHtcbiAgICAvLyBEb24ndCByZXZhbGlkYXRlOlxuICAgIC8vICAtIG9uIGluaXRpYWwgaHlkcmF0aW9uIChzaG91bGRuJ3QgYmUgYW55IGZldGNoZXJzIHRoZW4gYW55d2F5KVxuICAgIC8vICAtIGlmIGZldGNoZXIgd29uJ3QgYmUgcHJlc2VudCBpbiB0aGUgc3Vic2VxdWVudCByZW5kZXJcbiAgICAvLyAgICAtIG5vIGxvbmdlciBtYXRjaGVzIHRoZSBVUkwgKHY3X2ZldGNoZXJQZXJzaXN0PWZhbHNlKVxuICAgIC8vICAgIC0gd2FzIHVubW91bnRlZCBidXQgcGVyc2lzdGVkIGR1ZSB0byB2N19mZXRjaGVyUGVyc2lzdD10cnVlXG4gICAgaWYgKFxuICAgICAgaW5pdGlhbEh5ZHJhdGlvbiB8fFxuICAgICAgIW1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gZi5yb3V0ZUlkKSB8fFxuICAgICAgZGVsZXRlZEZldGNoZXJzLmhhcyhrZXkpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGZldGNoZXJNYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIGYucGF0aCwgYmFzZW5hbWUpO1xuXG4gICAgLy8gSWYgdGhlIGZldGNoZXIgcGF0aCBubyBsb25nZXIgbWF0Y2hlcywgcHVzaCBpdCBpbiB3aXRoIG51bGwgbWF0Y2hlcyBzb1xuICAgIC8vIHdlIGNhbiB0cmlnZ2VyIGEgNDA0IGluIGNhbGxMb2FkZXJzQW5kTWF5YmVSZXNvbHZlRGF0YS4gIE5vdGUgdGhpcyBpc1xuICAgIC8vIGN1cnJlbnRseSBvbmx5IGEgdXNlLWNhc2UgZm9yIFJlbWl4IEhNUiB3aGVyZSB0aGUgcm91dGUgdHJlZSBjYW4gY2hhbmdlXG4gICAgLy8gYXQgcnVudGltZSBhbmQgcmVtb3ZlIGEgcm91dGUgcHJldmlvdXNseSBsb2FkZWQgdmlhIGEgZmV0Y2hlclxuICAgIGlmICghZmV0Y2hlck1hdGNoZXMpIHtcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLnB1c2goe1xuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQ6IGYucm91dGVJZCxcbiAgICAgICAgcGF0aDogZi5wYXRoLFxuICAgICAgICBtYXRjaGVzOiBudWxsLFxuICAgICAgICBtYXRjaDogbnVsbCxcbiAgICAgICAgY29udHJvbGxlcjogbnVsbCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJldmFsaWRhdGluZyBmZXRjaGVycyBhcmUgZGVjb3VwbGVkIGZyb20gdGhlIHJvdXRlIG1hdGNoZXMgc2luY2UgdGhleVxuICAgIC8vIGxvYWQgZnJvbSBhIHN0YXRpYyBocmVmLiAgVGhleSByZXZhbGlkYXRlIGJhc2VkIG9uIGV4cGxpY2l0IHJldmFsaWRhdGlvblxuICAgIC8vIChzdWJtaXNzaW9uLCB1c2VSZXZhbGlkYXRvciwgb3IgWC1SZW1peC1SZXZhbGlkYXRlKVxuICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgbGV0IGZldGNoZXJNYXRjaCA9IGdldFRhcmdldE1hdGNoKGZldGNoZXJNYXRjaGVzLCBmLnBhdGgpO1xuXG4gICAgbGV0IHNob3VsZFJldmFsaWRhdGUgPSBmYWxzZTtcbiAgICBpZiAoZmV0Y2hSZWRpcmVjdElkcy5oYXMoa2V5KSkge1xuICAgICAgLy8gTmV2ZXIgdHJpZ2dlciBhIHJldmFsaWRhdGlvbiBvZiBhbiBhY3RpdmVseSByZWRpcmVjdGluZyBmZXRjaGVyXG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChjYW5jZWxsZWRGZXRjaGVyTG9hZHMuaGFzKGtleSkpIHtcbiAgICAgIC8vIEFsd2F5cyBtYXJrIGZvciByZXZhbGlkYXRpb24gaWYgdGhlIGZldGNoZXIgd2FzIGNhbmNlbGxlZFxuICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmRlbGV0ZShrZXkpO1xuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGZldGNoZXIgJiZcbiAgICAgIGZldGNoZXIuc3RhdGUgIT09IFwiaWRsZVwiICYmXG4gICAgICBmZXRjaGVyLmRhdGEgPT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgLy8gSWYgdGhlIGZldGNoZXIgaGFzbid0IGV2ZXIgY29tcGxldGVkIGxvYWRpbmcgeWV0LCB0aGVuIHRoaXMgaXNuJ3QgYVxuICAgICAgLy8gcmV2YWxpZGF0aW9uLCBpdCB3b3VsZCBqdXN0IGJlIGEgYnJhbmQgbmV3IGxvYWQgaWYgYW4gZXhwbGljaXRcbiAgICAgIC8vIHJldmFsaWRhdGlvbiBpcyByZXF1aXJlZFxuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE90aGVyd2lzZSBmYWxsIGJhY2sgb24gYW55IHVzZXItZGVmaW5lZCBzaG91bGRSZXZhbGlkYXRlLCBkZWZhdWx0aW5nXG4gICAgICAvLyB0byBleHBsaWNpdCByZXZhbGlkYXRpb25zIG9ubHlcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSBzaG91bGRSZXZhbGlkYXRlTG9hZGVyKGZldGNoZXJNYXRjaCwge1xuICAgICAgICBjdXJyZW50VXJsLFxuICAgICAgICBjdXJyZW50UGFyYW1zOiBzdGF0ZS5tYXRjaGVzW3N0YXRlLm1hdGNoZXMubGVuZ3RoIC0gMV0ucGFyYW1zLFxuICAgICAgICBuZXh0VXJsLFxuICAgICAgICBuZXh0UGFyYW1zOiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucGFyYW1zLFxuICAgICAgICAuLi5zdWJtaXNzaW9uLFxuICAgICAgICBhY3Rpb25SZXN1bHQsXG4gICAgICAgIGFjdGlvblN0YXR1cyxcbiAgICAgICAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHNob3VsZFNraXBSZXZhbGlkYXRpb25cbiAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgOiBpc1JldmFsaWRhdGlvblJlcXVpcmVkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFJldmFsaWRhdGUpIHtcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLnB1c2goe1xuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQ6IGYucm91dGVJZCxcbiAgICAgICAgcGF0aDogZi5wYXRoLFxuICAgICAgICBtYXRjaGVzOiBmZXRjaGVyTWF0Y2hlcyxcbiAgICAgICAgbWF0Y2g6IGZldGNoZXJNYXRjaCxcbiAgICAgICAgY29udHJvbGxlcjogbmV3IEFib3J0Q29udHJvbGxlcigpLFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gW25hdmlnYXRpb25NYXRjaGVzLCByZXZhbGlkYXRpbmdGZXRjaGVyc107XG59XG5cbmZ1bmN0aW9uIHNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKFxuICByb3V0ZTogQWdub3N0aWNEYXRhUm91dGVPYmplY3QsXG4gIGxvYWRlckRhdGE6IFJvdXRlRGF0YSB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGVycm9yczogUm91dGVEYXRhIHwgbnVsbCB8IHVuZGVmaW5lZFxuKSB7XG4gIC8vIFdlIGR1bm5vIGlmIHdlIGhhdmUgYSBsb2FkZXIgLSBnb3R0YSBmaW5kIG91dCFcbiAgaWYgKHJvdXRlLmxhenkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIE5vIGxvYWRlciwgbm90aGluZyB0byBpbml0aWFsaXplXG4gIGlmICghcm91dGUubG9hZGVyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IGhhc0RhdGEgPSBsb2FkZXJEYXRhICE9IG51bGwgJiYgbG9hZGVyRGF0YVtyb3V0ZS5pZF0gIT09IHVuZGVmaW5lZDtcbiAgbGV0IGhhc0Vycm9yID0gZXJyb3JzICE9IG51bGwgJiYgZXJyb3JzW3JvdXRlLmlkXSAhPT0gdW5kZWZpbmVkO1xuXG4gIC8vIERvbid0IHJ1biBpZiB3ZSBlcnJvcidkIGR1cmluZyBTU1JcbiAgaWYgKCFoYXNEYXRhICYmIGhhc0Vycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRXhwbGljaXRseSBvcHRpbmctaW4gdG8gcnVubmluZyBvbiBoeWRyYXRpb25cbiAgaWYgKHR5cGVvZiByb3V0ZS5sb2FkZXIgPT09IFwiZnVuY3Rpb25cIiAmJiByb3V0ZS5sb2FkZXIuaHlkcmF0ZSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gT3RoZXJ3aXNlLCBydW4gaWYgd2UncmUgbm90IHlldCBpbml0aWFsaXplZCB3aXRoIGFueXRoaW5nXG4gIHJldHVybiAhaGFzRGF0YSAmJiAhaGFzRXJyb3I7XG59XG5cbmZ1bmN0aW9uIGlzTmV3TG9hZGVyKFxuICBjdXJyZW50TG9hZGVyRGF0YTogUm91dGVEYXRhLFxuICBjdXJyZW50TWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gsXG4gIG1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoXG4pIHtcbiAgbGV0IGlzTmV3ID1cbiAgICAvLyBbYV0gLT4gW2EsIGJdXG4gICAgIWN1cnJlbnRNYXRjaCB8fFxuICAgIC8vIFthLCBiXSAtPiBbYSwgY11cbiAgICBtYXRjaC5yb3V0ZS5pZCAhPT0gY3VycmVudE1hdGNoLnJvdXRlLmlkO1xuXG4gIC8vIEhhbmRsZSB0aGUgY2FzZSB0aGF0IHdlIGRvbid0IGhhdmUgZGF0YSBmb3IgYSByZS11c2VkIHJvdXRlLCBwb3RlbnRpYWxseVxuICAvLyBmcm9tIGEgcHJpb3IgZXJyb3Igb3IgZnJvbSBhIGNhbmNlbGxlZCBwZW5kaW5nIGRlZmVycmVkXG4gIGxldCBpc01pc3NpbmdEYXRhID0gY3VycmVudExvYWRlckRhdGFbbWF0Y2gucm91dGUuaWRdID09PSB1bmRlZmluZWQ7XG5cbiAgLy8gQWx3YXlzIGxvYWQgaWYgdGhpcyBpcyBhIG5ldC1uZXcgcm91dGUgb3Igd2UgZG9uJ3QgeWV0IGhhdmUgZGF0YVxuICByZXR1cm4gaXNOZXcgfHwgaXNNaXNzaW5nRGF0YTtcbn1cblxuZnVuY3Rpb24gaXNOZXdSb3V0ZUluc3RhbmNlKFxuICBjdXJyZW50TWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gsXG4gIG1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoXG4pIHtcbiAgbGV0IGN1cnJlbnRQYXRoID0gY3VycmVudE1hdGNoLnJvdXRlLnBhdGg7XG4gIHJldHVybiAoXG4gICAgLy8gcGFyYW0gY2hhbmdlIGZvciB0aGlzIG1hdGNoLCAvdXNlcnMvMTIzIC0+IC91c2Vycy80NTZcbiAgICBjdXJyZW50TWF0Y2gucGF0aG5hbWUgIT09IG1hdGNoLnBhdGhuYW1lIHx8XG4gICAgLy8gc3BsYXQgcGFyYW0gY2hhbmdlZCwgd2hpY2ggaXMgbm90IHByZXNlbnQgaW4gbWF0Y2gucGF0aFxuICAgIC8vIGUuZy4gL2ZpbGVzL2ltYWdlcy9hdmF0YXIuanBnIC0+IGZpbGVzL2ZpbmFuY2VzLnhsc1xuICAgIChjdXJyZW50UGF0aCAhPSBudWxsICYmXG4gICAgICBjdXJyZW50UGF0aC5lbmRzV2l0aChcIipcIikgJiZcbiAgICAgIGN1cnJlbnRNYXRjaC5wYXJhbXNbXCIqXCJdICE9PSBtYXRjaC5wYXJhbXNbXCIqXCJdKVxuICApO1xufVxuXG5mdW5jdGlvbiBzaG91bGRSZXZhbGlkYXRlTG9hZGVyKFxuICBsb2FkZXJNYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCxcbiAgYXJnOiBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb25BcmdzXG4pIHtcbiAgaWYgKGxvYWRlck1hdGNoLnJvdXRlLnNob3VsZFJldmFsaWRhdGUpIHtcbiAgICBsZXQgcm91dGVDaG9pY2UgPSBsb2FkZXJNYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKGFyZyk7XG4gICAgaWYgKHR5cGVvZiByb3V0ZUNob2ljZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJldHVybiByb3V0ZUNob2ljZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXJnLmRlZmF1bHRTaG91bGRSZXZhbGlkYXRlO1xufVxuXG5mdW5jdGlvbiBwYXRjaFJvdXRlc0ltcGwoXG4gIHJvdXRlSWQ6IHN0cmluZyB8IG51bGwsXG4gIGNoaWxkcmVuOiBBZ25vc3RpY1JvdXRlT2JqZWN0W10sXG4gIHJvdXRlc1RvVXNlOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdLFxuICBtYW5pZmVzdDogUm91dGVNYW5pZmVzdCxcbiAgbWFwUm91dGVQcm9wZXJ0aWVzOiBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvblxuKSB7XG4gIGxldCBjaGlsZHJlblRvUGF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W107XG4gIGlmIChyb3V0ZUlkKSB7XG4gICAgbGV0IHJvdXRlID0gbWFuaWZlc3Rbcm91dGVJZF07XG4gICAgaW52YXJpYW50KFxuICAgICAgcm91dGUsXG4gICAgICBgTm8gcm91dGUgZm91bmQgdG8gcGF0Y2ggY2hpbGRyZW4gaW50bzogcm91dGVJZCA9ICR7cm91dGVJZH1gXG4gICAgKTtcbiAgICBpZiAoIXJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICByb3V0ZS5jaGlsZHJlbiA9IFtdO1xuICAgIH1cbiAgICBjaGlsZHJlblRvUGF0Y2ggPSByb3V0ZS5jaGlsZHJlbjtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZHJlblRvUGF0Y2ggPSByb3V0ZXNUb1VzZTtcbiAgfVxuXG4gIC8vIERvbid0IHBhdGNoIGluIHJvdXRlcyB3ZSBhbHJlYWR5IGtub3cgYWJvdXQgc28gdGhhdCBgcGF0Y2hgIGlzIGlkZW1wb3RlbnRcbiAgLy8gdG8gc2ltcGxpZnkgdXNlci1sYW5kIGNvZGUuIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2Ugd2UgcmUtY2FsbCB0aGVcbiAgLy8gYHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uYCBmdW5jdGlvbiBmb3IgbWF0Y2hlZCByb3V0ZXMgd2l0aCBwYXJhbXMuXG4gIGxldCB1bmlxdWVDaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihcbiAgICAobmV3Um91dGUpID0+XG4gICAgICAhY2hpbGRyZW5Ub1BhdGNoLnNvbWUoKGV4aXN0aW5nUm91dGUpID0+XG4gICAgICAgIGlzU2FtZVJvdXRlKG5ld1JvdXRlLCBleGlzdGluZ1JvdXRlKVxuICAgICAgKVxuICApO1xuXG4gIGxldCBuZXdSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIHVuaXF1ZUNoaWxkcmVuLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICBbcm91dGVJZCB8fCBcIl9cIiwgXCJwYXRjaFwiLCBTdHJpbmcoY2hpbGRyZW5Ub1BhdGNoPy5sZW5ndGggfHwgXCIwXCIpXSxcbiAgICBtYW5pZmVzdFxuICApO1xuXG4gIGNoaWxkcmVuVG9QYXRjaC5wdXNoKC4uLm5ld1JvdXRlcyk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlKFxuICBuZXdSb3V0ZTogQWdub3N0aWNSb3V0ZU9iamVjdCxcbiAgZXhpc3RpbmdSb3V0ZTogQWdub3N0aWNSb3V0ZU9iamVjdFxuKTogYm9vbGVhbiB7XG4gIC8vIE1vc3Qgb3B0aW1hbCBjaGVjayBpcyBieSBpZFxuICBpZiAoXG4gICAgXCJpZFwiIGluIG5ld1JvdXRlICYmXG4gICAgXCJpZFwiIGluIGV4aXN0aW5nUm91dGUgJiZcbiAgICBuZXdSb3V0ZS5pZCA9PT0gZXhpc3RpbmdSb3V0ZS5pZFxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFNlY29uZCBpcyBieSBwYXRoaW5nIGRpZmZlcmVuY2VzXG4gIGlmIChcbiAgICAhKFxuICAgICAgbmV3Um91dGUuaW5kZXggPT09IGV4aXN0aW5nUm91dGUuaW5kZXggJiZcbiAgICAgIG5ld1JvdXRlLnBhdGggPT09IGV4aXN0aW5nUm91dGUucGF0aCAmJlxuICAgICAgbmV3Um91dGUuY2FzZVNlbnNpdGl2ZSA9PT0gZXhpc3RpbmdSb3V0ZS5jYXNlU2Vuc2l0aXZlXG4gICAgKVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBQYXRobGVzcyBsYXlvdXQgcm91dGVzIGFyZSB0cmlja2llciBzaW5jZSB3ZSBuZWVkIHRvIGNoZWNrIGNoaWxkcmVuLlxuICAvLyBJZiB0aGV5IGhhdmUgbm8gY2hpbGRyZW4gdGhlbiB0aGV5J3JlIHRoZSBzYW1lIGFzIGZhciBhcyB3ZSBjYW4gdGVsbFxuICBpZiAoXG4gICAgKCFuZXdSb3V0ZS5jaGlsZHJlbiB8fCBuZXdSb3V0ZS5jaGlsZHJlbi5sZW5ndGggPT09IDApICYmXG4gICAgKCFleGlzdGluZ1JvdXRlLmNoaWxkcmVuIHx8IGV4aXN0aW5nUm91dGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSwgd2UgbG9vayB0byBzZWUgaWYgZXZlcnkgY2hpbGQgaW4gdGhlIG5ldyByb3V0ZSBpcyBhbHJlYWR5XG4gIC8vIHJlcHJlc2VudGVkIGluIHRoZSBleGlzdGluZyByb3V0ZSdzIGNoaWxkcmVuXG4gIHJldHVybiBuZXdSb3V0ZS5jaGlsZHJlbiEuZXZlcnkoKGFDaGlsZCwgaSkgPT5cbiAgICBleGlzdGluZ1JvdXRlLmNoaWxkcmVuPy5zb21lKChiQ2hpbGQpID0+IGlzU2FtZVJvdXRlKGFDaGlsZCwgYkNoaWxkKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlIHJvdXRlLmxhenkoKSBtZXRob2RzIHRvIGxhemlseSBsb2FkIHJvdXRlIG1vZHVsZXMgKGxvYWRlciwgYWN0aW9uLFxuICogc2hvdWxkUmV2YWxpZGF0ZSkgYW5kIHVwZGF0ZSB0aGUgcm91dGVNYW5pZmVzdCBpbiBwbGFjZSB3aGljaCBzaGFyZXMgb2JqZWN0c1xuICogd2l0aCBkYXRhUm91dGVzIHNvIHRob3NlIGdldCB1cGRhdGVkIGFzIHdlbGwuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRMYXp5Um91dGVNb2R1bGUoXG4gIHJvdXRlOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdCxcbiAgbWFwUm91dGVQcm9wZXJ0aWVzOiBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbixcbiAgbWFuaWZlc3Q6IFJvdXRlTWFuaWZlc3Rcbikge1xuICBpZiAoIXJvdXRlLmxhenkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgbGF6eVJvdXRlID0gYXdhaXQgcm91dGUubGF6eSgpO1xuXG4gIC8vIElmIHRoZSBsYXp5IHJvdXRlIGZ1bmN0aW9uIHdhcyBleGVjdXRlZCBhbmQgcmVtb3ZlZCBieSBhbm90aGVyIHBhcmFsbGVsXG4gIC8vIGNhbGwgdGhlbiB3ZSBjYW4gcmV0dXJuIC0gZmlyc3QgbGF6eSgpIHRvIGZpbmlzaCB3aW5zIGJlY2F1c2UgdGhlIHJldHVyblxuICAvLyB2YWx1ZSBvZiBsYXp5IGlzIGV4cGVjdGVkIHRvIGJlIHN0YXRpY1xuICBpZiAoIXJvdXRlLmxhenkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgcm91dGVUb1VwZGF0ZSA9IG1hbmlmZXN0W3JvdXRlLmlkXTtcbiAgaW52YXJpYW50KHJvdXRlVG9VcGRhdGUsIFwiTm8gcm91dGUgZm91bmQgaW4gbWFuaWZlc3RcIik7XG5cbiAgLy8gVXBkYXRlIHRoZSByb3V0ZSBpbiBwbGFjZS4gIFRoaXMgc2hvdWxkIGJlIHNhZmUgYmVjYXVzZSB0aGVyZSdzIG5vIHdheVxuICAvLyB3ZSBjb3VsZCB5ZXQgYmUgc2l0dGluZyBvbiB0aGlzIHJvdXRlIGFzIHdlIGNhbid0IGdldCB0aGVyZSB3aXRob3V0XG4gIC8vIHJlc29sdmluZyBsYXp5KCkgZmlyc3QuXG4gIC8vXG4gIC8vIFRoaXMgaXMgZGlmZmVyZW50IHRoYW4gdGhlIEhNUiBcInVwZGF0ZVwiIHVzZS1jYXNlIHdoZXJlIHdlIG1heSBhY3RpdmVseSBiZVxuICAvLyBvbiB0aGUgcm91dGUgYmVpbmcgdXBkYXRlZC4gIFRoZSBtYWluIGNvbmNlcm4gYm9pbHMgZG93biB0byBcImRvZXMgdGhpc1xuICAvLyBtdXRhdGlvbiBhZmZlY3QgYW55IG9uZ29pbmcgbmF2aWdhdGlvbnMgb3IgYW55IGN1cnJlbnQgc3RhdGUubWF0Y2hlc1xuICAvLyB2YWx1ZXM/XCIuICBJZiBub3QsIGl0IHNob3VsZCBiZSBzYWZlIHRvIHVwZGF0ZSBpbiBwbGFjZS5cbiAgbGV0IHJvdXRlVXBkYXRlczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICBmb3IgKGxldCBsYXp5Um91dGVQcm9wZXJ0eSBpbiBsYXp5Um91dGUpIHtcbiAgICBsZXQgc3RhdGljUm91dGVWYWx1ZSA9XG4gICAgICByb3V0ZVRvVXBkYXRlW2xhenlSb3V0ZVByb3BlcnR5IGFzIGtleW9mIHR5cGVvZiByb3V0ZVRvVXBkYXRlXTtcblxuICAgIGxldCBpc1Byb3BlcnR5U3RhdGljYWxseURlZmluZWQgPVxuICAgICAgc3RhdGljUm91dGVWYWx1ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAvLyBUaGlzIHByb3BlcnR5IGlzbid0IHN0YXRpYyBzaW5jZSBpdCBzaG91bGQgYWx3YXlzIGJlIHVwZGF0ZWQgYmFzZWRcbiAgICAgIC8vIG9uIHRoZSByb3V0ZSB1cGRhdGVzXG4gICAgICBsYXp5Um91dGVQcm9wZXJ0eSAhPT0gXCJoYXNFcnJvckJvdW5kYXJ5XCI7XG5cbiAgICB3YXJuaW5nKFxuICAgICAgIWlzUHJvcGVydHlTdGF0aWNhbGx5RGVmaW5lZCxcbiAgICAgIGBSb3V0ZSBcIiR7cm91dGVUb1VwZGF0ZS5pZH1cIiBoYXMgYSBzdGF0aWMgcHJvcGVydHkgXCIke2xhenlSb3V0ZVByb3BlcnR5fVwiIGAgK1xuICAgICAgICBgZGVmaW5lZCBidXQgaXRzIGxhenkgZnVuY3Rpb24gaXMgYWxzbyByZXR1cm5pbmcgYSB2YWx1ZSBmb3IgdGhpcyBwcm9wZXJ0eS4gYCArXG4gICAgICAgIGBUaGUgbGF6eSByb3V0ZSBwcm9wZXJ0eSBcIiR7bGF6eVJvdXRlUHJvcGVydHl9XCIgd2lsbCBiZSBpZ25vcmVkLmBcbiAgICApO1xuXG4gICAgaWYgKFxuICAgICAgIWlzUHJvcGVydHlTdGF0aWNhbGx5RGVmaW5lZCAmJlxuICAgICAgIWltbXV0YWJsZVJvdXRlS2V5cy5oYXMobGF6eVJvdXRlUHJvcGVydHkgYXMgSW1tdXRhYmxlUm91dGVLZXkpXG4gICAgKSB7XG4gICAgICByb3V0ZVVwZGF0ZXNbbGF6eVJvdXRlUHJvcGVydHldID1cbiAgICAgICAgbGF6eVJvdXRlW2xhenlSb3V0ZVByb3BlcnR5IGFzIGtleW9mIHR5cGVvZiBsYXp5Um91dGVdO1xuICAgIH1cbiAgfVxuXG4gIC8vIE11dGF0ZSB0aGUgcm91dGUgd2l0aCB0aGUgcHJvdmlkZWQgdXBkYXRlcy4gIERvIHRoaXMgZmlyc3Qgc28gd2UgcGFzc1xuICAvLyB0aGUgdXBkYXRlZCB2ZXJzaW9uIHRvIG1hcFJvdXRlUHJvcGVydGllc1xuICBPYmplY3QuYXNzaWduKHJvdXRlVG9VcGRhdGUsIHJvdXRlVXBkYXRlcyk7XG5cbiAgLy8gTXV0YXRlIHRoZSBgaGFzRXJyb3JCb3VuZGFyeWAgcHJvcGVydHkgb24gdGhlIHJvdXRlIGJhc2VkIG9uIHRoZSByb3V0ZVxuICAvLyB1cGRhdGVzIGFuZCByZW1vdmUgdGhlIGBsYXp5YCBmdW5jdGlvbiBzbyB3ZSBkb24ndCByZXNvbHZlIHRoZSBsYXp5XG4gIC8vIHJvdXRlIGFnYWluLlxuICBPYmplY3QuYXNzaWduKHJvdXRlVG9VcGRhdGUsIHtcbiAgICAvLyBUbyBrZWVwIHRoaW5ncyBmcmFtZXdvcmsgYWdub3N0aWMsIHdlIHVzZSB0aGUgcHJvdmlkZWRcbiAgICAvLyBgbWFwUm91dGVQcm9wZXJ0aWVzYCAob3Igd3JhcHBlZCBgZGV0ZWN0RXJyb3JCb3VuZGFyeWApIGZ1bmN0aW9uIHRvXG4gICAgLy8gc2V0IHRoZSBmcmFtZXdvcmstYXdhcmUgcHJvcGVydGllcyAoYGVsZW1lbnRgL2BoYXNFcnJvckJvdW5kYXJ5YCkgc2luY2VcbiAgICAvLyB0aGUgbG9naWMgd2lsbCBkaWZmZXIgYmV0d2VlbiBmcmFtZXdvcmtzLlxuICAgIC4uLm1hcFJvdXRlUHJvcGVydGllcyhyb3V0ZVRvVXBkYXRlKSxcbiAgICBsYXp5OiB1bmRlZmluZWQsXG4gIH0pO1xufVxuXG4vLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGBkYXRhU3RyYXRlZ3lgIHdoaWNoIGZldGNoZXMgYWxsIGxvYWRlcnMgaW4gcGFyYWxsZWxcbmFzeW5jIGZ1bmN0aW9uIGRlZmF1bHREYXRhU3RyYXRlZ3koe1xuICBtYXRjaGVzLFxufTogRGF0YVN0cmF0ZWd5RnVuY3Rpb25BcmdzKTogUmV0dXJuVHlwZTxEYXRhU3RyYXRlZ3lGdW5jdGlvbj4ge1xuICBsZXQgbWF0Y2hlc1RvTG9hZCA9IG1hdGNoZXMuZmlsdGVyKChtKSA9PiBtLnNob3VsZExvYWQpO1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKG1hdGNoZXNUb0xvYWQubWFwKChtKSA9PiBtLnJlc29sdmUoKSkpO1xuICByZXR1cm4gcmVzdWx0cy5yZWR1Y2UoXG4gICAgKGFjYywgcmVzdWx0LCBpKSA9PlxuICAgICAgT2JqZWN0LmFzc2lnbihhY2MsIHsgW21hdGNoZXNUb0xvYWRbaV0ucm91dGUuaWRdOiByZXN1bHQgfSksXG4gICAge31cbiAgKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY2FsbERhdGFTdHJhdGVneUltcGwoXG4gIGRhdGFTdHJhdGVneUltcGw6IERhdGFTdHJhdGVneUZ1bmN0aW9uLFxuICB0eXBlOiBcImxvYWRlclwiIHwgXCJhY3Rpb25cIixcbiAgc3RhdGU6IFJvdXRlclN0YXRlIHwgbnVsbCxcbiAgcmVxdWVzdDogUmVxdWVzdCxcbiAgbWF0Y2hlc1RvTG9hZDogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIGZldGNoZXJLZXk6IHN0cmluZyB8IG51bGwsXG4gIG1hbmlmZXN0OiBSb3V0ZU1hbmlmZXN0LFxuICBtYXBSb3V0ZVByb3BlcnRpZXM6IE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uLFxuICByZXF1ZXN0Q29udGV4dD86IHVua25vd25cbik6IFByb21pc2U8UmVjb3JkPHN0cmluZywgRGF0YVN0cmF0ZWd5UmVzdWx0Pj4ge1xuICBsZXQgbG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlcyA9IG1hdGNoZXMubWFwKChtKSA9PlxuICAgIG0ucm91dGUubGF6eVxuICAgICAgPyBsb2FkTGF6eVJvdXRlTW9kdWxlKG0ucm91dGUsIG1hcFJvdXRlUHJvcGVydGllcywgbWFuaWZlc3QpXG4gICAgICA6IHVuZGVmaW5lZFxuICApO1xuXG4gIGxldCBkc01hdGNoZXMgPSBtYXRjaGVzLm1hcCgobWF0Y2gsIGkpID0+IHtcbiAgICBsZXQgbG9hZFJvdXRlUHJvbWlzZSA9IGxvYWRSb3V0ZURlZmluaXRpb25zUHJvbWlzZXNbaV07XG4gICAgbGV0IHNob3VsZExvYWQgPSBtYXRjaGVzVG9Mb2FkLnNvbWUoKG0pID0+IG0ucm91dGUuaWQgPT09IG1hdGNoLnJvdXRlLmlkKTtcbiAgICAvLyBgcmVzb2x2ZWAgZW5jYXBzdWxhdGVzIHJvdXRlLmxhenkoKSwgZXhlY3V0aW5nIHRoZSBsb2FkZXIvYWN0aW9uLFxuICAgIC8vIGFuZCBtYXBwaW5nIHJldHVybiB2YWx1ZXMvdGhyb3duIGVycm9ycyB0byBhIGBEYXRhU3RyYXRlZ3lSZXN1bHRgLiAgVXNlcnNcbiAgICAvLyBjYW4gcGFzcyBhIGNhbGxiYWNrIHRvIHRha2UgZmluZS1ncmFpbmVkIGNvbnRyb2wgb3ZlciB0aGUgZXhlY3V0aW9uXG4gICAgLy8gb2YgdGhlIGxvYWRlci9hY3Rpb25cbiAgICBsZXQgcmVzb2x2ZTogRGF0YVN0cmF0ZWd5TWF0Y2hbXCJyZXNvbHZlXCJdID0gYXN5bmMgKGhhbmRsZXJPdmVycmlkZSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBoYW5kbGVyT3ZlcnJpZGUgJiZcbiAgICAgICAgcmVxdWVzdC5tZXRob2QgPT09IFwiR0VUXCIgJiZcbiAgICAgICAgKG1hdGNoLnJvdXRlLmxhenkgfHwgbWF0Y2gucm91dGUubG9hZGVyKVxuICAgICAgKSB7XG4gICAgICAgIHNob3VsZExvYWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNob3VsZExvYWRcbiAgICAgICAgPyBjYWxsTG9hZGVyT3JBY3Rpb24oXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgICAgbG9hZFJvdXRlUHJvbWlzZSxcbiAgICAgICAgICAgIGhhbmRsZXJPdmVycmlkZSxcbiAgICAgICAgICAgIHJlcXVlc3RDb250ZXh0XG4gICAgICAgICAgKVxuICAgICAgICA6IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6IFJlc3VsdFR5cGUuZGF0YSwgcmVzdWx0OiB1bmRlZmluZWQgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5tYXRjaCxcbiAgICAgIHNob3VsZExvYWQsXG4gICAgICByZXNvbHZlLFxuICAgIH07XG4gIH0pO1xuXG4gIC8vIFNlbmQgYWxsIG1hdGNoZXMgaGVyZSB0byBhbGxvdyBmb3IgYSBtaWRkbGV3YXJlLXR5cGUgaW1wbGVtZW50YXRpb24uXG4gIC8vIGhhbmRsZXIgd2lsbCBiZSBhIG5vLW9wIGZvciB1bm5lZWRlZCByb3V0ZXMgYW5kIHdlIGZpbHRlciB0aG9zZSByZXN1bHRzXG4gIC8vIGJhY2sgb3V0IGJlbG93LlxuICBsZXQgcmVzdWx0cyA9IGF3YWl0IGRhdGFTdHJhdGVneUltcGwoe1xuICAgIG1hdGNoZXM6IGRzTWF0Y2hlcyxcbiAgICByZXF1ZXN0LFxuICAgIHBhcmFtczogbWF0Y2hlc1swXS5wYXJhbXMsXG4gICAgZmV0Y2hlcktleSxcbiAgICBjb250ZXh0OiByZXF1ZXN0Q29udGV4dCxcbiAgfSk7XG5cbiAgLy8gV2FpdCBmb3IgYWxsIHJvdXRlcyB0byBsb2FkIGhlcmUgYnV0ICdzd2FsbG93IHRoZSBlcnJvciBzaW5jZSB3ZSB3YW50XG4gIC8vIGl0IHRvIGJ1YmJsZSB1cCBmcm9tIHRoZSBgYXdhaXQgbG9hZFJvdXRlUHJvbWlzZWAgaW4gYGNhbGxMb2FkZXJPckFjdGlvbmAgLVxuICAvLyBjYWxsZWQgZnJvbSBgbWF0Y2gucmVzb2x2ZSgpYFxuICB0cnkge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKGxvYWRSb3V0ZURlZmluaXRpb25zUHJvbWlzZXMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gTm8tb3BcbiAgfVxuXG4gIHJldHVybiByZXN1bHRzO1xufVxuXG4vLyBEZWZhdWx0IGxvZ2ljIGZvciBjYWxsaW5nIGEgbG9hZGVyL2FjdGlvbiBpcyB0aGUgdXNlciBoYXMgbm8gc3BlY2lmaWVkIGEgZGF0YVN0cmF0ZWd5XG5hc3luYyBmdW5jdGlvbiBjYWxsTG9hZGVyT3JBY3Rpb24oXG4gIHR5cGU6IFwibG9hZGVyXCIgfCBcImFjdGlvblwiLFxuICByZXF1ZXN0OiBSZXF1ZXN0LFxuICBtYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCxcbiAgbG9hZFJvdXRlUHJvbWlzZTogUHJvbWlzZTx2b2lkPiB8IHVuZGVmaW5lZCxcbiAgaGFuZGxlck92ZXJyaWRlOiBQYXJhbWV0ZXJzPERhdGFTdHJhdGVneU1hdGNoW1wicmVzb2x2ZVwiXT5bMF0sXG4gIHN0YXRpY0NvbnRleHQ/OiB1bmtub3duXG4pOiBQcm9taXNlPERhdGFTdHJhdGVneVJlc3VsdD4ge1xuICBsZXQgcmVzdWx0OiBEYXRhU3RyYXRlZ3lSZXN1bHQ7XG4gIGxldCBvblJlamVjdDogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuXG4gIGxldCBydW5IYW5kbGVyID0gKFxuICAgIGhhbmRsZXI6IEFnbm9zdGljUm91dGVPYmplY3RbXCJsb2FkZXJcIl0gfCBBZ25vc3RpY1JvdXRlT2JqZWN0W1wiYWN0aW9uXCJdXG4gICk6IFByb21pc2U8RGF0YVN0cmF0ZWd5UmVzdWx0PiA9PiB7XG4gICAgLy8gU2V0dXAgYSBwcm9taXNlIHdlIGNhbiByYWNlIGFnYWluc3Qgc28gdGhhdCBhYm9ydCBzaWduYWxzIHNob3J0IGNpcmN1aXRcbiAgICBsZXQgcmVqZWN0OiAoKSA9PiB2b2lkO1xuICAgIC8vIFRoaXMgd2lsbCBuZXZlciByZXNvbHZlIHNvIHNhZmUgdG8gdHlwZSBpdCBhcyBQcm9taXNlPERhdGFTdHJhdGVneVJlc3VsdD4gdG9cbiAgICAvLyBzYXRpc2Z5IHRoZSBmdW5jdGlvbiByZXR1cm4gdmFsdWVcbiAgICBsZXQgYWJvcnRQcm9taXNlID0gbmV3IFByb21pc2U8RGF0YVN0cmF0ZWd5UmVzdWx0PigoXywgcikgPT4gKHJlamVjdCA9IHIpKTtcbiAgICBvblJlamVjdCA9ICgpID0+IHJlamVjdCgpO1xuICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvblJlamVjdCk7XG5cbiAgICBsZXQgYWN0dWFsSGFuZGxlciA9IChjdHg/OiB1bmtub3duKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFlvdSBjYW5ub3QgY2FsbCB0aGUgaGFuZGxlciBmb3IgYSByb3V0ZSB3aGljaCBkZWZpbmVzIGEgYm9vbGVhbiBgICtcbiAgICAgICAgICAgICAgYFwiJHt0eXBlfVwiIFtyb3V0ZUlkOiAke21hdGNoLnJvdXRlLmlkfV1gXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhbmRsZXIoXG4gICAgICAgIHtcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIHBhcmFtczogbWF0Y2gucGFyYW1zLFxuICAgICAgICAgIGNvbnRleHQ6IHN0YXRpY0NvbnRleHQsXG4gICAgICAgIH0sXG4gICAgICAgIC4uLihjdHggIT09IHVuZGVmaW5lZCA/IFtjdHhdIDogW10pXG4gICAgICApO1xuICAgIH07XG5cbiAgICBsZXQgaGFuZGxlclByb21pc2U6IFByb21pc2U8RGF0YVN0cmF0ZWd5UmVzdWx0PiA9IChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgdmFsID0gYXdhaXQgKGhhbmRsZXJPdmVycmlkZVxuICAgICAgICAgID8gaGFuZGxlck92ZXJyaWRlKChjdHg6IHVua25vd24pID0+IGFjdHVhbEhhbmRsZXIoY3R4KSlcbiAgICAgICAgICA6IGFjdHVhbEhhbmRsZXIoKSk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiLCByZXN1bHQ6IHZhbCB9O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZSB9O1xuICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtoYW5kbGVyUHJvbWlzZSwgYWJvcnRQcm9taXNlXSk7XG4gIH07XG5cbiAgdHJ5IHtcbiAgICBsZXQgaGFuZGxlciA9IG1hdGNoLnJvdXRlW3R5cGVdO1xuXG4gICAgLy8gSWYgd2UgaGF2ZSBhIHJvdXRlLmxhenkgcHJvbWlzZSwgYXdhaXQgdGhhdCBmaXJzdFxuICAgIGlmIChsb2FkUm91dGVQcm9taXNlKSB7XG4gICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAvLyBSdW4gc3RhdGljYWxseSBkZWZpbmVkIGhhbmRsZXIgaW4gcGFyYWxsZWwgd2l0aCBsYXp5KClcbiAgICAgICAgbGV0IGhhbmRsZXJFcnJvcjtcbiAgICAgICAgbGV0IFt2YWx1ZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgLy8gSWYgdGhlIGhhbmRsZXIgdGhyb3dzLCBkb24ndCBsZXQgaXQgaW1tZWRpYXRlbHkgYnViYmxlIG91dCxcbiAgICAgICAgICAvLyBzaW5jZSB3ZSBuZWVkIHRvIGxldCB0aGUgbGF6eSgpIGV4ZWN1dGlvbiBmaW5pc2ggc28gd2Uga25vdyBpZiB0aGlzXG4gICAgICAgICAgLy8gcm91dGUgaGFzIGEgYm91bmRhcnkgdGhhdCBjYW4gaGFuZGxlIHRoZSBlcnJvclxuICAgICAgICAgIHJ1bkhhbmRsZXIoaGFuZGxlcikuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGhhbmRsZXJFcnJvciA9IGU7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgbG9hZFJvdXRlUHJvbWlzZSxcbiAgICAgICAgXSk7XG4gICAgICAgIGlmIChoYW5kbGVyRXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IGhhbmRsZXJFcnJvcjtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB2YWx1ZSE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBMb2FkIGxhenkgcm91dGUgbW9kdWxlLCB0aGVuIHJ1biBhbnkgcmV0dXJuZWQgaGFuZGxlclxuICAgICAgICBhd2FpdCBsb2FkUm91dGVQcm9taXNlO1xuXG4gICAgICAgIGhhbmRsZXIgPSBtYXRjaC5yb3V0ZVt0eXBlXTtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAvLyBIYW5kbGVyIHN0aWxsIHJ1bnMgZXZlbiBpZiB3ZSBnb3QgaW50ZXJydXB0ZWQgdG8gbWFpbnRhaW4gY29uc2lzdGVuY3lcbiAgICAgICAgICAvLyB3aXRoIHVuLWFib3J0YWJsZSBiZWhhdmlvciBvZiBoYW5kbGVyIGV4ZWN1dGlvbiBvbiBub24tbGF6eSBvclxuICAgICAgICAgIC8vIHByZXZpb3VzbHktbGF6eS1sb2FkZWQgcm91dGVzXG4gICAgICAgICAgcmVzdWx0ID0gYXdhaXQgcnVuSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImFjdGlvblwiKSB7XG4gICAgICAgICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgICAgIGxldCBwYXRobmFtZSA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG4gICAgICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgICAgIHJvdXRlSWQ6IG1hdGNoLnJvdXRlLmlkLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGxhenkoKSByb3V0ZSBoYXMgbm8gbG9hZGVyIHRvIHJ1bi4gIFNob3J0IGNpcmN1aXQgaGVyZSBzbyB3ZSBkb24ndFxuICAgICAgICAgIC8vIGhpdCB0aGUgaW52YXJpYW50IGJlbG93IHRoYXQgZXJyb3JzIG9uIHJldHVybmluZyB1bmRlZmluZWQuXG4gICAgICAgICAgcmV0dXJuIHsgdHlwZTogUmVzdWx0VHlwZS5kYXRhLCByZXN1bHQ6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaGFuZGxlcikge1xuICAgICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgbGV0IHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaDtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7XG4gICAgICAgIHBhdGhuYW1lLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHJ1bkhhbmRsZXIoaGFuZGxlcik7XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgcmVzdWx0LnJlc3VsdCAhPT0gdW5kZWZpbmVkLFxuICAgICAgYFlvdSBkZWZpbmVkICR7dHlwZSA9PT0gXCJhY3Rpb25cIiA/IFwiYW4gYWN0aW9uXCIgOiBcImEgbG9hZGVyXCJ9IGZvciByb3V0ZSBgICtcbiAgICAgICAgYFwiJHttYXRjaC5yb3V0ZS5pZH1cIiBidXQgZGlkbid0IHJldHVybiBhbnl0aGluZyBmcm9tIHlvdXIgXFxgJHt0eXBlfVxcYCBgICtcbiAgICAgICAgYGZ1bmN0aW9uLiBQbGVhc2UgcmV0dXJuIGEgdmFsdWUgb3IgXFxgbnVsbFxcYC5gXG4gICAgKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFdlIHNob3VsZCBhbHJlYWR5IGJlIGNhdGNoaW5nIGFuZCBjb252ZXJ0aW5nIG5vcm1hbCBoYW5kbGVyIGV4ZWN1dGlvbnMgdG9cbiAgICAvLyBEYXRhU3RyYXRlZ3lSZXN1bHRzIGFuZCByZXR1cm5pbmcgdGhlbSwgc28gYW55dGhpbmcgdGhhdCB0aHJvd3MgaGVyZSBpcyBhblxuICAgIC8vIHVuZXhwZWN0ZWQgZXJyb3Igd2Ugc3RpbGwgbmVlZCB0byB3cmFwXG4gICAgcmV0dXJuIHsgdHlwZTogUmVzdWx0VHlwZS5lcnJvciwgcmVzdWx0OiBlIH07XG4gIH0gZmluYWxseSB7XG4gICAgaWYgKG9uUmVqZWN0KSB7XG4gICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25SZWplY3QpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNvbnZlcnREYXRhU3RyYXRlZ3lSZXN1bHRUb0RhdGFSZXN1bHQoXG4gIGRhdGFTdHJhdGVneVJlc3VsdDogRGF0YVN0cmF0ZWd5UmVzdWx0XG4pOiBQcm9taXNlPERhdGFSZXN1bHQ+IHtcbiAgbGV0IHsgcmVzdWx0LCB0eXBlIH0gPSBkYXRhU3RyYXRlZ3lSZXN1bHQ7XG5cbiAgaWYgKGlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgIGxldCBkYXRhOiBhbnk7XG5cbiAgICB0cnkge1xuICAgICAgbGV0IGNvbnRlbnRUeXBlID0gcmVzdWx0LmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpO1xuICAgICAgLy8gQ2hlY2sgYmV0d2VlbiB3b3JkIGJvdW5kYXJpZXMgaW5zdGVhZCBvZiBzdGFydHNXaXRoKCkgZHVlIHRvIHRoZSBsYXN0XG4gICAgICAvLyBwYXJhZ3JhcGggb2YgaHR0cHM6Ly9odHRwd2cub3JnL3NwZWNzL3JmYzkxMTAuaHRtbCNmaWVsZC5jb250ZW50LXR5cGVcbiAgICAgIGlmIChjb250ZW50VHlwZSAmJiAvXFxiYXBwbGljYXRpb25cXC9qc29uXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgICBpZiAocmVzdWx0LmJvZHkgPT0gbnVsbCkge1xuICAgICAgICAgIGRhdGEgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEgPSBhd2FpdCByZXN1bHQuanNvbigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhID0gYXdhaXQgcmVzdWx0LnRleHQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLCBlcnJvcjogZSB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlID09PSBSZXN1bHRUeXBlLmVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICBlcnJvcjogbmV3IEVycm9yUmVzcG9uc2VJbXBsKHJlc3VsdC5zdGF0dXMsIHJlc3VsdC5zdGF0dXNUZXh0LCBkYXRhKSxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgaGVhZGVyczogcmVzdWx0LmhlYWRlcnMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBSZXN1bHRUeXBlLmRhdGEsXG4gICAgICBkYXRhLFxuICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LnN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzLFxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZSA9PT0gUmVzdWx0VHlwZS5lcnJvcikge1xuICAgIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkpIHtcbiAgICAgIGlmIChyZXN1bHQuZGF0YSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgICBlcnJvcjogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LmluaXQ/LnN0YXR1cyxcbiAgICAgICAgICBoZWFkZXJzOiByZXN1bHQuaW5pdD8uaGVhZGVyc1xuICAgICAgICAgICAgPyBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgdGhyb3duIGRhdGEoKSB0byBFcnJvclJlc3BvbnNlIGluc3RhbmNlc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgICByZXN1bHQuaW5pdD8uc3RhdHVzIHx8IDUwMCxcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgcmVzdWx0LmRhdGFcbiAgICAgICAgKSxcbiAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdC5zdGF0dXMgOiB1bmRlZmluZWQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzXG4gICAgICAgICAgPyBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICBlcnJvcjogcmVzdWx0LFxuICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdC5zdGF0dXMgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxuXG4gIGlmIChpc0RlZmVycmVkRGF0YShyZXN1bHQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZGVmZXJyZWQsXG4gICAgICBkZWZlcnJlZERhdGE6IHJlc3VsdCxcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5pbml0Py5zdGF0dXMsXG4gICAgICBoZWFkZXJzOiByZXN1bHQuaW5pdD8uaGVhZGVycyAmJiBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGlzRGF0YVdpdGhSZXNwb25zZUluaXQocmVzdWx0KSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBSZXN1bHRUeXBlLmRhdGEsXG4gICAgICBkYXRhOiByZXN1bHQuZGF0YSxcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5pbml0Py5zdGF0dXMsXG4gICAgICBoZWFkZXJzOiByZXN1bHQuaW5pdD8uaGVhZGVyc1xuICAgICAgICA/IG5ldyBIZWFkZXJzKHJlc3VsdC5pbml0LmhlYWRlcnMpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4geyB0eXBlOiBSZXN1bHRUeXBlLmRhdGEsIGRhdGE6IHJlc3VsdCB9O1xufVxuXG4vLyBTdXBwb3J0IHJlbGF0aXZlIHJvdXRpbmcgaW4gaW50ZXJuYWwgcmVkaXJlY3RzXG5mdW5jdGlvbiBub3JtYWxpemVSZWxhdGl2ZVJvdXRpbmdSZWRpcmVjdFJlc3BvbnNlKFxuICByZXNwb25zZTogUmVzcG9uc2UsXG4gIHJlcXVlc3Q6IFJlcXVlc3QsXG4gIHJvdXRlSWQ6IHN0cmluZyxcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICBiYXNlbmFtZTogc3RyaW5nLFxuICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogYm9vbGVhblxuKSB7XG4gIGxldCBsb2NhdGlvbiA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIik7XG4gIGludmFyaWFudChcbiAgICBsb2NhdGlvbixcbiAgICBcIlJlZGlyZWN0cyByZXR1cm5lZC90aHJvd24gZnJvbSBsb2FkZXJzL2FjdGlvbnMgbXVzdCBoYXZlIGEgTG9jYXRpb24gaGVhZGVyXCJcbiAgKTtcblxuICBpZiAoIUFCU09MVVRFX1VSTF9SRUdFWC50ZXN0KGxvY2F0aW9uKSkge1xuICAgIGxldCB0cmltbWVkTWF0Y2hlcyA9IG1hdGNoZXMuc2xpY2UoXG4gICAgICAwLFxuICAgICAgbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpICsgMVxuICAgICk7XG4gICAgbG9jYXRpb24gPSBub3JtYWxpemVUbyhcbiAgICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgdHJpbW1lZE1hdGNoZXMsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIHRydWUsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIHY3X3JlbGF0aXZlU3BsYXRQYXRoXG4gICAgKTtcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldChcIkxvY2F0aW9uXCIsIGxvY2F0aW9uKTtcbiAgfVxuXG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUmVkaXJlY3RMb2NhdGlvbihcbiAgbG9jYXRpb246IHN0cmluZyxcbiAgY3VycmVudFVybDogVVJMLFxuICBiYXNlbmFtZTogc3RyaW5nXG4pOiBzdHJpbmcge1xuICBpZiAoQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QobG9jYXRpb24pKSB7XG4gICAgLy8gU3RyaXAgb2ZmIHRoZSBwcm90b2NvbCtvcmlnaW4gZm9yIHNhbWUtb3JpZ2luICsgc2FtZS1iYXNlbmFtZSBhYnNvbHV0ZSByZWRpcmVjdHNcbiAgICBsZXQgbm9ybWFsaXplZExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgbGV0IHVybCA9IG5vcm1hbGl6ZWRMb2NhdGlvbi5zdGFydHNXaXRoKFwiLy9cIilcbiAgICAgID8gbmV3IFVSTChjdXJyZW50VXJsLnByb3RvY29sICsgbm9ybWFsaXplZExvY2F0aW9uKVxuICAgICAgOiBuZXcgVVJMKG5vcm1hbGl6ZWRMb2NhdGlvbik7XG4gICAgbGV0IGlzU2FtZUJhc2VuYW1lID0gc3RyaXBCYXNlbmFtZSh1cmwucGF0aG5hbWUsIGJhc2VuYW1lKSAhPSBudWxsO1xuICAgIGlmICh1cmwub3JpZ2luID09PSBjdXJyZW50VXJsLm9yaWdpbiAmJiBpc1NhbWVCYXNlbmFtZSkge1xuICAgICAgcmV0dXJuIHVybC5wYXRobmFtZSArIHVybC5zZWFyY2ggKyB1cmwuaGFzaDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxvY2F0aW9uO1xufVxuXG4vLyBVdGlsaXR5IG1ldGhvZCBmb3IgY3JlYXRpbmcgdGhlIFJlcXVlc3QgaW5zdGFuY2VzIGZvciBsb2FkZXJzL2FjdGlvbnMgZHVyaW5nXG4vLyBjbGllbnQtc2lkZSBuYXZpZ2F0aW9ucyBhbmQgZmV0Y2hlcy4gIER1cmluZyBTU1Igd2Ugd2lsbCBhbHdheXMgaGF2ZSBhXG4vLyBSZXF1ZXN0IGluc3RhbmNlIGZyb20gdGhlIHN0YXRpYyBoYW5kbGVyIChxdWVyeS9xdWVyeVJvdXRlKVxuZnVuY3Rpb24gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gIGhpc3Rvcnk6IEhpc3RvcnksXG4gIGxvY2F0aW9uOiBzdHJpbmcgfCBMb2NhdGlvbixcbiAgc2lnbmFsOiBBYm9ydFNpZ25hbCxcbiAgc3VibWlzc2lvbj86IFN1Ym1pc3Npb25cbik6IFJlcXVlc3Qge1xuICBsZXQgdXJsID0gaGlzdG9yeS5jcmVhdGVVUkwoc3RyaXBIYXNoRnJvbVBhdGgobG9jYXRpb24pKS50b1N0cmluZygpO1xuICBsZXQgaW5pdDogUmVxdWVzdEluaXQgPSB7IHNpZ25hbCB9O1xuXG4gIGlmIChzdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgIGxldCB7IGZvcm1NZXRob2QsIGZvcm1FbmNUeXBlIH0gPSBzdWJtaXNzaW9uO1xuICAgIC8vIERpZG4ndCB0aGluayB3ZSBuZWVkZWQgdGhpcyBidXQgaXQgdHVybnMgb3V0IHVubGlrZSBvdGhlciBtZXRob2RzLCBwYXRjaFxuICAgIC8vIHdvbid0IGJlIHByb3Blcmx5IG5vcm1hbGl6ZWQgdG8gdXBwZXJjYXNlIGFuZCByZXN1bHRzIGluIGEgNDA1IGVycm9yLlxuICAgIC8vIFNlZTogaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtbWV0aG9kXG4gICAgaW5pdC5tZXRob2QgPSBmb3JtTWV0aG9kLnRvVXBwZXJDYXNlKCk7XG5cbiAgICBpZiAoZm9ybUVuY1R5cGUgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICBpbml0LmhlYWRlcnMgPSBuZXcgSGVhZGVycyh7IFwiQ29udGVudC1UeXBlXCI6IGZvcm1FbmNUeXBlIH0pO1xuICAgICAgaW5pdC5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoc3VibWlzc2lvbi5qc29uKTtcbiAgICB9IGVsc2UgaWYgKGZvcm1FbmNUeXBlID09PSBcInRleHQvcGxhaW5cIikge1xuICAgICAgLy8gQ29udGVudC1UeXBlIGlzIGluZmVycmVkIChodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jZG9tLXJlcXVlc3QpXG4gICAgICBpbml0LmJvZHkgPSBzdWJtaXNzaW9uLnRleHQ7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGZvcm1FbmNUeXBlID09PSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICYmXG4gICAgICBzdWJtaXNzaW9uLmZvcm1EYXRhXG4gICAgKSB7XG4gICAgICAvLyBDb250ZW50LVR5cGUgaXMgaW5mZXJyZWQgKGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNkb20tcmVxdWVzdClcbiAgICAgIGluaXQuYm9keSA9IGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKHN1Ym1pc3Npb24uZm9ybURhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb250ZW50LVR5cGUgaXMgaW5mZXJyZWQgKGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNkb20tcmVxdWVzdClcbiAgICAgIGluaXQuYm9keSA9IHN1Ym1pc3Npb24uZm9ybURhdGE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybCwgaW5pdCk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKGZvcm1EYXRhOiBGb3JtRGF0YSk6IFVSTFNlYXJjaFBhcmFtcyB7XG4gIGxldCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG5cbiAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIGZvcm1EYXRhLmVudHJpZXMoKSkge1xuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm0tY29udHJvbC1pbmZyYXN0cnVjdHVyZS5odG1sI2NvbnZlcnRpbmctYW4tZW50cnktbGlzdC10by1hLWxpc3Qtb2YtbmFtZS12YWx1ZS1wYWlyc1xuICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IHZhbHVlLm5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHNlYXJjaFBhcmFtcztcbn1cblxuZnVuY3Rpb24gY29udmVydFNlYXJjaFBhcmFtc1RvRm9ybURhdGEoXG4gIHNlYXJjaFBhcmFtczogVVJMU2VhcmNoUGFyYW1zXG4pOiBGb3JtRGF0YSB7XG4gIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2Ygc2VhcmNoUGFyYW1zLmVudHJpZXMoKSkge1xuICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEoXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgcmVzdWx0czogUmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD4sXG4gIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFBlbmRpbmdBY3Rpb25SZXN1bHQgfCB1bmRlZmluZWQsXG4gIGFjdGl2ZURlZmVycmVkczogTWFwPHN0cmluZywgRGVmZXJyZWREYXRhPixcbiAgc2tpcExvYWRlckVycm9yQnViYmxpbmc6IGJvb2xlYW5cbik6IHtcbiAgbG9hZGVyRGF0YTogUm91dGVyU3RhdGVbXCJsb2FkZXJEYXRhXCJdO1xuICBlcnJvcnM6IFJvdXRlclN0YXRlW1wiZXJyb3JzXCJdIHwgbnVsbDtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xuICBsb2FkZXJIZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBIZWFkZXJzPjtcbn0ge1xuICAvLyBGaWxsIGluIGxvYWRlckRhdGEvZXJyb3JzIGZyb20gb3VyIGxvYWRlcnNcbiAgbGV0IGxvYWRlckRhdGE6IFJvdXRlclN0YXRlW1wibG9hZGVyRGF0YVwiXSA9IHt9O1xuICBsZXQgZXJyb3JzOiBSb3V0ZXJTdGF0ZVtcImVycm9yc1wiXSB8IG51bGwgPSBudWxsO1xuICBsZXQgc3RhdHVzQ29kZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBsZXQgZm91bmRFcnJvciA9IGZhbHNlO1xuICBsZXQgbG9hZGVySGVhZGVyczogUmVjb3JkPHN0cmluZywgSGVhZGVycz4gPSB7fTtcbiAgbGV0IHBlbmRpbmdFcnJvciA9XG4gICAgcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pXG4gICAgICA/IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3JcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gIC8vIFByb2Nlc3MgbG9hZGVyIHJlc3VsdHMgaW50byBzdGF0ZS5sb2FkZXJEYXRhL3N0YXRlLmVycm9yc1xuICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgaWYgKCEobWF0Y2gucm91dGUuaWQgaW4gcmVzdWx0cykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbaWRdO1xuICAgIGludmFyaWFudChcbiAgICAgICFpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCksXG4gICAgICBcIkNhbm5vdCBoYW5kbGUgcmVkaXJlY3QgcmVzdWx0cyBpbiBwcm9jZXNzTG9hZGVyRGF0YVwiXG4gICAgKTtcbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgZXJyb3IgPSByZXN1bHQuZXJyb3I7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgcGVuZGluZyBhY3Rpb24gZXJyb3IsIHdlIHJlcG9ydCBpdCBhdCB0aGUgaGlnaGVzdC1yb3V0ZVxuICAgICAgLy8gdGhhdCB0aHJvd3MgYSBsb2FkZXIgZXJyb3IsIGFuZCB0aGVuIGNsZWFyIGl0IG91dCB0byBpbmRpY2F0ZSB0aGF0XG4gICAgICAvLyBpdCB3YXMgY29uc3VtZWRcbiAgICAgIGlmIChwZW5kaW5nRXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlcnJvciA9IHBlbmRpbmdFcnJvcjtcbiAgICAgICAgcGVuZGluZ0Vycm9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBlcnJvcnMgPSBlcnJvcnMgfHwge307XG5cbiAgICAgIGlmIChza2lwTG9hZGVyRXJyb3JCdWJibGluZykge1xuICAgICAgICBlcnJvcnNbaWRdID0gZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBMb29rIHVwd2FyZHMgZnJvbSB0aGUgbWF0Y2hlZCByb3V0ZSBmb3IgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgZXJyb3JcbiAgICAgICAgLy8gYm91bmRhcnksIGRlZmF1bHRpbmcgdG8gdGhlIHJvb3QgbWF0Y2guICBQcmVmZXIgaGlnaGVyIGVycm9yIHZhbHVlc1xuICAgICAgICAvLyBpZiBsb3dlciBlcnJvcnMgYnViYmxlIHRvIHRoZSBzYW1lIGJvdW5kYXJ5XG4gICAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBpZCk7XG4gICAgICAgIGlmIChlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0gPT0gbnVsbCkge1xuICAgICAgICAgIGVycm9yc1tib3VuZGFyeU1hdGNoLnJvdXRlLmlkXSA9IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIG91ciBhbnkgcHJpb3IgbG9hZGVyRGF0YSBmb3IgdGhlIHRocm93aW5nIHJvdXRlXG4gICAgICBsb2FkZXJEYXRhW2lkXSA9IHVuZGVmaW5lZDtcblxuICAgICAgLy8gT25jZSB3ZSBmaW5kIG91ciBmaXJzdCAoaGlnaGVzdCkgZXJyb3IsIHdlIHNldCB0aGUgc3RhdHVzIGNvZGUgYW5kXG4gICAgICAvLyBwcmV2ZW50IGRlZXBlciBzdGF0dXMgY29kZXMgZnJvbSBvdmVycmlkaW5nXG4gICAgICBpZiAoIWZvdW5kRXJyb3IpIHtcbiAgICAgICAgZm91bmRFcnJvciA9IHRydWU7XG4gICAgICAgIHN0YXR1c0NvZGUgPSBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpXG4gICAgICAgICAgPyByZXN1bHQuZXJyb3Iuc3RhdHVzXG4gICAgICAgICAgOiA1MDA7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0LmhlYWRlcnMpIHtcbiAgICAgICAgbG9hZGVySGVhZGVyc1tpZF0gPSByZXN1bHQuaGVhZGVycztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzRGVmZXJyZWRSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICBhY3RpdmVEZWZlcnJlZHMuc2V0KGlkLCByZXN1bHQuZGVmZXJyZWREYXRhKTtcbiAgICAgICAgbG9hZGVyRGF0YVtpZF0gPSByZXN1bHQuZGVmZXJyZWREYXRhLmRhdGE7XG4gICAgICAgIC8vIEVycm9yIHN0YXR1cyBjb2RlcyBhbHdheXMgb3ZlcnJpZGUgc3VjY2VzcyBzdGF0dXMgY29kZXMsIGJ1dCBpZiBhbGxcbiAgICAgICAgLy8gbG9hZGVycyBhcmUgc3VjY2Vzc2Z1bCB3ZSB0YWtlIHRoZSBkZWVwZXN0IHN0YXR1cyBjb2RlLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgcmVzdWx0LnN0YXR1c0NvZGUgIT0gbnVsbCAmJlxuICAgICAgICAgIHJlc3VsdC5zdGF0dXNDb2RlICE9PSAyMDAgJiZcbiAgICAgICAgICAhZm91bmRFcnJvclxuICAgICAgICApIHtcbiAgICAgICAgICBzdGF0dXNDb2RlID0gcmVzdWx0LnN0YXR1c0NvZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5oZWFkZXJzKSB7XG4gICAgICAgICAgbG9hZGVySGVhZGVyc1tpZF0gPSByZXN1bHQuaGVhZGVycztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZGVyRGF0YVtpZF0gPSByZXN1bHQuZGF0YTtcbiAgICAgICAgLy8gRXJyb3Igc3RhdHVzIGNvZGVzIGFsd2F5cyBvdmVycmlkZSBzdWNjZXNzIHN0YXR1cyBjb2RlcywgYnV0IGlmIGFsbFxuICAgICAgICAvLyBsb2FkZXJzIGFyZSBzdWNjZXNzZnVsIHdlIHRha2UgdGhlIGRlZXBlc3Qgc3RhdHVzIGNvZGUuXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzQ29kZSAmJiByZXN1bHQuc3RhdHVzQ29kZSAhPT0gMjAwICYmICFmb3VuZEVycm9yKSB7XG4gICAgICAgICAgc3RhdHVzQ29kZSA9IHJlc3VsdC5zdGF0dXNDb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQuaGVhZGVycykge1xuICAgICAgICAgIGxvYWRlckhlYWRlcnNbaWRdID0gcmVzdWx0LmhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIElmIHdlIGRpZG4ndCBjb25zdW1lIHRoZSBwZW5kaW5nIGFjdGlvbiBlcnJvciAoaS5lLiwgYWxsIGxvYWRlcnNcbiAgLy8gcmVzb2x2ZWQpLCB0aGVuIGNvbnN1bWUgaXQgaGVyZS4gIEFsc28gY2xlYXIgb3V0IGFueSBsb2FkZXJEYXRhIGZvciB0aGVcbiAgLy8gdGhyb3dpbmcgcm91dGVcbiAgaWYgKHBlbmRpbmdFcnJvciAhPT0gdW5kZWZpbmVkICYmIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICBlcnJvcnMgPSB7IFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0Vycm9yIH07XG4gICAgbG9hZGVyRGF0YVtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbG9hZGVyRGF0YSxcbiAgICBlcnJvcnMsXG4gICAgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSB8fCAyMDAsXG4gICAgbG9hZGVySGVhZGVycyxcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0xvYWRlckRhdGEoXG4gIHN0YXRlOiBSb3V0ZXJTdGF0ZSxcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICByZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0PixcbiAgcGVuZGluZ0FjdGlvblJlc3VsdDogUGVuZGluZ0FjdGlvblJlc3VsdCB8IHVuZGVmaW5lZCxcbiAgcmV2YWxpZGF0aW5nRmV0Y2hlcnM6IFJldmFsaWRhdGluZ0ZldGNoZXJbXSxcbiAgZmV0Y2hlclJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+LFxuICBhY3RpdmVEZWZlcnJlZHM6IE1hcDxzdHJpbmcsIERlZmVycmVkRGF0YT5cbik6IHtcbiAgbG9hZGVyRGF0YTogUm91dGVyU3RhdGVbXCJsb2FkZXJEYXRhXCJdO1xuICBlcnJvcnM/OiBSb3V0ZXJTdGF0ZVtcImVycm9yc1wiXTtcbn0ge1xuICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEoXG4gICAgbWF0Y2hlcyxcbiAgICByZXN1bHRzLFxuICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQsXG4gICAgYWN0aXZlRGVmZXJyZWRzLFxuICAgIGZhbHNlIC8vIFRoaXMgbWV0aG9kIGlzIG9ubHkgY2FsbGVkIGNsaWVudCBzaWRlIHNvIHdlIGFsd2F5cyB3YW50IHRvIGJ1YmJsZVxuICApO1xuXG4gIC8vIFByb2Nlc3MgcmVzdWx0cyBmcm9tIG91ciByZXZhbGlkYXRpbmcgZmV0Y2hlcnNcbiAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IHtcbiAgICBsZXQgeyBrZXksIG1hdGNoLCBjb250cm9sbGVyIH0gPSByZjtcbiAgICBsZXQgcmVzdWx0ID0gZmV0Y2hlclJlc3VsdHNba2V5XTtcbiAgICBpbnZhcmlhbnQocmVzdWx0LCBcIkRpZCBub3QgZmluZCBjb3JyZXNwb25kaW5nIGZldGNoZXIgcmVzdWx0XCIpO1xuXG4gICAgLy8gUHJvY2VzcyBmZXRjaGVyIG5vbi1yZWRpcmVjdCBlcnJvcnNcbiAgICBpZiAoY29udHJvbGxlciAmJiBjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAvLyBOb3RoaW5nIHRvIGRvIGZvciBhYm9ydGVkIGZldGNoZXJzXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShzdGF0ZS5tYXRjaGVzLCBtYXRjaD8ucm91dGUuaWQpO1xuICAgICAgaWYgKCEoZXJyb3JzICYmIGVycm9yc1tib3VuZGFyeU1hdGNoLnJvdXRlLmlkXSkpIHtcbiAgICAgICAgZXJyb3JzID0ge1xuICAgICAgICAgIC4uLmVycm9ycyxcbiAgICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5lcnJvcixcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICAgIH0gZWxzZSBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAvLyBTaG91bGQgbmV2ZXIgZ2V0IGhlcmUsIHJlZGlyZWN0cyBzaG91bGQgZ2V0IHByb2Nlc3NlZCBhYm92ZSwgYnV0IHdlXG4gICAgICAvLyBrZWVwIHRoaXMgdG8gdHlwZSBuYXJyb3cgdG8gYSBzdWNjZXNzIHJlc3VsdCBpbiB0aGUgZWxzZVxuICAgICAgaW52YXJpYW50KGZhbHNlLCBcIlVuaGFuZGxlZCBmZXRjaGVyIHJldmFsaWRhdGlvbiByZWRpcmVjdFwiKTtcbiAgICB9IGVsc2UgaWYgKGlzRGVmZXJyZWRSZXN1bHQocmVzdWx0KSkge1xuICAgICAgLy8gU2hvdWxkIG5ldmVyIGdldCBoZXJlLCBkZWZlcnJlZCBkYXRhIHNob3VsZCBiZSBhd2FpdGVkIGZvciBmZXRjaGVyc1xuICAgICAgLy8gaW4gcmVzb2x2ZURlZmVycmVkUmVzdWx0c1xuICAgICAgaW52YXJpYW50KGZhbHNlLCBcIlVuaGFuZGxlZCBmZXRjaGVyIGRlZmVycmVkIGRhdGFcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBkb25lRmV0Y2hlciA9IGdldERvbmVGZXRjaGVyKHJlc3VsdC5kYXRhKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGRvbmVGZXRjaGVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IGxvYWRlckRhdGEsIGVycm9ycyB9O1xufVxuXG5mdW5jdGlvbiBtZXJnZUxvYWRlckRhdGEoXG4gIGxvYWRlckRhdGE6IFJvdXRlRGF0YSxcbiAgbmV3TG9hZGVyRGF0YTogUm91dGVEYXRhLFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIGVycm9yczogUm91dGVEYXRhIHwgbnVsbCB8IHVuZGVmaW5lZFxuKTogUm91dGVEYXRhIHtcbiAgbGV0IG1lcmdlZExvYWRlckRhdGEgPSB7IC4uLm5ld0xvYWRlckRhdGEgfTtcbiAgZm9yIChsZXQgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgIGxldCBpZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgIGlmIChuZXdMb2FkZXJEYXRhLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgaWYgKG5ld0xvYWRlckRhdGFbaWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWVyZ2VkTG9hZGVyRGF0YVtpZF0gPSBuZXdMb2FkZXJEYXRhW2lkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vLW9wIC0gdGhpcyBpcyBzbyB3ZSBpZ25vcmUgZXhpc3RpbmcgZGF0YSBpZiB3ZSBoYXZlIGEga2V5IGluIHRoZVxuICAgICAgICAvLyBpbmNvbWluZyBvYmplY3Qgd2l0aCBhbiB1bmRlZmluZWQgdmFsdWUsIHdoaWNoIGlzIGhvdyB3ZSB1bnNldCBhIHByaW9yXG4gICAgICAgIC8vIGxvYWRlckRhdGEgaWYgd2UgZW5jb3VudGVyIGEgbG9hZGVyIGVycm9yXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsb2FkZXJEYXRhW2lkXSAhPT0gdW5kZWZpbmVkICYmIG1hdGNoLnJvdXRlLmxvYWRlcikge1xuICAgICAgLy8gUHJlc2VydmUgZXhpc3Rpbmcga2V5cyBub3QgaW5jbHVkZWQgaW4gbmV3TG9hZGVyRGF0YSBhbmQgd2hlcmUgYSBsb2FkZXJcbiAgICAgIC8vIHdhc24ndCByZW1vdmVkIGJ5IEhNUlxuICAgICAgbWVyZ2VkTG9hZGVyRGF0YVtpZF0gPSBsb2FkZXJEYXRhW2lkXTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzICYmIGVycm9ycy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgIC8vIERvbid0IGtlZXAgYW55IGxvYWRlciBkYXRhIGJlbG93IHRoZSBib3VuZGFyeVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBtZXJnZWRMb2FkZXJEYXRhO1xufVxuXG5mdW5jdGlvbiBnZXRBY3Rpb25EYXRhRm9yQ29tbWl0KFxuICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBQZW5kaW5nQWN0aW9uUmVzdWx0IHwgdW5kZWZpbmVkXG4pIHtcbiAgaWYgKCFwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHJldHVybiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pXG4gICAgPyB7XG4gICAgICAgIC8vIENsZWFyIG91dCBwcmlvciBhY3Rpb25EYXRhIG9uIGVycm9yc1xuICAgICAgICBhY3Rpb25EYXRhOiB7fSxcbiAgICAgIH1cbiAgICA6IHtcbiAgICAgICAgYWN0aW9uRGF0YToge1xuICAgICAgICAgIFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5kYXRhLFxuICAgICAgICB9LFxuICAgICAgfTtcbn1cblxuLy8gRmluZCB0aGUgbmVhcmVzdCBlcnJvciBib3VuZGFyeSwgbG9va2luZyB1cHdhcmRzIGZyb20gdGhlIGxlYWYgcm91dGUgKG9yIHRoZVxuLy8gcm91dGUgc3BlY2lmaWVkIGJ5IHJvdXRlSWQpIGZvciB0aGUgY2xvc2VzdCBhbmNlc3RvciBlcnJvciBib3VuZGFyeSxcbi8vIGRlZmF1bHRpbmcgdG8gdGhlIHJvb3QgbWF0Y2hcbmZ1bmN0aW9uIGZpbmROZWFyZXN0Qm91bmRhcnkoXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgcm91dGVJZD86IHN0cmluZ1xuKTogQWdub3N0aWNEYXRhUm91dGVNYXRjaCB7XG4gIGxldCBlbGlnaWJsZU1hdGNoZXMgPSByb3V0ZUlkXG4gICAgPyBtYXRjaGVzLnNsaWNlKDAsIG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSArIDEpXG4gICAgOiBbLi4ubWF0Y2hlc107XG4gIHJldHVybiAoXG4gICAgZWxpZ2libGVNYXRjaGVzLnJldmVyc2UoKS5maW5kKChtKSA9PiBtLnJvdXRlLmhhc0Vycm9yQm91bmRhcnkgPT09IHRydWUpIHx8XG4gICAgbWF0Y2hlc1swXVxuICApO1xufVxuXG5mdW5jdGlvbiBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKHJvdXRlczogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXSk6IHtcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdO1xuICByb3V0ZTogQWdub3N0aWNEYXRhUm91dGVPYmplY3Q7XG59IHtcbiAgLy8gUHJlZmVyIGEgcm9vdCBsYXlvdXQgcm91dGUgaWYgcHJlc2VudCwgb3RoZXJ3aXNlIHNoaW0gaW4gYSByb3V0ZSBvYmplY3RcbiAgbGV0IHJvdXRlID1cbiAgICByb3V0ZXMubGVuZ3RoID09PSAxXG4gICAgICA/IHJvdXRlc1swXVxuICAgICAgOiByb3V0ZXMuZmluZCgocikgPT4gci5pbmRleCB8fCAhci5wYXRoIHx8IHIucGF0aCA9PT0gXCIvXCIpIHx8IHtcbiAgICAgICAgICBpZDogYF9fc2hpbS1lcnJvci1yb3V0ZV9fYCxcbiAgICAgICAgfTtcblxuICByZXR1cm4ge1xuICAgIG1hdGNoZXM6IFtcbiAgICAgIHtcbiAgICAgICAgcGFyYW1zOiB7fSxcbiAgICAgICAgcGF0aG5hbWU6IFwiXCIsXG4gICAgICAgIHBhdGhuYW1lQmFzZTogXCJcIixcbiAgICAgICAgcm91dGUsXG4gICAgICB9LFxuICAgIF0sXG4gICAgcm91dGUsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldEludGVybmFsUm91dGVyRXJyb3IoXG4gIHN0YXR1czogbnVtYmVyLFxuICB7XG4gICAgcGF0aG5hbWUsXG4gICAgcm91dGVJZCxcbiAgICBtZXRob2QsXG4gICAgdHlwZSxcbiAgICBtZXNzYWdlLFxuICB9OiB7XG4gICAgcGF0aG5hbWU/OiBzdHJpbmc7XG4gICAgcm91dGVJZD86IHN0cmluZztcbiAgICBtZXRob2Q/OiBzdHJpbmc7XG4gICAgdHlwZT86IFwiZGVmZXItYWN0aW9uXCIgfCBcImludmFsaWQtYm9keVwiO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH0gPSB7fVxuKSB7XG4gIGxldCBzdGF0dXNUZXh0ID0gXCJVbmtub3duIFNlcnZlciBFcnJvclwiO1xuICBsZXQgZXJyb3JNZXNzYWdlID0gXCJVbmtub3duIEByZW1peC1ydW4vcm91dGVyIGVycm9yXCI7XG5cbiAgaWYgKHN0YXR1cyA9PT0gNDAwKSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiQmFkIFJlcXVlc3RcIjtcbiAgICBpZiAobWV0aG9kICYmIHBhdGhuYW1lICYmIHJvdXRlSWQpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9XG4gICAgICAgIGBZb3UgbWFkZSBhICR7bWV0aG9kfSByZXF1ZXN0IHRvIFwiJHtwYXRobmFtZX1cIiBidXQgYCArXG4gICAgICAgIGBkaWQgbm90IHByb3ZpZGUgYSBcXGBsb2FkZXJcXGAgZm9yIHJvdXRlIFwiJHtyb3V0ZUlkfVwiLCBgICtcbiAgICAgICAgYHNvIHRoZXJlIGlzIG5vIHdheSB0byBoYW5kbGUgdGhlIHJlcXVlc3QuYDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZGVmZXItYWN0aW9uXCIpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IFwiZGVmZXIoKSBpcyBub3Qgc3VwcG9ydGVkIGluIGFjdGlvbnNcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiaW52YWxpZC1ib2R5XCIpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IFwiVW5hYmxlIHRvIGVuY29kZSBzdWJtaXNzaW9uIGJvZHlcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJGb3JiaWRkZW5cIjtcbiAgICBlcnJvck1lc3NhZ2UgPSBgUm91dGUgXCIke3JvdXRlSWR9XCIgZG9lcyBub3QgbWF0Y2ggVVJMIFwiJHtwYXRobmFtZX1cImA7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJOb3QgRm91bmRcIjtcbiAgICBlcnJvck1lc3NhZ2UgPSBgTm8gcm91dGUgbWF0Y2hlcyBVUkwgXCIke3BhdGhuYW1lfVwiYDtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwNSkge1xuICAgIHN0YXR1c1RleHQgPSBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiO1xuICAgIGlmIChtZXRob2QgJiYgcGF0aG5hbWUgJiYgcm91dGVJZCkge1xuICAgICAgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgYFlvdSBtYWRlIGEgJHttZXRob2QudG9VcHBlckNhc2UoKX0gcmVxdWVzdCB0byBcIiR7cGF0aG5hbWV9XCIgYnV0IGAgK1xuICAgICAgICBgZGlkIG5vdCBwcm92aWRlIGFuIFxcYGFjdGlvblxcYCBmb3Igcm91dGUgXCIke3JvdXRlSWR9XCIsIGAgK1xuICAgICAgICBgc28gdGhlcmUgaXMgbm8gd2F5IHRvIGhhbmRsZSB0aGUgcmVxdWVzdC5gO1xuICAgIH0gZWxzZSBpZiAobWV0aG9kKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBgSW52YWxpZCByZXF1ZXN0IG1ldGhvZCBcIiR7bWV0aG9kLnRvVXBwZXJDYXNlKCl9XCJgO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgc3RhdHVzIHx8IDUwMCxcbiAgICBzdGF0dXNUZXh0LFxuICAgIG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgIHRydWVcbiAgKTtcbn1cblxuLy8gRmluZCBhbnkgcmV0dXJuZWQgcmVkaXJlY3QgZXJyb3JzLCBzdGFydGluZyBmcm9tIHRoZSBsb3dlc3QgbWF0Y2hcbmZ1bmN0aW9uIGZpbmRSZWRpcmVjdChcbiAgcmVzdWx0czogUmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD5cbik6IHsga2V5OiBzdHJpbmc7IHJlc3VsdDogUmVkaXJlY3RSZXN1bHQgfSB8IHVuZGVmaW5lZCB7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocmVzdWx0cyk7XG4gIGZvciAobGV0IGkgPSBlbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IFtrZXksIHJlc3VsdF0gPSBlbnRyaWVzW2ldO1xuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiB7IGtleSwgcmVzdWx0IH07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0cmlwSGFzaEZyb21QYXRoKHBhdGg6IFRvKSB7XG4gIGxldCBwYXJzZWRQYXRoID0gdHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgocGF0aCkgOiBwYXRoO1xuICByZXR1cm4gY3JlYXRlUGF0aCh7IC4uLnBhcnNlZFBhdGgsIGhhc2g6IFwiXCIgfSk7XG59XG5cbmZ1bmN0aW9uIGlzSGFzaENoYW5nZU9ubHkoYTogTG9jYXRpb24sIGI6IExvY2F0aW9uKTogYm9vbGVhbiB7XG4gIGlmIChhLnBhdGhuYW1lICE9PSBiLnBhdGhuYW1lIHx8IGEuc2VhcmNoICE9PSBiLnNlYXJjaCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhLmhhc2ggPT09IFwiXCIpIHtcbiAgICAvLyAvcGFnZSAtPiAvcGFnZSNoYXNoXG4gICAgcmV0dXJuIGIuaGFzaCAhPT0gXCJcIjtcbiAgfSBlbHNlIGlmIChhLmhhc2ggPT09IGIuaGFzaCkge1xuICAgIC8vIC9wYWdlI2hhc2ggLT4gL3BhZ2UjaGFzaFxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGIuaGFzaCAhPT0gXCJcIikge1xuICAgIC8vIC9wYWdlI2hhc2ggLT4gL3BhZ2Ujb3RoZXJcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIElmIHRoZSBoYXNoIGlzIHJlbW92ZWQgdGhlIGJyb3dzZXIgd2lsbCByZS1wZXJmb3JtIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyXG4gIC8vIC9wYWdlI2hhc2ggLT4gL3BhZ2VcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1Byb21pc2U8VCA9IHVua25vd24+KHZhbDogdW5rbm93bik6IHZhbCBpcyBQcm9taXNlPFQ+IHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIgJiYgdmFsICE9IG51bGwgJiYgXCJ0aGVuXCIgaW4gdmFsO1xufVxuXG5mdW5jdGlvbiBpc0RhdGFTdHJhdGVneVJlc3VsdChyZXN1bHQ6IHVua25vd24pOiByZXN1bHQgaXMgRGF0YVN0cmF0ZWd5UmVzdWx0IHtcbiAgcmV0dXJuIChcbiAgICByZXN1bHQgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiByZXN1bHQgPT09IFwib2JqZWN0XCIgJiZcbiAgICBcInR5cGVcIiBpbiByZXN1bHQgJiZcbiAgICBcInJlc3VsdFwiIGluIHJlc3VsdCAmJlxuICAgIChyZXN1bHQudHlwZSA9PT0gUmVzdWx0VHlwZS5kYXRhIHx8IHJlc3VsdC50eXBlID09PSBSZXN1bHRUeXBlLmVycm9yKVxuICApO1xufVxuXG5mdW5jdGlvbiBpc1JlZGlyZWN0RGF0YVN0cmF0ZWd5UmVzdWx0UmVzdWx0KHJlc3VsdDogRGF0YVN0cmF0ZWd5UmVzdWx0KSB7XG4gIHJldHVybiAoXG4gICAgaXNSZXNwb25zZShyZXN1bHQucmVzdWx0KSAmJiByZWRpcmVjdFN0YXR1c0NvZGVzLmhhcyhyZXN1bHQucmVzdWx0LnN0YXR1cylcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNEZWZlcnJlZFJlc3VsdChyZXN1bHQ6IERhdGFSZXN1bHQpOiByZXN1bHQgaXMgRGVmZXJyZWRSZXN1bHQge1xuICByZXR1cm4gcmVzdWx0LnR5cGUgPT09IFJlc3VsdFR5cGUuZGVmZXJyZWQ7XG59XG5cbmZ1bmN0aW9uIGlzRXJyb3JSZXN1bHQocmVzdWx0OiBEYXRhUmVzdWx0KTogcmVzdWx0IGlzIEVycm9yUmVzdWx0IHtcbiAgcmV0dXJuIHJlc3VsdC50eXBlID09PSBSZXN1bHRUeXBlLmVycm9yO1xufVxuXG5mdW5jdGlvbiBpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdD86IERhdGFSZXN1bHQpOiByZXN1bHQgaXMgUmVkaXJlY3RSZXN1bHQge1xuICByZXR1cm4gKHJlc3VsdCAmJiByZXN1bHQudHlwZSkgPT09IFJlc3VsdFR5cGUucmVkaXJlY3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGFXaXRoUmVzcG9uc2VJbml0KFxuICB2YWx1ZTogYW55XG4pOiB2YWx1ZSBpcyBEYXRhV2l0aFJlc3BvbnNlSW5pdDx1bmtub3duPiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgdmFsdWUgIT0gbnVsbCAmJlxuICAgIFwidHlwZVwiIGluIHZhbHVlICYmXG4gICAgXCJkYXRhXCIgaW4gdmFsdWUgJiZcbiAgICBcImluaXRcIiBpbiB2YWx1ZSAmJlxuICAgIHZhbHVlLnR5cGUgPT09IFwiRGF0YVdpdGhSZXNwb25zZUluaXRcIlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZlcnJlZERhdGEodmFsdWU6IGFueSk6IHZhbHVlIGlzIERlZmVycmVkRGF0YSB7XG4gIGxldCBkZWZlcnJlZDogRGVmZXJyZWREYXRhID0gdmFsdWU7XG4gIHJldHVybiAoXG4gICAgZGVmZXJyZWQgJiZcbiAgICB0eXBlb2YgZGVmZXJyZWQgPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgZGVmZXJyZWQuZGF0YSA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHR5cGVvZiBkZWZlcnJlZC5zdWJzY3JpYmUgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIHR5cGVvZiBkZWZlcnJlZC5jYW5jZWwgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIHR5cGVvZiBkZWZlcnJlZC5yZXNvbHZlRGF0YSA9PT0gXCJmdW5jdGlvblwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzUmVzcG9uc2UodmFsdWU6IGFueSk6IHZhbHVlIGlzIFJlc3BvbnNlIHtcbiAgcmV0dXJuIChcbiAgICB2YWx1ZSAhPSBudWxsICYmXG4gICAgdHlwZW9mIHZhbHVlLnN0YXR1cyA9PT0gXCJudW1iZXJcIiAmJlxuICAgIHR5cGVvZiB2YWx1ZS5zdGF0dXNUZXh0ID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIHZhbHVlLmhlYWRlcnMgPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgdmFsdWUuYm9keSAhPT0gXCJ1bmRlZmluZWRcIlxuICApO1xufVxuXG5mdW5jdGlvbiBpc1JlZGlyZWN0UmVzcG9uc2UocmVzdWx0OiBhbnkpOiByZXN1bHQgaXMgUmVzcG9uc2Uge1xuICBpZiAoIWlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBzdGF0dXMgPSByZXN1bHQuc3RhdHVzO1xuICBsZXQgbG9jYXRpb24gPSByZXN1bHQuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgcmV0dXJuIHN0YXR1cyA+PSAzMDAgJiYgc3RhdHVzIDw9IDM5OSAmJiBsb2NhdGlvbiAhPSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkTWV0aG9kKG1ldGhvZDogc3RyaW5nKTogbWV0aG9kIGlzIEZvcm1NZXRob2QgfCBWN19Gb3JtTWV0aG9kIHtcbiAgcmV0dXJuIHZhbGlkUmVxdWVzdE1ldGhvZHMuaGFzKG1ldGhvZC50b0xvd2VyQ2FzZSgpIGFzIEZvcm1NZXRob2QpO1xufVxuXG5mdW5jdGlvbiBpc011dGF0aW9uTWV0aG9kKFxuICBtZXRob2Q6IHN0cmluZ1xuKTogbWV0aG9kIGlzIE11dGF0aW9uRm9ybU1ldGhvZCB8IFY3X011dGF0aW9uRm9ybU1ldGhvZCB7XG4gIHJldHVybiB2YWxpZE11dGF0aW9uTWV0aG9kcy5oYXMobWV0aG9kLnRvTG93ZXJDYXNlKCkgYXMgTXV0YXRpb25Gb3JtTWV0aG9kKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZU5hdmlnYXRpb25EZWZlcnJlZFJlc3VsdHMoXG4gIG1hdGNoZXM6IChBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoIHwgbnVsbClbXSxcbiAgcmVzdWx0czogUmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD4sXG4gIHNpZ25hbDogQWJvcnRTaWduYWwsXG4gIGN1cnJlbnRNYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIGN1cnJlbnRMb2FkZXJEYXRhOiBSb3V0ZURhdGFcbikge1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHJlc3VsdHMpO1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZW50cmllcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBsZXQgW3JvdXRlSWQsIHJlc3VsdF0gPSBlbnRyaWVzW2luZGV4XTtcbiAgICBsZXQgbWF0Y2ggPSBtYXRjaGVzLmZpbmQoKG0pID0+IG0/LnJvdXRlLmlkID09PSByb3V0ZUlkKTtcbiAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgbWF0Y2gsIHRoZW4gd2UgY2FuIGhhdmUgYSBkZWZlcnJlZCByZXN1bHQgdG8gZG9cbiAgICAvLyBhbnl0aGluZyB3aXRoLiAgVGhpcyBpcyBmb3IgcmV2YWxpZGF0aW5nIGZldGNoZXJzIHdoZXJlIHRoZSByb3V0ZSB3YXNcbiAgICAvLyByZW1vdmVkIGR1cmluZyBITVJcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBsZXQgY3VycmVudE1hdGNoID0gY3VycmVudE1hdGNoZXMuZmluZChcbiAgICAgIChtKSA9PiBtLnJvdXRlLmlkID09PSBtYXRjaCEucm91dGUuaWRcbiAgICApO1xuICAgIGxldCBpc1JldmFsaWRhdGluZ0xvYWRlciA9XG4gICAgICBjdXJyZW50TWF0Y2ggIT0gbnVsbCAmJlxuICAgICAgIWlzTmV3Um91dGVJbnN0YW5jZShjdXJyZW50TWF0Y2gsIG1hdGNoKSAmJlxuICAgICAgKGN1cnJlbnRMb2FkZXJEYXRhICYmIGN1cnJlbnRMb2FkZXJEYXRhW21hdGNoLnJvdXRlLmlkXSkgIT09IHVuZGVmaW5lZDtcblxuICAgIGlmIChpc0RlZmVycmVkUmVzdWx0KHJlc3VsdCkgJiYgaXNSZXZhbGlkYXRpbmdMb2FkZXIpIHtcbiAgICAgIC8vIE5vdGU6IHdlIGRvIG5vdCBoYXZlIHRvIHRvdWNoIGFjdGl2ZURlZmVycmVkcyBoZXJlIHNpbmNlIHdlIHJhY2UgdGhlbVxuICAgICAgLy8gYWdhaW5zdCB0aGUgc2lnbmFsIGluIHJlc29sdmVEZWZlcnJlZERhdGEgYW5kIHRoZXknbGwgZ2V0IGFib3J0ZWRcbiAgICAgIC8vIHRoZXJlIGlmIG5lZWRlZFxuICAgICAgYXdhaXQgcmVzb2x2ZURlZmVycmVkRGF0YShyZXN1bHQsIHNpZ25hbCwgZmFsc2UpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0c1tyb3V0ZUlkXSA9IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlc29sdmVGZXRjaGVyRGVmZXJyZWRSZXN1bHRzKFxuICBtYXRjaGVzOiAoQWdub3N0aWNEYXRhUm91dGVNYXRjaCB8IG51bGwpW10sXG4gIHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+LFxuICByZXZhbGlkYXRpbmdGZXRjaGVyczogUmV2YWxpZGF0aW5nRmV0Y2hlcltdXG4pIHtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJldmFsaWRhdGluZ0ZldGNoZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGxldCB7IGtleSwgcm91dGVJZCwgY29udHJvbGxlciB9ID0gcmV2YWxpZGF0aW5nRmV0Y2hlcnNbaW5kZXhdO1xuICAgIGxldCByZXN1bHQgPSByZXN1bHRzW2tleV07XG4gICAgbGV0IG1hdGNoID0gbWF0Y2hlcy5maW5kKChtKSA9PiBtPy5yb3V0ZS5pZCA9PT0gcm91dGVJZCk7XG4gICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIG1hdGNoLCB0aGVuIHdlIGNhbiBoYXZlIGEgZGVmZXJyZWQgcmVzdWx0IHRvIGRvXG4gICAgLy8gYW55dGhpbmcgd2l0aC4gIFRoaXMgaXMgZm9yIHJldmFsaWRhdGluZyBmZXRjaGVycyB3aGVyZSB0aGUgcm91dGUgd2FzXG4gICAgLy8gcmVtb3ZlZCBkdXJpbmcgSE1SXG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmZXJyZWRSZXN1bHQocmVzdWx0KSkge1xuICAgICAgLy8gTm90ZTogd2UgZG8gbm90IGhhdmUgdG8gdG91Y2ggYWN0aXZlRGVmZXJyZWRzIGhlcmUgc2luY2Ugd2UgcmFjZSB0aGVtXG4gICAgICAvLyBhZ2FpbnN0IHRoZSBzaWduYWwgaW4gcmVzb2x2ZURlZmVycmVkRGF0YSBhbmQgdGhleSdsbCBnZXQgYWJvcnRlZFxuICAgICAgLy8gdGhlcmUgaWYgbmVlZGVkXG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGNvbnRyb2xsZXIsXG4gICAgICAgIFwiRXhwZWN0ZWQgYW4gQWJvcnRDb250cm9sbGVyIGZvciByZXZhbGlkYXRpbmcgZmV0Y2hlciBkZWZlcnJlZCByZXN1bHRcIlxuICAgICAgKTtcbiAgICAgIGF3YWl0IHJlc29sdmVEZWZlcnJlZERhdGEocmVzdWx0LCBjb250cm9sbGVyLnNpZ25hbCwgdHJ1ZSkudGhlbihcbiAgICAgICAgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdHNba2V5XSA9IHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlc29sdmVEZWZlcnJlZERhdGEoXG4gIHJlc3VsdDogRGVmZXJyZWRSZXN1bHQsXG4gIHNpZ25hbDogQWJvcnRTaWduYWwsXG4gIHVud3JhcCA9IGZhbHNlXG4pOiBQcm9taXNlPFN1Y2Nlc3NSZXN1bHQgfCBFcnJvclJlc3VsdCB8IHVuZGVmaW5lZD4ge1xuICBsZXQgYWJvcnRlZCA9IGF3YWl0IHJlc3VsdC5kZWZlcnJlZERhdGEucmVzb2x2ZURhdGEoc2lnbmFsKTtcbiAgaWYgKGFib3J0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodW53cmFwKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZGF0YSxcbiAgICAgICAgZGF0YTogcmVzdWx0LmRlZmVycmVkRGF0YS51bndyYXBwZWREYXRhLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBIYW5kbGUgYW55IFRyYWNrZWRQcm9taXNlLl9lcnJvciB2YWx1ZXMgZW5jb3VudGVyZWQgd2hpbGUgdW53cmFwcGluZ1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgZXJyb3I6IGUsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogUmVzdWx0VHlwZS5kYXRhLFxuICAgIGRhdGE6IHJlc3VsdC5kZWZlcnJlZERhdGEuZGF0YSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFzTmFrZWRJbmRleFF1ZXJ5KHNlYXJjaDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlYXJjaCkuZ2V0QWxsKFwiaW5kZXhcIikuc29tZSgodikgPT4gdiA9PT0gXCJcIik7XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldE1hdGNoKFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIGxvY2F0aW9uOiBMb2NhdGlvbiB8IHN0cmluZ1xuKSB7XG4gIGxldCBzZWFyY2ggPVxuICAgIHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbikuc2VhcmNoIDogbG9jYXRpb24uc2VhcmNoO1xuICBpZiAoXG4gICAgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmluZGV4ICYmXG4gICAgaGFzTmFrZWRJbmRleFF1ZXJ5KHNlYXJjaCB8fCBcIlwiKVxuICApIHtcbiAgICAvLyBSZXR1cm4gdGhlIGxlYWYgaW5kZXggcm91dGUgd2hlbiBpbmRleCBpcyBwcmVzZW50XG4gICAgcmV0dXJuIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgfVxuICAvLyBPdGhlcndpc2UgZ3JhYiB0aGUgZGVlcGVzdCBcInBhdGggY29udHJpYnV0aW5nXCIgbWF0Y2ggKGlnbm9yaW5nIGluZGV4IGFuZFxuICAvLyBwYXRobGVzcyBsYXlvdXQgcm91dGVzKVxuICBsZXQgcGF0aE1hdGNoZXMgPSBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlcyhtYXRjaGVzKTtcbiAgcmV0dXJuIHBhdGhNYXRjaGVzW3BhdGhNYXRjaGVzLmxlbmd0aCAtIDFdO1xufVxuXG5mdW5jdGlvbiBnZXRTdWJtaXNzaW9uRnJvbU5hdmlnYXRpb24oXG4gIG5hdmlnYXRpb246IE5hdmlnYXRpb25cbik6IFN1Ym1pc3Npb24gfCB1bmRlZmluZWQge1xuICBsZXQgeyBmb3JtTWV0aG9kLCBmb3JtQWN0aW9uLCBmb3JtRW5jVHlwZSwgdGV4dCwgZm9ybURhdGEsIGpzb24gfSA9XG4gICAgbmF2aWdhdGlvbjtcbiAgaWYgKCFmb3JtTWV0aG9kIHx8ICFmb3JtQWN0aW9uIHx8ICFmb3JtRW5jVHlwZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0ZXh0ICE9IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiB1bmRlZmluZWQsXG4gICAgICBqc29uOiB1bmRlZmluZWQsXG4gICAgICB0ZXh0LFxuICAgIH07XG4gIH0gZWxzZSBpZiAoZm9ybURhdGEgIT0gbnVsbCkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGEsXG4gICAgICBqc29uOiB1bmRlZmluZWQsXG4gICAgICB0ZXh0OiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSBlbHNlIGlmIChqc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiB1bmRlZmluZWQsXG4gICAgICBqc29uLFxuICAgICAgdGV4dDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TG9hZGluZ05hdmlnYXRpb24oXG4gIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgc3VibWlzc2lvbj86IFN1Ym1pc3Npb25cbik6IE5hdmlnYXRpb25TdGF0ZXNbXCJMb2FkaW5nXCJdIHtcbiAgaWYgKHN1Ym1pc3Npb24pIHtcbiAgICBsZXQgbmF2aWdhdGlvbjogTmF2aWdhdGlvblN0YXRlc1tcIkxvYWRpbmdcIl0gPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHQsXG4gICAgfTtcbiAgICByZXR1cm4gbmF2aWdhdGlvbjtcbiAgfSBlbHNlIHtcbiAgICBsZXQgbmF2aWdhdGlvbjogTmF2aWdhdGlvblN0YXRlc1tcIkxvYWRpbmdcIl0gPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGZvcm1NZXRob2Q6IHVuZGVmaW5lZCxcbiAgICAgIGZvcm1BY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgIGZvcm1FbmNUeXBlOiB1bmRlZmluZWQsXG4gICAgICBmb3JtRGF0YTogdW5kZWZpbmVkLFxuICAgICAganNvbjogdW5kZWZpbmVkLFxuICAgICAgdGV4dDogdW5kZWZpbmVkLFxuICAgIH07XG4gICAgcmV0dXJuIG5hdmlnYXRpb247XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3VibWl0dGluZ05hdmlnYXRpb24oXG4gIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgc3VibWlzc2lvbjogU3VibWlzc2lvblxuKTogTmF2aWdhdGlvblN0YXRlc1tcIlN1Ym1pdHRpbmdcIl0ge1xuICBsZXQgbmF2aWdhdGlvbjogTmF2aWdhdGlvblN0YXRlc1tcIlN1Ym1pdHRpbmdcIl0gPSB7XG4gICAgc3RhdGU6IFwic3VibWl0dGluZ1wiLFxuICAgIGxvY2F0aW9uLFxuICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCxcbiAgfTtcbiAgcmV0dXJuIG5hdmlnYXRpb247XG59XG5cbmZ1bmN0aW9uIGdldExvYWRpbmdGZXRjaGVyKFxuICBzdWJtaXNzaW9uPzogU3VibWlzc2lvbixcbiAgZGF0YT86IEZldGNoZXJbXCJkYXRhXCJdXG4pOiBGZXRjaGVyU3RhdGVzW1wiTG9hZGluZ1wiXSB7XG4gIGlmIChzdWJtaXNzaW9uKSB7XG4gICAgbGV0IGZldGNoZXI6IEZldGNoZXJTdGF0ZXNbXCJMb2FkaW5nXCJdID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCxcbiAgICAgIGRhdGEsXG4gICAgfTtcbiAgICByZXR1cm4gZmV0Y2hlcjtcbiAgfSBlbHNlIHtcbiAgICBsZXQgZmV0Y2hlcjogRmV0Y2hlclN0YXRlc1tcIkxvYWRpbmdcIl0gPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBmb3JtTWV0aG9kOiB1bmRlZmluZWQsXG4gICAgICBmb3JtQWN0aW9uOiB1bmRlZmluZWQsXG4gICAgICBmb3JtRW5jVHlwZTogdW5kZWZpbmVkLFxuICAgICAgZm9ybURhdGE6IHVuZGVmaW5lZCxcbiAgICAgIGpzb246IHVuZGVmaW5lZCxcbiAgICAgIHRleHQ6IHVuZGVmaW5lZCxcbiAgICAgIGRhdGEsXG4gICAgfTtcbiAgICByZXR1cm4gZmV0Y2hlcjtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTdWJtaXR0aW5nRmV0Y2hlcihcbiAgc3VibWlzc2lvbjogU3VibWlzc2lvbixcbiAgZXhpc3RpbmdGZXRjaGVyPzogRmV0Y2hlclxuKTogRmV0Y2hlclN0YXRlc1tcIlN1Ym1pdHRpbmdcIl0ge1xuICBsZXQgZmV0Y2hlcjogRmV0Y2hlclN0YXRlc1tcIlN1Ym1pdHRpbmdcIl0gPSB7XG4gICAgc3RhdGU6IFwic3VibWl0dGluZ1wiLFxuICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCxcbiAgICBkYXRhOiBleGlzdGluZ0ZldGNoZXIgPyBleGlzdGluZ0ZldGNoZXIuZGF0YSA6IHVuZGVmaW5lZCxcbiAgfTtcbiAgcmV0dXJuIGZldGNoZXI7XG59XG5cbmZ1bmN0aW9uIGdldERvbmVGZXRjaGVyKGRhdGE6IEZldGNoZXJbXCJkYXRhXCJdKTogRmV0Y2hlclN0YXRlc1tcIklkbGVcIl0ge1xuICBsZXQgZmV0Y2hlcjogRmV0Y2hlclN0YXRlc1tcIklkbGVcIl0gPSB7XG4gICAgc3RhdGU6IFwiaWRsZVwiLFxuICAgIGZvcm1NZXRob2Q6IHVuZGVmaW5lZCxcbiAgICBmb3JtQWN0aW9uOiB1bmRlZmluZWQsXG4gICAgZm9ybUVuY1R5cGU6IHVuZGVmaW5lZCxcbiAgICBmb3JtRGF0YTogdW5kZWZpbmVkLFxuICAgIGpzb246IHVuZGVmaW5lZCxcbiAgICB0ZXh0OiB1bmRlZmluZWQsXG4gICAgZGF0YSxcbiAgfTtcbiAgcmV0dXJuIGZldGNoZXI7XG59XG5cbmZ1bmN0aW9uIHJlc3RvcmVBcHBsaWVkVHJhbnNpdGlvbnMoXG4gIF93aW5kb3c6IFdpbmRvdyxcbiAgdHJhbnNpdGlvbnM6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PlxuKSB7XG4gIHRyeSB7XG4gICAgbGV0IHNlc3Npb25Qb3NpdGlvbnMgPSBfd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXG4gICAgICBUUkFOU0lUSU9OU19TVE9SQUdFX0tFWVxuICAgICk7XG4gICAgaWYgKHNlc3Npb25Qb3NpdGlvbnMpIHtcbiAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShzZXNzaW9uUG9zaXRpb25zKTtcbiAgICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhqc29uIHx8IHt9KSkge1xuICAgICAgICBpZiAodiAmJiBBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgICAgdHJhbnNpdGlvbnMuc2V0KGssIG5ldyBTZXQodiB8fCBbXSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gbm8tb3AsIHVzZSBkZWZhdWx0IGVtcHR5IG9iamVjdFxuICB9XG59XG5cbmZ1bmN0aW9uIHBlcnNpc3RBcHBsaWVkVHJhbnNpdGlvbnMoXG4gIF93aW5kb3c6IFdpbmRvdyxcbiAgdHJhbnNpdGlvbnM6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PlxuKSB7XG4gIGlmICh0cmFuc2l0aW9ucy5zaXplID4gMCkge1xuICAgIGxldCBqc29uOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7fTtcbiAgICBmb3IgKGxldCBbaywgdl0gb2YgdHJhbnNpdGlvbnMpIHtcbiAgICAgIGpzb25ba10gPSBbLi4udl07XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBfd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgIFRSQU5TSVRJT05TX1NUT1JBR0VfS0VZLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShqc29uKVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGBGYWlsZWQgdG8gc2F2ZSBhcHBsaWVkIHZpZXcgdHJhbnNpdGlvbnMgaW4gc2Vzc2lvblN0b3JhZ2UgKCR7ZXJyb3J9KS5gXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuLy8jZW5kcmVnaW9uXG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7XG4gIEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdCxcbiAgQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0LFxuICBBZ25vc3RpY1JvdXRlTWF0Y2gsXG4gIEhpc3RvcnksXG4gIExhenlSb3V0ZUZ1bmN0aW9uLFxuICBMb2NhdGlvbixcbiAgQWN0aW9uIGFzIE5hdmlnYXRpb25UeXBlLFxuICBSZWxhdGl2ZVJvdXRpbmdUeXBlLFxuICBSb3V0ZXIsXG4gIFN0YXRpY0hhbmRsZXJDb250ZXh0LFxuICBUbyxcbiAgVHJhY2tlZFByb21pc2UsXG59IGZyb20gXCJAcmVtaXgtcnVuL3JvdXRlclwiO1xuXG4vLyBDcmVhdGUgcmVhY3Qtc3BlY2lmaWMgdHlwZXMgZnJvbSB0aGUgYWdub3N0aWMgdHlwZXMgaW4gQHJlbWl4LXJ1bi9yb3V0ZXIgdG9cbi8vIGV4cG9ydCBmcm9tIHJlYWN0LXJvdXRlclxuZXhwb3J0IGludGVyZmFjZSBJbmRleFJvdXRlT2JqZWN0IHtcbiAgY2FzZVNlbnNpdGl2ZT86IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdFtcImNhc2VTZW5zaXRpdmVcIl07XG4gIHBhdGg/OiBBZ25vc3RpY0luZGV4Um91dGVPYmplY3RbXCJwYXRoXCJdO1xuICBpZD86IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdFtcImlkXCJdO1xuICBsb2FkZXI/OiBBZ25vc3RpY0luZGV4Um91dGVPYmplY3RbXCJsb2FkZXJcIl07XG4gIGFjdGlvbj86IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdFtcImFjdGlvblwiXTtcbiAgaGFzRXJyb3JCb3VuZGFyeT86IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdFtcImhhc0Vycm9yQm91bmRhcnlcIl07XG4gIHNob3VsZFJldmFsaWRhdGU/OiBBZ25vc3RpY0luZGV4Um91dGVPYmplY3RbXCJzaG91bGRSZXZhbGlkYXRlXCJdO1xuICBoYW5kbGU/OiBBZ25vc3RpY0luZGV4Um91dGVPYmplY3RbXCJoYW5kbGVcIl07XG4gIGluZGV4OiB0cnVlO1xuICBjaGlsZHJlbj86IHVuZGVmaW5lZDtcbiAgZWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBlcnJvckVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBDb21wb25lbnQ/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgSHlkcmF0ZUZhbGxiYWNrPzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIEVycm9yQm91bmRhcnk/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgbGF6eT86IExhenlSb3V0ZUZ1bmN0aW9uPFJvdXRlT2JqZWN0Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb25JbmRleFJvdXRlT2JqZWN0IHtcbiAgY2FzZVNlbnNpdGl2ZT86IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdFtcImNhc2VTZW5zaXRpdmVcIl07XG4gIHBhdGg/OiBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3RbXCJwYXRoXCJdO1xuICBpZD86IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdFtcImlkXCJdO1xuICBsb2FkZXI/OiBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3RbXCJsb2FkZXJcIl07XG4gIGFjdGlvbj86IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdFtcImFjdGlvblwiXTtcbiAgaGFzRXJyb3JCb3VuZGFyeT86IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdFtcImhhc0Vycm9yQm91bmRhcnlcIl07XG4gIHNob3VsZFJldmFsaWRhdGU/OiBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3RbXCJzaG91bGRSZXZhbGlkYXRlXCJdO1xuICBoYW5kbGU/OiBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3RbXCJoYW5kbGVcIl07XG4gIGluZGV4PzogZmFsc2U7XG4gIGNoaWxkcmVuPzogUm91dGVPYmplY3RbXTtcbiAgZWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBlcnJvckVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBDb21wb25lbnQ/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgSHlkcmF0ZUZhbGxiYWNrPzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIEVycm9yQm91bmRhcnk/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgbGF6eT86IExhenlSb3V0ZUZ1bmN0aW9uPFJvdXRlT2JqZWN0Pjtcbn1cblxuZXhwb3J0IHR5cGUgUm91dGVPYmplY3QgPSBJbmRleFJvdXRlT2JqZWN0IHwgTm9uSW5kZXhSb3V0ZU9iamVjdDtcblxuZXhwb3J0IHR5cGUgRGF0YVJvdXRlT2JqZWN0ID0gUm91dGVPYmplY3QgJiB7XG4gIGNoaWxkcmVuPzogRGF0YVJvdXRlT2JqZWN0W107XG4gIGlkOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlTWF0Y2g8XG4gIFBhcmFtS2V5IGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuICBSb3V0ZU9iamVjdFR5cGUgZXh0ZW5kcyBSb3V0ZU9iamVjdCA9IFJvdXRlT2JqZWN0XG4+IGV4dGVuZHMgQWdub3N0aWNSb3V0ZU1hdGNoPFBhcmFtS2V5LCBSb3V0ZU9iamVjdFR5cGU+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVJvdXRlTWF0Y2ggZXh0ZW5kcyBSb3V0ZU1hdGNoPHN0cmluZywgRGF0YVJvdXRlT2JqZWN0PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFSb3V0ZXJDb250ZXh0T2JqZWN0XG4gIC8vIE9taXQgYGZ1dHVyZWAgc2luY2UgdGhvc2UgY2FuIGJlIHB1bGxlZCBmcm9tIHRoZSBgcm91dGVyYFxuICAvLyBgTmF2aWdhdGlvbkNvbnRleHRgIG5lZWRzIGZ1dHVyZSBzaW5jZSBpdCBkb2Vzbid0IGhhdmUgYSBgcm91dGVyYCBpbiBhbGwgY2FzZXNcbiAgZXh0ZW5kcyBPbWl0PE5hdmlnYXRpb25Db250ZXh0T2JqZWN0LCBcImZ1dHVyZVwiPiB7XG4gIHJvdXRlcjogUm91dGVyO1xuICBzdGF0aWNDb250ZXh0PzogU3RhdGljSGFuZGxlckNvbnRleHQ7XG59XG5cbmV4cG9ydCBjb25zdCBEYXRhUm91dGVyQ29udGV4dCA9XG4gIFJlYWN0LmNyZWF0ZUNvbnRleHQ8RGF0YVJvdXRlckNvbnRleHRPYmplY3QgfCBudWxsPihudWxsKTtcbmlmIChfX0RFVl9fKSB7XG4gIERhdGFSb3V0ZXJDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJEYXRhUm91dGVyXCI7XG59XG5cbmV4cG9ydCBjb25zdCBEYXRhUm91dGVyU3RhdGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxcbiAgUm91dGVyW1wic3RhdGVcIl0gfCBudWxsXG4+KG51bGwpO1xuaWYgKF9fREVWX18pIHtcbiAgRGF0YVJvdXRlclN0YXRlQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRGF0YVJvdXRlclN0YXRlXCI7XG59XG5cbmV4cG9ydCBjb25zdCBBd2FpdENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFRyYWNrZWRQcm9taXNlIHwgbnVsbD4obnVsbCk7XG5pZiAoX19ERVZfXykge1xuICBBd2FpdENvbnRleHQuZGlzcGxheU5hbWUgPSBcIkF3YWl0XCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGVPcHRpb25zIHtcbiAgcmVwbGFjZT86IGJvb2xlYW47XG4gIHN0YXRlPzogYW55O1xuICBwcmV2ZW50U2Nyb2xsUmVzZXQ/OiBib29sZWFuO1xuICByZWxhdGl2ZT86IFJlbGF0aXZlUm91dGluZ1R5cGU7XG4gIGZsdXNoU3luYz86IGJvb2xlYW47XG4gIHZpZXdUcmFuc2l0aW9uPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBBIE5hdmlnYXRvciBpcyBhIFwibG9jYXRpb24gY2hhbmdlclwiOyBpdCdzIGhvdyB5b3UgZ2V0IHRvIGRpZmZlcmVudCBsb2NhdGlvbnMuXG4gKlxuICogRXZlcnkgaGlzdG9yeSBpbnN0YW5jZSBjb25mb3JtcyB0byB0aGUgTmF2aWdhdG9yIGludGVyZmFjZSwgYnV0IHRoZVxuICogZGlzdGluY3Rpb24gaXMgdXNlZnVsIHByaW1hcmlseSB3aGVuIGl0IGNvbWVzIHRvIHRoZSBsb3ctbGV2ZWwgYDxSb3V0ZXI+YCBBUElcbiAqIHdoZXJlIGJvdGggdGhlIGxvY2F0aW9uIGFuZCBhIG5hdmlnYXRvciBtdXN0IGJlIHByb3ZpZGVkIHNlcGFyYXRlbHkgaW4gb3JkZXJcbiAqIHRvIGF2b2lkIFwidGVhcmluZ1wiIHRoYXQgbWF5IG9jY3VyIGluIGEgc3VzcGVuc2UtZW5hYmxlZCBhcHAgaWYgdGhlIGFjdGlvblxuICogYW5kL29yIGxvY2F0aW9uIHdlcmUgdG8gYmUgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBoaXN0b3J5IGluc3RhbmNlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRvciB7XG4gIGNyZWF0ZUhyZWY6IEhpc3RvcnlbXCJjcmVhdGVIcmVmXCJdO1xuICAvLyBPcHRpb25hbCBmb3IgYmFja3dhcmRzLWNvbXBhdCB3aXRoIFJvdXRlci9IaXN0b3J5Um91dGVyIHVzYWdlIChlZGdlIGNhc2UpXG4gIGVuY29kZUxvY2F0aW9uPzogSGlzdG9yeVtcImVuY29kZUxvY2F0aW9uXCJdO1xuICBnbzogSGlzdG9yeVtcImdvXCJdO1xuICBwdXNoKHRvOiBUbywgc3RhdGU/OiBhbnksIG9wdHM/OiBOYXZpZ2F0ZU9wdGlvbnMpOiB2b2lkO1xuICByZXBsYWNlKHRvOiBUbywgc3RhdGU/OiBhbnksIG9wdHM/OiBOYXZpZ2F0ZU9wdGlvbnMpOiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgTmF2aWdhdGlvbkNvbnRleHRPYmplY3Qge1xuICBiYXNlbmFtZTogc3RyaW5nO1xuICBuYXZpZ2F0b3I6IE5hdmlnYXRvcjtcbiAgc3RhdGljOiBib29sZWFuO1xuICBmdXR1cmU6IHtcbiAgICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogYm9vbGVhbjtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IE5hdmlnYXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxOYXZpZ2F0aW9uQ29udGV4dE9iamVjdD4oXG4gIG51bGwhXG4pO1xuXG5pZiAoX19ERVZfXykge1xuICBOYXZpZ2F0aW9uQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiTmF2aWdhdGlvblwiO1xufVxuXG5pbnRlcmZhY2UgTG9jYXRpb25Db250ZXh0T2JqZWN0IHtcbiAgbG9jYXRpb246IExvY2F0aW9uO1xuICBuYXZpZ2F0aW9uVHlwZTogTmF2aWdhdGlvblR5cGU7XG59XG5cbmV4cG9ydCBjb25zdCBMb2NhdGlvbkNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PExvY2F0aW9uQ29udGV4dE9iamVjdD4oXG4gIG51bGwhXG4pO1xuXG5pZiAoX19ERVZfXykge1xuICBMb2NhdGlvbkNvbnRleHQuZGlzcGxheU5hbWUgPSBcIkxvY2F0aW9uXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVDb250ZXh0T2JqZWN0IHtcbiAgb3V0bGV0OiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsO1xuICBtYXRjaGVzOiBSb3V0ZU1hdGNoW107XG4gIGlzRGF0YVJvdXRlOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgUm91dGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxSb3V0ZUNvbnRleHRPYmplY3Q+KHtcbiAgb3V0bGV0OiBudWxsLFxuICBtYXRjaGVzOiBbXSxcbiAgaXNEYXRhUm91dGU6IGZhbHNlLFxufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFJvdXRlQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiUm91dGVcIjtcbn1cblxuZXhwb3J0IGNvbnN0IFJvdXRlRXJyb3JDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxhbnk+KG51bGwpO1xuXG5pZiAoX19ERVZfXykge1xuICBSb3V0ZUVycm9yQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiUm91dGVFcnJvclwiO1xufVxuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUge1xuICBCbG9ja2VyLFxuICBCbG9ja2VyRnVuY3Rpb24sXG4gIExvY2F0aW9uLFxuICBQYXJhbVBhcnNlS2V5LFxuICBQYXJhbXMsXG4gIFBhdGgsXG4gIFBhdGhNYXRjaCxcbiAgUGF0aFBhdHRlcm4sXG4gIFJlbGF0aXZlUm91dGluZ1R5cGUsXG4gIFJvdXRlciBhcyBSZW1peFJvdXRlcixcbiAgUmV2YWxpZGF0aW9uU3RhdGUsXG4gIFRvLFxuICBVSU1hdGNoLFxufSBmcm9tIFwiQHJlbWl4LXJ1bi9yb3V0ZXJcIjtcbmltcG9ydCB7XG4gIElETEVfQkxPQ0tFUixcbiAgQWN0aW9uIGFzIE5hdmlnYXRpb25UeXBlLFxuICBVTlNBRkVfY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2ggYXMgY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2gsXG4gIFVOU0FGRV9kZWNvZGVQYXRoIGFzIGRlY29kZVBhdGgsXG4gIFVOU0FGRV9nZXRSZXNvbHZlVG9NYXRjaGVzIGFzIGdldFJlc29sdmVUb01hdGNoZXMsXG4gIFVOU0FGRV9pbnZhcmlhbnQgYXMgaW52YXJpYW50LFxuICBpc1JvdXRlRXJyb3JSZXNwb25zZSxcbiAgam9pblBhdGhzLFxuICBtYXRjaFBhdGgsXG4gIG1hdGNoUm91dGVzLFxuICBwYXJzZVBhdGgsXG4gIHJlc29sdmVUbyxcbiAgc3RyaXBCYXNlbmFtZSxcbiAgVU5TQUZFX3dhcm5pbmcgYXMgd2FybmluZyxcbn0gZnJvbSBcIkByZW1peC1ydW4vcm91dGVyXCI7XG5cbmltcG9ydCB0eXBlIHtcbiAgRGF0YVJvdXRlTWF0Y2gsXG4gIE5hdmlnYXRlT3B0aW9ucyxcbiAgUm91dGVDb250ZXh0T2JqZWN0LFxuICBSb3V0ZU1hdGNoLFxuICBSb3V0ZU9iamVjdCxcbn0gZnJvbSBcIi4vY29udGV4dFwiO1xuaW1wb3J0IHtcbiAgQXdhaXRDb250ZXh0LFxuICBEYXRhUm91dGVyQ29udGV4dCxcbiAgRGF0YVJvdXRlclN0YXRlQ29udGV4dCxcbiAgTG9jYXRpb25Db250ZXh0LFxuICBOYXZpZ2F0aW9uQ29udGV4dCxcbiAgUm91dGVDb250ZXh0LFxuICBSb3V0ZUVycm9yQ29udGV4dCxcbn0gZnJvbSBcIi4vY29udGV4dFwiO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIGdpdmVuIFwidG9cIiB2YWx1ZS4gVGhpcyBpcyB1c2VmdWwgZm9yIGJ1aWxkaW5nXG4gKiBjdXN0b20gbGlua3MgdGhhdCBhcmUgYWxzbyBhY2Nlc3NpYmxlIGFuZCBwcmVzZXJ2ZSByaWdodC1jbGljayBiZWhhdmlvci5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1ocmVmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VIcmVmKFxuICB0bzogVG8sXG4gIHsgcmVsYXRpdmUgfTogeyByZWxhdGl2ZT86IFJlbGF0aXZlUm91dGluZ1R5cGUgfSA9IHt9XG4pOiBzdHJpbmcge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VIcmVmKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG5cbiAgbGV0IHsgYmFzZW5hbWUsIG5hdmlnYXRvciB9ID0gUmVhY3QudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IGhhc2gsIHBhdGhuYW1lLCBzZWFyY2ggfSA9IHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZSB9KTtcblxuICBsZXQgam9pbmVkUGF0aG5hbWUgPSBwYXRobmFtZTtcblxuICAvLyBJZiB3ZSdyZSBvcGVyYXRpbmcgd2l0aGluIGEgYmFzZW5hbWUsIHByZXBlbmQgaXQgdG8gdGhlIHBhdGhuYW1lIHByaW9yXG4gIC8vIHRvIGNyZWF0aW5nIHRoZSBocmVmLiAgSWYgdGhpcyBpcyBhIHJvb3QgbmF2aWdhdGlvbiwgdGhlbiBqdXN0IHVzZSB0aGUgcmF3XG4gIC8vIGJhc2VuYW1lIHdoaWNoIGFsbG93cyB0aGUgYmFzZW5hbWUgdG8gaGF2ZSBmdWxsIGNvbnRyb2wgb3ZlciB0aGUgcHJlc2VuY2VcbiAgLy8gb2YgYSB0cmFpbGluZyBzbGFzaCBvbiByb290IGxpbmtzXG4gIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICBqb2luZWRQYXRobmFtZSA9XG4gICAgICBwYXRobmFtZSA9PT0gXCIvXCIgPyBiYXNlbmFtZSA6IGpvaW5QYXRocyhbYmFzZW5hbWUsIHBhdGhuYW1lXSk7XG4gIH1cblxuICByZXR1cm4gbmF2aWdhdG9yLmNyZWF0ZUhyZWYoeyBwYXRobmFtZTogam9pbmVkUGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBjb21wb25lbnQgaXMgYSBkZXNjZW5kYW50IG9mIGEgYDxSb3V0ZXI+YC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1pbi1yb3V0ZXItY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlSW5Sb3V0ZXJDb250ZXh0KCk6IGJvb2xlYW4ge1xuICByZXR1cm4gUmVhY3QudXNlQ29udGV4dChMb2NhdGlvbkNvbnRleHQpICE9IG51bGw7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBsb2NhdGlvbiBvYmplY3QsIHdoaWNoIHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgVVJMIGluIHdlYlxuICogYnJvd3NlcnMuXG4gKlxuICogTm90ZTogSWYgeW91J3JlIHVzaW5nIHRoaXMgaXQgbWF5IG1lYW4geW91J3JlIGRvaW5nIHNvbWUgb2YgeW91ciBvd25cbiAqIFwicm91dGluZ1wiIGluIHlvdXIgYXBwLCBhbmQgd2UnZCBsaWtlIHRvIGtub3cgd2hhdCB5b3VyIHVzZSBjYXNlIGlzLiBXZSBtYXlcbiAqIGJlIGFibGUgdG8gcHJvdmlkZSBzb21ldGhpbmcgaGlnaGVyLWxldmVsIHRvIGJldHRlciBzdWl0IHlvdXIgbmVlZHMuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2UtbG9jYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUxvY2F0aW9uKCk6IExvY2F0aW9uIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlTG9jYXRpb24oKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcblxuICByZXR1cm4gUmVhY3QudXNlQ29udGV4dChMb2NhdGlvbkNvbnRleHQpLmxvY2F0aW9uO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgbmF2aWdhdGlvbiBhY3Rpb24gd2hpY2ggZGVzY3JpYmVzIGhvdyB0aGUgcm91dGVyIGNhbWUgdG9cbiAqIHRoZSBjdXJyZW50IGxvY2F0aW9uLCBlaXRoZXIgYnkgYSBwb3AsIHB1c2gsIG9yIHJlcGxhY2Ugb24gdGhlIGhpc3Rvcnkgc3RhY2suXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2UtbmF2aWdhdGlvbi10eXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VOYXZpZ2F0aW9uVHlwZSgpOiBOYXZpZ2F0aW9uVHlwZSB7XG4gIHJldHVybiBSZWFjdC51c2VDb250ZXh0KExvY2F0aW9uQ29udGV4dCkubmF2aWdhdGlvblR5cGU7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFBhdGhNYXRjaCBvYmplY3QgaWYgdGhlIGdpdmVuIHBhdHRlcm4gbWF0Y2hlcyB0aGUgY3VycmVudCBVUkwuXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY29tcG9uZW50cyB0aGF0IG5lZWQgdG8ga25vdyBcImFjdGl2ZVwiIHN0YXRlLCBlLmcuXG4gKiBgPE5hdkxpbms+YC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1tYXRjaFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTWF0Y2g8XG4gIFBhcmFtS2V5IGV4dGVuZHMgUGFyYW1QYXJzZUtleTxQYXRoPixcbiAgUGF0aCBleHRlbmRzIHN0cmluZ1xuPihwYXR0ZXJuOiBQYXRoUGF0dGVybjxQYXRoPiB8IFBhdGgpOiBQYXRoTWF0Y2g8UGFyYW1LZXk+IHwgbnVsbCB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZU1hdGNoKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG5cbiAgbGV0IHsgcGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIHJldHVybiBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoUGF0aDxQYXJhbUtleSwgUGF0aD4ocGF0dGVybiwgZGVjb2RlUGF0aChwYXRobmFtZSkpLFxuICAgIFtwYXRobmFtZSwgcGF0dGVybl1cbiAgKTtcbn1cblxuLyoqXG4gKiBUaGUgaW50ZXJmYWNlIGZvciB0aGUgbmF2aWdhdGUoKSBmdW5jdGlvbiByZXR1cm5lZCBmcm9tIHVzZU5hdmlnYXRlKCkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGVGdW5jdGlvbiB7XG4gICh0bzogVG8sIG9wdGlvbnM/OiBOYXZpZ2F0ZU9wdGlvbnMpOiB2b2lkO1xuICAoZGVsdGE6IG51bWJlcik6IHZvaWQ7XG59XG5cbmNvbnN0IG5hdmlnYXRlRWZmZWN0V2FybmluZyA9XG4gIGBZb3Ugc2hvdWxkIGNhbGwgbmF2aWdhdGUoKSBpbiBhIFJlYWN0LnVzZUVmZmVjdCgpLCBub3Qgd2hlbiBgICtcbiAgYHlvdXIgY29tcG9uZW50IGlzIGZpcnN0IHJlbmRlcmVkLmA7XG5cbi8vIE11dGUgd2FybmluZ3MgZm9yIGNhbGxzIHRvIHVzZU5hdmlnYXRlIGluIFNTUiBlbnZpcm9ubWVudHNcbmZ1bmN0aW9uIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoXG4gIGNiOiBQYXJhbWV0ZXJzPHR5cGVvZiBSZWFjdC51c2VMYXlvdXRFZmZlY3Q+WzBdXG4pIHtcbiAgbGV0IGlzU3RhdGljID0gUmVhY3QudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCkuc3RhdGljO1xuICBpZiAoIWlzU3RhdGljKSB7XG4gICAgLy8gV2Ugc2hvdWxkIGJlIGFibGUgdG8gZ2V0IHJpZCBvZiB0aGlzIG9uY2UgcmVhY3QgMTguMyBpcyByZWxlYXNlZFxuICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMjYzOTVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoY2IpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBpbXBlcmF0aXZlIG1ldGhvZCBmb3IgY2hhbmdpbmcgdGhlIGxvY2F0aW9uLiBVc2VkIGJ5IGA8TGluaz5gcywgYnV0XG4gKiBtYXkgYWxzbyBiZSB1c2VkIGJ5IG90aGVyIGVsZW1lbnRzIHRvIGNoYW5nZSB0aGUgbG9jYXRpb24uXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2UtbmF2aWdhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU5hdmlnYXRlKCk6IE5hdmlnYXRlRnVuY3Rpb24ge1xuICBsZXQgeyBpc0RhdGFSb3V0ZSB9ID0gUmVhY3QudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICAvLyBDb25kaXRpb25hbCB1c2FnZSBpcyBPSyBoZXJlIGJlY2F1c2UgdGhlIHVzYWdlIG9mIGEgZGF0YSByb3V0ZXIgaXMgc3RhdGljXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICByZXR1cm4gaXNEYXRhUm91dGUgPyB1c2VOYXZpZ2F0ZVN0YWJsZSgpIDogdXNlTmF2aWdhdGVVbnN0YWJsZSgpO1xufVxuXG5mdW5jdGlvbiB1c2VOYXZpZ2F0ZVVuc3RhYmxlKCk6IE5hdmlnYXRlRnVuY3Rpb24ge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VOYXZpZ2F0ZSgpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuXG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBsZXQgeyBiYXNlbmFtZSwgZnV0dXJlLCBuYXZpZ2F0b3IgfSA9IFJlYWN0LnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuXG4gIGxldCByb3V0ZVBhdGhuYW1lc0pzb24gPSBKU09OLnN0cmluZ2lmeShcbiAgICBnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMsIGZ1dHVyZS52N19yZWxhdGl2ZVNwbGF0UGF0aClcbiAgKTtcblxuICBsZXQgYWN0aXZlUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgYWN0aXZlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICB9KTtcblxuICBsZXQgbmF2aWdhdGU6IE5hdmlnYXRlRnVuY3Rpb24gPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAodG86IFRvIHwgbnVtYmVyLCBvcHRpb25zOiBOYXZpZ2F0ZU9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgd2FybmluZyhhY3RpdmVSZWYuY3VycmVudCwgbmF2aWdhdGVFZmZlY3RXYXJuaW5nKTtcblxuICAgICAgLy8gU2hvcnQgY2lyY3VpdCBoZXJlIHNpbmNlIGlmIHRoaXMgaGFwcGVucyBvbiBmaXJzdCByZW5kZXIgdGhlIG5hdmlnYXRlXG4gICAgICAvLyBpcyB1c2VsZXNzIGJlY2F1c2Ugd2UgaGF2ZW4ndCB3aXJlZCB1cCBvdXIgaGlzdG9yeSBsaXN0ZW5lciB5ZXRcbiAgICAgIGlmICghYWN0aXZlUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBuYXZpZ2F0b3IuZ28odG8pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBwYXRoID0gcmVzb2x2ZVRvKFxuICAgICAgICB0byxcbiAgICAgICAgSlNPTi5wYXJzZShyb3V0ZVBhdGhuYW1lc0pzb24pLFxuICAgICAgICBsb2NhdGlvblBhdGhuYW1lLFxuICAgICAgICBvcHRpb25zLnJlbGF0aXZlID09PSBcInBhdGhcIlxuICAgICAgKTtcblxuICAgICAgLy8gSWYgd2UncmUgb3BlcmF0aW5nIHdpdGhpbiBhIGJhc2VuYW1lLCBwcmVwZW5kIGl0IHRvIHRoZSBwYXRobmFtZSBwcmlvclxuICAgICAgLy8gdG8gaGFuZGluZyBvZmYgdG8gaGlzdG9yeSAoYnV0IG9ubHkgaWYgd2UncmUgbm90IGluIGEgZGF0YSByb3V0ZXIsXG4gICAgICAvLyBvdGhlcndpc2UgaXQnbGwgcHJlcGVuZCB0aGUgYmFzZW5hbWUgaW5zaWRlIG9mIHRoZSByb3V0ZXIpLlxuICAgICAgLy8gSWYgdGhpcyBpcyBhIHJvb3QgbmF2aWdhdGlvbiwgdGhlbiB3ZSBuYXZpZ2F0ZSB0byB0aGUgcmF3IGJhc2VuYW1lXG4gICAgICAvLyB3aGljaCBhbGxvd3MgdGhlIGJhc2VuYW1lIHRvIGhhdmUgZnVsbCBjb250cm9sIG92ZXIgdGhlIHByZXNlbmNlIG9mIGFcbiAgICAgIC8vIHRyYWlsaW5nIHNsYXNoIG9uIHJvb3QgbGlua3NcbiAgICAgIGlmIChkYXRhUm91dGVyQ29udGV4dCA9PSBudWxsICYmIGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgICAgICBwYXRoLnBhdGhuYW1lID1cbiAgICAgICAgICBwYXRoLnBhdGhuYW1lID09PSBcIi9cIlxuICAgICAgICAgICAgPyBiYXNlbmFtZVxuICAgICAgICAgICAgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRoLnBhdGhuYW1lXSk7XG4gICAgICB9XG5cbiAgICAgICghIW9wdGlvbnMucmVwbGFjZSA/IG5hdmlnYXRvci5yZXBsYWNlIDogbmF2aWdhdG9yLnB1c2gpKFxuICAgICAgICBwYXRoLFxuICAgICAgICBvcHRpb25zLnN0YXRlLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIH0sXG4gICAgW1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBuYXZpZ2F0b3IsXG4gICAgICByb3V0ZVBhdGhuYW1lc0pzb24sXG4gICAgICBsb2NhdGlvblBhdGhuYW1lLFxuICAgICAgZGF0YVJvdXRlckNvbnRleHQsXG4gICAgXVxuICApO1xuXG4gIHJldHVybiBuYXZpZ2F0ZTtcbn1cblxuY29uc3QgT3V0bGV0Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8dW5rbm93bj4obnVsbCk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29udGV4dCAoaWYgcHJvdmlkZWQpIGZvciB0aGUgY2hpbGQgcm91dGUgYXQgdGhpcyBsZXZlbCBvZiB0aGUgcm91dGVcbiAqIGhpZXJhcmNoeS5cbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLW91dGxldC1jb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VPdXRsZXRDb250ZXh0PENvbnRleHQgPSB1bmtub3duPigpOiBDb250ZXh0IHtcbiAgcmV0dXJuIFJlYWN0LnVzZUNvbnRleHQoT3V0bGV0Q29udGV4dCkgYXMgQ29udGV4dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBlbGVtZW50IGZvciB0aGUgY2hpbGQgcm91dGUgYXQgdGhpcyBsZXZlbCBvZiB0aGUgcm91dGVcbiAqIGhpZXJhcmNoeS4gVXNlZCBpbnRlcm5hbGx5IGJ5IGA8T3V0bGV0PmAgdG8gcmVuZGVyIGNoaWxkIHJvdXRlcy5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1vdXRsZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU91dGxldChjb250ZXh0PzogdW5rbm93bik6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICBsZXQgb3V0bGV0ID0gUmVhY3QudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpLm91dGxldDtcbiAgaWYgKG91dGxldCkge1xuICAgIHJldHVybiAoXG4gICAgICA8T3V0bGV0Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dH0+e291dGxldH08L091dGxldENvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbiAgfVxuICByZXR1cm4gb3V0bGV0O1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IG9mIGtleS92YWx1ZSBwYWlycyBvZiB0aGUgZHluYW1pYyBwYXJhbXMgZnJvbSB0aGUgY3VycmVudFxuICogVVJMIHRoYXQgd2VyZSBtYXRjaGVkIGJ5IHRoZSByb3V0ZSBwYXRoLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLXBhcmFtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUGFyYW1zPFxuICBQYXJhbXNPcktleSBleHRlbmRzIHN0cmluZyB8IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gPSBzdHJpbmdcbj4oKTogUmVhZG9ubHk8XG4gIFtQYXJhbXNPcktleV0gZXh0ZW5kcyBbc3RyaW5nXSA/IFBhcmFtczxQYXJhbXNPcktleT4gOiBQYXJ0aWFsPFBhcmFtc09yS2V5PlxuPiB7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0LnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHJvdXRlTWF0Y2ggPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIHJldHVybiByb3V0ZU1hdGNoID8gKHJvdXRlTWF0Y2gucGFyYW1zIGFzIGFueSkgOiB7fTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlcyB0aGUgcGF0aG5hbWUgb2YgdGhlIGdpdmVuIGB0b2AgdmFsdWUgYWdhaW5zdCB0aGUgY3VycmVudCBsb2NhdGlvbi5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1yZXNvbHZlZC1wYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZXNvbHZlZFBhdGgoXG4gIHRvOiBUbyxcbiAgeyByZWxhdGl2ZSB9OiB7IHJlbGF0aXZlPzogUmVsYXRpdmVSb3V0aW5nVHlwZSB9ID0ge31cbik6IFBhdGgge1xuICBsZXQgeyBmdXR1cmUgfSA9IFJlYWN0LnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgcm91dGVQYXRobmFtZXNKc29uID0gSlNPTi5zdHJpbmdpZnkoXG4gICAgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzLCBmdXR1cmUudjdfcmVsYXRpdmVTcGxhdFBhdGgpXG4gICk7XG5cbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIHJlc29sdmVUbyhcbiAgICAgICAgdG8sXG4gICAgICAgIEpTT04ucGFyc2Uocm91dGVQYXRobmFtZXNKc29uKSxcbiAgICAgICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICAgICAgcmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICAgICApLFxuICAgIFt0bywgcm91dGVQYXRobmFtZXNKc29uLCBsb2NhdGlvblBhdGhuYW1lLCByZWxhdGl2ZV1cbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBlbGVtZW50IG9mIHRoZSByb3V0ZSB0aGF0IG1hdGNoZWQgdGhlIGN1cnJlbnQgbG9jYXRpb24sIHByZXBhcmVkXG4gKiB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHQgdG8gcmVuZGVyIHRoZSByZW1haW5kZXIgb2YgdGhlIHJvdXRlIHRyZWUuIFJvdXRlXG4gKiBlbGVtZW50cyBpbiB0aGUgdHJlZSBtdXN0IHJlbmRlciBhbiBgPE91dGxldD5gIHRvIHJlbmRlciB0aGVpciBjaGlsZCByb3V0ZSdzXG4gKiBlbGVtZW50LlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLXJvdXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUm91dGVzKFxuICByb3V0ZXM6IFJvdXRlT2JqZWN0W10sXG4gIGxvY2F0aW9uQXJnPzogUGFydGlhbDxMb2NhdGlvbj4gfCBzdHJpbmdcbik6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICByZXR1cm4gdXNlUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnKTtcbn1cblxuLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gd2l0aCBhY2NlcHQgb3B0aW9uYWwgcGFyYW0gZm9yIFJvdXRlclByb3ZpZGVyIHVzYWdlXG5leHBvcnQgZnVuY3Rpb24gdXNlUm91dGVzSW1wbChcbiAgcm91dGVzOiBSb3V0ZU9iamVjdFtdLFxuICBsb2NhdGlvbkFyZz86IFBhcnRpYWw8TG9jYXRpb24+IHwgc3RyaW5nLFxuICBkYXRhUm91dGVyU3RhdGU/OiBSZW1peFJvdXRlcltcInN0YXRlXCJdLFxuICBmdXR1cmU/OiBSZW1peFJvdXRlcltcImZ1dHVyZVwiXVxuKTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZVJvdXRlcygpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuXG4gIGxldCB7IG5hdmlnYXRvciB9ID0gUmVhY3QudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IG1hdGNoZXM6IHBhcmVudE1hdGNoZXMgfSA9IFJlYWN0LnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHJvdXRlTWF0Y2ggPSBwYXJlbnRNYXRjaGVzW3BhcmVudE1hdGNoZXMubGVuZ3RoIC0gMV07XG4gIGxldCBwYXJlbnRQYXJhbXMgPSByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXJhbXMgOiB7fTtcbiAgbGV0IHBhcmVudFBhdGhuYW1lID0gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGF0aG5hbWUgOiBcIi9cIjtcbiAgbGV0IHBhcmVudFBhdGhuYW1lQmFzZSA9IHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhdGhuYW1lQmFzZSA6IFwiL1wiO1xuICBsZXQgcGFyZW50Um91dGUgPSByb3V0ZU1hdGNoICYmIHJvdXRlTWF0Y2gucm91dGU7XG5cbiAgaWYgKF9fREVWX18pIHtcbiAgICAvLyBZb3Ugd29uJ3QgZ2V0IGEgd2FybmluZyBhYm91dCAyIGRpZmZlcmVudCA8Um91dGVzPiB1bmRlciBhIDxSb3V0ZT5cbiAgICAvLyB3aXRob3V0IGEgdHJhaWxpbmcgKiwgYnV0IHRoaXMgaXMgYSBiZXN0LWVmZm9ydCB3YXJuaW5nIGFueXdheSBzaW5jZSB3ZVxuICAgIC8vIGNhbm5vdCBldmVuIGdpdmUgdGhlIHdhcm5pbmcgdW5sZXNzIHRoZXkgbGFuZCBhdCB0aGUgcGFyZW50IHJvdXRlLlxuICAgIC8vXG4gICAgLy8gRXhhbXBsZTpcbiAgICAvL1xuICAgIC8vIDxSb3V0ZXM+XG4gICAgLy8gICB7LyogVGhpcyByb3V0ZSBwYXRoIE1VU1QgZW5kIHdpdGggLyogYmVjYXVzZSBvdGhlcndpc2VcbiAgICAvLyAgICAgICBpdCB3aWxsIG5ldmVyIG1hdGNoIC9ibG9nL3Bvc3QvMTIzICovfVxuICAgIC8vICAgPFJvdXRlIHBhdGg9XCJibG9nXCIgZWxlbWVudD17PEJsb2cgLz59IC8+XG4gICAgLy8gICA8Um91dGUgcGF0aD1cImJsb2cvZmVlZFwiIGVsZW1lbnQ9ezxCbG9nRmVlZCAvPn0gLz5cbiAgICAvLyA8L1JvdXRlcz5cbiAgICAvL1xuICAgIC8vIGZ1bmN0aW9uIEJsb2coKSB7XG4gICAgLy8gICByZXR1cm4gKFxuICAgIC8vICAgICA8Um91dGVzPlxuICAgIC8vICAgICAgIDxSb3V0ZSBwYXRoPVwicG9zdC86aWRcIiBlbGVtZW50PXs8UG9zdCAvPn0gLz5cbiAgICAvLyAgICAgPC9Sb3V0ZXM+XG4gICAgLy8gICApO1xuICAgIC8vIH1cbiAgICBsZXQgcGFyZW50UGF0aCA9IChwYXJlbnRSb3V0ZSAmJiBwYXJlbnRSb3V0ZS5wYXRoKSB8fCBcIlwiO1xuICAgIHdhcm5pbmdPbmNlKFxuICAgICAgcGFyZW50UGF0aG5hbWUsXG4gICAgICAhcGFyZW50Um91dGUgfHwgcGFyZW50UGF0aC5lbmRzV2l0aChcIipcIiksXG4gICAgICBgWW91IHJlbmRlcmVkIGRlc2NlbmRhbnQgPFJvdXRlcz4gKG9yIGNhbGxlZCBcXGB1c2VSb3V0ZXMoKVxcYCkgYXQgYCArXG4gICAgICAgIGBcIiR7cGFyZW50UGF0aG5hbWV9XCIgKHVuZGVyIDxSb3V0ZSBwYXRoPVwiJHtwYXJlbnRQYXRofVwiPikgYnV0IHRoZSBgICtcbiAgICAgICAgYHBhcmVudCByb3V0ZSBwYXRoIGhhcyBubyB0cmFpbGluZyBcIipcIi4gVGhpcyBtZWFucyBpZiB5b3UgbmF2aWdhdGUgYCArXG4gICAgICAgIGBkZWVwZXIsIHRoZSBwYXJlbnQgd29uJ3QgbWF0Y2ggYW55bW9yZSBhbmQgdGhlcmVmb3JlIHRoZSBjaGlsZCBgICtcbiAgICAgICAgYHJvdXRlcyB3aWxsIG5ldmVyIHJlbmRlci5cXG5cXG5gICtcbiAgICAgICAgYFBsZWFzZSBjaGFuZ2UgdGhlIHBhcmVudCA8Um91dGUgcGF0aD1cIiR7cGFyZW50UGF0aH1cIj4gdG8gPFJvdXRlIGAgK1xuICAgICAgICBgcGF0aD1cIiR7cGFyZW50UGF0aCA9PT0gXCIvXCIgPyBcIipcIiA6IGAke3BhcmVudFBhdGh9LypgfVwiPi5gXG4gICAgKTtcbiAgfVxuXG4gIGxldCBsb2NhdGlvbkZyb21Db250ZXh0ID0gdXNlTG9jYXRpb24oKTtcblxuICBsZXQgbG9jYXRpb247XG4gIGlmIChsb2NhdGlvbkFyZykge1xuICAgIGxldCBwYXJzZWRMb2NhdGlvbkFyZyA9XG4gICAgICB0eXBlb2YgbG9jYXRpb25BcmcgPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgobG9jYXRpb25BcmcpIDogbG9jYXRpb25Bcmc7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBwYXJlbnRQYXRobmFtZUJhc2UgPT09IFwiL1wiIHx8XG4gICAgICAgIHBhcnNlZExvY2F0aW9uQXJnLnBhdGhuYW1lPy5zdGFydHNXaXRoKHBhcmVudFBhdGhuYW1lQmFzZSksXG4gICAgICBgV2hlbiBvdmVycmlkaW5nIHRoZSBsb2NhdGlvbiB1c2luZyBcXGA8Um91dGVzIGxvY2F0aW9uPlxcYCBvciBcXGB1c2VSb3V0ZXMocm91dGVzLCBsb2NhdGlvbilcXGAsIGAgK1xuICAgICAgICBgdGhlIGxvY2F0aW9uIHBhdGhuYW1lIG11c3QgYmVnaW4gd2l0aCB0aGUgcG9ydGlvbiBvZiB0aGUgVVJMIHBhdGhuYW1lIHRoYXQgd2FzIGAgK1xuICAgICAgICBgbWF0Y2hlZCBieSBhbGwgcGFyZW50IHJvdXRlcy4gVGhlIGN1cnJlbnQgcGF0aG5hbWUgYmFzZSBpcyBcIiR7cGFyZW50UGF0aG5hbWVCYXNlfVwiIGAgK1xuICAgICAgICBgYnV0IHBhdGhuYW1lIFwiJHtwYXJzZWRMb2NhdGlvbkFyZy5wYXRobmFtZX1cIiB3YXMgZ2l2ZW4gaW4gdGhlIFxcYGxvY2F0aW9uXFxgIHByb3AuYFxuICAgICk7XG5cbiAgICBsb2NhdGlvbiA9IHBhcnNlZExvY2F0aW9uQXJnO1xuICB9IGVsc2Uge1xuICAgIGxvY2F0aW9uID0gbG9jYXRpb25Gcm9tQ29udGV4dDtcbiAgfVxuXG4gIGxldCBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lIHx8IFwiL1wiO1xuXG4gIGxldCByZW1haW5pbmdQYXRobmFtZSA9IHBhdGhuYW1lO1xuICBpZiAocGFyZW50UGF0aG5hbWVCYXNlICE9PSBcIi9cIikge1xuICAgIC8vIERldGVybWluZSB0aGUgcmVtYWluaW5nIHBhdGhuYW1lIGJ5IHJlbW92aW5nIHRoZSAjIG9mIFVSTCBzZWdtZW50cyB0aGVcbiAgICAvLyBwYXJlbnRQYXRobmFtZUJhc2UgaGFzLCBpbnN0ZWFkIG9mIHJlbW92aW5nIGJhc2VkIG9uIGNoYXJhY3RlciBjb3VudC5cbiAgICAvLyBUaGlzIGlzIGJlY2F1c2Ugd2UgY2FuJ3QgZ3VhcmFudGVlIHRoYXQgaW5jb21pbmcvb3V0Z29pbmcgZW5jb2RpbmdzL1xuICAgIC8vIGRlY29kaW5ncyB3aWxsIG1hdGNoIGV4YWN0bHkuXG4gICAgLy8gV2UgZGVjb2RlIHBhdGhzIGJlZm9yZSBtYXRjaGluZyBvbiBhIHBlci1zZWdtZW50IGJhc2lzIHdpdGhcbiAgICAvLyBkZWNvZGVVUklDb21wb25lbnQoKSwgYnV0IHdlIHJlLWVuY29kZSBwYXRobmFtZXMgdmlhIGBuZXcgVVJMKClgIHNvIHRoZXlcbiAgICAvLyBtYXRjaCB3aGF0IGB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVgIHdvdWxkIHJlZmxlY3QuICBUaG9zZSBkb24ndCAxMDAlXG4gICAgLy8gYWxpZ24gd2hlbiBpdCBjb21lcyB0byBlbmNvZGVkIFVSSSBjaGFyYWN0ZXJzIHN1Y2ggYXMgJSBhbmQgJi5cbiAgICAvL1xuICAgIC8vIFNvIHdlIG1heSBlbmQgdXAgd2l0aDpcbiAgICAvLyAgIHBhdGhuYW1lOiAgICAgICAgICAgXCIvZGVzY2VuZGFudC9hJTI1Yi9tYXRjaFwiXG4gICAgLy8gICBwYXJlbnRQYXRobmFtZUJhc2U6IFwiL2Rlc2NlbmRhbnQvYSViXCJcbiAgICAvL1xuICAgIC8vIEFuZCB0aGUgZGlyZWN0IHN1YnN0cmluZyByZW1vdmFsIGFwcHJvYWNoIHdvbid0IHdvcmsgOi9cbiAgICBsZXQgcGFyZW50U2VnbWVudHMgPSBwYXJlbnRQYXRobmFtZUJhc2UucmVwbGFjZSgvXlxcLy8sIFwiXCIpLnNwbGl0KFwiL1wiKTtcbiAgICBsZXQgc2VnbWVudHMgPSBwYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gXCIvXCIgKyBzZWdtZW50cy5zbGljZShwYXJlbnRTZWdtZW50cy5sZW5ndGgpLmpvaW4oXCIvXCIpO1xuICB9XG5cbiAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXMsIHsgcGF0aG5hbWU6IHJlbWFpbmluZ1BhdGhuYW1lIH0pO1xuXG4gIGlmIChfX0RFVl9fKSB7XG4gICAgd2FybmluZyhcbiAgICAgIHBhcmVudFJvdXRlIHx8IG1hdGNoZXMgIT0gbnVsbCxcbiAgICAgIGBObyByb3V0ZXMgbWF0Y2hlZCBsb2NhdGlvbiBcIiR7bG9jYXRpb24ucGF0aG5hbWV9JHtsb2NhdGlvbi5zZWFyY2h9JHtsb2NhdGlvbi5oYXNofVwiIGBcbiAgICApO1xuXG4gICAgd2FybmluZyhcbiAgICAgIG1hdGNoZXMgPT0gbnVsbCB8fFxuICAgICAgICBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuZWxlbWVudCAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5Db21wb25lbnQgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUubGF6eSAhPT0gdW5kZWZpbmVkLFxuICAgICAgYE1hdGNoZWQgbGVhZiByb3V0ZSBhdCBsb2NhdGlvbiBcIiR7bG9jYXRpb24ucGF0aG5hbWV9JHtsb2NhdGlvbi5zZWFyY2h9JHtsb2NhdGlvbi5oYXNofVwiIGAgK1xuICAgICAgICBgZG9lcyBub3QgaGF2ZSBhbiBlbGVtZW50IG9yIENvbXBvbmVudC4gVGhpcyBtZWFucyBpdCB3aWxsIHJlbmRlciBhbiA8T3V0bGV0IC8+IHdpdGggYSBgICtcbiAgICAgICAgYG51bGwgdmFsdWUgYnkgZGVmYXVsdCByZXN1bHRpbmcgaW4gYW4gXCJlbXB0eVwiIHBhZ2UuYFxuICAgICk7XG4gIH1cblxuICBsZXQgcmVuZGVyZWRNYXRjaGVzID0gX3JlbmRlck1hdGNoZXMoXG4gICAgbWF0Y2hlcyAmJlxuICAgICAgbWF0Y2hlcy5tYXAoKG1hdGNoKSA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBtYXRjaCwge1xuICAgICAgICAgIHBhcmFtczogT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50UGFyYW1zLCBtYXRjaC5wYXJhbXMpLFxuICAgICAgICAgIHBhdGhuYW1lOiBqb2luUGF0aHMoW1xuICAgICAgICAgICAgcGFyZW50UGF0aG5hbWVCYXNlLFxuICAgICAgICAgICAgLy8gUmUtZW5jb2RlIHBhdGhuYW1lcyB0aGF0IHdlcmUgZGVjb2RlZCBpbnNpZGUgbWF0Y2hSb3V0ZXNcbiAgICAgICAgICAgIG5hdmlnYXRvci5lbmNvZGVMb2NhdGlvblxuICAgICAgICAgICAgICA/IG5hdmlnYXRvci5lbmNvZGVMb2NhdGlvbihtYXRjaC5wYXRobmFtZSkucGF0aG5hbWVcbiAgICAgICAgICAgICAgOiBtYXRjaC5wYXRobmFtZSxcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBwYXRobmFtZUJhc2U6XG4gICAgICAgICAgICBtYXRjaC5wYXRobmFtZUJhc2UgPT09IFwiL1wiXG4gICAgICAgICAgICAgID8gcGFyZW50UGF0aG5hbWVCYXNlXG4gICAgICAgICAgICAgIDogam9pblBhdGhzKFtcbiAgICAgICAgICAgICAgICAgIHBhcmVudFBhdGhuYW1lQmFzZSxcbiAgICAgICAgICAgICAgICAgIC8vIFJlLWVuY29kZSBwYXRobmFtZXMgdGhhdCB3ZXJlIGRlY29kZWQgaW5zaWRlIG1hdGNoUm91dGVzXG4gICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZW5jb2RlTG9jYXRpb25cbiAgICAgICAgICAgICAgICAgICAgPyBuYXZpZ2F0b3IuZW5jb2RlTG9jYXRpb24obWF0Y2gucGF0aG5hbWVCYXNlKS5wYXRobmFtZVxuICAgICAgICAgICAgICAgICAgICA6IG1hdGNoLnBhdGhuYW1lQmFzZSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgcGFyZW50TWF0Y2hlcyxcbiAgICBkYXRhUm91dGVyU3RhdGUsXG4gICAgZnV0dXJlXG4gICk7XG5cbiAgLy8gV2hlbiBhIHVzZXIgcGFzc2VzIGluIGEgYGxvY2F0aW9uQXJnYCwgdGhlIGFzc29jaWF0ZWQgcm91dGVzIG5lZWQgdG9cbiAgLy8gYmUgd3JhcHBlZCBpbiBhIG5ldyBgTG9jYXRpb25Db250ZXh0LlByb3ZpZGVyYCBpbiBvcmRlciBmb3IgYHVzZUxvY2F0aW9uYFxuICAvLyB0byB1c2UgdGhlIHNjb3BlZCBsb2NhdGlvbiBpbnN0ZWFkIG9mIHRoZSBnbG9iYWwgbG9jYXRpb24uXG4gIGlmIChsb2NhdGlvbkFyZyAmJiByZW5kZXJlZE1hdGNoZXMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExvY2F0aW9uQ29udGV4dC5Qcm92aWRlclxuICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICBwYXRobmFtZTogXCIvXCIsXG4gICAgICAgICAgICBzZWFyY2g6IFwiXCIsXG4gICAgICAgICAgICBoYXNoOiBcIlwiLFxuICAgICAgICAgICAgc3RhdGU6IG51bGwsXG4gICAgICAgICAgICBrZXk6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgLi4ubG9jYXRpb24sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBuYXZpZ2F0aW9uVHlwZTogTmF2aWdhdGlvblR5cGUuUG9wLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7cmVuZGVyZWRNYXRjaGVzfVxuICAgICAgPC9Mb2NhdGlvbkNvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiByZW5kZXJlZE1hdGNoZXM7XG59XG5cbmZ1bmN0aW9uIERlZmF1bHRFcnJvckNvbXBvbmVudCgpIHtcbiAgbGV0IGVycm9yID0gdXNlUm91dGVFcnJvcigpO1xuICBsZXQgbWVzc2FnZSA9IGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKVxuICAgID8gYCR7ZXJyb3Iuc3RhdHVzfSAke2Vycm9yLnN0YXR1c1RleHR9YFxuICAgIDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgID8gZXJyb3IubWVzc2FnZVxuICAgIDogSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICBsZXQgc3RhY2sgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiBudWxsO1xuICBsZXQgbGlnaHRncmV5ID0gXCJyZ2JhKDIwMCwyMDAsMjAwLCAwLjUpXCI7XG4gIGxldCBwcmVTdHlsZXMgPSB7IHBhZGRpbmc6IFwiMC41cmVtXCIsIGJhY2tncm91bmRDb2xvcjogbGlnaHRncmV5IH07XG4gIGxldCBjb2RlU3R5bGVzID0geyBwYWRkaW5nOiBcIjJweCA0cHhcIiwgYmFja2dyb3VuZENvbG9yOiBsaWdodGdyZXkgfTtcblxuICBsZXQgZGV2SW5mbyA9IG51bGw7XG4gIGlmIChfX0RFVl9fKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiRXJyb3IgaGFuZGxlZCBieSBSZWFjdCBSb3V0ZXIgZGVmYXVsdCBFcnJvckJvdW5kYXJ5OlwiLFxuICAgICAgZXJyb3JcbiAgICApO1xuXG4gICAgZGV2SW5mbyA9IChcbiAgICAgIDw+XG4gICAgICAgIDxwPvCfkr8gSGV5IGRldmVsb3BlciDwn5GLPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICBZb3UgY2FuIHByb3ZpZGUgYSB3YXkgYmV0dGVyIFVYIHRoYW4gdGhpcyB3aGVuIHlvdXIgYXBwIHRocm93cyBlcnJvcnNcbiAgICAgICAgICBieSBwcm92aWRpbmcgeW91ciBvd24gPGNvZGUgc3R5bGU9e2NvZGVTdHlsZXN9PkVycm9yQm91bmRhcnk8L2NvZGU+IG9ye1wiIFwifVxuICAgICAgICAgIDxjb2RlIHN0eWxlPXtjb2RlU3R5bGVzfT5lcnJvckVsZW1lbnQ8L2NvZGU+IHByb3Agb24geW91ciByb3V0ZS5cbiAgICAgICAgPC9wPlxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxoMj5VbmV4cGVjdGVkIEFwcGxpY2F0aW9uIEVycm9yITwvaDI+XG4gICAgICA8aDMgc3R5bGU9e3sgZm9udFN0eWxlOiBcIml0YWxpY1wiIH19PnttZXNzYWdlfTwvaDM+XG4gICAgICB7c3RhY2sgPyA8cHJlIHN0eWxlPXtwcmVTdHlsZXN9PntzdGFja308L3ByZT4gOiBudWxsfVxuICAgICAge2RldkluZm99XG4gICAgPC8+XG4gICk7XG59XG5cbmNvbnN0IGRlZmF1bHRFcnJvckVsZW1lbnQgPSA8RGVmYXVsdEVycm9yQ29tcG9uZW50IC8+O1xuXG50eXBlIFJlbmRlckVycm9yQm91bmRhcnlQcm9wcyA9IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPHtcbiAgbG9jYXRpb246IExvY2F0aW9uO1xuICByZXZhbGlkYXRpb246IFJldmFsaWRhdGlvblN0YXRlO1xuICBlcnJvcjogYW55O1xuICBjb21wb25lbnQ6IFJlYWN0LlJlYWN0Tm9kZTtcbiAgcm91dGVDb250ZXh0OiBSb3V0ZUNvbnRleHRPYmplY3Q7XG59PjtcblxudHlwZSBSZW5kZXJFcnJvckJvdW5kYXJ5U3RhdGUgPSB7XG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcbiAgcmV2YWxpZGF0aW9uOiBSZXZhbGlkYXRpb25TdGF0ZTtcbiAgZXJyb3I6IGFueTtcbn07XG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFxuICBSZW5kZXJFcnJvckJvdW5kYXJ5UHJvcHMsXG4gIFJlbmRlckVycm9yQm91bmRhcnlTdGF0ZVxuPiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzOiBSZW5kZXJFcnJvckJvdW5kYXJ5UHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbixcbiAgICAgIHJldmFsaWRhdGlvbjogcHJvcHMucmV2YWxpZGF0aW9uLFxuICAgICAgZXJyb3I6IHByb3BzLmVycm9yLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yOiBhbnkpIHtcbiAgICByZXR1cm4geyBlcnJvcjogZXJyb3IgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgcHJvcHM6IFJlbmRlckVycm9yQm91bmRhcnlQcm9wcyxcbiAgICBzdGF0ZTogUmVuZGVyRXJyb3JCb3VuZGFyeVN0YXRlXG4gICkge1xuICAgIC8vIFdoZW4gd2UgZ2V0IGludG8gYW4gZXJyb3Igc3RhdGUsIHRoZSB1c2VyIHdpbGwgbGlrZWx5IGNsaWNrIFwiYmFja1wiIHRvIHRoZVxuICAgIC8vIHByZXZpb3VzIHBhZ2UgdGhhdCBkaWRuJ3QgaGF2ZSBhbiBlcnJvci4gQmVjYXVzZSB0aGlzIHdyYXBzIHRoZSBlbnRpcmVcbiAgICAvLyBhcHBsaWNhdGlvbiwgdGhhdCB3aWxsIGhhdmUgbm8gZWZmZWN0LS10aGUgZXJyb3IgcGFnZSBjb250aW51ZXMgdG8gZGlzcGxheS5cbiAgICAvLyBUaGlzIGdpdmVzIHVzIGEgbWVjaGFuaXNtIHRvIHJlY292ZXIgZnJvbSB0aGUgZXJyb3Igd2hlbiB0aGUgbG9jYXRpb24gY2hhbmdlcy5cbiAgICAvL1xuICAgIC8vIFdoZXRoZXIgd2UncmUgaW4gYW4gZXJyb3Igc3RhdGUgb3Igbm90LCB3ZSB1cGRhdGUgdGhlIGxvY2F0aW9uIGluIHN0YXRlXG4gICAgLy8gc28gdGhhdCB3aGVuIHdlIGFyZSBpbiBhbiBlcnJvciBzdGF0ZSwgaXQgZ2V0cyByZXNldCB3aGVuIGEgbmV3IGxvY2F0aW9uXG4gICAgLy8gY29tZXMgaW4gYW5kIHRoZSB1c2VyIHJlY292ZXJzIGZyb20gdGhlIGVycm9yLlxuICAgIGlmIChcbiAgICAgIHN0YXRlLmxvY2F0aW9uICE9PSBwcm9wcy5sb2NhdGlvbiB8fFxuICAgICAgKHN0YXRlLnJldmFsaWRhdGlvbiAhPT0gXCJpZGxlXCIgJiYgcHJvcHMucmV2YWxpZGF0aW9uID09PSBcImlkbGVcIilcbiAgICApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yOiBwcm9wcy5lcnJvcixcbiAgICAgICAgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uLFxuICAgICAgICByZXZhbGlkYXRpb246IHByb3BzLnJldmFsaWRhdGlvbixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgd2UncmUgbm90IGNoYW5naW5nIGxvY2F0aW9ucywgcHJlc2VydmUgdGhlIGxvY2F0aW9uIGJ1dCBzdGlsbCBzdXJmYWNlXG4gICAgLy8gYW55IG5ldyBlcnJvcnMgdGhhdCBtYXkgY29tZSB0aHJvdWdoLiBXZSByZXRhaW4gdGhlIGV4aXN0aW5nIGVycm9yLCB3ZSBkb1xuICAgIC8vIHRoaXMgYmVjYXVzZSB0aGUgZXJyb3IgcHJvdmlkZWQgZnJvbSB0aGUgYXBwIHN0YXRlIG1heSBiZSBjbGVhcmVkIHdpdGhvdXRcbiAgICAvLyB0aGUgbG9jYXRpb24gY2hhbmdpbmcuXG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiBwcm9wcy5lcnJvciAhPT0gdW5kZWZpbmVkID8gcHJvcHMuZXJyb3IgOiBzdGF0ZS5lcnJvcixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIHJldmFsaWRhdGlvbjogcHJvcHMucmV2YWxpZGF0aW9uIHx8IHN0YXRlLnJldmFsaWRhdGlvbixcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3I6IGFueSwgZXJyb3JJbmZvOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJSZWFjdCBSb3V0ZXIgY2F1Z2h0IHRoZSBmb2xsb3dpbmcgZXJyb3IgZHVyaW5nIHJlbmRlclwiLFxuICAgICAgZXJyb3IsXG4gICAgICBlcnJvckluZm9cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmVycm9yICE9PSB1bmRlZmluZWQgPyAoXG4gICAgICA8Um91dGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt0aGlzLnByb3BzLnJvdXRlQ29udGV4dH0+XG4gICAgICAgIDxSb3V0ZUVycm9yQ29udGV4dC5Qcm92aWRlclxuICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVycm9yfVxuICAgICAgICAgIGNoaWxkcmVuPXt0aGlzLnByb3BzLmNvbXBvbmVudH1cbiAgICAgICAgLz5cbiAgICAgIDwvUm91dGVDb250ZXh0LlByb3ZpZGVyPlxuICAgICkgOiAoXG4gICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgKTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgUmVuZGVyZWRSb3V0ZVByb3BzIHtcbiAgcm91dGVDb250ZXh0OiBSb3V0ZUNvbnRleHRPYmplY3Q7XG4gIG1hdGNoOiBSb3V0ZU1hdGNoPHN0cmluZywgUm91dGVPYmplY3Q+O1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gUmVuZGVyZWRSb3V0ZSh7IHJvdXRlQ29udGV4dCwgbWF0Y2gsIGNoaWxkcmVuIH06IFJlbmRlcmVkUm91dGVQcm9wcykge1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcblxuICAvLyBUcmFjayBob3cgZGVlcCB3ZSBnb3QgaW4gb3VyIHJlbmRlciBwYXNzIHRvIGVtdWxhdGUgU1NSIGNvbXBvbmVudERpZENhdGNoXG4gIC8vIGluIGEgRGF0YVN0YXRpY1JvdXRlclxuICBpZiAoXG4gICAgZGF0YVJvdXRlckNvbnRleHQgJiZcbiAgICBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWMgJiZcbiAgICBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWNDb250ZXh0ICYmXG4gICAgKG1hdGNoLnJvdXRlLmVycm9yRWxlbWVudCB8fCBtYXRjaC5yb3V0ZS5FcnJvckJvdW5kYXJ5KVxuICApIHtcbiAgICBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWNDb250ZXh0Ll9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkID0gbWF0Y2gucm91dGUuaWQ7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxSb3V0ZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3JvdXRlQ29udGV4dH0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Sb3V0ZUNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcmVuZGVyTWF0Y2hlcyhcbiAgbWF0Y2hlczogUm91dGVNYXRjaFtdIHwgbnVsbCxcbiAgcGFyZW50TWF0Y2hlczogUm91dGVNYXRjaFtdID0gW10sXG4gIGRhdGFSb3V0ZXJTdGF0ZTogUmVtaXhSb3V0ZXJbXCJzdGF0ZVwiXSB8IG51bGwgPSBudWxsLFxuICBmdXR1cmU6IFJlbWl4Um91dGVyW1wiZnV0dXJlXCJdIHwgbnVsbCA9IG51bGxcbik6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICBpZiAobWF0Y2hlcyA9PSBudWxsKSB7XG4gICAgaWYgKCFkYXRhUm91dGVyU3RhdGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChkYXRhUm91dGVyU3RhdGUuZXJyb3JzKSB7XG4gICAgICAvLyBEb24ndCBiYWlsIGlmIHdlIGhhdmUgZGF0YSByb3V0ZXIgZXJyb3JzIHNvIHdlIGNhbiByZW5kZXIgdGhlbSBpbiB0aGVcbiAgICAgIC8vIGJvdW5kYXJ5LiAgVXNlIHRoZSBwcmUtbWF0Y2hlZCAob3Igc2hpbW1lZCkgbWF0Y2hlc1xuICAgICAgbWF0Y2hlcyA9IGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzIGFzIERhdGFSb3V0ZU1hdGNoW107XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGZ1dHVyZT8udjdfcGFydGlhbEh5ZHJhdGlvbiAmJlxuICAgICAgcGFyZW50TWF0Y2hlcy5sZW5ndGggPT09IDAgJiZcbiAgICAgICFkYXRhUm91dGVyU3RhdGUuaW5pdGlhbGl6ZWQgJiZcbiAgICAgIGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIC8vIERvbid0IGJhaWwgaWYgd2UncmUgaW5pdGlhbGl6aW5nIHdpdGggcGFydGlhbCBoeWRyYXRpb24gYW5kIHdlIGhhdmVcbiAgICAgIC8vIHJvdXRlciBtYXRjaGVzLiAgVGhhdCBtZWFucyB3ZSdyZSBhY3RpdmVseSBydW5uaW5nIGBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbmBcbiAgICAgIC8vIHNvIHdlIHNob3VsZCByZW5kZXIgZG93biB0aGUgcGFydGlhbCBtYXRjaGVzIHRvIHRoZSBhcHByb3ByaWF0ZVxuICAgICAgLy8gYEh5ZHJhdGVGYWxsYmFja2AuICBXZSBvbmx5IGRvIHRoaXMgaWYgYHBhcmVudE1hdGNoZXNgIGlzIGVtcHR5IHNvIGl0XG4gICAgICAvLyBvbmx5IGltcGFjdHMgdGhlIHJvb3QgbWF0Y2hlcyBmb3IgYFJvdXRlclByb3ZpZGVyYCBhbmQgbm8gZGVzY2VuZGFudFxuICAgICAgLy8gYDxSb3V0ZXM+YFxuICAgICAgbWF0Y2hlcyA9IGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzIGFzIERhdGFSb3V0ZU1hdGNoW107XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGxldCByZW5kZXJlZE1hdGNoZXMgPSBtYXRjaGVzO1xuXG4gIC8vIElmIHdlIGhhdmUgZGF0YSBlcnJvcnMsIHRyaW0gbWF0Y2hlcyB0byB0aGUgaGlnaGVzdCBlcnJvciBib3VuZGFyeVxuICBsZXQgZXJyb3JzID0gZGF0YVJvdXRlclN0YXRlPy5lcnJvcnM7XG4gIGlmIChlcnJvcnMgIT0gbnVsbCkge1xuICAgIGxldCBlcnJvckluZGV4ID0gcmVuZGVyZWRNYXRjaGVzLmZpbmRJbmRleChcbiAgICAgIChtKSA9PiBtLnJvdXRlLmlkICYmIGVycm9ycz8uW20ucm91dGUuaWRdICE9PSB1bmRlZmluZWRcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGVycm9ySW5kZXggPj0gMCxcbiAgICAgIGBDb3VsZCBub3QgZmluZCBhIG1hdGNoaW5nIHJvdXRlIGZvciBlcnJvcnMgb24gcm91dGUgSURzOiAke09iamVjdC5rZXlzKFxuICAgICAgICBlcnJvcnNcbiAgICAgICkuam9pbihcIixcIil9YFxuICAgICk7XG4gICAgcmVuZGVyZWRNYXRjaGVzID0gcmVuZGVyZWRNYXRjaGVzLnNsaWNlKFxuICAgICAgMCxcbiAgICAgIE1hdGgubWluKHJlbmRlcmVkTWF0Y2hlcy5sZW5ndGgsIGVycm9ySW5kZXggKyAxKVxuICAgICk7XG4gIH1cblxuICAvLyBJZiB3ZSdyZSBpbiBhIHBhcnRpYWwgaHlkcmF0aW9uIG1vZGUsIGRldGVjdCBpZiB3ZSBuZWVkIHRvIHJlbmRlciBkb3duIHRvXG4gIC8vIGEgZ2l2ZW4gSHlkcmF0ZUZhbGxiYWNrIHdoaWxlIHdlIGxvYWQgdGhlIHJlc3Qgb2YgdGhlIGh5ZHJhdGlvbiBkYXRhXG4gIGxldCByZW5kZXJGYWxsYmFjayA9IGZhbHNlO1xuICBsZXQgZmFsbGJhY2tJbmRleCA9IC0xO1xuICBpZiAoZGF0YVJvdXRlclN0YXRlICYmIGZ1dHVyZSAmJiBmdXR1cmUudjdfcGFydGlhbEh5ZHJhdGlvbikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyZWRNYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbWF0Y2ggPSByZW5kZXJlZE1hdGNoZXNbaV07XG4gICAgICAvLyBUcmFjayB0aGUgZGVlcGVzdCBmYWxsYmFjayB1cCB1bnRpbCB0aGUgZmlyc3Qgcm91dGUgd2l0aG91dCBkYXRhXG4gICAgICBpZiAobWF0Y2gucm91dGUuSHlkcmF0ZUZhbGxiYWNrIHx8IG1hdGNoLnJvdXRlLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQpIHtcbiAgICAgICAgZmFsbGJhY2tJbmRleCA9IGk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5pZCkge1xuICAgICAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IGRhdGFSb3V0ZXJTdGF0ZTtcbiAgICAgICAgbGV0IG5lZWRzVG9SdW5Mb2FkZXIgPVxuICAgICAgICAgIG1hdGNoLnJvdXRlLmxvYWRlciAmJlxuICAgICAgICAgIGxvYWRlckRhdGFbbWF0Y2gucm91dGUuaWRdID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAoIWVycm9ycyB8fCBlcnJvcnNbbWF0Y2gucm91dGUuaWRdID09PSB1bmRlZmluZWQpO1xuICAgICAgICBpZiAobWF0Y2gucm91dGUubGF6eSB8fCBuZWVkc1RvUnVuTG9hZGVyKSB7XG4gICAgICAgICAgLy8gV2UgZm91bmQgdGhlIGZpcnN0IHJvdXRlIHRoYXQncyBub3QgcmVhZHkgdG8gcmVuZGVyICh3YWl0aW5nIG9uXG4gICAgICAgICAgLy8gbGF6eSwgb3IgaGFzIGEgbG9hZGVyIHRoYXQgaGFzbid0IHJ1biB5ZXQpLiAgRmxhZyB0aGF0IHdlIG5lZWQgdG9cbiAgICAgICAgICAvLyByZW5kZXIgYSBmYWxsYmFjayBhbmQgcmVuZGVyIHVwIHVudGlsIHRoZSBhcHByb3ByaWF0ZSBmYWxsYmFja1xuICAgICAgICAgIHJlbmRlckZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZmFsbGJhY2tJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICByZW5kZXJlZE1hdGNoZXMgPSByZW5kZXJlZE1hdGNoZXMuc2xpY2UoMCwgZmFsbGJhY2tJbmRleCArIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlZE1hdGNoZXMgPSBbcmVuZGVyZWRNYXRjaGVzWzBdXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVuZGVyZWRNYXRjaGVzLnJlZHVjZVJpZ2h0KChvdXRsZXQsIG1hdGNoLCBpbmRleCkgPT4ge1xuICAgIC8vIE9ubHkgZGF0YSByb3V0ZXJzIGhhbmRsZSBlcnJvcnMvZmFsbGJhY2tzXG4gICAgbGV0IGVycm9yOiBhbnk7XG4gICAgbGV0IHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IGZhbHNlO1xuICAgIGxldCBlcnJvckVsZW1lbnQ6IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGwgPSBudWxsO1xuICAgIGxldCBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoZGF0YVJvdXRlclN0YXRlKSB7XG4gICAgICBlcnJvciA9IGVycm9ycyAmJiBtYXRjaC5yb3V0ZS5pZCA/IGVycm9yc1ttYXRjaC5yb3V0ZS5pZF0gOiB1bmRlZmluZWQ7XG4gICAgICBlcnJvckVsZW1lbnQgPSBtYXRjaC5yb3V0ZS5lcnJvckVsZW1lbnQgfHwgZGVmYXVsdEVycm9yRWxlbWVudDtcblxuICAgICAgaWYgKHJlbmRlckZhbGxiYWNrKSB7XG4gICAgICAgIGlmIChmYWxsYmFja0luZGV4IDwgMCAmJiBpbmRleCA9PT0gMCkge1xuICAgICAgICAgIHdhcm5pbmdPbmNlKFxuICAgICAgICAgICAgXCJyb3V0ZS1mYWxsYmFja1wiLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcIk5vIGBIeWRyYXRlRmFsbGJhY2tgIGVsZW1lbnQgcHJvdmlkZWQgdG8gcmVuZGVyIGR1cmluZyBpbml0aWFsIGh5ZHJhdGlvblwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZhbGxiYWNrSW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50ID0gbWF0Y2gucm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IG1hdGNoZXMgPSBwYXJlbnRNYXRjaGVzLmNvbmNhdChyZW5kZXJlZE1hdGNoZXMuc2xpY2UoMCwgaW5kZXggKyAxKSk7XG4gICAgbGV0IGdldENoaWxkcmVuID0gKCkgPT4ge1xuICAgICAgbGV0IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBlcnJvckVsZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjaykge1xuICAgICAgICBjaGlsZHJlbiA9IGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKG1hdGNoLnJvdXRlLkNvbXBvbmVudCkge1xuICAgICAgICAvLyBOb3RlOiBUaGlzIGlzIGEgZGUtb3B0aW1pemVkIHBhdGggc2luY2UgUmVhY3Qgd29uJ3QgcmUtdXNlIHRoZVxuICAgICAgICAvLyBSZWFjdEVsZW1lbnQgc2luY2UgaXQncyBpZGVudGl0eSBjaGFuZ2VzIHdpdGggZWFjaCBuZXdcbiAgICAgICAgLy8gUmVhY3QuY3JlYXRlRWxlbWVudCBjYWxsLiAgV2Uga2VlcCB0aGlzIHNvIGZvbGtzIGNhbiB1c2VcbiAgICAgICAgLy8gYDxSb3V0ZSBDb21wb25lbnQ9ey4uLn0+YCBpbiBgPFJvdXRlcz5gIGJ1dCBnZW5lcmFsbHkgYENvbXBvbmVudGBcbiAgICAgICAgLy8gdXNhZ2UgaXMgb25seSBhZHZpc2VkIGluIGBSb3V0ZXJQcm92aWRlcmAgd2hlbiB3ZSBjYW4gY29udmVydCBpdCB0b1xuICAgICAgICAvLyBgZWxlbWVudGAgYWhlYWQgb2YgdGltZS5cbiAgICAgICAgY2hpbGRyZW4gPSA8bWF0Y2gucm91dGUuQ29tcG9uZW50IC8+O1xuICAgICAgfSBlbHNlIGlmIChtYXRjaC5yb3V0ZS5lbGVtZW50KSB7XG4gICAgICAgIGNoaWxkcmVuID0gbWF0Y2gucm91dGUuZWxlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuID0gb3V0bGV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFJlbmRlcmVkUm91dGVcbiAgICAgICAgICBtYXRjaD17bWF0Y2h9XG4gICAgICAgICAgcm91dGVDb250ZXh0PXt7XG4gICAgICAgICAgICBvdXRsZXQsXG4gICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgaXNEYXRhUm91dGU6IGRhdGFSb3V0ZXJTdGF0ZSAhPSBudWxsLFxuICAgICAgICAgIH19XG4gICAgICAgICAgY2hpbGRyZW49e2NoaWxkcmVufVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9O1xuICAgIC8vIE9ubHkgd3JhcCBpbiBhbiBlcnJvciBib3VuZGFyeSB3aXRoaW4gZGF0YSByb3V0ZXIgdXNhZ2VzIHdoZW4gd2UgaGF2ZSBhblxuICAgIC8vIEVycm9yQm91bmRhcnkvZXJyb3JFbGVtZW50IG9uIHRoaXMgcm91dGUuICBPdGhlcndpc2UgbGV0IGl0IGJ1YmJsZSB1cCB0b1xuICAgIC8vIGFuIGFuY2VzdG9yIEVycm9yQm91bmRhcnkvZXJyb3JFbGVtZW50XG4gICAgcmV0dXJuIGRhdGFSb3V0ZXJTdGF0ZSAmJlxuICAgICAgKG1hdGNoLnJvdXRlLkVycm9yQm91bmRhcnkgfHwgbWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IGluZGV4ID09PSAwKSA/IChcbiAgICAgIDxSZW5kZXJFcnJvckJvdW5kYXJ5XG4gICAgICAgIGxvY2F0aW9uPXtkYXRhUm91dGVyU3RhdGUubG9jYXRpb259XG4gICAgICAgIHJldmFsaWRhdGlvbj17ZGF0YVJvdXRlclN0YXRlLnJldmFsaWRhdGlvbn1cbiAgICAgICAgY29tcG9uZW50PXtlcnJvckVsZW1lbnR9XG4gICAgICAgIGVycm9yPXtlcnJvcn1cbiAgICAgICAgY2hpbGRyZW49e2dldENoaWxkcmVuKCl9XG4gICAgICAgIHJvdXRlQ29udGV4dD17eyBvdXRsZXQ6IG51bGwsIG1hdGNoZXMsIGlzRGF0YVJvdXRlOiB0cnVlIH19XG4gICAgICAvPlxuICAgICkgOiAoXG4gICAgICBnZXRDaGlsZHJlbigpXG4gICAgKTtcbiAgfSwgbnVsbCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsKTtcbn1cblxuZW51bSBEYXRhUm91dGVySG9vayB7XG4gIFVzZUJsb2NrZXIgPSBcInVzZUJsb2NrZXJcIixcbiAgVXNlUmV2YWxpZGF0b3IgPSBcInVzZVJldmFsaWRhdG9yXCIsXG4gIFVzZU5hdmlnYXRlU3RhYmxlID0gXCJ1c2VOYXZpZ2F0ZVwiLFxufVxuXG5lbnVtIERhdGFSb3V0ZXJTdGF0ZUhvb2sge1xuICBVc2VCbG9ja2VyID0gXCJ1c2VCbG9ja2VyXCIsXG4gIFVzZUxvYWRlckRhdGEgPSBcInVzZUxvYWRlckRhdGFcIixcbiAgVXNlQWN0aW9uRGF0YSA9IFwidXNlQWN0aW9uRGF0YVwiLFxuICBVc2VSb3V0ZUVycm9yID0gXCJ1c2VSb3V0ZUVycm9yXCIsXG4gIFVzZU5hdmlnYXRpb24gPSBcInVzZU5hdmlnYXRpb25cIixcbiAgVXNlUm91dGVMb2FkZXJEYXRhID0gXCJ1c2VSb3V0ZUxvYWRlckRhdGFcIixcbiAgVXNlTWF0Y2hlcyA9IFwidXNlTWF0Y2hlc1wiLFxuICBVc2VSZXZhbGlkYXRvciA9IFwidXNlUmV2YWxpZGF0b3JcIixcbiAgVXNlTmF2aWdhdGVTdGFibGUgPSBcInVzZU5hdmlnYXRlXCIsXG4gIFVzZVJvdXRlSWQgPSBcInVzZVJvdXRlSWRcIixcbn1cblxuZnVuY3Rpb24gZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihcbiAgaG9va05hbWU6IERhdGFSb3V0ZXJIb29rIHwgRGF0YVJvdXRlclN0YXRlSG9va1xuKSB7XG4gIHJldHVybiBgJHtob29rTmFtZX0gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIGRhdGEgcm91dGVyLiAgU2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3JvdXRlcnMvcGlja2luZy1hLXJvdXRlci5gO1xufVxuXG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyQ29udGV4dChob29rTmFtZTogRGF0YVJvdXRlckhvb2spIHtcbiAgbGV0IGN0eCA9IFJlYWN0LnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpbnZhcmlhbnQoY3R4LCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiBjdHg7XG59XG5cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJTdGF0ZShob29rTmFtZTogRGF0YVJvdXRlclN0YXRlSG9vaykge1xuICBsZXQgc3RhdGUgPSBSZWFjdC51c2VDb250ZXh0KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQoc3RhdGUsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpKTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiB1c2VSb3V0ZUNvbnRleHQoaG9va05hbWU6IERhdGFSb3V0ZXJTdGF0ZUhvb2spIHtcbiAgbGV0IHJvdXRlID0gUmVhY3QudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQocm91dGUsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpKTtcbiAgcmV0dXJuIHJvdXRlO1xufVxuXG4vLyBJbnRlcm5hbCB2ZXJzaW9uIHdpdGggaG9va05hbWUtYXdhcmUgZGVidWdnaW5nXG5mdW5jdGlvbiB1c2VDdXJyZW50Um91dGVJZChob29rTmFtZTogRGF0YVJvdXRlclN0YXRlSG9vaykge1xuICBsZXQgcm91dGUgPSB1c2VSb3V0ZUNvbnRleHQoaG9va05hbWUpO1xuICBsZXQgdGhpc1JvdXRlID0gcm91dGUubWF0Y2hlc1tyb3V0ZS5tYXRjaGVzLmxlbmd0aCAtIDFdO1xuICBpbnZhcmlhbnQoXG4gICAgdGhpc1JvdXRlLnJvdXRlLmlkLFxuICAgIGAke2hvb2tOYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIHJvdXRlcyB0aGF0IGNvbnRhaW4gYSB1bmlxdWUgXCJpZFwiYFxuICApO1xuICByZXR1cm4gdGhpc1JvdXRlLnJvdXRlLmlkO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIElEIGZvciB0aGUgbmVhcmVzdCBjb250ZXh0dWFsIHJvdXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSb3V0ZUlkKCkge1xuICByZXR1cm4gdXNlQ3VycmVudFJvdXRlSWQoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VSb3V0ZUlkKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IG5hdmlnYXRpb24sIGRlZmF1bHRpbmcgdG8gYW4gXCJpZGxlXCIgbmF2aWdhdGlvbiB3aGVuXG4gKiBubyBuYXZpZ2F0aW9uIGlzIGluIHByb2dyZXNzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VOYXZpZ2F0aW9uKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VOYXZpZ2F0aW9uKTtcbiAgcmV0dXJuIHN0YXRlLm5hdmlnYXRpb247XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHJldmFsaWRhdGUgZnVuY3Rpb24gZm9yIG1hbnVhbGx5IHRyaWdnZXJpbmcgcmV2YWxpZGF0aW9uLCBhcyB3ZWxsXG4gKiBhcyB0aGUgY3VycmVudCBzdGF0ZSBvZiBhbnkgbWFudWFsIHJldmFsaWRhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJldmFsaWRhdG9yKCkge1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSB1c2VEYXRhUm91dGVyQ29udGV4dChEYXRhUm91dGVySG9vay5Vc2VSZXZhbGlkYXRvcik7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShEYXRhUm91dGVyU3RhdGVIb29rLlVzZVJldmFsaWRhdG9yKTtcbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHJldmFsaWRhdGU6IGRhdGFSb3V0ZXJDb250ZXh0LnJvdXRlci5yZXZhbGlkYXRlLFxuICAgICAgc3RhdGU6IHN0YXRlLnJldmFsaWRhdGlvbixcbiAgICB9KSxcbiAgICBbZGF0YVJvdXRlckNvbnRleHQucm91dGVyLnJldmFsaWRhdGUsIHN0YXRlLnJldmFsaWRhdGlvbl1cbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhY3RpdmUgcm91dGUgbWF0Y2hlcywgdXNlZnVsIGZvciBhY2Nlc3NpbmcgbG9hZGVyRGF0YSBmb3JcbiAqIHBhcmVudC9jaGlsZCByb3V0ZXMgb3IgdGhlIHJvdXRlIFwiaGFuZGxlXCIgcHJvcGVydHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1hdGNoZXMoKTogVUlNYXRjaFtdIHtcbiAgbGV0IHsgbWF0Y2hlcywgbG9hZGVyRGF0YSB9ID0gdXNlRGF0YVJvdXRlclN0YXRlKFxuICAgIERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlTWF0Y2hlc1xuICApO1xuICByZXR1cm4gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PiBtYXRjaGVzLm1hcCgobSkgPT4gY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2gobSwgbG9hZGVyRGF0YSkpLFxuICAgIFttYXRjaGVzLCBsb2FkZXJEYXRhXVxuICApO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGxvYWRlciBkYXRhIGZvciB0aGUgbmVhcmVzdCBhbmNlc3RvciBSb3V0ZSBsb2FkZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUxvYWRlckRhdGEoKTogdW5rbm93biB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShEYXRhUm91dGVyU3RhdGVIb29rLlVzZUxvYWRlckRhdGEpO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlTG9hZGVyRGF0YSk7XG5cbiAgaWYgKHN0YXRlLmVycm9ycyAmJiBzdGF0ZS5lcnJvcnNbcm91dGVJZF0gIT0gbnVsbCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBgWW91IGNhbm5vdCBcXGB1c2VMb2FkZXJEYXRhXFxgIGluIGFuIGVycm9yRWxlbWVudCAocm91dGVJZDogJHtyb3V0ZUlkfSlgXG4gICAgKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBzdGF0ZS5sb2FkZXJEYXRhW3JvdXRlSWRdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGxvYWRlckRhdGEgZm9yIHRoZSBnaXZlbiByb3V0ZUlkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSb3V0ZUxvYWRlckRhdGEocm91dGVJZDogc3RyaW5nKTogdW5rbm93biB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShEYXRhUm91dGVyU3RhdGVIb29rLlVzZVJvdXRlTG9hZGVyRGF0YSk7XG4gIHJldHVybiBzdGF0ZS5sb2FkZXJEYXRhW3JvdXRlSWRdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGFjdGlvbiBkYXRhIGZvciB0aGUgbmVhcmVzdCBhbmNlc3RvciBSb3V0ZSBhY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFjdGlvbkRhdGEoKTogdW5rbm93biB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShEYXRhUm91dGVyU3RhdGVIb29rLlVzZUFjdGlvbkRhdGEpO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlTG9hZGVyRGF0YSk7XG4gIHJldHVybiBzdGF0ZS5hY3Rpb25EYXRhID8gc3RhdGUuYWN0aW9uRGF0YVtyb3V0ZUlkXSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBuZWFyZXN0IGFuY2VzdG9yIFJvdXRlIGVycm9yLCB3aGljaCBjb3VsZCBiZSBhIGxvYWRlci9hY3Rpb25cbiAqIGVycm9yIG9yIGEgcmVuZGVyIGVycm9yLiAgVGhpcyBpcyBpbnRlbmRlZCB0byBiZSBjYWxsZWQgZnJvbSB5b3VyXG4gKiBFcnJvckJvdW5kYXJ5L2Vycm9yRWxlbWVudCB0byBkaXNwbGF5IGEgcHJvcGVyIGVycm9yIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSb3V0ZUVycm9yKCk6IHVua25vd24ge1xuICBsZXQgZXJyb3IgPSBSZWFjdC51c2VDb250ZXh0KFJvdXRlRXJyb3JDb250ZXh0KTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlUm91dGVFcnJvcik7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VSb3V0ZUVycm9yKTtcblxuICAvLyBJZiB0aGlzIHdhcyBhIHJlbmRlciBlcnJvciwgd2UgcHV0IGl0IGluIGEgUm91dGVFcnJvciBjb250ZXh0IGluc2lkZVxuICAvLyBvZiBSZW5kZXJFcnJvckJvdW5kYXJ5XG4gIGlmIChlcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgLy8gT3RoZXJ3aXNlIGxvb2sgZm9yIGVycm9ycyBmcm9tIG91ciBkYXRhIHJvdXRlciBzdGF0ZVxuICByZXR1cm4gc3RhdGUuZXJyb3JzPy5bcm91dGVJZF07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaGFwcHktcGF0aCBkYXRhIGZyb20gdGhlIG5lYXJlc3QgYW5jZXN0b3IgYDxBd2FpdCAvPmAgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFzeW5jVmFsdWUoKTogdW5rbm93biB7XG4gIGxldCB2YWx1ZSA9IFJlYWN0LnVzZUNvbnRleHQoQXdhaXRDb250ZXh0KTtcbiAgcmV0dXJuIHZhbHVlPy5fZGF0YTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBlcnJvciBmcm9tIHRoZSBuZWFyZXN0IGFuY2VzdG9yIGA8QXdhaXQgLz5gIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBc3luY0Vycm9yKCk6IHVua25vd24ge1xuICBsZXQgdmFsdWUgPSBSZWFjdC51c2VDb250ZXh0KEF3YWl0Q29udGV4dCk7XG4gIHJldHVybiB2YWx1ZT8uX2Vycm9yO1xufVxuXG5sZXQgYmxvY2tlcklkID0gMDtcblxuLyoqXG4gKiBBbGxvdyB0aGUgYXBwbGljYXRpb24gdG8gYmxvY2sgbmF2aWdhdGlvbnMgd2l0aGluIHRoZSBTUEEgYW5kIHByZXNlbnQgdGhlXG4gKiB1c2VyIGEgY29uZmlybWF0aW9uIGRpYWxvZyB0byBjb25maXJtIHRoZSBuYXZpZ2F0aW9uLiAgTW9zdGx5IHVzZWQgdG8gYXZvaWRcbiAqIHVzaW5nIGhhbGYtZmlsbGVkIGZvcm0gZGF0YS4gIFRoaXMgZG9lcyBub3QgaGFuZGxlIGhhcmQtcmVsb2FkcyBvclxuICogY3Jvc3Mtb3JpZ2luIG5hdmlnYXRpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQmxvY2tlcihzaG91bGRCbG9jazogYm9vbGVhbiB8IEJsb2NrZXJGdW5jdGlvbik6IEJsb2NrZXIge1xuICBsZXQgeyByb3V0ZXIsIGJhc2VuYW1lIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dChEYXRhUm91dGVySG9vay5Vc2VCbG9ja2VyKTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlQmxvY2tlcik7XG5cbiAgbGV0IFtibG9ja2VyS2V5LCBzZXRCbG9ja2VyS2V5XSA9IFJlYWN0LnVzZVN0YXRlKFwiXCIpO1xuICBsZXQgYmxvY2tlckZ1bmN0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2s8QmxvY2tlckZ1bmN0aW9uPihcbiAgICAoYXJnKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHNob3VsZEJsb2NrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuICEhc2hvdWxkQmxvY2s7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZW5hbWUgPT09IFwiL1wiKSB7XG4gICAgICAgIHJldHVybiBzaG91bGRCbG9jayhhcmcpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGV5IHByb3ZpZGVkIHVzIGEgZnVuY3Rpb24gYW5kIHdlJ3ZlIGdvdCBhbiBhY3RpdmUgYmFzZW5hbWUsIHN0cmlwXG4gICAgICAvLyBpdCBmcm9tIHRoZSBsb2NhdGlvbnMgd2UgZXhwb3NlIHRvIHRoZSB1c2VyIHRvIG1hdGNoIHRoZSBiZWhhdmlvciBvZlxuICAgICAgLy8gdXNlTG9jYXRpb25cbiAgICAgIGxldCB7IGN1cnJlbnRMb2NhdGlvbiwgbmV4dExvY2F0aW9uLCBoaXN0b3J5QWN0aW9uIH0gPSBhcmc7XG4gICAgICByZXR1cm4gc2hvdWxkQmxvY2soe1xuICAgICAgICBjdXJyZW50TG9jYXRpb246IHtcbiAgICAgICAgICAuLi5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgcGF0aG5hbWU6XG4gICAgICAgICAgICBzdHJpcEJhc2VuYW1lKGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8XG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIH0sXG4gICAgICAgIG5leHRMb2NhdGlvbjoge1xuICAgICAgICAgIC4uLm5leHRMb2NhdGlvbixcbiAgICAgICAgICBwYXRobmFtZTpcbiAgICAgICAgICAgIHN0cmlwQmFzZW5hbWUobmV4dExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHxcbiAgICAgICAgICAgIG5leHRMb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgfSxcbiAgICAgICAgaGlzdG9yeUFjdGlvbixcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2Jhc2VuYW1lLCBzaG91bGRCbG9ja11cbiAgKTtcblxuICAvLyBUaGlzIGVmZmVjdCBpcyBpbiBjaGFyZ2Ugb2YgYmxvY2tlciBrZXkgYXNzaWdubWVudCBhbmQgZGVsZXRpb24gKHdoaWNoIGlzXG4gIC8vIHRpZ2h0bHkgY291cGxlZCB0byB0aGUga2V5KVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBrZXkgPSBTdHJpbmcoKytibG9ja2VySWQpO1xuICAgIHNldEJsb2NrZXJLZXkoa2V5KTtcbiAgICByZXR1cm4gKCkgPT4gcm91dGVyLmRlbGV0ZUJsb2NrZXIoa2V5KTtcbiAgfSwgW3JvdXRlcl0pO1xuXG4gIC8vIFRoaXMgZWZmZWN0IGhhbmRsZXMgYXNzaWduaW5nIHRoZSBibG9ja2VyRnVuY3Rpb24uICBUaGlzIGlzIHRvIGhhbmRsZVxuICAvLyB1bnN0YWJsZSBibG9ja2VyIGZ1bmN0aW9uIGlkZW50aXRpZXMsIGFuZCBoYXBwZW5zIG9ubHkgYWZ0ZXIgdGhlIHByaW9yXG4gIC8vIGVmZmVjdCBzbyB3ZSBkb24ndCBnZXQgYW4gb3JwaGFuZWQgYmxvY2tlckZ1bmN0aW9uIGluIHRoZSByb3V0ZXIgd2l0aCBhXG4gIC8vIGtleSBvZiBcIlwiLiAgVW50aWwgdGhlbiB3ZSBqdXN0IGhhdmUgdGhlIElETEVfQkxPQ0tFUi5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmxvY2tlcktleSAhPT0gXCJcIikge1xuICAgICAgcm91dGVyLmdldEJsb2NrZXIoYmxvY2tlcktleSwgYmxvY2tlckZ1bmN0aW9uKTtcbiAgICB9XG4gIH0sIFtyb3V0ZXIsIGJsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbl0pO1xuXG4gIC8vIFByZWZlciB0aGUgYmxvY2tlciBmcm9tIGBzdGF0ZWAgbm90IGByb3V0ZXIuc3RhdGVgIHNpbmNlIERhdGFSb3V0ZXJDb250ZXh0XG4gIC8vIGlzIG1lbW9pemVkIHNvIHRoaXMgZW5zdXJlcyB3ZSB1cGRhdGUgb24gYmxvY2tlciBzdGF0ZSB1cGRhdGVzXG4gIHJldHVybiBibG9ja2VyS2V5ICYmIHN0YXRlLmJsb2NrZXJzLmhhcyhibG9ja2VyS2V5KVxuICAgID8gc3RhdGUuYmxvY2tlcnMuZ2V0KGJsb2NrZXJLZXkpIVxuICAgIDogSURMRV9CTE9DS0VSO1xufVxuXG4vKipcbiAqIFN0YWJsZSB2ZXJzaW9uIG9mIHVzZU5hdmlnYXRlIHRoYXQgaXMgdXNlZCB3aGVuIHdlIGFyZSBpbiB0aGUgY29udGV4dCBvZlxuICogYSBSb3V0ZXJQcm92aWRlci5cbiAqL1xuZnVuY3Rpb24gdXNlTmF2aWdhdGVTdGFibGUoKTogTmF2aWdhdGVGdW5jdGlvbiB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoRGF0YVJvdXRlckhvb2suVXNlTmF2aWdhdGVTdGFibGUpO1xuICBsZXQgaWQgPSB1c2VDdXJyZW50Um91dGVJZChEYXRhUm91dGVyU3RhdGVIb29rLlVzZU5hdmlnYXRlU3RhYmxlKTtcblxuICBsZXQgYWN0aXZlUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgYWN0aXZlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICB9KTtcblxuICBsZXQgbmF2aWdhdGU6IE5hdmlnYXRlRnVuY3Rpb24gPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAodG86IFRvIHwgbnVtYmVyLCBvcHRpb25zOiBOYXZpZ2F0ZU9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgd2FybmluZyhhY3RpdmVSZWYuY3VycmVudCwgbmF2aWdhdGVFZmZlY3RXYXJuaW5nKTtcblxuICAgICAgLy8gU2hvcnQgY2lyY3VpdCBoZXJlIHNpbmNlIGlmIHRoaXMgaGFwcGVucyBvbiBmaXJzdCByZW5kZXIgdGhlIG5hdmlnYXRlXG4gICAgICAvLyBpcyB1c2VsZXNzIGJlY2F1c2Ugd2UgaGF2ZW4ndCB3aXJlZCB1cCBvdXIgcm91dGVyIHN1YnNjcmliZXIgeWV0XG4gICAgICBpZiAoIWFjdGl2ZVJlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcm91dGVyLm5hdmlnYXRlKHRvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvdXRlci5uYXZpZ2F0ZSh0bywgeyBmcm9tUm91dGVJZDogaWQsIC4uLm9wdGlvbnMgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcm91dGVyLCBpZF1cbiAgKTtcblxuICByZXR1cm4gbmF2aWdhdGU7XG59XG5cbmNvbnN0IGFscmVhZHlXYXJuZWQ6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0ge307XG5cbmZ1bmN0aW9uIHdhcm5pbmdPbmNlKGtleTogc3RyaW5nLCBjb25kOiBib29sZWFuLCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgaWYgKCFjb25kICYmICFhbHJlYWR5V2FybmVkW2tleV0pIHtcbiAgICBhbHJlYWR5V2FybmVkW2tleV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsIG1lc3NhZ2UpO1xuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBGdXR1cmVDb25maWcgYXMgUm91dGVyRnV0dXJlQ29uZmlnIH0gZnJvbSBcIkByZW1peC1ydW4vcm91dGVyXCI7XG5pbXBvcnQgdHlwZSB7IEZ1dHVyZUNvbmZpZyBhcyBSZW5kZXJGdXR1cmVDb25maWcgfSBmcm9tIFwiLi9jb21wb25lbnRzXCI7XG5cbmNvbnN0IGFscmVhZHlXYXJuZWQ6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuT25jZShrZXk6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gIGlmIChfX0RFVl9fICYmICFhbHJlYWR5V2FybmVkW21lc3NhZ2VdKSB7XG4gICAgYWxyZWFkeVdhcm5lZFttZXNzYWdlXSA9IHRydWU7XG4gICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICB9XG59XG5cbmNvbnN0IGxvZ0RlcHJlY2F0aW9uID0gKGZsYWc6IHN0cmluZywgbXNnOiBzdHJpbmcsIGxpbms6IHN0cmluZykgPT5cbiAgd2Fybk9uY2UoXG4gICAgZmxhZyxcbiAgICBg4pqg77iPIFJlYWN0IFJvdXRlciBGdXR1cmUgRmxhZyBXYXJuaW5nOiAke21zZ30uIGAgK1xuICAgICAgYFlvdSBjYW4gdXNlIHRoZSBcXGAke2ZsYWd9XFxgIGZ1dHVyZSBmbGFnIHRvIG9wdC1pbiBlYXJseS4gYCArXG4gICAgICBgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSAke2xpbmt9LmBcbiAgKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyhcbiAgcmVuZGVyRnV0dXJlOiBQYXJ0aWFsPFJlbmRlckZ1dHVyZUNvbmZpZz4gfCB1bmRlZmluZWQsXG4gIHJvdXRlckZ1dHVyZT86IE9taXQ8Um91dGVyRnV0dXJlQ29uZmlnLCBcInY3X3ByZXBlbmRCYXNlbmFtZVwiPlxuKSB7XG4gIGlmIChyZW5kZXJGdXR1cmU/LnY3X3N0YXJ0VHJhbnNpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbG9nRGVwcmVjYXRpb24oXG4gICAgICBcInY3X3N0YXJ0VHJhbnNpdGlvblwiLFxuICAgICAgXCJSZWFjdCBSb3V0ZXIgd2lsbCBiZWdpbiB3cmFwcGluZyBzdGF0ZSB1cGRhdGVzIGluIGBSZWFjdC5zdGFydFRyYW5zaXRpb25gIGluIHY3XCIsXG4gICAgICBcImh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3VwZ3JhZGluZy9mdXR1cmUjdjdfc3RhcnR0cmFuc2l0aW9uXCJcbiAgICApO1xuICB9XG5cbiAgaWYgKFxuICAgIHJlbmRlckZ1dHVyZT8udjdfcmVsYXRpdmVTcGxhdFBhdGggPT09IHVuZGVmaW5lZCAmJlxuICAgICghcm91dGVyRnV0dXJlIHx8IHJvdXRlckZ1dHVyZS52N19yZWxhdGl2ZVNwbGF0UGF0aCA9PT0gdW5kZWZpbmVkKVxuICApIHtcbiAgICBsb2dEZXByZWNhdGlvbihcbiAgICAgIFwidjdfcmVsYXRpdmVTcGxhdFBhdGhcIixcbiAgICAgIFwiUmVsYXRpdmUgcm91dGUgcmVzb2x1dGlvbiB3aXRoaW4gU3BsYXQgcm91dGVzIGlzIGNoYW5naW5nIGluIHY3XCIsXG4gICAgICBcImh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3VwZ3JhZGluZy9mdXR1cmUjdjdfcmVsYXRpdmVzcGxhdHBhdGhcIlxuICAgICk7XG4gIH1cblxuICBpZiAocm91dGVyRnV0dXJlKSB7XG4gICAgaWYgKHJvdXRlckZ1dHVyZS52N19mZXRjaGVyUGVyc2lzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2dEZXByZWNhdGlvbihcbiAgICAgICAgXCJ2N19mZXRjaGVyUGVyc2lzdFwiLFxuICAgICAgICBcIlRoZSBwZXJzaXN0ZW5jZSBiZWhhdmlvciBvZiBmZXRjaGVycyBpcyBjaGFuZ2luZyBpbiB2N1wiLFxuICAgICAgICBcImh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3VwZ3JhZGluZy9mdXR1cmUjdjdfZmV0Y2hlcnBlcnNpc3RcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAocm91dGVyRnV0dXJlLnY3X25vcm1hbGl6ZUZvcm1NZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbG9nRGVwcmVjYXRpb24oXG4gICAgICAgIFwidjdfbm9ybWFsaXplRm9ybU1ldGhvZFwiLFxuICAgICAgICBcIkNhc2luZyBvZiBgZm9ybU1ldGhvZGAgZmllbGRzIGlzIGJlaW5nIG5vcm1hbGl6ZWQgdG8gdXBwZXJjYXNlIGluIHY3XCIsXG4gICAgICAgIFwiaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXBncmFkaW5nL2Z1dHVyZSN2N19ub3JtYWxpemVmb3JtbWV0aG9kXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHJvdXRlckZ1dHVyZS52N19wYXJ0aWFsSHlkcmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZ0RlcHJlY2F0aW9uKFxuICAgICAgICBcInY3X3BhcnRpYWxIeWRyYXRpb25cIixcbiAgICAgICAgXCJgUm91dGVyUHJvdmlkZXJgIGh5ZHJhdGlvbiBiZWhhdmlvciBpcyBjaGFuZ2luZyBpbiB2N1wiLFxuICAgICAgICBcImh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3VwZ3JhZGluZy9mdXR1cmUjdjdfcGFydGlhbGh5ZHJhdGlvblwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChyb3V0ZXJGdXR1cmUudjdfc2tpcEFjdGlvbkVycm9yUmV2YWxpZGF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZ0RlcHJlY2F0aW9uKFxuICAgICAgICBcInY3X3NraXBBY3Rpb25FcnJvclJldmFsaWRhdGlvblwiLFxuICAgICAgICBcIlRoZSByZXZhbGlkYXRpb24gYmVoYXZpb3IgYWZ0ZXIgNHh4LzV4eCBgYWN0aW9uYCByZXNwb25zZXMgaXMgY2hhbmdpbmcgaW4gdjdcIixcbiAgICAgICAgXCJodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91cGdyYWRpbmcvZnV0dXJlI3Y3X3NraXBhY3Rpb25lcnJvcnJldmFsaWRhdGlvblwiXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHtcbiAgSW5pdGlhbEVudHJ5LFxuICBMYXp5Um91dGVGdW5jdGlvbixcbiAgTG9jYXRpb24sXG4gIE1lbW9yeUhpc3RvcnksXG4gIFJlbGF0aXZlUm91dGluZ1R5cGUsXG4gIFJvdXRlciBhcyBSZW1peFJvdXRlcixcbiAgUm91dGVyU3RhdGUsXG4gIFJvdXRlclN1YnNjcmliZXIsXG4gIFRvLFxuICBUcmFja2VkUHJvbWlzZSxcbn0gZnJvbSBcIkByZW1peC1ydW4vcm91dGVyXCI7XG5pbXBvcnQge1xuICBBYm9ydGVkRGVmZXJyZWRFcnJvcixcbiAgQWN0aW9uIGFzIE5hdmlnYXRpb25UeXBlLFxuICBjcmVhdGVNZW1vcnlIaXN0b3J5LFxuICBVTlNBRkVfZ2V0UmVzb2x2ZVRvTWF0Y2hlcyBhcyBnZXRSZXNvbHZlVG9NYXRjaGVzLFxuICBVTlNBRkVfaW52YXJpYW50IGFzIGludmFyaWFudCxcbiAgcGFyc2VQYXRoLFxuICByZXNvbHZlVG8sXG4gIHN0cmlwQmFzZW5hbWUsXG4gIFVOU0FGRV93YXJuaW5nIGFzIHdhcm5pbmcsXG59IGZyb20gXCJAcmVtaXgtcnVuL3JvdXRlclwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB0eXBlIHtcbiAgRGF0YVJvdXRlT2JqZWN0LFxuICBJbmRleFJvdXRlT2JqZWN0LFxuICBOYXZpZ2F0b3IsXG4gIE5vbkluZGV4Um91dGVPYmplY3QsXG4gIFJvdXRlTWF0Y2gsXG4gIFJvdXRlT2JqZWN0LFxufSBmcm9tIFwiLi9jb250ZXh0XCI7XG5pbXBvcnQge1xuICBBd2FpdENvbnRleHQsXG4gIERhdGFSb3V0ZXJDb250ZXh0LFxuICBEYXRhUm91dGVyU3RhdGVDb250ZXh0LFxuICBMb2NhdGlvbkNvbnRleHQsXG4gIE5hdmlnYXRpb25Db250ZXh0LFxuICBSb3V0ZUNvbnRleHQsXG59IGZyb20gXCIuL2NvbnRleHRcIjtcbmltcG9ydCB7XG4gIF9yZW5kZXJNYXRjaGVzLFxuICB1c2VBc3luY1ZhbHVlLFxuICB1c2VJblJvdXRlckNvbnRleHQsXG4gIHVzZUxvY2F0aW9uLFxuICB1c2VOYXZpZ2F0ZSxcbiAgdXNlT3V0bGV0LFxuICB1c2VSb3V0ZXMsXG4gIHVzZVJvdXRlc0ltcGwsXG59IGZyb20gXCIuL2hvb2tzXCI7XG5pbXBvcnQgeyBsb2dWNkRlcHJlY2F0aW9uV2FybmluZ3MgfSBmcm9tIFwiLi9kZXByZWNhdGlvbnNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBGdXR1cmVDb25maWcge1xuICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogYm9vbGVhbjtcbiAgdjdfc3RhcnRUcmFuc2l0aW9uOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlclByb3ZpZGVyUHJvcHMge1xuICBmYWxsYmFja0VsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIHJvdXRlcjogUmVtaXhSb3V0ZXI7XG4gIC8vIE9ubHkgYWNjZXB0IGZ1dHVyZSBmbGFncyByZWxldmFudCB0byByZW5kZXJpbmcgYmVoYXZpb3JcbiAgLy8gcm91dGluZyBmbGFncyBzaG91bGQgYmUgYWNjZXNzZWQgdmlhIHJvdXRlci5mdXR1cmVcbiAgZnV0dXJlPzogUGFydGlhbDxQaWNrPEZ1dHVyZUNvbmZpZywgXCJ2N19zdGFydFRyYW5zaXRpb25cIj4+O1xufVxuXG4vKipcbiAgV2VicGFjayArIFJlYWN0IDE3IGZhaWxzIHRvIGNvbXBpbGUgb24gYW55IG9mIHRoZSBmb2xsb3dpbmcgYmVjYXVzZSB3ZWJwYWNrXG4gIGNvbXBsYWlucyB0aGF0IGBzdGFydFRyYW5zaXRpb25gIGRvZXNuJ3QgZXhpc3QgaW4gYFJlYWN0YDpcbiAgKiBpbXBvcnQgeyBzdGFydFRyYW5zaXRpb24gfSBmcm9tIFwicmVhY3RcIlxuICAqIGltcG9ydCAqIGFzIFJlYWN0IGZyb20gZnJvbSBcInJlYWN0XCI7XG4gICAgXCJzdGFydFRyYW5zaXRpb25cIiBpbiBSZWFjdCA/IFJlYWN0LnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZSgpKSA6IHNldFN0YXRlKClcbiAgKiBpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIGZyb20gXCJyZWFjdFwiO1xuICAgIFwic3RhcnRUcmFuc2l0aW9uXCIgaW4gUmVhY3QgPyBSZWFjdFtcInN0YXJ0VHJhbnNpdGlvblwiXSgoKSA9PiBzZXRTdGF0ZSgpKSA6IHNldFN0YXRlKClcblxuICBNb3ZpbmcgaXQgdG8gYSBjb25zdGFudCBzdWNoIGFzIHRoZSBmb2xsb3dpbmcgc29sdmVzIHRoZSBXZWJwYWNrL1JlYWN0IDE3IGlzc3VlOlxuICAqIGltcG9ydCAqIGFzIFJlYWN0IGZyb20gZnJvbSBcInJlYWN0XCI7XG4gICAgY29uc3QgU1RBUlRfVFJBTlNJVElPTiA9IFwic3RhcnRUcmFuc2l0aW9uXCI7XG4gICAgU1RBUlRfVFJBTlNJVElPTiBpbiBSZWFjdCA/IFJlYWN0W1NUQVJUX1RSQU5TSVRJT05dKCgpID0+IHNldFN0YXRlKCkpIDogc2V0U3RhdGUoKVxuXG4gIEhvd2V2ZXIsIHRoYXQgaW50cm9kdWNlcyB3ZWJwYWNrL3RlcnNlciBtaW5pZmljYXRpb24gaXNzdWVzIGluIHByb2R1Y3Rpb24gYnVpbGRzXG4gIGluIFJlYWN0IDE4IHdoZXJlIG1pbmlmaWNhdGlvbi9vYmZ1c2NhdGlvbiBlbmRzIHVwIHJlbW92aW5nIHRoZSBjYWxsIG9mXG4gIFJlYWN0LnN0YXJ0VHJhbnNpdGlvbiBlbnRpcmVseSBmcm9tIHRoZSBmaXJzdCBoYWxmIG9mIHRoZSB0ZXJuYXJ5LiAgR3JhYmJpbmdcbiAgdGhpcyBleHBvcnRlZCByZWZlcmVuY2Ugb25jZSB1cCBmcm9udCByZXNvbHZlcyB0aGF0IGlzc3VlLlxuXG4gIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL3JlYWN0LXJvdXRlci9pc3N1ZXMvMTA1NzlcbiovXG5jb25zdCBTVEFSVF9UUkFOU0lUSU9OID0gXCJzdGFydFRyYW5zaXRpb25cIjtcbmNvbnN0IHN0YXJ0VHJhbnNpdGlvbkltcGwgPSBSZWFjdFtTVEFSVF9UUkFOU0lUSU9OXTtcblxuLyoqXG4gKiBHaXZlbiBhIFJlbWl4IFJvdXRlciBpbnN0YW5jZSwgcmVuZGVyIHRoZSBhcHByb3ByaWF0ZSBVSVxuICovXG5leHBvcnQgZnVuY3Rpb24gUm91dGVyUHJvdmlkZXIoe1xuICBmYWxsYmFja0VsZW1lbnQsXG4gIHJvdXRlcixcbiAgZnV0dXJlLFxufTogUm91dGVyUHJvdmlkZXJQcm9wcyk6IFJlYWN0LlJlYWN0RWxlbWVudCB7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdC51c2VTdGF0ZShyb3V0ZXIuc3RhdGUpO1xuICBsZXQgeyB2N19zdGFydFRyYW5zaXRpb24gfSA9IGZ1dHVyZSB8fCB7fTtcblxuICBsZXQgc2V0U3RhdGUgPSBSZWFjdC51c2VDYWxsYmFjazxSb3V0ZXJTdWJzY3JpYmVyPihcbiAgICAobmV3U3RhdGU6IFJvdXRlclN0YXRlKSA9PiB7XG4gICAgICBpZiAodjdfc3RhcnRUcmFuc2l0aW9uICYmIHN0YXJ0VHJhbnNpdGlvbkltcGwpIHtcbiAgICAgICAgc3RhcnRUcmFuc2l0aW9uSW1wbCgoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFN0YXRlSW1wbChuZXdTdGF0ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbc2V0U3RhdGVJbXBsLCB2N19zdGFydFRyYW5zaXRpb25dXG4gICk7XG5cbiAgLy8gTmVlZCB0byB1c2UgYSBsYXlvdXQgZWZmZWN0IGhlcmUgc28gd2UgYXJlIHN1YnNjcmliZWQgZWFybHkgZW5vdWdoIHRvXG4gIC8vIHBpY2sgdXAgb24gYW55IHJlbmRlci1kcml2ZW4gcmVkaXJlY3RzL25hdmlnYXRpb25zICh1c2VFZmZlY3QvPE5hdmlnYXRlPilcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHJvdXRlci5zdWJzY3JpYmUoc2V0U3RhdGUpLCBbcm91dGVyLCBzZXRTdGF0ZV0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2FybmluZyhcbiAgICAgIGZhbGxiYWNrRWxlbWVudCA9PSBudWxsIHx8ICFyb3V0ZXIuZnV0dXJlLnY3X3BhcnRpYWxIeWRyYXRpb24sXG4gICAgICBcImA8Um91dGVyUHJvdmlkZXIgZmFsbGJhY2tFbGVtZW50PmAgaXMgZGVwcmVjYXRlZCB3aGVuIHVzaW5nIFwiICtcbiAgICAgICAgXCJgdjdfcGFydGlhbEh5ZHJhdGlvbmAsIHVzZSBhIGBIeWRyYXRlRmFsbGJhY2tgIGNvbXBvbmVudCBpbnN0ZWFkXCJcbiAgICApO1xuICAgIC8vIE9ubHkgbG9nIHRoaXMgb25jZSBvbiBpbml0aWFsIG1vdW50XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7XG5cbiAgbGV0IG5hdmlnYXRvciA9IFJlYWN0LnVzZU1lbW8oKCk6IE5hdmlnYXRvciA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZUhyZWY6IHJvdXRlci5jcmVhdGVIcmVmLFxuICAgICAgZW5jb2RlTG9jYXRpb246IHJvdXRlci5lbmNvZGVMb2NhdGlvbixcbiAgICAgIGdvOiAobikgPT4gcm91dGVyLm5hdmlnYXRlKG4pLFxuICAgICAgcHVzaDogKHRvLCBzdGF0ZSwgb3B0cykgPT5cbiAgICAgICAgcm91dGVyLm5hdmlnYXRlKHRvLCB7XG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRzPy5wcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIH0pLFxuICAgICAgcmVwbGFjZTogKHRvLCBzdGF0ZSwgb3B0cykgPT5cbiAgICAgICAgcm91dGVyLm5hdmlnYXRlKHRvLCB7XG4gICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdHM/LnByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgfSksXG4gICAgfTtcbiAgfSwgW3JvdXRlcl0pO1xuXG4gIGxldCBiYXNlbmFtZSA9IHJvdXRlci5iYXNlbmFtZSB8fCBcIi9cIjtcblxuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICByb3V0ZXIsXG4gICAgICBuYXZpZ2F0b3IsXG4gICAgICBzdGF0aWM6IGZhbHNlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgfSksXG4gICAgW3JvdXRlciwgbmF2aWdhdG9yLCBiYXNlbmFtZV1cbiAgKTtcblxuICBSZWFjdC51c2VFZmZlY3QoXG4gICAgKCkgPT4gbG9nVjZEZXByZWNhdGlvbldhcm5pbmdzKGZ1dHVyZSwgcm91dGVyLmZ1dHVyZSksXG4gICAgW3JvdXRlciwgZnV0dXJlXVxuICApO1xuXG4gIC8vIFRoZSBmcmFnbWVudCBhbmQge251bGx9IGhlcmUgYXJlIGltcG9ydGFudCEgIFdlIG5lZWQgdGhlbSB0byBrZWVwIFJlYWN0IDE4J3NcbiAgLy8gdXNlSWQgaGFwcHkgd2hlbiB3ZSBhcmUgc2VydmVyLXJlbmRlcmluZyBzaW5jZSB3ZSBtYXkgaGF2ZSBhIDxzY3JpcHQ+IGhlcmVcbiAgLy8gY29udGFpbmluZyB0aGUgaHlkcmF0ZWQgc2VydmVyLXNpZGUgc3RhdGljQ29udGV4dCAoZnJvbSBTdGF0aWNSb3V0ZXJQcm92aWRlcikuXG4gIC8vIHVzZUlkIHJlbGllcyBvbiB0aGUgY29tcG9uZW50IHRyZWUgc3RydWN0dXJlIHRvIGdlbmVyYXRlIGRldGVybWluaXN0aWMgaWQnc1xuICAvLyBzbyB3ZSBuZWVkIHRvIGVuc3VyZSBpdCByZW1haW5zIHRoZSBzYW1lIG9uIHRoZSBjbGllbnQgZXZlbiB0aG91Z2hcbiAgLy8gd2UgZG9uJ3QgbmVlZCB0aGUgPHNjcmlwdD4gdGFnXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxEYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17ZGF0YVJvdXRlckNvbnRleHR9PlxuICAgICAgICA8RGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17c3RhdGV9PlxuICAgICAgICAgIDxSb3V0ZXJcbiAgICAgICAgICAgIGJhc2VuYW1lPXtiYXNlbmFtZX1cbiAgICAgICAgICAgIGxvY2F0aW9uPXtzdGF0ZS5sb2NhdGlvbn1cbiAgICAgICAgICAgIG5hdmlnYXRpb25UeXBlPXtzdGF0ZS5oaXN0b3J5QWN0aW9ufVxuICAgICAgICAgICAgbmF2aWdhdG9yPXtuYXZpZ2F0b3J9XG4gICAgICAgICAgICBmdXR1cmU9e3tcbiAgICAgICAgICAgICAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IHJvdXRlci5mdXR1cmUudjdfcmVsYXRpdmVTcGxhdFBhdGgsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzdGF0ZS5pbml0aWFsaXplZCB8fCByb3V0ZXIuZnV0dXJlLnY3X3BhcnRpYWxIeWRyYXRpb24gPyAoXG4gICAgICAgICAgICAgIDxEYXRhUm91dGVzXG4gICAgICAgICAgICAgICAgcm91dGVzPXtyb3V0ZXIucm91dGVzfVxuICAgICAgICAgICAgICAgIGZ1dHVyZT17cm91dGVyLmZ1dHVyZX1cbiAgICAgICAgICAgICAgICBzdGF0ZT17c3RhdGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICBmYWxsYmFja0VsZW1lbnRcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9Sb3V0ZXI+XG4gICAgICAgIDwvRGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgIDwvRGF0YVJvdXRlckNvbnRleHQuUHJvdmlkZXI+XG4gICAgICB7bnVsbH1cbiAgICA8Lz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gRGF0YVJvdXRlcyh7XG4gIHJvdXRlcyxcbiAgZnV0dXJlLFxuICBzdGF0ZSxcbn06IHtcbiAgcm91dGVzOiBEYXRhUm91dGVPYmplY3RbXTtcbiAgZnV0dXJlOiBSZW1peFJvdXRlcltcImZ1dHVyZVwiXTtcbiAgc3RhdGU6IFJvdXRlclN0YXRlO1xufSk6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICByZXR1cm4gdXNlUm91dGVzSW1wbChyb3V0ZXMsIHVuZGVmaW5lZCwgc3RhdGUsIGZ1dHVyZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb3J5Um91dGVyUHJvcHMge1xuICBiYXNlbmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGluaXRpYWxFbnRyaWVzPzogSW5pdGlhbEVudHJ5W107XG4gIGluaXRpYWxJbmRleD86IG51bWJlcjtcbiAgZnV0dXJlPzogUGFydGlhbDxGdXR1cmVDb25maWc+O1xufVxuXG4vKipcbiAqIEEgYDxSb3V0ZXI+YCB0aGF0IHN0b3JlcyBhbGwgZW50cmllcyBpbiBtZW1vcnkuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9yb3V0ZXItY29tcG9uZW50cy9tZW1vcnktcm91dGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNZW1vcnlSb3V0ZXIoe1xuICBiYXNlbmFtZSxcbiAgY2hpbGRyZW4sXG4gIGluaXRpYWxFbnRyaWVzLFxuICBpbml0aWFsSW5kZXgsXG4gIGZ1dHVyZSxcbn06IE1lbW9yeVJvdXRlclByb3BzKTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgbGV0IGhpc3RvcnlSZWYgPSBSZWFjdC51c2VSZWY8TWVtb3J5SGlzdG9yeT4oKTtcbiAgaWYgKGhpc3RvcnlSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgaGlzdG9yeVJlZi5jdXJyZW50ID0gY3JlYXRlTWVtb3J5SGlzdG9yeSh7XG4gICAgICBpbml0aWFsRW50cmllcyxcbiAgICAgIGluaXRpYWxJbmRleCxcbiAgICAgIHY1Q29tcGF0OiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgbGV0IGhpc3RvcnkgPSBoaXN0b3J5UmVmLmN1cnJlbnQ7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdC51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbixcbiAgfSk7XG4gIGxldCB7IHY3X3N0YXJ0VHJhbnNpdGlvbiB9ID0gZnV0dXJlIHx8IHt9O1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGU6IHsgYWN0aW9uOiBOYXZpZ2F0aW9uVHlwZTsgbG9jYXRpb246IExvY2F0aW9uIH0pID0+IHtcbiAgICAgIHY3X3N0YXJ0VHJhbnNpdGlvbiAmJiBzdGFydFRyYW5zaXRpb25JbXBsXG4gICAgICAgID8gc3RhcnRUcmFuc2l0aW9uSW1wbCgoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKVxuICAgICAgICA6IHNldFN0YXRlSW1wbChuZXdTdGF0ZSk7XG4gICAgfSxcbiAgICBbc2V0U3RhdGVJbXBsLCB2N19zdGFydFRyYW5zaXRpb25dXG4gICk7XG5cbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IGhpc3RvcnkubGlzdGVuKHNldFN0YXRlKSwgW2hpc3RvcnksIHNldFN0YXRlXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IGxvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyhmdXR1cmUpLCBbZnV0dXJlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8Um91dGVyXG4gICAgICBiYXNlbmFtZT17YmFzZW5hbWV9XG4gICAgICBjaGlsZHJlbj17Y2hpbGRyZW59XG4gICAgICBsb2NhdGlvbj17c3RhdGUubG9jYXRpb259XG4gICAgICBuYXZpZ2F0aW9uVHlwZT17c3RhdGUuYWN0aW9ufVxuICAgICAgbmF2aWdhdG9yPXtoaXN0b3J5fVxuICAgICAgZnV0dXJlPXtmdXR1cmV9XG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0ZVByb3BzIHtcbiAgdG86IFRvO1xuICByZXBsYWNlPzogYm9vbGVhbjtcbiAgc3RhdGU/OiBhbnk7XG4gIHJlbGF0aXZlPzogUmVsYXRpdmVSb3V0aW5nVHlwZTtcbn1cblxuLyoqXG4gKiBDaGFuZ2VzIHRoZSBjdXJyZW50IGxvY2F0aW9uLlxuICpcbiAqIE5vdGU6IFRoaXMgQVBJIGlzIG1vc3RseSB1c2VmdWwgaW4gUmVhY3QuQ29tcG9uZW50IHN1YmNsYXNzZXMgdGhhdCBhcmUgbm90XG4gKiBhYmxlIHRvIHVzZSBob29rcy4gSW4gZnVuY3Rpb25hbCBjb21wb25lbnRzLCB3ZSByZWNvbW1lbmQgeW91IHVzZSB0aGVcbiAqIGB1c2VOYXZpZ2F0ZWAgaG9vayBpbnN0ZWFkLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvY29tcG9uZW50cy9uYXZpZ2F0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gTmF2aWdhdGUoe1xuICB0byxcbiAgcmVwbGFjZSxcbiAgc3RhdGUsXG4gIHJlbGF0aXZlLFxufTogTmF2aWdhdGVQcm9wcyk6IG51bGwge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2ZcbiAgICAvLyB0aGUgcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGA8TmF2aWdhdGU+IG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuXG4gIGxldCB7IGZ1dHVyZSwgc3RhdGljOiBpc1N0YXRpYyB9ID0gUmVhY3QudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG5cbiAgd2FybmluZyhcbiAgICAhaXNTdGF0aWMsXG4gICAgYDxOYXZpZ2F0ZT4gbXVzdCBub3QgYmUgdXNlZCBvbiB0aGUgaW5pdGlhbCByZW5kZXIgaW4gYSA8U3RhdGljUm91dGVyPi4gYCArXG4gICAgICBgVGhpcyBpcyBhIG5vLW9wLCBidXQgeW91IHNob3VsZCBtb2RpZnkgeW91ciBjb2RlIHNvIHRoZSA8TmF2aWdhdGU+IGlzIGAgK1xuICAgICAgYG9ubHkgZXZlciByZW5kZXJlZCBpbiByZXNwb25zZSB0byBzb21lIHVzZXIgaW50ZXJhY3Rpb24gb3Igc3RhdGUgY2hhbmdlLmBcbiAgKTtcblxuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuXG4gIC8vIFJlc29sdmUgdGhlIHBhdGggb3V0c2lkZSBvZiB0aGUgZWZmZWN0IHNvIHRoYXQgd2hlbiBlZmZlY3RzIHJ1biB0d2ljZSBpblxuICAvLyBTdHJpY3RNb2RlIHRoZXkgbmF2aWdhdGUgdG8gdGhlIHNhbWUgcGxhY2VcbiAgbGV0IHBhdGggPSByZXNvbHZlVG8oXG4gICAgdG8sXG4gICAgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzLCBmdXR1cmUudjdfcmVsYXRpdmVTcGxhdFBhdGgpLFxuICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgcmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICk7XG4gIGxldCBqc29uUGF0aCA9IEpTT04uc3RyaW5naWZ5KHBhdGgpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdChcbiAgICAoKSA9PiBuYXZpZ2F0ZShKU09OLnBhcnNlKGpzb25QYXRoKSwgeyByZXBsYWNlLCBzdGF0ZSwgcmVsYXRpdmUgfSksXG4gICAgW25hdmlnYXRlLCBqc29uUGF0aCwgcmVsYXRpdmUsIHJlcGxhY2UsIHN0YXRlXVxuICApO1xuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE91dGxldFByb3BzIHtcbiAgY29udGV4dD86IHVua25vd247XG59XG5cbi8qKlxuICogUmVuZGVycyB0aGUgY2hpbGQgcm91dGUncyBlbGVtZW50LCBpZiB0aGVyZSBpcyBvbmUuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9jb21wb25lbnRzL291dGxldFxuICovXG5leHBvcnQgZnVuY3Rpb24gT3V0bGV0KHByb3BzOiBPdXRsZXRQcm9wcyk6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICByZXR1cm4gdXNlT3V0bGV0KHByb3BzLmNvbnRleHQpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhdGhSb3V0ZVByb3BzIHtcbiAgY2FzZVNlbnNpdGl2ZT86IE5vbkluZGV4Um91dGVPYmplY3RbXCJjYXNlU2Vuc2l0aXZlXCJdO1xuICBwYXRoPzogTm9uSW5kZXhSb3V0ZU9iamVjdFtcInBhdGhcIl07XG4gIGlkPzogTm9uSW5kZXhSb3V0ZU9iamVjdFtcImlkXCJdO1xuICBsYXp5PzogTGF6eVJvdXRlRnVuY3Rpb248Tm9uSW5kZXhSb3V0ZU9iamVjdD47XG4gIGxvYWRlcj86IE5vbkluZGV4Um91dGVPYmplY3RbXCJsb2FkZXJcIl07XG4gIGFjdGlvbj86IE5vbkluZGV4Um91dGVPYmplY3RbXCJhY3Rpb25cIl07XG4gIGhhc0Vycm9yQm91bmRhcnk/OiBOb25JbmRleFJvdXRlT2JqZWN0W1wiaGFzRXJyb3JCb3VuZGFyeVwiXTtcbiAgc2hvdWxkUmV2YWxpZGF0ZT86IE5vbkluZGV4Um91dGVPYmplY3RbXCJzaG91bGRSZXZhbGlkYXRlXCJdO1xuICBoYW5kbGU/OiBOb25JbmRleFJvdXRlT2JqZWN0W1wiaGFuZGxlXCJdO1xuICBpbmRleD86IGZhbHNlO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgZWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBlcnJvckVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBDb21wb25lbnQ/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgSHlkcmF0ZUZhbGxiYWNrPzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIEVycm9yQm91bmRhcnk/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRSb3V0ZVByb3BzIGV4dGVuZHMgUGF0aFJvdXRlUHJvcHMge31cblxuZXhwb3J0IGludGVyZmFjZSBJbmRleFJvdXRlUHJvcHMge1xuICBjYXNlU2Vuc2l0aXZlPzogSW5kZXhSb3V0ZU9iamVjdFtcImNhc2VTZW5zaXRpdmVcIl07XG4gIHBhdGg/OiBJbmRleFJvdXRlT2JqZWN0W1wicGF0aFwiXTtcbiAgaWQ/OiBJbmRleFJvdXRlT2JqZWN0W1wiaWRcIl07XG4gIGxhenk/OiBMYXp5Um91dGVGdW5jdGlvbjxJbmRleFJvdXRlT2JqZWN0PjtcbiAgbG9hZGVyPzogSW5kZXhSb3V0ZU9iamVjdFtcImxvYWRlclwiXTtcbiAgYWN0aW9uPzogSW5kZXhSb3V0ZU9iamVjdFtcImFjdGlvblwiXTtcbiAgaGFzRXJyb3JCb3VuZGFyeT86IEluZGV4Um91dGVPYmplY3RbXCJoYXNFcnJvckJvdW5kYXJ5XCJdO1xuICBzaG91bGRSZXZhbGlkYXRlPzogSW5kZXhSb3V0ZU9iamVjdFtcInNob3VsZFJldmFsaWRhdGVcIl07XG4gIGhhbmRsZT86IEluZGV4Um91dGVPYmplY3RbXCJoYW5kbGVcIl07XG4gIGluZGV4OiB0cnVlO1xuICBjaGlsZHJlbj86IHVuZGVmaW5lZDtcbiAgZWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBlcnJvckVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBDb21wb25lbnQ/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgSHlkcmF0ZUZhbGxiYWNrPzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIEVycm9yQm91bmRhcnk/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbn1cblxuZXhwb3J0IHR5cGUgUm91dGVQcm9wcyA9IFBhdGhSb3V0ZVByb3BzIHwgTGF5b3V0Um91dGVQcm9wcyB8IEluZGV4Um91dGVQcm9wcztcblxuLyoqXG4gKiBEZWNsYXJlcyBhbiBlbGVtZW50IHRoYXQgc2hvdWxkIGJlIHJlbmRlcmVkIGF0IGEgY2VydGFpbiBVUkwgcGF0aC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2NvbXBvbmVudHMvcm91dGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJvdXRlKF9wcm9wczogUm91dGVQcm9wcyk6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICBpbnZhcmlhbnQoXG4gICAgZmFsc2UsXG4gICAgYEEgPFJvdXRlPiBpcyBvbmx5IGV2ZXIgdG8gYmUgdXNlZCBhcyB0aGUgY2hpbGQgb2YgPFJvdXRlcz4gZWxlbWVudCwgYCArXG4gICAgICBgbmV2ZXIgcmVuZGVyZWQgZGlyZWN0bHkuIFBsZWFzZSB3cmFwIHlvdXIgPFJvdXRlPiBpbiBhIDxSb3V0ZXM+LmBcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZXJQcm9wcyB7XG4gIGJhc2VuYW1lPzogc3RyaW5nO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgbG9jYXRpb246IFBhcnRpYWw8TG9jYXRpb24+IHwgc3RyaW5nO1xuICBuYXZpZ2F0aW9uVHlwZT86IE5hdmlnYXRpb25UeXBlO1xuICBuYXZpZ2F0b3I6IE5hdmlnYXRvcjtcbiAgc3RhdGljPzogYm9vbGVhbjtcbiAgZnV0dXJlPzogUGFydGlhbDxQaWNrPEZ1dHVyZUNvbmZpZywgXCJ2N19yZWxhdGl2ZVNwbGF0UGF0aFwiPj47XG59XG5cbi8qKlxuICogUHJvdmlkZXMgbG9jYXRpb24gY29udGV4dCBmb3IgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbiAqXG4gKiBOb3RlOiBZb3UgdXN1YWxseSB3b24ndCByZW5kZXIgYSBgPFJvdXRlcj5gIGRpcmVjdGx5LiBJbnN0ZWFkLCB5b3UnbGwgcmVuZGVyIGFcbiAqIHJvdXRlciB0aGF0IGlzIG1vcmUgc3BlY2lmaWMgdG8geW91ciBlbnZpcm9ubWVudCBzdWNoIGFzIGEgYDxCcm93c2VyUm91dGVyPmBcbiAqIGluIHdlYiBicm93c2VycyBvciBhIGA8U3RhdGljUm91dGVyPmAgZm9yIHNlcnZlciByZW5kZXJpbmcuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9yb3V0ZXItY29tcG9uZW50cy9yb3V0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJvdXRlcih7XG4gIGJhc2VuYW1lOiBiYXNlbmFtZVByb3AgPSBcIi9cIixcbiAgY2hpbGRyZW4gPSBudWxsLFxuICBsb2NhdGlvbjogbG9jYXRpb25Qcm9wLFxuICBuYXZpZ2F0aW9uVHlwZSA9IE5hdmlnYXRpb25UeXBlLlBvcCxcbiAgbmF2aWdhdG9yLFxuICBzdGF0aWM6IHN0YXRpY1Byb3AgPSBmYWxzZSxcbiAgZnV0dXJlLFxufTogUm91dGVyUHJvcHMpOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgaW52YXJpYW50KFxuICAgICF1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICBgWW91IGNhbm5vdCByZW5kZXIgYSA8Um91dGVyPiBpbnNpZGUgYW5vdGhlciA8Um91dGVyPi5gICtcbiAgICAgIGAgWW91IHNob3VsZCBuZXZlciBoYXZlIG1vcmUgdGhhbiBvbmUgaW4geW91ciBhcHAuYFxuICApO1xuXG4gIC8vIFByZXNlcnZlIHRyYWlsaW5nIHNsYXNoZXMgb24gYmFzZW5hbWUsIHNvIHdlIGNhbiBsZXQgdGhlIHVzZXIgY29udHJvbFxuICAvLyB0aGUgZW5mb3JjZW1lbnQgb2YgdHJhaWxpbmcgc2xhc2hlcyB0aHJvdWdob3V0IHRoZSBhcHBcbiAgbGV0IGJhc2VuYW1lID0gYmFzZW5hbWVQcm9wLnJlcGxhY2UoL15cXC8qLywgXCIvXCIpO1xuICBsZXQgbmF2aWdhdGlvbkNvbnRleHQgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIG5hdmlnYXRvcixcbiAgICAgIHN0YXRpYzogc3RhdGljUHJvcCxcbiAgICAgIGZ1dHVyZToge1xuICAgICAgICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogZmFsc2UsXG4gICAgICAgIC4uLmZ1dHVyZSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgW2Jhc2VuYW1lLCBmdXR1cmUsIG5hdmlnYXRvciwgc3RhdGljUHJvcF1cbiAgKTtcblxuICBpZiAodHlwZW9mIGxvY2F0aW9uUHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxvY2F0aW9uUHJvcCA9IHBhcnNlUGF0aChsb2NhdGlvblByb3ApO1xuICB9XG5cbiAgbGV0IHtcbiAgICBwYXRobmFtZSA9IFwiL1wiLFxuICAgIHNlYXJjaCA9IFwiXCIsXG4gICAgaGFzaCA9IFwiXCIsXG4gICAgc3RhdGUgPSBudWxsLFxuICAgIGtleSA9IFwiZGVmYXVsdFwiLFxuICB9ID0gbG9jYXRpb25Qcm9wO1xuXG4gIGxldCBsb2NhdGlvbkNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgdHJhaWxpbmdQYXRobmFtZSA9IHN0cmlwQmFzZW5hbWUocGF0aG5hbWUsIGJhc2VuYW1lKTtcblxuICAgIGlmICh0cmFpbGluZ1BhdGhuYW1lID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICBwYXRobmFtZTogdHJhaWxpbmdQYXRobmFtZSxcbiAgICAgICAgc2VhcmNoLFxuICAgICAgICBoYXNoLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAga2V5LFxuICAgICAgfSxcbiAgICAgIG5hdmlnYXRpb25UeXBlLFxuICAgIH07XG4gIH0sIFtiYXNlbmFtZSwgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCwgc3RhdGUsIGtleSwgbmF2aWdhdGlvblR5cGVdKTtcblxuICB3YXJuaW5nKFxuICAgIGxvY2F0aW9uQ29udGV4dCAhPSBudWxsLFxuICAgIGA8Um91dGVyIGJhc2VuYW1lPVwiJHtiYXNlbmFtZX1cIj4gaXMgbm90IGFibGUgdG8gbWF0Y2ggdGhlIFVSTCBgICtcbiAgICAgIGBcIiR7cGF0aG5hbWV9JHtzZWFyY2h9JHtoYXNofVwiIGJlY2F1c2UgaXQgZG9lcyBub3Qgc3RhcnQgd2l0aCB0aGUgYCArXG4gICAgICBgYmFzZW5hbWUsIHNvIHRoZSA8Um91dGVyPiB3b24ndCByZW5kZXIgYW55dGhpbmcuYFxuICApO1xuXG4gIGlmIChsb2NhdGlvbkNvbnRleHQgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TmF2aWdhdGlvbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e25hdmlnYXRpb25Db250ZXh0fT5cbiAgICAgIDxMb2NhdGlvbkNvbnRleHQuUHJvdmlkZXIgY2hpbGRyZW49e2NoaWxkcmVufSB2YWx1ZT17bG9jYXRpb25Db250ZXh0fSAvPlxuICAgIDwvTmF2aWdhdGlvbkNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVzUHJvcHMge1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgbG9jYXRpb24/OiBQYXJ0aWFsPExvY2F0aW9uPiB8IHN0cmluZztcbn1cblxuLyoqXG4gKiBBIGNvbnRhaW5lciBmb3IgYSBuZXN0ZWQgdHJlZSBvZiBgPFJvdXRlPmAgZWxlbWVudHMgdGhhdCByZW5kZXJzIHRoZSBicmFuY2hcbiAqIHRoYXQgYmVzdCBtYXRjaGVzIHRoZSBjdXJyZW50IGxvY2F0aW9uLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvY29tcG9uZW50cy9yb3V0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJvdXRlcyh7XG4gIGNoaWxkcmVuLFxuICBsb2NhdGlvbixcbn06IFJvdXRlc1Byb3BzKTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIHJldHVybiB1c2VSb3V0ZXMoY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKGNoaWxkcmVuKSwgbG9jYXRpb24pO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF3YWl0UmVzb2x2ZVJlbmRlckZ1bmN0aW9uIHtcbiAgKGRhdGE6IEF3YWl0ZWQ8YW55Pik6IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBd2FpdFByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB8IEF3YWl0UmVzb2x2ZVJlbmRlckZ1bmN0aW9uO1xuICBlcnJvckVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIHJlc29sdmU6IFRyYWNrZWRQcm9taXNlIHwgYW55O1xufVxuXG4vKipcbiAqIENvbXBvbmVudCB0byB1c2UgZm9yIHJlbmRlcmluZyBsYXppbHkgbG9hZGVkIGRhdGEgZnJvbSByZXR1cm5pbmcgZGVmZXIoKVxuICogaW4gYSBsb2FkZXIgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEF3YWl0KHsgY2hpbGRyZW4sIGVycm9yRWxlbWVudCwgcmVzb2x2ZSB9OiBBd2FpdFByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEF3YWl0RXJyb3JCb3VuZGFyeSByZXNvbHZlPXtyZXNvbHZlfSBlcnJvckVsZW1lbnQ9e2Vycm9yRWxlbWVudH0+XG4gICAgICA8UmVzb2x2ZUF3YWl0PntjaGlsZHJlbn08L1Jlc29sdmVBd2FpdD5cbiAgICA8L0F3YWl0RXJyb3JCb3VuZGFyeT5cbiAgKTtcbn1cblxudHlwZSBBd2FpdEVycm9yQm91bmRhcnlQcm9wcyA9IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPHtcbiAgZXJyb3JFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlO1xuICByZXNvbHZlOiBUcmFja2VkUHJvbWlzZSB8IGFueTtcbn0+O1xuXG50eXBlIEF3YWl0RXJyb3JCb3VuZGFyeVN0YXRlID0ge1xuICBlcnJvcjogYW55O1xufTtcblxuZW51bSBBd2FpdFJlbmRlclN0YXR1cyB7XG4gIHBlbmRpbmcsXG4gIHN1Y2Nlc3MsXG4gIGVycm9yLFxufVxuXG5jb25zdCBuZXZlclNldHRsZWRQcm9taXNlID0gbmV3IFByb21pc2UoKCkgPT4ge30pO1xuXG5jbGFzcyBBd2FpdEVycm9yQm91bmRhcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8XG4gIEF3YWl0RXJyb3JCb3VuZGFyeVByb3BzLFxuICBBd2FpdEVycm9yQm91bmRhcnlTdGF0ZVxuPiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzOiBBd2FpdEVycm9yQm91bmRhcnlQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBlcnJvcjogbnVsbCB9O1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcjogYW55KSB7XG4gICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yOiBhbnksIGVycm9ySW5mbzogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiPEF3YWl0PiBjYXVnaHQgdGhlIGZvbGxvd2luZyBlcnJvciBkdXJpbmcgcmVuZGVyXCIsXG4gICAgICBlcnJvcixcbiAgICAgIGVycm9ySW5mb1xuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHsgY2hpbGRyZW4sIGVycm9yRWxlbWVudCwgcmVzb2x2ZSB9ID0gdGhpcy5wcm9wcztcblxuICAgIGxldCBwcm9taXNlOiBUcmFja2VkUHJvbWlzZSB8IG51bGwgPSBudWxsO1xuICAgIGxldCBzdGF0dXM6IEF3YWl0UmVuZGVyU3RhdHVzID0gQXdhaXRSZW5kZXJTdGF0dXMucGVuZGluZztcblxuICAgIGlmICghKHJlc29sdmUgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgICAgLy8gRGlkbid0IGdldCBhIHByb21pc2UgLSBwcm92aWRlIGFzIGEgcmVzb2x2ZWQgcHJvbWlzZVxuICAgICAgc3RhdHVzID0gQXdhaXRSZW5kZXJTdGF0dXMuc3VjY2VzcztcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2RhdGFcIiwgeyBnZXQ6ICgpID0+IHJlc29sdmUgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAvLyBDYXVnaHQgYSByZW5kZXIgZXJyb3IsIHByb3ZpZGUgaXQgYXMgYSByZWplY3RlZCBwcm9taXNlXG4gICAgICBzdGF0dXMgPSBBd2FpdFJlbmRlclN0YXR1cy5lcnJvcjtcbiAgICAgIGxldCByZW5kZXJFcnJvciA9IHRoaXMuc3RhdGUuZXJyb3I7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QoKS5jYXRjaCgoKSA9PiB7fSk7IC8vIEF2b2lkIHVuaGFuZGxlZCByZWplY3Rpb24gd2FybmluZ3NcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2Vycm9yXCIsIHsgZ2V0OiAoKSA9PiByZW5kZXJFcnJvciB9KTtcbiAgICB9IGVsc2UgaWYgKChyZXNvbHZlIGFzIFRyYWNrZWRQcm9taXNlKS5fdHJhY2tlZCkge1xuICAgICAgLy8gQWxyZWFkeSB0cmFja2VkIHByb21pc2UgLSBjaGVjayBjb250ZW50c1xuICAgICAgcHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICBzdGF0dXMgPVxuICAgICAgICBcIl9lcnJvclwiIGluIHByb21pc2VcbiAgICAgICAgICA/IEF3YWl0UmVuZGVyU3RhdHVzLmVycm9yXG4gICAgICAgICAgOiBcIl9kYXRhXCIgaW4gcHJvbWlzZVxuICAgICAgICAgID8gQXdhaXRSZW5kZXJTdGF0dXMuc3VjY2Vzc1xuICAgICAgICAgIDogQXdhaXRSZW5kZXJTdGF0dXMucGVuZGluZztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmF3ICh1bnRyYWNrZWQpIHByb21pc2UgLSB0cmFjayBpdFxuICAgICAgc3RhdHVzID0gQXdhaXRSZW5kZXJTdGF0dXMucGVuZGluZztcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvbHZlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgcHJvbWlzZSA9IHJlc29sdmUudGhlbihcbiAgICAgICAgKGRhdGE6IGFueSkgPT5cbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfZGF0YVwiLCB7IGdldDogKCkgPT4gZGF0YSB9KSxcbiAgICAgICAgKGVycm9yOiBhbnkpID0+XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc29sdmUsIFwiX2Vycm9yXCIsIHsgZ2V0OiAoKSA9PiBlcnJvciB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBzdGF0dXMgPT09IEF3YWl0UmVuZGVyU3RhdHVzLmVycm9yICYmXG4gICAgICBwcm9taXNlLl9lcnJvciBpbnN0YW5jZW9mIEFib3J0ZWREZWZlcnJlZEVycm9yXG4gICAgKSB7XG4gICAgICAvLyBGcmVlemUgdGhlIFVJIGJ5IHRocm93aW5nIGEgbmV2ZXIgcmVzb2x2ZWQgcHJvbWlzZVxuICAgICAgdGhyb3cgbmV2ZXJTZXR0bGVkUHJvbWlzZTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSBBd2FpdFJlbmRlclN0YXR1cy5lcnJvciAmJiAhZXJyb3JFbGVtZW50KSB7XG4gICAgICAvLyBObyBlcnJvckVsZW1lbnQsIHRocm93IHRvIHRoZSBuZWFyZXN0IHJvdXRlLWxldmVsIGVycm9yIGJvdW5kYXJ5XG4gICAgICB0aHJvdyBwcm9taXNlLl9lcnJvcjtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSBBd2FpdFJlbmRlclN0YXR1cy5lcnJvcikge1xuICAgICAgLy8gUmVuZGVyIHZpYSBvdXIgZXJyb3JFbGVtZW50XG4gICAgICByZXR1cm4gPEF3YWl0Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17cHJvbWlzZX0gY2hpbGRyZW49e2Vycm9yRWxlbWVudH0gLz47XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gQXdhaXRSZW5kZXJTdGF0dXMuc3VjY2Vzcykge1xuICAgICAgLy8gUmVuZGVyIGNoaWxkcmVuIHdpdGggcmVzb2x2ZWQgdmFsdWVcbiAgICAgIHJldHVybiA8QXdhaXRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtwcm9taXNlfSBjaGlsZHJlbj17Y2hpbGRyZW59IC8+O1xuICAgIH1cblxuICAgIC8vIFRocm93IHRvIHRoZSBzdXNwZW5zZSBib3VuZGFyeVxuICAgIHRocm93IHByb21pc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogSW5kaXJlY3Rpb24gdG8gbGV2ZXJhZ2UgdXNlQXN5bmNWYWx1ZSBmb3IgYSByZW5kZXItcHJvcCBBUEkgb24gYDxBd2FpdD5gXG4gKi9cbmZ1bmN0aW9uIFJlc29sdmVBd2FpdCh7XG4gIGNoaWxkcmVuLFxufToge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIHwgQXdhaXRSZXNvbHZlUmVuZGVyRnVuY3Rpb247XG59KSB7XG4gIGxldCBkYXRhID0gdXNlQXN5bmNWYWx1ZSgpO1xuICBsZXQgdG9SZW5kZXIgPSB0eXBlb2YgY2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIiA/IGNoaWxkcmVuKGRhdGEpIDogY2hpbGRyZW47XG4gIHJldHVybiA8Pnt0b1JlbmRlcn08Lz47XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFVUSUxTXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQ3JlYXRlcyBhIHJvdXRlIGNvbmZpZyBmcm9tIGEgUmVhY3QgXCJjaGlsZHJlblwiIG9iamVjdCwgd2hpY2ggaXMgdXN1YWxseVxuICogZWl0aGVyIGEgYDxSb3V0ZT5gIGVsZW1lbnQgb3IgYW4gYXJyYXkgb2YgdGhlbS4gVXNlZCBpbnRlcm5hbGx5IGJ5XG4gKiBgPFJvdXRlcz5gIHRvIGNyZWF0ZSBhIHJvdXRlIGNvbmZpZyBmcm9tIGl0cyBjaGlsZHJlbi5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3V0aWxzL2NyZWF0ZS1yb3V0ZXMtZnJvbS1jaGlsZHJlblxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKFxuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlLFxuICBwYXJlbnRQYXRoOiBudW1iZXJbXSA9IFtdXG4pOiBSb3V0ZU9iamVjdFtdIHtcbiAgbGV0IHJvdXRlczogUm91dGVPYmplY3RbXSA9IFtdO1xuXG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIC8vIElnbm9yZSBub24tZWxlbWVudHMuIFRoaXMgYWxsb3dzIHBlb3BsZSB0byBtb3JlIGVhc2lseSBpbmxpbmVcbiAgICAgIC8vIGNvbmRpdGlvbmFscyBpbiB0aGVpciByb3V0ZSBjb25maWcuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHRyZWVQYXRoID0gWy4uLnBhcmVudFBhdGgsIGluZGV4XTtcblxuICAgIGlmIChlbGVtZW50LnR5cGUgPT09IFJlYWN0LkZyYWdtZW50KSB7XG4gICAgICAvLyBUcmFuc3BhcmVudGx5IHN1cHBvcnQgUmVhY3QuRnJhZ21lbnQgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgIHJvdXRlcy5wdXNoLmFwcGx5KFxuICAgICAgICByb3V0ZXMsXG4gICAgICAgIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihlbGVtZW50LnByb3BzLmNoaWxkcmVuLCB0cmVlUGF0aClcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgZWxlbWVudC50eXBlID09PSBSb3V0ZSxcbiAgICAgIGBbJHtcbiAgICAgICAgdHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gXCJzdHJpbmdcIiA/IGVsZW1lbnQudHlwZSA6IGVsZW1lbnQudHlwZS5uYW1lXG4gICAgICB9XSBpcyBub3QgYSA8Um91dGU+IGNvbXBvbmVudC4gQWxsIGNvbXBvbmVudCBjaGlsZHJlbiBvZiA8Um91dGVzPiBtdXN0IGJlIGEgPFJvdXRlPiBvciA8UmVhY3QuRnJhZ21lbnQ+YFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICAhZWxlbWVudC5wcm9wcy5pbmRleCB8fCAhZWxlbWVudC5wcm9wcy5jaGlsZHJlbixcbiAgICAgIFwiQW4gaW5kZXggcm91dGUgY2Fubm90IGhhdmUgY2hpbGQgcm91dGVzLlwiXG4gICAgKTtcblxuICAgIGxldCByb3V0ZTogUm91dGVPYmplY3QgPSB7XG4gICAgICBpZDogZWxlbWVudC5wcm9wcy5pZCB8fCB0cmVlUGF0aC5qb2luKFwiLVwiKSxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IGVsZW1lbnQucHJvcHMuY2FzZVNlbnNpdGl2ZSxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQucHJvcHMuZWxlbWVudCxcbiAgICAgIENvbXBvbmVudDogZWxlbWVudC5wcm9wcy5Db21wb25lbnQsXG4gICAgICBpbmRleDogZWxlbWVudC5wcm9wcy5pbmRleCxcbiAgICAgIHBhdGg6IGVsZW1lbnQucHJvcHMucGF0aCxcbiAgICAgIGxvYWRlcjogZWxlbWVudC5wcm9wcy5sb2FkZXIsXG4gICAgICBhY3Rpb246IGVsZW1lbnQucHJvcHMuYWN0aW9uLFxuICAgICAgZXJyb3JFbGVtZW50OiBlbGVtZW50LnByb3BzLmVycm9yRWxlbWVudCxcbiAgICAgIEVycm9yQm91bmRhcnk6IGVsZW1lbnQucHJvcHMuRXJyb3JCb3VuZGFyeSxcbiAgICAgIGhhc0Vycm9yQm91bmRhcnk6XG4gICAgICAgIGVsZW1lbnQucHJvcHMuRXJyb3JCb3VuZGFyeSAhPSBudWxsIHx8XG4gICAgICAgIGVsZW1lbnQucHJvcHMuZXJyb3JFbGVtZW50ICE9IG51bGwsXG4gICAgICBzaG91bGRSZXZhbGlkYXRlOiBlbGVtZW50LnByb3BzLnNob3VsZFJldmFsaWRhdGUsXG4gICAgICBoYW5kbGU6IGVsZW1lbnQucHJvcHMuaGFuZGxlLFxuICAgICAgbGF6eTogZWxlbWVudC5wcm9wcy5sYXp5LFxuICAgIH07XG5cbiAgICBpZiAoZWxlbWVudC5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgcm91dGUuY2hpbGRyZW4gPSBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oXG4gICAgICAgIGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIHRyZWVQYXRoXG4gICAgICApO1xuICAgIH1cblxuICAgIHJvdXRlcy5wdXNoKHJvdXRlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJvdXRlcztcbn1cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSByZXN1bHQgb2YgYG1hdGNoUm91dGVzKClgIGludG8gYSBSZWFjdCBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTWF0Y2hlcyhcbiAgbWF0Y2hlczogUm91dGVNYXRjaFtdIHwgbnVsbFxuKTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIHJldHVybiBfcmVuZGVyTWF0Y2hlcyhtYXRjaGVzKTtcbn1cbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB0eXBlIHtcbiAgQWN0aW9uRnVuY3Rpb24sXG4gIEFjdGlvbkZ1bmN0aW9uQXJncyxcbiAgQWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uLFxuICBBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb25BcmdzLFxuICBCbG9ja2VyLFxuICBCbG9ja2VyRnVuY3Rpb24sXG4gIERhdGFTdHJhdGVneUZ1bmN0aW9uLFxuICBEYXRhU3RyYXRlZ3lGdW5jdGlvbkFyZ3MsXG4gIERhdGFTdHJhdGVneU1hdGNoLFxuICBEYXRhU3RyYXRlZ3lSZXN1bHQsXG4gIEVycm9yUmVzcG9uc2UsXG4gIEZldGNoZXIsXG4gIEh5ZHJhdGlvblN0YXRlLFxuICBJbml0aWFsRW50cnksXG4gIEpzb25GdW5jdGlvbixcbiAgTGF6eVJvdXRlRnVuY3Rpb24sXG4gIExvYWRlckZ1bmN0aW9uLFxuICBMb2FkZXJGdW5jdGlvbkFyZ3MsXG4gIExvY2F0aW9uLFxuICBOYXZpZ2F0aW9uLFxuICBQYXJhbVBhcnNlS2V5LFxuICBQYXJhbXMsXG4gIFBhdGgsXG4gIFBhdGhNYXRjaCxcbiAgUGF0aFBhcmFtLFxuICBQYXRoUGF0dGVybixcbiAgUmVkaXJlY3RGdW5jdGlvbixcbiAgUmVsYXRpdmVSb3V0aW5nVHlwZSxcbiAgUm91dGVyIGFzIFJlbWl4Um91dGVyLFxuICBGdXR1cmVDb25maWcgYXMgUm91dGVyRnV0dXJlQ29uZmlnLFxuICBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb24sXG4gIFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbkFyZ3MsXG4gIFRvLFxuICBVSU1hdGNoLFxufSBmcm9tIFwiQHJlbWl4LXJ1bi9yb3V0ZXJcIjtcbmltcG9ydCB7XG4gIEFib3J0ZWREZWZlcnJlZEVycm9yLFxuICBBY3Rpb24gYXMgTmF2aWdhdGlvblR5cGUsXG4gIGNyZWF0ZU1lbW9yeUhpc3RvcnksXG4gIGNyZWF0ZVBhdGgsXG4gIGNyZWF0ZVJvdXRlcixcbiAgZGVmZXIsXG4gIGdlbmVyYXRlUGF0aCxcbiAgaXNSb3V0ZUVycm9yUmVzcG9uc2UsXG4gIGpzb24sXG4gIG1hdGNoUGF0aCxcbiAgbWF0Y2hSb3V0ZXMsXG4gIHBhcnNlUGF0aCxcbiAgcmVkaXJlY3QsXG4gIHJlZGlyZWN0RG9jdW1lbnQsXG4gIHJlcGxhY2UsXG4gIHJlc29sdmVQYXRoLFxuICBVTlNBRkVfd2FybmluZyBhcyB3YXJuaW5nLFxufSBmcm9tIFwiQHJlbWl4LXJ1bi9yb3V0ZXJcIjtcblxuaW1wb3J0IHR5cGUge1xuICBBd2FpdFByb3BzLFxuICBGdXR1cmVDb25maWcsXG4gIEluZGV4Um91dGVQcm9wcyxcbiAgTGF5b3V0Um91dGVQcm9wcyxcbiAgTWVtb3J5Um91dGVyUHJvcHMsXG4gIE5hdmlnYXRlUHJvcHMsXG4gIE91dGxldFByb3BzLFxuICBQYXRoUm91dGVQcm9wcyxcbiAgUm91dGVQcm9wcyxcbiAgUm91dGVyUHJvcHMsXG4gIFJvdXRlclByb3ZpZGVyUHJvcHMsXG4gIFJvdXRlc1Byb3BzLFxufSBmcm9tIFwiLi9saWIvY29tcG9uZW50c1wiO1xuaW1wb3J0IHtcbiAgQXdhaXQsXG4gIE1lbW9yeVJvdXRlcixcbiAgTmF2aWdhdGUsXG4gIE91dGxldCxcbiAgUm91dGUsXG4gIFJvdXRlcixcbiAgUm91dGVyUHJvdmlkZXIsXG4gIFJvdXRlcyxcbiAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuLFxuICByZW5kZXJNYXRjaGVzLFxufSBmcm9tIFwiLi9saWIvY29tcG9uZW50c1wiO1xuaW1wb3J0IHR5cGUge1xuICBEYXRhUm91dGVNYXRjaCxcbiAgRGF0YVJvdXRlT2JqZWN0LFxuICBJbmRleFJvdXRlT2JqZWN0LFxuICBOYXZpZ2F0ZU9wdGlvbnMsXG4gIE5hdmlnYXRvcixcbiAgTm9uSW5kZXhSb3V0ZU9iamVjdCxcbiAgUm91dGVNYXRjaCxcbiAgUm91dGVPYmplY3QsXG59IGZyb20gXCIuL2xpYi9jb250ZXh0XCI7XG5pbXBvcnQge1xuICBEYXRhUm91dGVyQ29udGV4dCxcbiAgRGF0YVJvdXRlclN0YXRlQ29udGV4dCxcbiAgTG9jYXRpb25Db250ZXh0LFxuICBOYXZpZ2F0aW9uQ29udGV4dCxcbiAgUm91dGVDb250ZXh0LFxufSBmcm9tIFwiLi9saWIvY29udGV4dFwiO1xuaW1wb3J0IHR5cGUgeyBOYXZpZ2F0ZUZ1bmN0aW9uIH0gZnJvbSBcIi4vbGliL2hvb2tzXCI7XG5pbXBvcnQge1xuICB1c2VBY3Rpb25EYXRhLFxuICB1c2VBc3luY0Vycm9yLFxuICB1c2VBc3luY1ZhbHVlLFxuICB1c2VCbG9ja2VyLFxuICB1c2VIcmVmLFxuICB1c2VJblJvdXRlckNvbnRleHQsXG4gIHVzZUxvYWRlckRhdGEsXG4gIHVzZUxvY2F0aW9uLFxuICB1c2VNYXRjaCxcbiAgdXNlTWF0Y2hlcyxcbiAgdXNlTmF2aWdhdGUsXG4gIHVzZU5hdmlnYXRpb24sXG4gIHVzZU5hdmlnYXRpb25UeXBlLFxuICB1c2VPdXRsZXQsXG4gIHVzZU91dGxldENvbnRleHQsXG4gIHVzZVBhcmFtcyxcbiAgdXNlUmVzb2x2ZWRQYXRoLFxuICB1c2VSZXZhbGlkYXRvcixcbiAgdXNlUm91dGVFcnJvcixcbiAgdXNlUm91dGVJZCxcbiAgdXNlUm91dGVMb2FkZXJEYXRhLFxuICB1c2VSb3V0ZXMsXG4gIHVzZVJvdXRlc0ltcGwsXG59IGZyb20gXCIuL2xpYi9ob29rc1wiO1xuaW1wb3J0IHsgbG9nVjZEZXByZWNhdGlvbldhcm5pbmdzIH0gZnJvbSBcIi4vbGliL2RlcHJlY2F0aW9uc1wiO1xuXG4vLyBFeHBvcnRlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIGJ1dCBub3QgYmVpbmcgdXNlZCBpbnRlcm5hbGx5IGFueW1vcmVcbnR5cGUgSGFzaCA9IHN0cmluZztcbnR5cGUgUGF0aG5hbWUgPSBzdHJpbmc7XG50eXBlIFNlYXJjaCA9IHN0cmluZztcblxuLy8gRXhwb3NlIHJlYWN0LXJvdXRlciBwdWJsaWMgQVBJXG5leHBvcnQgdHlwZSB7XG4gIEFjdGlvbkZ1bmN0aW9uLFxuICBBY3Rpb25GdW5jdGlvbkFyZ3MsXG4gIEF3YWl0UHJvcHMsXG4gIERhdGFSb3V0ZU1hdGNoLFxuICBEYXRhUm91dGVPYmplY3QsXG4gIERhdGFTdHJhdGVneUZ1bmN0aW9uLFxuICBEYXRhU3RyYXRlZ3lGdW5jdGlvbkFyZ3MsXG4gIERhdGFTdHJhdGVneU1hdGNoLFxuICBEYXRhU3RyYXRlZ3lSZXN1bHQsXG4gIEVycm9yUmVzcG9uc2UsXG4gIEZldGNoZXIsXG4gIEZ1dHVyZUNvbmZpZyxcbiAgSGFzaCxcbiAgSW5kZXhSb3V0ZU9iamVjdCxcbiAgSW5kZXhSb3V0ZVByb3BzLFxuICBKc29uRnVuY3Rpb24sXG4gIExheW91dFJvdXRlUHJvcHMsXG4gIExhenlSb3V0ZUZ1bmN0aW9uLFxuICBMb2FkZXJGdW5jdGlvbixcbiAgTG9hZGVyRnVuY3Rpb25BcmdzLFxuICBMb2NhdGlvbixcbiAgTWVtb3J5Um91dGVyUHJvcHMsXG4gIE5hdmlnYXRlRnVuY3Rpb24sXG4gIE5hdmlnYXRlT3B0aW9ucyxcbiAgTmF2aWdhdGVQcm9wcyxcbiAgTmF2aWdhdGlvbixcbiAgTmF2aWdhdG9yLFxuICBOb25JbmRleFJvdXRlT2JqZWN0LFxuICBPdXRsZXRQcm9wcyxcbiAgUGFyYW1QYXJzZUtleSxcbiAgUGFyYW1zLFxuICBQYXRoLFxuICBQYXRoTWF0Y2gsXG4gIFBhdGhQYXJhbSxcbiAgUGF0aFBhdHRlcm4sXG4gIFBhdGhSb3V0ZVByb3BzLFxuICBQYXRobmFtZSxcbiAgUmVkaXJlY3RGdW5jdGlvbixcbiAgUmVsYXRpdmVSb3V0aW5nVHlwZSxcbiAgUm91dGVNYXRjaCxcbiAgUm91dGVPYmplY3QsXG4gIFJvdXRlUHJvcHMsXG4gIFJvdXRlclByb3BzLFxuICBSb3V0ZXJQcm92aWRlclByb3BzLFxuICBSb3V0ZXNQcm9wcyxcbiAgU2VhcmNoLFxuICBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb24sXG4gIFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbkFyZ3MsXG4gIFRvLFxuICBVSU1hdGNoLFxuICBCbG9ja2VyLFxuICBCbG9ja2VyRnVuY3Rpb24sXG59O1xuZXhwb3J0IHtcbiAgQWJvcnRlZERlZmVycmVkRXJyb3IsXG4gIEF3YWl0LFxuICBNZW1vcnlSb3V0ZXIsXG4gIE5hdmlnYXRlLFxuICBOYXZpZ2F0aW9uVHlwZSxcbiAgT3V0bGV0LFxuICBSb3V0ZSxcbiAgUm91dGVyLFxuICBSb3V0ZXJQcm92aWRlcixcbiAgUm91dGVzLFxuICBjcmVhdGVQYXRoLFxuICBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4sXG4gIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbiBhcyBjcmVhdGVSb3V0ZXNGcm9tRWxlbWVudHMsXG4gIGRlZmVyLFxuICBnZW5lcmF0ZVBhdGgsXG4gIGlzUm91dGVFcnJvclJlc3BvbnNlLFxuICBqc29uLFxuICBtYXRjaFBhdGgsXG4gIG1hdGNoUm91dGVzLFxuICBwYXJzZVBhdGgsXG4gIHJlZGlyZWN0LFxuICByZWRpcmVjdERvY3VtZW50LFxuICByZXBsYWNlLFxuICByZW5kZXJNYXRjaGVzLFxuICByZXNvbHZlUGF0aCxcbiAgdXNlQmxvY2tlcixcbiAgdXNlQWN0aW9uRGF0YSxcbiAgdXNlQXN5bmNFcnJvcixcbiAgdXNlQXN5bmNWYWx1ZSxcbiAgdXNlSHJlZixcbiAgdXNlSW5Sb3V0ZXJDb250ZXh0LFxuICB1c2VMb2FkZXJEYXRhLFxuICB1c2VMb2NhdGlvbixcbiAgdXNlTWF0Y2gsXG4gIHVzZU1hdGNoZXMsXG4gIHVzZU5hdmlnYXRlLFxuICB1c2VOYXZpZ2F0aW9uLFxuICB1c2VOYXZpZ2F0aW9uVHlwZSxcbiAgdXNlT3V0bGV0LFxuICB1c2VPdXRsZXRDb250ZXh0LFxuICB1c2VQYXJhbXMsXG4gIHVzZVJlc29sdmVkUGF0aCxcbiAgdXNlUmV2YWxpZGF0b3IsXG4gIHVzZVJvdXRlRXJyb3IsXG4gIHVzZVJvdXRlTG9hZGVyRGF0YSxcbiAgdXNlUm91dGVzLFxufTtcblxuZXhwb3J0IHR5cGUgUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbkFyZ3MgPVxuICBBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb25BcmdzPFJvdXRlT2JqZWN0LCBSb3V0ZU1hdGNoPjtcblxuZXhwb3J0IHR5cGUgUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbiA9XG4gIEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbjxSb3V0ZU9iamVjdCwgUm91dGVNYXRjaD47XG5cbmZ1bmN0aW9uIG1hcFJvdXRlUHJvcGVydGllcyhyb3V0ZTogUm91dGVPYmplY3QpIHtcbiAgbGV0IHVwZGF0ZXM6IFBhcnRpYWw8Um91dGVPYmplY3Q+ICYgeyBoYXNFcnJvckJvdW5kYXJ5OiBib29sZWFuIH0gPSB7XG4gICAgLy8gTm90ZTogdGhpcyBjaGVjayBhbHNvIG9jY3VycyBpbiBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4gc28gdXBkYXRlXG4gICAgLy8gdGhlcmUgaWYgeW91IGNoYW5nZSB0aGlzIC0tIHBsZWFzZSBhbmQgdGhhbmsgeW91IVxuICAgIGhhc0Vycm9yQm91bmRhcnk6IHJvdXRlLkVycm9yQm91bmRhcnkgIT0gbnVsbCB8fCByb3V0ZS5lcnJvckVsZW1lbnQgIT0gbnVsbCxcbiAgfTtcblxuICBpZiAocm91dGUuQ29tcG9uZW50KSB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGlmIChyb3V0ZS5lbGVtZW50KSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIGJvdGggYENvbXBvbmVudGAgYW5kIGBlbGVtZW50YCBvbiB5b3VyIHJvdXRlIC0gXCIgK1xuICAgICAgICAgICAgXCJgQ29tcG9uZW50YCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBlbGVtZW50OiBSZWFjdC5jcmVhdGVFbGVtZW50KHJvdXRlLkNvbXBvbmVudCksXG4gICAgICBDb21wb25lbnQ6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChyb3V0ZS5IeWRyYXRlRmFsbGJhY2spIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgaWYgKHJvdXRlLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgYm90aCBgSHlkcmF0ZUZhbGxiYWNrYCBhbmQgYGh5ZHJhdGVGYWxsYmFja0VsZW1lbnRgIG9uIHlvdXIgcm91dGUgLSBcIiArXG4gICAgICAgICAgICBcImBIeWRyYXRlRmFsbGJhY2tgIHdpbGwgYmUgdXNlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHVwZGF0ZXMsIHtcbiAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQocm91dGUuSHlkcmF0ZUZhbGxiYWNrKSxcbiAgICAgIEh5ZHJhdGVGYWxsYmFjazogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHJvdXRlLkVycm9yQm91bmRhcnkpIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgaWYgKHJvdXRlLmVycm9yRWxlbWVudCkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSBib3RoIGBFcnJvckJvdW5kYXJ5YCBhbmQgYGVycm9yRWxlbWVudGAgb24geW91ciByb3V0ZSAtIFwiICtcbiAgICAgICAgICAgIFwiYEVycm9yQm91bmRhcnlgIHdpbGwgYmUgdXNlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHVwZGF0ZXMsIHtcbiAgICAgIGVycm9yRWxlbWVudDogUmVhY3QuY3JlYXRlRWxlbWVudChyb3V0ZS5FcnJvckJvdW5kYXJ5KSxcbiAgICAgIEVycm9yQm91bmRhcnk6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB1cGRhdGVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWVtb3J5Um91dGVyKFxuICByb3V0ZXM6IFJvdXRlT2JqZWN0W10sXG4gIG9wdHM/OiB7XG4gICAgYmFzZW5hbWU/OiBzdHJpbmc7XG4gICAgZnV0dXJlPzogUGFydGlhbDxPbWl0PFJvdXRlckZ1dHVyZUNvbmZpZywgXCJ2N19wcmVwZW5kQmFzZW5hbWVcIj4+O1xuICAgIGh5ZHJhdGlvbkRhdGE/OiBIeWRyYXRpb25TdGF0ZTtcbiAgICBpbml0aWFsRW50cmllcz86IEluaXRpYWxFbnRyeVtdO1xuICAgIGluaXRpYWxJbmRleD86IG51bWJlcjtcbiAgICBkYXRhU3RyYXRlZ3k/OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbjtcbiAgICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbj86IFBhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb247XG4gIH1cbik6IFJlbWl4Um91dGVyIHtcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlcih7XG4gICAgYmFzZW5hbWU6IG9wdHM/LmJhc2VuYW1lLFxuICAgIGZ1dHVyZToge1xuICAgICAgLi4ub3B0cz8uZnV0dXJlLFxuICAgICAgdjdfcHJlcGVuZEJhc2VuYW1lOiB0cnVlLFxuICAgIH0sXG4gICAgaGlzdG9yeTogY3JlYXRlTWVtb3J5SGlzdG9yeSh7XG4gICAgICBpbml0aWFsRW50cmllczogb3B0cz8uaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsSW5kZXg6IG9wdHM/LmluaXRpYWxJbmRleCxcbiAgICB9KSxcbiAgICBoeWRyYXRpb25EYXRhOiBvcHRzPy5oeWRyYXRpb25EYXRhLFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgZGF0YVN0cmF0ZWd5OiBvcHRzPy5kYXRhU3RyYXRlZ3ksXG4gICAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb246IG9wdHM/LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uLFxuICB9KS5pbml0aWFsaXplKCk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIERBTkdFUiEgUExFQVNFIFJFQUQgTUUhXG4vLyBXZSBwcm92aWRlIHRoZXNlIGV4cG9ydHMgYXMgYW4gZXNjYXBlIGhhdGNoIGluIHRoZSBldmVudCB0aGF0IHlvdSBuZWVkIGFueVxuLy8gcm91dGluZyBkYXRhIHRoYXQgd2UgZG9uJ3QgcHJvdmlkZSBhbiBleHBsaWNpdCBBUEkgZm9yLiBXaXRoIHRoYXQgc2FpZCwgd2Vcbi8vIHdhbnQgdG8gY292ZXIgeW91ciB1c2UgY2FzZSBpZiB3ZSBjYW4sIHNvIGlmIHlvdSBmZWVsIHRoZSBuZWVkIHRvIHVzZSB0aGVzZVxuLy8gd2Ugd2FudCB0byBoZWFyIGZyb20geW91LiBMZXQgdXMga25vdyB3aGF0IHlvdSdyZSBidWlsZGluZyBhbmQgd2UnbGwgZG8gb3VyXG4vLyBiZXN0IHRvIG1ha2Ugc3VyZSB3ZSBjYW4gc3VwcG9ydCB5b3UhXG4vL1xuLy8gV2UgY29uc2lkZXIgdGhlc2UgZXhwb3J0cyBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWwgYW5kIGRvIG5vdCBndWFyYW50ZWVcbi8vIGFnYWluc3QgYW55IGJyZWFraW5nIGNoYW5nZXMsIHJlZ2FyZGxlc3Mgb2YgdGhlIHNlbXZlciByZWxlYXNlLiBVc2Ugd2l0aFxuLy8gZXh0cmVtZSBjYXV0aW9uIGFuZCBvbmx5IGlmIHlvdSB1bmRlcnN0YW5kIHRoZSBjb25zZXF1ZW5jZXMuIEdvZHNwZWVkLlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQge1xuICBEYXRhUm91dGVyQ29udGV4dCBhcyBVTlNBRkVfRGF0YVJvdXRlckNvbnRleHQsXG4gIERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQgYXMgVU5TQUZFX0RhdGFSb3V0ZXJTdGF0ZUNvbnRleHQsXG4gIExvY2F0aW9uQ29udGV4dCBhcyBVTlNBRkVfTG9jYXRpb25Db250ZXh0LFxuICBOYXZpZ2F0aW9uQ29udGV4dCBhcyBVTlNBRkVfTmF2aWdhdGlvbkNvbnRleHQsXG4gIFJvdXRlQ29udGV4dCBhcyBVTlNBRkVfUm91dGVDb250ZXh0LFxuICBtYXBSb3V0ZVByb3BlcnRpZXMgYXMgVU5TQUZFX21hcFJvdXRlUHJvcGVydGllcyxcbiAgdXNlUm91dGVJZCBhcyBVTlNBRkVfdXNlUm91dGVJZCxcbiAgdXNlUm91dGVzSW1wbCBhcyBVTlNBRkVfdXNlUm91dGVzSW1wbCxcbiAgbG9nVjZEZXByZWNhdGlvbldhcm5pbmdzIGFzIFVOU0FGRV9sb2dWNkRlcHJlY2F0aW9uV2FybmluZ3MsXG59O1xuIiwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgInZhciB0ZWFyZG93blBsYWNlaG9sZGVyID0gKCkgPT4ge307XG5cbnZhciBlID0gdGVhcmRvd25QbGFjZWhvbGRlcjtcblxuZnVuY3Rpb24gc3RhcnQoZSkge1xuICByZXR1cm4ge1xuICAgIHRhZzogMCxcbiAgICAwOiBlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHB1c2goZSkge1xuICByZXR1cm4ge1xuICAgIHRhZzogMSxcbiAgICAwOiBlXG4gIH07XG59XG5cbnZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gKCkgPT4gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcblxudmFyIG9ic2VydmFibGVTeW1ib2wgPSAoKSA9PiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCBcIkBAb2JzZXJ2YWJsZVwiO1xuXG52YXIgaWRlbnRpdHkgPSBlID0+IGU7XG5cbmZ1bmN0aW9uIGJ1ZmZlcihyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gW107XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuID0gZTtcbiAgICB2YXIgcyA9ICExO1xuICAgIHZhciBsID0gITE7XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAobCkge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIG4oMSk7XG4gICAgICAgIGlmIChhLmxlbmd0aCkge1xuICAgICAgICAgIGkocHVzaChhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgZiA9IGVbMF07XG4gICAgICAgIHIoKGUgPT4ge1xuICAgICAgICAgIGlmIChsKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgICBsID0gITA7XG4gICAgICAgICAgICBmKDEpO1xuICAgICAgICAgICAgaWYgKGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGkocHVzaChhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKDApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICAgIG4gPSBlWzBdO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciByID0gcHVzaChhKTtcbiAgICAgICAgICAgIGEgPSBbXTtcbiAgICAgICAgICAgIGkocik7XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhLnB1c2goZVswXSk7XG4gICAgICAgIGlmICghcykge1xuICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICBmKDApO1xuICAgICAgICAgIG4oMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcyA9ICExO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUgJiYgIWwpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBmKDEpO1xuICAgICAgICBuKDEpO1xuICAgICAgfSBlbHNlIGlmICghbCAmJiAhcykge1xuICAgICAgICBzID0gITA7XG4gICAgICAgIGYoMCk7XG4gICAgICAgIG4oMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29uY2F0TWFwKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBbXTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSBlO1xuICAgIHZhciBzID0gITE7XG4gICAgdmFyIGwgPSAhMTtcbiAgICB2YXIgdSA9ICExO1xuICAgIHZhciBvID0gITE7XG4gICAgZnVuY3Rpb24gYXBwbHlJbm5lclNvdXJjZShlKSB7XG4gICAgICB1ID0gITA7XG4gICAgICBlKChlID0+IHtcbiAgICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICBpZiAodSkge1xuICAgICAgICAgICAgdSA9ICExO1xuICAgICAgICAgICAgaWYgKGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGFwcGx5SW5uZXJTb3VyY2UocihhLnNoaWZ0KCkpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobykge1xuICAgICAgICAgICAgICBpKDApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghcykge1xuICAgICAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgICAgIGYoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgbCA9ICExO1xuICAgICAgICAgIChuID0gZVswXSkoMCk7XG4gICAgICAgIH0gZWxzZSBpZiAodSkge1xuICAgICAgICAgIGkoZSk7XG4gICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgIGwgPSAhMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbigwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAobykge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICBvID0gITA7XG4gICAgICAgIGlmICghdSAmJiAhYS5sZW5ndGgpIHtcbiAgICAgICAgICBpKDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGYgPSBlWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9ICExO1xuICAgICAgICBpZiAodSkge1xuICAgICAgICAgIGEucHVzaChlWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcHBseUlubmVyU291cmNlKHIoZVswXSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgaWYgKCFvKSB7XG4gICAgICAgICAgbyA9ICEwO1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICB1ID0gITE7XG4gICAgICAgICAgbigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFvICYmICFzKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHUgJiYgIWwpIHtcbiAgICAgICAgICBsID0gITA7XG4gICAgICAgICAgbigwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbmNhdEFsbChlKSB7XG4gIHJldHVybiBjb25jYXRNYXAoaWRlbnRpdHkpKGUpO1xufVxuXG5mdW5jdGlvbiBjb25jYXQoZSkge1xuICByZXR1cm4gY29uY2F0QWxsKHIoZSkpO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBhID0gZVswXTtcbiAgICAgICAgaShlKTtcbiAgICAgIH0gZWxzZSBpZiAoIXIoZVswXSkpIHtcbiAgICAgICAgYSgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkoZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtYXAoZSkge1xuICByZXR1cm4gciA9PiB0ID0+IHIoKHIgPT4ge1xuICAgIGlmICgwID09PSByIHx8IDAgPT09IHIudGFnKSB7XG4gICAgICB0KHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0KHB1c2goZShyWzBdKSkpO1xuICAgIH1cbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBtZXJnZU1hcChyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gW107XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuID0gITE7XG4gICAgdmFyIHMgPSAhMTtcbiAgICB0KCh0ID0+IHtcbiAgICAgIGlmIChzKSB7fSBlbHNlIGlmICgwID09PSB0KSB7XG4gICAgICAgIHMgPSAhMDtcbiAgICAgICAgaWYgKCFhLmxlbmd0aCkge1xuICAgICAgICAgIGkoMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gdC50YWcpIHtcbiAgICAgICAgZiA9IHRbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gITE7XG4gICAgICAgICFmdW5jdGlvbiBhcHBseUlubmVyU291cmNlKHIpIHtcbiAgICAgICAgICB2YXIgdCA9IGU7XG4gICAgICAgICAgcigoZSA9PiB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgICAgICBpZiAoYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgciA9IGEuaW5kZXhPZih0KTtcbiAgICAgICAgICAgICAgICBpZiAociA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAoYSA9IGEuc2xpY2UoKSkuc3BsaWNlKHIsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBpZiAocykge1xuICAgICAgICAgICAgICAgICAgICBpKDApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbikge1xuICAgICAgICAgICAgICAgICAgICBuID0gITA7XG4gICAgICAgICAgICAgICAgICAgIGYoMCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgICAgIGEucHVzaCh0ID0gZVswXSk7XG4gICAgICAgICAgICAgIHQoMCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGkoZSk7XG4gICAgICAgICAgICAgIHQoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KHIodFswXSkpO1xuICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICBuID0gITA7XG4gICAgICAgICAgZigwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKTtcbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgIGlmICghcykge1xuICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICBmKDEpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHIgPSAwLCB0ID0gYSwgaSA9IGEubGVuZ3RoOyByIDwgaTsgcisrKSB7XG4gICAgICAgICAgdFtyXSgxKTtcbiAgICAgICAgfVxuICAgICAgICBhLmxlbmd0aCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXMgJiYgIW4pIHtcbiAgICAgICAgICBuID0gITA7XG4gICAgICAgICAgZigwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuID0gITE7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgbCA9IDAsIHUgPSBhLCBvID0gYS5sZW5ndGg7IGwgPCBvOyBsKyspIHtcbiAgICAgICAgICB1W2xdKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VBbGwoZSkge1xuICByZXR1cm4gbWVyZ2VNYXAoaWRlbnRpdHkpKGUpO1xufVxuXG5mdW5jdGlvbiBtZXJnZShlKSB7XG4gIHJldHVybiBtZXJnZUFsbChyKGUpKTtcbn1cblxuZnVuY3Rpb24gb25FbmQoZSkge1xuICByZXR1cm4gciA9PiB0ID0+IHtcbiAgICB2YXIgaSA9ICExO1xuICAgIHIoKHIgPT4ge1xuICAgICAgaWYgKGkpIHt9IGVsc2UgaWYgKDAgPT09IHIpIHtcbiAgICAgICAgaSA9ICEwO1xuICAgICAgICB0KDApO1xuICAgICAgICBlKCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IHIudGFnKSB7XG4gICAgICAgIHZhciBhID0gclswXTtcbiAgICAgICAgdChzdGFydCgociA9PiB7XG4gICAgICAgICAgaWYgKDEgPT09IHIpIHtcbiAgICAgICAgICAgIGkgPSAhMDtcbiAgICAgICAgICAgIGEoMSk7XG4gICAgICAgICAgICBlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGEocik7XG4gICAgICAgICAgfVxuICAgICAgICB9KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdChyKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uUHVzaChlKSB7XG4gIHJldHVybiByID0+IHQgPT4ge1xuICAgIHZhciBpID0gITE7XG4gICAgcigociA9PiB7XG4gICAgICBpZiAoaSkge30gZWxzZSBpZiAoMCA9PT0gcikge1xuICAgICAgICBpID0gITA7XG4gICAgICAgIHQoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IHIudGFnKSB7XG4gICAgICAgIHZhciBhID0gclswXTtcbiAgICAgICAgdChzdGFydCgoZSA9PiB7XG4gICAgICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgICAgIGkgPSAhMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYShlKTtcbiAgICAgICAgfSkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUoclswXSk7XG4gICAgICAgIHQocik7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvblN0YXJ0KGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiByKChyID0+IHtcbiAgICBpZiAoMCA9PT0gcikge1xuICAgICAgdCgwKTtcbiAgICB9IGVsc2UgaWYgKDAgPT09IHIudGFnKSB7XG4gICAgICB0KHIpO1xuICAgICAgZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0KHIpO1xuICAgIH1cbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBzYW1wbGUocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuO1xuICAgIHZhciBzID0gITE7XG4gICAgdmFyIGwgPSAhMTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChsKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgZigxKTtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gZVswXTtcbiAgICAgICAgaWYgKCFzKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgICAgYSgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzID0gITE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gICAgcigoZSA9PiB7XG4gICAgICBpZiAobCkge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIGEoMSk7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGYgPSBlWzBdO1xuICAgICAgfSBlbHNlIGlmICh2b2lkIDAgIT09IG4pIHtcbiAgICAgICAgdmFyIHIgPSBwdXNoKG4pO1xuICAgICAgICBuID0gdm9pZCAwO1xuICAgICAgICBpKHIpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlICYmICFsKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgYSgxKTtcbiAgICAgICAgZigxKTtcbiAgICAgIH0gZWxzZSBpZiAoIWwgJiYgIXMpIHtcbiAgICAgICAgcyA9ICEwO1xuICAgICAgICBhKDApO1xuICAgICAgICBmKDApO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNjYW4oZSwgcikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IHI7XG4gICAgdCgociA9PiB7XG4gICAgICBpZiAoMCA9PT0gcikge1xuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSByLnRhZykge1xuICAgICAgICBpKHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShwdXNoKGEgPSBlKGEsIHJbMF0pKSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzaGFyZShyKSB7XG4gIHZhciB0ID0gW107XG4gIHZhciBpID0gZTtcbiAgdmFyIGEgPSAhMTtcbiAgcmV0dXJuIGUgPT4ge1xuICAgIHQucHVzaChlKTtcbiAgICBpZiAoMSA9PT0gdC5sZW5ndGgpIHtcbiAgICAgIHIoKGUgPT4ge1xuICAgICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgIGZvciAodmFyIHIgPSAwLCBmID0gdCwgbiA9IHQubGVuZ3RoOyByIDwgbjsgcisrKSB7XG4gICAgICAgICAgICBmW3JdKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0Lmxlbmd0aCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICBpID0gZVswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhID0gITE7XG4gICAgICAgICAgZm9yICh2YXIgcyA9IDAsIGwgPSB0LCB1ID0gdC5sZW5ndGg7IHMgPCB1OyBzKyspIHtcbiAgICAgICAgICAgIGxbc10oZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICAgIGUoc3RhcnQoKHIgPT4ge1xuICAgICAgaWYgKDEgPT09IHIpIHtcbiAgICAgICAgdmFyIGYgPSB0LmluZGV4T2YoZSk7XG4gICAgICAgIGlmIChmID4gLTEpIHtcbiAgICAgICAgICAodCA9IHQuc2xpY2UoKSkuc3BsaWNlKGYsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdC5sZW5ndGgpIHtcbiAgICAgICAgICBpKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFhKSB7XG4gICAgICAgIGEgPSAhMDtcbiAgICAgICAgaSgwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBza2lwKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBlO1xuICAgIHZhciBmID0gcjtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgICBpKGUpO1xuICAgICAgfSBlbHNlIGlmIChmLS0gPiAwKSB7XG4gICAgICAgIGEoMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKGUpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2tpcFVudGlsKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBlO1xuICAgIHZhciBmID0gZTtcbiAgICB2YXIgbiA9ICEwO1xuICAgIHZhciBzID0gITE7XG4gICAgdmFyIGwgPSAhMTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChsKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBmKDEpO1xuICAgICAgICB9XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgICByKChlID0+IHtcbiAgICAgICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgICAgbCA9ICEwO1xuICAgICAgICAgICAgICBhKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICAgIChmID0gZVswXSkoMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG4gPSAhMTtcbiAgICAgICAgICAgIGYoMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2UgaWYgKCFuKSB7XG4gICAgICAgIHMgPSAhMTtcbiAgICAgICAgaShlKTtcbiAgICAgIH0gZWxzZSBpZiAoIXMpIHtcbiAgICAgICAgcyA9ICEwO1xuICAgICAgICBhKDApO1xuICAgICAgICBmKDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9ICExO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlICYmICFsKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgYSgxKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBmKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFsICYmICFzKSB7XG4gICAgICAgIHMgPSAhMDtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBmKDApO1xuICAgICAgICB9XG4gICAgICAgIGEoMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2tpcFdoaWxlKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBlO1xuICAgIHZhciBmID0gITA7XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBhID0gZVswXTtcbiAgICAgICAgaShlKTtcbiAgICAgIH0gZWxzZSBpZiAoZikge1xuICAgICAgICBpZiAocihlWzBdKSkge1xuICAgICAgICAgIGEoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZiA9ICExO1xuICAgICAgICAgIGkoZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkoZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzd2l0Y2hNYXAocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuID0gITE7XG4gICAgdmFyIHMgPSAhMTtcbiAgICB2YXIgbCA9ICExO1xuICAgIHZhciB1ID0gITE7XG4gICAgdCgodCA9PiB7XG4gICAgICBpZiAodSkge30gZWxzZSBpZiAoMCA9PT0gdCkge1xuICAgICAgICB1ID0gITA7XG4gICAgICAgIGlmICghbCkge1xuICAgICAgICAgIGkoMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gdC50YWcpIHtcbiAgICAgICAgYSA9IHRbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobCkge1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgICAgZiA9IGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuKSB7XG4gICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgIGEoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbiA9ICExO1xuICAgICAgICB9XG4gICAgICAgICFmdW5jdGlvbiBhcHBseUlubmVyU291cmNlKGUpIHtcbiAgICAgICAgICBsID0gITA7XG4gICAgICAgICAgZSgoZSA9PiB7XG4gICAgICAgICAgICBpZiAoIWwpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICAgICAgbCA9ICExO1xuICAgICAgICAgICAgICBpZiAodSkge1xuICAgICAgICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW4pIHtcbiAgICAgICAgICAgICAgICBuID0gITA7XG4gICAgICAgICAgICAgICAgYSgwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgICBzID0gITE7XG4gICAgICAgICAgICAgIChmID0gZVswXSkoMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpKGUpO1xuICAgICAgICAgICAgICBpZiAoIXMpIHtcbiAgICAgICAgICAgICAgICBmKDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHMgPSAhMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfShyKHRbMF0pKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICBpZiAoIXUpIHtcbiAgICAgICAgICB1ID0gITA7XG4gICAgICAgICAgYSgxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobCkge1xuICAgICAgICAgIGwgPSAhMTtcbiAgICAgICAgICBmKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXUgJiYgIW4pIHtcbiAgICAgICAgICBuID0gITA7XG4gICAgICAgICAgYSgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobCAmJiAhcykge1xuICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICBmKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3dpdGNoQWxsKGUpIHtcbiAgcmV0dXJuIHN3aXRjaE1hcChpZGVudGl0eSkoZSk7XG59XG5cbmZ1bmN0aW9uIHRha2Uocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSAhMTtcbiAgICB2YXIgbiA9IDA7XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAoZikge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICBmID0gITA7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGlmIChyIDw9IDApIHtcbiAgICAgICAgICBmID0gITA7XG4gICAgICAgICAgaSgwKTtcbiAgICAgICAgICBlWzBdKDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGEgPSBlWzBdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG4rKyA8IHIpIHtcbiAgICAgICAgaShlKTtcbiAgICAgICAgaWYgKCFmICYmIG4gPj0gcikge1xuICAgICAgICAgIGYgPSAhMDtcbiAgICAgICAgICBpKDApO1xuICAgICAgICAgIGEoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkoZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUgJiYgIWYpIHtcbiAgICAgICAgZiA9ICEwO1xuICAgICAgICBhKDEpO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlICYmICFmICYmIG4gPCByKSB7XG4gICAgICAgIGEoMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGFrZUxhc3QodCkge1xuICByZXR1cm4gaSA9PiBhID0+IHtcbiAgICB2YXIgZiA9IFtdO1xuICAgIHZhciBuID0gZTtcbiAgICBpKChlID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIHIoZikoYSk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGlmICh0IDw9IDApIHtcbiAgICAgICAgICBlWzBdKDEpO1xuICAgICAgICAgIHIoZikoYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKG4gPSBlWzBdKSgwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGYubGVuZ3RoID49IHQgJiYgdCkge1xuICAgICAgICAgIGYuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICBmLnB1c2goZVswXSk7XG4gICAgICAgIG4oMCk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0YWtlVW50aWwocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuID0gITE7XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAobikge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICBuID0gITA7XG4gICAgICAgIGYoMSk7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgICByKChlID0+IHtcbiAgICAgICAgICBpZiAoMCA9PT0gZSkge30gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICAgIChmID0gZVswXSkoMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICAgIGYoMSk7XG4gICAgICAgICAgICBhKDEpO1xuICAgICAgICAgICAgaSgwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkoZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUgJiYgIW4pIHtcbiAgICAgICAgbiA9ICEwO1xuICAgICAgICBhKDEpO1xuICAgICAgICBmKDEpO1xuICAgICAgfSBlbHNlIGlmICghbikge1xuICAgICAgICBhKDApO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRha2VXaGlsZShyLCB0KSB7XG4gIHJldHVybiBpID0+IGEgPT4ge1xuICAgIHZhciBmID0gZTtcbiAgICB2YXIgbiA9ICExO1xuICAgIGkoKGUgPT4ge1xuICAgICAgaWYgKG4pIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgbiA9ICEwO1xuICAgICAgICBhKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBmID0gZVswXTtcbiAgICAgICAgYShlKTtcbiAgICAgIH0gZWxzZSBpZiAoIXIoZVswXSkpIHtcbiAgICAgICAgbiA9ICEwO1xuICAgICAgICBpZiAodCkge1xuICAgICAgICAgIGEoZSk7XG4gICAgICAgIH1cbiAgICAgICAgYSgwKTtcbiAgICAgICAgZigxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEoZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWJvdW5jZShlKSB7XG4gIHJldHVybiByID0+IHQgPT4ge1xuICAgIHZhciBpO1xuICAgIHZhciBhID0gITE7XG4gICAgdmFyIGYgPSAhMTtcbiAgICByKChyID0+IHtcbiAgICAgIGlmIChmKSB7fSBlbHNlIGlmICgwID09PSByKSB7XG4gICAgICAgIGYgPSAhMDtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICBhID0gITA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdCgwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgwID09PSByLnRhZykge1xuICAgICAgICB2YXIgbiA9IHJbMF07XG4gICAgICAgIHQoc3RhcnQoKGUgPT4ge1xuICAgICAgICAgIGlmICgxID09PSBlICYmICFmKSB7XG4gICAgICAgICAgICBmID0gITA7XG4gICAgICAgICAgICBhID0gITE7XG4gICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuKDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWYpIHtcbiAgICAgICAgICAgIG4oMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgaSA9IHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICBpID0gdm9pZCAwO1xuICAgICAgICAgIHQocik7XG4gICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgIHQoMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSwgZShyWzBdKSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWxheShlKSB7XG4gIHJldHVybiByID0+IHQgPT4ge1xuICAgIHZhciBpID0gMDtcbiAgICByKChyID0+IHtcbiAgICAgIGlmICgwICE9PSByICYmIDAgPT09IHIudGFnKSB7XG4gICAgICAgIHQocik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKys7XG4gICAgICAgIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgdChyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLCBlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRocm90dGxlKGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiB7XG4gICAgdmFyIGkgPSAhMTtcbiAgICB2YXIgYTtcbiAgICByKChyID0+IHtcbiAgICAgIGlmICgwID09PSByKSB7XG4gICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGEpO1xuICAgICAgICB9XG4gICAgICAgIHQoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IHIudGFnKSB7XG4gICAgICAgIHZhciBmID0gclswXTtcbiAgICAgICAgdChzdGFydCgoZSA9PiB7XG4gICAgICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGYoMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGYoMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSkpO1xuICAgICAgfSBlbHNlIGlmICghaSkge1xuICAgICAgICBpID0gITA7XG4gICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGEpO1xuICAgICAgICB9XG4gICAgICAgIGEgPSBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgICAgYSA9IHZvaWQgMDtcbiAgICAgICAgICBpID0gITE7XG4gICAgICAgIH0pLCBlKHJbMF0pKTtcbiAgICAgICAgdChyKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGxhenkoZSkge1xuICByZXR1cm4gciA9PiBlKCkocik7XG59XG5cbmZ1bmN0aW9uIGZyb21Bc3luY0l0ZXJhYmxlKGUpIHtcbiAgcmV0dXJuIHIgPT4ge1xuICAgIHZhciB0ID0gZVthc3luY0l0ZXJhdG9yU3ltYm9sKCldICYmIGVbYXN5bmNJdGVyYXRvclN5bWJvbCgpXSgpIHx8IGU7XG4gICAgdmFyIGkgPSAhMTtcbiAgICB2YXIgYSA9ICExO1xuICAgIHZhciBmID0gITE7XG4gICAgdmFyIG47XG4gICAgcihzdGFydCgoYXN5bmMgZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICBpID0gITA7XG4gICAgICAgIGlmICh0LnJldHVybikge1xuICAgICAgICAgIHQucmV0dXJuKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYSkge1xuICAgICAgICBmID0gITA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGYgPSBhID0gITA7IGYgJiYgIWk7ICkge1xuICAgICAgICAgIGlmICgobiA9IGF3YWl0IHQubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBpID0gITA7XG4gICAgICAgICAgICBpZiAodC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgYXdhaXQgdC5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHIoMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGYgPSAhMTtcbiAgICAgICAgICAgICAgcihwdXNoKG4udmFsdWUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgaWYgKHQudGhyb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9ICEhKGF3YWl0IHQudGhyb3coZSkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgIHIoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYSA9ICExO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZyb21JdGVyYWJsZShlKSB7XG4gIGlmIChlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkge1xuICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShlKTtcbiAgfVxuICByZXR1cm4gciA9PiB7XG4gICAgdmFyIHQgPSBlW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICB2YXIgaSA9ICExO1xuICAgIHZhciBhID0gITE7XG4gICAgdmFyIGYgPSAhMTtcbiAgICB2YXIgbjtcbiAgICByKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgIGkgPSAhMDtcbiAgICAgICAgaWYgKHQucmV0dXJuKSB7XG4gICAgICAgICAgdC5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhKSB7XG4gICAgICAgIGYgPSAhMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoZiA9IGEgPSAhMDsgZiAmJiAhaTsgKSB7XG4gICAgICAgICAgaWYgKChuID0gdC5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGkgPSAhMDtcbiAgICAgICAgICAgIGlmICh0LnJldHVybikge1xuICAgICAgICAgICAgICB0LnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcigwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZiA9ICExO1xuICAgICAgICAgICAgICByKHB1c2gobi52YWx1ZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBpZiAodC50aHJvdykge1xuICAgICAgICAgICAgICAgIGlmIChpID0gISF0LnRocm93KGUpLmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgIHIoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYSA9ICExO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbnZhciByID0gZnJvbUl0ZXJhYmxlO1xuXG5mdW5jdGlvbiBmcm9tVmFsdWUoZSkge1xuICByZXR1cm4gciA9PiB7XG4gICAgdmFyIHQgPSAhMTtcbiAgICByKHN0YXJ0KChpID0+IHtcbiAgICAgIGlmICgxID09PSBpKSB7XG4gICAgICAgIHQgPSAhMDtcbiAgICAgIH0gZWxzZSBpZiAoIXQpIHtcbiAgICAgICAgdCA9ICEwO1xuICAgICAgICByKHB1c2goZSkpO1xuICAgICAgICByKDApO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1ha2UoZSkge1xuICByZXR1cm4gciA9PiB7XG4gICAgdmFyIHQgPSAhMTtcbiAgICB2YXIgaSA9IGUoe1xuICAgICAgbmV4dChlKSB7XG4gICAgICAgIGlmICghdCkge1xuICAgICAgICAgIHIocHVzaChlKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZSgpIHtcbiAgICAgICAgaWYgKCF0KSB7XG4gICAgICAgICAgdCA9ICEwO1xuICAgICAgICAgIHIoMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlICYmICF0KSB7XG4gICAgICAgIHQgPSAhMDtcbiAgICAgICAgaSgpO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1ha2VTdWJqZWN0KCkge1xuICB2YXIgZTtcbiAgdmFyIHI7XG4gIHJldHVybiB7XG4gICAgc291cmNlOiBzaGFyZShtYWtlKCh0ID0+IHtcbiAgICAgIGUgPSB0Lm5leHQ7XG4gICAgICByID0gdC5jb21wbGV0ZTtcbiAgICAgIHJldHVybiB0ZWFyZG93blBsYWNlaG9sZGVyO1xuICAgIH0pKSksXG4gICAgbmV4dChyKSB7XG4gICAgICBpZiAoZSkge1xuICAgICAgICBlKHIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29tcGxldGUoKSB7XG4gICAgICBpZiAocikge1xuICAgICAgICByKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG52YXIgZW1wdHkgPSBlID0+IHtcbiAgdmFyIHIgPSAhMTtcbiAgZShzdGFydCgodCA9PiB7XG4gICAgaWYgKDEgPT09IHQpIHtcbiAgICAgIHIgPSAhMDtcbiAgICB9IGVsc2UgaWYgKCFyKSB7XG4gICAgICByID0gITA7XG4gICAgICBlKDApO1xuICAgIH1cbiAgfSkpKTtcbn07XG5cbnZhciBuZXZlciA9IHIgPT4ge1xuICByKHN0YXJ0KGUpKTtcbn07XG5cbmZ1bmN0aW9uIGludGVydmFsKGUpIHtcbiAgcmV0dXJuIG1ha2UoKHIgPT4ge1xuICAgIHZhciB0ID0gMDtcbiAgICB2YXIgaSA9IHNldEludGVydmFsKCgoKSA9PiByLm5leHQodCsrKSksIGUpO1xuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGkpO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGZyb21Eb21FdmVudChlLCByKSB7XG4gIHJldHVybiBtYWtlKCh0ID0+IHtcbiAgICBlLmFkZEV2ZW50TGlzdGVuZXIociwgdC5uZXh0KTtcbiAgICByZXR1cm4gKCkgPT4gZS5yZW1vdmVFdmVudExpc3RlbmVyKHIsIHQubmV4dCk7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gZnJvbVByb21pc2UoZSkge1xuICByZXR1cm4gbWFrZSgociA9PiB7XG4gICAgZS50aGVuKChlID0+IHtcbiAgICAgIFByb21pc2UucmVzb2x2ZShlKS50aGVuKCgoKSA9PiB7XG4gICAgICAgIHIubmV4dChlKTtcbiAgICAgICAgci5jb21wbGV0ZSgpO1xuICAgICAgfSkpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gdGVhcmRvd25QbGFjZWhvbGRlcjtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocikge1xuICByZXR1cm4gdCA9PiB7XG4gICAgdmFyIGkgPSBlO1xuICAgIHZhciBhID0gITE7XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICBhID0gITA7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIChpID0gZVswXSkoMCk7XG4gICAgICB9IGVsc2UgaWYgKCFhKSB7XG4gICAgICAgIHIoZVswXSk7XG4gICAgICAgIGkoMCk7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIHJldHVybiB7XG4gICAgICB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgaWYgKCFhKSB7XG4gICAgICAgICAgYSA9ICEwO1xuICAgICAgICAgIGkoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBmb3JFYWNoKGUpIHtcbiAgcmV0dXJuIHIgPT4ge1xuICAgIHN1YnNjcmliZShlKShyKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaChlKSB7XG4gIHN1YnNjcmliZSgoZSA9PiB7fSkpKGUpO1xufVxuXG52YXIgdCA9IHtcbiAgZG9uZTogITBcbn07XG5cbnZhciB0b0FzeW5jSXRlcmFibGUgPSByID0+IHtcbiAgdmFyIGkgPSBbXTtcbiAgdmFyIGEgPSAhMTtcbiAgdmFyIGYgPSAhMTtcbiAgdmFyIG4gPSAhMTtcbiAgdmFyIHMgPSBlO1xuICB2YXIgbDtcbiAgcmV0dXJuIHtcbiAgICBhc3luYyBuZXh0KCkge1xuICAgICAgaWYgKCFmKSB7XG4gICAgICAgIGYgPSAhMDtcbiAgICAgICAgcigoZSA9PiB7XG4gICAgICAgICAgaWYgKGEpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgICAgIGwgPSBsKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYSA9ICEwO1xuICAgICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICAgIChzID0gZVswXSkoMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG4gPSAhMTtcbiAgICAgICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgICAgIGwgPSBsKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZVswXSxcbiAgICAgICAgICAgICAgICBkb25lOiAhMVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGkucHVzaChlWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIGlmIChhICYmICFpLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdDtcbiAgICAgIH0gZWxzZSBpZiAoIWEgJiYgIW4gJiYgaS5sZW5ndGggPD0gMSkge1xuICAgICAgICBuID0gITA7XG4gICAgICAgIHMoMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaS5sZW5ndGggPyB7XG4gICAgICAgIHZhbHVlOiBpLnNoaWZ0KCksXG4gICAgICAgIGRvbmU6ICExXG4gICAgICB9IDogbmV3IFByb21pc2UoKGUgPT4gbCA9IGUpKTtcbiAgICB9LFxuICAgIGFzeW5jIHJldHVybigpIHtcbiAgICAgIGlmICghYSkge1xuICAgICAgICBsID0gcygxKTtcbiAgICAgIH1cbiAgICAgIGEgPSAhMDtcbiAgICAgIHJldHVybiB0O1xuICAgIH0sXG4gICAgW2FzeW5jSXRlcmF0b3JTeW1ib2woKV0oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbiB0b0FycmF5KHIpIHtcbiAgdmFyIHQgPSBbXTtcbiAgdmFyIGkgPSBlO1xuICB2YXIgYSA9ICExO1xuICByKChlID0+IHtcbiAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgYSA9ICEwO1xuICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgIChpID0gZVswXSkoMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQucHVzaChlWzBdKTtcbiAgICAgIGkoMCk7XG4gICAgfVxuICB9KSk7XG4gIGlmICghYSkge1xuICAgIGkoMSk7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIHRvUHJvbWlzZShyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgodCA9PiB7XG4gICAgdmFyIGkgPSBlO1xuICAgIHZhciBhO1xuICAgIHIoKGUgPT4ge1xuICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKGEpLnRoZW4odCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIChpID0gZVswXSkoMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhID0gZVswXTtcbiAgICAgICAgaSgwKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gemlwKHIpIHtcbiAgdmFyIHQgPSBPYmplY3Qua2V5cyhyKS5sZW5ndGg7XG4gIHJldHVybiBpID0+IHtcbiAgICB2YXIgYSA9IG5ldyBTZXQ7XG4gICAgdmFyIGYgPSBBcnJheS5pc0FycmF5KHIpID8gbmV3IEFycmF5KHQpLmZpbGwoZSkgOiB7fTtcbiAgICB2YXIgbiA9IEFycmF5LmlzQXJyYXkocikgPyBuZXcgQXJyYXkodCkgOiB7fTtcbiAgICB2YXIgcyA9ICExO1xuICAgIHZhciBsID0gITE7XG4gICAgdmFyIHUgPSAhMTtcbiAgICB2YXIgbyA9IDA7XG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbih2KSB7XG4gICAgICByW3ZdKChjID0+IHtcbiAgICAgICAgaWYgKDAgPT09IGMpIHtcbiAgICAgICAgICBpZiAobyA+PSB0IC0gMSkge1xuICAgICAgICAgICAgdSA9ICEwO1xuICAgICAgICAgICAgaSgwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbysrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgwID09PSBjLnRhZykge1xuICAgICAgICAgIGZbdl0gPSBjWzBdO1xuICAgICAgICB9IGVsc2UgaWYgKCF1KSB7XG4gICAgICAgICAgblt2XSA9IGNbMF07XG4gICAgICAgICAgYS5hZGQodik7XG4gICAgICAgICAgaWYgKCFzICYmIGEuc2l6ZSA8IHQpIHtcbiAgICAgICAgICAgIGlmICghbCkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBoIGluIHIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWEuaGFzKGgpKSB7XG4gICAgICAgICAgICAgICAgICAoZltoXSB8fCBlKSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGwgPSAhMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgICAgbCA9ICExO1xuICAgICAgICAgICAgaShwdXNoKEFycmF5LmlzQXJyYXkobikgPyBuLnNsaWNlKCkgOiB7XG4gICAgICAgICAgICAgIC4uLm5cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9O1xuICAgIGZvciAodmFyIHYgaW4gcikge1xuICAgICAgbG9vcCh2KTtcbiAgICB9XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAodSkge30gZWxzZSBpZiAoMSA9PT0gZSkge1xuICAgICAgICB1ID0gITA7XG4gICAgICAgIGZvciAodmFyIHIgaW4gZikge1xuICAgICAgICAgIGZbcl0oMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWwpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBmb3IgKHZhciB0IGluIGYpIHtcbiAgICAgICAgICBmW3RdKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29tYmluZSguLi5lKSB7XG4gIHJldHVybiB6aXAoZSk7XG59XG5cbmZ1bmN0aW9uIGZyb21PYnNlcnZhYmxlKGUpIHtcbiAgcmV0dXJuIHIgPT4ge1xuICAgIHZhciB0ID0gKGVbb2JzZXJ2YWJsZVN5bWJvbCgpXSA/IGVbb2JzZXJ2YWJsZVN5bWJvbCgpXSgpIDogZSkuc3Vic2NyaWJlKHtcbiAgICAgIG5leHQoZSkge1xuICAgICAgICByKHB1c2goZSkpO1xuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlKCkge1xuICAgICAgICByKDApO1xuICAgICAgfSxcbiAgICAgIGVycm9yKGUpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgIHQudW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0b09ic2VydmFibGUocikge1xuICByZXR1cm4ge1xuICAgIHN1YnNjcmliZSh0LCBpLCBhKSB7XG4gICAgICB2YXIgZiA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIHQgPyB0IDoge1xuICAgICAgICBuZXh0OiB0LFxuICAgICAgICBlcnJvcjogaSxcbiAgICAgICAgY29tcGxldGU6IGFcbiAgICAgIH07XG4gICAgICB2YXIgbiA9IGU7XG4gICAgICB2YXIgcyA9ICExO1xuICAgICAgcigoZSA9PiB7XG4gICAgICAgIGlmIChzKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIGlmIChmLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICBmLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgKG4gPSBlWzBdKSgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmLm5leHQoZVswXSk7XG4gICAgICAgICAgbigwKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgICAgdmFyIGwgPSB7XG4gICAgICAgIGNsb3NlZDogITEsXG4gICAgICAgIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgIGwuY2xvc2VkID0gITA7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIG4oMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gbDtcbiAgICB9LFxuICAgIFtvYnNlcnZhYmxlU3ltYm9sKCldKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBmcm9tQ2FsbGJhZyhlKSB7XG4gIHJldHVybiByID0+IHtcbiAgICBlKDAsICgoZSwgdCkgPT4ge1xuICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgcihzdGFydCgoZSA9PiB7XG4gICAgICAgICAgdChlICsgMSk7XG4gICAgICAgIH0pKSk7XG4gICAgICB9IGVsc2UgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgcihwdXNoKHQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHIoMCk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0b0NhbGxiYWcoZSkge1xuICByZXR1cm4gKHIsIHQpID0+IHtcbiAgICBpZiAoMCA9PT0gcikge1xuICAgICAgZSgoZSA9PiB7XG4gICAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgdCgyKTtcbiAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgIHQoMCwgKHIgPT4ge1xuICAgICAgICAgICAgaWYgKHIgPCAzKSB7XG4gICAgICAgICAgICAgIGVbMF0ociAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0KDEsIGVbMF0pO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgcGlwZSA9ICguLi5lKSA9PiB7XG4gIHZhciByID0gZVswXTtcbiAgZm9yICh2YXIgdCA9IDEsIGkgPSBlLmxlbmd0aDsgdCA8IGk7IHQrKykge1xuICAgIHIgPSBlW3RdKHIpO1xuICB9XG4gIHJldHVybiByO1xufTtcblxuZXhwb3J0IHsgYnVmZmVyLCBjb21iaW5lLCBjb25jYXQsIGNvbmNhdEFsbCwgY29uY2F0TWFwLCBkZWJvdW5jZSwgZGVsYXksIGVtcHR5LCBmaWx0ZXIsIG1lcmdlQWxsIGFzIGZsYXR0ZW4sIGZvckVhY2gsIHIgYXMgZnJvbUFycmF5LCBmcm9tQXN5bmNJdGVyYWJsZSwgZnJvbUNhbGxiYWcsIGZyb21Eb21FdmVudCwgZnJvbUl0ZXJhYmxlLCBmcm9tT2JzZXJ2YWJsZSwgZnJvbVByb21pc2UsIGZyb21WYWx1ZSwgaW50ZXJ2YWwsIGxhenksIG1ha2UsIG1ha2VTdWJqZWN0LCBtYXAsIG1lcmdlLCBtZXJnZUFsbCwgbWVyZ2VNYXAsIG5ldmVyLCBvbkVuZCwgb25QdXNoLCBvblN0YXJ0LCBwaXBlLCBwdWJsaXNoLCBzYW1wbGUsIHNjYW4sIHNoYXJlLCBza2lwLCBza2lwVW50aWwsIHNraXBXaGlsZSwgc3Vic2NyaWJlLCBzd2l0Y2hBbGwsIHN3aXRjaE1hcCwgdGFrZSwgdGFrZUxhc3QsIHRha2VVbnRpbCwgdGFrZVdoaWxlLCBvblB1c2ggYXMgdGFwLCB0aHJvdHRsZSwgdG9BcnJheSwgdG9Bc3luY0l0ZXJhYmxlLCB0b0NhbGxiYWcsIHRvT2JzZXJ2YWJsZSwgdG9Qcm9taXNlLCB6aXAgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdvbmthLm1qcy5tYXBcbiIsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsICJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IExvZ2luRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0xvZ2luRm9ybS50c3hcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIExvZ2luUGFnZSgpIHtcbiAgY29uc3QgeyBpc0F1dGhlbnRpY2F0ZWQsIGlzTG9hZGluZyB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG5cbiAgLy8gXHU4QThEXHU4QTNDXHU2RTA4XHUzMDdGXHUzMDZBXHUzMDg5XHUzMEMwXHUzMEMzXHUzMEI3XHUzMEU1XHUzMERDXHUzMEZDXHUzMEM5XHUzMDc4XHUzMEVBXHUzMEMwXHUzMEE0XHUzMEVDXHUzMEFGXHUzMEM4XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0xvYWRpbmcgJiYgaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBuYXZpZ2F0ZShcIi9cIiwgeyByZXBsYWNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSwgW2lzQXV0aGVudGljYXRlZCwgaXNMb2FkaW5nLCBuYXZpZ2F0ZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBweS0xMiBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy1tZCBteC1hdXRvXCI+XG4gICAgICAgIDxMb2dpbkZvcm1cbiAgICAgICAgICBvblN1Y2Nlc3M9eygpID0+IG5hdmlnYXRlKFwiL1wiLCB7IHJlcGxhY2U6IHRydWUgfSl9XG4gICAgICAgICAgb25Td2l0Y2hUb1NpZ251cD17KCkgPT4gbmF2aWdhdGUoXCIvc2lnbnVwXCIpfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCAiLy8gXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXHUzMEQ1XHUzMEE5XHUzMEZDXHUzMEUwXG5cbmltcG9ydCB7IHR5cGUgRm9ybUV2ZW50LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSBcIi4uL2NvbnRleHQvQXV0aENvbnRleHQudHN4XCI7XG5pbXBvcnQgeyBzZW5kUGFzc3dvcmRSZXNldCB9IGZyb20gXCIuLi9maXJlYmFzZS9hdXRoLnRzXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi9idXR0b24vYnV0dG9uLnRzeFwiO1xuaW1wb3J0IHsgU3R5bGVkSW5wdXQgfSBmcm9tIFwiLi9pbnB1dC9pbnB1dC50c3hcIjtcblxudHlwZSBMb2dpbkZvcm1Qcm9wcyA9IHtcbiAgb25TdWNjZXNzPzogKCkgPT4gdm9pZDtcbiAgb25Td2l0Y2hUb1NpZ251cD86ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTG9naW5Gb3JtKHsgb25TdWNjZXNzLCBvblN3aXRjaFRvU2lnbnVwIH06IExvZ2luRm9ybVByb3BzKSB7XG4gIGNvbnN0IHsgbG9naW4sIGlzTG9hZGluZyB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcGFzc3dvcmQsIHNldFBhc3N3b3JkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Nob3dSZXNldEZvcm0sIHNldFNob3dSZXNldEZvcm1dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVzZXRMb2FkaW5nLCBzZXRSZXNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBGb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2V0RXJyb3IoXCJcIik7XG4gICAgc2V0TWVzc2FnZShcIlwiKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvZ2luKGVtYWlsLCBwYXNzd29yZCk7XG5cbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHNldEVtYWlsKFwiXCIpO1xuICAgICAgc2V0UGFzc3dvcmQoXCJcIik7XG4gICAgICBvblN1Y2Nlc3M/LigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRFcnJvcihyZXN1bHQubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBhc3N3b3JkUmVzZXQgPSBhc3luYyAoZTogRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNldEVycm9yKFwiXCIpO1xuICAgIHNldE1lc3NhZ2UoXCJcIik7XG4gICAgc2V0UmVzZXRMb2FkaW5nKHRydWUpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFBhc3N3b3JkUmVzZXQoZW1haWwpO1xuXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBzZXRNZXNzYWdlKHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgIHNldFNob3dSZXNldEZvcm0oZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRFcnJvcihyZXN1bHQubWVzc2FnZSk7XG4gICAgfVxuICAgIHNldFJlc2V0TG9hZGluZyhmYWxzZSk7XG4gIH07XG5cbiAgLy8gXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMEVBXHUzMEJCXHUzMEMzXHUzMEM4XHUzMEQ1XHUzMEE5XHUzMEZDXHUzMEUwXG4gIGlmIChzaG93UmVzZXRGb3JtKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgc2hhZG93LW1kIHJvdW5kZWQtbGcgcC02XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMCBtYi00XCI+XG4gICAgICAgICAgXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMDkyXHUzMEVBXHUzMEJCXHUzMEMzXHUzMEM4XG4gICAgICAgIDwvaDI+XG5cbiAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0zIGJnLXJlZC0xMDAgdGV4dC1yZWQtNzAwIHJvdW5kZWQtbWQgdGV4dC1zbVwiPlxuICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtYi00XCI+XG4gICAgICAgICAgXHU3NjdCXHU5MzMyXHUzMDU3XHUzMDVGXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XHUzMDkyXHU1MTY1XHU1MjlCXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0XHUzMDAyXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMEVBXHUzMEJCXHUzMEMzXHUzMEM4XHU3NTI4XHUzMDZFXHUzMEVBXHUzMEYzXHUzMEFGXHUzMDkyXHU5MDAxXHU0RkUxXHUzMDU3XHUzMDdFXHUzMDU5XHUzMDAyXG4gICAgICAgIDwvcD5cblxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlUGFzc3dvcmRSZXNldH0gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICBodG1sRm9yPVwicmVzZXQtZW1haWxcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICBpZD1cInJlc2V0LWVtYWlsXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2VtYWlsfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJleGFtcGxlQGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXtyZXNldExvYWRpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweS0yIHB4LTQgcm91bmRlZC1tZCBob3ZlcjpiZy1ibHVlLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtyZXNldExvYWRpbmcgPyBcIlx1OTAwMVx1NEZFMVx1NEUyRC4uLlwiIDogXCJcdTMwRUFcdTMwQkJcdTMwQzNcdTMwQzhcdTMwRTFcdTMwRkNcdTMwRUJcdTMwOTJcdTkwMDFcdTRGRTFcIn1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBzZXRTaG93UmVzZXRGb3JtKGZhbHNlKTtcbiAgICAgICAgICAgIHNldEVycm9yKFwiXCIpO1xuICAgICAgICAgIH19XG4gICAgICAgICAgY2xhc3NOYW1lPVwibXQtNCB3LWZ1bGwgdGV4dC1ncmF5LTYwMCBob3Zlcjp0ZXh0LWdyYXktODAwIHRleHQtc21cIlxuICAgICAgICA+XG4gICAgICAgICAgXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXHUzMDZCXHU2MjNCXHUzMDhCXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBzaGFkb3ctbWQgcm91bmRlZC1sZyBwLTZcIj5cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBwLTMgYmctcmVkLTEwMCB0ZXh0LXJlZC03MDAgcm91bmRlZC1tZCB0ZXh0LXNtXCI+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHttZXNzYWdlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi03MDAgcm91bmRlZC1tZCB0ZXh0LXNtXCI+XG4gICAgICAgICAge21lc3NhZ2V9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBodG1sRm9yPVwibG9naW4tZW1haWxcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPFN0eWxlZElucHV0XG4gICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgaWQ9XCJsb2dpbi1lbWFpbFwiXG4gICAgICAgICAgICB2YWx1ZT17ZW1haWx9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cImV4YW1wbGVAZXhhbXBsZS5jb21cIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBodG1sRm9yPVwibG9naW4tcGFzc3dvcmRcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPFN0eWxlZElucHV0XG4gICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgaWQ9XCJsb2dpbi1wYXNzd29yZFwiXG4gICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjZcdTY1ODdcdTVCNTdcdTRFRTVcdTRFMEFcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBkaXNhYmxlZD17aXNMb2FkaW5nfSBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICB7aXNMb2FkaW5nID8gXCJcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTRFMkQuLi5cIiA6IFwiXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXCJ9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9mb3JtPlxuXG4gICAgICA8YnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgc2V0U2hvd1Jlc2V0Rm9ybSh0cnVlKTtcbiAgICAgICAgICBzZXRFcnJvcihcIlwiKTtcbiAgICAgICAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgICAgICB9fVxuICAgICAgICBjbGFzc05hbWU9XCJtdC0zIHctZnVsbCB0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSB0ZXh0LXNtXCJcbiAgICAgID5cbiAgICAgICAgXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMDkyXHU1RkQ4XHUzMDhDXHUzMDVGXHU1ODM0XHU1NDA4XG4gICAgICA8L2J1dHRvbj5cblxuICAgICAge29uU3dpdGNoVG9TaWdudXAgJiYgKFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtY2VudGVyIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgIFx1MzBBMlx1MzBBQlx1MzBBNlx1MzBGM1x1MzBDOFx1MzA5Mlx1MzA0QVx1NjMwMVx1MzA2MVx1MzA2N1x1MzA2QVx1MzA0NFx1NjVCOVx1MzA2RntcIiBcIn1cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uU3dpdGNoVG9TaWdudXB9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgXHU2NUIwXHU4OThGXHU3NjdCXHU5MzMyXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCAiLy8gRmlyZWJhc2UgXHU4QThEXHU4QTNDXHUzMEIzXHUzMEYzXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XG5cbmltcG9ydCB7XG4gIGNyZWF0ZUNvbnRleHQsXG4gIHR5cGUgUmVhY3ROb2RlLFxuICB1c2VDYWxsYmFjayxcbiAgdXNlQ29udGV4dCxcbiAgdXNlRWZmZWN0LFxuICB1c2VTdGF0ZSxcbn0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBmaXJlYmFzZUxvZ2luLFxuICBmaXJlYmFzZUxvZ291dCxcbiAgZmlyZWJhc2VTaWdudXAsXG4gIG9uQXV0aENoYW5nZSxcbiAgcmVzZW5kVmVyaWZpY2F0aW9uRW1haWwsXG59IGZyb20gXCIuLi9maXJlYmFzZS9hdXRoLnRzXCI7XG5pbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tIFwiZmlyZWJhc2UvYXV0aFwiO1xuXG4vLyBcdThBOERcdThBM0NcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTU3OEJcbnR5cGUgQXV0aFVzZXIgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgZW1haWxWZXJpZmllZDogYm9vbGVhbjtcbn07XG5cbi8vIFx1OEE4RFx1OEEzQ1x1MzBCM1x1MzBGM1x1MzBDNlx1MzBBRFx1MzBCOVx1MzBDOFx1NTc4QlxudHlwZSBBdXRoQ29udGV4dFR5cGUgPSB7XG4gIHVzZXI6IEF1dGhVc2VyIHwgbnVsbDtcbiAgZmlyZWJhc2VVc2VyOiBVc2VyIHwgbnVsbDtcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG4gIHNpZ251cDogKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBlbWFpbDogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICkgPT4gUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PjtcbiAgbG9naW46IChcbiAgICBlbWFpbDogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICkgPT4gUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PjtcbiAgbG9nb3V0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICByZXNlbmRWZXJpZmljYXRpb246ICgpID0+IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT47XG59O1xuXG4vLyBcdTMwQjNcdTMwRjNcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcdTRGNUNcdTYyMTBcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCBudWxsPihudWxsKTtcblxuLy8gRmlyZWJhc2UgVXNlciBcdTMwOTIgQXV0aFVzZXIgXHUzMDZCXHU1OTA5XHU2M0RCXG5mdW5jdGlvbiB0b0F1dGhVc2VyKGZpcmViYXNlVXNlcjogVXNlcik6IEF1dGhVc2VyIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogZmlyZWJhc2VVc2VyLnVpZCxcbiAgICBuYW1lOiBmaXJlYmFzZVVzZXIuZGlzcGxheU5hbWUgfHwgXCJcIixcbiAgICBlbWFpbDogZmlyZWJhc2VVc2VyLmVtYWlsIHx8IFwiXCIsXG4gICAgZW1haWxWZXJpZmllZDogZmlyZWJhc2VVc2VyLmVtYWlsVmVyaWZpZWQsXG4gIH07XG59XG5cbi8vIEF1dGhQcm92aWRlciBcdTMwQjNcdTMwRjNcdTMwRERcdTMwRkNcdTMwQ0RcdTMwRjNcdTMwQzhcbnR5cGUgQXV0aFByb3ZpZGVyUHJvcHMgPSB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gQXV0aFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogQXV0aFByb3ZpZGVyUHJvcHMpIHtcbiAgY29uc3QgW2ZpcmViYXNlVXNlciwgc2V0RmlyZWJhc2VVc2VyXSA9IHVzZVN0YXRlPFVzZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8QXV0aFVzZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIC8vIEZpcmViYXNlIFx1OEE4RFx1OEEzQ1x1NzJCNlx1NjE0Qlx1MzA2RVx1NzZFM1x1ODk5NlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoQ2hhbmdlKChmYlVzZXIpID0+IHtcbiAgICAgIHNldEZpcmViYXNlVXNlcihmYlVzZXIpO1xuICAgICAgaWYgKGZiVXNlcikge1xuICAgICAgICBzZXRVc2VyKHRvQXV0aFVzZXIoZmJVc2VyKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgfVxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICB9LCBbXSk7XG5cbiAgLy8gXHUzMEI1XHUzMEE0XHUzMEYzXHUzMEEyXHUzMEMzXHUzMEQ3XG4gIGNvbnN0IHNpZ251cCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChcbiAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfT4gPT4ge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmlyZWJhc2VTaWdudXAoZW1haWwsIHBhc3N3b3JkKTtcblxuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LnVzZXIpIHtcbiAgICAgICAgICAvLyBkaXNwbGF5TmFtZSBcdTMwOTJcdThBMkRcdTVCOUFcbiAgICAgICAgICBjb25zdCB7IHVwZGF0ZVByb2ZpbGUgfSA9IGF3YWl0IGltcG9ydChcImZpcmViYXNlL2F1dGhcIik7XG4gICAgICAgICAgYXdhaXQgdXBkYXRlUHJvZmlsZShyZXN1bHQudXNlciwgeyBkaXNwbGF5TmFtZTogbmFtZSB9KTtcblxuICAgICAgICAgIC8vIFx1MzBFNlx1MzBGQ1x1MzBCNlx1MzBGQ1x1NjBDNVx1NTgzMVx1MzA5Mlx1NjZGNFx1NjVCMFxuICAgICAgICAgIHNldFVzZXIoe1xuICAgICAgICAgICAgaWQ6IHJlc3VsdC51c2VyLnVpZCxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBlbWFpbDogcmVzdWx0LnVzZXIuZW1haWwgfHwgXCJcIixcbiAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IHJlc3VsdC51c2VyLmVtYWlsVmVyaWZpZWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiByZXN1bHQuc3VjY2VzcywgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgPyBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICA6IFwiXHUzMEE4XHUzMEU5XHUzMEZDXHUzMDRDXHU3NjdBXHU3NTFGXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXCIsXG4gICAgICAgIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW10sXG4gICk7XG5cbiAgLy8gXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXG4gIGNvbnN0IGxvZ2luID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKFxuICAgICAgZW1haWw6IHN0cmluZyxcbiAgICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiA9PiB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmaXJlYmFzZUxvZ2luKGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHJlc3VsdC5zdWNjZXNzLCBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICA/IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgIDogXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIixcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXSxcbiAgKTtcblxuICAvLyBcdTMwRURcdTMwQjBcdTMwQTJcdTMwQTZcdTMwQzhcbiAgY29uc3QgbG9nb3V0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGZpcmViYXNlTG9nb3V0KCk7XG4gICAgc2V0VXNlcihudWxsKTtcbiAgICBzZXRGaXJlYmFzZVVzZXIobnVsbCk7XG4gIH0sIFtdKTtcblxuICAvLyBcdTc4QkFcdThBOERcdTMwRTFcdTMwRkNcdTMwRUJcdTUxOERcdTkwMDFcdTRGRTFcbiAgY29uc3QgcmVzZW5kVmVyaWZpY2F0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiBhd2FpdCByZXNlbmRWZXJpZmljYXRpb25FbWFpbCgpO1xuICB9LCBbXSk7XG5cbiAgLy8gXHUzMEUxXHUzMEZDXHUzMEVCXHU4QThEXHU4QTNDXHU2RTA4XHUzMDdGXHUzMDRCXHUzMDY5XHUzMDQ2XHUzMDRCXHUzMDY3XHU4QThEXHU4QTNDXHU3MkI2XHU2MTRCXHUzMDkyXHU1MjI0XHU1QjlBXG4gIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IHVzZXIgIT09IG51bGwgJiYgdXNlci5lbWFpbFZlcmlmaWVkO1xuXG4gIGNvbnN0IHZhbHVlOiBBdXRoQ29udGV4dFR5cGUgPSB7XG4gICAgdXNlcixcbiAgICBmaXJlYmFzZVVzZXIsXG4gICAgaXNMb2FkaW5nLFxuICAgIGlzQXV0aGVudGljYXRlZCxcbiAgICBzaWdudXAsXG4gICAgbG9naW4sXG4gICAgbG9nb3V0LFxuICAgIHJlc2VuZFZlcmlmaWNhdGlvbixcbiAgfTtcblxuICByZXR1cm4gPEF1dGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+e2NoaWxkcmVufTwvQXV0aENvbnRleHQuUHJvdmlkZXI+O1xufVxuXG4vLyB1c2VBdXRoIFx1MzBENVx1MzBDM1x1MzBBRlxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF1dGgoKTogQXV0aENvbnRleHRUeXBlIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1c2VBdXRoIG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gQXV0aFByb3ZpZGVyXCIpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyByZWdpc3RlclZlcnNpb24gfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IG5hbWUsIHZlcnNpb24gfSBmcm9tICcuLi9wYWNrYWdlLmpzb24nO1xuXG5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgJ2FwcCcpO1xuZXhwb3J0ICogZnJvbSAnQGZpcmViYXNlL2FwcCc7XG4iLCAiaW1wb3J0IHsgZ2V0QXBwcywgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcbmltcG9ydCB7XG4gIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCxcbiAgZ2V0QXV0aCxcbiAgb25BdXRoU3RhdGVDaGFuZ2VkLFxuICBzZW5kRW1haWxWZXJpZmljYXRpb24sXG4gIHNlbmRQYXNzd29yZFJlc2V0RW1haWwsXG4gIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkLFxuICBzaWduT3V0LFxuICB0eXBlIFVzZXIsXG59IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XG5pbXBvcnQgeyBmaXJlYmFzZUNvbmZpZyB9IGZyb20gXCIuL2NvbmZpZy50c1wiO1xuXG4vLyBGaXJlYmFzZSBcdTMwQTJcdTMwRDdcdTMwRUFcdTMwNkVcdTUyMURcdTY3MUZcdTUzMTZcdUZGMDhcdTkxQ0RcdTg5MDdcdTUyMURcdTY3MUZcdTUzMTZcdTMwOTJcdTk2MzJcdTMwNTBcdUZGMDlcbmNvbnN0IGFwcCA9IGdldEFwcHMoKS5sZW5ndGggPT09IDBcbiAgPyBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKVxuICA6IGdldEFwcHMoKVswXTtcbmNvbnN0IGF1dGggPSBnZXRBdXRoKGFwcCk7XG5cbmV4cG9ydCB7IGF1dGggfTtcblxuLy8gXHUzMEI1XHUzMEE0XHUzMEYzXHUzMEEyXHUzMEMzXHUzMEQ3XHVGRjA4XHU2NUIwXHU4OThGXHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXHU0RjVDXHU2MjEwICsgXHU3OEJBXHU4QThEXHUzMEUxXHUzMEZDXHUzMEVCXHU5MDAxXHU0RkUxXHVGRjA5XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmlyZWJhc2VTaWdudXAoXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG4pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyB1c2VyPzogVXNlciB9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoXG4gICAgICBhdXRoLFxuICAgICAgZW1haWwsXG4gICAgICBwYXNzd29yZCxcbiAgICApO1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyQ3JlZGVudGlhbC51c2VyO1xuXG4gICAgLy8gXHU3OEJBXHU4QThEXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU5MDAxXHU0RkUxXG4gICAgYXdhaXQgc2VuZEVtYWlsVmVyaWZpY2F0aW9uKHVzZXIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiBcIlx1NzhCQVx1OEE4RFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA5Mlx1OTAwMVx1NEZFMVx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1Rlx1MzAwMlx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA5Mlx1NzhCQVx1OEE4RFx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFx1MzAwMlwiLFxuICAgICAgdXNlcixcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgIGNvbnN0IGZpcmViYXNlRXJyb3IgPSBlcnJvciBhcyB7IGNvZGU/OiBzdHJpbmc7IG1lc3NhZ2U/OiBzdHJpbmcgfTtcbiAgICBsZXQgbWVzc2FnZSA9IFwiXHUzMEE4XHUzMEU5XHUzMEZDXHUzMDRDXHU3NjdBXHU3NTFGXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXCI7XG5cbiAgICBzd2l0Y2ggKGZpcmViYXNlRXJyb3IuY29kZSkge1xuICAgICAgY2FzZSBcImF1dGgvZW1haWwtYWxyZWFkeS1pbi11c2VcIjpcbiAgICAgICAgbWVzc2FnZSA9IFwiXHUzMDUzXHUzMDZFXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XHUzMDZGXHU2NUUyXHUzMDZCXHU0RjdGXHU3NTI4XHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDdFXHUzMDU5XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImF1dGgvaW52YWxpZC1lbWFpbFwiOlxuICAgICAgICBtZXNzYWdlID0gXCJcdTcxMjFcdTUyQjlcdTMwNkFcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcdTMwNjdcdTMwNTlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYXV0aC93ZWFrLXBhc3N3b3JkXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzA2RjZcdTY1ODdcdTVCNTdcdTRFRTVcdTRFMEFcdTMwNkJcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBtZXNzYWdlID0gZmlyZWJhc2VFcnJvci5tZXNzYWdlIHx8IFwiXHUzMEE4XHUzMEU5XHUzMEZDXHUzMDRDXHU3NjdBXHU3NTFGXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2UgfTtcbiAgfVxufVxuXG4vLyBcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaXJlYmFzZUxvZ2luKFxuICBlbWFpbDogc3RyaW5nLFxuICBwYXNzd29yZDogc3RyaW5nLFxuKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZzsgdXNlcj86IFVzZXIgfT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoXG4gICAgICBhdXRoLFxuICAgICAgZW1haWwsXG4gICAgICBwYXNzd29yZCxcbiAgICApO1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyQ3JlZGVudGlhbC51c2VyO1xuXG4gICAgLy8gXHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXHU2MEM1XHU1ODMxXHUzMDkyXHUzMEVBXHUzMEVEXHUzMEZDXHUzMEM5XHUzMDU3XHUzMDY2XHU2NzAwXHU2NUIwXHUzMDZFIGVtYWlsVmVyaWZpZWQgXHUzMDkyXHU1M0Q2XHU1Rjk3XG4gICAgYXdhaXQgdXNlci5yZWxvYWQoKTtcblxuICAgIGlmICghdXNlci5lbWFpbFZlcmlmaWVkKSB7XG4gICAgICAvLyBcdTY3MkFcdTc4QkFcdThBOERcdTMwNkVcdTU4MzRcdTU0MDhcdTMwNkZcdTMwQjVcdTMwQTRcdTMwRjNcdTMwQTJcdTMwQTZcdTMwQzhcbiAgICAgIGF3YWl0IHNpZ25PdXQoYXV0aCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICBcIlx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVx1MzA0Q1x1NzhCQVx1OEE4RFx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA3RVx1MzA1Qlx1MzA5M1x1MzAwMlx1NzhCQVx1OEE4RFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA5Mlx1NzhCQVx1OEE4RFx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFx1MzAwMlwiLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IFwiXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXCIsXG4gICAgICB1c2VyLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgY29uc3QgZmlyZWJhc2VFcnJvciA9IGVycm9yIGFzIHsgY29kZT86IHN0cmluZzsgbWVzc2FnZT86IHN0cmluZyB9O1xuICAgIGxldCBtZXNzYWdlID0gXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIjtcblxuICAgIHN3aXRjaCAoZmlyZWJhc2VFcnJvci5jb2RlKSB7XG4gICAgICBjYXNlIFwiYXV0aC91c2VyLW5vdC1mb3VuZFwiOlxuICAgICAgICBtZXNzYWdlID0gXCJcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTMwNENcdTg5OEJcdTMwNjRcdTMwNEJcdTMwOEFcdTMwN0VcdTMwNUJcdTMwOTNcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYXV0aC93cm9uZy1wYXNzd29yZFwiOlxuICAgICAgICBtZXNzYWdlID0gXCJcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwNENcdTk1OTNcdTkwNTVcdTMwNjNcdTMwNjZcdTMwNDRcdTMwN0VcdTMwNTlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYXV0aC9pbnZhbGlkLWNyZWRlbnRpYWxcIjpcbiAgICAgICAgbWVzc2FnZSA9IFwiXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XHUzMDdFXHUzMDVGXHUzMDZGXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMDRDXHU5NTkzXHU5MDU1XHUzMDYzXHUzMDY2XHUzMDQ0XHUzMDdFXHUzMDU5XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImF1dGgvaW52YWxpZC1lbWFpbFwiOlxuICAgICAgICBtZXNzYWdlID0gXCJcdTcxMjFcdTUyQjlcdTMwNkFcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcdTMwNjdcdTMwNTlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYXV0aC91c2VyLWRpc2FibGVkXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1MzA1M1x1MzA2RVx1MzBBMlx1MzBBQlx1MzBBNlx1MzBGM1x1MzBDOFx1MzA2Rlx1NzEyMVx1NTJCOVx1NTMxNlx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA3RVx1MzA1OVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL3Rvby1tYW55LXJlcXVlc3RzXCI6XG4gICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgIFwiXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXHU4QTY2XHU4ODRDXHU1NkRFXHU2NTcwXHUzMDRDXHU1OTFBXHUzMDU5XHUzMDRFXHUzMDdFXHUzMDU5XHUzMDAyXHUzMDU3XHUzMDcwXHUzMDg5XHUzMDRGXHU1Rjg1XHUzMDYzXHUzMDY2XHUzMDRCXHUzMDg5XHU1MThEXHU4QTY2XHU4ODRDXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVua25vd24gZXJyb3IgY29kZTpcIiwgZmlyZWJhc2VFcnJvci5jb2RlKTtcbiAgICAgICAgbWVzc2FnZSA9IGZpcmViYXNlRXJyb3IubWVzc2FnZSB8fCBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiO1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlIH07XG4gIH1cbn1cblxuLy8gXHUzMEVEXHUzMEIwXHUzMEEyXHUzMEE2XHUzMEM4XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmlyZWJhc2VMb2dvdXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IHNpZ25PdXQoYXV0aCk7XG59XG5cbi8vIFx1OEE4RFx1OEEzQ1x1NzJCNlx1NjE0Qlx1MzA2RVx1NzZFM1x1ODk5NlxuZXhwb3J0IGZ1bmN0aW9uIG9uQXV0aENoYW5nZShcbiAgY2FsbGJhY2s6ICh1c2VyOiBVc2VyIHwgbnVsbCkgPT4gdm9pZCxcbik6ICgpID0+IHZvaWQge1xuICByZXR1cm4gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGNhbGxiYWNrKTtcbn1cblxuLy8gXHU3OEJBXHU4QThEXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDZFXHU1MThEXHU5MDAxXHU0RkUxXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzZW5kVmVyaWZpY2F0aW9uRW1haWwoKTogUHJvbWlzZTxcbiAgeyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmcgfVxuPiB7XG4gIGNvbnN0IHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogXCJcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwNTdcdTMwNjZcdTMwNDRcdTMwN0VcdTMwNUJcdTMwOTNcIiB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBzZW5kRW1haWxWZXJpZmljYXRpb24odXNlcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJcdTc4QkFcdThBOERcdTMwRTFcdTMwRkNcdTMwRUJcdTMwOTJcdTUxOERcdTkwMDFcdTRGRTFcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIiB9O1xuICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgIGNvbnN0IGZpcmViYXNlRXJyb3IgPSBlcnJvciBhcyB7IG1lc3NhZ2U/OiBzdHJpbmcgfTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBmaXJlYmFzZUVycm9yLm1lc3NhZ2UgfHwgXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIixcbiAgICB9O1xuICB9XG59XG5cbi8vIFx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzBFQVx1MzBCQlx1MzBDM1x1MzBDOFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA2RVx1OTAwMVx1NEZFMVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRQYXNzd29yZFJlc2V0KFxuICBlbWFpbDogc3RyaW5nLFxuKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChhdXRoLCBlbWFpbCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOlxuICAgICAgICBcIlx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzBFQVx1MzBCQlx1MzBDM1x1MzBDOFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA5Mlx1OTAwMVx1NEZFMVx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1Rlx1MzAwMlx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA5Mlx1NzhCQVx1OEE4RFx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFx1MzAwMlwiLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgY29uc3QgZmlyZWJhc2VFcnJvciA9IGVycm9yIGFzIHsgY29kZT86IHN0cmluZzsgbWVzc2FnZT86IHN0cmluZyB9O1xuICAgIGxldCBtZXNzYWdlID0gXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIjtcblxuICAgIHN3aXRjaCAoZmlyZWJhc2VFcnJvci5jb2RlKSB7XG4gICAgICBjYXNlIFwiYXV0aC91c2VyLW5vdC1mb3VuZFwiOlxuICAgICAgICBtZXNzYWdlID0gXCJcdTMwNTNcdTMwNkVcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcdTMwNkZcdTc2N0JcdTkzMzJcdTMwNTVcdTMwOENcdTMwNjZcdTMwNDRcdTMwN0VcdTMwNUJcdTMwOTNcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYXV0aC9pbnZhbGlkLWVtYWlsXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1NzEyMVx1NTJCOVx1MzA2QVx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVx1MzA2N1x1MzA1OVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG1lc3NhZ2UgPSBmaXJlYmFzZUVycm9yLm1lc3NhZ2UgfHwgXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIjtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZSB9O1xuICB9XG59XG4iLCAiLy8gRmlyZWJhc2UgY29uZmlndXJhdGlvblxuLy8gXHU3NEIwXHU1ODgzXHU1OTA5XHU2NTcwXHUzMDRCXHUzMDg5XHU4QTJEXHU1QjlBXHUzMDkyXHU4QUFEXHUzMDdGXHU4RkJDXHUzMDdGXHVGRjA4XHUzMEQzXHUzMEVCXHUzMEM5XHU2NjQyXHUzMDZCXHU1N0NCXHUzMDgxXHU4RkJDXHUzMDdFXHUzMDhDXHUzMDhCXHVGRjA5XG5cbi8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG5kZWNsYXJlIGNvbnN0IHByb2Nlc3M6IGFueTtcblxuZXhwb3J0IGNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xuICBhcGlLZXk6IHByb2Nlc3MuZW52LkZJUkVCQVNFX0FQSV9LRVksXG4gIGF1dGhEb21haW46IHByb2Nlc3MuZW52LkZJUkVCQVNFX0FVVEhfRE9NQUlOLFxuICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQsXG4gIHN0b3JhZ2VCdWNrZXQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX1NUT1JBR0VfQlVDS0VULFxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCxcbiAgYXBwSWQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX0FQUF9JRCxcbiAgbWVhc3VyZW1lbnRJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfTUVBU1VSRU1FTlRfSUQsXG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBCdXR0b24oXG4gIHsgY2hpbGRyZW4sIGNsYXNzTmFtZSwgdHlwZSA9IFwiYnV0dG9uXCIsIGRpc2FibGVkID0gZmFsc2UsIG9uQ2xpY2sgfToge1xuICAgIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICAgIGNsYXNzTmFtZT86IHN0cmluZztcbiAgICB0eXBlPzogXCJidXR0b25cIiB8IFwic3VibWl0XCIgfCBcInJlc2V0XCI7XG4gICAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAgIG9uQ2xpY2s/OiAoKSA9PiB2b2lkO1xuICB9LFxuKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgdHlwZT17dHlwZX1cbiAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICBjbGFzc05hbWU9e2BweC02IHB5LTMgYmctZ3JheS02MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHJvdW5kZWQtbWQgaG92ZXI6YmctZ3JheS03MDAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiBncm91cCBhY3RpdmU6c2NhbGUtOTUgdHJhbnNmb3JtICR7Y2xhc3NOYW1lfWB9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMFwiPntjaGlsZHJlbn08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLXdoaXRlIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTIwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0yMDBcIj5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGludGVyZmFjZSBTdHlsZWRJbnB1dFByb3BzXG4gIGV4dGVuZHMgT21pdDxSZWFjdC5JbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+LCBcInR5cGVcIj4ge1xuICBsYWJlbD86IHN0cmluZztcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIHR5cGU6IFwiZW1haWxcIiB8IFwicGFzc3dvcmRcIiB8IFwidGV4dFwiO1xufVxuXG4vLyBcdTMwQjdcdTMwRjNcdTMwRDdcdTMwRUJcdTMwNkFTVkdcdTMwQTJcdTMwQTRcdTMwQjNcdTMwRjNcbmNvbnN0IE1haWxJY29uID0gKCkgPT4gKFxuICA8c3ZnXG4gICAgY2xhc3NOYW1lPVwidy01IGgtNVwiXG4gICAgZmlsbD1cIm5vbmVcIlxuICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gID5cbiAgICA8cGF0aFxuICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICBkPVwiTTMgOGw3Ljg5IDUuMjZhMiAyIDAgMDAyLjIyIDBMMjEgOE01IDE5aDE0YTIgMiAwIDAwMi0yVjdhMiAyIDAgMDAtMi0ySDVhMiAyIDAgMDAtMiAydjEwYTIgMiAwIDAwMiAyelwiXG4gICAgLz5cbiAgPC9zdmc+XG4pO1xuXG5jb25zdCBMb2NrSWNvbiA9ICgpID0+IChcbiAgPHN2Z1xuICAgIGNsYXNzTmFtZT1cInctNSBoLTVcIlxuICAgIGZpbGw9XCJub25lXCJcbiAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICA+XG4gICAgPHBhdGhcbiAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgZD1cIk0xMiAxNXYybS02IDRoMTJhMiAyIDAgMDAyLTJ2LTZhMiAyIDAgMDAtMi0ySDZhMiAyIDAgMDAtMiAydjZhMiAyIDAgMDAyIDJ6bTEwLTEwVjdhNCA0IDAgMDAtOCAwdjRoOHpcIlxuICAgIC8+XG4gIDwvc3ZnPlxuKTtcblxuY29uc3QgRXllSWNvbiA9ICgpID0+IChcbiAgPHN2Z1xuICAgIGNsYXNzTmFtZT1cInctNSBoLTVcIlxuICAgIGZpbGw9XCJub25lXCJcbiAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICA+XG4gICAgPHBhdGhcbiAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgZD1cIk0xNSAxMmEzIDMgMCAxMS02IDAgMyAzIDAgMDE2IDB6XCJcbiAgICAvPlxuICAgIDxwYXRoXG4gICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICBzdHJva2VXaWR0aD17Mn1cbiAgICAgIGQ9XCJNMi40NTggMTJDMy43MzIgNy45NDMgNy41MjMgNSAxMiA1YzQuNDc4IDAgOC4yNjggMi45NDMgOS41NDIgNy0xLjI3NCA0LjA1Ny01LjA2NCA3LTkuNTQyIDctNC40NzcgMC04LjI2OC0yLjk0My05LjU0Mi03elwiXG4gICAgLz5cbiAgPC9zdmc+XG4pO1xuXG5jb25zdCBFeWVPZmZJY29uID0gKCkgPT4gKFxuICA8c3ZnXG4gICAgY2xhc3NOYW1lPVwidy01IGgtNVwiXG4gICAgZmlsbD1cIm5vbmVcIlxuICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gID5cbiAgICA8cGF0aFxuICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICBkPVwiTTEzLjg3NSAxOC44MjVBMTAuMDUgMTAuMDUgMCAwMTEyIDE5Yy00LjQ3OCAwLTguMjY4LTIuOTQzLTkuNTQzLTdhOS45NyA5Ljk3IDAgMDExLjU2My0zLjAyOW01Ljg1OC45MDhhMyAzIDAgMTE0LjI0MyA0LjI0M005Ljg3OCA5Ljg3OGw0LjI0MiA0LjI0Mk05Ljg4IDkuODhsLTMuMjktMy4yOW03LjUzMiA3LjUzMmwzLjI5IDMuMjlNMyAzbDMuNTkgMy41OW0wIDBBOS45NTMgOS45NTMgMCAwMTEyIDVjNC40NzggMCA4LjI2OCAyLjk0MyA5LjU0MyA3YTEwLjAyNSAxMC4wMjUgMCAwMS00LjEzMiA1LjQxMW0wIDBMMjEgMjFcIlxuICAgIC8+XG4gIDwvc3ZnPlxuKTtcblxuY29uc3QgU3R5bGVkSW5wdXQgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxJbnB1dEVsZW1lbnQsIFN0eWxlZElucHV0UHJvcHM+KFxuICAoeyBjbGFzc05hbWUsIGxhYmVsLCBlcnJvciwgdHlwZSwgaWQsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IGdlbmVyYXRlZElkID0gUmVhY3QudXNlSWQoKTtcbiAgICBjb25zdCBpbnB1dElkID0gaWQgfHwgZ2VuZXJhdGVkSWQ7XG4gICAgY29uc3QgW3Nob3dQYXNzd29yZCwgc2V0U2hvd1Bhc3N3b3JkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaXNGb2N1c2VkLCBzZXRJc0ZvY3VzZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuXG4gICAgY29uc3QgaW5wdXRUeXBlID0gdHlwZSA9PT0gXCJwYXNzd29yZFwiICYmIHNob3dQYXNzd29yZCA/IFwidGV4dFwiIDogdHlwZTtcblxuICAgIGNvbnN0IGdldEljb24gPSAoKSA9PiB7XG4gICAgICBpZiAodHlwZSA9PT0gXCJlbWFpbFwiKSByZXR1cm4gPE1haWxJY29uIC8+O1xuICAgICAgaWYgKHR5cGUgPT09IFwicGFzc3dvcmRcIikgcmV0dXJuIDxMb2NrSWNvbiAvPjtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICBjb25zdCBpY29uQ29sb3JDbGFzcyA9IGlzRm9jdXNlZCA/IFwidGV4dC1ibHVlLTYwMFwiIDogXCJ0ZXh0LWdyYXktNDAwXCI7XG5cbiAgICBjb25zdCBpbnB1dENsYXNzZXMgPSBbXG4gICAgICBcImZsZXggaC0xMiB3LWZ1bGwgcm91bmRlZC1sZyBib3JkZXIgYmctZ3JheS01MCBweC0xMiBweS0zIHRleHQtYmFzZSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCIsXG4gICAgICBcInRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBlYXNlLW91dFwiLFxuICAgICAgXCJwbGFjZWhvbGRlcjp0ZXh0LWdyYXktNDAwIHBsYWNlaG9sZGVyOmZvbnQtbm9ybWFsXCIsXG4gICAgICBcImZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnRcIixcbiAgICAgIFwiZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTBcIixcbiAgICAgIGVycm9yXG4gICAgICAgID8gXCJib3JkZXItcmVkLTUwMCBmb2N1czpyaW5nLXJlZC01MDBcIlxuICAgICAgICA6IFwiYm9yZGVyLWdyYXktMzAwIGhvdmVyOmJvcmRlci1ncmF5LTQwMFwiLFxuICAgICAgY2xhc3NOYW1lLFxuICAgIF1cbiAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgIC5qb2luKFwiIFwiKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBzcGFjZS15LTJcIj5cbiAgICAgICAge2xhYmVsICYmIChcbiAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgIGh0bWxGb3I9e2lucHV0SWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICApfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgey8qIEljb24gKi99XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgYWJzb2x1dGUgbGVmdC00IHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0cmFuc2l0aW9uLWNvbG9ycyAke2ljb25Db2xvckNsYXNzfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldEljb24oKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBJbnB1dCAqL31cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9e2lucHV0VHlwZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17aW5wdXRDbGFzc2VzfVxuICAgICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgICBpZD17aW5wdXRJZH1cbiAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IHNldElzRm9jdXNlZCh0cnVlKX1cbiAgICAgICAgICAgIG9uQmx1cj17KCkgPT4gc2V0SXNGb2N1c2VkKGZhbHNlKX1cbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgey8qIFBhc3N3b3JkIFRvZ2dsZSAqL31cbiAgICAgICAgICB7dHlwZSA9PT0gXCJwYXNzd29yZFwiICYmIChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQYXNzd29yZCghc2hvd1Bhc3N3b3JkKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYWJzb2x1dGUgcmlnaHQtNCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgdHJhbnNpdGlvbi1jb2xvcnMgaG92ZXI6dGV4dC1ncmF5LTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6dGV4dC1ncmF5LTcwMCAke2ljb25Db2xvckNsYXNzfWB9XG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3Nob3dQYXNzd29yZFxuICAgICAgICAgICAgICAgID8gXCJcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwOTJcdTk2QTBcdTMwNTlcIlxuICAgICAgICAgICAgICAgIDogXCJcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwOTJcdTg4NjhcdTc5M0FcIn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3Nob3dQYXNzd29yZCA/IDxFeWVPZmZJY29uIC8+IDogPEV5ZUljb24gLz59XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRXJyb3IgTWVzc2FnZSAqL31cbiAgICAgICAge2Vycm9yICYmIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNTAwIGZvbnQtbWVkaXVtXCI+e2Vycm9yfTwvcD59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9LFxuKTtcblxuU3R5bGVkSW5wdXQuZGlzcGxheU5hbWUgPSBcIlN0eWxlZElucHV0XCI7XG5cbmV4cG9ydCB7IFN0eWxlZElucHV0IH07XG4iLCAiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTGluaywgdXNlTmF2aWdhdGUgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgU2lnbnVwRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NpZ251cEZvcm0udHN4XCI7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSBcIi4uL2NvbnRleHQvQXV0aENvbnRleHQudHN4XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTaWdudXBQYWdlKCkge1xuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGNvbnN0IFtzaWdudXBDb21wbGV0ZSwgc2V0U2lnbnVwQ29tcGxldGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFx1OEE4RFx1OEEzQ1x1NkUwOFx1MzA3Rlx1MzA2QVx1MzA4OVx1MzBDMFx1MzBDM1x1MzBCN1x1MzBFNVx1MzBEQ1x1MzBGQ1x1MzBDOVx1MzA3OFx1MzBFQVx1MzBDMFx1MzBBNFx1MzBFQ1x1MzBBRlx1MzBDOFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIG5hdmlnYXRlKFwiL1wiLCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgfVxuICB9LCBbaXNBdXRoZW50aWNhdGVkLCBuYXZpZ2F0ZV0pO1xuXG4gIC8vIFx1MzBCNVx1MzBBNFx1MzBGM1x1MzBBMlx1MzBDM1x1MzBEN1x1NUI4Q1x1NEU4Nlx1NUY4Q1x1MzA2RVx1MzBFMVx1MzBGQ1x1MzBFQlx1NzhCQVx1OEE4RFx1Njg0OFx1NTE4NVx1NzUzQlx1OTc2MlxuICBpZiAoc2lnbnVwQ29tcGxldGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBweS0xMiBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LW1kIG14LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1tZCByb3VuZGVkLWxnIHAtOCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTV4bCBtYi00XCI+XHVEODNEXHVEQ0U3PC9kaXY+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNFwiPlxuICAgICAgICAgICAgICBcdTMwRTFcdTMwRkNcdTMwRUJcdTMwOTJcdTkwMDFcdTRGRTFcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcbiAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTZcIj5cbiAgICAgICAgICAgICAgXHUzMDU0XHU3NjdCXHU5MzMyXHUzMDQ0XHUzMDVGXHUzMDYwXHUzMDQ0XHUzMDVGXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XHUzMDZCXHU3OEJBXHU4QThEXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU5MDAxXHU0RkUxXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXHUzMDAyXG4gICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICBcdTMwRTFcdTMwRkNcdTMwRUJcdTUxODVcdTMwNkVcdTMwRUFcdTMwRjNcdTMwQUZcdTMwOTJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNjZcdTMwMDFcdTc2N0JcdTkzMzJcdTMwOTJcdTVCOENcdTRFODZcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDJcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgdG89XCIvbG9naW5cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHctZnVsbCBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTIgcHgtNCByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtY2VudGVyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1MzBEQVx1MzBGQ1x1MzBCOFx1MzA3OFxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaWdudXBDb21wbGV0ZShmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHRleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTgwMCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFx1NTIyNVx1MzA2RVx1MzBBMlx1MzBBQlx1MzBBNlx1MzBGM1x1MzBDOFx1MzA2N1x1NzY3Qlx1OTMzMlx1MzA1OVx1MzA4QlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgcHktMTIgcHgtNCBzbTpweC02IGxnOnB4LThcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgbXgtYXV0b1wiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtY2VudGVyIHRleHQtZ3JheS05MDAgbWItOFwiPlxuICAgICAgICAgIFJlYWN0IEF1dGggRGVtb1xuICAgICAgICA8L2gxPlxuICAgICAgICA8U2lnbnVwRm9ybVxuICAgICAgICAgIG9uU3VjY2Vzcz17KCkgPT4gc2V0U2lnbnVwQ29tcGxldGUodHJ1ZSl9XG4gICAgICAgICAgb25Td2l0Y2hUb0xvZ2luPXsoKSA9PiBuYXZpZ2F0ZShcIi9sb2dpblwiKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwgIi8vIFx1MzBCNVx1MzBBNFx1MzBGM1x1MzBBMlx1MzBDM1x1MzBEN1x1MzBENVx1MzBBOVx1MzBGQ1x1MzBFMFxuXG5pbXBvcnQgeyB0eXBlIEZvcm1FdmVudCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcblxudHlwZSBTaWdudXBGb3JtUHJvcHMgPSB7XG4gIG9uU3VjY2Vzcz86ICgpID0+IHZvaWQ7XG4gIG9uU3dpdGNoVG9Mb2dpbj86ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gU2lnbnVwRm9ybSh7IG9uU3VjY2Vzcywgb25Td2l0Y2hUb0xvZ2luIH06IFNpZ251cEZvcm1Qcm9wcykge1xuICBjb25zdCB7IHNpZ251cCwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFtuYW1lLCBzZXROYW1lXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcGFzc3dvcmQsIHNldFBhc3N3b3JkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBGb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2V0RXJyb3IoXCJcIik7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWdudXAobmFtZSwgZW1haWwsIHBhc3N3b3JkKTtcblxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgc2V0TmFtZShcIlwiKTtcbiAgICAgIHNldEVtYWlsKFwiXCIpO1xuICAgICAgc2V0UGFzc3dvcmQoXCJcIik7XG4gICAgICBvblN1Y2Nlc3M/LigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRFcnJvcihyZXN1bHQubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBzaGFkb3ctbWQgcm91bmRlZC1sZyBwLTZcIj5cbiAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMCBtYi00XCI+XHU2NUIwXHU4OThGXHU3NjdCXHU5MzMyPC9oMj5cblxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1yZWQtMTAwIHRleHQtcmVkLTcwMCByb3VuZGVkLW1kIHRleHQtc21cIj5cbiAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBodG1sRm9yPVwic2lnbnVwLW5hbWVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFx1NTQwRFx1NTI0RFxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBpZD1cInNpZ251cC1uYW1lXCJcbiAgICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcdTVDNzFcdTc1MzAgXHU1OTJBXHU5MENFXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgaHRtbEZvcj1cInNpZ251cC1lbWFpbFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICBpZD1cInNpZ251cC1lbWFpbFwiXG4gICAgICAgICAgICB2YWx1ZT17ZW1haWx9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJleGFtcGxlQGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgaHRtbEZvcj1cInNpZ251cC1wYXNzd29yZFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICBpZD1cInNpZ251cC1wYXNzd29yZFwiXG4gICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBtaW5MZW5ndGg9ezZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCI2XHU2NTg3XHU1QjU3XHU0RUU1XHU0RTBBXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQtbWQgaG92ZXI6YmctZ3JlZW4tNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ncmVlbi01MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICA+XG4gICAgICAgICAge2lzTG9hZGluZyA/IFwiXHU3NjdCXHU5MzMyXHU0RTJELi4uXCIgOiBcIlx1NzY3Qlx1OTMzMlx1MzA1OVx1MzA4QlwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cblxuICAgICAge29uU3dpdGNoVG9Mb2dpbiAmJiAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgXHUzMDU5XHUzMDY3XHUzMDZCXHUzMEEyXHUzMEFCXHUzMEE2XHUzMEYzXHUzMEM4XHUzMDkyXHUzMDRBXHU2MzAxXHUzMDYxXHUzMDZFXHU2NUI5XHUzMDZGe1wiIFwifVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17b25Td2l0Y2hUb0xvZ2lufVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIiwgImltcG9ydCB0eXBlIHsgTGlua2VkRmllbGQsIExpbmtlZFR5cGUgfSBmcm9tICcuL3R5cGVzLnRzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEFyZ3Mge1xuICAgIFthcmc6IHN0cmluZ106IGFueSB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpZWxkcyB7XG4gICAgW2ZpZWxkOiBzdHJpbmddOiBSZXF1ZXN0XG59XG5cbmV4cG9ydCB0eXBlIFJlcXVlc3QgPSBib29sZWFuIHwgbnVtYmVyIHwgRmllbGRzXG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFyaWFibGVzIHtcbiAgICBbbmFtZTogc3RyaW5nXToge1xuICAgICAgICB2YWx1ZTogYW55XG4gICAgICAgIHR5cGluZzogW0xpbmtlZFR5cGUsIHN0cmluZ11cbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGV4dCB7XG4gICAgcm9vdDogTGlua2VkVHlwZVxuICAgIHZhckNvdW50ZXI6IG51bWJlclxuICAgIHZhcmlhYmxlczogVmFyaWFibGVzXG4gICAgZnJhZ21lbnRDb3VudGVyOiBudW1iZXJcbiAgICBmcmFnbWVudHM6IHN0cmluZ1tdXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JhcGhxbE9wZXJhdGlvbiB7XG4gICAgcXVlcnk6IHN0cmluZ1xuICAgIHZhcmlhYmxlcz86IHsgW25hbWU6IHN0cmluZ106IGFueSB9XG4gICAgb3BlcmF0aW9uTmFtZT86IHN0cmluZ1xufVxuXG5jb25zdCBwYXJzZVJlcXVlc3QgPSAoXG4gICAgcmVxdWVzdDogUmVxdWVzdCB8IHVuZGVmaW5lZCxcbiAgICBjdHg6IENvbnRleHQsXG4gICAgcGF0aDogc3RyaW5nW10sXG4pOiBzdHJpbmcgPT4ge1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdCA9PT0gJ29iamVjdCcgJiYgJ19fYXJncycgaW4gcmVxdWVzdCkge1xuICAgICAgICBjb25zdCBhcmdzOiBhbnkgPSByZXF1ZXN0Ll9fYXJnc1xuICAgICAgICBsZXQgZmllbGRzOiBSZXF1ZXN0IHwgdW5kZWZpbmVkID0geyAuLi5yZXF1ZXN0IH1cbiAgICAgICAgZGVsZXRlIGZpZWxkcy5fX2FyZ3NcbiAgICAgICAgY29uc3QgYXJnTmFtZXMgPSBPYmplY3Qua2V5cyhhcmdzKVxuXG4gICAgICAgIGlmIChhcmdOYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVJlcXVlc3QoZmllbGRzLCBjdHgsIHBhdGgpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWVsZCA9IGdldEZpZWxkRnJvbVBhdGgoY3R4LnJvb3QsIHBhdGgpXG5cbiAgICAgICAgY29uc3QgYXJnU3RyaW5ncyA9IGFyZ05hbWVzLm1hcCgoYXJnTmFtZSkgPT4ge1xuICAgICAgICAgICAgY3R4LnZhckNvdW50ZXIrK1xuICAgICAgICAgICAgY29uc3QgdmFyTmFtZSA9IGB2JHtjdHgudmFyQ291bnRlcn1gXG5cbiAgICAgICAgICAgIGNvbnN0IHR5cGluZyA9IGZpZWxkLmFyZ3MgJiYgZmllbGQuYXJnc1thcmdOYW1lXSAvLyB0eXBlTWFwIHVzZWQgaGVyZSwgLmFyZ3NcblxuICAgICAgICAgICAgaWYgKCF0eXBpbmcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBubyB0eXBpbmcgZGVmaW5lZCBmb3IgYXJndW1lbnQgXFxgJHthcmdOYW1lfVxcYCBpbiBwYXRoIFxcYCR7cGF0aC5qb2luKFxuICAgICAgICAgICAgICAgICAgICAgICAgJy4nLFxuICAgICAgICAgICAgICAgICAgICApfVxcYGAsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHgudmFyaWFibGVzW3Zhck5hbWVdID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBhcmdzW2FyZ05hbWVdLFxuICAgICAgICAgICAgICAgIHR5cGluZyxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGAke2FyZ05hbWV9OiQke3Zhck5hbWV9YFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gYCgke2FyZ1N0cmluZ3N9KSR7cGFyc2VSZXF1ZXN0KGZpZWxkcywgY3R4LCBwYXRoKX1gXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcmVxdWVzdCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMocmVxdWVzdCkubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBmaWVsZHMgPSByZXF1ZXN0XG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZXMgPSBPYmplY3Qua2V5cyhmaWVsZHMpLmZpbHRlcigoaykgPT4gQm9vbGVhbihmaWVsZHNba10pKVxuXG4gICAgICAgIGlmIChmaWVsZE5hbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBmaWVsZCBzZWxlY3Rpb24gc2hvdWxkIG5vdCBiZSBlbXB0eTogJHtwYXRoLmpvaW4oJy4nKX1gLFxuICAgICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHlwZSA9XG4gICAgICAgICAgICBwYXRoLmxlbmd0aCA+IDAgPyBnZXRGaWVsZEZyb21QYXRoKGN0eC5yb290LCBwYXRoKS50eXBlIDogY3R4LnJvb3RcbiAgICAgICAgY29uc3Qgc2NhbGFyRmllbGRzID0gdHlwZS5zY2FsYXJcblxuICAgICAgICBsZXQgc2NhbGFyRmllbGRzRnJhZ21lbnQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gICAgICAgIGlmIChmaWVsZE5hbWVzLmluY2x1ZGVzKCdfX3NjYWxhcicpKSB7XG4gICAgICAgICAgICBjb25zdCBmYWxzeUZpZWxkTmFtZXMgPSBuZXcgU2V0KFxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpZWxkcykuZmlsdGVyKChrKSA9PiAhQm9vbGVhbihmaWVsZHNba10pKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChzY2FsYXJGaWVsZHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGN0eC5mcmFnbWVudENvdW50ZXIrK1xuICAgICAgICAgICAgICAgIHNjYWxhckZpZWxkc0ZyYWdtZW50ID0gYGYke2N0eC5mcmFnbWVudENvdW50ZXJ9YFxuXG4gICAgICAgICAgICAgICAgY3R4LmZyYWdtZW50cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBgZnJhZ21lbnQgJHtzY2FsYXJGaWVsZHNGcmFnbWVudH0gb24gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUubmFtZVxuICAgICAgICAgICAgICAgICAgICB9eyR7c2NhbGFyRmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChmKSA9PiAhZmFsc3lGaWVsZE5hbWVzLmhhcyhmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcsJyl9fWAsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmllbGRzU2VsZWN0aW9uID0gZmllbGROYW1lc1xuICAgICAgICAgICAgLmZpbHRlcigoZikgPT4gIVsnX19zY2FsYXInLCAnX19uYW1lJ10uaW5jbHVkZXMoZikpXG4gICAgICAgICAgICAubWFwKChmKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VSZXF1ZXN0KGZpZWxkc1tmXSwgY3R4LCBbLi4ucGF0aCwgZl0pXG5cbiAgICAgICAgICAgICAgICBpZiAoZi5zdGFydHNXaXRoKCdvbl8nKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHguZnJhZ21lbnRDb3VudGVyKytcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1wbGVtZW50YXRpb25GcmFnbWVudCA9IGBmJHtjdHguZnJhZ21lbnRDb3VudGVyfWBcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlTWF0Y2ggPSBmLm1hdGNoKC9eb25fKC4rKS8pXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0eXBlTWF0Y2ggfHwgIXR5cGVNYXRjaFsxXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF0Y2ggZmFpbGVkJylcblxuICAgICAgICAgICAgICAgICAgICBjdHguZnJhZ21lbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICBgZnJhZ21lbnQgJHtpbXBsZW1lbnRhdGlvbkZyYWdtZW50fSBvbiAke3R5cGVNYXRjaFsxXX0ke3BhcnNlZH1gLFxuICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAuLi4ke2ltcGxlbWVudGF0aW9uRnJhZ21lbnR9YFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtmfSR7cGFyc2VkfWBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNvbmNhdChzY2FsYXJGaWVsZHNGcmFnbWVudCA/IFtgLi4uJHtzY2FsYXJGaWVsZHNGcmFnbWVudH1gXSA6IFtdKVxuICAgICAgICAgICAgLmpvaW4oJywnKVxuXG4gICAgICAgIHJldHVybiBgeyR7ZmllbGRzU2VsZWN0aW9ufX1gXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVHcmFwaHFsT3BlcmF0aW9uID0gKFxuICAgIG9wZXJhdGlvbjogJ3F1ZXJ5JyB8ICdtdXRhdGlvbicgfCAnc3Vic2NyaXB0aW9uJyxcbiAgICByb290OiBMaW5rZWRUeXBlLFxuICAgIGZpZWxkcz86IEZpZWxkcyxcbik6IEdyYXBocWxPcGVyYXRpb24gPT4ge1xuICAgIGNvbnN0IGN0eDogQ29udGV4dCA9IHtcbiAgICAgICAgcm9vdDogcm9vdCxcbiAgICAgICAgdmFyQ291bnRlcjogMCxcbiAgICAgICAgdmFyaWFibGVzOiB7fSxcbiAgICAgICAgZnJhZ21lbnRDb3VudGVyOiAwLFxuICAgICAgICBmcmFnbWVudHM6IFtdLFxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBwYXJzZVJlcXVlc3QoZmllbGRzLCBjdHgsIFtdKVxuXG4gICAgY29uc3QgdmFyTmFtZXMgPSBPYmplY3Qua2V5cyhjdHgudmFyaWFibGVzKVxuXG4gICAgY29uc3QgdmFyc1N0cmluZyA9XG4gICAgICAgIHZhck5hbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gYCgke3Zhck5hbWVzLm1hcCgodikgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGVUeXBlID0gY3R4LnZhcmlhYmxlc1t2XS50eXBpbmdbMV1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBgJCR7dn06JHt2YXJpYWJsZVR5cGV9YFxuICAgICAgICAgICAgICB9KX0pYFxuICAgICAgICAgICAgOiAnJ1xuXG4gICAgY29uc3Qgb3BlcmF0aW9uTmFtZSA9IGZpZWxkcz8uX19uYW1lIHx8ICcnXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeTogW1xuICAgICAgICAgICAgYCR7b3BlcmF0aW9ufSAke29wZXJhdGlvbk5hbWV9JHt2YXJzU3RyaW5nfSR7cmVzdWx0fWAsXG4gICAgICAgICAgICAuLi5jdHguZnJhZ21lbnRzLFxuICAgICAgICBdLmpvaW4oJywnKSxcbiAgICAgICAgdmFyaWFibGVzOiBPYmplY3Qua2V5cyhjdHgudmFyaWFibGVzKS5yZWR1Y2U8eyBbbmFtZTogc3RyaW5nXTogYW55IH0+KFxuICAgICAgICAgICAgKHIsIHYpID0+IHtcbiAgICAgICAgICAgICAgICByW3ZdID0gY3R4LnZhcmlhYmxlc1t2XS52YWx1ZVxuICAgICAgICAgICAgICAgIHJldHVybiByXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge30sXG4gICAgICAgICksXG4gICAgICAgIC4uLihvcGVyYXRpb25OYW1lID8geyBvcGVyYXRpb25OYW1lOiBvcGVyYXRpb25OYW1lLnRvU3RyaW5nKCkgfSA6IHt9KSxcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZEZyb21QYXRoID0gKFxuICAgIHJvb3Q6IExpbmtlZFR5cGUgfCB1bmRlZmluZWQsXG4gICAgcGF0aDogc3RyaW5nW10sXG4pID0+IHtcbiAgICBsZXQgY3VycmVudDogTGlua2VkRmllbGQgfCB1bmRlZmluZWRcblxuICAgIGlmICghcm9vdCkgdGhyb3cgbmV3IEVycm9yKCdyb290IHR5cGUgaXMgbm90IHByb3ZpZGVkJylcblxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKGBwYXRoIGlzIGVtcHR5YClcblxuICAgIHBhdGguZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICBjb25zdCB0eXBlID0gY3VycmVudCA/IGN1cnJlbnQudHlwZSA6IHJvb3RcblxuICAgICAgICBpZiAoIXR5cGUuZmllbGRzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0eXBlIFxcYCR7dHlwZS5uYW1lfVxcYCBkb2VzIG5vdCBoYXZlIGZpZWxkc2ApXG5cbiAgICAgICAgY29uc3QgcG9zc2libGVUeXBlcyA9IE9iamVjdC5rZXlzKHR5cGUuZmllbGRzKVxuICAgICAgICAgICAgLmZpbHRlcigoaSkgPT4gaS5zdGFydHNXaXRoKCdvbl8nKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgKHR5cGVzLCBmaWVsZE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSB0eXBlLmZpZWxkcyAmJiB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCkgdHlwZXMucHVzaChmaWVsZC50eXBlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFt0eXBlXSxcbiAgICAgICAgICAgIClcblxuICAgICAgICBsZXQgZmllbGQ6IExpbmtlZEZpZWxkIHwgbnVsbCA9IG51bGxcblxuICAgICAgICBwb3NzaWJsZVR5cGVzLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gdHlwZS5maWVsZHMgJiYgdHlwZS5maWVsZHNbZl1cbiAgICAgICAgICAgIGlmIChmb3VuZCkgZmllbGQgPSBmb3VuZFxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghZmllbGQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgYHR5cGUgXFxgJHt0eXBlLm5hbWV9XFxgIGRvZXMgbm90IGhhdmUgYSBmaWVsZCBcXGAke2Z9XFxgYCxcbiAgICAgICAgICAgIClcblxuICAgICAgICBjdXJyZW50ID0gZmllbGRcbiAgICB9KVxuXG4gICAgcmV0dXJuIGN1cnJlbnQgYXMgTGlua2VkRmllbGRcbn1cbiIsICJpbXBvcnQgdHlwZSB7XG4gICAgQ29tcHJlc3NlZFR5cGUsXG4gICAgQ29tcHJlc3NlZFR5cGVNYXAsXG4gICAgTGlua2VkQXJnTWFwLFxuICAgIExpbmtlZEZpZWxkLFxuICAgIExpbmtlZFR5cGUsXG4gICAgTGlua2VkVHlwZU1hcCxcbn0gZnJvbSAnLi90eXBlcy50cydcblxuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWFsTGlua2VkRmllbGRNYXAge1xuICAgIFtmaWVsZDogc3RyaW5nXToge1xuICAgICAgICB0eXBlOiBzdHJpbmdcbiAgICAgICAgYXJncz86IExpbmtlZEFyZ01hcFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGxpbmtUeXBlTWFwID0gKFxuICAgIHR5cGVNYXA6IENvbXByZXNzZWRUeXBlTWFwPG51bWJlcj4sXG4pOiBMaW5rZWRUeXBlTWFwID0+IHtcbiAgICBjb25zdCBpbmRleFRvTmFtZTogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICAuLi5PYmplY3Qua2V5cyh0eXBlTWFwLnR5cGVzKS5tYXAoKGssIGkpID0+ICh7IFtpXTogayB9KSksXG4gICAgKVxuXG4gICAgbGV0IGludGVybWVkaWFyeVR5cGVNYXAgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgLi4uT2JqZWN0LmtleXModHlwZU1hcC50eXBlcyB8fCB7fSkubWFwKFxuICAgICAgICAgICAgKGspOiBSZWNvcmQ8c3RyaW5nLCBMaW5rZWRUeXBlPiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZTogQ29tcHJlc3NlZFR5cGUgPSB0eXBlTWFwLnR5cGVzW2tdIVxuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IHR5cGUgfHwge31cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBba106IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGssXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0eXBlIHNjYWxhciBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsYXI6IE9iamVjdC5rZXlzKGZpZWxkcykuZmlsdGVyKChmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3R5cGVdID0gZmllbGRzW2ZdIHx8IFtdXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NjYWxhciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgJiYgdHlwZU1hcC5zY2FsYXJzLmluY2x1ZGVzKHR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1NjYWxhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IGZpZWxkc1tmXT8uWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJnVHlwZXMgPSBPYmplY3QudmFsdWVzKGFyZ3MgfHwge30pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHgpID0+IHg/LlsxXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzUmVxdWlyZWRBcmdzID0gYXJnVHlwZXMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cikgPT4gc3RyICYmIHN0ci5lbmRzV2l0aCgnIScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUmVxdWlyZWRBcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWVsZHMgd2l0aCBjb3JyZXNwb25kaW5nIGB0eXBlYCBhbmQgYGFyZ3NgXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXMoZmllbGRzKS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmKTogUGFydGlhbExpbmtlZEZpZWxkTWFwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFt0eXBlSW5kZXgsIGFyZ3NdID0gZmllbGRzW2ZdIHx8IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZUluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ZdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgaW5kZXggd2l0aCB0eXBlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogaW5kZXhUb05hbWVbdHlwZUluZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXMoYXJncyB8fCB7fSkubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGFyZ1R5cGVTdHJpbmcgPT0gYXJnVHlwZU5hbWUsIGFyZ1R5cGVTdHJpbmcgaXMgbWlzc2luZywgbmVlZCB0byByZWFkZCBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFyZ3MgfHwgIWFyZ3Nba10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1R5cGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnVHlwZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSA9IGFyZ3Nba10gYXMgYW55XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba106IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleFRvTmFtZVtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnVHlwZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1R5cGVTdHJpbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhUb05hbWVbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdUeXBlTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKSxcbiAgICApXG4gICAgY29uc3QgcmVzID0gcmVzb2x2ZUNvbmNyZXRlVHlwZXMoaW50ZXJtZWRpYXJ5VHlwZU1hcClcbiAgICByZXR1cm4gcmVzXG59XG5cbi8vIHJlcGxhY2UgdHlwZW5hbWUgd2l0aCBjb25jcmV0ZSB0eXBlXG5leHBvcnQgY29uc3QgcmVzb2x2ZUNvbmNyZXRlVHlwZXMgPSAobGlua2VkVHlwZU1hcDogTGlua2VkVHlwZU1hcCkgPT4ge1xuICAgIE9iamVjdC5rZXlzKGxpbmtlZFR5cGVNYXApLmZvckVhY2goKHR5cGVOYW1lRnJvbUtleSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlOiBMaW5rZWRUeXBlID0gbGlua2VkVHlwZU1hcFt0eXBlTmFtZUZyb21LZXldIVxuICAgICAgICAvLyB0eXBlLm5hbWUgPSB0eXBlTmFtZUZyb21LZXlcbiAgICAgICAgaWYgKCF0eXBlLmZpZWxkcykge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWVsZHMgPSB0eXBlLmZpZWxkc1xuXG4gICAgICAgIE9iamVjdC5rZXlzKGZpZWxkcykuZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmllbGQ6IExpbmtlZEZpZWxkID0gZmllbGRzW2ZdIVxuXG4gICAgICAgICAgICBpZiAoZmllbGQuYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBmaWVsZC5hcmdzXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYXJncykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZyA9IGFyZ3Nba2V5XVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFt0eXBlTmFtZV0gPSBhcmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmtlZFR5cGVNYXBbdHlwZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtlZFR5cGVNYXBbdHlwZU5hbWVdID0geyBuYW1lOiB0eXBlTmFtZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnWzBdID0gbGlua2VkVHlwZU1hcFt0eXBlTmFtZV0hXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGZpZWxkLnR5cGUgYXMgTGlua2VkVHlwZSB8IHN0cmluZ1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVOYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmICghbGlua2VkVHlwZU1hcFt0eXBlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua2VkVHlwZU1hcFt0eXBlTmFtZV0gPSB7IG5hbWU6IHR5cGVOYW1lIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmaWVsZC50eXBlID0gbGlua2VkVHlwZU1hcFt0eXBlTmFtZV0hXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIHJldHVybiBsaW5rZWRUeXBlTWFwXG59XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIFwic2NhbGFyc1wiOiBbXG4gICAgICAgIDEsXG4gICAgICAgIDIsXG4gICAgICAgIDUsXG4gICAgICAgIDhcbiAgICBdLFxuICAgIFwidHlwZXNcIjoge1xuICAgICAgICBcIk11dGF0aW9uXCI6IHtcbiAgICAgICAgICAgIFwiY3JlYXRlVXNlclwiOiBbXG4gICAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmchXCJcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcImRlbGV0ZVVzZXJcIjogW1xuICAgICAgICAgICAgICAgIDYsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIklEIVwiXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJfX3R5cGVuYW1lXCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwiU3RyaW5nXCI6IHt9LFxuICAgICAgICBcIklEXCI6IHt9LFxuICAgICAgICBcIlBvc3RcIjoge1xuICAgICAgICAgICAgXCJjb250ZW50XCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJpZFwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidGl0bGVcIjogW1xuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIl9fdHlwZW5hbWVcIjogW1xuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJRdWVyeVwiOiB7XG4gICAgICAgICAgICBcIm1lXCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwb3N0XCI6IFtcbiAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJRCFcIlxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicG9zdENvdW50XCI6IFtcbiAgICAgICAgICAgICAgICA1XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwb3N0c1wiOiBbXG4gICAgICAgICAgICAgICAgM1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidGVzdFwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidXNlclwiOiBbXG4gICAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSUQhXCJcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInVzZXJzXCI6IFtcbiAgICAgICAgICAgICAgICA2XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ3b3Jkc1wiOiBbXG4gICAgICAgICAgICAgICAgN1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiX190eXBlbmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcIkludFwiOiB7fSxcbiAgICAgICAgXCJVc2VyXCI6IHtcbiAgICAgICAgICAgIFwiaWRcIjogW1xuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogW1xuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIl9fdHlwZW5hbWVcIjogW1xuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJXb3JkXCI6IHtcbiAgICAgICAgICAgIFwiZGlmZmljdWx0eVwiOiBbXG4gICAgICAgICAgICAgICAgNVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiZW5nbGlzaFwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiZnJlcXVlbmN5XCI6IFtcbiAgICAgICAgICAgICAgICA1XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJpZFwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiamFwYW5lc2VcIjogW1xuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInNpdHVhdGlvblwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiX190eXBlbmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcIkJvb2xlYW5cIjoge31cbiAgICB9XG59IiwgImltcG9ydCB0eXBlIHtcbiAgUXVlcnlHZW5xbFNlbGVjdGlvbixcbiAgUXVlcnksXG4gIE11dGF0aW9uR2VucWxTZWxlY3Rpb24sXG4gIE11dGF0aW9uLFxufSBmcm9tICcuL3NjaGVtYS50cydcbmltcG9ydCB7XG4gIGxpbmtUeXBlTWFwLFxuICBjcmVhdGVDbGllbnQgYXMgY3JlYXRlQ2xpZW50T3JpZ2luYWwsXG4gIGdlbmVyYXRlR3JhcGhxbE9wZXJhdGlvbixcbiAgdHlwZSBGaWVsZHNTZWxlY3Rpb24sXG4gIHR5cGUgR3JhcGhxbE9wZXJhdGlvbixcbiAgdHlwZSBDbGllbnRPcHRpb25zLFxuICBHZW5xbEVycm9yLFxufSBmcm9tICcuL3J1bnRpbWUvaW5kZXgudHMnXG5leHBvcnQgdHlwZSB7IEZpZWxkc1NlbGVjdGlvbiB9IGZyb20gJy4vcnVudGltZS9pbmRleC50cydcbmV4cG9ydCB7IEdlbnFsRXJyb3IgfVxuXG5pbXBvcnQgdHlwZXMgZnJvbSAnLi90eXBlcy50cydcbmV4cG9ydCAqIGZyb20gJy4vc2NoZW1hLnRzJ1xuY29uc3QgdHlwZU1hcCA9IGxpbmtUeXBlTWFwKHR5cGVzIGFzIGFueSlcblxuZXhwb3J0IGludGVyZmFjZSBDbGllbnQge1xuICBxdWVyeTxSIGV4dGVuZHMgUXVlcnlHZW5xbFNlbGVjdGlvbj4oXG4gICAgcmVxdWVzdDogUiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4gICk6IFByb21pc2U8RmllbGRzU2VsZWN0aW9uPFF1ZXJ5LCBSPj5cblxuICBtdXRhdGlvbjxSIGV4dGVuZHMgTXV0YXRpb25HZW5xbFNlbGVjdGlvbj4oXG4gICAgcmVxdWVzdDogUiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4gICk6IFByb21pc2U8RmllbGRzU2VsZWN0aW9uPE11dGF0aW9uLCBSPj5cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNsaWVudCA9IGZ1bmN0aW9uIChvcHRpb25zPzogQ2xpZW50T3B0aW9ucyk6IENsaWVudCB7XG4gIHJldHVybiBjcmVhdGVDbGllbnRPcmlnaW5hbCh7XG4gICAgdXJsOiB1bmRlZmluZWQsXG5cbiAgICAuLi5vcHRpb25zLFxuICAgIHF1ZXJ5Um9vdDogdHlwZU1hcC5RdWVyeSEsXG4gICAgbXV0YXRpb25Sb290OiB0eXBlTWFwLk11dGF0aW9uISxcbiAgICBzdWJzY3JpcHRpb25Sb290OiB0eXBlTWFwLlN1YnNjcmlwdGlvbiEsXG4gIH0pIGFzIGFueVxufVxuXG5leHBvcnQgY29uc3QgZXZlcnl0aGluZyA9IHtcbiAgX19zY2FsYXI6IHRydWUsXG59XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5UmVzdWx0PGZpZWxkcyBleHRlbmRzIFF1ZXJ5R2VucWxTZWxlY3Rpb24+ID0gRmllbGRzU2VsZWN0aW9uPFxuICBRdWVyeSxcbiAgZmllbGRzXG4+XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVRdWVyeU9wOiAoXG4gIGZpZWxkczogUXVlcnlHZW5xbFNlbGVjdGlvbiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4pID0+IEdyYXBocWxPcGVyYXRpb24gPSBmdW5jdGlvbiAoZmllbGRzKSB7XG4gIHJldHVybiBnZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24oJ3F1ZXJ5JywgdHlwZU1hcC5RdWVyeSEsIGZpZWxkcyBhcyBhbnkpXG59XG5cbmV4cG9ydCB0eXBlIE11dGF0aW9uUmVzdWx0PGZpZWxkcyBleHRlbmRzIE11dGF0aW9uR2VucWxTZWxlY3Rpb24+ID1cbiAgRmllbGRzU2VsZWN0aW9uPE11dGF0aW9uLCBmaWVsZHM+XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVNdXRhdGlvbk9wOiAoXG4gIGZpZWxkczogTXV0YXRpb25HZW5xbFNlbGVjdGlvbiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4pID0+IEdyYXBocWxPcGVyYXRpb24gPSBmdW5jdGlvbiAoZmllbGRzKSB7XG4gIHJldHVybiBnZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24oJ211dGF0aW9uJywgdHlwZU1hcC5NdXRhdGlvbiEsIGZpZWxkcyBhcyBhbnkpXG59XG4iLCAiLyoqXG4gKiBHZW5RTFx1RkYwOHNlbGVjdGlvbiBcdTMwNEJcdTMwODkgR3JhcGhRTCBPcGVyYXRpb24gXHUzMDkyXHU3NTFGXHU2MjEwXHVGRjA5XHUzMDY4XG4gKiB1cnFsXHVGRjA4XHUzMEFGXHUzMEU5XHUzMEE0XHUzMEEyXHUzMEYzXHUzMEM4XHU1QjlGXHU4ODRDXHUzMEZCXHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1XHVGRjA5XHUzMDkyXHU2QTRCXHU2RTIxXHUzMDU3XHUzMDU5XHUzMDhCXHUzMDVGXHUzMDgxXHUzMDZFXHUzMEU2XHUzMEZDXHUzMEM2XHUzMEEzXHUzMEVBXHUzMEM2XHUzMEEzXHUzMDAyXG4gKlxuICogXHU2NUI5XHU5MUREOlxuICogLSBcdTMwRDVcdTMwRURcdTMwRjNcdTMwQzhcdTUwNzRcdTMwNjdcdTMwNkYgR2VuUUwgXHUzMDZFIHNlbGVjdGlvbiBcdTMwNjdcdTU3OEJcdTVCODlcdTUxNjhcdTMwNkJcdTMwQUZcdTMwQThcdTMwRUEvXHUzMERGXHUzMEU1XHUzMEZDXHUzMEM2XHUzMEZDXHUzMEI3XHUzMEU3XHUzMEYzXHU1MTg1XHU1QkI5XHUzMDkyXHU4ODY4XHU3M0ZFXG4gKiAtIFx1NUI5Rlx1ODg0Q1x1MzA2RiB1cnFsIFx1MzA2RSBob29rIC8gY2xpZW50IFx1MzA5Mlx1NzUyOFx1MzA0NFx1MzA2Nlx1ODg0Q1x1MzA0NFx1MzAwMXVycWwgXHUzMDZFXHUzMEE4XHUzMEIzXHUzMEI3XHUzMEI5XHUzMEM2XHUzMEUwXHVGRjA4XHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1XHU3QjQ5XHVGRjA5XHUzMDkyXHU2RDNCXHU3NTI4XG4gKiAtIGdyYXBocWwtY29kZWdlbiBcdTMwNkZcdTRGN0ZcdTMwOEZcdTMwNUFcdTMwMDFHZW5RTCBcdTMwNkVcdTc1MUZcdTYyMTBcdTcyNjlcdTMwNkVcdTMwN0ZcdTMwOTJcdTRGOURcdTVCNThcdTVCRkVcdThDNjFcdTMwNkJcdTMwNTlcdTMwOEJcbiAqL1xuXG5pbXBvcnQgdHlwZSB7IE11dGF0aW9uUmVzdWx0LCBRdWVyeVJlc3VsdCB9IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ2VucWwvaW5kZXgudHNcIjtcbmltcG9ydCB7IGdlbmVyYXRlUXVlcnlPcCB9IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ2VucWwvaW5kZXgudHNcIjtcbmltcG9ydCB0eXBlIHtcbiAgTXV0YXRpb25HZW5xbFNlbGVjdGlvbixcbiAgUXVlcnlHZW5xbFNlbGVjdGlvbixcbn0gZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC9zY2hlbWEudHNcIjtcbmltcG9ydCB0eXBlIHsgT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCJ1cnFsXCI7XG5pbXBvcnQgeyB1c2VNdXRhdGlvbiwgdXNlUXVlcnkgfSBmcm9tIFwidXJxbFwiO1xuaW1wb3J0IHtcbiAgQXJncyxcbiAgRmllbGRzLFxuICBnZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24sXG59IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ2VucWwvcnVudGltZS9nZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24udHNcIjtcbmltcG9ydCB7IGxpbmtUeXBlTWFwIH0gZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC9ydW50aW1lL2xpbmtUeXBlTWFwLnRzXCI7XG5pbXBvcnQgdHlwZXMgZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC90eXBlcy50c1wiO1xuXG50eXBlIFJlcXVlc3RQb2xpY3kgPVxuICB8IFwiY2FjaGUtZmlyc3RcIlxuICB8IFwiY2FjaGUtb25seVwiXG4gIHwgXCJuZXR3b3JrLW9ubHlcIlxuICB8IFwiY2FjaGUtYW5kLW5ldHdvcmtcIjtcblxuLyoqXG4gKiB1c2VUeXBlZFF1ZXJ5XG4gKlxuICogXHU1Rjc5XHU1MjcyOiBHZW5RTCBcdTMwNkUgc2VsZWN0aW9uXHVGRjA4XHUzMDY5XHUzMDZFXHUzMEQ1XHUzMEEzXHUzMEZDXHUzMEVCXHUzMEM5XHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDAxXHUzMDY5XHUzMDZFXHU1RjE1XHU2NTcwXHUzMDkyXHU2RTIxXHUzMDU5XHUzMDRCXHVGRjA5XHUzMDRCXHUzMDg5XG4gKiBcdTVCOUZcdTg4NENcdTUzRUZcdTgwRkRcdTMwNkEgeyBxdWVyeSwgdmFyaWFibGVzIH0gXHUzMDkyXHU3NTFGXHU2MjEwXHUzMDU3XHUzMDAxXHUzMDVEXHUzMDZFXHUzMDdFXHUzMDdFIHVycWwgXHUzMDZFIHVzZVF1ZXJ5IFx1MzA2Qlx1NkUyMVx1MzA1OVx1MzAwMlxuICpcbiAqIFx1NTJCOVx1Njc5Qzogc2VsZWN0aW9uIFx1MzA2Qlx1MzA4OFx1MzA4Qlx1NTc4Qlx1NUI4OVx1NTE2OFx1MzA2OFx1MzAwMXVycWwgXHUzMDZFXHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1L1x1MzBERFx1MzBFQVx1MzBCN1x1MzBGQ1x1MzA5Mlx1NTQwQ1x1NjY0Mlx1MzA2Qlx1NkQzQlx1NzUyOFx1MzA2N1x1MzA0RFx1MzA4Qlx1MzAwMlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlVHlwZWRRdWVyeTxRdWVyeSBleHRlbmRzIFF1ZXJ5R2VucWxTZWxlY3Rpb24+KG9wdHM6IHtcbiAgcXVlcnk6IFF1ZXJ5O1xuICBwYXVzZT86IGJvb2xlYW47XG4gIHJlcXVlc3RQb2xpY3k/OiBSZXF1ZXN0UG9saWN5O1xuICBjb250ZXh0PzogUGFydGlhbDxPcGVyYXRpb25Db250ZXh0Pjtcbn0pIHtcbiAgY29uc3QgeyBxdWVyeSwgdmFyaWFibGVzIH0gPSBnZW5lcmF0ZVF1ZXJ5T3Aob3B0cy5xdWVyeSk7XG5cbiAgcmV0dXJuIHVzZVF1ZXJ5PFF1ZXJ5UmVzdWx0PFF1ZXJ5Pj4oe1xuICAgIC4uLm9wdHMsXG4gICAgcXVlcnksXG4gICAgdmFyaWFibGVzLFxuICB9KTtcbn1cblxuLy8gZGVuby1saW50LWlnbm9yZSBuby1leHBsaWNpdC1hbnlcbmNvbnN0IHR5cGVNYXAgPSBsaW5rVHlwZU1hcCh0eXBlcyBhcyBhbnkpO1xuXG4vKipcbiAqIHVzZVR5cGVkTXV0YXRpb25cbiAqXG4gKiBcdTVGNzlcdTUyNzI6IEdlblFMIFx1MzA2RSBzZWxlY3Rpb24gXHUzMDRCXHUzMDg5IE11dGF0aW9uIFx1MzA5Mlx1NUI5Rlx1ODg0Q1x1MzA1OVx1MzA4Qlx1MzA1Rlx1MzA4MVx1MzA2RVx1MzBENVx1MzBDM1x1MzBBRlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlVHlwZWRNdXRhdGlvbjxNdXRhdGlvbiBleHRlbmRzIE11dGF0aW9uR2VucWxTZWxlY3Rpb24+KFxuICBvcHRzOiB7XG4gICAgbXV0YXRpb246IE11dGF0aW9uO1xuICAgIGNvbnRleHQ/OiBQYXJ0aWFsPE9wZXJhdGlvbkNvbnRleHQ+O1xuICAgIGFkZGl0aW9uYWxUeXBlbmFtZXM/OiBzdHJpbmdbXTtcbiAgfSxcbikge1xuICAvLyBcdTMwQUZcdTMwQThcdTMwRUFcdTY1ODdcdTVCNTdcdTUyMTdcdTMwOTJcdTc1MUZcdTYyMTBcdUZGMDhcdTRFMDBcdTVFQTZcdTMwNjBcdTMwNTFcdUZGMDlcbiAgY29uc3Qgb3BlcmF0aW9uID0gZ2VuZXJhdGVHcmFwaHFsT3BlcmF0aW9uKFxuICAgIFwibXV0YXRpb25cIixcbiAgICB0eXBlTWFwLk11dGF0aW9uISxcbiAgICBvcHRzLm11dGF0aW9uIGFzIHVua25vd24gYXMgRmllbGRzLFxuICApO1xuXG4gIC8vIHVzZU11dGF0aW9uXHUzMDZCXHUzMDZGXHUzMEFGXHUzMEE4XHUzMEVBXHU2NTg3XHU1QjU3XHU1MjE3XHUzMDkyXHU3NkY0XHU2M0E1XHU2RTIxXHUzMDU5XG4gIGNvbnN0IFtyZXN1bHQsIGV4ZWN1dGVNdXRhdGlvbl0gPSB1c2VNdXRhdGlvbjxNdXRhdGlvblJlc3VsdDxNdXRhdGlvbj4+KFxuICAgIG9wZXJhdGlvbi5xdWVyeSxcbiAgKTtcblxuICBjb25zdCBleGVjdXRlID0gKHZhcmlhYmxlcz86IEFyZ3MpID0+IHtcbiAgICAvLyBcdTU5MDlcdTY1NzBcdTMwOTJcdTUxOERcdTc1MUZcdTYyMTBcdTMwNTdcdTMwNjZcdTMwMDFcdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTZFMjFcdTMwNTVcdTMwOENcdTMwNUZcdTUwMjRcdTMwNjdcdTRFMEFcdTY2RjhcdTMwNERcbiAgICBjb25zdCBvcGVyYXRpb25XaXRoVmFycyA9IGdlbmVyYXRlR3JhcGhxbE9wZXJhdGlvbihcbiAgICAgIFwibXV0YXRpb25cIixcbiAgICAgIHR5cGVNYXAuTXV0YXRpb24hLFxuICAgICAgb3B0cy5tdXRhdGlvbiBhcyB1bmtub3duIGFzIEZpZWxkcyxcbiAgICApO1xuXG4gICAgLy8gXHU1QjlGXHU4ODRDXHU2NjQyXHUzMDZCXHU2RTIxXHUzMDU1XHUzMDhDXHUzMDVGXHU1OTA5XHU2NTcwXHUzMDY3XHU0RTBBXHU2NkY4XHUzMDREXG4gICAgLy8gZ2VucWxcdTMwNkZ2MSwgdjJcdTMwNkFcdTMwNjlcdTMwNkVcdTU5MDlcdTY1NzBcdTU0MERcdTMwOTJcdTc1MUZcdTYyMTBcdTMwNTlcdTMwOEJcdTMwNENcdTMwMDFcbiAgICAvLyBcdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTZFMjFcdTMwNTVcdTMwOENcdTMwNUZcdTU5MDlcdTY1NzBcdTMwNkVcdTMwQURcdTMwRkNcdUZGMDhcdTRGOEI6IFwibmFtZVwiXHVGRjA5XHUzMDkyXHUzMDAxb3BlcmF0aW9uLnZhcmlhYmxlc1x1MzA2RVx1NTAyNFx1MzA2OFx1NzE2N1x1NTQwOFx1MzA1N1x1MzA2Nlx1NEUwQVx1NjZGOFx1MzA0RFxuICAgIGNvbnN0IGZpbmFsVmFyaWFibGVzID0geyAuLi5vcGVyYXRpb25XaXRoVmFycy52YXJpYWJsZXMgfTtcblxuICAgIGlmICh2YXJpYWJsZXMgJiYgb3BlcmF0aW9uV2l0aFZhcnMudmFyaWFibGVzKSB7XG4gICAgICBjb25zdCB2YXJLZXlzID0gT2JqZWN0LmtleXMob3BlcmF0aW9uV2l0aFZhcnMudmFyaWFibGVzKTtcbiAgICAgIC8vIG9wZXJhdGlvbi52YXJpYWJsZXNcdTMwNkVcdTU0MDRcdTU5MDlcdTY1NzBcdTMwNkJcdTMwNjRcdTMwNDRcdTMwNjZcdTMwMDFcdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTZFMjFcdTMwNTVcdTMwOENcdTMwNUZcdTU5MDlcdTY1NzBcdTMwNjhcdTcxNjdcdTU0MDhcbiAgICAgIHZhcktleXMuZm9yRWFjaCgodmFyS2V5KSA9PiB7XG4gICAgICAgIC8vIF9fYXJnc1x1MzA2N1x1NjMwN1x1NUI5QVx1MzA1NVx1MzA4Q1x1MzA1Rlx1NUYxNVx1NjU3MFx1NTQwRFx1MzA5Mlx1NTNENlx1NUY5N1x1RkYwOFx1MzA1M1x1MzA4Q1x1MzA2Rm11dGF0aW9uXHUzMDZFXHU2OUNCXHU5MDIwXHUzMDRCXHUzMDg5XHU2M0E4XHU2RTJDXHUzMDU5XHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhCXHVGRjA5XG4gICAgICAgIC8vIFx1N0MyMVx1NjYxM1x1NzY4NFx1MzA2QVx1NUI5Rlx1ODhDNTogbXV0YXRpb25cdTMwNkVfX2FyZ3NcdTMwNkVcdTMwQURcdTMwRkNcdTMwOTJcdTk4MDZcdTc1NkFcdTMwNkJcdTMwREVcdTMwQzNcdTMwRDRcdTMwRjNcdTMwQjBcbiAgICAgICAgY29uc3QgbXV0YXRpb25LZXlzID0gT2JqZWN0LmtleXMob3B0cy5tdXRhdGlvbik7XG4gICAgICAgIGlmIChtdXRhdGlvbktleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IG11dGF0aW9uRmllbGQgPVxuICAgICAgICAgICAgKG9wdHMubXV0YXRpb24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW211dGF0aW9uS2V5c1swXV07XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbXV0YXRpb25GaWVsZCAmJiB0eXBlb2YgbXV0YXRpb25GaWVsZCA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgXCJfX2FyZ3NcIiBpbiBtdXRhdGlvbkZpZWxkICYmIG11dGF0aW9uRmllbGQuX19hcmdzICYmXG4gICAgICAgICAgICB0eXBlb2YgbXV0YXRpb25GaWVsZC5fX2FyZ3MgPT09IFwib2JqZWN0XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZ05hbWVzID0gT2JqZWN0LmtleXMobXV0YXRpb25GaWVsZC5fX2FyZ3MpO1xuICAgICAgICAgICAgY29uc3QgdmFySW5kZXggPSB2YXJLZXlzLmluZGV4T2YodmFyS2V5KTtcbiAgICAgICAgICAgIGlmICh2YXJJbmRleCA+PSAwICYmIHZhckluZGV4IDwgYXJnTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFyZ05hbWUgPSBhcmdOYW1lc1t2YXJJbmRleF07XG4gICAgICAgICAgICAgIGlmICh2YXJpYWJsZXNbYXJnTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZpbmFsVmFyaWFibGVzW3ZhcktleV0gPSB2YXJpYWJsZXNbYXJnTmFtZV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGFkZGl0aW9uYWxUeXBlbmFtZXNcdTMwOTJjb250ZXh0XHUzMDZCXHU4RkZEXHU1MkEwXG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIC4uLm9wdHMuY29udGV4dCxcbiAgICAgIC4uLihvcHRzLmFkZGl0aW9uYWxUeXBlbmFtZXMgJiYge1xuICAgICAgICBhZGRpdGlvbmFsVHlwZW5hbWVzOiBvcHRzLmFkZGl0aW9uYWxUeXBlbmFtZXMsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGV4ZWN1dGVNdXRhdGlvbihmaW5hbFZhcmlhYmxlcywgY29udGV4dCk7XG4gIH07XG5cbiAgcmV0dXJuIFtyZXN1bHQsIGV4ZWN1dGVdIGFzIGNvbnN0O1xufVxuIiwgImltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcbmltcG9ydCB7IHVzZVR5cGVkUXVlcnkgfSBmcm9tIFwiLi4vdXRpbHMvZ2VucWwtdXJxbC1icmlkZ2UudHNcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL2J1dHRvbi9idXR0b24udHN4XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBEYXNoYm9hcmRQYWdlKCkge1xuICBjb25zdCB7IHVzZXIsIGxvZ291dCB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG5cbiAgLy8gXHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXHU0RTAwXHU4OUE3XHUzMDkyXHU1M0Q2XHU1Rjk3XG4gIGNvbnN0IFt1c2Vyc1Jlc3VsdF0gPSB1c2VUeXBlZFF1ZXJ5KHtcbiAgICBxdWVyeToge1xuICAgICAgdXNlcnM6IHtcbiAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgIG5hbWU6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuXG4gIC8vIFx1NjI5NVx1N0EzRlx1NEUwMFx1ODlBN1x1MzA5Mlx1NTNENlx1NUY5N1xuICBjb25zdCBbcG9zdHNSZXN1bHRdID0gdXNlVHlwZWRRdWVyeSh7XG4gICAgcXVlcnk6IHtcbiAgICAgIHBvc3RzOiB7XG4gICAgICAgIGlkOiB0cnVlLFxuICAgICAgICB0aXRsZTogdHJ1ZSxcbiAgICAgICAgY29udGVudDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgW3Rlc3RSZXN1bHRdID0gdXNlVHlwZWRRdWVyeSh7XG4gICAgcXVlcnk6IHtcbiAgICAgIHRlc3Q6IHRydWUsXG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGxvZ291dCgpO1xuICAgIG5hdmlnYXRlKFwiL2xvZ2luXCIsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgfTtcblxuICBjb25zdCB1c2VycyA9IHVzZXJzUmVzdWx0LmRhdGE/LnVzZXJzID8/IFtdO1xuICBjb25zdCBwb3N0cyA9IHBvc3RzUmVzdWx0LmRhdGE/LnBvc3RzID8/IFtdO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBweS0xMiBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0b1wiPlxuICAgICAgICB7LyogXHUzMEQ4XHUzMEMzXHUzMEMwXHUzMEZDICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi04XCI+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+XHUzMEMwXHUzMEMzXHUzMEI3XHUzMEU1XHUzMERDXHUzMEZDXHUzMEM5PC9oMT5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgcHgtNCBweS0yIHJvdW5kZWQtbWQgaG92ZXI6YmctZ3JheS0zMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFx1MzBFRFx1MzBCMFx1MzBBMlx1MzBBNlx1MzBDOFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogXHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXHU2MEM1XHU1ODMxXHUzMEFCXHUzMEZDXHUzMEM5ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93IHAtNiBtYi02XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwIG1iLTRcIj5cbiAgICAgICAgICAgIFx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1NEUyRFx1MzA2RVx1MzBFNlx1MzBGQ1x1MzBCNlx1MzBGQ1xuICAgICAgICAgIDwvaDI+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiBiZy1ibHVlLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBmb250LWJvbGQgdGV4dC14bFwiPlxuICAgICAgICAgICAgICAgIHt1c2VyPy5uYW1lPy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSB8fCBcIj9cIn1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAge3VzZXI/Lm5hbWUgfHwgXCJcdTU0MERcdTUyNERcdTY3MkFcdThBMkRcdTVCOUFcIn1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj57dXNlcj8uZW1haWx9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7dXNlcj8uZW1haWxWZXJpZmllZCAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLWF1dG8gcHgtMiBweS0xIHRleHQteHMgZm9udC1tZWRpdW0gYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwIHJvdW5kZWQtZnVsbFwiPlxuICAgICAgICAgICAgICAgIFx1OEE4RFx1OEEzQ1x1NkUwOFx1MzA3RlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogXHUzMEM3XHUzMEZDXHUzMEJGXHU4ODY4XHU3OTNBICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTZcIj5cbiAgICAgICAgICB7LyogXHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXHU0RTAwXHU4OUE3ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cgcC02XCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgbWItNFwiPlxuICAgICAgICAgICAgICBcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTRFMDBcdTg5QTcgKHt1c2Vycy5sZW5ndGh9XHU0RUY2KVxuICAgICAgICAgICAgPC9oMj5cblxuICAgICAgICAgICAge3VzZXJzUmVzdWx0LmZldGNoaW5nXG4gICAgICAgICAgICAgID8gPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlx1OEFBRFx1MzA3Rlx1OEZCQ1x1MzA3Rlx1NEUyRC4uLjwvcD5cbiAgICAgICAgICAgICAgOiB1c2Vyc1Jlc3VsdC5lcnJvclxuICAgICAgICAgICAgICA/IChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDBcIj5cbiAgICAgICAgICAgICAgICAgIFx1MzBBOFx1MzBFOVx1MzBGQzoge3VzZXJzUmVzdWx0LmVycm9yLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogdXNlcnMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgID8gPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlx1MzBFNlx1MzBGQ1x1MzBCNlx1MzBGQ1x1MzA0Q1x1MzA0NFx1MzA3RVx1MzA1Qlx1MzA5MzwvcD5cbiAgICAgICAgICAgICAgOiAoXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAge3VzZXJzLm1hcCgodSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e3UuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIGJnLWdyYXktNTAgcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYmctYmx1ZS0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGZvbnQtbWVkaXVtIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3UubmFtZT8uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgfHwgXCI/XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTkwMFwiPnt1Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgdGV4dC14cyBtbC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBJRDoge3UuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBcdTYyOTVcdTdBM0ZcdTRFMDBcdTg5QTcgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTZcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMCBtYi00XCI+XG4gICAgICAgICAgICAgIFx1NjI5NVx1N0EzRlx1NEUwMFx1ODlBNyAoe3Bvc3RzLmxlbmd0aH1cdTRFRjYpXG4gICAgICAgICAgICA8L2gyPlxuXG4gICAgICAgICAgICB7cG9zdHNSZXN1bHQuZmV0Y2hpbmdcbiAgICAgICAgICAgICAgPyA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XHU4QUFEXHUzMDdGXHU4RkJDXHUzMDdGXHU0RTJELi4uPC9wPlxuICAgICAgICAgICAgICA6IHBvc3RzUmVzdWx0LmVycm9yXG4gICAgICAgICAgICAgID8gKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgXHUzMEE4XHUzMEU5XHUzMEZDOiB7cG9zdHNSZXN1bHQuZXJyb3IubWVzc2FnZX1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBwb3N0cy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgPyA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XHU2Mjk1XHU3QTNGXHUzMDRDXHUzMDQyXHUzMDhBXHUzMDdFXHUzMDVCXHUzMDkzPC9wPlxuICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICB7cG9zdHMubWFwKChwKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e3AuaWR9IGNsYXNzTmFtZT1cInAtMyBiZy1ncmF5LTUwIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPntwLnRpdGxlfTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG10LTEgbGluZS1jbGFtcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cC5jb250ZW50fVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cgcC02XCI+XG4gICAgICAgICAge3Rlc3RSZXN1bHQuZGF0YT8udGVzdH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsICJpbXBvcnQgeyB0eXBlIFJlYWN0Tm9kZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTmF2aWdhdGUsIHVzZUxvY2F0aW9uIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcblxudHlwZSBQcm90ZWN0ZWRSb3V0ZVByb3BzID0ge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlO1xuICByZWRpcmVjdFRvPzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBcdThBOERcdThBM0NcdTMwNENcdTVGQzVcdTg5ODFcdTMwNkFcdTMwRUJcdTMwRkNcdTMwQzhcdTMwOTJcdTRGRERcdThCNzdcdTMwNTlcdTMwOEJcdTMwQjNcdTMwRjNcdTMwRERcdTMwRkNcdTMwQ0RcdTMwRjNcdTMwQzhcbiAqXG4gKiBcdTRGN0ZcdTc1MjhcdTRGOEI6XG4gKiA8Um91dGVcbiAqICAgcGF0aD1cIi9cIlxuICogICBlbGVtZW50PXtcbiAqICAgICA8UHJvdGVjdGVkUm91dGU+XG4gKiAgICAgICA8RGFzaGJvYXJkUGFnZSAvPlxuICogICAgIDwvUHJvdGVjdGVkUm91dGU+XG4gKiAgIH1cbiAqIC8+XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQcm90ZWN0ZWRSb3V0ZSh7XG4gIGNoaWxkcmVuLFxuICByZWRpcmVjdFRvID0gXCIvbG9naW5cIixcbn06IFByb3RlY3RlZFJvdXRlUHJvcHMpIHtcbiAgY29uc3QgeyBpc0F1dGhlbnRpY2F0ZWQsIGlzTG9hZGluZyB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG5cbiAgLy8gXHUzMEVEXHUzMEZDXHUzMEM3XHUzMEEzXHUzMEYzXHUzMEIwXHU0RTJEXHUzMDZGXHUzMEI5XHUzMEQ0XHUzMENBXHUzMEZDXHUzMDkyXHU4ODY4XHU3OTNBXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMiB3LTEyIGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNjAwXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBcdTY3MkFcdThBOERcdThBM0NcdTMwNkFcdTMwODlcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwREFcdTMwRkNcdTMwQjhcdTMwNzhcdTMwRUFcdTMwQzBcdTMwQTRcdTMwRUNcdTMwQUZcdTMwQzhcbiAgLy8gc3RhdGUgXHUzMDZCXHU3M0ZFXHU1NzI4XHUzMDZFXHUzMEQxXHUzMEI5XHUzMDkyXHU0RkREXHU1QjU4XHUzMDU3XHUzMDY2XHUzMDAxXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXHU1RjhDXHUzMDZCXHU2MjNCXHUzMDhDXHUzMDhCXHUzMDg4XHUzMDQ2XHUzMDZCXHUzMDU5XHUzMDhCXG4gIGlmICghaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIDxOYXZpZ2F0ZSB0bz17cmVkaXJlY3RUb30gc3RhdGU9e3sgZnJvbTogbG9jYXRpb24gfX0gcmVwbGFjZSAvPjtcbiAgfVxuXG4gIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG59XG4iLCAiLy8gcHVibGljL2NvbXBvbmVudHMvTmF2aWdhdGlvbi50c3hcbmltcG9ydCB7IExpbmssIE5hdkxpbmssIHVzZUxvY2F0aW9uIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdmlnYXRpb24oKSB7XG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCBsb2dvdXQgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuXG4gIHJldHVybiAoXG4gICAgPG5hdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBzaGFkb3dcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gcHgtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGgtMTYgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPExpbmsgdG89XCIvXCIgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQteGxcIj5cbiAgICAgICAgICAgIFJlYWN0IEF1dGhcbiAgICAgICAgICA8L0xpbms+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTRcIj5cbiAgICAgICAgICAgIHtpc0F1dGhlbnRpY2F0ZWRcbiAgICAgICAgICAgICAgPyAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxOYXZMaW5rXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyh7IGlzQWN0aXZlIH0pID0+XG4gICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUgPyBcInRleHQtYmx1ZS02MDBcIiA6IFwidGV4dC1ncmF5LTYwMFwifVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBcdTUzNThcdThBOUVcdTVCNjZcdTdGRDJcbiAgICAgICAgICAgICAgICAgIDwvTmF2TGluaz5cbiAgICAgICAgICAgICAgICAgIDxOYXZMaW5rXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL1wiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KHsgaXNBY3RpdmUgfSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA/IFwidGV4dC1ibHVlLTYwMFwiIDogXCJ0ZXh0LWdyYXktNjAwXCJ9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFx1MzBDMFx1MzBDM1x1MzBCN1x1MzBFNVx1MzBEQ1x1MzBGQ1x1MzBDOVxuICAgICAgICAgICAgICAgICAgPC9OYXZMaW5rPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17bG9nb3V0fT5cdTMwRURcdTMwQjBcdTMwQTJcdTMwQTZcdTMwQzg8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPE5hdkxpbmtcbiAgICAgICAgICAgICAgICAgICAgdG89XCIvbG9naW5cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyh7IGlzQWN0aXZlIH0pID0+XG4gICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUgPyBcInRleHQtYmx1ZS02MDBcIiA6IFwidGV4dC1ncmF5LTYwMFwifVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcbiAgICAgICAgICAgICAgICAgIDwvTmF2TGluaz5cbiAgICAgICAgICAgICAgICAgIDxOYXZMaW5rXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL3NpZ251cFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KHsgaXNBY3RpdmUgfSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA/IFwidGV4dC1ibHVlLTYwMFwiIDogXCJ0ZXh0LWdyYXktNjAwXCJ9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFx1NjVCMFx1ODk4Rlx1NzY3Qlx1OTMzMlxuICAgICAgICAgICAgICAgICAgPC9OYXZMaW5rPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbmF2PlxuICApO1xufVxuIiwgImltcG9ydCB7IHVzZVR5cGVkUXVlcnkgfSBmcm9tIFwiLi4vdXRpbHMvZ2VucWwtdXJxbC1icmlkZ2UudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFdvcmRSZWZsZXNoZXIoKSB7XG4gIGNvbnN0IFt3b3Jkc1Jlc3VsdF0gPSB1c2VUeXBlZFF1ZXJ5KHtcbiAgICBxdWVyeToge1xuICAgICAgd29yZHM6IHtcbiAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgIGphcGFuZXNlOiB0cnVlLFxuICAgICAgICBlbmdsaXNoOiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8aDE+V29yZCBSZWZsZXNoZXI8L2gxPlxuICAgICAgPGRpdj5cbiAgICAgICAge3dvcmRzUmVzdWx0LmRhdGE/LndvcmRzPy5tYXAoKHdvcmQpID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17d29yZC5pZH0+XG4gICAgICAgICAgICA8aDI+e3dvcmQuamFwYW5lc2V9PC9oMj5cbiAgICAgICAgICAgIDxwPnt3b3JkPy5lbmdsaXNoPy5qb2luKFwiLCBcIil9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwgImltcG9ydCB7IE91dGxldCwgUm91dGUsIFJvdXRlcyB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBEYXNoYm9hcmRQYWdlLCBMb2dpblBhZ2UsIFNpZ251cFBhZ2UgfSBmcm9tIFwiLi9wYWdlcy9pbmRleC50c1wiO1xuaW1wb3J0IHsgUHJvdGVjdGVkUm91dGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL1Byb3RlY3RlZFJvdXRlLnRzeFwiO1xuaW1wb3J0IHsgTmF2aWdhdGlvbiB9IGZyb20gXCIuL2NvbXBvbmVudHMvTmF2aWdhdGlvbi50c3hcIjtcbmltcG9ydCB7IFdvcmRSZWZsZXNoZXIgfSBmcm9tIFwiLi9wYWdlcy9Xb3JkUmVmbGVzaGVyLnRzeFwiO1xuXG5mdW5jdGlvbiBMYXlvdXQoKSB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxOYXZpZ2F0aW9uIC8+XG4gICAgICA8bWFpbj5cbiAgICAgICAgPE91dGxldCAvPiB7LyogXHU1QjUwXHUzMEVCXHUzMEZDXHUzMEM4XHUzMDRDXHUzMDUzXHUzMDUzXHUzMDZCXHU4ODY4XHU3OTNBXHUzMDU1XHUzMDhDXHUzMDhCICovfVxuICAgICAgPC9tYWluPlxuICAgIDwvPlxuICApO1xufVxuXG5mdW5jdGlvbiBBcHAoKSB7XG4gIHJldHVybiAoXG4gICAgPFJvdXRlcz5cbiAgICAgIDxSb3V0ZSBlbGVtZW50PXs8TGF5b3V0IC8+fT5cbiAgICAgICAgey8qIFx1NTE2Q1x1OTU4Qlx1MzBFQlx1MzBGQ1x1MzBDOCAqL31cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvbG9naW5cIiBlbGVtZW50PXs8TG9naW5QYWdlIC8+fSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9zaWdudXBcIiBlbGVtZW50PXs8U2lnbnVwUGFnZSAvPn0gLz5cblxuICAgICAgICB7LyogXHU4QThEXHU4QTNDXHU1RkM1XHU5ODA4XHUzMEVCXHUzMEZDXHUzMEM4ICovfVxuICAgICAgICA8Um91dGVcbiAgICAgICAgICBwYXRoPVwiL1wiXG4gICAgICAgICAgZWxlbWVudD17XG4gICAgICAgICAgICA8UHJvdGVjdGVkUm91dGU+XG4gICAgICAgICAgICAgIDxEYXNoYm9hcmRQYWdlIC8+XG4gICAgICAgICAgICA8L1Byb3RlY3RlZFJvdXRlPlxuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgICAgPFJvdXRlXG4gICAgICAgICAgcGF0aD1cIi93b3JkXCJcbiAgICAgICAgICBlbGVtZW50PXtcbiAgICAgICAgICAgIDxQcm90ZWN0ZWRSb3V0ZT5cbiAgICAgICAgICAgICAgPFdvcmRSZWZsZXNoZXIgLz5cbiAgICAgICAgICAgIDwvUHJvdGVjdGVkUm91dGU+XG4gICAgICAgICAgfVxuICAgICAgICAvPlxuXG4gICAgICAgIHsvKiA0MDQ6IFx1NjcyQVx1NUI5QVx1N0ZBOVx1MzA2RVx1MzBEMVx1MzBCOVx1MzA2Rlx1MzBDMFx1MzBDM1x1MzBCN1x1MzBFNVx1MzBEQ1x1MzBGQ1x1MzBDOVx1MzA3OCAqL31cbiAgICAgICAgPFJvdXRlXG4gICAgICAgICAgcGF0aD1cIipcIlxuICAgICAgICAgIGVsZW1lbnQ9e1xuICAgICAgICAgICAgPFByb3RlY3RlZFJvdXRlPlxuICAgICAgICAgICAgICA8RGFzaGJvYXJkUGFnZSAvPlxuICAgICAgICAgICAgPC9Qcm90ZWN0ZWRSb3V0ZT5cbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICA8L1JvdXRlPlxuICAgIDwvUm91dGVzPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBcHA7XG4iLCAiaW1wb3J0IHR5cGUgeyBFeGNoYW5nZSwgT3BlcmF0aW9uLCBPcGVyYXRpb25SZXN1bHQgfSBmcm9tIFwidXJxbFwiO1xuXG5pbXBvcnQgeyBwaXBlLCB0YXAgfSBmcm9tIFwid29ua2FcIjtcblxuLyoqXG4gKiBcdTMwREZcdTMwRTVcdTMwRkNcdTMwQzZcdTMwRkNcdTMwQjdcdTMwRTdcdTMwRjNcdTdENTBcdTY3OUNcdTMwNEJcdTMwODkgX190eXBlbmFtZSBcdTMwOTJcdTUxOERcdTVFMzBcdTc2ODRcdTMwNkJcdTUzQ0VcdTk2QzZcbiAqL1xuZnVuY3Rpb24gY29sbGVjdFR5cGVuYW1lcyhub2RlOiB1bmtub3duLCBvdXQ6IFNldDxzdHJpbmc+KSB7XG4gIGlmIChub2RlID09IG51bGwpIHJldHVybjtcblxuICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgIGZvciAoY29uc3QgdiBvZiBub2RlKSBjb2xsZWN0VHlwZW5hbWVzKHYsIG91dCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBub2RlID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3Qgb2JqID0gbm9kZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICBjb25zdCB0biA9IG9iai5fX3R5cGVuYW1lO1xuXG4gICAgaWYgKHR5cGVvZiB0biA9PT0gXCJzdHJpbmdcIikgb3V0LmFkZCh0bik7XG5cbiAgICBmb3IgKGNvbnN0IHYgb2YgT2JqZWN0LnZhbHVlcyhvYmopKSBjb2xsZWN0VHlwZW5hbWVzKHYsIG91dCk7XG4gIH1cbn1cblxuLyoqXG4gKiBNdXRhdGlvblx1MzA2N1x1NUI5Rlx1ODg0Q1x1NjY0MlF1ZXJ5XHUzMDkyXHU3NjdBXHU3MDZCXHUzMDU5XHUzMDhCRXhjaGFuZ2VcbiAqIFx1Njc2MVx1NEVGNlxuICogIFx1MzBGQjEuIFx1NUI5Rlx1ODg0Q1x1NkUwOFx1MzA3Rlx1MzA2RVF1ZXJ5XG4gKiAgXHUzMEZCMi4gTXV0YXRpb25cdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTc2N0FcdTcwNkJcdTVCRkVcdThDNjFcdTMwNkVcdTU3OEJcdTYzMDdcdTVCOUEgeyBhZGRpdGlvbmFsVHlwZW5hbWVzOiBbXCJNZXNzYWdlQWNjb3VudChcdTRGOEIpXCJdIH1cbiAqICBcdTMwRkIzLiBcdTRFMEFcdThBMThcdTMwNkVcdTU3OEJcdTMwNENcdThBNzJcdTVGNTNcdTMwNkVRdWVyeVx1MzA2RV9fdHlwZW5hbWVcdTMwNkJcdTU0MkJcdTMwN0VcdTMwOENcdTMwNjZcdTMwNDRcdTMwOEJcbiAqIFx1ODhEQ1x1OERCM1xuICogIFx1MzBGQmdyYXBoY2FjaGVcdTMwNkJcdTMwODhcdTMwOEJjYWNoZUV4Y2hhbmdlXHUzMDZFXHU1ODM0XHU1NDA4XHUzMDZGYWRkaXRpb25hbFR5cGVuYW1lc1x1MzA5Mlx1NEY3Rlx1MzA0Nlx1MzA1M1x1MzA2OFx1MzA0Q1x1MzA2N1x1MzA0RFx1MzA4Qlx1MzA0Q1x1MzA1M1x1MzA2MVx1MzA4OVx1MzA4Mlx1RkYxMFx1NEVGNlx1MzA2RVx1NTgzNFx1NTQwOFx1NUJGRVx1NUZEQ1x1NEUwRFx1NTNFRlx1MzA2RVx1MzA1Rlx1MzA4MVx1MzA1M1x1MzA2MVx1MzA4OVx1ODFFQVx1NEY1Q1x1MzA1N1x1MzA1RlxuICovXG5leHBvcnQgY29uc3QgcmVmZXRjaE9uVHlwZW5hbWU6IEV4Y2hhbmdlID0gKHsgZm9yd2FyZCwgY2xpZW50IH0pID0+IChvcHMkKSA9PiB7XG4gIC8vIFx1MzBBMlx1MzBBRlx1MzBDNlx1MzBBM1x1MzBENlx1MzA2QVx1MzBBRlx1MzBBOFx1MzBFQVx1MzA5Mlx1NEZERFx1NjMwMVx1MzA1OVx1MzA4QiBNYXBcbiAgY29uc3QgYWN0aXZlUXVlcmllcyA9IG5ldyBNYXA8bnVtYmVyLCBPcGVyYXRpb24+KCk7XG5cbiAgLy8gb3BzJCBcdTMwOTJcdTc2RTNcdTg5OTZcdTMwNTdcdTMwNjYgdGVhcmRvd24gXHU2NjQyXHUzMDZCXHU1MjRBXHU5NjY0XG4gIC8vIFx1MjAzQiB1cnFsIFx1MzA2N1x1MzA2Rlx1MzAwMVx1MzBBRlx1MzBBOFx1MzBFQVx1MzA0Q1x1NEUwRFx1ODk4MVx1MzA2Qlx1MzA2QVx1MzA2M1x1MzA1Rlx1MzA2OFx1MzA0RFx1RkYwOFx1MzBCM1x1MzBGM1x1MzBERFx1MzBGQ1x1MzBDRFx1MzBGM1x1MzBDOFx1MzA0Q1x1MzBBMlx1MzBGM1x1MzBERVx1MzBBNlx1MzBGM1x1MzBDOFx1MzA1NVx1MzA4Q1x1MzA1Rlx1MzA2OFx1MzA0RFx1MzA2QVx1MzA2OVx1RkYwOVx1MzA2QiB0ZWFyZG93biBcdTY0Q0RcdTRGNUNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTlcdTMwOEJcbiAgY29uc3QgcmVzdWx0cyQgPSBwaXBlKFxuICAgIG9wcyQsXG4gICAgdGFwKChvcGVyYXRpb246IE9wZXJhdGlvbikgPT4ge1xuICAgICAgaWYgKG9wZXJhdGlvbi5raW5kID09PSBcInRlYXJkb3duXCIpIHtcbiAgICAgICAgYWN0aXZlUXVlcmllcy5kZWxldGUob3BlcmF0aW9uLmtleSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgZm9yd2FyZCxcbiAgKTtcblxuICAvLyByZXN1bHRzJCBcdTMwOTJcdTU5MDlcdTY2RjRcdTMwNUJcdTMwNUFcdTMwNkJcdTUxRTZcdTc0MDZcdTMwOTJcdTg4NENcdTMwNDZcdUZGMDhcdTk3NUVcdTU0MENcdTY3MUZcdTMwNkJcdTVCOUZcdTg4NENcdUZGMDlcbiAgcmV0dXJuIHBpcGUoXG4gICAgcmVzdWx0cyQsXG4gICAgdGFwKChyZXN1bHQ6IE9wZXJhdGlvblJlc3VsdCkgPT4ge1xuICAgICAgLy8gMS4gXHUzMEFGXHUzMEE4XHUzMEVBXHUzMDRDXHU1QjlGXHU4ODRDXHUzMDU1XHUzMDhDXHUzMDVGXHUzMDg5IE1hcCBcdTMwNkJcdTc2N0JcdTkzMzJcbiAgICAgIGlmIChyZXN1bHQub3BlcmF0aW9uLmtpbmQgPT09IFwicXVlcnlcIikge1xuICAgICAgICBhY3RpdmVRdWVyaWVzLnNldChyZXN1bHQub3BlcmF0aW9uLmtleSwgcmVzdWx0Lm9wZXJhdGlvbik7XG5cbiAgICAgICAgY29uc3QgZ2V0UXVlcnlOYW1lID0gKG9wOiBPcGVyYXRpb24pOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICAgICAgICAgIGNvbnN0IGRlZiA9IG9wLnF1ZXJ5LmRlZmluaXRpb25zWzBdO1xuICAgICAgICAgIGlmICghZGVmIHx8IGRlZi5raW5kICE9PSBcIk9wZXJhdGlvbkRlZmluaXRpb25cIikgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAgIC8vIFx1NTQwRFx1NTI0RFx1NEVEOFx1MzA0RFx1MzBBRlx1MzBBOFx1MzBFQVx1MzA2RVx1NTgzNFx1NTQwOFxuICAgICAgICAgIGlmIChkZWYubmFtZT8udmFsdWUpIHJldHVybiBkZWYubmFtZS52YWx1ZTtcblxuICAgICAgICAgIC8vIFx1NTMzRlx1NTQwRFx1MzBBRlx1MzBBOFx1MzBFQVx1MzA2RVx1NTgzNFx1NTQwOFx1MzA2Rlx1NjcwMFx1NTIxRFx1MzA2RVx1MzBENVx1MzBBM1x1MzBGQ1x1MzBFQlx1MzBDOVx1NTQwRFx1MzA5Mlx1NEY3Rlx1NzUyOFxuICAgICAgICAgIGNvbnN0IGZpcnN0U2VsZWN0aW9uID0gZGVmLnNlbGVjdGlvblNldD8uc2VsZWN0aW9ucz8uWzBdO1xuICAgICAgICAgIGlmIChmaXJzdFNlbGVjdGlvbiAmJiBmaXJzdFNlbGVjdGlvbi5raW5kID09PSBcIkZpZWxkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdFNlbGVjdGlvbi5uYW1lLnZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcXVlcnlOYW1lID0gZ2V0UXVlcnlOYW1lKHJlc3VsdC5vcGVyYXRpb24pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiW3JlZmV0Y2hPblR5cGVuYW1lXSBxdWVyeSBhZGRlZDpcIiwge1xuICAgICAgICAgIGtleTogcmVzdWx0Lm9wZXJhdGlvbi5rZXksXG4gICAgICAgICAgcXVlcnlOYW1lLFxuICAgICAgICAgIHRvdGFsQ291bnQ6IGFjdGl2ZVF1ZXJpZXMuc2l6ZSxcbiAgICAgICAgICBhbGxRdWVyaWVzOiBBcnJheS5mcm9tKGFjdGl2ZVF1ZXJpZXMudmFsdWVzKCkpLm1hcCgob3ApID0+ICh7XG4gICAgICAgICAgICBrZXk6IG9wLmtleSxcbiAgICAgICAgICAgIG5hbWU6IGdldFF1ZXJ5TmFtZShvcCksXG4gICAgICAgICAgfSkpLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gMi4gXHUzMERGXHUzMEU1XHUzMEZDXHUzMEM2XHUzMEZDXHUzMEI3XHUzMEU3XHUzMEYzXHUzMDRDXHU2MjEwXHU1MjlGXHUzMDU3XHUzMDVGXHUzMDg5XHU1MThEXHU1QjlGXHU4ODRDXHUzMDkyXHU1MjI0XHU1QjlBXG4gICAgICBpZiAocmVzdWx0Lm9wZXJhdGlvbi5raW5kID09PSBcIm11dGF0aW9uXCIgJiYgIXJlc3VsdC5lcnJvcikge1xuICAgICAgICBjb25zdCBjdHggPSByZXN1bHQub3BlcmF0aW9uLmNvbnRleHQgYXMge1xuICAgICAgICAgIGFkZGl0aW9uYWxUeXBlbmFtZXM/OiBzdHJpbmdbXTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZWZldGNoVHlwZW5hbWVzID0gQXJyYXkuaXNBcnJheShjdHg/LmFkZGl0aW9uYWxUeXBlbmFtZXMpXG4gICAgICAgICAgPyBjdHguYWRkaXRpb25hbFR5cGVuYW1lc1xuICAgICAgICAgIDogW107XG5cbiAgICAgICAgaWYgKHJlZmV0Y2hUeXBlbmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdFR5cGVuYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gICAgICAgICAgLy8gXHUzMERGXHUzMEU1XHUzMEZDXHUzMEM2XHUzMEZDXHUzMEI3XHUzMEU3XHUzMEYzXHU3RDUwXHU2NzlDXHUzMDRCXHUzMDg5IF9fdHlwZW5hbWUgXHUzMDkyXHU1MThEXHU1RTMwXHU3Njg0XHUzMDZCXHU1M0NFXHU5NkM2KHJlc3VsdFR5cGVuYW1lc1x1MzA3OFx1NjgzQ1x1N0QwRClcbiAgICAgICAgICBjb2xsZWN0VHlwZW5hbWVzKHJlc3VsdC5kYXRhLCByZXN1bHRUeXBlbmFtZXMpO1xuXG4gICAgICAgICAgLy8gXHU0RTAwXHU4MUY0XHUzMDU3XHUzMDVGXHUzMEEyXHUzMEFGXHUzMEM2XHUzMEEzXHUzMEQ2XHUzMEFGXHUzMEE4XHUzMEVBXHUzMDkyXHU1MThEXHU1QjlGXHU4ODRDXG4gICAgICAgICAgZm9yIChjb25zdCBvcCBvZiBhY3RpdmVRdWVyaWVzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAocmVmZXRjaFR5cGVuYW1lcy5zb21lKCh0KSA9PiByZXN1bHRUeXBlbmFtZXMuaGFzKHQpKSkge1xuICAgICAgICAgICAgICBjbGllbnQucmVleGVjdXRlT3BlcmF0aW9uKHtcbiAgICAgICAgICAgICAgICAuLi5vcCxcbiAgICAgICAgICAgICAgICBjb250ZXh0OiB7IC4uLm9wLmNvbnRleHQsIHJlcXVlc3RQb2xpY3k6IFwibmV0d29yay1vbmx5XCIgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9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ZSxLQUFFLE9BQUcsS0FBR2Y7QUFBQSxVQUFFO0FBQUEsUUFBQyxPQUFLO0FBQUMsY0FBRyxHQUFHQSxFQUFDLEVBQUUsT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLFVBQUFDLEdBQUUsUUFBTUEsR0FBRSxRQUFNLFFBQU07QUFBRSxVQUFBZSxLQUFFO0FBQUcsZUFBR2Y7QUFBQSxRQUFDO0FBQUEsTUFBQztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUU7QUFBQyxXQUFJQSxLQUFFQSxHQUFFLFFBQU8sU0FBT0EsTUFBRyxNQUFJQSxHQUFFLE9BQUssTUFBSUEsR0FBRSxPQUFLLE9BQUtBLEdBQUUsTUFBSyxDQUFBQSxLQUFFQSxHQUFFO0FBQU8sV0FBR0E7QUFBQSxJQUFDO0FBQ2hhLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFVBQUdBLE9BQUksR0FBRyxRQUFNO0FBQUcsVUFBRyxDQUFDZSxHQUFFLFFBQU8sR0FBR2YsRUFBQyxHQUFFZSxLQUFFLE1BQUc7QUFBRyxVQUFJO0FBQUUsT0FBQyxJQUFFLE1BQUlmLEdBQUUsUUFBTSxFQUFFLElBQUUsTUFBSUEsR0FBRSxTQUFPLElBQUVBLEdBQUUsTUFBSyxJQUFFLFdBQVMsS0FBRyxXQUFTLEtBQUcsQ0FBQyxHQUFHQSxHQUFFLE1BQUtBLEdBQUUsYUFBYTtBQUFHLFVBQUcsTUFBSSxJQUFFLEtBQUk7QUFBQyxZQUFHLEdBQUdBLEVBQUMsRUFBRSxPQUFNLEdBQUcsR0FBRSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLGVBQUssSUFBRyxJQUFHQyxJQUFFLENBQUMsR0FBRSxJQUFFLEdBQUcsRUFBRSxXQUFXO0FBQUEsTUFBQztBQUFDLFNBQUdBLEVBQUM7QUFBRSxVQUFHLE9BQUtBLEdBQUUsS0FBSTtBQUFDLFFBQUFBLEtBQUVBLEdBQUU7QUFBYyxRQUFBQSxLQUFFLFNBQU9BLEtBQUVBLEdBQUUsYUFBVztBQUFLLFlBQUcsQ0FBQ0EsR0FBRSxPQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUUsV0FBRTtBQUFDLFVBQUFDLEtBQUVBLEdBQUU7QUFBWSxlQUFJLElBQUUsR0FBRUEsTUFBRztBQUFDLGdCQUFHLE1BQUlBLEdBQUUsVUFBUztBQUFDLGtCQUFJQyxLQUFFRCxHQUFFO0FBQUssa0JBQUcsU0FBT0MsSUFBRTtBQUFDLG9CQUFHLE1BQUksR0FBRTtBQUFDLHVCQUFHLEdBQUdELEdBQUUsV0FBVztBQUFFLHdCQUFNO0FBQUEsZ0JBQUM7QUFBQztBQUFBLGNBQUcsTUFBSyxTQUFNQyxNQUFHLFNBQU9BLE1BQUcsU0FBT0EsTUFBRztBQUFBLFlBQUc7QUFBQyxZQUFBRCxLQUFFQSxHQUFFO0FBQUEsVUFBVztBQUFDLGVBQ2pnQjtBQUFBLFFBQUk7QUFBQSxNQUFDLE1BQU0sTUFBRyxLQUFHLEdBQUdBLEdBQUUsVUFBVSxXQUFXLElBQUU7QUFBSyxhQUFNO0FBQUEsSUFBRTtBQUFDLGFBQVMsS0FBSTtBQUFDLGVBQVFBLEtBQUUsSUFBR0EsS0FBRyxDQUFBQSxLQUFFLEdBQUdBLEdBQUUsV0FBVztBQUFBLElBQUM7QUFBQyxhQUFTLEtBQUk7QUFBQyxXQUFHLEtBQUc7QUFBSyxNQUFBZSxLQUFFO0FBQUEsSUFBRTtBQUFDLGFBQVMsR0FBR2YsSUFBRTtBQUFDLGVBQU8sS0FBRyxLQUFHLENBQUNBLEVBQUMsSUFBRSxHQUFHLEtBQUtBLEVBQUM7QUFBQSxJQUFDO0FBQUMsUUFBSSxLQUFHLEdBQUc7QUFDaE0sYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUU7QUFBQyxNQUFBRCxLQUFFQyxHQUFFO0FBQUksVUFBRyxTQUFPRCxNQUFHLGVBQWEsT0FBT0EsTUFBRyxhQUFXLE9BQU9BLElBQUU7QUFBQyxZQUFHQyxHQUFFLFFBQU87QUFBQyxVQUFBQSxLQUFFQSxHQUFFO0FBQU8sY0FBR0EsSUFBRTtBQUFDLGdCQUFHLE1BQUlBLEdBQUUsSUFBSSxPQUFNLE1BQU1GLEdBQUUsR0FBRyxDQUFDO0FBQUUsZ0JBQUlHLEtBQUVELEdBQUU7QUFBQSxVQUFTO0FBQUMsY0FBRyxDQUFDQyxHQUFFLE9BQU0sTUFBTUgsR0FBRSxLQUFJQyxFQUFDLENBQUM7QUFBRSxjQUFJSSxLQUFFRixJQUFFRyxLQUFFLEtBQUdMO0FBQUUsY0FBRyxTQUFPLEtBQUcsU0FBTyxFQUFFLE9BQUssZUFBYSxPQUFPLEVBQUUsT0FBSyxFQUFFLElBQUksZUFBYUssR0FBRSxRQUFPLEVBQUU7QUFBSSxjQUFFLFNBQVNMLElBQUU7QUFBQyxnQkFBSVMsS0FBRUwsR0FBRTtBQUFLLHFCQUFPSixLQUFFLE9BQU9TLEdBQUVKLEVBQUMsSUFBRUksR0FBRUosRUFBQyxJQUFFTDtBQUFBLFVBQUM7QUFBRSxZQUFFLGFBQVdLO0FBQUUsaUJBQU87QUFBQSxRQUFDO0FBQUMsWUFBRyxhQUFXLE9BQU9MLEdBQUUsT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLFlBQUcsQ0FBQ0UsR0FBRSxPQUFPLE9BQU0sTUFBTUYsR0FBRSxLQUFJQyxFQUFDLENBQUM7QUFBQSxNQUFFO0FBQUMsYUFBT0E7QUFBQSxJQUFDO0FBQy9jLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsTUFBQUEsS0FBRSxPQUFPLFVBQVUsU0FBUyxLQUFLLENBQUM7QUFBRSxZQUFNLE1BQU1ELEdBQUUsSUFBRyxzQkFBb0JDLEtBQUUsdUJBQXFCLE9BQU8sS0FBSyxDQUFDLEVBQUUsS0FBSyxJQUFJLElBQUUsTUFBSUEsRUFBQyxDQUFDO0FBQUEsSUFBRTtBQUFDLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFVBQUksSUFBRUEsR0FBRTtBQUFNLGFBQU8sRUFBRUEsR0FBRSxRQUFRO0FBQUEsSUFBQztBQUNyTSxhQUFTLEdBQUdBLElBQUU7QUFBQyxlQUFTLEVBQUVTLElBQUVSLElBQUU7QUFBQyxZQUFHRCxJQUFFO0FBQUMsY0FBSUUsS0FBRU8sR0FBRTtBQUFVLG1CQUFPUCxNQUFHTyxHQUFFLFlBQVUsQ0FBQ1IsRUFBQyxHQUFFUSxHQUFFLFNBQU8sTUFBSVAsR0FBRSxLQUFLRCxFQUFDO0FBQUEsUUFBQztBQUFBLE1BQUM7QUFBQyxlQUFTQSxHQUFFQSxJQUFFQyxJQUFFO0FBQUMsWUFBRyxDQUFDRixHQUFFLFFBQU87QUFBSyxlQUFLLFNBQU9FLEtBQUcsR0FBRUQsSUFBRUMsRUFBQyxHQUFFQSxLQUFFQSxHQUFFO0FBQVEsZUFBTztBQUFBLE1BQUk7QUFBQyxlQUFTQSxHQUFFRixJQUFFUyxJQUFFO0FBQUMsYUFBSVQsS0FBRSxvQkFBSSxPQUFJLFNBQU9TLEtBQUcsVUFBT0EsR0FBRSxNQUFJVCxHQUFFLElBQUlTLEdBQUUsS0FBSUEsRUFBQyxJQUFFVCxHQUFFLElBQUlTLEdBQUUsT0FBTUEsRUFBQyxHQUFFQSxLQUFFQSxHQUFFO0FBQVEsZUFBT1Q7QUFBQSxNQUFDO0FBQUMsZUFBU0ksR0FBRUosSUFBRVMsSUFBRTtBQUFDLFFBQUFULEtBQUUsR0FBR0EsSUFBRVMsRUFBQztBQUFFLFFBQUFULEdBQUUsUUFBTTtBQUFFLFFBQUFBLEdBQUUsVUFBUTtBQUFLLGVBQU9BO0FBQUEsTUFBQztBQUFDLGVBQVNLLEdBQUVJLElBQUVSLElBQUVDLElBQUU7QUFBQyxRQUFBTyxHQUFFLFFBQU1QO0FBQUUsWUFBRyxDQUFDRixHQUFFLFFBQU9TLEdBQUUsU0FBTyxTQUFRUjtBQUFFLFFBQUFDLEtBQUVPLEdBQUU7QUFBVSxZQUFHLFNBQU9QLEdBQUUsUUFBT0EsS0FBRUEsR0FBRSxPQUFNQSxLQUFFRCxNQUFHUSxHQUFFLFNBQU8sR0FBRVIsTUFBR0M7QUFBRSxRQUFBTyxHQUFFLFNBQU87QUFBRSxlQUFPUjtBQUFBLE1BQUM7QUFBQyxlQUFTLEVBQUVRLElBQUU7QUFBQyxRQUFBVCxNQUM3ZixTQUFPUyxHQUFFLGNBQVlBLEdBQUUsU0FBTztBQUFHLGVBQU9BO0FBQUEsTUFBQztBQUFDLGVBQVNGLEdBQUVQLElBQUVTLElBQUVSLElBQUVDLElBQUU7QUFBQyxZQUFHLFNBQU9PLE1BQUcsTUFBSUEsR0FBRSxJQUFJLFFBQU9BLEtBQUUsR0FBR1IsSUFBRUQsR0FBRSxNQUFLRSxFQUFDLEdBQUVPLEdBQUUsU0FBT1QsSUFBRVM7QUFBRSxRQUFBQSxLQUFFTCxHQUFFSyxJQUFFUixFQUFDO0FBQUUsUUFBQVEsR0FBRSxTQUFPVDtBQUFFLGVBQU9TO0FBQUEsTUFBQztBQUFDLGVBQVMsRUFBRVQsSUFBRVMsSUFBRVIsSUFBRUMsSUFBRTtBQUFDLFlBQUlHLEtBQUVKLEdBQUU7QUFBSyxZQUFHSSxPQUFJLEdBQUcsUUFBTyxFQUFFTCxJQUFFUyxJQUFFUixHQUFFLE1BQU0sVUFBU0MsSUFBRUQsR0FBRSxHQUFHO0FBQUUsWUFBRyxTQUFPUSxPQUFJQSxHQUFFLGdCQUFjSixNQUFHLGFBQVcsT0FBT0EsTUFBRyxTQUFPQSxNQUFHQSxHQUFFLGFBQVcsTUFBSSxHQUFHQSxFQUFDLE1BQUlJLEdBQUUsTUFBTSxRQUFPUCxLQUFFRSxHQUFFSyxJQUFFUixHQUFFLEtBQUssR0FBRUMsR0FBRSxNQUFJLEdBQUdGLElBQUVTLElBQUVSLEVBQUMsR0FBRUMsR0FBRSxTQUFPRixJQUFFRTtBQUFFLFFBQUFBLEtBQUUsR0FBR0QsR0FBRSxNQUFLQSxHQUFFLEtBQUlBLEdBQUUsT0FBTSxNQUFLRCxHQUFFLE1BQUtFLEVBQUM7QUFBRSxRQUFBQSxHQUFFLE1BQUksR0FBR0YsSUFBRVMsSUFBRVIsRUFBQztBQUFFLFFBQUFDLEdBQUUsU0FBT0Y7QUFBRSxlQUFPRTtBQUFBLE1BQUM7QUFBQyxlQUFTSSxHQUFFTixJQUFFUyxJQUFFUixJQUFFQyxJQUFFO0FBQUMsWUFBRyxTQUFPTyxNQUFHLE1BQUlBLEdBQUUsT0FDamZBLEdBQUUsVUFBVSxrQkFBZ0JSLEdBQUUsaUJBQWVRLEdBQUUsVUFBVSxtQkFBaUJSLEdBQUUsZUFBZSxRQUFPUSxLQUFFLEdBQUdSLElBQUVELEdBQUUsTUFBS0UsRUFBQyxHQUFFTyxHQUFFLFNBQU9ULElBQUVTO0FBQUUsUUFBQUEsS0FBRUwsR0FBRUssSUFBRVIsR0FBRSxZQUFVLENBQUMsQ0FBQztBQUFFLFFBQUFRLEdBQUUsU0FBT1Q7QUFBRSxlQUFPUztBQUFBLE1BQUM7QUFBQyxlQUFTLEVBQUVULElBQUVTLElBQUVSLElBQUVDLElBQUVHLElBQUU7QUFBQyxZQUFHLFNBQU9JLE1BQUcsTUFBSUEsR0FBRSxJQUFJLFFBQU9BLEtBQUUsR0FBR1IsSUFBRUQsR0FBRSxNQUFLRSxJQUFFRyxFQUFDLEdBQUVJLEdBQUUsU0FBT1QsSUFBRVM7QUFBRSxRQUFBQSxLQUFFTCxHQUFFSyxJQUFFUixFQUFDO0FBQUUsUUFBQVEsR0FBRSxTQUFPVDtBQUFFLGVBQU9TO0FBQUEsTUFBQztBQUFDLGVBQVMsRUFBRVQsSUFBRVMsSUFBRVIsSUFBRTtBQUFDLFlBQUcsYUFBVyxPQUFPUSxNQUFHLE9BQUtBLE1BQUcsYUFBVyxPQUFPQSxHQUFFLFFBQU9BLEtBQUUsR0FBRyxLQUFHQSxJQUFFVCxHQUFFLE1BQUtDLEVBQUMsR0FBRVEsR0FBRSxTQUFPVCxJQUFFUztBQUFFLFlBQUcsYUFBVyxPQUFPQSxNQUFHLFNBQU9BLElBQUU7QUFBQyxrQkFBT0EsR0FBRSxVQUFTO0FBQUEsWUFBQyxLQUFLO0FBQUcscUJBQU9SLEtBQUUsR0FBR1EsR0FBRSxNQUFLQSxHQUFFLEtBQUlBLEdBQUUsT0FBTSxNQUFLVCxHQUFFLE1BQUtDLEVBQUMsR0FDcGZBLEdBQUUsTUFBSSxHQUFHRCxJQUFFLE1BQUtTLEVBQUMsR0FBRVIsR0FBRSxTQUFPRCxJQUFFQztBQUFBLFlBQUUsS0FBSztBQUFHLHFCQUFPUSxLQUFFLEdBQUdBLElBQUVULEdBQUUsTUFBS0MsRUFBQyxHQUFFUSxHQUFFLFNBQU9ULElBQUVTO0FBQUEsWUFBRSxLQUFLO0FBQUcsa0JBQUlQLEtBQUVPLEdBQUU7QUFBTSxxQkFBTyxFQUFFVCxJQUFFRSxHQUFFTyxHQUFFLFFBQVEsR0FBRVIsRUFBQztBQUFBLFVBQUM7QUFBQyxjQUFHLEdBQUdRLEVBQUMsS0FBRyxHQUFHQSxFQUFDLEVBQUUsUUFBT0EsS0FBRSxHQUFHQSxJQUFFVCxHQUFFLE1BQUtDLElBQUUsSUFBSSxHQUFFUSxHQUFFLFNBQU9ULElBQUVTO0FBQUUsYUFBR1QsSUFBRVMsRUFBQztBQUFBLFFBQUM7QUFBQyxlQUFPO0FBQUEsTUFBSTtBQUFDLGVBQVNPLEdBQUVoQixJQUFFUyxJQUFFUixJQUFFQyxJQUFFO0FBQUMsWUFBSUUsS0FBRSxTQUFPSyxLQUFFQSxHQUFFLE1BQUk7QUFBSyxZQUFHLGFBQVcsT0FBT1IsTUFBRyxPQUFLQSxNQUFHLGFBQVcsT0FBT0EsR0FBRSxRQUFPLFNBQU9HLEtBQUUsT0FBS0csR0FBRVAsSUFBRVMsSUFBRSxLQUFHUixJQUFFQyxFQUFDO0FBQUUsWUFBRyxhQUFXLE9BQU9ELE1BQUcsU0FBT0EsSUFBRTtBQUFDLGtCQUFPQSxHQUFFLFVBQVM7QUFBQSxZQUFDLEtBQUs7QUFBRyxxQkFBT0EsR0FBRSxRQUFNRyxLQUFFLEVBQUVKLElBQUVTLElBQUVSLElBQUVDLEVBQUMsSUFBRTtBQUFBLFlBQUssS0FBSztBQUFHLHFCQUFPRCxHQUFFLFFBQU1HLEtBQUVFLEdBQUVOLElBQUVTLElBQUVSLElBQUVDLEVBQUMsSUFBRTtBQUFBLFlBQUssS0FBSztBQUFHLHFCQUFPRSxLQUFFSCxHQUFFLE9BQU1lO0FBQUEsZ0JBQUVoQjtBQUFBLGdCQUNwZlM7QUFBQSxnQkFBRUwsR0FBRUgsR0FBRSxRQUFRO0FBQUEsZ0JBQUVDO0FBQUEsY0FBQztBQUFBLFVBQUM7QUFBQyxjQUFHLEdBQUdELEVBQUMsS0FBRyxHQUFHQSxFQUFDLEVBQUUsUUFBTyxTQUFPRyxLQUFFLE9BQUssRUFBRUosSUFBRVMsSUFBRVIsSUFBRUMsSUFBRSxJQUFJO0FBQUUsYUFBR0YsSUFBRUMsRUFBQztBQUFBLFFBQUM7QUFBQyxlQUFPO0FBQUEsTUFBSTtBQUFDLGVBQVNnQixHQUFFakIsSUFBRVMsSUFBRVIsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLFlBQUcsYUFBVyxPQUFPRixNQUFHLE9BQUtBLE1BQUcsYUFBVyxPQUFPQSxHQUFFLFFBQU9GLEtBQUVBLEdBQUUsSUFBSUMsRUFBQyxLQUFHLE1BQUtNLEdBQUVFLElBQUVULElBQUUsS0FBR0UsSUFBRUUsRUFBQztBQUFFLFlBQUcsYUFBVyxPQUFPRixNQUFHLFNBQU9BLElBQUU7QUFBQyxrQkFBT0EsR0FBRSxVQUFTO0FBQUEsWUFBQyxLQUFLO0FBQUcscUJBQU9GLEtBQUVBLEdBQUUsSUFBSSxTQUFPRSxHQUFFLE1BQUlELEtBQUVDLEdBQUUsR0FBRyxLQUFHLE1BQUssRUFBRU8sSUFBRVQsSUFBRUUsSUFBRUUsRUFBQztBQUFBLFlBQUUsS0FBSztBQUFHLHFCQUFPSixLQUFFQSxHQUFFLElBQUksU0FBT0UsR0FBRSxNQUFJRCxLQUFFQyxHQUFFLEdBQUcsS0FBRyxNQUFLSSxHQUFFRyxJQUFFVCxJQUFFRSxJQUFFRSxFQUFDO0FBQUEsWUFBRSxLQUFLO0FBQUcsa0JBQUlDLEtBQUVILEdBQUU7QUFBTSxxQkFBT2UsR0FBRWpCLElBQUVTLElBQUVSLElBQUVJLEdBQUVILEdBQUUsUUFBUSxHQUFFRSxFQUFDO0FBQUEsVUFBQztBQUFDLGNBQUcsR0FBR0YsRUFBQyxLQUFHLEdBQUdBLEVBQUMsRUFBRSxRQUFPRixLQUFFQSxHQUFFLElBQUlDLEVBQUMsS0FBRyxNQUFLLEVBQUVRLElBQUVULElBQUVFLElBQUVFLElBQUUsSUFBSTtBQUFFLGFBQUdLLElBQUVQLEVBQUM7QUFBQSxRQUFDO0FBQUMsZUFBTztBQUFBLE1BQUk7QUFDOWYsZUFBU1UsR0FBRVIsSUFBRU0sSUFBRUgsSUFBRUksSUFBRTtBQUFDLGlCQUFRTCxLQUFFLE1BQUtZLEtBQUUsTUFBS0osS0FBRUosSUFBRSxJQUFFQSxLQUFFLEdBQUUsSUFBRSxNQUFLLFNBQU9JLE1BQUcsSUFBRVAsR0FBRSxRQUFPLEtBQUk7QUFBQyxVQUFBTyxHQUFFLFFBQU0sS0FBRyxJQUFFQSxJQUFFQSxLQUFFLFFBQU0sSUFBRUEsR0FBRTtBQUFRLGNBQUlGLEtBQUVJLEdBQUVaLElBQUVVLElBQUVQLEdBQUUsQ0FBQyxHQUFFSSxFQUFDO0FBQUUsY0FBRyxTQUFPQyxJQUFFO0FBQUMscUJBQU9FLE9BQUlBLEtBQUU7QUFBRztBQUFBLFVBQUs7QUFBQyxVQUFBZCxNQUFHYyxNQUFHLFNBQU9GLEdBQUUsYUFBVyxFQUFFUixJQUFFVSxFQUFDO0FBQUUsVUFBQUosS0FBRUwsR0FBRU8sSUFBRUYsSUFBRSxDQUFDO0FBQUUsbUJBQU9RLEtBQUVaLEtBQUVNLEtBQUVNLEdBQUUsVUFBUU47QUFBRSxVQUFBTSxLQUFFTjtBQUFFLFVBQUFFLEtBQUU7QUFBQSxRQUFDO0FBQUMsWUFBRyxNQUFJUCxHQUFFLE9BQU8sUUFBT04sR0FBRUcsSUFBRVUsRUFBQyxHQUFFQyxNQUFHLEdBQUdYLElBQUUsQ0FBQyxHQUFFRTtBQUFFLFlBQUcsU0FBT1EsSUFBRTtBQUFDLGlCQUFLLElBQUVQLEdBQUUsUUFBTyxJQUFJLENBQUFPLEtBQUUsRUFBRVYsSUFBRUcsR0FBRSxDQUFDLEdBQUVJLEVBQUMsR0FBRSxTQUFPRyxPQUFJSixLQUFFTCxHQUFFUyxJQUFFSixJQUFFLENBQUMsR0FBRSxTQUFPUSxLQUFFWixLQUFFUSxLQUFFSSxHQUFFLFVBQVFKLElBQUVJLEtBQUVKO0FBQUcsVUFBQUMsTUFBRyxHQUFHWCxJQUFFLENBQUM7QUFBRSxpQkFBT0U7QUFBQSxRQUFDO0FBQUMsYUFBSVEsS0FBRVosR0FBRUUsSUFBRVUsRUFBQyxHQUFFLElBQUVQLEdBQUUsUUFBTyxJQUFJLEtBQUVVLEdBQUVILElBQUVWLElBQUUsR0FBRUcsR0FBRSxDQUFDLEdBQUVJLEVBQUMsR0FBRSxTQUFPLE1BQUlYLE1BQUcsU0FBTyxFQUFFLGFBQVdjLEdBQUUsT0FBTyxTQUN2ZixFQUFFLE1BQUksSUFBRSxFQUFFLEdBQUcsR0FBRUosS0FBRUwsR0FBRSxHQUFFSyxJQUFFLENBQUMsR0FBRSxTQUFPUSxLQUFFWixLQUFFLElBQUVZLEdBQUUsVUFBUSxHQUFFQSxLQUFFO0FBQUcsUUFBQWxCLE1BQUdjLEdBQUUsUUFBUSxTQUFTZCxJQUFFO0FBQUMsaUJBQU8sRUFBRUksSUFBRUosRUFBQztBQUFBLFFBQUMsQ0FBQztBQUFFLFFBQUFlLE1BQUcsR0FBR1gsSUFBRSxDQUFDO0FBQUUsZUFBT0U7QUFBQSxNQUFDO0FBQUMsZUFBU08sR0FBRVQsSUFBRU0sSUFBRUgsSUFBRUksSUFBRTtBQUFDLFlBQUlMLEtBQUUsR0FBR0MsRUFBQztBQUFFLFlBQUcsZUFBYSxPQUFPRCxHQUFFLE9BQU0sTUFBTVAsR0FBRSxHQUFHLENBQUM7QUFBRSxRQUFBUSxLQUFFRCxHQUFFLEtBQUtDLEVBQUM7QUFBRSxZQUFHLFFBQU1BLEdBQUUsT0FBTSxNQUFNUixHQUFFLEdBQUcsQ0FBQztBQUFFLGlCQUFRZSxLQUFFUixLQUFFLE1BQUtZLEtBQUVSLElBQUUsSUFBRUEsS0FBRSxHQUFFLElBQUUsTUFBS0UsS0FBRUwsR0FBRSxLQUFLLEdBQUUsU0FBT1csTUFBRyxDQUFDTixHQUFFLE1BQUssS0FBSUEsS0FBRUwsR0FBRSxLQUFLLEdBQUU7QUFBQyxVQUFBVyxHQUFFLFFBQU0sS0FBRyxJQUFFQSxJQUFFQSxLQUFFLFFBQU0sSUFBRUEsR0FBRTtBQUFRLGNBQUlMLEtBQUVHLEdBQUVaLElBQUVjLElBQUVOLEdBQUUsT0FBTUQsRUFBQztBQUFFLGNBQUcsU0FBT0UsSUFBRTtBQUFDLHFCQUFPSyxPQUFJQSxLQUFFO0FBQUc7QUFBQSxVQUFLO0FBQUMsVUFBQWxCLE1BQUdrQixNQUFHLFNBQU9MLEdBQUUsYUFBVyxFQUFFVCxJQUFFYyxFQUFDO0FBQUUsVUFBQVIsS0FBRUwsR0FBRVEsSUFBRUgsSUFBRSxDQUFDO0FBQUUsbUJBQU9JLEtBQUVSLEtBQUVPLEtBQUVDLEdBQUUsVUFBUUQ7QUFBRSxVQUFBQyxLQUFFRDtBQUFFLFVBQUFLLEtBQUU7QUFBQSxRQUFDO0FBQUMsWUFBR04sR0FBRSxLQUFLLFFBQU9YO0FBQUEsVUFBRUc7QUFBQSxVQUN6ZmM7QUFBQSxRQUFDLEdBQUVILE1BQUcsR0FBR1gsSUFBRSxDQUFDLEdBQUVFO0FBQUUsWUFBRyxTQUFPWSxJQUFFO0FBQUMsaUJBQUssQ0FBQ04sR0FBRSxNQUFLLEtBQUlBLEtBQUVMLEdBQUUsS0FBSyxFQUFFLENBQUFLLEtBQUUsRUFBRVIsSUFBRVEsR0FBRSxPQUFNRCxFQUFDLEdBQUUsU0FBT0MsT0FBSUYsS0FBRUwsR0FBRU8sSUFBRUYsSUFBRSxDQUFDLEdBQUUsU0FBT0ksS0FBRVIsS0FBRU0sS0FBRUUsR0FBRSxVQUFRRixJQUFFRSxLQUFFRjtBQUFHLFVBQUFHLE1BQUcsR0FBR1gsSUFBRSxDQUFDO0FBQUUsaUJBQU9FO0FBQUEsUUFBQztBQUFDLGFBQUlZLEtBQUVoQixHQUFFRSxJQUFFYyxFQUFDLEdBQUUsQ0FBQ04sR0FBRSxNQUFLLEtBQUlBLEtBQUVMLEdBQUUsS0FBSyxFQUFFLENBQUFLLEtBQUVLLEdBQUVDLElBQUVkLElBQUUsR0FBRVEsR0FBRSxPQUFNRCxFQUFDLEdBQUUsU0FBT0MsT0FBSVosTUFBRyxTQUFPWSxHQUFFLGFBQVdNLEdBQUUsT0FBTyxTQUFPTixHQUFFLE1BQUksSUFBRUEsR0FBRSxHQUFHLEdBQUVGLEtBQUVMLEdBQUVPLElBQUVGLElBQUUsQ0FBQyxHQUFFLFNBQU9JLEtBQUVSLEtBQUVNLEtBQUVFLEdBQUUsVUFBUUYsSUFBRUUsS0FBRUY7QUFBRyxRQUFBWixNQUFHa0IsR0FBRSxRQUFRLFNBQVNsQixJQUFFO0FBQUMsaUJBQU8sRUFBRUksSUFBRUosRUFBQztBQUFBLFFBQUMsQ0FBQztBQUFFLFFBQUFlLE1BQUcsR0FBR1gsSUFBRSxDQUFDO0FBQUUsZUFBT0U7QUFBQSxNQUFDO0FBQUMsZUFBUyxFQUFFTixJQUFFRSxJQUFFRyxJQUFFRSxJQUFFO0FBQUMscUJBQVcsT0FBT0YsTUFBRyxTQUFPQSxNQUFHQSxHQUFFLFNBQU8sTUFBSSxTQUFPQSxHQUFFLFFBQU1BLEtBQUVBLEdBQUUsTUFBTTtBQUFVLFlBQUcsYUFBVyxPQUFPQSxNQUFHLFNBQU9BLElBQUU7QUFBQyxrQkFBT0EsR0FBRSxVQUFTO0FBQUEsWUFBQyxLQUFLO0FBQUcsaUJBQUU7QUFBQyx5QkFBUU0sS0FDN2hCTixHQUFFLEtBQUlDLEtBQUVKLElBQUUsU0FBT0ksTUFBRztBQUFDLHNCQUFHQSxHQUFFLFFBQU1LLElBQUU7QUFBQyxvQkFBQUEsS0FBRU4sR0FBRTtBQUFLLHdCQUFHTSxPQUFJLElBQUc7QUFBQywwQkFBRyxNQUFJTCxHQUFFLEtBQUk7QUFBQyx3QkFBQUwsR0FBRUQsSUFBRU0sR0FBRSxPQUFPO0FBQUUsd0JBQUFKLEtBQUVFLEdBQUVFLElBQUVELEdBQUUsTUFBTSxRQUFRO0FBQUUsd0JBQUFILEdBQUUsU0FBT0Y7QUFBRSx3QkFBQUEsS0FBRUU7QUFBRSw4QkFBTTtBQUFBLHNCQUFDO0FBQUEsb0JBQUMsV0FBU0ksR0FBRSxnQkFBY0ssTUFBRyxhQUFXLE9BQU9BLE1BQUcsU0FBT0EsTUFBR0EsR0FBRSxhQUFXLE1BQUksR0FBR0EsRUFBQyxNQUFJTCxHQUFFLE1BQUs7QUFBQyxzQkFBQUwsR0FBRUQsSUFBRU0sR0FBRSxPQUFPO0FBQUUsc0JBQUFKLEtBQUVFLEdBQUVFLElBQUVELEdBQUUsS0FBSztBQUFFLHNCQUFBSCxHQUFFLE1BQUksR0FBR0YsSUFBRU0sSUFBRUQsRUFBQztBQUFFLHNCQUFBSCxHQUFFLFNBQU9GO0FBQUUsc0JBQUFBLEtBQUVFO0FBQUUsNEJBQU07QUFBQSxvQkFBQztBQUFDLG9CQUFBRCxHQUFFRCxJQUFFTSxFQUFDO0FBQUU7QUFBQSxrQkFBSyxNQUFNLEdBQUVOLElBQUVNLEVBQUM7QUFBRSxrQkFBQUEsS0FBRUEsR0FBRTtBQUFBLGdCQUFPO0FBQUMsZ0JBQUFELEdBQUUsU0FBTyxNQUFJSCxLQUFFLEdBQUdHLEdBQUUsTUFBTSxVQUFTTCxHQUFFLE1BQUtPLElBQUVGLEdBQUUsR0FBRyxHQUFFSCxHQUFFLFNBQU9GLElBQUVBLEtBQUVFLE9BQUlLLEtBQUUsR0FBR0YsR0FBRSxNQUFLQSxHQUFFLEtBQUlBLEdBQUUsT0FBTSxNQUFLTCxHQUFFLE1BQUtPLEVBQUMsR0FBRUEsR0FBRSxNQUFJLEdBQUdQLElBQUVFLElBQUVHLEVBQUMsR0FBRUUsR0FBRSxTQUFPUCxJQUFFQSxLQUFFTztBQUFBLGNBQUU7QUFBQyxxQkFBTyxFQUFFUCxFQUFDO0FBQUEsWUFBRSxLQUFLO0FBQUcsaUJBQUU7QUFBQyxxQkFBSU0sS0FBRUQsR0FBRSxLQUFJLFNBQ3pmSCxNQUFHO0FBQUMsc0JBQUdBLEdBQUUsUUFBTUksR0FBRSxLQUFHLE1BQUlKLEdBQUUsT0FBS0EsR0FBRSxVQUFVLGtCQUFnQkcsR0FBRSxpQkFBZUgsR0FBRSxVQUFVLG1CQUFpQkcsR0FBRSxnQkFBZTtBQUFDLG9CQUFBSixHQUFFRCxJQUFFRSxHQUFFLE9BQU87QUFBRSxvQkFBQUEsS0FBRUUsR0FBRUYsSUFBRUcsR0FBRSxZQUFVLENBQUMsQ0FBQztBQUFFLG9CQUFBSCxHQUFFLFNBQU9GO0FBQUUsb0JBQUFBLEtBQUVFO0FBQUUsMEJBQU07QUFBQSxrQkFBQyxPQUFLO0FBQUMsb0JBQUFELEdBQUVELElBQUVFLEVBQUM7QUFBRTtBQUFBLGtCQUFLO0FBQUEsc0JBQU0sR0FBRUYsSUFBRUUsRUFBQztBQUFFLGtCQUFBQSxLQUFFQSxHQUFFO0FBQUEsZ0JBQU87QUFBQyxnQkFBQUEsS0FBRSxHQUFHRyxJQUFFTCxHQUFFLE1BQUtPLEVBQUM7QUFBRSxnQkFBQUwsR0FBRSxTQUFPRjtBQUFFLGdCQUFBQSxLQUFFRTtBQUFBLGNBQUM7QUFBQyxxQkFBTyxFQUFFRixFQUFDO0FBQUEsWUFBRSxLQUFLO0FBQUcscUJBQU9NLEtBQUVELEdBQUUsT0FBTSxFQUFFTCxJQUFFRSxJQUFFSSxHQUFFRCxHQUFFLFFBQVEsR0FBRUUsRUFBQztBQUFBLFVBQUM7QUFBQyxjQUFHLEdBQUdGLEVBQUMsRUFBRSxRQUFPTyxHQUFFWixJQUFFRSxJQUFFRyxJQUFFRSxFQUFDO0FBQUUsY0FBRyxHQUFHRixFQUFDLEVBQUUsUUFBT1EsR0FBRWIsSUFBRUUsSUFBRUcsSUFBRUUsRUFBQztBQUFFLGFBQUdQLElBQUVLLEVBQUM7QUFBQSxRQUFDO0FBQUMsZUFBTSxhQUFXLE9BQU9BLE1BQUcsT0FBS0EsTUFBRyxhQUFXLE9BQU9BLE1BQUdBLEtBQUUsS0FBR0EsSUFBRSxTQUFPSCxNQUFHLE1BQUlBLEdBQUUsT0FBS0QsR0FBRUQsSUFBRUUsR0FBRSxPQUFPLEdBQUVBLEtBQUVFLEdBQUVGLElBQUVHLEVBQUMsR0FBRUgsR0FBRSxTQUFPRixJQUFFQSxLQUFFRSxPQUNuZkQsR0FBRUQsSUFBRUUsRUFBQyxHQUFFQSxLQUFFLEdBQUdHLElBQUVMLEdBQUUsTUFBS08sRUFBQyxHQUFFTCxHQUFFLFNBQU9GLElBQUVBLEtBQUVFLEtBQUcsRUFBRUYsRUFBQyxLQUFHQyxHQUFFRCxJQUFFRSxFQUFDO0FBQUEsTUFBQztBQUFDLGFBQU87QUFBQSxJQUFDO0FBQUMsUUFBSSxLQUFHLEdBQUcsSUFBRTtBQUFaLFFBQWMsS0FBRyxHQUFHLEtBQUU7QUFBdEIsUUFBd0IsS0FBRyxHQUFHLElBQUk7QUFBbEMsUUFBb0MsS0FBRztBQUF2QyxRQUE0QyxLQUFHO0FBQS9DLFFBQW9ELEtBQUc7QUFBSyxhQUFTLEtBQUk7QUFBQyxXQUFHLEtBQUcsS0FBRztBQUFBLElBQUk7QUFBQyxhQUFTLEdBQUdGLElBQUU7QUFBQyxVQUFJLElBQUUsR0FBRztBQUFRLFFBQUUsRUFBRTtBQUFFLE1BQUFBLEdBQUUsZ0JBQWM7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUU7QUFBQyxhQUFLLFNBQU9ELE1BQUc7QUFBQyxZQUFJRSxLQUFFRixHQUFFO0FBQVUsU0FBQ0EsR0FBRSxhQUFXLE9BQUssS0FBR0EsR0FBRSxjQUFZLEdBQUUsU0FBT0UsT0FBSUEsR0FBRSxjQUFZLE1BQUksU0FBT0EsT0FBSUEsR0FBRSxhQUFXLE9BQUssTUFBSUEsR0FBRSxjQUFZO0FBQUcsWUFBR0YsT0FBSUMsR0FBRTtBQUFNLFFBQUFELEtBQUVBLEdBQUU7QUFBQSxNQUFNO0FBQUEsSUFBQztBQUNuWixhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLFdBQUdBO0FBQUUsV0FBRyxLQUFHO0FBQUssTUFBQUEsS0FBRUEsR0FBRTtBQUFhLGVBQU9BLE1BQUcsU0FBT0EsR0FBRSxpQkFBZSxPQUFLQSxHQUFFLFFBQU0sT0FBSyxLQUFHLE9BQUlBLEdBQUUsZUFBYTtBQUFBLElBQUs7QUFBQyxhQUFTLEdBQUdBLElBQUU7QUFBQyxVQUFJLElBQUVBLEdBQUU7QUFBYyxVQUFHLE9BQUtBLEdBQUUsS0FBR0EsS0FBRSxFQUFDLFNBQVFBLElBQUUsZUFBYyxHQUFFLE1BQUssS0FBSSxHQUFFLFNBQU8sSUFBRztBQUFDLFlBQUcsU0FBTyxHQUFHLE9BQU0sTUFBTUQsR0FBRSxHQUFHLENBQUM7QUFBRSxhQUFHQztBQUFFLFdBQUcsZUFBYSxFQUFDLE9BQU0sR0FBRSxjQUFhQSxHQUFDO0FBQUEsTUFBQyxNQUFNLE1BQUcsR0FBRyxPQUFLQTtBQUFFLGFBQU87QUFBQSxJQUFDO0FBQUMsUUFBSSxLQUFHO0FBQUssYUFBUyxHQUFHQSxJQUFFO0FBQUMsZUFBTyxLQUFHLEtBQUcsQ0FBQ0EsRUFBQyxJQUFFLEdBQUcsS0FBS0EsRUFBQztBQUFBLElBQUM7QUFDdlksYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxVQUFJRSxLQUFFLEVBQUU7QUFBWSxlQUFPQSxNQUFHSCxHQUFFLE9BQUtBLElBQUUsR0FBRyxDQUFDLE1BQUlBLEdBQUUsT0FBS0csR0FBRSxNQUFLQSxHQUFFLE9BQUtIO0FBQUcsUUFBRSxjQUFZQTtBQUFFLGFBQU8sR0FBR0QsSUFBRUUsRUFBQztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdGLElBQUUsR0FBRTtBQUFDLE1BQUFBLEdBQUUsU0FBTztBQUFFLFVBQUlDLEtBQUVELEdBQUU7QUFBVSxlQUFPQyxPQUFJQSxHQUFFLFNBQU87QUFBRyxNQUFBQSxLQUFFRDtBQUFFLFdBQUlBLEtBQUVBLEdBQUUsUUFBTyxTQUFPQSxLQUFHLENBQUFBLEdBQUUsY0FBWSxHQUFFQyxLQUFFRCxHQUFFLFdBQVUsU0FBT0MsT0FBSUEsR0FBRSxjQUFZLElBQUdBLEtBQUVELElBQUVBLEtBQUVBLEdBQUU7QUFBTyxhQUFPLE1BQUlDLEdBQUUsTUFBSUEsR0FBRSxZQUFVO0FBQUEsSUFBSTtBQUFDLFFBQUksS0FBRztBQUFHLGFBQVMsR0FBR0QsSUFBRTtBQUFDLE1BQUFBLEdBQUUsY0FBWSxFQUFDLFdBQVVBLEdBQUUsZUFBYyxpQkFBZ0IsTUFBSyxnQkFBZSxNQUFLLFFBQU8sRUFBQyxTQUFRLE1BQUssYUFBWSxNQUFLLE9BQU0sRUFBQyxHQUFFLFNBQVEsS0FBSTtBQUFBLElBQUM7QUFDL2UsYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxNQUFBQSxLQUFFQSxHQUFFO0FBQVksUUFBRSxnQkFBY0EsT0FBSSxFQUFFLGNBQVksRUFBQyxXQUFVQSxHQUFFLFdBQVUsaUJBQWdCQSxHQUFFLGlCQUFnQixnQkFBZUEsR0FBRSxnQkFBZSxRQUFPQSxHQUFFLFFBQU8sU0FBUUEsR0FBRSxRQUFPO0FBQUEsSUFBRTtBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsYUFBTSxFQUFDLFdBQVVBLElBQUUsTUFBSyxHQUFFLEtBQUksR0FBRSxTQUFRLE1BQUssVUFBUyxNQUFLLE1BQUssS0FBSTtBQUFBLElBQUM7QUFDdFIsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUU7QUFBQyxVQUFJQyxLQUFFRixHQUFFO0FBQVksVUFBRyxTQUFPRSxHQUFFLFFBQU87QUFBSyxNQUFBQSxLQUFFQSxHQUFFO0FBQU8sVUFBRyxPQUFLLElBQUUsSUFBRztBQUFDLFlBQUlFLEtBQUVGLEdBQUU7QUFBUSxpQkFBT0UsS0FBRSxFQUFFLE9BQUssS0FBRyxFQUFFLE9BQUtBLEdBQUUsTUFBS0EsR0FBRSxPQUFLO0FBQUcsUUFBQUYsR0FBRSxVQUFRO0FBQUUsZUFBTyxHQUFHRixJQUFFQyxFQUFDO0FBQUEsTUFBQztBQUFDLE1BQUFHLEtBQUVGLEdBQUU7QUFBWSxlQUFPRSxNQUFHLEVBQUUsT0FBSyxHQUFFLEdBQUdGLEVBQUMsTUFBSSxFQUFFLE9BQUtFLEdBQUUsTUFBS0EsR0FBRSxPQUFLO0FBQUcsTUFBQUYsR0FBRSxjQUFZO0FBQUUsYUFBTyxHQUFHRixJQUFFQyxFQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBRSxFQUFFO0FBQVksVUFBRyxTQUFPLE1BQUksSUFBRSxFQUFFLFFBQU8sT0FBS0EsS0FBRSxXQUFVO0FBQUMsWUFBSUMsS0FBRSxFQUFFO0FBQU0sUUFBQUEsTUFBR0YsR0FBRTtBQUFhLFFBQUFDLE1BQUdDO0FBQUUsVUFBRSxRQUFNRDtBQUFFLFdBQUdELElBQUVDLEVBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUNyWixhQUFTLEdBQUdELElBQUUsR0FBRTtBQUFDLFVBQUlDLEtBQUVELEdBQUUsYUFBWUUsS0FBRUYsR0FBRTtBQUFVLFVBQUcsU0FBT0UsT0FBSUEsS0FBRUEsR0FBRSxhQUFZRCxPQUFJQyxLQUFHO0FBQUMsWUFBSUUsS0FBRSxNQUFLQyxLQUFFO0FBQUssUUFBQUosS0FBRUEsR0FBRTtBQUFnQixZQUFHLFNBQU9BLElBQUU7QUFBQyxhQUFFO0FBQUMsZ0JBQUksSUFBRSxFQUFDLFdBQVVBLEdBQUUsV0FBVSxNQUFLQSxHQUFFLE1BQUssS0FBSUEsR0FBRSxLQUFJLFNBQVFBLEdBQUUsU0FBUSxVQUFTQSxHQUFFLFVBQVMsTUFBSyxLQUFJO0FBQUUscUJBQU9JLEtBQUVELEtBQUVDLEtBQUUsSUFBRUEsS0FBRUEsR0FBRSxPQUFLO0FBQUUsWUFBQUosS0FBRUEsR0FBRTtBQUFBLFVBQUksU0FBTyxTQUFPQTtBQUFHLG1CQUFPSSxLQUFFRCxLQUFFQyxLQUFFLElBQUVBLEtBQUVBLEdBQUUsT0FBSztBQUFBLFFBQUMsTUFBTSxDQUFBRCxLQUFFQyxLQUFFO0FBQUUsUUFBQUosS0FBRSxFQUFDLFdBQVVDLEdBQUUsV0FBVSxpQkFBZ0JFLElBQUUsZ0JBQWVDLElBQUUsUUFBT0gsR0FBRSxRQUFPLFNBQVFBLEdBQUUsUUFBTztBQUFFLFFBQUFGLEdBQUUsY0FBWUM7QUFBRTtBQUFBLE1BQU07QUFBQyxNQUFBRCxLQUFFQyxHQUFFO0FBQWUsZUFBT0QsS0FBRUMsR0FBRSxrQkFBZ0IsSUFBRUQsR0FBRSxPQUNuZjtBQUFFLE1BQUFDLEdBQUUsaUJBQWU7QUFBQSxJQUFDO0FBQ3BCLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsVUFBSUUsS0FBRUosR0FBRTtBQUFZLFdBQUc7QUFBRyxVQUFJSyxLQUFFRCxHQUFFLGlCQUFnQixJQUFFQSxHQUFFLGdCQUFlRyxLQUFFSCxHQUFFLE9BQU87QUFBUSxVQUFHLFNBQU9HLElBQUU7QUFBQyxRQUFBSCxHQUFFLE9BQU8sVUFBUTtBQUFLLFlBQUksSUFBRUcsSUFBRUQsS0FBRSxFQUFFO0FBQUssVUFBRSxPQUFLO0FBQUssaUJBQU8sSUFBRUQsS0FBRUMsS0FBRSxFQUFFLE9BQUtBO0FBQUUsWUFBRTtBQUFFLFlBQUksSUFBRU4sR0FBRTtBQUFVLGlCQUFPLE1BQUksSUFBRSxFQUFFLGFBQVlPLEtBQUUsRUFBRSxnQkFBZUEsT0FBSSxNQUFJLFNBQU9BLEtBQUUsRUFBRSxrQkFBZ0JELEtBQUVDLEdBQUUsT0FBS0QsSUFBRSxFQUFFLGlCQUFlO0FBQUEsTUFBRztBQUFDLFVBQUcsU0FBT0QsSUFBRTtBQUFDLFlBQUksSUFBRUQsR0FBRTtBQUFVLFlBQUU7QUFBRSxZQUFFRSxLQUFFLElBQUU7QUFBSyxRQUFBQyxLQUFFRjtBQUFFLFdBQUU7QUFBQyxjQUFJVyxLQUFFVCxHQUFFLE1BQUtVLEtBQUVWLEdBQUU7QUFBVSxlQUFJTCxLQUFFYyxRQUFLQSxJQUFFO0FBQUMscUJBQU8sTUFBSSxJQUFFLEVBQUUsT0FBSztBQUFBLGNBQUMsV0FBVUM7QUFBQSxjQUFFLE1BQUs7QUFBQSxjQUFFLEtBQUlWLEdBQUU7QUFBQSxjQUFJLFNBQVFBLEdBQUU7QUFBQSxjQUFRLFVBQVNBLEdBQUU7QUFBQSxjQUN2ZixNQUFLO0FBQUEsWUFBSTtBQUFHLGVBQUU7QUFBQyxrQkFBSUssS0FBRVosSUFBRWEsS0FBRU47QUFBRSxjQUFBUyxLQUFFO0FBQUUsY0FBQUMsS0FBRWhCO0FBQUUsc0JBQU9ZLEdBQUUsS0FBSTtBQUFBLGdCQUFDLEtBQUs7QUFBRSxrQkFBQUQsS0FBRUMsR0FBRTtBQUFRLHNCQUFHLGVBQWEsT0FBT0QsSUFBRTtBQUFDLHdCQUFFQSxHQUFFLEtBQUtLLElBQUUsR0FBRUQsRUFBQztBQUFFLDBCQUFNO0FBQUEsa0JBQUM7QUFBQyxzQkFBRUo7QUFBRSx3QkFBTTtBQUFBLGdCQUFFLEtBQUs7QUFBRSxrQkFBQUEsR0FBRSxRQUFNQSxHQUFFLFFBQU0sU0FBTztBQUFBLGdCQUFJLEtBQUs7QUFBRSxrQkFBQUEsS0FBRUMsR0FBRTtBQUFRLGtCQUFBRyxLQUFFLGVBQWEsT0FBT0osS0FBRUEsR0FBRSxLQUFLSyxJQUFFLEdBQUVELEVBQUMsSUFBRUo7QUFBRSxzQkFBRyxTQUFPSSxNQUFHLFdBQVNBLEdBQUUsT0FBTTtBQUFFLHNCQUFFLEVBQUUsQ0FBQyxHQUFFLEdBQUVBLEVBQUM7QUFBRSx3QkFBTTtBQUFBLGdCQUFFLEtBQUs7QUFBRSx1QkFBRztBQUFBLGNBQUU7QUFBQSxZQUFDO0FBQUMscUJBQU9ULEdBQUUsWUFBVSxNQUFJQSxHQUFFLFNBQU9QLEdBQUUsU0FBTyxJQUFHZ0IsS0FBRVosR0FBRSxTQUFRLFNBQU9ZLEtBQUVaLEdBQUUsVUFBUSxDQUFDRyxFQUFDLElBQUVTLEdBQUUsS0FBS1QsRUFBQztBQUFBLFVBQUUsTUFBTSxDQUFBVSxLQUFFLEVBQUMsV0FBVUEsSUFBRSxNQUFLRCxJQUFFLEtBQUlULEdBQUUsS0FBSSxTQUFRQSxHQUFFLFNBQVEsVUFBU0EsR0FBRSxVQUFTLE1BQUssS0FBSSxHQUFFLFNBQU8sS0FBR0QsS0FBRSxJQUFFVyxJQUFFLElBQUUsS0FBRyxJQUFFLEVBQUUsT0FBS0EsSUFBRSxLQUFHRDtBQUNwZixVQUFBVCxLQUFFQSxHQUFFO0FBQUssY0FBRyxTQUFPQSxHQUFFLEtBQUdBLEtBQUVILEdBQUUsT0FBTyxTQUFRLFNBQU9HLEdBQUU7QUFBQSxjQUFXLENBQUFTLEtBQUVULElBQUVBLEtBQUVTLEdBQUUsTUFBS0EsR0FBRSxPQUFLLE1BQUtaLEdBQUUsaUJBQWVZLElBQUVaLEdBQUUsT0FBTyxVQUFRO0FBQUEsUUFBSSxTQUFPO0FBQUcsaUJBQU8sTUFBSSxJQUFFO0FBQUcsUUFBQUEsR0FBRSxZQUFVO0FBQUUsUUFBQUEsR0FBRSxrQkFBZ0JFO0FBQUUsUUFBQUYsR0FBRSxpQkFBZTtBQUFFLFlBQUVBLEdBQUUsT0FBTztBQUFZLFlBQUcsU0FBTyxHQUFFO0FBQUMsVUFBQUEsS0FBRTtBQUFFO0FBQUcsaUJBQUdBLEdBQUUsTUFBS0EsS0FBRUEsR0FBRTtBQUFBLGlCQUFXQSxPQUFJO0FBQUEsUUFBRSxNQUFNLFVBQU9DLE9BQUlELEdBQUUsT0FBTyxRQUFNO0FBQUcsY0FBSTtBQUFFLFFBQUFKLEdBQUUsUUFBTTtBQUFFLFFBQUFBLEdBQUUsZ0JBQWM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUM5VixhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLE1BQUFELEtBQUUsRUFBRTtBQUFRLFFBQUUsVUFBUTtBQUFLLFVBQUcsU0FBT0EsR0FBRSxNQUFJLElBQUUsR0FBRSxJQUFFQSxHQUFFLFFBQU8sS0FBSTtBQUFDLFlBQUlFLEtBQUVGLEdBQUUsQ0FBQyxHQUFFSSxLQUFFRixHQUFFO0FBQVMsWUFBRyxTQUFPRSxJQUFFO0FBQUMsVUFBQUYsR0FBRSxXQUFTO0FBQUssVUFBQUEsS0FBRUQ7QUFBRSxjQUFHLGVBQWEsT0FBT0csR0FBRSxPQUFNLE1BQU1MLEdBQUUsS0FBSUssRUFBQyxDQUFDO0FBQUUsVUFBQUEsR0FBRSxLQUFLRixFQUFDO0FBQUEsUUFBQztBQUFBLE1BQUM7QUFBQSxJQUFDO0FBQUMsUUFBSSxLQUFHLENBQUM7QUFBUixRQUFVLEtBQUcsR0FBRyxFQUFFO0FBQWxCLFFBQW9CLEtBQUcsR0FBRyxFQUFFO0FBQTVCLFFBQThCLEtBQUcsR0FBRyxFQUFFO0FBQUUsYUFBUyxHQUFHRixJQUFFO0FBQUMsVUFBR0EsT0FBSSxHQUFHLE9BQU0sTUFBTUQsR0FBRSxHQUFHLENBQUM7QUFBRSxhQUFPQztBQUFBLElBQUM7QUFDblMsYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxRQUFFLElBQUcsQ0FBQztBQUFFLFFBQUUsSUFBR0EsRUFBQztBQUFFLFFBQUUsSUFBRyxFQUFFO0FBQUUsTUFBQUEsS0FBRSxFQUFFO0FBQVMsY0FBT0EsSUFBRTtBQUFBLFFBQUMsS0FBSztBQUFBLFFBQUUsS0FBSztBQUFHLGVBQUcsSUFBRSxFQUFFLG1CQUFpQixFQUFFLGVBQWEsR0FBRyxNQUFLLEVBQUU7QUFBRTtBQUFBLFFBQU07QUFBUSxVQUFBQSxLQUFFLE1BQUlBLEtBQUUsRUFBRSxhQUFXLEdBQUUsSUFBRUEsR0FBRSxnQkFBYyxNQUFLQSxLQUFFQSxHQUFFLFNBQVEsSUFBRSxHQUFHLEdBQUVBLEVBQUM7QUFBQSxNQUFDO0FBQUMsUUFBRSxFQUFFO0FBQUUsUUFBRSxJQUFHLENBQUM7QUFBQSxJQUFDO0FBQUMsYUFBUyxLQUFJO0FBQUMsUUFBRSxFQUFFO0FBQUUsUUFBRSxFQUFFO0FBQUUsUUFBRSxFQUFFO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFNBQUcsR0FBRyxPQUFPO0FBQUUsVUFBSSxJQUFFLEdBQUcsR0FBRyxPQUFPO0FBQUUsVUFBSUMsS0FBRSxHQUFHLEdBQUVELEdBQUUsSUFBSTtBQUFFLFlBQUlDLE9BQUksRUFBRSxJQUFHRCxFQUFDLEdBQUUsRUFBRSxJQUFHQyxFQUFDO0FBQUEsSUFBRTtBQUFDLGFBQVMsR0FBR0QsSUFBRTtBQUFDLFNBQUcsWUFBVUEsT0FBSSxFQUFFLEVBQUUsR0FBRSxFQUFFLEVBQUU7QUFBQSxJQUFFO0FBQUMsUUFBSSxJQUFFLEdBQUcsQ0FBQztBQUN6WixhQUFTLEdBQUdBLElBQUU7QUFBQyxlQUFRLElBQUVBLElBQUUsU0FBTyxLQUFHO0FBQUMsWUFBRyxPQUFLLEVBQUUsS0FBSTtBQUFDLGNBQUlDLEtBQUUsRUFBRTtBQUFjLGNBQUcsU0FBT0EsT0FBSUEsS0FBRUEsR0FBRSxZQUFXLFNBQU9BLE1BQUcsU0FBT0EsR0FBRSxRQUFNLFNBQU9BLEdBQUUsTUFBTSxRQUFPO0FBQUEsUUFBQyxXQUFTLE9BQUssRUFBRSxPQUFLLFdBQVMsRUFBRSxjQUFjLGFBQVk7QUFBQyxjQUFHLE9BQUssRUFBRSxRQUFNLEtBQUssUUFBTztBQUFBLFFBQUMsV0FBUyxTQUFPLEVBQUUsT0FBTTtBQUFDLFlBQUUsTUFBTSxTQUFPO0FBQUUsY0FBRSxFQUFFO0FBQU07QUFBQSxRQUFRO0FBQUMsWUFBRyxNQUFJRCxHQUFFO0FBQU0sZUFBSyxTQUFPLEVBQUUsV0FBUztBQUFDLGNBQUcsU0FBTyxFQUFFLFVBQVEsRUFBRSxXQUFTQSxHQUFFLFFBQU87QUFBSyxjQUFFLEVBQUU7QUFBQSxRQUFNO0FBQUMsVUFBRSxRQUFRLFNBQU8sRUFBRTtBQUFPLFlBQUUsRUFBRTtBQUFBLE1BQU87QUFBQyxhQUFPO0FBQUEsSUFBSTtBQUFDLFFBQUksS0FBRyxDQUFDO0FBQ3RjLGFBQVMsS0FBSTtBQUFDLGVBQVFBLEtBQUUsR0FBRUEsS0FBRSxHQUFHLFFBQU9BLEtBQUksSUFBR0EsRUFBQyxFQUFFLGdDQUE4QjtBQUFLLFNBQUcsU0FBTztBQUFBLElBQUM7QUFBQyxRQUFJLEtBQUcsR0FBRztBQUFWLFFBQWlDLEtBQUcsR0FBRztBQUF2QyxRQUErRCxLQUFHO0FBQWxFLFFBQW9FLElBQUU7QUFBdEUsUUFBMkUsSUFBRTtBQUE3RSxRQUFrRixJQUFFO0FBQXBGLFFBQXlGLEtBQUc7QUFBNUYsUUFBK0YsS0FBRztBQUFsRyxRQUFxRyxLQUFHO0FBQXhHLFFBQTBHLEtBQUc7QUFBRSxhQUFTLElBQUc7QUFBQyxZQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUEsSUFBRTtBQUFDLGFBQVMsR0FBR0MsSUFBRSxHQUFFO0FBQUMsVUFBRyxTQUFPLEVBQUUsUUFBTTtBQUFHLGVBQVFDLEtBQUUsR0FBRUEsS0FBRSxFQUFFLFVBQVFBLEtBQUVELEdBQUUsUUFBT0MsS0FBSSxLQUFHLENBQUMsR0FBR0QsR0FBRUMsRUFBQyxHQUFFLEVBQUVBLEVBQUMsQ0FBQyxFQUFFLFFBQU07QUFBRyxhQUFNO0FBQUEsSUFBRTtBQUNoVyxhQUFTLEdBQUdELElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRUMsSUFBRTtBQUFDLFdBQUdBO0FBQUUsVUFBRTtBQUFFLFFBQUUsZ0JBQWM7QUFBSyxRQUFFLGNBQVk7QUFBSyxRQUFFLFFBQU07QUFBRSxTQUFHLFVBQVEsU0FBT0wsTUFBRyxTQUFPQSxHQUFFLGdCQUFjLEtBQUc7QUFBRyxNQUFBQSxLQUFFQyxHQUFFQyxJQUFFRSxFQUFDO0FBQUUsVUFBRyxJQUFHO0FBQUMsUUFBQUMsS0FBRTtBQUFFLFdBQUU7QUFBQyxlQUFHO0FBQUcsZUFBRztBQUFFLGNBQUcsTUFBSUEsR0FBRSxPQUFNLE1BQU1OLEdBQUUsR0FBRyxDQUFDO0FBQUUsVUFBQU0sTUFBRztBQUFFLGNBQUUsSUFBRTtBQUFLLFlBQUUsY0FBWTtBQUFLLGFBQUcsVUFBUTtBQUFHLFVBQUFMLEtBQUVDLEdBQUVDLElBQUVFLEVBQUM7QUFBQSxRQUFDLFNBQU87QUFBQSxNQUFHO0FBQUMsU0FBRyxVQUFRO0FBQUcsVUFBRSxTQUFPLEtBQUcsU0FBTyxFQUFFO0FBQUssV0FBRztBQUFFLFVBQUUsSUFBRSxJQUFFO0FBQUssV0FBRztBQUFHLFVBQUcsRUFBRSxPQUFNLE1BQU1MLEdBQUUsR0FBRyxDQUFDO0FBQUUsYUFBT0M7QUFBQSxJQUFDO0FBQUMsYUFBUyxLQUFJO0FBQUMsVUFBSUEsS0FBRSxNQUFJO0FBQUcsV0FBRztBQUFFLGFBQU9BO0FBQUEsSUFBQztBQUMvWSxhQUFTLEtBQUk7QUFBQyxVQUFJQSxLQUFFLEVBQUMsZUFBYyxNQUFLLFdBQVUsTUFBSyxXQUFVLE1BQUssT0FBTSxNQUFLLE1BQUssS0FBSTtBQUFFLGVBQU8sSUFBRSxFQUFFLGdCQUFjLElBQUVBLEtBQUUsSUFBRSxFQUFFLE9BQUtBO0FBQUUsYUFBTztBQUFBLElBQUM7QUFBQyxhQUFTLEtBQUk7QUFBQyxVQUFHLFNBQU8sR0FBRTtBQUFDLFlBQUlBLEtBQUUsRUFBRTtBQUFVLFFBQUFBLEtBQUUsU0FBT0EsS0FBRUEsR0FBRSxnQkFBYztBQUFBLE1BQUksTUFBTSxDQUFBQSxLQUFFLEVBQUU7QUFBSyxVQUFJLElBQUUsU0FBTyxJQUFFLEVBQUUsZ0JBQWMsRUFBRTtBQUFLLFVBQUcsU0FBTyxFQUFFLEtBQUUsR0FBRSxJQUFFQTtBQUFBLFdBQU07QUFBQyxZQUFHLFNBQU9BLEdBQUUsT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLFlBQUVDO0FBQUUsUUFBQUEsS0FBRSxFQUFDLGVBQWMsRUFBRSxlQUFjLFdBQVUsRUFBRSxXQUFVLFdBQVUsRUFBRSxXQUFVLE9BQU0sRUFBRSxPQUFNLE1BQUssS0FBSTtBQUFFLGlCQUFPLElBQUUsRUFBRSxnQkFBYyxJQUFFQSxLQUFFLElBQUUsRUFBRSxPQUFLQTtBQUFBLE1BQUM7QUFBQyxhQUFPO0FBQUEsSUFBQztBQUNqZSxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLGFBQU0sZUFBYSxPQUFPLElBQUUsRUFBRUEsRUFBQyxJQUFFO0FBQUEsSUFBQztBQUNuRCxhQUFTLEdBQUdBLElBQUU7QUFBQyxVQUFJLElBQUUsR0FBRyxHQUFFQyxLQUFFLEVBQUU7QUFBTSxVQUFHLFNBQU9BLEdBQUUsT0FBTSxNQUFNRixHQUFFLEdBQUcsQ0FBQztBQUFFLE1BQUFFLEdBQUUsc0JBQW9CRDtBQUFFLFVBQUlFLEtBQUUsR0FBRUUsS0FBRUYsR0FBRSxXQUFVRyxLQUFFSixHQUFFO0FBQVEsVUFBRyxTQUFPSSxJQUFFO0FBQUMsWUFBRyxTQUFPRCxJQUFFO0FBQUMsY0FBSSxJQUFFQSxHQUFFO0FBQUssVUFBQUEsR0FBRSxPQUFLQyxHQUFFO0FBQUssVUFBQUEsR0FBRSxPQUFLO0FBQUEsUUFBQztBQUFDLFFBQUFILEdBQUUsWUFBVUUsS0FBRUM7QUFBRSxRQUFBSixHQUFFLFVBQVE7QUFBQSxNQUFJO0FBQUMsVUFBRyxTQUFPRyxJQUFFO0FBQUMsUUFBQUMsS0FBRUQsR0FBRTtBQUFLLFFBQUFGLEtBQUVBLEdBQUU7QUFBVSxZQUFJSyxLQUFFLElBQUUsTUFBSyxJQUFFLE1BQUtELEtBQUVEO0FBQUUsV0FBRTtBQUFDLGNBQUksSUFBRUMsR0FBRTtBQUFLLGVBQUksS0FBRyxPQUFLLEVBQUUsVUFBTyxNQUFJLElBQUUsRUFBRSxPQUFLLEVBQUMsTUFBSyxHQUFFLFFBQU9BLEdBQUUsUUFBTyxlQUFjQSxHQUFFLGVBQWMsWUFBV0EsR0FBRSxZQUFXLE1BQUssS0FBSSxJQUFHSixLQUFFSSxHQUFFLGdCQUFjQSxHQUFFLGFBQVdOLEdBQUVFLElBQUVJLEdBQUUsTUFBTTtBQUFBLGVBQU07QUFBQyxnQkFBSSxJQUFFO0FBQUEsY0FBQyxNQUFLO0FBQUEsY0FBRSxRQUFPQSxHQUFFO0FBQUEsY0FBTyxlQUFjQSxHQUFFO0FBQUEsY0FDbmdCLFlBQVdBLEdBQUU7QUFBQSxjQUFXLE1BQUs7QUFBQSxZQUFJO0FBQUUscUJBQU8sS0FBR0MsS0FBRSxJQUFFLEdBQUUsSUFBRUwsTUFBRyxJQUFFLEVBQUUsT0FBSztBQUFFLGNBQUUsU0FBTztBQUFFLGtCQUFJO0FBQUEsVUFBQztBQUFDLFVBQUFJLEtBQUVBLEdBQUU7QUFBQSxRQUFJLFNBQU8sU0FBT0EsTUFBR0EsT0FBSUQ7QUFBRyxpQkFBTyxJQUFFLElBQUVILEtBQUUsRUFBRSxPQUFLSztBQUFFLFdBQUdMLElBQUUsRUFBRSxhQUFhLE1BQUksS0FBRztBQUFJLFVBQUUsZ0JBQWNBO0FBQUUsVUFBRSxZQUFVO0FBQUUsVUFBRSxZQUFVO0FBQUUsUUFBQUQsR0FBRSxvQkFBa0JDO0FBQUEsTUFBQztBQUFDLE1BQUFGLEtBQUVDLEdBQUU7QUFBWSxVQUFHLFNBQU9ELElBQUU7QUFBQyxRQUFBSSxLQUFFSjtBQUFFO0FBQUcsVUFBQUssS0FBRUQsR0FBRSxNQUFLLEVBQUUsU0FBT0MsSUFBRSxNQUFJQSxJQUFFRCxLQUFFQSxHQUFFO0FBQUEsZUFBV0EsT0FBSUo7QUFBQSxNQUFFLE1BQU0sVUFBT0ksT0FBSUgsR0FBRSxRQUFNO0FBQUcsYUFBTSxDQUFDLEVBQUUsZUFBY0EsR0FBRSxRQUFRO0FBQUEsSUFBQztBQUM5WCxhQUFTLEdBQUdELElBQUU7QUFBQyxVQUFJLElBQUUsR0FBRyxHQUFFQyxLQUFFLEVBQUU7QUFBTSxVQUFHLFNBQU9BLEdBQUUsT0FBTSxNQUFNRixHQUFFLEdBQUcsQ0FBQztBQUFFLE1BQUFFLEdBQUUsc0JBQW9CRDtBQUFFLFVBQUlFLEtBQUVELEdBQUUsVUFBU0csS0FBRUgsR0FBRSxTQUFRSSxLQUFFLEVBQUU7QUFBYyxVQUFHLFNBQU9ELElBQUU7QUFBQyxRQUFBSCxHQUFFLFVBQVE7QUFBSyxZQUFJLElBQUVHLEtBQUVBLEdBQUU7QUFBSztBQUFHLFVBQUFDLEtBQUVMLEdBQUVLLElBQUUsRUFBRSxNQUFNLEdBQUUsSUFBRSxFQUFFO0FBQUEsZUFBVyxNQUFJRDtBQUFHLFdBQUdDLElBQUUsRUFBRSxhQUFhLE1BQUksS0FBRztBQUFJLFVBQUUsZ0JBQWNBO0FBQUUsaUJBQU8sRUFBRSxjQUFZLEVBQUUsWUFBVUE7QUFBRyxRQUFBSixHQUFFLG9CQUFrQkk7QUFBQSxNQUFDO0FBQUMsYUFBTSxDQUFDQSxJQUFFSCxFQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsS0FBSTtBQUFBLElBQUM7QUFDcFcsYUFBUyxHQUFHRixJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFLEdBQUVDLEtBQUUsR0FBRyxHQUFFRSxLQUFFLEVBQUUsR0FBRUMsS0FBRSxDQUFDLEdBQUdILEdBQUUsZUFBY0UsRUFBQztBQUFFLE1BQUFDLE9BQUlILEdBQUUsZ0JBQWNFLElBQUUsS0FBRztBQUFJLE1BQUFGLEtBQUVBLEdBQUU7QUFBTSxTQUFHLEdBQUcsS0FBSyxNQUFLRCxJQUFFQyxJQUFFRixFQUFDLEdBQUUsQ0FBQ0EsRUFBQyxDQUFDO0FBQUUsVUFBR0UsR0FBRSxnQkFBYyxLQUFHRyxNQUFHLFNBQU8sS0FBRyxFQUFFLGNBQWMsTUFBSSxHQUFFO0FBQUMsUUFBQUosR0FBRSxTQUFPO0FBQUssV0FBRyxHQUFFLEdBQUcsS0FBSyxNQUFLQSxJQUFFQyxJQUFFRSxJQUFFLENBQUMsR0FBRSxRQUFPLElBQUk7QUFBRSxZQUFHLFNBQU9lLEdBQUUsT0FBTSxNQUFNcEIsR0FBRSxHQUFHLENBQUM7QUFBRSxlQUFLLEtBQUcsT0FBSyxHQUFHRSxJQUFFLEdBQUVHLEVBQUM7QUFBQSxNQUFDO0FBQUMsYUFBT0E7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHSixJQUFFLEdBQUVDLElBQUU7QUFBQyxNQUFBRCxHQUFFLFNBQU87QUFBTSxNQUFBQSxLQUFFLEVBQUMsYUFBWSxHQUFFLE9BQU1DLEdBQUM7QUFBRSxVQUFFLEVBQUU7QUFBWSxlQUFPLEtBQUcsSUFBRSxFQUFDLFlBQVcsTUFBSyxRQUFPLEtBQUksR0FBRSxFQUFFLGNBQVksR0FBRSxFQUFFLFNBQU8sQ0FBQ0QsRUFBQyxNQUFJQyxLQUFFLEVBQUUsUUFBTyxTQUFPQSxLQUFFLEVBQUUsU0FBTyxDQUFDRCxFQUFDLElBQUVDLEdBQUUsS0FBS0QsRUFBQztBQUFBLElBQUU7QUFDbGYsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxRQUFFLFFBQU1EO0FBQUUsUUFBRSxjQUFZQztBQUFFLFNBQUcsQ0FBQyxLQUFHLEdBQUdGLEVBQUM7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUU7QUFBQyxhQUFPQSxHQUFFLFdBQVU7QUFBQyxXQUFHLENBQUMsS0FBRyxHQUFHRCxFQUFDO0FBQUEsTUFBQyxDQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFVBQUksSUFBRUEsR0FBRTtBQUFZLE1BQUFBLEtBQUVBLEdBQUU7QUFBTSxVQUFHO0FBQUMsWUFBSUMsS0FBRSxFQUFFO0FBQUUsZUFBTSxDQUFDLEdBQUdELElBQUVDLEVBQUM7QUFBQSxNQUFDLFNBQU9DLElBQUU7QUFBQyxlQUFNO0FBQUEsTUFBRTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdGLElBQUU7QUFBQyxVQUFJLElBQUUsR0FBR0EsSUFBRSxDQUFDO0FBQUUsZUFBTyxLQUFHLEdBQUcsR0FBRUEsSUFBRSxHQUFFLEVBQUU7QUFBQSxJQUFDO0FBQ2xRLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFVBQUksSUFBRSxHQUFHO0FBQUUscUJBQWEsT0FBT0EsT0FBSUEsS0FBRUEsR0FBRTtBQUFHLFFBQUUsZ0JBQWMsRUFBRSxZQUFVQTtBQUFFLE1BQUFBLEtBQUUsRUFBQyxTQUFRLE1BQUssYUFBWSxNQUFLLE9BQU0sR0FBRSxVQUFTLE1BQUsscUJBQW9CLElBQUcsbUJBQWtCQSxHQUFDO0FBQUUsUUFBRSxRQUFNQTtBQUFFLE1BQUFBLEtBQUVBLEdBQUUsV0FBUyxHQUFHLEtBQUssTUFBSyxHQUFFQSxFQUFDO0FBQUUsYUFBTSxDQUFDLEVBQUUsZUFBY0EsRUFBQztBQUFBLElBQUM7QUFDNVAsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxNQUFBRixLQUFFLEVBQUMsS0FBSUEsSUFBRSxRQUFPLEdBQUUsU0FBUUMsSUFBRSxNQUFLQyxJQUFFLE1BQUssS0FBSTtBQUFFLFVBQUUsRUFBRTtBQUFZLGVBQU8sS0FBRyxJQUFFLEVBQUMsWUFBVyxNQUFLLFFBQU8sS0FBSSxHQUFFLEVBQUUsY0FBWSxHQUFFLEVBQUUsYUFBV0YsR0FBRSxPQUFLQSxPQUFJQyxLQUFFLEVBQUUsWUFBVyxTQUFPQSxLQUFFLEVBQUUsYUFBV0QsR0FBRSxPQUFLQSxNQUFHRSxLQUFFRCxHQUFFLE1BQUtBLEdBQUUsT0FBS0QsSUFBRUEsR0FBRSxPQUFLRSxJQUFFLEVBQUUsYUFBV0Y7QUFBSSxhQUFPQTtBQUFBLElBQUM7QUFBQyxhQUFTLEtBQUk7QUFBQyxhQUFPLEdBQUcsRUFBRTtBQUFBLElBQWE7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRUMsSUFBRTtBQUFDLFVBQUlFLEtBQUUsR0FBRztBQUFFLFFBQUUsU0FBT0o7QUFBRSxNQUFBSSxHQUFFLGdCQUFjLEdBQUcsSUFBRSxHQUFFSCxJQUFFLFFBQU8sV0FBU0MsS0FBRSxPQUFLQSxFQUFDO0FBQUEsSUFBQztBQUM5WSxhQUFTLEdBQUdGLElBQUUsR0FBRUMsSUFBRUMsSUFBRTtBQUFDLFVBQUlFLEtBQUUsR0FBRztBQUFFLE1BQUFGLEtBQUUsV0FBU0EsS0FBRSxPQUFLQTtBQUFFLFVBQUlHLEtBQUU7QUFBTyxVQUFHLFNBQU8sR0FBRTtBQUFDLFlBQUksSUFBRSxFQUFFO0FBQWMsUUFBQUEsS0FBRSxFQUFFO0FBQVEsWUFBRyxTQUFPSCxNQUFHLEdBQUdBLElBQUUsRUFBRSxJQUFJLEdBQUU7QUFBQyxVQUFBRSxHQUFFLGdCQUFjLEdBQUcsR0FBRUgsSUFBRUksSUFBRUgsRUFBQztBQUFFO0FBQUEsUUFBTTtBQUFBLE1BQUM7QUFBQyxRQUFFLFNBQU9GO0FBQUUsTUFBQUksR0FBRSxnQkFBYyxHQUFHLElBQUUsR0FBRUgsSUFBRUksSUFBRUgsRUFBQztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdGLElBQUUsR0FBRTtBQUFDLGFBQU8sR0FBRyxTQUFRLEdBQUVBLElBQUUsQ0FBQztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLGFBQU8sR0FBRyxNQUFLLEdBQUVBLElBQUUsQ0FBQztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLGFBQU8sR0FBRyxHQUFFLEdBQUVBLElBQUUsQ0FBQztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLGFBQU8sR0FBRyxHQUFFLEdBQUVBLElBQUUsQ0FBQztBQUFBLElBQUM7QUFDaFgsYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxVQUFHLGVBQWEsT0FBTyxFQUFFLFFBQU9BLEtBQUVBLEdBQUUsR0FBRSxFQUFFQSxFQUFDLEdBQUUsV0FBVTtBQUFDLFVBQUUsSUFBSTtBQUFBLE1BQUM7QUFBRSxVQUFHLFNBQU8sS0FBRyxXQUFTLEVBQUUsUUFBT0EsS0FBRUEsR0FBRSxHQUFFLEVBQUUsVUFBUUEsSUFBRSxXQUFVO0FBQUMsVUFBRSxVQUFRO0FBQUEsTUFBSTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLE1BQUFBLEtBQUUsU0FBT0EsTUFBRyxXQUFTQSxLQUFFQSxHQUFFLE9BQU8sQ0FBQ0QsRUFBQyxDQUFDLElBQUU7QUFBSyxhQUFPLEdBQUcsR0FBRSxHQUFFLEdBQUcsS0FBSyxNQUFLLEdBQUVBLEVBQUMsR0FBRUMsRUFBQztBQUFBLElBQUM7QUFBQyxhQUFTLEtBQUk7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHRCxJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFLEdBQUc7QUFBRSxVQUFFLFdBQVMsSUFBRSxPQUFLO0FBQUUsVUFBSUMsS0FBRUQsR0FBRTtBQUFjLFVBQUcsU0FBT0MsTUFBRyxTQUFPLEtBQUcsR0FBRyxHQUFFQSxHQUFFLENBQUMsQ0FBQyxFQUFFLFFBQU9BLEdBQUUsQ0FBQztBQUFFLE1BQUFELEdBQUUsZ0JBQWMsQ0FBQ0QsSUFBRSxDQUFDO0FBQUUsYUFBT0E7QUFBQSxJQUFDO0FBQzdaLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsVUFBSUMsS0FBRSxHQUFHO0FBQUUsVUFBRSxXQUFTLElBQUUsT0FBSztBQUFFLFVBQUlDLEtBQUVELEdBQUU7QUFBYyxVQUFHLFNBQU9DLE1BQUcsU0FBTyxLQUFHLEdBQUcsR0FBRUEsR0FBRSxDQUFDLENBQUMsRUFBRSxRQUFPQSxHQUFFLENBQUM7QUFBRSxNQUFBRixLQUFFQSxHQUFFO0FBQUUsTUFBQUMsR0FBRSxnQkFBYyxDQUFDRCxJQUFFLENBQUM7QUFBRSxhQUFPQTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUcsT0FBSyxLQUFHLElBQUksUUFBT0QsR0FBRSxjQUFZQSxHQUFFLFlBQVUsT0FBRyxLQUFHLE9BQUlBLEdBQUUsZ0JBQWNDO0FBQUUsU0FBR0EsSUFBRSxDQUFDLE1BQUlBLEtBQUUsR0FBRyxHQUFFLEVBQUUsU0FBT0EsSUFBRSxNQUFJQSxJQUFFRCxHQUFFLFlBQVU7QUFBSSxhQUFPO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsVUFBSUMsS0FBRU87QUFBRSxNQUFBQSxLQUFFLE1BQUlQLE1BQUcsSUFBRUEsS0FBRUEsS0FBRTtBQUFFLE1BQUFELEdBQUUsSUFBRTtBQUFFLFVBQUlFLEtBQUUsR0FBRztBQUFXLFNBQUcsYUFBVyxDQUFDO0FBQUUsVUFBRztBQUFDLFFBQUFGLEdBQUUsS0FBRSxHQUFFLEVBQUU7QUFBQSxNQUFDLFVBQUM7QUFBUSxRQUFBUSxLQUFFUCxJQUFFLEdBQUcsYUFBV0M7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsS0FBSTtBQUFDLGFBQU8sR0FBRyxFQUFFO0FBQUEsSUFBYTtBQUMxZCxhQUFTLEdBQUdGLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsR0FBR0YsRUFBQztBQUFFLE1BQUFDLEtBQUUsRUFBQyxNQUFLQyxJQUFFLFFBQU9ELElBQUUsZUFBYyxPQUFHLFlBQVcsTUFBSyxNQUFLLEtBQUk7QUFBRSxVQUFHLEdBQUdELEVBQUMsRUFBRSxJQUFHLEdBQUVDLEVBQUM7QUFBQSxlQUFVQSxLQUFFLEdBQUdELElBQUUsR0FBRUMsSUFBRUMsRUFBQyxHQUFFLFNBQU9ELElBQUU7QUFBQyxZQUFJRyxLQUFFLEVBQUU7QUFBRSxXQUFHSCxJQUFFRCxJQUFFRSxJQUFFRSxFQUFDO0FBQUUsV0FBR0gsSUFBRSxHQUFFQyxFQUFDO0FBQUEsTUFBQztBQUFBLElBQUM7QUFDL0ssYUFBUyxHQUFHRixJQUFFLEdBQUVDLElBQUU7QUFBQyxVQUFJQyxLQUFFLEdBQUdGLEVBQUMsR0FBRUksS0FBRSxFQUFDLE1BQUtGLElBQUUsUUFBT0QsSUFBRSxlQUFjLE9BQUcsWUFBVyxNQUFLLE1BQUssS0FBSTtBQUFFLFVBQUcsR0FBR0QsRUFBQyxFQUFFLElBQUcsR0FBRUksRUFBQztBQUFBLFdBQU07QUFBQyxZQUFJQyxLQUFFTCxHQUFFO0FBQVUsWUFBRyxNQUFJQSxHQUFFLFVBQVEsU0FBT0ssTUFBRyxNQUFJQSxHQUFFLFdBQVNBLEtBQUUsRUFBRSxxQkFBb0IsU0FBT0EsSUFBRyxLQUFHO0FBQUMsY0FBSSxJQUFFLEVBQUUsbUJBQWtCRSxLQUFFRixHQUFFLEdBQUVKLEVBQUM7QUFBRSxVQUFBRyxHQUFFLGdCQUFjO0FBQUcsVUFBQUEsR0FBRSxhQUFXRztBQUFFLGNBQUcsR0FBR0EsSUFBRSxDQUFDLEdBQUU7QUFBQyxnQkFBSSxJQUFFLEVBQUU7QUFBWSxxQkFBTyxLQUFHSCxHQUFFLE9BQUtBLElBQUUsR0FBRyxDQUFDLE1BQUlBLEdBQUUsT0FBSyxFQUFFLE1BQUssRUFBRSxPQUFLQTtBQUFHLGNBQUUsY0FBWUE7QUFBRTtBQUFBLFVBQU07QUFBQSxRQUFDLFNBQU9FLElBQUU7QUFBQSxRQUFDLFVBQUM7QUFBQSxRQUFRO0FBQUMsUUFBQUwsS0FBRSxHQUFHRCxJQUFFLEdBQUVJLElBQUVGLEVBQUM7QUFBRSxpQkFBT0QsT0FBSUcsS0FBRSxFQUFFLEdBQUUsR0FBR0gsSUFBRUQsSUFBRUUsSUFBRUUsRUFBQyxHQUFFLEdBQUdILElBQUUsR0FBRUMsRUFBQztBQUFBLE1BQUU7QUFBQSxJQUFDO0FBQy9jLGFBQVMsR0FBR0YsSUFBRTtBQUFDLFVBQUksSUFBRUEsR0FBRTtBQUFVLGFBQU9BLE9BQUksS0FBRyxTQUFPLEtBQUcsTUFBSTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLFdBQUcsS0FBRztBQUFHLFVBQUlDLEtBQUVELEdBQUU7QUFBUSxlQUFPQyxLQUFFLEVBQUUsT0FBSyxLQUFHLEVBQUUsT0FBS0EsR0FBRSxNQUFLQSxHQUFFLE9BQUs7QUFBRyxNQUFBRCxHQUFFLFVBQVE7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUU7QUFBQyxVQUFHLE9BQUtBLEtBQUUsVUFBUztBQUFDLFlBQUlDLEtBQUUsRUFBRTtBQUFNLFFBQUFBLE1BQUdGLEdBQUU7QUFBYSxRQUFBQyxNQUFHQztBQUFFLFVBQUUsUUFBTUQ7QUFBRSxXQUFHRCxJQUFFQyxFQUFDO0FBQUEsTUFBQztBQUFBLElBQUM7QUFDOVAsUUFBSSxLQUFHLEVBQUMsYUFBWSxJQUFHLGFBQVksR0FBRSxZQUFXLEdBQUUsV0FBVSxHQUFFLHFCQUFvQixHQUFFLG9CQUFtQixHQUFFLGlCQUFnQixHQUFFLFNBQVEsR0FBRSxZQUFXLEdBQUUsUUFBTyxHQUFFLFVBQVMsR0FBRSxlQUFjLEdBQUUsa0JBQWlCLEdBQUUsZUFBYyxHQUFFLGtCQUFpQixHQUFFLHNCQUFxQixHQUFFLE9BQU0sR0FBRSwwQkFBeUIsTUFBRTtBQUF0UyxRQUF3UyxLQUFHLEVBQUMsYUFBWSxJQUFHLGFBQVksU0FBU0QsSUFBRSxHQUFFO0FBQUMsU0FBRyxFQUFFLGdCQUFjLENBQUNBLElBQUUsV0FBUyxJQUFFLE9BQUssQ0FBQztBQUFFLGFBQU9BO0FBQUEsSUFBQyxHQUFFLFlBQVcsSUFBRyxXQUFVLElBQUcscUJBQW9CLFNBQVNBLElBQUUsR0FBRUMsSUFBRTtBQUFDLE1BQUFBLEtBQUUsU0FBT0EsTUFBRyxXQUFTQSxLQUFFQSxHQUFFLE9BQU8sQ0FBQ0QsRUFBQyxDQUFDLElBQUU7QUFBSyxhQUFPO0FBQUEsUUFBRztBQUFBLFFBQzNmO0FBQUEsUUFBRSxHQUFHLEtBQUssTUFBSyxHQUFFQSxFQUFDO0FBQUEsUUFBRUM7QUFBQSxNQUFDO0FBQUEsSUFBQyxHQUFFLGlCQUFnQixTQUFTRCxJQUFFLEdBQUU7QUFBQyxhQUFPLEdBQUcsU0FBUSxHQUFFQSxJQUFFLENBQUM7QUFBQSxJQUFDLEdBQUUsb0JBQW1CLFNBQVNBLElBQUUsR0FBRTtBQUFDLGFBQU8sR0FBRyxHQUFFLEdBQUVBLElBQUUsQ0FBQztBQUFBLElBQUMsR0FBRSxTQUFRLFNBQVNBLElBQUUsR0FBRTtBQUFDLFVBQUlDLEtBQUUsR0FBRztBQUFFLFVBQUUsV0FBUyxJQUFFLE9BQUs7QUFBRSxNQUFBRCxLQUFFQSxHQUFFO0FBQUUsTUFBQUMsR0FBRSxnQkFBYyxDQUFDRCxJQUFFLENBQUM7QUFBRSxhQUFPQTtBQUFBLElBQUMsR0FBRSxZQUFXLFNBQVNBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsR0FBRztBQUFFLFVBQUUsV0FBU0QsS0FBRUEsR0FBRSxDQUFDLElBQUU7QUFBRSxNQUFBQyxHQUFFLGdCQUFjQSxHQUFFLFlBQVU7QUFBRSxNQUFBRixLQUFFLEVBQUMsU0FBUSxNQUFLLGFBQVksTUFBSyxPQUFNLEdBQUUsVUFBUyxNQUFLLHFCQUFvQkEsSUFBRSxtQkFBa0IsRUFBQztBQUFFLE1BQUFFLEdBQUUsUUFBTUY7QUFBRSxNQUFBQSxLQUFFQSxHQUFFLFdBQVMsR0FBRyxLQUFLLE1BQUssR0FBRUEsRUFBQztBQUFFLGFBQU0sQ0FBQ0UsR0FBRSxlQUFjRixFQUFDO0FBQUEsSUFBQyxHQUFFLFFBQU8sU0FBU0EsSUFBRTtBQUFDLFVBQUksSUFDcmYsR0FBRztBQUFFLE1BQUFBLEtBQUUsRUFBQyxTQUFRQSxHQUFDO0FBQUUsYUFBTyxFQUFFLGdCQUFjQTtBQUFBLElBQUMsR0FBRSxVQUFTLElBQUcsZUFBYyxJQUFHLGtCQUFpQixTQUFTQSxJQUFFO0FBQUMsYUFBTyxHQUFHLEVBQUUsZ0JBQWNBO0FBQUEsSUFBQyxHQUFFLGVBQWMsV0FBVTtBQUFDLFVBQUlBLEtBQUUsR0FBRyxLQUFFLEdBQUUsSUFBRUEsR0FBRSxDQUFDO0FBQUUsTUFBQUEsS0FBRSxHQUFHLEtBQUssTUFBS0EsR0FBRSxDQUFDLENBQUM7QUFBRSxTQUFHLEVBQUUsZ0JBQWNBO0FBQUUsYUFBTSxDQUFDLEdBQUVBLEVBQUM7QUFBQSxJQUFDLEdBQUUsa0JBQWlCLFdBQVU7QUFBQSxJQUFDLEdBQUUsc0JBQXFCLFNBQVNBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsR0FBRUUsS0FBRSxHQUFHO0FBQUUsVUFBR1csSUFBRTtBQUFDLFlBQUcsV0FBU2QsR0FBRSxPQUFNLE1BQU1GLEdBQUUsR0FBRyxDQUFDO0FBQUUsUUFBQUUsS0FBRUEsR0FBRTtBQUFBLE1BQUMsT0FBSztBQUFDLFFBQUFBLEtBQUUsRUFBRTtBQUFFLFlBQUcsU0FBT2tCLEdBQUUsT0FBTSxNQUFNcEIsR0FBRSxHQUFHLENBQUM7QUFBRSxlQUFLLEtBQUcsT0FBSyxHQUFHRyxJQUFFLEdBQUVELEVBQUM7QUFBQSxNQUFDO0FBQUMsTUFBQUcsR0FBRSxnQkFBY0g7QUFBRSxVQUFJSSxLQUFFLEVBQUMsT0FBTUosSUFBRSxhQUFZLEVBQUM7QUFBRSxNQUFBRyxHQUFFLFFBQU1DO0FBQUUsU0FBRyxHQUFHO0FBQUEsUUFBSztBQUFBLFFBQUtIO0FBQUEsUUFDcGZHO0FBQUEsUUFBRUw7QUFBQSxNQUFDLEdBQUUsQ0FBQ0EsRUFBQyxDQUFDO0FBQUUsTUFBQUUsR0FBRSxTQUFPO0FBQUssU0FBRyxHQUFFLEdBQUcsS0FBSyxNQUFLQSxJQUFFRyxJQUFFSixJQUFFLENBQUMsR0FBRSxRQUFPLElBQUk7QUFBRSxhQUFPQTtBQUFBLElBQUMsR0FBRSxPQUFNLFdBQVU7QUFBQyxVQUFJRCxLQUFFLEdBQUcsR0FBRSxJQUFFbUIsR0FBRTtBQUFpQixVQUFHSixJQUFFO0FBQUMsWUFBSWQsS0FBRTtBQUFHLFlBQUlDLEtBQUU7QUFBRyxRQUFBRCxNQUFHQyxLQUFFLEVBQUUsS0FBRyxLQUFHLEdBQUdBLEVBQUMsSUFBRSxJQUFJLFNBQVMsRUFBRSxJQUFFRDtBQUFFLFlBQUUsTUFBSSxJQUFFLE1BQUlBO0FBQUUsUUFBQUEsS0FBRTtBQUFLLFlBQUVBLE9BQUksS0FBRyxNQUFJQSxHQUFFLFNBQVMsRUFBRTtBQUFHLGFBQUc7QUFBQSxNQUFHLE1BQU0sQ0FBQUEsS0FBRSxNQUFLLElBQUUsTUFBSSxJQUFFLE1BQUlBLEdBQUUsU0FBUyxFQUFFLElBQUU7QUFBSSxhQUFPRCxHQUFFLGdCQUFjO0FBQUEsSUFBQyxHQUFFLDBCQUF5QixNQUFFO0FBSGxWLFFBR29WLEtBQUc7QUFBQSxNQUFDLGFBQVk7QUFBQSxNQUFHLGFBQVk7QUFBQSxNQUFHLFlBQVc7QUFBQSxNQUFHLFdBQVU7QUFBQSxNQUFHLHFCQUFvQjtBQUFBLE1BQUcsb0JBQW1CO0FBQUEsTUFBRyxpQkFBZ0I7QUFBQSxNQUFHLFNBQVE7QUFBQSxNQUFHLFlBQVc7QUFBQSxNQUFHLFFBQU87QUFBQSxNQUFHLFVBQVMsV0FBVTtBQUFDLGVBQU8sR0FBRyxFQUFFO0FBQUEsTUFBQztBQUFBLE1BQ3JoQixlQUFjO0FBQUEsTUFBRyxrQkFBaUIsU0FBU0EsSUFBRTtBQUFDLFlBQUksSUFBRSxHQUFHO0FBQUUsZUFBTyxHQUFHLEdBQUUsRUFBRSxlQUFjQSxFQUFDO0FBQUEsTUFBQztBQUFBLE1BQUUsZUFBYyxXQUFVO0FBQUMsWUFBSUEsS0FBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUUsSUFBRSxHQUFHLEVBQUU7QUFBYyxlQUFNLENBQUNBLElBQUUsQ0FBQztBQUFBLE1BQUM7QUFBQSxNQUFFLGtCQUFpQjtBQUFBLE1BQUcsc0JBQXFCO0FBQUEsTUFBRyxPQUFNO0FBQUEsTUFBRywwQkFBeUI7QUFBQSxJQUFFO0FBSnBQLFFBSXNQLEtBQUcsRUFBQyxhQUFZLElBQUcsYUFBWSxJQUFHLFlBQVcsSUFBRyxXQUFVLElBQUcscUJBQW9CLElBQUcsb0JBQW1CLElBQUcsaUJBQWdCLElBQUcsU0FBUSxJQUFHLFlBQVcsSUFBRyxRQUFPLElBQUcsVUFBUyxXQUFVO0FBQUMsYUFBTyxHQUFHLEVBQUU7QUFBQSxJQUFDLEdBQUUsZUFBYyxJQUFHLGtCQUFpQixTQUFTQSxJQUFFO0FBQUMsVUFBSSxJQUFFLEdBQUc7QUFBRSxhQUFPLFNBQ3pmLElBQUUsRUFBRSxnQkFBY0EsS0FBRSxHQUFHLEdBQUUsRUFBRSxlQUFjQSxFQUFDO0FBQUEsSUFBQyxHQUFFLGVBQWMsV0FBVTtBQUFDLFVBQUlBLEtBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFFLElBQUUsR0FBRyxFQUFFO0FBQWMsYUFBTSxDQUFDQSxJQUFFLENBQUM7QUFBQSxJQUFDLEdBQUUsa0JBQWlCLElBQUcsc0JBQXFCLElBQUcsT0FBTSxJQUFHLDBCQUF5QixNQUFFO0FBQUUsYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxVQUFHQSxNQUFHQSxHQUFFLGNBQWE7QUFBQyxZQUFFLEVBQUUsQ0FBQyxHQUFFLENBQUM7QUFBRSxRQUFBQSxLQUFFQSxHQUFFO0FBQWEsaUJBQVFDLE1BQUtELEdBQUUsWUFBUyxFQUFFQyxFQUFDLE1BQUksRUFBRUEsRUFBQyxJQUFFRCxHQUFFQyxFQUFDO0FBQUcsZUFBTztBQUFBLE1BQUM7QUFBQyxhQUFPO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsVUFBRUYsR0FBRTtBQUFjLE1BQUFDLEtBQUVBLEdBQUVDLElBQUUsQ0FBQztBQUFFLE1BQUFELEtBQUUsU0FBT0EsTUFBRyxXQUFTQSxLQUFFLElBQUUsRUFBRSxDQUFDLEdBQUUsR0FBRUEsRUFBQztBQUFFLE1BQUFELEdBQUUsZ0JBQWNDO0FBQUUsWUFBSUQsR0FBRSxVQUFRQSxHQUFFLFlBQVksWUFBVUM7QUFBQSxJQUFFO0FBQ3JkLFFBQUksS0FBRyxFQUFDLFdBQVUsU0FBU0QsSUFBRTtBQUFDLGNBQU9BLEtBQUVBLEdBQUUsbUJBQWlCLEdBQUdBLEVBQUMsTUFBSUEsS0FBRTtBQUFBLElBQUUsR0FBRSxpQkFBZ0IsU0FBU0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsTUFBQUQsS0FBRUEsR0FBRTtBQUFnQixVQUFJRSxLQUFFLEVBQUUsR0FBRUUsS0FBRSxHQUFHSixFQUFDLEdBQUVLLEtBQUUsR0FBR0gsSUFBRUUsRUFBQztBQUFFLE1BQUFDLEdBQUUsVUFBUTtBQUFFLGlCQUFTSixNQUFHLFNBQU9BLE9BQUlJLEdBQUUsV0FBU0o7QUFBRyxVQUFFLEdBQUdELElBQUVLLElBQUVELEVBQUM7QUFBRSxlQUFPLE1BQUksR0FBRyxHQUFFSixJQUFFSSxJQUFFRixFQUFDLEdBQUUsR0FBRyxHQUFFRixJQUFFSSxFQUFDO0FBQUEsSUFBRSxHQUFFLHFCQUFvQixTQUFTSixJQUFFLEdBQUVDLElBQUU7QUFBQyxNQUFBRCxLQUFFQSxHQUFFO0FBQWdCLFVBQUlFLEtBQUUsRUFBRSxHQUFFRSxLQUFFLEdBQUdKLEVBQUMsR0FBRUssS0FBRSxHQUFHSCxJQUFFRSxFQUFDO0FBQUUsTUFBQUMsR0FBRSxNQUFJO0FBQUUsTUFBQUEsR0FBRSxVQUFRO0FBQUUsaUJBQVNKLE1BQUcsU0FBT0EsT0FBSUksR0FBRSxXQUFTSjtBQUFHLFVBQUUsR0FBR0QsSUFBRUssSUFBRUQsRUFBQztBQUFFLGVBQU8sTUFBSSxHQUFHLEdBQUVKLElBQUVJLElBQUVGLEVBQUMsR0FBRSxHQUFHLEdBQUVGLElBQUVJLEVBQUM7QUFBQSxJQUFFLEdBQUUsb0JBQW1CLFNBQVNKLElBQUUsR0FBRTtBQUFDLE1BQUFBLEtBQUVBLEdBQUU7QUFBZ0IsVUFBSUMsS0FBRSxFQUFFLEdBQUVDLEtBQ25mLEdBQUdGLEVBQUMsR0FBRUksS0FBRSxHQUFHSCxJQUFFQyxFQUFDO0FBQUUsTUFBQUUsR0FBRSxNQUFJO0FBQUUsaUJBQVMsS0FBRyxTQUFPLE1BQUlBLEdBQUUsV0FBUztBQUFHLFVBQUUsR0FBR0osSUFBRUksSUFBRUYsRUFBQztBQUFFLGVBQU8sTUFBSSxHQUFHLEdBQUVGLElBQUVFLElBQUVELEVBQUMsR0FBRSxHQUFHLEdBQUVELElBQUVFLEVBQUM7QUFBQSxJQUFFLEVBQUM7QUFBRSxhQUFTLEdBQUdGLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRUMsSUFBRSxHQUFFO0FBQUMsTUFBQUwsS0FBRUEsR0FBRTtBQUFVLGFBQU0sZUFBYSxPQUFPQSxHQUFFLHdCQUFzQkEsR0FBRSxzQkFBc0JFLElBQUVHLElBQUUsQ0FBQyxJQUFFLEVBQUUsYUFBVyxFQUFFLFVBQVUsdUJBQXFCLENBQUMsR0FBR0osSUFBRUMsRUFBQyxLQUFHLENBQUMsR0FBR0UsSUFBRUMsRUFBQyxJQUFFO0FBQUEsSUFBRTtBQUMxUyxhQUFTLEdBQUdMLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsT0FBR0UsS0FBRTtBQUFHLFVBQUlDLEtBQUUsRUFBRTtBQUFZLG1CQUFXLE9BQU9BLE1BQUcsU0FBT0EsS0FBRUEsS0FBRSxHQUFHQSxFQUFDLEtBQUdELEtBQUUsR0FBRyxDQUFDLElBQUUsS0FBRyxFQUFFLFNBQVFGLEtBQUUsRUFBRSxjQUFhRyxNQUFHSCxLQUFFLFNBQU9BLE1BQUcsV0FBU0EsTUFBRyxHQUFHRixJQUFFSSxFQUFDLElBQUU7QUFBSSxVQUFFLElBQUksRUFBRUgsSUFBRUksRUFBQztBQUFFLE1BQUFMLEdBQUUsZ0JBQWMsU0FBTyxFQUFFLFNBQU8sV0FBUyxFQUFFLFFBQU0sRUFBRSxRQUFNO0FBQUssUUFBRSxVQUFRO0FBQUcsTUFBQUEsR0FBRSxZQUFVO0FBQUUsUUFBRSxrQkFBZ0JBO0FBQUUsTUFBQUUsT0FBSUYsS0FBRUEsR0FBRSxXQUFVQSxHQUFFLDhDQUE0Q0ksSUFBRUosR0FBRSw0Q0FBMENLO0FBQUcsYUFBTztBQUFBLElBQUM7QUFDNVosYUFBUyxHQUFHTCxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxNQUFBRixLQUFFLEVBQUU7QUFBTSxxQkFBYSxPQUFPLEVBQUUsNkJBQTJCLEVBQUUsMEJBQTBCQyxJQUFFQyxFQUFDO0FBQUUscUJBQWEsT0FBTyxFQUFFLG9DQUFrQyxFQUFFLGlDQUFpQ0QsSUFBRUMsRUFBQztBQUFFLFFBQUUsVUFBUUYsTUFBRyxHQUFHLG9CQUFvQixHQUFFLEVBQUUsT0FBTSxJQUFJO0FBQUEsSUFBQztBQUNwUSxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRUMsSUFBRTtBQUFDLFVBQUlFLEtBQUVKLEdBQUU7QUFBVSxNQUFBSSxHQUFFLFFBQU1IO0FBQUUsTUFBQUcsR0FBRSxRQUFNSixHQUFFO0FBQWMsTUFBQUksR0FBRSxPQUFLLENBQUM7QUFBRSxTQUFHSixFQUFDO0FBQUUsVUFBSUssS0FBRSxFQUFFO0FBQVksbUJBQVcsT0FBT0EsTUFBRyxTQUFPQSxLQUFFRCxHQUFFLFVBQVEsR0FBR0MsRUFBQyxLQUFHQSxLQUFFLEdBQUcsQ0FBQyxJQUFFLEtBQUcsRUFBRSxTQUFRRCxHQUFFLFVBQVEsR0FBR0osSUFBRUssRUFBQztBQUFHLE1BQUFELEdBQUUsUUFBTUosR0FBRTtBQUFjLE1BQUFLLEtBQUUsRUFBRTtBQUF5QixxQkFBYSxPQUFPQSxPQUFJLEdBQUdMLElBQUUsR0FBRUssSUFBRUosRUFBQyxHQUFFRyxHQUFFLFFBQU1KLEdBQUU7QUFBZSxxQkFBYSxPQUFPLEVBQUUsNEJBQTBCLGVBQWEsT0FBT0ksR0FBRSwyQkFBeUIsZUFBYSxPQUFPQSxHQUFFLDZCQUEyQixlQUFhLE9BQU9BLEdBQUUsdUJBQXFCLElBQUVBLEdBQUUsT0FDcmYsZUFBYSxPQUFPQSxHQUFFLHNCQUFvQkEsR0FBRSxtQkFBbUIsR0FBRSxlQUFhLE9BQU9BLEdBQUUsNkJBQTJCQSxHQUFFLDBCQUEwQixHQUFFLE1BQUlBLEdBQUUsU0FBTyxHQUFHLG9CQUFvQkEsSUFBRUEsR0FBRSxPQUFNLElBQUksR0FBRSxHQUFHSixJQUFFQyxJQUFFRyxJQUFFRixFQUFDLEdBQUVFLEdBQUUsUUFBTUosR0FBRTtBQUFlLHFCQUFhLE9BQU9JLEdBQUUsc0JBQW9CSixHQUFFLFNBQU87QUFBQSxJQUFRO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxVQUFHO0FBQUMsWUFBSUMsS0FBRSxJQUFHQyxLQUFFO0FBQUU7QUFBRyxVQUFBRCxNQUFHLEdBQUdDLEVBQUMsR0FBRUEsS0FBRUEsR0FBRTtBQUFBLGVBQWFBO0FBQUcsWUFBSUUsS0FBRUg7QUFBQSxNQUFDLFNBQU9JLElBQUU7QUFBQyxRQUFBRCxLQUFFLCtCQUE2QkMsR0FBRSxVQUFRLE9BQUtBLEdBQUU7QUFBQSxNQUFLO0FBQUMsYUFBTSxFQUFDLE9BQU1MLElBQUUsUUFBTyxHQUFFLE9BQU1JLElBQUUsUUFBTyxLQUFJO0FBQUEsSUFBQztBQUMxZCxhQUFTLEdBQUdKLElBQUUsR0FBRUMsSUFBRTtBQUFDLGFBQU0sRUFBQyxPQUFNRCxJQUFFLFFBQU8sTUFBSyxPQUFNLFFBQU1DLEtBQUVBLEtBQUUsTUFBSyxRQUFPLFFBQU0sSUFBRSxJQUFFLEtBQUk7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHRCxJQUFFLEdBQUU7QUFBQyxVQUFHO0FBQUMsZ0JBQVEsTUFBTSxFQUFFLEtBQUs7QUFBQSxNQUFDLFNBQU9DLElBQUU7QUFBQyxtQkFBVyxXQUFVO0FBQUMsZ0JBQU1BO0FBQUEsUUFBRSxDQUFDO0FBQUEsTUFBQztBQUFBLElBQUM7QUFBQyxRQUFJLEtBQUcsZUFBYSxPQUFPLFVBQVEsVUFBUTtBQUFJLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFO0FBQUMsTUFBQUEsS0FBRSxHQUFHLElBQUdBLEVBQUM7QUFBRSxNQUFBQSxHQUFFLE1BQUk7QUFBRSxNQUFBQSxHQUFFLFVBQVEsRUFBQyxTQUFRLEtBQUk7QUFBRSxVQUFJQyxLQUFFLEVBQUU7QUFBTSxNQUFBRCxHQUFFLFdBQVMsV0FBVTtBQUFDLGVBQUssS0FBRyxNQUFHLEtBQUdDO0FBQUcsV0FBR0YsSUFBRSxDQUFDO0FBQUEsTUFBQztBQUFFLGFBQU9DO0FBQUEsSUFBQztBQUNyVyxhQUFTLEdBQUdELElBQUUsR0FBRUMsSUFBRTtBQUFDLE1BQUFBLEtBQUUsR0FBRyxJQUFHQSxFQUFDO0FBQUUsTUFBQUEsR0FBRSxNQUFJO0FBQUUsVUFBSUMsS0FBRUYsR0FBRSxLQUFLO0FBQXlCLFVBQUcsZUFBYSxPQUFPRSxJQUFFO0FBQUMsWUFBSUUsS0FBRSxFQUFFO0FBQU0sUUFBQUgsR0FBRSxVQUFRLFdBQVU7QUFBQyxpQkFBT0MsR0FBRUUsRUFBQztBQUFBLFFBQUM7QUFBRSxRQUFBSCxHQUFFLFdBQVMsV0FBVTtBQUFDLGFBQUdELElBQUUsQ0FBQztBQUFBLFFBQUM7QUFBQSxNQUFDO0FBQUMsVUFBSUssS0FBRUwsR0FBRTtBQUFVLGVBQU9LLE1BQUcsZUFBYSxPQUFPQSxHQUFFLHNCQUFvQkosR0FBRSxXQUFTLFdBQVU7QUFBQyxXQUFHRCxJQUFFLENBQUM7QUFBRSx1QkFBYSxPQUFPRSxPQUFJLFNBQU8sS0FBRyxLQUFHLG9CQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBRSxHQUFHLElBQUksSUFBSTtBQUFHLFlBQUlELEtBQUUsRUFBRTtBQUFNLGFBQUssa0JBQWtCLEVBQUUsT0FBTSxFQUFDLGdCQUFlLFNBQU9BLEtBQUVBLEtBQUUsR0FBRSxDQUFDO0FBQUEsTUFBQztBQUFHLGFBQU9BO0FBQUEsSUFBQztBQUNuYixhQUFTLEdBQUdELElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUVGLEdBQUU7QUFBVSxVQUFHLFNBQU9FLElBQUU7QUFBQyxRQUFBQSxLQUFFRixHQUFFLFlBQVUsSUFBSTtBQUFHLFlBQUlJLEtBQUUsb0JBQUk7QUFBSSxRQUFBRixHQUFFLElBQUksR0FBRUUsRUFBQztBQUFBLE1BQUMsTUFBTSxDQUFBQSxLQUFFRixHQUFFLElBQUksQ0FBQyxHQUFFLFdBQVNFLE9BQUlBLEtBQUUsb0JBQUksT0FBSUYsR0FBRSxJQUFJLEdBQUVFLEVBQUM7QUFBRyxNQUFBQSxHQUFFLElBQUlILEVBQUMsTUFBSUcsR0FBRSxJQUFJSCxFQUFDLEdBQUVELEtBQUUsR0FBRyxLQUFLLE1BQUtBLElBQUUsR0FBRUMsRUFBQyxHQUFFLEVBQUUsS0FBS0QsSUFBRUEsRUFBQztBQUFBLElBQUU7QUFBQyxhQUFTLEdBQUdBLElBQUU7QUFBQyxTQUFFO0FBQUMsWUFBSTtBQUFFLFlBQUcsSUFBRSxPQUFLQSxHQUFFLElBQUksS0FBRUEsR0FBRSxlQUFjLElBQUUsU0FBTyxJQUFFLFNBQU8sRUFBRSxhQUFXLE9BQUcsUUFBRztBQUFHLFlBQUcsRUFBRSxRQUFPQTtBQUFFLFFBQUFBLEtBQUVBLEdBQUU7QUFBQSxNQUFNLFNBQU8sU0FBT0E7QUFBRyxhQUFPO0FBQUEsSUFBSTtBQUNoVyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLFVBQUcsT0FBS0osR0FBRSxPQUFLLEdBQUcsUUFBT0EsT0FBSSxJQUFFQSxHQUFFLFNBQU8sU0FBT0EsR0FBRSxTQUFPLEtBQUlDLEdBQUUsU0FBTyxRQUFPQSxHQUFFLFNBQU8sUUFBTyxNQUFJQSxHQUFFLFFBQU0sU0FBT0EsR0FBRSxZQUFVQSxHQUFFLE1BQUksTUFBSSxJQUFFLEdBQUcsSUFBRyxDQUFDLEdBQUUsRUFBRSxNQUFJLEdBQUUsR0FBR0EsSUFBRSxHQUFFLENBQUMsS0FBSUEsR0FBRSxTQUFPLElBQUdEO0FBQUUsTUFBQUEsR0FBRSxTQUFPO0FBQU0sTUFBQUEsR0FBRSxRQUFNSTtBQUFFLGFBQU9KO0FBQUEsSUFBQztBQUFDLFFBQUksS0FBRyxHQUFHO0FBQVYsUUFBNEIsS0FBRztBQUFHLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsUUFBRSxRQUFNLFNBQU9GLEtBQUUsR0FBRyxHQUFFLE1BQUtDLElBQUVDLEVBQUMsSUFBRSxHQUFHLEdBQUVGLEdBQUUsT0FBTUMsSUFBRUMsRUFBQztBQUFBLElBQUM7QUFDblYsYUFBUyxHQUFHRixJQUFFLEdBQUVDLElBQUVDLElBQUVFLElBQUU7QUFBQyxNQUFBSCxLQUFFQSxHQUFFO0FBQU8sVUFBSUksS0FBRSxFQUFFO0FBQUksU0FBRyxHQUFFRCxFQUFDO0FBQUUsTUFBQUYsS0FBRSxHQUFHRixJQUFFLEdBQUVDLElBQUVDLElBQUVHLElBQUVELEVBQUM7QUFBRSxNQUFBSCxLQUFFLEdBQUc7QUFBRSxVQUFHLFNBQU9ELE1BQUcsQ0FBQyxHQUFHLFFBQU8sRUFBRSxjQUFZQSxHQUFFLGFBQVksRUFBRSxTQUFPLE9BQU1BLEdBQUUsU0FBTyxDQUFDSSxJQUFFLEdBQUdKLElBQUUsR0FBRUksRUFBQztBQUFFLE1BQUFXLE1BQUdkLE1BQUcsR0FBRyxDQUFDO0FBQUUsUUFBRSxTQUFPO0FBQUUsU0FBR0QsSUFBRSxHQUFFRSxJQUFFRSxFQUFDO0FBQUUsYUFBTyxFQUFFO0FBQUEsSUFBSztBQUN6TixhQUFTLEdBQUdKLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLFVBQUcsU0FBT0osSUFBRTtBQUFDLFlBQUlLLEtBQUVKLEdBQUU7QUFBSyxZQUFHLGVBQWEsT0FBT0ksTUFBRyxDQUFDLEdBQUdBLEVBQUMsS0FBRyxXQUFTQSxHQUFFLGdCQUFjLFNBQU9KLEdBQUUsV0FBUyxXQUFTQSxHQUFFLGFBQWEsUUFBTyxFQUFFLE1BQUksSUFBRyxFQUFFLE9BQUtJLElBQUUsR0FBR0wsSUFBRSxHQUFFSyxJQUFFSCxJQUFFRSxFQUFDO0FBQUUsUUFBQUosS0FBRSxHQUFHQyxHQUFFLE1BQUssTUFBS0MsSUFBRSxHQUFFLEVBQUUsTUFBS0UsRUFBQztBQUFFLFFBQUFKLEdBQUUsTUFBSSxFQUFFO0FBQUksUUFBQUEsR0FBRSxTQUFPO0FBQUUsZUFBTyxFQUFFLFFBQU1BO0FBQUEsTUFBQztBQUFDLE1BQUFLLEtBQUVMLEdBQUU7QUFBTSxVQUFHLE9BQUtBLEdBQUUsUUFBTUksS0FBRztBQUFDLFlBQUksSUFBRUMsR0FBRTtBQUFjLFFBQUFKLEtBQUVBLEdBQUU7QUFBUSxRQUFBQSxLQUFFLFNBQU9BLEtBQUVBLEtBQUU7QUFBRyxZQUFHQSxHQUFFLEdBQUVDLEVBQUMsS0FBR0YsR0FBRSxRQUFNLEVBQUUsSUFBSSxRQUFPLEdBQUdBLElBQUUsR0FBRUksRUFBQztBQUFBLE1BQUM7QUFBQyxRQUFFLFNBQU87QUFBRSxNQUFBSixLQUFFLEdBQUdLLElBQUVILEVBQUM7QUFBRSxNQUFBRixHQUFFLE1BQUksRUFBRTtBQUFJLE1BQUFBLEdBQUUsU0FBTztBQUFFLGFBQU8sRUFBRSxRQUFNQTtBQUFBLElBQUM7QUFDMWIsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUVFLElBQUU7QUFBQyxVQUFHLFNBQU9KLElBQUU7QUFBQyxZQUFJSyxLQUFFTCxHQUFFO0FBQWMsWUFBRyxHQUFHSyxJQUFFSCxFQUFDLEtBQUdGLEdBQUUsUUFBTSxFQUFFLElBQUksS0FBRyxLQUFHLE9BQUcsRUFBRSxlQUFhRSxLQUFFRyxJQUFFLE9BQUtMLEdBQUUsUUFBTUksSUFBRyxRQUFLSixHQUFFLFFBQU0sWUFBVSxLQUFHO0FBQUEsWUFBUyxRQUFPLEVBQUUsUUFBTUEsR0FBRSxPQUFNLEdBQUdBLElBQUUsR0FBRUksRUFBQztBQUFBLE1BQUM7QUFBQyxhQUFPLEdBQUdKLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsRUFBQztBQUFBLElBQUM7QUFDeE4sYUFBUyxHQUFHSixJQUFFLEdBQUVDLElBQUU7QUFBQyxVQUFJQyxLQUFFLEVBQUUsY0FBYUUsS0FBRUYsR0FBRSxVQUFTRyxLQUFFLFNBQU9MLEtBQUVBLEdBQUUsZ0JBQWM7QUFBSyxVQUFHLGFBQVdFLEdBQUUsS0FBSyxLQUFHLE9BQUssRUFBRSxPQUFLLEdBQUcsR0FBRSxnQkFBYyxFQUFDLFdBQVUsR0FBRSxXQUFVLE1BQUssYUFBWSxLQUFJLEdBQUUsRUFBRSxJQUFHLEVBQUUsR0FBRSxNQUFJRDtBQUFBLFdBQU07QUFBQyxZQUFHLE9BQUtBLEtBQUUsWUFBWSxRQUFPRCxLQUFFLFNBQU9LLEtBQUVBLEdBQUUsWUFBVUosS0FBRUEsSUFBRSxFQUFFLFFBQU0sRUFBRSxhQUFXLFlBQVcsRUFBRSxnQkFBYyxFQUFDLFdBQVVELElBQUUsV0FBVSxNQUFLLGFBQVksS0FBSSxHQUFFLEVBQUUsY0FBWSxNQUFLLEVBQUUsSUFBRyxFQUFFLEdBQUUsTUFBSUEsSUFBRTtBQUFLLFVBQUUsZ0JBQWMsRUFBQyxXQUFVLEdBQUUsV0FBVSxNQUFLLGFBQVksS0FBSTtBQUFFLFFBQUFFLEtBQUUsU0FBT0csS0FBRUEsR0FBRSxZQUFVSjtBQUFFLFVBQUUsSUFBRyxFQUFFO0FBQUUsY0FBSUM7QUFBQSxNQUFDO0FBQUEsVUFBTSxVQUN0ZkcsTUFBR0gsS0FBRUcsR0FBRSxZQUFVSixJQUFFLEVBQUUsZ0JBQWMsUUFBTUMsS0FBRUQsSUFBRSxFQUFFLElBQUcsRUFBRSxHQUFFLE1BQUlDO0FBQUUsU0FBR0YsSUFBRSxHQUFFSSxJQUFFSCxFQUFDO0FBQUUsYUFBTyxFQUFFO0FBQUEsSUFBSztBQUFDLGFBQVMsR0FBR0QsSUFBRSxHQUFFO0FBQUMsVUFBSUMsS0FBRSxFQUFFO0FBQUksVUFBRyxTQUFPRCxNQUFHLFNBQU9DLE1BQUcsU0FBT0QsTUFBR0EsR0FBRSxRQUFNQyxHQUFFLEdBQUUsU0FBTyxLQUFJLEVBQUUsU0FBTztBQUFBLElBQU87QUFBQyxhQUFTLEdBQUdELElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLFVBQUlDLEtBQUUsR0FBR0osRUFBQyxJQUFFLEtBQUcsRUFBRTtBQUFRLE1BQUFJLEtBQUUsR0FBRyxHQUFFQSxFQUFDO0FBQUUsU0FBRyxHQUFFRCxFQUFDO0FBQUUsTUFBQUgsS0FBRSxHQUFHRCxJQUFFLEdBQUVDLElBQUVDLElBQUVHLElBQUVELEVBQUM7QUFBRSxNQUFBRixLQUFFLEdBQUc7QUFBRSxVQUFHLFNBQU9GLE1BQUcsQ0FBQyxHQUFHLFFBQU8sRUFBRSxjQUFZQSxHQUFFLGFBQVksRUFBRSxTQUFPLE9BQU1BLEdBQUUsU0FBTyxDQUFDSSxJQUFFLEdBQUdKLElBQUUsR0FBRUksRUFBQztBQUFFLE1BQUFXLE1BQUdiLE1BQUcsR0FBRyxDQUFDO0FBQUUsUUFBRSxTQUFPO0FBQUUsU0FBR0YsSUFBRSxHQUFFQyxJQUFFRyxFQUFDO0FBQUUsYUFBTyxFQUFFO0FBQUEsSUFBSztBQUNsYSxhQUFTLEdBQUdKLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLFVBQUcsR0FBR0gsRUFBQyxHQUFFO0FBQUMsWUFBSUksS0FBRTtBQUFHLFdBQUcsQ0FBQztBQUFBLE1BQUMsTUFBTSxDQUFBQSxLQUFFO0FBQUcsU0FBRyxHQUFFRCxFQUFDO0FBQUUsVUFBRyxTQUFPLEVBQUUsVUFBVSxJQUFHSixJQUFFLENBQUMsR0FBRSxHQUFHLEdBQUVDLElBQUVDLEVBQUMsR0FBRSxHQUFHLEdBQUVELElBQUVDLElBQUVFLEVBQUMsR0FBRUYsS0FBRTtBQUFBLGVBQVcsU0FBT0YsSUFBRTtBQUFDLFlBQUksSUFBRSxFQUFFLFdBQVVPLEtBQUUsRUFBRTtBQUFjLFVBQUUsUUFBTUE7QUFBRSxZQUFJLElBQUUsRUFBRSxTQUFRRCxLQUFFTCxHQUFFO0FBQVkscUJBQVcsT0FBT0ssTUFBRyxTQUFPQSxLQUFFQSxLQUFFLEdBQUdBLEVBQUMsS0FBR0EsS0FBRSxHQUFHTCxFQUFDLElBQUUsS0FBRyxFQUFFLFNBQVFLLEtBQUUsR0FBRyxHQUFFQSxFQUFDO0FBQUcsWUFBSSxJQUFFTCxHQUFFLDBCQUF5QixJQUFFLGVBQWEsT0FBTyxLQUFHLGVBQWEsT0FBTyxFQUFFO0FBQXdCLGFBQUcsZUFBYSxPQUFPLEVBQUUsb0NBQWtDLGVBQWEsT0FBTyxFQUFFLDhCQUMxZE0sT0FBSUwsTUFBRyxNQUFJSSxPQUFJLEdBQUcsR0FBRSxHQUFFSixJQUFFSSxFQUFDO0FBQUUsYUFBRztBQUFHLFlBQUlVLEtBQUUsRUFBRTtBQUFjLFVBQUUsUUFBTUE7QUFBRSxXQUFHLEdBQUVkLElBQUUsR0FBRUUsRUFBQztBQUFFLFlBQUUsRUFBRTtBQUFjLFFBQUFHLE9BQUlMLE1BQUdjLE9BQUksS0FBRyxHQUFHLFdBQVMsTUFBSSxlQUFhLE9BQU8sTUFBSSxHQUFHLEdBQUVmLElBQUUsR0FBRUMsRUFBQyxHQUFFLElBQUUsRUFBRSxpQkFBZ0JLLEtBQUUsTUFBSSxHQUFHLEdBQUVOLElBQUVNLElBQUVMLElBQUVjLElBQUUsR0FBRVYsRUFBQyxNQUFJLEtBQUcsZUFBYSxPQUFPLEVBQUUsNkJBQTJCLGVBQWEsT0FBTyxFQUFFLHVCQUFxQixlQUFhLE9BQU8sRUFBRSxzQkFBb0IsRUFBRSxtQkFBbUIsR0FBRSxlQUFhLE9BQU8sRUFBRSw2QkFBMkIsRUFBRSwwQkFBMEIsSUFBRyxlQUFhLE9BQU8sRUFBRSxzQkFBb0IsRUFBRSxTQUFPLGFBQ2xmLGVBQWEsT0FBTyxFQUFFLHNCQUFvQixFQUFFLFNBQU8sVUFBUyxFQUFFLGdCQUFjSixJQUFFLEVBQUUsZ0JBQWMsSUFBRyxFQUFFLFFBQU1BLElBQUUsRUFBRSxRQUFNLEdBQUUsRUFBRSxVQUFRSSxJQUFFSixLQUFFSyxPQUFJLGVBQWEsT0FBTyxFQUFFLHNCQUFvQixFQUFFLFNBQU8sVUFBU0wsS0FBRTtBQUFBLE1BQUcsT0FBSztBQUFDLFlBQUUsRUFBRTtBQUFVLFdBQUdGLElBQUUsQ0FBQztBQUFFLFFBQUFPLEtBQUUsRUFBRTtBQUFjLFFBQUFELEtBQUUsRUFBRSxTQUFPLEVBQUUsY0FBWUMsS0FBRSxHQUFHLEVBQUUsTUFBS0EsRUFBQztBQUFFLFVBQUUsUUFBTUQ7QUFBRSxZQUFFLEVBQUU7QUFBYSxRQUFBVSxLQUFFLEVBQUU7QUFBUSxZQUFFZixHQUFFO0FBQVkscUJBQVcsT0FBTyxLQUFHLFNBQU8sSUFBRSxJQUFFLEdBQUcsQ0FBQyxLQUFHLElBQUUsR0FBR0EsRUFBQyxJQUFFLEtBQUcsRUFBRSxTQUFRLElBQUUsR0FBRyxHQUFFLENBQUM7QUFBRyxZQUFJZ0IsS0FBRWhCLEdBQUU7QUFBeUIsU0FBQyxJQUFFLGVBQWEsT0FBT2dCLE1BQUcsZUFBYSxPQUFPLEVBQUUsNEJBQzllLGVBQWEsT0FBTyxFQUFFLG9DQUFrQyxlQUFhLE9BQU8sRUFBRSw4QkFBNEJWLE9BQUksS0FBR1MsT0FBSSxNQUFJLEdBQUcsR0FBRSxHQUFFZCxJQUFFLENBQUM7QUFBRSxhQUFHO0FBQUcsUUFBQWMsS0FBRSxFQUFFO0FBQWMsVUFBRSxRQUFNQTtBQUFFLFdBQUcsR0FBRWQsSUFBRSxHQUFFRSxFQUFDO0FBQUUsWUFBSVEsS0FBRSxFQUFFO0FBQWMsUUFBQUwsT0FBSSxLQUFHUyxPQUFJSixNQUFHLEdBQUcsV0FBUyxNQUFJLGVBQWEsT0FBT0ssT0FBSSxHQUFHLEdBQUVoQixJQUFFZ0IsSUFBRWYsRUFBQyxHQUFFVSxLQUFFLEVBQUUsaUJBQWdCTixLQUFFLE1BQUksR0FBRyxHQUFFTCxJQUFFSyxJQUFFSixJQUFFYyxJQUFFSixJQUFFLENBQUMsS0FBRyxVQUFLLEtBQUcsZUFBYSxPQUFPLEVBQUUsOEJBQTRCLGVBQWEsT0FBTyxFQUFFLHdCQUFzQixlQUFhLE9BQU8sRUFBRSx1QkFBcUIsRUFBRSxvQkFBb0JWLElBQUVVLElBQUUsQ0FBQyxHQUFFLGVBQWEsT0FBTyxFQUFFLDhCQUM1ZixFQUFFLDJCQUEyQlYsSUFBRVUsSUFBRSxDQUFDLElBQUcsZUFBYSxPQUFPLEVBQUUsdUJBQXFCLEVBQUUsU0FBTyxJQUFHLGVBQWEsT0FBTyxFQUFFLDRCQUEwQixFQUFFLFNBQU8sVUFBUSxlQUFhLE9BQU8sRUFBRSxzQkFBb0JMLE9BQUlQLEdBQUUsaUJBQWVnQixPQUFJaEIsR0FBRSxrQkFBZ0IsRUFBRSxTQUFPLElBQUcsZUFBYSxPQUFPLEVBQUUsMkJBQXlCTyxPQUFJUCxHQUFFLGlCQUFlZ0IsT0FBSWhCLEdBQUUsa0JBQWdCLEVBQUUsU0FBTyxPQUFNLEVBQUUsZ0JBQWNFLElBQUUsRUFBRSxnQkFBY1UsS0FBRyxFQUFFLFFBQU1WLElBQUUsRUFBRSxRQUFNVSxJQUFFLEVBQUUsVUFBUSxHQUFFVixLQUFFSSxPQUFJLGVBQWEsT0FBTyxFQUFFLHNCQUFvQkMsT0FBSVAsR0FBRSxpQkFBZWdCLE9BQ2pmaEIsR0FBRSxrQkFBZ0IsRUFBRSxTQUFPLElBQUcsZUFBYSxPQUFPLEVBQUUsMkJBQXlCTyxPQUFJUCxHQUFFLGlCQUFlZ0IsT0FBSWhCLEdBQUUsa0JBQWdCLEVBQUUsU0FBTyxPQUFNRSxLQUFFO0FBQUEsTUFBRztBQUFDLGFBQU8sR0FBR0YsSUFBRSxHQUFFQyxJQUFFQyxJQUFFRyxJQUFFRCxFQUFDO0FBQUEsSUFBQztBQUNuSyxhQUFTLEdBQUdKLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRUMsSUFBRTtBQUFDLFNBQUdMLElBQUUsQ0FBQztBQUFFLFVBQUksSUFBRSxPQUFLLEVBQUUsUUFBTTtBQUFLLFVBQUcsQ0FBQ0UsTUFBRyxDQUFDLEVBQUUsUUFBT0UsTUFBRyxHQUFHLEdBQUVILElBQUUsS0FBRSxHQUFFLEdBQUdELElBQUUsR0FBRUssRUFBQztBQUFFLE1BQUFILEtBQUUsRUFBRTtBQUFVLFNBQUcsVUFBUTtBQUFFLFVBQUlLLEtBQUUsS0FBRyxlQUFhLE9BQU9OLEdBQUUsMkJBQXlCLE9BQUtDLEdBQUUsT0FBTztBQUFFLFFBQUUsU0FBTztBQUFFLGVBQU9GLE1BQUcsS0FBRyxFQUFFLFFBQU0sR0FBRyxHQUFFQSxHQUFFLE9BQU0sTUFBS0ssRUFBQyxHQUFFLEVBQUUsUUFBTSxHQUFHLEdBQUUsTUFBS0UsSUFBRUYsRUFBQyxLQUFHLEdBQUdMLElBQUUsR0FBRU8sSUFBRUYsRUFBQztBQUFFLFFBQUUsZ0JBQWNILEdBQUU7QUFBTSxNQUFBRSxNQUFHLEdBQUcsR0FBRUgsSUFBRSxJQUFFO0FBQUUsYUFBTyxFQUFFO0FBQUEsSUFBSztBQUFDLGFBQVMsR0FBR0QsSUFBRTtBQUFDLFVBQUksSUFBRUEsR0FBRTtBQUFVLFFBQUUsaUJBQWUsR0FBR0EsSUFBRSxFQUFFLGdCQUFlLEVBQUUsbUJBQWlCLEVBQUUsT0FBTyxJQUFFLEVBQUUsV0FBUyxHQUFHQSxJQUFFLEVBQUUsU0FBUSxLQUFFO0FBQUUsU0FBR0EsSUFBRSxFQUFFLGFBQWE7QUFBQSxJQUFDO0FBQzVlLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsU0FBRztBQUFFLFNBQUdBLEVBQUM7QUFBRSxRQUFFLFNBQU87QUFBSSxTQUFHSixJQUFFLEdBQUVDLElBQUVDLEVBQUM7QUFBRSxhQUFPLEVBQUU7QUFBQSxJQUFLO0FBQUMsUUFBSSxLQUFHLEVBQUMsWUFBVyxNQUFLLGFBQVksTUFBSyxXQUFVLEVBQUM7QUFBRSxhQUFTLEdBQUdGLElBQUU7QUFBQyxhQUFNLEVBQUMsV0FBVUEsSUFBRSxXQUFVLE1BQUssYUFBWSxLQUFJO0FBQUEsSUFBQztBQUNsTSxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsRUFBRSxjQUFhRSxLQUFFLEVBQUUsU0FBUUMsS0FBRSxPQUFHLElBQUUsT0FBSyxFQUFFLFFBQU0sTUFBS0U7QUFBRSxPQUFDQSxLQUFFLE9BQUtBLEtBQUUsU0FBT1AsTUFBRyxTQUFPQSxHQUFFLGdCQUFjLFFBQUcsT0FBS0ksS0FBRTtBQUFJLFVBQUdHLEdBQUUsQ0FBQUYsS0FBRSxNQUFHLEVBQUUsU0FBTztBQUFBLGVBQWEsU0FBT0wsTUFBRyxTQUFPQSxHQUFFLGNBQWMsQ0FBQUksTUFBRztBQUFFLFFBQUUsR0FBRUEsS0FBRSxDQUFDO0FBQUUsVUFBRyxTQUFPSixJQUFFO0FBQUMsV0FBRyxDQUFDO0FBQUUsUUFBQUEsS0FBRSxFQUFFO0FBQWMsWUFBRyxTQUFPQSxPQUFJQSxLQUFFQSxHQUFFLFlBQVcsU0FBT0EsSUFBRyxRQUFPLE9BQUssRUFBRSxPQUFLLEtBQUcsRUFBRSxRQUFNLElBQUUsU0FBT0EsR0FBRSxPQUFLLEVBQUUsUUFBTSxJQUFFLEVBQUUsUUFBTSxZQUFXO0FBQUssWUFBRUUsR0FBRTtBQUFTLFFBQUFGLEtBQUVFLEdBQUU7QUFBUyxlQUFPRyxNQUFHSCxLQUFFLEVBQUUsTUFBS0csS0FBRSxFQUFFLE9BQU0sSUFBRSxFQUFDLE1BQUssVUFBUyxVQUFTLEVBQUMsR0FBRSxPQUFLSCxLQUFFLE1BQUksU0FBT0csTUFBR0EsR0FBRSxhQUFXLEdBQUVBLEdBQUUsZUFDN2UsS0FBR0EsS0FBRSxHQUFHLEdBQUVILElBQUUsR0FBRSxJQUFJLEdBQUVGLEtBQUUsR0FBR0EsSUFBRUUsSUFBRUQsSUFBRSxJQUFJLEdBQUVJLEdBQUUsU0FBTyxHQUFFTCxHQUFFLFNBQU8sR0FBRUssR0FBRSxVQUFRTCxJQUFFLEVBQUUsUUFBTUssSUFBRSxFQUFFLE1BQU0sZ0JBQWMsR0FBR0osRUFBQyxHQUFFLEVBQUUsZ0JBQWMsSUFBR0QsTUFBRyxHQUFHLEdBQUUsQ0FBQztBQUFBLE1BQUM7QUFBQyxNQUFBSSxLQUFFSixHQUFFO0FBQWMsVUFBRyxTQUFPSSxPQUFJRyxLQUFFSCxHQUFFLFlBQVcsU0FBT0csSUFBRyxRQUFPLEdBQUdQLElBQUUsR0FBRSxHQUFFRSxJQUFFSyxJQUFFSCxJQUFFSCxFQUFDO0FBQUUsVUFBR0ksSUFBRTtBQUFDLFFBQUFBLEtBQUVILEdBQUU7QUFBUyxZQUFFLEVBQUU7QUFBSyxRQUFBRSxLQUFFSixHQUFFO0FBQU0sUUFBQU8sS0FBRUgsR0FBRTtBQUFRLFlBQUksSUFBRSxFQUFDLE1BQUssVUFBUyxVQUFTRixHQUFFLFNBQVE7QUFBRSxlQUFLLElBQUUsTUFBSSxFQUFFLFVBQVFFLE1BQUdGLEtBQUUsRUFBRSxPQUFNQSxHQUFFLGFBQVcsR0FBRUEsR0FBRSxlQUFhLEdBQUUsRUFBRSxZQUFVLFNBQU9BLEtBQUUsR0FBR0UsSUFBRSxDQUFDLEdBQUVGLEdBQUUsZUFBYUUsR0FBRSxlQUFhO0FBQVUsaUJBQU9HLEtBQUVGLEtBQUUsR0FBR0UsSUFBRUYsRUFBQyxLQUFHQSxLQUFFLEdBQUdBLElBQUUsR0FBRUosSUFBRSxJQUFJLEdBQUVJLEdBQUUsU0FBTztBQUFHLFFBQUFBLEdBQUUsU0FDbmY7QUFBRSxRQUFBSCxHQUFFLFNBQU87QUFBRSxRQUFBQSxHQUFFLFVBQVFHO0FBQUUsVUFBRSxRQUFNSDtBQUFFLFFBQUFBLEtBQUVHO0FBQUUsUUFBQUEsS0FBRSxFQUFFO0FBQU0sWUFBRUwsR0FBRSxNQUFNO0FBQWMsWUFBRSxTQUFPLElBQUUsR0FBR0MsRUFBQyxJQUFFLEVBQUMsV0FBVSxFQUFFLFlBQVVBLElBQUUsV0FBVSxNQUFLLGFBQVksRUFBRSxZQUFXO0FBQUUsUUFBQUksR0FBRSxnQkFBYztBQUFFLFFBQUFBLEdBQUUsYUFBV0wsR0FBRSxhQUFXLENBQUNDO0FBQUUsVUFBRSxnQkFBYztBQUFHLGVBQU9DO0FBQUEsTUFBQztBQUFDLE1BQUFHLEtBQUVMLEdBQUU7QUFBTSxNQUFBQSxLQUFFSyxHQUFFO0FBQVEsTUFBQUgsS0FBRSxHQUFHRyxJQUFFLEVBQUMsTUFBSyxXQUFVLFVBQVNILEdBQUUsU0FBUSxDQUFDO0FBQUUsYUFBSyxFQUFFLE9BQUssT0FBS0EsR0FBRSxRQUFNRDtBQUFHLE1BQUFDLEdBQUUsU0FBTztBQUFFLE1BQUFBLEdBQUUsVUFBUTtBQUFLLGVBQU9GLE9BQUlDLEtBQUUsRUFBRSxXQUFVLFNBQU9BLE1BQUcsRUFBRSxZQUFVLENBQUNELEVBQUMsR0FBRSxFQUFFLFNBQU8sTUFBSUMsR0FBRSxLQUFLRCxFQUFDO0FBQUcsUUFBRSxRQUFNRTtBQUFFLFFBQUUsZ0JBQWM7QUFBSyxhQUFPQTtBQUFBLElBQUM7QUFDbmQsYUFBUyxHQUFHRixJQUFFLEdBQUU7QUFBQyxVQUFFLEdBQUcsRUFBQyxNQUFLLFdBQVUsVUFBUyxFQUFDLEdBQUVBLEdBQUUsTUFBSyxHQUFFLElBQUk7QUFBRSxRQUFFLFNBQU9BO0FBQUUsYUFBT0EsR0FBRSxRQUFNO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsZUFBT0EsTUFBRyxHQUFHQSxFQUFDO0FBQUUsU0FBRyxHQUFFRixHQUFFLE9BQU0sTUFBS0MsRUFBQztBQUFFLE1BQUFELEtBQUUsR0FBRyxHQUFFLEVBQUUsYUFBYSxRQUFRO0FBQUUsTUFBQUEsR0FBRSxTQUFPO0FBQUUsUUFBRSxnQkFBYztBQUFLLGFBQU9BO0FBQUEsSUFBQztBQUMvTixhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRUMsSUFBRSxHQUFFO0FBQUMsVUFBR0osSUFBRTtBQUFDLFlBQUcsRUFBRSxRQUFNLElBQUksUUFBTyxFQUFFLFNBQU8sTUFBS0MsS0FBRSxHQUFHLE1BQU1ILEdBQUUsR0FBRyxDQUFDLENBQUMsR0FBRSxHQUFHQyxJQUFFLEdBQUUsR0FBRUUsRUFBQztBQUFFLFlBQUcsU0FBTyxFQUFFLGNBQWMsUUFBTyxFQUFFLFFBQU1GLEdBQUUsT0FBTSxFQUFFLFNBQU8sS0FBSTtBQUFLLFFBQUFLLEtBQUVILEdBQUU7QUFBUyxRQUFBRSxLQUFFLEVBQUU7QUFBSyxRQUFBRixLQUFFLEdBQUcsRUFBQyxNQUFLLFdBQVUsVUFBU0EsR0FBRSxTQUFRLEdBQUVFLElBQUUsR0FBRSxJQUFJO0FBQUUsUUFBQUMsS0FBRSxHQUFHQSxJQUFFRCxJQUFFLEdBQUUsSUFBSTtBQUFFLFFBQUFDLEdBQUUsU0FBTztBQUFFLFFBQUFILEdBQUUsU0FBTztBQUFFLFFBQUFHLEdBQUUsU0FBTztBQUFFLFFBQUFILEdBQUUsVUFBUUc7QUFBRSxVQUFFLFFBQU1IO0FBQUUsZUFBSyxFQUFFLE9BQUssTUFBSSxHQUFHLEdBQUVGLEdBQUUsT0FBTSxNQUFLLENBQUM7QUFBRSxVQUFFLE1BQU0sZ0JBQWMsR0FBRyxDQUFDO0FBQUUsVUFBRSxnQkFBYztBQUFHLGVBQU9LO0FBQUEsTUFBQztBQUFDLFVBQUcsT0FBSyxFQUFFLE9BQUssR0FBRyxRQUFPLEdBQUdMLElBQUUsR0FBRSxHQUFFLElBQUk7QUFBRSxVQUFHLFNBQU9JLEdBQUUsTUFBSztBQUFDLFFBQUFGLEtBQUVFLEdBQUUsZUFBYUEsR0FBRSxZQUFZO0FBQ2hmLFlBQUdGLEdBQUUsS0FBSUssS0FBRUwsR0FBRTtBQUFLLFFBQUFBLEtBQUVLO0FBQUUsUUFBQUYsS0FBRSxNQUFNTixHQUFFLEdBQUcsQ0FBQztBQUFFLFFBQUFHLEtBQUUsR0FBR0csSUFBRUgsSUFBRSxNQUFNO0FBQUUsZUFBTyxHQUFHRixJQUFFLEdBQUUsR0FBRUUsRUFBQztBQUFBLE1BQUM7QUFBQyxNQUFBSyxLQUFFLE9BQUssSUFBRVAsR0FBRTtBQUFZLFVBQUcsTUFBSU8sSUFBRTtBQUFDLFFBQUFMLEtBQUVpQjtBQUFFLFlBQUcsU0FBT2pCLElBQUU7QUFBQyxrQkFBTyxJQUFFLENBQUMsR0FBRTtBQUFBLFlBQUMsS0FBSztBQUFFLGNBQUFFLEtBQUU7QUFBRTtBQUFBLFlBQU0sS0FBSztBQUFHLGNBQUFBLEtBQUU7QUFBRTtBQUFBLFlBQU0sS0FBSztBQUFBLFlBQUcsS0FBSztBQUFBLFlBQUksS0FBSztBQUFBLFlBQUksS0FBSztBQUFBLFlBQUksS0FBSztBQUFBLFlBQUssS0FBSztBQUFBLFlBQUssS0FBSztBQUFBLFlBQUssS0FBSztBQUFBLFlBQUssS0FBSztBQUFBLFlBQU0sS0FBSztBQUFBLFlBQU0sS0FBSztBQUFBLFlBQU0sS0FBSztBQUFBLFlBQU8sS0FBSztBQUFBLFlBQU8sS0FBSztBQUFBLFlBQU8sS0FBSztBQUFBLFlBQVEsS0FBSztBQUFBLFlBQVEsS0FBSztBQUFBLFlBQVEsS0FBSztBQUFBLFlBQVEsS0FBSztBQUFBLFlBQVMsS0FBSztBQUFBLFlBQVMsS0FBSztBQUFTLGNBQUFBLEtBQUU7QUFBRztBQUFBLFlBQU0sS0FBSztBQUFVLGNBQUFBLEtBQUU7QUFBVTtBQUFBLFlBQU07QUFBUSxjQUFBQSxLQUFFO0FBQUEsVUFBQztBQUFDLFVBQUFBLEtBQUUsT0FBS0EsTUFBR0YsR0FBRSxpQkFBZSxNQUFJLElBQUVFO0FBQ25mLGdCQUFJQSxNQUFHQSxPQUFJQyxHQUFFLGNBQVlBLEdBQUUsWUFBVUQsSUFBRSxHQUFHSixJQUFFSSxFQUFDLEdBQUUsR0FBR0YsSUFBRUYsSUFBRUksSUFBRSxFQUFFO0FBQUEsUUFBRTtBQUFDLFdBQUc7QUFBRSxRQUFBRixLQUFFLEdBQUcsTUFBTUgsR0FBRSxHQUFHLENBQUMsQ0FBQztBQUFFLGVBQU8sR0FBR0MsSUFBRSxHQUFFLEdBQUVFLEVBQUM7QUFBQSxNQUFDO0FBQUMsVUFBRyxTQUFPRSxHQUFFLEtBQUssUUFBTyxFQUFFLFNBQU8sS0FBSSxFQUFFLFFBQU1KLEdBQUUsT0FBTSxJQUFFLEdBQUcsS0FBSyxNQUFLQSxFQUFDLEdBQUVJLEdBQUUsY0FBWSxHQUFFO0FBQUssTUFBQUosS0FBRUssR0FBRTtBQUFZLFdBQUcsR0FBR0QsR0FBRSxXQUFXO0FBQUUsV0FBRztBQUFFLE1BQUFXLEtBQUU7QUFBRyxXQUFHO0FBQUssZUFBT2YsT0FBSSxHQUFHLElBQUksSUFBRSxJQUFHLEdBQUcsSUFBSSxJQUFFLElBQUcsR0FBRyxJQUFJLElBQUUsSUFBRyxLQUFHQSxHQUFFLElBQUcsS0FBR0EsR0FBRSxVQUFTLEtBQUc7QUFBRyxVQUFFLEdBQUcsR0FBRUUsR0FBRSxRQUFRO0FBQUUsUUFBRSxTQUFPO0FBQUssYUFBTztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdGLElBQUUsR0FBRUMsSUFBRTtBQUFDLE1BQUFELEdBQUUsU0FBTztBQUFFLFVBQUlFLEtBQUVGLEdBQUU7QUFBVSxlQUFPRSxPQUFJQSxHQUFFLFNBQU87QUFBRyxTQUFHRixHQUFFLFFBQU8sR0FBRUMsRUFBQztBQUFBLElBQUM7QUFDeGMsYUFBUyxHQUFHRCxJQUFFLEdBQUVDLElBQUVDLElBQUVFLElBQUU7QUFBQyxVQUFJQyxLQUFFTCxHQUFFO0FBQWMsZUFBT0ssS0FBRUwsR0FBRSxnQkFBYyxFQUFDLGFBQVksR0FBRSxXQUFVLE1BQUssb0JBQW1CLEdBQUUsTUFBS0UsSUFBRSxNQUFLRCxJQUFFLFVBQVNHLEdBQUMsS0FBR0MsR0FBRSxjQUFZLEdBQUVBLEdBQUUsWUFBVSxNQUFLQSxHQUFFLHFCQUFtQixHQUFFQSxHQUFFLE9BQUtILElBQUVHLEdBQUUsT0FBS0osSUFBRUksR0FBRSxXQUFTRDtBQUFBLElBQUU7QUFDM08sYUFBUyxHQUFHSixJQUFFLEdBQUVDLElBQUU7QUFBQyxVQUFJQyxLQUFFLEVBQUUsY0FBYUUsS0FBRUYsR0FBRSxhQUFZRyxLQUFFSCxHQUFFO0FBQUssU0FBR0YsSUFBRSxHQUFFRSxHQUFFLFVBQVNELEVBQUM7QUFBRSxNQUFBQyxLQUFFLEVBQUU7QUFBUSxVQUFHLE9BQUtBLEtBQUUsR0FBRyxDQUFBQSxLQUFFQSxLQUFFLElBQUUsR0FBRSxFQUFFLFNBQU87QUFBQSxXQUFRO0FBQUMsWUFBRyxTQUFPRixNQUFHLE9BQUtBLEdBQUUsUUFBTSxLQUFLLEdBQUUsTUFBSUEsS0FBRSxFQUFFLE9BQU0sU0FBT0EsTUFBRztBQUFDLGNBQUcsT0FBS0EsR0FBRSxJQUFJLFVBQU9BLEdBQUUsaUJBQWUsR0FBR0EsSUFBRUMsSUFBRSxDQUFDO0FBQUEsbUJBQVUsT0FBS0QsR0FBRSxJQUFJLElBQUdBLElBQUVDLElBQUUsQ0FBQztBQUFBLG1CQUFVLFNBQU9ELEdBQUUsT0FBTTtBQUFDLFlBQUFBLEdBQUUsTUFBTSxTQUFPQTtBQUFFLFlBQUFBLEtBQUVBLEdBQUU7QUFBTTtBQUFBLFVBQVE7QUFBQyxjQUFHQSxPQUFJLEVBQUUsT0FBTTtBQUFFLGlCQUFLLFNBQU9BLEdBQUUsV0FBUztBQUFDLGdCQUFHLFNBQU9BLEdBQUUsVUFBUUEsR0FBRSxXQUFTLEVBQUUsT0FBTTtBQUFFLFlBQUFBLEtBQUVBLEdBQUU7QUFBQSxVQUFNO0FBQUMsVUFBQUEsR0FBRSxRQUFRLFNBQU9BLEdBQUU7QUFBTyxVQUFBQSxLQUFFQSxHQUFFO0FBQUEsUUFBTztBQUFDLFFBQUFFLE1BQUc7QUFBQSxNQUFDO0FBQUMsUUFBRSxHQUFFQSxFQUFDO0FBQUUsVUFBRyxPQUFLLEVBQUUsT0FBSyxHQUFHLEdBQUUsZ0JBQy9lO0FBQUEsVUFBVSxTQUFPRSxJQUFFO0FBQUEsUUFBQyxLQUFLO0FBQVcsVUFBQUgsS0FBRSxFQUFFO0FBQU0sZUFBSUcsS0FBRSxNQUFLLFNBQU9ILEtBQUcsQ0FBQUQsS0FBRUMsR0FBRSxXQUFVLFNBQU9ELE1BQUcsU0FBTyxHQUFHQSxFQUFDLE1BQUlJLEtBQUVILEtBQUdBLEtBQUVBLEdBQUU7QUFBUSxVQUFBQSxLQUFFRztBQUFFLG1CQUFPSCxNQUFHRyxLQUFFLEVBQUUsT0FBTSxFQUFFLFFBQU0sU0FBT0EsS0FBRUgsR0FBRSxTQUFRQSxHQUFFLFVBQVE7QUFBTSxhQUFHLEdBQUUsT0FBR0csSUFBRUgsSUFBRUksRUFBQztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQVksVUFBQUosS0FBRTtBQUFLLFVBQUFHLEtBQUUsRUFBRTtBQUFNLGVBQUksRUFBRSxRQUFNLE1BQUssU0FBT0EsTUFBRztBQUFDLFlBQUFKLEtBQUVJLEdBQUU7QUFBVSxnQkFBRyxTQUFPSixNQUFHLFNBQU8sR0FBR0EsRUFBQyxHQUFFO0FBQUMsZ0JBQUUsUUFBTUk7QUFBRTtBQUFBLFlBQUs7QUFBQyxZQUFBSixLQUFFSSxHQUFFO0FBQVEsWUFBQUEsR0FBRSxVQUFRSDtBQUFFLFlBQUFBLEtBQUVHO0FBQUUsWUFBQUEsS0FBRUo7QUFBQSxVQUFDO0FBQUMsYUFBRyxHQUFFLE1BQUdDLElBQUUsTUFBS0ksRUFBQztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQVcsYUFBRyxHQUFFLE9BQUcsTUFBSyxNQUFLLE1BQU07QUFBRTtBQUFBLFFBQU07QUFBUSxZQUFFLGdCQUFjO0FBQUEsTUFBSTtBQUFDLGFBQU8sRUFBRTtBQUFBLElBQUs7QUFDN2QsYUFBUyxHQUFHTCxJQUFFLEdBQUU7QUFBQyxhQUFLLEVBQUUsT0FBSyxNQUFJLFNBQU9BLE9BQUlBLEdBQUUsWUFBVSxNQUFLLEVBQUUsWUFBVSxNQUFLLEVBQUUsU0FBTztBQUFBLElBQUU7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLGVBQU9ELE9BQUksRUFBRSxlQUFhQSxHQUFFO0FBQWMsWUFBSSxFQUFFO0FBQU0sVUFBRyxPQUFLQyxLQUFFLEVBQUUsWUFBWSxRQUFPO0FBQUssVUFBRyxTQUFPRCxNQUFHLEVBQUUsVUFBUUEsR0FBRSxNQUFNLE9BQU0sTUFBTUQsR0FBRSxHQUFHLENBQUM7QUFBRSxVQUFHLFNBQU8sRUFBRSxPQUFNO0FBQUMsUUFBQUMsS0FBRSxFQUFFO0FBQU0sUUFBQUMsS0FBRSxHQUFHRCxJQUFFQSxHQUFFLFlBQVk7QUFBRSxVQUFFLFFBQU1DO0FBQUUsYUFBSUEsR0FBRSxTQUFPLEdBQUUsU0FBT0QsR0FBRSxVQUFTLENBQUFBLEtBQUVBLEdBQUUsU0FBUUMsS0FBRUEsR0FBRSxVQUFRLEdBQUdELElBQUVBLEdBQUUsWUFBWSxHQUFFQyxHQUFFLFNBQU87QUFBRSxRQUFBQSxHQUFFLFVBQVE7QUFBQSxNQUFJO0FBQUMsYUFBTyxFQUFFO0FBQUEsSUFBSztBQUM5YSxhQUFTLEdBQUdELElBQUUsR0FBRUMsSUFBRTtBQUFDLGNBQU8sRUFBRSxLQUFJO0FBQUEsUUFBQyxLQUFLO0FBQUUsYUFBRyxDQUFDO0FBQUUsYUFBRztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUUsYUFBRyxDQUFDO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRSxhQUFHLEVBQUUsSUFBSSxLQUFHLEdBQUcsQ0FBQztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUUsYUFBRyxHQUFFLEVBQUUsVUFBVSxhQUFhO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRyxjQUFJQyxLQUFFLEVBQUUsS0FBSyxVQUFTRSxLQUFFLEVBQUUsY0FBYztBQUFNLFlBQUUsSUFBR0YsR0FBRSxhQUFhO0FBQUUsVUFBQUEsR0FBRSxnQkFBY0U7QUFBRTtBQUFBLFFBQU0sS0FBSztBQUFHLFVBQUFGLEtBQUUsRUFBRTtBQUFjLGNBQUcsU0FBT0EsSUFBRTtBQUFDLGdCQUFHLFNBQU9BLEdBQUUsV0FBVyxRQUFPLEVBQUUsR0FBRSxFQUFFLFVBQVEsQ0FBQyxHQUFFLEVBQUUsU0FBTyxLQUFJO0FBQUssZ0JBQUcsT0FBS0QsS0FBRSxFQUFFLE1BQU0sWUFBWSxRQUFPLEdBQUdELElBQUUsR0FBRUMsRUFBQztBQUFFLGNBQUUsR0FBRSxFQUFFLFVBQVEsQ0FBQztBQUFFLFlBQUFELEtBQUUsR0FBR0EsSUFBRSxHQUFFQyxFQUFDO0FBQUUsbUJBQU8sU0FBT0QsS0FBRUEsR0FBRSxVQUFRO0FBQUEsVUFBSTtBQUFDLFlBQUUsR0FBRSxFQUFFLFVBQVEsQ0FBQztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUcsVUFBQUUsS0FBRSxPQUFLRCxLQUNyZixFQUFFO0FBQVksY0FBRyxPQUFLRCxHQUFFLFFBQU0sTUFBSztBQUFDLGdCQUFHRSxHQUFFLFFBQU8sR0FBR0YsSUFBRSxHQUFFQyxFQUFDO0FBQUUsY0FBRSxTQUFPO0FBQUEsVUFBRztBQUFDLFVBQUFHLEtBQUUsRUFBRTtBQUFjLG1CQUFPQSxPQUFJQSxHQUFFLFlBQVUsTUFBS0EsR0FBRSxPQUFLLE1BQUtBLEdBQUUsYUFBVztBQUFNLFlBQUUsR0FBRSxFQUFFLE9BQU87QUFBRSxjQUFHRixHQUFFO0FBQUEsY0FBVyxRQUFPO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBRyxLQUFLO0FBQUcsaUJBQU8sRUFBRSxRQUFNLEdBQUUsR0FBR0YsSUFBRSxHQUFFQyxFQUFDO0FBQUEsTUFBQztBQUFDLGFBQU8sR0FBR0QsSUFBRSxHQUFFQyxFQUFDO0FBQUEsSUFBQztBQUFDLFFBQUk7QUFBSixRQUFPO0FBQVAsUUFBVTtBQUFWLFFBQWE7QUFDeFEsU0FBRyxTQUFTRCxJQUFFLEdBQUU7QUFBQyxlQUFRQyxLQUFFLEVBQUUsT0FBTSxTQUFPQSxNQUFHO0FBQUMsWUFBRyxNQUFJQSxHQUFFLE9BQUssTUFBSUEsR0FBRSxJQUFJLENBQUFELEdBQUUsWUFBWUMsR0FBRSxTQUFTO0FBQUEsaUJBQVUsTUFBSUEsR0FBRSxPQUFLLFNBQU9BLEdBQUUsT0FBTTtBQUFDLFVBQUFBLEdBQUUsTUFBTSxTQUFPQTtBQUFFLFVBQUFBLEtBQUVBLEdBQUU7QUFBTTtBQUFBLFFBQVE7QUFBQyxZQUFHQSxPQUFJLEVBQUU7QUFBTSxlQUFLLFNBQU9BLEdBQUUsV0FBUztBQUFDLGNBQUcsU0FBT0EsR0FBRSxVQUFRQSxHQUFFLFdBQVMsRUFBRTtBQUFPLFVBQUFBLEtBQUVBLEdBQUU7QUFBQSxRQUFNO0FBQUMsUUFBQUEsR0FBRSxRQUFRLFNBQU9BLEdBQUU7QUFBTyxRQUFBQSxLQUFFQSxHQUFFO0FBQUEsTUFBTztBQUFBLElBQUM7QUFBRSxTQUFHLFdBQVU7QUFBQSxJQUFDO0FBQ3hULFNBQUcsU0FBU0QsSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsVUFBSUUsS0FBRUosR0FBRTtBQUFjLFVBQUdJLE9BQUlGLElBQUU7QUFBQyxRQUFBRixLQUFFLEVBQUU7QUFBVSxXQUFHLEdBQUcsT0FBTztBQUFFLFlBQUlLLEtBQUU7QUFBSyxnQkFBT0osSUFBRTtBQUFBLFVBQUMsS0FBSztBQUFRLFlBQUFHLEtBQUUsR0FBR0osSUFBRUksRUFBQztBQUFFLFlBQUFGLEtBQUUsR0FBR0YsSUFBRUUsRUFBQztBQUFFLFlBQUFHLEtBQUUsQ0FBQztBQUFFO0FBQUEsVUFBTSxLQUFLO0FBQVMsWUFBQUQsS0FBRSxFQUFFLENBQUMsR0FBRUEsSUFBRSxFQUFDLE9BQU0sT0FBTSxDQUFDO0FBQUUsWUFBQUYsS0FBRSxFQUFFLENBQUMsR0FBRUEsSUFBRSxFQUFDLE9BQU0sT0FBTSxDQUFDO0FBQUUsWUFBQUcsS0FBRSxDQUFDO0FBQUU7QUFBQSxVQUFNLEtBQUs7QUFBVyxZQUFBRCxLQUFFLEdBQUdKLElBQUVJLEVBQUM7QUFBRSxZQUFBRixLQUFFLEdBQUdGLElBQUVFLEVBQUM7QUFBRSxZQUFBRyxLQUFFLENBQUM7QUFBRTtBQUFBLFVBQU07QUFBUSwyQkFBYSxPQUFPRCxHQUFFLFdBQVMsZUFBYSxPQUFPRixHQUFFLFlBQVVGLEdBQUUsVUFBUTtBQUFBLFFBQUc7QUFBQyxXQUFHQyxJQUFFQyxFQUFDO0FBQUUsWUFBSTtBQUFFLFFBQUFELEtBQUU7QUFBSyxhQUFJSyxNQUFLRixHQUFFLEtBQUcsQ0FBQ0YsR0FBRSxlQUFlSSxFQUFDLEtBQUdGLEdBQUUsZUFBZUUsRUFBQyxLQUFHLFFBQU1GLEdBQUVFLEVBQUMsRUFBRSxLQUFHLFlBQVVBLElBQUU7QUFBQyxjQUFJQyxLQUFFSCxHQUFFRSxFQUFDO0FBQUUsZUFBSSxLQUFLQyxHQUFFLENBQUFBLEdBQUUsZUFBZSxDQUFDLE1BQ2xmTixPQUFJQSxLQUFFLENBQUMsSUFBR0EsR0FBRSxDQUFDLElBQUU7QUFBQSxRQUFHLE1BQUssK0JBQTRCSyxNQUFHLGVBQWFBLE1BQUcscUNBQW1DQSxNQUFHLCtCQUE2QkEsTUFBRyxnQkFBY0EsT0FBSSxHQUFHLGVBQWVBLEVBQUMsSUFBRUQsT0FBSUEsS0FBRSxDQUFDLE1BQUlBLEtBQUVBLE1BQUcsQ0FBQyxHQUFHLEtBQUtDLElBQUUsSUFBSTtBQUFHLGFBQUlBLE1BQUtKLElBQUU7QUFBQyxjQUFJLElBQUVBLEdBQUVJLEVBQUM7QUFBRSxVQUFBQyxLQUFFLFFBQU1ILEtBQUVBLEdBQUVFLEVBQUMsSUFBRTtBQUFPLGNBQUdKLEdBQUUsZUFBZUksRUFBQyxLQUFHLE1BQUlDLE9BQUksUUFBTSxLQUFHLFFBQU1BLElBQUcsS0FBRyxZQUFVRCxHQUFFLEtBQUdDLElBQUU7QUFBQyxpQkFBSSxLQUFLQSxHQUFFLEVBQUNBLEdBQUUsZUFBZSxDQUFDLEtBQUcsS0FBRyxFQUFFLGVBQWUsQ0FBQyxNQUFJTixPQUFJQSxLQUFFLENBQUMsSUFBR0EsR0FBRSxDQUFDLElBQUU7QUFBSSxpQkFBSSxLQUFLLEVBQUUsR0FBRSxlQUFlLENBQUMsS0FBR00sR0FBRSxDQUFDLE1BQUksRUFBRSxDQUFDLE1BQUlOLE9BQUlBLEtBQUUsQ0FBQyxJQUFHQSxHQUFFLENBQUMsSUFBRSxFQUFFLENBQUM7QUFBQSxVQUFFLE1BQU0sQ0FBQUEsT0FBSUksT0FBSUEsS0FBRSxDQUFDLElBQUdBLEdBQUU7QUFBQSxZQUFLQztBQUFBLFlBQ3BmTDtBQUFBLFVBQUMsSUFBR0EsS0FBRTtBQUFBLGNBQU0sK0JBQTRCSyxNQUFHLElBQUUsSUFBRSxFQUFFLFNBQU8sUUFBT0MsS0FBRUEsS0FBRUEsR0FBRSxTQUFPLFFBQU8sUUFBTSxLQUFHQSxPQUFJLE1BQUlGLEtBQUVBLE1BQUcsQ0FBQyxHQUFHLEtBQUtDLElBQUUsQ0FBQyxLQUFHLGVBQWFBLEtBQUUsYUFBVyxPQUFPLEtBQUcsYUFBVyxPQUFPLE1BQUlELEtBQUVBLE1BQUcsQ0FBQyxHQUFHLEtBQUtDLElBQUUsS0FBRyxDQUFDLElBQUUscUNBQW1DQSxNQUFHLCtCQUE2QkEsT0FBSSxHQUFHLGVBQWVBLEVBQUMsS0FBRyxRQUFNLEtBQUcsZUFBYUEsTUFBRyxFQUFFLFVBQVNOLEVBQUMsR0FBRUssTUFBR0UsT0FBSSxNQUFJRixLQUFFLENBQUMsT0FBS0EsS0FBRUEsTUFBRyxDQUFDLEdBQUcsS0FBS0MsSUFBRSxDQUFDO0FBQUEsUUFBRTtBQUFDLFFBQUFMLE9BQUlJLEtBQUVBLE1BQUcsQ0FBQyxHQUFHLEtBQUssU0FBUUosRUFBQztBQUFFLFlBQUlLLEtBQUVEO0FBQUUsWUFBRyxFQUFFLGNBQVlDLEdBQUUsR0FBRSxTQUFPO0FBQUEsTUFBQztBQUFBLElBQUM7QUFBRSxTQUFHLFNBQVNOLElBQUUsR0FBRUMsSUFBRUMsSUFBRTtBQUFDLE1BQUFELE9BQUlDLE9BQUksRUFBRSxTQUFPO0FBQUEsSUFBRTtBQUNoZSxhQUFTLEdBQUdGLElBQUUsR0FBRTtBQUFDLFVBQUcsQ0FBQ2UsR0FBRSxTQUFPZixHQUFFLFVBQVM7QUFBQSxRQUFDLEtBQUs7QUFBUyxjQUFFQSxHQUFFO0FBQUssbUJBQVFDLEtBQUUsTUFBSyxTQUFPLElBQUcsVUFBTyxFQUFFLGNBQVlBLEtBQUUsSUFBRyxJQUFFLEVBQUU7QUFBUSxtQkFBT0EsS0FBRUQsR0FBRSxPQUFLLE9BQUtDLEdBQUUsVUFBUTtBQUFLO0FBQUEsUUFBTSxLQUFLO0FBQVksVUFBQUEsS0FBRUQsR0FBRTtBQUFLLG1CQUFRRSxLQUFFLE1BQUssU0FBT0QsS0FBRyxVQUFPQSxHQUFFLGNBQVlDLEtBQUVELEtBQUdBLEtBQUVBLEdBQUU7QUFBUSxtQkFBT0MsS0FBRSxLQUFHLFNBQU9GLEdBQUUsT0FBS0EsR0FBRSxPQUFLLE9BQUtBLEdBQUUsS0FBSyxVQUFRLE9BQUtFLEdBQUUsVUFBUTtBQUFBLE1BQUk7QUFBQSxJQUFDO0FBQzVVLGFBQVMsRUFBRUYsSUFBRTtBQUFDLFVBQUksSUFBRSxTQUFPQSxHQUFFLGFBQVdBLEdBQUUsVUFBVSxVQUFRQSxHQUFFLE9BQU1DLEtBQUUsR0FBRUMsS0FBRTtBQUFFLFVBQUcsRUFBRSxVQUFRRSxLQUFFSixHQUFFLE9BQU0sU0FBT0ksS0FBRyxDQUFBSCxNQUFHRyxHQUFFLFFBQU1BLEdBQUUsWUFBV0YsTUFBR0UsR0FBRSxlQUFhLFVBQVNGLE1BQUdFLEdBQUUsUUFBTSxVQUFTQSxHQUFFLFNBQU9KLElBQUVJLEtBQUVBLEdBQUU7QUFBQSxVQUFhLE1BQUlBLEtBQUVKLEdBQUUsT0FBTSxTQUFPSSxLQUFHLENBQUFILE1BQUdHLEdBQUUsUUFBTUEsR0FBRSxZQUFXRixNQUFHRSxHQUFFLGNBQWFGLE1BQUdFLEdBQUUsT0FBTUEsR0FBRSxTQUFPSixJQUFFSSxLQUFFQSxHQUFFO0FBQVEsTUFBQUosR0FBRSxnQkFBY0U7QUFBRSxNQUFBRixHQUFFLGFBQVdDO0FBQUUsYUFBTztBQUFBLElBQUM7QUFDN1YsYUFBUyxHQUFHRCxJQUFFLEdBQUVDLElBQUU7QUFBQyxVQUFJQyxLQUFFLEVBQUU7QUFBYSxTQUFHLENBQUM7QUFBRSxjQUFPLEVBQUUsS0FBSTtBQUFBLFFBQUMsS0FBSztBQUFBLFFBQUUsS0FBSztBQUFBLFFBQUcsS0FBSztBQUFBLFFBQUcsS0FBSztBQUFBLFFBQUUsS0FBSztBQUFBLFFBQUcsS0FBSztBQUFBLFFBQUUsS0FBSztBQUFBLFFBQUUsS0FBSztBQUFBLFFBQUcsS0FBSztBQUFBLFFBQUUsS0FBSztBQUFHLGlCQUFPLEVBQUUsQ0FBQyxHQUFFO0FBQUEsUUFBSyxLQUFLO0FBQUUsaUJBQU8sR0FBRyxFQUFFLElBQUksS0FBRyxHQUFHLEdBQUUsRUFBRSxDQUFDLEdBQUU7QUFBQSxRQUFLLEtBQUs7QUFBRSxVQUFBQSxLQUFFLEVBQUU7QUFBVSxhQUFHO0FBQUUsWUFBRSxFQUFFO0FBQUUsWUFBRSxDQUFDO0FBQUUsYUFBRztBQUFFLFVBQUFBLEdBQUUsbUJBQWlCQSxHQUFFLFVBQVFBLEdBQUUsZ0JBQWVBLEdBQUUsaUJBQWU7QUFBTSxjQUFHLFNBQU9GLE1BQUcsU0FBT0EsR0FBRSxNQUFNLElBQUcsQ0FBQyxJQUFFLEVBQUUsU0FBTyxJQUFFLFNBQU9BLE1BQUdBLEdBQUUsY0FBYyxnQkFBYyxPQUFLLEVBQUUsUUFBTSxTQUFPLEVBQUUsU0FBTyxNQUFLLFNBQU8sT0FBSyxHQUFHLEVBQUUsR0FBRSxLQUFHO0FBQU8sYUFBR0EsSUFBRSxDQUFDO0FBQUUsWUFBRSxDQUFDO0FBQUUsaUJBQU87QUFBQSxRQUFLLEtBQUs7QUFBRSxhQUFHLENBQUM7QUFBRSxjQUFJSSxLQUFFLEdBQUcsR0FBRyxPQUFPO0FBQzdmLFVBQUFILEtBQUUsRUFBRTtBQUFLLGNBQUcsU0FBT0QsTUFBRyxRQUFNLEVBQUUsVUFBVSxJQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUVFLEVBQUMsR0FBRUosR0FBRSxRQUFNLEVBQUUsUUFBTSxFQUFFLFNBQU8sS0FBSSxFQUFFLFNBQU87QUFBQSxlQUFhO0FBQUMsZ0JBQUcsQ0FBQ0UsSUFBRTtBQUFDLGtCQUFHLFNBQU8sRUFBRSxVQUFVLE9BQU0sTUFBTUgsR0FBRSxHQUFHLENBQUM7QUFBRSxnQkFBRSxDQUFDO0FBQUUscUJBQU87QUFBQSxZQUFJO0FBQUMsWUFBQUMsS0FBRSxHQUFHLEdBQUcsT0FBTztBQUFFLGdCQUFHLEdBQUcsQ0FBQyxHQUFFO0FBQUMsY0FBQUUsS0FBRSxFQUFFO0FBQVUsY0FBQUQsS0FBRSxFQUFFO0FBQUssa0JBQUlJLEtBQUUsRUFBRTtBQUFjLGNBQUFILEdBQUUsRUFBRSxJQUFFO0FBQUUsY0FBQUEsR0FBRSxFQUFFLElBQUVHO0FBQUUsY0FBQUwsS0FBRSxPQUFLLEVBQUUsT0FBSztBQUFHLHNCQUFPQyxJQUFFO0FBQUEsZ0JBQUMsS0FBSztBQUFTLG9CQUFFLFVBQVNDLEVBQUM7QUFBRSxvQkFBRSxTQUFRQSxFQUFDO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQUEsZ0JBQVMsS0FBSztBQUFBLGdCQUFTLEtBQUs7QUFBUSxvQkFBRSxRQUFPQSxFQUFDO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQUEsZ0JBQVEsS0FBSztBQUFRLHVCQUFJRSxLQUFFLEdBQUVBLEtBQUUsR0FBRyxRQUFPQSxLQUFJLEdBQUUsR0FBR0EsRUFBQyxHQUFFRixFQUFDO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQVMsb0JBQUUsU0FBUUEsRUFBQztBQUFFO0FBQUEsZ0JBQU0sS0FBSztBQUFBLGdCQUFNLEtBQUs7QUFBQSxnQkFBUSxLQUFLO0FBQU87QUFBQSxvQkFBRTtBQUFBLG9CQUNuaEJBO0FBQUEsa0JBQUM7QUFBRSxvQkFBRSxRQUFPQSxFQUFDO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQVUsb0JBQUUsVUFBU0EsRUFBQztBQUFFO0FBQUEsZ0JBQU0sS0FBSztBQUFRLHFCQUFHQSxJQUFFRyxFQUFDO0FBQUUsb0JBQUUsV0FBVUgsRUFBQztBQUFFO0FBQUEsZ0JBQU0sS0FBSztBQUFTLGtCQUFBQSxHQUFFLGdCQUFjLEVBQUMsYUFBWSxDQUFDLENBQUNHLEdBQUUsU0FBUTtBQUFFLG9CQUFFLFdBQVVILEVBQUM7QUFBRTtBQUFBLGdCQUFNLEtBQUs7QUFBVyxxQkFBR0EsSUFBRUcsRUFBQyxHQUFFLEVBQUUsV0FBVUgsRUFBQztBQUFBLGNBQUM7QUFBQyxpQkFBR0QsSUFBRUksRUFBQztBQUFFLGNBQUFELEtBQUU7QUFBSyx1QkFBUSxLQUFLQyxHQUFFLEtBQUdBLEdBQUUsZUFBZSxDQUFDLEdBQUU7QUFBQyxvQkFBSUUsS0FBRUYsR0FBRSxDQUFDO0FBQUUsK0JBQWEsSUFBRSxhQUFXLE9BQU9FLEtBQUVMLEdBQUUsZ0JBQWNLLE9BQUksU0FBS0YsR0FBRSw0QkFBMEIsR0FBR0gsR0FBRSxhQUFZSyxJQUFFUCxFQUFDLEdBQUVJLEtBQUUsQ0FBQyxZQUFXRyxFQUFDLEtBQUcsYUFBVyxPQUFPQSxNQUFHTCxHQUFFLGdCQUFjLEtBQUdLLE9BQUksU0FBS0YsR0FBRSw0QkFBMEI7QUFBQSxrQkFBR0gsR0FBRTtBQUFBLGtCQUMxZUs7QUFBQSxrQkFBRVA7QUFBQSxnQkFBQyxHQUFFSSxLQUFFLENBQUMsWUFBVyxLQUFHRyxFQUFDLEtBQUcsR0FBRyxlQUFlLENBQUMsS0FBRyxRQUFNQSxNQUFHLGVBQWEsS0FBRyxFQUFFLFVBQVNMLEVBQUM7QUFBQSxjQUFDO0FBQUMsc0JBQU9ELElBQUU7QUFBQSxnQkFBQyxLQUFLO0FBQVEscUJBQUdDLEVBQUM7QUFBRSxxQkFBR0EsSUFBRUcsSUFBRSxJQUFFO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQVcscUJBQUdILEVBQUM7QUFBRSxxQkFBR0EsRUFBQztBQUFFO0FBQUEsZ0JBQU0sS0FBSztBQUFBLGdCQUFTLEtBQUs7QUFBUztBQUFBLGdCQUFNO0FBQVEsaUNBQWEsT0FBT0csR0FBRSxZQUFVSCxHQUFFLFVBQVE7QUFBQSxjQUFHO0FBQUMsY0FBQUEsS0FBRUU7QUFBRSxnQkFBRSxjQUFZRjtBQUFFLHVCQUFPQSxPQUFJLEVBQUUsU0FBTztBQUFBLFlBQUUsT0FBSztBQUFDLGtCQUFFLE1BQUlFLEdBQUUsV0FBU0EsS0FBRUEsR0FBRTtBQUFjLGlEQUFpQ0osT0FBSUEsS0FBRSxHQUFHQyxFQUFDO0FBQUcsaURBQWlDRCxLQUFFLGFBQVdDLE1BQUdELEtBQUUsRUFBRSxjQUFjLEtBQUssR0FBRUEsR0FBRSxZQUFVLHNCQUF1QkEsS0FBRUEsR0FBRSxZQUFZQSxHQUFFLFVBQVUsS0FDemdCLGFBQVcsT0FBT0UsR0FBRSxLQUFHRixLQUFFLEVBQUUsY0FBY0MsSUFBRSxFQUFDLElBQUdDLEdBQUUsR0FBRSxDQUFDLEtBQUdGLEtBQUUsRUFBRSxjQUFjQyxFQUFDLEdBQUUsYUFBV0EsT0FBSSxJQUFFRCxJQUFFRSxHQUFFLFdBQVMsRUFBRSxXQUFTLE9BQUdBLEdBQUUsU0FBTyxFQUFFLE9BQUtBLEdBQUUsVUFBUUYsS0FBRSxFQUFFLGdCQUFnQkEsSUFBRUMsRUFBQztBQUFFLGNBQUFELEdBQUUsRUFBRSxJQUFFO0FBQUUsY0FBQUEsR0FBRSxFQUFFLElBQUVFO0FBQUUsaUJBQUdGLElBQUUsR0FBRSxPQUFHLEtBQUU7QUFBRSxnQkFBRSxZQUFVQTtBQUFFLGlCQUFFO0FBQUMsb0JBQUUsR0FBR0MsSUFBRUMsRUFBQztBQUFFLHdCQUFPRCxJQUFFO0FBQUEsa0JBQUMsS0FBSztBQUFTLHNCQUFFLFVBQVNELEVBQUM7QUFBRSxzQkFBRSxTQUFRQSxFQUFDO0FBQUUsb0JBQUFJLEtBQUVGO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQUEsa0JBQVMsS0FBSztBQUFBLGtCQUFTLEtBQUs7QUFBUSxzQkFBRSxRQUFPRixFQUFDO0FBQUUsb0JBQUFJLEtBQUVGO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQUEsa0JBQVEsS0FBSztBQUFRLHlCQUFJRSxLQUFFLEdBQUVBLEtBQUUsR0FBRyxRQUFPQSxLQUFJLEdBQUUsR0FBR0EsRUFBQyxHQUFFSixFQUFDO0FBQUUsb0JBQUFJLEtBQUVGO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQVMsc0JBQUUsU0FBUUYsRUFBQztBQUFFLG9CQUFBSSxLQUFFRjtBQUFFO0FBQUEsa0JBQU0sS0FBSztBQUFBLGtCQUFNLEtBQUs7QUFBQSxrQkFBUSxLQUFLO0FBQU87QUFBQSxzQkFBRTtBQUFBLHNCQUNsZkY7QUFBQSxvQkFBQztBQUFFLHNCQUFFLFFBQU9BLEVBQUM7QUFBRSxvQkFBQUksS0FBRUY7QUFBRTtBQUFBLGtCQUFNLEtBQUs7QUFBVSxzQkFBRSxVQUFTRixFQUFDO0FBQUUsb0JBQUFJLEtBQUVGO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQVEsdUJBQUdGLElBQUVFLEVBQUM7QUFBRSxvQkFBQUUsS0FBRSxHQUFHSixJQUFFRSxFQUFDO0FBQUUsc0JBQUUsV0FBVUYsRUFBQztBQUFFO0FBQUEsa0JBQU0sS0FBSztBQUFTLG9CQUFBSSxLQUFFRjtBQUFFO0FBQUEsa0JBQU0sS0FBSztBQUFTLG9CQUFBRixHQUFFLGdCQUFjLEVBQUMsYUFBWSxDQUFDLENBQUNFLEdBQUUsU0FBUTtBQUFFLG9CQUFBRSxLQUFFLEVBQUUsQ0FBQyxHQUFFRixJQUFFLEVBQUMsT0FBTSxPQUFNLENBQUM7QUFBRSxzQkFBRSxXQUFVRixFQUFDO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQVcsdUJBQUdBLElBQUVFLEVBQUM7QUFBRSxvQkFBQUUsS0FBRSxHQUFHSixJQUFFRSxFQUFDO0FBQUUsc0JBQUUsV0FBVUYsRUFBQztBQUFFO0FBQUEsa0JBQU07QUFBUSxvQkFBQUksS0FBRUY7QUFBQSxnQkFBQztBQUFDLG1CQUFHRCxJQUFFRyxFQUFDO0FBQUUsZ0JBQUFHLEtBQUVIO0FBQUUscUJBQUlDLE1BQUtFLEdBQUUsS0FBR0EsR0FBRSxlQUFlRixFQUFDLEdBQUU7QUFBQyxzQkFBSSxJQUFFRSxHQUFFRixFQUFDO0FBQUUsOEJBQVVBLEtBQUUsR0FBR0wsSUFBRSxDQUFDLElBQUUsOEJBQTRCSyxNQUFHLElBQUUsSUFBRSxFQUFFLFNBQU8sUUFBTyxRQUFNLEtBQUcsR0FBR0wsSUFBRSxDQUFDLEtBQUcsZUFBYUssS0FBRSxhQUFXLE9BQU8sS0FBRyxlQUM3ZUosTUFBRyxPQUFLLE1BQUksR0FBR0QsSUFBRSxDQUFDLElBQUUsYUFBVyxPQUFPLEtBQUcsR0FBR0EsSUFBRSxLQUFHLENBQUMsSUFBRSxxQ0FBbUNLLE1BQUcsK0JBQTZCQSxNQUFHLGdCQUFjQSxPQUFJLEdBQUcsZUFBZUEsRUFBQyxJQUFFLFFBQU0sS0FBRyxlQUFhQSxNQUFHLEVBQUUsVUFBU0wsRUFBQyxJQUFFLFFBQU0sS0FBRyxHQUFHQSxJQUFFSyxJQUFFLEdBQUUsQ0FBQztBQUFBLGdCQUFFO0FBQUMsd0JBQU9KLElBQUU7QUFBQSxrQkFBQyxLQUFLO0FBQVEsdUJBQUdELEVBQUM7QUFBRSx1QkFBR0EsSUFBRUUsSUFBRSxLQUFFO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQVcsdUJBQUdGLEVBQUM7QUFBRSx1QkFBR0EsRUFBQztBQUFFO0FBQUEsa0JBQU0sS0FBSztBQUFTLDRCQUFNRSxHQUFFLFNBQU9GLEdBQUUsYUFBYSxTQUFRLEtBQUcsR0FBR0UsR0FBRSxLQUFLLENBQUM7QUFBRTtBQUFBLGtCQUFNLEtBQUs7QUFBUyxvQkFBQUYsR0FBRSxXQUFTLENBQUMsQ0FBQ0UsR0FBRTtBQUFTLG9CQUFBRyxLQUFFSCxHQUFFO0FBQU0sNEJBQU1HLEtBQUUsR0FBR0wsSUFBRSxDQUFDLENBQUNFLEdBQUUsVUFBU0csSUFBRSxLQUFFLElBQUUsUUFBTUgsR0FBRSxnQkFBYztBQUFBLHNCQUFHRjtBQUFBLHNCQUFFLENBQUMsQ0FBQ0UsR0FBRTtBQUFBLHNCQUFTQSxHQUFFO0FBQUEsc0JBQ2xmO0FBQUEsb0JBQUU7QUFBRTtBQUFBLGtCQUFNO0FBQVEsbUNBQWEsT0FBT0UsR0FBRSxZQUFVSixHQUFFLFVBQVE7QUFBQSxnQkFBRztBQUFDLHdCQUFPQyxJQUFFO0FBQUEsa0JBQUMsS0FBSztBQUFBLGtCQUFTLEtBQUs7QUFBQSxrQkFBUSxLQUFLO0FBQUEsa0JBQVMsS0FBSztBQUFXLG9CQUFBQyxLQUFFLENBQUMsQ0FBQ0EsR0FBRTtBQUFVLDBCQUFNO0FBQUEsa0JBQUUsS0FBSztBQUFNLG9CQUFBQSxLQUFFO0FBQUcsMEJBQU07QUFBQSxrQkFBRTtBQUFRLG9CQUFBQSxLQUFFO0FBQUEsZ0JBQUU7QUFBQSxjQUFDO0FBQUMsY0FBQUEsT0FBSSxFQUFFLFNBQU87QUFBQSxZQUFFO0FBQUMscUJBQU8sRUFBRSxRQUFNLEVBQUUsU0FBTyxLQUFJLEVBQUUsU0FBTztBQUFBLFVBQVE7QUFBQyxZQUFFLENBQUM7QUFBRSxpQkFBTztBQUFBLFFBQUssS0FBSztBQUFFLGNBQUdGLE1BQUcsUUFBTSxFQUFFLFVBQVUsSUFBR0EsSUFBRSxHQUFFQSxHQUFFLGVBQWNFLEVBQUM7QUFBQSxlQUFNO0FBQUMsZ0JBQUcsYUFBVyxPQUFPQSxNQUFHLFNBQU8sRUFBRSxVQUFVLE9BQU0sTUFBTUgsR0FBRSxHQUFHLENBQUM7QUFBRSxZQUFBRSxLQUFFLEdBQUcsR0FBRyxPQUFPO0FBQUUsZUFBRyxHQUFHLE9BQU87QUFBRSxnQkFBRyxHQUFHLENBQUMsR0FBRTtBQUFDLGNBQUFDLEtBQUUsRUFBRTtBQUFVLGNBQUFELEtBQUUsRUFBRTtBQUFjLGNBQUFDLEdBQUUsRUFBRSxJQUFFO0FBQUUsa0JBQUdHLEtBQUVILEdBQUUsY0FBWUQ7QUFBRSxvQkFBR0QsS0FDdmYsSUFBRyxTQUFPQSxHQUFFLFNBQU9BLEdBQUUsS0FBSTtBQUFBLGtCQUFDLEtBQUs7QUFBRSx1QkFBR0UsR0FBRSxXQUFVRCxJQUFFLE9BQUtELEdBQUUsT0FBSyxFQUFFO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQUUsNkJBQUtBLEdBQUUsY0FBYyw0QkFBMEIsR0FBR0UsR0FBRSxXQUFVRCxJQUFFLE9BQUtELEdBQUUsT0FBSyxFQUFFO0FBQUEsZ0JBQUM7QUFBQTtBQUFDLGNBQUFLLE9BQUksRUFBRSxTQUFPO0FBQUEsWUFBRSxNQUFNLENBQUFILE1BQUcsTUFBSUQsR0FBRSxXQUFTQSxLQUFFQSxHQUFFLGVBQWUsZUFBZUMsRUFBQyxHQUFFQSxHQUFFLEVBQUUsSUFBRSxHQUFFLEVBQUUsWUFBVUE7QUFBQSxVQUFDO0FBQUMsWUFBRSxDQUFDO0FBQUUsaUJBQU87QUFBQSxRQUFLLEtBQUs7QUFBRyxZQUFFLENBQUM7QUFBRSxVQUFBQSxLQUFFLEVBQUU7QUFBYyxjQUFHLFNBQU9GLE1BQUcsU0FBT0EsR0FBRSxpQkFBZSxTQUFPQSxHQUFFLGNBQWMsWUFBVztBQUFDLGdCQUFHZSxNQUFHLFNBQU8sTUFBSSxPQUFLLEVBQUUsT0FBSyxNQUFJLE9BQUssRUFBRSxRQUFNLEtBQUssSUFBRyxHQUFFLEdBQUcsR0FBRSxFQUFFLFNBQU8sT0FBTVYsS0FBRTtBQUFBLHFCQUFXQSxLQUFFLEdBQUcsQ0FBQyxHQUFFLFNBQU9ILE1BQUcsU0FBT0EsR0FBRSxZQUFXO0FBQUMsa0JBQUcsU0FDNWZGLElBQUU7QUFBQyxvQkFBRyxDQUFDSyxHQUFFLE9BQU0sTUFBTU4sR0FBRSxHQUFHLENBQUM7QUFBRSxnQkFBQU0sS0FBRSxFQUFFO0FBQWMsZ0JBQUFBLEtBQUUsU0FBT0EsS0FBRUEsR0FBRSxhQUFXO0FBQUssb0JBQUcsQ0FBQ0EsR0FBRSxPQUFNLE1BQU1OLEdBQUUsR0FBRyxDQUFDO0FBQUUsZ0JBQUFNLEdBQUUsRUFBRSxJQUFFO0FBQUEsY0FBQyxNQUFNLElBQUcsR0FBRSxPQUFLLEVBQUUsUUFBTSxTQUFPLEVBQUUsZ0JBQWMsT0FBTSxFQUFFLFNBQU87QUFBRSxnQkFBRSxDQUFDO0FBQUUsY0FBQUEsS0FBRTtBQUFBLFlBQUUsTUFBTSxVQUFPLE9BQUssR0FBRyxFQUFFLEdBQUUsS0FBRyxPQUFNQSxLQUFFO0FBQUcsZ0JBQUcsQ0FBQ0EsR0FBRSxRQUFPLEVBQUUsUUFBTSxRQUFNLElBQUU7QUFBQSxVQUFJO0FBQUMsY0FBRyxPQUFLLEVBQUUsUUFBTSxLQUFLLFFBQU8sRUFBRSxRQUFNSixJQUFFO0FBQUUsVUFBQUMsS0FBRSxTQUFPQTtBQUFFLFVBQUFBLFFBQUssU0FBT0YsTUFBRyxTQUFPQSxHQUFFLGtCQUFnQkUsT0FBSSxFQUFFLE1BQU0sU0FBTyxNQUFLLE9BQUssRUFBRSxPQUFLLE9BQUssU0FBT0YsTUFBRyxPQUFLLEVBQUUsVUFBUSxLQUFHLE1BQUksTUFBSSxJQUFFLEtBQUcsR0FBRztBQUFJLG1CQUFPLEVBQUUsZ0JBQWMsRUFBRSxTQUFPO0FBQUcsWUFBRSxDQUFDO0FBQUUsaUJBQU87QUFBQSxRQUFLLEtBQUs7QUFBRSxpQkFBTyxHQUFHLEdBQ3hmLEdBQUdBLElBQUUsQ0FBQyxHQUFFLFNBQU9BLE1BQUcsR0FBRyxFQUFFLFVBQVUsYUFBYSxHQUFFLEVBQUUsQ0FBQyxHQUFFO0FBQUEsUUFBSyxLQUFLO0FBQUcsaUJBQU8sR0FBRyxFQUFFLEtBQUssUUFBUSxHQUFFLEVBQUUsQ0FBQyxHQUFFO0FBQUEsUUFBSyxLQUFLO0FBQUcsaUJBQU8sR0FBRyxFQUFFLElBQUksS0FBRyxHQUFHLEdBQUUsRUFBRSxDQUFDLEdBQUU7QUFBQSxRQUFLLEtBQUs7QUFBRyxZQUFFLENBQUM7QUFBRSxVQUFBSyxLQUFFLEVBQUU7QUFBYyxjQUFHLFNBQU9BLEdBQUUsUUFBTyxFQUFFLENBQUMsR0FBRTtBQUFLLFVBQUFILEtBQUUsT0FBSyxFQUFFLFFBQU07QUFBSyxjQUFFRyxHQUFFO0FBQVUsY0FBRyxTQUFPLEVBQUUsS0FBR0gsR0FBRSxJQUFHRyxJQUFFLEtBQUU7QUFBQSxlQUFNO0FBQUMsZ0JBQUcsTUFBSSxLQUFHLFNBQU9MLE1BQUcsT0FBS0EsR0FBRSxRQUFNLEtBQUssTUFBSUEsS0FBRSxFQUFFLE9BQU0sU0FBT0EsTUFBRztBQUFDLGtCQUFFLEdBQUdBLEVBQUM7QUFBRSxrQkFBRyxTQUFPLEdBQUU7QUFBQyxrQkFBRSxTQUFPO0FBQUksbUJBQUdLLElBQUUsS0FBRTtBQUFFLGdCQUFBSCxLQUFFLEVBQUU7QUFBWSx5QkFBT0EsT0FBSSxFQUFFLGNBQVlBLElBQUUsRUFBRSxTQUFPO0FBQUcsa0JBQUUsZUFBYTtBQUFFLGdCQUFBQSxLQUFFRDtBQUFFLHFCQUFJQSxLQUFFLEVBQUUsT0FBTSxTQUFPQSxLQUFHLENBQUFJLEtBQUVKLElBQUVELEtBQUVFLElBQUVHLEdBQUUsU0FBTyxVQUM3ZSxJQUFFQSxHQUFFLFdBQVUsU0FBTyxLQUFHQSxHQUFFLGFBQVcsR0FBRUEsR0FBRSxRQUFNTCxJQUFFSyxHQUFFLFFBQU0sTUFBS0EsR0FBRSxlQUFhLEdBQUVBLEdBQUUsZ0JBQWMsTUFBS0EsR0FBRSxnQkFBYyxNQUFLQSxHQUFFLGNBQVksTUFBS0EsR0FBRSxlQUFhLE1BQUtBLEdBQUUsWUFBVSxTQUFPQSxHQUFFLGFBQVcsRUFBRSxZQUFXQSxHQUFFLFFBQU0sRUFBRSxPQUFNQSxHQUFFLFFBQU0sRUFBRSxPQUFNQSxHQUFFLGVBQWEsR0FBRUEsR0FBRSxZQUFVLE1BQUtBLEdBQUUsZ0JBQWMsRUFBRSxlQUFjQSxHQUFFLGdCQUFjLEVBQUUsZUFBY0EsR0FBRSxjQUFZLEVBQUUsYUFBWUEsR0FBRSxPQUFLLEVBQUUsTUFBS0wsS0FBRSxFQUFFLGNBQWFLLEdBQUUsZUFBYSxTQUFPTCxLQUFFLE9BQUssRUFBQyxPQUFNQSxHQUFFLE9BQU0sY0FBYUEsR0FBRSxhQUFZLElBQUdDLEtBQUVBLEdBQUU7QUFBUSxrQkFBRSxHQUFFLEVBQUUsVUFBUSxJQUFFLENBQUM7QUFBRSx1QkFBTyxFQUFFO0FBQUEsY0FBSztBQUFDLGNBQUFELEtBQ2xnQkEsR0FBRTtBQUFBLFlBQU87QUFBQyxxQkFBT0ssR0FBRSxRQUFNLEVBQUUsSUFBRSxPQUFLLEVBQUUsU0FBTyxLQUFJSCxLQUFFLE1BQUcsR0FBR0csSUFBRSxLQUFFLEdBQUUsRUFBRSxRQUFNO0FBQUEsVUFBUTtBQUFBLGVBQUs7QUFBQyxnQkFBRyxDQUFDSCxHQUFFLEtBQUdGLEtBQUUsR0FBRyxDQUFDLEdBQUUsU0FBT0EsSUFBRTtBQUFDLGtCQUFHLEVBQUUsU0FBTyxLQUFJRSxLQUFFLE1BQUdELEtBQUVELEdBQUUsYUFBWSxTQUFPQyxPQUFJLEVBQUUsY0FBWUEsSUFBRSxFQUFFLFNBQU8sSUFBRyxHQUFHSSxJQUFFLElBQUUsR0FBRSxTQUFPQSxHQUFFLFFBQU0sYUFBV0EsR0FBRSxZQUFVLENBQUMsRUFBRSxhQUFXLENBQUNVLEdBQUUsUUFBTyxFQUFFLENBQUMsR0FBRTtBQUFBLFlBQUksTUFBTSxLQUFFLEVBQUUsSUFBRVYsR0FBRSxxQkFBbUIsTUFBSSxlQUFhSixPQUFJLEVBQUUsU0FBTyxLQUFJQyxLQUFFLE1BQUcsR0FBR0csSUFBRSxLQUFFLEdBQUUsRUFBRSxRQUFNO0FBQVMsWUFBQUEsR0FBRSxlQUFhLEVBQUUsVUFBUSxFQUFFLE9BQU0sRUFBRSxRQUFNLE1BQUlKLEtBQUVJLEdBQUUsTUFBSyxTQUFPSixLQUFFQSxHQUFFLFVBQVEsSUFBRSxFQUFFLFFBQU0sR0FBRUksR0FBRSxPQUFLO0FBQUEsVUFBRTtBQUFDLGNBQUcsU0FBT0EsR0FBRSxLQUFLLFFBQU8sSUFBRUEsR0FBRSxNQUFLQSxHQUFFLFlBQzllLEdBQUVBLEdBQUUsT0FBSyxFQUFFLFNBQVFBLEdBQUUscUJBQW1CLEVBQUUsR0FBRSxFQUFFLFVBQVEsTUFBS0osS0FBRSxFQUFFLFNBQVEsRUFBRSxHQUFFQyxLQUFFRCxLQUFFLElBQUUsSUFBRUEsS0FBRSxDQUFDLEdBQUU7QUFBRSxZQUFFLENBQUM7QUFBRSxpQkFBTztBQUFBLFFBQUssS0FBSztBQUFBLFFBQUcsS0FBSztBQUFHLGlCQUFPLEdBQUcsR0FBRUMsS0FBRSxTQUFPLEVBQUUsZUFBYyxTQUFPRixNQUFHLFNBQU9BLEdBQUUsa0JBQWdCRSxPQUFJLEVBQUUsU0FBTyxPQUFNQSxNQUFHLE9BQUssRUFBRSxPQUFLLEtBQUcsT0FBSyxLQUFHLGdCQUFjLEVBQUUsQ0FBQyxHQUFFLEVBQUUsZUFBYSxNQUFJLEVBQUUsU0FBTyxTQUFPLEVBQUUsQ0FBQyxHQUFFO0FBQUEsUUFBSyxLQUFLO0FBQUcsaUJBQU87QUFBQSxRQUFLLEtBQUs7QUFBRyxpQkFBTztBQUFBLE1BQUk7QUFBQyxZQUFNLE1BQU1ILEdBQUUsS0FBSSxFQUFFLEdBQUcsQ0FBQztBQUFBLElBQUU7QUFDbFgsYUFBUyxHQUFHQyxJQUFFLEdBQUU7QUFBQyxTQUFHLENBQUM7QUFBRSxjQUFPLEVBQUUsS0FBSTtBQUFBLFFBQUMsS0FBSztBQUFFLGlCQUFPLEdBQUcsRUFBRSxJQUFJLEtBQUcsR0FBRyxHQUFFQSxLQUFFLEVBQUUsT0FBTUEsS0FBRSxTQUFPLEVBQUUsUUFBTUEsS0FBRSxTQUFPLEtBQUksS0FBRztBQUFBLFFBQUssS0FBSztBQUFFLGlCQUFPLEdBQUcsR0FBRSxFQUFFLEVBQUUsR0FBRSxFQUFFLENBQUMsR0FBRSxHQUFHLEdBQUVBLEtBQUUsRUFBRSxPQUFNLE9BQUtBLEtBQUUsVUFBUSxPQUFLQSxLQUFFLFFBQU0sRUFBRSxRQUFNQSxLQUFFLFNBQU8sS0FBSSxLQUFHO0FBQUEsUUFBSyxLQUFLO0FBQUUsaUJBQU8sR0FBRyxDQUFDLEdBQUU7QUFBQSxRQUFLLEtBQUs7QUFBRyxZQUFFLENBQUM7QUFBRSxVQUFBQSxLQUFFLEVBQUU7QUFBYyxjQUFHLFNBQU9BLE1BQUcsU0FBT0EsR0FBRSxZQUFXO0FBQUMsZ0JBQUcsU0FBTyxFQUFFLFVBQVUsT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLGVBQUc7QUFBQSxVQUFDO0FBQUMsVUFBQUMsS0FBRSxFQUFFO0FBQU0saUJBQU9BLEtBQUUsU0FBTyxFQUFFLFFBQU1BLEtBQUUsU0FBTyxLQUFJLEtBQUc7QUFBQSxRQUFLLEtBQUs7QUFBRyxpQkFBTyxFQUFFLENBQUMsR0FBRTtBQUFBLFFBQUssS0FBSztBQUFFLGlCQUFPLEdBQUcsR0FBRTtBQUFBLFFBQUssS0FBSztBQUFHLGlCQUFPLEdBQUcsRUFBRSxLQUFLLFFBQVEsR0FBRTtBQUFBLFFBQUssS0FBSztBQUFBLFFBQUcsS0FBSztBQUFHLGlCQUFPLEdBQUcsR0FDN2dCO0FBQUEsUUFBSyxLQUFLO0FBQUcsaUJBQU87QUFBQSxRQUFLO0FBQVEsaUJBQU87QUFBQSxNQUFJO0FBQUEsSUFBQztBQUFDLFFBQUksS0FBRztBQUFQLFFBQVUsSUFBRTtBQUFaLFFBQWUsS0FBRyxlQUFhLE9BQU8sVUFBUSxVQUFRO0FBQXRELFFBQTBELElBQUU7QUFBSyxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLFVBQUlDLEtBQUVELEdBQUU7QUFBSSxVQUFHLFNBQU9DLEdBQUUsS0FBRyxlQUFhLE9BQU9BLEdBQUUsS0FBRztBQUFDLFFBQUFBLEdBQUUsSUFBSTtBQUFBLE1BQUMsU0FBT0MsSUFBRTtBQUFDLFVBQUVGLElBQUUsR0FBRUUsRUFBQztBQUFBLE1BQUM7QUFBQSxVQUFNLENBQUFELEdBQUUsVUFBUTtBQUFBLElBQUk7QUFBQyxhQUFTLEdBQUdELElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUc7QUFBQyxRQUFBQSxHQUFFO0FBQUEsTUFBQyxTQUFPQyxJQUFFO0FBQUMsVUFBRUYsSUFBRSxHQUFFRSxFQUFDO0FBQUEsTUFBQztBQUFBLElBQUM7QUFBQyxRQUFJLEtBQUc7QUFDeFIsYUFBUyxHQUFHRixJQUFFLEdBQUU7QUFBQyxXQUFHO0FBQUcsTUFBQUEsS0FBRSxHQUFHO0FBQUUsVUFBRyxHQUFHQSxFQUFDLEdBQUU7QUFBQyxZQUFHLG9CQUFtQkEsR0FBRSxLQUFJQyxLQUFFLEVBQUMsT0FBTUQsR0FBRSxnQkFBZSxLQUFJQSxHQUFFLGFBQVk7QUFBQSxZQUFPLElBQUU7QUFBQyxVQUFBQyxNQUFHQSxLQUFFRCxHQUFFLGtCQUFnQkMsR0FBRSxlQUFhO0FBQU8sY0FBSUMsS0FBRUQsR0FBRSxnQkFBY0EsR0FBRSxhQUFhO0FBQUUsY0FBR0MsTUFBRyxNQUFJQSxHQUFFLFlBQVc7QUFBQyxZQUFBRCxLQUFFQyxHQUFFO0FBQVcsZ0JBQUlFLEtBQUVGLEdBQUUsY0FBYUcsS0FBRUgsR0FBRTtBQUFVLFlBQUFBLEtBQUVBLEdBQUU7QUFBWSxnQkFBRztBQUFDLGNBQUFELEdBQUUsVUFBU0ksR0FBRTtBQUFBLFlBQVEsU0FBTyxHQUFFO0FBQUMsY0FBQUosS0FBRTtBQUFLLG9CQUFNO0FBQUEsWUFBQztBQUFDLGdCQUFJLElBQUUsR0FBRU0sS0FBRSxJQUFHLElBQUUsSUFBR0QsS0FBRSxHQUFFLElBQUUsR0FBRSxJQUFFTixJQUFFZ0IsS0FBRTtBQUFLLGNBQUUsWUFBTztBQUFDLHVCQUFRQyxRQUFJO0FBQUMsc0JBQUloQixNQUFHLE1BQUlHLE1BQUcsTUFBSSxFQUFFLGFBQVdHLEtBQUUsSUFBRUg7QUFBRyxzQkFBSUMsTUFBRyxNQUFJSCxNQUFHLE1BQUksRUFBRSxhQUFXLElBQUUsSUFBRUE7QUFBRyxzQkFBSSxFQUFFLGFBQVcsS0FDbmYsRUFBRSxVQUFVO0FBQVEsb0JBQUcsVUFBUWUsS0FBRSxFQUFFLFlBQVk7QUFBTSxnQkFBQUQsS0FBRTtBQUFFLG9CQUFFQztBQUFBLGNBQUM7QUFBQyx5QkFBTztBQUFDLG9CQUFHLE1BQUlqQixHQUFFLE9BQU07QUFBRSxnQkFBQWdCLE9BQUlmLE1BQUcsRUFBRUssT0FBSUYsT0FBSUcsS0FBRTtBQUFHLGdCQUFBUyxPQUFJWCxNQUFHLEVBQUUsTUFBSUgsT0FBSSxJQUFFO0FBQUcsb0JBQUcsVUFBUWUsS0FBRSxFQUFFLGFBQWE7QUFBTSxvQkFBRUQ7QUFBRSxnQkFBQUEsS0FBRSxFQUFFO0FBQUEsY0FBVTtBQUFDLGtCQUFFQztBQUFBLFlBQUM7QUFBQyxZQUFBaEIsS0FBRSxPQUFLTSxNQUFHLE9BQUssSUFBRSxPQUFLLEVBQUMsT0FBTUEsSUFBRSxLQUFJLEVBQUM7QUFBQSxVQUFDLE1BQU0sQ0FBQU4sS0FBRTtBQUFBLFFBQUk7QUFBQyxRQUFBQSxLQUFFQSxNQUFHLEVBQUMsT0FBTSxHQUFFLEtBQUksRUFBQztBQUFBLE1BQUMsTUFBTSxDQUFBQSxLQUFFO0FBQUssV0FBRyxFQUFDLGFBQVlELElBQUUsZ0JBQWVDLEdBQUM7QUFBRSxXQUFHO0FBQUcsV0FBSSxJQUFFLEdBQUUsU0FBTyxJQUFHLEtBQUcsSUFBRSxHQUFFRCxLQUFFLEVBQUUsT0FBTSxPQUFLLEVBQUUsZUFBYSxTQUFPLFNBQU9BLEdBQUUsQ0FBQUEsR0FBRSxTQUFPLEdBQUUsSUFBRUE7QUFBQSxVQUFPLFFBQUssU0FBTyxLQUFHO0FBQUMsWUFBRTtBQUFFLFlBQUc7QUFBQyxjQUFJWSxLQUFFLEVBQUU7QUFBVSxjQUFHLE9BQUssRUFBRSxRQUFNLE1BQU0sU0FBTyxFQUFFLEtBQUk7QUFBQSxZQUFDLEtBQUs7QUFBQSxZQUFFLEtBQUs7QUFBQSxZQUFHLEtBQUs7QUFBRztBQUFBLFlBQ3hmLEtBQUs7QUFBRSxrQkFBRyxTQUFPQSxJQUFFO0FBQUMsb0JBQUlDLEtBQUVELEdBQUUsZUFBYyxJQUFFQSxHQUFFLGVBQWMsSUFBRSxFQUFFLFdBQVUsSUFBRSxFQUFFLHdCQUF3QixFQUFFLGdCQUFjLEVBQUUsT0FBS0MsS0FBRSxHQUFHLEVBQUUsTUFBS0EsRUFBQyxHQUFFLENBQUM7QUFBRSxrQkFBRSxzQ0FBb0M7QUFBQSxjQUFDO0FBQUM7QUFBQSxZQUFNLEtBQUs7QUFBRSxrQkFBSUMsS0FBRSxFQUFFLFVBQVU7QUFBYyxvQkFBSUEsR0FBRSxXQUFTQSxHQUFFLGNBQVksS0FBRyxNQUFJQSxHQUFFLFlBQVVBLEdBQUUsbUJBQWlCQSxHQUFFLFlBQVlBLEdBQUUsZUFBZTtBQUFFO0FBQUEsWUFBTSxLQUFLO0FBQUEsWUFBRSxLQUFLO0FBQUEsWUFBRSxLQUFLO0FBQUEsWUFBRSxLQUFLO0FBQUc7QUFBQSxZQUFNO0FBQVEsb0JBQU0sTUFBTWYsR0FBRSxHQUFHLENBQUM7QUFBQSxVQUFFO0FBQUEsUUFBQyxTQUFPLEdBQUU7QUFBQyxZQUFFLEdBQUUsRUFBRSxRQUFPLENBQUM7QUFBQSxRQUFDO0FBQUMsUUFBQUMsS0FBRSxFQUFFO0FBQVEsWUFBRyxTQUFPQSxJQUFFO0FBQUMsVUFBQUEsR0FBRSxTQUFPLEVBQUU7QUFBTyxjQUFFQTtBQUFFO0FBQUEsUUFBSztBQUFDLFlBQUUsRUFBRTtBQUFBLE1BQU07QUFBQyxNQUFBWSxLQUFFO0FBQUcsV0FBRztBQUFHLGFBQU9BO0FBQUEsSUFBQztBQUMzZixhQUFTLEdBQUdaLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsRUFBRTtBQUFZLE1BQUFBLEtBQUUsU0FBT0EsS0FBRUEsR0FBRSxhQUFXO0FBQUssVUFBRyxTQUFPQSxJQUFFO0FBQUMsWUFBSUUsS0FBRUYsS0FBRUEsR0FBRTtBQUFLLFdBQUU7QUFBQyxlQUFJRSxHQUFFLE1BQUlKLFFBQUtBLElBQUU7QUFBQyxnQkFBSUssS0FBRUQsR0FBRTtBQUFRLFlBQUFBLEdBQUUsVUFBUTtBQUFPLHVCQUFTQyxNQUFHLEdBQUcsR0FBRUosSUFBRUksRUFBQztBQUFBLFVBQUM7QUFBQyxVQUFBRCxLQUFFQSxHQUFFO0FBQUEsUUFBSSxTQUFPQSxPQUFJRjtBQUFBLE1BQUU7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHRixJQUFFLEdBQUU7QUFBQyxVQUFFLEVBQUU7QUFBWSxVQUFFLFNBQU8sSUFBRSxFQUFFLGFBQVc7QUFBSyxVQUFHLFNBQU8sR0FBRTtBQUFDLFlBQUlDLEtBQUUsSUFBRSxFQUFFO0FBQUssV0FBRTtBQUFDLGVBQUlBLEdBQUUsTUFBSUQsUUFBS0EsSUFBRTtBQUFDLGdCQUFJRSxLQUFFRCxHQUFFO0FBQU8sWUFBQUEsR0FBRSxVQUFRQyxHQUFFO0FBQUEsVUFBQztBQUFDLFVBQUFELEtBQUVBLEdBQUU7QUFBQSxRQUFJLFNBQU9BLE9BQUk7QUFBQSxNQUFFO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0QsSUFBRTtBQUFDLFVBQUksSUFBRUEsR0FBRTtBQUFJLFVBQUcsU0FBTyxHQUFFO0FBQUMsWUFBSUMsS0FBRUQsR0FBRTtBQUFVLGdCQUFPQSxHQUFFLEtBQUk7QUFBQSxVQUFDLEtBQUs7QUFBRSxZQUFBQSxLQUFFQztBQUFFO0FBQUEsVUFBTTtBQUFRLFlBQUFELEtBQUVDO0FBQUEsUUFBQztBQUFDLHVCQUFhLE9BQU8sSUFBRSxFQUFFRCxFQUFDLElBQUUsRUFBRSxVQUFRQTtBQUFBLE1BQUM7QUFBQSxJQUFDO0FBQ2xmLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFVBQUksSUFBRUEsR0FBRTtBQUFVLGVBQU8sTUFBSUEsR0FBRSxZQUFVLE1BQUssR0FBRyxDQUFDO0FBQUcsTUFBQUEsR0FBRSxRQUFNO0FBQUssTUFBQUEsR0FBRSxZQUFVO0FBQUssTUFBQUEsR0FBRSxVQUFRO0FBQUssWUFBSUEsR0FBRSxRQUFNLElBQUVBLEdBQUUsV0FBVSxTQUFPLE1BQUksT0FBTyxFQUFFLEVBQUUsR0FBRSxPQUFPLEVBQUUsRUFBRSxHQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUUsT0FBTyxFQUFFLEVBQUUsR0FBRSxPQUFPLEVBQUUsRUFBRTtBQUFJLE1BQUFBLEdBQUUsWUFBVTtBQUFLLE1BQUFBLEdBQUUsU0FBTztBQUFLLE1BQUFBLEdBQUUsZUFBYTtBQUFLLE1BQUFBLEdBQUUsZ0JBQWM7QUFBSyxNQUFBQSxHQUFFLGdCQUFjO0FBQUssTUFBQUEsR0FBRSxlQUFhO0FBQUssTUFBQUEsR0FBRSxZQUFVO0FBQUssTUFBQUEsR0FBRSxjQUFZO0FBQUEsSUFBSTtBQUFDLGFBQVMsR0FBR0EsSUFBRTtBQUFDLGFBQU8sTUFBSUEsR0FBRSxPQUFLLE1BQUlBLEdBQUUsT0FBSyxNQUFJQSxHQUFFO0FBQUEsSUFBRztBQUNuYSxhQUFTLEdBQUdBLElBQUU7QUFBQyxRQUFFLFlBQU87QUFBQyxlQUFLLFNBQU9BLEdBQUUsV0FBUztBQUFDLGNBQUcsU0FBT0EsR0FBRSxVQUFRLEdBQUdBLEdBQUUsTUFBTSxFQUFFLFFBQU87QUFBSyxVQUFBQSxLQUFFQSxHQUFFO0FBQUEsUUFBTTtBQUFDLFFBQUFBLEdBQUUsUUFBUSxTQUFPQSxHQUFFO0FBQU8sYUFBSUEsS0FBRUEsR0FBRSxTQUFRLE1BQUlBLEdBQUUsT0FBSyxNQUFJQSxHQUFFLE9BQUssT0FBS0EsR0FBRSxPQUFLO0FBQUMsY0FBR0EsR0FBRSxRQUFNLEVBQUUsVUFBUztBQUFFLGNBQUcsU0FBT0EsR0FBRSxTQUFPLE1BQUlBLEdBQUUsSUFBSSxVQUFTO0FBQUEsY0FBTyxDQUFBQSxHQUFFLE1BQU0sU0FBT0EsSUFBRUEsS0FBRUEsR0FBRTtBQUFBLFFBQUs7QUFBQyxZQUFHLEVBQUVBLEdBQUUsUUFBTSxHQUFHLFFBQU9BLEdBQUU7QUFBQSxNQUFTO0FBQUEsSUFBQztBQUN6VCxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUVGLEdBQUU7QUFBSSxVQUFHLE1BQUlFLE1BQUcsTUFBSUEsR0FBRSxDQUFBRixLQUFFQSxHQUFFLFdBQVUsSUFBRSxNQUFJQyxHQUFFLFdBQVNBLEdBQUUsV0FBVyxhQUFhRCxJQUFFLENBQUMsSUFBRUMsR0FBRSxhQUFhRCxJQUFFLENBQUMsS0FBRyxNQUFJQyxHQUFFLFlBQVUsSUFBRUEsR0FBRSxZQUFXLEVBQUUsYUFBYUQsSUFBRUMsRUFBQyxNQUFJLElBQUVBLElBQUUsRUFBRSxZQUFZRCxFQUFDLElBQUdDLEtBQUVBLEdBQUUscUJBQW9CLFNBQU9BLE1BQUcsV0FBU0EsTUFBRyxTQUFPLEVBQUUsWUFBVSxFQUFFLFVBQVE7QUFBQSxlQUFhLE1BQUlDLE9BQUlGLEtBQUVBLEdBQUUsT0FBTSxTQUFPQSxJQUFHLE1BQUksR0FBR0EsSUFBRSxHQUFFQyxFQUFDLEdBQUVELEtBQUVBLEdBQUUsU0FBUSxTQUFPQSxLQUFHLElBQUdBLElBQUUsR0FBRUMsRUFBQyxHQUFFRCxLQUFFQSxHQUFFO0FBQUEsSUFBTztBQUMxWCxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUVGLEdBQUU7QUFBSSxVQUFHLE1BQUlFLE1BQUcsTUFBSUEsR0FBRSxDQUFBRixLQUFFQSxHQUFFLFdBQVUsSUFBRUMsR0FBRSxhQUFhRCxJQUFFLENBQUMsSUFBRUMsR0FBRSxZQUFZRCxFQUFDO0FBQUEsZUFBVSxNQUFJRSxPQUFJRixLQUFFQSxHQUFFLE9BQU0sU0FBT0EsSUFBRyxNQUFJLEdBQUdBLElBQUUsR0FBRUMsRUFBQyxHQUFFRCxLQUFFQSxHQUFFLFNBQVEsU0FBT0EsS0FBRyxJQUFHQSxJQUFFLEdBQUVDLEVBQUMsR0FBRUQsS0FBRUEsR0FBRTtBQUFBLElB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O0lBQ0Y7TUFBQTs7SUFBQSxHQUFnQztJQUNoQztNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQW9DO0lBQ3BDO01BQUE7O0lBQUEsR0FDRTtJQUdGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUlGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FBK0I7SUFDL0I7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBSUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUFzQztJQUN0QztNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQWtDO0lBQ2xDO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUdGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FBK0I7SUFDL0I7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBR0Y7TUFBQTs7SUFBQSxHQUNFO0lBR0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUF5QjtJQUN6QjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQWlDO0lBQ2pDO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUlGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FD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R0FBZ0U7O01BR2hFO1FBQUE7O01BQUEsR0FBNkQ7O01BRTdEO1FBQUE7O01BQUEsR0FBZ0U7O01BR2hFO1FBQUE7O01BQUEsR0FBOEQ7O01BRTlEO1FBQUE7O01BQUEsR0FBOEQ7OztNQUc5RDtRQUFBOztNQUFBLEdBQXlFOztNQUd6RTtRQUFBOztNQUFBLEdBQXNEO01BQ3REO1FBQUE7O01BQUEsR0FBMEU7O01BRzFFO1FBQUE7O01BQUEsR0FBb0U7TUFDcEU7UUFBQTs7TUFBQSxHQUFxRTtNQUNyRTtRQUFBOztNQUFBLEdBQ3lDOztNQUd6QztRQUFBOztNQUFBLEdBQTREOztNQUc1RDtRQUFBOztNQUFBLEdBQXlEO01BQ3pEO1FBQUE7O01BQUEsR0FDMkM7TUFFM0M7UUFBQTs7TUFBQSxHQUE4RDtNQUM5RDtRQUFBOztNQUFBLEdBQThEOztNQUU5RDtRQUFBOztNQUFBLEdBQTREOztNQUc1RDtRQUFBOztNQUFBLEdBQzhDO01BQzlDO1FBQUE7O01BQUEsR0FBMEQ7TUFDMUQ7UUFBQTs7TUFBQSxHQUF3RDtNQUN4RDtRQUFBOztNQUFBLEdBQXlEOztNQUd6RDtRQUFBOztNQUFBLEdBQzJDO01BQzNDO1FBQUE7O01BQUEsR0FDbUQ7O01BR25EO1FBQUE7O01BQUEsR0FBc0Q7TUFDdEQ7UUFBQTs7TUFBQSxHQUFzRTtNQUN0RTtRQUFBOztNQUFBLEdBQXVFO01BQ3ZFO1FBQUE7O01BQUEsR0FBc0U7TUFDdEU7UUFBQTs7TUFBQSxHQUF5RDs7OztNQUt6RDtRQUFBOztNQUFBLEdBQzRDO01BQzVDO1FBQUE7O01BQUEsR0FBb0U7O01BR3BFO1FBQUE7O01BQUEsR0FBNEU7O01BRzVFO1FBQUE7O01BQUEsR0FBc0U7O01BR3RFO1FBQUE7O01BQUEsR0FDbUM7TUFDbkM7UUFBQTs7TUFBQSxHQUF3RTtNQUN4RTtRQUFBOztNQUFBLEdBQXVFO01BQ3ZFO1FBQUE7O01BQUEsR0FDbUM7TUFDbkM7UUFBQTs7TUFBQSxHQUM4QztNQUM5QztRQUFBOztNQUFBLEdBQzRDOztNQUc1QztRQUFBOztNQUFBLEdBQTRF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O0FBQUEsY0FDMUQsQ0FBQztBQUFBLFlBQ0g7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQ0Y7OztBM0RyRVUsSUFBQUMsdUJBQUE7QUFyQ1YsSUFBTSxhQUFhLEVBQWE7QUFBQSxFQUM5QixLQUFLO0FBQUEsRUFDTCxXQUFXLENBQUMsbUJBQW1CLGVBQWUsYUFBYTtBQUFBLEVBQzNELGNBQWMsTUFBTTtBQUVsQixVQUFNLE9BQU8sS0FBSztBQUNsQixRQUFJLENBQUMsTUFBTTtBQUNULGFBQU8sQ0FBQztBQUFBLElBQ1Y7QUFLQSxVQUFNLFFBQVMsS0FBYTtBQUM1QixRQUFJLENBQUMsT0FBTztBQUNWLGFBQU8sQ0FBQztBQUFBLElBQ1Y7QUFFQSxXQUFPO0FBQUEsTUFDTCxTQUFTO0FBQUEsUUFDUCxlQUFlLFVBQVUsS0FBSztBQUFBLE1BQ2hDO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDRixDQUFDO0FBRUQsSUFBTSxjQUFjLFNBQVMsZUFBZSxLQUFLO0FBQ2pELElBQUksQ0FBQyxhQUFhO0FBQ2hCLFFBQU0sSUFBSSxNQUFNLHdCQUF3QjtBQUMxQztBQUVBLElBQU0sV0FBTywwQkFBVyxXQUFXO0FBQ25DLEtBQUs7QUFBQSxFQUNILDhDQUFDLDRCQUNDLHdEQUFDLGlCQUNDLHdEQUFDQyxJQUFBLEVBQVMsT0FBTyxZQUNmLHdEQUFDLGdCQUNDLHdEQUFDLGVBQUksR0FDUCxHQUNGLEdBQ0YsR0FDRjtBQUNGOyIsCiAgIm5hbWVzIjogWyJsIiwgIm4iLCAicCIsICJyIiwgInQiLCAidSIsICJ2IiwgInkiLCAiYSIsICJDIiwgImUiLCAiSSIsICJkIiwgImMiLCAiaCIsICJmIiwgIlEiLCAiYiIsICJmIiwgImEiLCAiYyIsICJkIiwgImUiLCAiaCIsICJDIiwgIm4iLCAibCIsICJwIiwgInIiLCAidCIsICJ1IiwgInYiLCAieSIsICJJIiwgIlEiLCAicCIsICJhIiwgImMiLCAiZCIsICJ2IiwgImUiLCAiZiIsICJsIiwgImgiLCAiQyIsICJiIiwgImciLCAiayIsICJuIiwgInQiLCAidSIsICJJIiwgInIiLCAieSIsICJtIiwgIlEiLCAiaSIsICJjIiwgIm8iLCAiaCIsICJlIiwgImVycm9yIiwgInZhbHVlIiwgImEiLCAicXVlcnlzdHJpbmciLCAibm9vcCIsICJzdHJpbmdUb0J5dGVBcnJheSIsICJwIiwgImkiLCAiYyIsICJjMiIsICJjMyIsICJ1IiwgIm5hbWUiLCAiQ29tcG9uZW50IiwgIm5hbWUiLCAidHlwZSIsICJlIiwgImluaXRfaW5kZXhfZXNtMjAxNyIsICJMb2dMZXZlbCIsICJuYW1lIiwgImVycm9yIiwgInZhbHVlIiwgImMiLCAibmFtZSIsICJ2ZXJzaW9uIiwgInRhcmdldCIsICJhcHAiLCAiZSIsICJuYW1lIiwgIkRFRkFVTFRfRU5UUllfTkFNRSIsICJ2ZXJzaW9uIiwgIndhcm5pbmciLCAiQ29tcG9uZW50IiwgImFwcE5hbWUiLCAiYXBwQ29tcGF0TmFtZSIsICJhbmFseXRpY3NOYW1lIiwgImFuYWx5dGljc0NvbXBhdE5hbWUiLCAiYXBwQ2hlY2tOYW1lIiwgImFwcENoZWNrQ29tcGF0TmFtZSIsICJhdXRoTmFtZSIsICJhdXRoQ29tcGF0TmFtZSIsICJkYXRhYmFzZU5hbWUiLCAiZGF0YWNvbm5lY3ROYW1lIiwgImRhdGFiYXNlQ29tcGF0TmFtZSIsICJmdW5jdGlvbnNOYW1lIiwgImZ1bmN0aW9uc0NvbXBhdE5hbWUiLCAiaW5zdGFsbGF0aW9uc05hbWUiLCAiaW5zdGFsbGF0aW9uc0NvbXBhdE5hbWUiLCAibWVzc2FnaW5nTmFtZSIsICJtZXNzYWdpbmdDb21wYXROYW1lIiwgInBlcmZvcm1hbmNlTmFtZSIsICJwZXJmb3JtYW5jZUNvbXBhdE5hbWUiLCAicmVtb3RlQ29uZmlnTmFtZSIsICJyZW1vdGVDb25maWdDb21wYXROYW1lIiwgInN0b3JhZ2VOYW1lIiwgInN0b3JhZ2VDb21wYXROYW1lIiwgImZpcmVzdG9yZU5hbWUiLCAiZmlyZXN0b3JlQ29tcGF0TmFtZSIsICJ2ZXJ0ZXhOYW1lIiwgInBhY2thZ2VOYW1lIiwgImUiLCAidCIsICJwIiwgImkiLCAiYXV0aCIsICJqc29uIiwgImUiLCAiZXJyb3IiLCAibyIsICJuIiwgInAiLCAiYXBwIiwgImFwcGx5QWN0aW9uQ29kZSIsICJzZW5kRW1haWxWZXJpZmljYXRpb24iLCAic2VuZFBhc3N3b3JkUmVzZXRFbWFpbCIsICJzZW5kU2lnbkluTGlua1RvRW1haWwiLCAic2lnbkluV2l0aEVtYWlsTGluayIsICJzaWduSW5XaXRoUGhvbmVOdW1iZXIiLCAibGlua1dpdGhQaG9uZU51bWJlciIsICJfbGluayIsICJzaWduSW5XaXRoQ3VzdG9tVG9rZW4iLCAiZ2V0SWRUb2tlblJlc3BvbnNlIiwgImF1dGhlbnRpY2F0aW9uLnNlbmRQYXNzd29yZFJlc2V0RW1haWwiLCAiYWNjb3VudFxyXG4gICAgICAgIC5yZXNldFBhc3N3b3JkIiwgImFjY291bnQuYXBwbHlBY3Rpb25Db2RlIiwgImFjY291bnQucmVzZXRQYXNzd29yZCIsICJyZXF1ZXN0IiwgImFjdGlvbkNvZGVTZXR0aW5ncyIsICJhcGkuc2VuZFNpZ25JbkxpbmtUb0VtYWlsIiwgImFwaS5zZW5kRW1haWxWZXJpZmljYXRpb24iLCAiYXBpLnZlcmlmeUFuZENoYW5nZUVtYWlsIiwgInVwZGF0ZVByb2ZpbGUiLCAiYXBpVXBkYXRlUHJvZmlsZSIsICJhcGlVcGRhdGVFbWFpbFBhc3N3b3JkIiwgInZhbHVlIiwgImkiLCAiREJfTkFNRSIsICJEQl9WRVJTSU9OIiwgIl9saW5rVXNlciIsICJ2IiwgInR5cGUiLCAianMuX2dlbmVyYXRlQ2FsbGJhY2tOYW1lIiwgImpzXHJcbiAgICAgICAgICAgICAgICAuX2xvYWRKUyIsICJqcy5fZ2FwaVNjcmlwdFVybCIsICJnYXBpTG9hZGVyLl9sb2FkR2FwaSIsICJnYXBpIiwgIm5hbWUiLCAiQ29tcG9uZW50IiwgInZlcnNpb24iLCAiSURQX1JFUVVFU1RfVVJJIiwgIl9QT0xMSU5HX0lOVEVSVkFMX01TIiwgInJlbG9hZCIsICJqc0hlbHBlcnMuX3JlY2FwdGNoYUVudGVycHJpc2VTY3JpcHRVcmwiLCAianNIZWxwZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5fbG9hZEpTIiwgImtleSIsICJzdG9yZWRWYWx1ZSIsICJqc0hlbHBlcnMuX2dlbmVyYXRlQ2FsbGJhY2tOYW1lIiwgImpzSGVscGVycy5fcmVjYXB0Y2hhVjJTY3JpcHRVcmwiLCAianNIZWxwZXJzLl9sb2FkSlMiLCAiZmlsdGVyIiwgIndpbmRvdyIsICJwcm9taXNlIiwgImluaXRfaW5kZXhfZXNtMjAxNyIsICJmIiwgImwiLCAibiIsICJwIiwgImMiLCAiYSIsICJkIiwgImUiLCAiaCIsICJpbXBvcnRfcmVhY3QiLCAiQWN0aW9uIiwgIlBvcFN0YXRlRXZlbnRUeXBlIiwgImNyZWF0ZUJyb3dzZXJIaXN0b3J5IiwgIm9wdGlvbnMiLCAiY3JlYXRlQnJvd3NlckxvY2F0aW9uIiwgIndpbmRvdyIsICJnbG9iYWxIaXN0b3J5IiwgInBhdGhuYW1lIiwgInNlYXJjaCIsICJoYXNoIiwgImxvY2F0aW9uIiwgImNyZWF0ZUxvY2F0aW9uIiwgInN0YXRlIiwgInVzciIsICJrZXkiLCAiY3JlYXRlQnJvd3NlckhyZWYiLCAidG8iLCAiY3JlYXRlUGF0aCIsICJnZXRVcmxCYXNlZEhpc3RvcnkiLCAiaW52YXJpYW50IiwgInZhbHVlIiwgIm1lc3NhZ2UiLCAiRXJyb3IiLCAid2FybmluZyIsICJjb25kIiwgImNvbnNvbGUiLCAid2FybiIsICJlIiwgImNyZWF0ZUtleSIsICJNYXRoIiwgInJhbmRvbSIsICJ0b1N0cmluZyIsICJzdWJzdHIiLCAiZ2V0SGlzdG9yeVN0YXRlIiwgImxvY2F0aW9uIiwgImluZGV4IiwgInVzciIsICJzdGF0ZSIsICJrZXkiLCAiaWR4IiwgImNyZWF0ZUxvY2F0aW9uIiwgImN1cnJlbnQiLCAidG8iLCAiX2V4dGVuZHMiLCAicGF0aG5hbWUiLCAic2VhcmNoIiwgImhhc2giLCAicGFyc2VQYXRoIiwgImNyZWF0ZVBhdGgiLCAiX3JlZiIsICJjaGFyQXQiLCAicGF0aCIsICJwYXJzZWRQYXRoIiwgImhhc2hJbmRleCIsICJpbmRleE9mIiwgInNlYXJjaEluZGV4IiwgImdldFVybEJhc2VkSGlzdG9yeSIsICJnZXRMb2NhdGlvbiIsICJjcmVhdGVIcmVmIiwgInZhbGlkYXRlTG9jYXRpb24iLCAib3B0aW9ucyIsICJ3aW5kb3ciLCAiZG9jdW1lbnQiLCAiZGVmYXVsdFZpZXciLCAidjVDb21wYXQiLCAiZ2xvYmFsSGlzdG9yeSIsICJoaXN0b3J5IiwgImFjdGlvbiIsICJBY3Rpb24iLCAiUG9wIiwgImxpc3RlbmVyIiwgImdldEluZGV4IiwgInJlcGxhY2VTdGF0ZSIsICJoYW5kbGVQb3AiLCAibmV4dEluZGV4IiwgImRlbHRhIiwgInB1c2giLCAiUHVzaCIsICJoaXN0b3J5U3RhdGUiLCAidXJsIiwgInB1c2hTdGF0ZSIsICJlcnJvciIsICJET01FeGNlcHRpb24iLCAibmFtZSIsICJhc3NpZ24iLCAicmVwbGFjZSIsICJSZXBsYWNlIiwgImNyZWF0ZVVSTCIsICJiYXNlIiwgIm9yaWdpbiIsICJocmVmIiwgIlVSTCIsICJsaXN0ZW4iLCAiZm4iLCAiYWRkRXZlbnRMaXN0ZW5lciIsICJQb3BTdGF0ZUV2ZW50VHlwZSIsICJyZW1vdmVFdmVudExpc3RlbmVyIiwgImVuY29kZUxvY2F0aW9uIiwgImdvIiwgIm4iLCAiUmVzdWx0VHlwZSIsICJtYXRjaFJvdXRlcyIsICJyb3V0ZXMiLCAibG9jYXRpb25BcmciLCAiYmFzZW5hbWUiLCAibWF0Y2hSb3V0ZXNJbXBsIiwgImFsbG93UGFydGlhbCIsICJsb2NhdGlvbiIsICJwYXJzZVBhdGgiLCAicGF0aG5hbWUiLCAic3RyaXBCYXNlbmFtZSIsICJicmFuY2hlcyIsICJmbGF0dGVuUm91dGVzIiwgInJhbmtSb3V0ZUJyYW5jaGVzIiwgIm1hdGNoZXMiLCAiaSIsICJsZW5ndGgiLCAiZGVjb2RlZCIsICJkZWNvZGVQYXRoIiwgIm1hdGNoUm91dGVCcmFuY2giLCAiZmxhdHRlblJvdXRlcyIsICJyb3V0ZXMiLCAiYnJhbmNoZXMiLCAicGFyZW50c01ldGEiLCAicGFyZW50UGF0aCIsICJmbGF0dGVuUm91dGUiLCAicm91dGUiLCAiaW5kZXgiLCAicmVsYXRpdmVQYXRoIiwgIm1ldGEiLCAidW5kZWZpbmVkIiwgInBhdGgiLCAiY2FzZVNlbnNpdGl2ZSIsICJjaGlsZHJlbkluZGV4IiwgInN0YXJ0c1dpdGgiLCAiaW52YXJpYW50IiwgInNsaWNlIiwgImxlbmd0aCIsICJqb2luUGF0aHMiLCAicm91dGVzTWV0YSIsICJjb25jYXQiLCAiY2hpbGRyZW4iLCAicHVzaCIsICJzY29yZSIsICJjb21wdXRlU2NvcmUiLCAiZm9yRWFjaCIsICJfcm91dGUkcGF0aCIsICJpbmNsdWRlcyIsICJleHBsb2RlZCIsICJleHBsb2RlT3B0aW9uYWxTZWdtZW50cyIsICJzZWdtZW50cyIsICJzcGxpdCIsICJmaXJzdCIsICJyZXN0IiwgImlzT3B0aW9uYWwiLCAiZW5kc1dpdGgiLCAicmVxdWlyZWQiLCAicmVwbGFjZSIsICJyZXN0RXhwbG9kZWQiLCAiam9pbiIsICJyZXN1bHQiLCAibWFwIiwgInN1YnBhdGgiLCAicmFua1JvdXRlQnJhbmNoZXMiLCAic29ydCIsICJhIiwgImIiLCAiY29tcGFyZUluZGV4ZXMiLCAicGFyYW1SZSIsICJkeW5hbWljU2VnbWVudFZhbHVlIiwgImluZGV4Um91dGVWYWx1ZSIsICJlbXB0eVNlZ21lbnRWYWx1ZSIsICJzdGF0aWNTZWdtZW50VmFsdWUiLCAic3BsYXRQZW5hbHR5IiwgImlzU3BsYXQiLCAicyIsICJpbml0aWFsU2NvcmUiLCAic29tZSIsICJmaWx0ZXIiLCAicmVkdWNlIiwgInNlZ21lbnQiLCAidGVzdCIsICJzaWJsaW5ncyIsICJldmVyeSIsICJuIiwgImkiLCAibWF0Y2hSb3V0ZUJyYW5jaCIsICJicmFuY2giLCAicGF0aG5hbWUiLCAiYWxsb3dQYXJ0aWFsIiwgIm1hdGNoZWRQYXJhbXMiLCAibWF0Y2hlZFBhdGhuYW1lIiwgIm1hdGNoZXMiLCAiZW5kIiwgInJlbWFpbmluZ1BhdGhuYW1lIiwgIm1hdGNoIiwgIm1hdGNoUGF0aCIsICJPYmplY3QiLCAiYXNzaWduIiwgInBhcmFtcyIsICJwYXRobmFtZUJhc2UiLCAibm9ybWFsaXplUGF0aG5hbWUiLCAibWF0Y2hQYXRoIiwgInBhdHRlcm4iLCAicGF0aG5hbWUiLCAicGF0aCIsICJjYXNlU2Vuc2l0aXZlIiwgImVuZCIsICJtYXRjaGVyIiwgImNvbXBpbGVkUGFyYW1zIiwgImNvbXBpbGVQYXRoIiwgIm1hdGNoIiwgIm1hdGNoZWRQYXRobmFtZSIsICJwYXRobmFtZUJhc2UiLCAicmVwbGFjZSIsICJjYXB0dXJlR3JvdXBzIiwgInNsaWNlIiwgInBhcmFtcyIsICJyZWR1Y2UiLCAibWVtbyIsICJfcmVmIiwgImluZGV4IiwgInBhcmFtTmFtZSIsICJpc09wdGlvbmFsIiwgInNwbGF0VmFsdWUiLCAibGVuZ3RoIiwgInZhbHVlIiwgInVuZGVmaW5lZCIsICJ3YXJuaW5nIiwgImVuZHNXaXRoIiwgInJlZ2V4cFNvdXJjZSIsICJfIiwgInB1c2giLCAiUmVnRXhwIiwgImRlY29kZVBhdGgiLCAic3BsaXQiLCAibWFwIiwgInYiLCAiZGVjb2RlVVJJQ29tcG9uZW50IiwgImpvaW4iLCAiZXJyb3IiLCAic3RyaXBCYXNlbmFtZSIsICJiYXNlbmFtZSIsICJ0b0xvd2VyQ2FzZSIsICJzdGFydHNXaXRoIiwgInN0YXJ0SW5kZXgiLCAibmV4dENoYXIiLCAiY2hhckF0IiwgIkFCU09MVVRFX1VSTF9SRUdFWCIsICJpc0Fic29sdXRlVXJsIiwgInVybCIsICJ0ZXN0IiwgInJlc29sdmVQYXRoIiwgInRvIiwgImZyb21QYXRobmFtZSIsICJ0b1BhdGhuYW1lIiwgInNlYXJjaCIsICJoYXNoIiwgInBhcnNlUGF0aCIsICJpbmNsdWRlcyIsICJvbGRQYXRobmFtZSIsICJyZXNvbHZlUGF0aG5hbWUiLCAic3Vic3RyaW5nIiwgIm5vcm1hbGl6ZVNlYXJjaCIsICJub3JtYWxpemVIYXNoIiwgInJlbGF0aXZlUGF0aCIsICJzZWdtZW50cyIsICJyZWxhdGl2ZVNlZ21lbnRzIiwgImZvckVhY2giLCAic2VnbWVudCIsICJwb3AiLCAiZ2V0SW52YWxpZFBhdGhFcnJvciIsICJjaGFyIiwgImZpZWxkIiwgImRlc3QiLCAiSlNPTiIsICJzdHJpbmdpZnkiLCAiZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMiLCAibWF0Y2hlcyIsICJmaWx0ZXIiLCAicm91dGUiLCAiZ2V0UmVzb2x2ZVRvTWF0Y2hlcyIsICJ2N19yZWxhdGl2ZVNwbGF0UGF0aCIsICJwYXRoTWF0Y2hlcyIsICJpZHgiLCAicmVzb2x2ZVRvIiwgInRvQXJnIiwgInJvdXRlUGF0aG5hbWVzIiwgImxvY2F0aW9uUGF0aG5hbWUiLCAiaXNQYXRoUmVsYXRpdmUiLCAiX2V4dGVuZHMiLCAiaW52YXJpYW50IiwgImlzRW1wdHlQYXRoIiwgImZyb20iLCAicm91dGVQYXRobmFtZUluZGV4IiwgInRvU2VnbWVudHMiLCAic2hpZnQiLCAiaGFzRXhwbGljaXRUcmFpbGluZ1NsYXNoIiwgImhhc0N1cnJlbnRUcmFpbGluZ1NsYXNoIiwgImpvaW5QYXRocyIsICJwYXRocyIsICJqb2luIiwgInJlcGxhY2UiLCAibm9ybWFsaXplUGF0aG5hbWUiLCAicGF0aG5hbWUiLCAibm9ybWFsaXplU2VhcmNoIiwgInNlYXJjaCIsICJzdGFydHNXaXRoIiwgIm5vcm1hbGl6ZUhhc2giLCAiaGFzaCIsICJpc1JvdXRlRXJyb3JSZXNwb25zZSIsICJlcnJvciIsICJzdGF0dXMiLCAic3RhdHVzVGV4dCIsICJpbnRlcm5hbCIsICJ2YWxpZE11dGF0aW9uTWV0aG9kc0FyciIsICJ2YWxpZE11dGF0aW9uTWV0aG9kcyIsICJTZXQiLCAidmFsaWRSZXF1ZXN0TWV0aG9kc0FyciIsICJ2YWxpZFJlcXVlc3RNZXRob2RzIiwgIlVOU0FGRV9ERUZFUlJFRF9TWU1CT0wiLCAiU3ltYm9sIiwgIkRhdGFSb3V0ZXJDb250ZXh0IiwgIlJlYWN0IiwgImNyZWF0ZUNvbnRleHQiLCAicHJvY2VzcyIsICJkaXNwbGF5TmFtZSIsICJEYXRhUm91dGVyU3RhdGVDb250ZXh0IiwgInByb2Nlc3MiLCAiQXdhaXRDb250ZXh0IiwgImRpc3BsYXlOYW1lIiwgIk5hdmlnYXRpb25Db250ZXh0IiwgIlJlYWN0IiwgImNyZWF0ZUNvbnRleHQiLCAiTG9jYXRpb25Db250ZXh0IiwgIlJvdXRlQ29udGV4dCIsICJvdXRsZXQiLCAibWF0Y2hlcyIsICJpc0RhdGFSb3V0ZSIsICJSb3V0ZUVycm9yQ29udGV4dCIsICJ1c2VIcmVmIiwgInRvIiwgIl90ZW1wIiwgInJlbGF0aXZlIiwgInVzZUluUm91dGVyQ29udGV4dCIsICJpbnZhcmlhbnQiLCAiYmFzZW5hbWUiLCAibmF2aWdhdG9yIiwgInVzZUNvbnRleHQiLCAiaGFzaCIsICJwYXRobmFtZSIsICJzZWFyY2giLCAidXNlUmVzb2x2ZWRQYXRoIiwgImpvaW5lZFBhdGhuYW1lIiwgImpvaW5QYXRocyIsICJjcmVhdGVIcmVmIiwgInVzZUxvY2F0aW9uIiwgImxvY2F0aW9uIiwgInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QiLCAiY2IiLCAiaXNTdGF0aWMiLCAidXNlQ29udGV4dCIsICJOYXZpZ2F0aW9uQ29udGV4dCIsICJzdGF0aWMiLCAiUmVhY3QiLCAidXNlTGF5b3V0RWZmZWN0IiwgInVzZU5hdmlnYXRlIiwgImlzRGF0YVJvdXRlIiwgIlJvdXRlQ29udGV4dCIsICJ1c2VOYXZpZ2F0ZVN0YWJsZSIsICJ1c2VOYXZpZ2F0ZVVuc3RhYmxlIiwgInVzZUluUm91dGVyQ29udGV4dCIsICJwcm9jZXNzIiwgImludmFyaWFudCIsICJkYXRhUm91dGVyQ29udGV4dCIsICJEYXRhUm91dGVyQ29udGV4dCIsICJiYXNlbmFtZSIsICJmdXR1cmUiLCAibmF2aWdhdG9yIiwgIm1hdGNoZXMiLCAicGF0aG5hbWUiLCAibG9jYXRpb25QYXRobmFtZSIsICJ1c2VMb2NhdGlvbiIsICJyb3V0ZVBhdGhuYW1lc0pzb24iLCAiSlNPTiIsICJzdHJpbmdpZnkiLCAiZ2V0UmVzb2x2ZVRvTWF0Y2hlcyIsICJ2N19yZWxhdGl2ZVNwbGF0UGF0aCIsICJhY3RpdmVSZWYiLCAidXNlUmVmIiwgImN1cnJlbnQiLCAibmF2aWdhdGUiLCAidXNlQ2FsbGJhY2siLCAidG8iLCAib3B0aW9ucyIsICJ3YXJuaW5nIiwgIm5hdmlnYXRlRWZmZWN0V2FybmluZyIsICJnbyIsICJwYXRoIiwgInJlc29sdmVUbyIsICJwYXJzZSIsICJyZWxhdGl2ZSIsICJqb2luUGF0aHMiLCAicmVwbGFjZSIsICJwdXNoIiwgInN0YXRlIiwgIk91dGxldENvbnRleHQiLCAiY3JlYXRlQ29udGV4dCIsICJ1c2VPdXRsZXQiLCAiY29udGV4dCIsICJvdXRsZXQiLCAidXNlQ29udGV4dCIsICJSb3V0ZUNvbnRleHQiLCAiUmVhY3QiLCAiY3JlYXRlRWxlbWVudCIsICJPdXRsZXRDb250ZXh0IiwgIlByb3ZpZGVyIiwgInZhbHVlIiwgInVzZVJlc29sdmVkUGF0aCIsICJ0byIsICJfdGVtcDIiLCAicmVsYXRpdmUiLCAiZnV0dXJlIiwgInVzZUNvbnRleHQiLCAiTmF2aWdhdGlvbkNvbnRleHQiLCAibWF0Y2hlcyIsICJSb3V0ZUNvbnRleHQiLCAicGF0aG5hbWUiLCAibG9jYXRpb25QYXRobmFtZSIsICJ1c2VMb2NhdGlvbiIsICJyb3V0ZVBhdGhuYW1lc0pzb24iLCAiSlNPTiIsICJzdHJpbmdpZnkiLCAiZ2V0UmVzb2x2ZVRvTWF0Y2hlcyIsICJ2N19yZWxhdGl2ZVNwbGF0UGF0aCIsICJ1c2VNZW1vIiwgInJlc29sdmVUbyIsICJwYXJzZSIsICJ1c2VSb3V0ZXMiLCAicm91dGVzIiwgImxvY2F0aW9uQXJnIiwgInVzZVJvdXRlc0ltcGwiLCAiZGF0YVJvdXRlclN0YXRlIiwgInVzZUluUm91dGVyQ29udGV4dCIsICJwcm9jZXNzIiwgImludmFyaWFudCIsICJuYXZpZ2F0b3IiLCAicGFyZW50TWF0Y2hlcyIsICJyb3V0ZU1hdGNoIiwgImxlbmd0aCIsICJwYXJlbnRQYXJhbXMiLCAicGFyYW1zIiwgInBhcmVudFBhdGhuYW1lIiwgInBhcmVudFBhdGhuYW1lQmFzZSIsICJwYXRobmFtZUJhc2UiLCAicGFyZW50Um91dGUiLCAicm91dGUiLCAicGFyZW50UGF0aCIsICJwYXRoIiwgIndhcm5pbmdPbmNlIiwgImVuZHNXaXRoIiwgImxvY2F0aW9uRnJvbUNvbnRleHQiLCAibG9jYXRpb24iLCAiX3BhcnNlZExvY2F0aW9uQXJnJHBhIiwgInBhcnNlZExvY2F0aW9uQXJnIiwgInBhcnNlUGF0aCIsICJzdGFydHNXaXRoIiwgInJlbWFpbmluZ1BhdGhuYW1lIiwgInBhcmVudFNlZ21lbnRzIiwgInJlcGxhY2UiLCAic3BsaXQiLCAic2VnbWVudHMiLCAic2xpY2UiLCAiam9pbiIsICJtYXRjaFJvdXRlcyIsICJ3YXJuaW5nIiwgInNlYXJjaCIsICJoYXNoIiwgImVsZW1lbnQiLCAidW5kZWZpbmVkIiwgIkNvbXBvbmVudCIsICJsYXp5IiwgInJlbmRlcmVkTWF0Y2hlcyIsICJfcmVuZGVyTWF0Y2hlcyIsICJtYXAiLCAibWF0Y2giLCAiT2JqZWN0IiwgImFzc2lnbiIsICJqb2luUGF0aHMiLCAiZW5jb2RlTG9jYXRpb24iLCAiUmVhY3QiLCAiY3JlYXRlRWxlbWVudCIsICJMb2NhdGlvbkNvbnRleHQiLCAiUHJvdmlkZXIiLCAidmFsdWUiLCAiX2V4dGVuZHMiLCAic3RhdGUiLCAia2V5IiwgIm5hdmlnYXRpb25UeXBlIiwgIk5hdmlnYXRpb25UeXBlIiwgIlBvcCIsICJEZWZhdWx0RXJyb3JDb21wb25lbnQiLCAiZXJyb3IiLCAidXNlUm91dGVFcnJvciIsICJtZXNzYWdlIiwgImlzUm91dGVFcnJvclJlc3BvbnNlIiwgInN0YXR1cyIsICJzdGF0dXNUZXh0IiwgIkVycm9yIiwgInN0YWNrIiwgImxpZ2h0Z3JleSIsICJwcmVTdHlsZXMiLCAicGFkZGluZyIsICJiYWNrZ3JvdW5kQ29sb3IiLCAiY29kZVN0eWxlcyIsICJkZXZJbmZvIiwgImNvbnNvbGUiLCAiRnJhZ21lbnQiLCAic3R5bGUiLCAiZm9udFN0eWxlIiwgImRlZmF1bHRFcnJvckVsZW1lbnQiLCAiUmVuZGVyRXJyb3JCb3VuZGFyeSIsICJjb25zdHJ1Y3RvciIsICJwcm9wcyIsICJyZXZhbGlkYXRpb24iLCAiZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIiwgImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsICJjb21wb25lbnREaWRDYXRjaCIsICJlcnJvckluZm8iLCAicmVuZGVyIiwgInJvdXRlQ29udGV4dCIsICJSb3V0ZUVycm9yQ29udGV4dCIsICJjaGlsZHJlbiIsICJjb21wb25lbnQiLCAiUmVuZGVyZWRSb3V0ZSIsICJfcmVmIiwgImRhdGFSb3V0ZXJDb250ZXh0IiwgIkRhdGFSb3V0ZXJDb250ZXh0IiwgInN0YXRpYyIsICJzdGF0aWNDb250ZXh0IiwgImVycm9yRWxlbWVudCIsICJFcnJvckJvdW5kYXJ5IiwgIl9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkIiwgImlkIiwgIl9kYXRhUm91dGVyU3RhdGUiLCAiX2Z1dHVyZSIsICJlcnJvcnMiLCAidjdfcGFydGlhbEh5ZHJhdGlvbiIsICJpbml0aWFsaXplZCIsICJlcnJvckluZGV4IiwgImZpbmRJbmRleCIsICJtIiwgImtleXMiLCAiTWF0aCIsICJtaW4iLCAicmVuZGVyRmFsbGJhY2siLCAiZmFsbGJhY2tJbmRleCIsICJpIiwgIkh5ZHJhdGVGYWxsYmFjayIsICJoeWRyYXRlRmFsbGJhY2tFbGVtZW50IiwgImxvYWRlckRhdGEiLCAibmVlZHNUb1J1bkxvYWRlciIsICJsb2FkZXIiLCAicmVkdWNlUmlnaHQiLCAib3V0bGV0IiwgImluZGV4IiwgInNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayIsICJjb25jYXQiLCAiZ2V0Q2hpbGRyZW4iLCAiaXNEYXRhUm91dGUiLCAiRGF0YVJvdXRlckhvb2siLCAiRGF0YVJvdXRlclN0YXRlSG9vayIsICJ1c2VEYXRhUm91dGVyQ29udGV4dCIsICJob29rTmFtZSIsICJjdHgiLCAidXNlQ29udGV4dCIsICJEYXRhUm91dGVyQ29udGV4dCIsICJwcm9jZXNzIiwgImludmFyaWFudCIsICJnZXREYXRhUm91dGVyQ29uc29sZUVycm9yIiwgInVzZURhdGFSb3V0ZXJTdGF0ZSIsICJzdGF0ZSIsICJEYXRhUm91dGVyU3RhdGVDb250ZXh0IiwgInVzZVJvdXRlQ29udGV4dCIsICJyb3V0ZSIsICJSb3V0ZUNvbnRleHQiLCAidXNlQ3VycmVudFJvdXRlSWQiLCAidGhpc1JvdXRlIiwgIm1hdGNoZXMiLCAibGVuZ3RoIiwgImlkIiwgInVzZVJvdXRlRXJyb3IiLCAiX3N0YXRlJGVycm9ycyIsICJlcnJvciIsICJ1c2VDb250ZXh0IiwgIlJvdXRlRXJyb3JDb250ZXh0IiwgInN0YXRlIiwgInVzZURhdGFSb3V0ZXJTdGF0ZSIsICJEYXRhUm91dGVyU3RhdGVIb29rIiwgIlVzZVJvdXRlRXJyb3IiLCAicm91dGVJZCIsICJ1c2VDdXJyZW50Um91dGVJZCIsICJ1bmRlZmluZWQiLCAiZXJyb3JzIiwgInVzZU5hdmlnYXRlU3RhYmxlIiwgInJvdXRlciIsICJ1c2VEYXRhUm91dGVyQ29udGV4dCIsICJEYXRhUm91dGVySG9vayIsICJVc2VOYXZpZ2F0ZVN0YWJsZSIsICJpZCIsICJ1c2VDdXJyZW50Um91dGVJZCIsICJEYXRhUm91dGVyU3RhdGVIb29rIiwgImFjdGl2ZVJlZiIsICJ1c2VSZWYiLCAidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsICJjdXJyZW50IiwgIm5hdmlnYXRlIiwgInVzZUNhbGxiYWNrIiwgInRvIiwgIm9wdGlvbnMiLCAicHJvY2VzcyIsICJ3YXJuaW5nIiwgIm5hdmlnYXRlRWZmZWN0V2FybmluZyIsICJfZXh0ZW5kcyIsICJmcm9tUm91dGVJZCIsICJhbHJlYWR5V2FybmVkIiwgIndhcm5pbmdPbmNlIiwgImtleSIsICJjb25kIiwgIm1lc3NhZ2UiLCAid2Fybk9uY2UiLCAia2V5IiwgIm1lc3NhZ2UiLCAicHJvY2VzcyIsICJhbHJlYWR5V2FybmVkIiwgImNvbnNvbGUiLCAid2FybiIsICJsb2dEZXByZWNhdGlvbiIsICJmbGFnIiwgIm1zZyIsICJsaW5rIiwgImxvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyIsICJyZW5kZXJGdXR1cmUiLCAicm91dGVyRnV0dXJlIiwgInY3X3N0YXJ0VHJhbnNpdGlvbiIsICJ1bmRlZmluZWQiLCAidjdfcmVsYXRpdmVTcGxhdFBhdGgiLCAidjdfZmV0Y2hlclBlcnNpc3QiLCAidjdfbm9ybWFsaXplRm9ybU1ldGhvZCIsICJ2N19wYXJ0aWFsSHlkcmF0aW9uIiwgInY3X3NraXBBY3Rpb25FcnJvclJldmFsaWRhdGlvbiIsICJTVEFSVF9UUkFOU0lUSU9OIiwgInN0YXJ0VHJhbnNpdGlvbkltcGwiLCAiUmVhY3QiLCAiTmF2aWdhdGUiLCAiX3JlZjQiLCAidG8iLCAicmVwbGFjZSIsICJzdGF0ZSIsICJyZWxhdGl2ZSIsICJ1c2VJblJvdXRlckNvbnRleHQiLCAicHJvY2VzcyIsICJpbnZhcmlhbnQiLCAiZnV0dXJlIiwgInN0YXRpYyIsICJpc1N0YXRpYyIsICJ1c2VDb250ZXh0IiwgIk5hdmlnYXRpb25Db250ZXh0IiwgIndhcm5pbmciLCAibWF0Y2hlcyIsICJSb3V0ZUNvbnRleHQiLCAicGF0aG5hbWUiLCAibG9jYXRpb25QYXRobmFtZSIsICJ1c2VMb2NhdGlvbiIsICJuYXZpZ2F0ZSIsICJ1c2VOYXZpZ2F0ZSIsICJwYXRoIiwgInJlc29sdmVUbyIsICJnZXRSZXNvbHZlVG9NYXRjaGVzIiwgInY3X3JlbGF0aXZlU3BsYXRQYXRoIiwgImpzb25QYXRoIiwgIkpTT04iLCAic3RyaW5naWZ5IiwgIlJlYWN0IiwgInVzZUVmZmVjdCIsICJwYXJzZSIsICJPdXRsZXQiLCAicHJvcHMiLCAidXNlT3V0bGV0IiwgImNvbnRleHQiLCAiUm91dGUiLCAiX3Byb3BzIiwgIlJvdXRlciIsICJfcmVmNSIsICJiYXNlbmFtZSIsICJiYXNlbmFtZVByb3AiLCAiY2hpbGRyZW4iLCAibG9jYXRpb24iLCAibG9jYXRpb25Qcm9wIiwgIm5hdmlnYXRpb25UeXBlIiwgIk5hdmlnYXRpb25UeXBlIiwgIlBvcCIsICJuYXZpZ2F0b3IiLCAic3RhdGljUHJvcCIsICJuYXZpZ2F0aW9uQ29udGV4dCIsICJ1c2VNZW1vIiwgIl9leHRlbmRzIiwgInBhcnNlUGF0aCIsICJzZWFyY2giLCAiaGFzaCIsICJrZXkiLCAibG9jYXRpb25Db250ZXh0IiwgInRyYWlsaW5nUGF0aG5hbWUiLCAic3RyaXBCYXNlbmFtZSIsICJjcmVhdGVFbGVtZW50IiwgIlByb3ZpZGVyIiwgInZhbHVlIiwgIkxvY2F0aW9uQ29udGV4dCIsICJSb3V0ZXMiLCAiX3JlZjYiLCAidXNlUm91dGVzIiwgImNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbiIsICJuZXZlclNldHRsZWRQcm9taXNlIiwgIlByb21pc2UiLCAiY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuIiwgImNoaWxkcmVuIiwgInBhcmVudFBhdGgiLCAicm91dGVzIiwgIlJlYWN0IiwgIkNoaWxkcmVuIiwgImZvckVhY2giLCAiZWxlbWVudCIsICJpbmRleCIsICJpc1ZhbGlkRWxlbWVudCIsICJ0cmVlUGF0aCIsICJ0eXBlIiwgIkZyYWdtZW50IiwgInB1c2giLCAiYXBwbHkiLCAicHJvcHMiLCAiUm91dGUiLCAicHJvY2VzcyIsICJpbnZhcmlhbnQiLCAibmFtZSIsICJyb3V0ZSIsICJpZCIsICJqb2luIiwgImNhc2VTZW5zaXRpdmUiLCAiQ29tcG9uZW50IiwgInBhdGgiLCAibG9hZGVyIiwgImFjdGlvbiIsICJlcnJvckVsZW1lbnQiLCAiRXJyb3JCb3VuZGFyeSIsICJoYXNFcnJvckJvdW5kYXJ5IiwgInNob3VsZFJldmFsaWRhdGUiLCAiaGFuZGxlIiwgImxhenkiLCAiaXNNb2RpZmllZEV2ZW50IiwgImV2ZW50IiwgIm1ldGFLZXkiLCAiYWx0S2V5IiwgImN0cmxLZXkiLCAic2hpZnRLZXkiLCAic2hvdWxkUHJvY2Vzc0xpbmtDbGljayIsICJ0YXJnZXQiLCAiYnV0dG9uIiwgIlJFQUNUX1JPVVRFUl9WRVJTSU9OIiwgIndpbmRvdyIsICJfX3JlYWN0Um91dGVyVmVyc2lvbiIsICJlIiwgIlZpZXdUcmFuc2l0aW9uQ29udGV4dCIsICJSZWFjdCIsICJjcmVhdGVDb250ZXh0IiwgImlzVHJhbnNpdGlvbmluZyIsICJwcm9jZXNzIiwgImRpc3BsYXlOYW1lIiwgInByb2Nlc3MiLCAiRmV0Y2hlcnNDb250ZXh0IiwgImRpc3BsYXlOYW1lIiwgIlNUQVJUX1RSQU5TSVRJT04iLCAic3RhcnRUcmFuc2l0aW9uSW1wbCIsICJSZWFjdCIsICJGTFVTSF9TWU5DIiwgImZsdXNoU3luY0ltcGwiLCAiUmVhY3RET00iLCAiVVNFX0lEIiwgInVzZUlkSW1wbCIsICJCcm93c2VyUm91dGVyIiwgIl9yZWY0IiwgImJhc2VuYW1lIiwgImNoaWxkcmVuIiwgImZ1dHVyZSIsICJ3aW5kb3ciLCAiaGlzdG9yeVJlZiIsICJ1c2VSZWYiLCAiY3VycmVudCIsICJjcmVhdGVCcm93c2VySGlzdG9yeSIsICJ2NUNvbXBhdCIsICJoaXN0b3J5IiwgInN0YXRlIiwgInNldFN0YXRlSW1wbCIsICJ1c2VTdGF0ZSIsICJhY3Rpb24iLCAibG9jYXRpb24iLCAidjdfc3RhcnRUcmFuc2l0aW9uIiwgInNldFN0YXRlIiwgInVzZUNhbGxiYWNrIiwgIm5ld1N0YXRlIiwgInN0YXJ0VHJhbnNpdGlvbkltcGwiLCAiUmVhY3QiLCAidXNlTGF5b3V0RWZmZWN0IiwgImxpc3RlbiIsICJ1c2VFZmZlY3QiLCAibG9nVjZEZXByZWNhdGlvbldhcm5pbmdzIiwgImNyZWF0ZUVsZW1lbnQiLCAiUm91dGVyIiwgIm5hdmlnYXRpb25UeXBlIiwgIm5hdmlnYXRvciIsICJwcm9jZXNzIiwgIkhpc3RvcnlSb3V0ZXIiLCAiZGlzcGxheU5hbWUiLCAiaXNCcm93c2VyIiwgIndpbmRvdyIsICJkb2N1bWVudCIsICJjcmVhdGVFbGVtZW50IiwgIkFCU09MVVRFX1VSTF9SRUdFWCIsICJMaW5rIiwgIlJlYWN0IiwgImZvcndhcmRSZWYiLCAiTGlua1dpdGhSZWYiLCAiX3JlZjciLCAicmVmIiwgIm9uQ2xpY2siLCAicmVsYXRpdmUiLCAicmVsb2FkRG9jdW1lbnQiLCAicmVwbGFjZSIsICJzdGF0ZSIsICJ0YXJnZXQiLCAidG8iLCAicHJldmVudFNjcm9sbFJlc2V0IiwgInZpZXdUcmFuc2l0aW9uIiwgInJlc3QiLCAiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCAiX2V4Y2x1ZGVkIiwgImJhc2VuYW1lIiwgInVzZUNvbnRleHQiLCAiTmF2aWdhdGlvbkNvbnRleHQiLCAiYWJzb2x1dGVIcmVmIiwgImlzRXh0ZXJuYWwiLCAidGVzdCIsICJjdXJyZW50VXJsIiwgIlVSTCIsICJsb2NhdGlvbiIsICJocmVmIiwgInRhcmdldFVybCIsICJzdGFydHNXaXRoIiwgInByb3RvY29sIiwgInBhdGgiLCAic3RyaXBCYXNlbmFtZSIsICJwYXRobmFtZSIsICJvcmlnaW4iLCAic2VhcmNoIiwgImhhc2giLCAiZSIsICJ3YXJuaW5nIiwgInVzZUhyZWYiLCAiaW50ZXJuYWxPbkNsaWNrIiwgInVzZUxpbmtDbGlja0hhbmRsZXIiLCAiaGFuZGxlQ2xpY2siLCAiZXZlbnQiLCAiZGVmYXVsdFByZXZlbnRlZCIsICJfZXh0ZW5kcyIsICJOYXZMaW5rIiwgIk5hdkxpbmtXaXRoUmVmIiwgIl9yZWY4IiwgImFyaWFDdXJyZW50UHJvcCIsICJjYXNlU2Vuc2l0aXZlIiwgImNsYXNzTmFtZSIsICJjbGFzc05hbWVQcm9wIiwgImVuZCIsICJzdHlsZSIsICJzdHlsZVByb3AiLCAiY2hpbGRyZW4iLCAiX2V4Y2x1ZGVkMiIsICJ1c2VSZXNvbHZlZFBhdGgiLCAidXNlTG9jYXRpb24iLCAicm91dGVyU3RhdGUiLCAiRGF0YVJvdXRlclN0YXRlQ29udGV4dCIsICJuYXZpZ2F0b3IiLCAiaXNUcmFuc2l0aW9uaW5nIiwgInVzZVZpZXdUcmFuc2l0aW9uU3RhdGUiLCAidG9QYXRobmFtZSIsICJlbmNvZGVMb2NhdGlvbiIsICJsb2NhdGlvblBhdGhuYW1lIiwgIm5leHRMb2NhdGlvblBhdGhuYW1lIiwgIm5hdmlnYXRpb24iLCAidG9Mb3dlckNhc2UiLCAiZW5kU2xhc2hQb3NpdGlvbiIsICJlbmRzV2l0aCIsICJsZW5ndGgiLCAiaXNBY3RpdmUiLCAiY2hhckF0IiwgImlzUGVuZGluZyIsICJyZW5kZXJQcm9wcyIsICJhcmlhQ3VycmVudCIsICJ1bmRlZmluZWQiLCAiZmlsdGVyIiwgIkJvb2xlYW4iLCAiam9pbiIsICJwcm9jZXNzIiwgIkZvcm0iLCAiZGlzcGxheU5hbWUiLCAicHJvY2VzcyIsICJTY3JvbGxSZXN0b3JhdGlvbiIsICJkaXNwbGF5TmFtZSIsICJEYXRhUm91dGVySG9vayIsICJEYXRhUm91dGVyU3RhdGVIb29rIiwgInVzZURhdGFSb3V0ZXJDb250ZXh0IiwgImhvb2tOYW1lIiwgImN0eCIsICJ1c2VDb250ZXh0IiwgIkRhdGFSb3V0ZXJDb250ZXh0IiwgInByb2Nlc3MiLCAiaW52YXJpYW50IiwgImdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IiLCAidXNlTGlua0NsaWNrSGFuZGxlciIsICJ0byIsICJfdGVtcCIsICJ0YXJnZXQiLCAicmVwbGFjZSIsICJyZXBsYWNlUHJvcCIsICJzdGF0ZSIsICJwcmV2ZW50U2Nyb2xsUmVzZXQiLCAicmVsYXRpdmUiLCAidmlld1RyYW5zaXRpb24iLCAibmF2aWdhdGUiLCAidXNlTmF2aWdhdGUiLCAibG9jYXRpb24iLCAidXNlTG9jYXRpb24iLCAicGF0aCIsICJ1c2VSZXNvbHZlZFBhdGgiLCAidXNlQ2FsbGJhY2siLCAiZXZlbnQiLCAic2hvdWxkUHJvY2Vzc0xpbmtDbGljayIsICJwcmV2ZW50RGVmYXVsdCIsICJ1bmRlZmluZWQiLCAiY3JlYXRlUGF0aCIsICJ1c2VWaWV3VHJhbnNpdGlvblN0YXRlIiwgInRvIiwgIm9wdHMiLCAidnRDb250ZXh0IiwgInVzZUNvbnRleHQiLCAiVmlld1RyYW5zaXRpb25Db250ZXh0IiwgInByb2Nlc3MiLCAiaW52YXJpYW50IiwgImJhc2VuYW1lIiwgInVzZURhdGFSb3V0ZXJDb250ZXh0IiwgIkRhdGFSb3V0ZXJIb29rIiwgInBhdGgiLCAidXNlUmVzb2x2ZWRQYXRoIiwgInJlbGF0aXZlIiwgImlzVHJhbnNpdGlvbmluZyIsICJjdXJyZW50UGF0aCIsICJzdHJpcEJhc2VuYW1lIiwgImN1cnJlbnRMb2NhdGlvbiIsICJwYXRobmFtZSIsICJuZXh0UGF0aCIsICJuZXh0TG9jYXRpb24iLCAibWF0Y2hQYXRoIiwgIktpbmQiLCAiTkFNRSIsICJET0NVTUVOVCIsICJPUEVSQVRJT05fREVGSU5JVElPTiIsICJWQVJJQUJMRV9ERUZJTklUSU9OIiwgIlNFTEVDVElPTl9TRVQiLCAiRklFTEQiLCAiQVJHVU1FTlQiLCAiRlJBR01FTlRfU1BSRUFEIiwgIklOTElORV9GUkFHTUVOVCIsICJGUkFHTUVOVF9ERUZJTklUSU9OIiwgIlZBUklBQkxFIiwgIklOVCIsICJGTE9BVCIsICJTVFJJTkciLCAiQk9PTEVBTiIsICJOVUxMIiwgIkVOVU0iLCAiTElTVCIsICJPQkpFQ1QiLCAiT0JKRUNUX0ZJRUxEIiwgIkRJUkVDVElWRSIsICJOQU1FRF9UWVBFIiwgIkxJU1RfVFlQRSIsICJOT05fTlVMTF9UWVBFIiwgIkdyYXBoUUxFcnJvciIsICJFcnJvciIsICJjb25zdHJ1Y3RvciIsICJtZXNzYWdlIiwgIm5vZGVzIiwgInNvdXJjZSIsICJwb3NpdGlvbnMiLCAicGF0aCIsICJvcmlnaW5hbEVycm9yIiwgImV4dGVuc2lvbnMiLCAic3VwZXIiLCAidGhpcyIsICJuYW1lIiwgIkFycmF5IiwgImlzQXJyYXkiLCAiX2V4dGVuc2lvbnMiLCAib3JpZ2luYWxFeHRlbnNpb25zIiwgInRvSlNPTiIsICJ0b1N0cmluZyIsICJTeW1ib2wiLCAidG9TdHJpbmdUYWciLCAiaW5wdXQiLCAiaWR4IiwgImVycm9yIiwgImtpbmQiLCAiYWR2YW5jZSIsICJwYXR0ZXJuIiwgImxhc3RJbmRleCIsICJ0ZXN0IiwgInNsaWNlIiwgImxlYWRpbmdSZSIsICJibG9ja1N0cmluZyIsICJzdHJpbmciLCAibGluZXMiLCAic3BsaXQiLCAib3V0IiwgImNvbW1vbkluZGVudCIsICJmaXJzdE5vbkVtcHR5TGluZSIsICJsYXN0Tm9uRW1wdHlMaW5lIiwgImxlbmd0aCIsICJpIiwgInJlcGxhY2UiLCAiaWdub3JlZCIsICJjaGFyIiwgImNoYXJDb2RlQXQiLCAic3RhcnQiLCAidmFsdWUiLCAibmFtZU5vZGUiLCAicmVzdEJsb2NrU3RyaW5nUmUiLCAiZmxvYXRQYXJ0UmUiLCAiY29uc3RhbnQiLCAibWF0Y2giLCAidmFsdWVzIiwgInB1c2giLCAiZmllbGRzIiwgImJsb2NrIiwgImlzQ29tcGxleCIsICJKU09OIiwgInBhcnNlIiwgImludFBhcnQiLCAiYXJndW1lbnRzXyIsICJhcmdzIiwgImRpcmVjdGl2ZXMiLCAiYXJndW1lbnRzIiwgInR5cGUiLCAibGlzdHMiLCAic2VsZWN0aW9uU2V0U3RhcnQiLCAic2VsZWN0aW9uU2V0IiwgInNlbGVjdGlvbnMiLCAidHlwZUNvbmRpdGlvbiIsICJhbGlhcyIsICJfYXJndW1lbnRzIiwgIl9kaXJlY3RpdmVzIiwgIl9zZWxlY3Rpb25TZXQiLCAidmFyaWFibGVEZWZpbml0aW9ucyIsICJ2YXJzIiwgIl9kZXNjcmlwdGlvbiIsICJfdHlwZSIsICJfZGVmYXVsdFZhbHVlIiwgInZhckRlZiIsICJ2YXJpYWJsZSIsICJkZWZhdWx0VmFsdWUiLCAiZGVzY3JpcHRpb24iLCAiZnJhZ21lbnREZWZpbml0aW9uIiwgImZyYWdEZWYiLCAiZGVmaW5pdGlvbnMiLCAiX2RlZmluaXRpb25zIiwgIm9wZXJhdGlvbiIsICJkZWZpbml0aW9uIiwgIm9wRGVmIiwgIm9wdGlvbnMiLCAiYm9keSIsICJub0xvY2F0aW9uIiwgImxvYyIsICJlbmQiLCAic3RhcnRUb2tlbiIsICJlbmRUb2tlbiIsICJsb2NhdGlvbk9mZnNldCIsICJsaW5lIiwgImNvbHVtbiIsICJtYXBKb2luIiwgInZhbHVlIiwgImpvaW5lciIsICJtYXBwZXIiLCAib3V0IiwgImluZGV4IiwgImxlbmd0aCIsICJwcmludFN0cmluZyIsICJzdHJpbmciLCAiSlNPTiIsICJzdHJpbmdpZnkiLCAicHJpbnRCbG9ja1N0cmluZyIsICJyZXBsYWNlIiwgIkxGIiwgIm5vZGVzIiwgIk9wZXJhdGlvbkRlZmluaXRpb24iLCAibm9kZSIsICJkZXNjcmlwdGlvbiIsICJTdHJpbmdWYWx1ZSIsICJvcGVyYXRpb24iLCAibmFtZSIsICJ2YXJpYWJsZURlZmluaXRpb25zIiwgIlZhcmlhYmxlRGVmaW5pdGlvbiIsICJkaXJlY3RpdmVzIiwgIkRpcmVjdGl2ZSIsICJzZWxlY3Rpb25TZXQiLCAiU2VsZWN0aW9uU2V0IiwgIlZhcmlhYmxlIiwgInZhcmlhYmxlIiwgIl9wcmludCIsICJ0eXBlIiwgImRlZmF1bHRWYWx1ZSIsICJGaWVsZCIsICJhbGlhcyIsICJhcmd1bWVudHMiLCAiYXJncyIsICJBcmd1bWVudCIsICJzbGljZSIsICJzZWxlY3Rpb25zIiwgImJsb2NrIiwgIkJvb2xlYW5WYWx1ZSIsICJOdWxsVmFsdWUiLCAiX25vZGUiLCAiSW50VmFsdWUiLCAiRmxvYXRWYWx1ZSIsICJFbnVtVmFsdWUiLCAiTmFtZSIsICJMaXN0VmFsdWUiLCAidmFsdWVzIiwgIk9iamVjdFZhbHVlIiwgImZpZWxkcyIsICJPYmplY3RGaWVsZCIsICJEb2N1bWVudCIsICJkZWZpbml0aW9ucyIsICJGcmFnbWVudFNwcmVhZCIsICJJbmxpbmVGcmFnbWVudCIsICJ0eXBlQ29uZGl0aW9uIiwgIkZyYWdtZW50RGVmaW5pdGlvbiIsICJOYW1lZFR5cGUiLCAiTGlzdFR5cGUiLCAiTm9uTnVsbFR5cGUiLCAia2luZCIsICJwcmludCIsICJlIiwgImUiLCAiciIsICJ0IiwgImkiLCAiYSIsICJlIiwgImYiLCAibiIsICJsIiwgInUiLCAibyIsICJyIiwgInQiLCAiaSIsICJlIiwgImEiLCAiZiIsICJuIiwgImwiLCAidSIsICJyIiwgInQiLCAiaSIsICJhIiwgImUiLCAiZiIsICJuIiwgImwiLCAidSIsICJyIiwgInQiLCAiaSIsICJhIiwgImUiLCAiZiIsICJuIiwgInIiLCAidCIsICJpIiwgImEiLCAiZSIsICJmIiwgIm4iLCAiZSIsICJyIiwgInQiLCAiaSIsICJhIiwgImYiLCAibiIsICJyIiwgInQiLCAiaSIsICJlIiwgImEiLCAiZSIsICJyIiwgInQiLCAiaSIsICJlIiwgImEiLCAiZSIsICJyIiwgInQiLCAiaSIsICJyZWh5ZHJhdGVHcmFwaFFsRXJyb3IiLCAiZXJyb3IiLCAibWVzc2FnZSIsICJleHRlbnNpb25zIiwgIm5hbWUiLCAiR3JhcGhRTEVycm9yIiwgIm5vZGVzIiwgInNvdXJjZSIsICJwb3NpdGlvbnMiLCAicGF0aCIsICJDb21iaW5lZEVycm9yIiwgIkVycm9yIiwgImNvbnN0cnVjdG9yIiwgImlucHV0IiwgIm5vcm1hbGl6ZWRHcmFwaFFMRXJyb3JzIiwgImdyYXBoUUxFcnJvcnMiLCAibWFwIiwgImdlbmVyYXRlRXJyb3JNZXNzYWdlIiwgIm5ldHdvcmtFcnIiLCAiZ3JhcGhRbEVycnMiLCAiaSIsICJsIiwgImxlbmd0aCIsICJuZXR3b3JrRXJyb3IiLCAic3VwZXIiLCAidGhpcyIsICJyZXNwb25zZSIsICJ0b1N0cmluZyIsICJwaGFzaCIsICJ4IiwgInNlZWQiLCAiaCIsICJjaGFyQ29kZUF0IiwgInNlZW4iLCAiU2V0IiwgImNhY2hlIiwgIldlYWtNYXAiLCAic3RyaW5naWZ5IiwgImluY2x1ZGVGaWxlcyIsICJoYXMiLCAiSlNPTiIsICJ0b0pTT04iLCAiQXJyYXkiLCAiaXNBcnJheSIsICJvdXQiLCAiRmlsZUNvbnN0cnVjdG9yIiwgIk5vb3BDb25zdHJ1Y3RvciIsICJCbG9iQ29uc3RydWN0b3IiLCAia2V5cyIsICJPYmplY3QiLCAic29ydCIsICJnZXRQcm90b3R5cGVPZiIsICJwcm90b3R5cGUiLCAia2V5IiwgImdldCIsICJNYXRoIiwgInJhbmRvbSIsICJzbGljZSIsICJzZXQiLCAiX19rZXkiLCAiYWRkIiwgInZhbHVlIiwgImRlbGV0ZSIsICJleHRyYWN0IiwgInN0cmluZ2lmeVZhcmlhYmxlcyIsICJjbGVhciIsICJGaWxlIiwgIkJsb2IiLCAiR1JBUEhRTF9TVFJJTkdfUkUiLCAiUkVQTEFDRV9DSEFSX1JFIiwgInJlcGxhY2VPdXRzaWRlU3RyaW5ncyIsICJzdHIiLCAiaWR4IiwgInJlcGxhY2UiLCAic2FuaXRpemVEb2N1bWVudCIsICJub2RlIiwgInNwbGl0IiwgImpvaW4iLCAidHJpbSIsICJwcmludHMiLCAiTWFwIiwgImRvY3MiLCAic3RyaW5naWZ5RG9jdW1lbnQiLCAicHJpbnRlZCIsICJsb2MiLCAiYm9keSIsICJwcmludCIsICJzdGFydCIsICJlbmQiLCAibG9jYXRpb25PZmZzZXQiLCAibGluZSIsICJjb2x1bW4iLCAiaGFzaERvY3VtZW50IiwgImRvY3VtZW50SWQiLCAiZGVmaW5pdGlvbnMiLCAib3BlcmF0aW9uTmFtZSIsICJnZXRPcGVyYXRpb25OYW1lIiwgImtleURvY3VtZW50IiwgInF1ZXJ5IiwgInBhcnNlIiwgIm5vTG9jYXRpb24iLCAiY3JlYXRlUmVxdWVzdCIsICJfcXVlcnkiLCAiX3ZhcmlhYmxlcyIsICJ2YXJpYWJsZXMiLCAicHJpbnRlZFZhcnMiLCAia2luZCIsICJLaW5kIiwgIk9QRVJBVElPTl9ERUZJTklUSU9OIiwgIm1ha2VSZXN1bHQiLCAib3BlcmF0aW9uIiwgInJlc3VsdCIsICJyZXNwb25zZSIsICJBcnJheSIsICJpc0FycmF5IiwgImVycm9ycyIsICJFcnJvciIsICJkZWZhdWx0SGFzTmV4dCIsICJraW5kIiwgImRhdGEiLCAiZXJyb3IiLCAiQ29tYmluZWRFcnJvciIsICJncmFwaFFMRXJyb3JzIiwgImV4dGVuc2lvbnMiLCAiaGFzTmV4dCIsICJzdGFsZSIsICJkZWVwTWVyZ2UiLCAidGFyZ2V0IiwgInNvdXJjZSIsICJpIiwgImwiLCAibGVuZ3RoIiwgImNvbnN0cnVjdG9yIiwgIk9iamVjdCIsICJrZXkiLCAibWVyZ2VSZXN1bHRQYXRjaCIsICJwcmV2UmVzdWx0IiwgIm5leHRSZXN1bHQiLCAicGVuZGluZyIsICJoYXNFeHRlbnNpb25zIiwgInBheWxvYWQiLCAiaW5jcmVtZW50YWwiLCAid2l0aERhdGEiLCAiX2xvb3AiLCAicGF0Y2giLCAicHVzaCIsICJhc3NpZ24iLCAicHJvcCIsICJwYXJ0IiwgInBhdGgiLCAicmVzIiwgImZpbmQiLCAicGVuZGluZ1JlcyIsICJpZCIsICJzdWJQYXRoIiwgIml0ZW1zIiwgInN0YXJ0SW5kZXgiLCAibWFrZUVycm9yUmVzdWx0IiwgIm5ldHdvcmtFcnJvciIsICJtYWtlRmV0Y2hCb2R5IiwgInJlcXVlc3QiLCAiYm9keSIsICJxdWVyeSIsICJkb2N1bWVudElkIiwgIm9wZXJhdGlvbk5hbWUiLCAiZ2V0T3BlcmF0aW9uTmFtZSIsICJ2YXJpYWJsZXMiLCAiZGVmaW5pdGlvbnMiLCAicGVyc2lzdGVkUXVlcnkiLCAibWlzcyIsICJzdHJpbmdpZnlEb2N1bWVudCIsICJtYWtlRmV0Y2hVUkwiLCAidXNlR0VUTWV0aG9kIiwgImNvbnRleHQiLCAicHJlZmVyR2V0TWV0aG9kIiwgInVybCIsICJ1cmxQYXJ0cyIsICJzcGxpdE91dFNlYXJjaFBhcmFtcyIsICJ2YWx1ZSIsICJzZXQiLCAic3RyaW5naWZ5VmFyaWFibGVzIiwgImZpbmFsVXJsIiwgImpvaW4iLCAic3RhcnQiLCAiaW5kZXhPZiIsICJzbGljZSIsICJVUkxTZWFyY2hQYXJhbXMiLCAic2VyaWFsaXplQm9keSIsICJqc29uIiwgImZpbGVzIiwgIngiLCAibWFwIiwgIk1hcCIsICJGaWxlQ29uc3RydWN0b3IiLCAiTm9vcENvbnN0cnVjdG9yIiwgIkJsb2JDb25zdHJ1Y3RvciIsICJzZWVuIiwgImNsZWFyIiwgImV4dHJhY3QiLCAic2l6ZSIsICJmb3JtIiwgIkZvcm1EYXRhIiwgImFwcGVuZCIsICJrZXlzIiwgImluZGV4IiwgImZpbGUiLCAidmFsdWVzIiwgIm1ha2VGZXRjaE9wdGlvbnMiLCAiaGVhZGVycyIsICJhY2NlcHQiLCAiZXh0cmFPcHRpb25zIiwgImZldGNoT3B0aW9ucyIsICJmb3JFYWNoIiwgInRvTG93ZXJDYXNlIiwgInNlcmlhbGl6ZWRCb2R5IiwgIm1ldGhvZCIsICJib3VuZGFyeUhlYWRlclJlIiwgImV2ZW50U3RyZWFtUmUiLCAiYXN5bmMiLCAic3RyZWFtQm9keSIsICJTeW1ib2wiLCAiYXN5bmNJdGVyYXRvciIsICJjaHVuayIsICJyZWFkZXIiLCAiZ2V0UmVhZGVyIiwgInJlYWQiLCAiZG9uZSIsICJjYW5jZWwiLCAic3RyZWFtVG9Cb3VuZGVkQ2h1bmtzIiwgImNodW5rcyIsICJib3VuZGFyeSIsICJkZWNvZGVyIiwgIlRleHREZWNvZGVyIiwgImJ1ZmZlciIsICJib3VuZGFyeUluZGV4IiwgIm5hbWUiLCAidG9TdHJpbmciLCAiZGVjb2RlIiwgInN0cmVhbSIsICJmZXRjaE9wZXJhdGlvbiIsICJuZXR3b3JrTW9kZSIsICJQcm9taXNlIiwgInJlc29sdmUiLCAiY29udGVudFR5cGUiLCAiZmV0Y2giLCAiZ2V0IiwgInJlc3VsdHMiLCAidGVzdCIsICJwYXJzZU11bHRpcGFydE1peGVkIiwgImJvdW5kYXJ5SGVhZGVyIiwgIm1hdGNoIiwgImlzUHJlYW1ibGUiLCAicHJlYW1ibGVJbmRleCIsICJKU09OIiwgInBhcnNlIiwgInBhcnNlRXZlbnRTdHJlYW0iLCAicGFyc2VKU09OIiwgInRleHQiLCAicGFyc2VNYXliZUpTT04iLCAiTk9ERV9FTlYiLCAiY29uc29sZSIsICJ3YXJuIiwgImUiLCAic3RhdHVzIiwgInN0YXR1c1RleHQiLCAibWFrZUZldGNoU291cmNlIiwgImFib3J0Q29udHJvbGxlciIsICJBYm9ydENvbnRyb2xsZXIiLCAic2lnbmFsIiwgIm9uRW5kIiwgImFib3J0IiwgImZpbHRlciIsICJmcm9tQXN5bmNJdGVyYWJsZSIsICJjb2xsZWN0VHlwZXMiLCAib2JqIiwgInR5cGVzIiwgIkFycmF5IiwgImlzQXJyYXkiLCAiaSIsICJsIiwgImxlbmd0aCIsICJrZXkiLCAiYWRkIiwgImZvcm1hdE5vZGUiLCAibm9kZSIsICJkZWZpbml0aW9ucyIsICJuZXdEZWZpbml0aW9uIiwgInB1c2giLCAiZGlyZWN0aXZlcyIsICJfZGlyZWN0aXZlcyIsICJkaXJlY3RpdmUiLCAibmFtZSIsICJ2YWx1ZSIsICJzbGljZSIsICJzZWxlY3Rpb25zIiwgImhhc1R5cGVuYW1lIiwgImtpbmQiLCAiS2luZCIsICJPUEVSQVRJT05fREVGSU5JVElPTiIsICJzZWxlY3Rpb25TZXQiLCAic2VsZWN0aW9uIiwgIkZJRUxEIiwgImFsaWFzIiwgIm5ld1NlbGVjdGlvbiIsICJOQU1FIiwgIl9nZW5lcmF0ZWQiLCAiZm9ybWF0dGVkRG9jcyIsICJNYXAiLCAiZm9ybWF0RG9jdW1lbnQiLCAicXVlcnkiLCAia2V5RG9jdW1lbnQiLCAicmVzdWx0IiwgImdldCIsICJfX2tleSIsICJzZXQiLCAiT2JqZWN0IiwgImRlZmluZVByb3BlcnR5IiwgImVudW1lcmFibGUiLCAid2l0aFByb21pc2UiLCAiX3NvdXJjZSQiLCAic291cmNlJCIsICJzaW5rIiwgInRvUHJvbWlzZSIsICJ0YWtlIiwgImZpbHRlciIsICJzdGFsZSIsICJoYXNOZXh0IiwgInRoZW4iLCAib25SZXNvbHZlIiwgIm9uUmVqZWN0IiwgInN1YnNjcmliZSIsICJvblJlc3VsdCIsICJtYWtlT3BlcmF0aW9uIiwgInJlcXVlc3QiLCAiY29udGV4dCIsICJhZGRNZXRhZGF0YSIsICJvcGVyYXRpb24iLCAibWV0YSIsICJub29wIiwgInNob3VsZFNraXAiLCAia2luZCIsICJtYXBUeXBlTmFtZXMiLCAib3BlcmF0aW9uIiwgInF1ZXJ5IiwgImZvcm1hdERvY3VtZW50IiwgImZvcm1hdHRlZE9wZXJhdGlvbiIsICJtYWtlT3BlcmF0aW9uIiwgImNhY2hlRXhjaGFuZ2UiLCAiZm9yd2FyZCIsICJjbGllbnQiLCAiZGlzcGF0Y2hEZWJ1ZyIsICJyZXN1bHRDYWNoZSIsICJNYXAiLCAib3BlcmF0aW9uQ2FjaGUiLCAiaXNPcGVyYXRpb25DYWNoZWQiLCAiY29udGV4dCIsICJyZXF1ZXN0UG9saWN5IiwgImhhcyIsICJrZXkiLCAib3BzJCIsICJjYWNoZWRPcHMkIiwgIm1hcCIsICJjYWNoZWRSZXN1bHQiLCAiZ2V0IiwgInJlc3VsdCIsICJtYWtlUmVzdWx0IiwgImRhdGEiLCAiYWRkTWV0YWRhdGEiLCAiY2FjaGVPdXRjb21lIiwgInN0YWxlIiwgInJlZXhlY3V0ZU9wZXJhdGlvbiIsICJmaWx0ZXIiLCAib3AiLCAiZm9yd2FyZGVkT3BzJCIsICJ0YXAiLCAicmVzcG9uc2UiLCAidHlwZW5hbWVzIiwgImFkZGl0aW9uYWxUeXBlbmFtZXMiLCAiY29sbGVjdFR5cGVzIiwgIlNldCIsICJjb25jYXQiLCAicGVuZGluZ09wZXJhdGlvbnMiLCAiaSIsICJsZW5ndGgiLCAidHlwZU5hbWUiLCAib3BlcmF0aW9ucyIsICJzZXQiLCAidmFsdWVzIiwgImFkZCIsICJjbGVhciIsICJkZWxldGUiLCAibWVyZ2UiLCAiZmV0Y2hFeGNoYW5nZSIsICJmb3J3YXJkIiwgImRpc3BhdGNoRGVidWciLCAib3BzJCIsICJmZXRjaFJlc3VsdHMkIiwgIm1lcmdlTWFwIiwgIm9wZXJhdGlvbiIsICJib2R5IiwgIm1ha2VGZXRjaEJvZHkiLCAidXJsIiwgIm1ha2VGZXRjaFVSTCIsICJmZXRjaE9wdGlvbnMiLCAibWFrZUZldGNoT3B0aW9ucyIsICJzb3VyY2UiLCAidGFrZVVudGlsIiwgImZpbHRlciIsICJvcCIsICJraW5kIiwgImtleSIsICJtYWtlRmV0Y2hTb3VyY2UiLCAiTk9ERV9FTlYiLCAib25QdXNoIiwgInJlc3VsdCIsICJlcnJvciIsICJkYXRhIiwgImNvbnRleHQiLCAiZmV0Y2hTdWJzY3JpcHRpb25zIiwgImZvcndhcmQkIiwgIm1lcmdlIiwgImNvbXBvc2VFeGNoYW5nZXMiLCAiZXhjaGFuZ2VzIiwgImNsaWVudCIsICJyZWR1Y2VSaWdodCIsICJleGNoYW5nZSIsICJmb3J3YXJkZWQiLCAib3BlcmF0aW9ucyQiLCAiRXJyb3IiLCAic2hhcmUiLCAiZXZlbnQiLCAiZmFsbGJhY2tFeGNoYW5nZSIsICJkaXNwYXRjaERlYnVnIiwgIm9wcyQiLCAiTk9ERV9FTlYiLCAidGFwIiwgIm9wZXJhdGlvbiIsICJraW5kIiwgIm1lc3NhZ2UiLCAiY29uc29sZSIsICJ3YXJuIiwgImZpbHRlciIsICJfeCIsICJDbGllbnQiLCAib3B0cyIsICJ1cmwiLCAiRXJyb3IiLCAiaWRzIiwgInJlcGxheXMiLCAiTWFwIiwgImFjdGl2ZSIsICJkaXNwYXRjaGVkIiwgIlNldCIsICJxdWV1ZSIsICJiYXNlT3B0cyIsICJmZXRjaFN1YnNjcmlwdGlvbnMiLCAiZmV0Y2hPcHRpb25zIiwgImZldGNoIiwgInByZWZlckdldE1ldGhvZCIsICJyZXF1ZXN0UG9saWN5IiwgIm9wZXJhdGlvbnMiLCAibWFrZVN1YmplY3QiLCAibmV4dE9wZXJhdGlvbiIsICJoYXMiLCAia2V5IiwgImRlbGV0ZSIsICJhZGQiLCAibmV4dCIsICJpc09wZXJhdGlvbkJhdGNoQWN0aXZlIiwgImRpc3BhdGNoT3BlcmF0aW9uIiwgInNoaWZ0IiwgIm1ha2VSZXN1bHRTb3VyY2UiLCAicmVzdWx0JCIsICJ0YWtlVW50aWwiLCAib3AiLCAic291cmNlIiwgInJlcyIsICJjb250ZXh0IiwgIl9pbnN0YW5jZSIsICJyZXN1bHRzJCIsICJ0YWtlV2hpbGUiLCAicmVzdWx0IiwgImhhc05leHQiLCAic3dpdGNoTWFwIiwgInZhbHVlJCIsICJmcm9tVmFsdWUiLCAic3RhbGUiLCAibWVyZ2UiLCAibWFwIiwgInRha2UiLCAib25FbmQiLCAiaSIsICJsZW5ndGgiLCAic3BsaWNlIiwgIm1ha2VPcGVyYXRpb24iLCAib25QdXNoIiwgInNldCIsICJvblN0YXJ0IiwgInNoYXJlIiwgImluc3RhbmNlIiwgInRoaXMiLCAiT2JqZWN0IiwgImNyZWF0ZSIsICJwcm90b3R5cGUiLCAiY2xpZW50IiwgImFzc2lnbiIsICJzdXNwZW5zZSIsICJvcGVyYXRpb25zJCIsICJyZWV4ZWN1dGVPcGVyYXRpb24iLCAicHVzaCIsICJQcm9taXNlIiwgInJlc29sdmUiLCAidGhlbiIsICJxdWV1ZWQiLCAiY3JlYXRlUmVxdWVzdE9wZXJhdGlvbiIsICJyZXF1ZXN0IiwgInJlcXVlc3RPcGVyYXRpb25UeXBlIiwgImV4ZWN1dGVSZXF1ZXN0T3BlcmF0aW9uIiwgIndpdGhQcm9taXNlIiwgImxhenkiLCAiZ2V0IiwgInJlcGxheSIsICJleGVjdXRlUXVlcnkiLCAicXVlcnkiLCAiZXhlY3V0ZVN1YnNjcmlwdGlvbiIsICJleGVjdXRlTXV0YXRpb24iLCAicmVhZFF1ZXJ5IiwgInZhcmlhYmxlcyIsICJzdWJzY3JpYmUiLCAidW5zdWJzY3JpYmUiLCAiY3JlYXRlUmVxdWVzdCIsICJzdWJzY3JpcHRpb24iLCAibXV0YXRpb24iLCAibm9vcCIsICJzdWJzY3JpYmVUb0RlYnVnVGFyZ2V0IiwgIm9uRXZlbnQiLCAiY29tcG9zZWRFeGNoYW5nZSIsICJjb21wb3NlRXhjaGFuZ2VzIiwgImV4Y2hhbmdlcyIsICJmb3J3YXJkIiwgInB1Ymxpc2giLCAiY3JlYXRlQ2xpZW50IiwgIk9CSiIsICJDb250ZXh0IiwgImNyZWF0ZUNvbnRleHQiLCAiUHJvdmlkZXIiLCAiQ29uc3VtZXIiLCAiZGlzcGxheU5hbWUiLCAidXNlQ2xpZW50IiwgImNsaWVudCIsICJ1c2VDb250ZXh0IiwgImVycm9yIiwgImNvbnNvbGUiLCAiRXJyb3IiLCAiaW5pdGlhbFN0YXRlIiwgImZldGNoaW5nIiwgInN0YWxlIiwgImhhc05leHQiLCAiZGF0YSIsICJleHRlbnNpb25zIiwgIm9wZXJhdGlvbiIsICJhcmVPcGVyYXRpb25zRXF1YWwiLCAiYSIsICJiIiwgImtleSIsICJjb21wdXRlTmV4dFN0YXRlIiwgInByZXZTdGF0ZSIsICJyZXN1bHQiLCAibmV3U3RhdGUiLCAiaXNTaGFsbG93RGlmZmVyZW50IiwgImhhc0RlcHNDaGFuZ2VkIiwgImkiLCAibCIsICJsZW5ndGgiLCAiaXNEaXNwYXRjaGluZyIsICJkZWZlckRpc3BhdGNoIiwgInNldFN0YXRlIiwgInZhbHVlIiwgIlByb21pc2UiLCAicmVzb2x2ZSIsICJ0aGVuIiwgInVzZVJlcXVlc3QiLCAicXVlcnkiLCAidmFyaWFibGVzIiwgInByZXYiLCAidXNlUmVmIiwgInVuZGVmaW5lZCIsICJ1c2VNZW1vIiwgInJlcXVlc3QiLCAiY3JlYXRlUmVxdWVzdCIsICJjdXJyZW50IiwgImtleSIsICJnZXRDYWNoZUZvckNsaWVudCIsICJjbGllbnQiLCAiX3JlYWN0IiwgInJlY2xhaW0iLCAiU2V0IiwgIm1hcCIsICJNYXAiLCAib3BlcmF0aW9ucyQiLCAic3Vic2NyaWJlIiwgIm9wZXJhdGlvbiIsICJraW5kIiwgImhhcyIsICJkZWxldGUiLCAiZ2V0IiwgInNldCIsICJ2YWx1ZSIsICJkaXNwb3NlIiwgImFkZCIsICJpc1N1c3BlbnNlIiwgImNvbnRleHQiLCAic3VzcGVuc2UiLCAidXNlUXVlcnkiLCAiYXJncyIsICJ1c2VDbGllbnQiLCAiY2FjaGUiLCAic291cmNlIiwgInBhdXNlIiwgImV4ZWN1dGVRdWVyeSIsICJyZXF1ZXN0UG9saWN5IiwgIm9uUHVzaCIsICJyZXN1bHQiLCAiZ2V0U25hcHNob3QiLCAidXNlQ2FsbGJhY2siLCAiZmV0Y2hpbmciLCAicmVzb2x2ZSIsICJzdWJzY3JpcHRpb24iLCAiX3Jlc3VsdCIsICJ0YWtlV2hpbGUiLCAiaGFzTmV4dCIsICJwcm9taXNlIiwgIlByb21pc2UiLCAiX3Jlc29sdmUiLCAidW5zdWJzY3JpYmUiLCAiZGVwcyIsICJzdGF0ZSIsICJzZXRTdGF0ZSIsICJ1c2VTdGF0ZSIsICJjb21wdXRlTmV4dFN0YXRlIiwgImluaXRpYWxTdGF0ZSIsICJkZWZlckRpc3BhdGNoIiwgImN1cnJlbnRSZXN1bHQiLCAiaGFzRGVwc0NoYW5nZWQiLCAiUmVhY3QiLCAidXNlRWZmZWN0IiwgImhhc1Jlc3VsdCIsICJ1cGRhdGVSZXN1bHQiLCAibmV4dFJlc3VsdCIsICJvbkVuZCIsICJvcHRzIiwgImltcG9ydF9yZWFjdCIsICJpbXBvcnRfcmVhY3QiLCAibmFtZSIsICJ2ZXJzaW9uIiwgImVycm9yIiwgIm5hbWUiLCAidXBkYXRlUHJvZmlsZSIsICJlcnJvciIsICJ2YWx1ZSIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAidHlwZSIsICJSZWFjdCIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAiZXJyb3IiLCAidHlwZSIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAiZXJyb3IiLCAiZSIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAiaW1wb3J0X3JlYWN0IiwgImltcG9ydF9yZWFjdCIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAibmFtZSIsICJlcnJvciIsICJlIiwgImltcG9ydF9qc3hfcnVudGltZSIsICJ0eXBlIiwgImYiLCAicm9vdCIsICJ2IiwgInIiLCAiaSIsICJmaWVsZCIsICJ0eXBlTWFwIiwgImkiLCAidHlwZSIsICJmIiwgImsiLCAidHlwZU5hbWUiLCAidHlwZU1hcCIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAidSIsICJwIiwgImltcG9ydF9qc3hfcnVudGltZSIsICJsb2NhdGlvbiIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAibG9jYXRpb24iLCAiaW1wb3J0X2pzeF9ydW50aW1lIiwgImltcG9ydF9qc3hfcnVudGltZSIsICJ2IiwgInQiLCAiaW1wb3J0X2pzeF9ydW50aW1lIiwgImYiXQp9Cg==
