var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name5 in all)
    __defProp(target, name5, { get: all[name5], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react.production.min.js
var require_react_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react.production.min.js"(exports) {
    "use strict";
    var l3 = Symbol.for("react.element");
    var n2 = Symbol.for("react.portal");
    var p3 = Symbol.for("react.fragment");
    var q = Symbol.for("react.strict_mode");
    var r3 = Symbol.for("react.profiler");
    var t2 = Symbol.for("react.provider");
    var u3 = Symbol.for("react.context");
    var v3 = Symbol.for("react.forward_ref");
    var w = Symbol.for("react.suspense");
    var x = Symbol.for("react.memo");
    var y2 = Symbol.for("react.lazy");
    var z = Symbol.iterator;
    function A(a2) {
      if (null === a2 || "object" !== typeof a2) return null;
      a2 = z && a2[z] || a2["@@iterator"];
      return "function" === typeof a2 ? a2 : null;
    }
    var B = { isMounted: function() {
      return false;
    }, enqueueForceUpdate: function() {
    }, enqueueReplaceState: function() {
    }, enqueueSetState: function() {
    } };
    var C2 = Object.assign;
    var D = {};
    function E(a2, b, e3) {
      this.props = a2;
      this.context = b;
      this.refs = D;
      this.updater = e3 || B;
    }
    E.prototype.isReactComponent = {};
    E.prototype.setState = function(a2, b) {
      if ("object" !== typeof a2 && "function" !== typeof a2 && null != a2) throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
      this.updater.enqueueSetState(this, a2, b, "setState");
    };
    E.prototype.forceUpdate = function(a2) {
      this.updater.enqueueForceUpdate(this, a2, "forceUpdate");
    };
    function F() {
    }
    F.prototype = E.prototype;
    function G(a2, b, e3) {
      this.props = a2;
      this.context = b;
      this.refs = D;
      this.updater = e3 || B;
    }
    var H = G.prototype = new F();
    H.constructor = G;
    C2(H, E.prototype);
    H.isPureReactComponent = true;
    var I2 = Array.isArray;
    var J = Object.prototype.hasOwnProperty;
    var K = { current: null };
    var L = { key: true, ref: true, __self: true, __source: true };
    function M(a2, b, e3) {
      var d4, c3 = {}, k = null, h2 = null;
      if (null != b) for (d4 in void 0 !== b.ref && (h2 = b.ref), void 0 !== b.key && (k = "" + b.key), b) J.call(b, d4) && !L.hasOwnProperty(d4) && (c3[d4] = b[d4]);
      var g = arguments.length - 2;
      if (1 === g) c3.children = e3;
      else if (1 < g) {
        for (var f3 = Array(g), m = 0; m < g; m++) f3[m] = arguments[m + 2];
        c3.children = f3;
      }
      if (a2 && a2.defaultProps) for (d4 in g = a2.defaultProps, g) void 0 === c3[d4] && (c3[d4] = g[d4]);
      return { $$typeof: l3, type: a2, key: k, ref: h2, props: c3, _owner: K.current };
    }
    function N(a2, b) {
      return { $$typeof: l3, type: a2.type, key: b, ref: a2.ref, props: a2.props, _owner: a2._owner };
    }
    function O(a2) {
      return "object" === typeof a2 && null !== a2 && a2.$$typeof === l3;
    }
    function escape(a2) {
      var b = { "=": "=0", ":": "=2" };
      return "$" + a2.replace(/[=:]/g, function(a3) {
        return b[a3];
      });
    }
    var P = /\/+/g;
    function Q2(a2, b) {
      return "object" === typeof a2 && null !== a2 && null != a2.key ? escape("" + a2.key) : b.toString(36);
    }
    function R(a2, b, e3, d4, c3) {
      var k = typeof a2;
      if ("undefined" === k || "boolean" === k) a2 = null;
      var h2 = false;
      if (null === a2) h2 = true;
      else switch (k) {
        case "string":
        case "number":
          h2 = true;
          break;
        case "object":
          switch (a2.$$typeof) {
            case l3:
            case n2:
              h2 = true;
          }
      }
      if (h2) return h2 = a2, c3 = c3(h2), a2 = "" === d4 ? "." + Q2(h2, 0) : d4, I2(c3) ? (e3 = "", null != a2 && (e3 = a2.replace(P, "$&/") + "/"), R(c3, b, e3, "", function(a3) {
        return a3;
      })) : null != c3 && (O(c3) && (c3 = N(c3, e3 + (!c3.key || h2 && h2.key === c3.key ? "" : ("" + c3.key).replace(P, "$&/") + "/") + a2)), b.push(c3)), 1;
      h2 = 0;
      d4 = "" === d4 ? "." : d4 + ":";
      if (I2(a2)) for (var g = 0; g < a2.length; g++) {
        k = a2[g];
        var f3 = d4 + Q2(k, g);
        h2 += R(k, b, e3, f3, c3);
      }
      else if (f3 = A(a2), "function" === typeof f3) for (a2 = f3.call(a2), g = 0; !(k = a2.next()).done; ) k = k.value, f3 = d4 + Q2(k, g++), h2 += R(k, b, e3, f3, c3);
      else if ("object" === k) throw b = String(a2), Error("Objects are not valid as a React child (found: " + ("[object Object]" === b ? "object with keys {" + Object.keys(a2).join(", ") + "}" : b) + "). If you meant to render a collection of children, use an array instead.");
      return h2;
    }
    function S(a2, b, e3) {
      if (null == a2) return a2;
      var d4 = [], c3 = 0;
      R(a2, d4, "", "", function(a3) {
        return b.call(e3, a3, c3++);
      });
      return d4;
    }
    function T(a2) {
      if (-1 === a2._status) {
        var b = a2._result;
        b = b();
        b.then(function(b2) {
          if (0 === a2._status || -1 === a2._status) a2._status = 1, a2._result = b2;
        }, function(b2) {
          if (0 === a2._status || -1 === a2._status) a2._status = 2, a2._result = b2;
        });
        -1 === a2._status && (a2._status = 0, a2._result = b);
      }
      if (1 === a2._status) return a2._result.default;
      throw a2._result;
    }
    var U = { current: null };
    var V = { transition: null };
    var W = { ReactCurrentDispatcher: U, ReactCurrentBatchConfig: V, ReactCurrentOwner: K };
    function X() {
      throw Error("act(...) is not supported in production builds of React.");
    }
    exports.Children = { map: S, forEach: function(a2, b, e3) {
      S(a2, function() {
        b.apply(this, arguments);
      }, e3);
    }, count: function(a2) {
      var b = 0;
      S(a2, function() {
        b++;
      });
      return b;
    }, toArray: function(a2) {
      return S(a2, function(a3) {
        return a3;
      }) || [];
    }, only: function(a2) {
      if (!O(a2)) throw Error("React.Children.only expected to receive a single React element child.");
      return a2;
    } };
    exports.Component = E;
    exports.Fragment = p3;
    exports.Profiler = r3;
    exports.PureComponent = G;
    exports.StrictMode = q;
    exports.Suspense = w;
    exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = W;
    exports.act = X;
    exports.cloneElement = function(a2, b, e3) {
      if (null === a2 || void 0 === a2) throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + a2 + ".");
      var d4 = C2({}, a2.props), c3 = a2.key, k = a2.ref, h2 = a2._owner;
      if (null != b) {
        void 0 !== b.ref && (k = b.ref, h2 = K.current);
        void 0 !== b.key && (c3 = "" + b.key);
        if (a2.type && a2.type.defaultProps) var g = a2.type.defaultProps;
        for (f3 in b) J.call(b, f3) && !L.hasOwnProperty(f3) && (d4[f3] = void 0 === b[f3] && void 0 !== g ? g[f3] : b[f3]);
      }
      var f3 = arguments.length - 2;
      if (1 === f3) d4.children = e3;
      else if (1 < f3) {
        g = Array(f3);
        for (var m = 0; m < f3; m++) g[m] = arguments[m + 2];
        d4.children = g;
      }
      return { $$typeof: l3, type: a2.type, key: c3, ref: k, props: d4, _owner: h2 };
    };
    exports.createContext = function(a2) {
      a2 = { $$typeof: u3, _currentValue: a2, _currentValue2: a2, _threadCount: 0, Provider: null, Consumer: null, _defaultValue: null, _globalName: null };
      a2.Provider = { $$typeof: t2, _context: a2 };
      return a2.Consumer = a2;
    };
    exports.createElement = M;
    exports.createFactory = function(a2) {
      var b = M.bind(null, a2);
      b.type = a2;
      return b;
    };
    exports.createRef = function() {
      return { current: null };
    };
    exports.forwardRef = function(a2) {
      return { $$typeof: v3, render: a2 };
    };
    exports.isValidElement = O;
    exports.lazy = function(a2) {
      return { $$typeof: y2, _payload: { _status: -1, _result: a2 }, _init: T };
    };
    exports.memo = function(a2, b) {
      return { $$typeof: x, type: a2, compare: void 0 === b ? null : b };
    };
    exports.startTransition = function(a2) {
      var b = V.transition;
      V.transition = {};
      try {
        a2();
      } finally {
        V.transition = b;
      }
    };
    exports.unstable_act = X;
    exports.useCallback = function(a2, b) {
      return U.current.useCallback(a2, b);
    };
    exports.useContext = function(a2) {
      return U.current.useContext(a2);
    };
    exports.useDebugValue = function() {
    };
    exports.useDeferredValue = function(a2) {
      return U.current.useDeferredValue(a2);
    };
    exports.useEffect = function(a2, b) {
      return U.current.useEffect(a2, b);
    };
    exports.useId = function() {
      return U.current.useId();
    };
    exports.useImperativeHandle = function(a2, b, e3) {
      return U.current.useImperativeHandle(a2, b, e3);
    };
    exports.useInsertionEffect = function(a2, b) {
      return U.current.useInsertionEffect(a2, b);
    };
    exports.useLayoutEffect = function(a2, b) {
      return U.current.useLayoutEffect(a2, b);
    };
    exports.useMemo = function(a2, b) {
      return U.current.useMemo(a2, b);
    };
    exports.useReducer = function(a2, b, e3) {
      return U.current.useReducer(a2, b, e3);
    };
    exports.useRef = function(a2) {
      return U.current.useRef(a2);
    };
    exports.useState = function(a2) {
      return U.current.useState(a2);
    };
    exports.useSyncExternalStore = function(a2, b, e3) {
      return U.current.useSyncExternalStore(a2, b, e3);
    };
    exports.useTransition = function() {
      return U.current.useTransition();
    };
    exports.version = "18.3.1";
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/index.js
var require_react = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/index.js"(exports, module) {
    "use strict";
    if (true) {
      module.exports = require_react_production_min();
    } else {
      module.exports = null;
    }
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/cjs/scheduler.production.min.js
var require_scheduler_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/cjs/scheduler.production.min.js"(exports) {
    "use strict";
    function f3(a2, b) {
      var c3 = a2.length;
      a2.push(b);
      a: for (; 0 < c3; ) {
        var d4 = c3 - 1 >>> 1, e3 = a2[d4];
        if (0 < g(e3, b)) a2[d4] = b, a2[c3] = e3, c3 = d4;
        else break a;
      }
    }
    function h2(a2) {
      return 0 === a2.length ? null : a2[0];
    }
    function k(a2) {
      if (0 === a2.length) return null;
      var b = a2[0], c3 = a2.pop();
      if (c3 !== b) {
        a2[0] = c3;
        a: for (var d4 = 0, e3 = a2.length, w = e3 >>> 1; d4 < w; ) {
          var m = 2 * (d4 + 1) - 1, C2 = a2[m], n2 = m + 1, x = a2[n2];
          if (0 > g(C2, c3)) n2 < e3 && 0 > g(x, C2) ? (a2[d4] = x, a2[n2] = c3, d4 = n2) : (a2[d4] = C2, a2[m] = c3, d4 = m);
          else if (n2 < e3 && 0 > g(x, c3)) a2[d4] = x, a2[n2] = c3, d4 = n2;
          else break a;
        }
      }
      return b;
    }
    function g(a2, b) {
      var c3 = a2.sortIndex - b.sortIndex;
      return 0 !== c3 ? c3 : a2.id - b.id;
    }
    if ("object" === typeof performance && "function" === typeof performance.now) {
      l3 = performance;
      exports.unstable_now = function() {
        return l3.now();
      };
    } else {
      p3 = Date, q = p3.now();
      exports.unstable_now = function() {
        return p3.now() - q;
      };
    }
    var l3;
    var p3;
    var q;
    var r3 = [];
    var t2 = [];
    var u3 = 1;
    var v3 = null;
    var y2 = 3;
    var z = false;
    var A = false;
    var B = false;
    var D = "function" === typeof setTimeout ? setTimeout : null;
    var E = "function" === typeof clearTimeout ? clearTimeout : null;
    var F = "undefined" !== typeof setImmediate ? setImmediate : null;
    "undefined" !== typeof navigator && void 0 !== navigator.scheduling && void 0 !== navigator.scheduling.isInputPending && navigator.scheduling.isInputPending.bind(navigator.scheduling);
    function G(a2) {
      for (var b = h2(t2); null !== b; ) {
        if (null === b.callback) k(t2);
        else if (b.startTime <= a2) k(t2), b.sortIndex = b.expirationTime, f3(r3, b);
        else break;
        b = h2(t2);
      }
    }
    function H(a2) {
      B = false;
      G(a2);
      if (!A) if (null !== h2(r3)) A = true, I2(J);
      else {
        var b = h2(t2);
        null !== b && K(H, b.startTime - a2);
      }
    }
    function J(a2, b) {
      A = false;
      B && (B = false, E(L), L = -1);
      z = true;
      var c3 = y2;
      try {
        G(b);
        for (v3 = h2(r3); null !== v3 && (!(v3.expirationTime > b) || a2 && !M()); ) {
          var d4 = v3.callback;
          if ("function" === typeof d4) {
            v3.callback = null;
            y2 = v3.priorityLevel;
            var e3 = d4(v3.expirationTime <= b);
            b = exports.unstable_now();
            "function" === typeof e3 ? v3.callback = e3 : v3 === h2(r3) && k(r3);
            G(b);
          } else k(r3);
          v3 = h2(r3);
        }
        if (null !== v3) var w = true;
        else {
          var m = h2(t2);
          null !== m && K(H, m.startTime - b);
          w = false;
        }
        return w;
      } finally {
        v3 = null, y2 = c3, z = false;
      }
    }
    var N = false;
    var O = null;
    var L = -1;
    var P = 5;
    var Q2 = -1;
    function M() {
      return exports.unstable_now() - Q2 < P ? false : true;
    }
    function R() {
      if (null !== O) {
        var a2 = exports.unstable_now();
        Q2 = a2;
        var b = true;
        try {
          b = O(true, a2);
        } finally {
          b ? S() : (N = false, O = null);
        }
      } else N = false;
    }
    var S;
    if ("function" === typeof F) S = function() {
      F(R);
    };
    else if ("undefined" !== typeof MessageChannel) {
      T = new MessageChannel(), U = T.port2;
      T.port1.onmessage = R;
      S = function() {
        U.postMessage(null);
      };
    } else S = function() {
      D(R, 0);
    };
    var T;
    var U;
    function I2(a2) {
      O = a2;
      N || (N = true, S());
    }
    function K(a2, b) {
      L = D(function() {
        a2(exports.unstable_now());
      }, b);
    }
    exports.unstable_IdlePriority = 5;
    exports.unstable_ImmediatePriority = 1;
    exports.unstable_LowPriority = 4;
    exports.unstable_NormalPriority = 3;
    exports.unstable_Profiling = null;
    exports.unstable_UserBlockingPriority = 2;
    exports.unstable_cancelCallback = function(a2) {
      a2.callback = null;
    };
    exports.unstable_continueExecution = function() {
      A || z || (A = true, I2(J));
    };
    exports.unstable_forceFrameRate = function(a2) {
      0 > a2 || 125 < a2 ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : P = 0 < a2 ? Math.floor(1e3 / a2) : 5;
    };
    exports.unstable_getCurrentPriorityLevel = function() {
      return y2;
    };
    exports.unstable_getFirstCallbackNode = function() {
      return h2(r3);
    };
    exports.unstable_next = function(a2) {
      switch (y2) {
        case 1:
        case 2:
        case 3:
          var b = 3;
          break;
        default:
          b = y2;
      }
      var c3 = y2;
      y2 = b;
      try {
        return a2();
      } finally {
        y2 = c3;
      }
    };
    exports.unstable_pauseExecution = function() {
    };
    exports.unstable_requestPaint = function() {
    };
    exports.unstable_runWithPriority = function(a2, b) {
      switch (a2) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
          break;
        default:
          a2 = 3;
      }
      var c3 = y2;
      y2 = a2;
      try {
        return b();
      } finally {
        y2 = c3;
      }
    };
    exports.unstable_scheduleCallback = function(a2, b, c3) {
      var d4 = exports.unstable_now();
      "object" === typeof c3 && null !== c3 ? (c3 = c3.delay, c3 = "number" === typeof c3 && 0 < c3 ? d4 + c3 : d4) : c3 = d4;
      switch (a2) {
        case 1:
          var e3 = -1;
          break;
        case 2:
          e3 = 250;
          break;
        case 5:
          e3 = 1073741823;
          break;
        case 4:
          e3 = 1e4;
          break;
        default:
          e3 = 5e3;
      }
      e3 = c3 + e3;
      a2 = { id: u3++, callback: b, priorityLevel: a2, startTime: c3, expirationTime: e3, sortIndex: -1 };
      c3 > d4 ? (a2.sortIndex = c3, f3(t2, a2), null === h2(r3) && a2 === h2(t2) && (B ? (E(L), L = -1) : B = true, K(H, c3 - d4))) : (a2.sortIndex = e3, f3(r3, a2), A || z || (A = true, I2(J)));
      return a2;
    };
    exports.unstable_shouldYield = M;
    exports.unstable_wrapCallback = function(a2) {
      var b = y2;
      return function() {
        var c3 = y2;
        y2 = b;
        try {
          return a2.apply(this, arguments);
        } finally {
          y2 = c3;
        }
      };
    };
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/index.js
var require_scheduler = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/index.js"(exports, module) {
    "use strict";
    if (true) {
      module.exports = require_scheduler_production_min();
    } else {
      module.exports = null;
    }
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js
var require_react_dom_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js"(exports) {
    "use strict";
    var aa = require_react();
    var ca = require_scheduler();
    function p3(a2) {
      for (var b = "https://reactjs.org/docs/error-decoder.html?invariant=" + a2, c3 = 1; c3 < arguments.length; c3++) b += "&args[]=" + encodeURIComponent(arguments[c3]);
      return "Minified React error #" + a2 + "; visit " + b + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";
    }
    var da = /* @__PURE__ */ new Set();
    var ea = {};
    function fa(a2, b) {
      ha(a2, b);
      ha(a2 + "Capture", b);
    }
    function ha(a2, b) {
      ea[a2] = b;
      for (a2 = 0; a2 < b.length; a2++) da.add(b[a2]);
    }
    var ia = !("undefined" === typeof window || "undefined" === typeof window.document || "undefined" === typeof window.document.createElement);
    var ja = Object.prototype.hasOwnProperty;
    var ka = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/;
    var la = {};
    var ma = {};
    function oa(a2) {
      if (ja.call(ma, a2)) return true;
      if (ja.call(la, a2)) return false;
      if (ka.test(a2)) return ma[a2] = true;
      la[a2] = true;
      return false;
    }
    function pa(a2, b, c3, d4) {
      if (null !== c3 && 0 === c3.type) return false;
      switch (typeof b) {
        case "function":
        case "symbol":
          return true;
        case "boolean":
          if (d4) return false;
          if (null !== c3) return !c3.acceptsBooleans;
          a2 = a2.toLowerCase().slice(0, 5);
          return "data-" !== a2 && "aria-" !== a2;
        default:
          return false;
      }
    }
    function qa(a2, b, c3, d4) {
      if (null === b || "undefined" === typeof b || pa(a2, b, c3, d4)) return true;
      if (d4) return false;
      if (null !== c3) switch (c3.type) {
        case 3:
          return !b;
        case 4:
          return false === b;
        case 5:
          return isNaN(b);
        case 6:
          return isNaN(b) || 1 > b;
      }
      return false;
    }
    function v3(a2, b, c3, d4, e3, f3, g) {
      this.acceptsBooleans = 2 === b || 3 === b || 4 === b;
      this.attributeName = d4;
      this.attributeNamespace = e3;
      this.mustUseProperty = c3;
      this.propertyName = a2;
      this.type = b;
      this.sanitizeURL = f3;
      this.removeEmptyString = g;
    }
    var z = {};
    "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a2) {
      z[a2] = new v3(a2, 0, false, a2, null, false, false);
    });
    [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(a2) {
      var b = a2[0];
      z[b] = new v3(b, 1, false, a2[1], null, false, false);
    });
    ["contentEditable", "draggable", "spellCheck", "value"].forEach(function(a2) {
      z[a2] = new v3(a2, 2, false, a2.toLowerCase(), null, false, false);
    });
    ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(a2) {
      z[a2] = new v3(a2, 2, false, a2, null, false, false);
    });
    "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a2) {
      z[a2] = new v3(a2, 3, false, a2.toLowerCase(), null, false, false);
    });
    ["checked", "multiple", "muted", "selected"].forEach(function(a2) {
      z[a2] = new v3(a2, 3, true, a2, null, false, false);
    });
    ["capture", "download"].forEach(function(a2) {
      z[a2] = new v3(a2, 4, false, a2, null, false, false);
    });
    ["cols", "rows", "size", "span"].forEach(function(a2) {
      z[a2] = new v3(a2, 6, false, a2, null, false, false);
    });
    ["rowSpan", "start"].forEach(function(a2) {
      z[a2] = new v3(a2, 5, false, a2.toLowerCase(), null, false, false);
    });
    var ra = /[\-:]([a-z])/g;
    function sa(a2) {
      return a2[1].toUpperCase();
    }
    "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a2) {
      var b = a2.replace(
        ra,
        sa
      );
      z[b] = new v3(b, 1, false, a2, null, false, false);
    });
    "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a2) {
      var b = a2.replace(ra, sa);
      z[b] = new v3(b, 1, false, a2, "http://www.w3.org/1999/xlink", false, false);
    });
    ["xml:base", "xml:lang", "xml:space"].forEach(function(a2) {
      var b = a2.replace(ra, sa);
      z[b] = new v3(b, 1, false, a2, "http://www.w3.org/XML/1998/namespace", false, false);
    });
    ["tabIndex", "crossOrigin"].forEach(function(a2) {
      z[a2] = new v3(a2, 1, false, a2.toLowerCase(), null, false, false);
    });
    z.xlinkHref = new v3("xlinkHref", 1, false, "xlink:href", "http://www.w3.org/1999/xlink", true, false);
    ["src", "href", "action", "formAction"].forEach(function(a2) {
      z[a2] = new v3(a2, 1, false, a2.toLowerCase(), null, true, true);
    });
    function ta(a2, b, c3, d4) {
      var e3 = z.hasOwnProperty(b) ? z[b] : null;
      if (null !== e3 ? 0 !== e3.type : d4 || !(2 < b.length) || "o" !== b[0] && "O" !== b[0] || "n" !== b[1] && "N" !== b[1]) qa(b, c3, e3, d4) && (c3 = null), d4 || null === e3 ? oa(b) && (null === c3 ? a2.removeAttribute(b) : a2.setAttribute(b, "" + c3)) : e3.mustUseProperty ? a2[e3.propertyName] = null === c3 ? 3 === e3.type ? false : "" : c3 : (b = e3.attributeName, d4 = e3.attributeNamespace, null === c3 ? a2.removeAttribute(b) : (e3 = e3.type, c3 = 3 === e3 || 4 === e3 && true === c3 ? "" : "" + c3, d4 ? a2.setAttributeNS(d4, b, c3) : a2.setAttribute(b, c3)));
    }
    var ua = aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    var va = Symbol.for("react.element");
    var wa = Symbol.for("react.portal");
    var ya = Symbol.for("react.fragment");
    var za = Symbol.for("react.strict_mode");
    var Aa = Symbol.for("react.profiler");
    var Ba = Symbol.for("react.provider");
    var Ca = Symbol.for("react.context");
    var Da = Symbol.for("react.forward_ref");
    var Ea = Symbol.for("react.suspense");
    var Fa = Symbol.for("react.suspense_list");
    var Ga = Symbol.for("react.memo");
    var Ha = Symbol.for("react.lazy");
    Symbol.for("react.scope");
    Symbol.for("react.debug_trace_mode");
    var Ia = Symbol.for("react.offscreen");
    Symbol.for("react.legacy_hidden");
    Symbol.for("react.cache");
    Symbol.for("react.tracing_marker");
    var Ja = Symbol.iterator;
    function Ka(a2) {
      if (null === a2 || "object" !== typeof a2) return null;
      a2 = Ja && a2[Ja] || a2["@@iterator"];
      return "function" === typeof a2 ? a2 : null;
    }
    var A = Object.assign;
    var La;
    function Ma(a2) {
      if (void 0 === La) try {
        throw Error();
      } catch (c3) {
        var b = c3.stack.trim().match(/\n( *(at )?)/);
        La = b && b[1] || "";
      }
      return "\n" + La + a2;
    }
    var Na = false;
    function Oa(a2, b) {
      if (!a2 || Na) return "";
      Na = true;
      var c3 = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      try {
        if (b) if (b = function() {
          throw Error();
        }, Object.defineProperty(b.prototype, "props", { set: function() {
          throw Error();
        } }), "object" === typeof Reflect && Reflect.construct) {
          try {
            Reflect.construct(b, []);
          } catch (l3) {
            var d4 = l3;
          }
          Reflect.construct(a2, [], b);
        } else {
          try {
            b.call();
          } catch (l3) {
            d4 = l3;
          }
          a2.call(b.prototype);
        }
        else {
          try {
            throw Error();
          } catch (l3) {
            d4 = l3;
          }
          a2();
        }
      } catch (l3) {
        if (l3 && d4 && "string" === typeof l3.stack) {
          for (var e3 = l3.stack.split("\n"), f3 = d4.stack.split("\n"), g = e3.length - 1, h2 = f3.length - 1; 1 <= g && 0 <= h2 && e3[g] !== f3[h2]; ) h2--;
          for (; 1 <= g && 0 <= h2; g--, h2--) if (e3[g] !== f3[h2]) {
            if (1 !== g || 1 !== h2) {
              do
                if (g--, h2--, 0 > h2 || e3[g] !== f3[h2]) {
                  var k = "\n" + e3[g].replace(" at new ", " at ");
                  a2.displayName && k.includes("<anonymous>") && (k = k.replace("<anonymous>", a2.displayName));
                  return k;
                }
              while (1 <= g && 0 <= h2);
            }
            break;
          }
        }
      } finally {
        Na = false, Error.prepareStackTrace = c3;
      }
      return (a2 = a2 ? a2.displayName || a2.name : "") ? Ma(a2) : "";
    }
    function Pa(a2) {
      switch (a2.tag) {
        case 5:
          return Ma(a2.type);
        case 16:
          return Ma("Lazy");
        case 13:
          return Ma("Suspense");
        case 19:
          return Ma("SuspenseList");
        case 0:
        case 2:
        case 15:
          return a2 = Oa(a2.type, false), a2;
        case 11:
          return a2 = Oa(a2.type.render, false), a2;
        case 1:
          return a2 = Oa(a2.type, true), a2;
        default:
          return "";
      }
    }
    function Qa(a2) {
      if (null == a2) return null;
      if ("function" === typeof a2) return a2.displayName || a2.name || null;
      if ("string" === typeof a2) return a2;
      switch (a2) {
        case ya:
          return "Fragment";
        case wa:
          return "Portal";
        case Aa:
          return "Profiler";
        case za:
          return "StrictMode";
        case Ea:
          return "Suspense";
        case Fa:
          return "SuspenseList";
      }
      if ("object" === typeof a2) switch (a2.$$typeof) {
        case Ca:
          return (a2.displayName || "Context") + ".Consumer";
        case Ba:
          return (a2._context.displayName || "Context") + ".Provider";
        case Da:
          var b = a2.render;
          a2 = a2.displayName;
          a2 || (a2 = b.displayName || b.name || "", a2 = "" !== a2 ? "ForwardRef(" + a2 + ")" : "ForwardRef");
          return a2;
        case Ga:
          return b = a2.displayName || null, null !== b ? b : Qa(a2.type) || "Memo";
        case Ha:
          b = a2._payload;
          a2 = a2._init;
          try {
            return Qa(a2(b));
          } catch (c3) {
          }
      }
      return null;
    }
    function Ra(a2) {
      var b = a2.type;
      switch (a2.tag) {
        case 24:
          return "Cache";
        case 9:
          return (b.displayName || "Context") + ".Consumer";
        case 10:
          return (b._context.displayName || "Context") + ".Provider";
        case 18:
          return "DehydratedFragment";
        case 11:
          return a2 = b.render, a2 = a2.displayName || a2.name || "", b.displayName || ("" !== a2 ? "ForwardRef(" + a2 + ")" : "ForwardRef");
        case 7:
          return "Fragment";
        case 5:
          return b;
        case 4:
          return "Portal";
        case 3:
          return "Root";
        case 6:
          return "Text";
        case 16:
          return Qa(b);
        case 8:
          return b === za ? "StrictMode" : "Mode";
        case 22:
          return "Offscreen";
        case 12:
          return "Profiler";
        case 21:
          return "Scope";
        case 13:
          return "Suspense";
        case 19:
          return "SuspenseList";
        case 25:
          return "TracingMarker";
        case 1:
        case 0:
        case 17:
        case 2:
        case 14:
        case 15:
          if ("function" === typeof b) return b.displayName || b.name || null;
          if ("string" === typeof b) return b;
      }
      return null;
    }
    function Sa(a2) {
      switch (typeof a2) {
        case "boolean":
        case "number":
        case "string":
        case "undefined":
          return a2;
        case "object":
          return a2;
        default:
          return "";
      }
    }
    function Ta(a2) {
      var b = a2.type;
      return (a2 = a2.nodeName) && "input" === a2.toLowerCase() && ("checkbox" === b || "radio" === b);
    }
    function Ua(a2) {
      var b = Ta(a2) ? "checked" : "value", c3 = Object.getOwnPropertyDescriptor(a2.constructor.prototype, b), d4 = "" + a2[b];
      if (!a2.hasOwnProperty(b) && "undefined" !== typeof c3 && "function" === typeof c3.get && "function" === typeof c3.set) {
        var e3 = c3.get, f3 = c3.set;
        Object.defineProperty(a2, b, { configurable: true, get: function() {
          return e3.call(this);
        }, set: function(a3) {
          d4 = "" + a3;
          f3.call(this, a3);
        } });
        Object.defineProperty(a2, b, { enumerable: c3.enumerable });
        return { getValue: function() {
          return d4;
        }, setValue: function(a3) {
          d4 = "" + a3;
        }, stopTracking: function() {
          a2._valueTracker = null;
          delete a2[b];
        } };
      }
    }
    function Va(a2) {
      a2._valueTracker || (a2._valueTracker = Ua(a2));
    }
    function Wa(a2) {
      if (!a2) return false;
      var b = a2._valueTracker;
      if (!b) return true;
      var c3 = b.getValue();
      var d4 = "";
      a2 && (d4 = Ta(a2) ? a2.checked ? "true" : "false" : a2.value);
      a2 = d4;
      return a2 !== c3 ? (b.setValue(a2), true) : false;
    }
    function Xa(a2) {
      a2 = a2 || ("undefined" !== typeof document ? document : void 0);
      if ("undefined" === typeof a2) return null;
      try {
        return a2.activeElement || a2.body;
      } catch (b) {
        return a2.body;
      }
    }
    function Ya(a2, b) {
      var c3 = b.checked;
      return A({}, b, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: null != c3 ? c3 : a2._wrapperState.initialChecked });
    }
    function Za(a2, b) {
      var c3 = null == b.defaultValue ? "" : b.defaultValue, d4 = null != b.checked ? b.checked : b.defaultChecked;
      c3 = Sa(null != b.value ? b.value : c3);
      a2._wrapperState = { initialChecked: d4, initialValue: c3, controlled: "checkbox" === b.type || "radio" === b.type ? null != b.checked : null != b.value };
    }
    function ab(a2, b) {
      b = b.checked;
      null != b && ta(a2, "checked", b, false);
    }
    function bb(a2, b) {
      ab(a2, b);
      var c3 = Sa(b.value), d4 = b.type;
      if (null != c3) if ("number" === d4) {
        if (0 === c3 && "" === a2.value || a2.value != c3) a2.value = "" + c3;
      } else a2.value !== "" + c3 && (a2.value = "" + c3);
      else if ("submit" === d4 || "reset" === d4) {
        a2.removeAttribute("value");
        return;
      }
      b.hasOwnProperty("value") ? cb(a2, b.type, c3) : b.hasOwnProperty("defaultValue") && cb(a2, b.type, Sa(b.defaultValue));
      null == b.checked && null != b.defaultChecked && (a2.defaultChecked = !!b.defaultChecked);
    }
    function db(a2, b, c3) {
      if (b.hasOwnProperty("value") || b.hasOwnProperty("defaultValue")) {
        var d4 = b.type;
        if (!("submit" !== d4 && "reset" !== d4 || void 0 !== b.value && null !== b.value)) return;
        b = "" + a2._wrapperState.initialValue;
        c3 || b === a2.value || (a2.value = b);
        a2.defaultValue = b;
      }
      c3 = a2.name;
      "" !== c3 && (a2.name = "");
      a2.defaultChecked = !!a2._wrapperState.initialChecked;
      "" !== c3 && (a2.name = c3);
    }
    function cb(a2, b, c3) {
      if ("number" !== b || Xa(a2.ownerDocument) !== a2) null == c3 ? a2.defaultValue = "" + a2._wrapperState.initialValue : a2.defaultValue !== "" + c3 && (a2.defaultValue = "" + c3);
    }
    var eb = Array.isArray;
    function fb(a2, b, c3, d4) {
      a2 = a2.options;
      if (b) {
        b = {};
        for (var e3 = 0; e3 < c3.length; e3++) b["$" + c3[e3]] = true;
        for (c3 = 0; c3 < a2.length; c3++) e3 = b.hasOwnProperty("$" + a2[c3].value), a2[c3].selected !== e3 && (a2[c3].selected = e3), e3 && d4 && (a2[c3].defaultSelected = true);
      } else {
        c3 = "" + Sa(c3);
        b = null;
        for (e3 = 0; e3 < a2.length; e3++) {
          if (a2[e3].value === c3) {
            a2[e3].selected = true;
            d4 && (a2[e3].defaultSelected = true);
            return;
          }
          null !== b || a2[e3].disabled || (b = a2[e3]);
        }
        null !== b && (b.selected = true);
      }
    }
    function gb(a2, b) {
      if (null != b.dangerouslySetInnerHTML) throw Error(p3(91));
      return A({}, b, { value: void 0, defaultValue: void 0, children: "" + a2._wrapperState.initialValue });
    }
    function hb(a2, b) {
      var c3 = b.value;
      if (null == c3) {
        c3 = b.children;
        b = b.defaultValue;
        if (null != c3) {
          if (null != b) throw Error(p3(92));
          if (eb(c3)) {
            if (1 < c3.length) throw Error(p3(93));
            c3 = c3[0];
          }
          b = c3;
        }
        null == b && (b = "");
        c3 = b;
      }
      a2._wrapperState = { initialValue: Sa(c3) };
    }
    function ib(a2, b) {
      var c3 = Sa(b.value), d4 = Sa(b.defaultValue);
      null != c3 && (c3 = "" + c3, c3 !== a2.value && (a2.value = c3), null == b.defaultValue && a2.defaultValue !== c3 && (a2.defaultValue = c3));
      null != d4 && (a2.defaultValue = "" + d4);
    }
    function jb(a2) {
      var b = a2.textContent;
      b === a2._wrapperState.initialValue && "" !== b && null !== b && (a2.value = b);
    }
    function kb(a2) {
      switch (a2) {
        case "svg":
          return "http://www.w3.org/2000/svg";
        case "math":
          return "http://www.w3.org/1998/Math/MathML";
        default:
          return "http://www.w3.org/1999/xhtml";
      }
    }
    function lb(a2, b) {
      return null == a2 || "http://www.w3.org/1999/xhtml" === a2 ? kb(b) : "http://www.w3.org/2000/svg" === a2 && "foreignObject" === b ? "http://www.w3.org/1999/xhtml" : a2;
    }
    var mb;
    var nb = function(a2) {
      return "undefined" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function(b, c3, d4, e3) {
        MSApp.execUnsafeLocalFunction(function() {
          return a2(b, c3, d4, e3);
        });
      } : a2;
    }(function(a2, b) {
      if ("http://www.w3.org/2000/svg" !== a2.namespaceURI || "innerHTML" in a2) a2.innerHTML = b;
      else {
        mb = mb || document.createElement("div");
        mb.innerHTML = "<svg>" + b.valueOf().toString() + "</svg>";
        for (b = mb.firstChild; a2.firstChild; ) a2.removeChild(a2.firstChild);
        for (; b.firstChild; ) a2.appendChild(b.firstChild);
      }
    });
    function ob(a2, b) {
      if (b) {
        var c3 = a2.firstChild;
        if (c3 && c3 === a2.lastChild && 3 === c3.nodeType) {
          c3.nodeValue = b;
          return;
        }
      }
      a2.textContent = b;
    }
    var pb = {
      animationIterationCount: true,
      aspectRatio: true,
      borderImageOutset: true,
      borderImageSlice: true,
      borderImageWidth: true,
      boxFlex: true,
      boxFlexGroup: true,
      boxOrdinalGroup: true,
      columnCount: true,
      columns: true,
      flex: true,
      flexGrow: true,
      flexPositive: true,
      flexShrink: true,
      flexNegative: true,
      flexOrder: true,
      gridArea: true,
      gridRow: true,
      gridRowEnd: true,
      gridRowSpan: true,
      gridRowStart: true,
      gridColumn: true,
      gridColumnEnd: true,
      gridColumnSpan: true,
      gridColumnStart: true,
      fontWeight: true,
      lineClamp: true,
      lineHeight: true,
      opacity: true,
      order: true,
      orphans: true,
      tabSize: true,
      widows: true,
      zIndex: true,
      zoom: true,
      fillOpacity: true,
      floodOpacity: true,
      stopOpacity: true,
      strokeDasharray: true,
      strokeDashoffset: true,
      strokeMiterlimit: true,
      strokeOpacity: true,
      strokeWidth: true
    };
    var qb = ["Webkit", "ms", "Moz", "O"];
    Object.keys(pb).forEach(function(a2) {
      qb.forEach(function(b) {
        b = b + a2.charAt(0).toUpperCase() + a2.substring(1);
        pb[b] = pb[a2];
      });
    });
    function rb(a2, b, c3) {
      return null == b || "boolean" === typeof b || "" === b ? "" : c3 || "number" !== typeof b || 0 === b || pb.hasOwnProperty(a2) && pb[a2] ? ("" + b).trim() : b + "px";
    }
    function sb(a2, b) {
      a2 = a2.style;
      for (var c3 in b) if (b.hasOwnProperty(c3)) {
        var d4 = 0 === c3.indexOf("--"), e3 = rb(c3, b[c3], d4);
        "float" === c3 && (c3 = "cssFloat");
        d4 ? a2.setProperty(c3, e3) : a2[c3] = e3;
      }
    }
    var tb = A({ menuitem: true }, { area: true, base: true, br: true, col: true, embed: true, hr: true, img: true, input: true, keygen: true, link: true, meta: true, param: true, source: true, track: true, wbr: true });
    function ub(a2, b) {
      if (b) {
        if (tb[a2] && (null != b.children || null != b.dangerouslySetInnerHTML)) throw Error(p3(137, a2));
        if (null != b.dangerouslySetInnerHTML) {
          if (null != b.children) throw Error(p3(60));
          if ("object" !== typeof b.dangerouslySetInnerHTML || !("__html" in b.dangerouslySetInnerHTML)) throw Error(p3(61));
        }
        if (null != b.style && "object" !== typeof b.style) throw Error(p3(62));
      }
    }
    function vb(a2, b) {
      if (-1 === a2.indexOf("-")) return "string" === typeof b.is;
      switch (a2) {
        case "annotation-xml":
        case "color-profile":
        case "font-face":
        case "font-face-src":
        case "font-face-uri":
        case "font-face-format":
        case "font-face-name":
        case "missing-glyph":
          return false;
        default:
          return true;
      }
    }
    var wb = null;
    function xb(a2) {
      a2 = a2.target || a2.srcElement || window;
      a2.correspondingUseElement && (a2 = a2.correspondingUseElement);
      return 3 === a2.nodeType ? a2.parentNode : a2;
    }
    var yb = null;
    var zb = null;
    var Ab = null;
    function Bb(a2) {
      if (a2 = Cb(a2)) {
        if ("function" !== typeof yb) throw Error(p3(280));
        var b = a2.stateNode;
        b && (b = Db(b), yb(a2.stateNode, a2.type, b));
      }
    }
    function Eb(a2) {
      zb ? Ab ? Ab.push(a2) : Ab = [a2] : zb = a2;
    }
    function Fb() {
      if (zb) {
        var a2 = zb, b = Ab;
        Ab = zb = null;
        Bb(a2);
        if (b) for (a2 = 0; a2 < b.length; a2++) Bb(b[a2]);
      }
    }
    function Gb(a2, b) {
      return a2(b);
    }
    function Hb() {
    }
    var Ib = false;
    function Jb(a2, b, c3) {
      if (Ib) return a2(b, c3);
      Ib = true;
      try {
        return Gb(a2, b, c3);
      } finally {
        if (Ib = false, null !== zb || null !== Ab) Hb(), Fb();
      }
    }
    function Kb(a2, b) {
      var c3 = a2.stateNode;
      if (null === c3) return null;
      var d4 = Db(c3);
      if (null === d4) return null;
      c3 = d4[b];
      a: switch (b) {
        case "onClick":
        case "onClickCapture":
        case "onDoubleClick":
        case "onDoubleClickCapture":
        case "onMouseDown":
        case "onMouseDownCapture":
        case "onMouseMove":
        case "onMouseMoveCapture":
        case "onMouseUp":
        case "onMouseUpCapture":
        case "onMouseEnter":
          (d4 = !d4.disabled) || (a2 = a2.type, d4 = !("button" === a2 || "input" === a2 || "select" === a2 || "textarea" === a2));
          a2 = !d4;
          break a;
        default:
          a2 = false;
      }
      if (a2) return null;
      if (c3 && "function" !== typeof c3) throw Error(p3(231, b, typeof c3));
      return c3;
    }
    var Lb = false;
    if (ia) try {
      Mb = {};
      Object.defineProperty(Mb, "passive", { get: function() {
        Lb = true;
      } });
      window.addEventListener("test", Mb, Mb);
      window.removeEventListener("test", Mb, Mb);
    } catch (a2) {
      Lb = false;
    }
    var Mb;
    function Nb(a2, b, c3, d4, e3, f3, g, h2, k) {
      var l3 = Array.prototype.slice.call(arguments, 3);
      try {
        b.apply(c3, l3);
      } catch (m) {
        this.onError(m);
      }
    }
    var Ob = false;
    var Pb = null;
    var Qb = false;
    var Rb = null;
    var Sb = { onError: function(a2) {
      Ob = true;
      Pb = a2;
    } };
    function Tb(a2, b, c3, d4, e3, f3, g, h2, k) {
      Ob = false;
      Pb = null;
      Nb.apply(Sb, arguments);
    }
    function Ub(a2, b, c3, d4, e3, f3, g, h2, k) {
      Tb.apply(this, arguments);
      if (Ob) {
        if (Ob) {
          var l3 = Pb;
          Ob = false;
          Pb = null;
        } else throw Error(p3(198));
        Qb || (Qb = true, Rb = l3);
      }
    }
    function Vb(a2) {
      var b = a2, c3 = a2;
      if (a2.alternate) for (; b.return; ) b = b.return;
      else {
        a2 = b;
        do
          b = a2, 0 !== (b.flags & 4098) && (c3 = b.return), a2 = b.return;
        while (a2);
      }
      return 3 === b.tag ? c3 : null;
    }
    function Wb(a2) {
      if (13 === a2.tag) {
        var b = a2.memoizedState;
        null === b && (a2 = a2.alternate, null !== a2 && (b = a2.memoizedState));
        if (null !== b) return b.dehydrated;
      }
      return null;
    }
    function Xb(a2) {
      if (Vb(a2) !== a2) throw Error(p3(188));
    }
    function Yb(a2) {
      var b = a2.alternate;
      if (!b) {
        b = Vb(a2);
        if (null === b) throw Error(p3(188));
        return b !== a2 ? null : a2;
      }
      for (var c3 = a2, d4 = b; ; ) {
        var e3 = c3.return;
        if (null === e3) break;
        var f3 = e3.alternate;
        if (null === f3) {
          d4 = e3.return;
          if (null !== d4) {
            c3 = d4;
            continue;
          }
          break;
        }
        if (e3.child === f3.child) {
          for (f3 = e3.child; f3; ) {
            if (f3 === c3) return Xb(e3), a2;
            if (f3 === d4) return Xb(e3), b;
            f3 = f3.sibling;
          }
          throw Error(p3(188));
        }
        if (c3.return !== d4.return) c3 = e3, d4 = f3;
        else {
          for (var g = false, h2 = e3.child; h2; ) {
            if (h2 === c3) {
              g = true;
              c3 = e3;
              d4 = f3;
              break;
            }
            if (h2 === d4) {
              g = true;
              d4 = e3;
              c3 = f3;
              break;
            }
            h2 = h2.sibling;
          }
          if (!g) {
            for (h2 = f3.child; h2; ) {
              if (h2 === c3) {
                g = true;
                c3 = f3;
                d4 = e3;
                break;
              }
              if (h2 === d4) {
                g = true;
                d4 = f3;
                c3 = e3;
                break;
              }
              h2 = h2.sibling;
            }
            if (!g) throw Error(p3(189));
          }
        }
        if (c3.alternate !== d4) throw Error(p3(190));
      }
      if (3 !== c3.tag) throw Error(p3(188));
      return c3.stateNode.current === c3 ? a2 : b;
    }
    function Zb(a2) {
      a2 = Yb(a2);
      return null !== a2 ? $b(a2) : null;
    }
    function $b(a2) {
      if (5 === a2.tag || 6 === a2.tag) return a2;
      for (a2 = a2.child; null !== a2; ) {
        var b = $b(a2);
        if (null !== b) return b;
        a2 = a2.sibling;
      }
      return null;
    }
    var ac = ca.unstable_scheduleCallback;
    var bc = ca.unstable_cancelCallback;
    var cc = ca.unstable_shouldYield;
    var dc = ca.unstable_requestPaint;
    var B = ca.unstable_now;
    var ec = ca.unstable_getCurrentPriorityLevel;
    var fc = ca.unstable_ImmediatePriority;
    var gc = ca.unstable_UserBlockingPriority;
    var hc = ca.unstable_NormalPriority;
    var ic = ca.unstable_LowPriority;
    var jc = ca.unstable_IdlePriority;
    var kc = null;
    var lc = null;
    function mc(a2) {
      if (lc && "function" === typeof lc.onCommitFiberRoot) try {
        lc.onCommitFiberRoot(kc, a2, void 0, 128 === (a2.current.flags & 128));
      } catch (b) {
      }
    }
    var oc = Math.clz32 ? Math.clz32 : nc;
    var pc = Math.log;
    var qc = Math.LN2;
    function nc(a2) {
      a2 >>>= 0;
      return 0 === a2 ? 32 : 31 - (pc(a2) / qc | 0) | 0;
    }
    var rc = 64;
    var sc = 4194304;
    function tc(a2) {
      switch (a2 & -a2) {
        case 1:
          return 1;
        case 2:
          return 2;
        case 4:
          return 4;
        case 8:
          return 8;
        case 16:
          return 16;
        case 32:
          return 32;
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
          return a2 & 4194240;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          return a2 & 130023424;
        case 134217728:
          return 134217728;
        case 268435456:
          return 268435456;
        case 536870912:
          return 536870912;
        case 1073741824:
          return 1073741824;
        default:
          return a2;
      }
    }
    function uc(a2, b) {
      var c3 = a2.pendingLanes;
      if (0 === c3) return 0;
      var d4 = 0, e3 = a2.suspendedLanes, f3 = a2.pingedLanes, g = c3 & 268435455;
      if (0 !== g) {
        var h2 = g & ~e3;
        0 !== h2 ? d4 = tc(h2) : (f3 &= g, 0 !== f3 && (d4 = tc(f3)));
      } else g = c3 & ~e3, 0 !== g ? d4 = tc(g) : 0 !== f3 && (d4 = tc(f3));
      if (0 === d4) return 0;
      if (0 !== b && b !== d4 && 0 === (b & e3) && (e3 = d4 & -d4, f3 = b & -b, e3 >= f3 || 16 === e3 && 0 !== (f3 & 4194240))) return b;
      0 !== (d4 & 4) && (d4 |= c3 & 16);
      b = a2.entangledLanes;
      if (0 !== b) for (a2 = a2.entanglements, b &= d4; 0 < b; ) c3 = 31 - oc(b), e3 = 1 << c3, d4 |= a2[c3], b &= ~e3;
      return d4;
    }
    function vc(a2, b) {
      switch (a2) {
        case 1:
        case 2:
        case 4:
          return b + 250;
        case 8:
        case 16:
        case 32:
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
          return b + 5e3;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          return -1;
        case 134217728:
        case 268435456:
        case 536870912:
        case 1073741824:
          return -1;
        default:
          return -1;
      }
    }
    function wc(a2, b) {
      for (var c3 = a2.suspendedLanes, d4 = a2.pingedLanes, e3 = a2.expirationTimes, f3 = a2.pendingLanes; 0 < f3; ) {
        var g = 31 - oc(f3), h2 = 1 << g, k = e3[g];
        if (-1 === k) {
          if (0 === (h2 & c3) || 0 !== (h2 & d4)) e3[g] = vc(h2, b);
        } else k <= b && (a2.expiredLanes |= h2);
        f3 &= ~h2;
      }
    }
    function xc(a2) {
      a2 = a2.pendingLanes & -1073741825;
      return 0 !== a2 ? a2 : a2 & 1073741824 ? 1073741824 : 0;
    }
    function yc() {
      var a2 = rc;
      rc <<= 1;
      0 === (rc & 4194240) && (rc = 64);
      return a2;
    }
    function zc(a2) {
      for (var b = [], c3 = 0; 31 > c3; c3++) b.push(a2);
      return b;
    }
    function Ac(a2, b, c3) {
      a2.pendingLanes |= b;
      536870912 !== b && (a2.suspendedLanes = 0, a2.pingedLanes = 0);
      a2 = a2.eventTimes;
      b = 31 - oc(b);
      a2[b] = c3;
    }
    function Bc(a2, b) {
      var c3 = a2.pendingLanes & ~b;
      a2.pendingLanes = b;
      a2.suspendedLanes = 0;
      a2.pingedLanes = 0;
      a2.expiredLanes &= b;
      a2.mutableReadLanes &= b;
      a2.entangledLanes &= b;
      b = a2.entanglements;
      var d4 = a2.eventTimes;
      for (a2 = a2.expirationTimes; 0 < c3; ) {
        var e3 = 31 - oc(c3), f3 = 1 << e3;
        b[e3] = 0;
        d4[e3] = -1;
        a2[e3] = -1;
        c3 &= ~f3;
      }
    }
    function Cc(a2, b) {
      var c3 = a2.entangledLanes |= b;
      for (a2 = a2.entanglements; c3; ) {
        var d4 = 31 - oc(c3), e3 = 1 << d4;
        e3 & b | a2[d4] & b && (a2[d4] |= b);
        c3 &= ~e3;
      }
    }
    var C2 = 0;
    function Dc(a2) {
      a2 &= -a2;
      return 1 < a2 ? 4 < a2 ? 0 !== (a2 & 268435455) ? 16 : 536870912 : 4 : 1;
    }
    var Ec;
    var Fc;
    var Gc;
    var Hc;
    var Ic;
    var Jc = false;
    var Kc = [];
    var Lc = null;
    var Mc = null;
    var Nc = null;
    var Oc = /* @__PURE__ */ new Map();
    var Pc = /* @__PURE__ */ new Map();
    var Qc = [];
    var Rc = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
    function Sc(a2, b) {
      switch (a2) {
        case "focusin":
        case "focusout":
          Lc = null;
          break;
        case "dragenter":
        case "dragleave":
          Mc = null;
          break;
        case "mouseover":
        case "mouseout":
          Nc = null;
          break;
        case "pointerover":
        case "pointerout":
          Oc.delete(b.pointerId);
          break;
        case "gotpointercapture":
        case "lostpointercapture":
          Pc.delete(b.pointerId);
      }
    }
    function Tc(a2, b, c3, d4, e3, f3) {
      if (null === a2 || a2.nativeEvent !== f3) return a2 = { blockedOn: b, domEventName: c3, eventSystemFlags: d4, nativeEvent: f3, targetContainers: [e3] }, null !== b && (b = Cb(b), null !== b && Fc(b)), a2;
      a2.eventSystemFlags |= d4;
      b = a2.targetContainers;
      null !== e3 && -1 === b.indexOf(e3) && b.push(e3);
      return a2;
    }
    function Uc(a2, b, c3, d4, e3) {
      switch (b) {
        case "focusin":
          return Lc = Tc(Lc, a2, b, c3, d4, e3), true;
        case "dragenter":
          return Mc = Tc(Mc, a2, b, c3, d4, e3), true;
        case "mouseover":
          return Nc = Tc(Nc, a2, b, c3, d4, e3), true;
        case "pointerover":
          var f3 = e3.pointerId;
          Oc.set(f3, Tc(Oc.get(f3) || null, a2, b, c3, d4, e3));
          return true;
        case "gotpointercapture":
          return f3 = e3.pointerId, Pc.set(f3, Tc(Pc.get(f3) || null, a2, b, c3, d4, e3)), true;
      }
      return false;
    }
    function Vc(a2) {
      var b = Wc(a2.target);
      if (null !== b) {
        var c3 = Vb(b);
        if (null !== c3) {
          if (b = c3.tag, 13 === b) {
            if (b = Wb(c3), null !== b) {
              a2.blockedOn = b;
              Ic(a2.priority, function() {
                Gc(c3);
              });
              return;
            }
          } else if (3 === b && c3.stateNode.current.memoizedState.isDehydrated) {
            a2.blockedOn = 3 === c3.tag ? c3.stateNode.containerInfo : null;
            return;
          }
        }
      }
      a2.blockedOn = null;
    }
    function Xc(a2) {
      if (null !== a2.blockedOn) return false;
      for (var b = a2.targetContainers; 0 < b.length; ) {
        var c3 = Yc(a2.domEventName, a2.eventSystemFlags, b[0], a2.nativeEvent);
        if (null === c3) {
          c3 = a2.nativeEvent;
          var d4 = new c3.constructor(c3.type, c3);
          wb = d4;
          c3.target.dispatchEvent(d4);
          wb = null;
        } else return b = Cb(c3), null !== b && Fc(b), a2.blockedOn = c3, false;
        b.shift();
      }
      return true;
    }
    function Zc(a2, b, c3) {
      Xc(a2) && c3.delete(b);
    }
    function $c() {
      Jc = false;
      null !== Lc && Xc(Lc) && (Lc = null);
      null !== Mc && Xc(Mc) && (Mc = null);
      null !== Nc && Xc(Nc) && (Nc = null);
      Oc.forEach(Zc);
      Pc.forEach(Zc);
    }
    function ad(a2, b) {
      a2.blockedOn === b && (a2.blockedOn = null, Jc || (Jc = true, ca.unstable_scheduleCallback(ca.unstable_NormalPriority, $c)));
    }
    function bd(a2) {
      function b(b2) {
        return ad(b2, a2);
      }
      if (0 < Kc.length) {
        ad(Kc[0], a2);
        for (var c3 = 1; c3 < Kc.length; c3++) {
          var d4 = Kc[c3];
          d4.blockedOn === a2 && (d4.blockedOn = null);
        }
      }
      null !== Lc && ad(Lc, a2);
      null !== Mc && ad(Mc, a2);
      null !== Nc && ad(Nc, a2);
      Oc.forEach(b);
      Pc.forEach(b);
      for (c3 = 0; c3 < Qc.length; c3++) d4 = Qc[c3], d4.blockedOn === a2 && (d4.blockedOn = null);
      for (; 0 < Qc.length && (c3 = Qc[0], null === c3.blockedOn); ) Vc(c3), null === c3.blockedOn && Qc.shift();
    }
    var cd = ua.ReactCurrentBatchConfig;
    var dd = true;
    function ed(a2, b, c3, d4) {
      var e3 = C2, f3 = cd.transition;
      cd.transition = null;
      try {
        C2 = 1, fd(a2, b, c3, d4);
      } finally {
        C2 = e3, cd.transition = f3;
      }
    }
    function gd(a2, b, c3, d4) {
      var e3 = C2, f3 = cd.transition;
      cd.transition = null;
      try {
        C2 = 4, fd(a2, b, c3, d4);
      } finally {
        C2 = e3, cd.transition = f3;
      }
    }
    function fd(a2, b, c3, d4) {
      if (dd) {
        var e3 = Yc(a2, b, c3, d4);
        if (null === e3) hd(a2, b, d4, id, c3), Sc(a2, d4);
        else if (Uc(e3, a2, b, c3, d4)) d4.stopPropagation();
        else if (Sc(a2, d4), b & 4 && -1 < Rc.indexOf(a2)) {
          for (; null !== e3; ) {
            var f3 = Cb(e3);
            null !== f3 && Ec(f3);
            f3 = Yc(a2, b, c3, d4);
            null === f3 && hd(a2, b, d4, id, c3);
            if (f3 === e3) break;
            e3 = f3;
          }
          null !== e3 && d4.stopPropagation();
        } else hd(a2, b, d4, null, c3);
      }
    }
    var id = null;
    function Yc(a2, b, c3, d4) {
      id = null;
      a2 = xb(d4);
      a2 = Wc(a2);
      if (null !== a2) if (b = Vb(a2), null === b) a2 = null;
      else if (c3 = b.tag, 13 === c3) {
        a2 = Wb(b);
        if (null !== a2) return a2;
        a2 = null;
      } else if (3 === c3) {
        if (b.stateNode.current.memoizedState.isDehydrated) return 3 === b.tag ? b.stateNode.containerInfo : null;
        a2 = null;
      } else b !== a2 && (a2 = null);
      id = a2;
      return null;
    }
    function jd(a2) {
      switch (a2) {
        case "cancel":
        case "click":
        case "close":
        case "contextmenu":
        case "copy":
        case "cut":
        case "auxclick":
        case "dblclick":
        case "dragend":
        case "dragstart":
        case "drop":
        case "focusin":
        case "focusout":
        case "input":
        case "invalid":
        case "keydown":
        case "keypress":
        case "keyup":
        case "mousedown":
        case "mouseup":
        case "paste":
        case "pause":
        case "play":
        case "pointercancel":
        case "pointerdown":
        case "pointerup":
        case "ratechange":
        case "reset":
        case "resize":
        case "seeked":
        case "submit":
        case "touchcancel":
        case "touchend":
        case "touchstart":
        case "volumechange":
        case "change":
        case "selectionchange":
        case "textInput":
        case "compositionstart":
        case "compositionend":
        case "compositionupdate":
        case "beforeblur":
        case "afterblur":
        case "beforeinput":
        case "blur":
        case "fullscreenchange":
        case "focus":
        case "hashchange":
        case "popstate":
        case "select":
        case "selectstart":
          return 1;
        case "drag":
        case "dragenter":
        case "dragexit":
        case "dragleave":
        case "dragover":
        case "mousemove":
        case "mouseout":
        case "mouseover":
        case "pointermove":
        case "pointerout":
        case "pointerover":
        case "scroll":
        case "toggle":
        case "touchmove":
        case "wheel":
        case "mouseenter":
        case "mouseleave":
        case "pointerenter":
        case "pointerleave":
          return 4;
        case "message":
          switch (ec()) {
            case fc:
              return 1;
            case gc:
              return 4;
            case hc:
            case ic:
              return 16;
            case jc:
              return 536870912;
            default:
              return 16;
          }
        default:
          return 16;
      }
    }
    var kd = null;
    var ld = null;
    var md = null;
    function nd() {
      if (md) return md;
      var a2, b = ld, c3 = b.length, d4, e3 = "value" in kd ? kd.value : kd.textContent, f3 = e3.length;
      for (a2 = 0; a2 < c3 && b[a2] === e3[a2]; a2++) ;
      var g = c3 - a2;
      for (d4 = 1; d4 <= g && b[c3 - d4] === e3[f3 - d4]; d4++) ;
      return md = e3.slice(a2, 1 < d4 ? 1 - d4 : void 0);
    }
    function od(a2) {
      var b = a2.keyCode;
      "charCode" in a2 ? (a2 = a2.charCode, 0 === a2 && 13 === b && (a2 = 13)) : a2 = b;
      10 === a2 && (a2 = 13);
      return 32 <= a2 || 13 === a2 ? a2 : 0;
    }
    function pd() {
      return true;
    }
    function qd() {
      return false;
    }
    function rd(a2) {
      function b(b2, d4, e3, f3, g) {
        this._reactName = b2;
        this._targetInst = e3;
        this.type = d4;
        this.nativeEvent = f3;
        this.target = g;
        this.currentTarget = null;
        for (var c3 in a2) a2.hasOwnProperty(c3) && (b2 = a2[c3], this[c3] = b2 ? b2(f3) : f3[c3]);
        this.isDefaultPrevented = (null != f3.defaultPrevented ? f3.defaultPrevented : false === f3.returnValue) ? pd : qd;
        this.isPropagationStopped = qd;
        return this;
      }
      A(b.prototype, { preventDefault: function() {
        this.defaultPrevented = true;
        var a3 = this.nativeEvent;
        a3 && (a3.preventDefault ? a3.preventDefault() : "unknown" !== typeof a3.returnValue && (a3.returnValue = false), this.isDefaultPrevented = pd);
      }, stopPropagation: function() {
        var a3 = this.nativeEvent;
        a3 && (a3.stopPropagation ? a3.stopPropagation() : "unknown" !== typeof a3.cancelBubble && (a3.cancelBubble = true), this.isPropagationStopped = pd);
      }, persist: function() {
      }, isPersistent: pd });
      return b;
    }
    var sd = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function(a2) {
      return a2.timeStamp || Date.now();
    }, defaultPrevented: 0, isTrusted: 0 };
    var td = rd(sd);
    var ud = A({}, sd, { view: 0, detail: 0 });
    var vd = rd(ud);
    var wd;
    var xd;
    var yd;
    var Ad = A({}, ud, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: zd, button: 0, buttons: 0, relatedTarget: function(a2) {
      return void 0 === a2.relatedTarget ? a2.fromElement === a2.srcElement ? a2.toElement : a2.fromElement : a2.relatedTarget;
    }, movementX: function(a2) {
      if ("movementX" in a2) return a2.movementX;
      a2 !== yd && (yd && "mousemove" === a2.type ? (wd = a2.screenX - yd.screenX, xd = a2.screenY - yd.screenY) : xd = wd = 0, yd = a2);
      return wd;
    }, movementY: function(a2) {
      return "movementY" in a2 ? a2.movementY : xd;
    } });
    var Bd = rd(Ad);
    var Cd = A({}, Ad, { dataTransfer: 0 });
    var Dd = rd(Cd);
    var Ed = A({}, ud, { relatedTarget: 0 });
    var Fd = rd(Ed);
    var Gd = A({}, sd, { animationName: 0, elapsedTime: 0, pseudoElement: 0 });
    var Hd = rd(Gd);
    var Id = A({}, sd, { clipboardData: function(a2) {
      return "clipboardData" in a2 ? a2.clipboardData : window.clipboardData;
    } });
    var Jd = rd(Id);
    var Kd = A({}, sd, { data: 0 });
    var Ld = rd(Kd);
    var Md = {
      Esc: "Escape",
      Spacebar: " ",
      Left: "ArrowLeft",
      Up: "ArrowUp",
      Right: "ArrowRight",
      Down: "ArrowDown",
      Del: "Delete",
      Win: "OS",
      Menu: "ContextMenu",
      Apps: "ContextMenu",
      Scroll: "ScrollLock",
      MozPrintableKey: "Unidentified"
    };
    var Nd = {
      8: "Backspace",
      9: "Tab",
      12: "Clear",
      13: "Enter",
      16: "Shift",
      17: "Control",
      18: "Alt",
      19: "Pause",
      20: "CapsLock",
      27: "Escape",
      32: " ",
      33: "PageUp",
      34: "PageDown",
      35: "End",
      36: "Home",
      37: "ArrowLeft",
      38: "ArrowUp",
      39: "ArrowRight",
      40: "ArrowDown",
      45: "Insert",
      46: "Delete",
      112: "F1",
      113: "F2",
      114: "F3",
      115: "F4",
      116: "F5",
      117: "F6",
      118: "F7",
      119: "F8",
      120: "F9",
      121: "F10",
      122: "F11",
      123: "F12",
      144: "NumLock",
      145: "ScrollLock",
      224: "Meta"
    };
    var Od = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" };
    function Pd(a2) {
      var b = this.nativeEvent;
      return b.getModifierState ? b.getModifierState(a2) : (a2 = Od[a2]) ? !!b[a2] : false;
    }
    function zd() {
      return Pd;
    }
    var Qd = A({}, ud, { key: function(a2) {
      if (a2.key) {
        var b = Md[a2.key] || a2.key;
        if ("Unidentified" !== b) return b;
      }
      return "keypress" === a2.type ? (a2 = od(a2), 13 === a2 ? "Enter" : String.fromCharCode(a2)) : "keydown" === a2.type || "keyup" === a2.type ? Nd[a2.keyCode] || "Unidentified" : "";
    }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: zd, charCode: function(a2) {
      return "keypress" === a2.type ? od(a2) : 0;
    }, keyCode: function(a2) {
      return "keydown" === a2.type || "keyup" === a2.type ? a2.keyCode : 0;
    }, which: function(a2) {
      return "keypress" === a2.type ? od(a2) : "keydown" === a2.type || "keyup" === a2.type ? a2.keyCode : 0;
    } });
    var Rd = rd(Qd);
    var Sd = A({}, Ad, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 });
    var Td = rd(Sd);
    var Ud = A({}, ud, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: zd });
    var Vd = rd(Ud);
    var Wd = A({}, sd, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 });
    var Xd = rd(Wd);
    var Yd = A({}, Ad, {
      deltaX: function(a2) {
        return "deltaX" in a2 ? a2.deltaX : "wheelDeltaX" in a2 ? -a2.wheelDeltaX : 0;
      },
      deltaY: function(a2) {
        return "deltaY" in a2 ? a2.deltaY : "wheelDeltaY" in a2 ? -a2.wheelDeltaY : "wheelDelta" in a2 ? -a2.wheelDelta : 0;
      },
      deltaZ: 0,
      deltaMode: 0
    });
    var Zd = rd(Yd);
    var $d = [9, 13, 27, 32];
    var ae = ia && "CompositionEvent" in window;
    var be = null;
    ia && "documentMode" in document && (be = document.documentMode);
    var ce = ia && "TextEvent" in window && !be;
    var de = ia && (!ae || be && 8 < be && 11 >= be);
    var ee = String.fromCharCode(32);
    var fe = false;
    function ge(a2, b) {
      switch (a2) {
        case "keyup":
          return -1 !== $d.indexOf(b.keyCode);
        case "keydown":
          return 229 !== b.keyCode;
        case "keypress":
        case "mousedown":
        case "focusout":
          return true;
        default:
          return false;
      }
    }
    function he(a2) {
      a2 = a2.detail;
      return "object" === typeof a2 && "data" in a2 ? a2.data : null;
    }
    var ie = false;
    function je(a2, b) {
      switch (a2) {
        case "compositionend":
          return he(b);
        case "keypress":
          if (32 !== b.which) return null;
          fe = true;
          return ee;
        case "textInput":
          return a2 = b.data, a2 === ee && fe ? null : a2;
        default:
          return null;
      }
    }
    function ke(a2, b) {
      if (ie) return "compositionend" === a2 || !ae && ge(a2, b) ? (a2 = nd(), md = ld = kd = null, ie = false, a2) : null;
      switch (a2) {
        case "paste":
          return null;
        case "keypress":
          if (!(b.ctrlKey || b.altKey || b.metaKey) || b.ctrlKey && b.altKey) {
            if (b.char && 1 < b.char.length) return b.char;
            if (b.which) return String.fromCharCode(b.which);
          }
          return null;
        case "compositionend":
          return de && "ko" !== b.locale ? null : b.data;
        default:
          return null;
      }
    }
    var le = { color: true, date: true, datetime: true, "datetime-local": true, email: true, month: true, number: true, password: true, range: true, search: true, tel: true, text: true, time: true, url: true, week: true };
    function me(a2) {
      var b = a2 && a2.nodeName && a2.nodeName.toLowerCase();
      return "input" === b ? !!le[a2.type] : "textarea" === b ? true : false;
    }
    function ne(a2, b, c3, d4) {
      Eb(d4);
      b = oe(b, "onChange");
      0 < b.length && (c3 = new td("onChange", "change", null, c3, d4), a2.push({ event: c3, listeners: b }));
    }
    var pe = null;
    var qe = null;
    function re(a2) {
      se(a2, 0);
    }
    function te(a2) {
      var b = ue(a2);
      if (Wa(b)) return a2;
    }
    function ve(a2, b) {
      if ("change" === a2) return b;
    }
    var we = false;
    if (ia) {
      if (ia) {
        ye = "oninput" in document;
        if (!ye) {
          ze = document.createElement("div");
          ze.setAttribute("oninput", "return;");
          ye = "function" === typeof ze.oninput;
        }
        xe = ye;
      } else xe = false;
      we = xe && (!document.documentMode || 9 < document.documentMode);
    }
    var xe;
    var ye;
    var ze;
    function Ae() {
      pe && (pe.detachEvent("onpropertychange", Be), qe = pe = null);
    }
    function Be(a2) {
      if ("value" === a2.propertyName && te(qe)) {
        var b = [];
        ne(b, qe, a2, xb(a2));
        Jb(re, b);
      }
    }
    function Ce(a2, b, c3) {
      "focusin" === a2 ? (Ae(), pe = b, qe = c3, pe.attachEvent("onpropertychange", Be)) : "focusout" === a2 && Ae();
    }
    function De(a2) {
      if ("selectionchange" === a2 || "keyup" === a2 || "keydown" === a2) return te(qe);
    }
    function Ee(a2, b) {
      if ("click" === a2) return te(b);
    }
    function Fe(a2, b) {
      if ("input" === a2 || "change" === a2) return te(b);
    }
    function Ge(a2, b) {
      return a2 === b && (0 !== a2 || 1 / a2 === 1 / b) || a2 !== a2 && b !== b;
    }
    var He = "function" === typeof Object.is ? Object.is : Ge;
    function Ie(a2, b) {
      if (He(a2, b)) return true;
      if ("object" !== typeof a2 || null === a2 || "object" !== typeof b || null === b) return false;
      var c3 = Object.keys(a2), d4 = Object.keys(b);
      if (c3.length !== d4.length) return false;
      for (d4 = 0; d4 < c3.length; d4++) {
        var e3 = c3[d4];
        if (!ja.call(b, e3) || !He(a2[e3], b[e3])) return false;
      }
      return true;
    }
    function Je(a2) {
      for (; a2 && a2.firstChild; ) a2 = a2.firstChild;
      return a2;
    }
    function Ke(a2, b) {
      var c3 = Je(a2);
      a2 = 0;
      for (var d4; c3; ) {
        if (3 === c3.nodeType) {
          d4 = a2 + c3.textContent.length;
          if (a2 <= b && d4 >= b) return { node: c3, offset: b - a2 };
          a2 = d4;
        }
        a: {
          for (; c3; ) {
            if (c3.nextSibling) {
              c3 = c3.nextSibling;
              break a;
            }
            c3 = c3.parentNode;
          }
          c3 = void 0;
        }
        c3 = Je(c3);
      }
    }
    function Le(a2, b) {
      return a2 && b ? a2 === b ? true : a2 && 3 === a2.nodeType ? false : b && 3 === b.nodeType ? Le(a2, b.parentNode) : "contains" in a2 ? a2.contains(b) : a2.compareDocumentPosition ? !!(a2.compareDocumentPosition(b) & 16) : false : false;
    }
    function Me() {
      for (var a2 = window, b = Xa(); b instanceof a2.HTMLIFrameElement; ) {
        try {
          var c3 = "string" === typeof b.contentWindow.location.href;
        } catch (d4) {
          c3 = false;
        }
        if (c3) a2 = b.contentWindow;
        else break;
        b = Xa(a2.document);
      }
      return b;
    }
    function Ne(a2) {
      var b = a2 && a2.nodeName && a2.nodeName.toLowerCase();
      return b && ("input" === b && ("text" === a2.type || "search" === a2.type || "tel" === a2.type || "url" === a2.type || "password" === a2.type) || "textarea" === b || "true" === a2.contentEditable);
    }
    function Oe(a2) {
      var b = Me(), c3 = a2.focusedElem, d4 = a2.selectionRange;
      if (b !== c3 && c3 && c3.ownerDocument && Le(c3.ownerDocument.documentElement, c3)) {
        if (null !== d4 && Ne(c3)) {
          if (b = d4.start, a2 = d4.end, void 0 === a2 && (a2 = b), "selectionStart" in c3) c3.selectionStart = b, c3.selectionEnd = Math.min(a2, c3.value.length);
          else if (a2 = (b = c3.ownerDocument || document) && b.defaultView || window, a2.getSelection) {
            a2 = a2.getSelection();
            var e3 = c3.textContent.length, f3 = Math.min(d4.start, e3);
            d4 = void 0 === d4.end ? f3 : Math.min(d4.end, e3);
            !a2.extend && f3 > d4 && (e3 = d4, d4 = f3, f3 = e3);
            e3 = Ke(c3, f3);
            var g = Ke(
              c3,
              d4
            );
            e3 && g && (1 !== a2.rangeCount || a2.anchorNode !== e3.node || a2.anchorOffset !== e3.offset || a2.focusNode !== g.node || a2.focusOffset !== g.offset) && (b = b.createRange(), b.setStart(e3.node, e3.offset), a2.removeAllRanges(), f3 > d4 ? (a2.addRange(b), a2.extend(g.node, g.offset)) : (b.setEnd(g.node, g.offset), a2.addRange(b)));
          }
        }
        b = [];
        for (a2 = c3; a2 = a2.parentNode; ) 1 === a2.nodeType && b.push({ element: a2, left: a2.scrollLeft, top: a2.scrollTop });
        "function" === typeof c3.focus && c3.focus();
        for (c3 = 0; c3 < b.length; c3++) a2 = b[c3], a2.element.scrollLeft = a2.left, a2.element.scrollTop = a2.top;
      }
    }
    var Pe = ia && "documentMode" in document && 11 >= document.documentMode;
    var Qe = null;
    var Re = null;
    var Se = null;
    var Te = false;
    function Ue(a2, b, c3) {
      var d4 = c3.window === c3 ? c3.document : 9 === c3.nodeType ? c3 : c3.ownerDocument;
      Te || null == Qe || Qe !== Xa(d4) || (d4 = Qe, "selectionStart" in d4 && Ne(d4) ? d4 = { start: d4.selectionStart, end: d4.selectionEnd } : (d4 = (d4.ownerDocument && d4.ownerDocument.defaultView || window).getSelection(), d4 = { anchorNode: d4.anchorNode, anchorOffset: d4.anchorOffset, focusNode: d4.focusNode, focusOffset: d4.focusOffset }), Se && Ie(Se, d4) || (Se = d4, d4 = oe(Re, "onSelect"), 0 < d4.length && (b = new td("onSelect", "select", null, b, c3), a2.push({ event: b, listeners: d4 }), b.target = Qe)));
    }
    function Ve(a2, b) {
      var c3 = {};
      c3[a2.toLowerCase()] = b.toLowerCase();
      c3["Webkit" + a2] = "webkit" + b;
      c3["Moz" + a2] = "moz" + b;
      return c3;
    }
    var We = { animationend: Ve("Animation", "AnimationEnd"), animationiteration: Ve("Animation", "AnimationIteration"), animationstart: Ve("Animation", "AnimationStart"), transitionend: Ve("Transition", "TransitionEnd") };
    var Xe = {};
    var Ye = {};
    ia && (Ye = document.createElement("div").style, "AnimationEvent" in window || (delete We.animationend.animation, delete We.animationiteration.animation, delete We.animationstart.animation), "TransitionEvent" in window || delete We.transitionend.transition);
    function Ze(a2) {
      if (Xe[a2]) return Xe[a2];
      if (!We[a2]) return a2;
      var b = We[a2], c3;
      for (c3 in b) if (b.hasOwnProperty(c3) && c3 in Ye) return Xe[a2] = b[c3];
      return a2;
    }
    var $e = Ze("animationend");
    var af = Ze("animationiteration");
    var bf = Ze("animationstart");
    var cf = Ze("transitionend");
    var df = /* @__PURE__ */ new Map();
    var ef = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
    function ff(a2, b) {
      df.set(a2, b);
      fa(b, [a2]);
    }
    for (gf = 0; gf < ef.length; gf++) {
      hf = ef[gf], jf = hf.toLowerCase(), kf = hf[0].toUpperCase() + hf.slice(1);
      ff(jf, "on" + kf);
    }
    var hf;
    var jf;
    var kf;
    var gf;
    ff($e, "onAnimationEnd");
    ff(af, "onAnimationIteration");
    ff(bf, "onAnimationStart");
    ff("dblclick", "onDoubleClick");
    ff("focusin", "onFocus");
    ff("focusout", "onBlur");
    ff(cf, "onTransitionEnd");
    ha("onMouseEnter", ["mouseout", "mouseover"]);
    ha("onMouseLeave", ["mouseout", "mouseover"]);
    ha("onPointerEnter", ["pointerout", "pointerover"]);
    ha("onPointerLeave", ["pointerout", "pointerover"]);
    fa("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" "));
    fa("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));
    fa("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
    fa("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" "));
    fa("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" "));
    fa("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
    var lf = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");
    var mf = new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));
    function nf(a2, b, c3) {
      var d4 = a2.type || "unknown-event";
      a2.currentTarget = c3;
      Ub(d4, b, void 0, a2);
      a2.currentTarget = null;
    }
    function se(a2, b) {
      b = 0 !== (b & 4);
      for (var c3 = 0; c3 < a2.length; c3++) {
        var d4 = a2[c3], e3 = d4.event;
        d4 = d4.listeners;
        a: {
          var f3 = void 0;
          if (b) for (var g = d4.length - 1; 0 <= g; g--) {
            var h2 = d4[g], k = h2.instance, l3 = h2.currentTarget;
            h2 = h2.listener;
            if (k !== f3 && e3.isPropagationStopped()) break a;
            nf(e3, h2, l3);
            f3 = k;
          }
          else for (g = 0; g < d4.length; g++) {
            h2 = d4[g];
            k = h2.instance;
            l3 = h2.currentTarget;
            h2 = h2.listener;
            if (k !== f3 && e3.isPropagationStopped()) break a;
            nf(e3, h2, l3);
            f3 = k;
          }
        }
      }
      if (Qb) throw a2 = Rb, Qb = false, Rb = null, a2;
    }
    function D(a2, b) {
      var c3 = b[of];
      void 0 === c3 && (c3 = b[of] = /* @__PURE__ */ new Set());
      var d4 = a2 + "__bubble";
      c3.has(d4) || (pf(b, a2, 2, false), c3.add(d4));
    }
    function qf(a2, b, c3) {
      var d4 = 0;
      b && (d4 |= 4);
      pf(c3, a2, d4, b);
    }
    var rf = "_reactListening" + Math.random().toString(36).slice(2);
    function sf(a2) {
      if (!a2[rf]) {
        a2[rf] = true;
        da.forEach(function(b2) {
          "selectionchange" !== b2 && (mf.has(b2) || qf(b2, false, a2), qf(b2, true, a2));
        });
        var b = 9 === a2.nodeType ? a2 : a2.ownerDocument;
        null === b || b[rf] || (b[rf] = true, qf("selectionchange", false, b));
      }
    }
    function pf(a2, b, c3, d4) {
      switch (jd(b)) {
        case 1:
          var e3 = ed;
          break;
        case 4:
          e3 = gd;
          break;
        default:
          e3 = fd;
      }
      c3 = e3.bind(null, b, c3, a2);
      e3 = void 0;
      !Lb || "touchstart" !== b && "touchmove" !== b && "wheel" !== b || (e3 = true);
      d4 ? void 0 !== e3 ? a2.addEventListener(b, c3, { capture: true, passive: e3 }) : a2.addEventListener(b, c3, true) : void 0 !== e3 ? a2.addEventListener(b, c3, { passive: e3 }) : a2.addEventListener(b, c3, false);
    }
    function hd(a2, b, c3, d4, e3) {
      var f3 = d4;
      if (0 === (b & 1) && 0 === (b & 2) && null !== d4) a: for (; ; ) {
        if (null === d4) return;
        var g = d4.tag;
        if (3 === g || 4 === g) {
          var h2 = d4.stateNode.containerInfo;
          if (h2 === e3 || 8 === h2.nodeType && h2.parentNode === e3) break;
          if (4 === g) for (g = d4.return; null !== g; ) {
            var k = g.tag;
            if (3 === k || 4 === k) {
              if (k = g.stateNode.containerInfo, k === e3 || 8 === k.nodeType && k.parentNode === e3) return;
            }
            g = g.return;
          }
          for (; null !== h2; ) {
            g = Wc(h2);
            if (null === g) return;
            k = g.tag;
            if (5 === k || 6 === k) {
              d4 = f3 = g;
              continue a;
            }
            h2 = h2.parentNode;
          }
        }
        d4 = d4.return;
      }
      Jb(function() {
        var d5 = f3, e4 = xb(c3), g2 = [];
        a: {
          var h3 = df.get(a2);
          if (void 0 !== h3) {
            var k2 = td, n2 = a2;
            switch (a2) {
              case "keypress":
                if (0 === od(c3)) break a;
              case "keydown":
              case "keyup":
                k2 = Rd;
                break;
              case "focusin":
                n2 = "focus";
                k2 = Fd;
                break;
              case "focusout":
                n2 = "blur";
                k2 = Fd;
                break;
              case "beforeblur":
              case "afterblur":
                k2 = Fd;
                break;
              case "click":
                if (2 === c3.button) break a;
              case "auxclick":
              case "dblclick":
              case "mousedown":
              case "mousemove":
              case "mouseup":
              case "mouseout":
              case "mouseover":
              case "contextmenu":
                k2 = Bd;
                break;
              case "drag":
              case "dragend":
              case "dragenter":
              case "dragexit":
              case "dragleave":
              case "dragover":
              case "dragstart":
              case "drop":
                k2 = Dd;
                break;
              case "touchcancel":
              case "touchend":
              case "touchmove":
              case "touchstart":
                k2 = Vd;
                break;
              case $e:
              case af:
              case bf:
                k2 = Hd;
                break;
              case cf:
                k2 = Xd;
                break;
              case "scroll":
                k2 = vd;
                break;
              case "wheel":
                k2 = Zd;
                break;
              case "copy":
              case "cut":
              case "paste":
                k2 = Jd;
                break;
              case "gotpointercapture":
              case "lostpointercapture":
              case "pointercancel":
              case "pointerdown":
              case "pointermove":
              case "pointerout":
              case "pointerover":
              case "pointerup":
                k2 = Td;
            }
            var t2 = 0 !== (b & 4), J = !t2 && "scroll" === a2, x = t2 ? null !== h3 ? h3 + "Capture" : null : h3;
            t2 = [];
            for (var w = d5, u3; null !== w; ) {
              u3 = w;
              var F = u3.stateNode;
              5 === u3.tag && null !== F && (u3 = F, null !== x && (F = Kb(w, x), null != F && t2.push(tf(w, F, u3))));
              if (J) break;
              w = w.return;
            }
            0 < t2.length && (h3 = new k2(h3, n2, null, c3, e4), g2.push({ event: h3, listeners: t2 }));
          }
        }
        if (0 === (b & 7)) {
          a: {
            h3 = "mouseover" === a2 || "pointerover" === a2;
            k2 = "mouseout" === a2 || "pointerout" === a2;
            if (h3 && c3 !== wb && (n2 = c3.relatedTarget || c3.fromElement) && (Wc(n2) || n2[uf])) break a;
            if (k2 || h3) {
              h3 = e4.window === e4 ? e4 : (h3 = e4.ownerDocument) ? h3.defaultView || h3.parentWindow : window;
              if (k2) {
                if (n2 = c3.relatedTarget || c3.toElement, k2 = d5, n2 = n2 ? Wc(n2) : null, null !== n2 && (J = Vb(n2), n2 !== J || 5 !== n2.tag && 6 !== n2.tag)) n2 = null;
              } else k2 = null, n2 = d5;
              if (k2 !== n2) {
                t2 = Bd;
                F = "onMouseLeave";
                x = "onMouseEnter";
                w = "mouse";
                if ("pointerout" === a2 || "pointerover" === a2) t2 = Td, F = "onPointerLeave", x = "onPointerEnter", w = "pointer";
                J = null == k2 ? h3 : ue(k2);
                u3 = null == n2 ? h3 : ue(n2);
                h3 = new t2(F, w + "leave", k2, c3, e4);
                h3.target = J;
                h3.relatedTarget = u3;
                F = null;
                Wc(e4) === d5 && (t2 = new t2(x, w + "enter", n2, c3, e4), t2.target = u3, t2.relatedTarget = J, F = t2);
                J = F;
                if (k2 && n2) b: {
                  t2 = k2;
                  x = n2;
                  w = 0;
                  for (u3 = t2; u3; u3 = vf(u3)) w++;
                  u3 = 0;
                  for (F = x; F; F = vf(F)) u3++;
                  for (; 0 < w - u3; ) t2 = vf(t2), w--;
                  for (; 0 < u3 - w; ) x = vf(x), u3--;
                  for (; w--; ) {
                    if (t2 === x || null !== x && t2 === x.alternate) break b;
                    t2 = vf(t2);
                    x = vf(x);
                  }
                  t2 = null;
                }
                else t2 = null;
                null !== k2 && wf(g2, h3, k2, t2, false);
                null !== n2 && null !== J && wf(g2, J, n2, t2, true);
              }
            }
          }
          a: {
            h3 = d5 ? ue(d5) : window;
            k2 = h3.nodeName && h3.nodeName.toLowerCase();
            if ("select" === k2 || "input" === k2 && "file" === h3.type) var na = ve;
            else if (me(h3)) if (we) na = Fe;
            else {
              na = De;
              var xa = Ce;
            }
            else (k2 = h3.nodeName) && "input" === k2.toLowerCase() && ("checkbox" === h3.type || "radio" === h3.type) && (na = Ee);
            if (na && (na = na(a2, d5))) {
              ne(g2, na, c3, e4);
              break a;
            }
            xa && xa(a2, h3, d5);
            "focusout" === a2 && (xa = h3._wrapperState) && xa.controlled && "number" === h3.type && cb(h3, "number", h3.value);
          }
          xa = d5 ? ue(d5) : window;
          switch (a2) {
            case "focusin":
              if (me(xa) || "true" === xa.contentEditable) Qe = xa, Re = d5, Se = null;
              break;
            case "focusout":
              Se = Re = Qe = null;
              break;
            case "mousedown":
              Te = true;
              break;
            case "contextmenu":
            case "mouseup":
            case "dragend":
              Te = false;
              Ue(g2, c3, e4);
              break;
            case "selectionchange":
              if (Pe) break;
            case "keydown":
            case "keyup":
              Ue(g2, c3, e4);
          }
          var $a;
          if (ae) b: {
            switch (a2) {
              case "compositionstart":
                var ba = "onCompositionStart";
                break b;
              case "compositionend":
                ba = "onCompositionEnd";
                break b;
              case "compositionupdate":
                ba = "onCompositionUpdate";
                break b;
            }
            ba = void 0;
          }
          else ie ? ge(a2, c3) && (ba = "onCompositionEnd") : "keydown" === a2 && 229 === c3.keyCode && (ba = "onCompositionStart");
          ba && (de && "ko" !== c3.locale && (ie || "onCompositionStart" !== ba ? "onCompositionEnd" === ba && ie && ($a = nd()) : (kd = e4, ld = "value" in kd ? kd.value : kd.textContent, ie = true)), xa = oe(d5, ba), 0 < xa.length && (ba = new Ld(ba, a2, null, c3, e4), g2.push({ event: ba, listeners: xa }), $a ? ba.data = $a : ($a = he(c3), null !== $a && (ba.data = $a))));
          if ($a = ce ? je(a2, c3) : ke(a2, c3)) d5 = oe(d5, "onBeforeInput"), 0 < d5.length && (e4 = new Ld("onBeforeInput", "beforeinput", null, c3, e4), g2.push({ event: e4, listeners: d5 }), e4.data = $a);
        }
        se(g2, b);
      });
    }
    function tf(a2, b, c3) {
      return { instance: a2, listener: b, currentTarget: c3 };
    }
    function oe(a2, b) {
      for (var c3 = b + "Capture", d4 = []; null !== a2; ) {
        var e3 = a2, f3 = e3.stateNode;
        5 === e3.tag && null !== f3 && (e3 = f3, f3 = Kb(a2, c3), null != f3 && d4.unshift(tf(a2, f3, e3)), f3 = Kb(a2, b), null != f3 && d4.push(tf(a2, f3, e3)));
        a2 = a2.return;
      }
      return d4;
    }
    function vf(a2) {
      if (null === a2) return null;
      do
        a2 = a2.return;
      while (a2 && 5 !== a2.tag);
      return a2 ? a2 : null;
    }
    function wf(a2, b, c3, d4, e3) {
      for (var f3 = b._reactName, g = []; null !== c3 && c3 !== d4; ) {
        var h2 = c3, k = h2.alternate, l3 = h2.stateNode;
        if (null !== k && k === d4) break;
        5 === h2.tag && null !== l3 && (h2 = l3, e3 ? (k = Kb(c3, f3), null != k && g.unshift(tf(c3, k, h2))) : e3 || (k = Kb(c3, f3), null != k && g.push(tf(c3, k, h2))));
        c3 = c3.return;
      }
      0 !== g.length && a2.push({ event: b, listeners: g });
    }
    var xf = /\r\n?/g;
    var yf = /\u0000|\uFFFD/g;
    function zf(a2) {
      return ("string" === typeof a2 ? a2 : "" + a2).replace(xf, "\n").replace(yf, "");
    }
    function Af(a2, b, c3) {
      b = zf(b);
      if (zf(a2) !== b && c3) throw Error(p3(425));
    }
    function Bf() {
    }
    var Cf = null;
    var Df = null;
    function Ef(a2, b) {
      return "textarea" === a2 || "noscript" === a2 || "string" === typeof b.children || "number" === typeof b.children || "object" === typeof b.dangerouslySetInnerHTML && null !== b.dangerouslySetInnerHTML && null != b.dangerouslySetInnerHTML.__html;
    }
    var Ff = "function" === typeof setTimeout ? setTimeout : void 0;
    var Gf = "function" === typeof clearTimeout ? clearTimeout : void 0;
    var Hf = "function" === typeof Promise ? Promise : void 0;
    var Jf = "function" === typeof queueMicrotask ? queueMicrotask : "undefined" !== typeof Hf ? function(a2) {
      return Hf.resolve(null).then(a2).catch(If);
    } : Ff;
    function If(a2) {
      setTimeout(function() {
        throw a2;
      });
    }
    function Kf(a2, b) {
      var c3 = b, d4 = 0;
      do {
        var e3 = c3.nextSibling;
        a2.removeChild(c3);
        if (e3 && 8 === e3.nodeType) if (c3 = e3.data, "/$" === c3) {
          if (0 === d4) {
            a2.removeChild(e3);
            bd(b);
            return;
          }
          d4--;
        } else "$" !== c3 && "$?" !== c3 && "$!" !== c3 || d4++;
        c3 = e3;
      } while (c3);
      bd(b);
    }
    function Lf(a2) {
      for (; null != a2; a2 = a2.nextSibling) {
        var b = a2.nodeType;
        if (1 === b || 3 === b) break;
        if (8 === b) {
          b = a2.data;
          if ("$" === b || "$!" === b || "$?" === b) break;
          if ("/$" === b) return null;
        }
      }
      return a2;
    }
    function Mf(a2) {
      a2 = a2.previousSibling;
      for (var b = 0; a2; ) {
        if (8 === a2.nodeType) {
          var c3 = a2.data;
          if ("$" === c3 || "$!" === c3 || "$?" === c3) {
            if (0 === b) return a2;
            b--;
          } else "/$" === c3 && b++;
        }
        a2 = a2.previousSibling;
      }
      return null;
    }
    var Nf = Math.random().toString(36).slice(2);
    var Of = "__reactFiber$" + Nf;
    var Pf = "__reactProps$" + Nf;
    var uf = "__reactContainer$" + Nf;
    var of = "__reactEvents$" + Nf;
    var Qf = "__reactListeners$" + Nf;
    var Rf = "__reactHandles$" + Nf;
    function Wc(a2) {
      var b = a2[Of];
      if (b) return b;
      for (var c3 = a2.parentNode; c3; ) {
        if (b = c3[uf] || c3[Of]) {
          c3 = b.alternate;
          if (null !== b.child || null !== c3 && null !== c3.child) for (a2 = Mf(a2); null !== a2; ) {
            if (c3 = a2[Of]) return c3;
            a2 = Mf(a2);
          }
          return b;
        }
        a2 = c3;
        c3 = a2.parentNode;
      }
      return null;
    }
    function Cb(a2) {
      a2 = a2[Of] || a2[uf];
      return !a2 || 5 !== a2.tag && 6 !== a2.tag && 13 !== a2.tag && 3 !== a2.tag ? null : a2;
    }
    function ue(a2) {
      if (5 === a2.tag || 6 === a2.tag) return a2.stateNode;
      throw Error(p3(33));
    }
    function Db(a2) {
      return a2[Pf] || null;
    }
    var Sf = [];
    var Tf = -1;
    function Uf(a2) {
      return { current: a2 };
    }
    function E(a2) {
      0 > Tf || (a2.current = Sf[Tf], Sf[Tf] = null, Tf--);
    }
    function G(a2, b) {
      Tf++;
      Sf[Tf] = a2.current;
      a2.current = b;
    }
    var Vf = {};
    var H = Uf(Vf);
    var Wf = Uf(false);
    var Xf = Vf;
    function Yf(a2, b) {
      var c3 = a2.type.contextTypes;
      if (!c3) return Vf;
      var d4 = a2.stateNode;
      if (d4 && d4.__reactInternalMemoizedUnmaskedChildContext === b) return d4.__reactInternalMemoizedMaskedChildContext;
      var e3 = {}, f3;
      for (f3 in c3) e3[f3] = b[f3];
      d4 && (a2 = a2.stateNode, a2.__reactInternalMemoizedUnmaskedChildContext = b, a2.__reactInternalMemoizedMaskedChildContext = e3);
      return e3;
    }
    function Zf(a2) {
      a2 = a2.childContextTypes;
      return null !== a2 && void 0 !== a2;
    }
    function $f() {
      E(Wf);
      E(H);
    }
    function ag(a2, b, c3) {
      if (H.current !== Vf) throw Error(p3(168));
      G(H, b);
      G(Wf, c3);
    }
    function bg(a2, b, c3) {
      var d4 = a2.stateNode;
      b = b.childContextTypes;
      if ("function" !== typeof d4.getChildContext) return c3;
      d4 = d4.getChildContext();
      for (var e3 in d4) if (!(e3 in b)) throw Error(p3(108, Ra(a2) || "Unknown", e3));
      return A({}, c3, d4);
    }
    function cg(a2) {
      a2 = (a2 = a2.stateNode) && a2.__reactInternalMemoizedMergedChildContext || Vf;
      Xf = H.current;
      G(H, a2);
      G(Wf, Wf.current);
      return true;
    }
    function dg(a2, b, c3) {
      var d4 = a2.stateNode;
      if (!d4) throw Error(p3(169));
      c3 ? (a2 = bg(a2, b, Xf), d4.__reactInternalMemoizedMergedChildContext = a2, E(Wf), E(H), G(H, a2)) : E(Wf);
      G(Wf, c3);
    }
    var eg = null;
    var fg = false;
    var gg = false;
    function hg(a2) {
      null === eg ? eg = [a2] : eg.push(a2);
    }
    function ig(a2) {
      fg = true;
      hg(a2);
    }
    function jg() {
      if (!gg && null !== eg) {
        gg = true;
        var a2 = 0, b = C2;
        try {
          var c3 = eg;
          for (C2 = 1; a2 < c3.length; a2++) {
            var d4 = c3[a2];
            do
              d4 = d4(true);
            while (null !== d4);
          }
          eg = null;
          fg = false;
        } catch (e3) {
          throw null !== eg && (eg = eg.slice(a2 + 1)), ac(fc, jg), e3;
        } finally {
          C2 = b, gg = false;
        }
      }
      return null;
    }
    var kg = [];
    var lg = 0;
    var mg = null;
    var ng = 0;
    var og = [];
    var pg = 0;
    var qg = null;
    var rg = 1;
    var sg = "";
    function tg(a2, b) {
      kg[lg++] = ng;
      kg[lg++] = mg;
      mg = a2;
      ng = b;
    }
    function ug(a2, b, c3) {
      og[pg++] = rg;
      og[pg++] = sg;
      og[pg++] = qg;
      qg = a2;
      var d4 = rg;
      a2 = sg;
      var e3 = 32 - oc(d4) - 1;
      d4 &= ~(1 << e3);
      c3 += 1;
      var f3 = 32 - oc(b) + e3;
      if (30 < f3) {
        var g = e3 - e3 % 5;
        f3 = (d4 & (1 << g) - 1).toString(32);
        d4 >>= g;
        e3 -= g;
        rg = 1 << 32 - oc(b) + e3 | c3 << e3 | d4;
        sg = f3 + a2;
      } else rg = 1 << f3 | c3 << e3 | d4, sg = a2;
    }
    function vg(a2) {
      null !== a2.return && (tg(a2, 1), ug(a2, 1, 0));
    }
    function wg(a2) {
      for (; a2 === mg; ) mg = kg[--lg], kg[lg] = null, ng = kg[--lg], kg[lg] = null;
      for (; a2 === qg; ) qg = og[--pg], og[pg] = null, sg = og[--pg], og[pg] = null, rg = og[--pg], og[pg] = null;
    }
    var xg = null;
    var yg = null;
    var I2 = false;
    var zg = null;
    function Ag(a2, b) {
      var c3 = Bg(5, null, null, 0);
      c3.elementType = "DELETED";
      c3.stateNode = b;
      c3.return = a2;
      b = a2.deletions;
      null === b ? (a2.deletions = [c3], a2.flags |= 16) : b.push(c3);
    }
    function Cg(a2, b) {
      switch (a2.tag) {
        case 5:
          var c3 = a2.type;
          b = 1 !== b.nodeType || c3.toLowerCase() !== b.nodeName.toLowerCase() ? null : b;
          return null !== b ? (a2.stateNode = b, xg = a2, yg = Lf(b.firstChild), true) : false;
        case 6:
          return b = "" === a2.pendingProps || 3 !== b.nodeType ? null : b, null !== b ? (a2.stateNode = b, xg = a2, yg = null, true) : false;
        case 13:
          return b = 8 !== b.nodeType ? null : b, null !== b ? (c3 = null !== qg ? { id: rg, overflow: sg } : null, a2.memoizedState = { dehydrated: b, treeContext: c3, retryLane: 1073741824 }, c3 = Bg(18, null, null, 0), c3.stateNode = b, c3.return = a2, a2.child = c3, xg = a2, yg = null, true) : false;
        default:
          return false;
      }
    }
    function Dg(a2) {
      return 0 !== (a2.mode & 1) && 0 === (a2.flags & 128);
    }
    function Eg(a2) {
      if (I2) {
        var b = yg;
        if (b) {
          var c3 = b;
          if (!Cg(a2, b)) {
            if (Dg(a2)) throw Error(p3(418));
            b = Lf(c3.nextSibling);
            var d4 = xg;
            b && Cg(a2, b) ? Ag(d4, c3) : (a2.flags = a2.flags & -4097 | 2, I2 = false, xg = a2);
          }
        } else {
          if (Dg(a2)) throw Error(p3(418));
          a2.flags = a2.flags & -4097 | 2;
          I2 = false;
          xg = a2;
        }
      }
    }
    function Fg(a2) {
      for (a2 = a2.return; null !== a2 && 5 !== a2.tag && 3 !== a2.tag && 13 !== a2.tag; ) a2 = a2.return;
      xg = a2;
    }
    function Gg(a2) {
      if (a2 !== xg) return false;
      if (!I2) return Fg(a2), I2 = true, false;
      var b;
      (b = 3 !== a2.tag) && !(b = 5 !== a2.tag) && (b = a2.type, b = "head" !== b && "body" !== b && !Ef(a2.type, a2.memoizedProps));
      if (b && (b = yg)) {
        if (Dg(a2)) throw Hg(), Error(p3(418));
        for (; b; ) Ag(a2, b), b = Lf(b.nextSibling);
      }
      Fg(a2);
      if (13 === a2.tag) {
        a2 = a2.memoizedState;
        a2 = null !== a2 ? a2.dehydrated : null;
        if (!a2) throw Error(p3(317));
        a: {
          a2 = a2.nextSibling;
          for (b = 0; a2; ) {
            if (8 === a2.nodeType) {
              var c3 = a2.data;
              if ("/$" === c3) {
                if (0 === b) {
                  yg = Lf(a2.nextSibling);
                  break a;
                }
                b--;
              } else "$" !== c3 && "$!" !== c3 && "$?" !== c3 || b++;
            }
            a2 = a2.nextSibling;
          }
          yg = null;
        }
      } else yg = xg ? Lf(a2.stateNode.nextSibling) : null;
      return true;
    }
    function Hg() {
      for (var a2 = yg; a2; ) a2 = Lf(a2.nextSibling);
    }
    function Ig() {
      yg = xg = null;
      I2 = false;
    }
    function Jg(a2) {
      null === zg ? zg = [a2] : zg.push(a2);
    }
    var Kg = ua.ReactCurrentBatchConfig;
    function Lg(a2, b, c3) {
      a2 = c3.ref;
      if (null !== a2 && "function" !== typeof a2 && "object" !== typeof a2) {
        if (c3._owner) {
          c3 = c3._owner;
          if (c3) {
            if (1 !== c3.tag) throw Error(p3(309));
            var d4 = c3.stateNode;
          }
          if (!d4) throw Error(p3(147, a2));
          var e3 = d4, f3 = "" + a2;
          if (null !== b && null !== b.ref && "function" === typeof b.ref && b.ref._stringRef === f3) return b.ref;
          b = function(a3) {
            var b2 = e3.refs;
            null === a3 ? delete b2[f3] : b2[f3] = a3;
          };
          b._stringRef = f3;
          return b;
        }
        if ("string" !== typeof a2) throw Error(p3(284));
        if (!c3._owner) throw Error(p3(290, a2));
      }
      return a2;
    }
    function Mg(a2, b) {
      a2 = Object.prototype.toString.call(b);
      throw Error(p3(31, "[object Object]" === a2 ? "object with keys {" + Object.keys(b).join(", ") + "}" : a2));
    }
    function Ng(a2) {
      var b = a2._init;
      return b(a2._payload);
    }
    function Og(a2) {
      function b(b2, c4) {
        if (a2) {
          var d5 = b2.deletions;
          null === d5 ? (b2.deletions = [c4], b2.flags |= 16) : d5.push(c4);
        }
      }
      function c3(c4, d5) {
        if (!a2) return null;
        for (; null !== d5; ) b(c4, d5), d5 = d5.sibling;
        return null;
      }
      function d4(a3, b2) {
        for (a3 = /* @__PURE__ */ new Map(); null !== b2; ) null !== b2.key ? a3.set(b2.key, b2) : a3.set(b2.index, b2), b2 = b2.sibling;
        return a3;
      }
      function e3(a3, b2) {
        a3 = Pg(a3, b2);
        a3.index = 0;
        a3.sibling = null;
        return a3;
      }
      function f3(b2, c4, d5) {
        b2.index = d5;
        if (!a2) return b2.flags |= 1048576, c4;
        d5 = b2.alternate;
        if (null !== d5) return d5 = d5.index, d5 < c4 ? (b2.flags |= 2, c4) : d5;
        b2.flags |= 2;
        return c4;
      }
      function g(b2) {
        a2 && null === b2.alternate && (b2.flags |= 2);
        return b2;
      }
      function h2(a3, b2, c4, d5) {
        if (null === b2 || 6 !== b2.tag) return b2 = Qg(c4, a3.mode, d5), b2.return = a3, b2;
        b2 = e3(b2, c4);
        b2.return = a3;
        return b2;
      }
      function k(a3, b2, c4, d5) {
        var f4 = c4.type;
        if (f4 === ya) return m(a3, b2, c4.props.children, d5, c4.key);
        if (null !== b2 && (b2.elementType === f4 || "object" === typeof f4 && null !== f4 && f4.$$typeof === Ha && Ng(f4) === b2.type)) return d5 = e3(b2, c4.props), d5.ref = Lg(a3, b2, c4), d5.return = a3, d5;
        d5 = Rg(c4.type, c4.key, c4.props, null, a3.mode, d5);
        d5.ref = Lg(a3, b2, c4);
        d5.return = a3;
        return d5;
      }
      function l3(a3, b2, c4, d5) {
        if (null === b2 || 4 !== b2.tag || b2.stateNode.containerInfo !== c4.containerInfo || b2.stateNode.implementation !== c4.implementation) return b2 = Sg(c4, a3.mode, d5), b2.return = a3, b2;
        b2 = e3(b2, c4.children || []);
        b2.return = a3;
        return b2;
      }
      function m(a3, b2, c4, d5, f4) {
        if (null === b2 || 7 !== b2.tag) return b2 = Tg(c4, a3.mode, d5, f4), b2.return = a3, b2;
        b2 = e3(b2, c4);
        b2.return = a3;
        return b2;
      }
      function q(a3, b2, c4) {
        if ("string" === typeof b2 && "" !== b2 || "number" === typeof b2) return b2 = Qg("" + b2, a3.mode, c4), b2.return = a3, b2;
        if ("object" === typeof b2 && null !== b2) {
          switch (b2.$$typeof) {
            case va:
              return c4 = Rg(b2.type, b2.key, b2.props, null, a3.mode, c4), c4.ref = Lg(a3, null, b2), c4.return = a3, c4;
            case wa:
              return b2 = Sg(b2, a3.mode, c4), b2.return = a3, b2;
            case Ha:
              var d5 = b2._init;
              return q(a3, d5(b2._payload), c4);
          }
          if (eb(b2) || Ka(b2)) return b2 = Tg(b2, a3.mode, c4, null), b2.return = a3, b2;
          Mg(a3, b2);
        }
        return null;
      }
      function r3(a3, b2, c4, d5) {
        var e4 = null !== b2 ? b2.key : null;
        if ("string" === typeof c4 && "" !== c4 || "number" === typeof c4) return null !== e4 ? null : h2(a3, b2, "" + c4, d5);
        if ("object" === typeof c4 && null !== c4) {
          switch (c4.$$typeof) {
            case va:
              return c4.key === e4 ? k(a3, b2, c4, d5) : null;
            case wa:
              return c4.key === e4 ? l3(a3, b2, c4, d5) : null;
            case Ha:
              return e4 = c4._init, r3(
                a3,
                b2,
                e4(c4._payload),
                d5
              );
          }
          if (eb(c4) || Ka(c4)) return null !== e4 ? null : m(a3, b2, c4, d5, null);
          Mg(a3, c4);
        }
        return null;
      }
      function y2(a3, b2, c4, d5, e4) {
        if ("string" === typeof d5 && "" !== d5 || "number" === typeof d5) return a3 = a3.get(c4) || null, h2(b2, a3, "" + d5, e4);
        if ("object" === typeof d5 && null !== d5) {
          switch (d5.$$typeof) {
            case va:
              return a3 = a3.get(null === d5.key ? c4 : d5.key) || null, k(b2, a3, d5, e4);
            case wa:
              return a3 = a3.get(null === d5.key ? c4 : d5.key) || null, l3(b2, a3, d5, e4);
            case Ha:
              var f4 = d5._init;
              return y2(a3, b2, c4, f4(d5._payload), e4);
          }
          if (eb(d5) || Ka(d5)) return a3 = a3.get(c4) || null, m(b2, a3, d5, e4, null);
          Mg(b2, d5);
        }
        return null;
      }
      function n2(e4, g2, h3, k2) {
        for (var l4 = null, m2 = null, u3 = g2, w = g2 = 0, x = null; null !== u3 && w < h3.length; w++) {
          u3.index > w ? (x = u3, u3 = null) : x = u3.sibling;
          var n3 = r3(e4, u3, h3[w], k2);
          if (null === n3) {
            null === u3 && (u3 = x);
            break;
          }
          a2 && u3 && null === n3.alternate && b(e4, u3);
          g2 = f3(n3, g2, w);
          null === m2 ? l4 = n3 : m2.sibling = n3;
          m2 = n3;
          u3 = x;
        }
        if (w === h3.length) return c3(e4, u3), I2 && tg(e4, w), l4;
        if (null === u3) {
          for (; w < h3.length; w++) u3 = q(e4, h3[w], k2), null !== u3 && (g2 = f3(u3, g2, w), null === m2 ? l4 = u3 : m2.sibling = u3, m2 = u3);
          I2 && tg(e4, w);
          return l4;
        }
        for (u3 = d4(e4, u3); w < h3.length; w++) x = y2(u3, e4, w, h3[w], k2), null !== x && (a2 && null !== x.alternate && u3.delete(null === x.key ? w : x.key), g2 = f3(x, g2, w), null === m2 ? l4 = x : m2.sibling = x, m2 = x);
        a2 && u3.forEach(function(a3) {
          return b(e4, a3);
        });
        I2 && tg(e4, w);
        return l4;
      }
      function t2(e4, g2, h3, k2) {
        var l4 = Ka(h3);
        if ("function" !== typeof l4) throw Error(p3(150));
        h3 = l4.call(h3);
        if (null == h3) throw Error(p3(151));
        for (var u3 = l4 = null, m2 = g2, w = g2 = 0, x = null, n3 = h3.next(); null !== m2 && !n3.done; w++, n3 = h3.next()) {
          m2.index > w ? (x = m2, m2 = null) : x = m2.sibling;
          var t3 = r3(e4, m2, n3.value, k2);
          if (null === t3) {
            null === m2 && (m2 = x);
            break;
          }
          a2 && m2 && null === t3.alternate && b(e4, m2);
          g2 = f3(t3, g2, w);
          null === u3 ? l4 = t3 : u3.sibling = t3;
          u3 = t3;
          m2 = x;
        }
        if (n3.done) return c3(
          e4,
          m2
        ), I2 && tg(e4, w), l4;
        if (null === m2) {
          for (; !n3.done; w++, n3 = h3.next()) n3 = q(e4, n3.value, k2), null !== n3 && (g2 = f3(n3, g2, w), null === u3 ? l4 = n3 : u3.sibling = n3, u3 = n3);
          I2 && tg(e4, w);
          return l4;
        }
        for (m2 = d4(e4, m2); !n3.done; w++, n3 = h3.next()) n3 = y2(m2, e4, w, n3.value, k2), null !== n3 && (a2 && null !== n3.alternate && m2.delete(null === n3.key ? w : n3.key), g2 = f3(n3, g2, w), null === u3 ? l4 = n3 : u3.sibling = n3, u3 = n3);
        a2 && m2.forEach(function(a3) {
          return b(e4, a3);
        });
        I2 && tg(e4, w);
        return l4;
      }
      function J(a3, d5, f4, h3) {
        "object" === typeof f4 && null !== f4 && f4.type === ya && null === f4.key && (f4 = f4.props.children);
        if ("object" === typeof f4 && null !== f4) {
          switch (f4.$$typeof) {
            case va:
              a: {
                for (var k2 = f4.key, l4 = d5; null !== l4; ) {
                  if (l4.key === k2) {
                    k2 = f4.type;
                    if (k2 === ya) {
                      if (7 === l4.tag) {
                        c3(a3, l4.sibling);
                        d5 = e3(l4, f4.props.children);
                        d5.return = a3;
                        a3 = d5;
                        break a;
                      }
                    } else if (l4.elementType === k2 || "object" === typeof k2 && null !== k2 && k2.$$typeof === Ha && Ng(k2) === l4.type) {
                      c3(a3, l4.sibling);
                      d5 = e3(l4, f4.props);
                      d5.ref = Lg(a3, l4, f4);
                      d5.return = a3;
                      a3 = d5;
                      break a;
                    }
                    c3(a3, l4);
                    break;
                  } else b(a3, l4);
                  l4 = l4.sibling;
                }
                f4.type === ya ? (d5 = Tg(f4.props.children, a3.mode, h3, f4.key), d5.return = a3, a3 = d5) : (h3 = Rg(f4.type, f4.key, f4.props, null, a3.mode, h3), h3.ref = Lg(a3, d5, f4), h3.return = a3, a3 = h3);
              }
              return g(a3);
            case wa:
              a: {
                for (l4 = f4.key; null !== d5; ) {
                  if (d5.key === l4) if (4 === d5.tag && d5.stateNode.containerInfo === f4.containerInfo && d5.stateNode.implementation === f4.implementation) {
                    c3(a3, d5.sibling);
                    d5 = e3(d5, f4.children || []);
                    d5.return = a3;
                    a3 = d5;
                    break a;
                  } else {
                    c3(a3, d5);
                    break;
                  }
                  else b(a3, d5);
                  d5 = d5.sibling;
                }
                d5 = Sg(f4, a3.mode, h3);
                d5.return = a3;
                a3 = d5;
              }
              return g(a3);
            case Ha:
              return l4 = f4._init, J(a3, d5, l4(f4._payload), h3);
          }
          if (eb(f4)) return n2(a3, d5, f4, h3);
          if (Ka(f4)) return t2(a3, d5, f4, h3);
          Mg(a3, f4);
        }
        return "string" === typeof f4 && "" !== f4 || "number" === typeof f4 ? (f4 = "" + f4, null !== d5 && 6 === d5.tag ? (c3(a3, d5.sibling), d5 = e3(d5, f4), d5.return = a3, a3 = d5) : (c3(a3, d5), d5 = Qg(f4, a3.mode, h3), d5.return = a3, a3 = d5), g(a3)) : c3(a3, d5);
      }
      return J;
    }
    var Ug = Og(true);
    var Vg = Og(false);
    var Wg = Uf(null);
    var Xg = null;
    var Yg = null;
    var Zg = null;
    function $g() {
      Zg = Yg = Xg = null;
    }
    function ah(a2) {
      var b = Wg.current;
      E(Wg);
      a2._currentValue = b;
    }
    function bh(a2, b, c3) {
      for (; null !== a2; ) {
        var d4 = a2.alternate;
        (a2.childLanes & b) !== b ? (a2.childLanes |= b, null !== d4 && (d4.childLanes |= b)) : null !== d4 && (d4.childLanes & b) !== b && (d4.childLanes |= b);
        if (a2 === c3) break;
        a2 = a2.return;
      }
    }
    function ch(a2, b) {
      Xg = a2;
      Zg = Yg = null;
      a2 = a2.dependencies;
      null !== a2 && null !== a2.firstContext && (0 !== (a2.lanes & b) && (dh = true), a2.firstContext = null);
    }
    function eh(a2) {
      var b = a2._currentValue;
      if (Zg !== a2) if (a2 = { context: a2, memoizedValue: b, next: null }, null === Yg) {
        if (null === Xg) throw Error(p3(308));
        Yg = a2;
        Xg.dependencies = { lanes: 0, firstContext: a2 };
      } else Yg = Yg.next = a2;
      return b;
    }
    var fh = null;
    function gh(a2) {
      null === fh ? fh = [a2] : fh.push(a2);
    }
    function hh(a2, b, c3, d4) {
      var e3 = b.interleaved;
      null === e3 ? (c3.next = c3, gh(b)) : (c3.next = e3.next, e3.next = c3);
      b.interleaved = c3;
      return ih(a2, d4);
    }
    function ih(a2, b) {
      a2.lanes |= b;
      var c3 = a2.alternate;
      null !== c3 && (c3.lanes |= b);
      c3 = a2;
      for (a2 = a2.return; null !== a2; ) a2.childLanes |= b, c3 = a2.alternate, null !== c3 && (c3.childLanes |= b), c3 = a2, a2 = a2.return;
      return 3 === c3.tag ? c3.stateNode : null;
    }
    var jh = false;
    function kh(a2) {
      a2.updateQueue = { baseState: a2.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, interleaved: null, lanes: 0 }, effects: null };
    }
    function lh(a2, b) {
      a2 = a2.updateQueue;
      b.updateQueue === a2 && (b.updateQueue = { baseState: a2.baseState, firstBaseUpdate: a2.firstBaseUpdate, lastBaseUpdate: a2.lastBaseUpdate, shared: a2.shared, effects: a2.effects });
    }
    function mh(a2, b) {
      return { eventTime: a2, lane: b, tag: 0, payload: null, callback: null, next: null };
    }
    function nh(a2, b, c3) {
      var d4 = a2.updateQueue;
      if (null === d4) return null;
      d4 = d4.shared;
      if (0 !== (K & 2)) {
        var e3 = d4.pending;
        null === e3 ? b.next = b : (b.next = e3.next, e3.next = b);
        d4.pending = b;
        return ih(a2, c3);
      }
      e3 = d4.interleaved;
      null === e3 ? (b.next = b, gh(d4)) : (b.next = e3.next, e3.next = b);
      d4.interleaved = b;
      return ih(a2, c3);
    }
    function oh(a2, b, c3) {
      b = b.updateQueue;
      if (null !== b && (b = b.shared, 0 !== (c3 & 4194240))) {
        var d4 = b.lanes;
        d4 &= a2.pendingLanes;
        c3 |= d4;
        b.lanes = c3;
        Cc(a2, c3);
      }
    }
    function ph(a2, b) {
      var c3 = a2.updateQueue, d4 = a2.alternate;
      if (null !== d4 && (d4 = d4.updateQueue, c3 === d4)) {
        var e3 = null, f3 = null;
        c3 = c3.firstBaseUpdate;
        if (null !== c3) {
          do {
            var g = { eventTime: c3.eventTime, lane: c3.lane, tag: c3.tag, payload: c3.payload, callback: c3.callback, next: null };
            null === f3 ? e3 = f3 = g : f3 = f3.next = g;
            c3 = c3.next;
          } while (null !== c3);
          null === f3 ? e3 = f3 = b : f3 = f3.next = b;
        } else e3 = f3 = b;
        c3 = { baseState: d4.baseState, firstBaseUpdate: e3, lastBaseUpdate: f3, shared: d4.shared, effects: d4.effects };
        a2.updateQueue = c3;
        return;
      }
      a2 = c3.lastBaseUpdate;
      null === a2 ? c3.firstBaseUpdate = b : a2.next = b;
      c3.lastBaseUpdate = b;
    }
    function qh(a2, b, c3, d4) {
      var e3 = a2.updateQueue;
      jh = false;
      var f3 = e3.firstBaseUpdate, g = e3.lastBaseUpdate, h2 = e3.shared.pending;
      if (null !== h2) {
        e3.shared.pending = null;
        var k = h2, l3 = k.next;
        k.next = null;
        null === g ? f3 = l3 : g.next = l3;
        g = k;
        var m = a2.alternate;
        null !== m && (m = m.updateQueue, h2 = m.lastBaseUpdate, h2 !== g && (null === h2 ? m.firstBaseUpdate = l3 : h2.next = l3, m.lastBaseUpdate = k));
      }
      if (null !== f3) {
        var q = e3.baseState;
        g = 0;
        m = l3 = k = null;
        h2 = f3;
        do {
          var r3 = h2.lane, y2 = h2.eventTime;
          if ((d4 & r3) === r3) {
            null !== m && (m = m.next = {
              eventTime: y2,
              lane: 0,
              tag: h2.tag,
              payload: h2.payload,
              callback: h2.callback,
              next: null
            });
            a: {
              var n2 = a2, t2 = h2;
              r3 = b;
              y2 = c3;
              switch (t2.tag) {
                case 1:
                  n2 = t2.payload;
                  if ("function" === typeof n2) {
                    q = n2.call(y2, q, r3);
                    break a;
                  }
                  q = n2;
                  break a;
                case 3:
                  n2.flags = n2.flags & -65537 | 128;
                case 0:
                  n2 = t2.payload;
                  r3 = "function" === typeof n2 ? n2.call(y2, q, r3) : n2;
                  if (null === r3 || void 0 === r3) break a;
                  q = A({}, q, r3);
                  break a;
                case 2:
                  jh = true;
              }
            }
            null !== h2.callback && 0 !== h2.lane && (a2.flags |= 64, r3 = e3.effects, null === r3 ? e3.effects = [h2] : r3.push(h2));
          } else y2 = { eventTime: y2, lane: r3, tag: h2.tag, payload: h2.payload, callback: h2.callback, next: null }, null === m ? (l3 = m = y2, k = q) : m = m.next = y2, g |= r3;
          h2 = h2.next;
          if (null === h2) if (h2 = e3.shared.pending, null === h2) break;
          else r3 = h2, h2 = r3.next, r3.next = null, e3.lastBaseUpdate = r3, e3.shared.pending = null;
        } while (1);
        null === m && (k = q);
        e3.baseState = k;
        e3.firstBaseUpdate = l3;
        e3.lastBaseUpdate = m;
        b = e3.shared.interleaved;
        if (null !== b) {
          e3 = b;
          do
            g |= e3.lane, e3 = e3.next;
          while (e3 !== b);
        } else null === f3 && (e3.shared.lanes = 0);
        rh |= g;
        a2.lanes = g;
        a2.memoizedState = q;
      }
    }
    function sh(a2, b, c3) {
      a2 = b.effects;
      b.effects = null;
      if (null !== a2) for (b = 0; b < a2.length; b++) {
        var d4 = a2[b], e3 = d4.callback;
        if (null !== e3) {
          d4.callback = null;
          d4 = c3;
          if ("function" !== typeof e3) throw Error(p3(191, e3));
          e3.call(d4);
        }
      }
    }
    var th = {};
    var uh = Uf(th);
    var vh = Uf(th);
    var wh = Uf(th);
    function xh(a2) {
      if (a2 === th) throw Error(p3(174));
      return a2;
    }
    function yh(a2, b) {
      G(wh, b);
      G(vh, a2);
      G(uh, th);
      a2 = b.nodeType;
      switch (a2) {
        case 9:
        case 11:
          b = (b = b.documentElement) ? b.namespaceURI : lb(null, "");
          break;
        default:
          a2 = 8 === a2 ? b.parentNode : b, b = a2.namespaceURI || null, a2 = a2.tagName, b = lb(b, a2);
      }
      E(uh);
      G(uh, b);
    }
    function zh() {
      E(uh);
      E(vh);
      E(wh);
    }
    function Ah(a2) {
      xh(wh.current);
      var b = xh(uh.current);
      var c3 = lb(b, a2.type);
      b !== c3 && (G(vh, a2), G(uh, c3));
    }
    function Bh(a2) {
      vh.current === a2 && (E(uh), E(vh));
    }
    var L = Uf(0);
    function Ch(a2) {
      for (var b = a2; null !== b; ) {
        if (13 === b.tag) {
          var c3 = b.memoizedState;
          if (null !== c3 && (c3 = c3.dehydrated, null === c3 || "$?" === c3.data || "$!" === c3.data)) return b;
        } else if (19 === b.tag && void 0 !== b.memoizedProps.revealOrder) {
          if (0 !== (b.flags & 128)) return b;
        } else if (null !== b.child) {
          b.child.return = b;
          b = b.child;
          continue;
        }
        if (b === a2) break;
        for (; null === b.sibling; ) {
          if (null === b.return || b.return === a2) return null;
          b = b.return;
        }
        b.sibling.return = b.return;
        b = b.sibling;
      }
      return null;
    }
    var Dh = [];
    function Eh() {
      for (var a2 = 0; a2 < Dh.length; a2++) Dh[a2]._workInProgressVersionPrimary = null;
      Dh.length = 0;
    }
    var Fh = ua.ReactCurrentDispatcher;
    var Gh = ua.ReactCurrentBatchConfig;
    var Hh = 0;
    var M = null;
    var N = null;
    var O = null;
    var Ih = false;
    var Jh = false;
    var Kh = 0;
    var Lh = 0;
    function P() {
      throw Error(p3(321));
    }
    function Mh(a2, b) {
      if (null === b) return false;
      for (var c3 = 0; c3 < b.length && c3 < a2.length; c3++) if (!He(a2[c3], b[c3])) return false;
      return true;
    }
    function Nh(a2, b, c3, d4, e3, f3) {
      Hh = f3;
      M = b;
      b.memoizedState = null;
      b.updateQueue = null;
      b.lanes = 0;
      Fh.current = null === a2 || null === a2.memoizedState ? Oh : Ph;
      a2 = c3(d4, e3);
      if (Jh) {
        f3 = 0;
        do {
          Jh = false;
          Kh = 0;
          if (25 <= f3) throw Error(p3(301));
          f3 += 1;
          O = N = null;
          b.updateQueue = null;
          Fh.current = Qh;
          a2 = c3(d4, e3);
        } while (Jh);
      }
      Fh.current = Rh;
      b = null !== N && null !== N.next;
      Hh = 0;
      O = N = M = null;
      Ih = false;
      if (b) throw Error(p3(300));
      return a2;
    }
    function Sh() {
      var a2 = 0 !== Kh;
      Kh = 0;
      return a2;
    }
    function Th() {
      var a2 = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null };
      null === O ? M.memoizedState = O = a2 : O = O.next = a2;
      return O;
    }
    function Uh() {
      if (null === N) {
        var a2 = M.alternate;
        a2 = null !== a2 ? a2.memoizedState : null;
      } else a2 = N.next;
      var b = null === O ? M.memoizedState : O.next;
      if (null !== b) O = b, N = a2;
      else {
        if (null === a2) throw Error(p3(310));
        N = a2;
        a2 = { memoizedState: N.memoizedState, baseState: N.baseState, baseQueue: N.baseQueue, queue: N.queue, next: null };
        null === O ? M.memoizedState = O = a2 : O = O.next = a2;
      }
      return O;
    }
    function Vh(a2, b) {
      return "function" === typeof b ? b(a2) : b;
    }
    function Wh(a2) {
      var b = Uh(), c3 = b.queue;
      if (null === c3) throw Error(p3(311));
      c3.lastRenderedReducer = a2;
      var d4 = N, e3 = d4.baseQueue, f3 = c3.pending;
      if (null !== f3) {
        if (null !== e3) {
          var g = e3.next;
          e3.next = f3.next;
          f3.next = g;
        }
        d4.baseQueue = e3 = f3;
        c3.pending = null;
      }
      if (null !== e3) {
        f3 = e3.next;
        d4 = d4.baseState;
        var h2 = g = null, k = null, l3 = f3;
        do {
          var m = l3.lane;
          if ((Hh & m) === m) null !== k && (k = k.next = { lane: 0, action: l3.action, hasEagerState: l3.hasEagerState, eagerState: l3.eagerState, next: null }), d4 = l3.hasEagerState ? l3.eagerState : a2(d4, l3.action);
          else {
            var q = {
              lane: m,
              action: l3.action,
              hasEagerState: l3.hasEagerState,
              eagerState: l3.eagerState,
              next: null
            };
            null === k ? (h2 = k = q, g = d4) : k = k.next = q;
            M.lanes |= m;
            rh |= m;
          }
          l3 = l3.next;
        } while (null !== l3 && l3 !== f3);
        null === k ? g = d4 : k.next = h2;
        He(d4, b.memoizedState) || (dh = true);
        b.memoizedState = d4;
        b.baseState = g;
        b.baseQueue = k;
        c3.lastRenderedState = d4;
      }
      a2 = c3.interleaved;
      if (null !== a2) {
        e3 = a2;
        do
          f3 = e3.lane, M.lanes |= f3, rh |= f3, e3 = e3.next;
        while (e3 !== a2);
      } else null === e3 && (c3.lanes = 0);
      return [b.memoizedState, c3.dispatch];
    }
    function Xh(a2) {
      var b = Uh(), c3 = b.queue;
      if (null === c3) throw Error(p3(311));
      c3.lastRenderedReducer = a2;
      var d4 = c3.dispatch, e3 = c3.pending, f3 = b.memoizedState;
      if (null !== e3) {
        c3.pending = null;
        var g = e3 = e3.next;
        do
          f3 = a2(f3, g.action), g = g.next;
        while (g !== e3);
        He(f3, b.memoizedState) || (dh = true);
        b.memoizedState = f3;
        null === b.baseQueue && (b.baseState = f3);
        c3.lastRenderedState = f3;
      }
      return [f3, d4];
    }
    function Yh() {
    }
    function Zh(a2, b) {
      var c3 = M, d4 = Uh(), e3 = b(), f3 = !He(d4.memoizedState, e3);
      f3 && (d4.memoizedState = e3, dh = true);
      d4 = d4.queue;
      $h(ai.bind(null, c3, d4, a2), [a2]);
      if (d4.getSnapshot !== b || f3 || null !== O && O.memoizedState.tag & 1) {
        c3.flags |= 2048;
        bi(9, ci.bind(null, c3, d4, e3, b), void 0, null);
        if (null === Q2) throw Error(p3(349));
        0 !== (Hh & 30) || di(c3, b, e3);
      }
      return e3;
    }
    function di(a2, b, c3) {
      a2.flags |= 16384;
      a2 = { getSnapshot: b, value: c3 };
      b = M.updateQueue;
      null === b ? (b = { lastEffect: null, stores: null }, M.updateQueue = b, b.stores = [a2]) : (c3 = b.stores, null === c3 ? b.stores = [a2] : c3.push(a2));
    }
    function ci(a2, b, c3, d4) {
      b.value = c3;
      b.getSnapshot = d4;
      ei(b) && fi(a2);
    }
    function ai(a2, b, c3) {
      return c3(function() {
        ei(b) && fi(a2);
      });
    }
    function ei(a2) {
      var b = a2.getSnapshot;
      a2 = a2.value;
      try {
        var c3 = b();
        return !He(a2, c3);
      } catch (d4) {
        return true;
      }
    }
    function fi(a2) {
      var b = ih(a2, 1);
      null !== b && gi(b, a2, 1, -1);
    }
    function hi(a2) {
      var b = Th();
      "function" === typeof a2 && (a2 = a2());
      b.memoizedState = b.baseState = a2;
      a2 = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: Vh, lastRenderedState: a2 };
      b.queue = a2;
      a2 = a2.dispatch = ii.bind(null, M, a2);
      return [b.memoizedState, a2];
    }
    function bi(a2, b, c3, d4) {
      a2 = { tag: a2, create: b, destroy: c3, deps: d4, next: null };
      b = M.updateQueue;
      null === b ? (b = { lastEffect: null, stores: null }, M.updateQueue = b, b.lastEffect = a2.next = a2) : (c3 = b.lastEffect, null === c3 ? b.lastEffect = a2.next = a2 : (d4 = c3.next, c3.next = a2, a2.next = d4, b.lastEffect = a2));
      return a2;
    }
    function ji() {
      return Uh().memoizedState;
    }
    function ki(a2, b, c3, d4) {
      var e3 = Th();
      M.flags |= a2;
      e3.memoizedState = bi(1 | b, c3, void 0, void 0 === d4 ? null : d4);
    }
    function li(a2, b, c3, d4) {
      var e3 = Uh();
      d4 = void 0 === d4 ? null : d4;
      var f3 = void 0;
      if (null !== N) {
        var g = N.memoizedState;
        f3 = g.destroy;
        if (null !== d4 && Mh(d4, g.deps)) {
          e3.memoizedState = bi(b, c3, f3, d4);
          return;
        }
      }
      M.flags |= a2;
      e3.memoizedState = bi(1 | b, c3, f3, d4);
    }
    function mi(a2, b) {
      return ki(8390656, 8, a2, b);
    }
    function $h(a2, b) {
      return li(2048, 8, a2, b);
    }
    function ni(a2, b) {
      return li(4, 2, a2, b);
    }
    function oi(a2, b) {
      return li(4, 4, a2, b);
    }
    function pi(a2, b) {
      if ("function" === typeof b) return a2 = a2(), b(a2), function() {
        b(null);
      };
      if (null !== b && void 0 !== b) return a2 = a2(), b.current = a2, function() {
        b.current = null;
      };
    }
    function qi(a2, b, c3) {
      c3 = null !== c3 && void 0 !== c3 ? c3.concat([a2]) : null;
      return li(4, 4, pi.bind(null, b, a2), c3);
    }
    function ri() {
    }
    function si(a2, b) {
      var c3 = Uh();
      b = void 0 === b ? null : b;
      var d4 = c3.memoizedState;
      if (null !== d4 && null !== b && Mh(b, d4[1])) return d4[0];
      c3.memoizedState = [a2, b];
      return a2;
    }
    function ti(a2, b) {
      var c3 = Uh();
      b = void 0 === b ? null : b;
      var d4 = c3.memoizedState;
      if (null !== d4 && null !== b && Mh(b, d4[1])) return d4[0];
      a2 = a2();
      c3.memoizedState = [a2, b];
      return a2;
    }
    function ui(a2, b, c3) {
      if (0 === (Hh & 21)) return a2.baseState && (a2.baseState = false, dh = true), a2.memoizedState = c3;
      He(c3, b) || (c3 = yc(), M.lanes |= c3, rh |= c3, a2.baseState = true);
      return b;
    }
    function vi(a2, b) {
      var c3 = C2;
      C2 = 0 !== c3 && 4 > c3 ? c3 : 4;
      a2(true);
      var d4 = Gh.transition;
      Gh.transition = {};
      try {
        a2(false), b();
      } finally {
        C2 = c3, Gh.transition = d4;
      }
    }
    function wi() {
      return Uh().memoizedState;
    }
    function xi(a2, b, c3) {
      var d4 = yi(a2);
      c3 = { lane: d4, action: c3, hasEagerState: false, eagerState: null, next: null };
      if (zi(a2)) Ai(b, c3);
      else if (c3 = hh(a2, b, c3, d4), null !== c3) {
        var e3 = R();
        gi(c3, a2, d4, e3);
        Bi(c3, b, d4);
      }
    }
    function ii(a2, b, c3) {
      var d4 = yi(a2), e3 = { lane: d4, action: c3, hasEagerState: false, eagerState: null, next: null };
      if (zi(a2)) Ai(b, e3);
      else {
        var f3 = a2.alternate;
        if (0 === a2.lanes && (null === f3 || 0 === f3.lanes) && (f3 = b.lastRenderedReducer, null !== f3)) try {
          var g = b.lastRenderedState, h2 = f3(g, c3);
          e3.hasEagerState = true;
          e3.eagerState = h2;
          if (He(h2, g)) {
            var k = b.interleaved;
            null === k ? (e3.next = e3, gh(b)) : (e3.next = k.next, k.next = e3);
            b.interleaved = e3;
            return;
          }
        } catch (l3) {
        } finally {
        }
        c3 = hh(a2, b, e3, d4);
        null !== c3 && (e3 = R(), gi(c3, a2, d4, e3), Bi(c3, b, d4));
      }
    }
    function zi(a2) {
      var b = a2.alternate;
      return a2 === M || null !== b && b === M;
    }
    function Ai(a2, b) {
      Jh = Ih = true;
      var c3 = a2.pending;
      null === c3 ? b.next = b : (b.next = c3.next, c3.next = b);
      a2.pending = b;
    }
    function Bi(a2, b, c3) {
      if (0 !== (c3 & 4194240)) {
        var d4 = b.lanes;
        d4 &= a2.pendingLanes;
        c3 |= d4;
        b.lanes = c3;
        Cc(a2, c3);
      }
    }
    var Rh = { readContext: eh, useCallback: P, useContext: P, useEffect: P, useImperativeHandle: P, useInsertionEffect: P, useLayoutEffect: P, useMemo: P, useReducer: P, useRef: P, useState: P, useDebugValue: P, useDeferredValue: P, useTransition: P, useMutableSource: P, useSyncExternalStore: P, useId: P, unstable_isNewReconciler: false };
    var Oh = { readContext: eh, useCallback: function(a2, b) {
      Th().memoizedState = [a2, void 0 === b ? null : b];
      return a2;
    }, useContext: eh, useEffect: mi, useImperativeHandle: function(a2, b, c3) {
      c3 = null !== c3 && void 0 !== c3 ? c3.concat([a2]) : null;
      return ki(
        4194308,
        4,
        pi.bind(null, b, a2),
        c3
      );
    }, useLayoutEffect: function(a2, b) {
      return ki(4194308, 4, a2, b);
    }, useInsertionEffect: function(a2, b) {
      return ki(4, 2, a2, b);
    }, useMemo: function(a2, b) {
      var c3 = Th();
      b = void 0 === b ? null : b;
      a2 = a2();
      c3.memoizedState = [a2, b];
      return a2;
    }, useReducer: function(a2, b, c3) {
      var d4 = Th();
      b = void 0 !== c3 ? c3(b) : b;
      d4.memoizedState = d4.baseState = b;
      a2 = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: a2, lastRenderedState: b };
      d4.queue = a2;
      a2 = a2.dispatch = xi.bind(null, M, a2);
      return [d4.memoizedState, a2];
    }, useRef: function(a2) {
      var b = Th();
      a2 = { current: a2 };
      return b.memoizedState = a2;
    }, useState: hi, useDebugValue: ri, useDeferredValue: function(a2) {
      return Th().memoizedState = a2;
    }, useTransition: function() {
      var a2 = hi(false), b = a2[0];
      a2 = vi.bind(null, a2[1]);
      Th().memoizedState = a2;
      return [b, a2];
    }, useMutableSource: function() {
    }, useSyncExternalStore: function(a2, b, c3) {
      var d4 = M, e3 = Th();
      if (I2) {
        if (void 0 === c3) throw Error(p3(407));
        c3 = c3();
      } else {
        c3 = b();
        if (null === Q2) throw Error(p3(349));
        0 !== (Hh & 30) || di(d4, b, c3);
      }
      e3.memoizedState = c3;
      var f3 = { value: c3, getSnapshot: b };
      e3.queue = f3;
      mi(ai.bind(
        null,
        d4,
        f3,
        a2
      ), [a2]);
      d4.flags |= 2048;
      bi(9, ci.bind(null, d4, f3, c3, b), void 0, null);
      return c3;
    }, useId: function() {
      var a2 = Th(), b = Q2.identifierPrefix;
      if (I2) {
        var c3 = sg;
        var d4 = rg;
        c3 = (d4 & ~(1 << 32 - oc(d4) - 1)).toString(32) + c3;
        b = ":" + b + "R" + c3;
        c3 = Kh++;
        0 < c3 && (b += "H" + c3.toString(32));
        b += ":";
      } else c3 = Lh++, b = ":" + b + "r" + c3.toString(32) + ":";
      return a2.memoizedState = b;
    }, unstable_isNewReconciler: false };
    var Ph = {
      readContext: eh,
      useCallback: si,
      useContext: eh,
      useEffect: $h,
      useImperativeHandle: qi,
      useInsertionEffect: ni,
      useLayoutEffect: oi,
      useMemo: ti,
      useReducer: Wh,
      useRef: ji,
      useState: function() {
        return Wh(Vh);
      },
      useDebugValue: ri,
      useDeferredValue: function(a2) {
        var b = Uh();
        return ui(b, N.memoizedState, a2);
      },
      useTransition: function() {
        var a2 = Wh(Vh)[0], b = Uh().memoizedState;
        return [a2, b];
      },
      useMutableSource: Yh,
      useSyncExternalStore: Zh,
      useId: wi,
      unstable_isNewReconciler: false
    };
    var Qh = { readContext: eh, useCallback: si, useContext: eh, useEffect: $h, useImperativeHandle: qi, useInsertionEffect: ni, useLayoutEffect: oi, useMemo: ti, useReducer: Xh, useRef: ji, useState: function() {
      return Xh(Vh);
    }, useDebugValue: ri, useDeferredValue: function(a2) {
      var b = Uh();
      return null === N ? b.memoizedState = a2 : ui(b, N.memoizedState, a2);
    }, useTransition: function() {
      var a2 = Xh(Vh)[0], b = Uh().memoizedState;
      return [a2, b];
    }, useMutableSource: Yh, useSyncExternalStore: Zh, useId: wi, unstable_isNewReconciler: false };
    function Ci(a2, b) {
      if (a2 && a2.defaultProps) {
        b = A({}, b);
        a2 = a2.defaultProps;
        for (var c3 in a2) void 0 === b[c3] && (b[c3] = a2[c3]);
        return b;
      }
      return b;
    }
    function Di(a2, b, c3, d4) {
      b = a2.memoizedState;
      c3 = c3(d4, b);
      c3 = null === c3 || void 0 === c3 ? b : A({}, b, c3);
      a2.memoizedState = c3;
      0 === a2.lanes && (a2.updateQueue.baseState = c3);
    }
    var Ei = { isMounted: function(a2) {
      return (a2 = a2._reactInternals) ? Vb(a2) === a2 : false;
    }, enqueueSetState: function(a2, b, c3) {
      a2 = a2._reactInternals;
      var d4 = R(), e3 = yi(a2), f3 = mh(d4, e3);
      f3.payload = b;
      void 0 !== c3 && null !== c3 && (f3.callback = c3);
      b = nh(a2, f3, e3);
      null !== b && (gi(b, a2, e3, d4), oh(b, a2, e3));
    }, enqueueReplaceState: function(a2, b, c3) {
      a2 = a2._reactInternals;
      var d4 = R(), e3 = yi(a2), f3 = mh(d4, e3);
      f3.tag = 1;
      f3.payload = b;
      void 0 !== c3 && null !== c3 && (f3.callback = c3);
      b = nh(a2, f3, e3);
      null !== b && (gi(b, a2, e3, d4), oh(b, a2, e3));
    }, enqueueForceUpdate: function(a2, b) {
      a2 = a2._reactInternals;
      var c3 = R(), d4 = yi(a2), e3 = mh(c3, d4);
      e3.tag = 2;
      void 0 !== b && null !== b && (e3.callback = b);
      b = nh(a2, e3, d4);
      null !== b && (gi(b, a2, d4, c3), oh(b, a2, d4));
    } };
    function Fi(a2, b, c3, d4, e3, f3, g) {
      a2 = a2.stateNode;
      return "function" === typeof a2.shouldComponentUpdate ? a2.shouldComponentUpdate(d4, f3, g) : b.prototype && b.prototype.isPureReactComponent ? !Ie(c3, d4) || !Ie(e3, f3) : true;
    }
    function Gi(a2, b, c3) {
      var d4 = false, e3 = Vf;
      var f3 = b.contextType;
      "object" === typeof f3 && null !== f3 ? f3 = eh(f3) : (e3 = Zf(b) ? Xf : H.current, d4 = b.contextTypes, f3 = (d4 = null !== d4 && void 0 !== d4) ? Yf(a2, e3) : Vf);
      b = new b(c3, f3);
      a2.memoizedState = null !== b.state && void 0 !== b.state ? b.state : null;
      b.updater = Ei;
      a2.stateNode = b;
      b._reactInternals = a2;
      d4 && (a2 = a2.stateNode, a2.__reactInternalMemoizedUnmaskedChildContext = e3, a2.__reactInternalMemoizedMaskedChildContext = f3);
      return b;
    }
    function Hi(a2, b, c3, d4) {
      a2 = b.state;
      "function" === typeof b.componentWillReceiveProps && b.componentWillReceiveProps(c3, d4);
      "function" === typeof b.UNSAFE_componentWillReceiveProps && b.UNSAFE_componentWillReceiveProps(c3, d4);
      b.state !== a2 && Ei.enqueueReplaceState(b, b.state, null);
    }
    function Ii(a2, b, c3, d4) {
      var e3 = a2.stateNode;
      e3.props = c3;
      e3.state = a2.memoizedState;
      e3.refs = {};
      kh(a2);
      var f3 = b.contextType;
      "object" === typeof f3 && null !== f3 ? e3.context = eh(f3) : (f3 = Zf(b) ? Xf : H.current, e3.context = Yf(a2, f3));
      e3.state = a2.memoizedState;
      f3 = b.getDerivedStateFromProps;
      "function" === typeof f3 && (Di(a2, b, f3, c3), e3.state = a2.memoizedState);
      "function" === typeof b.getDerivedStateFromProps || "function" === typeof e3.getSnapshotBeforeUpdate || "function" !== typeof e3.UNSAFE_componentWillMount && "function" !== typeof e3.componentWillMount || (b = e3.state, "function" === typeof e3.componentWillMount && e3.componentWillMount(), "function" === typeof e3.UNSAFE_componentWillMount && e3.UNSAFE_componentWillMount(), b !== e3.state && Ei.enqueueReplaceState(e3, e3.state, null), qh(a2, c3, e3, d4), e3.state = a2.memoizedState);
      "function" === typeof e3.componentDidMount && (a2.flags |= 4194308);
    }
    function Ji(a2, b) {
      try {
        var c3 = "", d4 = b;
        do
          c3 += Pa(d4), d4 = d4.return;
        while (d4);
        var e3 = c3;
      } catch (f3) {
        e3 = "\nError generating stack: " + f3.message + "\n" + f3.stack;
      }
      return { value: a2, source: b, stack: e3, digest: null };
    }
    function Ki(a2, b, c3) {
      return { value: a2, source: null, stack: null != c3 ? c3 : null, digest: null != b ? b : null };
    }
    function Li(a2, b) {
      try {
        console.error(b.value);
      } catch (c3) {
        setTimeout(function() {
          throw c3;
        });
      }
    }
    var Mi = "function" === typeof WeakMap ? WeakMap : Map;
    function Ni(a2, b, c3) {
      c3 = mh(-1, c3);
      c3.tag = 3;
      c3.payload = { element: null };
      var d4 = b.value;
      c3.callback = function() {
        Oi || (Oi = true, Pi = d4);
        Li(a2, b);
      };
      return c3;
    }
    function Qi(a2, b, c3) {
      c3 = mh(-1, c3);
      c3.tag = 3;
      var d4 = a2.type.getDerivedStateFromError;
      if ("function" === typeof d4) {
        var e3 = b.value;
        c3.payload = function() {
          return d4(e3);
        };
        c3.callback = function() {
          Li(a2, b);
        };
      }
      var f3 = a2.stateNode;
      null !== f3 && "function" === typeof f3.componentDidCatch && (c3.callback = function() {
        Li(a2, b);
        "function" !== typeof d4 && (null === Ri ? Ri = /* @__PURE__ */ new Set([this]) : Ri.add(this));
        var c4 = b.stack;
        this.componentDidCatch(b.value, { componentStack: null !== c4 ? c4 : "" });
      });
      return c3;
    }
    function Si(a2, b, c3) {
      var d4 = a2.pingCache;
      if (null === d4) {
        d4 = a2.pingCache = new Mi();
        var e3 = /* @__PURE__ */ new Set();
        d4.set(b, e3);
      } else e3 = d4.get(b), void 0 === e3 && (e3 = /* @__PURE__ */ new Set(), d4.set(b, e3));
      e3.has(c3) || (e3.add(c3), a2 = Ti.bind(null, a2, b, c3), b.then(a2, a2));
    }
    function Ui(a2) {
      do {
        var b;
        if (b = 13 === a2.tag) b = a2.memoizedState, b = null !== b ? null !== b.dehydrated ? true : false : true;
        if (b) return a2;
        a2 = a2.return;
      } while (null !== a2);
      return null;
    }
    function Vi(a2, b, c3, d4, e3) {
      if (0 === (a2.mode & 1)) return a2 === b ? a2.flags |= 65536 : (a2.flags |= 128, c3.flags |= 131072, c3.flags &= -52805, 1 === c3.tag && (null === c3.alternate ? c3.tag = 17 : (b = mh(-1, 1), b.tag = 2, nh(c3, b, 1))), c3.lanes |= 1), a2;
      a2.flags |= 65536;
      a2.lanes = e3;
      return a2;
    }
    var Wi = ua.ReactCurrentOwner;
    var dh = false;
    function Xi(a2, b, c3, d4) {
      b.child = null === a2 ? Vg(b, null, c3, d4) : Ug(b, a2.child, c3, d4);
    }
    function Yi(a2, b, c3, d4, e3) {
      c3 = c3.render;
      var f3 = b.ref;
      ch(b, e3);
      d4 = Nh(a2, b, c3, d4, f3, e3);
      c3 = Sh();
      if (null !== a2 && !dh) return b.updateQueue = a2.updateQueue, b.flags &= -2053, a2.lanes &= ~e3, Zi(a2, b, e3);
      I2 && c3 && vg(b);
      b.flags |= 1;
      Xi(a2, b, d4, e3);
      return b.child;
    }
    function $i(a2, b, c3, d4, e3) {
      if (null === a2) {
        var f3 = c3.type;
        if ("function" === typeof f3 && !aj(f3) && void 0 === f3.defaultProps && null === c3.compare && void 0 === c3.defaultProps) return b.tag = 15, b.type = f3, bj(a2, b, f3, d4, e3);
        a2 = Rg(c3.type, null, d4, b, b.mode, e3);
        a2.ref = b.ref;
        a2.return = b;
        return b.child = a2;
      }
      f3 = a2.child;
      if (0 === (a2.lanes & e3)) {
        var g = f3.memoizedProps;
        c3 = c3.compare;
        c3 = null !== c3 ? c3 : Ie;
        if (c3(g, d4) && a2.ref === b.ref) return Zi(a2, b, e3);
      }
      b.flags |= 1;
      a2 = Pg(f3, d4);
      a2.ref = b.ref;
      a2.return = b;
      return b.child = a2;
    }
    function bj(a2, b, c3, d4, e3) {
      if (null !== a2) {
        var f3 = a2.memoizedProps;
        if (Ie(f3, d4) && a2.ref === b.ref) if (dh = false, b.pendingProps = d4 = f3, 0 !== (a2.lanes & e3)) 0 !== (a2.flags & 131072) && (dh = true);
        else return b.lanes = a2.lanes, Zi(a2, b, e3);
      }
      return cj(a2, b, c3, d4, e3);
    }
    function dj(a2, b, c3) {
      var d4 = b.pendingProps, e3 = d4.children, f3 = null !== a2 ? a2.memoizedState : null;
      if ("hidden" === d4.mode) if (0 === (b.mode & 1)) b.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, G(ej, fj), fj |= c3;
      else {
        if (0 === (c3 & 1073741824)) return a2 = null !== f3 ? f3.baseLanes | c3 : c3, b.lanes = b.childLanes = 1073741824, b.memoizedState = { baseLanes: a2, cachePool: null, transitions: null }, b.updateQueue = null, G(ej, fj), fj |= a2, null;
        b.memoizedState = { baseLanes: 0, cachePool: null, transitions: null };
        d4 = null !== f3 ? f3.baseLanes : c3;
        G(ej, fj);
        fj |= d4;
      }
      else null !== f3 ? (d4 = f3.baseLanes | c3, b.memoizedState = null) : d4 = c3, G(ej, fj), fj |= d4;
      Xi(a2, b, e3, c3);
      return b.child;
    }
    function gj(a2, b) {
      var c3 = b.ref;
      if (null === a2 && null !== c3 || null !== a2 && a2.ref !== c3) b.flags |= 512, b.flags |= 2097152;
    }
    function cj(a2, b, c3, d4, e3) {
      var f3 = Zf(c3) ? Xf : H.current;
      f3 = Yf(b, f3);
      ch(b, e3);
      c3 = Nh(a2, b, c3, d4, f3, e3);
      d4 = Sh();
      if (null !== a2 && !dh) return b.updateQueue = a2.updateQueue, b.flags &= -2053, a2.lanes &= ~e3, Zi(a2, b, e3);
      I2 && d4 && vg(b);
      b.flags |= 1;
      Xi(a2, b, c3, e3);
      return b.child;
    }
    function hj(a2, b, c3, d4, e3) {
      if (Zf(c3)) {
        var f3 = true;
        cg(b);
      } else f3 = false;
      ch(b, e3);
      if (null === b.stateNode) ij(a2, b), Gi(b, c3, d4), Ii(b, c3, d4, e3), d4 = true;
      else if (null === a2) {
        var g = b.stateNode, h2 = b.memoizedProps;
        g.props = h2;
        var k = g.context, l3 = c3.contextType;
        "object" === typeof l3 && null !== l3 ? l3 = eh(l3) : (l3 = Zf(c3) ? Xf : H.current, l3 = Yf(b, l3));
        var m = c3.getDerivedStateFromProps, q = "function" === typeof m || "function" === typeof g.getSnapshotBeforeUpdate;
        q || "function" !== typeof g.UNSAFE_componentWillReceiveProps && "function" !== typeof g.componentWillReceiveProps || (h2 !== d4 || k !== l3) && Hi(b, g, d4, l3);
        jh = false;
        var r3 = b.memoizedState;
        g.state = r3;
        qh(b, d4, g, e3);
        k = b.memoizedState;
        h2 !== d4 || r3 !== k || Wf.current || jh ? ("function" === typeof m && (Di(b, c3, m, d4), k = b.memoizedState), (h2 = jh || Fi(b, c3, h2, d4, r3, k, l3)) ? (q || "function" !== typeof g.UNSAFE_componentWillMount && "function" !== typeof g.componentWillMount || ("function" === typeof g.componentWillMount && g.componentWillMount(), "function" === typeof g.UNSAFE_componentWillMount && g.UNSAFE_componentWillMount()), "function" === typeof g.componentDidMount && (b.flags |= 4194308)) : ("function" === typeof g.componentDidMount && (b.flags |= 4194308), b.memoizedProps = d4, b.memoizedState = k), g.props = d4, g.state = k, g.context = l3, d4 = h2) : ("function" === typeof g.componentDidMount && (b.flags |= 4194308), d4 = false);
      } else {
        g = b.stateNode;
        lh(a2, b);
        h2 = b.memoizedProps;
        l3 = b.type === b.elementType ? h2 : Ci(b.type, h2);
        g.props = l3;
        q = b.pendingProps;
        r3 = g.context;
        k = c3.contextType;
        "object" === typeof k && null !== k ? k = eh(k) : (k = Zf(c3) ? Xf : H.current, k = Yf(b, k));
        var y2 = c3.getDerivedStateFromProps;
        (m = "function" === typeof y2 || "function" === typeof g.getSnapshotBeforeUpdate) || "function" !== typeof g.UNSAFE_componentWillReceiveProps && "function" !== typeof g.componentWillReceiveProps || (h2 !== q || r3 !== k) && Hi(b, g, d4, k);
        jh = false;
        r3 = b.memoizedState;
        g.state = r3;
        qh(b, d4, g, e3);
        var n2 = b.memoizedState;
        h2 !== q || r3 !== n2 || Wf.current || jh ? ("function" === typeof y2 && (Di(b, c3, y2, d4), n2 = b.memoizedState), (l3 = jh || Fi(b, c3, l3, d4, r3, n2, k) || false) ? (m || "function" !== typeof g.UNSAFE_componentWillUpdate && "function" !== typeof g.componentWillUpdate || ("function" === typeof g.componentWillUpdate && g.componentWillUpdate(d4, n2, k), "function" === typeof g.UNSAFE_componentWillUpdate && g.UNSAFE_componentWillUpdate(d4, n2, k)), "function" === typeof g.componentDidUpdate && (b.flags |= 4), "function" === typeof g.getSnapshotBeforeUpdate && (b.flags |= 1024)) : ("function" !== typeof g.componentDidUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 4), "function" !== typeof g.getSnapshotBeforeUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 1024), b.memoizedProps = d4, b.memoizedState = n2), g.props = d4, g.state = n2, g.context = k, d4 = l3) : ("function" !== typeof g.componentDidUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 4), "function" !== typeof g.getSnapshotBeforeUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 1024), d4 = false);
      }
      return jj(a2, b, c3, d4, f3, e3);
    }
    function jj(a2, b, c3, d4, e3, f3) {
      gj(a2, b);
      var g = 0 !== (b.flags & 128);
      if (!d4 && !g) return e3 && dg(b, c3, false), Zi(a2, b, f3);
      d4 = b.stateNode;
      Wi.current = b;
      var h2 = g && "function" !== typeof c3.getDerivedStateFromError ? null : d4.render();
      b.flags |= 1;
      null !== a2 && g ? (b.child = Ug(b, a2.child, null, f3), b.child = Ug(b, null, h2, f3)) : Xi(a2, b, h2, f3);
      b.memoizedState = d4.state;
      e3 && dg(b, c3, true);
      return b.child;
    }
    function kj(a2) {
      var b = a2.stateNode;
      b.pendingContext ? ag(a2, b.pendingContext, b.pendingContext !== b.context) : b.context && ag(a2, b.context, false);
      yh(a2, b.containerInfo);
    }
    function lj(a2, b, c3, d4, e3) {
      Ig();
      Jg(e3);
      b.flags |= 256;
      Xi(a2, b, c3, d4);
      return b.child;
    }
    var mj = { dehydrated: null, treeContext: null, retryLane: 0 };
    function nj(a2) {
      return { baseLanes: a2, cachePool: null, transitions: null };
    }
    function oj(a2, b, c3) {
      var d4 = b.pendingProps, e3 = L.current, f3 = false, g = 0 !== (b.flags & 128), h2;
      (h2 = g) || (h2 = null !== a2 && null === a2.memoizedState ? false : 0 !== (e3 & 2));
      if (h2) f3 = true, b.flags &= -129;
      else if (null === a2 || null !== a2.memoizedState) e3 |= 1;
      G(L, e3 & 1);
      if (null === a2) {
        Eg(b);
        a2 = b.memoizedState;
        if (null !== a2 && (a2 = a2.dehydrated, null !== a2)) return 0 === (b.mode & 1) ? b.lanes = 1 : "$!" === a2.data ? b.lanes = 8 : b.lanes = 1073741824, null;
        g = d4.children;
        a2 = d4.fallback;
        return f3 ? (d4 = b.mode, f3 = b.child, g = { mode: "hidden", children: g }, 0 === (d4 & 1) && null !== f3 ? (f3.childLanes = 0, f3.pendingProps = g) : f3 = pj(g, d4, 0, null), a2 = Tg(a2, d4, c3, null), f3.return = b, a2.return = b, f3.sibling = a2, b.child = f3, b.child.memoizedState = nj(c3), b.memoizedState = mj, a2) : qj(b, g);
      }
      e3 = a2.memoizedState;
      if (null !== e3 && (h2 = e3.dehydrated, null !== h2)) return rj(a2, b, g, d4, h2, e3, c3);
      if (f3) {
        f3 = d4.fallback;
        g = b.mode;
        e3 = a2.child;
        h2 = e3.sibling;
        var k = { mode: "hidden", children: d4.children };
        0 === (g & 1) && b.child !== e3 ? (d4 = b.child, d4.childLanes = 0, d4.pendingProps = k, b.deletions = null) : (d4 = Pg(e3, k), d4.subtreeFlags = e3.subtreeFlags & 14680064);
        null !== h2 ? f3 = Pg(h2, f3) : (f3 = Tg(f3, g, c3, null), f3.flags |= 2);
        f3.return = b;
        d4.return = b;
        d4.sibling = f3;
        b.child = d4;
        d4 = f3;
        f3 = b.child;
        g = a2.child.memoizedState;
        g = null === g ? nj(c3) : { baseLanes: g.baseLanes | c3, cachePool: null, transitions: g.transitions };
        f3.memoizedState = g;
        f3.childLanes = a2.childLanes & ~c3;
        b.memoizedState = mj;
        return d4;
      }
      f3 = a2.child;
      a2 = f3.sibling;
      d4 = Pg(f3, { mode: "visible", children: d4.children });
      0 === (b.mode & 1) && (d4.lanes = c3);
      d4.return = b;
      d4.sibling = null;
      null !== a2 && (c3 = b.deletions, null === c3 ? (b.deletions = [a2], b.flags |= 16) : c3.push(a2));
      b.child = d4;
      b.memoizedState = null;
      return d4;
    }
    function qj(a2, b) {
      b = pj({ mode: "visible", children: b }, a2.mode, 0, null);
      b.return = a2;
      return a2.child = b;
    }
    function sj(a2, b, c3, d4) {
      null !== d4 && Jg(d4);
      Ug(b, a2.child, null, c3);
      a2 = qj(b, b.pendingProps.children);
      a2.flags |= 2;
      b.memoizedState = null;
      return a2;
    }
    function rj(a2, b, c3, d4, e3, f3, g) {
      if (c3) {
        if (b.flags & 256) return b.flags &= -257, d4 = Ki(Error(p3(422))), sj(a2, b, g, d4);
        if (null !== b.memoizedState) return b.child = a2.child, b.flags |= 128, null;
        f3 = d4.fallback;
        e3 = b.mode;
        d4 = pj({ mode: "visible", children: d4.children }, e3, 0, null);
        f3 = Tg(f3, e3, g, null);
        f3.flags |= 2;
        d4.return = b;
        f3.return = b;
        d4.sibling = f3;
        b.child = d4;
        0 !== (b.mode & 1) && Ug(b, a2.child, null, g);
        b.child.memoizedState = nj(g);
        b.memoizedState = mj;
        return f3;
      }
      if (0 === (b.mode & 1)) return sj(a2, b, g, null);
      if ("$!" === e3.data) {
        d4 = e3.nextSibling && e3.nextSibling.dataset;
        if (d4) var h2 = d4.dgst;
        d4 = h2;
        f3 = Error(p3(419));
        d4 = Ki(f3, d4, void 0);
        return sj(a2, b, g, d4);
      }
      h2 = 0 !== (g & a2.childLanes);
      if (dh || h2) {
        d4 = Q2;
        if (null !== d4) {
          switch (g & -g) {
            case 4:
              e3 = 2;
              break;
            case 16:
              e3 = 8;
              break;
            case 64:
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
            case 67108864:
              e3 = 32;
              break;
            case 536870912:
              e3 = 268435456;
              break;
            default:
              e3 = 0;
          }
          e3 = 0 !== (e3 & (d4.suspendedLanes | g)) ? 0 : e3;
          0 !== e3 && e3 !== f3.retryLane && (f3.retryLane = e3, ih(a2, e3), gi(d4, a2, e3, -1));
        }
        tj();
        d4 = Ki(Error(p3(421)));
        return sj(a2, b, g, d4);
      }
      if ("$?" === e3.data) return b.flags |= 128, b.child = a2.child, b = uj.bind(null, a2), e3._reactRetry = b, null;
      a2 = f3.treeContext;
      yg = Lf(e3.nextSibling);
      xg = b;
      I2 = true;
      zg = null;
      null !== a2 && (og[pg++] = rg, og[pg++] = sg, og[pg++] = qg, rg = a2.id, sg = a2.overflow, qg = b);
      b = qj(b, d4.children);
      b.flags |= 4096;
      return b;
    }
    function vj(a2, b, c3) {
      a2.lanes |= b;
      var d4 = a2.alternate;
      null !== d4 && (d4.lanes |= b);
      bh(a2.return, b, c3);
    }
    function wj(a2, b, c3, d4, e3) {
      var f3 = a2.memoizedState;
      null === f3 ? a2.memoizedState = { isBackwards: b, rendering: null, renderingStartTime: 0, last: d4, tail: c3, tailMode: e3 } : (f3.isBackwards = b, f3.rendering = null, f3.renderingStartTime = 0, f3.last = d4, f3.tail = c3, f3.tailMode = e3);
    }
    function xj(a2, b, c3) {
      var d4 = b.pendingProps, e3 = d4.revealOrder, f3 = d4.tail;
      Xi(a2, b, d4.children, c3);
      d4 = L.current;
      if (0 !== (d4 & 2)) d4 = d4 & 1 | 2, b.flags |= 128;
      else {
        if (null !== a2 && 0 !== (a2.flags & 128)) a: for (a2 = b.child; null !== a2; ) {
          if (13 === a2.tag) null !== a2.memoizedState && vj(a2, c3, b);
          else if (19 === a2.tag) vj(a2, c3, b);
          else if (null !== a2.child) {
            a2.child.return = a2;
            a2 = a2.child;
            continue;
          }
          if (a2 === b) break a;
          for (; null === a2.sibling; ) {
            if (null === a2.return || a2.return === b) break a;
            a2 = a2.return;
          }
          a2.sibling.return = a2.return;
          a2 = a2.sibling;
        }
        d4 &= 1;
      }
      G(L, d4);
      if (0 === (b.mode & 1)) b.memoizedState = null;
      else switch (e3) {
        case "forwards":
          c3 = b.child;
          for (e3 = null; null !== c3; ) a2 = c3.alternate, null !== a2 && null === Ch(a2) && (e3 = c3), c3 = c3.sibling;
          c3 = e3;
          null === c3 ? (e3 = b.child, b.child = null) : (e3 = c3.sibling, c3.sibling = null);
          wj(b, false, e3, c3, f3);
          break;
        case "backwards":
          c3 = null;
          e3 = b.child;
          for (b.child = null; null !== e3; ) {
            a2 = e3.alternate;
            if (null !== a2 && null === Ch(a2)) {
              b.child = e3;
              break;
            }
            a2 = e3.sibling;
            e3.sibling = c3;
            c3 = e3;
            e3 = a2;
          }
          wj(b, true, c3, null, f3);
          break;
        case "together":
          wj(b, false, null, null, void 0);
          break;
        default:
          b.memoizedState = null;
      }
      return b.child;
    }
    function ij(a2, b) {
      0 === (b.mode & 1) && null !== a2 && (a2.alternate = null, b.alternate = null, b.flags |= 2);
    }
    function Zi(a2, b, c3) {
      null !== a2 && (b.dependencies = a2.dependencies);
      rh |= b.lanes;
      if (0 === (c3 & b.childLanes)) return null;
      if (null !== a2 && b.child !== a2.child) throw Error(p3(153));
      if (null !== b.child) {
        a2 = b.child;
        c3 = Pg(a2, a2.pendingProps);
        b.child = c3;
        for (c3.return = b; null !== a2.sibling; ) a2 = a2.sibling, c3 = c3.sibling = Pg(a2, a2.pendingProps), c3.return = b;
        c3.sibling = null;
      }
      return b.child;
    }
    function yj(a2, b, c3) {
      switch (b.tag) {
        case 3:
          kj(b);
          Ig();
          break;
        case 5:
          Ah(b);
          break;
        case 1:
          Zf(b.type) && cg(b);
          break;
        case 4:
          yh(b, b.stateNode.containerInfo);
          break;
        case 10:
          var d4 = b.type._context, e3 = b.memoizedProps.value;
          G(Wg, d4._currentValue);
          d4._currentValue = e3;
          break;
        case 13:
          d4 = b.memoizedState;
          if (null !== d4) {
            if (null !== d4.dehydrated) return G(L, L.current & 1), b.flags |= 128, null;
            if (0 !== (c3 & b.child.childLanes)) return oj(a2, b, c3);
            G(L, L.current & 1);
            a2 = Zi(a2, b, c3);
            return null !== a2 ? a2.sibling : null;
          }
          G(L, L.current & 1);
          break;
        case 19:
          d4 = 0 !== (c3 & b.childLanes);
          if (0 !== (a2.flags & 128)) {
            if (d4) return xj(a2, b, c3);
            b.flags |= 128;
          }
          e3 = b.memoizedState;
          null !== e3 && (e3.rendering = null, e3.tail = null, e3.lastEffect = null);
          G(L, L.current);
          if (d4) break;
          else return null;
        case 22:
        case 23:
          return b.lanes = 0, dj(a2, b, c3);
      }
      return Zi(a2, b, c3);
    }
    var zj;
    var Aj;
    var Bj;
    var Cj;
    zj = function(a2, b) {
      for (var c3 = b.child; null !== c3; ) {
        if (5 === c3.tag || 6 === c3.tag) a2.appendChild(c3.stateNode);
        else if (4 !== c3.tag && null !== c3.child) {
          c3.child.return = c3;
          c3 = c3.child;
          continue;
        }
        if (c3 === b) break;
        for (; null === c3.sibling; ) {
          if (null === c3.return || c3.return === b) return;
          c3 = c3.return;
        }
        c3.sibling.return = c3.return;
        c3 = c3.sibling;
      }
    };
    Aj = function() {
    };
    Bj = function(a2, b, c3, d4) {
      var e3 = a2.memoizedProps;
      if (e3 !== d4) {
        a2 = b.stateNode;
        xh(uh.current);
        var f3 = null;
        switch (c3) {
          case "input":
            e3 = Ya(a2, e3);
            d4 = Ya(a2, d4);
            f3 = [];
            break;
          case "select":
            e3 = A({}, e3, { value: void 0 });
            d4 = A({}, d4, { value: void 0 });
            f3 = [];
            break;
          case "textarea":
            e3 = gb(a2, e3);
            d4 = gb(a2, d4);
            f3 = [];
            break;
          default:
            "function" !== typeof e3.onClick && "function" === typeof d4.onClick && (a2.onclick = Bf);
        }
        ub(c3, d4);
        var g;
        c3 = null;
        for (l3 in e3) if (!d4.hasOwnProperty(l3) && e3.hasOwnProperty(l3) && null != e3[l3]) if ("style" === l3) {
          var h2 = e3[l3];
          for (g in h2) h2.hasOwnProperty(g) && (c3 || (c3 = {}), c3[g] = "");
        } else "dangerouslySetInnerHTML" !== l3 && "children" !== l3 && "suppressContentEditableWarning" !== l3 && "suppressHydrationWarning" !== l3 && "autoFocus" !== l3 && (ea.hasOwnProperty(l3) ? f3 || (f3 = []) : (f3 = f3 || []).push(l3, null));
        for (l3 in d4) {
          var k = d4[l3];
          h2 = null != e3 ? e3[l3] : void 0;
          if (d4.hasOwnProperty(l3) && k !== h2 && (null != k || null != h2)) if ("style" === l3) if (h2) {
            for (g in h2) !h2.hasOwnProperty(g) || k && k.hasOwnProperty(g) || (c3 || (c3 = {}), c3[g] = "");
            for (g in k) k.hasOwnProperty(g) && h2[g] !== k[g] && (c3 || (c3 = {}), c3[g] = k[g]);
          } else c3 || (f3 || (f3 = []), f3.push(
            l3,
            c3
          )), c3 = k;
          else "dangerouslySetInnerHTML" === l3 ? (k = k ? k.__html : void 0, h2 = h2 ? h2.__html : void 0, null != k && h2 !== k && (f3 = f3 || []).push(l3, k)) : "children" === l3 ? "string" !== typeof k && "number" !== typeof k || (f3 = f3 || []).push(l3, "" + k) : "suppressContentEditableWarning" !== l3 && "suppressHydrationWarning" !== l3 && (ea.hasOwnProperty(l3) ? (null != k && "onScroll" === l3 && D("scroll", a2), f3 || h2 === k || (f3 = [])) : (f3 = f3 || []).push(l3, k));
        }
        c3 && (f3 = f3 || []).push("style", c3);
        var l3 = f3;
        if (b.updateQueue = l3) b.flags |= 4;
      }
    };
    Cj = function(a2, b, c3, d4) {
      c3 !== d4 && (b.flags |= 4);
    };
    function Dj(a2, b) {
      if (!I2) switch (a2.tailMode) {
        case "hidden":
          b = a2.tail;
          for (var c3 = null; null !== b; ) null !== b.alternate && (c3 = b), b = b.sibling;
          null === c3 ? a2.tail = null : c3.sibling = null;
          break;
        case "collapsed":
          c3 = a2.tail;
          for (var d4 = null; null !== c3; ) null !== c3.alternate && (d4 = c3), c3 = c3.sibling;
          null === d4 ? b || null === a2.tail ? a2.tail = null : a2.tail.sibling = null : d4.sibling = null;
      }
    }
    function S(a2) {
      var b = null !== a2.alternate && a2.alternate.child === a2.child, c3 = 0, d4 = 0;
      if (b) for (var e3 = a2.child; null !== e3; ) c3 |= e3.lanes | e3.childLanes, d4 |= e3.subtreeFlags & 14680064, d4 |= e3.flags & 14680064, e3.return = a2, e3 = e3.sibling;
      else for (e3 = a2.child; null !== e3; ) c3 |= e3.lanes | e3.childLanes, d4 |= e3.subtreeFlags, d4 |= e3.flags, e3.return = a2, e3 = e3.sibling;
      a2.subtreeFlags |= d4;
      a2.childLanes = c3;
      return b;
    }
    function Ej(a2, b, c3) {
      var d4 = b.pendingProps;
      wg(b);
      switch (b.tag) {
        case 2:
        case 16:
        case 15:
        case 0:
        case 11:
        case 7:
        case 8:
        case 12:
        case 9:
        case 14:
          return S(b), null;
        case 1:
          return Zf(b.type) && $f(), S(b), null;
        case 3:
          d4 = b.stateNode;
          zh();
          E(Wf);
          E(H);
          Eh();
          d4.pendingContext && (d4.context = d4.pendingContext, d4.pendingContext = null);
          if (null === a2 || null === a2.child) Gg(b) ? b.flags |= 4 : null === a2 || a2.memoizedState.isDehydrated && 0 === (b.flags & 256) || (b.flags |= 1024, null !== zg && (Fj(zg), zg = null));
          Aj(a2, b);
          S(b);
          return null;
        case 5:
          Bh(b);
          var e3 = xh(wh.current);
          c3 = b.type;
          if (null !== a2 && null != b.stateNode) Bj(a2, b, c3, d4, e3), a2.ref !== b.ref && (b.flags |= 512, b.flags |= 2097152);
          else {
            if (!d4) {
              if (null === b.stateNode) throw Error(p3(166));
              S(b);
              return null;
            }
            a2 = xh(uh.current);
            if (Gg(b)) {
              d4 = b.stateNode;
              c3 = b.type;
              var f3 = b.memoizedProps;
              d4[Of] = b;
              d4[Pf] = f3;
              a2 = 0 !== (b.mode & 1);
              switch (c3) {
                case "dialog":
                  D("cancel", d4);
                  D("close", d4);
                  break;
                case "iframe":
                case "object":
                case "embed":
                  D("load", d4);
                  break;
                case "video":
                case "audio":
                  for (e3 = 0; e3 < lf.length; e3++) D(lf[e3], d4);
                  break;
                case "source":
                  D("error", d4);
                  break;
                case "img":
                case "image":
                case "link":
                  D(
                    "error",
                    d4
                  );
                  D("load", d4);
                  break;
                case "details":
                  D("toggle", d4);
                  break;
                case "input":
                  Za(d4, f3);
                  D("invalid", d4);
                  break;
                case "select":
                  d4._wrapperState = { wasMultiple: !!f3.multiple };
                  D("invalid", d4);
                  break;
                case "textarea":
                  hb(d4, f3), D("invalid", d4);
              }
              ub(c3, f3);
              e3 = null;
              for (var g in f3) if (f3.hasOwnProperty(g)) {
                var h2 = f3[g];
                "children" === g ? "string" === typeof h2 ? d4.textContent !== h2 && (true !== f3.suppressHydrationWarning && Af(d4.textContent, h2, a2), e3 = ["children", h2]) : "number" === typeof h2 && d4.textContent !== "" + h2 && (true !== f3.suppressHydrationWarning && Af(
                  d4.textContent,
                  h2,
                  a2
                ), e3 = ["children", "" + h2]) : ea.hasOwnProperty(g) && null != h2 && "onScroll" === g && D("scroll", d4);
              }
              switch (c3) {
                case "input":
                  Va(d4);
                  db(d4, f3, true);
                  break;
                case "textarea":
                  Va(d4);
                  jb(d4);
                  break;
                case "select":
                case "option":
                  break;
                default:
                  "function" === typeof f3.onClick && (d4.onclick = Bf);
              }
              d4 = e3;
              b.updateQueue = d4;
              null !== d4 && (b.flags |= 4);
            } else {
              g = 9 === e3.nodeType ? e3 : e3.ownerDocument;
              "http://www.w3.org/1999/xhtml" === a2 && (a2 = kb(c3));
              "http://www.w3.org/1999/xhtml" === a2 ? "script" === c3 ? (a2 = g.createElement("div"), a2.innerHTML = "<script><\/script>", a2 = a2.removeChild(a2.firstChild)) : "string" === typeof d4.is ? a2 = g.createElement(c3, { is: d4.is }) : (a2 = g.createElement(c3), "select" === c3 && (g = a2, d4.multiple ? g.multiple = true : d4.size && (g.size = d4.size))) : a2 = g.createElementNS(a2, c3);
              a2[Of] = b;
              a2[Pf] = d4;
              zj(a2, b, false, false);
              b.stateNode = a2;
              a: {
                g = vb(c3, d4);
                switch (c3) {
                  case "dialog":
                    D("cancel", a2);
                    D("close", a2);
                    e3 = d4;
                    break;
                  case "iframe":
                  case "object":
                  case "embed":
                    D("load", a2);
                    e3 = d4;
                    break;
                  case "video":
                  case "audio":
                    for (e3 = 0; e3 < lf.length; e3++) D(lf[e3], a2);
                    e3 = d4;
                    break;
                  case "source":
                    D("error", a2);
                    e3 = d4;
                    break;
                  case "img":
                  case "image":
                  case "link":
                    D(
                      "error",
                      a2
                    );
                    D("load", a2);
                    e3 = d4;
                    break;
                  case "details":
                    D("toggle", a2);
                    e3 = d4;
                    break;
                  case "input":
                    Za(a2, d4);
                    e3 = Ya(a2, d4);
                    D("invalid", a2);
                    break;
                  case "option":
                    e3 = d4;
                    break;
                  case "select":
                    a2._wrapperState = { wasMultiple: !!d4.multiple };
                    e3 = A({}, d4, { value: void 0 });
                    D("invalid", a2);
                    break;
                  case "textarea":
                    hb(a2, d4);
                    e3 = gb(a2, d4);
                    D("invalid", a2);
                    break;
                  default:
                    e3 = d4;
                }
                ub(c3, e3);
                h2 = e3;
                for (f3 in h2) if (h2.hasOwnProperty(f3)) {
                  var k = h2[f3];
                  "style" === f3 ? sb(a2, k) : "dangerouslySetInnerHTML" === f3 ? (k = k ? k.__html : void 0, null != k && nb(a2, k)) : "children" === f3 ? "string" === typeof k ? ("textarea" !== c3 || "" !== k) && ob(a2, k) : "number" === typeof k && ob(a2, "" + k) : "suppressContentEditableWarning" !== f3 && "suppressHydrationWarning" !== f3 && "autoFocus" !== f3 && (ea.hasOwnProperty(f3) ? null != k && "onScroll" === f3 && D("scroll", a2) : null != k && ta(a2, f3, k, g));
                }
                switch (c3) {
                  case "input":
                    Va(a2);
                    db(a2, d4, false);
                    break;
                  case "textarea":
                    Va(a2);
                    jb(a2);
                    break;
                  case "option":
                    null != d4.value && a2.setAttribute("value", "" + Sa(d4.value));
                    break;
                  case "select":
                    a2.multiple = !!d4.multiple;
                    f3 = d4.value;
                    null != f3 ? fb(a2, !!d4.multiple, f3, false) : null != d4.defaultValue && fb(
                      a2,
                      !!d4.multiple,
                      d4.defaultValue,
                      true
                    );
                    break;
                  default:
                    "function" === typeof e3.onClick && (a2.onclick = Bf);
                }
                switch (c3) {
                  case "button":
                  case "input":
                  case "select":
                  case "textarea":
                    d4 = !!d4.autoFocus;
                    break a;
                  case "img":
                    d4 = true;
                    break a;
                  default:
                    d4 = false;
                }
              }
              d4 && (b.flags |= 4);
            }
            null !== b.ref && (b.flags |= 512, b.flags |= 2097152);
          }
          S(b);
          return null;
        case 6:
          if (a2 && null != b.stateNode) Cj(a2, b, a2.memoizedProps, d4);
          else {
            if ("string" !== typeof d4 && null === b.stateNode) throw Error(p3(166));
            c3 = xh(wh.current);
            xh(uh.current);
            if (Gg(b)) {
              d4 = b.stateNode;
              c3 = b.memoizedProps;
              d4[Of] = b;
              if (f3 = d4.nodeValue !== c3) {
                if (a2 = xg, null !== a2) switch (a2.tag) {
                  case 3:
                    Af(d4.nodeValue, c3, 0 !== (a2.mode & 1));
                    break;
                  case 5:
                    true !== a2.memoizedProps.suppressHydrationWarning && Af(d4.nodeValue, c3, 0 !== (a2.mode & 1));
                }
              }
              f3 && (b.flags |= 4);
            } else d4 = (9 === c3.nodeType ? c3 : c3.ownerDocument).createTextNode(d4), d4[Of] = b, b.stateNode = d4;
          }
          S(b);
          return null;
        case 13:
          E(L);
          d4 = b.memoizedState;
          if (null === a2 || null !== a2.memoizedState && null !== a2.memoizedState.dehydrated) {
            if (I2 && null !== yg && 0 !== (b.mode & 1) && 0 === (b.flags & 128)) Hg(), Ig(), b.flags |= 98560, f3 = false;
            else if (f3 = Gg(b), null !== d4 && null !== d4.dehydrated) {
              if (null === a2) {
                if (!f3) throw Error(p3(318));
                f3 = b.memoizedState;
                f3 = null !== f3 ? f3.dehydrated : null;
                if (!f3) throw Error(p3(317));
                f3[Of] = b;
              } else Ig(), 0 === (b.flags & 128) && (b.memoizedState = null), b.flags |= 4;
              S(b);
              f3 = false;
            } else null !== zg && (Fj(zg), zg = null), f3 = true;
            if (!f3) return b.flags & 65536 ? b : null;
          }
          if (0 !== (b.flags & 128)) return b.lanes = c3, b;
          d4 = null !== d4;
          d4 !== (null !== a2 && null !== a2.memoizedState) && d4 && (b.child.flags |= 8192, 0 !== (b.mode & 1) && (null === a2 || 0 !== (L.current & 1) ? 0 === T && (T = 3) : tj()));
          null !== b.updateQueue && (b.flags |= 4);
          S(b);
          return null;
        case 4:
          return zh(), Aj(a2, b), null === a2 && sf(b.stateNode.containerInfo), S(b), null;
        case 10:
          return ah(b.type._context), S(b), null;
        case 17:
          return Zf(b.type) && $f(), S(b), null;
        case 19:
          E(L);
          f3 = b.memoizedState;
          if (null === f3) return S(b), null;
          d4 = 0 !== (b.flags & 128);
          g = f3.rendering;
          if (null === g) if (d4) Dj(f3, false);
          else {
            if (0 !== T || null !== a2 && 0 !== (a2.flags & 128)) for (a2 = b.child; null !== a2; ) {
              g = Ch(a2);
              if (null !== g) {
                b.flags |= 128;
                Dj(f3, false);
                d4 = g.updateQueue;
                null !== d4 && (b.updateQueue = d4, b.flags |= 4);
                b.subtreeFlags = 0;
                d4 = c3;
                for (c3 = b.child; null !== c3; ) f3 = c3, a2 = d4, f3.flags &= 14680066, g = f3.alternate, null === g ? (f3.childLanes = 0, f3.lanes = a2, f3.child = null, f3.subtreeFlags = 0, f3.memoizedProps = null, f3.memoizedState = null, f3.updateQueue = null, f3.dependencies = null, f3.stateNode = null) : (f3.childLanes = g.childLanes, f3.lanes = g.lanes, f3.child = g.child, f3.subtreeFlags = 0, f3.deletions = null, f3.memoizedProps = g.memoizedProps, f3.memoizedState = g.memoizedState, f3.updateQueue = g.updateQueue, f3.type = g.type, a2 = g.dependencies, f3.dependencies = null === a2 ? null : { lanes: a2.lanes, firstContext: a2.firstContext }), c3 = c3.sibling;
                G(L, L.current & 1 | 2);
                return b.child;
              }
              a2 = a2.sibling;
            }
            null !== f3.tail && B() > Gj && (b.flags |= 128, d4 = true, Dj(f3, false), b.lanes = 4194304);
          }
          else {
            if (!d4) if (a2 = Ch(g), null !== a2) {
              if (b.flags |= 128, d4 = true, c3 = a2.updateQueue, null !== c3 && (b.updateQueue = c3, b.flags |= 4), Dj(f3, true), null === f3.tail && "hidden" === f3.tailMode && !g.alternate && !I2) return S(b), null;
            } else 2 * B() - f3.renderingStartTime > Gj && 1073741824 !== c3 && (b.flags |= 128, d4 = true, Dj(f3, false), b.lanes = 4194304);
            f3.isBackwards ? (g.sibling = b.child, b.child = g) : (c3 = f3.last, null !== c3 ? c3.sibling = g : b.child = g, f3.last = g);
          }
          if (null !== f3.tail) return b = f3.tail, f3.rendering = b, f3.tail = b.sibling, f3.renderingStartTime = B(), b.sibling = null, c3 = L.current, G(L, d4 ? c3 & 1 | 2 : c3 & 1), b;
          S(b);
          return null;
        case 22:
        case 23:
          return Hj(), d4 = null !== b.memoizedState, null !== a2 && null !== a2.memoizedState !== d4 && (b.flags |= 8192), d4 && 0 !== (b.mode & 1) ? 0 !== (fj & 1073741824) && (S(b), b.subtreeFlags & 6 && (b.flags |= 8192)) : S(b), null;
        case 24:
          return null;
        case 25:
          return null;
      }
      throw Error(p3(156, b.tag));
    }
    function Ij(a2, b) {
      wg(b);
      switch (b.tag) {
        case 1:
          return Zf(b.type) && $f(), a2 = b.flags, a2 & 65536 ? (b.flags = a2 & -65537 | 128, b) : null;
        case 3:
          return zh(), E(Wf), E(H), Eh(), a2 = b.flags, 0 !== (a2 & 65536) && 0 === (a2 & 128) ? (b.flags = a2 & -65537 | 128, b) : null;
        case 5:
          return Bh(b), null;
        case 13:
          E(L);
          a2 = b.memoizedState;
          if (null !== a2 && null !== a2.dehydrated) {
            if (null === b.alternate) throw Error(p3(340));
            Ig();
          }
          a2 = b.flags;
          return a2 & 65536 ? (b.flags = a2 & -65537 | 128, b) : null;
        case 19:
          return E(L), null;
        case 4:
          return zh(), null;
        case 10:
          return ah(b.type._context), null;
        case 22:
        case 23:
          return Hj(), null;
        case 24:
          return null;
        default:
          return null;
      }
    }
    var Jj = false;
    var U = false;
    var Kj = "function" === typeof WeakSet ? WeakSet : Set;
    var V = null;
    function Lj(a2, b) {
      var c3 = a2.ref;
      if (null !== c3) if ("function" === typeof c3) try {
        c3(null);
      } catch (d4) {
        W(a2, b, d4);
      }
      else c3.current = null;
    }
    function Mj(a2, b, c3) {
      try {
        c3();
      } catch (d4) {
        W(a2, b, d4);
      }
    }
    var Nj = false;
    function Oj(a2, b) {
      Cf = dd;
      a2 = Me();
      if (Ne(a2)) {
        if ("selectionStart" in a2) var c3 = { start: a2.selectionStart, end: a2.selectionEnd };
        else a: {
          c3 = (c3 = a2.ownerDocument) && c3.defaultView || window;
          var d4 = c3.getSelection && c3.getSelection();
          if (d4 && 0 !== d4.rangeCount) {
            c3 = d4.anchorNode;
            var e3 = d4.anchorOffset, f3 = d4.focusNode;
            d4 = d4.focusOffset;
            try {
              c3.nodeType, f3.nodeType;
            } catch (F) {
              c3 = null;
              break a;
            }
            var g = 0, h2 = -1, k = -1, l3 = 0, m = 0, q = a2, r3 = null;
            b: for (; ; ) {
              for (var y2; ; ) {
                q !== c3 || 0 !== e3 && 3 !== q.nodeType || (h2 = g + e3);
                q !== f3 || 0 !== d4 && 3 !== q.nodeType || (k = g + d4);
                3 === q.nodeType && (g += q.nodeValue.length);
                if (null === (y2 = q.firstChild)) break;
                r3 = q;
                q = y2;
              }
              for (; ; ) {
                if (q === a2) break b;
                r3 === c3 && ++l3 === e3 && (h2 = g);
                r3 === f3 && ++m === d4 && (k = g);
                if (null !== (y2 = q.nextSibling)) break;
                q = r3;
                r3 = q.parentNode;
              }
              q = y2;
            }
            c3 = -1 === h2 || -1 === k ? null : { start: h2, end: k };
          } else c3 = null;
        }
        c3 = c3 || { start: 0, end: 0 };
      } else c3 = null;
      Df = { focusedElem: a2, selectionRange: c3 };
      dd = false;
      for (V = b; null !== V; ) if (b = V, a2 = b.child, 0 !== (b.subtreeFlags & 1028) && null !== a2) a2.return = b, V = a2;
      else for (; null !== V; ) {
        b = V;
        try {
          var n2 = b.alternate;
          if (0 !== (b.flags & 1024)) switch (b.tag) {
            case 0:
            case 11:
            case 15:
              break;
            case 1:
              if (null !== n2) {
                var t2 = n2.memoizedProps, J = n2.memoizedState, x = b.stateNode, w = x.getSnapshotBeforeUpdate(b.elementType === b.type ? t2 : Ci(b.type, t2), J);
                x.__reactInternalSnapshotBeforeUpdate = w;
              }
              break;
            case 3:
              var u3 = b.stateNode.containerInfo;
              1 === u3.nodeType ? u3.textContent = "" : 9 === u3.nodeType && u3.documentElement && u3.removeChild(u3.documentElement);
              break;
            case 5:
            case 6:
            case 4:
            case 17:
              break;
            default:
              throw Error(p3(163));
          }
        } catch (F) {
          W(b, b.return, F);
        }
        a2 = b.sibling;
        if (null !== a2) {
          a2.return = b.return;
          V = a2;
          break;
        }
        V = b.return;
      }
      n2 = Nj;
      Nj = false;
      return n2;
    }
    function Pj(a2, b, c3) {
      var d4 = b.updateQueue;
      d4 = null !== d4 ? d4.lastEffect : null;
      if (null !== d4) {
        var e3 = d4 = d4.next;
        do {
          if ((e3.tag & a2) === a2) {
            var f3 = e3.destroy;
            e3.destroy = void 0;
            void 0 !== f3 && Mj(b, c3, f3);
          }
          e3 = e3.next;
        } while (e3 !== d4);
      }
    }
    function Qj(a2, b) {
      b = b.updateQueue;
      b = null !== b ? b.lastEffect : null;
      if (null !== b) {
        var c3 = b = b.next;
        do {
          if ((c3.tag & a2) === a2) {
            var d4 = c3.create;
            c3.destroy = d4();
          }
          c3 = c3.next;
        } while (c3 !== b);
      }
    }
    function Rj(a2) {
      var b = a2.ref;
      if (null !== b) {
        var c3 = a2.stateNode;
        switch (a2.tag) {
          case 5:
            a2 = c3;
            break;
          default:
            a2 = c3;
        }
        "function" === typeof b ? b(a2) : b.current = a2;
      }
    }
    function Sj(a2) {
      var b = a2.alternate;
      null !== b && (a2.alternate = null, Sj(b));
      a2.child = null;
      a2.deletions = null;
      a2.sibling = null;
      5 === a2.tag && (b = a2.stateNode, null !== b && (delete b[Of], delete b[Pf], delete b[of], delete b[Qf], delete b[Rf]));
      a2.stateNode = null;
      a2.return = null;
      a2.dependencies = null;
      a2.memoizedProps = null;
      a2.memoizedState = null;
      a2.pendingProps = null;
      a2.stateNode = null;
      a2.updateQueue = null;
    }
    function Tj(a2) {
      return 5 === a2.tag || 3 === a2.tag || 4 === a2.tag;
    }
    function Uj(a2) {
      a: for (; ; ) {
        for (; null === a2.sibling; ) {
          if (null === a2.return || Tj(a2.return)) return null;
          a2 = a2.return;
        }
        a2.sibling.return = a2.return;
        for (a2 = a2.sibling; 5 !== a2.tag && 6 !== a2.tag && 18 !== a2.tag; ) {
          if (a2.flags & 2) continue a;
          if (null === a2.child || 4 === a2.tag) continue a;
          else a2.child.return = a2, a2 = a2.child;
        }
        if (!(a2.flags & 2)) return a2.stateNode;
      }
    }
    function Vj(a2, b, c3) {
      var d4 = a2.tag;
      if (5 === d4 || 6 === d4) a2 = a2.stateNode, b ? 8 === c3.nodeType ? c3.parentNode.insertBefore(a2, b) : c3.insertBefore(a2, b) : (8 === c3.nodeType ? (b = c3.parentNode, b.insertBefore(a2, c3)) : (b = c3, b.appendChild(a2)), c3 = c3._reactRootContainer, null !== c3 && void 0 !== c3 || null !== b.onclick || (b.onclick = Bf));
      else if (4 !== d4 && (a2 = a2.child, null !== a2)) for (Vj(a2, b, c3), a2 = a2.sibling; null !== a2; ) Vj(a2, b, c3), a2 = a2.sibling;
    }
    function Wj(a2, b, c3) {
      var d4 = a2.tag;
      if (5 === d4 || 6 === d4) a2 = a2.stateNode, b ? c3.insertBefore(a2, b) : c3.appendChild(a2);
      else if (4 !== d4 && (a2 = a2.child, null !== a2)) for (Wj(a2, b, c3), a2 = a2.sibling; null !== a2; ) Wj(a2, b, c3), a2 = a2.sibling;
    }
    var X = null;
    var Xj = false;
    function Yj(a2, b, c3) {
      for (c3 = c3.child; null !== c3; ) Zj(a2, b, c3), c3 = c3.sibling;
    }
    function Zj(a2, b, c3) {
      if (lc && "function" === typeof lc.onCommitFiberUnmount) try {
        lc.onCommitFiberUnmount(kc, c3);
      } catch (h2) {
      }
      switch (c3.tag) {
        case 5:
          U || Lj(c3, b);
        case 6:
          var d4 = X, e3 = Xj;
          X = null;
          Yj(a2, b, c3);
          X = d4;
          Xj = e3;
          null !== X && (Xj ? (a2 = X, c3 = c3.stateNode, 8 === a2.nodeType ? a2.parentNode.removeChild(c3) : a2.removeChild(c3)) : X.removeChild(c3.stateNode));
          break;
        case 18:
          null !== X && (Xj ? (a2 = X, c3 = c3.stateNode, 8 === a2.nodeType ? Kf(a2.parentNode, c3) : 1 === a2.nodeType && Kf(a2, c3), bd(a2)) : Kf(X, c3.stateNode));
          break;
        case 4:
          d4 = X;
          e3 = Xj;
          X = c3.stateNode.containerInfo;
          Xj = true;
          Yj(a2, b, c3);
          X = d4;
          Xj = e3;
          break;
        case 0:
        case 11:
        case 14:
        case 15:
          if (!U && (d4 = c3.updateQueue, null !== d4 && (d4 = d4.lastEffect, null !== d4))) {
            e3 = d4 = d4.next;
            do {
              var f3 = e3, g = f3.destroy;
              f3 = f3.tag;
              void 0 !== g && (0 !== (f3 & 2) ? Mj(c3, b, g) : 0 !== (f3 & 4) && Mj(c3, b, g));
              e3 = e3.next;
            } while (e3 !== d4);
          }
          Yj(a2, b, c3);
          break;
        case 1:
          if (!U && (Lj(c3, b), d4 = c3.stateNode, "function" === typeof d4.componentWillUnmount)) try {
            d4.props = c3.memoizedProps, d4.state = c3.memoizedState, d4.componentWillUnmount();
          } catch (h2) {
            W(c3, b, h2);
          }
          Yj(a2, b, c3);
          break;
        case 21:
          Yj(a2, b, c3);
          break;
        case 22:
          c3.mode & 1 ? (U = (d4 = U) || null !== c3.memoizedState, Yj(a2, b, c3), U = d4) : Yj(a2, b, c3);
          break;
        default:
          Yj(a2, b, c3);
      }
    }
    function ak(a2) {
      var b = a2.updateQueue;
      if (null !== b) {
        a2.updateQueue = null;
        var c3 = a2.stateNode;
        null === c3 && (c3 = a2.stateNode = new Kj());
        b.forEach(function(b2) {
          var d4 = bk.bind(null, a2, b2);
          c3.has(b2) || (c3.add(b2), b2.then(d4, d4));
        });
      }
    }
    function ck(a2, b) {
      var c3 = b.deletions;
      if (null !== c3) for (var d4 = 0; d4 < c3.length; d4++) {
        var e3 = c3[d4];
        try {
          var f3 = a2, g = b, h2 = g;
          a: for (; null !== h2; ) {
            switch (h2.tag) {
              case 5:
                X = h2.stateNode;
                Xj = false;
                break a;
              case 3:
                X = h2.stateNode.containerInfo;
                Xj = true;
                break a;
              case 4:
                X = h2.stateNode.containerInfo;
                Xj = true;
                break a;
            }
            h2 = h2.return;
          }
          if (null === X) throw Error(p3(160));
          Zj(f3, g, e3);
          X = null;
          Xj = false;
          var k = e3.alternate;
          null !== k && (k.return = null);
          e3.return = null;
        } catch (l3) {
          W(e3, b, l3);
        }
      }
      if (b.subtreeFlags & 12854) for (b = b.child; null !== b; ) dk(b, a2), b = b.sibling;
    }
    function dk(a2, b) {
      var c3 = a2.alternate, d4 = a2.flags;
      switch (a2.tag) {
        case 0:
        case 11:
        case 14:
        case 15:
          ck(b, a2);
          ek(a2);
          if (d4 & 4) {
            try {
              Pj(3, a2, a2.return), Qj(3, a2);
            } catch (t2) {
              W(a2, a2.return, t2);
            }
            try {
              Pj(5, a2, a2.return);
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          break;
        case 1:
          ck(b, a2);
          ek(a2);
          d4 & 512 && null !== c3 && Lj(c3, c3.return);
          break;
        case 5:
          ck(b, a2);
          ek(a2);
          d4 & 512 && null !== c3 && Lj(c3, c3.return);
          if (a2.flags & 32) {
            var e3 = a2.stateNode;
            try {
              ob(e3, "");
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          if (d4 & 4 && (e3 = a2.stateNode, null != e3)) {
            var f3 = a2.memoizedProps, g = null !== c3 ? c3.memoizedProps : f3, h2 = a2.type, k = a2.updateQueue;
            a2.updateQueue = null;
            if (null !== k) try {
              "input" === h2 && "radio" === f3.type && null != f3.name && ab(e3, f3);
              vb(h2, g);
              var l3 = vb(h2, f3);
              for (g = 0; g < k.length; g += 2) {
                var m = k[g], q = k[g + 1];
                "style" === m ? sb(e3, q) : "dangerouslySetInnerHTML" === m ? nb(e3, q) : "children" === m ? ob(e3, q) : ta(e3, m, q, l3);
              }
              switch (h2) {
                case "input":
                  bb(e3, f3);
                  break;
                case "textarea":
                  ib(e3, f3);
                  break;
                case "select":
                  var r3 = e3._wrapperState.wasMultiple;
                  e3._wrapperState.wasMultiple = !!f3.multiple;
                  var y2 = f3.value;
                  null != y2 ? fb(e3, !!f3.multiple, y2, false) : r3 !== !!f3.multiple && (null != f3.defaultValue ? fb(
                    e3,
                    !!f3.multiple,
                    f3.defaultValue,
                    true
                  ) : fb(e3, !!f3.multiple, f3.multiple ? [] : "", false));
              }
              e3[Pf] = f3;
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          break;
        case 6:
          ck(b, a2);
          ek(a2);
          if (d4 & 4) {
            if (null === a2.stateNode) throw Error(p3(162));
            e3 = a2.stateNode;
            f3 = a2.memoizedProps;
            try {
              e3.nodeValue = f3;
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          break;
        case 3:
          ck(b, a2);
          ek(a2);
          if (d4 & 4 && null !== c3 && c3.memoizedState.isDehydrated) try {
            bd(b.containerInfo);
          } catch (t2) {
            W(a2, a2.return, t2);
          }
          break;
        case 4:
          ck(b, a2);
          ek(a2);
          break;
        case 13:
          ck(b, a2);
          ek(a2);
          e3 = a2.child;
          e3.flags & 8192 && (f3 = null !== e3.memoizedState, e3.stateNode.isHidden = f3, !f3 || null !== e3.alternate && null !== e3.alternate.memoizedState || (fk = B()));
          d4 & 4 && ak(a2);
          break;
        case 22:
          m = null !== c3 && null !== c3.memoizedState;
          a2.mode & 1 ? (U = (l3 = U) || m, ck(b, a2), U = l3) : ck(b, a2);
          ek(a2);
          if (d4 & 8192) {
            l3 = null !== a2.memoizedState;
            if ((a2.stateNode.isHidden = l3) && !m && 0 !== (a2.mode & 1)) for (V = a2, m = a2.child; null !== m; ) {
              for (q = V = m; null !== V; ) {
                r3 = V;
                y2 = r3.child;
                switch (r3.tag) {
                  case 0:
                  case 11:
                  case 14:
                  case 15:
                    Pj(4, r3, r3.return);
                    break;
                  case 1:
                    Lj(r3, r3.return);
                    var n2 = r3.stateNode;
                    if ("function" === typeof n2.componentWillUnmount) {
                      d4 = r3;
                      c3 = r3.return;
                      try {
                        b = d4, n2.props = b.memoizedProps, n2.state = b.memoizedState, n2.componentWillUnmount();
                      } catch (t2) {
                        W(d4, c3, t2);
                      }
                    }
                    break;
                  case 5:
                    Lj(r3, r3.return);
                    break;
                  case 22:
                    if (null !== r3.memoizedState) {
                      gk(q);
                      continue;
                    }
                }
                null !== y2 ? (y2.return = r3, V = y2) : gk(q);
              }
              m = m.sibling;
            }
            a: for (m = null, q = a2; ; ) {
              if (5 === q.tag) {
                if (null === m) {
                  m = q;
                  try {
                    e3 = q.stateNode, l3 ? (f3 = e3.style, "function" === typeof f3.setProperty ? f3.setProperty("display", "none", "important") : f3.display = "none") : (h2 = q.stateNode, k = q.memoizedProps.style, g = void 0 !== k && null !== k && k.hasOwnProperty("display") ? k.display : null, h2.style.display = rb("display", g));
                  } catch (t2) {
                    W(a2, a2.return, t2);
                  }
                }
              } else if (6 === q.tag) {
                if (null === m) try {
                  q.stateNode.nodeValue = l3 ? "" : q.memoizedProps;
                } catch (t2) {
                  W(a2, a2.return, t2);
                }
              } else if ((22 !== q.tag && 23 !== q.tag || null === q.memoizedState || q === a2) && null !== q.child) {
                q.child.return = q;
                q = q.child;
                continue;
              }
              if (q === a2) break a;
              for (; null === q.sibling; ) {
                if (null === q.return || q.return === a2) break a;
                m === q && (m = null);
                q = q.return;
              }
              m === q && (m = null);
              q.sibling.return = q.return;
              q = q.sibling;
            }
          }
          break;
        case 19:
          ck(b, a2);
          ek(a2);
          d4 & 4 && ak(a2);
          break;
        case 21:
          break;
        default:
          ck(
            b,
            a2
          ), ek(a2);
      }
    }
    function ek(a2) {
      var b = a2.flags;
      if (b & 2) {
        try {
          a: {
            for (var c3 = a2.return; null !== c3; ) {
              if (Tj(c3)) {
                var d4 = c3;
                break a;
              }
              c3 = c3.return;
            }
            throw Error(p3(160));
          }
          switch (d4.tag) {
            case 5:
              var e3 = d4.stateNode;
              d4.flags & 32 && (ob(e3, ""), d4.flags &= -33);
              var f3 = Uj(a2);
              Wj(a2, f3, e3);
              break;
            case 3:
            case 4:
              var g = d4.stateNode.containerInfo, h2 = Uj(a2);
              Vj(a2, h2, g);
              break;
            default:
              throw Error(p3(161));
          }
        } catch (k) {
          W(a2, a2.return, k);
        }
        a2.flags &= -3;
      }
      b & 4096 && (a2.flags &= -4097);
    }
    function hk(a2, b, c3) {
      V = a2;
      ik(a2, b, c3);
    }
    function ik(a2, b, c3) {
      for (var d4 = 0 !== (a2.mode & 1); null !== V; ) {
        var e3 = V, f3 = e3.child;
        if (22 === e3.tag && d4) {
          var g = null !== e3.memoizedState || Jj;
          if (!g) {
            var h2 = e3.alternate, k = null !== h2 && null !== h2.memoizedState || U;
            h2 = Jj;
            var l3 = U;
            Jj = g;
            if ((U = k) && !l3) for (V = e3; null !== V; ) g = V, k = g.child, 22 === g.tag && null !== g.memoizedState ? jk(e3) : null !== k ? (k.return = g, V = k) : jk(e3);
            for (; null !== f3; ) V = f3, ik(f3, b, c3), f3 = f3.sibling;
            V = e3;
            Jj = h2;
            U = l3;
          }
          kk(a2, b, c3);
        } else 0 !== (e3.subtreeFlags & 8772) && null !== f3 ? (f3.return = e3, V = f3) : kk(a2, b, c3);
      }
    }
    function kk(a2) {
      for (; null !== V; ) {
        var b = V;
        if (0 !== (b.flags & 8772)) {
          var c3 = b.alternate;
          try {
            if (0 !== (b.flags & 8772)) switch (b.tag) {
              case 0:
              case 11:
              case 15:
                U || Qj(5, b);
                break;
              case 1:
                var d4 = b.stateNode;
                if (b.flags & 4 && !U) if (null === c3) d4.componentDidMount();
                else {
                  var e3 = b.elementType === b.type ? c3.memoizedProps : Ci(b.type, c3.memoizedProps);
                  d4.componentDidUpdate(e3, c3.memoizedState, d4.__reactInternalSnapshotBeforeUpdate);
                }
                var f3 = b.updateQueue;
                null !== f3 && sh(b, f3, d4);
                break;
              case 3:
                var g = b.updateQueue;
                if (null !== g) {
                  c3 = null;
                  if (null !== b.child) switch (b.child.tag) {
                    case 5:
                      c3 = b.child.stateNode;
                      break;
                    case 1:
                      c3 = b.child.stateNode;
                  }
                  sh(b, g, c3);
                }
                break;
              case 5:
                var h2 = b.stateNode;
                if (null === c3 && b.flags & 4) {
                  c3 = h2;
                  var k = b.memoizedProps;
                  switch (b.type) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                      k.autoFocus && c3.focus();
                      break;
                    case "img":
                      k.src && (c3.src = k.src);
                  }
                }
                break;
              case 6:
                break;
              case 4:
                break;
              case 12:
                break;
              case 13:
                if (null === b.memoizedState) {
                  var l3 = b.alternate;
                  if (null !== l3) {
                    var m = l3.memoizedState;
                    if (null !== m) {
                      var q = m.dehydrated;
                      null !== q && bd(q);
                    }
                  }
                }
                break;
              case 19:
              case 17:
              case 21:
              case 22:
              case 23:
              case 25:
                break;
              default:
                throw Error(p3(163));
            }
            U || b.flags & 512 && Rj(b);
          } catch (r3) {
            W(b, b.return, r3);
          }
        }
        if (b === a2) {
          V = null;
          break;
        }
        c3 = b.sibling;
        if (null !== c3) {
          c3.return = b.return;
          V = c3;
          break;
        }
        V = b.return;
      }
    }
    function gk(a2) {
      for (; null !== V; ) {
        var b = V;
        if (b === a2) {
          V = null;
          break;
        }
        var c3 = b.sibling;
        if (null !== c3) {
          c3.return = b.return;
          V = c3;
          break;
        }
        V = b.return;
      }
    }
    function jk(a2) {
      for (; null !== V; ) {
        var b = V;
        try {
          switch (b.tag) {
            case 0:
            case 11:
            case 15:
              var c3 = b.return;
              try {
                Qj(4, b);
              } catch (k) {
                W(b, c3, k);
              }
              break;
            case 1:
              var d4 = b.stateNode;
              if ("function" === typeof d4.componentDidMount) {
                var e3 = b.return;
                try {
                  d4.componentDidMount();
                } catch (k) {
                  W(b, e3, k);
                }
              }
              var f3 = b.return;
              try {
                Rj(b);
              } catch (k) {
                W(b, f3, k);
              }
              break;
            case 5:
              var g = b.return;
              try {
                Rj(b);
              } catch (k) {
                W(b, g, k);
              }
          }
        } catch (k) {
          W(b, b.return, k);
        }
        if (b === a2) {
          V = null;
          break;
        }
        var h2 = b.sibling;
        if (null !== h2) {
          h2.return = b.return;
          V = h2;
          break;
        }
        V = b.return;
      }
    }
    var lk = Math.ceil;
    var mk = ua.ReactCurrentDispatcher;
    var nk = ua.ReactCurrentOwner;
    var ok = ua.ReactCurrentBatchConfig;
    var K = 0;
    var Q2 = null;
    var Y = null;
    var Z = 0;
    var fj = 0;
    var ej = Uf(0);
    var T = 0;
    var pk = null;
    var rh = 0;
    var qk = 0;
    var rk = 0;
    var sk = null;
    var tk = null;
    var fk = 0;
    var Gj = Infinity;
    var uk = null;
    var Oi = false;
    var Pi = null;
    var Ri = null;
    var vk = false;
    var wk = null;
    var xk = 0;
    var yk = 0;
    var zk = null;
    var Ak = -1;
    var Bk = 0;
    function R() {
      return 0 !== (K & 6) ? B() : -1 !== Ak ? Ak : Ak = B();
    }
    function yi(a2) {
      if (0 === (a2.mode & 1)) return 1;
      if (0 !== (K & 2) && 0 !== Z) return Z & -Z;
      if (null !== Kg.transition) return 0 === Bk && (Bk = yc()), Bk;
      a2 = C2;
      if (0 !== a2) return a2;
      a2 = window.event;
      a2 = void 0 === a2 ? 16 : jd(a2.type);
      return a2;
    }
    function gi(a2, b, c3, d4) {
      if (50 < yk) throw yk = 0, zk = null, Error(p3(185));
      Ac(a2, c3, d4);
      if (0 === (K & 2) || a2 !== Q2) a2 === Q2 && (0 === (K & 2) && (qk |= c3), 4 === T && Ck(a2, Z)), Dk(a2, d4), 1 === c3 && 0 === K && 0 === (b.mode & 1) && (Gj = B() + 500, fg && jg());
    }
    function Dk(a2, b) {
      var c3 = a2.callbackNode;
      wc(a2, b);
      var d4 = uc(a2, a2 === Q2 ? Z : 0);
      if (0 === d4) null !== c3 && bc(c3), a2.callbackNode = null, a2.callbackPriority = 0;
      else if (b = d4 & -d4, a2.callbackPriority !== b) {
        null != c3 && bc(c3);
        if (1 === b) 0 === a2.tag ? ig(Ek.bind(null, a2)) : hg(Ek.bind(null, a2)), Jf(function() {
          0 === (K & 6) && jg();
        }), c3 = null;
        else {
          switch (Dc(d4)) {
            case 1:
              c3 = fc;
              break;
            case 4:
              c3 = gc;
              break;
            case 16:
              c3 = hc;
              break;
            case 536870912:
              c3 = jc;
              break;
            default:
              c3 = hc;
          }
          c3 = Fk(c3, Gk.bind(null, a2));
        }
        a2.callbackPriority = b;
        a2.callbackNode = c3;
      }
    }
    function Gk(a2, b) {
      Ak = -1;
      Bk = 0;
      if (0 !== (K & 6)) throw Error(p3(327));
      var c3 = a2.callbackNode;
      if (Hk() && a2.callbackNode !== c3) return null;
      var d4 = uc(a2, a2 === Q2 ? Z : 0);
      if (0 === d4) return null;
      if (0 !== (d4 & 30) || 0 !== (d4 & a2.expiredLanes) || b) b = Ik(a2, d4);
      else {
        b = d4;
        var e3 = K;
        K |= 2;
        var f3 = Jk();
        if (Q2 !== a2 || Z !== b) uk = null, Gj = B() + 500, Kk(a2, b);
        do
          try {
            Lk();
            break;
          } catch (h2) {
            Mk(a2, h2);
          }
        while (1);
        $g();
        mk.current = f3;
        K = e3;
        null !== Y ? b = 0 : (Q2 = null, Z = 0, b = T);
      }
      if (0 !== b) {
        2 === b && (e3 = xc(a2), 0 !== e3 && (d4 = e3, b = Nk(a2, e3)));
        if (1 === b) throw c3 = pk, Kk(a2, 0), Ck(a2, d4), Dk(a2, B()), c3;
        if (6 === b) Ck(a2, d4);
        else {
          e3 = a2.current.alternate;
          if (0 === (d4 & 30) && !Ok(e3) && (b = Ik(a2, d4), 2 === b && (f3 = xc(a2), 0 !== f3 && (d4 = f3, b = Nk(a2, f3))), 1 === b)) throw c3 = pk, Kk(a2, 0), Ck(a2, d4), Dk(a2, B()), c3;
          a2.finishedWork = e3;
          a2.finishedLanes = d4;
          switch (b) {
            case 0:
            case 1:
              throw Error(p3(345));
            case 2:
              Pk(a2, tk, uk);
              break;
            case 3:
              Ck(a2, d4);
              if ((d4 & 130023424) === d4 && (b = fk + 500 - B(), 10 < b)) {
                if (0 !== uc(a2, 0)) break;
                e3 = a2.suspendedLanes;
                if ((e3 & d4) !== d4) {
                  R();
                  a2.pingedLanes |= a2.suspendedLanes & e3;
                  break;
                }
                a2.timeoutHandle = Ff(Pk.bind(null, a2, tk, uk), b);
                break;
              }
              Pk(a2, tk, uk);
              break;
            case 4:
              Ck(a2, d4);
              if ((d4 & 4194240) === d4) break;
              b = a2.eventTimes;
              for (e3 = -1; 0 < d4; ) {
                var g = 31 - oc(d4);
                f3 = 1 << g;
                g = b[g];
                g > e3 && (e3 = g);
                d4 &= ~f3;
              }
              d4 = e3;
              d4 = B() - d4;
              d4 = (120 > d4 ? 120 : 480 > d4 ? 480 : 1080 > d4 ? 1080 : 1920 > d4 ? 1920 : 3e3 > d4 ? 3e3 : 4320 > d4 ? 4320 : 1960 * lk(d4 / 1960)) - d4;
              if (10 < d4) {
                a2.timeoutHandle = Ff(Pk.bind(null, a2, tk, uk), d4);
                break;
              }
              Pk(a2, tk, uk);
              break;
            case 5:
              Pk(a2, tk, uk);
              break;
            default:
              throw Error(p3(329));
          }
        }
      }
      Dk(a2, B());
      return a2.callbackNode === c3 ? Gk.bind(null, a2) : null;
    }
    function Nk(a2, b) {
      var c3 = sk;
      a2.current.memoizedState.isDehydrated && (Kk(a2, b).flags |= 256);
      a2 = Ik(a2, b);
      2 !== a2 && (b = tk, tk = c3, null !== b && Fj(b));
      return a2;
    }
    function Fj(a2) {
      null === tk ? tk = a2 : tk.push.apply(tk, a2);
    }
    function Ok(a2) {
      for (var b = a2; ; ) {
        if (b.flags & 16384) {
          var c3 = b.updateQueue;
          if (null !== c3 && (c3 = c3.stores, null !== c3)) for (var d4 = 0; d4 < c3.length; d4++) {
            var e3 = c3[d4], f3 = e3.getSnapshot;
            e3 = e3.value;
            try {
              if (!He(f3(), e3)) return false;
            } catch (g) {
              return false;
            }
          }
        }
        c3 = b.child;
        if (b.subtreeFlags & 16384 && null !== c3) c3.return = b, b = c3;
        else {
          if (b === a2) break;
          for (; null === b.sibling; ) {
            if (null === b.return || b.return === a2) return true;
            b = b.return;
          }
          b.sibling.return = b.return;
          b = b.sibling;
        }
      }
      return true;
    }
    function Ck(a2, b) {
      b &= ~rk;
      b &= ~qk;
      a2.suspendedLanes |= b;
      a2.pingedLanes &= ~b;
      for (a2 = a2.expirationTimes; 0 < b; ) {
        var c3 = 31 - oc(b), d4 = 1 << c3;
        a2[c3] = -1;
        b &= ~d4;
      }
    }
    function Ek(a2) {
      if (0 !== (K & 6)) throw Error(p3(327));
      Hk();
      var b = uc(a2, 0);
      if (0 === (b & 1)) return Dk(a2, B()), null;
      var c3 = Ik(a2, b);
      if (0 !== a2.tag && 2 === c3) {
        var d4 = xc(a2);
        0 !== d4 && (b = d4, c3 = Nk(a2, d4));
      }
      if (1 === c3) throw c3 = pk, Kk(a2, 0), Ck(a2, b), Dk(a2, B()), c3;
      if (6 === c3) throw Error(p3(345));
      a2.finishedWork = a2.current.alternate;
      a2.finishedLanes = b;
      Pk(a2, tk, uk);
      Dk(a2, B());
      return null;
    }
    function Qk(a2, b) {
      var c3 = K;
      K |= 1;
      try {
        return a2(b);
      } finally {
        K = c3, 0 === K && (Gj = B() + 500, fg && jg());
      }
    }
    function Rk(a2) {
      null !== wk && 0 === wk.tag && 0 === (K & 6) && Hk();
      var b = K;
      K |= 1;
      var c3 = ok.transition, d4 = C2;
      try {
        if (ok.transition = null, C2 = 1, a2) return a2();
      } finally {
        C2 = d4, ok.transition = c3, K = b, 0 === (K & 6) && jg();
      }
    }
    function Hj() {
      fj = ej.current;
      E(ej);
    }
    function Kk(a2, b) {
      a2.finishedWork = null;
      a2.finishedLanes = 0;
      var c3 = a2.timeoutHandle;
      -1 !== c3 && (a2.timeoutHandle = -1, Gf(c3));
      if (null !== Y) for (c3 = Y.return; null !== c3; ) {
        var d4 = c3;
        wg(d4);
        switch (d4.tag) {
          case 1:
            d4 = d4.type.childContextTypes;
            null !== d4 && void 0 !== d4 && $f();
            break;
          case 3:
            zh();
            E(Wf);
            E(H);
            Eh();
            break;
          case 5:
            Bh(d4);
            break;
          case 4:
            zh();
            break;
          case 13:
            E(L);
            break;
          case 19:
            E(L);
            break;
          case 10:
            ah(d4.type._context);
            break;
          case 22:
          case 23:
            Hj();
        }
        c3 = c3.return;
      }
      Q2 = a2;
      Y = a2 = Pg(a2.current, null);
      Z = fj = b;
      T = 0;
      pk = null;
      rk = qk = rh = 0;
      tk = sk = null;
      if (null !== fh) {
        for (b = 0; b < fh.length; b++) if (c3 = fh[b], d4 = c3.interleaved, null !== d4) {
          c3.interleaved = null;
          var e3 = d4.next, f3 = c3.pending;
          if (null !== f3) {
            var g = f3.next;
            f3.next = e3;
            d4.next = g;
          }
          c3.pending = d4;
        }
        fh = null;
      }
      return a2;
    }
    function Mk(a2, b) {
      do {
        var c3 = Y;
        try {
          $g();
          Fh.current = Rh;
          if (Ih) {
            for (var d4 = M.memoizedState; null !== d4; ) {
              var e3 = d4.queue;
              null !== e3 && (e3.pending = null);
              d4 = d4.next;
            }
            Ih = false;
          }
          Hh = 0;
          O = N = M = null;
          Jh = false;
          Kh = 0;
          nk.current = null;
          if (null === c3 || null === c3.return) {
            T = 1;
            pk = b;
            Y = null;
            break;
          }
          a: {
            var f3 = a2, g = c3.return, h2 = c3, k = b;
            b = Z;
            h2.flags |= 32768;
            if (null !== k && "object" === typeof k && "function" === typeof k.then) {
              var l3 = k, m = h2, q = m.tag;
              if (0 === (m.mode & 1) && (0 === q || 11 === q || 15 === q)) {
                var r3 = m.alternate;
                r3 ? (m.updateQueue = r3.updateQueue, m.memoizedState = r3.memoizedState, m.lanes = r3.lanes) : (m.updateQueue = null, m.memoizedState = null);
              }
              var y2 = Ui(g);
              if (null !== y2) {
                y2.flags &= -257;
                Vi(y2, g, h2, f3, b);
                y2.mode & 1 && Si(f3, l3, b);
                b = y2;
                k = l3;
                var n2 = b.updateQueue;
                if (null === n2) {
                  var t2 = /* @__PURE__ */ new Set();
                  t2.add(k);
                  b.updateQueue = t2;
                } else n2.add(k);
                break a;
              } else {
                if (0 === (b & 1)) {
                  Si(f3, l3, b);
                  tj();
                  break a;
                }
                k = Error(p3(426));
              }
            } else if (I2 && h2.mode & 1) {
              var J = Ui(g);
              if (null !== J) {
                0 === (J.flags & 65536) && (J.flags |= 256);
                Vi(J, g, h2, f3, b);
                Jg(Ji(k, h2));
                break a;
              }
            }
            f3 = k = Ji(k, h2);
            4 !== T && (T = 2);
            null === sk ? sk = [f3] : sk.push(f3);
            f3 = g;
            do {
              switch (f3.tag) {
                case 3:
                  f3.flags |= 65536;
                  b &= -b;
                  f3.lanes |= b;
                  var x = Ni(f3, k, b);
                  ph(f3, x);
                  break a;
                case 1:
                  h2 = k;
                  var w = f3.type, u3 = f3.stateNode;
                  if (0 === (f3.flags & 128) && ("function" === typeof w.getDerivedStateFromError || null !== u3 && "function" === typeof u3.componentDidCatch && (null === Ri || !Ri.has(u3)))) {
                    f3.flags |= 65536;
                    b &= -b;
                    f3.lanes |= b;
                    var F = Qi(f3, h2, b);
                    ph(f3, F);
                    break a;
                  }
              }
              f3 = f3.return;
            } while (null !== f3);
          }
          Sk(c3);
        } catch (na) {
          b = na;
          Y === c3 && null !== c3 && (Y = c3 = c3.return);
          continue;
        }
        break;
      } while (1);
    }
    function Jk() {
      var a2 = mk.current;
      mk.current = Rh;
      return null === a2 ? Rh : a2;
    }
    function tj() {
      if (0 === T || 3 === T || 2 === T) T = 4;
      null === Q2 || 0 === (rh & 268435455) && 0 === (qk & 268435455) || Ck(Q2, Z);
    }
    function Ik(a2, b) {
      var c3 = K;
      K |= 2;
      var d4 = Jk();
      if (Q2 !== a2 || Z !== b) uk = null, Kk(a2, b);
      do
        try {
          Tk();
          break;
        } catch (e3) {
          Mk(a2, e3);
        }
      while (1);
      $g();
      K = c3;
      mk.current = d4;
      if (null !== Y) throw Error(p3(261));
      Q2 = null;
      Z = 0;
      return T;
    }
    function Tk() {
      for (; null !== Y; ) Uk(Y);
    }
    function Lk() {
      for (; null !== Y && !cc(); ) Uk(Y);
    }
    function Uk(a2) {
      var b = Vk(a2.alternate, a2, fj);
      a2.memoizedProps = a2.pendingProps;
      null === b ? Sk(a2) : Y = b;
      nk.current = null;
    }
    function Sk(a2) {
      var b = a2;
      do {
        var c3 = b.alternate;
        a2 = b.return;
        if (0 === (b.flags & 32768)) {
          if (c3 = Ej(c3, b, fj), null !== c3) {
            Y = c3;
            return;
          }
        } else {
          c3 = Ij(c3, b);
          if (null !== c3) {
            c3.flags &= 32767;
            Y = c3;
            return;
          }
          if (null !== a2) a2.flags |= 32768, a2.subtreeFlags = 0, a2.deletions = null;
          else {
            T = 6;
            Y = null;
            return;
          }
        }
        b = b.sibling;
        if (null !== b) {
          Y = b;
          return;
        }
        Y = b = a2;
      } while (null !== b);
      0 === T && (T = 5);
    }
    function Pk(a2, b, c3) {
      var d4 = C2, e3 = ok.transition;
      try {
        ok.transition = null, C2 = 1, Wk(a2, b, c3, d4);
      } finally {
        ok.transition = e3, C2 = d4;
      }
      return null;
    }
    function Wk(a2, b, c3, d4) {
      do
        Hk();
      while (null !== wk);
      if (0 !== (K & 6)) throw Error(p3(327));
      c3 = a2.finishedWork;
      var e3 = a2.finishedLanes;
      if (null === c3) return null;
      a2.finishedWork = null;
      a2.finishedLanes = 0;
      if (c3 === a2.current) throw Error(p3(177));
      a2.callbackNode = null;
      a2.callbackPriority = 0;
      var f3 = c3.lanes | c3.childLanes;
      Bc(a2, f3);
      a2 === Q2 && (Y = Q2 = null, Z = 0);
      0 === (c3.subtreeFlags & 2064) && 0 === (c3.flags & 2064) || vk || (vk = true, Fk(hc, function() {
        Hk();
        return null;
      }));
      f3 = 0 !== (c3.flags & 15990);
      if (0 !== (c3.subtreeFlags & 15990) || f3) {
        f3 = ok.transition;
        ok.transition = null;
        var g = C2;
        C2 = 1;
        var h2 = K;
        K |= 4;
        nk.current = null;
        Oj(a2, c3);
        dk(c3, a2);
        Oe(Df);
        dd = !!Cf;
        Df = Cf = null;
        a2.current = c3;
        hk(c3, a2, e3);
        dc();
        K = h2;
        C2 = g;
        ok.transition = f3;
      } else a2.current = c3;
      vk && (vk = false, wk = a2, xk = e3);
      f3 = a2.pendingLanes;
      0 === f3 && (Ri = null);
      mc(c3.stateNode, d4);
      Dk(a2, B());
      if (null !== b) for (d4 = a2.onRecoverableError, c3 = 0; c3 < b.length; c3++) e3 = b[c3], d4(e3.value, { componentStack: e3.stack, digest: e3.digest });
      if (Oi) throw Oi = false, a2 = Pi, Pi = null, a2;
      0 !== (xk & 1) && 0 !== a2.tag && Hk();
      f3 = a2.pendingLanes;
      0 !== (f3 & 1) ? a2 === zk ? yk++ : (yk = 0, zk = a2) : yk = 0;
      jg();
      return null;
    }
    function Hk() {
      if (null !== wk) {
        var a2 = Dc(xk), b = ok.transition, c3 = C2;
        try {
          ok.transition = null;
          C2 = 16 > a2 ? 16 : a2;
          if (null === wk) var d4 = false;
          else {
            a2 = wk;
            wk = null;
            xk = 0;
            if (0 !== (K & 6)) throw Error(p3(331));
            var e3 = K;
            K |= 4;
            for (V = a2.current; null !== V; ) {
              var f3 = V, g = f3.child;
              if (0 !== (V.flags & 16)) {
                var h2 = f3.deletions;
                if (null !== h2) {
                  for (var k = 0; k < h2.length; k++) {
                    var l3 = h2[k];
                    for (V = l3; null !== V; ) {
                      var m = V;
                      switch (m.tag) {
                        case 0:
                        case 11:
                        case 15:
                          Pj(8, m, f3);
                      }
                      var q = m.child;
                      if (null !== q) q.return = m, V = q;
                      else for (; null !== V; ) {
                        m = V;
                        var r3 = m.sibling, y2 = m.return;
                        Sj(m);
                        if (m === l3) {
                          V = null;
                          break;
                        }
                        if (null !== r3) {
                          r3.return = y2;
                          V = r3;
                          break;
                        }
                        V = y2;
                      }
                    }
                  }
                  var n2 = f3.alternate;
                  if (null !== n2) {
                    var t2 = n2.child;
                    if (null !== t2) {
                      n2.child = null;
                      do {
                        var J = t2.sibling;
                        t2.sibling = null;
                        t2 = J;
                      } while (null !== t2);
                    }
                  }
                  V = f3;
                }
              }
              if (0 !== (f3.subtreeFlags & 2064) && null !== g) g.return = f3, V = g;
              else b: for (; null !== V; ) {
                f3 = V;
                if (0 !== (f3.flags & 2048)) switch (f3.tag) {
                  case 0:
                  case 11:
                  case 15:
                    Pj(9, f3, f3.return);
                }
                var x = f3.sibling;
                if (null !== x) {
                  x.return = f3.return;
                  V = x;
                  break b;
                }
                V = f3.return;
              }
            }
            var w = a2.current;
            for (V = w; null !== V; ) {
              g = V;
              var u3 = g.child;
              if (0 !== (g.subtreeFlags & 2064) && null !== u3) u3.return = g, V = u3;
              else b: for (g = w; null !== V; ) {
                h2 = V;
                if (0 !== (h2.flags & 2048)) try {
                  switch (h2.tag) {
                    case 0:
                    case 11:
                    case 15:
                      Qj(9, h2);
                  }
                } catch (na) {
                  W(h2, h2.return, na);
                }
                if (h2 === g) {
                  V = null;
                  break b;
                }
                var F = h2.sibling;
                if (null !== F) {
                  F.return = h2.return;
                  V = F;
                  break b;
                }
                V = h2.return;
              }
            }
            K = e3;
            jg();
            if (lc && "function" === typeof lc.onPostCommitFiberRoot) try {
              lc.onPostCommitFiberRoot(kc, a2);
            } catch (na) {
            }
            d4 = true;
          }
          return d4;
        } finally {
          C2 = c3, ok.transition = b;
        }
      }
      return false;
    }
    function Xk(a2, b, c3) {
      b = Ji(c3, b);
      b = Ni(a2, b, 1);
      a2 = nh(a2, b, 1);
      b = R();
      null !== a2 && (Ac(a2, 1, b), Dk(a2, b));
    }
    function W(a2, b, c3) {
      if (3 === a2.tag) Xk(a2, a2, c3);
      else for (; null !== b; ) {
        if (3 === b.tag) {
          Xk(b, a2, c3);
          break;
        } else if (1 === b.tag) {
          var d4 = b.stateNode;
          if ("function" === typeof b.type.getDerivedStateFromError || "function" === typeof d4.componentDidCatch && (null === Ri || !Ri.has(d4))) {
            a2 = Ji(c3, a2);
            a2 = Qi(b, a2, 1);
            b = nh(b, a2, 1);
            a2 = R();
            null !== b && (Ac(b, 1, a2), Dk(b, a2));
            break;
          }
        }
        b = b.return;
      }
    }
    function Ti(a2, b, c3) {
      var d4 = a2.pingCache;
      null !== d4 && d4.delete(b);
      b = R();
      a2.pingedLanes |= a2.suspendedLanes & c3;
      Q2 === a2 && (Z & c3) === c3 && (4 === T || 3 === T && (Z & 130023424) === Z && 500 > B() - fk ? Kk(a2, 0) : rk |= c3);
      Dk(a2, b);
    }
    function Yk(a2, b) {
      0 === b && (0 === (a2.mode & 1) ? b = 1 : (b = sc, sc <<= 1, 0 === (sc & 130023424) && (sc = 4194304)));
      var c3 = R();
      a2 = ih(a2, b);
      null !== a2 && (Ac(a2, b, c3), Dk(a2, c3));
    }
    function uj(a2) {
      var b = a2.memoizedState, c3 = 0;
      null !== b && (c3 = b.retryLane);
      Yk(a2, c3);
    }
    function bk(a2, b) {
      var c3 = 0;
      switch (a2.tag) {
        case 13:
          var d4 = a2.stateNode;
          var e3 = a2.memoizedState;
          null !== e3 && (c3 = e3.retryLane);
          break;
        case 19:
          d4 = a2.stateNode;
          break;
        default:
          throw Error(p3(314));
      }
      null !== d4 && d4.delete(b);
      Yk(a2, c3);
    }
    var Vk;
    Vk = function(a2, b, c3) {
      if (null !== a2) if (a2.memoizedProps !== b.pendingProps || Wf.current) dh = true;
      else {
        if (0 === (a2.lanes & c3) && 0 === (b.flags & 128)) return dh = false, yj(a2, b, c3);
        dh = 0 !== (a2.flags & 131072) ? true : false;
      }
      else dh = false, I2 && 0 !== (b.flags & 1048576) && ug(b, ng, b.index);
      b.lanes = 0;
      switch (b.tag) {
        case 2:
          var d4 = b.type;
          ij(a2, b);
          a2 = b.pendingProps;
          var e3 = Yf(b, H.current);
          ch(b, c3);
          e3 = Nh(null, b, d4, a2, e3, c3);
          var f3 = Sh();
          b.flags |= 1;
          "object" === typeof e3 && null !== e3 && "function" === typeof e3.render && void 0 === e3.$$typeof ? (b.tag = 1, b.memoizedState = null, b.updateQueue = null, Zf(d4) ? (f3 = true, cg(b)) : f3 = false, b.memoizedState = null !== e3.state && void 0 !== e3.state ? e3.state : null, kh(b), e3.updater = Ei, b.stateNode = e3, e3._reactInternals = b, Ii(b, d4, a2, c3), b = jj(null, b, d4, true, f3, c3)) : (b.tag = 0, I2 && f3 && vg(b), Xi(null, b, e3, c3), b = b.child);
          return b;
        case 16:
          d4 = b.elementType;
          a: {
            ij(a2, b);
            a2 = b.pendingProps;
            e3 = d4._init;
            d4 = e3(d4._payload);
            b.type = d4;
            e3 = b.tag = Zk(d4);
            a2 = Ci(d4, a2);
            switch (e3) {
              case 0:
                b = cj(null, b, d4, a2, c3);
                break a;
              case 1:
                b = hj(null, b, d4, a2, c3);
                break a;
              case 11:
                b = Yi(null, b, d4, a2, c3);
                break a;
              case 14:
                b = $i(null, b, d4, Ci(d4.type, a2), c3);
                break a;
            }
            throw Error(p3(
              306,
              d4,
              ""
            ));
          }
          return b;
        case 0:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), cj(a2, b, d4, e3, c3);
        case 1:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), hj(a2, b, d4, e3, c3);
        case 3:
          a: {
            kj(b);
            if (null === a2) throw Error(p3(387));
            d4 = b.pendingProps;
            f3 = b.memoizedState;
            e3 = f3.element;
            lh(a2, b);
            qh(b, d4, null, c3);
            var g = b.memoizedState;
            d4 = g.element;
            if (f3.isDehydrated) if (f3 = { element: d4, isDehydrated: false, cache: g.cache, pendingSuspenseBoundaries: g.pendingSuspenseBoundaries, transitions: g.transitions }, b.updateQueue.baseState = f3, b.memoizedState = f3, b.flags & 256) {
              e3 = Ji(Error(p3(423)), b);
              b = lj(a2, b, d4, c3, e3);
              break a;
            } else if (d4 !== e3) {
              e3 = Ji(Error(p3(424)), b);
              b = lj(a2, b, d4, c3, e3);
              break a;
            } else for (yg = Lf(b.stateNode.containerInfo.firstChild), xg = b, I2 = true, zg = null, c3 = Vg(b, null, d4, c3), b.child = c3; c3; ) c3.flags = c3.flags & -3 | 4096, c3 = c3.sibling;
            else {
              Ig();
              if (d4 === e3) {
                b = Zi(a2, b, c3);
                break a;
              }
              Xi(a2, b, d4, c3);
            }
            b = b.child;
          }
          return b;
        case 5:
          return Ah(b), null === a2 && Eg(b), d4 = b.type, e3 = b.pendingProps, f3 = null !== a2 ? a2.memoizedProps : null, g = e3.children, Ef(d4, e3) ? g = null : null !== f3 && Ef(d4, f3) && (b.flags |= 32), gj(a2, b), Xi(a2, b, g, c3), b.child;
        case 6:
          return null === a2 && Eg(b), null;
        case 13:
          return oj(a2, b, c3);
        case 4:
          return yh(b, b.stateNode.containerInfo), d4 = b.pendingProps, null === a2 ? b.child = Ug(b, null, d4, c3) : Xi(a2, b, d4, c3), b.child;
        case 11:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), Yi(a2, b, d4, e3, c3);
        case 7:
          return Xi(a2, b, b.pendingProps, c3), b.child;
        case 8:
          return Xi(a2, b, b.pendingProps.children, c3), b.child;
        case 12:
          return Xi(a2, b, b.pendingProps.children, c3), b.child;
        case 10:
          a: {
            d4 = b.type._context;
            e3 = b.pendingProps;
            f3 = b.memoizedProps;
            g = e3.value;
            G(Wg, d4._currentValue);
            d4._currentValue = g;
            if (null !== f3) if (He(f3.value, g)) {
              if (f3.children === e3.children && !Wf.current) {
                b = Zi(a2, b, c3);
                break a;
              }
            } else for (f3 = b.child, null !== f3 && (f3.return = b); null !== f3; ) {
              var h2 = f3.dependencies;
              if (null !== h2) {
                g = f3.child;
                for (var k = h2.firstContext; null !== k; ) {
                  if (k.context === d4) {
                    if (1 === f3.tag) {
                      k = mh(-1, c3 & -c3);
                      k.tag = 2;
                      var l3 = f3.updateQueue;
                      if (null !== l3) {
                        l3 = l3.shared;
                        var m = l3.pending;
                        null === m ? k.next = k : (k.next = m.next, m.next = k);
                        l3.pending = k;
                      }
                    }
                    f3.lanes |= c3;
                    k = f3.alternate;
                    null !== k && (k.lanes |= c3);
                    bh(
                      f3.return,
                      c3,
                      b
                    );
                    h2.lanes |= c3;
                    break;
                  }
                  k = k.next;
                }
              } else if (10 === f3.tag) g = f3.type === b.type ? null : f3.child;
              else if (18 === f3.tag) {
                g = f3.return;
                if (null === g) throw Error(p3(341));
                g.lanes |= c3;
                h2 = g.alternate;
                null !== h2 && (h2.lanes |= c3);
                bh(g, c3, b);
                g = f3.sibling;
              } else g = f3.child;
              if (null !== g) g.return = f3;
              else for (g = f3; null !== g; ) {
                if (g === b) {
                  g = null;
                  break;
                }
                f3 = g.sibling;
                if (null !== f3) {
                  f3.return = g.return;
                  g = f3;
                  break;
                }
                g = g.return;
              }
              f3 = g;
            }
            Xi(a2, b, e3.children, c3);
            b = b.child;
          }
          return b;
        case 9:
          return e3 = b.type, d4 = b.pendingProps.children, ch(b, c3), e3 = eh(e3), d4 = d4(e3), b.flags |= 1, Xi(a2, b, d4, c3), b.child;
        case 14:
          return d4 = b.type, e3 = Ci(d4, b.pendingProps), e3 = Ci(d4.type, e3), $i(a2, b, d4, e3, c3);
        case 15:
          return bj(a2, b, b.type, b.pendingProps, c3);
        case 17:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), ij(a2, b), b.tag = 1, Zf(d4) ? (a2 = true, cg(b)) : a2 = false, ch(b, c3), Gi(b, d4, e3), Ii(b, d4, e3, c3), jj(null, b, d4, true, a2, c3);
        case 19:
          return xj(a2, b, c3);
        case 22:
          return dj(a2, b, c3);
      }
      throw Error(p3(156, b.tag));
    };
    function Fk(a2, b) {
      return ac(a2, b);
    }
    function $k(a2, b, c3, d4) {
      this.tag = a2;
      this.key = c3;
      this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null;
      this.index = 0;
      this.ref = null;
      this.pendingProps = b;
      this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null;
      this.mode = d4;
      this.subtreeFlags = this.flags = 0;
      this.deletions = null;
      this.childLanes = this.lanes = 0;
      this.alternate = null;
    }
    function Bg(a2, b, c3, d4) {
      return new $k(a2, b, c3, d4);
    }
    function aj(a2) {
      a2 = a2.prototype;
      return !(!a2 || !a2.isReactComponent);
    }
    function Zk(a2) {
      if ("function" === typeof a2) return aj(a2) ? 1 : 0;
      if (void 0 !== a2 && null !== a2) {
        a2 = a2.$$typeof;
        if (a2 === Da) return 11;
        if (a2 === Ga) return 14;
      }
      return 2;
    }
    function Pg(a2, b) {
      var c3 = a2.alternate;
      null === c3 ? (c3 = Bg(a2.tag, b, a2.key, a2.mode), c3.elementType = a2.elementType, c3.type = a2.type, c3.stateNode = a2.stateNode, c3.alternate = a2, a2.alternate = c3) : (c3.pendingProps = b, c3.type = a2.type, c3.flags = 0, c3.subtreeFlags = 0, c3.deletions = null);
      c3.flags = a2.flags & 14680064;
      c3.childLanes = a2.childLanes;
      c3.lanes = a2.lanes;
      c3.child = a2.child;
      c3.memoizedProps = a2.memoizedProps;
      c3.memoizedState = a2.memoizedState;
      c3.updateQueue = a2.updateQueue;
      b = a2.dependencies;
      c3.dependencies = null === b ? null : { lanes: b.lanes, firstContext: b.firstContext };
      c3.sibling = a2.sibling;
      c3.index = a2.index;
      c3.ref = a2.ref;
      return c3;
    }
    function Rg(a2, b, c3, d4, e3, f3) {
      var g = 2;
      d4 = a2;
      if ("function" === typeof a2) aj(a2) && (g = 1);
      else if ("string" === typeof a2) g = 5;
      else a: switch (a2) {
        case ya:
          return Tg(c3.children, e3, f3, b);
        case za:
          g = 8;
          e3 |= 8;
          break;
        case Aa:
          return a2 = Bg(12, c3, b, e3 | 2), a2.elementType = Aa, a2.lanes = f3, a2;
        case Ea:
          return a2 = Bg(13, c3, b, e3), a2.elementType = Ea, a2.lanes = f3, a2;
        case Fa:
          return a2 = Bg(19, c3, b, e3), a2.elementType = Fa, a2.lanes = f3, a2;
        case Ia:
          return pj(c3, e3, f3, b);
        default:
          if ("object" === typeof a2 && null !== a2) switch (a2.$$typeof) {
            case Ba:
              g = 10;
              break a;
            case Ca:
              g = 9;
              break a;
            case Da:
              g = 11;
              break a;
            case Ga:
              g = 14;
              break a;
            case Ha:
              g = 16;
              d4 = null;
              break a;
          }
          throw Error(p3(130, null == a2 ? a2 : typeof a2, ""));
      }
      b = Bg(g, c3, b, e3);
      b.elementType = a2;
      b.type = d4;
      b.lanes = f3;
      return b;
    }
    function Tg(a2, b, c3, d4) {
      a2 = Bg(7, a2, d4, b);
      a2.lanes = c3;
      return a2;
    }
    function pj(a2, b, c3, d4) {
      a2 = Bg(22, a2, d4, b);
      a2.elementType = Ia;
      a2.lanes = c3;
      a2.stateNode = { isHidden: false };
      return a2;
    }
    function Qg(a2, b, c3) {
      a2 = Bg(6, a2, null, b);
      a2.lanes = c3;
      return a2;
    }
    function Sg(a2, b, c3) {
      b = Bg(4, null !== a2.children ? a2.children : [], a2.key, b);
      b.lanes = c3;
      b.stateNode = { containerInfo: a2.containerInfo, pendingChildren: null, implementation: a2.implementation };
      return b;
    }
    function al(a2, b, c3, d4, e3) {
      this.tag = b;
      this.containerInfo = a2;
      this.finishedWork = this.pingCache = this.current = this.pendingChildren = null;
      this.timeoutHandle = -1;
      this.callbackNode = this.pendingContext = this.context = null;
      this.callbackPriority = 0;
      this.eventTimes = zc(0);
      this.expirationTimes = zc(-1);
      this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0;
      this.entanglements = zc(0);
      this.identifierPrefix = d4;
      this.onRecoverableError = e3;
      this.mutableSourceEagerHydrationData = null;
    }
    function bl(a2, b, c3, d4, e3, f3, g, h2, k) {
      a2 = new al(a2, b, c3, h2, k);
      1 === b ? (b = 1, true === f3 && (b |= 8)) : b = 0;
      f3 = Bg(3, null, null, b);
      a2.current = f3;
      f3.stateNode = a2;
      f3.memoizedState = { element: d4, isDehydrated: c3, cache: null, transitions: null, pendingSuspenseBoundaries: null };
      kh(f3);
      return a2;
    }
    function cl(a2, b, c3) {
      var d4 = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
      return { $$typeof: wa, key: null == d4 ? null : "" + d4, children: a2, containerInfo: b, implementation: c3 };
    }
    function dl(a2) {
      if (!a2) return Vf;
      a2 = a2._reactInternals;
      a: {
        if (Vb(a2) !== a2 || 1 !== a2.tag) throw Error(p3(170));
        var b = a2;
        do {
          switch (b.tag) {
            case 3:
              b = b.stateNode.context;
              break a;
            case 1:
              if (Zf(b.type)) {
                b = b.stateNode.__reactInternalMemoizedMergedChildContext;
                break a;
              }
          }
          b = b.return;
        } while (null !== b);
        throw Error(p3(171));
      }
      if (1 === a2.tag) {
        var c3 = a2.type;
        if (Zf(c3)) return bg(a2, c3, b);
      }
      return b;
    }
    function el(a2, b, c3, d4, e3, f3, g, h2, k) {
      a2 = bl(c3, d4, true, a2, e3, f3, g, h2, k);
      a2.context = dl(null);
      c3 = a2.current;
      d4 = R();
      e3 = yi(c3);
      f3 = mh(d4, e3);
      f3.callback = void 0 !== b && null !== b ? b : null;
      nh(c3, f3, e3);
      a2.current.lanes = e3;
      Ac(a2, e3, d4);
      Dk(a2, d4);
      return a2;
    }
    function fl(a2, b, c3, d4) {
      var e3 = b.current, f3 = R(), g = yi(e3);
      c3 = dl(c3);
      null === b.context ? b.context = c3 : b.pendingContext = c3;
      b = mh(f3, g);
      b.payload = { element: a2 };
      d4 = void 0 === d4 ? null : d4;
      null !== d4 && (b.callback = d4);
      a2 = nh(e3, b, g);
      null !== a2 && (gi(a2, e3, g, f3), oh(a2, e3, g));
      return g;
    }
    function gl(a2) {
      a2 = a2.current;
      if (!a2.child) return null;
      switch (a2.child.tag) {
        case 5:
          return a2.child.stateNode;
        default:
          return a2.child.stateNode;
      }
    }
    function hl(a2, b) {
      a2 = a2.memoizedState;
      if (null !== a2 && null !== a2.dehydrated) {
        var c3 = a2.retryLane;
        a2.retryLane = 0 !== c3 && c3 < b ? c3 : b;
      }
    }
    function il(a2, b) {
      hl(a2, b);
      (a2 = a2.alternate) && hl(a2, b);
    }
    function jl() {
      return null;
    }
    var kl = "function" === typeof reportError ? reportError : function(a2) {
      console.error(a2);
    };
    function ll(a2) {
      this._internalRoot = a2;
    }
    ml.prototype.render = ll.prototype.render = function(a2) {
      var b = this._internalRoot;
      if (null === b) throw Error(p3(409));
      fl(a2, b, null, null);
    };
    ml.prototype.unmount = ll.prototype.unmount = function() {
      var a2 = this._internalRoot;
      if (null !== a2) {
        this._internalRoot = null;
        var b = a2.containerInfo;
        Rk(function() {
          fl(null, a2, null, null);
        });
        b[uf] = null;
      }
    };
    function ml(a2) {
      this._internalRoot = a2;
    }
    ml.prototype.unstable_scheduleHydration = function(a2) {
      if (a2) {
        var b = Hc();
        a2 = { blockedOn: null, target: a2, priority: b };
        for (var c3 = 0; c3 < Qc.length && 0 !== b && b < Qc[c3].priority; c3++) ;
        Qc.splice(c3, 0, a2);
        0 === c3 && Vc(a2);
      }
    };
    function nl(a2) {
      return !(!a2 || 1 !== a2.nodeType && 9 !== a2.nodeType && 11 !== a2.nodeType);
    }
    function ol(a2) {
      return !(!a2 || 1 !== a2.nodeType && 9 !== a2.nodeType && 11 !== a2.nodeType && (8 !== a2.nodeType || " react-mount-point-unstable " !== a2.nodeValue));
    }
    function pl() {
    }
    function ql(a2, b, c3, d4, e3) {
      if (e3) {
        if ("function" === typeof d4) {
          var f3 = d4;
          d4 = function() {
            var a3 = gl(g);
            f3.call(a3);
          };
        }
        var g = el(b, d4, a2, 0, null, false, false, "", pl);
        a2._reactRootContainer = g;
        a2[uf] = g.current;
        sf(8 === a2.nodeType ? a2.parentNode : a2);
        Rk();
        return g;
      }
      for (; e3 = a2.lastChild; ) a2.removeChild(e3);
      if ("function" === typeof d4) {
        var h2 = d4;
        d4 = function() {
          var a3 = gl(k);
          h2.call(a3);
        };
      }
      var k = bl(a2, 0, false, null, null, false, false, "", pl);
      a2._reactRootContainer = k;
      a2[uf] = k.current;
      sf(8 === a2.nodeType ? a2.parentNode : a2);
      Rk(function() {
        fl(b, k, c3, d4);
      });
      return k;
    }
    function rl(a2, b, c3, d4, e3) {
      var f3 = c3._reactRootContainer;
      if (f3) {
        var g = f3;
        if ("function" === typeof e3) {
          var h2 = e3;
          e3 = function() {
            var a3 = gl(g);
            h2.call(a3);
          };
        }
        fl(b, g, a2, e3);
      } else g = ql(c3, b, a2, e3, d4);
      return gl(g);
    }
    Ec = function(a2) {
      switch (a2.tag) {
        case 3:
          var b = a2.stateNode;
          if (b.current.memoizedState.isDehydrated) {
            var c3 = tc(b.pendingLanes);
            0 !== c3 && (Cc(b, c3 | 1), Dk(b, B()), 0 === (K & 6) && (Gj = B() + 500, jg()));
          }
          break;
        case 13:
          Rk(function() {
            var b2 = ih(a2, 1);
            if (null !== b2) {
              var c4 = R();
              gi(b2, a2, 1, c4);
            }
          }), il(a2, 1);
      }
    };
    Fc = function(a2) {
      if (13 === a2.tag) {
        var b = ih(a2, 134217728);
        if (null !== b) {
          var c3 = R();
          gi(b, a2, 134217728, c3);
        }
        il(a2, 134217728);
      }
    };
    Gc = function(a2) {
      if (13 === a2.tag) {
        var b = yi(a2), c3 = ih(a2, b);
        if (null !== c3) {
          var d4 = R();
          gi(c3, a2, b, d4);
        }
        il(a2, b);
      }
    };
    Hc = function() {
      return C2;
    };
    Ic = function(a2, b) {
      var c3 = C2;
      try {
        return C2 = a2, b();
      } finally {
        C2 = c3;
      }
    };
    yb = function(a2, b, c3) {
      switch (b) {
        case "input":
          bb(a2, c3);
          b = c3.name;
          if ("radio" === c3.type && null != b) {
            for (c3 = a2; c3.parentNode; ) c3 = c3.parentNode;
            c3 = c3.querySelectorAll("input[name=" + JSON.stringify("" + b) + '][type="radio"]');
            for (b = 0; b < c3.length; b++) {
              var d4 = c3[b];
              if (d4 !== a2 && d4.form === a2.form) {
                var e3 = Db(d4);
                if (!e3) throw Error(p3(90));
                Wa(d4);
                bb(d4, e3);
              }
            }
          }
          break;
        case "textarea":
          ib(a2, c3);
          break;
        case "select":
          b = c3.value, null != b && fb(a2, !!c3.multiple, b, false);
      }
    };
    Gb = Qk;
    Hb = Rk;
    var sl = { usingClientEntryPoint: false, Events: [Cb, ue, Db, Eb, Fb, Qk] };
    var tl = { findFiberByHostInstance: Wc, bundleType: 0, version: "18.3.1", rendererPackageName: "react-dom" };
    var ul = { bundleType: tl.bundleType, version: tl.version, rendererPackageName: tl.rendererPackageName, rendererConfig: tl.rendererConfig, overrideHookState: null, overrideHookStateDeletePath: null, overrideHookStateRenamePath: null, overrideProps: null, overridePropsDeletePath: null, overridePropsRenamePath: null, setErrorHandler: null, setSuspenseHandler: null, scheduleUpdate: null, currentDispatcherRef: ua.ReactCurrentDispatcher, findHostInstanceByFiber: function(a2) {
      a2 = Zb(a2);
      return null === a2 ? null : a2.stateNode;
    }, findFiberByHostInstance: tl.findFiberByHostInstance || jl, findHostInstancesForRefresh: null, scheduleRefresh: null, scheduleRoot: null, setRefreshHandler: null, getCurrentFiber: null, reconcilerVersion: "18.3.1-next-f1338f8080-20240426" };
    if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
      vl = __REACT_DEVTOOLS_GLOBAL_HOOK__;
      if (!vl.isDisabled && vl.supportsFiber) try {
        kc = vl.inject(ul), lc = vl;
      } catch (a2) {
      }
    }
    var vl;
    exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = sl;
    exports.createPortal = function(a2, b) {
      var c3 = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
      if (!nl(b)) throw Error(p3(200));
      return cl(a2, b, null, c3);
    };
    exports.createRoot = function(a2, b) {
      if (!nl(a2)) throw Error(p3(299));
      var c3 = false, d4 = "", e3 = kl;
      null !== b && void 0 !== b && (true === b.unstable_strictMode && (c3 = true), void 0 !== b.identifierPrefix && (d4 = b.identifierPrefix), void 0 !== b.onRecoverableError && (e3 = b.onRecoverableError));
      b = bl(a2, 1, false, null, null, c3, false, d4, e3);
      a2[uf] = b.current;
      sf(8 === a2.nodeType ? a2.parentNode : a2);
      return new ll(b);
    };
    exports.findDOMNode = function(a2) {
      if (null == a2) return null;
      if (1 === a2.nodeType) return a2;
      var b = a2._reactInternals;
      if (void 0 === b) {
        if ("function" === typeof a2.render) throw Error(p3(188));
        a2 = Object.keys(a2).join(",");
        throw Error(p3(268, a2));
      }
      a2 = Zb(b);
      a2 = null === a2 ? null : a2.stateNode;
      return a2;
    };
    exports.flushSync = function(a2) {
      return Rk(a2);
    };
    exports.hydrate = function(a2, b, c3) {
      if (!ol(b)) throw Error(p3(200));
      return rl(null, a2, b, true, c3);
    };
    exports.hydrateRoot = function(a2, b, c3) {
      if (!nl(a2)) throw Error(p3(405));
      var d4 = null != c3 && c3.hydratedSources || null, e3 = false, f3 = "", g = kl;
      null !== c3 && void 0 !== c3 && (true === c3.unstable_strictMode && (e3 = true), void 0 !== c3.identifierPrefix && (f3 = c3.identifierPrefix), void 0 !== c3.onRecoverableError && (g = c3.onRecoverableError));
      b = el(b, null, a2, 1, null != c3 ? c3 : null, e3, false, f3, g);
      a2[uf] = b.current;
      sf(a2);
      if (d4) for (a2 = 0; a2 < d4.length; a2++) c3 = d4[a2], e3 = c3._getVersion, e3 = e3(c3._source), null == b.mutableSourceEagerHydrationData ? b.mutableSourceEagerHydrationData = [c3, e3] : b.mutableSourceEagerHydrationData.push(
        c3,
        e3
      );
      return new ml(b);
    };
    exports.render = function(a2, b, c3) {
      if (!ol(b)) throw Error(p3(200));
      return rl(null, a2, b, false, c3);
    };
    exports.unmountComponentAtNode = function(a2) {
      if (!ol(a2)) throw Error(p3(40));
      return a2._reactRootContainer ? (Rk(function() {
        rl(null, null, a2, false, function() {
          a2._reactRootContainer = null;
          a2[uf] = null;
        });
      }), true) : false;
    };
    exports.unstable_batchedUpdates = Qk;
    exports.unstable_renderSubtreeIntoContainer = function(a2, b, c3, d4) {
      if (!ol(c3)) throw Error(p3(200));
      if (null == a2 || void 0 === a2._reactInternals) throw Error(p3(38));
      return rl(a2, b, c3, false, d4);
    };
    exports.version = "18.3.1-next-f1338f8080-20240426";
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js
var require_react_dom = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js"(exports, module) {
    "use strict";
    function checkDCE() {
      if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === "undefined" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== "function") {
        return;
      }
      if (false) {
        throw new Error("^_^");
      }
      try {
        __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);
      } catch (err) {
        console.error(err);
      }
    }
    if (true) {
      checkDCE();
      module.exports = require_react_dom_production_min();
    } else {
      module.exports = null;
    }
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js
var require_client = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js"(exports) {
    "use strict";
    var m = require_react_dom();
    if (true) {
      exports.createRoot = m.createRoot;
      exports.hydrateRoot = m.hydrateRoot;
    } else {
      i3 = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
      exports.createRoot = function(c3, o2) {
        i3.usingClientEntryPoint = true;
        try {
          return m.createRoot(c3, o2);
        } finally {
          i3.usingClientEntryPoint = false;
        }
      };
      exports.hydrateRoot = function(c3, h2, o2) {
        i3.usingClientEntryPoint = true;
        try {
          return m.hydrateRoot(c3, h2, o2);
        } finally {
          i3.usingClientEntryPoint = false;
        }
      };
    }
    var i3;
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/util@1.10.0/node_modules/@firebase/util/dist/index.esm2017.js
function getGlobal() {
  if (typeof self !== "undefined") {
    return self;
  }
  if (typeof window !== "undefined") {
    return window;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw new Error("Unable to locate global object.");
}
function getUA() {
  if (typeof navigator !== "undefined" && typeof navigator["userAgent"] === "string") {
    return navigator["userAgent"];
  } else {
    return "";
  }
}
function isMobileCordova() {
  return typeof window !== "undefined" && // @ts-ignore Setting up an broadly applicable index signature for Window
  // just to deal with this case would probably be a bad idea.
  !!(window["cordova"] || window["phonegap"] || window["PhoneGap"]) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA());
}
function isCloudflareWorker() {
  return typeof navigator !== "undefined" && navigator.userAgent === "Cloudflare-Workers";
}
function isBrowserExtension() {
  const runtime = typeof chrome === "object" ? chrome.runtime : typeof browser === "object" ? browser.runtime : void 0;
  return typeof runtime === "object" && runtime.id !== void 0;
}
function isReactNative() {
  return typeof navigator === "object" && navigator["product"] === "ReactNative";
}
function isIE() {
  const ua = getUA();
  return ua.indexOf("MSIE ") >= 0 || ua.indexOf("Trident/") >= 0;
}
function isIndexedDBAvailable() {
  try {
    return typeof indexedDB === "object";
  } catch (e3) {
    return false;
  }
}
function validateIndexedDBOpenable() {
  return new Promise((resolve, reject) => {
    try {
      let preExist = true;
      const DB_CHECK_NAME = "validate-browser-context-for-indexeddb-analytics-module";
      const request = self.indexedDB.open(DB_CHECK_NAME);
      request.onsuccess = () => {
        request.result.close();
        if (!preExist) {
          self.indexedDB.deleteDatabase(DB_CHECK_NAME);
        }
        resolve(true);
      };
      request.onupgradeneeded = () => {
        preExist = false;
      };
      request.onerror = () => {
        var _a;
        reject(((_a = request.error) === null || _a === void 0 ? void 0 : _a.message) || "");
      };
    } catch (error2) {
      reject(error2);
    }
  });
}
function replaceTemplate(template, data) {
  return template.replace(PATTERN, (_, key) => {
    const value2 = data[key];
    return value2 != null ? String(value2) : `<${key}?>`;
  });
}
function isEmpty(obj) {
  for (const key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      return false;
    }
  }
  return true;
}
function deepEqual(a2, b) {
  if (a2 === b) {
    return true;
  }
  const aKeys = Object.keys(a2);
  const bKeys = Object.keys(b);
  for (const k of aKeys) {
    if (!bKeys.includes(k)) {
      return false;
    }
    const aProp = a2[k];
    const bProp = b[k];
    if (isObject(aProp) && isObject(bProp)) {
      if (!deepEqual(aProp, bProp)) {
        return false;
      }
    } else if (aProp !== bProp) {
      return false;
    }
  }
  for (const k of bKeys) {
    if (!aKeys.includes(k)) {
      return false;
    }
  }
  return true;
}
function isObject(thing) {
  return thing !== null && typeof thing === "object";
}
function querystring(querystringParams) {
  const params = [];
  for (const [key, value2] of Object.entries(querystringParams)) {
    if (Array.isArray(value2)) {
      value2.forEach((arrayVal) => {
        params.push(encodeURIComponent(key) + "=" + encodeURIComponent(arrayVal));
      });
    } else {
      params.push(encodeURIComponent(key) + "=" + encodeURIComponent(value2));
    }
  }
  return params.length ? "&" + params.join("&") : "";
}
function querystringDecode(querystring2) {
  const obj = {};
  const tokens = querystring2.replace(/^\?/, "").split("&");
  tokens.forEach((token) => {
    if (token) {
      const [key, value2] = token.split("=");
      obj[decodeURIComponent(key)] = decodeURIComponent(value2);
    }
  });
  return obj;
}
function extractQuerystring(url) {
  const queryStart = url.indexOf("?");
  if (!queryStart) {
    return "";
  }
  const fragmentStart = url.indexOf("#", queryStart);
  return url.substring(queryStart, fragmentStart > 0 ? fragmentStart : void 0);
}
function createSubscribe(executor, onNoObservers) {
  const proxy = new ObserverProxy(executor, onNoObservers);
  return proxy.subscribe.bind(proxy);
}
function implementsAnyMethods(obj, methods) {
  if (typeof obj !== "object" || obj === null) {
    return false;
  }
  for (const method of methods) {
    if (method in obj && typeof obj[method] === "function") {
      return true;
    }
  }
  return false;
}
function noop2() {
}
function getModularInstance(service) {
  if (service && service._delegate) {
    return service._delegate;
  } else {
    return service;
  }
}
var stringToByteArray$1, byteArrayToString, base64, DecodeBase64StringError, base64Encode, base64urlEncodeWithoutPadding, base64Decode, getDefaultsFromGlobal, getDefaultsFromEnvVariable, getDefaultsFromCookie, getDefaults, getDefaultEmulatorHost, getDefaultAppConfig, getExperimentalSetting, Deferred, ERROR_NAME, FirebaseError, ErrorFactory, PATTERN, ObserverProxy, MAX_VALUE_MILLIS;
var init_index_esm2017 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/util@1.10.0/node_modules/@firebase/util/dist/index.esm2017.js"() {
    stringToByteArray$1 = function(str) {
      const out = [];
      let p3 = 0;
      for (let i3 = 0; i3 < str.length; i3++) {
        let c3 = str.charCodeAt(i3);
        if (c3 < 128) {
          out[p3++] = c3;
        } else if (c3 < 2048) {
          out[p3++] = c3 >> 6 | 192;
          out[p3++] = c3 & 63 | 128;
        } else if ((c3 & 64512) === 55296 && i3 + 1 < str.length && (str.charCodeAt(i3 + 1) & 64512) === 56320) {
          c3 = 65536 + ((c3 & 1023) << 10) + (str.charCodeAt(++i3) & 1023);
          out[p3++] = c3 >> 18 | 240;
          out[p3++] = c3 >> 12 & 63 | 128;
          out[p3++] = c3 >> 6 & 63 | 128;
          out[p3++] = c3 & 63 | 128;
        } else {
          out[p3++] = c3 >> 12 | 224;
          out[p3++] = c3 >> 6 & 63 | 128;
          out[p3++] = c3 & 63 | 128;
        }
      }
      return out;
    };
    byteArrayToString = function(bytes) {
      const out = [];
      let pos = 0, c3 = 0;
      while (pos < bytes.length) {
        const c1 = bytes[pos++];
        if (c1 < 128) {
          out[c3++] = String.fromCharCode(c1);
        } else if (c1 > 191 && c1 < 224) {
          const c22 = bytes[pos++];
          out[c3++] = String.fromCharCode((c1 & 31) << 6 | c22 & 63);
        } else if (c1 > 239 && c1 < 365) {
          const c22 = bytes[pos++];
          const c32 = bytes[pos++];
          const c4 = bytes[pos++];
          const u3 = ((c1 & 7) << 18 | (c22 & 63) << 12 | (c32 & 63) << 6 | c4 & 63) - 65536;
          out[c3++] = String.fromCharCode(55296 + (u3 >> 10));
          out[c3++] = String.fromCharCode(56320 + (u3 & 1023));
        } else {
          const c22 = bytes[pos++];
          const c32 = bytes[pos++];
          out[c3++] = String.fromCharCode((c1 & 15) << 12 | (c22 & 63) << 6 | c32 & 63);
        }
      }
      return out.join("");
    };
    base64 = {
      /**
       * Maps bytes to characters.
       */
      byteToCharMap_: null,
      /**
       * Maps characters to bytes.
       */
      charToByteMap_: null,
      /**
       * Maps bytes to websafe characters.
       * @private
       */
      byteToCharMapWebSafe_: null,
      /**
       * Maps websafe characters to bytes.
       * @private
       */
      charToByteMapWebSafe_: null,
      /**
       * Our default alphabet, shared between
       * ENCODED_VALS and ENCODED_VALS_WEBSAFE
       */
      ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
      /**
       * Our default alphabet. Value 64 (=) is special; it means "nothing."
       */
      get ENCODED_VALS() {
        return this.ENCODED_VALS_BASE + "+/=";
      },
      /**
       * Our websafe alphabet.
       */
      get ENCODED_VALS_WEBSAFE() {
        return this.ENCODED_VALS_BASE + "-_.";
      },
      /**
       * Whether this browser supports the atob and btoa functions. This extension
       * started at Mozilla but is now implemented by many browsers. We use the
       * ASSUME_* variables to avoid pulling in the full useragent detection library
       * but still allowing the standard per-browser compilations.
       *
       */
      HAS_NATIVE_SUPPORT: typeof atob === "function",
      /**
       * Base64-encode an array of bytes.
       *
       * @param input An array of bytes (numbers with
       *     value in [0, 255]) to encode.
       * @param webSafe Boolean indicating we should use the
       *     alternative alphabet.
       * @return The base64 encoded string.
       */
      encodeByteArray(input, webSafe) {
        if (!Array.isArray(input)) {
          throw Error("encodeByteArray takes an array as a parameter");
        }
        this.init_();
        const byteToCharMap = webSafe ? this.byteToCharMapWebSafe_ : this.byteToCharMap_;
        const output = [];
        for (let i3 = 0; i3 < input.length; i3 += 3) {
          const byte1 = input[i3];
          const haveByte2 = i3 + 1 < input.length;
          const byte2 = haveByte2 ? input[i3 + 1] : 0;
          const haveByte3 = i3 + 2 < input.length;
          const byte3 = haveByte3 ? input[i3 + 2] : 0;
          const outByte1 = byte1 >> 2;
          const outByte2 = (byte1 & 3) << 4 | byte2 >> 4;
          let outByte3 = (byte2 & 15) << 2 | byte3 >> 6;
          let outByte4 = byte3 & 63;
          if (!haveByte3) {
            outByte4 = 64;
            if (!haveByte2) {
              outByte3 = 64;
            }
          }
          output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);
        }
        return output.join("");
      },
      /**
       * Base64-encode a string.
       *
       * @param input A string to encode.
       * @param webSafe If true, we should use the
       *     alternative alphabet.
       * @return The base64 encoded string.
       */
      encodeString(input, webSafe) {
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
          return btoa(input);
        }
        return this.encodeByteArray(stringToByteArray$1(input), webSafe);
      },
      /**
       * Base64-decode a string.
       *
       * @param input to decode.
       * @param webSafe True if we should use the
       *     alternative alphabet.
       * @return string representing the decoded value.
       */
      decodeString(input, webSafe) {
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
          return atob(input);
        }
        return byteArrayToString(this.decodeStringToByteArray(input, webSafe));
      },
      /**
       * Base64-decode a string.
       *
       * In base-64 decoding, groups of four characters are converted into three
       * bytes.  If the encoder did not apply padding, the input length may not
       * be a multiple of 4.
       *
       * In this case, the last group will have fewer than 4 characters, and
       * padding will be inferred.  If the group has one or two characters, it decodes
       * to one byte.  If the group has three characters, it decodes to two bytes.
       *
       * @param input Input to decode.
       * @param webSafe True if we should use the web-safe alphabet.
       * @return bytes representing the decoded value.
       */
      decodeStringToByteArray(input, webSafe) {
        this.init_();
        const charToByteMap = webSafe ? this.charToByteMapWebSafe_ : this.charToByteMap_;
        const output = [];
        for (let i3 = 0; i3 < input.length; ) {
          const byte1 = charToByteMap[input.charAt(i3++)];
          const haveByte2 = i3 < input.length;
          const byte2 = haveByte2 ? charToByteMap[input.charAt(i3)] : 0;
          ++i3;
          const haveByte3 = i3 < input.length;
          const byte3 = haveByte3 ? charToByteMap[input.charAt(i3)] : 64;
          ++i3;
          const haveByte4 = i3 < input.length;
          const byte4 = haveByte4 ? charToByteMap[input.charAt(i3)] : 64;
          ++i3;
          if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {
            throw new DecodeBase64StringError();
          }
          const outByte1 = byte1 << 2 | byte2 >> 4;
          output.push(outByte1);
          if (byte3 !== 64) {
            const outByte2 = byte2 << 4 & 240 | byte3 >> 2;
            output.push(outByte2);
            if (byte4 !== 64) {
              const outByte3 = byte3 << 6 & 192 | byte4;
              output.push(outByte3);
            }
          }
        }
        return output;
      },
      /**
       * Lazy static initialization function. Called before
       * accessing any of the static map variables.
       * @private
       */
      init_() {
        if (!this.byteToCharMap_) {
          this.byteToCharMap_ = {};
          this.charToByteMap_ = {};
          this.byteToCharMapWebSafe_ = {};
          this.charToByteMapWebSafe_ = {};
          for (let i3 = 0; i3 < this.ENCODED_VALS.length; i3++) {
            this.byteToCharMap_[i3] = this.ENCODED_VALS.charAt(i3);
            this.charToByteMap_[this.byteToCharMap_[i3]] = i3;
            this.byteToCharMapWebSafe_[i3] = this.ENCODED_VALS_WEBSAFE.charAt(i3);
            this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i3]] = i3;
            if (i3 >= this.ENCODED_VALS_BASE.length) {
              this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i3)] = i3;
              this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i3)] = i3;
            }
          }
        }
      }
    };
    DecodeBase64StringError = class extends Error {
      constructor() {
        super(...arguments);
        this.name = "DecodeBase64StringError";
      }
    };
    base64Encode = function(str) {
      const utf8Bytes = stringToByteArray$1(str);
      return base64.encodeByteArray(utf8Bytes, true);
    };
    base64urlEncodeWithoutPadding = function(str) {
      return base64Encode(str).replace(/\./g, "");
    };
    base64Decode = function(str) {
      try {
        return base64.decodeString(str, true);
      } catch (e3) {
        console.error("base64Decode failed: ", e3);
      }
      return null;
    };
    getDefaultsFromGlobal = () => getGlobal().__FIREBASE_DEFAULTS__;
    getDefaultsFromEnvVariable = () => {
      if (typeof process === "undefined" || typeof process.env === "undefined") {
        return;
      }
      const defaultsJsonString = process.env.__FIREBASE_DEFAULTS__;
      if (defaultsJsonString) {
        return JSON.parse(defaultsJsonString);
      }
    };
    getDefaultsFromCookie = () => {
      if (typeof document === "undefined") {
        return;
      }
      let match;
      try {
        match = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
      } catch (e3) {
        return;
      }
      const decoded = match && base64Decode(match[1]);
      return decoded && JSON.parse(decoded);
    };
    getDefaults = () => {
      try {
        return getDefaultsFromGlobal() || getDefaultsFromEnvVariable() || getDefaultsFromCookie();
      } catch (e3) {
        console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e3}`);
        return;
      }
    };
    getDefaultEmulatorHost = (productName) => {
      var _a, _b;
      return (_b = (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.emulatorHosts) === null || _b === void 0 ? void 0 : _b[productName];
    };
    getDefaultAppConfig = () => {
      var _a;
      return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.config;
    };
    getExperimentalSetting = (name5) => {
      var _a;
      return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a[`_${name5}`];
    };
    Deferred = class {
      constructor() {
        this.reject = () => {
        };
        this.resolve = () => {
        };
        this.promise = new Promise((resolve, reject) => {
          this.resolve = resolve;
          this.reject = reject;
        });
      }
      /**
       * Our API internals are not promisified and cannot because our callback APIs have subtle expectations around
       * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback
       * and returns a node-style callback which will resolve or reject the Deferred's promise.
       */
      wrapCallback(callback) {
        return (error2, value2) => {
          if (error2) {
            this.reject(error2);
          } else {
            this.resolve(value2);
          }
          if (typeof callback === "function") {
            this.promise.catch(() => {
            });
            if (callback.length === 1) {
              callback(error2);
            } else {
              callback(error2, value2);
            }
          }
        };
      }
    };
    ERROR_NAME = "FirebaseError";
    FirebaseError = class _FirebaseError extends Error {
      constructor(code, message, customData) {
        super(message);
        this.code = code;
        this.customData = customData;
        this.name = ERROR_NAME;
        Object.setPrototypeOf(this, _FirebaseError.prototype);
        if (Error.captureStackTrace) {
          Error.captureStackTrace(this, ErrorFactory.prototype.create);
        }
      }
    };
    ErrorFactory = class {
      constructor(service, serviceName, errors) {
        this.service = service;
        this.serviceName = serviceName;
        this.errors = errors;
      }
      create(code, ...data) {
        const customData = data[0] || {};
        const fullCode = `${this.service}/${code}`;
        const template = this.errors[code];
        const message = template ? replaceTemplate(template, customData) : "Error";
        const fullMessage = `${this.serviceName}: ${message} (${fullCode}).`;
        const error2 = new FirebaseError(fullCode, fullMessage, customData);
        return error2;
      }
    };
    PATTERN = /\{\$([^}]+)}/g;
    ObserverProxy = class {
      /**
       * @param executor Function which can make calls to a single Observer
       *     as a proxy.
       * @param onNoObservers Callback when count of Observers goes to zero.
       */
      constructor(executor, onNoObservers) {
        this.observers = [];
        this.unsubscribes = [];
        this.observerCount = 0;
        this.task = Promise.resolve();
        this.finalized = false;
        this.onNoObservers = onNoObservers;
        this.task.then(() => {
          executor(this);
        }).catch((e3) => {
          this.error(e3);
        });
      }
      next(value2) {
        this.forEachObserver((observer) => {
          observer.next(value2);
        });
      }
      error(error2) {
        this.forEachObserver((observer) => {
          observer.error(error2);
        });
        this.close(error2);
      }
      complete() {
        this.forEachObserver((observer) => {
          observer.complete();
        });
        this.close();
      }
      /**
       * Subscribe function that can be used to add an Observer to the fan-out list.
       *
       * - We require that no event is sent to a subscriber synchronously to their
       *   call to subscribe().
       */
      subscribe(nextOrObserver, error2, complete) {
        let observer;
        if (nextOrObserver === void 0 && error2 === void 0 && complete === void 0) {
          throw new Error("Missing Observer.");
        }
        if (implementsAnyMethods(nextOrObserver, [
          "next",
          "error",
          "complete"
        ])) {
          observer = nextOrObserver;
        } else {
          observer = {
            next: nextOrObserver,
            error: error2,
            complete
          };
        }
        if (observer.next === void 0) {
          observer.next = noop2;
        }
        if (observer.error === void 0) {
          observer.error = noop2;
        }
        if (observer.complete === void 0) {
          observer.complete = noop2;
        }
        const unsub = this.unsubscribeOne.bind(this, this.observers.length);
        if (this.finalized) {
          this.task.then(() => {
            try {
              if (this.finalError) {
                observer.error(this.finalError);
              } else {
                observer.complete();
              }
            } catch (e3) {
            }
            return;
          });
        }
        this.observers.push(observer);
        return unsub;
      }
      // Unsubscribe is synchronous - we guarantee that no events are sent to
      // any unsubscribed Observer.
      unsubscribeOne(i3) {
        if (this.observers === void 0 || this.observers[i3] === void 0) {
          return;
        }
        delete this.observers[i3];
        this.observerCount -= 1;
        if (this.observerCount === 0 && this.onNoObservers !== void 0) {
          this.onNoObservers(this);
        }
      }
      forEachObserver(fn) {
        if (this.finalized) {
          return;
        }
        for (let i3 = 0; i3 < this.observers.length; i3++) {
          this.sendOne(i3, fn);
        }
      }
      // Call the Observer via one of it's callback function. We are careful to
      // confirm that the observe has not been unsubscribed since this asynchronous
      // function had been queued.
      sendOne(i3, fn) {
        this.task.then(() => {
          if (this.observers !== void 0 && this.observers[i3] !== void 0) {
            try {
              fn(this.observers[i3]);
            } catch (e3) {
              if (typeof console !== "undefined" && console.error) {
                console.error(e3);
              }
            }
          }
        });
      }
      close(err) {
        if (this.finalized) {
          return;
        }
        this.finalized = true;
        if (err !== void 0) {
          this.finalError = err;
        }
        this.task.then(() => {
          this.observers = void 0;
          this.onNoObservers = void 0;
        });
      }
    };
    MAX_VALUE_MILLIS = 4 * 60 * 60 * 1e3;
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/component@0.6.9/node_modules/@firebase/component/dist/esm/index.esm2017.js
function normalizeIdentifierForFactory(identifier) {
  return identifier === DEFAULT_ENTRY_NAME ? void 0 : identifier;
}
function isComponentEager(component) {
  return component.instantiationMode === "EAGER";
}
var Component2, DEFAULT_ENTRY_NAME, Provider, ComponentContainer;
var init_index_esm20172 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/component@0.6.9/node_modules/@firebase/component/dist/esm/index.esm2017.js"() {
    init_index_esm2017();
    Component2 = class {
      /**
       *
       * @param name The public service name, e.g. app, auth, firestore, database
       * @param instanceFactory Service factory responsible for creating the public interface
       * @param type whether the service provided by the component is public or private
       */
      constructor(name5, instanceFactory, type2) {
        this.name = name5;
        this.instanceFactory = instanceFactory;
        this.type = type2;
        this.multipleInstances = false;
        this.serviceProps = {};
        this.instantiationMode = "LAZY";
        this.onInstanceCreated = null;
      }
      setInstantiationMode(mode) {
        this.instantiationMode = mode;
        return this;
      }
      setMultipleInstances(multipleInstances) {
        this.multipleInstances = multipleInstances;
        return this;
      }
      setServiceProps(props) {
        this.serviceProps = props;
        return this;
      }
      setInstanceCreatedCallback(callback) {
        this.onInstanceCreated = callback;
        return this;
      }
    };
    DEFAULT_ENTRY_NAME = "[DEFAULT]";
    Provider = class {
      constructor(name5, container) {
        this.name = name5;
        this.container = container;
        this.component = null;
        this.instances = /* @__PURE__ */ new Map();
        this.instancesDeferred = /* @__PURE__ */ new Map();
        this.instancesOptions = /* @__PURE__ */ new Map();
        this.onInitCallbacks = /* @__PURE__ */ new Map();
      }
      /**
       * @param identifier A provider can provide multiple instances of a service
       * if this.component.multipleInstances is true.
       */
      get(identifier) {
        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        if (!this.instancesDeferred.has(normalizedIdentifier)) {
          const deferred = new Deferred();
          this.instancesDeferred.set(normalizedIdentifier, deferred);
          if (this.isInitialized(normalizedIdentifier) || this.shouldAutoInitialize()) {
            try {
              const instance = this.getOrInitializeService({
                instanceIdentifier: normalizedIdentifier
              });
              if (instance) {
                deferred.resolve(instance);
              }
            } catch (e3) {
            }
          }
        }
        return this.instancesDeferred.get(normalizedIdentifier).promise;
      }
      getImmediate(options) {
        var _a;
        const normalizedIdentifier = this.normalizeInstanceIdentifier(options === null || options === void 0 ? void 0 : options.identifier);
        const optional = (_a = options === null || options === void 0 ? void 0 : options.optional) !== null && _a !== void 0 ? _a : false;
        if (this.isInitialized(normalizedIdentifier) || this.shouldAutoInitialize()) {
          try {
            return this.getOrInitializeService({
              instanceIdentifier: normalizedIdentifier
            });
          } catch (e3) {
            if (optional) {
              return null;
            } else {
              throw e3;
            }
          }
        } else {
          if (optional) {
            return null;
          } else {
            throw Error(`Service ${this.name} is not available`);
          }
        }
      }
      getComponent() {
        return this.component;
      }
      setComponent(component) {
        if (component.name !== this.name) {
          throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);
        }
        if (this.component) {
          throw Error(`Component for ${this.name} has already been provided`);
        }
        this.component = component;
        if (!this.shouldAutoInitialize()) {
          return;
        }
        if (isComponentEager(component)) {
          try {
            this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });
          } catch (e3) {
          }
        }
        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {
          const normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
          try {
            const instance = this.getOrInitializeService({
              instanceIdentifier: normalizedIdentifier
            });
            instanceDeferred.resolve(instance);
          } catch (e3) {
          }
        }
      }
      clearInstance(identifier = DEFAULT_ENTRY_NAME) {
        this.instancesDeferred.delete(identifier);
        this.instancesOptions.delete(identifier);
        this.instances.delete(identifier);
      }
      // app.delete() will call this method on every provider to delete the services
      // TODO: should we mark the provider as deleted?
      async delete() {
        const services = Array.from(this.instances.values());
        await Promise.all([
          ...services.filter((service) => "INTERNAL" in service).map((service) => service.INTERNAL.delete()),
          ...services.filter((service) => "_delete" in service).map((service) => service._delete())
        ]);
      }
      isComponentSet() {
        return this.component != null;
      }
      isInitialized(identifier = DEFAULT_ENTRY_NAME) {
        return this.instances.has(identifier);
      }
      getOptions(identifier = DEFAULT_ENTRY_NAME) {
        return this.instancesOptions.get(identifier) || {};
      }
      initialize(opts = {}) {
        const { options = {} } = opts;
        const normalizedIdentifier = this.normalizeInstanceIdentifier(opts.instanceIdentifier);
        if (this.isInitialized(normalizedIdentifier)) {
          throw Error(`${this.name}(${normalizedIdentifier}) has already been initialized`);
        }
        if (!this.isComponentSet()) {
          throw Error(`Component ${this.name} has not been registered yet`);
        }
        const instance = this.getOrInitializeService({
          instanceIdentifier: normalizedIdentifier,
          options
        });
        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {
          const normalizedDeferredIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
          if (normalizedIdentifier === normalizedDeferredIdentifier) {
            instanceDeferred.resolve(instance);
          }
        }
        return instance;
      }
      /**
       *
       * @param callback - a function that will be invoked  after the provider has been initialized by calling provider.initialize().
       * The function is invoked SYNCHRONOUSLY, so it should not execute any longrunning tasks in order to not block the program.
       *
       * @param identifier An optional instance identifier
       * @returns a function to unregister the callback
       */
      onInit(callback, identifier) {
        var _a;
        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        const existingCallbacks = (_a = this.onInitCallbacks.get(normalizedIdentifier)) !== null && _a !== void 0 ? _a : /* @__PURE__ */ new Set();
        existingCallbacks.add(callback);
        this.onInitCallbacks.set(normalizedIdentifier, existingCallbacks);
        const existingInstance = this.instances.get(normalizedIdentifier);
        if (existingInstance) {
          callback(existingInstance, normalizedIdentifier);
        }
        return () => {
          existingCallbacks.delete(callback);
        };
      }
      /**
       * Invoke onInit callbacks synchronously
       * @param instance the service instance`
       */
      invokeOnInitCallbacks(instance, identifier) {
        const callbacks = this.onInitCallbacks.get(identifier);
        if (!callbacks) {
          return;
        }
        for (const callback of callbacks) {
          try {
            callback(instance, identifier);
          } catch (_a) {
          }
        }
      }
      getOrInitializeService({ instanceIdentifier, options = {} }) {
        let instance = this.instances.get(instanceIdentifier);
        if (!instance && this.component) {
          instance = this.component.instanceFactory(this.container, {
            instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),
            options
          });
          this.instances.set(instanceIdentifier, instance);
          this.instancesOptions.set(instanceIdentifier, options);
          this.invokeOnInitCallbacks(instance, instanceIdentifier);
          if (this.component.onInstanceCreated) {
            try {
              this.component.onInstanceCreated(this.container, instanceIdentifier, instance);
            } catch (_a) {
            }
          }
        }
        return instance || null;
      }
      normalizeInstanceIdentifier(identifier = DEFAULT_ENTRY_NAME) {
        if (this.component) {
          return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;
        } else {
          return identifier;
        }
      }
      shouldAutoInitialize() {
        return !!this.component && this.component.instantiationMode !== "EXPLICIT";
      }
    };
    ComponentContainer = class {
      constructor(name5) {
        this.name = name5;
        this.providers = /* @__PURE__ */ new Map();
      }
      /**
       *
       * @param component Component being added
       * @param overwrite When a component with the same name has already been registered,
       * if overwrite is true: overwrite the existing component with the new component and create a new
       * provider with the new component. It can be useful in tests where you want to use different mocks
       * for different tests.
       * if overwrite is false: throw an exception
       */
      addComponent(component) {
        const provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
          throw new Error(`Component ${component.name} has already been registered with ${this.name}`);
        }
        provider.setComponent(component);
      }
      addOrOverwriteComponent(component) {
        const provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
          this.providers.delete(component.name);
        }
        this.addComponent(component);
      }
      /**
       * getProvider provides a type safe interface where it can only be called with a field name
       * present in NameServiceMapping interface.
       *
       * Firebase SDKs providing services should extend NameServiceMapping interface to register
       * themselves.
       */
      getProvider(name5) {
        if (this.providers.has(name5)) {
          return this.providers.get(name5);
        }
        const provider = new Provider(name5, this);
        this.providers.set(name5, provider);
        return provider;
      }
      getProviders() {
        return Array.from(this.providers.values());
      }
    };
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/logger@0.4.2/node_modules/@firebase/logger/dist/esm/index.esm2017.js
var instances, LogLevel, levelStringToEnum, defaultLogLevel, ConsoleMethod, defaultLogHandler, Logger;
var init_index_esm20173 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/logger@0.4.2/node_modules/@firebase/logger/dist/esm/index.esm2017.js"() {
    instances = [];
    (function(LogLevel2) {
      LogLevel2[LogLevel2["DEBUG"] = 0] = "DEBUG";
      LogLevel2[LogLevel2["VERBOSE"] = 1] = "VERBOSE";
      LogLevel2[LogLevel2["INFO"] = 2] = "INFO";
      LogLevel2[LogLevel2["WARN"] = 3] = "WARN";
      LogLevel2[LogLevel2["ERROR"] = 4] = "ERROR";
      LogLevel2[LogLevel2["SILENT"] = 5] = "SILENT";
    })(LogLevel || (LogLevel = {}));
    levelStringToEnum = {
      "debug": LogLevel.DEBUG,
      "verbose": LogLevel.VERBOSE,
      "info": LogLevel.INFO,
      "warn": LogLevel.WARN,
      "error": LogLevel.ERROR,
      "silent": LogLevel.SILENT
    };
    defaultLogLevel = LogLevel.INFO;
    ConsoleMethod = {
      [LogLevel.DEBUG]: "log",
      [LogLevel.VERBOSE]: "log",
      [LogLevel.INFO]: "info",
      [LogLevel.WARN]: "warn",
      [LogLevel.ERROR]: "error"
    };
    defaultLogHandler = (instance, logType, ...args) => {
      if (logType < instance.logLevel) {
        return;
      }
      const now = (/* @__PURE__ */ new Date()).toISOString();
      const method = ConsoleMethod[logType];
      if (method) {
        console[method](`[${now}]  ${instance.name}:`, ...args);
      } else {
        throw new Error(`Attempted to log a message with an invalid logType (value: ${logType})`);
      }
    };
    Logger = class {
      /**
       * Gives you an instance of a Logger to capture messages according to
       * Firebase's logging scheme.
       *
       * @param name The name that the logs will be associated with
       */
      constructor(name5) {
        this.name = name5;
        this._logLevel = defaultLogLevel;
        this._logHandler = defaultLogHandler;
        this._userLogHandler = null;
        instances.push(this);
      }
      get logLevel() {
        return this._logLevel;
      }
      set logLevel(val) {
        if (!(val in LogLevel)) {
          throw new TypeError(`Invalid value "${val}" assigned to \`logLevel\``);
        }
        this._logLevel = val;
      }
      // Workaround for setter/getter having to be the same type.
      setLogLevel(val) {
        this._logLevel = typeof val === "string" ? levelStringToEnum[val] : val;
      }
      get logHandler() {
        return this._logHandler;
      }
      set logHandler(val) {
        if (typeof val !== "function") {
          throw new TypeError("Value assigned to `logHandler` must be a function");
        }
        this._logHandler = val;
      }
      get userLogHandler() {
        return this._userLogHandler;
      }
      set userLogHandler(val) {
        this._userLogHandler = val;
      }
      /**
       * The functions below are all based on the `console` interface
       */
      debug(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.DEBUG, ...args);
        this._logHandler(this, LogLevel.DEBUG, ...args);
      }
      log(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.VERBOSE, ...args);
        this._logHandler(this, LogLevel.VERBOSE, ...args);
      }
      info(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.INFO, ...args);
        this._logHandler(this, LogLevel.INFO, ...args);
      }
      warn(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.WARN, ...args);
        this._logHandler(this, LogLevel.WARN, ...args);
      }
      error(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.ERROR, ...args);
        this._logHandler(this, LogLevel.ERROR, ...args);
      }
    };
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/wrap-idb-value.js
function getIdbProxyableTypes() {
  return idbProxyableTypes || (idbProxyableTypes = [
    IDBDatabase,
    IDBObjectStore,
    IDBIndex,
    IDBCursor,
    IDBTransaction
  ]);
}
function getCursorAdvanceMethods() {
  return cursorAdvanceMethods || (cursorAdvanceMethods = [
    IDBCursor.prototype.advance,
    IDBCursor.prototype.continue,
    IDBCursor.prototype.continuePrimaryKey
  ]);
}
function promisifyRequest(request) {
  const promise = new Promise((resolve, reject) => {
    const unlisten = () => {
      request.removeEventListener("success", success);
      request.removeEventListener("error", error2);
    };
    const success = () => {
      resolve(wrap(request.result));
      unlisten();
    };
    const error2 = () => {
      reject(request.error);
      unlisten();
    };
    request.addEventListener("success", success);
    request.addEventListener("error", error2);
  });
  promise.then((value2) => {
    if (value2 instanceof IDBCursor) {
      cursorRequestMap.set(value2, request);
    }
  }).catch(() => {
  });
  reverseTransformCache.set(promise, request);
  return promise;
}
function cacheDonePromiseForTransaction(tx) {
  if (transactionDoneMap.has(tx))
    return;
  const done = new Promise((resolve, reject) => {
    const unlisten = () => {
      tx.removeEventListener("complete", complete);
      tx.removeEventListener("error", error2);
      tx.removeEventListener("abort", error2);
    };
    const complete = () => {
      resolve();
      unlisten();
    };
    const error2 = () => {
      reject(tx.error || new DOMException("AbortError", "AbortError"));
      unlisten();
    };
    tx.addEventListener("complete", complete);
    tx.addEventListener("error", error2);
    tx.addEventListener("abort", error2);
  });
  transactionDoneMap.set(tx, done);
}
function replaceTraps(callback) {
  idbProxyTraps = callback(idbProxyTraps);
}
function wrapFunction(func) {
  if (func === IDBDatabase.prototype.transaction && !("objectStoreNames" in IDBTransaction.prototype)) {
    return function(storeNames, ...args) {
      const tx = func.call(unwrap(this), storeNames, ...args);
      transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);
      return wrap(tx);
    };
  }
  if (getCursorAdvanceMethods().includes(func)) {
    return function(...args) {
      func.apply(unwrap(this), args);
      return wrap(cursorRequestMap.get(this));
    };
  }
  return function(...args) {
    return wrap(func.apply(unwrap(this), args));
  };
}
function transformCachableValue(value2) {
  if (typeof value2 === "function")
    return wrapFunction(value2);
  if (value2 instanceof IDBTransaction)
    cacheDonePromiseForTransaction(value2);
  if (instanceOfAny(value2, getIdbProxyableTypes()))
    return new Proxy(value2, idbProxyTraps);
  return value2;
}
function wrap(value2) {
  if (value2 instanceof IDBRequest)
    return promisifyRequest(value2);
  if (transformCache.has(value2))
    return transformCache.get(value2);
  const newValue = transformCachableValue(value2);
  if (newValue !== value2) {
    transformCache.set(value2, newValue);
    reverseTransformCache.set(newValue, value2);
  }
  return newValue;
}
var instanceOfAny, idbProxyableTypes, cursorAdvanceMethods, cursorRequestMap, transactionDoneMap, transactionStoreNamesMap, transformCache, reverseTransformCache, idbProxyTraps, unwrap;
var init_wrap_idb_value = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/wrap-idb-value.js"() {
    instanceOfAny = (object, constructors) => constructors.some((c3) => object instanceof c3);
    cursorRequestMap = /* @__PURE__ */ new WeakMap();
    transactionDoneMap = /* @__PURE__ */ new WeakMap();
    transactionStoreNamesMap = /* @__PURE__ */ new WeakMap();
    transformCache = /* @__PURE__ */ new WeakMap();
    reverseTransformCache = /* @__PURE__ */ new WeakMap();
    idbProxyTraps = {
      get(target, prop, receiver) {
        if (target instanceof IDBTransaction) {
          if (prop === "done")
            return transactionDoneMap.get(target);
          if (prop === "objectStoreNames") {
            return target.objectStoreNames || transactionStoreNamesMap.get(target);
          }
          if (prop === "store") {
            return receiver.objectStoreNames[1] ? void 0 : receiver.objectStore(receiver.objectStoreNames[0]);
          }
        }
        return wrap(target[prop]);
      },
      set(target, prop, value2) {
        target[prop] = value2;
        return true;
      },
      has(target, prop) {
        if (target instanceof IDBTransaction && (prop === "done" || prop === "store")) {
          return true;
        }
        return prop in target;
      }
    };
    unwrap = (value2) => reverseTransformCache.get(value2);
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/index.js
function openDB(name5, version4, { blocked, upgrade, blocking, terminated } = {}) {
  const request = indexedDB.open(name5, version4);
  const openPromise = wrap(request);
  if (upgrade) {
    request.addEventListener("upgradeneeded", (event) => {
      upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);
    });
  }
  if (blocked) {
    request.addEventListener("blocked", (event) => blocked(
      // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405
      event.oldVersion,
      event.newVersion,
      event
    ));
  }
  openPromise.then((db) => {
    if (terminated)
      db.addEventListener("close", () => terminated());
    if (blocking) {
      db.addEventListener("versionchange", (event) => blocking(event.oldVersion, event.newVersion, event));
    }
  }).catch(() => {
  });
  return openPromise;
}
function getMethod(target, prop) {
  if (!(target instanceof IDBDatabase && !(prop in target) && typeof prop === "string")) {
    return;
  }
  if (cachedMethods.get(prop))
    return cachedMethods.get(prop);
  const targetFuncName = prop.replace(/FromIndex$/, "");
  const useIndex = prop !== targetFuncName;
  const isWrite = writeMethods.includes(targetFuncName);
  if (
    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.
    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) || !(isWrite || readMethods.includes(targetFuncName))
  ) {
    return;
  }
  const method = async function(storeName, ...args) {
    const tx = this.transaction(storeName, isWrite ? "readwrite" : "readonly");
    let target2 = tx.store;
    if (useIndex)
      target2 = target2.index(args.shift());
    return (await Promise.all([
      target2[targetFuncName](...args),
      isWrite && tx.done
    ]))[0];
  };
  cachedMethods.set(prop, method);
  return method;
}
var readMethods, writeMethods, cachedMethods;
var init_build = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/index.js"() {
    init_wrap_idb_value();
    init_wrap_idb_value();
    readMethods = ["get", "getKey", "getAll", "getAllKeys", "count"];
    writeMethods = ["put", "add", "delete", "clear"];
    cachedMethods = /* @__PURE__ */ new Map();
    replaceTraps((oldTraps) => ({
      ...oldTraps,
      get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),
      has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop)
    }));
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/app@0.10.13/node_modules/@firebase/app/dist/esm/index.esm2017.js
function isVersionServiceProvider(provider) {
  const component = provider.getComponent();
  return (component === null || component === void 0 ? void 0 : component.type) === "VERSION";
}
function _addComponent(app2, component) {
  try {
    app2.container.addComponent(component);
  } catch (e3) {
    logger.debug(`Component ${component.name} failed to register with FirebaseApp ${app2.name}`, e3);
  }
}
function _registerComponent(component) {
  const componentName = component.name;
  if (_components.has(componentName)) {
    logger.debug(`There were multiple attempts to register component ${componentName}.`);
    return false;
  }
  _components.set(componentName, component);
  for (const app2 of _apps.values()) {
    _addComponent(app2, component);
  }
  for (const serverApp of _serverApps.values()) {
    _addComponent(serverApp, component);
  }
  return true;
}
function _getProvider(app2, name5) {
  const heartbeatController = app2.container.getProvider("heartbeat").getImmediate({ optional: true });
  if (heartbeatController) {
    void heartbeatController.triggerHeartbeat();
  }
  return app2.container.getProvider(name5);
}
function _isFirebaseServerApp(obj) {
  return obj.settings !== void 0;
}
function initializeApp(_options, rawConfig = {}) {
  let options = _options;
  if (typeof rawConfig !== "object") {
    const name6 = rawConfig;
    rawConfig = { name: name6 };
  }
  const config = Object.assign({ name: DEFAULT_ENTRY_NAME2, automaticDataCollectionEnabled: false }, rawConfig);
  const name5 = config.name;
  if (typeof name5 !== "string" || !name5) {
    throw ERROR_FACTORY.create("bad-app-name", {
      appName: String(name5)
    });
  }
  options || (options = getDefaultAppConfig());
  if (!options) {
    throw ERROR_FACTORY.create(
      "no-options"
      /* AppError.NO_OPTIONS */
    );
  }
  const existingApp = _apps.get(name5);
  if (existingApp) {
    if (deepEqual(options, existingApp.options) && deepEqual(config, existingApp.config)) {
      return existingApp;
    } else {
      throw ERROR_FACTORY.create("duplicate-app", { appName: name5 });
    }
  }
  const container = new ComponentContainer(name5);
  for (const component of _components.values()) {
    container.addComponent(component);
  }
  const newApp = new FirebaseAppImpl(options, config, container);
  _apps.set(name5, newApp);
  return newApp;
}
function getApp(name5 = DEFAULT_ENTRY_NAME2) {
  const app2 = _apps.get(name5);
  if (!app2 && name5 === DEFAULT_ENTRY_NAME2 && getDefaultAppConfig()) {
    return initializeApp();
  }
  if (!app2) {
    throw ERROR_FACTORY.create("no-app", { appName: name5 });
  }
  return app2;
}
function getApps() {
  return Array.from(_apps.values());
}
function registerVersion(libraryKeyOrName, version4, variant) {
  var _a;
  let library = (_a = PLATFORM_LOG_STRING[libraryKeyOrName]) !== null && _a !== void 0 ? _a : libraryKeyOrName;
  if (variant) {
    library += `-${variant}`;
  }
  const libraryMismatch = library.match(/\s|\//);
  const versionMismatch = version4.match(/\s|\//);
  if (libraryMismatch || versionMismatch) {
    const warning2 = [
      `Unable to register library "${library}" with version "${version4}":`
    ];
    if (libraryMismatch) {
      warning2.push(`library name "${library}" contains illegal characters (whitespace or "/")`);
    }
    if (libraryMismatch && versionMismatch) {
      warning2.push("and");
    }
    if (versionMismatch) {
      warning2.push(`version name "${version4}" contains illegal characters (whitespace or "/")`);
    }
    logger.warn(warning2.join(" "));
    return;
  }
  _registerComponent(new Component2(
    `${library}-version`,
    () => ({ library, version: version4 }),
    "VERSION"
    /* ComponentType.VERSION */
  ));
}
function getDbPromise() {
  if (!dbPromise) {
    dbPromise = openDB(DB_NAME, DB_VERSION, {
      upgrade: (db, oldVersion) => {
        switch (oldVersion) {
          case 0:
            try {
              db.createObjectStore(STORE_NAME);
            } catch (e3) {
              console.warn(e3);
            }
        }
      }
    }).catch((e3) => {
      throw ERROR_FACTORY.create("idb-open", {
        originalErrorMessage: e3.message
      });
    });
  }
  return dbPromise;
}
async function readHeartbeatsFromIndexedDB(app2) {
  try {
    const db = await getDbPromise();
    const tx = db.transaction(STORE_NAME);
    const result = await tx.objectStore(STORE_NAME).get(computeKey(app2));
    await tx.done;
    return result;
  } catch (e3) {
    if (e3 instanceof FirebaseError) {
      logger.warn(e3.message);
    } else {
      const idbGetError = ERROR_FACTORY.create("idb-get", {
        originalErrorMessage: e3 === null || e3 === void 0 ? void 0 : e3.message
      });
      logger.warn(idbGetError.message);
    }
  }
}
async function writeHeartbeatsToIndexedDB(app2, heartbeatObject) {
  try {
    const db = await getDbPromise();
    const tx = db.transaction(STORE_NAME, "readwrite");
    const objectStore = tx.objectStore(STORE_NAME);
    await objectStore.put(heartbeatObject, computeKey(app2));
    await tx.done;
  } catch (e3) {
    if (e3 instanceof FirebaseError) {
      logger.warn(e3.message);
    } else {
      const idbGetError = ERROR_FACTORY.create("idb-set", {
        originalErrorMessage: e3 === null || e3 === void 0 ? void 0 : e3.message
      });
      logger.warn(idbGetError.message);
    }
  }
}
function computeKey(app2) {
  return `${app2.name}!${app2.options.appId}`;
}
function getUTCDateString() {
  const today = /* @__PURE__ */ new Date();
  return today.toISOString().substring(0, 10);
}
function extractHeartbeatsForHeader(heartbeatsCache, maxSize = MAX_HEADER_BYTES) {
  const heartbeatsToSend = [];
  let unsentEntries = heartbeatsCache.slice();
  for (const singleDateHeartbeat of heartbeatsCache) {
    const heartbeatEntry = heartbeatsToSend.find((hb) => hb.agent === singleDateHeartbeat.agent);
    if (!heartbeatEntry) {
      heartbeatsToSend.push({
        agent: singleDateHeartbeat.agent,
        dates: [singleDateHeartbeat.date]
      });
      if (countBytes(heartbeatsToSend) > maxSize) {
        heartbeatsToSend.pop();
        break;
      }
    } else {
      heartbeatEntry.dates.push(singleDateHeartbeat.date);
      if (countBytes(heartbeatsToSend) > maxSize) {
        heartbeatEntry.dates.pop();
        break;
      }
    }
    unsentEntries = unsentEntries.slice(1);
  }
  return {
    heartbeatsToSend,
    unsentEntries
  };
}
function countBytes(heartbeatsCache) {
  return base64urlEncodeWithoutPadding(
    // heartbeatsCache wrapper properties
    JSON.stringify({ version: 2, heartbeats: heartbeatsCache })
  ).length;
}
function registerCoreComponents(variant) {
  _registerComponent(new Component2(
    "platform-logger",
    (container) => new PlatformLoggerServiceImpl(container),
    "PRIVATE"
    /* ComponentType.PRIVATE */
  ));
  _registerComponent(new Component2(
    "heartbeat",
    (container) => new HeartbeatServiceImpl(container),
    "PRIVATE"
    /* ComponentType.PRIVATE */
  ));
  registerVersion(name$q, version$1, variant);
  registerVersion(name$q, version$1, "esm2017");
  registerVersion("fire-js", "");
}
var PlatformLoggerServiceImpl, name$q, version$1, logger, name$p, name$o, name$n, name$m, name$l, name$k, name$j, name$i, name$h, name$g, name$f, name$e, name$d, name$c, name$b, name$a, name$9, name$8, name$7, name$6, name$5, name$4, name$3, name$2, name$1, name2, version, DEFAULT_ENTRY_NAME2, PLATFORM_LOG_STRING, _apps, _serverApps, _components, ERRORS, ERROR_FACTORY, FirebaseAppImpl, SDK_VERSION, DB_NAME, DB_VERSION, STORE_NAME, dbPromise, MAX_HEADER_BYTES, STORED_HEARTBEAT_RETENTION_MAX_MILLIS, HeartbeatServiceImpl, HeartbeatStorageImpl;
var init_index_esm20174 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/app@0.10.13/node_modules/@firebase/app/dist/esm/index.esm2017.js"() {
    init_index_esm20172();
    init_index_esm20173();
    init_index_esm2017();
    init_index_esm2017();
    init_build();
    PlatformLoggerServiceImpl = class {
      constructor(container) {
        this.container = container;
      }
      // In initial implementation, this will be called by installations on
      // auth token refresh, and installations will send this string.
      getPlatformInfoString() {
        const providers = this.container.getProviders();
        return providers.map((provider) => {
          if (isVersionServiceProvider(provider)) {
            const service = provider.getImmediate();
            return `${service.library}/${service.version}`;
          } else {
            return null;
          }
        }).filter((logString) => logString).join(" ");
      }
    };
    name$q = "@firebase/app";
    version$1 = "0.10.13";
    logger = new Logger("@firebase/app");
    name$p = "@firebase/app-compat";
    name$o = "@firebase/analytics-compat";
    name$n = "@firebase/analytics";
    name$m = "@firebase/app-check-compat";
    name$l = "@firebase/app-check";
    name$k = "@firebase/auth";
    name$j = "@firebase/auth-compat";
    name$i = "@firebase/database";
    name$h = "@firebase/data-connect";
    name$g = "@firebase/database-compat";
    name$f = "@firebase/functions";
    name$e = "@firebase/functions-compat";
    name$d = "@firebase/installations";
    name$c = "@firebase/installations-compat";
    name$b = "@firebase/messaging";
    name$a = "@firebase/messaging-compat";
    name$9 = "@firebase/performance";
    name$8 = "@firebase/performance-compat";
    name$7 = "@firebase/remote-config";
    name$6 = "@firebase/remote-config-compat";
    name$5 = "@firebase/storage";
    name$4 = "@firebase/storage-compat";
    name$3 = "@firebase/firestore";
    name$2 = "@firebase/vertexai-preview";
    name$1 = "@firebase/firestore-compat";
    name2 = "firebase";
    version = "10.14.1";
    DEFAULT_ENTRY_NAME2 = "[DEFAULT]";
    PLATFORM_LOG_STRING = {
      [name$q]: "fire-core",
      [name$p]: "fire-core-compat",
      [name$n]: "fire-analytics",
      [name$o]: "fire-analytics-compat",
      [name$l]: "fire-app-check",
      [name$m]: "fire-app-check-compat",
      [name$k]: "fire-auth",
      [name$j]: "fire-auth-compat",
      [name$i]: "fire-rtdb",
      [name$h]: "fire-data-connect",
      [name$g]: "fire-rtdb-compat",
      [name$f]: "fire-fn",
      [name$e]: "fire-fn-compat",
      [name$d]: "fire-iid",
      [name$c]: "fire-iid-compat",
      [name$b]: "fire-fcm",
      [name$a]: "fire-fcm-compat",
      [name$9]: "fire-perf",
      [name$8]: "fire-perf-compat",
      [name$7]: "fire-rc",
      [name$6]: "fire-rc-compat",
      [name$5]: "fire-gcs",
      [name$4]: "fire-gcs-compat",
      [name$3]: "fire-fst",
      [name$1]: "fire-fst-compat",
      [name$2]: "fire-vertex",
      "fire-js": "fire-js",
      [name2]: "fire-js-all"
    };
    _apps = /* @__PURE__ */ new Map();
    _serverApps = /* @__PURE__ */ new Map();
    _components = /* @__PURE__ */ new Map();
    ERRORS = {
      [
        "no-app"
        /* AppError.NO_APP */
      ]: "No Firebase App '{$appName}' has been created - call initializeApp() first",
      [
        "bad-app-name"
        /* AppError.BAD_APP_NAME */
      ]: "Illegal App name: '{$appName}'",
      [
        "duplicate-app"
        /* AppError.DUPLICATE_APP */
      ]: "Firebase App named '{$appName}' already exists with different options or config",
      [
        "app-deleted"
        /* AppError.APP_DELETED */
      ]: "Firebase App named '{$appName}' already deleted",
      [
        "server-app-deleted"
        /* AppError.SERVER_APP_DELETED */
      ]: "Firebase Server App has been deleted",
      [
        "no-options"
        /* AppError.NO_OPTIONS */
      ]: "Need to provide options, when not being deployed to hosting via source.",
      [
        "invalid-app-argument"
        /* AppError.INVALID_APP_ARGUMENT */
      ]: "firebase.{$appName}() takes either no argument or a Firebase App instance.",
      [
        "invalid-log-argument"
        /* AppError.INVALID_LOG_ARGUMENT */
      ]: "First argument to `onLog` must be null or a function.",
      [
        "idb-open"
        /* AppError.IDB_OPEN */
      ]: "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "idb-get"
        /* AppError.IDB_GET */
      ]: "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "idb-set"
        /* AppError.IDB_WRITE */
      ]: "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "idb-delete"
        /* AppError.IDB_DELETE */
      ]: "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "finalization-registry-not-supported"
        /* AppError.FINALIZATION_REGISTRY_NOT_SUPPORTED */
      ]: "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",
      [
        "invalid-server-app-environment"
        /* AppError.INVALID_SERVER_APP_ENVIRONMENT */
      ]: "FirebaseServerApp is not for use in browser environments."
    };
    ERROR_FACTORY = new ErrorFactory("app", "Firebase", ERRORS);
    FirebaseAppImpl = class {
      constructor(options, config, container) {
        this._isDeleted = false;
        this._options = Object.assign({}, options);
        this._config = Object.assign({}, config);
        this._name = config.name;
        this._automaticDataCollectionEnabled = config.automaticDataCollectionEnabled;
        this._container = container;
        this.container.addComponent(new Component2(
          "app",
          () => this,
          "PUBLIC"
          /* ComponentType.PUBLIC */
        ));
      }
      get automaticDataCollectionEnabled() {
        this.checkDestroyed();
        return this._automaticDataCollectionEnabled;
      }
      set automaticDataCollectionEnabled(val) {
        this.checkDestroyed();
        this._automaticDataCollectionEnabled = val;
      }
      get name() {
        this.checkDestroyed();
        return this._name;
      }
      get options() {
        this.checkDestroyed();
        return this._options;
      }
      get config() {
        this.checkDestroyed();
        return this._config;
      }
      get container() {
        return this._container;
      }
      get isDeleted() {
        return this._isDeleted;
      }
      set isDeleted(val) {
        this._isDeleted = val;
      }
      /**
       * This function will throw an Error if the App has already been deleted -
       * use before performing API actions on the App.
       */
      checkDestroyed() {
        if (this.isDeleted) {
          throw ERROR_FACTORY.create("app-deleted", { appName: this._name });
        }
      }
    };
    SDK_VERSION = version;
    DB_NAME = "firebase-heartbeat-database";
    DB_VERSION = 1;
    STORE_NAME = "firebase-heartbeat-store";
    dbPromise = null;
    MAX_HEADER_BYTES = 1024;
    STORED_HEARTBEAT_RETENTION_MAX_MILLIS = 30 * 24 * 60 * 60 * 1e3;
    HeartbeatServiceImpl = class {
      constructor(container) {
        this.container = container;
        this._heartbeatsCache = null;
        const app2 = this.container.getProvider("app").getImmediate();
        this._storage = new HeartbeatStorageImpl(app2);
        this._heartbeatsCachePromise = this._storage.read().then((result) => {
          this._heartbeatsCache = result;
          return result;
        });
      }
      /**
       * Called to report a heartbeat. The function will generate
       * a HeartbeatsByUserAgent object, update heartbeatsCache, and persist it
       * to IndexedDB.
       * Note that we only store one heartbeat per day. So if a heartbeat for today is
       * already logged, subsequent calls to this function in the same day will be ignored.
       */
      async triggerHeartbeat() {
        var _a, _b;
        try {
          const platformLogger = this.container.getProvider("platform-logger").getImmediate();
          const agent = platformLogger.getPlatformInfoString();
          const date = getUTCDateString();
          if (((_a = this._heartbeatsCache) === null || _a === void 0 ? void 0 : _a.heartbeats) == null) {
            this._heartbeatsCache = await this._heartbeatsCachePromise;
            if (((_b = this._heartbeatsCache) === null || _b === void 0 ? void 0 : _b.heartbeats) == null) {
              return;
            }
          }
          if (this._heartbeatsCache.lastSentHeartbeatDate === date || this._heartbeatsCache.heartbeats.some((singleDateHeartbeat) => singleDateHeartbeat.date === date)) {
            return;
          } else {
            this._heartbeatsCache.heartbeats.push({ date, agent });
          }
          this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter((singleDateHeartbeat) => {
            const hbTimestamp = new Date(singleDateHeartbeat.date).valueOf();
            const now = Date.now();
            return now - hbTimestamp <= STORED_HEARTBEAT_RETENTION_MAX_MILLIS;
          });
          return this._storage.overwrite(this._heartbeatsCache);
        } catch (e3) {
          logger.warn(e3);
        }
      }
      /**
       * Returns a base64 encoded string which can be attached to the heartbeat-specific header directly.
       * It also clears all heartbeats from memory as well as in IndexedDB.
       *
       * NOTE: Consuming product SDKs should not send the header if this method
       * returns an empty string.
       */
      async getHeartbeatsHeader() {
        var _a;
        try {
          if (this._heartbeatsCache === null) {
            await this._heartbeatsCachePromise;
          }
          if (((_a = this._heartbeatsCache) === null || _a === void 0 ? void 0 : _a.heartbeats) == null || this._heartbeatsCache.heartbeats.length === 0) {
            return "";
          }
          const date = getUTCDateString();
          const { heartbeatsToSend, unsentEntries } = extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats);
          const headerString = base64urlEncodeWithoutPadding(JSON.stringify({ version: 2, heartbeats: heartbeatsToSend }));
          this._heartbeatsCache.lastSentHeartbeatDate = date;
          if (unsentEntries.length > 0) {
            this._heartbeatsCache.heartbeats = unsentEntries;
            await this._storage.overwrite(this._heartbeatsCache);
          } else {
            this._heartbeatsCache.heartbeats = [];
            void this._storage.overwrite(this._heartbeatsCache);
          }
          return headerString;
        } catch (e3) {
          logger.warn(e3);
          return "";
        }
      }
    };
    HeartbeatStorageImpl = class {
      constructor(app2) {
        this.app = app2;
        this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();
      }
      async runIndexedDBEnvironmentCheck() {
        if (!isIndexedDBAvailable()) {
          return false;
        } else {
          return validateIndexedDBOpenable().then(() => true).catch(() => false);
        }
      }
      /**
       * Read all heartbeats.
       */
      async read() {
        const canUseIndexedDB = await this._canUseIndexedDBPromise;
        if (!canUseIndexedDB) {
          return { heartbeats: [] };
        } else {
          const idbHeartbeatObject = await readHeartbeatsFromIndexedDB(this.app);
          if (idbHeartbeatObject === null || idbHeartbeatObject === void 0 ? void 0 : idbHeartbeatObject.heartbeats) {
            return idbHeartbeatObject;
          } else {
            return { heartbeats: [] };
          }
        }
      }
      // overwrite the storage with the provided heartbeats
      async overwrite(heartbeatsObject) {
        var _a;
        const canUseIndexedDB = await this._canUseIndexedDBPromise;
        if (!canUseIndexedDB) {
          return;
        } else {
          const existingHeartbeatsObject = await this.read();
          return writeHeartbeatsToIndexedDB(this.app, {
            lastSentHeartbeatDate: (_a = heartbeatsObject.lastSentHeartbeatDate) !== null && _a !== void 0 ? _a : existingHeartbeatsObject.lastSentHeartbeatDate,
            heartbeats: heartbeatsObject.heartbeats
          });
        }
      }
      // add heartbeats
      async add(heartbeatsObject) {
        var _a;
        const canUseIndexedDB = await this._canUseIndexedDBPromise;
        if (!canUseIndexedDB) {
          return;
        } else {
          const existingHeartbeatsObject = await this.read();
          return writeHeartbeatsToIndexedDB(this.app, {
            lastSentHeartbeatDate: (_a = heartbeatsObject.lastSentHeartbeatDate) !== null && _a !== void 0 ? _a : existingHeartbeatsObject.lastSentHeartbeatDate,
            heartbeats: [
              ...existingHeartbeatsObject.heartbeats,
              ...heartbeatsObject.heartbeats
            ]
          });
        }
      }
    };
    registerCoreComponents("");
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs
function __rest(s, e3) {
  var t2 = {};
  for (var p3 in s) if (Object.prototype.hasOwnProperty.call(s, p3) && e3.indexOf(p3) < 0)
    t2[p3] = s[p3];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i3 = 0, p3 = Object.getOwnPropertySymbols(s); i3 < p3.length; i3++) {
      if (e3.indexOf(p3[i3]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p3[i3]))
        t2[p3[i3]] = s[p3[i3]];
    }
  return t2;
}
var init_tslib_es6 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs"() {
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index-68602d24.js
function _debugErrorMap() {
  return {
    [
      "admin-restricted-operation"
      /* AuthErrorCode.ADMIN_ONLY_OPERATION */
    ]: "This operation is restricted to administrators only.",
    [
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    ]: "",
    [
      "app-not-authorized"
      /* AuthErrorCode.APP_NOT_AUTHORIZED */
    ]: "This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",
    [
      "app-not-installed"
      /* AuthErrorCode.APP_NOT_INSTALLED */
    ]: "The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",
    [
      "captcha-check-failed"
      /* AuthErrorCode.CAPTCHA_CHECK_FAILED */
    ]: "The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",
    [
      "code-expired"
      /* AuthErrorCode.CODE_EXPIRED */
    ]: "The SMS code has expired. Please re-send the verification code to try again.",
    [
      "cordova-not-ready"
      /* AuthErrorCode.CORDOVA_NOT_READY */
    ]: "Cordova framework is not ready.",
    [
      "cors-unsupported"
      /* AuthErrorCode.CORS_UNSUPPORTED */
    ]: "This browser is not supported.",
    [
      "credential-already-in-use"
      /* AuthErrorCode.CREDENTIAL_ALREADY_IN_USE */
    ]: "This credential is already associated with a different user account.",
    [
      "custom-token-mismatch"
      /* AuthErrorCode.CREDENTIAL_MISMATCH */
    ]: "The custom token corresponds to a different audience.",
    [
      "requires-recent-login"
      /* AuthErrorCode.CREDENTIAL_TOO_OLD_LOGIN_AGAIN */
    ]: "This operation is sensitive and requires recent authentication. Log in again before retrying this request.",
    [
      "dependent-sdk-initialized-before-auth"
      /* AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH */
    ]: "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",
    [
      "dynamic-link-not-activated"
      /* AuthErrorCode.DYNAMIC_LINK_NOT_ACTIVATED */
    ]: "Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",
    [
      "email-change-needs-verification"
      /* AuthErrorCode.EMAIL_CHANGE_NEEDS_VERIFICATION */
    ]: "Multi-factor users must always have a verified email.",
    [
      "email-already-in-use"
      /* AuthErrorCode.EMAIL_EXISTS */
    ]: "The email address is already in use by another account.",
    [
      "emulator-config-failed"
      /* AuthErrorCode.EMULATOR_CONFIG_FAILED */
    ]: 'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',
    [
      "expired-action-code"
      /* AuthErrorCode.EXPIRED_OOB_CODE */
    ]: "The action code has expired.",
    [
      "cancelled-popup-request"
      /* AuthErrorCode.EXPIRED_POPUP_REQUEST */
    ]: "This operation has been cancelled due to another conflicting popup being opened.",
    [
      "internal-error"
      /* AuthErrorCode.INTERNAL_ERROR */
    ]: "An internal AuthError has occurred.",
    [
      "invalid-app-credential"
      /* AuthErrorCode.INVALID_APP_CREDENTIAL */
    ]: "The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",
    [
      "invalid-app-id"
      /* AuthErrorCode.INVALID_APP_ID */
    ]: "The mobile app identifier is not registered for the current project.",
    [
      "invalid-user-token"
      /* AuthErrorCode.INVALID_AUTH */
    ]: "This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",
    [
      "invalid-auth-event"
      /* AuthErrorCode.INVALID_AUTH_EVENT */
    ]: "An internal AuthError has occurred.",
    [
      "invalid-verification-code"
      /* AuthErrorCode.INVALID_CODE */
    ]: "The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",
    [
      "invalid-continue-uri"
      /* AuthErrorCode.INVALID_CONTINUE_URI */
    ]: "The continue URL provided in the request is invalid.",
    [
      "invalid-cordova-configuration"
      /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */
    ]: "The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",
    [
      "invalid-custom-token"
      /* AuthErrorCode.INVALID_CUSTOM_TOKEN */
    ]: "The custom token format is incorrect. Please check the documentation.",
    [
      "invalid-dynamic-link-domain"
      /* AuthErrorCode.INVALID_DYNAMIC_LINK_DOMAIN */
    ]: "The provided dynamic link domain is not configured or authorized for the current project.",
    [
      "invalid-email"
      /* AuthErrorCode.INVALID_EMAIL */
    ]: "The email address is badly formatted.",
    [
      "invalid-emulator-scheme"
      /* AuthErrorCode.INVALID_EMULATOR_SCHEME */
    ]: "Emulator URL must start with a valid scheme (http:// or https://).",
    [
      "invalid-api-key"
      /* AuthErrorCode.INVALID_API_KEY */
    ]: "Your API key is invalid, please check you have copied it correctly.",
    [
      "invalid-cert-hash"
      /* AuthErrorCode.INVALID_CERT_HASH */
    ]: "The SHA-1 certificate hash provided is invalid.",
    [
      "invalid-credential"
      /* AuthErrorCode.INVALID_CREDENTIAL */
    ]: "The supplied auth credential is incorrect, malformed or has expired.",
    [
      "invalid-message-payload"
      /* AuthErrorCode.INVALID_MESSAGE_PAYLOAD */
    ]: "The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",
    [
      "invalid-multi-factor-session"
      /* AuthErrorCode.INVALID_MFA_SESSION */
    ]: "The request does not contain a valid proof of first factor successful sign-in.",
    [
      "invalid-oauth-provider"
      /* AuthErrorCode.INVALID_OAUTH_PROVIDER */
    ]: "EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",
    [
      "invalid-oauth-client-id"
      /* AuthErrorCode.INVALID_OAUTH_CLIENT_ID */
    ]: "The OAuth client ID provided is either invalid or does not match the specified API key.",
    [
      "unauthorized-domain"
      /* AuthErrorCode.INVALID_ORIGIN */
    ]: "This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",
    [
      "invalid-action-code"
      /* AuthErrorCode.INVALID_OOB_CODE */
    ]: "The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",
    [
      "wrong-password"
      /* AuthErrorCode.INVALID_PASSWORD */
    ]: "The password is invalid or the user does not have a password.",
    [
      "invalid-persistence-type"
      /* AuthErrorCode.INVALID_PERSISTENCE */
    ]: "The specified persistence type is invalid. It can only be local, session or none.",
    [
      "invalid-phone-number"
      /* AuthErrorCode.INVALID_PHONE_NUMBER */
    ]: "The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",
    [
      "invalid-provider-id"
      /* AuthErrorCode.INVALID_PROVIDER_ID */
    ]: "The specified provider ID is invalid.",
    [
      "invalid-recipient-email"
      /* AuthErrorCode.INVALID_RECIPIENT_EMAIL */
    ]: "The email corresponding to this action failed to send as the provided recipient email address is invalid.",
    [
      "invalid-sender"
      /* AuthErrorCode.INVALID_SENDER */
    ]: "The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",
    [
      "invalid-verification-id"
      /* AuthErrorCode.INVALID_SESSION_INFO */
    ]: "The verification ID used to create the phone auth credential is invalid.",
    [
      "invalid-tenant-id"
      /* AuthErrorCode.INVALID_TENANT_ID */
    ]: "The Auth instance's tenant ID is invalid.",
    [
      "login-blocked"
      /* AuthErrorCode.LOGIN_BLOCKED */
    ]: "Login blocked by user-provided method: {$originalMessage}",
    [
      "missing-android-pkg-name"
      /* AuthErrorCode.MISSING_ANDROID_PACKAGE_NAME */
    ]: "An Android Package Name must be provided if the Android App is required to be installed.",
    [
      "auth-domain-config-required"
      /* AuthErrorCode.MISSING_AUTH_DOMAIN */
    ]: "Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",
    [
      "missing-app-credential"
      /* AuthErrorCode.MISSING_APP_CREDENTIAL */
    ]: "The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",
    [
      "missing-verification-code"
      /* AuthErrorCode.MISSING_CODE */
    ]: "The phone auth credential was created with an empty SMS verification code.",
    [
      "missing-continue-uri"
      /* AuthErrorCode.MISSING_CONTINUE_URI */
    ]: "A continue URL must be provided in the request.",
    [
      "missing-iframe-start"
      /* AuthErrorCode.MISSING_IFRAME_START */
    ]: "An internal AuthError has occurred.",
    [
      "missing-ios-bundle-id"
      /* AuthErrorCode.MISSING_IOS_BUNDLE_ID */
    ]: "An iOS Bundle ID must be provided if an App Store ID is provided.",
    [
      "missing-or-invalid-nonce"
      /* AuthErrorCode.MISSING_OR_INVALID_NONCE */
    ]: "The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",
    [
      "missing-password"
      /* AuthErrorCode.MISSING_PASSWORD */
    ]: "A non-empty password must be provided",
    [
      "missing-multi-factor-info"
      /* AuthErrorCode.MISSING_MFA_INFO */
    ]: "No second factor identifier is provided.",
    [
      "missing-multi-factor-session"
      /* AuthErrorCode.MISSING_MFA_SESSION */
    ]: "The request is missing proof of first factor successful sign-in.",
    [
      "missing-phone-number"
      /* AuthErrorCode.MISSING_PHONE_NUMBER */
    ]: "To send verification codes, provide a phone number for the recipient.",
    [
      "missing-verification-id"
      /* AuthErrorCode.MISSING_SESSION_INFO */
    ]: "The phone auth credential was created with an empty verification ID.",
    [
      "app-deleted"
      /* AuthErrorCode.MODULE_DESTROYED */
    ]: "This instance of FirebaseApp has been deleted.",
    [
      "multi-factor-info-not-found"
      /* AuthErrorCode.MFA_INFO_NOT_FOUND */
    ]: "The user does not have a second factor matching the identifier provided.",
    [
      "multi-factor-auth-required"
      /* AuthErrorCode.MFA_REQUIRED */
    ]: "Proof of ownership of a second factor is required to complete sign-in.",
    [
      "account-exists-with-different-credential"
      /* AuthErrorCode.NEED_CONFIRMATION */
    ]: "An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",
    [
      "network-request-failed"
      /* AuthErrorCode.NETWORK_REQUEST_FAILED */
    ]: "A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",
    [
      "no-auth-event"
      /* AuthErrorCode.NO_AUTH_EVENT */
    ]: "An internal AuthError has occurred.",
    [
      "no-such-provider"
      /* AuthErrorCode.NO_SUCH_PROVIDER */
    ]: "User was not linked to an account with the given provider.",
    [
      "null-user"
      /* AuthErrorCode.NULL_USER */
    ]: "A null user object was provided as the argument for an operation which requires a non-null user object.",
    [
      "operation-not-allowed"
      /* AuthErrorCode.OPERATION_NOT_ALLOWED */
    ]: "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",
    [
      "operation-not-supported-in-this-environment"
      /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
    ]: 'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',
    [
      "popup-blocked"
      /* AuthErrorCode.POPUP_BLOCKED */
    ]: "Unable to establish a connection with the popup. It may have been blocked by the browser.",
    [
      "popup-closed-by-user"
      /* AuthErrorCode.POPUP_CLOSED_BY_USER */
    ]: "The popup has been closed by the user before finalizing the operation.",
    [
      "provider-already-linked"
      /* AuthErrorCode.PROVIDER_ALREADY_LINKED */
    ]: "User can only be linked to one identity for the given provider.",
    [
      "quota-exceeded"
      /* AuthErrorCode.QUOTA_EXCEEDED */
    ]: "The project's quota for this operation has been exceeded.",
    [
      "redirect-cancelled-by-user"
      /* AuthErrorCode.REDIRECT_CANCELLED_BY_USER */
    ]: "The redirect operation has been cancelled by the user before finalizing.",
    [
      "redirect-operation-pending"
      /* AuthErrorCode.REDIRECT_OPERATION_PENDING */
    ]: "A redirect sign-in operation is already pending.",
    [
      "rejected-credential"
      /* AuthErrorCode.REJECTED_CREDENTIAL */
    ]: "The request contains malformed or mismatching credentials.",
    [
      "second-factor-already-in-use"
      /* AuthErrorCode.SECOND_FACTOR_ALREADY_ENROLLED */
    ]: "The second factor is already enrolled on this account.",
    [
      "maximum-second-factor-count-exceeded"
      /* AuthErrorCode.SECOND_FACTOR_LIMIT_EXCEEDED */
    ]: "The maximum allowed number of second factors on a user has been exceeded.",
    [
      "tenant-id-mismatch"
      /* AuthErrorCode.TENANT_ID_MISMATCH */
    ]: "The provided tenant ID does not match the Auth instance's tenant ID",
    [
      "timeout"
      /* AuthErrorCode.TIMEOUT */
    ]: "The operation has timed out.",
    [
      "user-token-expired"
      /* AuthErrorCode.TOKEN_EXPIRED */
    ]: "The user's credential is no longer valid. The user must sign in again.",
    [
      "too-many-requests"
      /* AuthErrorCode.TOO_MANY_ATTEMPTS_TRY_LATER */
    ]: "We have blocked all requests from this device due to unusual activity. Try again later.",
    [
      "unauthorized-continue-uri"
      /* AuthErrorCode.UNAUTHORIZED_DOMAIN */
    ]: "The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",
    [
      "unsupported-first-factor"
      /* AuthErrorCode.UNSUPPORTED_FIRST_FACTOR */
    ]: "Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",
    [
      "unsupported-persistence-type"
      /* AuthErrorCode.UNSUPPORTED_PERSISTENCE */
    ]: "The current environment does not support the specified persistence type.",
    [
      "unsupported-tenant-operation"
      /* AuthErrorCode.UNSUPPORTED_TENANT_OPERATION */
    ]: "This operation is not supported in a multi-tenant context.",
    [
      "unverified-email"
      /* AuthErrorCode.UNVERIFIED_EMAIL */
    ]: "The operation requires a verified email.",
    [
      "user-cancelled"
      /* AuthErrorCode.USER_CANCELLED */
    ]: "The user did not grant your application the permissions it requested.",
    [
      "user-not-found"
      /* AuthErrorCode.USER_DELETED */
    ]: "There is no user record corresponding to this identifier. The user may have been deleted.",
    [
      "user-disabled"
      /* AuthErrorCode.USER_DISABLED */
    ]: "The user account has been disabled by an administrator.",
    [
      "user-mismatch"
      /* AuthErrorCode.USER_MISMATCH */
    ]: "The supplied credentials do not correspond to the previously signed in user.",
    [
      "user-signed-out"
      /* AuthErrorCode.USER_SIGNED_OUT */
    ]: "",
    [
      "weak-password"
      /* AuthErrorCode.WEAK_PASSWORD */
    ]: "The password must be 6 characters long or more.",
    [
      "web-storage-unsupported"
      /* AuthErrorCode.WEB_STORAGE_UNSUPPORTED */
    ]: "This browser is not supported or 3rd party cookies and data may be disabled.",
    [
      "already-initialized"
      /* AuthErrorCode.ALREADY_INITIALIZED */
    ]: "initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",
    [
      "missing-recaptcha-token"
      /* AuthErrorCode.MISSING_RECAPTCHA_TOKEN */
    ]: "The reCAPTCHA token is missing when sending request to the backend.",
    [
      "invalid-recaptcha-token"
      /* AuthErrorCode.INVALID_RECAPTCHA_TOKEN */
    ]: "The reCAPTCHA token is invalid when sending request to the backend.",
    [
      "invalid-recaptcha-action"
      /* AuthErrorCode.INVALID_RECAPTCHA_ACTION */
    ]: "The reCAPTCHA action is invalid when sending request to the backend.",
    [
      "recaptcha-not-enabled"
      /* AuthErrorCode.RECAPTCHA_NOT_ENABLED */
    ]: "reCAPTCHA Enterprise integration is not enabled for this project.",
    [
      "missing-client-type"
      /* AuthErrorCode.MISSING_CLIENT_TYPE */
    ]: "The reCAPTCHA client type is missing when sending request to the backend.",
    [
      "missing-recaptcha-version"
      /* AuthErrorCode.MISSING_RECAPTCHA_VERSION */
    ]: "The reCAPTCHA version is missing when sending request to the backend.",
    [
      "invalid-req-type"
      /* AuthErrorCode.INVALID_REQ_TYPE */
    ]: "Invalid request parameters.",
    [
      "invalid-recaptcha-version"
      /* AuthErrorCode.INVALID_RECAPTCHA_VERSION */
    ]: "The reCAPTCHA version is invalid when sending request to the backend.",
    [
      "unsupported-password-policy-schema-version"
      /* AuthErrorCode.UNSUPPORTED_PASSWORD_POLICY_SCHEMA_VERSION */
    ]: "The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.",
    [
      "password-does-not-meet-requirements"
      /* AuthErrorCode.PASSWORD_DOES_NOT_MEET_REQUIREMENTS */
    ]: "The password does not meet the requirements."
  };
}
function _prodErrorMap() {
  return {
    [
      "dependent-sdk-initialized-before-auth"
      /* AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH */
    ]: "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."
  };
}
function _logWarn(msg, ...args) {
  if (logClient.logLevel <= LogLevel.WARN) {
    logClient.warn(`Auth (${SDK_VERSION}): ${msg}`, ...args);
  }
}
function _logError(msg, ...args) {
  if (logClient.logLevel <= LogLevel.ERROR) {
    logClient.error(`Auth (${SDK_VERSION}): ${msg}`, ...args);
  }
}
function _fail(authOrCode, ...rest) {
  throw createErrorInternal(authOrCode, ...rest);
}
function _createError(authOrCode, ...rest) {
  return createErrorInternal(authOrCode, ...rest);
}
function _errorWithCustomMessage(auth2, code, message) {
  const errorMap = Object.assign(Object.assign({}, prodErrorMap()), { [code]: message });
  const factory = new ErrorFactory("auth", "Firebase", errorMap);
  return factory.create(code, {
    appName: auth2.name
  });
}
function _serverAppCurrentUserOperationNotSupportedError(auth2) {
  return _errorWithCustomMessage(auth2, "operation-not-supported-in-this-environment", "Operations that alter the current user are not supported in conjunction with FirebaseServerApp");
}
function _assertInstanceOf(auth2, object, instance) {
  const constructorInstance = instance;
  if (!(object instanceof constructorInstance)) {
    if (constructorInstance.name !== object.constructor.name) {
      _fail(
        auth2,
        "argument-error"
        /* AuthErrorCode.ARGUMENT_ERROR */
      );
    }
    throw _errorWithCustomMessage(auth2, "argument-error", `Type of ${object.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`);
  }
}
function createErrorInternal(authOrCode, ...rest) {
  if (typeof authOrCode !== "string") {
    const code = rest[0];
    const fullParams = [...rest.slice(1)];
    if (fullParams[0]) {
      fullParams[0].appName = authOrCode.name;
    }
    return authOrCode._errorFactory.create(code, ...fullParams);
  }
  return _DEFAULT_AUTH_ERROR_FACTORY.create(authOrCode, ...rest);
}
function _assert(assertion, authOrCode, ...rest) {
  if (!assertion) {
    throw createErrorInternal(authOrCode, ...rest);
  }
}
function debugFail(failure) {
  const message = `INTERNAL ASSERTION FAILED: ` + failure;
  _logError(message);
  throw new Error(message);
}
function debugAssert(assertion, message) {
  if (!assertion) {
    debugFail(message);
  }
}
function _getCurrentUrl() {
  var _a;
  return typeof self !== "undefined" && ((_a = self.location) === null || _a === void 0 ? void 0 : _a.href) || "";
}
function _isHttpOrHttps() {
  return _getCurrentScheme() === "http:" || _getCurrentScheme() === "https:";
}
function _getCurrentScheme() {
  var _a;
  return typeof self !== "undefined" && ((_a = self.location) === null || _a === void 0 ? void 0 : _a.protocol) || null;
}
function _isOnline() {
  if (typeof navigator !== "undefined" && navigator && "onLine" in navigator && typeof navigator.onLine === "boolean" && // Apply only for traditional web apps and Chrome extensions.
  // This is especially true for Cordova apps which have unreliable
  // navigator.onLine behavior unless cordova-plugin-network-information is
  // installed which overwrites the native navigator.onLine value and
  // defines navigator.connection.
  (_isHttpOrHttps() || isBrowserExtension() || "connection" in navigator)) {
    return navigator.onLine;
  }
  return true;
}
function _getUserLanguage() {
  if (typeof navigator === "undefined") {
    return null;
  }
  const navigatorLanguage = navigator;
  return (
    // Most reliable, but only supported in Chrome/Firefox.
    navigatorLanguage.languages && navigatorLanguage.languages[0] || // Supported in most browsers, but returns the language of the browser
    // UI, not the language set in browser settings.
    navigatorLanguage.language || // Couldn't determine language.
    null
  );
}
function _emulatorUrl(config, path) {
  debugAssert(config.emulator, "Emulator should always be set here");
  const { url } = config.emulator;
  if (!path) {
    return url;
  }
  return `${url}${path.startsWith("/") ? path.slice(1) : path}`;
}
function _addTidIfNecessary(auth2, request) {
  if (auth2.tenantId && !request.tenantId) {
    return Object.assign(Object.assign({}, request), { tenantId: auth2.tenantId });
  }
  return request;
}
async function _performApiRequest(auth2, method, path, request, customErrorMap = {}) {
  return _performFetchWithErrorHandling(auth2, customErrorMap, async () => {
    let body = {};
    let params = {};
    if (request) {
      if (method === "GET") {
        params = request;
      } else {
        body = {
          body: JSON.stringify(request)
        };
      }
    }
    const query = querystring(Object.assign({ key: auth2.config.apiKey }, params)).slice(1);
    const headers = await auth2._getAdditionalHeaders();
    headers[
      "Content-Type"
      /* HttpHeader.CONTENT_TYPE */
    ] = "application/json";
    if (auth2.languageCode) {
      headers[
        "X-Firebase-Locale"
        /* HttpHeader.X_FIREBASE_LOCALE */
      ] = auth2.languageCode;
    }
    const fetchArgs = Object.assign({
      method,
      headers
    }, body);
    if (!isCloudflareWorker()) {
      fetchArgs.referrerPolicy = "no-referrer";
    }
    return FetchProvider.fetch()(_getFinalTarget(auth2, auth2.config.apiHost, path, query), fetchArgs);
  });
}
async function _performFetchWithErrorHandling(auth2, customErrorMap, fetchFn) {
  auth2._canInitEmulator = false;
  const errorMap = Object.assign(Object.assign({}, SERVER_ERROR_MAP), customErrorMap);
  try {
    const networkTimeout = new NetworkTimeout(auth2);
    const response = await Promise.race([
      fetchFn(),
      networkTimeout.promise
    ]);
    networkTimeout.clearNetworkTimeout();
    const json2 = await response.json();
    if ("needConfirmation" in json2) {
      throw _makeTaggedError(auth2, "account-exists-with-different-credential", json2);
    }
    if (response.ok && !("errorMessage" in json2)) {
      return json2;
    } else {
      const errorMessage = response.ok ? json2.errorMessage : json2.error.message;
      const [serverErrorCode, serverErrorMessage] = errorMessage.split(" : ");
      if (serverErrorCode === "FEDERATED_USER_ID_ALREADY_LINKED") {
        throw _makeTaggedError(auth2, "credential-already-in-use", json2);
      } else if (serverErrorCode === "EMAIL_EXISTS") {
        throw _makeTaggedError(auth2, "email-already-in-use", json2);
      } else if (serverErrorCode === "USER_DISABLED") {
        throw _makeTaggedError(auth2, "user-disabled", json2);
      }
      const authError = errorMap[serverErrorCode] || serverErrorCode.toLowerCase().replace(/[_\s]+/g, "-");
      if (serverErrorMessage) {
        throw _errorWithCustomMessage(auth2, authError, serverErrorMessage);
      } else {
        _fail(auth2, authError);
      }
    }
  } catch (e3) {
    if (e3 instanceof FirebaseError) {
      throw e3;
    }
    _fail(auth2, "network-request-failed", { "message": String(e3) });
  }
}
async function _performSignInRequest(auth2, method, path, request, customErrorMap = {}) {
  const serverResponse = await _performApiRequest(auth2, method, path, request, customErrorMap);
  if ("mfaPendingCredential" in serverResponse) {
    _fail(auth2, "multi-factor-auth-required", {
      _serverResponse: serverResponse
    });
  }
  return serverResponse;
}
function _getFinalTarget(auth2, host, path, query) {
  const base = `${host}${path}?${query}`;
  if (!auth2.config.emulator) {
    return `${auth2.config.apiScheme}://${base}`;
  }
  return _emulatorUrl(auth2.config, base);
}
function _parseEnforcementState(enforcementStateStr) {
  switch (enforcementStateStr) {
    case "ENFORCE":
      return "ENFORCE";
    case "AUDIT":
      return "AUDIT";
    case "OFF":
      return "OFF";
    default:
      return "ENFORCEMENT_STATE_UNSPECIFIED";
  }
}
function _makeTaggedError(auth2, code, response) {
  const errorParams = {
    appName: auth2.name
  };
  if (response.email) {
    errorParams.email = response.email;
  }
  if (response.phoneNumber) {
    errorParams.phoneNumber = response.phoneNumber;
  }
  const error2 = _createError(auth2, code, errorParams);
  error2.customData._tokenResponse = response;
  return error2;
}
function isV2(grecaptcha) {
  return grecaptcha !== void 0 && grecaptcha.getResponse !== void 0;
}
function isEnterprise(grecaptcha) {
  return grecaptcha !== void 0 && grecaptcha.enterprise !== void 0;
}
async function getRecaptchaParams(auth2) {
  return (await _performApiRequest(
    auth2,
    "GET",
    "/v1/recaptchaParams"
    /* Endpoint.GET_RECAPTCHA_PARAM */
  )).recaptchaSiteKey || "";
}
async function getRecaptchaConfig(auth2, request) {
  return _performApiRequest(auth2, "GET", "/v2/recaptchaConfig", _addTidIfNecessary(auth2, request));
}
async function deleteAccount(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:delete", request);
}
async function deleteLinkedAccounts(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", request);
}
async function getAccountInfo(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:lookup", request);
}
function utcTimestampToDateString(utcTimestamp) {
  if (!utcTimestamp) {
    return void 0;
  }
  try {
    const date = new Date(Number(utcTimestamp));
    if (!isNaN(date.getTime())) {
      return date.toUTCString();
    }
  } catch (e3) {
  }
  return void 0;
}
function getIdToken(user, forceRefresh = false) {
  return getModularInstance(user).getIdToken(forceRefresh);
}
async function getIdTokenResult(user, forceRefresh = false) {
  const userInternal = getModularInstance(user);
  const token = await userInternal.getIdToken(forceRefresh);
  const claims = _parseToken(token);
  _assert(
    claims && claims.exp && claims.auth_time && claims.iat,
    userInternal.auth,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  const firebase = typeof claims.firebase === "object" ? claims.firebase : void 0;
  const signInProvider = firebase === null || firebase === void 0 ? void 0 : firebase["sign_in_provider"];
  return {
    claims,
    token,
    authTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.auth_time)),
    issuedAtTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.iat)),
    expirationTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.exp)),
    signInProvider: signInProvider || null,
    signInSecondFactor: (firebase === null || firebase === void 0 ? void 0 : firebase["sign_in_second_factor"]) || null
  };
}
function secondsStringToMilliseconds(seconds) {
  return Number(seconds) * 1e3;
}
function _parseToken(token) {
  const [algorithm, payload, signature] = token.split(".");
  if (algorithm === void 0 || payload === void 0 || signature === void 0) {
    _logError("JWT malformed, contained fewer than 3 sections");
    return null;
  }
  try {
    const decoded = base64Decode(payload);
    if (!decoded) {
      _logError("Failed to decode base64 JWT payload");
      return null;
    }
    return JSON.parse(decoded);
  } catch (e3) {
    _logError("Caught error parsing JWT payload as JSON", e3 === null || e3 === void 0 ? void 0 : e3.toString());
    return null;
  }
}
function _tokenExpiresIn(token) {
  const parsedToken = _parseToken(token);
  _assert(
    parsedToken,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  _assert(
    typeof parsedToken.exp !== "undefined",
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  _assert(
    typeof parsedToken.iat !== "undefined",
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return Number(parsedToken.exp) - Number(parsedToken.iat);
}
async function _logoutIfInvalidated(user, promise, bypassAuthState = false) {
  if (bypassAuthState) {
    return promise;
  }
  try {
    return await promise;
  } catch (e3) {
    if (e3 instanceof FirebaseError && isUserInvalidated(e3)) {
      if (user.auth.currentUser === user) {
        await user.auth.signOut();
      }
    }
    throw e3;
  }
}
function isUserInvalidated({ code }) {
  return code === `auth/${"user-disabled"}` || code === `auth/${"user-token-expired"}`;
}
async function _reloadWithoutSaving(user) {
  var _a;
  const auth2 = user.auth;
  const idToken = await user.getIdToken();
  const response = await _logoutIfInvalidated(user, getAccountInfo(auth2, { idToken }));
  _assert(
    response === null || response === void 0 ? void 0 : response.users.length,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  const coreAccount = response.users[0];
  user._notifyReloadListener(coreAccount);
  const newProviderData = ((_a = coreAccount.providerUserInfo) === null || _a === void 0 ? void 0 : _a.length) ? extractProviderData(coreAccount.providerUserInfo) : [];
  const providerData = mergeProviderData(user.providerData, newProviderData);
  const oldIsAnonymous = user.isAnonymous;
  const newIsAnonymous = !(user.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length);
  const isAnonymous = !oldIsAnonymous ? false : newIsAnonymous;
  const updates = {
    uid: coreAccount.localId,
    displayName: coreAccount.displayName || null,
    photoURL: coreAccount.photoUrl || null,
    email: coreAccount.email || null,
    emailVerified: coreAccount.emailVerified || false,
    phoneNumber: coreAccount.phoneNumber || null,
    tenantId: coreAccount.tenantId || null,
    providerData,
    metadata: new UserMetadata(coreAccount.createdAt, coreAccount.lastLoginAt),
    isAnonymous
  };
  Object.assign(user, updates);
}
async function reload(user) {
  const userInternal = getModularInstance(user);
  await _reloadWithoutSaving(userInternal);
  await userInternal.auth._persistUserIfCurrent(userInternal);
  userInternal.auth._notifyListenersIfCurrent(userInternal);
}
function mergeProviderData(original, newData) {
  const deduped = original.filter((o2) => !newData.some((n2) => n2.providerId === o2.providerId));
  return [...deduped, ...newData];
}
function extractProviderData(providers) {
  return providers.map((_a) => {
    var { providerId } = _a, provider = __rest(_a, ["providerId"]);
    return {
      providerId,
      uid: provider.rawId || "",
      displayName: provider.displayName || null,
      email: provider.email || null,
      phoneNumber: provider.phoneNumber || null,
      photoURL: provider.photoUrl || null
    };
  });
}
async function requestStsToken(auth2, refreshToken) {
  const response = await _performFetchWithErrorHandling(auth2, {}, async () => {
    const body = querystring({
      "grant_type": "refresh_token",
      "refresh_token": refreshToken
    }).slice(1);
    const { tokenApiHost, apiKey } = auth2.config;
    const url = _getFinalTarget(auth2, tokenApiHost, "/v1/token", `key=${apiKey}`);
    const headers = await auth2._getAdditionalHeaders();
    headers[
      "Content-Type"
      /* HttpHeader.CONTENT_TYPE */
    ] = "application/x-www-form-urlencoded";
    return FetchProvider.fetch()(url, {
      method: "POST",
      headers,
      body
    });
  });
  return {
    accessToken: response.access_token,
    expiresIn: response.expires_in,
    refreshToken: response.refresh_token
  };
}
async function revokeToken(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts:revokeToken", _addTidIfNecessary(auth2, request));
}
function assertStringOrUndefined(assertion, appName) {
  _assert(typeof assertion === "string" || typeof assertion === "undefined", "internal-error", { appName });
}
function _getInstance(cls) {
  debugAssert(cls instanceof Function, "Expected a class definition");
  let instance = instanceCache.get(cls);
  if (instance) {
    debugAssert(instance instanceof cls, "Instance stored in cache mismatched with class");
    return instance;
  }
  instance = new cls();
  instanceCache.set(cls, instance);
  return instance;
}
function _persistenceKeyName(key, apiKey, appName) {
  return `${"firebase"}:${key}:${apiKey}:${appName}`;
}
function _getBrowserName(userAgent) {
  const ua = userAgent.toLowerCase();
  if (ua.includes("opera/") || ua.includes("opr/") || ua.includes("opios/")) {
    return "Opera";
  } else if (_isIEMobile(ua)) {
    return "IEMobile";
  } else if (ua.includes("msie") || ua.includes("trident/")) {
    return "IE";
  } else if (ua.includes("edge/")) {
    return "Edge";
  } else if (_isFirefox(ua)) {
    return "Firefox";
  } else if (ua.includes("silk/")) {
    return "Silk";
  } else if (_isBlackBerry(ua)) {
    return "Blackberry";
  } else if (_isWebOS(ua)) {
    return "Webos";
  } else if (_isSafari(ua)) {
    return "Safari";
  } else if ((ua.includes("chrome/") || _isChromeIOS(ua)) && !ua.includes("edge/")) {
    return "Chrome";
  } else if (_isAndroid(ua)) {
    return "Android";
  } else {
    const re = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/;
    const matches = userAgent.match(re);
    if ((matches === null || matches === void 0 ? void 0 : matches.length) === 2) {
      return matches[1];
    }
  }
  return "Other";
}
function _isFirefox(ua = getUA()) {
  return /firefox\//i.test(ua);
}
function _isSafari(userAgent = getUA()) {
  const ua = userAgent.toLowerCase();
  return ua.includes("safari/") && !ua.includes("chrome/") && !ua.includes("crios/") && !ua.includes("android");
}
function _isChromeIOS(ua = getUA()) {
  return /crios\//i.test(ua);
}
function _isIEMobile(ua = getUA()) {
  return /iemobile/i.test(ua);
}
function _isAndroid(ua = getUA()) {
  return /android/i.test(ua);
}
function _isBlackBerry(ua = getUA()) {
  return /blackberry/i.test(ua);
}
function _isWebOS(ua = getUA()) {
  return /webos/i.test(ua);
}
function _isIOS(ua = getUA()) {
  return /iphone|ipad|ipod/i.test(ua) || /macintosh/i.test(ua) && /mobile/i.test(ua);
}
function _isIOSStandalone(ua = getUA()) {
  var _a;
  return _isIOS(ua) && !!((_a = window.navigator) === null || _a === void 0 ? void 0 : _a.standalone);
}
function _isIE10() {
  return isIE() && document.documentMode === 10;
}
function _isMobileBrowser(ua = getUA()) {
  return _isIOS(ua) || _isAndroid(ua) || _isWebOS(ua) || _isBlackBerry(ua) || /windows phone/i.test(ua) || _isIEMobile(ua);
}
function _getClientVersion(clientPlatform, frameworks = []) {
  let reportedPlatform;
  switch (clientPlatform) {
    case "Browser":
      reportedPlatform = _getBrowserName(getUA());
      break;
    case "Worker":
      reportedPlatform = `${_getBrowserName(getUA())}-${clientPlatform}`;
      break;
    default:
      reportedPlatform = clientPlatform;
  }
  const reportedFrameworks = frameworks.length ? frameworks.join(",") : "FirebaseCore-web";
  return `${reportedPlatform}/${"JsCore"}/${SDK_VERSION}/${reportedFrameworks}`;
}
async function _getPasswordPolicy(auth2, request = {}) {
  return _performApiRequest(auth2, "GET", "/v2/passwordPolicy", _addTidIfNecessary(auth2, request));
}
function _castAuth(auth2) {
  return getModularInstance(auth2);
}
function _setExternalJSProvider(p3) {
  externalJSProvider = p3;
}
function _loadJS(url) {
  return externalJSProvider.loadJS(url);
}
function _recaptchaV2ScriptUrl() {
  return externalJSProvider.recaptchaV2Script;
}
function _recaptchaEnterpriseScriptUrl() {
  return externalJSProvider.recaptchaEnterpriseScript;
}
function _gapiScriptUrl() {
  return externalJSProvider.gapiScript;
}
function _generateCallbackName(prefix) {
  return `__${prefix}${Math.floor(Math.random() * 1e6)}`;
}
async function injectRecaptchaFields(auth2, request, action, captchaResp = false) {
  const verifier = new RecaptchaEnterpriseVerifier(auth2);
  let captchaResponse;
  try {
    captchaResponse = await verifier.verify(action);
  } catch (error2) {
    captchaResponse = await verifier.verify(action, true);
  }
  const newRequest = Object.assign({}, request);
  if (!captchaResp) {
    Object.assign(newRequest, { captchaResponse });
  } else {
    Object.assign(newRequest, { "captchaResp": captchaResponse });
  }
  Object.assign(newRequest, {
    "clientType": "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  });
  Object.assign(newRequest, {
    "recaptchaVersion": "RECAPTCHA_ENTERPRISE"
    /* RecaptchaVersion.ENTERPRISE */
  });
  return newRequest;
}
async function handleRecaptchaFlow(authInstance, request, actionName, actionMethod) {
  var _a;
  if ((_a = authInstance._getRecaptchaConfig()) === null || _a === void 0 ? void 0 : _a.isProviderEnabled(
    "EMAIL_PASSWORD_PROVIDER"
    /* RecaptchaProvider.EMAIL_PASSWORD_PROVIDER */
  )) {
    const requestWithRecaptcha = await injectRecaptchaFields(
      authInstance,
      request,
      actionName,
      actionName === "getOobCode"
      /* RecaptchaActionName.GET_OOB_CODE */
    );
    return actionMethod(authInstance, requestWithRecaptcha);
  } else {
    return actionMethod(authInstance, request).catch(async (error2) => {
      if (error2.code === `auth/${"missing-recaptcha-token"}`) {
        console.log(`${actionName} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);
        const requestWithRecaptcha = await injectRecaptchaFields(
          authInstance,
          request,
          actionName,
          actionName === "getOobCode"
          /* RecaptchaActionName.GET_OOB_CODE */
        );
        return actionMethod(authInstance, requestWithRecaptcha);
      } else {
        return Promise.reject(error2);
      }
    });
  }
}
async function _initializeRecaptchaConfig(auth2) {
  const authInternal = _castAuth(auth2);
  const response = await getRecaptchaConfig(authInternal, {
    clientType: "CLIENT_TYPE_WEB",
    version: "RECAPTCHA_ENTERPRISE"
    /* RecaptchaVersion.ENTERPRISE */
  });
  const config = new RecaptchaConfig(response);
  if (authInternal.tenantId == null) {
    authInternal._agentRecaptchaConfig = config;
  } else {
    authInternal._tenantRecaptchaConfigs[authInternal.tenantId] = config;
  }
  if (config.isProviderEnabled(
    "EMAIL_PASSWORD_PROVIDER"
    /* RecaptchaProvider.EMAIL_PASSWORD_PROVIDER */
  )) {
    const verifier = new RecaptchaEnterpriseVerifier(authInternal);
    void verifier.verify();
  }
}
function initializeAuth(app2, deps) {
  const provider = _getProvider(app2, "auth");
  if (provider.isInitialized()) {
    const auth3 = provider.getImmediate();
    const initialOptions = provider.getOptions();
    if (deepEqual(initialOptions, deps !== null && deps !== void 0 ? deps : {})) {
      return auth3;
    } else {
      _fail(
        auth3,
        "already-initialized"
        /* AuthErrorCode.ALREADY_INITIALIZED */
      );
    }
  }
  const auth2 = provider.initialize({ options: deps });
  return auth2;
}
function _initializeAuthInstance(auth2, deps) {
  const persistence = (deps === null || deps === void 0 ? void 0 : deps.persistence) || [];
  const hierarchy = (Array.isArray(persistence) ? persistence : [persistence]).map(_getInstance);
  if (deps === null || deps === void 0 ? void 0 : deps.errorMap) {
    auth2._updateErrorMap(deps.errorMap);
  }
  auth2._initializeWithPersistence(hierarchy, deps === null || deps === void 0 ? void 0 : deps.popupRedirectResolver);
}
function connectAuthEmulator(auth2, url, options) {
  const authInternal = _castAuth(auth2);
  _assert(
    authInternal._canInitEmulator,
    authInternal,
    "emulator-config-failed"
    /* AuthErrorCode.EMULATOR_CONFIG_FAILED */
  );
  _assert(
    /^https?:\/\//.test(url),
    authInternal,
    "invalid-emulator-scheme"
    /* AuthErrorCode.INVALID_EMULATOR_SCHEME */
  );
  const disableWarnings = !!(options === null || options === void 0 ? void 0 : options.disableWarnings);
  const protocol = extractProtocol(url);
  const { host, port } = extractHostAndPort(url);
  const portStr = port === null ? "" : `:${port}`;
  authInternal.config.emulator = { url: `${protocol}//${host}${portStr}/` };
  authInternal.settings.appVerificationDisabledForTesting = true;
  authInternal.emulatorConfig = Object.freeze({
    host,
    port,
    protocol: protocol.replace(":", ""),
    options: Object.freeze({ disableWarnings })
  });
  if (!disableWarnings) {
    emitEmulatorWarning();
  }
}
function extractProtocol(url) {
  const protocolEnd = url.indexOf(":");
  return protocolEnd < 0 ? "" : url.substr(0, protocolEnd + 1);
}
function extractHostAndPort(url) {
  const protocol = extractProtocol(url);
  const authority = /(\/\/)?([^?#/]+)/.exec(url.substr(protocol.length));
  if (!authority) {
    return { host: "", port: null };
  }
  const hostAndPort = authority[2].split("@").pop() || "";
  const bracketedIPv6 = /^(\[[^\]]+\])(:|$)/.exec(hostAndPort);
  if (bracketedIPv6) {
    const host = bracketedIPv6[1];
    return { host, port: parsePort(hostAndPort.substr(host.length + 1)) };
  } else {
    const [host, port] = hostAndPort.split(":");
    return { host, port: parsePort(port) };
  }
}
function parsePort(portStr) {
  if (!portStr) {
    return null;
  }
  const port = Number(portStr);
  if (isNaN(port)) {
    return null;
  }
  return port;
}
function emitEmulatorWarning() {
  function attachBanner() {
    const el = document.createElement("p");
    const sty = el.style;
    el.innerText = "Running in emulator mode. Do not use with production credentials.";
    sty.position = "fixed";
    sty.width = "100%";
    sty.backgroundColor = "#ffffff";
    sty.border = ".1em solid #000000";
    sty.color = "#b50000";
    sty.bottom = "0px";
    sty.left = "0px";
    sty.margin = "0px";
    sty.zIndex = "10000";
    sty.textAlign = "center";
    el.classList.add("firebase-emulator-warning");
    document.body.appendChild(el);
  }
  if (typeof console !== "undefined" && typeof console.info === "function") {
    console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");
  }
  if (typeof window !== "undefined" && typeof document !== "undefined") {
    if (document.readyState === "loading") {
      window.addEventListener("DOMContentLoaded", attachBanner);
    } else {
      attachBanner();
    }
  }
}
async function resetPassword(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:resetPassword", _addTidIfNecessary(auth2, request));
}
async function updateEmailPassword(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", request);
}
async function linkEmailPassword(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:signUp", request);
}
async function applyActionCode$1(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", _addTidIfNecessary(auth2, request));
}
async function signInWithPassword(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPassword", _addTidIfNecessary(auth2, request));
}
async function sendOobCode(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:sendOobCode", _addTidIfNecessary(auth2, request));
}
async function sendEmailVerification$1(auth2, request) {
  return sendOobCode(auth2, request);
}
async function sendPasswordResetEmail$1(auth2, request) {
  return sendOobCode(auth2, request);
}
async function sendSignInLinkToEmail$1(auth2, request) {
  return sendOobCode(auth2, request);
}
async function verifyAndChangeEmail(auth2, request) {
  return sendOobCode(auth2, request);
}
async function signInWithEmailLink$1(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithEmailLink", _addTidIfNecessary(auth2, request));
}
async function signInWithEmailLinkForLinking(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithEmailLink", _addTidIfNecessary(auth2, request));
}
async function signInWithIdp(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithIdp", _addTidIfNecessary(auth2, request));
}
async function sendPhoneVerificationCode(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:sendVerificationCode", _addTidIfNecessary(auth2, request));
}
async function signInWithPhoneNumber$1(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPhoneNumber", _addTidIfNecessary(auth2, request));
}
async function linkWithPhoneNumber$1(auth2, request) {
  const response = await _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPhoneNumber", _addTidIfNecessary(auth2, request));
  if (response.temporaryProof) {
    throw _makeTaggedError(auth2, "account-exists-with-different-credential", response);
  }
  return response;
}
async function verifyPhoneNumberForExisting(auth2, request) {
  const apiRequest = Object.assign(Object.assign({}, request), { operation: "REAUTH" });
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPhoneNumber", _addTidIfNecessary(auth2, apiRequest), VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_);
}
function parseMode(mode) {
  switch (mode) {
    case "recoverEmail":
      return "RECOVER_EMAIL";
    case "resetPassword":
      return "PASSWORD_RESET";
    case "signIn":
      return "EMAIL_SIGNIN";
    case "verifyEmail":
      return "VERIFY_EMAIL";
    case "verifyAndChangeEmail":
      return "VERIFY_AND_CHANGE_EMAIL";
    case "revertSecondFactorAddition":
      return "REVERT_SECOND_FACTOR_ADDITION";
    default:
      return null;
  }
}
function parseDeepLink(url) {
  const link = querystringDecode(extractQuerystring(url))["link"];
  const doubleDeepLink = link ? querystringDecode(extractQuerystring(link))["deep_link_id"] : null;
  const iOSDeepLink = querystringDecode(extractQuerystring(url))["deep_link_id"];
  const iOSDoubleDeepLink = iOSDeepLink ? querystringDecode(extractQuerystring(iOSDeepLink))["link"] : null;
  return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;
}
function parseActionCodeURL(link) {
  return ActionCodeURL.parseLink(link);
}
async function signUp(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signUp", _addTidIfNecessary(auth2, request));
}
function providerIdForResponse(response) {
  if (response.providerId) {
    return response.providerId;
  }
  if ("phoneNumber" in response) {
    return "phone";
  }
  return null;
}
async function signInAnonymously(auth2) {
  var _a;
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  await authInternal._initializationPromise;
  if ((_a = authInternal.currentUser) === null || _a === void 0 ? void 0 : _a.isAnonymous) {
    return new UserCredentialImpl({
      user: authInternal.currentUser,
      providerId: null,
      operationType: "signIn"
      /* OperationType.SIGN_IN */
    });
  }
  const response = await signUp(authInternal, {
    returnSecureToken: true
  });
  const userCredential = await UserCredentialImpl._fromIdTokenResponse(authInternal, "signIn", response, true);
  await authInternal._updateCurrentUser(userCredential.user);
  return userCredential;
}
function _processCredentialSavingMfaContextIfNecessary(auth2, operationType, credential, user) {
  const idTokenProvider = operationType === "reauthenticate" ? credential._getReauthenticationResolver(auth2) : credential._getIdTokenResponse(auth2);
  return idTokenProvider.catch((error2) => {
    if (error2.code === `auth/${"multi-factor-auth-required"}`) {
      throw MultiFactorError._fromErrorAndOperation(auth2, error2, operationType, user);
    }
    throw error2;
  });
}
function providerDataAsNames(providerData) {
  return new Set(providerData.map(({ providerId }) => providerId).filter((pid) => !!pid));
}
async function unlink(user, providerId) {
  const userInternal = getModularInstance(user);
  await _assertLinkedStatus(true, userInternal, providerId);
  const { providerUserInfo } = await deleteLinkedAccounts(userInternal.auth, {
    idToken: await userInternal.getIdToken(),
    deleteProvider: [providerId]
  });
  const providersLeft = providerDataAsNames(providerUserInfo || []);
  userInternal.providerData = userInternal.providerData.filter((pd) => providersLeft.has(pd.providerId));
  if (!providersLeft.has(
    "phone"
    /* ProviderId.PHONE */
  )) {
    userInternal.phoneNumber = null;
  }
  await userInternal.auth._persistUserIfCurrent(userInternal);
  return userInternal;
}
async function _link$1(user, credential, bypassAuthState = false) {
  const response = await _logoutIfInvalidated(user, credential._linkToIdToken(user.auth, await user.getIdToken()), bypassAuthState);
  return UserCredentialImpl._forOperation(user, "link", response);
}
async function _assertLinkedStatus(expected, user, provider) {
  await _reloadWithoutSaving(user);
  const providerIds = providerDataAsNames(user.providerData);
  const code = expected === false ? "provider-already-linked" : "no-such-provider";
  _assert(providerIds.has(provider) === expected, user.auth, code);
}
async function _reauthenticate(user, credential, bypassAuthState = false) {
  const { auth: auth2 } = user;
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const operationType = "reauthenticate";
  try {
    const response = await _logoutIfInvalidated(user, _processCredentialSavingMfaContextIfNecessary(auth2, operationType, credential, user), bypassAuthState);
    _assert(
      response.idToken,
      auth2,
      "internal-error"
      /* AuthErrorCode.INTERNAL_ERROR */
    );
    const parsed = _parseToken(response.idToken);
    _assert(
      parsed,
      auth2,
      "internal-error"
      /* AuthErrorCode.INTERNAL_ERROR */
    );
    const { sub: localId } = parsed;
    _assert(
      user.uid === localId,
      auth2,
      "user-mismatch"
      /* AuthErrorCode.USER_MISMATCH */
    );
    return UserCredentialImpl._forOperation(user, operationType, response);
  } catch (e3) {
    if ((e3 === null || e3 === void 0 ? void 0 : e3.code) === `auth/${"user-not-found"}`) {
      _fail(
        auth2,
        "user-mismatch"
        /* AuthErrorCode.USER_MISMATCH */
      );
    }
    throw e3;
  }
}
async function _signInWithCredential(auth2, credential, bypassAuthState = false) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const operationType = "signIn";
  const response = await _processCredentialSavingMfaContextIfNecessary(auth2, operationType, credential);
  const userCredential = await UserCredentialImpl._fromIdTokenResponse(auth2, operationType, response);
  if (!bypassAuthState) {
    await auth2._updateCurrentUser(userCredential.user);
  }
  return userCredential;
}
async function signInWithCredential(auth2, credential) {
  return _signInWithCredential(_castAuth(auth2), credential);
}
async function linkWithCredential(user, credential) {
  const userInternal = getModularInstance(user);
  await _assertLinkedStatus(false, userInternal, credential.providerId);
  return _link$1(userInternal, credential);
}
async function reauthenticateWithCredential(user, credential) {
  return _reauthenticate(getModularInstance(user), credential);
}
async function signInWithCustomToken$1(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithCustomToken", _addTidIfNecessary(auth2, request));
}
async function signInWithCustomToken(auth2, customToken) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const response = await signInWithCustomToken$1(authInternal, {
    token: customToken,
    returnSecureToken: true
  });
  const cred = await UserCredentialImpl._fromIdTokenResponse(authInternal, "signIn", response);
  await authInternal._updateCurrentUser(cred.user);
  return cred;
}
function _setActionCodeSettingsOnRequest(auth2, request, actionCodeSettings) {
  var _a;
  _assert(
    ((_a = actionCodeSettings.url) === null || _a === void 0 ? void 0 : _a.length) > 0,
    auth2,
    "invalid-continue-uri"
    /* AuthErrorCode.INVALID_CONTINUE_URI */
  );
  _assert(
    typeof actionCodeSettings.dynamicLinkDomain === "undefined" || actionCodeSettings.dynamicLinkDomain.length > 0,
    auth2,
    "invalid-dynamic-link-domain"
    /* AuthErrorCode.INVALID_DYNAMIC_LINK_DOMAIN */
  );
  request.continueUrl = actionCodeSettings.url;
  request.dynamicLinkDomain = actionCodeSettings.dynamicLinkDomain;
  request.canHandleCodeInApp = actionCodeSettings.handleCodeInApp;
  if (actionCodeSettings.iOS) {
    _assert(
      actionCodeSettings.iOS.bundleId.length > 0,
      auth2,
      "missing-ios-bundle-id"
      /* AuthErrorCode.MISSING_IOS_BUNDLE_ID */
    );
    request.iOSBundleId = actionCodeSettings.iOS.bundleId;
  }
  if (actionCodeSettings.android) {
    _assert(
      actionCodeSettings.android.packageName.length > 0,
      auth2,
      "missing-android-pkg-name"
      /* AuthErrorCode.MISSING_ANDROID_PACKAGE_NAME */
    );
    request.androidInstallApp = actionCodeSettings.android.installApp;
    request.androidMinimumVersionCode = actionCodeSettings.android.minimumVersion;
    request.androidPackageName = actionCodeSettings.android.packageName;
  }
}
async function recachePasswordPolicy(auth2) {
  const authInternal = _castAuth(auth2);
  if (authInternal._getPasswordPolicyInternal()) {
    await authInternal._updatePasswordPolicy();
  }
}
async function sendPasswordResetEmail(auth2, email, actionCodeSettings) {
  const authInternal = _castAuth(auth2);
  const request = {
    requestType: "PASSWORD_RESET",
    email,
    clientType: "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  };
  if (actionCodeSettings) {
    _setActionCodeSettingsOnRequest(authInternal, request, actionCodeSettings);
  }
  await handleRecaptchaFlow(authInternal, request, "getOobCode", sendPasswordResetEmail$1);
}
async function confirmPasswordReset(auth2, oobCode, newPassword) {
  await resetPassword(getModularInstance(auth2), {
    oobCode,
    newPassword
  }).catch(async (error2) => {
    if (error2.code === `auth/${"password-does-not-meet-requirements"}`) {
      void recachePasswordPolicy(auth2);
    }
    throw error2;
  });
}
async function applyActionCode(auth2, oobCode) {
  await applyActionCode$1(getModularInstance(auth2), { oobCode });
}
async function checkActionCode(auth2, oobCode) {
  const authModular = getModularInstance(auth2);
  const response = await resetPassword(authModular, { oobCode });
  const operation = response.requestType;
  _assert(
    operation,
    authModular,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  switch (operation) {
    case "EMAIL_SIGNIN":
      break;
    case "VERIFY_AND_CHANGE_EMAIL":
      _assert(
        response.newEmail,
        authModular,
        "internal-error"
        /* AuthErrorCode.INTERNAL_ERROR */
      );
      break;
    case "REVERT_SECOND_FACTOR_ADDITION":
      _assert(
        response.mfaInfo,
        authModular,
        "internal-error"
        /* AuthErrorCode.INTERNAL_ERROR */
      );
    // fall through
    default:
      _assert(
        response.email,
        authModular,
        "internal-error"
        /* AuthErrorCode.INTERNAL_ERROR */
      );
  }
  let multiFactorInfo = null;
  if (response.mfaInfo) {
    multiFactorInfo = MultiFactorInfoImpl._fromServerResponse(_castAuth(authModular), response.mfaInfo);
  }
  return {
    data: {
      email: (response.requestType === "VERIFY_AND_CHANGE_EMAIL" ? response.newEmail : response.email) || null,
      previousEmail: (response.requestType === "VERIFY_AND_CHANGE_EMAIL" ? response.email : response.newEmail) || null,
      multiFactorInfo
    },
    operation
  };
}
async function verifyPasswordResetCode(auth2, code) {
  const { data } = await checkActionCode(getModularInstance(auth2), code);
  return data.email;
}
async function createUserWithEmailAndPassword(auth2, email, password) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const request = {
    returnSecureToken: true,
    email,
    password,
    clientType: "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  };
  const signUpResponse = handleRecaptchaFlow(authInternal, request, "signUpPassword", signUp);
  const response = await signUpResponse.catch((error2) => {
    if (error2.code === `auth/${"password-does-not-meet-requirements"}`) {
      void recachePasswordPolicy(auth2);
    }
    throw error2;
  });
  const userCredential = await UserCredentialImpl._fromIdTokenResponse(authInternal, "signIn", response);
  await authInternal._updateCurrentUser(userCredential.user);
  return userCredential;
}
function signInWithEmailAndPassword(auth2, email, password) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  return signInWithCredential(getModularInstance(auth2), EmailAuthProvider.credential(email, password)).catch(async (error2) => {
    if (error2.code === `auth/${"password-does-not-meet-requirements"}`) {
      void recachePasswordPolicy(auth2);
    }
    throw error2;
  });
}
async function sendSignInLinkToEmail(auth2, email, actionCodeSettings) {
  const authInternal = _castAuth(auth2);
  const request = {
    requestType: "EMAIL_SIGNIN",
    email,
    clientType: "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  };
  function setActionCodeSettings(request2, actionCodeSettings2) {
    _assert(
      actionCodeSettings2.handleCodeInApp,
      authInternal,
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    );
    if (actionCodeSettings2) {
      _setActionCodeSettingsOnRequest(authInternal, request2, actionCodeSettings2);
    }
  }
  setActionCodeSettings(request, actionCodeSettings);
  await handleRecaptchaFlow(authInternal, request, "getOobCode", sendSignInLinkToEmail$1);
}
function isSignInWithEmailLink(auth2, emailLink) {
  const actionCodeUrl = ActionCodeURL.parseLink(emailLink);
  return (actionCodeUrl === null || actionCodeUrl === void 0 ? void 0 : actionCodeUrl.operation) === "EMAIL_SIGNIN";
}
async function signInWithEmailLink(auth2, email, emailLink) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authModular = getModularInstance(auth2);
  const credential = EmailAuthProvider.credentialWithLink(email, emailLink || _getCurrentUrl());
  _assert(
    credential._tenantId === (authModular.tenantId || null),
    authModular,
    "tenant-id-mismatch"
    /* AuthErrorCode.TENANT_ID_MISMATCH */
  );
  return signInWithCredential(authModular, credential);
}
async function createAuthUri(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:createAuthUri", _addTidIfNecessary(auth2, request));
}
async function fetchSignInMethodsForEmail(auth2, email) {
  const continueUri = _isHttpOrHttps() ? _getCurrentUrl() : "http://localhost";
  const request = {
    identifier: email,
    continueUri
  };
  const { signinMethods } = await createAuthUri(getModularInstance(auth2), request);
  return signinMethods || [];
}
async function sendEmailVerification(user, actionCodeSettings) {
  const userInternal = getModularInstance(user);
  const idToken = await user.getIdToken();
  const request = {
    requestType: "VERIFY_EMAIL",
    idToken
  };
  if (actionCodeSettings) {
    _setActionCodeSettingsOnRequest(userInternal.auth, request, actionCodeSettings);
  }
  const { email } = await sendEmailVerification$1(userInternal.auth, request);
  if (email !== user.email) {
    await user.reload();
  }
}
async function verifyBeforeUpdateEmail(user, newEmail, actionCodeSettings) {
  const userInternal = getModularInstance(user);
  const idToken = await user.getIdToken();
  const request = {
    requestType: "VERIFY_AND_CHANGE_EMAIL",
    idToken,
    newEmail
  };
  if (actionCodeSettings) {
    _setActionCodeSettingsOnRequest(userInternal.auth, request, actionCodeSettings);
  }
  const { email } = await verifyAndChangeEmail(userInternal.auth, request);
  if (email !== user.email) {
    await user.reload();
  }
}
async function updateProfile$1(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", request);
}
async function updateProfile(user, { displayName, photoURL: photoUrl }) {
  if (displayName === void 0 && photoUrl === void 0) {
    return;
  }
  const userInternal = getModularInstance(user);
  const idToken = await userInternal.getIdToken();
  const profileRequest = {
    idToken,
    displayName,
    photoUrl,
    returnSecureToken: true
  };
  const response = await _logoutIfInvalidated(userInternal, updateProfile$1(userInternal.auth, profileRequest));
  userInternal.displayName = response.displayName || null;
  userInternal.photoURL = response.photoUrl || null;
  const passwordProvider = userInternal.providerData.find(
    ({ providerId }) => providerId === "password"
    /* ProviderId.PASSWORD */
  );
  if (passwordProvider) {
    passwordProvider.displayName = userInternal.displayName;
    passwordProvider.photoURL = userInternal.photoURL;
  }
  await userInternal._updateTokensIfNecessary(response);
}
function updateEmail(user, newEmail) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  return updateEmailOrPassword(userInternal, newEmail, null);
}
function updatePassword(user, newPassword) {
  return updateEmailOrPassword(getModularInstance(user), null, newPassword);
}
async function updateEmailOrPassword(user, email, password) {
  const { auth: auth2 } = user;
  const idToken = await user.getIdToken();
  const request = {
    idToken,
    returnSecureToken: true
  };
  if (email) {
    request.email = email;
  }
  if (password) {
    request.password = password;
  }
  const response = await _logoutIfInvalidated(user, updateEmailPassword(auth2, request));
  await user._updateTokensIfNecessary(
    response,
    /* reload */
    true
  );
}
function _fromIdTokenResponse(idTokenResponse) {
  var _a, _b;
  if (!idTokenResponse) {
    return null;
  }
  const { providerId } = idTokenResponse;
  const profile = idTokenResponse.rawUserInfo ? JSON.parse(idTokenResponse.rawUserInfo) : {};
  const isNewUser = idTokenResponse.isNewUser || idTokenResponse.kind === "identitytoolkit#SignupNewUserResponse";
  if (!providerId && (idTokenResponse === null || idTokenResponse === void 0 ? void 0 : idTokenResponse.idToken)) {
    const signInProvider = (_b = (_a = _parseToken(idTokenResponse.idToken)) === null || _a === void 0 ? void 0 : _a.firebase) === null || _b === void 0 ? void 0 : _b["sign_in_provider"];
    if (signInProvider) {
      const filteredProviderId = signInProvider !== "anonymous" && signInProvider !== "custom" ? signInProvider : null;
      return new GenericAdditionalUserInfo(isNewUser, filteredProviderId);
    }
  }
  if (!providerId) {
    return null;
  }
  switch (providerId) {
    case "facebook.com":
      return new FacebookAdditionalUserInfo(isNewUser, profile);
    case "github.com":
      return new GithubAdditionalUserInfo(isNewUser, profile);
    case "google.com":
      return new GoogleAdditionalUserInfo(isNewUser, profile);
    case "twitter.com":
      return new TwitterAdditionalUserInfo(isNewUser, profile, idTokenResponse.screenName || null);
    case "custom":
    case "anonymous":
      return new GenericAdditionalUserInfo(isNewUser, null);
    default:
      return new GenericAdditionalUserInfo(isNewUser, providerId, profile);
  }
}
function getAdditionalUserInfo(userCredential) {
  const { user, _tokenResponse } = userCredential;
  if (user.isAnonymous && !_tokenResponse) {
    return {
      providerId: null,
      isNewUser: false,
      profile: null
    };
  }
  return _fromIdTokenResponse(_tokenResponse);
}
function setPersistence(auth2, persistence) {
  return getModularInstance(auth2).setPersistence(persistence);
}
function initializeRecaptchaConfig(auth2) {
  return _initializeRecaptchaConfig(auth2);
}
async function validatePassword(auth2, password) {
  const authInternal = _castAuth(auth2);
  return authInternal.validatePassword(password);
}
function onIdTokenChanged(auth2, nextOrObserver, error2, completed) {
  return getModularInstance(auth2).onIdTokenChanged(nextOrObserver, error2, completed);
}
function beforeAuthStateChanged(auth2, callback, onAbort) {
  return getModularInstance(auth2).beforeAuthStateChanged(callback, onAbort);
}
function onAuthStateChanged(auth2, nextOrObserver, error2, completed) {
  return getModularInstance(auth2).onAuthStateChanged(nextOrObserver, error2, completed);
}
function useDeviceLanguage(auth2) {
  getModularInstance(auth2).useDeviceLanguage();
}
function updateCurrentUser(auth2, user) {
  return getModularInstance(auth2).updateCurrentUser(user);
}
function signOut(auth2) {
  return getModularInstance(auth2).signOut();
}
function revokeAccessToken(auth2, token) {
  const authInternal = _castAuth(auth2);
  return authInternal.revokeAccessToken(token);
}
async function deleteUser(user) {
  return getModularInstance(user).delete();
}
function getMultiFactorResolver(auth2, error2) {
  var _a;
  const authModular = getModularInstance(auth2);
  const errorInternal = error2;
  _assert(
    error2.customData.operationType,
    authModular,
    "argument-error"
    /* AuthErrorCode.ARGUMENT_ERROR */
  );
  _assert(
    (_a = errorInternal.customData._serverResponse) === null || _a === void 0 ? void 0 : _a.mfaPendingCredential,
    authModular,
    "argument-error"
    /* AuthErrorCode.ARGUMENT_ERROR */
  );
  return MultiFactorResolverImpl._fromError(authModular, errorInternal);
}
function startEnrollPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:start", _addTidIfNecessary(auth2, request));
}
function finalizeEnrollPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:finalize", _addTidIfNecessary(auth2, request));
}
function startEnrollTotpMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:start", _addTidIfNecessary(auth2, request));
}
function finalizeEnrollTotpMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:finalize", _addTidIfNecessary(auth2, request));
}
function withdrawMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:withdraw", _addTidIfNecessary(auth2, request));
}
function multiFactor(user) {
  const userModular = getModularInstance(user);
  if (!multiFactorUserCache.has(userModular)) {
    multiFactorUserCache.set(userModular, MultiFactorUserImpl._fromUser(userModular));
  }
  return multiFactorUserCache.get(userModular);
}
function _allSettled(promises) {
  return Promise.all(promises.map(async (promise) => {
    try {
      const value2 = await promise;
      return {
        fulfilled: true,
        value: value2
      };
    } catch (reason) {
      return {
        fulfilled: false,
        reason
      };
    }
  }));
}
function _generateEventId(prefix = "", digits = 10) {
  let random = "";
  for (let i3 = 0; i3 < digits; i3++) {
    random += Math.floor(Math.random() * 10);
  }
  return prefix + random;
}
function _window() {
  return window;
}
function _setWindowLocation(url) {
  _window().location.href = url;
}
function _isWorker() {
  return typeof _window()["WorkerGlobalScope"] !== "undefined" && typeof _window()["importScripts"] === "function";
}
async function _getActiveServiceWorker() {
  if (!(navigator === null || navigator === void 0 ? void 0 : navigator.serviceWorker)) {
    return null;
  }
  try {
    const registration = await navigator.serviceWorker.ready;
    return registration.active;
  } catch (_a) {
    return null;
  }
}
function _getServiceWorkerController() {
  var _a;
  return ((_a = navigator === null || navigator === void 0 ? void 0 : navigator.serviceWorker) === null || _a === void 0 ? void 0 : _a.controller) || null;
}
function _getWorkerGlobalScope() {
  return _isWorker() ? self : null;
}
function getObjectStore(db, isReadWrite) {
  return db.transaction([DB_OBJECTSTORE_NAME], isReadWrite ? "readwrite" : "readonly").objectStore(DB_OBJECTSTORE_NAME);
}
function _deleteDatabase() {
  const request = indexedDB.deleteDatabase(DB_NAME2);
  return new DBPromise(request).toPromise();
}
function _openDatabase() {
  const request = indexedDB.open(DB_NAME2, DB_VERSION2);
  return new Promise((resolve, reject) => {
    request.addEventListener("error", () => {
      reject(request.error);
    });
    request.addEventListener("upgradeneeded", () => {
      const db = request.result;
      try {
        db.createObjectStore(DB_OBJECTSTORE_NAME, { keyPath: DB_DATA_KEYPATH });
      } catch (e3) {
        reject(e3);
      }
    });
    request.addEventListener("success", async () => {
      const db = request.result;
      if (!db.objectStoreNames.contains(DB_OBJECTSTORE_NAME)) {
        db.close();
        await _deleteDatabase();
        resolve(await _openDatabase());
      } else {
        resolve(db);
      }
    });
  });
}
async function _putObject(db, key, value2) {
  const request = getObjectStore(db, true).put({
    [DB_DATA_KEYPATH]: key,
    value: value2
  });
  return new DBPromise(request).toPromise();
}
async function getObject(db, key) {
  const request = getObjectStore(db, false).get(key);
  const data = await new DBPromise(request).toPromise();
  return data === void 0 ? null : data.value;
}
function _deleteObject(db, key) {
  const request = getObjectStore(db, true).delete(key);
  return new DBPromise(request).toPromise();
}
function startSignInPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaSignIn:start", _addTidIfNecessary(auth2, request));
}
function finalizeSignInPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaSignIn:finalize", _addTidIfNecessary(auth2, request));
}
function finalizeSignInTotpMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaSignIn:finalize", _addTidIfNecessary(auth2, request));
}
function generateRandomAlphaNumericString(len) {
  const chars = [];
  const allowedChars = "1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
  for (let i3 = 0; i3 < len; i3++) {
    chars.push(allowedChars.charAt(Math.floor(Math.random() * allowedChars.length)));
  }
  return chars.join("");
}
function isHostLanguageValid(hl) {
  return hl.length <= 6 && /^\s*[a-zA-Z0-9\-]*\s*$/.test(hl);
}
function domReady() {
  let resolver = null;
  return new Promise((resolve) => {
    if (document.readyState === "complete") {
      resolve();
      return;
    }
    resolver = () => resolve();
    window.addEventListener("load", resolver);
  }).catch((e3) => {
    if (resolver) {
      window.removeEventListener("load", resolver);
    }
    throw e3;
  });
}
async function signInWithPhoneNumber(auth2, phoneNumber, appVerifier) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const verificationId = await _verifyPhoneNumber(authInternal, phoneNumber, getModularInstance(appVerifier));
  return new ConfirmationResultImpl(verificationId, (cred) => signInWithCredential(authInternal, cred));
}
async function linkWithPhoneNumber(user, phoneNumber, appVerifier) {
  const userInternal = getModularInstance(user);
  await _assertLinkedStatus(
    false,
    userInternal,
    "phone"
    /* ProviderId.PHONE */
  );
  const verificationId = await _verifyPhoneNumber(userInternal.auth, phoneNumber, getModularInstance(appVerifier));
  return new ConfirmationResultImpl(verificationId, (cred) => linkWithCredential(userInternal, cred));
}
async function reauthenticateWithPhoneNumber(user, phoneNumber, appVerifier) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  const verificationId = await _verifyPhoneNumber(userInternal.auth, phoneNumber, getModularInstance(appVerifier));
  return new ConfirmationResultImpl(verificationId, (cred) => reauthenticateWithCredential(userInternal, cred));
}
async function _verifyPhoneNumber(auth2, options, verifier) {
  var _a;
  const recaptchaToken = await verifier.verify();
  try {
    _assert(
      typeof recaptchaToken === "string",
      auth2,
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    );
    _assert(
      verifier.type === RECAPTCHA_VERIFIER_TYPE,
      auth2,
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    );
    let phoneInfoOptions;
    if (typeof options === "string") {
      phoneInfoOptions = {
        phoneNumber: options
      };
    } else {
      phoneInfoOptions = options;
    }
    if ("session" in phoneInfoOptions) {
      const session = phoneInfoOptions.session;
      if ("phoneNumber" in phoneInfoOptions) {
        _assert(
          session.type === "enroll",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const response = await startEnrollPhoneMfa(auth2, {
          idToken: session.credential,
          phoneEnrollmentInfo: {
            phoneNumber: phoneInfoOptions.phoneNumber,
            recaptchaToken
          }
        });
        return response.phoneSessionInfo.sessionInfo;
      } else {
        _assert(
          session.type === "signin",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const mfaEnrollmentId = ((_a = phoneInfoOptions.multiFactorHint) === null || _a === void 0 ? void 0 : _a.uid) || phoneInfoOptions.multiFactorUid;
        _assert(
          mfaEnrollmentId,
          auth2,
          "missing-multi-factor-info"
          /* AuthErrorCode.MISSING_MFA_INFO */
        );
        const response = await startSignInPhoneMfa(auth2, {
          mfaPendingCredential: session.credential,
          mfaEnrollmentId,
          phoneSignInInfo: {
            recaptchaToken
          }
        });
        return response.phoneResponseInfo.sessionInfo;
      }
    } else {
      const { sessionInfo } = await sendPhoneVerificationCode(auth2, {
        phoneNumber: phoneInfoOptions.phoneNumber,
        recaptchaToken
      });
      return sessionInfo;
    }
  } finally {
    verifier._reset();
  }
}
async function updatePhoneNumber(user, credential) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  await _link$1(userInternal, credential);
}
function _withDefaultResolver(auth2, resolverOverride) {
  if (resolverOverride) {
    return _getInstance(resolverOverride);
  }
  _assert(
    auth2._popupRedirectResolver,
    auth2,
    "argument-error"
    /* AuthErrorCode.ARGUMENT_ERROR */
  );
  return auth2._popupRedirectResolver;
}
function _signIn(params) {
  return _signInWithCredential(params.auth, new IdpCredential(params), params.bypassAuthState);
}
function _reauth(params) {
  const { auth: auth2, user } = params;
  _assert(
    user,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return _reauthenticate(user, new IdpCredential(params), params.bypassAuthState);
}
async function _link(params) {
  const { auth: auth2, user } = params;
  _assert(
    user,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return _link$1(user, new IdpCredential(params), params.bypassAuthState);
}
async function signInWithPopup(auth2, provider, resolver) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_createError(
      auth2,
      "operation-not-supported-in-this-environment"
      /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
    ));
  }
  const authInternal = _castAuth(auth2);
  _assertInstanceOf(auth2, provider, FederatedAuthProvider);
  const resolverInternal = _withDefaultResolver(authInternal, resolver);
  const action = new PopupOperation(authInternal, "signInViaPopup", provider, resolverInternal);
  return action.executeNotNull();
}
async function reauthenticateWithPopup(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_createError(
      userInternal.auth,
      "operation-not-supported-in-this-environment"
      /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
    ));
  }
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  const action = new PopupOperation(userInternal.auth, "reauthViaPopup", provider, resolverInternal, userInternal);
  return action.executeNotNull();
}
async function linkWithPopup(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  const action = new PopupOperation(userInternal.auth, "linkViaPopup", provider, resolverInternal, userInternal);
  return action.executeNotNull();
}
async function _getAndClearPendingRedirectStatus(resolver, auth2) {
  const key = pendingRedirectKey(auth2);
  const persistence = resolverPersistence(resolver);
  if (!await persistence._isAvailable()) {
    return false;
  }
  const hasPendingRedirect = await persistence._get(key) === "true";
  await persistence._remove(key);
  return hasPendingRedirect;
}
async function _setPendingRedirectStatus(resolver, auth2) {
  return resolverPersistence(resolver)._set(pendingRedirectKey(auth2), "true");
}
function _overrideRedirectResult(auth2, result) {
  redirectOutcomeMap.set(auth2._key(), result);
}
function resolverPersistence(resolver) {
  return _getInstance(resolver._redirectPersistence);
}
function pendingRedirectKey(auth2) {
  return _persistenceKeyName(PENDING_REDIRECT_KEY, auth2.config.apiKey, auth2.name);
}
function signInWithRedirect(auth2, provider, resolver) {
  return _signInWithRedirect(auth2, provider, resolver);
}
async function _signInWithRedirect(auth2, provider, resolver) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  _assertInstanceOf(auth2, provider, FederatedAuthProvider);
  await authInternal._initializationPromise;
  const resolverInternal = _withDefaultResolver(authInternal, resolver);
  await _setPendingRedirectStatus(resolverInternal, authInternal);
  return resolverInternal._openRedirect(
    authInternal,
    provider,
    "signInViaRedirect"
    /* AuthEventType.SIGN_IN_VIA_REDIRECT */
  );
}
function reauthenticateWithRedirect(user, provider, resolver) {
  return _reauthenticateWithRedirect(user, provider, resolver);
}
async function _reauthenticateWithRedirect(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  await userInternal.auth._initializationPromise;
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  await _setPendingRedirectStatus(resolverInternal, userInternal.auth);
  const eventId = await prepareUserForRedirect(userInternal);
  return resolverInternal._openRedirect(userInternal.auth, provider, "reauthViaRedirect", eventId);
}
function linkWithRedirect(user, provider, resolver) {
  return _linkWithRedirect(user, provider, resolver);
}
async function _linkWithRedirect(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  await userInternal.auth._initializationPromise;
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  await _assertLinkedStatus(false, userInternal, provider.providerId);
  await _setPendingRedirectStatus(resolverInternal, userInternal.auth);
  const eventId = await prepareUserForRedirect(userInternal);
  return resolverInternal._openRedirect(userInternal.auth, provider, "linkViaRedirect", eventId);
}
async function getRedirectResult(auth2, resolver) {
  await _castAuth(auth2)._initializationPromise;
  return _getRedirectResult(auth2, resolver, false);
}
async function _getRedirectResult(auth2, resolverExtern, bypassAuthState = false) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const resolver = _withDefaultResolver(authInternal, resolverExtern);
  const action = new RedirectAction(authInternal, resolver, bypassAuthState);
  const result = await action.execute();
  if (result && !bypassAuthState) {
    delete result.user._redirectEventId;
    await authInternal._persistUserIfCurrent(result.user);
    await authInternal._setRedirectUser(null, resolverExtern);
  }
  return result;
}
async function prepareUserForRedirect(user) {
  const eventId = _generateEventId(`${user.uid}:::`);
  user._redirectEventId = eventId;
  await user.auth._setRedirectUser(user);
  await user.auth._persistUserIfCurrent(user);
  return eventId;
}
function eventUid(e3) {
  return [e3.type, e3.eventId, e3.sessionId, e3.tenantId].filter((v3) => v3).join("-");
}
function isNullRedirectEvent({ type: type2, error: error2 }) {
  return type2 === "unknown" && (error2 === null || error2 === void 0 ? void 0 : error2.code) === `auth/${"no-auth-event"}`;
}
function isRedirectEvent(event) {
  switch (event.type) {
    case "signInViaRedirect":
    case "linkViaRedirect":
    case "reauthViaRedirect":
      return true;
    case "unknown":
      return isNullRedirectEvent(event);
    default:
      return false;
  }
}
async function _getProjectConfig(auth2, request = {}) {
  return _performApiRequest(auth2, "GET", "/v1/projects", request);
}
async function _validateOrigin(auth2) {
  if (auth2.config.emulator) {
    return;
  }
  const { authorizedDomains } = await _getProjectConfig(auth2);
  for (const domain of authorizedDomains) {
    try {
      if (matchDomain(domain)) {
        return;
      }
    } catch (_a) {
    }
  }
  _fail(
    auth2,
    "unauthorized-domain"
    /* AuthErrorCode.INVALID_ORIGIN */
  );
}
function matchDomain(expected) {
  const currentUrl = _getCurrentUrl();
  const { protocol, hostname } = new URL(currentUrl);
  if (expected.startsWith("chrome-extension://")) {
    const ceUrl = new URL(expected);
    if (ceUrl.hostname === "" && hostname === "") {
      return protocol === "chrome-extension:" && expected.replace("chrome-extension://", "") === currentUrl.replace("chrome-extension://", "");
    }
    return protocol === "chrome-extension:" && ceUrl.hostname === hostname;
  }
  if (!HTTP_REGEX.test(protocol)) {
    return false;
  }
  if (IP_ADDRESS_REGEX.test(expected)) {
    return hostname === expected;
  }
  const escapedDomainPattern = expected.replace(/\./g, "\\.");
  const re = new RegExp("^(.+\\." + escapedDomainPattern + "|" + escapedDomainPattern + ")$", "i");
  return re.test(hostname);
}
function resetUnloadedGapiModules() {
  const beacon = _window().___jsl;
  if (beacon === null || beacon === void 0 ? void 0 : beacon.H) {
    for (const hint of Object.keys(beacon.H)) {
      beacon.H[hint].r = beacon.H[hint].r || [];
      beacon.H[hint].L = beacon.H[hint].L || [];
      beacon.H[hint].r = [...beacon.H[hint].L];
      if (beacon.CP) {
        for (let i3 = 0; i3 < beacon.CP.length; i3++) {
          beacon.CP[i3] = null;
        }
      }
    }
  }
}
function loadGapi(auth2) {
  return new Promise((resolve, reject) => {
    var _a, _b, _c;
    function loadGapiIframe() {
      resetUnloadedGapiModules();
      gapi.load("gapi.iframes", {
        callback: () => {
          resolve(gapi.iframes.getContext());
        },
        ontimeout: () => {
          resetUnloadedGapiModules();
          reject(_createError(
            auth2,
            "network-request-failed"
            /* AuthErrorCode.NETWORK_REQUEST_FAILED */
          ));
        },
        timeout: NETWORK_TIMEOUT.get()
      });
    }
    if ((_b = (_a = _window().gapi) === null || _a === void 0 ? void 0 : _a.iframes) === null || _b === void 0 ? void 0 : _b.Iframe) {
      resolve(gapi.iframes.getContext());
    } else if (!!((_c = _window().gapi) === null || _c === void 0 ? void 0 : _c.load)) {
      loadGapiIframe();
    } else {
      const cbName = _generateCallbackName("iframefcb");
      _window()[cbName] = () => {
        if (!!gapi.load) {
          loadGapiIframe();
        } else {
          reject(_createError(
            auth2,
            "network-request-failed"
            /* AuthErrorCode.NETWORK_REQUEST_FAILED */
          ));
        }
      };
      return _loadJS(`${_gapiScriptUrl()}?onload=${cbName}`).catch((e3) => reject(e3));
    }
  }).catch((error2) => {
    cachedGApiLoader = null;
    throw error2;
  });
}
function _loadGapi(auth2) {
  cachedGApiLoader = cachedGApiLoader || loadGapi(auth2);
  return cachedGApiLoader;
}
function getIframeUrl(auth2) {
  const config = auth2.config;
  _assert(
    config.authDomain,
    auth2,
    "auth-domain-config-required"
    /* AuthErrorCode.MISSING_AUTH_DOMAIN */
  );
  const url = config.emulator ? _emulatorUrl(config, EMULATED_IFRAME_PATH) : `https://${auth2.config.authDomain}/${IFRAME_PATH}`;
  const params = {
    apiKey: config.apiKey,
    appName: auth2.name,
    v: SDK_VERSION
  };
  const eid = EID_FROM_APIHOST.get(auth2.config.apiHost);
  if (eid) {
    params.eid = eid;
  }
  const frameworks = auth2._getFrameworks();
  if (frameworks.length) {
    params.fw = frameworks.join(",");
  }
  return `${url}?${querystring(params).slice(1)}`;
}
async function _openIframe(auth2) {
  const context = await _loadGapi(auth2);
  const gapi2 = _window().gapi;
  _assert(
    gapi2,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return context.open({
    where: document.body,
    url: getIframeUrl(auth2),
    messageHandlersFilter: gapi2.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
    attributes: IFRAME_ATTRIBUTES,
    dontclear: true
  }, (iframe) => new Promise(async (resolve, reject) => {
    await iframe.restyle({
      // Prevent iframe from closing on mouse out.
      setHideOnLeave: false
    });
    const networkError = _createError(
      auth2,
      "network-request-failed"
      /* AuthErrorCode.NETWORK_REQUEST_FAILED */
    );
    const networkErrorTimer = _window().setTimeout(() => {
      reject(networkError);
    }, PING_TIMEOUT.get());
    function clearTimerAndResolve() {
      _window().clearTimeout(networkErrorTimer);
      resolve(iframe);
    }
    iframe.ping(clearTimerAndResolve).then(clearTimerAndResolve, () => {
      reject(networkError);
    });
  }));
}
function _open(auth2, url, name5, width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT) {
  const top = Math.max((window.screen.availHeight - height) / 2, 0).toString();
  const left = Math.max((window.screen.availWidth - width) / 2, 0).toString();
  let target = "";
  const options = Object.assign(Object.assign({}, BASE_POPUP_OPTIONS), {
    width: width.toString(),
    height: height.toString(),
    top,
    left
  });
  const ua = getUA().toLowerCase();
  if (name5) {
    target = _isChromeIOS(ua) ? TARGET_BLANK : name5;
  }
  if (_isFirefox(ua)) {
    url = url || FIREFOX_EMPTY_URL;
    options.scrollbars = "yes";
  }
  const optionsString = Object.entries(options).reduce((accum, [key, value2]) => `${accum}${key}=${value2},`, "");
  if (_isIOSStandalone(ua) && target !== "_self") {
    openAsNewWindowIOS(url || "", target);
    return new AuthPopup(null);
  }
  const newWin = window.open(url || "", target, optionsString);
  _assert(
    newWin,
    auth2,
    "popup-blocked"
    /* AuthErrorCode.POPUP_BLOCKED */
  );
  try {
    newWin.focus();
  } catch (e3) {
  }
  return new AuthPopup(newWin);
}
function openAsNewWindowIOS(url, target) {
  const el = document.createElement("a");
  el.href = url;
  el.target = target;
  const click = document.createEvent("MouseEvent");
  click.initMouseEvent("click", true, true, window, 1, 0, 0, 0, 0, false, false, false, false, 1, null);
  el.dispatchEvent(click);
}
async function _getRedirectUrl(auth2, provider, authType, redirectUrl, eventId, additionalParams) {
  _assert(
    auth2.config.authDomain,
    auth2,
    "auth-domain-config-required"
    /* AuthErrorCode.MISSING_AUTH_DOMAIN */
  );
  _assert(
    auth2.config.apiKey,
    auth2,
    "invalid-api-key"
    /* AuthErrorCode.INVALID_API_KEY */
  );
  const params = {
    apiKey: auth2.config.apiKey,
    appName: auth2.name,
    authType,
    redirectUrl,
    v: SDK_VERSION,
    eventId
  };
  if (provider instanceof FederatedAuthProvider) {
    provider.setDefaultLanguage(auth2.languageCode);
    params.providerId = provider.providerId || "";
    if (!isEmpty(provider.getCustomParameters())) {
      params.customParameters = JSON.stringify(provider.getCustomParameters());
    }
    for (const [key, value2] of Object.entries(additionalParams || {})) {
      params[key] = value2;
    }
  }
  if (provider instanceof BaseOAuthProvider) {
    const scopes = provider.getScopes().filter((scope) => scope !== "");
    if (scopes.length > 0) {
      params.scopes = scopes.join(",");
    }
  }
  if (auth2.tenantId) {
    params.tid = auth2.tenantId;
  }
  const paramsDict = params;
  for (const key of Object.keys(paramsDict)) {
    if (paramsDict[key] === void 0) {
      delete paramsDict[key];
    }
  }
  const appCheckToken = await auth2._getAppCheckToken();
  const appCheckTokenFragment = appCheckToken ? `#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(appCheckToken)}` : "";
  return `${getHandlerBase(auth2)}?${querystring(paramsDict).slice(1)}${appCheckTokenFragment}`;
}
function getHandlerBase({ config }) {
  if (!config.emulator) {
    return `https://${config.authDomain}/${WIDGET_PATH}`;
  }
  return _emulatorUrl(config, EMULATOR_WIDGET_PATH);
}
function _isEmptyString(input) {
  return typeof input === "undefined" || (input === null || input === void 0 ? void 0 : input.length) === 0;
}
function getVersionForPlatform(clientPlatform) {
  switch (clientPlatform) {
    case "Node":
      return "node";
    case "ReactNative":
      return "rn";
    case "Worker":
      return "webworker";
    case "Cordova":
      return "cordova";
    case "WebExtension":
      return "web-extension";
    default:
      return void 0;
  }
}
function registerAuth(clientPlatform) {
  _registerComponent(new Component2(
    "auth",
    (container, { options: deps }) => {
      const app2 = container.getProvider("app").getImmediate();
      const heartbeatServiceProvider = container.getProvider("heartbeat");
      const appCheckServiceProvider = container.getProvider("app-check-internal");
      const { apiKey, authDomain } = app2.options;
      _assert(apiKey && !apiKey.includes(":"), "invalid-api-key", { appName: app2.name });
      const config = {
        apiKey,
        authDomain,
        clientPlatform,
        apiHost: "identitytoolkit.googleapis.com",
        tokenApiHost: "securetoken.googleapis.com",
        apiScheme: "https",
        sdkClientVersion: _getClientVersion(clientPlatform)
      };
      const authInstance = new AuthImpl(app2, heartbeatServiceProvider, appCheckServiceProvider, config);
      _initializeAuthInstance(authInstance, deps);
      return authInstance;
    },
    "PUBLIC"
    /* ComponentType.PUBLIC */
  ).setInstantiationMode(
    "EXPLICIT"
    /* InstantiationMode.EXPLICIT */
  ).setInstanceCreatedCallback((container, _instanceIdentifier, _instance) => {
    const authInternalProvider = container.getProvider(
      "auth-internal"
      /* _ComponentName.AUTH_INTERNAL */
    );
    authInternalProvider.initialize();
  }));
  _registerComponent(new Component2(
    "auth-internal",
    (container) => {
      const auth2 = _castAuth(container.getProvider(
        "auth"
        /* _ComponentName.AUTH */
      ).getImmediate());
      return ((auth3) => new AuthInterop(auth3))(auth2);
    },
    "PRIVATE"
    /* ComponentType.PRIVATE */
  ).setInstantiationMode(
    "EXPLICIT"
    /* InstantiationMode.EXPLICIT */
  ));
  registerVersion(name4, version3, getVersionForPlatform(clientPlatform));
  registerVersion(name4, version3, "esm2017");
}
function getAuth(app2 = getApp()) {
  const provider = _getProvider(app2, "auth");
  if (provider.isInitialized()) {
    return provider.getImmediate();
  }
  const auth2 = initializeAuth(app2, {
    popupRedirectResolver: browserPopupRedirectResolver,
    persistence: [
      indexedDBLocalPersistence,
      browserLocalPersistence,
      browserSessionPersistence
    ]
  });
  const authTokenSyncPath = getExperimentalSetting("authTokenSyncURL");
  if (authTokenSyncPath && typeof isSecureContext === "boolean" && isSecureContext) {
    const authTokenSyncUrl = new URL(authTokenSyncPath, location.origin);
    if (location.origin === authTokenSyncUrl.origin) {
      const mintCookie = mintCookieFactory(authTokenSyncUrl.toString());
      beforeAuthStateChanged(auth2, mintCookie, () => mintCookie(auth2.currentUser));
      onIdTokenChanged(auth2, (user) => mintCookie(user));
    }
  }
  const authEmulatorHost = getDefaultEmulatorHost("auth");
  if (authEmulatorHost) {
    connectAuthEmulator(auth2, `http://${authEmulatorHost}`);
  }
  return auth2;
}
function getScriptParentElement() {
  var _a, _b;
  return (_b = (_a = document.getElementsByTagName("head")) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : document;
}
var FactorId, ProviderId, SignInMethod, OperationType, ActionCodeOperation, debugErrorMap, prodErrorMap, _DEFAULT_AUTH_ERROR_FACTORY, AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY, logClient, Delay, FetchProvider, SERVER_ERROR_MAP, DEFAULT_API_TIMEOUT_MS, NetworkTimeout, RecaptchaConfig, ProactiveRefresh, UserMetadata, StsTokenManager, UserImpl, instanceCache, InMemoryPersistence, inMemoryPersistence, PersistenceUserManager, AuthMiddlewareQueue, MINIMUM_MIN_PASSWORD_LENGTH, PasswordPolicyImpl, AuthImpl, Subscription, externalJSProvider, RECAPTCHA_ENTERPRISE_VERIFIER_TYPE, FAKE_TOKEN, RecaptchaEnterpriseVerifier, AuthCredential, EmailAuthCredential, IDP_REQUEST_URI$1, OAuthCredential, VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_, PhoneAuthCredential, ActionCodeURL, EmailAuthProvider, FederatedAuthProvider, BaseOAuthProvider, OAuthProvider, FacebookAuthProvider, GoogleAuthProvider, GithubAuthProvider, IDP_REQUEST_URI, SAMLAuthCredential, SAML_PROVIDER_PREFIX, SAMLAuthProvider, TwitterAuthProvider, UserCredentialImpl, MultiFactorError, MultiFactorInfoImpl, PhoneMultiFactorInfoImpl, TotpMultiFactorInfoImpl, GenericAdditionalUserInfo, FederatedAdditionalUserInfoWithUsername, FacebookAdditionalUserInfo, GithubAdditionalUserInfo, GoogleAdditionalUserInfo, TwitterAdditionalUserInfo, MultiFactorSessionImpl, MultiFactorResolverImpl, MultiFactorUserImpl, multiFactorUserCache, STORAGE_AVAILABLE_KEY, BrowserPersistenceClass, _POLLING_INTERVAL_MS$1, IE10_LOCAL_STORAGE_SYNC_DELAY, BrowserLocalPersistence, browserLocalPersistence, BrowserSessionPersistence, browserSessionPersistence, Receiver, Sender, DB_NAME2, DB_VERSION2, DB_OBJECTSTORE_NAME, DB_DATA_KEYPATH, DBPromise, _POLLING_INTERVAL_MS, _TRANSACTION_RETRY_COUNT, IndexedDBLocalPersistence, indexedDBLocalPersistence, _SOLVE_TIME_MS, _EXPIRATION_TIME_MS, _WIDGET_ID_START, MockReCaptcha, MockWidget, _JSLOAD_CALLBACK, NETWORK_TIMEOUT_DELAY, ReCaptchaLoaderImpl, MockReCaptchaLoaderImpl, RECAPTCHA_VERIFIER_TYPE, DEFAULT_PARAMS, RecaptchaVerifier, ConfirmationResultImpl, PhoneAuthProvider, IdpCredential, AbstractPopupRedirectOperation, _POLL_WINDOW_CLOSE_TIMEOUT, PopupOperation, PENDING_REDIRECT_KEY, redirectOutcomeMap, RedirectAction, EVENT_DUPLICATION_CACHE_DURATION_MS, AuthEventManager, IP_ADDRESS_REGEX, HTTP_REGEX, NETWORK_TIMEOUT, cachedGApiLoader, PING_TIMEOUT, IFRAME_PATH, EMULATED_IFRAME_PATH, IFRAME_ATTRIBUTES, EID_FROM_APIHOST, BASE_POPUP_OPTIONS, DEFAULT_WIDTH, DEFAULT_HEIGHT, TARGET_BLANK, FIREFOX_EMPTY_URL, AuthPopup, WIDGET_PATH, EMULATOR_WIDGET_PATH, FIREBASE_APP_CHECK_FRAGMENT_ID, WEB_STORAGE_SUPPORT_KEY, BrowserPopupRedirectResolver, browserPopupRedirectResolver, MultiFactorAssertionImpl, PhoneMultiFactorAssertionImpl, PhoneMultiFactorGenerator, TotpMultiFactorGenerator, TotpMultiFactorAssertionImpl, TotpSecret, name4, version3, AuthInterop, DEFAULT_ID_TOKEN_MAX_AGE, authIdTokenMaxAge, lastPostedIdToken, mintCookieFactory;
var init_index_68602d24 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index-68602d24.js"() {
    init_index_esm20174();
    init_index_esm2017();
    init_index_esm20173();
    init_tslib_es6();
    init_index_esm20172();
    FactorId = {
      /** Phone as second factor */
      PHONE: "phone",
      TOTP: "totp"
    };
    ProviderId = {
      /** Facebook provider ID */
      FACEBOOK: "facebook.com",
      /** GitHub provider ID */
      GITHUB: "github.com",
      /** Google provider ID */
      GOOGLE: "google.com",
      /** Password provider */
      PASSWORD: "password",
      /** Phone provider */
      PHONE: "phone",
      /** Twitter provider ID */
      TWITTER: "twitter.com"
    };
    SignInMethod = {
      /** Email link sign in method */
      EMAIL_LINK: "emailLink",
      /** Email/password sign in method */
      EMAIL_PASSWORD: "password",
      /** Facebook sign in method */
      FACEBOOK: "facebook.com",
      /** GitHub sign in method */
      GITHUB: "github.com",
      /** Google sign in method */
      GOOGLE: "google.com",
      /** Phone sign in method */
      PHONE: "phone",
      /** Twitter sign in method */
      TWITTER: "twitter.com"
    };
    OperationType = {
      /** Operation involving linking an additional provider to an already signed-in user. */
      LINK: "link",
      /** Operation involving using a provider to reauthenticate an already signed-in user. */
      REAUTHENTICATE: "reauthenticate",
      /** Operation involving signing in a user. */
      SIGN_IN: "signIn"
    };
    ActionCodeOperation = {
      /** The email link sign-in action. */
      EMAIL_SIGNIN: "EMAIL_SIGNIN",
      /** The password reset action. */
      PASSWORD_RESET: "PASSWORD_RESET",
      /** The email revocation action. */
      RECOVER_EMAIL: "RECOVER_EMAIL",
      /** The revert second factor addition email action. */
      REVERT_SECOND_FACTOR_ADDITION: "REVERT_SECOND_FACTOR_ADDITION",
      /** The revert second factor addition email action. */
      VERIFY_AND_CHANGE_EMAIL: "VERIFY_AND_CHANGE_EMAIL",
      /** The email verification action. */
      VERIFY_EMAIL: "VERIFY_EMAIL"
    };
    debugErrorMap = _debugErrorMap;
    prodErrorMap = _prodErrorMap;
    _DEFAULT_AUTH_ERROR_FACTORY = new ErrorFactory("auth", "Firebase", _prodErrorMap());
    AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY = {
      ADMIN_ONLY_OPERATION: "auth/admin-restricted-operation",
      ARGUMENT_ERROR: "auth/argument-error",
      APP_NOT_AUTHORIZED: "auth/app-not-authorized",
      APP_NOT_INSTALLED: "auth/app-not-installed",
      CAPTCHA_CHECK_FAILED: "auth/captcha-check-failed",
      CODE_EXPIRED: "auth/code-expired",
      CORDOVA_NOT_READY: "auth/cordova-not-ready",
      CORS_UNSUPPORTED: "auth/cors-unsupported",
      CREDENTIAL_ALREADY_IN_USE: "auth/credential-already-in-use",
      CREDENTIAL_MISMATCH: "auth/custom-token-mismatch",
      CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "auth/requires-recent-login",
      DEPENDENT_SDK_INIT_BEFORE_AUTH: "auth/dependent-sdk-initialized-before-auth",
      DYNAMIC_LINK_NOT_ACTIVATED: "auth/dynamic-link-not-activated",
      EMAIL_CHANGE_NEEDS_VERIFICATION: "auth/email-change-needs-verification",
      EMAIL_EXISTS: "auth/email-already-in-use",
      EMULATOR_CONFIG_FAILED: "auth/emulator-config-failed",
      EXPIRED_OOB_CODE: "auth/expired-action-code",
      EXPIRED_POPUP_REQUEST: "auth/cancelled-popup-request",
      INTERNAL_ERROR: "auth/internal-error",
      INVALID_API_KEY: "auth/invalid-api-key",
      INVALID_APP_CREDENTIAL: "auth/invalid-app-credential",
      INVALID_APP_ID: "auth/invalid-app-id",
      INVALID_AUTH: "auth/invalid-user-token",
      INVALID_AUTH_EVENT: "auth/invalid-auth-event",
      INVALID_CERT_HASH: "auth/invalid-cert-hash",
      INVALID_CODE: "auth/invalid-verification-code",
      INVALID_CONTINUE_URI: "auth/invalid-continue-uri",
      INVALID_CORDOVA_CONFIGURATION: "auth/invalid-cordova-configuration",
      INVALID_CUSTOM_TOKEN: "auth/invalid-custom-token",
      INVALID_DYNAMIC_LINK_DOMAIN: "auth/invalid-dynamic-link-domain",
      INVALID_EMAIL: "auth/invalid-email",
      INVALID_EMULATOR_SCHEME: "auth/invalid-emulator-scheme",
      INVALID_IDP_RESPONSE: "auth/invalid-credential",
      INVALID_LOGIN_CREDENTIALS: "auth/invalid-credential",
      INVALID_MESSAGE_PAYLOAD: "auth/invalid-message-payload",
      INVALID_MFA_SESSION: "auth/invalid-multi-factor-session",
      INVALID_OAUTH_CLIENT_ID: "auth/invalid-oauth-client-id",
      INVALID_OAUTH_PROVIDER: "auth/invalid-oauth-provider",
      INVALID_OOB_CODE: "auth/invalid-action-code",
      INVALID_ORIGIN: "auth/unauthorized-domain",
      INVALID_PASSWORD: "auth/wrong-password",
      INVALID_PERSISTENCE: "auth/invalid-persistence-type",
      INVALID_PHONE_NUMBER: "auth/invalid-phone-number",
      INVALID_PROVIDER_ID: "auth/invalid-provider-id",
      INVALID_RECIPIENT_EMAIL: "auth/invalid-recipient-email",
      INVALID_SENDER: "auth/invalid-sender",
      INVALID_SESSION_INFO: "auth/invalid-verification-id",
      INVALID_TENANT_ID: "auth/invalid-tenant-id",
      MFA_INFO_NOT_FOUND: "auth/multi-factor-info-not-found",
      MFA_REQUIRED: "auth/multi-factor-auth-required",
      MISSING_ANDROID_PACKAGE_NAME: "auth/missing-android-pkg-name",
      MISSING_APP_CREDENTIAL: "auth/missing-app-credential",
      MISSING_AUTH_DOMAIN: "auth/auth-domain-config-required",
      MISSING_CODE: "auth/missing-verification-code",
      MISSING_CONTINUE_URI: "auth/missing-continue-uri",
      MISSING_IFRAME_START: "auth/missing-iframe-start",
      MISSING_IOS_BUNDLE_ID: "auth/missing-ios-bundle-id",
      MISSING_OR_INVALID_NONCE: "auth/missing-or-invalid-nonce",
      MISSING_MFA_INFO: "auth/missing-multi-factor-info",
      MISSING_MFA_SESSION: "auth/missing-multi-factor-session",
      MISSING_PHONE_NUMBER: "auth/missing-phone-number",
      MISSING_SESSION_INFO: "auth/missing-verification-id",
      MODULE_DESTROYED: "auth/app-deleted",
      NEED_CONFIRMATION: "auth/account-exists-with-different-credential",
      NETWORK_REQUEST_FAILED: "auth/network-request-failed",
      NULL_USER: "auth/null-user",
      NO_AUTH_EVENT: "auth/no-auth-event",
      NO_SUCH_PROVIDER: "auth/no-such-provider",
      OPERATION_NOT_ALLOWED: "auth/operation-not-allowed",
      OPERATION_NOT_SUPPORTED: "auth/operation-not-supported-in-this-environment",
      POPUP_BLOCKED: "auth/popup-blocked",
      POPUP_CLOSED_BY_USER: "auth/popup-closed-by-user",
      PROVIDER_ALREADY_LINKED: "auth/provider-already-linked",
      QUOTA_EXCEEDED: "auth/quota-exceeded",
      REDIRECT_CANCELLED_BY_USER: "auth/redirect-cancelled-by-user",
      REDIRECT_OPERATION_PENDING: "auth/redirect-operation-pending",
      REJECTED_CREDENTIAL: "auth/rejected-credential",
      SECOND_FACTOR_ALREADY_ENROLLED: "auth/second-factor-already-in-use",
      SECOND_FACTOR_LIMIT_EXCEEDED: "auth/maximum-second-factor-count-exceeded",
      TENANT_ID_MISMATCH: "auth/tenant-id-mismatch",
      TIMEOUT: "auth/timeout",
      TOKEN_EXPIRED: "auth/user-token-expired",
      TOO_MANY_ATTEMPTS_TRY_LATER: "auth/too-many-requests",
      UNAUTHORIZED_DOMAIN: "auth/unauthorized-continue-uri",
      UNSUPPORTED_FIRST_FACTOR: "auth/unsupported-first-factor",
      UNSUPPORTED_PERSISTENCE: "auth/unsupported-persistence-type",
      UNSUPPORTED_TENANT_OPERATION: "auth/unsupported-tenant-operation",
      UNVERIFIED_EMAIL: "auth/unverified-email",
      USER_CANCELLED: "auth/user-cancelled",
      USER_DELETED: "auth/user-not-found",
      USER_DISABLED: "auth/user-disabled",
      USER_MISMATCH: "auth/user-mismatch",
      USER_SIGNED_OUT: "auth/user-signed-out",
      WEAK_PASSWORD: "auth/weak-password",
      WEB_STORAGE_UNSUPPORTED: "auth/web-storage-unsupported",
      ALREADY_INITIALIZED: "auth/already-initialized",
      RECAPTCHA_NOT_ENABLED: "auth/recaptcha-not-enabled",
      MISSING_RECAPTCHA_TOKEN: "auth/missing-recaptcha-token",
      INVALID_RECAPTCHA_TOKEN: "auth/invalid-recaptcha-token",
      INVALID_RECAPTCHA_ACTION: "auth/invalid-recaptcha-action",
      MISSING_CLIENT_TYPE: "auth/missing-client-type",
      MISSING_RECAPTCHA_VERSION: "auth/missing-recaptcha-version",
      INVALID_RECAPTCHA_VERSION: "auth/invalid-recaptcha-version",
      INVALID_REQ_TYPE: "auth/invalid-req-type"
    };
    logClient = new Logger("@firebase/auth");
    Delay = class {
      constructor(shortDelay, longDelay) {
        this.shortDelay = shortDelay;
        this.longDelay = longDelay;
        debugAssert(longDelay > shortDelay, "Short delay should be less than long delay!");
        this.isMobile = isMobileCordova() || isReactNative();
      }
      get() {
        if (!_isOnline()) {
          return Math.min(5e3, this.shortDelay);
        }
        return this.isMobile ? this.longDelay : this.shortDelay;
      }
    };
    FetchProvider = class {
      static initialize(fetchImpl, headersImpl, responseImpl) {
        this.fetchImpl = fetchImpl;
        if (headersImpl) {
          this.headersImpl = headersImpl;
        }
        if (responseImpl) {
          this.responseImpl = responseImpl;
        }
      }
      static fetch() {
        if (this.fetchImpl) {
          return this.fetchImpl;
        }
        if (typeof self !== "undefined" && "fetch" in self) {
          return self.fetch;
        }
        if (typeof globalThis !== "undefined" && globalThis.fetch) {
          return globalThis.fetch;
        }
        if (typeof fetch !== "undefined") {
          return fetch;
        }
        debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
      static headers() {
        if (this.headersImpl) {
          return this.headersImpl;
        }
        if (typeof self !== "undefined" && "Headers" in self) {
          return self.Headers;
        }
        if (typeof globalThis !== "undefined" && globalThis.Headers) {
          return globalThis.Headers;
        }
        if (typeof Headers !== "undefined") {
          return Headers;
        }
        debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
      static response() {
        if (this.responseImpl) {
          return this.responseImpl;
        }
        if (typeof self !== "undefined" && "Response" in self) {
          return self.Response;
        }
        if (typeof globalThis !== "undefined" && globalThis.Response) {
          return globalThis.Response;
        }
        if (typeof Response !== "undefined") {
          return Response;
        }
        debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
    };
    SERVER_ERROR_MAP = {
      // Custom token errors.
      [
        "CREDENTIAL_MISMATCH"
        /* ServerError.CREDENTIAL_MISMATCH */
      ]: "custom-token-mismatch",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_CUSTOM_TOKEN"
        /* ServerError.MISSING_CUSTOM_TOKEN */
      ]: "internal-error",
      // Create Auth URI errors.
      [
        "INVALID_IDENTIFIER"
        /* ServerError.INVALID_IDENTIFIER */
      ]: "invalid-email",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_CONTINUE_URI"
        /* ServerError.MISSING_CONTINUE_URI */
      ]: "internal-error",
      // Sign in with email and password errors (some apply to sign up too).
      [
        "INVALID_PASSWORD"
        /* ServerError.INVALID_PASSWORD */
      ]: "wrong-password",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_PASSWORD"
        /* ServerError.MISSING_PASSWORD */
      ]: "missing-password",
      // Thrown if Email Enumeration Protection is enabled in the project and the email or password is
      // invalid.
      [
        "INVALID_LOGIN_CREDENTIALS"
        /* ServerError.INVALID_LOGIN_CREDENTIALS */
      ]: "invalid-credential",
      // Sign up with email and password errors.
      [
        "EMAIL_EXISTS"
        /* ServerError.EMAIL_EXISTS */
      ]: "email-already-in-use",
      [
        "PASSWORD_LOGIN_DISABLED"
        /* ServerError.PASSWORD_LOGIN_DISABLED */
      ]: "operation-not-allowed",
      // Verify assertion for sign in with credential errors:
      [
        "INVALID_IDP_RESPONSE"
        /* ServerError.INVALID_IDP_RESPONSE */
      ]: "invalid-credential",
      [
        "INVALID_PENDING_TOKEN"
        /* ServerError.INVALID_PENDING_TOKEN */
      ]: "invalid-credential",
      [
        "FEDERATED_USER_ID_ALREADY_LINKED"
        /* ServerError.FEDERATED_USER_ID_ALREADY_LINKED */
      ]: "credential-already-in-use",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_REQ_TYPE"
        /* ServerError.MISSING_REQ_TYPE */
      ]: "internal-error",
      // Send Password reset email errors:
      [
        "EMAIL_NOT_FOUND"
        /* ServerError.EMAIL_NOT_FOUND */
      ]: "user-not-found",
      [
        "RESET_PASSWORD_EXCEED_LIMIT"
        /* ServerError.RESET_PASSWORD_EXCEED_LIMIT */
      ]: "too-many-requests",
      [
        "EXPIRED_OOB_CODE"
        /* ServerError.EXPIRED_OOB_CODE */
      ]: "expired-action-code",
      [
        "INVALID_OOB_CODE"
        /* ServerError.INVALID_OOB_CODE */
      ]: "invalid-action-code",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_OOB_CODE"
        /* ServerError.MISSING_OOB_CODE */
      ]: "internal-error",
      // Operations that require ID token in request:
      [
        "CREDENTIAL_TOO_OLD_LOGIN_AGAIN"
        /* ServerError.CREDENTIAL_TOO_OLD_LOGIN_AGAIN */
      ]: "requires-recent-login",
      [
        "INVALID_ID_TOKEN"
        /* ServerError.INVALID_ID_TOKEN */
      ]: "invalid-user-token",
      [
        "TOKEN_EXPIRED"
        /* ServerError.TOKEN_EXPIRED */
      ]: "user-token-expired",
      [
        "USER_NOT_FOUND"
        /* ServerError.USER_NOT_FOUND */
      ]: "user-token-expired",
      // Other errors.
      [
        "TOO_MANY_ATTEMPTS_TRY_LATER"
        /* ServerError.TOO_MANY_ATTEMPTS_TRY_LATER */
      ]: "too-many-requests",
      [
        "PASSWORD_DOES_NOT_MEET_REQUIREMENTS"
        /* ServerError.PASSWORD_DOES_NOT_MEET_REQUIREMENTS */
      ]: "password-does-not-meet-requirements",
      // Phone Auth related errors.
      [
        "INVALID_CODE"
        /* ServerError.INVALID_CODE */
      ]: "invalid-verification-code",
      [
        "INVALID_SESSION_INFO"
        /* ServerError.INVALID_SESSION_INFO */
      ]: "invalid-verification-id",
      [
        "INVALID_TEMPORARY_PROOF"
        /* ServerError.INVALID_TEMPORARY_PROOF */
      ]: "invalid-credential",
      [
        "MISSING_SESSION_INFO"
        /* ServerError.MISSING_SESSION_INFO */
      ]: "missing-verification-id",
      [
        "SESSION_EXPIRED"
        /* ServerError.SESSION_EXPIRED */
      ]: "code-expired",
      // Other action code errors when additional settings passed.
      // MISSING_CONTINUE_URI is getting mapped to INTERNAL_ERROR above.
      // This is OK as this error will be caught by client side validation.
      [
        "MISSING_ANDROID_PACKAGE_NAME"
        /* ServerError.MISSING_ANDROID_PACKAGE_NAME */
      ]: "missing-android-pkg-name",
      [
        "UNAUTHORIZED_DOMAIN"
        /* ServerError.UNAUTHORIZED_DOMAIN */
      ]: "unauthorized-continue-uri",
      // getProjectConfig errors when clientId is passed.
      [
        "INVALID_OAUTH_CLIENT_ID"
        /* ServerError.INVALID_OAUTH_CLIENT_ID */
      ]: "invalid-oauth-client-id",
      // User actions (sign-up or deletion) disabled errors.
      [
        "ADMIN_ONLY_OPERATION"
        /* ServerError.ADMIN_ONLY_OPERATION */
      ]: "admin-restricted-operation",
      // Multi factor related errors.
      [
        "INVALID_MFA_PENDING_CREDENTIAL"
        /* ServerError.INVALID_MFA_PENDING_CREDENTIAL */
      ]: "invalid-multi-factor-session",
      [
        "MFA_ENROLLMENT_NOT_FOUND"
        /* ServerError.MFA_ENROLLMENT_NOT_FOUND */
      ]: "multi-factor-info-not-found",
      [
        "MISSING_MFA_ENROLLMENT_ID"
        /* ServerError.MISSING_MFA_ENROLLMENT_ID */
      ]: "missing-multi-factor-info",
      [
        "MISSING_MFA_PENDING_CREDENTIAL"
        /* ServerError.MISSING_MFA_PENDING_CREDENTIAL */
      ]: "missing-multi-factor-session",
      [
        "SECOND_FACTOR_EXISTS"
        /* ServerError.SECOND_FACTOR_EXISTS */
      ]: "second-factor-already-in-use",
      [
        "SECOND_FACTOR_LIMIT_EXCEEDED"
        /* ServerError.SECOND_FACTOR_LIMIT_EXCEEDED */
      ]: "maximum-second-factor-count-exceeded",
      // Blocking functions related errors.
      [
        "BLOCKING_FUNCTION_ERROR_RESPONSE"
        /* ServerError.BLOCKING_FUNCTION_ERROR_RESPONSE */
      ]: "internal-error",
      // Recaptcha related errors.
      [
        "RECAPTCHA_NOT_ENABLED"
        /* ServerError.RECAPTCHA_NOT_ENABLED */
      ]: "recaptcha-not-enabled",
      [
        "MISSING_RECAPTCHA_TOKEN"
        /* ServerError.MISSING_RECAPTCHA_TOKEN */
      ]: "missing-recaptcha-token",
      [
        "INVALID_RECAPTCHA_TOKEN"
        /* ServerError.INVALID_RECAPTCHA_TOKEN */
      ]: "invalid-recaptcha-token",
      [
        "INVALID_RECAPTCHA_ACTION"
        /* ServerError.INVALID_RECAPTCHA_ACTION */
      ]: "invalid-recaptcha-action",
      [
        "MISSING_CLIENT_TYPE"
        /* ServerError.MISSING_CLIENT_TYPE */
      ]: "missing-client-type",
      [
        "MISSING_RECAPTCHA_VERSION"
        /* ServerError.MISSING_RECAPTCHA_VERSION */
      ]: "missing-recaptcha-version",
      [
        "INVALID_RECAPTCHA_VERSION"
        /* ServerError.INVALID_RECAPTCHA_VERSION */
      ]: "invalid-recaptcha-version",
      [
        "INVALID_REQ_TYPE"
        /* ServerError.INVALID_REQ_TYPE */
      ]: "invalid-req-type"
      /* AuthErrorCode.INVALID_REQ_TYPE */
    };
    DEFAULT_API_TIMEOUT_MS = new Delay(3e4, 6e4);
    NetworkTimeout = class {
      constructor(auth2) {
        this.auth = auth2;
        this.timer = null;
        this.promise = new Promise((_, reject) => {
          this.timer = setTimeout(() => {
            return reject(_createError(
              this.auth,
              "network-request-failed"
              /* AuthErrorCode.NETWORK_REQUEST_FAILED */
            ));
          }, DEFAULT_API_TIMEOUT_MS.get());
        });
      }
      clearNetworkTimeout() {
        clearTimeout(this.timer);
      }
    };
    RecaptchaConfig = class {
      constructor(response) {
        this.siteKey = "";
        this.recaptchaEnforcementState = [];
        if (response.recaptchaKey === void 0) {
          throw new Error("recaptchaKey undefined");
        }
        this.siteKey = response.recaptchaKey.split("/")[3];
        this.recaptchaEnforcementState = response.recaptchaEnforcementState;
      }
      /**
       * Returns the reCAPTCHA Enterprise enforcement state for the given provider.
       *
       * @param providerStr - The provider whose enforcement state is to be returned.
       * @returns The reCAPTCHA Enterprise enforcement state for the given provider.
       */
      getProviderEnforcementState(providerStr) {
        if (!this.recaptchaEnforcementState || this.recaptchaEnforcementState.length === 0) {
          return null;
        }
        for (const recaptchaEnforcementState of this.recaptchaEnforcementState) {
          if (recaptchaEnforcementState.provider && recaptchaEnforcementState.provider === providerStr) {
            return _parseEnforcementState(recaptchaEnforcementState.enforcementState);
          }
        }
        return null;
      }
      /**
       * Returns true if the reCAPTCHA Enterprise enforcement state for the provider is set to ENFORCE or AUDIT.
       *
       * @param providerStr - The provider whose enablement state is to be returned.
       * @returns Whether or not reCAPTCHA Enterprise protection is enabled for the given provider.
       */
      isProviderEnabled(providerStr) {
        return this.getProviderEnforcementState(providerStr) === "ENFORCE" || this.getProviderEnforcementState(providerStr) === "AUDIT";
      }
    };
    ProactiveRefresh = class {
      constructor(user) {
        this.user = user;
        this.isRunning = false;
        this.timerId = null;
        this.errorBackoff = 3e4;
      }
      _start() {
        if (this.isRunning) {
          return;
        }
        this.isRunning = true;
        this.schedule();
      }
      _stop() {
        if (!this.isRunning) {
          return;
        }
        this.isRunning = false;
        if (this.timerId !== null) {
          clearTimeout(this.timerId);
        }
      }
      getInterval(wasError) {
        var _a;
        if (wasError) {
          const interval = this.errorBackoff;
          this.errorBackoff = Math.min(
            this.errorBackoff * 2,
            96e4
            /* Duration.RETRY_BACKOFF_MAX */
          );
          return interval;
        } else {
          this.errorBackoff = 3e4;
          const expTime = (_a = this.user.stsTokenManager.expirationTime) !== null && _a !== void 0 ? _a : 0;
          const interval = expTime - Date.now() - 3e5;
          return Math.max(0, interval);
        }
      }
      schedule(wasError = false) {
        if (!this.isRunning) {
          return;
        }
        const interval = this.getInterval(wasError);
        this.timerId = setTimeout(async () => {
          await this.iteration();
        }, interval);
      }
      async iteration() {
        try {
          await this.user.getIdToken(true);
        } catch (e3) {
          if ((e3 === null || e3 === void 0 ? void 0 : e3.code) === `auth/${"network-request-failed"}`) {
            this.schedule(
              /* wasError */
              true
            );
          }
          return;
        }
        this.schedule();
      }
    };
    UserMetadata = class {
      constructor(createdAt, lastLoginAt) {
        this.createdAt = createdAt;
        this.lastLoginAt = lastLoginAt;
        this._initializeTime();
      }
      _initializeTime() {
        this.lastSignInTime = utcTimestampToDateString(this.lastLoginAt);
        this.creationTime = utcTimestampToDateString(this.createdAt);
      }
      _copy(metadata) {
        this.createdAt = metadata.createdAt;
        this.lastLoginAt = metadata.lastLoginAt;
        this._initializeTime();
      }
      toJSON() {
        return {
          createdAt: this.createdAt,
          lastLoginAt: this.lastLoginAt
        };
      }
    };
    StsTokenManager = class _StsTokenManager {
      constructor() {
        this.refreshToken = null;
        this.accessToken = null;
        this.expirationTime = null;
      }
      get isExpired() {
        return !this.expirationTime || Date.now() > this.expirationTime - 3e4;
      }
      updateFromServerResponse(response) {
        _assert(
          response.idToken,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        _assert(
          typeof response.idToken !== "undefined",
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        _assert(
          typeof response.refreshToken !== "undefined",
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const expiresIn = "expiresIn" in response && typeof response.expiresIn !== "undefined" ? Number(response.expiresIn) : _tokenExpiresIn(response.idToken);
        this.updateTokensAndExpiration(response.idToken, response.refreshToken, expiresIn);
      }
      updateFromIdToken(idToken) {
        _assert(
          idToken.length !== 0,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const expiresIn = _tokenExpiresIn(idToken);
        this.updateTokensAndExpiration(idToken, null, expiresIn);
      }
      async getToken(auth2, forceRefresh = false) {
        if (!forceRefresh && this.accessToken && !this.isExpired) {
          return this.accessToken;
        }
        _assert(
          this.refreshToken,
          auth2,
          "user-token-expired"
          /* AuthErrorCode.TOKEN_EXPIRED */
        );
        if (this.refreshToken) {
          await this.refresh(auth2, this.refreshToken);
          return this.accessToken;
        }
        return null;
      }
      clearRefreshToken() {
        this.refreshToken = null;
      }
      async refresh(auth2, oldToken) {
        const { accessToken, refreshToken, expiresIn } = await requestStsToken(auth2, oldToken);
        this.updateTokensAndExpiration(accessToken, refreshToken, Number(expiresIn));
      }
      updateTokensAndExpiration(accessToken, refreshToken, expiresInSec) {
        this.refreshToken = refreshToken || null;
        this.accessToken = accessToken || null;
        this.expirationTime = Date.now() + expiresInSec * 1e3;
      }
      static fromJSON(appName, object) {
        const { refreshToken, accessToken, expirationTime } = object;
        const manager = new _StsTokenManager();
        if (refreshToken) {
          _assert(typeof refreshToken === "string", "internal-error", {
            appName
          });
          manager.refreshToken = refreshToken;
        }
        if (accessToken) {
          _assert(typeof accessToken === "string", "internal-error", {
            appName
          });
          manager.accessToken = accessToken;
        }
        if (expirationTime) {
          _assert(typeof expirationTime === "number", "internal-error", {
            appName
          });
          manager.expirationTime = expirationTime;
        }
        return manager;
      }
      toJSON() {
        return {
          refreshToken: this.refreshToken,
          accessToken: this.accessToken,
          expirationTime: this.expirationTime
        };
      }
      _assign(stsTokenManager) {
        this.accessToken = stsTokenManager.accessToken;
        this.refreshToken = stsTokenManager.refreshToken;
        this.expirationTime = stsTokenManager.expirationTime;
      }
      _clone() {
        return Object.assign(new _StsTokenManager(), this.toJSON());
      }
      _performRefresh() {
        return debugFail("not implemented");
      }
    };
    UserImpl = class _UserImpl {
      constructor(_a) {
        var { uid, auth: auth2, stsTokenManager } = _a, opt = __rest(_a, ["uid", "auth", "stsTokenManager"]);
        this.providerId = "firebase";
        this.proactiveRefresh = new ProactiveRefresh(this);
        this.reloadUserInfo = null;
        this.reloadListener = null;
        this.uid = uid;
        this.auth = auth2;
        this.stsTokenManager = stsTokenManager;
        this.accessToken = stsTokenManager.accessToken;
        this.displayName = opt.displayName || null;
        this.email = opt.email || null;
        this.emailVerified = opt.emailVerified || false;
        this.phoneNumber = opt.phoneNumber || null;
        this.photoURL = opt.photoURL || null;
        this.isAnonymous = opt.isAnonymous || false;
        this.tenantId = opt.tenantId || null;
        this.providerData = opt.providerData ? [...opt.providerData] : [];
        this.metadata = new UserMetadata(opt.createdAt || void 0, opt.lastLoginAt || void 0);
      }
      async getIdToken(forceRefresh) {
        const accessToken = await _logoutIfInvalidated(this, this.stsTokenManager.getToken(this.auth, forceRefresh));
        _assert(
          accessToken,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        if (this.accessToken !== accessToken) {
          this.accessToken = accessToken;
          await this.auth._persistUserIfCurrent(this);
          this.auth._notifyListenersIfCurrent(this);
        }
        return accessToken;
      }
      getIdTokenResult(forceRefresh) {
        return getIdTokenResult(this, forceRefresh);
      }
      reload() {
        return reload(this);
      }
      _assign(user) {
        if (this === user) {
          return;
        }
        _assert(
          this.uid === user.uid,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        this.displayName = user.displayName;
        this.photoURL = user.photoURL;
        this.email = user.email;
        this.emailVerified = user.emailVerified;
        this.phoneNumber = user.phoneNumber;
        this.isAnonymous = user.isAnonymous;
        this.tenantId = user.tenantId;
        this.providerData = user.providerData.map((userInfo) => Object.assign({}, userInfo));
        this.metadata._copy(user.metadata);
        this.stsTokenManager._assign(user.stsTokenManager);
      }
      _clone(auth2) {
        const newUser = new _UserImpl(Object.assign(Object.assign({}, this), { auth: auth2, stsTokenManager: this.stsTokenManager._clone() }));
        newUser.metadata._copy(this.metadata);
        return newUser;
      }
      _onReload(callback) {
        _assert(
          !this.reloadListener,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        this.reloadListener = callback;
        if (this.reloadUserInfo) {
          this._notifyReloadListener(this.reloadUserInfo);
          this.reloadUserInfo = null;
        }
      }
      _notifyReloadListener(userInfo) {
        if (this.reloadListener) {
          this.reloadListener(userInfo);
        } else {
          this.reloadUserInfo = userInfo;
        }
      }
      _startProactiveRefresh() {
        this.proactiveRefresh._start();
      }
      _stopProactiveRefresh() {
        this.proactiveRefresh._stop();
      }
      async _updateTokensIfNecessary(response, reload2 = false) {
        let tokensRefreshed = false;
        if (response.idToken && response.idToken !== this.stsTokenManager.accessToken) {
          this.stsTokenManager.updateFromServerResponse(response);
          tokensRefreshed = true;
        }
        if (reload2) {
          await _reloadWithoutSaving(this);
        }
        await this.auth._persistUserIfCurrent(this);
        if (tokensRefreshed) {
          this.auth._notifyListenersIfCurrent(this);
        }
      }
      async delete() {
        if (_isFirebaseServerApp(this.auth.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));
        }
        const idToken = await this.getIdToken();
        await _logoutIfInvalidated(this, deleteAccount(this.auth, { idToken }));
        this.stsTokenManager.clearRefreshToken();
        return this.auth.signOut();
      }
      toJSON() {
        return Object.assign(Object.assign({
          uid: this.uid,
          email: this.email || void 0,
          emailVerified: this.emailVerified,
          displayName: this.displayName || void 0,
          isAnonymous: this.isAnonymous,
          photoURL: this.photoURL || void 0,
          phoneNumber: this.phoneNumber || void 0,
          tenantId: this.tenantId || void 0,
          providerData: this.providerData.map((userInfo) => Object.assign({}, userInfo)),
          stsTokenManager: this.stsTokenManager.toJSON(),
          // Redirect event ID must be maintained in case there is a pending
          // redirect event.
          _redirectEventId: this._redirectEventId
        }, this.metadata.toJSON()), {
          // Required for compatibility with the legacy SDK (go/firebase-auth-sdk-persistence-parsing):
          apiKey: this.auth.config.apiKey,
          appName: this.auth.name
        });
      }
      get refreshToken() {
        return this.stsTokenManager.refreshToken || "";
      }
      static _fromJSON(auth2, object) {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        const displayName = (_a = object.displayName) !== null && _a !== void 0 ? _a : void 0;
        const email = (_b = object.email) !== null && _b !== void 0 ? _b : void 0;
        const phoneNumber = (_c = object.phoneNumber) !== null && _c !== void 0 ? _c : void 0;
        const photoURL = (_d = object.photoURL) !== null && _d !== void 0 ? _d : void 0;
        const tenantId = (_e = object.tenantId) !== null && _e !== void 0 ? _e : void 0;
        const _redirectEventId = (_f = object._redirectEventId) !== null && _f !== void 0 ? _f : void 0;
        const createdAt = (_g = object.createdAt) !== null && _g !== void 0 ? _g : void 0;
        const lastLoginAt = (_h = object.lastLoginAt) !== null && _h !== void 0 ? _h : void 0;
        const { uid, emailVerified, isAnonymous, providerData, stsTokenManager: plainObjectTokenManager } = object;
        _assert(
          uid && plainObjectTokenManager,
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const stsTokenManager = StsTokenManager.fromJSON(this.name, plainObjectTokenManager);
        _assert(
          typeof uid === "string",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        assertStringOrUndefined(displayName, auth2.name);
        assertStringOrUndefined(email, auth2.name);
        _assert(
          typeof emailVerified === "boolean",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        _assert(
          typeof isAnonymous === "boolean",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        assertStringOrUndefined(phoneNumber, auth2.name);
        assertStringOrUndefined(photoURL, auth2.name);
        assertStringOrUndefined(tenantId, auth2.name);
        assertStringOrUndefined(_redirectEventId, auth2.name);
        assertStringOrUndefined(createdAt, auth2.name);
        assertStringOrUndefined(lastLoginAt, auth2.name);
        const user = new _UserImpl({
          uid,
          auth: auth2,
          email,
          emailVerified,
          displayName,
          isAnonymous,
          photoURL,
          phoneNumber,
          tenantId,
          stsTokenManager,
          createdAt,
          lastLoginAt
        });
        if (providerData && Array.isArray(providerData)) {
          user.providerData = providerData.map((userInfo) => Object.assign({}, userInfo));
        }
        if (_redirectEventId) {
          user._redirectEventId = _redirectEventId;
        }
        return user;
      }
      /**
       * Initialize a User from an idToken server response
       * @param auth
       * @param idTokenResponse
       */
      static async _fromIdTokenResponse(auth2, idTokenResponse, isAnonymous = false) {
        const stsTokenManager = new StsTokenManager();
        stsTokenManager.updateFromServerResponse(idTokenResponse);
        const user = new _UserImpl({
          uid: idTokenResponse.localId,
          auth: auth2,
          stsTokenManager,
          isAnonymous
        });
        await _reloadWithoutSaving(user);
        return user;
      }
      /**
       * Initialize a User from an idToken server response
       * @param auth
       * @param idTokenResponse
       */
      static async _fromGetAccountInfoResponse(auth2, response, idToken) {
        const coreAccount = response.users[0];
        _assert(
          coreAccount.localId !== void 0,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const providerData = coreAccount.providerUserInfo !== void 0 ? extractProviderData(coreAccount.providerUserInfo) : [];
        const isAnonymous = !(coreAccount.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length);
        const stsTokenManager = new StsTokenManager();
        stsTokenManager.updateFromIdToken(idToken);
        const user = new _UserImpl({
          uid: coreAccount.localId,
          auth: auth2,
          stsTokenManager,
          isAnonymous
        });
        const updates = {
          uid: coreAccount.localId,
          displayName: coreAccount.displayName || null,
          photoURL: coreAccount.photoUrl || null,
          email: coreAccount.email || null,
          emailVerified: coreAccount.emailVerified || false,
          phoneNumber: coreAccount.phoneNumber || null,
          tenantId: coreAccount.tenantId || null,
          providerData,
          metadata: new UserMetadata(coreAccount.createdAt, coreAccount.lastLoginAt),
          isAnonymous: !(coreAccount.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length)
        };
        Object.assign(user, updates);
        return user;
      }
    };
    instanceCache = /* @__PURE__ */ new Map();
    InMemoryPersistence = class {
      constructor() {
        this.type = "NONE";
        this.storage = {};
      }
      async _isAvailable() {
        return true;
      }
      async _set(key, value2) {
        this.storage[key] = value2;
      }
      async _get(key) {
        const value2 = this.storage[key];
        return value2 === void 0 ? null : value2;
      }
      async _remove(key) {
        delete this.storage[key];
      }
      _addListener(_key, _listener) {
        return;
      }
      _removeListener(_key, _listener) {
        return;
      }
    };
    InMemoryPersistence.type = "NONE";
    inMemoryPersistence = InMemoryPersistence;
    PersistenceUserManager = class _PersistenceUserManager {
      constructor(persistence, auth2, userKey) {
        this.persistence = persistence;
        this.auth = auth2;
        this.userKey = userKey;
        const { config, name: name5 } = this.auth;
        this.fullUserKey = _persistenceKeyName(this.userKey, config.apiKey, name5);
        this.fullPersistenceKey = _persistenceKeyName("persistence", config.apiKey, name5);
        this.boundEventHandler = auth2._onStorageEvent.bind(auth2);
        this.persistence._addListener(this.fullUserKey, this.boundEventHandler);
      }
      setCurrentUser(user) {
        return this.persistence._set(this.fullUserKey, user.toJSON());
      }
      async getCurrentUser() {
        const blob = await this.persistence._get(this.fullUserKey);
        return blob ? UserImpl._fromJSON(this.auth, blob) : null;
      }
      removeCurrentUser() {
        return this.persistence._remove(this.fullUserKey);
      }
      savePersistenceForRedirect() {
        return this.persistence._set(this.fullPersistenceKey, this.persistence.type);
      }
      async setPersistence(newPersistence) {
        if (this.persistence === newPersistence) {
          return;
        }
        const currentUser = await this.getCurrentUser();
        await this.removeCurrentUser();
        this.persistence = newPersistence;
        if (currentUser) {
          return this.setCurrentUser(currentUser);
        }
      }
      delete() {
        this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);
      }
      static async create(auth2, persistenceHierarchy, userKey = "authUser") {
        if (!persistenceHierarchy.length) {
          return new _PersistenceUserManager(_getInstance(inMemoryPersistence), auth2, userKey);
        }
        const availablePersistences = (await Promise.all(persistenceHierarchy.map(async (persistence) => {
          if (await persistence._isAvailable()) {
            return persistence;
          }
          return void 0;
        }))).filter((persistence) => persistence);
        let selectedPersistence = availablePersistences[0] || _getInstance(inMemoryPersistence);
        const key = _persistenceKeyName(userKey, auth2.config.apiKey, auth2.name);
        let userToMigrate = null;
        for (const persistence of persistenceHierarchy) {
          try {
            const blob = await persistence._get(key);
            if (blob) {
              const user = UserImpl._fromJSON(auth2, blob);
              if (persistence !== selectedPersistence) {
                userToMigrate = user;
              }
              selectedPersistence = persistence;
              break;
            }
          } catch (_a) {
          }
        }
        const migrationHierarchy = availablePersistences.filter((p3) => p3._shouldAllowMigration);
        if (!selectedPersistence._shouldAllowMigration || !migrationHierarchy.length) {
          return new _PersistenceUserManager(selectedPersistence, auth2, userKey);
        }
        selectedPersistence = migrationHierarchy[0];
        if (userToMigrate) {
          await selectedPersistence._set(key, userToMigrate.toJSON());
        }
        await Promise.all(persistenceHierarchy.map(async (persistence) => {
          if (persistence !== selectedPersistence) {
            try {
              await persistence._remove(key);
            } catch (_a) {
            }
          }
        }));
        return new _PersistenceUserManager(selectedPersistence, auth2, userKey);
      }
    };
    AuthMiddlewareQueue = class {
      constructor(auth2) {
        this.auth = auth2;
        this.queue = [];
      }
      pushCallback(callback, onAbort) {
        const wrappedCallback = (user) => new Promise((resolve, reject) => {
          try {
            const result = callback(user);
            resolve(result);
          } catch (e3) {
            reject(e3);
          }
        });
        wrappedCallback.onAbort = onAbort;
        this.queue.push(wrappedCallback);
        const index = this.queue.length - 1;
        return () => {
          this.queue[index] = () => Promise.resolve();
        };
      }
      async runMiddleware(nextUser) {
        if (this.auth.currentUser === nextUser) {
          return;
        }
        const onAbortStack = [];
        try {
          for (const beforeStateCallback of this.queue) {
            await beforeStateCallback(nextUser);
            if (beforeStateCallback.onAbort) {
              onAbortStack.push(beforeStateCallback.onAbort);
            }
          }
        } catch (e3) {
          onAbortStack.reverse();
          for (const onAbort of onAbortStack) {
            try {
              onAbort();
            } catch (_) {
            }
          }
          throw this.auth._errorFactory.create("login-blocked", {
            originalMessage: e3 === null || e3 === void 0 ? void 0 : e3.message
          });
        }
      }
    };
    MINIMUM_MIN_PASSWORD_LENGTH = 6;
    PasswordPolicyImpl = class {
      constructor(response) {
        var _a, _b, _c, _d;
        const responseOptions = response.customStrengthOptions;
        this.customStrengthOptions = {};
        this.customStrengthOptions.minPasswordLength = (_a = responseOptions.minPasswordLength) !== null && _a !== void 0 ? _a : MINIMUM_MIN_PASSWORD_LENGTH;
        if (responseOptions.maxPasswordLength) {
          this.customStrengthOptions.maxPasswordLength = responseOptions.maxPasswordLength;
        }
        if (responseOptions.containsLowercaseCharacter !== void 0) {
          this.customStrengthOptions.containsLowercaseLetter = responseOptions.containsLowercaseCharacter;
        }
        if (responseOptions.containsUppercaseCharacter !== void 0) {
          this.customStrengthOptions.containsUppercaseLetter = responseOptions.containsUppercaseCharacter;
        }
        if (responseOptions.containsNumericCharacter !== void 0) {
          this.customStrengthOptions.containsNumericCharacter = responseOptions.containsNumericCharacter;
        }
        if (responseOptions.containsNonAlphanumericCharacter !== void 0) {
          this.customStrengthOptions.containsNonAlphanumericCharacter = responseOptions.containsNonAlphanumericCharacter;
        }
        this.enforcementState = response.enforcementState;
        if (this.enforcementState === "ENFORCEMENT_STATE_UNSPECIFIED") {
          this.enforcementState = "OFF";
        }
        this.allowedNonAlphanumericCharacters = (_c = (_b = response.allowedNonAlphanumericCharacters) === null || _b === void 0 ? void 0 : _b.join("")) !== null && _c !== void 0 ? _c : "";
        this.forceUpgradeOnSignin = (_d = response.forceUpgradeOnSignin) !== null && _d !== void 0 ? _d : false;
        this.schemaVersion = response.schemaVersion;
      }
      validatePassword(password) {
        var _a, _b, _c, _d, _e, _f;
        const status = {
          isValid: true,
          passwordPolicy: this
        };
        this.validatePasswordLengthOptions(password, status);
        this.validatePasswordCharacterOptions(password, status);
        status.isValid && (status.isValid = (_a = status.meetsMinPasswordLength) !== null && _a !== void 0 ? _a : true);
        status.isValid && (status.isValid = (_b = status.meetsMaxPasswordLength) !== null && _b !== void 0 ? _b : true);
        status.isValid && (status.isValid = (_c = status.containsLowercaseLetter) !== null && _c !== void 0 ? _c : true);
        status.isValid && (status.isValid = (_d = status.containsUppercaseLetter) !== null && _d !== void 0 ? _d : true);
        status.isValid && (status.isValid = (_e = status.containsNumericCharacter) !== null && _e !== void 0 ? _e : true);
        status.isValid && (status.isValid = (_f = status.containsNonAlphanumericCharacter) !== null && _f !== void 0 ? _f : true);
        return status;
      }
      /**
       * Validates that the password meets the length options for the policy.
       *
       * @param password Password to validate.
       * @param status Validation status.
       */
      validatePasswordLengthOptions(password, status) {
        const minPasswordLength = this.customStrengthOptions.minPasswordLength;
        const maxPasswordLength = this.customStrengthOptions.maxPasswordLength;
        if (minPasswordLength) {
          status.meetsMinPasswordLength = password.length >= minPasswordLength;
        }
        if (maxPasswordLength) {
          status.meetsMaxPasswordLength = password.length <= maxPasswordLength;
        }
      }
      /**
       * Validates that the password meets the character options for the policy.
       *
       * @param password Password to validate.
       * @param status Validation status.
       */
      validatePasswordCharacterOptions(password, status) {
        this.updatePasswordCharacterOptionsStatuses(
          status,
          /* containsLowercaseCharacter= */
          false,
          /* containsUppercaseCharacter= */
          false,
          /* containsNumericCharacter= */
          false,
          /* containsNonAlphanumericCharacter= */
          false
        );
        let passwordChar;
        for (let i3 = 0; i3 < password.length; i3++) {
          passwordChar = password.charAt(i3);
          this.updatePasswordCharacterOptionsStatuses(
            status,
            /* containsLowercaseCharacter= */
            passwordChar >= "a" && passwordChar <= "z",
            /* containsUppercaseCharacter= */
            passwordChar >= "A" && passwordChar <= "Z",
            /* containsNumericCharacter= */
            passwordChar >= "0" && passwordChar <= "9",
            /* containsNonAlphanumericCharacter= */
            this.allowedNonAlphanumericCharacters.includes(passwordChar)
          );
        }
      }
      /**
       * Updates the running validation status with the statuses for the character options.
       * Expected to be called each time a character is processed to update each option status
       * based on the current character.
       *
       * @param status Validation status.
       * @param containsLowercaseCharacter Whether the character is a lowercase letter.
       * @param containsUppercaseCharacter Whether the character is an uppercase letter.
       * @param containsNumericCharacter Whether the character is a numeric character.
       * @param containsNonAlphanumericCharacter Whether the character is a non-alphanumeric character.
       */
      updatePasswordCharacterOptionsStatuses(status, containsLowercaseCharacter, containsUppercaseCharacter, containsNumericCharacter, containsNonAlphanumericCharacter) {
        if (this.customStrengthOptions.containsLowercaseLetter) {
          status.containsLowercaseLetter || (status.containsLowercaseLetter = containsLowercaseCharacter);
        }
        if (this.customStrengthOptions.containsUppercaseLetter) {
          status.containsUppercaseLetter || (status.containsUppercaseLetter = containsUppercaseCharacter);
        }
        if (this.customStrengthOptions.containsNumericCharacter) {
          status.containsNumericCharacter || (status.containsNumericCharacter = containsNumericCharacter);
        }
        if (this.customStrengthOptions.containsNonAlphanumericCharacter) {
          status.containsNonAlphanumericCharacter || (status.containsNonAlphanumericCharacter = containsNonAlphanumericCharacter);
        }
      }
    };
    AuthImpl = class {
      constructor(app2, heartbeatServiceProvider, appCheckServiceProvider, config) {
        this.app = app2;
        this.heartbeatServiceProvider = heartbeatServiceProvider;
        this.appCheckServiceProvider = appCheckServiceProvider;
        this.config = config;
        this.currentUser = null;
        this.emulatorConfig = null;
        this.operations = Promise.resolve();
        this.authStateSubscription = new Subscription(this);
        this.idTokenSubscription = new Subscription(this);
        this.beforeStateQueue = new AuthMiddlewareQueue(this);
        this.redirectUser = null;
        this.isProactiveRefreshEnabled = false;
        this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1;
        this._canInitEmulator = true;
        this._isInitialized = false;
        this._deleted = false;
        this._initializationPromise = null;
        this._popupRedirectResolver = null;
        this._errorFactory = _DEFAULT_AUTH_ERROR_FACTORY;
        this._agentRecaptchaConfig = null;
        this._tenantRecaptchaConfigs = {};
        this._projectPasswordPolicy = null;
        this._tenantPasswordPolicies = {};
        this.lastNotifiedUid = void 0;
        this.languageCode = null;
        this.tenantId = null;
        this.settings = { appVerificationDisabledForTesting: false };
        this.frameworks = [];
        this.name = app2.name;
        this.clientVersion = config.sdkClientVersion;
      }
      _initializeWithPersistence(persistenceHierarchy, popupRedirectResolver) {
        if (popupRedirectResolver) {
          this._popupRedirectResolver = _getInstance(popupRedirectResolver);
        }
        this._initializationPromise = this.queue(async () => {
          var _a, _b;
          if (this._deleted) {
            return;
          }
          this.persistenceManager = await PersistenceUserManager.create(this, persistenceHierarchy);
          if (this._deleted) {
            return;
          }
          if ((_a = this._popupRedirectResolver) === null || _a === void 0 ? void 0 : _a._shouldInitProactively) {
            try {
              await this._popupRedirectResolver._initialize(this);
            } catch (e3) {
            }
          }
          await this.initializeCurrentUser(popupRedirectResolver);
          this.lastNotifiedUid = ((_b = this.currentUser) === null || _b === void 0 ? void 0 : _b.uid) || null;
          if (this._deleted) {
            return;
          }
          this._isInitialized = true;
        });
        return this._initializationPromise;
      }
      /**
       * If the persistence is changed in another window, the user manager will let us know
       */
      async _onStorageEvent() {
        if (this._deleted) {
          return;
        }
        const user = await this.assertedPersistence.getCurrentUser();
        if (!this.currentUser && !user) {
          return;
        }
        if (this.currentUser && user && this.currentUser.uid === user.uid) {
          this._currentUser._assign(user);
          await this.currentUser.getIdToken();
          return;
        }
        await this._updateCurrentUser(
          user,
          /* skipBeforeStateCallbacks */
          true
        );
      }
      async initializeCurrentUserFromIdToken(idToken) {
        try {
          const response = await getAccountInfo(this, { idToken });
          const user = await UserImpl._fromGetAccountInfoResponse(this, response, idToken);
          await this.directlySetCurrentUser(user);
        } catch (err) {
          console.warn("FirebaseServerApp could not login user with provided authIdToken: ", err);
          await this.directlySetCurrentUser(null);
        }
      }
      async initializeCurrentUser(popupRedirectResolver) {
        var _a;
        if (_isFirebaseServerApp(this.app)) {
          const idToken = this.app.settings.authIdToken;
          if (idToken) {
            return new Promise((resolve) => {
              setTimeout(() => this.initializeCurrentUserFromIdToken(idToken).then(resolve, resolve));
            });
          } else {
            return this.directlySetCurrentUser(null);
          }
        }
        const previouslyStoredUser = await this.assertedPersistence.getCurrentUser();
        let futureCurrentUser = previouslyStoredUser;
        let needsTocheckMiddleware = false;
        if (popupRedirectResolver && this.config.authDomain) {
          await this.getOrInitRedirectPersistenceManager();
          const redirectUserEventId = (_a = this.redirectUser) === null || _a === void 0 ? void 0 : _a._redirectEventId;
          const storedUserEventId = futureCurrentUser === null || futureCurrentUser === void 0 ? void 0 : futureCurrentUser._redirectEventId;
          const result = await this.tryRedirectSignIn(popupRedirectResolver);
          if ((!redirectUserEventId || redirectUserEventId === storedUserEventId) && (result === null || result === void 0 ? void 0 : result.user)) {
            futureCurrentUser = result.user;
            needsTocheckMiddleware = true;
          }
        }
        if (!futureCurrentUser) {
          return this.directlySetCurrentUser(null);
        }
        if (!futureCurrentUser._redirectEventId) {
          if (needsTocheckMiddleware) {
            try {
              await this.beforeStateQueue.runMiddleware(futureCurrentUser);
            } catch (e3) {
              futureCurrentUser = previouslyStoredUser;
              this._popupRedirectResolver._overrideRedirectResult(this, () => Promise.reject(e3));
            }
          }
          if (futureCurrentUser) {
            return this.reloadAndSetCurrentUserOrClear(futureCurrentUser);
          } else {
            return this.directlySetCurrentUser(null);
          }
        }
        _assert(
          this._popupRedirectResolver,
          this,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        await this.getOrInitRedirectPersistenceManager();
        if (this.redirectUser && this.redirectUser._redirectEventId === futureCurrentUser._redirectEventId) {
          return this.directlySetCurrentUser(futureCurrentUser);
        }
        return this.reloadAndSetCurrentUserOrClear(futureCurrentUser);
      }
      async tryRedirectSignIn(redirectResolver) {
        let result = null;
        try {
          result = await this._popupRedirectResolver._completeRedirectFn(this, redirectResolver, true);
        } catch (e3) {
          await this._setRedirectUser(null);
        }
        return result;
      }
      async reloadAndSetCurrentUserOrClear(user) {
        try {
          await _reloadWithoutSaving(user);
        } catch (e3) {
          if ((e3 === null || e3 === void 0 ? void 0 : e3.code) !== `auth/${"network-request-failed"}`) {
            return this.directlySetCurrentUser(null);
          }
        }
        return this.directlySetCurrentUser(user);
      }
      useDeviceLanguage() {
        this.languageCode = _getUserLanguage();
      }
      async _delete() {
        this._deleted = true;
      }
      async updateCurrentUser(userExtern) {
        if (_isFirebaseServerApp(this.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
        }
        const user = userExtern ? getModularInstance(userExtern) : null;
        if (user) {
          _assert(
            user.auth.config.apiKey === this.config.apiKey,
            this,
            "invalid-user-token"
            /* AuthErrorCode.INVALID_AUTH */
          );
        }
        return this._updateCurrentUser(user && user._clone(this));
      }
      async _updateCurrentUser(user, skipBeforeStateCallbacks = false) {
        if (this._deleted) {
          return;
        }
        if (user) {
          _assert(
            this.tenantId === user.tenantId,
            this,
            "tenant-id-mismatch"
            /* AuthErrorCode.TENANT_ID_MISMATCH */
          );
        }
        if (!skipBeforeStateCallbacks) {
          await this.beforeStateQueue.runMiddleware(user);
        }
        return this.queue(async () => {
          await this.directlySetCurrentUser(user);
          this.notifyAuthListeners();
        });
      }
      async signOut() {
        if (_isFirebaseServerApp(this.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
        }
        await this.beforeStateQueue.runMiddleware(null);
        if (this.redirectPersistenceManager || this._popupRedirectResolver) {
          await this._setRedirectUser(null);
        }
        return this._updateCurrentUser(
          null,
          /* skipBeforeStateCallbacks */
          true
        );
      }
      setPersistence(persistence) {
        if (_isFirebaseServerApp(this.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
        }
        return this.queue(async () => {
          await this.assertedPersistence.setPersistence(_getInstance(persistence));
        });
      }
      _getRecaptchaConfig() {
        if (this.tenantId == null) {
          return this._agentRecaptchaConfig;
        } else {
          return this._tenantRecaptchaConfigs[this.tenantId];
        }
      }
      async validatePassword(password) {
        if (!this._getPasswordPolicyInternal()) {
          await this._updatePasswordPolicy();
        }
        const passwordPolicy = this._getPasswordPolicyInternal();
        if (passwordPolicy.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION) {
          return Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version", {}));
        }
        return passwordPolicy.validatePassword(password);
      }
      _getPasswordPolicyInternal() {
        if (this.tenantId === null) {
          return this._projectPasswordPolicy;
        } else {
          return this._tenantPasswordPolicies[this.tenantId];
        }
      }
      async _updatePasswordPolicy() {
        const response = await _getPasswordPolicy(this);
        const passwordPolicy = new PasswordPolicyImpl(response);
        if (this.tenantId === null) {
          this._projectPasswordPolicy = passwordPolicy;
        } else {
          this._tenantPasswordPolicies[this.tenantId] = passwordPolicy;
        }
      }
      _getPersistence() {
        return this.assertedPersistence.persistence.type;
      }
      _updateErrorMap(errorMap) {
        this._errorFactory = new ErrorFactory("auth", "Firebase", errorMap());
      }
      onAuthStateChanged(nextOrObserver, error2, completed) {
        return this.registerStateListener(this.authStateSubscription, nextOrObserver, error2, completed);
      }
      beforeAuthStateChanged(callback, onAbort) {
        return this.beforeStateQueue.pushCallback(callback, onAbort);
      }
      onIdTokenChanged(nextOrObserver, error2, completed) {
        return this.registerStateListener(this.idTokenSubscription, nextOrObserver, error2, completed);
      }
      authStateReady() {
        return new Promise((resolve, reject) => {
          if (this.currentUser) {
            resolve();
          } else {
            const unsubscribe = this.onAuthStateChanged(() => {
              unsubscribe();
              resolve();
            }, reject);
          }
        });
      }
      /**
       * Revokes the given access token. Currently only supports Apple OAuth access tokens.
       */
      async revokeAccessToken(token) {
        if (this.currentUser) {
          const idToken = await this.currentUser.getIdToken();
          const request = {
            providerId: "apple.com",
            tokenType: "ACCESS_TOKEN",
            token,
            idToken
          };
          if (this.tenantId != null) {
            request.tenantId = this.tenantId;
          }
          await revokeToken(this, request);
        }
      }
      toJSON() {
        var _a;
        return {
          apiKey: this.config.apiKey,
          authDomain: this.config.authDomain,
          appName: this.name,
          currentUser: (_a = this._currentUser) === null || _a === void 0 ? void 0 : _a.toJSON()
        };
      }
      async _setRedirectUser(user, popupRedirectResolver) {
        const redirectManager = await this.getOrInitRedirectPersistenceManager(popupRedirectResolver);
        return user === null ? redirectManager.removeCurrentUser() : redirectManager.setCurrentUser(user);
      }
      async getOrInitRedirectPersistenceManager(popupRedirectResolver) {
        if (!this.redirectPersistenceManager) {
          const resolver = popupRedirectResolver && _getInstance(popupRedirectResolver) || this._popupRedirectResolver;
          _assert(
            resolver,
            this,
            "argument-error"
            /* AuthErrorCode.ARGUMENT_ERROR */
          );
          this.redirectPersistenceManager = await PersistenceUserManager.create(
            this,
            [_getInstance(resolver._redirectPersistence)],
            "redirectUser"
            /* KeyName.REDIRECT_USER */
          );
          this.redirectUser = await this.redirectPersistenceManager.getCurrentUser();
        }
        return this.redirectPersistenceManager;
      }
      async _redirectUserForId(id) {
        var _a, _b;
        if (this._isInitialized) {
          await this.queue(async () => {
          });
        }
        if (((_a = this._currentUser) === null || _a === void 0 ? void 0 : _a._redirectEventId) === id) {
          return this._currentUser;
        }
        if (((_b = this.redirectUser) === null || _b === void 0 ? void 0 : _b._redirectEventId) === id) {
          return this.redirectUser;
        }
        return null;
      }
      async _persistUserIfCurrent(user) {
        if (user === this.currentUser) {
          return this.queue(async () => this.directlySetCurrentUser(user));
        }
      }
      /** Notifies listeners only if the user is current */
      _notifyListenersIfCurrent(user) {
        if (user === this.currentUser) {
          this.notifyAuthListeners();
        }
      }
      _key() {
        return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;
      }
      _startProactiveRefresh() {
        this.isProactiveRefreshEnabled = true;
        if (this.currentUser) {
          this._currentUser._startProactiveRefresh();
        }
      }
      _stopProactiveRefresh() {
        this.isProactiveRefreshEnabled = false;
        if (this.currentUser) {
          this._currentUser._stopProactiveRefresh();
        }
      }
      /** Returns the current user cast as the internal type */
      get _currentUser() {
        return this.currentUser;
      }
      notifyAuthListeners() {
        var _a, _b;
        if (!this._isInitialized) {
          return;
        }
        this.idTokenSubscription.next(this.currentUser);
        const currentUid = (_b = (_a = this.currentUser) === null || _a === void 0 ? void 0 : _a.uid) !== null && _b !== void 0 ? _b : null;
        if (this.lastNotifiedUid !== currentUid) {
          this.lastNotifiedUid = currentUid;
          this.authStateSubscription.next(this.currentUser);
        }
      }
      registerStateListener(subscription, nextOrObserver, error2, completed) {
        if (this._deleted) {
          return () => {
          };
        }
        const cb = typeof nextOrObserver === "function" ? nextOrObserver : nextOrObserver.next.bind(nextOrObserver);
        let isUnsubscribed = false;
        const promise = this._isInitialized ? Promise.resolve() : this._initializationPromise;
        _assert(
          promise,
          this,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        promise.then(() => {
          if (isUnsubscribed) {
            return;
          }
          cb(this.currentUser);
        });
        if (typeof nextOrObserver === "function") {
          const unsubscribe = subscription.addObserver(nextOrObserver, error2, completed);
          return () => {
            isUnsubscribed = true;
            unsubscribe();
          };
        } else {
          const unsubscribe = subscription.addObserver(nextOrObserver);
          return () => {
            isUnsubscribed = true;
            unsubscribe();
          };
        }
      }
      /**
       * Unprotected (from race conditions) method to set the current user. This
       * should only be called from within a queued callback. This is necessary
       * because the queue shouldn't rely on another queued callback.
       */
      async directlySetCurrentUser(user) {
        if (this.currentUser && this.currentUser !== user) {
          this._currentUser._stopProactiveRefresh();
        }
        if (user && this.isProactiveRefreshEnabled) {
          user._startProactiveRefresh();
        }
        this.currentUser = user;
        if (user) {
          await this.assertedPersistence.setCurrentUser(user);
        } else {
          await this.assertedPersistence.removeCurrentUser();
        }
      }
      queue(action) {
        this.operations = this.operations.then(action, action);
        return this.operations;
      }
      get assertedPersistence() {
        _assert(
          this.persistenceManager,
          this,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return this.persistenceManager;
      }
      _logFramework(framework) {
        if (!framework || this.frameworks.includes(framework)) {
          return;
        }
        this.frameworks.push(framework);
        this.frameworks.sort();
        this.clientVersion = _getClientVersion(this.config.clientPlatform, this._getFrameworks());
      }
      _getFrameworks() {
        return this.frameworks;
      }
      async _getAdditionalHeaders() {
        var _a;
        const headers = {
          [
            "X-Client-Version"
            /* HttpHeader.X_CLIENT_VERSION */
          ]: this.clientVersion
        };
        if (this.app.options.appId) {
          headers[
            "X-Firebase-gmpid"
            /* HttpHeader.X_FIREBASE_GMPID */
          ] = this.app.options.appId;
        }
        const heartbeatsHeader = await ((_a = this.heartbeatServiceProvider.getImmediate({
          optional: true
        })) === null || _a === void 0 ? void 0 : _a.getHeartbeatsHeader());
        if (heartbeatsHeader) {
          headers[
            "X-Firebase-Client"
            /* HttpHeader.X_FIREBASE_CLIENT */
          ] = heartbeatsHeader;
        }
        const appCheckToken = await this._getAppCheckToken();
        if (appCheckToken) {
          headers[
            "X-Firebase-AppCheck"
            /* HttpHeader.X_FIREBASE_APP_CHECK */
          ] = appCheckToken;
        }
        return headers;
      }
      async _getAppCheckToken() {
        var _a;
        const appCheckTokenResult = await ((_a = this.appCheckServiceProvider.getImmediate({ optional: true })) === null || _a === void 0 ? void 0 : _a.getToken());
        if (appCheckTokenResult === null || appCheckTokenResult === void 0 ? void 0 : appCheckTokenResult.error) {
          _logWarn(`Error while retrieving App Check token: ${appCheckTokenResult.error}`);
        }
        return appCheckTokenResult === null || appCheckTokenResult === void 0 ? void 0 : appCheckTokenResult.token;
      }
    };
    Subscription = class {
      constructor(auth2) {
        this.auth = auth2;
        this.observer = null;
        this.addObserver = createSubscribe((observer) => this.observer = observer);
      }
      get next() {
        _assert(
          this.observer,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return this.observer.next.bind(this.observer);
      }
    };
    externalJSProvider = {
      async loadJS() {
        throw new Error("Unable to load external scripts");
      },
      recaptchaV2Script: "",
      recaptchaEnterpriseScript: "",
      gapiScript: ""
    };
    RECAPTCHA_ENTERPRISE_VERIFIER_TYPE = "recaptcha-enterprise";
    FAKE_TOKEN = "NO_RECAPTCHA";
    RecaptchaEnterpriseVerifier = class {
      /**
       *
       * @param authExtern - The corresponding Firebase {@link Auth} instance.
       *
       */
      constructor(authExtern) {
        this.type = RECAPTCHA_ENTERPRISE_VERIFIER_TYPE;
        this.auth = _castAuth(authExtern);
      }
      /**
       * Executes the verification process.
       *
       * @returns A Promise for a token that can be used to assert the validity of a request.
       */
      async verify(action = "verify", forceRefresh = false) {
        async function retrieveSiteKey(auth2) {
          if (!forceRefresh) {
            if (auth2.tenantId == null && auth2._agentRecaptchaConfig != null) {
              return auth2._agentRecaptchaConfig.siteKey;
            }
            if (auth2.tenantId != null && auth2._tenantRecaptchaConfigs[auth2.tenantId] !== void 0) {
              return auth2._tenantRecaptchaConfigs[auth2.tenantId].siteKey;
            }
          }
          return new Promise(async (resolve, reject) => {
            getRecaptchaConfig(auth2, {
              clientType: "CLIENT_TYPE_WEB",
              version: "RECAPTCHA_ENTERPRISE"
              /* RecaptchaVersion.ENTERPRISE */
            }).then((response) => {
              if (response.recaptchaKey === void 0) {
                reject(new Error("recaptcha Enterprise site key undefined"));
              } else {
                const config = new RecaptchaConfig(response);
                if (auth2.tenantId == null) {
                  auth2._agentRecaptchaConfig = config;
                } else {
                  auth2._tenantRecaptchaConfigs[auth2.tenantId] = config;
                }
                return resolve(config.siteKey);
              }
            }).catch((error2) => {
              reject(error2);
            });
          });
        }
        function retrieveRecaptchaToken(siteKey, resolve, reject) {
          const grecaptcha = window.grecaptcha;
          if (isEnterprise(grecaptcha)) {
            grecaptcha.enterprise.ready(() => {
              grecaptcha.enterprise.execute(siteKey, { action }).then((token) => {
                resolve(token);
              }).catch(() => {
                resolve(FAKE_TOKEN);
              });
            });
          } else {
            reject(Error("No reCAPTCHA enterprise script loaded."));
          }
        }
        return new Promise((resolve, reject) => {
          retrieveSiteKey(this.auth).then((siteKey) => {
            if (!forceRefresh && isEnterprise(window.grecaptcha)) {
              retrieveRecaptchaToken(siteKey, resolve, reject);
            } else {
              if (typeof window === "undefined") {
                reject(new Error("RecaptchaVerifier is only supported in browser"));
                return;
              }
              let url = _recaptchaEnterpriseScriptUrl();
              if (url.length !== 0) {
                url += siteKey;
              }
              _loadJS(url).then(() => {
                retrieveRecaptchaToken(siteKey, resolve, reject);
              }).catch((error2) => {
                reject(error2);
              });
            }
          }).catch((error2) => {
            reject(error2);
          });
        });
      }
    };
    AuthCredential = class {
      /** @internal */
      constructor(providerId, signInMethod) {
        this.providerId = providerId;
        this.signInMethod = signInMethod;
      }
      /**
       * Returns a JSON-serializable representation of this object.
       *
       * @returns a JSON-serializable representation of this object.
       */
      toJSON() {
        return debugFail("not implemented");
      }
      /** @internal */
      _getIdTokenResponse(_auth) {
        return debugFail("not implemented");
      }
      /** @internal */
      _linkToIdToken(_auth, _idToken) {
        return debugFail("not implemented");
      }
      /** @internal */
      _getReauthenticationResolver(_auth) {
        return debugFail("not implemented");
      }
    };
    EmailAuthCredential = class _EmailAuthCredential extends AuthCredential {
      /** @internal */
      constructor(_email, _password, signInMethod, _tenantId = null) {
        super("password", signInMethod);
        this._email = _email;
        this._password = _password;
        this._tenantId = _tenantId;
      }
      /** @internal */
      static _fromEmailAndPassword(email, password) {
        return new _EmailAuthCredential(
          email,
          password,
          "password"
          /* SignInMethod.EMAIL_PASSWORD */
        );
      }
      /** @internal */
      static _fromEmailAndCode(email, oobCode, tenantId = null) {
        return new _EmailAuthCredential(email, oobCode, "emailLink", tenantId);
      }
      /** {@inheritdoc AuthCredential.toJSON} */
      toJSON() {
        return {
          email: this._email,
          password: this._password,
          signInMethod: this.signInMethod,
          tenantId: this._tenantId
        };
      }
      /**
       * Static method to deserialize a JSON representation of an object into an {@link  AuthCredential}.
       *
       * @param json - Either `object` or the stringified representation of the object. When string is
       * provided, `JSON.parse` would be called first.
       *
       * @returns If the JSON input does not represent an {@link AuthCredential}, null is returned.
       */
      static fromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        if ((obj === null || obj === void 0 ? void 0 : obj.email) && (obj === null || obj === void 0 ? void 0 : obj.password)) {
          if (obj.signInMethod === "password") {
            return this._fromEmailAndPassword(obj.email, obj.password);
          } else if (obj.signInMethod === "emailLink") {
            return this._fromEmailAndCode(obj.email, obj.password, obj.tenantId);
          }
        }
        return null;
      }
      /** @internal */
      async _getIdTokenResponse(auth2) {
        switch (this.signInMethod) {
          case "password":
            const request = {
              returnSecureToken: true,
              email: this._email,
              password: this._password,
              clientType: "CLIENT_TYPE_WEB"
              /* RecaptchaClientType.WEB */
            };
            return handleRecaptchaFlow(auth2, request, "signInWithPassword", signInWithPassword);
          case "emailLink":
            return signInWithEmailLink$1(auth2, {
              email: this._email,
              oobCode: this._password
            });
          default:
            _fail(
              auth2,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
        }
      }
      /** @internal */
      async _linkToIdToken(auth2, idToken) {
        switch (this.signInMethod) {
          case "password":
            const request = {
              idToken,
              returnSecureToken: true,
              email: this._email,
              password: this._password,
              clientType: "CLIENT_TYPE_WEB"
              /* RecaptchaClientType.WEB */
            };
            return handleRecaptchaFlow(auth2, request, "signUpPassword", linkEmailPassword);
          case "emailLink":
            return signInWithEmailLinkForLinking(auth2, {
              idToken,
              email: this._email,
              oobCode: this._password
            });
          default:
            _fail(
              auth2,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
        }
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        return this._getIdTokenResponse(auth2);
      }
    };
    IDP_REQUEST_URI$1 = "http://localhost";
    OAuthCredential = class _OAuthCredential extends AuthCredential {
      constructor() {
        super(...arguments);
        this.pendingToken = null;
      }
      /** @internal */
      static _fromParams(params) {
        const cred = new _OAuthCredential(params.providerId, params.signInMethod);
        if (params.idToken || params.accessToken) {
          if (params.idToken) {
            cred.idToken = params.idToken;
          }
          if (params.accessToken) {
            cred.accessToken = params.accessToken;
          }
          if (params.nonce && !params.pendingToken) {
            cred.nonce = params.nonce;
          }
          if (params.pendingToken) {
            cred.pendingToken = params.pendingToken;
          }
        } else if (params.oauthToken && params.oauthTokenSecret) {
          cred.accessToken = params.oauthToken;
          cred.secret = params.oauthTokenSecret;
        } else {
          _fail(
            "argument-error"
            /* AuthErrorCode.ARGUMENT_ERROR */
          );
        }
        return cred;
      }
      /** {@inheritdoc AuthCredential.toJSON}  */
      toJSON() {
        return {
          idToken: this.idToken,
          accessToken: this.accessToken,
          secret: this.secret,
          nonce: this.nonce,
          pendingToken: this.pendingToken,
          providerId: this.providerId,
          signInMethod: this.signInMethod
        };
      }
      /**
       * Static method to deserialize a JSON representation of an object into an
       * {@link  AuthCredential}.
       *
       * @param json - Input can be either Object or the stringified representation of the object.
       * When string is provided, JSON.parse would be called first.
       *
       * @returns If the JSON input does not represent an {@link  AuthCredential}, null is returned.
       */
      static fromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        const { providerId, signInMethod } = obj, rest = __rest(obj, ["providerId", "signInMethod"]);
        if (!providerId || !signInMethod) {
          return null;
        }
        const cred = new _OAuthCredential(providerId, signInMethod);
        cred.idToken = rest.idToken || void 0;
        cred.accessToken = rest.accessToken || void 0;
        cred.secret = rest.secret;
        cred.nonce = rest.nonce;
        cred.pendingToken = rest.pendingToken || null;
        return cred;
      }
      /** @internal */
      _getIdTokenResponse(auth2) {
        const request = this.buildRequest();
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _linkToIdToken(auth2, idToken) {
        const request = this.buildRequest();
        request.idToken = idToken;
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        const request = this.buildRequest();
        request.autoCreate = false;
        return signInWithIdp(auth2, request);
      }
      buildRequest() {
        const request = {
          requestUri: IDP_REQUEST_URI$1,
          returnSecureToken: true
        };
        if (this.pendingToken) {
          request.pendingToken = this.pendingToken;
        } else {
          const postBody = {};
          if (this.idToken) {
            postBody["id_token"] = this.idToken;
          }
          if (this.accessToken) {
            postBody["access_token"] = this.accessToken;
          }
          if (this.secret) {
            postBody["oauth_token_secret"] = this.secret;
          }
          postBody["providerId"] = this.providerId;
          if (this.nonce && !this.pendingToken) {
            postBody["nonce"] = this.nonce;
          }
          request.postBody = querystring(postBody);
        }
        return request;
      }
    };
    VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_ = {
      [
        "USER_NOT_FOUND"
        /* ServerError.USER_NOT_FOUND */
      ]: "user-not-found"
      /* AuthErrorCode.USER_DELETED */
    };
    PhoneAuthCredential = class _PhoneAuthCredential extends AuthCredential {
      constructor(params) {
        super(
          "phone",
          "phone"
          /* SignInMethod.PHONE */
        );
        this.params = params;
      }
      /** @internal */
      static _fromVerification(verificationId, verificationCode) {
        return new _PhoneAuthCredential({ verificationId, verificationCode });
      }
      /** @internal */
      static _fromTokenResponse(phoneNumber, temporaryProof) {
        return new _PhoneAuthCredential({ phoneNumber, temporaryProof });
      }
      /** @internal */
      _getIdTokenResponse(auth2) {
        return signInWithPhoneNumber$1(auth2, this._makeVerificationRequest());
      }
      /** @internal */
      _linkToIdToken(auth2, idToken) {
        return linkWithPhoneNumber$1(auth2, Object.assign({ idToken }, this._makeVerificationRequest()));
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        return verifyPhoneNumberForExisting(auth2, this._makeVerificationRequest());
      }
      /** @internal */
      _makeVerificationRequest() {
        const { temporaryProof, phoneNumber, verificationId, verificationCode } = this.params;
        if (temporaryProof && phoneNumber) {
          return { temporaryProof, phoneNumber };
        }
        return {
          sessionInfo: verificationId,
          code: verificationCode
        };
      }
      /** {@inheritdoc AuthCredential.toJSON} */
      toJSON() {
        const obj = {
          providerId: this.providerId
        };
        if (this.params.phoneNumber) {
          obj.phoneNumber = this.params.phoneNumber;
        }
        if (this.params.temporaryProof) {
          obj.temporaryProof = this.params.temporaryProof;
        }
        if (this.params.verificationCode) {
          obj.verificationCode = this.params.verificationCode;
        }
        if (this.params.verificationId) {
          obj.verificationId = this.params.verificationId;
        }
        return obj;
      }
      /** Generates a phone credential based on a plain object or a JSON string. */
      static fromJSON(json2) {
        if (typeof json2 === "string") {
          json2 = JSON.parse(json2);
        }
        const { verificationId, verificationCode, phoneNumber, temporaryProof } = json2;
        if (!verificationCode && !verificationId && !phoneNumber && !temporaryProof) {
          return null;
        }
        return new _PhoneAuthCredential({
          verificationId,
          verificationCode,
          phoneNumber,
          temporaryProof
        });
      }
    };
    ActionCodeURL = class _ActionCodeURL {
      /**
       * @param actionLink - The link from which to extract the URL.
       * @returns The {@link ActionCodeURL} object, or null if the link is invalid.
       *
       * @internal
       */
      constructor(actionLink) {
        var _a, _b, _c, _d, _e, _f;
        const searchParams = querystringDecode(extractQuerystring(actionLink));
        const apiKey = (_a = searchParams[
          "apiKey"
          /* QueryField.API_KEY */
        ]) !== null && _a !== void 0 ? _a : null;
        const code = (_b = searchParams[
          "oobCode"
          /* QueryField.CODE */
        ]) !== null && _b !== void 0 ? _b : null;
        const operation = parseMode((_c = searchParams[
          "mode"
          /* QueryField.MODE */
        ]) !== null && _c !== void 0 ? _c : null);
        _assert(
          apiKey && code && operation,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        this.apiKey = apiKey;
        this.operation = operation;
        this.code = code;
        this.continueUrl = (_d = searchParams[
          "continueUrl"
          /* QueryField.CONTINUE_URL */
        ]) !== null && _d !== void 0 ? _d : null;
        this.languageCode = (_e = searchParams[
          "languageCode"
          /* QueryField.LANGUAGE_CODE */
        ]) !== null && _e !== void 0 ? _e : null;
        this.tenantId = (_f = searchParams[
          "tenantId"
          /* QueryField.TENANT_ID */
        ]) !== null && _f !== void 0 ? _f : null;
      }
      /**
       * Parses the email action link string and returns an {@link ActionCodeURL} if the link is valid,
       * otherwise returns null.
       *
       * @param link  - The email action link string.
       * @returns The {@link ActionCodeURL} object, or null if the link is invalid.
       *
       * @public
       */
      static parseLink(link) {
        const actionLink = parseDeepLink(link);
        try {
          return new _ActionCodeURL(actionLink);
        } catch (_a) {
          return null;
        }
      }
    };
    EmailAuthProvider = class _EmailAuthProvider {
      constructor() {
        this.providerId = _EmailAuthProvider.PROVIDER_ID;
      }
      /**
       * Initialize an {@link AuthCredential} using an email and password.
       *
       * @example
       * ```javascript
       * const authCredential = EmailAuthProvider.credential(email, password);
       * const userCredential = await signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * ```javascript
       * const userCredential = await signInWithEmailAndPassword(auth, email, password);
       * ```
       *
       * @param email - Email address.
       * @param password - User account password.
       * @returns The auth provider credential.
       */
      static credential(email, password) {
        return EmailAuthCredential._fromEmailAndPassword(email, password);
      }
      /**
       * Initialize an {@link AuthCredential} using an email and an email link after a sign in with
       * email link operation.
       *
       * @example
       * ```javascript
       * const authCredential = EmailAuthProvider.credentialWithLink(auth, email, emailLink);
       * const userCredential = await signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * ```javascript
       * await sendSignInLinkToEmail(auth, email);
       * // Obtain emailLink from user.
       * const userCredential = await signInWithEmailLink(auth, email, emailLink);
       * ```
       *
       * @param auth - The {@link Auth} instance used to verify the link.
       * @param email - Email address.
       * @param emailLink - Sign-in email link.
       * @returns - The auth provider credential.
       */
      static credentialWithLink(email, emailLink) {
        const actionCodeUrl = ActionCodeURL.parseLink(emailLink);
        _assert(
          actionCodeUrl,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return EmailAuthCredential._fromEmailAndCode(email, actionCodeUrl.code, actionCodeUrl.tenantId);
      }
    };
    EmailAuthProvider.PROVIDER_ID = "password";
    EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD = "password";
    EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD = "emailLink";
    FederatedAuthProvider = class {
      /**
       * Constructor for generic OAuth providers.
       *
       * @param providerId - Provider for which credentials should be generated.
       */
      constructor(providerId) {
        this.providerId = providerId;
        this.defaultLanguageCode = null;
        this.customParameters = {};
      }
      /**
       * Set the language gode.
       *
       * @param languageCode - language code
       */
      setDefaultLanguage(languageCode) {
        this.defaultLanguageCode = languageCode;
      }
      /**
       * Sets the OAuth custom parameters to pass in an OAuth request for popup and redirect sign-in
       * operations.
       *
       * @remarks
       * For a detailed list, check the reserved required OAuth 2.0 parameters such as `client_id`,
       * `redirect_uri`, `scope`, `response_type`, and `state` are not allowed and will be ignored.
       *
       * @param customOAuthParameters - The custom OAuth parameters to pass in the OAuth request.
       */
      setCustomParameters(customOAuthParameters) {
        this.customParameters = customOAuthParameters;
        return this;
      }
      /**
       * Retrieve the current list of {@link CustomParameters}.
       */
      getCustomParameters() {
        return this.customParameters;
      }
    };
    BaseOAuthProvider = class extends FederatedAuthProvider {
      constructor() {
        super(...arguments);
        this.scopes = [];
      }
      /**
       * Add an OAuth scope to the credential.
       *
       * @param scope - Provider OAuth scope to add.
       */
      addScope(scope) {
        if (!this.scopes.includes(scope)) {
          this.scopes.push(scope);
        }
        return this;
      }
      /**
       * Retrieve the current list of OAuth scopes.
       */
      getScopes() {
        return [...this.scopes];
      }
    };
    OAuthProvider = class _OAuthProvider extends BaseOAuthProvider {
      /**
       * Creates an {@link OAuthCredential} from a JSON string or a plain object.
       * @param json - A plain object or a JSON string
       */
      static credentialFromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        _assert(
          "providerId" in obj && "signInMethod" in obj,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return OAuthCredential._fromParams(obj);
      }
      /**
       * Creates a {@link OAuthCredential} from a generic OAuth provider's access token or ID token.
       *
       * @remarks
       * The raw nonce is required when an ID token with a nonce field is provided. The SHA-256 hash of
       * the raw nonce must match the nonce field in the ID token.
       *
       * @example
       * ```javascript
       * // `googleUser` from the onsuccess Google Sign In callback.
       * // Initialize a generate OAuth provider with a `google.com` providerId.
       * const provider = new OAuthProvider('google.com');
       * const credential = provider.credential({
       *   idToken: googleUser.getAuthResponse().id_token,
       * });
       * const result = await signInWithCredential(credential);
       * ```
       *
       * @param params - Either the options object containing the ID token, access token and raw nonce
       * or the ID token string.
       */
      credential(params) {
        return this._credential(Object.assign(Object.assign({}, params), { nonce: params.rawNonce }));
      }
      /** An internal credential method that accepts more permissive options */
      _credential(params) {
        _assert(
          params.idToken || params.accessToken,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return OAuthCredential._fromParams(Object.assign(Object.assign({}, params), { providerId: this.providerId, signInMethod: this.providerId }));
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _OAuthProvider.oauthCredentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _OAuthProvider.oauthCredentialFromTaggedObject(error2.customData || {});
      }
      static oauthCredentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { oauthIdToken, oauthAccessToken, oauthTokenSecret, pendingToken, nonce, providerId } = tokenResponse;
        if (!oauthAccessToken && !oauthTokenSecret && !oauthIdToken && !pendingToken) {
          return null;
        }
        if (!providerId) {
          return null;
        }
        try {
          return new _OAuthProvider(providerId)._credential({
            idToken: oauthIdToken,
            accessToken: oauthAccessToken,
            nonce,
            pendingToken
          });
        } catch (e3) {
          return null;
        }
      }
    };
    FacebookAuthProvider = class _FacebookAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "facebook.com"
          /* ProviderId.FACEBOOK */
        );
      }
      /**
       * Creates a credential for Facebook.
       *
       * @example
       * ```javascript
       * // `event` from the Facebook auth.authResponseChange callback.
       * const credential = FacebookAuthProvider.credential(event.authResponse.accessToken);
       * const result = await signInWithCredential(credential);
       * ```
       *
       * @param accessToken - Facebook access token.
       */
      static credential(accessToken) {
        return OAuthCredential._fromParams({
          providerId: _FacebookAuthProvider.PROVIDER_ID,
          signInMethod: _FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,
          accessToken
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _FacebookAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _FacebookAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse || !("oauthAccessToken" in tokenResponse)) {
          return null;
        }
        if (!tokenResponse.oauthAccessToken) {
          return null;
        }
        try {
          return _FacebookAuthProvider.credential(tokenResponse.oauthAccessToken);
        } catch (_a) {
          return null;
        }
      }
    };
    FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD = "facebook.com";
    FacebookAuthProvider.PROVIDER_ID = "facebook.com";
    GoogleAuthProvider = class _GoogleAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "google.com"
          /* ProviderId.GOOGLE */
        );
        this.addScope("profile");
      }
      /**
       * Creates a credential for Google. At least one of ID token and access token is required.
       *
       * @example
       * ```javascript
       * // \`googleUser\` from the onsuccess Google Sign In callback.
       * const credential = GoogleAuthProvider.credential(googleUser.getAuthResponse().id_token);
       * const result = await signInWithCredential(credential);
       * ```
       *
       * @param idToken - Google ID token.
       * @param accessToken - Google access token.
       */
      static credential(idToken, accessToken) {
        return OAuthCredential._fromParams({
          providerId: _GoogleAuthProvider.PROVIDER_ID,
          signInMethod: _GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,
          idToken,
          accessToken
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _GoogleAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _GoogleAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { oauthIdToken, oauthAccessToken } = tokenResponse;
        if (!oauthIdToken && !oauthAccessToken) {
          return null;
        }
        try {
          return _GoogleAuthProvider.credential(oauthIdToken, oauthAccessToken);
        } catch (_a) {
          return null;
        }
      }
    };
    GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD = "google.com";
    GoogleAuthProvider.PROVIDER_ID = "google.com";
    GithubAuthProvider = class _GithubAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "github.com"
          /* ProviderId.GITHUB */
        );
      }
      /**
       * Creates a credential for GitHub.
       *
       * @param accessToken - GitHub access token.
       */
      static credential(accessToken) {
        return OAuthCredential._fromParams({
          providerId: _GithubAuthProvider.PROVIDER_ID,
          signInMethod: _GithubAuthProvider.GITHUB_SIGN_IN_METHOD,
          accessToken
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _GithubAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _GithubAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse || !("oauthAccessToken" in tokenResponse)) {
          return null;
        }
        if (!tokenResponse.oauthAccessToken) {
          return null;
        }
        try {
          return _GithubAuthProvider.credential(tokenResponse.oauthAccessToken);
        } catch (_a) {
          return null;
        }
      }
    };
    GithubAuthProvider.GITHUB_SIGN_IN_METHOD = "github.com";
    GithubAuthProvider.PROVIDER_ID = "github.com";
    IDP_REQUEST_URI = "http://localhost";
    SAMLAuthCredential = class _SAMLAuthCredential extends AuthCredential {
      /** @internal */
      constructor(providerId, pendingToken) {
        super(providerId, providerId);
        this.pendingToken = pendingToken;
      }
      /** @internal */
      _getIdTokenResponse(auth2) {
        const request = this.buildRequest();
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _linkToIdToken(auth2, idToken) {
        const request = this.buildRequest();
        request.idToken = idToken;
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        const request = this.buildRequest();
        request.autoCreate = false;
        return signInWithIdp(auth2, request);
      }
      /** {@inheritdoc AuthCredential.toJSON}  */
      toJSON() {
        return {
          signInMethod: this.signInMethod,
          providerId: this.providerId,
          pendingToken: this.pendingToken
        };
      }
      /**
       * Static method to deserialize a JSON representation of an object into an
       * {@link  AuthCredential}.
       *
       * @param json - Input can be either Object or the stringified representation of the object.
       * When string is provided, JSON.parse would be called first.
       *
       * @returns If the JSON input does not represent an {@link  AuthCredential}, null is returned.
       */
      static fromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        const { providerId, signInMethod, pendingToken } = obj;
        if (!providerId || !signInMethod || !pendingToken || providerId !== signInMethod) {
          return null;
        }
        return new _SAMLAuthCredential(providerId, pendingToken);
      }
      /**
       * Helper static method to avoid exposing the constructor to end users.
       *
       * @internal
       */
      static _create(providerId, pendingToken) {
        return new _SAMLAuthCredential(providerId, pendingToken);
      }
      buildRequest() {
        return {
          requestUri: IDP_REQUEST_URI,
          returnSecureToken: true,
          pendingToken: this.pendingToken
        };
      }
    };
    SAML_PROVIDER_PREFIX = "saml.";
    SAMLAuthProvider = class _SAMLAuthProvider extends FederatedAuthProvider {
      /**
       * Constructor. The providerId must start with "saml."
       * @param providerId - SAML provider ID.
       */
      constructor(providerId) {
        _assert(
          providerId.startsWith(SAML_PROVIDER_PREFIX),
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        super(providerId);
      }
      /**
       * Generates an {@link AuthCredential} from a {@link UserCredential} after a
       * successful SAML flow completes.
       *
       * @remarks
       *
       * For example, to get an {@link AuthCredential}, you could write the
       * following code:
       *
       * ```js
       * const userCredential = await signInWithPopup(auth, samlProvider);
       * const credential = SAMLAuthProvider.credentialFromResult(userCredential);
       * ```
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _SAMLAuthProvider.samlCredentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _SAMLAuthProvider.samlCredentialFromTaggedObject(error2.customData || {});
      }
      /**
       * Creates an {@link AuthCredential} from a JSON string or a plain object.
       * @param json - A plain object or a JSON string
       */
      static credentialFromJSON(json2) {
        const credential = SAMLAuthCredential.fromJSON(json2);
        _assert(
          credential,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return credential;
      }
      static samlCredentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { pendingToken, providerId } = tokenResponse;
        if (!pendingToken || !providerId) {
          return null;
        }
        try {
          return SAMLAuthCredential._create(providerId, pendingToken);
        } catch (e3) {
          return null;
        }
      }
    };
    TwitterAuthProvider = class _TwitterAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "twitter.com"
          /* ProviderId.TWITTER */
        );
      }
      /**
       * Creates a credential for Twitter.
       *
       * @param token - Twitter access token.
       * @param secret - Twitter secret.
       */
      static credential(token, secret) {
        return OAuthCredential._fromParams({
          providerId: _TwitterAuthProvider.PROVIDER_ID,
          signInMethod: _TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,
          oauthToken: token,
          oauthTokenSecret: secret
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _TwitterAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _TwitterAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { oauthAccessToken, oauthTokenSecret } = tokenResponse;
        if (!oauthAccessToken || !oauthTokenSecret) {
          return null;
        }
        try {
          return _TwitterAuthProvider.credential(oauthAccessToken, oauthTokenSecret);
        } catch (_a) {
          return null;
        }
      }
    };
    TwitterAuthProvider.TWITTER_SIGN_IN_METHOD = "twitter.com";
    TwitterAuthProvider.PROVIDER_ID = "twitter.com";
    UserCredentialImpl = class _UserCredentialImpl {
      constructor(params) {
        this.user = params.user;
        this.providerId = params.providerId;
        this._tokenResponse = params._tokenResponse;
        this.operationType = params.operationType;
      }
      static async _fromIdTokenResponse(auth2, operationType, idTokenResponse, isAnonymous = false) {
        const user = await UserImpl._fromIdTokenResponse(auth2, idTokenResponse, isAnonymous);
        const providerId = providerIdForResponse(idTokenResponse);
        const userCred = new _UserCredentialImpl({
          user,
          providerId,
          _tokenResponse: idTokenResponse,
          operationType
        });
        return userCred;
      }
      static async _forOperation(user, operationType, response) {
        await user._updateTokensIfNecessary(
          response,
          /* reload */
          true
        );
        const providerId = providerIdForResponse(response);
        return new _UserCredentialImpl({
          user,
          providerId,
          _tokenResponse: response,
          operationType
        });
      }
    };
    MultiFactorError = class _MultiFactorError extends FirebaseError {
      constructor(auth2, error2, operationType, user) {
        var _a;
        super(error2.code, error2.message);
        this.operationType = operationType;
        this.user = user;
        Object.setPrototypeOf(this, _MultiFactorError.prototype);
        this.customData = {
          appName: auth2.name,
          tenantId: (_a = auth2.tenantId) !== null && _a !== void 0 ? _a : void 0,
          _serverResponse: error2.customData._serverResponse,
          operationType
        };
      }
      static _fromErrorAndOperation(auth2, error2, operationType, user) {
        return new _MultiFactorError(auth2, error2, operationType, user);
      }
    };
    MultiFactorInfoImpl = class {
      constructor(factorId, response) {
        this.factorId = factorId;
        this.uid = response.mfaEnrollmentId;
        this.enrollmentTime = new Date(response.enrolledAt).toUTCString();
        this.displayName = response.displayName;
      }
      static _fromServerResponse(auth2, enrollment) {
        if ("phoneInfo" in enrollment) {
          return PhoneMultiFactorInfoImpl._fromServerResponse(auth2, enrollment);
        } else if ("totpInfo" in enrollment) {
          return TotpMultiFactorInfoImpl._fromServerResponse(auth2, enrollment);
        }
        return _fail(
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
      }
    };
    PhoneMultiFactorInfoImpl = class _PhoneMultiFactorInfoImpl extends MultiFactorInfoImpl {
      constructor(response) {
        super("phone", response);
        this.phoneNumber = response.phoneInfo;
      }
      static _fromServerResponse(_auth, enrollment) {
        return new _PhoneMultiFactorInfoImpl(enrollment);
      }
    };
    TotpMultiFactorInfoImpl = class _TotpMultiFactorInfoImpl extends MultiFactorInfoImpl {
      constructor(response) {
        super("totp", response);
      }
      static _fromServerResponse(_auth, enrollment) {
        return new _TotpMultiFactorInfoImpl(enrollment);
      }
    };
    GenericAdditionalUserInfo = class {
      constructor(isNewUser, providerId, profile = {}) {
        this.isNewUser = isNewUser;
        this.providerId = providerId;
        this.profile = profile;
      }
    };
    FederatedAdditionalUserInfoWithUsername = class extends GenericAdditionalUserInfo {
      constructor(isNewUser, providerId, profile, username) {
        super(isNewUser, providerId, profile);
        this.username = username;
      }
    };
    FacebookAdditionalUserInfo = class extends GenericAdditionalUserInfo {
      constructor(isNewUser, profile) {
        super(isNewUser, "facebook.com", profile);
      }
    };
    GithubAdditionalUserInfo = class extends FederatedAdditionalUserInfoWithUsername {
      constructor(isNewUser, profile) {
        super(isNewUser, "github.com", profile, typeof (profile === null || profile === void 0 ? void 0 : profile.login) === "string" ? profile === null || profile === void 0 ? void 0 : profile.login : null);
      }
    };
    GoogleAdditionalUserInfo = class extends GenericAdditionalUserInfo {
      constructor(isNewUser, profile) {
        super(isNewUser, "google.com", profile);
      }
    };
    TwitterAdditionalUserInfo = class extends FederatedAdditionalUserInfoWithUsername {
      constructor(isNewUser, profile, screenName) {
        super(isNewUser, "twitter.com", profile, screenName);
      }
    };
    MultiFactorSessionImpl = class _MultiFactorSessionImpl {
      constructor(type2, credential, user) {
        this.type = type2;
        this.credential = credential;
        this.user = user;
      }
      static _fromIdtoken(idToken, user) {
        return new _MultiFactorSessionImpl("enroll", idToken, user);
      }
      static _fromMfaPendingCredential(mfaPendingCredential) {
        return new _MultiFactorSessionImpl("signin", mfaPendingCredential);
      }
      toJSON() {
        const key = this.type === "enroll" ? "idToken" : "pendingCredential";
        return {
          multiFactorSession: {
            [key]: this.credential
          }
        };
      }
      static fromJSON(obj) {
        var _a, _b;
        if (obj === null || obj === void 0 ? void 0 : obj.multiFactorSession) {
          if ((_a = obj.multiFactorSession) === null || _a === void 0 ? void 0 : _a.pendingCredential) {
            return _MultiFactorSessionImpl._fromMfaPendingCredential(obj.multiFactorSession.pendingCredential);
          } else if ((_b = obj.multiFactorSession) === null || _b === void 0 ? void 0 : _b.idToken) {
            return _MultiFactorSessionImpl._fromIdtoken(obj.multiFactorSession.idToken);
          }
        }
        return null;
      }
    };
    MultiFactorResolverImpl = class _MultiFactorResolverImpl {
      constructor(session, hints, signInResolver) {
        this.session = session;
        this.hints = hints;
        this.signInResolver = signInResolver;
      }
      /** @internal */
      static _fromError(authExtern, error2) {
        const auth2 = _castAuth(authExtern);
        const serverResponse = error2.customData._serverResponse;
        const hints = (serverResponse.mfaInfo || []).map((enrollment) => MultiFactorInfoImpl._fromServerResponse(auth2, enrollment));
        _assert(
          serverResponse.mfaPendingCredential,
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const session = MultiFactorSessionImpl._fromMfaPendingCredential(serverResponse.mfaPendingCredential);
        return new _MultiFactorResolverImpl(session, hints, async (assertion) => {
          const mfaResponse = await assertion._process(auth2, session);
          delete serverResponse.mfaInfo;
          delete serverResponse.mfaPendingCredential;
          const idTokenResponse = Object.assign(Object.assign({}, serverResponse), { idToken: mfaResponse.idToken, refreshToken: mfaResponse.refreshToken });
          switch (error2.operationType) {
            case "signIn":
              const userCredential = await UserCredentialImpl._fromIdTokenResponse(auth2, error2.operationType, idTokenResponse);
              await auth2._updateCurrentUser(userCredential.user);
              return userCredential;
            case "reauthenticate":
              _assert(
                error2.user,
                auth2,
                "internal-error"
                /* AuthErrorCode.INTERNAL_ERROR */
              );
              return UserCredentialImpl._forOperation(error2.user, error2.operationType, idTokenResponse);
            default:
              _fail(
                auth2,
                "internal-error"
                /* AuthErrorCode.INTERNAL_ERROR */
              );
          }
        });
      }
      async resolveSignIn(assertionExtern) {
        const assertion = assertionExtern;
        return this.signInResolver(assertion);
      }
    };
    MultiFactorUserImpl = class _MultiFactorUserImpl {
      constructor(user) {
        this.user = user;
        this.enrolledFactors = [];
        user._onReload((userInfo) => {
          if (userInfo.mfaInfo) {
            this.enrolledFactors = userInfo.mfaInfo.map((enrollment) => MultiFactorInfoImpl._fromServerResponse(user.auth, enrollment));
          }
        });
      }
      static _fromUser(user) {
        return new _MultiFactorUserImpl(user);
      }
      async getSession() {
        return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken(), this.user);
      }
      async enroll(assertionExtern, displayName) {
        const assertion = assertionExtern;
        const session = await this.getSession();
        const finalizeMfaResponse = await _logoutIfInvalidated(this.user, assertion._process(this.user.auth, session, displayName));
        await this.user._updateTokensIfNecessary(finalizeMfaResponse);
        return this.user.reload();
      }
      async unenroll(infoOrUid) {
        const mfaEnrollmentId = typeof infoOrUid === "string" ? infoOrUid : infoOrUid.uid;
        const idToken = await this.user.getIdToken();
        try {
          const idTokenResponse = await _logoutIfInvalidated(this.user, withdrawMfa(this.user.auth, {
            idToken,
            mfaEnrollmentId
          }));
          this.enrolledFactors = this.enrolledFactors.filter(({ uid }) => uid !== mfaEnrollmentId);
          await this.user._updateTokensIfNecessary(idTokenResponse);
          await this.user.reload();
        } catch (e3) {
          throw e3;
        }
      }
    };
    multiFactorUserCache = /* @__PURE__ */ new WeakMap();
    STORAGE_AVAILABLE_KEY = "__sak";
    BrowserPersistenceClass = class {
      constructor(storageRetriever, type2) {
        this.storageRetriever = storageRetriever;
        this.type = type2;
      }
      _isAvailable() {
        try {
          if (!this.storage) {
            return Promise.resolve(false);
          }
          this.storage.setItem(STORAGE_AVAILABLE_KEY, "1");
          this.storage.removeItem(STORAGE_AVAILABLE_KEY);
          return Promise.resolve(true);
        } catch (_a) {
          return Promise.resolve(false);
        }
      }
      _set(key, value2) {
        this.storage.setItem(key, JSON.stringify(value2));
        return Promise.resolve();
      }
      _get(key) {
        const json2 = this.storage.getItem(key);
        return Promise.resolve(json2 ? JSON.parse(json2) : null);
      }
      _remove(key) {
        this.storage.removeItem(key);
        return Promise.resolve();
      }
      get storage() {
        return this.storageRetriever();
      }
    };
    _POLLING_INTERVAL_MS$1 = 1e3;
    IE10_LOCAL_STORAGE_SYNC_DELAY = 10;
    BrowserLocalPersistence = class extends BrowserPersistenceClass {
      constructor() {
        super(
          () => window.localStorage,
          "LOCAL"
          /* PersistenceType.LOCAL */
        );
        this.boundEventHandler = (event, poll) => this.onStorageEvent(event, poll);
        this.listeners = {};
        this.localCache = {};
        this.pollTimer = null;
        this.fallbackToPolling = _isMobileBrowser();
        this._shouldAllowMigration = true;
      }
      forAllChangedKeys(cb) {
        for (const key of Object.keys(this.listeners)) {
          const newValue = this.storage.getItem(key);
          const oldValue = this.localCache[key];
          if (newValue !== oldValue) {
            cb(key, oldValue, newValue);
          }
        }
      }
      onStorageEvent(event, poll = false) {
        if (!event.key) {
          this.forAllChangedKeys((key2, _oldValue, newValue) => {
            this.notifyListeners(key2, newValue);
          });
          return;
        }
        const key = event.key;
        if (poll) {
          this.detachListener();
        } else {
          this.stopPolling();
        }
        const triggerListeners = () => {
          const storedValue2 = this.storage.getItem(key);
          if (!poll && this.localCache[key] === storedValue2) {
            return;
          }
          this.notifyListeners(key, storedValue2);
        };
        const storedValue = this.storage.getItem(key);
        if (_isIE10() && storedValue !== event.newValue && event.newValue !== event.oldValue) {
          setTimeout(triggerListeners, IE10_LOCAL_STORAGE_SYNC_DELAY);
        } else {
          triggerListeners();
        }
      }
      notifyListeners(key, value2) {
        this.localCache[key] = value2;
        const listeners = this.listeners[key];
        if (listeners) {
          for (const listener of Array.from(listeners)) {
            listener(value2 ? JSON.parse(value2) : value2);
          }
        }
      }
      startPolling() {
        this.stopPolling();
        this.pollTimer = setInterval(() => {
          this.forAllChangedKeys((key, oldValue, newValue) => {
            this.onStorageEvent(
              new StorageEvent("storage", {
                key,
                oldValue,
                newValue
              }),
              /* poll */
              true
            );
          });
        }, _POLLING_INTERVAL_MS$1);
      }
      stopPolling() {
        if (this.pollTimer) {
          clearInterval(this.pollTimer);
          this.pollTimer = null;
        }
      }
      attachListener() {
        window.addEventListener("storage", this.boundEventHandler);
      }
      detachListener() {
        window.removeEventListener("storage", this.boundEventHandler);
      }
      _addListener(key, listener) {
        if (Object.keys(this.listeners).length === 0) {
          if (this.fallbackToPolling) {
            this.startPolling();
          } else {
            this.attachListener();
          }
        }
        if (!this.listeners[key]) {
          this.listeners[key] = /* @__PURE__ */ new Set();
          this.localCache[key] = this.storage.getItem(key);
        }
        this.listeners[key].add(listener);
      }
      _removeListener(key, listener) {
        if (this.listeners[key]) {
          this.listeners[key].delete(listener);
          if (this.listeners[key].size === 0) {
            delete this.listeners[key];
          }
        }
        if (Object.keys(this.listeners).length === 0) {
          this.detachListener();
          this.stopPolling();
        }
      }
      // Update local cache on base operations:
      async _set(key, value2) {
        await super._set(key, value2);
        this.localCache[key] = JSON.stringify(value2);
      }
      async _get(key) {
        const value2 = await super._get(key);
        this.localCache[key] = JSON.stringify(value2);
        return value2;
      }
      async _remove(key) {
        await super._remove(key);
        delete this.localCache[key];
      }
    };
    BrowserLocalPersistence.type = "LOCAL";
    browserLocalPersistence = BrowserLocalPersistence;
    BrowserSessionPersistence = class extends BrowserPersistenceClass {
      constructor() {
        super(
          () => window.sessionStorage,
          "SESSION"
          /* PersistenceType.SESSION */
        );
      }
      _addListener(_key, _listener) {
        return;
      }
      _removeListener(_key, _listener) {
        return;
      }
    };
    BrowserSessionPersistence.type = "SESSION";
    browserSessionPersistence = BrowserSessionPersistence;
    Receiver = class _Receiver {
      constructor(eventTarget) {
        this.eventTarget = eventTarget;
        this.handlersMap = {};
        this.boundEventHandler = this.handleEvent.bind(this);
      }
      /**
       * Obtain an instance of a Receiver for a given event target, if none exists it will be created.
       *
       * @param eventTarget - An event target (such as window or self) through which the underlying
       * messages will be received.
       */
      static _getInstance(eventTarget) {
        const existingInstance = this.receivers.find((receiver) => receiver.isListeningto(eventTarget));
        if (existingInstance) {
          return existingInstance;
        }
        const newInstance = new _Receiver(eventTarget);
        this.receivers.push(newInstance);
        return newInstance;
      }
      isListeningto(eventTarget) {
        return this.eventTarget === eventTarget;
      }
      /**
       * Fans out a MessageEvent to the appropriate listeners.
       *
       * @remarks
       * Sends an {@link Status.ACK} upon receipt and a {@link Status.DONE} once all handlers have
       * finished processing.
       *
       * @param event - The MessageEvent.
       *
       */
      async handleEvent(event) {
        const messageEvent = event;
        const { eventId, eventType, data } = messageEvent.data;
        const handlers = this.handlersMap[eventType];
        if (!(handlers === null || handlers === void 0 ? void 0 : handlers.size)) {
          return;
        }
        messageEvent.ports[0].postMessage({
          status: "ack",
          eventId,
          eventType
        });
        const promises = Array.from(handlers).map(async (handler) => handler(messageEvent.origin, data));
        const response = await _allSettled(promises);
        messageEvent.ports[0].postMessage({
          status: "done",
          eventId,
          eventType,
          response
        });
      }
      /**
       * Subscribe an event handler for a particular event.
       *
       * @param eventType - Event name to subscribe to.
       * @param eventHandler - The event handler which should receive the events.
       *
       */
      _subscribe(eventType, eventHandler) {
        if (Object.keys(this.handlersMap).length === 0) {
          this.eventTarget.addEventListener("message", this.boundEventHandler);
        }
        if (!this.handlersMap[eventType]) {
          this.handlersMap[eventType] = /* @__PURE__ */ new Set();
        }
        this.handlersMap[eventType].add(eventHandler);
      }
      /**
       * Unsubscribe an event handler from a particular event.
       *
       * @param eventType - Event name to unsubscribe from.
       * @param eventHandler - Optional event handler, if none provided, unsubscribe all handlers on this event.
       *
       */
      _unsubscribe(eventType, eventHandler) {
        if (this.handlersMap[eventType] && eventHandler) {
          this.handlersMap[eventType].delete(eventHandler);
        }
        if (!eventHandler || this.handlersMap[eventType].size === 0) {
          delete this.handlersMap[eventType];
        }
        if (Object.keys(this.handlersMap).length === 0) {
          this.eventTarget.removeEventListener("message", this.boundEventHandler);
        }
      }
    };
    Receiver.receivers = [];
    Sender = class {
      constructor(target) {
        this.target = target;
        this.handlers = /* @__PURE__ */ new Set();
      }
      /**
       * Unsubscribe the handler and remove it from our tracking Set.
       *
       * @param handler - The handler to unsubscribe.
       */
      removeMessageHandler(handler) {
        if (handler.messageChannel) {
          handler.messageChannel.port1.removeEventListener("message", handler.onMessage);
          handler.messageChannel.port1.close();
        }
        this.handlers.delete(handler);
      }
      /**
       * Send a message to the Receiver located at {@link target}.
       *
       * @remarks
       * We'll first wait a bit for an ACK , if we get one we will wait significantly longer until the
       * receiver has had a chance to fully process the event.
       *
       * @param eventType - Type of event to send.
       * @param data - The payload of the event.
       * @param timeout - Timeout for waiting on an ACK from the receiver.
       *
       * @returns An array of settled promises from all the handlers that were listening on the receiver.
       */
      async _send(eventType, data, timeout = 50) {
        const messageChannel = typeof MessageChannel !== "undefined" ? new MessageChannel() : null;
        if (!messageChannel) {
          throw new Error(
            "connection_unavailable"
            /* _MessageError.CONNECTION_UNAVAILABLE */
          );
        }
        let completionTimer;
        let handler;
        return new Promise((resolve, reject) => {
          const eventId = _generateEventId("", 20);
          messageChannel.port1.start();
          const ackTimer = setTimeout(() => {
            reject(new Error(
              "unsupported_event"
              /* _MessageError.UNSUPPORTED_EVENT */
            ));
          }, timeout);
          handler = {
            messageChannel,
            onMessage(event) {
              const messageEvent = event;
              if (messageEvent.data.eventId !== eventId) {
                return;
              }
              switch (messageEvent.data.status) {
                case "ack":
                  clearTimeout(ackTimer);
                  completionTimer = setTimeout(
                    () => {
                      reject(new Error(
                        "timeout"
                        /* _MessageError.TIMEOUT */
                      ));
                    },
                    3e3
                    /* _TimeoutDuration.COMPLETION */
                  );
                  break;
                case "done":
                  clearTimeout(completionTimer);
                  resolve(messageEvent.data.response);
                  break;
                default:
                  clearTimeout(ackTimer);
                  clearTimeout(completionTimer);
                  reject(new Error(
                    "invalid_response"
                    /* _MessageError.INVALID_RESPONSE */
                  ));
                  break;
              }
            }
          };
          this.handlers.add(handler);
          messageChannel.port1.addEventListener("message", handler.onMessage);
          this.target.postMessage({
            eventType,
            eventId,
            data
          }, [messageChannel.port2]);
        }).finally(() => {
          if (handler) {
            this.removeMessageHandler(handler);
          }
        });
      }
    };
    DB_NAME2 = "firebaseLocalStorageDb";
    DB_VERSION2 = 1;
    DB_OBJECTSTORE_NAME = "firebaseLocalStorage";
    DB_DATA_KEYPATH = "fbase_key";
    DBPromise = class {
      constructor(request) {
        this.request = request;
      }
      toPromise() {
        return new Promise((resolve, reject) => {
          this.request.addEventListener("success", () => {
            resolve(this.request.result);
          });
          this.request.addEventListener("error", () => {
            reject(this.request.error);
          });
        });
      }
    };
    _POLLING_INTERVAL_MS = 800;
    _TRANSACTION_RETRY_COUNT = 3;
    IndexedDBLocalPersistence = class {
      constructor() {
        this.type = "LOCAL";
        this._shouldAllowMigration = true;
        this.listeners = {};
        this.localCache = {};
        this.pollTimer = null;
        this.pendingWrites = 0;
        this.receiver = null;
        this.sender = null;
        this.serviceWorkerReceiverAvailable = false;
        this.activeServiceWorker = null;
        this._workerInitializationPromise = this.initializeServiceWorkerMessaging().then(() => {
        }, () => {
        });
      }
      async _openDb() {
        if (this.db) {
          return this.db;
        }
        this.db = await _openDatabase();
        return this.db;
      }
      async _withRetries(op) {
        let numAttempts = 0;
        while (true) {
          try {
            const db = await this._openDb();
            return await op(db);
          } catch (e3) {
            if (numAttempts++ > _TRANSACTION_RETRY_COUNT) {
              throw e3;
            }
            if (this.db) {
              this.db.close();
              this.db = void 0;
            }
          }
        }
      }
      /**
       * IndexedDB events do not propagate from the main window to the worker context.  We rely on a
       * postMessage interface to send these events to the worker ourselves.
       */
      async initializeServiceWorkerMessaging() {
        return _isWorker() ? this.initializeReceiver() : this.initializeSender();
      }
      /**
       * As the worker we should listen to events from the main window.
       */
      async initializeReceiver() {
        this.receiver = Receiver._getInstance(_getWorkerGlobalScope());
        this.receiver._subscribe("keyChanged", async (_origin, data) => {
          const keys = await this._poll();
          return {
            keyProcessed: keys.includes(data.key)
          };
        });
        this.receiver._subscribe("ping", async (_origin, _data) => {
          return [
            "keyChanged"
            /* _EventType.KEY_CHANGED */
          ];
        });
      }
      /**
       * As the main window, we should let the worker know when keys change (set and remove).
       *
       * @remarks
       * {@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/ready | ServiceWorkerContainer.ready}
       * may not resolve.
       */
      async initializeSender() {
        var _a, _b;
        this.activeServiceWorker = await _getActiveServiceWorker();
        if (!this.activeServiceWorker) {
          return;
        }
        this.sender = new Sender(this.activeServiceWorker);
        const results = await this.sender._send(
          "ping",
          {},
          800
          /* _TimeoutDuration.LONG_ACK */
        );
        if (!results) {
          return;
        }
        if (((_a = results[0]) === null || _a === void 0 ? void 0 : _a.fulfilled) && ((_b = results[0]) === null || _b === void 0 ? void 0 : _b.value.includes(
          "keyChanged"
          /* _EventType.KEY_CHANGED */
        ))) {
          this.serviceWorkerReceiverAvailable = true;
        }
      }
      /**
       * Let the worker know about a changed key, the exact key doesn't technically matter since the
       * worker will just trigger a full sync anyway.
       *
       * @remarks
       * For now, we only support one service worker per page.
       *
       * @param key - Storage key which changed.
       */
      async notifyServiceWorker(key) {
        if (!this.sender || !this.activeServiceWorker || _getServiceWorkerController() !== this.activeServiceWorker) {
          return;
        }
        try {
          await this.sender._send(
            "keyChanged",
            { key },
            // Use long timeout if receiver has previously responded to a ping from us.
            this.serviceWorkerReceiverAvailable ? 800 : 50
            /* _TimeoutDuration.ACK */
          );
        } catch (_a) {
        }
      }
      async _isAvailable() {
        try {
          if (!indexedDB) {
            return false;
          }
          const db = await _openDatabase();
          await _putObject(db, STORAGE_AVAILABLE_KEY, "1");
          await _deleteObject(db, STORAGE_AVAILABLE_KEY);
          return true;
        } catch (_a) {
        }
        return false;
      }
      async _withPendingWrite(write) {
        this.pendingWrites++;
        try {
          await write();
        } finally {
          this.pendingWrites--;
        }
      }
      async _set(key, value2) {
        return this._withPendingWrite(async () => {
          await this._withRetries((db) => _putObject(db, key, value2));
          this.localCache[key] = value2;
          return this.notifyServiceWorker(key);
        });
      }
      async _get(key) {
        const obj = await this._withRetries((db) => getObject(db, key));
        this.localCache[key] = obj;
        return obj;
      }
      async _remove(key) {
        return this._withPendingWrite(async () => {
          await this._withRetries((db) => _deleteObject(db, key));
          delete this.localCache[key];
          return this.notifyServiceWorker(key);
        });
      }
      async _poll() {
        const result = await this._withRetries((db) => {
          const getAllRequest = getObjectStore(db, false).getAll();
          return new DBPromise(getAllRequest).toPromise();
        });
        if (!result) {
          return [];
        }
        if (this.pendingWrites !== 0) {
          return [];
        }
        const keys = [];
        const keysInResult = /* @__PURE__ */ new Set();
        if (result.length !== 0) {
          for (const { fbase_key: key, value: value2 } of result) {
            keysInResult.add(key);
            if (JSON.stringify(this.localCache[key]) !== JSON.stringify(value2)) {
              this.notifyListeners(key, value2);
              keys.push(key);
            }
          }
        }
        for (const localKey of Object.keys(this.localCache)) {
          if (this.localCache[localKey] && !keysInResult.has(localKey)) {
            this.notifyListeners(localKey, null);
            keys.push(localKey);
          }
        }
        return keys;
      }
      notifyListeners(key, newValue) {
        this.localCache[key] = newValue;
        const listeners = this.listeners[key];
        if (listeners) {
          for (const listener of Array.from(listeners)) {
            listener(newValue);
          }
        }
      }
      startPolling() {
        this.stopPolling();
        this.pollTimer = setInterval(async () => this._poll(), _POLLING_INTERVAL_MS);
      }
      stopPolling() {
        if (this.pollTimer) {
          clearInterval(this.pollTimer);
          this.pollTimer = null;
        }
      }
      _addListener(key, listener) {
        if (Object.keys(this.listeners).length === 0) {
          this.startPolling();
        }
        if (!this.listeners[key]) {
          this.listeners[key] = /* @__PURE__ */ new Set();
          void this._get(key);
        }
        this.listeners[key].add(listener);
      }
      _removeListener(key, listener) {
        if (this.listeners[key]) {
          this.listeners[key].delete(listener);
          if (this.listeners[key].size === 0) {
            delete this.listeners[key];
          }
        }
        if (Object.keys(this.listeners).length === 0) {
          this.stopPolling();
        }
      }
    };
    IndexedDBLocalPersistence.type = "LOCAL";
    indexedDBLocalPersistence = IndexedDBLocalPersistence;
    _SOLVE_TIME_MS = 500;
    _EXPIRATION_TIME_MS = 6e4;
    _WIDGET_ID_START = 1e12;
    MockReCaptcha = class {
      constructor(auth2) {
        this.auth = auth2;
        this.counter = _WIDGET_ID_START;
        this._widgets = /* @__PURE__ */ new Map();
      }
      render(container, parameters) {
        const id = this.counter;
        this._widgets.set(id, new MockWidget(container, this.auth.name, parameters || {}));
        this.counter++;
        return id;
      }
      reset(optWidgetId) {
        var _a;
        const id = optWidgetId || _WIDGET_ID_START;
        void ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.delete());
        this._widgets.delete(id);
      }
      getResponse(optWidgetId) {
        var _a;
        const id = optWidgetId || _WIDGET_ID_START;
        return ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.getResponse()) || "";
      }
      async execute(optWidgetId) {
        var _a;
        const id = optWidgetId || _WIDGET_ID_START;
        void ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.execute());
        return "";
      }
    };
    MockWidget = class {
      constructor(containerOrId, appName, params) {
        this.params = params;
        this.timerId = null;
        this.deleted = false;
        this.responseToken = null;
        this.clickHandler = () => {
          this.execute();
        };
        const container = typeof containerOrId === "string" ? document.getElementById(containerOrId) : containerOrId;
        _assert(container, "argument-error", { appName });
        this.container = container;
        this.isVisible = this.params.size !== "invisible";
        if (this.isVisible) {
          this.execute();
        } else {
          this.container.addEventListener("click", this.clickHandler);
        }
      }
      getResponse() {
        this.checkIfDeleted();
        return this.responseToken;
      }
      delete() {
        this.checkIfDeleted();
        this.deleted = true;
        if (this.timerId) {
          clearTimeout(this.timerId);
          this.timerId = null;
        }
        this.container.removeEventListener("click", this.clickHandler);
      }
      execute() {
        this.checkIfDeleted();
        if (this.timerId) {
          return;
        }
        this.timerId = window.setTimeout(() => {
          this.responseToken = generateRandomAlphaNumericString(50);
          const { callback, "expired-callback": expiredCallback } = this.params;
          if (callback) {
            try {
              callback(this.responseToken);
            } catch (e3) {
            }
          }
          this.timerId = window.setTimeout(() => {
            this.timerId = null;
            this.responseToken = null;
            if (expiredCallback) {
              try {
                expiredCallback();
              } catch (e3) {
              }
            }
            if (this.isVisible) {
              this.execute();
            }
          }, _EXPIRATION_TIME_MS);
        }, _SOLVE_TIME_MS);
      }
      checkIfDeleted() {
        if (this.deleted) {
          throw new Error("reCAPTCHA mock was already deleted!");
        }
      }
    };
    _JSLOAD_CALLBACK = _generateCallbackName("rcb");
    NETWORK_TIMEOUT_DELAY = new Delay(3e4, 6e4);
    ReCaptchaLoaderImpl = class {
      constructor() {
        var _a;
        this.hostLanguage = "";
        this.counter = 0;
        this.librarySeparatelyLoaded = !!((_a = _window().grecaptcha) === null || _a === void 0 ? void 0 : _a.render);
      }
      load(auth2, hl = "") {
        _assert(
          isHostLanguageValid(hl),
          auth2,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        if (this.shouldResolveImmediately(hl) && isV2(_window().grecaptcha)) {
          return Promise.resolve(_window().grecaptcha);
        }
        return new Promise((resolve, reject) => {
          const networkTimeout = _window().setTimeout(() => {
            reject(_createError(
              auth2,
              "network-request-failed"
              /* AuthErrorCode.NETWORK_REQUEST_FAILED */
            ));
          }, NETWORK_TIMEOUT_DELAY.get());
          _window()[_JSLOAD_CALLBACK] = () => {
            _window().clearTimeout(networkTimeout);
            delete _window()[_JSLOAD_CALLBACK];
            const recaptcha = _window().grecaptcha;
            if (!recaptcha || !isV2(recaptcha)) {
              reject(_createError(
                auth2,
                "internal-error"
                /* AuthErrorCode.INTERNAL_ERROR */
              ));
              return;
            }
            const render = recaptcha.render;
            recaptcha.render = (container, params) => {
              const widgetId = render(container, params);
              this.counter++;
              return widgetId;
            };
            this.hostLanguage = hl;
            resolve(recaptcha);
          };
          const url = `${_recaptchaV2ScriptUrl()}?${querystring({
            onload: _JSLOAD_CALLBACK,
            render: "explicit",
            hl
          })}`;
          _loadJS(url).catch(() => {
            clearTimeout(networkTimeout);
            reject(_createError(
              auth2,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            ));
          });
        });
      }
      clearedOneInstance() {
        this.counter--;
      }
      shouldResolveImmediately(hl) {
        var _a;
        return !!((_a = _window().grecaptcha) === null || _a === void 0 ? void 0 : _a.render) && (hl === this.hostLanguage || this.counter > 0 || this.librarySeparatelyLoaded);
      }
    };
    MockReCaptchaLoaderImpl = class {
      async load(auth2) {
        return new MockReCaptcha(auth2);
      }
      clearedOneInstance() {
      }
    };
    RECAPTCHA_VERIFIER_TYPE = "recaptcha";
    DEFAULT_PARAMS = {
      theme: "light",
      type: "image"
    };
    RecaptchaVerifier = class {
      /**
       * @param authExtern - The corresponding Firebase {@link Auth} instance.
       *
       * @param containerOrId - The reCAPTCHA container parameter.
       *
       * @remarks
       * This has different meaning depending on whether the reCAPTCHA is hidden or visible. For a
       * visible reCAPTCHA the container must be empty. If a string is used, it has to correspond to
       * an element ID. The corresponding element must also must be in the DOM at the time of
       * initialization.
       *
       * @param parameters - The optional reCAPTCHA parameters.
       *
       * @remarks
       * Check the reCAPTCHA docs for a comprehensive list. All parameters are accepted except for
       * the sitekey. Firebase Auth backend provisions a reCAPTCHA for each project and will
       * configure this upon rendering. For an invisible reCAPTCHA, a size key must have the value
       * 'invisible'.
       */
      constructor(authExtern, containerOrId, parameters = Object.assign({}, DEFAULT_PARAMS)) {
        this.parameters = parameters;
        this.type = RECAPTCHA_VERIFIER_TYPE;
        this.destroyed = false;
        this.widgetId = null;
        this.tokenChangeListeners = /* @__PURE__ */ new Set();
        this.renderPromise = null;
        this.recaptcha = null;
        this.auth = _castAuth(authExtern);
        this.isInvisible = this.parameters.size === "invisible";
        _assert(
          typeof document !== "undefined",
          this.auth,
          "operation-not-supported-in-this-environment"
          /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
        );
        const container = typeof containerOrId === "string" ? document.getElementById(containerOrId) : containerOrId;
        _assert(
          container,
          this.auth,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        this.container = container;
        this.parameters.callback = this.makeTokenCallback(this.parameters.callback);
        this._recaptchaLoader = this.auth.settings.appVerificationDisabledForTesting ? new MockReCaptchaLoaderImpl() : new ReCaptchaLoaderImpl();
        this.validateStartingState();
      }
      /**
       * Waits for the user to solve the reCAPTCHA and resolves with the reCAPTCHA token.
       *
       * @returns A Promise for the reCAPTCHA token.
       */
      async verify() {
        this.assertNotDestroyed();
        const id = await this.render();
        const recaptcha = this.getAssertedRecaptcha();
        const response = recaptcha.getResponse(id);
        if (response) {
          return response;
        }
        return new Promise((resolve) => {
          const tokenChange = (token) => {
            if (!token) {
              return;
            }
            this.tokenChangeListeners.delete(tokenChange);
            resolve(token);
          };
          this.tokenChangeListeners.add(tokenChange);
          if (this.isInvisible) {
            recaptcha.execute(id);
          }
        });
      }
      /**
       * Renders the reCAPTCHA widget on the page.
       *
       * @returns A Promise that resolves with the reCAPTCHA widget ID.
       */
      render() {
        try {
          this.assertNotDestroyed();
        } catch (e3) {
          return Promise.reject(e3);
        }
        if (this.renderPromise) {
          return this.renderPromise;
        }
        this.renderPromise = this.makeRenderPromise().catch((e3) => {
          this.renderPromise = null;
          throw e3;
        });
        return this.renderPromise;
      }
      /** @internal */
      _reset() {
        this.assertNotDestroyed();
        if (this.widgetId !== null) {
          this.getAssertedRecaptcha().reset(this.widgetId);
        }
      }
      /**
       * Clears the reCAPTCHA widget from the page and destroys the instance.
       */
      clear() {
        this.assertNotDestroyed();
        this.destroyed = true;
        this._recaptchaLoader.clearedOneInstance();
        if (!this.isInvisible) {
          this.container.childNodes.forEach((node) => {
            this.container.removeChild(node);
          });
        }
      }
      validateStartingState() {
        _assert(
          !this.parameters.sitekey,
          this.auth,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        _assert(
          this.isInvisible || !this.container.hasChildNodes(),
          this.auth,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        _assert(
          typeof document !== "undefined",
          this.auth,
          "operation-not-supported-in-this-environment"
          /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
        );
      }
      makeTokenCallback(existing) {
        return (token) => {
          this.tokenChangeListeners.forEach((listener) => listener(token));
          if (typeof existing === "function") {
            existing(token);
          } else if (typeof existing === "string") {
            const globalFunc = _window()[existing];
            if (typeof globalFunc === "function") {
              globalFunc(token);
            }
          }
        };
      }
      assertNotDestroyed() {
        _assert(
          !this.destroyed,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
      }
      async makeRenderPromise() {
        await this.init();
        if (!this.widgetId) {
          let container = this.container;
          if (!this.isInvisible) {
            const guaranteedEmpty = document.createElement("div");
            container.appendChild(guaranteedEmpty);
            container = guaranteedEmpty;
          }
          this.widgetId = this.getAssertedRecaptcha().render(container, this.parameters);
        }
        return this.widgetId;
      }
      async init() {
        _assert(
          _isHttpOrHttps() && !_isWorker(),
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        await domReady();
        this.recaptcha = await this._recaptchaLoader.load(this.auth, this.auth.languageCode || void 0);
        const siteKey = await getRecaptchaParams(this.auth);
        _assert(
          siteKey,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        this.parameters.sitekey = siteKey;
      }
      getAssertedRecaptcha() {
        _assert(
          this.recaptcha,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return this.recaptcha;
      }
    };
    ConfirmationResultImpl = class {
      constructor(verificationId, onConfirmation) {
        this.verificationId = verificationId;
        this.onConfirmation = onConfirmation;
      }
      confirm(verificationCode) {
        const authCredential = PhoneAuthCredential._fromVerification(this.verificationId, verificationCode);
        return this.onConfirmation(authCredential);
      }
    };
    PhoneAuthProvider = class _PhoneAuthProvider {
      /**
       * @param auth - The Firebase {@link Auth} instance in which sign-ins should occur.
       *
       */
      constructor(auth2) {
        this.providerId = _PhoneAuthProvider.PROVIDER_ID;
        this.auth = _castAuth(auth2);
      }
      /**
       *
       * Starts a phone number authentication flow by sending a verification code to the given phone
       * number.
       *
       * @example
       * ```javascript
       * const provider = new PhoneAuthProvider(auth);
       * const verificationId = await provider.verifyPhoneNumber(phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);
       * const userCredential = await signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * An alternative flow is provided using the `signInWithPhoneNumber` method.
       * ```javascript
       * const confirmationResult = signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const userCredential = confirmationResult.confirm(verificationCode);
       * ```
       *
       * @param phoneInfoOptions - The user's {@link PhoneInfoOptions}. The phone number should be in
       * E.164 format (e.g. +16505550101).
       * @param applicationVerifier - For abuse prevention, this method also requires a
       * {@link ApplicationVerifier}. This SDK includes a reCAPTCHA-based implementation,
       * {@link RecaptchaVerifier}.
       *
       * @returns A Promise for a verification ID that can be passed to
       * {@link PhoneAuthProvider.credential} to identify this flow..
       */
      verifyPhoneNumber(phoneOptions, applicationVerifier) {
        return _verifyPhoneNumber(this.auth, phoneOptions, getModularInstance(applicationVerifier));
      }
      /**
       * Creates a phone auth credential, given the verification ID from
       * {@link PhoneAuthProvider.verifyPhoneNumber} and the code that was sent to the user's
       * mobile device.
       *
       * @example
       * ```javascript
       * const provider = new PhoneAuthProvider(auth);
       * const verificationId = provider.verifyPhoneNumber(phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);
       * const userCredential = signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * An alternative flow is provided using the `signInWithPhoneNumber` method.
       * ```javascript
       * const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const userCredential = await confirmationResult.confirm(verificationCode);
       * ```
       *
       * @param verificationId - The verification ID returned from {@link PhoneAuthProvider.verifyPhoneNumber}.
       * @param verificationCode - The verification code sent to the user's mobile device.
       *
       * @returns The auth provider credential.
       */
      static credential(verificationId, verificationCode) {
        return PhoneAuthCredential._fromVerification(verificationId, verificationCode);
      }
      /**
       * Generates an {@link AuthCredential} from a {@link UserCredential}.
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        const credential = userCredential;
        return _PhoneAuthProvider.credentialFromTaggedObject(credential);
      }
      /**
       * Returns an {@link AuthCredential} when passed an error.
       *
       * @remarks
       *
       * This method works for errors like
       * `auth/account-exists-with-different-credentials`. This is useful for
       * recovering when attempting to set a user's phone number but the number
       * in question is already tied to another account. For example, the following
       * code tries to update the current user's phone number, and if that
       * fails, links the user with the account associated with that number:
       *
       * ```js
       * const provider = new PhoneAuthProvider(auth);
       * const verificationId = await provider.verifyPhoneNumber(number, verifier);
       * try {
       *   const code = ''; // Prompt the user for the verification code
       *   await updatePhoneNumber(
       *       auth.currentUser,
       *       PhoneAuthProvider.credential(verificationId, code));
       * } catch (e) {
       *   if ((e as FirebaseError)?.code === 'auth/account-exists-with-different-credential') {
       *     const cred = PhoneAuthProvider.credentialFromError(e);
       *     await linkWithCredential(auth.currentUser, cred);
       *   }
       * }
       *
       * // At this point, auth.currentUser.phoneNumber === number.
       * ```
       *
       * @param error - The error to generate a credential from.
       */
      static credentialFromError(error2) {
        return _PhoneAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { phoneNumber, temporaryProof } = tokenResponse;
        if (phoneNumber && temporaryProof) {
          return PhoneAuthCredential._fromTokenResponse(phoneNumber, temporaryProof);
        }
        return null;
      }
    };
    PhoneAuthProvider.PROVIDER_ID = "phone";
    PhoneAuthProvider.PHONE_SIGN_IN_METHOD = "phone";
    IdpCredential = class extends AuthCredential {
      constructor(params) {
        super(
          "custom",
          "custom"
          /* ProviderId.CUSTOM */
        );
        this.params = params;
      }
      _getIdTokenResponse(auth2) {
        return signInWithIdp(auth2, this._buildIdpRequest());
      }
      _linkToIdToken(auth2, idToken) {
        return signInWithIdp(auth2, this._buildIdpRequest(idToken));
      }
      _getReauthenticationResolver(auth2) {
        return signInWithIdp(auth2, this._buildIdpRequest());
      }
      _buildIdpRequest(idToken) {
        const request = {
          requestUri: this.params.requestUri,
          sessionId: this.params.sessionId,
          postBody: this.params.postBody,
          tenantId: this.params.tenantId,
          pendingToken: this.params.pendingToken,
          returnSecureToken: true,
          returnIdpCredential: true
        };
        if (idToken) {
          request.idToken = idToken;
        }
        return request;
      }
    };
    AbstractPopupRedirectOperation = class {
      constructor(auth2, filter2, resolver, user, bypassAuthState = false) {
        this.auth = auth2;
        this.resolver = resolver;
        this.user = user;
        this.bypassAuthState = bypassAuthState;
        this.pendingPromise = null;
        this.eventManager = null;
        this.filter = Array.isArray(filter2) ? filter2 : [filter2];
      }
      execute() {
        return new Promise(async (resolve, reject) => {
          this.pendingPromise = { resolve, reject };
          try {
            this.eventManager = await this.resolver._initialize(this.auth);
            await this.onExecution();
            this.eventManager.registerConsumer(this);
          } catch (e3) {
            this.reject(e3);
          }
        });
      }
      async onAuthEvent(event) {
        const { urlResponse, sessionId, postBody, tenantId, error: error2, type: type2 } = event;
        if (error2) {
          this.reject(error2);
          return;
        }
        const params = {
          auth: this.auth,
          requestUri: urlResponse,
          sessionId,
          tenantId: tenantId || void 0,
          postBody: postBody || void 0,
          user: this.user,
          bypassAuthState: this.bypassAuthState
        };
        try {
          this.resolve(await this.getIdpTask(type2)(params));
        } catch (e3) {
          this.reject(e3);
        }
      }
      onError(error2) {
        this.reject(error2);
      }
      getIdpTask(type2) {
        switch (type2) {
          case "signInViaPopup":
          case "signInViaRedirect":
            return _signIn;
          case "linkViaPopup":
          case "linkViaRedirect":
            return _link;
          case "reauthViaPopup":
          case "reauthViaRedirect":
            return _reauth;
          default:
            _fail(
              this.auth,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
        }
      }
      resolve(cred) {
        debugAssert(this.pendingPromise, "Pending promise was never set");
        this.pendingPromise.resolve(cred);
        this.unregisterAndCleanUp();
      }
      reject(error2) {
        debugAssert(this.pendingPromise, "Pending promise was never set");
        this.pendingPromise.reject(error2);
        this.unregisterAndCleanUp();
      }
      unregisterAndCleanUp() {
        if (this.eventManager) {
          this.eventManager.unregisterConsumer(this);
        }
        this.pendingPromise = null;
        this.cleanUp();
      }
    };
    _POLL_WINDOW_CLOSE_TIMEOUT = new Delay(2e3, 1e4);
    PopupOperation = class _PopupOperation extends AbstractPopupRedirectOperation {
      constructor(auth2, filter2, provider, resolver, user) {
        super(auth2, filter2, resolver, user);
        this.provider = provider;
        this.authWindow = null;
        this.pollId = null;
        if (_PopupOperation.currentPopupAction) {
          _PopupOperation.currentPopupAction.cancel();
        }
        _PopupOperation.currentPopupAction = this;
      }
      async executeNotNull() {
        const result = await this.execute();
        _assert(
          result,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return result;
      }
      async onExecution() {
        debugAssert(this.filter.length === 1, "Popup operations only handle one event");
        const eventId = _generateEventId();
        this.authWindow = await this.resolver._openPopup(
          this.auth,
          this.provider,
          this.filter[0],
          // There's always one, see constructor
          eventId
        );
        this.authWindow.associatedEvent = eventId;
        this.resolver._originValidation(this.auth).catch((e3) => {
          this.reject(e3);
        });
        this.resolver._isIframeWebStorageSupported(this.auth, (isSupported) => {
          if (!isSupported) {
            this.reject(_createError(
              this.auth,
              "web-storage-unsupported"
              /* AuthErrorCode.WEB_STORAGE_UNSUPPORTED */
            ));
          }
        });
        this.pollUserCancellation();
      }
      get eventId() {
        var _a;
        return ((_a = this.authWindow) === null || _a === void 0 ? void 0 : _a.associatedEvent) || null;
      }
      cancel() {
        this.reject(_createError(
          this.auth,
          "cancelled-popup-request"
          /* AuthErrorCode.EXPIRED_POPUP_REQUEST */
        ));
      }
      cleanUp() {
        if (this.authWindow) {
          this.authWindow.close();
        }
        if (this.pollId) {
          window.clearTimeout(this.pollId);
        }
        this.authWindow = null;
        this.pollId = null;
        _PopupOperation.currentPopupAction = null;
      }
      pollUserCancellation() {
        const poll = () => {
          var _a, _b;
          if ((_b = (_a = this.authWindow) === null || _a === void 0 ? void 0 : _a.window) === null || _b === void 0 ? void 0 : _b.closed) {
            this.pollId = window.setTimeout(
              () => {
                this.pollId = null;
                this.reject(_createError(
                  this.auth,
                  "popup-closed-by-user"
                  /* AuthErrorCode.POPUP_CLOSED_BY_USER */
                ));
              },
              8e3
              /* _Timeout.AUTH_EVENT */
            );
            return;
          }
          this.pollId = window.setTimeout(poll, _POLL_WINDOW_CLOSE_TIMEOUT.get());
        };
        poll();
      }
    };
    PopupOperation.currentPopupAction = null;
    PENDING_REDIRECT_KEY = "pendingRedirect";
    redirectOutcomeMap = /* @__PURE__ */ new Map();
    RedirectAction = class extends AbstractPopupRedirectOperation {
      constructor(auth2, resolver, bypassAuthState = false) {
        super(auth2, [
          "signInViaRedirect",
          "linkViaRedirect",
          "reauthViaRedirect",
          "unknown"
          /* AuthEventType.UNKNOWN */
        ], resolver, void 0, bypassAuthState);
        this.eventId = null;
      }
      /**
       * Override the execute function; if we already have a redirect result, then
       * just return it.
       */
      async execute() {
        let readyOutcome = redirectOutcomeMap.get(this.auth._key());
        if (!readyOutcome) {
          try {
            const hasPendingRedirect = await _getAndClearPendingRedirectStatus(this.resolver, this.auth);
            const result = hasPendingRedirect ? await super.execute() : null;
            readyOutcome = () => Promise.resolve(result);
          } catch (e3) {
            readyOutcome = () => Promise.reject(e3);
          }
          redirectOutcomeMap.set(this.auth._key(), readyOutcome);
        }
        if (!this.bypassAuthState) {
          redirectOutcomeMap.set(this.auth._key(), () => Promise.resolve(null));
        }
        return readyOutcome();
      }
      async onAuthEvent(event) {
        if (event.type === "signInViaRedirect") {
          return super.onAuthEvent(event);
        } else if (event.type === "unknown") {
          this.resolve(null);
          return;
        }
        if (event.eventId) {
          const user = await this.auth._redirectUserForId(event.eventId);
          if (user) {
            this.user = user;
            return super.onAuthEvent(event);
          } else {
            this.resolve(null);
          }
        }
      }
      async onExecution() {
      }
      cleanUp() {
      }
    };
    EVENT_DUPLICATION_CACHE_DURATION_MS = 10 * 60 * 1e3;
    AuthEventManager = class {
      constructor(auth2) {
        this.auth = auth2;
        this.cachedEventUids = /* @__PURE__ */ new Set();
        this.consumers = /* @__PURE__ */ new Set();
        this.queuedRedirectEvent = null;
        this.hasHandledPotentialRedirect = false;
        this.lastProcessedEventTime = Date.now();
      }
      registerConsumer(authEventConsumer) {
        this.consumers.add(authEventConsumer);
        if (this.queuedRedirectEvent && this.isEventForConsumer(this.queuedRedirectEvent, authEventConsumer)) {
          this.sendToConsumer(this.queuedRedirectEvent, authEventConsumer);
          this.saveEventToCache(this.queuedRedirectEvent);
          this.queuedRedirectEvent = null;
        }
      }
      unregisterConsumer(authEventConsumer) {
        this.consumers.delete(authEventConsumer);
      }
      onEvent(event) {
        if (this.hasEventBeenHandled(event)) {
          return false;
        }
        let handled = false;
        this.consumers.forEach((consumer) => {
          if (this.isEventForConsumer(event, consumer)) {
            handled = true;
            this.sendToConsumer(event, consumer);
            this.saveEventToCache(event);
          }
        });
        if (this.hasHandledPotentialRedirect || !isRedirectEvent(event)) {
          return handled;
        }
        this.hasHandledPotentialRedirect = true;
        if (!handled) {
          this.queuedRedirectEvent = event;
          handled = true;
        }
        return handled;
      }
      sendToConsumer(event, consumer) {
        var _a;
        if (event.error && !isNullRedirectEvent(event)) {
          const code = ((_a = event.error.code) === null || _a === void 0 ? void 0 : _a.split("auth/")[1]) || "internal-error";
          consumer.onError(_createError(this.auth, code));
        } else {
          consumer.onAuthEvent(event);
        }
      }
      isEventForConsumer(event, consumer) {
        const eventIdMatches = consumer.eventId === null || !!event.eventId && event.eventId === consumer.eventId;
        return consumer.filter.includes(event.type) && eventIdMatches;
      }
      hasEventBeenHandled(event) {
        if (Date.now() - this.lastProcessedEventTime >= EVENT_DUPLICATION_CACHE_DURATION_MS) {
          this.cachedEventUids.clear();
        }
        return this.cachedEventUids.has(eventUid(event));
      }
      saveEventToCache(event) {
        this.cachedEventUids.add(eventUid(event));
        this.lastProcessedEventTime = Date.now();
      }
    };
    IP_ADDRESS_REGEX = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;
    HTTP_REGEX = /^https?/;
    NETWORK_TIMEOUT = new Delay(3e4, 6e4);
    cachedGApiLoader = null;
    PING_TIMEOUT = new Delay(5e3, 15e3);
    IFRAME_PATH = "__/auth/iframe";
    EMULATED_IFRAME_PATH = "emulator/auth/iframe";
    IFRAME_ATTRIBUTES = {
      style: {
        position: "absolute",
        top: "-100px",
        width: "1px",
        height: "1px"
      },
      "aria-hidden": "true",
      tabindex: "-1"
    };
    EID_FROM_APIHOST = /* @__PURE__ */ new Map([
      ["identitytoolkit.googleapis.com", "p"],
      ["staging-identitytoolkit.sandbox.googleapis.com", "s"],
      ["test-identitytoolkit.sandbox.googleapis.com", "t"]
      // test
    ]);
    BASE_POPUP_OPTIONS = {
      location: "yes",
      resizable: "yes",
      statusbar: "yes",
      toolbar: "no"
    };
    DEFAULT_WIDTH = 500;
    DEFAULT_HEIGHT = 600;
    TARGET_BLANK = "_blank";
    FIREFOX_EMPTY_URL = "http://localhost";
    AuthPopup = class {
      constructor(window2) {
        this.window = window2;
        this.associatedEvent = null;
      }
      close() {
        if (this.window) {
          try {
            this.window.close();
          } catch (e3) {
          }
        }
      }
    };
    WIDGET_PATH = "__/auth/handler";
    EMULATOR_WIDGET_PATH = "emulator/auth/handler";
    FIREBASE_APP_CHECK_FRAGMENT_ID = encodeURIComponent("fac");
    WEB_STORAGE_SUPPORT_KEY = "webStorageSupport";
    BrowserPopupRedirectResolver = class {
      constructor() {
        this.eventManagers = {};
        this.iframes = {};
        this.originValidationPromises = {};
        this._redirectPersistence = browserSessionPersistence;
        this._completeRedirectFn = _getRedirectResult;
        this._overrideRedirectResult = _overrideRedirectResult;
      }
      // Wrapping in async even though we don't await anywhere in order
      // to make sure errors are raised as promise rejections
      async _openPopup(auth2, provider, authType, eventId) {
        var _a;
        debugAssert((_a = this.eventManagers[auth2._key()]) === null || _a === void 0 ? void 0 : _a.manager, "_initialize() not called before _openPopup()");
        const url = await _getRedirectUrl(auth2, provider, authType, _getCurrentUrl(), eventId);
        return _open(auth2, url, _generateEventId());
      }
      async _openRedirect(auth2, provider, authType, eventId) {
        await this._originValidation(auth2);
        const url = await _getRedirectUrl(auth2, provider, authType, _getCurrentUrl(), eventId);
        _setWindowLocation(url);
        return new Promise(() => {
        });
      }
      _initialize(auth2) {
        const key = auth2._key();
        if (this.eventManagers[key]) {
          const { manager, promise: promise2 } = this.eventManagers[key];
          if (manager) {
            return Promise.resolve(manager);
          } else {
            debugAssert(promise2, "If manager is not set, promise should be");
            return promise2;
          }
        }
        const promise = this.initAndGetManager(auth2);
        this.eventManagers[key] = { promise };
        promise.catch(() => {
          delete this.eventManagers[key];
        });
        return promise;
      }
      async initAndGetManager(auth2) {
        const iframe = await _openIframe(auth2);
        const manager = new AuthEventManager(auth2);
        iframe.register("authEvent", (iframeEvent) => {
          _assert(
            iframeEvent === null || iframeEvent === void 0 ? void 0 : iframeEvent.authEvent,
            auth2,
            "invalid-auth-event"
            /* AuthErrorCode.INVALID_AUTH_EVENT */
          );
          const handled = manager.onEvent(iframeEvent.authEvent);
          return {
            status: handled ? "ACK" : "ERROR"
            /* GapiOutcome.ERROR */
          };
        }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);
        this.eventManagers[auth2._key()] = { manager };
        this.iframes[auth2._key()] = iframe;
        return manager;
      }
      _isIframeWebStorageSupported(auth2, cb) {
        const iframe = this.iframes[auth2._key()];
        iframe.send(WEB_STORAGE_SUPPORT_KEY, { type: WEB_STORAGE_SUPPORT_KEY }, (result) => {
          var _a;
          const isSupported = (_a = result === null || result === void 0 ? void 0 : result[0]) === null || _a === void 0 ? void 0 : _a[WEB_STORAGE_SUPPORT_KEY];
          if (isSupported !== void 0) {
            cb(!!isSupported);
          }
          _fail(
            auth2,
            "internal-error"
            /* AuthErrorCode.INTERNAL_ERROR */
          );
        }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);
      }
      _originValidation(auth2) {
        const key = auth2._key();
        if (!this.originValidationPromises[key]) {
          this.originValidationPromises[key] = _validateOrigin(auth2);
        }
        return this.originValidationPromises[key];
      }
      get _shouldInitProactively() {
        return _isMobileBrowser() || _isSafari() || _isIOS();
      }
    };
    browserPopupRedirectResolver = BrowserPopupRedirectResolver;
    MultiFactorAssertionImpl = class {
      constructor(factorId) {
        this.factorId = factorId;
      }
      _process(auth2, session, displayName) {
        switch (session.type) {
          case "enroll":
            return this._finalizeEnroll(auth2, session.credential, displayName);
          case "signin":
            return this._finalizeSignIn(auth2, session.credential);
          default:
            return debugFail("unexpected MultiFactorSessionType");
        }
      }
    };
    PhoneMultiFactorAssertionImpl = class _PhoneMultiFactorAssertionImpl extends MultiFactorAssertionImpl {
      constructor(credential) {
        super(
          "phone"
          /* FactorId.PHONE */
        );
        this.credential = credential;
      }
      /** @internal */
      static _fromCredential(credential) {
        return new _PhoneMultiFactorAssertionImpl(credential);
      }
      /** @internal */
      _finalizeEnroll(auth2, idToken, displayName) {
        return finalizeEnrollPhoneMfa(auth2, {
          idToken,
          displayName,
          phoneVerificationInfo: this.credential._makeVerificationRequest()
        });
      }
      /** @internal */
      _finalizeSignIn(auth2, mfaPendingCredential) {
        return finalizeSignInPhoneMfa(auth2, {
          mfaPendingCredential,
          phoneVerificationInfo: this.credential._makeVerificationRequest()
        });
      }
    };
    PhoneMultiFactorGenerator = class {
      constructor() {
      }
      /**
       * Provides a {@link PhoneMultiFactorAssertion} to confirm ownership of the phone second factor.
       *
       * @remarks
       * This method does not work in a Node.js environment.
       *
       * @param phoneAuthCredential - A credential provided by {@link PhoneAuthProvider.credential}.
       * @returns A {@link PhoneMultiFactorAssertion} which can be used with
       * {@link MultiFactorResolver.resolveSignIn}
       */
      static assertion(credential) {
        return PhoneMultiFactorAssertionImpl._fromCredential(credential);
      }
    };
    PhoneMultiFactorGenerator.FACTOR_ID = "phone";
    TotpMultiFactorGenerator = class {
      /**
       * Provides a {@link TotpMultiFactorAssertion} to confirm ownership of
       * the TOTP (time-based one-time password) second factor.
       * This assertion is used to complete enrollment in TOTP second factor.
       *
       * @param secret A {@link TotpSecret} containing the shared secret key and other TOTP parameters.
       * @param oneTimePassword One-time password from TOTP App.
       * @returns A {@link TotpMultiFactorAssertion} which can be used with
       * {@link MultiFactorUser.enroll}.
       */
      static assertionForEnrollment(secret, oneTimePassword) {
        return TotpMultiFactorAssertionImpl._fromSecret(secret, oneTimePassword);
      }
      /**
       * Provides a {@link TotpMultiFactorAssertion} to confirm ownership of the TOTP second factor.
       * This assertion is used to complete signIn with TOTP as the second factor.
       *
       * @param enrollmentId identifies the enrolled TOTP second factor.
       * @param oneTimePassword One-time password from TOTP App.
       * @returns A {@link TotpMultiFactorAssertion} which can be used with
       * {@link MultiFactorResolver.resolveSignIn}.
       */
      static assertionForSignIn(enrollmentId, oneTimePassword) {
        return TotpMultiFactorAssertionImpl._fromEnrollmentId(enrollmentId, oneTimePassword);
      }
      /**
       * Returns a promise to {@link TotpSecret} which contains the TOTP shared secret key and other parameters.
       * Creates a TOTP secret as part of enrolling a TOTP second factor.
       * Used for generating a QR code URL or inputting into a TOTP app.
       * This method uses the auth instance corresponding to the user in the multiFactorSession.
       *
       * @param session The {@link MultiFactorSession} that the user is part of.
       * @returns A promise to {@link TotpSecret}.
       */
      static async generateSecret(session) {
        var _a;
        const mfaSession = session;
        _assert(
          typeof ((_a = mfaSession.user) === null || _a === void 0 ? void 0 : _a.auth) !== "undefined",
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const response = await startEnrollTotpMfa(mfaSession.user.auth, {
          idToken: mfaSession.credential,
          totpEnrollmentInfo: {}
        });
        return TotpSecret._fromStartTotpMfaEnrollmentResponse(response, mfaSession.user.auth);
      }
    };
    TotpMultiFactorGenerator.FACTOR_ID = "totp";
    TotpMultiFactorAssertionImpl = class _TotpMultiFactorAssertionImpl extends MultiFactorAssertionImpl {
      constructor(otp, enrollmentId, secret) {
        super(
          "totp"
          /* FactorId.TOTP */
        );
        this.otp = otp;
        this.enrollmentId = enrollmentId;
        this.secret = secret;
      }
      /** @internal */
      static _fromSecret(secret, otp) {
        return new _TotpMultiFactorAssertionImpl(otp, void 0, secret);
      }
      /** @internal */
      static _fromEnrollmentId(enrollmentId, otp) {
        return new _TotpMultiFactorAssertionImpl(otp, enrollmentId);
      }
      /** @internal */
      async _finalizeEnroll(auth2, idToken, displayName) {
        _assert(
          typeof this.secret !== "undefined",
          auth2,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return finalizeEnrollTotpMfa(auth2, {
          idToken,
          displayName,
          totpVerificationInfo: this.secret._makeTotpVerificationInfo(this.otp)
        });
      }
      /** @internal */
      async _finalizeSignIn(auth2, mfaPendingCredential) {
        _assert(
          this.enrollmentId !== void 0 && this.otp !== void 0,
          auth2,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        const totpVerificationInfo = { verificationCode: this.otp };
        return finalizeSignInTotpMfa(auth2, {
          mfaPendingCredential,
          mfaEnrollmentId: this.enrollmentId,
          totpVerificationInfo
        });
      }
    };
    TotpSecret = class _TotpSecret {
      // The public members are declared outside the constructor so the docs can be generated.
      constructor(secretKey, hashingAlgorithm, codeLength, codeIntervalSeconds, enrollmentCompletionDeadline, sessionInfo, auth2) {
        this.sessionInfo = sessionInfo;
        this.auth = auth2;
        this.secretKey = secretKey;
        this.hashingAlgorithm = hashingAlgorithm;
        this.codeLength = codeLength;
        this.codeIntervalSeconds = codeIntervalSeconds;
        this.enrollmentCompletionDeadline = enrollmentCompletionDeadline;
      }
      /** @internal */
      static _fromStartTotpMfaEnrollmentResponse(response, auth2) {
        return new _TotpSecret(response.totpSessionInfo.sharedSecretKey, response.totpSessionInfo.hashingAlgorithm, response.totpSessionInfo.verificationCodeLength, response.totpSessionInfo.periodSec, new Date(response.totpSessionInfo.finalizeEnrollmentTime).toUTCString(), response.totpSessionInfo.sessionInfo, auth2);
      }
      /** @internal */
      _makeTotpVerificationInfo(otp) {
        return { sessionInfo: this.sessionInfo, verificationCode: otp };
      }
      /**
       * Returns a QR code URL as described in
       * https://github.com/google/google-authenticator/wiki/Key-Uri-Format
       * This can be displayed to the user as a QR code to be scanned into a TOTP app like Google Authenticator.
       * If the optional parameters are unspecified, an accountName of <userEmail> and issuer of <firebaseAppName> are used.
       *
       * @param accountName the name of the account/app along with a user identifier.
       * @param issuer issuer of the TOTP (likely the app name).
       * @returns A QR code URL string.
       */
      generateQrCodeUrl(accountName, issuer) {
        var _a;
        let useDefaults = false;
        if (_isEmptyString(accountName) || _isEmptyString(issuer)) {
          useDefaults = true;
        }
        if (useDefaults) {
          if (_isEmptyString(accountName)) {
            accountName = ((_a = this.auth.currentUser) === null || _a === void 0 ? void 0 : _a.email) || "unknownuser";
          }
          if (_isEmptyString(issuer)) {
            issuer = this.auth.name;
          }
        }
        return `otpauth://totp/${issuer}:${accountName}?secret=${this.secretKey}&issuer=${issuer}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`;
      }
    };
    name4 = "@firebase/auth";
    version3 = "1.7.9";
    AuthInterop = class {
      constructor(auth2) {
        this.auth = auth2;
        this.internalListeners = /* @__PURE__ */ new Map();
      }
      getUid() {
        var _a;
        this.assertAuthConfigured();
        return ((_a = this.auth.currentUser) === null || _a === void 0 ? void 0 : _a.uid) || null;
      }
      async getToken(forceRefresh) {
        this.assertAuthConfigured();
        await this.auth._initializationPromise;
        if (!this.auth.currentUser) {
          return null;
        }
        const accessToken = await this.auth.currentUser.getIdToken(forceRefresh);
        return { accessToken };
      }
      addAuthTokenListener(listener) {
        this.assertAuthConfigured();
        if (this.internalListeners.has(listener)) {
          return;
        }
        const unsubscribe = this.auth.onIdTokenChanged((user) => {
          listener((user === null || user === void 0 ? void 0 : user.stsTokenManager.accessToken) || null);
        });
        this.internalListeners.set(listener, unsubscribe);
        this.updateProactiveRefresh();
      }
      removeAuthTokenListener(listener) {
        this.assertAuthConfigured();
        const unsubscribe = this.internalListeners.get(listener);
        if (!unsubscribe) {
          return;
        }
        this.internalListeners.delete(listener);
        unsubscribe();
        this.updateProactiveRefresh();
      }
      assertAuthConfigured() {
        _assert(
          this.auth._initializationPromise,
          "dependent-sdk-initialized-before-auth"
          /* AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH */
        );
      }
      updateProactiveRefresh() {
        if (this.internalListeners.size > 0) {
          this.auth._startProactiveRefresh();
        } else {
          this.auth._stopProactiveRefresh();
        }
      }
    };
    DEFAULT_ID_TOKEN_MAX_AGE = 5 * 60;
    authIdTokenMaxAge = getExperimentalSetting("authIdTokenMaxAge") || DEFAULT_ID_TOKEN_MAX_AGE;
    lastPostedIdToken = null;
    mintCookieFactory = (url) => async (user) => {
      const idTokenResult = user && await user.getIdTokenResult();
      const idTokenAge = idTokenResult && ((/* @__PURE__ */ new Date()).getTime() - Date.parse(idTokenResult.issuedAtTime)) / 1e3;
      if (idTokenAge && idTokenAge > authIdTokenMaxAge) {
        return;
      }
      const idToken = idTokenResult === null || idTokenResult === void 0 ? void 0 : idTokenResult.token;
      if (lastPostedIdToken === idToken) {
        return;
      }
      lastPostedIdToken = idToken;
      await fetch(url, {
        method: idToken ? "POST" : "DELETE",
        headers: idToken ? {
          "Authorization": `Bearer ${idToken}`
        } : {}
      });
    };
    _setExternalJSProvider({
      loadJS(url) {
        return new Promise((resolve, reject) => {
          const el = document.createElement("script");
          el.setAttribute("src", url);
          el.onload = resolve;
          el.onerror = (e3) => {
            const error2 = _createError(
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
            error2.customData = e3;
            reject(error2);
          };
          el.type = "text/javascript";
          el.charset = "UTF-8";
          getScriptParentElement().appendChild(el);
        });
      },
      gapiScript: "https://apis.google.com/js/api.js",
      recaptchaV2Script: "https://www.google.com/recaptcha/api.js",
      recaptchaEnterpriseScript: "https://www.google.com/recaptcha/enterprise.js?render="
    });
    registerAuth(
      "Browser"
      /* ClientPlatform.BROWSER */
    );
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index.js
var init_esm2017 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index.js"() {
    init_index_68602d24();
    init_index_esm20174();
    init_index_esm2017();
    init_index_esm20173();
    init_index_esm20172();
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/firebase@10.14.1_@firebase+app@0.10.13_@firebase+app-compat@0.2.43_@firebase+app-types@0.9.2/node_modules/firebase/auth/dist/esm/index.esm.js
var index_esm_exports = {};
__export(index_esm_exports, {
  ActionCodeOperation: () => ActionCodeOperation,
  ActionCodeURL: () => ActionCodeURL,
  AuthCredential: () => AuthCredential,
  AuthErrorCodes: () => AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY,
  EmailAuthCredential: () => EmailAuthCredential,
  EmailAuthProvider: () => EmailAuthProvider,
  FacebookAuthProvider: () => FacebookAuthProvider,
  FactorId: () => FactorId,
  GithubAuthProvider: () => GithubAuthProvider,
  GoogleAuthProvider: () => GoogleAuthProvider,
  OAuthCredential: () => OAuthCredential,
  OAuthProvider: () => OAuthProvider,
  OperationType: () => OperationType,
  PhoneAuthCredential: () => PhoneAuthCredential,
  PhoneAuthProvider: () => PhoneAuthProvider,
  PhoneMultiFactorGenerator: () => PhoneMultiFactorGenerator,
  ProviderId: () => ProviderId,
  RecaptchaVerifier: () => RecaptchaVerifier,
  SAMLAuthProvider: () => SAMLAuthProvider,
  SignInMethod: () => SignInMethod,
  TotpMultiFactorGenerator: () => TotpMultiFactorGenerator,
  TotpSecret: () => TotpSecret,
  TwitterAuthProvider: () => TwitterAuthProvider,
  applyActionCode: () => applyActionCode,
  beforeAuthStateChanged: () => beforeAuthStateChanged,
  browserLocalPersistence: () => browserLocalPersistence,
  browserPopupRedirectResolver: () => browserPopupRedirectResolver,
  browserSessionPersistence: () => browserSessionPersistence,
  checkActionCode: () => checkActionCode,
  confirmPasswordReset: () => confirmPasswordReset,
  connectAuthEmulator: () => connectAuthEmulator,
  createUserWithEmailAndPassword: () => createUserWithEmailAndPassword,
  debugErrorMap: () => debugErrorMap,
  deleteUser: () => deleteUser,
  fetchSignInMethodsForEmail: () => fetchSignInMethodsForEmail,
  getAdditionalUserInfo: () => getAdditionalUserInfo,
  getAuth: () => getAuth,
  getIdToken: () => getIdToken,
  getIdTokenResult: () => getIdTokenResult,
  getMultiFactorResolver: () => getMultiFactorResolver,
  getRedirectResult: () => getRedirectResult,
  inMemoryPersistence: () => inMemoryPersistence,
  indexedDBLocalPersistence: () => indexedDBLocalPersistence,
  initializeAuth: () => initializeAuth,
  initializeRecaptchaConfig: () => initializeRecaptchaConfig,
  isSignInWithEmailLink: () => isSignInWithEmailLink,
  linkWithCredential: () => linkWithCredential,
  linkWithPhoneNumber: () => linkWithPhoneNumber,
  linkWithPopup: () => linkWithPopup,
  linkWithRedirect: () => linkWithRedirect,
  multiFactor: () => multiFactor,
  onAuthStateChanged: () => onAuthStateChanged,
  onIdTokenChanged: () => onIdTokenChanged,
  parseActionCodeURL: () => parseActionCodeURL,
  prodErrorMap: () => prodErrorMap,
  reauthenticateWithCredential: () => reauthenticateWithCredential,
  reauthenticateWithPhoneNumber: () => reauthenticateWithPhoneNumber,
  reauthenticateWithPopup: () => reauthenticateWithPopup,
  reauthenticateWithRedirect: () => reauthenticateWithRedirect,
  reload: () => reload,
  revokeAccessToken: () => revokeAccessToken,
  sendEmailVerification: () => sendEmailVerification,
  sendPasswordResetEmail: () => sendPasswordResetEmail,
  sendSignInLinkToEmail: () => sendSignInLinkToEmail,
  setPersistence: () => setPersistence,
  signInAnonymously: () => signInAnonymously,
  signInWithCredential: () => signInWithCredential,
  signInWithCustomToken: () => signInWithCustomToken,
  signInWithEmailAndPassword: () => signInWithEmailAndPassword,
  signInWithEmailLink: () => signInWithEmailLink,
  signInWithPhoneNumber: () => signInWithPhoneNumber,
  signInWithPopup: () => signInWithPopup,
  signInWithRedirect: () => signInWithRedirect,
  signOut: () => signOut,
  unlink: () => unlink,
  updateCurrentUser: () => updateCurrentUser,
  updateEmail: () => updateEmail,
  updatePassword: () => updatePassword,
  updatePhoneNumber: () => updatePhoneNumber,
  updateProfile: () => updateProfile,
  useDeviceLanguage: () => useDeviceLanguage,
  validatePassword: () => validatePassword,
  verifyBeforeUpdateEmail: () => verifyBeforeUpdateEmail,
  verifyPasswordResetCode: () => verifyPasswordResetCode
});
var init_index_esm = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/firebase@10.14.1_@firebase+app@0.10.13_@firebase+app-compat@0.2.43_@firebase+app-types@0.9.2/node_modules/firebase/auth/dist/esm/index.esm.js"() {
    init_esm2017();
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js
var require_react_jsx_runtime_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js"(exports) {
    "use strict";
    var f3 = require_react();
    var k = Symbol.for("react.element");
    var l3 = Symbol.for("react.fragment");
    var m = Object.prototype.hasOwnProperty;
    var n2 = f3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner;
    var p3 = { key: true, ref: true, __self: true, __source: true };
    function q(c3, a2, g) {
      var b, d4 = {}, e3 = null, h2 = null;
      void 0 !== g && (e3 = "" + g);
      void 0 !== a2.key && (e3 = "" + a2.key);
      void 0 !== a2.ref && (h2 = a2.ref);
      for (b in a2) m.call(a2, b) && !p3.hasOwnProperty(b) && (d4[b] = a2[b]);
      if (c3 && c3.defaultProps) for (b in a2 = c3.defaultProps, a2) void 0 === d4[b] && (d4[b] = a2[b]);
      return { $$typeof: k, type: c3, key: e3, ref: h2, props: d4, _owner: n2.current };
    }
    exports.Fragment = l3;
    exports.jsx = q;
    exports.jsxs = q;
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/jsx-runtime.js
var require_jsx_runtime = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/jsx-runtime.js"(exports, module) {
    "use strict";
    if (true) {
      module.exports = require_react_jsx_runtime_production_min();
    } else {
      module.exports = null;
    }
  }
});

// public/main.tsx
var import_react7 = __toESM(require_react());
var import_client = __toESM(require_client());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router-dom@6.30.2_react@18.3.1_react-dom@18.3.1__react@18.3.1/node_modules/react-router-dom/dist/index.js
var React2 = __toESM(require_react());
var ReactDOM = __toESM(require_react_dom());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router@6.30.2_react@18.3.1/node_modules/react-router/dist/index.js
var React = __toESM(require_react());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@remix-run/router@1.23.1/node_modules/@remix-run/router/dist/router.js
function _extends() {
  _extends = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
var Action;
(function(Action2) {
  Action2["Pop"] = "POP";
  Action2["Push"] = "PUSH";
  Action2["Replace"] = "REPLACE";
})(Action || (Action = {}));
var PopStateEventType = "popstate";
function createBrowserHistory(options) {
  if (options === void 0) {
    options = {};
  }
  function createBrowserLocation(window2, globalHistory) {
    let {
      pathname,
      search,
      hash
    } = window2.location;
    return createLocation(
      "",
      {
        pathname,
        search,
        hash
      },
      // state defaults to `null` because `window.history.state` does
      globalHistory.state && globalHistory.state.usr || null,
      globalHistory.state && globalHistory.state.key || "default"
    );
  }
  function createBrowserHref(window2, to) {
    return typeof to === "string" ? to : createPath(to);
  }
  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);
}
function invariant(value2, message) {
  if (value2 === false || value2 === null || typeof value2 === "undefined") {
    throw new Error(message);
  }
}
function warning(cond, message) {
  if (!cond) {
    if (typeof console !== "undefined") console.warn(message);
    try {
      throw new Error(message);
    } catch (e3) {
    }
  }
}
function createKey() {
  return Math.random().toString(36).substr(2, 8);
}
function getHistoryState(location2, index) {
  return {
    usr: location2.state,
    key: location2.key,
    idx: index
  };
}
function createLocation(current, to, state, key) {
  if (state === void 0) {
    state = null;
  }
  let location2 = _extends({
    pathname: typeof current === "string" ? current : current.pathname,
    search: "",
    hash: ""
  }, typeof to === "string" ? parsePath(to) : to, {
    state,
    // TODO: This could be cleaned up.  push/replace should probably just take
    // full Locations now and avoid the need to run through this flow at all
    // But that's a pretty big refactor to the current test suite so going to
    // keep as is for the time being and just let any incoming keys take precedence
    key: to && to.key || key || createKey()
  });
  return location2;
}
function createPath(_ref) {
  let {
    pathname = "/",
    search = "",
    hash = ""
  } = _ref;
  if (search && search !== "?") pathname += search.charAt(0) === "?" ? search : "?" + search;
  if (hash && hash !== "#") pathname += hash.charAt(0) === "#" ? hash : "#" + hash;
  return pathname;
}
function parsePath(path) {
  let parsedPath = {};
  if (path) {
    let hashIndex = path.indexOf("#");
    if (hashIndex >= 0) {
      parsedPath.hash = path.substr(hashIndex);
      path = path.substr(0, hashIndex);
    }
    let searchIndex = path.indexOf("?");
    if (searchIndex >= 0) {
      parsedPath.search = path.substr(searchIndex);
      path = path.substr(0, searchIndex);
    }
    if (path) {
      parsedPath.pathname = path;
    }
  }
  return parsedPath;
}
function getUrlBasedHistory(getLocation, createHref, validateLocation, options) {
  if (options === void 0) {
    options = {};
  }
  let {
    window: window2 = document.defaultView,
    v5Compat = false
  } = options;
  let globalHistory = window2.history;
  let action = Action.Pop;
  let listener = null;
  let index = getIndex();
  if (index == null) {
    index = 0;
    globalHistory.replaceState(_extends({}, globalHistory.state, {
      idx: index
    }), "");
  }
  function getIndex() {
    let state = globalHistory.state || {
      idx: null
    };
    return state.idx;
  }
  function handlePop() {
    action = Action.Pop;
    let nextIndex = getIndex();
    let delta = nextIndex == null ? null : nextIndex - index;
    index = nextIndex;
    if (listener) {
      listener({
        action,
        location: history.location,
        delta
      });
    }
  }
  function push2(to, state) {
    action = Action.Push;
    let location2 = createLocation(history.location, to, state);
    if (validateLocation) validateLocation(location2, to);
    index = getIndex() + 1;
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    try {
      globalHistory.pushState(historyState, "", url);
    } catch (error2) {
      if (error2 instanceof DOMException && error2.name === "DataCloneError") {
        throw error2;
      }
      window2.location.assign(url);
    }
    if (v5Compat && listener) {
      listener({
        action,
        location: history.location,
        delta: 1
      });
    }
  }
  function replace2(to, state) {
    action = Action.Replace;
    let location2 = createLocation(history.location, to, state);
    if (validateLocation) validateLocation(location2, to);
    index = getIndex();
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    globalHistory.replaceState(historyState, "", url);
    if (v5Compat && listener) {
      listener({
        action,
        location: history.location,
        delta: 0
      });
    }
  }
  function createURL(to) {
    let base = window2.location.origin !== "null" ? window2.location.origin : window2.location.href;
    let href = typeof to === "string" ? to : createPath(to);
    href = href.replace(/ $/, "%20");
    invariant(base, "No window.location.(origin|href) available to create URL for href: " + href);
    return new URL(href, base);
  }
  let history = {
    get action() {
      return action;
    },
    get location() {
      return getLocation(window2, globalHistory);
    },
    listen(fn) {
      if (listener) {
        throw new Error("A history only accepts one active listener");
      }
      window2.addEventListener(PopStateEventType, handlePop);
      listener = fn;
      return () => {
        window2.removeEventListener(PopStateEventType, handlePop);
        listener = null;
      };
    },
    createHref(to) {
      return createHref(window2, to);
    },
    createURL,
    encodeLocation(to) {
      let url = createURL(to);
      return {
        pathname: url.pathname,
        search: url.search,
        hash: url.hash
      };
    },
    push: push2,
    replace: replace2,
    go(n2) {
      return globalHistory.go(n2);
    }
  };
  return history;
}
var ResultType;
(function(ResultType2) {
  ResultType2["data"] = "data";
  ResultType2["deferred"] = "deferred";
  ResultType2["redirect"] = "redirect";
  ResultType2["error"] = "error";
})(ResultType || (ResultType = {}));
function matchRoutes(routes, locationArg, basename) {
  if (basename === void 0) {
    basename = "/";
  }
  return matchRoutesImpl(routes, locationArg, basename, false);
}
function matchRoutesImpl(routes, locationArg, basename, allowPartial) {
  let location2 = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
  let pathname = stripBasename(location2.pathname || "/", basename);
  if (pathname == null) {
    return null;
  }
  let branches = flattenRoutes(routes);
  rankRouteBranches(branches);
  let matches = null;
  for (let i3 = 0; matches == null && i3 < branches.length; ++i3) {
    let decoded = decodePath(pathname);
    matches = matchRouteBranch(branches[i3], decoded, allowPartial);
  }
  return matches;
}
function flattenRoutes(routes, branches, parentsMeta, parentPath) {
  if (branches === void 0) {
    branches = [];
  }
  if (parentsMeta === void 0) {
    parentsMeta = [];
  }
  if (parentPath === void 0) {
    parentPath = "";
  }
  let flattenRoute = (route, index, relativePath) => {
    let meta = {
      relativePath: relativePath === void 0 ? route.path || "" : relativePath,
      caseSensitive: route.caseSensitive === true,
      childrenIndex: index,
      route
    };
    if (meta.relativePath.startsWith("/")) {
      invariant(meta.relativePath.startsWith(parentPath), 'Absolute route path "' + meta.relativePath + '" nested under path ' + ('"' + parentPath + '" is not valid. An absolute child route path ') + "must start with the combined path of all its parent routes.");
      meta.relativePath = meta.relativePath.slice(parentPath.length);
    }
    let path = joinPaths([parentPath, meta.relativePath]);
    let routesMeta = parentsMeta.concat(meta);
    if (route.children && route.children.length > 0) {
      invariant(
        // Our types know better, but runtime JS may not!
        // @ts-expect-error
        route.index !== true,
        "Index routes must not have child routes. Please remove " + ('all child routes from route path "' + path + '".')
      );
      flattenRoutes(route.children, branches, routesMeta, path);
    }
    if (route.path == null && !route.index) {
      return;
    }
    branches.push({
      path,
      score: computeScore(path, route.index),
      routesMeta
    });
  };
  routes.forEach((route, index) => {
    var _route$path;
    if (route.path === "" || !((_route$path = route.path) != null && _route$path.includes("?"))) {
      flattenRoute(route, index);
    } else {
      for (let exploded of explodeOptionalSegments(route.path)) {
        flattenRoute(route, index, exploded);
      }
    }
  });
  return branches;
}
function explodeOptionalSegments(path) {
  let segments = path.split("/");
  if (segments.length === 0) return [];
  let [first, ...rest] = segments;
  let isOptional = first.endsWith("?");
  let required = first.replace(/\?$/, "");
  if (rest.length === 0) {
    return isOptional ? [required, ""] : [required];
  }
  let restExploded = explodeOptionalSegments(rest.join("/"));
  let result = [];
  result.push(...restExploded.map((subpath) => subpath === "" ? required : [required, subpath].join("/")));
  if (isOptional) {
    result.push(...restExploded);
  }
  return result.map((exploded) => path.startsWith("/") && exploded === "" ? "/" : exploded);
}
function rankRouteBranches(branches) {
  branches.sort((a2, b) => a2.score !== b.score ? b.score - a2.score : compareIndexes(a2.routesMeta.map((meta) => meta.childrenIndex), b.routesMeta.map((meta) => meta.childrenIndex)));
}
var paramRe = /^:[\w-]+$/;
var dynamicSegmentValue = 3;
var indexRouteValue = 2;
var emptySegmentValue = 1;
var staticSegmentValue = 10;
var splatPenalty = -2;
var isSplat = (s) => s === "*";
function computeScore(path, index) {
  let segments = path.split("/");
  let initialScore = segments.length;
  if (segments.some(isSplat)) {
    initialScore += splatPenalty;
  }
  if (index) {
    initialScore += indexRouteValue;
  }
  return segments.filter((s) => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === "" ? emptySegmentValue : staticSegmentValue), initialScore);
}
function compareIndexes(a2, b) {
  let siblings = a2.length === b.length && a2.slice(0, -1).every((n2, i3) => n2 === b[i3]);
  return siblings ? (
    // If two routes are siblings, we should try to match the earlier sibling
    // first. This allows people to have fine-grained control over the matching
    // behavior by simply putting routes with identical paths in the order they
    // want them tried.
    a2[a2.length - 1] - b[b.length - 1]
  ) : (
    // Otherwise, it doesn't really make sense to rank non-siblings by index,
    // so they sort equally.
    0
  );
}
function matchRouteBranch(branch, pathname, allowPartial) {
  if (allowPartial === void 0) {
    allowPartial = false;
  }
  let {
    routesMeta
  } = branch;
  let matchedParams = {};
  let matchedPathname = "/";
  let matches = [];
  for (let i3 = 0; i3 < routesMeta.length; ++i3) {
    let meta = routesMeta[i3];
    let end = i3 === routesMeta.length - 1;
    let remainingPathname = matchedPathname === "/" ? pathname : pathname.slice(matchedPathname.length) || "/";
    let match = matchPath({
      path: meta.relativePath,
      caseSensitive: meta.caseSensitive,
      end
    }, remainingPathname);
    let route = meta.route;
    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {
      match = matchPath({
        path: meta.relativePath,
        caseSensitive: meta.caseSensitive,
        end: false
      }, remainingPathname);
    }
    if (!match) {
      return null;
    }
    Object.assign(matchedParams, match.params);
    matches.push({
      // TODO: Can this as be avoided?
      params: matchedParams,
      pathname: joinPaths([matchedPathname, match.pathname]),
      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),
      route
    });
    if (match.pathnameBase !== "/") {
      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);
    }
  }
  return matches;
}
function matchPath(pattern, pathname) {
  if (typeof pattern === "string") {
    pattern = {
      path: pattern,
      caseSensitive: false,
      end: true
    };
  }
  let [matcher, compiledParams] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);
  let match = pathname.match(matcher);
  if (!match) return null;
  let matchedPathname = match[0];
  let pathnameBase = matchedPathname.replace(/(.)\/+$/, "$1");
  let captureGroups = match.slice(1);
  let params = compiledParams.reduce((memo2, _ref, index) => {
    let {
      paramName,
      isOptional
    } = _ref;
    if (paramName === "*") {
      let splatValue = captureGroups[index] || "";
      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\/+$/, "$1");
    }
    const value2 = captureGroups[index];
    if (isOptional && !value2) {
      memo2[paramName] = void 0;
    } else {
      memo2[paramName] = (value2 || "").replace(/%2F/g, "/");
    }
    return memo2;
  }, {});
  return {
    params,
    pathname: matchedPathname,
    pathnameBase,
    pattern
  };
}
function compilePath(path, caseSensitive, end) {
  if (caseSensitive === void 0) {
    caseSensitive = false;
  }
  if (end === void 0) {
    end = true;
  }
  warning(path === "*" || !path.endsWith("*") || path.endsWith("/*"), 'Route path "' + path + '" will be treated as if it were ' + ('"' + path.replace(/\*$/, "/*") + '" because the `*` character must ') + "always follow a `/` in the pattern. To get rid of this warning, " + ('please change the route path to "' + path.replace(/\*$/, "/*") + '".'));
  let params = [];
  let regexpSource = "^" + path.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (_, paramName, isOptional) => {
    params.push({
      paramName,
      isOptional: isOptional != null
    });
    return isOptional ? "/?([^\\/]+)?" : "/([^\\/]+)";
  });
  if (path.endsWith("*")) {
    params.push({
      paramName: "*"
    });
    regexpSource += path === "*" || path === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$";
  } else if (end) {
    regexpSource += "\\/*$";
  } else if (path !== "" && path !== "/") {
    regexpSource += "(?:(?=\\/|$))";
  } else ;
  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : "i");
  return [matcher, params];
}
function decodePath(value2) {
  try {
    return value2.split("/").map((v3) => decodeURIComponent(v3).replace(/\//g, "%2F")).join("/");
  } catch (error2) {
    warning(false, 'The URL path "' + value2 + '" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent ' + ("encoding (" + error2 + ")."));
    return value2;
  }
}
function stripBasename(pathname, basename) {
  if (basename === "/") return pathname;
  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {
    return null;
  }
  let startIndex = basename.endsWith("/") ? basename.length - 1 : basename.length;
  let nextChar = pathname.charAt(startIndex);
  if (nextChar && nextChar !== "/") {
    return null;
  }
  return pathname.slice(startIndex) || "/";
}
var ABSOLUTE_URL_REGEX$1 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var isAbsoluteUrl = (url) => ABSOLUTE_URL_REGEX$1.test(url);
function resolvePath(to, fromPathname) {
  if (fromPathname === void 0) {
    fromPathname = "/";
  }
  let {
    pathname: toPathname,
    search = "",
    hash = ""
  } = typeof to === "string" ? parsePath(to) : to;
  let pathname;
  if (toPathname) {
    if (isAbsoluteUrl(toPathname)) {
      pathname = toPathname;
    } else {
      if (toPathname.includes("//")) {
        let oldPathname = toPathname;
        toPathname = toPathname.replace(/\/\/+/g, "/");
        warning(false, "Pathnames cannot have embedded double slashes - normalizing " + (oldPathname + " -> " + toPathname));
      }
      if (toPathname.startsWith("/")) {
        pathname = resolvePathname(toPathname.substring(1), "/");
      } else {
        pathname = resolvePathname(toPathname, fromPathname);
      }
    }
  } else {
    pathname = fromPathname;
  }
  return {
    pathname,
    search: normalizeSearch(search),
    hash: normalizeHash(hash)
  };
}
function resolvePathname(relativePath, fromPathname) {
  let segments = fromPathname.replace(/\/+$/, "").split("/");
  let relativeSegments = relativePath.split("/");
  relativeSegments.forEach((segment) => {
    if (segment === "..") {
      if (segments.length > 1) segments.pop();
    } else if (segment !== ".") {
      segments.push(segment);
    }
  });
  return segments.length > 1 ? segments.join("/") : "/";
}
function getInvalidPathError(char, field, dest, path) {
  return "Cannot include a '" + char + "' character in a manually specified " + ("`to." + field + "` field [" + JSON.stringify(path) + "].  Please separate it out to the ") + ("`to." + dest + "` field. Alternatively you may provide the full path as ") + 'a string in <Link to="..."> and the router will parse it for you.';
}
function getPathContributingMatches(matches) {
  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);
}
function getResolveToMatches(matches, v7_relativeSplatPath) {
  let pathMatches = getPathContributingMatches(matches);
  if (v7_relativeSplatPath) {
    return pathMatches.map((match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase);
  }
  return pathMatches.map((match) => match.pathnameBase);
}
function resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {
  if (isPathRelative === void 0) {
    isPathRelative = false;
  }
  let to;
  if (typeof toArg === "string") {
    to = parsePath(toArg);
  } else {
    to = _extends({}, toArg);
    invariant(!to.pathname || !to.pathname.includes("?"), getInvalidPathError("?", "pathname", "search", to));
    invariant(!to.pathname || !to.pathname.includes("#"), getInvalidPathError("#", "pathname", "hash", to));
    invariant(!to.search || !to.search.includes("#"), getInvalidPathError("#", "search", "hash", to));
  }
  let isEmptyPath = toArg === "" || to.pathname === "";
  let toPathname = isEmptyPath ? "/" : to.pathname;
  let from;
  if (toPathname == null) {
    from = locationPathname;
  } else {
    let routePathnameIndex = routePathnames.length - 1;
    if (!isPathRelative && toPathname.startsWith("..")) {
      let toSegments = toPathname.split("/");
      while (toSegments[0] === "..") {
        toSegments.shift();
        routePathnameIndex -= 1;
      }
      to.pathname = toSegments.join("/");
    }
    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : "/";
  }
  let path = resolvePath(to, from);
  let hasExplicitTrailingSlash = toPathname && toPathname !== "/" && toPathname.endsWith("/");
  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === ".") && locationPathname.endsWith("/");
  if (!path.pathname.endsWith("/") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {
    path.pathname += "/";
  }
  return path;
}
var joinPaths = (paths) => paths.join("/").replace(/\/\/+/g, "/");
var normalizePathname = (pathname) => pathname.replace(/\/+$/, "").replace(/^\/*/, "/");
var normalizeSearch = (search) => !search || search === "?" ? "" : search.startsWith("?") ? search : "?" + search;
var normalizeHash = (hash) => !hash || hash === "#" ? "" : hash.startsWith("#") ? hash : "#" + hash;
function isRouteErrorResponse(error2) {
  return error2 != null && typeof error2.status === "number" && typeof error2.statusText === "string" && typeof error2.internal === "boolean" && "data" in error2;
}
var validMutationMethodsArr = ["post", "put", "patch", "delete"];
var validMutationMethods = new Set(validMutationMethodsArr);
var validRequestMethodsArr = ["get", ...validMutationMethodsArr];
var validRequestMethods = new Set(validRequestMethodsArr);
var UNSAFE_DEFERRED_SYMBOL = Symbol("deferred");

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router@6.30.2_react@18.3.1/node_modules/react-router/dist/index.js
function _extends2() {
  _extends2 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends2.apply(this, arguments);
}
var DataRouterContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  DataRouterContext.displayName = "DataRouter";
}
var DataRouterStateContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  DataRouterStateContext.displayName = "DataRouterState";
}
if (false) {
  AwaitContext.displayName = "Await";
}
var NavigationContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  NavigationContext.displayName = "Navigation";
}
var LocationContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  LocationContext.displayName = "Location";
}
var RouteContext = /* @__PURE__ */ React.createContext({
  outlet: null,
  matches: [],
  isDataRoute: false
});
if (false) {
  RouteContext.displayName = "Route";
}
var RouteErrorContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  RouteErrorContext.displayName = "RouteError";
}
function useHref(to, _temp) {
  let {
    relative
  } = _temp === void 0 ? {} : _temp;
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useHref() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    basename,
    navigator: navigator2
  } = React.useContext(NavigationContext);
  let {
    hash,
    pathname,
    search
  } = useResolvedPath(to, {
    relative
  });
  let joinedPathname = pathname;
  if (basename !== "/") {
    joinedPathname = pathname === "/" ? basename : joinPaths([basename, pathname]);
  }
  return navigator2.createHref({
    pathname: joinedPathname,
    search,
    hash
  });
}
function useInRouterContext() {
  return React.useContext(LocationContext) != null;
}
function useLocation() {
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useLocation() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  return React.useContext(LocationContext).location;
}
function useIsomorphicLayoutEffect(cb) {
  let isStatic = React.useContext(NavigationContext).static;
  if (!isStatic) {
    React.useLayoutEffect(cb);
  }
}
function useNavigate() {
  let {
    isDataRoute
  } = React.useContext(RouteContext);
  return isDataRoute ? useNavigateStable() : useNavigateUnstable();
}
function useNavigateUnstable() {
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useNavigate() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let dataRouterContext = React.useContext(DataRouterContext);
  let {
    basename,
    future,
    navigator: navigator2
  } = React.useContext(NavigationContext);
  let {
    matches
  } = React.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches, future.v7_relativeSplatPath));
  let activeRef = React.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = React.useCallback(function(to, options) {
    if (options === void 0) {
      options = {};
    }
    false ? warning(activeRef.current, navigateEffectWarning) : void 0;
    if (!activeRef.current) return;
    if (typeof to === "number") {
      navigator2.go(to);
      return;
    }
    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === "path");
    if (dataRouterContext == null && basename !== "/") {
      path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
    }
    (!!options.replace ? navigator2.replace : navigator2.push)(path, options.state, options);
  }, [basename, navigator2, routePathnamesJson, locationPathname, dataRouterContext]);
  return navigate;
}
var OutletContext = /* @__PURE__ */ React.createContext(null);
function useOutlet(context) {
  let outlet = React.useContext(RouteContext).outlet;
  if (outlet) {
    return /* @__PURE__ */ React.createElement(OutletContext.Provider, {
      value: context
    }, outlet);
  }
  return outlet;
}
function useResolvedPath(to, _temp2) {
  let {
    relative
  } = _temp2 === void 0 ? {} : _temp2;
  let {
    future
  } = React.useContext(NavigationContext);
  let {
    matches
  } = React.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches, future.v7_relativeSplatPath));
  return React.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === "path"), [to, routePathnamesJson, locationPathname, relative]);
}
function useRoutes(routes, locationArg) {
  return useRoutesImpl(routes, locationArg);
}
function useRoutesImpl(routes, locationArg, dataRouterState, future) {
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useRoutes() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    navigator: navigator2
  } = React.useContext(NavigationContext);
  let {
    matches: parentMatches
  } = React.useContext(RouteContext);
  let routeMatch = parentMatches[parentMatches.length - 1];
  let parentParams = routeMatch ? routeMatch.params : {};
  let parentPathname = routeMatch ? routeMatch.pathname : "/";
  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : "/";
  let parentRoute = routeMatch && routeMatch.route;
  if (false) {
    let parentPath = parentRoute && parentRoute.path || "";
    warningOnce(parentPathname, !parentRoute || parentPath.endsWith("*"), "You rendered descendant <Routes> (or called `useRoutes()`) at " + ('"' + parentPathname + '" (under <Route path="' + parentPath + '">) but the ') + `parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

` + ('Please change the parent <Route path="' + parentPath + '"> to <Route ') + ('path="' + (parentPath === "/" ? "*" : parentPath + "/*") + '">.'));
  }
  let locationFromContext = useLocation();
  let location2;
  if (locationArg) {
    var _parsedLocationArg$pa;
    let parsedLocationArg = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
    !(parentPathnameBase === "/" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) ? false ? invariant(false, "When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was " + ('matched by all parent routes. The current pathname base is "' + parentPathnameBase + '" ') + ('but pathname "' + parsedLocationArg.pathname + '" was given in the `location` prop.')) : invariant(false) : void 0;
    location2 = parsedLocationArg;
  } else {
    location2 = locationFromContext;
  }
  let pathname = location2.pathname || "/";
  let remainingPathname = pathname;
  if (parentPathnameBase !== "/") {
    let parentSegments = parentPathnameBase.replace(/^\//, "").split("/");
    let segments = pathname.replace(/^\//, "").split("/");
    remainingPathname = "/" + segments.slice(parentSegments.length).join("/");
  }
  let matches = matchRoutes(routes, {
    pathname: remainingPathname
  });
  if (false) {
    false ? warning(parentRoute || matches != null, 'No routes matched location "' + location2.pathname + location2.search + location2.hash + '" ') : void 0;
    false ? warning(matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0, 'Matched leaf route at location "' + location2.pathname + location2.search + location2.hash + '" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.') : void 0;
  }
  let renderedMatches = _renderMatches(matches && matches.map((match) => Object.assign({}, match, {
    params: Object.assign({}, parentParams, match.params),
    pathname: joinPaths([
      parentPathnameBase,
      // Re-encode pathnames that were decoded inside matchRoutes
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathname).pathname : match.pathname
    ]),
    pathnameBase: match.pathnameBase === "/" ? parentPathnameBase : joinPaths([
      parentPathnameBase,
      // Re-encode pathnames that were decoded inside matchRoutes
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathnameBase).pathname : match.pathnameBase
    ])
  })), parentMatches, dataRouterState, future);
  if (locationArg && renderedMatches) {
    return /* @__PURE__ */ React.createElement(LocationContext.Provider, {
      value: {
        location: _extends2({
          pathname: "/",
          search: "",
          hash: "",
          state: null,
          key: "default"
        }, location2),
        navigationType: Action.Pop
      }
    }, renderedMatches);
  }
  return renderedMatches;
}
function DefaultErrorComponent() {
  let error2 = useRouteError();
  let message = isRouteErrorResponse(error2) ? error2.status + " " + error2.statusText : error2 instanceof Error ? error2.message : JSON.stringify(error2);
  let stack = error2 instanceof Error ? error2.stack : null;
  let lightgrey = "rgba(200,200,200, 0.5)";
  let preStyles = {
    padding: "0.5rem",
    backgroundColor: lightgrey
  };
  let codeStyles = {
    padding: "2px 4px",
    backgroundColor: lightgrey
  };
  let devInfo = null;
  if (false) {
    console.error("Error handled by React Router default ErrorBoundary:", error2);
    devInfo = /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("p", null, "\u{1F4BF} Hey developer \u{1F44B}"), /* @__PURE__ */ React.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", /* @__PURE__ */ React.createElement("code", {
      style: codeStyles
    }, "ErrorBoundary"), " or", " ", /* @__PURE__ */ React.createElement("code", {
      style: codeStyles
    }, "errorElement"), " prop on your route."));
  }
  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("h2", null, "Unexpected Application Error!"), /* @__PURE__ */ React.createElement("h3", {
    style: {
      fontStyle: "italic"
    }
  }, message), stack ? /* @__PURE__ */ React.createElement("pre", {
    style: preStyles
  }, stack) : null, devInfo);
}
var defaultErrorElement = /* @__PURE__ */ React.createElement(DefaultErrorComponent, null);
var RenderErrorBoundary = class extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      location: props.location,
      revalidation: props.revalidation,
      error: props.error
    };
  }
  static getDerivedStateFromError(error2) {
    return {
      error: error2
    };
  }
  static getDerivedStateFromProps(props, state) {
    if (state.location !== props.location || state.revalidation !== "idle" && props.revalidation === "idle") {
      return {
        error: props.error,
        location: props.location,
        revalidation: props.revalidation
      };
    }
    return {
      error: props.error !== void 0 ? props.error : state.error,
      location: state.location,
      revalidation: props.revalidation || state.revalidation
    };
  }
  componentDidCatch(error2, errorInfo) {
    console.error("React Router caught the following error during render", error2, errorInfo);
  }
  render() {
    return this.state.error !== void 0 ? /* @__PURE__ */ React.createElement(RouteContext.Provider, {
      value: this.props.routeContext
    }, /* @__PURE__ */ React.createElement(RouteErrorContext.Provider, {
      value: this.state.error,
      children: this.props.component
    })) : this.props.children;
  }
};
function RenderedRoute(_ref) {
  let {
    routeContext,
    match,
    children
  } = _ref;
  let dataRouterContext = React.useContext(DataRouterContext);
  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {
    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;
  }
  return /* @__PURE__ */ React.createElement(RouteContext.Provider, {
    value: routeContext
  }, children);
}
function _renderMatches(matches, parentMatches, dataRouterState, future) {
  var _dataRouterState;
  if (parentMatches === void 0) {
    parentMatches = [];
  }
  if (dataRouterState === void 0) {
    dataRouterState = null;
  }
  if (future === void 0) {
    future = null;
  }
  if (matches == null) {
    var _future;
    if (!dataRouterState) {
      return null;
    }
    if (dataRouterState.errors) {
      matches = dataRouterState.matches;
    } else if ((_future = future) != null && _future.v7_partialHydration && parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {
      matches = dataRouterState.matches;
    } else {
      return null;
    }
  }
  let renderedMatches = matches;
  let errors = (_dataRouterState = dataRouterState) == null ? void 0 : _dataRouterState.errors;
  if (errors != null) {
    let errorIndex = renderedMatches.findIndex((m) => m.route.id && (errors == null ? void 0 : errors[m.route.id]) !== void 0);
    !(errorIndex >= 0) ? false ? invariant(false, "Could not find a matching route for errors on route IDs: " + Object.keys(errors).join(",")) : invariant(false) : void 0;
    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));
  }
  let renderFallback = false;
  let fallbackIndex = -1;
  if (dataRouterState && future && future.v7_partialHydration) {
    for (let i3 = 0; i3 < renderedMatches.length; i3++) {
      let match = renderedMatches[i3];
      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {
        fallbackIndex = i3;
      }
      if (match.route.id) {
        let {
          loaderData,
          errors: errors2
        } = dataRouterState;
        let needsToRunLoader = match.route.loader && loaderData[match.route.id] === void 0 && (!errors2 || errors2[match.route.id] === void 0);
        if (match.route.lazy || needsToRunLoader) {
          renderFallback = true;
          if (fallbackIndex >= 0) {
            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);
          } else {
            renderedMatches = [renderedMatches[0]];
          }
          break;
        }
      }
    }
  }
  return renderedMatches.reduceRight((outlet, match, index) => {
    let error2;
    let shouldRenderHydrateFallback = false;
    let errorElement = null;
    let hydrateFallbackElement = null;
    if (dataRouterState) {
      error2 = errors && match.route.id ? errors[match.route.id] : void 0;
      errorElement = match.route.errorElement || defaultErrorElement;
      if (renderFallback) {
        if (fallbackIndex < 0 && index === 0) {
          warningOnce("route-fallback", false, "No `HydrateFallback` element provided to render during initial hydration");
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = null;
        } else if (fallbackIndex === index) {
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = match.route.hydrateFallbackElement || null;
        }
      }
    }
    let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));
    let getChildren = () => {
      let children;
      if (error2) {
        children = errorElement;
      } else if (shouldRenderHydrateFallback) {
        children = hydrateFallbackElement;
      } else if (match.route.Component) {
        children = /* @__PURE__ */ React.createElement(match.route.Component, null);
      } else if (match.route.element) {
        children = match.route.element;
      } else {
        children = outlet;
      }
      return /* @__PURE__ */ React.createElement(RenderedRoute, {
        match,
        routeContext: {
          outlet,
          matches: matches2,
          isDataRoute: dataRouterState != null
        },
        children
      });
    };
    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React.createElement(RenderErrorBoundary, {
      location: dataRouterState.location,
      revalidation: dataRouterState.revalidation,
      component: errorElement,
      error: error2,
      children: getChildren(),
      routeContext: {
        outlet: null,
        matches: matches2,
        isDataRoute: true
      }
    }) : getChildren();
  }, null);
}
var DataRouterHook = /* @__PURE__ */ function(DataRouterHook3) {
  DataRouterHook3["UseBlocker"] = "useBlocker";
  DataRouterHook3["UseRevalidator"] = "useRevalidator";
  DataRouterHook3["UseNavigateStable"] = "useNavigate";
  return DataRouterHook3;
}(DataRouterHook || {});
var DataRouterStateHook = /* @__PURE__ */ function(DataRouterStateHook3) {
  DataRouterStateHook3["UseBlocker"] = "useBlocker";
  DataRouterStateHook3["UseLoaderData"] = "useLoaderData";
  DataRouterStateHook3["UseActionData"] = "useActionData";
  DataRouterStateHook3["UseRouteError"] = "useRouteError";
  DataRouterStateHook3["UseNavigation"] = "useNavigation";
  DataRouterStateHook3["UseRouteLoaderData"] = "useRouteLoaderData";
  DataRouterStateHook3["UseMatches"] = "useMatches";
  DataRouterStateHook3["UseRevalidator"] = "useRevalidator";
  DataRouterStateHook3["UseNavigateStable"] = "useNavigate";
  DataRouterStateHook3["UseRouteId"] = "useRouteId";
  return DataRouterStateHook3;
}(DataRouterStateHook || {});
function useDataRouterContext(hookName) {
  let ctx = React.useContext(DataRouterContext);
  !ctx ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return ctx;
}
function useDataRouterState(hookName) {
  let state = React.useContext(DataRouterStateContext);
  !state ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return state;
}
function useRouteContext(hookName) {
  let route = React.useContext(RouteContext);
  !route ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return route;
}
function useCurrentRouteId(hookName) {
  let route = useRouteContext(hookName);
  let thisRoute = route.matches[route.matches.length - 1];
  !thisRoute.route.id ? false ? invariant(false, hookName + ' can only be used on routes that contain a unique "id"') : invariant(false) : void 0;
  return thisRoute.route.id;
}
function useRouteError() {
  var _state$errors;
  let error2 = React.useContext(RouteErrorContext);
  let state = useDataRouterState(DataRouterStateHook.UseRouteError);
  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);
  if (error2 !== void 0) {
    return error2;
  }
  return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];
}
function useNavigateStable() {
  let {
    router
  } = useDataRouterContext(DataRouterHook.UseNavigateStable);
  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);
  let activeRef = React.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = React.useCallback(function(to, options) {
    if (options === void 0) {
      options = {};
    }
    false ? warning(activeRef.current, navigateEffectWarning) : void 0;
    if (!activeRef.current) return;
    if (typeof to === "number") {
      router.navigate(to);
    } else {
      router.navigate(to, _extends2({
        fromRouteId: id
      }, options));
    }
  }, [router, id]);
  return navigate;
}
var alreadyWarned$1 = {};
function warningOnce(key, cond, message) {
  if (!cond && !alreadyWarned$1[key]) {
    alreadyWarned$1[key] = true;
    false ? warning(false, message) : void 0;
  }
}
function warnOnce(key, message) {
  if (false) {
    alreadyWarned[message] = true;
    console.warn(message);
  }
}
var logDeprecation = (flag, msg, link) => warnOnce(flag, "\u26A0\uFE0F React Router Future Flag Warning: " + msg + ". " + ("You can use the `" + flag + "` future flag to opt-in early. ") + ("For more information, see " + link + "."));
function logV6DeprecationWarnings(renderFuture, routerFuture) {
  if ((renderFuture == null ? void 0 : renderFuture.v7_startTransition) === void 0) {
    logDeprecation("v7_startTransition", "React Router will begin wrapping state updates in `React.startTransition` in v7", "https://reactrouter.com/v6/upgrading/future#v7_starttransition");
  }
  if ((renderFuture == null ? void 0 : renderFuture.v7_relativeSplatPath) === void 0 && (!routerFuture || routerFuture.v7_relativeSplatPath === void 0)) {
    logDeprecation("v7_relativeSplatPath", "Relative route resolution within Splat routes is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath");
  }
  if (routerFuture) {
    if (routerFuture.v7_fetcherPersist === void 0) {
      logDeprecation("v7_fetcherPersist", "The persistence behavior of fetchers is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist");
    }
    if (routerFuture.v7_normalizeFormMethod === void 0) {
      logDeprecation("v7_normalizeFormMethod", "Casing of `formMethod` fields is being normalized to uppercase in v7", "https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod");
    }
    if (routerFuture.v7_partialHydration === void 0) {
      logDeprecation("v7_partialHydration", "`RouterProvider` hydration behavior is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_partialhydration");
    }
    if (routerFuture.v7_skipActionErrorRevalidation === void 0) {
      logDeprecation("v7_skipActionErrorRevalidation", "The revalidation behavior after 4xx/5xx `action` responses is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation");
    }
  }
}
var START_TRANSITION = "startTransition";
var startTransitionImpl = React[START_TRANSITION];
function Navigate(_ref4) {
  let {
    to,
    replace: replace2,
    state,
    relative
  } = _ref4;
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of
    // the router loaded. We can help them understand how to avoid that.
    "<Navigate> may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    future,
    static: isStatic
  } = React.useContext(NavigationContext);
  false ? warning(!isStatic, "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.") : void 0;
  let {
    matches
  } = React.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let navigate = useNavigate();
  let path = resolveTo(to, getResolveToMatches(matches, future.v7_relativeSplatPath), locationPathname, relative === "path");
  let jsonPath = JSON.stringify(path);
  React.useEffect(() => navigate(JSON.parse(jsonPath), {
    replace: replace2,
    state,
    relative
  }), [navigate, jsonPath, relative, replace2, state]);
  return null;
}
function Outlet(props) {
  return useOutlet(props.context);
}
function Route(_props) {
  false ? invariant(false, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.") : invariant(false);
}
function Router(_ref5) {
  let {
    basename: basenameProp = "/",
    children = null,
    location: locationProp,
    navigationType = Action.Pop,
    navigator: navigator2,
    static: staticProp = false,
    future
  } = _ref5;
  !!useInRouterContext() ? false ? invariant(false, "You cannot render a <Router> inside another <Router>. You should never have more than one in your app.") : invariant(false) : void 0;
  let basename = basenameProp.replace(/^\/*/, "/");
  let navigationContext = React.useMemo(() => ({
    basename,
    navigator: navigator2,
    static: staticProp,
    future: _extends2({
      v7_relativeSplatPath: false
    }, future)
  }), [basename, future, navigator2, staticProp]);
  if (typeof locationProp === "string") {
    locationProp = parsePath(locationProp);
  }
  let {
    pathname = "/",
    search = "",
    hash = "",
    state = null,
    key = "default"
  } = locationProp;
  let locationContext = React.useMemo(() => {
    let trailingPathname = stripBasename(pathname, basename);
    if (trailingPathname == null) {
      return null;
    }
    return {
      location: {
        pathname: trailingPathname,
        search,
        hash,
        state,
        key
      },
      navigationType
    };
  }, [basename, pathname, search, hash, state, key, navigationType]);
  false ? warning(locationContext != null, '<Router basename="' + basename + '"> is not able to match the URL ' + ('"' + pathname + search + hash + '" because it does not start with the ') + "basename, so the <Router> won't render anything.") : void 0;
  if (locationContext == null) {
    return null;
  }
  return /* @__PURE__ */ React.createElement(NavigationContext.Provider, {
    value: navigationContext
  }, /* @__PURE__ */ React.createElement(LocationContext.Provider, {
    children,
    value: locationContext
  }));
}
function Routes(_ref6) {
  let {
    children,
    location: location2
  } = _ref6;
  return useRoutes(createRoutesFromChildren(children), location2);
}
var neverSettledPromise = new Promise(() => {
});
function createRoutesFromChildren(children, parentPath) {
  if (parentPath === void 0) {
    parentPath = [];
  }
  let routes = [];
  React.Children.forEach(children, (element, index) => {
    if (!/* @__PURE__ */ React.isValidElement(element)) {
      return;
    }
    let treePath = [...parentPath, index];
    if (element.type === React.Fragment) {
      routes.push.apply(routes, createRoutesFromChildren(element.props.children, treePath));
      return;
    }
    !(element.type === Route) ? false ? invariant(false, "[" + (typeof element.type === "string" ? element.type : element.type.name) + "] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>") : invariant(false) : void 0;
    !(!element.props.index || !element.props.children) ? false ? invariant(false, "An index route cannot have child routes.") : invariant(false) : void 0;
    let route = {
      id: element.props.id || treePath.join("-"),
      caseSensitive: element.props.caseSensitive,
      element: element.props.element,
      Component: element.props.Component,
      index: element.props.index,
      path: element.props.path,
      loader: element.props.loader,
      action: element.props.action,
      errorElement: element.props.errorElement,
      ErrorBoundary: element.props.ErrorBoundary,
      hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,
      shouldRevalidate: element.props.shouldRevalidate,
      handle: element.props.handle,
      lazy: element.props.lazy
    };
    if (element.props.children) {
      route.children = createRoutesFromChildren(element.props.children, treePath);
    }
    routes.push(route);
  });
  return routes;
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router-dom@6.30.2_react@18.3.1_react-dom@18.3.1__react@18.3.1/node_modules/react-router-dom/dist/index.js
function _extends3() {
  _extends3 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends3.apply(this, arguments);
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i3;
  for (i3 = 0; i3 < sourceKeys.length; i3++) {
    key = sourceKeys[i3];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }
  return target;
}
function isModifiedEvent(event) {
  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);
}
function shouldProcessLinkClick(event, target) {
  return event.button === 0 && // Ignore everything but left clicks
  (!target || target === "_self") && // Let browser handle "target=_blank" etc.
  !isModifiedEvent(event);
}
var _excluded = ["onClick", "relative", "reloadDocument", "replace", "state", "target", "to", "preventScrollReset", "viewTransition"];
var _excluded2 = ["aria-current", "caseSensitive", "className", "end", "style", "to", "viewTransition", "children"];
var REACT_ROUTER_VERSION = "6";
try {
  window.__reactRouterVersion = REACT_ROUTER_VERSION;
} catch (e3) {
}
var ViewTransitionContext = /* @__PURE__ */ React2.createContext({
  isTransitioning: false
});
if (false) {
  ViewTransitionContext.displayName = "ViewTransition";
}
if (false) {
  FetchersContext.displayName = "Fetchers";
}
var START_TRANSITION2 = "startTransition";
var startTransitionImpl2 = React2[START_TRANSITION2];
var FLUSH_SYNC = "flushSync";
var flushSyncImpl = ReactDOM[FLUSH_SYNC];
var USE_ID = "useId";
var useIdImpl = React2[USE_ID];
function BrowserRouter(_ref4) {
  let {
    basename,
    children,
    future,
    window: window2
  } = _ref4;
  let historyRef = React2.useRef();
  if (historyRef.current == null) {
    historyRef.current = createBrowserHistory({
      window: window2,
      v5Compat: true
    });
  }
  let history = historyRef.current;
  let [state, setStateImpl] = React2.useState({
    action: history.action,
    location: history.location
  });
  let {
    v7_startTransition
  } = future || {};
  let setState = React2.useCallback((newState) => {
    v7_startTransition && startTransitionImpl2 ? startTransitionImpl2(() => setStateImpl(newState)) : setStateImpl(newState);
  }, [setStateImpl, v7_startTransition]);
  React2.useLayoutEffect(() => history.listen(setState), [history, setState]);
  React2.useEffect(() => logV6DeprecationWarnings(future), [future]);
  return /* @__PURE__ */ React2.createElement(Router, {
    basename,
    children,
    location: state.location,
    navigationType: state.action,
    navigator: history,
    future
  });
}
if (false) {
  HistoryRouter.displayName = "unstable_HistoryRouter";
}
var isBrowser = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined";
var ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var Link = /* @__PURE__ */ React2.forwardRef(function LinkWithRef(_ref7, ref) {
  let {
    onClick,
    relative,
    reloadDocument,
    replace: replace2,
    state,
    target,
    to,
    preventScrollReset,
    viewTransition
  } = _ref7, rest = _objectWithoutPropertiesLoose(_ref7, _excluded);
  let {
    basename
  } = React2.useContext(NavigationContext);
  let absoluteHref;
  let isExternal = false;
  if (typeof to === "string" && ABSOLUTE_URL_REGEX.test(to)) {
    absoluteHref = to;
    if (isBrowser) {
      try {
        let currentUrl = new URL(window.location.href);
        let targetUrl = to.startsWith("//") ? new URL(currentUrl.protocol + to) : new URL(to);
        let path = stripBasename(targetUrl.pathname, basename);
        if (targetUrl.origin === currentUrl.origin && path != null) {
          to = path + targetUrl.search + targetUrl.hash;
        } else {
          isExternal = true;
        }
      } catch (e3) {
        false ? warning(false, '<Link to="' + to + '"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.') : void 0;
      }
    }
  }
  let href = useHref(to, {
    relative
  });
  let internalOnClick = useLinkClickHandler(to, {
    replace: replace2,
    state,
    target,
    preventScrollReset,
    relative,
    viewTransition
  });
  function handleClick(event) {
    if (onClick) onClick(event);
    if (!event.defaultPrevented) {
      internalOnClick(event);
    }
  }
  return (
    // eslint-disable-next-line jsx-a11y/anchor-has-content
    /* @__PURE__ */ React2.createElement("a", _extends3({}, rest, {
      href: absoluteHref || href,
      onClick: isExternal || reloadDocument ? onClick : handleClick,
      ref,
      target
    }))
  );
});
if (false) {
  Link.displayName = "Link";
}
var NavLink = /* @__PURE__ */ React2.forwardRef(function NavLinkWithRef(_ref8, ref) {
  let {
    "aria-current": ariaCurrentProp = "page",
    caseSensitive = false,
    className: classNameProp = "",
    end = false,
    style: styleProp,
    to,
    viewTransition,
    children
  } = _ref8, rest = _objectWithoutPropertiesLoose(_ref8, _excluded2);
  let path = useResolvedPath(to, {
    relative: rest.relative
  });
  let location2 = useLocation();
  let routerState = React2.useContext(DataRouterStateContext);
  let {
    navigator: navigator2,
    basename
  } = React2.useContext(NavigationContext);
  let isTransitioning = routerState != null && // Conditional usage is OK here because the usage of a data router is static
  // eslint-disable-next-line react-hooks/rules-of-hooks
  useViewTransitionState(path) && viewTransition === true;
  let toPathname = navigator2.encodeLocation ? navigator2.encodeLocation(path).pathname : path.pathname;
  let locationPathname = location2.pathname;
  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;
  if (!caseSensitive) {
    locationPathname = locationPathname.toLowerCase();
    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;
    toPathname = toPathname.toLowerCase();
  }
  if (nextLocationPathname && basename) {
    nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;
  }
  const endSlashPosition = toPathname !== "/" && toPathname.endsWith("/") ? toPathname.length - 1 : toPathname.length;
  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === "/";
  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === "/");
  let renderProps = {
    isActive,
    isPending,
    isTransitioning
  };
  let ariaCurrent = isActive ? ariaCurrentProp : void 0;
  let className;
  if (typeof classNameProp === "function") {
    className = classNameProp(renderProps);
  } else {
    className = [classNameProp, isActive ? "active" : null, isPending ? "pending" : null, isTransitioning ? "transitioning" : null].filter(Boolean).join(" ");
  }
  let style = typeof styleProp === "function" ? styleProp(renderProps) : styleProp;
  return /* @__PURE__ */ React2.createElement(Link, _extends3({}, rest, {
    "aria-current": ariaCurrent,
    className,
    ref,
    style,
    to,
    viewTransition
  }), typeof children === "function" ? children(renderProps) : children);
});
if (false) {
  NavLink.displayName = "NavLink";
}
if (false) {
  Form.displayName = "Form";
}
if (false) {
  ScrollRestoration.displayName = "ScrollRestoration";
}
var DataRouterHook2;
(function(DataRouterHook3) {
  DataRouterHook3["UseScrollRestoration"] = "useScrollRestoration";
  DataRouterHook3["UseSubmit"] = "useSubmit";
  DataRouterHook3["UseSubmitFetcher"] = "useSubmitFetcher";
  DataRouterHook3["UseFetcher"] = "useFetcher";
  DataRouterHook3["useViewTransitionState"] = "useViewTransitionState";
})(DataRouterHook2 || (DataRouterHook2 = {}));
var DataRouterStateHook2;
(function(DataRouterStateHook3) {
  DataRouterStateHook3["UseFetcher"] = "useFetcher";
  DataRouterStateHook3["UseFetchers"] = "useFetchers";
  DataRouterStateHook3["UseScrollRestoration"] = "useScrollRestoration";
})(DataRouterStateHook2 || (DataRouterStateHook2 = {}));
function useDataRouterContext2(hookName) {
  let ctx = React2.useContext(DataRouterContext);
  !ctx ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return ctx;
}
function useLinkClickHandler(to, _temp) {
  let {
    target,
    replace: replaceProp,
    state,
    preventScrollReset,
    relative,
    viewTransition
  } = _temp === void 0 ? {} : _temp;
  let navigate = useNavigate();
  let location2 = useLocation();
  let path = useResolvedPath(to, {
    relative
  });
  return React2.useCallback((event) => {
    if (shouldProcessLinkClick(event, target)) {
      event.preventDefault();
      let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location2) === createPath(path);
      navigate(to, {
        replace: replace2,
        state,
        preventScrollReset,
        relative,
        viewTransition
      });
    }
  }, [location2, navigate, path, replaceProp, state, target, to, preventScrollReset, relative, viewTransition]);
}
function useViewTransitionState(to, opts) {
  if (opts === void 0) {
    opts = {};
  }
  let vtContext = React2.useContext(ViewTransitionContext);
  !(vtContext != null) ? false ? invariant(false, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?") : invariant(false) : void 0;
  let {
    basename
  } = useDataRouterContext2(DataRouterHook2.useViewTransitionState);
  let path = useResolvedPath(to, {
    relative: opts.relative
  });
  if (!vtContext.isTransitioning) {
    return false;
  }
  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;
  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;
  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@0no-co/graphql.web@1.2.0/node_modules/@0no-co/graphql.web/dist/graphql.web.mjs
var e = {
  NAME: "Name",
  DOCUMENT: "Document",
  OPERATION_DEFINITION: "OperationDefinition",
  VARIABLE_DEFINITION: "VariableDefinition",
  SELECTION_SET: "SelectionSet",
  FIELD: "Field",
  ARGUMENT: "Argument",
  FRAGMENT_SPREAD: "FragmentSpread",
  INLINE_FRAGMENT: "InlineFragment",
  FRAGMENT_DEFINITION: "FragmentDefinition",
  VARIABLE: "Variable",
  INT: "IntValue",
  FLOAT: "FloatValue",
  STRING: "StringValue",
  BOOLEAN: "BooleanValue",
  NULL: "NullValue",
  ENUM: "EnumValue",
  LIST: "ListValue",
  OBJECT: "ObjectValue",
  OBJECT_FIELD: "ObjectField",
  DIRECTIVE: "Directive",
  NAMED_TYPE: "NamedType",
  LIST_TYPE: "ListType",
  NON_NULL_TYPE: "NonNullType"
};
var GraphQLError = class extends Error {
  constructor(e3, r3, i3, n2, t2, a2, o2) {
    if (super(e3), this.name = "GraphQLError", this.message = e3, t2) {
      this.path = t2;
    }
    if (r3) {
      this.nodes = Array.isArray(r3) ? r3 : [r3];
    }
    if (i3) {
      this.source = i3;
    }
    if (n2) {
      this.positions = n2;
    }
    if (a2) {
      this.originalError = a2;
    }
    var l3 = o2;
    if (!l3 && a2) {
      var d4 = a2.extensions;
      if (d4 && "object" == typeof d4) {
        l3 = d4;
      }
    }
    this.extensions = l3 || {};
  }
  toJSON() {
    return {
      ...this,
      message: this.message
    };
  }
  toString() {
    return this.message;
  }
  get [Symbol.toStringTag]() {
    return "GraphQLError";
  }
};
var i;
var n;
function error(e3) {
  return new GraphQLError(`Syntax Error: Unexpected token at ${n} in ${e3}`);
}
function advance(e3) {
  if (e3.lastIndex = n, e3.test(i)) {
    return i.slice(n, n = e3.lastIndex);
  }
}
var t = / +(?=[^\s])/y;
function blockString(e3) {
  var r3 = e3.split("\n");
  var i3 = "";
  var n2 = 0;
  var a2 = 0;
  var o2 = r3.length - 1;
  for (var l3 = 0; l3 < r3.length; l3++) {
    if (t.lastIndex = 0, t.test(r3[l3])) {
      if (l3 && (!n2 || t.lastIndex < n2)) {
        n2 = t.lastIndex;
      }
      a2 = a2 || l3, o2 = l3;
    }
  }
  for (var d4 = a2; d4 <= o2; d4++) {
    if (d4 !== a2) {
      i3 += "\n";
    }
    i3 += r3[d4].slice(n2).replace(/\\"""/g, '"""');
  }
  return i3;
}
function ignored() {
  for (var e3 = 0 | i.charCodeAt(n++); 9 === e3 || 10 === e3 || 13 === e3 || 32 === e3 || 35 === e3 || 44 === e3 || 65279 === e3; e3 = 0 | i.charCodeAt(n++)) {
    if (35 === e3) {
      for (; (e3 = 0 | i.charCodeAt(n++)) && 10 !== e3 && 13 !== e3; ) {
      }
    }
  }
  n--;
}
function name() {
  var e3 = n;
  for (var r3 = 0 | i.charCodeAt(n++); r3 >= 48 && r3 <= 57 || r3 >= 65 && r3 <= 90 || 95 === r3 || r3 >= 97 && r3 <= 122; r3 = 0 | i.charCodeAt(n++)) {
  }
  if (e3 === n - 1) {
    throw error("Name");
  }
  var t2 = i.slice(e3, --n);
  return ignored(), t2;
}
function nameNode() {
  return {
    kind: "Name",
    value: name()
  };
}
var a = /(?:"""|(?:[\s\S]*?[^\\])""")/y;
var o = /(?:(?:\.\d+)?[eE][+-]?\d+|\.\d+)/y;
function value(e3) {
  var r3;
  switch (i.charCodeAt(n)) {
    case 91:
      n++, ignored();
      var t2 = [];
      for (; 93 !== i.charCodeAt(n); ) {
        t2.push(value(e3));
      }
      return n++, ignored(), {
        kind: "ListValue",
        values: t2
      };
    case 123:
      n++, ignored();
      var l3 = [];
      for (; 125 !== i.charCodeAt(n); ) {
        var d4 = nameNode();
        if (58 !== i.charCodeAt(n++)) {
          throw error("ObjectField");
        }
        ignored(), l3.push({
          kind: "ObjectField",
          name: d4,
          value: value(e3)
        });
      }
      return n++, ignored(), {
        kind: "ObjectValue",
        fields: l3
      };
    case 36:
      if (e3) {
        throw error("Variable");
      }
      return n++, {
        kind: "Variable",
        name: nameNode()
      };
    case 34:
      if (34 === i.charCodeAt(n + 1) && 34 === i.charCodeAt(n + 2)) {
        if (n += 3, null == (r3 = advance(a))) {
          throw error("StringValue");
        }
        return ignored(), {
          kind: "StringValue",
          value: blockString(r3.slice(0, -3)),
          block: true
        };
      } else {
        var u3 = n;
        var s;
        n++;
        var c3 = false;
        for (s = 0 | i.charCodeAt(n++); 92 === s && (n++, c3 = true) || 10 !== s && 13 !== s && 34 !== s && s; s = 0 | i.charCodeAt(n++)) {
        }
        if (34 !== s) {
          throw error("StringValue");
        }
        return r3 = i.slice(u3, n), ignored(), {
          kind: "StringValue",
          value: c3 ? JSON.parse(r3) : r3.slice(1, -1),
          block: false
        };
      }
    case 45:
    case 48:
    case 49:
    case 50:
    case 51:
    case 52:
    case 53:
    case 54:
    case 55:
    case 56:
    case 57:
      var v3 = n++;
      var f3;
      for (; (f3 = 0 | i.charCodeAt(n++)) >= 48 && f3 <= 57; ) {
      }
      var m = i.slice(v3, --n);
      if (46 === (f3 = i.charCodeAt(n)) || 69 === f3 || 101 === f3) {
        if (null == (r3 = advance(o))) {
          throw error("FloatValue");
        }
        return ignored(), {
          kind: "FloatValue",
          value: m + r3
        };
      } else {
        return ignored(), {
          kind: "IntValue",
          value: m
        };
      }
    case 110:
      if (117 === i.charCodeAt(n + 1) && 108 === i.charCodeAt(n + 2) && 108 === i.charCodeAt(n + 3)) {
        return n += 4, ignored(), {
          kind: "NullValue"
        };
      } else {
        break;
      }
    case 116:
      if (114 === i.charCodeAt(n + 1) && 117 === i.charCodeAt(n + 2) && 101 === i.charCodeAt(n + 3)) {
        return n += 4, ignored(), {
          kind: "BooleanValue",
          value: true
        };
      } else {
        break;
      }
    case 102:
      if (97 === i.charCodeAt(n + 1) && 108 === i.charCodeAt(n + 2) && 115 === i.charCodeAt(n + 3) && 101 === i.charCodeAt(n + 4)) {
        return n += 5, ignored(), {
          kind: "BooleanValue",
          value: false
        };
      } else {
        break;
      }
  }
  return {
    kind: "EnumValue",
    value: name()
  };
}
function arguments_(e3) {
  if (40 === i.charCodeAt(n)) {
    var r3 = [];
    n++, ignored();
    do {
      var t2 = nameNode();
      if (58 !== i.charCodeAt(n++)) {
        throw error("Argument");
      }
      ignored(), r3.push({
        kind: "Argument",
        name: t2,
        value: value(e3)
      });
    } while (41 !== i.charCodeAt(n));
    return n++, ignored(), r3;
  }
}
function directives(e3) {
  if (64 === i.charCodeAt(n)) {
    var r3 = [];
    do {
      n++, r3.push({
        kind: "Directive",
        name: nameNode(),
        arguments: arguments_(e3)
      });
    } while (64 === i.charCodeAt(n));
    return r3;
  }
}
function type() {
  var e3 = 0;
  for (; 91 === i.charCodeAt(n); ) {
    e3++, n++, ignored();
  }
  var r3 = {
    kind: "NamedType",
    name: nameNode()
  };
  do {
    if (33 === i.charCodeAt(n)) {
      n++, ignored(), r3 = {
        kind: "NonNullType",
        type: r3
      };
    }
    if (e3) {
      if (93 !== i.charCodeAt(n++)) {
        throw error("NamedType");
      }
      ignored(), r3 = {
        kind: "ListType",
        type: r3
      };
    }
  } while (e3--);
  return r3;
}
function selectionSetStart() {
  if (123 !== i.charCodeAt(n++)) {
    throw error("SelectionSet");
  }
  return ignored(), selectionSet();
}
function selectionSet() {
  var e3 = [];
  do {
    if (46 === i.charCodeAt(n)) {
      if (46 !== i.charCodeAt(++n) || 46 !== i.charCodeAt(++n)) {
        throw error("SelectionSet");
      }
      switch (n++, ignored(), i.charCodeAt(n)) {
        case 64:
          e3.push({
            kind: "InlineFragment",
            typeCondition: void 0,
            directives: directives(false),
            selectionSet: selectionSetStart()
          });
          break;
        case 111:
          if (110 === i.charCodeAt(n + 1)) {
            n += 2, ignored(), e3.push({
              kind: "InlineFragment",
              typeCondition: {
                kind: "NamedType",
                name: nameNode()
              },
              directives: directives(false),
              selectionSet: selectionSetStart()
            });
          } else {
            e3.push({
              kind: "FragmentSpread",
              name: nameNode(),
              directives: directives(false)
            });
          }
          break;
        case 123:
          n++, ignored(), e3.push({
            kind: "InlineFragment",
            typeCondition: void 0,
            directives: void 0,
            selectionSet: selectionSet()
          });
          break;
        default:
          e3.push({
            kind: "FragmentSpread",
            name: nameNode(),
            directives: directives(false)
          });
      }
    } else {
      var r3 = nameNode();
      var t2 = void 0;
      if (58 === i.charCodeAt(n)) {
        n++, ignored(), t2 = r3, r3 = nameNode();
      }
      var a2 = arguments_(false);
      var o2 = directives(false);
      var l3 = void 0;
      if (123 === i.charCodeAt(n)) {
        n++, ignored(), l3 = selectionSet();
      }
      e3.push({
        kind: "Field",
        alias: t2,
        name: r3,
        arguments: a2,
        directives: o2,
        selectionSet: l3
      });
    }
  } while (125 !== i.charCodeAt(n));
  return n++, ignored(), {
    kind: "SelectionSet",
    selections: e3
  };
}
function variableDefinitions() {
  if (ignored(), 40 === i.charCodeAt(n)) {
    var e3 = [];
    n++, ignored();
    do {
      var r3 = void 0;
      if (34 === i.charCodeAt(n)) {
        r3 = value(true);
      }
      if (36 !== i.charCodeAt(n++)) {
        throw error("Variable");
      }
      var t2 = nameNode();
      if (58 !== i.charCodeAt(n++)) {
        throw error("VariableDefinition");
      }
      ignored();
      var a2 = type();
      var o2 = void 0;
      if (61 === i.charCodeAt(n)) {
        n++, ignored(), o2 = value(true);
      }
      ignored();
      var l3 = {
        kind: "VariableDefinition",
        variable: {
          kind: "Variable",
          name: t2
        },
        type: a2,
        defaultValue: o2,
        directives: directives(true)
      };
      if (r3) {
        l3.description = r3;
      }
      e3.push(l3);
    } while (41 !== i.charCodeAt(n));
    return n++, ignored(), e3;
  }
}
function fragmentDefinition(e3) {
  var r3 = nameNode();
  if (111 !== i.charCodeAt(n++) || 110 !== i.charCodeAt(n++)) {
    throw error("FragmentDefinition");
  }
  ignored();
  var t2 = {
    kind: "FragmentDefinition",
    name: r3,
    typeCondition: {
      kind: "NamedType",
      name: nameNode()
    },
    directives: directives(false),
    selectionSet: selectionSetStart()
  };
  if (e3) {
    t2.description = e3;
  }
  return t2;
}
function definitions() {
  var e3 = [];
  do {
    var r3 = void 0;
    if (34 === i.charCodeAt(n)) {
      r3 = value(true);
    }
    if (123 === i.charCodeAt(n)) {
      if (r3) {
        throw error("Document");
      }
      n++, ignored(), e3.push({
        kind: "OperationDefinition",
        operation: "query",
        name: void 0,
        variableDefinitions: void 0,
        directives: void 0,
        selectionSet: selectionSet()
      });
    } else {
      var t2 = name();
      switch (t2) {
        case "fragment":
          e3.push(fragmentDefinition(r3));
          break;
        case "query":
        case "mutation":
        case "subscription":
          var a2;
          var o2 = void 0;
          if (40 !== (a2 = i.charCodeAt(n)) && 64 !== a2 && 123 !== a2) {
            o2 = nameNode();
          }
          var l3 = {
            kind: "OperationDefinition",
            operation: t2,
            name: o2,
            variableDefinitions: variableDefinitions(),
            directives: directives(false),
            selectionSet: selectionSetStart()
          };
          if (r3) {
            l3.description = r3;
          }
          e3.push(l3);
          break;
        default:
          throw error("Document");
      }
    }
  } while (n < i.length);
  return e3;
}
function parse(e3, r3) {
  if (i = e3.body ? e3.body : e3, n = 0, ignored(), r3 && r3.noLocation) {
    return {
      kind: "Document",
      definitions: definitions()
    };
  } else {
    return {
      kind: "Document",
      definitions: definitions(),
      loc: {
        start: 0,
        end: i.length,
        startToken: void 0,
        endToken: void 0,
        source: {
          body: i,
          name: "graphql.web",
          locationOffset: {
            line: 1,
            column: 1
          }
        }
      }
    };
  }
}
function mapJoin(e3, r3, i3) {
  var n2 = "";
  for (var t2 = 0; t2 < e3.length; t2++) {
    if (t2) {
      n2 += r3;
    }
    n2 += i3(e3[t2]);
  }
  return n2;
}
function printString(e3) {
  return JSON.stringify(e3);
}
function printBlockString(e3) {
  return '"""\n' + e3.replace(/"""/g, '\\"""') + '\n"""';
}
var d = "\n";
var u = {
  OperationDefinition(e3) {
    var r3 = "";
    if (e3.description) {
      r3 += u.StringValue(e3.description) + "\n";
    }
    if (r3 += e3.operation, e3.name) {
      r3 += " " + e3.name.value;
    }
    if (e3.variableDefinitions && e3.variableDefinitions.length) {
      if (!e3.name) {
        r3 += " ";
      }
      r3 += "(" + mapJoin(e3.variableDefinitions, ", ", u.VariableDefinition) + ")";
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    var i3 = u.SelectionSet(e3.selectionSet);
    return "query" !== r3 ? r3 + " " + i3 : i3;
  },
  VariableDefinition(e3) {
    var r3 = "";
    if (e3.description) {
      r3 += u.StringValue(e3.description) + " ";
    }
    if (r3 += u.Variable(e3.variable) + ": " + _print(e3.type), e3.defaultValue) {
      r3 += " = " + _print(e3.defaultValue);
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3;
  },
  Field(e3) {
    var r3 = e3.alias ? e3.alias.value + ": " + e3.name.value : e3.name.value;
    if (e3.arguments && e3.arguments.length) {
      var i3 = mapJoin(e3.arguments, ", ", u.Argument);
      if (r3.length + i3.length + 2 > 80) {
        r3 += "(" + (d += "  ") + mapJoin(e3.arguments, d, u.Argument) + (d = d.slice(0, -2)) + ")";
      } else {
        r3 += "(" + i3 + ")";
      }
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    if (e3.selectionSet && e3.selectionSet.selections.length) {
      r3 += " " + u.SelectionSet(e3.selectionSet);
    }
    return r3;
  },
  StringValue(e3) {
    if (e3.block) {
      return printBlockString(e3.value).replace(/\n/g, d);
    } else {
      return printString(e3.value);
    }
  },
  BooleanValue: (e3) => "" + e3.value,
  NullValue: (e3) => "null",
  IntValue: (e3) => e3.value,
  FloatValue: (e3) => e3.value,
  EnumValue: (e3) => e3.value,
  Name: (e3) => e3.value,
  Variable: (e3) => "$" + e3.name.value,
  ListValue: (e3) => "[" + mapJoin(e3.values, ", ", _print) + "]",
  ObjectValue: (e3) => "{" + mapJoin(e3.fields, ", ", u.ObjectField) + "}",
  ObjectField: (e3) => e3.name.value + ": " + _print(e3.value),
  Document(e3) {
    if (!e3.definitions || !e3.definitions.length) {
      return "";
    } else {
      return mapJoin(e3.definitions, "\n\n", _print);
    }
  },
  SelectionSet: (e3) => "{" + (d += "  ") + mapJoin(e3.selections, d, _print) + (d = d.slice(0, -2)) + "}",
  Argument: (e3) => e3.name.value + ": " + _print(e3.value),
  FragmentSpread(e3) {
    var r3 = "..." + e3.name.value;
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3;
  },
  InlineFragment(e3) {
    var r3 = "...";
    if (e3.typeCondition) {
      r3 += " on " + e3.typeCondition.name.value;
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3 += " " + u.SelectionSet(e3.selectionSet);
  },
  FragmentDefinition(e3) {
    var r3 = "";
    if (e3.description) {
      r3 += u.StringValue(e3.description) + "\n";
    }
    if (r3 += "fragment " + e3.name.value, r3 += " on " + e3.typeCondition.name.value, e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3 + " " + u.SelectionSet(e3.selectionSet);
  },
  Directive(e3) {
    var r3 = "@" + e3.name.value;
    if (e3.arguments && e3.arguments.length) {
      r3 += "(" + mapJoin(e3.arguments, ", ", u.Argument) + ")";
    }
    return r3;
  },
  NamedType: (e3) => e3.name.value,
  ListType: (e3) => "[" + _print(e3.type) + "]",
  NonNullType: (e3) => _print(e3.type) + "!"
};
var _print = (e3) => u[e3.kind](e3);
function print(e3) {
  return d = "\n", u[e3.kind] ? u[e3.kind](e3) : "";
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/wonka@6.3.5/node_modules/wonka/dist/wonka.mjs
var teardownPlaceholder = () => {
};
var e2 = teardownPlaceholder;
function start(e3) {
  return {
    tag: 0,
    0: e3
  };
}
function push(e3) {
  return {
    tag: 1,
    0: e3
  };
}
var asyncIteratorSymbol = () => "function" == typeof Symbol && Symbol.asyncIterator || "@@asyncIterator";
var identity = (e3) => e3;
function filter(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    t2((e3) => {
      if (0 === e3) {
        i3(0);
      } else if (0 === e3.tag) {
        a2 = e3[0];
        i3(e3);
      } else if (!r3(e3[0])) {
        a2(0);
      } else {
        i3(e3);
      }
    });
  };
}
function map(e3) {
  return (r3) => (t2) => r3((r4) => {
    if (0 === r4 || 0 === r4.tag) {
      t2(r4);
    } else {
      t2(push(e3(r4[0])));
    }
  });
}
function mergeMap(r3) {
  return (t2) => (i3) => {
    var a2 = [];
    var f3 = e2;
    var n2 = false;
    var s = false;
    t2((t3) => {
      if (s) {
      } else if (0 === t3) {
        s = true;
        if (!a2.length) {
          i3(0);
        }
      } else if (0 === t3.tag) {
        f3 = t3[0];
      } else {
        n2 = false;
        !function applyInnerSource(r4) {
          var t4 = e2;
          r4((e3) => {
            if (0 === e3) {
              if (a2.length) {
                var r5 = a2.indexOf(t4);
                if (r5 > -1) {
                  (a2 = a2.slice()).splice(r5, 1);
                }
                if (!a2.length) {
                  if (s) {
                    i3(0);
                  } else if (!n2) {
                    n2 = true;
                    f3(0);
                  }
                }
              }
            } else if (0 === e3.tag) {
              a2.push(t4 = e3[0]);
              t4(0);
            } else if (a2.length) {
              i3(e3);
              t4(0);
            }
          });
        }(r3(t3[0]));
        if (!n2) {
          n2 = true;
          f3(0);
        }
      }
    });
    i3(start((e3) => {
      if (1 === e3) {
        if (!s) {
          s = true;
          f3(1);
        }
        for (var r4 = 0, t3 = a2, i4 = a2.length; r4 < i4; r4++) {
          t3[r4](1);
        }
        a2.length = 0;
      } else {
        if (!s && !n2) {
          n2 = true;
          f3(0);
        } else {
          n2 = false;
        }
        for (var l3 = 0, u3 = a2, o2 = a2.length; l3 < o2; l3++) {
          u3[l3](0);
        }
      }
    }));
  };
}
function mergeAll(e3) {
  return mergeMap(identity)(e3);
}
function merge(e3) {
  return mergeAll(r(e3));
}
function onEnd(e3) {
  return (r3) => (t2) => {
    var i3 = false;
    r3((r4) => {
      if (i3) {
      } else if (0 === r4) {
        i3 = true;
        t2(0);
        e3();
      } else if (0 === r4.tag) {
        var a2 = r4[0];
        t2(start((r5) => {
          if (1 === r5) {
            i3 = true;
            a2(1);
            e3();
          } else {
            a2(r5);
          }
        }));
      } else {
        t2(r4);
      }
    });
  };
}
function onPush(e3) {
  return (r3) => (t2) => {
    var i3 = false;
    r3((r4) => {
      if (i3) {
      } else if (0 === r4) {
        i3 = true;
        t2(0);
      } else if (0 === r4.tag) {
        var a2 = r4[0];
        t2(start((e4) => {
          if (1 === e4) {
            i3 = true;
          }
          a2(e4);
        }));
      } else {
        e3(r4[0]);
        t2(r4);
      }
    });
  };
}
function onStart(e3) {
  return (r3) => (t2) => r3((r4) => {
    if (0 === r4) {
      t2(0);
    } else if (0 === r4.tag) {
      t2(r4);
      e3();
    } else {
      t2(r4);
    }
  });
}
function share(r3) {
  var t2 = [];
  var i3 = e2;
  var a2 = false;
  return (e3) => {
    t2.push(e3);
    if (1 === t2.length) {
      r3((e4) => {
        if (0 === e4) {
          for (var r4 = 0, f3 = t2, n2 = t2.length; r4 < n2; r4++) {
            f3[r4](0);
          }
          t2.length = 0;
        } else if (0 === e4.tag) {
          i3 = e4[0];
        } else {
          a2 = false;
          for (var s = 0, l3 = t2, u3 = t2.length; s < u3; s++) {
            l3[s](e4);
          }
        }
      });
    }
    e3(start((r4) => {
      if (1 === r4) {
        var f3 = t2.indexOf(e3);
        if (f3 > -1) {
          (t2 = t2.slice()).splice(f3, 1);
        }
        if (!t2.length) {
          i3(1);
        }
      } else if (!a2) {
        a2 = true;
        i3(0);
      }
    }));
  };
}
function switchMap(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    var f3 = e2;
    var n2 = false;
    var s = false;
    var l3 = false;
    var u3 = false;
    t2((t3) => {
      if (u3) {
      } else if (0 === t3) {
        u3 = true;
        if (!l3) {
          i3(0);
        }
      } else if (0 === t3.tag) {
        a2 = t3[0];
      } else {
        if (l3) {
          f3(1);
          f3 = e2;
        }
        if (!n2) {
          n2 = true;
          a2(0);
        } else {
          n2 = false;
        }
        !function applyInnerSource(e3) {
          l3 = true;
          e3((e4) => {
            if (!l3) {
            } else if (0 === e4) {
              l3 = false;
              if (u3) {
                i3(0);
              } else if (!n2) {
                n2 = true;
                a2(0);
              }
            } else if (0 === e4.tag) {
              s = false;
              (f3 = e4[0])(0);
            } else {
              i3(e4);
              if (!s) {
                f3(0);
              } else {
                s = false;
              }
            }
          });
        }(r3(t3[0]));
      }
    });
    i3(start((e3) => {
      if (1 === e3) {
        if (!u3) {
          u3 = true;
          a2(1);
        }
        if (l3) {
          l3 = false;
          f3(1);
        }
      } else {
        if (!u3 && !n2) {
          n2 = true;
          a2(0);
        }
        if (l3 && !s) {
          s = true;
          f3(0);
        }
      }
    }));
  };
}
function take(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    var f3 = false;
    var n2 = 0;
    t2((e3) => {
      if (f3) {
      } else if (0 === e3) {
        f3 = true;
        i3(0);
      } else if (0 === e3.tag) {
        if (r3 <= 0) {
          f3 = true;
          i3(0);
          e3[0](1);
        } else {
          a2 = e3[0];
        }
      } else if (n2++ < r3) {
        i3(e3);
        if (!f3 && n2 >= r3) {
          f3 = true;
          i3(0);
          a2(1);
        }
      } else {
        i3(e3);
      }
    });
    i3(start((e3) => {
      if (1 === e3 && !f3) {
        f3 = true;
        a2(1);
      } else if (0 === e3 && !f3 && n2 < r3) {
        a2(0);
      }
    }));
  };
}
function takeUntil(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    var f3 = e2;
    var n2 = false;
    t2((e3) => {
      if (n2) {
      } else if (0 === e3) {
        n2 = true;
        f3(1);
        i3(0);
      } else if (0 === e3.tag) {
        a2 = e3[0];
        r3((e4) => {
          if (0 === e4) {
          } else if (0 === e4.tag) {
            (f3 = e4[0])(0);
          } else {
            n2 = true;
            f3(1);
            a2(1);
            i3(0);
          }
        });
      } else {
        i3(e3);
      }
    });
    i3(start((e3) => {
      if (1 === e3 && !n2) {
        n2 = true;
        a2(1);
        f3(1);
      } else if (!n2) {
        a2(0);
      }
    }));
  };
}
function takeWhile(r3, t2) {
  return (i3) => (a2) => {
    var f3 = e2;
    var n2 = false;
    i3((e3) => {
      if (n2) {
      } else if (0 === e3) {
        n2 = true;
        a2(0);
      } else if (0 === e3.tag) {
        f3 = e3[0];
        a2(e3);
      } else if (!r3(e3[0])) {
        n2 = true;
        if (t2) {
          a2(e3);
        }
        a2(0);
        f3(1);
      } else {
        a2(e3);
      }
    });
  };
}
function lazy(e3) {
  return (r3) => e3()(r3);
}
function fromAsyncIterable(e3) {
  return (r3) => {
    var t2 = e3[asyncIteratorSymbol()] && e3[asyncIteratorSymbol()]() || e3;
    var i3 = false;
    var a2 = false;
    var f3 = false;
    var n2;
    r3(start(async (e4) => {
      if (1 === e4) {
        i3 = true;
        if (t2.return) {
          t2.return();
        }
      } else if (a2) {
        f3 = true;
      } else {
        for (f3 = a2 = true; f3 && !i3; ) {
          if ((n2 = await t2.next()).done) {
            i3 = true;
            if (t2.return) {
              await t2.return();
            }
            r3(0);
          } else {
            try {
              f3 = false;
              r3(push(n2.value));
            } catch (e5) {
              if (t2.throw) {
                if (i3 = !!(await t2.throw(e5)).done) {
                  r3(0);
                }
              } else {
                throw e5;
              }
            }
          }
        }
        a2 = false;
      }
    }));
  };
}
function fromIterable(e3) {
  if (e3[Symbol.asyncIterator]) {
    return fromAsyncIterable(e3);
  }
  return (r3) => {
    var t2 = e3[Symbol.iterator]();
    var i3 = false;
    var a2 = false;
    var f3 = false;
    var n2;
    r3(start((e4) => {
      if (1 === e4) {
        i3 = true;
        if (t2.return) {
          t2.return();
        }
      } else if (a2) {
        f3 = true;
      } else {
        for (f3 = a2 = true; f3 && !i3; ) {
          if ((n2 = t2.next()).done) {
            i3 = true;
            if (t2.return) {
              t2.return();
            }
            r3(0);
          } else {
            try {
              f3 = false;
              r3(push(n2.value));
            } catch (e5) {
              if (t2.throw) {
                if (i3 = !!t2.throw(e5).done) {
                  r3(0);
                }
              } else {
                throw e5;
              }
            }
          }
        }
        a2 = false;
      }
    }));
  };
}
var r = fromIterable;
function fromValue(e3) {
  return (r3) => {
    var t2 = false;
    r3(start((i3) => {
      if (1 === i3) {
        t2 = true;
      } else if (!t2) {
        t2 = true;
        r3(push(e3));
        r3(0);
      }
    }));
  };
}
function make(e3) {
  return (r3) => {
    var t2 = false;
    var i3 = e3({
      next(e4) {
        if (!t2) {
          r3(push(e4));
        }
      },
      complete() {
        if (!t2) {
          t2 = true;
          r3(0);
        }
      }
    });
    r3(start((e4) => {
      if (1 === e4 && !t2) {
        t2 = true;
        i3();
      }
    }));
  };
}
function makeSubject() {
  var e3;
  var r3;
  return {
    source: share(make((t2) => {
      e3 = t2.next;
      r3 = t2.complete;
      return teardownPlaceholder;
    })),
    next(r4) {
      if (e3) {
        e3(r4);
      }
    },
    complete() {
      if (r3) {
        r3();
      }
    }
  };
}
function subscribe(r3) {
  return (t2) => {
    var i3 = e2;
    var a2 = false;
    t2((e3) => {
      if (0 === e3) {
        a2 = true;
      } else if (0 === e3.tag) {
        (i3 = e3[0])(0);
      } else if (!a2) {
        r3(e3[0]);
        i3(0);
      }
    });
    return {
      unsubscribe() {
        if (!a2) {
          a2 = true;
          i3(1);
        }
      }
    };
  };
}
function publish(e3) {
  subscribe((e4) => {
  })(e3);
}
function toPromise(r3) {
  return new Promise((t2) => {
    var i3 = e2;
    var a2;
    r3((e3) => {
      if (0 === e3) {
        Promise.resolve(a2).then(t2);
      } else if (0 === e3.tag) {
        (i3 = e3[0])(0);
      } else {
        a2 = e3[0];
        i3(0);
      }
    });
  });
}
var pipe = (...e3) => {
  var r3 = e3[0];
  for (var t2 = 1, i3 = e3.length; t2 < i3; t2++) {
    r3 = e3[t2](r3);
  }
  return r3;
};

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@urql/core@6.0.1/node_modules/@urql/core/dist/urql-core-chunk.mjs
var rehydrateGraphQlError = (r3) => {
  if (r3 && "string" == typeof r3.message && (r3.extensions || "GraphQLError" === r3.name)) {
    return r3;
  } else if ("object" == typeof r3 && "string" == typeof r3.message) {
    return new GraphQLError(r3.message, r3.nodes, r3.source, r3.positions, r3.path, r3, r3.extensions || {});
  } else {
    return new GraphQLError(r3);
  }
};
var CombinedError = class extends Error {
  constructor(e3) {
    var r3 = (e3.graphQLErrors || []).map(rehydrateGraphQlError);
    var t2 = ((e4, r4) => {
      var t3 = "";
      if (e4) {
        return `[Network] ${e4.message}`;
      }
      if (r4) {
        for (var a2 = 0, n2 = r4.length; a2 < n2; a2++) {
          if (t3) {
            t3 += "\n";
          }
          t3 += `[GraphQL] ${r4[a2].message}`;
        }
      }
      return t3;
    })(e3.networkError, r3);
    super(t2);
    this.name = "CombinedError";
    this.message = t2;
    this.graphQLErrors = r3;
    this.networkError = e3.networkError;
    this.response = e3.response;
  }
  toString() {
    return this.message;
  }
};
var phash = (e3, r3) => {
  var t2 = 0 | (r3 || 5381);
  for (var a2 = 0, n2 = 0 | e3.length; a2 < n2; a2++) {
    t2 = (t2 << 5) + t2 + e3.charCodeAt(a2);
  }
  return t2;
};
var i2 = /* @__PURE__ */ new Set();
var f = /* @__PURE__ */ new WeakMap();
var stringify = (e3, r3) => {
  if (null === e3 || i2.has(e3)) {
    return "null";
  } else if ("object" != typeof e3) {
    return JSON.stringify(e3) || "";
  } else if (e3.toJSON) {
    return stringify(e3.toJSON(), r3);
  } else if (Array.isArray(e3)) {
    var t2 = "[";
    for (var a2 = 0, n2 = e3.length; a2 < n2; a2++) {
      if (t2.length > 1) {
        t2 += ",";
      }
      t2 += stringify(e3[a2], r3) || "null";
    }
    return t2 += "]";
  } else if (!r3 && (d2 !== NoopConstructor && e3 instanceof d2 || l !== NoopConstructor && e3 instanceof l)) {
    return "null";
  }
  var o2 = Object.keys(e3).sort();
  if (!o2.length && e3.constructor && Object.getPrototypeOf(e3).constructor !== Object.prototype.constructor) {
    var s = f.get(e3) || Math.random().toString(36).slice(2);
    f.set(e3, s);
    return stringify({
      __key: s
    }, r3);
  }
  i2.add(e3);
  var c3 = "{";
  for (var v3 = 0, u3 = o2.length; v3 < u3; v3++) {
    var p3 = stringify(e3[o2[v3]], r3);
    if (p3) {
      if (c3.length > 1) {
        c3 += ",";
      }
      c3 += stringify(o2[v3], r3) + ":" + p3;
    }
  }
  i2.delete(e3);
  return c3 += "}";
};
var extract = (e3, r3, t2) => {
  if (null == t2 || "object" != typeof t2 || t2.toJSON || i2.has(t2)) {
  } else if (Array.isArray(t2)) {
    for (var a2 = 0, n2 = t2.length; a2 < n2; a2++) {
      extract(e3, `${r3}.${a2}`, t2[a2]);
    }
  } else if (t2 instanceof d2 || t2 instanceof l) {
    e3.set(r3, t2);
  } else {
    i2.add(t2);
    for (var o2 in t2) {
      extract(e3, `${r3}.${o2}`, t2[o2]);
    }
  }
};
var stringifyVariables = (e3, r3) => {
  i2.clear();
  return stringify(e3, r3 || false);
};
var NoopConstructor = class {
};
var d2 = "undefined" != typeof File ? File : NoopConstructor;
var l = "undefined" != typeof Blob ? Blob : NoopConstructor;
var c = /("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g;
var v = /(?:#[^\n\r]+)?(?:[\r\n]+|$)/g;
var replaceOutsideStrings = (e3, r3) => r3 % 2 == 0 ? e3.replace(v, "\n") : e3;
var sanitizeDocument = (e3) => e3.split(c).map(replaceOutsideStrings).join("").trim();
var u2 = /* @__PURE__ */ new Map();
var p = /* @__PURE__ */ new Map();
var stringifyDocument = (e3) => {
  var t2;
  if ("string" == typeof e3) {
    t2 = sanitizeDocument(e3);
  } else if (e3.loc && p.get(e3.__key) === e3) {
    t2 = e3.loc.source.body;
  } else {
    t2 = u2.get(e3) || sanitizeDocument(print(e3));
    u2.set(e3, t2);
  }
  if ("string" != typeof e3 && !e3.loc) {
    e3.loc = {
      start: 0,
      end: t2.length,
      source: {
        body: t2,
        name: "gql",
        locationOffset: {
          line: 1,
          column: 1
        }
      }
    };
  }
  return t2;
};
var hashDocument = (e3) => {
  var r3;
  if (e3.documentId) {
    r3 = phash(e3.documentId);
  } else {
    r3 = phash(stringifyDocument(e3));
    if (e3.definitions) {
      var t2 = getOperationName(e3);
      if (t2) {
        r3 = phash(`
# ${t2}`, r3);
      }
    }
  }
  return r3;
};
var keyDocument = (e3) => {
  var r3;
  var t2;
  if ("string" == typeof e3) {
    r3 = hashDocument(e3);
    t2 = p.get(r3) || parse(e3, {
      noLocation: true
    });
  } else {
    r3 = e3.__key || hashDocument(e3);
    t2 = p.get(r3) || e3;
  }
  if (!t2.loc) {
    stringifyDocument(t2);
  }
  t2.__key = r3;
  p.set(r3, t2);
  return t2;
};
var createRequest = (e3, r3, t2) => {
  var a2 = r3 || {};
  var n2 = keyDocument(e3);
  var o2 = stringifyVariables(a2, true);
  var s = n2.__key;
  if ("{}" !== o2) {
    s = phash(o2, s);
  }
  return {
    key: s,
    query: n2,
    variables: a2,
    extensions: t2
  };
};
var getOperationName = (e3) => {
  for (var r3 = 0, a2 = e3.definitions.length; r3 < a2; r3++) {
    var n2 = e3.definitions[r3];
    if (n2.kind === e.OPERATION_DEFINITION) {
      return n2.name ? n2.name.value : void 0;
    }
  }
};
var makeResult = (e3, r3, t2) => {
  if (!("data" in r3 || "errors" in r3 && Array.isArray(r3.errors))) {
    throw new Error("No Content");
  }
  var a2 = "subscription" === e3.kind;
  return {
    operation: e3,
    data: r3.data,
    error: Array.isArray(r3.errors) ? new CombinedError({
      graphQLErrors: r3.errors,
      response: t2
    }) : void 0,
    extensions: r3.extensions ? {
      ...r3.extensions
    } : void 0,
    hasNext: null == r3.hasNext ? a2 : r3.hasNext,
    stale: false
  };
};
var deepMerge = (e3, r3) => {
  if ("object" == typeof e3 && null != e3) {
    if (Array.isArray(e3)) {
      e3 = [...e3];
      for (var t2 = 0, a2 = r3.length; t2 < a2; t2++) {
        e3[t2] = deepMerge(e3[t2], r3[t2]);
      }
      return e3;
    }
    if (!e3.constructor || e3.constructor === Object) {
      e3 = {
        ...e3
      };
      for (var n2 in r3) {
        e3[n2] = deepMerge(e3[n2], r3[n2]);
      }
      return e3;
    }
  }
  return r3;
};
var mergeResultPatch = (e3, r3, t2, a2) => {
  var n2 = e3.error ? e3.error.graphQLErrors : [];
  var o2 = !!e3.extensions || !!(r3.payload || r3).extensions;
  var s = {
    ...e3.extensions,
    ...(r3.payload || r3).extensions
  };
  var i3 = r3.incremental;
  if ("path" in r3) {
    i3 = [r3];
  }
  var f3 = {
    data: e3.data
  };
  if (i3) {
    var _loop = function() {
      var e4 = i3[d4];
      if (Array.isArray(e4.errors)) {
        n2.push(...e4.errors);
      }
      if (e4.extensions) {
        Object.assign(s, e4.extensions);
        o2 = true;
      }
      var r4 = "data";
      var t3 = f3;
      var l4 = [];
      if (e4.path) {
        l4 = e4.path;
      } else if (a2) {
        var c3 = a2.find((r5) => r5.id === e4.id);
        if (e4.subPath) {
          l4 = [...c3.path, ...e4.subPath];
        } else {
          l4 = c3.path;
        }
      }
      for (var v3 = 0, u3 = l4.length; v3 < u3; r4 = l4[v3++]) {
        t3 = t3[r4] = Array.isArray(t3[r4]) ? [...t3[r4]] : {
          ...t3[r4]
        };
      }
      if (e4.items) {
        var p3 = +r4 >= 0 ? r4 : 0;
        for (var h2 = 0, y2 = e4.items.length; h2 < y2; h2++) {
          t3[p3 + h2] = deepMerge(t3[p3 + h2], e4.items[h2]);
        }
      } else if (void 0 !== e4.data) {
        t3[r4] = deepMerge(t3[r4], e4.data);
      }
    };
    for (var d4 = 0, l3 = i3.length; d4 < l3; d4++) {
      _loop();
    }
  } else {
    f3.data = (r3.payload || r3).data || e3.data;
    n2 = r3.errors || r3.payload && r3.payload.errors || n2;
  }
  return {
    operation: e3.operation,
    data: f3.data,
    error: n2.length ? new CombinedError({
      graphQLErrors: n2,
      response: t2
    }) : void 0,
    extensions: o2 ? s : void 0,
    hasNext: null != r3.hasNext ? r3.hasNext : e3.hasNext,
    stale: false
  };
};
var makeErrorResult = (e3, r3, t2) => ({
  operation: e3,
  data: void 0,
  error: new CombinedError({
    networkError: r3,
    response: t2
  }),
  extensions: void 0,
  hasNext: false,
  stale: false
});
function makeFetchBody(e3) {
  var r3 = {
    query: void 0,
    documentId: void 0,
    operationName: getOperationName(e3.query),
    variables: e3.variables || void 0,
    extensions: e3.extensions
  };
  if ("documentId" in e3.query && e3.query.documentId && (!e3.query.definitions || !e3.query.definitions.length)) {
    r3.documentId = e3.query.documentId;
  } else if (!e3.extensions || !e3.extensions.persistedQuery || e3.extensions.persistedQuery.miss) {
    r3.query = stringifyDocument(e3.query);
  }
  return r3;
}
var makeFetchURL = (e3, r3) => {
  var t2 = "query" === e3.kind && e3.context.preferGetMethod;
  if (!t2 || !r3) {
    return e3.context.url;
  }
  var a2 = splitOutSearchParams(e3.context.url);
  for (var n2 in r3) {
    var o2 = r3[n2];
    if (o2) {
      a2[1].set(n2, "object" == typeof o2 ? stringifyVariables(o2) : o2);
    }
  }
  var s = a2.join("?");
  if (s.length > 2047 && "force" !== t2) {
    e3.context.preferGetMethod = false;
    return e3.context.url;
  }
  return s;
};
var splitOutSearchParams = (e3) => {
  var r3 = e3.indexOf("?");
  return r3 > -1 ? [e3.slice(0, r3), new URLSearchParams(e3.slice(r3 + 1))] : [e3, new URLSearchParams()];
};
var serializeBody = (e3, r3) => {
  if (r3 && !("query" === e3.kind && !!e3.context.preferGetMethod)) {
    var t2 = stringifyVariables(r3);
    var a2 = ((e4) => {
      var r4 = /* @__PURE__ */ new Map();
      if (d2 !== NoopConstructor || l !== NoopConstructor) {
        i2.clear();
        extract(r4, "variables", e4);
      }
      return r4;
    })(r3.variables);
    if (a2.size) {
      var n2 = new FormData();
      n2.append("operations", t2);
      n2.append("map", stringifyVariables({
        ...[...a2.keys()].map((e4) => [e4])
      }));
      var o2 = 0;
      for (var s of a2.values()) {
        n2.append("" + o2++, s);
      }
      return n2;
    }
    return t2;
  }
};
var makeFetchOptions = (e3, r3) => {
  var t2 = {
    accept: "subscription" === e3.kind ? "text/event-stream, multipart/mixed" : "application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"
  };
  var a2 = ("function" == typeof e3.context.fetchOptions ? e3.context.fetchOptions() : e3.context.fetchOptions) || {};
  if (a2.headers) {
    if (((e4) => "has" in e4 && !Object.keys(e4).length)(a2.headers)) {
      a2.headers.forEach((e4, r4) => {
        t2[r4] = e4;
      });
    } else if (Array.isArray(a2.headers)) {
      a2.headers.forEach((e4, r4) => {
        if (Array.isArray(e4)) {
          if (t2[e4[0]]) {
            t2[e4[0]] = `${t2[e4[0]]},${e4[1]}`;
          } else {
            t2[e4[0]] = e4[1];
          }
        } else {
          t2[r4] = e4;
        }
      });
    } else {
      for (var n2 in a2.headers) {
        t2[n2.toLowerCase()] = a2.headers[n2];
      }
    }
  }
  var o2 = serializeBody(e3, r3);
  if ("string" == typeof o2 && !t2["content-type"]) {
    t2["content-type"] = "application/json";
  }
  return {
    ...a2,
    method: o2 ? "POST" : "GET",
    body: o2,
    headers: t2
  };
};
var h = /boundary="?([^=";]+)"?/i;
var y = /data: ?([^\n]+)/;
async function* streamBody(e3) {
  if (e3.body[Symbol.asyncIterator]) {
    for await (var r3 of e3.body) {
      yield r3;
    }
  } else {
    var t2 = e3.body.getReader();
    var a2;
    try {
      while (!(a2 = await t2.read()).done) {
        yield a2.value;
      }
    } finally {
      t2.cancel();
    }
  }
}
async function* streamToBoundedChunks(e3, r3) {
  var t2 = "undefined" != typeof TextDecoder ? new TextDecoder() : null;
  var a2 = "";
  var n2;
  for await (var o2 of e3) {
    a2 += "Buffer" === o2.constructor.name ? o2.toString() : t2.decode(o2, {
      stream: true
    });
    while ((n2 = a2.indexOf(r3)) > -1) {
      yield a2.slice(0, n2);
      a2 = a2.slice(n2 + r3.length);
    }
  }
}
async function* fetchOperation(e3, r3, t2) {
  var a2 = true;
  var n2 = null;
  var o2;
  try {
    yield await Promise.resolve();
    var s = (o2 = await (e3.context.fetch || fetch)(r3, t2)).headers.get("Content-Type") || "";
    var i3;
    if (/multipart\/mixed/i.test(s)) {
      i3 = async function* parseMultipartMixed(e4, r4) {
        var t3 = e4.match(h);
        var a3 = "--" + (t3 ? t3[1] : "-");
        var n3 = true;
        var o3;
        for await (var s2 of streamToBoundedChunks(streamBody(r4), "\r\n" + a3)) {
          if (n3) {
            n3 = false;
            var i4 = s2.indexOf(a3);
            if (i4 > -1) {
              s2 = s2.slice(i4 + a3.length);
            } else {
              continue;
            }
          }
          try {
            yield o3 = JSON.parse(s2.slice(s2.indexOf("\r\n\r\n") + 4));
          } catch (e5) {
            if (!o3) {
              throw e5;
            }
          }
          if (o3 && false === o3.hasNext) {
            break;
          }
        }
        if (o3 && false !== o3.hasNext) {
          yield {
            hasNext: false
          };
        }
      }(s, o2);
    } else if (/text\/event-stream/i.test(s)) {
      i3 = async function* parseEventStream(e4) {
        var r4;
        for await (var t3 of streamToBoundedChunks(streamBody(e4), "\n\n")) {
          var a3 = t3.match(y);
          if (a3) {
            var n3 = a3[1];
            try {
              yield r4 = JSON.parse(n3);
            } catch (e5) {
              if (!r4) {
                throw e5;
              }
            }
            if (r4 && false === r4.hasNext) {
              break;
            }
          }
        }
        if (r4 && false !== r4.hasNext) {
          yield {
            hasNext: false
          };
        }
      }(o2);
    } else if (!/text\//i.test(s)) {
      i3 = async function* parseJSON(e4) {
        yield JSON.parse(await e4.text());
      }(o2);
    } else {
      i3 = async function* parseMaybeJSON(e4) {
        var r4 = await e4.text();
        try {
          var t3 = JSON.parse(r4);
          if (false) {
            console.warn('Found response with content-type "text/plain" but it had a valid "application/json" response.');
          }
          yield t3;
        } catch (e5) {
          throw new Error(r4);
        }
      }(o2);
    }
    var f3;
    for await (var d4 of i3) {
      if (d4.pending && !n2) {
        f3 = d4.pending;
      } else if (d4.pending) {
        f3 = [...f3, ...d4.pending];
      }
      n2 = n2 ? mergeResultPatch(n2, d4, o2, f3) : makeResult(e3, d4, o2);
      a2 = false;
      yield n2;
      a2 = true;
    }
    if (!n2) {
      yield n2 = makeResult(e3, {}, o2);
    }
  } catch (r4) {
    if (!a2) {
      throw r4;
    }
    yield makeErrorResult(e3, o2 && (o2.status < 200 || o2.status >= 300) && o2.statusText ? new Error(o2.statusText) : r4, o2);
  }
}
function makeFetchSource(e3, r3, t2) {
  var a2;
  if ("undefined" != typeof AbortController) {
    t2.signal = (a2 = new AbortController()).signal;
  }
  return onEnd(() => {
    if (a2) {
      a2.abort();
    }
  })(filter((e4) => !!e4)(fromAsyncIterable(fetchOperation(e3, r3, t2))));
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@urql/core@6.0.1/node_modules/@urql/core/dist/urql-core.mjs
var collectTypes = (e3, r3) => {
  if (Array.isArray(e3)) {
    for (var t2 = 0, n2 = e3.length; t2 < n2; t2++) {
      collectTypes(e3[t2], r3);
    }
  } else if ("object" == typeof e3 && null !== e3) {
    for (var a2 in e3) {
      if ("__typename" === a2 && "string" == typeof e3[a2]) {
        r3.add(e3[a2]);
      } else {
        collectTypes(e3[a2], r3);
      }
    }
  }
  return r3;
};
var formatNode = (r3) => {
  if ("definitions" in r3) {
    var t2 = [];
    for (var n2 = 0, a2 = r3.definitions.length; n2 < a2; n2++) {
      var i3 = formatNode(r3.definitions[n2]);
      t2.push(i3);
    }
    return {
      ...r3,
      definitions: t2
    };
  }
  if ("directives" in r3 && r3.directives && r3.directives.length) {
    var o2 = [];
    var s = {};
    for (var c3 = 0, u3 = r3.directives.length; c3 < u3; c3++) {
      var p3 = r3.directives[c3];
      var d4 = p3.name.value;
      if ("_" !== d4[0]) {
        o2.push(p3);
      } else {
        d4 = d4.slice(1);
      }
      s[d4] = p3;
    }
    r3 = {
      ...r3,
      directives: o2,
      _directives: s
    };
  }
  if ("selectionSet" in r3) {
    var l3 = [];
    var v3 = r3.kind === e.OPERATION_DEFINITION;
    if (r3.selectionSet) {
      for (var f3 = 0, h2 = r3.selectionSet.selections.length; f3 < h2; f3++) {
        var k = r3.selectionSet.selections[f3];
        v3 = v3 || k.kind === e.FIELD && "__typename" === k.name.value && !k.alias;
        var y2 = formatNode(k);
        l3.push(y2);
      }
      if (!v3) {
        l3.push({
          kind: e.FIELD,
          name: {
            kind: e.NAME,
            value: "__typename"
          },
          _generated: true
        });
      }
      return {
        ...r3,
        selectionSet: {
          ...r3.selectionSet,
          selections: l3
        }
      };
    }
  }
  return r3;
};
var I = /* @__PURE__ */ new Map();
var formatDocument = (e3) => {
  var t2 = keyDocument(e3);
  var n2 = I.get(t2.__key);
  if (!n2) {
    I.set(t2.__key, n2 = formatNode(t2));
    Object.defineProperty(n2, "__key", {
      value: t2.__key,
      enumerable: false
    });
  }
  return n2;
};
function withPromise(e3) {
  var source$ = (r3) => e3(r3);
  source$.toPromise = () => toPromise(take(1)(filter((e4) => !e4.stale && !e4.hasNext)(source$)));
  source$.then = (e4, r3) => source$.toPromise().then(e4, r3);
  source$.subscribe = (e4) => subscribe(e4)(source$);
  return source$;
}
function makeOperation(e3, r3, t2) {
  return {
    ...r3,
    kind: e3,
    context: r3.context ? {
      ...r3.context,
      ...t2
    } : t2 || r3.context
  };
}
var addMetadata = (e3, r3) => makeOperation(e3.kind, e3, {
  meta: {
    ...e3.context.meta,
    ...r3
  }
});
var noop = () => {
};
var shouldSkip = ({ kind: e3 }) => "mutation" !== e3 && "query" !== e3;
var mapTypeNames = (e3) => {
  var r3 = formatDocument(e3.query);
  if (r3 !== e3.query) {
    var t2 = makeOperation(e3.kind, e3);
    t2.query = r3;
    return t2;
  } else {
    return e3;
  }
};
var cacheExchange = ({ forward: e3, client: r3, dispatchDebug: t2 }) => {
  var a2 = /* @__PURE__ */ new Map();
  var i3 = /* @__PURE__ */ new Map();
  var isOperationCached = (e4) => "query" === e4.kind && "network-only" !== e4.context.requestPolicy && ("cache-only" === e4.context.requestPolicy || a2.has(e4.key));
  return (o2) => {
    var s = map((e4) => {
      var i4 = a2.get(e4.key);
      var o3 = i4 || makeResult(e4, {
        data: null
      });
      o3 = {
        ...o3,
        operation: addMetadata(e4, {
          cacheOutcome: i4 ? "hit" : "miss"
        })
      };
      if ("cache-and-network" === e4.context.requestPolicy) {
        o3.stale = true;
        reexecuteOperation(r3, e4);
      }
      return o3;
    })(filter((e4) => !shouldSkip(e4) && isOperationCached(e4))(o2));
    var c3 = onPush((e4) => {
      var { operation: n2 } = e4;
      if (!n2) {
        return;
      }
      var o3 = n2.context.additionalTypenames || [];
      if ("subscription" !== e4.operation.kind) {
        o3 = ((e5) => [...collectTypes(e5, /* @__PURE__ */ new Set())])(e4.data).concat(o3);
      }
      if ("mutation" === e4.operation.kind || "subscription" === e4.operation.kind) {
        var s2 = /* @__PURE__ */ new Set();
        for (var c4 = 0; c4 < o3.length; c4++) {
          var u3 = o3[c4];
          var p3 = i3.get(u3);
          if (!p3) {
            i3.set(u3, p3 = /* @__PURE__ */ new Set());
          }
          for (var d4 of p3.values()) {
            s2.add(d4);
          }
          p3.clear();
        }
        for (var l3 of s2.values()) {
          if (a2.has(l3)) {
            n2 = a2.get(l3).operation;
            a2.delete(l3);
            reexecuteOperation(r3, n2);
          }
        }
      } else if ("query" === n2.kind && e4.data) {
        a2.set(n2.key, e4);
        for (var v3 = 0; v3 < o3.length; v3++) {
          var f3 = o3[v3];
          var h2 = i3.get(f3);
          if (!h2) {
            i3.set(f3, h2 = /* @__PURE__ */ new Set());
          }
          h2.add(n2.key);
        }
      }
    })(e3(filter((e4) => "query" !== e4.kind || "cache-only" !== e4.context.requestPolicy)(map((e4) => addMetadata(e4, {
      cacheOutcome: "miss"
    }))(merge([map(mapTypeNames)(filter((e4) => !shouldSkip(e4) && !isOperationCached(e4))(o2)), filter((e4) => shouldSkip(e4))(o2)])))));
    return merge([s, c3]);
  };
};
var reexecuteOperation = (e3, r3) => e3.reexecuteOperation(makeOperation(r3.kind, r3, {
  requestPolicy: "network-only"
}));
var fetchExchange = ({ forward: e3, dispatchDebug: r3 }) => (t2) => {
  var n2 = mergeMap((e4) => {
    var n3 = makeFetchBody(e4);
    var a3 = makeFetchURL(e4, n3);
    var i3 = makeFetchOptions(e4, n3);
    var s = takeUntil(filter((r4) => "teardown" === r4.kind && r4.key === e4.key)(t2))(makeFetchSource(e4, a3, i3));
    if (false) {
      return onPush((t3) => {
        var n4 = !t3.data ? t3.error : void 0;
      })(s);
    }
    return s;
  })(filter((e4) => "teardown" !== e4.kind && ("subscription" !== e4.kind || !!e4.context.fetchSubscriptions))(t2));
  var a2 = e3(filter((e4) => "teardown" === e4.kind || "subscription" === e4.kind && !e4.context.fetchSubscriptions)(t2));
  return merge([n2, a2]);
};
var composeExchanges = (e3) => ({ client: r3, forward: t2, dispatchDebug: n2 }) => e3.reduceRight((e4, t3) => {
  var a2 = false;
  return t3({
    client: r3,
    forward(r4) {
      if (false) {
        if (a2) {
          throw new Error("forward() must only be called once in each Exchange.");
        }
        a2 = true;
      }
      return share(e4(share(r4)));
    },
    dispatchDebug(e5) {
    }
  });
}, t2);
var fallbackExchange = ({ dispatchDebug: e3 }) => (r3) => {
  if (false) {
    r3 = onPush((r4) => {
      if ("teardown" !== r4.kind && false) {
        var t2 = `No exchange has handled operations of kind "${r4.kind}". Check whether you've added an exchange responsible for these operations.`;
        console.warn(t2);
      }
    })(r3);
  }
  return filter((e4) => false)(r3);
};
var C = function Client(e3) {
  if (false) {
    throw new Error("You are creating an urql-client without a url.");
  }
  var r3 = 0;
  var t2 = /* @__PURE__ */ new Map();
  var n2 = /* @__PURE__ */ new Map();
  var a2 = /* @__PURE__ */ new Set();
  var i3 = [];
  var o2 = {
    url: e3.url,
    fetchSubscriptions: e3.fetchSubscriptions,
    fetchOptions: e3.fetchOptions,
    fetch: e3.fetch,
    preferGetMethod: null != e3.preferGetMethod ? e3.preferGetMethod : "within-url-limit",
    requestPolicy: e3.requestPolicy || "cache-first"
  };
  var s = makeSubject();
  function nextOperation(e4) {
    if ("mutation" === e4.kind || "teardown" === e4.kind || !a2.has(e4.key)) {
      if ("teardown" === e4.kind) {
        a2.delete(e4.key);
      } else if ("mutation" !== e4.kind) {
        a2.add(e4.key);
      }
      s.next(e4);
    }
  }
  var c3 = false;
  function dispatchOperation(e4) {
    if (e4) {
      nextOperation(e4);
    }
    if (!c3) {
      c3 = true;
      while (c3 && (e4 = i3.shift())) {
        nextOperation(e4);
      }
      c3 = false;
    }
  }
  var makeResultSource = (e4) => {
    var r4 = takeUntil(filter((r5) => "teardown" === r5.kind && r5.key === e4.key)(s.source))(filter((r5) => r5.operation.kind === e4.kind && r5.operation.key === e4.key && (!r5.operation.context._instance || r5.operation.context._instance === e4.context._instance))(E));
    if ("query" !== e4.kind) {
      r4 = takeWhile((e5) => !!e5.hasNext, true)(r4);
    } else {
      r4 = switchMap((r5) => {
        var t3 = fromValue(r5);
        return r5.stale || r5.hasNext ? t3 : merge([t3, map(() => {
          r5.stale = true;
          return r5;
        })(take(1)(filter((r6) => r6.key === e4.key)(s.source)))]);
      })(r4);
    }
    if ("mutation" !== e4.kind) {
      r4 = onEnd(() => {
        a2.delete(e4.key);
        t2.delete(e4.key);
        n2.delete(e4.key);
        c3 = false;
        for (var r5 = i3.length - 1; r5 >= 0; r5--) {
          if (i3[r5].key === e4.key) {
            i3.splice(r5, 1);
          }
        }
        nextOperation(makeOperation("teardown", e4, e4.context));
      })(onPush((r5) => {
        if (r5.stale) {
          if (!r5.hasNext) {
            a2.delete(e4.key);
          } else {
            for (var n3 = 0; n3 < i3.length; n3++) {
              var o3 = i3[n3];
              if (o3.key === r5.operation.key) {
                a2.delete(o3.key);
                break;
              }
            }
          }
        } else if (!r5.hasNext) {
          a2.delete(e4.key);
        }
        t2.set(e4.key, r5);
      })(r4));
    } else {
      r4 = onStart(() => {
        nextOperation(e4);
      })(r4);
    }
    return share(r4);
  };
  var u3 = this instanceof Client ? this : Object.create(Client.prototype);
  var p3 = Object.assign(u3, {
    suspense: !!e3.suspense,
    operations$: s.source,
    reexecuteOperation(e4) {
      if ("teardown" === e4.kind) {
        dispatchOperation(e4);
      } else if ("mutation" === e4.kind) {
        i3.push(e4);
        Promise.resolve().then(dispatchOperation);
      } else if (n2.has(e4.key)) {
        var r4 = false;
        for (var t3 = 0; t3 < i3.length; t3++) {
          if (i3[t3].key === e4.key) {
            i3[t3] = e4;
            r4 = true;
          }
        }
        if (!(r4 || a2.has(e4.key) && "network-only" !== e4.context.requestPolicy)) {
          i3.push(e4);
          Promise.resolve().then(dispatchOperation);
        } else {
          a2.delete(e4.key);
          Promise.resolve().then(dispatchOperation);
        }
      }
    },
    createRequestOperation(e4, t3, n3) {
      if (!n3) {
        n3 = {};
      }
      var a3;
      if (false) {
        throw new Error(`Expected operation of type "${e4}" but found "${a3}"`);
      }
      return makeOperation(e4, t3, {
        _instance: "mutation" === e4 ? r3 = r3 + 1 | 0 : void 0,
        ...o2,
        ...n3,
        requestPolicy: n3.requestPolicy || o2.requestPolicy,
        suspense: n3.suspense || false !== n3.suspense && p3.suspense
      });
    },
    executeRequestOperation(e4) {
      if ("mutation" === e4.kind) {
        return withPromise(makeResultSource(e4));
      }
      return withPromise(lazy(() => {
        var r4 = n2.get(e4.key);
        if (!r4) {
          n2.set(e4.key, r4 = makeResultSource(e4));
        }
        r4 = onStart(() => {
          dispatchOperation(e4);
        })(r4);
        var a3 = t2.get(e4.key);
        if ("query" === e4.kind && a3 && (a3.stale || a3.hasNext)) {
          return switchMap(fromValue)(merge([r4, filter((r5) => r5 === t2.get(e4.key))(fromValue(a3))]));
        } else {
          return r4;
        }
      }));
    },
    executeQuery(e4, r4) {
      var t3 = p3.createRequestOperation("query", e4, r4);
      return p3.executeRequestOperation(t3);
    },
    executeSubscription(e4, r4) {
      var t3 = p3.createRequestOperation("subscription", e4, r4);
      return p3.executeRequestOperation(t3);
    },
    executeMutation(e4, r4) {
      var t3 = p3.createRequestOperation("mutation", e4, r4);
      return p3.executeRequestOperation(t3);
    },
    readQuery(e4, r4, t3) {
      var n3 = null;
      subscribe((e5) => {
        n3 = e5;
      })(p3.query(e4, r4, t3)).unsubscribe();
      return n3;
    },
    query: (e4, r4, t3) => p3.executeQuery(createRequest(e4, r4), t3),
    subscription: (e4, r4, t3) => p3.executeSubscription(createRequest(e4, r4), t3),
    mutation: (e4, r4, t3) => p3.executeMutation(createRequest(e4, r4), t3)
  });
  var d4 = noop;
  if (false) {
    var { next: f3, source: x } = makeSubject();
    p3.subscribeToDebugTarget = (e4) => subscribe(e4)(x);
    d4 = f3;
  }
  var w = composeExchanges(e3.exchanges);
  var E = share(w({
    client: p3,
    dispatchDebug: d4,
    forward: fallbackExchange({
      dispatchDebug: d4
    })
  })(s.source));
  publish(E);
  return p3;
};
var Q = C;

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/urql@5.0.1_@urql+core@6.0.1_react@18.3.1/node_modules/urql/dist/urql.es.js
var r2 = __toESM(require_react());
var c2 = {};
var v2 = r2.createContext(c2);
var f2 = v2.Provider;
var l2 = v2.Consumer;
v2.displayName = "UrqlContext";
var useClient = () => {
  var e3 = r2.useContext(v2);
  if (e3 === c2 && false) {
    var t2 = "No client has been specified using urql's Provider. please create a client and add a Provider.";
    console.error(t2);
    throw new Error(t2);
  }
  return e3;
};
var d3 = {
  fetching: false,
  stale: false,
  hasNext: false,
  error: void 0,
  data: void 0,
  extensions: void 0,
  operation: void 0
};
var areOperationsEqual = (e3, r3) => e3 === r3 || !(!e3 || !r3 || e3.key !== r3.key);
var computeNextState = (e3, r3) => {
  var t2 = {
    ...e3,
    ...r3,
    data: void 0 !== r3.data || r3.error ? r3.data : e3.data,
    fetching: !!r3.fetching,
    stale: !!r3.stale
  };
  return ((e4, r4) => {
    for (var t3 in e4) {
      if (!(t3 in r4)) {
        return true;
      }
    }
    for (var a2 in r4) {
      if ("operation" === a2 ? !areOperationsEqual(e4[a2], r4[a2]) : e4[a2] !== r4[a2]) {
        return true;
      }
    }
    return false;
  })(e3, t2) ? t2 : e3;
};
var hasDepsChanged = (e3, r3) => {
  for (var t2 = 0, a2 = r3.length; t2 < a2; t2++) {
    if (e3[t2] !== r3[t2]) {
      return true;
    }
  }
  return false;
};
var p2 = false;
function deferDispatch(e3, r3) {
  if (!p2 || void 0 === r3) {
    try {
      p2 = true;
      return e3(r3);
    } finally {
      p2 = false;
    }
  } else {
    Promise.resolve(r3).then(e3);
  }
}
function useMutation(i3) {
  var s = r2.useRef(true);
  var o2 = useClient();
  var [c3, v3] = r2.useState(d3);
  var f3 = r2.useCallback((r3, c4) => {
    deferDispatch(v3, {
      ...d3,
      fetching: true
    });
    return toPromise(take(1)(filter((e3) => !e3.hasNext)(onPush((e3) => {
      if (s.current) {
        deferDispatch(v3, {
          fetching: false,
          stale: e3.stale,
          data: e3.data,
          error: e3.error,
          extensions: e3.extensions,
          operation: e3.operation,
          hasNext: e3.hasNext
        });
      }
    })(o2.executeMutation(createRequest(i3, r3), c4 || {})))));
  }, [o2, i3, v3]);
  r2.useEffect(() => {
    s.current = true;
    return () => {
      s.current = false;
    };
  }, []);
  return [c3, f3];
}
function useRequest(t2, a2) {
  var n2 = r2.useRef(void 0);
  return r2.useMemo(() => {
    var r3 = createRequest(t2, a2);
    if (void 0 !== n2.current && n2.current.key === r3.key) {
      return n2.current;
    } else {
      n2.current = r3;
      return r3;
    }
  }, [t2, a2]);
}
var getCacheForClient = (e3) => {
  if (!e3._react) {
    var r3 = /* @__PURE__ */ new Set();
    var t2 = /* @__PURE__ */ new Map();
    if (e3.operations$) {
      subscribe((e4) => {
        if ("teardown" === e4.kind && r3.has(e4.key)) {
          r3.delete(e4.key);
          t2.delete(e4.key);
        }
      })(e3.operations$);
    }
    e3._react = {
      get: (e4) => t2.get(e4),
      set(e4, a2) {
        r3.delete(e4);
        t2.set(e4, a2);
      },
      dispose(e4) {
        r3.add(e4);
      }
    };
  }
  return e3._react;
};
var isSuspense = (e3, r3) => r3 && void 0 !== r3.suspense ? !!r3.suspense : e3.suspense;
function useQuery(e3) {
  var t2 = useClient();
  var a2 = getCacheForClient(t2);
  var n2 = isSuspense(t2, e3.context);
  var c3 = useRequest(e3.query, e3.variables);
  var v3 = r2.useMemo(() => {
    if (e3.pause) {
      return null;
    }
    var r3 = t2.executeQuery(c3, {
      requestPolicy: e3.requestPolicy,
      ...e3.context
    });
    return n2 ? onPush((e4) => {
      a2.set(c3.key, e4);
    })(r3) : r3;
  }, [a2, t2, c3, n2, e3.pause, e3.requestPolicy, e3.context]);
  var f3 = r2.useCallback((e4, r3) => {
    if (!e4) {
      return {
        fetching: false
      };
    }
    var t3 = a2.get(c3.key);
    if (!t3) {
      var n3;
      var u3 = subscribe((e5) => {
        t3 = e5;
        if (n3) {
          n3(t3);
        }
      })(takeWhile(() => r3 && !n3 || !t3 || "hasNext" in t3 && t3.hasNext)(e4));
      if (null == t3 && r3) {
        var o2 = new Promise((e5) => {
          n3 = e5;
        });
        a2.set(c3.key, o2);
        throw o2;
      } else {
        u3.unsubscribe();
      }
    } else if (r3 && null != t3 && "then" in t3) {
      throw t3;
    }
    return t3 || {
      fetching: true
    };
  }, [a2, c3]);
  var l3 = [t2, c3, e3.requestPolicy, e3.context, e3.pause];
  var [p3, h2] = r2.useState(() => [v3, computeNextState(d3, deferDispatch(() => f3(v3, n2))), l3]);
  var x = p3[1];
  if (v3 !== p3[0] && hasDepsChanged(p3[2], l3)) {
    h2([v3, x = computeNextState(p3[1], deferDispatch(() => f3(v3, n2))), l3]);
  }
  r2.useEffect(() => {
    var e4 = p3[0];
    var r3 = p3[2][1];
    var t3 = false;
    var updateResult = (e5) => {
      t3 = true;
      deferDispatch(h2, (r4) => {
        var t4 = computeNextState(r4[1], e5);
        return r4[1] !== t4 ? [r4[0], t4, r4[2]] : r4;
      });
    };
    if (e4) {
      var n3 = subscribe(updateResult)(onEnd(() => {
        updateResult({
          fetching: false
        });
      })(e4));
      if (!t3) {
        updateResult({
          fetching: true
        });
      }
      return () => {
        a2.dispose(r3.key);
        n3.unsubscribe();
      };
    } else {
      updateResult({
        fetching: false
      });
    }
  }, [a2, p3[0], p3[2][1]]);
  var y2 = r2.useCallback((r3) => {
    var i3 = {
      requestPolicy: e3.requestPolicy,
      ...e3.context,
      ...r3
    };
    deferDispatch(h2, (e4) => [n2 ? onPush((e5) => {
      a2.set(c3.key, e5);
    })(t2.executeQuery(c3, i3)) : t2.executeQuery(c3, i3), e4[1], l3]);
  }, [t2, a2, c3, n2, e3.requestPolicy, e3.context, e3.pause]);
  return [x, y2];
}

// public/pages/LoginPage.tsx
var import_react3 = __toESM(require_react());

// public/components/LoginForm.tsx
var import_react2 = __toESM(require_react());

// public/context/AuthContext.tsx
var import_react = __toESM(require_react());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/firebase@10.14.1_@firebase+app@0.10.13_@firebase+app-compat@0.2.43_@firebase+app-types@0.9.2/node_modules/firebase/app/dist/esm/index.esm.js
init_index_esm20174();
init_index_esm20174();
var name3 = "firebase";
var version2 = "10.14.1";
registerVersion(name3, version2, "app");

// public/firebase/auth.ts
init_index_esm();

// public/firebase/config.ts
var firebaseConfig = {
  apiKey: "AIzaSyD7lz5N0CNyyHB9OdNujQ84IdPkKLSurUc",
  authDomain: "deno-906b2.firebaseapp.com",
  projectId: "deno-906b2",
  storageBucket: "deno-906b2.firebasestorage.app",
  messagingSenderId: "213727809596",
  appId: "1:213727809596:web:a01e0fb18e8d06a4e2b339",
  measurementId: "G-J0T3T158J6"
};

// public/firebase/auth.ts
var app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];
var auth = getAuth(app);
async function firebaseSignup(email, password) {
  try {
    const userCredential = await createUserWithEmailAndPassword(
      auth,
      email,
      password
    );
    const user = userCredential.user;
    await sendEmailVerification(user);
    return {
      success: true,
      message: "\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002\u30E1\u30FC\u30EB\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",
      user
    };
  } catch (error2) {
    const firebaseError = error2;
    let message = "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    switch (firebaseError.code) {
      case "auth/email-already-in-use":
        message = "\u3053\u306E\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306F\u65E2\u306B\u4F7F\u7528\u3055\u308C\u3066\u3044\u307E\u3059";
        break;
      case "auth/invalid-email":
        message = "\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u3059";
        break;
      case "auth/weak-password":
        message = "\u30D1\u30B9\u30EF\u30FC\u30C9\u306F6\u6587\u5B57\u4EE5\u4E0A\u306B\u3057\u3066\u304F\u3060\u3055\u3044";
        break;
      default:
        message = firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    }
    return { success: false, message };
  }
}
async function firebaseLogin(email, password) {
  try {
    const userCredential = await signInWithEmailAndPassword(
      auth,
      email,
      password
    );
    const user = userCredential.user;
    await user.reload();
    if (!user.emailVerified) {
      await signOut(auth);
      return {
        success: false,
        message: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u304C\u78BA\u8A8D\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"
      };
    }
    return {
      success: true,
      message: "\u30ED\u30B0\u30A4\u30F3\u3057\u307E\u3057\u305F",
      user
    };
  } catch (error2) {
    const firebaseError = error2;
    let message = "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    switch (firebaseError.code) {
      case "auth/user-not-found":
        message = "\u30E6\u30FC\u30B6\u30FC\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093";
        break;
      case "auth/wrong-password":
        message = "\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u9593\u9055\u3063\u3066\u3044\u307E\u3059";
        break;
      case "auth/invalid-credential":
        message = "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u307E\u305F\u306F\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u9593\u9055\u3063\u3066\u3044\u307E\u3059";
        break;
      case "auth/invalid-email":
        message = "\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u3059";
        break;
      case "auth/user-disabled":
        message = "\u3053\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u306F\u7121\u52B9\u5316\u3055\u308C\u3066\u3044\u307E\u3059";
        break;
      case "auth/too-many-requests":
        message = "\u30ED\u30B0\u30A4\u30F3\u8A66\u884C\u56DE\u6570\u304C\u591A\u3059\u304E\u307E\u3059\u3002\u3057\u3070\u3089\u304F\u5F85\u3063\u3066\u304B\u3089\u518D\u8A66\u884C\u3057\u3066\u304F\u3060\u3055\u3044";
        break;
      default:
        console.error("Unknown error code:", firebaseError.code);
        message = firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    }
    return { success: false, message };
  }
}
async function firebaseLogout() {
  await signOut(auth);
}
function onAuthChange(callback) {
  return onAuthStateChanged(auth, callback);
}
async function resendVerificationEmail() {
  const user = auth.currentUser;
  if (!user) {
    return { success: false, message: "\u30ED\u30B0\u30A4\u30F3\u3057\u3066\u3044\u307E\u305B\u3093" };
  }
  try {
    await sendEmailVerification(user);
    return { success: true, message: "\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u518D\u9001\u4FE1\u3057\u307E\u3057\u305F" };
  } catch (error2) {
    const firebaseError = error2;
    return {
      success: false,
      message: firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"
    };
  }
}
async function sendPasswordReset(email) {
  try {
    await sendPasswordResetEmail(auth, email);
    return {
      success: true,
      message: "\u30D1\u30B9\u30EF\u30FC\u30C9\u30EA\u30BB\u30C3\u30C8\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002\u30E1\u30FC\u30EB\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"
    };
  } catch (error2) {
    const firebaseError = error2;
    let message = "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    switch (firebaseError.code) {
      case "auth/user-not-found":
        message = "\u3053\u306E\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306F\u767B\u9332\u3055\u308C\u3066\u3044\u307E\u305B\u3093";
        break;
      case "auth/invalid-email":
        message = "\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u3059";
        break;
      default:
        message = firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    }
    return { success: false, message };
  }
}

// public/context/AuthContext.tsx
var import_jsx_runtime = __toESM(require_jsx_runtime());
var AuthContext = (0, import_react.createContext)(null);
function toAuthUser(firebaseUser) {
  return {
    id: firebaseUser.uid,
    name: firebaseUser.displayName || "",
    email: firebaseUser.email || "",
    emailVerified: firebaseUser.emailVerified
  };
}
function AuthProvider({ children }) {
  const [firebaseUser, setFirebaseUser] = (0, import_react.useState)(null);
  const [user, setUser] = (0, import_react.useState)(null);
  const [isLoading, setIsLoading] = (0, import_react.useState)(true);
  (0, import_react.useEffect)(() => {
    const unsubscribe = onAuthChange((fbUser) => {
      setFirebaseUser(fbUser);
      if (fbUser) {
        setUser(toAuthUser(fbUser));
      } else {
        setUser(null);
      }
      setIsLoading(false);
    });
    return () => unsubscribe();
  }, []);
  const signup = (0, import_react.useCallback)(
    async (name5, email, password) => {
      setIsLoading(true);
      try {
        const result = await firebaseSignup(email, password);
        if (result.success && result.user) {
          const { updateProfile: updateProfile2 } = await Promise.resolve().then(() => (init_index_esm(), index_esm_exports));
          await updateProfile2(result.user, { displayName: name5 });
          setUser({
            id: result.user.uid,
            name: name5,
            email: result.user.email || "",
            emailVerified: result.user.emailVerified
          });
        }
        return { success: result.success, message: result.message };
      } catch (error2) {
        return {
          success: false,
          message: error2 instanceof Error ? error2.message : "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"
        };
      } finally {
        setIsLoading(false);
      }
    },
    []
  );
  const login = (0, import_react.useCallback)(
    async (email, password) => {
      setIsLoading(true);
      try {
        const result = await firebaseLogin(email, password);
        return { success: result.success, message: result.message };
      } catch (error2) {
        return {
          success: false,
          message: error2 instanceof Error ? error2.message : "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"
        };
      } finally {
        setIsLoading(false);
      }
    },
    []
  );
  const logout = (0, import_react.useCallback)(async () => {
    await firebaseLogout();
    setUser(null);
    setFirebaseUser(null);
  }, []);
  const resendVerification = (0, import_react.useCallback)(async () => {
    return await resendVerificationEmail();
  }, []);
  const isAuthenticated = user !== null && user.emailVerified;
  const value2 = {
    user,
    firebaseUser,
    isLoading,
    isAuthenticated,
    signup,
    login,
    logout,
    resendVerification
  };
  return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(AuthContext.Provider, { value: value2, children });
}
function useAuth() {
  const context = (0, import_react.useContext)(AuthContext);
  if (!context) {
    throw new Error("useAuth must be used within an AuthProvider");
  }
  return context;
}

// public/components/button/button.tsx
var import_jsx_runtime2 = __toESM(require_jsx_runtime());
function Button({ children, className, type: type2 = "button", disabled = false, onClick }) {
  return /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
    "button",
    {
      type: type2,
      disabled,
      onClick,
      className: `px-6 py-3 bg-gray-600 text-white font-semibold rounded-md hover:bg-gray-700 transition-all duration-200 relative overflow-hidden group active:scale-95 transform ${className}`,
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("span", { className: "relative z-10", children }),
        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("span", { className: "absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-200" })
      ]
    }
  );
}

// public/components/input/input.tsx
var React3 = __toESM(require_react());
var import_jsx_runtime3 = __toESM(require_jsx_runtime());
var MailIcon = () => /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
  "svg",
  {
    className: "w-5 h-5",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24",
    children: /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        strokeWidth: 2,
        d: "M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
      }
    )
  }
);
var LockIcon = () => /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
  "svg",
  {
    className: "w-5 h-5",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24",
    children: /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        strokeWidth: 2,
        d: "M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
      }
    )
  }
);
var EyeIcon = () => /* @__PURE__ */ (0, import_jsx_runtime3.jsxs)(
  "svg",
  {
    className: "w-5 h-5",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24",
    children: [
      /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
        "path",
        {
          strokeLinecap: "round",
          strokeLinejoin: "round",
          strokeWidth: 2,
          d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
        }
      )
    ]
  }
);
var EyeOffIcon = () => /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
  "svg",
  {
    className: "w-5 h-5",
    fill: "none",
    stroke: "currentColor",
    viewBox: "0 0 24 24",
    children: /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
      "path",
      {
        strokeLinecap: "round",
        strokeLinejoin: "round",
        strokeWidth: 2,
        d: "M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"
      }
    )
  }
);
var StyledInput = React3.forwardRef(
  ({ className, label, error: error2, type: type2, id, ...props }, ref) => {
    const generatedId = React3.useId();
    const inputId = id || generatedId;
    const [showPassword, setShowPassword] = React3.useState(false);
    const [isFocused, setIsFocused] = React3.useState(false);
    const inputType = type2 === "password" && showPassword ? "text" : type2;
    const getIcon = () => {
      if (type2 === "email") return /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(MailIcon, {});
      if (type2 === "password") return /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(LockIcon, {});
      return null;
    };
    const iconColorClass = isFocused ? "text-blue-600" : "text-gray-400";
    const inputClasses = [
      "flex h-12 w-full rounded-lg border bg-gray-50 px-12 py-3 text-base font-medium text-gray-900",
      "transition-all duration-200 ease-out",
      "placeholder:text-gray-400 placeholder:font-normal",
      "focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",
      "disabled:cursor-not-allowed disabled:opacity-50",
      error2 ? "border-red-500 focus:ring-red-500" : "border-gray-300 hover:border-gray-400",
      className
    ].filter(Boolean).join(" ");
    return /* @__PURE__ */ (0, import_jsx_runtime3.jsxs)("div", { className: "w-full space-y-2", children: [
      label && /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
        "label",
        {
          htmlFor: inputId,
          className: "text-sm font-medium text-gray-700",
          children: label
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime3.jsxs)("div", { className: "relative", children: [
        /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
          "div",
          {
            className: `absolute left-4 top-1/2 -translate-y-1/2 transition-colors ${iconColorClass}`,
            children: getIcon()
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
          "input",
          {
            type: inputType,
            className: inputClasses,
            ref,
            id: inputId,
            onFocus: () => setIsFocused(true),
            onBlur: () => setIsFocused(false),
            ...props
          }
        ),
        type2 === "password" && /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
          "button",
          {
            type: "button",
            onClick: () => setShowPassword(!showPassword),
            className: `absolute right-4 top-1/2 -translate-y-1/2 transition-colors hover:text-gray-700 focus:outline-none focus:text-gray-700 ${iconColorClass}`,
            "aria-label": showPassword ? "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u96A0\u3059" : "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u8868\u793A",
            children: showPassword ? /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(EyeOffIcon, {}) : /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(EyeIcon, {})
          }
        )
      ] }),
      error2 && /* @__PURE__ */ (0, import_jsx_runtime3.jsx)("p", { className: "text-sm text-red-500 font-medium", children: error2 })
    ] });
  }
);
StyledInput.displayName = "StyledInput";

// public/components/LoginForm.tsx
var import_jsx_runtime4 = __toESM(require_jsx_runtime());
function LoginForm({ onSuccess, onSwitchToSignup }) {
  const { login, isLoading } = useAuth();
  const [email, setEmail] = (0, import_react2.useState)("");
  const [password, setPassword] = (0, import_react2.useState)("");
  const [error2, setError] = (0, import_react2.useState)("");
  const [message, setMessage] = (0, import_react2.useState)("");
  const [showResetForm, setShowResetForm] = (0, import_react2.useState)(false);
  const [resetLoading, setResetLoading] = (0, import_react2.useState)(false);
  const handleSubmit = async (e3) => {
    e3.preventDefault();
    setError("");
    setMessage("");
    const result = await login(email, password);
    if (result.success) {
      setEmail("");
      setPassword("");
      onSuccess?.();
    } else {
      setError(result.message);
    }
  };
  const handlePasswordReset = async (e3) => {
    e3.preventDefault();
    setError("");
    setMessage("");
    setResetLoading(true);
    const result = await sendPasswordReset(email);
    if (result.success) {
      setMessage(result.message);
      setShowResetForm(false);
    } else {
      setError(result.message);
    }
    setResetLoading(false);
  };
  if (showResetForm) {
    return /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("h2", { className: "text-xl font-semibold text-gray-800 mb-4", children: "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u30EA\u30BB\u30C3\u30C8" }),
      error2 && /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("div", { className: "mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm", children: error2 }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("p", { className: "text-sm text-gray-600 mb-4", children: "\u767B\u9332\u3057\u305F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u30D1\u30B9\u30EF\u30FC\u30C9\u30EA\u30BB\u30C3\u30C8\u7528\u306E\u30EA\u30F3\u30AF\u3092\u9001\u4FE1\u3057\u307E\u3059\u3002" }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("form", { onSubmit: handlePasswordReset, className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          StyledInput,
          {
            type: "email",
            id: "reset-email",
            label: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",
            value: email,
            onChange: (e3) => setEmail(e3.target.value),
            required: true,
            placeholder: "example@example.com"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(Button, { type: "submit", disabled: resetLoading, className: "w-full", children: resetLoading ? "\u9001\u4FE1\u4E2D..." : "\u30EA\u30BB\u30C3\u30C8\u30E1\u30FC\u30EB\u3092\u9001\u4FE1" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
        "button",
        {
          type: "button",
          onClick: () => {
            setShowResetForm(false);
            setError("");
          },
          className: "mt-4 w-full text-gray-600 hover:text-gray-800 text-sm",
          children: "\u30ED\u30B0\u30A4\u30F3\u306B\u623B\u308B"
        }
      )
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-6", children: [
    error2 && /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("div", { className: "mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm", children: error2 }),
    message && /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("div", { className: "mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm", children: message }),
    /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "label",
          {
            htmlFor: "login-email",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          StyledInput,
          {
            type: "email",
            id: "login-email",
            value: email,
            onChange: (e3) => setEmail(e3.target.value),
            required: true,
            placeholder: "example@example.com"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "label",
          {
            htmlFor: "login-password",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30D1\u30B9\u30EF\u30FC\u30C9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          StyledInput,
          {
            type: "password",
            id: "login-password",
            value: password,
            onChange: (e3) => setPassword(e3.target.value),
            required: true,
            placeholder: "6\u6587\u5B57\u4EE5\u4E0A"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(Button, { type: "submit", disabled: isLoading, className: "w-full", children: isLoading ? "\u30ED\u30B0\u30A4\u30F3\u4E2D..." : "\u30ED\u30B0\u30A4\u30F3" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
      "button",
      {
        type: "button",
        onClick: () => {
          setShowResetForm(true);
          setError("");
          setMessage("");
        },
        className: "mt-3 w-full text-blue-600 hover:underline text-sm",
        children: "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5FD8\u308C\u305F\u5834\u5408"
      }
    ),
    onSwitchToSignup && /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("p", { className: "mt-4 text-center text-sm text-gray-600", children: [
      "\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u304A\u6301\u3061\u3067\u306A\u3044\u65B9\u306F",
      " ",
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
        "button",
        {
          type: "button",
          onClick: onSwitchToSignup,
          className: "text-blue-600 hover:underline",
          children: "\u65B0\u898F\u767B\u9332"
        }
      )
    ] })
  ] });
}

// public/pages/LoginPage.tsx
var import_jsx_runtime5 = __toESM(require_jsx_runtime());
function LoginPage() {
  const { isAuthenticated, isLoading } = useAuth();
  const navigate = useNavigate();
  (0, import_react3.useEffect)(() => {
    if (!isLoading && isAuthenticated) {
      navigate("/", { replace: true });
    }
  }, [isAuthenticated, isLoading, navigate]);
  return /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("div", { className: "max-w-md mx-auto", children: /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
    LoginForm,
    {
      onSuccess: () => navigate("/", { replace: true }),
      onSwitchToSignup: () => navigate("/signup")
    }
  ) }) });
}

// public/pages/SignupPage.tsx
var import_react5 = __toESM(require_react());

// public/components/SignupForm.tsx
var import_react4 = __toESM(require_react());
var import_jsx_runtime6 = __toESM(require_jsx_runtime());
function SignupForm({ onSuccess, onSwitchToLogin }) {
  const { signup, isLoading } = useAuth();
  const [name5, setName] = (0, import_react4.useState)("");
  const [email, setEmail] = (0, import_react4.useState)("");
  const [password, setPassword] = (0, import_react4.useState)("");
  const [error2, setError] = (0, import_react4.useState)("");
  const handleSubmit = async (e3) => {
    e3.preventDefault();
    setError("");
    const result = await signup(name5, email, password);
    if (result.success) {
      setName("");
      setEmail("");
      setPassword("");
      onSuccess?.();
    } else {
      setError(result.message);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("h2", { className: "text-xl font-semibold text-gray-800 mb-4", children: "\u65B0\u898F\u767B\u9332" }),
    error2 && /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("div", { className: "mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm", children: error2 }),
    /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
        StyledInput,
        {
          type: "text",
          id: "signup-name",
          label: "\u540D\u524D",
          value: name5,
          onChange: (e3) => setName(e3.target.value),
          required: true,
          placeholder: "\u5C71\u7530 \u592A\u90CE"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
        StyledInput,
        {
          type: "email",
          id: "signup-email",
          label: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",
          value: email,
          onChange: (e3) => setEmail(e3.target.value),
          required: true,
          placeholder: "example@example.com"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
        StyledInput,
        {
          type: "password",
          id: "signup-password",
          label: "\u30D1\u30B9\u30EF\u30FC\u30C9",
          value: password,
          onChange: (e3) => setPassword(e3.target.value),
          required: true,
          minLength: 6,
          placeholder: "6\u6587\u5B57\u4EE5\u4E0A"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
        Button,
        {
          type: "submit",
          disabled: isLoading,
          className: "w-full",
          children: isLoading ? "\u767B\u9332\u4E2D..." : "\u767B\u9332\u3059\u308B"
        }
      )
    ] }),
    onSwitchToLogin && /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("p", { className: "mt-4 text-center text-sm text-gray-600", children: [
      "\u3059\u3067\u306B\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u304A\u6301\u3061\u306E\u65B9\u306F",
      " ",
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
        "button",
        {
          type: "button",
          onClick: onSwitchToLogin,
          className: "text-blue-600 hover:underline",
          children: "\u30ED\u30B0\u30A4\u30F3"
        }
      )
    ] })
  ] });
}

// public/pages/SignupPage.tsx
var import_jsx_runtime7 = __toESM(require_jsx_runtime());
function SignupPage() {
  const { isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const [signupComplete, setSignupComplete] = (0, import_react5.useState)(false);
  (0, import_react5.useEffect)(() => {
    if (isAuthenticated) {
      navigate("/", { replace: true });
    }
  }, [isAuthenticated, navigate]);
  if (signupComplete) {
    return /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "max-w-md mx-auto", children: /* @__PURE__ */ (0, import_jsx_runtime7.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-8 text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "text-5xl mb-4", children: "\u{1F4E7}" }),
      /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("h1", { className: "text-2xl font-bold text-gray-900 mb-4", children: "\u30E1\u30FC\u30EB\u3092\u3054\u78BA\u8A8D\u304F\u3060\u3055\u3044" }),
      /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("p", { className: "text-red-600 mb-6", children: "\u30FB\u203B\u30BF\u30A4\u30C8\u30EB\u300C\u5358\u8A9E\u30A2\u30D7\u30EA\u78BA\u8A8D\u30E1\u30FC\u30EB\u300D\u3068\u3057\u3066\u8FF7\u60D1\u30E1\u30FC\u30EB\u306A\u3069\u306B\u5206\u985E\u3055\u308C\u308B\u5834\u5408\u304C\u3042\u308A\u307E\u3059\u3002" }),
      /* @__PURE__ */ (0, import_jsx_runtime7.jsxs)("div", { className: "space-y-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(
          Link,
          {
            to: "/login",
            className: "block w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 text-center",
            children: "\u30ED\u30B0\u30A4\u30F3\u30DA\u30FC\u30B8\u3078"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(
          "button",
          {
            type: "button",
            onClick: () => setSignupComplete(false),
            className: "block w-full text-gray-600 hover:text-gray-800 text-sm",
            children: "\u5225\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u3067\u767B\u9332\u3059\u308B"
          }
        )
      ] })
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime7.jsxs)("div", { className: "max-w-md mx-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("h1", { className: "text-3xl font-bold text-center text-gray-900 mb-8", children: "React Auth Demo" }),
    /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(
      SignupForm,
      {
        onSuccess: () => setSignupComplete(true),
        onSwitchToLogin: () => navigate("/login")
      }
    )
  ] }) });
}

// public/components/ProtectedRoute.tsx
var import_jsx_runtime8 = __toESM(require_jsx_runtime());
function ProtectedRoute({
  children,
  redirectTo = "/login"
}) {
  const { isAuthenticated, isLoading } = useAuth();
  const location2 = useLocation();
  if (isLoading) {
    return /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("div", { className: "min-h-screen bg-gray-50 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("div", { className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600" }) });
  }
  if (!isAuthenticated) {
    return /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(Navigate, { to: redirectTo, state: { from: location2 }, replace: true });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(import_jsx_runtime8.Fragment, { children });
}

// public/components/Navigation.tsx
var import_jsx_runtime9 = __toESM(require_jsx_runtime());
function Navigation() {
  const { isAuthenticated, logout } = useAuth();
  return /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("nav", { className: "bg-white shadow", children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("div", { className: "max-w-4xl mx-auto px-4", children: /* @__PURE__ */ (0, import_jsx_runtime9.jsxs)("div", { className: "flex justify-between h-16 items-center", children: [
    /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Link, { to: "/", className: "font-bold text-xl", children: "Word Reflesher" }),
    /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("div", { className: "flex gap-4", children: isAuthenticated ? /* @__PURE__ */ (0, import_jsx_runtime9.jsxs)(import_jsx_runtime9.Fragment, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(
        NavLink,
        {
          to: "/",
          className: ({ isActive }) => isActive ? "text-blue-600" : "text-gray-600",
          children: "\u5358\u8A9E\u5B66\u7FD2"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("button", { type: "button", onClick: logout, children: "\u30ED\u30B0\u30A2\u30A6\u30C8" })
    ] }) : /* @__PURE__ */ (0, import_jsx_runtime9.jsxs)(import_jsx_runtime9.Fragment, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(
        NavLink,
        {
          to: "/login",
          className: ({ isActive }) => isActive ? "text-blue-600" : "text-gray-600",
          children: "\u30ED\u30B0\u30A4\u30F3"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(
        NavLink,
        {
          to: "/signup",
          className: ({ isActive }) => isActive ? "text-blue-600" : "text-gray-600",
          children: "\u65B0\u898F\u767B\u9332"
        }
      )
    ] }) })
  ] }) }) });
}

// public/pages/WordReflesher.tsx
var import_react6 = __toESM(require_react());

// public/generated/genql/runtime/generateGraphqlOperation.ts
var parseRequest = (request, ctx, path) => {
  if (typeof request === "object" && "__args" in request) {
    const args = request.__args;
    let fields = { ...request };
    delete fields.__args;
    const argNames = Object.keys(args);
    if (argNames.length === 0) {
      return parseRequest(fields, ctx, path);
    }
    const field = getFieldFromPath(ctx.root, path);
    const argStrings = argNames.map((argName) => {
      ctx.varCounter++;
      const varName = `v${ctx.varCounter}`;
      const typing = field.args && field.args[argName];
      if (!typing) {
        throw new Error(
          `no typing defined for argument \`${argName}\` in path \`${path.join(
            "."
          )}\``
        );
      }
      ctx.variables[varName] = {
        value: args[argName],
        typing
      };
      return `${argName}:$${varName}`;
    });
    return `(${argStrings})${parseRequest(fields, ctx, path)}`;
  } else if (typeof request === "object" && Object.keys(request).length > 0) {
    const fields = request;
    const fieldNames = Object.keys(fields).filter((k) => Boolean(fields[k]));
    if (fieldNames.length === 0) {
      throw new Error(
        `field selection should not be empty: ${path.join(".")}`
      );
    }
    const type2 = path.length > 0 ? getFieldFromPath(ctx.root, path).type : ctx.root;
    const scalarFields = type2.scalar;
    let scalarFieldsFragment;
    if (fieldNames.includes("__scalar")) {
      const falsyFieldNames = new Set(
        Object.keys(fields).filter((k) => !Boolean(fields[k]))
      );
      if (scalarFields?.length) {
        ctx.fragmentCounter++;
        scalarFieldsFragment = `f${ctx.fragmentCounter}`;
        ctx.fragments.push(
          `fragment ${scalarFieldsFragment} on ${type2.name}{${scalarFields.filter((f3) => !falsyFieldNames.has(f3)).join(",")}}`
        );
      }
    }
    const fieldsSelection = fieldNames.filter((f3) => !["__scalar", "__name"].includes(f3)).map((f3) => {
      const parsed = parseRequest(fields[f3], ctx, [...path, f3]);
      if (f3.startsWith("on_")) {
        ctx.fragmentCounter++;
        const implementationFragment = `f${ctx.fragmentCounter}`;
        const typeMatch = f3.match(/^on_(.+)/);
        if (!typeMatch || !typeMatch[1])
          throw new Error("match failed");
        ctx.fragments.push(
          `fragment ${implementationFragment} on ${typeMatch[1]}${parsed}`
        );
        return `...${implementationFragment}`;
      } else {
        return `${f3}${parsed}`;
      }
    }).concat(scalarFieldsFragment ? [`...${scalarFieldsFragment}`] : []).join(",");
    return `{${fieldsSelection}}`;
  } else {
    return "";
  }
};
var generateGraphqlOperation = (operation, root2, fields) => {
  const ctx = {
    root: root2,
    varCounter: 0,
    variables: {},
    fragmentCounter: 0,
    fragments: []
  };
  const result = parseRequest(fields, ctx, []);
  const varNames = Object.keys(ctx.variables);
  const varsString = varNames.length > 0 ? `(${varNames.map((v3) => {
    const variableType = ctx.variables[v3].typing[1];
    return `$${v3}:${variableType}`;
  })})` : "";
  const operationName = fields?.__name || "";
  return {
    query: [
      `${operation} ${operationName}${varsString}${result}`,
      ...ctx.fragments
    ].join(","),
    variables: Object.keys(ctx.variables).reduce(
      (r3, v3) => {
        r3[v3] = ctx.variables[v3].value;
        return r3;
      },
      {}
    ),
    ...operationName ? { operationName: operationName.toString() } : {}
  };
};
var getFieldFromPath = (root2, path) => {
  let current;
  if (!root2) throw new Error("root type is not provided");
  if (path.length === 0) throw new Error(`path is empty`);
  path.forEach((f3) => {
    const type2 = current ? current.type : root2;
    if (!type2.fields)
      throw new Error(`type \`${type2.name}\` does not have fields`);
    const possibleTypes = Object.keys(type2.fields).filter((i3) => i3.startsWith("on_")).reduce(
      (types, fieldName) => {
        const field2 = type2.fields && type2.fields[fieldName];
        if (field2) types.push(field2.type);
        return types;
      },
      [type2]
    );
    let field = null;
    possibleTypes.forEach((type3) => {
      const found = type3.fields && type3.fields[f3];
      if (found) field = found;
    });
    if (!field)
      throw new Error(
        `type \`${type2.name}\` does not have a field \`${f3}\``
      );
    current = field;
  });
  return current;
};

// public/generated/genql/runtime/linkTypeMap.ts
var linkTypeMap = (typeMap3) => {
  const indexToName = Object.assign(
    {},
    ...Object.keys(typeMap3.types).map((k, i3) => ({ [i3]: k }))
  );
  let intermediaryTypeMap = Object.assign(
    {},
    ...Object.keys(typeMap3.types || {}).map(
      (k) => {
        const type2 = typeMap3.types[k];
        const fields = type2 || {};
        return {
          [k]: {
            name: k,
            // type scalar properties
            scalar: Object.keys(fields).filter((f3) => {
              const [type3] = fields[f3] || [];
              const isScalar = type3 && typeMap3.scalars.includes(type3);
              if (!isScalar) {
                return false;
              }
              const args = fields[f3]?.[1];
              const argTypes = Object.values(args || {}).map((x) => x?.[1]).filter(Boolean);
              const hasRequiredArgs = argTypes.some(
                (str) => str && str.endsWith("!")
              );
              if (hasRequiredArgs) {
                return false;
              }
              return true;
            }),
            // fields with corresponding `type` and `args`
            fields: Object.assign(
              {},
              ...Object.keys(fields).map(
                (f3) => {
                  const [typeIndex, args] = fields[f3] || [];
                  if (typeIndex == null) {
                    return {};
                  }
                  return {
                    [f3]: {
                      // replace index with type name
                      type: indexToName[typeIndex],
                      args: Object.assign(
                        {},
                        ...Object.keys(args || {}).map(
                          (k2) => {
                            if (!args || !args[k2]) {
                              return;
                            }
                            const [
                              argTypeName,
                              argTypeString
                            ] = args[k2];
                            return {
                              [k2]: [
                                indexToName[argTypeName],
                                argTypeString || indexToName[argTypeName]
                              ]
                            };
                          }
                        )
                      )
                    }
                  };
                }
              )
            )
          }
        };
      }
    )
  );
  const res = resolveConcreteTypes(intermediaryTypeMap);
  return res;
};
var resolveConcreteTypes = (linkedTypeMap) => {
  Object.keys(linkedTypeMap).forEach((typeNameFromKey) => {
    const type2 = linkedTypeMap[typeNameFromKey];
    if (!type2.fields) {
      return;
    }
    const fields = type2.fields;
    Object.keys(fields).forEach((f3) => {
      const field = fields[f3];
      if (field.args) {
        const args = field.args;
        Object.keys(args).forEach((key) => {
          const arg = args[key];
          if (arg) {
            const [typeName2] = arg;
            if (typeof typeName2 === "string") {
              if (!linkedTypeMap[typeName2]) {
                linkedTypeMap[typeName2] = { name: typeName2 };
              }
              arg[0] = linkedTypeMap[typeName2];
            }
          }
        });
      }
      const typeName = field.type;
      if (typeof typeName === "string") {
        if (!linkedTypeMap[typeName]) {
          linkedTypeMap[typeName] = { name: typeName };
        }
        field.type = linkedTypeMap[typeName];
      }
    });
  });
  return linkedTypeMap;
};

// public/generated/genql/types.ts
var types_default = {
  "scalars": [
    1,
    2,
    3,
    7,
    10
  ],
  "types": {
    "LearningHistory": {
      "id": [
        1
      ],
      "learningType": [
        2
      ],
      "userId": [
        1
      ],
      "wordId": [
        1
      ],
      "__typename": [
        2
      ]
    },
    "ID": {},
    "String": {},
    "LearningType": {},
    "Mutation": {
      "createLearningHistory": [
        0,
        {
          "learningType": [
            3,
            "LearningType!"
          ],
          "userId": [
            1,
            "ID!"
          ],
          "wordId": [
            1,
            "ID!"
          ]
        }
      ],
      "createUser": [
        8,
        {
          "name": [
            2,
            "String!"
          ]
        }
      ],
      "deleteUser": [
        8,
        {
          "id": [
            1,
            "ID!"
          ]
        }
      ],
      "__typename": [
        2
      ]
    },
    "Post": {
      "content": [
        2
      ],
      "id": [
        1
      ],
      "title": [
        2
      ],
      "__typename": [
        2
      ]
    },
    "Query": {
      "me": [
        2
      ],
      "post": [
        5,
        {
          "id": [
            1,
            "ID!"
          ]
        }
      ],
      "postCount": [
        7
      ],
      "posts": [
        5
      ],
      "test10": [
        2
      ],
      "user": [
        8,
        {
          "id": [
            1,
            "ID!"
          ]
        }
      ],
      "users": [
        8
      ],
      "words": [
        9
      ],
      "wordsByDifficulty": [
        9,
        {
          "difficulty": [
            7,
            "Int!"
          ]
        }
      ],
      "wordsForStudy": [
        9,
        {
          "limit": [
            7
          ],
          "userId": [
            1,
            "ID!"
          ]
        }
      ],
      "__typename": [
        2
      ]
    },
    "Int": {},
    "User": {
      "id": [
        1
      ],
      "name": [
        2
      ],
      "__typename": [
        2
      ]
    },
    "Word": {
      "difficulty": [
        7
      ],
      "english": [
        2
      ],
      "frequency": [
        7
      ],
      "id": [
        1
      ],
      "japanese": [
        2
      ],
      "situation": [
        2
      ],
      "__typename": [
        2
      ]
    },
    "Boolean": {}
  }
};

// public/generated/genql/schema.ts
var enumLearningType = {
  choiceTest: "choiceTest",
  passiveLearning: "passiveLearning",
  writingTest: "writingTest"
};

// public/generated/genql/index.ts
var typeMap = linkTypeMap(types_default);
var generateQueryOp = function(fields) {
  return generateGraphqlOperation("query", typeMap.Query, fields);
};

// public/utils/genql-urql-bridge.ts
function useTypedQuery(opts) {
  const { query, variables } = generateQueryOp(opts.query);
  return useQuery({
    ...opts,
    query,
    variables
  });
}
var typeMap2 = linkTypeMap(types_default);
function useTypedMutation(opts) {
  const operation = generateGraphqlOperation(
    "mutation",
    typeMap2.Mutation,
    opts.mutation
  );
  const [result, executeMutation] = useMutation(
    operation.query
  );
  const execute = (variables) => {
    const operationWithVars = generateGraphqlOperation(
      "mutation",
      typeMap2.Mutation,
      opts.mutation
    );
    const finalVariables = { ...operationWithVars.variables };
    if (variables && operationWithVars.variables) {
      const varKeys = Object.keys(operationWithVars.variables);
      varKeys.forEach((varKey) => {
        const mutationKeys = Object.keys(opts.mutation);
        if (mutationKeys.length > 0) {
          const mutationField = opts.mutation[mutationKeys[0]];
          if (mutationField && typeof mutationField === "object" && "__args" in mutationField && mutationField.__args && typeof mutationField.__args === "object") {
            const argNames = Object.keys(mutationField.__args);
            const varIndex = varKeys.indexOf(varKey);
            if (varIndex >= 0 && varIndex < argNames.length) {
              const argName = argNames[varIndex];
              if (variables[argName] !== void 0) {
                finalVariables[varKey] = variables[argName];
              }
            }
          }
        }
      });
    }
    const context = {
      ...opts.context,
      ...opts.additionalTypenames && {
        additionalTypenames: opts.additionalTypenames
      }
    };
    return executeMutation(finalVariables, context);
  };
  return [result, execute];
}

// public/pages/WordReflesher.tsx
var import_jsx_runtime10 = __toESM(require_jsx_runtime());
function WordReflesher() {
  const [currentIndex, setCurrentIndex] = (0, import_react6.useState)(0);
  const [isAnimating, setIsAnimating] = (0, import_react6.useState)(false);
  const [isLastCard, setIsLastCard] = (0, import_react6.useState)(false);
  const { user } = useAuth();
  const speakEnglish = (text) => {
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = "en-US";
    utterance.rate = 0.9;
    globalThis.speechSynthesis.cancel();
    globalThis.speechSynthesis.speak(utterance);
  };
  const [wordsResult, reexecuteQuery] = useTypedQuery({
    query: {
      wordsForStudy: {
        __args: {
          userId: user?.id ?? "",
          limit: 12
        },
        id: true,
        japanese: true,
        english: true,
        difficulty: true,
        frequency: true,
        situation: true
      }
    },
    pause: !user?.id
    // 
  });
  const [_createLearningHistoryResult, createLearningHistory] = useTypedMutation({
    mutation: {
      createLearningHistory: {
        __args: {
          learningType: enumLearningType.passiveLearning,
          userId: "",
          // placeholder - 
          wordId: ""
          // placeholder - 
        },
        id: true,
        learningType: true,
        userId: true,
        wordId: true
      }
    }
  });
  const sampleWords = wordsResult.data?.wordsForStudy ?? [];
  const currentWord = sampleWords[currentIndex];
  const handleNext = () => {
    console.log(currentIndex + 1);
    if (sampleWords[currentIndex] && user?.id) {
      createLearningHistory({
        learningType: enumLearningType.passiveLearning,
        userId: user?.id,
        wordId: currentWord.id
      });
    }
    if (currentIndex < sampleWords.length - 1) {
      setIsAnimating(true);
      setTimeout(() => {
        setCurrentIndex(currentIndex + 1);
        setIsAnimating(false);
      }, 300);
    } else {
      setIsAnimating(true);
      setTimeout(() => {
        setIsLastCard(true);
        setIsAnimating(false);
      }, 300);
    }
  };
  const handleRestart = () => {
    setIsAnimating(true);
    setTimeout(() => {
      setIsLastCard(false);
      setCurrentIndex(0);
      setIsAnimating(false);
      reexecuteQuery({ requestPolicy: "network-only" });
    }, 300);
  };
  if (isLastCard && isAnimating === false) {
    return /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "min-h-screen bg-gradient-to-br from-slate-50 via-purple-50 to-pink-50 flex items-center justify-center p-4", children: /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "w-full max-w-2xl p-16 text-center rounded-3xl bg-white shadow-2xl animate-in fade-in zoom-in duration-500", children: /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "space-y-8", children: [
      /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "text-8xl animate-in zoom-in delay-100", children: "\u{1F389}" }),
      /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("h1", { className: "text-5xl font-bold text-balance text-gray-900", children: "\u5B8C\u4E86\u3057\u307E\u3057\u305F" }),
      /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("p", { className: "text-xl text-gray-600", children: [
        "\u5168",
        sampleWords.length,
        "\u679A\u306E\u30AB\u30FC\u30C9\u3092\u78BA\u8A8D\u3057\u307E\u3057\u305F"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)(
        "button",
        {
          type: "button",
          onClick: handleRestart,
          className: "h-14 px-8 text-lg rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105 active:scale-95 inline-flex items-center justify-center gap-2",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)(
              "svg",
              {
                xmlns: "http://www.w3.org/2000/svg",
                width: "20",
                height: "20",
                viewBox: "0 0 24 24",
                fill: "none",
                stroke: "currentColor",
                strokeWidth: "2",
                strokeLinecap: "round",
                strokeLinejoin: "round",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("path", { d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" }),
                  /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("path", { d: "M3 3v5h5" })
                ]
              }
            ),
            "\u6700\u521D\u304B\u3089"
          ]
        }
      )
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "min-h-screen bg-gradient-to-br from-slate-50 via-purple-50 to-pink-50 flex items-center justify-center p-4", children: /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "w-full max-w-2xl space-y-8", children: [
    /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "text-center space-y-4 animate-in fade-in duration-300", children: [
      /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "text-6xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent", children: currentIndex + 1 }),
      /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "flex justify-center gap-2", children: sampleWords.map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(
        "div",
        {
          className: `h-2 rounded-full transition-all duration-500 ${index === currentIndex ? "w-12 bg-gradient-to-r from-purple-600 to-pink-600" : index < currentIndex ? "w-2 bg-purple-400" : "w-2 bg-gray-300"}`
        },
        index
      )) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(
      "div",
      {
        className: `p-16 rounded-3xl bg-white shadow-2xl transition-all duration-300 ${isAnimating ? "animate-out fade-out zoom-out-95 opacity-0" : "animate-in fade-in zoom-in-95"}`,
        children: /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "space-y-12", children: [
          /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "text-center space-y-6", children: [
            /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "text-8xl md:text-9xl font-bold text-foreground animate-in fade-in zoom-in duration-500", children: currentWord?.japanese }),
            /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "flex items-center justify-center gap-4 animate-in fade-in delay-100", children: [
              /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(
                "button",
                {
                  type: "button",
                  onClick: () => speakEnglish(currentWord?.english?.[0] ?? ""),
                  className: "p-3 rounded-full hover:bg-purple-100 transition-colors duration-200 group",
                  "aria-label": "\u97F3\u58F0\u3092\u518D\u751F",
                  children: /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)(
                    "svg",
                    {
                      xmlns: "http://www.w3.org/2000/svg",
                      width: "28",
                      height: "28",
                      viewBox: "0 0 24 24",
                      fill: "none",
                      stroke: "currentColor",
                      strokeWidth: "2",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      className: "text-purple-600 group-hover:text-purple-700 transition-colors",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("path", { d: "M11 5 6 9H2v6h4l5 4V5z" }),
                        /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("path", { d: "M15.54 8.46a5 5 0 0 1 0 7.07" }),
                        /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("path", { d: "M19.07 4.93a10 10 0 0 1 0 14.14" })
                      ]
                    }
                  )
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "text-2xl text-muted-foreground", children: currentWord?.english?.join(", ") })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "grid grid-cols-2 gap-4 text-center animate-in fade-in delay-200", children: [
            /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "p-4 rounded-lg bg-muted/50", children: [
              /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "text-xs text-muted-foreground mb-1", children: "\u96E3\u6613\u5EA6" }),
              /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "font-medium capitalize", children: currentWord?.difficulty })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime10.jsxs)("div", { className: "p-4 rounded-lg bg-muted/50", children: [
              /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "text-xs text-muted-foreground mb-1", children: "\u30B7\u30FC\u30F3" }),
              /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: "font-medium capitalize", children: currentWord?.situation })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(
            "button",
            {
              type: "button",
              onClick: handleNext,
              className: "w-full h-16 text-xl rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] animate-in fade-in delay-300",
              children: "\u6B21\u3078"
            }
          )
        ] })
      }
    )
  ] }) });
}

// public/App.tsx
var import_jsx_runtime11 = __toESM(require_jsx_runtime());
function Layout() {
  return /* @__PURE__ */ (0, import_jsx_runtime11.jsxs)(import_jsx_runtime11.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(Navigation, {}),
    /* @__PURE__ */ (0, import_jsx_runtime11.jsxs)("main", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(Outlet, {}),
      " "
    ] })
  ] });
}
function App() {
  return /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(Routes, { children: /* @__PURE__ */ (0, import_jsx_runtime11.jsxs)(Route, { element: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(Layout, {}), children: [
    /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(Route, { path: "/login", element: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(LoginPage, {}) }),
    /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(Route, { path: "/signup", element: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(SignupPage, {}) }),
    /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(
      Route,
      {
        path: "/",
        element: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(ProtectedRoute, { children: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(WordReflesher, {}) })
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(
      Route,
      {
        path: "*",
        element: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(ProtectedRoute, { children: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(WordReflesher, {}) })
      }
    )
  ] }) });
}
var App_default = App;

// public/utils/refetchOnTypename.ts
function collectTypenames(node, out) {
  if (node == null) return;
  if (Array.isArray(node)) {
    for (const v3 of node) collectTypenames(v3, out);
    return;
  }
  if (typeof node === "object") {
    const obj = node;
    const tn = obj.__typename;
    if (typeof tn === "string") out.add(tn);
    for (const v3 of Object.values(obj)) collectTypenames(v3, out);
  }
}
var refetchOnTypename = ({ forward, client }) => (ops$) => {
  const activeQueries = /* @__PURE__ */ new Map();
  const results$ = pipe(
    ops$,
    onPush((operation) => {
      if (operation.kind === "teardown") {
        activeQueries.delete(operation.key);
      }
    }),
    forward
  );
  return pipe(
    results$,
    onPush((result) => {
      if (result.operation.kind === "query") {
        activeQueries.set(result.operation.key, result.operation);
        const getQueryName = (op) => {
          const def = op.query.definitions[0];
          if (!def || def.kind !== "OperationDefinition") return void 0;
          if (def.name?.value) return def.name.value;
          const firstSelection = def.selectionSet?.selections?.[0];
          if (firstSelection && firstSelection.kind === "Field") {
            return firstSelection.name.value;
          }
          return void 0;
        };
        const queryName = getQueryName(result.operation);
        console.log("[refetchOnTypename] query added:", {
          key: result.operation.key,
          queryName,
          totalCount: activeQueries.size,
          allQueries: Array.from(activeQueries.values()).map((op) => ({
            key: op.key,
            name: getQueryName(op)
          }))
        });
      }
      if (result.operation.kind === "mutation" && !result.error) {
        const ctx = result.operation.context;
        const refetchTypenames = Array.isArray(ctx?.additionalTypenames) ? ctx.additionalTypenames : [];
        if (refetchTypenames.length > 0) {
          const resultTypenames = /* @__PURE__ */ new Set();
          collectTypenames(result.data, resultTypenames);
          for (const op of activeQueries.values()) {
            if (refetchTypenames.some((t2) => resultTypenames.has(t2))) {
              client.reexecuteOperation({
                ...op,
                context: { ...op.context, requestPolicy: "network-only" }
              });
            }
          }
        }
      }
    })
  );
};

// public/main.tsx
var import_jsx_runtime12 = __toESM(require_jsx_runtime());
var urqlClient = Q({
  url: "/graphql",
  exchanges: [refetchOnTypename, cacheExchange, fetchExchange],
  fetchOptions: () => {
    const user = auth.currentUser;
    if (!user) {
      return {};
    }
    const token = user.accessToken;
    if (!token) {
      return {};
    }
    return {
      headers: {
        Authorization: `Bearer ${token}`
      }
    };
  }
});
var rootElement = document.getElementById("app");
if (!rootElement) {
  throw new Error("Root element not found");
}
var root = (0, import_client.createRoot)(rootElement);
root.render(
  /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(import_react7.StrictMode, { children: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(BrowserRouter, { children: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(f2, { value: urqlClient, children: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(AuthProvider, { children: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(App_default, {}) }) }) }) })
);
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@remix-run/router/dist/router.js:
  (**
   * @remix-run/router v1.23.1
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router/dist/index.js:
  (**
   * React Router v6.30.2
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router-dom/dist/index.js:
  (**
   * React Router DOM v6.30.2
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9zY2hlZHVsZXJAMC4yMy4yL25vZGVfbW9kdWxlcy9zY2hlZHVsZXIvY2pzL3NjaGVkdWxlci5wcm9kdWN0aW9uLm1pbi5qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvc2NoZWR1bGVyQDAuMjMuMi9ub2RlX21vZHVsZXMvc2NoZWR1bGVyL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vY2xpZW50LmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2Fzc2VydC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvY3J5cHQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2RlZXBDb3B5LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9nbG9iYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2RlZmF1bHRzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9kZWZlcnJlZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvZW11bGF0b3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2Vudmlyb25tZW50LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9lcnJvcnMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2pzb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2p3dC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvb2JqLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9wcm9taXNlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9xdWVyeS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvc2hhMS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvc3Vic2NyaWJlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy92YWxpZGF0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy91dGY4LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy91dWlkLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9leHBvbmVudGlhbF9iYWNrb2ZmLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9mb3JtYXR0ZXJzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9jb21wYXQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9jb21wb25lbnRAMC42Ljkvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvc3JjL2NvbXBvbmVudC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2NvbXBvbmVudEAwLjYuOS9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2NvbXBvbmVudC9zcmMvY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvY29tcG9uZW50QDAuNi45L25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvY29tcG9uZW50L3NyYy9wcm92aWRlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2NvbXBvbmVudEAwLjYuOS9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2NvbXBvbmVudC9zcmMvY29tcG9uZW50X2NvbnRhaW5lci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2xvZ2dlckAwLjQuMi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2xvZ2dlci9zcmMvbG9nZ2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9pZGJANy4xLjEvbm9kZV9tb2R1bGVzL2lkYi9idWlsZC93cmFwLWlkYi12YWx1ZS5qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvaWRiQDcuMS4xL25vZGVfbW9kdWxlcy9pZGIvYnVpbGQvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvcGxhdGZvcm1Mb2dnZXJTZXJ2aWNlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2xvZ2dlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXBwL3NyYy9jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvaW50ZXJuYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvZXJyb3JzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2ZpcmViYXNlQXBwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2ZpcmViYXNlU2VydmVyQXBwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2FwaS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXBwL3NyYy9pbmRleGVkZGIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvaGVhcnRiZWF0U2VydmljZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXBwL3NyYy9yZWdpc3RlckNvcmVDb21wb25lbnRzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2luZGV4LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy90c2xpYkAyLjguMS9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvbW9kZWwvZW51bV9tYXBzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL2Vycm9ycy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2xvZy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2Fzc2VydC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2xvY2F0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvbmF2aWdhdG9yLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvZGVsYXkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvdXRpbC9lbXVsYXRvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2ZldGNoX3Byb3ZpZGVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvZXJyb3JzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3JlY2FwdGNoYS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2FjY291bnRfbWFuYWdlbWVudC9hY2NvdW50LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvdGltZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL2lkX3Rva2VuX3Jlc3VsdC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL2ludmFsaWRhdGlvbi50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL3Byb2FjdGl2ZV9yZWZyZXNoLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvdXNlcl9tZXRhZGF0YS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL3JlbG9hZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3Rva2VuLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvdG9rZW5fbWFuYWdlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL3VzZXJfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2luc3RhbnRpYXRvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wZXJzaXN0ZW5jZS9pbl9tZW1vcnkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvcGVyc2lzdGVuY2UvcGVyc2lzdGVuY2VfdXNlcl9tYW5hZ2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvYnJvd3Nlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL3ZlcnNpb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9taWRkbGV3YXJlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvcGFzc3dvcmRfcG9saWN5L2dldF9wYXNzd29yZF9wb2xpY3kudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9wYXNzd29yZF9wb2xpY3lfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9hdXRoL2F1dGhfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9sb2FkX2pzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3JlY2FwdGNoYS9yZWNhcHRjaGFfZW50ZXJwcmlzZV92ZXJpZmllci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9hdXRoL2luaXRpYWxpemUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9lbXVsYXRvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9hdXRoX2NyZWRlbnRpYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvZW1haWxfYW5kX3Bhc3N3b3JkLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfYW5kX3Bhc3N3b3JkLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfbGluay50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9lbWFpbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL2lkcC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9vYXV0aC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3Ntcy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9waG9uZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9hY3Rpb25fY29kZV91cmwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvcHJvdmlkZXJzL2VtYWlsLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3Byb3ZpZGVycy9mZWRlcmF0ZWQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvcHJvdmlkZXJzL29hdXRoLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3Byb3ZpZGVycy9mYWNlYm9vay50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wcm92aWRlcnMvZ29vZ2xlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3Byb3ZpZGVycy9naXRodWIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvY3JlZGVudGlhbHMvc2FtbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wcm92aWRlcnMvc2FtbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wcm92aWRlcnMvdHdpdHRlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3NpZ25fdXAudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvdXNlci91c2VyX2NyZWRlbnRpYWxfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9zdHJhdGVnaWVzL2Fub255bW91cy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvbWZhL21mYV9lcnJvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL3Byb3ZpZGVycy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL2xpbmtfdW5saW5rLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvcmVhdXRoZW50aWNhdGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9jcmVkZW50aWFsLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvYXV0aGVudGljYXRpb24vY3VzdG9tX3Rva2VuLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3N0cmF0ZWdpZXMvY3VzdG9tX3Rva2VuLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9tZmEvbWZhX2luZm8udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9hY3Rpb25fY29kZV9zZXR0aW5ncy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9zdHJhdGVnaWVzL2VtYWlsX2FuZF9wYXNzd29yZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9zdHJhdGVnaWVzL2VtYWlsX2xpbmsudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2FwaS9hdXRoZW50aWNhdGlvbi9jcmVhdGVfYXV0aF91cmkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9lbWFpbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2FjY291bnRfbWFuYWdlbWVudC9wcm9maWxlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvYWNjb3VudF9pbmZvLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvYWRkaXRpb25hbF91c2VyX2luZm8udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL21mYS9tZmFfc2Vzc2lvbi50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvbWZhL21mYV9yZXNvbHZlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2FjY291bnRfbWFuYWdlbWVudC9tZmEudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL21mYS9tZmFfdXNlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wZXJzaXN0ZW5jZS9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9wZXJzaXN0ZW5jZS9icm93c2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3BlcnNpc3RlbmNlL2xvY2FsX3N0b3JhZ2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcGVyc2lzdGVuY2Uvc2Vzc2lvbl9zdG9yYWdlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL21lc3NhZ2VjaGFubmVsL3Byb21pc2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvbWVzc2FnZWNoYW5uZWwvcmVjZWl2ZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvdXRpbC9ldmVudF9pZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9tZXNzYWdlY2hhbm5lbC9zZW5kZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvYXV0aF93aW5kb3cudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvdXRpbC93b3JrZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcGVyc2lzdGVuY2UvaW5kZXhlZF9kYi50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL21mYS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9yZWNhcHRjaGEvcmVjYXB0Y2hhX21vY2sudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV9sb2FkZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV92ZXJpZmllci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9zdHJhdGVnaWVzL3Bob25lLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3Byb3ZpZGVycy9waG9uZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL3Jlc29sdmVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3N0cmF0ZWdpZXMvaWRwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3N0cmF0ZWdpZXMvYWJzdHJhY3RfcG9wdXBfcmVkaXJlY3Rfb3BlcmF0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3N0cmF0ZWdpZXMvcG9wdXAudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9yZWRpcmVjdC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9zdHJhdGVnaWVzL3JlZGlyZWN0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL2F1dGgvYXV0aF9ldmVudF9tYW5hZ2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvcHJvamVjdF9jb25maWcvZ2V0X3Byb2plY3RfY29uZmlnLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvdmFsaWRhdGVfb3JpZ2luLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL2lmcmFtZS9nYXBpLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL2lmcmFtZS9pZnJhbWUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvdXRpbC9wb3B1cC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2hhbmRsZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcG9wdXBfcmVkaXJlY3QudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL21mYS9tZmFfYXNzZXJ0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL21mYS9hc3NlcnRpb25zL3Bob25lLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9tZmEvYXNzZXJ0aW9ucy90b3RwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL2F1dGgvZmlyZWJhc2VfaW50ZXJuYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9yZWdpc3Rlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9kaXN0L2VzbTIwMTcvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL2ZpcmViYXNlQDEwLjE0LjFfQGZpcmViYXNlK2FwcEAwLjEwLjEzX0BmaXJlYmFzZSthcHAtY29tcGF0QDAuMi40M19AZmlyZWJhc2UrYXBwLXR5cGVzQDAuOS4yL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hdXRoL2Rpc3QvZXNtL2luZGV4LmVzbS5qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QvanN4LXJ1bnRpbWUuanMiLCAiLi4vcHVibGljL21haW4udHN4IiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AcmVtaXgtcnVuL3JvdXRlckAxLjIzLjEvbm9kZV9tb2R1bGVzL0ByZW1peC1ydW4vcm91dGVyL2hpc3RvcnkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0ByZW1peC1ydW4vcm91dGVyQDEuMjMuMS9ub2RlX21vZHVsZXMvQHJlbWl4LXJ1bi9yb3V0ZXIvdXRpbHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0ByZW1peC1ydW4vcm91dGVyQDEuMjMuMS9ub2RlX21vZHVsZXMvQHJlbWl4LXJ1bi9yb3V0ZXIvcm91dGVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdC1yb3V0ZXJANi4zMC4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL2xpYi9jb250ZXh0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdC1yb3V0ZXJANi4zMC4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL2xpYi9ob29rcy50c3giLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LXJvdXRlckA2LjMwLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvbGliL2RlcHJlY2F0aW9ucy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvcmVhY3Qtcm91dGVyQDYuMzAuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9saWIvY29tcG9uZW50cy50c3giLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LXJvdXRlckA2LjMwLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL2tpbmQuanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL2Vycm9yLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AMG5vLWNvL2dyYXBocWwud2ViQDEuMi4wL25vZGVfbW9kdWxlcy9AMG5vLWNvL2dyYXBocWwud2ViL3NyYy9wYXJzZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL3Zpc2l0b3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL3ByaW50ZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL3ZhbHVlcy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQDBuby1jby9ncmFwaHFsLndlYkAxLjIuMC9ub2RlX21vZHVsZXMvQDBuby1jby9ncmFwaHFsLndlYi9zcmMvaGVscGVycy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvd29ua2FANi4zLjUvbm9kZV9tb2R1bGVzL3dvbmthL2Rpc3Qvd29ua2EubWpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9lcnJvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvdXRpbHMvaGFzaC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvdXRpbHMvdmFyaWFibGVzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9yZXF1ZXN0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9yZXN1bHQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2ludGVybmFsL2ZldGNoT3B0aW9ucy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvaW50ZXJuYWwvZmV0Y2hTb3VyY2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL3V0aWxzL2NvbGxlY3RUeXBlbmFtZXMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL3V0aWxzL2Zvcm1hdERvY3VtZW50LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9zdHJlYW1VdGlscy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvdXRpbHMvb3BlcmF0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZ3FsLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy9leGNoYW5nZXMvY2FjaGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2V4Y2hhbmdlcy9zc3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2V4Y2hhbmdlcy9zdWJzY3JpcHRpb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2V4Y2hhbmdlcy9kZWJ1Zy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZXhjaGFuZ2VzL2ZldGNoLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy9leGNoYW5nZXMvY29tcG9zZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZXhjaGFuZ2VzL21hcC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZXhjaGFuZ2VzL2ZhbGxiYWNrLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy9jbGllbnQudHMiLCAiLi4vcHVibGljL3BhZ2VzL0xvZ2luUGFnZS50c3giLCAiLi4vcHVibGljL2NvbXBvbmVudHMvTG9naW5Gb3JtLnRzeCIsICIuLi9wdWJsaWMvY29udGV4dC9BdXRoQ29udGV4dC50c3giLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL2ZpcmViYXNlQDEwLjE0LjFfQGZpcmViYXNlK2FwcEAwLjEwLjEzX0BmaXJlYmFzZSthcHAtY29tcGF0QDAuMi40M19AZmlyZWJhc2UrYXBwLXR5cGVzQDAuOS4yL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hcHAvaW5kZXgudHMiLCAiLi4vcHVibGljL2ZpcmViYXNlL2F1dGgudHMiLCAiLi4vcHVibGljL2ZpcmViYXNlL2NvbmZpZy50cyIsICIuLi9wdWJsaWMvY29tcG9uZW50cy9idXR0b24vYnV0dG9uLnRzeCIsICIuLi9wdWJsaWMvY29tcG9uZW50cy9pbnB1dC9pbnB1dC50c3giLCAiLi4vcHVibGljL3BhZ2VzL1NpZ251cFBhZ2UudHN4IiwgIi4uL3B1YmxpYy9jb21wb25lbnRzL1NpZ251cEZvcm0udHN4IiwgIi4uL3B1YmxpYy9jb21wb25lbnRzL1Byb3RlY3RlZFJvdXRlLnRzeCIsICIuLi9wdWJsaWMvY29tcG9uZW50cy9OYXZpZ2F0aW9uLnRzeCIsICIuLi9wdWJsaWMvcGFnZXMvV29yZFJlZmxlc2hlci50c3giLCAiLi4vcHVibGljL2dlbmVyYXRlZC9nZW5xbC9ydW50aW1lL2dlbmVyYXRlR3JhcGhxbE9wZXJhdGlvbi50cyIsICIuLi9wdWJsaWMvZ2VuZXJhdGVkL2dlbnFsL3J1bnRpbWUvbGlua1R5cGVNYXAudHMiLCAiLi4vcHVibGljL2dlbmVyYXRlZC9nZW5xbC90eXBlcy50cyIsICIuLi9wdWJsaWMvZ2VuZXJhdGVkL2dlbnFsL3NjaGVtYS50cyIsICIuLi9wdWJsaWMvZ2VuZXJhdGVkL2dlbnFsL2luZGV4LnRzIiwgIi4uL3B1YmxpYy91dGlscy9nZW5xbC11cnFsLWJyaWRnZS50cyIsICIuLi9wdWJsaWMvQXBwLnRzeCIsICIuLi9wdWJsaWMvdXRpbHMvcmVmZXRjaE9uVHlwZW5hbWUudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0Jzt2YXIgbD1TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSxuPVN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIikscD1TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIikscT1TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIikscj1TeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIiksdD1TeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIiksdT1TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSx2PVN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSx3PVN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSx4PVN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLHk9U3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksej1TeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24gQShhKXtpZihudWxsPT09YXx8XCJvYmplY3RcIiE9PXR5cGVvZiBhKXJldHVybiBudWxsO2E9eiYmYVt6XXx8YVtcIkBAaXRlcmF0b3JcIl07cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGE/YTpudWxsfVxudmFyIEI9e2lzTW91bnRlZDpmdW5jdGlvbigpe3JldHVybiExfSxlbnF1ZXVlRm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVSZXBsYWNlU3RhdGU6ZnVuY3Rpb24oKXt9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbigpe319LEM9T2JqZWN0LmFzc2lnbixEPXt9O2Z1bmN0aW9uIEUoYSxiLGUpe3RoaXMucHJvcHM9YTt0aGlzLmNvbnRleHQ9Yjt0aGlzLnJlZnM9RDt0aGlzLnVwZGF0ZXI9ZXx8Qn1FLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50PXt9O1xuRS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oYSxiKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIGEmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhJiZudWxsIT1hKXRocm93IEVycm9yKFwic2V0U3RhdGUoLi4uKTogdGFrZXMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcyB0byB1cGRhdGUgb3IgYSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuXCIpO3RoaXMudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUodGhpcyxhLGIsXCJzZXRTdGF0ZVwiKX07RS5wcm90b3R5cGUuZm9yY2VVcGRhdGU9ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLGEsXCJmb3JjZVVwZGF0ZVwiKX07ZnVuY3Rpb24gRigpe31GLnByb3RvdHlwZT1FLnByb3RvdHlwZTtmdW5jdGlvbiBHKGEsYixlKXt0aGlzLnByb3BzPWE7dGhpcy5jb250ZXh0PWI7dGhpcy5yZWZzPUQ7dGhpcy51cGRhdGVyPWV8fEJ9dmFyIEg9Ry5wcm90b3R5cGU9bmV3IEY7XG5ILmNvbnN0cnVjdG9yPUc7QyhILEUucHJvdG90eXBlKTtILmlzUHVyZVJlYWN0Q29tcG9uZW50PSEwO3ZhciBJPUFycmF5LmlzQXJyYXksSj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEs9e2N1cnJlbnQ6bnVsbH0sTD17a2V5OiEwLHJlZjohMCxfX3NlbGY6ITAsX19zb3VyY2U6ITB9O1xuZnVuY3Rpb24gTShhLGIsZSl7dmFyIGQsYz17fSxrPW51bGwsaD1udWxsO2lmKG51bGwhPWIpZm9yKGQgaW4gdm9pZCAwIT09Yi5yZWYmJihoPWIucmVmKSx2b2lkIDAhPT1iLmtleSYmKGs9XCJcIitiLmtleSksYilKLmNhbGwoYixkKSYmIUwuaGFzT3duUHJvcGVydHkoZCkmJihjW2RdPWJbZF0pO3ZhciBnPWFyZ3VtZW50cy5sZW5ndGgtMjtpZigxPT09ZyljLmNoaWxkcmVuPWU7ZWxzZSBpZigxPGcpe2Zvcih2YXIgZj1BcnJheShnKSxtPTA7bTxnO20rKylmW21dPWFyZ3VtZW50c1ttKzJdO2MuY2hpbGRyZW49Zn1pZihhJiZhLmRlZmF1bHRQcm9wcylmb3IoZCBpbiBnPWEuZGVmYXVsdFByb3BzLGcpdm9pZCAwPT09Y1tkXSYmKGNbZF09Z1tkXSk7cmV0dXJueyQkdHlwZW9mOmwsdHlwZTphLGtleTprLHJlZjpoLHByb3BzOmMsX293bmVyOksuY3VycmVudH19XG5mdW5jdGlvbiBOKGEsYil7cmV0dXJueyQkdHlwZW9mOmwsdHlwZTphLnR5cGUsa2V5OmIscmVmOmEucmVmLHByb3BzOmEucHJvcHMsX293bmVyOmEuX293bmVyfX1mdW5jdGlvbiBPKGEpe3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJmEuJCR0eXBlb2Y9PT1sfWZ1bmN0aW9uIGVzY2FwZShhKXt2YXIgYj17XCI9XCI6XCI9MFwiLFwiOlwiOlwiPTJcIn07cmV0dXJuXCIkXCIrYS5yZXBsYWNlKC9bPTpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIGJbYV19KX12YXIgUD0vXFwvKy9nO2Z1bmN0aW9uIFEoYSxiKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZudWxsIT1hLmtleT9lc2NhcGUoXCJcIithLmtleSk6Yi50b1N0cmluZygzNil9XG5mdW5jdGlvbiBSKGEsYixlLGQsYyl7dmFyIGs9dHlwZW9mIGE7aWYoXCJ1bmRlZmluZWRcIj09PWt8fFwiYm9vbGVhblwiPT09aylhPW51bGw7dmFyIGg9ITE7aWYobnVsbD09PWEpaD0hMDtlbHNlIHN3aXRjaChrKXtjYXNlIFwic3RyaW5nXCI6Y2FzZSBcIm51bWJlclwiOmg9ITA7YnJlYWs7Y2FzZSBcIm9iamVjdFwiOnN3aXRjaChhLiQkdHlwZW9mKXtjYXNlIGw6Y2FzZSBuOmg9ITB9fWlmKGgpcmV0dXJuIGg9YSxjPWMoaCksYT1cIlwiPT09ZD9cIi5cIitRKGgsMCk6ZCxJKGMpPyhlPVwiXCIsbnVsbCE9YSYmKGU9YS5yZXBsYWNlKFAsXCIkJi9cIikrXCIvXCIpLFIoYyxiLGUsXCJcIixmdW5jdGlvbihhKXtyZXR1cm4gYX0pKTpudWxsIT1jJiYoTyhjKSYmKGM9TihjLGUrKCFjLmtleXx8aCYmaC5rZXk9PT1jLmtleT9cIlwiOihcIlwiK2Mua2V5KS5yZXBsYWNlKFAsXCIkJi9cIikrXCIvXCIpK2EpKSxiLnB1c2goYykpLDE7aD0wO2Q9XCJcIj09PWQ/XCIuXCI6ZCtcIjpcIjtpZihJKGEpKWZvcih2YXIgZz0wO2c8YS5sZW5ndGg7ZysrKXtrPVxuYVtnXTt2YXIgZj1kK1EoayxnKTtoKz1SKGssYixlLGYsYyl9ZWxzZSBpZihmPUEoYSksXCJmdW5jdGlvblwiPT09dHlwZW9mIGYpZm9yKGE9Zi5jYWxsKGEpLGc9MDshKGs9YS5uZXh0KCkpLmRvbmU7KWs9ay52YWx1ZSxmPWQrUShrLGcrKyksaCs9UihrLGIsZSxmLGMpO2Vsc2UgaWYoXCJvYmplY3RcIj09PWspdGhyb3cgYj1TdHJpbmcoYSksRXJyb3IoXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6IFwiKyhcIltvYmplY3QgT2JqZWN0XVwiPT09Yj9cIm9iamVjdCB3aXRoIGtleXMge1wiK09iamVjdC5rZXlzKGEpLmpvaW4oXCIsIFwiKStcIn1cIjpiKStcIikuIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgaW5zdGVhZC5cIik7cmV0dXJuIGh9XG5mdW5jdGlvbiBTKGEsYixlKXtpZihudWxsPT1hKXJldHVybiBhO3ZhciBkPVtdLGM9MDtSKGEsZCxcIlwiLFwiXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGIuY2FsbChlLGEsYysrKX0pO3JldHVybiBkfWZ1bmN0aW9uIFQoYSl7aWYoLTE9PT1hLl9zdGF0dXMpe3ZhciBiPWEuX3Jlc3VsdDtiPWIoKTtiLnRoZW4oZnVuY3Rpb24oYil7aWYoMD09PWEuX3N0YXR1c3x8LTE9PT1hLl9zdGF0dXMpYS5fc3RhdHVzPTEsYS5fcmVzdWx0PWJ9LGZ1bmN0aW9uKGIpe2lmKDA9PT1hLl9zdGF0dXN8fC0xPT09YS5fc3RhdHVzKWEuX3N0YXR1cz0yLGEuX3Jlc3VsdD1ifSk7LTE9PT1hLl9zdGF0dXMmJihhLl9zdGF0dXM9MCxhLl9yZXN1bHQ9Yil9aWYoMT09PWEuX3N0YXR1cylyZXR1cm4gYS5fcmVzdWx0LmRlZmF1bHQ7dGhyb3cgYS5fcmVzdWx0O31cbnZhciBVPXtjdXJyZW50Om51bGx9LFY9e3RyYW5zaXRpb246bnVsbH0sVz17UmVhY3RDdXJyZW50RGlzcGF0Y2hlcjpVLFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnOlYsUmVhY3RDdXJyZW50T3duZXI6S307ZnVuY3Rpb24gWCgpe3Rocm93IEVycm9yKFwiYWN0KC4uLikgaXMgbm90IHN1cHBvcnRlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcyBvZiBSZWFjdC5cIik7fVxuZXhwb3J0cy5DaGlsZHJlbj17bWFwOlMsZm9yRWFjaDpmdW5jdGlvbihhLGIsZSl7UyhhLGZ1bmN0aW9uKCl7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUpfSxjb3VudDpmdW5jdGlvbihhKXt2YXIgYj0wO1MoYSxmdW5jdGlvbigpe2IrK30pO3JldHVybiBifSx0b0FycmF5OmZ1bmN0aW9uKGEpe3JldHVybiBTKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KXx8W119LG9ubHk6ZnVuY3Rpb24oYSl7aWYoIU8oYSkpdGhyb3cgRXJyb3IoXCJSZWFjdC5DaGlsZHJlbi5vbmx5IGV4cGVjdGVkIHRvIHJlY2VpdmUgYSBzaW5nbGUgUmVhY3QgZWxlbWVudCBjaGlsZC5cIik7cmV0dXJuIGF9fTtleHBvcnRzLkNvbXBvbmVudD1FO2V4cG9ydHMuRnJhZ21lbnQ9cDtleHBvcnRzLlByb2ZpbGVyPXI7ZXhwb3J0cy5QdXJlQ29tcG9uZW50PUc7ZXhwb3J0cy5TdHJpY3RNb2RlPXE7ZXhwb3J0cy5TdXNwZW5zZT13O1xuZXhwb3J0cy5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1XO2V4cG9ydHMuYWN0PVg7XG5leHBvcnRzLmNsb25lRWxlbWVudD1mdW5jdGlvbihhLGIsZSl7aWYobnVsbD09PWF8fHZvaWQgMD09PWEpdGhyb3cgRXJyb3IoXCJSZWFjdC5jbG9uZUVsZW1lbnQoLi4uKTogVGhlIGFyZ3VtZW50IG11c3QgYmUgYSBSZWFjdCBlbGVtZW50LCBidXQgeW91IHBhc3NlZCBcIithK1wiLlwiKTt2YXIgZD1DKHt9LGEucHJvcHMpLGM9YS5rZXksaz1hLnJlZixoPWEuX293bmVyO2lmKG51bGwhPWIpe3ZvaWQgMCE9PWIucmVmJiYoaz1iLnJlZixoPUsuY3VycmVudCk7dm9pZCAwIT09Yi5rZXkmJihjPVwiXCIrYi5rZXkpO2lmKGEudHlwZSYmYS50eXBlLmRlZmF1bHRQcm9wcyl2YXIgZz1hLnR5cGUuZGVmYXVsdFByb3BzO2ZvcihmIGluIGIpSi5jYWxsKGIsZikmJiFMLmhhc093blByb3BlcnR5KGYpJiYoZFtmXT12b2lkIDA9PT1iW2ZdJiZ2b2lkIDAhPT1nP2dbZl06YltmXSl9dmFyIGY9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT1mKWQuY2hpbGRyZW49ZTtlbHNlIGlmKDE8Zil7Zz1BcnJheShmKTtcbmZvcih2YXIgbT0wO208ZjttKyspZ1ttXT1hcmd1bWVudHNbbSsyXTtkLmNoaWxkcmVuPWd9cmV0dXJueyQkdHlwZW9mOmwsdHlwZTphLnR5cGUsa2V5OmMscmVmOmsscHJvcHM6ZCxfb3duZXI6aH19O2V4cG9ydHMuY3JlYXRlQ29udGV4dD1mdW5jdGlvbihhKXthPXskJHR5cGVvZjp1LF9jdXJyZW50VmFsdWU6YSxfY3VycmVudFZhbHVlMjphLF90aHJlYWRDb3VudDowLFByb3ZpZGVyOm51bGwsQ29uc3VtZXI6bnVsbCxfZGVmYXVsdFZhbHVlOm51bGwsX2dsb2JhbE5hbWU6bnVsbH07YS5Qcm92aWRlcj17JCR0eXBlb2Y6dCxfY29udGV4dDphfTtyZXR1cm4gYS5Db25zdW1lcj1hfTtleHBvcnRzLmNyZWF0ZUVsZW1lbnQ9TTtleHBvcnRzLmNyZWF0ZUZhY3Rvcnk9ZnVuY3Rpb24oYSl7dmFyIGI9TS5iaW5kKG51bGwsYSk7Yi50eXBlPWE7cmV0dXJuIGJ9O2V4cG9ydHMuY3JlYXRlUmVmPWZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19O1xuZXhwb3J0cy5mb3J3YXJkUmVmPWZ1bmN0aW9uKGEpe3JldHVybnskJHR5cGVvZjp2LHJlbmRlcjphfX07ZXhwb3J0cy5pc1ZhbGlkRWxlbWVudD1PO2V4cG9ydHMubGF6eT1mdW5jdGlvbihhKXtyZXR1cm57JCR0eXBlb2Y6eSxfcGF5bG9hZDp7X3N0YXR1czotMSxfcmVzdWx0OmF9LF9pbml0OlR9fTtleHBvcnRzLm1lbW89ZnVuY3Rpb24oYSxiKXtyZXR1cm57JCR0eXBlb2Y6eCx0eXBlOmEsY29tcGFyZTp2b2lkIDA9PT1iP251bGw6Yn19O2V4cG9ydHMuc3RhcnRUcmFuc2l0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPVYudHJhbnNpdGlvbjtWLnRyYW5zaXRpb249e307dHJ5e2EoKX1maW5hbGx5e1YudHJhbnNpdGlvbj1ifX07ZXhwb3J0cy51bnN0YWJsZV9hY3Q9WDtleHBvcnRzLnVzZUNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFUuY3VycmVudC51c2VDYWxsYmFjayhhLGIpfTtleHBvcnRzLnVzZUNvbnRleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIFUuY3VycmVudC51c2VDb250ZXh0KGEpfTtcbmV4cG9ydHMudXNlRGVidWdWYWx1ZT1mdW5jdGlvbigpe307ZXhwb3J0cy51c2VEZWZlcnJlZFZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiBVLmN1cnJlbnQudXNlRGVmZXJyZWRWYWx1ZShhKX07ZXhwb3J0cy51c2VFZmZlY3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVS5jdXJyZW50LnVzZUVmZmVjdChhLGIpfTtleHBvcnRzLnVzZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIFUuY3VycmVudC51c2VJZCgpfTtleHBvcnRzLnVzZUltcGVyYXRpdmVIYW5kbGU9ZnVuY3Rpb24oYSxiLGUpe3JldHVybiBVLmN1cnJlbnQudXNlSW1wZXJhdGl2ZUhhbmRsZShhLGIsZSl9O2V4cG9ydHMudXNlSW5zZXJ0aW9uRWZmZWN0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIFUuY3VycmVudC51c2VJbnNlcnRpb25FZmZlY3QoYSxiKX07ZXhwb3J0cy51c2VMYXlvdXRFZmZlY3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVS5jdXJyZW50LnVzZUxheW91dEVmZmVjdChhLGIpfTtcbmV4cG9ydHMudXNlTWVtbz1mdW5jdGlvbihhLGIpe3JldHVybiBVLmN1cnJlbnQudXNlTWVtbyhhLGIpfTtleHBvcnRzLnVzZVJlZHVjZXI9ZnVuY3Rpb24oYSxiLGUpe3JldHVybiBVLmN1cnJlbnQudXNlUmVkdWNlcihhLGIsZSl9O2V4cG9ydHMudXNlUmVmPWZ1bmN0aW9uKGEpe3JldHVybiBVLmN1cnJlbnQudXNlUmVmKGEpfTtleHBvcnRzLnVzZVN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiBVLmN1cnJlbnQudXNlU3RhdGUoYSl9O2V4cG9ydHMudXNlU3luY0V4dGVybmFsU3RvcmU9ZnVuY3Rpb24oYSxiLGUpe3JldHVybiBVLmN1cnJlbnQudXNlU3luY0V4dGVybmFsU3RvcmUoYSxiLGUpfTtleHBvcnRzLnVzZVRyYW5zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gVS5jdXJyZW50LnVzZVRyYW5zaXRpb24oKX07ZXhwb3J0cy52ZXJzaW9uPVwiMTguMy4xXCI7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogc2NoZWR1bGVyLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0JztmdW5jdGlvbiBmKGEsYil7dmFyIGM9YS5sZW5ndGg7YS5wdXNoKGIpO2E6Zm9yKDswPGM7KXt2YXIgZD1jLTE+Pj4xLGU9YVtkXTtpZigwPGcoZSxiKSlhW2RdPWIsYVtjXT1lLGM9ZDtlbHNlIGJyZWFrIGF9fWZ1bmN0aW9uIGgoYSl7cmV0dXJuIDA9PT1hLmxlbmd0aD9udWxsOmFbMF19ZnVuY3Rpb24gayhhKXtpZigwPT09YS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGI9YVswXSxjPWEucG9wKCk7aWYoYyE9PWIpe2FbMF09YzthOmZvcih2YXIgZD0wLGU9YS5sZW5ndGgsdz1lPj4+MTtkPHc7KXt2YXIgbT0yKihkKzEpLTEsQz1hW21dLG49bSsxLHg9YVtuXTtpZigwPmcoQyxjKSluPGUmJjA+Zyh4LEMpPyhhW2RdPXgsYVtuXT1jLGQ9bik6KGFbZF09QyxhW21dPWMsZD1tKTtlbHNlIGlmKG48ZSYmMD5nKHgsYykpYVtkXT14LGFbbl09YyxkPW47ZWxzZSBicmVhayBhfX1yZXR1cm4gYn1cbmZ1bmN0aW9uIGcoYSxiKXt2YXIgYz1hLnNvcnRJbmRleC1iLnNvcnRJbmRleDtyZXR1cm4gMCE9PWM/YzphLmlkLWIuaWR9aWYoXCJvYmplY3RcIj09PXR5cGVvZiBwZXJmb3JtYW5jZSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIHBlcmZvcm1hbmNlLm5vdyl7dmFyIGw9cGVyZm9ybWFuY2U7ZXhwb3J0cy51bnN0YWJsZV9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gbC5ub3coKX19ZWxzZXt2YXIgcD1EYXRlLHE9cC5ub3coKTtleHBvcnRzLnVuc3RhYmxlX25vdz1mdW5jdGlvbigpe3JldHVybiBwLm5vdygpLXF9fXZhciByPVtdLHQ9W10sdT0xLHY9bnVsbCx5PTMsej0hMSxBPSExLEI9ITEsRD1cImZ1bmN0aW9uXCI9PT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om51bGwsRT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpudWxsLEY9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBzZXRJbW1lZGlhdGU/c2V0SW1tZWRpYXRlOm51bGw7XG5cInVuZGVmaW5lZFwiIT09dHlwZW9mIG5hdmlnYXRvciYmdm9pZCAwIT09bmF2aWdhdG9yLnNjaGVkdWxpbmcmJnZvaWQgMCE9PW5hdmlnYXRvci5zY2hlZHVsaW5nLmlzSW5wdXRQZW5kaW5nJiZuYXZpZ2F0b3Iuc2NoZWR1bGluZy5pc0lucHV0UGVuZGluZy5iaW5kKG5hdmlnYXRvci5zY2hlZHVsaW5nKTtmdW5jdGlvbiBHKGEpe2Zvcih2YXIgYj1oKHQpO251bGwhPT1iOyl7aWYobnVsbD09PWIuY2FsbGJhY2spayh0KTtlbHNlIGlmKGIuc3RhcnRUaW1lPD1hKWsodCksYi5zb3J0SW5kZXg9Yi5leHBpcmF0aW9uVGltZSxmKHIsYik7ZWxzZSBicmVhaztiPWgodCl9fWZ1bmN0aW9uIEgoYSl7Qj0hMTtHKGEpO2lmKCFBKWlmKG51bGwhPT1oKHIpKUE9ITAsSShKKTtlbHNle3ZhciBiPWgodCk7bnVsbCE9PWImJksoSCxiLnN0YXJ0VGltZS1hKX19XG5mdW5jdGlvbiBKKGEsYil7QT0hMTtCJiYoQj0hMSxFKEwpLEw9LTEpO3o9ITA7dmFyIGM9eTt0cnl7RyhiKTtmb3Iodj1oKHIpO251bGwhPT12JiYoISh2LmV4cGlyYXRpb25UaW1lPmIpfHxhJiYhTSgpKTspe3ZhciBkPXYuY2FsbGJhY2s7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGQpe3YuY2FsbGJhY2s9bnVsbDt5PXYucHJpb3JpdHlMZXZlbDt2YXIgZT1kKHYuZXhwaXJhdGlvblRpbWU8PWIpO2I9ZXhwb3J0cy51bnN0YWJsZV9ub3coKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZT92LmNhbGxiYWNrPWU6dj09PWgocikmJmsocik7RyhiKX1lbHNlIGsocik7dj1oKHIpfWlmKG51bGwhPT12KXZhciB3PSEwO2Vsc2V7dmFyIG09aCh0KTtudWxsIT09bSYmSyhILG0uc3RhcnRUaW1lLWIpO3c9ITF9cmV0dXJuIHd9ZmluYWxseXt2PW51bGwseT1jLHo9ITF9fXZhciBOPSExLE89bnVsbCxMPS0xLFA9NSxRPS0xO1xuZnVuY3Rpb24gTSgpe3JldHVybiBleHBvcnRzLnVuc3RhYmxlX25vdygpLVE8UD8hMTohMH1mdW5jdGlvbiBSKCl7aWYobnVsbCE9PU8pe3ZhciBhPWV4cG9ydHMudW5zdGFibGVfbm93KCk7UT1hO3ZhciBiPSEwO3RyeXtiPU8oITAsYSl9ZmluYWxseXtiP1MoKTooTj0hMSxPPW51bGwpfX1lbHNlIE49ITF9dmFyIFM7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIEYpUz1mdW5jdGlvbigpe0YoUil9O2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCl7dmFyIFQ9bmV3IE1lc3NhZ2VDaGFubmVsLFU9VC5wb3J0MjtULnBvcnQxLm9ubWVzc2FnZT1SO1M9ZnVuY3Rpb24oKXtVLnBvc3RNZXNzYWdlKG51bGwpfX1lbHNlIFM9ZnVuY3Rpb24oKXtEKFIsMCl9O2Z1bmN0aW9uIEkoYSl7Tz1hO058fChOPSEwLFMoKSl9ZnVuY3Rpb24gSyhhLGIpe0w9RChmdW5jdGlvbigpe2EoZXhwb3J0cy51bnN0YWJsZV9ub3coKSl9LGIpfVxuZXhwb3J0cy51bnN0YWJsZV9JZGxlUHJpb3JpdHk9NTtleHBvcnRzLnVuc3RhYmxlX0ltbWVkaWF0ZVByaW9yaXR5PTE7ZXhwb3J0cy51bnN0YWJsZV9Mb3dQcmlvcml0eT00O2V4cG9ydHMudW5zdGFibGVfTm9ybWFsUHJpb3JpdHk9MztleHBvcnRzLnVuc3RhYmxlX1Byb2ZpbGluZz1udWxsO2V4cG9ydHMudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHk9MjtleHBvcnRzLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrPWZ1bmN0aW9uKGEpe2EuY2FsbGJhY2s9bnVsbH07ZXhwb3J0cy51bnN0YWJsZV9jb250aW51ZUV4ZWN1dGlvbj1mdW5jdGlvbigpe0F8fHp8fChBPSEwLEkoSikpfTtcbmV4cG9ydHMudW5zdGFibGVfZm9yY2VGcmFtZVJhdGU9ZnVuY3Rpb24oYSl7MD5hfHwxMjU8YT9jb25zb2xlLmVycm9yKFwiZm9yY2VGcmFtZVJhdGUgdGFrZXMgYSBwb3NpdGl2ZSBpbnQgYmV0d2VlbiAwIGFuZCAxMjUsIGZvcmNpbmcgZnJhbWUgcmF0ZXMgaGlnaGVyIHRoYW4gMTI1IGZwcyBpcyBub3Qgc3VwcG9ydGVkXCIpOlA9MDxhP01hdGguZmxvb3IoMUUzL2EpOjV9O2V4cG9ydHMudW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4geX07ZXhwb3J0cy51bnN0YWJsZV9nZXRGaXJzdENhbGxiYWNrTm9kZT1mdW5jdGlvbigpe3JldHVybiBoKHIpfTtleHBvcnRzLnVuc3RhYmxlX25leHQ9ZnVuY3Rpb24oYSl7c3dpdGNoKHkpe2Nhc2UgMTpjYXNlIDI6Y2FzZSAzOnZhciBiPTM7YnJlYWs7ZGVmYXVsdDpiPXl9dmFyIGM9eTt5PWI7dHJ5e3JldHVybiBhKCl9ZmluYWxseXt5PWN9fTtleHBvcnRzLnVuc3RhYmxlX3BhdXNlRXhlY3V0aW9uPWZ1bmN0aW9uKCl7fTtcbmV4cG9ydHMudW5zdGFibGVfcmVxdWVzdFBhaW50PWZ1bmN0aW9uKCl7fTtleHBvcnRzLnVuc3RhYmxlX3J1bldpdGhQcmlvcml0eT1mdW5jdGlvbihhLGIpe3N3aXRjaChhKXtjYXNlIDE6Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmJyZWFrO2RlZmF1bHQ6YT0zfXZhciBjPXk7eT1hO3RyeXtyZXR1cm4gYigpfWZpbmFsbHl7eT1jfX07XG5leHBvcnRzLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWV4cG9ydHMudW5zdGFibGVfbm93KCk7XCJvYmplY3RcIj09PXR5cGVvZiBjJiZudWxsIT09Yz8oYz1jLmRlbGF5LGM9XCJudW1iZXJcIj09PXR5cGVvZiBjJiYwPGM/ZCtjOmQpOmM9ZDtzd2l0Y2goYSl7Y2FzZSAxOnZhciBlPS0xO2JyZWFrO2Nhc2UgMjplPTI1MDticmVhaztjYXNlIDU6ZT0xMDczNzQxODIzO2JyZWFrO2Nhc2UgNDplPTFFNDticmVhaztkZWZhdWx0OmU9NUUzfWU9YytlO2E9e2lkOnUrKyxjYWxsYmFjazpiLHByaW9yaXR5TGV2ZWw6YSxzdGFydFRpbWU6YyxleHBpcmF0aW9uVGltZTplLHNvcnRJbmRleDotMX07Yz5kPyhhLnNvcnRJbmRleD1jLGYodCxhKSxudWxsPT09aChyKSYmYT09PWgodCkmJihCPyhFKEwpLEw9LTEpOkI9ITAsSyhILGMtZCkpKTooYS5zb3J0SW5kZXg9ZSxmKHIsYSksQXx8enx8KEE9ITAsSShKKSkpO3JldHVybiBhfTtcbmV4cG9ydHMudW5zdGFibGVfc2hvdWxkWWllbGQ9TTtleHBvcnRzLnVuc3RhYmxlX3dyYXBDYWxsYmFjaz1mdW5jdGlvbihhKXt2YXIgYj15O3JldHVybiBmdW5jdGlvbigpe3ZhciBjPXk7eT1iO3RyeXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXt5PWN9fX07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3NjaGVkdWxlci5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9zY2hlZHVsZXIuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuLypcbiBNb2Rlcm5penIgMy4wLjBwcmUgKEN1c3RvbSBCdWlsZCkgfCBNSVRcbiovXG4ndXNlIHN0cmljdCc7dmFyIGFhPXJlcXVpcmUoXCJyZWFjdFwiKSxjYT1yZXF1aXJlKFwic2NoZWR1bGVyXCIpO2Z1bmN0aW9uIHAoYSl7Zm9yKHZhciBiPVwiaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2Vycm9yLWRlY29kZXIuaHRtbD9pbnZhcmlhbnQ9XCIrYSxjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyliKz1cIiZhcmdzW109XCIrZW5jb2RlVVJJQ29tcG9uZW50KGFyZ3VtZW50c1tjXSk7cmV0dXJuXCJNaW5pZmllZCBSZWFjdCBlcnJvciAjXCIrYStcIjsgdmlzaXQgXCIrYitcIiBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuXCJ9dmFyIGRhPW5ldyBTZXQsZWE9e307ZnVuY3Rpb24gZmEoYSxiKXtoYShhLGIpO2hhKGErXCJDYXB0dXJlXCIsYil9XG5mdW5jdGlvbiBoYShhLGIpe2VhW2FdPWI7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKylkYS5hZGQoYlthXSl9XG52YXIgaWE9IShcInVuZGVmaW5lZFwiPT09dHlwZW9mIHdpbmRvd3x8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB3aW5kb3cuZG9jdW1lbnR8fFwidW5kZWZpbmVkXCI9PT10eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpLGphPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksa2E9L15bOkEtWl9hLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdWzpBLVpfYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXFwtLjAtOVxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDBdKiQvLGxhPVxue30sbWE9e307ZnVuY3Rpb24gb2EoYSl7aWYoamEuY2FsbChtYSxhKSlyZXR1cm4hMDtpZihqYS5jYWxsKGxhLGEpKXJldHVybiExO2lmKGthLnRlc3QoYSkpcmV0dXJuIG1hW2FdPSEwO2xhW2FdPSEwO3JldHVybiExfWZ1bmN0aW9uIHBhKGEsYixjLGQpe2lmKG51bGwhPT1jJiYwPT09Yy50eXBlKXJldHVybiExO3N3aXRjaCh0eXBlb2YgYil7Y2FzZSBcImZ1bmN0aW9uXCI6Y2FzZSBcInN5bWJvbFwiOnJldHVybiEwO2Nhc2UgXCJib29sZWFuXCI6aWYoZClyZXR1cm4hMTtpZihudWxsIT09YylyZXR1cm4hYy5hY2NlcHRzQm9vbGVhbnM7YT1hLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCw1KTtyZXR1cm5cImRhdGEtXCIhPT1hJiZcImFyaWEtXCIhPT1hO2RlZmF1bHQ6cmV0dXJuITF9fVxuZnVuY3Rpb24gcWEoYSxiLGMsZCl7aWYobnVsbD09PWJ8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgYnx8cGEoYSxiLGMsZCkpcmV0dXJuITA7aWYoZClyZXR1cm4hMTtpZihudWxsIT09Yylzd2l0Y2goYy50eXBlKXtjYXNlIDM6cmV0dXJuIWI7Y2FzZSA0OnJldHVybiExPT09YjtjYXNlIDU6cmV0dXJuIGlzTmFOKGIpO2Nhc2UgNjpyZXR1cm4gaXNOYU4oYil8fDE+Yn1yZXR1cm4hMX1mdW5jdGlvbiB2KGEsYixjLGQsZSxmLGcpe3RoaXMuYWNjZXB0c0Jvb2xlYW5zPTI9PT1ifHwzPT09Ynx8ND09PWI7dGhpcy5hdHRyaWJ1dGVOYW1lPWQ7dGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9ZTt0aGlzLm11c3RVc2VQcm9wZXJ0eT1jO3RoaXMucHJvcGVydHlOYW1lPWE7dGhpcy50eXBlPWI7dGhpcy5zYW5pdGl6ZVVSTD1mO3RoaXMucmVtb3ZlRW1wdHlTdHJpbmc9Z312YXIgej17fTtcblwiY2hpbGRyZW4gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgZGVmYXVsdFZhbHVlIGRlZmF1bHRDaGVja2VkIGlubmVySFRNTCBzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIHN0eWxlXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDAsITEsYSxudWxsLCExLCExKX0pO1tbXCJhY2NlcHRDaGFyc2V0XCIsXCJhY2NlcHQtY2hhcnNldFwiXSxbXCJjbGFzc05hbWVcIixcImNsYXNzXCJdLFtcImh0bWxGb3JcIixcImZvclwiXSxbXCJodHRwRXF1aXZcIixcImh0dHAtZXF1aXZcIl1dLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YVswXTt6W2JdPW5ldyB2KGIsMSwhMSxhWzFdLG51bGwsITEsITEpfSk7W1wiY29udGVudEVkaXRhYmxlXCIsXCJkcmFnZ2FibGVcIixcInNwZWxsQ2hlY2tcIixcInZhbHVlXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDIsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITEsITEpfSk7XG5bXCJhdXRvUmV2ZXJzZVwiLFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiLFwiZm9jdXNhYmxlXCIsXCJwcmVzZXJ2ZUFscGhhXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDIsITEsYSxudWxsLCExLCExKX0pO1wiYWxsb3dGdWxsU2NyZWVuIGFzeW5jIGF1dG9Gb2N1cyBhdXRvUGxheSBjb250cm9scyBkZWZhdWx0IGRlZmVyIGRpc2FibGVkIGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlIGRpc2FibGVSZW1vdGVQbGF5YmFjayBmb3JtTm9WYWxpZGF0ZSBoaWRkZW4gbG9vcCBub01vZHVsZSBub1ZhbGlkYXRlIG9wZW4gcGxheXNJbmxpbmUgcmVhZE9ubHkgcmVxdWlyZWQgcmV2ZXJzZWQgc2NvcGVkIHNlYW1sZXNzIGl0ZW1TY29wZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSwzLCExLGEudG9Mb3dlckNhc2UoKSxudWxsLCExLCExKX0pO1xuW1wiY2hlY2tlZFwiLFwibXVsdGlwbGVcIixcIm11dGVkXCIsXCJzZWxlY3RlZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSwzLCEwLGEsbnVsbCwhMSwhMSl9KTtbXCJjYXB0dXJlXCIsXCJkb3dubG9hZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHYoYSw0LCExLGEsbnVsbCwhMSwhMSl9KTtbXCJjb2xzXCIsXCJyb3dzXCIsXCJzaXplXCIsXCJzcGFuXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDYsITEsYSxudWxsLCExLCExKX0pO1tcInJvd1NwYW5cIixcInN0YXJ0XCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDUsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITEsITEpfSk7dmFyIHJhPS9bXFwtOl0oW2Etel0pL2c7ZnVuY3Rpb24gc2EoYSl7cmV0dXJuIGFbMV0udG9VcHBlckNhc2UoKX1cblwiYWNjZW50LWhlaWdodCBhbGlnbm1lbnQtYmFzZWxpbmUgYXJhYmljLWZvcm0gYmFzZWxpbmUtc2hpZnQgY2FwLWhlaWdodCBjbGlwLXBhdGggY2xpcC1ydWxlIGNvbG9yLWludGVycG9sYXRpb24gY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzIGNvbG9yLXByb2ZpbGUgY29sb3ItcmVuZGVyaW5nIGRvbWluYW50LWJhc2VsaW5lIGVuYWJsZS1iYWNrZ3JvdW5kIGZpbGwtb3BhY2l0eSBmaWxsLXJ1bGUgZmxvb2QtY29sb3IgZmxvb2Qtb3BhY2l0eSBmb250LWZhbWlseSBmb250LXNpemUgZm9udC1zaXplLWFkanVzdCBmb250LXN0cmV0Y2ggZm9udC1zdHlsZSBmb250LXZhcmlhbnQgZm9udC13ZWlnaHQgZ2x5cGgtbmFtZSBnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsIGdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsIGhvcml6LWFkdi14IGhvcml6LW9yaWdpbi14IGltYWdlLXJlbmRlcmluZyBsZXR0ZXItc3BhY2luZyBsaWdodGluZy1jb2xvciBtYXJrZXItZW5kIG1hcmtlci1taWQgbWFya2VyLXN0YXJ0IG92ZXJsaW5lLXBvc2l0aW9uIG92ZXJsaW5lLXRoaWNrbmVzcyBwYWludC1vcmRlciBwYW5vc2UtMSBwb2ludGVyLWV2ZW50cyByZW5kZXJpbmctaW50ZW50IHNoYXBlLXJlbmRlcmluZyBzdG9wLWNvbG9yIHN0b3Atb3BhY2l0eSBzdHJpa2V0aHJvdWdoLXBvc2l0aW9uIHN0cmlrZXRocm91Z2gtdGhpY2tuZXNzIHN0cm9rZS1kYXNoYXJyYXkgc3Ryb2tlLWRhc2hvZmZzZXQgc3Ryb2tlLWxpbmVjYXAgc3Ryb2tlLWxpbmVqb2luIHN0cm9rZS1taXRlcmxpbWl0IHN0cm9rZS1vcGFjaXR5IHN0cm9rZS13aWR0aCB0ZXh0LWFuY2hvciB0ZXh0LWRlY29yYXRpb24gdGV4dC1yZW5kZXJpbmcgdW5kZXJsaW5lLXBvc2l0aW9uIHVuZGVybGluZS10aGlja25lc3MgdW5pY29kZS1iaWRpIHVuaWNvZGUtcmFuZ2UgdW5pdHMtcGVyLWVtIHYtYWxwaGFiZXRpYyB2LWhhbmdpbmcgdi1pZGVvZ3JhcGhpYyB2LW1hdGhlbWF0aWNhbCB2ZWN0b3ItZWZmZWN0IHZlcnQtYWR2LXkgdmVydC1vcmlnaW4teCB2ZXJ0LW9yaWdpbi15IHdvcmQtc3BhY2luZyB3cml0aW5nLW1vZGUgeG1sbnM6eGxpbmsgeC1oZWlnaHRcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UocmEsXG5zYSk7eltiXT1uZXcgdihiLDEsITEsYSxudWxsLCExLCExKX0pO1wieGxpbms6YWN0dWF0ZSB4bGluazphcmNyb2xlIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKHJhLHNhKTt6W2JdPW5ldyB2KGIsMSwhMSxhLFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCExLCExKX0pO1tcInhtbDpiYXNlXCIsXCJ4bWw6bGFuZ1wiLFwieG1sOnNwYWNlXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKHJhLHNhKTt6W2JdPW5ldyB2KGIsMSwhMSxhLFwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXCIsITEsITEpfSk7W1widGFiSW5kZXhcIixcImNyb3NzT3JpZ2luXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDEsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITEsITEpfSk7XG56LnhsaW5rSHJlZj1uZXcgdihcInhsaW5rSHJlZlwiLDEsITEsXCJ4bGluazpocmVmXCIsXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsITAsITEpO1tcInNyY1wiLFwiaHJlZlwiLFwiYWN0aW9uXCIsXCJmb3JtQWN0aW9uXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDEsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITAsITApfSk7XG5mdW5jdGlvbiB0YShhLGIsYyxkKXt2YXIgZT16Lmhhc093blByb3BlcnR5KGIpP3pbYl06bnVsbDtpZihudWxsIT09ZT8wIT09ZS50eXBlOmR8fCEoMjxiLmxlbmd0aCl8fFwib1wiIT09YlswXSYmXCJPXCIhPT1iWzBdfHxcIm5cIiE9PWJbMV0mJlwiTlwiIT09YlsxXSlxYShiLGMsZSxkKSYmKGM9bnVsbCksZHx8bnVsbD09PWU/b2EoYikmJihudWxsPT09Yz9hLnJlbW92ZUF0dHJpYnV0ZShiKTphLnNldEF0dHJpYnV0ZShiLFwiXCIrYykpOmUubXVzdFVzZVByb3BlcnR5P2FbZS5wcm9wZXJ0eU5hbWVdPW51bGw9PT1jPzM9PT1lLnR5cGU/ITE6XCJcIjpjOihiPWUuYXR0cmlidXRlTmFtZSxkPWUuYXR0cmlidXRlTmFtZXNwYWNlLG51bGw9PT1jP2EucmVtb3ZlQXR0cmlidXRlKGIpOihlPWUudHlwZSxjPTM9PT1lfHw0PT09ZSYmITA9PT1jP1wiXCI6XCJcIitjLGQ/YS5zZXRBdHRyaWJ1dGVOUyhkLGIsYyk6YS5zZXRBdHRyaWJ1dGUoYixjKSkpfVxudmFyIHVhPWFhLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELHZhPVN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLHdhPVN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIikseWE9U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLHphPVN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxBYT1TeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIiksQmE9U3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpLENhPVN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLERhPVN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxFYT1TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksRmE9U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksR2E9U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksSGE9U3ltYm9sLmZvcihcInJlYWN0LmxhenlcIik7U3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpO1N5bWJvbC5mb3IoXCJyZWFjdC5kZWJ1Z190cmFjZV9tb2RlXCIpO1xudmFyIElhPVN5bWJvbC5mb3IoXCJyZWFjdC5vZmZzY3JlZW5cIik7U3ltYm9sLmZvcihcInJlYWN0LmxlZ2FjeV9oaWRkZW5cIik7U3ltYm9sLmZvcihcInJlYWN0LmNhY2hlXCIpO1N5bWJvbC5mb3IoXCJyZWFjdC50cmFjaW5nX21hcmtlclwiKTt2YXIgSmE9U3ltYm9sLml0ZXJhdG9yO2Z1bmN0aW9uIEthKGEpe2lmKG51bGw9PT1hfHxcIm9iamVjdFwiIT09dHlwZW9mIGEpcmV0dXJuIG51bGw7YT1KYSYmYVtKYV18fGFbXCJAQGl0ZXJhdG9yXCJdO3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBhP2E6bnVsbH12YXIgQT1PYmplY3QuYXNzaWduLExhO2Z1bmN0aW9uIE1hKGEpe2lmKHZvaWQgMD09PUxhKXRyeXt0aHJvdyBFcnJvcigpO31jYXRjaChjKXt2YXIgYj1jLnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO0xhPWImJmJbMV18fFwiXCJ9cmV0dXJuXCJcXG5cIitMYSthfXZhciBOYT0hMTtcbmZ1bmN0aW9uIE9hKGEsYil7aWYoIWF8fE5hKXJldHVyblwiXCI7TmE9ITA7dmFyIGM9RXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7RXJyb3IucHJlcGFyZVN0YWNrVHJhY2U9dm9pZCAwO3RyeXtpZihiKWlmKGI9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigpO30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLFwicHJvcHNcIix7c2V0OmZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoKTt9fSksXCJvYmplY3RcIj09PXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmNvbnN0cnVjdCl7dHJ5e1JlZmxlY3QuY29uc3RydWN0KGIsW10pfWNhdGNoKGwpe3ZhciBkPWx9UmVmbGVjdC5jb25zdHJ1Y3QoYSxbXSxiKX1lbHNle3RyeXtiLmNhbGwoKX1jYXRjaChsKXtkPWx9YS5jYWxsKGIucHJvdG90eXBlKX1lbHNle3RyeXt0aHJvdyBFcnJvcigpO31jYXRjaChsKXtkPWx9YSgpfX1jYXRjaChsKXtpZihsJiZkJiZcInN0cmluZ1wiPT09dHlwZW9mIGwuc3RhY2spe2Zvcih2YXIgZT1sLnN0YWNrLnNwbGl0KFwiXFxuXCIpLFxuZj1kLnN0YWNrLnNwbGl0KFwiXFxuXCIpLGc9ZS5sZW5ndGgtMSxoPWYubGVuZ3RoLTE7MTw9ZyYmMDw9aCYmZVtnXSE9PWZbaF07KWgtLTtmb3IoOzE8PWcmJjA8PWg7Zy0tLGgtLSlpZihlW2ddIT09ZltoXSl7aWYoMSE9PWd8fDEhPT1oKXtkbyBpZihnLS0saC0tLDA+aHx8ZVtnXSE9PWZbaF0pe3ZhciBrPVwiXFxuXCIrZVtnXS5yZXBsYWNlKFwiIGF0IG5ldyBcIixcIiBhdCBcIik7YS5kaXNwbGF5TmFtZSYmay5pbmNsdWRlcyhcIjxhbm9ueW1vdXM+XCIpJiYoaz1rLnJlcGxhY2UoXCI8YW5vbnltb3VzPlwiLGEuZGlzcGxheU5hbWUpKTtyZXR1cm4ga313aGlsZSgxPD1nJiYwPD1oKX1icmVha319fWZpbmFsbHl7TmE9ITEsRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U9Y31yZXR1cm4oYT1hP2EuZGlzcGxheU5hbWV8fGEubmFtZTpcIlwiKT9NYShhKTpcIlwifVxuZnVuY3Rpb24gUGEoYSl7c3dpdGNoKGEudGFnKXtjYXNlIDU6cmV0dXJuIE1hKGEudHlwZSk7Y2FzZSAxNjpyZXR1cm4gTWEoXCJMYXp5XCIpO2Nhc2UgMTM6cmV0dXJuIE1hKFwiU3VzcGVuc2VcIik7Y2FzZSAxOTpyZXR1cm4gTWEoXCJTdXNwZW5zZUxpc3RcIik7Y2FzZSAwOmNhc2UgMjpjYXNlIDE1OnJldHVybiBhPU9hKGEudHlwZSwhMSksYTtjYXNlIDExOnJldHVybiBhPU9hKGEudHlwZS5yZW5kZXIsITEpLGE7Y2FzZSAxOnJldHVybiBhPU9hKGEudHlwZSwhMCksYTtkZWZhdWx0OnJldHVyblwiXCJ9fVxuZnVuY3Rpb24gUWEoYSl7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSlyZXR1cm4gYS5kaXNwbGF5TmFtZXx8YS5uYW1lfHxudWxsO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlyZXR1cm4gYTtzd2l0Y2goYSl7Y2FzZSB5YTpyZXR1cm5cIkZyYWdtZW50XCI7Y2FzZSB3YTpyZXR1cm5cIlBvcnRhbFwiO2Nhc2UgQWE6cmV0dXJuXCJQcm9maWxlclwiO2Nhc2UgemE6cmV0dXJuXCJTdHJpY3RNb2RlXCI7Y2FzZSBFYTpyZXR1cm5cIlN1c3BlbnNlXCI7Y2FzZSBGYTpyZXR1cm5cIlN1c3BlbnNlTGlzdFwifWlmKFwib2JqZWN0XCI9PT10eXBlb2YgYSlzd2l0Y2goYS4kJHR5cGVvZil7Y2FzZSBDYTpyZXR1cm4oYS5kaXNwbGF5TmFtZXx8XCJDb250ZXh0XCIpK1wiLkNvbnN1bWVyXCI7Y2FzZSBCYTpyZXR1cm4oYS5fY29udGV4dC5kaXNwbGF5TmFtZXx8XCJDb250ZXh0XCIpK1wiLlByb3ZpZGVyXCI7Y2FzZSBEYTp2YXIgYj1hLnJlbmRlcjthPWEuZGlzcGxheU5hbWU7YXx8KGE9Yi5kaXNwbGF5TmFtZXx8XG5iLm5hbWV8fFwiXCIsYT1cIlwiIT09YT9cIkZvcndhcmRSZWYoXCIrYStcIilcIjpcIkZvcndhcmRSZWZcIik7cmV0dXJuIGE7Y2FzZSBHYTpyZXR1cm4gYj1hLmRpc3BsYXlOYW1lfHxudWxsLG51bGwhPT1iP2I6UWEoYS50eXBlKXx8XCJNZW1vXCI7Y2FzZSBIYTpiPWEuX3BheWxvYWQ7YT1hLl9pbml0O3RyeXtyZXR1cm4gUWEoYShiKSl9Y2F0Y2goYyl7fX1yZXR1cm4gbnVsbH1cbmZ1bmN0aW9uIFJhKGEpe3ZhciBiPWEudHlwZTtzd2l0Y2goYS50YWcpe2Nhc2UgMjQ6cmV0dXJuXCJDYWNoZVwiO2Nhc2UgOTpyZXR1cm4oYi5kaXNwbGF5TmFtZXx8XCJDb250ZXh0XCIpK1wiLkNvbnN1bWVyXCI7Y2FzZSAxMDpyZXR1cm4oYi5fY29udGV4dC5kaXNwbGF5TmFtZXx8XCJDb250ZXh0XCIpK1wiLlByb3ZpZGVyXCI7Y2FzZSAxODpyZXR1cm5cIkRlaHlkcmF0ZWRGcmFnbWVudFwiO2Nhc2UgMTE6cmV0dXJuIGE9Yi5yZW5kZXIsYT1hLmRpc3BsYXlOYW1lfHxhLm5hbWV8fFwiXCIsYi5kaXNwbGF5TmFtZXx8KFwiXCIhPT1hP1wiRm9yd2FyZFJlZihcIithK1wiKVwiOlwiRm9yd2FyZFJlZlwiKTtjYXNlIDc6cmV0dXJuXCJGcmFnbWVudFwiO2Nhc2UgNTpyZXR1cm4gYjtjYXNlIDQ6cmV0dXJuXCJQb3J0YWxcIjtjYXNlIDM6cmV0dXJuXCJSb290XCI7Y2FzZSA2OnJldHVyblwiVGV4dFwiO2Nhc2UgMTY6cmV0dXJuIFFhKGIpO2Nhc2UgODpyZXR1cm4gYj09PXphP1wiU3RyaWN0TW9kZVwiOlwiTW9kZVwiO2Nhc2UgMjI6cmV0dXJuXCJPZmZzY3JlZW5cIjtcbmNhc2UgMTI6cmV0dXJuXCJQcm9maWxlclwiO2Nhc2UgMjE6cmV0dXJuXCJTY29wZVwiO2Nhc2UgMTM6cmV0dXJuXCJTdXNwZW5zZVwiO2Nhc2UgMTk6cmV0dXJuXCJTdXNwZW5zZUxpc3RcIjtjYXNlIDI1OnJldHVyblwiVHJhY2luZ01hcmtlclwiO2Nhc2UgMTpjYXNlIDA6Y2FzZSAxNzpjYXNlIDI6Y2FzZSAxNDpjYXNlIDE1OmlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKXJldHVybiBiLmRpc3BsYXlOYW1lfHxiLm5hbWV8fG51bGw7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBiKXJldHVybiBifXJldHVybiBudWxsfWZ1bmN0aW9uIFNhKGEpe3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcImJvb2xlYW5cIjpjYXNlIFwibnVtYmVyXCI6Y2FzZSBcInN0cmluZ1wiOmNhc2UgXCJ1bmRlZmluZWRcIjpyZXR1cm4gYTtjYXNlIFwib2JqZWN0XCI6cmV0dXJuIGE7ZGVmYXVsdDpyZXR1cm5cIlwifX1cbmZ1bmN0aW9uIFRhKGEpe3ZhciBiPWEudHlwZTtyZXR1cm4oYT1hLm5vZGVOYW1lKSYmXCJpbnB1dFwiPT09YS50b0xvd2VyQ2FzZSgpJiYoXCJjaGVja2JveFwiPT09Ynx8XCJyYWRpb1wiPT09Yil9XG5mdW5jdGlvbiBVYShhKXt2YXIgYj1UYShhKT9cImNoZWNrZWRcIjpcInZhbHVlXCIsYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEuY29uc3RydWN0b3IucHJvdG90eXBlLGIpLGQ9XCJcIithW2JdO2lmKCFhLmhhc093blByb3BlcnR5KGIpJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGMmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBjLmdldCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGMuc2V0KXt2YXIgZT1jLmdldCxmPWMuc2V0O09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMpfSxzZXQ6ZnVuY3Rpb24oYSl7ZD1cIlwiK2E7Zi5jYWxsKHRoaXMsYSl9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7ZW51bWVyYWJsZTpjLmVudW1lcmFibGV9KTtyZXR1cm57Z2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZH0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7ZD1cIlwiK2F9LHN0b3BUcmFja2luZzpmdW5jdGlvbigpe2EuX3ZhbHVlVHJhY2tlcj1cbm51bGw7ZGVsZXRlIGFbYl19fX19ZnVuY3Rpb24gVmEoYSl7YS5fdmFsdWVUcmFja2VyfHwoYS5fdmFsdWVUcmFja2VyPVVhKGEpKX1mdW5jdGlvbiBXYShhKXtpZighYSlyZXR1cm4hMTt2YXIgYj1hLl92YWx1ZVRyYWNrZXI7aWYoIWIpcmV0dXJuITA7dmFyIGM9Yi5nZXRWYWx1ZSgpO3ZhciBkPVwiXCI7YSYmKGQ9VGEoYSk/YS5jaGVja2VkP1widHJ1ZVwiOlwiZmFsc2VcIjphLnZhbHVlKTthPWQ7cmV0dXJuIGEhPT1jPyhiLnNldFZhbHVlKGEpLCEwKTohMX1mdW5jdGlvbiBYYShhKXthPWF8fChcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50OnZvaWQgMCk7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhKXJldHVybiBudWxsO3RyeXtyZXR1cm4gYS5hY3RpdmVFbGVtZW50fHxhLmJvZHl9Y2F0Y2goYil7cmV0dXJuIGEuYm9keX19XG5mdW5jdGlvbiBZYShhLGIpe3ZhciBjPWIuY2hlY2tlZDtyZXR1cm4gQSh7fSxiLHtkZWZhdWx0Q2hlY2tlZDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCx2YWx1ZTp2b2lkIDAsY2hlY2tlZDpudWxsIT1jP2M6YS5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkfSl9ZnVuY3Rpb24gWmEoYSxiKXt2YXIgYz1udWxsPT1iLmRlZmF1bHRWYWx1ZT9cIlwiOmIuZGVmYXVsdFZhbHVlLGQ9bnVsbCE9Yi5jaGVja2VkP2IuY2hlY2tlZDpiLmRlZmF1bHRDaGVja2VkO2M9U2EobnVsbCE9Yi52YWx1ZT9iLnZhbHVlOmMpO2EuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbENoZWNrZWQ6ZCxpbml0aWFsVmFsdWU6Yyxjb250cm9sbGVkOlwiY2hlY2tib3hcIj09PWIudHlwZXx8XCJyYWRpb1wiPT09Yi50eXBlP251bGwhPWIuY2hlY2tlZDpudWxsIT1iLnZhbHVlfX1mdW5jdGlvbiBhYihhLGIpe2I9Yi5jaGVja2VkO251bGwhPWImJnRhKGEsXCJjaGVja2VkXCIsYiwhMSl9XG5mdW5jdGlvbiBiYihhLGIpe2FiKGEsYik7dmFyIGM9U2EoYi52YWx1ZSksZD1iLnR5cGU7aWYobnVsbCE9YylpZihcIm51bWJlclwiPT09ZCl7aWYoMD09PWMmJlwiXCI9PT1hLnZhbHVlfHxhLnZhbHVlIT1jKWEudmFsdWU9XCJcIitjfWVsc2UgYS52YWx1ZSE9PVwiXCIrYyYmKGEudmFsdWU9XCJcIitjKTtlbHNlIGlmKFwic3VibWl0XCI9PT1kfHxcInJlc2V0XCI9PT1kKXthLnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpO3JldHVybn1iLmhhc093blByb3BlcnR5KFwidmFsdWVcIik/Y2IoYSxiLnR5cGUsYyk6Yi5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSYmY2IoYSxiLnR5cGUsU2EoYi5kZWZhdWx0VmFsdWUpKTtudWxsPT1iLmNoZWNrZWQmJm51bGwhPWIuZGVmYXVsdENoZWNrZWQmJihhLmRlZmF1bHRDaGVja2VkPSEhYi5kZWZhdWx0Q2hlY2tlZCl9XG5mdW5jdGlvbiBkYihhLGIsYyl7aWYoYi5oYXNPd25Qcm9wZXJ0eShcInZhbHVlXCIpfHxiLmhhc093blByb3BlcnR5KFwiZGVmYXVsdFZhbHVlXCIpKXt2YXIgZD1iLnR5cGU7aWYoIShcInN1Ym1pdFwiIT09ZCYmXCJyZXNldFwiIT09ZHx8dm9pZCAwIT09Yi52YWx1ZSYmbnVsbCE9PWIudmFsdWUpKXJldHVybjtiPVwiXCIrYS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZTtjfHxiPT09YS52YWx1ZXx8KGEudmFsdWU9Yik7YS5kZWZhdWx0VmFsdWU9Yn1jPWEubmFtZTtcIlwiIT09YyYmKGEubmFtZT1cIlwiKTthLmRlZmF1bHRDaGVja2VkPSEhYS5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkO1wiXCIhPT1jJiYoYS5uYW1lPWMpfVxuZnVuY3Rpb24gY2IoYSxiLGMpe2lmKFwibnVtYmVyXCIhPT1ifHxYYShhLm93bmVyRG9jdW1lbnQpIT09YSludWxsPT1jP2EuZGVmYXVsdFZhbHVlPVwiXCIrYS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZTphLmRlZmF1bHRWYWx1ZSE9PVwiXCIrYyYmKGEuZGVmYXVsdFZhbHVlPVwiXCIrYyl9dmFyIGViPUFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBmYihhLGIsYyxkKXthPWEub3B0aW9ucztpZihiKXtiPXt9O2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWJbXCIkXCIrY1tlXV09ITA7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyllPWIuaGFzT3duUHJvcGVydHkoXCIkXCIrYVtjXS52YWx1ZSksYVtjXS5zZWxlY3RlZCE9PWUmJihhW2NdLnNlbGVjdGVkPWUpLGUmJmQmJihhW2NdLmRlZmF1bHRTZWxlY3RlZD0hMCl9ZWxzZXtjPVwiXCIrU2EoYyk7Yj1udWxsO2ZvcihlPTA7ZTxhLmxlbmd0aDtlKyspe2lmKGFbZV0udmFsdWU9PT1jKXthW2VdLnNlbGVjdGVkPSEwO2QmJihhW2VdLmRlZmF1bHRTZWxlY3RlZD0hMCk7cmV0dXJufW51bGwhPT1ifHxhW2VdLmRpc2FibGVkfHwoYj1hW2VdKX1udWxsIT09YiYmKGIuc2VsZWN0ZWQ9ITApfX1cbmZ1bmN0aW9uIGdiKGEsYil7aWYobnVsbCE9Yi5kYW5nZXJvdXNseVNldElubmVySFRNTCl0aHJvdyBFcnJvcihwKDkxKSk7cmV0dXJuIEEoe30sYix7dmFsdWU6dm9pZCAwLGRlZmF1bHRWYWx1ZTp2b2lkIDAsY2hpbGRyZW46XCJcIithLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlfSl9ZnVuY3Rpb24gaGIoYSxiKXt2YXIgYz1iLnZhbHVlO2lmKG51bGw9PWMpe2M9Yi5jaGlsZHJlbjtiPWIuZGVmYXVsdFZhbHVlO2lmKG51bGwhPWMpe2lmKG51bGwhPWIpdGhyb3cgRXJyb3IocCg5MikpO2lmKGViKGMpKXtpZigxPGMubGVuZ3RoKXRocm93IEVycm9yKHAoOTMpKTtjPWNbMF19Yj1jfW51bGw9PWImJihiPVwiXCIpO2M9Yn1hLl93cmFwcGVyU3RhdGU9e2luaXRpYWxWYWx1ZTpTYShjKX19XG5mdW5jdGlvbiBpYihhLGIpe3ZhciBjPVNhKGIudmFsdWUpLGQ9U2EoYi5kZWZhdWx0VmFsdWUpO251bGwhPWMmJihjPVwiXCIrYyxjIT09YS52YWx1ZSYmKGEudmFsdWU9YyksbnVsbD09Yi5kZWZhdWx0VmFsdWUmJmEuZGVmYXVsdFZhbHVlIT09YyYmKGEuZGVmYXVsdFZhbHVlPWMpKTtudWxsIT1kJiYoYS5kZWZhdWx0VmFsdWU9XCJcIitkKX1mdW5jdGlvbiBqYihhKXt2YXIgYj1hLnRleHRDb250ZW50O2I9PT1hLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlJiZcIlwiIT09YiYmbnVsbCE9PWImJihhLnZhbHVlPWIpfWZ1bmN0aW9uIGtiKGEpe3N3aXRjaChhKXtjYXNlIFwic3ZnXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO2Nhc2UgXCJtYXRoXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7ZGVmYXVsdDpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIn19XG5mdW5jdGlvbiBsYihhLGIpe3JldHVybiBudWxsPT1hfHxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIj09PWE/a2IoYik6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPT09YSYmXCJmb3JlaWduT2JqZWN0XCI9PT1iP1wiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiOmF9XG52YXIgbWIsbmI9ZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBNU0FwcCYmTVNBcHAuZXhlY1Vuc2FmZUxvY2FsRnVuY3Rpb24/ZnVuY3Rpb24oYixjLGQsZSl7TVNBcHAuZXhlY1Vuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24oKXtyZXR1cm4gYShiLGMsZCxlKX0pfTphfShmdW5jdGlvbihhLGIpe2lmKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiE9PWEubmFtZXNwYWNlVVJJfHxcImlubmVySFRNTFwiaW4gYSlhLmlubmVySFRNTD1iO2Vsc2V7bWI9bWJ8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bWIuaW5uZXJIVE1MPVwiPHN2Zz5cIitiLnZhbHVlT2YoKS50b1N0cmluZygpK1wiPC9zdmc+XCI7Zm9yKGI9bWIuZmlyc3RDaGlsZDthLmZpcnN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKTtmb3IoO2IuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChiLmZpcnN0Q2hpbGQpfX0pO1xuZnVuY3Rpb24gb2IoYSxiKXtpZihiKXt2YXIgYz1hLmZpcnN0Q2hpbGQ7aWYoYyYmYz09PWEubGFzdENoaWxkJiYzPT09Yy5ub2RlVHlwZSl7Yy5ub2RlVmFsdWU9YjtyZXR1cm59fWEudGV4dENvbnRlbnQ9Yn1cbnZhciBwYj17YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsYXNwZWN0UmF0aW86ITAsYm9yZGVySW1hZ2VPdXRzZXQ6ITAsYm9yZGVySW1hZ2VTbGljZTohMCxib3JkZXJJbWFnZVdpZHRoOiEwLGJveEZsZXg6ITAsYm94RmxleEdyb3VwOiEwLGJveE9yZGluYWxHcm91cDohMCxjb2x1bW5Db3VudDohMCxjb2x1bW5zOiEwLGZsZXg6ITAsZmxleEdyb3c6ITAsZmxleFBvc2l0aXZlOiEwLGZsZXhTaHJpbms6ITAsZmxleE5lZ2F0aXZlOiEwLGZsZXhPcmRlcjohMCxncmlkQXJlYTohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1NwYW46ITAsZ3JpZFJvd1N0YXJ0OiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3BhbjohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZm9udFdlaWdodDohMCxsaW5lQ2xhbXA6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsdGFiU2l6ZTohMCx3aWRvd3M6ITAsekluZGV4OiEwLFxuem9vbTohMCxmaWxsT3BhY2l0eTohMCxmbG9vZE9wYWNpdHk6ITAsc3RvcE9wYWNpdHk6ITAsc3Ryb2tlRGFzaGFycmF5OiEwLHN0cm9rZURhc2hvZmZzZXQ6ITAsc3Ryb2tlTWl0ZXJsaW1pdDohMCxzdHJva2VPcGFjaXR5OiEwLHN0cm9rZVdpZHRoOiEwfSxxYj1bXCJXZWJraXRcIixcIm1zXCIsXCJNb3pcIixcIk9cIl07T2JqZWN0LmtleXMocGIpLmZvckVhY2goZnVuY3Rpb24oYSl7cWIuZm9yRWFjaChmdW5jdGlvbihiKXtiPWIrYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cmluZygxKTtwYltiXT1wYlthXX0pfSk7ZnVuY3Rpb24gcmIoYSxiLGMpe3JldHVybiBudWxsPT1ifHxcImJvb2xlYW5cIj09PXR5cGVvZiBifHxcIlwiPT09Yj9cIlwiOmN8fFwibnVtYmVyXCIhPT10eXBlb2YgYnx8MD09PWJ8fHBiLmhhc093blByb3BlcnR5KGEpJiZwYlthXT8oXCJcIitiKS50cmltKCk6YitcInB4XCJ9XG5mdW5jdGlvbiBzYihhLGIpe2E9YS5zdHlsZTtmb3IodmFyIGMgaW4gYilpZihiLmhhc093blByb3BlcnR5KGMpKXt2YXIgZD0wPT09Yy5pbmRleE9mKFwiLS1cIiksZT1yYihjLGJbY10sZCk7XCJmbG9hdFwiPT09YyYmKGM9XCJjc3NGbG9hdFwiKTtkP2Euc2V0UHJvcGVydHkoYyxlKTphW2NdPWV9fXZhciB0Yj1BKHttZW51aXRlbTohMH0se2FyZWE6ITAsYmFzZTohMCxicjohMCxjb2w6ITAsZW1iZWQ6ITAsaHI6ITAsaW1nOiEwLGlucHV0OiEwLGtleWdlbjohMCxsaW5rOiEwLG1ldGE6ITAscGFyYW06ITAsc291cmNlOiEwLHRyYWNrOiEwLHdicjohMH0pO1xuZnVuY3Rpb24gdWIoYSxiKXtpZihiKXtpZih0YlthXSYmKG51bGwhPWIuY2hpbGRyZW58fG51bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKXRocm93IEVycm9yKHAoMTM3LGEpKTtpZihudWxsIT1iLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKXtpZihudWxsIT1iLmNoaWxkcmVuKXRocm93IEVycm9yKHAoNjApKTtpZihcIm9iamVjdFwiIT09dHlwZW9mIGIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8fCEoXCJfX2h0bWxcImluIGIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKXRocm93IEVycm9yKHAoNjEpKTt9aWYobnVsbCE9Yi5zdHlsZSYmXCJvYmplY3RcIiE9PXR5cGVvZiBiLnN0eWxlKXRocm93IEVycm9yKHAoNjIpKTt9fVxuZnVuY3Rpb24gdmIoYSxiKXtpZigtMT09PWEuaW5kZXhPZihcIi1cIikpcmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBiLmlzO3N3aXRjaChhKXtjYXNlIFwiYW5ub3RhdGlvbi14bWxcIjpjYXNlIFwiY29sb3ItcHJvZmlsZVwiOmNhc2UgXCJmb250LWZhY2VcIjpjYXNlIFwiZm9udC1mYWNlLXNyY1wiOmNhc2UgXCJmb250LWZhY2UtdXJpXCI6Y2FzZSBcImZvbnQtZmFjZS1mb3JtYXRcIjpjYXNlIFwiZm9udC1mYWNlLW5hbWVcIjpjYXNlIFwibWlzc2luZy1nbHlwaFwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuITB9fXZhciB3Yj1udWxsO2Z1bmN0aW9uIHhiKGEpe2E9YS50YXJnZXR8fGEuc3JjRWxlbWVudHx8d2luZG93O2EuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQmJihhPWEuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpO3JldHVybiAzPT09YS5ub2RlVHlwZT9hLnBhcmVudE5vZGU6YX12YXIgeWI9bnVsbCx6Yj1udWxsLEFiPW51bGw7XG5mdW5jdGlvbiBCYihhKXtpZihhPUNiKGEpKXtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgeWIpdGhyb3cgRXJyb3IocCgyODApKTt2YXIgYj1hLnN0YXRlTm9kZTtiJiYoYj1EYihiKSx5YihhLnN0YXRlTm9kZSxhLnR5cGUsYikpfX1mdW5jdGlvbiBFYihhKXt6Yj9BYj9BYi5wdXNoKGEpOkFiPVthXTp6Yj1hfWZ1bmN0aW9uIEZiKCl7aWYoemIpe3ZhciBhPXpiLGI9QWI7QWI9emI9bnVsbDtCYihhKTtpZihiKWZvcihhPTA7YTxiLmxlbmd0aDthKyspQmIoYlthXSl9fWZ1bmN0aW9uIEdiKGEsYil7cmV0dXJuIGEoYil9ZnVuY3Rpb24gSGIoKXt9dmFyIEliPSExO2Z1bmN0aW9uIEpiKGEsYixjKXtpZihJYilyZXR1cm4gYShiLGMpO0liPSEwO3RyeXtyZXR1cm4gR2IoYSxiLGMpfWZpbmFsbHl7aWYoSWI9ITEsbnVsbCE9PXpifHxudWxsIT09QWIpSGIoKSxGYigpfX1cbmZ1bmN0aW9uIEtiKGEsYil7dmFyIGM9YS5zdGF0ZU5vZGU7aWYobnVsbD09PWMpcmV0dXJuIG51bGw7dmFyIGQ9RGIoYyk7aWYobnVsbD09PWQpcmV0dXJuIG51bGw7Yz1kW2JdO2E6c3dpdGNoKGIpe2Nhc2UgXCJvbkNsaWNrXCI6Y2FzZSBcIm9uQ2xpY2tDYXB0dXJlXCI6Y2FzZSBcIm9uRG91YmxlQ2xpY2tcIjpjYXNlIFwib25Eb3VibGVDbGlja0NhcHR1cmVcIjpjYXNlIFwib25Nb3VzZURvd25cIjpjYXNlIFwib25Nb3VzZURvd25DYXB0dXJlXCI6Y2FzZSBcIm9uTW91c2VNb3ZlXCI6Y2FzZSBcIm9uTW91c2VNb3ZlQ2FwdHVyZVwiOmNhc2UgXCJvbk1vdXNlVXBcIjpjYXNlIFwib25Nb3VzZVVwQ2FwdHVyZVwiOmNhc2UgXCJvbk1vdXNlRW50ZXJcIjooZD0hZC5kaXNhYmxlZCl8fChhPWEudHlwZSxkPSEoXCJidXR0b25cIj09PWF8fFwiaW5wdXRcIj09PWF8fFwic2VsZWN0XCI9PT1hfHxcInRleHRhcmVhXCI9PT1hKSk7YT0hZDticmVhayBhO2RlZmF1bHQ6YT0hMX1pZihhKXJldHVybiBudWxsO2lmKGMmJlwiZnVuY3Rpb25cIiE9PVxudHlwZW9mIGMpdGhyb3cgRXJyb3IocCgyMzEsYix0eXBlb2YgYykpO3JldHVybiBjfXZhciBMYj0hMTtpZihpYSl0cnl7dmFyIE1iPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShNYixcInBhc3NpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7TGI9ITB9fSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsTWIsTWIpO3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFwiLE1iLE1iKX1jYXRjaChhKXtMYj0hMX1mdW5jdGlvbiBOYihhLGIsYyxkLGUsZixnLGgsayl7dmFyIGw9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDMpO3RyeXtiLmFwcGx5KGMsbCl9Y2F0Y2gobSl7dGhpcy5vbkVycm9yKG0pfX12YXIgT2I9ITEsUGI9bnVsbCxRYj0hMSxSYj1udWxsLFNiPXtvbkVycm9yOmZ1bmN0aW9uKGEpe09iPSEwO1BiPWF9fTtmdW5jdGlvbiBUYihhLGIsYyxkLGUsZixnLGgsayl7T2I9ITE7UGI9bnVsbDtOYi5hcHBseShTYixhcmd1bWVudHMpfVxuZnVuY3Rpb24gVWIoYSxiLGMsZCxlLGYsZyxoLGspe1RiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihPYil7aWYoT2Ipe3ZhciBsPVBiO09iPSExO1BiPW51bGx9ZWxzZSB0aHJvdyBFcnJvcihwKDE5OCkpO1FifHwoUWI9ITAsUmI9bCl9fWZ1bmN0aW9uIFZiKGEpe3ZhciBiPWEsYz1hO2lmKGEuYWx0ZXJuYXRlKWZvcig7Yi5yZXR1cm47KWI9Yi5yZXR1cm47ZWxzZXthPWI7ZG8gYj1hLDAhPT0oYi5mbGFncyY0MDk4KSYmKGM9Yi5yZXR1cm4pLGE9Yi5yZXR1cm47d2hpbGUoYSl9cmV0dXJuIDM9PT1iLnRhZz9jOm51bGx9ZnVuY3Rpb24gV2IoYSl7aWYoMTM9PT1hLnRhZyl7dmFyIGI9YS5tZW1vaXplZFN0YXRlO251bGw9PT1iJiYoYT1hLmFsdGVybmF0ZSxudWxsIT09YSYmKGI9YS5tZW1vaXplZFN0YXRlKSk7aWYobnVsbCE9PWIpcmV0dXJuIGIuZGVoeWRyYXRlZH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBYYihhKXtpZihWYihhKSE9PWEpdGhyb3cgRXJyb3IocCgxODgpKTt9XG5mdW5jdGlvbiBZYihhKXt2YXIgYj1hLmFsdGVybmF0ZTtpZighYil7Yj1WYihhKTtpZihudWxsPT09Yil0aHJvdyBFcnJvcihwKDE4OCkpO3JldHVybiBiIT09YT9udWxsOmF9Zm9yKHZhciBjPWEsZD1iOzspe3ZhciBlPWMucmV0dXJuO2lmKG51bGw9PT1lKWJyZWFrO3ZhciBmPWUuYWx0ZXJuYXRlO2lmKG51bGw9PT1mKXtkPWUucmV0dXJuO2lmKG51bGwhPT1kKXtjPWQ7Y29udGludWV9YnJlYWt9aWYoZS5jaGlsZD09PWYuY2hpbGQpe2ZvcihmPWUuY2hpbGQ7Zjspe2lmKGY9PT1jKXJldHVybiBYYihlKSxhO2lmKGY9PT1kKXJldHVybiBYYihlKSxiO2Y9Zi5zaWJsaW5nfXRocm93IEVycm9yKHAoMTg4KSk7fWlmKGMucmV0dXJuIT09ZC5yZXR1cm4pYz1lLGQ9ZjtlbHNle2Zvcih2YXIgZz0hMSxoPWUuY2hpbGQ7aDspe2lmKGg9PT1jKXtnPSEwO2M9ZTtkPWY7YnJlYWt9aWYoaD09PWQpe2c9ITA7ZD1lO2M9ZjticmVha31oPWguc2libGluZ31pZighZyl7Zm9yKGg9Zi5jaGlsZDtoOyl7aWYoaD09PVxuYyl7Zz0hMDtjPWY7ZD1lO2JyZWFrfWlmKGg9PT1kKXtnPSEwO2Q9ZjtjPWU7YnJlYWt9aD1oLnNpYmxpbmd9aWYoIWcpdGhyb3cgRXJyb3IocCgxODkpKTt9fWlmKGMuYWx0ZXJuYXRlIT09ZCl0aHJvdyBFcnJvcihwKDE5MCkpO31pZigzIT09Yy50YWcpdGhyb3cgRXJyb3IocCgxODgpKTtyZXR1cm4gYy5zdGF0ZU5vZGUuY3VycmVudD09PWM/YTpifWZ1bmN0aW9uIFpiKGEpe2E9WWIoYSk7cmV0dXJuIG51bGwhPT1hPyRiKGEpOm51bGx9ZnVuY3Rpb24gJGIoYSl7aWYoNT09PWEudGFnfHw2PT09YS50YWcpcmV0dXJuIGE7Zm9yKGE9YS5jaGlsZDtudWxsIT09YTspe3ZhciBiPSRiKGEpO2lmKG51bGwhPT1iKXJldHVybiBiO2E9YS5zaWJsaW5nfXJldHVybiBudWxsfVxudmFyIGFjPWNhLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2ssYmM9Y2EudW5zdGFibGVfY2FuY2VsQ2FsbGJhY2ssY2M9Y2EudW5zdGFibGVfc2hvdWxkWWllbGQsZGM9Y2EudW5zdGFibGVfcmVxdWVzdFBhaW50LEI9Y2EudW5zdGFibGVfbm93LGVjPWNhLnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsLGZjPWNhLnVuc3RhYmxlX0ltbWVkaWF0ZVByaW9yaXR5LGdjPWNhLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5LGhjPWNhLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LGljPWNhLnVuc3RhYmxlX0xvd1ByaW9yaXR5LGpjPWNhLnVuc3RhYmxlX0lkbGVQcmlvcml0eSxrYz1udWxsLGxjPW51bGw7ZnVuY3Rpb24gbWMoYSl7aWYobGMmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBsYy5vbkNvbW1pdEZpYmVyUm9vdCl0cnl7bGMub25Db21taXRGaWJlclJvb3Qoa2MsYSx2b2lkIDAsMTI4PT09KGEuY3VycmVudC5mbGFncyYxMjgpKX1jYXRjaChiKXt9fVxudmFyIG9jPU1hdGguY2x6MzI/TWF0aC5jbHozMjpuYyxwYz1NYXRoLmxvZyxxYz1NYXRoLkxOMjtmdW5jdGlvbiBuYyhhKXthPj4+PTA7cmV0dXJuIDA9PT1hPzMyOjMxLShwYyhhKS9xY3wwKXwwfXZhciByYz02NCxzYz00MTk0MzA0O1xuZnVuY3Rpb24gdGMoYSl7c3dpdGNoKGEmLWEpe2Nhc2UgMTpyZXR1cm4gMTtjYXNlIDI6cmV0dXJuIDI7Y2FzZSA0OnJldHVybiA0O2Nhc2UgODpyZXR1cm4gODtjYXNlIDE2OnJldHVybiAxNjtjYXNlIDMyOnJldHVybiAzMjtjYXNlIDY0OmNhc2UgMTI4OmNhc2UgMjU2OmNhc2UgNTEyOmNhc2UgMTAyNDpjYXNlIDIwNDg6Y2FzZSA0MDk2OmNhc2UgODE5MjpjYXNlIDE2Mzg0OmNhc2UgMzI3Njg6Y2FzZSA2NTUzNjpjYXNlIDEzMTA3MjpjYXNlIDI2MjE0NDpjYXNlIDUyNDI4ODpjYXNlIDEwNDg1NzY6Y2FzZSAyMDk3MTUyOnJldHVybiBhJjQxOTQyNDA7Y2FzZSA0MTk0MzA0OmNhc2UgODM4ODYwODpjYXNlIDE2Nzc3MjE2OmNhc2UgMzM1NTQ0MzI6Y2FzZSA2NzEwODg2NDpyZXR1cm4gYSYxMzAwMjM0MjQ7Y2FzZSAxMzQyMTc3Mjg6cmV0dXJuIDEzNDIxNzcyODtjYXNlIDI2ODQzNTQ1NjpyZXR1cm4gMjY4NDM1NDU2O2Nhc2UgNTM2ODcwOTEyOnJldHVybiA1MzY4NzA5MTI7Y2FzZSAxMDczNzQxODI0OnJldHVybiAxMDczNzQxODI0O1xuZGVmYXVsdDpyZXR1cm4gYX19ZnVuY3Rpb24gdWMoYSxiKXt2YXIgYz1hLnBlbmRpbmdMYW5lcztpZigwPT09YylyZXR1cm4gMDt2YXIgZD0wLGU9YS5zdXNwZW5kZWRMYW5lcyxmPWEucGluZ2VkTGFuZXMsZz1jJjI2ODQzNTQ1NTtpZigwIT09Zyl7dmFyIGg9ZyZ+ZTswIT09aD9kPXRjKGgpOihmJj1nLDAhPT1mJiYoZD10YyhmKSkpfWVsc2UgZz1jJn5lLDAhPT1nP2Q9dGMoZyk6MCE9PWYmJihkPXRjKGYpKTtpZigwPT09ZClyZXR1cm4gMDtpZigwIT09YiYmYiE9PWQmJjA9PT0oYiZlKSYmKGU9ZCYtZCxmPWImLWIsZT49Znx8MTY9PT1lJiYwIT09KGYmNDE5NDI0MCkpKXJldHVybiBiOzAhPT0oZCY0KSYmKGR8PWMmMTYpO2I9YS5lbnRhbmdsZWRMYW5lcztpZigwIT09Yilmb3IoYT1hLmVudGFuZ2xlbWVudHMsYiY9ZDswPGI7KWM9MzEtb2MoYiksZT0xPDxjLGR8PWFbY10sYiY9fmU7cmV0dXJuIGR9XG5mdW5jdGlvbiB2YyhhLGIpe3N3aXRjaChhKXtjYXNlIDE6Y2FzZSAyOmNhc2UgNDpyZXR1cm4gYisyNTA7Y2FzZSA4OmNhc2UgMTY6Y2FzZSAzMjpjYXNlIDY0OmNhc2UgMTI4OmNhc2UgMjU2OmNhc2UgNTEyOmNhc2UgMTAyNDpjYXNlIDIwNDg6Y2FzZSA0MDk2OmNhc2UgODE5MjpjYXNlIDE2Mzg0OmNhc2UgMzI3Njg6Y2FzZSA2NTUzNjpjYXNlIDEzMTA3MjpjYXNlIDI2MjE0NDpjYXNlIDUyNDI4ODpjYXNlIDEwNDg1NzY6Y2FzZSAyMDk3MTUyOnJldHVybiBiKzVFMztjYXNlIDQxOTQzMDQ6Y2FzZSA4Mzg4NjA4OmNhc2UgMTY3NzcyMTY6Y2FzZSAzMzU1NDQzMjpjYXNlIDY3MTA4ODY0OnJldHVybi0xO2Nhc2UgMTM0MjE3NzI4OmNhc2UgMjY4NDM1NDU2OmNhc2UgNTM2ODcwOTEyOmNhc2UgMTA3Mzc0MTgyNDpyZXR1cm4tMTtkZWZhdWx0OnJldHVybi0xfX1cbmZ1bmN0aW9uIHdjKGEsYil7Zm9yKHZhciBjPWEuc3VzcGVuZGVkTGFuZXMsZD1hLnBpbmdlZExhbmVzLGU9YS5leHBpcmF0aW9uVGltZXMsZj1hLnBlbmRpbmdMYW5lczswPGY7KXt2YXIgZz0zMS1vYyhmKSxoPTE8PGcsaz1lW2ddO2lmKC0xPT09ayl7aWYoMD09PShoJmMpfHwwIT09KGgmZCkpZVtnXT12YyhoLGIpfWVsc2Ugazw9YiYmKGEuZXhwaXJlZExhbmVzfD1oKTtmJj1+aH19ZnVuY3Rpb24geGMoYSl7YT1hLnBlbmRpbmdMYW5lcyYtMTA3Mzc0MTgyNTtyZXR1cm4gMCE9PWE/YTphJjEwNzM3NDE4MjQ/MTA3Mzc0MTgyNDowfWZ1bmN0aW9uIHljKCl7dmFyIGE9cmM7cmM8PD0xOzA9PT0ocmMmNDE5NDI0MCkmJihyYz02NCk7cmV0dXJuIGF9ZnVuY3Rpb24gemMoYSl7Zm9yKHZhciBiPVtdLGM9MDszMT5jO2MrKyliLnB1c2goYSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBBYyhhLGIsYyl7YS5wZW5kaW5nTGFuZXN8PWI7NTM2ODcwOTEyIT09YiYmKGEuc3VzcGVuZGVkTGFuZXM9MCxhLnBpbmdlZExhbmVzPTApO2E9YS5ldmVudFRpbWVzO2I9MzEtb2MoYik7YVtiXT1jfWZ1bmN0aW9uIEJjKGEsYil7dmFyIGM9YS5wZW5kaW5nTGFuZXMmfmI7YS5wZW5kaW5nTGFuZXM9YjthLnN1c3BlbmRlZExhbmVzPTA7YS5waW5nZWRMYW5lcz0wO2EuZXhwaXJlZExhbmVzJj1iO2EubXV0YWJsZVJlYWRMYW5lcyY9YjthLmVudGFuZ2xlZExhbmVzJj1iO2I9YS5lbnRhbmdsZW1lbnRzO3ZhciBkPWEuZXZlbnRUaW1lcztmb3IoYT1hLmV4cGlyYXRpb25UaW1lczswPGM7KXt2YXIgZT0zMS1vYyhjKSxmPTE8PGU7YltlXT0wO2RbZV09LTE7YVtlXT0tMTtjJj1+Zn19XG5mdW5jdGlvbiBDYyhhLGIpe3ZhciBjPWEuZW50YW5nbGVkTGFuZXN8PWI7Zm9yKGE9YS5lbnRhbmdsZW1lbnRzO2M7KXt2YXIgZD0zMS1vYyhjKSxlPTE8PGQ7ZSZifGFbZF0mYiYmKGFbZF18PWIpO2MmPX5lfX12YXIgQz0wO2Z1bmN0aW9uIERjKGEpe2EmPS1hO3JldHVybiAxPGE/NDxhPzAhPT0oYSYyNjg0MzU0NTUpPzE2OjUzNjg3MDkxMjo0OjF9dmFyIEVjLEZjLEdjLEhjLEljLEpjPSExLEtjPVtdLExjPW51bGwsTWM9bnVsbCxOYz1udWxsLE9jPW5ldyBNYXAsUGM9bmV3IE1hcCxRYz1bXSxSYz1cIm1vdXNlZG93biBtb3VzZXVwIHRvdWNoY2FuY2VsIHRvdWNoZW5kIHRvdWNoc3RhcnQgYXV4Y2xpY2sgZGJsY2xpY2sgcG9pbnRlcmNhbmNlbCBwb2ludGVyZG93biBwb2ludGVydXAgZHJhZ2VuZCBkcmFnc3RhcnQgZHJvcCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnN0YXJ0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgaW5wdXQgdGV4dElucHV0IGNvcHkgY3V0IHBhc3RlIGNsaWNrIGNoYW5nZSBjb250ZXh0bWVudSByZXNldCBzdWJtaXRcIi5zcGxpdChcIiBcIik7XG5mdW5jdGlvbiBTYyhhLGIpe3N3aXRjaChhKXtjYXNlIFwiZm9jdXNpblwiOmNhc2UgXCJmb2N1c291dFwiOkxjPW51bGw7YnJlYWs7Y2FzZSBcImRyYWdlbnRlclwiOmNhc2UgXCJkcmFnbGVhdmVcIjpNYz1udWxsO2JyZWFrO2Nhc2UgXCJtb3VzZW92ZXJcIjpjYXNlIFwibW91c2VvdXRcIjpOYz1udWxsO2JyZWFrO2Nhc2UgXCJwb2ludGVyb3ZlclwiOmNhc2UgXCJwb2ludGVyb3V0XCI6T2MuZGVsZXRlKGIucG9pbnRlcklkKTticmVhaztjYXNlIFwiZ290cG9pbnRlcmNhcHR1cmVcIjpjYXNlIFwibG9zdHBvaW50ZXJjYXB0dXJlXCI6UGMuZGVsZXRlKGIucG9pbnRlcklkKX19XG5mdW5jdGlvbiBUYyhhLGIsYyxkLGUsZil7aWYobnVsbD09PWF8fGEubmF0aXZlRXZlbnQhPT1mKXJldHVybiBhPXtibG9ja2VkT246Yixkb21FdmVudE5hbWU6YyxldmVudFN5c3RlbUZsYWdzOmQsbmF0aXZlRXZlbnQ6Zix0YXJnZXRDb250YWluZXJzOltlXX0sbnVsbCE9PWImJihiPUNiKGIpLG51bGwhPT1iJiZGYyhiKSksYTthLmV2ZW50U3lzdGVtRmxhZ3N8PWQ7Yj1hLnRhcmdldENvbnRhaW5lcnM7bnVsbCE9PWUmJi0xPT09Yi5pbmRleE9mKGUpJiZiLnB1c2goZSk7cmV0dXJuIGF9XG5mdW5jdGlvbiBVYyhhLGIsYyxkLGUpe3N3aXRjaChiKXtjYXNlIFwiZm9jdXNpblwiOnJldHVybiBMYz1UYyhMYyxhLGIsYyxkLGUpLCEwO2Nhc2UgXCJkcmFnZW50ZXJcIjpyZXR1cm4gTWM9VGMoTWMsYSxiLGMsZCxlKSwhMDtjYXNlIFwibW91c2VvdmVyXCI6cmV0dXJuIE5jPVRjKE5jLGEsYixjLGQsZSksITA7Y2FzZSBcInBvaW50ZXJvdmVyXCI6dmFyIGY9ZS5wb2ludGVySWQ7T2Muc2V0KGYsVGMoT2MuZ2V0KGYpfHxudWxsLGEsYixjLGQsZSkpO3JldHVybiEwO2Nhc2UgXCJnb3Rwb2ludGVyY2FwdHVyZVwiOnJldHVybiBmPWUucG9pbnRlcklkLFBjLnNldChmLFRjKFBjLmdldChmKXx8bnVsbCxhLGIsYyxkLGUpKSwhMH1yZXR1cm4hMX1cbmZ1bmN0aW9uIFZjKGEpe3ZhciBiPVdjKGEudGFyZ2V0KTtpZihudWxsIT09Yil7dmFyIGM9VmIoYik7aWYobnVsbCE9PWMpaWYoYj1jLnRhZywxMz09PWIpe2lmKGI9V2IoYyksbnVsbCE9PWIpe2EuYmxvY2tlZE9uPWI7SWMoYS5wcmlvcml0eSxmdW5jdGlvbigpe0djKGMpfSk7cmV0dXJufX1lbHNlIGlmKDM9PT1iJiZjLnN0YXRlTm9kZS5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkKXthLmJsb2NrZWRPbj0zPT09Yy50YWc/Yy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzpudWxsO3JldHVybn19YS5ibG9ja2VkT249bnVsbH1cbmZ1bmN0aW9uIFhjKGEpe2lmKG51bGwhPT1hLmJsb2NrZWRPbilyZXR1cm4hMTtmb3IodmFyIGI9YS50YXJnZXRDb250YWluZXJzOzA8Yi5sZW5ndGg7KXt2YXIgYz1ZYyhhLmRvbUV2ZW50TmFtZSxhLmV2ZW50U3lzdGVtRmxhZ3MsYlswXSxhLm5hdGl2ZUV2ZW50KTtpZihudWxsPT09Yyl7Yz1hLm5hdGl2ZUV2ZW50O3ZhciBkPW5ldyBjLmNvbnN0cnVjdG9yKGMudHlwZSxjKTt3Yj1kO2MudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZCk7d2I9bnVsbH1lbHNlIHJldHVybiBiPUNiKGMpLG51bGwhPT1iJiZGYyhiKSxhLmJsb2NrZWRPbj1jLCExO2Iuc2hpZnQoKX1yZXR1cm4hMH1mdW5jdGlvbiBaYyhhLGIsYyl7WGMoYSkmJmMuZGVsZXRlKGIpfWZ1bmN0aW9uICRjKCl7SmM9ITE7bnVsbCE9PUxjJiZYYyhMYykmJihMYz1udWxsKTtudWxsIT09TWMmJlhjKE1jKSYmKE1jPW51bGwpO251bGwhPT1OYyYmWGMoTmMpJiYoTmM9bnVsbCk7T2MuZm9yRWFjaChaYyk7UGMuZm9yRWFjaChaYyl9XG5mdW5jdGlvbiBhZChhLGIpe2EuYmxvY2tlZE9uPT09YiYmKGEuYmxvY2tlZE9uPW51bGwsSmN8fChKYz0hMCxjYS51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrKGNhLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LCRjKSkpfVxuZnVuY3Rpb24gYmQoYSl7ZnVuY3Rpb24gYihiKXtyZXR1cm4gYWQoYixhKX1pZigwPEtjLmxlbmd0aCl7YWQoS2NbMF0sYSk7Zm9yKHZhciBjPTE7YzxLYy5sZW5ndGg7YysrKXt2YXIgZD1LY1tjXTtkLmJsb2NrZWRPbj09PWEmJihkLmJsb2NrZWRPbj1udWxsKX19bnVsbCE9PUxjJiZhZChMYyxhKTtudWxsIT09TWMmJmFkKE1jLGEpO251bGwhPT1OYyYmYWQoTmMsYSk7T2MuZm9yRWFjaChiKTtQYy5mb3JFYWNoKGIpO2ZvcihjPTA7YzxRYy5sZW5ndGg7YysrKWQ9UWNbY10sZC5ibG9ja2VkT249PT1hJiYoZC5ibG9ja2VkT249bnVsbCk7Zm9yKDswPFFjLmxlbmd0aCYmKGM9UWNbMF0sbnVsbD09PWMuYmxvY2tlZE9uKTspVmMoYyksbnVsbD09PWMuYmxvY2tlZE9uJiZRYy5zaGlmdCgpfXZhciBjZD11YS5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZyxkZD0hMDtcbmZ1bmN0aW9uIGVkKGEsYixjLGQpe3ZhciBlPUMsZj1jZC50cmFuc2l0aW9uO2NkLnRyYW5zaXRpb249bnVsbDt0cnl7Qz0xLGZkKGEsYixjLGQpfWZpbmFsbHl7Qz1lLGNkLnRyYW5zaXRpb249Zn19ZnVuY3Rpb24gZ2QoYSxiLGMsZCl7dmFyIGU9QyxmPWNkLnRyYW5zaXRpb247Y2QudHJhbnNpdGlvbj1udWxsO3RyeXtDPTQsZmQoYSxiLGMsZCl9ZmluYWxseXtDPWUsY2QudHJhbnNpdGlvbj1mfX1cbmZ1bmN0aW9uIGZkKGEsYixjLGQpe2lmKGRkKXt2YXIgZT1ZYyhhLGIsYyxkKTtpZihudWxsPT09ZSloZChhLGIsZCxpZCxjKSxTYyhhLGQpO2Vsc2UgaWYoVWMoZSxhLGIsYyxkKSlkLnN0b3BQcm9wYWdhdGlvbigpO2Vsc2UgaWYoU2MoYSxkKSxiJjQmJi0xPFJjLmluZGV4T2YoYSkpe2Zvcig7bnVsbCE9PWU7KXt2YXIgZj1DYihlKTtudWxsIT09ZiYmRWMoZik7Zj1ZYyhhLGIsYyxkKTtudWxsPT09ZiYmaGQoYSxiLGQsaWQsYyk7aWYoZj09PWUpYnJlYWs7ZT1mfW51bGwhPT1lJiZkLnN0b3BQcm9wYWdhdGlvbigpfWVsc2UgaGQoYSxiLGQsbnVsbCxjKX19dmFyIGlkPW51bGw7XG5mdW5jdGlvbiBZYyhhLGIsYyxkKXtpZD1udWxsO2E9eGIoZCk7YT1XYyhhKTtpZihudWxsIT09YSlpZihiPVZiKGEpLG51bGw9PT1iKWE9bnVsbDtlbHNlIGlmKGM9Yi50YWcsMTM9PT1jKXthPVdiKGIpO2lmKG51bGwhPT1hKXJldHVybiBhO2E9bnVsbH1lbHNlIGlmKDM9PT1jKXtpZihiLnN0YXRlTm9kZS5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkKXJldHVybiAzPT09Yi50YWc/Yi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzpudWxsO2E9bnVsbH1lbHNlIGIhPT1hJiYoYT1udWxsKTtpZD1hO3JldHVybiBudWxsfVxuZnVuY3Rpb24gamQoYSl7c3dpdGNoKGEpe2Nhc2UgXCJjYW5jZWxcIjpjYXNlIFwiY2xpY2tcIjpjYXNlIFwiY2xvc2VcIjpjYXNlIFwiY29udGV4dG1lbnVcIjpjYXNlIFwiY29weVwiOmNhc2UgXCJjdXRcIjpjYXNlIFwiYXV4Y2xpY2tcIjpjYXNlIFwiZGJsY2xpY2tcIjpjYXNlIFwiZHJhZ2VuZFwiOmNhc2UgXCJkcmFnc3RhcnRcIjpjYXNlIFwiZHJvcFwiOmNhc2UgXCJmb2N1c2luXCI6Y2FzZSBcImZvY3Vzb3V0XCI6Y2FzZSBcImlucHV0XCI6Y2FzZSBcImludmFsaWRcIjpjYXNlIFwia2V5ZG93blwiOmNhc2UgXCJrZXlwcmVzc1wiOmNhc2UgXCJrZXl1cFwiOmNhc2UgXCJtb3VzZWRvd25cIjpjYXNlIFwibW91c2V1cFwiOmNhc2UgXCJwYXN0ZVwiOmNhc2UgXCJwYXVzZVwiOmNhc2UgXCJwbGF5XCI6Y2FzZSBcInBvaW50ZXJjYW5jZWxcIjpjYXNlIFwicG9pbnRlcmRvd25cIjpjYXNlIFwicG9pbnRlcnVwXCI6Y2FzZSBcInJhdGVjaGFuZ2VcIjpjYXNlIFwicmVzZXRcIjpjYXNlIFwicmVzaXplXCI6Y2FzZSBcInNlZWtlZFwiOmNhc2UgXCJzdWJtaXRcIjpjYXNlIFwidG91Y2hjYW5jZWxcIjpjYXNlIFwidG91Y2hlbmRcIjpjYXNlIFwidG91Y2hzdGFydFwiOmNhc2UgXCJ2b2x1bWVjaGFuZ2VcIjpjYXNlIFwiY2hhbmdlXCI6Y2FzZSBcInNlbGVjdGlvbmNoYW5nZVwiOmNhc2UgXCJ0ZXh0SW5wdXRcIjpjYXNlIFwiY29tcG9zaXRpb25zdGFydFwiOmNhc2UgXCJjb21wb3NpdGlvbmVuZFwiOmNhc2UgXCJjb21wb3NpdGlvbnVwZGF0ZVwiOmNhc2UgXCJiZWZvcmVibHVyXCI6Y2FzZSBcImFmdGVyYmx1clwiOmNhc2UgXCJiZWZvcmVpbnB1dFwiOmNhc2UgXCJibHVyXCI6Y2FzZSBcImZ1bGxzY3JlZW5jaGFuZ2VcIjpjYXNlIFwiZm9jdXNcIjpjYXNlIFwiaGFzaGNoYW5nZVwiOmNhc2UgXCJwb3BzdGF0ZVwiOmNhc2UgXCJzZWxlY3RcIjpjYXNlIFwic2VsZWN0c3RhcnRcIjpyZXR1cm4gMTtjYXNlIFwiZHJhZ1wiOmNhc2UgXCJkcmFnZW50ZXJcIjpjYXNlIFwiZHJhZ2V4aXRcIjpjYXNlIFwiZHJhZ2xlYXZlXCI6Y2FzZSBcImRyYWdvdmVyXCI6Y2FzZSBcIm1vdXNlbW92ZVwiOmNhc2UgXCJtb3VzZW91dFwiOmNhc2UgXCJtb3VzZW92ZXJcIjpjYXNlIFwicG9pbnRlcm1vdmVcIjpjYXNlIFwicG9pbnRlcm91dFwiOmNhc2UgXCJwb2ludGVyb3ZlclwiOmNhc2UgXCJzY3JvbGxcIjpjYXNlIFwidG9nZ2xlXCI6Y2FzZSBcInRvdWNobW92ZVwiOmNhc2UgXCJ3aGVlbFwiOmNhc2UgXCJtb3VzZWVudGVyXCI6Y2FzZSBcIm1vdXNlbGVhdmVcIjpjYXNlIFwicG9pbnRlcmVudGVyXCI6Y2FzZSBcInBvaW50ZXJsZWF2ZVwiOnJldHVybiA0O1xuY2FzZSBcIm1lc3NhZ2VcIjpzd2l0Y2goZWMoKSl7Y2FzZSBmYzpyZXR1cm4gMTtjYXNlIGdjOnJldHVybiA0O2Nhc2UgaGM6Y2FzZSBpYzpyZXR1cm4gMTY7Y2FzZSBqYzpyZXR1cm4gNTM2ODcwOTEyO2RlZmF1bHQ6cmV0dXJuIDE2fWRlZmF1bHQ6cmV0dXJuIDE2fX12YXIga2Q9bnVsbCxsZD1udWxsLG1kPW51bGw7ZnVuY3Rpb24gbmQoKXtpZihtZClyZXR1cm4gbWQ7dmFyIGEsYj1sZCxjPWIubGVuZ3RoLGQsZT1cInZhbHVlXCJpbiBrZD9rZC52YWx1ZTprZC50ZXh0Q29udGVudCxmPWUubGVuZ3RoO2ZvcihhPTA7YTxjJiZiW2FdPT09ZVthXTthKyspO3ZhciBnPWMtYTtmb3IoZD0xO2Q8PWcmJmJbYy1kXT09PWVbZi1kXTtkKyspO3JldHVybiBtZD1lLnNsaWNlKGEsMTxkPzEtZDp2b2lkIDApfVxuZnVuY3Rpb24gb2QoYSl7dmFyIGI9YS5rZXlDb2RlO1wiY2hhckNvZGVcImluIGE/KGE9YS5jaGFyQ29kZSwwPT09YSYmMTM9PT1iJiYoYT0xMykpOmE9YjsxMD09PWEmJihhPTEzKTtyZXR1cm4gMzI8PWF8fDEzPT09YT9hOjB9ZnVuY3Rpb24gcGQoKXtyZXR1cm4hMH1mdW5jdGlvbiBxZCgpe3JldHVybiExfVxuZnVuY3Rpb24gcmQoYSl7ZnVuY3Rpb24gYihiLGQsZSxmLGcpe3RoaXMuX3JlYWN0TmFtZT1iO3RoaXMuX3RhcmdldEluc3Q9ZTt0aGlzLnR5cGU9ZDt0aGlzLm5hdGl2ZUV2ZW50PWY7dGhpcy50YXJnZXQ9Zzt0aGlzLmN1cnJlbnRUYXJnZXQ9bnVsbDtmb3IodmFyIGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoYj1hW2NdLHRoaXNbY109Yj9iKGYpOmZbY10pO3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPShudWxsIT1mLmRlZmF1bHRQcmV2ZW50ZWQ/Zi5kZWZhdWx0UHJldmVudGVkOiExPT09Zi5yZXR1cm5WYWx1ZSk/cGQ6cWQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1xZDtyZXR1cm4gdGhpc31BKGIucHJvdG90eXBlLHtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMDt2YXIgYT10aGlzLm5hdGl2ZUV2ZW50O2EmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTpcInVua25vd25cIiE9PXR5cGVvZiBhLnJldHVyblZhbHVlJiZcbihhLnJldHVyblZhbHVlPSExKSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1wZCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubmF0aXZlRXZlbnQ7YSYmKGEuc3RvcFByb3BhZ2F0aW9uP2Euc3RvcFByb3BhZ2F0aW9uKCk6XCJ1bmtub3duXCIhPT10eXBlb2YgYS5jYW5jZWxCdWJibGUmJihhLmNhbmNlbEJ1YmJsZT0hMCksdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1wZCl9LHBlcnNpc3Q6ZnVuY3Rpb24oKXt9LGlzUGVyc2lzdGVudDpwZH0pO3JldHVybiBifVxudmFyIHNkPXtldmVudFBoYXNlOjAsYnViYmxlczowLGNhbmNlbGFibGU6MCx0aW1lU3RhbXA6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudGltZVN0YW1wfHxEYXRlLm5vdygpfSxkZWZhdWx0UHJldmVudGVkOjAsaXNUcnVzdGVkOjB9LHRkPXJkKHNkKSx1ZD1BKHt9LHNkLHt2aWV3OjAsZGV0YWlsOjB9KSx2ZD1yZCh1ZCksd2QseGQseWQsQWQ9QSh7fSx1ZCx7c2NyZWVuWDowLHNjcmVlblk6MCxjbGllbnRYOjAsY2xpZW50WTowLHBhZ2VYOjAscGFnZVk6MCxjdHJsS2V5OjAsc2hpZnRLZXk6MCxhbHRLZXk6MCxtZXRhS2V5OjAsZ2V0TW9kaWZpZXJTdGF0ZTp6ZCxidXR0b246MCxidXR0b25zOjAscmVsYXRlZFRhcmdldDpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YS5yZWxhdGVkVGFyZ2V0P2EuZnJvbUVsZW1lbnQ9PT1hLnNyY0VsZW1lbnQ/YS50b0VsZW1lbnQ6YS5mcm9tRWxlbWVudDphLnJlbGF0ZWRUYXJnZXR9LG1vdmVtZW50WDpmdW5jdGlvbihhKXtpZihcIm1vdmVtZW50WFwiaW5cbmEpcmV0dXJuIGEubW92ZW1lbnRYO2EhPT15ZCYmKHlkJiZcIm1vdXNlbW92ZVwiPT09YS50eXBlPyh3ZD1hLnNjcmVlblgteWQuc2NyZWVuWCx4ZD1hLnNjcmVlblkteWQuc2NyZWVuWSk6eGQ9d2Q9MCx5ZD1hKTtyZXR1cm4gd2R9LG1vdmVtZW50WTpmdW5jdGlvbihhKXtyZXR1cm5cIm1vdmVtZW50WVwiaW4gYT9hLm1vdmVtZW50WTp4ZH19KSxCZD1yZChBZCksQ2Q9QSh7fSxBZCx7ZGF0YVRyYW5zZmVyOjB9KSxEZD1yZChDZCksRWQ9QSh7fSx1ZCx7cmVsYXRlZFRhcmdldDowfSksRmQ9cmQoRWQpLEdkPUEoe30sc2Qse2FuaW1hdGlvbk5hbWU6MCxlbGFwc2VkVGltZTowLHBzZXVkb0VsZW1lbnQ6MH0pLEhkPXJkKEdkKSxJZD1BKHt9LHNkLHtjbGlwYm9hcmREYXRhOmZ1bmN0aW9uKGEpe3JldHVyblwiY2xpcGJvYXJkRGF0YVwiaW4gYT9hLmNsaXBib2FyZERhdGE6d2luZG93LmNsaXBib2FyZERhdGF9fSksSmQ9cmQoSWQpLEtkPUEoe30sc2Qse2RhdGE6MH0pLExkPXJkKEtkKSxNZD17RXNjOlwiRXNjYXBlXCIsXG5TcGFjZWJhcjpcIiBcIixMZWZ0OlwiQXJyb3dMZWZ0XCIsVXA6XCJBcnJvd1VwXCIsUmlnaHQ6XCJBcnJvd1JpZ2h0XCIsRG93bjpcIkFycm93RG93blwiLERlbDpcIkRlbGV0ZVwiLFdpbjpcIk9TXCIsTWVudTpcIkNvbnRleHRNZW51XCIsQXBwczpcIkNvbnRleHRNZW51XCIsU2Nyb2xsOlwiU2Nyb2xsTG9ja1wiLE1velByaW50YWJsZUtleTpcIlVuaWRlbnRpZmllZFwifSxOZD17ODpcIkJhY2tzcGFjZVwiLDk6XCJUYWJcIiwxMjpcIkNsZWFyXCIsMTM6XCJFbnRlclwiLDE2OlwiU2hpZnRcIiwxNzpcIkNvbnRyb2xcIiwxODpcIkFsdFwiLDE5OlwiUGF1c2VcIiwyMDpcIkNhcHNMb2NrXCIsMjc6XCJFc2NhcGVcIiwzMjpcIiBcIiwzMzpcIlBhZ2VVcFwiLDM0OlwiUGFnZURvd25cIiwzNTpcIkVuZFwiLDM2OlwiSG9tZVwiLDM3OlwiQXJyb3dMZWZ0XCIsMzg6XCJBcnJvd1VwXCIsMzk6XCJBcnJvd1JpZ2h0XCIsNDA6XCJBcnJvd0Rvd25cIiw0NTpcIkluc2VydFwiLDQ2OlwiRGVsZXRlXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIiwxMTY6XCJGNVwiLDExNzpcIkY2XCIsMTE4OlwiRjdcIixcbjExOTpcIkY4XCIsMTIwOlwiRjlcIiwxMjE6XCJGMTBcIiwxMjI6XCJGMTFcIiwxMjM6XCJGMTJcIiwxNDQ6XCJOdW1Mb2NrXCIsMTQ1OlwiU2Nyb2xsTG9ja1wiLDIyNDpcIk1ldGFcIn0sT2Q9e0FsdDpcImFsdEtleVwiLENvbnRyb2w6XCJjdHJsS2V5XCIsTWV0YTpcIm1ldGFLZXlcIixTaGlmdDpcInNoaWZ0S2V5XCJ9O2Z1bmN0aW9uIFBkKGEpe3ZhciBiPXRoaXMubmF0aXZlRXZlbnQ7cmV0dXJuIGIuZ2V0TW9kaWZpZXJTdGF0ZT9iLmdldE1vZGlmaWVyU3RhdGUoYSk6KGE9T2RbYV0pPyEhYlthXTohMX1mdW5jdGlvbiB6ZCgpe3JldHVybiBQZH1cbnZhciBRZD1BKHt9LHVkLHtrZXk6ZnVuY3Rpb24oYSl7aWYoYS5rZXkpe3ZhciBiPU1kW2Eua2V5XXx8YS5rZXk7aWYoXCJVbmlkZW50aWZpZWRcIiE9PWIpcmV0dXJuIGJ9cmV0dXJuXCJrZXlwcmVzc1wiPT09YS50eXBlPyhhPW9kKGEpLDEzPT09YT9cIkVudGVyXCI6U3RyaW5nLmZyb21DaGFyQ29kZShhKSk6XCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9OZFthLmtleUNvZGVdfHxcIlVuaWRlbnRpZmllZFwiOlwiXCJ9LGNvZGU6MCxsb2NhdGlvbjowLGN0cmxLZXk6MCxzaGlmdEtleTowLGFsdEtleTowLG1ldGFLZXk6MCxyZXBlYXQ6MCxsb2NhbGU6MCxnZXRNb2RpZmllclN0YXRlOnpkLGNoYXJDb2RlOmZ1bmN0aW9uKGEpe3JldHVyblwia2V5cHJlc3NcIj09PWEudHlwZT9vZChhKTowfSxrZXlDb2RlOmZ1bmN0aW9uKGEpe3JldHVyblwia2V5ZG93blwiPT09YS50eXBlfHxcImtleXVwXCI9PT1hLnR5cGU/YS5rZXlDb2RlOjB9LHdoaWNoOmZ1bmN0aW9uKGEpe3JldHVyblwia2V5cHJlc3NcIj09PVxuYS50eXBlP29kKGEpOlwia2V5ZG93blwiPT09YS50eXBlfHxcImtleXVwXCI9PT1hLnR5cGU/YS5rZXlDb2RlOjB9fSksUmQ9cmQoUWQpLFNkPUEoe30sQWQse3BvaW50ZXJJZDowLHdpZHRoOjAsaGVpZ2h0OjAscHJlc3N1cmU6MCx0YW5nZW50aWFsUHJlc3N1cmU6MCx0aWx0WDowLHRpbHRZOjAsdHdpc3Q6MCxwb2ludGVyVHlwZTowLGlzUHJpbWFyeTowfSksVGQ9cmQoU2QpLFVkPUEoe30sdWQse3RvdWNoZXM6MCx0YXJnZXRUb3VjaGVzOjAsY2hhbmdlZFRvdWNoZXM6MCxhbHRLZXk6MCxtZXRhS2V5OjAsY3RybEtleTowLHNoaWZ0S2V5OjAsZ2V0TW9kaWZpZXJTdGF0ZTp6ZH0pLFZkPXJkKFVkKSxXZD1BKHt9LHNkLHtwcm9wZXJ0eU5hbWU6MCxlbGFwc2VkVGltZTowLHBzZXVkb0VsZW1lbnQ6MH0pLFhkPXJkKFdkKSxZZD1BKHt9LEFkLHtkZWx0YVg6ZnVuY3Rpb24oYSl7cmV0dXJuXCJkZWx0YVhcImluIGE/YS5kZWx0YVg6XCJ3aGVlbERlbHRhWFwiaW4gYT8tYS53aGVlbERlbHRhWDowfSxcbmRlbHRhWTpmdW5jdGlvbihhKXtyZXR1cm5cImRlbHRhWVwiaW4gYT9hLmRlbHRhWTpcIndoZWVsRGVsdGFZXCJpbiBhPy1hLndoZWVsRGVsdGFZOlwid2hlZWxEZWx0YVwiaW4gYT8tYS53aGVlbERlbHRhOjB9LGRlbHRhWjowLGRlbHRhTW9kZTowfSksWmQ9cmQoWWQpLCRkPVs5LDEzLDI3LDMyXSxhZT1pYSYmXCJDb21wb3NpdGlvbkV2ZW50XCJpbiB3aW5kb3csYmU9bnVsbDtpYSYmXCJkb2N1bWVudE1vZGVcImluIGRvY3VtZW50JiYoYmU9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKTt2YXIgY2U9aWEmJlwiVGV4dEV2ZW50XCJpbiB3aW5kb3cmJiFiZSxkZT1pYSYmKCFhZXx8YmUmJjg8YmUmJjExPj1iZSksZWU9U3RyaW5nLmZyb21DaGFyQ29kZSgzMiksZmU9ITE7XG5mdW5jdGlvbiBnZShhLGIpe3N3aXRjaChhKXtjYXNlIFwia2V5dXBcIjpyZXR1cm4tMSE9PSRkLmluZGV4T2YoYi5rZXlDb2RlKTtjYXNlIFwia2V5ZG93blwiOnJldHVybiAyMjkhPT1iLmtleUNvZGU7Y2FzZSBcImtleXByZXNzXCI6Y2FzZSBcIm1vdXNlZG93blwiOmNhc2UgXCJmb2N1c291dFwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIGhlKGEpe2E9YS5kZXRhaWw7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZcImRhdGFcImluIGE/YS5kYXRhOm51bGx9dmFyIGllPSExO2Z1bmN0aW9uIGplKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJjb21wb3NpdGlvbmVuZFwiOnJldHVybiBoZShiKTtjYXNlIFwia2V5cHJlc3NcIjppZigzMiE9PWIud2hpY2gpcmV0dXJuIG51bGw7ZmU9ITA7cmV0dXJuIGVlO2Nhc2UgXCJ0ZXh0SW5wdXRcIjpyZXR1cm4gYT1iLmRhdGEsYT09PWVlJiZmZT9udWxsOmE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19XG5mdW5jdGlvbiBrZShhLGIpe2lmKGllKXJldHVyblwiY29tcG9zaXRpb25lbmRcIj09PWF8fCFhZSYmZ2UoYSxiKT8oYT1uZCgpLG1kPWxkPWtkPW51bGwsaWU9ITEsYSk6bnVsbDtzd2l0Y2goYSl7Y2FzZSBcInBhc3RlXCI6cmV0dXJuIG51bGw7Y2FzZSBcImtleXByZXNzXCI6aWYoIShiLmN0cmxLZXl8fGIuYWx0S2V5fHxiLm1ldGFLZXkpfHxiLmN0cmxLZXkmJmIuYWx0S2V5KXtpZihiLmNoYXImJjE8Yi5jaGFyLmxlbmd0aClyZXR1cm4gYi5jaGFyO2lmKGIud2hpY2gpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoYi53aGljaCl9cmV0dXJuIG51bGw7Y2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6cmV0dXJuIGRlJiZcImtvXCIhPT1iLmxvY2FsZT9udWxsOmIuZGF0YTtkZWZhdWx0OnJldHVybiBudWxsfX1cbnZhciBsZT17Y29sb3I6ITAsZGF0ZTohMCxkYXRldGltZTohMCxcImRhdGV0aW1lLWxvY2FsXCI6ITAsZW1haWw6ITAsbW9udGg6ITAsbnVtYmVyOiEwLHBhc3N3b3JkOiEwLHJhbmdlOiEwLHNlYXJjaDohMCx0ZWw6ITAsdGV4dDohMCx0aW1lOiEwLHVybDohMCx3ZWVrOiEwfTtmdW5jdGlvbiBtZShhKXt2YXIgYj1hJiZhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09Yj8hIWxlW2EudHlwZV06XCJ0ZXh0YXJlYVwiPT09Yj8hMDohMX1mdW5jdGlvbiBuZShhLGIsYyxkKXtFYihkKTtiPW9lKGIsXCJvbkNoYW5nZVwiKTswPGIubGVuZ3RoJiYoYz1uZXcgdGQoXCJvbkNoYW5nZVwiLFwiY2hhbmdlXCIsbnVsbCxjLGQpLGEucHVzaCh7ZXZlbnQ6YyxsaXN0ZW5lcnM6Yn0pKX12YXIgcGU9bnVsbCxxZT1udWxsO2Z1bmN0aW9uIHJlKGEpe3NlKGEsMCl9ZnVuY3Rpb24gdGUoYSl7dmFyIGI9dWUoYSk7aWYoV2EoYikpcmV0dXJuIGF9XG5mdW5jdGlvbiB2ZShhLGIpe2lmKFwiY2hhbmdlXCI9PT1hKXJldHVybiBifXZhciB3ZT0hMTtpZihpYSl7dmFyIHhlO2lmKGlhKXt2YXIgeWU9XCJvbmlucHV0XCJpbiBkb2N1bWVudDtpZigheWUpe3ZhciB6ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3plLnNldEF0dHJpYnV0ZShcIm9uaW5wdXRcIixcInJldHVybjtcIik7eWU9XCJmdW5jdGlvblwiPT09dHlwZW9mIHplLm9uaW5wdXR9eGU9eWV9ZWxzZSB4ZT0hMTt3ZT14ZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKX1mdW5jdGlvbiBBZSgpe3BlJiYocGUuZGV0YWNoRXZlbnQoXCJvbnByb3BlcnR5Y2hhbmdlXCIsQmUpLHFlPXBlPW51bGwpfWZ1bmN0aW9uIEJlKGEpe2lmKFwidmFsdWVcIj09PWEucHJvcGVydHlOYW1lJiZ0ZShxZSkpe3ZhciBiPVtdO25lKGIscWUsYSx4YihhKSk7SmIocmUsYil9fVxuZnVuY3Rpb24gQ2UoYSxiLGMpe1wiZm9jdXNpblwiPT09YT8oQWUoKSxwZT1iLHFlPWMscGUuYXR0YWNoRXZlbnQoXCJvbnByb3BlcnR5Y2hhbmdlXCIsQmUpKTpcImZvY3Vzb3V0XCI9PT1hJiZBZSgpfWZ1bmN0aW9uIERlKGEpe2lmKFwic2VsZWN0aW9uY2hhbmdlXCI9PT1hfHxcImtleXVwXCI9PT1hfHxcImtleWRvd25cIj09PWEpcmV0dXJuIHRlKHFlKX1mdW5jdGlvbiBFZShhLGIpe2lmKFwiY2xpY2tcIj09PWEpcmV0dXJuIHRlKGIpfWZ1bmN0aW9uIEZlKGEsYil7aWYoXCJpbnB1dFwiPT09YXx8XCJjaGFuZ2VcIj09PWEpcmV0dXJuIHRlKGIpfWZ1bmN0aW9uIEdlKGEsYil7cmV0dXJuIGE9PT1iJiYoMCE9PWF8fDEvYT09PTEvYil8fGEhPT1hJiZiIT09Yn12YXIgSGU9XCJmdW5jdGlvblwiPT09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6R2U7XG5mdW5jdGlvbiBJZShhLGIpe2lmKEhlKGEsYikpcmV0dXJuITA7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhfHxudWxsPT09YXx8XCJvYmplY3RcIiE9PXR5cGVvZiBifHxudWxsPT09YilyZXR1cm4hMTt2YXIgYz1PYmplY3Qua2V5cyhhKSxkPU9iamVjdC5rZXlzKGIpO2lmKGMubGVuZ3RoIT09ZC5sZW5ndGgpcmV0dXJuITE7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtpZighamEuY2FsbChiLGUpfHwhSGUoYVtlXSxiW2VdKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBKZShhKXtmb3IoO2EmJmEuZmlyc3RDaGlsZDspYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9XG5mdW5jdGlvbiBLZShhLGIpe3ZhciBjPUplKGEpO2E9MDtmb3IodmFyIGQ7Yzspe2lmKDM9PT1jLm5vZGVUeXBlKXtkPWErYy50ZXh0Q29udGVudC5sZW5ndGg7aWYoYTw9YiYmZD49YilyZXR1cm57bm9kZTpjLG9mZnNldDpiLWF9O2E9ZH1hOntmb3IoO2M7KXtpZihjLm5leHRTaWJsaW5nKXtjPWMubmV4dFNpYmxpbmc7YnJlYWsgYX1jPWMucGFyZW50Tm9kZX1jPXZvaWQgMH1jPUplKGMpfX1mdW5jdGlvbiBMZShhLGIpe3JldHVybiBhJiZiP2E9PT1iPyEwOmEmJjM9PT1hLm5vZGVUeXBlPyExOmImJjM9PT1iLm5vZGVUeXBlP0xlKGEsYi5wYXJlbnROb2RlKTpcImNvbnRhaW5zXCJpbiBhP2EuY29udGFpbnMoYik6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj8hIShhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJjE2KTohMTohMX1cbmZ1bmN0aW9uIE1lKCl7Zm9yKHZhciBhPXdpbmRvdyxiPVhhKCk7YiBpbnN0YW5jZW9mIGEuSFRNTElGcmFtZUVsZW1lbnQ7KXt0cnl7dmFyIGM9XCJzdHJpbmdcIj09PXR5cGVvZiBiLmNvbnRlbnRXaW5kb3cubG9jYXRpb24uaHJlZn1jYXRjaChkKXtjPSExfWlmKGMpYT1iLmNvbnRlbnRXaW5kb3c7ZWxzZSBicmVhaztiPVhhKGEuZG9jdW1lbnQpfXJldHVybiBifWZ1bmN0aW9uIE5lKGEpe3ZhciBiPWEmJmEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gYiYmKFwiaW5wdXRcIj09PWImJihcInRleHRcIj09PWEudHlwZXx8XCJzZWFyY2hcIj09PWEudHlwZXx8XCJ0ZWxcIj09PWEudHlwZXx8XCJ1cmxcIj09PWEudHlwZXx8XCJwYXNzd29yZFwiPT09YS50eXBlKXx8XCJ0ZXh0YXJlYVwiPT09Ynx8XCJ0cnVlXCI9PT1hLmNvbnRlbnRFZGl0YWJsZSl9XG5mdW5jdGlvbiBPZShhKXt2YXIgYj1NZSgpLGM9YS5mb2N1c2VkRWxlbSxkPWEuc2VsZWN0aW9uUmFuZ2U7aWYoYiE9PWMmJmMmJmMub3duZXJEb2N1bWVudCYmTGUoYy5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxjKSl7aWYobnVsbCE9PWQmJk5lKGMpKWlmKGI9ZC5zdGFydCxhPWQuZW5kLHZvaWQgMD09PWEmJihhPWIpLFwic2VsZWN0aW9uU3RhcnRcImluIGMpYy5zZWxlY3Rpb25TdGFydD1iLGMuc2VsZWN0aW9uRW5kPU1hdGgubWluKGEsYy52YWx1ZS5sZW5ndGgpO2Vsc2UgaWYoYT0oYj1jLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50KSYmYi5kZWZhdWx0Vmlld3x8d2luZG93LGEuZ2V0U2VsZWN0aW9uKXthPWEuZ2V0U2VsZWN0aW9uKCk7dmFyIGU9Yy50ZXh0Q29udGVudC5sZW5ndGgsZj1NYXRoLm1pbihkLnN0YXJ0LGUpO2Q9dm9pZCAwPT09ZC5lbmQ/ZjpNYXRoLm1pbihkLmVuZCxlKTshYS5leHRlbmQmJmY+ZCYmKGU9ZCxkPWYsZj1lKTtlPUtlKGMsZik7dmFyIGc9S2UoYyxcbmQpO2UmJmcmJigxIT09YS5yYW5nZUNvdW50fHxhLmFuY2hvck5vZGUhPT1lLm5vZGV8fGEuYW5jaG9yT2Zmc2V0IT09ZS5vZmZzZXR8fGEuZm9jdXNOb2RlIT09Zy5ub2RlfHxhLmZvY3VzT2Zmc2V0IT09Zy5vZmZzZXQpJiYoYj1iLmNyZWF0ZVJhbmdlKCksYi5zZXRTdGFydChlLm5vZGUsZS5vZmZzZXQpLGEucmVtb3ZlQWxsUmFuZ2VzKCksZj5kPyhhLmFkZFJhbmdlKGIpLGEuZXh0ZW5kKGcubm9kZSxnLm9mZnNldCkpOihiLnNldEVuZChnLm5vZGUsZy5vZmZzZXQpLGEuYWRkUmFuZ2UoYikpKX1iPVtdO2ZvcihhPWM7YT1hLnBhcmVudE5vZGU7KTE9PT1hLm5vZGVUeXBlJiZiLnB1c2goe2VsZW1lbnQ6YSxsZWZ0OmEuc2Nyb2xsTGVmdCx0b3A6YS5zY3JvbGxUb3B9KTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5mb2N1cyYmYy5mb2N1cygpO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspYT1iW2NdLGEuZWxlbWVudC5zY3JvbGxMZWZ0PWEubGVmdCxhLmVsZW1lbnQuc2Nyb2xsVG9wPWEudG9wfX1cbnZhciBQZT1pYSYmXCJkb2N1bWVudE1vZGVcImluIGRvY3VtZW50JiYxMT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLFFlPW51bGwsUmU9bnVsbCxTZT1udWxsLFRlPSExO1xuZnVuY3Rpb24gVWUoYSxiLGMpe3ZhciBkPWMud2luZG93PT09Yz9jLmRvY3VtZW50Ojk9PT1jLm5vZGVUeXBlP2M6Yy5vd25lckRvY3VtZW50O1RlfHxudWxsPT1RZXx8UWUhPT1YYShkKXx8KGQ9UWUsXCJzZWxlY3Rpb25TdGFydFwiaW4gZCYmTmUoZCk/ZD17c3RhcnQ6ZC5zZWxlY3Rpb25TdGFydCxlbmQ6ZC5zZWxlY3Rpb25FbmR9OihkPShkLm93bmVyRG9jdW1lbnQmJmQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8d2luZG93KS5nZXRTZWxlY3Rpb24oKSxkPXthbmNob3JOb2RlOmQuYW5jaG9yTm9kZSxhbmNob3JPZmZzZXQ6ZC5hbmNob3JPZmZzZXQsZm9jdXNOb2RlOmQuZm9jdXNOb2RlLGZvY3VzT2Zmc2V0OmQuZm9jdXNPZmZzZXR9KSxTZSYmSWUoU2UsZCl8fChTZT1kLGQ9b2UoUmUsXCJvblNlbGVjdFwiKSwwPGQubGVuZ3RoJiYoYj1uZXcgdGQoXCJvblNlbGVjdFwiLFwic2VsZWN0XCIsbnVsbCxiLGMpLGEucHVzaCh7ZXZlbnQ6YixsaXN0ZW5lcnM6ZH0pLGIudGFyZ2V0PVFlKSkpfVxuZnVuY3Rpb24gVmUoYSxiKXt2YXIgYz17fTtjW2EudG9Mb3dlckNhc2UoKV09Yi50b0xvd2VyQ2FzZSgpO2NbXCJXZWJraXRcIithXT1cIndlYmtpdFwiK2I7Y1tcIk1velwiK2FdPVwibW96XCIrYjtyZXR1cm4gY312YXIgV2U9e2FuaW1hdGlvbmVuZDpWZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uRW5kXCIpLGFuaW1hdGlvbml0ZXJhdGlvbjpWZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uSXRlcmF0aW9uXCIpLGFuaW1hdGlvbnN0YXJ0OlZlKFwiQW5pbWF0aW9uXCIsXCJBbmltYXRpb25TdGFydFwiKSx0cmFuc2l0aW9uZW5kOlZlKFwiVHJhbnNpdGlvblwiLFwiVHJhbnNpdGlvbkVuZFwiKX0sWGU9e30sWWU9e307XG5pYSYmKFllPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUsXCJBbmltYXRpb25FdmVudFwiaW4gd2luZG93fHwoZGVsZXRlIFdlLmFuaW1hdGlvbmVuZC5hbmltYXRpb24sZGVsZXRlIFdlLmFuaW1hdGlvbml0ZXJhdGlvbi5hbmltYXRpb24sZGVsZXRlIFdlLmFuaW1hdGlvbnN0YXJ0LmFuaW1hdGlvbiksXCJUcmFuc2l0aW9uRXZlbnRcImluIHdpbmRvd3x8ZGVsZXRlIFdlLnRyYW5zaXRpb25lbmQudHJhbnNpdGlvbik7ZnVuY3Rpb24gWmUoYSl7aWYoWGVbYV0pcmV0dXJuIFhlW2FdO2lmKCFXZVthXSlyZXR1cm4gYTt2YXIgYj1XZVthXSxjO2ZvcihjIGluIGIpaWYoYi5oYXNPd25Qcm9wZXJ0eShjKSYmYyBpbiBZZSlyZXR1cm4gWGVbYV09YltjXTtyZXR1cm4gYX12YXIgJGU9WmUoXCJhbmltYXRpb25lbmRcIiksYWY9WmUoXCJhbmltYXRpb25pdGVyYXRpb25cIiksYmY9WmUoXCJhbmltYXRpb25zdGFydFwiKSxjZj1aZShcInRyYW5zaXRpb25lbmRcIiksZGY9bmV3IE1hcCxlZj1cImFib3J0IGF1eENsaWNrIGNhbmNlbCBjYW5QbGF5IGNhblBsYXlUaHJvdWdoIGNsaWNrIGNsb3NlIGNvbnRleHRNZW51IGNvcHkgY3V0IGRyYWcgZHJhZ0VuZCBkcmFnRW50ZXIgZHJhZ0V4aXQgZHJhZ0xlYXZlIGRyYWdPdmVyIGRyYWdTdGFydCBkcm9wIGR1cmF0aW9uQ2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGdvdFBvaW50ZXJDYXB0dXJlIGlucHV0IGludmFsaWQga2V5RG93biBrZXlQcmVzcyBrZXlVcCBsb2FkIGxvYWRlZERhdGEgbG9hZGVkTWV0YWRhdGEgbG9hZFN0YXJ0IGxvc3RQb2ludGVyQ2FwdHVyZSBtb3VzZURvd24gbW91c2VNb3ZlIG1vdXNlT3V0IG1vdXNlT3ZlciBtb3VzZVVwIHBhc3RlIHBhdXNlIHBsYXkgcGxheWluZyBwb2ludGVyQ2FuY2VsIHBvaW50ZXJEb3duIHBvaW50ZXJNb3ZlIHBvaW50ZXJPdXQgcG9pbnRlck92ZXIgcG9pbnRlclVwIHByb2dyZXNzIHJhdGVDaGFuZ2UgcmVzZXQgcmVzaXplIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VibWl0IHN1c3BlbmQgdGltZVVwZGF0ZSB0b3VjaENhbmNlbCB0b3VjaEVuZCB0b3VjaFN0YXJ0IHZvbHVtZUNoYW5nZSBzY3JvbGwgdG9nZ2xlIHRvdWNoTW92ZSB3YWl0aW5nIHdoZWVsXCIuc3BsaXQoXCIgXCIpO1xuZnVuY3Rpb24gZmYoYSxiKXtkZi5zZXQoYSxiKTtmYShiLFthXSl9Zm9yKHZhciBnZj0wO2dmPGVmLmxlbmd0aDtnZisrKXt2YXIgaGY9ZWZbZ2ZdLGpmPWhmLnRvTG93ZXJDYXNlKCksa2Y9aGZbMF0udG9VcHBlckNhc2UoKStoZi5zbGljZSgxKTtmZihqZixcIm9uXCIra2YpfWZmKCRlLFwib25BbmltYXRpb25FbmRcIik7ZmYoYWYsXCJvbkFuaW1hdGlvbkl0ZXJhdGlvblwiKTtmZihiZixcIm9uQW5pbWF0aW9uU3RhcnRcIik7ZmYoXCJkYmxjbGlja1wiLFwib25Eb3VibGVDbGlja1wiKTtmZihcImZvY3VzaW5cIixcIm9uRm9jdXNcIik7ZmYoXCJmb2N1c291dFwiLFwib25CbHVyXCIpO2ZmKGNmLFwib25UcmFuc2l0aW9uRW5kXCIpO2hhKFwib25Nb3VzZUVudGVyXCIsW1wibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiXSk7aGEoXCJvbk1vdXNlTGVhdmVcIixbXCJtb3VzZW91dFwiLFwibW91c2VvdmVyXCJdKTtoYShcIm9uUG9pbnRlckVudGVyXCIsW1wicG9pbnRlcm91dFwiLFwicG9pbnRlcm92ZXJcIl0pO1xuaGEoXCJvblBvaW50ZXJMZWF2ZVwiLFtcInBvaW50ZXJvdXRcIixcInBvaW50ZXJvdmVyXCJdKTtmYShcIm9uQ2hhbmdlXCIsXCJjaGFuZ2UgY2xpY2sgZm9jdXNpbiBmb2N1c291dCBpbnB1dCBrZXlkb3duIGtleXVwIHNlbGVjdGlvbmNoYW5nZVwiLnNwbGl0KFwiIFwiKSk7ZmEoXCJvblNlbGVjdFwiLFwiZm9jdXNvdXQgY29udGV4dG1lbnUgZHJhZ2VuZCBmb2N1c2luIGtleWRvd24ga2V5dXAgbW91c2Vkb3duIG1vdXNldXAgc2VsZWN0aW9uY2hhbmdlXCIuc3BsaXQoXCIgXCIpKTtmYShcIm9uQmVmb3JlSW5wdXRcIixbXCJjb21wb3NpdGlvbmVuZFwiLFwia2V5cHJlc3NcIixcInRleHRJbnB1dFwiLFwicGFzdGVcIl0pO2ZhKFwib25Db21wb3NpdGlvbkVuZFwiLFwiY29tcG9zaXRpb25lbmQgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd25cIi5zcGxpdChcIiBcIikpO2ZhKFwib25Db21wb3NpdGlvblN0YXJ0XCIsXCJjb21wb3NpdGlvbnN0YXJ0IGZvY3Vzb3V0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpKTtcbmZhKFwib25Db21wb3NpdGlvblVwZGF0ZVwiLFwiY29tcG9zaXRpb251cGRhdGUgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd25cIi5zcGxpdChcIiBcIikpO3ZhciBsZj1cImFib3J0IGNhbnBsYXkgY2FucGxheXRocm91Z2ggZHVyYXRpb25jaGFuZ2UgZW1wdGllZCBlbmNyeXB0ZWQgZW5kZWQgZXJyb3IgbG9hZGVkZGF0YSBsb2FkZWRtZXRhZGF0YSBsb2Fkc3RhcnQgcGF1c2UgcGxheSBwbGF5aW5nIHByb2dyZXNzIHJhdGVjaGFuZ2UgcmVzaXplIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VzcGVuZCB0aW1ldXBkYXRlIHZvbHVtZWNoYW5nZSB3YWl0aW5nXCIuc3BsaXQoXCIgXCIpLG1mPW5ldyBTZXQoXCJjYW5jZWwgY2xvc2UgaW52YWxpZCBsb2FkIHNjcm9sbCB0b2dnbGVcIi5zcGxpdChcIiBcIikuY29uY2F0KGxmKSk7XG5mdW5jdGlvbiBuZihhLGIsYyl7dmFyIGQ9YS50eXBlfHxcInVua25vd24tZXZlbnRcIjthLmN1cnJlbnRUYXJnZXQ9YztVYihkLGIsdm9pZCAwLGEpO2EuY3VycmVudFRhcmdldD1udWxsfVxuZnVuY3Rpb24gc2UoYSxiKXtiPTAhPT0oYiY0KTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXSxlPWQuZXZlbnQ7ZD1kLmxpc3RlbmVyczthOnt2YXIgZj12b2lkIDA7aWYoYilmb3IodmFyIGc9ZC5sZW5ndGgtMTswPD1nO2ctLSl7dmFyIGg9ZFtnXSxrPWguaW5zdGFuY2UsbD1oLmN1cnJlbnRUYXJnZXQ7aD1oLmxpc3RlbmVyO2lmKGshPT1mJiZlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYnJlYWsgYTtuZihlLGgsbCk7Zj1rfWVsc2UgZm9yKGc9MDtnPGQubGVuZ3RoO2crKyl7aD1kW2ddO2s9aC5pbnN0YW5jZTtsPWguY3VycmVudFRhcmdldDtoPWgubGlzdGVuZXI7aWYoayE9PWYmJmUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlicmVhayBhO25mKGUsaCxsKTtmPWt9fX1pZihRYil0aHJvdyBhPVJiLFFiPSExLFJiPW51bGwsYTt9XG5mdW5jdGlvbiBEKGEsYil7dmFyIGM9YltvZl07dm9pZCAwPT09YyYmKGM9YltvZl09bmV3IFNldCk7dmFyIGQ9YStcIl9fYnViYmxlXCI7Yy5oYXMoZCl8fChwZihiLGEsMiwhMSksYy5hZGQoZCkpfWZ1bmN0aW9uIHFmKGEsYixjKXt2YXIgZD0wO2ImJihkfD00KTtwZihjLGEsZCxiKX12YXIgcmY9XCJfcmVhY3RMaXN0ZW5pbmdcIitNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtmdW5jdGlvbiBzZihhKXtpZighYVtyZl0pe2FbcmZdPSEwO2RhLmZvckVhY2goZnVuY3Rpb24oYil7XCJzZWxlY3Rpb25jaGFuZ2VcIiE9PWImJihtZi5oYXMoYil8fHFmKGIsITEsYSkscWYoYiwhMCxhKSl9KTt2YXIgYj05PT09YS5ub2RlVHlwZT9hOmEub3duZXJEb2N1bWVudDtudWxsPT09Ynx8YltyZl18fChiW3JmXT0hMCxxZihcInNlbGVjdGlvbmNoYW5nZVwiLCExLGIpKX19XG5mdW5jdGlvbiBwZihhLGIsYyxkKXtzd2l0Y2goamQoYikpe2Nhc2UgMTp2YXIgZT1lZDticmVhaztjYXNlIDQ6ZT1nZDticmVhaztkZWZhdWx0OmU9ZmR9Yz1lLmJpbmQobnVsbCxiLGMsYSk7ZT12b2lkIDA7IUxifHxcInRvdWNoc3RhcnRcIiE9PWImJlwidG91Y2htb3ZlXCIhPT1iJiZcIndoZWVsXCIhPT1ifHwoZT0hMCk7ZD92b2lkIDAhPT1lP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMse2NhcHR1cmU6ITAscGFzc2l2ZTplfSk6YS5hZGRFdmVudExpc3RlbmVyKGIsYywhMCk6dm9pZCAwIT09ZT9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLHtwYXNzaXZlOmV9KTphLmFkZEV2ZW50TGlzdGVuZXIoYixjLCExKX1cbmZ1bmN0aW9uIGhkKGEsYixjLGQsZSl7dmFyIGY9ZDtpZigwPT09KGImMSkmJjA9PT0oYiYyKSYmbnVsbCE9PWQpYTpmb3IoOzspe2lmKG51bGw9PT1kKXJldHVybjt2YXIgZz1kLnRhZztpZigzPT09Z3x8ND09PWcpe3ZhciBoPWQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87aWYoaD09PWV8fDg9PT1oLm5vZGVUeXBlJiZoLnBhcmVudE5vZGU9PT1lKWJyZWFrO2lmKDQ9PT1nKWZvcihnPWQucmV0dXJuO251bGwhPT1nOyl7dmFyIGs9Zy50YWc7aWYoMz09PWt8fDQ9PT1rKWlmKGs9Zy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyxrPT09ZXx8OD09PWsubm9kZVR5cGUmJmsucGFyZW50Tm9kZT09PWUpcmV0dXJuO2c9Zy5yZXR1cm59Zm9yKDtudWxsIT09aDspe2c9V2MoaCk7aWYobnVsbD09PWcpcmV0dXJuO2s9Zy50YWc7aWYoNT09PWt8fDY9PT1rKXtkPWY9Zztjb250aW51ZSBhfWg9aC5wYXJlbnROb2RlfX1kPWQucmV0dXJufUpiKGZ1bmN0aW9uKCl7dmFyIGQ9ZixlPXhiKGMpLGc9W107XG5hOnt2YXIgaD1kZi5nZXQoYSk7aWYodm9pZCAwIT09aCl7dmFyIGs9dGQsbj1hO3N3aXRjaChhKXtjYXNlIFwia2V5cHJlc3NcIjppZigwPT09b2QoYykpYnJlYWsgYTtjYXNlIFwia2V5ZG93blwiOmNhc2UgXCJrZXl1cFwiOms9UmQ7YnJlYWs7Y2FzZSBcImZvY3VzaW5cIjpuPVwiZm9jdXNcIjtrPUZkO2JyZWFrO2Nhc2UgXCJmb2N1c291dFwiOm49XCJibHVyXCI7az1GZDticmVhaztjYXNlIFwiYmVmb3JlYmx1clwiOmNhc2UgXCJhZnRlcmJsdXJcIjprPUZkO2JyZWFrO2Nhc2UgXCJjbGlja1wiOmlmKDI9PT1jLmJ1dHRvbilicmVhayBhO2Nhc2UgXCJhdXhjbGlja1wiOmNhc2UgXCJkYmxjbGlja1wiOmNhc2UgXCJtb3VzZWRvd25cIjpjYXNlIFwibW91c2Vtb3ZlXCI6Y2FzZSBcIm1vdXNldXBcIjpjYXNlIFwibW91c2VvdXRcIjpjYXNlIFwibW91c2VvdmVyXCI6Y2FzZSBcImNvbnRleHRtZW51XCI6az1CZDticmVhaztjYXNlIFwiZHJhZ1wiOmNhc2UgXCJkcmFnZW5kXCI6Y2FzZSBcImRyYWdlbnRlclwiOmNhc2UgXCJkcmFnZXhpdFwiOmNhc2UgXCJkcmFnbGVhdmVcIjpjYXNlIFwiZHJhZ292ZXJcIjpjYXNlIFwiZHJhZ3N0YXJ0XCI6Y2FzZSBcImRyb3BcIjprPVxuRGQ7YnJlYWs7Y2FzZSBcInRvdWNoY2FuY2VsXCI6Y2FzZSBcInRvdWNoZW5kXCI6Y2FzZSBcInRvdWNobW92ZVwiOmNhc2UgXCJ0b3VjaHN0YXJ0XCI6az1WZDticmVhaztjYXNlICRlOmNhc2UgYWY6Y2FzZSBiZjprPUhkO2JyZWFrO2Nhc2UgY2Y6az1YZDticmVhaztjYXNlIFwic2Nyb2xsXCI6az12ZDticmVhaztjYXNlIFwid2hlZWxcIjprPVpkO2JyZWFrO2Nhc2UgXCJjb3B5XCI6Y2FzZSBcImN1dFwiOmNhc2UgXCJwYXN0ZVwiOms9SmQ7YnJlYWs7Y2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6Y2FzZSBcImxvc3Rwb2ludGVyY2FwdHVyZVwiOmNhc2UgXCJwb2ludGVyY2FuY2VsXCI6Y2FzZSBcInBvaW50ZXJkb3duXCI6Y2FzZSBcInBvaW50ZXJtb3ZlXCI6Y2FzZSBcInBvaW50ZXJvdXRcIjpjYXNlIFwicG9pbnRlcm92ZXJcIjpjYXNlIFwicG9pbnRlcnVwXCI6az1UZH12YXIgdD0wIT09KGImNCksSj0hdCYmXCJzY3JvbGxcIj09PWEseD10P251bGwhPT1oP2grXCJDYXB0dXJlXCI6bnVsbDpoO3Q9W107Zm9yKHZhciB3PWQsdTtudWxsIT09XG53Oyl7dT13O3ZhciBGPXUuc3RhdGVOb2RlOzU9PT11LnRhZyYmbnVsbCE9PUYmJih1PUYsbnVsbCE9PXgmJihGPUtiKHcseCksbnVsbCE9RiYmdC5wdXNoKHRmKHcsRix1KSkpKTtpZihKKWJyZWFrO3c9dy5yZXR1cm59MDx0Lmxlbmd0aCYmKGg9bmV3IGsoaCxuLG51bGwsYyxlKSxnLnB1c2goe2V2ZW50OmgsbGlzdGVuZXJzOnR9KSl9fWlmKDA9PT0oYiY3KSl7YTp7aD1cIm1vdXNlb3ZlclwiPT09YXx8XCJwb2ludGVyb3ZlclwiPT09YTtrPVwibW91c2VvdXRcIj09PWF8fFwicG9pbnRlcm91dFwiPT09YTtpZihoJiZjIT09d2ImJihuPWMucmVsYXRlZFRhcmdldHx8Yy5mcm9tRWxlbWVudCkmJihXYyhuKXx8blt1Zl0pKWJyZWFrIGE7aWYoa3x8aCl7aD1lLndpbmRvdz09PWU/ZTooaD1lLm93bmVyRG9jdW1lbnQpP2guZGVmYXVsdFZpZXd8fGgucGFyZW50V2luZG93OndpbmRvdztpZihrKXtpZihuPWMucmVsYXRlZFRhcmdldHx8Yy50b0VsZW1lbnQsaz1kLG49bj9XYyhuKTpudWxsLG51bGwhPT1cbm4mJihKPVZiKG4pLG4hPT1KfHw1IT09bi50YWcmJjYhPT1uLnRhZykpbj1udWxsfWVsc2Ugaz1udWxsLG49ZDtpZihrIT09bil7dD1CZDtGPVwib25Nb3VzZUxlYXZlXCI7eD1cIm9uTW91c2VFbnRlclwiO3c9XCJtb3VzZVwiO2lmKFwicG9pbnRlcm91dFwiPT09YXx8XCJwb2ludGVyb3ZlclwiPT09YSl0PVRkLEY9XCJvblBvaW50ZXJMZWF2ZVwiLHg9XCJvblBvaW50ZXJFbnRlclwiLHc9XCJwb2ludGVyXCI7Sj1udWxsPT1rP2g6dWUoayk7dT1udWxsPT1uP2g6dWUobik7aD1uZXcgdChGLHcrXCJsZWF2ZVwiLGssYyxlKTtoLnRhcmdldD1KO2gucmVsYXRlZFRhcmdldD11O0Y9bnVsbDtXYyhlKT09PWQmJih0PW5ldyB0KHgsdytcImVudGVyXCIsbixjLGUpLHQudGFyZ2V0PXUsdC5yZWxhdGVkVGFyZ2V0PUosRj10KTtKPUY7aWYoayYmbiliOnt0PWs7eD1uO3c9MDtmb3IodT10O3U7dT12Zih1KSl3Kys7dT0wO2ZvcihGPXg7RjtGPXZmKEYpKXUrKztmb3IoOzA8dy11Oyl0PXZmKHQpLHctLTtmb3IoOzA8dS13Oyl4PVxudmYoeCksdS0tO2Zvcig7dy0tOyl7aWYodD09PXh8fG51bGwhPT14JiZ0PT09eC5hbHRlcm5hdGUpYnJlYWsgYjt0PXZmKHQpO3g9dmYoeCl9dD1udWxsfWVsc2UgdD1udWxsO251bGwhPT1rJiZ3ZihnLGgsayx0LCExKTtudWxsIT09biYmbnVsbCE9PUomJndmKGcsSixuLHQsITApfX19YTp7aD1kP3VlKGQpOndpbmRvdztrPWgubm9kZU5hbWUmJmgubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcInNlbGVjdFwiPT09a3x8XCJpbnB1dFwiPT09ayYmXCJmaWxlXCI9PT1oLnR5cGUpdmFyIG5hPXZlO2Vsc2UgaWYobWUoaCkpaWYod2UpbmE9RmU7ZWxzZXtuYT1EZTt2YXIgeGE9Q2V9ZWxzZShrPWgubm9kZU5hbWUpJiZcImlucHV0XCI9PT1rLnRvTG93ZXJDYXNlKCkmJihcImNoZWNrYm94XCI9PT1oLnR5cGV8fFwicmFkaW9cIj09PWgudHlwZSkmJihuYT1FZSk7aWYobmEmJihuYT1uYShhLGQpKSl7bmUoZyxuYSxjLGUpO2JyZWFrIGF9eGEmJnhhKGEsaCxkKTtcImZvY3Vzb3V0XCI9PT1hJiYoeGE9aC5fd3JhcHBlclN0YXRlKSYmXG54YS5jb250cm9sbGVkJiZcIm51bWJlclwiPT09aC50eXBlJiZjYihoLFwibnVtYmVyXCIsaC52YWx1ZSl9eGE9ZD91ZShkKTp3aW5kb3c7c3dpdGNoKGEpe2Nhc2UgXCJmb2N1c2luXCI6aWYobWUoeGEpfHxcInRydWVcIj09PXhhLmNvbnRlbnRFZGl0YWJsZSlRZT14YSxSZT1kLFNlPW51bGw7YnJlYWs7Y2FzZSBcImZvY3Vzb3V0XCI6U2U9UmU9UWU9bnVsbDticmVhaztjYXNlIFwibW91c2Vkb3duXCI6VGU9ITA7YnJlYWs7Y2FzZSBcImNvbnRleHRtZW51XCI6Y2FzZSBcIm1vdXNldXBcIjpjYXNlIFwiZHJhZ2VuZFwiOlRlPSExO1VlKGcsYyxlKTticmVhaztjYXNlIFwic2VsZWN0aW9uY2hhbmdlXCI6aWYoUGUpYnJlYWs7Y2FzZSBcImtleWRvd25cIjpjYXNlIFwia2V5dXBcIjpVZShnLGMsZSl9dmFyICRhO2lmKGFlKWI6e3N3aXRjaChhKXtjYXNlIFwiY29tcG9zaXRpb25zdGFydFwiOnZhciBiYT1cIm9uQ29tcG9zaXRpb25TdGFydFwiO2JyZWFrIGI7Y2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6YmE9XCJvbkNvbXBvc2l0aW9uRW5kXCI7XG5icmVhayBiO2Nhc2UgXCJjb21wb3NpdGlvbnVwZGF0ZVwiOmJhPVwib25Db21wb3NpdGlvblVwZGF0ZVwiO2JyZWFrIGJ9YmE9dm9pZCAwfWVsc2UgaWU/Z2UoYSxjKSYmKGJhPVwib25Db21wb3NpdGlvbkVuZFwiKTpcImtleWRvd25cIj09PWEmJjIyOT09PWMua2V5Q29kZSYmKGJhPVwib25Db21wb3NpdGlvblN0YXJ0XCIpO2JhJiYoZGUmJlwia29cIiE9PWMubG9jYWxlJiYoaWV8fFwib25Db21wb3NpdGlvblN0YXJ0XCIhPT1iYT9cIm9uQ29tcG9zaXRpb25FbmRcIj09PWJhJiZpZSYmKCRhPW5kKCkpOihrZD1lLGxkPVwidmFsdWVcImluIGtkP2tkLnZhbHVlOmtkLnRleHRDb250ZW50LGllPSEwKSkseGE9b2UoZCxiYSksMDx4YS5sZW5ndGgmJihiYT1uZXcgTGQoYmEsYSxudWxsLGMsZSksZy5wdXNoKHtldmVudDpiYSxsaXN0ZW5lcnM6eGF9KSwkYT9iYS5kYXRhPSRhOigkYT1oZShjKSxudWxsIT09JGEmJihiYS5kYXRhPSRhKSkpKTtpZigkYT1jZT9qZShhLGMpOmtlKGEsYykpZD1vZShkLFwib25CZWZvcmVJbnB1dFwiKSxcbjA8ZC5sZW5ndGgmJihlPW5ldyBMZChcIm9uQmVmb3JlSW5wdXRcIixcImJlZm9yZWlucHV0XCIsbnVsbCxjLGUpLGcucHVzaCh7ZXZlbnQ6ZSxsaXN0ZW5lcnM6ZH0pLGUuZGF0YT0kYSl9c2UoZyxiKX0pfWZ1bmN0aW9uIHRmKGEsYixjKXtyZXR1cm57aW5zdGFuY2U6YSxsaXN0ZW5lcjpiLGN1cnJlbnRUYXJnZXQ6Y319ZnVuY3Rpb24gb2UoYSxiKXtmb3IodmFyIGM9YitcIkNhcHR1cmVcIixkPVtdO251bGwhPT1hOyl7dmFyIGU9YSxmPWUuc3RhdGVOb2RlOzU9PT1lLnRhZyYmbnVsbCE9PWYmJihlPWYsZj1LYihhLGMpLG51bGwhPWYmJmQudW5zaGlmdCh0ZihhLGYsZSkpLGY9S2IoYSxiKSxudWxsIT1mJiZkLnB1c2godGYoYSxmLGUpKSk7YT1hLnJldHVybn1yZXR1cm4gZH1mdW5jdGlvbiB2ZihhKXtpZihudWxsPT09YSlyZXR1cm4gbnVsbDtkbyBhPWEucmV0dXJuO3doaWxlKGEmJjUhPT1hLnRhZyk7cmV0dXJuIGE/YTpudWxsfVxuZnVuY3Rpb24gd2YoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yi5fcmVhY3ROYW1lLGc9W107bnVsbCE9PWMmJmMhPT1kOyl7dmFyIGg9YyxrPWguYWx0ZXJuYXRlLGw9aC5zdGF0ZU5vZGU7aWYobnVsbCE9PWsmJms9PT1kKWJyZWFrOzU9PT1oLnRhZyYmbnVsbCE9PWwmJihoPWwsZT8oaz1LYihjLGYpLG51bGwhPWsmJmcudW5zaGlmdCh0ZihjLGssaCkpKTplfHwoaz1LYihjLGYpLG51bGwhPWsmJmcucHVzaCh0ZihjLGssaCkpKSk7Yz1jLnJldHVybn0wIT09Zy5sZW5ndGgmJmEucHVzaCh7ZXZlbnQ6YixsaXN0ZW5lcnM6Z30pfXZhciB4Zj0vXFxyXFxuPy9nLHlmPS9cXHUwMDAwfFxcdUZGRkQvZztmdW5jdGlvbiB6ZihhKXtyZXR1cm4oXCJzdHJpbmdcIj09PXR5cGVvZiBhP2E6XCJcIithKS5yZXBsYWNlKHhmLFwiXFxuXCIpLnJlcGxhY2UoeWYsXCJcIil9ZnVuY3Rpb24gQWYoYSxiLGMpe2I9emYoYik7aWYoemYoYSkhPT1iJiZjKXRocm93IEVycm9yKHAoNDI1KSk7fWZ1bmN0aW9uIEJmKCl7fVxudmFyIENmPW51bGwsRGY9bnVsbDtmdW5jdGlvbiBFZihhLGIpe3JldHVyblwidGV4dGFyZWFcIj09PWF8fFwibm9zY3JpcHRcIj09PWF8fFwic3RyaW5nXCI9PT10eXBlb2YgYi5jaGlsZHJlbnx8XCJudW1iZXJcIj09PXR5cGVvZiBiLmNoaWxkcmVufHxcIm9iamVjdFwiPT09dHlwZW9mIGIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwmJm51bGwhPT1iLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZudWxsIT1iLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbH1cbnZhciBGZj1cImZ1bmN0aW9uXCI9PT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OnZvaWQgMCxHZj1cImZ1bmN0aW9uXCI9PT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDp2b2lkIDAsSGY9XCJmdW5jdGlvblwiPT09dHlwZW9mIFByb21pc2U/UHJvbWlzZTp2b2lkIDAsSmY9XCJmdW5jdGlvblwiPT09dHlwZW9mIHF1ZXVlTWljcm90YXNrP3F1ZXVlTWljcm90YXNrOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgSGY/ZnVuY3Rpb24oYSl7cmV0dXJuIEhmLnJlc29sdmUobnVsbCkudGhlbihhKS5jYXRjaChJZil9OkZmO2Z1bmN0aW9uIElmKGEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBhO30pfVxuZnVuY3Rpb24gS2YoYSxiKXt2YXIgYz1iLGQ9MDtkb3t2YXIgZT1jLm5leHRTaWJsaW5nO2EucmVtb3ZlQ2hpbGQoYyk7aWYoZSYmOD09PWUubm9kZVR5cGUpaWYoYz1lLmRhdGEsXCIvJFwiPT09Yyl7aWYoMD09PWQpe2EucmVtb3ZlQ2hpbGQoZSk7YmQoYik7cmV0dXJufWQtLX1lbHNlXCIkXCIhPT1jJiZcIiQ/XCIhPT1jJiZcIiQhXCIhPT1jfHxkKys7Yz1lfXdoaWxlKGMpO2JkKGIpfWZ1bmN0aW9uIExmKGEpe2Zvcig7bnVsbCE9YTthPWEubmV4dFNpYmxpbmcpe3ZhciBiPWEubm9kZVR5cGU7aWYoMT09PWJ8fDM9PT1iKWJyZWFrO2lmKDg9PT1iKXtiPWEuZGF0YTtpZihcIiRcIj09PWJ8fFwiJCFcIj09PWJ8fFwiJD9cIj09PWIpYnJlYWs7aWYoXCIvJFwiPT09YilyZXR1cm4gbnVsbH19cmV0dXJuIGF9XG5mdW5jdGlvbiBNZihhKXthPWEucHJldmlvdXNTaWJsaW5nO2Zvcih2YXIgYj0wO2E7KXtpZig4PT09YS5ub2RlVHlwZSl7dmFyIGM9YS5kYXRhO2lmKFwiJFwiPT09Y3x8XCIkIVwiPT09Y3x8XCIkP1wiPT09Yyl7aWYoMD09PWIpcmV0dXJuIGE7Yi0tfWVsc2VcIi8kXCI9PT1jJiZiKyt9YT1hLnByZXZpb3VzU2libGluZ31yZXR1cm4gbnVsbH12YXIgTmY9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksT2Y9XCJfX3JlYWN0RmliZXIkXCIrTmYsUGY9XCJfX3JlYWN0UHJvcHMkXCIrTmYsdWY9XCJfX3JlYWN0Q29udGFpbmVyJFwiK05mLG9mPVwiX19yZWFjdEV2ZW50cyRcIitOZixRZj1cIl9fcmVhY3RMaXN0ZW5lcnMkXCIrTmYsUmY9XCJfX3JlYWN0SGFuZGxlcyRcIitOZjtcbmZ1bmN0aW9uIFdjKGEpe3ZhciBiPWFbT2ZdO2lmKGIpcmV0dXJuIGI7Zm9yKHZhciBjPWEucGFyZW50Tm9kZTtjOyl7aWYoYj1jW3VmXXx8Y1tPZl0pe2M9Yi5hbHRlcm5hdGU7aWYobnVsbCE9PWIuY2hpbGR8fG51bGwhPT1jJiZudWxsIT09Yy5jaGlsZClmb3IoYT1NZihhKTtudWxsIT09YTspe2lmKGM9YVtPZl0pcmV0dXJuIGM7YT1NZihhKX1yZXR1cm4gYn1hPWM7Yz1hLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQ2IoYSl7YT1hW09mXXx8YVt1Zl07cmV0dXJuIWF8fDUhPT1hLnRhZyYmNiE9PWEudGFnJiYxMyE9PWEudGFnJiYzIT09YS50YWc/bnVsbDphfWZ1bmN0aW9uIHVlKGEpe2lmKDU9PT1hLnRhZ3x8Nj09PWEudGFnKXJldHVybiBhLnN0YXRlTm9kZTt0aHJvdyBFcnJvcihwKDMzKSk7fWZ1bmN0aW9uIERiKGEpe3JldHVybiBhW1BmXXx8bnVsbH12YXIgU2Y9W10sVGY9LTE7ZnVuY3Rpb24gVWYoYSl7cmV0dXJue2N1cnJlbnQ6YX19XG5mdW5jdGlvbiBFKGEpezA+VGZ8fChhLmN1cnJlbnQ9U2ZbVGZdLFNmW1RmXT1udWxsLFRmLS0pfWZ1bmN0aW9uIEcoYSxiKXtUZisrO1NmW1RmXT1hLmN1cnJlbnQ7YS5jdXJyZW50PWJ9dmFyIFZmPXt9LEg9VWYoVmYpLFdmPVVmKCExKSxYZj1WZjtmdW5jdGlvbiBZZihhLGIpe3ZhciBjPWEudHlwZS5jb250ZXh0VHlwZXM7aWYoIWMpcmV0dXJuIFZmO3ZhciBkPWEuc3RhdGVOb2RlO2lmKGQmJmQuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD09PWIpcmV0dXJuIGQuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ7dmFyIGU9e30sZjtmb3IoZiBpbiBjKWVbZl09YltmXTtkJiYoYT1hLnN0YXRlTm9kZSxhLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQ9YixhLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0PWUpO3JldHVybiBlfVxuZnVuY3Rpb24gWmYoYSl7YT1hLmNoaWxkQ29udGV4dFR5cGVzO3JldHVybiBudWxsIT09YSYmdm9pZCAwIT09YX1mdW5jdGlvbiAkZigpe0UoV2YpO0UoSCl9ZnVuY3Rpb24gYWcoYSxiLGMpe2lmKEguY3VycmVudCE9PVZmKXRocm93IEVycm9yKHAoMTY4KSk7RyhILGIpO0coV2YsYyl9ZnVuY3Rpb24gYmcoYSxiLGMpe3ZhciBkPWEuc3RhdGVOb2RlO2I9Yi5jaGlsZENvbnRleHRUeXBlcztpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgZC5nZXRDaGlsZENvbnRleHQpcmV0dXJuIGM7ZD1kLmdldENoaWxkQ29udGV4dCgpO2Zvcih2YXIgZSBpbiBkKWlmKCEoZSBpbiBiKSl0aHJvdyBFcnJvcihwKDEwOCxSYShhKXx8XCJVbmtub3duXCIsZSkpO3JldHVybiBBKHt9LGMsZCl9XG5mdW5jdGlvbiBjZyhhKXthPShhPWEuc3RhdGVOb2RlKSYmYS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dHx8VmY7WGY9SC5jdXJyZW50O0coSCxhKTtHKFdmLFdmLmN1cnJlbnQpO3JldHVybiEwfWZ1bmN0aW9uIGRnKGEsYixjKXt2YXIgZD1hLnN0YXRlTm9kZTtpZighZCl0aHJvdyBFcnJvcihwKDE2OSkpO2M/KGE9YmcoYSxiLFhmKSxkLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0PWEsRShXZiksRShIKSxHKEgsYSkpOkUoV2YpO0coV2YsYyl9dmFyIGVnPW51bGwsZmc9ITEsZ2c9ITE7ZnVuY3Rpb24gaGcoYSl7bnVsbD09PWVnP2VnPVthXTplZy5wdXNoKGEpfWZ1bmN0aW9uIGlnKGEpe2ZnPSEwO2hnKGEpfVxuZnVuY3Rpb24gamcoKXtpZighZ2cmJm51bGwhPT1lZyl7Z2c9ITA7dmFyIGE9MCxiPUM7dHJ5e3ZhciBjPWVnO2ZvcihDPTE7YTxjLmxlbmd0aDthKyspe3ZhciBkPWNbYV07ZG8gZD1kKCEwKTt3aGlsZShudWxsIT09ZCl9ZWc9bnVsbDtmZz0hMX1jYXRjaChlKXt0aHJvdyBudWxsIT09ZWcmJihlZz1lZy5zbGljZShhKzEpKSxhYyhmYyxqZyksZTt9ZmluYWxseXtDPWIsZ2c9ITF9fXJldHVybiBudWxsfXZhciBrZz1bXSxsZz0wLG1nPW51bGwsbmc9MCxvZz1bXSxwZz0wLHFnPW51bGwscmc9MSxzZz1cIlwiO2Z1bmN0aW9uIHRnKGEsYil7a2dbbGcrK109bmc7a2dbbGcrK109bWc7bWc9YTtuZz1ifVxuZnVuY3Rpb24gdWcoYSxiLGMpe29nW3BnKytdPXJnO29nW3BnKytdPXNnO29nW3BnKytdPXFnO3FnPWE7dmFyIGQ9cmc7YT1zZzt2YXIgZT0zMi1vYyhkKS0xO2QmPX4oMTw8ZSk7Yys9MTt2YXIgZj0zMi1vYyhiKStlO2lmKDMwPGYpe3ZhciBnPWUtZSU1O2Y9KGQmKDE8PGcpLTEpLnRvU3RyaW5nKDMyKTtkPj49ZztlLT1nO3JnPTE8PDMyLW9jKGIpK2V8Yzw8ZXxkO3NnPWYrYX1lbHNlIHJnPTE8PGZ8Yzw8ZXxkLHNnPWF9ZnVuY3Rpb24gdmcoYSl7bnVsbCE9PWEucmV0dXJuJiYodGcoYSwxKSx1ZyhhLDEsMCkpfWZ1bmN0aW9uIHdnKGEpe2Zvcig7YT09PW1nOyltZz1rZ1stLWxnXSxrZ1tsZ109bnVsbCxuZz1rZ1stLWxnXSxrZ1tsZ109bnVsbDtmb3IoO2E9PT1xZzspcWc9b2dbLS1wZ10sb2dbcGddPW51bGwsc2c9b2dbLS1wZ10sb2dbcGddPW51bGwscmc9b2dbLS1wZ10sb2dbcGddPW51bGx9dmFyIHhnPW51bGwseWc9bnVsbCxJPSExLHpnPW51bGw7XG5mdW5jdGlvbiBBZyhhLGIpe3ZhciBjPUJnKDUsbnVsbCxudWxsLDApO2MuZWxlbWVudFR5cGU9XCJERUxFVEVEXCI7Yy5zdGF0ZU5vZGU9YjtjLnJldHVybj1hO2I9YS5kZWxldGlvbnM7bnVsbD09PWI/KGEuZGVsZXRpb25zPVtjXSxhLmZsYWdzfD0xNik6Yi5wdXNoKGMpfVxuZnVuY3Rpb24gQ2coYSxiKXtzd2l0Y2goYS50YWcpe2Nhc2UgNTp2YXIgYz1hLnR5cGU7Yj0xIT09Yi5ub2RlVHlwZXx8Yy50b0xvd2VyQ2FzZSgpIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP251bGw6YjtyZXR1cm4gbnVsbCE9PWI/KGEuc3RhdGVOb2RlPWIseGc9YSx5Zz1MZihiLmZpcnN0Q2hpbGQpLCEwKTohMTtjYXNlIDY6cmV0dXJuIGI9XCJcIj09PWEucGVuZGluZ1Byb3BzfHwzIT09Yi5ub2RlVHlwZT9udWxsOmIsbnVsbCE9PWI/KGEuc3RhdGVOb2RlPWIseGc9YSx5Zz1udWxsLCEwKTohMTtjYXNlIDEzOnJldHVybiBiPTghPT1iLm5vZGVUeXBlP251bGw6YixudWxsIT09Yj8oYz1udWxsIT09cWc/e2lkOnJnLG92ZXJmbG93OnNnfTpudWxsLGEubWVtb2l6ZWRTdGF0ZT17ZGVoeWRyYXRlZDpiLHRyZWVDb250ZXh0OmMscmV0cnlMYW5lOjEwNzM3NDE4MjR9LGM9QmcoMTgsbnVsbCxudWxsLDApLGMuc3RhdGVOb2RlPWIsYy5yZXR1cm49YSxhLmNoaWxkPWMseGc9YSx5Zz1cbm51bGwsITApOiExO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIERnKGEpe3JldHVybiAwIT09KGEubW9kZSYxKSYmMD09PShhLmZsYWdzJjEyOCl9ZnVuY3Rpb24gRWcoYSl7aWYoSSl7dmFyIGI9eWc7aWYoYil7dmFyIGM9YjtpZighQ2coYSxiKSl7aWYoRGcoYSkpdGhyb3cgRXJyb3IocCg0MTgpKTtiPUxmKGMubmV4dFNpYmxpbmcpO3ZhciBkPXhnO2ImJkNnKGEsYik/QWcoZCxjKTooYS5mbGFncz1hLmZsYWdzJi00MDk3fDIsST0hMSx4Zz1hKX19ZWxzZXtpZihEZyhhKSl0aHJvdyBFcnJvcihwKDQxOCkpO2EuZmxhZ3M9YS5mbGFncyYtNDA5N3wyO0k9ITE7eGc9YX19fWZ1bmN0aW9uIEZnKGEpe2ZvcihhPWEucmV0dXJuO251bGwhPT1hJiY1IT09YS50YWcmJjMhPT1hLnRhZyYmMTMhPT1hLnRhZzspYT1hLnJldHVybjt4Zz1hfVxuZnVuY3Rpb24gR2coYSl7aWYoYSE9PXhnKXJldHVybiExO2lmKCFJKXJldHVybiBGZyhhKSxJPSEwLCExO3ZhciBiOyhiPTMhPT1hLnRhZykmJiEoYj01IT09YS50YWcpJiYoYj1hLnR5cGUsYj1cImhlYWRcIiE9PWImJlwiYm9keVwiIT09YiYmIUVmKGEudHlwZSxhLm1lbW9pemVkUHJvcHMpKTtpZihiJiYoYj15Zykpe2lmKERnKGEpKXRocm93IEhnKCksRXJyb3IocCg0MTgpKTtmb3IoO2I7KUFnKGEsYiksYj1MZihiLm5leHRTaWJsaW5nKX1GZyhhKTtpZigxMz09PWEudGFnKXthPWEubWVtb2l6ZWRTdGF0ZTthPW51bGwhPT1hP2EuZGVoeWRyYXRlZDpudWxsO2lmKCFhKXRocm93IEVycm9yKHAoMzE3KSk7YTp7YT1hLm5leHRTaWJsaW5nO2ZvcihiPTA7YTspe2lmKDg9PT1hLm5vZGVUeXBlKXt2YXIgYz1hLmRhdGE7aWYoXCIvJFwiPT09Yyl7aWYoMD09PWIpe3lnPUxmKGEubmV4dFNpYmxpbmcpO2JyZWFrIGF9Yi0tfWVsc2VcIiRcIiE9PWMmJlwiJCFcIiE9PWMmJlwiJD9cIiE9PWN8fGIrK31hPWEubmV4dFNpYmxpbmd9eWc9XG5udWxsfX1lbHNlIHlnPXhnP0xmKGEuc3RhdGVOb2RlLm5leHRTaWJsaW5nKTpudWxsO3JldHVybiEwfWZ1bmN0aW9uIEhnKCl7Zm9yKHZhciBhPXlnO2E7KWE9TGYoYS5uZXh0U2libGluZyl9ZnVuY3Rpb24gSWcoKXt5Zz14Zz1udWxsO0k9ITF9ZnVuY3Rpb24gSmcoYSl7bnVsbD09PXpnP3pnPVthXTp6Zy5wdXNoKGEpfXZhciBLZz11YS5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZztcbmZ1bmN0aW9uIExnKGEsYixjKXthPWMucmVmO2lmKG51bGwhPT1hJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYSYmXCJvYmplY3RcIiE9PXR5cGVvZiBhKXtpZihjLl9vd25lcil7Yz1jLl9vd25lcjtpZihjKXtpZigxIT09Yy50YWcpdGhyb3cgRXJyb3IocCgzMDkpKTt2YXIgZD1jLnN0YXRlTm9kZX1pZighZCl0aHJvdyBFcnJvcihwKDE0NyxhKSk7dmFyIGU9ZCxmPVwiXCIrYTtpZihudWxsIT09YiYmbnVsbCE9PWIucmVmJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYi5yZWYmJmIucmVmLl9zdHJpbmdSZWY9PT1mKXJldHVybiBiLnJlZjtiPWZ1bmN0aW9uKGEpe3ZhciBiPWUucmVmcztudWxsPT09YT9kZWxldGUgYltmXTpiW2ZdPWF9O2IuX3N0cmluZ1JlZj1mO3JldHVybiBifWlmKFwic3RyaW5nXCIhPT10eXBlb2YgYSl0aHJvdyBFcnJvcihwKDI4NCkpO2lmKCFjLl9vd25lcil0aHJvdyBFcnJvcihwKDI5MCxhKSk7fXJldHVybiBhfVxuZnVuY3Rpb24gTWcoYSxiKXthPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKTt0aHJvdyBFcnJvcihwKDMxLFwiW29iamVjdCBPYmplY3RdXCI9PT1hP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXMoYikuam9pbihcIiwgXCIpK1wifVwiOmEpKTt9ZnVuY3Rpb24gTmcoYSl7dmFyIGI9YS5faW5pdDtyZXR1cm4gYihhLl9wYXlsb2FkKX1cbmZ1bmN0aW9uIE9nKGEpe2Z1bmN0aW9uIGIoYixjKXtpZihhKXt2YXIgZD1iLmRlbGV0aW9ucztudWxsPT09ZD8oYi5kZWxldGlvbnM9W2NdLGIuZmxhZ3N8PTE2KTpkLnB1c2goYyl9fWZ1bmN0aW9uIGMoYyxkKXtpZighYSlyZXR1cm4gbnVsbDtmb3IoO251bGwhPT1kOyliKGMsZCksZD1kLnNpYmxpbmc7cmV0dXJuIG51bGx9ZnVuY3Rpb24gZChhLGIpe2ZvcihhPW5ldyBNYXA7bnVsbCE9PWI7KW51bGwhPT1iLmtleT9hLnNldChiLmtleSxiKTphLnNldChiLmluZGV4LGIpLGI9Yi5zaWJsaW5nO3JldHVybiBhfWZ1bmN0aW9uIGUoYSxiKXthPVBnKGEsYik7YS5pbmRleD0wO2Euc2libGluZz1udWxsO3JldHVybiBhfWZ1bmN0aW9uIGYoYixjLGQpe2IuaW5kZXg9ZDtpZighYSlyZXR1cm4gYi5mbGFnc3w9MTA0ODU3NixjO2Q9Yi5hbHRlcm5hdGU7aWYobnVsbCE9PWQpcmV0dXJuIGQ9ZC5pbmRleCxkPGM/KGIuZmxhZ3N8PTIsYyk6ZDtiLmZsYWdzfD0yO3JldHVybiBjfWZ1bmN0aW9uIGcoYil7YSYmXG5udWxsPT09Yi5hbHRlcm5hdGUmJihiLmZsYWdzfD0yKTtyZXR1cm4gYn1mdW5jdGlvbiBoKGEsYixjLGQpe2lmKG51bGw9PT1ifHw2IT09Yi50YWcpcmV0dXJuIGI9UWcoYyxhLm1vZGUsZCksYi5yZXR1cm49YSxiO2I9ZShiLGMpO2IucmV0dXJuPWE7cmV0dXJuIGJ9ZnVuY3Rpb24gayhhLGIsYyxkKXt2YXIgZj1jLnR5cGU7aWYoZj09PXlhKXJldHVybiBtKGEsYixjLnByb3BzLmNoaWxkcmVuLGQsYy5rZXkpO2lmKG51bGwhPT1iJiYoYi5lbGVtZW50VHlwZT09PWZ8fFwib2JqZWN0XCI9PT10eXBlb2YgZiYmbnVsbCE9PWYmJmYuJCR0eXBlb2Y9PT1IYSYmTmcoZik9PT1iLnR5cGUpKXJldHVybiBkPWUoYixjLnByb3BzKSxkLnJlZj1MZyhhLGIsYyksZC5yZXR1cm49YSxkO2Q9UmcoYy50eXBlLGMua2V5LGMucHJvcHMsbnVsbCxhLm1vZGUsZCk7ZC5yZWY9TGcoYSxiLGMpO2QucmV0dXJuPWE7cmV0dXJuIGR9ZnVuY3Rpb24gbChhLGIsYyxkKXtpZihudWxsPT09Ynx8NCE9PWIudGFnfHxcbmIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8hPT1jLmNvbnRhaW5lckluZm98fGIuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uIT09Yy5pbXBsZW1lbnRhdGlvbilyZXR1cm4gYj1TZyhjLGEubW9kZSxkKSxiLnJldHVybj1hLGI7Yj1lKGIsYy5jaGlsZHJlbnx8W10pO2IucmV0dXJuPWE7cmV0dXJuIGJ9ZnVuY3Rpb24gbShhLGIsYyxkLGYpe2lmKG51bGw9PT1ifHw3IT09Yi50YWcpcmV0dXJuIGI9VGcoYyxhLm1vZGUsZCxmKSxiLnJldHVybj1hLGI7Yj1lKGIsYyk7Yi5yZXR1cm49YTtyZXR1cm4gYn1mdW5jdGlvbiBxKGEsYixjKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGImJlwiXCIhPT1ifHxcIm51bWJlclwiPT09dHlwZW9mIGIpcmV0dXJuIGI9UWcoXCJcIitiLGEubW9kZSxjKSxiLnJldHVybj1hLGI7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBiJiZudWxsIT09Yil7c3dpdGNoKGIuJCR0eXBlb2Ype2Nhc2UgdmE6cmV0dXJuIGM9UmcoYi50eXBlLGIua2V5LGIucHJvcHMsbnVsbCxhLm1vZGUsYyksXG5jLnJlZj1MZyhhLG51bGwsYiksYy5yZXR1cm49YSxjO2Nhc2Ugd2E6cmV0dXJuIGI9U2coYixhLm1vZGUsYyksYi5yZXR1cm49YSxiO2Nhc2UgSGE6dmFyIGQ9Yi5faW5pdDtyZXR1cm4gcShhLGQoYi5fcGF5bG9hZCksYyl9aWYoZWIoYil8fEthKGIpKXJldHVybiBiPVRnKGIsYS5tb2RlLGMsbnVsbCksYi5yZXR1cm49YSxiO01nKGEsYil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcihhLGIsYyxkKXt2YXIgZT1udWxsIT09Yj9iLmtleTpudWxsO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYyYmXCJcIiE9PWN8fFwibnVtYmVyXCI9PT10eXBlb2YgYylyZXR1cm4gbnVsbCE9PWU/bnVsbDpoKGEsYixcIlwiK2MsZCk7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBjJiZudWxsIT09Yyl7c3dpdGNoKGMuJCR0eXBlb2Ype2Nhc2UgdmE6cmV0dXJuIGMua2V5PT09ZT9rKGEsYixjLGQpOm51bGw7Y2FzZSB3YTpyZXR1cm4gYy5rZXk9PT1lP2woYSxiLGMsZCk6bnVsbDtjYXNlIEhhOnJldHVybiBlPWMuX2luaXQscihhLFxuYixlKGMuX3BheWxvYWQpLGQpfWlmKGViKGMpfHxLYShjKSlyZXR1cm4gbnVsbCE9PWU/bnVsbDptKGEsYixjLGQsbnVsbCk7TWcoYSxjKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB5KGEsYixjLGQsZSl7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBkJiZcIlwiIT09ZHx8XCJudW1iZXJcIj09PXR5cGVvZiBkKXJldHVybiBhPWEuZ2V0KGMpfHxudWxsLGgoYixhLFwiXCIrZCxlKTtpZihcIm9iamVjdFwiPT09dHlwZW9mIGQmJm51bGwhPT1kKXtzd2l0Y2goZC4kJHR5cGVvZil7Y2FzZSB2YTpyZXR1cm4gYT1hLmdldChudWxsPT09ZC5rZXk/YzpkLmtleSl8fG51bGwsayhiLGEsZCxlKTtjYXNlIHdhOnJldHVybiBhPWEuZ2V0KG51bGw9PT1kLmtleT9jOmQua2V5KXx8bnVsbCxsKGIsYSxkLGUpO2Nhc2UgSGE6dmFyIGY9ZC5faW5pdDtyZXR1cm4geShhLGIsYyxmKGQuX3BheWxvYWQpLGUpfWlmKGViKGQpfHxLYShkKSlyZXR1cm4gYT1hLmdldChjKXx8bnVsbCxtKGIsYSxkLGUsbnVsbCk7TWcoYixkKX1yZXR1cm4gbnVsbH1cbmZ1bmN0aW9uIG4oZSxnLGgsayl7Zm9yKHZhciBsPW51bGwsbT1udWxsLHU9Zyx3PWc9MCx4PW51bGw7bnVsbCE9PXUmJnc8aC5sZW5ndGg7dysrKXt1LmluZGV4Pnc/KHg9dSx1PW51bGwpOng9dS5zaWJsaW5nO3ZhciBuPXIoZSx1LGhbd10sayk7aWYobnVsbD09PW4pe251bGw9PT11JiYodT14KTticmVha31hJiZ1JiZudWxsPT09bi5hbHRlcm5hdGUmJmIoZSx1KTtnPWYobixnLHcpO251bGw9PT1tP2w9bjptLnNpYmxpbmc9bjttPW47dT14fWlmKHc9PT1oLmxlbmd0aClyZXR1cm4gYyhlLHUpLEkmJnRnKGUsdyksbDtpZihudWxsPT09dSl7Zm9yKDt3PGgubGVuZ3RoO3crKyl1PXEoZSxoW3ddLGspLG51bGwhPT11JiYoZz1mKHUsZyx3KSxudWxsPT09bT9sPXU6bS5zaWJsaW5nPXUsbT11KTtJJiZ0ZyhlLHcpO3JldHVybiBsfWZvcih1PWQoZSx1KTt3PGgubGVuZ3RoO3crKyl4PXkodSxlLHcsaFt3XSxrKSxudWxsIT09eCYmKGEmJm51bGwhPT14LmFsdGVybmF0ZSYmdS5kZWxldGUobnVsbD09PVxueC5rZXk/dzp4LmtleSksZz1mKHgsZyx3KSxudWxsPT09bT9sPXg6bS5zaWJsaW5nPXgsbT14KTthJiZ1LmZvckVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIGIoZSxhKX0pO0kmJnRnKGUsdyk7cmV0dXJuIGx9ZnVuY3Rpb24gdChlLGcsaCxrKXt2YXIgbD1LYShoKTtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgbCl0aHJvdyBFcnJvcihwKDE1MCkpO2g9bC5jYWxsKGgpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IocCgxNTEpKTtmb3IodmFyIHU9bD1udWxsLG09Zyx3PWc9MCx4PW51bGwsbj1oLm5leHQoKTtudWxsIT09bSYmIW4uZG9uZTt3Kyssbj1oLm5leHQoKSl7bS5pbmRleD53Pyh4PW0sbT1udWxsKTp4PW0uc2libGluZzt2YXIgdD1yKGUsbSxuLnZhbHVlLGspO2lmKG51bGw9PT10KXtudWxsPT09bSYmKG09eCk7YnJlYWt9YSYmbSYmbnVsbD09PXQuYWx0ZXJuYXRlJiZiKGUsbSk7Zz1mKHQsZyx3KTtudWxsPT09dT9sPXQ6dS5zaWJsaW5nPXQ7dT10O209eH1pZihuLmRvbmUpcmV0dXJuIGMoZSxcbm0pLEkmJnRnKGUsdyksbDtpZihudWxsPT09bSl7Zm9yKDshbi5kb25lO3crKyxuPWgubmV4dCgpKW49cShlLG4udmFsdWUsayksbnVsbCE9PW4mJihnPWYobixnLHcpLG51bGw9PT11P2w9bjp1LnNpYmxpbmc9bix1PW4pO0kmJnRnKGUsdyk7cmV0dXJuIGx9Zm9yKG09ZChlLG0pOyFuLmRvbmU7dysrLG49aC5uZXh0KCkpbj15KG0sZSx3LG4udmFsdWUsayksbnVsbCE9PW4mJihhJiZudWxsIT09bi5hbHRlcm5hdGUmJm0uZGVsZXRlKG51bGw9PT1uLmtleT93Om4ua2V5KSxnPWYobixnLHcpLG51bGw9PT11P2w9bjp1LnNpYmxpbmc9bix1PW4pO2EmJm0uZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gYihlLGEpfSk7SSYmdGcoZSx3KTtyZXR1cm4gbH1mdW5jdGlvbiBKKGEsZCxmLGgpe1wib2JqZWN0XCI9PT10eXBlb2YgZiYmbnVsbCE9PWYmJmYudHlwZT09PXlhJiZudWxsPT09Zi5rZXkmJihmPWYucHJvcHMuY2hpbGRyZW4pO2lmKFwib2JqZWN0XCI9PT10eXBlb2YgZiYmbnVsbCE9PWYpe3N3aXRjaChmLiQkdHlwZW9mKXtjYXNlIHZhOmE6e2Zvcih2YXIgaz1cbmYua2V5LGw9ZDtudWxsIT09bDspe2lmKGwua2V5PT09ayl7az1mLnR5cGU7aWYoaz09PXlhKXtpZig3PT09bC50YWcpe2MoYSxsLnNpYmxpbmcpO2Q9ZShsLGYucHJvcHMuY2hpbGRyZW4pO2QucmV0dXJuPWE7YT1kO2JyZWFrIGF9fWVsc2UgaWYobC5lbGVtZW50VHlwZT09PWt8fFwib2JqZWN0XCI9PT10eXBlb2YgayYmbnVsbCE9PWsmJmsuJCR0eXBlb2Y9PT1IYSYmTmcoayk9PT1sLnR5cGUpe2MoYSxsLnNpYmxpbmcpO2Q9ZShsLGYucHJvcHMpO2QucmVmPUxnKGEsbCxmKTtkLnJldHVybj1hO2E9ZDticmVhayBhfWMoYSxsKTticmVha31lbHNlIGIoYSxsKTtsPWwuc2libGluZ31mLnR5cGU9PT15YT8oZD1UZyhmLnByb3BzLmNoaWxkcmVuLGEubW9kZSxoLGYua2V5KSxkLnJldHVybj1hLGE9ZCk6KGg9UmcoZi50eXBlLGYua2V5LGYucHJvcHMsbnVsbCxhLm1vZGUsaCksaC5yZWY9TGcoYSxkLGYpLGgucmV0dXJuPWEsYT1oKX1yZXR1cm4gZyhhKTtjYXNlIHdhOmE6e2ZvcihsPWYua2V5O251bGwhPT1cbmQ7KXtpZihkLmtleT09PWwpaWYoND09PWQudGFnJiZkLnN0YXRlTm9kZS5jb250YWluZXJJbmZvPT09Zi5jb250YWluZXJJbmZvJiZkLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbj09PWYuaW1wbGVtZW50YXRpb24pe2MoYSxkLnNpYmxpbmcpO2Q9ZShkLGYuY2hpbGRyZW58fFtdKTtkLnJldHVybj1hO2E9ZDticmVhayBhfWVsc2V7YyhhLGQpO2JyZWFrfWVsc2UgYihhLGQpO2Q9ZC5zaWJsaW5nfWQ9U2coZixhLm1vZGUsaCk7ZC5yZXR1cm49YTthPWR9cmV0dXJuIGcoYSk7Y2FzZSBIYTpyZXR1cm4gbD1mLl9pbml0LEooYSxkLGwoZi5fcGF5bG9hZCksaCl9aWYoZWIoZikpcmV0dXJuIG4oYSxkLGYsaCk7aWYoS2EoZikpcmV0dXJuIHQoYSxkLGYsaCk7TWcoYSxmKX1yZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGYmJlwiXCIhPT1mfHxcIm51bWJlclwiPT09dHlwZW9mIGY/KGY9XCJcIitmLG51bGwhPT1kJiY2PT09ZC50YWc/KGMoYSxkLnNpYmxpbmcpLGQ9ZShkLGYpLGQucmV0dXJuPWEsYT1kKTpcbihjKGEsZCksZD1RZyhmLGEubW9kZSxoKSxkLnJldHVybj1hLGE9ZCksZyhhKSk6YyhhLGQpfXJldHVybiBKfXZhciBVZz1PZyghMCksVmc9T2coITEpLFdnPVVmKG51bGwpLFhnPW51bGwsWWc9bnVsbCxaZz1udWxsO2Z1bmN0aW9uICRnKCl7Wmc9WWc9WGc9bnVsbH1mdW5jdGlvbiBhaChhKXt2YXIgYj1XZy5jdXJyZW50O0UoV2cpO2EuX2N1cnJlbnRWYWx1ZT1ifWZ1bmN0aW9uIGJoKGEsYixjKXtmb3IoO251bGwhPT1hOyl7dmFyIGQ9YS5hbHRlcm5hdGU7KGEuY2hpbGRMYW5lcyZiKSE9PWI/KGEuY2hpbGRMYW5lc3w9YixudWxsIT09ZCYmKGQuY2hpbGRMYW5lc3w9YikpOm51bGwhPT1kJiYoZC5jaGlsZExhbmVzJmIpIT09YiYmKGQuY2hpbGRMYW5lc3w9Yik7aWYoYT09PWMpYnJlYWs7YT1hLnJldHVybn19XG5mdW5jdGlvbiBjaChhLGIpe1hnPWE7Wmc9WWc9bnVsbDthPWEuZGVwZW5kZW5jaWVzO251bGwhPT1hJiZudWxsIT09YS5maXJzdENvbnRleHQmJigwIT09KGEubGFuZXMmYikmJihkaD0hMCksYS5maXJzdENvbnRleHQ9bnVsbCl9ZnVuY3Rpb24gZWgoYSl7dmFyIGI9YS5fY3VycmVudFZhbHVlO2lmKFpnIT09YSlpZihhPXtjb250ZXh0OmEsbWVtb2l6ZWRWYWx1ZTpiLG5leHQ6bnVsbH0sbnVsbD09PVlnKXtpZihudWxsPT09WGcpdGhyb3cgRXJyb3IocCgzMDgpKTtZZz1hO1hnLmRlcGVuZGVuY2llcz17bGFuZXM6MCxmaXJzdENvbnRleHQ6YX19ZWxzZSBZZz1ZZy5uZXh0PWE7cmV0dXJuIGJ9dmFyIGZoPW51bGw7ZnVuY3Rpb24gZ2goYSl7bnVsbD09PWZoP2ZoPVthXTpmaC5wdXNoKGEpfVxuZnVuY3Rpb24gaGgoYSxiLGMsZCl7dmFyIGU9Yi5pbnRlcmxlYXZlZDtudWxsPT09ZT8oYy5uZXh0PWMsZ2goYikpOihjLm5leHQ9ZS5uZXh0LGUubmV4dD1jKTtiLmludGVybGVhdmVkPWM7cmV0dXJuIGloKGEsZCl9ZnVuY3Rpb24gaWgoYSxiKXthLmxhbmVzfD1iO3ZhciBjPWEuYWx0ZXJuYXRlO251bGwhPT1jJiYoYy5sYW5lc3w9Yik7Yz1hO2ZvcihhPWEucmV0dXJuO251bGwhPT1hOylhLmNoaWxkTGFuZXN8PWIsYz1hLmFsdGVybmF0ZSxudWxsIT09YyYmKGMuY2hpbGRMYW5lc3w9YiksYz1hLGE9YS5yZXR1cm47cmV0dXJuIDM9PT1jLnRhZz9jLnN0YXRlTm9kZTpudWxsfXZhciBqaD0hMTtmdW5jdGlvbiBraChhKXthLnVwZGF0ZVF1ZXVlPXtiYXNlU3RhdGU6YS5tZW1vaXplZFN0YXRlLGZpcnN0QmFzZVVwZGF0ZTpudWxsLGxhc3RCYXNlVXBkYXRlOm51bGwsc2hhcmVkOntwZW5kaW5nOm51bGwsaW50ZXJsZWF2ZWQ6bnVsbCxsYW5lczowfSxlZmZlY3RzOm51bGx9fVxuZnVuY3Rpb24gbGgoYSxiKXthPWEudXBkYXRlUXVldWU7Yi51cGRhdGVRdWV1ZT09PWEmJihiLnVwZGF0ZVF1ZXVlPXtiYXNlU3RhdGU6YS5iYXNlU3RhdGUsZmlyc3RCYXNlVXBkYXRlOmEuZmlyc3RCYXNlVXBkYXRlLGxhc3RCYXNlVXBkYXRlOmEubGFzdEJhc2VVcGRhdGUsc2hhcmVkOmEuc2hhcmVkLGVmZmVjdHM6YS5lZmZlY3RzfSl9ZnVuY3Rpb24gbWgoYSxiKXtyZXR1cm57ZXZlbnRUaW1lOmEsbGFuZTpiLHRhZzowLHBheWxvYWQ6bnVsbCxjYWxsYmFjazpudWxsLG5leHQ6bnVsbH19XG5mdW5jdGlvbiBuaChhLGIsYyl7dmFyIGQ9YS51cGRhdGVRdWV1ZTtpZihudWxsPT09ZClyZXR1cm4gbnVsbDtkPWQuc2hhcmVkO2lmKDAhPT0oSyYyKSl7dmFyIGU9ZC5wZW5kaW5nO251bGw9PT1lP2IubmV4dD1iOihiLm5leHQ9ZS5uZXh0LGUubmV4dD1iKTtkLnBlbmRpbmc9YjtyZXR1cm4gaWgoYSxjKX1lPWQuaW50ZXJsZWF2ZWQ7bnVsbD09PWU/KGIubmV4dD1iLGdoKGQpKTooYi5uZXh0PWUubmV4dCxlLm5leHQ9Yik7ZC5pbnRlcmxlYXZlZD1iO3JldHVybiBpaChhLGMpfWZ1bmN0aW9uIG9oKGEsYixjKXtiPWIudXBkYXRlUXVldWU7aWYobnVsbCE9PWImJihiPWIuc2hhcmVkLDAhPT0oYyY0MTk0MjQwKSkpe3ZhciBkPWIubGFuZXM7ZCY9YS5wZW5kaW5nTGFuZXM7Y3w9ZDtiLmxhbmVzPWM7Q2MoYSxjKX19XG5mdW5jdGlvbiBwaChhLGIpe3ZhciBjPWEudXBkYXRlUXVldWUsZD1hLmFsdGVybmF0ZTtpZihudWxsIT09ZCYmKGQ9ZC51cGRhdGVRdWV1ZSxjPT09ZCkpe3ZhciBlPW51bGwsZj1udWxsO2M9Yy5maXJzdEJhc2VVcGRhdGU7aWYobnVsbCE9PWMpe2Rve3ZhciBnPXtldmVudFRpbWU6Yy5ldmVudFRpbWUsbGFuZTpjLmxhbmUsdGFnOmMudGFnLHBheWxvYWQ6Yy5wYXlsb2FkLGNhbGxiYWNrOmMuY2FsbGJhY2ssbmV4dDpudWxsfTtudWxsPT09Zj9lPWY9ZzpmPWYubmV4dD1nO2M9Yy5uZXh0fXdoaWxlKG51bGwhPT1jKTtudWxsPT09Zj9lPWY9YjpmPWYubmV4dD1ifWVsc2UgZT1mPWI7Yz17YmFzZVN0YXRlOmQuYmFzZVN0YXRlLGZpcnN0QmFzZVVwZGF0ZTplLGxhc3RCYXNlVXBkYXRlOmYsc2hhcmVkOmQuc2hhcmVkLGVmZmVjdHM6ZC5lZmZlY3RzfTthLnVwZGF0ZVF1ZXVlPWM7cmV0dXJufWE9Yy5sYXN0QmFzZVVwZGF0ZTtudWxsPT09YT9jLmZpcnN0QmFzZVVwZGF0ZT1iOmEubmV4dD1cbmI7Yy5sYXN0QmFzZVVwZGF0ZT1ifVxuZnVuY3Rpb24gcWgoYSxiLGMsZCl7dmFyIGU9YS51cGRhdGVRdWV1ZTtqaD0hMTt2YXIgZj1lLmZpcnN0QmFzZVVwZGF0ZSxnPWUubGFzdEJhc2VVcGRhdGUsaD1lLnNoYXJlZC5wZW5kaW5nO2lmKG51bGwhPT1oKXtlLnNoYXJlZC5wZW5kaW5nPW51bGw7dmFyIGs9aCxsPWsubmV4dDtrLm5leHQ9bnVsbDtudWxsPT09Zz9mPWw6Zy5uZXh0PWw7Zz1rO3ZhciBtPWEuYWx0ZXJuYXRlO251bGwhPT1tJiYobT1tLnVwZGF0ZVF1ZXVlLGg9bS5sYXN0QmFzZVVwZGF0ZSxoIT09ZyYmKG51bGw9PT1oP20uZmlyc3RCYXNlVXBkYXRlPWw6aC5uZXh0PWwsbS5sYXN0QmFzZVVwZGF0ZT1rKSl9aWYobnVsbCE9PWYpe3ZhciBxPWUuYmFzZVN0YXRlO2c9MDttPWw9az1udWxsO2g9Zjtkb3t2YXIgcj1oLmxhbmUseT1oLmV2ZW50VGltZTtpZigoZCZyKT09PXIpe251bGwhPT1tJiYobT1tLm5leHQ9e2V2ZW50VGltZTp5LGxhbmU6MCx0YWc6aC50YWcscGF5bG9hZDpoLnBheWxvYWQsY2FsbGJhY2s6aC5jYWxsYmFjayxcbm5leHQ6bnVsbH0pO2E6e3ZhciBuPWEsdD1oO3I9Yjt5PWM7c3dpdGNoKHQudGFnKXtjYXNlIDE6bj10LnBheWxvYWQ7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIG4pe3E9bi5jYWxsKHkscSxyKTticmVhayBhfXE9bjticmVhayBhO2Nhc2UgMzpuLmZsYWdzPW4uZmxhZ3MmLTY1NTM3fDEyODtjYXNlIDA6bj10LnBheWxvYWQ7cj1cImZ1bmN0aW9uXCI9PT10eXBlb2Ygbj9uLmNhbGwoeSxxLHIpOm47aWYobnVsbD09PXJ8fHZvaWQgMD09PXIpYnJlYWsgYTtxPUEoe30scSxyKTticmVhayBhO2Nhc2UgMjpqaD0hMH19bnVsbCE9PWguY2FsbGJhY2smJjAhPT1oLmxhbmUmJihhLmZsYWdzfD02NCxyPWUuZWZmZWN0cyxudWxsPT09cj9lLmVmZmVjdHM9W2hdOnIucHVzaChoKSl9ZWxzZSB5PXtldmVudFRpbWU6eSxsYW5lOnIsdGFnOmgudGFnLHBheWxvYWQ6aC5wYXlsb2FkLGNhbGxiYWNrOmguY2FsbGJhY2ssbmV4dDpudWxsfSxudWxsPT09bT8obD1tPXksaz1xKTptPW0ubmV4dD15LGd8PXI7XG5oPWgubmV4dDtpZihudWxsPT09aClpZihoPWUuc2hhcmVkLnBlbmRpbmcsbnVsbD09PWgpYnJlYWs7ZWxzZSByPWgsaD1yLm5leHQsci5uZXh0PW51bGwsZS5sYXN0QmFzZVVwZGF0ZT1yLGUuc2hhcmVkLnBlbmRpbmc9bnVsbH13aGlsZSgxKTtudWxsPT09bSYmKGs9cSk7ZS5iYXNlU3RhdGU9aztlLmZpcnN0QmFzZVVwZGF0ZT1sO2UubGFzdEJhc2VVcGRhdGU9bTtiPWUuc2hhcmVkLmludGVybGVhdmVkO2lmKG51bGwhPT1iKXtlPWI7ZG8gZ3w9ZS5sYW5lLGU9ZS5uZXh0O3doaWxlKGUhPT1iKX1lbHNlIG51bGw9PT1mJiYoZS5zaGFyZWQubGFuZXM9MCk7cmh8PWc7YS5sYW5lcz1nO2EubWVtb2l6ZWRTdGF0ZT1xfX1cbmZ1bmN0aW9uIHNoKGEsYixjKXthPWIuZWZmZWN0cztiLmVmZmVjdHM9bnVsbDtpZihudWxsIT09YSlmb3IoYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgZD1hW2JdLGU9ZC5jYWxsYmFjaztpZihudWxsIT09ZSl7ZC5jYWxsYmFjaz1udWxsO2Q9YztpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgZSl0aHJvdyBFcnJvcihwKDE5MSxlKSk7ZS5jYWxsKGQpfX19dmFyIHRoPXt9LHVoPVVmKHRoKSx2aD1VZih0aCksd2g9VWYodGgpO2Z1bmN0aW9uIHhoKGEpe2lmKGE9PT10aCl0aHJvdyBFcnJvcihwKDE3NCkpO3JldHVybiBhfVxuZnVuY3Rpb24geWgoYSxiKXtHKHdoLGIpO0codmgsYSk7Ryh1aCx0aCk7YT1iLm5vZGVUeXBlO3N3aXRjaChhKXtjYXNlIDk6Y2FzZSAxMTpiPShiPWIuZG9jdW1lbnRFbGVtZW50KT9iLm5hbWVzcGFjZVVSSTpsYihudWxsLFwiXCIpO2JyZWFrO2RlZmF1bHQ6YT04PT09YT9iLnBhcmVudE5vZGU6YixiPWEubmFtZXNwYWNlVVJJfHxudWxsLGE9YS50YWdOYW1lLGI9bGIoYixhKX1FKHVoKTtHKHVoLGIpfWZ1bmN0aW9uIHpoKCl7RSh1aCk7RSh2aCk7RSh3aCl9ZnVuY3Rpb24gQWgoYSl7eGgod2guY3VycmVudCk7dmFyIGI9eGgodWguY3VycmVudCk7dmFyIGM9bGIoYixhLnR5cGUpO2IhPT1jJiYoRyh2aCxhKSxHKHVoLGMpKX1mdW5jdGlvbiBCaChhKXt2aC5jdXJyZW50PT09YSYmKEUodWgpLEUodmgpKX12YXIgTD1VZigwKTtcbmZ1bmN0aW9uIENoKGEpe2Zvcih2YXIgYj1hO251bGwhPT1iOyl7aWYoMTM9PT1iLnRhZyl7dmFyIGM9Yi5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1jJiYoYz1jLmRlaHlkcmF0ZWQsbnVsbD09PWN8fFwiJD9cIj09PWMuZGF0YXx8XCIkIVwiPT09Yy5kYXRhKSlyZXR1cm4gYn1lbHNlIGlmKDE5PT09Yi50YWcmJnZvaWQgMCE9PWIubWVtb2l6ZWRQcm9wcy5yZXZlYWxPcmRlcil7aWYoMCE9PShiLmZsYWdzJjEyOCkpcmV0dXJuIGJ9ZWxzZSBpZihudWxsIT09Yi5jaGlsZCl7Yi5jaGlsZC5yZXR1cm49YjtiPWIuY2hpbGQ7Y29udGludWV9aWYoYj09PWEpYnJlYWs7Zm9yKDtudWxsPT09Yi5zaWJsaW5nOyl7aWYobnVsbD09PWIucmV0dXJufHxiLnJldHVybj09PWEpcmV0dXJuIG51bGw7Yj1iLnJldHVybn1iLnNpYmxpbmcucmV0dXJuPWIucmV0dXJuO2I9Yi5zaWJsaW5nfXJldHVybiBudWxsfXZhciBEaD1bXTtcbmZ1bmN0aW9uIEVoKCl7Zm9yKHZhciBhPTA7YTxEaC5sZW5ndGg7YSsrKURoW2FdLl93b3JrSW5Qcm9ncmVzc1ZlcnNpb25QcmltYXJ5PW51bGw7RGgubGVuZ3RoPTB9dmFyIEZoPXVhLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsR2g9dWEuUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsSGg9MCxNPW51bGwsTj1udWxsLE89bnVsbCxJaD0hMSxKaD0hMSxLaD0wLExoPTA7ZnVuY3Rpb24gUCgpe3Rocm93IEVycm9yKHAoMzIxKSk7fWZ1bmN0aW9uIE1oKGEsYil7aWYobnVsbD09PWIpcmV0dXJuITE7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aCYmYzxhLmxlbmd0aDtjKyspaWYoIUhlKGFbY10sYltjXSkpcmV0dXJuITE7cmV0dXJuITB9XG5mdW5jdGlvbiBOaChhLGIsYyxkLGUsZil7SGg9ZjtNPWI7Yi5tZW1vaXplZFN0YXRlPW51bGw7Yi51cGRhdGVRdWV1ZT1udWxsO2IubGFuZXM9MDtGaC5jdXJyZW50PW51bGw9PT1hfHxudWxsPT09YS5tZW1vaXplZFN0YXRlP09oOlBoO2E9YyhkLGUpO2lmKEpoKXtmPTA7ZG97Smg9ITE7S2g9MDtpZigyNTw9Zil0aHJvdyBFcnJvcihwKDMwMSkpO2YrPTE7Tz1OPW51bGw7Yi51cGRhdGVRdWV1ZT1udWxsO0ZoLmN1cnJlbnQ9UWg7YT1jKGQsZSl9d2hpbGUoSmgpfUZoLmN1cnJlbnQ9Umg7Yj1udWxsIT09TiYmbnVsbCE9PU4ubmV4dDtIaD0wO089Tj1NPW51bGw7SWg9ITE7aWYoYil0aHJvdyBFcnJvcihwKDMwMCkpO3JldHVybiBhfWZ1bmN0aW9uIFNoKCl7dmFyIGE9MCE9PUtoO0toPTA7cmV0dXJuIGF9XG5mdW5jdGlvbiBUaCgpe3ZhciBhPXttZW1vaXplZFN0YXRlOm51bGwsYmFzZVN0YXRlOm51bGwsYmFzZVF1ZXVlOm51bGwscXVldWU6bnVsbCxuZXh0Om51bGx9O251bGw9PT1PP00ubWVtb2l6ZWRTdGF0ZT1PPWE6Tz1PLm5leHQ9YTtyZXR1cm4gT31mdW5jdGlvbiBVaCgpe2lmKG51bGw9PT1OKXt2YXIgYT1NLmFsdGVybmF0ZTthPW51bGwhPT1hP2EubWVtb2l6ZWRTdGF0ZTpudWxsfWVsc2UgYT1OLm5leHQ7dmFyIGI9bnVsbD09PU8/TS5tZW1vaXplZFN0YXRlOk8ubmV4dDtpZihudWxsIT09YilPPWIsTj1hO2Vsc2V7aWYobnVsbD09PWEpdGhyb3cgRXJyb3IocCgzMTApKTtOPWE7YT17bWVtb2l6ZWRTdGF0ZTpOLm1lbW9pemVkU3RhdGUsYmFzZVN0YXRlOk4uYmFzZVN0YXRlLGJhc2VRdWV1ZTpOLmJhc2VRdWV1ZSxxdWV1ZTpOLnF1ZXVlLG5leHQ6bnVsbH07bnVsbD09PU8/TS5tZW1vaXplZFN0YXRlPU89YTpPPU8ubmV4dD1hfXJldHVybiBPfVxuZnVuY3Rpb24gVmgoYSxiKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYj9iKGEpOmJ9XG5mdW5jdGlvbiBXaChhKXt2YXIgYj1VaCgpLGM9Yi5xdWV1ZTtpZihudWxsPT09Yyl0aHJvdyBFcnJvcihwKDMxMSkpO2MubGFzdFJlbmRlcmVkUmVkdWNlcj1hO3ZhciBkPU4sZT1kLmJhc2VRdWV1ZSxmPWMucGVuZGluZztpZihudWxsIT09Zil7aWYobnVsbCE9PWUpe3ZhciBnPWUubmV4dDtlLm5leHQ9Zi5uZXh0O2YubmV4dD1nfWQuYmFzZVF1ZXVlPWU9ZjtjLnBlbmRpbmc9bnVsbH1pZihudWxsIT09ZSl7Zj1lLm5leHQ7ZD1kLmJhc2VTdGF0ZTt2YXIgaD1nPW51bGwsaz1udWxsLGw9Zjtkb3t2YXIgbT1sLmxhbmU7aWYoKEhoJm0pPT09bSludWxsIT09ayYmKGs9ay5uZXh0PXtsYW5lOjAsYWN0aW9uOmwuYWN0aW9uLGhhc0VhZ2VyU3RhdGU6bC5oYXNFYWdlclN0YXRlLGVhZ2VyU3RhdGU6bC5lYWdlclN0YXRlLG5leHQ6bnVsbH0pLGQ9bC5oYXNFYWdlclN0YXRlP2wuZWFnZXJTdGF0ZTphKGQsbC5hY3Rpb24pO2Vsc2V7dmFyIHE9e2xhbmU6bSxhY3Rpb246bC5hY3Rpb24saGFzRWFnZXJTdGF0ZTpsLmhhc0VhZ2VyU3RhdGUsXG5lYWdlclN0YXRlOmwuZWFnZXJTdGF0ZSxuZXh0Om51bGx9O251bGw9PT1rPyhoPWs9cSxnPWQpOms9ay5uZXh0PXE7TS5sYW5lc3w9bTtyaHw9bX1sPWwubmV4dH13aGlsZShudWxsIT09bCYmbCE9PWYpO251bGw9PT1rP2c9ZDprLm5leHQ9aDtIZShkLGIubWVtb2l6ZWRTdGF0ZSl8fChkaD0hMCk7Yi5tZW1vaXplZFN0YXRlPWQ7Yi5iYXNlU3RhdGU9ZztiLmJhc2VRdWV1ZT1rO2MubGFzdFJlbmRlcmVkU3RhdGU9ZH1hPWMuaW50ZXJsZWF2ZWQ7aWYobnVsbCE9PWEpe2U9YTtkbyBmPWUubGFuZSxNLmxhbmVzfD1mLHJofD1mLGU9ZS5uZXh0O3doaWxlKGUhPT1hKX1lbHNlIG51bGw9PT1lJiYoYy5sYW5lcz0wKTtyZXR1cm5bYi5tZW1vaXplZFN0YXRlLGMuZGlzcGF0Y2hdfVxuZnVuY3Rpb24gWGgoYSl7dmFyIGI9VWgoKSxjPWIucXVldWU7aWYobnVsbD09PWMpdGhyb3cgRXJyb3IocCgzMTEpKTtjLmxhc3RSZW5kZXJlZFJlZHVjZXI9YTt2YXIgZD1jLmRpc3BhdGNoLGU9Yy5wZW5kaW5nLGY9Yi5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1lKXtjLnBlbmRpbmc9bnVsbDt2YXIgZz1lPWUubmV4dDtkbyBmPWEoZixnLmFjdGlvbiksZz1nLm5leHQ7d2hpbGUoZyE9PWUpO0hlKGYsYi5tZW1vaXplZFN0YXRlKXx8KGRoPSEwKTtiLm1lbW9pemVkU3RhdGU9ZjtudWxsPT09Yi5iYXNlUXVldWUmJihiLmJhc2VTdGF0ZT1mKTtjLmxhc3RSZW5kZXJlZFN0YXRlPWZ9cmV0dXJuW2YsZF19ZnVuY3Rpb24gWWgoKXt9XG5mdW5jdGlvbiBaaChhLGIpe3ZhciBjPU0sZD1VaCgpLGU9YigpLGY9IUhlKGQubWVtb2l6ZWRTdGF0ZSxlKTtmJiYoZC5tZW1vaXplZFN0YXRlPWUsZGg9ITApO2Q9ZC5xdWV1ZTskaChhaS5iaW5kKG51bGwsYyxkLGEpLFthXSk7aWYoZC5nZXRTbmFwc2hvdCE9PWJ8fGZ8fG51bGwhPT1PJiZPLm1lbW9pemVkU3RhdGUudGFnJjEpe2MuZmxhZ3N8PTIwNDg7YmkoOSxjaS5iaW5kKG51bGwsYyxkLGUsYiksdm9pZCAwLG51bGwpO2lmKG51bGw9PT1RKXRocm93IEVycm9yKHAoMzQ5KSk7MCE9PShIaCYzMCl8fGRpKGMsYixlKX1yZXR1cm4gZX1mdW5jdGlvbiBkaShhLGIsYyl7YS5mbGFnc3w9MTYzODQ7YT17Z2V0U25hcHNob3Q6Yix2YWx1ZTpjfTtiPU0udXBkYXRlUXVldWU7bnVsbD09PWI/KGI9e2xhc3RFZmZlY3Q6bnVsbCxzdG9yZXM6bnVsbH0sTS51cGRhdGVRdWV1ZT1iLGIuc3RvcmVzPVthXSk6KGM9Yi5zdG9yZXMsbnVsbD09PWM/Yi5zdG9yZXM9W2FdOmMucHVzaChhKSl9XG5mdW5jdGlvbiBjaShhLGIsYyxkKXtiLnZhbHVlPWM7Yi5nZXRTbmFwc2hvdD1kO2VpKGIpJiZmaShhKX1mdW5jdGlvbiBhaShhLGIsYyl7cmV0dXJuIGMoZnVuY3Rpb24oKXtlaShiKSYmZmkoYSl9KX1mdW5jdGlvbiBlaShhKXt2YXIgYj1hLmdldFNuYXBzaG90O2E9YS52YWx1ZTt0cnl7dmFyIGM9YigpO3JldHVybiFIZShhLGMpfWNhdGNoKGQpe3JldHVybiEwfX1mdW5jdGlvbiBmaShhKXt2YXIgYj1paChhLDEpO251bGwhPT1iJiZnaShiLGEsMSwtMSl9XG5mdW5jdGlvbiBoaShhKXt2YXIgYj1UaCgpO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBhJiYoYT1hKCkpO2IubWVtb2l6ZWRTdGF0ZT1iLmJhc2VTdGF0ZT1hO2E9e3BlbmRpbmc6bnVsbCxpbnRlcmxlYXZlZDpudWxsLGxhbmVzOjAsZGlzcGF0Y2g6bnVsbCxsYXN0UmVuZGVyZWRSZWR1Y2VyOlZoLGxhc3RSZW5kZXJlZFN0YXRlOmF9O2IucXVldWU9YTthPWEuZGlzcGF0Y2g9aWkuYmluZChudWxsLE0sYSk7cmV0dXJuW2IubWVtb2l6ZWRTdGF0ZSxhXX1cbmZ1bmN0aW9uIGJpKGEsYixjLGQpe2E9e3RhZzphLGNyZWF0ZTpiLGRlc3Ryb3k6YyxkZXBzOmQsbmV4dDpudWxsfTtiPU0udXBkYXRlUXVldWU7bnVsbD09PWI/KGI9e2xhc3RFZmZlY3Q6bnVsbCxzdG9yZXM6bnVsbH0sTS51cGRhdGVRdWV1ZT1iLGIubGFzdEVmZmVjdD1hLm5leHQ9YSk6KGM9Yi5sYXN0RWZmZWN0LG51bGw9PT1jP2IubGFzdEVmZmVjdD1hLm5leHQ9YTooZD1jLm5leHQsYy5uZXh0PWEsYS5uZXh0PWQsYi5sYXN0RWZmZWN0PWEpKTtyZXR1cm4gYX1mdW5jdGlvbiBqaSgpe3JldHVybiBVaCgpLm1lbW9pemVkU3RhdGV9ZnVuY3Rpb24ga2koYSxiLGMsZCl7dmFyIGU9VGgoKTtNLmZsYWdzfD1hO2UubWVtb2l6ZWRTdGF0ZT1iaSgxfGIsYyx2b2lkIDAsdm9pZCAwPT09ZD9udWxsOmQpfVxuZnVuY3Rpb24gbGkoYSxiLGMsZCl7dmFyIGU9VWgoKTtkPXZvaWQgMD09PWQ/bnVsbDpkO3ZhciBmPXZvaWQgMDtpZihudWxsIT09Til7dmFyIGc9Ti5tZW1vaXplZFN0YXRlO2Y9Zy5kZXN0cm95O2lmKG51bGwhPT1kJiZNaChkLGcuZGVwcykpe2UubWVtb2l6ZWRTdGF0ZT1iaShiLGMsZixkKTtyZXR1cm59fU0uZmxhZ3N8PWE7ZS5tZW1vaXplZFN0YXRlPWJpKDF8YixjLGYsZCl9ZnVuY3Rpb24gbWkoYSxiKXtyZXR1cm4ga2koODM5MDY1Niw4LGEsYil9ZnVuY3Rpb24gJGgoYSxiKXtyZXR1cm4gbGkoMjA0OCw4LGEsYil9ZnVuY3Rpb24gbmkoYSxiKXtyZXR1cm4gbGkoNCwyLGEsYil9ZnVuY3Rpb24gb2koYSxiKXtyZXR1cm4gbGkoNCw0LGEsYil9XG5mdW5jdGlvbiBwaShhLGIpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKXJldHVybiBhPWEoKSxiKGEpLGZ1bmN0aW9uKCl7YihudWxsKX07aWYobnVsbCE9PWImJnZvaWQgMCE9PWIpcmV0dXJuIGE9YSgpLGIuY3VycmVudD1hLGZ1bmN0aW9uKCl7Yi5jdXJyZW50PW51bGx9fWZ1bmN0aW9uIHFpKGEsYixjKXtjPW51bGwhPT1jJiZ2b2lkIDAhPT1jP2MuY29uY2F0KFthXSk6bnVsbDtyZXR1cm4gbGkoNCw0LHBpLmJpbmQobnVsbCxiLGEpLGMpfWZ1bmN0aW9uIHJpKCl7fWZ1bmN0aW9uIHNpKGEsYil7dmFyIGM9VWgoKTtiPXZvaWQgMD09PWI/bnVsbDpiO3ZhciBkPWMubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09ZCYmbnVsbCE9PWImJk1oKGIsZFsxXSkpcmV0dXJuIGRbMF07Yy5tZW1vaXplZFN0YXRlPVthLGJdO3JldHVybiBhfVxuZnVuY3Rpb24gdGkoYSxiKXt2YXIgYz1VaCgpO2I9dm9pZCAwPT09Yj9udWxsOmI7dmFyIGQ9Yy5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1kJiZudWxsIT09YiYmTWgoYixkWzFdKSlyZXR1cm4gZFswXTthPWEoKTtjLm1lbW9pemVkU3RhdGU9W2EsYl07cmV0dXJuIGF9ZnVuY3Rpb24gdWkoYSxiLGMpe2lmKDA9PT0oSGgmMjEpKXJldHVybiBhLmJhc2VTdGF0ZSYmKGEuYmFzZVN0YXRlPSExLGRoPSEwKSxhLm1lbW9pemVkU3RhdGU9YztIZShjLGIpfHwoYz15YygpLE0ubGFuZXN8PWMscmh8PWMsYS5iYXNlU3RhdGU9ITApO3JldHVybiBifWZ1bmN0aW9uIHZpKGEsYil7dmFyIGM9QztDPTAhPT1jJiY0PmM/Yzo0O2EoITApO3ZhciBkPUdoLnRyYW5zaXRpb247R2gudHJhbnNpdGlvbj17fTt0cnl7YSghMSksYigpfWZpbmFsbHl7Qz1jLEdoLnRyYW5zaXRpb249ZH19ZnVuY3Rpb24gd2koKXtyZXR1cm4gVWgoKS5tZW1vaXplZFN0YXRlfVxuZnVuY3Rpb24geGkoYSxiLGMpe3ZhciBkPXlpKGEpO2M9e2xhbmU6ZCxhY3Rpb246YyxoYXNFYWdlclN0YXRlOiExLGVhZ2VyU3RhdGU6bnVsbCxuZXh0Om51bGx9O2lmKHppKGEpKUFpKGIsYyk7ZWxzZSBpZihjPWhoKGEsYixjLGQpLG51bGwhPT1jKXt2YXIgZT1SKCk7Z2koYyxhLGQsZSk7QmkoYyxiLGQpfX1cbmZ1bmN0aW9uIGlpKGEsYixjKXt2YXIgZD15aShhKSxlPXtsYW5lOmQsYWN0aW9uOmMsaGFzRWFnZXJTdGF0ZTohMSxlYWdlclN0YXRlOm51bGwsbmV4dDpudWxsfTtpZih6aShhKSlBaShiLGUpO2Vsc2V7dmFyIGY9YS5hbHRlcm5hdGU7aWYoMD09PWEubGFuZXMmJihudWxsPT09Znx8MD09PWYubGFuZXMpJiYoZj1iLmxhc3RSZW5kZXJlZFJlZHVjZXIsbnVsbCE9PWYpKXRyeXt2YXIgZz1iLmxhc3RSZW5kZXJlZFN0YXRlLGg9ZihnLGMpO2UuaGFzRWFnZXJTdGF0ZT0hMDtlLmVhZ2VyU3RhdGU9aDtpZihIZShoLGcpKXt2YXIgaz1iLmludGVybGVhdmVkO251bGw9PT1rPyhlLm5leHQ9ZSxnaChiKSk6KGUubmV4dD1rLm5leHQsay5uZXh0PWUpO2IuaW50ZXJsZWF2ZWQ9ZTtyZXR1cm59fWNhdGNoKGwpe31maW5hbGx5e31jPWhoKGEsYixlLGQpO251bGwhPT1jJiYoZT1SKCksZ2koYyxhLGQsZSksQmkoYyxiLGQpKX19XG5mdW5jdGlvbiB6aShhKXt2YXIgYj1hLmFsdGVybmF0ZTtyZXR1cm4gYT09PU18fG51bGwhPT1iJiZiPT09TX1mdW5jdGlvbiBBaShhLGIpe0poPUloPSEwO3ZhciBjPWEucGVuZGluZztudWxsPT09Yz9iLm5leHQ9YjooYi5uZXh0PWMubmV4dCxjLm5leHQ9Yik7YS5wZW5kaW5nPWJ9ZnVuY3Rpb24gQmkoYSxiLGMpe2lmKDAhPT0oYyY0MTk0MjQwKSl7dmFyIGQ9Yi5sYW5lcztkJj1hLnBlbmRpbmdMYW5lcztjfD1kO2IubGFuZXM9YztDYyhhLGMpfX1cbnZhciBSaD17cmVhZENvbnRleHQ6ZWgsdXNlQ2FsbGJhY2s6UCx1c2VDb250ZXh0OlAsdXNlRWZmZWN0OlAsdXNlSW1wZXJhdGl2ZUhhbmRsZTpQLHVzZUluc2VydGlvbkVmZmVjdDpQLHVzZUxheW91dEVmZmVjdDpQLHVzZU1lbW86UCx1c2VSZWR1Y2VyOlAsdXNlUmVmOlAsdXNlU3RhdGU6UCx1c2VEZWJ1Z1ZhbHVlOlAsdXNlRGVmZXJyZWRWYWx1ZTpQLHVzZVRyYW5zaXRpb246UCx1c2VNdXRhYmxlU291cmNlOlAsdXNlU3luY0V4dGVybmFsU3RvcmU6UCx1c2VJZDpQLHVuc3RhYmxlX2lzTmV3UmVjb25jaWxlcjohMX0sT2g9e3JlYWRDb250ZXh0OmVoLHVzZUNhbGxiYWNrOmZ1bmN0aW9uKGEsYil7VGgoKS5tZW1vaXplZFN0YXRlPVthLHZvaWQgMD09PWI/bnVsbDpiXTtyZXR1cm4gYX0sdXNlQ29udGV4dDplaCx1c2VFZmZlY3Q6bWksdXNlSW1wZXJhdGl2ZUhhbmRsZTpmdW5jdGlvbihhLGIsYyl7Yz1udWxsIT09YyYmdm9pZCAwIT09Yz9jLmNvbmNhdChbYV0pOm51bGw7cmV0dXJuIGtpKDQxOTQzMDgsXG40LHBpLmJpbmQobnVsbCxiLGEpLGMpfSx1c2VMYXlvdXRFZmZlY3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4ga2koNDE5NDMwOCw0LGEsYil9LHVzZUluc2VydGlvbkVmZmVjdDpmdW5jdGlvbihhLGIpe3JldHVybiBraSg0LDIsYSxiKX0sdXNlTWVtbzpmdW5jdGlvbihhLGIpe3ZhciBjPVRoKCk7Yj12b2lkIDA9PT1iP251bGw6YjthPWEoKTtjLm1lbW9pemVkU3RhdGU9W2EsYl07cmV0dXJuIGF9LHVzZVJlZHVjZXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVRoKCk7Yj12b2lkIDAhPT1jP2MoYik6YjtkLm1lbW9pemVkU3RhdGU9ZC5iYXNlU3RhdGU9YjthPXtwZW5kaW5nOm51bGwsaW50ZXJsZWF2ZWQ6bnVsbCxsYW5lczowLGRpc3BhdGNoOm51bGwsbGFzdFJlbmRlcmVkUmVkdWNlcjphLGxhc3RSZW5kZXJlZFN0YXRlOmJ9O2QucXVldWU9YTthPWEuZGlzcGF0Y2g9eGkuYmluZChudWxsLE0sYSk7cmV0dXJuW2QubWVtb2l6ZWRTdGF0ZSxhXX0sdXNlUmVmOmZ1bmN0aW9uKGEpe3ZhciBiPVxuVGgoKTthPXtjdXJyZW50OmF9O3JldHVybiBiLm1lbW9pemVkU3RhdGU9YX0sdXNlU3RhdGU6aGksdXNlRGVidWdWYWx1ZTpyaSx1c2VEZWZlcnJlZFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBUaCgpLm1lbW9pemVkU3RhdGU9YX0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbigpe3ZhciBhPWhpKCExKSxiPWFbMF07YT12aS5iaW5kKG51bGwsYVsxXSk7VGgoKS5tZW1vaXplZFN0YXRlPWE7cmV0dXJuW2IsYV19LHVzZU11dGFibGVTb3VyY2U6ZnVuY3Rpb24oKXt9LHVzZVN5bmNFeHRlcm5hbFN0b3JlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1NLGU9VGgoKTtpZihJKXtpZih2b2lkIDA9PT1jKXRocm93IEVycm9yKHAoNDA3KSk7Yz1jKCl9ZWxzZXtjPWIoKTtpZihudWxsPT09USl0aHJvdyBFcnJvcihwKDM0OSkpOzAhPT0oSGgmMzApfHxkaShkLGIsYyl9ZS5tZW1vaXplZFN0YXRlPWM7dmFyIGY9e3ZhbHVlOmMsZ2V0U25hcHNob3Q6Yn07ZS5xdWV1ZT1mO21pKGFpLmJpbmQobnVsbCxkLFxuZixhKSxbYV0pO2QuZmxhZ3N8PTIwNDg7YmkoOSxjaS5iaW5kKG51bGwsZCxmLGMsYiksdm9pZCAwLG51bGwpO3JldHVybiBjfSx1c2VJZDpmdW5jdGlvbigpe3ZhciBhPVRoKCksYj1RLmlkZW50aWZpZXJQcmVmaXg7aWYoSSl7dmFyIGM9c2c7dmFyIGQ9cmc7Yz0oZCZ+KDE8PDMyLW9jKGQpLTEpKS50b1N0cmluZygzMikrYztiPVwiOlwiK2IrXCJSXCIrYztjPUtoKys7MDxjJiYoYis9XCJIXCIrYy50b1N0cmluZygzMikpO2IrPVwiOlwifWVsc2UgYz1MaCsrLGI9XCI6XCIrYitcInJcIitjLnRvU3RyaW5nKDMyKStcIjpcIjtyZXR1cm4gYS5tZW1vaXplZFN0YXRlPWJ9LHVuc3RhYmxlX2lzTmV3UmVjb25jaWxlcjohMX0sUGg9e3JlYWRDb250ZXh0OmVoLHVzZUNhbGxiYWNrOnNpLHVzZUNvbnRleHQ6ZWgsdXNlRWZmZWN0OiRoLHVzZUltcGVyYXRpdmVIYW5kbGU6cWksdXNlSW5zZXJ0aW9uRWZmZWN0Om5pLHVzZUxheW91dEVmZmVjdDpvaSx1c2VNZW1vOnRpLHVzZVJlZHVjZXI6V2gsdXNlUmVmOmppLHVzZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIFdoKFZoKX0sXG51c2VEZWJ1Z1ZhbHVlOnJpLHVzZURlZmVycmVkVmFsdWU6ZnVuY3Rpb24oYSl7dmFyIGI9VWgoKTtyZXR1cm4gdWkoYixOLm1lbW9pemVkU3RhdGUsYSl9LHVzZVRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT1XaChWaClbMF0sYj1VaCgpLm1lbW9pemVkU3RhdGU7cmV0dXJuW2EsYl19LHVzZU11dGFibGVTb3VyY2U6WWgsdXNlU3luY0V4dGVybmFsU3RvcmU6WmgsdXNlSWQ6d2ksdW5zdGFibGVfaXNOZXdSZWNvbmNpbGVyOiExfSxRaD17cmVhZENvbnRleHQ6ZWgsdXNlQ2FsbGJhY2s6c2ksdXNlQ29udGV4dDplaCx1c2VFZmZlY3Q6JGgsdXNlSW1wZXJhdGl2ZUhhbmRsZTpxaSx1c2VJbnNlcnRpb25FZmZlY3Q6bmksdXNlTGF5b3V0RWZmZWN0Om9pLHVzZU1lbW86dGksdXNlUmVkdWNlcjpYaCx1c2VSZWY6amksdXNlU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gWGgoVmgpfSx1c2VEZWJ1Z1ZhbHVlOnJpLHVzZURlZmVycmVkVmFsdWU6ZnVuY3Rpb24oYSl7dmFyIGI9VWgoKTtyZXR1cm4gbnVsbD09PVxuTj9iLm1lbW9pemVkU3RhdGU9YTp1aShiLE4ubWVtb2l6ZWRTdGF0ZSxhKX0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbigpe3ZhciBhPVhoKFZoKVswXSxiPVVoKCkubWVtb2l6ZWRTdGF0ZTtyZXR1cm5bYSxiXX0sdXNlTXV0YWJsZVNvdXJjZTpZaCx1c2VTeW5jRXh0ZXJuYWxTdG9yZTpaaCx1c2VJZDp3aSx1bnN0YWJsZV9pc05ld1JlY29uY2lsZXI6ITF9O2Z1bmN0aW9uIENpKGEsYil7aWYoYSYmYS5kZWZhdWx0UHJvcHMpe2I9QSh7fSxiKTthPWEuZGVmYXVsdFByb3BzO2Zvcih2YXIgYyBpbiBhKXZvaWQgMD09PWJbY10mJihiW2NdPWFbY10pO3JldHVybiBifXJldHVybiBifWZ1bmN0aW9uIERpKGEsYixjLGQpe2I9YS5tZW1vaXplZFN0YXRlO2M9YyhkLGIpO2M9bnVsbD09PWN8fHZvaWQgMD09PWM/YjpBKHt9LGIsYyk7YS5tZW1vaXplZFN0YXRlPWM7MD09PWEubGFuZXMmJihhLnVwZGF0ZVF1ZXVlLmJhc2VTdGF0ZT1jKX1cbnZhciBFaT17aXNNb3VudGVkOmZ1bmN0aW9uKGEpe3JldHVybihhPWEuX3JlYWN0SW50ZXJuYWxzKT9WYihhKT09PWE6ITF9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihhLGIsYyl7YT1hLl9yZWFjdEludGVybmFsczt2YXIgZD1SKCksZT15aShhKSxmPW1oKGQsZSk7Zi5wYXlsb2FkPWI7dm9pZCAwIT09YyYmbnVsbCE9PWMmJihmLmNhbGxiYWNrPWMpO2I9bmgoYSxmLGUpO251bGwhPT1iJiYoZ2koYixhLGUsZCksb2goYixhLGUpKX0sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbihhLGIsYyl7YT1hLl9yZWFjdEludGVybmFsczt2YXIgZD1SKCksZT15aShhKSxmPW1oKGQsZSk7Zi50YWc9MTtmLnBheWxvYWQ9Yjt2b2lkIDAhPT1jJiZudWxsIT09YyYmKGYuY2FsbGJhY2s9Yyk7Yj1uaChhLGYsZSk7bnVsbCE9PWImJihnaShiLGEsZSxkKSxvaChiLGEsZSkpfSxlbnF1ZXVlRm9yY2VVcGRhdGU6ZnVuY3Rpb24oYSxiKXthPWEuX3JlYWN0SW50ZXJuYWxzO3ZhciBjPVIoKSxkPVxueWkoYSksZT1taChjLGQpO2UudGFnPTI7dm9pZCAwIT09YiYmbnVsbCE9PWImJihlLmNhbGxiYWNrPWIpO2I9bmgoYSxlLGQpO251bGwhPT1iJiYoZ2koYixhLGQsYyksb2goYixhLGQpKX19O2Z1bmN0aW9uIEZpKGEsYixjLGQsZSxmLGcpe2E9YS5zdGF0ZU5vZGU7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuc2hvdWxkQ29tcG9uZW50VXBkYXRlP2Euc2hvdWxkQ29tcG9uZW50VXBkYXRlKGQsZixnKTpiLnByb3RvdHlwZSYmYi5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQ/IUllKGMsZCl8fCFJZShlLGYpOiEwfVxuZnVuY3Rpb24gR2koYSxiLGMpe3ZhciBkPSExLGU9VmY7dmFyIGY9Yi5jb250ZXh0VHlwZTtcIm9iamVjdFwiPT09dHlwZW9mIGYmJm51bGwhPT1mP2Y9ZWgoZik6KGU9WmYoYik/WGY6SC5jdXJyZW50LGQ9Yi5jb250ZXh0VHlwZXMsZj0oZD1udWxsIT09ZCYmdm9pZCAwIT09ZCk/WWYoYSxlKTpWZik7Yj1uZXcgYihjLGYpO2EubWVtb2l6ZWRTdGF0ZT1udWxsIT09Yi5zdGF0ZSYmdm9pZCAwIT09Yi5zdGF0ZT9iLnN0YXRlOm51bGw7Yi51cGRhdGVyPUVpO2Euc3RhdGVOb2RlPWI7Yi5fcmVhY3RJbnRlcm5hbHM9YTtkJiYoYT1hLnN0YXRlTm9kZSxhLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQ9ZSxhLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0PWYpO3JldHVybiBifVxuZnVuY3Rpb24gSGkoYSxiLGMsZCl7YT1iLnN0YXRlO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBiLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJmIuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhjLGQpO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBiLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZiLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGMsZCk7Yi5zdGF0ZSE9PWEmJkVpLmVucXVldWVSZXBsYWNlU3RhdGUoYixiLnN0YXRlLG51bGwpfVxuZnVuY3Rpb24gSWkoYSxiLGMsZCl7dmFyIGU9YS5zdGF0ZU5vZGU7ZS5wcm9wcz1jO2Uuc3RhdGU9YS5tZW1vaXplZFN0YXRlO2UucmVmcz17fTtraChhKTt2YXIgZj1iLmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PT10eXBlb2YgZiYmbnVsbCE9PWY/ZS5jb250ZXh0PWVoKGYpOihmPVpmKGIpP1hmOkguY3VycmVudCxlLmNvbnRleHQ9WWYoYSxmKSk7ZS5zdGF0ZT1hLm1lbW9pemVkU3RhdGU7Zj1iLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcImZ1bmN0aW9uXCI9PT10eXBlb2YgZiYmKERpKGEsYixmLGMpLGUuc3RhdGU9YS5tZW1vaXplZFN0YXRlKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHN8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHxcImZ1bmN0aW9uXCIhPT10eXBlb2YgZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgZS5jb21wb25lbnRXaWxsTW91bnR8fChiPWUuc3RhdGUsXG5cImZ1bmN0aW9uXCI9PT10eXBlb2YgZS5jb21wb25lbnRXaWxsTW91bnQmJmUuY29tcG9uZW50V2lsbE1vdW50KCksXCJmdW5jdGlvblwiPT09dHlwZW9mIGUuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCksYiE9PWUuc3RhdGUmJkVpLmVucXVldWVSZXBsYWNlU3RhdGUoZSxlLnN0YXRlLG51bGwpLHFoKGEsYyxlLGQpLGUuc3RhdGU9YS5tZW1vaXplZFN0YXRlKTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZS5jb21wb25lbnREaWRNb3VudCYmKGEuZmxhZ3N8PTQxOTQzMDgpfWZ1bmN0aW9uIEppKGEsYil7dHJ5e3ZhciBjPVwiXCIsZD1iO2RvIGMrPVBhKGQpLGQ9ZC5yZXR1cm47d2hpbGUoZCk7dmFyIGU9Y31jYXRjaChmKXtlPVwiXFxuRXJyb3IgZ2VuZXJhdGluZyBzdGFjazogXCIrZi5tZXNzYWdlK1wiXFxuXCIrZi5zdGFja31yZXR1cm57dmFsdWU6YSxzb3VyY2U6YixzdGFjazplLGRpZ2VzdDpudWxsfX1cbmZ1bmN0aW9uIEtpKGEsYixjKXtyZXR1cm57dmFsdWU6YSxzb3VyY2U6bnVsbCxzdGFjazpudWxsIT1jP2M6bnVsbCxkaWdlc3Q6bnVsbCE9Yj9iOm51bGx9fWZ1bmN0aW9uIExpKGEsYil7dHJ5e2NvbnNvbGUuZXJyb3IoYi52YWx1ZSl9Y2F0Y2goYyl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGM7fSl9fXZhciBNaT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgV2Vha01hcD9XZWFrTWFwOk1hcDtmdW5jdGlvbiBOaShhLGIsYyl7Yz1taCgtMSxjKTtjLnRhZz0zO2MucGF5bG9hZD17ZWxlbWVudDpudWxsfTt2YXIgZD1iLnZhbHVlO2MuY2FsbGJhY2s9ZnVuY3Rpb24oKXtPaXx8KE9pPSEwLFBpPWQpO0xpKGEsYil9O3JldHVybiBjfVxuZnVuY3Rpb24gUWkoYSxiLGMpe2M9bWgoLTEsYyk7Yy50YWc9Mzt2YXIgZD1hLnR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkKXt2YXIgZT1iLnZhbHVlO2MucGF5bG9hZD1mdW5jdGlvbigpe3JldHVybiBkKGUpfTtjLmNhbGxiYWNrPWZ1bmN0aW9uKCl7TGkoYSxiKX19dmFyIGY9YS5zdGF0ZU5vZGU7bnVsbCE9PWYmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBmLmNvbXBvbmVudERpZENhdGNoJiYoYy5jYWxsYmFjaz1mdW5jdGlvbigpe0xpKGEsYik7XCJmdW5jdGlvblwiIT09dHlwZW9mIGQmJihudWxsPT09Umk/Umk9bmV3IFNldChbdGhpc10pOlJpLmFkZCh0aGlzKSk7dmFyIGM9Yi5zdGFjazt0aGlzLmNvbXBvbmVudERpZENhdGNoKGIudmFsdWUse2NvbXBvbmVudFN0YWNrOm51bGwhPT1jP2M6XCJcIn0pfSk7cmV0dXJuIGN9XG5mdW5jdGlvbiBTaShhLGIsYyl7dmFyIGQ9YS5waW5nQ2FjaGU7aWYobnVsbD09PWQpe2Q9YS5waW5nQ2FjaGU9bmV3IE1pO3ZhciBlPW5ldyBTZXQ7ZC5zZXQoYixlKX1lbHNlIGU9ZC5nZXQoYiksdm9pZCAwPT09ZSYmKGU9bmV3IFNldCxkLnNldChiLGUpKTtlLmhhcyhjKXx8KGUuYWRkKGMpLGE9VGkuYmluZChudWxsLGEsYixjKSxiLnRoZW4oYSxhKSl9ZnVuY3Rpb24gVWkoYSl7ZG97dmFyIGI7aWYoYj0xMz09PWEudGFnKWI9YS5tZW1vaXplZFN0YXRlLGI9bnVsbCE9PWI/bnVsbCE9PWIuZGVoeWRyYXRlZD8hMDohMTohMDtpZihiKXJldHVybiBhO2E9YS5yZXR1cm59d2hpbGUobnVsbCE9PWEpO3JldHVybiBudWxsfVxuZnVuY3Rpb24gVmkoYSxiLGMsZCxlKXtpZigwPT09KGEubW9kZSYxKSlyZXR1cm4gYT09PWI/YS5mbGFnc3w9NjU1MzY6KGEuZmxhZ3N8PTEyOCxjLmZsYWdzfD0xMzEwNzIsYy5mbGFncyY9LTUyODA1LDE9PT1jLnRhZyYmKG51bGw9PT1jLmFsdGVybmF0ZT9jLnRhZz0xNzooYj1taCgtMSwxKSxiLnRhZz0yLG5oKGMsYiwxKSkpLGMubGFuZXN8PTEpLGE7YS5mbGFnc3w9NjU1MzY7YS5sYW5lcz1lO3JldHVybiBhfXZhciBXaT11YS5SZWFjdEN1cnJlbnRPd25lcixkaD0hMTtmdW5jdGlvbiBYaShhLGIsYyxkKXtiLmNoaWxkPW51bGw9PT1hP1ZnKGIsbnVsbCxjLGQpOlVnKGIsYS5jaGlsZCxjLGQpfVxuZnVuY3Rpb24gWWkoYSxiLGMsZCxlKXtjPWMucmVuZGVyO3ZhciBmPWIucmVmO2NoKGIsZSk7ZD1OaChhLGIsYyxkLGYsZSk7Yz1TaCgpO2lmKG51bGwhPT1hJiYhZGgpcmV0dXJuIGIudXBkYXRlUXVldWU9YS51cGRhdGVRdWV1ZSxiLmZsYWdzJj0tMjA1MyxhLmxhbmVzJj1+ZSxaaShhLGIsZSk7SSYmYyYmdmcoYik7Yi5mbGFnc3w9MTtYaShhLGIsZCxlKTtyZXR1cm4gYi5jaGlsZH1cbmZ1bmN0aW9uICRpKGEsYixjLGQsZSl7aWYobnVsbD09PWEpe3ZhciBmPWMudHlwZTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZiYmIWFqKGYpJiZ2b2lkIDA9PT1mLmRlZmF1bHRQcm9wcyYmbnVsbD09PWMuY29tcGFyZSYmdm9pZCAwPT09Yy5kZWZhdWx0UHJvcHMpcmV0dXJuIGIudGFnPTE1LGIudHlwZT1mLGJqKGEsYixmLGQsZSk7YT1SZyhjLnR5cGUsbnVsbCxkLGIsYi5tb2RlLGUpO2EucmVmPWIucmVmO2EucmV0dXJuPWI7cmV0dXJuIGIuY2hpbGQ9YX1mPWEuY2hpbGQ7aWYoMD09PShhLmxhbmVzJmUpKXt2YXIgZz1mLm1lbW9pemVkUHJvcHM7Yz1jLmNvbXBhcmU7Yz1udWxsIT09Yz9jOkllO2lmKGMoZyxkKSYmYS5yZWY9PT1iLnJlZilyZXR1cm4gWmkoYSxiLGUpfWIuZmxhZ3N8PTE7YT1QZyhmLGQpO2EucmVmPWIucmVmO2EucmV0dXJuPWI7cmV0dXJuIGIuY2hpbGQ9YX1cbmZ1bmN0aW9uIGJqKGEsYixjLGQsZSl7aWYobnVsbCE9PWEpe3ZhciBmPWEubWVtb2l6ZWRQcm9wcztpZihJZShmLGQpJiZhLnJlZj09PWIucmVmKWlmKGRoPSExLGIucGVuZGluZ1Byb3BzPWQ9ZiwwIT09KGEubGFuZXMmZSkpMCE9PShhLmZsYWdzJjEzMTA3MikmJihkaD0hMCk7ZWxzZSByZXR1cm4gYi5sYW5lcz1hLmxhbmVzLFppKGEsYixlKX1yZXR1cm4gY2ooYSxiLGMsZCxlKX1cbmZ1bmN0aW9uIGRqKGEsYixjKXt2YXIgZD1iLnBlbmRpbmdQcm9wcyxlPWQuY2hpbGRyZW4sZj1udWxsIT09YT9hLm1lbW9pemVkU3RhdGU6bnVsbDtpZihcImhpZGRlblwiPT09ZC5tb2RlKWlmKDA9PT0oYi5tb2RlJjEpKWIubWVtb2l6ZWRTdGF0ZT17YmFzZUxhbmVzOjAsY2FjaGVQb29sOm51bGwsdHJhbnNpdGlvbnM6bnVsbH0sRyhlaixmaiksZmp8PWM7ZWxzZXtpZigwPT09KGMmMTA3Mzc0MTgyNCkpcmV0dXJuIGE9bnVsbCE9PWY/Zi5iYXNlTGFuZXN8YzpjLGIubGFuZXM9Yi5jaGlsZExhbmVzPTEwNzM3NDE4MjQsYi5tZW1vaXplZFN0YXRlPXtiYXNlTGFuZXM6YSxjYWNoZVBvb2w6bnVsbCx0cmFuc2l0aW9uczpudWxsfSxiLnVwZGF0ZVF1ZXVlPW51bGwsRyhlaixmaiksZmp8PWEsbnVsbDtiLm1lbW9pemVkU3RhdGU9e2Jhc2VMYW5lczowLGNhY2hlUG9vbDpudWxsLHRyYW5zaXRpb25zOm51bGx9O2Q9bnVsbCE9PWY/Zi5iYXNlTGFuZXM6YztHKGVqLGZqKTtmanw9ZH1lbHNlIG51bGwhPT1cbmY/KGQ9Zi5iYXNlTGFuZXN8YyxiLm1lbW9pemVkU3RhdGU9bnVsbCk6ZD1jLEcoZWosZmopLGZqfD1kO1hpKGEsYixlLGMpO3JldHVybiBiLmNoaWxkfWZ1bmN0aW9uIGdqKGEsYil7dmFyIGM9Yi5yZWY7aWYobnVsbD09PWEmJm51bGwhPT1jfHxudWxsIT09YSYmYS5yZWYhPT1jKWIuZmxhZ3N8PTUxMixiLmZsYWdzfD0yMDk3MTUyfWZ1bmN0aW9uIGNqKGEsYixjLGQsZSl7dmFyIGY9WmYoYyk/WGY6SC5jdXJyZW50O2Y9WWYoYixmKTtjaChiLGUpO2M9TmgoYSxiLGMsZCxmLGUpO2Q9U2goKTtpZihudWxsIT09YSYmIWRoKXJldHVybiBiLnVwZGF0ZVF1ZXVlPWEudXBkYXRlUXVldWUsYi5mbGFncyY9LTIwNTMsYS5sYW5lcyY9fmUsWmkoYSxiLGUpO0kmJmQmJnZnKGIpO2IuZmxhZ3N8PTE7WGkoYSxiLGMsZSk7cmV0dXJuIGIuY2hpbGR9XG5mdW5jdGlvbiBoaihhLGIsYyxkLGUpe2lmKFpmKGMpKXt2YXIgZj0hMDtjZyhiKX1lbHNlIGY9ITE7Y2goYixlKTtpZihudWxsPT09Yi5zdGF0ZU5vZGUpaWooYSxiKSxHaShiLGMsZCksSWkoYixjLGQsZSksZD0hMDtlbHNlIGlmKG51bGw9PT1hKXt2YXIgZz1iLnN0YXRlTm9kZSxoPWIubWVtb2l6ZWRQcm9wcztnLnByb3BzPWg7dmFyIGs9Zy5jb250ZXh0LGw9Yy5jb250ZXh0VHlwZTtcIm9iamVjdFwiPT09dHlwZW9mIGwmJm51bGwhPT1sP2w9ZWgobCk6KGw9WmYoYyk/WGY6SC5jdXJyZW50LGw9WWYoYixsKSk7dmFyIG09Yy5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMscT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgbXx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGcuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGU7cXx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGcuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fFxuKGghPT1kfHxrIT09bCkmJkhpKGIsZyxkLGwpO2poPSExO3ZhciByPWIubWVtb2l6ZWRTdGF0ZTtnLnN0YXRlPXI7cWgoYixkLGcsZSk7az1iLm1lbW9pemVkU3RhdGU7aCE9PWR8fHIhPT1rfHxXZi5jdXJyZW50fHxqaD8oXCJmdW5jdGlvblwiPT09dHlwZW9mIG0mJihEaShiLGMsbSxkKSxrPWIubWVtb2l6ZWRTdGF0ZSksKGg9amh8fEZpKGIsYyxoLGQscixrLGwpKT8ocXx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGcuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGcuY29tcG9uZW50V2lsbE1vdW50fHwoXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuY29tcG9uZW50V2lsbE1vdW50JiZnLmNvbXBvbmVudFdpbGxNb3VudCgpLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQmJmcuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpKSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5jb21wb25lbnREaWRNb3VudCYmKGIuZmxhZ3N8PTQxOTQzMDgpKTpcbihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5jb21wb25lbnREaWRNb3VudCYmKGIuZmxhZ3N8PTQxOTQzMDgpLGIubWVtb2l6ZWRQcm9wcz1kLGIubWVtb2l6ZWRTdGF0ZT1rKSxnLnByb3BzPWQsZy5zdGF0ZT1rLGcuY29udGV4dD1sLGQ9aCk6KFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmNvbXBvbmVudERpZE1vdW50JiYoYi5mbGFnc3w9NDE5NDMwOCksZD0hMSl9ZWxzZXtnPWIuc3RhdGVOb2RlO2xoKGEsYik7aD1iLm1lbW9pemVkUHJvcHM7bD1iLnR5cGU9PT1iLmVsZW1lbnRUeXBlP2g6Q2koYi50eXBlLGgpO2cucHJvcHM9bDtxPWIucGVuZGluZ1Byb3BzO3I9Zy5jb250ZXh0O2s9Yy5jb250ZXh0VHlwZTtcIm9iamVjdFwiPT09dHlwZW9mIGsmJm51bGwhPT1rP2s9ZWgoayk6KGs9WmYoYyk/WGY6SC5jdXJyZW50LGs9WWYoYixrKSk7dmFyIHk9Yy5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7KG09XCJmdW5jdGlvblwiPT09dHlwZW9mIHl8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXx8XG5cImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGcuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc3x8KGghPT1xfHxyIT09aykmJkhpKGIsZyxkLGspO2poPSExO3I9Yi5tZW1vaXplZFN0YXRlO2cuc3RhdGU9cjtxaChiLGQsZyxlKTt2YXIgbj1iLm1lbW9pemVkU3RhdGU7aCE9PXF8fHIhPT1ufHxXZi5jdXJyZW50fHxqaD8oXCJmdW5jdGlvblwiPT09dHlwZW9mIHkmJihEaShiLGMseSxkKSxuPWIubWVtb2l6ZWRTdGF0ZSksKGw9amh8fEZpKGIsYyxsLGQscixuLGspfHwhMSk/KG18fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5jb21wb25lbnRXaWxsVXBkYXRlfHwoXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuY29tcG9uZW50V2lsbFVwZGF0ZSYmZy5jb21wb25lbnRXaWxsVXBkYXRlKGQsbixrKSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSYmXG5nLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlKGQsbixrKSksXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuY29tcG9uZW50RGlkVXBkYXRlJiYoYi5mbGFnc3w9NCksXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUmJihiLmZsYWdzfD0xMDI0KSk6KFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudERpZFVwZGF0ZXx8aD09PWEubWVtb2l6ZWRQcm9wcyYmcj09PWEubWVtb2l6ZWRTdGF0ZXx8KGIuZmxhZ3N8PTQpLFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHxoPT09YS5tZW1vaXplZFByb3BzJiZyPT09YS5tZW1vaXplZFN0YXRlfHwoYi5mbGFnc3w9MTAyNCksYi5tZW1vaXplZFByb3BzPWQsYi5tZW1vaXplZFN0YXRlPW4pLGcucHJvcHM9ZCxnLnN0YXRlPW4sZy5jb250ZXh0PWssZD1sKTooXCJmdW5jdGlvblwiIT09dHlwZW9mIGcuY29tcG9uZW50RGlkVXBkYXRlfHxoPT09YS5tZW1vaXplZFByb3BzJiZyPT09XG5hLm1lbW9pemVkU3RhdGV8fChiLmZsYWdzfD00KSxcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8aD09PWEubWVtb2l6ZWRQcm9wcyYmcj09PWEubWVtb2l6ZWRTdGF0ZXx8KGIuZmxhZ3N8PTEwMjQpLGQ9ITEpfXJldHVybiBqaihhLGIsYyxkLGYsZSl9XG5mdW5jdGlvbiBqaihhLGIsYyxkLGUsZil7Z2ooYSxiKTt2YXIgZz0wIT09KGIuZmxhZ3MmMTI4KTtpZighZCYmIWcpcmV0dXJuIGUmJmRnKGIsYywhMSksWmkoYSxiLGYpO2Q9Yi5zdGF0ZU5vZGU7V2kuY3VycmVudD1iO3ZhciBoPWcmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcj9udWxsOmQucmVuZGVyKCk7Yi5mbGFnc3w9MTtudWxsIT09YSYmZz8oYi5jaGlsZD1VZyhiLGEuY2hpbGQsbnVsbCxmKSxiLmNoaWxkPVVnKGIsbnVsbCxoLGYpKTpYaShhLGIsaCxmKTtiLm1lbW9pemVkU3RhdGU9ZC5zdGF0ZTtlJiZkZyhiLGMsITApO3JldHVybiBiLmNoaWxkfWZ1bmN0aW9uIGtqKGEpe3ZhciBiPWEuc3RhdGVOb2RlO2IucGVuZGluZ0NvbnRleHQ/YWcoYSxiLnBlbmRpbmdDb250ZXh0LGIucGVuZGluZ0NvbnRleHQhPT1iLmNvbnRleHQpOmIuY29udGV4dCYmYWcoYSxiLmNvbnRleHQsITEpO3loKGEsYi5jb250YWluZXJJbmZvKX1cbmZ1bmN0aW9uIGxqKGEsYixjLGQsZSl7SWcoKTtKZyhlKTtiLmZsYWdzfD0yNTY7WGkoYSxiLGMsZCk7cmV0dXJuIGIuY2hpbGR9dmFyIG1qPXtkZWh5ZHJhdGVkOm51bGwsdHJlZUNvbnRleHQ6bnVsbCxyZXRyeUxhbmU6MH07ZnVuY3Rpb24gbmooYSl7cmV0dXJue2Jhc2VMYW5lczphLGNhY2hlUG9vbDpudWxsLHRyYW5zaXRpb25zOm51bGx9fVxuZnVuY3Rpb24gb2ooYSxiLGMpe3ZhciBkPWIucGVuZGluZ1Byb3BzLGU9TC5jdXJyZW50LGY9ITEsZz0wIT09KGIuZmxhZ3MmMTI4KSxoOyhoPWcpfHwoaD1udWxsIT09YSYmbnVsbD09PWEubWVtb2l6ZWRTdGF0ZT8hMTowIT09KGUmMikpO2lmKGgpZj0hMCxiLmZsYWdzJj0tMTI5O2Vsc2UgaWYobnVsbD09PWF8fG51bGwhPT1hLm1lbW9pemVkU3RhdGUpZXw9MTtHKEwsZSYxKTtpZihudWxsPT09YSl7RWcoYik7YT1iLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWEmJihhPWEuZGVoeWRyYXRlZCxudWxsIT09YSkpcmV0dXJuIDA9PT0oYi5tb2RlJjEpP2IubGFuZXM9MTpcIiQhXCI9PT1hLmRhdGE/Yi5sYW5lcz04OmIubGFuZXM9MTA3Mzc0MTgyNCxudWxsO2c9ZC5jaGlsZHJlbjthPWQuZmFsbGJhY2s7cmV0dXJuIGY/KGQ9Yi5tb2RlLGY9Yi5jaGlsZCxnPXttb2RlOlwiaGlkZGVuXCIsY2hpbGRyZW46Z30sMD09PShkJjEpJiZudWxsIT09Zj8oZi5jaGlsZExhbmVzPTAsZi5wZW5kaW5nUHJvcHM9XG5nKTpmPXBqKGcsZCwwLG51bGwpLGE9VGcoYSxkLGMsbnVsbCksZi5yZXR1cm49YixhLnJldHVybj1iLGYuc2libGluZz1hLGIuY2hpbGQ9ZixiLmNoaWxkLm1lbW9pemVkU3RhdGU9bmooYyksYi5tZW1vaXplZFN0YXRlPW1qLGEpOnFqKGIsZyl9ZT1hLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWUmJihoPWUuZGVoeWRyYXRlZCxudWxsIT09aCkpcmV0dXJuIHJqKGEsYixnLGQsaCxlLGMpO2lmKGYpe2Y9ZC5mYWxsYmFjaztnPWIubW9kZTtlPWEuY2hpbGQ7aD1lLnNpYmxpbmc7dmFyIGs9e21vZGU6XCJoaWRkZW5cIixjaGlsZHJlbjpkLmNoaWxkcmVufTswPT09KGcmMSkmJmIuY2hpbGQhPT1lPyhkPWIuY2hpbGQsZC5jaGlsZExhbmVzPTAsZC5wZW5kaW5nUHJvcHM9ayxiLmRlbGV0aW9ucz1udWxsKTooZD1QZyhlLGspLGQuc3VidHJlZUZsYWdzPWUuc3VidHJlZUZsYWdzJjE0NjgwMDY0KTtudWxsIT09aD9mPVBnKGgsZik6KGY9VGcoZixnLGMsbnVsbCksZi5mbGFnc3w9Mik7Zi5yZXR1cm49XG5iO2QucmV0dXJuPWI7ZC5zaWJsaW5nPWY7Yi5jaGlsZD1kO2Q9ZjtmPWIuY2hpbGQ7Zz1hLmNoaWxkLm1lbW9pemVkU3RhdGU7Zz1udWxsPT09Zz9uaihjKTp7YmFzZUxhbmVzOmcuYmFzZUxhbmVzfGMsY2FjaGVQb29sOm51bGwsdHJhbnNpdGlvbnM6Zy50cmFuc2l0aW9uc307Zi5tZW1vaXplZFN0YXRlPWc7Zi5jaGlsZExhbmVzPWEuY2hpbGRMYW5lcyZ+YztiLm1lbW9pemVkU3RhdGU9bWo7cmV0dXJuIGR9Zj1hLmNoaWxkO2E9Zi5zaWJsaW5nO2Q9UGcoZix7bW9kZTpcInZpc2libGVcIixjaGlsZHJlbjpkLmNoaWxkcmVufSk7MD09PShiLm1vZGUmMSkmJihkLmxhbmVzPWMpO2QucmV0dXJuPWI7ZC5zaWJsaW5nPW51bGw7bnVsbCE9PWEmJihjPWIuZGVsZXRpb25zLG51bGw9PT1jPyhiLmRlbGV0aW9ucz1bYV0sYi5mbGFnc3w9MTYpOmMucHVzaChhKSk7Yi5jaGlsZD1kO2IubWVtb2l6ZWRTdGF0ZT1udWxsO3JldHVybiBkfVxuZnVuY3Rpb24gcWooYSxiKXtiPXBqKHttb2RlOlwidmlzaWJsZVwiLGNoaWxkcmVuOmJ9LGEubW9kZSwwLG51bGwpO2IucmV0dXJuPWE7cmV0dXJuIGEuY2hpbGQ9Yn1mdW5jdGlvbiBzaihhLGIsYyxkKXtudWxsIT09ZCYmSmcoZCk7VWcoYixhLmNoaWxkLG51bGwsYyk7YT1xaihiLGIucGVuZGluZ1Byb3BzLmNoaWxkcmVuKTthLmZsYWdzfD0yO2IubWVtb2l6ZWRTdGF0ZT1udWxsO3JldHVybiBhfVxuZnVuY3Rpb24gcmooYSxiLGMsZCxlLGYsZyl7aWYoYyl7aWYoYi5mbGFncyYyNTYpcmV0dXJuIGIuZmxhZ3MmPS0yNTcsZD1LaShFcnJvcihwKDQyMikpKSxzaihhLGIsZyxkKTtpZihudWxsIT09Yi5tZW1vaXplZFN0YXRlKXJldHVybiBiLmNoaWxkPWEuY2hpbGQsYi5mbGFnc3w9MTI4LG51bGw7Zj1kLmZhbGxiYWNrO2U9Yi5tb2RlO2Q9cGooe21vZGU6XCJ2aXNpYmxlXCIsY2hpbGRyZW46ZC5jaGlsZHJlbn0sZSwwLG51bGwpO2Y9VGcoZixlLGcsbnVsbCk7Zi5mbGFnc3w9MjtkLnJldHVybj1iO2YucmV0dXJuPWI7ZC5zaWJsaW5nPWY7Yi5jaGlsZD1kOzAhPT0oYi5tb2RlJjEpJiZVZyhiLGEuY2hpbGQsbnVsbCxnKTtiLmNoaWxkLm1lbW9pemVkU3RhdGU9bmooZyk7Yi5tZW1vaXplZFN0YXRlPW1qO3JldHVybiBmfWlmKDA9PT0oYi5tb2RlJjEpKXJldHVybiBzaihhLGIsZyxudWxsKTtpZihcIiQhXCI9PT1lLmRhdGEpe2Q9ZS5uZXh0U2libGluZyYmZS5uZXh0U2libGluZy5kYXRhc2V0O1xuaWYoZCl2YXIgaD1kLmRnc3Q7ZD1oO2Y9RXJyb3IocCg0MTkpKTtkPUtpKGYsZCx2b2lkIDApO3JldHVybiBzaihhLGIsZyxkKX1oPTAhPT0oZyZhLmNoaWxkTGFuZXMpO2lmKGRofHxoKXtkPVE7aWYobnVsbCE9PWQpe3N3aXRjaChnJi1nKXtjYXNlIDQ6ZT0yO2JyZWFrO2Nhc2UgMTY6ZT04O2JyZWFrO2Nhc2UgNjQ6Y2FzZSAxMjg6Y2FzZSAyNTY6Y2FzZSA1MTI6Y2FzZSAxMDI0OmNhc2UgMjA0ODpjYXNlIDQwOTY6Y2FzZSA4MTkyOmNhc2UgMTYzODQ6Y2FzZSAzMjc2ODpjYXNlIDY1NTM2OmNhc2UgMTMxMDcyOmNhc2UgMjYyMTQ0OmNhc2UgNTI0Mjg4OmNhc2UgMTA0ODU3NjpjYXNlIDIwOTcxNTI6Y2FzZSA0MTk0MzA0OmNhc2UgODM4ODYwODpjYXNlIDE2Nzc3MjE2OmNhc2UgMzM1NTQ0MzI6Y2FzZSA2NzEwODg2NDplPTMyO2JyZWFrO2Nhc2UgNTM2ODcwOTEyOmU9MjY4NDM1NDU2O2JyZWFrO2RlZmF1bHQ6ZT0wfWU9MCE9PShlJihkLnN1c3BlbmRlZExhbmVzfGcpKT8wOmU7XG4wIT09ZSYmZSE9PWYucmV0cnlMYW5lJiYoZi5yZXRyeUxhbmU9ZSxpaChhLGUpLGdpKGQsYSxlLC0xKSl9dGooKTtkPUtpKEVycm9yKHAoNDIxKSkpO3JldHVybiBzaihhLGIsZyxkKX1pZihcIiQ/XCI9PT1lLmRhdGEpcmV0dXJuIGIuZmxhZ3N8PTEyOCxiLmNoaWxkPWEuY2hpbGQsYj11ai5iaW5kKG51bGwsYSksZS5fcmVhY3RSZXRyeT1iLG51bGw7YT1mLnRyZWVDb250ZXh0O3lnPUxmKGUubmV4dFNpYmxpbmcpO3hnPWI7ST0hMDt6Zz1udWxsO251bGwhPT1hJiYob2dbcGcrK109cmcsb2dbcGcrK109c2csb2dbcGcrK109cWcscmc9YS5pZCxzZz1hLm92ZXJmbG93LHFnPWIpO2I9cWooYixkLmNoaWxkcmVuKTtiLmZsYWdzfD00MDk2O3JldHVybiBifWZ1bmN0aW9uIHZqKGEsYixjKXthLmxhbmVzfD1iO3ZhciBkPWEuYWx0ZXJuYXRlO251bGwhPT1kJiYoZC5sYW5lc3w9Yik7YmgoYS5yZXR1cm4sYixjKX1cbmZ1bmN0aW9uIHdqKGEsYixjLGQsZSl7dmFyIGY9YS5tZW1vaXplZFN0YXRlO251bGw9PT1mP2EubWVtb2l6ZWRTdGF0ZT17aXNCYWNrd2FyZHM6YixyZW5kZXJpbmc6bnVsbCxyZW5kZXJpbmdTdGFydFRpbWU6MCxsYXN0OmQsdGFpbDpjLHRhaWxNb2RlOmV9OihmLmlzQmFja3dhcmRzPWIsZi5yZW5kZXJpbmc9bnVsbCxmLnJlbmRlcmluZ1N0YXJ0VGltZT0wLGYubGFzdD1kLGYudGFpbD1jLGYudGFpbE1vZGU9ZSl9XG5mdW5jdGlvbiB4aihhLGIsYyl7dmFyIGQ9Yi5wZW5kaW5nUHJvcHMsZT1kLnJldmVhbE9yZGVyLGY9ZC50YWlsO1hpKGEsYixkLmNoaWxkcmVuLGMpO2Q9TC5jdXJyZW50O2lmKDAhPT0oZCYyKSlkPWQmMXwyLGIuZmxhZ3N8PTEyODtlbHNle2lmKG51bGwhPT1hJiYwIT09KGEuZmxhZ3MmMTI4KSlhOmZvcihhPWIuY2hpbGQ7bnVsbCE9PWE7KXtpZigxMz09PWEudGFnKW51bGwhPT1hLm1lbW9pemVkU3RhdGUmJnZqKGEsYyxiKTtlbHNlIGlmKDE5PT09YS50YWcpdmooYSxjLGIpO2Vsc2UgaWYobnVsbCE9PWEuY2hpbGQpe2EuY2hpbGQucmV0dXJuPWE7YT1hLmNoaWxkO2NvbnRpbnVlfWlmKGE9PT1iKWJyZWFrIGE7Zm9yKDtudWxsPT09YS5zaWJsaW5nOyl7aWYobnVsbD09PWEucmV0dXJufHxhLnJldHVybj09PWIpYnJlYWsgYTthPWEucmV0dXJufWEuc2libGluZy5yZXR1cm49YS5yZXR1cm47YT1hLnNpYmxpbmd9ZCY9MX1HKEwsZCk7aWYoMD09PShiLm1vZGUmMSkpYi5tZW1vaXplZFN0YXRlPVxubnVsbDtlbHNlIHN3aXRjaChlKXtjYXNlIFwiZm9yd2FyZHNcIjpjPWIuY2hpbGQ7Zm9yKGU9bnVsbDtudWxsIT09YzspYT1jLmFsdGVybmF0ZSxudWxsIT09YSYmbnVsbD09PUNoKGEpJiYoZT1jKSxjPWMuc2libGluZztjPWU7bnVsbD09PWM/KGU9Yi5jaGlsZCxiLmNoaWxkPW51bGwpOihlPWMuc2libGluZyxjLnNpYmxpbmc9bnVsbCk7d2ooYiwhMSxlLGMsZik7YnJlYWs7Y2FzZSBcImJhY2t3YXJkc1wiOmM9bnVsbDtlPWIuY2hpbGQ7Zm9yKGIuY2hpbGQ9bnVsbDtudWxsIT09ZTspe2E9ZS5hbHRlcm5hdGU7aWYobnVsbCE9PWEmJm51bGw9PT1DaChhKSl7Yi5jaGlsZD1lO2JyZWFrfWE9ZS5zaWJsaW5nO2Uuc2libGluZz1jO2M9ZTtlPWF9d2ooYiwhMCxjLG51bGwsZik7YnJlYWs7Y2FzZSBcInRvZ2V0aGVyXCI6d2ooYiwhMSxudWxsLG51bGwsdm9pZCAwKTticmVhaztkZWZhdWx0OmIubWVtb2l6ZWRTdGF0ZT1udWxsfXJldHVybiBiLmNoaWxkfVxuZnVuY3Rpb24gaWooYSxiKXswPT09KGIubW9kZSYxKSYmbnVsbCE9PWEmJihhLmFsdGVybmF0ZT1udWxsLGIuYWx0ZXJuYXRlPW51bGwsYi5mbGFnc3w9Mil9ZnVuY3Rpb24gWmkoYSxiLGMpe251bGwhPT1hJiYoYi5kZXBlbmRlbmNpZXM9YS5kZXBlbmRlbmNpZXMpO3JofD1iLmxhbmVzO2lmKDA9PT0oYyZiLmNoaWxkTGFuZXMpKXJldHVybiBudWxsO2lmKG51bGwhPT1hJiZiLmNoaWxkIT09YS5jaGlsZCl0aHJvdyBFcnJvcihwKDE1MykpO2lmKG51bGwhPT1iLmNoaWxkKXthPWIuY2hpbGQ7Yz1QZyhhLGEucGVuZGluZ1Byb3BzKTtiLmNoaWxkPWM7Zm9yKGMucmV0dXJuPWI7bnVsbCE9PWEuc2libGluZzspYT1hLnNpYmxpbmcsYz1jLnNpYmxpbmc9UGcoYSxhLnBlbmRpbmdQcm9wcyksYy5yZXR1cm49YjtjLnNpYmxpbmc9bnVsbH1yZXR1cm4gYi5jaGlsZH1cbmZ1bmN0aW9uIHlqKGEsYixjKXtzd2l0Y2goYi50YWcpe2Nhc2UgMzpraihiKTtJZygpO2JyZWFrO2Nhc2UgNTpBaChiKTticmVhaztjYXNlIDE6WmYoYi50eXBlKSYmY2coYik7YnJlYWs7Y2FzZSA0OnloKGIsYi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyk7YnJlYWs7Y2FzZSAxMDp2YXIgZD1iLnR5cGUuX2NvbnRleHQsZT1iLm1lbW9pemVkUHJvcHMudmFsdWU7RyhXZyxkLl9jdXJyZW50VmFsdWUpO2QuX2N1cnJlbnRWYWx1ZT1lO2JyZWFrO2Nhc2UgMTM6ZD1iLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWQpe2lmKG51bGwhPT1kLmRlaHlkcmF0ZWQpcmV0dXJuIEcoTCxMLmN1cnJlbnQmMSksYi5mbGFnc3w9MTI4LG51bGw7aWYoMCE9PShjJmIuY2hpbGQuY2hpbGRMYW5lcykpcmV0dXJuIG9qKGEsYixjKTtHKEwsTC5jdXJyZW50JjEpO2E9WmkoYSxiLGMpO3JldHVybiBudWxsIT09YT9hLnNpYmxpbmc6bnVsbH1HKEwsTC5jdXJyZW50JjEpO2JyZWFrO2Nhc2UgMTk6ZD0wIT09KGMmXG5iLmNoaWxkTGFuZXMpO2lmKDAhPT0oYS5mbGFncyYxMjgpKXtpZihkKXJldHVybiB4aihhLGIsYyk7Yi5mbGFnc3w9MTI4fWU9Yi5tZW1vaXplZFN0YXRlO251bGwhPT1lJiYoZS5yZW5kZXJpbmc9bnVsbCxlLnRhaWw9bnVsbCxlLmxhc3RFZmZlY3Q9bnVsbCk7RyhMLEwuY3VycmVudCk7aWYoZClicmVhaztlbHNlIHJldHVybiBudWxsO2Nhc2UgMjI6Y2FzZSAyMzpyZXR1cm4gYi5sYW5lcz0wLGRqKGEsYixjKX1yZXR1cm4gWmkoYSxiLGMpfXZhciB6aixBaixCaixDajtcbnpqPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWIuY2hpbGQ7bnVsbCE9PWM7KXtpZig1PT09Yy50YWd8fDY9PT1jLnRhZylhLmFwcGVuZENoaWxkKGMuc3RhdGVOb2RlKTtlbHNlIGlmKDQhPT1jLnRhZyYmbnVsbCE9PWMuY2hpbGQpe2MuY2hpbGQucmV0dXJuPWM7Yz1jLmNoaWxkO2NvbnRpbnVlfWlmKGM9PT1iKWJyZWFrO2Zvcig7bnVsbD09PWMuc2libGluZzspe2lmKG51bGw9PT1jLnJldHVybnx8Yy5yZXR1cm49PT1iKXJldHVybjtjPWMucmV0dXJufWMuc2libGluZy5yZXR1cm49Yy5yZXR1cm47Yz1jLnNpYmxpbmd9fTtBaj1mdW5jdGlvbigpe307XG5Caj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLm1lbW9pemVkUHJvcHM7aWYoZSE9PWQpe2E9Yi5zdGF0ZU5vZGU7eGgodWguY3VycmVudCk7dmFyIGY9bnVsbDtzd2l0Y2goYyl7Y2FzZSBcImlucHV0XCI6ZT1ZYShhLGUpO2Q9WWEoYSxkKTtmPVtdO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjplPUEoe30sZSx7dmFsdWU6dm9pZCAwfSk7ZD1BKHt9LGQse3ZhbHVlOnZvaWQgMH0pO2Y9W107YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6ZT1nYihhLGUpO2Q9Z2IoYSxkKTtmPVtdO2JyZWFrO2RlZmF1bHQ6XCJmdW5jdGlvblwiIT09dHlwZW9mIGUub25DbGljayYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGQub25DbGljayYmKGEub25jbGljaz1CZil9dWIoYyxkKTt2YXIgZztjPW51bGw7Zm9yKGwgaW4gZSlpZighZC5oYXNPd25Qcm9wZXJ0eShsKSYmZS5oYXNPd25Qcm9wZXJ0eShsKSYmbnVsbCE9ZVtsXSlpZihcInN0eWxlXCI9PT1sKXt2YXIgaD1lW2xdO2ZvcihnIGluIGgpaC5oYXNPd25Qcm9wZXJ0eShnKSYmXG4oY3x8KGM9e30pLGNbZ109XCJcIil9ZWxzZVwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiE9PWwmJlwiY2hpbGRyZW5cIiE9PWwmJlwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCIhPT1sJiZcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiIT09bCYmXCJhdXRvRm9jdXNcIiE9PWwmJihlYS5oYXNPd25Qcm9wZXJ0eShsKT9mfHwoZj1bXSk6KGY9Znx8W10pLnB1c2gobCxudWxsKSk7Zm9yKGwgaW4gZCl7dmFyIGs9ZFtsXTtoPW51bGwhPWU/ZVtsXTp2b2lkIDA7aWYoZC5oYXNPd25Qcm9wZXJ0eShsKSYmayE9PWgmJihudWxsIT1rfHxudWxsIT1oKSlpZihcInN0eWxlXCI9PT1sKWlmKGgpe2ZvcihnIGluIGgpIWguaGFzT3duUHJvcGVydHkoZyl8fGsmJmsuaGFzT3duUHJvcGVydHkoZyl8fChjfHwoYz17fSksY1tnXT1cIlwiKTtmb3IoZyBpbiBrKWsuaGFzT3duUHJvcGVydHkoZykmJmhbZ10hPT1rW2ddJiYoY3x8KGM9e30pLGNbZ109a1tnXSl9ZWxzZSBjfHwoZnx8KGY9W10pLGYucHVzaChsLFxuYykpLGM9aztlbHNlXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT09bD8oaz1rP2suX19odG1sOnZvaWQgMCxoPWg/aC5fX2h0bWw6dm9pZCAwLG51bGwhPWsmJmghPT1rJiYoZj1mfHxbXSkucHVzaChsLGspKTpcImNoaWxkcmVuXCI9PT1sP1wic3RyaW5nXCIhPT10eXBlb2YgayYmXCJudW1iZXJcIiE9PXR5cGVvZiBrfHwoZj1mfHxbXSkucHVzaChsLFwiXCIrayk6XCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PWwmJlwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIhPT1sJiYoZWEuaGFzT3duUHJvcGVydHkobCk/KG51bGwhPWsmJlwib25TY3JvbGxcIj09PWwmJkQoXCJzY3JvbGxcIixhKSxmfHxoPT09a3x8KGY9W10pKTooZj1mfHxbXSkucHVzaChsLGspKX1jJiYoZj1mfHxbXSkucHVzaChcInN0eWxlXCIsYyk7dmFyIGw9ZjtpZihiLnVwZGF0ZVF1ZXVlPWwpYi5mbGFnc3w9NH19O0NqPWZ1bmN0aW9uKGEsYixjLGQpe2MhPT1kJiYoYi5mbGFnc3w9NCl9O1xuZnVuY3Rpb24gRGooYSxiKXtpZighSSlzd2l0Y2goYS50YWlsTW9kZSl7Y2FzZSBcImhpZGRlblwiOmI9YS50YWlsO2Zvcih2YXIgYz1udWxsO251bGwhPT1iOyludWxsIT09Yi5hbHRlcm5hdGUmJihjPWIpLGI9Yi5zaWJsaW5nO251bGw9PT1jP2EudGFpbD1udWxsOmMuc2libGluZz1udWxsO2JyZWFrO2Nhc2UgXCJjb2xsYXBzZWRcIjpjPWEudGFpbDtmb3IodmFyIGQ9bnVsbDtudWxsIT09YzspbnVsbCE9PWMuYWx0ZXJuYXRlJiYoZD1jKSxjPWMuc2libGluZztudWxsPT09ZD9ifHxudWxsPT09YS50YWlsP2EudGFpbD1udWxsOmEudGFpbC5zaWJsaW5nPW51bGw6ZC5zaWJsaW5nPW51bGx9fVxuZnVuY3Rpb24gUyhhKXt2YXIgYj1udWxsIT09YS5hbHRlcm5hdGUmJmEuYWx0ZXJuYXRlLmNoaWxkPT09YS5jaGlsZCxjPTAsZD0wO2lmKGIpZm9yKHZhciBlPWEuY2hpbGQ7bnVsbCE9PWU7KWN8PWUubGFuZXN8ZS5jaGlsZExhbmVzLGR8PWUuc3VidHJlZUZsYWdzJjE0NjgwMDY0LGR8PWUuZmxhZ3MmMTQ2ODAwNjQsZS5yZXR1cm49YSxlPWUuc2libGluZztlbHNlIGZvcihlPWEuY2hpbGQ7bnVsbCE9PWU7KWN8PWUubGFuZXN8ZS5jaGlsZExhbmVzLGR8PWUuc3VidHJlZUZsYWdzLGR8PWUuZmxhZ3MsZS5yZXR1cm49YSxlPWUuc2libGluZzthLnN1YnRyZWVGbGFnc3w9ZDthLmNoaWxkTGFuZXM9YztyZXR1cm4gYn1cbmZ1bmN0aW9uIEVqKGEsYixjKXt2YXIgZD1iLnBlbmRpbmdQcm9wczt3ZyhiKTtzd2l0Y2goYi50YWcpe2Nhc2UgMjpjYXNlIDE2OmNhc2UgMTU6Y2FzZSAwOmNhc2UgMTE6Y2FzZSA3OmNhc2UgODpjYXNlIDEyOmNhc2UgOTpjYXNlIDE0OnJldHVybiBTKGIpLG51bGw7Y2FzZSAxOnJldHVybiBaZihiLnR5cGUpJiYkZigpLFMoYiksbnVsbDtjYXNlIDM6ZD1iLnN0YXRlTm9kZTt6aCgpO0UoV2YpO0UoSCk7RWgoKTtkLnBlbmRpbmdDb250ZXh0JiYoZC5jb250ZXh0PWQucGVuZGluZ0NvbnRleHQsZC5wZW5kaW5nQ29udGV4dD1udWxsKTtpZihudWxsPT09YXx8bnVsbD09PWEuY2hpbGQpR2coYik/Yi5mbGFnc3w9NDpudWxsPT09YXx8YS5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCYmMD09PShiLmZsYWdzJjI1Nil8fChiLmZsYWdzfD0xMDI0LG51bGwhPT16ZyYmKEZqKHpnKSx6Zz1udWxsKSk7QWooYSxiKTtTKGIpO3JldHVybiBudWxsO2Nhc2UgNTpCaChiKTt2YXIgZT14aCh3aC5jdXJyZW50KTtcbmM9Yi50eXBlO2lmKG51bGwhPT1hJiZudWxsIT1iLnN0YXRlTm9kZSlCaihhLGIsYyxkLGUpLGEucmVmIT09Yi5yZWYmJihiLmZsYWdzfD01MTIsYi5mbGFnc3w9MjA5NzE1Mik7ZWxzZXtpZighZCl7aWYobnVsbD09PWIuc3RhdGVOb2RlKXRocm93IEVycm9yKHAoMTY2KSk7UyhiKTtyZXR1cm4gbnVsbH1hPXhoKHVoLmN1cnJlbnQpO2lmKEdnKGIpKXtkPWIuc3RhdGVOb2RlO2M9Yi50eXBlO3ZhciBmPWIubWVtb2l6ZWRQcm9wcztkW09mXT1iO2RbUGZdPWY7YT0wIT09KGIubW9kZSYxKTtzd2l0Y2goYyl7Y2FzZSBcImRpYWxvZ1wiOkQoXCJjYW5jZWxcIixkKTtEKFwiY2xvc2VcIixkKTticmVhaztjYXNlIFwiaWZyYW1lXCI6Y2FzZSBcIm9iamVjdFwiOmNhc2UgXCJlbWJlZFwiOkQoXCJsb2FkXCIsZCk7YnJlYWs7Y2FzZSBcInZpZGVvXCI6Y2FzZSBcImF1ZGlvXCI6Zm9yKGU9MDtlPGxmLmxlbmd0aDtlKyspRChsZltlXSxkKTticmVhaztjYXNlIFwic291cmNlXCI6RChcImVycm9yXCIsZCk7YnJlYWs7Y2FzZSBcImltZ1wiOmNhc2UgXCJpbWFnZVwiOmNhc2UgXCJsaW5rXCI6RChcImVycm9yXCIsXG5kKTtEKFwibG9hZFwiLGQpO2JyZWFrO2Nhc2UgXCJkZXRhaWxzXCI6RChcInRvZ2dsZVwiLGQpO2JyZWFrO2Nhc2UgXCJpbnB1dFwiOlphKGQsZik7RChcImludmFsaWRcIixkKTticmVhaztjYXNlIFwic2VsZWN0XCI6ZC5fd3JhcHBlclN0YXRlPXt3YXNNdWx0aXBsZTohIWYubXVsdGlwbGV9O0QoXCJpbnZhbGlkXCIsZCk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6aGIoZCxmKSxEKFwiaW52YWxpZFwiLGQpfXViKGMsZik7ZT1udWxsO2Zvcih2YXIgZyBpbiBmKWlmKGYuaGFzT3duUHJvcGVydHkoZykpe3ZhciBoPWZbZ107XCJjaGlsZHJlblwiPT09Zz9cInN0cmluZ1wiPT09dHlwZW9mIGg/ZC50ZXh0Q29udGVudCE9PWgmJighMCE9PWYuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJiZBZihkLnRleHRDb250ZW50LGgsYSksZT1bXCJjaGlsZHJlblwiLGhdKTpcIm51bWJlclwiPT09dHlwZW9mIGgmJmQudGV4dENvbnRlbnQhPT1cIlwiK2gmJighMCE9PWYuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJiZBZihkLnRleHRDb250ZW50LFxuaCxhKSxlPVtcImNoaWxkcmVuXCIsXCJcIitoXSk6ZWEuaGFzT3duUHJvcGVydHkoZykmJm51bGwhPWgmJlwib25TY3JvbGxcIj09PWcmJkQoXCJzY3JvbGxcIixkKX1zd2l0Y2goYyl7Y2FzZSBcImlucHV0XCI6VmEoZCk7ZGIoZCxmLCEwKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjpWYShkKTtqYihkKTticmVhaztjYXNlIFwic2VsZWN0XCI6Y2FzZSBcIm9wdGlvblwiOmJyZWFrO2RlZmF1bHQ6XCJmdW5jdGlvblwiPT09dHlwZW9mIGYub25DbGljayYmKGQub25jbGljaz1CZil9ZD1lO2IudXBkYXRlUXVldWU9ZDtudWxsIT09ZCYmKGIuZmxhZ3N8PTQpfWVsc2V7Zz05PT09ZS5ub2RlVHlwZT9lOmUub3duZXJEb2N1bWVudDtcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIj09PWEmJihhPWtiKGMpKTtcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIj09PWE/XCJzY3JpcHRcIj09PWM/KGE9Zy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGEuaW5uZXJIVE1MPVwiPHNjcmlwdD5cXHgzYy9zY3JpcHQ+XCIsYT1hLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCkpOlxuXCJzdHJpbmdcIj09PXR5cGVvZiBkLmlzP2E9Zy5jcmVhdGVFbGVtZW50KGMse2lzOmQuaXN9KTooYT1nLmNyZWF0ZUVsZW1lbnQoYyksXCJzZWxlY3RcIj09PWMmJihnPWEsZC5tdWx0aXBsZT9nLm11bHRpcGxlPSEwOmQuc2l6ZSYmKGcuc2l6ZT1kLnNpemUpKSk6YT1nLmNyZWF0ZUVsZW1lbnROUyhhLGMpO2FbT2ZdPWI7YVtQZl09ZDt6aihhLGIsITEsITEpO2Iuc3RhdGVOb2RlPWE7YTp7Zz12YihjLGQpO3N3aXRjaChjKXtjYXNlIFwiZGlhbG9nXCI6RChcImNhbmNlbFwiLGEpO0QoXCJjbG9zZVwiLGEpO2U9ZDticmVhaztjYXNlIFwiaWZyYW1lXCI6Y2FzZSBcIm9iamVjdFwiOmNhc2UgXCJlbWJlZFwiOkQoXCJsb2FkXCIsYSk7ZT1kO2JyZWFrO2Nhc2UgXCJ2aWRlb1wiOmNhc2UgXCJhdWRpb1wiOmZvcihlPTA7ZTxsZi5sZW5ndGg7ZSsrKUQobGZbZV0sYSk7ZT1kO2JyZWFrO2Nhc2UgXCJzb3VyY2VcIjpEKFwiZXJyb3JcIixhKTtlPWQ7YnJlYWs7Y2FzZSBcImltZ1wiOmNhc2UgXCJpbWFnZVwiOmNhc2UgXCJsaW5rXCI6RChcImVycm9yXCIsXG5hKTtEKFwibG9hZFwiLGEpO2U9ZDticmVhaztjYXNlIFwiZGV0YWlsc1wiOkQoXCJ0b2dnbGVcIixhKTtlPWQ7YnJlYWs7Y2FzZSBcImlucHV0XCI6WmEoYSxkKTtlPVlhKGEsZCk7RChcImludmFsaWRcIixhKTticmVhaztjYXNlIFwib3B0aW9uXCI6ZT1kO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjphLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhZC5tdWx0aXBsZX07ZT1BKHt9LGQse3ZhbHVlOnZvaWQgMH0pO0QoXCJpbnZhbGlkXCIsYSk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6aGIoYSxkKTtlPWdiKGEsZCk7RChcImludmFsaWRcIixhKTticmVhaztkZWZhdWx0OmU9ZH11YihjLGUpO2g9ZTtmb3IoZiBpbiBoKWlmKGguaGFzT3duUHJvcGVydHkoZikpe3ZhciBrPWhbZl07XCJzdHlsZVwiPT09Zj9zYihhLGspOlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PWY/KGs9az9rLl9faHRtbDp2b2lkIDAsbnVsbCE9ayYmbmIoYSxrKSk6XCJjaGlsZHJlblwiPT09Zj9cInN0cmluZ1wiPT09dHlwZW9mIGs/KFwidGV4dGFyZWFcIiE9PVxuY3x8XCJcIiE9PWspJiZvYihhLGspOlwibnVtYmVyXCI9PT10eXBlb2YgayYmb2IoYSxcIlwiK2spOlwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCIhPT1mJiZcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiIT09ZiYmXCJhdXRvRm9jdXNcIiE9PWYmJihlYS5oYXNPd25Qcm9wZXJ0eShmKT9udWxsIT1rJiZcIm9uU2Nyb2xsXCI9PT1mJiZEKFwic2Nyb2xsXCIsYSk6bnVsbCE9ayYmdGEoYSxmLGssZykpfXN3aXRjaChjKXtjYXNlIFwiaW5wdXRcIjpWYShhKTtkYihhLGQsITEpO2JyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOlZhKGEpO2piKGEpO2JyZWFrO2Nhc2UgXCJvcHRpb25cIjpudWxsIT1kLnZhbHVlJiZhLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIitTYShkLnZhbHVlKSk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmEubXVsdGlwbGU9ISFkLm11bHRpcGxlO2Y9ZC52YWx1ZTtudWxsIT1mP2ZiKGEsISFkLm11bHRpcGxlLGYsITEpOm51bGwhPWQuZGVmYXVsdFZhbHVlJiZmYihhLCEhZC5tdWx0aXBsZSxkLmRlZmF1bHRWYWx1ZSxcbiEwKTticmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09PXR5cGVvZiBlLm9uQ2xpY2smJihhLm9uY2xpY2s9QmYpfXN3aXRjaChjKXtjYXNlIFwiYnV0dG9uXCI6Y2FzZSBcImlucHV0XCI6Y2FzZSBcInNlbGVjdFwiOmNhc2UgXCJ0ZXh0YXJlYVwiOmQ9ISFkLmF1dG9Gb2N1czticmVhayBhO2Nhc2UgXCJpbWdcIjpkPSEwO2JyZWFrIGE7ZGVmYXVsdDpkPSExfX1kJiYoYi5mbGFnc3w9NCl9bnVsbCE9PWIucmVmJiYoYi5mbGFnc3w9NTEyLGIuZmxhZ3N8PTIwOTcxNTIpfVMoYik7cmV0dXJuIG51bGw7Y2FzZSA2OmlmKGEmJm51bGwhPWIuc3RhdGVOb2RlKUNqKGEsYixhLm1lbW9pemVkUHJvcHMsZCk7ZWxzZXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGQmJm51bGw9PT1iLnN0YXRlTm9kZSl0aHJvdyBFcnJvcihwKDE2NikpO2M9eGgod2guY3VycmVudCk7eGgodWguY3VycmVudCk7aWYoR2coYikpe2Q9Yi5zdGF0ZU5vZGU7Yz1iLm1lbW9pemVkUHJvcHM7ZFtPZl09YjtpZihmPWQubm9kZVZhbHVlIT09YylpZihhPVxueGcsbnVsbCE9PWEpc3dpdGNoKGEudGFnKXtjYXNlIDM6QWYoZC5ub2RlVmFsdWUsYywwIT09KGEubW9kZSYxKSk7YnJlYWs7Y2FzZSA1OiEwIT09YS5tZW1vaXplZFByb3BzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZyYmQWYoZC5ub2RlVmFsdWUsYywwIT09KGEubW9kZSYxKSl9ZiYmKGIuZmxhZ3N8PTQpfWVsc2UgZD0oOT09PWMubm9kZVR5cGU/YzpjLm93bmVyRG9jdW1lbnQpLmNyZWF0ZVRleHROb2RlKGQpLGRbT2ZdPWIsYi5zdGF0ZU5vZGU9ZH1TKGIpO3JldHVybiBudWxsO2Nhc2UgMTM6RShMKTtkPWIubWVtb2l6ZWRTdGF0ZTtpZihudWxsPT09YXx8bnVsbCE9PWEubWVtb2l6ZWRTdGF0ZSYmbnVsbCE9PWEubWVtb2l6ZWRTdGF0ZS5kZWh5ZHJhdGVkKXtpZihJJiZudWxsIT09eWcmJjAhPT0oYi5tb2RlJjEpJiYwPT09KGIuZmxhZ3MmMTI4KSlIZygpLElnKCksYi5mbGFnc3w9OTg1NjAsZj0hMTtlbHNlIGlmKGY9R2coYiksbnVsbCE9PWQmJm51bGwhPT1kLmRlaHlkcmF0ZWQpe2lmKG51bGw9PT1cbmEpe2lmKCFmKXRocm93IEVycm9yKHAoMzE4KSk7Zj1iLm1lbW9pemVkU3RhdGU7Zj1udWxsIT09Zj9mLmRlaHlkcmF0ZWQ6bnVsbDtpZighZil0aHJvdyBFcnJvcihwKDMxNykpO2ZbT2ZdPWJ9ZWxzZSBJZygpLDA9PT0oYi5mbGFncyYxMjgpJiYoYi5tZW1vaXplZFN0YXRlPW51bGwpLGIuZmxhZ3N8PTQ7UyhiKTtmPSExfWVsc2UgbnVsbCE9PXpnJiYoRmooemcpLHpnPW51bGwpLGY9ITA7aWYoIWYpcmV0dXJuIGIuZmxhZ3MmNjU1MzY/YjpudWxsfWlmKDAhPT0oYi5mbGFncyYxMjgpKXJldHVybiBiLmxhbmVzPWMsYjtkPW51bGwhPT1kO2QhPT0obnVsbCE9PWEmJm51bGwhPT1hLm1lbW9pemVkU3RhdGUpJiZkJiYoYi5jaGlsZC5mbGFnc3w9ODE5MiwwIT09KGIubW9kZSYxKSYmKG51bGw9PT1hfHwwIT09KEwuY3VycmVudCYxKT8wPT09VCYmKFQ9Myk6dGooKSkpO251bGwhPT1iLnVwZGF0ZVF1ZXVlJiYoYi5mbGFnc3w9NCk7UyhiKTtyZXR1cm4gbnVsbDtjYXNlIDQ6cmV0dXJuIHpoKCksXG5BaihhLGIpLG51bGw9PT1hJiZzZihiLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKSxTKGIpLG51bGw7Y2FzZSAxMDpyZXR1cm4gYWgoYi50eXBlLl9jb250ZXh0KSxTKGIpLG51bGw7Y2FzZSAxNzpyZXR1cm4gWmYoYi50eXBlKSYmJGYoKSxTKGIpLG51bGw7Y2FzZSAxOTpFKEwpO2Y9Yi5tZW1vaXplZFN0YXRlO2lmKG51bGw9PT1mKXJldHVybiBTKGIpLG51bGw7ZD0wIT09KGIuZmxhZ3MmMTI4KTtnPWYucmVuZGVyaW5nO2lmKG51bGw9PT1nKWlmKGQpRGooZiwhMSk7ZWxzZXtpZigwIT09VHx8bnVsbCE9PWEmJjAhPT0oYS5mbGFncyYxMjgpKWZvcihhPWIuY2hpbGQ7bnVsbCE9PWE7KXtnPUNoKGEpO2lmKG51bGwhPT1nKXtiLmZsYWdzfD0xMjg7RGooZiwhMSk7ZD1nLnVwZGF0ZVF1ZXVlO251bGwhPT1kJiYoYi51cGRhdGVRdWV1ZT1kLGIuZmxhZ3N8PTQpO2Iuc3VidHJlZUZsYWdzPTA7ZD1jO2ZvcihjPWIuY2hpbGQ7bnVsbCE9PWM7KWY9YyxhPWQsZi5mbGFncyY9MTQ2ODAwNjYsXG5nPWYuYWx0ZXJuYXRlLG51bGw9PT1nPyhmLmNoaWxkTGFuZXM9MCxmLmxhbmVzPWEsZi5jaGlsZD1udWxsLGYuc3VidHJlZUZsYWdzPTAsZi5tZW1vaXplZFByb3BzPW51bGwsZi5tZW1vaXplZFN0YXRlPW51bGwsZi51cGRhdGVRdWV1ZT1udWxsLGYuZGVwZW5kZW5jaWVzPW51bGwsZi5zdGF0ZU5vZGU9bnVsbCk6KGYuY2hpbGRMYW5lcz1nLmNoaWxkTGFuZXMsZi5sYW5lcz1nLmxhbmVzLGYuY2hpbGQ9Zy5jaGlsZCxmLnN1YnRyZWVGbGFncz0wLGYuZGVsZXRpb25zPW51bGwsZi5tZW1vaXplZFByb3BzPWcubWVtb2l6ZWRQcm9wcyxmLm1lbW9pemVkU3RhdGU9Zy5tZW1vaXplZFN0YXRlLGYudXBkYXRlUXVldWU9Zy51cGRhdGVRdWV1ZSxmLnR5cGU9Zy50eXBlLGE9Zy5kZXBlbmRlbmNpZXMsZi5kZXBlbmRlbmNpZXM9bnVsbD09PWE/bnVsbDp7bGFuZXM6YS5sYW5lcyxmaXJzdENvbnRleHQ6YS5maXJzdENvbnRleHR9KSxjPWMuc2libGluZztHKEwsTC5jdXJyZW50JjF8Mik7cmV0dXJuIGIuY2hpbGR9YT1cbmEuc2libGluZ31udWxsIT09Zi50YWlsJiZCKCk+R2omJihiLmZsYWdzfD0xMjgsZD0hMCxEaihmLCExKSxiLmxhbmVzPTQxOTQzMDQpfWVsc2V7aWYoIWQpaWYoYT1DaChnKSxudWxsIT09YSl7aWYoYi5mbGFnc3w9MTI4LGQ9ITAsYz1hLnVwZGF0ZVF1ZXVlLG51bGwhPT1jJiYoYi51cGRhdGVRdWV1ZT1jLGIuZmxhZ3N8PTQpLERqKGYsITApLG51bGw9PT1mLnRhaWwmJlwiaGlkZGVuXCI9PT1mLnRhaWxNb2RlJiYhZy5hbHRlcm5hdGUmJiFJKXJldHVybiBTKGIpLG51bGx9ZWxzZSAyKkIoKS1mLnJlbmRlcmluZ1N0YXJ0VGltZT5HaiYmMTA3Mzc0MTgyNCE9PWMmJihiLmZsYWdzfD0xMjgsZD0hMCxEaihmLCExKSxiLmxhbmVzPTQxOTQzMDQpO2YuaXNCYWNrd2FyZHM/KGcuc2libGluZz1iLmNoaWxkLGIuY2hpbGQ9Zyk6KGM9Zi5sYXN0LG51bGwhPT1jP2Muc2libGluZz1nOmIuY2hpbGQ9ZyxmLmxhc3Q9Zyl9aWYobnVsbCE9PWYudGFpbClyZXR1cm4gYj1mLnRhaWwsZi5yZW5kZXJpbmc9XG5iLGYudGFpbD1iLnNpYmxpbmcsZi5yZW5kZXJpbmdTdGFydFRpbWU9QigpLGIuc2libGluZz1udWxsLGM9TC5jdXJyZW50LEcoTCxkP2MmMXwyOmMmMSksYjtTKGIpO3JldHVybiBudWxsO2Nhc2UgMjI6Y2FzZSAyMzpyZXR1cm4gSGooKSxkPW51bGwhPT1iLm1lbW9pemVkU3RhdGUsbnVsbCE9PWEmJm51bGwhPT1hLm1lbW9pemVkU3RhdGUhPT1kJiYoYi5mbGFnc3w9ODE5MiksZCYmMCE9PShiLm1vZGUmMSk/MCE9PShmaiYxMDczNzQxODI0KSYmKFMoYiksYi5zdWJ0cmVlRmxhZ3MmNiYmKGIuZmxhZ3N8PTgxOTIpKTpTKGIpLG51bGw7Y2FzZSAyNDpyZXR1cm4gbnVsbDtjYXNlIDI1OnJldHVybiBudWxsfXRocm93IEVycm9yKHAoMTU2LGIudGFnKSk7fVxuZnVuY3Rpb24gSWooYSxiKXt3ZyhiKTtzd2l0Y2goYi50YWcpe2Nhc2UgMTpyZXR1cm4gWmYoYi50eXBlKSYmJGYoKSxhPWIuZmxhZ3MsYSY2NTUzNj8oYi5mbGFncz1hJi02NTUzN3wxMjgsYik6bnVsbDtjYXNlIDM6cmV0dXJuIHpoKCksRShXZiksRShIKSxFaCgpLGE9Yi5mbGFncywwIT09KGEmNjU1MzYpJiYwPT09KGEmMTI4KT8oYi5mbGFncz1hJi02NTUzN3wxMjgsYik6bnVsbDtjYXNlIDU6cmV0dXJuIEJoKGIpLG51bGw7Y2FzZSAxMzpFKEwpO2E9Yi5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1hJiZudWxsIT09YS5kZWh5ZHJhdGVkKXtpZihudWxsPT09Yi5hbHRlcm5hdGUpdGhyb3cgRXJyb3IocCgzNDApKTtJZygpfWE9Yi5mbGFncztyZXR1cm4gYSY2NTUzNj8oYi5mbGFncz1hJi02NTUzN3wxMjgsYik6bnVsbDtjYXNlIDE5OnJldHVybiBFKEwpLG51bGw7Y2FzZSA0OnJldHVybiB6aCgpLG51bGw7Y2FzZSAxMDpyZXR1cm4gYWgoYi50eXBlLl9jb250ZXh0KSxudWxsO2Nhc2UgMjI6Y2FzZSAyMzpyZXR1cm4gSGooKSxcbm51bGw7Y2FzZSAyNDpyZXR1cm4gbnVsbDtkZWZhdWx0OnJldHVybiBudWxsfX12YXIgSmo9ITEsVT0hMSxLaj1cImZ1bmN0aW9uXCI9PT10eXBlb2YgV2Vha1NldD9XZWFrU2V0OlNldCxWPW51bGw7ZnVuY3Rpb24gTGooYSxiKXt2YXIgYz1hLnJlZjtpZihudWxsIT09YylpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYyl0cnl7YyhudWxsKX1jYXRjaChkKXtXKGEsYixkKX1lbHNlIGMuY3VycmVudD1udWxsfWZ1bmN0aW9uIE1qKGEsYixjKXt0cnl7YygpfWNhdGNoKGQpe1coYSxiLGQpfX12YXIgTmo9ITE7XG5mdW5jdGlvbiBPaihhLGIpe0NmPWRkO2E9TWUoKTtpZihOZShhKSl7aWYoXCJzZWxlY3Rpb25TdGFydFwiaW4gYSl2YXIgYz17c3RhcnQ6YS5zZWxlY3Rpb25TdGFydCxlbmQ6YS5zZWxlY3Rpb25FbmR9O2Vsc2UgYTp7Yz0oYz1hLm93bmVyRG9jdW1lbnQpJiZjLmRlZmF1bHRWaWV3fHx3aW5kb3c7dmFyIGQ9Yy5nZXRTZWxlY3Rpb24mJmMuZ2V0U2VsZWN0aW9uKCk7aWYoZCYmMCE9PWQucmFuZ2VDb3VudCl7Yz1kLmFuY2hvck5vZGU7dmFyIGU9ZC5hbmNob3JPZmZzZXQsZj1kLmZvY3VzTm9kZTtkPWQuZm9jdXNPZmZzZXQ7dHJ5e2Mubm9kZVR5cGUsZi5ub2RlVHlwZX1jYXRjaChGKXtjPW51bGw7YnJlYWsgYX12YXIgZz0wLGg9LTEsaz0tMSxsPTAsbT0wLHE9YSxyPW51bGw7Yjpmb3IoOzspe2Zvcih2YXIgeTs7KXtxIT09Y3x8MCE9PWUmJjMhPT1xLm5vZGVUeXBlfHwoaD1nK2UpO3EhPT1mfHwwIT09ZCYmMyE9PXEubm9kZVR5cGV8fChrPWcrZCk7Mz09PXEubm9kZVR5cGUmJihnKz1cbnEubm9kZVZhbHVlLmxlbmd0aCk7aWYobnVsbD09PSh5PXEuZmlyc3RDaGlsZCkpYnJlYWs7cj1xO3E9eX1mb3IoOzspe2lmKHE9PT1hKWJyZWFrIGI7cj09PWMmJisrbD09PWUmJihoPWcpO3I9PT1mJiYrK209PT1kJiYoaz1nKTtpZihudWxsIT09KHk9cS5uZXh0U2libGluZykpYnJlYWs7cT1yO3I9cS5wYXJlbnROb2RlfXE9eX1jPS0xPT09aHx8LTE9PT1rP251bGw6e3N0YXJ0OmgsZW5kOmt9fWVsc2UgYz1udWxsfWM9Y3x8e3N0YXJ0OjAsZW5kOjB9fWVsc2UgYz1udWxsO0RmPXtmb2N1c2VkRWxlbTphLHNlbGVjdGlvblJhbmdlOmN9O2RkPSExO2ZvcihWPWI7bnVsbCE9PVY7KWlmKGI9VixhPWIuY2hpbGQsMCE9PShiLnN1YnRyZWVGbGFncyYxMDI4KSYmbnVsbCE9PWEpYS5yZXR1cm49YixWPWE7ZWxzZSBmb3IoO251bGwhPT1WOyl7Yj1WO3RyeXt2YXIgbj1iLmFsdGVybmF0ZTtpZigwIT09KGIuZmxhZ3MmMTAyNCkpc3dpdGNoKGIudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OmJyZWFrO1xuY2FzZSAxOmlmKG51bGwhPT1uKXt2YXIgdD1uLm1lbW9pemVkUHJvcHMsSj1uLm1lbW9pemVkU3RhdGUseD1iLnN0YXRlTm9kZSx3PXguZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoYi5lbGVtZW50VHlwZT09PWIudHlwZT90OkNpKGIudHlwZSx0KSxKKTt4Ll9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlPXd9YnJlYWs7Y2FzZSAzOnZhciB1PWIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87MT09PXUubm9kZVR5cGU/dS50ZXh0Q29udGVudD1cIlwiOjk9PT11Lm5vZGVUeXBlJiZ1LmRvY3VtZW50RWxlbWVudCYmdS5yZW1vdmVDaGlsZCh1LmRvY3VtZW50RWxlbWVudCk7YnJlYWs7Y2FzZSA1OmNhc2UgNjpjYXNlIDQ6Y2FzZSAxNzpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKHAoMTYzKSk7fX1jYXRjaChGKXtXKGIsYi5yZXR1cm4sRil9YT1iLnNpYmxpbmc7aWYobnVsbCE9PWEpe2EucmV0dXJuPWIucmV0dXJuO1Y9YTticmVha31WPWIucmV0dXJufW49Tmo7Tmo9ITE7cmV0dXJuIG59XG5mdW5jdGlvbiBQaihhLGIsYyl7dmFyIGQ9Yi51cGRhdGVRdWV1ZTtkPW51bGwhPT1kP2QubGFzdEVmZmVjdDpudWxsO2lmKG51bGwhPT1kKXt2YXIgZT1kPWQubmV4dDtkb3tpZigoZS50YWcmYSk9PT1hKXt2YXIgZj1lLmRlc3Ryb3k7ZS5kZXN0cm95PXZvaWQgMDt2b2lkIDAhPT1mJiZNaihiLGMsZil9ZT1lLm5leHR9d2hpbGUoZSE9PWQpfX1mdW5jdGlvbiBRaihhLGIpe2I9Yi51cGRhdGVRdWV1ZTtiPW51bGwhPT1iP2IubGFzdEVmZmVjdDpudWxsO2lmKG51bGwhPT1iKXt2YXIgYz1iPWIubmV4dDtkb3tpZigoYy50YWcmYSk9PT1hKXt2YXIgZD1jLmNyZWF0ZTtjLmRlc3Ryb3k9ZCgpfWM9Yy5uZXh0fXdoaWxlKGMhPT1iKX19ZnVuY3Rpb24gUmooYSl7dmFyIGI9YS5yZWY7aWYobnVsbCE9PWIpe3ZhciBjPWEuc3RhdGVOb2RlO3N3aXRjaChhLnRhZyl7Y2FzZSA1OmE9YzticmVhaztkZWZhdWx0OmE9Y31cImZ1bmN0aW9uXCI9PT10eXBlb2YgYj9iKGEpOmIuY3VycmVudD1hfX1cbmZ1bmN0aW9uIFNqKGEpe3ZhciBiPWEuYWx0ZXJuYXRlO251bGwhPT1iJiYoYS5hbHRlcm5hdGU9bnVsbCxTaihiKSk7YS5jaGlsZD1udWxsO2EuZGVsZXRpb25zPW51bGw7YS5zaWJsaW5nPW51bGw7NT09PWEudGFnJiYoYj1hLnN0YXRlTm9kZSxudWxsIT09YiYmKGRlbGV0ZSBiW09mXSxkZWxldGUgYltQZl0sZGVsZXRlIGJbb2ZdLGRlbGV0ZSBiW1FmXSxkZWxldGUgYltSZl0pKTthLnN0YXRlTm9kZT1udWxsO2EucmV0dXJuPW51bGw7YS5kZXBlbmRlbmNpZXM9bnVsbDthLm1lbW9pemVkUHJvcHM9bnVsbDthLm1lbW9pemVkU3RhdGU9bnVsbDthLnBlbmRpbmdQcm9wcz1udWxsO2Euc3RhdGVOb2RlPW51bGw7YS51cGRhdGVRdWV1ZT1udWxsfWZ1bmN0aW9uIFRqKGEpe3JldHVybiA1PT09YS50YWd8fDM9PT1hLnRhZ3x8ND09PWEudGFnfVxuZnVuY3Rpb24gVWooYSl7YTpmb3IoOzspe2Zvcig7bnVsbD09PWEuc2libGluZzspe2lmKG51bGw9PT1hLnJldHVybnx8VGooYS5yZXR1cm4pKXJldHVybiBudWxsO2E9YS5yZXR1cm59YS5zaWJsaW5nLnJldHVybj1hLnJldHVybjtmb3IoYT1hLnNpYmxpbmc7NSE9PWEudGFnJiY2IT09YS50YWcmJjE4IT09YS50YWc7KXtpZihhLmZsYWdzJjIpY29udGludWUgYTtpZihudWxsPT09YS5jaGlsZHx8ND09PWEudGFnKWNvbnRpbnVlIGE7ZWxzZSBhLmNoaWxkLnJldHVybj1hLGE9YS5jaGlsZH1pZighKGEuZmxhZ3MmMikpcmV0dXJuIGEuc3RhdGVOb2RlfX1cbmZ1bmN0aW9uIFZqKGEsYixjKXt2YXIgZD1hLnRhZztpZig1PT09ZHx8Nj09PWQpYT1hLnN0YXRlTm9kZSxiPzg9PT1jLm5vZGVUeXBlP2MucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxiKTpjLmluc2VydEJlZm9yZShhLGIpOig4PT09Yy5ub2RlVHlwZT8oYj1jLnBhcmVudE5vZGUsYi5pbnNlcnRCZWZvcmUoYSxjKSk6KGI9YyxiLmFwcGVuZENoaWxkKGEpKSxjPWMuX3JlYWN0Um9vdENvbnRhaW5lcixudWxsIT09YyYmdm9pZCAwIT09Y3x8bnVsbCE9PWIub25jbGlja3x8KGIub25jbGljaz1CZikpO2Vsc2UgaWYoNCE9PWQmJihhPWEuY2hpbGQsbnVsbCE9PWEpKWZvcihWaihhLGIsYyksYT1hLnNpYmxpbmc7bnVsbCE9PWE7KVZqKGEsYixjKSxhPWEuc2libGluZ31cbmZ1bmN0aW9uIFdqKGEsYixjKXt2YXIgZD1hLnRhZztpZig1PT09ZHx8Nj09PWQpYT1hLnN0YXRlTm9kZSxiP2MuaW5zZXJ0QmVmb3JlKGEsYik6Yy5hcHBlbmRDaGlsZChhKTtlbHNlIGlmKDQhPT1kJiYoYT1hLmNoaWxkLG51bGwhPT1hKSlmb3IoV2ooYSxiLGMpLGE9YS5zaWJsaW5nO251bGwhPT1hOylXaihhLGIsYyksYT1hLnNpYmxpbmd9dmFyIFg9bnVsbCxYaj0hMTtmdW5jdGlvbiBZaihhLGIsYyl7Zm9yKGM9Yy5jaGlsZDtudWxsIT09YzspWmooYSxiLGMpLGM9Yy5zaWJsaW5nfVxuZnVuY3Rpb24gWmooYSxiLGMpe2lmKGxjJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgbGMub25Db21taXRGaWJlclVubW91bnQpdHJ5e2xjLm9uQ29tbWl0RmliZXJVbm1vdW50KGtjLGMpfWNhdGNoKGgpe31zd2l0Y2goYy50YWcpe2Nhc2UgNTpVfHxMaihjLGIpO2Nhc2UgNjp2YXIgZD1YLGU9WGo7WD1udWxsO1lqKGEsYixjKTtYPWQ7WGo9ZTtudWxsIT09WCYmKFhqPyhhPVgsYz1jLnN0YXRlTm9kZSw4PT09YS5ub2RlVHlwZT9hLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyk6YS5yZW1vdmVDaGlsZChjKSk6WC5yZW1vdmVDaGlsZChjLnN0YXRlTm9kZSkpO2JyZWFrO2Nhc2UgMTg6bnVsbCE9PVgmJihYaj8oYT1YLGM9Yy5zdGF0ZU5vZGUsOD09PWEubm9kZVR5cGU/S2YoYS5wYXJlbnROb2RlLGMpOjE9PT1hLm5vZGVUeXBlJiZLZihhLGMpLGJkKGEpKTpLZihYLGMuc3RhdGVOb2RlKSk7YnJlYWs7Y2FzZSA0OmQ9WDtlPVhqO1g9Yy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztYaj0hMDtcbllqKGEsYixjKTtYPWQ7WGo9ZTticmVhaztjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6aWYoIVUmJihkPWMudXBkYXRlUXVldWUsbnVsbCE9PWQmJihkPWQubGFzdEVmZmVjdCxudWxsIT09ZCkpKXtlPWQ9ZC5uZXh0O2Rve3ZhciBmPWUsZz1mLmRlc3Ryb3k7Zj1mLnRhZzt2b2lkIDAhPT1nJiYoMCE9PShmJjIpP01qKGMsYixnKTowIT09KGYmNCkmJk1qKGMsYixnKSk7ZT1lLm5leHR9d2hpbGUoZSE9PWQpfVlqKGEsYixjKTticmVhaztjYXNlIDE6aWYoIVUmJihMaihjLGIpLGQ9Yy5zdGF0ZU5vZGUsXCJmdW5jdGlvblwiPT09dHlwZW9mIGQuY29tcG9uZW50V2lsbFVubW91bnQpKXRyeXtkLnByb3BzPWMubWVtb2l6ZWRQcm9wcyxkLnN0YXRlPWMubWVtb2l6ZWRTdGF0ZSxkLmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2goaCl7VyhjLGIsaCl9WWooYSxiLGMpO2JyZWFrO2Nhc2UgMjE6WWooYSxiLGMpO2JyZWFrO2Nhc2UgMjI6Yy5tb2RlJjE/KFU9KGQ9VSl8fG51bGwhPT1cbmMubWVtb2l6ZWRTdGF0ZSxZaihhLGIsYyksVT1kKTpZaihhLGIsYyk7YnJlYWs7ZGVmYXVsdDpZaihhLGIsYyl9fWZ1bmN0aW9uIGFrKGEpe3ZhciBiPWEudXBkYXRlUXVldWU7aWYobnVsbCE9PWIpe2EudXBkYXRlUXVldWU9bnVsbDt2YXIgYz1hLnN0YXRlTm9kZTtudWxsPT09YyYmKGM9YS5zdGF0ZU5vZGU9bmV3IEtqKTtiLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGQ9YmsuYmluZChudWxsLGEsYik7Yy5oYXMoYil8fChjLmFkZChiKSxiLnRoZW4oZCxkKSl9KX19XG5mdW5jdGlvbiBjayhhLGIpe3ZhciBjPWIuZGVsZXRpb25zO2lmKG51bGwhPT1jKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO3RyeXt2YXIgZj1hLGc9YixoPWc7YTpmb3IoO251bGwhPT1oOyl7c3dpdGNoKGgudGFnKXtjYXNlIDU6WD1oLnN0YXRlTm9kZTtYaj0hMTticmVhayBhO2Nhc2UgMzpYPWguc3RhdGVOb2RlLmNvbnRhaW5lckluZm87WGo9ITA7YnJlYWsgYTtjYXNlIDQ6WD1oLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1hqPSEwO2JyZWFrIGF9aD1oLnJldHVybn1pZihudWxsPT09WCl0aHJvdyBFcnJvcihwKDE2MCkpO1pqKGYsZyxlKTtYPW51bGw7WGo9ITE7dmFyIGs9ZS5hbHRlcm5hdGU7bnVsbCE9PWsmJihrLnJldHVybj1udWxsKTtlLnJldHVybj1udWxsfWNhdGNoKGwpe1coZSxiLGwpfX1pZihiLnN1YnRyZWVGbGFncyYxMjg1NClmb3IoYj1iLmNoaWxkO251bGwhPT1iOylkayhiLGEpLGI9Yi5zaWJsaW5nfVxuZnVuY3Rpb24gZGsoYSxiKXt2YXIgYz1hLmFsdGVybmF0ZSxkPWEuZmxhZ3M7c3dpdGNoKGEudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6Y2soYixhKTtlayhhKTtpZihkJjQpe3RyeXtQaigzLGEsYS5yZXR1cm4pLFFqKDMsYSl9Y2F0Y2godCl7VyhhLGEucmV0dXJuLHQpfXRyeXtQaig1LGEsYS5yZXR1cm4pfWNhdGNoKHQpe1coYSxhLnJldHVybix0KX19YnJlYWs7Y2FzZSAxOmNrKGIsYSk7ZWsoYSk7ZCY1MTImJm51bGwhPT1jJiZMaihjLGMucmV0dXJuKTticmVhaztjYXNlIDU6Y2soYixhKTtlayhhKTtkJjUxMiYmbnVsbCE9PWMmJkxqKGMsYy5yZXR1cm4pO2lmKGEuZmxhZ3MmMzIpe3ZhciBlPWEuc3RhdGVOb2RlO3RyeXtvYihlLFwiXCIpfWNhdGNoKHQpe1coYSxhLnJldHVybix0KX19aWYoZCY0JiYoZT1hLnN0YXRlTm9kZSxudWxsIT1lKSl7dmFyIGY9YS5tZW1vaXplZFByb3BzLGc9bnVsbCE9PWM/Yy5tZW1vaXplZFByb3BzOmYsaD1hLnR5cGUsaz1hLnVwZGF0ZVF1ZXVlO1xuYS51cGRhdGVRdWV1ZT1udWxsO2lmKG51bGwhPT1rKXRyeXtcImlucHV0XCI9PT1oJiZcInJhZGlvXCI9PT1mLnR5cGUmJm51bGwhPWYubmFtZSYmYWIoZSxmKTt2YihoLGcpO3ZhciBsPXZiKGgsZik7Zm9yKGc9MDtnPGsubGVuZ3RoO2crPTIpe3ZhciBtPWtbZ10scT1rW2crMV07XCJzdHlsZVwiPT09bT9zYihlLHEpOlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PW0/bmIoZSxxKTpcImNoaWxkcmVuXCI9PT1tP29iKGUscSk6dGEoZSxtLHEsbCl9c3dpdGNoKGgpe2Nhc2UgXCJpbnB1dFwiOmJiKGUsZik7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6aWIoZSxmKTticmVhaztjYXNlIFwic2VsZWN0XCI6dmFyIHI9ZS5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlO2UuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZT0hIWYubXVsdGlwbGU7dmFyIHk9Zi52YWx1ZTtudWxsIT15P2ZiKGUsISFmLm11bHRpcGxlLHksITEpOnIhPT0hIWYubXVsdGlwbGUmJihudWxsIT1mLmRlZmF1bHRWYWx1ZT9mYihlLCEhZi5tdWx0aXBsZSxcbmYuZGVmYXVsdFZhbHVlLCEwKTpmYihlLCEhZi5tdWx0aXBsZSxmLm11bHRpcGxlP1tdOlwiXCIsITEpKX1lW1BmXT1mfWNhdGNoKHQpe1coYSxhLnJldHVybix0KX19YnJlYWs7Y2FzZSA2OmNrKGIsYSk7ZWsoYSk7aWYoZCY0KXtpZihudWxsPT09YS5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IocCgxNjIpKTtlPWEuc3RhdGVOb2RlO2Y9YS5tZW1vaXplZFByb3BzO3RyeXtlLm5vZGVWYWx1ZT1mfWNhdGNoKHQpe1coYSxhLnJldHVybix0KX19YnJlYWs7Y2FzZSAzOmNrKGIsYSk7ZWsoYSk7aWYoZCY0JiZudWxsIT09YyYmYy5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCl0cnl7YmQoYi5jb250YWluZXJJbmZvKX1jYXRjaCh0KXtXKGEsYS5yZXR1cm4sdCl9YnJlYWs7Y2FzZSA0OmNrKGIsYSk7ZWsoYSk7YnJlYWs7Y2FzZSAxMzpjayhiLGEpO2VrKGEpO2U9YS5jaGlsZDtlLmZsYWdzJjgxOTImJihmPW51bGwhPT1lLm1lbW9pemVkU3RhdGUsZS5zdGF0ZU5vZGUuaXNIaWRkZW49ZiwhZnx8XG5udWxsIT09ZS5hbHRlcm5hdGUmJm51bGwhPT1lLmFsdGVybmF0ZS5tZW1vaXplZFN0YXRlfHwoZms9QigpKSk7ZCY0JiZhayhhKTticmVhaztjYXNlIDIyOm09bnVsbCE9PWMmJm51bGwhPT1jLm1lbW9pemVkU3RhdGU7YS5tb2RlJjE/KFU9KGw9VSl8fG0sY2soYixhKSxVPWwpOmNrKGIsYSk7ZWsoYSk7aWYoZCY4MTkyKXtsPW51bGwhPT1hLm1lbW9pemVkU3RhdGU7aWYoKGEuc3RhdGVOb2RlLmlzSGlkZGVuPWwpJiYhbSYmMCE9PShhLm1vZGUmMSkpZm9yKFY9YSxtPWEuY2hpbGQ7bnVsbCE9PW07KXtmb3IocT1WPW07bnVsbCE9PVY7KXtyPVY7eT1yLmNoaWxkO3N3aXRjaChyLnRhZyl7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNDpjYXNlIDE1OlBqKDQscixyLnJldHVybik7YnJlYWs7Y2FzZSAxOkxqKHIsci5yZXR1cm4pO3ZhciBuPXIuc3RhdGVOb2RlO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBuLmNvbXBvbmVudFdpbGxVbm1vdW50KXtkPXI7Yz1yLnJldHVybjt0cnl7Yj1kLG4ucHJvcHM9XG5iLm1lbW9pemVkUHJvcHMsbi5zdGF0ZT1iLm1lbW9pemVkU3RhdGUsbi5jb21wb25lbnRXaWxsVW5tb3VudCgpfWNhdGNoKHQpe1coZCxjLHQpfX1icmVhaztjYXNlIDU6TGoocixyLnJldHVybik7YnJlYWs7Y2FzZSAyMjppZihudWxsIT09ci5tZW1vaXplZFN0YXRlKXtnayhxKTtjb250aW51ZX19bnVsbCE9PXk/KHkucmV0dXJuPXIsVj15KTpnayhxKX1tPW0uc2libGluZ31hOmZvcihtPW51bGwscT1hOzspe2lmKDU9PT1xLnRhZyl7aWYobnVsbD09PW0pe209cTt0cnl7ZT1xLnN0YXRlTm9kZSxsPyhmPWUuc3R5bGUsXCJmdW5jdGlvblwiPT09dHlwZW9mIGYuc2V0UHJvcGVydHk/Zi5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcIm5vbmVcIixcImltcG9ydGFudFwiKTpmLmRpc3BsYXk9XCJub25lXCIpOihoPXEuc3RhdGVOb2RlLGs9cS5tZW1vaXplZFByb3BzLnN0eWxlLGc9dm9pZCAwIT09ayYmbnVsbCE9PWsmJmsuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5XCIpP2suZGlzcGxheTpudWxsLGguc3R5bGUuZGlzcGxheT1cbnJiKFwiZGlzcGxheVwiLGcpKX1jYXRjaCh0KXtXKGEsYS5yZXR1cm4sdCl9fX1lbHNlIGlmKDY9PT1xLnRhZyl7aWYobnVsbD09PW0pdHJ5e3Euc3RhdGVOb2RlLm5vZGVWYWx1ZT1sP1wiXCI6cS5tZW1vaXplZFByb3BzfWNhdGNoKHQpe1coYSxhLnJldHVybix0KX19ZWxzZSBpZigoMjIhPT1xLnRhZyYmMjMhPT1xLnRhZ3x8bnVsbD09PXEubWVtb2l6ZWRTdGF0ZXx8cT09PWEpJiZudWxsIT09cS5jaGlsZCl7cS5jaGlsZC5yZXR1cm49cTtxPXEuY2hpbGQ7Y29udGludWV9aWYocT09PWEpYnJlYWsgYTtmb3IoO251bGw9PT1xLnNpYmxpbmc7KXtpZihudWxsPT09cS5yZXR1cm58fHEucmV0dXJuPT09YSlicmVhayBhO209PT1xJiYobT1udWxsKTtxPXEucmV0dXJufW09PT1xJiYobT1udWxsKTtxLnNpYmxpbmcucmV0dXJuPXEucmV0dXJuO3E9cS5zaWJsaW5nfX1icmVhaztjYXNlIDE5OmNrKGIsYSk7ZWsoYSk7ZCY0JiZhayhhKTticmVhaztjYXNlIDIxOmJyZWFrO2RlZmF1bHQ6Y2soYixcbmEpLGVrKGEpfX1mdW5jdGlvbiBlayhhKXt2YXIgYj1hLmZsYWdzO2lmKGImMil7dHJ5e2E6e2Zvcih2YXIgYz1hLnJldHVybjtudWxsIT09Yzspe2lmKFRqKGMpKXt2YXIgZD1jO2JyZWFrIGF9Yz1jLnJldHVybn10aHJvdyBFcnJvcihwKDE2MCkpO31zd2l0Y2goZC50YWcpe2Nhc2UgNTp2YXIgZT1kLnN0YXRlTm9kZTtkLmZsYWdzJjMyJiYob2IoZSxcIlwiKSxkLmZsYWdzJj0tMzMpO3ZhciBmPVVqKGEpO1dqKGEsZixlKTticmVhaztjYXNlIDM6Y2FzZSA0OnZhciBnPWQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8saD1VaihhKTtWaihhLGgsZyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihwKDE2MSkpO319Y2F0Y2goayl7VyhhLGEucmV0dXJuLGspfWEuZmxhZ3MmPS0zfWImNDA5NiYmKGEuZmxhZ3MmPS00MDk3KX1mdW5jdGlvbiBoayhhLGIsYyl7Vj1hO2lrKGEsYixjKX1cbmZ1bmN0aW9uIGlrKGEsYixjKXtmb3IodmFyIGQ9MCE9PShhLm1vZGUmMSk7bnVsbCE9PVY7KXt2YXIgZT1WLGY9ZS5jaGlsZDtpZigyMj09PWUudGFnJiZkKXt2YXIgZz1udWxsIT09ZS5tZW1vaXplZFN0YXRlfHxKajtpZighZyl7dmFyIGg9ZS5hbHRlcm5hdGUsaz1udWxsIT09aCYmbnVsbCE9PWgubWVtb2l6ZWRTdGF0ZXx8VTtoPUpqO3ZhciBsPVU7Smo9ZztpZigoVT1rKSYmIWwpZm9yKFY9ZTtudWxsIT09VjspZz1WLGs9Zy5jaGlsZCwyMj09PWcudGFnJiZudWxsIT09Zy5tZW1vaXplZFN0YXRlP2prKGUpOm51bGwhPT1rPyhrLnJldHVybj1nLFY9ayk6amsoZSk7Zm9yKDtudWxsIT09ZjspVj1mLGlrKGYsYixjKSxmPWYuc2libGluZztWPWU7Smo9aDtVPWx9a2soYSxiLGMpfWVsc2UgMCE9PShlLnN1YnRyZWVGbGFncyY4NzcyKSYmbnVsbCE9PWY/KGYucmV0dXJuPWUsVj1mKTprayhhLGIsYyl9fVxuZnVuY3Rpb24ga2soYSl7Zm9yKDtudWxsIT09Vjspe3ZhciBiPVY7aWYoMCE9PShiLmZsYWdzJjg3NzIpKXt2YXIgYz1iLmFsdGVybmF0ZTt0cnl7aWYoMCE9PShiLmZsYWdzJjg3NzIpKXN3aXRjaChiLnRhZyl7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNTpVfHxRaig1LGIpO2JyZWFrO2Nhc2UgMTp2YXIgZD1iLnN0YXRlTm9kZTtpZihiLmZsYWdzJjQmJiFVKWlmKG51bGw9PT1jKWQuY29tcG9uZW50RGlkTW91bnQoKTtlbHNle3ZhciBlPWIuZWxlbWVudFR5cGU9PT1iLnR5cGU/Yy5tZW1vaXplZFByb3BzOkNpKGIudHlwZSxjLm1lbW9pemVkUHJvcHMpO2QuY29tcG9uZW50RGlkVXBkYXRlKGUsYy5tZW1vaXplZFN0YXRlLGQuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUpfXZhciBmPWIudXBkYXRlUXVldWU7bnVsbCE9PWYmJnNoKGIsZixkKTticmVhaztjYXNlIDM6dmFyIGc9Yi51cGRhdGVRdWV1ZTtpZihudWxsIT09Zyl7Yz1udWxsO2lmKG51bGwhPT1iLmNoaWxkKXN3aXRjaChiLmNoaWxkLnRhZyl7Y2FzZSA1OmM9XG5iLmNoaWxkLnN0YXRlTm9kZTticmVhaztjYXNlIDE6Yz1iLmNoaWxkLnN0YXRlTm9kZX1zaChiLGcsYyl9YnJlYWs7Y2FzZSA1OnZhciBoPWIuc3RhdGVOb2RlO2lmKG51bGw9PT1jJiZiLmZsYWdzJjQpe2M9aDt2YXIgaz1iLm1lbW9pemVkUHJvcHM7c3dpdGNoKGIudHlwZSl7Y2FzZSBcImJ1dHRvblwiOmNhc2UgXCJpbnB1dFwiOmNhc2UgXCJzZWxlY3RcIjpjYXNlIFwidGV4dGFyZWFcIjprLmF1dG9Gb2N1cyYmYy5mb2N1cygpO2JyZWFrO2Nhc2UgXCJpbWdcIjprLnNyYyYmKGMuc3JjPWsuc3JjKX19YnJlYWs7Y2FzZSA2OmJyZWFrO2Nhc2UgNDpicmVhaztjYXNlIDEyOmJyZWFrO2Nhc2UgMTM6aWYobnVsbD09PWIubWVtb2l6ZWRTdGF0ZSl7dmFyIGw9Yi5hbHRlcm5hdGU7aWYobnVsbCE9PWwpe3ZhciBtPWwubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09bSl7dmFyIHE9bS5kZWh5ZHJhdGVkO251bGwhPT1xJiZiZChxKX19fWJyZWFrO2Nhc2UgMTk6Y2FzZSAxNzpjYXNlIDIxOmNhc2UgMjI6Y2FzZSAyMzpjYXNlIDI1OmJyZWFrO1xuZGVmYXVsdDp0aHJvdyBFcnJvcihwKDE2MykpO31VfHxiLmZsYWdzJjUxMiYmUmooYil9Y2F0Y2gocil7VyhiLGIucmV0dXJuLHIpfX1pZihiPT09YSl7Vj1udWxsO2JyZWFrfWM9Yi5zaWJsaW5nO2lmKG51bGwhPT1jKXtjLnJldHVybj1iLnJldHVybjtWPWM7YnJlYWt9Vj1iLnJldHVybn19ZnVuY3Rpb24gZ2soYSl7Zm9yKDtudWxsIT09Vjspe3ZhciBiPVY7aWYoYj09PWEpe1Y9bnVsbDticmVha312YXIgYz1iLnNpYmxpbmc7aWYobnVsbCE9PWMpe2MucmV0dXJuPWIucmV0dXJuO1Y9YzticmVha31WPWIucmV0dXJufX1cbmZ1bmN0aW9uIGprKGEpe2Zvcig7bnVsbCE9PVY7KXt2YXIgYj1WO3RyeXtzd2l0Y2goYi50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6dmFyIGM9Yi5yZXR1cm47dHJ5e1FqKDQsYil9Y2F0Y2goayl7VyhiLGMsayl9YnJlYWs7Y2FzZSAxOnZhciBkPWIuc3RhdGVOb2RlO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmNvbXBvbmVudERpZE1vdW50KXt2YXIgZT1iLnJldHVybjt0cnl7ZC5jb21wb25lbnREaWRNb3VudCgpfWNhdGNoKGspe1coYixlLGspfX12YXIgZj1iLnJldHVybjt0cnl7UmooYil9Y2F0Y2goayl7VyhiLGYsayl9YnJlYWs7Y2FzZSA1OnZhciBnPWIucmV0dXJuO3RyeXtSaihiKX1jYXRjaChrKXtXKGIsZyxrKX19fWNhdGNoKGspe1coYixiLnJldHVybixrKX1pZihiPT09YSl7Vj1udWxsO2JyZWFrfXZhciBoPWIuc2libGluZztpZihudWxsIT09aCl7aC5yZXR1cm49Yi5yZXR1cm47Vj1oO2JyZWFrfVY9Yi5yZXR1cm59fVxudmFyIGxrPU1hdGguY2VpbCxtaz11YS5SZWFjdEN1cnJlbnREaXNwYXRjaGVyLG5rPXVhLlJlYWN0Q3VycmVudE93bmVyLG9rPXVhLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnLEs9MCxRPW51bGwsWT1udWxsLFo9MCxmaj0wLGVqPVVmKDApLFQ9MCxwaz1udWxsLHJoPTAscWs9MCxyaz0wLHNrPW51bGwsdGs9bnVsbCxmaz0wLEdqPUluZmluaXR5LHVrPW51bGwsT2k9ITEsUGk9bnVsbCxSaT1udWxsLHZrPSExLHdrPW51bGwseGs9MCx5az0wLHprPW51bGwsQWs9LTEsQms9MDtmdW5jdGlvbiBSKCl7cmV0dXJuIDAhPT0oSyY2KT9CKCk6LTEhPT1Baz9BazpBaz1CKCl9XG5mdW5jdGlvbiB5aShhKXtpZigwPT09KGEubW9kZSYxKSlyZXR1cm4gMTtpZigwIT09KEsmMikmJjAhPT1aKXJldHVybiBaJi1aO2lmKG51bGwhPT1LZy50cmFuc2l0aW9uKXJldHVybiAwPT09QmsmJihCaz15YygpKSxCazthPUM7aWYoMCE9PWEpcmV0dXJuIGE7YT13aW5kb3cuZXZlbnQ7YT12b2lkIDA9PT1hPzE2OmpkKGEudHlwZSk7cmV0dXJuIGF9ZnVuY3Rpb24gZ2koYSxiLGMsZCl7aWYoNTA8eWspdGhyb3cgeWs9MCx6az1udWxsLEVycm9yKHAoMTg1KSk7QWMoYSxjLGQpO2lmKDA9PT0oSyYyKXx8YSE9PVEpYT09PVEmJigwPT09KEsmMikmJihxa3w9YyksND09PVQmJkNrKGEsWikpLERrKGEsZCksMT09PWMmJjA9PT1LJiYwPT09KGIubW9kZSYxKSYmKEdqPUIoKSs1MDAsZmcmJmpnKCkpfVxuZnVuY3Rpb24gRGsoYSxiKXt2YXIgYz1hLmNhbGxiYWNrTm9kZTt3YyhhLGIpO3ZhciBkPXVjKGEsYT09PVE/WjowKTtpZigwPT09ZCludWxsIT09YyYmYmMoYyksYS5jYWxsYmFja05vZGU9bnVsbCxhLmNhbGxiYWNrUHJpb3JpdHk9MDtlbHNlIGlmKGI9ZCYtZCxhLmNhbGxiYWNrUHJpb3JpdHkhPT1iKXtudWxsIT1jJiZiYyhjKTtpZigxPT09YikwPT09YS50YWc/aWcoRWsuYmluZChudWxsLGEpKTpoZyhFay5iaW5kKG51bGwsYSkpLEpmKGZ1bmN0aW9uKCl7MD09PShLJjYpJiZqZygpfSksYz1udWxsO2Vsc2V7c3dpdGNoKERjKGQpKXtjYXNlIDE6Yz1mYzticmVhaztjYXNlIDQ6Yz1nYzticmVhaztjYXNlIDE2OmM9aGM7YnJlYWs7Y2FzZSA1MzY4NzA5MTI6Yz1qYzticmVhaztkZWZhdWx0OmM9aGN9Yz1GayhjLEdrLmJpbmQobnVsbCxhKSl9YS5jYWxsYmFja1ByaW9yaXR5PWI7YS5jYWxsYmFja05vZGU9Y319XG5mdW5jdGlvbiBHayhhLGIpe0FrPS0xO0JrPTA7aWYoMCE9PShLJjYpKXRocm93IEVycm9yKHAoMzI3KSk7dmFyIGM9YS5jYWxsYmFja05vZGU7aWYoSGsoKSYmYS5jYWxsYmFja05vZGUhPT1jKXJldHVybiBudWxsO3ZhciBkPXVjKGEsYT09PVE/WjowKTtpZigwPT09ZClyZXR1cm4gbnVsbDtpZigwIT09KGQmMzApfHwwIT09KGQmYS5leHBpcmVkTGFuZXMpfHxiKWI9SWsoYSxkKTtlbHNle2I9ZDt2YXIgZT1LO0t8PTI7dmFyIGY9SmsoKTtpZihRIT09YXx8WiE9PWIpdWs9bnVsbCxHaj1CKCkrNTAwLEtrKGEsYik7ZG8gdHJ5e0xrKCk7YnJlYWt9Y2F0Y2goaCl7TWsoYSxoKX13aGlsZSgxKTskZygpO21rLmN1cnJlbnQ9ZjtLPWU7bnVsbCE9PVk/Yj0wOihRPW51bGwsWj0wLGI9VCl9aWYoMCE9PWIpezI9PT1iJiYoZT14YyhhKSwwIT09ZSYmKGQ9ZSxiPU5rKGEsZSkpKTtpZigxPT09Yil0aHJvdyBjPXBrLEtrKGEsMCksQ2soYSxkKSxEayhhLEIoKSksYztpZig2PT09YilDayhhLGQpO1xuZWxzZXtlPWEuY3VycmVudC5hbHRlcm5hdGU7aWYoMD09PShkJjMwKSYmIU9rKGUpJiYoYj1JayhhLGQpLDI9PT1iJiYoZj14YyhhKSwwIT09ZiYmKGQ9ZixiPU5rKGEsZikpKSwxPT09YikpdGhyb3cgYz1wayxLayhhLDApLENrKGEsZCksRGsoYSxCKCkpLGM7YS5maW5pc2hlZFdvcms9ZTthLmZpbmlzaGVkTGFuZXM9ZDtzd2l0Y2goYil7Y2FzZSAwOmNhc2UgMTp0aHJvdyBFcnJvcihwKDM0NSkpO2Nhc2UgMjpQayhhLHRrLHVrKTticmVhaztjYXNlIDM6Q2soYSxkKTtpZigoZCYxMzAwMjM0MjQpPT09ZCYmKGI9ZmsrNTAwLUIoKSwxMDxiKSl7aWYoMCE9PXVjKGEsMCkpYnJlYWs7ZT1hLnN1c3BlbmRlZExhbmVzO2lmKChlJmQpIT09ZCl7UigpO2EucGluZ2VkTGFuZXN8PWEuc3VzcGVuZGVkTGFuZXMmZTticmVha31hLnRpbWVvdXRIYW5kbGU9RmYoUGsuYmluZChudWxsLGEsdGssdWspLGIpO2JyZWFrfVBrKGEsdGssdWspO2JyZWFrO2Nhc2UgNDpDayhhLGQpO2lmKChkJjQxOTQyNDApPT09XG5kKWJyZWFrO2I9YS5ldmVudFRpbWVzO2ZvcihlPS0xOzA8ZDspe3ZhciBnPTMxLW9jKGQpO2Y9MTw8ZztnPWJbZ107Zz5lJiYoZT1nKTtkJj1+Zn1kPWU7ZD1CKCktZDtkPSgxMjA+ZD8xMjA6NDgwPmQ/NDgwOjEwODA+ZD8xMDgwOjE5MjA+ZD8xOTIwOjNFMz5kPzNFMzo0MzIwPmQ/NDMyMDoxOTYwKmxrKGQvMTk2MCkpLWQ7aWYoMTA8ZCl7YS50aW1lb3V0SGFuZGxlPUZmKFBrLmJpbmQobnVsbCxhLHRrLHVrKSxkKTticmVha31QayhhLHRrLHVrKTticmVhaztjYXNlIDU6UGsoYSx0ayx1ayk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihwKDMyOSkpO319fURrKGEsQigpKTtyZXR1cm4gYS5jYWxsYmFja05vZGU9PT1jP0drLmJpbmQobnVsbCxhKTpudWxsfVxuZnVuY3Rpb24gTmsoYSxiKXt2YXIgYz1zazthLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQmJihLayhhLGIpLmZsYWdzfD0yNTYpO2E9SWsoYSxiKTsyIT09YSYmKGI9dGssdGs9YyxudWxsIT09YiYmRmooYikpO3JldHVybiBhfWZ1bmN0aW9uIEZqKGEpe251bGw9PT10az90az1hOnRrLnB1c2guYXBwbHkodGssYSl9XG5mdW5jdGlvbiBPayhhKXtmb3IodmFyIGI9YTs7KXtpZihiLmZsYWdzJjE2Mzg0KXt2YXIgYz1iLnVwZGF0ZVF1ZXVlO2lmKG51bGwhPT1jJiYoYz1jLnN0b3JlcyxudWxsIT09YykpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZj1lLmdldFNuYXBzaG90O2U9ZS52YWx1ZTt0cnl7aWYoIUhlKGYoKSxlKSlyZXR1cm4hMX1jYXRjaChnKXtyZXR1cm4hMX19fWM9Yi5jaGlsZDtpZihiLnN1YnRyZWVGbGFncyYxNjM4NCYmbnVsbCE9PWMpYy5yZXR1cm49YixiPWM7ZWxzZXtpZihiPT09YSlicmVhaztmb3IoO251bGw9PT1iLnNpYmxpbmc7KXtpZihudWxsPT09Yi5yZXR1cm58fGIucmV0dXJuPT09YSlyZXR1cm4hMDtiPWIucmV0dXJufWIuc2libGluZy5yZXR1cm49Yi5yZXR1cm47Yj1iLnNpYmxpbmd9fXJldHVybiEwfVxuZnVuY3Rpb24gQ2soYSxiKXtiJj1+cms7YiY9fnFrO2Euc3VzcGVuZGVkTGFuZXN8PWI7YS5waW5nZWRMYW5lcyY9fmI7Zm9yKGE9YS5leHBpcmF0aW9uVGltZXM7MDxiOyl7dmFyIGM9MzEtb2MoYiksZD0xPDxjO2FbY109LTE7YiY9fmR9fWZ1bmN0aW9uIEVrKGEpe2lmKDAhPT0oSyY2KSl0aHJvdyBFcnJvcihwKDMyNykpO0hrKCk7dmFyIGI9dWMoYSwwKTtpZigwPT09KGImMSkpcmV0dXJuIERrKGEsQigpKSxudWxsO3ZhciBjPUlrKGEsYik7aWYoMCE9PWEudGFnJiYyPT09Yyl7dmFyIGQ9eGMoYSk7MCE9PWQmJihiPWQsYz1OayhhLGQpKX1pZigxPT09Yyl0aHJvdyBjPXBrLEtrKGEsMCksQ2soYSxiKSxEayhhLEIoKSksYztpZig2PT09Yyl0aHJvdyBFcnJvcihwKDM0NSkpO2EuZmluaXNoZWRXb3JrPWEuY3VycmVudC5hbHRlcm5hdGU7YS5maW5pc2hlZExhbmVzPWI7UGsoYSx0ayx1ayk7RGsoYSxCKCkpO3JldHVybiBudWxsfVxuZnVuY3Rpb24gUWsoYSxiKXt2YXIgYz1LO0t8PTE7dHJ5e3JldHVybiBhKGIpfWZpbmFsbHl7Sz1jLDA9PT1LJiYoR2o9QigpKzUwMCxmZyYmamcoKSl9fWZ1bmN0aW9uIFJrKGEpe251bGwhPT13ayYmMD09PXdrLnRhZyYmMD09PShLJjYpJiZIaygpO3ZhciBiPUs7S3w9MTt2YXIgYz1vay50cmFuc2l0aW9uLGQ9Qzt0cnl7aWYob2sudHJhbnNpdGlvbj1udWxsLEM9MSxhKXJldHVybiBhKCl9ZmluYWxseXtDPWQsb2sudHJhbnNpdGlvbj1jLEs9YiwwPT09KEsmNikmJmpnKCl9fWZ1bmN0aW9uIEhqKCl7Zmo9ZWouY3VycmVudDtFKGVqKX1cbmZ1bmN0aW9uIEtrKGEsYil7YS5maW5pc2hlZFdvcms9bnVsbDthLmZpbmlzaGVkTGFuZXM9MDt2YXIgYz1hLnRpbWVvdXRIYW5kbGU7LTEhPT1jJiYoYS50aW1lb3V0SGFuZGxlPS0xLEdmKGMpKTtpZihudWxsIT09WSlmb3IoYz1ZLnJldHVybjtudWxsIT09Yzspe3ZhciBkPWM7d2coZCk7c3dpdGNoKGQudGFnKXtjYXNlIDE6ZD1kLnR5cGUuY2hpbGRDb250ZXh0VHlwZXM7bnVsbCE9PWQmJnZvaWQgMCE9PWQmJiRmKCk7YnJlYWs7Y2FzZSAzOnpoKCk7RShXZik7RShIKTtFaCgpO2JyZWFrO2Nhc2UgNTpCaChkKTticmVhaztjYXNlIDQ6emgoKTticmVhaztjYXNlIDEzOkUoTCk7YnJlYWs7Y2FzZSAxOTpFKEwpO2JyZWFrO2Nhc2UgMTA6YWgoZC50eXBlLl9jb250ZXh0KTticmVhaztjYXNlIDIyOmNhc2UgMjM6SGooKX1jPWMucmV0dXJufVE9YTtZPWE9UGcoYS5jdXJyZW50LG51bGwpO1o9Zmo9YjtUPTA7cGs9bnVsbDtyaz1xaz1yaD0wO3RrPXNrPW51bGw7aWYobnVsbCE9PWZoKXtmb3IoYj1cbjA7YjxmaC5sZW5ndGg7YisrKWlmKGM9ZmhbYl0sZD1jLmludGVybGVhdmVkLG51bGwhPT1kKXtjLmludGVybGVhdmVkPW51bGw7dmFyIGU9ZC5uZXh0LGY9Yy5wZW5kaW5nO2lmKG51bGwhPT1mKXt2YXIgZz1mLm5leHQ7Zi5uZXh0PWU7ZC5uZXh0PWd9Yy5wZW5kaW5nPWR9Zmg9bnVsbH1yZXR1cm4gYX1cbmZ1bmN0aW9uIE1rKGEsYil7ZG97dmFyIGM9WTt0cnl7JGcoKTtGaC5jdXJyZW50PVJoO2lmKEloKXtmb3IodmFyIGQ9TS5tZW1vaXplZFN0YXRlO251bGwhPT1kOyl7dmFyIGU9ZC5xdWV1ZTtudWxsIT09ZSYmKGUucGVuZGluZz1udWxsKTtkPWQubmV4dH1JaD0hMX1IaD0wO089Tj1NPW51bGw7Smg9ITE7S2g9MDtuay5jdXJyZW50PW51bGw7aWYobnVsbD09PWN8fG51bGw9PT1jLnJldHVybil7VD0xO3BrPWI7WT1udWxsO2JyZWFrfWE6e3ZhciBmPWEsZz1jLnJldHVybixoPWMsaz1iO2I9WjtoLmZsYWdzfD0zMjc2ODtpZihudWxsIT09ayYmXCJvYmplY3RcIj09PXR5cGVvZiBrJiZcImZ1bmN0aW9uXCI9PT10eXBlb2Ygay50aGVuKXt2YXIgbD1rLG09aCxxPW0udGFnO2lmKDA9PT0obS5tb2RlJjEpJiYoMD09PXF8fDExPT09cXx8MTU9PT1xKSl7dmFyIHI9bS5hbHRlcm5hdGU7cj8obS51cGRhdGVRdWV1ZT1yLnVwZGF0ZVF1ZXVlLG0ubWVtb2l6ZWRTdGF0ZT1yLm1lbW9pemVkU3RhdGUsXG5tLmxhbmVzPXIubGFuZXMpOihtLnVwZGF0ZVF1ZXVlPW51bGwsbS5tZW1vaXplZFN0YXRlPW51bGwpfXZhciB5PVVpKGcpO2lmKG51bGwhPT15KXt5LmZsYWdzJj0tMjU3O1ZpKHksZyxoLGYsYik7eS5tb2RlJjEmJlNpKGYsbCxiKTtiPXk7az1sO3ZhciBuPWIudXBkYXRlUXVldWU7aWYobnVsbD09PW4pe3ZhciB0PW5ldyBTZXQ7dC5hZGQoayk7Yi51cGRhdGVRdWV1ZT10fWVsc2Ugbi5hZGQoayk7YnJlYWsgYX1lbHNle2lmKDA9PT0oYiYxKSl7U2koZixsLGIpO3RqKCk7YnJlYWsgYX1rPUVycm9yKHAoNDI2KSl9fWVsc2UgaWYoSSYmaC5tb2RlJjEpe3ZhciBKPVVpKGcpO2lmKG51bGwhPT1KKXswPT09KEouZmxhZ3MmNjU1MzYpJiYoSi5mbGFnc3w9MjU2KTtWaShKLGcsaCxmLGIpO0pnKEppKGssaCkpO2JyZWFrIGF9fWY9az1KaShrLGgpOzQhPT1UJiYoVD0yKTtudWxsPT09c2s/c2s9W2ZdOnNrLnB1c2goZik7Zj1nO2Rve3N3aXRjaChmLnRhZyl7Y2FzZSAzOmYuZmxhZ3N8PTY1NTM2O1xuYiY9LWI7Zi5sYW5lc3w9Yjt2YXIgeD1OaShmLGssYik7cGgoZix4KTticmVhayBhO2Nhc2UgMTpoPWs7dmFyIHc9Zi50eXBlLHU9Zi5zdGF0ZU5vZGU7aWYoMD09PShmLmZsYWdzJjEyOCkmJihcImZ1bmN0aW9uXCI9PT10eXBlb2Ygdy5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3J8fG51bGwhPT11JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgdS5jb21wb25lbnREaWRDYXRjaCYmKG51bGw9PT1SaXx8IVJpLmhhcyh1KSkpKXtmLmZsYWdzfD02NTUzNjtiJj0tYjtmLmxhbmVzfD1iO3ZhciBGPVFpKGYsaCxiKTtwaChmLEYpO2JyZWFrIGF9fWY9Zi5yZXR1cm59d2hpbGUobnVsbCE9PWYpfVNrKGMpfWNhdGNoKG5hKXtiPW5hO1k9PT1jJiZudWxsIT09YyYmKFk9Yz1jLnJldHVybik7Y29udGludWV9YnJlYWt9d2hpbGUoMSl9ZnVuY3Rpb24gSmsoKXt2YXIgYT1tay5jdXJyZW50O21rLmN1cnJlbnQ9Umg7cmV0dXJuIG51bGw9PT1hP1JoOmF9XG5mdW5jdGlvbiB0aigpe2lmKDA9PT1UfHwzPT09VHx8Mj09PVQpVD00O251bGw9PT1RfHwwPT09KHJoJjI2ODQzNTQ1NSkmJjA9PT0ocWsmMjY4NDM1NDU1KXx8Q2soUSxaKX1mdW5jdGlvbiBJayhhLGIpe3ZhciBjPUs7S3w9Mjt2YXIgZD1KaygpO2lmKFEhPT1hfHxaIT09Yil1az1udWxsLEtrKGEsYik7ZG8gdHJ5e1RrKCk7YnJlYWt9Y2F0Y2goZSl7TWsoYSxlKX13aGlsZSgxKTskZygpO0s9Yzttay5jdXJyZW50PWQ7aWYobnVsbCE9PVkpdGhyb3cgRXJyb3IocCgyNjEpKTtRPW51bGw7Wj0wO3JldHVybiBUfWZ1bmN0aW9uIFRrKCl7Zm9yKDtudWxsIT09WTspVWsoWSl9ZnVuY3Rpb24gTGsoKXtmb3IoO251bGwhPT1ZJiYhY2MoKTspVWsoWSl9ZnVuY3Rpb24gVWsoYSl7dmFyIGI9VmsoYS5hbHRlcm5hdGUsYSxmaik7YS5tZW1vaXplZFByb3BzPWEucGVuZGluZ1Byb3BzO251bGw9PT1iP1NrKGEpOlk9Yjtuay5jdXJyZW50PW51bGx9XG5mdW5jdGlvbiBTayhhKXt2YXIgYj1hO2Rve3ZhciBjPWIuYWx0ZXJuYXRlO2E9Yi5yZXR1cm47aWYoMD09PShiLmZsYWdzJjMyNzY4KSl7aWYoYz1FaihjLGIsZmopLG51bGwhPT1jKXtZPWM7cmV0dXJufX1lbHNle2M9SWooYyxiKTtpZihudWxsIT09Yyl7Yy5mbGFncyY9MzI3Njc7WT1jO3JldHVybn1pZihudWxsIT09YSlhLmZsYWdzfD0zMjc2OCxhLnN1YnRyZWVGbGFncz0wLGEuZGVsZXRpb25zPW51bGw7ZWxzZXtUPTY7WT1udWxsO3JldHVybn19Yj1iLnNpYmxpbmc7aWYobnVsbCE9PWIpe1k9YjtyZXR1cm59WT1iPWF9d2hpbGUobnVsbCE9PWIpOzA9PT1UJiYoVD01KX1mdW5jdGlvbiBQayhhLGIsYyl7dmFyIGQ9QyxlPW9rLnRyYW5zaXRpb247dHJ5e29rLnRyYW5zaXRpb249bnVsbCxDPTEsV2soYSxiLGMsZCl9ZmluYWxseXtvay50cmFuc2l0aW9uPWUsQz1kfXJldHVybiBudWxsfVxuZnVuY3Rpb24gV2soYSxiLGMsZCl7ZG8gSGsoKTt3aGlsZShudWxsIT09d2spO2lmKDAhPT0oSyY2KSl0aHJvdyBFcnJvcihwKDMyNykpO2M9YS5maW5pc2hlZFdvcms7dmFyIGU9YS5maW5pc2hlZExhbmVzO2lmKG51bGw9PT1jKXJldHVybiBudWxsO2EuZmluaXNoZWRXb3JrPW51bGw7YS5maW5pc2hlZExhbmVzPTA7aWYoYz09PWEuY3VycmVudCl0aHJvdyBFcnJvcihwKDE3NykpO2EuY2FsbGJhY2tOb2RlPW51bGw7YS5jYWxsYmFja1ByaW9yaXR5PTA7dmFyIGY9Yy5sYW5lc3xjLmNoaWxkTGFuZXM7QmMoYSxmKTthPT09USYmKFk9UT1udWxsLFo9MCk7MD09PShjLnN1YnRyZWVGbGFncyYyMDY0KSYmMD09PShjLmZsYWdzJjIwNjQpfHx2a3x8KHZrPSEwLEZrKGhjLGZ1bmN0aW9uKCl7SGsoKTtyZXR1cm4gbnVsbH0pKTtmPTAhPT0oYy5mbGFncyYxNTk5MCk7aWYoMCE9PShjLnN1YnRyZWVGbGFncyYxNTk5MCl8fGYpe2Y9b2sudHJhbnNpdGlvbjtvay50cmFuc2l0aW9uPW51bGw7XG52YXIgZz1DO0M9MTt2YXIgaD1LO0t8PTQ7bmsuY3VycmVudD1udWxsO09qKGEsYyk7ZGsoYyxhKTtPZShEZik7ZGQ9ISFDZjtEZj1DZj1udWxsO2EuY3VycmVudD1jO2hrKGMsYSxlKTtkYygpO0s9aDtDPWc7b2sudHJhbnNpdGlvbj1mfWVsc2UgYS5jdXJyZW50PWM7dmsmJih2az0hMSx3az1hLHhrPWUpO2Y9YS5wZW5kaW5nTGFuZXM7MD09PWYmJihSaT1udWxsKTttYyhjLnN0YXRlTm9kZSxkKTtEayhhLEIoKSk7aWYobnVsbCE9PWIpZm9yKGQ9YS5vblJlY292ZXJhYmxlRXJyb3IsYz0wO2M8Yi5sZW5ndGg7YysrKWU9YltjXSxkKGUudmFsdWUse2NvbXBvbmVudFN0YWNrOmUuc3RhY2ssZGlnZXN0OmUuZGlnZXN0fSk7aWYoT2kpdGhyb3cgT2k9ITEsYT1QaSxQaT1udWxsLGE7MCE9PSh4ayYxKSYmMCE9PWEudGFnJiZIaygpO2Y9YS5wZW5kaW5nTGFuZXM7MCE9PShmJjEpP2E9PT16az95aysrOih5az0wLHprPWEpOnlrPTA7amcoKTtyZXR1cm4gbnVsbH1cbmZ1bmN0aW9uIEhrKCl7aWYobnVsbCE9PXdrKXt2YXIgYT1EYyh4ayksYj1vay50cmFuc2l0aW9uLGM9Qzt0cnl7b2sudHJhbnNpdGlvbj1udWxsO0M9MTY+YT8xNjphO2lmKG51bGw9PT13ayl2YXIgZD0hMTtlbHNle2E9d2s7d2s9bnVsbDt4az0wO2lmKDAhPT0oSyY2KSl0aHJvdyBFcnJvcihwKDMzMSkpO3ZhciBlPUs7S3w9NDtmb3IoVj1hLmN1cnJlbnQ7bnVsbCE9PVY7KXt2YXIgZj1WLGc9Zi5jaGlsZDtpZigwIT09KFYuZmxhZ3MmMTYpKXt2YXIgaD1mLmRlbGV0aW9ucztpZihudWxsIT09aCl7Zm9yKHZhciBrPTA7azxoLmxlbmd0aDtrKyspe3ZhciBsPWhba107Zm9yKFY9bDtudWxsIT09Vjspe3ZhciBtPVY7c3dpdGNoKG0udGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OlBqKDgsbSxmKX12YXIgcT1tLmNoaWxkO2lmKG51bGwhPT1xKXEucmV0dXJuPW0sVj1xO2Vsc2UgZm9yKDtudWxsIT09Vjspe209Vjt2YXIgcj1tLnNpYmxpbmcseT1tLnJldHVybjtTaihtKTtpZihtPT09XG5sKXtWPW51bGw7YnJlYWt9aWYobnVsbCE9PXIpe3IucmV0dXJuPXk7Vj1yO2JyZWFrfVY9eX19fXZhciBuPWYuYWx0ZXJuYXRlO2lmKG51bGwhPT1uKXt2YXIgdD1uLmNoaWxkO2lmKG51bGwhPT10KXtuLmNoaWxkPW51bGw7ZG97dmFyIEo9dC5zaWJsaW5nO3Quc2libGluZz1udWxsO3Q9Sn13aGlsZShudWxsIT09dCl9fVY9Zn19aWYoMCE9PShmLnN1YnRyZWVGbGFncyYyMDY0KSYmbnVsbCE9PWcpZy5yZXR1cm49ZixWPWc7ZWxzZSBiOmZvcig7bnVsbCE9PVY7KXtmPVY7aWYoMCE9PShmLmZsYWdzJjIwNDgpKXN3aXRjaChmLnRhZyl7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNTpQaig5LGYsZi5yZXR1cm4pfXZhciB4PWYuc2libGluZztpZihudWxsIT09eCl7eC5yZXR1cm49Zi5yZXR1cm47Vj14O2JyZWFrIGJ9Vj1mLnJldHVybn19dmFyIHc9YS5jdXJyZW50O2ZvcihWPXc7bnVsbCE9PVY7KXtnPVY7dmFyIHU9Zy5jaGlsZDtpZigwIT09KGcuc3VidHJlZUZsYWdzJjIwNjQpJiZudWxsIT09XG51KXUucmV0dXJuPWcsVj11O2Vsc2UgYjpmb3IoZz13O251bGwhPT1WOyl7aD1WO2lmKDAhPT0oaC5mbGFncyYyMDQ4KSl0cnl7c3dpdGNoKGgudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OlFqKDksaCl9fWNhdGNoKG5hKXtXKGgsaC5yZXR1cm4sbmEpfWlmKGg9PT1nKXtWPW51bGw7YnJlYWsgYn12YXIgRj1oLnNpYmxpbmc7aWYobnVsbCE9PUYpe0YucmV0dXJuPWgucmV0dXJuO1Y9RjticmVhayBifVY9aC5yZXR1cm59fUs9ZTtqZygpO2lmKGxjJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgbGMub25Qb3N0Q29tbWl0RmliZXJSb290KXRyeXtsYy5vblBvc3RDb21taXRGaWJlclJvb3Qoa2MsYSl9Y2F0Y2gobmEpe31kPSEwfXJldHVybiBkfWZpbmFsbHl7Qz1jLG9rLnRyYW5zaXRpb249Yn19cmV0dXJuITF9ZnVuY3Rpb24gWGsoYSxiLGMpe2I9SmkoYyxiKTtiPU5pKGEsYiwxKTthPW5oKGEsYiwxKTtiPVIoKTtudWxsIT09YSYmKEFjKGEsMSxiKSxEayhhLGIpKX1cbmZ1bmN0aW9uIFcoYSxiLGMpe2lmKDM9PT1hLnRhZylYayhhLGEsYyk7ZWxzZSBmb3IoO251bGwhPT1iOyl7aWYoMz09PWIudGFnKXtYayhiLGEsYyk7YnJlYWt9ZWxzZSBpZigxPT09Yi50YWcpe3ZhciBkPWIuc3RhdGVOb2RlO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiLnR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5jb21wb25lbnREaWRDYXRjaCYmKG51bGw9PT1SaXx8IVJpLmhhcyhkKSkpe2E9SmkoYyxhKTthPVFpKGIsYSwxKTtiPW5oKGIsYSwxKTthPVIoKTtudWxsIT09YiYmKEFjKGIsMSxhKSxEayhiLGEpKTticmVha319Yj1iLnJldHVybn19XG5mdW5jdGlvbiBUaShhLGIsYyl7dmFyIGQ9YS5waW5nQ2FjaGU7bnVsbCE9PWQmJmQuZGVsZXRlKGIpO2I9UigpO2EucGluZ2VkTGFuZXN8PWEuc3VzcGVuZGVkTGFuZXMmYztRPT09YSYmKFomYyk9PT1jJiYoND09PVR8fDM9PT1UJiYoWiYxMzAwMjM0MjQpPT09WiYmNTAwPkIoKS1maz9LayhhLDApOnJrfD1jKTtEayhhLGIpfWZ1bmN0aW9uIFlrKGEsYil7MD09PWImJigwPT09KGEubW9kZSYxKT9iPTE6KGI9c2Msc2M8PD0xLDA9PT0oc2MmMTMwMDIzNDI0KSYmKHNjPTQxOTQzMDQpKSk7dmFyIGM9UigpO2E9aWgoYSxiKTtudWxsIT09YSYmKEFjKGEsYixjKSxEayhhLGMpKX1mdW5jdGlvbiB1aihhKXt2YXIgYj1hLm1lbW9pemVkU3RhdGUsYz0wO251bGwhPT1iJiYoYz1iLnJldHJ5TGFuZSk7WWsoYSxjKX1cbmZ1bmN0aW9uIGJrKGEsYil7dmFyIGM9MDtzd2l0Y2goYS50YWcpe2Nhc2UgMTM6dmFyIGQ9YS5zdGF0ZU5vZGU7dmFyIGU9YS5tZW1vaXplZFN0YXRlO251bGwhPT1lJiYoYz1lLnJldHJ5TGFuZSk7YnJlYWs7Y2FzZSAxOTpkPWEuc3RhdGVOb2RlO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IocCgzMTQpKTt9bnVsbCE9PWQmJmQuZGVsZXRlKGIpO1lrKGEsYyl9dmFyIFZrO1xuVms9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPT1hKWlmKGEubWVtb2l6ZWRQcm9wcyE9PWIucGVuZGluZ1Byb3BzfHxXZi5jdXJyZW50KWRoPSEwO2Vsc2V7aWYoMD09PShhLmxhbmVzJmMpJiYwPT09KGIuZmxhZ3MmMTI4KSlyZXR1cm4gZGg9ITEseWooYSxiLGMpO2RoPTAhPT0oYS5mbGFncyYxMzEwNzIpPyEwOiExfWVsc2UgZGg9ITEsSSYmMCE9PShiLmZsYWdzJjEwNDg1NzYpJiZ1ZyhiLG5nLGIuaW5kZXgpO2IubGFuZXM9MDtzd2l0Y2goYi50YWcpe2Nhc2UgMjp2YXIgZD1iLnR5cGU7aWooYSxiKTthPWIucGVuZGluZ1Byb3BzO3ZhciBlPVlmKGIsSC5jdXJyZW50KTtjaChiLGMpO2U9TmgobnVsbCxiLGQsYSxlLGMpO3ZhciBmPVNoKCk7Yi5mbGFnc3w9MTtcIm9iamVjdFwiPT09dHlwZW9mIGUmJm51bGwhPT1lJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZS5yZW5kZXImJnZvaWQgMD09PWUuJCR0eXBlb2Y/KGIudGFnPTEsYi5tZW1vaXplZFN0YXRlPW51bGwsYi51cGRhdGVRdWV1ZT1cbm51bGwsWmYoZCk/KGY9ITAsY2coYikpOmY9ITEsYi5tZW1vaXplZFN0YXRlPW51bGwhPT1lLnN0YXRlJiZ2b2lkIDAhPT1lLnN0YXRlP2Uuc3RhdGU6bnVsbCxraChiKSxlLnVwZGF0ZXI9RWksYi5zdGF0ZU5vZGU9ZSxlLl9yZWFjdEludGVybmFscz1iLElpKGIsZCxhLGMpLGI9amoobnVsbCxiLGQsITAsZixjKSk6KGIudGFnPTAsSSYmZiYmdmcoYiksWGkobnVsbCxiLGUsYyksYj1iLmNoaWxkKTtyZXR1cm4gYjtjYXNlIDE2OmQ9Yi5lbGVtZW50VHlwZTthOntpaihhLGIpO2E9Yi5wZW5kaW5nUHJvcHM7ZT1kLl9pbml0O2Q9ZShkLl9wYXlsb2FkKTtiLnR5cGU9ZDtlPWIudGFnPVprKGQpO2E9Q2koZCxhKTtzd2l0Y2goZSl7Y2FzZSAwOmI9Y2oobnVsbCxiLGQsYSxjKTticmVhayBhO2Nhc2UgMTpiPWhqKG51bGwsYixkLGEsYyk7YnJlYWsgYTtjYXNlIDExOmI9WWkobnVsbCxiLGQsYSxjKTticmVhayBhO2Nhc2UgMTQ6Yj0kaShudWxsLGIsZCxDaShkLnR5cGUsYSksYyk7YnJlYWsgYX10aHJvdyBFcnJvcihwKDMwNixcbmQsXCJcIikpO31yZXR1cm4gYjtjYXNlIDA6cmV0dXJuIGQ9Yi50eXBlLGU9Yi5wZW5kaW5nUHJvcHMsZT1iLmVsZW1lbnRUeXBlPT09ZD9lOkNpKGQsZSksY2ooYSxiLGQsZSxjKTtjYXNlIDE6cmV0dXJuIGQ9Yi50eXBlLGU9Yi5wZW5kaW5nUHJvcHMsZT1iLmVsZW1lbnRUeXBlPT09ZD9lOkNpKGQsZSksaGooYSxiLGQsZSxjKTtjYXNlIDM6YTp7a2ooYik7aWYobnVsbD09PWEpdGhyb3cgRXJyb3IocCgzODcpKTtkPWIucGVuZGluZ1Byb3BzO2Y9Yi5tZW1vaXplZFN0YXRlO2U9Zi5lbGVtZW50O2xoKGEsYik7cWgoYixkLG51bGwsYyk7dmFyIGc9Yi5tZW1vaXplZFN0YXRlO2Q9Zy5lbGVtZW50O2lmKGYuaXNEZWh5ZHJhdGVkKWlmKGY9e2VsZW1lbnQ6ZCxpc0RlaHlkcmF0ZWQ6ITEsY2FjaGU6Zy5jYWNoZSxwZW5kaW5nU3VzcGVuc2VCb3VuZGFyaWVzOmcucGVuZGluZ1N1c3BlbnNlQm91bmRhcmllcyx0cmFuc2l0aW9uczpnLnRyYW5zaXRpb25zfSxiLnVwZGF0ZVF1ZXVlLmJhc2VTdGF0ZT1cbmYsYi5tZW1vaXplZFN0YXRlPWYsYi5mbGFncyYyNTYpe2U9SmkoRXJyb3IocCg0MjMpKSxiKTtiPWxqKGEsYixkLGMsZSk7YnJlYWsgYX1lbHNlIGlmKGQhPT1lKXtlPUppKEVycm9yKHAoNDI0KSksYik7Yj1saihhLGIsZCxjLGUpO2JyZWFrIGF9ZWxzZSBmb3IoeWc9TGYoYi5zdGF0ZU5vZGUuY29udGFpbmVySW5mby5maXJzdENoaWxkKSx4Zz1iLEk9ITAsemc9bnVsbCxjPVZnKGIsbnVsbCxkLGMpLGIuY2hpbGQ9YztjOyljLmZsYWdzPWMuZmxhZ3MmLTN8NDA5NixjPWMuc2libGluZztlbHNle0lnKCk7aWYoZD09PWUpe2I9WmkoYSxiLGMpO2JyZWFrIGF9WGkoYSxiLGQsYyl9Yj1iLmNoaWxkfXJldHVybiBiO2Nhc2UgNTpyZXR1cm4gQWgoYiksbnVsbD09PWEmJkVnKGIpLGQ9Yi50eXBlLGU9Yi5wZW5kaW5nUHJvcHMsZj1udWxsIT09YT9hLm1lbW9pemVkUHJvcHM6bnVsbCxnPWUuY2hpbGRyZW4sRWYoZCxlKT9nPW51bGw6bnVsbCE9PWYmJkVmKGQsZikmJihiLmZsYWdzfD0zMiksXG5naihhLGIpLFhpKGEsYixnLGMpLGIuY2hpbGQ7Y2FzZSA2OnJldHVybiBudWxsPT09YSYmRWcoYiksbnVsbDtjYXNlIDEzOnJldHVybiBvaihhLGIsYyk7Y2FzZSA0OnJldHVybiB5aChiLGIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLGQ9Yi5wZW5kaW5nUHJvcHMsbnVsbD09PWE/Yi5jaGlsZD1VZyhiLG51bGwsZCxjKTpYaShhLGIsZCxjKSxiLmNoaWxkO2Nhc2UgMTE6cmV0dXJuIGQ9Yi50eXBlLGU9Yi5wZW5kaW5nUHJvcHMsZT1iLmVsZW1lbnRUeXBlPT09ZD9lOkNpKGQsZSksWWkoYSxiLGQsZSxjKTtjYXNlIDc6cmV0dXJuIFhpKGEsYixiLnBlbmRpbmdQcm9wcyxjKSxiLmNoaWxkO2Nhc2UgODpyZXR1cm4gWGkoYSxiLGIucGVuZGluZ1Byb3BzLmNoaWxkcmVuLGMpLGIuY2hpbGQ7Y2FzZSAxMjpyZXR1cm4gWGkoYSxiLGIucGVuZGluZ1Byb3BzLmNoaWxkcmVuLGMpLGIuY2hpbGQ7Y2FzZSAxMDphOntkPWIudHlwZS5fY29udGV4dDtlPWIucGVuZGluZ1Byb3BzO2Y9Yi5tZW1vaXplZFByb3BzO1xuZz1lLnZhbHVlO0coV2csZC5fY3VycmVudFZhbHVlKTtkLl9jdXJyZW50VmFsdWU9ZztpZihudWxsIT09ZilpZihIZShmLnZhbHVlLGcpKXtpZihmLmNoaWxkcmVuPT09ZS5jaGlsZHJlbiYmIVdmLmN1cnJlbnQpe2I9WmkoYSxiLGMpO2JyZWFrIGF9fWVsc2UgZm9yKGY9Yi5jaGlsZCxudWxsIT09ZiYmKGYucmV0dXJuPWIpO251bGwhPT1mOyl7dmFyIGg9Zi5kZXBlbmRlbmNpZXM7aWYobnVsbCE9PWgpe2c9Zi5jaGlsZDtmb3IodmFyIGs9aC5maXJzdENvbnRleHQ7bnVsbCE9PWs7KXtpZihrLmNvbnRleHQ9PT1kKXtpZigxPT09Zi50YWcpe2s9bWgoLTEsYyYtYyk7ay50YWc9Mjt2YXIgbD1mLnVwZGF0ZVF1ZXVlO2lmKG51bGwhPT1sKXtsPWwuc2hhcmVkO3ZhciBtPWwucGVuZGluZztudWxsPT09bT9rLm5leHQ9azooay5uZXh0PW0ubmV4dCxtLm5leHQ9ayk7bC5wZW5kaW5nPWt9fWYubGFuZXN8PWM7az1mLmFsdGVybmF0ZTtudWxsIT09ayYmKGsubGFuZXN8PWMpO2JoKGYucmV0dXJuLFxuYyxiKTtoLmxhbmVzfD1jO2JyZWFrfWs9ay5uZXh0fX1lbHNlIGlmKDEwPT09Zi50YWcpZz1mLnR5cGU9PT1iLnR5cGU/bnVsbDpmLmNoaWxkO2Vsc2UgaWYoMTg9PT1mLnRhZyl7Zz1mLnJldHVybjtpZihudWxsPT09Zyl0aHJvdyBFcnJvcihwKDM0MSkpO2cubGFuZXN8PWM7aD1nLmFsdGVybmF0ZTtudWxsIT09aCYmKGgubGFuZXN8PWMpO2JoKGcsYyxiKTtnPWYuc2libGluZ31lbHNlIGc9Zi5jaGlsZDtpZihudWxsIT09ZylnLnJldHVybj1mO2Vsc2UgZm9yKGc9ZjtudWxsIT09Zzspe2lmKGc9PT1iKXtnPW51bGw7YnJlYWt9Zj1nLnNpYmxpbmc7aWYobnVsbCE9PWYpe2YucmV0dXJuPWcucmV0dXJuO2c9ZjticmVha31nPWcucmV0dXJufWY9Z31YaShhLGIsZS5jaGlsZHJlbixjKTtiPWIuY2hpbGR9cmV0dXJuIGI7Y2FzZSA5OnJldHVybiBlPWIudHlwZSxkPWIucGVuZGluZ1Byb3BzLmNoaWxkcmVuLGNoKGIsYyksZT1laChlKSxkPWQoZSksYi5mbGFnc3w9MSxYaShhLGIsZCxjKSxcbmIuY2hpbGQ7Y2FzZSAxNDpyZXR1cm4gZD1iLnR5cGUsZT1DaShkLGIucGVuZGluZ1Byb3BzKSxlPUNpKGQudHlwZSxlKSwkaShhLGIsZCxlLGMpO2Nhc2UgMTU6cmV0dXJuIGJqKGEsYixiLnR5cGUsYi5wZW5kaW5nUHJvcHMsYyk7Y2FzZSAxNzpyZXR1cm4gZD1iLnR5cGUsZT1iLnBlbmRpbmdQcm9wcyxlPWIuZWxlbWVudFR5cGU9PT1kP2U6Q2koZCxlKSxpaihhLGIpLGIudGFnPTEsWmYoZCk/KGE9ITAsY2coYikpOmE9ITEsY2goYixjKSxHaShiLGQsZSksSWkoYixkLGUsYyksamoobnVsbCxiLGQsITAsYSxjKTtjYXNlIDE5OnJldHVybiB4aihhLGIsYyk7Y2FzZSAyMjpyZXR1cm4gZGooYSxiLGMpfXRocm93IEVycm9yKHAoMTU2LGIudGFnKSk7fTtmdW5jdGlvbiBGayhhLGIpe3JldHVybiBhYyhhLGIpfVxuZnVuY3Rpb24gJGsoYSxiLGMsZCl7dGhpcy50YWc9YTt0aGlzLmtleT1jO3RoaXMuc2libGluZz10aGlzLmNoaWxkPXRoaXMucmV0dXJuPXRoaXMuc3RhdGVOb2RlPXRoaXMudHlwZT10aGlzLmVsZW1lbnRUeXBlPW51bGw7dGhpcy5pbmRleD0wO3RoaXMucmVmPW51bGw7dGhpcy5wZW5kaW5nUHJvcHM9Yjt0aGlzLmRlcGVuZGVuY2llcz10aGlzLm1lbW9pemVkU3RhdGU9dGhpcy51cGRhdGVRdWV1ZT10aGlzLm1lbW9pemVkUHJvcHM9bnVsbDt0aGlzLm1vZGU9ZDt0aGlzLnN1YnRyZWVGbGFncz10aGlzLmZsYWdzPTA7dGhpcy5kZWxldGlvbnM9bnVsbDt0aGlzLmNoaWxkTGFuZXM9dGhpcy5sYW5lcz0wO3RoaXMuYWx0ZXJuYXRlPW51bGx9ZnVuY3Rpb24gQmcoYSxiLGMsZCl7cmV0dXJuIG5ldyAkayhhLGIsYyxkKX1mdW5jdGlvbiBhaihhKXthPWEucHJvdG90eXBlO3JldHVybiEoIWF8fCFhLmlzUmVhY3RDb21wb25lbnQpfVxuZnVuY3Rpb24gWmsoYSl7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpcmV0dXJuIGFqKGEpPzE6MDtpZih2b2lkIDAhPT1hJiZudWxsIT09YSl7YT1hLiQkdHlwZW9mO2lmKGE9PT1EYSlyZXR1cm4gMTE7aWYoYT09PUdhKXJldHVybiAxNH1yZXR1cm4gMn1cbmZ1bmN0aW9uIFBnKGEsYil7dmFyIGM9YS5hbHRlcm5hdGU7bnVsbD09PWM/KGM9QmcoYS50YWcsYixhLmtleSxhLm1vZGUpLGMuZWxlbWVudFR5cGU9YS5lbGVtZW50VHlwZSxjLnR5cGU9YS50eXBlLGMuc3RhdGVOb2RlPWEuc3RhdGVOb2RlLGMuYWx0ZXJuYXRlPWEsYS5hbHRlcm5hdGU9Yyk6KGMucGVuZGluZ1Byb3BzPWIsYy50eXBlPWEudHlwZSxjLmZsYWdzPTAsYy5zdWJ0cmVlRmxhZ3M9MCxjLmRlbGV0aW9ucz1udWxsKTtjLmZsYWdzPWEuZmxhZ3MmMTQ2ODAwNjQ7Yy5jaGlsZExhbmVzPWEuY2hpbGRMYW5lcztjLmxhbmVzPWEubGFuZXM7Yy5jaGlsZD1hLmNoaWxkO2MubWVtb2l6ZWRQcm9wcz1hLm1lbW9pemVkUHJvcHM7Yy5tZW1vaXplZFN0YXRlPWEubWVtb2l6ZWRTdGF0ZTtjLnVwZGF0ZVF1ZXVlPWEudXBkYXRlUXVldWU7Yj1hLmRlcGVuZGVuY2llcztjLmRlcGVuZGVuY2llcz1udWxsPT09Yj9udWxsOntsYW5lczpiLmxhbmVzLGZpcnN0Q29udGV4dDpiLmZpcnN0Q29udGV4dH07XG5jLnNpYmxpbmc9YS5zaWJsaW5nO2MuaW5kZXg9YS5pbmRleDtjLnJlZj1hLnJlZjtyZXR1cm4gY31cbmZ1bmN0aW9uIFJnKGEsYixjLGQsZSxmKXt2YXIgZz0yO2Q9YTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSlhaihhKSYmKGc9MSk7ZWxzZSBpZihcInN0cmluZ1wiPT09dHlwZW9mIGEpZz01O2Vsc2UgYTpzd2l0Y2goYSl7Y2FzZSB5YTpyZXR1cm4gVGcoYy5jaGlsZHJlbixlLGYsYik7Y2FzZSB6YTpnPTg7ZXw9ODticmVhaztjYXNlIEFhOnJldHVybiBhPUJnKDEyLGMsYixlfDIpLGEuZWxlbWVudFR5cGU9QWEsYS5sYW5lcz1mLGE7Y2FzZSBFYTpyZXR1cm4gYT1CZygxMyxjLGIsZSksYS5lbGVtZW50VHlwZT1FYSxhLmxhbmVzPWYsYTtjYXNlIEZhOnJldHVybiBhPUJnKDE5LGMsYixlKSxhLmVsZW1lbnRUeXBlPUZhLGEubGFuZXM9ZixhO2Nhc2UgSWE6cmV0dXJuIHBqKGMsZSxmLGIpO2RlZmF1bHQ6aWYoXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSlzd2l0Y2goYS4kJHR5cGVvZil7Y2FzZSBCYTpnPTEwO2JyZWFrIGE7Y2FzZSBDYTpnPTk7YnJlYWsgYTtjYXNlIERhOmc9MTE7XG5icmVhayBhO2Nhc2UgR2E6Zz0xNDticmVhayBhO2Nhc2UgSGE6Zz0xNjtkPW51bGw7YnJlYWsgYX10aHJvdyBFcnJvcihwKDEzMCxudWxsPT1hP2E6dHlwZW9mIGEsXCJcIikpO31iPUJnKGcsYyxiLGUpO2IuZWxlbWVudFR5cGU9YTtiLnR5cGU9ZDtiLmxhbmVzPWY7cmV0dXJuIGJ9ZnVuY3Rpb24gVGcoYSxiLGMsZCl7YT1CZyg3LGEsZCxiKTthLmxhbmVzPWM7cmV0dXJuIGF9ZnVuY3Rpb24gcGooYSxiLGMsZCl7YT1CZygyMixhLGQsYik7YS5lbGVtZW50VHlwZT1JYTthLmxhbmVzPWM7YS5zdGF0ZU5vZGU9e2lzSGlkZGVuOiExfTtyZXR1cm4gYX1mdW5jdGlvbiBRZyhhLGIsYyl7YT1CZyg2LGEsbnVsbCxiKTthLmxhbmVzPWM7cmV0dXJuIGF9XG5mdW5jdGlvbiBTZyhhLGIsYyl7Yj1CZyg0LG51bGwhPT1hLmNoaWxkcmVuP2EuY2hpbGRyZW46W10sYS5rZXksYik7Yi5sYW5lcz1jO2Iuc3RhdGVOb2RlPXtjb250YWluZXJJbmZvOmEuY29udGFpbmVySW5mbyxwZW5kaW5nQ2hpbGRyZW46bnVsbCxpbXBsZW1lbnRhdGlvbjphLmltcGxlbWVudGF0aW9ufTtyZXR1cm4gYn1cbmZ1bmN0aW9uIGFsKGEsYixjLGQsZSl7dGhpcy50YWc9Yjt0aGlzLmNvbnRhaW5lckluZm89YTt0aGlzLmZpbmlzaGVkV29yaz10aGlzLnBpbmdDYWNoZT10aGlzLmN1cnJlbnQ9dGhpcy5wZW5kaW5nQ2hpbGRyZW49bnVsbDt0aGlzLnRpbWVvdXRIYW5kbGU9LTE7dGhpcy5jYWxsYmFja05vZGU9dGhpcy5wZW5kaW5nQ29udGV4dD10aGlzLmNvbnRleHQ9bnVsbDt0aGlzLmNhbGxiYWNrUHJpb3JpdHk9MDt0aGlzLmV2ZW50VGltZXM9emMoMCk7dGhpcy5leHBpcmF0aW9uVGltZXM9emMoLTEpO3RoaXMuZW50YW5nbGVkTGFuZXM9dGhpcy5maW5pc2hlZExhbmVzPXRoaXMubXV0YWJsZVJlYWRMYW5lcz10aGlzLmV4cGlyZWRMYW5lcz10aGlzLnBpbmdlZExhbmVzPXRoaXMuc3VzcGVuZGVkTGFuZXM9dGhpcy5wZW5kaW5nTGFuZXM9MDt0aGlzLmVudGFuZ2xlbWVudHM9emMoMCk7dGhpcy5pZGVudGlmaWVyUHJlZml4PWQ7dGhpcy5vblJlY292ZXJhYmxlRXJyb3I9ZTt0aGlzLm11dGFibGVTb3VyY2VFYWdlckh5ZHJhdGlvbkRhdGE9XG5udWxsfWZ1bmN0aW9uIGJsKGEsYixjLGQsZSxmLGcsaCxrKXthPW5ldyBhbChhLGIsYyxoLGspOzE9PT1iPyhiPTEsITA9PT1mJiYoYnw9OCkpOmI9MDtmPUJnKDMsbnVsbCxudWxsLGIpO2EuY3VycmVudD1mO2Yuc3RhdGVOb2RlPWE7Zi5tZW1vaXplZFN0YXRlPXtlbGVtZW50OmQsaXNEZWh5ZHJhdGVkOmMsY2FjaGU6bnVsbCx0cmFuc2l0aW9uczpudWxsLHBlbmRpbmdTdXNwZW5zZUJvdW5kYXJpZXM6bnVsbH07a2goZik7cmV0dXJuIGF9ZnVuY3Rpb24gY2woYSxiLGMpe3ZhciBkPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO3JldHVybnskJHR5cGVvZjp3YSxrZXk6bnVsbD09ZD9udWxsOlwiXCIrZCxjaGlsZHJlbjphLGNvbnRhaW5lckluZm86YixpbXBsZW1lbnRhdGlvbjpjfX1cbmZ1bmN0aW9uIGRsKGEpe2lmKCFhKXJldHVybiBWZjthPWEuX3JlYWN0SW50ZXJuYWxzO2E6e2lmKFZiKGEpIT09YXx8MSE9PWEudGFnKXRocm93IEVycm9yKHAoMTcwKSk7dmFyIGI9YTtkb3tzd2l0Y2goYi50YWcpe2Nhc2UgMzpiPWIuc3RhdGVOb2RlLmNvbnRleHQ7YnJlYWsgYTtjYXNlIDE6aWYoWmYoYi50eXBlKSl7Yj1iLnN0YXRlTm9kZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dDticmVhayBhfX1iPWIucmV0dXJufXdoaWxlKG51bGwhPT1iKTt0aHJvdyBFcnJvcihwKDE3MSkpO31pZigxPT09YS50YWcpe3ZhciBjPWEudHlwZTtpZihaZihjKSlyZXR1cm4gYmcoYSxjLGIpfXJldHVybiBifVxuZnVuY3Rpb24gZWwoYSxiLGMsZCxlLGYsZyxoLGspe2E9YmwoYyxkLCEwLGEsZSxmLGcsaCxrKTthLmNvbnRleHQ9ZGwobnVsbCk7Yz1hLmN1cnJlbnQ7ZD1SKCk7ZT15aShjKTtmPW1oKGQsZSk7Zi5jYWxsYmFjaz12b2lkIDAhPT1iJiZudWxsIT09Yj9iOm51bGw7bmgoYyxmLGUpO2EuY3VycmVudC5sYW5lcz1lO0FjKGEsZSxkKTtEayhhLGQpO3JldHVybiBhfWZ1bmN0aW9uIGZsKGEsYixjLGQpe3ZhciBlPWIuY3VycmVudCxmPVIoKSxnPXlpKGUpO2M9ZGwoYyk7bnVsbD09PWIuY29udGV4dD9iLmNvbnRleHQ9YzpiLnBlbmRpbmdDb250ZXh0PWM7Yj1taChmLGcpO2IucGF5bG9hZD17ZWxlbWVudDphfTtkPXZvaWQgMD09PWQ/bnVsbDpkO251bGwhPT1kJiYoYi5jYWxsYmFjaz1kKTthPW5oKGUsYixnKTtudWxsIT09YSYmKGdpKGEsZSxnLGYpLG9oKGEsZSxnKSk7cmV0dXJuIGd9XG5mdW5jdGlvbiBnbChhKXthPWEuY3VycmVudDtpZighYS5jaGlsZClyZXR1cm4gbnVsbDtzd2l0Y2goYS5jaGlsZC50YWcpe2Nhc2UgNTpyZXR1cm4gYS5jaGlsZC5zdGF0ZU5vZGU7ZGVmYXVsdDpyZXR1cm4gYS5jaGlsZC5zdGF0ZU5vZGV9fWZ1bmN0aW9uIGhsKGEsYil7YT1hLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWEmJm51bGwhPT1hLmRlaHlkcmF0ZWQpe3ZhciBjPWEucmV0cnlMYW5lO2EucmV0cnlMYW5lPTAhPT1jJiZjPGI/YzpifX1mdW5jdGlvbiBpbChhLGIpe2hsKGEsYik7KGE9YS5hbHRlcm5hdGUpJiZobChhLGIpfWZ1bmN0aW9uIGpsKCl7cmV0dXJuIG51bGx9dmFyIGtsPVwiZnVuY3Rpb25cIj09PXR5cGVvZiByZXBvcnRFcnJvcj9yZXBvcnRFcnJvcjpmdW5jdGlvbihhKXtjb25zb2xlLmVycm9yKGEpfTtmdW5jdGlvbiBsbChhKXt0aGlzLl9pbnRlcm5hbFJvb3Q9YX1cbm1sLnByb3RvdHlwZS5yZW5kZXI9bGwucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9pbnRlcm5hbFJvb3Q7aWYobnVsbD09PWIpdGhyb3cgRXJyb3IocCg0MDkpKTtmbChhLGIsbnVsbCxudWxsKX07bWwucHJvdG90eXBlLnVubW91bnQ9bGwucHJvdG90eXBlLnVubW91bnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9pbnRlcm5hbFJvb3Q7aWYobnVsbCE9PWEpe3RoaXMuX2ludGVybmFsUm9vdD1udWxsO3ZhciBiPWEuY29udGFpbmVySW5mbztSayhmdW5jdGlvbigpe2ZsKG51bGwsYSxudWxsLG51bGwpfSk7Ylt1Zl09bnVsbH19O2Z1bmN0aW9uIG1sKGEpe3RoaXMuX2ludGVybmFsUm9vdD1hfVxubWwucHJvdG90eXBlLnVuc3RhYmxlX3NjaGVkdWxlSHlkcmF0aW9uPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPUhjKCk7YT17YmxvY2tlZE9uOm51bGwsdGFyZ2V0OmEscHJpb3JpdHk6Yn07Zm9yKHZhciBjPTA7YzxRYy5sZW5ndGgmJjAhPT1iJiZiPFFjW2NdLnByaW9yaXR5O2MrKyk7UWMuc3BsaWNlKGMsMCxhKTswPT09YyYmVmMoYSl9fTtmdW5jdGlvbiBubChhKXtyZXR1cm4hKCFhfHwxIT09YS5ub2RlVHlwZSYmOSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZSl9ZnVuY3Rpb24gb2woYSl7cmV0dXJuISghYXx8MSE9PWEubm9kZVR5cGUmJjkhPT1hLm5vZGVUeXBlJiYxMSE9PWEubm9kZVR5cGUmJig4IT09YS5ub2RlVHlwZXx8XCIgcmVhY3QtbW91bnQtcG9pbnQtdW5zdGFibGUgXCIhPT1hLm5vZGVWYWx1ZSkpfWZ1bmN0aW9uIHBsKCl7fVxuZnVuY3Rpb24gcWwoYSxiLGMsZCxlKXtpZihlKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZCl7dmFyIGY9ZDtkPWZ1bmN0aW9uKCl7dmFyIGE9Z2woZyk7Zi5jYWxsKGEpfX12YXIgZz1lbChiLGQsYSwwLG51bGwsITEsITEsXCJcIixwbCk7YS5fcmVhY3RSb290Q29udGFpbmVyPWc7YVt1Zl09Zy5jdXJyZW50O3NmKDg9PT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphKTtSaygpO3JldHVybiBnfWZvcig7ZT1hLmxhc3RDaGlsZDspYS5yZW1vdmVDaGlsZChlKTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZCl7dmFyIGg9ZDtkPWZ1bmN0aW9uKCl7dmFyIGE9Z2woayk7aC5jYWxsKGEpfX12YXIgaz1ibChhLDAsITEsbnVsbCxudWxsLCExLCExLFwiXCIscGwpO2EuX3JlYWN0Um9vdENvbnRhaW5lcj1rO2FbdWZdPWsuY3VycmVudDtzZig4PT09YS5ub2RlVHlwZT9hLnBhcmVudE5vZGU6YSk7UmsoZnVuY3Rpb24oKXtmbChiLGssYyxkKX0pO3JldHVybiBrfVxuZnVuY3Rpb24gcmwoYSxiLGMsZCxlKXt2YXIgZj1jLl9yZWFjdFJvb3RDb250YWluZXI7aWYoZil7dmFyIGc9ZjtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZSl7dmFyIGg9ZTtlPWZ1bmN0aW9uKCl7dmFyIGE9Z2woZyk7aC5jYWxsKGEpfX1mbChiLGcsYSxlKX1lbHNlIGc9cWwoYyxiLGEsZSxkKTtyZXR1cm4gZ2woZyl9RWM9ZnVuY3Rpb24oYSl7c3dpdGNoKGEudGFnKXtjYXNlIDM6dmFyIGI9YS5zdGF0ZU5vZGU7aWYoYi5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkKXt2YXIgYz10YyhiLnBlbmRpbmdMYW5lcyk7MCE9PWMmJihDYyhiLGN8MSksRGsoYixCKCkpLDA9PT0oSyY2KSYmKEdqPUIoKSs1MDAsamcoKSkpfWJyZWFrO2Nhc2UgMTM6UmsoZnVuY3Rpb24oKXt2YXIgYj1paChhLDEpO2lmKG51bGwhPT1iKXt2YXIgYz1SKCk7Z2koYixhLDEsYyl9fSksaWwoYSwxKX19O1xuRmM9ZnVuY3Rpb24oYSl7aWYoMTM9PT1hLnRhZyl7dmFyIGI9aWgoYSwxMzQyMTc3MjgpO2lmKG51bGwhPT1iKXt2YXIgYz1SKCk7Z2koYixhLDEzNDIxNzcyOCxjKX1pbChhLDEzNDIxNzcyOCl9fTtHYz1mdW5jdGlvbihhKXtpZigxMz09PWEudGFnKXt2YXIgYj15aShhKSxjPWloKGEsYik7aWYobnVsbCE9PWMpe3ZhciBkPVIoKTtnaShjLGEsYixkKX1pbChhLGIpfX07SGM9ZnVuY3Rpb24oKXtyZXR1cm4gQ307SWM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1DO3RyeXtyZXR1cm4gQz1hLGIoKX1maW5hbGx5e0M9Y319O1xueWI9ZnVuY3Rpb24oYSxiLGMpe3N3aXRjaChiKXtjYXNlIFwiaW5wdXRcIjpiYihhLGMpO2I9Yy5uYW1lO2lmKFwicmFkaW9cIj09PWMudHlwZSYmbnVsbCE9Yil7Zm9yKGM9YTtjLnBhcmVudE5vZGU7KWM9Yy5wYXJlbnROb2RlO2M9Yy5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbbmFtZT1cIitKU09OLnN0cmluZ2lmeShcIlwiK2IpKyddW3R5cGU9XCJyYWRpb1wiXScpO2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspe3ZhciBkPWNbYl07aWYoZCE9PWEmJmQuZm9ybT09PWEuZm9ybSl7dmFyIGU9RGIoZCk7aWYoIWUpdGhyb3cgRXJyb3IocCg5MCkpO1dhKGQpO2JiKGQsZSl9fX1icmVhaztjYXNlIFwidGV4dGFyZWFcIjppYihhLGMpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjpiPWMudmFsdWUsbnVsbCE9YiYmZmIoYSwhIWMubXVsdGlwbGUsYiwhMSl9fTtHYj1RaztIYj1SaztcbnZhciBzbD17dXNpbmdDbGllbnRFbnRyeVBvaW50OiExLEV2ZW50czpbQ2IsdWUsRGIsRWIsRmIsUWtdfSx0bD17ZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6V2MsYnVuZGxlVHlwZTowLHZlcnNpb246XCIxOC4zLjFcIixyZW5kZXJlclBhY2thZ2VOYW1lOlwicmVhY3QtZG9tXCJ9O1xudmFyIHVsPXtidW5kbGVUeXBlOnRsLmJ1bmRsZVR5cGUsdmVyc2lvbjp0bC52ZXJzaW9uLHJlbmRlcmVyUGFja2FnZU5hbWU6dGwucmVuZGVyZXJQYWNrYWdlTmFtZSxyZW5kZXJlckNvbmZpZzp0bC5yZW5kZXJlckNvbmZpZyxvdmVycmlkZUhvb2tTdGF0ZTpudWxsLG92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aDpudWxsLG92ZXJyaWRlSG9va1N0YXRlUmVuYW1lUGF0aDpudWxsLG92ZXJyaWRlUHJvcHM6bnVsbCxvdmVycmlkZVByb3BzRGVsZXRlUGF0aDpudWxsLG92ZXJyaWRlUHJvcHNSZW5hbWVQYXRoOm51bGwsc2V0RXJyb3JIYW5kbGVyOm51bGwsc2V0U3VzcGVuc2VIYW5kbGVyOm51bGwsc2NoZWR1bGVVcGRhdGU6bnVsbCxjdXJyZW50RGlzcGF0Y2hlclJlZjp1YS5SZWFjdEN1cnJlbnREaXNwYXRjaGVyLGZpbmRIb3N0SW5zdGFuY2VCeUZpYmVyOmZ1bmN0aW9uKGEpe2E9WmIoYSk7cmV0dXJuIG51bGw9PT1hP251bGw6YS5zdGF0ZU5vZGV9LGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOnRsLmZpbmRGaWJlckJ5SG9zdEluc3RhbmNlfHxcbmpsLGZpbmRIb3N0SW5zdGFuY2VzRm9yUmVmcmVzaDpudWxsLHNjaGVkdWxlUmVmcmVzaDpudWxsLHNjaGVkdWxlUm9vdDpudWxsLHNldFJlZnJlc2hIYW5kbGVyOm51bGwsZ2V0Q3VycmVudEZpYmVyOm51bGwscmVjb25jaWxlclZlcnNpb246XCIxOC4zLjEtbmV4dC1mMTMzOGY4MDgwLTIwMjQwNDI2XCJ9O2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fKXt2YXIgdmw9X19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fO2lmKCF2bC5pc0Rpc2FibGVkJiZ2bC5zdXBwb3J0c0ZpYmVyKXRyeXtrYz12bC5pbmplY3QodWwpLGxjPXZsfWNhdGNoKGEpe319ZXhwb3J0cy5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1zbDtcbmV4cG9ydHMuY3JlYXRlUG9ydGFsPWZ1bmN0aW9uKGEsYil7dmFyIGM9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGw7aWYoIW5sKGIpKXRocm93IEVycm9yKHAoMjAwKSk7cmV0dXJuIGNsKGEsYixudWxsLGMpfTtleHBvcnRzLmNyZWF0ZVJvb3Q9ZnVuY3Rpb24oYSxiKXtpZighbmwoYSkpdGhyb3cgRXJyb3IocCgyOTkpKTt2YXIgYz0hMSxkPVwiXCIsZT1rbDtudWxsIT09YiYmdm9pZCAwIT09YiYmKCEwPT09Yi51bnN0YWJsZV9zdHJpY3RNb2RlJiYoYz0hMCksdm9pZCAwIT09Yi5pZGVudGlmaWVyUHJlZml4JiYoZD1iLmlkZW50aWZpZXJQcmVmaXgpLHZvaWQgMCE9PWIub25SZWNvdmVyYWJsZUVycm9yJiYoZT1iLm9uUmVjb3ZlcmFibGVFcnJvcikpO2I9YmwoYSwxLCExLG51bGwsbnVsbCxjLCExLGQsZSk7YVt1Zl09Yi5jdXJyZW50O3NmKDg9PT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphKTtyZXR1cm4gbmV3IGxsKGIpfTtcbmV4cG9ydHMuZmluZERPTU5vZGU9ZnVuY3Rpb24oYSl7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZigxPT09YS5ub2RlVHlwZSlyZXR1cm4gYTt2YXIgYj1hLl9yZWFjdEludGVybmFscztpZih2b2lkIDA9PT1iKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5yZW5kZXIpdGhyb3cgRXJyb3IocCgxODgpKTthPU9iamVjdC5rZXlzKGEpLmpvaW4oXCIsXCIpO3Rocm93IEVycm9yKHAoMjY4LGEpKTt9YT1aYihiKTthPW51bGw9PT1hP251bGw6YS5zdGF0ZU5vZGU7cmV0dXJuIGF9O2V4cG9ydHMuZmx1c2hTeW5jPWZ1bmN0aW9uKGEpe3JldHVybiBSayhhKX07ZXhwb3J0cy5oeWRyYXRlPWZ1bmN0aW9uKGEsYixjKXtpZighb2woYikpdGhyb3cgRXJyb3IocCgyMDApKTtyZXR1cm4gcmwobnVsbCxhLGIsITAsYyl9O1xuZXhwb3J0cy5oeWRyYXRlUm9vdD1mdW5jdGlvbihhLGIsYyl7aWYoIW5sKGEpKXRocm93IEVycm9yKHAoNDA1KSk7dmFyIGQ9bnVsbCE9YyYmYy5oeWRyYXRlZFNvdXJjZXN8fG51bGwsZT0hMSxmPVwiXCIsZz1rbDtudWxsIT09YyYmdm9pZCAwIT09YyYmKCEwPT09Yy51bnN0YWJsZV9zdHJpY3RNb2RlJiYoZT0hMCksdm9pZCAwIT09Yy5pZGVudGlmaWVyUHJlZml4JiYoZj1jLmlkZW50aWZpZXJQcmVmaXgpLHZvaWQgMCE9PWMub25SZWNvdmVyYWJsZUVycm9yJiYoZz1jLm9uUmVjb3ZlcmFibGVFcnJvcikpO2I9ZWwoYixudWxsLGEsMSxudWxsIT1jP2M6bnVsbCxlLCExLGYsZyk7YVt1Zl09Yi5jdXJyZW50O3NmKGEpO2lmKGQpZm9yKGE9MDthPGQubGVuZ3RoO2ErKyljPWRbYV0sZT1jLl9nZXRWZXJzaW9uLGU9ZShjLl9zb3VyY2UpLG51bGw9PWIubXV0YWJsZVNvdXJjZUVhZ2VySHlkcmF0aW9uRGF0YT9iLm11dGFibGVTb3VyY2VFYWdlckh5ZHJhdGlvbkRhdGE9W2MsZV06Yi5tdXRhYmxlU291cmNlRWFnZXJIeWRyYXRpb25EYXRhLnB1c2goYyxcbmUpO3JldHVybiBuZXcgbWwoYil9O2V4cG9ydHMucmVuZGVyPWZ1bmN0aW9uKGEsYixjKXtpZighb2woYikpdGhyb3cgRXJyb3IocCgyMDApKTtyZXR1cm4gcmwobnVsbCxhLGIsITEsYyl9O2V4cG9ydHMudW5tb3VudENvbXBvbmVudEF0Tm9kZT1mdW5jdGlvbihhKXtpZighb2woYSkpdGhyb3cgRXJyb3IocCg0MCkpO3JldHVybiBhLl9yZWFjdFJvb3RDb250YWluZXI/KFJrKGZ1bmN0aW9uKCl7cmwobnVsbCxudWxsLGEsITEsZnVuY3Rpb24oKXthLl9yZWFjdFJvb3RDb250YWluZXI9bnVsbDthW3VmXT1udWxsfSl9KSwhMCk6ITF9O2V4cG9ydHMudW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM9UWs7XG5leHBvcnRzLnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyPWZ1bmN0aW9uKGEsYixjLGQpe2lmKCFvbChjKSl0aHJvdyBFcnJvcihwKDIwMCkpO2lmKG51bGw9PWF8fHZvaWQgMD09PWEuX3JlYWN0SW50ZXJuYWxzKXRocm93IEVycm9yKHAoMzgpKTtyZXR1cm4gcmwoYSxiLGMsITEsZCl9O2V4cG9ydHMudmVyc2lvbj1cIjE4LjMuMS1uZXh0LWYxMzM4ZjgwODAtMjAyNDA0MjZcIjtcbiIsICIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNoZWNrRENFKCkge1xuICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG4gIGlmIChcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVGhpcyBicmFuY2ggaXMgdW5yZWFjaGFibGUgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkXG4gICAgLy8gaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBjb25kaXRpb24gaXMgdHJ1ZSBvbmx5IGluIGRldmVsb3BtZW50LlxuICAgIC8vIFRoZXJlZm9yZSBpZiB0aGUgYnJhbmNoIGlzIHN0aWxsIGhlcmUsIGRlYWQgY29kZSBlbGltaW5hdGlvbiB3YXNuJ3RcbiAgICAvLyBwcm9wZXJseSBhcHBsaWVkLlxuICAgIC8vIERvbid0IGNoYW5nZSB0aGUgbWVzc2FnZS4gUmVhY3QgRGV2VG9vbHMgcmVsaWVzIG9uIGl0LiBBbHNvIG1ha2Ugc3VyZVxuICAgIC8vIHRoaXMgbWVzc2FnZSBkb2Vzbid0IG9jY3VyIGVsc2V3aGVyZSBpbiB0aGlzIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhdXNlXG4gICAgLy8gYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ15fXicpO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGNvZGUgYWJvdmUgaGFzIGJlZW4gZGVhZCBjb2RlIGVsaW1pbmF0ZWQgKERDRSdkKS5cbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UoY2hlY2tEQ0UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEZXZUb29scyBzaG91bGRuJ3QgY3Jhc2ggUmVhY3QsIG5vIG1hdHRlciB3aGF0LlxuICAgIC8vIFdlIHNob3VsZCBzdGlsbCByZXBvcnQgaW4gY2FzZSB3ZSBicmVhayB0aGlzIGNvZGUuXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIERDRSBjaGVjayBzaG91bGQgaGFwcGVuIGJlZm9yZSBSZWFjdERPTSBidW5kbGUgZXhlY3V0ZXMgc28gdGhhdFxuICAvLyBEZXZUb29scyBjYW4gcmVwb3J0IGJhZCBtaW5pZmljYXRpb24gZHVyaW5nIGluamVjdGlvbi5cbiAgY2hlY2tEQ0UoKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgZXhwb3J0cy5jcmVhdGVSb290ID0gbS5jcmVhdGVSb290O1xuICBleHBvcnRzLmh5ZHJhdGVSb290ID0gbS5oeWRyYXRlUm9vdDtcbn0gZWxzZSB7XG4gIHZhciBpID0gbS5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcbiAgZXhwb3J0cy5jcmVhdGVSb290ID0gZnVuY3Rpb24oYywgbykge1xuICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG0uY3JlYXRlUm9vdChjLCBvKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaS51c2luZ0NsaWVudEVudHJ5UG9pbnQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIGV4cG9ydHMuaHlkcmF0ZVJvb3QgPSBmdW5jdGlvbihjLCBoLCBvKSB7XG4gICAgaS51c2luZ0NsaWVudEVudHJ5UG9pbnQgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbS5oeWRyYXRlUm9vdChjLCBoLCBvKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaS51c2luZ0NsaWVudEVudHJ5UG9pbnQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEZpcmViYXNlIGNvbnN0YW50cy4gIFNvbWUgb2YgdGhlc2UgKEBkZWZpbmVzKSBjYW4gYmUgb3ZlcnJpZGRlbiBhdCBjb21waWxlLXRpbWUuXG4gKi9cblxuZXhwb3J0IGNvbnN0IENPTlNUQU5UUyA9IHtcbiAgLyoqXG4gICAqIEBkZWZpbmUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBpcyB0aGUgY2xpZW50IE5vZGUuanMgU0RLLlxuICAgKi9cbiAgTk9ERV9DTElFTlQ6IGZhbHNlLFxuICAvKipcbiAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBBZG1pbiBOb2RlLmpzIFNESy5cbiAgICovXG4gIE5PREVfQURNSU46IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBGaXJlYmFzZSBTREsgVmVyc2lvblxuICAgKi9cbiAgU0RLX1ZFUlNJT046ICcke0pTQ09SRV9WRVJTSU9OfSdcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ09OU1RBTlRTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG4vKipcbiAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgcHJvdmlkZWQgYXNzZXJ0aW9uIGlzIGZhbHN5XG4gKi9cbmV4cG9ydCBjb25zdCBhc3NlcnQgPSBmdW5jdGlvbiAoYXNzZXJ0aW9uOiB1bmtub3duLCBtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCFhc3NlcnRpb24pIHtcbiAgICB0aHJvdyBhc3NlcnRpb25FcnJvcihtZXNzYWdlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIEVycm9yIG9iamVjdCBzdWl0YWJsZSBmb3IgdGhyb3dpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBhc3NlcnRpb25FcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlOiBzdHJpbmcpOiBFcnJvciB7XG4gIHJldHVybiBuZXcgRXJyb3IoXG4gICAgJ0ZpcmViYXNlIERhdGFiYXNlICgnICtcbiAgICAgIENPTlNUQU5UUy5TREtfVkVSU0lPTiArXG4gICAgICAnKSBJTlRFUk5BTCBBU1NFUlQgRkFJTEVEOiAnICtcbiAgICAgIG1lc3NhZ2VcbiAgKTtcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3Qgc3RyaW5nVG9CeXRlQXJyYXkgPSBmdW5jdGlvbiAoc3RyOiBzdHJpbmcpOiBudW1iZXJbXSB7XG4gIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXG4gIGNvbnN0IG91dDogbnVtYmVyW10gPSBbXTtcbiAgbGV0IHAgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGMgPCAxMjgpIHtcbiAgICAgIG91dFtwKytdID0gYztcbiAgICB9IGVsc2UgaWYgKGMgPCAyMDQ4KSB7XG4gICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xuICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgKGMgJiAweGZjMDApID09PSAweGQ4MDAgJiZcbiAgICAgIGkgKyAxIDwgc3RyLmxlbmd0aCAmJlxuICAgICAgKHN0ci5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4ZmMwMCkgPT09IDB4ZGMwMFxuICAgICkge1xuICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcbiAgICAgIGMgPSAweDEwMDAwICsgKChjICYgMHgwM2ZmKSA8PCAxMCkgKyAoc3RyLmNoYXJDb2RlQXQoKytpKSAmIDB4MDNmZik7XG4gICAgICBvdXRbcCsrXSA9IChjID4+IDE4KSB8IDI0MDtcbiAgICAgIG91dFtwKytdID0gKChjID4+IDEyKSAmIDYzKSB8IDEyODtcbiAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xuICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0W3ArK10gPSAoYyA+PiAxMikgfCAyMjQ7XG4gICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcbiAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIFR1cm5zIGFuIGFycmF5IG9mIG51bWJlcnMgaW50byB0aGUgc3RyaW5nIGdpdmVuIGJ5IHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZVxuICogY2hhcmFjdGVycyB0byB3aGljaCB0aGUgbnVtYmVycyBjb3JyZXNwb25kLlxuICogQHBhcmFtIGJ5dGVzIEFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGNoYXJhY3RlcnMuXG4gKiBAcmV0dXJuIFN0cmluZ2lmaWNhdGlvbiBvZiB0aGUgYXJyYXkuXG4gKi9cbmNvbnN0IGJ5dGVBcnJheVRvU3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVzOiBudW1iZXJbXSk6IHN0cmluZyB7XG4gIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXG4gIGNvbnN0IG91dDogc3RyaW5nW10gPSBbXTtcbiAgbGV0IHBvcyA9IDAsXG4gICAgYyA9IDA7XG4gIHdoaWxlIChwb3MgPCBieXRlcy5sZW5ndGgpIHtcbiAgICBjb25zdCBjMSA9IGJ5dGVzW3BvcysrXTtcbiAgICBpZiAoYzEgPCAxMjgpIHtcbiAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZShjMSk7XG4gICAgfSBlbHNlIGlmIChjMSA+IDE5MSAmJiBjMSA8IDIyNCkge1xuICAgICAgY29uc3QgYzIgPSBieXRlc1twb3MrK107XG4gICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMSAmIDMxKSA8PCA2KSB8IChjMiAmIDYzKSk7XG4gICAgfSBlbHNlIGlmIChjMSA+IDIzOSAmJiBjMSA8IDM2NSkge1xuICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcbiAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xuICAgICAgY29uc3QgYzMgPSBieXRlc1twb3MrK107XG4gICAgICBjb25zdCBjNCA9IGJ5dGVzW3BvcysrXTtcbiAgICAgIGNvbnN0IHUgPVxuICAgICAgICAoKChjMSAmIDcpIDw8IDE4KSB8ICgoYzIgJiA2MykgPDwgMTIpIHwgKChjMyAmIDYzKSA8PCA2KSB8IChjNCAmIDYzKSkgLVxuICAgICAgICAweDEwMDAwO1xuICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZDgwMCArICh1ID4+IDEwKSk7XG4gICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhkYzAwICsgKHUgJiAxMDIzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xuICAgICAgY29uc3QgYzMgPSBieXRlc1twb3MrK107XG4gICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgICgoYzEgJiAxNSkgPDwgMTIpIHwgKChjMiAmIDYzKSA8PCA2KSB8IChjMyAmIDYzKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dC5qb2luKCcnKTtcbn07XG5cbmludGVyZmFjZSBCYXNlNjQge1xuICBieXRlVG9DaGFyTWFwXzogeyBba2V5OiBudW1iZXJdOiBzdHJpbmcgfSB8IG51bGw7XG4gIGNoYXJUb0J5dGVNYXBfOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IHwgbnVsbDtcbiAgYnl0ZVRvQ2hhck1hcFdlYlNhZmVfOiB7IFtrZXk6IG51bWJlcl06IHN0cmluZyB9IHwgbnVsbDtcbiAgY2hhclRvQnl0ZU1hcFdlYlNhZmVfOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IHwgbnVsbDtcbiAgRU5DT0RFRF9WQUxTX0JBU0U6IHN0cmluZztcbiAgcmVhZG9ubHkgRU5DT0RFRF9WQUxTOiBzdHJpbmc7XG4gIHJlYWRvbmx5IEVOQ09ERURfVkFMU19XRUJTQUZFOiBzdHJpbmc7XG4gIEhBU19OQVRJVkVfU1VQUE9SVDogYm9vbGVhbjtcbiAgZW5jb2RlQnl0ZUFycmF5KGlucHV0OiBudW1iZXJbXSB8IFVpbnQ4QXJyYXksIHdlYlNhZmU/OiBib29sZWFuKTogc3RyaW5nO1xuICBlbmNvZGVTdHJpbmcoaW5wdXQ6IHN0cmluZywgd2ViU2FmZT86IGJvb2xlYW4pOiBzdHJpbmc7XG4gIGRlY29kZVN0cmluZyhpbnB1dDogc3RyaW5nLCB3ZWJTYWZlOiBib29sZWFuKTogc3RyaW5nO1xuICBkZWNvZGVTdHJpbmdUb0J5dGVBcnJheShpbnB1dDogc3RyaW5nLCB3ZWJTYWZlOiBib29sZWFuKTogbnVtYmVyW107XG4gIGluaXRfKCk6IHZvaWQ7XG59XG5cbi8vIFdlIGRlZmluZSBpdCBhcyBhbiBvYmplY3QgbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY2xhc3MgYmVjYXVzZSBhIGNsYXNzIGNvbXBpbGVkIGRvd24gdG8gZXM1IGNhbid0XG4vLyBiZSB0cmVlc2hha2VkLiBodHRwczovL2dpdGh1Yi5jb20vcm9sbHVwL3JvbGx1cC9pc3N1ZXMvMTY5MVxuLy8gU3RhdGljIGxvb2t1cCBtYXBzLCBsYXppbHkgcG9wdWxhdGVkIGJ5IGluaXRfKClcbmV4cG9ydCBjb25zdCBiYXNlNjQ6IEJhc2U2NCA9IHtcbiAgLyoqXG4gICAqIE1hcHMgYnl0ZXMgdG8gY2hhcmFjdGVycy5cbiAgICovXG4gIGJ5dGVUb0NoYXJNYXBfOiBudWxsLFxuXG4gIC8qKlxuICAgKiBNYXBzIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXG4gICAqL1xuICBjaGFyVG9CeXRlTWFwXzogbnVsbCxcblxuICAvKipcbiAgICogTWFwcyBieXRlcyB0byB3ZWJzYWZlIGNoYXJhY3RlcnMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBieXRlVG9DaGFyTWFwV2ViU2FmZV86IG51bGwsXG5cbiAgLyoqXG4gICAqIE1hcHMgd2Vic2FmZSBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2hhclRvQnl0ZU1hcFdlYlNhZmVfOiBudWxsLFxuXG4gIC8qKlxuICAgKiBPdXIgZGVmYXVsdCBhbHBoYWJldCwgc2hhcmVkIGJldHdlZW5cbiAgICogRU5DT0RFRF9WQUxTIGFuZCBFTkNPREVEX1ZBTFNfV0VCU0FGRVxuICAgKi9cbiAgRU5DT0RFRF9WQUxTX0JBU0U6XG4gICAgJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJyArICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicgKyAnMDEyMzQ1Njc4OScsXG5cbiAgLyoqXG4gICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LiBWYWx1ZSA2NCAoPSkgaXMgc3BlY2lhbDsgaXQgbWVhbnMgXCJub3RoaW5nLlwiXG4gICAqL1xuICBnZXQgRU5DT0RFRF9WQUxTKCkge1xuICAgIHJldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFICsgJysvPSc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE91ciB3ZWJzYWZlIGFscGhhYmV0LlxuICAgKi9cbiAgZ2V0IEVOQ09ERURfVkFMU19XRUJTQUZFKCkge1xuICAgIHJldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFICsgJy1fLic7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBicm93c2VyIHN1cHBvcnRzIHRoZSBhdG9iIGFuZCBidG9hIGZ1bmN0aW9ucy4gVGhpcyBleHRlbnNpb25cbiAgICogc3RhcnRlZCBhdCBNb3ppbGxhIGJ1dCBpcyBub3cgaW1wbGVtZW50ZWQgYnkgbWFueSBicm93c2Vycy4gV2UgdXNlIHRoZVxuICAgKiBBU1NVTUVfKiB2YXJpYWJsZXMgdG8gYXZvaWQgcHVsbGluZyBpbiB0aGUgZnVsbCB1c2VyYWdlbnQgZGV0ZWN0aW9uIGxpYnJhcnlcbiAgICogYnV0IHN0aWxsIGFsbG93aW5nIHRoZSBzdGFuZGFyZCBwZXItYnJvd3NlciBjb21waWxhdGlvbnMuXG4gICAqXG4gICAqL1xuICBIQVNfTkFUSVZFX1NVUFBPUlQ6IHR5cGVvZiBhdG9iID09PSAnZnVuY3Rpb24nLFxuXG4gIC8qKlxuICAgKiBCYXNlNjQtZW5jb2RlIGFuIGFycmF5IG9mIGJ5dGVzLlxuICAgKlxuICAgKiBAcGFyYW0gaW5wdXQgQW4gYXJyYXkgb2YgYnl0ZXMgKG51bWJlcnMgd2l0aFxuICAgKiAgICAgdmFsdWUgaW4gWzAsIDI1NV0pIHRvIGVuY29kZS5cbiAgICogQHBhcmFtIHdlYlNhZmUgQm9vbGVhbiBpbmRpY2F0aW5nIHdlIHNob3VsZCB1c2UgdGhlXG4gICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cbiAgICogQHJldHVybiBUaGUgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxuICAgKi9cbiAgZW5jb2RlQnl0ZUFycmF5KGlucHV0OiBudW1iZXJbXSB8IFVpbnQ4QXJyYXksIHdlYlNhZmU/OiBib29sZWFuKTogc3RyaW5nIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICB0aHJvdyBFcnJvcignZW5jb2RlQnl0ZUFycmF5IHRha2VzIGFuIGFycmF5IGFzIGEgcGFyYW1ldGVyJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0XygpO1xuXG4gICAgY29uc3QgYnl0ZVRvQ2hhck1hcCA9IHdlYlNhZmVcbiAgICAgID8gdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV8hXG4gICAgICA6IHRoaXMuYnl0ZVRvQ2hhck1hcF8hO1xuXG4gICAgY29uc3Qgb3V0cHV0ID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICBjb25zdCBieXRlMSA9IGlucHV0W2ldO1xuICAgICAgY29uc3QgaGF2ZUJ5dGUyID0gaSArIDEgPCBpbnB1dC5sZW5ndGg7XG4gICAgICBjb25zdCBieXRlMiA9IGhhdmVCeXRlMiA/IGlucHV0W2kgKyAxXSA6IDA7XG4gICAgICBjb25zdCBoYXZlQnl0ZTMgPSBpICsgMiA8IGlucHV0Lmxlbmd0aDtcbiAgICAgIGNvbnN0IGJ5dGUzID0gaGF2ZUJ5dGUzID8gaW5wdXRbaSArIDJdIDogMDtcblxuICAgICAgY29uc3Qgb3V0Qnl0ZTEgPSBieXRlMSA+PiAyO1xuICAgICAgY29uc3Qgb3V0Qnl0ZTIgPSAoKGJ5dGUxICYgMHgwMykgPDwgNCkgfCAoYnl0ZTIgPj4gNCk7XG4gICAgICBsZXQgb3V0Qnl0ZTMgPSAoKGJ5dGUyICYgMHgwZikgPDwgMikgfCAoYnl0ZTMgPj4gNik7XG4gICAgICBsZXQgb3V0Qnl0ZTQgPSBieXRlMyAmIDB4M2Y7XG5cbiAgICAgIGlmICghaGF2ZUJ5dGUzKSB7XG4gICAgICAgIG91dEJ5dGU0ID0gNjQ7XG5cbiAgICAgICAgaWYgKCFoYXZlQnl0ZTIpIHtcbiAgICAgICAgICBvdXRCeXRlMyA9IDY0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG91dHB1dC5wdXNoKFxuICAgICAgICBieXRlVG9DaGFyTWFwW291dEJ5dGUxXSxcbiAgICAgICAgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlMl0sXG4gICAgICAgIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTNdLFxuICAgICAgICBieXRlVG9DaGFyTWFwW291dEJ5dGU0XVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCYXNlNjQtZW5jb2RlIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gaW5wdXQgQSBzdHJpbmcgdG8gZW5jb2RlLlxuICAgKiBAcGFyYW0gd2ViU2FmZSBJZiB0cnVlLCB3ZSBzaG91bGQgdXNlIHRoZVxuICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXG4gICAqIEByZXR1cm4gVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cbiAgICovXG4gIGVuY29kZVN0cmluZyhpbnB1dDogc3RyaW5nLCB3ZWJTYWZlPzogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgLy8gU2hvcnRjdXQgZm9yIE1vemlsbGEgYnJvd3NlcnMgdGhhdCBpbXBsZW1lbnRcbiAgICAvLyBhIG5hdGl2ZSBiYXNlNjQgZW5jb2RlciBpbiB0aGUgZm9ybSBvZiBcImJ0b2EvYXRvYlwiXG4gICAgaWYgKHRoaXMuSEFTX05BVElWRV9TVVBQT1JUICYmICF3ZWJTYWZlKSB7XG4gICAgICByZXR1cm4gYnRvYShpbnB1dCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVuY29kZUJ5dGVBcnJheShzdHJpbmdUb0J5dGVBcnJheShpbnB1dCksIHdlYlNhZmUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gaW5wdXQgdG8gZGVjb2RlLlxuICAgKiBAcGFyYW0gd2ViU2FmZSBUcnVlIGlmIHdlIHNob3VsZCB1c2UgdGhlXG4gICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cbiAgICogQHJldHVybiBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkZWNvZGVkIHZhbHVlLlxuICAgKi9cbiAgZGVjb2RlU3RyaW5nKGlucHV0OiBzdHJpbmcsIHdlYlNhZmU6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XG4gICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxuICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xuICAgICAgcmV0dXJuIGF0b2IoaW5wdXQpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZUFycmF5VG9TdHJpbmcodGhpcy5kZWNvZGVTdHJpbmdUb0J5dGVBcnJheShpbnB1dCwgd2ViU2FmZSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxuICAgKlxuICAgKiBJbiBiYXNlLTY0IGRlY29kaW5nLCBncm91cHMgb2YgZm91ciBjaGFyYWN0ZXJzIGFyZSBjb252ZXJ0ZWQgaW50byB0aHJlZVxuICAgKiBieXRlcy4gIElmIHRoZSBlbmNvZGVyIGRpZCBub3QgYXBwbHkgcGFkZGluZywgdGhlIGlucHV0IGxlbmd0aCBtYXkgbm90XG4gICAqIGJlIGEgbXVsdGlwbGUgb2YgNC5cbiAgICpcbiAgICogSW4gdGhpcyBjYXNlLCB0aGUgbGFzdCBncm91cCB3aWxsIGhhdmUgZmV3ZXIgdGhhbiA0IGNoYXJhY3RlcnMsIGFuZFxuICAgKiBwYWRkaW5nIHdpbGwgYmUgaW5mZXJyZWQuICBJZiB0aGUgZ3JvdXAgaGFzIG9uZSBvciB0d28gY2hhcmFjdGVycywgaXQgZGVjb2Rlc1xuICAgKiB0byBvbmUgYnl0ZS4gIElmIHRoZSBncm91cCBoYXMgdGhyZWUgY2hhcmFjdGVycywgaXQgZGVjb2RlcyB0byB0d28gYnl0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSBpbnB1dCBJbnB1dCB0byBkZWNvZGUuXG4gICAqIEBwYXJhbSB3ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGUgd2ViLXNhZmUgYWxwaGFiZXQuXG4gICAqIEByZXR1cm4gYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSBkZWNvZGVkIHZhbHVlLlxuICAgKi9cbiAgZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXkoaW5wdXQ6IHN0cmluZywgd2ViU2FmZTogYm9vbGVhbik6IG51bWJlcltdIHtcbiAgICB0aGlzLmluaXRfKCk7XG5cbiAgICBjb25zdCBjaGFyVG9CeXRlTWFwID0gd2ViU2FmZVxuICAgICAgPyB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlXyFcbiAgICAgIDogdGhpcy5jaGFyVG9CeXRlTWFwXyE7XG5cbiAgICBjb25zdCBvdXRwdXQ6IG51bWJlcltdID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgKSB7XG4gICAgICBjb25zdCBieXRlMSA9IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkrKyldO1xuXG4gICAgICBjb25zdCBoYXZlQnl0ZTIgPSBpIDwgaW5wdXQubGVuZ3RoO1xuICAgICAgY29uc3QgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiAwO1xuICAgICAgKytpO1xuXG4gICAgICBjb25zdCBoYXZlQnl0ZTMgPSBpIDwgaW5wdXQubGVuZ3RoO1xuICAgICAgY29uc3QgYnl0ZTMgPSBoYXZlQnl0ZTMgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcbiAgICAgICsraTtcblxuICAgICAgY29uc3QgaGF2ZUJ5dGU0ID0gaSA8IGlucHV0Lmxlbmd0aDtcbiAgICAgIGNvbnN0IGJ5dGU0ID0gaGF2ZUJ5dGU0ID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogNjQ7XG4gICAgICArK2k7XG5cbiAgICAgIGlmIChieXRlMSA9PSBudWxsIHx8IGJ5dGUyID09IG51bGwgfHwgYnl0ZTMgPT0gbnVsbCB8fCBieXRlNCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBEZWNvZGVCYXNlNjRTdHJpbmdFcnJvcigpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvdXRCeXRlMSA9IChieXRlMSA8PCAyKSB8IChieXRlMiA+PiA0KTtcbiAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUxKTtcblxuICAgICAgaWYgKGJ5dGUzICE9PSA2NCkge1xuICAgICAgICBjb25zdCBvdXRCeXRlMiA9ICgoYnl0ZTIgPDwgNCkgJiAweGYwKSB8IChieXRlMyA+PiAyKTtcbiAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTIpO1xuXG4gICAgICAgIGlmIChieXRlNCAhPT0gNjQpIHtcbiAgICAgICAgICBjb25zdCBvdXRCeXRlMyA9ICgoYnl0ZTMgPDwgNikgJiAweGMwKSB8IGJ5dGU0O1xuICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIExhenkgc3RhdGljIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uLiBDYWxsZWQgYmVmb3JlXG4gICAqIGFjY2Vzc2luZyBhbnkgb2YgdGhlIHN0YXRpYyBtYXAgdmFyaWFibGVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaW5pdF8oKSB7XG4gICAgaWYgKCF0aGlzLmJ5dGVUb0NoYXJNYXBfKSB7XG4gICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBfID0ge307XG4gICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfID0ge307XG4gICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlXyA9IHt9O1xuICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV8gPSB7fTtcblxuICAgICAgLy8gV2Ugd2FudCBxdWljayBtYXBwaW5ncyBiYWNrIGFuZCBmb3J0aCwgc28gd2UgcHJlY29tcHV0ZSB0d28gbWFwcy5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5FTkNPREVEX1ZBTFMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwX1tpXSA9IHRoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKTtcbiAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLmJ5dGVUb0NoYXJNYXBfW2ldXSA9IGk7XG4gICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldID0gdGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQoaSk7XG4gICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldXSA9IGk7XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nIHdoZW4gZGVjb2RpbmcgYW5kIGNvcnJlY3RseSBkZWNvZGUgYm90aCBlbmNvZGluZ3MuXG4gICAgICAgIGlmIChpID49IHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKV0gPSBpO1xuICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKV0gPSBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEFuIGVycm9yIGVuY291bnRlcmVkIHdoaWxlIGRlY29kaW5nIGJhc2U2NCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWNvZGVCYXNlNjRTdHJpbmdFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcmVhZG9ubHkgbmFtZSA9ICdEZWNvZGVCYXNlNjRTdHJpbmdFcnJvcic7XG59XG5cbi8qKlxuICogVVJMLXNhZmUgYmFzZTY0IGVuY29kaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBiYXNlNjRFbmNvZGUgPSBmdW5jdGlvbiAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCB1dGY4Qnl0ZXMgPSBzdHJpbmdUb0J5dGVBcnJheShzdHIpO1xuICByZXR1cm4gYmFzZTY0LmVuY29kZUJ5dGVBcnJheSh1dGY4Qnl0ZXMsIHRydWUpO1xufTtcblxuLyoqXG4gKiBVUkwtc2FmZSBiYXNlNjQgZW5jb2RpbmcgKHdpdGhvdXQgXCIuXCIgcGFkZGluZyBpbiB0aGUgZW5kKS5cbiAqIGUuZy4gVXNlZCBpbiBKU09OIFdlYiBUb2tlbiAoSldUKSBwYXJ0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nID0gZnVuY3Rpb24gKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gVXNlIGJhc2U2NHVybCBlbmNvZGluZyBhbmQgcmVtb3ZlIHBhZGRpbmcgaW4gdGhlIGVuZCAoZG90IGNoYXJhY3RlcnMpLlxuICByZXR1cm4gYmFzZTY0RW5jb2RlKHN0cikucmVwbGFjZSgvXFwuL2csICcnKTtcbn07XG5cbi8qKlxuICogVVJMLXNhZmUgYmFzZTY0IGRlY29kaW5nXG4gKlxuICogTk9URTogRE8gTk9UIHVzZSB0aGUgZ2xvYmFsIGF0b2IoKSBmdW5jdGlvbiAtIGl0IGRvZXMgTk9UIHN1cHBvcnQgdGhlXG4gKiBiYXNlNjRVcmwgdmFyaWFudCBlbmNvZGluZy5cbiAqXG4gKiBAcGFyYW0gc3RyIFRvIGJlIGRlY29kZWRcbiAqIEByZXR1cm4gRGVjb2RlZCByZXN1bHQsIGlmIHBvc3NpYmxlXG4gKi9cbmV4cG9ydCBjb25zdCBiYXNlNjREZWNvZGUgPSBmdW5jdGlvbiAoc3RyOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYmFzZTY0LmRlY29kZVN0cmluZyhzdHIsIHRydWUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcignYmFzZTY0RGVjb2RlIGZhaWxlZDogJywgZSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogRG8gYSBkZWVwLWNvcHkgb2YgYmFzaWMgSmF2YVNjcmlwdCBPYmplY3RzIG9yIEFycmF5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBDb3B5PFQ+KHZhbHVlOiBUKTogVCB7XG4gIHJldHVybiBkZWVwRXh0ZW5kKHVuZGVmaW5lZCwgdmFsdWUpIGFzIFQ7XG59XG5cbi8qKlxuICogQ29weSBwcm9wZXJ0aWVzIGZyb20gc291cmNlIHRvIHRhcmdldCAocmVjdXJzaXZlbHkgYWxsb3dzIGV4dGVuc2lvblxuICogb2YgT2JqZWN0cyBhbmQgQXJyYXlzKS4gIFNjYWxhciB2YWx1ZXMgaW4gdGhlIHRhcmdldCBhcmUgb3Zlci13cml0dGVuLlxuICogSWYgdGFyZ2V0IGlzIHVuZGVmaW5lZCwgYW4gb2JqZWN0IG9mIHRoZSBhcHByb3ByaWF0ZSB0eXBlIHdpbGwgYmUgY3JlYXRlZFxuICogKGFuZCByZXR1cm5lZCkuXG4gKlxuICogV2UgcmVjdXJzaXZlbHkgY29weSBhbGwgY2hpbGQgcHJvcGVydGllcyBvZiBwbGFpbiBPYmplY3RzIGluIHRoZSBzb3VyY2UtIHNvXG4gKiB0aGF0IG5hbWVzcGFjZS0gbGlrZSBkaWN0aW9uYXJpZXMgYXJlIG1lcmdlZC5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIHRhcmdldCBjYW4gYmUgYSBmdW5jdGlvbiwgaW4gd2hpY2ggY2FzZSB0aGUgcHJvcGVydGllcyBpblxuICogdGhlIHNvdXJjZSBPYmplY3QgYXJlIGNvcGllZCBvbnRvIGl0IGFzIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBGdW5jdGlvbi5cbiAqXG4gKiBOb3RlOiB3ZSBkb24ndCBtZXJnZSBfX3Byb3RvX18gdG8gcHJldmVudCBwcm90b3R5cGUgcG9sbHV0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXh0ZW5kKHRhcmdldDogdW5rbm93biwgc291cmNlOiB1bmtub3duKTogdW5rbm93biB7XG4gIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgc3dpdGNoIChzb3VyY2UuY29uc3RydWN0b3IpIHtcbiAgICBjYXNlIERhdGU6XG4gICAgICAvLyBUcmVhdCBEYXRlcyBsaWtlIHNjYWxhcnM7IGlmIHRoZSB0YXJnZXQgZGF0ZSBvYmplY3QgaGFkIGFueSBjaGlsZFxuICAgICAgLy8gcHJvcGVydGllcyAtIHRoZXkgd2lsbCBiZSBsb3N0IVxuICAgICAgY29uc3QgZGF0ZVZhbHVlID0gc291cmNlIGFzIERhdGU7XG4gICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVZhbHVlLmdldFRpbWUoKSk7XG5cbiAgICBjYXNlIE9iamVjdDpcbiAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0YXJnZXQgPSB7fTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQXJyYXk6XG4gICAgICAvLyBBbHdheXMgY29weSB0aGUgYXJyYXkgc291cmNlIGFuZCBvdmVyd3JpdGUgdGhlIHRhcmdldC5cbiAgICAgIHRhcmdldCA9IFtdO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gTm90IGEgcGxhaW4gT2JqZWN0IC0gdHJlYXQgaXQgYXMgYSBzY2FsYXIuXG4gICAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xuICAgIC8vIHVzZSBpc1ZhbGlkS2V5IHRvIGd1YXJkIGFnYWluc3QgcHJvdG90eXBlIHBvbGx1dGlvbi4gU2VlIGh0dHBzOi8vc255ay5pby92dWxuL1NOWUstSlMtTE9EQVNILTQ1MDIwMlxuICAgIGlmICghc291cmNlLmhhc093blByb3BlcnR5KHByb3ApIHx8ICFpc1ZhbGlkS2V5KHByb3ApKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgKHRhcmdldCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbcHJvcF0gPSBkZWVwRXh0ZW5kKFxuICAgICAgKHRhcmdldCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbcHJvcF0sXG4gICAgICAoc291cmNlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtwcm9wXVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkS2V5KGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBrZXkgIT09ICdfX3Byb3RvX18nO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogUG9seWZpbGwgZm9yIGBnbG9iYWxUaGlzYCBvYmplY3QuXG4gKiBAcmV0dXJucyB0aGUgYGdsb2JhbFRoaXNgIG9iamVjdCBmb3IgdGhlIGdpdmVuIGVudmlyb25tZW50LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsKCk6IHR5cGVvZiBnbG9iYWxUaGlzIHtcbiAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBzZWxmO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGdsb2JhbDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdC4nKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBiYXNlNjREZWNvZGUgfSBmcm9tICcuL2NyeXB0JztcbmltcG9ydCB7IGdldEdsb2JhbCB9IGZyb20gJy4vZ2xvYmFsJztcblxuLyoqXG4gKiBLZXlzIGZvciBleHBlcmltZW50YWwgcHJvcGVydGllcyBvbiB0aGUgYEZpcmViYXNlRGVmYXVsdHNgIG9iamVjdC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgRXhwZXJpbWVudGFsS2V5ID0gJ2F1dGhUb2tlblN5bmNVUkwnIHwgJ2F1dGhJZFRva2VuTWF4QWdlJztcblxuLyoqXG4gKiBBbiBvYmplY3QgdGhhdCBjYW4gYmUgaW5qZWN0ZWQgaW50byB0aGUgZW52aXJvbm1lbnQgYXMgX19GSVJFQkFTRV9ERUZBVUxUU19fLFxuICogZWl0aGVyIGFzIGEgcHJvcGVydHkgb2YgZ2xvYmFsVGhpcywgYSBzaGVsbCBlbnZpcm9ubWVudCB2YXJpYWJsZSwgb3IgYVxuICogY29va2llLlxuICpcbiAqIFRoaXMgb2JqZWN0IGNhbiBiZSB1c2VkIHRvIGF1dG9tYXRpY2FsbHkgY29uZmlndXJlIGFuZCBpbml0aWFsaXplXG4gKiBhIEZpcmViYXNlIGFwcCBhcyB3ZWxsIGFzIGFueSBlbXVsYXRvcnMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpcmViYXNlRGVmYXVsdHMge1xuICBjb25maWc/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBlbXVsYXRvckhvc3RzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgX2F1dGhUb2tlblN5bmNVUkw/OiBzdHJpbmc7XG4gIF9hdXRoSWRUb2tlbk1heEFnZT86IG51bWJlcjtcbiAgLyoqXG4gICAqIE92ZXJyaWRlIEZpcmViYXNlJ3MgcnVudGltZSBlbnZpcm9ubWVudCBkZXRlY3Rpb24gYW5kXG4gICAqIGZvcmNlIHRoZSBTREsgdG8gYWN0IGFzIGlmIGl0IHdlcmUgaW4gdGhlIHNwZWNpZmllZCBlbnZpcm9ubWVudC5cbiAgICovXG4gIGZvcmNlRW52aXJvbm1lbnQ/OiAnYnJvd3NlcicgfCAnbm9kZSc7XG4gIFtrZXk6IHN0cmluZ106IHVua25vd247XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gTmVlZCBgdmFyYCBmb3IgdGhpcyB0byB3b3JrLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gIHZhciBfX0ZJUkVCQVNFX0RFRkFVTFRTX186IEZpcmViYXNlRGVmYXVsdHMgfCB1bmRlZmluZWQ7XG59XG5cbmNvbnN0IGdldERlZmF1bHRzRnJvbUdsb2JhbCA9ICgpOiBGaXJlYmFzZURlZmF1bHRzIHwgdW5kZWZpbmVkID0+XG4gIGdldEdsb2JhbCgpLl9fRklSRUJBU0VfREVGQVVMVFNfXztcblxuLyoqXG4gKiBBdHRlbXB0IHRvIHJlYWQgZGVmYXVsdHMgZnJvbSBhIEpTT04gc3RyaW5nIHByb3ZpZGVkIHRvXG4gKiBwcm9jZXNzKC4pZW52KC4pX19GSVJFQkFTRV9ERUZBVUxUU19fIG9yIGEgSlNPTiBmaWxlIHdob3NlIHBhdGggaXMgaW5cbiAqIHByb2Nlc3MoLillbnYoLilfX0ZJUkVCQVNFX0RFRkFVTFRTX1BBVEhfX1xuICogVGhlIGRvdHMgYXJlIGluIHBhcmVucyBiZWNhdXNlIGNlcnRhaW4gY29tcGlsZXJzIChWaXRlPykgY2Fubm90XG4gKiBoYW5kbGUgc2VlaW5nIHRoYXQgdmFyaWFibGUgaW4gY29tbWVudHMuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWpzLXNkay9pc3N1ZXMvNjgzOFxuICovXG5jb25zdCBnZXREZWZhdWx0c0Zyb21FbnZWYXJpYWJsZSA9ICgpOiBGaXJlYmFzZURlZmF1bHRzIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgcHJvY2Vzcy5lbnYgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGRlZmF1bHRzSnNvblN0cmluZyA9IHByb2Nlc3MuZW52Ll9fRklSRUJBU0VfREVGQVVMVFNfXztcbiAgaWYgKGRlZmF1bHRzSnNvblN0cmluZykge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGRlZmF1bHRzSnNvblN0cmluZyk7XG4gIH1cbn07XG5cbmNvbnN0IGdldERlZmF1bHRzRnJvbUNvb2tpZSA9ICgpOiBGaXJlYmFzZURlZmF1bHRzIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG1hdGNoO1xuICB0cnkge1xuICAgIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKC9fX0ZJUkVCQVNFX0RFRkFVTFRTX189KFteO10rKS8pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gU29tZSBlbnZpcm9ubWVudHMgc3VjaCBhcyBBbmd1bGFyIFVuaXZlcnNhbCBTU1IgaGF2ZSBhXG4gICAgLy8gYGRvY3VtZW50YCBvYmplY3QgYnV0IGVycm9yIG9uIGFjY2Vzc2luZyBgZG9jdW1lbnQuY29va2llYC5cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZGVjb2RlZCA9IG1hdGNoICYmIGJhc2U2NERlY29kZShtYXRjaFsxXSk7XG4gIHJldHVybiBkZWNvZGVkICYmIEpTT04ucGFyc2UoZGVjb2RlZCk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdC4gSXQgY2hlY2tzIGluIG9yZGVyOlxuICogKDEpIGlmIHN1Y2ggYW4gb2JqZWN0IGV4aXN0cyBhcyBhIHByb3BlcnR5IG9mIGBnbG9iYWxUaGlzYFxuICogKDIpIGlmIHN1Y2ggYW4gb2JqZWN0IHdhcyBwcm92aWRlZCBvbiBhIHNoZWxsIGVudmlyb25tZW50IHZhcmlhYmxlXG4gKiAoMykgaWYgc3VjaCBhbiBvYmplY3QgZXhpc3RzIGluIGEgY29va2llXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0cyA9ICgpOiBGaXJlYmFzZURlZmF1bHRzIHwgdW5kZWZpbmVkID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gKFxuICAgICAgZ2V0RGVmYXVsdHNGcm9tR2xvYmFsKCkgfHxcbiAgICAgIGdldERlZmF1bHRzRnJvbUVudlZhcmlhYmxlKCkgfHxcbiAgICAgIGdldERlZmF1bHRzRnJvbUNvb2tpZSgpXG4gICAgKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8qKlxuICAgICAqIENhdGNoLWFsbCBmb3IgYmVpbmcgdW5hYmxlIHRvIGdldCBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gZHVlXG4gICAgICogdG8gYW55IGVudmlyb25tZW50IGNhc2Ugd2UgaGF2ZSBub3QgYWNjb3VudGVkIGZvci4gTG9nIHRvXG4gICAgICogaW5mbyBpbnN0ZWFkIG9mIHN3YWxsb3dpbmcgc28gd2UgY2FuIGZpbmQgdGhlc2UgdW5rbm93biBjYXNlc1xuICAgICAqIGFuZCBhZGQgcGF0aHMgZm9yIHRoZW0gaWYgbmVlZGVkLlxuICAgICAqL1xuICAgIGNvbnNvbGUuaW5mbyhgVW5hYmxlIHRvIGdldCBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gZHVlIHRvOiAke2V9YCk7XG4gICAgcmV0dXJuO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgZW11bGF0b3IgaG9zdCBzdG9yZWQgaW4gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3RcbiAqIGZvciB0aGUgZ2l2ZW4gcHJvZHVjdC5cbiAqIEByZXR1cm5zIGEgVVJMIGhvc3QgZm9ybWF0dGVkIGxpa2UgYDEyNy4wLjAuMTo5OTk5YCBvciBgWzo6MV06NDAwMGAgaWYgYXZhaWxhYmxlXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0RW11bGF0b3JIb3N0ID0gKFxuICBwcm9kdWN0TmFtZTogc3RyaW5nXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4gZ2V0RGVmYXVsdHMoKT8uZW11bGF0b3JIb3N0cz8uW3Byb2R1Y3ROYW1lXTtcblxuLyoqXG4gKiBSZXR1cm5zIGVtdWxhdG9yIGhvc3RuYW1lIGFuZCBwb3J0IHN0b3JlZCBpbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdFxuICogZm9yIHRoZSBnaXZlbiBwcm9kdWN0LlxuICogQHJldHVybnMgYSBwYWlyIG9mIGhvc3RuYW1lIGFuZCBwb3J0IGxpa2UgYFtcIjo6MVwiLCA0MDAwXWAgaWYgYXZhaWxhYmxlXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQgPSAoXG4gIHByb2R1Y3ROYW1lOiBzdHJpbmdcbik6IFtob3N0bmFtZTogc3RyaW5nLCBwb3J0OiBudW1iZXJdIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgaG9zdCA9IGdldERlZmF1bHRFbXVsYXRvckhvc3QocHJvZHVjdE5hbWUpO1xuICBpZiAoIWhvc3QpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gaG9zdC5sYXN0SW5kZXhPZignOicpOyAvLyBGaW5kaW5nIHRoZSBsYXN0IHNpbmNlIElQdjYgYWRkciBhbHNvIGhhcyBjb2xvbnMuXG4gIGlmIChzZXBhcmF0b3JJbmRleCA8PSAwIHx8IHNlcGFyYXRvckluZGV4ICsgMSA9PT0gaG9zdC5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaG9zdCAke2hvc3R9IHdpdGggbm8gc2VwYXJhdGUgaG9zdG5hbWUgYW5kIHBvcnQhYCk7XG4gIH1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICBjb25zdCBwb3J0ID0gcGFyc2VJbnQoaG9zdC5zdWJzdHJpbmcoc2VwYXJhdG9ySW5kZXggKyAxKSwgMTApO1xuICBpZiAoaG9zdFswXSA9PT0gJ1snKSB7XG4gICAgLy8gQnJhY2tldC1xdW90ZWQgYFtpcHY2YWRkcl06cG9ydGAgPT4gcmV0dXJuIFwiaXB2NmFkZHJcIiAod2l0aG91dCBicmFja2V0cykuXG4gICAgcmV0dXJuIFtob3N0LnN1YnN0cmluZygxLCBzZXBhcmF0b3JJbmRleCAtIDEpLCBwb3J0XTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW2hvc3Quc3Vic3RyaW5nKDAsIHNlcGFyYXRvckluZGV4KSwgcG9ydF07XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBGaXJlYmFzZSBhcHAgY29uZmlnIHN0b3JlZCBpbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRBcHBDb25maWcgPSAoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB8IHVuZGVmaW5lZCA9PlxuICBnZXREZWZhdWx0cygpPy5jb25maWc7XG5cbi8qKlxuICogUmV0dXJucyBhbiBleHBlcmltZW50YWwgc2V0dGluZyBvbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdCAocHJvcGVydGllc1xuICogcHJlZml4ZWQgYnkgXCJfXCIpXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFeHBlcmltZW50YWxTZXR0aW5nID0gPFQgZXh0ZW5kcyBFeHBlcmltZW50YWxLZXk+KFxuICBuYW1lOiBUXG4pOiBGaXJlYmFzZURlZmF1bHRzW2BfJHtUfWBdID0+XG4gIGdldERlZmF1bHRzKCk/LltgXyR7bmFtZX1gXSBhcyBGaXJlYmFzZURlZmF1bHRzW2BfJHtUfWBdO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjbGFzcyBEZWZlcnJlZDxSPiB7XG4gIHByb21pc2U6IFByb21pc2U8Uj47XG4gIHJlamVjdDogKHZhbHVlPzogdW5rbm93bikgPT4gdm9pZCA9ICgpID0+IHt9O1xuICByZXNvbHZlOiAodmFsdWU/OiB1bmtub3duKSA9PiB2b2lkID0gKCkgPT4ge307XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmUgYXMgKHZhbHVlPzogdW5rbm93bikgPT4gdm9pZDtcbiAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0IGFzICh2YWx1ZT86IHVua25vd24pID0+IHZvaWQ7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogT3VyIEFQSSBpbnRlcm5hbHMgYXJlIG5vdCBwcm9taXNpZmllZCBhbmQgY2Fubm90IGJlY2F1c2Ugb3VyIGNhbGxiYWNrIEFQSXMgaGF2ZSBzdWJ0bGUgZXhwZWN0YXRpb25zIGFyb3VuZFxuICAgKiBpbnZva2luZyBwcm9taXNlcyBpbmxpbmUsIHdoaWNoIFByb21pc2VzIGFyZSBmb3JiaWRkZW4gdG8gZG8uIFRoaXMgbWV0aG9kIGFjY2VwdHMgYW4gb3B0aW9uYWwgbm9kZS1zdHlsZSBjYWxsYmFja1xuICAgKiBhbmQgcmV0dXJucyBhIG5vZGUtc3R5bGUgY2FsbGJhY2sgd2hpY2ggd2lsbCByZXNvbHZlIG9yIHJlamVjdCB0aGUgRGVmZXJyZWQncyBwcm9taXNlLlxuICAgKi9cbiAgd3JhcENhbGxiYWNrKFxuICAgIGNhbGxiYWNrPzogKGVycm9yPzogdW5rbm93biwgdmFsdWU/OiB1bmtub3duKSA9PiB2b2lkXG4gICk6IChlcnJvcjogdW5rbm93biwgdmFsdWU/OiB1bmtub3duKSA9PiB2b2lkIHtcbiAgICByZXR1cm4gKGVycm9yLCB2YWx1ZT8pID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aGlzLnJlamVjdChlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc29sdmUodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBBdHRhY2hpbmcgbm9vcCBoYW5kbGVyIGp1c3QgaW4gY2FzZSBkZXZlbG9wZXIgd2Fzbid0IGV4cGVjdGluZ1xuICAgICAgICAvLyBwcm9taXNlc1xuICAgICAgICB0aGlzLnByb21pc2UuY2F0Y2goKCkgPT4ge30pO1xuXG4gICAgICAgIC8vIFNvbWUgb2Ygb3VyIGNhbGxiYWNrcyBkb24ndCBleHBlY3QgYSB2YWx1ZSBhbmQgb3VyIG93biB0ZXN0c1xuICAgICAgICAvLyBhc3NlcnQgdGhhdCB0aGUgcGFyYW1ldGVyIGxlbmd0aCBpcyAxXG4gICAgICAgIGlmIChjYWxsYmFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2soZXJyb3IsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyB9IGZyb20gJy4vY3J5cHQnO1xuXG4vLyBGaXJlYmFzZSBBdXRoIHRva2VucyBjb250YWluIHNuYWtlX2Nhc2UgY2xhaW1zIGZvbGxvd2luZyB0aGUgSldUIHN0YW5kYXJkIC8gY29udmVudGlvbi5cbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuXG5leHBvcnQgdHlwZSBGaXJlYmFzZVNpZ25JblByb3ZpZGVyID1cbiAgfCAnY3VzdG9tJ1xuICB8ICdlbWFpbCdcbiAgfCAncGFzc3dvcmQnXG4gIHwgJ3Bob25lJ1xuICB8ICdhbm9ueW1vdXMnXG4gIHwgJ2dvb2dsZS5jb20nXG4gIHwgJ2ZhY2Vib29rLmNvbSdcbiAgfCAnZ2l0aHViLmNvbSdcbiAgfCAndHdpdHRlci5jb20nXG4gIHwgJ21pY3Jvc29mdC5jb20nXG4gIHwgJ2FwcGxlLmNvbSc7XG5cbmludGVyZmFjZSBGaXJlYmFzZUlkVG9rZW4ge1xuICAvLyBBbHdheXMgc2V0IHRvIGh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9QUk9KRUNUX0lEXG4gIGlzczogc3RyaW5nO1xuXG4gIC8vIEFsd2F5cyBzZXQgdG8gUFJPSkVDVF9JRFxuICBhdWQ6IHN0cmluZztcblxuICAvLyBUaGUgdXNlcidzIHVuaXF1ZSBJRFxuICBzdWI6IHN0cmluZztcblxuICAvLyBUaGUgdG9rZW4gaXNzdWUgdGltZSwgaW4gc2Vjb25kcyBzaW5jZSBlcG9jaFxuICBpYXQ6IG51bWJlcjtcblxuICAvLyBUaGUgdG9rZW4gZXhwaXJ5IHRpbWUsIG5vcm1hbGx5ICdpYXQnICsgMzYwMFxuICBleHA6IG51bWJlcjtcblxuICAvLyBUaGUgdXNlcidzIHVuaXF1ZSBJRC4gTXVzdCBiZSBlcXVhbCB0byAnc3ViJ1xuICB1c2VyX2lkOiBzdHJpbmc7XG5cbiAgLy8gVGhlIHRpbWUgdGhlIHVzZXIgYXV0aGVudGljYXRlZCwgbm9ybWFsbHkgJ2lhdCdcbiAgYXV0aF90aW1lOiBudW1iZXI7XG5cbiAgLy8gVGhlIHNpZ24gaW4gcHJvdmlkZXIsIG9ubHkgc2V0IHdoZW4gdGhlIHByb3ZpZGVyIGlzICdhbm9ueW1vdXMnXG4gIHByb3ZpZGVyX2lkPzogJ2Fub255bW91cyc7XG5cbiAgLy8gVGhlIHVzZXIncyBwcmltYXJ5IGVtYWlsXG4gIGVtYWlsPzogc3RyaW5nO1xuXG4gIC8vIFRoZSB1c2VyJ3MgZW1haWwgdmVyaWZpY2F0aW9uIHN0YXR1c1xuICBlbWFpbF92ZXJpZmllZD86IGJvb2xlYW47XG5cbiAgLy8gVGhlIHVzZXIncyBwcmltYXJ5IHBob25lIG51bWJlclxuICBwaG9uZV9udW1iZXI/OiBzdHJpbmc7XG5cbiAgLy8gVGhlIHVzZXIncyBkaXNwbGF5IG5hbWVcbiAgbmFtZT86IHN0cmluZztcblxuICAvLyBUaGUgdXNlcidzIHByb2ZpbGUgcGhvdG8gVVJMXG4gIHBpY3R1cmU/OiBzdHJpbmc7XG5cbiAgLy8gSW5mb3JtYXRpb24gb24gYWxsIGlkZW50aXRpZXMgbGlua2VkIHRvIHRoaXMgdXNlclxuICBmaXJlYmFzZToge1xuICAgIC8vIFRoZSBwcmltYXJ5IHNpZ24taW4gcHJvdmlkZXJcbiAgICBzaWduX2luX3Byb3ZpZGVyOiBGaXJlYmFzZVNpZ25JblByb3ZpZGVyO1xuXG4gICAgLy8gQSBtYXAgb2YgcHJvdmlkZXJzIHRvIHRoZSB1c2VyJ3MgbGlzdCBvZiB1bmlxdWUgaWRlbnRpZmllcnMgZnJvbVxuICAgIC8vIGVhY2ggcHJvdmlkZXJcbiAgICBpZGVudGl0aWVzPzogeyBbcHJvdmlkZXIgaW4gRmlyZWJhc2VTaWduSW5Qcm92aWRlcl0/OiBzdHJpbmdbXSB9O1xuICB9O1xuXG4gIC8vIEN1c3RvbSBjbGFpbXMgc2V0IGJ5IHRoZSBkZXZlbG9wZXJcbiAgW2NsYWltOiBzdHJpbmddOiB1bmtub3duO1xuXG4gIHVpZD86IG5ldmVyOyAvLyBUcnkgdG8gY2F0Y2ggYSBjb21tb24gbWlzdGFrZSBvZiBcInVpZFwiIChzaG91bGQgYmUgXCJzdWJcIiBpbnN0ZWFkKS5cbn1cblxuZXhwb3J0IHR5cGUgRW11bGF0b3JNb2NrVG9rZW5PcHRpb25zID0gKHsgdXNlcl9pZDogc3RyaW5nIH0gfCB7IHN1Yjogc3RyaW5nIH0pICZcbiAgUGFydGlhbDxGaXJlYmFzZUlkVG9rZW4+O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTW9ja1VzZXJUb2tlbihcbiAgdG9rZW46IEVtdWxhdG9yTW9ja1Rva2VuT3B0aW9ucyxcbiAgcHJvamVjdElkPzogc3RyaW5nXG4pOiBzdHJpbmcge1xuICBpZiAodG9rZW4udWlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ1RoZSBcInVpZFwiIGZpZWxkIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYnkgbW9ja1VzZXJUb2tlbi4gUGxlYXNlIHVzZSBcInN1YlwiIGluc3RlYWQgZm9yIEZpcmViYXNlIEF1dGggVXNlciBJRC4nXG4gICAgKTtcbiAgfVxuICAvLyBVbnNlY3VyZWQgSldUcyB1c2UgXCJub25lXCIgYXMgdGhlIGFsZ29yaXRobS5cbiAgY29uc3QgaGVhZGVyID0ge1xuICAgIGFsZzogJ25vbmUnLFxuICAgIHR5cGU6ICdKV1QnXG4gIH07XG5cbiAgY29uc3QgcHJvamVjdCA9IHByb2plY3RJZCB8fCAnZGVtby1wcm9qZWN0JztcbiAgY29uc3QgaWF0ID0gdG9rZW4uaWF0IHx8IDA7XG4gIGNvbnN0IHN1YiA9IHRva2VuLnN1YiB8fCB0b2tlbi51c2VyX2lkO1xuICBpZiAoIXN1Yikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIm1vY2tVc2VyVG9rZW4gbXVzdCBjb250YWluICdzdWInIG9yICd1c2VyX2lkJyBmaWVsZCFcIik7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkOiBGaXJlYmFzZUlkVG9rZW4gPSB7XG4gICAgLy8gU2V0IGFsbCByZXF1aXJlZCBmaWVsZHMgdG8gZGVjZW50IGRlZmF1bHRzXG4gICAgaXNzOiBgaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tLyR7cHJvamVjdH1gLFxuICAgIGF1ZDogcHJvamVjdCxcbiAgICBpYXQsXG4gICAgZXhwOiBpYXQgKyAzNjAwLFxuICAgIGF1dGhfdGltZTogaWF0LFxuICAgIHN1YixcbiAgICB1c2VyX2lkOiBzdWIsXG4gICAgZmlyZWJhc2U6IHtcbiAgICAgIHNpZ25faW5fcHJvdmlkZXI6ICdjdXN0b20nLFxuICAgICAgaWRlbnRpdGllczoge31cbiAgICB9LFxuXG4gICAgLy8gT3ZlcnJpZGUgd2l0aCB1c2VyIG9wdGlvbnNcbiAgICAuLi50b2tlblxuICB9O1xuXG4gIC8vIFVuc2VjdXJlZCBKV1RzIHVzZSB0aGUgZW1wdHkgc3RyaW5nIGFzIGEgc2lnbmF0dXJlLlxuICBjb25zdCBzaWduYXR1cmUgPSAnJztcbiAgcmV0dXJuIFtcbiAgICBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhKU09OLnN0cmluZ2lmeShoZWFkZXIpKSxcbiAgICBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhKU09OLnN0cmluZ2lmeShwYXlsb2FkKSksXG4gICAgc2lnbmF0dXJlXG4gIF0uam9pbignLicpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENPTlNUQU5UUyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldERlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cyc7XG5cbi8qKlxuICogVHlwZSBwbGFjZWhvbGRlciBmb3IgYFdvcmtlckdsb2JhbFNjb3BlYCBmcm9tIGB3ZWJ3b3JrZXJgXG4gKi9cbmRlY2xhcmUgY2xhc3MgV29ya2VyR2xvYmFsU2NvcGUge31cblxuLyoqXG4gKiBSZXR1cm5zIG5hdmlnYXRvci51c2VyQWdlbnQgc3RyaW5nIG9yICcnIGlmIGl0J3Mgbm90IGRlZmluZWQuXG4gKiBAcmV0dXJuIHVzZXIgYWdlbnQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVQSgpOiBzdHJpbmcge1xuICBpZiAoXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgbmF2aWdhdG9yWyd1c2VyQWdlbnQnXSA9PT0gJ3N0cmluZydcbiAgKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvclsndXNlckFnZW50J107XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbi8qKlxuICogRGV0ZWN0IENvcmRvdmEgLyBQaG9uZUdhcCAvIElvbmljIGZyYW1ld29ya3Mgb24gYSBtb2JpbGUgZGV2aWNlLlxuICpcbiAqIERlbGliZXJhdGVseSBkb2VzIG5vdCByZWx5IG9uIGNoZWNraW5nIGBmaWxlOi8vYCBVUkxzIChhcyB0aGlzIGZhaWxzIFBob25lR2FwXG4gKiBpbiB0aGUgUmlwcGxlIGVtdWxhdG9yKSBub3IgQ29yZG92YSBgb25EZXZpY2VSZWFkeWAsIHdoaWNoIHdvdWxkIG5vcm1hbGx5XG4gKiB3YWl0IGZvciBhIGNhbGxiYWNrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNb2JpbGVDb3Jkb3ZhKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gQHRzLWlnbm9yZSBTZXR0aW5nIHVwIGFuIGJyb2FkbHkgYXBwbGljYWJsZSBpbmRleCBzaWduYXR1cmUgZm9yIFdpbmRvd1xuICAgIC8vIGp1c3QgdG8gZGVhbCB3aXRoIHRoaXMgY2FzZSB3b3VsZCBwcm9iYWJseSBiZSBhIGJhZCBpZGVhLlxuICAgICEhKHdpbmRvd1snY29yZG92YSddIHx8IHdpbmRvd1sncGhvbmVnYXAnXSB8fCB3aW5kb3dbJ1Bob25lR2FwJ10pICYmXG4gICAgL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoZ2V0VUEoKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBEZXRlY3QgTm9kZS5qcy5cbiAqXG4gKiBAcmV0dXJuIHRydWUgaWYgTm9kZS5qcyBlbnZpcm9ubWVudCBpcyBkZXRlY3RlZCBvciBzcGVjaWZpZWQuXG4gKi9cbi8vIE5vZGUgZGV0ZWN0aW9uIGxvZ2ljIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9pbGlha2FuL2RldGVjdC1ub2RlL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZSgpOiBib29sZWFuIHtcbiAgY29uc3QgZm9yY2VFbnZpcm9ubWVudCA9IGdldERlZmF1bHRzKCk/LmZvcmNlRW52aXJvbm1lbnQ7XG4gIGlmIChmb3JjZUVudmlyb25tZW50ID09PSAnbm9kZScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChmb3JjZUVudmlyb25tZW50ID09PSAnYnJvd3NlcicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiAoXG4gICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSdcbiAgICApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogRGV0ZWN0IEJyb3dzZXIgRW52aXJvbm1lbnQuXG4gKiBOb3RlOiBUaGlzIHdpbGwgcmV0dXJuIHRydWUgZm9yIGNlcnRhaW4gdGVzdCBmcmFtZXdvcmtzIHRoYXQgYXJlIGluY29tcGxldGVseVxuICogbWltaWNraW5nIGEgYnJvd3NlciwgYW5kIHNob3VsZCBub3QgbGVhZCB0byBhc3N1bWluZyBhbGwgYnJvd3NlciBBUElzIGFyZVxuICogYXZhaWxhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgfHwgaXNXZWJXb3JrZXIoKTtcbn1cblxuLyoqXG4gKiBEZXRlY3QgV2ViIFdvcmtlciBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNXZWJXb3JrZXIoKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZVxuICApO1xufVxuXG4vKipcbiAqIERldGVjdCBDbG91ZGZsYXJlIFdvcmtlciBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDbG91ZGZsYXJlV29ya2VyKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgbmF2aWdhdG9yLnVzZXJBZ2VudCA9PT0gJ0Nsb3VkZmxhcmUtV29ya2VycydcbiAgKTtcbn1cblxuLyoqXG4gKiBEZXRlY3QgYnJvd3NlciBleHRlbnNpb25zIChDaHJvbWUgYW5kIEZpcmVmb3ggYXQgbGVhc3QpLlxuICovXG5pbnRlcmZhY2UgQnJvd3NlclJ1bnRpbWUge1xuICBpZD86IHVua25vd247XG59XG5kZWNsYXJlIGNvbnN0IGNocm9tZTogeyBydW50aW1lPzogQnJvd3NlclJ1bnRpbWUgfTtcbmRlY2xhcmUgY29uc3QgYnJvd3NlcjogeyBydW50aW1lPzogQnJvd3NlclJ1bnRpbWUgfTtcbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXJFeHRlbnNpb24oKTogYm9vbGVhbiB7XG4gIGNvbnN0IHJ1bnRpbWUgPVxuICAgIHR5cGVvZiBjaHJvbWUgPT09ICdvYmplY3QnXG4gICAgICA/IGNocm9tZS5ydW50aW1lXG4gICAgICA6IHR5cGVvZiBicm93c2VyID09PSAnb2JqZWN0J1xuICAgICAgPyBicm93c2VyLnJ1bnRpbWVcbiAgICAgIDogdW5kZWZpbmVkO1xuICByZXR1cm4gdHlwZW9mIHJ1bnRpbWUgPT09ICdvYmplY3QnICYmIHJ1bnRpbWUuaWQgIT09IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBEZXRlY3QgUmVhY3QgTmF0aXZlLlxuICpcbiAqIEByZXR1cm4gdHJ1ZSBpZiBSZWFjdE5hdGl2ZSBlbnZpcm9ubWVudCBpcyBkZXRlY3RlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhY3ROYXRpdmUoKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yWydwcm9kdWN0J10gPT09ICdSZWFjdE5hdGl2ZSdcbiAgKTtcbn1cblxuLyoqIERldGVjdHMgRWxlY3Ryb24gYXBwcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZWN0cm9uKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gZ2V0VUEoKS5pbmRleE9mKCdFbGVjdHJvbi8nKSA+PSAwO1xufVxuXG4vKiogRGV0ZWN0cyBJbnRlcm5ldCBFeHBsb3Jlci4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0lFKCk6IGJvb2xlYW4ge1xuICBjb25zdCB1YSA9IGdldFVBKCk7XG4gIHJldHVybiB1YS5pbmRleE9mKCdNU0lFICcpID49IDAgfHwgdWEuaW5kZXhPZignVHJpZGVudC8nKSA+PSAwO1xufVxuXG4vKiogRGV0ZWN0cyBVbml2ZXJzYWwgV2luZG93cyBQbGF0Zm9ybSBhcHBzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVVdQKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gZ2V0VUEoKS5pbmRleE9mKCdNU0FwcEhvc3QvJykgPj0gMDtcbn1cblxuLyoqXG4gKiBEZXRlY3Qgd2hldGhlciB0aGUgY3VycmVudCBTREsgYnVpbGQgaXMgdGhlIE5vZGUgdmVyc2lvbi5cbiAqXG4gKiBAcmV0dXJuIHRydWUgaWYgaXQncyB0aGUgTm9kZSBTREsgYnVpbGQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc05vZGVTZGsoKTogYm9vbGVhbiB7XG4gIHJldHVybiBDT05TVEFOVFMuTk9ERV9DTElFTlQgPT09IHRydWUgfHwgQ09OU1RBTlRTLk5PREVfQURNSU4gPT09IHRydWU7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgd2UgYXJlIHJ1bm5pbmcgaW4gU2FmYXJpLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2FmYXJpKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgICFpc05vZGUoKSAmJlxuICAgICEhbmF2aWdhdG9yLnVzZXJBZ2VudCAmJlxuICAgIG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ1NhZmFyaScpICYmXG4gICAgIW5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ0Nocm9tZScpXG4gICk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgY2hlY2tzIGlmIGluZGV4ZWREQiBpcyBzdXBwb3J0ZWQgYnkgY3VycmVudCBicm93c2VyL3NlcnZpY2Ugd29ya2VyIGNvbnRleHRcbiAqIEByZXR1cm4gdHJ1ZSBpZiBpbmRleGVkREIgaXMgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgYnJvd3Nlci9zZXJ2aWNlIHdvcmtlciBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0luZGV4ZWREQkF2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdHlwZW9mIGluZGV4ZWREQiA9PT0gJ29iamVjdCc7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCB2YWxpZGF0ZXMgYnJvd3Nlci9zdyBjb250ZXh0IGZvciBpbmRleGVkREIgYnkgb3BlbmluZyBhIGR1bW15IGluZGV4ZWREQiBkYXRhYmFzZSBhbmQgcmVqZWN0XG4gKiBpZiBlcnJvcnMgb2NjdXIgZHVyaW5nIHRoZSBkYXRhYmFzZSBvcGVuIG9wZXJhdGlvbi5cbiAqXG4gKiBAdGhyb3dzIGV4Y2VwdGlvbiBpZiBjdXJyZW50IGJyb3dzZXIvc3cgY29udGV4dCBjYW4ndCBydW4gaWRiLm9wZW4gKGV4OiBTYWZhcmkgaWZyYW1lLCBGaXJlZm94XG4gKiBwcml2YXRlIGJyb3dzaW5nKVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IHByZUV4aXN0OiBib29sZWFuID0gdHJ1ZTtcbiAgICAgIGNvbnN0IERCX0NIRUNLX05BTUUgPVxuICAgICAgICAndmFsaWRhdGUtYnJvd3Nlci1jb250ZXh0LWZvci1pbmRleGVkZGItYW5hbHl0aWNzLW1vZHVsZSc7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gc2VsZi5pbmRleGVkREIub3BlbihEQl9DSEVDS19OQU1FKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICByZXF1ZXN0LnJlc3VsdC5jbG9zZSgpO1xuICAgICAgICAvLyBkZWxldGUgZGF0YWJhc2Ugb25seSB3aGVuIGl0IGRvZXNuJ3QgcHJlLWV4aXN0XG4gICAgICAgIGlmICghcHJlRXhpc3QpIHtcbiAgICAgICAgICBzZWxmLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShEQl9DSEVDS19OQU1FKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgfTtcbiAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKCkgPT4ge1xuICAgICAgICBwcmVFeGlzdCA9IGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICByZWplY3QocmVxdWVzdC5lcnJvcj8ubWVzc2FnZSB8fCAnJyk7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICpcbiAqIFRoaXMgbWV0aG9kIGNoZWNrcyB3aGV0aGVyIGNvb2tpZSBpcyBlbmFibGVkIHdpdGhpbiBjdXJyZW50IGJyb3dzZXJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBjb29raWUgaXMgZW5hYmxlZCB3aXRoaW4gY3VycmVudCBicm93c2VyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmVDb29raWVzRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IuY29va2llRW5hYmxlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFN0YW5kYXJkaXplZCBGaXJlYmFzZSBFcnJvci5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiAgIC8vIFR5cGVTY3JpcHQgc3RyaW5nIGxpdGVyYWxzIGZvciB0eXBlLXNhZmUgY29kZXNcbiAqICAgdHlwZSBFcnIgPVxuICogICAgICd1bmtub3duJyB8XG4gKiAgICAgJ29iamVjdC1ub3QtZm91bmQnXG4gKiAgICAgO1xuICpcbiAqICAgLy8gQ2xvc3VyZSBlbnVtIGZvciB0eXBlLXNhZmUgZXJyb3IgY29kZXNcbiAqICAgLy8gYXQtZW51bSB7c3RyaW5nfVxuICogICB2YXIgRXJyID0ge1xuICogICAgIFVOS05PV046ICd1bmtub3duJyxcbiAqICAgICBPQkpFQ1RfTk9UX0ZPVU5EOiAnb2JqZWN0LW5vdC1mb3VuZCcsXG4gKiAgIH1cbiAqXG4gKiAgIGxldCBlcnJvcnM6IE1hcDxFcnIsIHN0cmluZz4gPSB7XG4gKiAgICAgJ2dlbmVyaWMtZXJyb3InOiBcIlVua25vd24gZXJyb3JcIixcbiAqICAgICAnZmlsZS1ub3QtZm91bmQnOiBcIkNvdWxkIG5vdCBmaW5kIGZpbGU6IHskZmlsZX1cIixcbiAqICAgfTtcbiAqXG4gKiAgIC8vIFR5cGUtc2FmZSBmdW5jdGlvbiAtIG11c3QgcGFzcyBhIHZhbGlkIGVycm9yIGNvZGUgYXMgcGFyYW0uXG4gKiAgIGxldCBlcnJvciA9IG5ldyBFcnJvckZhY3Rvcnk8RXJyPignc2VydmljZScsICdTZXJ2aWNlJywgZXJyb3JzKTtcbiAqXG4gKiAgIC4uLlxuICogICB0aHJvdyBlcnJvci5jcmVhdGUoRXJyLkdFTkVSSUMpO1xuICogICAuLi5cbiAqICAgdGhyb3cgZXJyb3IuY3JlYXRlKEVyci5GSUxFX05PVF9GT1VORCwgeydmaWxlJzogZmlsZU5hbWV9KTtcbiAqICAgLi4uXG4gKiAgIC8vIFNlcnZpY2U6IENvdWxkIG5vdCBmaWxlIGZpbGU6IGZvby50eHQgKHNlcnZpY2UvZmlsZS1ub3QtZm91bmQpLlxuICpcbiAqICAgY2F0Y2ggKGUpIHtcbiAqICAgICBhc3NlcnQoZS5tZXNzYWdlID09PSBcIkNvdWxkIG5vdCBmaW5kIGZpbGU6IGZvby50eHQuXCIpO1xuICogICAgIGlmICgoZSBhcyBGaXJlYmFzZUVycm9yKT8uY29kZSA9PT0gJ3NlcnZpY2UvZmlsZS1ub3QtZm91bmQnKSB7XG4gKiAgICAgICBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCByZWFkIGZpbGU6IFwiICsgZVsnZmlsZSddKTtcbiAqICAgICB9XG4gKiAgIH1cbiAqL1xuXG5leHBvcnQgdHlwZSBFcnJvck1hcDxFcnJvckNvZGUgZXh0ZW5kcyBzdHJpbmc+ID0ge1xuICByZWFkb25seSBbSyBpbiBFcnJvckNvZGVdOiBzdHJpbmc7XG59O1xuXG5jb25zdCBFUlJPUl9OQU1FID0gJ0ZpcmViYXNlRXJyb3InO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmluZ0xpa2Uge1xuICB0b1N0cmluZygpOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JEYXRhIHtcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuLy8gQmFzZWQgb24gY29kZSBmcm9tOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRXJyb3IjQ3VzdG9tX0Vycm9yX1R5cGVzXG5leHBvcnQgY2xhc3MgRmlyZWJhc2VFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgLyoqIFRoZSBjdXN0b20gbmFtZSBmb3IgYWxsIEZpcmViYXNlRXJyb3JzLiAqL1xuICByZWFkb25seSBuYW1lOiBzdHJpbmcgPSBFUlJPUl9OQU1FO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgZXJyb3IgY29kZSBmb3IgdGhpcyBlcnJvci4gKi9cbiAgICByZWFkb25seSBjb2RlOiBzdHJpbmcsXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIC8qKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBlcnJvci4gKi9cbiAgICBwdWJsaWMgY3VzdG9tRGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuXG4gICAgLy8gRml4IEZvciBFUzVcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQtd2lraS9ibG9iL21hc3Rlci9CcmVha2luZy1DaGFuZ2VzLm1kI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29ya1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBGaXJlYmFzZUVycm9yLnByb3RvdHlwZSk7XG5cbiAgICAvLyBNYWludGFpbnMgcHJvcGVyIHN0YWNrIHRyYWNlIGZvciB3aGVyZSBvdXIgZXJyb3Igd2FzIHRocm93bi5cbiAgICAvLyBPbmx5IGF2YWlsYWJsZSBvbiBWOC5cbiAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEVycm9yRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVycm9yRmFjdG9yeTxcbiAgRXJyb3JDb2RlIGV4dGVuZHMgc3RyaW5nLFxuICBFcnJvclBhcmFtcyBleHRlbmRzIHsgcmVhZG9ubHkgW0sgaW4gRXJyb3JDb2RlXT86IEVycm9yRGF0YSB9ID0ge31cbj4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlcnZpY2U6IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlcnZpY2VOYW1lOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBlcnJvcnM6IEVycm9yTWFwPEVycm9yQ29kZT5cbiAgKSB7fVxuXG4gIGNyZWF0ZTxLIGV4dGVuZHMgRXJyb3JDb2RlPihcbiAgICBjb2RlOiBLLFxuICAgIC4uLmRhdGE6IEsgZXh0ZW5kcyBrZXlvZiBFcnJvclBhcmFtcyA/IFtFcnJvclBhcmFtc1tLXV0gOiBbXVxuICApOiBGaXJlYmFzZUVycm9yIHtcbiAgICBjb25zdCBjdXN0b21EYXRhID0gKGRhdGFbMF0gYXMgRXJyb3JEYXRhKSB8fCB7fTtcbiAgICBjb25zdCBmdWxsQ29kZSA9IGAke3RoaXMuc2VydmljZX0vJHtjb2RlfWA7XG4gICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLmVycm9yc1tjb2RlXTtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSB0ZW1wbGF0ZSA/IHJlcGxhY2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgY3VzdG9tRGF0YSkgOiAnRXJyb3InO1xuICAgIC8vIFNlcnZpY2UgTmFtZTogRXJyb3IgbWVzc2FnZSAoc2VydmljZS9jb2RlKS5cbiAgICBjb25zdCBmdWxsTWVzc2FnZSA9IGAke3RoaXMuc2VydmljZU5hbWV9OiAke21lc3NhZ2V9ICgke2Z1bGxDb2RlfSkuYDtcblxuICAgIGNvbnN0IGVycm9yID0gbmV3IEZpcmViYXNlRXJyb3IoZnVsbENvZGUsIGZ1bGxNZXNzYWdlLCBjdXN0b21EYXRhKTtcblxuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsYWNlVGVtcGxhdGUodGVtcGxhdGU6IHN0cmluZywgZGF0YTogRXJyb3JEYXRhKTogc3RyaW5nIHtcbiAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoUEFUVEVSTiwgKF8sIGtleSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZGF0YVtrZXldO1xuICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gU3RyaW5nKHZhbHVlKSA6IGA8JHtrZXl9Pz5gO1xuICB9KTtcbn1cblxuY29uc3QgUEFUVEVSTiA9IC9cXHtcXCQoW159XSspfS9nO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogRXZhbHVhdGVzIGEgSlNPTiBzdHJpbmcgaW50byBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgQSBzdHJpbmcgY29udGFpbmluZyBKU09OLlxuICogQHJldHVybiB7Kn0gVGhlIGphdmFzY3JpcHQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3BlY2lmaWVkIEpTT04uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29uRXZhbChzdHI6IHN0cmluZyk6IHVua25vd24ge1xuICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgSlNPTiByZXByZXNlbnRpbmcgYSBqYXZhc2NyaXB0IG9iamVjdC5cbiAqIEBwYXJhbSB7Kn0gZGF0YSBKYXZhU2NyaXB0IG9iamVjdCB0byBiZSBzdHJpbmdpZmllZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIEpTT04gY29udGVudHMgb2YgdGhlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeShkYXRhOiB1bmtub3duKTogc3RyaW5nIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gJy4vY3J5cHQnO1xuaW1wb3J0IHsganNvbkV2YWwgfSBmcm9tICcuL2pzb24nO1xuXG5pbnRlcmZhY2UgQ2xhaW1zIHtcbiAgW2tleTogc3RyaW5nXToge307XG59XG5cbmludGVyZmFjZSBEZWNvZGVkVG9rZW4ge1xuICBoZWFkZXI6IG9iamVjdDtcbiAgY2xhaW1zOiBDbGFpbXM7XG4gIGRhdGE6IG9iamVjdDtcbiAgc2lnbmF0dXJlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGludG8gY29uc3RpdHVlbnQgcGFydHMuXG4gKlxuICogTm90ZXM6XG4gKiAtIE1heSByZXR1cm4gd2l0aCBpbnZhbGlkIC8gaW5jb21wbGV0ZSBjbGFpbXMgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxuICovXG5leHBvcnQgY29uc3QgZGVjb2RlID0gZnVuY3Rpb24gKHRva2VuOiBzdHJpbmcpOiBEZWNvZGVkVG9rZW4ge1xuICBsZXQgaGVhZGVyID0ge30sXG4gICAgY2xhaW1zOiBDbGFpbXMgPSB7fSxcbiAgICBkYXRhID0ge30sXG4gICAgc2lnbmF0dXJlID0gJyc7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XG4gICAgaGVhZGVyID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzBdKSB8fCAnJykgYXMgb2JqZWN0O1xuICAgIGNsYWltcyA9IGpzb25FdmFsKGJhc2U2NERlY29kZShwYXJ0c1sxXSkgfHwgJycpIGFzIENsYWltcztcbiAgICBzaWduYXR1cmUgPSBwYXJ0c1syXTtcbiAgICBkYXRhID0gY2xhaW1zWydkJ10gfHwge307XG4gICAgZGVsZXRlIGNsYWltc1snZCddO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHJldHVybiB7XG4gICAgaGVhZGVyLFxuICAgIGNsYWltcyxcbiAgICBkYXRhLFxuICAgIHNpZ25hdHVyZVxuICB9O1xufTtcblxuaW50ZXJmYWNlIERlY29kZWRUb2tlbiB7XG4gIGhlYWRlcjogb2JqZWN0O1xuICBjbGFpbXM6IENsYWltcztcbiAgZGF0YTogb2JqZWN0O1xuICBzaWduYXR1cmU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIGNoZWNrcyB0aGUgdmFsaWRpdHkgb2YgaXRzIHRpbWUtYmFzZWQgY2xhaW1zLiBXaWxsIHJldHVybiB0cnVlIGlmIHRoZVxuICogdG9rZW4gaXMgd2l0aGluIHRoZSB0aW1lIHdpbmRvdyBhdXRob3JpemVkIGJ5IHRoZSAnbmJmJyAobm90LWJlZm9yZSkgYW5kICdpYXQnIChpc3N1ZWQtYXQpIGNsYWltcy5cbiAqXG4gKiBOb3RlczpcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzVmFsaWRUaW1lc3RhbXAgPSBmdW5jdGlvbiAodG9rZW46IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBjbGFpbXM6IENsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xuICBjb25zdCBub3c6IG51bWJlciA9IE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgbGV0IHZhbGlkU2luY2U6IG51bWJlciA9IDAsXG4gICAgdmFsaWRVbnRpbDogbnVtYmVyID0gMDtcblxuICBpZiAodHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCduYmYnKSkge1xuICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snbmJmJ10gYXMgbnVtYmVyO1xuICAgIH0gZWxzZSBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKSkge1xuICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snaWF0J10gYXMgbnVtYmVyO1xuICAgIH1cblxuICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2V4cCcpKSB7XG4gICAgICB2YWxpZFVudGlsID0gY2xhaW1zWydleHAnXSBhcyBudW1iZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRva2VuIHdpbGwgZXhwaXJlIGFmdGVyIDI0aCBieSBkZWZhdWx0XG4gICAgICB2YWxpZFVudGlsID0gdmFsaWRTaW5jZSArIDg2NDAwO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgISFub3cgJiZcbiAgICAhIXZhbGlkU2luY2UgJiZcbiAgICAhIXZhbGlkVW50aWwgJiZcbiAgICBub3cgPj0gdmFsaWRTaW5jZSAmJlxuICAgIG5vdyA8PSB2YWxpZFVudGlsXG4gICk7XG59O1xuXG4vKipcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgcmV0dXJucyBpdHMgaXNzdWVkIGF0IHRpbWUgaWYgdmFsaWQsIG51bGwgb3RoZXJ3aXNlLlxuICpcbiAqIE5vdGVzOlxuICogLSBNYXkgcmV0dXJuIG51bGwgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxuICovXG5leHBvcnQgY29uc3QgaXNzdWVkQXRUaW1lID0gZnVuY3Rpb24gKHRva2VuOiBzdHJpbmcpOiBudW1iZXIgfCBudWxsIHtcbiAgY29uc3QgY2xhaW1zOiBDbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcbiAgaWYgKHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0JykpIHtcbiAgICByZXR1cm4gY2xhaW1zWydpYXQnXSBhcyBudW1iZXI7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgZm9ybWF0LiBFeHBlY3RzIGEgdmFsaWQgaXNzdWVkLWF0IHRpbWUuXG4gKlxuICogTm90ZXM6XG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1ZhbGlkRm9ybWF0ID0gZnVuY3Rpb24gKHRva2VuOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgZGVjb2RlZCA9IGRlY29kZSh0b2tlbiksXG4gICAgY2xhaW1zID0gZGVjb2RlZC5jbGFpbXM7XG5cbiAgcmV0dXJuICEhY2xhaW1zICYmIHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0Jyk7XG59O1xuXG4vKipcbiAqIEF0dGVtcHRzIHRvIHBlZXIgaW50byBhbiBhdXRoIHRva2VuIGFuZCBkZXRlcm1pbmUgaWYgaXQncyBhbiBhZG1pbiBhdXRoIHRva2VuIGJ5IGxvb2tpbmcgYXQgdGhlIGNsYWltcyBwb3J0aW9uLlxuICpcbiAqIE5vdGVzOlxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxuICovXG5leHBvcnQgY29uc3QgaXNBZG1pbiA9IGZ1bmN0aW9uICh0b2tlbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGNsYWltczogQ2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XG4gIHJldHVybiB0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXNbJ2FkbWluJ10gPT09IHRydWU7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluczxUIGV4dGVuZHMgb2JqZWN0PihvYmo6IFQsIGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2FmZUdldDxUIGV4dGVuZHMgb2JqZWN0LCBLIGV4dGVuZHMga2V5b2YgVD4oXG4gIG9iajogVCxcbiAga2V5OiBLXG4pOiBUW0tdIHwgdW5kZWZpbmVkIHtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eShvYmo6IG9iamVjdCk6IG9iaiBpcyB7fSB7XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwPEsgZXh0ZW5kcyBzdHJpbmcsIFYsIFU+KFxuICBvYmo6IHsgW2tleSBpbiBLXTogViB9LFxuICBmbjogKHZhbHVlOiBWLCBrZXk6IEssIG9iajogeyBba2V5IGluIEtdOiBWIH0pID0+IFUsXG4gIGNvbnRleHRPYmo/OiB1bmtub3duXG4pOiB7IFtrZXkgaW4gS106IFUgfSB7XG4gIGNvbnN0IHJlczogUGFydGlhbDx7IFtrZXkgaW4gS106IFUgfT4gPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgIHJlc1trZXldID0gZm4uY2FsbChjb250ZXh0T2JqLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzIGFzIHsgW2tleSBpbiBLXTogVSB9O1xufVxuXG4vKipcbiAqIERlZXAgZXF1YWwgdHdvIG9iamVjdHMuIFN1cHBvcnQgQXJyYXlzIGFuZCBPYmplY3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcEVxdWFsKGE6IG9iamVjdCwgYjogb2JqZWN0KTogYm9vbGVhbiB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjb25zdCBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICBjb25zdCBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICBmb3IgKGNvbnN0IGsgb2YgYUtleXMpIHtcbiAgICBpZiAoIWJLZXlzLmluY2x1ZGVzKGspKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgYVByb3AgPSAoYSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba107XG4gICAgY29uc3QgYlByb3AgPSAoYiBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba107XG4gICAgaWYgKGlzT2JqZWN0KGFQcm9wKSAmJiBpc09iamVjdChiUHJvcCkpIHtcbiAgICAgIGlmICghZGVlcEVxdWFsKGFQcm9wLCBiUHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYVByb3AgIT09IGJQcm9wKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBrIG9mIGJLZXlzKSB7XG4gICAgaWYgKCFhS2V5cy5pbmNsdWRlcyhrKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodGhpbmc6IHVua25vd24pOiB0aGluZyBpcyBvYmplY3Qge1xuICByZXR1cm4gdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0Jztcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBEZWZlcnJlZCB9IGZyb20gJy4vZGVmZXJyZWQnO1xuXG4vKipcbiAqIFJlamVjdHMgaWYgdGhlIGdpdmVuIHByb21pc2UgZG9lc24ndCByZXNvbHZlIGluIHRpbWVJbk1TIG1pbGxpc2Vjb25kcy5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZVdpdGhUaW1lb3V0PFQ+KFxuICBwcm9taXNlOiBQcm9taXNlPFQ+LFxuICB0aW1lSW5NUyA9IDIwMDBcbik6IFByb21pc2U8VD4ge1xuICBjb25zdCBkZWZlcnJlZFByb21pc2UgPSBuZXcgRGVmZXJyZWQ8VD4oKTtcbiAgc2V0VGltZW91dCgoKSA9PiBkZWZlcnJlZFByb21pc2UucmVqZWN0KCd0aW1lb3V0IScpLCB0aW1lSW5NUyk7XG4gIHByb21pc2UudGhlbihkZWZlcnJlZFByb21pc2UucmVzb2x2ZSwgZGVmZXJyZWRQcm9taXNlLnJlamVjdCk7XG4gIHJldHVybiBkZWZlcnJlZFByb21pc2UucHJvbWlzZTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBxdWVyeXN0cmluZy1mb3JtYXR0ZWQgc3RyaW5nIChlLmcuICZhcmc9dmFsJmFyZzI9dmFsMikgZnJvbSBhXG4gKiBwYXJhbXMgb2JqZWN0IChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxuICogTm90ZTogWW91IG11c3QgcHJlcGVuZCBpdCB3aXRoID8gd2hlbiBhZGRpbmcgaXQgdG8gYSBVUkwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeXN0cmluZyhxdWVyeXN0cmluZ1BhcmFtczoge1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXI7XG59KTogc3RyaW5nIHtcbiAgY29uc3QgcGFyYW1zID0gW107XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHF1ZXJ5c3RyaW5nUGFyYW1zKSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUuZm9yRWFjaChhcnJheVZhbCA9PiB7XG4gICAgICAgIHBhcmFtcy5wdXNoKFxuICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGFycmF5VmFsKVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJhbXMubGVuZ3RoID8gJyYnICsgcGFyYW1zLmpvaW4oJyYnKSA6ICcnO1xufVxuXG4vKipcbiAqIERlY29kZXMgYSBxdWVyeXN0cmluZyAoZS5nLiA/YXJnPXZhbCZhcmcyPXZhbDIpIGludG8gYSBwYXJhbXMgb2JqZWN0XG4gKiAoZS5nLiB7YXJnOiAndmFsJywgYXJnMjogJ3ZhbDInfSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5c3RyaW5nRGVjb2RlKHF1ZXJ5c3RyaW5nOiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgY29uc3Qgb2JqOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIGNvbnN0IHRva2VucyA9IHF1ZXJ5c3RyaW5nLnJlcGxhY2UoL15cXD8vLCAnJykuc3BsaXQoJyYnKTtcblxuICB0b2tlbnMuZm9yRWFjaCh0b2tlbiA9PiB7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSB0b2tlbi5zcGxpdCgnPScpO1xuICAgICAgb2JqW2RlY29kZVVSSUNvbXBvbmVudChrZXkpXSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBFeHRyYWN0IHRoZSBxdWVyeSBzdHJpbmcgcGFydCBvZiBhIFVSTCwgaW5jbHVkaW5nIHRoZSBsZWFkaW5nIHF1ZXN0aW9uIG1hcmsgKGlmIHByZXNlbnQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFF1ZXJ5c3RyaW5nKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gIGlmICghcXVlcnlTdGFydCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBjb25zdCBmcmFnbWVudFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnLCBxdWVyeVN0YXJ0KTtcbiAgcmV0dXJuIHVybC5zdWJzdHJpbmcoXG4gICAgcXVlcnlTdGFydCxcbiAgICBmcmFnbWVudFN0YXJ0ID4gMCA/IGZyYWdtZW50U3RhcnQgOiB1bmRlZmluZWRcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgU0hBLTEgY3J5cHRvZ3JhcGhpYyBoYXNoLlxuICogVmFyaWFibGUgbmFtZXMgZm9sbG93IHRoZSBub3RhdGlvbiBpbiBGSVBTIFBVQiAxODAtMzpcbiAqIGh0dHA6Ly9jc3JjLm5pc3QuZ292L3B1YmxpY2F0aW9ucy9maXBzL2ZpcHMxODAtMy9maXBzMTgwLTNfZmluYWwucGRmLlxuICpcbiAqIFVzYWdlOlxuICogICB2YXIgc2hhMSA9IG5ldyBzaGExKCk7XG4gKiAgIHNoYTEudXBkYXRlKGJ5dGVzKTtcbiAqICAgdmFyIGhhc2ggPSBzaGExLmRpZ2VzdCgpO1xuICpcbiAqIFBlcmZvcm1hbmNlOlxuICogICBDaHJvbWUgMjM6ICAgfjQwMCBNYml0L3NcbiAqICAgRmlyZWZveCAxNjogIH4yNTAgTWJpdC9zXG4gKlxuICovXG5cbi8qKlxuICogU0hBLTEgY3J5cHRvZ3JhcGhpYyBoYXNoIGNvbnN0cnVjdG9yLlxuICpcbiAqIFRoZSBwcm9wZXJ0aWVzIGRlY2xhcmVkIGhlcmUgYXJlIGRpc2N1c3NlZCBpbiB0aGUgYWJvdmUgYWxnb3JpdGhtIGRvY3VtZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZmluYWxcbiAqIEBzdHJ1Y3RcbiAqL1xuZXhwb3J0IGNsYXNzIFNoYTEge1xuICAvKipcbiAgICogSG9sZHMgdGhlIHByZXZpb3VzIHZhbHVlcyBvZiBhY2N1bXVsYXRlZCB2YXJpYWJsZXMgYS1lIGluIHRoZSBjb21wcmVzc19cbiAgICogZnVuY3Rpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIGNoYWluXzogbnVtYmVyW10gPSBbXTtcblxuICAvKipcbiAgICogQSBidWZmZXIgaG9sZGluZyB0aGUgcGFydGlhbGx5IGNvbXB1dGVkIGhhc2ggcmVzdWx0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBidWZfOiBudW1iZXJbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiA4MCBieXRlcywgZWFjaCBhIHBhcnQgb2YgdGhlIG1lc3NhZ2UgdG8gYmUgaGFzaGVkLiAgUmVmZXJyZWQgdG9cbiAgICogYXMgdGhlIG1lc3NhZ2Ugc2NoZWR1bGUgaW4gdGhlIGRvY3MuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIFdfOiBudW1iZXJbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBDb250YWlucyBkYXRhIG5lZWRlZCB0byBwYWQgbWVzc2FnZXMgbGVzcyB0aGFuIDY0IGJ5dGVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBwYWRfOiBudW1iZXJbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxuICAgKi9cbiAgcHJpdmF0ZSBpbmJ1Zl86IG51bWJlciA9IDA7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlIHtudW1iZXJ9XG4gICAqL1xuICBwcml2YXRlIHRvdGFsXzogbnVtYmVyID0gMDtcblxuICBibG9ja1NpemU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJsb2NrU2l6ZSA9IDUxMiAvIDg7XG5cbiAgICB0aGlzLnBhZF9bMF0gPSAxMjg7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgKytpKSB7XG4gICAgICB0aGlzLnBhZF9baV0gPSAwO1xuICAgIH1cblxuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuY2hhaW5fWzBdID0gMHg2NzQ1MjMwMTtcbiAgICB0aGlzLmNoYWluX1sxXSA9IDB4ZWZjZGFiODk7XG4gICAgdGhpcy5jaGFpbl9bMl0gPSAweDk4YmFkY2ZlO1xuICAgIHRoaXMuY2hhaW5fWzNdID0gMHgxMDMyNTQ3NjtcbiAgICB0aGlzLmNoYWluX1s0XSA9IDB4YzNkMmUxZjA7XG5cbiAgICB0aGlzLmluYnVmXyA9IDA7XG4gICAgdGhpcy50b3RhbF8gPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIGNvbXByZXNzIGhlbHBlciBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGJ1ZiBCbG9jayB0byBjb21wcmVzcy5cbiAgICogQHBhcmFtIG9mZnNldCBPZmZzZXQgb2YgdGhlIGJsb2NrIGluIHRoZSBidWZmZXIuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb21wcmVzc18oYnVmOiBudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBzdHJpbmcsIG9mZnNldD86IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGNvbnN0IFcgPSB0aGlzLldfO1xuXG4gICAgLy8gZ2V0IDE2IGJpZyBlbmRpYW4gd29yZHNcbiAgICBpZiAodHlwZW9mIGJ1ZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAvLyBUT0RPKHVzZXIpOiBbYnVnIDgxNDAxMjJdIFJlY2VudCB2ZXJzaW9ucyBvZiBTYWZhcmkgZm9yIE1hYyBPUyBhbmQgaU9TXG4gICAgICAgIC8vIGhhdmUgYSBidWcgdGhhdCB0dXJucyB0aGUgcG9zdC1pbmNyZW1lbnQgKysgb3BlcmF0b3IgaW50byBwcmUtaW5jcmVtZW50XG4gICAgICAgIC8vIGR1cmluZyBKSVQgY29tcGlsYXRpb24uICBXZSBoYXZlIGNvZGUgdGhhdCBkZXBlbmRzIGhlYXZpbHkgb24gU0hBLTEgZm9yXG4gICAgICAgIC8vIGNvcnJlY3RuZXNzIGFuZCB3aGljaCBpcyBhZmZlY3RlZCBieSB0aGlzIGJ1Zywgc28gSSd2ZSByZW1vdmVkIGFsbCB1c2VzXG4gICAgICAgIC8vIG9mIHBvc3QtaW5jcmVtZW50ICsrIGluIHdoaWNoIHRoZSByZXN1bHQgdmFsdWUgaXMgdXNlZC4gIFdlIGNhbiByZXZlcnRcbiAgICAgICAgLy8gdGhpcyBjaGFuZ2Ugb25jZSB0aGUgU2FmYXJpIGJ1Z1xuICAgICAgICAvLyAoaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEwOTAzNikgaGFzIGJlZW4gZml4ZWQgYW5kXG4gICAgICAgIC8vIG1vc3QgY2xpZW50cyBoYXZlIGJlZW4gdXBkYXRlZC5cbiAgICAgICAgV1tpXSA9XG4gICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCkgPDwgMjQpIHxcbiAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMSkgPDwgMTYpIHxcbiAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMikgPDwgOCkgfFxuICAgICAgICAgIGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDMpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIFdbaV0gPVxuICAgICAgICAgIChidWZbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICAgICAgIChidWZbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAgICAgICAoYnVmW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAgICAgICBidWZbb2Zmc2V0ICsgM107XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGV4cGFuZCB0byA4MCB3b3Jkc1xuICAgIGZvciAobGV0IGkgPSAxNjsgaSA8IDgwOyBpKyspIHtcbiAgICAgIGNvbnN0IHQgPSBXW2kgLSAzXSBeIFdbaSAtIDhdIF4gV1tpIC0gMTRdIF4gV1tpIC0gMTZdO1xuICAgICAgV1tpXSA9ICgodCA8PCAxKSB8ICh0ID4+PiAzMSkpICYgMHhmZmZmZmZmZjtcbiAgICB9XG5cbiAgICBsZXQgYSA9IHRoaXMuY2hhaW5fWzBdO1xuICAgIGxldCBiID0gdGhpcy5jaGFpbl9bMV07XG4gICAgbGV0IGMgPSB0aGlzLmNoYWluX1syXTtcbiAgICBsZXQgZCA9IHRoaXMuY2hhaW5fWzNdO1xuICAgIGxldCBlID0gdGhpcy5jaGFpbl9bNF07XG4gICAgbGV0IGYsIGs7XG5cbiAgICAvLyBUT0RPKHVzZXIpOiBUcnkgdG8gdW5yb2xsIHRoaXMgbG9vcCB0byBzcGVlZCB1cCB0aGUgY29tcHV0YXRpb24uXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4MDsgaSsrKSB7XG4gICAgICBpZiAoaSA8IDQwKSB7XG4gICAgICAgIGlmIChpIDwgMjApIHtcbiAgICAgICAgICBmID0gZCBeIChiICYgKGMgXiBkKSk7XG4gICAgICAgICAgayA9IDB4NWE4Mjc5OTk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZiA9IGIgXiBjIF4gZDtcbiAgICAgICAgICBrID0gMHg2ZWQ5ZWJhMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGkgPCA2MCkge1xuICAgICAgICAgIGYgPSAoYiAmIGMpIHwgKGQgJiAoYiB8IGMpKTtcbiAgICAgICAgICBrID0gMHg4ZjFiYmNkYztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmID0gYiBeIGMgXiBkO1xuICAgICAgICAgIGsgPSAweGNhNjJjMWQ2O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHQgPSAoKChhIDw8IDUpIHwgKGEgPj4+IDI3KSkgKyBmICsgZSArIGsgKyBXW2ldKSAmIDB4ZmZmZmZmZmY7XG4gICAgICBlID0gZDtcbiAgICAgIGQgPSBjO1xuICAgICAgYyA9ICgoYiA8PCAzMCkgfCAoYiA+Pj4gMikpICYgMHhmZmZmZmZmZjtcbiAgICAgIGIgPSBhO1xuICAgICAgYSA9IHQ7XG4gICAgfVxuXG4gICAgdGhpcy5jaGFpbl9bMF0gPSAodGhpcy5jaGFpbl9bMF0gKyBhKSAmIDB4ZmZmZmZmZmY7XG4gICAgdGhpcy5jaGFpbl9bMV0gPSAodGhpcy5jaGFpbl9bMV0gKyBiKSAmIDB4ZmZmZmZmZmY7XG4gICAgdGhpcy5jaGFpbl9bMl0gPSAodGhpcy5jaGFpbl9bMl0gKyBjKSAmIDB4ZmZmZmZmZmY7XG4gICAgdGhpcy5jaGFpbl9bM10gPSAodGhpcy5jaGFpbl9bM10gKyBkKSAmIDB4ZmZmZmZmZmY7XG4gICAgdGhpcy5jaGFpbl9bNF0gPSAodGhpcy5jaGFpbl9bNF0gKyBlKSAmIDB4ZmZmZmZmZmY7XG4gIH1cblxuICB1cGRhdGUoYnl0ZXM/OiBudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBzdHJpbmcsIGxlbmd0aD86IG51bWJlcik6IHZvaWQge1xuICAgIC8vIFRPRE8oam9obmxlbnopOiB0aWdodGVuIHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgYW5kIHJlbW92ZSB0aGlzIGNoZWNrXG4gICAgaWYgKGJ5dGVzID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBjb25zdCBsZW5ndGhNaW51c0Jsb2NrID0gbGVuZ3RoIC0gdGhpcy5ibG9ja1NpemU7XG4gICAgbGV0IG4gPSAwO1xuICAgIC8vIFVzaW5nIGxvY2FsIGluc3RlYWQgb2YgbWVtYmVyIHZhcmlhYmxlcyBnaXZlcyB+NSUgc3BlZWR1cCBvbiBGaXJlZm94IDE2LlxuICAgIGNvbnN0IGJ1ZiA9IHRoaXMuYnVmXztcbiAgICBsZXQgaW5idWYgPSB0aGlzLmluYnVmXztcblxuICAgIC8vIFRoZSBvdXRlciB3aGlsZSBsb29wIHNob3VsZCBleGVjdXRlIGF0IG1vc3QgdHdpY2UuXG4gICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcbiAgICAgIC8vIFdoZW4gd2UgaGF2ZSBubyBkYXRhIGluIHRoZSBibG9jayB0byB0b3AgdXAsIHdlIGNhbiBkaXJlY3RseSBwcm9jZXNzIHRoZVxuICAgICAgLy8gaW5wdXQgYnVmZmVyIChhc3N1bWluZyBpdCBjb250YWlucyBzdWZmaWNpZW50IGRhdGEpLiBUaGlzIGdpdmVzIH4yNSVcbiAgICAgIC8vIHNwZWVkdXAgb24gQ2hyb21lIDIzIGFuZCB+MTUlIHNwZWVkdXAgb24gRmlyZWZveCAxNiwgYnV0IHJlcXVpcmVzIHRoYXRcbiAgICAgIC8vIHRoZSBkYXRhIGlzIHByb3ZpZGVkIGluIGxhcmdlIGNodW5rcyAob3IgaW4gbXVsdGlwbGVzIG9mIDY0IGJ5dGVzKS5cbiAgICAgIGlmIChpbmJ1ZiA9PT0gMCkge1xuICAgICAgICB3aGlsZSAobiA8PSBsZW5ndGhNaW51c0Jsb2NrKSB7XG4gICAgICAgICAgdGhpcy5jb21wcmVzc18oYnl0ZXMsIG4pO1xuICAgICAgICAgIG4gKz0gdGhpcy5ibG9ja1NpemU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcbiAgICAgICAgICBidWZbaW5idWZdID0gYnl0ZXMuY2hhckNvZGVBdChuKTtcbiAgICAgICAgICArK2luYnVmO1xuICAgICAgICAgICsrbjtcbiAgICAgICAgICBpZiAoaW5idWYgPT09IHRoaXMuYmxvY2tTaXplKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xuICAgICAgICAgICAgaW5idWYgPSAwO1xuICAgICAgICAgICAgLy8gSnVtcCB0byB0aGUgb3V0ZXIgbG9vcCBzbyB3ZSB1c2UgdGhlIGZ1bGwtYmxvY2sgb3B0aW1pemF0aW9uLlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xuICAgICAgICAgIGJ1ZltpbmJ1Zl0gPSBieXRlc1tuXTtcbiAgICAgICAgICArK2luYnVmO1xuICAgICAgICAgICsrbjtcbiAgICAgICAgICBpZiAoaW5idWYgPT09IHRoaXMuYmxvY2tTaXplKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xuICAgICAgICAgICAgaW5idWYgPSAwO1xuICAgICAgICAgICAgLy8gSnVtcCB0byB0aGUgb3V0ZXIgbG9vcCBzbyB3ZSB1c2UgdGhlIGZ1bGwtYmxvY2sgb3B0aW1pemF0aW9uLlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5pbmJ1Zl8gPSBpbmJ1ZjtcbiAgICB0aGlzLnRvdGFsXyArPSBsZW5ndGg7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGRpZ2VzdCgpOiBudW1iZXJbXSB7XG4gICAgY29uc3QgZGlnZXN0OiBudW1iZXJbXSA9IFtdO1xuICAgIGxldCB0b3RhbEJpdHMgPSB0aGlzLnRvdGFsXyAqIDg7XG5cbiAgICAvLyBBZGQgcGFkIDB4ODAgMHgwMCouXG4gICAgaWYgKHRoaXMuaW5idWZfIDwgNTYpIHtcbiAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFkXywgNTYgLSB0aGlzLmluYnVmXyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFkXywgdGhpcy5ibG9ja1NpemUgLSAodGhpcy5pbmJ1Zl8gLSA1NikpO1xuICAgIH1cblxuICAgIC8vIEFkZCAjIGJpdHMuXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuYmxvY2tTaXplIC0gMTsgaSA+PSA1NjsgaS0tKSB7XG4gICAgICB0aGlzLmJ1Zl9baV0gPSB0b3RhbEJpdHMgJiAyNTU7XG4gICAgICB0b3RhbEJpdHMgLz0gMjU2OyAvLyBEb24ndCB1c2UgYml0LXNoaWZ0aW5nIGhlcmUhXG4gICAgfVxuXG4gICAgdGhpcy5jb21wcmVzc18odGhpcy5idWZfKTtcblxuICAgIGxldCBuID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDI0OyBqID49IDA7IGogLT0gOCkge1xuICAgICAgICBkaWdlc3Rbbl0gPSAodGhpcy5jaGFpbl9baV0gPj4gaikgJiAyNTU7XG4gICAgICAgICsrbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpZ2VzdDtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5leHBvcnQgdHlwZSBOZXh0Rm48VD4gPSAodmFsdWU6IFQpID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBFcnJvckZuID0gKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIENvbXBsZXRlRm4gPSAoKSA9PiB2b2lkO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmVyPFQ+IHtcbiAgLy8gQ2FsbGVkIG9uY2UgZm9yIGVhY2ggdmFsdWUgaW4gYSBzdHJlYW0gb2YgdmFsdWVzLlxuICBuZXh0OiBOZXh0Rm48VD47XG5cbiAgLy8gQSBzdHJlYW0gdGVybWluYXRlcyBieSBhIHNpbmdsZSBjYWxsIHRvIEVJVEhFUiBlcnJvcigpIG9yIGNvbXBsZXRlKCkuXG4gIGVycm9yOiBFcnJvckZuO1xuXG4gIC8vIE5vIGV2ZW50cyB3aWxsIGJlIHNlbnQgdG8gbmV4dCgpIG9uY2UgY29tcGxldGUoKSBpcyBjYWxsZWQuXG4gIGNvbXBsZXRlOiBDb21wbGV0ZUZuO1xufVxuXG5leHBvcnQgdHlwZSBQYXJ0aWFsT2JzZXJ2ZXI8VD4gPSBQYXJ0aWFsPE9ic2VydmVyPFQ+PjtcblxuLy8gVE9ETzogU3VwcG9ydCBhbHNvIFVuc3Vic2NyaWJlLnVuc3Vic2NyaWJlP1xuZXhwb3J0IHR5cGUgVW5zdWJzY3JpYmUgPSAoKSA9PiB2b2lkO1xuXG4vKipcbiAqIFRoZSBTdWJzY3JpYmUgaW50ZXJmYWNlIGhhcyB0d28gZm9ybXMgLSBwYXNzaW5nIHRoZSBpbmxpbmUgZnVuY3Rpb25cbiAqIGNhbGxiYWNrcywgb3IgYSBvYmplY3QgaW50ZXJmYWNlIHdpdGggY2FsbGJhY2sgcHJvcGVydGllcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpYmU8VD4ge1xuICAobmV4dD86IE5leHRGbjxUPiwgZXJyb3I/OiBFcnJvckZuLCBjb21wbGV0ZT86IENvbXBsZXRlRm4pOiBVbnN1YnNjcmliZTtcbiAgKG9ic2VydmVyOiBQYXJ0aWFsT2JzZXJ2ZXI8VD4pOiBVbnN1YnNjcmliZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYnNlcnZhYmxlPFQ+IHtcbiAgLy8gU3Vic2NyaWJlIG1ldGhvZFxuICBzdWJzY3JpYmU6IFN1YnNjcmliZTxUPjtcbn1cblxuZXhwb3J0IHR5cGUgRXhlY3V0b3I8VD4gPSAob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSA9PiB2b2lkO1xuXG4vKipcbiAqIEhlbHBlciB0byBtYWtlIGEgU3Vic2NyaWJlIGZ1bmN0aW9uIChqdXN0IGxpa2UgUHJvbWlzZSBoZWxwcyBtYWtlIGFcbiAqIFRoZW5hYmxlKS5cbiAqXG4gKiBAcGFyYW0gZXhlY3V0b3IgRnVuY3Rpb24gd2hpY2ggY2FuIG1ha2UgY2FsbHMgdG8gYSBzaW5nbGUgT2JzZXJ2ZXJcbiAqICAgICBhcyBhIHByb3h5LlxuICogQHBhcmFtIG9uTm9PYnNlcnZlcnMgQ2FsbGJhY2sgd2hlbiBjb3VudCBvZiBPYnNlcnZlcnMgZ29lcyB0byB6ZXJvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3Vic2NyaWJlPFQ+KFxuICBleGVjdXRvcjogRXhlY3V0b3I8VD4sXG4gIG9uTm9PYnNlcnZlcnM/OiBFeGVjdXRvcjxUPlxuKTogU3Vic2NyaWJlPFQ+IHtcbiAgY29uc3QgcHJveHkgPSBuZXcgT2JzZXJ2ZXJQcm94eTxUPihleGVjdXRvciwgb25Ob09ic2VydmVycyk7XG4gIHJldHVybiBwcm94eS5zdWJzY3JpYmUuYmluZChwcm94eSk7XG59XG5cbi8qKlxuICogSW1wbGVtZW50IGZhbi1vdXQgZm9yIGFueSBudW1iZXIgb2YgT2JzZXJ2ZXJzIGF0dGFjaGVkIHZpYSBhIHN1YnNjcmliZVxuICogZnVuY3Rpb24uXG4gKi9cbmNsYXNzIE9ic2VydmVyUHJveHk8VD4gaW1wbGVtZW50cyBPYnNlcnZlcjxUPiB7XG4gIHByaXZhdGUgb2JzZXJ2ZXJzOiBBcnJheTxPYnNlcnZlcjxUPj4gfCB1bmRlZmluZWQgPSBbXTtcbiAgcHJpdmF0ZSB1bnN1YnNjcmliZXM6IFVuc3Vic2NyaWJlW10gPSBbXTtcbiAgcHJpdmF0ZSBvbk5vT2JzZXJ2ZXJzOiBFeGVjdXRvcjxUPiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBvYnNlcnZlckNvdW50ID0gMDtcbiAgLy8gTWljcm8tdGFzayBzY2hlZHVsaW5nIGJ5IGNhbGxpbmcgdGFzay50aGVuKCkuXG4gIHByaXZhdGUgdGFzayA9IFByb21pc2UucmVzb2x2ZSgpO1xuICBwcml2YXRlIGZpbmFsaXplZCA9IGZhbHNlO1xuICBwcml2YXRlIGZpbmFsRXJyb3I/OiBFcnJvcjtcblxuICAvKipcbiAgICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXG4gICAqICAgICBhcyBhIHByb3h5LlxuICAgKiBAcGFyYW0gb25Ob09ic2VydmVycyBDYWxsYmFjayB3aGVuIGNvdW50IG9mIE9ic2VydmVycyBnb2VzIHRvIHplcm8uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihleGVjdXRvcjogRXhlY3V0b3I8VD4sIG9uTm9PYnNlcnZlcnM/OiBFeGVjdXRvcjxUPikge1xuICAgIHRoaXMub25Ob09ic2VydmVycyA9IG9uTm9PYnNlcnZlcnM7XG4gICAgLy8gQ2FsbCB0aGUgZXhlY3V0b3IgYXN5bmNocm9ub3VzbHkgc28gc3Vic2NyaWJlcnMgdGhhdCBhcmUgY2FsbGVkXG4gICAgLy8gc3luY2hyb25vdXNseSBhZnRlciB0aGUgY3JlYXRpb24gb2YgdGhlIHN1YnNjcmliZSBmdW5jdGlvblxuICAgIC8vIGNhbiBzdGlsbCByZWNlaXZlIHRoZSB2ZXJ5IGZpcnN0IHZhbHVlIGdlbmVyYXRlZCBpbiB0aGUgZXhlY3V0b3IuXG4gICAgdGhpcy50YXNrXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGV4ZWN1dG9yKHRoaXMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgdGhpcy5lcnJvcihlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgbmV4dCh2YWx1ZTogVCk6IHZvaWQge1xuICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHtcbiAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgZXJyb3IoZXJyb3I6IEVycm9yKTogdm9pZCB7XG4gICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4ge1xuICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3IpO1xuICAgIH0pO1xuICAgIHRoaXMuY2xvc2UoZXJyb3IpO1xuICB9XG5cbiAgY29tcGxldGUoKTogdm9pZCB7XG4gICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4ge1xuICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIGFuIE9ic2VydmVyIHRvIHRoZSBmYW4tb3V0IGxpc3QuXG4gICAqXG4gICAqIC0gV2UgcmVxdWlyZSB0aGF0IG5vIGV2ZW50IGlzIHNlbnQgdG8gYSBzdWJzY3JpYmVyIHN5bmNocm9ub3VzbHkgdG8gdGhlaXJcbiAgICogICBjYWxsIHRvIHN1YnNjcmliZSgpLlxuICAgKi9cbiAgc3Vic2NyaWJlKFxuICAgIG5leHRPck9ic2VydmVyPzogTmV4dEZuPFQ+IHwgUGFydGlhbE9ic2VydmVyPFQ+LFxuICAgIGVycm9yPzogRXJyb3JGbixcbiAgICBjb21wbGV0ZT86IENvbXBsZXRlRm5cbiAgKTogVW5zdWJzY3JpYmUge1xuICAgIGxldCBvYnNlcnZlcjogT2JzZXJ2ZXI8VD47XG5cbiAgICBpZiAoXG4gICAgICBuZXh0T3JPYnNlcnZlciA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBlcnJvciA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBjb21wbGV0ZSA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgT2JzZXJ2ZXIuJyk7XG4gICAgfVxuXG4gICAgLy8gQXNzZW1ibGUgYW4gT2JzZXJ2ZXIgb2JqZWN0IHdoZW4gcGFzc2VkIGFzIGNhbGxiYWNrIGZ1bmN0aW9ucy5cbiAgICBpZiAoXG4gICAgICBpbXBsZW1lbnRzQW55TWV0aG9kcyhuZXh0T3JPYnNlcnZlciBhcyB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfSwgW1xuICAgICAgICAnbmV4dCcsXG4gICAgICAgICdlcnJvcicsXG4gICAgICAgICdjb21wbGV0ZSdcbiAgICAgIF0pXG4gICAgKSB7XG4gICAgICBvYnNlcnZlciA9IG5leHRPck9ic2VydmVyIGFzIE9ic2VydmVyPFQ+O1xuICAgIH0gZWxzZSB7XG4gICAgICBvYnNlcnZlciA9IHtcbiAgICAgICAgbmV4dDogbmV4dE9yT2JzZXJ2ZXIgYXMgTmV4dEZuPFQ+LFxuICAgICAgICBlcnJvcixcbiAgICAgICAgY29tcGxldGVcbiAgICAgIH0gYXMgT2JzZXJ2ZXI8VD47XG4gICAgfVxuXG4gICAgaWYgKG9ic2VydmVyLm5leHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgb2JzZXJ2ZXIubmV4dCA9IG5vb3AgYXMgTmV4dEZuPFQ+O1xuICAgIH1cbiAgICBpZiAob2JzZXJ2ZXIuZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgb2JzZXJ2ZXIuZXJyb3IgPSBub29wIGFzIEVycm9yRm47XG4gICAgfVxuICAgIGlmIChvYnNlcnZlci5jb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvYnNlcnZlci5jb21wbGV0ZSA9IG5vb3AgYXMgQ29tcGxldGVGbjtcbiAgICB9XG5cbiAgICBjb25zdCB1bnN1YiA9IHRoaXMudW5zdWJzY3JpYmVPbmUuYmluZCh0aGlzLCB0aGlzLm9ic2VydmVycyEubGVuZ3RoKTtcblxuICAgIC8vIEF0dGVtcHQgdG8gc3Vic2NyaWJlIHRvIGEgdGVybWluYXRlZCBPYnNlcnZhYmxlIC0gd2VcbiAgICAvLyBqdXN0IHJlc3BvbmQgdG8gdGhlIE9ic2VydmVyIHdpdGggdGhlIGZpbmFsIGVycm9yIG9yIGNvbXBsZXRlXG4gICAgLy8gZXZlbnQuXG4gICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICB0aGlzLnRhc2sudGhlbigoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHRoaXMuZmluYWxFcnJvcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IodGhpcy5maW5hbEVycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBub3RoaW5nXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5vYnNlcnZlcnMhLnB1c2gob2JzZXJ2ZXIgYXMgT2JzZXJ2ZXI8VD4pO1xuXG4gICAgcmV0dXJuIHVuc3ViO1xuICB9XG5cbiAgLy8gVW5zdWJzY3JpYmUgaXMgc3luY2hyb25vdXMgLSB3ZSBndWFyYW50ZWUgdGhhdCBubyBldmVudHMgYXJlIHNlbnQgdG9cbiAgLy8gYW55IHVuc3Vic2NyaWJlZCBPYnNlcnZlci5cbiAgcHJpdmF0ZSB1bnN1YnNjcmliZU9uZShpOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5vYnNlcnZlcnMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLm9ic2VydmVyc1tpXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMub2JzZXJ2ZXJzW2ldO1xuXG4gICAgdGhpcy5vYnNlcnZlckNvdW50IC09IDE7XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXJDb3VudCA9PT0gMCAmJiB0aGlzLm9uTm9PYnNlcnZlcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZm9yRWFjaE9ic2VydmVyKGZuOiAob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XG4gICAgICAvLyBBbHJlYWR5IGNsb3NlZCBieSBwcmV2aW91cyBldmVudC4uLi5qdXN0IGVhdCB0aGUgYWRkaXRpb25hbCB2YWx1ZXMuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2luY2Ugc2VuZE9uZSBjYWxscyBhc3luY2hyb25vdXNseSAtIHRoZXJlIGlzIG5vIGNoYW5jZSB0aGF0XG4gICAgLy8gdGhpcy5vYnNlcnZlcnMgd2lsbCBiZWNvbWUgdW5kZWZpbmVkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnNlbmRPbmUoaSwgZm4pO1xuICAgIH1cbiAgfVxuXG4gIC8vIENhbGwgdGhlIE9ic2VydmVyIHZpYSBvbmUgb2YgaXQncyBjYWxsYmFjayBmdW5jdGlvbi4gV2UgYXJlIGNhcmVmdWwgdG9cbiAgLy8gY29uZmlybSB0aGF0IHRoZSBvYnNlcnZlIGhhcyBub3QgYmVlbiB1bnN1YnNjcmliZWQgc2luY2UgdGhpcyBhc3luY2hyb25vdXNcbiAgLy8gZnVuY3Rpb24gaGFkIGJlZW4gcXVldWVkLlxuICBwcml2YXRlIHNlbmRPbmUoaTogbnVtYmVyLCBmbjogKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4gdm9pZCk6IHZvaWQge1xuICAgIC8vIEV4ZWN1dGUgdGhlIGNhbGxiYWNrIGFzeW5jaHJvbm91c2x5XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgIHRoaXMudGFzay50aGVuKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLm9ic2VydmVycyAhPT0gdW5kZWZpbmVkICYmIHRoaXMub2JzZXJ2ZXJzW2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmbih0aGlzLm9ic2VydmVyc1tpXSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBJZ25vcmUgZXhjZXB0aW9ucyByYWlzZWQgaW4gT2JzZXJ2ZXJzIG9yIG1pc3NpbmcgbWV0aG9kcyBvZiBhblxuICAgICAgICAgIC8vIE9ic2VydmVyLlxuICAgICAgICAgIC8vIExvZyBlcnJvciB0byBjb25zb2xlLiBiLzMxNDA0ODA2XG4gICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjbG9zZShlcnI/OiBFcnJvcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XG4gICAgaWYgKGVyciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmZpbmFsRXJyb3IgPSBlcnI7XG4gICAgfVxuICAgIC8vIFByb3h5IGlzIG5vIGxvbmdlciBuZWVkZWQgLSBnYXJiYWdlIGNvbGxlY3QgcmVmZXJlbmNlc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcbiAgICB0aGlzLnRhc2sudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVycyA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMub25Ob09ic2VydmVycyA9IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogVHVybiBzeW5jaHJvbm91cyBmdW5jdGlvbiBpbnRvIG9uZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIGFzeW5jKGZuOiBGdW5jdGlvbiwgb25FcnJvcj86IEVycm9yRm4pOiBGdW5jdGlvbiB7XG4gIHJldHVybiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHRydWUpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZuKC4uLmFyZ3MpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgb25FcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBvYmplY3QgcGFzc2VkIGluIGltcGxlbWVudHMgYW55IG9mIHRoZSBuYW1lZCBtZXRob2RzLlxuICovXG5mdW5jdGlvbiBpbXBsZW1lbnRzQW55TWV0aG9kcyhcbiAgb2JqOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfSxcbiAgbWV0aG9kczogc3RyaW5nW11cbik6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yIChjb25zdCBtZXRob2Qgb2YgbWV0aG9kcykge1xuICAgIGlmIChtZXRob2QgaW4gb2JqICYmIHR5cGVvZiBvYmpbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBub29wKCk6IHZvaWQge1xuICAvLyBkbyBub3RoaW5nXG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBDaGVjayB0byBtYWtlIHN1cmUgdGhlIGFwcHJvcHJpYXRlIG51bWJlciBvZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIGZvciBhIHB1YmxpYyBmdW5jdGlvbi5cbiAqIFRocm93cyBhbiBlcnJvciBpZiBpdCBmYWlscy5cbiAqXG4gKiBAcGFyYW0gZm5OYW1lIFRoZSBmdW5jdGlvbiBuYW1lXG4gKiBAcGFyYW0gbWluQ291bnQgVGhlIG1pbmltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBhbGxvdyBmb3IgdGhlIGZ1bmN0aW9uIGNhbGxcbiAqIEBwYXJhbSBtYXhDb3VudCBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnQgdG8gYWxsb3cgZm9yIHRoZSBmdW5jdGlvbiBjYWxsXG4gKiBAcGFyYW0gYXJnQ291bnQgVGhlIGFjdHVhbCBudW1iZXIgb2YgYXJndW1lbnRzIHByb3ZpZGVkLlxuICovXG5leHBvcnQgY29uc3QgdmFsaWRhdGVBcmdDb3VudCA9IGZ1bmN0aW9uIChcbiAgZm5OYW1lOiBzdHJpbmcsXG4gIG1pbkNvdW50OiBudW1iZXIsXG4gIG1heENvdW50OiBudW1iZXIsXG4gIGFyZ0NvdW50OiBudW1iZXJcbik6IHZvaWQge1xuICBsZXQgYXJnRXJyb3I7XG4gIGlmIChhcmdDb3VudCA8IG1pbkNvdW50KSB7XG4gICAgYXJnRXJyb3IgPSAnYXQgbGVhc3QgJyArIG1pbkNvdW50O1xuICB9IGVsc2UgaWYgKGFyZ0NvdW50ID4gbWF4Q291bnQpIHtcbiAgICBhcmdFcnJvciA9IG1heENvdW50ID09PSAwID8gJ25vbmUnIDogJ25vIG1vcmUgdGhhbiAnICsgbWF4Q291bnQ7XG4gIH1cbiAgaWYgKGFyZ0Vycm9yKSB7XG4gICAgY29uc3QgZXJyb3IgPVxuICAgICAgZm5OYW1lICtcbiAgICAgICcgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggJyArXG4gICAgICBhcmdDb3VudCArXG4gICAgICAoYXJnQ291bnQgPT09IDEgPyAnIGFyZ3VtZW50LicgOiAnIGFyZ3VtZW50cy4nKSArXG4gICAgICAnIEV4cGVjdHMgJyArXG4gICAgICBhcmdFcnJvciArXG4gICAgICAnLic7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBzdHJpbmcgdG8gcHJlZml4IGFuIGVycm9yIG1lc3NhZ2UgYWJvdXQgZmFpbGVkIGFyZ3VtZW50IHZhbGlkYXRpb25cbiAqXG4gKiBAcGFyYW0gZm5OYW1lIFRoZSBmdW5jdGlvbiBuYW1lXG4gKiBAcGFyYW0gYXJnTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXJndW1lbnRcbiAqIEByZXR1cm4gVGhlIHByZWZpeCB0byBhZGQgdG8gdGhlIGVycm9yIHRocm93biBmb3IgdmFsaWRhdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yUHJlZml4KGZuTmFtZTogc3RyaW5nLCBhcmdOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7Zm5OYW1lfSBmYWlsZWQ6ICR7YXJnTmFtZX0gYXJndW1lbnQgYDtcbn1cblxuLyoqXG4gKiBAcGFyYW0gZm5OYW1lXG4gKiBAcGFyYW0gYXJndW1lbnROdW1iZXJcbiAqIEBwYXJhbSBuYW1lc3BhY2VcbiAqIEBwYXJhbSBvcHRpb25hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVOYW1lc3BhY2UoXG4gIGZuTmFtZTogc3RyaW5nLFxuICBuYW1lc3BhY2U6IHN0cmluZyxcbiAgb3B0aW9uYWw6IGJvb2xlYW5cbik6IHZvaWQge1xuICBpZiAob3B0aW9uYWwgJiYgIW5hbWVzcGFjZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIG5hbWVzcGFjZSAhPT0gJ3N0cmluZycpIHtcbiAgICAvL1RPRE86IEkgc2hvdWxkIGRvIG1vcmUgdmFsaWRhdGlvbiBoZXJlLiBXZSBvbmx5IGFsbG93IGNlcnRhaW4gY2hhcnMgaW4gbmFtZXNwYWNlcy5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBlcnJvclByZWZpeChmbk5hbWUsICduYW1lc3BhY2UnKSArICdtdXN0IGJlIGEgdmFsaWQgZmlyZWJhc2UgbmFtZXNwYWNlLidcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUNhbGxiYWNrKFxuICBmbk5hbWU6IHN0cmluZyxcbiAgYXJndW1lbnROYW1lOiBzdHJpbmcsXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG4gIGNhbGxiYWNrOiBGdW5jdGlvbixcbiAgb3B0aW9uYWw6IGJvb2xlYW5cbik6IHZvaWQge1xuICBpZiAob3B0aW9uYWwgJiYgIWNhbGxiYWNrKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TmFtZSkgKyAnbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLidcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHRPYmplY3QoXG4gIGZuTmFtZTogc3RyaW5nLFxuICBhcmd1bWVudE5hbWU6IHN0cmluZyxcbiAgY29udGV4dDogdW5rbm93bixcbiAgb3B0aW9uYWw6IGJvb2xlYW5cbik6IHZvaWQge1xuICBpZiAob3B0aW9uYWwgJiYgIWNvbnRleHQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGVvZiBjb250ZXh0ICE9PSAnb2JqZWN0JyB8fCBjb250ZXh0ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE5hbWUpICsgJ211c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC4nXG4gICAgKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vYXNzZXJ0JztcblxuLy8gQ29kZSBvcmlnaW5hbGx5IGNhbWUgZnJvbSBnb29nLmNyeXB0LnN0cmluZ1RvVXRmOEJ5dGVBcnJheSwgYnV0IGZvciBzb21lIHJlYXNvbiB0aGV5XG4vLyBhdXRvbWF0aWNhbGx5IHJlcGxhY2VkICdcXHJcXG4nIHdpdGggJ1xcbicsIGFuZCB0aGV5IGRpZG4ndCBoYW5kbGUgc3Vycm9nYXRlIHBhaXJzLFxuLy8gc28gaXQncyBiZWVuIG1vZGlmaWVkLlxuXG4vLyBOb3RlIHRoYXQgbm90IGFsbCBVbmljb2RlIGNoYXJhY3RlcnMgYXBwZWFyIGFzIHNpbmdsZSBjaGFyYWN0ZXJzIGluIEphdmFTY3JpcHQgc3RyaW5ncy5cbi8vIGZyb21DaGFyQ29kZSByZXR1cm5zIHRoZSBVVEYtMTYgZW5jb2Rpbmcgb2YgYSBjaGFyYWN0ZXIgLSBzbyBzb21lIFVuaWNvZGUgY2hhcmFjdGVyc1xuLy8gdXNlIDIgY2hhcmFjdGVycyBpbiBKYXZhU2NyaXB0LiAgQWxsIDQtYnl0ZSBVVEYtOCBjaGFyYWN0ZXJzIGJlZ2luIHdpdGggYSBmaXJzdFxuLy8gY2hhcmFjdGVyIGluIHRoZSByYW5nZSAweEQ4MDAgLSAweERCRkYgKHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzby1jYWxsZWQgc3Vycm9nYXRlXG4vLyBwYWlyKS5cbi8vIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtMTUuMS4zXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmV4cG9ydCBjb25zdCBzdHJpbmdUb0J5dGVBcnJheSA9IGZ1bmN0aW9uIChzdHI6IHN0cmluZyk6IG51bWJlcltdIHtcbiAgY29uc3Qgb3V0OiBudW1iZXJbXSA9IFtdO1xuICBsZXQgcCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcblxuICAgIC8vIElzIHRoaXMgdGhlIGxlYWQgc3Vycm9nYXRlIGluIGEgc3Vycm9nYXRlIHBhaXI/XG4gICAgaWYgKGMgPj0gMHhkODAwICYmIGMgPD0gMHhkYmZmKSB7XG4gICAgICBjb25zdCBoaWdoID0gYyAtIDB4ZDgwMDsgLy8gdGhlIGhpZ2ggMTAgYml0cy5cbiAgICAgIGkrKztcbiAgICAgIGFzc2VydChpIDwgc3RyLmxlbmd0aCwgJ1N1cnJvZ2F0ZSBwYWlyIG1pc3NpbmcgdHJhaWwgc3Vycm9nYXRlLicpO1xuICAgICAgY29uc3QgbG93ID0gc3RyLmNoYXJDb2RlQXQoaSkgLSAweGRjMDA7IC8vIHRoZSBsb3cgMTAgYml0cy5cbiAgICAgIGMgPSAweDEwMDAwICsgKGhpZ2ggPDwgMTApICsgbG93O1xuICAgIH1cblxuICAgIGlmIChjIDwgMTI4KSB7XG4gICAgICBvdXRbcCsrXSA9IGM7XG4gICAgfSBlbHNlIGlmIChjIDwgMjA0OCkge1xuICAgICAgb3V0W3ArK10gPSAoYyA+PiA2KSB8IDE5MjtcbiAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XG4gICAgfSBlbHNlIGlmIChjIDwgNjU1MzYpIHtcbiAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xuICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XG4gICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRbcCsrXSA9IChjID4+IDE4KSB8IDI0MDtcbiAgICAgIG91dFtwKytdID0gKChjID4+IDEyKSAmIDYzKSB8IDEyODtcbiAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xuICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGxlbmd0aCB3aXRob3V0IGFjdHVhbGx5IGNvbnZlcnRpbmc7IHVzZWZ1bCBmb3IgZG9pbmcgY2hlYXBlciB2YWxpZGF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3Qgc3RyaW5nTGVuZ3RoID0gZnVuY3Rpb24gKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgbGV0IHAgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgcCsrO1xuICAgIH0gZWxzZSBpZiAoYyA8IDIwNDgpIHtcbiAgICAgIHAgKz0gMjtcbiAgICB9IGVsc2UgaWYgKGMgPj0gMHhkODAwICYmIGMgPD0gMHhkYmZmKSB7XG4gICAgICAvLyBMZWFkIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyLiAgVGhlIHBhaXIgdG9nZXRoZXIgd2lsbCB0YWtlIDQgYnl0ZXMgdG8gcmVwcmVzZW50LlxuICAgICAgcCArPSA0O1xuICAgICAgaSsrOyAvLyBza2lwIHRyYWlsIHN1cnJvZ2F0ZS5cbiAgICB9IGVsc2Uge1xuICAgICAgcCArPSAzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcDtcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBDb3BpZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICogR2VuZXJhdGVzIGEgbmV3IHV1aWQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCB1dWlkdjQgPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgYyA9PiB7XG4gICAgY29uc3QgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCxcbiAgICAgIHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogVGhlIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgdG8gZXhwb25lbnRpYWxseSBpbmNyZWFzZS5cbiAqL1xuY29uc3QgREVGQVVMVF9JTlRFUlZBTF9NSUxMSVMgPSAxMDAwO1xuXG4vKipcbiAqIFRoZSBmYWN0b3IgdG8gYmFja29mZiBieS5cbiAqIFNob3VsZCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMS5cbiAqL1xuY29uc3QgREVGQVVMVF9CQUNLT0ZGX0ZBQ1RPUiA9IDI7XG5cbi8qKlxuICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRvIGluY3JlYXNlIHRvLlxuICpcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IE1BWF9WQUxVRV9NSUxMSVMgPSA0ICogNjAgKiA2MCAqIDEwMDA7IC8vIEZvdXIgaG91cnMsIGxpa2UgaU9TIGFuZCBBbmRyb2lkLlxuXG4vKipcbiAqIFRoZSBwZXJjZW50YWdlIG9mIGJhY2tvZmYgdGltZSB0byByYW5kb21pemUgYnkuXG4gKiBTZWVcbiAqIGh0dHA6Ly9nby9zYWZlLWNsaWVudC1iZWhhdmlvciNzdGVwLTEtZGV0ZXJtaW5lLXRoZS1hcHByb3ByaWF0ZS1yZXRyeS1pbnRlcnZhbC10by1oYW5kbGUtc3Bpa2UtdHJhZmZpY1xuICogZm9yIGNvbnRleHQuXG4gKlxuICogPHA+VmlzaWJsZSBmb3IgdGVzdGluZ1xuICovXG5leHBvcnQgY29uc3QgUkFORE9NX0ZBQ1RPUiA9IDAuNTtcblxuLyoqXG4gKiBCYXNlZCBvbiB0aGUgYmFja29mZiBtZXRob2QgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWxpYnJhcnkvYmxvYi9tYXN0ZXIvY2xvc3VyZS9nb29nL21hdGgvZXhwb25lbnRpYWxiYWNrb2ZmLmpzLlxuICogRXh0cmFjdGVkIGhlcmUgc28gd2UgZG9uJ3QgbmVlZCB0byBwYXNzIG1ldGFkYXRhIGFuZCBhIHN0YXRlZnVsIEV4cG9uZW50aWFsQmFja29mZiBvYmplY3QgYXJvdW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQmFja29mZk1pbGxpcyhcbiAgYmFja29mZkNvdW50OiBudW1iZXIsXG4gIGludGVydmFsTWlsbGlzOiBudW1iZXIgPSBERUZBVUxUX0lOVEVSVkFMX01JTExJUyxcbiAgYmFja29mZkZhY3RvcjogbnVtYmVyID0gREVGQVVMVF9CQUNLT0ZGX0ZBQ1RPUlxuKTogbnVtYmVyIHtcbiAgLy8gQ2FsY3VsYXRlcyBhbiBleHBvbmVudGlhbGx5IGluY3JlYXNpbmcgdmFsdWUuXG4gIC8vIERldmlhdGlvbjogY2FsY3VsYXRlcyB2YWx1ZSBmcm9tIGNvdW50IGFuZCBhIGNvbnN0YW50IGludGVydmFsLCBzbyB3ZSBvbmx5IG5lZWQgdG8gc2F2ZSB2YWx1ZVxuICAvLyBhbmQgY291bnQgdG8gcmVzdG9yZSBzdGF0ZS5cbiAgY29uc3QgY3VyckJhc2VWYWx1ZSA9IGludGVydmFsTWlsbGlzICogTWF0aC5wb3coYmFja29mZkZhY3RvciwgYmFja29mZkNvdW50KTtcblxuICAvLyBBIHJhbmRvbSBcImZ1enpcIiB0byBhdm9pZCB3YXZlcyBvZiByZXRyaWVzLlxuICAvLyBEZXZpYXRpb246IHJhbmRvbUZhY3RvciBpcyByZXF1aXJlZC5cbiAgY29uc3QgcmFuZG9tV2FpdCA9IE1hdGgucm91bmQoXG4gICAgLy8gQSBmcmFjdGlvbiBvZiB0aGUgYmFja29mZiB2YWx1ZSB0byBhZGQvc3VidHJhY3QuXG4gICAgLy8gRGV2aWF0aW9uOiBjaGFuZ2VzIG11bHRpcGxpY2F0aW9uIG9yZGVyIHRvIGltcHJvdmUgcmVhZGFiaWxpdHkuXG4gICAgUkFORE9NX0ZBQ1RPUiAqXG4gICAgICBjdXJyQmFzZVZhbHVlICpcbiAgICAgIC8vIEEgcmFuZG9tIGZsb2F0IChyb3VuZGVkIHRvIGludCBieSBNYXRoLnJvdW5kIGFib3ZlKSBpbiB0aGUgcmFuZ2UgWy0xLCAxXS4gRGV0ZXJtaW5lc1xuICAgICAgLy8gaWYgd2UgYWRkIG9yIHN1YnRyYWN0LlxuICAgICAgKE1hdGgucmFuZG9tKCkgLSAwLjUpICpcbiAgICAgIDJcbiAgKTtcblxuICAvLyBMaW1pdHMgYmFja29mZiB0byBtYXggdG8gYXZvaWQgZWZmZWN0aXZlbHkgcGVybWFuZW50IGJhY2tvZmYuXG4gIHJldHVybiBNYXRoLm1pbihNQVhfVkFMVUVfTUlMTElTLCBjdXJyQmFzZVZhbHVlICsgcmFuZG9tV2FpdCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBQcm92aWRlIEVuZ2xpc2ggb3JkaW5hbCBsZXR0ZXJzIGFmdGVyIGEgbnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmRpbmFsKGk6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKGkpKSB7XG4gICAgcmV0dXJuIGAke2l9YDtcbiAgfVxuICByZXR1cm4gaSArIGluZGljYXRvcihpKTtcbn1cblxuZnVuY3Rpb24gaW5kaWNhdG9yKGk6IG51bWJlcik6IHN0cmluZyB7XG4gIGkgPSBNYXRoLmFicyhpKTtcbiAgY29uc3QgY2VudCA9IGkgJSAxMDA7XG4gIGlmIChjZW50ID49IDEwICYmIGNlbnQgPD0gMjApIHtcbiAgICByZXR1cm4gJ3RoJztcbiAgfVxuICBjb25zdCBkZWMgPSBpICUgMTA7XG4gIGlmIChkZWMgPT09IDEpIHtcbiAgICByZXR1cm4gJ3N0JztcbiAgfVxuICBpZiAoZGVjID09PSAyKSB7XG4gICAgcmV0dXJuICduZCc7XG4gIH1cbiAgaWYgKGRlYyA9PT0gMykge1xuICAgIHJldHVybiAncmQnO1xuICB9XG4gIHJldHVybiAndGgnO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGF0PFQ+IHtcbiAgX2RlbGVnYXRlOiBUO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kdWxhckluc3RhbmNlPEV4cFNlcnZpY2U+KFxuICBzZXJ2aWNlOiBDb21wYXQ8RXhwU2VydmljZT4gfCBFeHBTZXJ2aWNlXG4pOiBFeHBTZXJ2aWNlIHtcbiAgaWYgKHNlcnZpY2UgJiYgKHNlcnZpY2UgYXMgQ29tcGF0PEV4cFNlcnZpY2U+KS5fZGVsZWdhdGUpIHtcbiAgICByZXR1cm4gKHNlcnZpY2UgYXMgQ29tcGF0PEV4cFNlcnZpY2U+KS5fZGVsZWdhdGU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHNlcnZpY2UgYXMgRXhwU2VydmljZTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1xuICBJbnN0YW50aWF0aW9uTW9kZSxcbiAgSW5zdGFuY2VGYWN0b3J5LFxuICBDb21wb25lbnRUeXBlLFxuICBEaWN0aW9uYXJ5LFxuICBOYW1lLFxuICBvbkluc3RhbmNlQ3JlYXRlZENhbGxiYWNrXG59IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIENvbXBvbmVudCBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcbiAqL1xuZXhwb3J0IGNsYXNzIENvbXBvbmVudDxUIGV4dGVuZHMgTmFtZSA9IE5hbWU+IHtcbiAgbXVsdGlwbGVJbnN0YW5jZXMgPSBmYWxzZTtcbiAgLyoqXG4gICAqIFByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIHNlcnZpY2UgbmFtZXNwYWNlXG4gICAqL1xuICBzZXJ2aWNlUHJvcHM6IERpY3Rpb25hcnkgPSB7fTtcblxuICBpbnN0YW50aWF0aW9uTW9kZSA9IEluc3RhbnRpYXRpb25Nb2RlLkxBWlk7XG5cbiAgb25JbnN0YW5jZUNyZWF0ZWQ6IG9uSW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2s8VD4gfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgVGhlIHB1YmxpYyBzZXJ2aWNlIG5hbWUsIGUuZy4gYXBwLCBhdXRoLCBmaXJlc3RvcmUsIGRhdGFiYXNlXG4gICAqIEBwYXJhbSBpbnN0YW5jZUZhY3RvcnkgU2VydmljZSBmYWN0b3J5IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUgcHVibGljIGludGVyZmFjZVxuICAgKiBAcGFyYW0gdHlwZSB3aGV0aGVyIHRoZSBzZXJ2aWNlIHByb3ZpZGVkIGJ5IHRoZSBjb21wb25lbnQgaXMgcHVibGljIG9yIHByaXZhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IG5hbWU6IFQsXG4gICAgcmVhZG9ubHkgaW5zdGFuY2VGYWN0b3J5OiBJbnN0YW5jZUZhY3Rvcnk8VD4sXG4gICAgcmVhZG9ubHkgdHlwZTogQ29tcG9uZW50VHlwZVxuICApIHt9XG5cbiAgc2V0SW5zdGFudGlhdGlvbk1vZGUobW9kZTogSW5zdGFudGlhdGlvbk1vZGUpOiB0aGlzIHtcbiAgICB0aGlzLmluc3RhbnRpYXRpb25Nb2RlID0gbW9kZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldE11bHRpcGxlSW5zdGFuY2VzKG11bHRpcGxlSW5zdGFuY2VzOiBib29sZWFuKTogdGhpcyB7XG4gICAgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyA9IG11bHRpcGxlSW5zdGFuY2VzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0U2VydmljZVByb3BzKHByb3BzOiBEaWN0aW9uYXJ5KTogdGhpcyB7XG4gICAgdGhpcy5zZXJ2aWNlUHJvcHMgPSBwcm9wcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNldEluc3RhbmNlQ3JlYXRlZENhbGxiYWNrKGNhbGxiYWNrOiBvbkluc3RhbmNlQ3JlYXRlZENhbGxiYWNrPFQ+KTogdGhpcyB7XG4gICAgdGhpcy5vbkluc3RhbmNlQ3JlYXRlZCA9IGNhbGxiYWNrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfRU5UUllfTkFNRSA9ICdbREVGQVVMVF0nO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IERlZmVycmVkIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgQ29tcG9uZW50Q29udGFpbmVyIH0gZnJvbSAnLi9jb21wb25lbnRfY29udGFpbmVyJztcbmltcG9ydCB7IERFRkFVTFRfRU5UUllfTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIEluaXRpYWxpemVPcHRpb25zLFxuICBJbnN0YW50aWF0aW9uTW9kZSxcbiAgTmFtZSxcbiAgTmFtZVNlcnZpY2VNYXBwaW5nLFxuICBPbkluaXRDYWxsQmFja1xufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50JztcblxuLyoqXG4gKiBQcm92aWRlciBmb3IgaW5zdGFuY2UgZm9yIHNlcnZpY2UgbmFtZSBULCBlLmcuICdhdXRoJywgJ2F1dGgtaW50ZXJuYWwnXG4gKiBOYW1lU2VydmljZU1hcHBpbmdbVF0gaXMgYW4gYWxpYXMgZm9yIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZVxuICovXG5leHBvcnQgY2xhc3MgUHJvdmlkZXI8VCBleHRlbmRzIE5hbWU+IHtcbiAgcHJpdmF0ZSBjb21wb25lbnQ6IENvbXBvbmVudDxUPiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlYWRvbmx5IGluc3RhbmNlczogTWFwPHN0cmluZywgTmFtZVNlcnZpY2VNYXBwaW5nW1RdPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSByZWFkb25seSBpbnN0YW5jZXNEZWZlcnJlZDogTWFwPFxuICAgIHN0cmluZyxcbiAgICBEZWZlcnJlZDxOYW1lU2VydmljZU1hcHBpbmdbVF0+XG4gID4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgaW5zdGFuY2VzT3B0aW9uczogTWFwPHN0cmluZywgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+ID1cbiAgICBuZXcgTWFwKCk7XG4gIHByaXZhdGUgb25Jbml0Q2FsbGJhY2tzOiBNYXA8c3RyaW5nLCBTZXQ8T25Jbml0Q2FsbEJhY2s8VD4+PiA9IG5ldyBNYXAoKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IG5hbWU6IFQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IENvbXBvbmVudENvbnRhaW5lclxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBpZGVudGlmaWVyIEEgcHJvdmlkZXIgY2FuIHByb3ZpZGUgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIGEgc2VydmljZVxuICAgKiBpZiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyBpcyB0cnVlLlxuICAgKi9cbiAgZ2V0KGlkZW50aWZpZXI/OiBzdHJpbmcpOiBQcm9taXNlPE5hbWVTZXJ2aWNlTWFwcGluZ1tUXT4ge1xuICAgIC8vIGlmIG11bHRpcGxlSW5zdGFuY2VzIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgZGVmYXVsdCBuYW1lXG4gICAgY29uc3Qgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcblxuICAgIGlmICghdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5oYXMobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XG4gICAgICBjb25zdCBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZDxOYW1lU2VydmljZU1hcHBpbmdbVF0+KCk7XG4gICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkLnNldChub3JtYWxpemVkSWRlbnRpZmllciwgZGVmZXJyZWQpO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZChub3JtYWxpemVkSWRlbnRpZmllcikgfHxcbiAgICAgICAgdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpXG4gICAgICApIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgc2VydmljZSBpZiBpdCBjYW4gYmUgYXV0by1pbml0aWFsaXplZFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcbiAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgdGhyb3dzIGFuIGV4Y2VwdGlvbiBkdXJpbmcgZ2V0KCksIGl0IHNob3VsZCBub3QgY2F1c2VcbiAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yLiBXZSBqdXN0IHJldHVybiB0aGUgdW5yZXNvbHZlZCBwcm9taXNlIGluIHRoaXMgY2FzZS5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmdldChub3JtYWxpemVkSWRlbnRpZmllcikhLnByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMuaWRlbnRpZmllciBBIHByb3ZpZGVyIGNhbiBwcm92aWRlIG11bHRpcGxlIGluc3RhbmNlcyBvZiBhIHNlcnZpY2VcbiAgICogaWYgdGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXMgaXMgdHJ1ZS5cbiAgICogQHBhcmFtIG9wdGlvbnMub3B0aW9uYWwgSWYgb3B0aW9uYWwgaXMgZmFsc2Ugb3Igbm90IHByb3ZpZGVkLCB0aGUgbWV0aG9kIHRocm93cyBhbiBlcnJvciB3aGVuXG4gICAqIHRoZSBzZXJ2aWNlIGlzIG5vdCBpbW1lZGlhdGVseSBhdmFpbGFibGUuXG4gICAqIElmIG9wdGlvbmFsIGlzIHRydWUsIHRoZSBtZXRob2QgcmV0dXJucyBudWxsIGlmIHRoZSBzZXJ2aWNlIGlzIG5vdCBpbW1lZGlhdGVseSBhdmFpbGFibGUuXG4gICAqL1xuICBnZXRJbW1lZGlhdGUob3B0aW9uczoge1xuICAgIGlkZW50aWZpZXI/OiBzdHJpbmc7XG4gICAgb3B0aW9uYWw6IHRydWU7XG4gIH0pOiBOYW1lU2VydmljZU1hcHBpbmdbVF0gfCBudWxsO1xuICBnZXRJbW1lZGlhdGUob3B0aW9ucz86IHtcbiAgICBpZGVudGlmaWVyPzogc3RyaW5nO1xuICAgIG9wdGlvbmFsPzogZmFsc2U7XG4gIH0pOiBOYW1lU2VydmljZU1hcHBpbmdbVF07XG4gIGdldEltbWVkaWF0ZShvcHRpb25zPzoge1xuICAgIGlkZW50aWZpZXI/OiBzdHJpbmc7XG4gICAgb3B0aW9uYWw/OiBib29sZWFuO1xuICB9KTogTmFtZVNlcnZpY2VNYXBwaW5nW1RdIHwgbnVsbCB7XG4gICAgLy8gaWYgbXVsdGlwbGVJbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBkZWZhdWx0IG5hbWVcbiAgICBjb25zdCBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKFxuICAgICAgb3B0aW9ucz8uaWRlbnRpZmllclxuICAgICk7XG4gICAgY29uc3Qgb3B0aW9uYWwgPSBvcHRpb25zPy5vcHRpb25hbCA/PyBmYWxzZTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZChub3JtYWxpemVkSWRlbnRpZmllcikgfHxcbiAgICAgIHRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKVxuICAgICkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XG4gICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKG9wdGlvbmFsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJbiBjYXNlIGEgY29tcG9uZW50IGlzIG5vdCBpbml0aWFsaXplZCBhbmQgc2hvdWxkL2Nhbm5vdCBiZSBhdXRvLWluaXRpYWxpemVkIGF0IHRoZSBtb21lbnQsIHJldHVybiBudWxsIGlmIHRoZSBvcHRpb25hbCBmbGFnIGlzIHNldCwgb3IgdGhyb3dcbiAgICAgIGlmIChvcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKGBTZXJ2aWNlICR7dGhpcy5uYW1lfSBpcyBub3QgYXZhaWxhYmxlYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29tcG9uZW50KCk6IENvbXBvbmVudDxUPiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudDtcbiAgfVxuXG4gIHNldENvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudDxUPik6IHZvaWQge1xuICAgIGlmIChjb21wb25lbnQubmFtZSAhPT0gdGhpcy5uYW1lKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYE1pc21hdGNoaW5nIENvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBmb3IgUHJvdmlkZXIgJHt0aGlzLm5hbWV9LmBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XG4gICAgICB0aHJvdyBFcnJvcihgQ29tcG9uZW50IGZvciAke3RoaXMubmFtZX0gaGFzIGFscmVhZHkgYmVlbiBwcm92aWRlZGApO1xuICAgIH1cblxuICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuXG4gICAgLy8gcmV0dXJuIGVhcmx5IHdpdGhvdXQgYXR0ZW1wdGluZyB0byBpbml0aWFsaXplIHRoZSBjb21wb25lbnQgaWYgdGhlIGNvbXBvbmVudCByZXF1aXJlcyBleHBsaWNpdCBpbml0aWFsaXphdGlvbiAoY2FsbGluZyBgUHJvdmlkZXIuaW5pdGlhbGl6ZSgpYClcbiAgICBpZiAoIXRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZSBzZXJ2aWNlIGlzIGVhZ2VyLCBpbml0aWFsaXplIHRoZSBkZWZhdWx0IGluc3RhbmNlXG4gICAgaWYgKGlzQ29tcG9uZW50RWFnZXIoY29tcG9uZW50KSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHsgaW5zdGFuY2VJZGVudGlmaWVyOiBERUZBVUxUX0VOVFJZX05BTUUgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgZm9yIGFuIGVhZ2VyIENvbXBvbmVudCB0aHJvd3MgYW4gZXhjZXB0aW9uIGR1cmluZyB0aGUgZWFnZXJcbiAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24sIGl0IHNob3VsZCBub3QgY2F1c2UgYSBmYXRhbCBlcnJvci5cbiAgICAgICAgLy8gVE9ETzogSW52ZXN0aWdhdGUgaWYgd2UgbmVlZCB0byBtYWtlIGl0IGNvbmZpZ3VyYWJsZSwgYmVjYXVzZSBzb21lIGNvbXBvbmVudCBtYXkgd2FudCB0byBjYXVzZVxuICAgICAgICAvLyBhIGZhdGFsIGVycm9yIGluIHRoaXMgY2FzZT9cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgc2VydmljZSBpbnN0YW5jZXMgZm9yIHRoZSBwZW5kaW5nIHByb21pc2VzIGFuZCByZXNvbHZlIHRoZW1cbiAgICAvLyBOT1RFOiBpZiB0aGlzLm11bHRpcGxlSW5zdGFuY2VzIGlzIGZhbHNlLCBvbmx5IHRoZSBkZWZhdWx0IGluc3RhbmNlIHdpbGwgYmUgY3JlYXRlZFxuICAgIC8vIGFuZCBhbGwgcHJvbWlzZXMgd2l0aCByZXNvbHZlIHdpdGggaXQgcmVnYXJkbGVzcyBvZiB0aGUgaWRlbnRpZmllci5cbiAgICBmb3IgKGNvbnN0IFtcbiAgICAgIGluc3RhbmNlSWRlbnRpZmllcixcbiAgICAgIGluc3RhbmNlRGVmZXJyZWRcbiAgICBdIG9mIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkSWRlbnRpZmllciA9XG4gICAgICAgIHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIGBnZXRPckluaXRpYWxpemVTZXJ2aWNlKClgIHNob3VsZCBhbHdheXMgcmV0dXJuIGEgdmFsaWQgaW5zdGFuY2Ugc2luY2UgYSBjb21wb25lbnQgaXMgZ3VhcmFudGVlZC4gdXNlICEgdG8gbWFrZSB0eXBlc2NyaXB0IGhhcHB5LlxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XG4gICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxuICAgICAgICB9KSE7XG4gICAgICAgIGluc3RhbmNlRGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgaXQgc2hvdWxkIG5vdCBjYXVzZVxuICAgICAgICAvLyBhIGZhdGFsIGVycm9yLiBXZSBqdXN0IGxlYXZlIHRoZSBwcm9taXNlIHVucmVzb2x2ZWQuXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xlYXJJbnN0YW5jZShpZGVudGlmaWVyOiBzdHJpbmcgPSBERUZBVUxUX0VOVFJZX05BTUUpOiB2b2lkIHtcbiAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmRlbGV0ZShpZGVudGlmaWVyKTtcbiAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMuZGVsZXRlKGlkZW50aWZpZXIpO1xuICAgIHRoaXMuaW5zdGFuY2VzLmRlbGV0ZShpZGVudGlmaWVyKTtcbiAgfVxuXG4gIC8vIGFwcC5kZWxldGUoKSB3aWxsIGNhbGwgdGhpcyBtZXRob2Qgb24gZXZlcnkgcHJvdmlkZXIgdG8gZGVsZXRlIHRoZSBzZXJ2aWNlc1xuICAvLyBUT0RPOiBzaG91bGQgd2UgbWFyayB0aGUgcHJvdmlkZXIgYXMgZGVsZXRlZD9cbiAgYXN5bmMgZGVsZXRlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHNlcnZpY2VzID0gQXJyYXkuZnJvbSh0aGlzLmluc3RhbmNlcy52YWx1ZXMoKSk7XG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAuLi5zZXJ2aWNlc1xuICAgICAgICAuZmlsdGVyKHNlcnZpY2UgPT4gJ0lOVEVSTkFMJyBpbiBzZXJ2aWNlKSAvLyBsZWdhY3kgc2VydmljZXNcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgLm1hcChzZXJ2aWNlID0+IChzZXJ2aWNlIGFzIGFueSkuSU5URVJOQUwhLmRlbGV0ZSgpKSxcbiAgICAgIC4uLnNlcnZpY2VzXG4gICAgICAgIC5maWx0ZXIoc2VydmljZSA9PiAnX2RlbGV0ZScgaW4gc2VydmljZSkgLy8gbW9kdWxhcml6ZWQgc2VydmljZXNcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgLm1hcChzZXJ2aWNlID0+IChzZXJ2aWNlIGFzIGFueSkuX2RlbGV0ZSgpKVxuICAgIF0pO1xuICB9XG5cbiAgaXNDb21wb25lbnRTZXQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50ICE9IG51bGw7XG4gIH1cblxuICBpc0luaXRpYWxpemVkKGlkZW50aWZpZXI6IHN0cmluZyA9IERFRkFVTFRfRU5UUllfTkFNRSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlcy5oYXMoaWRlbnRpZmllcik7XG4gIH1cblxuICBnZXRPcHRpb25zKGlkZW50aWZpZXI6IHN0cmluZyA9IERFRkFVTFRfRU5UUllfTkFNRSk6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXNPcHRpb25zLmdldChpZGVudGlmaWVyKSB8fCB7fTtcbiAgfVxuXG4gIGluaXRpYWxpemUob3B0czogSW5pdGlhbGl6ZU9wdGlvbnMgPSB7fSk6IE5hbWVTZXJ2aWNlTWFwcGluZ1tUXSB7XG4gICAgY29uc3QgeyBvcHRpb25zID0ge30gfSA9IG9wdHM7XG4gICAgY29uc3Qgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihcbiAgICAgIG9wdHMuaW5zdGFuY2VJZGVudGlmaWVyXG4gICAgKTtcbiAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIGAke3RoaXMubmFtZX0oJHtub3JtYWxpemVkSWRlbnRpZmllcn0pIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWRgXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pc0NvbXBvbmVudFNldCgpKSB7XG4gICAgICB0aHJvdyBFcnJvcihgQ29tcG9uZW50ICR7dGhpcy5uYW1lfSBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZCB5ZXRgKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XG4gICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyLFxuICAgICAgb3B0aW9uc1xuICAgIH0pITtcblxuICAgIC8vIHJlc29sdmUgYW55IHBlbmRpbmcgcHJvbWlzZSB3YWl0aW5nIGZvciB0aGUgc2VydmljZSBpbnN0YW5jZVxuICAgIGZvciAoY29uc3QgW1xuICAgICAgaW5zdGFuY2VJZGVudGlmaWVyLFxuICAgICAgaW5zdGFuY2VEZWZlcnJlZFxuICAgIF0gb2YgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIgPVxuICAgICAgICB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpbnN0YW5jZUlkZW50aWZpZXIpO1xuICAgICAgaWYgKG5vcm1hbGl6ZWRJZGVudGlmaWVyID09PSBub3JtYWxpemVkRGVmZXJyZWRJZGVudGlmaWVyKSB7XG4gICAgICAgIGluc3RhbmNlRGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgIGFmdGVyIHRoZSBwcm92aWRlciBoYXMgYmVlbiBpbml0aWFsaXplZCBieSBjYWxsaW5nIHByb3ZpZGVyLmluaXRpYWxpemUoKS5cbiAgICogVGhlIGZ1bmN0aW9uIGlzIGludm9rZWQgU1lOQ0hST05PVVNMWSwgc28gaXQgc2hvdWxkIG5vdCBleGVjdXRlIGFueSBsb25ncnVubmluZyB0YXNrcyBpbiBvcmRlciB0byBub3QgYmxvY2sgdGhlIHByb2dyYW0uXG4gICAqXG4gICAqIEBwYXJhbSBpZGVudGlmaWVyIEFuIG9wdGlvbmFsIGluc3RhbmNlIGlkZW50aWZpZXJcbiAgICogQHJldHVybnMgYSBmdW5jdGlvbiB0byB1bnJlZ2lzdGVyIHRoZSBjYWxsYmFja1xuICAgKi9cbiAgb25Jbml0KGNhbGxiYWNrOiBPbkluaXRDYWxsQmFjazxUPiwgaWRlbnRpZmllcj86IHN0cmluZyk6ICgpID0+IHZvaWQge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgY29uc3QgZXhpc3RpbmdDYWxsYmFja3MgPVxuICAgICAgdGhpcy5vbkluaXRDYWxsYmFja3MuZ2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyKSA/P1xuICAgICAgbmV3IFNldDxPbkluaXRDYWxsQmFjazxUPj4oKTtcbiAgICBleGlzdGluZ0NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuICAgIHRoaXMub25Jbml0Q2FsbGJhY2tzLnNldChub3JtYWxpemVkSWRlbnRpZmllciwgZXhpc3RpbmdDYWxsYmFja3MpO1xuXG4gICAgY29uc3QgZXhpc3RpbmdJbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzLmdldChub3JtYWxpemVkSWRlbnRpZmllcik7XG4gICAgaWYgKGV4aXN0aW5nSW5zdGFuY2UpIHtcbiAgICAgIGNhbGxiYWNrKGV4aXN0aW5nSW5zdGFuY2UsIG5vcm1hbGl6ZWRJZGVudGlmaWVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZXhpc3RpbmdDYWxsYmFja3MuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZSBvbkluaXQgY2FsbGJhY2tzIHN5bmNocm9ub3VzbHlcbiAgICogQHBhcmFtIGluc3RhbmNlIHRoZSBzZXJ2aWNlIGluc3RhbmNlYFxuICAgKi9cbiAgcHJpdmF0ZSBpbnZva2VPbkluaXRDYWxsYmFja3MoXG4gICAgaW5zdGFuY2U6IE5hbWVTZXJ2aWNlTWFwcGluZ1tUXSxcbiAgICBpZGVudGlmaWVyOiBzdHJpbmdcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5vbkluaXRDYWxsYmFja3MuZ2V0KGlkZW50aWZpZXIpO1xuICAgIGlmICghY2FsbGJhY2tzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgY2FsbGJhY2tzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjYWxsYmFjayhpbnN0YW5jZSwgaWRlbnRpZmllcik7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gaWdub3JlIGVycm9ycyBpbiB0aGUgb25Jbml0IGNhbGxiYWNrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcbiAgICBpbnN0YW5jZUlkZW50aWZpZXIsXG4gICAgb3B0aW9ucyA9IHt9XG4gIH06IHtcbiAgICBpbnN0YW5jZUlkZW50aWZpZXI6IHN0cmluZztcbiAgICBvcHRpb25zPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIH0pOiBOYW1lU2VydmljZU1hcHBpbmdbVF0gfCBudWxsIHtcbiAgICBsZXQgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5nZXQoaW5zdGFuY2VJZGVudGlmaWVyKTtcbiAgICBpZiAoIWluc3RhbmNlICYmIHRoaXMuY29tcG9uZW50KSB7XG4gICAgICBpbnN0YW5jZSA9IHRoaXMuY29tcG9uZW50Lmluc3RhbmNlRmFjdG9yeSh0aGlzLmNvbnRhaW5lciwge1xuICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZUlkZW50aWZpZXJGb3JGYWN0b3J5KGluc3RhbmNlSWRlbnRpZmllciksXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIH0pO1xuICAgICAgdGhpcy5pbnN0YW5jZXMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpO1xuICAgICAgdGhpcy5pbnN0YW5jZXNPcHRpb25zLnNldChpbnN0YW5jZUlkZW50aWZpZXIsIG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIEludm9rZSBvbkluaXQgbGlzdGVuZXJzLlxuICAgICAgICogTm90ZSB0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCBpcyBkaWZmZXJlbnQsIHdoaWNoIGlzIHVzZWQgYnkgdGhlIGNvbXBvbmVudCBjcmVhdG9yLFxuICAgICAgICogd2hpbGUgb25Jbml0IGxpc3RlbmVycyBhcmUgcmVnaXN0ZXJlZCBieSBjb25zdW1lcnMgb2YgdGhlIHByb3ZpZGVyLlxuICAgICAgICovXG4gICAgICB0aGlzLmludm9rZU9uSW5pdENhbGxiYWNrcyhpbnN0YW5jZSwgaW5zdGFuY2VJZGVudGlmaWVyKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBPcmRlciBpcyBpbXBvcnRhbnRcbiAgICAgICAqIG9uSW5zdGFuY2VDcmVhdGVkKCkgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciB0aGlzLmluc3RhbmNlcy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7IHdoaWNoXG4gICAgICAgKiBtYWtlcyBgaXNJbml0aWFsaXplZCgpYCByZXR1cm4gdHJ1ZS5cbiAgICAgICAqL1xuICAgICAgaWYgKHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5jb21wb25lbnQub25JbnN0YW5jZUNyZWF0ZWQoXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcixcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgLy8gaWdub3JlIGVycm9ycyBpbiB0aGUgb25JbnN0YW5jZUNyZWF0ZWRDYWxsYmFja1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc3RhbmNlIHx8IG51bGw7XG4gIH1cblxuICBwcml2YXRlIG5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihcbiAgICBpZGVudGlmaWVyOiBzdHJpbmcgPSBERUZBVUxUX0VOVFJZX05BTUVcbiAgKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyA/IGlkZW50aWZpZXIgOiBERUZBVUxUX0VOVFJZX05BTUU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpZGVudGlmaWVyOyAvLyBhc3N1bWUgbXVsdGlwbGUgaW5zdGFuY2VzIGFyZSBzdXBwb3J0ZWQgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgcHJvdmlkZWQuXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzaG91bGRBdXRvSW5pdGlhbGl6ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgISF0aGlzLmNvbXBvbmVudCAmJlxuICAgICAgdGhpcy5jb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgIT09IEluc3RhbnRpYXRpb25Nb2RlLkVYUExJQ0lUXG4gICAgKTtcbiAgfVxufVxuXG4vLyB1bmRlZmluZWQgc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgc2VydmljZSBmYWN0b3J5IGZvciB0aGUgZGVmYXVsdCBpbnN0YW5jZVxuZnVuY3Rpb24gbm9ybWFsaXplSWRlbnRpZmllckZvckZhY3RvcnkoaWRlbnRpZmllcjogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGlkZW50aWZpZXIgPT09IERFRkFVTFRfRU5UUllfTkFNRSA/IHVuZGVmaW5lZCA6IGlkZW50aWZpZXI7XG59XG5cbmZ1bmN0aW9uIGlzQ29tcG9uZW50RWFnZXI8VCBleHRlbmRzIE5hbWU+KGNvbXBvbmVudDogQ29tcG9uZW50PFQ+KTogYm9vbGVhbiB7XG4gIHJldHVybiBjb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgPT09IEluc3RhbnRpYXRpb25Nb2RlLkVBR0VSO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcic7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBOYW1lIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogQ29tcG9uZW50Q29udGFpbmVyIHRoYXQgcHJvdmlkZXMgUHJvdmlkZXJzIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiBgYXV0aGAsIGBhdXRoLWludGVybmFsYFxuICovXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50Q29udGFpbmVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBwcm92aWRlcnMgPSBuZXcgTWFwPHN0cmluZywgUHJvdmlkZXI8TmFtZT4+KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBuYW1lOiBzdHJpbmcpIHt9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IGJlaW5nIGFkZGVkXG4gICAqIEBwYXJhbSBvdmVyd3JpdGUgV2hlbiBhIGNvbXBvbmVudCB3aXRoIHRoZSBzYW1lIG5hbWUgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLFxuICAgKiBpZiBvdmVyd3JpdGUgaXMgdHJ1ZTogb3ZlcndyaXRlIHRoZSBleGlzdGluZyBjb21wb25lbnQgd2l0aCB0aGUgbmV3IGNvbXBvbmVudCBhbmQgY3JlYXRlIGEgbmV3XG4gICAqIHByb3ZpZGVyIHdpdGggdGhlIG5ldyBjb21wb25lbnQuIEl0IGNhbiBiZSB1c2VmdWwgaW4gdGVzdHMgd2hlcmUgeW91IHdhbnQgdG8gdXNlIGRpZmZlcmVudCBtb2Nrc1xuICAgKiBmb3IgZGlmZmVyZW50IHRlc3RzLlxuICAgKiBpZiBvdmVyd3JpdGUgaXMgZmFsc2U6IHRocm93IGFuIGV4Y2VwdGlvblxuICAgKi9cbiAgYWRkQ29tcG9uZW50PFQgZXh0ZW5kcyBOYW1lPihjb21wb25lbnQ6IENvbXBvbmVudDxUPik6IHZvaWQge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihjb21wb25lbnQubmFtZSk7XG4gICAgaWYgKHByb3ZpZGVyLmlzQ29tcG9uZW50U2V0KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgd2l0aCAke3RoaXMubmFtZX1gXG4gICAgICApO1xuICAgIH1cblxuICAgIHByb3ZpZGVyLnNldENvbXBvbmVudChjb21wb25lbnQpO1xuICB9XG5cbiAgYWRkT3JPdmVyd3JpdGVDb21wb25lbnQ8VCBleHRlbmRzIE5hbWU+KGNvbXBvbmVudDogQ29tcG9uZW50PFQ+KTogdm9pZCB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKGNvbXBvbmVudC5uYW1lKTtcbiAgICBpZiAocHJvdmlkZXIuaXNDb21wb25lbnRTZXQoKSkge1xuICAgICAgLy8gZGVsZXRlIHRoZSBleGlzdGluZyBwcm92aWRlciBmcm9tIHRoZSBjb250YWluZXIsIHNvIHdlIGNhbiByZWdpc3RlciB0aGUgbmV3IGNvbXBvbmVudFxuICAgICAgdGhpcy5wcm92aWRlcnMuZGVsZXRlKGNvbXBvbmVudC5uYW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIGdldFByb3ZpZGVyIHByb3ZpZGVzIGEgdHlwZSBzYWZlIGludGVyZmFjZSB3aGVyZSBpdCBjYW4gb25seSBiZSBjYWxsZWQgd2l0aCBhIGZpZWxkIG5hbWVcbiAgICogcHJlc2VudCBpbiBOYW1lU2VydmljZU1hcHBpbmcgaW50ZXJmYWNlLlxuICAgKlxuICAgKiBGaXJlYmFzZSBTREtzIHByb3ZpZGluZyBzZXJ2aWNlcyBzaG91bGQgZXh0ZW5kIE5hbWVTZXJ2aWNlTWFwcGluZyBpbnRlcmZhY2UgdG8gcmVnaXN0ZXJcbiAgICogdGhlbXNlbHZlcy5cbiAgICovXG4gIGdldFByb3ZpZGVyPFQgZXh0ZW5kcyBOYW1lPihuYW1lOiBUKTogUHJvdmlkZXI8VD4ge1xuICAgIGlmICh0aGlzLnByb3ZpZGVycy5oYXMobmFtZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVycy5nZXQobmFtZSkgYXMgdW5rbm93biBhcyBQcm92aWRlcjxUPjtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgYSBQcm92aWRlciBmb3IgYSBzZXJ2aWNlIHRoYXQgaGFzbid0IHJlZ2lzdGVyZWQgd2l0aCBGaXJlYmFzZVxuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IFByb3ZpZGVyPFQ+KG5hbWUsIHRoaXMpO1xuICAgIHRoaXMucHJvdmlkZXJzLnNldChuYW1lLCBwcm92aWRlciBhcyB1bmtub3duIGFzIFByb3ZpZGVyPE5hbWU+KTtcblxuICAgIHJldHVybiBwcm92aWRlciBhcyBQcm92aWRlcjxUPjtcbiAgfVxuXG4gIGdldFByb3ZpZGVycygpOiBBcnJheTxQcm92aWRlcjxOYW1lPj4ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucHJvdmlkZXJzLnZhbHVlcygpKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCB0eXBlIExvZ0xldmVsU3RyaW5nID1cbiAgfCAnZGVidWcnXG4gIHwgJ3ZlcmJvc2UnXG4gIHwgJ2luZm8nXG4gIHwgJ3dhcm4nXG4gIHwgJ2Vycm9yJ1xuICB8ICdzaWxlbnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ09wdGlvbnMge1xuICBsZXZlbDogTG9nTGV2ZWxTdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIExvZ0NhbGxiYWNrID0gKGNhbGxiYWNrUGFyYW1zOiBMb2dDYWxsYmFja1BhcmFtcykgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBMb2dDYWxsYmFja1BhcmFtcyB7XG4gIGxldmVsOiBMb2dMZXZlbFN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBhcmdzOiB1bmtub3duW107XG4gIHR5cGU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBBIGNvbnRhaW5lciBmb3IgYWxsIG9mIHRoZSBMb2dnZXIgaW5zdGFuY2VzXG4gKi9cbmV4cG9ydCBjb25zdCBpbnN0YW5jZXM6IExvZ2dlcltdID0gW107XG5cbi8qKlxuICogVGhlIEpTIFNESyBzdXBwb3J0cyA1IGxvZyBsZXZlbHMgYW5kIGFsc28gYWxsb3dzIGEgdXNlciB0aGUgYWJpbGl0eSB0b1xuICogc2lsZW5jZSB0aGUgbG9ncyBhbHRvZ2V0aGVyLlxuICpcbiAqIFRoZSBvcmRlciBpcyBhIGZvbGxvd3M6XG4gKiBERUJVRyA8IFZFUkJPU0UgPCBJTkZPIDwgV0FSTiA8IEVSUk9SXG4gKlxuICogQWxsIG9mIHRoZSBsb2cgdHlwZXMgYWJvdmUgdGhlIGN1cnJlbnQgbG9nIGxldmVsIHdpbGwgYmUgY2FwdHVyZWQgKGkuZS4gaWZcbiAqIHlvdSBzZXQgdGhlIGxvZyBsZXZlbCB0byBgSU5GT2AsIGVycm9ycyB3aWxsIHN0aWxsIGJlIGxvZ2dlZCwgYnV0IGBERUJVR2AgYW5kXG4gKiBgVkVSQk9TRWAgbG9ncyB3aWxsIG5vdClcbiAqL1xuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xuICBERUJVRyxcbiAgVkVSQk9TRSxcbiAgSU5GTyxcbiAgV0FSTixcbiAgRVJST1IsXG4gIFNJTEVOVFxufVxuXG5jb25zdCBsZXZlbFN0cmluZ1RvRW51bTogeyBba2V5IGluIExvZ0xldmVsU3RyaW5nXTogTG9nTGV2ZWwgfSA9IHtcbiAgJ2RlYnVnJzogTG9nTGV2ZWwuREVCVUcsXG4gICd2ZXJib3NlJzogTG9nTGV2ZWwuVkVSQk9TRSxcbiAgJ2luZm8nOiBMb2dMZXZlbC5JTkZPLFxuICAnd2Fybic6IExvZ0xldmVsLldBUk4sXG4gICdlcnJvcic6IExvZ0xldmVsLkVSUk9SLFxuICAnc2lsZW50JzogTG9nTGV2ZWwuU0lMRU5UXG59O1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGxvZyBsZXZlbFxuICovXG5jb25zdCBkZWZhdWx0TG9nTGV2ZWw6IExvZ0xldmVsID0gTG9nTGV2ZWwuSU5GTztcblxuLyoqXG4gKiBXZSBhbGxvdyB1c2VycyB0aGUgYWJpbGl0eSB0byBwYXNzIHRoZWlyIG93biBsb2cgaGFuZGxlci4gV2Ugd2lsbCBwYXNzIHRoZVxuICogdHlwZSBvZiBsb2csIHRoZSBjdXJyZW50IGxvZyBsZXZlbCwgYW5kIGFueSBvdGhlciBhcmd1bWVudHMgcGFzc2VkIChpLmUuIHRoZVxuICogbWVzc2FnZXMgdGhhdCB0aGUgdXNlciB3YW50cyB0byBsb2cpIHRvIHRoaXMgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCB0eXBlIExvZ0hhbmRsZXIgPSAoXG4gIGxvZ2dlckluc3RhbmNlOiBMb2dnZXIsXG4gIGxvZ1R5cGU6IExvZ0xldmVsLFxuICAuLi5hcmdzOiB1bmtub3duW11cbikgPT4gdm9pZDtcblxuLyoqXG4gKiBCeSBkZWZhdWx0LCBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGRpc3BsYXllZCBpbiB0aGUgZGV2ZWxvcGVyIGNvbnNvbGUgKGluXG4gKiBjaHJvbWUpLiBUbyBhdm9pZCBmb3JjaW5nIHVzZXJzIHRvIGhhdmUgdG8gb3B0LWluIHRvIHRoZXNlIGxvZ3MgdHdpY2VcbiAqIChpLmUuIG9uY2UgZm9yIGZpcmViYXNlLCBhbmQgb25jZSBpbiB0aGUgY29uc29sZSksIHdlIGFyZSBzZW5kaW5nIGBERUJVR2BcbiAqIGxvZ3MgdG8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24uXG4gKi9cbmNvbnN0IENvbnNvbGVNZXRob2QgPSB7XG4gIFtMb2dMZXZlbC5ERUJVR106ICdsb2cnLFxuICBbTG9nTGV2ZWwuVkVSQk9TRV06ICdsb2cnLFxuICBbTG9nTGV2ZWwuSU5GT106ICdpbmZvJyxcbiAgW0xvZ0xldmVsLldBUk5dOiAnd2FybicsXG4gIFtMb2dMZXZlbC5FUlJPUl06ICdlcnJvcidcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgbG9nIGhhbmRsZXIgd2lsbCBmb3J3YXJkIERFQlVHLCBWRVJCT1NFLCBJTkZPLCBXQVJOLCBhbmQgRVJST1JcbiAqIG1lc3NhZ2VzIG9uIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgY29uc29sZSBjb3VudGVycGFydHMgKGlmIHRoZSBsb2cgbWV0aG9kXG4gKiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgbG9nIGxldmVsKVxuICovXG5jb25zdCBkZWZhdWx0TG9nSGFuZGxlcjogTG9nSGFuZGxlciA9IChpbnN0YW5jZSwgbG9nVHlwZSwgLi4uYXJncyk6IHZvaWQgPT4ge1xuICBpZiAobG9nVHlwZSA8IGluc3RhbmNlLmxvZ0xldmVsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgY29uc3QgbWV0aG9kID0gQ29uc29sZU1ldGhvZFtsb2dUeXBlIGFzIGtleW9mIHR5cGVvZiBDb25zb2xlTWV0aG9kXTtcbiAgaWYgKG1ldGhvZCkge1xuICAgIGNvbnNvbGVbbWV0aG9kIGFzICdsb2cnIHwgJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJ10oXG4gICAgICBgWyR7bm93fV0gICR7aW5zdGFuY2UubmFtZX06YCxcbiAgICAgIC4uLmFyZ3NcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBBdHRlbXB0ZWQgdG8gbG9nIGEgbWVzc2FnZSB3aXRoIGFuIGludmFsaWQgbG9nVHlwZSAodmFsdWU6ICR7bG9nVHlwZX0pYFxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xuICAvKipcbiAgICogR2l2ZXMgeW91IGFuIGluc3RhbmNlIG9mIGEgTG9nZ2VyIHRvIGNhcHR1cmUgbWVzc2FnZXMgYWNjb3JkaW5nIHRvXG4gICAqIEZpcmViYXNlJ3MgbG9nZ2luZyBzY2hlbWUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIHRoYXQgdGhlIGxvZ3Mgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGhcbiAgICovXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcpIHtcbiAgICAvKipcbiAgICAgKiBDYXB0dXJlIHRoZSBjdXJyZW50IGluc3RhbmNlIGZvciBsYXRlciB1c2VcbiAgICAgKi9cbiAgICBpbnN0YW5jZXMucHVzaCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbG9nIGxldmVsIG9mIHRoZSBnaXZlbiBMb2dnZXIgaW5zdGFuY2UuXG4gICAqL1xuICBwcml2YXRlIF9sb2dMZXZlbCA9IGRlZmF1bHRMb2dMZXZlbDtcblxuICBnZXQgbG9nTGV2ZWwoKTogTG9nTGV2ZWwge1xuICAgIHJldHVybiB0aGlzLl9sb2dMZXZlbDtcbiAgfVxuXG4gIHNldCBsb2dMZXZlbCh2YWw6IExvZ0xldmVsKSB7XG4gICAgaWYgKCEodmFsIGluIExvZ0xldmVsKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCB2YWx1ZSBcIiR7dmFsfVwiIGFzc2lnbmVkIHRvIFxcYGxvZ0xldmVsXFxgYCk7XG4gICAgfVxuICAgIHRoaXMuX2xvZ0xldmVsID0gdmFsO1xuICB9XG5cbiAgLy8gV29ya2Fyb3VuZCBmb3Igc2V0dGVyL2dldHRlciBoYXZpbmcgdG8gYmUgdGhlIHNhbWUgdHlwZS5cbiAgc2V0TG9nTGV2ZWwodmFsOiBMb2dMZXZlbCB8IExvZ0xldmVsU3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5fbG9nTGV2ZWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IGxldmVsU3RyaW5nVG9FbnVtW3ZhbF0gOiB2YWw7XG4gIH1cblxuICAvKipcbiAgICogVGhlIG1haW4gKGludGVybmFsKSBsb2cgaGFuZGxlciBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cbiAgICogQ2FuIGJlIHNldCB0byBhIG5ldyBmdW5jdGlvbiBpbiBpbnRlcm5hbCBwYWNrYWdlIGNvZGUgYnV0IG5vdCBieSB1c2VyLlxuICAgKi9cbiAgcHJpdmF0ZSBfbG9nSGFuZGxlcjogTG9nSGFuZGxlciA9IGRlZmF1bHRMb2dIYW5kbGVyO1xuICBnZXQgbG9nSGFuZGxlcigpOiBMb2dIYW5kbGVyIHtcbiAgICByZXR1cm4gdGhpcy5fbG9nSGFuZGxlcjtcbiAgfVxuICBzZXQgbG9nSGFuZGxlcih2YWw6IExvZ0hhbmRsZXIpIHtcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgYXNzaWduZWQgdG8gYGxvZ0hhbmRsZXJgIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cbiAgICB0aGlzLl9sb2dIYW5kbGVyID0gdmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBvcHRpb25hbCwgYWRkaXRpb25hbCwgdXNlci1kZWZpbmVkIGxvZyBoYW5kbGVyIGZvciB0aGUgTG9nZ2VyIGluc3RhbmNlLlxuICAgKi9cbiAgcHJpdmF0ZSBfdXNlckxvZ0hhbmRsZXI6IExvZ0hhbmRsZXIgfCBudWxsID0gbnVsbDtcbiAgZ2V0IHVzZXJMb2dIYW5kbGVyKCk6IExvZ0hhbmRsZXIgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5fdXNlckxvZ0hhbmRsZXI7XG4gIH1cbiAgc2V0IHVzZXJMb2dIYW5kbGVyKHZhbDogTG9nSGFuZGxlciB8IG51bGwpIHtcbiAgICB0aGlzLl91c2VyTG9nSGFuZGxlciA9IHZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZnVuY3Rpb25zIGJlbG93IGFyZSBhbGwgYmFzZWQgb24gdGhlIGBjb25zb2xlYCBpbnRlcmZhY2VcbiAgICovXG5cbiAgZGVidWcoLi4uYXJnczogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuREVCVUcsIC4uLmFyZ3MpO1xuICAgIHRoaXMuX2xvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuREVCVUcsIC4uLmFyZ3MpO1xuICB9XG4gIGxvZyguLi5hcmdzOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJlxuICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuVkVSQk9TRSwgLi4uYXJncyk7XG4gICAgdGhpcy5fbG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5WRVJCT1NFLCAuLi5hcmdzKTtcbiAgfVxuICBpbmZvKC4uLmFyZ3M6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLklORk8sIC4uLmFyZ3MpO1xuICAgIHRoaXMuX2xvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuSU5GTywgLi4uYXJncyk7XG4gIH1cbiAgd2FybiguLi5hcmdzOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5XQVJOLCAuLi5hcmdzKTtcbiAgICB0aGlzLl9sb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLldBUk4sIC4uLmFyZ3MpO1xuICB9XG4gIGVycm9yKC4uLmFyZ3M6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLkVSUk9SLCAuLi5hcmdzKTtcbiAgICB0aGlzLl9sb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLkVSUk9SLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TG9nTGV2ZWwobGV2ZWw6IExvZ0xldmVsU3RyaW5nIHwgTG9nTGV2ZWwpOiB2b2lkIHtcbiAgaW5zdGFuY2VzLmZvckVhY2goaW5zdCA9PiB7XG4gICAgaW5zdC5zZXRMb2dMZXZlbChsZXZlbCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VXNlckxvZ0hhbmRsZXIoXG4gIGxvZ0NhbGxiYWNrOiBMb2dDYWxsYmFjayB8IG51bGwsXG4gIG9wdGlvbnM/OiBMb2dPcHRpb25zXG4pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBpbnN0YW5jZXMpIHtcbiAgICBsZXQgY3VzdG9tTG9nTGV2ZWw6IExvZ0xldmVsIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sZXZlbCkge1xuICAgICAgY3VzdG9tTG9nTGV2ZWwgPSBsZXZlbFN0cmluZ1RvRW51bVtvcHRpb25zLmxldmVsXTtcbiAgICB9XG4gICAgaWYgKGxvZ0NhbGxiYWNrID09PSBudWxsKSB7XG4gICAgICBpbnN0YW5jZS51c2VyTG9nSGFuZGxlciA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnVzZXJMb2dIYW5kbGVyID0gKFxuICAgICAgICBpbnN0YW5jZTogTG9nZ2VyLFxuICAgICAgICBsZXZlbDogTG9nTGV2ZWwsXG4gICAgICAgIC4uLmFyZ3M6IHVua25vd25bXVxuICAgICAgKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhcmdzXG4gICAgICAgICAgLm1hcChhcmcgPT4ge1xuICAgICAgICAgICAgaWYgKGFyZyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFyZy50b1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICByZXR1cm4gYXJnLm1lc3NhZ2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmcpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5maWx0ZXIoYXJnID0+IGFyZylcbiAgICAgICAgICAuam9pbignICcpO1xuICAgICAgICBpZiAobGV2ZWwgPj0gKGN1c3RvbUxvZ0xldmVsID8/IGluc3RhbmNlLmxvZ0xldmVsKSkge1xuICAgICAgICAgIGxvZ0NhbGxiYWNrKHtcbiAgICAgICAgICAgIGxldmVsOiBMb2dMZXZlbFtsZXZlbF0udG9Mb3dlckNhc2UoKSBhcyBMb2dMZXZlbFN0cmluZyxcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgdHlwZTogaW5zdGFuY2UubmFtZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuIiwgImNvbnN0IGluc3RhbmNlT2ZBbnkgPSAob2JqZWN0LCBjb25zdHJ1Y3RvcnMpID0+IGNvbnN0cnVjdG9ycy5zb21lKChjKSA9PiBvYmplY3QgaW5zdGFuY2VvZiBjKTtcblxubGV0IGlkYlByb3h5YWJsZVR5cGVzO1xubGV0IGN1cnNvckFkdmFuY2VNZXRob2RzO1xuLy8gVGhpcyBpcyBhIGZ1bmN0aW9uIHRvIHByZXZlbnQgaXQgdGhyb3dpbmcgdXAgaW4gbm9kZSBlbnZpcm9ubWVudHMuXG5mdW5jdGlvbiBnZXRJZGJQcm94eWFibGVUeXBlcygpIHtcbiAgICByZXR1cm4gKGlkYlByb3h5YWJsZVR5cGVzIHx8XG4gICAgICAgIChpZGJQcm94eWFibGVUeXBlcyA9IFtcbiAgICAgICAgICAgIElEQkRhdGFiYXNlLFxuICAgICAgICAgICAgSURCT2JqZWN0U3RvcmUsXG4gICAgICAgICAgICBJREJJbmRleCxcbiAgICAgICAgICAgIElEQkN1cnNvcixcbiAgICAgICAgICAgIElEQlRyYW5zYWN0aW9uLFxuICAgICAgICBdKSk7XG59XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkge1xuICAgIHJldHVybiAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgfHxcbiAgICAgICAgKGN1cnNvckFkdmFuY2VNZXRob2RzID0gW1xuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5hZHZhbmNlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZSxcbiAgICAgICAgICAgIElEQkN1cnNvci5wcm90b3R5cGUuY29udGludWVQcmltYXJ5S2V5LFxuICAgICAgICBdKSk7XG59XG5jb25zdCBjdXJzb3JSZXF1ZXN0TWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uRG9uZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2FjdGlvblN0b3JlTmFtZXNNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCkge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh3cmFwKHJlcXVlc3QucmVzdWx0KSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIHN1Y2Nlc3MpO1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgIH0pO1xuICAgIHByb21pc2VcbiAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgIC8vIFNpbmNlIGN1cnNvcmluZyByZXVzZXMgdGhlIElEQlJlcXVlc3QgKCpzaWdoKiksIHdlIGNhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWxcbiAgICAgICAgLy8gKHNlZSB3cmFwRnVuY3Rpb24pLlxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJDdXJzb3IpIHtcbiAgICAgICAgICAgIGN1cnNvclJlcXVlc3RNYXAuc2V0KHZhbHVlLCByZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXRjaGluZyB0byBhdm9pZCBcIlVuY2F1Z2h0IFByb21pc2UgZXhjZXB0aW9uc1wiXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgLy8gVGhpcyBtYXBwaW5nIGV4aXN0cyBpbiByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYnV0IGRvZXNuJ3QgZG9lc24ndCBleGlzdCBpbiB0cmFuc2Zvcm1DYWNoZS4gVGhpc1xuICAgIC8vIGlzIGJlY2F1c2Ugd2UgY3JlYXRlIG1hbnkgcHJvbWlzZXMgZnJvbSBhIHNpbmdsZSBJREJSZXF1ZXN0LlxuICAgIHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5zZXQocHJvbWlzZSwgcmVxdWVzdCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odHgpIHtcbiAgICAvLyBFYXJseSBiYWlsIGlmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCBhIGRvbmUgcHJvbWlzZSBmb3IgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICBpZiAodHJhbnNhY3Rpb25Eb25lTWFwLmhhcyh0eCkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBkb25lID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCB1bmxpc3RlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdCh0eC5lcnJvciB8fCBuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydEVycm9yJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdjb21wbGV0ZScsIGNvbXBsZXRlKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgIH0pO1xuICAgIC8vIENhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAgdHJhbnNhY3Rpb25Eb25lTWFwLnNldCh0eCwgZG9uZSk7XG59XG5sZXQgaWRiUHJveHlUcmFwcyA9IHtcbiAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHRyYW5zYWN0aW9uLmRvbmUuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2RvbmUnKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkRvbmVNYXAuZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICAvLyBQb2x5ZmlsbCBmb3Igb2JqZWN0U3RvcmVOYW1lcyBiZWNhdXNlIG9mIEVkZ2UuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ29iamVjdFN0b3JlTmFtZXMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5vYmplY3RTdG9yZU5hbWVzIHx8IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1ha2UgdHguc3RvcmUgcmV0dXJuIHRoZSBvbmx5IHN0b3JlIGluIHRoZSB0cmFuc2FjdGlvbiwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIGFyZSBtYW55LlxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdzdG9yZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1sxXVxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IHJlY2VpdmVyLm9iamVjdFN0b3JlKHJlY2VpdmVyLm9iamVjdFN0b3JlTmFtZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEVsc2UgdHJhbnNmb3JtIHdoYXRldmVyIHdlIGdldCBiYWNrLlxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXRbcHJvcF0pO1xuICAgIH0sXG4gICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaGFzKHRhcmdldCwgcHJvcCkge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24gJiZcbiAgICAgICAgICAgIChwcm9wID09PSAnZG9uZScgfHwgcHJvcCA9PT0gJ3N0b3JlJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wIGluIHRhcmdldDtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIHJlcGxhY2VUcmFwcyhjYWxsYmFjaykge1xuICAgIGlkYlByb3h5VHJhcHMgPSBjYWxsYmFjayhpZGJQcm94eVRyYXBzKTtcbn1cbmZ1bmN0aW9uIHdyYXBGdW5jdGlvbihmdW5jKSB7XG4gICAgLy8gRHVlIHRvIGV4cGVjdGVkIG9iamVjdCBlcXVhbGl0eSAod2hpY2ggaXMgZW5mb3JjZWQgYnkgdGhlIGNhY2hpbmcgaW4gYHdyYXBgKSwgd2VcbiAgICAvLyBvbmx5IGNyZWF0ZSBvbmUgbmV3IGZ1bmMgcGVyIGZ1bmMuXG4gICAgLy8gRWRnZSBkb2Vzbid0IHN1cHBvcnQgb2JqZWN0U3RvcmVOYW1lcyAoYm9vbyksIHNvIHdlIHBvbHlmaWxsIGl0IGhlcmUuXG4gICAgaWYgKGZ1bmMgPT09IElEQkRhdGFiYXNlLnByb3RvdHlwZS50cmFuc2FjdGlvbiAmJlxuICAgICAgICAhKCdvYmplY3RTdG9yZU5hbWVzJyBpbiBJREJUcmFuc2FjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RvcmVOYW1lcywgLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgdHggPSBmdW5jLmNhbGwodW53cmFwKHRoaXMpLCBzdG9yZU5hbWVzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5zZXQodHgsIHN0b3JlTmFtZXMuc29ydCA/IHN0b3JlTmFtZXMuc29ydCgpIDogW3N0b3JlTmFtZXNdKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKHR4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gQ3Vyc29yIG1ldGhvZHMgYXJlIHNwZWNpYWwsIGFzIHRoZSBiZWhhdmlvdXIgaXMgYSBsaXR0bGUgbW9yZSBkaWZmZXJlbnQgdG8gc3RhbmRhcmQgSURCLiBJblxuICAgIC8vIElEQiwgeW91IGFkdmFuY2UgdGhlIGN1cnNvciBhbmQgd2FpdCBmb3IgYSBuZXcgJ3N1Y2Nlc3MnIG9uIHRoZSBJREJSZXF1ZXN0IHRoYXQgZ2F2ZSB5b3UgdGhlXG4gICAgLy8gY3Vyc29yLiBJdCdzIGtpbmRhIGxpa2UgYSBwcm9taXNlIHRoYXQgY2FuIHJlc29sdmUgd2l0aCBtYW55IHZhbHVlcy4gVGhhdCBkb2Vzbid0IG1ha2Ugc2Vuc2VcbiAgICAvLyB3aXRoIHJlYWwgcHJvbWlzZXMsIHNvIGVhY2ggYWR2YW5jZSBtZXRob2RzIHJldHVybnMgYSBuZXcgcHJvbWlzZSBmb3IgdGhlIGN1cnNvciBvYmplY3QsIG9yXG4gICAgLy8gdW5kZWZpbmVkIGlmIHRoZSBlbmQgb2YgdGhlIGN1cnNvciBoYXMgYmVlbiByZWFjaGVkLlxuICAgIGlmIChnZXRDdXJzb3JBZHZhbmNlTWV0aG9kcygpLmluY2x1ZGVzKGZ1bmMpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgICAgIGZ1bmMuYXBwbHkodW53cmFwKHRoaXMpLCBhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKGN1cnNvclJlcXVlc3RNYXAuZ2V0KHRoaXMpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIC8vIENhbGxpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3h5IGFzICd0aGlzJyBjYXVzZXMgSUxMRUdBTCBJTlZPQ0FUSU9OLCBzbyB3ZSB1c2VcbiAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIHdyYXAoZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB3cmFwRnVuY3Rpb24odmFsdWUpO1xuICAgIC8vIFRoaXMgZG9lc24ndCByZXR1cm4sIGl0IGp1c3QgY3JlYXRlcyBhICdkb25lJyBwcm9taXNlIGZvciB0aGUgdHJhbnNhY3Rpb24sXG4gICAgLy8gd2hpY2ggaXMgbGF0ZXIgcmV0dXJuZWQgZm9yIHRyYW5zYWN0aW9uLmRvbmUgKHNlZSBpZGJPYmplY3RIYW5kbGVyKS5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbilcbiAgICAgICAgY2FjaGVEb25lUHJvbWlzZUZvclRyYW5zYWN0aW9uKHZhbHVlKTtcbiAgICBpZiAoaW5zdGFuY2VPZkFueSh2YWx1ZSwgZ2V0SWRiUHJveHlhYmxlVHlwZXMoKSkpXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodmFsdWUsIGlkYlByb3h5VHJhcHMpO1xuICAgIC8vIFJldHVybiB0aGUgc2FtZSB2YWx1ZSBiYWNrIGlmIHdlJ3JlIG5vdCBnb2luZyB0byB0cmFuc2Zvcm0gaXQuXG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gd3JhcCh2YWx1ZSkge1xuICAgIC8vIFdlIHNvbWV0aW1lcyBnZW5lcmF0ZSBtdWx0aXBsZSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QgKGVnIHdoZW4gY3Vyc29yaW5nKSwgYmVjYXVzZVxuICAgIC8vIElEQiBpcyB3ZWlyZCBhbmQgYSBzaW5nbGUgSURCUmVxdWVzdCBjYW4geWllbGQgbWFueSByZXNwb25zZXMsIHNvIHRoZXNlIGNhbid0IGJlIGNhY2hlZC5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJSZXF1ZXN0KVxuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdCh2YWx1ZSk7XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSB0cmFuc2Zvcm1lZCB0aGlzIHZhbHVlIGJlZm9yZSwgcmV1c2UgdGhlIHRyYW5zZm9ybWVkIHZhbHVlLlxuICAgIC8vIFRoaXMgaXMgZmFzdGVyLCBidXQgaXQgYWxzbyBwcm92aWRlcyBvYmplY3QgZXF1YWxpdHkuXG4gICAgaWYgKHRyYW5zZm9ybUNhY2hlLmhhcyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSk7XG4gICAgLy8gTm90IGFsbCB0eXBlcyBhcmUgdHJhbnNmb3JtZWQuXG4gICAgLy8gVGhlc2UgbWF5IGJlIHByaW1pdGl2ZSB0eXBlcywgc28gdGhleSBjYW4ndCBiZSBXZWFrTWFwIGtleXMuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICB0cmFuc2Zvcm1DYWNoZS5zZXQodmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChuZXdWYWx1ZSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3VmFsdWU7XG59XG5jb25zdCB1bndyYXAgPSAodmFsdWUpID0+IHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuXG5leHBvcnQgeyByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYXMgYSwgaW5zdGFuY2VPZkFueSBhcyBpLCByZXBsYWNlVHJhcHMgYXMgciwgdW53cmFwIGFzIHUsIHdyYXAgYXMgdyB9O1xuIiwgImltcG9ydCB7IHcgYXMgd3JhcCwgciBhcyByZXBsYWNlVHJhcHMgfSBmcm9tICcuL3dyYXAtaWRiLXZhbHVlLmpzJztcbmV4cG9ydCB7IHUgYXMgdW53cmFwLCB3IGFzIHdyYXAgfSBmcm9tICcuL3dyYXAtaWRiLXZhbHVlLmpzJztcblxuLyoqXG4gKiBPcGVuIGEgZGF0YWJhc2UuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZGF0YWJhc2UuXG4gKiBAcGFyYW0gdmVyc2lvbiBTY2hlbWEgdmVyc2lvbi5cbiAqIEBwYXJhbSBjYWxsYmFja3MgQWRkaXRpb25hbCBjYWxsYmFja3MuXG4gKi9cbmZ1bmN0aW9uIG9wZW5EQihuYW1lLCB2ZXJzaW9uLCB7IGJsb2NrZWQsIHVwZ3JhZGUsIGJsb2NraW5nLCB0ZXJtaW5hdGVkIH0gPSB7fSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihuYW1lLCB2ZXJzaW9uKTtcbiAgICBjb25zdCBvcGVuUHJvbWlzZSA9IHdyYXAocmVxdWVzdCk7XG4gICAgaWYgKHVwZ3JhZGUpIHtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCd1cGdyYWRlbmVlZGVkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB1cGdyYWRlKHdyYXAocmVxdWVzdC5yZXN1bHQpLCBldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCB3cmFwKHJlcXVlc3QudHJhbnNhY3Rpb24pLCBldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoYmxvY2tlZCkge1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Jsb2NrZWQnLCAoZXZlbnQpID0+IGJsb2NrZWQoXG4gICAgICAgIC8vIENhc3RpbmcgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC1ET00tbGliLWdlbmVyYXRvci9wdWxsLzE0MDVcbiAgICAgICAgZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgZXZlbnQpKTtcbiAgICB9XG4gICAgb3BlblByb21pc2VcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XG4gICAgICAgIGlmICh0ZXJtaW5hdGVkKVxuICAgICAgICAgICAgZGIuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoKSA9PiB0ZXJtaW5hdGVkKCkpO1xuICAgICAgICBpZiAoYmxvY2tpbmcpIHtcbiAgICAgICAgICAgIGRiLmFkZEV2ZW50TGlzdGVuZXIoJ3ZlcnNpb25jaGFuZ2UnLCAoZXZlbnQpID0+IGJsb2NraW5nKGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIGV2ZW50KSk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICByZXR1cm4gb3BlblByb21pc2U7XG59XG4vKipcbiAqIERlbGV0ZSBhIGRhdGFiYXNlLlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGRhdGFiYXNlLlxuICovXG5mdW5jdGlvbiBkZWxldGVEQihuYW1lLCB7IGJsb2NrZWQgfSA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShuYW1lKTtcbiAgICBpZiAoYmxvY2tlZCkge1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Jsb2NrZWQnLCAoZXZlbnQpID0+IGJsb2NrZWQoXG4gICAgICAgIC8vIENhc3RpbmcgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC1ET00tbGliLWdlbmVyYXRvci9wdWxsLzE0MDVcbiAgICAgICAgZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyYXAocmVxdWVzdCkudGhlbigoKSA9PiB1bmRlZmluZWQpO1xufVxuXG5jb25zdCByZWFkTWV0aG9kcyA9IFsnZ2V0JywgJ2dldEtleScsICdnZXRBbGwnLCAnZ2V0QWxsS2V5cycsICdjb3VudCddO1xuY29uc3Qgd3JpdGVNZXRob2RzID0gWydwdXQnLCAnYWRkJywgJ2RlbGV0ZScsICdjbGVhciddO1xuY29uc3QgY2FjaGVkTWV0aG9kcyA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHtcbiAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBJREJEYXRhYmFzZSAmJlxuICAgICAgICAhKHByb3AgaW4gdGFyZ2V0KSAmJlxuICAgICAgICB0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNhY2hlZE1ldGhvZHMuZ2V0KHByb3ApKVxuICAgICAgICByZXR1cm4gY2FjaGVkTWV0aG9kcy5nZXQocHJvcCk7XG4gICAgY29uc3QgdGFyZ2V0RnVuY05hbWUgPSBwcm9wLnJlcGxhY2UoL0Zyb21JbmRleCQvLCAnJyk7XG4gICAgY29uc3QgdXNlSW5kZXggPSBwcm9wICE9PSB0YXJnZXRGdW5jTmFtZTtcbiAgICBjb25zdCBpc1dyaXRlID0gd3JpdGVNZXRob2RzLmluY2x1ZGVzKHRhcmdldEZ1bmNOYW1lKTtcbiAgICBpZiAoXG4gICAgLy8gQmFpbCBpZiB0aGUgdGFyZ2V0IGRvZXNuJ3QgZXhpc3Qgb24gdGhlIHRhcmdldC4gRWcsIGdldEFsbCBpc24ndCBpbiBFZGdlLlxuICAgICEodGFyZ2V0RnVuY05hbWUgaW4gKHVzZUluZGV4ID8gSURCSW5kZXggOiBJREJPYmplY3RTdG9yZSkucHJvdG90eXBlKSB8fFxuICAgICAgICAhKGlzV3JpdGUgfHwgcmVhZE1ldGhvZHMuaW5jbHVkZXModGFyZ2V0RnVuY05hbWUpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1ldGhvZCA9IGFzeW5jIGZ1bmN0aW9uIChzdG9yZU5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gaXNXcml0ZSA/ICdyZWFkd3JpdGUnIDogdW5kZWZpbmVkIGd6aXBwcyBiZXR0ZXIsIGJ1dCBmYWlscyBpbiBFZGdlIDooXG4gICAgICAgIGNvbnN0IHR4ID0gdGhpcy50cmFuc2FjdGlvbihzdG9yZU5hbWUsIGlzV3JpdGUgPyAncmVhZHdyaXRlJyA6ICdyZWFkb25seScpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdHguc3RvcmU7XG4gICAgICAgIGlmICh1c2VJbmRleClcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5pbmRleChhcmdzLnNoaWZ0KCkpO1xuICAgICAgICAvLyBNdXN0IHJlamVjdCBpZiBvcCByZWplY3RzLlxuICAgICAgICAvLyBJZiBpdCdzIGEgd3JpdGUgb3BlcmF0aW9uLCBtdXN0IHJlamVjdCBpZiB0eC5kb25lIHJlamVjdHMuXG4gICAgICAgIC8vIE11c3QgcmVqZWN0IHdpdGggb3AgcmVqZWN0aW9uIGZpcnN0LlxuICAgICAgICAvLyBNdXN0IHJlc29sdmUgd2l0aCBvcCB2YWx1ZS5cbiAgICAgICAgLy8gTXVzdCBoYW5kbGUgYm90aCBwcm9taXNlcyAobm8gdW5oYW5kbGVkIHJlamVjdGlvbnMpXG4gICAgICAgIHJldHVybiAoYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgdGFyZ2V0W3RhcmdldEZ1bmNOYW1lXSguLi5hcmdzKSxcbiAgICAgICAgICAgIGlzV3JpdGUgJiYgdHguZG9uZSxcbiAgICAgICAgXSkpWzBdO1xuICAgIH07XG4gICAgY2FjaGVkTWV0aG9kcy5zZXQocHJvcCwgbWV0aG9kKTtcbiAgICByZXR1cm4gbWV0aG9kO1xufVxucmVwbGFjZVRyYXBzKChvbGRUcmFwcykgPT4gKHtcbiAgICAuLi5vbGRUcmFwcyxcbiAgICBnZXQ6ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSA9PiBnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB8fCBvbGRUcmFwcy5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlciksXG4gICAgaGFzOiAodGFyZ2V0LCBwcm9wKSA9PiAhIWdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHx8IG9sZFRyYXBzLmhhcyh0YXJnZXQsIHByb3ApLFxufSkpO1xuXG5leHBvcnQgeyBkZWxldGVEQiwgb3BlbkRCIH07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQ29tcG9uZW50Q29udGFpbmVyLFxuICBDb21wb25lbnRUeXBlLFxuICBQcm92aWRlcixcbiAgTmFtZVxufSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IFBsYXRmb3JtTG9nZ2VyU2VydmljZSwgVmVyc2lvblNlcnZpY2UgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwgaW1wbGVtZW50cyBQbGF0Zm9ybUxvZ2dlclNlcnZpY2Uge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbnRhaW5lcjogQ29tcG9uZW50Q29udGFpbmVyKSB7fVxuICAvLyBJbiBpbml0aWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdpbGwgYmUgY2FsbGVkIGJ5IGluc3RhbGxhdGlvbnMgb25cbiAgLy8gYXV0aCB0b2tlbiByZWZyZXNoLCBhbmQgaW5zdGFsbGF0aW9ucyB3aWxsIHNlbmQgdGhpcyBzdHJpbmcuXG4gIGdldFBsYXRmb3JtSW5mb1N0cmluZygpOiBzdHJpbmcge1xuICAgIGNvbnN0IHByb3ZpZGVycyA9IHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVycygpO1xuICAgIC8vIExvb3AgdGhyb3VnaCBwcm92aWRlcnMgYW5kIGdldCBsaWJyYXJ5L3ZlcnNpb24gcGFpcnMgZnJvbSBhbnkgdGhhdCBhcmVcbiAgICAvLyB2ZXJzaW9uIGNvbXBvbmVudHMuXG4gICAgcmV0dXJuIHByb3ZpZGVyc1xuICAgICAgLm1hcChwcm92aWRlciA9PiB7XG4gICAgICAgIGlmIChpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgY29uc3Qgc2VydmljZSA9IHByb3ZpZGVyLmdldEltbWVkaWF0ZSgpIGFzIFZlcnNpb25TZXJ2aWNlO1xuICAgICAgICAgIHJldHVybiBgJHtzZXJ2aWNlLmxpYnJhcnl9LyR7c2VydmljZS52ZXJzaW9ufWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKGxvZ1N0cmluZyA9PiBsb2dTdHJpbmcpXG4gICAgICAuam9pbignICcpO1xuICB9XG59XG4vKipcbiAqXG4gKiBAcGFyYW0gcHJvdmlkZXIgY2hlY2sgaWYgdGhpcyBwcm92aWRlciBwcm92aWRlcyBhIFZlcnNpb25TZXJ2aWNlXG4gKlxuICogTk9URTogVXNpbmcgUHJvdmlkZXI8J2FwcC12ZXJzaW9uJz4gaXMgYSBoYWNrIHRvIGluZGljYXRlIHRoYXQgdGhlIHByb3ZpZGVyXG4gKiBwcm92aWRlcyBWZXJzaW9uU2VydmljZS4gVGhlIHByb3ZpZGVyIGlzIG5vdCBuZWNlc3NhcmlseSBhICdhcHAtdmVyc2lvbidcbiAqIHByb3ZpZGVyLlxuICovXG5mdW5jdGlvbiBpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIocHJvdmlkZXI6IFByb3ZpZGVyPE5hbWU+KTogYm9vbGVhbiB7XG4gIGNvbnN0IGNvbXBvbmVudCA9IHByb3ZpZGVyLmdldENvbXBvbmVudCgpO1xuICByZXR1cm4gY29tcG9uZW50Py50eXBlID09PSBDb21wb25lbnRUeXBlLlZFUlNJT047XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnQGZpcmViYXNlL2xvZ2dlcic7XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCdAZmlyZWJhc2UvYXBwJyk7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgbmFtZSBhcyBhcHBOYW1lIH0gZnJvbSAnLi4vcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgYXBwQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uL2FwcC1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgYW5hbHl0aWNzQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2FuYWx5dGljcy1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgYW5hbHl0aWNzTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2FuYWx5dGljcy9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBhcHBDaGVja0NvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9hcHAtY2hlY2stY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGFwcENoZWNrTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2FwcC1jaGVjay9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBhdXRoTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2F1dGgvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgYXV0aENvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9hdXRoLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBkYXRhYmFzZU5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9kYXRhYmFzZS9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBkYXRhY29ubmVjdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9kYXRhLWNvbm5lY3QvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgZGF0YWJhc2VDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvZGF0YWJhc2UtY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGZ1bmN0aW9uc05hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9mdW5jdGlvbnMvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgZnVuY3Rpb25zQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2Z1bmN0aW9ucy1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgaW5zdGFsbGF0aW9uc05hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9pbnN0YWxsYXRpb25zL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGluc3RhbGxhdGlvbnNDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvaW5zdGFsbGF0aW9ucy1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgbWVzc2FnaW5nTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL21lc3NhZ2luZy9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBtZXNzYWdpbmdDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvbWVzc2FnaW5nLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBwZXJmb3JtYW5jZU5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9wZXJmb3JtYW5jZS9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBwZXJmb3JtYW5jZUNvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9wZXJmb3JtYW5jZS1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgcmVtb3RlQ29uZmlnTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL3JlbW90ZS1jb25maWcvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgcmVtb3RlQ29uZmlnQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL3JlbW90ZS1jb25maWctY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIHN0b3JhZ2VOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvc3RvcmFnZS9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBzdG9yYWdlQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL3N0b3JhZ2UtY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGZpcmVzdG9yZU5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9maXJlc3RvcmUvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgdmVydGV4TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL3ZlcnRleGFpL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGZpcmVzdG9yZUNvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9maXJlc3RvcmUtY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIHBhY2thZ2VOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvZmlyZWJhc2UvcGFja2FnZS5qc29uJztcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBhcHAgbmFtZVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9FTlRSWV9OQU1FID0gJ1tERUZBVUxUXSc7XG5cbmV4cG9ydCBjb25zdCBQTEFURk9STV9MT0dfU1RSSU5HID0ge1xuICBbYXBwTmFtZV06ICdmaXJlLWNvcmUnLFxuICBbYXBwQ29tcGF0TmFtZV06ICdmaXJlLWNvcmUtY29tcGF0JyxcbiAgW2FuYWx5dGljc05hbWVdOiAnZmlyZS1hbmFseXRpY3MnLFxuICBbYW5hbHl0aWNzQ29tcGF0TmFtZV06ICdmaXJlLWFuYWx5dGljcy1jb21wYXQnLFxuICBbYXBwQ2hlY2tOYW1lXTogJ2ZpcmUtYXBwLWNoZWNrJyxcbiAgW2FwcENoZWNrQ29tcGF0TmFtZV06ICdmaXJlLWFwcC1jaGVjay1jb21wYXQnLFxuICBbYXV0aE5hbWVdOiAnZmlyZS1hdXRoJyxcbiAgW2F1dGhDb21wYXROYW1lXTogJ2ZpcmUtYXV0aC1jb21wYXQnLFxuICBbZGF0YWJhc2VOYW1lXTogJ2ZpcmUtcnRkYicsXG4gIFtkYXRhY29ubmVjdE5hbWVdOiAnZmlyZS1kYXRhLWNvbm5lY3QnLFxuICBbZGF0YWJhc2VDb21wYXROYW1lXTogJ2ZpcmUtcnRkYi1jb21wYXQnLFxuICBbZnVuY3Rpb25zTmFtZV06ICdmaXJlLWZuJyxcbiAgW2Z1bmN0aW9uc0NvbXBhdE5hbWVdOiAnZmlyZS1mbi1jb21wYXQnLFxuICBbaW5zdGFsbGF0aW9uc05hbWVdOiAnZmlyZS1paWQnLFxuICBbaW5zdGFsbGF0aW9uc0NvbXBhdE5hbWVdOiAnZmlyZS1paWQtY29tcGF0JyxcbiAgW21lc3NhZ2luZ05hbWVdOiAnZmlyZS1mY20nLFxuICBbbWVzc2FnaW5nQ29tcGF0TmFtZV06ICdmaXJlLWZjbS1jb21wYXQnLFxuICBbcGVyZm9ybWFuY2VOYW1lXTogJ2ZpcmUtcGVyZicsXG4gIFtwZXJmb3JtYW5jZUNvbXBhdE5hbWVdOiAnZmlyZS1wZXJmLWNvbXBhdCcsXG4gIFtyZW1vdGVDb25maWdOYW1lXTogJ2ZpcmUtcmMnLFxuICBbcmVtb3RlQ29uZmlnQ29tcGF0TmFtZV06ICdmaXJlLXJjLWNvbXBhdCcsXG4gIFtzdG9yYWdlTmFtZV06ICdmaXJlLWdjcycsXG4gIFtzdG9yYWdlQ29tcGF0TmFtZV06ICdmaXJlLWdjcy1jb21wYXQnLFxuICBbZmlyZXN0b3JlTmFtZV06ICdmaXJlLWZzdCcsXG4gIFtmaXJlc3RvcmVDb21wYXROYW1lXTogJ2ZpcmUtZnN0LWNvbXBhdCcsXG4gIFt2ZXJ0ZXhOYW1lXTogJ2ZpcmUtdmVydGV4JyxcbiAgJ2ZpcmUtanMnOiAnZmlyZS1qcycsIC8vIFBsYXRmb3JtIGlkZW50aWZpZXIgZm9yIEpTIFNESy5cbiAgW3BhY2thZ2VOYW1lXTogJ2ZpcmUtanMtYWxsJ1xufSBhcyBjb25zdDtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBGaXJlYmFzZUFwcCxcbiAgRmlyZWJhc2VPcHRpb25zLFxuICBGaXJlYmFzZVNlcnZlckFwcFxufSBmcm9tICcuL3B1YmxpYy10eXBlcyc7XG5pbXBvcnQgeyBDb21wb25lbnQsIFByb3ZpZGVyLCBOYW1lIH0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBERUZBVUxUX0VOVFJZX05BTUUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBGaXJlYmFzZUFwcEltcGwgfSBmcm9tICcuL2ZpcmViYXNlQXBwJztcbmltcG9ydCB7IEZpcmViYXNlU2VydmVyQXBwSW1wbCB9IGZyb20gJy4vZmlyZWJhc2VTZXJ2ZXJBcHAnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX2FwcHMgPSBuZXcgTWFwPHN0cmluZywgRmlyZWJhc2VBcHA+KCk7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBfc2VydmVyQXBwcyA9IG5ldyBNYXA8c3RyaW5nLCBGaXJlYmFzZVNlcnZlckFwcD4oKTtcblxuLyoqXG4gKiBSZWdpc3RlcmVkIGNvbXBvbmVudHMuXG4gKlxuICogQGludGVybmFsXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgY29uc3QgX2NvbXBvbmVudHMgPSBuZXcgTWFwPHN0cmluZywgQ29tcG9uZW50PGFueT4+KCk7XG5cbi8qKlxuICogQHBhcmFtIGNvbXBvbmVudCAtIHRoZSBjb21wb25lbnQgYmVpbmcgYWRkZWQgdG8gdGhpcyBhcHAncyBjb250YWluZXJcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9hZGRDb21wb25lbnQ8VCBleHRlbmRzIE5hbWU+KFxuICBhcHA6IEZpcmViYXNlQXBwLFxuICBjb21wb25lbnQ6IENvbXBvbmVudDxUPlxuKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgKGFwcCBhcyBGaXJlYmFzZUFwcEltcGwpLmNvbnRhaW5lci5hZGRDb21wb25lbnQoY29tcG9uZW50KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5kZWJ1ZyhcbiAgICAgIGBDb21wb25lbnQgJHtjb21wb25lbnQubmFtZX0gZmFpbGVkIHRvIHJlZ2lzdGVyIHdpdGggRmlyZWJhc2VBcHAgJHthcHAubmFtZX1gLFxuICAgICAgZVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQoXG4gIGFwcDogRmlyZWJhc2VBcHAsXG4gIGNvbXBvbmVudDogQ29tcG9uZW50XG4pOiB2b2lkIHtcbiAgKGFwcCBhcyBGaXJlYmFzZUFwcEltcGwpLmNvbnRhaW5lci5hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChjb21wb25lbnQpO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IC0gdGhlIGNvbXBvbmVudCB0byByZWdpc3RlclxuICogQHJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gX3JlZ2lzdGVyQ29tcG9uZW50PFQgZXh0ZW5kcyBOYW1lPihcbiAgY29tcG9uZW50OiBDb21wb25lbnQ8VD5cbik6IGJvb2xlYW4ge1xuICBjb25zdCBjb21wb25lbnROYW1lID0gY29tcG9uZW50Lm5hbWU7XG4gIGlmIChfY29tcG9uZW50cy5oYXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICBsb2dnZXIuZGVidWcoXG4gICAgICBgVGhlcmUgd2VyZSBtdWx0aXBsZSBhdHRlbXB0cyB0byByZWdpc3RlciBjb21wb25lbnQgJHtjb21wb25lbnROYW1lfS5gXG4gICAgKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9jb21wb25lbnRzLnNldChjb21wb25lbnROYW1lLCBjb21wb25lbnQpO1xuXG4gIC8vIGFkZCB0aGUgY29tcG9uZW50IHRvIGV4aXN0aW5nIGFwcCBpbnN0YW5jZXNcbiAgZm9yIChjb25zdCBhcHAgb2YgX2FwcHMudmFsdWVzKCkpIHtcbiAgICBfYWRkQ29tcG9uZW50KGFwcCBhcyBGaXJlYmFzZUFwcEltcGwsIGNvbXBvbmVudCk7XG4gIH1cblxuICBmb3IgKGNvbnN0IHNlcnZlckFwcCBvZiBfc2VydmVyQXBwcy52YWx1ZXMoKSkge1xuICAgIF9hZGRDb21wb25lbnQoc2VydmVyQXBwIGFzIEZpcmViYXNlU2VydmVyQXBwSW1wbCwgY29tcG9uZW50KTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2VBcHAgaW5zdGFuY2VcbiAqIEBwYXJhbSBuYW1lIC0gc2VydmljZSBuYW1lXG4gKlxuICogQHJldHVybnMgdGhlIHByb3ZpZGVyIGZvciB0aGUgc2VydmljZSB3aXRoIHRoZSBtYXRjaGluZyBuYW1lXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0UHJvdmlkZXI8VCBleHRlbmRzIE5hbWU+KFxuICBhcHA6IEZpcmViYXNlQXBwLFxuICBuYW1lOiBUXG4pOiBQcm92aWRlcjxUPiB7XG4gIGNvbnN0IGhlYXJ0YmVhdENvbnRyb2xsZXIgPSAoYXBwIGFzIEZpcmViYXNlQXBwSW1wbCkuY29udGFpbmVyXG4gICAgLmdldFByb3ZpZGVyKCdoZWFydGJlYXQnKVxuICAgIC5nZXRJbW1lZGlhdGUoeyBvcHRpb25hbDogdHJ1ZSB9KTtcbiAgaWYgKGhlYXJ0YmVhdENvbnRyb2xsZXIpIHtcbiAgICB2b2lkIGhlYXJ0YmVhdENvbnRyb2xsZXIudHJpZ2dlckhlYXJ0YmVhdCgpO1xuICB9XG4gIHJldHVybiAoYXBwIGFzIEZpcmViYXNlQXBwSW1wbCkuY29udGFpbmVyLmdldFByb3ZpZGVyKG5hbWUpO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2VBcHAgaW5zdGFuY2VcbiAqIEBwYXJhbSBuYW1lIC0gc2VydmljZSBuYW1lXG4gKiBAcGFyYW0gaW5zdGFuY2VJZGVudGlmaWVyIC0gc2VydmljZSBpbnN0YW5jZSBpZGVudGlmaWVyIGluIGNhc2UgdGhlIHNlcnZpY2Ugc3VwcG9ydHMgbXVsdGlwbGUgaW5zdGFuY2VzXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfcmVtb3ZlU2VydmljZUluc3RhbmNlPFQgZXh0ZW5kcyBOYW1lPihcbiAgYXBwOiBGaXJlYmFzZUFwcCxcbiAgbmFtZTogVCxcbiAgaW5zdGFuY2VJZGVudGlmaWVyOiBzdHJpbmcgPSBERUZBVUxUX0VOVFJZX05BTUVcbik6IHZvaWQge1xuICBfZ2V0UHJvdmlkZXIoYXBwLCBuYW1lKS5jbGVhckluc3RhbmNlKGluc3RhbmNlSWRlbnRpZmllcik7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBvYmogLSBhbiBvYmplY3Qgb2YgdHlwZSBGaXJlYmFzZUFwcCBvciBGaXJlYmFzZU9wdGlvbnMuXG4gKlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZSBvYmplY3QgaXMgb2YgdHlwZSBGaXJlYmFzZUFwcC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9pc0ZpcmViYXNlQXBwKFxuICBvYmo6IEZpcmViYXNlQXBwIHwgRmlyZWJhc2VPcHRpb25zXG4pOiBvYmogaXMgRmlyZWJhc2VBcHAge1xuICByZXR1cm4gKG9iaiBhcyBGaXJlYmFzZUFwcCkub3B0aW9ucyAhPT0gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0gb2JqIC0gYW4gb2JqZWN0IG9mIHR5cGUgRmlyZWJhc2VBcHAuXG4gKlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgb2JqZWN0IGlzIG9mIHR5cGUgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoXG4gIG9iajogRmlyZWJhc2VBcHAgfCBGaXJlYmFzZVNlcnZlckFwcFxuKTogb2JqIGlzIEZpcmViYXNlU2VydmVyQXBwIHtcbiAgcmV0dXJuIChvYmogYXMgRmlyZWJhc2VTZXJ2ZXJBcHApLnNldHRpbmdzICE9PSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVGVzdCBvbmx5XG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfY2xlYXJDb21wb25lbnRzKCk6IHZvaWQge1xuICBfY29tcG9uZW50cy5jbGVhcigpO1xufVxuXG4vKipcbiAqIEV4cG9ydGVkIGluIG9yZGVyIHRvIGJlIHVzZWQgaW4gYXBwLWNvbXBhdCBwYWNrYWdlXG4gKi9cbmV4cG9ydCB7IERFRkFVTFRfRU5UUllfTkFNRSBhcyBfREVGQVVMVF9FTlRSWV9OQU1FIH07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRXJyb3JGYWN0b3J5LCBFcnJvck1hcCB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuZXhwb3J0IGNvbnN0IGVudW0gQXBwRXJyb3Ige1xuICBOT19BUFAgPSAnbm8tYXBwJyxcbiAgQkFEX0FQUF9OQU1FID0gJ2JhZC1hcHAtbmFtZScsXG4gIERVUExJQ0FURV9BUFAgPSAnZHVwbGljYXRlLWFwcCcsXG4gIEFQUF9ERUxFVEVEID0gJ2FwcC1kZWxldGVkJyxcbiAgU0VSVkVSX0FQUF9ERUxFVEVEID0gJ3NlcnZlci1hcHAtZGVsZXRlZCcsXG4gIE5PX09QVElPTlMgPSAnbm8tb3B0aW9ucycsXG4gIElOVkFMSURfQVBQX0FSR1VNRU5UID0gJ2ludmFsaWQtYXBwLWFyZ3VtZW50JyxcbiAgSU5WQUxJRF9MT0dfQVJHVU1FTlQgPSAnaW52YWxpZC1sb2ctYXJndW1lbnQnLFxuICBJREJfT1BFTiA9ICdpZGItb3BlbicsXG4gIElEQl9HRVQgPSAnaWRiLWdldCcsXG4gIElEQl9XUklURSA9ICdpZGItc2V0JyxcbiAgSURCX0RFTEVURSA9ICdpZGItZGVsZXRlJyxcbiAgRklOQUxJWkFUSU9OX1JFR0lTVFJZX05PVF9TVVBQT1JURUQgPSAnZmluYWxpemF0aW9uLXJlZ2lzdHJ5LW5vdC1zdXBwb3J0ZWQnLFxuICBJTlZBTElEX1NFUlZFUl9BUFBfRU5WSVJPTk1FTlQgPSAnaW52YWxpZC1zZXJ2ZXItYXBwLWVudmlyb25tZW50J1xufVxuXG5jb25zdCBFUlJPUlM6IEVycm9yTWFwPEFwcEVycm9yPiA9IHtcbiAgW0FwcEVycm9yLk5PX0FQUF06XG4gICAgXCJObyBGaXJlYmFzZSBBcHAgJ3skYXBwTmFtZX0nIGhhcyBiZWVuIGNyZWF0ZWQgLSBcIiArXG4gICAgJ2NhbGwgaW5pdGlhbGl6ZUFwcCgpIGZpcnN0JyxcbiAgW0FwcEVycm9yLkJBRF9BUFBfTkFNRV06IFwiSWxsZWdhbCBBcHAgbmFtZTogJ3skYXBwTmFtZX0nXCIsXG4gIFtBcHBFcnJvci5EVVBMSUNBVEVfQVBQXTpcbiAgICBcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBleGlzdHMgd2l0aCBkaWZmZXJlbnQgb3B0aW9ucyBvciBjb25maWdcIixcbiAgW0FwcEVycm9yLkFQUF9ERUxFVEVEXTogXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZGVsZXRlZFwiLFxuICBbQXBwRXJyb3IuU0VSVkVSX0FQUF9ERUxFVEVEXTogJ0ZpcmViYXNlIFNlcnZlciBBcHAgaGFzIGJlZW4gZGVsZXRlZCcsXG4gIFtBcHBFcnJvci5OT19PUFRJT05TXTpcbiAgICAnTmVlZCB0byBwcm92aWRlIG9wdGlvbnMsIHdoZW4gbm90IGJlaW5nIGRlcGxveWVkIHRvIGhvc3RpbmcgdmlhIHNvdXJjZS4nLFxuICBbQXBwRXJyb3IuSU5WQUxJRF9BUFBfQVJHVU1FTlRdOlxuICAgICdmaXJlYmFzZS57JGFwcE5hbWV9KCkgdGFrZXMgZWl0aGVyIG5vIGFyZ3VtZW50IG9yIGEgJyArXG4gICAgJ0ZpcmViYXNlIEFwcCBpbnN0YW5jZS4nLFxuICBbQXBwRXJyb3IuSU5WQUxJRF9MT0dfQVJHVU1FTlRdOlxuICAgICdGaXJzdCBhcmd1bWVudCB0byBgb25Mb2dgIG11c3QgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLicsXG4gIFtBcHBFcnJvci5JREJfT1BFTl06XG4gICAgJ0Vycm9yIHRocm93biB3aGVuIG9wZW5pbmcgSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcbiAgW0FwcEVycm9yLklEQl9HRVRdOlxuICAgICdFcnJvciB0aHJvd24gd2hlbiByZWFkaW5nIGZyb20gSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcbiAgW0FwcEVycm9yLklEQl9XUklURV06XG4gICAgJ0Vycm9yIHRocm93biB3aGVuIHdyaXRpbmcgdG8gSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcbiAgW0FwcEVycm9yLklEQl9ERUxFVEVdOlxuICAgICdFcnJvciB0aHJvd24gd2hlbiBkZWxldGluZyBmcm9tIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LicsXG4gIFtBcHBFcnJvci5GSU5BTElaQVRJT05fUkVHSVNUUllfTk9UX1NVUFBPUlRFRF06XG4gICAgJ0ZpcmViYXNlU2VydmVyQXBwIGRlbGV0ZU9uRGVyZWYgZmllbGQgZGVmaW5lZCBidXQgdGhlIEpTIHJ1bnRpbWUgZG9lcyBub3Qgc3VwcG9ydCBGaW5hbGl6YXRpb25SZWdpc3RyeS4nLFxuICBbQXBwRXJyb3IuSU5WQUxJRF9TRVJWRVJfQVBQX0VOVklST05NRU5UXTpcbiAgICAnRmlyZWJhc2VTZXJ2ZXJBcHAgaXMgbm90IGZvciB1c2UgaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuJ1xufTtcblxuaW50ZXJmYWNlIEVycm9yUGFyYW1zIHtcbiAgW0FwcEVycm9yLk5PX0FQUF06IHsgYXBwTmFtZTogc3RyaW5nIH07XG4gIFtBcHBFcnJvci5CQURfQVBQX05BTUVdOiB7IGFwcE5hbWU6IHN0cmluZyB9O1xuICBbQXBwRXJyb3IuRFVQTElDQVRFX0FQUF06IHsgYXBwTmFtZTogc3RyaW5nIH07XG4gIFtBcHBFcnJvci5BUFBfREVMRVRFRF06IHsgYXBwTmFtZTogc3RyaW5nIH07XG4gIFtBcHBFcnJvci5JTlZBTElEX0FQUF9BUkdVTUVOVF06IHsgYXBwTmFtZTogc3RyaW5nIH07XG4gIFtBcHBFcnJvci5JREJfT1BFTl06IHsgb3JpZ2luYWxFcnJvck1lc3NhZ2U/OiBzdHJpbmcgfTtcbiAgW0FwcEVycm9yLklEQl9HRVRdOiB7IG9yaWdpbmFsRXJyb3JNZXNzYWdlPzogc3RyaW5nIH07XG4gIFtBcHBFcnJvci5JREJfV1JJVEVdOiB7IG9yaWdpbmFsRXJyb3JNZXNzYWdlPzogc3RyaW5nIH07XG4gIFtBcHBFcnJvci5JREJfREVMRVRFXTogeyBvcmlnaW5hbEVycm9yTWVzc2FnZT86IHN0cmluZyB9O1xuICBbQXBwRXJyb3IuRklOQUxJWkFUSU9OX1JFR0lTVFJZX05PVF9TVVBQT1JURURdOiB7IGFwcE5hbWU/OiBzdHJpbmcgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEVSUk9SX0ZBQ1RPUlkgPSBuZXcgRXJyb3JGYWN0b3J5PEFwcEVycm9yLCBFcnJvclBhcmFtcz4oXG4gICdhcHAnLFxuICAnRmlyZWJhc2UnLFxuICBFUlJPUlNcbik7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRmlyZWJhc2VBcHAsXG4gIEZpcmViYXNlT3B0aW9ucyxcbiAgRmlyZWJhc2VBcHBTZXR0aW5nc1xufSBmcm9tICcuL3B1YmxpYy10eXBlcyc7XG5pbXBvcnQge1xuICBDb21wb25lbnRDb250YWluZXIsXG4gIENvbXBvbmVudCxcbiAgQ29tcG9uZW50VHlwZVxufSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IEVSUk9SX0ZBQ1RPUlksIEFwcEVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuXG5leHBvcnQgY2xhc3MgRmlyZWJhc2VBcHBJbXBsIGltcGxlbWVudHMgRmlyZWJhc2VBcHAge1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgX29wdGlvbnM6IEZpcmViYXNlT3B0aW9ucztcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IF9uYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcmlnaW5hbCBjb25maWcgdmFsdWVzIHBhc3NlZCBpbiBhcyBhIGNvbnN0cnVjdG9yIHBhcmFtZXRlci5cbiAgICogSXQgaXMgb25seSB1c2VkIHRvIGNvbXBhcmUgd2l0aCBhbm90aGVyIGNvbmZpZyBvYmplY3QgdG8gc3VwcG9ydCBpZGVtcG90ZW50IGluaXRpYWxpemVBcHAoKS5cbiAgICpcbiAgICogVXBkYXRpbmcgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIG9uIHRoZSBBcHAgaW5zdGFuY2Ugd2lsbCBub3QgY2hhbmdlIGl0cyB2YWx1ZSBpbiBfY29uZmlnLlxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBfY29uZmlnOiBSZXF1aXJlZDxGaXJlYmFzZUFwcFNldHRpbmdzPjtcbiAgcHJpdmF0ZSBfYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkOiBib29sZWFuO1xuICBwcm90ZWN0ZWQgX2lzRGVsZXRlZCA9IGZhbHNlO1xuICBwcml2YXRlIHJlYWRvbmx5IF9jb250YWluZXI6IENvbXBvbmVudENvbnRhaW5lcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBvcHRpb25zOiBGaXJlYmFzZU9wdGlvbnMsXG4gICAgY29uZmlnOiBSZXF1aXJlZDxGaXJlYmFzZUFwcFNldHRpbmdzPixcbiAgICBjb250YWluZXI6IENvbXBvbmVudENvbnRhaW5lclxuICApIHtcbiAgICB0aGlzLl9vcHRpb25zID0geyAuLi5vcHRpb25zIH07XG4gICAgdGhpcy5fY29uZmlnID0geyAuLi5jb25maWcgfTtcbiAgICB0aGlzLl9uYW1lID0gY29uZmlnLm5hbWU7XG4gICAgdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID1cbiAgICAgIGNvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ7XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuY29udGFpbmVyLmFkZENvbXBvbmVudChcbiAgICAgIG5ldyBDb21wb25lbnQoJ2FwcCcsICgpID0+IHRoaXMsIENvbXBvbmVudFR5cGUuUFVCTElDKVxuICAgICk7XG4gIH1cblxuICBnZXQgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkO1xuICB9XG5cbiAgc2V0IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCh2YWw6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XG4gICAgdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID0gdmFsO1xuICB9XG5cbiAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gIH1cblxuICBnZXQgb3B0aW9ucygpOiBGaXJlYmFzZU9wdGlvbnMge1xuICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcbiAgfVxuXG4gIGdldCBjb25maWcoKTogUmVxdWlyZWQ8RmlyZWJhc2VBcHBTZXR0aW5ncz4ge1xuICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICB9XG5cbiAgZ2V0IGNvbnRhaW5lcigpOiBDb21wb25lbnRDb250YWluZXIge1xuICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XG4gIH1cblxuICBnZXQgaXNEZWxldGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9pc0RlbGV0ZWQ7XG4gIH1cblxuICBzZXQgaXNEZWxldGVkKHZhbDogYm9vbGVhbikge1xuICAgIHRoaXMuX2lzRGVsZXRlZCA9IHZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYW4gRXJyb3IgaWYgdGhlIEFwcCBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWQgLVxuICAgKiB1c2UgYmVmb3JlIHBlcmZvcm1pbmcgQVBJIGFjdGlvbnMgb24gdGhlIEFwcC5cbiAgICovXG4gIHByb3RlY3RlZCBjaGVja0Rlc3Ryb3llZCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcbiAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLkFQUF9ERUxFVEVELCB7IGFwcE5hbWU6IHRoaXMuX25hbWUgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRmlyZWJhc2VBcHBTZXR0aW5ncyxcbiAgRmlyZWJhc2VTZXJ2ZXJBcHAsXG4gIEZpcmViYXNlU2VydmVyQXBwU2V0dGluZ3MsXG4gIEZpcmViYXNlT3B0aW9uc1xufSBmcm9tICcuL3B1YmxpYy10eXBlcyc7XG5pbXBvcnQgeyBkZWxldGVBcHAsIHJlZ2lzdGVyVmVyc2lvbiB9IGZyb20gJy4vYXBpJztcbmltcG9ydCB7IENvbXBvbmVudENvbnRhaW5lciB9IGZyb20gJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgRmlyZWJhc2VBcHBJbXBsIH0gZnJvbSAnLi9maXJlYmFzZUFwcCc7XG5pbXBvcnQgeyBFUlJPUl9GQUNUT1JZLCBBcHBFcnJvciB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7IG5hbWUgYXMgcGFja2FnZU5hbWUsIHZlcnNpb24gfSBmcm9tICcuLi9wYWNrYWdlLmpzb24nO1xuXG5leHBvcnQgY2xhc3MgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsXG4gIGV4dGVuZHMgRmlyZWJhc2VBcHBJbXBsXG4gIGltcGxlbWVudHMgRmlyZWJhc2VTZXJ2ZXJBcHBcbntcbiAgcHJpdmF0ZSByZWFkb25seSBfc2VydmVyQ29uZmlnOiBGaXJlYmFzZVNlcnZlckFwcFNldHRpbmdzO1xuICBwcml2YXRlIF9maW5hbGl6YXRpb25SZWdpc3RyeTogRmluYWxpemF0aW9uUmVnaXN0cnk8b2JqZWN0PiB8IG51bGw7XG4gIHByaXZhdGUgX3JlZkNvdW50OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgb3B0aW9uczogRmlyZWJhc2VPcHRpb25zIHwgRmlyZWJhc2VBcHBJbXBsLFxuICAgIHNlcnZlckNvbmZpZzogRmlyZWJhc2VTZXJ2ZXJBcHBTZXR0aW5ncyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgY29udGFpbmVyOiBDb21wb25lbnRDb250YWluZXJcbiAgKSB7XG4gICAgLy8gQnVpbGQgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIGZvciB0aGUgRmlyZWJhc2VBcHBJbXBsIGJhc2UgY2xhc3MuXG4gICAgY29uc3QgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID1cbiAgICAgIHNlcnZlckNvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHNlcnZlckNvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWRcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8vIENyZWF0ZSB0aGUgRmlyZWJhc2VBcHBTZXR0aW5ncyBvYmplY3QgZm9yIHRoZSBGaXJlYmFzZUFwcEltcCBjb25zdHJ1Y3Rvci5cbiAgICBjb25zdCBjb25maWc6IFJlcXVpcmVkPEZpcmViYXNlQXBwU2V0dGluZ3M+ID0ge1xuICAgICAgbmFtZSxcbiAgICAgIGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZFxuICAgIH07XG5cbiAgICBpZiAoKG9wdGlvbnMgYXMgRmlyZWJhc2VPcHRpb25zKS5hcGlLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQ29uc3RydWN0IHRoZSBwYXJlbnQgRmlyZWJhc2VBcHBJbXAgb2JqZWN0LlxuICAgICAgc3VwZXIob3B0aW9ucyBhcyBGaXJlYmFzZU9wdGlvbnMsIGNvbmZpZywgY29udGFpbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYXBwSW1wbDogRmlyZWJhc2VBcHBJbXBsID0gb3B0aW9ucyBhcyBGaXJlYmFzZUFwcEltcGw7XG4gICAgICBzdXBlcihhcHBJbXBsLm9wdGlvbnMsIGNvbmZpZywgY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgY29uc3RydWN0IHRoZSBkYXRhIGZvciB0aGUgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLlxuICAgIHRoaXMuX3NlcnZlckNvbmZpZyA9IHtcbiAgICAgIGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCxcbiAgICAgIC4uLnNlcnZlckNvbmZpZ1xuICAgIH07XG5cbiAgICB0aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeSA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuX2ZpbmFsaXphdGlvblJlZ2lzdHJ5ID0gbmV3IEZpbmFsaXphdGlvblJlZ2lzdHJ5KCgpID0+IHtcbiAgICAgICAgdGhpcy5hdXRvbWF0aWNDbGVhbnVwKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZWZDb3VudCA9IDA7XG4gICAgdGhpcy5pbmNSZWZDb3VudCh0aGlzLl9zZXJ2ZXJDb25maWcucmVsZWFzZU9uRGVyZWYpO1xuXG4gICAgLy8gRG8gbm90IHJldGFpbiBhIGhhcmQgcmVmZXJlbmNlIHRvIHRoZSBkcmVmIG9iamVjdCwgb3RoZXJ3aXNlIHRoZSBGaW5hbGl6YXRpb25SZWdpc3RyeVxuICAgIC8vIHdpbGwgbmV2ZXIgdHJpZ2dlci5cbiAgICB0aGlzLl9zZXJ2ZXJDb25maWcucmVsZWFzZU9uRGVyZWYgPSB1bmRlZmluZWQ7XG4gICAgc2VydmVyQ29uZmlnLnJlbGVhc2VPbkRlcmVmID0gdW5kZWZpbmVkO1xuXG4gICAgcmVnaXN0ZXJWZXJzaW9uKHBhY2thZ2VOYW1lLCB2ZXJzaW9uLCAnc2VydmVyYXBwJyk7XG4gIH1cblxuICB0b0pTT04oKTogdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0IHJlZkNvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3JlZkNvdW50O1xuICB9XG5cbiAgLy8gSW5jcmVtZW50IHRoZSByZWZlcmVuY2UgY291bnQgb2YgdGhpcyBzZXJ2ZXIgYXBwLiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQsIHJlZ2lzdGVyIGl0XG4gIC8vIHdpdGggdGhlIGZpbmFsaXphdGlvbiByZWdpc3RyeS5cbiAgaW5jUmVmQ291bnQob2JqOiBvYmplY3QgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcmVmQ291bnQrKztcbiAgICBpZiAob2JqICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fZmluYWxpemF0aW9uUmVnaXN0cnkgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuX2ZpbmFsaXphdGlvblJlZ2lzdHJ5LnJlZ2lzdGVyKG9iaiwgdGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gRGVjcmVtZW50IHRoZSByZWZlcmVuY2UgY291bnQuXG4gIGRlY1JlZkNvdW50KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXNEZWxldGVkKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIC0tdGhpcy5fcmVmQ291bnQ7XG4gIH1cblxuICAvLyBJbnZva2VkIGJ5IHRoZSBGaW5hbGl6YXRpb25SZWdpc3RyeSBjYWxsYmFjayB0byBub3RlIHRoYXQgdGhpcyBhcHAgc2hvdWxkIGdvIHRocm91Z2ggaXRzXG4gIC8vIHJlZmVyZW5jZSBjb3VudHMgYW5kIGRlbGV0ZSBpdHNlbGYgaWYgbm8gcmVmZXJlbmNlIGNvdW50IHJlbWFpbi4gVGhlIGNvb3JkaW5hdGluZyBsb2dpYyB0aGF0XG4gIC8vIGhhbmRsZXMgdGhpcyBpcyBpbiBkZWxldGVBcHAoLi4uKS5cbiAgcHJpdmF0ZSBhdXRvbWF0aWNDbGVhbnVwKCk6IHZvaWQge1xuICAgIHZvaWQgZGVsZXRlQXBwKHRoaXMpO1xuICB9XG5cbiAgZ2V0IHNldHRpbmdzKCk6IEZpcmViYXNlU2VydmVyQXBwU2V0dGluZ3Mge1xuICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyQ29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyBhbiBFcnJvciBpZiB0aGUgQXBwIGhhcyBhbHJlYWR5IGJlZW4gZGVsZXRlZCAtXG4gICAqIHVzZSBiZWZvcmUgcGVyZm9ybWluZyBBUEkgYWN0aW9ucyBvbiB0aGUgQXBwLlxuICAgKi9cbiAgcHJvdGVjdGVkIGNoZWNrRGVzdHJveWVkKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzRGVsZXRlZCkge1xuICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuU0VSVkVSX0FQUF9ERUxFVEVEKTtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBGaXJlYmFzZUFwcCxcbiAgRmlyZWJhc2VTZXJ2ZXJBcHAsXG4gIEZpcmViYXNlT3B0aW9ucyxcbiAgRmlyZWJhc2VBcHBTZXR0aW5ncyxcbiAgRmlyZWJhc2VTZXJ2ZXJBcHBTZXR0aW5nc1xufSBmcm9tICcuL3B1YmxpYy10eXBlcyc7XG5pbXBvcnQgeyBERUZBVUxUX0VOVFJZX05BTUUsIFBMQVRGT1JNX0xPR19TVFJJTkcgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBFUlJPUl9GQUNUT1JZLCBBcHBFcnJvciB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7XG4gIENvbXBvbmVudENvbnRhaW5lcixcbiAgQ29tcG9uZW50LFxuICBOYW1lLFxuICBDb21wb25lbnRUeXBlXG59IGZyb20gJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uLy4uL2ZpcmViYXNlL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBGaXJlYmFzZUFwcEltcGwgfSBmcm9tICcuL2ZpcmViYXNlQXBwJztcbmltcG9ydCB7IEZpcmViYXNlU2VydmVyQXBwSW1wbCB9IGZyb20gJy4vZmlyZWJhc2VTZXJ2ZXJBcHAnO1xuaW1wb3J0IHtcbiAgX2FwcHMsXG4gIF9jb21wb25lbnRzLFxuICBfaXNGaXJlYmFzZUFwcCxcbiAgX3JlZ2lzdGVyQ29tcG9uZW50LFxuICBfc2VydmVyQXBwc1xufSBmcm9tICcuL2ludGVybmFsJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7XG4gIExvZ0xldmVsU3RyaW5nLFxuICBzZXRMb2dMZXZlbCBhcyBzZXRMb2dMZXZlbEltcGwsXG4gIExvZ0NhbGxiYWNrLFxuICBMb2dPcHRpb25zLFxuICBzZXRVc2VyTG9nSGFuZGxlclxufSBmcm9tICdAZmlyZWJhc2UvbG9nZ2VyJztcbmltcG9ydCB7XG4gIGRlZXBFcXVhbCxcbiAgZ2V0RGVmYXVsdEFwcENvbmZpZyxcbiAgaXNCcm93c2VyLFxuICBpc1dlYldvcmtlclxufSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmV4cG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgU0RLIHZlcnNpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgU0RLX1ZFUlNJT04gPSB2ZXJzaW9uO1xuXG4vKipcbiAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IGluc3RhbmNlLlxuICpcbiAqIFNlZVxuICoge0BsaW5rXG4gKiAgIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL3dlYi9zZXR1cCNhZGRfZmlyZWJhc2VfdG9feW91cl9hcHBcbiAqICAgfCBBZGQgRmlyZWJhc2UgdG8geW91ciBhcHB9IGFuZFxuICoge0BsaW5rXG4gKiAgIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL3dlYi9zZXR1cCNtdWx0aXBsZS1wcm9qZWN0c1xuICogICB8IEluaXRpYWxpemUgbXVsdGlwbGUgcHJvamVjdHN9IGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogLy8gSW5pdGlhbGl6ZSBkZWZhdWx0IGFwcFxuICogLy8gUmV0cmlldmUgeW91ciBvd24gb3B0aW9ucyB2YWx1ZXMgYnkgYWRkaW5nIGEgd2ViIGFwcCBvblxuICogLy8gaHR0cHM6Ly9jb25zb2xlLmZpcmViYXNlLmdvb2dsZS5jb21cbiAqIGluaXRpYWxpemVBcHAoe1xuICogICBhcGlLZXk6IFwiQUl6YS4uLi5cIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF1dGggLyBHZW5lcmFsIFVzZVxuICogICBhdXRoRG9tYWluOiBcIllPVVJfQVBQLmZpcmViYXNlYXBwLmNvbVwiLCAgICAgICAgIC8vIEF1dGggd2l0aCBwb3B1cC9yZWRpcmVjdFxuICogICBkYXRhYmFzZVVSTDogXCJodHRwczovL1lPVVJfQVBQLmZpcmViYXNlaW8uY29tXCIsIC8vIFJlYWx0aW1lIERhdGFiYXNlXG4gKiAgIHN0b3JhZ2VCdWNrZXQ6IFwiWU9VUl9BUFAuYXBwc3BvdC5jb21cIiwgICAgICAgICAgLy8gU3RvcmFnZVxuICogICBtZXNzYWdpbmdTZW5kZXJJZDogXCIxMjM0NTY3ODlcIiAgICAgICAgICAgICAgICAgIC8vIENsb3VkIE1lc3NhZ2luZ1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICpcbiAqIC8vIEluaXRpYWxpemUgYW5vdGhlciBhcHBcbiAqIGNvbnN0IG90aGVyQXBwID0gaW5pdGlhbGl6ZUFwcCh7XG4gKiAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vPE9USEVSX0RBVEFCQVNFX05BTUU+LmZpcmViYXNlaW8uY29tXCIsXG4gKiAgIHN0b3JhZ2VCdWNrZXQ6IFwiPE9USEVSX1NUT1JBR0VfQlVDS0VUPi5hcHBzcG90LmNvbVwiXG4gKiB9LCBcIm90aGVyQXBwXCIpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIHRvIGNvbmZpZ3VyZSB0aGUgYXBwJ3Mgc2VydmljZXMuXG4gKiBAcGFyYW0gbmFtZSAtIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGFwcCB0byBpbml0aWFsaXplLiBJZiBubyBuYW1lXG4gKiAgIGlzIHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBpcyBgXCJbREVGQVVMVF1cImAuXG4gKlxuICogQHJldHVybnMgVGhlIGluaXRpYWxpemVkIGFwcC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQXBwKFxuICBvcHRpb25zOiBGaXJlYmFzZU9wdGlvbnMsXG4gIG5hbWU/OiBzdHJpbmdcbik6IEZpcmViYXNlQXBwO1xuLyoqXG4gKiBDcmVhdGVzIGFuZCBpbml0aWFsaXplcyBhIEZpcmViYXNlQXBwIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyB0byBjb25maWd1cmUgdGhlIGFwcCdzIHNlcnZpY2VzLlxuICogQHBhcmFtIGNvbmZpZyAtIEZpcmViYXNlQXBwIENvbmZpZ3VyYXRpb25cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQXBwKFxuICBvcHRpb25zOiBGaXJlYmFzZU9wdGlvbnMsXG4gIGNvbmZpZz86IEZpcmViYXNlQXBwU2V0dGluZ3Ncbik6IEZpcmViYXNlQXBwO1xuLyoqXG4gKiBDcmVhdGVzIGFuZCBpbml0aWFsaXplcyBhIEZpcmViYXNlQXBwIGluc3RhbmNlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVBcHAoKTogRmlyZWJhc2VBcHA7XG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcChcbiAgX29wdGlvbnM/OiBGaXJlYmFzZU9wdGlvbnMsXG4gIHJhd0NvbmZpZyA9IHt9XG4pOiBGaXJlYmFzZUFwcCB7XG4gIGxldCBvcHRpb25zID0gX29wdGlvbnM7XG5cbiAgaWYgKHR5cGVvZiByYXdDb25maWcgIT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgbmFtZSA9IHJhd0NvbmZpZztcbiAgICByYXdDb25maWcgPSB7IG5hbWUgfTtcbiAgfVxuXG4gIGNvbnN0IGNvbmZpZzogUmVxdWlyZWQ8RmlyZWJhc2VBcHBTZXR0aW5ncz4gPSB7XG4gICAgbmFtZTogREVGQVVMVF9FTlRSWV9OQU1FLFxuICAgIGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDogZmFsc2UsXG4gICAgLi4ucmF3Q29uZmlnXG4gIH07XG4gIGNvbnN0IG5hbWUgPSBjb25maWcubmFtZTtcblxuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8ICFuYW1lKSB7XG4gICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuQkFEX0FQUF9OQU1FLCB7XG4gICAgICBhcHBOYW1lOiBTdHJpbmcobmFtZSlcbiAgICB9KTtcbiAgfVxuXG4gIG9wdGlvbnMgfHw9IGdldERlZmF1bHRBcHBDb25maWcoKTtcblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5OT19PUFRJT05TKTtcbiAgfVxuXG4gIGNvbnN0IGV4aXN0aW5nQXBwID0gX2FwcHMuZ2V0KG5hbWUpIGFzIEZpcmViYXNlQXBwSW1wbDtcbiAgaWYgKGV4aXN0aW5nQXBwKSB7XG4gICAgLy8gcmV0dXJuIHRoZSBleGlzdGluZyBhcHAgaWYgb3B0aW9ucyBhbmQgY29uZmlnIGRlZXAgZXF1YWwgdGhlIG9uZXMgaW4gdGhlIGV4aXN0aW5nIGFwcC5cbiAgICBpZiAoXG4gICAgICBkZWVwRXF1YWwob3B0aW9ucywgZXhpc3RpbmdBcHAub3B0aW9ucykgJiZcbiAgICAgIGRlZXBFcXVhbChjb25maWcsIGV4aXN0aW5nQXBwLmNvbmZpZylcbiAgICApIHtcbiAgICAgIHJldHVybiBleGlzdGluZ0FwcDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuRFVQTElDQVRFX0FQUCwgeyBhcHBOYW1lOiBuYW1lIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBDb21wb25lbnRDb250YWluZXIobmFtZSk7XG4gIGZvciAoY29uc3QgY29tcG9uZW50IG9mIF9jb21wb25lbnRzLnZhbHVlcygpKSB7XG4gICAgY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xuICB9XG5cbiAgY29uc3QgbmV3QXBwID0gbmV3IEZpcmViYXNlQXBwSW1wbChvcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcik7XG5cbiAgX2FwcHMuc2V0KG5hbWUsIG5ld0FwcCk7XG5cbiAgcmV0dXJuIG5ld0FwcDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuZCBpbml0aWFsaXplcyBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfSBpbnN0YW5jZS5cbiAqXG4gKiBUaGUgYEZpcmViYXNlU2VydmVyQXBwYCBpcyBzaW1pbGFyIHRvIGBGaXJlYmFzZUFwcGAsIGJ1dCBpcyBpbnRlbmRlZCBmb3IgZXhlY3V0aW9uIGluXG4gKiBzZXJ2ZXIgc2lkZSByZW5kZXJpbmcgZW52aXJvbm1lbnRzIG9ubHkuIEluaXRpYWxpemF0aW9uIHdpbGwgZmFpbCBpZiBpbnZva2VkIGZyb20gYVxuICogYnJvd3NlciBlbnZpcm9ubWVudC5cbiAqXG4gKiBTZWVcbiAqIHtAbGlua1xuICogICBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy93ZWIvc2V0dXAjYWRkX2ZpcmViYXNlX3RvX3lvdXJfYXBwXG4gKiAgIHwgQWRkIEZpcmViYXNlIHRvIHlvdXIgYXBwfSBhbmRcbiAqIHtAbGlua1xuICogICBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy93ZWIvc2V0dXAjbXVsdGlwbGUtcHJvamVjdHNcbiAqICAgfCBJbml0aWFsaXplIG11bHRpcGxlIHByb2plY3RzfSBmb3IgZGV0YWlsZWQgZG9jdW1lbnRhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICpcbiAqIC8vIEluaXRpYWxpemUgYW4gaW5zdGFuY2Ugb2YgYEZpcmViYXNlU2VydmVyQXBwYC5cbiAqIC8vIFJldHJpZXZlIHlvdXIgb3duIG9wdGlvbnMgdmFsdWVzIGJ5IGFkZGluZyBhIHdlYiBhcHAgb25cbiAqIC8vIGh0dHBzOi8vY29uc29sZS5maXJlYmFzZS5nb29nbGUuY29tXG4gKiBpbml0aWFsaXplU2VydmVyQXBwKHtcbiAqICAgICBhcGlLZXk6IFwiQUl6YS4uLi5cIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF1dGggLyBHZW5lcmFsIFVzZVxuICogICAgIGF1dGhEb21haW46IFwiWU9VUl9BUFAuZmlyZWJhc2VhcHAuY29tXCIsICAgICAgICAgLy8gQXV0aCB3aXRoIHBvcHVwL3JlZGlyZWN0XG4gKiAgICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9ZT1VSX0FQUC5maXJlYmFzZWlvLmNvbVwiLCAvLyBSZWFsdGltZSBEYXRhYmFzZVxuICogICAgIHN0b3JhZ2VCdWNrZXQ6IFwiWU9VUl9BUFAuYXBwc3BvdC5jb21cIiwgICAgICAgICAgLy8gU3RvcmFnZVxuICogICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjEyMzQ1Njc4OVwiICAgICAgICAgICAgICAgICAgLy8gQ2xvdWQgTWVzc2FnaW5nXG4gKiAgIH0sXG4gKiAgIHtcbiAqICAgIGF1dGhJZFRva2VuOiBcIllvdXIgQXV0aCBJRCBUb2tlblwiXG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBgRmlyZWJhc2UuQXBwT3B0aW9uc2AgdG8gY29uZmlndXJlIHRoZSBhcHAncyBzZXJ2aWNlcywgb3IgYVxuICogICBhIGBGaXJlYmFzZUFwcGAgaW5zdGFuY2Ugd2hpY2ggY29udGFpbnMgdGhlIGBBcHBPcHRpb25zYCB3aXRoaW4uXG4gKiBAcGFyYW0gY29uZmlnIC0gYEZpcmViYXNlU2VydmVyQXBwYCBjb25maWd1cmF0aW9uLlxuICpcbiAqIEByZXR1cm5zIFRoZSBpbml0aWFsaXplZCBgRmlyZWJhc2VTZXJ2ZXJBcHBgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVTZXJ2ZXJBcHAoXG4gIG9wdGlvbnM6IEZpcmViYXNlT3B0aW9ucyB8IEZpcmViYXNlQXBwLFxuICBjb25maWc6IEZpcmViYXNlU2VydmVyQXBwU2V0dGluZ3Ncbik6IEZpcmViYXNlU2VydmVyQXBwO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlcnZlckFwcChcbiAgX29wdGlvbnM6IEZpcmViYXNlT3B0aW9ucyB8IEZpcmViYXNlQXBwLFxuICBfc2VydmVyQXBwQ29uZmlnOiBGaXJlYmFzZVNlcnZlckFwcFNldHRpbmdzXG4pOiBGaXJlYmFzZVNlcnZlckFwcCB7XG4gIGlmIChpc0Jyb3dzZXIoKSAmJiAhaXNXZWJXb3JrZXIoKSkge1xuICAgIC8vIEZpcmViYXNlU2VydmVyQXBwIGlzbid0IGRlc2lnbmVkIHRvIGJlIHJ1biBpbiBicm93c2Vycy5cbiAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5JTlZBTElEX1NFUlZFUl9BUFBfRU5WSVJPTk1FTlQpO1xuICB9XG5cbiAgaWYgKF9zZXJ2ZXJBcHBDb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID09PSB1bmRlZmluZWQpIHtcbiAgICBfc2VydmVyQXBwQ29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgbGV0IGFwcE9wdGlvbnM6IEZpcmViYXNlT3B0aW9ucztcbiAgaWYgKF9pc0ZpcmViYXNlQXBwKF9vcHRpb25zKSkge1xuICAgIGFwcE9wdGlvbnMgPSBfb3B0aW9ucy5vcHRpb25zO1xuICB9IGVsc2Uge1xuICAgIGFwcE9wdGlvbnMgPSBfb3B0aW9ucztcbiAgfVxuXG4gIC8vIEJ1aWxkIGFuIGFwcCBuYW1lIGJhc2VkIG9uIGEgaGFzaCBvZiB0aGUgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICBjb25zdCBuYW1lT2JqID0ge1xuICAgIC4uLl9zZXJ2ZXJBcHBDb25maWcsXG4gICAgLi4uYXBwT3B0aW9uc1xuICB9O1xuXG4gIC8vIEhvd2V2ZXIsIERvIG5vdCBtYW5nbGUgdGhlIG5hbWUgYmFzZWQgb24gcmVsZWFzZU9uRGVyZWYsIHNpbmNlIGl0IHdpbGwgdmFyeSBiZXR3ZWVuIHRoZVxuICAvLyBjb25zdHJ1Y3Rpb24gb2YgRmlyZWJhc2VTZXJ2ZXJBcHAgaW5zdGFuY2VzLiBGb3IgZXhhbXBsZSwgaWYgdGhlIG9iamVjdCBpcyB0aGUgcmVxdWVzdCBoZWFkZXJzLlxuICBpZiAobmFtZU9iai5yZWxlYXNlT25EZXJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZGVsZXRlIG5hbWVPYmoucmVsZWFzZU9uRGVyZWY7XG4gIH1cblxuICBjb25zdCBoYXNoQ29kZSA9IChzOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiBbLi4uc10ucmVkdWNlKFxuICAgICAgKGhhc2gsIGMpID0+IChNYXRoLmltdWwoMzEsIGhhc2gpICsgYy5jaGFyQ29kZUF0KDApKSB8IDAsXG4gICAgICAwXG4gICAgKTtcbiAgfTtcblxuICBpZiAoX3NlcnZlckFwcENvbmZpZy5yZWxlYXNlT25EZXJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFxuICAgICAgICBBcHBFcnJvci5GSU5BTElaQVRJT05fUkVHSVNUUllfTk9UX1NVUFBPUlRFRCxcbiAgICAgICAge31cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbmFtZVN0cmluZyA9ICcnICsgaGFzaENvZGUoSlNPTi5zdHJpbmdpZnkobmFtZU9iaikpO1xuICBjb25zdCBleGlzdGluZ0FwcCA9IF9zZXJ2ZXJBcHBzLmdldChuYW1lU3RyaW5nKSBhcyBGaXJlYmFzZVNlcnZlckFwcDtcbiAgaWYgKGV4aXN0aW5nQXBwKSB7XG4gICAgKGV4aXN0aW5nQXBwIGFzIEZpcmViYXNlU2VydmVyQXBwSW1wbCkuaW5jUmVmQ291bnQoXG4gICAgICBfc2VydmVyQXBwQ29uZmlnLnJlbGVhc2VPbkRlcmVmXG4gICAgKTtcbiAgICByZXR1cm4gZXhpc3RpbmdBcHA7XG4gIH1cblxuICBjb25zdCBjb250YWluZXIgPSBuZXcgQ29tcG9uZW50Q29udGFpbmVyKG5hbWVTdHJpbmcpO1xuICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBfY29tcG9uZW50cy52YWx1ZXMoKSkge1xuICAgIGNvbnRhaW5lci5hZGRDb21wb25lbnQoY29tcG9uZW50KTtcbiAgfVxuXG4gIGNvbnN0IG5ld0FwcCA9IG5ldyBGaXJlYmFzZVNlcnZlckFwcEltcGwoXG4gICAgYXBwT3B0aW9ucyxcbiAgICBfc2VydmVyQXBwQ29uZmlnLFxuICAgIG5hbWVTdHJpbmcsXG4gICAgY29udGFpbmVyXG4gICk7XG5cbiAgX3NlcnZlckFwcHMuc2V0KG5hbWVTdHJpbmcsIG5ld0FwcCk7XG5cbiAgcmV0dXJuIG5ld0FwcDtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZUFwcH0gaW5zdGFuY2UuXG4gKlxuICogV2hlbiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMsIHRoZSBkZWZhdWx0IGFwcCBpcyByZXR1cm5lZC4gV2hlbiBhbiBhcHAgbmFtZVxuICogaXMgcHJvdmlkZWQsIHRoZSBhcHAgY29ycmVzcG9uZGluZyB0byB0aGF0IG5hbWUgaXMgcmV0dXJuZWQuXG4gKlxuICogQW4gZXhjZXB0aW9uIGlzIHRocm93biBpZiB0aGUgYXBwIGJlaW5nIHJldHJpZXZlZCBoYXMgbm90IHlldCBiZWVuXG4gKiBpbml0aWFsaXplZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gUmV0dXJuIHRoZSBkZWZhdWx0IGFwcFxuICogY29uc3QgYXBwID0gZ2V0QXBwKCk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gUmV0dXJuIGEgbmFtZWQgYXBwXG4gKiBjb25zdCBvdGhlckFwcCA9IGdldEFwcChcIm90aGVyQXBwXCIpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIG5hbWUgLSBPcHRpb25hbCBuYW1lIG9mIHRoZSBhcHAgdG8gcmV0dXJuLiBJZiBubyBuYW1lIGlzXG4gKiAgIHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBpcyBgXCJbREVGQVVMVF1cImAuXG4gKlxuICogQHJldHVybnMgVGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBhcHAgbmFtZS5cbiAqICAgSWYgbm8gYXBwIG5hbWUgaXMgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGFwcCBpcyByZXR1cm5lZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcHAobmFtZTogc3RyaW5nID0gREVGQVVMVF9FTlRSWV9OQU1FKTogRmlyZWJhc2VBcHAge1xuICBjb25zdCBhcHAgPSBfYXBwcy5nZXQobmFtZSk7XG4gIGlmICghYXBwICYmIG5hbWUgPT09IERFRkFVTFRfRU5UUllfTkFNRSAmJiBnZXREZWZhdWx0QXBwQ29uZmlnKCkpIHtcbiAgICByZXR1cm4gaW5pdGlhbGl6ZUFwcCgpO1xuICB9XG4gIGlmICghYXBwKSB7XG4gICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuTk9fQVBQLCB7IGFwcE5hbWU6IG5hbWUgfSk7XG4gIH1cblxuICByZXR1cm4gYXBwO1xufVxuXG4vKipcbiAqIEEgKHJlYWQtb25seSkgYXJyYXkgb2YgYWxsIGluaXRpYWxpemVkIGFwcHMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcHBzKCk6IEZpcmViYXNlQXBwW10ge1xuICByZXR1cm4gQXJyYXkuZnJvbShfYXBwcy52YWx1ZXMoKSk7XG59XG5cbi8qKlxuICogUmVuZGVycyB0aGlzIGFwcCB1bnVzYWJsZSBhbmQgZnJlZXMgdGhlIHJlc291cmNlcyBvZiBhbGwgYXNzb2NpYXRlZFxuICogc2VydmljZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGRlbGV0ZUFwcChhcHApXG4gKiAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICogICAgIGNvbnNvbGUubG9nKFwiQXBwIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICogICB9KVxuICogICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAqICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGRlbGV0aW5nIGFwcDpcIiwgZXJyb3IpO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUFwcChhcHA6IEZpcmViYXNlQXBwKTogUHJvbWlzZTx2b2lkPiB7XG4gIGxldCBjbGVhbnVwUHJvdmlkZXJzID0gZmFsc2U7XG4gIGNvbnN0IG5hbWUgPSBhcHAubmFtZTtcbiAgaWYgKF9hcHBzLmhhcyhuYW1lKSkge1xuICAgIGNsZWFudXBQcm92aWRlcnMgPSB0cnVlO1xuICAgIF9hcHBzLmRlbGV0ZShuYW1lKTtcbiAgfSBlbHNlIGlmIChfc2VydmVyQXBwcy5oYXMobmFtZSkpIHtcbiAgICBjb25zdCBmaXJlYmFzZVNlcnZlckFwcCA9IGFwcCBhcyBGaXJlYmFzZVNlcnZlckFwcEltcGw7XG4gICAgaWYgKGZpcmViYXNlU2VydmVyQXBwLmRlY1JlZkNvdW50KCkgPD0gMCkge1xuICAgICAgX3NlcnZlckFwcHMuZGVsZXRlKG5hbWUpO1xuICAgICAgY2xlYW51cFByb3ZpZGVycyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGNsZWFudXBQcm92aWRlcnMpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIChhcHAgYXMgRmlyZWJhc2VBcHBJbXBsKS5jb250YWluZXJcbiAgICAgICAgLmdldFByb3ZpZGVycygpXG4gICAgICAgIC5tYXAocHJvdmlkZXIgPT4gcHJvdmlkZXIuZGVsZXRlKCkpXG4gICAgKTtcbiAgICAoYXBwIGFzIEZpcmViYXNlQXBwSW1wbCkuaXNEZWxldGVkID0gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIGxpYnJhcnkncyBuYW1lIGFuZCB2ZXJzaW9uIGZvciBwbGF0Zm9ybSBsb2dnaW5nIHB1cnBvc2VzLlxuICogQHBhcmFtIGxpYnJhcnkgLSBOYW1lIG9mIDFwIG9yIDNwIGxpYnJhcnkgKGUuZy4gZmlyZXN0b3JlLCBhbmd1bGFyZmlyZSlcbiAqIEBwYXJhbSB2ZXJzaW9uIC0gQ3VycmVudCB2ZXJzaW9uIG9mIHRoYXQgbGlicmFyeS5cbiAqIEBwYXJhbSB2YXJpYW50IC0gQnVuZGxlIHZhcmlhbnQsIGUuZy4sIG5vZGUsIHJuLCBldGMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJWZXJzaW9uKFxuICBsaWJyYXJ5S2V5T3JOYW1lOiBzdHJpbmcsXG4gIHZlcnNpb246IHN0cmluZyxcbiAgdmFyaWFudD86IHN0cmluZ1xuKTogdm9pZCB7XG4gIC8vIFRPRE86IFdlIGNhbiB1c2UgdGhpcyBjaGVjayB0byB3aGl0ZWxpc3Qgc3RyaW5ncyB3aGVuL2lmIHdlIHNldCB1cFxuICAvLyBhIGdvb2Qgd2hpdGVsaXN0IHN5c3RlbS5cbiAgbGV0IGxpYnJhcnkgPSBQTEFURk9STV9MT0dfU1RSSU5HW2xpYnJhcnlLZXlPck5hbWVdID8/IGxpYnJhcnlLZXlPck5hbWU7XG4gIGlmICh2YXJpYW50KSB7XG4gICAgbGlicmFyeSArPSBgLSR7dmFyaWFudH1gO1xuICB9XG4gIGNvbnN0IGxpYnJhcnlNaXNtYXRjaCA9IGxpYnJhcnkubWF0Y2goL1xcc3xcXC8vKTtcbiAgY29uc3QgdmVyc2lvbk1pc21hdGNoID0gdmVyc2lvbi5tYXRjaCgvXFxzfFxcLy8pO1xuICBpZiAobGlicmFyeU1pc21hdGNoIHx8IHZlcnNpb25NaXNtYXRjaCkge1xuICAgIGNvbnN0IHdhcm5pbmcgPSBbXG4gICAgICBgVW5hYmxlIHRvIHJlZ2lzdGVyIGxpYnJhcnkgXCIke2xpYnJhcnl9XCIgd2l0aCB2ZXJzaW9uIFwiJHt2ZXJzaW9ufVwiOmBcbiAgICBdO1xuICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2gpIHtcbiAgICAgIHdhcm5pbmcucHVzaChcbiAgICAgICAgYGxpYnJhcnkgbmFtZSBcIiR7bGlicmFyeX1cIiBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnMgKHdoaXRlc3BhY2Ugb3IgXCIvXCIpYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGxpYnJhcnlNaXNtYXRjaCAmJiB2ZXJzaW9uTWlzbWF0Y2gpIHtcbiAgICAgIHdhcm5pbmcucHVzaCgnYW5kJyk7XG4gICAgfVxuICAgIGlmICh2ZXJzaW9uTWlzbWF0Y2gpIHtcbiAgICAgIHdhcm5pbmcucHVzaChcbiAgICAgICAgYHZlcnNpb24gbmFtZSBcIiR7dmVyc2lvbn1cIiBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnMgKHdoaXRlc3BhY2Ugb3IgXCIvXCIpYFxuICAgICAgKTtcbiAgICB9XG4gICAgbG9nZ2VyLndhcm4od2FybmluZy5qb2luKCcgJykpO1xuICAgIHJldHVybjtcbiAgfVxuICBfcmVnaXN0ZXJDb21wb25lbnQoXG4gICAgbmV3IENvbXBvbmVudChcbiAgICAgIGAke2xpYnJhcnl9LXZlcnNpb25gIGFzIE5hbWUsXG4gICAgICAoKSA9PiAoeyBsaWJyYXJ5LCB2ZXJzaW9uIH0pLFxuICAgICAgQ29tcG9uZW50VHlwZS5WRVJTSU9OXG4gICAgKVxuICApO1xufVxuXG4vKipcbiAqIFNldHMgbG9nIGhhbmRsZXIgZm9yIGFsbCBGaXJlYmFzZSBTREtzLlxuICogQHBhcmFtIGxvZ0NhbGxiYWNrIC0gQW4gb3B0aW9uYWwgY3VzdG9tIGxvZyBoYW5kbGVyIHRoYXQgZXhlY3V0ZXMgdXNlciBjb2RlIHdoZW5ldmVyXG4gKiB0aGUgRmlyZWJhc2UgU0RLIG1ha2VzIGEgbG9nZ2luZyBjYWxsLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uTG9nKFxuICBsb2dDYWxsYmFjazogTG9nQ2FsbGJhY2sgfCBudWxsLFxuICBvcHRpb25zPzogTG9nT3B0aW9uc1xuKTogdm9pZCB7XG4gIGlmIChsb2dDYWxsYmFjayAhPT0gbnVsbCAmJiB0eXBlb2YgbG9nQ2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5JTlZBTElEX0xPR19BUkdVTUVOVCk7XG4gIH1cbiAgc2V0VXNlckxvZ0hhbmRsZXIobG9nQ2FsbGJhY2ssIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFNldHMgbG9nIGxldmVsIGZvciBhbGwgRmlyZWJhc2UgU0RLcy5cbiAqXG4gKiBBbGwgb2YgdGhlIGxvZyB0eXBlcyBhYm92ZSB0aGUgY3VycmVudCBsb2cgbGV2ZWwgYXJlIGNhcHR1cmVkIChpLmUuIGlmXG4gKiB5b3Ugc2V0IHRoZSBsb2cgbGV2ZWwgdG8gYGluZm9gLCBlcnJvcnMgYXJlIGxvZ2dlZCwgYnV0IGBkZWJ1Z2AgYW5kXG4gKiBgdmVyYm9zZWAgbG9ncyBhcmUgbm90KS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2dMZXZlbChsb2dMZXZlbDogTG9nTGV2ZWxTdHJpbmcpOiB2b2lkIHtcbiAgc2V0TG9nTGV2ZWxJbXBsKGxvZ0xldmVsKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgREJTY2hlbWEsIG9wZW5EQiwgSURCUERhdGFiYXNlIH0gZnJvbSAnaWRiJztcbmltcG9ydCB7IEFwcEVycm9yLCBFUlJPUl9GQUNUT1JZIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHsgRmlyZWJhc2VBcHAgfSBmcm9tICcuL3B1YmxpYy10eXBlcyc7XG5pbXBvcnQgeyBIZWFydGJlYXRzSW5JbmRleGVkREIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcblxuY29uc3QgREJfTkFNRSA9ICdmaXJlYmFzZS1oZWFydGJlYXQtZGF0YWJhc2UnO1xuY29uc3QgREJfVkVSU0lPTiA9IDE7XG5jb25zdCBTVE9SRV9OQU1FID0gJ2ZpcmViYXNlLWhlYXJ0YmVhdC1zdG9yZSc7XG5cbmludGVyZmFjZSBBcHBEQiBleHRlbmRzIERCU2NoZW1hIHtcbiAgJ2ZpcmViYXNlLWhlYXJ0YmVhdC1zdG9yZSc6IHtcbiAgICBrZXk6IHN0cmluZztcbiAgICB2YWx1ZTogSGVhcnRiZWF0c0luSW5kZXhlZERCO1xuICB9O1xufVxuXG5sZXQgZGJQcm9taXNlOiBQcm9taXNlPElEQlBEYXRhYmFzZTxBcHBEQj4+IHwgbnVsbCA9IG51bGw7XG5mdW5jdGlvbiBnZXREYlByb21pc2UoKTogUHJvbWlzZTxJREJQRGF0YWJhc2U8QXBwREI+PiB7XG4gIGlmICghZGJQcm9taXNlKSB7XG4gICAgZGJQcm9taXNlID0gb3BlbkRCPEFwcERCPihEQl9OQU1FLCBEQl9WRVJTSU9OLCB7XG4gICAgICB1cGdyYWRlOiAoZGIsIG9sZFZlcnNpb24pID0+IHtcbiAgICAgICAgLy8gV2UgZG9uJ3QgdXNlICdicmVhaycgaW4gdGhpcyBzd2l0Y2ggc3RhdGVtZW50LCB0aGUgZmFsbC10aHJvdWdoXG4gICAgICAgIC8vIGJlaGF2aW9yIGlzIHdoYXQgd2Ugd2FudCwgYmVjYXVzZSBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgdmVyc2lvbnMgYmV0d2VlblxuICAgICAgICAvLyB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBjdXJyZW50IHZlcnNpb24sIHdlIHdhbnQgQUxMIHRoZSBtaWdyYXRpb25zXG4gICAgICAgIC8vIHRoYXQgY29ycmVzcG9uZCB0byB0aG9zZSB2ZXJzaW9ucyB0byBydW4sIG5vdCBvbmx5IHRoZSBsYXN0IG9uZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlZmF1bHQtY2FzZVxuICAgICAgICBzd2l0Y2ggKG9sZFZlcnNpb24pIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShTVE9SRV9OQU1FKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgLy8gU2FmYXJpL2lPUyBicm93c2VycyB0aHJvdyBvY2Nhc2lvbmFsIGV4Y2VwdGlvbnMgb25cbiAgICAgICAgICAgICAgLy8gZGIuY3JlYXRlT2JqZWN0U3RvcmUoKSB0aGF0IG1heSBiZSBhIGJ1Zy4gQXZvaWQgYmxvY2tpbmdcbiAgICAgICAgICAgICAgLy8gdGhlIHJlc3Qgb2YgdGhlIGFwcCBmdW5jdGlvbmFsaXR5LlxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLklEQl9PUEVOLCB7XG4gICAgICAgIG9yaWdpbmFsRXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBkYlByb21pc2U7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkSGVhcnRiZWF0c0Zyb21JbmRleGVkREIoXG4gIGFwcDogRmlyZWJhc2VBcHBcbik6IFByb21pc2U8SGVhcnRiZWF0c0luSW5kZXhlZERCIHwgdW5kZWZpbmVkPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGIgPSBhd2FpdCBnZXREYlByb21pc2UoKTtcbiAgICBjb25zdCB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHR4Lm9iamVjdFN0b3JlKFNUT1JFX05BTUUpLmdldChjb21wdXRlS2V5KGFwcCkpO1xuICAgIC8vIFdlIGFscmVhZHkgaGF2ZSB0aGUgdmFsdWUgYnV0IHR4LmRvbmUgY2FuIHRocm93LFxuICAgIC8vIHNvIHdlIG5lZWQgdG8gYXdhaXQgaXQgaGVyZSB0byBjYXRjaCBlcnJvcnNcbiAgICBhd2FpdCB0eC5kb25lO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIEZpcmViYXNlRXJyb3IpIHtcbiAgICAgIGxvZ2dlci53YXJuKGUubWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlkYkdldEVycm9yID0gRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuSURCX0dFVCwge1xuICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogKGUgYXMgRXJyb3IpPy5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIGxvZ2dlci53YXJuKGlkYkdldEVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIoXG4gIGFwcDogRmlyZWJhc2VBcHAsXG4gIGhlYXJ0YmVhdE9iamVjdDogSGVhcnRiZWF0c0luSW5kZXhlZERCXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYiA9IGF3YWl0IGdldERiUHJvbWlzZSgpO1xuICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpO1xuICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHgub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XG4gICAgYXdhaXQgb2JqZWN0U3RvcmUucHV0KGhlYXJ0YmVhdE9iamVjdCwgY29tcHV0ZUtleShhcHApKTtcbiAgICBhd2FpdCB0eC5kb25lO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBGaXJlYmFzZUVycm9yKSB7XG4gICAgICBsb2dnZXIud2FybihlLm1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpZGJHZXRFcnJvciA9IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLklEQl9XUklURSwge1xuICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogKGUgYXMgRXJyb3IpPy5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIGxvZ2dlci53YXJuKGlkYkdldEVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlS2V5KGFwcDogRmlyZWJhc2VBcHApOiBzdHJpbmcge1xuICByZXR1cm4gYCR7YXBwLm5hbWV9ISR7YXBwLm9wdGlvbnMuYXBwSWR9YDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnRDb250YWluZXIgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7XG4gIGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nLFxuICBpc0luZGV4ZWREQkF2YWlsYWJsZSxcbiAgdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZVxufSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQge1xuICByZWFkSGVhcnRiZWF0c0Zyb21JbmRleGVkREIsXG4gIHdyaXRlSGVhcnRiZWF0c1RvSW5kZXhlZERCXG59IGZyb20gJy4vaW5kZXhlZGRiJztcbmltcG9ydCB7IEZpcmViYXNlQXBwIH0gZnJvbSAnLi9wdWJsaWMtdHlwZXMnO1xuaW1wb3J0IHtcbiAgSGVhcnRiZWF0c0J5VXNlckFnZW50LFxuICBIZWFydGJlYXRTZXJ2aWNlLFxuICBIZWFydGJlYXRzSW5JbmRleGVkREIsXG4gIEhlYXJ0YmVhdFN0b3JhZ2UsXG4gIFNpbmdsZURhdGVIZWFydGJlYXRcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5cbmNvbnN0IE1BWF9IRUFERVJfQllURVMgPSAxMDI0O1xuLy8gMzAgZGF5c1xuY29uc3QgU1RPUkVEX0hFQVJUQkVBVF9SRVRFTlRJT05fTUFYX01JTExJUyA9IDMwICogMjQgKiA2MCAqIDYwICogMTAwMDtcblxuZXhwb3J0IGNsYXNzIEhlYXJ0YmVhdFNlcnZpY2VJbXBsIGltcGxlbWVudHMgSGVhcnRiZWF0U2VydmljZSB7XG4gIC8qKlxuICAgKiBUaGUgcGVyc2lzdGVuY2UgbGF5ZXIgZm9yIGhlYXJ0YmVhdHNcbiAgICogTGVhdmUgcHVibGljIGZvciBlYXNpZXIgdGVzdGluZy5cbiAgICovXG4gIF9zdG9yYWdlOiBIZWFydGJlYXRTdG9yYWdlSW1wbDtcblxuICAvKipcbiAgICogSW4tbWVtb3J5IGNhY2hlIGZvciBoZWFydGJlYXRzLCB1c2VkIGJ5IGdldEhlYXJ0YmVhdHNIZWFkZXIoKSB0byBnZW5lcmF0ZVxuICAgKiB0aGUgaGVhZGVyIHN0cmluZy5cbiAgICogU3RvcmVzIG9uZSByZWNvcmQgcGVyIGRhdGUuIFRoaXMgd2lsbCBiZSBjb25zb2xpZGF0ZWQgaW50byB0aGUgc3RhbmRhcmRcbiAgICogZm9ybWF0IG9mIG9uZSByZWNvcmQgcGVyIHVzZXIgYWdlbnQgc3RyaW5nIGJlZm9yZSBiZWluZyBzZW50IGFzIGEgaGVhZGVyLlxuICAgKiBQb3B1bGF0ZWQgZnJvbSBpbmRleGVkREIgd2hlbiB0aGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQgYW5kIHNob3VsZFxuICAgKiBiZSBrZXB0IGluIHN5bmMgd2l0aCBpbmRleGVkREIuXG4gICAqIExlYXZlIHB1YmxpYyBmb3IgZWFzaWVyIHRlc3RpbmcuXG4gICAqL1xuICBfaGVhcnRiZWF0c0NhY2hlOiBIZWFydGJlYXRzSW5JbmRleGVkREIgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogdGhlIGluaXRpYWxpemF0aW9uIHByb21pc2UgZm9yIHBvcHVsYXRpbmcgaGVhcnRiZWF0Q2FjaGUuXG4gICAqIElmIGdldEhlYXJ0YmVhdHNIZWFkZXIoKSBpcyBjYWxsZWQgYmVmb3JlIHRoZSBwcm9taXNlIHJlc29sdmVzXG4gICAqIChoZWFydGJlYXRzQ2FjaGUgPT0gbnVsbCksIGl0IHNob3VsZCB3YWl0IGZvciB0aGlzIHByb21pc2VcbiAgICogTGVhdmUgcHVibGljIGZvciBlYXNpZXIgdGVzdGluZy5cbiAgICovXG4gIF9oZWFydGJlYXRzQ2FjaGVQcm9taXNlOiBQcm9taXNlPEhlYXJ0YmVhdHNJbkluZGV4ZWREQj47XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOiBDb21wb25lbnRDb250YWluZXIpIHtcbiAgICBjb25zdCBhcHAgPSB0aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcignYXBwJykuZ2V0SW1tZWRpYXRlKCk7XG4gICAgdGhpcy5fc3RvcmFnZSA9IG5ldyBIZWFydGJlYXRTdG9yYWdlSW1wbChhcHApO1xuICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZVByb21pc2UgPSB0aGlzLl9zdG9yYWdlLnJlYWQoKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPSByZXN1bHQ7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB0byByZXBvcnQgYSBoZWFydGJlYXQuIFRoZSBmdW5jdGlvbiB3aWxsIGdlbmVyYXRlXG4gICAqIGEgSGVhcnRiZWF0c0J5VXNlckFnZW50IG9iamVjdCwgdXBkYXRlIGhlYXJ0YmVhdHNDYWNoZSwgYW5kIHBlcnNpc3QgaXRcbiAgICogdG8gSW5kZXhlZERCLlxuICAgKiBOb3RlIHRoYXQgd2Ugb25seSBzdG9yZSBvbmUgaGVhcnRiZWF0IHBlciBkYXkuIFNvIGlmIGEgaGVhcnRiZWF0IGZvciB0b2RheSBpc1xuICAgKiBhbHJlYWR5IGxvZ2dlZCwgc3Vic2VxdWVudCBjYWxscyB0byB0aGlzIGZ1bmN0aW9uIGluIHRoZSBzYW1lIGRheSB3aWxsIGJlIGlnbm9yZWQuXG4gICAqL1xuICBhc3luYyB0cmlnZ2VySGVhcnRiZWF0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwbGF0Zm9ybUxvZ2dlciA9IHRoaXMuY29udGFpbmVyXG4gICAgICAgIC5nZXRQcm92aWRlcigncGxhdGZvcm0tbG9nZ2VyJylcbiAgICAgICAgLmdldEltbWVkaWF0ZSgpO1xuXG4gICAgICAvLyBUaGlzIGlzIHRoZSBcIkZpcmViYXNlIHVzZXIgYWdlbnRcIiBzdHJpbmcgZnJvbSB0aGUgcGxhdGZvcm0gbG9nZ2VyXG4gICAgICAvLyBzZXJ2aWNlLCBub3QgdGhlIGJyb3dzZXIgdXNlciBhZ2VudC5cbiAgICAgIGNvbnN0IGFnZW50ID0gcGxhdGZvcm1Mb2dnZXIuZ2V0UGxhdGZvcm1JbmZvU3RyaW5nKCk7XG4gICAgICBjb25zdCBkYXRlID0gZ2V0VVRDRGF0ZVN0cmluZygpO1xuICAgICAgaWYgKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZT8uaGVhcnRiZWF0cyA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSA9IGF3YWl0IHRoaXMuX2hlYXJ0YmVhdHNDYWNoZVByb21pc2U7XG4gICAgICAgIC8vIElmIHdlIGZhaWxlZCB0byBjb25zdHJ1Y3QgYSBoZWFydGJlYXRzIGNhY2hlLCB0aGVuIHJldHVybiBpbW1lZGlhdGVseS5cbiAgICAgICAgaWYgKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZT8uaGVhcnRiZWF0cyA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBEbyBub3Qgc3RvcmUgYSBoZWFydGJlYXQgaWYgb25lIGlzIGFscmVhZHkgc3RvcmVkIGZvciB0aGlzIGRheVxuICAgICAgLy8gb3IgaWYgYSBoZWFkZXIgaGFzIGFscmVhZHkgYmVlbiBzZW50IHRvZGF5LlxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUubGFzdFNlbnRIZWFydGJlYXREYXRlID09PSBkYXRlIHx8XG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzLnNvbWUoXG4gICAgICAgICAgc2luZ2xlRGF0ZUhlYXJ0YmVhdCA9PiBzaW5nbGVEYXRlSGVhcnRiZWF0LmRhdGUgPT09IGRhdGVcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIGVudHJ5IGZvciB0aGlzIGRhdGUuIENyZWF0ZSBvbmUuXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzLnB1c2goeyBkYXRlLCBhZ2VudCB9KTtcbiAgICAgIH1cbiAgICAgIC8vIFJlbW92ZSBlbnRyaWVzIG9sZGVyIHRoYW4gMzAgZGF5cy5cbiAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzID1cbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMuZmlsdGVyKHNpbmdsZURhdGVIZWFydGJlYXQgPT4ge1xuICAgICAgICAgIGNvbnN0IGhiVGltZXN0YW1wID0gbmV3IERhdGUoc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlKS52YWx1ZU9mKCk7XG4gICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICByZXR1cm4gbm93IC0gaGJUaW1lc3RhbXAgPD0gU1RPUkVEX0hFQVJUQkVBVF9SRVRFTlRJT05fTUFYX01JTExJUztcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy5fc3RvcmFnZS5vdmVyd3JpdGUodGhpcy5faGVhcnRiZWF0c0NhY2hlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIud2FybihlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZyB3aGljaCBjYW4gYmUgYXR0YWNoZWQgdG8gdGhlIGhlYXJ0YmVhdC1zcGVjaWZpYyBoZWFkZXIgZGlyZWN0bHkuXG4gICAqIEl0IGFsc28gY2xlYXJzIGFsbCBoZWFydGJlYXRzIGZyb20gbWVtb3J5IGFzIHdlbGwgYXMgaW4gSW5kZXhlZERCLlxuICAgKlxuICAgKiBOT1RFOiBDb25zdW1pbmcgcHJvZHVjdCBTREtzIHNob3VsZCBub3Qgc2VuZCB0aGUgaGVhZGVyIGlmIHRoaXMgbWV0aG9kXG4gICAqIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICAgKi9cbiAgYXN5bmMgZ2V0SGVhcnRiZWF0c0hlYWRlcigpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5faGVhcnRiZWF0c0NhY2hlID09PSBudWxsKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuX2hlYXJ0YmVhdHNDYWNoZVByb21pc2U7XG4gICAgICB9XG4gICAgICAvLyBJZiBpdCdzIHN0aWxsIG51bGwgb3IgdGhlIGFycmF5IGlzIGVtcHR5LCB0aGVyZSBpcyBubyBkYXRhIHRvIHNlbmQuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZT8uaGVhcnRiZWF0cyA9PSBudWxsIHx8XG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzLmxlbmd0aCA9PT0gMFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGUgPSBnZXRVVENEYXRlU3RyaW5nKCk7XG4gICAgICAvLyBFeHRyYWN0IGFzIG1hbnkgaGVhcnRiZWF0cyBmcm9tIHRoZSBjYWNoZSBhcyB3aWxsIGZpdCB1bmRlciB0aGUgc2l6ZSBsaW1pdC5cbiAgICAgIGNvbnN0IHsgaGVhcnRiZWF0c1RvU2VuZCwgdW5zZW50RW50cmllcyB9ID0gZXh0cmFjdEhlYXJ0YmVhdHNGb3JIZWFkZXIoXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzXG4gICAgICApO1xuICAgICAgY29uc3QgaGVhZGVyU3RyaW5nID0gYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHsgdmVyc2lvbjogMiwgaGVhcnRiZWF0czogaGVhcnRiZWF0c1RvU2VuZCB9KVxuICAgICAgKTtcbiAgICAgIC8vIFN0b3JlIGxhc3Qgc2VudCBkYXRlIHRvIHByZXZlbnQgYW5vdGhlciBiZWluZyBsb2dnZWQvc2VudCBmb3IgdGhlIHNhbWUgZGF5LlxuICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmxhc3RTZW50SGVhcnRiZWF0RGF0ZSA9IGRhdGU7XG4gICAgICBpZiAodW5zZW50RW50cmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFN0b3JlIGFueSB1bnNlbnQgZW50cmllcyBpZiB0aGV5IGV4aXN0LlxuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cyA9IHVuc2VudEVudHJpZXM7XG4gICAgICAgIC8vIFRoaXMgc2VlbXMgbW9yZSBsaWtlbHkgdGhhbiBlbXB0eWluZyB0aGUgYXJyYXkgKGJlbG93KSB0byBsZWFkIHRvIHNvbWUgb2RkIHN0YXRlXG4gICAgICAgIC8vIHNpbmNlIHRoZSBjYWNoZSBpc24ndCBlbXB0eSBhbmQgdGhpcyB3aWxsIGJlIGNhbGxlZCBhZ2FpbiBvbiB0aGUgbmV4dCByZXF1ZXN0LFxuICAgICAgICAvLyBhbmQgaXMgcHJvYmFibHkgc2FmZXN0IGlmIHdlIGF3YWl0IGl0LlxuICAgICAgICBhd2FpdCB0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMgPSBbXTtcbiAgICAgICAgLy8gRG8gbm90IHdhaXQgZm9yIHRoaXMsIHRvIHJlZHVjZSBsYXRlbmN5LlxuICAgICAgICB2b2lkIHRoaXMuX3N0b3JhZ2Uub3ZlcndyaXRlKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGVhZGVyU3RyaW5nO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci53YXJuKGUpO1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRVVENEYXRlU3RyaW5nKCk6IHN0cmluZyB7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgLy8gUmV0dXJucyBkYXRlIGZvcm1hdCAnWVlZWS1NTS1ERCdcbiAgcmV0dXJuIHRvZGF5LnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RIZWFydGJlYXRzRm9ySGVhZGVyKFxuICBoZWFydGJlYXRzQ2FjaGU6IFNpbmdsZURhdGVIZWFydGJlYXRbXSxcbiAgbWF4U2l6ZSA9IE1BWF9IRUFERVJfQllURVNcbik6IHtcbiAgaGVhcnRiZWF0c1RvU2VuZDogSGVhcnRiZWF0c0J5VXNlckFnZW50W107XG4gIHVuc2VudEVudHJpZXM6IFNpbmdsZURhdGVIZWFydGJlYXRbXTtcbn0ge1xuICAvLyBIZWFydGJlYXRzIGdyb3VwZWQgYnkgdXNlciBhZ2VudCBpbiB0aGUgc3RhbmRhcmQgZm9ybWF0IHRvIGJlIHNlbnQgaW5cbiAgLy8gdGhlIGhlYWRlci5cbiAgY29uc3QgaGVhcnRiZWF0c1RvU2VuZDogSGVhcnRiZWF0c0J5VXNlckFnZW50W10gPSBbXTtcbiAgLy8gU2luZ2xlIGRhdGUgZm9ybWF0IGhlYXJ0YmVhdHMgdGhhdCBhcmUgbm90IHNlbnQuXG4gIGxldCB1bnNlbnRFbnRyaWVzID0gaGVhcnRiZWF0c0NhY2hlLnNsaWNlKCk7XG4gIGZvciAoY29uc3Qgc2luZ2xlRGF0ZUhlYXJ0YmVhdCBvZiBoZWFydGJlYXRzQ2FjaGUpIHtcbiAgICAvLyBMb29rIGZvciBhbiBleGlzdGluZyBlbnRyeSB3aXRoIHRoZSBzYW1lIHVzZXIgYWdlbnQuXG4gICAgY29uc3QgaGVhcnRiZWF0RW50cnkgPSBoZWFydGJlYXRzVG9TZW5kLmZpbmQoXG4gICAgICBoYiA9PiBoYi5hZ2VudCA9PT0gc2luZ2xlRGF0ZUhlYXJ0YmVhdC5hZ2VudFxuICAgICk7XG4gICAgaWYgKCFoZWFydGJlYXRFbnRyeSkge1xuICAgICAgLy8gSWYgbm8gZW50cnkgZm9yIHRoaXMgdXNlciBhZ2VudCBleGlzdHMsIGNyZWF0ZSBvbmUuXG4gICAgICBoZWFydGJlYXRzVG9TZW5kLnB1c2goe1xuICAgICAgICBhZ2VudDogc2luZ2xlRGF0ZUhlYXJ0YmVhdC5hZ2VudCxcbiAgICAgICAgZGF0ZXM6IFtzaW5nbGVEYXRlSGVhcnRiZWF0LmRhdGVdXG4gICAgICB9KTtcbiAgICAgIGlmIChjb3VudEJ5dGVzKGhlYXJ0YmVhdHNUb1NlbmQpID4gbWF4U2l6ZSkge1xuICAgICAgICAvLyBJZiB0aGUgaGVhZGVyIHdvdWxkIGV4Y2VlZCBtYXggc2l6ZSwgcmVtb3ZlIHRoZSBhZGRlZCBoZWFydGJlYXRcbiAgICAgICAgLy8gZW50cnkgYW5kIHN0b3AgYWRkaW5nIHRvIHRoZSBoZWFkZXIuXG4gICAgICAgIGhlYXJ0YmVhdHNUb1NlbmQucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoZWFydGJlYXRFbnRyeS5kYXRlcy5wdXNoKHNpbmdsZURhdGVIZWFydGJlYXQuZGF0ZSk7XG4gICAgICAvLyBJZiB0aGUgaGVhZGVyIHdvdWxkIGV4Y2VlZCBtYXggc2l6ZSwgcmVtb3ZlIHRoZSBhZGRlZCBkYXRlXG4gICAgICAvLyBhbmQgc3RvcCBhZGRpbmcgdG8gdGhlIGhlYWRlci5cbiAgICAgIGlmIChjb3VudEJ5dGVzKGhlYXJ0YmVhdHNUb1NlbmQpID4gbWF4U2l6ZSkge1xuICAgICAgICBoZWFydGJlYXRFbnRyeS5kYXRlcy5wb3AoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFBvcCB1bnNlbnQgZW50cnkgZnJvbSBxdWV1ZS4gKFNraXBwZWQgaWYgYWRkaW5nIHRoZSBlbnRyeSBleGNlZWRlZFxuICAgIC8vIHF1b3RhIGFuZCB0aGUgbG9vcCBicmVha3MgZWFybHkuKVxuICAgIHVuc2VudEVudHJpZXMgPSB1bnNlbnRFbnRyaWVzLnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiB7XG4gICAgaGVhcnRiZWF0c1RvU2VuZCxcbiAgICB1bnNlbnRFbnRyaWVzXG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBIZWFydGJlYXRTdG9yYWdlSW1wbCBpbXBsZW1lbnRzIEhlYXJ0YmVhdFN0b3JhZ2Uge1xuICBwcml2YXRlIF9jYW5Vc2VJbmRleGVkREJQcm9taXNlOiBQcm9taXNlPGJvb2xlYW4+O1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgYXBwOiBGaXJlYmFzZUFwcCkge1xuICAgIHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2UgPSB0aGlzLnJ1bkluZGV4ZWREQkVudmlyb25tZW50Q2hlY2soKTtcbiAgfVxuICBhc3luYyBydW5JbmRleGVkREJFbnZpcm9ubWVudENoZWNrKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGlmICghaXNJbmRleGVkREJBdmFpbGFibGUoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHRydWUpXG4gICAgICAgIC5jYXRjaCgoKSA9PiBmYWxzZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZWFkIGFsbCBoZWFydGJlYXRzLlxuICAgKi9cbiAgYXN5bmMgcmVhZCgpOiBQcm9taXNlPEhlYXJ0YmVhdHNJbkluZGV4ZWREQj4ge1xuICAgIGNvbnN0IGNhblVzZUluZGV4ZWREQiA9IGF3YWl0IHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2U7XG4gICAgaWYgKCFjYW5Vc2VJbmRleGVkREIpIHtcbiAgICAgIHJldHVybiB7IGhlYXJ0YmVhdHM6IFtdIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlkYkhlYXJ0YmVhdE9iamVjdCA9IGF3YWl0IHJlYWRIZWFydGJlYXRzRnJvbUluZGV4ZWREQih0aGlzLmFwcCk7XG4gICAgICBpZiAoaWRiSGVhcnRiZWF0T2JqZWN0Py5oZWFydGJlYXRzKSB7XG4gICAgICAgIHJldHVybiBpZGJIZWFydGJlYXRPYmplY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyBoZWFydGJlYXRzOiBbXSB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBvdmVyd3JpdGUgdGhlIHN0b3JhZ2Ugd2l0aCB0aGUgcHJvdmlkZWQgaGVhcnRiZWF0c1xuICBhc3luYyBvdmVyd3JpdGUoaGVhcnRiZWF0c09iamVjdDogSGVhcnRiZWF0c0luSW5kZXhlZERCKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY2FuVXNlSW5kZXhlZERCID0gYXdhaXQgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZTtcbiAgICBpZiAoIWNhblVzZUluZGV4ZWREQikge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QgPSBhd2FpdCB0aGlzLnJlYWQoKTtcbiAgICAgIHJldHVybiB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQih0aGlzLmFwcCwge1xuICAgICAgICBsYXN0U2VudEhlYXJ0YmVhdERhdGU6XG4gICAgICAgICAgaGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPz9cbiAgICAgICAgICBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlLFxuICAgICAgICBoZWFydGJlYXRzOiBoZWFydGJlYXRzT2JqZWN0LmhlYXJ0YmVhdHNcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvLyBhZGQgaGVhcnRiZWF0c1xuICBhc3luYyBhZGQoaGVhcnRiZWF0c09iamVjdDogSGVhcnRiZWF0c0luSW5kZXhlZERCKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgY2FuVXNlSW5kZXhlZERCID0gYXdhaXQgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZTtcbiAgICBpZiAoIWNhblVzZUluZGV4ZWREQikge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QgPSBhd2FpdCB0aGlzLnJlYWQoKTtcbiAgICAgIHJldHVybiB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQih0aGlzLmFwcCwge1xuICAgICAgICBsYXN0U2VudEhlYXJ0YmVhdERhdGU6XG4gICAgICAgICAgaGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPz9cbiAgICAgICAgICBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlLFxuICAgICAgICBoZWFydGJlYXRzOiBbXG4gICAgICAgICAgLi4uZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0LmhlYXJ0YmVhdHMsXG4gICAgICAgICAgLi4uaGVhcnRiZWF0c09iamVjdC5oZWFydGJlYXRzXG4gICAgICAgIF1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBieXRlcyBvZiBhIEhlYXJ0YmVhdHNCeVVzZXJBZ2VudCBhcnJheSBhZnRlciBiZWluZyB3cmFwcGVkXG4gKiBpbiBhIHBsYXRmb3JtIGxvZ2dpbmcgaGVhZGVyIEpTT04gb2JqZWN0LCBzdHJpbmdpZmllZCwgYW5kIGNvbnZlcnRlZFxuICogdG8gYmFzZSA2NC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvdW50Qnl0ZXMoaGVhcnRiZWF0c0NhY2hlOiBIZWFydGJlYXRzQnlVc2VyQWdlbnRbXSk6IG51bWJlciB7XG4gIC8vIGJhc2U2NCBoYXMgYSByZXN0cmljdGVkIHNldCBvZiBjaGFyYWN0ZXJzLCBhbGwgb2Ygd2hpY2ggc2hvdWxkIGJlIDEgYnl0ZS5cbiAgcmV0dXJuIGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nKFxuICAgIC8vIGhlYXJ0YmVhdHNDYWNoZSB3cmFwcGVyIHByb3BlcnRpZXNcbiAgICBKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IDIsIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNDYWNoZSB9KVxuICApLmxlbmd0aDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIENvbXBvbmVudFR5cGUgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IFBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwgfSBmcm9tICcuL3BsYXRmb3JtTG9nZ2VyU2VydmljZSc7XG5pbXBvcnQgeyBuYW1lLCB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZS5qc29uJztcbmltcG9ydCB7IF9yZWdpc3RlckNvbXBvbmVudCB9IGZyb20gJy4vaW50ZXJuYWwnO1xuaW1wb3J0IHsgcmVnaXN0ZXJWZXJzaW9uIH0gZnJvbSAnLi9hcGknO1xuaW1wb3J0IHsgSGVhcnRiZWF0U2VydmljZUltcGwgfSBmcm9tICcuL2hlYXJ0YmVhdFNlcnZpY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJDb3JlQ29tcG9uZW50cyh2YXJpYW50Pzogc3RyaW5nKTogdm9pZCB7XG4gIF9yZWdpc3RlckNvbXBvbmVudChcbiAgICBuZXcgQ29tcG9uZW50KFxuICAgICAgJ3BsYXRmb3JtLWxvZ2dlcicsXG4gICAgICBjb250YWluZXIgPT4gbmV3IFBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwoY29udGFpbmVyKSxcbiAgICAgIENvbXBvbmVudFR5cGUuUFJJVkFURVxuICAgIClcbiAgKTtcbiAgX3JlZ2lzdGVyQ29tcG9uZW50KFxuICAgIG5ldyBDb21wb25lbnQoXG4gICAgICAnaGVhcnRiZWF0JyxcbiAgICAgIGNvbnRhaW5lciA9PiBuZXcgSGVhcnRiZWF0U2VydmljZUltcGwoY29udGFpbmVyKSxcbiAgICAgIENvbXBvbmVudFR5cGUuUFJJVkFURVxuICAgIClcbiAgKTtcblxuICAvLyBSZWdpc3RlciBgYXBwYCBwYWNrYWdlLlxuICByZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgdmFyaWFudCk7XG4gIC8vIEJVSUxEX1RBUkdFVCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHZhbHVlcyBsaWtlIGVzbTUsIGVzbTIwMTcsIGNqczUsIGV0YyBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uXG4gIHJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCAnX19CVUlMRF9UQVJHRVRfXycpO1xuICAvLyBSZWdpc3RlciBwbGF0Zm9ybSBTREsgaWRlbnRpZmllciAobm8gdmVyc2lvbikuXG4gIHJlZ2lzdGVyVmVyc2lvbignZmlyZS1qcycsICcnKTtcbn1cbiIsICIvKipcbiAqIEZpcmViYXNlIEFwcFxuICpcbiAqIEByZW1hcmtzIFRoaXMgcGFja2FnZSBjb29yZGluYXRlcyB0aGUgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIHRoZSBkaWZmZXJlbnQgRmlyZWJhc2UgY29tcG9uZW50c1xuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgcmVnaXN0ZXJDb3JlQ29tcG9uZW50cyB9IGZyb20gJy4vcmVnaXN0ZXJDb3JlQ29tcG9uZW50cyc7XG5cbmV4cG9ydCAqIGZyb20gJy4vYXBpJztcbmV4cG9ydCAqIGZyb20gJy4vaW50ZXJuYWwnO1xuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtdHlwZXMnO1xuXG5yZWdpc3RlckNvcmVDb21wb25lbnRzKCdfX1JVTlRJTUVfRU5WX18nKTtcbiIsICIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XG4gIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEFzeW5jSXRlcmF0b3IgPT09IFwiZnVuY3Rpb25cIiA/IEFzeW5jSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSksIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAoZ1tuXSkgeyBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyBpZiAoZikgaVtuXSA9IGYoaVtuXSk7IH0gfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxudmFyIG93bktleXMgPSBmdW5jdGlvbihvKSB7XG4gIG93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBhciA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XG4gICAgcmV0dXJuIGFyO1xuICB9O1xuICByZXR1cm4gb3duS2V5cyhvKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrID0gb3duS2V5cyhtb2QpLCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpKyspIGlmIChrW2ldICE9PSBcImRlZmF1bHRcIikgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrW2ldKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xuICAgIGlmIChhc3luYykge1xuICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgdmFyIHIsIHMgPSAwO1xuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChyID0gZW52LnN0YWNrLnBvcCgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIXIuYXN5bmMgJiYgcyA9PT0gMSkgcmV0dXJuIHMgPSAwLCBlbnYuc3RhY2sucHVzaChyKSwgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihuZXh0KTtcbiAgICAgICAgaWYgKHIuZGlzcG9zZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSByLmRpc3Bvc2UuY2FsbChyLnZhbHVlKTtcbiAgICAgICAgICBpZiAoci5hc3luYykgcmV0dXJuIHMgfD0gMiwgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcyB8PSAxO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHMgPT09IDEpIHJldHVybiBlbnYuaGFzRXJyb3IgPyBQcm9taXNlLnJlamVjdChlbnYuZXJyb3IpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbihwYXRoLCBwcmVzZXJ2ZUpzeCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgJiYgL15cXC5cXC4/XFwvLy50ZXN0KHBhdGgpKSB7XG4gICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC4odHN4KSR8KCg/OlxcLmQpPykoKD86XFwuW14uL10rPyk/KVxcLihbY21dPyl0cyQvaSwgZnVuY3Rpb24gKG0sIHRzeCwgZCwgZXh0LCBjbSkge1xuICAgICAgICAgIHJldHVybiB0c3ggPyBwcmVzZXJ2ZUpzeCA/IFwiLmpzeFwiIDogXCIuanNcIiA6IGQgJiYgKCFleHQgfHwgIWNtKSA/IG0gOiAoZCArIGV4dCArIFwiLlwiICsgY20udG9Mb3dlckNhc2UoKSArIFwianNcIik7XG4gICAgICB9KTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fZXNEZWNvcmF0ZSxcbiAgX19ydW5Jbml0aWFsaXplcnMsXG4gIF9fcHJvcEtleSxcbiAgX19zZXRGdW5jdGlvbk5hbWUsXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxuICBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbixcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBBbiBlbnVtIG9mIGZhY3RvcnMgdGhhdCBtYXkgYmUgdXNlZCBmb3IgbXVsdGlmYWN0b3IgYXV0aGVudGljYXRpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRmFjdG9ySWQgPSB7XG4gIC8qKiBQaG9uZSBhcyBzZWNvbmQgZmFjdG9yICovXG4gIFBIT05FOiAncGhvbmUnLFxuICBUT1RQOiAndG90cCdcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogRW51bWVyYXRpb24gb2Ygc3VwcG9ydGVkIHByb3ZpZGVycy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBQcm92aWRlcklkID0ge1xuICAvKiogRmFjZWJvb2sgcHJvdmlkZXIgSUQgKi9cbiAgRkFDRUJPT0s6ICdmYWNlYm9vay5jb20nLFxuICAvKiogR2l0SHViIHByb3ZpZGVyIElEICovXG4gIEdJVEhVQjogJ2dpdGh1Yi5jb20nLFxuICAvKiogR29vZ2xlIHByb3ZpZGVyIElEICovXG4gIEdPT0dMRTogJ2dvb2dsZS5jb20nLFxuICAvKiogUGFzc3dvcmQgcHJvdmlkZXIgKi9cbiAgUEFTU1dPUkQ6ICdwYXNzd29yZCcsXG4gIC8qKiBQaG9uZSBwcm92aWRlciAqL1xuICBQSE9ORTogJ3Bob25lJyxcbiAgLyoqIFR3aXR0ZXIgcHJvdmlkZXIgSUQgKi9cbiAgVFdJVFRFUjogJ3R3aXR0ZXIuY29tJ1xufSBhcyBjb25zdDtcblxuLyoqXG4gKiBFbnVtZXJhdGlvbiBvZiBzdXBwb3J0ZWQgc2lnbi1pbiBtZXRob2RzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNpZ25Jbk1ldGhvZCA9IHtcbiAgLyoqIEVtYWlsIGxpbmsgc2lnbiBpbiBtZXRob2QgKi9cbiAgRU1BSUxfTElOSzogJ2VtYWlsTGluaycsXG4gIC8qKiBFbWFpbC9wYXNzd29yZCBzaWduIGluIG1ldGhvZCAqL1xuICBFTUFJTF9QQVNTV09SRDogJ3Bhc3N3b3JkJyxcbiAgLyoqIEZhY2Vib29rIHNpZ24gaW4gbWV0aG9kICovXG4gIEZBQ0VCT09LOiAnZmFjZWJvb2suY29tJyxcbiAgLyoqIEdpdEh1YiBzaWduIGluIG1ldGhvZCAqL1xuICBHSVRIVUI6ICdnaXRodWIuY29tJyxcbiAgLyoqIEdvb2dsZSBzaWduIGluIG1ldGhvZCAqL1xuICBHT09HTEU6ICdnb29nbGUuY29tJyxcbiAgLyoqIFBob25lIHNpZ24gaW4gbWV0aG9kICovXG4gIFBIT05FOiAncGhvbmUnLFxuICAvKiogVHdpdHRlciBzaWduIGluIG1ldGhvZCAqL1xuICBUV0lUVEVSOiAndHdpdHRlci5jb20nXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIEVudW1lcmF0aW9uIG9mIHN1cHBvcnRlZCBvcGVyYXRpb24gdHlwZXMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgT3BlcmF0aW9uVHlwZSA9IHtcbiAgLyoqIE9wZXJhdGlvbiBpbnZvbHZpbmcgbGlua2luZyBhbiBhZGRpdGlvbmFsIHByb3ZpZGVyIHRvIGFuIGFscmVhZHkgc2lnbmVkLWluIHVzZXIuICovXG4gIExJTks6ICdsaW5rJyxcbiAgLyoqIE9wZXJhdGlvbiBpbnZvbHZpbmcgdXNpbmcgYSBwcm92aWRlciB0byByZWF1dGhlbnRpY2F0ZSBhbiBhbHJlYWR5IHNpZ25lZC1pbiB1c2VyLiAqL1xuICBSRUFVVEhFTlRJQ0FURTogJ3JlYXV0aGVudGljYXRlJyxcbiAgLyoqIE9wZXJhdGlvbiBpbnZvbHZpbmcgc2lnbmluZyBpbiBhIHVzZXIuICovXG4gIFNJR05fSU46ICdzaWduSW4nXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIEFuIGVudW1lcmF0aW9uIG9mIHRoZSBwb3NzaWJsZSBlbWFpbCBhY3Rpb24gdHlwZXMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgQWN0aW9uQ29kZU9wZXJhdGlvbiA9IHtcbiAgLyoqIFRoZSBlbWFpbCBsaW5rIHNpZ24taW4gYWN0aW9uLiAqL1xuICBFTUFJTF9TSUdOSU46ICdFTUFJTF9TSUdOSU4nLFxuICAvKiogVGhlIHBhc3N3b3JkIHJlc2V0IGFjdGlvbi4gKi9cbiAgUEFTU1dPUkRfUkVTRVQ6ICdQQVNTV09SRF9SRVNFVCcsXG4gIC8qKiBUaGUgZW1haWwgcmV2b2NhdGlvbiBhY3Rpb24uICovXG4gIFJFQ09WRVJfRU1BSUw6ICdSRUNPVkVSX0VNQUlMJyxcbiAgLyoqIFRoZSByZXZlcnQgc2Vjb25kIGZhY3RvciBhZGRpdGlvbiBlbWFpbCBhY3Rpb24uICovXG4gIFJFVkVSVF9TRUNPTkRfRkFDVE9SX0FERElUSU9OOiAnUkVWRVJUX1NFQ09ORF9GQUNUT1JfQURESVRJT04nLFxuICAvKiogVGhlIHJldmVydCBzZWNvbmQgZmFjdG9yIGFkZGl0aW9uIGVtYWlsIGFjdGlvbi4gKi9cbiAgVkVSSUZZX0FORF9DSEFOR0VfRU1BSUw6ICdWRVJJRllfQU5EX0NIQU5HRV9FTUFJTCcsXG4gIC8qKiBUaGUgZW1haWwgdmVyaWZpY2F0aW9uIGFjdGlvbi4gKi9cbiAgVkVSSUZZX0VNQUlMOiAnVkVSSUZZX0VNQUlMJ1xufSBhcyBjb25zdDtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoRXJyb3JNYXAsIFVzZXIgfSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgRXJyb3JGYWN0b3J5LCBFcnJvck1hcCB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgSWRUb2tlbk1mYVJlc3BvbnNlIH0gZnJvbSAnLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBBcHBOYW1lIH0gZnJvbSAnLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vY3JlZGVudGlhbHMnO1xuXG4vKipcbiAqIEVudW1lcmF0aW9uIG9mIEZpcmViYXNlIEF1dGggZXJyb3IgY29kZXMuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIEF1dGhFcnJvckNvZGUge1xuICBBRE1JTl9PTkxZX09QRVJBVElPTiA9ICdhZG1pbi1yZXN0cmljdGVkLW9wZXJhdGlvbicsXG4gIEFSR1VNRU5UX0VSUk9SID0gJ2FyZ3VtZW50LWVycm9yJyxcbiAgQVBQX05PVF9BVVRIT1JJWkVEID0gJ2FwcC1ub3QtYXV0aG9yaXplZCcsXG4gIEFQUF9OT1RfSU5TVEFMTEVEID0gJ2FwcC1ub3QtaW5zdGFsbGVkJyxcbiAgQ0FQVENIQV9DSEVDS19GQUlMRUQgPSAnY2FwdGNoYS1jaGVjay1mYWlsZWQnLFxuICBDT0RFX0VYUElSRUQgPSAnY29kZS1leHBpcmVkJyxcbiAgQ09SRE9WQV9OT1RfUkVBRFkgPSAnY29yZG92YS1ub3QtcmVhZHknLFxuICBDT1JTX1VOU1VQUE9SVEVEID0gJ2NvcnMtdW5zdXBwb3J0ZWQnLFxuICBDUkVERU5USUFMX0FMUkVBRFlfSU5fVVNFID0gJ2NyZWRlbnRpYWwtYWxyZWFkeS1pbi11c2UnLFxuICBDUkVERU5USUFMX01JU01BVENIID0gJ2N1c3RvbS10b2tlbi1taXNtYXRjaCcsXG4gIENSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTiA9ICdyZXF1aXJlcy1yZWNlbnQtbG9naW4nLFxuICBERVBFTkRFTlRfU0RLX0lOSVRfQkVGT1JFX0FVVEggPSAnZGVwZW5kZW50LXNkay1pbml0aWFsaXplZC1iZWZvcmUtYXV0aCcsXG4gIERZTkFNSUNfTElOS19OT1RfQUNUSVZBVEVEID0gJ2R5bmFtaWMtbGluay1ub3QtYWN0aXZhdGVkJyxcbiAgRU1BSUxfQ0hBTkdFX05FRURTX1ZFUklGSUNBVElPTiA9ICdlbWFpbC1jaGFuZ2UtbmVlZHMtdmVyaWZpY2F0aW9uJyxcbiAgRU1BSUxfRVhJU1RTID0gJ2VtYWlsLWFscmVhZHktaW4tdXNlJyxcbiAgRU1VTEFUT1JfQ09ORklHX0ZBSUxFRCA9ICdlbXVsYXRvci1jb25maWctZmFpbGVkJyxcbiAgRVhQSVJFRF9PT0JfQ09ERSA9ICdleHBpcmVkLWFjdGlvbi1jb2RlJyxcbiAgRVhQSVJFRF9QT1BVUF9SRVFVRVNUID0gJ2NhbmNlbGxlZC1wb3B1cC1yZXF1ZXN0JyxcbiAgSU5URVJOQUxfRVJST1IgPSAnaW50ZXJuYWwtZXJyb3InLFxuICBJTlZBTElEX0FQSV9LRVkgPSAnaW52YWxpZC1hcGkta2V5JyxcbiAgSU5WQUxJRF9BUFBfQ1JFREVOVElBTCA9ICdpbnZhbGlkLWFwcC1jcmVkZW50aWFsJyxcbiAgSU5WQUxJRF9BUFBfSUQgPSAnaW52YWxpZC1hcHAtaWQnLFxuICBJTlZBTElEX0FVVEggPSAnaW52YWxpZC11c2VyLXRva2VuJyxcbiAgSU5WQUxJRF9BVVRIX0VWRU5UID0gJ2ludmFsaWQtYXV0aC1ldmVudCcsXG4gIElOVkFMSURfQ0VSVF9IQVNIID0gJ2ludmFsaWQtY2VydC1oYXNoJyxcbiAgSU5WQUxJRF9DT0RFID0gJ2ludmFsaWQtdmVyaWZpY2F0aW9uLWNvZGUnLFxuICBJTlZBTElEX0NPTlRJTlVFX1VSSSA9ICdpbnZhbGlkLWNvbnRpbnVlLXVyaScsXG4gIElOVkFMSURfQ09SRE9WQV9DT05GSUdVUkFUSU9OID0gJ2ludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uJyxcbiAgSU5WQUxJRF9DVVNUT01fVE9LRU4gPSAnaW52YWxpZC1jdXN0b20tdG9rZW4nLFxuICBJTlZBTElEX0RZTkFNSUNfTElOS19ET01BSU4gPSAnaW52YWxpZC1keW5hbWljLWxpbmstZG9tYWluJyxcbiAgSU5WQUxJRF9FTUFJTCA9ICdpbnZhbGlkLWVtYWlsJyxcbiAgSU5WQUxJRF9FTVVMQVRPUl9TQ0hFTUUgPSAnaW52YWxpZC1lbXVsYXRvci1zY2hlbWUnLFxuICBJTlZBTElEX0NSRURFTlRJQUwgPSAnaW52YWxpZC1jcmVkZW50aWFsJyxcbiAgSU5WQUxJRF9NRVNTQUdFX1BBWUxPQUQgPSAnaW52YWxpZC1tZXNzYWdlLXBheWxvYWQnLFxuICBJTlZBTElEX01GQV9TRVNTSU9OID0gJ2ludmFsaWQtbXVsdGktZmFjdG9yLXNlc3Npb24nLFxuICBJTlZBTElEX09BVVRIX0NMSUVOVF9JRCA9ICdpbnZhbGlkLW9hdXRoLWNsaWVudC1pZCcsXG4gIElOVkFMSURfT0FVVEhfUFJPVklERVIgPSAnaW52YWxpZC1vYXV0aC1wcm92aWRlcicsXG4gIElOVkFMSURfT09CX0NPREUgPSAnaW52YWxpZC1hY3Rpb24tY29kZScsXG4gIElOVkFMSURfT1JJR0lOID0gJ3VuYXV0aG9yaXplZC1kb21haW4nLFxuICBJTlZBTElEX1BBU1NXT1JEID0gJ3dyb25nLXBhc3N3b3JkJyxcbiAgSU5WQUxJRF9QRVJTSVNURU5DRSA9ICdpbnZhbGlkLXBlcnNpc3RlbmNlLXR5cGUnLFxuICBJTlZBTElEX1BIT05FX05VTUJFUiA9ICdpbnZhbGlkLXBob25lLW51bWJlcicsXG4gIElOVkFMSURfUFJPVklERVJfSUQgPSAnaW52YWxpZC1wcm92aWRlci1pZCcsXG4gIElOVkFMSURfUkVDSVBJRU5UX0VNQUlMID0gJ2ludmFsaWQtcmVjaXBpZW50LWVtYWlsJyxcbiAgSU5WQUxJRF9TRU5ERVIgPSAnaW52YWxpZC1zZW5kZXInLFxuICBJTlZBTElEX1NFU1NJT05fSU5GTyA9ICdpbnZhbGlkLXZlcmlmaWNhdGlvbi1pZCcsXG4gIElOVkFMSURfVEVOQU5UX0lEID0gJ2ludmFsaWQtdGVuYW50LWlkJyxcbiAgTE9HSU5fQkxPQ0tFRCA9ICdsb2dpbi1ibG9ja2VkJyxcbiAgTUZBX0lORk9fTk9UX0ZPVU5EID0gJ211bHRpLWZhY3Rvci1pbmZvLW5vdC1mb3VuZCcsXG4gIE1GQV9SRVFVSVJFRCA9ICdtdWx0aS1mYWN0b3ItYXV0aC1yZXF1aXJlZCcsXG4gIE1JU1NJTkdfQU5EUk9JRF9QQUNLQUdFX05BTUUgPSAnbWlzc2luZy1hbmRyb2lkLXBrZy1uYW1lJyxcbiAgTUlTU0lOR19BUFBfQ1JFREVOVElBTCA9ICdtaXNzaW5nLWFwcC1jcmVkZW50aWFsJyxcbiAgTUlTU0lOR19BVVRIX0RPTUFJTiA9ICdhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWQnLFxuICBNSVNTSU5HX0NPREUgPSAnbWlzc2luZy12ZXJpZmljYXRpb24tY29kZScsXG4gIE1JU1NJTkdfQ09OVElOVUVfVVJJID0gJ21pc3NpbmctY29udGludWUtdXJpJyxcbiAgTUlTU0lOR19JRlJBTUVfU1RBUlQgPSAnbWlzc2luZy1pZnJhbWUtc3RhcnQnLFxuICBNSVNTSU5HX0lPU19CVU5ETEVfSUQgPSAnbWlzc2luZy1pb3MtYnVuZGxlLWlkJyxcbiAgTUlTU0lOR19PUl9JTlZBTElEX05PTkNFID0gJ21pc3Npbmctb3ItaW52YWxpZC1ub25jZScsXG4gIE1JU1NJTkdfTUZBX0lORk8gPSAnbWlzc2luZy1tdWx0aS1mYWN0b3ItaW5mbycsXG4gIE1JU1NJTkdfTUZBX1NFU1NJT04gPSAnbWlzc2luZy1tdWx0aS1mYWN0b3Itc2Vzc2lvbicsXG4gIE1JU1NJTkdfUEhPTkVfTlVNQkVSID0gJ21pc3NpbmctcGhvbmUtbnVtYmVyJyxcbiAgTUlTU0lOR19QQVNTV09SRCA9ICdtaXNzaW5nLXBhc3N3b3JkJyxcbiAgTUlTU0lOR19TRVNTSU9OX0lORk8gPSAnbWlzc2luZy12ZXJpZmljYXRpb24taWQnLFxuICBNT0RVTEVfREVTVFJPWUVEID0gJ2FwcC1kZWxldGVkJyxcbiAgTkVFRF9DT05GSVJNQVRJT04gPSAnYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCcsXG4gIE5FVFdPUktfUkVRVUVTVF9GQUlMRUQgPSAnbmV0d29yay1yZXF1ZXN0LWZhaWxlZCcsXG4gIE5VTExfVVNFUiA9ICdudWxsLXVzZXInLFxuICBOT19BVVRIX0VWRU5UID0gJ25vLWF1dGgtZXZlbnQnLFxuICBOT19TVUNIX1BST1ZJREVSID0gJ25vLXN1Y2gtcHJvdmlkZXInLFxuICBPUEVSQVRJT05fTk9UX0FMTE9XRUQgPSAnb3BlcmF0aW9uLW5vdC1hbGxvd2VkJyxcbiAgT1BFUkFUSU9OX05PVF9TVVBQT1JURUQgPSAnb3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCcsXG4gIFBPUFVQX0JMT0NLRUQgPSAncG9wdXAtYmxvY2tlZCcsXG4gIFBPUFVQX0NMT1NFRF9CWV9VU0VSID0gJ3BvcHVwLWNsb3NlZC1ieS11c2VyJyxcbiAgUFJPVklERVJfQUxSRUFEWV9MSU5LRUQgPSAncHJvdmlkZXItYWxyZWFkeS1saW5rZWQnLFxuICBRVU9UQV9FWENFRURFRCA9ICdxdW90YS1leGNlZWRlZCcsXG4gIFJFRElSRUNUX0NBTkNFTExFRF9CWV9VU0VSID0gJ3JlZGlyZWN0LWNhbmNlbGxlZC1ieS11c2VyJyxcbiAgUkVESVJFQ1RfT1BFUkFUSU9OX1BFTkRJTkcgPSAncmVkaXJlY3Qtb3BlcmF0aW9uLXBlbmRpbmcnLFxuICBSRUpFQ1RFRF9DUkVERU5USUFMID0gJ3JlamVjdGVkLWNyZWRlbnRpYWwnLFxuICBTRUNPTkRfRkFDVE9SX0FMUkVBRFlfRU5ST0xMRUQgPSAnc2Vjb25kLWZhY3Rvci1hbHJlYWR5LWluLXVzZScsXG4gIFNFQ09ORF9GQUNUT1JfTElNSVRfRVhDRUVERUQgPSAnbWF4aW11bS1zZWNvbmQtZmFjdG9yLWNvdW50LWV4Y2VlZGVkJyxcbiAgVEVOQU5UX0lEX01JU01BVENIID0gJ3RlbmFudC1pZC1taXNtYXRjaCcsXG4gIFRJTUVPVVQgPSAndGltZW91dCcsXG4gIFRPS0VOX0VYUElSRUQgPSAndXNlci10b2tlbi1leHBpcmVkJyxcbiAgVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSID0gJ3Rvby1tYW55LXJlcXVlc3RzJyxcbiAgVU5BVVRIT1JJWkVEX0RPTUFJTiA9ICd1bmF1dGhvcml6ZWQtY29udGludWUtdXJpJyxcbiAgVU5TVVBQT1JURURfRklSU1RfRkFDVE9SID0gJ3Vuc3VwcG9ydGVkLWZpcnN0LWZhY3RvcicsXG4gIFVOU1VQUE9SVEVEX1BFUlNJU1RFTkNFID0gJ3Vuc3VwcG9ydGVkLXBlcnNpc3RlbmNlLXR5cGUnLFxuICBVTlNVUFBPUlRFRF9URU5BTlRfT1BFUkFUSU9OID0gJ3Vuc3VwcG9ydGVkLXRlbmFudC1vcGVyYXRpb24nLFxuICBVTlZFUklGSUVEX0VNQUlMID0gJ3VudmVyaWZpZWQtZW1haWwnLFxuICBVU0VSX0NBTkNFTExFRCA9ICd1c2VyLWNhbmNlbGxlZCcsXG4gIFVTRVJfREVMRVRFRCA9ICd1c2VyLW5vdC1mb3VuZCcsXG4gIFVTRVJfRElTQUJMRUQgPSAndXNlci1kaXNhYmxlZCcsXG4gIFVTRVJfTUlTTUFUQ0ggPSAndXNlci1taXNtYXRjaCcsXG4gIFVTRVJfU0lHTkVEX09VVCA9ICd1c2VyLXNpZ25lZC1vdXQnLFxuICBXRUFLX1BBU1NXT1JEID0gJ3dlYWstcGFzc3dvcmQnLFxuICBXRUJfU1RPUkFHRV9VTlNVUFBPUlRFRCA9ICd3ZWItc3RvcmFnZS11bnN1cHBvcnRlZCcsXG4gIEFMUkVBRFlfSU5JVElBTElaRUQgPSAnYWxyZWFkeS1pbml0aWFsaXplZCcsXG4gIFJFQ0FQVENIQV9OT1RfRU5BQkxFRCA9ICdyZWNhcHRjaGEtbm90LWVuYWJsZWQnLFxuICBNSVNTSU5HX1JFQ0FQVENIQV9UT0tFTiA9ICdtaXNzaW5nLXJlY2FwdGNoYS10b2tlbicsXG4gIElOVkFMSURfUkVDQVBUQ0hBX1RPS0VOID0gJ2ludmFsaWQtcmVjYXB0Y2hhLXRva2VuJyxcbiAgSU5WQUxJRF9SRUNBUFRDSEFfQUNUSU9OID0gJ2ludmFsaWQtcmVjYXB0Y2hhLWFjdGlvbicsXG4gIE1JU1NJTkdfQ0xJRU5UX1RZUEUgPSAnbWlzc2luZy1jbGllbnQtdHlwZScsXG4gIE1JU1NJTkdfUkVDQVBUQ0hBX1ZFUlNJT04gPSAnbWlzc2luZy1yZWNhcHRjaGEtdmVyc2lvbicsXG4gIElOVkFMSURfUkVDQVBUQ0hBX1ZFUlNJT04gPSAnaW52YWxpZC1yZWNhcHRjaGEtdmVyc2lvbicsXG4gIElOVkFMSURfUkVRX1RZUEUgPSAnaW52YWxpZC1yZXEtdHlwZScsXG4gIFVOU1VQUE9SVEVEX1BBU1NXT1JEX1BPTElDWV9TQ0hFTUFfVkVSU0lPTiA9ICd1bnN1cHBvcnRlZC1wYXNzd29yZC1wb2xpY3ktc2NoZW1hLXZlcnNpb24nLFxuICBQQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UUyA9ICdwYXNzd29yZC1kb2VzLW5vdC1tZWV0LXJlcXVpcmVtZW50cydcbn1cblxuZnVuY3Rpb24gX2RlYnVnRXJyb3JNYXAoKTogRXJyb3JNYXA8QXV0aEVycm9yQ29kZT4ge1xuICByZXR1cm4ge1xuICAgIFtBdXRoRXJyb3JDb2RlLkFETUlOX09OTFlfT1BFUkFUSU9OXTpcbiAgICAgICdUaGlzIG9wZXJhdGlvbiBpcyByZXN0cmljdGVkIHRvIGFkbWluaXN0cmF0b3JzIG9ubHkuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUl06ICcnLFxuICAgIFtBdXRoRXJyb3JDb2RlLkFQUF9OT1RfQVVUSE9SSVpFRF06XG4gICAgICBcIlRoaXMgYXBwLCBpZGVudGlmaWVkIGJ5IHRoZSBkb21haW4gd2hlcmUgaXQncyBob3N0ZWQsIGlzIG5vdCBcIiArXG4gICAgICAnYXV0aG9yaXplZCB0byB1c2UgRmlyZWJhc2UgQXV0aGVudGljYXRpb24gd2l0aCB0aGUgcHJvdmlkZWQgQVBJIGtleS4gJyArXG4gICAgICAnUmV2aWV3IHlvdXIga2V5IGNvbmZpZ3VyYXRpb24gaW4gdGhlIEdvb2dsZSBBUEkgY29uc29sZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkFQUF9OT1RfSU5TVEFMTEVEXTpcbiAgICAgICdUaGUgcmVxdWVzdGVkIG1vYmlsZSBhcHBsaWNhdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBpZGVudGlmaWVyICgnICtcbiAgICAgICdBbmRyb2lkIHBhY2thZ2UgbmFtZSBvciBpT1MgYnVuZGxlIElEKSBwcm92aWRlZCBpcyBub3QgaW5zdGFsbGVkIG9uICcgK1xuICAgICAgJ3RoaXMgZGV2aWNlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuQ0FQVENIQV9DSEVDS19GQUlMRURdOlxuICAgICAgJ1RoZSByZUNBUFRDSEEgcmVzcG9uc2UgdG9rZW4gcHJvdmlkZWQgaXMgZWl0aGVyIGludmFsaWQsIGV4cGlyZWQsICcgK1xuICAgICAgJ2FscmVhZHkgdXNlZCBvciB0aGUgZG9tYWluIGFzc29jaWF0ZWQgd2l0aCBpdCBkb2VzIG5vdCBtYXRjaCB0aGUgbGlzdCAnICtcbiAgICAgICdvZiB3aGl0ZWxpc3RlZCBkb21haW5zLicsXG4gICAgW0F1dGhFcnJvckNvZGUuQ09ERV9FWFBJUkVEXTpcbiAgICAgICdUaGUgU01TIGNvZGUgaGFzIGV4cGlyZWQuIFBsZWFzZSByZS1zZW5kIHRoZSB2ZXJpZmljYXRpb24gY29kZSB0byB0cnkgJyArXG4gICAgICAnYWdhaW4uJyxcbiAgICBbQXV0aEVycm9yQ29kZS5DT1JET1ZBX05PVF9SRUFEWV06ICdDb3Jkb3ZhIGZyYW1ld29yayBpcyBub3QgcmVhZHkuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5DT1JTX1VOU1VQUE9SVEVEXTogJ1RoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuQ1JFREVOVElBTF9BTFJFQURZX0lOX1VTRV06XG4gICAgICAnVGhpcyBjcmVkZW50aWFsIGlzIGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIGEgZGlmZmVyZW50IHVzZXIgYWNjb3VudC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkNSRURFTlRJQUxfTUlTTUFUQ0hdOlxuICAgICAgJ1RoZSBjdXN0b20gdG9rZW4gY29ycmVzcG9uZHMgdG8gYSBkaWZmZXJlbnQgYXVkaWVuY2UuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5DUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU5dOlxuICAgICAgJ1RoaXMgb3BlcmF0aW9uIGlzIHNlbnNpdGl2ZSBhbmQgcmVxdWlyZXMgcmVjZW50IGF1dGhlbnRpY2F0aW9uLiBMb2cgaW4gJyArXG4gICAgICAnYWdhaW4gYmVmb3JlIHJldHJ5aW5nIHRoaXMgcmVxdWVzdC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkRFUEVOREVOVF9TREtfSU5JVF9CRUZPUkVfQVVUSF06XG4gICAgICAnQW5vdGhlciBGaXJlYmFzZSBTREsgd2FzIGluaXRpYWxpemVkIGFuZCBpcyB0cnlpbmcgdG8gdXNlIEF1dGggYmVmb3JlIEF1dGggaXMgJyArXG4gICAgICAnaW5pdGlhbGl6ZWQuIFBsZWFzZSBiZSBzdXJlIHRvIGNhbGwgYGluaXRpYWxpemVBdXRoYCBvciBgZ2V0QXV0aGAgYmVmb3JlICcgK1xuICAgICAgJ3N0YXJ0aW5nIGFueSBvdGhlciBGaXJlYmFzZSBTREsuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5EWU5BTUlDX0xJTktfTk9UX0FDVElWQVRFRF06XG4gICAgICAnUGxlYXNlIGFjdGl2YXRlIER5bmFtaWMgTGlua3MgaW4gdGhlIEZpcmViYXNlIENvbnNvbGUgYW5kIGFncmVlIHRvIHRoZSB0ZXJtcyBhbmQgJyArXG4gICAgICAnY29uZGl0aW9ucy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkVNQUlMX0NIQU5HRV9ORUVEU19WRVJJRklDQVRJT05dOlxuICAgICAgJ011bHRpLWZhY3RvciB1c2VycyBtdXN0IGFsd2F5cyBoYXZlIGEgdmVyaWZpZWQgZW1haWwuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5FTUFJTF9FWElTVFNdOlxuICAgICAgJ1RoZSBlbWFpbCBhZGRyZXNzIGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgYWNjb3VudC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkVNVUxBVE9SX0NPTkZJR19GQUlMRURdOlxuICAgICAgJ0F1dGggaW5zdGFuY2UgaGFzIGFscmVhZHkgYmVlbiB1c2VkIHRvIG1ha2UgYSBuZXR3b3JrIGNhbGwuIEF1dGggY2FuICcgK1xuICAgICAgJ25vIGxvbmdlciBiZSBjb25maWd1cmVkIHRvIHVzZSB0aGUgZW11bGF0b3IuIFRyeSBjYWxsaW5nICcgK1xuICAgICAgJ1wiY29ubmVjdEF1dGhFbXVsYXRvcigpXCIgc29vbmVyLicsXG4gICAgW0F1dGhFcnJvckNvZGUuRVhQSVJFRF9PT0JfQ09ERV06ICdUaGUgYWN0aW9uIGNvZGUgaGFzIGV4cGlyZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5FWFBJUkVEX1BPUFVQX1JFUVVFU1RdOlxuICAgICAgJ1RoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZCBkdWUgdG8gYW5vdGhlciBjb25mbGljdGluZyBwb3B1cCBiZWluZyBvcGVuZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUl06ICdBbiBpbnRlcm5hbCBBdXRoRXJyb3IgaGFzIG9jY3VycmVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9BUFBfQ1JFREVOVElBTF06XG4gICAgICAnVGhlIHBob25lIHZlcmlmaWNhdGlvbiByZXF1ZXN0IGNvbnRhaW5zIGFuIGludmFsaWQgYXBwbGljYXRpb24gdmVyaWZpZXIuJyArXG4gICAgICAnIFRoZSByZUNBUFRDSEEgdG9rZW4gcmVzcG9uc2UgaXMgZWl0aGVyIGludmFsaWQgb3IgZXhwaXJlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQVBQX0lEXTpcbiAgICAgICdUaGUgbW9iaWxlIGFwcCBpZGVudGlmaWVyIGlzIG5vdCByZWdpc3RlcmVkIGZvciB0aGUgY3VycmVudCBwcm9qZWN0LicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9BVVRIXTpcbiAgICAgIFwiVGhpcyB1c2VyJ3MgY3JlZGVudGlhbCBpc24ndCB2YWxpZCBmb3IgdGhpcyBwcm9qZWN0LiBUaGlzIGNhbiBoYXBwZW4gXCIgK1xuICAgICAgXCJpZiB0aGUgdXNlcidzIHRva2VuIGhhcyBiZWVuIHRhbXBlcmVkIHdpdGgsIG9yIGlmIHRoZSB1c2VyIGlzbid0IGZvciBcIiArXG4gICAgICAndGhlIHByb2plY3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgQVBJIGtleS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQVVUSF9FVkVOVF06ICdBbiBpbnRlcm5hbCBBdXRoRXJyb3IgaGFzIG9jY3VycmVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9DT0RFXTpcbiAgICAgICdUaGUgU01TIHZlcmlmaWNhdGlvbiBjb2RlIHVzZWQgdG8gY3JlYXRlIHRoZSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwgaXMgJyArXG4gICAgICAnaW52YWxpZC4gUGxlYXNlIHJlc2VuZCB0aGUgdmVyaWZpY2F0aW9uIGNvZGUgc21zIGFuZCBiZSBzdXJlIHRvIHVzZSB0aGUgJyArXG4gICAgICAndmVyaWZpY2F0aW9uIGNvZGUgcHJvdmlkZWQgYnkgdGhlIHVzZXIuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0NPTlRJTlVFX1VSSV06XG4gICAgICAnVGhlIGNvbnRpbnVlIFVSTCBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdCBpcyBpbnZhbGlkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9DT1JET1ZBX0NPTkZJR1VSQVRJT05dOlxuICAgICAgJ1RoZSBmb2xsb3dpbmcgQ29yZG92YSBwbHVnaW5zIG11c3QgYmUgaW5zdGFsbGVkIHRvIGVuYWJsZSBPQXV0aCBzaWduLWluOiAnICtcbiAgICAgICdjb3Jkb3ZhLXBsdWdpbi1idWlsZGluZm8sIGNvcmRvdmEtdW5pdmVyc2FsLWxpbmtzLXBsdWdpbiwgJyArXG4gICAgICAnY29yZG92YS1wbHVnaW4tYnJvd3NlcnRhYiwgY29yZG92YS1wbHVnaW4taW5hcHBicm93c2VyIGFuZCAnICtcbiAgICAgICdjb3Jkb3ZhLXBsdWdpbi1jdXN0b211cmxzY2hlbWUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0NVU1RPTV9UT0tFTl06XG4gICAgICAnVGhlIGN1c3RvbSB0b2tlbiBmb3JtYXQgaXMgaW5jb3JyZWN0LiBQbGVhc2UgY2hlY2sgdGhlIGRvY3VtZW50YXRpb24uJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0RZTkFNSUNfTElOS19ET01BSU5dOlxuICAgICAgJ1RoZSBwcm92aWRlZCBkeW5hbWljIGxpbmsgZG9tYWluIGlzIG5vdCBjb25maWd1cmVkIG9yIGF1dGhvcml6ZWQgZm9yIHRoZSBjdXJyZW50IHByb2plY3QuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0VNQUlMXTogJ1RoZSBlbWFpbCBhZGRyZXNzIGlzIGJhZGx5IGZvcm1hdHRlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfRU1VTEFUT1JfU0NIRU1FXTpcbiAgICAgICdFbXVsYXRvciBVUkwgbXVzdCBzdGFydCB3aXRoIGEgdmFsaWQgc2NoZW1lIChodHRwOi8vIG9yIGh0dHBzOi8vKS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQVBJX0tFWV06XG4gICAgICAnWW91ciBBUEkga2V5IGlzIGludmFsaWQsIHBsZWFzZSBjaGVjayB5b3UgaGF2ZSBjb3BpZWQgaXQgY29ycmVjdGx5LicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9DRVJUX0hBU0hdOlxuICAgICAgJ1RoZSBTSEEtMSBjZXJ0aWZpY2F0ZSBoYXNoIHByb3ZpZGVkIGlzIGludmFsaWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0NSRURFTlRJQUxdOlxuICAgICAgJ1RoZSBzdXBwbGllZCBhdXRoIGNyZWRlbnRpYWwgaXMgaW5jb3JyZWN0LCBtYWxmb3JtZWQgb3IgaGFzIGV4cGlyZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX01FU1NBR0VfUEFZTE9BRF06XG4gICAgICAnVGhlIGVtYWlsIHRlbXBsYXRlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBhY3Rpb24gY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIGluIGl0cyBtZXNzYWdlLiAnICtcbiAgICAgICdQbGVhc2UgZml4IGJ5IGdvaW5nIHRvIHRoZSBBdXRoIGVtYWlsIHRlbXBsYXRlcyBzZWN0aW9uIGluIHRoZSBGaXJlYmFzZSBDb25zb2xlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9NRkFfU0VTU0lPTl06XG4gICAgICAnVGhlIHJlcXVlc3QgZG9lcyBub3QgY29udGFpbiBhIHZhbGlkIHByb29mIG9mIGZpcnN0IGZhY3RvciBzdWNjZXNzZnVsIHNpZ24taW4uJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX09BVVRIX1BST1ZJREVSXTpcbiAgICAgICdFbWFpbEF1dGhQcm92aWRlciBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIG9wZXJhdGlvbi4gVGhpcyBvcGVyYXRpb24gJyArXG4gICAgICAnb25seSBzdXBwb3J0cyBPQXV0aCBwcm92aWRlcnMuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX09BVVRIX0NMSUVOVF9JRF06XG4gICAgICAnVGhlIE9BdXRoIGNsaWVudCBJRCBwcm92aWRlZCBpcyBlaXRoZXIgaW52YWxpZCBvciBkb2VzIG5vdCBtYXRjaCB0aGUgJyArXG4gICAgICAnc3BlY2lmaWVkIEFQSSBrZXkuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX09SSUdJTl06XG4gICAgICAnVGhpcyBkb21haW4gaXMgbm90IGF1dGhvcml6ZWQgZm9yIE9BdXRoIG9wZXJhdGlvbnMgZm9yIHlvdXIgRmlyZWJhc2UgJyArXG4gICAgICAncHJvamVjdC4gRWRpdCB0aGUgbGlzdCBvZiBhdXRob3JpemVkIGRvbWFpbnMgZnJvbSB0aGUgRmlyZWJhc2UgY29uc29sZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfT09CX0NPREVdOlxuICAgICAgJ1RoZSBhY3Rpb24gY29kZSBpcyBpbnZhbGlkLiBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIGNvZGUgaXMgbWFsZm9ybWVkLCAnICtcbiAgICAgICdleHBpcmVkLCBvciBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1BBU1NXT1JEXTpcbiAgICAgICdUaGUgcGFzc3dvcmQgaXMgaW52YWxpZCBvciB0aGUgdXNlciBkb2VzIG5vdCBoYXZlIGEgcGFzc3dvcmQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1BFUlNJU1RFTkNFXTpcbiAgICAgICdUaGUgc3BlY2lmaWVkIHBlcnNpc3RlbmNlIHR5cGUgaXMgaW52YWxpZC4gSXQgY2FuIG9ubHkgYmUgbG9jYWwsIHNlc3Npb24gb3Igbm9uZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfUEhPTkVfTlVNQkVSXTpcbiAgICAgICdUaGUgZm9ybWF0IG9mIHRoZSBwaG9uZSBudW1iZXIgcHJvdmlkZWQgaXMgaW5jb3JyZWN0LiBQbGVhc2UgZW50ZXIgdGhlICcgK1xuICAgICAgJ3Bob25lIG51bWJlciBpbiBhIGZvcm1hdCB0aGF0IGNhbiBiZSBwYXJzZWQgaW50byBFLjE2NCBmb3JtYXQuIEUuMTY0ICcgK1xuICAgICAgJ3Bob25lIG51bWJlcnMgYXJlIHdyaXR0ZW4gaW4gdGhlIGZvcm1hdCBbK11bY291bnRyeSBjb2RlXVtzdWJzY3JpYmVyICcgK1xuICAgICAgJ251bWJlciBpbmNsdWRpbmcgYXJlYSBjb2RlXS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfUFJPVklERVJfSURdOlxuICAgICAgJ1RoZSBzcGVjaWZpZWQgcHJvdmlkZXIgSUQgaXMgaW52YWxpZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfUkVDSVBJRU5UX0VNQUlMXTpcbiAgICAgICdUaGUgZW1haWwgY29ycmVzcG9uZGluZyB0byB0aGlzIGFjdGlvbiBmYWlsZWQgdG8gc2VuZCBhcyB0aGUgcHJvdmlkZWQgJyArXG4gICAgICAncmVjaXBpZW50IGVtYWlsIGFkZHJlc3MgaXMgaW52YWxpZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfU0VOREVSXTpcbiAgICAgICdUaGUgZW1haWwgdGVtcGxhdGUgY29ycmVzcG9uZGluZyB0byB0aGlzIGFjdGlvbiBjb250YWlucyBhbiBpbnZhbGlkIHNlbmRlciBlbWFpbCBvciBuYW1lLiAnICtcbiAgICAgICdQbGVhc2UgZml4IGJ5IGdvaW5nIHRvIHRoZSBBdXRoIGVtYWlsIHRlbXBsYXRlcyBzZWN0aW9uIGluIHRoZSBGaXJlYmFzZSBDb25zb2xlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9TRVNTSU9OX0lORk9dOlxuICAgICAgJ1RoZSB2ZXJpZmljYXRpb24gSUQgdXNlZCB0byBjcmVhdGUgdGhlIHBob25lIGF1dGggY3JlZGVudGlhbCBpcyBpbnZhbGlkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9URU5BTlRfSURdOlxuICAgICAgXCJUaGUgQXV0aCBpbnN0YW5jZSdzIHRlbmFudCBJRCBpcyBpbnZhbGlkLlwiLFxuICAgIFtBdXRoRXJyb3JDb2RlLkxPR0lOX0JMT0NLRURdOlxuICAgICAgJ0xvZ2luIGJsb2NrZWQgYnkgdXNlci1wcm92aWRlZCBtZXRob2Q6IHskb3JpZ2luYWxNZXNzYWdlfScsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRV06XG4gICAgICAnQW4gQW5kcm9pZCBQYWNrYWdlIE5hbWUgbXVzdCBiZSBwcm92aWRlZCBpZiB0aGUgQW5kcm9pZCBBcHAgaXMgcmVxdWlyZWQgdG8gYmUgaW5zdGFsbGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19BVVRIX0RPTUFJTl06XG4gICAgICAnQmUgc3VyZSB0byBpbmNsdWRlIGF1dGhEb21haW4gd2hlbiBjYWxsaW5nIGZpcmViYXNlLmluaXRpYWxpemVBcHAoKSwgJyArXG4gICAgICAnYnkgZm9sbG93aW5nIHRoZSBpbnN0cnVjdGlvbnMgaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX0FQUF9DUkVERU5USUFMXTpcbiAgICAgICdUaGUgcGhvbmUgdmVyaWZpY2F0aW9uIHJlcXVlc3QgaXMgbWlzc2luZyBhbiBhcHBsaWNhdGlvbiB2ZXJpZmllciAnICtcbiAgICAgICdhc3NlcnRpb24uIEEgcmVDQVBUQ0hBIHJlc3BvbnNlIHRva2VuIG5lZWRzIHRvIGJlIHByb3ZpZGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19DT0RFXTpcbiAgICAgICdUaGUgcGhvbmUgYXV0aCBjcmVkZW50aWFsIHdhcyBjcmVhdGVkIHdpdGggYW4gZW1wdHkgU01TIHZlcmlmaWNhdGlvbiBjb2RlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19DT05USU5VRV9VUkldOlxuICAgICAgJ0EgY29udGludWUgVVJMIG11c3QgYmUgcHJvdmlkZWQgaW4gdGhlIHJlcXVlc3QuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX0lGUkFNRV9TVEFSVF06ICdBbiBpbnRlcm5hbCBBdXRoRXJyb3IgaGFzIG9jY3VycmVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19JT1NfQlVORExFX0lEXTpcbiAgICAgICdBbiBpT1MgQnVuZGxlIElEIG11c3QgYmUgcHJvdmlkZWQgaWYgYW4gQXBwIFN0b3JlIElEIGlzIHByb3ZpZGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19PUl9JTlZBTElEX05PTkNFXTpcbiAgICAgICdUaGUgcmVxdWVzdCBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgbm9uY2UuIFRoaXMgY2FuIG9jY3VyIGlmIHRoZSAnICtcbiAgICAgICdTSEEtMjU2IGhhc2ggb2YgdGhlIHByb3ZpZGVkIHJhdyBub25jZSBkb2VzIG5vdCBtYXRjaCB0aGUgaGFzaGVkIG5vbmNlICcgK1xuICAgICAgJ2luIHRoZSBJRCB0b2tlbiBwYXlsb2FkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19QQVNTV09SRF06ICdBIG5vbi1lbXB0eSBwYXNzd29yZCBtdXN0IGJlIHByb3ZpZGVkJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX01GQV9JTkZPXTpcbiAgICAgICdObyBzZWNvbmQgZmFjdG9yIGlkZW50aWZpZXIgaXMgcHJvdmlkZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX01GQV9TRVNTSU9OXTpcbiAgICAgICdUaGUgcmVxdWVzdCBpcyBtaXNzaW5nIHByb29mIG9mIGZpcnN0IGZhY3RvciBzdWNjZXNzZnVsIHNpZ24taW4uJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX1BIT05FX05VTUJFUl06XG4gICAgICAnVG8gc2VuZCB2ZXJpZmljYXRpb24gY29kZXMsIHByb3ZpZGUgYSBwaG9uZSBudW1iZXIgZm9yIHRoZSByZWNpcGllbnQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX1NFU1NJT05fSU5GT106XG4gICAgICAnVGhlIHBob25lIGF1dGggY3JlZGVudGlhbCB3YXMgY3JlYXRlZCB3aXRoIGFuIGVtcHR5IHZlcmlmaWNhdGlvbiBJRC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1PRFVMRV9ERVNUUk9ZRURdOlxuICAgICAgJ1RoaXMgaW5zdGFuY2Ugb2YgRmlyZWJhc2VBcHAgaGFzIGJlZW4gZGVsZXRlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1GQV9JTkZPX05PVF9GT1VORF06XG4gICAgICAnVGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhIHNlY29uZCBmYWN0b3IgbWF0Y2hpbmcgdGhlIGlkZW50aWZpZXIgcHJvdmlkZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NRkFfUkVRVUlSRURdOlxuICAgICAgJ1Byb29mIG9mIG93bmVyc2hpcCBvZiBhIHNlY29uZCBmYWN0b3IgaXMgcmVxdWlyZWQgdG8gY29tcGxldGUgc2lnbi1pbi4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk5FRURfQ09ORklSTUFUSU9OXTpcbiAgICAgICdBbiBhY2NvdW50IGFscmVhZHkgZXhpc3RzIHdpdGggdGhlIHNhbWUgZW1haWwgYWRkcmVzcyBidXQgZGlmZmVyZW50ICcgK1xuICAgICAgJ3NpZ24taW4gY3JlZGVudGlhbHMuIFNpZ24gaW4gdXNpbmcgYSBwcm92aWRlciBhc3NvY2lhdGVkIHdpdGggdGhpcyAnICtcbiAgICAgICdlbWFpbCBhZGRyZXNzLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTkVUV09SS19SRVFVRVNUX0ZBSUxFRF06XG4gICAgICAnQSBuZXR3b3JrIEF1dGhFcnJvciAoc3VjaCBhcyB0aW1lb3V0LCBpbnRlcnJ1cHRlZCBjb25uZWN0aW9uIG9yIHVucmVhY2hhYmxlIGhvc3QpIGhhcyBvY2N1cnJlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk5PX0FVVEhfRVZFTlRdOiAnQW4gaW50ZXJuYWwgQXV0aEVycm9yIGhhcyBvY2N1cnJlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk5PX1NVQ0hfUFJPVklERVJdOlxuICAgICAgJ1VzZXIgd2FzIG5vdCBsaW5rZWQgdG8gYW4gYWNjb3VudCB3aXRoIHRoZSBnaXZlbiBwcm92aWRlci4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk5VTExfVVNFUl06XG4gICAgICAnQSBudWxsIHVzZXIgb2JqZWN0IHdhcyBwcm92aWRlZCBhcyB0aGUgYXJndW1lbnQgZm9yIGFuIG9wZXJhdGlvbiB3aGljaCAnICtcbiAgICAgICdyZXF1aXJlcyBhIG5vbi1udWxsIHVzZXIgb2JqZWN0LicsXG4gICAgW0F1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9BTExPV0VEXTpcbiAgICAgICdUaGUgZ2l2ZW4gc2lnbi1pbiBwcm92aWRlciBpcyBkaXNhYmxlZCBmb3IgdGhpcyBGaXJlYmFzZSBwcm9qZWN0LiAnICtcbiAgICAgICdFbmFibGUgaXQgaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUsIHVuZGVyIHRoZSBzaWduLWluIG1ldGhvZCB0YWIgb2YgdGhlICcgK1xuICAgICAgJ0F1dGggc2VjdGlvbi4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfU1VQUE9SVEVEXTpcbiAgICAgICdUaGlzIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBlbnZpcm9ubWVudCB0aGlzIGFwcGxpY2F0aW9uIGlzICcgK1xuICAgICAgJ3J1bm5pbmcgb24uIFwibG9jYXRpb24ucHJvdG9jb2xcIiBtdXN0IGJlIGh0dHAsIGh0dHBzIG9yIGNocm9tZS1leHRlbnNpb24nICtcbiAgICAgICcgYW5kIHdlYiBzdG9yYWdlIG11c3QgYmUgZW5hYmxlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlBPUFVQX0JMT0NLRURdOlxuICAgICAgJ1VuYWJsZSB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIHdpdGggdGhlIHBvcHVwLiBJdCBtYXkgaGF2ZSBiZWVuIGJsb2NrZWQgYnkgdGhlIGJyb3dzZXIuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5QT1BVUF9DTE9TRURfQllfVVNFUl06XG4gICAgICAnVGhlIHBvcHVwIGhhcyBiZWVuIGNsb3NlZCBieSB0aGUgdXNlciBiZWZvcmUgZmluYWxpemluZyB0aGUgb3BlcmF0aW9uLicsXG4gICAgW0F1dGhFcnJvckNvZGUuUFJPVklERVJfQUxSRUFEWV9MSU5LRURdOlxuICAgICAgJ1VzZXIgY2FuIG9ubHkgYmUgbGlua2VkIHRvIG9uZSBpZGVudGl0eSBmb3IgdGhlIGdpdmVuIHByb3ZpZGVyLicsXG4gICAgW0F1dGhFcnJvckNvZGUuUVVPVEFfRVhDRUVERURdOlxuICAgICAgXCJUaGUgcHJvamVjdCdzIHF1b3RhIGZvciB0aGlzIG9wZXJhdGlvbiBoYXMgYmVlbiBleGNlZWRlZC5cIixcbiAgICBbQXV0aEVycm9yQ29kZS5SRURJUkVDVF9DQU5DRUxMRURfQllfVVNFUl06XG4gICAgICAnVGhlIHJlZGlyZWN0IG9wZXJhdGlvbiBoYXMgYmVlbiBjYW5jZWxsZWQgYnkgdGhlIHVzZXIgYmVmb3JlIGZpbmFsaXppbmcuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5SRURJUkVDVF9PUEVSQVRJT05fUEVORElOR106XG4gICAgICAnQSByZWRpcmVjdCBzaWduLWluIG9wZXJhdGlvbiBpcyBhbHJlYWR5IHBlbmRpbmcuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5SRUpFQ1RFRF9DUkVERU5USUFMXTpcbiAgICAgICdUaGUgcmVxdWVzdCBjb250YWlucyBtYWxmb3JtZWQgb3IgbWlzbWF0Y2hpbmcgY3JlZGVudGlhbHMuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5TRUNPTkRfRkFDVE9SX0FMUkVBRFlfRU5ST0xMRURdOlxuICAgICAgJ1RoZSBzZWNvbmQgZmFjdG9yIGlzIGFscmVhZHkgZW5yb2xsZWQgb24gdGhpcyBhY2NvdW50LicsXG4gICAgW0F1dGhFcnJvckNvZGUuU0VDT05EX0ZBQ1RPUl9MSU1JVF9FWENFRURFRF06XG4gICAgICAnVGhlIG1heGltdW0gYWxsb3dlZCBudW1iZXIgb2Ygc2Vjb25kIGZhY3RvcnMgb24gYSB1c2VyIGhhcyBiZWVuIGV4Y2VlZGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVEVOQU5UX0lEX01JU01BVENIXTpcbiAgICAgIFwiVGhlIHByb3ZpZGVkIHRlbmFudCBJRCBkb2VzIG5vdCBtYXRjaCB0aGUgQXV0aCBpbnN0YW5jZSdzIHRlbmFudCBJRFwiLFxuICAgIFtBdXRoRXJyb3JDb2RlLlRJTUVPVVRdOiAnVGhlIG9wZXJhdGlvbiBoYXMgdGltZWQgb3V0LicsXG4gICAgW0F1dGhFcnJvckNvZGUuVE9LRU5fRVhQSVJFRF06XG4gICAgICBcIlRoZSB1c2VyJ3MgY3JlZGVudGlhbCBpcyBubyBsb25nZXIgdmFsaWQuIFRoZSB1c2VyIG11c3Qgc2lnbiBpbiBhZ2Fpbi5cIixcbiAgICBbQXV0aEVycm9yQ29kZS5UT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVJdOlxuICAgICAgJ1dlIGhhdmUgYmxvY2tlZCBhbGwgcmVxdWVzdHMgZnJvbSB0aGlzIGRldmljZSBkdWUgdG8gdW51c3VhbCBhY3Rpdml0eS4gJyArXG4gICAgICAnVHJ5IGFnYWluIGxhdGVyLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVU5BVVRIT1JJWkVEX0RPTUFJTl06XG4gICAgICAnVGhlIGRvbWFpbiBvZiB0aGUgY29udGludWUgVVJMIGlzIG5vdCB3aGl0ZWxpc3RlZC4gIFBsZWFzZSB3aGl0ZWxpc3QgJyArXG4gICAgICAndGhlIGRvbWFpbiBpbiB0aGUgRmlyZWJhc2UgY29uc29sZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVOU1VQUE9SVEVEX0ZJUlNUX0ZBQ1RPUl06XG4gICAgICAnRW5yb2xsaW5nIGEgc2Vjb25kIGZhY3RvciBvciBzaWduaW5nIGluIHdpdGggYSBtdWx0aS1mYWN0b3IgYWNjb3VudCByZXF1aXJlcyBzaWduLWluIHdpdGggYSBzdXBwb3J0ZWQgZmlyc3QgZmFjdG9yLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVU5TVVBQT1JURURfUEVSU0lTVEVOQ0VdOlxuICAgICAgJ1RoZSBjdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgdGhlIHNwZWNpZmllZCBwZXJzaXN0ZW5jZSB0eXBlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVU5TVVBQT1JURURfVEVOQU5UX09QRVJBVElPTl06XG4gICAgICAnVGhpcyBvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBhIG11bHRpLXRlbmFudCBjb250ZXh0LicsXG4gICAgW0F1dGhFcnJvckNvZGUuVU5WRVJJRklFRF9FTUFJTF06XG4gICAgICAnVGhlIG9wZXJhdGlvbiByZXF1aXJlcyBhIHZlcmlmaWVkIGVtYWlsLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVVNFUl9DQU5DRUxMRURdOlxuICAgICAgJ1RoZSB1c2VyIGRpZCBub3QgZ3JhbnQgeW91ciBhcHBsaWNhdGlvbiB0aGUgcGVybWlzc2lvbnMgaXQgcmVxdWVzdGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVVNFUl9ERUxFVEVEXTpcbiAgICAgICdUaGVyZSBpcyBubyB1c2VyIHJlY29yZCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgaWRlbnRpZmllci4gVGhlIHVzZXIgbWF5ICcgK1xuICAgICAgJ2hhdmUgYmVlbiBkZWxldGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVVNFUl9ESVNBQkxFRF06XG4gICAgICAnVGhlIHVzZXIgYWNjb3VudCBoYXMgYmVlbiBkaXNhYmxlZCBieSBhbiBhZG1pbmlzdHJhdG9yLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVVNFUl9NSVNNQVRDSF06XG4gICAgICAnVGhlIHN1cHBsaWVkIGNyZWRlbnRpYWxzIGRvIG5vdCBjb3JyZXNwb25kIHRvIHRoZSBwcmV2aW91c2x5IHNpZ25lZCBpbiB1c2VyLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVVNFUl9TSUdORURfT1VUXTogJycsXG4gICAgW0F1dGhFcnJvckNvZGUuV0VBS19QQVNTV09SRF06XG4gICAgICAnVGhlIHBhc3N3b3JkIG11c3QgYmUgNiBjaGFyYWN0ZXJzIGxvbmcgb3IgbW9yZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLldFQl9TVE9SQUdFX1VOU1VQUE9SVEVEXTpcbiAgICAgICdUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZCBvciAzcmQgcGFydHkgY29va2llcyBhbmQgZGF0YSBtYXkgYmUgZGlzYWJsZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5BTFJFQURZX0lOSVRJQUxJWkVEXTpcbiAgICAgICdpbml0aWFsaXplQXV0aCgpIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkIHdpdGggJyArXG4gICAgICAnZGlmZmVyZW50IG9wdGlvbnMuIFRvIGF2b2lkIHRoaXMgZXJyb3IsIGNhbGwgaW5pdGlhbGl6ZUF1dGgoKSB3aXRoIHRoZSAnICtcbiAgICAgICdzYW1lIG9wdGlvbnMgYXMgd2hlbiBpdCB3YXMgb3JpZ2luYWxseSBjYWxsZWQsIG9yIGNhbGwgZ2V0QXV0aCgpIHRvIHJldHVybiB0aGUnICtcbiAgICAgICcgYWxyZWFkeSBpbml0aWFsaXplZCBpbnN0YW5jZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfUkVDQVBUQ0hBX1RPS0VOXTpcbiAgICAgICdUaGUgcmVDQVBUQ0hBIHRva2VuIGlzIG1pc3Npbmcgd2hlbiBzZW5kaW5nIHJlcXVlc3QgdG8gdGhlIGJhY2tlbmQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1JFQ0FQVENIQV9UT0tFTl06XG4gICAgICAnVGhlIHJlQ0FQVENIQSB0b2tlbiBpcyBpbnZhbGlkIHdoZW4gc2VuZGluZyByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9SRUNBUFRDSEFfQUNUSU9OXTpcbiAgICAgICdUaGUgcmVDQVBUQ0hBIGFjdGlvbiBpcyBpbnZhbGlkIHdoZW4gc2VuZGluZyByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kLicsXG4gICAgW0F1dGhFcnJvckNvZGUuUkVDQVBUQ0hBX05PVF9FTkFCTEVEXTpcbiAgICAgICdyZUNBUFRDSEEgRW50ZXJwcmlzZSBpbnRlZ3JhdGlvbiBpcyBub3QgZW5hYmxlZCBmb3IgdGhpcyBwcm9qZWN0LicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19DTElFTlRfVFlQRV06XG4gICAgICAnVGhlIHJlQ0FQVENIQSBjbGllbnQgdHlwZSBpcyBtaXNzaW5nIHdoZW4gc2VuZGluZyByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19SRUNBUFRDSEFfVkVSU0lPTl06XG4gICAgICAnVGhlIHJlQ0FQVENIQSB2ZXJzaW9uIGlzIG1pc3Npbmcgd2hlbiBzZW5kaW5nIHJlcXVlc3QgdG8gdGhlIGJhY2tlbmQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1JFUV9UWVBFXTogJ0ludmFsaWQgcmVxdWVzdCBwYXJhbWV0ZXJzLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9SRUNBUFRDSEFfVkVSU0lPTl06XG4gICAgICAnVGhlIHJlQ0FQVENIQSB2ZXJzaW9uIGlzIGludmFsaWQgd2hlbiBzZW5kaW5nIHJlcXVlc3QgdG8gdGhlIGJhY2tlbmQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VTlNVUFBPUlRFRF9QQVNTV09SRF9QT0xJQ1lfU0NIRU1BX1ZFUlNJT05dOlxuICAgICAgJ1RoZSBwYXNzd29yZCBwb2xpY3kgcmVjZWl2ZWQgZnJvbSB0aGUgYmFja2VuZCB1c2VzIGEgc2NoZW1hIHZlcnNpb24gdGhhdCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgdmVyc2lvbiBvZiB0aGUgRmlyZWJhc2UgU0RLLicsXG4gICAgW0F1dGhFcnJvckNvZGUuUEFTU1dPUkRfRE9FU19OT1RfTUVFVF9SRVFVSVJFTUVOVFNdOlxuICAgICAgJ1RoZSBwYXNzd29yZCBkb2VzIG5vdCBtZWV0IHRoZSByZXF1aXJlbWVudHMuJ1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yTWFwUmV0cmlldmVyIGV4dGVuZHMgQXV0aEVycm9yTWFwIHtcbiAgKCk6IEVycm9yTWFwPEF1dGhFcnJvckNvZGU+O1xufVxuXG5mdW5jdGlvbiBfcHJvZEVycm9yTWFwKCk6IEVycm9yTWFwPEF1dGhFcnJvckNvZGU+IHtcbiAgLy8gV2Ugd2lsbCBpbmNsdWRlIHRoaXMgb25lIG1lc3NhZ2UgaW4gdGhlIHByb2QgZXJyb3IgbWFwIHNpbmNlIGJ5IHRoZSB2ZXJ5XG4gIC8vIG5hdHVyZSBvZiB0aGlzIGVycm9yLCBkZXZlbG9wZXJzIHdpbGwgbmV2ZXIgYmUgYWJsZSB0byBzZWUgdGhlIG1lc3NhZ2VcbiAgLy8gdXNpbmcgdGhlIGRlYnVnRXJyb3JNYXAgKHdoaWNoIGlzIGluc3RhbGxlZCBkdXJpbmcgYXV0aCBpbml0aWFsaXphdGlvbikuXG4gIHJldHVybiB7XG4gICAgW0F1dGhFcnJvckNvZGUuREVQRU5ERU5UX1NES19JTklUX0JFRk9SRV9BVVRIXTpcbiAgICAgICdBbm90aGVyIEZpcmViYXNlIFNESyB3YXMgaW5pdGlhbGl6ZWQgYW5kIGlzIHRyeWluZyB0byB1c2UgQXV0aCBiZWZvcmUgQXV0aCBpcyAnICtcbiAgICAgICdpbml0aWFsaXplZC4gUGxlYXNlIGJlIHN1cmUgdG8gY2FsbCBgaW5pdGlhbGl6ZUF1dGhgIG9yIGBnZXRBdXRoYCBiZWZvcmUgJyArXG4gICAgICAnc3RhcnRpbmcgYW55IG90aGVyIEZpcmViYXNlIFNESy4nXG4gIH0gYXMgRXJyb3JNYXA8QXV0aEVycm9yQ29kZT47XG59XG5cbi8qKlxuICogQSB2ZXJib3NlIGVycm9yIG1hcCB3aXRoIGRldGFpbGVkIGRlc2NyaXB0aW9ucyBmb3IgbW9zdCBlcnJvciBjb2Rlcy5cbiAqXG4gKiBTZWUgZGlzY3Vzc2lvbiBhdCB7QGxpbmsgQXV0aEVycm9yTWFwfVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGRlYnVnRXJyb3JNYXA6IEF1dGhFcnJvck1hcCA9IF9kZWJ1Z0Vycm9yTWFwO1xuXG4vKipcbiAqIEEgbWluaW1hbCBlcnJvciBtYXAgd2l0aCBhbGwgdmVyYm9zZSBlcnJvciBtZXNzYWdlcyBzdHJpcHBlZC5cbiAqXG4gKiBTZWUgZGlzY3Vzc2lvbiBhdCB7QGxpbmsgQXV0aEVycm9yTWFwfVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHByb2RFcnJvck1hcDogQXV0aEVycm9yTWFwID0gX3Byb2RFcnJvck1hcDtcblxuZXhwb3J0IGludGVyZmFjZSBOYW1lZEVycm9yUGFyYW1zIHtcbiAgYXBwTmFtZTogQXBwTmFtZTtcbiAgY3JlZGVudGlhbD86IEF1dGhDcmVkZW50aWFsO1xuICBlbWFpbD86IHN0cmluZztcbiAgcGhvbmVOdW1iZXI/OiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xuICB1c2VyPzogVXNlcjtcbiAgX3NlcnZlclJlc3BvbnNlPzogb2JqZWN0O1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG50eXBlIEdlbmVyaWNBdXRoRXJyb3JQYXJhbXMgPSB7XG4gIFtrZXkgaW4gRXhjbHVkZTxcbiAgICBBdXRoRXJyb3JDb2RlLFxuICAgIHwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICAgIHwgQXV0aEVycm9yQ29kZS5ERVBFTkRFTlRfU0RLX0lOSVRfQkVGT1JFX0FVVEhcbiAgICB8IEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICB8IEF1dGhFcnJvckNvZGUuTUZBX1JFUVVJUkVEXG4gICAgfCBBdXRoRXJyb3JDb2RlLk5PX0FVVEhfRVZFTlRcbiAgICB8IEF1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9TVVBQT1JURURcbiAgPl06IHtcbiAgICBhcHBOYW1lPzogQXBwTmFtZTtcbiAgICBlbWFpbD86IHN0cmluZztcbiAgICBwaG9uZU51bWJlcj86IHN0cmluZztcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9O1xufTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdXRoRXJyb3JQYXJhbXMgZXh0ZW5kcyBHZW5lcmljQXV0aEVycm9yUGFyYW1zIHtcbiAgW0F1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JdOiB7IGFwcE5hbWU/OiBBcHBOYW1lIH07XG4gIFtBdXRoRXJyb3JDb2RlLkRFUEVOREVOVF9TREtfSU5JVF9CRUZPUkVfQVVUSF06IHsgYXBwTmFtZT86IEFwcE5hbWUgfTtcbiAgW0F1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JdOiB7IGFwcE5hbWU/OiBBcHBOYW1lIH07XG4gIFtBdXRoRXJyb3JDb2RlLkxPR0lOX0JMT0NLRURdOiB7XG4gICAgYXBwTmFtZT86IEFwcE5hbWU7XG4gICAgb3JpZ2luYWxNZXNzYWdlPzogc3RyaW5nO1xuICB9O1xuICBbQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX1NVUFBPUlRFRF06IHsgYXBwTmFtZT86IEFwcE5hbWUgfTtcbiAgW0F1dGhFcnJvckNvZGUuTk9fQVVUSF9FVkVOVF06IHsgYXBwTmFtZT86IEFwcE5hbWUgfTtcbiAgW0F1dGhFcnJvckNvZGUuTUZBX1JFUVVJUkVEXToge1xuICAgIGFwcE5hbWU6IEFwcE5hbWU7XG4gICAgX3NlcnZlclJlc3BvbnNlOiBJZFRva2VuTWZhUmVzcG9uc2U7XG4gIH07XG4gIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQ09SRE9WQV9DT05GSUdVUkFUSU9OXToge1xuICAgIGFwcE5hbWU6IEFwcE5hbWU7XG4gICAgbWlzc2luZ1BsdWdpbj86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IF9ERUZBVUxUX0FVVEhfRVJST1JfRkFDVE9SWSA9IG5ldyBFcnJvckZhY3Rvcnk8XG4gIEF1dGhFcnJvckNvZGUsXG4gIEF1dGhFcnJvclBhcmFtc1xuPignYXV0aCcsICdGaXJlYmFzZScsIF9wcm9kRXJyb3JNYXAoKSk7XG5cbi8qKlxuICogQSBtYXAgb2YgcG90ZW50aWFsIGBBdXRoYCBlcnJvciBjb2RlcywgZm9yIGVhc2llciBjb21wYXJpc29uIHdpdGggZXJyb3JzXG4gKiB0aHJvd24gYnkgdGhlIFNESy5cbiAqXG4gKiBAcmVtYXJrc1xuICogTm90ZSB0aGF0IHlvdSBjYW4ndCB0cmVlLXNoYWtlIGluZGl2aWR1YWwga2V5c1xuICogaW4gdGhlIG1hcCwgc28gYnkgdXNpbmcgdGhlIG1hcCB5b3UgbWlnaHQgc3Vic3RhbnRpYWxseSBpbmNyZWFzZSB5b3VyXG4gKiBidW5kbGUgc2l6ZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBBVVRIX0VSUk9SX0NPREVTX01BUF9ET19OT1RfVVNFX0lOVEVSTkFMTFkgPSB7XG4gIEFETUlOX09OTFlfT1BFUkFUSU9OOiAnYXV0aC9hZG1pbi1yZXN0cmljdGVkLW9wZXJhdGlvbicsXG4gIEFSR1VNRU5UX0VSUk9SOiAnYXV0aC9hcmd1bWVudC1lcnJvcicsXG4gIEFQUF9OT1RfQVVUSE9SSVpFRDogJ2F1dGgvYXBwLW5vdC1hdXRob3JpemVkJyxcbiAgQVBQX05PVF9JTlNUQUxMRUQ6ICdhdXRoL2FwcC1ub3QtaW5zdGFsbGVkJyxcbiAgQ0FQVENIQV9DSEVDS19GQUlMRUQ6ICdhdXRoL2NhcHRjaGEtY2hlY2stZmFpbGVkJyxcbiAgQ09ERV9FWFBJUkVEOiAnYXV0aC9jb2RlLWV4cGlyZWQnLFxuICBDT1JET1ZBX05PVF9SRUFEWTogJ2F1dGgvY29yZG92YS1ub3QtcmVhZHknLFxuICBDT1JTX1VOU1VQUE9SVEVEOiAnYXV0aC9jb3JzLXVuc3VwcG9ydGVkJyxcbiAgQ1JFREVOVElBTF9BTFJFQURZX0lOX1VTRTogJ2F1dGgvY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZScsXG4gIENSRURFTlRJQUxfTUlTTUFUQ0g6ICdhdXRoL2N1c3RvbS10b2tlbi1taXNtYXRjaCcsXG4gIENSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTjogJ2F1dGgvcmVxdWlyZXMtcmVjZW50LWxvZ2luJyxcbiAgREVQRU5ERU5UX1NES19JTklUX0JFRk9SRV9BVVRIOiAnYXV0aC9kZXBlbmRlbnQtc2RrLWluaXRpYWxpemVkLWJlZm9yZS1hdXRoJyxcbiAgRFlOQU1JQ19MSU5LX05PVF9BQ1RJVkFURUQ6ICdhdXRoL2R5bmFtaWMtbGluay1ub3QtYWN0aXZhdGVkJyxcbiAgRU1BSUxfQ0hBTkdFX05FRURTX1ZFUklGSUNBVElPTjogJ2F1dGgvZW1haWwtY2hhbmdlLW5lZWRzLXZlcmlmaWNhdGlvbicsXG4gIEVNQUlMX0VYSVNUUzogJ2F1dGgvZW1haWwtYWxyZWFkeS1pbi11c2UnLFxuICBFTVVMQVRPUl9DT05GSUdfRkFJTEVEOiAnYXV0aC9lbXVsYXRvci1jb25maWctZmFpbGVkJyxcbiAgRVhQSVJFRF9PT0JfQ09ERTogJ2F1dGgvZXhwaXJlZC1hY3Rpb24tY29kZScsXG4gIEVYUElSRURfUE9QVVBfUkVRVUVTVDogJ2F1dGgvY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3QnLFxuICBJTlRFUk5BTF9FUlJPUjogJ2F1dGgvaW50ZXJuYWwtZXJyb3InLFxuICBJTlZBTElEX0FQSV9LRVk6ICdhdXRoL2ludmFsaWQtYXBpLWtleScsXG4gIElOVkFMSURfQVBQX0NSRURFTlRJQUw6ICdhdXRoL2ludmFsaWQtYXBwLWNyZWRlbnRpYWwnLFxuICBJTlZBTElEX0FQUF9JRDogJ2F1dGgvaW52YWxpZC1hcHAtaWQnLFxuICBJTlZBTElEX0FVVEg6ICdhdXRoL2ludmFsaWQtdXNlci10b2tlbicsXG4gIElOVkFMSURfQVVUSF9FVkVOVDogJ2F1dGgvaW52YWxpZC1hdXRoLWV2ZW50JyxcbiAgSU5WQUxJRF9DRVJUX0hBU0g6ICdhdXRoL2ludmFsaWQtY2VydC1oYXNoJyxcbiAgSU5WQUxJRF9DT0RFOiAnYXV0aC9pbnZhbGlkLXZlcmlmaWNhdGlvbi1jb2RlJyxcbiAgSU5WQUxJRF9DT05USU5VRV9VUkk6ICdhdXRoL2ludmFsaWQtY29udGludWUtdXJpJyxcbiAgSU5WQUxJRF9DT1JET1ZBX0NPTkZJR1VSQVRJT046ICdhdXRoL2ludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uJyxcbiAgSU5WQUxJRF9DVVNUT01fVE9LRU46ICdhdXRoL2ludmFsaWQtY3VzdG9tLXRva2VuJyxcbiAgSU5WQUxJRF9EWU5BTUlDX0xJTktfRE9NQUlOOiAnYXV0aC9pbnZhbGlkLWR5bmFtaWMtbGluay1kb21haW4nLFxuICBJTlZBTElEX0VNQUlMOiAnYXV0aC9pbnZhbGlkLWVtYWlsJyxcbiAgSU5WQUxJRF9FTVVMQVRPUl9TQ0hFTUU6ICdhdXRoL2ludmFsaWQtZW11bGF0b3Itc2NoZW1lJyxcbiAgSU5WQUxJRF9JRFBfUkVTUE9OU0U6ICdhdXRoL2ludmFsaWQtY3JlZGVudGlhbCcsXG4gIElOVkFMSURfTE9HSU5fQ1JFREVOVElBTFM6ICdhdXRoL2ludmFsaWQtY3JlZGVudGlhbCcsXG4gIElOVkFMSURfTUVTU0FHRV9QQVlMT0FEOiAnYXV0aC9pbnZhbGlkLW1lc3NhZ2UtcGF5bG9hZCcsXG4gIElOVkFMSURfTUZBX1NFU1NJT046ICdhdXRoL2ludmFsaWQtbXVsdGktZmFjdG9yLXNlc3Npb24nLFxuICBJTlZBTElEX09BVVRIX0NMSUVOVF9JRDogJ2F1dGgvaW52YWxpZC1vYXV0aC1jbGllbnQtaWQnLFxuICBJTlZBTElEX09BVVRIX1BST1ZJREVSOiAnYXV0aC9pbnZhbGlkLW9hdXRoLXByb3ZpZGVyJyxcbiAgSU5WQUxJRF9PT0JfQ09ERTogJ2F1dGgvaW52YWxpZC1hY3Rpb24tY29kZScsXG4gIElOVkFMSURfT1JJR0lOOiAnYXV0aC91bmF1dGhvcml6ZWQtZG9tYWluJyxcbiAgSU5WQUxJRF9QQVNTV09SRDogJ2F1dGgvd3JvbmctcGFzc3dvcmQnLFxuICBJTlZBTElEX1BFUlNJU1RFTkNFOiAnYXV0aC9pbnZhbGlkLXBlcnNpc3RlbmNlLXR5cGUnLFxuICBJTlZBTElEX1BIT05FX05VTUJFUjogJ2F1dGgvaW52YWxpZC1waG9uZS1udW1iZXInLFxuICBJTlZBTElEX1BST1ZJREVSX0lEOiAnYXV0aC9pbnZhbGlkLXByb3ZpZGVyLWlkJyxcbiAgSU5WQUxJRF9SRUNJUElFTlRfRU1BSUw6ICdhdXRoL2ludmFsaWQtcmVjaXBpZW50LWVtYWlsJyxcbiAgSU5WQUxJRF9TRU5ERVI6ICdhdXRoL2ludmFsaWQtc2VuZGVyJyxcbiAgSU5WQUxJRF9TRVNTSU9OX0lORk86ICdhdXRoL2ludmFsaWQtdmVyaWZpY2F0aW9uLWlkJyxcbiAgSU5WQUxJRF9URU5BTlRfSUQ6ICdhdXRoL2ludmFsaWQtdGVuYW50LWlkJyxcbiAgTUZBX0lORk9fTk9UX0ZPVU5EOiAnYXV0aC9tdWx0aS1mYWN0b3ItaW5mby1ub3QtZm91bmQnLFxuICBNRkFfUkVRVUlSRUQ6ICdhdXRoL211bHRpLWZhY3Rvci1hdXRoLXJlcXVpcmVkJyxcbiAgTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRTogJ2F1dGgvbWlzc2luZy1hbmRyb2lkLXBrZy1uYW1lJyxcbiAgTUlTU0lOR19BUFBfQ1JFREVOVElBTDogJ2F1dGgvbWlzc2luZy1hcHAtY3JlZGVudGlhbCcsXG4gIE1JU1NJTkdfQVVUSF9ET01BSU46ICdhdXRoL2F1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZCcsXG4gIE1JU1NJTkdfQ09ERTogJ2F1dGgvbWlzc2luZy12ZXJpZmljYXRpb24tY29kZScsXG4gIE1JU1NJTkdfQ09OVElOVUVfVVJJOiAnYXV0aC9taXNzaW5nLWNvbnRpbnVlLXVyaScsXG4gIE1JU1NJTkdfSUZSQU1FX1NUQVJUOiAnYXV0aC9taXNzaW5nLWlmcmFtZS1zdGFydCcsXG4gIE1JU1NJTkdfSU9TX0JVTkRMRV9JRDogJ2F1dGgvbWlzc2luZy1pb3MtYnVuZGxlLWlkJyxcbiAgTUlTU0lOR19PUl9JTlZBTElEX05PTkNFOiAnYXV0aC9taXNzaW5nLW9yLWludmFsaWQtbm9uY2UnLFxuICBNSVNTSU5HX01GQV9JTkZPOiAnYXV0aC9taXNzaW5nLW11bHRpLWZhY3Rvci1pbmZvJyxcbiAgTUlTU0lOR19NRkFfU0VTU0lPTjogJ2F1dGgvbWlzc2luZy1tdWx0aS1mYWN0b3Itc2Vzc2lvbicsXG4gIE1JU1NJTkdfUEhPTkVfTlVNQkVSOiAnYXV0aC9taXNzaW5nLXBob25lLW51bWJlcicsXG4gIE1JU1NJTkdfU0VTU0lPTl9JTkZPOiAnYXV0aC9taXNzaW5nLXZlcmlmaWNhdGlvbi1pZCcsXG4gIE1PRFVMRV9ERVNUUk9ZRUQ6ICdhdXRoL2FwcC1kZWxldGVkJyxcbiAgTkVFRF9DT05GSVJNQVRJT046ICdhdXRoL2FjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWwnLFxuICBORVRXT1JLX1JFUVVFU1RfRkFJTEVEOiAnYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkJyxcbiAgTlVMTF9VU0VSOiAnYXV0aC9udWxsLXVzZXInLFxuICBOT19BVVRIX0VWRU5UOiAnYXV0aC9uby1hdXRoLWV2ZW50JyxcbiAgTk9fU1VDSF9QUk9WSURFUjogJ2F1dGgvbm8tc3VjaC1wcm92aWRlcicsXG4gIE9QRVJBVElPTl9OT1RfQUxMT1dFRDogJ2F1dGgvb3BlcmF0aW9uLW5vdC1hbGxvd2VkJyxcbiAgT1BFUkFUSU9OX05PVF9TVVBQT1JURUQ6ICdhdXRoL29wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnQnLFxuICBQT1BVUF9CTE9DS0VEOiAnYXV0aC9wb3B1cC1ibG9ja2VkJyxcbiAgUE9QVVBfQ0xPU0VEX0JZX1VTRVI6ICdhdXRoL3BvcHVwLWNsb3NlZC1ieS11c2VyJyxcbiAgUFJPVklERVJfQUxSRUFEWV9MSU5LRUQ6ICdhdXRoL3Byb3ZpZGVyLWFscmVhZHktbGlua2VkJyxcbiAgUVVPVEFfRVhDRUVERUQ6ICdhdXRoL3F1b3RhLWV4Y2VlZGVkJyxcbiAgUkVESVJFQ1RfQ0FOQ0VMTEVEX0JZX1VTRVI6ICdhdXRoL3JlZGlyZWN0LWNhbmNlbGxlZC1ieS11c2VyJyxcbiAgUkVESVJFQ1RfT1BFUkFUSU9OX1BFTkRJTkc6ICdhdXRoL3JlZGlyZWN0LW9wZXJhdGlvbi1wZW5kaW5nJyxcbiAgUkVKRUNURURfQ1JFREVOVElBTDogJ2F1dGgvcmVqZWN0ZWQtY3JlZGVudGlhbCcsXG4gIFNFQ09ORF9GQUNUT1JfQUxSRUFEWV9FTlJPTExFRDogJ2F1dGgvc2Vjb25kLWZhY3Rvci1hbHJlYWR5LWluLXVzZScsXG4gIFNFQ09ORF9GQUNUT1JfTElNSVRfRVhDRUVERUQ6ICdhdXRoL21heGltdW0tc2Vjb25kLWZhY3Rvci1jb3VudC1leGNlZWRlZCcsXG4gIFRFTkFOVF9JRF9NSVNNQVRDSDogJ2F1dGgvdGVuYW50LWlkLW1pc21hdGNoJyxcbiAgVElNRU9VVDogJ2F1dGgvdGltZW91dCcsXG4gIFRPS0VOX0VYUElSRUQ6ICdhdXRoL3VzZXItdG9rZW4tZXhwaXJlZCcsXG4gIFRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUjogJ2F1dGgvdG9vLW1hbnktcmVxdWVzdHMnLFxuICBVTkFVVEhPUklaRURfRE9NQUlOOiAnYXV0aC91bmF1dGhvcml6ZWQtY29udGludWUtdXJpJyxcbiAgVU5TVVBQT1JURURfRklSU1RfRkFDVE9SOiAnYXV0aC91bnN1cHBvcnRlZC1maXJzdC1mYWN0b3InLFxuICBVTlNVUFBPUlRFRF9QRVJTSVNURU5DRTogJ2F1dGgvdW5zdXBwb3J0ZWQtcGVyc2lzdGVuY2UtdHlwZScsXG4gIFVOU1VQUE9SVEVEX1RFTkFOVF9PUEVSQVRJT046ICdhdXRoL3Vuc3VwcG9ydGVkLXRlbmFudC1vcGVyYXRpb24nLFxuICBVTlZFUklGSUVEX0VNQUlMOiAnYXV0aC91bnZlcmlmaWVkLWVtYWlsJyxcbiAgVVNFUl9DQU5DRUxMRUQ6ICdhdXRoL3VzZXItY2FuY2VsbGVkJyxcbiAgVVNFUl9ERUxFVEVEOiAnYXV0aC91c2VyLW5vdC1mb3VuZCcsXG4gIFVTRVJfRElTQUJMRUQ6ICdhdXRoL3VzZXItZGlzYWJsZWQnLFxuICBVU0VSX01JU01BVENIOiAnYXV0aC91c2VyLW1pc21hdGNoJyxcbiAgVVNFUl9TSUdORURfT1VUOiAnYXV0aC91c2VyLXNpZ25lZC1vdXQnLFxuICBXRUFLX1BBU1NXT1JEOiAnYXV0aC93ZWFrLXBhc3N3b3JkJyxcbiAgV0VCX1NUT1JBR0VfVU5TVVBQT1JURUQ6ICdhdXRoL3dlYi1zdG9yYWdlLXVuc3VwcG9ydGVkJyxcbiAgQUxSRUFEWV9JTklUSUFMSVpFRDogJ2F1dGgvYWxyZWFkeS1pbml0aWFsaXplZCcsXG4gIFJFQ0FQVENIQV9OT1RfRU5BQkxFRDogJ2F1dGgvcmVjYXB0Y2hhLW5vdC1lbmFibGVkJyxcbiAgTUlTU0lOR19SRUNBUFRDSEFfVE9LRU46ICdhdXRoL21pc3NpbmctcmVjYXB0Y2hhLXRva2VuJyxcbiAgSU5WQUxJRF9SRUNBUFRDSEFfVE9LRU46ICdhdXRoL2ludmFsaWQtcmVjYXB0Y2hhLXRva2VuJyxcbiAgSU5WQUxJRF9SRUNBUFRDSEFfQUNUSU9OOiAnYXV0aC9pbnZhbGlkLXJlY2FwdGNoYS1hY3Rpb24nLFxuICBNSVNTSU5HX0NMSUVOVF9UWVBFOiAnYXV0aC9taXNzaW5nLWNsaWVudC10eXBlJyxcbiAgTUlTU0lOR19SRUNBUFRDSEFfVkVSU0lPTjogJ2F1dGgvbWlzc2luZy1yZWNhcHRjaGEtdmVyc2lvbicsXG4gIElOVkFMSURfUkVDQVBUQ0hBX1ZFUlNJT046ICdhdXRoL2ludmFsaWQtcmVjYXB0Y2hhLXZlcnNpb24nLFxuICBJTlZBTElEX1JFUV9UWVBFOiAnYXV0aC9pbnZhbGlkLXJlcS10eXBlJ1xufSBhcyBjb25zdDtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBMb2dnZXIsIExvZ0xldmVsIH0gZnJvbSAnQGZpcmViYXNlL2xvZ2dlcic7XG5pbXBvcnQgeyBTREtfVkVSU0lPTiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG5leHBvcnQgeyBMb2dMZXZlbCB9O1xuXG5jb25zdCBsb2dDbGllbnQgPSBuZXcgTG9nZ2VyKCdAZmlyZWJhc2UvYXV0aCcpO1xuXG4vLyBIZWxwZXIgbWV0aG9kcyBhcmUgbmVlZGVkIGJlY2F1c2UgdmFyaWFibGVzIGNhbid0IGJlIGV4cG9ydGVkIGFzIHJlYWQvd3JpdGVcbmV4cG9ydCBmdW5jdGlvbiBfZ2V0TG9nTGV2ZWwoKTogTG9nTGV2ZWwge1xuICByZXR1cm4gbG9nQ2xpZW50LmxvZ0xldmVsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3NldExvZ0xldmVsKG5ld0xldmVsOiBMb2dMZXZlbCk6IHZvaWQge1xuICBsb2dDbGllbnQubG9nTGV2ZWwgPSBuZXdMZXZlbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9sb2dEZWJ1Zyhtc2c6IHN0cmluZywgLi4uYXJnczogc3RyaW5nW10pOiB2b2lkIHtcbiAgaWYgKGxvZ0NsaWVudC5sb2dMZXZlbCA8PSBMb2dMZXZlbC5ERUJVRykge1xuICAgIGxvZ0NsaWVudC5kZWJ1ZyhgQXV0aCAoJHtTREtfVkVSU0lPTn0pOiAke21zZ31gLCAuLi5hcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX2xvZ1dhcm4obXNnOiBzdHJpbmcsIC4uLmFyZ3M6IHN0cmluZ1tdKTogdm9pZCB7XG4gIGlmIChsb2dDbGllbnQubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuV0FSTikge1xuICAgIGxvZ0NsaWVudC53YXJuKGBBdXRoICgke1NES19WRVJTSU9OfSk6ICR7bXNnfWAsIC4uLmFyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfbG9nRXJyb3IobXNnOiBzdHJpbmcsIC4uLmFyZ3M6IHN0cmluZ1tdKTogdm9pZCB7XG4gIGlmIChsb2dDbGllbnQubG9nTGV2ZWwgPD0gTG9nTGV2ZWwuRVJST1IpIHtcbiAgICBsb2dDbGllbnQuZXJyb3IoYEF1dGggKCR7U0RLX1ZFUlNJT059KTogJHttc2d9YCwgLi4uYXJncyk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEVycm9yRmFjdG9yeSwgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHtcbiAgX0RFRkFVTFRfQVVUSF9FUlJPUl9GQUNUT1JZLFxuICBBdXRoRXJyb3JDb2RlLFxuICBBdXRoRXJyb3JQYXJhbXMsXG4gIHByb2RFcnJvck1hcCxcbiAgRXJyb3JNYXBSZXRyaWV2ZXJcbn0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9sb2dFcnJvciB9IGZyb20gJy4vbG9nJztcblxudHlwZSBBdXRoRXJyb3JMaXN0UGFyYW1zPEs+ID0gSyBleHRlbmRzIGtleW9mIEF1dGhFcnJvclBhcmFtc1xuICA/IFtBdXRoRXJyb3JQYXJhbXNbS11dXG4gIDogW107XG50eXBlIExlc3NBcHBOYW1lPEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPiA9IE9taXQ8QXV0aEVycm9yUGFyYW1zW0tdLCAnYXBwTmFtZSc+O1xuXG4vKipcbiAqIFVuY29uZGl0aW9uYWxseSBmYWlscywgdGhyb3dpbmcgYSBkZXZlbG9wZXIgZmFjaW5nIElOVEVSTkFMX0VSUk9SXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5NRkFfUkVRVUlSRUQpOyAgLy8gRXJyb3I6IHRoZSBNRkFfUkVRVUlSRUQgZXJyb3IgbmVlZHMgbW9yZSBwYXJhbXMgdGhhbiBhcHBOYW1lXG4gKiBmYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuTUZBX1JFUVVJUkVELCB7c2VydmVyUmVzcG9uc2V9KTsgIC8vIENvbXBpbGVzXG4gKiBmYWlsKEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpOyAgLy8gQ29tcGlsZXM7IGludGVybmFsIGVycm9yIGRvZXMgbm90IG5lZWQgYXBwTmFtZVxuICogZmFpbChBdXRoRXJyb3JDb2RlLlVTRVJfREVMRVRFRCk7ICAvLyBFcnJvcjogVVNFUl9ERUxFVEVEIHJlcXVpcmVzIGFwcCBuYW1lXG4gKiBmYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuVVNFUl9ERUxFVEVEKTsgIC8vIENvbXBpbGVzOyBVU0VSX0RFTEVURUQgX29ubHlfIG5lZWRzIGFwcCBuYW1lXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXBwTmFtZSBBcHAgbmFtZSBmb3IgdGFnZ2luZyB0aGUgZXJyb3JcbiAqIEB0aHJvd3MgRmlyZWJhc2VFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gX2ZhaWw8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBjb2RlOiBLLFxuICAuLi5kYXRhOiB7fSBleHRlbmRzIEF1dGhFcnJvclBhcmFtc1tLXVxuICAgID8gW0F1dGhFcnJvclBhcmFtc1tLXT9dXG4gICAgOiBbQXV0aEVycm9yUGFyYW1zW0tdXVxuKTogbmV2ZXI7XG5leHBvcnQgZnVuY3Rpb24gX2ZhaWw8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBhdXRoOiBBdXRoLFxuICBjb2RlOiBLLFxuICAuLi5kYXRhOiB7fSBleHRlbmRzIExlc3NBcHBOYW1lPEs+ID8gW0xlc3NBcHBOYW1lPEs+P10gOiBbTGVzc0FwcE5hbWU8Sz5dXG4pOiBuZXZlcjtcbmV4cG9ydCBmdW5jdGlvbiBfZmFpbDxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGF1dGhPckNvZGU6IEF1dGggfCBLLFxuICAuLi5yZXN0OiB1bmtub3duW11cbik6IG5ldmVyIHtcbiAgdGhyb3cgY3JlYXRlRXJyb3JJbnRlcm5hbChhdXRoT3JDb2RlLCAuLi5yZXN0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9jcmVhdGVFcnJvcjxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGNvZGU6IEssXG4gIC4uLmRhdGE6IHt9IGV4dGVuZHMgQXV0aEVycm9yUGFyYW1zW0tdXG4gICAgPyBbQXV0aEVycm9yUGFyYW1zW0tdP11cbiAgICA6IFtBdXRoRXJyb3JQYXJhbXNbS11dXG4pOiBGaXJlYmFzZUVycm9yO1xuZXhwb3J0IGZ1bmN0aW9uIF9jcmVhdGVFcnJvcjxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGF1dGg6IEF1dGgsXG4gIGNvZGU6IEssXG4gIC4uLmRhdGE6IHt9IGV4dGVuZHMgTGVzc0FwcE5hbWU8Sz4gPyBbTGVzc0FwcE5hbWU8Sz4/XSA6IFtMZXNzQXBwTmFtZTxLPl1cbik6IEZpcmViYXNlRXJyb3I7XG5leHBvcnQgZnVuY3Rpb24gX2NyZWF0ZUVycm9yPEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgYXV0aE9yQ29kZTogQXV0aCB8IEssXG4gIC4uLnJlc3Q6IHVua25vd25bXVxuKTogRmlyZWJhc2VFcnJvciB7XG4gIHJldHVybiBjcmVhdGVFcnJvckludGVybmFsKGF1dGhPckNvZGUsIC4uLnJlc3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2Vycm9yV2l0aEN1c3RvbU1lc3NhZ2UoXG4gIGF1dGg6IEF1dGgsXG4gIGNvZGU6IEF1dGhFcnJvckNvZGUsXG4gIG1lc3NhZ2U6IHN0cmluZ1xuKTogRmlyZWJhc2VFcnJvciB7XG4gIGNvbnN0IGVycm9yTWFwID0ge1xuICAgIC4uLihwcm9kRXJyb3JNYXAgYXMgRXJyb3JNYXBSZXRyaWV2ZXIpKCksXG4gICAgW2NvZGVdOiBtZXNzYWdlXG4gIH07XG4gIGNvbnN0IGZhY3RvcnkgPSBuZXcgRXJyb3JGYWN0b3J5PEF1dGhFcnJvckNvZGUsIEF1dGhFcnJvclBhcmFtcz4oXG4gICAgJ2F1dGgnLFxuICAgICdGaXJlYmFzZScsXG4gICAgZXJyb3JNYXBcbiAgKTtcbiAgcmV0dXJuIGZhY3RvcnkuY3JlYXRlKGNvZGUsIHtcbiAgICBhcHBOYW1lOiBhdXRoLm5hbWVcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihcbiAgYXV0aDogQXV0aFxuKTogRmlyZWJhc2VFcnJvciB7XG4gIHJldHVybiBfZXJyb3JXaXRoQ3VzdG9tTWVzc2FnZShcbiAgICBhdXRoLFxuICAgIEF1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9TVVBQT1JURUQsXG4gICAgJ09wZXJhdGlvbnMgdGhhdCBhbHRlciB0aGUgY3VycmVudCB1c2VyIGFyZSBub3Qgc3VwcG9ydGVkIGluIGNvbmp1bmN0aW9uIHdpdGggRmlyZWJhc2VTZXJ2ZXJBcHAnXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfYXNzZXJ0SW5zdGFuY2VPZihcbiAgYXV0aDogQXV0aCxcbiAgb2JqZWN0OiBvYmplY3QsXG4gIGluc3RhbmNlOiB1bmtub3duXG4pOiB2b2lkIHtcbiAgY29uc3QgY29uc3RydWN0b3JJbnN0YW5jZSA9IGluc3RhbmNlIGFzIHsgbmV3ICguLi5hcmdzOiB1bmtub3duW10pOiB1bmtub3duIH07XG4gIGlmICghKG9iamVjdCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9ySW5zdGFuY2UpKSB7XG4gICAgaWYgKGNvbnN0cnVjdG9ySW5zdGFuY2UubmFtZSAhPT0gb2JqZWN0LmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuICAgIH1cblxuICAgIHRocm93IF9lcnJvcldpdGhDdXN0b21NZXNzYWdlKFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IsXG4gICAgICBgVHlwZSBvZiAke29iamVjdC5jb25zdHJ1Y3Rvci5uYW1lfSBkb2VzIG5vdCBtYXRjaCBleHBlY3RlZCBpbnN0YW5jZS5gICtcbiAgICAgICAgYERpZCB5b3UgcGFzcyBhIHJlZmVyZW5jZSBmcm9tIGEgZGlmZmVyZW50IEF1dGggU0RLP2BcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9ySW50ZXJuYWw8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBhdXRoT3JDb2RlOiBBdXRoIHwgSyxcbiAgLi4ucmVzdDogdW5rbm93bltdXG4pOiBGaXJlYmFzZUVycm9yIHtcbiAgaWYgKHR5cGVvZiBhdXRoT3JDb2RlICE9PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IGNvZGUgPSByZXN0WzBdIGFzIEs7XG4gICAgY29uc3QgZnVsbFBhcmFtcyA9IFsuLi5yZXN0LnNsaWNlKDEpXSBhcyBBdXRoRXJyb3JMaXN0UGFyYW1zPEs+O1xuICAgIGlmIChmdWxsUGFyYW1zWzBdKSB7XG4gICAgICBmdWxsUGFyYW1zWzBdLmFwcE5hbWUgPSBhdXRoT3JDb2RlLm5hbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIChhdXRoT3JDb2RlIGFzIEF1dGhJbnRlcm5hbCkuX2Vycm9yRmFjdG9yeS5jcmVhdGUoXG4gICAgICBjb2RlLFxuICAgICAgLi4uZnVsbFBhcmFtc1xuICAgICk7XG4gIH1cblxuICByZXR1cm4gX0RFRkFVTFRfQVVUSF9FUlJPUl9GQUNUT1JZLmNyZWF0ZShcbiAgICBhdXRoT3JDb2RlLFxuICAgIC4uLihyZXN0IGFzIEF1dGhFcnJvckxpc3RQYXJhbXM8Sz4pXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfYXNzZXJ0PEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgYXNzZXJ0aW9uOiB1bmtub3duLFxuICBjb2RlOiBLLFxuICAuLi5kYXRhOiB7fSBleHRlbmRzIEF1dGhFcnJvclBhcmFtc1tLXVxuICAgID8gW0F1dGhFcnJvclBhcmFtc1tLXT9dXG4gICAgOiBbQXV0aEVycm9yUGFyYW1zW0tdXVxuKTogYXNzZXJ0cyBhc3NlcnRpb247XG5leHBvcnQgZnVuY3Rpb24gX2Fzc2VydDxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGFzc2VydGlvbjogdW5rbm93bixcbiAgYXV0aDogQXV0aCxcbiAgY29kZTogSyxcbiAgLi4uZGF0YToge30gZXh0ZW5kcyBMZXNzQXBwTmFtZTxLPiA/IFtMZXNzQXBwTmFtZTxLPj9dIDogW0xlc3NBcHBOYW1lPEs+XVxuKTogYXNzZXJ0cyBhc3NlcnRpb247XG5leHBvcnQgZnVuY3Rpb24gX2Fzc2VydDxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGFzc2VydGlvbjogdW5rbm93bixcbiAgYXV0aE9yQ29kZTogQXV0aCB8IEssXG4gIC4uLnJlc3Q6IHVua25vd25bXVxuKTogYXNzZXJ0cyBhc3NlcnRpb24ge1xuICBpZiAoIWFzc2VydGlvbikge1xuICAgIHRocm93IGNyZWF0ZUVycm9ySW50ZXJuYWwoYXV0aE9yQ29kZSwgLi4ucmVzdCk7XG4gIH1cbn1cblxuLy8gV2UgcmVhbGx5IGRvIHdhbnQgdG8gYWNjZXB0IGxpdGVyYWxseSBhbnkgZnVuY3Rpb24gdHlwZSBoZXJlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xudHlwZSBUeXBlRXhwZWN0YXRpb24gPSBGdW5jdGlvbiB8IHN0cmluZyB8IE1hcFR5cGU7XG5cbmludGVyZmFjZSBNYXBUeXBlIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgVHlwZUV4cGVjdGF0aW9uIHwgT3B0aW9uYWw+IHt9XG5cbmNsYXNzIE9wdGlvbmFsIHtcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgdHlwZTogVHlwZUV4cGVjdGF0aW9uKSB7fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb3B0KHR5cGU6IFR5cGVFeHBlY3RhdGlvbik6IE9wdGlvbmFsIHtcbiAgcmV0dXJuIG5ldyBPcHRpb25hbCh0eXBlKTtcbn1cblxuLyoqXG4gKiBBc3NlcnRzIHRoZSBydW50aW1lIHR5cGVzIG9mIGFyZ3VtZW50cy4gVGhlICdleHBlY3RlZCcgZmllbGQgY2FuIGJlIG9uZSBvZlxuICogYSBjbGFzcywgYSBzdHJpbmcgKHJlcHJlc2VudGluZyBhIFwidHlwZW9mXCIgY2FsbCksIG9yIGEgcmVjb3JkIG1hcCBvZiBuYW1lXG4gKiB0byB0eXBlLiBGdXJ0aGVybW9yZSwgdGhlIG9wdCgpIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIG1hcmsgYSBmaWVsZCBhc1xuICogb3B0aW9uYWwuIEZvciBleGFtcGxlOlxuICpcbiAqIGZ1bmN0aW9uIGZvbyhhdXRoOiBBdXRoLCBwcm9maWxlOiB7ZGlzcGxheU5hbWU/OiBzdHJpbmd9LCB1cGRhdGUgPSBmYWxzZSkge1xuICogICBhc3NlcnRUeXBlcyhhcmd1bWVudHMsIFtBdXRoSW1wbCwge2Rpc3BsYXlOYW1lOiBvcHQoJ3N0cmluZycpfSwgb3B0KCdib29sZWFuJyldKTtcbiAqIH1cbiAqXG4gKiBvcHQoKSBjYW4gYmUgdXNlZCBmb3IgYW55IHR5cGU6XG4gKiBmdW5jdGlvbiBmb28oYXV0aD86IEF1dGgpIHtcbiAqICAgYXNzZXJ0VHlwZXMoYXJndW1lbnRzLCBbb3B0KEF1dGhJbXBsKV0pO1xuICogfVxuICpcbiAqIFRoZSBzdHJpbmcgdHlwZXMgY2FuIGJlIG9yJ2QgdG9nZXRoZXIsIGFuZCB5b3UgY2FuIHVzZSBcIm51bGxcIiBhcyB3ZWxsIChub3RlXG4gKiB0aGF0IHR5cGVvZiBudWxsID09PSAnb2JqZWN0JzsgdGhpcyBpcyBhbiBlZGdlIGNhc2UpLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBmdW5jdGlvbiBmb28ocHJvZmlsZToge2Rpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbH0pIHtcbiAqICAgYXNzZXJ0VHlwZXMoYXJndW1lbnRzLCBbe2Rpc3BsYXlOYW1lOiBvcHQoJ3N0cmluZ3xudWxsJyl9XSk7XG4gKiB9XG4gKlxuICogQHBhcmFtIGFyZ3NcbiAqIEBwYXJhbSBleHBlY3RlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VHlwZXMoXG4gIGFyZ3M6IE9taXQ8SUFyZ3VtZW50cywgJ2NhbGxlZSc+LFxuICAuLi5leHBlY3RlZDogQXJyYXk8VHlwZUV4cGVjdGF0aW9uIHwgT3B0aW9uYWw+XG4pOiB2b2lkIHtcbiAgaWYgKGFyZ3MubGVuZ3RoID4gZXhwZWN0ZWQubGVuZ3RoKSB7XG4gICAgX2ZhaWwoQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUiwge30pO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHBlY3RlZC5sZW5ndGg7IGkrKykge1xuICAgIGxldCBleHBlY3QgPSBleHBlY3RlZFtpXTtcbiAgICBjb25zdCBhcmcgPSBhcmdzW2ldO1xuXG4gICAgaWYgKGV4cGVjdCBpbnN0YW5jZW9mIE9wdGlvbmFsKSB7XG4gICAgICAvLyBJZiB0aGUgYXJnIGlzIHVuZGVmaW5lZCwgdGhlbiBpdCBtYXRjaGVzIFwib3B0aW9uYWxcIiBhbmQgd2UgY2FuIG1vdmUgdG9cbiAgICAgIC8vIHRoZSBuZXh0IGFyZ1xuICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZXhwZWN0ID0gZXhwZWN0LnR5cGU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBleHBlY3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBIYW5kbGUgdGhlIGVkZ2UgY2FzZSBmb3IgbnVsbCBiZWNhdXNlIHR5cGVvZiBudWxsID09PSAnb2JqZWN0J1xuICAgICAgaWYgKGV4cGVjdC5pbmNsdWRlcygnbnVsbCcpICYmIGFyZyA9PT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVxdWlyZWQgPSBleHBlY3Quc3BsaXQoJ3wnKTtcbiAgICAgIF9hc3NlcnQocmVxdWlyZWQuaW5jbHVkZXModHlwZW9mIGFyZyksIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IsIHt9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBlY3QgPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBSZWN1cnNpdmVseSBjaGVjayByZWNvcmQgYXJndW1lbnRzXG4gICAgICBjb25zdCByZWNvcmQgPSBhcmcgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICBjb25zdCBtYXAgPSBleHBlY3QgYXMgTWFwVHlwZTtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhleHBlY3QpO1xuXG4gICAgICBhc3NlcnRUeXBlcyhcbiAgICAgICAga2V5cy5tYXAoayA9PiByZWNvcmRba10pLFxuICAgICAgICAuLi5rZXlzLm1hcChrID0+IG1hcFtrXSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9hc3NlcnQoYXJnIGluc3RhbmNlb2YgZXhwZWN0LCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SLCB7fSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVW5jb25kaXRpb25hbGx5IGZhaWxzLCB0aHJvd2luZyBhbiBpbnRlcm5hbCBlcnJvciB3aXRoIHRoZSBnaXZlbiBtZXNzYWdlLlxuICpcbiAqIEBwYXJhbSBmYWlsdXJlIHR5cGUgb2YgZmFpbHVyZSBlbmNvdW50ZXJlZFxuICogQHRocm93cyBFcnJvclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVidWdGYWlsKGZhaWx1cmU6IHN0cmluZyk6IG5ldmVyIHtcbiAgLy8gTG9nIHRoZSBmYWlsdXJlIGluIGFkZGl0aW9uIHRvIHRocm93IGFuIGV4Y2VwdGlvbiwganVzdCBpbiBjYXNlIHRoZVxuICAvLyBleGNlcHRpb24gaXMgc3dhbGxvd2VkLlxuICBjb25zdCBtZXNzYWdlID0gYElOVEVSTkFMIEFTU0VSVElPTiBGQUlMRUQ6IGAgKyBmYWlsdXJlO1xuICBfbG9nRXJyb3IobWVzc2FnZSk7XG5cbiAgLy8gTk9URTogV2UgZG9uJ3QgdXNlIEZpcmViYXNlRXJyb3IgaGVyZSBiZWNhdXNlIHRoZXNlIGFyZSBpbnRlcm5hbCBmYWlsdXJlc1xuICAvLyB0aGF0IGNhbm5vdCBiZSBoYW5kbGVkIGJ5IHRoZSB1c2VyLiAoQWxzbyBpdCB3b3VsZCBjcmVhdGUgYSBjaXJjdWxhclxuICAvLyBkZXBlbmRlbmN5IGJldHdlZW4gdGhlIGVycm9yIGFuZCBhc3NlcnQgbW9kdWxlcyB3aGljaCBkb2Vzbid0IHdvcmsuKVxuICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG59XG5cbi8qKlxuICogRmFpbHMgaWYgdGhlIGdpdmVuIGFzc2VydGlvbiBjb25kaXRpb24gaXMgZmFsc2UsIHRocm93aW5nIGFuIEVycm9yIHdpdGggdGhlXG4gKiBnaXZlbiBtZXNzYWdlIGlmIGl0IGRpZC5cbiAqXG4gKiBAcGFyYW0gYXNzZXJ0aW9uXG4gKiBAcGFyYW0gbWVzc2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVidWdBc3NlcnQoXG4gIGFzc2VydGlvbjogdW5rbm93bixcbiAgbWVzc2FnZTogc3RyaW5nXG4pOiBhc3NlcnRzIGFzc2VydGlvbiB7XG4gIGlmICghYXNzZXJ0aW9uKSB7XG4gICAgZGVidWdGYWlsKG1lc3NhZ2UpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRDdXJyZW50VXJsKCk6IHN0cmluZyB7XG4gIHJldHVybiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYubG9jYXRpb24/LmhyZWYpIHx8ICcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzSHR0cE9ySHR0cHMoKTogYm9vbGVhbiB7XG4gIHJldHVybiBfZ2V0Q3VycmVudFNjaGVtZSgpID09PSAnaHR0cDonIHx8IF9nZXRDdXJyZW50U2NoZW1lKCkgPT09ICdodHRwczonO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2dldEN1cnJlbnRTY2hlbWUoKTogc3RyaW5nIHwgbnVsbCB7XG4gIHJldHVybiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYubG9jYXRpb24/LnByb3RvY29sKSB8fCBudWxsO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGlzQnJvd3NlckV4dGVuc2lvbiB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IF9pc0h0dHBPckh0dHBzIH0gZnJvbSAnLi9sb2NhdGlvbic7XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGJyb3dzZXIgaXMgd29ya2luZyBvbmxpbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9pc09ubGluZSgpOiBib29sZWFuIHtcbiAgaWYgKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgbmF2aWdhdG9yICYmXG4gICAgJ29uTGluZScgaW4gbmF2aWdhdG9yICYmXG4gICAgdHlwZW9mIG5hdmlnYXRvci5vbkxpbmUgPT09ICdib29sZWFuJyAmJlxuICAgIC8vIEFwcGx5IG9ubHkgZm9yIHRyYWRpdGlvbmFsIHdlYiBhcHBzIGFuZCBDaHJvbWUgZXh0ZW5zaW9ucy5cbiAgICAvLyBUaGlzIGlzIGVzcGVjaWFsbHkgdHJ1ZSBmb3IgQ29yZG92YSBhcHBzIHdoaWNoIGhhdmUgdW5yZWxpYWJsZVxuICAgIC8vIG5hdmlnYXRvci5vbkxpbmUgYmVoYXZpb3IgdW5sZXNzIGNvcmRvdmEtcGx1Z2luLW5ldHdvcmstaW5mb3JtYXRpb24gaXNcbiAgICAvLyBpbnN0YWxsZWQgd2hpY2ggb3ZlcndyaXRlcyB0aGUgbmF0aXZlIG5hdmlnYXRvci5vbkxpbmUgdmFsdWUgYW5kXG4gICAgLy8gZGVmaW5lcyBuYXZpZ2F0b3IuY29ubmVjdGlvbi5cbiAgICAoX2lzSHR0cE9ySHR0cHMoKSB8fCBpc0Jyb3dzZXJFeHRlbnNpb24oKSB8fCAnY29ubmVjdGlvbicgaW4gbmF2aWdhdG9yKVxuICApIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yLm9uTGluZTtcbiAgfVxuICAvLyBJZiB3ZSBjYW4ndCBkZXRlcm1pbmUgdGhlIHN0YXRlLCBhc3N1bWUgaXQgaXMgb25saW5lLlxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRVc2VyTGFuZ3VhZ2UoKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IG5hdmlnYXRvckxhbmd1YWdlOiBOYXZpZ2F0b3JMYW5ndWFnZSA9IG5hdmlnYXRvcjtcbiAgcmV0dXJuIChcbiAgICAvLyBNb3N0IHJlbGlhYmxlLCBidXQgb25seSBzdXBwb3J0ZWQgaW4gQ2hyb21lL0ZpcmVmb3guXG4gICAgKG5hdmlnYXRvckxhbmd1YWdlLmxhbmd1YWdlcyAmJiBuYXZpZ2F0b3JMYW5ndWFnZS5sYW5ndWFnZXNbMF0pIHx8XG4gICAgLy8gU3VwcG9ydGVkIGluIG1vc3QgYnJvd3NlcnMsIGJ1dCByZXR1cm5zIHRoZSBsYW5ndWFnZSBvZiB0aGUgYnJvd3NlclxuICAgIC8vIFVJLCBub3QgdGhlIGxhbmd1YWdlIHNldCBpbiBicm93c2VyIHNldHRpbmdzLlxuICAgIG5hdmlnYXRvckxhbmd1YWdlLmxhbmd1YWdlIHx8XG4gICAgLy8gQ291bGRuJ3QgZGV0ZXJtaW5lIGxhbmd1YWdlLlxuICAgIG51bGxcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBpc01vYmlsZUNvcmRvdmEsIGlzUmVhY3ROYXRpdmUgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBfaXNPbmxpbmUgfSBmcm9tICcuL25hdmlnYXRvcic7XG5pbXBvcnQgeyBkZWJ1Z0Fzc2VydCB9IGZyb20gJy4vYXNzZXJ0JztcblxuZXhwb3J0IGNvbnN0IGVudW0gRGVsYXlNaW4ge1xuICBPRkZMSU5FID0gNTAwMFxufVxuXG4vKipcbiAqIEEgc3RydWN0dXJlIHRvIGhlbHAgcGljayBiZXR3ZWVuIGEgcmFuZ2Ugb2YgbG9uZyBhbmQgc2hvcnQgZGVsYXkgZHVyYXRpb25zXG4gKiBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuIEluIGdlbmVyYWwsIHRoZSBsb25nIGRlbGF5IGlzIHVzZWQgZm9yXG4gKiBtb2JpbGUgZW52aXJvbm1lbnRzIHdoZXJlYXMgc2hvcnQgZGVsYXlzIGFyZSB1c2VkIGZvciBkZXNrdG9wIGVudmlyb25tZW50cy5cbiAqL1xuZXhwb3J0IGNsYXNzIERlbGF5IHtcbiAgLy8gVGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBvZmZsaW5lIGRlbGF5IHRpbWVvdXQgaW4gbXMuXG5cbiAgcHJpdmF0ZSByZWFkb25seSBpc01vYmlsZTogYm9vbGVhbjtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBzaG9ydERlbGF5OiBudW1iZXIsXG4gICAgcHJpdmF0ZSByZWFkb25seSBsb25nRGVsYXk6IG51bWJlclxuICApIHtcbiAgICAvLyBJbnRlcm5hbCBlcnJvciB3aGVuIGltcHJvcGVybHkgaW5pdGlhbGl6ZWQuXG4gICAgZGVidWdBc3NlcnQoXG4gICAgICBsb25nRGVsYXkgPiBzaG9ydERlbGF5LFxuICAgICAgJ1Nob3J0IGRlbGF5IHNob3VsZCBiZSBsZXNzIHRoYW4gbG9uZyBkZWxheSEnXG4gICAgKTtcbiAgICB0aGlzLmlzTW9iaWxlID0gaXNNb2JpbGVDb3Jkb3ZhKCkgfHwgaXNSZWFjdE5hdGl2ZSgpO1xuICB9XG5cbiAgZ2V0KCk6IG51bWJlciB7XG4gICAgaWYgKCFfaXNPbmxpbmUoKSkge1xuICAgICAgLy8gUGljayB0aGUgc2hvcnRlciB0aW1lb3V0LlxuICAgICAgcmV0dXJuIE1hdGgubWluKERlbGF5TWluLk9GRkxJTkUsIHRoaXMuc2hvcnREZWxheSk7XG4gICAgfVxuICAgIC8vIElmIHJ1bm5pbmcgaW4gYSBtb2JpbGUgZW52aXJvbm1lbnQsIHJldHVybiB0aGUgbG9uZyBkZWxheSwgb3RoZXJ3aXNlXG4gICAgLy8gcmV0dXJuIHRoZSBzaG9ydCBkZWxheS5cbiAgICAvLyBUaGlzIGNvdWxkIGJlIGltcHJvdmVkIGluIHRoZSBmdXR1cmUgdG8gZHluYW1pY2FsbHkgY2hhbmdlIGJhc2VkIG9uIG90aGVyXG4gICAgLy8gdmFyaWFibGVzIGluc3RlYWQgb2YganVzdCByZWFkaW5nIHRoZSBjdXJyZW50IGVudmlyb25tZW50LlxuICAgIHJldHVybiB0aGlzLmlzTW9iaWxlID8gdGhpcy5sb25nRGVsYXkgOiB0aGlzLnNob3J0RGVsYXk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb25maWdJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgZGVidWdBc3NlcnQgfSBmcm9tICcuL2Fzc2VydCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBfZW11bGF0b3JVcmwoY29uZmlnOiBDb25maWdJbnRlcm5hbCwgcGF0aD86IHN0cmluZyk6IHN0cmluZyB7XG4gIGRlYnVnQXNzZXJ0KGNvbmZpZy5lbXVsYXRvciwgJ0VtdWxhdG9yIHNob3VsZCBhbHdheXMgYmUgc2V0IGhlcmUnKTtcbiAgY29uc3QgeyB1cmwgfSA9IGNvbmZpZy5lbXVsYXRvcjtcblxuICBpZiAoIXBhdGgpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgcmV0dXJuIGAke3VybH0ke3BhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgxKSA6IHBhdGh9YDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBkZWJ1Z0ZhaWwgfSBmcm9tICcuL2Fzc2VydCc7XG5cbmV4cG9ydCBjbGFzcyBGZXRjaFByb3ZpZGVyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgZmV0Y2hJbXBsOiB0eXBlb2YgZmV0Y2ggfCBudWxsO1xuICBwcml2YXRlIHN0YXRpYyBoZWFkZXJzSW1wbDogdHlwZW9mIEhlYWRlcnMgfCBudWxsO1xuICBwcml2YXRlIHN0YXRpYyByZXNwb25zZUltcGw6IHR5cGVvZiBSZXNwb25zZSB8IG51bGw7XG5cbiAgc3RhdGljIGluaXRpYWxpemUoXG4gICAgZmV0Y2hJbXBsOiB0eXBlb2YgZmV0Y2gsXG4gICAgaGVhZGVyc0ltcGw/OiB0eXBlb2YgSGVhZGVycyxcbiAgICByZXNwb25zZUltcGw/OiB0eXBlb2YgUmVzcG9uc2VcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5mZXRjaEltcGwgPSBmZXRjaEltcGw7XG4gICAgaWYgKGhlYWRlcnNJbXBsKSB7XG4gICAgICB0aGlzLmhlYWRlcnNJbXBsID0gaGVhZGVyc0ltcGw7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZUltcGwpIHtcbiAgICAgIHRoaXMucmVzcG9uc2VJbXBsID0gcmVzcG9uc2VJbXBsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBmZXRjaCgpOiB0eXBlb2YgZmV0Y2gge1xuICAgIGlmICh0aGlzLmZldGNoSW1wbCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hJbXBsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmICdmZXRjaCcgaW4gc2VsZikge1xuICAgICAgcmV0dXJuIHNlbGYuZmV0Y2g7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcy5mZXRjaCkge1xuICAgICAgcmV0dXJuIGdsb2JhbFRoaXMuZmV0Y2g7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZmV0Y2ggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmV0Y2g7XG4gICAgfVxuICAgIGRlYnVnRmFpbChcbiAgICAgICdDb3VsZCBub3QgZmluZCBmZXRjaCBpbXBsZW1lbnRhdGlvbiwgbWFrZSBzdXJlIHlvdSBjYWxsIEZldGNoUHJvdmlkZXIuaW5pdGlhbGl6ZSgpIHdpdGggYW4gYXBwcm9wcmlhdGUgcG9seWZpbGwnXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBoZWFkZXJzKCk6IHR5cGVvZiBIZWFkZXJzIHtcbiAgICBpZiAodGhpcy5oZWFkZXJzSW1wbCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZGVyc0ltcGw7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgJ0hlYWRlcnMnIGluIHNlbGYpIHtcbiAgICAgIHJldHVybiBzZWxmLkhlYWRlcnM7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcy5IZWFkZXJzKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsVGhpcy5IZWFkZXJzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIEhlYWRlcnMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gSGVhZGVycztcbiAgICB9XG4gICAgZGVidWdGYWlsKFxuICAgICAgJ0NvdWxkIG5vdCBmaW5kIEhlYWRlcnMgaW1wbGVtZW50YXRpb24sIG1ha2Ugc3VyZSB5b3UgY2FsbCBGZXRjaFByb3ZpZGVyLmluaXRpYWxpemUoKSB3aXRoIGFuIGFwcHJvcHJpYXRlIHBvbHlmaWxsJ1xuICAgICk7XG4gIH1cblxuICBzdGF0aWMgcmVzcG9uc2UoKTogdHlwZW9mIFJlc3BvbnNlIHtcbiAgICBpZiAodGhpcy5yZXNwb25zZUltcGwpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlSW1wbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiAnUmVzcG9uc2UnIGluIHNlbGYpIHtcbiAgICAgIHJldHVybiBzZWxmLlJlc3BvbnNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFRoaXMuUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiBnbG9iYWxUaGlzLlJlc3BvbnNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIFJlc3BvbnNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIFJlc3BvbnNlO1xuICAgIH1cbiAgICBkZWJ1Z0ZhaWwoXG4gICAgICAnQ291bGQgbm90IGZpbmQgUmVzcG9uc2UgaW1wbGVtZW50YXRpb24sIG1ha2Ugc3VyZSB5b3UgY2FsbCBGZXRjaFByb3ZpZGVyLmluaXRpYWxpemUoKSB3aXRoIGFuIGFwcHJvcHJpYXRlIHBvbHlmaWxsJ1xuICAgICk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vY29yZS9lcnJvcnMnO1xuXG4vKipcbiAqIEVycm9ycyB0aGF0IGNhbiBiZSByZXR1cm5lZCBieSB0aGUgYmFja2VuZFxuICovXG5leHBvcnQgY29uc3QgZW51bSBTZXJ2ZXJFcnJvciB7XG4gIEFETUlOX09OTFlfT1BFUkFUSU9OID0gJ0FETUlOX09OTFlfT1BFUkFUSU9OJyxcbiAgQkxPQ0tJTkdfRlVOQ1RJT05fRVJST1JfUkVTUE9OU0UgPSAnQkxPQ0tJTkdfRlVOQ1RJT05fRVJST1JfUkVTUE9OU0UnLFxuICBDQVBUQ0hBX0NIRUNLX0ZBSUxFRCA9ICdDQVBUQ0hBX0NIRUNLX0ZBSUxFRCcsXG4gIENPUlNfVU5TVVBQT1JURUQgPSAnQ09SU19VTlNVUFBPUlRFRCcsXG4gIENSRURFTlRJQUxfTUlTTUFUQ0ggPSAnQ1JFREVOVElBTF9NSVNNQVRDSCcsXG4gIENSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTiA9ICdDUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU4nLFxuICBEWU5BTUlDX0xJTktfTk9UX0FDVElWQVRFRCA9ICdEWU5BTUlDX0xJTktfTk9UX0FDVElWQVRFRCcsXG4gIEVNQUlMX0NIQU5HRV9ORUVEU19WRVJJRklDQVRJT04gPSAnRU1BSUxfQ0hBTkdFX05FRURTX1ZFUklGSUNBVElPTicsXG4gIEVNQUlMX0VYSVNUUyA9ICdFTUFJTF9FWElTVFMnLFxuICBFTUFJTF9OT1RfRk9VTkQgPSAnRU1BSUxfTk9UX0ZPVU5EJyxcbiAgRVhQSVJFRF9PT0JfQ09ERSA9ICdFWFBJUkVEX09PQl9DT0RFJyxcbiAgRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRUQgPSAnRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRUQnLFxuICBJTlZBTElEX0FQUF9DUkVERU5USUFMID0gJ0lOVkFMSURfQVBQX0NSRURFTlRJQUwnLFxuICBJTlZBTElEX0FQUF9JRCA9ICdJTlZBTElEX0FQUF9JRCcsXG4gIElOVkFMSURfQ0VSVF9IQVNIID0gJ0lOVkFMSURfQ0VSVF9IQVNIJyxcbiAgSU5WQUxJRF9DT0RFID0gJ0lOVkFMSURfQ09ERScsXG4gIElOVkFMSURfQ09OVElOVUVfVVJJID0gJ0lOVkFMSURfQ09OVElOVUVfVVJJJyxcbiAgSU5WQUxJRF9DVVNUT01fVE9LRU4gPSAnSU5WQUxJRF9DVVNUT01fVE9LRU4nLFxuICBJTlZBTElEX0RZTkFNSUNfTElOS19ET01BSU4gPSAnSU5WQUxJRF9EWU5BTUlDX0xJTktfRE9NQUlOJyxcbiAgSU5WQUxJRF9FTUFJTCA9ICdJTlZBTElEX0VNQUlMJyxcbiAgSU5WQUxJRF9JRF9UT0tFTiA9ICdJTlZBTElEX0lEX1RPS0VOJyxcbiAgSU5WQUxJRF9JRFBfUkVTUE9OU0UgPSAnSU5WQUxJRF9JRFBfUkVTUE9OU0UnLFxuICBJTlZBTElEX0lERU5USUZJRVIgPSAnSU5WQUxJRF9JREVOVElGSUVSJyxcbiAgSU5WQUxJRF9MT0dJTl9DUkVERU5USUFMUyA9ICdJTlZBTElEX0xPR0lOX0NSRURFTlRJQUxTJyxcbiAgSU5WQUxJRF9NRVNTQUdFX1BBWUxPQUQgPSAnSU5WQUxJRF9NRVNTQUdFX1BBWUxPQUQnLFxuICBJTlZBTElEX01GQV9QRU5ESU5HX0NSRURFTlRJQUwgPSAnSU5WQUxJRF9NRkFfUEVORElOR19DUkVERU5USUFMJyxcbiAgSU5WQUxJRF9PQVVUSF9DTElFTlRfSUQgPSAnSU5WQUxJRF9PQVVUSF9DTElFTlRfSUQnLFxuICBJTlZBTElEX09PQl9DT0RFID0gJ0lOVkFMSURfT09CX0NPREUnLFxuICBJTlZBTElEX1BBU1NXT1JEID0gJ0lOVkFMSURfUEFTU1dPUkQnLFxuICBJTlZBTElEX1BFTkRJTkdfVE9LRU4gPSAnSU5WQUxJRF9QRU5ESU5HX1RPS0VOJyxcbiAgSU5WQUxJRF9QSE9ORV9OVU1CRVIgPSAnSU5WQUxJRF9QSE9ORV9OVU1CRVInLFxuICBJTlZBTElEX1BST1ZJREVSX0lEID0gJ0lOVkFMSURfUFJPVklERVJfSUQnLFxuICBJTlZBTElEX1JFQ0lQSUVOVF9FTUFJTCA9ICdJTlZBTElEX1JFQ0lQSUVOVF9FTUFJTCcsXG4gIElOVkFMSURfU0VOREVSID0gJ0lOVkFMSURfU0VOREVSJyxcbiAgSU5WQUxJRF9TRVNTSU9OX0lORk8gPSAnSU5WQUxJRF9TRVNTSU9OX0lORk8nLFxuICBJTlZBTElEX1RFTVBPUkFSWV9QUk9PRiA9ICdJTlZBTElEX1RFTVBPUkFSWV9QUk9PRicsXG4gIElOVkFMSURfVEVOQU5UX0lEID0gJ0lOVkFMSURfVEVOQU5UX0lEJyxcbiAgTUZBX0VOUk9MTE1FTlRfTk9UX0ZPVU5EID0gJ01GQV9FTlJPTExNRU5UX05PVF9GT1VORCcsXG4gIE1JU1NJTkdfQU5EUk9JRF9QQUNLQUdFX05BTUUgPSAnTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRScsXG4gIE1JU1NJTkdfQVBQX0NSRURFTlRJQUwgPSAnTUlTU0lOR19BUFBfQ1JFREVOVElBTCcsXG4gIE1JU1NJTkdfQ09ERSA9ICdNSVNTSU5HX0NPREUnLFxuICBNSVNTSU5HX0NPTlRJTlVFX1VSSSA9ICdNSVNTSU5HX0NPTlRJTlVFX1VSSScsXG4gIE1JU1NJTkdfQ1VTVE9NX1RPS0VOID0gJ01JU1NJTkdfQ1VTVE9NX1RPS0VOJyxcbiAgTUlTU0lOR19JT1NfQlVORExFX0lEID0gJ01JU1NJTkdfSU9TX0JVTkRMRV9JRCcsXG4gIE1JU1NJTkdfTUZBX0VOUk9MTE1FTlRfSUQgPSAnTUlTU0lOR19NRkFfRU5ST0xMTUVOVF9JRCcsXG4gIE1JU1NJTkdfTUZBX1BFTkRJTkdfQ1JFREVOVElBTCA9ICdNSVNTSU5HX01GQV9QRU5ESU5HX0NSRURFTlRJQUwnLFxuICBNSVNTSU5HX09PQl9DT0RFID0gJ01JU1NJTkdfT09CX0NPREUnLFxuICBNSVNTSU5HX09SX0lOVkFMSURfTk9OQ0UgPSAnTUlTU0lOR19PUl9JTlZBTElEX05PTkNFJyxcbiAgTUlTU0lOR19QQVNTV09SRCA9ICdNSVNTSU5HX1BBU1NXT1JEJyxcbiAgTUlTU0lOR19SRVFfVFlQRSA9ICdNSVNTSU5HX1JFUV9UWVBFJyxcbiAgTUlTU0lOR19QSE9ORV9OVU1CRVIgPSAnTUlTU0lOR19QSE9ORV9OVU1CRVInLFxuICBNSVNTSU5HX1NFU1NJT05fSU5GTyA9ICdNSVNTSU5HX1NFU1NJT05fSU5GTycsXG4gIE9QRVJBVElPTl9OT1RfQUxMT1dFRCA9ICdPUEVSQVRJT05fTk9UX0FMTE9XRUQnLFxuICBQQVNTV09SRF9MT0dJTl9ESVNBQkxFRCA9ICdQQVNTV09SRF9MT0dJTl9ESVNBQkxFRCcsXG4gIFFVT1RBX0VYQ0VFREVEID0gJ1FVT1RBX0VYQ0VFREVEJyxcbiAgUkVTRVRfUEFTU1dPUkRfRVhDRUVEX0xJTUlUID0gJ1JFU0VUX1BBU1NXT1JEX0VYQ0VFRF9MSU1JVCcsXG4gIFJFSkVDVEVEX0NSRURFTlRJQUwgPSAnUkVKRUNURURfQ1JFREVOVElBTCcsXG4gIFNFQ09ORF9GQUNUT1JfRVhJU1RTID0gJ1NFQ09ORF9GQUNUT1JfRVhJU1RTJyxcbiAgU0VDT05EX0ZBQ1RPUl9MSU1JVF9FWENFRURFRCA9ICdTRUNPTkRfRkFDVE9SX0xJTUlUX0VYQ0VFREVEJyxcbiAgU0VTU0lPTl9FWFBJUkVEID0gJ1NFU1NJT05fRVhQSVJFRCcsXG4gIFRFTkFOVF9JRF9NSVNNQVRDSCA9ICdURU5BTlRfSURfTUlTTUFUQ0gnLFxuICBUT0tFTl9FWFBJUkVEID0gJ1RPS0VOX0VYUElSRUQnLFxuICBUT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVIgPSAnVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSJyxcbiAgVU5TVVBQT1JURURfRklSU1RfRkFDVE9SID0gJ1VOU1VQUE9SVEVEX0ZJUlNUX0ZBQ1RPUicsXG4gIFVOU1VQUE9SVEVEX1RFTkFOVF9PUEVSQVRJT04gPSAnVU5TVVBQT1JURURfVEVOQU5UX09QRVJBVElPTicsXG4gIFVOQVVUSE9SSVpFRF9ET01BSU4gPSAnVU5BVVRIT1JJWkVEX0RPTUFJTicsXG4gIFVOVkVSSUZJRURfRU1BSUwgPSAnVU5WRVJJRklFRF9FTUFJTCcsXG4gIFVTRVJfQ0FOQ0VMTEVEID0gJ1VTRVJfQ0FOQ0VMTEVEJyxcbiAgVVNFUl9ESVNBQkxFRCA9ICdVU0VSX0RJU0FCTEVEJyxcbiAgVVNFUl9OT1RfRk9VTkQgPSAnVVNFUl9OT1RfRk9VTkQnLFxuICBXRUFLX1BBU1NXT1JEID0gJ1dFQUtfUEFTU1dPUkQnLFxuICBSRUNBUFRDSEFfTk9UX0VOQUJMRUQgPSAnUkVDQVBUQ0hBX05PVF9FTkFCTEVEJyxcbiAgTUlTU0lOR19SRUNBUFRDSEFfVE9LRU4gPSAnTUlTU0lOR19SRUNBUFRDSEFfVE9LRU4nLFxuICBJTlZBTElEX1JFQ0FQVENIQV9UT0tFTiA9ICdJTlZBTElEX1JFQ0FQVENIQV9UT0tFTicsXG4gIElOVkFMSURfUkVDQVBUQ0hBX0FDVElPTiA9ICdJTlZBTElEX1JFQ0FQVENIQV9BQ1RJT04nLFxuICBNSVNTSU5HX0NMSUVOVF9UWVBFID0gJ01JU1NJTkdfQ0xJRU5UX1RZUEUnLFxuICBNSVNTSU5HX1JFQ0FQVENIQV9WRVJTSU9OID0gJ01JU1NJTkdfUkVDQVBUQ0hBX1ZFUlNJT04nLFxuICBJTlZBTElEX1JFQ0FQVENIQV9WRVJTSU9OID0gJ0lOVkFMSURfUkVDQVBUQ0hBX1ZFUlNJT04nLFxuICBJTlZBTElEX1JFUV9UWVBFID0gJ0lOVkFMSURfUkVRX1RZUEUnLFxuICBQQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UUyA9ICdQQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UUydcbn1cblxuLyoqXG4gKiBBUEkgUmVzcG9uc2UgaW4gdGhlIGV2ZW50IG9mIGFuIGVycm9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSnNvbkVycm9yIHtcbiAgZXJyb3I6IHtcbiAgICBjb2RlOiBudW1iZXI7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGVycm9ycz86IFtcbiAgICAgIHtcbiAgICAgICAgbWVzc2FnZTogU2VydmVyRXJyb3I7XG4gICAgICAgIGRvbWFpbjogc3RyaW5nO1xuICAgICAgICByZWFzb246IHN0cmluZztcbiAgICAgIH1cbiAgICBdO1xuICB9O1xufVxuXG4vKipcbiAqIFR5cGUgZGVmaW5pdGlvbiBmb3IgYSBtYXAgZnJvbSBzZXJ2ZXIgZXJyb3JzIHRvIGRldmVsb3BlciB2aXNpYmxlIGVycm9yc1xuICovXG5leHBvcnQgZGVjbGFyZSB0eXBlIFNlcnZlckVycm9yTWFwPEFwaUVycm9yIGV4dGVuZHMgc3RyaW5nPiA9IHtcbiAgcmVhZG9ubHkgW0sgaW4gQXBpRXJyb3JdOiBBdXRoRXJyb3JDb2RlO1xufTtcblxuLyoqXG4gKiBNYXAgZnJvbSBlcnJvcnMgcmV0dXJuZWQgYnkgdGhlIHNlcnZlciB0byBlcnJvcnMgdG8gZGV2ZWxvcGVyIHZpc2libGUgZXJyb3JzXG4gKi9cbmV4cG9ydCBjb25zdCBTRVJWRVJfRVJST1JfTUFQOiBQYXJ0aWFsPFNlcnZlckVycm9yTWFwPFNlcnZlckVycm9yPj4gPSB7XG4gIC8vIEN1c3RvbSB0b2tlbiBlcnJvcnMuXG4gIFtTZXJ2ZXJFcnJvci5DUkVERU5USUFMX01JU01BVENIXTogQXV0aEVycm9yQ29kZS5DUkVERU5USUFMX01JU01BVENILFxuICAvLyBUaGlzIGNhbiBvbmx5IGhhcHBlbiBpZiB0aGUgU0RLIHNlbmRzIGEgYmFkIHJlcXVlc3QuXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX0NVU1RPTV9UT0tFTl06IEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IsXG5cbiAgLy8gQ3JlYXRlIEF1dGggVVJJIGVycm9ycy5cbiAgW1NlcnZlckVycm9yLklOVkFMSURfSURFTlRJRklFUl06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9FTUFJTCxcbiAgLy8gVGhpcyBjYW4gb25seSBoYXBwZW4gaWYgdGhlIFNESyBzZW5kcyBhIGJhZCByZXF1ZXN0LlxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19DT05USU5VRV9VUkldOiBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SLFxuXG4gIC8vIFNpZ24gaW4gd2l0aCBlbWFpbCBhbmQgcGFzc3dvcmQgZXJyb3JzIChzb21lIGFwcGx5IHRvIHNpZ24gdXAgdG9vKS5cbiAgW1NlcnZlckVycm9yLklOVkFMSURfUEFTU1dPUkRdOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfUEFTU1dPUkQsXG4gIC8vIFRoaXMgY2FuIG9ubHkgaGFwcGVuIGlmIHRoZSBTREsgc2VuZHMgYSBiYWQgcmVxdWVzdC5cbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfUEFTU1dPUkRdOiBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfUEFTU1dPUkQsXG4gIC8vIFRocm93biBpZiBFbWFpbCBFbnVtZXJhdGlvbiBQcm90ZWN0aW9uIGlzIGVuYWJsZWQgaW4gdGhlIHByb2plY3QgYW5kIHRoZSBlbWFpbCBvciBwYXNzd29yZCBpc1xuICAvLyBpbnZhbGlkLlxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9MT0dJTl9DUkVERU5USUFMU106IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9DUkVERU5USUFMLFxuXG4gIC8vIFNpZ24gdXAgd2l0aCBlbWFpbCBhbmQgcGFzc3dvcmQgZXJyb3JzLlxuICBbU2VydmVyRXJyb3IuRU1BSUxfRVhJU1RTXTogQXV0aEVycm9yQ29kZS5FTUFJTF9FWElTVFMsXG4gIFtTZXJ2ZXJFcnJvci5QQVNTV09SRF9MT0dJTl9ESVNBQkxFRF06IEF1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9BTExPV0VELFxuXG4gIC8vIFZlcmlmeSBhc3NlcnRpb24gZm9yIHNpZ24gaW4gd2l0aCBjcmVkZW50aWFsIGVycm9yczpcbiAgW1NlcnZlckVycm9yLklOVkFMSURfSURQX1JFU1BPTlNFXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX0NSRURFTlRJQUwsXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX1BFTkRJTkdfVE9LRU5dOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfQ1JFREVOVElBTCxcbiAgW1NlcnZlckVycm9yLkZFREVSQVRFRF9VU0VSX0lEX0FMUkVBRFlfTElOS0VEXTpcbiAgICBBdXRoRXJyb3JDb2RlLkNSRURFTlRJQUxfQUxSRUFEWV9JTl9VU0UsXG5cbiAgLy8gVGhpcyBjYW4gb25seSBoYXBwZW4gaWYgdGhlIFNESyBzZW5kcyBhIGJhZCByZXF1ZXN0LlxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19SRVFfVFlQRV06IEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IsXG5cbiAgLy8gU2VuZCBQYXNzd29yZCByZXNldCBlbWFpbCBlcnJvcnM6XG4gIFtTZXJ2ZXJFcnJvci5FTUFJTF9OT1RfRk9VTkRdOiBBdXRoRXJyb3JDb2RlLlVTRVJfREVMRVRFRCxcbiAgW1NlcnZlckVycm9yLlJFU0VUX1BBU1NXT1JEX0VYQ0VFRF9MSU1JVF06XG4gICAgQXV0aEVycm9yQ29kZS5UT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVIsXG5cbiAgW1NlcnZlckVycm9yLkVYUElSRURfT09CX0NPREVdOiBBdXRoRXJyb3JDb2RlLkVYUElSRURfT09CX0NPREUsXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX09PQl9DT0RFXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX09PQl9DT0RFLFxuICAvLyBUaGlzIGNhbiBvbmx5IGhhcHBlbiBpZiB0aGUgU0RLIHNlbmRzIGEgYmFkIHJlcXVlc3QuXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX09PQl9DT0RFXTogQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUixcblxuICAvLyBPcGVyYXRpb25zIHRoYXQgcmVxdWlyZSBJRCB0b2tlbiBpbiByZXF1ZXN0OlxuICBbU2VydmVyRXJyb3IuQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOXTpcbiAgICBBdXRoRXJyb3JDb2RlLkNSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTixcbiAgW1NlcnZlckVycm9yLklOVkFMSURfSURfVE9LRU5dOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfQVVUSCxcbiAgW1NlcnZlckVycm9yLlRPS0VOX0VYUElSRURdOiBBdXRoRXJyb3JDb2RlLlRPS0VOX0VYUElSRUQsXG4gIFtTZXJ2ZXJFcnJvci5VU0VSX05PVF9GT1VORF06IEF1dGhFcnJvckNvZGUuVE9LRU5fRVhQSVJFRCxcblxuICAvLyBPdGhlciBlcnJvcnMuXG4gIFtTZXJ2ZXJFcnJvci5UT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVJdOlxuICAgIEF1dGhFcnJvckNvZGUuVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSLFxuICBbU2VydmVyRXJyb3IuUEFTU1dPUkRfRE9FU19OT1RfTUVFVF9SRVFVSVJFTUVOVFNdOlxuICAgIEF1dGhFcnJvckNvZGUuUEFTU1dPUkRfRE9FU19OT1RfTUVFVF9SRVFVSVJFTUVOVFMsXG5cbiAgLy8gUGhvbmUgQXV0aCByZWxhdGVkIGVycm9ycy5cbiAgW1NlcnZlckVycm9yLklOVkFMSURfQ09ERV06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9DT0RFLFxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9TRVNTSU9OX0lORk9dOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfU0VTU0lPTl9JTkZPLFxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9URU1QT1JBUllfUFJPT0ZdOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfQ1JFREVOVElBTCxcbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfU0VTU0lPTl9JTkZPXTogQXV0aEVycm9yQ29kZS5NSVNTSU5HX1NFU1NJT05fSU5GTyxcbiAgW1NlcnZlckVycm9yLlNFU1NJT05fRVhQSVJFRF06IEF1dGhFcnJvckNvZGUuQ09ERV9FWFBJUkVELFxuXG4gIC8vIE90aGVyIGFjdGlvbiBjb2RlIGVycm9ycyB3aGVuIGFkZGl0aW9uYWwgc2V0dGluZ3MgcGFzc2VkLlxuICAvLyBNSVNTSU5HX0NPTlRJTlVFX1VSSSBpcyBnZXR0aW5nIG1hcHBlZCB0byBJTlRFUk5BTF9FUlJPUiBhYm92ZS5cbiAgLy8gVGhpcyBpcyBPSyBhcyB0aGlzIGVycm9yIHdpbGwgYmUgY2F1Z2h0IGJ5IGNsaWVudCBzaWRlIHZhbGlkYXRpb24uXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FXTpcbiAgICBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQU5EUk9JRF9QQUNLQUdFX05BTUUsXG4gIFtTZXJ2ZXJFcnJvci5VTkFVVEhPUklaRURfRE9NQUlOXTogQXV0aEVycm9yQ29kZS5VTkFVVEhPUklaRURfRE9NQUlOLFxuXG4gIC8vIGdldFByb2plY3RDb25maWcgZXJyb3JzIHdoZW4gY2xpZW50SWQgaXMgcGFzc2VkLlxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9PQVVUSF9DTElFTlRfSURdOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfT0FVVEhfQ0xJRU5UX0lELFxuXG4gIC8vIFVzZXIgYWN0aW9ucyAoc2lnbi11cCBvciBkZWxldGlvbikgZGlzYWJsZWQgZXJyb3JzLlxuICBbU2VydmVyRXJyb3IuQURNSU5fT05MWV9PUEVSQVRJT05dOiBBdXRoRXJyb3JDb2RlLkFETUlOX09OTFlfT1BFUkFUSU9OLFxuXG4gIC8vIE11bHRpIGZhY3RvciByZWxhdGVkIGVycm9ycy5cbiAgW1NlcnZlckVycm9yLklOVkFMSURfTUZBX1BFTkRJTkdfQ1JFREVOVElBTF06XG4gICAgQXV0aEVycm9yQ29kZS5JTlZBTElEX01GQV9TRVNTSU9OLFxuICBbU2VydmVyRXJyb3IuTUZBX0VOUk9MTE1FTlRfTk9UX0ZPVU5EXTogQXV0aEVycm9yQ29kZS5NRkFfSU5GT19OT1RfRk9VTkQsXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX01GQV9FTlJPTExNRU5UX0lEXTogQXV0aEVycm9yQ29kZS5NSVNTSU5HX01GQV9JTkZPLFxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19NRkFfUEVORElOR19DUkVERU5USUFMXTpcbiAgICBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfTUZBX1NFU1NJT04sXG4gIFtTZXJ2ZXJFcnJvci5TRUNPTkRfRkFDVE9SX0VYSVNUU106XG4gICAgQXV0aEVycm9yQ29kZS5TRUNPTkRfRkFDVE9SX0FMUkVBRFlfRU5ST0xMRUQsXG4gIFtTZXJ2ZXJFcnJvci5TRUNPTkRfRkFDVE9SX0xJTUlUX0VYQ0VFREVEXTpcbiAgICBBdXRoRXJyb3JDb2RlLlNFQ09ORF9GQUNUT1JfTElNSVRfRVhDRUVERUQsXG5cbiAgLy8gQmxvY2tpbmcgZnVuY3Rpb25zIHJlbGF0ZWQgZXJyb3JzLlxuICBbU2VydmVyRXJyb3IuQkxPQ0tJTkdfRlVOQ1RJT05fRVJST1JfUkVTUE9OU0VdOiBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SLFxuXG4gIC8vIFJlY2FwdGNoYSByZWxhdGVkIGVycm9ycy5cbiAgW1NlcnZlckVycm9yLlJFQ0FQVENIQV9OT1RfRU5BQkxFRF06IEF1dGhFcnJvckNvZGUuUkVDQVBUQ0hBX05PVF9FTkFCTEVELFxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19SRUNBUFRDSEFfVE9LRU5dOiBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfUkVDQVBUQ0hBX1RPS0VOLFxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9SRUNBUFRDSEFfVE9LRU5dOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfUkVDQVBUQ0hBX1RPS0VOLFxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9SRUNBUFRDSEFfQUNUSU9OXTpcbiAgICBBdXRoRXJyb3JDb2RlLklOVkFMSURfUkVDQVBUQ0hBX0FDVElPTixcbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfQ0xJRU5UX1RZUEVdOiBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQ0xJRU5UX1RZUEUsXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX1JFQ0FQVENIQV9WRVJTSU9OXTpcbiAgICBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfUkVDQVBUQ0hBX1ZFUlNJT04sXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX1JFQ0FQVENIQV9WRVJTSU9OXTpcbiAgICBBdXRoRXJyb3JDb2RlLklOVkFMSURfUkVDQVBUQ0hBX1ZFUlNJT04sXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX1JFUV9UWVBFXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX1JFUV9UWVBFXG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpcmViYXNlRXJyb3IsIGlzQ2xvdWRmbGFyZVdvcmtlciwgcXVlcnlzdHJpbmcgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IEF1dGhFcnJvckNvZGUsIE5hbWVkRXJyb3JQYXJhbXMgfSBmcm9tICcuLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQge1xuICBfY3JlYXRlRXJyb3IsXG4gIF9lcnJvcldpdGhDdXN0b21NZXNzYWdlLFxuICBfZmFpbFxufSBmcm9tICcuLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IERlbGF5IH0gZnJvbSAnLi4vY29yZS91dGlsL2RlbGF5JztcbmltcG9ydCB7IF9lbXVsYXRvclVybCB9IGZyb20gJy4uL2NvcmUvdXRpbC9lbXVsYXRvcic7XG5pbXBvcnQgeyBGZXRjaFByb3ZpZGVyIH0gZnJvbSAnLi4vY29yZS91dGlsL2ZldGNoX3Byb3ZpZGVyJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsLCBDb25maWdJbnRlcm5hbCB9IGZyb20gJy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlLCBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IElkVG9rZW5NZmFSZXNwb25zZSB9IGZyb20gJy4vYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IFNFUlZFUl9FUlJPUl9NQVAsIFNlcnZlckVycm9yLCBTZXJ2ZXJFcnJvck1hcCB9IGZyb20gJy4vZXJyb3JzJztcblxuZXhwb3J0IGNvbnN0IGVudW0gSHR0cE1ldGhvZCB7XG4gIFBPU1QgPSAnUE9TVCcsXG4gIEdFVCA9ICdHRVQnXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIEh0dHBIZWFkZXIge1xuICBDT05URU5UX1RZUEUgPSAnQ29udGVudC1UeXBlJyxcbiAgWF9GSVJFQkFTRV9MT0NBTEUgPSAnWC1GaXJlYmFzZS1Mb2NhbGUnLFxuICBYX0NMSUVOVF9WRVJTSU9OID0gJ1gtQ2xpZW50LVZlcnNpb24nLFxuICBYX0ZJUkVCQVNFX0dNUElEID0gJ1gtRmlyZWJhc2UtZ21waWQnLFxuICBYX0ZJUkVCQVNFX0NMSUVOVCA9ICdYLUZpcmViYXNlLUNsaWVudCcsXG4gIFhfRklSRUJBU0VfQVBQX0NIRUNLID0gJ1gtRmlyZWJhc2UtQXBwQ2hlY2snXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIEVuZHBvaW50IHtcbiAgQ1JFQVRFX0FVVEhfVVJJID0gJy92MS9hY2NvdW50czpjcmVhdGVBdXRoVXJpJyxcbiAgREVMRVRFX0FDQ09VTlQgPSAnL3YxL2FjY291bnRzOmRlbGV0ZScsXG4gIFJFU0VUX1BBU1NXT1JEID0gJy92MS9hY2NvdW50czpyZXNldFBhc3N3b3JkJyxcbiAgU0lHTl9VUCA9ICcvdjEvYWNjb3VudHM6c2lnblVwJyxcbiAgU0lHTl9JTl9XSVRIX0NVU1RPTV9UT0tFTiA9ICcvdjEvYWNjb3VudHM6c2lnbkluV2l0aEN1c3RvbVRva2VuJyxcbiAgU0lHTl9JTl9XSVRIX0VNQUlMX0xJTksgPSAnL3YxL2FjY291bnRzOnNpZ25JbldpdGhFbWFpbExpbmsnLFxuICBTSUdOX0lOX1dJVEhfSURQID0gJy92MS9hY2NvdW50czpzaWduSW5XaXRoSWRwJyxcbiAgU0lHTl9JTl9XSVRIX1BBU1NXT1JEID0gJy92MS9hY2NvdW50czpzaWduSW5XaXRoUGFzc3dvcmQnLFxuICBTSUdOX0lOX1dJVEhfUEhPTkVfTlVNQkVSID0gJy92MS9hY2NvdW50czpzaWduSW5XaXRoUGhvbmVOdW1iZXInLFxuICBTRU5EX1ZFUklGSUNBVElPTl9DT0RFID0gJy92MS9hY2NvdW50czpzZW5kVmVyaWZpY2F0aW9uQ29kZScsXG4gIFNFTkRfT09CX0NPREUgPSAnL3YxL2FjY291bnRzOnNlbmRPb2JDb2RlJyxcbiAgU0VUX0FDQ09VTlRfSU5GTyA9ICcvdjEvYWNjb3VudHM6dXBkYXRlJyxcbiAgR0VUX0FDQ09VTlRfSU5GTyA9ICcvdjEvYWNjb3VudHM6bG9va3VwJyxcbiAgR0VUX1JFQ0FQVENIQV9QQVJBTSA9ICcvdjEvcmVjYXB0Y2hhUGFyYW1zJyxcbiAgU1RBUlRfTUZBX0VOUk9MTE1FTlQgPSAnL3YyL2FjY291bnRzL21mYUVucm9sbG1lbnQ6c3RhcnQnLFxuICBGSU5BTElaRV9NRkFfRU5ST0xMTUVOVCA9ICcvdjIvYWNjb3VudHMvbWZhRW5yb2xsbWVudDpmaW5hbGl6ZScsXG4gIFNUQVJUX01GQV9TSUdOX0lOID0gJy92Mi9hY2NvdW50cy9tZmFTaWduSW46c3RhcnQnLFxuICBGSU5BTElaRV9NRkFfU0lHTl9JTiA9ICcvdjIvYWNjb3VudHMvbWZhU2lnbkluOmZpbmFsaXplJyxcbiAgV0lUSERSQVdfTUZBID0gJy92Mi9hY2NvdW50cy9tZmFFbnJvbGxtZW50OndpdGhkcmF3JyxcbiAgR0VUX1BST0pFQ1RfQ09ORklHID0gJy92MS9wcm9qZWN0cycsXG4gIEdFVF9SRUNBUFRDSEFfQ09ORklHID0gJy92Mi9yZWNhcHRjaGFDb25maWcnLFxuICBHRVRfUEFTU1dPUkRfUE9MSUNZID0gJy92Mi9wYXNzd29yZFBvbGljeScsXG4gIFRPS0VOID0gJy92MS90b2tlbicsXG4gIFJFVk9LRV9UT0tFTiA9ICcvdjIvYWNjb3VudHM6cmV2b2tlVG9rZW4nXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIFJlY2FwdGNoYUNsaWVudFR5cGUge1xuICBXRUIgPSAnQ0xJRU5UX1RZUEVfV0VCJyxcbiAgQU5EUk9JRCA9ICdDTElFTlRfVFlQRV9BTkRST0lEJyxcbiAgSU9TID0gJ0NMSUVOVF9UWVBFX0lPUydcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gUmVjYXB0Y2hhVmVyc2lvbiB7XG4gIEVOVEVSUFJJU0UgPSAnUkVDQVBUQ0hBX0VOVEVSUFJJU0UnXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIFJlY2FwdGNoYUFjdGlvbk5hbWUge1xuICBTSUdOX0lOX1dJVEhfUEFTU1dPUkQgPSAnc2lnbkluV2l0aFBhc3N3b3JkJyxcbiAgR0VUX09PQl9DT0RFID0gJ2dldE9vYkNvZGUnLFxuICBTSUdOX1VQX1BBU1NXT1JEID0gJ3NpZ25VcFBhc3N3b3JkJ1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBFbmZvcmNlbWVudFN0YXRlIHtcbiAgRU5GT1JDRSA9ICdFTkZPUkNFJyxcbiAgQVVESVQgPSAnQVVESVQnLFxuICBPRkYgPSAnT0ZGJyxcbiAgRU5GT1JDRU1FTlRfU1RBVEVfVU5TUEVDSUZJRUQgPSAnRU5GT1JDRU1FTlRfU1RBVEVfVU5TUEVDSUZJRUQnXG59XG5cbi8vIFByb3ZpZGVycyB0aGF0IGhhdmUgcmVDQVBUQ0hBIEVudGVycHJpc2Ugc3VwcG9ydC5cbmV4cG9ydCBjb25zdCBlbnVtIFJlY2FwdGNoYVByb3ZpZGVyIHtcbiAgRU1BSUxfUEFTU1dPUkRfUFJPVklERVIgPSAnRU1BSUxfUEFTU1dPUkRfUFJPVklERVInXG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0FQSV9USU1FT1VUX01TID0gbmV3IERlbGF5KDMwXzAwMCwgNjBfMDAwKTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9hZGRUaWRJZk5lY2Vzc2FyeTxUIGV4dGVuZHMgeyB0ZW5hbnRJZD86IHN0cmluZyB9PihcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogVFxuKTogVCB7XG4gIGlmIChhdXRoLnRlbmFudElkICYmICFyZXF1ZXN0LnRlbmFudElkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlcXVlc3QsXG4gICAgICB0ZW5hbnRJZDogYXV0aC50ZW5hbnRJZFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3Q7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfcGVyZm9ybUFwaVJlcXVlc3Q8VCwgVj4oXG4gIGF1dGg6IEF1dGgsXG4gIG1ldGhvZDogSHR0cE1ldGhvZCxcbiAgcGF0aDogRW5kcG9pbnQsXG4gIHJlcXVlc3Q/OiBULFxuICBjdXN0b21FcnJvck1hcDogUGFydGlhbDxTZXJ2ZXJFcnJvck1hcDxTZXJ2ZXJFcnJvcj4+ID0ge31cbik6IFByb21pc2U8Vj4ge1xuICByZXR1cm4gX3BlcmZvcm1GZXRjaFdpdGhFcnJvckhhbmRsaW5nKGF1dGgsIGN1c3RvbUVycm9yTWFwLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGJvZHkgPSB7fTtcbiAgICBsZXQgcGFyYW1zID0ge307XG4gICAgaWYgKHJlcXVlc3QpIHtcbiAgICAgIGlmIChtZXRob2QgPT09IEh0dHBNZXRob2QuR0VUKSB7XG4gICAgICAgIHBhcmFtcyA9IHJlcXVlc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5ID0ge1xuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcXVlcnkgPSBxdWVyeXN0cmluZyh7XG4gICAgICBrZXk6IGF1dGguY29uZmlnLmFwaUtleSxcbiAgICAgIC4uLnBhcmFtc1xuICAgIH0pLnNsaWNlKDEpO1xuXG4gICAgY29uc3QgaGVhZGVycyA9IGF3YWl0IChhdXRoIGFzIEF1dGhJbnRlcm5hbCkuX2dldEFkZGl0aW9uYWxIZWFkZXJzKCk7XG4gICAgaGVhZGVyc1tIdHRwSGVhZGVyLkNPTlRFTlRfVFlQRV0gPSAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICBpZiAoYXV0aC5sYW5ndWFnZUNvZGUpIHtcbiAgICAgIGhlYWRlcnNbSHR0cEhlYWRlci5YX0ZJUkVCQVNFX0xPQ0FMRV0gPSBhdXRoLmxhbmd1YWdlQ29kZTtcbiAgICB9XG5cbiAgICBjb25zdCBmZXRjaEFyZ3M6IFJlcXVlc3RJbml0ID0ge1xuICAgICAgbWV0aG9kLFxuICAgICAgaGVhZGVycyxcbiAgICAgIC4uLmJvZHlcbiAgICB9O1xuXG4gICAgLyogU2VjdXJpdHktY29uc2Npb3VzIHNlcnZlci1zaWRlIGZyYW1ld29ya3MgdGVuZCB0byBoYXZlIGJ1aWx0IGluIG1pdGlnYXRpb25zIGZvciByZWZlcnJlclxuICAgICAgIHByb2JsZW1zXCIuIFNlZSB0aGUgQ2xvdWRmbGFyZSBHaXRIdWIgaXNzdWUgIzQ4NzogRXJyb3I6IFRoZSAncmVmZXJyZXJQb2xpY3knIGZpZWxkIG9uXG4gICAgICAgJ1JlcXVlc3RJbml0aWFsaXplckRpY3QnIGlzIG5vdCBpbXBsZW1lbnRlZC5cIlxuICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZGZsYXJlL25leHQtb24tcGFnZXMvaXNzdWVzLzQ4NyAqL1xuICAgIGlmICghaXNDbG91ZGZsYXJlV29ya2VyKCkpIHtcbiAgICAgIGZldGNoQXJncy5yZWZlcnJlclBvbGljeSA9ICduby1yZWZlcnJlcic7XG4gICAgfVxuXG4gICAgcmV0dXJuIEZldGNoUHJvdmlkZXIuZmV0Y2goKShcbiAgICAgIF9nZXRGaW5hbFRhcmdldChhdXRoLCBhdXRoLmNvbmZpZy5hcGlIb3N0LCBwYXRoLCBxdWVyeSksXG4gICAgICBmZXRjaEFyZ3NcbiAgICApO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9wZXJmb3JtRmV0Y2hXaXRoRXJyb3JIYW5kbGluZzxWPihcbiAgYXV0aDogQXV0aCxcbiAgY3VzdG9tRXJyb3JNYXA6IFBhcnRpYWw8U2VydmVyRXJyb3JNYXA8U2VydmVyRXJyb3I+PixcbiAgZmV0Y2hGbjogKCkgPT4gUHJvbWlzZTxSZXNwb25zZT5cbik6IFByb21pc2U8Vj4ge1xuICAoYXV0aCBhcyBBdXRoSW50ZXJuYWwpLl9jYW5Jbml0RW11bGF0b3IgPSBmYWxzZTtcbiAgY29uc3QgZXJyb3JNYXAgPSB7IC4uLlNFUlZFUl9FUlJPUl9NQVAsIC4uLmN1c3RvbUVycm9yTWFwIH07XG4gIHRyeSB7XG4gICAgY29uc3QgbmV0d29ya1RpbWVvdXQgPSBuZXcgTmV0d29ya1RpbWVvdXQ8UmVzcG9uc2U+KGF1dGgpO1xuICAgIGNvbnN0IHJlc3BvbnNlOiBSZXNwb25zZSA9IGF3YWl0IFByb21pc2UucmFjZTxQcm9taXNlPFJlc3BvbnNlPj4oW1xuICAgICAgZmV0Y2hGbigpLFxuICAgICAgbmV0d29ya1RpbWVvdXQucHJvbWlzZVxuICAgIF0pO1xuXG4gICAgLy8gSWYgd2UndmUgcmVhY2hlZCB0aGlzIHBvaW50LCB0aGUgZmV0Y2ggc3VjY2VlZGVkIGFuZCB0aGUgbmV0d29ya1RpbWVvdXRcbiAgICAvLyBkaWRuJ3QgdGhyb3c7IGNsZWFyIHRoZSBuZXR3b3JrIHRpbWVvdXQgZGVsYXkgc28gdGhhdCBOb2RlIHdvbid0IGhhbmdcbiAgICBuZXR3b3JrVGltZW91dC5jbGVhck5ldHdvcmtUaW1lb3V0KCk7XG5cbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICgnbmVlZENvbmZpcm1hdGlvbicgaW4ganNvbikge1xuICAgICAgdGhyb3cgX21ha2VUYWdnZWRFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLk5FRURfQ09ORklSTUFUSU9OLCBqc29uKTtcbiAgICB9XG5cbiAgICBpZiAocmVzcG9uc2Uub2sgJiYgISgnZXJyb3JNZXNzYWdlJyBpbiBqc29uKSkge1xuICAgICAgcmV0dXJuIGpzb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHJlc3BvbnNlLm9rID8ganNvbi5lcnJvck1lc3NhZ2UgOiBqc29uLmVycm9yLm1lc3NhZ2U7XG4gICAgICBjb25zdCBbc2VydmVyRXJyb3JDb2RlLCBzZXJ2ZXJFcnJvck1lc3NhZ2VdID0gZXJyb3JNZXNzYWdlLnNwbGl0KCcgOiAnKTtcbiAgICAgIGlmIChzZXJ2ZXJFcnJvckNvZGUgPT09IFNlcnZlckVycm9yLkZFREVSQVRFRF9VU0VSX0lEX0FMUkVBRFlfTElOS0VEKSB7XG4gICAgICAgIHRocm93IF9tYWtlVGFnZ2VkRXJyb3IoXG4gICAgICAgICAgYXV0aCxcbiAgICAgICAgICBBdXRoRXJyb3JDb2RlLkNSRURFTlRJQUxfQUxSRUFEWV9JTl9VU0UsXG4gICAgICAgICAganNvblxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChzZXJ2ZXJFcnJvckNvZGUgPT09IFNlcnZlckVycm9yLkVNQUlMX0VYSVNUUykge1xuICAgICAgICB0aHJvdyBfbWFrZVRhZ2dlZEVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuRU1BSUxfRVhJU1RTLCBqc29uKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VydmVyRXJyb3JDb2RlID09PSBTZXJ2ZXJFcnJvci5VU0VSX0RJU0FCTEVEKSB7XG4gICAgICAgIHRocm93IF9tYWtlVGFnZ2VkRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5VU0VSX0RJU0FCTEVELCBqc29uKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGF1dGhFcnJvciA9XG4gICAgICAgIGVycm9yTWFwW3NlcnZlckVycm9yQ29kZSBhcyBTZXJ2ZXJFcnJvcl0gfHxcbiAgICAgICAgKHNlcnZlckVycm9yQ29kZVxuICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgLnJlcGxhY2UoL1tfXFxzXSsvZywgJy0nKSBhcyB1bmtub3duIGFzIEF1dGhFcnJvckNvZGUpO1xuICAgICAgaWYgKHNlcnZlckVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aHJvdyBfZXJyb3JXaXRoQ3VzdG9tTWVzc2FnZShhdXRoLCBhdXRoRXJyb3IsIHNlcnZlckVycm9yTWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfZmFpbChhdXRoLCBhdXRoRXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgRmlyZWJhc2VFcnJvcikge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgLy8gQ2hhbmdpbmcgdGhpcyB0byBhIGRpZmZlcmVudCBlcnJvciBjb2RlIHdpbGwgbG9nIHVzZXIgb3V0IHdoZW4gdGhlcmUgaXMgYSBuZXR3b3JrIGVycm9yXG4gICAgLy8gYmVjYXVzZSB3ZSB0cmVhdCBhbnkgZXJyb3Igb3RoZXIgdGhhbiBORVRXT1JLX1JFUVVFU1RfRkFJTEVEIGFzIHRva2VuIGlzIGludmFsaWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWpzLXNkay9ibG9iLzRmYmM3MzYxMGQ3MGJlNGUwODUyZTdkZTYzYTM5Y2I3ODk3ZTg1NDYvcGFja2FnZXMvYXV0aC9zcmMvY29yZS9hdXRoL2F1dGhfaW1wbC50cyNMMzA5LUwzMTZcbiAgICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLk5FVFdPUktfUkVRVUVTVF9GQUlMRUQsIHsgJ21lc3NhZ2UnOiBTdHJpbmcoZSkgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9wZXJmb3JtU2lnbkluUmVxdWVzdDxULCBWIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlPihcbiAgYXV0aDogQXV0aCxcbiAgbWV0aG9kOiBIdHRwTWV0aG9kLFxuICBwYXRoOiBFbmRwb2ludCxcbiAgcmVxdWVzdD86IFQsXG4gIGN1c3RvbUVycm9yTWFwOiBQYXJ0aWFsPFNlcnZlckVycm9yTWFwPFNlcnZlckVycm9yPj4gPSB7fVxuKTogUHJvbWlzZTxWPiB7XG4gIGNvbnN0IHNlcnZlclJlc3BvbnNlID0gKGF3YWl0IF9wZXJmb3JtQXBpUmVxdWVzdDxULCBWIHwgSWRUb2tlbk1mYVJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIG1ldGhvZCxcbiAgICBwYXRoLFxuICAgIHJlcXVlc3QsXG4gICAgY3VzdG9tRXJyb3JNYXBcbiAgKSkgYXMgVjtcbiAgaWYgKCdtZmFQZW5kaW5nQ3JlZGVudGlhbCcgaW4gc2VydmVyUmVzcG9uc2UpIHtcbiAgICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLk1GQV9SRVFVSVJFRCwge1xuICAgICAgX3NlcnZlclJlc3BvbnNlOiBzZXJ2ZXJSZXNwb25zZVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNlcnZlclJlc3BvbnNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2dldEZpbmFsVGFyZ2V0KFxuICBhdXRoOiBBdXRoLFxuICBob3N0OiBzdHJpbmcsXG4gIHBhdGg6IHN0cmluZyxcbiAgcXVlcnk6IHN0cmluZ1xuKTogc3RyaW5nIHtcbiAgY29uc3QgYmFzZSA9IGAke2hvc3R9JHtwYXRofT8ke3F1ZXJ5fWA7XG5cbiAgaWYgKCEoYXV0aCBhcyBBdXRoSW50ZXJuYWwpLmNvbmZpZy5lbXVsYXRvcikge1xuICAgIHJldHVybiBgJHthdXRoLmNvbmZpZy5hcGlTY2hlbWV9Oi8vJHtiYXNlfWA7XG4gIH1cblxuICByZXR1cm4gX2VtdWxhdG9yVXJsKGF1dGguY29uZmlnIGFzIENvbmZpZ0ludGVybmFsLCBiYXNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9wYXJzZUVuZm9yY2VtZW50U3RhdGUoXG4gIGVuZm9yY2VtZW50U3RhdGVTdHI6IHN0cmluZ1xuKTogRW5mb3JjZW1lbnRTdGF0ZSB7XG4gIHN3aXRjaCAoZW5mb3JjZW1lbnRTdGF0ZVN0cikge1xuICAgIGNhc2UgJ0VORk9SQ0UnOlxuICAgICAgcmV0dXJuIEVuZm9yY2VtZW50U3RhdGUuRU5GT1JDRTtcbiAgICBjYXNlICdBVURJVCc6XG4gICAgICByZXR1cm4gRW5mb3JjZW1lbnRTdGF0ZS5BVURJVDtcbiAgICBjYXNlICdPRkYnOlxuICAgICAgcmV0dXJuIEVuZm9yY2VtZW50U3RhdGUuT0ZGO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gRW5mb3JjZW1lbnRTdGF0ZS5FTkZPUkNFTUVOVF9TVEFURV9VTlNQRUNJRklFRDtcbiAgfVxufVxuXG5jbGFzcyBOZXR3b3JrVGltZW91dDxUPiB7XG4gIC8vIE5vZGUgdGltZXJzIGFuZCBicm93c2VyIHRpbWVycyBhcmUgZnVuZGFtZW50YWxseSBpbmNvbXBhdGlibGUsIGJ1dCB3ZVxuICAvLyBkb24ndCBjYXJlIGFib3V0IHRoZSB2YWx1ZSBoZXJlXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHByaXZhdGUgdGltZXI6IGFueSB8IG51bGwgPSBudWxsO1xuICByZWFkb25seSBwcm9taXNlID0gbmV3IFByb21pc2U8VD4oKF8sIHJlamVjdCkgPT4ge1xuICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgIF9jcmVhdGVFcnJvcih0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuTkVUV09SS19SRVFVRVNUX0ZBSUxFRClcbiAgICAgICk7XG4gICAgfSwgREVGQVVMVF9BUElfVElNRU9VVF9NUy5nZXQoKSk7XG4gIH0pO1xuXG4gIGNsZWFyTmV0d29ya1RpbWVvdXQoKTogdm9pZCB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoKSB7fVxufVxuXG5pbnRlcmZhY2UgUG90ZW50aWFsUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge1xuICBlbWFpbD86IHN0cmluZztcbiAgcGhvbmVOdW1iZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfbWFrZVRhZ2dlZEVycm9yKFxuICBhdXRoOiBBdXRoLFxuICBjb2RlOiBBdXRoRXJyb3JDb2RlLFxuICByZXNwb25zZTogUG90ZW50aWFsUmVzcG9uc2Vcbik6IEZpcmViYXNlRXJyb3Ige1xuICBjb25zdCBlcnJvclBhcmFtczogTmFtZWRFcnJvclBhcmFtcyA9IHtcbiAgICBhcHBOYW1lOiBhdXRoLm5hbWVcbiAgfTtcblxuICBpZiAocmVzcG9uc2UuZW1haWwpIHtcbiAgICBlcnJvclBhcmFtcy5lbWFpbCA9IHJlc3BvbnNlLmVtYWlsO1xuICB9XG4gIGlmIChyZXNwb25zZS5waG9uZU51bWJlcikge1xuICAgIGVycm9yUGFyYW1zLnBob25lTnVtYmVyID0gcmVzcG9uc2UucGhvbmVOdW1iZXI7XG4gIH1cblxuICBjb25zdCBlcnJvciA9IF9jcmVhdGVFcnJvcihhdXRoLCBjb2RlLCBlcnJvclBhcmFtcyk7XG5cbiAgLy8gV2Uga25vdyBjdXN0b21EYXRhIGlzIGRlZmluZWQgb24gZXJyb3IgYmVjYXVzZSBlcnJvclBhcmFtcyBpcyBkZWZpbmVkXG4gIChlcnJvci5jdXN0b21EYXRhISBhcyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSkuX3Rva2VuUmVzcG9uc2UgPSByZXNwb25zZTtcbiAgcmV0dXJuIGVycm9yO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFJlY2FwdGNoYVBhcmFtZXRlcnMgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHtcbiAgR2V0UmVjYXB0Y2hhQ29uZmlnUmVzcG9uc2UsXG4gIFJlY2FwdGNoYUVuZm9yY2VtZW50UHJvdmlkZXJTdGF0ZVxufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vcmVjYXB0Y2hhJztcbmltcG9ydCB7IEVuZm9yY2VtZW50U3RhdGUsIF9wYXJzZUVuZm9yY2VtZW50U3RhdGUgfSBmcm9tICcuLi8uLi9hcGkvaW5kZXgnO1xuXG4vLyByZUNBUFRDSEEgdjIgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIFJlY2FwdGNoYSB7XG4gIHJlbmRlcjogKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHBhcmFtZXRlcnM6IFJlY2FwdGNoYVBhcmFtZXRlcnMpID0+IG51bWJlcjtcbiAgZ2V0UmVzcG9uc2U6IChpZDogbnVtYmVyKSA9PiBzdHJpbmc7XG4gIGV4ZWN1dGU6IChpZDogbnVtYmVyKSA9PiB1bmtub3duO1xuICByZXNldDogKGlkOiBudW1iZXIpID0+IHVua25vd247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1YyKFxuICBncmVjYXB0Y2hhOiBSZWNhcHRjaGEgfCBHcmVDQVBUQ0hBIHwgdW5kZWZpbmVkXG4pOiBncmVjYXB0Y2hhIGlzIFJlY2FwdGNoYSB7XG4gIHJldHVybiAoXG4gICAgZ3JlY2FwdGNoYSAhPT0gdW5kZWZpbmVkICYmXG4gICAgKGdyZWNhcHRjaGEgYXMgUmVjYXB0Y2hhKS5nZXRSZXNwb25zZSAhPT0gdW5kZWZpbmVkXG4gICk7XG59XG5cbi8vIHJlQ0FQVENIQSBFbnRlcnByaXNlICYgdjMgc2hhcmVkIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBHcmVDQVBUQ0hBVG9wTGV2ZWwgZXh0ZW5kcyBHcmVDQVBUQ0hBIHtcbiAgZW50ZXJwcmlzZTogR3JlQ0FQVENIQTtcbn1cblxuLy8gcmVDQVBUQ0hBIEVudGVycHJpc2UgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIEdyZUNBUFRDSEEge1xuICByZWFkeTogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuICBleGVjdXRlOiAoc2l0ZUtleTogc3RyaW5nLCBvcHRpb25zOiB7IGFjdGlvbjogc3RyaW5nIH0pID0+IFByb21pc2U8c3RyaW5nPjtcbiAgcmVuZGVyOiAoXG4gICAgY29udGFpbmVyOiBzdHJpbmcgfCBIVE1MRWxlbWVudCxcbiAgICBwYXJhbWV0ZXJzOiBHcmVDQVBUQ0hBUmVuZGVyT3B0aW9uXG4gICkgPT4gc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyZUNBUFRDSEFSZW5kZXJPcHRpb24ge1xuICBzaXRla2V5OiBzdHJpbmc7XG4gIHNpemU6ICdpbnZpc2libGUnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFbnRlcnByaXNlKFxuICBncmVjYXB0Y2hhOiBSZWNhcHRjaGEgfCBHcmVDQVBUQ0hBIHwgdW5kZWZpbmVkXG4pOiBncmVjYXB0Y2hhIGlzIEdyZUNBUFRDSEFUb3BMZXZlbCB7XG4gIHJldHVybiAoXG4gICAgZ3JlY2FwdGNoYSAhPT0gdW5kZWZpbmVkICYmXG4gICAgKGdyZWNhcHRjaGEgYXMgR3JlQ0FQVENIQVRvcExldmVsKS5lbnRlcnByaXNlICE9PSB1bmRlZmluZWRcbiAgKTtcbn1cblxuLy8gVE9ETyhjaHVhbnIpOiBSZXBsYWNlIHRoaXMgd2l0aCB0aGUgQXV0aFdpbmRvdyBhZnRlciByZXNvbHZpbmcgdGhlIGRlcGVuZGVuY3kgaXNzdWUgaW4gTm9kZS5qcyBlbnYuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGdyZWNhcHRjaGE/OiBSZWNhcHRjaGEgfCBHcmVDQVBUQ0hBVG9wTGV2ZWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlY2FwdGNoYUNvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgcmVDQVBUQ0hBIHNpdGUga2V5LlxuICAgKi9cbiAgc2l0ZUtleTogc3RyaW5nID0gJyc7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHByb3ZpZGVycyBhbmQgdGhlaXIgZW5hYmxlbWVudCBzdGF0dXMgZm9yIHJlQ0FQVENIQSBFbnRlcnByaXNlLlxuICAgKi9cbiAgcmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZTogUmVjYXB0Y2hhRW5mb3JjZW1lbnRQcm92aWRlclN0YXRlW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihyZXNwb25zZTogR2V0UmVjYXB0Y2hhQ29uZmlnUmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2UucmVjYXB0Y2hhS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncmVjYXB0Y2hhS2V5IHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICAvLyBFeGFtcGxlIHJlc3BvbnNlLnJlY2FwdGNoYUtleTogXCJwcm9qZWN0cy9wcm9qMTIzL2tleXMvc2l0ZWtleTEyM1wiXG4gICAgdGhpcy5zaXRlS2V5ID0gcmVzcG9uc2UucmVjYXB0Y2hhS2V5LnNwbGl0KCcvJylbM107XG4gICAgdGhpcy5yZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlID0gcmVzcG9uc2UucmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByZUNBUFRDSEEgRW50ZXJwcmlzZSBlbmZvcmNlbWVudCBzdGF0ZSBmb3IgdGhlIGdpdmVuIHByb3ZpZGVyLlxuICAgKlxuICAgKiBAcGFyYW0gcHJvdmlkZXJTdHIgLSBUaGUgcHJvdmlkZXIgd2hvc2UgZW5mb3JjZW1lbnQgc3RhdGUgaXMgdG8gYmUgcmV0dXJuZWQuXG4gICAqIEByZXR1cm5zIFRoZSByZUNBUFRDSEEgRW50ZXJwcmlzZSBlbmZvcmNlbWVudCBzdGF0ZSBmb3IgdGhlIGdpdmVuIHByb3ZpZGVyLlxuICAgKi9cbiAgZ2V0UHJvdmlkZXJFbmZvcmNlbWVudFN0YXRlKHByb3ZpZGVyU3RyOiBzdHJpbmcpOiBFbmZvcmNlbWVudFN0YXRlIHwgbnVsbCB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMucmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZSB8fFxuICAgICAgdGhpcy5yZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCByZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlIG9mIHRoaXMucmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZSkge1xuICAgICAgaWYgKFxuICAgICAgICByZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlLnByb3ZpZGVyICYmXG4gICAgICAgIHJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGUucHJvdmlkZXIgPT09IHByb3ZpZGVyU3RyXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIF9wYXJzZUVuZm9yY2VtZW50U3RhdGUoXG4gICAgICAgICAgcmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZS5lbmZvcmNlbWVudFN0YXRlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcmVDQVBUQ0hBIEVudGVycHJpc2UgZW5mb3JjZW1lbnQgc3RhdGUgZm9yIHRoZSBwcm92aWRlciBpcyBzZXQgdG8gRU5GT1JDRSBvciBBVURJVC5cbiAgICpcbiAgICogQHBhcmFtIHByb3ZpZGVyU3RyIC0gVGhlIHByb3ZpZGVyIHdob3NlIGVuYWJsZW1lbnQgc3RhdGUgaXMgdG8gYmUgcmV0dXJuZWQuXG4gICAqIEByZXR1cm5zIFdoZXRoZXIgb3Igbm90IHJlQ0FQVENIQSBFbnRlcnByaXNlIHByb3RlY3Rpb24gaXMgZW5hYmxlZCBmb3IgdGhlIGdpdmVuIHByb3ZpZGVyLlxuICAgKi9cbiAgaXNQcm92aWRlckVuYWJsZWQocHJvdmlkZXJTdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmdldFByb3ZpZGVyRW5mb3JjZW1lbnRTdGF0ZShwcm92aWRlclN0cikgPT09XG4gICAgICAgIEVuZm9yY2VtZW50U3RhdGUuRU5GT1JDRSB8fFxuICAgICAgdGhpcy5nZXRQcm92aWRlckVuZm9yY2VtZW50U3RhdGUocHJvdmlkZXJTdHIpID09PSBFbmZvcmNlbWVudFN0YXRlLkFVRElUXG4gICAgKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBSZWNhcHRjaGFDbGllbnRUeXBlLFxuICBSZWNhcHRjaGFWZXJzaW9uLFxuICBfcGVyZm9ybUFwaVJlcXVlc3QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeVxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW50ZXJmYWNlIEdldFJlY2FwdGNoYVBhcmFtUmVzcG9uc2Uge1xuICByZWNhcHRjaGFTaXRlS2V5Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVjYXB0Y2hhUGFyYW1zKGF1dGg6IEF1dGgpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gKFxuICAgIChcbiAgICAgIGF3YWl0IF9wZXJmb3JtQXBpUmVxdWVzdDx2b2lkLCBHZXRSZWNhcHRjaGFQYXJhbVJlc3BvbnNlPihcbiAgICAgICAgYXV0aCxcbiAgICAgICAgSHR0cE1ldGhvZC5HRVQsXG4gICAgICAgIEVuZHBvaW50LkdFVF9SRUNBUFRDSEFfUEFSQU1cbiAgICAgIClcbiAgICApLnJlY2FwdGNoYVNpdGVLZXkgfHwgJydcbiAgKTtcbn1cblxuLy8gVGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgYXJlIGZvciByZUNBUFRDSEEgZW50ZXJwcmlzZSBpbnRlZ3JhdGlvbi5cbmludGVyZmFjZSBHZXRSZWNhcHRjaGFDb25maWdSZXF1ZXN0IHtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG4gIGNsaWVudFR5cGU/OiBSZWNhcHRjaGFDbGllbnRUeXBlO1xuICB2ZXJzaW9uPzogUmVjYXB0Y2hhVmVyc2lvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWNhcHRjaGFFbmZvcmNlbWVudFByb3ZpZGVyU3RhdGUge1xuICBwcm92aWRlcjogc3RyaW5nO1xuICBlbmZvcmNlbWVudFN0YXRlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0UmVjYXB0Y2hhQ29uZmlnUmVzcG9uc2Uge1xuICByZWNhcHRjaGFLZXk6IHN0cmluZztcbiAgcmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZTogUmVjYXB0Y2hhRW5mb3JjZW1lbnRQcm92aWRlclN0YXRlW107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZWNhcHRjaGFDb25maWcoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEdldFJlY2FwdGNoYUNvbmZpZ1JlcXVlc3Rcbik6IFByb21pc2U8R2V0UmVjYXB0Y2hhQ29uZmlnUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBHZXRSZWNhcHRjaGFDb25maWdSZXF1ZXN0LFxuICAgIEdldFJlY2FwdGNoYUNvbmZpZ1Jlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLkdFVCxcbiAgICBFbmRwb2ludC5HRVRfUkVDQVBUQ0hBX0NPTkZJRyxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBFbmRwb2ludCwgSHR0cE1ldGhvZCwgX3BlcmZvcm1BcGlSZXF1ZXN0IH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgTWZhRW5yb2xsbWVudCB9IGZyb20gJy4vbWZhJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUFjY291bnRSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQWNjb3VudChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogRGVsZXRlQWNjb3VudFJlcXVlc3Rcbik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PERlbGV0ZUFjY291bnRSZXF1ZXN0LCB2b2lkPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5ERUxFVEVfQUNDT1VOVCxcbiAgICByZXF1ZXN0XG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJVc2VySW5mbyB7XG4gIHByb3ZpZGVySWQ6IHN0cmluZztcbiAgcmF3SWQ/OiBzdHJpbmc7XG4gIGVtYWlsPzogc3RyaW5nO1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgcGhvdG9Vcmw/OiBzdHJpbmc7XG4gIHBob25lTnVtYmVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUxpbmtlZEFjY291bnRzUmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgZGVsZXRlUHJvdmlkZXI6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUxpbmtlZEFjY291bnRzUmVzcG9uc2Uge1xuICBwcm92aWRlclVzZXJJbmZvOiBQcm92aWRlclVzZXJJbmZvW107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVMaW5rZWRBY2NvdW50cyhcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogRGVsZXRlTGlua2VkQWNjb3VudHNSZXF1ZXN0XG4pOiBQcm9taXNlPERlbGV0ZUxpbmtlZEFjY291bnRzUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBEZWxldGVMaW5rZWRBY2NvdW50c1JlcXVlc3QsXG4gICAgRGVsZXRlTGlua2VkQWNjb3VudHNSZXNwb25zZVxuICA+KGF1dGgsIEh0dHBNZXRob2QuUE9TVCwgRW5kcG9pbnQuU0VUX0FDQ09VTlRfSU5GTywgcmVxdWVzdCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQVBJVXNlckluZm8ge1xuICBsb2NhbElkPzogc3RyaW5nO1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgcGhvdG9Vcmw/OiBzdHJpbmc7XG4gIGVtYWlsPzogc3RyaW5nO1xuICBlbWFpbFZlcmlmaWVkPzogYm9vbGVhbjtcbiAgcGhvbmVOdW1iZXI/OiBzdHJpbmc7XG4gIGxhc3RMb2dpbkF0PzogbnVtYmVyO1xuICBjcmVhdGVkQXQ/OiBudW1iZXI7XG4gIHRlbmFudElkPzogc3RyaW5nO1xuICBwYXNzd29yZEhhc2g/OiBzdHJpbmc7XG4gIHByb3ZpZGVyVXNlckluZm8/OiBQcm92aWRlclVzZXJJbmZvW107XG4gIG1mYUluZm8/OiBNZmFFbnJvbGxtZW50W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0QWNjb3VudEluZm9SZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdldEFjY291bnRJbmZvUmVzcG9uc2Uge1xuICB1c2VyczogQVBJVXNlckluZm9bXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjY291bnRJbmZvKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBHZXRBY2NvdW50SW5mb1JlcXVlc3Rcbik6IFByb21pc2U8R2V0QWNjb3VudEluZm9SZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PEdldEFjY291bnRJbmZvUmVxdWVzdCwgR2V0QWNjb3VudEluZm9SZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuR0VUX0FDQ09VTlRfSU5GTyxcbiAgICByZXF1ZXN0XG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHV0Y1RpbWVzdGFtcFRvRGF0ZVN0cmluZyhcbiAgdXRjVGltZXN0YW1wPzogc3RyaW5nIHwgbnVtYmVyXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAoIXV0Y1RpbWVzdGFtcCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBDb252ZXJ0IHRvIGRhdGUgb2JqZWN0LlxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShOdW1iZXIodXRjVGltZXN0YW1wKSk7XG4gICAgLy8gVGVzdCBkYXRlIGlzIHZhbGlkLlxuICAgIGlmICghaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAvLyBDb252ZXJ0IHRvIFVUQyBkYXRlIHN0cmluZy5cbiAgICAgIHJldHVybiBkYXRlLnRvVVRDU3RyaW5nKCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gRG8gbm90aGluZy4gdW5kZWZpbmVkIHdpbGwgYmUgcmV0dXJuZWQuXG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJZFRva2VuUmVzdWx0LCBQYXJzZWRUb2tlbiwgVXNlciB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBiYXNlNjREZWNvZGUsIGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX2xvZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgdXRjVGltZXN0YW1wVG9EYXRlU3RyaW5nIH0gZnJvbSAnLi4vdXRpbC90aW1lJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG4vKipcbiAqIFJldHVybnMgYSBKU09OIFdlYiBUb2tlbiAoSldUKSB1c2VkIHRvIGlkZW50aWZ5IHRoZSB1c2VyIHRvIGEgRmlyZWJhc2Ugc2VydmljZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogUmV0dXJucyB0aGUgY3VycmVudCB0b2tlbiBpZiBpdCBoYXMgbm90IGV4cGlyZWQgb3IgaWYgaXQgd2lsbCBub3QgZXhwaXJlIGluIHRoZSBuZXh0IGZpdmVcbiAqIG1pbnV0ZXMuIE90aGVyd2lzZSwgdGhpcyB3aWxsIHJlZnJlc2ggdGhlIHRva2VuIGFuZCByZXR1cm4gYSBuZXcgb25lLlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gZm9yY2VSZWZyZXNoIC0gRm9yY2UgcmVmcmVzaCByZWdhcmRsZXNzIG9mIHRva2VuIGV4cGlyYXRpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWRUb2tlbih1c2VyOiBVc2VyLCBmb3JjZVJlZnJlc2ggPSBmYWxzZSk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikuZ2V0SWRUb2tlbihmb3JjZVJlZnJlc2gpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBkZXNlcmlhbGl6ZWQgSlNPTiBXZWIgVG9rZW4gKEpXVCkgdXNlZCB0byBpZGVudGlmeSB0aGUgdXNlciB0byBhIEZpcmViYXNlIHNlcnZpY2UuXG4gKlxuICogQHJlbWFya3NcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgdG9rZW4gaWYgaXQgaGFzIG5vdCBleHBpcmVkIG9yIGlmIGl0IHdpbGwgbm90IGV4cGlyZSBpbiB0aGUgbmV4dCBmaXZlXG4gKiBtaW51dGVzLiBPdGhlcndpc2UsIHRoaXMgd2lsbCByZWZyZXNoIHRoZSB0b2tlbiBhbmQgcmV0dXJuIGEgbmV3IG9uZS5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIGZvcmNlUmVmcmVzaCAtIEZvcmNlIHJlZnJlc2ggcmVnYXJkbGVzcyBvZiB0b2tlbiBleHBpcmF0aW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldElkVG9rZW5SZXN1bHQoXG4gIHVzZXI6IFVzZXIsXG4gIGZvcmNlUmVmcmVzaCA9IGZhbHNlXG4pOiBQcm9taXNlPElkVG9rZW5SZXN1bHQ+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgY29uc3QgdG9rZW4gPSBhd2FpdCB1c2VySW50ZXJuYWwuZ2V0SWRUb2tlbihmb3JjZVJlZnJlc2gpO1xuICBjb25zdCBjbGFpbXMgPSBfcGFyc2VUb2tlbih0b2tlbik7XG5cbiAgX2Fzc2VydChcbiAgICBjbGFpbXMgJiYgY2xhaW1zLmV4cCAmJiBjbGFpbXMuYXV0aF90aW1lICYmIGNsYWltcy5pYXQsXG4gICAgdXNlckludGVybmFsLmF1dGgsXG4gICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICApO1xuICBjb25zdCBmaXJlYmFzZSA9XG4gICAgdHlwZW9mIGNsYWltcy5maXJlYmFzZSA9PT0gJ29iamVjdCcgPyBjbGFpbXMuZmlyZWJhc2UgOiB1bmRlZmluZWQ7XG5cbiAgY29uc3Qgc2lnbkluUHJvdmlkZXI6IHN0cmluZyB8IHVuZGVmaW5lZCA9IGZpcmViYXNlPy5bJ3NpZ25faW5fcHJvdmlkZXInXTtcblxuICByZXR1cm4ge1xuICAgIGNsYWltcyxcbiAgICB0b2tlbixcbiAgICBhdXRoVGltZTogdXRjVGltZXN0YW1wVG9EYXRlU3RyaW5nKFxuICAgICAgc2Vjb25kc1N0cmluZ1RvTWlsbGlzZWNvbmRzKGNsYWltcy5hdXRoX3RpbWUpXG4gICAgKSEsXG4gICAgaXNzdWVkQXRUaW1lOiB1dGNUaW1lc3RhbXBUb0RhdGVTdHJpbmcoXG4gICAgICBzZWNvbmRzU3RyaW5nVG9NaWxsaXNlY29uZHMoY2xhaW1zLmlhdClcbiAgICApISxcbiAgICBleHBpcmF0aW9uVGltZTogdXRjVGltZXN0YW1wVG9EYXRlU3RyaW5nKFxuICAgICAgc2Vjb25kc1N0cmluZ1RvTWlsbGlzZWNvbmRzKGNsYWltcy5leHApXG4gICAgKSEsXG4gICAgc2lnbkluUHJvdmlkZXI6IHNpZ25JblByb3ZpZGVyIHx8IG51bGwsXG4gICAgc2lnbkluU2Vjb25kRmFjdG9yOiBmaXJlYmFzZT8uWydzaWduX2luX3NlY29uZF9mYWN0b3InXSB8fCBudWxsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHNlY29uZHNTdHJpbmdUb01pbGxpc2Vjb25kcyhzZWNvbmRzOiBzdHJpbmcpOiBudW1iZXIge1xuICByZXR1cm4gTnVtYmVyKHNlY29uZHMpICogMTAwMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9wYXJzZVRva2VuKHRva2VuOiBzdHJpbmcpOiBQYXJzZWRUb2tlbiB8IG51bGwge1xuICBjb25zdCBbYWxnb3JpdGhtLCBwYXlsb2FkLCBzaWduYXR1cmVdID0gdG9rZW4uc3BsaXQoJy4nKTtcbiAgaWYgKFxuICAgIGFsZ29yaXRobSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgcGF5bG9hZCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgc2lnbmF0dXJlID09PSB1bmRlZmluZWRcbiAgKSB7XG4gICAgX2xvZ0Vycm9yKCdKV1QgbWFsZm9ybWVkLCBjb250YWluZWQgZmV3ZXIgdGhhbiAzIHNlY3Rpb25zJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGRlY29kZWQgPSBiYXNlNjREZWNvZGUocGF5bG9hZCk7XG4gICAgaWYgKCFkZWNvZGVkKSB7XG4gICAgICBfbG9nRXJyb3IoJ0ZhaWxlZCB0byBkZWNvZGUgYmFzZTY0IEpXVCBwYXlsb2FkJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlZCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBfbG9nRXJyb3IoXG4gICAgICAnQ2F1Z2h0IGVycm9yIHBhcnNpbmcgSldUIHBheWxvYWQgYXMgSlNPTicsXG4gICAgICAoZSBhcyBFcnJvcik/LnRvU3RyaW5nKClcbiAgICApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRXh0cmFjdCBleHBpcmVzSW4gVFRMIGZyb20gYSB0b2tlbiBieSBzdWJ0cmFjdGluZyB0aGUgZXhwaXJhdGlvbiBmcm9tIHRoZSBpc3N1YW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF90b2tlbkV4cGlyZXNJbih0b2tlbjogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgcGFyc2VkVG9rZW4gPSBfcGFyc2VUb2tlbih0b2tlbik7XG4gIF9hc3NlcnQocGFyc2VkVG9rZW4sIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICBfYXNzZXJ0KHR5cGVvZiBwYXJzZWRUb2tlbi5leHAgIT09ICd1bmRlZmluZWQnLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgX2Fzc2VydCh0eXBlb2YgcGFyc2VkVG9rZW4uaWF0ICE9PSAndW5kZWZpbmVkJywgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIHJldHVybiBOdW1iZXIocGFyc2VkVG9rZW4uZXhwKSAtIE51bWJlcihwYXJzZWRUb2tlbi5pYXQpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfbG9nb3V0SWZJbnZhbGlkYXRlZDxUPihcbiAgdXNlcjogVXNlckludGVybmFsLFxuICBwcm9taXNlOiBQcm9taXNlPFQ+LFxuICBieXBhc3NBdXRoU3RhdGUgPSBmYWxzZVxuKTogUHJvbWlzZTxUPiB7XG4gIGlmIChieXBhc3NBdXRoU3RhdGUpIHtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBwcm9taXNlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBGaXJlYmFzZUVycm9yICYmIGlzVXNlckludmFsaWRhdGVkKGUpKSB7XG4gICAgICBpZiAodXNlci5hdXRoLmN1cnJlbnRVc2VyID09PSB1c2VyKSB7XG4gICAgICAgIGF3YWl0IHVzZXIuYXV0aC5zaWduT3V0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1VzZXJJbnZhbGlkYXRlZCh7IGNvZGUgfTogRmlyZWJhc2VFcnJvcik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGNvZGUgPT09IGBhdXRoLyR7QXV0aEVycm9yQ29kZS5VU0VSX0RJU0FCTEVEfWAgfHxcbiAgICBjb2RlID09PSBgYXV0aC8ke0F1dGhFcnJvckNvZGUuVE9LRU5fRVhQSVJFRH1gXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5cbi8vIFJlZnJlc2ggdGhlIHRva2VuIGZpdmUgbWludXRlcyBiZWZvcmUgZXhwaXJhdGlvblxuZXhwb3J0IGNvbnN0IGVudW0gRHVyYXRpb24ge1xuICBPRkZTRVQgPSA1ICogMTAwMCAqIDYwLFxuICBSRVRSWV9CQUNLT0ZGX01JTiA9IDMwICogMTAwMCxcbiAgUkVUUllfQkFDS09GRl9NQVggPSAxNiAqIDYwICogMTAwMFxufVxuXG5leHBvcnQgY2xhc3MgUHJvYWN0aXZlUmVmcmVzaCB7XG4gIHByaXZhdGUgaXNSdW5uaW5nID0gZmFsc2U7XG5cbiAgLy8gTm9kZSB0aW1lcnMgYW5kIGJyb3dzZXIgdGltZXJzIHJldHVybiBmdW5kYW1lbnRhbGx5IGRpZmZlcmVudCB0eXBlcy5cbiAgLy8gV2UgZG9uJ3QgYWN0dWFsbHkgY2FyZSB3aGF0IHRoZSB2YWx1ZSBpcyBidXQgVFMgd29uJ3QgYWNjZXB0IHVua25vd24gYW5kXG4gIC8vIHdlIGNhbid0IGNhc3QgcHJvcGVybHkgaW4gYm90aCBlbnZpcm9ubWVudHMuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHByaXZhdGUgdGltZXJJZDogYW55IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZXJyb3JCYWNrb2ZmID0gRHVyYXRpb24uUkVUUllfQkFDS09GRl9NSU47XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSB1c2VyOiBVc2VySW50ZXJuYWwpIHt9XG5cbiAgX3N0YXJ0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzUnVubmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnNjaGVkdWxlKCk7XG4gIH1cblxuICBfc3RvcCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy50aW1lcklkICE9PSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEludGVydmFsKHdhc0Vycm9yOiBib29sZWFuKTogbnVtYmVyIHtcbiAgICBpZiAod2FzRXJyb3IpIHtcbiAgICAgIGNvbnN0IGludGVydmFsID0gdGhpcy5lcnJvckJhY2tvZmY7XG4gICAgICB0aGlzLmVycm9yQmFja29mZiA9IE1hdGgubWluKFxuICAgICAgICB0aGlzLmVycm9yQmFja29mZiAqIDIsXG4gICAgICAgIER1cmF0aW9uLlJFVFJZX0JBQ0tPRkZfTUFYXG4gICAgICApO1xuICAgICAgcmV0dXJuIGludGVydmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXNldCB0aGUgZXJyb3IgYmFja29mZlxuICAgICAgdGhpcy5lcnJvckJhY2tvZmYgPSBEdXJhdGlvbi5SRVRSWV9CQUNLT0ZGX01JTjtcbiAgICAgIGNvbnN0IGV4cFRpbWUgPSB0aGlzLnVzZXIuc3RzVG9rZW5NYW5hZ2VyLmV4cGlyYXRpb25UaW1lID8/IDA7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IGV4cFRpbWUgLSBEYXRlLm5vdygpIC0gRHVyYXRpb24uT0ZGU0VUO1xuXG4gICAgICByZXR1cm4gTWF0aC5tYXgoMCwgaW50ZXJ2YWwpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2NoZWR1bGUod2FzRXJyb3IgPSBmYWxzZSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcbiAgICAgIC8vIEp1c3QgaW4gY2FzZS4uLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGludGVydmFsID0gdGhpcy5nZXRJbnRlcnZhbCh3YXNFcnJvcik7XG4gICAgdGhpcy50aW1lcklkID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLml0ZXJhdGlvbigpO1xuICAgIH0sIGludGVydmFsKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaXRlcmF0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnVzZXIuZ2V0SWRUb2tlbih0cnVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBPbmx5IHJldHJ5IG9uIG5ldHdvcmsgZXJyb3JzXG4gICAgICBpZiAoXG4gICAgICAgIChlIGFzIEZpcmViYXNlRXJyb3IpPy5jb2RlID09PVxuICAgICAgICBgYXV0aC8ke0F1dGhFcnJvckNvZGUuTkVUV09SS19SRVFVRVNUX0ZBSUxFRH1gXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZSgvKiB3YXNFcnJvciAqLyB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNjaGVkdWxlKCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyTWV0YWRhdGEgYXMgVXNlck1ldGFkYXRhVHlwZSB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IHV0Y1RpbWVzdGFtcFRvRGF0ZVN0cmluZyB9IGZyb20gJy4uL3V0aWwvdGltZSc7XG5cbmV4cG9ydCBjbGFzcyBVc2VyTWV0YWRhdGEgaW1wbGVtZW50cyBVc2VyTWV0YWRhdGFUeXBlIHtcbiAgY3JlYXRpb25UaW1lPzogc3RyaW5nO1xuICBsYXN0U2lnbkluVGltZT86IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGNyZWF0ZWRBdD86IHN0cmluZyB8IG51bWJlcixcbiAgICBwcml2YXRlIGxhc3RMb2dpbkF0Pzogc3RyaW5nIHwgbnVtYmVyXG4gICkge1xuICAgIHRoaXMuX2luaXRpYWxpemVUaW1lKCk7XG4gIH1cblxuICBwcml2YXRlIF9pbml0aWFsaXplVGltZSgpOiB2b2lkIHtcbiAgICB0aGlzLmxhc3RTaWduSW5UaW1lID0gdXRjVGltZXN0YW1wVG9EYXRlU3RyaW5nKHRoaXMubGFzdExvZ2luQXQpO1xuICAgIHRoaXMuY3JlYXRpb25UaW1lID0gdXRjVGltZXN0YW1wVG9EYXRlU3RyaW5nKHRoaXMuY3JlYXRlZEF0KTtcbiAgfVxuXG4gIF9jb3B5KG1ldGFkYXRhOiBVc2VyTWV0YWRhdGEpOiB2b2lkIHtcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IG1ldGFkYXRhLmNyZWF0ZWRBdDtcbiAgICB0aGlzLmxhc3RMb2dpbkF0ID0gbWV0YWRhdGEubGFzdExvZ2luQXQ7XG4gICAgdGhpcy5faW5pdGlhbGl6ZVRpbWUoKTtcbiAgfVxuXG4gIHRvSlNPTigpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVkQXQ6IHRoaXMuY3JlYXRlZEF0LFxuICAgICAgbGFzdExvZ2luQXQ6IHRoaXMubGFzdExvZ2luQXRcbiAgICB9O1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlciwgVXNlckluZm8gfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQge1xuICBnZXRBY2NvdW50SW5mbyxcbiAgUHJvdmlkZXJVc2VySW5mb1xufSBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L2FjY291bnQnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfbG9nb3V0SWZJbnZhbGlkYXRlZCB9IGZyb20gJy4vaW52YWxpZGF0aW9uJztcbmltcG9ydCB7IFVzZXJNZXRhZGF0YSB9IGZyb20gJy4vdXNlcl9tZXRhZGF0YSc7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfcmVsb2FkV2l0aG91dFNhdmluZyh1c2VyOiBVc2VySW50ZXJuYWwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgYXV0aCA9IHVzZXIuYXV0aDtcbiAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IHVzZXIuZ2V0SWRUb2tlbigpO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9sb2dvdXRJZkludmFsaWRhdGVkKFxuICAgIHVzZXIsXG4gICAgZ2V0QWNjb3VudEluZm8oYXV0aCwgeyBpZFRva2VuIH0pXG4gICk7XG5cbiAgX2Fzc2VydChyZXNwb25zZT8udXNlcnMubGVuZ3RoLCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcblxuICBjb25zdCBjb3JlQWNjb3VudCA9IHJlc3BvbnNlLnVzZXJzWzBdO1xuXG4gIHVzZXIuX25vdGlmeVJlbG9hZExpc3RlbmVyKGNvcmVBY2NvdW50KTtcblxuICBjb25zdCBuZXdQcm92aWRlckRhdGEgPSBjb3JlQWNjb3VudC5wcm92aWRlclVzZXJJbmZvPy5sZW5ndGhcbiAgICA/IGV4dHJhY3RQcm92aWRlckRhdGEoY29yZUFjY291bnQucHJvdmlkZXJVc2VySW5mbylcbiAgICA6IFtdO1xuXG4gIGNvbnN0IHByb3ZpZGVyRGF0YSA9IG1lcmdlUHJvdmlkZXJEYXRhKHVzZXIucHJvdmlkZXJEYXRhLCBuZXdQcm92aWRlckRhdGEpO1xuXG4gIC8vIFByZXNlcnZlcyB0aGUgbm9uLW5vbnltb3VzIHN0YXR1cyBvZiB0aGUgc3RvcmVkIHVzZXIsIGV2ZW4gaWYgbm8gbW9yZVxuICAvLyBjcmVkZW50aWFscyAoZmVkZXJhdGVkIG9yIGVtYWlsL3Bhc3N3b3JkKSBhcmUgbGlua2VkIHRvIHRoZSB1c2VyLiBJZlxuICAvLyB0aGUgdXNlciB3YXMgcHJldmlvdXNseSBhbm9ueW1vdXMsIHRoZW4gdXNlIHByb3ZpZGVyIGRhdGEgdG8gdXBkYXRlLlxuICAvLyBPbiB0aGUgb3RoZXIgaGFuZCwgaWYgaXQgd2FzIG5vdCBhbm9ueW1vdXMgYmVmb3JlLCBpdCBzaG91bGQgbmV2ZXIgYmVcbiAgLy8gY29uc2lkZXJlZCBhbm9ueW1vdXMgbm93LlxuICBjb25zdCBvbGRJc0Fub255bW91cyA9IHVzZXIuaXNBbm9ueW1vdXM7XG4gIGNvbnN0IG5ld0lzQW5vbnltb3VzID1cbiAgICAhKHVzZXIuZW1haWwgJiYgY29yZUFjY291bnQucGFzc3dvcmRIYXNoKSAmJiAhcHJvdmlkZXJEYXRhPy5sZW5ndGg7XG4gIGNvbnN0IGlzQW5vbnltb3VzID0gIW9sZElzQW5vbnltb3VzID8gZmFsc2UgOiBuZXdJc0Fub255bW91cztcblxuICBjb25zdCB1cGRhdGVzOiBQYXJ0aWFsPFVzZXJJbnRlcm5hbD4gPSB7XG4gICAgdWlkOiBjb3JlQWNjb3VudC5sb2NhbElkLFxuICAgIGRpc3BsYXlOYW1lOiBjb3JlQWNjb3VudC5kaXNwbGF5TmFtZSB8fCBudWxsLFxuICAgIHBob3RvVVJMOiBjb3JlQWNjb3VudC5waG90b1VybCB8fCBudWxsLFxuICAgIGVtYWlsOiBjb3JlQWNjb3VudC5lbWFpbCB8fCBudWxsLFxuICAgIGVtYWlsVmVyaWZpZWQ6IGNvcmVBY2NvdW50LmVtYWlsVmVyaWZpZWQgfHwgZmFsc2UsXG4gICAgcGhvbmVOdW1iZXI6IGNvcmVBY2NvdW50LnBob25lTnVtYmVyIHx8IG51bGwsXG4gICAgdGVuYW50SWQ6IGNvcmVBY2NvdW50LnRlbmFudElkIHx8IG51bGwsXG4gICAgcHJvdmlkZXJEYXRhLFxuICAgIG1ldGFkYXRhOiBuZXcgVXNlck1ldGFkYXRhKGNvcmVBY2NvdW50LmNyZWF0ZWRBdCwgY29yZUFjY291bnQubGFzdExvZ2luQXQpLFxuICAgIGlzQW5vbnltb3VzXG4gIH07XG5cbiAgT2JqZWN0LmFzc2lnbih1c2VyLCB1cGRhdGVzKTtcbn1cblxuLyoqXG4gKiBSZWxvYWRzIHVzZXIgYWNjb3VudCBkYXRhLCBpZiBzaWduZWQgaW4uXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWxvYWQodXNlcjogVXNlcik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWw6IFVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGF3YWl0IF9yZWxvYWRXaXRob3V0U2F2aW5nKHVzZXJJbnRlcm5hbCk7XG5cbiAgLy8gRXZlbiB0aG91Z2ggdGhlIGN1cnJlbnQgdXNlciBoYXNuJ3QgY2hhbmdlZCwgdXBkYXRlXG4gIC8vIGN1cnJlbnQgdXNlciB3aWxsIHRyaWdnZXIgYSBwZXJzaXN0ZW5jZSB1cGRhdGUgdy8gdGhlXG4gIC8vIG5ldyBpbmZvLlxuICBhd2FpdCB1c2VySW50ZXJuYWwuYXV0aC5fcGVyc2lzdFVzZXJJZkN1cnJlbnQodXNlckludGVybmFsKTtcbiAgdXNlckludGVybmFsLmF1dGguX25vdGlmeUxpc3RlbmVyc0lmQ3VycmVudCh1c2VySW50ZXJuYWwpO1xufVxuXG5mdW5jdGlvbiBtZXJnZVByb3ZpZGVyRGF0YShcbiAgb3JpZ2luYWw6IFVzZXJJbmZvW10sXG4gIG5ld0RhdGE6IFVzZXJJbmZvW11cbik6IFVzZXJJbmZvW10ge1xuICBjb25zdCBkZWR1cGVkID0gb3JpZ2luYWwuZmlsdGVyKFxuICAgIG8gPT4gIW5ld0RhdGEuc29tZShuID0+IG4ucHJvdmlkZXJJZCA9PT0gby5wcm92aWRlcklkKVxuICApO1xuICByZXR1cm4gWy4uLmRlZHVwZWQsIC4uLm5ld0RhdGFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFByb3ZpZGVyRGF0YShwcm92aWRlcnM6IFByb3ZpZGVyVXNlckluZm9bXSk6IFVzZXJJbmZvW10ge1xuICByZXR1cm4gcHJvdmlkZXJzLm1hcCgoeyBwcm92aWRlcklkLCAuLi5wcm92aWRlciB9KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3ZpZGVySWQsXG4gICAgICB1aWQ6IHByb3ZpZGVyLnJhd0lkIHx8ICcnLFxuICAgICAgZGlzcGxheU5hbWU6IHByb3ZpZGVyLmRpc3BsYXlOYW1lIHx8IG51bGwsXG4gICAgICBlbWFpbDogcHJvdmlkZXIuZW1haWwgfHwgbnVsbCxcbiAgICAgIHBob25lTnVtYmVyOiBwcm92aWRlci5waG9uZU51bWJlciB8fCBudWxsLFxuICAgICAgcGhvdG9VUkw6IHByb3ZpZGVyLnBob3RvVXJsIHx8IG51bGxcbiAgICB9O1xuICB9KTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cblxuaW1wb3J0IHsgcXVlcnlzdHJpbmcgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7XG4gIF9nZXRGaW5hbFRhcmdldCxcbiAgX3BlcmZvcm1GZXRjaFdpdGhFcnJvckhhbmRsaW5nLFxuICBfcGVyZm9ybUFwaVJlcXVlc3QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeSxcbiAgSHR0cE1ldGhvZCxcbiAgSHR0cEhlYWRlcixcbiAgRW5kcG9pbnRcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgRmV0Y2hQcm92aWRlciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9mZXRjaF9wcm92aWRlcic7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuXG5leHBvcnQgY29uc3QgZW51bSBUb2tlblR5cGUge1xuICBSRUZSRVNIX1RPS0VOID0gJ1JFRlJFU0hfVE9LRU4nLFxuICBBQ0NFU1NfVE9LRU4gPSAnQUNDRVNTX1RPS0VOJ1xufVxuXG4vKiogVGhlIHNlcnZlciByZXNwb25zZXMgd2l0aCBzbmFrZV9jYXNlOyB3ZSBjb252ZXJ0IHRvIGNhbWVsQ2FzZSAqL1xuaW50ZXJmYWNlIFJlcXVlc3RTdHNUb2tlblNlcnZlclJlc3BvbnNlIHtcbiAgYWNjZXNzX3Rva2VuOiBzdHJpbmc7XG4gIGV4cGlyZXNfaW46IHN0cmluZztcbiAgcmVmcmVzaF90b2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RTdHNUb2tlblJlc3BvbnNlIHtcbiAgYWNjZXNzVG9rZW46IHN0cmluZztcbiAgZXhwaXJlc0luOiBzdHJpbmc7XG4gIHJlZnJlc2hUb2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJldm9rZVRva2VuUmVxdWVzdCB7XG4gIHByb3ZpZGVySWQ6IHN0cmluZztcbiAgdG9rZW5UeXBlOiBUb2tlblR5cGU7XG4gIHRva2VuOiBzdHJpbmc7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmV2b2tlVG9rZW5SZXNwb25zZSB7fVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdFN0c1Rva2VuKFxuICBhdXRoOiBBdXRoLFxuICByZWZyZXNoVG9rZW46IHN0cmluZ1xuKTogUHJvbWlzZTxSZXF1ZXN0U3RzVG9rZW5SZXNwb25zZT4ge1xuICBjb25zdCByZXNwb25zZSA9XG4gICAgYXdhaXQgX3BlcmZvcm1GZXRjaFdpdGhFcnJvckhhbmRsaW5nPFJlcXVlc3RTdHNUb2tlblNlcnZlclJlc3BvbnNlPihcbiAgICAgIGF1dGgsXG4gICAgICB7fSxcbiAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgYm9keSA9IHF1ZXJ5c3RyaW5nKHtcbiAgICAgICAgICAnZ3JhbnRfdHlwZSc6ICdyZWZyZXNoX3Rva2VuJyxcbiAgICAgICAgICAncmVmcmVzaF90b2tlbic6IHJlZnJlc2hUb2tlblxuICAgICAgICB9KS5zbGljZSgxKTtcbiAgICAgICAgY29uc3QgeyB0b2tlbkFwaUhvc3QsIGFwaUtleSB9ID0gYXV0aC5jb25maWc7XG4gICAgICAgIGNvbnN0IHVybCA9IF9nZXRGaW5hbFRhcmdldChcbiAgICAgICAgICBhdXRoLFxuICAgICAgICAgIHRva2VuQXBpSG9zdCxcbiAgICAgICAgICBFbmRwb2ludC5UT0tFTixcbiAgICAgICAgICBga2V5PSR7YXBpS2V5fWBcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBoZWFkZXJzID0gYXdhaXQgKGF1dGggYXMgQXV0aEludGVybmFsKS5fZ2V0QWRkaXRpb25hbEhlYWRlcnMoKTtcbiAgICAgICAgaGVhZGVyc1tIdHRwSGVhZGVyLkNPTlRFTlRfVFlQRV0gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcblxuICAgICAgICByZXR1cm4gRmV0Y2hQcm92aWRlci5mZXRjaCgpKHVybCwge1xuICAgICAgICAgIG1ldGhvZDogSHR0cE1ldGhvZC5QT1NULFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgYm9keVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICApO1xuXG4gIC8vIFRoZSByZXNwb25zZSBjb21lcyBiYWNrIGluIHNuYWtlX2Nhc2UuIENvbnZlcnQgdG8gY2FtZWw6XG4gIHJldHVybiB7XG4gICAgYWNjZXNzVG9rZW46IHJlc3BvbnNlLmFjY2Vzc190b2tlbixcbiAgICBleHBpcmVzSW46IHJlc3BvbnNlLmV4cGlyZXNfaW4sXG4gICAgcmVmcmVzaFRva2VuOiByZXNwb25zZS5yZWZyZXNoX3Rva2VuXG4gIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXZva2VUb2tlbihcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogUmV2b2tlVG9rZW5SZXF1ZXN0XG4pOiBQcm9taXNlPFJldm9rZVRva2VuUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxSZXZva2VUb2tlblJlcXVlc3QsIFJldm9rZVRva2VuUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlJFVk9LRV9UT0tFTixcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaW5hbGl6ZU1mYVJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyByZXF1ZXN0U3RzVG9rZW4gfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vdG9rZW4nO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFBlcnNpc3RlZEJsb2IgfSBmcm9tICcuLi9wZXJzaXN0ZW5jZSc7XG5pbXBvcnQgeyBfYXNzZXJ0LCBkZWJ1Z0ZhaWwgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfdG9rZW5FeHBpcmVzSW4gfSBmcm9tICcuL2lkX3Rva2VuX3Jlc3VsdCc7XG5cbi8qKlxuICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYmVmb3JlIHRoZSBvZmZpY2lhbCBleHBpcmF0aW9uIHRpbWUgb2YgYSB0b2tlblxuICogdG8gcmVmcmVzaCB0aGF0IHRva2VuLCB0byBwcm92aWRlIGEgYnVmZmVyIGZvciBSUENzIHRvIGNvbXBsZXRlLlxuICovXG5leHBvcnQgY29uc3QgZW51bSBCdWZmZXIge1xuICBUT0tFTl9SRUZSRVNIID0gMzBfMDAwXG59XG5cbi8qKlxuICogV2UgbmVlZCB0byBtYXJrIHRoaXMgY2xhc3MgYXMgaW50ZXJuYWwgZXhwbGljaXRseSB0byBleGNsdWRlIGl0IGluIHRoZSBwdWJsaWMgdHlwaW5ncywgYmVjYXVzZVxuICogaXQgcmVmZXJlbmNlcyBBdXRoSW50ZXJuYWwgd2hpY2ggaGFzIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSB3aXRoIFVzZXJJbnRlcm5hbC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFN0c1Rva2VuTWFuYWdlciB7XG4gIHJlZnJlc2hUb2tlbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZXhwaXJhdGlvblRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIGdldCBpc0V4cGlyZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmV4cGlyYXRpb25UaW1lIHx8XG4gICAgICBEYXRlLm5vdygpID4gdGhpcy5leHBpcmF0aW9uVGltZSAtIEJ1ZmZlci5UT0tFTl9SRUZSRVNIXG4gICAgKTtcbiAgfVxuXG4gIHVwZGF0ZUZyb21TZXJ2ZXJSZXNwb25zZShcbiAgICByZXNwb25zZTogSWRUb2tlblJlc3BvbnNlIHwgRmluYWxpemVNZmFSZXNwb25zZVxuICApOiB2b2lkIHtcbiAgICBfYXNzZXJ0KHJlc3BvbnNlLmlkVG9rZW4sIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIF9hc3NlcnQoXG4gICAgICB0eXBlb2YgcmVzcG9uc2UuaWRUb2tlbiAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgKTtcbiAgICBfYXNzZXJ0KFxuICAgICAgdHlwZW9mIHJlc3BvbnNlLnJlZnJlc2hUb2tlbiAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgKTtcbiAgICBjb25zdCBleHBpcmVzSW4gPVxuICAgICAgJ2V4cGlyZXNJbicgaW4gcmVzcG9uc2UgJiYgdHlwZW9mIHJlc3BvbnNlLmV4cGlyZXNJbiAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBOdW1iZXIocmVzcG9uc2UuZXhwaXJlc0luKVxuICAgICAgICA6IF90b2tlbkV4cGlyZXNJbihyZXNwb25zZS5pZFRva2VuKTtcbiAgICB0aGlzLnVwZGF0ZVRva2Vuc0FuZEV4cGlyYXRpb24oXG4gICAgICByZXNwb25zZS5pZFRva2VuLFxuICAgICAgcmVzcG9uc2UucmVmcmVzaFRva2VuLFxuICAgICAgZXhwaXJlc0luXG4gICAgKTtcbiAgfVxuXG4gIHVwZGF0ZUZyb21JZFRva2VuKGlkVG9rZW46IHN0cmluZyk6IHZvaWQge1xuICAgIF9hc3NlcnQoaWRUb2tlbi5sZW5ndGggIT09IDAsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIGNvbnN0IGV4cGlyZXNJbiA9IF90b2tlbkV4cGlyZXNJbihpZFRva2VuKTtcbiAgICB0aGlzLnVwZGF0ZVRva2Vuc0FuZEV4cGlyYXRpb24oaWRUb2tlbiwgbnVsbCwgZXhwaXJlc0luKTtcbiAgfVxuXG4gIGFzeW5jIGdldFRva2VuKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBmb3JjZVJlZnJlc2ggPSBmYWxzZVxuICApOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICBpZiAoIWZvcmNlUmVmcmVzaCAmJiB0aGlzLmFjY2Vzc1Rva2VuICYmICF0aGlzLmlzRXhwaXJlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWNjZXNzVG9rZW47XG4gICAgfVxuXG4gICAgX2Fzc2VydCh0aGlzLnJlZnJlc2hUb2tlbiwgYXV0aCwgQXV0aEVycm9yQ29kZS5UT0tFTl9FWFBJUkVEKTtcblxuICAgIGlmICh0aGlzLnJlZnJlc2hUb2tlbikge1xuICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoKGF1dGgsIHRoaXMucmVmcmVzaFRva2VuISk7XG4gICAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNsZWFyUmVmcmVzaFRva2VuKCk6IHZvaWQge1xuICAgIHRoaXMucmVmcmVzaFRva2VuID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVmcmVzaChhdXRoOiBBdXRoSW50ZXJuYWwsIG9sZFRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIGV4cGlyZXNJbiB9ID0gYXdhaXQgcmVxdWVzdFN0c1Rva2VuKFxuICAgICAgYXV0aCxcbiAgICAgIG9sZFRva2VuXG4gICAgKTtcbiAgICB0aGlzLnVwZGF0ZVRva2Vuc0FuZEV4cGlyYXRpb24oXG4gICAgICBhY2Nlc3NUb2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbixcbiAgICAgIE51bWJlcihleHBpcmVzSW4pXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlVG9rZW5zQW5kRXhwaXJhdGlvbihcbiAgICBhY2Nlc3NUb2tlbjogc3RyaW5nLFxuICAgIHJlZnJlc2hUb2tlbjogc3RyaW5nIHwgbnVsbCxcbiAgICBleHBpcmVzSW5TZWM6IG51bWJlclxuICApOiB2b2lkIHtcbiAgICB0aGlzLnJlZnJlc2hUb2tlbiA9IHJlZnJlc2hUb2tlbiB8fCBudWxsO1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbiB8fCBudWxsO1xuICAgIHRoaXMuZXhwaXJhdGlvblRpbWUgPSBEYXRlLm5vdygpICsgZXhwaXJlc0luU2VjICogMTAwMDtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tSlNPTihhcHBOYW1lOiBzdHJpbmcsIG9iamVjdDogUGVyc2lzdGVkQmxvYik6IFN0c1Rva2VuTWFuYWdlciB7XG4gICAgY29uc3QgeyByZWZyZXNoVG9rZW4sIGFjY2Vzc1Rva2VuLCBleHBpcmF0aW9uVGltZSB9ID0gb2JqZWN0O1xuXG4gICAgY29uc3QgbWFuYWdlciA9IG5ldyBTdHNUb2tlbk1hbmFnZXIoKTtcbiAgICBpZiAocmVmcmVzaFRva2VuKSB7XG4gICAgICBfYXNzZXJ0KHR5cGVvZiByZWZyZXNoVG9rZW4gPT09ICdzdHJpbmcnLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SLCB7XG4gICAgICAgIGFwcE5hbWVcbiAgICAgIH0pO1xuICAgICAgbWFuYWdlci5yZWZyZXNoVG9rZW4gPSByZWZyZXNoVG9rZW47XG4gICAgfVxuICAgIGlmIChhY2Nlc3NUb2tlbikge1xuICAgICAgX2Fzc2VydCh0eXBlb2YgYWNjZXNzVG9rZW4gPT09ICdzdHJpbmcnLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SLCB7XG4gICAgICAgIGFwcE5hbWVcbiAgICAgIH0pO1xuICAgICAgbWFuYWdlci5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuO1xuICAgIH1cbiAgICBpZiAoZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIF9hc3NlcnQoXG4gICAgICAgIHR5cGVvZiBleHBpcmF0aW9uVGltZSA9PT0gJ251bWJlcicsXG4gICAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IsXG4gICAgICAgIHtcbiAgICAgICAgICBhcHBOYW1lXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBtYW5hZ2VyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgfVxuICAgIHJldHVybiBtYW5hZ2VyO1xuICB9XG5cbiAgdG9KU09OKCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZnJlc2hUb2tlbjogdGhpcy5yZWZyZXNoVG9rZW4sXG4gICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbixcbiAgICAgIGV4cGlyYXRpb25UaW1lOiB0aGlzLmV4cGlyYXRpb25UaW1lXG4gICAgfTtcbiAgfVxuXG4gIF9hc3NpZ24oc3RzVG9rZW5NYW5hZ2VyOiBTdHNUb2tlbk1hbmFnZXIpOiB2b2lkIHtcbiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VuO1xuICAgIHRoaXMucmVmcmVzaFRva2VuID0gc3RzVG9rZW5NYW5hZ2VyLnJlZnJlc2hUb2tlbjtcbiAgICB0aGlzLmV4cGlyYXRpb25UaW1lID0gc3RzVG9rZW5NYW5hZ2VyLmV4cGlyYXRpb25UaW1lO1xuICB9XG5cbiAgX2Nsb25lKCk6IFN0c1Rva2VuTWFuYWdlciB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFN0c1Rva2VuTWFuYWdlcigpLCB0aGlzLnRvSlNPTigpKTtcbiAgfVxuXG4gIF9wZXJmb3JtUmVmcmVzaCgpOiBuZXZlciB7XG4gICAgcmV0dXJuIGRlYnVnRmFpbCgnbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJZFRva2VuUmVzdWx0LCBVc2VySW5mbyB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBOZXh0Rm4gfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQge1xuICBBUElVc2VySW5mbyxcbiAgR2V0QWNjb3VudEluZm9SZXNwb25zZSxcbiAgZGVsZXRlQWNjb3VudFxufSBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L2FjY291bnQnO1xuaW1wb3J0IHsgRmluYWxpemVNZmFSZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQge1xuICBNdXRhYmxlVXNlckluZm8sXG4gIFVzZXJJbnRlcm5hbCxcbiAgVXNlclBhcmFtZXRlcnNcbn0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFBlcnNpc3RlZEJsb2IgfSBmcm9tICcuLi9wZXJzaXN0ZW5jZSc7XG5pbXBvcnQge1xuICBfYXNzZXJ0LFxuICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvclxufSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBnZXRJZFRva2VuUmVzdWx0IH0gZnJvbSAnLi9pZF90b2tlbl9yZXN1bHQnO1xuaW1wb3J0IHsgX2xvZ291dElmSW52YWxpZGF0ZWQgfSBmcm9tICcuL2ludmFsaWRhdGlvbic7XG5pbXBvcnQgeyBQcm9hY3RpdmVSZWZyZXNoIH0gZnJvbSAnLi9wcm9hY3RpdmVfcmVmcmVzaCc7XG5pbXBvcnQgeyBleHRyYWN0UHJvdmlkZXJEYXRhLCBfcmVsb2FkV2l0aG91dFNhdmluZywgcmVsb2FkIH0gZnJvbSAnLi9yZWxvYWQnO1xuaW1wb3J0IHsgU3RzVG9rZW5NYW5hZ2VyIH0gZnJvbSAnLi90b2tlbl9tYW5hZ2VyJztcbmltcG9ydCB7IFVzZXJNZXRhZGF0YSB9IGZyb20gJy4vdXNlcl9tZXRhZGF0YSc7XG5pbXBvcnQgeyBQcm92aWRlcklkIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcblxuZnVuY3Rpb24gYXNzZXJ0U3RyaW5nT3JVbmRlZmluZWQoXG4gIGFzc2VydGlvbjogdW5rbm93bixcbiAgYXBwTmFtZTogc3RyaW5nXG4pOiBhc3NlcnRzIGFzc2VydGlvbiBpcyBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBfYXNzZXJ0KFxuICAgIHR5cGVvZiBhc3NlcnRpb24gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBhc3NlcnRpb24gPT09ICd1bmRlZmluZWQnLFxuICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IsXG4gICAgeyBhcHBOYW1lIH1cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIFVzZXJJbXBsIGltcGxlbWVudHMgVXNlckludGVybmFsIHtcbiAgLy8gRm9yIHRoZSB1c2VyIG9iamVjdCwgcHJvdmlkZXIgaXMgYWx3YXlzIEZpcmViYXNlLlxuICByZWFkb25seSBwcm92aWRlcklkID0gUHJvdmlkZXJJZC5GSVJFQkFTRTtcbiAgc3RzVG9rZW5NYW5hZ2VyOiBTdHNUb2tlbk1hbmFnZXI7XG4gIC8vIExhc3Qga25vd24gYWNjZXNzVG9rZW4gc28gd2Uga25vdyB3aGVuIGl0IGNoYW5nZXNcbiAgcHJpdmF0ZSBhY2Nlc3NUb2tlbjogc3RyaW5nIHwgbnVsbDtcblxuICB1aWQ6IHN0cmluZztcbiAgYXV0aDogQXV0aEludGVybmFsO1xuICBlbWFpbFZlcmlmaWVkOiBib29sZWFuO1xuICBpc0Fub255bW91czogYm9vbGVhbjtcbiAgdGVuYW50SWQ6IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5IG1ldGFkYXRhOiBVc2VyTWV0YWRhdGE7XG4gIHByb3ZpZGVyRGF0YTogTXV0YWJsZVVzZXJJbmZvW107XG5cbiAgLy8gT3B0aW9uYWwgZmllbGRzIGZyb20gVXNlckluZm9cbiAgZGlzcGxheU5hbWU6IHN0cmluZyB8IG51bGw7XG4gIGVtYWlsOiBzdHJpbmcgfCBudWxsO1xuICBwaG9uZU51bWJlcjogc3RyaW5nIHwgbnVsbDtcbiAgcGhvdG9VUkw6IHN0cmluZyB8IG51bGw7XG5cbiAgX3JlZGlyZWN0RXZlbnRJZD86IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBwcm9hY3RpdmVSZWZyZXNoID0gbmV3IFByb2FjdGl2ZVJlZnJlc2godGhpcyk7XG5cbiAgY29uc3RydWN0b3IoeyB1aWQsIGF1dGgsIHN0c1Rva2VuTWFuYWdlciwgLi4ub3B0IH06IFVzZXJQYXJhbWV0ZXJzKSB7XG4gICAgdGhpcy51aWQgPSB1aWQ7XG4gICAgdGhpcy5hdXRoID0gYXV0aDtcbiAgICB0aGlzLnN0c1Rva2VuTWFuYWdlciA9IHN0c1Rva2VuTWFuYWdlcjtcbiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VuO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBvcHQuZGlzcGxheU5hbWUgfHwgbnVsbDtcbiAgICB0aGlzLmVtYWlsID0gb3B0LmVtYWlsIHx8IG51bGw7XG4gICAgdGhpcy5lbWFpbFZlcmlmaWVkID0gb3B0LmVtYWlsVmVyaWZpZWQgfHwgZmFsc2U7XG4gICAgdGhpcy5waG9uZU51bWJlciA9IG9wdC5waG9uZU51bWJlciB8fCBudWxsO1xuICAgIHRoaXMucGhvdG9VUkwgPSBvcHQucGhvdG9VUkwgfHwgbnVsbDtcbiAgICB0aGlzLmlzQW5vbnltb3VzID0gb3B0LmlzQW5vbnltb3VzIHx8IGZhbHNlO1xuICAgIHRoaXMudGVuYW50SWQgPSBvcHQudGVuYW50SWQgfHwgbnVsbDtcbiAgICB0aGlzLnByb3ZpZGVyRGF0YSA9IG9wdC5wcm92aWRlckRhdGEgPyBbLi4ub3B0LnByb3ZpZGVyRGF0YV0gOiBbXTtcbiAgICB0aGlzLm1ldGFkYXRhID0gbmV3IFVzZXJNZXRhZGF0YShcbiAgICAgIG9wdC5jcmVhdGVkQXQgfHwgdW5kZWZpbmVkLFxuICAgICAgb3B0Lmxhc3RMb2dpbkF0IHx8IHVuZGVmaW5lZFxuICAgICk7XG4gIH1cblxuICBhc3luYyBnZXRJZFRva2VuKGZvcmNlUmVmcmVzaD86IGJvb2xlYW4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXdhaXQgX2xvZ291dElmSW52YWxpZGF0ZWQoXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy5zdHNUb2tlbk1hbmFnZXIuZ2V0VG9rZW4odGhpcy5hdXRoLCBmb3JjZVJlZnJlc2gpXG4gICAgKTtcbiAgICBfYXNzZXJ0KGFjY2Vzc1Rva2VuLCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuXG4gICAgaWYgKHRoaXMuYWNjZXNzVG9rZW4gIT09IGFjY2Vzc1Rva2VuKSB7XG4gICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47XG4gICAgICBhd2FpdCB0aGlzLmF1dGguX3BlcnNpc3RVc2VySWZDdXJyZW50KHRoaXMpO1xuICAgICAgdGhpcy5hdXRoLl9ub3RpZnlMaXN0ZW5lcnNJZkN1cnJlbnQodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjY2Vzc1Rva2VuO1xuICB9XG5cbiAgZ2V0SWRUb2tlblJlc3VsdChmb3JjZVJlZnJlc2g/OiBib29sZWFuKTogUHJvbWlzZTxJZFRva2VuUmVzdWx0PiB7XG4gICAgcmV0dXJuIGdldElkVG9rZW5SZXN1bHQodGhpcywgZm9yY2VSZWZyZXNoKTtcbiAgfVxuXG4gIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gcmVsb2FkKHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSByZWxvYWRVc2VySW5mbzogQVBJVXNlckluZm8gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWxvYWRMaXN0ZW5lcjogTmV4dEZuPEFQSVVzZXJJbmZvPiB8IG51bGwgPSBudWxsO1xuXG4gIF9hc3NpZ24odXNlcjogVXNlckludGVybmFsKTogdm9pZCB7XG4gICAgaWYgKHRoaXMgPT09IHVzZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2Fzc2VydCh0aGlzLnVpZCA9PT0gdXNlci51aWQsIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IHVzZXIuZGlzcGxheU5hbWU7XG4gICAgdGhpcy5waG90b1VSTCA9IHVzZXIucGhvdG9VUkw7XG4gICAgdGhpcy5lbWFpbCA9IHVzZXIuZW1haWw7XG4gICAgdGhpcy5lbWFpbFZlcmlmaWVkID0gdXNlci5lbWFpbFZlcmlmaWVkO1xuICAgIHRoaXMucGhvbmVOdW1iZXIgPSB1c2VyLnBob25lTnVtYmVyO1xuICAgIHRoaXMuaXNBbm9ueW1vdXMgPSB1c2VyLmlzQW5vbnltb3VzO1xuICAgIHRoaXMudGVuYW50SWQgPSB1c2VyLnRlbmFudElkO1xuICAgIHRoaXMucHJvdmlkZXJEYXRhID0gdXNlci5wcm92aWRlckRhdGEubWFwKHVzZXJJbmZvID0+ICh7IC4uLnVzZXJJbmZvIH0pKTtcbiAgICB0aGlzLm1ldGFkYXRhLl9jb3B5KHVzZXIubWV0YWRhdGEpO1xuICAgIHRoaXMuc3RzVG9rZW5NYW5hZ2VyLl9hc3NpZ24odXNlci5zdHNUb2tlbk1hbmFnZXIpO1xuICB9XG5cbiAgX2Nsb25lKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFVzZXJJbnRlcm5hbCB7XG4gICAgY29uc3QgbmV3VXNlciA9IG5ldyBVc2VySW1wbCh7XG4gICAgICAuLi50aGlzLFxuICAgICAgYXV0aCxcbiAgICAgIHN0c1Rva2VuTWFuYWdlcjogdGhpcy5zdHNUb2tlbk1hbmFnZXIuX2Nsb25lKClcbiAgICB9KTtcbiAgICBuZXdVc2VyLm1ldGFkYXRhLl9jb3B5KHRoaXMubWV0YWRhdGEpO1xuICAgIHJldHVybiBuZXdVc2VyO1xuICB9XG5cbiAgX29uUmVsb2FkKGNhbGxiYWNrOiBOZXh0Rm48QVBJVXNlckluZm8+KTogdm9pZCB7XG4gICAgLy8gVGhlcmUgc2hvdWxkIG9ubHkgZXZlciBiZSBvbmUgbGlzdGVuZXIsIGFuZCB0aGF0IGlzIGEgc2luZ2xlIGluc3RhbmNlIG9mIE11bHRpRmFjdG9yVXNlclxuICAgIF9hc3NlcnQoIXRoaXMucmVsb2FkTGlzdGVuZXIsIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgdGhpcy5yZWxvYWRMaXN0ZW5lciA9IGNhbGxiYWNrO1xuICAgIGlmICh0aGlzLnJlbG9hZFVzZXJJbmZvKSB7XG4gICAgICB0aGlzLl9ub3RpZnlSZWxvYWRMaXN0ZW5lcih0aGlzLnJlbG9hZFVzZXJJbmZvKTtcbiAgICAgIHRoaXMucmVsb2FkVXNlckluZm8gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIF9ub3RpZnlSZWxvYWRMaXN0ZW5lcih1c2VySW5mbzogQVBJVXNlckluZm8pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZWxvYWRMaXN0ZW5lcikge1xuICAgICAgdGhpcy5yZWxvYWRMaXN0ZW5lcih1c2VySW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIG5vIGxpc3RlbmVyIGlzIHN1YnNjcmliZWQgeWV0LCBzYXZlIHRoZSByZXN1bHQgc28gaXQncyBhdmFpbGFibGUgd2hlbiB0aGV5IGRvIHN1YnNjcmliZVxuICAgICAgdGhpcy5yZWxvYWRVc2VySW5mbyA9IHVzZXJJbmZvO1xuICAgIH1cbiAgfVxuXG4gIF9zdGFydFByb2FjdGl2ZVJlZnJlc2goKTogdm9pZCB7XG4gICAgdGhpcy5wcm9hY3RpdmVSZWZyZXNoLl9zdGFydCgpO1xuICB9XG5cbiAgX3N0b3BQcm9hY3RpdmVSZWZyZXNoKCk6IHZvaWQge1xuICAgIHRoaXMucHJvYWN0aXZlUmVmcmVzaC5fc3RvcCgpO1xuICB9XG5cbiAgYXN5bmMgX3VwZGF0ZVRva2Vuc0lmTmVjZXNzYXJ5KFxuICAgIHJlc3BvbnNlOiBJZFRva2VuUmVzcG9uc2UgfCBGaW5hbGl6ZU1mYVJlc3BvbnNlLFxuICAgIHJlbG9hZCA9IGZhbHNlXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGxldCB0b2tlbnNSZWZyZXNoZWQgPSBmYWxzZTtcbiAgICBpZiAoXG4gICAgICByZXNwb25zZS5pZFRva2VuICYmXG4gICAgICByZXNwb25zZS5pZFRva2VuICE9PSB0aGlzLnN0c1Rva2VuTWFuYWdlci5hY2Nlc3NUb2tlblxuICAgICkge1xuICAgICAgdGhpcy5zdHNUb2tlbk1hbmFnZXIudXBkYXRlRnJvbVNlcnZlclJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIHRva2Vuc1JlZnJlc2hlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHJlbG9hZCkge1xuICAgICAgYXdhaXQgX3JlbG9hZFdpdGhvdXRTYXZpbmcodGhpcyk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5hdXRoLl9wZXJzaXN0VXNlcklmQ3VycmVudCh0aGlzKTtcbiAgICBpZiAodG9rZW5zUmVmcmVzaGVkKSB7XG4gICAgICB0aGlzLmF1dGguX25vdGlmeUxpc3RlbmVyc0lmQ3VycmVudCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBkZWxldGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHRoaXMuYXV0aC5hcHApKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKHRoaXMuYXV0aClcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCB0aGlzLmdldElkVG9rZW4oKTtcbiAgICBhd2FpdCBfbG9nb3V0SWZJbnZhbGlkYXRlZCh0aGlzLCBkZWxldGVBY2NvdW50KHRoaXMuYXV0aCwgeyBpZFRva2VuIH0pKTtcbiAgICB0aGlzLnN0c1Rva2VuTWFuYWdlci5jbGVhclJlZnJlc2hUb2tlbigpO1xuXG4gICAgLy8gVE9ETzogRGV0ZXJtaW5lIGlmIGNhbmNlbGxhYmxlLXByb21pc2VzIGFyZSBuZWNlc3NhcnkgdG8gdXNlIGluIHRoaXMgY2xhc3Mgc28gdGhhdCBkZWxldGUoKVxuICAgIC8vICAgICAgIGNhbmNlbHMgcGVuZGluZyBhY3Rpb25zLi4uXG5cbiAgICByZXR1cm4gdGhpcy5hdXRoLnNpZ25PdXQoKTtcbiAgfVxuXG4gIHRvSlNPTigpOiBQZXJzaXN0ZWRCbG9iIHtcbiAgICByZXR1cm4ge1xuICAgICAgdWlkOiB0aGlzLnVpZCxcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsIHx8IHVuZGVmaW5lZCxcbiAgICAgIGVtYWlsVmVyaWZpZWQ6IHRoaXMuZW1haWxWZXJpZmllZCxcbiAgICAgIGRpc3BsYXlOYW1lOiB0aGlzLmRpc3BsYXlOYW1lIHx8IHVuZGVmaW5lZCxcbiAgICAgIGlzQW5vbnltb3VzOiB0aGlzLmlzQW5vbnltb3VzLFxuICAgICAgcGhvdG9VUkw6IHRoaXMucGhvdG9VUkwgfHwgdW5kZWZpbmVkLFxuICAgICAgcGhvbmVOdW1iZXI6IHRoaXMucGhvbmVOdW1iZXIgfHwgdW5kZWZpbmVkLFxuICAgICAgdGVuYW50SWQ6IHRoaXMudGVuYW50SWQgfHwgdW5kZWZpbmVkLFxuICAgICAgcHJvdmlkZXJEYXRhOiB0aGlzLnByb3ZpZGVyRGF0YS5tYXAodXNlckluZm8gPT4gKHsgLi4udXNlckluZm8gfSkpLFxuICAgICAgc3RzVG9rZW5NYW5hZ2VyOiB0aGlzLnN0c1Rva2VuTWFuYWdlci50b0pTT04oKSxcbiAgICAgIC8vIFJlZGlyZWN0IGV2ZW50IElEIG11c3QgYmUgbWFpbnRhaW5lZCBpbiBjYXNlIHRoZXJlIGlzIGEgcGVuZGluZ1xuICAgICAgLy8gcmVkaXJlY3QgZXZlbnQuXG4gICAgICBfcmVkaXJlY3RFdmVudElkOiB0aGlzLl9yZWRpcmVjdEV2ZW50SWQsXG4gICAgICAuLi50aGlzLm1ldGFkYXRhLnRvSlNPTigpLFxuXG4gICAgICAvLyBSZXF1aXJlZCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBsZWdhY3kgU0RLIChnby9maXJlYmFzZS1hdXRoLXNkay1wZXJzaXN0ZW5jZS1wYXJzaW5nKTpcbiAgICAgIGFwaUtleTogdGhpcy5hdXRoLmNvbmZpZy5hcGlLZXksXG4gICAgICBhcHBOYW1lOiB0aGlzLmF1dGgubmFtZVxuICAgICAgLy8gTWlzc2luZyBhdXRoRG9tYWluIHdpbGwgYmUgdG9sZXJhdGVkIGJ5IHRoZSBsZWdhY3kgU0RLLlxuICAgICAgLy8gc3RzVG9rZW5NYW5hZ2VyLmFwaUtleSBpc24ndCBhY3R1YWxseSByZXF1aXJlZCAoZGVzcGl0ZSB0aGUgbGVnYWN5IFNESyBwZXJzaXN0aW5nIGl0KS5cbiAgICB9O1xuICB9XG5cbiAgZ2V0IHJlZnJlc2hUb2tlbigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnN0c1Rva2VuTWFuYWdlci5yZWZyZXNoVG9rZW4gfHwgJyc7XG4gIH1cblxuICBzdGF0aWMgX2Zyb21KU09OKGF1dGg6IEF1dGhJbnRlcm5hbCwgb2JqZWN0OiBQZXJzaXN0ZWRCbG9iKTogVXNlckludGVybmFsIHtcbiAgICBjb25zdCBkaXNwbGF5TmFtZSA9IG9iamVjdC5kaXNwbGF5TmFtZSA/PyB1bmRlZmluZWQ7XG4gICAgY29uc3QgZW1haWwgPSBvYmplY3QuZW1haWwgPz8gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHBob25lTnVtYmVyID0gb2JqZWN0LnBob25lTnVtYmVyID8/IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwaG90b1VSTCA9IG9iamVjdC5waG90b1VSTCA/PyB1bmRlZmluZWQ7XG4gICAgY29uc3QgdGVuYW50SWQgPSBvYmplY3QudGVuYW50SWQgPz8gdW5kZWZpbmVkO1xuICAgIGNvbnN0IF9yZWRpcmVjdEV2ZW50SWQgPSBvYmplY3QuX3JlZGlyZWN0RXZlbnRJZCA/PyB1bmRlZmluZWQ7XG4gICAgY29uc3QgY3JlYXRlZEF0ID0gb2JqZWN0LmNyZWF0ZWRBdCA/PyB1bmRlZmluZWQ7XG4gICAgY29uc3QgbGFzdExvZ2luQXQgPSBvYmplY3QubGFzdExvZ2luQXQgPz8gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHtcbiAgICAgIHVpZCxcbiAgICAgIGVtYWlsVmVyaWZpZWQsXG4gICAgICBpc0Fub255bW91cyxcbiAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgIHN0c1Rva2VuTWFuYWdlcjogcGxhaW5PYmplY3RUb2tlbk1hbmFnZXJcbiAgICB9ID0gb2JqZWN0O1xuXG4gICAgX2Fzc2VydCh1aWQgJiYgcGxhaW5PYmplY3RUb2tlbk1hbmFnZXIsIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuXG4gICAgY29uc3Qgc3RzVG9rZW5NYW5hZ2VyID0gU3RzVG9rZW5NYW5hZ2VyLmZyb21KU09OKFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgcGxhaW5PYmplY3RUb2tlbk1hbmFnZXIgYXMgUGVyc2lzdGVkQmxvYlxuICAgICk7XG5cbiAgICBfYXNzZXJ0KHR5cGVvZiB1aWQgPT09ICdzdHJpbmcnLCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICBhc3NlcnRTdHJpbmdPclVuZGVmaW5lZChkaXNwbGF5TmFtZSwgYXV0aC5uYW1lKTtcbiAgICBhc3NlcnRTdHJpbmdPclVuZGVmaW5lZChlbWFpbCwgYXV0aC5uYW1lKTtcbiAgICBfYXNzZXJ0KFxuICAgICAgdHlwZW9mIGVtYWlsVmVyaWZpZWQgPT09ICdib29sZWFuJyxcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgKTtcbiAgICBfYXNzZXJ0KFxuICAgICAgdHlwZW9mIGlzQW5vbnltb3VzID09PSAnYm9vbGVhbicsXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgICk7XG4gICAgYXNzZXJ0U3RyaW5nT3JVbmRlZmluZWQocGhvbmVOdW1iZXIsIGF1dGgubmFtZSk7XG4gICAgYXNzZXJ0U3RyaW5nT3JVbmRlZmluZWQocGhvdG9VUkwsIGF1dGgubmFtZSk7XG4gICAgYXNzZXJ0U3RyaW5nT3JVbmRlZmluZWQodGVuYW50SWQsIGF1dGgubmFtZSk7XG4gICAgYXNzZXJ0U3RyaW5nT3JVbmRlZmluZWQoX3JlZGlyZWN0RXZlbnRJZCwgYXV0aC5uYW1lKTtcbiAgICBhc3NlcnRTdHJpbmdPclVuZGVmaW5lZChjcmVhdGVkQXQsIGF1dGgubmFtZSk7XG4gICAgYXNzZXJ0U3RyaW5nT3JVbmRlZmluZWQobGFzdExvZ2luQXQsIGF1dGgubmFtZSk7XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VySW1wbCh7XG4gICAgICB1aWQsXG4gICAgICBhdXRoLFxuICAgICAgZW1haWwsXG4gICAgICBlbWFpbFZlcmlmaWVkLFxuICAgICAgZGlzcGxheU5hbWUsXG4gICAgICBpc0Fub255bW91cyxcbiAgICAgIHBob3RvVVJMLFxuICAgICAgcGhvbmVOdW1iZXIsXG4gICAgICB0ZW5hbnRJZCxcbiAgICAgIHN0c1Rva2VuTWFuYWdlcixcbiAgICAgIGNyZWF0ZWRBdCxcbiAgICAgIGxhc3RMb2dpbkF0XG4gICAgfSk7XG5cbiAgICBpZiAocHJvdmlkZXJEYXRhICYmIEFycmF5LmlzQXJyYXkocHJvdmlkZXJEYXRhKSkge1xuICAgICAgdXNlci5wcm92aWRlckRhdGEgPSBwcm92aWRlckRhdGEubWFwKHVzZXJJbmZvID0+ICh7IC4uLnVzZXJJbmZvIH0pKTtcbiAgICB9XG5cbiAgICBpZiAoX3JlZGlyZWN0RXZlbnRJZCkge1xuICAgICAgdXNlci5fcmVkaXJlY3RFdmVudElkID0gX3JlZGlyZWN0RXZlbnRJZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdXNlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgVXNlciBmcm9tIGFuIGlkVG9rZW4gc2VydmVyIHJlc3BvbnNlXG4gICAqIEBwYXJhbSBhdXRoXG4gICAqIEBwYXJhbSBpZFRva2VuUmVzcG9uc2VcbiAgICovXG4gIHN0YXRpYyBhc3luYyBfZnJvbUlkVG9rZW5SZXNwb25zZShcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgaWRUb2tlblJlc3BvbnNlOiBJZFRva2VuUmVzcG9uc2UsXG4gICAgaXNBbm9ueW1vdXM6IGJvb2xlYW4gPSBmYWxzZVxuICApOiBQcm9taXNlPFVzZXJJbnRlcm5hbD4ge1xuICAgIGNvbnN0IHN0c1Rva2VuTWFuYWdlciA9IG5ldyBTdHNUb2tlbk1hbmFnZXIoKTtcbiAgICBzdHNUb2tlbk1hbmFnZXIudXBkYXRlRnJvbVNlcnZlclJlc3BvbnNlKGlkVG9rZW5SZXNwb25zZSk7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBGaXJlYmFzZSBBdXRoIHVzZXIuXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VySW1wbCh7XG4gICAgICB1aWQ6IGlkVG9rZW5SZXNwb25zZS5sb2NhbElkLFxuICAgICAgYXV0aCxcbiAgICAgIHN0c1Rva2VuTWFuYWdlcixcbiAgICAgIGlzQW5vbnltb3VzXG4gICAgfSk7XG5cbiAgICAvLyBVcGRhdGVzIHRoZSB1c2VyIGluZm8gYW5kIGRhdGEgYW5kIHJlc29sdmVzIHdpdGggYSB1c2VyIGluc3RhbmNlLlxuICAgIGF3YWl0IF9yZWxvYWRXaXRob3V0U2F2aW5nKHVzZXIpO1xuICAgIHJldHVybiB1c2VyO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBVc2VyIGZyb20gYW4gaWRUb2tlbiBzZXJ2ZXIgcmVzcG9uc2VcbiAgICogQHBhcmFtIGF1dGhcbiAgICogQHBhcmFtIGlkVG9rZW5SZXNwb25zZVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIF9mcm9tR2V0QWNjb3VudEluZm9SZXNwb25zZShcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgcmVzcG9uc2U6IEdldEFjY291bnRJbmZvUmVzcG9uc2UsXG4gICAgaWRUb2tlbjogc3RyaW5nXG4gICk6IFByb21pc2U8VXNlckludGVybmFsPiB7XG4gICAgY29uc3QgY29yZUFjY291bnQgPSByZXNwb25zZS51c2Vyc1swXTtcbiAgICBfYXNzZXJ0KGNvcmVBY2NvdW50LmxvY2FsSWQgIT09IHVuZGVmaW5lZCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG5cbiAgICBjb25zdCBwcm92aWRlckRhdGE6IFVzZXJJbmZvW10gPVxuICAgICAgY29yZUFjY291bnQucHJvdmlkZXJVc2VySW5mbyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gZXh0cmFjdFByb3ZpZGVyRGF0YShjb3JlQWNjb3VudC5wcm92aWRlclVzZXJJbmZvKVxuICAgICAgICA6IFtdO1xuXG4gICAgY29uc3QgaXNBbm9ueW1vdXMgPVxuICAgICAgIShjb3JlQWNjb3VudC5lbWFpbCAmJiBjb3JlQWNjb3VudC5wYXNzd29yZEhhc2gpICYmICFwcm92aWRlckRhdGE/Lmxlbmd0aDtcblxuICAgIGNvbnN0IHN0c1Rva2VuTWFuYWdlciA9IG5ldyBTdHNUb2tlbk1hbmFnZXIoKTtcbiAgICBzdHNUb2tlbk1hbmFnZXIudXBkYXRlRnJvbUlkVG9rZW4oaWRUb2tlbik7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBGaXJlYmFzZSBBdXRoIHVzZXIuXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VySW1wbCh7XG4gICAgICB1aWQ6IGNvcmVBY2NvdW50LmxvY2FsSWQsXG4gICAgICBhdXRoLFxuICAgICAgc3RzVG9rZW5NYW5hZ2VyLFxuICAgICAgaXNBbm9ueW1vdXNcbiAgICB9KTtcblxuICAgIC8vIHVwZGF0ZSB0aGUgdXNlciB3aXRoIGRhdGEgZnJvbSB0aGUgR2V0QWNjb3VudEluZm8gcmVzcG9uc2UuXG4gICAgY29uc3QgdXBkYXRlczogUGFydGlhbDxVc2VySW50ZXJuYWw+ID0ge1xuICAgICAgdWlkOiBjb3JlQWNjb3VudC5sb2NhbElkLFxuICAgICAgZGlzcGxheU5hbWU6IGNvcmVBY2NvdW50LmRpc3BsYXlOYW1lIHx8IG51bGwsXG4gICAgICBwaG90b1VSTDogY29yZUFjY291bnQucGhvdG9VcmwgfHwgbnVsbCxcbiAgICAgIGVtYWlsOiBjb3JlQWNjb3VudC5lbWFpbCB8fCBudWxsLFxuICAgICAgZW1haWxWZXJpZmllZDogY29yZUFjY291bnQuZW1haWxWZXJpZmllZCB8fCBmYWxzZSxcbiAgICAgIHBob25lTnVtYmVyOiBjb3JlQWNjb3VudC5waG9uZU51bWJlciB8fCBudWxsLFxuICAgICAgdGVuYW50SWQ6IGNvcmVBY2NvdW50LnRlbmFudElkIHx8IG51bGwsXG4gICAgICBwcm92aWRlckRhdGEsXG4gICAgICBtZXRhZGF0YTogbmV3IFVzZXJNZXRhZGF0YShcbiAgICAgICAgY29yZUFjY291bnQuY3JlYXRlZEF0LFxuICAgICAgICBjb3JlQWNjb3VudC5sYXN0TG9naW5BdFxuICAgICAgKSxcbiAgICAgIGlzQW5vbnltb3VzOlxuICAgICAgICAhKGNvcmVBY2NvdW50LmVtYWlsICYmIGNvcmVBY2NvdW50LnBhc3N3b3JkSGFzaCkgJiZcbiAgICAgICAgIXByb3ZpZGVyRGF0YT8ubGVuZ3RoXG4gICAgfTtcblxuICAgIE9iamVjdC5hc3NpZ24odXNlciwgdXBkYXRlcyk7XG4gICAgcmV0dXJuIHVzZXI7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBkZWJ1Z0Fzc2VydCB9IGZyb20gJy4vYXNzZXJ0JztcblxuLyoqXG4gKiBPdXIgQVBJIGhhcyBhIGxvdCBvZiBvbmUtb2ZmIGNvbnN0YW50cyB0aGF0IGFyZSB1c2VkIHRvIGRvIHRoaW5ncy5cbiAqIFVuZm9ydHVuYXRlbHkgd2UgY2FuJ3QgZXhwb3J0IHRoZXNlIGFzIGNsYXNzZXMgaW5zdGFudGlhdGVkIGRpcmVjdGx5IHNpbmNlXG4gKiB0aGUgY29uc3RydWN0b3IgbWF5IHNpZGUgZWZmZWN0IGFuZCB0aGVyZWZvcmUgY2FuJ3QgYmUgcHJvdmVuIHRvIGJlIHNhZmVseVxuICogY3VsbGVkLiBJbnN0ZWFkLCB3ZSBleHBvcnQgdGhlc2UgY2xhc3NlcyB0aGVtc2VsdmVzIGFzIGEgbG93ZXJDYW1lbENhc2VcbiAqIGNvbnN0YW50LCBhbmQgaW5zdGFudGlhdGUgdGhlbSB1bmRlciB0aGUgaG9vZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTaW5nbGV0b25JbnN0YW50aWF0b3I8VD4ge1xuICBuZXcgKCk6IFQ7XG59XG5cbmNvbnN0IGluc3RhbmNlQ2FjaGU6IE1hcDx1bmtub3duLCB1bmtub3duPiA9IG5ldyBNYXAoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRJbnN0YW5jZTxUPihjbHM6IHVua25vd24pOiBUIHtcbiAgZGVidWdBc3NlcnQoY2xzIGluc3RhbmNlb2YgRnVuY3Rpb24sICdFeHBlY3RlZCBhIGNsYXNzIGRlZmluaXRpb24nKTtcbiAgbGV0IGluc3RhbmNlID0gaW5zdGFuY2VDYWNoZS5nZXQoY2xzKSBhcyBUIHwgdW5kZWZpbmVkO1xuXG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGRlYnVnQXNzZXJ0KFxuICAgICAgaW5zdGFuY2UgaW5zdGFuY2VvZiBjbHMsXG4gICAgICAnSW5zdGFuY2Ugc3RvcmVkIGluIGNhY2hlIG1pc21hdGNoZWQgd2l0aCBjbGFzcydcbiAgICApO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIGluc3RhbmNlID0gbmV3IChjbHMgYXMgU2luZ2xldG9uSW5zdGFudGlhdG9yPFQ+KSgpO1xuICBpbnN0YW5jZUNhY2hlLnNldChjbHMsIGluc3RhbmNlKTtcbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2NsZWFySW5zdGFuY2VNYXAoKTogdm9pZCB7XG4gIGluc3RhbmNlQ2FjaGUuY2xlYXIoKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQZXJzaXN0ZW5jZSB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7XG4gIFBlcnNpc3RlbmNlSW50ZXJuYWwsXG4gIFBlcnNpc3RlbmNlVHlwZSxcbiAgUGVyc2lzdGVuY2VWYWx1ZSxcbiAgU3RvcmFnZUV2ZW50TGlzdGVuZXJcbn0gZnJvbSAnLi4vcGVyc2lzdGVuY2UnO1xuXG5leHBvcnQgY2xhc3MgSW5NZW1vcnlQZXJzaXN0ZW5jZSBpbXBsZW1lbnRzIFBlcnNpc3RlbmNlSW50ZXJuYWwge1xuICBzdGF0aWMgdHlwZTogJ05PTkUnID0gJ05PTkUnO1xuICByZWFkb25seSB0eXBlID0gUGVyc2lzdGVuY2VUeXBlLk5PTkU7XG4gIHN0b3JhZ2U6IFJlY29yZDxzdHJpbmcsIFBlcnNpc3RlbmNlVmFsdWU+ID0ge307XG5cbiAgYXN5bmMgX2lzQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYXN5bmMgX3NldChrZXk6IHN0cmluZywgdmFsdWU6IFBlcnNpc3RlbmNlVmFsdWUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgYXN5bmMgX2dldDxUIGV4dGVuZHMgUGVyc2lzdGVuY2VWYWx1ZT4oa2V5OiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnN0b3JhZ2Vba2V5XTtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiAodmFsdWUgYXMgVCk7XG4gIH1cblxuICBhc3luYyBfcmVtb3ZlKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZGVsZXRlIHRoaXMuc3RvcmFnZVtrZXldO1xuICB9XG5cbiAgX2FkZExpc3RlbmVyKF9rZXk6IHN0cmluZywgX2xpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIC8vIExpc3RlbmVycyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgaW4tbWVtb3J5IHN0b3JhZ2Ugc2luY2UgaXQgY2Fubm90IGJlIHNoYXJlZCBhY3Jvc3Mgd2luZG93cy93b3JrZXJzXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgX3JlbW92ZUxpc3RlbmVyKF9rZXk6IHN0cmluZywgX2xpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIC8vIExpc3RlbmVycyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgaW4tbWVtb3J5IHN0b3JhZ2Ugc2luY2UgaXQgY2Fubm90IGJlIHNoYXJlZCBhY3Jvc3Mgd2luZG93cy93b3JrZXJzXG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIFBlcnNpc3RlbmNlfSBvZiB0eXBlICdOT05FJy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBpbk1lbW9yeVBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSA9IEluTWVtb3J5UGVyc2lzdGVuY2U7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXBpS2V5LCBBcHBOYW1lLCBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgUGVyc2lzdGVkQmxvYiwgUGVyc2lzdGVuY2VJbnRlcm5hbCB9IGZyb20gJy4uL3BlcnNpc3RlbmNlJztcbmltcG9ydCB7IFVzZXJJbXBsIH0gZnJvbSAnLi4vdXNlci91c2VyX2ltcGwnO1xuaW1wb3J0IHsgX2dldEluc3RhbmNlIH0gZnJvbSAnLi4vdXRpbC9pbnN0YW50aWF0b3InO1xuaW1wb3J0IHsgaW5NZW1vcnlQZXJzaXN0ZW5jZSB9IGZyb20gJy4vaW5fbWVtb3J5JztcblxuZXhwb3J0IGNvbnN0IGVudW0gS2V5TmFtZSB7XG4gIEFVVEhfVVNFUiA9ICdhdXRoVXNlcicsXG4gIEFVVEhfRVZFTlQgPSAnYXV0aEV2ZW50JyxcbiAgUkVESVJFQ1RfVVNFUiA9ICdyZWRpcmVjdFVzZXInLFxuICBQRVJTSVNURU5DRV9VU0VSID0gJ3BlcnNpc3RlbmNlJ1xufVxuZXhwb3J0IGNvbnN0IGVudW0gTmFtZXNwYWNlIHtcbiAgUEVSU0lTVEVOQ0UgPSAnZmlyZWJhc2UnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcGVyc2lzdGVuY2VLZXlOYW1lKFxuICBrZXk6IHN0cmluZyxcbiAgYXBpS2V5OiBBcGlLZXksXG4gIGFwcE5hbWU6IEFwcE5hbWVcbik6IHN0cmluZyB7XG4gIHJldHVybiBgJHtOYW1lc3BhY2UuUEVSU0lTVEVOQ0V9OiR7a2V5fToke2FwaUtleX06JHthcHBOYW1lfWA7XG59XG5cbmV4cG9ydCBjbGFzcyBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBmdWxsVXNlcktleTogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGZ1bGxQZXJzaXN0ZW5jZUtleTogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGJvdW5kRXZlbnRIYW5kbGVyOiAoKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZUludGVybmFsLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgdXNlcktleTogc3RyaW5nXG4gICkge1xuICAgIGNvbnN0IHsgY29uZmlnLCBuYW1lIH0gPSB0aGlzLmF1dGg7XG4gICAgdGhpcy5mdWxsVXNlcktleSA9IF9wZXJzaXN0ZW5jZUtleU5hbWUodGhpcy51c2VyS2V5LCBjb25maWcuYXBpS2V5LCBuYW1lKTtcbiAgICB0aGlzLmZ1bGxQZXJzaXN0ZW5jZUtleSA9IF9wZXJzaXN0ZW5jZUtleU5hbWUoXG4gICAgICBLZXlOYW1lLlBFUlNJU1RFTkNFX1VTRVIsXG4gICAgICBjb25maWcuYXBpS2V5LFxuICAgICAgbmFtZVxuICAgICk7XG4gICAgdGhpcy5ib3VuZEV2ZW50SGFuZGxlciA9IGF1dGguX29uU3RvcmFnZUV2ZW50LmJpbmQoYXV0aCk7XG4gICAgdGhpcy5wZXJzaXN0ZW5jZS5fYWRkTGlzdGVuZXIodGhpcy5mdWxsVXNlcktleSwgdGhpcy5ib3VuZEV2ZW50SGFuZGxlcik7XG4gIH1cblxuICBzZXRDdXJyZW50VXNlcih1c2VyOiBVc2VySW50ZXJuYWwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5fc2V0KHRoaXMuZnVsbFVzZXJLZXksIHVzZXIudG9KU09OKCkpO1xuICB9XG5cbiAgYXN5bmMgZ2V0Q3VycmVudFVzZXIoKTogUHJvbWlzZTxVc2VySW50ZXJuYWwgfCBudWxsPiB7XG4gICAgY29uc3QgYmxvYiA9IGF3YWl0IHRoaXMucGVyc2lzdGVuY2UuX2dldDxQZXJzaXN0ZWRCbG9iPih0aGlzLmZ1bGxVc2VyS2V5KTtcbiAgICByZXR1cm4gYmxvYiA/IFVzZXJJbXBsLl9mcm9tSlNPTih0aGlzLmF1dGgsIGJsb2IpIDogbnVsbDtcbiAgfVxuXG4gIHJlbW92ZUN1cnJlbnRVc2VyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLl9yZW1vdmUodGhpcy5mdWxsVXNlcktleSk7XG4gIH1cblxuICBzYXZlUGVyc2lzdGVuY2VGb3JSZWRpcmVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5fc2V0KFxuICAgICAgdGhpcy5mdWxsUGVyc2lzdGVuY2VLZXksXG4gICAgICB0aGlzLnBlcnNpc3RlbmNlLnR5cGVcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgc2V0UGVyc2lzdGVuY2UobmV3UGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlSW50ZXJuYWwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5wZXJzaXN0ZW5jZSA9PT0gbmV3UGVyc2lzdGVuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50VXNlciA9IGF3YWl0IHRoaXMuZ2V0Q3VycmVudFVzZXIoKTtcbiAgICBhd2FpdCB0aGlzLnJlbW92ZUN1cnJlbnRVc2VyKCk7XG5cbiAgICB0aGlzLnBlcnNpc3RlbmNlID0gbmV3UGVyc2lzdGVuY2U7XG5cbiAgICBpZiAoY3VycmVudFVzZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRVc2VyKGN1cnJlbnRVc2VyKTtcbiAgICB9XG4gIH1cblxuICBkZWxldGUoKTogdm9pZCB7XG4gICAgdGhpcy5wZXJzaXN0ZW5jZS5fcmVtb3ZlTGlzdGVuZXIodGhpcy5mdWxsVXNlcktleSwgdGhpcy5ib3VuZEV2ZW50SGFuZGxlcik7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgY3JlYXRlKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBwZXJzaXN0ZW5jZUhpZXJhcmNoeTogUGVyc2lzdGVuY2VJbnRlcm5hbFtdLFxuICAgIHVzZXJLZXkgPSBLZXlOYW1lLkFVVEhfVVNFUlxuICApOiBQcm9taXNlPFBlcnNpc3RlbmNlVXNlck1hbmFnZXI+IHtcbiAgICBpZiAoIXBlcnNpc3RlbmNlSGllcmFyY2h5Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyKFxuICAgICAgICBfZ2V0SW5zdGFuY2UoaW5NZW1vcnlQZXJzaXN0ZW5jZSksXG4gICAgICAgIGF1dGgsXG4gICAgICAgIHVzZXJLZXlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gRWxpbWluYXRlIGFueSBwZXJzaXN0ZW5jZXMgdGhhdCBhcmUgbm90IGF2YWlsYWJsZVxuICAgIGNvbnN0IGF2YWlsYWJsZVBlcnNpc3RlbmNlcyA9IChcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBwZXJzaXN0ZW5jZUhpZXJhcmNoeS5tYXAoYXN5bmMgcGVyc2lzdGVuY2UgPT4ge1xuICAgICAgICAgIGlmIChhd2FpdCBwZXJzaXN0ZW5jZS5faXNBdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBlcnNpc3RlbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9KVxuICAgICAgKVxuICAgICkuZmlsdGVyKHBlcnNpc3RlbmNlID0+IHBlcnNpc3RlbmNlKSBhcyBQZXJzaXN0ZW5jZUludGVybmFsW107XG5cbiAgICAvLyBGYWxsIGJhY2sgdG8gdGhlIGZpcnN0IHBlcnNpc3RlbmNlIGxpc3RlZCwgb3IgaW4gbWVtb3J5IGlmIG5vbmUgYXZhaWxhYmxlXG4gICAgbGV0IHNlbGVjdGVkUGVyc2lzdGVuY2UgPVxuICAgICAgYXZhaWxhYmxlUGVyc2lzdGVuY2VzWzBdIHx8XG4gICAgICBfZ2V0SW5zdGFuY2U8UGVyc2lzdGVuY2VJbnRlcm5hbD4oaW5NZW1vcnlQZXJzaXN0ZW5jZSk7XG5cbiAgICBjb25zdCBrZXkgPSBfcGVyc2lzdGVuY2VLZXlOYW1lKHVzZXJLZXksIGF1dGguY29uZmlnLmFwaUtleSwgYXV0aC5uYW1lKTtcblxuICAgIC8vIFB1bGwgb3V0IHRoZSBleGlzdGluZyB1c2VyLCBzZXR0aW5nIHRoZSBjaG9zZW4gcGVyc2lzdGVuY2UgdG8gdGhhdFxuICAgIC8vIHBlcnNpc3RlbmNlIGlmIHRoZSB1c2VyIGV4aXN0cy5cbiAgICBsZXQgdXNlclRvTWlncmF0ZTogVXNlckludGVybmFsIHwgbnVsbCA9IG51bGw7XG4gICAgLy8gTm90ZSwgaGVyZSB3ZSBjaGVjayBmb3IgYSB1c2VyIGluIF9hbGxfIHBlcnNpc3RlbmNlcywgbm90IGp1c3QgdGhlXG4gICAgLy8gb25lcyBkZWVtZWQgYXZhaWxhYmxlLiBJZiB3ZSBjYW4gbWlncmF0ZSBhIHVzZXIgb3V0IG9mIGEgYnJva2VuXG4gICAgLy8gcGVyc2lzdGVuY2UsIHdlIHdpbGwgKGJ1dCBvbmx5IGlmIHRoYXQgcGVyc2lzdGVuY2Ugc3VwcG9ydHMgbWlncmF0aW9uKS5cbiAgICBmb3IgKGNvbnN0IHBlcnNpc3RlbmNlIG9mIHBlcnNpc3RlbmNlSGllcmFyY2h5KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcGVyc2lzdGVuY2UuX2dldDxQZXJzaXN0ZWRCbG9iPihrZXkpO1xuICAgICAgICBpZiAoYmxvYikge1xuICAgICAgICAgIGNvbnN0IHVzZXIgPSBVc2VySW1wbC5fZnJvbUpTT04oYXV0aCwgYmxvYik7IC8vIHRocm93cyBmb3IgdW5wYXJzYWJsZSBibG9iICh3cm9uZyBmb3JtYXQpXG4gICAgICAgICAgaWYgKHBlcnNpc3RlbmNlICE9PSBzZWxlY3RlZFBlcnNpc3RlbmNlKSB7XG4gICAgICAgICAgICB1c2VyVG9NaWdyYXRlID0gdXNlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZWN0ZWRQZXJzaXN0ZW5jZSA9IHBlcnNpc3RlbmNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgZmluZCB0aGUgdXNlciBpbiBhIHBlcnNpc3RlbmNlIHRoYXQgZG9lcyBzdXBwb3J0IG1pZ3JhdGlvbiwgdXNlXG4gICAgLy8gdGhhdCBtaWdyYXRpb24gcGF0aCAob2Ygb25seSBwZXJzaXN0ZW5jZXMgdGhhdCBzdXBwb3J0IG1pZ3JhdGlvbilcbiAgICBjb25zdCBtaWdyYXRpb25IaWVyYXJjaHkgPSBhdmFpbGFibGVQZXJzaXN0ZW5jZXMuZmlsdGVyKFxuICAgICAgcCA9PiBwLl9zaG91bGRBbGxvd01pZ3JhdGlvblxuICAgICk7XG5cbiAgICAvLyBJZiB0aGUgcGVyc2lzdGVuY2UgZG9lcyBfbm90XyBhbGxvdyBtaWdyYXRpb24sIGp1c3QgZmluaXNoIG9mZiBoZXJlXG4gICAgaWYgKFxuICAgICAgIXNlbGVjdGVkUGVyc2lzdGVuY2UuX3Nob3VsZEFsbG93TWlncmF0aW9uIHx8XG4gICAgICAhbWlncmF0aW9uSGllcmFyY2h5Lmxlbmd0aFxuICAgICkge1xuICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyKHNlbGVjdGVkUGVyc2lzdGVuY2UsIGF1dGgsIHVzZXJLZXkpO1xuICAgIH1cblxuICAgIHNlbGVjdGVkUGVyc2lzdGVuY2UgPSBtaWdyYXRpb25IaWVyYXJjaHlbMF07XG4gICAgaWYgKHVzZXJUb01pZ3JhdGUpIHtcbiAgICAgIC8vIFRoaXMgbm9ybWFsbHkgc2hvdWxkbid0IHRocm93IHNpbmNlIGNob3NlblBlcnNpc3RlbmNlLmlzQXZhaWxhYmxlKCkgaXMgdHJ1ZSwgYnV0IGlmIGl0IGRvZXNcbiAgICAgIC8vIHdlJ2xsIGp1c3QgbGV0IGl0IGJ1YmJsZSB0byBzdXJmYWNlIHRoZSBlcnJvci5cbiAgICAgIGF3YWl0IHNlbGVjdGVkUGVyc2lzdGVuY2UuX3NldChrZXksIHVzZXJUb01pZ3JhdGUudG9KU09OKCkpO1xuICAgIH1cblxuICAgIC8vIEF0dGVtcHQgdG8gY2xlYXIgdGhlIGtleSBpbiBvdGhlciBwZXJzaXN0ZW5jZXMgYnV0IGlnbm9yZSBlcnJvcnMuIFRoaXMgaGVscHMgcHJldmVudCBpc3N1ZXNcbiAgICAvLyBzdWNoIGFzIHVzZXJzIGdldHRpbmcgc3R1Y2sgd2l0aCBhIHByZXZpb3VzIGFjY291bnQgYWZ0ZXIgc2lnbmluZyBvdXQgYW5kIHJlZnJlc2hpbmcgdGhlIHRhYi5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHBlcnNpc3RlbmNlSGllcmFyY2h5Lm1hcChhc3luYyBwZXJzaXN0ZW5jZSA9PiB7XG4gICAgICAgIGlmIChwZXJzaXN0ZW5jZSAhPT0gc2VsZWN0ZWRQZXJzaXN0ZW5jZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBwZXJzaXN0ZW5jZS5fcmVtb3ZlKGtleSk7XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyKHNlbGVjdGVkUGVyc2lzdGVuY2UsIGF1dGgsIHVzZXJLZXkpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgaXNJRSwgZ2V0VUEgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmludGVyZmFjZSBOYXZpZ2F0b3JTdGFuZGFsb25lIGV4dGVuZHMgTmF2aWdhdG9yIHtcbiAgc3RhbmRhbG9uZT86IHVua25vd247XG59XG5cbmludGVyZmFjZSBEb2N1bWVudCB7XG4gIGRvY3VtZW50TW9kZT86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBFbnVtcyBmb3IgQnJvd3NlciBuYW1lLlxuICovXG5leHBvcnQgY29uc3QgZW51bSBCcm93c2VyTmFtZSB7XG4gIEFORFJPSUQgPSAnQW5kcm9pZCcsXG4gIEJMQUNLQkVSUlkgPSAnQmxhY2tiZXJyeScsXG4gIEVER0UgPSAnRWRnZScsXG4gIEZJUkVGT1ggPSAnRmlyZWZveCcsXG4gIElFID0gJ0lFJyxcbiAgSUVNT0JJTEUgPSAnSUVNb2JpbGUnLFxuICBPUEVSQSA9ICdPcGVyYScsXG4gIE9USEVSID0gJ090aGVyJyxcbiAgQ0hST01FID0gJ0Nocm9tZScsXG4gIFNBRkFSSSA9ICdTYWZhcmknLFxuICBTSUxLID0gJ1NpbGsnLFxuICBXRUJPUyA9ICdXZWJvcydcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgdGhlIGJyb3dzZXIgZm9yIHRoZSBwdXJwb3NlcyBvZiByZXBvcnRpbmcgdXNhZ2UgdG8gdGhlIEFQSVxuICovXG5leHBvcnQgZnVuY3Rpb24gX2dldEJyb3dzZXJOYW1lKHVzZXJBZ2VudDogc3RyaW5nKTogQnJvd3Nlck5hbWUgfCBzdHJpbmcge1xuICBjb25zdCB1YSA9IHVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICBpZiAodWEuaW5jbHVkZXMoJ29wZXJhLycpIHx8IHVhLmluY2x1ZGVzKCdvcHIvJykgfHwgdWEuaW5jbHVkZXMoJ29waW9zLycpKSB7XG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLk9QRVJBO1xuICB9IGVsc2UgaWYgKF9pc0lFTW9iaWxlKHVhKSkge1xuICAgIC8vIFdpbmRvd3MgcGhvbmUgSUVNb2JpbGUgYnJvd3Nlci5cbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuSUVNT0JJTEU7XG4gIH0gZWxzZSBpZiAodWEuaW5jbHVkZXMoJ21zaWUnKSB8fCB1YS5pbmNsdWRlcygndHJpZGVudC8nKSkge1xuICAgIHJldHVybiBCcm93c2VyTmFtZS5JRTtcbiAgfSBlbHNlIGlmICh1YS5pbmNsdWRlcygnZWRnZS8nKSkge1xuICAgIHJldHVybiBCcm93c2VyTmFtZS5FREdFO1xuICB9IGVsc2UgaWYgKF9pc0ZpcmVmb3godWEpKSB7XG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLkZJUkVGT1g7XG4gIH0gZWxzZSBpZiAodWEuaW5jbHVkZXMoJ3NpbGsvJykpIHtcbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuU0lMSztcbiAgfSBlbHNlIGlmIChfaXNCbGFja0JlcnJ5KHVhKSkge1xuICAgIC8vIEJsYWNrYmVycnkgYnJvd3Nlci5cbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuQkxBQ0tCRVJSWTtcbiAgfSBlbHNlIGlmIChfaXNXZWJPUyh1YSkpIHtcbiAgICAvLyBXZWJPUyBkZWZhdWx0IGJyb3dzZXIuXG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLldFQk9TO1xuICB9IGVsc2UgaWYgKF9pc1NhZmFyaSh1YSkpIHtcbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuU0FGQVJJO1xuICB9IGVsc2UgaWYgKFxuICAgICh1YS5pbmNsdWRlcygnY2hyb21lLycpIHx8IF9pc0Nocm9tZUlPUyh1YSkpICYmXG4gICAgIXVhLmluY2x1ZGVzKCdlZGdlLycpXG4gICkge1xuICAgIHJldHVybiBCcm93c2VyTmFtZS5DSFJPTUU7XG4gIH0gZWxzZSBpZiAoX2lzQW5kcm9pZCh1YSkpIHtcbiAgICAvLyBBbmRyb2lkIHN0b2NrIGJyb3dzZXIuXG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLkFORFJPSUQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gTW9zdCBtb2Rlcm4gYnJvd3NlcnMgaGF2ZSBuYW1lL3ZlcnNpb24gYXQgZW5kIG9mIHVzZXIgYWdlbnQgc3RyaW5nLlxuICAgIGNvbnN0IHJlID0gLyhbYS16QS1aXFxkXFwuXSspXFwvW2EtekEtWlxcZFxcLl0qJC87XG4gICAgY29uc3QgbWF0Y2hlcyA9IHVzZXJBZ2VudC5tYXRjaChyZSk7XG4gICAgaWYgKG1hdGNoZXM/Lmxlbmd0aCA9PT0gMikge1xuICAgICAgcmV0dXJuIG1hdGNoZXNbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBCcm93c2VyTmFtZS5PVEhFUjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0ZpcmVmb3godWEgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIHJldHVybiAvZmlyZWZveFxcLy9pLnRlc3QodWEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzU2FmYXJpKHVzZXJBZ2VudCA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgY29uc3QgdWEgPSB1c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIChcbiAgICB1YS5pbmNsdWRlcygnc2FmYXJpLycpICYmXG4gICAgIXVhLmluY2x1ZGVzKCdjaHJvbWUvJykgJiZcbiAgICAhdWEuaW5jbHVkZXMoJ2NyaW9zLycpICYmXG4gICAgIXVhLmluY2x1ZGVzKCdhbmRyb2lkJylcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0Nocm9tZUlPUyh1YSA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIC9jcmlvc1xcLy9pLnRlc3QodWEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzSUVNb2JpbGUodWEgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIHJldHVybiAvaWVtb2JpbGUvaS50ZXN0KHVhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0FuZHJvaWQodWEgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIHJldHVybiAvYW5kcm9pZC9pLnRlc3QodWEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzQmxhY2tCZXJyeSh1YSA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIC9ibGFja2JlcnJ5L2kudGVzdCh1YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNXZWJPUyh1YSA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIC93ZWJvcy9pLnRlc3QodWEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzSU9TKHVhID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIC9pcGhvbmV8aXBhZHxpcG9kL2kudGVzdCh1YSkgfHxcbiAgICAoL21hY2ludG9zaC9pLnRlc3QodWEpICYmIC9tb2JpbGUvaS50ZXN0KHVhKSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0lPUzdPcjgodWEgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgLyhpUGFkfGlQaG9uZXxpUG9kKS4qT1MgN19cXGQvaS50ZXN0KHVhKSB8fFxuICAgIC8oaVBhZHxpUGhvbmV8aVBvZCkuKk9TIDhfXFxkL2kudGVzdCh1YSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0lPU1N0YW5kYWxvbmUodWEgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIHJldHVybiBfaXNJT1ModWEpICYmICEhKHdpbmRvdy5uYXZpZ2F0b3IgYXMgTmF2aWdhdG9yU3RhbmRhbG9uZSk/LnN0YW5kYWxvbmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNJRTEwKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNJRSgpICYmIChkb2N1bWVudCBhcyBEb2N1bWVudCkuZG9jdW1lbnRNb2RlID09PSAxMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc01vYmlsZUJyb3dzZXIodWE6IHN0cmluZyA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgLy8gVE9ETzogaW1wbGVtZW50IGdldEJyb3dzZXJOYW1lIGVxdWl2YWxlbnQgZm9yIE9TLlxuICByZXR1cm4gKFxuICAgIF9pc0lPUyh1YSkgfHxcbiAgICBfaXNBbmRyb2lkKHVhKSB8fFxuICAgIF9pc1dlYk9TKHVhKSB8fFxuICAgIF9pc0JsYWNrQmVycnkodWEpIHx8XG4gICAgL3dpbmRvd3MgcGhvbmUvaS50ZXN0KHVhKSB8fFxuICAgIF9pc0lFTW9iaWxlKHVhKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzSWZyYW1lKCk6IGJvb2xlYW4ge1xuICB0cnkge1xuICAgIC8vIENoZWNrIHRoYXQgdGhlIGN1cnJlbnQgd2luZG93IGlzIG5vdCB0aGUgdG9wIHdpbmRvdy5cbiAgICAvLyBJZiBzbywgcmV0dXJuIHRydWUuXG4gICAgcmV0dXJuICEhKHdpbmRvdyAmJiB3aW5kb3cgIT09IHdpbmRvdy50b3ApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgU0RLX1ZFUlNJT04gfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IF9nZXRCcm93c2VyTmFtZSB9IGZyb20gJy4vYnJvd3Nlcic7XG5pbXBvcnQgeyBnZXRVQSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuZXhwb3J0IGNvbnN0IGVudW0gQ2xpZW50SW1wbGVtZW50YXRpb24ge1xuICBDT1JFID0gJ0pzQ29yZSdcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IGVudW0gQ2xpZW50UGxhdGZvcm0ge1xuICBCUk9XU0VSID0gJ0Jyb3dzZXInLFxuICBOT0RFID0gJ05vZGUnLFxuICBSRUFDVF9OQVRJVkUgPSAnUmVhY3ROYXRpdmUnLFxuICBDT1JET1ZBID0gJ0NvcmRvdmEnLFxuICBXT1JLRVIgPSAnV29ya2VyJyxcbiAgV0VCX0VYVEVOU0lPTiA9ICdXZWJFeHRlbnNpb24nXG59XG5cbi8qXG4gKiBEZXRlcm1pbmUgdGhlIFNESyB2ZXJzaW9uIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gX2dldENsaWVudFZlcnNpb24oXG4gIGNsaWVudFBsYXRmb3JtOiBDbGllbnRQbGF0Zm9ybSxcbiAgZnJhbWV3b3JrczogcmVhZG9ubHkgc3RyaW5nW10gPSBbXVxuKTogc3RyaW5nIHtcbiAgbGV0IHJlcG9ydGVkUGxhdGZvcm06IHN0cmluZztcbiAgc3dpdGNoIChjbGllbnRQbGF0Zm9ybSkge1xuICAgIGNhc2UgQ2xpZW50UGxhdGZvcm0uQlJPV1NFUjpcbiAgICAgIC8vIEluIGEgYnJvd3NlciBlbnZpcm9ubWVudCwgcmVwb3J0IHRoZSBicm93c2VyIG5hbWUuXG4gICAgICByZXBvcnRlZFBsYXRmb3JtID0gX2dldEJyb3dzZXJOYW1lKGdldFVBKCkpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDbGllbnRQbGF0Zm9ybS5XT1JLRVI6XG4gICAgICAvLyBUZWNobmljYWxseSBhIHdvcmtlciBydW5zIGZyb20gYSBicm93c2VyIGJ1dCB3ZSBuZWVkIHRvIGRpZmZlcmVudGlhdGUgYVxuICAgICAgLy8gd29ya2VyIGZyb20gYSBicm93c2VyLlxuICAgICAgLy8gRm9yIGV4YW1wbGU6IENocm9tZS1Xb3JrZXIvSnNDb3JlLzQuOS4xL0ZpcmViYXNlQ29yZS13ZWIuXG4gICAgICByZXBvcnRlZFBsYXRmb3JtID0gYCR7X2dldEJyb3dzZXJOYW1lKGdldFVBKCkpfS0ke2NsaWVudFBsYXRmb3JtfWA7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgcmVwb3J0ZWRQbGF0Zm9ybSA9IGNsaWVudFBsYXRmb3JtO1xuICB9XG4gIGNvbnN0IHJlcG9ydGVkRnJhbWV3b3JrcyA9IGZyYW1ld29ya3MubGVuZ3RoXG4gICAgPyBmcmFtZXdvcmtzLmpvaW4oJywnKVxuICAgIDogJ0ZpcmViYXNlQ29yZS13ZWInOyAvKiBkZWZhdWx0IHZhbHVlIGlmIG5vIG90aGVyIGZyYW1ld29yayBpcyB1c2VkICovXG4gIHJldHVybiBgJHtyZXBvcnRlZFBsYXRmb3JtfS8ke0NsaWVudEltcGxlbWVudGF0aW9uLkNPUkV9LyR7U0RLX1ZFUlNJT059LyR7cmVwb3J0ZWRGcmFtZXdvcmtzfWA7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBVbnN1YnNjcmliZSwgVXNlciB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcblxuaW50ZXJmYWNlIE1pZGRsZXdhcmVFbnRyeSB7XG4gICh1c2VyOiBVc2VyIHwgbnVsbCk6IFByb21pc2U8dm9pZD47XG4gIG9uQWJvcnQ/OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgQXV0aE1pZGRsZXdhcmVRdWV1ZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcXVldWU6IE1pZGRsZXdhcmVFbnRyeVtdID0gW107XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWwpIHt9XG5cbiAgcHVzaENhbGxiYWNrKFxuICAgIGNhbGxiYWNrOiAodXNlcjogVXNlciB8IG51bGwpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuICAgIG9uQWJvcnQ/OiAoKSA9PiB2b2lkXG4gICk6IFVuc3Vic2NyaWJlIHtcbiAgICAvLyBUaGUgY2FsbGJhY2sgY291bGQgYmUgc3luYyBvciBhc3luYy4gV3JhcCBpdCBpbnRvIGFcbiAgICAvLyBmdW5jdGlvbiB0aGF0IGlzIGFsd2F5cyBhc3luYy5cbiAgICBjb25zdCB3cmFwcGVkQ2FsbGJhY2s6IE1pZGRsZXdhcmVFbnRyeSA9IChcbiAgICAgIHVzZXI6IFVzZXIgfCBudWxsXG4gICAgKTogUHJvbWlzZTx2b2lkPiA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGxiYWNrKHVzZXIpO1xuICAgICAgICAgIC8vIEVpdGhlciByZXNvbHZlIHdpdGggZXhpc3RpbmcgcHJvbWlzZSBvciB3cmFwIGEgbm9uLXByb21pc2VcbiAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgaW50byBhIHByb21pc2UuXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gU3luYyBjYWxsYmFjayB0aHJvd3MuXG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAvLyBBdHRhY2ggdGhlIG9uQWJvcnQgaWYgcHJlc2VudFxuICAgIHdyYXBwZWRDYWxsYmFjay5vbkFib3J0ID0gb25BYm9ydDtcbiAgICB0aGlzLnF1ZXVlLnB1c2god3JhcHBlZENhbGxiYWNrKTtcblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5xdWV1ZS5sZW5ndGggLSAxO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAvLyBVbnN1YnNjcmliZS4gUmVwbGFjZSB3aXRoIG5vLW9wLiBEbyBub3QgcmVtb3ZlIGZyb20gYXJyYXksIG9yIGl0IHdpbGwgZGlzdHVyYlxuICAgICAgLy8gaW5kZXhpbmcgb2Ygb3RoZXIgZWxlbWVudHMuXG4gICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH07XG4gIH1cblxuICBhc3luYyBydW5NaWRkbGV3YXJlKG5leHRVc2VyOiBVc2VyIHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmF1dGguY3VycmVudFVzZXIgPT09IG5leHRVc2VyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gV2hpbGUgcnVubmluZyB0aGUgbWlkZGxld2FyZSwgYnVpbGQgYSB0ZW1wb3Jhcnkgc3RhY2sgb2Ygb25BYm9ydFxuICAgIC8vIGNhbGxiYWNrcyB0byBjYWxsIGlmIG9uZSBtaWRkbGV3YXJlIGNhbGxiYWNrIHJlamVjdHMuXG5cbiAgICBjb25zdCBvbkFib3J0U3RhY2s6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG4gICAgdHJ5IHtcbiAgICAgIGZvciAoY29uc3QgYmVmb3JlU3RhdGVDYWxsYmFjayBvZiB0aGlzLnF1ZXVlKSB7XG4gICAgICAgIGF3YWl0IGJlZm9yZVN0YXRlQ2FsbGJhY2sobmV4dFVzZXIpO1xuXG4gICAgICAgIC8vIE9ubHkgcHVzaCB0aGUgb25BYm9ydCBpZiB0aGUgY2FsbGJhY2sgc3VjY2VlZHNcbiAgICAgICAgaWYgKGJlZm9yZVN0YXRlQ2FsbGJhY2sub25BYm9ydCkge1xuICAgICAgICAgIG9uQWJvcnRTdGFjay5wdXNoKGJlZm9yZVN0YXRlQ2FsbGJhY2sub25BYm9ydCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBSdW4gYWxsIG9uQWJvcnQsIHdpdGggc2VwYXJhdGUgdHJ5L2NhdGNoIHRvIGlnbm9yZSBhbnkgZXJyb3JzIGFuZFxuICAgICAgLy8gY29udGludWVcbiAgICAgIG9uQWJvcnRTdGFjay5yZXZlcnNlKCk7XG4gICAgICBmb3IgKGNvbnN0IG9uQWJvcnQgb2Ygb25BYm9ydFN0YWNrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgb25BYm9ydCgpO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgLyogc3dhbGxvdyBlcnJvciAqL1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IHRoaXMuYXV0aC5fZXJyb3JGYWN0b3J5LmNyZWF0ZShBdXRoRXJyb3JDb2RlLkxPR0lOX0JMT0NLRUQsIHtcbiAgICAgICAgb3JpZ2luYWxNZXNzYWdlOiAoZSBhcyBFcnJvcik/Lm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIF9wZXJmb3JtQXBpUmVxdWVzdCxcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeVxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuLyoqXG4gKiBSZXF1ZXN0IG9iamVjdCBmb3IgZmV0Y2hpbmcgdGhlIHBhc3N3b3JkIHBvbGljeS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRQYXNzd29yZFBvbGljeVJlcXVlc3Qge1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXNwb25zZSBvYmplY3QgZm9yIGZldGNoaW5nIHRoZSBwYXNzd29yZCBwb2xpY3kuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0UGFzc3dvcmRQb2xpY3lSZXNwb25zZSB7XG4gIGN1c3RvbVN0cmVuZ3RoT3B0aW9uczoge1xuICAgIG1pblBhc3N3b3JkTGVuZ3RoPzogbnVtYmVyO1xuICAgIG1heFBhc3N3b3JkTGVuZ3RoPzogbnVtYmVyO1xuICAgIGNvbnRhaW5zTG93ZXJjYXNlQ2hhcmFjdGVyPzogYm9vbGVhbjtcbiAgICBjb250YWluc1VwcGVyY2FzZUNoYXJhY3Rlcj86IGJvb2xlYW47XG4gICAgY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyPzogYm9vbGVhbjtcbiAgICBjb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3Rlcj86IGJvb2xlYW47XG4gIH07XG4gIGFsbG93ZWROb25BbHBoYW51bWVyaWNDaGFyYWN0ZXJzPzogc3RyaW5nW107XG4gIGVuZm9yY2VtZW50U3RhdGU6IHN0cmluZztcbiAgZm9yY2VVcGdyYWRlT25TaWduaW4/OiBib29sZWFuO1xuICBzY2hlbWFWZXJzaW9uOiBudW1iZXI7XG59XG5cbi8qKlxuICogRmV0Y2hlcyB0aGUgcGFzc3dvcmQgcG9saWN5IGZvciB0aGUgY3VycmVudGx5IHNldCB0ZW5hbnQgb3IgdGhlIHByb2plY3QgaWYgbm8gdGVuYW50IGlzIHNldC5cbiAqXG4gKiBAcGFyYW0gYXV0aCBBdXRoIG9iamVjdC5cbiAqIEBwYXJhbSByZXF1ZXN0IFBhc3N3b3JkIHBvbGljeSByZXF1ZXN0LlxuICogQHJldHVybnMgUGFzc3dvcmQgcG9saWN5IHJlc3BvbnNlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2dldFBhc3N3b3JkUG9saWN5KFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBHZXRQYXNzd29yZFBvbGljeVJlcXVlc3QgPSB7fVxuKTogUHJvbWlzZTxHZXRQYXNzd29yZFBvbGljeVJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgR2V0UGFzc3dvcmRQb2xpY3lSZXF1ZXN0LFxuICAgIEdldFBhc3N3b3JkUG9saWN5UmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuR0VULFxuICAgIEVuZHBvaW50LkdFVF9QQVNTV09SRF9QT0xJQ1ksXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgR2V0UGFzc3dvcmRQb2xpY3lSZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9wYXNzd29yZF9wb2xpY3kvZ2V0X3Bhc3N3b3JkX3BvbGljeSc7XG5pbXBvcnQge1xuICBQYXNzd29yZFBvbGljeUN1c3RvbVN0cmVuZ3RoT3B0aW9ucyxcbiAgUGFzc3dvcmRQb2xpY3lJbnRlcm5hbCxcbiAgUGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzSW50ZXJuYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcGFzc3dvcmRfcG9saWN5JztcbmltcG9ydCB7IFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1cyB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbi8vIE1pbmltdW0gbWluIHBhc3N3b3JkIGxlbmd0aCBlbmZvcmNlZCBieSB0aGUgYmFja2VuZCwgZXZlbiBpZiBubyBtaW5pbXVtIGxlbmd0aCBpcyBzZXQuXG5jb25zdCBNSU5JTVVNX01JTl9QQVNTV09SRF9MRU5HVEggPSA2O1xuXG4vKipcbiAqIFN0b3JlcyBwYXNzd29yZCBwb2xpY3kgcmVxdWlyZW1lbnRzIGFuZCBwcm92aWRlcyBwYXNzd29yZCB2YWxpZGF0aW9uIGFnYWluc3QgdGhlIHBvbGljeS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFBhc3N3b3JkUG9saWN5SW1wbCBpbXBsZW1lbnRzIFBhc3N3b3JkUG9saWN5SW50ZXJuYWwge1xuICByZWFkb25seSBjdXN0b21TdHJlbmd0aE9wdGlvbnM6IFBhc3N3b3JkUG9saWN5Q3VzdG9tU3RyZW5ndGhPcHRpb25zO1xuICByZWFkb25seSBhbGxvd2VkTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyczogc3RyaW5nO1xuICByZWFkb25seSBlbmZvcmNlbWVudFN0YXRlOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGZvcmNlVXBncmFkZU9uU2lnbmluOiBib29sZWFuO1xuICByZWFkb25seSBzY2hlbWFWZXJzaW9uOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IocmVzcG9uc2U6IEdldFBhc3N3b3JkUG9saWN5UmVzcG9uc2UpIHtcbiAgICAvLyBPbmx5IGluY2x1ZGUgY3VzdG9tIHN0cmVuZ3RoIG9wdGlvbnMgZGVmaW5lZCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgY29uc3QgcmVzcG9uc2VPcHRpb25zID0gcmVzcG9uc2UuY3VzdG9tU3RyZW5ndGhPcHRpb25zO1xuICAgIHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zID0ge307XG4gICAgLy8gVE9ETzogUmVtb3ZlIG9uY2UgdGhlIGJhY2tlbmQgaXMgdXBkYXRlZCB0byBpbmNsdWRlIHRoZSBtaW5pbXVtIG1pbiBwYXNzd29yZCBsZW5ndGggaW5zdGVhZCBvZiB1bmRlZmluZWQgd2hlbiB0aGVyZSBpcyBubyBtaW5pbXVtIGxlbmd0aCBzZXQuXG4gICAgdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMubWluUGFzc3dvcmRMZW5ndGggPVxuICAgICAgcmVzcG9uc2VPcHRpb25zLm1pblBhc3N3b3JkTGVuZ3RoID8/IE1JTklNVU1fTUlOX1BBU1NXT1JEX0xFTkdUSDtcbiAgICBpZiAocmVzcG9uc2VPcHRpb25zLm1heFBhc3N3b3JkTGVuZ3RoKSB7XG4gICAgICB0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5tYXhQYXNzd29yZExlbmd0aCA9XG4gICAgICAgIHJlc3BvbnNlT3B0aW9ucy5tYXhQYXNzd29yZExlbmd0aDtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlT3B0aW9ucy5jb250YWluc0xvd2VyY2FzZUNoYXJhY3RlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc0xvd2VyY2FzZUxldHRlciA9XG4gICAgICAgIHJlc3BvbnNlT3B0aW9ucy5jb250YWluc0xvd2VyY2FzZUNoYXJhY3RlcjtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlT3B0aW9ucy5jb250YWluc1VwcGVyY2FzZUNoYXJhY3RlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc1VwcGVyY2FzZUxldHRlciA9XG4gICAgICAgIHJlc3BvbnNlT3B0aW9ucy5jb250YWluc1VwcGVyY2FzZUNoYXJhY3RlcjtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlT3B0aW9ucy5jb250YWluc051bWVyaWNDaGFyYWN0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyID1cbiAgICAgICAgcmVzcG9uc2VPcHRpb25zLmNvbnRhaW5zTnVtZXJpY0NoYXJhY3RlcjtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlT3B0aW9ucy5jb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3RlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3RlciA9XG4gICAgICAgIHJlc3BvbnNlT3B0aW9ucy5jb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3RlcjtcbiAgICB9XG5cbiAgICB0aGlzLmVuZm9yY2VtZW50U3RhdGUgPSByZXNwb25zZS5lbmZvcmNlbWVudFN0YXRlO1xuICAgIGlmICh0aGlzLmVuZm9yY2VtZW50U3RhdGUgPT09ICdFTkZPUkNFTUVOVF9TVEFURV9VTlNQRUNJRklFRCcpIHtcbiAgICAgIHRoaXMuZW5mb3JjZW1lbnRTdGF0ZSA9ICdPRkYnO1xuICAgIH1cblxuICAgIC8vIFVzZSBhbiBlbXB0eSBzdHJpbmcgaWYgbm8gbm9uLWFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIGFyZSBzcGVjaWZpZWQgaW4gdGhlIHJlc3BvbnNlLlxuICAgIHRoaXMuYWxsb3dlZE5vbkFscGhhbnVtZXJpY0NoYXJhY3RlcnMgPVxuICAgICAgcmVzcG9uc2UuYWxsb3dlZE5vbkFscGhhbnVtZXJpY0NoYXJhY3RlcnM/LmpvaW4oJycpID8/ICcnO1xuXG4gICAgdGhpcy5mb3JjZVVwZ3JhZGVPblNpZ25pbiA9IHJlc3BvbnNlLmZvcmNlVXBncmFkZU9uU2lnbmluID8/IGZhbHNlO1xuICAgIHRoaXMuc2NoZW1hVmVyc2lvbiA9IHJlc3BvbnNlLnNjaGVtYVZlcnNpb247XG4gIH1cblxuICB2YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpOiBQYXNzd29yZFZhbGlkYXRpb25TdGF0dXMge1xuICAgIGNvbnN0IHN0YXR1czogUGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzSW50ZXJuYWwgPSB7XG4gICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgcGFzc3dvcmRQb2xpY3k6IHRoaXNcbiAgICB9O1xuXG4gICAgLy8gQ2hlY2sgdGhlIHBhc3N3b3JkIGxlbmd0aCBhbmQgY2hhcmFjdGVyIG9wdGlvbnMuXG4gICAgdGhpcy52YWxpZGF0ZVBhc3N3b3JkTGVuZ3RoT3B0aW9ucyhwYXNzd29yZCwgc3RhdHVzKTtcbiAgICB0aGlzLnZhbGlkYXRlUGFzc3dvcmRDaGFyYWN0ZXJPcHRpb25zKHBhc3N3b3JkLCBzdGF0dXMpO1xuXG4gICAgLy8gQ29tYmluZSB0aGUgc3RhdHVzIGludG8gc2luZ2xlIGlzVmFsaWQgcHJvcGVydHkuXG4gICAgc3RhdHVzLmlzVmFsaWQgJiY9IHN0YXR1cy5tZWV0c01pblBhc3N3b3JkTGVuZ3RoID8/IHRydWU7XG4gICAgc3RhdHVzLmlzVmFsaWQgJiY9IHN0YXR1cy5tZWV0c01heFBhc3N3b3JkTGVuZ3RoID8/IHRydWU7XG4gICAgc3RhdHVzLmlzVmFsaWQgJiY9IHN0YXR1cy5jb250YWluc0xvd2VyY2FzZUxldHRlciA/PyB0cnVlO1xuICAgIHN0YXR1cy5pc1ZhbGlkICYmPSBzdGF0dXMuY29udGFpbnNVcHBlcmNhc2VMZXR0ZXIgPz8gdHJ1ZTtcbiAgICBzdGF0dXMuaXNWYWxpZCAmJj0gc3RhdHVzLmNvbnRhaW5zTnVtZXJpY0NoYXJhY3RlciA/PyB0cnVlO1xuICAgIHN0YXR1cy5pc1ZhbGlkICYmPSBzdGF0dXMuY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXIgPz8gdHJ1ZTtcblxuICAgIHJldHVybiBzdGF0dXM7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHBhc3N3b3JkIG1lZXRzIHRoZSBsZW5ndGggb3B0aW9ucyBmb3IgdGhlIHBvbGljeS5cbiAgICpcbiAgICogQHBhcmFtIHBhc3N3b3JkIFBhc3N3b3JkIHRvIHZhbGlkYXRlLlxuICAgKiBAcGFyYW0gc3RhdHVzIFZhbGlkYXRpb24gc3RhdHVzLlxuICAgKi9cbiAgcHJpdmF0ZSB2YWxpZGF0ZVBhc3N3b3JkTGVuZ3RoT3B0aW9ucyhcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIHN0YXR1czogUGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzSW50ZXJuYWxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgbWluUGFzc3dvcmRMZW5ndGggPSB0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5taW5QYXNzd29yZExlbmd0aDtcbiAgICBjb25zdCBtYXhQYXNzd29yZExlbmd0aCA9IHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLm1heFBhc3N3b3JkTGVuZ3RoO1xuICAgIGlmIChtaW5QYXNzd29yZExlbmd0aCkge1xuICAgICAgc3RhdHVzLm1lZXRzTWluUGFzc3dvcmRMZW5ndGggPSBwYXNzd29yZC5sZW5ndGggPj0gbWluUGFzc3dvcmRMZW5ndGg7XG4gICAgfVxuICAgIGlmIChtYXhQYXNzd29yZExlbmd0aCkge1xuICAgICAgc3RhdHVzLm1lZXRzTWF4UGFzc3dvcmRMZW5ndGggPSBwYXNzd29yZC5sZW5ndGggPD0gbWF4UGFzc3dvcmRMZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSBwYXNzd29yZCBtZWV0cyB0aGUgY2hhcmFjdGVyIG9wdGlvbnMgZm9yIHRoZSBwb2xpY3kuXG4gICAqXG4gICAqIEBwYXJhbSBwYXNzd29yZCBQYXNzd29yZCB0byB2YWxpZGF0ZS5cbiAgICogQHBhcmFtIHN0YXR1cyBWYWxpZGF0aW9uIHN0YXR1cy5cbiAgICovXG4gIHByaXZhdGUgdmFsaWRhdGVQYXNzd29yZENoYXJhY3Rlck9wdGlvbnMoXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICBzdGF0dXM6IFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1c0ludGVybmFsXG4gICk6IHZvaWQge1xuICAgIC8vIEFzc2lnbiBzdGF0dXNlcyBmb3IgcmVxdWlyZW1lbnRzIGV2ZW4gaWYgdGhlIHBhc3N3b3JkIGlzIGFuIGVtcHR5IHN0cmluZy5cbiAgICB0aGlzLnVwZGF0ZVBhc3N3b3JkQ2hhcmFjdGVyT3B0aW9uc1N0YXR1c2VzKFxuICAgICAgc3RhdHVzLFxuICAgICAgLyogY29udGFpbnNMb3dlcmNhc2VDaGFyYWN0ZXI9ICovIGZhbHNlLFxuICAgICAgLyogY29udGFpbnNVcHBlcmNhc2VDaGFyYWN0ZXI9ICovIGZhbHNlLFxuICAgICAgLyogY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyPSAqLyBmYWxzZSxcbiAgICAgIC8qIGNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyPSAqLyBmYWxzZVxuICAgICk7XG5cbiAgICBsZXQgcGFzc3dvcmRDaGFyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc3dvcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhc3N3b3JkQ2hhciA9IHBhc3N3b3JkLmNoYXJBdChpKTtcbiAgICAgIHRoaXMudXBkYXRlUGFzc3dvcmRDaGFyYWN0ZXJPcHRpb25zU3RhdHVzZXMoXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgLyogY29udGFpbnNMb3dlcmNhc2VDaGFyYWN0ZXI9ICovIHBhc3N3b3JkQ2hhciA+PSAnYScgJiZcbiAgICAgICAgICBwYXNzd29yZENoYXIgPD0gJ3onLFxuICAgICAgICAvKiBjb250YWluc1VwcGVyY2FzZUNoYXJhY3Rlcj0gKi8gcGFzc3dvcmRDaGFyID49ICdBJyAmJlxuICAgICAgICAgIHBhc3N3b3JkQ2hhciA8PSAnWicsXG4gICAgICAgIC8qIGNvbnRhaW5zTnVtZXJpY0NoYXJhY3Rlcj0gKi8gcGFzc3dvcmRDaGFyID49ICcwJyAmJlxuICAgICAgICAgIHBhc3N3b3JkQ2hhciA8PSAnOScsXG4gICAgICAgIC8qIGNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyPSAqLyB0aGlzLmFsbG93ZWROb25BbHBoYW51bWVyaWNDaGFyYWN0ZXJzLmluY2x1ZGVzKFxuICAgICAgICAgIHBhc3N3b3JkQ2hhclxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBydW5uaW5nIHZhbGlkYXRpb24gc3RhdHVzIHdpdGggdGhlIHN0YXR1c2VzIGZvciB0aGUgY2hhcmFjdGVyIG9wdGlvbnMuXG4gICAqIEV4cGVjdGVkIHRvIGJlIGNhbGxlZCBlYWNoIHRpbWUgYSBjaGFyYWN0ZXIgaXMgcHJvY2Vzc2VkIHRvIHVwZGF0ZSBlYWNoIG9wdGlvbiBzdGF0dXNcbiAgICogYmFzZWQgb24gdGhlIGN1cnJlbnQgY2hhcmFjdGVyLlxuICAgKlxuICAgKiBAcGFyYW0gc3RhdHVzIFZhbGlkYXRpb24gc3RhdHVzLlxuICAgKiBAcGFyYW0gY29udGFpbnNMb3dlcmNhc2VDaGFyYWN0ZXIgV2hldGhlciB0aGUgY2hhcmFjdGVyIGlzIGEgbG93ZXJjYXNlIGxldHRlci5cbiAgICogQHBhcmFtIGNvbnRhaW5zVXBwZXJjYXNlQ2hhcmFjdGVyIFdoZXRoZXIgdGhlIGNoYXJhY3RlciBpcyBhbiB1cHBlcmNhc2UgbGV0dGVyLlxuICAgKiBAcGFyYW0gY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyIFdoZXRoZXIgdGhlIGNoYXJhY3RlciBpcyBhIG51bWVyaWMgY2hhcmFjdGVyLlxuICAgKiBAcGFyYW0gY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXIgV2hldGhlciB0aGUgY2hhcmFjdGVyIGlzIGEgbm9uLWFscGhhbnVtZXJpYyBjaGFyYWN0ZXIuXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVBhc3N3b3JkQ2hhcmFjdGVyT3B0aW9uc1N0YXR1c2VzKFxuICAgIHN0YXR1czogUGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzSW50ZXJuYWwsXG4gICAgY29udGFpbnNMb3dlcmNhc2VDaGFyYWN0ZXI6IGJvb2xlYW4sXG4gICAgY29udGFpbnNVcHBlcmNhc2VDaGFyYWN0ZXI6IGJvb2xlYW4sXG4gICAgY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyOiBib29sZWFuLFxuICAgIGNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyOiBib29sZWFuXG4gICk6IHZvaWQge1xuICAgIGlmICh0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc0xvd2VyY2FzZUxldHRlcikge1xuICAgICAgc3RhdHVzLmNvbnRhaW5zTG93ZXJjYXNlTGV0dGVyIHx8PSBjb250YWluc0xvd2VyY2FzZUNoYXJhY3RlcjtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLmNvbnRhaW5zVXBwZXJjYXNlTGV0dGVyKSB7XG4gICAgICBzdGF0dXMuY29udGFpbnNVcHBlcmNhc2VMZXR0ZXIgfHw9IGNvbnRhaW5zVXBwZXJjYXNlQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyKSB7XG4gICAgICBzdGF0dXMuY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyIHx8PSBjb250YWluc051bWVyaWNDaGFyYWN0ZXI7XG4gICAgfVxuICAgIGlmICh0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3Rlcikge1xuICAgICAgc3RhdHVzLmNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyIHx8PVxuICAgICAgICBjb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3RlcjtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBfaXNGaXJlYmFzZVNlcnZlckFwcCxcbiAgX0ZpcmViYXNlU2VydmljZSxcbiAgRmlyZWJhc2VBcHBcbn0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgQXBwQ2hlY2tJbnRlcm5hbENvbXBvbmVudE5hbWUgfSBmcm9tICdAZmlyZWJhc2UvYXBwLWNoZWNrLWludGVyb3AtdHlwZXMnO1xuaW1wb3J0IHtcbiAgQXV0aCxcbiAgQXV0aEVycm9yTWFwLFxuICBBdXRoU2V0dGluZ3MsXG4gIEVtdWxhdG9yQ29uZmlnLFxuICBOZXh0T3JPYnNlcnZlcixcbiAgUGVyc2lzdGVuY2UsXG4gIFBvcHVwUmVkaXJlY3RSZXNvbHZlcixcbiAgVXNlcixcbiAgVXNlckNyZWRlbnRpYWwsXG4gIENvbXBsZXRlRm4sXG4gIEVycm9yRm4sXG4gIE5leHRGbixcbiAgVW5zdWJzY3JpYmUsXG4gIFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1c1xufSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU3Vic2NyaWJlLFxuICBFcnJvckZhY3RvcnksXG4gIEZpcmViYXNlRXJyb3IsXG4gIGdldE1vZHVsYXJJbnN0YW5jZSxcbiAgT2JzZXJ2ZXIsXG4gIFN1YnNjcmliZVxufSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IEF1dGhJbnRlcm5hbCwgQ29uZmlnSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQge1xuICBBdXRoRXJyb3JDb2RlLFxuICBBdXRoRXJyb3JQYXJhbXMsXG4gIEVycm9yTWFwUmV0cmlldmVyLFxuICBfREVGQVVMVF9BVVRIX0VSUk9SX0ZBQ1RPUllcbn0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFBlcnNpc3RlbmNlSW50ZXJuYWwgfSBmcm9tICcuLi9wZXJzaXN0ZW5jZSc7XG5pbXBvcnQge1xuICBLZXlOYW1lLFxuICBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyXG59IGZyb20gJy4uL3BlcnNpc3RlbmNlL3BlcnNpc3RlbmNlX3VzZXJfbWFuYWdlcic7XG5pbXBvcnQgeyBfcmVsb2FkV2l0aG91dFNhdmluZyB9IGZyb20gJy4uL3VzZXIvcmVsb2FkJztcbmltcG9ydCB7XG4gIF9hc3NlcnQsXG4gIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yXG59IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9nZXRJbnN0YW5jZSB9IGZyb20gJy4uL3V0aWwvaW5zdGFudGlhdG9yJztcbmltcG9ydCB7IF9nZXRVc2VyTGFuZ3VhZ2UgfSBmcm9tICcuLi91dGlsL25hdmlnYXRvcic7XG5pbXBvcnQgeyBfZ2V0Q2xpZW50VmVyc2lvbiB9IGZyb20gJy4uL3V0aWwvdmVyc2lvbic7XG5pbXBvcnQgeyBIdHRwSGVhZGVyIH0gZnJvbSAnLi4vLi4vYXBpJztcbmltcG9ydCB7XG4gIFJldm9rZVRva2VuUmVxdWVzdCxcbiAgVG9rZW5UeXBlLFxuICByZXZva2VUb2tlblxufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vdG9rZW4nO1xuaW1wb3J0IHsgQXV0aE1pZGRsZXdhcmVRdWV1ZSB9IGZyb20gJy4vbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBSZWNhcHRjaGFDb25maWcgfSBmcm9tICcuLi8uLi9wbGF0Zm9ybV9icm93c2VyL3JlY2FwdGNoYS9yZWNhcHRjaGEnO1xuaW1wb3J0IHsgX2xvZ1dhcm4gfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBfZ2V0UGFzc3dvcmRQb2xpY3kgfSBmcm9tICcuLi8uLi9hcGkvcGFzc3dvcmRfcG9saWN5L2dldF9wYXNzd29yZF9wb2xpY3knO1xuaW1wb3J0IHsgUGFzc3dvcmRQb2xpY3lJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3Bhc3N3b3JkX3BvbGljeSc7XG5pbXBvcnQgeyBQYXNzd29yZFBvbGljeUltcGwgfSBmcm9tICcuL3Bhc3N3b3JkX3BvbGljeV9pbXBsJztcbmltcG9ydCB7IGdldEFjY291bnRJbmZvIH0gZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9hY2NvdW50JztcbmltcG9ydCB7IFVzZXJJbXBsIH0gZnJvbSAnLi4vdXNlci91c2VyX2ltcGwnO1xuXG5pbnRlcmZhY2UgQXN5bmNBY3Rpb24ge1xuICAoKTogUHJvbWlzZTx2b2lkPjtcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gRGVmYXVsdENvbmZpZyB7XG4gIFRPS0VOX0FQSV9IT1NUID0gJ3NlY3VyZXRva2VuLmdvb2dsZWFwaXMuY29tJyxcbiAgQVBJX0hPU1QgPSAnaWRlbnRpdHl0b29sa2l0Lmdvb2dsZWFwaXMuY29tJyxcbiAgQVBJX1NDSEVNRSA9ICdodHRwcydcbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhJbXBsIGltcGxlbWVudHMgQXV0aEludGVybmFsLCBfRmlyZWJhc2VTZXJ2aWNlIHtcbiAgY3VycmVudFVzZXI6IFVzZXIgfCBudWxsID0gbnVsbDtcbiAgZW11bGF0b3JDb25maWc6IEVtdWxhdG9yQ29uZmlnIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgb3BlcmF0aW9ucyA9IFByb21pc2UucmVzb2x2ZSgpO1xuICBwcml2YXRlIHBlcnNpc3RlbmNlTWFuYWdlcj86IFBlcnNpc3RlbmNlVXNlck1hbmFnZXI7XG4gIHByaXZhdGUgcmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXI/OiBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyO1xuICBwcml2YXRlIGF1dGhTdGF0ZVN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb248VXNlcj4odGhpcyk7XG4gIHByaXZhdGUgaWRUb2tlblN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb248VXNlcj4odGhpcyk7XG4gIHByaXZhdGUgcmVhZG9ubHkgYmVmb3JlU3RhdGVRdWV1ZSA9IG5ldyBBdXRoTWlkZGxld2FyZVF1ZXVlKHRoaXMpO1xuICBwcml2YXRlIHJlZGlyZWN0VXNlcjogVXNlckludGVybmFsIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaXNQcm9hY3RpdmVSZWZyZXNoRW5hYmxlZCA9IGZhbHNlO1xuICBwcml2YXRlIHJlYWRvbmx5IEVYUEVDVEVEX1BBU1NXT1JEX1BPTElDWV9TQ0hFTUFfVkVSU0lPTjogbnVtYmVyID0gMTtcblxuICAvLyBBbnkgbmV0d29yayBjYWxscyB3aWxsIHNldCB0aGlzIHRvIHRydWUgYW5kIHByZXZlbnQgc3Vic2VxdWVudCBlbXVsYXRvclxuICAvLyBpbml0aWFsaXphdGlvblxuICBfY2FuSW5pdEVtdWxhdG9yID0gdHJ1ZTtcbiAgX2lzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgX2RlbGV0ZWQgPSBmYWxzZTtcbiAgX2luaXRpYWxpemF0aW9uUHJvbWlzZTogUHJvbWlzZTx2b2lkPiB8IG51bGwgPSBudWxsO1xuICBfcG9wdXBSZWRpcmVjdFJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCB8IG51bGwgPSBudWxsO1xuICBfZXJyb3JGYWN0b3J5OiBFcnJvckZhY3Rvcnk8QXV0aEVycm9yQ29kZSwgQXV0aEVycm9yUGFyYW1zPiA9XG4gICAgX0RFRkFVTFRfQVVUSF9FUlJPUl9GQUNUT1JZO1xuICBfYWdlbnRSZWNhcHRjaGFDb25maWc6IFJlY2FwdGNoYUNvbmZpZyB8IG51bGwgPSBudWxsO1xuICBfdGVuYW50UmVjYXB0Y2hhQ29uZmlnczogUmVjb3JkPHN0cmluZywgUmVjYXB0Y2hhQ29uZmlnPiA9IHt9O1xuICBfcHJvamVjdFBhc3N3b3JkUG9saWN5OiBQYXNzd29yZFBvbGljeUludGVybmFsIHwgbnVsbCA9IG51bGw7XG4gIF90ZW5hbnRQYXNzd29yZFBvbGljaWVzOiBSZWNvcmQ8c3RyaW5nLCBQYXNzd29yZFBvbGljeUludGVybmFsPiA9IHt9O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG5cbiAgLy8gVHJhY2tzIHRoZSBsYXN0IG5vdGlmaWVkIFVJRCBmb3Igc3RhdGUgY2hhbmdlIGxpc3RlbmVycyB0byBwcmV2ZW50XG4gIC8vIHJlcGVhdGVkIGNhbGxzIHRvIHRoZSBjYWxsYmFja3MuIFVuZGVmaW5lZCBtZWFucyBpdCdzIG5ldmVyIGJlZW5cbiAgLy8gY2FsbGVkLCB3aGVyZWFzIG51bGwgbWVhbnMgaXQncyBiZWVuIGNhbGxlZCB3aXRoIGEgc2lnbmVkIG91dCB1c2VyXG4gIHByaXZhdGUgbGFzdE5vdGlmaWVkVWlkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIGxhbmd1YWdlQ29kZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHRlbmFudElkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgc2V0dGluZ3M6IEF1dGhTZXR0aW5ncyA9IHsgYXBwVmVyaWZpY2F0aW9uRGlzYWJsZWRGb3JUZXN0aW5nOiBmYWxzZSB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBhcHA6IEZpcmViYXNlQXBwLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgaGVhcnRiZWF0U2VydmljZVByb3ZpZGVyOiBQcm92aWRlcjwnaGVhcnRiZWF0Jz4sXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcHBDaGVja1NlcnZpY2VQcm92aWRlcjogUHJvdmlkZXI8QXBwQ2hlY2tJbnRlcm5hbENvbXBvbmVudE5hbWU+LFxuICAgIHB1YmxpYyByZWFkb25seSBjb25maWc6IENvbmZpZ0ludGVybmFsXG4gICkge1xuICAgIHRoaXMubmFtZSA9IGFwcC5uYW1lO1xuICAgIHRoaXMuY2xpZW50VmVyc2lvbiA9IGNvbmZpZy5zZGtDbGllbnRWZXJzaW9uO1xuICB9XG5cbiAgX2luaXRpYWxpemVXaXRoUGVyc2lzdGVuY2UoXG4gICAgcGVyc2lzdGVuY2VIaWVyYXJjaHk6IFBlcnNpc3RlbmNlSW50ZXJuYWxbXSxcbiAgICBwb3B1cFJlZGlyZWN0UmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHBvcHVwUmVkaXJlY3RSZXNvbHZlcikge1xuICAgICAgdGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyID0gX2dldEluc3RhbmNlKHBvcHVwUmVkaXJlY3RSZXNvbHZlcik7XG4gICAgfVxuXG4gICAgLy8gSGF2ZSB0byBjaGVjayBmb3IgYXBwIGRlbGV0aW9uIHRocm91Z2hvdXQgaW5pdGlhbGl6YXRpb24gKGFmdGVyIGVhY2hcbiAgICAvLyBwcm9taXNlIHJlc29sdXRpb24pXG4gICAgdGhpcy5faW5pdGlhbGl6YXRpb25Qcm9taXNlID0gdGhpcy5xdWV1ZShhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fZGVsZXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGVyc2lzdGVuY2VNYW5hZ2VyID0gYXdhaXQgUGVyc2lzdGVuY2VVc2VyTWFuYWdlci5jcmVhdGUoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHBlcnNpc3RlbmNlSGllcmFyY2h5XG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy5fZGVsZXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEluaXRpYWxpemUgdGhlIHJlc29sdmVyIGVhcmx5IGlmIG5lY2Vzc2FyeSAob25seSBhcHBsaWNhYmxlIHRvIHdlYjpcbiAgICAgIC8vIHRoaXMgd2lsbCBjYXVzZSB0aGUgaWZyYW1lIHRvIGxvYWQgaW1tZWRpYXRlbHkgaW4gY2VydGFpbiBjYXNlcylcbiAgICAgIGlmICh0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXI/Ll9zaG91bGRJbml0UHJvYWN0aXZlbHkpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBmYWlscywgZG9uJ3QgaGFsdCBhdXRoIGxvYWRpbmdcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIuX2luaXRpYWxpemUodGhpcyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvKiBJZ25vcmUgdGhlIGVycm9yICovXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplQ3VycmVudFVzZXIocG9wdXBSZWRpcmVjdFJlc29sdmVyKTtcblxuICAgICAgdGhpcy5sYXN0Tm90aWZpZWRVaWQgPSB0aGlzLmN1cnJlbnRVc2VyPy51aWQgfHwgbnVsbDtcblxuICAgICAgaWYgKHRoaXMuX2RlbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhlIHBlcnNpc3RlbmNlIGlzIGNoYW5nZWQgaW4gYW5vdGhlciB3aW5kb3csIHRoZSB1c2VyIG1hbmFnZXIgd2lsbCBsZXQgdXMga25vd1xuICAgKi9cbiAgYXN5bmMgX29uU3RvcmFnZUV2ZW50KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLl9kZWxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5nZXRDdXJyZW50VXNlcigpO1xuXG4gICAgaWYgKCF0aGlzLmN1cnJlbnRVc2VyICYmICF1c2VyKSB7XG4gICAgICAvLyBObyBjaGFuZ2UsIGRvIG5vdGhpbmcgKHdhcyBzaWduZWQgb3V0IGFuZCByZW1haW5lZCBzaWduZWQgb3V0KS5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc2FtZSB1c2VyIGlzIHRvIGJlIHN5bmNocm9uaXplZC5cbiAgICBpZiAodGhpcy5jdXJyZW50VXNlciAmJiB1c2VyICYmIHRoaXMuY3VycmVudFVzZXIudWlkID09PSB1c2VyLnVpZCkge1xuICAgICAgLy8gRGF0YSB1cGRhdGUsIHNpbXBseSBjb3B5IGRhdGEgY2hhbmdlcy5cbiAgICAgIHRoaXMuX2N1cnJlbnRVc2VyLl9hc3NpZ24odXNlcik7XG4gICAgICAvLyBJZiB0b2tlbnMgY2hhbmdlZCBmcm9tIHByZXZpb3VzIHVzZXIgdG9rZW5zLCB0aGlzIHdpbGwgdHJpZ2dlclxuICAgICAgLy8gbm90aWZ5QXV0aExpc3RlbmVyc18uXG4gICAgICBhd2FpdCB0aGlzLmN1cnJlbnRVc2VyLmdldElkVG9rZW4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgY3VycmVudCBBdXRoIHN0YXRlLiBFaXRoZXIgYSBuZXcgbG9naW4gb3IgbG9nb3V0LlxuICAgIC8vIFNraXAgYmxvY2tpbmcgY2FsbGJhY2tzLCB0aGV5IHNob3VsZCBub3QgYXBwbHkgdG8gYSBjaGFuZ2UgaW4gYW5vdGhlciB0YWIuXG4gICAgYXdhaXQgdGhpcy5fdXBkYXRlQ3VycmVudFVzZXIodXNlciwgLyogc2tpcEJlZm9yZVN0YXRlQ2FsbGJhY2tzICovIHRydWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplQ3VycmVudFVzZXJGcm9tSWRUb2tlbihcbiAgICBpZFRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0QWNjb3VudEluZm8odGhpcywgeyBpZFRva2VuIH0pO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJJbXBsLl9mcm9tR2V0QWNjb3VudEluZm9SZXNwb25zZShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIGlkVG9rZW5cbiAgICAgICk7XG4gICAgICBhd2FpdCB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIodXNlcik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdGaXJlYmFzZVNlcnZlckFwcCBjb3VsZCBub3QgbG9naW4gdXNlciB3aXRoIHByb3ZpZGVkIGF1dGhJZFRva2VuOiAnLFxuICAgICAgICBlcnJcbiAgICAgICk7XG4gICAgICBhd2FpdCB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplQ3VycmVudFVzZXIoXG4gICAgcG9wdXBSZWRpcmVjdFJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh0aGlzLmFwcCkpIHtcbiAgICAgIGNvbnN0IGlkVG9rZW4gPSB0aGlzLmFwcC5zZXR0aW5ncy5hdXRoSWRUb2tlbjtcbiAgICAgIGlmIChpZFRva2VuKSB7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSBhdXRoIG9wZXJhdGlvbiBpbiB0aGUgbmV4dCB0aWNrIHRvIGFsbG93IGEgbW9tZW50IGZvciB0aGUgY3VzdG9tZXIncyBhcHAgdG9cbiAgICAgICAgLy8gYXR0YWNoIGFuIGVtdWxhdG9yLCBpZiBkZXNpcmVkLlxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ3VycmVudFVzZXJGcm9tSWRUb2tlbihpZFRva2VuKS50aGVuKFxuICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICByZXNvbHZlXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpcnN0IGNoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcGVuZGluZyByZWRpcmVjdCBldmVudC5cbiAgICBjb25zdCBwcmV2aW91c2x5U3RvcmVkVXNlciA9XG4gICAgICAoYXdhaXQgdGhpcy5hc3NlcnRlZFBlcnNpc3RlbmNlLmdldEN1cnJlbnRVc2VyKCkpIGFzIFVzZXJJbnRlcm5hbCB8IG51bGw7XG4gICAgbGV0IGZ1dHVyZUN1cnJlbnRVc2VyID0gcHJldmlvdXNseVN0b3JlZFVzZXI7XG4gICAgbGV0IG5lZWRzVG9jaGVja01pZGRsZXdhcmUgPSBmYWxzZTtcbiAgICBpZiAocG9wdXBSZWRpcmVjdFJlc29sdmVyICYmIHRoaXMuY29uZmlnLmF1dGhEb21haW4pIHtcbiAgICAgIGF3YWl0IHRoaXMuZ2V0T3JJbml0UmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXIoKTtcbiAgICAgIGNvbnN0IHJlZGlyZWN0VXNlckV2ZW50SWQgPSB0aGlzLnJlZGlyZWN0VXNlcj8uX3JlZGlyZWN0RXZlbnRJZDtcbiAgICAgIGNvbnN0IHN0b3JlZFVzZXJFdmVudElkID0gZnV0dXJlQ3VycmVudFVzZXI/Ll9yZWRpcmVjdEV2ZW50SWQ7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnRyeVJlZGlyZWN0U2lnbkluKHBvcHVwUmVkaXJlY3RSZXNvbHZlcik7XG5cbiAgICAgIC8vIElmIHRoZSBzdG9yZWQgdXNlciAoaS5lLiB0aGUgb2xkIFwiY3VycmVudFVzZXJcIikgaGFzIGEgcmVkaXJlY3RJZCB0aGF0XG4gICAgICAvLyBtYXRjaGVzIHRoZSByZWRpcmVjdCB1c2VyLCB0aGVuIHdlIHdhbnQgdG8gaW5pdGlhbGx5IHNpZ24gaW4gd2l0aCB0aGVcbiAgICAgIC8vIG5ldyB1c2VyIG9iamVjdCBmcm9tIHJlc3VsdC5cbiAgICAgIC8vIFRPRE8oc2FtZ2hvKTogTW9yZSB0aG9yb3VnaGx5IHRlc3QgYWxsIG9mIHRoaXNcbiAgICAgIGlmIChcbiAgICAgICAgKCFyZWRpcmVjdFVzZXJFdmVudElkIHx8IHJlZGlyZWN0VXNlckV2ZW50SWQgPT09IHN0b3JlZFVzZXJFdmVudElkKSAmJlxuICAgICAgICByZXN1bHQ/LnVzZXJcbiAgICAgICkge1xuICAgICAgICBmdXR1cmVDdXJyZW50VXNlciA9IHJlc3VsdC51c2VyIGFzIFVzZXJJbnRlcm5hbDtcbiAgICAgICAgbmVlZHNUb2NoZWNrTWlkZGxld2FyZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbm8gdXNlciBpbiBwZXJzaXN0ZW5jZSwgdGhlcmUgaXMgbm8gY3VycmVudCB1c2VyLiBTZXQgdG8gbnVsbC5cbiAgICBpZiAoIWZ1dHVyZUN1cnJlbnRVc2VyKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKG51bGwpO1xuICAgIH1cblxuICAgIGlmICghZnV0dXJlQ3VycmVudFVzZXIuX3JlZGlyZWN0RXZlbnRJZCkge1xuICAgICAgLy8gVGhpcyBpc24ndCBhIHJlZGlyZWN0IGxpbmsgb3BlcmF0aW9uLCB3ZSBjYW4gcmVsb2FkIGFuZCBiYWlsLlxuICAgICAgLy8gRmlyc3QgdGhvdWdoLCBlbnN1cmUgdGhhdCB3ZSBjaGVjayB0aGUgbWlkZGxld2FyZSBpcyBoYXBweS5cbiAgICAgIGlmIChuZWVkc1RvY2hlY2tNaWRkbGV3YXJlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5iZWZvcmVTdGF0ZVF1ZXVlLnJ1bk1pZGRsZXdhcmUoZnV0dXJlQ3VycmVudFVzZXIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZnV0dXJlQ3VycmVudFVzZXIgPSBwcmV2aW91c2x5U3RvcmVkVXNlcjtcbiAgICAgICAgICAvLyBXZSBrbm93IHRoaXMgaXMgYXZhaWxhYmxlIHNpbmNlIHRoZSBiaXQgaXMgb25seSBzZXQgd2hlbiB0aGVcbiAgICAgICAgICAvLyByZXNvbHZlciBpcyBhdmFpbGFibGVcbiAgICAgICAgICB0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIhLl9vdmVycmlkZVJlZGlyZWN0UmVzdWx0KHRoaXMsICgpID0+XG4gICAgICAgICAgICBQcm9taXNlLnJlamVjdChlKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZ1dHVyZUN1cnJlbnRVc2VyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbG9hZEFuZFNldEN1cnJlbnRVc2VyT3JDbGVhcihmdXR1cmVDdXJyZW50VXNlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9hc3NlcnQodGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyLCB0aGlzLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcbiAgICBhd2FpdCB0aGlzLmdldE9ySW5pdFJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyKCk7XG5cbiAgICAvLyBJZiB0aGUgcmVkaXJlY3QgdXNlcidzIGV2ZW50IElEIG1hdGNoZXMgdGhlIGN1cnJlbnQgdXNlcidzIGV2ZW50IElELFxuICAgIC8vIERPIE5PVCByZWxvYWQgdGhlIGN1cnJlbnQgdXNlciwgb3RoZXJ3aXNlIHRoZXknbGwgYmUgY2xlYXJlZCBmcm9tIHN0b3JhZ2UuXG4gICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIHRoZSByZWF1dGhlbnRpY2F0ZVdpdGhSZWRpcmVjdCgpIGZsb3cuXG4gICAgaWYgKFxuICAgICAgdGhpcy5yZWRpcmVjdFVzZXIgJiZcbiAgICAgIHRoaXMucmVkaXJlY3RVc2VyLl9yZWRpcmVjdEV2ZW50SWQgPT09IGZ1dHVyZUN1cnJlbnRVc2VyLl9yZWRpcmVjdEV2ZW50SWRcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIoZnV0dXJlQ3VycmVudFVzZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlbG9hZEFuZFNldEN1cnJlbnRVc2VyT3JDbGVhcihmdXR1cmVDdXJyZW50VXNlcik7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHRyeVJlZGlyZWN0U2lnbkluKFxuICAgIHJlZGlyZWN0UmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuICApOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsIHwgbnVsbD4ge1xuICAgIC8vIFRoZSByZWRpcmVjdCB1c2VyIG5lZWRzIHRvIGJlIGNoZWNrZWQgKGFuZCBzaWduZWQgaW4gaWYgYXZhaWxhYmxlKVxuICAgIC8vIGR1cmluZyBhdXRoIGluaXRpYWxpemF0aW9uLiBBbGwgb2YgdGhlIG5vcm1hbCBzaWduIGluIGFuZCBsaW5rL3JlYXV0aFxuICAgIC8vIGZsb3dzIGNhbGwgYmFjayBpbnRvIGF1dGggYW5kIHB1c2ggdGhpbmdzIG9udG8gdGhlIHByb21pc2UgcXVldWUuIFdlXG4gICAgLy8gbmVlZCB0byBhd2FpdCB0aGUgcmVzdWx0IG9mIHRoZSByZWRpcmVjdCBzaWduIGluICppbnNpZGUgdGhlIHByb21pc2VcbiAgICAvLyBxdWV1ZSouIFRoaXMgcHJlc2VudHMgYSBwcm9ibGVtOiB3ZSBydW4gaW50byBkZWFkbG9jay4gU2VlOlxuICAgIC8vICAgIOKUjD4gW0luaXRpYWxpemF0aW9uXSDilIDilIDilIDilIDilIDilJBcbiAgICAvLyAgICDilIw+IFs8b3RoZXIgcXVldWUgdGFza3M+XSDilIJcbiAgICAvLyAgICDilJTilIAgW2dldFJlZGlyZWN0UmVzdWx0XSA84pSA4pSYXG4gICAgLy8gICAgd2hlcmUgW10gYXJlIHRhc2tzIG9uIHRoZSBxdWV1ZSBhbmQgYXJyb3dzIGRlbm90ZSBhd2FpdHNcbiAgICAvLyBJbml0aWFsaXphdGlvbiB3aWxsIG5ldmVyIGNvbXBsZXRlIGJlY2F1c2UgaXQncyB3YWl0aW5nIG9uIHNvbWV0aGluZ1xuICAgIC8vIHRoYXQncyB3YWl0aW5nIGZvciBpbml0aWFsaXphdGlvbiB0byBjb21wbGV0ZSFcbiAgICAvL1xuICAgIC8vIEluc3RlYWQsIHRoaXMgbWV0aG9kIGNhbGxzIGdldFJlZGlyZWN0UmVzdWx0KCkgKHN0b3JlZCBpblxuICAgIC8vIF9jb21wbGV0ZVJlZGlyZWN0Rm4pIHdpdGggYW4gb3B0aW9uYWwgcGFyYW1ldGVyIHRoYXQgaW5zdHJ1Y3RzIGFsbCBvZlxuICAgIC8vIHRoZSB1bmRlcmx5aW5nIGF1dGggb3BlcmF0aW9ucyB0byBza2lwIGFueXRoaW5nIHRoYXQgbXV0YXRlcyBhdXRoIHN0YXRlLlxuXG4gICAgbGV0IHJlc3VsdDogVXNlckNyZWRlbnRpYWwgfCBudWxsID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgLy8gV2Uga25vdyB0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIgaXMgc2V0IHNpbmNlIHJlZGlyZWN0UmVzb2x2ZXJcbiAgICAgIC8vIGlzIHBhc3NlZCBpbi4gVGhlIF9jb21wbGV0ZVJlZGlyZWN0Rm4gZXhwZWN0cyB0aGUgdW53cmFwcGVkIGV4dGVybi5cbiAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlciEuX2NvbXBsZXRlUmVkaXJlY3RGbihcbiAgICAgICAgdGhpcyxcbiAgICAgICAgcmVkaXJlY3RSZXNvbHZlcixcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBTd2FsbG93IGFueSBlcnJvcnMgaGVyZTsgdGhlIGNvZGUgY2FuIHJldHJpZXZlIHRoZW0gaW5cbiAgICAgIC8vIGdldFJlZGlyZWN0UmVzdWx0KCkuXG4gICAgICBhd2FpdCB0aGlzLl9zZXRSZWRpcmVjdFVzZXIobnVsbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcmVsb2FkQW5kU2V0Q3VycmVudFVzZXJPckNsZWFyKFxuICAgIHVzZXI6IFVzZXJJbnRlcm5hbFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgX3JlbG9hZFdpdGhvdXRTYXZpbmcodXNlcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKFxuICAgICAgICAoZSBhcyBGaXJlYmFzZUVycm9yKT8uY29kZSAhPT1cbiAgICAgICAgYGF1dGgvJHtBdXRoRXJyb3JDb2RlLk5FVFdPUktfUkVRVUVTVF9GQUlMRUR9YFxuICAgICAgKSB7XG4gICAgICAgIC8vIFNvbWV0aGluZydzIHdyb25nIHdpdGggdGhlIHVzZXIncyB0b2tlbi4gTG9nIHRoZW0gb3V0IGFuZCByZW1vdmVcbiAgICAgICAgLy8gdGhlbSBmcm9tIHN0b3JhZ2VcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcihudWxsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKHVzZXIpO1xuICB9XG5cbiAgdXNlRGV2aWNlTGFuZ3VhZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5sYW5ndWFnZUNvZGUgPSBfZ2V0VXNlckxhbmd1YWdlKCk7XG4gIH1cblxuICBhc3luYyBfZGVsZXRlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuX2RlbGV0ZWQgPSB0cnVlO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ3VycmVudFVzZXIodXNlckV4dGVybjogVXNlciB8IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodGhpcy5hcHApKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBUaGUgcHVibGljIHVwZGF0ZUN1cnJlbnRVc2VyIG1ldGhvZCBuZWVkcyB0byBtYWtlIGEgY29weSBvZiB0aGUgdXNlcixcbiAgICAvLyBhbmQgYWxzbyBjaGVjayB0aGF0IHRoZSBwcm9qZWN0IG1hdGNoZXNcbiAgICBjb25zdCB1c2VyID0gdXNlckV4dGVyblxuICAgICAgPyAoZ2V0TW9kdWxhckluc3RhbmNlKHVzZXJFeHRlcm4pIGFzIFVzZXJJbnRlcm5hbClcbiAgICAgIDogbnVsbDtcbiAgICBpZiAodXNlcikge1xuICAgICAgX2Fzc2VydChcbiAgICAgICAgdXNlci5hdXRoLmNvbmZpZy5hcGlLZXkgPT09IHRoaXMuY29uZmlnLmFwaUtleSxcbiAgICAgICAgdGhpcyxcbiAgICAgICAgQXV0aEVycm9yQ29kZS5JTlZBTElEX0FVVEhcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl91cGRhdGVDdXJyZW50VXNlcih1c2VyICYmIHVzZXIuX2Nsb25lKHRoaXMpKTtcbiAgfVxuXG4gIGFzeW5jIF91cGRhdGVDdXJyZW50VXNlcihcbiAgICB1c2VyOiBVc2VyIHwgbnVsbCxcbiAgICBza2lwQmVmb3JlU3RhdGVDYWxsYmFja3M6IGJvb2xlYW4gPSBmYWxzZVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5fZGVsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodXNlcikge1xuICAgICAgX2Fzc2VydChcbiAgICAgICAgdGhpcy50ZW5hbnRJZCA9PT0gdXNlci50ZW5hbnRJZCxcbiAgICAgICAgdGhpcyxcbiAgICAgICAgQXV0aEVycm9yQ29kZS5URU5BTlRfSURfTUlTTUFUQ0hcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFza2lwQmVmb3JlU3RhdGVDYWxsYmFja3MpIHtcbiAgICAgIGF3YWl0IHRoaXMuYmVmb3JlU3RhdGVRdWV1ZS5ydW5NaWRkbGV3YXJlKHVzZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnF1ZXVlKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcih1c2VyIGFzIFVzZXJJbnRlcm5hbCB8IG51bGwpO1xuICAgICAgdGhpcy5ub3RpZnlBdXRoTGlzdGVuZXJzKCk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBzaWduT3V0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh0aGlzLmFwcCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IodGhpcylcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIFJ1biBmaXJzdCwgdG8gYmxvY2sgX3NldFJlZGlyZWN0VXNlcigpIGlmIGFueSBjYWxsYmFja3MgZmFpbC5cbiAgICBhd2FpdCB0aGlzLmJlZm9yZVN0YXRlUXVldWUucnVuTWlkZGxld2FyZShudWxsKTtcbiAgICAvLyBDbGVhciB0aGUgcmVkaXJlY3QgdXNlciB3aGVuIHNpZ25PdXQgaXMgY2FsbGVkXG4gICAgaWYgKHRoaXMucmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXIgfHwgdGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyKSB7XG4gICAgICBhd2FpdCB0aGlzLl9zZXRSZWRpcmVjdFVzZXIobnVsbCk7XG4gICAgfVxuXG4gICAgLy8gUHJldmVudCBjYWxsYmFja3MgZnJvbSBiZWluZyBjYWxsZWQgYWdhaW4gaW4gX3VwZGF0ZUN1cnJlbnRVc2VyLCBhc1xuICAgIC8vIHRoZXkgd2VyZSBhbHJlYWR5IGNhbGxlZCBpbiB0aGUgZmlyc3QgbGluZS5cbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlQ3VycmVudFVzZXIobnVsbCwgLyogc2tpcEJlZm9yZVN0YXRlQ2FsbGJhY2tzICovIHRydWUpO1xuICB9XG5cbiAgc2V0UGVyc2lzdGVuY2UocGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHRoaXMuYXBwKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcih0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucXVldWUoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5hc3NlcnRlZFBlcnNpc3RlbmNlLnNldFBlcnNpc3RlbmNlKF9nZXRJbnN0YW5jZShwZXJzaXN0ZW5jZSkpO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldFJlY2FwdGNoYUNvbmZpZygpOiBSZWNhcHRjaGFDb25maWcgfCBudWxsIHtcbiAgICBpZiAodGhpcy50ZW5hbnRJZCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWdlbnRSZWNhcHRjaGFDb25maWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl90ZW5hbnRSZWNhcHRjaGFDb25maWdzW3RoaXMudGVuYW50SWRdO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHZhbGlkYXRlUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8UGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzPiB7XG4gICAgaWYgKCF0aGlzLl9nZXRQYXNzd29yZFBvbGljeUludGVybmFsKCkpIHtcbiAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZVBhc3N3b3JkUG9saWN5KCk7XG4gICAgfVxuXG4gICAgLy8gUGFzc3dvcmQgcG9saWN5IHdpbGwgYmUgZGVmaW5lZCBhZnRlciBmZXRjaGluZy5cbiAgICBjb25zdCBwYXNzd29yZFBvbGljeTogUGFzc3dvcmRQb2xpY3lJbnRlcm5hbCA9XG4gICAgICB0aGlzLl9nZXRQYXNzd29yZFBvbGljeUludGVybmFsKCkhO1xuXG4gICAgLy8gQ2hlY2sgdGhhdCB0aGUgcG9saWN5IHNjaGVtYSB2ZXJzaW9uIGlzIHN1cHBvcnRlZCBieSB0aGUgU0RLLlxuICAgIC8vIFRPRE86IFVwZGF0ZSB0aGlzIGxvZ2ljIHRvIHVzZSBhIG1heCBzdXBwb3J0ZWQgcG9saWN5IHNjaGVtYSB2ZXJzaW9uIG9uY2Ugd2UgaGF2ZSBtdWx0aXBsZSBzY2hlbWEgdmVyc2lvbnMuXG4gICAgaWYgKFxuICAgICAgcGFzc3dvcmRQb2xpY3kuc2NoZW1hVmVyc2lvbiAhPT1cbiAgICAgIHRoaXMuRVhQRUNURURfUEFTU1dPUkRfUE9MSUNZX1NDSEVNQV9WRVJTSU9OXG4gICAgKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIHRoaXMuX2Vycm9yRmFjdG9yeS5jcmVhdGUoXG4gICAgICAgICAgQXV0aEVycm9yQ29kZS5VTlNVUFBPUlRFRF9QQVNTV09SRF9QT0xJQ1lfU0NIRU1BX1ZFUlNJT04sXG4gICAgICAgICAge31cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFzc3dvcmRQb2xpY3kudmFsaWRhdGVQYXNzd29yZChwYXNzd29yZCk7XG4gIH1cblxuICBfZ2V0UGFzc3dvcmRQb2xpY3lJbnRlcm5hbCgpOiBQYXNzd29yZFBvbGljeUludGVybmFsIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMudGVuYW50SWQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcm9qZWN0UGFzc3dvcmRQb2xpY3k7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl90ZW5hbnRQYXNzd29yZFBvbGljaWVzW3RoaXMudGVuYW50SWRdO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF91cGRhdGVQYXNzd29yZFBvbGljeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9nZXRQYXNzd29yZFBvbGljeSh0aGlzKTtcblxuICAgIGNvbnN0IHBhc3N3b3JkUG9saWN5OiBQYXNzd29yZFBvbGljeUludGVybmFsID0gbmV3IFBhc3N3b3JkUG9saWN5SW1wbChcbiAgICAgIHJlc3BvbnNlXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnRlbmFudElkID09PSBudWxsKSB7XG4gICAgICB0aGlzLl9wcm9qZWN0UGFzc3dvcmRQb2xpY3kgPSBwYXNzd29yZFBvbGljeTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdGVuYW50UGFzc3dvcmRQb2xpY2llc1t0aGlzLnRlbmFudElkXSA9IHBhc3N3b3JkUG9saWN5O1xuICAgIH1cbiAgfVxuXG4gIF9nZXRQZXJzaXN0ZW5jZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmFzc2VydGVkUGVyc2lzdGVuY2UucGVyc2lzdGVuY2UudHlwZTtcbiAgfVxuXG4gIF91cGRhdGVFcnJvck1hcChlcnJvck1hcDogQXV0aEVycm9yTWFwKTogdm9pZCB7XG4gICAgdGhpcy5fZXJyb3JGYWN0b3J5ID0gbmV3IEVycm9yRmFjdG9yeTxBdXRoRXJyb3JDb2RlLCBBdXRoRXJyb3JQYXJhbXM+KFxuICAgICAgJ2F1dGgnLFxuICAgICAgJ0ZpcmViYXNlJyxcbiAgICAgIChlcnJvck1hcCBhcyBFcnJvck1hcFJldHJpZXZlcikoKVxuICAgICk7XG4gIH1cblxuICBvbkF1dGhTdGF0ZUNoYW5nZWQoXG4gICAgbmV4dE9yT2JzZXJ2ZXI6IE5leHRPck9ic2VydmVyPFVzZXI+LFxuICAgIGVycm9yPzogRXJyb3JGbixcbiAgICBjb21wbGV0ZWQ/OiBDb21wbGV0ZUZuXG4gICk6IFVuc3Vic2NyaWJlIHtcbiAgICByZXR1cm4gdGhpcy5yZWdpc3RlclN0YXRlTGlzdGVuZXIoXG4gICAgICB0aGlzLmF1dGhTdGF0ZVN1YnNjcmlwdGlvbixcbiAgICAgIG5leHRPck9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZWRcbiAgICApO1xuICB9XG5cbiAgYmVmb3JlQXV0aFN0YXRlQ2hhbmdlZChcbiAgICBjYWxsYmFjazogKHVzZXI6IFVzZXIgfCBudWxsKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgICBvbkFib3J0PzogKCkgPT4gdm9pZFxuICApOiBVbnN1YnNjcmliZSB7XG4gICAgcmV0dXJuIHRoaXMuYmVmb3JlU3RhdGVRdWV1ZS5wdXNoQ2FsbGJhY2soY2FsbGJhY2ssIG9uQWJvcnQpO1xuICB9XG5cbiAgb25JZFRva2VuQ2hhbmdlZChcbiAgICBuZXh0T3JPYnNlcnZlcjogTmV4dE9yT2JzZXJ2ZXI8VXNlcj4sXG4gICAgZXJyb3I/OiBFcnJvckZuLFxuICAgIGNvbXBsZXRlZD86IENvbXBsZXRlRm5cbiAgKTogVW5zdWJzY3JpYmUge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU3RhdGVMaXN0ZW5lcihcbiAgICAgIHRoaXMuaWRUb2tlblN1YnNjcmlwdGlvbixcbiAgICAgIG5leHRPck9ic2VydmVyLFxuICAgICAgZXJyb3IsXG4gICAgICBjb21wbGV0ZWRcbiAgICApO1xuICB9XG5cbiAgYXV0aFN0YXRlUmVhZHkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gdGhpcy5vbkF1dGhTdGF0ZUNoYW5nZWQoKCkgPT4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldm9rZXMgdGhlIGdpdmVuIGFjY2VzcyB0b2tlbi4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgQXBwbGUgT0F1dGggYWNjZXNzIHRva2Vucy5cbiAgICovXG4gIGFzeW5jIHJldm9rZUFjY2Vzc1Rva2VuKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5jdXJyZW50VXNlcikge1xuICAgICAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IHRoaXMuY3VycmVudFVzZXIuZ2V0SWRUb2tlbigpO1xuICAgICAgLy8gR2VuZXJhbGl6ZSB0aGlzIHRvIGFjY2VwdCBvdGhlciBwcm92aWRlcnMgb25jZSBzdXBwb3J0ZWQuXG4gICAgICBjb25zdCByZXF1ZXN0OiBSZXZva2VUb2tlblJlcXVlc3QgPSB7XG4gICAgICAgIHByb3ZpZGVySWQ6ICdhcHBsZS5jb20nLFxuICAgICAgICB0b2tlblR5cGU6IFRva2VuVHlwZS5BQ0NFU1NfVE9LRU4sXG4gICAgICAgIHRva2VuLFxuICAgICAgICBpZFRva2VuXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMudGVuYW50SWQgIT0gbnVsbCkge1xuICAgICAgICByZXF1ZXN0LnRlbmFudElkID0gdGhpcy50ZW5hbnRJZDtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHJldm9rZVRva2VuKHRoaXMsIHJlcXVlc3QpO1xuICAgIH1cbiAgfVxuXG4gIHRvSlNPTigpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICBhcGlLZXk6IHRoaXMuY29uZmlnLmFwaUtleSxcbiAgICAgIGF1dGhEb21haW46IHRoaXMuY29uZmlnLmF1dGhEb21haW4sXG4gICAgICBhcHBOYW1lOiB0aGlzLm5hbWUsXG4gICAgICBjdXJyZW50VXNlcjogdGhpcy5fY3VycmVudFVzZXI/LnRvSlNPTigpXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIF9zZXRSZWRpcmVjdFVzZXIoXG4gICAgdXNlcjogVXNlckludGVybmFsIHwgbnVsbCxcbiAgICBwb3B1cFJlZGlyZWN0UmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVkaXJlY3RNYW5hZ2VyID0gYXdhaXQgdGhpcy5nZXRPckluaXRSZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlcihcbiAgICAgIHBvcHVwUmVkaXJlY3RSZXNvbHZlclxuICAgICk7XG4gICAgcmV0dXJuIHVzZXIgPT09IG51bGxcbiAgICAgID8gcmVkaXJlY3RNYW5hZ2VyLnJlbW92ZUN1cnJlbnRVc2VyKClcbiAgICAgIDogcmVkaXJlY3RNYW5hZ2VyLnNldEN1cnJlbnRVc2VyKHVzZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRPckluaXRSZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlcihcbiAgICBwb3B1cFJlZGlyZWN0UmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbiAgKTogUHJvbWlzZTxQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyPiB7XG4gICAgaWYgKCF0aGlzLnJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyKSB7XG4gICAgICBjb25zdCByZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwgfCBudWxsID1cbiAgICAgICAgKHBvcHVwUmVkaXJlY3RSZXNvbHZlciAmJiBfZ2V0SW5zdGFuY2UocG9wdXBSZWRpcmVjdFJlc29sdmVyKSkgfHxcbiAgICAgICAgdGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyO1xuICAgICAgX2Fzc2VydChyZXNvbHZlciwgdGhpcywgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG4gICAgICB0aGlzLnJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyID0gYXdhaXQgUGVyc2lzdGVuY2VVc2VyTWFuYWdlci5jcmVhdGUoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIFtfZ2V0SW5zdGFuY2UocmVzb2x2ZXIuX3JlZGlyZWN0UGVyc2lzdGVuY2UpXSxcbiAgICAgICAgS2V5TmFtZS5SRURJUkVDVF9VU0VSXG4gICAgICApO1xuICAgICAgdGhpcy5yZWRpcmVjdFVzZXIgPVxuICAgICAgICBhd2FpdCB0aGlzLnJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyLmdldEN1cnJlbnRVc2VyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXI7XG4gIH1cblxuICBhc3luYyBfcmVkaXJlY3RVc2VyRm9ySWQoaWQ6IHN0cmluZyk6IFByb21pc2U8VXNlckludGVybmFsIHwgbnVsbD4ge1xuICAgIC8vIE1ha2Ugc3VyZSB3ZSd2ZSBjbGVhcmVkIGFueSBwZW5kaW5nIHBlcnNpc3RlbmNlIGFjdGlvbnMgaWYgd2UncmUgbm90IGluXG4gICAgLy8gdGhlIGluaXRpYWxpemVyXG4gICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMucXVldWUoYXN5bmMgKCkgPT4ge30pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jdXJyZW50VXNlcj8uX3JlZGlyZWN0RXZlbnRJZCA9PT0gaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50VXNlcjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZWRpcmVjdFVzZXI/Ll9yZWRpcmVjdEV2ZW50SWQgPT09IGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWRpcmVjdFVzZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBfcGVyc2lzdFVzZXJJZkN1cnJlbnQodXNlcjogVXNlckludGVybmFsKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHVzZXIgPT09IHRoaXMuY3VycmVudFVzZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLnF1ZXVlKGFzeW5jICgpID0+IHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcih1c2VyKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIE5vdGlmaWVzIGxpc3RlbmVycyBvbmx5IGlmIHRoZSB1c2VyIGlzIGN1cnJlbnQgKi9cbiAgX25vdGlmeUxpc3RlbmVyc0lmQ3VycmVudCh1c2VyOiBVc2VySW50ZXJuYWwpOiB2b2lkIHtcbiAgICBpZiAodXNlciA9PT0gdGhpcy5jdXJyZW50VXNlcikge1xuICAgICAgdGhpcy5ub3RpZnlBdXRoTGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cbiAgX2tleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgJHt0aGlzLmNvbmZpZy5hdXRoRG9tYWlufToke3RoaXMuY29uZmlnLmFwaUtleX06JHt0aGlzLm5hbWV9YDtcbiAgfVxuXG4gIF9zdGFydFByb2FjdGl2ZVJlZnJlc2goKTogdm9pZCB7XG4gICAgdGhpcy5pc1Byb2FjdGl2ZVJlZnJlc2hFbmFibGVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5jdXJyZW50VXNlcikge1xuICAgICAgdGhpcy5fY3VycmVudFVzZXIuX3N0YXJ0UHJvYWN0aXZlUmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIF9zdG9wUHJvYWN0aXZlUmVmcmVzaCgpOiB2b2lkIHtcbiAgICB0aGlzLmlzUHJvYWN0aXZlUmVmcmVzaEVuYWJsZWQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5jdXJyZW50VXNlcikge1xuICAgICAgdGhpcy5fY3VycmVudFVzZXIuX3N0b3BQcm9hY3RpdmVSZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqIFJldHVybnMgdGhlIGN1cnJlbnQgdXNlciBjYXN0IGFzIHRoZSBpbnRlcm5hbCB0eXBlICovXG4gIGdldCBfY3VycmVudFVzZXIoKTogVXNlckludGVybmFsIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlciBhcyBVc2VySW50ZXJuYWw7XG4gIH1cblxuICBwcml2YXRlIG5vdGlmeUF1dGhMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9pc0luaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pZFRva2VuU3Vic2NyaXB0aW9uLm5leHQodGhpcy5jdXJyZW50VXNlcik7XG5cbiAgICBjb25zdCBjdXJyZW50VWlkID0gdGhpcy5jdXJyZW50VXNlcj8udWlkID8/IG51bGw7XG4gICAgaWYgKHRoaXMubGFzdE5vdGlmaWVkVWlkICE9PSBjdXJyZW50VWlkKSB7XG4gICAgICB0aGlzLmxhc3ROb3RpZmllZFVpZCA9IGN1cnJlbnRVaWQ7XG4gICAgICB0aGlzLmF1dGhTdGF0ZVN1YnNjcmlwdGlvbi5uZXh0KHRoaXMuY3VycmVudFVzZXIpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJTdGF0ZUxpc3RlbmVyKFxuICAgIHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uPFVzZXI+LFxuICAgIG5leHRPck9ic2VydmVyOiBOZXh0T3JPYnNlcnZlcjxVc2VyPixcbiAgICBlcnJvcj86IEVycm9yRm4sXG4gICAgY29tcGxldGVkPzogQ29tcGxldGVGblxuICApOiBVbnN1YnNjcmliZSB7XG4gICAgaWYgKHRoaXMuX2RlbGV0ZWQpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7fTtcbiAgICB9XG5cbiAgICBjb25zdCBjYiA9XG4gICAgICB0eXBlb2YgbmV4dE9yT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBuZXh0T3JPYnNlcnZlclxuICAgICAgICA6IG5leHRPck9ic2VydmVyLm5leHQuYmluZChuZXh0T3JPYnNlcnZlcik7XG5cbiAgICBsZXQgaXNVbnN1YnNjcmliZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLl9pc0luaXRpYWxpemVkXG4gICAgICA/IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICA6IHRoaXMuX2luaXRpYWxpemF0aW9uUHJvbWlzZTtcbiAgICBfYXNzZXJ0KHByb21pc2UsIHRoaXMsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIC8vIFRoZSBjYWxsYmFjayBuZWVkcyB0byBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkgcGVyIHRoZSBzcGVjLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcbiAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKGlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNiKHRoaXMuY3VycmVudFVzZXIpO1xuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBuZXh0T3JPYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBzdWJzY3JpcHRpb24uYWRkT2JzZXJ2ZXIoXG4gICAgICAgIG5leHRPck9ic2VydmVyLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgY29tcGxldGVkXG4gICAgICApO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaXNVbnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBzdWJzY3JpcHRpb24uYWRkT2JzZXJ2ZXIobmV4dE9yT2JzZXJ2ZXIpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaXNVbnN1YnNjcmliZWQgPSB0cnVlO1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5wcm90ZWN0ZWQgKGZyb20gcmFjZSBjb25kaXRpb25zKSBtZXRob2QgdG8gc2V0IHRoZSBjdXJyZW50IHVzZXIuIFRoaXNcbiAgICogc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZyb20gd2l0aGluIGEgcXVldWVkIGNhbGxiYWNrLiBUaGlzIGlzIG5lY2Vzc2FyeVxuICAgKiBiZWNhdXNlIHRoZSBxdWV1ZSBzaG91bGRuJ3QgcmVseSBvbiBhbm90aGVyIHF1ZXVlZCBjYWxsYmFjay5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZGlyZWN0bHlTZXRDdXJyZW50VXNlcihcbiAgICB1c2VyOiBVc2VySW50ZXJuYWwgfCBudWxsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyICYmIHRoaXMuY3VycmVudFVzZXIgIT09IHVzZXIpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRVc2VyLl9zdG9wUHJvYWN0aXZlUmVmcmVzaCgpO1xuICAgIH1cbiAgICBpZiAodXNlciAmJiB0aGlzLmlzUHJvYWN0aXZlUmVmcmVzaEVuYWJsZWQpIHtcbiAgICAgIHVzZXIuX3N0YXJ0UHJvYWN0aXZlUmVmcmVzaCgpO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudFVzZXIgPSB1c2VyO1xuXG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5zZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgdGhpcy5hc3NlcnRlZFBlcnNpc3RlbmNlLnJlbW92ZUN1cnJlbnRVc2VyKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBxdWV1ZShhY3Rpb246IEFzeW5jQWN0aW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gSW4gY2FzZSBzb21ldGhpbmcgZXJyb3JzLCB0aGUgY2FsbGJhY2sgc3RpbGwgc2hvdWxkIGJlIGNhbGxlZCBpbiBvcmRlclxuICAgIC8vIHRvIGtlZXAgdGhlIHByb21pc2UgY2hhaW4gYWxpdmVcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSB0aGlzLm9wZXJhdGlvbnMudGhlbihhY3Rpb24sIGFjdGlvbik7XG4gICAgcmV0dXJuIHRoaXMub3BlcmF0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IGFzc2VydGVkUGVyc2lzdGVuY2UoKTogUGVyc2lzdGVuY2VVc2VyTWFuYWdlciB7XG4gICAgX2Fzc2VydCh0aGlzLnBlcnNpc3RlbmNlTWFuYWdlciwgdGhpcywgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgcmV0dXJuIHRoaXMucGVyc2lzdGVuY2VNYW5hZ2VyO1xuICB9XG5cbiAgcHJpdmF0ZSBmcmFtZXdvcmtzOiBzdHJpbmdbXSA9IFtdO1xuICBwcml2YXRlIGNsaWVudFZlcnNpb246IHN0cmluZztcbiAgX2xvZ0ZyYW1ld29yayhmcmFtZXdvcms6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghZnJhbWV3b3JrIHx8IHRoaXMuZnJhbWV3b3Jrcy5pbmNsdWRlcyhmcmFtZXdvcmspKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZnJhbWV3b3Jrcy5wdXNoKGZyYW1ld29yayk7XG5cbiAgICAvLyBTb3J0IGFscGhhYmV0aWNhbGx5IHNvIHRoYXQgXCJGaXJlYmFzZUNvcmUtd2ViLEZpcmViYXNlVUktd2ViXCIgYW5kXG4gICAgLy8gXCJGaXJlYmFzZVVJLXdlYixGaXJlYmFzZUNvcmUtd2ViXCIgYXJlbid0IHZpZXdlZCBhcyBkaWZmZXJlbnQuXG4gICAgdGhpcy5mcmFtZXdvcmtzLnNvcnQoKTtcbiAgICB0aGlzLmNsaWVudFZlcnNpb24gPSBfZ2V0Q2xpZW50VmVyc2lvbihcbiAgICAgIHRoaXMuY29uZmlnLmNsaWVudFBsYXRmb3JtLFxuICAgICAgdGhpcy5fZ2V0RnJhbWV3b3JrcygpXG4gICAgKTtcbiAgfVxuICBfZ2V0RnJhbWV3b3JrcygpOiByZWFkb25seSBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWV3b3JrcztcbiAgfVxuICBhc3luYyBfZ2V0QWRkaXRpb25hbEhlYWRlcnMoKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PiB7XG4gICAgLy8gQWRkaXRpb25hbCBoZWFkZXJzIG9uIGV2ZXJ5IHJlcXVlc3RcbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgW0h0dHBIZWFkZXIuWF9DTElFTlRfVkVSU0lPTl06IHRoaXMuY2xpZW50VmVyc2lvblxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hcHAub3B0aW9ucy5hcHBJZCkge1xuICAgICAgaGVhZGVyc1tIdHRwSGVhZGVyLlhfRklSRUJBU0VfR01QSURdID0gdGhpcy5hcHAub3B0aW9ucy5hcHBJZDtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgaGVhcnRiZWF0IHNlcnZpY2UgZXhpc3RzLCBhZGQgdGhlIGhlYXJ0YmVhdCBzdHJpbmdcbiAgICBjb25zdCBoZWFydGJlYXRzSGVhZGVyID0gYXdhaXQgdGhpcy5oZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXJcbiAgICAgIC5nZXRJbW1lZGlhdGUoe1xuICAgICAgICBvcHRpb25hbDogdHJ1ZVxuICAgICAgfSlcbiAgICAgID8uZ2V0SGVhcnRiZWF0c0hlYWRlcigpO1xuICAgIGlmIChoZWFydGJlYXRzSGVhZGVyKSB7XG4gICAgICBoZWFkZXJzW0h0dHBIZWFkZXIuWF9GSVJFQkFTRV9DTElFTlRdID0gaGVhcnRiZWF0c0hlYWRlcjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgQXBwIENoZWNrIHNlcnZpY2UgZXhpc3RzLCBhZGQgdGhlIEFwcCBDaGVjayB0b2tlbiBpbiB0aGUgaGVhZGVyc1xuICAgIGNvbnN0IGFwcENoZWNrVG9rZW4gPSBhd2FpdCB0aGlzLl9nZXRBcHBDaGVja1Rva2VuKCk7XG4gICAgaWYgKGFwcENoZWNrVG9rZW4pIHtcbiAgICAgIGhlYWRlcnNbSHR0cEhlYWRlci5YX0ZJUkVCQVNFX0FQUF9DSEVDS10gPSBhcHBDaGVja1Rva2VuO1xuICAgIH1cblxuICAgIHJldHVybiBoZWFkZXJzO1xuICB9XG5cbiAgYXN5bmMgX2dldEFwcENoZWNrVG9rZW4oKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBhcHBDaGVja1Rva2VuUmVzdWx0ID0gYXdhaXQgdGhpcy5hcHBDaGVja1NlcnZpY2VQcm92aWRlclxuICAgICAgLmdldEltbWVkaWF0ZSh7IG9wdGlvbmFsOiB0cnVlIH0pXG4gICAgICA/LmdldFRva2VuKCk7XG4gICAgaWYgKGFwcENoZWNrVG9rZW5SZXN1bHQ/LmVycm9yKSB7XG4gICAgICAvLyBDb250ZXh0OiBhcHBDaGVjay5nZXRUb2tlbigpIHdpbGwgbmV2ZXIgdGhyb3cgZXZlbiBpZiBhbiBlcnJvciBoYXBwZW5lZC5cbiAgICAgIC8vIEluIHRoZSBlcnJvciBjYXNlLCBhIGR1bW15IHRva2VuIHdpbGwgYmUgcmV0dXJuZWQgYWxvbmcgd2l0aCBhbiBlcnJvciBmaWVsZCBkZXNjcmliaW5nXG4gICAgICAvLyB0aGUgZXJyb3IuIEluIGdlbmVyYWwsIHdlIHNob3VsZG4ndCBjYXJlIGFib3V0IHRoZSBlcnJvciBjb25kaXRpb24gYW5kIGp1c3QgdXNlXG4gICAgICAvLyB0aGUgdG9rZW4gKGFjdHVhbCBvciBkdW1teSkgdG8gc2VuZCByZXF1ZXN0cy5cbiAgICAgIF9sb2dXYXJuKFxuICAgICAgICBgRXJyb3Igd2hpbGUgcmV0cmlldmluZyBBcHAgQ2hlY2sgdG9rZW46ICR7YXBwQ2hlY2tUb2tlblJlc3VsdC5lcnJvcn1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gYXBwQ2hlY2tUb2tlblJlc3VsdD8udG9rZW47XG4gIH1cbn1cblxuLyoqXG4gKiBNZXRob2QgdG8gYmUgdXNlZCB0byBjYXN0IGRvd24gdG8gb3VyIHByaXZhdGUgaW1wbGVtZW50YXRpb24gb2YgQXV0aC5cbiAqIEl0IHdpbGwgYWxzbyBoYW5kbGUgdW53cmFwcGluZyBmcm9tIHRoZSBjb21wYXQgdHlwZSBpZiBuZWNlc3NhcnlcbiAqXG4gKiBAcGFyYW0gYXV0aCBBdXRoIG9iamVjdCBwYXNzZWQgaW4gZnJvbSBkZXZlbG9wZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jYXN0QXV0aChhdXRoOiBBdXRoKTogQXV0aEludGVybmFsIHtcbiAgcmV0dXJuIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKSBhcyBBdXRoSW50ZXJuYWw7XG59XG5cbi8qKiBIZWxwZXIgY2xhc3MgdG8gd3JhcCBzdWJzY3JpYmVyIGxvZ2ljICovXG5jbGFzcyBTdWJzY3JpcHRpb248VD4ge1xuICBwcml2YXRlIG9ic2VydmVyOiBPYnNlcnZlcjxUIHwgbnVsbD4gfCBudWxsID0gbnVsbDtcbiAgcmVhZG9ubHkgYWRkT2JzZXJ2ZXI6IFN1YnNjcmliZTxUIHwgbnVsbD4gPSBjcmVhdGVTdWJzY3JpYmUoXG4gICAgb2JzZXJ2ZXIgPT4gKHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcilcbiAgKTtcblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWwpIHt9XG5cbiAgZ2V0IG5leHQoKTogTmV4dEZuPFQgfCBudWxsPiB7XG4gICAgX2Fzc2VydCh0aGlzLm9ic2VydmVyLCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIHJldHVybiB0aGlzLm9ic2VydmVyLm5leHQuYmluZCh0aGlzLm9ic2VydmVyKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmludGVyZmFjZSBFeHRlcm5hbEpTUHJvdmlkZXIge1xuICBsb2FkSlModXJsOiBzdHJpbmcpOiBQcm9taXNlPEV2ZW50PjtcbiAgcmVjYXB0Y2hhVjJTY3JpcHQ6IHN0cmluZztcbiAgcmVjYXB0Y2hhRW50ZXJwcmlzZVNjcmlwdDogc3RyaW5nO1xuICBnYXBpU2NyaXB0OiBzdHJpbmc7XG59XG5cbmxldCBleHRlcm5hbEpTUHJvdmlkZXI6IEV4dGVybmFsSlNQcm92aWRlciA9IHtcbiAgYXN5bmMgbG9hZEpTKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGxvYWQgZXh0ZXJuYWwgc2NyaXB0cycpO1xuICB9LFxuXG4gIHJlY2FwdGNoYVYyU2NyaXB0OiAnJyxcbiAgcmVjYXB0Y2hhRW50ZXJwcmlzZVNjcmlwdDogJycsXG4gIGdhcGlTY3JpcHQ6ICcnXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX3NldEV4dGVybmFsSlNQcm92aWRlcihwOiBFeHRlcm5hbEpTUHJvdmlkZXIpOiB2b2lkIHtcbiAgZXh0ZXJuYWxKU1Byb3ZpZGVyID0gcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9sb2FkSlModXJsOiBzdHJpbmcpOiBQcm9taXNlPEV2ZW50PiB7XG4gIHJldHVybiBleHRlcm5hbEpTUHJvdmlkZXIubG9hZEpTKHVybCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcmVjYXB0Y2hhVjJTY3JpcHRVcmwoKTogc3RyaW5nIHtcbiAgcmV0dXJuIGV4dGVybmFsSlNQcm92aWRlci5yZWNhcHRjaGFWMlNjcmlwdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9yZWNhcHRjaGFFbnRlcnByaXNlU2NyaXB0VXJsKCk6IHN0cmluZyB7XG4gIHJldHVybiBleHRlcm5hbEpTUHJvdmlkZXIucmVjYXB0Y2hhRW50ZXJwcmlzZVNjcmlwdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9nYXBpU2NyaXB0VXJsKCk6IHN0cmluZyB7XG4gIHJldHVybiBleHRlcm5hbEpTUHJvdmlkZXIuZ2FwaVNjcmlwdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9nZW5lcmF0ZUNhbGxiYWNrTmFtZShwcmVmaXg6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBgX18ke3ByZWZpeH0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApfWA7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXJlcXVpcmUtaW1wb3J0cyAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgaXNFbnRlcnByaXNlLCBSZWNhcHRjaGFDb25maWcgfSBmcm9tICcuL3JlY2FwdGNoYSc7XG5pbXBvcnQgeyBnZXRSZWNhcHRjaGFDb25maWcgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vcmVjYXB0Y2hhJztcbmltcG9ydCB7XG4gIFJlY2FwdGNoYUNsaWVudFR5cGUsXG4gIFJlY2FwdGNoYVZlcnNpb24sXG4gIFJlY2FwdGNoYUFjdGlvbk5hbWUsXG4gIFJlY2FwdGNoYVByb3ZpZGVyXG59IGZyb20gJy4uLy4uL2FwaSc7XG5cbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi8uLi9jb3JlL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCAqIGFzIGpzSGVscGVycyBmcm9tICcuLi9sb2FkX2pzJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5cbmV4cG9ydCBjb25zdCBSRUNBUFRDSEFfRU5URVJQUklTRV9WRVJJRklFUl9UWVBFID0gJ3JlY2FwdGNoYS1lbnRlcnByaXNlJztcbmV4cG9ydCBjb25zdCBGQUtFX1RPS0VOID0gJ05PX1JFQ0FQVENIQSc7XG5cbmV4cG9ydCBjbGFzcyBSZWNhcHRjaGFFbnRlcnByaXNlVmVyaWZpZXIge1xuICAvKipcbiAgICogSWRlbnRpZmllcyB0aGUgdHlwZSBvZiBhcHBsaWNhdGlvbiB2ZXJpZmllciAoZS5nLiBcInJlY2FwdGNoYS1lbnRlcnByaXNlXCIpLlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZSA9IFJFQ0FQVENIQV9FTlRFUlBSSVNFX1ZFUklGSUVSX1RZUEU7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWw7XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBhdXRoRXh0ZXJuIC0gVGhlIGNvcnJlc3BvbmRpbmcgRmlyZWJhc2Uge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IoYXV0aEV4dGVybjogQXV0aCkge1xuICAgIHRoaXMuYXV0aCA9IF9jYXN0QXV0aChhdXRoRXh0ZXJuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgdmVyaWZpY2F0aW9uIHByb2Nlc3MuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgUHJvbWlzZSBmb3IgYSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGFzc2VydCB0aGUgdmFsaWRpdHkgb2YgYSByZXF1ZXN0LlxuICAgKi9cbiAgYXN5bmMgdmVyaWZ5KFxuICAgIGFjdGlvbjogc3RyaW5nID0gJ3ZlcmlmeScsXG4gICAgZm9yY2VSZWZyZXNoID0gZmFsc2VcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBhc3luYyBmdW5jdGlvbiByZXRyaWV2ZVNpdGVLZXkoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgIGlmICghZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgIGlmIChhdXRoLnRlbmFudElkID09IG51bGwgJiYgYXV0aC5fYWdlbnRSZWNhcHRjaGFDb25maWcgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBhdXRoLl9hZ2VudFJlY2FwdGNoYUNvbmZpZy5zaXRlS2V5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBhdXRoLnRlbmFudElkICE9IG51bGwgJiZcbiAgICAgICAgICBhdXRoLl90ZW5hbnRSZWNhcHRjaGFDb25maWdzW2F1dGgudGVuYW50SWRdICE9PSB1bmRlZmluZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGF1dGguX3RlbmFudFJlY2FwdGNoYUNvbmZpZ3NbYXV0aC50ZW5hbnRJZF0uc2l0ZUtleTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPihhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGdldFJlY2FwdGNoYUNvbmZpZyhhdXRoLCB7XG4gICAgICAgICAgY2xpZW50VHlwZTogUmVjYXB0Y2hhQ2xpZW50VHlwZS5XRUIsXG4gICAgICAgICAgdmVyc2lvbjogUmVjYXB0Y2hhVmVyc2lvbi5FTlRFUlBSSVNFXG4gICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlY2FwdGNoYUtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3JlY2FwdGNoYSBFbnRlcnByaXNlIHNpdGUga2V5IHVuZGVmaW5lZCcpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IG5ldyBSZWNhcHRjaGFDb25maWcocmVzcG9uc2UpO1xuICAgICAgICAgICAgICBpZiAoYXV0aC50ZW5hbnRJZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXV0aC5fYWdlbnRSZWNhcHRjaGFDb25maWcgPSBjb25maWc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXV0aC5fdGVuYW50UmVjYXB0Y2hhQ29uZmlnc1thdXRoLnRlbmFudElkXSA9IGNvbmZpZztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShjb25maWcuc2l0ZUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJldHJpZXZlUmVjYXB0Y2hhVG9rZW4oXG4gICAgICBzaXRlS2V5OiBzdHJpbmcsXG4gICAgICByZXNvbHZlOiAodmFsdWU6IHN0cmluZyB8IFByb21pc2VMaWtlPHN0cmluZz4pID0+IHZvaWQsXG4gICAgICByZWplY3Q6IChyZWFzb24/OiB1bmtub3duKSA9PiB2b2lkXG4gICAgKTogdm9pZCB7XG4gICAgICBjb25zdCBncmVjYXB0Y2hhID0gd2luZG93LmdyZWNhcHRjaGE7XG4gICAgICBpZiAoaXNFbnRlcnByaXNlKGdyZWNhcHRjaGEpKSB7XG4gICAgICAgIGdyZWNhcHRjaGEuZW50ZXJwcmlzZS5yZWFkeSgoKSA9PiB7XG4gICAgICAgICAgZ3JlY2FwdGNoYS5lbnRlcnByaXNlXG4gICAgICAgICAgICAuZXhlY3V0ZShzaXRlS2V5LCB7IGFjdGlvbiB9KVxuICAgICAgICAgICAgLnRoZW4odG9rZW4gPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKHRva2VuKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKEZBS0VfVE9LRU4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KEVycm9yKCdObyByZUNBUFRDSEEgZW50ZXJwcmlzZSBzY3JpcHQgbG9hZGVkLicpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXRyaWV2ZVNpdGVLZXkodGhpcy5hdXRoKVxuICAgICAgICAudGhlbihzaXRlS2V5ID0+IHtcbiAgICAgICAgICBpZiAoIWZvcmNlUmVmcmVzaCAmJiBpc0VudGVycHJpc2Uod2luZG93LmdyZWNhcHRjaGEpKSB7XG4gICAgICAgICAgICByZXRyaWV2ZVJlY2FwdGNoYVRva2VuKHNpdGVLZXksIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICAgICAgbmV3IEVycm9yKCdSZWNhcHRjaGFWZXJpZmllciBpcyBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyJylcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHVybCA9IGpzSGVscGVycy5fcmVjYXB0Y2hhRW50ZXJwcmlzZVNjcmlwdFVybCgpO1xuICAgICAgICAgICAgaWYgKHVybC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgdXJsICs9IHNpdGVLZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqc0hlbHBlcnNcbiAgICAgICAgICAgICAgLl9sb2FkSlModXJsKVxuICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0cmlldmVSZWNhcHRjaGFUb2tlbihzaXRlS2V5LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5qZWN0UmVjYXB0Y2hhRmllbGRzPFQ+KFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHJlcXVlc3Q6IFQsXG4gIGFjdGlvbjogUmVjYXB0Y2hhQWN0aW9uTmFtZSxcbiAgY2FwdGNoYVJlc3AgPSBmYWxzZVxuKTogUHJvbWlzZTxUPiB7XG4gIGNvbnN0IHZlcmlmaWVyID0gbmV3IFJlY2FwdGNoYUVudGVycHJpc2VWZXJpZmllcihhdXRoKTtcbiAgbGV0IGNhcHRjaGFSZXNwb25zZTtcbiAgdHJ5IHtcbiAgICBjYXB0Y2hhUmVzcG9uc2UgPSBhd2FpdCB2ZXJpZmllci52ZXJpZnkoYWN0aW9uKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjYXB0Y2hhUmVzcG9uc2UgPSBhd2FpdCB2ZXJpZmllci52ZXJpZnkoYWN0aW9uLCB0cnVlKTtcbiAgfVxuICBjb25zdCBuZXdSZXF1ZXN0ID0geyAuLi5yZXF1ZXN0IH07XG4gIGlmICghY2FwdGNoYVJlc3ApIHtcbiAgICBPYmplY3QuYXNzaWduKG5ld1JlcXVlc3QsIHsgY2FwdGNoYVJlc3BvbnNlIH0pO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdC5hc3NpZ24obmV3UmVxdWVzdCwgeyAnY2FwdGNoYVJlc3AnOiBjYXB0Y2hhUmVzcG9uc2UgfSk7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihuZXdSZXF1ZXN0LCB7ICdjbGllbnRUeXBlJzogUmVjYXB0Y2hhQ2xpZW50VHlwZS5XRUIgfSk7XG4gIE9iamVjdC5hc3NpZ24obmV3UmVxdWVzdCwge1xuICAgICdyZWNhcHRjaGFWZXJzaW9uJzogUmVjYXB0Y2hhVmVyc2lvbi5FTlRFUlBSSVNFXG4gIH0pO1xuICByZXR1cm4gbmV3UmVxdWVzdDtcbn1cblxudHlwZSBBY3Rpb25NZXRob2Q8VFJlcXVlc3QsIFRSZXNwb25zZT4gPSAoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFRSZXF1ZXN0XG4pID0+IFByb21pc2U8VFJlc3BvbnNlPjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlY2FwdGNoYUZsb3c8VFJlcXVlc3QsIFRSZXNwb25zZT4oXG4gIGF1dGhJbnN0YW5jZTogQXV0aEludGVybmFsLFxuICByZXF1ZXN0OiBUUmVxdWVzdCxcbiAgYWN0aW9uTmFtZTogUmVjYXB0Y2hhQWN0aW9uTmFtZSxcbiAgYWN0aW9uTWV0aG9kOiBBY3Rpb25NZXRob2Q8VFJlcXVlc3QsIFRSZXNwb25zZT5cbik6IFByb21pc2U8VFJlc3BvbnNlPiB7XG4gIGlmIChcbiAgICBhdXRoSW5zdGFuY2VcbiAgICAgIC5fZ2V0UmVjYXB0Y2hhQ29uZmlnKClcbiAgICAgID8uaXNQcm92aWRlckVuYWJsZWQoUmVjYXB0Y2hhUHJvdmlkZXIuRU1BSUxfUEFTU1dPUkRfUFJPVklERVIpXG4gICkge1xuICAgIGNvbnN0IHJlcXVlc3RXaXRoUmVjYXB0Y2hhID0gYXdhaXQgaW5qZWN0UmVjYXB0Y2hhRmllbGRzKFxuICAgICAgYXV0aEluc3RhbmNlLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGFjdGlvbk5hbWUsXG4gICAgICBhY3Rpb25OYW1lID09PSBSZWNhcHRjaGFBY3Rpb25OYW1lLkdFVF9PT0JfQ09ERVxuICAgICk7XG4gICAgcmV0dXJuIGFjdGlvbk1ldGhvZChhdXRoSW5zdGFuY2UsIHJlcXVlc3RXaXRoUmVjYXB0Y2hhKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYWN0aW9uTWV0aG9kKGF1dGhJbnN0YW5jZSwgcmVxdWVzdCkuY2F0Y2goYXN5bmMgZXJyb3IgPT4ge1xuICAgICAgaWYgKGVycm9yLmNvZGUgPT09IGBhdXRoLyR7QXV0aEVycm9yQ29kZS5NSVNTSU5HX1JFQ0FQVENIQV9UT0tFTn1gKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGAke2FjdGlvbk5hbWV9IGlzIHByb3RlY3RlZCBieSByZUNBUFRDSEEgRW50ZXJwcmlzZSBmb3IgdGhpcyBwcm9qZWN0LiBBdXRvbWF0aWNhbGx5IHRyaWdnZXJpbmcgdGhlIHJlQ0FQVENIQSBmbG93IGFuZCByZXN0YXJ0aW5nIHRoZSBmbG93LmBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdFdpdGhSZWNhcHRjaGEgPSBhd2FpdCBpbmplY3RSZWNhcHRjaGFGaWVsZHMoXG4gICAgICAgICAgYXV0aEluc3RhbmNlLFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgYWN0aW9uTmFtZSxcbiAgICAgICAgICBhY3Rpb25OYW1lID09PSBSZWNhcHRjaGFBY3Rpb25OYW1lLkdFVF9PT0JfQ09ERVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gYWN0aW9uTWV0aG9kKGF1dGhJbnN0YW5jZSwgcmVxdWVzdFdpdGhSZWNhcHRjaGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2luaXRpYWxpemVSZWNhcHRjaGFDb25maWcoYXV0aDogQXV0aCk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG5cbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRSZWNhcHRjaGFDb25maWcoYXV0aEludGVybmFsLCB7XG4gICAgY2xpZW50VHlwZTogUmVjYXB0Y2hhQ2xpZW50VHlwZS5XRUIsXG4gICAgdmVyc2lvbjogUmVjYXB0Y2hhVmVyc2lvbi5FTlRFUlBSSVNFXG4gIH0pO1xuXG4gIGNvbnN0IGNvbmZpZyA9IG5ldyBSZWNhcHRjaGFDb25maWcocmVzcG9uc2UpO1xuICBpZiAoYXV0aEludGVybmFsLnRlbmFudElkID09IG51bGwpIHtcbiAgICBhdXRoSW50ZXJuYWwuX2FnZW50UmVjYXB0Y2hhQ29uZmlnID0gY29uZmlnO1xuICB9IGVsc2Uge1xuICAgIGF1dGhJbnRlcm5hbC5fdGVuYW50UmVjYXB0Y2hhQ29uZmlnc1thdXRoSW50ZXJuYWwudGVuYW50SWRdID0gY29uZmlnO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5pc1Byb3ZpZGVyRW5hYmxlZChSZWNhcHRjaGFQcm92aWRlci5FTUFJTF9QQVNTV09SRF9QUk9WSURFUikpIHtcbiAgICBjb25zdCB2ZXJpZmllciA9IG5ldyBSZWNhcHRjaGFFbnRlcnByaXNlVmVyaWZpZXIoYXV0aEludGVybmFsKTtcbiAgICB2b2lkIHZlcmlmaWVyLnZlcmlmeSgpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgX2dldFByb3ZpZGVyLCBGaXJlYmFzZUFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgZGVlcEVxdWFsIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgQXV0aCwgRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBQZXJzaXN0ZW5jZUludGVybmFsIH0gZnJvbSAnLi4vcGVyc2lzdGVuY2UnO1xuaW1wb3J0IHsgX2ZhaWwgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfZ2V0SW5zdGFuY2UgfSBmcm9tICcuLi91dGlsL2luc3RhbnRpYXRvcic7XG5pbXBvcnQgeyBBdXRoSW1wbCB9IGZyb20gJy4vYXV0aF9pbXBsJztcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbiB7QGxpbmsgQXV0aH0gaW5zdGFuY2Ugd2l0aCBmaW5lLWdyYWluZWQgY29udHJvbCBvdmVyXG4gKiB7QGxpbmsgRGVwZW5kZW5jaWVzfS5cbiAqXG4gKiBAcmVtYXJrc1xuICpcbiAqIFRoaXMgZnVuY3Rpb24gYWxsb3dzIG1vcmUgY29udHJvbCBvdmVyIHRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UgdGhhblxuICoge0BsaW5rIGdldEF1dGh9LiBgZ2V0QXV0aGAgdXNlcyBwbGF0Zm9ybS1zcGVjaWZpYyBkZWZhdWx0cyB0byBzdXBwbHlcbiAqIHRoZSB7QGxpbmsgRGVwZW5kZW5jaWVzfS4gSW4gZ2VuZXJhbCwgYGdldEF1dGhgIGlzIHRoZSBlYXNpZXN0IHdheSB0b1xuICogaW5pdGlhbGl6ZSBBdXRoIGFuZCB3b3JrcyBmb3IgbW9zdCB1c2UgY2FzZXMuIFVzZSBgaW5pdGlhbGl6ZUF1dGhgIGlmIHlvdVxuICogbmVlZCBjb250cm9sIG92ZXIgd2hpY2ggcGVyc2lzdGVuY2UgbGF5ZXIgaXMgdXNlZCwgb3IgdG8gbWluaW1pemUgYnVuZGxlXG4gKiBzaXplIGlmIHlvdSdyZSBub3QgdXNpbmcgZWl0aGVyIGBzaWduSW5XaXRoUG9wdXBgIG9yIGBzaWduSW5XaXRoUmVkaXJlY3RgLlxuICpcbiAqIEZvciBleGFtcGxlLCBpZiB5b3VyIGFwcCBvbmx5IHVzZXMgYW5vbnltb3VzIGFjY291bnRzIGFuZCB5b3Ugb25seSB3YW50XG4gKiBhY2NvdW50cyBzYXZlZCBmb3IgdGhlIGN1cnJlbnQgc2Vzc2lvbiwgaW5pdGlhbGl6ZSBgQXV0aGAgd2l0aDpcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgYXV0aCA9IGluaXRpYWxpemVBdXRoKGFwcCwge1xuICogICBwZXJzaXN0ZW5jZTogYnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZSxcbiAqICAgcG9wdXBSZWRpcmVjdFJlc29sdmVyOiB1bmRlZmluZWQsXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVBdXRoKGFwcDogRmlyZWJhc2VBcHAsIGRlcHM/OiBEZXBlbmRlbmNpZXMpOiBBdXRoIHtcbiAgY29uc3QgcHJvdmlkZXIgPSBfZ2V0UHJvdmlkZXIoYXBwLCAnYXV0aCcpO1xuXG4gIGlmIChwcm92aWRlci5pc0luaXRpYWxpemVkKCkpIHtcbiAgICBjb25zdCBhdXRoID0gcHJvdmlkZXIuZ2V0SW1tZWRpYXRlKCkgYXMgQXV0aEltcGw7XG4gICAgY29uc3QgaW5pdGlhbE9wdGlvbnMgPSBwcm92aWRlci5nZXRPcHRpb25zKCkgYXMgRGVwZW5kZW5jaWVzO1xuICAgIGlmIChkZWVwRXF1YWwoaW5pdGlhbE9wdGlvbnMsIGRlcHMgPz8ge30pKSB7XG4gICAgICByZXR1cm4gYXV0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBhdXRoID0gcHJvdmlkZXIuaW5pdGlhbGl6ZSh7IG9wdGlvbnM6IGRlcHMgfSkgYXMgQXV0aEltcGw7XG5cbiAgcmV0dXJuIGF1dGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaW5pdGlhbGl6ZUF1dGhJbnN0YW5jZShcbiAgYXV0aDogQXV0aEltcGwsXG4gIGRlcHM/OiBEZXBlbmRlbmNpZXNcbik6IHZvaWQge1xuICBjb25zdCBwZXJzaXN0ZW5jZSA9IGRlcHM/LnBlcnNpc3RlbmNlIHx8IFtdO1xuICBjb25zdCBoaWVyYXJjaHkgPSAoXG4gICAgQXJyYXkuaXNBcnJheShwZXJzaXN0ZW5jZSkgPyBwZXJzaXN0ZW5jZSA6IFtwZXJzaXN0ZW5jZV1cbiAgKS5tYXA8UGVyc2lzdGVuY2VJbnRlcm5hbD4oX2dldEluc3RhbmNlKTtcbiAgaWYgKGRlcHM/LmVycm9yTWFwKSB7XG4gICAgYXV0aC5fdXBkYXRlRXJyb3JNYXAoZGVwcy5lcnJvck1hcCk7XG4gIH1cblxuICAvLyBUaGlzIHByb21pc2UgaXMgaW50ZW5kZWQgdG8gZmxvYXQ7IGF1dGggaW5pdGlhbGl6YXRpb24gaGFwcGVucyBpbiB0aGVcbiAgLy8gYmFja2dyb3VuZCwgbWVhbndoaWxlIHRoZSBhdXRoIG9iamVjdCBtYXkgYmUgdXNlZCBieSB0aGUgYXBwLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gIGF1dGguX2luaXRpYWxpemVXaXRoUGVyc2lzdGVuY2UoaGllcmFyY2h5LCBkZXBzPy5wb3B1cFJlZGlyZWN0UmVzb2x2ZXIpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4vYXV0aF9pbXBsJztcblxuLyoqXG4gKiBDaGFuZ2VzIHRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UgdG8gY29tbXVuaWNhdGUgd2l0aCB0aGUgRmlyZWJhc2UgQXV0aCBFbXVsYXRvciwgaW5zdGVhZCBvZiBwcm9kdWN0aW9uXG4gKiBGaXJlYmFzZSBBdXRoIHNlcnZpY2VzLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIG11c3QgYmUgY2FsbGVkIHN5bmNocm9ub3VzbHkgaW1tZWRpYXRlbHkgZm9sbG93aW5nIHRoZSBmaXJzdCBjYWxsIHRvXG4gKiB7QGxpbmsgaW5pdGlhbGl6ZUF1dGh9LiAgRG8gbm90IHVzZSB3aXRoIHByb2R1Y3Rpb24gY3JlZGVudGlhbHMgYXMgZW11bGF0b3JcbiAqIHRyYWZmaWMgaXMgbm90IGVuY3J5cHRlZC5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbm5lY3RBdXRoRW11bGF0b3IoYXV0aCwgJ2h0dHA6Ly8xMjcuMC4wLjE6OTA5OScsIHsgZGlzYWJsZVdhcm5pbmdzOiB0cnVlIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIHVybCAtIFRoZSBVUkwgYXQgd2hpY2ggdGhlIGVtdWxhdG9yIGlzIHJ1bm5pbmcgKGVnLCAnaHR0cDovL2xvY2FsaG9zdDo5MDk5JykuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsLiBgb3B0aW9ucy5kaXNhYmxlV2FybmluZ3NgIGRlZmF1bHRzIHRvIGBmYWxzZWAuIFNldCBpdCB0b1xuICogYHRydWVgIHRvIGRpc2FibGUgdGhlIHdhcm5pbmcgYmFubmVyIGF0dGFjaGVkIHRvIHRoZSBET00uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdEF1dGhFbXVsYXRvcihcbiAgYXV0aDogQXV0aCxcbiAgdXJsOiBzdHJpbmcsXG4gIG9wdGlvbnM/OiB7IGRpc2FibGVXYXJuaW5nczogYm9vbGVhbiB9XG4pOiB2b2lkIHtcbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBfYXNzZXJ0KFxuICAgIGF1dGhJbnRlcm5hbC5fY2FuSW5pdEVtdWxhdG9yLFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICBBdXRoRXJyb3JDb2RlLkVNVUxBVE9SX0NPTkZJR19GQUlMRURcbiAgKTtcblxuICBfYXNzZXJ0KFxuICAgIC9eaHR0cHM/OlxcL1xcLy8udGVzdCh1cmwpLFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICBBdXRoRXJyb3JDb2RlLklOVkFMSURfRU1VTEFUT1JfU0NIRU1FXG4gICk7XG5cbiAgY29uc3QgZGlzYWJsZVdhcm5pbmdzID0gISFvcHRpb25zPy5kaXNhYmxlV2FybmluZ3M7XG5cbiAgY29uc3QgcHJvdG9jb2wgPSBleHRyYWN0UHJvdG9jb2wodXJsKTtcbiAgY29uc3QgeyBob3N0LCBwb3J0IH0gPSBleHRyYWN0SG9zdEFuZFBvcnQodXJsKTtcbiAgY29uc3QgcG9ydFN0ciA9IHBvcnQgPT09IG51bGwgPyAnJyA6IGA6JHtwb3J0fWA7XG5cbiAgLy8gQWx3YXlzIHJlcGxhY2UgcGF0aCB3aXRoIFwiL1wiIChldmVuIGlmIGlucHV0IHVybCBoYWQgbm8gcGF0aCBhdCBhbGwsIG9yIGhhZCBhIGRpZmZlcmVudCBvbmUpLlxuICBhdXRoSW50ZXJuYWwuY29uZmlnLmVtdWxhdG9yID0geyB1cmw6IGAke3Byb3RvY29sfS8vJHtob3N0fSR7cG9ydFN0cn0vYCB9O1xuICBhdXRoSW50ZXJuYWwuc2V0dGluZ3MuYXBwVmVyaWZpY2F0aW9uRGlzYWJsZWRGb3JUZXN0aW5nID0gdHJ1ZTtcbiAgYXV0aEludGVybmFsLmVtdWxhdG9yQ29uZmlnID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgaG9zdCxcbiAgICBwb3J0LFxuICAgIHByb3RvY29sOiBwcm90b2NvbC5yZXBsYWNlKCc6JywgJycpLFxuICAgIG9wdGlvbnM6IE9iamVjdC5mcmVlemUoeyBkaXNhYmxlV2FybmluZ3MgfSlcbiAgfSk7XG5cbiAgaWYgKCFkaXNhYmxlV2FybmluZ3MpIHtcbiAgICBlbWl0RW11bGF0b3JXYXJuaW5nKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0cmFjdFByb3RvY29sKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcHJvdG9jb2xFbmQgPSB1cmwuaW5kZXhPZignOicpO1xuICByZXR1cm4gcHJvdG9jb2xFbmQgPCAwID8gJycgOiB1cmwuc3Vic3RyKDAsIHByb3RvY29sRW5kICsgMSk7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RIb3N0QW5kUG9ydCh1cmw6IHN0cmluZyk6IHtcbiAgaG9zdDogc3RyaW5nO1xuICBwb3J0OiBudW1iZXIgfCBudWxsO1xufSB7XG4gIGNvbnN0IHByb3RvY29sID0gZXh0cmFjdFByb3RvY29sKHVybCk7XG4gIGNvbnN0IGF1dGhvcml0eSA9IC8oXFwvXFwvKT8oW14/Iy9dKykvLmV4ZWModXJsLnN1YnN0cihwcm90b2NvbC5sZW5ndGgpKTsgLy8gQmV0d2VlbiAvLyBhbmQgLywgPyBvciAjLlxuICBpZiAoIWF1dGhvcml0eSkge1xuICAgIHJldHVybiB7IGhvc3Q6ICcnLCBwb3J0OiBudWxsIH07XG4gIH1cbiAgY29uc3QgaG9zdEFuZFBvcnQgPSBhdXRob3JpdHlbMl0uc3BsaXQoJ0AnKS5wb3AoKSB8fCAnJzsgLy8gU3RyaXAgb3V0IFwidXNlcm5hbWU6cGFzc3dvcmRAXCIuXG4gIGNvbnN0IGJyYWNrZXRlZElQdjYgPSAvXihcXFtbXlxcXV0rXFxdKSg6fCQpLy5leGVjKGhvc3RBbmRQb3J0KTtcbiAgaWYgKGJyYWNrZXRlZElQdjYpIHtcbiAgICBjb25zdCBob3N0ID0gYnJhY2tldGVkSVB2NlsxXTtcbiAgICByZXR1cm4geyBob3N0LCBwb3J0OiBwYXJzZVBvcnQoaG9zdEFuZFBvcnQuc3Vic3RyKGhvc3QubGVuZ3RoICsgMSkpIH07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgW2hvc3QsIHBvcnRdID0gaG9zdEFuZFBvcnQuc3BsaXQoJzonKTtcbiAgICByZXR1cm4geyBob3N0LCBwb3J0OiBwYXJzZVBvcnQocG9ydCkgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZVBvcnQocG9ydFN0cjogc3RyaW5nKTogbnVtYmVyIHwgbnVsbCB7XG4gIGlmICghcG9ydFN0cikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHBvcnQgPSBOdW1iZXIocG9ydFN0cik7XG4gIGlmIChpc05hTihwb3J0KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBwb3J0O1xufVxuXG5mdW5jdGlvbiBlbWl0RW11bGF0b3JXYXJuaW5nKCk6IHZvaWQge1xuICBmdW5jdGlvbiBhdHRhY2hCYW5uZXIoKTogdm9pZCB7XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3Qgc3R5ID0gZWwuc3R5bGU7XG4gICAgZWwuaW5uZXJUZXh0ID1cbiAgICAgICdSdW5uaW5nIGluIGVtdWxhdG9yIG1vZGUuIERvIG5vdCB1c2Ugd2l0aCBwcm9kdWN0aW9uIGNyZWRlbnRpYWxzLic7XG4gICAgc3R5LnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICBzdHkud2lkdGggPSAnMTAwJSc7XG4gICAgc3R5LmJhY2tncm91bmRDb2xvciA9ICcjZmZmZmZmJztcbiAgICBzdHkuYm9yZGVyID0gJy4xZW0gc29saWQgIzAwMDAwMCc7XG4gICAgc3R5LmNvbG9yID0gJyNiNTAwMDAnO1xuICAgIHN0eS5ib3R0b20gPSAnMHB4JztcbiAgICBzdHkubGVmdCA9ICcwcHgnO1xuICAgIHN0eS5tYXJnaW4gPSAnMHB4JztcbiAgICBzdHkuekluZGV4ID0gJzEwMDAwJztcbiAgICBzdHkudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnZmlyZWJhc2UtZW11bGF0b3Itd2FybmluZycpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5pbmZvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5pbmZvKFxuICAgICAgJ1dBUk5JTkc6IFlvdSBhcmUgdXNpbmcgdGhlIEF1dGggRW11bGF0b3IsJyArXG4gICAgICAgICcgd2hpY2ggaXMgaW50ZW5kZWQgZm9yIGxvY2FsIHRlc3Rpbmcgb25seS4gIERvIG5vdCB1c2Ugd2l0aCcgK1xuICAgICAgICAnIHByb2R1Y3Rpb24gY3JlZGVudGlhbHMuJ1xuICAgICk7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGF0dGFjaEJhbm5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF0dGFjaEJhbm5lcigpO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgZGVidWdGYWlsIH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuXG4vKipcbiAqIEludGVyZmFjZSB0aGF0IHJlcHJlc2VudHMgdGhlIGNyZWRlbnRpYWxzIHJldHVybmVkIGJ5IGFuIHtAbGluayBBdXRoUHJvdmlkZXJ9LlxuICpcbiAqIEByZW1hcmtzXG4gKiBJbXBsZW1lbnRhdGlvbnMgc3BlY2lmeSB0aGUgZGV0YWlscyBhYm91dCBlYWNoIGF1dGggcHJvdmlkZXIncyBjcmVkZW50aWFsIHJlcXVpcmVtZW50cy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBBdXRoQ3JlZGVudGlhbCB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBhdXRoZW50aWNhdGlvbiBwcm92aWRlciBJRCBmb3IgdGhlIGNyZWRlbnRpYWwuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIEZvciBleGFtcGxlLCAnZmFjZWJvb2suY29tJywgb3IgJ2dvb2dsZS5jb20nLlxuICAgICAqL1xuICAgIHJlYWRvbmx5IHByb3ZpZGVySWQ6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBUaGUgYXV0aGVudGljYXRpb24gc2lnbiBpbiBtZXRob2QgZm9yIHRoZSBjcmVkZW50aWFsLlxuICAgICAqXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBGb3IgZXhhbXBsZSwge0BsaW5rIFNpZ25Jbk1ldGhvZH0uRU1BSUxfUEFTU1dPUkQsIG9yXG4gICAgICoge0BsaW5rIFNpZ25Jbk1ldGhvZH0uRU1BSUxfTElOSy4gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgc2lnbi1pbiBtZXRob2RcbiAgICAgKiBpZGVudGlmaWVyIGFzIHJldHVybmVkIGluIHtAbGluayBmZXRjaFNpZ25Jbk1ldGhvZHNGb3JFbWFpbH0uXG4gICAgICovXG4gICAgcmVhZG9ubHkgc2lnbkluTWV0aG9kOiBzdHJpbmdcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG4gICAqXG4gICAqIEByZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG4gICAqL1xuICB0b0pTT04oKTogb2JqZWN0IHtcbiAgICByZXR1cm4gZGVidWdGYWlsKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2dldElkVG9rZW5SZXNwb25zZShfYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIGRlYnVnRmFpbCgnbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbGlua1RvSWRUb2tlbihcbiAgICBfYXV0aDogQXV0aEludGVybmFsLFxuICAgIF9pZFRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gZGVidWdGYWlsKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIF9nZXRSZWF1dGhlbnRpY2F0aW9uUmVzb2x2ZXIoX2F1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIGRlYnVnRmFpbCgnbm90IGltcGxlbWVudGVkJyk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBY3Rpb25Db2RlT3BlcmF0aW9uLCBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHtcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeSxcbiAgX3BlcmZvcm1BcGlSZXF1ZXN0XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IE1mYUVucm9sbG1lbnQgfSBmcm9tICcuL21mYSc7XG5pbXBvcnQgeyBTaWduVXBSZXF1ZXN0LCBTaWduVXBSZXNwb25zZSB9IGZyb20gJy4uL2F1dGhlbnRpY2F0aW9uL3NpZ25fdXAnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc2V0UGFzc3dvcmRSZXF1ZXN0IHtcbiAgb29iQ29kZTogc3RyaW5nO1xuICBuZXdQYXNzd29yZD86IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzZXRQYXNzd29yZFJlc3BvbnNlIHtcbiAgZW1haWw6IHN0cmluZztcbiAgbmV3RW1haWw/OiBzdHJpbmc7XG4gIHJlcXVlc3RUeXBlPzogQWN0aW9uQ29kZU9wZXJhdGlvbjtcbiAgbWZhSW5mbz86IE1mYUVucm9sbG1lbnQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNldFBhc3N3b3JkKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBSZXNldFBhc3N3b3JkUmVxdWVzdFxuKTogUHJvbWlzZTxSZXNldFBhc3N3b3JkUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxSZXNldFBhc3N3b3JkUmVxdWVzdCwgUmVzZXRQYXNzd29yZFJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5SRVNFVF9QQVNTV09SRCxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlRW1haWxQYXNzd29yZFJlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIHJldHVyblNlY3VyZVRva2VuPzogYm9vbGVhbjtcbiAgZW1haWw/OiBzdHJpbmc7XG4gIHBhc3N3b3JkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUVtYWlsUGFzc3dvcmRSZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7fVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRW1haWxQYXNzd29yZChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogVXBkYXRlRW1haWxQYXNzd29yZFJlcXVlc3Rcbik6IFByb21pc2U8VXBkYXRlRW1haWxQYXNzd29yZFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgVXBkYXRlRW1haWxQYXNzd29yZFJlcXVlc3QsXG4gICAgVXBkYXRlRW1haWxQYXNzd29yZFJlc3BvbnNlXG4gID4oYXV0aCwgSHR0cE1ldGhvZC5QT1NULCBFbmRwb2ludC5TRVRfQUNDT1VOVF9JTkZPLCByZXF1ZXN0KTtcbn1cblxuLy8gVXNlZCBmb3IgbGlua2luZyBhbiBlbWFpbC9wYXNzd29yZCBhY2NvdW50IHRvIGFuIGV4aXN0aW5nIGlkVG9rZW4uIFVzZXMgdGhlIHNhbWUgcmVxdWVzdC9yZXNwb25zZVxuLy8gZm9ybWF0IGFzIHVwZGF0ZUVtYWlsUGFzc3dvcmQuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlua0VtYWlsUGFzc3dvcmQoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNpZ25VcFJlcXVlc3Rcbik6IFByb21pc2U8U2lnblVwUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxTaWduVXBSZXF1ZXN0LCBTaWduVXBSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9VUCxcbiAgICByZXF1ZXN0XG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBwbHlBY3Rpb25Db2RlUmVxdWVzdCB7XG4gIG9vYkNvZGU6IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBwbHlBY3Rpb25Db2RlUmVzcG9uc2Uge31cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcGx5QWN0aW9uQ29kZShcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogQXBwbHlBY3Rpb25Db2RlUmVxdWVzdFxuKTogUHJvbWlzZTxBcHBseUFjdGlvbkNvZGVSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PEFwcGx5QWN0aW9uQ29kZVJlcXVlc3QsIEFwcGx5QWN0aW9uQ29kZVJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TRVRfQUNDT1VOVF9JTkZPLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFjdGlvbkNvZGVPcGVyYXRpb24sIEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQge1xuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgUmVjYXB0Y2hhQ2xpZW50VHlwZSxcbiAgUmVjYXB0Y2hhVmVyc2lvbixcbiAgX2FkZFRpZElmTmVjZXNzYXJ5LFxuICBfcGVyZm9ybUFwaVJlcXVlc3QsXG4gIF9wZXJmb3JtU2lnbkluUmVxdWVzdFxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBJZFRva2VuLCBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aFBhc3N3b3JkUmVxdWVzdCB7XG4gIHJldHVyblNlY3VyZVRva2VuPzogYm9vbGVhbjtcbiAgZW1haWw6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG4gIGNhcHRjaGFSZXNwb25zZT86IHN0cmluZztcbiAgY2xpZW50VHlwZT86IFJlY2FwdGNoYUNsaWVudFR5cGU7XG4gIHJlY2FwdGNoYVZlcnNpb24/OiBSZWNhcHRjaGFWZXJzaW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhQYXNzd29yZFJlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHtcbiAgZW1haWw6IHN0cmluZztcbiAgZGlzcGxheU5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhQYXNzd29yZChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2lnbkluV2l0aFBhc3N3b3JkUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduSW5XaXRoUGFzc3dvcmRSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFxuICAgIFNpZ25JbldpdGhQYXNzd29yZFJlcXVlc3QsXG4gICAgU2lnbkluV2l0aFBhc3N3b3JkUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX0lOX1dJVEhfUEFTU1dPUkQsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0T29iQ29kZVJlcXVlc3Qge1xuICBlbWFpbD86IHN0cmluZzsgLy8gRXZlcnl0aGluZyBleGNlcHQgVkVSSUZZX0FORF9DSEFOR0VfRU1BSUxcbiAgY29udGludWVVcmw/OiBzdHJpbmc7XG4gIGlPU0J1bmRsZUlkPzogc3RyaW5nO1xuICBpb3NBcHBTdG9yZUlkPzogc3RyaW5nO1xuICBhbmRyb2lkUGFja2FnZU5hbWU/OiBzdHJpbmc7XG4gIGFuZHJvaWRJbnN0YWxsQXBwPzogYm9vbGVhbjtcbiAgYW5kcm9pZE1pbmltdW1WZXJzaW9uQ29kZT86IHN0cmluZztcbiAgY2FuSGFuZGxlQ29kZUluQXBwPzogYm9vbGVhbjtcbiAgZHluYW1pY0xpbmtEb21haW4/OiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xuICB0YXJnZXRQcm9qZWN0aWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZ5RW1haWxSZXF1ZXN0IGV4dGVuZHMgR2V0T29iQ29kZVJlcXVlc3Qge1xuICByZXF1ZXN0VHlwZTogQWN0aW9uQ29kZU9wZXJhdGlvbi5WRVJJRllfRU1BSUw7XG4gIGlkVG9rZW46IElkVG9rZW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFzc3dvcmRSZXNldFJlcXVlc3QgZXh0ZW5kcyBHZXRPb2JDb2RlUmVxdWVzdCB7XG4gIHJlcXVlc3RUeXBlOiBBY3Rpb25Db2RlT3BlcmF0aW9uLlBBU1NXT1JEX1JFU0VUO1xuICBlbWFpbDogc3RyaW5nO1xuICBjYXB0Y2hhUmVzcD86IHN0cmluZztcbiAgY2xpZW50VHlwZT86IFJlY2FwdGNoYUNsaWVudFR5cGU7XG4gIHJlY2FwdGNoYVZlcnNpb24/OiBSZWNhcHRjaGFWZXJzaW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVtYWlsU2lnbkluUmVxdWVzdCBleHRlbmRzIEdldE9vYkNvZGVSZXF1ZXN0IHtcbiAgcmVxdWVzdFR5cGU6IEFjdGlvbkNvZGVPcGVyYXRpb24uRU1BSUxfU0lHTklOO1xuICBlbWFpbDogc3RyaW5nO1xuICBjYXB0Y2hhUmVzcD86IHN0cmluZztcbiAgY2xpZW50VHlwZT86IFJlY2FwdGNoYUNsaWVudFR5cGU7XG4gIHJlY2FwdGNoYVZlcnNpb24/OiBSZWNhcHRjaGFWZXJzaW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmeUFuZENoYW5nZUVtYWlsUmVxdWVzdCBleHRlbmRzIEdldE9vYkNvZGVSZXF1ZXN0IHtcbiAgcmVxdWVzdFR5cGU6IEFjdGlvbkNvZGVPcGVyYXRpb24uVkVSSUZZX0FORF9DSEFOR0VfRU1BSUw7XG4gIGlkVG9rZW46IElkVG9rZW47XG4gIG5ld0VtYWlsOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBHZXRPb2JDb2RlUmVzcG9uc2Uge1xuICBlbWFpbDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlcmlmeUVtYWlsUmVzcG9uc2UgZXh0ZW5kcyBHZXRPb2JDb2RlUmVzcG9uc2Uge31cbmV4cG9ydCBpbnRlcmZhY2UgUGFzc3dvcmRSZXNldFJlc3BvbnNlIGV4dGVuZHMgR2V0T29iQ29kZVJlc3BvbnNlIHt9XG5leHBvcnQgaW50ZXJmYWNlIEVtYWlsU2lnbkluUmVzcG9uc2UgZXh0ZW5kcyBHZXRPb2JDb2RlUmVzcG9uc2Uge31cbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZ5QW5kQ2hhbmdlRW1haWxSZXNwb25zZSBleHRlbmRzIEdldE9vYkNvZGVSZXF1ZXN0IHt9XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRPb2JDb2RlKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBHZXRPb2JDb2RlUmVxdWVzdFxuKTogUHJvbWlzZTxHZXRPb2JDb2RlUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxHZXRPb2JDb2RlUmVxdWVzdCwgR2V0T29iQ29kZVJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TRU5EX09PQl9DT0RFLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsVmVyaWZpY2F0aW9uKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBWZXJpZnlFbWFpbFJlcXVlc3Rcbik6IFByb21pc2U8VmVyaWZ5RW1haWxSZXNwb25zZT4ge1xuICByZXR1cm4gc2VuZE9vYkNvZGUoYXV0aCwgcmVxdWVzdCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBQYXNzd29yZFJlc2V0UmVxdWVzdFxuKTogUHJvbWlzZTxQYXNzd29yZFJlc2V0UmVzcG9uc2U+IHtcbiAgcmV0dXJuIHNlbmRPb2JDb2RlKGF1dGgsIHJlcXVlc3QpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFNpZ25JbkxpbmtUb0VtYWlsKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBFbWFpbFNpZ25JblJlcXVlc3Rcbik6IFByb21pc2U8RW1haWxTaWduSW5SZXNwb25zZT4ge1xuICByZXR1cm4gc2VuZE9vYkNvZGUoYXV0aCwgcmVxdWVzdCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlBbmRDaGFuZ2VFbWFpbChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogVmVyaWZ5QW5kQ2hhbmdlRW1haWxSZXF1ZXN0XG4pOiBQcm9taXNlPFZlcmlmeUFuZENoYW5nZUVtYWlsUmVzcG9uc2U+IHtcbiAgcmV0dXJuIHNlbmRPb2JDb2RlKGF1dGgsIHJlcXVlc3QpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIF9wZXJmb3JtU2lnbkluUmVxdWVzdCxcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeVxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoRW1haWxMaW5rUmVxdWVzdCB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIG9vYkNvZGU6IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aEVtYWlsTGlua1Jlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHtcbiAgZW1haWw6IHN0cmluZztcbiAgaXNOZXdVc2VyOiBib29sZWFuO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aEVtYWlsTGluayhcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2lnbkluV2l0aEVtYWlsTGlua1JlcXVlc3Rcbik6IFByb21pc2U8U2lnbkluV2l0aEVtYWlsTGlua1Jlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8XG4gICAgU2lnbkluV2l0aEVtYWlsTGlua1JlcXVlc3QsXG4gICAgU2lnbkluV2l0aEVtYWlsTGlua1Jlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9JTl9XSVRIX0VNQUlMX0xJTkssXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aEVtYWlsTGlua0ZvckxpbmtpbmdSZXF1ZXN0XG4gIGV4dGVuZHMgU2lnbkluV2l0aEVtYWlsTGlua1JlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoRW1haWxMaW5rRm9yTGlua2luZyhcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2lnbkluV2l0aEVtYWlsTGlua0ZvckxpbmtpbmdSZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25JbldpdGhFbWFpbExpbmtSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFxuICAgIFNpZ25JbldpdGhFbWFpbExpbmtGb3JMaW5raW5nUmVxdWVzdCxcbiAgICBTaWduSW5XaXRoRW1haWxMaW5rUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX0lOX1dJVEhfRU1BSUxfTElOSyxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQcm92aWRlcklkLCBTaWduSW5NZXRob2QgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbmltcG9ydCB7IGxpbmtFbWFpbFBhc3N3b3JkIH0gZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9lbWFpbF9hbmRfcGFzc3dvcmQnO1xuaW1wb3J0IHtcbiAgc2lnbkluV2l0aFBhc3N3b3JkLFxuICBTaWduSW5XaXRoUGFzc3dvcmRSZXF1ZXN0XG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9lbWFpbF9hbmRfcGFzc3dvcmQnO1xuaW1wb3J0IHtcbiAgc2lnbkluV2l0aEVtYWlsTGluayxcbiAgc2lnbkluV2l0aEVtYWlsTGlua0Zvckxpbmtpbmdcbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2VtYWlsX2xpbmsnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9mYWlsIH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuL2F1dGhfY3JlZGVudGlhbCc7XG5pbXBvcnQgeyBoYW5kbGVSZWNhcHRjaGFGbG93IH0gZnJvbSAnLi4vLi4vcGxhdGZvcm1fYnJvd3Nlci9yZWNhcHRjaGEvcmVjYXB0Y2hhX2VudGVycHJpc2VfdmVyaWZpZXInO1xuaW1wb3J0IHsgUmVjYXB0Y2hhQWN0aW9uTmFtZSwgUmVjYXB0Y2hhQ2xpZW50VHlwZSB9IGZyb20gJy4uLy4uL2FwaSc7XG5pbXBvcnQgeyBTaWduVXBSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3NpZ25fdXAnO1xuLyoqXG4gKiBJbnRlcmZhY2UgdGhhdCByZXByZXNlbnRzIHRoZSBjcmVkZW50aWFscyByZXR1cm5lZCBieSB7QGxpbmsgRW1haWxBdXRoUHJvdmlkZXJ9IGZvclxuICoge0BsaW5rIFByb3ZpZGVySWR9LlBBU1NXT1JEXG4gKlxuICogQHJlbWFya3NcbiAqIENvdmVycyBib3RoIHtAbGluayBTaWduSW5NZXRob2R9LkVNQUlMX1BBU1NXT1JEIGFuZFxuICoge0BsaW5rIFNpZ25Jbk1ldGhvZH0uRU1BSUxfTElOSy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWFpbEF1dGhDcmVkZW50aWFsIGV4dGVuZHMgQXV0aENyZWRlbnRpYWwge1xuICAvKiogQGludGVybmFsICovXG4gIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJlYWRvbmx5IF9lbWFpbDogc3RyaW5nLFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICByZWFkb25seSBfcGFzc3dvcmQ6IHN0cmluZyxcbiAgICBzaWduSW5NZXRob2Q6IFNpZ25Jbk1ldGhvZCxcbiAgICAvKiogQGludGVybmFsICovXG4gICAgcmVhZG9ubHkgX3RlbmFudElkOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuICApIHtcbiAgICBzdXBlcihQcm92aWRlcklkLlBBU1NXT1JELCBzaWduSW5NZXRob2QpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21FbWFpbEFuZFBhc3N3b3JkKFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuICApOiBFbWFpbEF1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gbmV3IEVtYWlsQXV0aENyZWRlbnRpYWwoXG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkLFxuICAgICAgU2lnbkluTWV0aG9kLkVNQUlMX1BBU1NXT1JEXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tRW1haWxBbmRDb2RlKFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgb29iQ29kZTogc3RyaW5nLFxuICAgIHRlbmFudElkOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuICApOiBFbWFpbEF1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gbmV3IEVtYWlsQXV0aENyZWRlbnRpYWwoXG4gICAgICBlbWFpbCxcbiAgICAgIG9vYkNvZGUsXG4gICAgICBTaWduSW5NZXRob2QuRU1BSUxfTElOSyxcbiAgICAgIHRlbmFudElkXG4gICAgKTtcbiAgfVxuXG4gIC8qKiB7QGluaGVyaXRkb2MgQXV0aENyZWRlbnRpYWwudG9KU09OfSAqL1xuICB0b0pTT04oKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgZW1haWw6IHRoaXMuX2VtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuX3Bhc3N3b3JkLFxuICAgICAgc2lnbkluTWV0aG9kOiB0aGlzLnNpZ25Jbk1ldGhvZCxcbiAgICAgIHRlbmFudElkOiB0aGlzLl90ZW5hbnRJZFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3RhdGljIG1ldGhvZCB0byBkZXNlcmlhbGl6ZSBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYW4gb2JqZWN0IGludG8gYW4ge0BsaW5rICBBdXRoQ3JlZGVudGlhbH0uXG4gICAqXG4gICAqIEBwYXJhbSBqc29uIC0gRWl0aGVyIGBvYmplY3RgIG9yIHRoZSBzdHJpbmdpZmllZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0LiBXaGVuIHN0cmluZyBpc1xuICAgKiBwcm92aWRlZCwgYEpTT04ucGFyc2VgIHdvdWxkIGJlIGNhbGxlZCBmaXJzdC5cbiAgICpcbiAgICogQHJldHVybnMgSWYgdGhlIEpTT04gaW5wdXQgZG9lcyBub3QgcmVwcmVzZW50IGFuIHtAbGluayBBdXRoQ3JlZGVudGlhbH0sIG51bGwgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBzdGF0aWMgZnJvbUpTT04oanNvbjogb2JqZWN0IHwgc3RyaW5nKTogRW1haWxBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGNvbnN0IG9iaiA9IHR5cGVvZiBqc29uID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoanNvbikgOiBqc29uO1xuICAgIGlmIChvYmo/LmVtYWlsICYmIG9iaj8ucGFzc3dvcmQpIHtcbiAgICAgIGlmIChvYmouc2lnbkluTWV0aG9kID09PSBTaWduSW5NZXRob2QuRU1BSUxfUEFTU1dPUkQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zyb21FbWFpbEFuZFBhc3N3b3JkKG9iai5lbWFpbCwgb2JqLnBhc3N3b3JkKTtcbiAgICAgIH0gZWxzZSBpZiAob2JqLnNpZ25Jbk1ldGhvZCA9PT0gU2lnbkluTWV0aG9kLkVNQUlMX0xJTkspIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zyb21FbWFpbEFuZENvZGUob2JqLmVtYWlsLCBvYmoucGFzc3dvcmQsIG9iai50ZW5hbnRJZCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc3luYyBfZ2V0SWRUb2tlblJlc3BvbnNlKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgc3dpdGNoICh0aGlzLnNpZ25Jbk1ldGhvZCkge1xuICAgICAgY2FzZSBTaWduSW5NZXRob2QuRU1BSUxfUEFTU1dPUkQ6XG4gICAgICAgIGNvbnN0IHJlcXVlc3Q6IFNpZ25JbldpdGhQYXNzd29yZFJlcXVlc3QgPSB7XG4gICAgICAgICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWUsXG4gICAgICAgICAgZW1haWw6IHRoaXMuX2VtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLl9wYXNzd29yZCxcbiAgICAgICAgICBjbGllbnRUeXBlOiBSZWNhcHRjaGFDbGllbnRUeXBlLldFQlxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVjYXB0Y2hhRmxvdyhcbiAgICAgICAgICBhdXRoLFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgUmVjYXB0Y2hhQWN0aW9uTmFtZS5TSUdOX0lOX1dJVEhfUEFTU1dPUkQsXG4gICAgICAgICAgc2lnbkluV2l0aFBhc3N3b3JkXG4gICAgICAgICk7XG4gICAgICBjYXNlIFNpZ25Jbk1ldGhvZC5FTUFJTF9MSU5LOlxuICAgICAgICByZXR1cm4gc2lnbkluV2l0aEVtYWlsTGluayhhdXRoLCB7XG4gICAgICAgICAgZW1haWw6IHRoaXMuX2VtYWlsLFxuICAgICAgICAgIG9vYkNvZGU6IHRoaXMuX3Bhc3N3b3JkXG4gICAgICAgIH0pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc3luYyBfbGlua1RvSWRUb2tlbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgaWRUb2tlbjogc3RyaW5nXG4gICk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgc3dpdGNoICh0aGlzLnNpZ25Jbk1ldGhvZCkge1xuICAgICAgY2FzZSBTaWduSW5NZXRob2QuRU1BSUxfUEFTU1dPUkQ6XG4gICAgICAgIGNvbnN0IHJlcXVlc3Q6IFNpZ25VcFJlcXVlc3QgPSB7XG4gICAgICAgICAgaWRUb2tlbixcbiAgICAgICAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZSxcbiAgICAgICAgICBlbWFpbDogdGhpcy5fZW1haWwsXG4gICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuX3Bhc3N3b3JkLFxuICAgICAgICAgIGNsaWVudFR5cGU6IFJlY2FwdGNoYUNsaWVudFR5cGUuV0VCXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBoYW5kbGVSZWNhcHRjaGFGbG93KFxuICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBSZWNhcHRjaGFBY3Rpb25OYW1lLlNJR05fVVBfUEFTU1dPUkQsXG4gICAgICAgICAgbGlua0VtYWlsUGFzc3dvcmRcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgU2lnbkluTWV0aG9kLkVNQUlMX0xJTks6XG4gICAgICAgIHJldHVybiBzaWduSW5XaXRoRW1haWxMaW5rRm9yTGlua2luZyhhdXRoLCB7XG4gICAgICAgICAgaWRUb2tlbixcbiAgICAgICAgICBlbWFpbDogdGhpcy5fZW1haWwsXG4gICAgICAgICAgb29iQ29kZTogdGhpcy5fcGFzc3dvcmRcbiAgICAgICAgfSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICB9XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9nZXRSZWF1dGhlbnRpY2F0aW9uUmVzb2x2ZXIoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0SWRUb2tlblJlc3BvbnNlKGF1dGgpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeSxcbiAgX3BlcmZvcm1TaWduSW5SZXF1ZXN0XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IElkVG9rZW4sIElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhJZHBSZXF1ZXN0IHtcbiAgcmVxdWVzdFVyaTogc3RyaW5nO1xuICBwb3N0Qm9keT86IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbiAgcmV0dXJuU2VjdXJlVG9rZW46IGJvb2xlYW47XG4gIHJldHVybklkcENyZWRlbnRpYWw/OiBib29sZWFuO1xuICBpZFRva2VuPzogSWRUb2tlbjtcbiAgYXV0b0NyZWF0ZT86IGJvb2xlYW47XG4gIHBlbmRpbmdUb2tlbj86IHN0cmluZztcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoSWRwUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge1xuICBvYXV0aEFjY2Vzc1Rva2VuPzogc3RyaW5nO1xuICBvYXV0aFRva2VuU2VjcmV0Pzogc3RyaW5nO1xuICBub25jZT86IHN0cmluZztcbiAgb2F1dGhJZFRva2VuPzogc3RyaW5nO1xuICBwZW5kaW5nVG9rZW4/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoSWRwKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTaWduSW5XaXRoSWRwUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduSW5XaXRoSWRwUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtU2lnbkluUmVxdWVzdDxTaWduSW5XaXRoSWRwUmVxdWVzdCwgU2lnbkluV2l0aElkcFJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX0lOX1dJVEhfSURQLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IHF1ZXJ5c3RyaW5nIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQge1xuICBzaWduSW5XaXRoSWRwLFxuICBTaWduSW5XaXRoSWRwUmVxdWVzdFxufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vaWRwJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfZmFpbCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi9hdXRoX2NyZWRlbnRpYWwnO1xuXG5jb25zdCBJRFBfUkVRVUVTVF9VUkkgPSAnaHR0cDovL2xvY2FsaG9zdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT0F1dGhDcmVkZW50aWFsUGFyYW1zIHtcbiAgLy8gT0F1dGggMiB1c2VzIGVpdGhlciBpZCB0b2tlbiBvciBhY2Nlc3MgdG9rZW5cbiAgaWRUb2tlbj86IHN0cmluZyB8IG51bGw7XG4gIGFjY2Vzc1Rva2VuPzogc3RyaW5nIHwgbnVsbDtcblxuICAvLyBUaGVzZSBmaWVsZHMgYXJlIHVzZWQgd2l0aCBPQXV0aCAxXG4gIG9hdXRoVG9rZW4/OiBzdHJpbmc7XG4gIHNlY3JldD86IHN0cmluZztcbiAgb2F1dGhUb2tlblNlY3JldD86IHN0cmluZztcblxuICAvLyBOb25jZSBpcyBvbmx5IHNldCBpZiBwZW5kaW5nVG9rZW4gaXMgbm90IHByZXNlbnRcbiAgbm9uY2U/OiBzdHJpbmc7XG4gIHBlbmRpbmdUb2tlbj86IHN0cmluZztcblxuICAvLyBVdGlsaXRpZXNcbiAgcHJvdmlkZXJJZDogc3RyaW5nO1xuICBzaWduSW5NZXRob2Q6IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBPQXV0aCBjcmVkZW50aWFscyByZXR1cm5lZCBieSBhbiB7QGxpbmsgT0F1dGhQcm92aWRlcn0uXG4gKlxuICogQHJlbWFya3NcbiAqIEltcGxlbWVudGF0aW9ucyBzcGVjaWZ5IHRoZSBkZXRhaWxzIGFib3V0IGVhY2ggYXV0aCBwcm92aWRlcidzIGNyZWRlbnRpYWwgcmVxdWlyZW1lbnRzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9BdXRoQ3JlZGVudGlhbCBleHRlbmRzIEF1dGhDcmVkZW50aWFsIHtcbiAgLyoqXG4gICAqIFRoZSBPQXV0aCBJRCB0b2tlbiBhc3NvY2lhdGVkIHdpdGggdGhlIGNyZWRlbnRpYWwgaWYgaXQgYmVsb25ncyB0byBhbiBPSURDIHByb3ZpZGVyLFxuICAgKiBzdWNoIGFzIGBnb29nbGUuY29tYC5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBpZFRva2VuPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIE9BdXRoIGFjY2VzcyB0b2tlbiBhc3NvY2lhdGVkIHdpdGggdGhlIGNyZWRlbnRpYWwgaWYgaXQgYmVsb25ncyB0byBhblxuICAgKiB7QGxpbmsgT0F1dGhQcm92aWRlcn0sIHN1Y2ggYXMgYGZhY2Vib29rLmNvbWAsIGB0d2l0dGVyLmNvbWAsIGV0Yy5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBhY2Nlc3NUb2tlbj86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4gc2VjcmV0IGFzc29jaWF0ZWQgd2l0aCB0aGUgY3JlZGVudGlhbCBpZiBpdCBiZWxvbmdzIHRvIGFuIE9BdXRoIDEuMFxuICAgKiBwcm92aWRlciwgc3VjaCBhcyBgdHdpdHRlci5jb21gLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIHNlY3JldD86IHN0cmluZztcblxuICBwcml2YXRlIG5vbmNlPzogc3RyaW5nO1xuICBwcml2YXRlIHBlbmRpbmdUb2tlbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21QYXJhbXMocGFyYW1zOiBPQXV0aENyZWRlbnRpYWxQYXJhbXMpOiBPQXV0aENyZWRlbnRpYWwge1xuICAgIGNvbnN0IGNyZWQgPSBuZXcgT0F1dGhDcmVkZW50aWFsKHBhcmFtcy5wcm92aWRlcklkLCBwYXJhbXMuc2lnbkluTWV0aG9kKTtcblxuICAgIGlmIChwYXJhbXMuaWRUb2tlbiB8fCBwYXJhbXMuYWNjZXNzVG9rZW4pIHtcbiAgICAgIC8vIE9BdXRoIDIgYW5kIGVpdGhlciBJRCB0b2tlbiBvciBhY2Nlc3MgdG9rZW4uXG4gICAgICBpZiAocGFyYW1zLmlkVG9rZW4pIHtcbiAgICAgICAgY3JlZC5pZFRva2VuID0gcGFyYW1zLmlkVG9rZW47XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgY3JlZC5hY2Nlc3NUb2tlbiA9IHBhcmFtcy5hY2Nlc3NUb2tlbjtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIG5vbmNlIGlmIGF2YWlsYWJsZSBhbmQgbm8gcGVuZGluZ1Rva2VuIGlzIHByZXNlbnQuXG4gICAgICBpZiAocGFyYW1zLm5vbmNlICYmICFwYXJhbXMucGVuZGluZ1Rva2VuKSB7XG4gICAgICAgIGNyZWQubm9uY2UgPSBwYXJhbXMubm9uY2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMucGVuZGluZ1Rva2VuKSB7XG4gICAgICAgIGNyZWQucGVuZGluZ1Rva2VuID0gcGFyYW1zLnBlbmRpbmdUb2tlbjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBhcmFtcy5vYXV0aFRva2VuICYmIHBhcmFtcy5vYXV0aFRva2VuU2VjcmV0KSB7XG4gICAgICAvLyBPQXV0aCAxIGFuZCBPQXV0aCB0b2tlbiB3aXRoIHRva2VuIHNlY3JldFxuICAgICAgY3JlZC5hY2Nlc3NUb2tlbiA9IHBhcmFtcy5vYXV0aFRva2VuO1xuICAgICAgY3JlZC5zZWNyZXQgPSBwYXJhbXMub2F1dGhUb2tlblNlY3JldDtcbiAgICB9IGVsc2Uge1xuICAgICAgX2ZhaWwoQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWQ7XG4gIH1cblxuICAvKioge0Bpbmhlcml0ZG9jIEF1dGhDcmVkZW50aWFsLnRvSlNPTn0gICovXG4gIHRvSlNPTigpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICBpZFRva2VuOiB0aGlzLmlkVG9rZW4sXG4gICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbixcbiAgICAgIHNlY3JldDogdGhpcy5zZWNyZXQsXG4gICAgICBub25jZTogdGhpcy5ub25jZSxcbiAgICAgIHBlbmRpbmdUb2tlbjogdGhpcy5wZW5kaW5nVG9rZW4sXG4gICAgICBwcm92aWRlcklkOiB0aGlzLnByb3ZpZGVySWQsXG4gICAgICBzaWduSW5NZXRob2Q6IHRoaXMuc2lnbkluTWV0aG9kXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgbWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhbiBvYmplY3QgaW50byBhblxuICAgKiB7QGxpbmsgIEF1dGhDcmVkZW50aWFsfS5cbiAgICpcbiAgICogQHBhcmFtIGpzb24gLSBJbnB1dCBjYW4gYmUgZWl0aGVyIE9iamVjdCBvciB0aGUgc3RyaW5naWZpZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdC5cbiAgICogV2hlbiBzdHJpbmcgaXMgcHJvdmlkZWQsIEpTT04ucGFyc2Ugd291bGQgYmUgY2FsbGVkIGZpcnN0LlxuICAgKlxuICAgKiBAcmV0dXJucyBJZiB0aGUgSlNPTiBpbnB1dCBkb2VzIG5vdCByZXByZXNlbnQgYW4ge0BsaW5rICBBdXRoQ3JlZGVudGlhbH0sIG51bGwgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBzdGF0aWMgZnJvbUpTT04oanNvbjogc3RyaW5nIHwgb2JqZWN0KTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgY29uc3Qgb2JqID0gdHlwZW9mIGpzb24gPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShqc29uKSA6IGpzb247XG4gICAgY29uc3QgeyBwcm92aWRlcklkLCBzaWduSW5NZXRob2QsIC4uLnJlc3QgfTogT0F1dGhDcmVkZW50aWFsUGFyYW1zID0gb2JqO1xuICAgIGlmICghcHJvdmlkZXJJZCB8fCAhc2lnbkluTWV0aG9kKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBjcmVkID0gbmV3IE9BdXRoQ3JlZGVudGlhbChwcm92aWRlcklkLCBzaWduSW5NZXRob2QpO1xuICAgIGNyZWQuaWRUb2tlbiA9IHJlc3QuaWRUb2tlbiB8fCB1bmRlZmluZWQ7XG4gICAgY3JlZC5hY2Nlc3NUb2tlbiA9IHJlc3QuYWNjZXNzVG9rZW4gfHwgdW5kZWZpbmVkO1xuICAgIGNyZWQuc2VjcmV0ID0gcmVzdC5zZWNyZXQ7XG4gICAgY3JlZC5ub25jZSA9IHJlc3Qubm9uY2U7XG4gICAgY3JlZC5wZW5kaW5nVG9rZW4gPSByZXN0LnBlbmRpbmdUb2tlbiB8fCBudWxsO1xuICAgIHJldHVybiBjcmVkO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZ2V0SWRUb2tlblJlc3BvbnNlKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuYnVpbGRSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIHNpZ25JbldpdGhJZHAoYXV0aCwgcmVxdWVzdCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9saW5rVG9JZFRva2VuKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBpZFRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5idWlsZFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0LmlkVG9rZW4gPSBpZFRva2VuO1xuICAgIHJldHVybiBzaWduSW5XaXRoSWRwKGF1dGgsIHJlcXVlc3QpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZ2V0UmVhdXRoZW50aWNhdGlvblJlc29sdmVyKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuYnVpbGRSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5hdXRvQ3JlYXRlID0gZmFsc2U7XG4gICAgcmV0dXJuIHNpZ25JbldpdGhJZHAoYXV0aCwgcmVxdWVzdCk7XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkUmVxdWVzdCgpOiBTaWduSW5XaXRoSWRwUmVxdWVzdCB7XG4gICAgY29uc3QgcmVxdWVzdDogU2lnbkluV2l0aElkcFJlcXVlc3QgPSB7XG4gICAgICByZXF1ZXN0VXJpOiBJRFBfUkVRVUVTVF9VUkksXG4gICAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5wZW5kaW5nVG9rZW4pIHtcbiAgICAgIHJlcXVlc3QucGVuZGluZ1Rva2VuID0gdGhpcy5wZW5kaW5nVG9rZW47XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBvc3RCb2R5OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgICBpZiAodGhpcy5pZFRva2VuKSB7XG4gICAgICAgIHBvc3RCb2R5WydpZF90b2tlbiddID0gdGhpcy5pZFRva2VuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgcG9zdEJvZHlbJ2FjY2Vzc190b2tlbiddID0gdGhpcy5hY2Nlc3NUb2tlbjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNlY3JldCkge1xuICAgICAgICBwb3N0Qm9keVsnb2F1dGhfdG9rZW5fc2VjcmV0J10gPSB0aGlzLnNlY3JldDtcbiAgICAgIH1cblxuICAgICAgcG9zdEJvZHlbJ3Byb3ZpZGVySWQnXSA9IHRoaXMucHJvdmlkZXJJZDtcbiAgICAgIGlmICh0aGlzLm5vbmNlICYmICF0aGlzLnBlbmRpbmdUb2tlbikge1xuICAgICAgICBwb3N0Qm9keVsnbm9uY2UnXSA9IHRoaXMubm9uY2U7XG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QucG9zdEJvZHkgPSBxdWVyeXN0cmluZyhwb3N0Qm9keSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5LFxuICBfbWFrZVRhZ2dlZEVycm9yLFxuICBfcGVyZm9ybUFwaVJlcXVlc3QsXG4gIF9wZXJmb3JtU2lnbkluUmVxdWVzdFxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgU2VydmVyRXJyb3IsIFNlcnZlckVycm9yTWFwIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRQaG9uZVZlcmlmaWNhdGlvbkNvZGVSZXF1ZXN0IHtcbiAgcGhvbmVOdW1iZXI6IHN0cmluZztcbiAgcmVjYXB0Y2hhVG9rZW46IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFBob25lVmVyaWZpY2F0aW9uQ29kZVJlc3BvbnNlIHtcbiAgc2Vzc2lvbkluZm86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRQaG9uZVZlcmlmaWNhdGlvbkNvZGUoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNlbmRQaG9uZVZlcmlmaWNhdGlvbkNvZGVSZXF1ZXN0XG4pOiBQcm9taXNlPFNlbmRQaG9uZVZlcmlmaWNhdGlvbkNvZGVSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIFNlbmRQaG9uZVZlcmlmaWNhdGlvbkNvZGVSZXF1ZXN0LFxuICAgIFNlbmRQaG9uZVZlcmlmaWNhdGlvbkNvZGVSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNFTkRfVkVSSUZJQ0FUSU9OX0NPREUsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdCB7XG4gIHRlbXBvcmFyeVByb29mPzogc3RyaW5nO1xuICBwaG9uZU51bWJlcj86IHN0cmluZztcbiAgc2Vzc2lvbkluZm8/OiBzdHJpbmc7XG4gIGNvZGU/OiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpbmtXaXRoUGhvbmVOdW1iZXJSZXF1ZXN0XG4gIGV4dGVuZHMgU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7XG4gIHRlbXBvcmFyeVByb29mPzogc3RyaW5nO1xuICBwaG9uZU51bWJlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhQaG9uZU51bWJlcihcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFxuICAgIFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3QsXG4gICAgU2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX0lOX1dJVEhfUEhPTkVfTlVNQkVSLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlua1dpdGhQaG9uZU51bWJlcihcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogTGlua1dpdGhQaG9uZU51bWJlclJlcXVlc3Rcbik6IFByb21pc2U8U2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2U+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8XG4gICAgTGlua1dpdGhQaG9uZU51bWJlclJlcXVlc3QsXG4gICAgU2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX0lOX1dJVEhfUEhPTkVfTlVNQkVSLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xuICBpZiAocmVzcG9uc2UudGVtcG9yYXJ5UHJvb2YpIHtcbiAgICB0aHJvdyBfbWFrZVRhZ2dlZEVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuTkVFRF9DT05GSVJNQVRJT04sIHJlc3BvbnNlKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbmludGVyZmFjZSBWZXJpZnlQaG9uZU51bWJlckZvckV4aXN0aW5nUmVxdWVzdFxuICBleHRlbmRzIFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3Qge1xuICBvcGVyYXRpb246ICdSRUFVVEgnO1xufVxuXG5jb25zdCBWRVJJRllfUEhPTkVfTlVNQkVSX0ZPUl9FWElTVElOR19FUlJPUl9NQVBfOiBQYXJ0aWFsPFxuICBTZXJ2ZXJFcnJvck1hcDxTZXJ2ZXJFcnJvcj5cbj4gPSB7XG4gIFtTZXJ2ZXJFcnJvci5VU0VSX05PVF9GT1VORF06IEF1dGhFcnJvckNvZGUuVVNFUl9ERUxFVEVEXG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5UGhvbmVOdW1iZXJGb3JFeGlzdGluZyhcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZT4ge1xuICBjb25zdCBhcGlSZXF1ZXN0OiBWZXJpZnlQaG9uZU51bWJlckZvckV4aXN0aW5nUmVxdWVzdCA9IHtcbiAgICAuLi5yZXF1ZXN0LFxuICAgIG9wZXJhdGlvbjogJ1JFQVVUSCdcbiAgfTtcbiAgcmV0dXJuIF9wZXJmb3JtU2lnbkluUmVxdWVzdDxcbiAgICBWZXJpZnlQaG9uZU51bWJlckZvckV4aXN0aW5nUmVxdWVzdCxcbiAgICBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fSU5fV0lUSF9QSE9ORV9OVU1CRVIsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIGFwaVJlcXVlc3QpLFxuICAgIFZFUklGWV9QSE9ORV9OVU1CRVJfRk9SX0VYSVNUSU5HX0VSUk9SX01BUF9cbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQcm92aWRlcklkLCBTaWduSW5NZXRob2QgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbmltcG9ydCB7IFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7XG4gIGxpbmtXaXRoUGhvbmVOdW1iZXIsXG4gIHNpZ25JbldpdGhQaG9uZU51bWJlcixcbiAgU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdCxcbiAgdmVyaWZ5UGhvbmVOdW1iZXJGb3JFeGlzdGluZ1xufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vc21zJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuL2F1dGhfY3JlZGVudGlhbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGhvbmVBdXRoQ3JlZGVudGlhbFBhcmFtZXRlcnMge1xuICB2ZXJpZmljYXRpb25JZD86IHN0cmluZztcbiAgdmVyaWZpY2F0aW9uQ29kZT86IHN0cmluZztcbiAgcGhvbmVOdW1iZXI/OiBzdHJpbmc7XG4gIHRlbXBvcmFyeVByb29mPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGNyZWRlbnRpYWxzIHJldHVybmVkIGJ5IHtAbGluayBQaG9uZUF1dGhQcm92aWRlcn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUGhvbmVBdXRoQ3JlZGVudGlhbCBleHRlbmRzIEF1dGhDcmVkZW50aWFsIHtcbiAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHBhcmFtczogUGhvbmVBdXRoQ3JlZGVudGlhbFBhcmFtZXRlcnMpIHtcbiAgICBzdXBlcihQcm92aWRlcklkLlBIT05FLCBTaWduSW5NZXRob2QuUEhPTkUpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21WZXJpZmljYXRpb24oXG4gICAgdmVyaWZpY2F0aW9uSWQ6IHN0cmluZyxcbiAgICB2ZXJpZmljYXRpb25Db2RlOiBzdHJpbmdcbiAgKTogUGhvbmVBdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIG5ldyBQaG9uZUF1dGhDcmVkZW50aWFsKHsgdmVyaWZpY2F0aW9uSWQsIHZlcmlmaWNhdGlvbkNvZGUgfSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbVRva2VuUmVzcG9uc2UoXG4gICAgcGhvbmVOdW1iZXI6IHN0cmluZyxcbiAgICB0ZW1wb3JhcnlQcm9vZjogc3RyaW5nXG4gICk6IFBob25lQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBuZXcgUGhvbmVBdXRoQ3JlZGVudGlhbCh7IHBob25lTnVtYmVyLCB0ZW1wb3JhcnlQcm9vZiB9KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2dldElkVG9rZW5SZXNwb25zZShhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gc2lnbkluV2l0aFBob25lTnVtYmVyKGF1dGgsIHRoaXMuX21ha2VWZXJpZmljYXRpb25SZXF1ZXN0KCkpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbGlua1RvSWRUb2tlbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgaWRUb2tlbjogc3RyaW5nXG4gICk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIGxpbmtXaXRoUGhvbmVOdW1iZXIoYXV0aCwge1xuICAgICAgaWRUb2tlbixcbiAgICAgIC4uLnRoaXMuX21ha2VWZXJpZmljYXRpb25SZXF1ZXN0KClcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2dldFJlYXV0aGVudGljYXRpb25SZXNvbHZlcihhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiB2ZXJpZnlQaG9uZU51bWJlckZvckV4aXN0aW5nKGF1dGgsIHRoaXMuX21ha2VWZXJpZmljYXRpb25SZXF1ZXN0KCkpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbWFrZVZlcmlmaWNhdGlvblJlcXVlc3QoKTogU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdCB7XG4gICAgY29uc3QgeyB0ZW1wb3JhcnlQcm9vZiwgcGhvbmVOdW1iZXIsIHZlcmlmaWNhdGlvbklkLCB2ZXJpZmljYXRpb25Db2RlIH0gPVxuICAgICAgdGhpcy5wYXJhbXM7XG4gICAgaWYgKHRlbXBvcmFyeVByb29mICYmIHBob25lTnVtYmVyKSB7XG4gICAgICByZXR1cm4geyB0ZW1wb3JhcnlQcm9vZiwgcGhvbmVOdW1iZXIgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2Vzc2lvbkluZm86IHZlcmlmaWNhdGlvbklkLFxuICAgICAgY29kZTogdmVyaWZpY2F0aW9uQ29kZVxuICAgIH07XG4gIH1cblxuICAvKioge0Bpbmhlcml0ZG9jIEF1dGhDcmVkZW50aWFsLnRvSlNPTn0gKi9cbiAgdG9KU09OKCk6IG9iamVjdCB7XG4gICAgY29uc3Qgb2JqOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgcHJvdmlkZXJJZDogdGhpcy5wcm92aWRlcklkXG4gICAgfTtcbiAgICBpZiAodGhpcy5wYXJhbXMucGhvbmVOdW1iZXIpIHtcbiAgICAgIG9iai5waG9uZU51bWJlciA9IHRoaXMucGFyYW1zLnBob25lTnVtYmVyO1xuICAgIH1cbiAgICBpZiAodGhpcy5wYXJhbXMudGVtcG9yYXJ5UHJvb2YpIHtcbiAgICAgIG9iai50ZW1wb3JhcnlQcm9vZiA9IHRoaXMucGFyYW1zLnRlbXBvcmFyeVByb29mO1xuICAgIH1cbiAgICBpZiAodGhpcy5wYXJhbXMudmVyaWZpY2F0aW9uQ29kZSkge1xuICAgICAgb2JqLnZlcmlmaWNhdGlvbkNvZGUgPSB0aGlzLnBhcmFtcy52ZXJpZmljYXRpb25Db2RlO1xuICAgIH1cbiAgICBpZiAodGhpcy5wYXJhbXMudmVyaWZpY2F0aW9uSWQpIHtcbiAgICAgIG9iai52ZXJpZmljYXRpb25JZCA9IHRoaXMucGFyYW1zLnZlcmlmaWNhdGlvbklkO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvKiogR2VuZXJhdGVzIGEgcGhvbmUgY3JlZGVudGlhbCBiYXNlZCBvbiBhIHBsYWluIG9iamVjdCBvciBhIEpTT04gc3RyaW5nLiAqL1xuICBzdGF0aWMgZnJvbUpTT04oanNvbjogb2JqZWN0IHwgc3RyaW5nKTogUGhvbmVBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGlmICh0eXBlb2YganNvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGpzb24gPSBKU09OLnBhcnNlKGpzb24pO1xuICAgIH1cblxuICAgIGNvbnN0IHsgdmVyaWZpY2F0aW9uSWQsIHZlcmlmaWNhdGlvbkNvZGUsIHBob25lTnVtYmVyLCB0ZW1wb3JhcnlQcm9vZiB9ID1cbiAgICAgIGpzb24gYXMgeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICBpZiAoXG4gICAgICAhdmVyaWZpY2F0aW9uQ29kZSAmJlxuICAgICAgIXZlcmlmaWNhdGlvbklkICYmXG4gICAgICAhcGhvbmVOdW1iZXIgJiZcbiAgICAgICF0ZW1wb3JhcnlQcm9vZlxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQaG9uZUF1dGhDcmVkZW50aWFsKHtcbiAgICAgIHZlcmlmaWNhdGlvbklkLFxuICAgICAgdmVyaWZpY2F0aW9uQ29kZSxcbiAgICAgIHBob25lTnVtYmVyLFxuICAgICAgdGVtcG9yYXJ5UHJvb2ZcbiAgICB9KTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGV4dHJhY3RRdWVyeXN0cmluZywgcXVlcnlzdHJpbmdEZWNvZGUgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBBY3Rpb25Db2RlT3BlcmF0aW9uIH0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi91dGlsL2Fzc2VydCc7XG5cbi8qKlxuICogRW51bXMgZm9yIGZpZWxkcyBpbiBVUkwgcXVlcnkgc3RyaW5nLlxuICpcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmNvbnN0IGVudW0gUXVlcnlGaWVsZCB7XG4gIEFQSV9LRVkgPSAnYXBpS2V5JyxcbiAgQ09ERSA9ICdvb2JDb2RlJyxcbiAgQ09OVElOVUVfVVJMID0gJ2NvbnRpbnVlVXJsJyxcbiAgTEFOR1VBR0VfQ09ERSA9ICdsYW5ndWFnZUNvZGUnLFxuICBNT0RFID0gJ21vZGUnLFxuICBURU5BTlRfSUQgPSAndGVuYW50SWQnXG59XG5cbi8qKlxuICogTWFwcyB0aGUgbW9kZSBzdHJpbmcgaW4gYWN0aW9uIGNvZGUgVVJMIHRvIEFjdGlvbiBDb2RlIEluZm8gb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSBtb2RlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlTW9kZShtb2RlOiBzdHJpbmcgfCBudWxsKTogQWN0aW9uQ29kZU9wZXJhdGlvbiB8IG51bGwge1xuICBzd2l0Y2ggKG1vZGUpIHtcbiAgICBjYXNlICdyZWNvdmVyRW1haWwnOlxuICAgICAgcmV0dXJuIEFjdGlvbkNvZGVPcGVyYXRpb24uUkVDT1ZFUl9FTUFJTDtcbiAgICBjYXNlICdyZXNldFBhc3N3b3JkJzpcbiAgICAgIHJldHVybiBBY3Rpb25Db2RlT3BlcmF0aW9uLlBBU1NXT1JEX1JFU0VUO1xuICAgIGNhc2UgJ3NpZ25Jbic6XG4gICAgICByZXR1cm4gQWN0aW9uQ29kZU9wZXJhdGlvbi5FTUFJTF9TSUdOSU47XG4gICAgY2FzZSAndmVyaWZ5RW1haWwnOlxuICAgICAgcmV0dXJuIEFjdGlvbkNvZGVPcGVyYXRpb24uVkVSSUZZX0VNQUlMO1xuICAgIGNhc2UgJ3ZlcmlmeUFuZENoYW5nZUVtYWlsJzpcbiAgICAgIHJldHVybiBBY3Rpb25Db2RlT3BlcmF0aW9uLlZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMO1xuICAgIGNhc2UgJ3JldmVydFNlY29uZEZhY3RvckFkZGl0aW9uJzpcbiAgICAgIHJldHVybiBBY3Rpb25Db2RlT3BlcmF0aW9uLlJFVkVSVF9TRUNPTkRfRkFDVE9SX0FERElUSU9OO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0byBwYXJzZSBGREwgbGlua3NcbiAqXG4gKiBAcGFyYW0gdXJsXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRGVlcExpbmsodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBsaW5rID0gcXVlcnlzdHJpbmdEZWNvZGUoZXh0cmFjdFF1ZXJ5c3RyaW5nKHVybCkpWydsaW5rJ107XG5cbiAgLy8gRG91YmxlIGxpbmsgY2FzZSAoYXV0b21hdGljIHJlZGlyZWN0KS5cbiAgY29uc3QgZG91YmxlRGVlcExpbmsgPSBsaW5rXG4gICAgPyBxdWVyeXN0cmluZ0RlY29kZShleHRyYWN0UXVlcnlzdHJpbmcobGluaykpWydkZWVwX2xpbmtfaWQnXVxuICAgIDogbnVsbDtcbiAgLy8gaU9TIGN1c3RvbSBzY2hlbWUgbGlua3MuXG4gIGNvbnN0IGlPU0RlZXBMaW5rID0gcXVlcnlzdHJpbmdEZWNvZGUoZXh0cmFjdFF1ZXJ5c3RyaW5nKHVybCkpW1xuICAgICdkZWVwX2xpbmtfaWQnXG4gIF07XG4gIGNvbnN0IGlPU0RvdWJsZURlZXBMaW5rID0gaU9TRGVlcExpbmtcbiAgICA/IHF1ZXJ5c3RyaW5nRGVjb2RlKGV4dHJhY3RRdWVyeXN0cmluZyhpT1NEZWVwTGluaykpWydsaW5rJ11cbiAgICA6IG51bGw7XG4gIHJldHVybiBpT1NEb3VibGVEZWVwTGluayB8fCBpT1NEZWVwTGluayB8fCBkb3VibGVEZWVwTGluayB8fCBsaW5rIHx8IHVybDtcbn1cblxuLyoqXG4gKiBBIHV0aWxpdHkgY2xhc3MgdG8gcGFyc2UgZW1haWwgYWN0aW9uIFVSTHMgc3VjaCBhcyBwYXNzd29yZCByZXNldCwgZW1haWwgdmVyaWZpY2F0aW9uLFxuICogZW1haWwgbGluayBzaWduIGluLCBldGMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQWN0aW9uQ29kZVVSTCB7XG4gIC8qKlxuICAgKiBUaGUgQVBJIGtleSBvZiB0aGUgZW1haWwgYWN0aW9uIGxpbmsuXG4gICAqL1xuICByZWFkb25seSBhcGlLZXk6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBhY3Rpb24gY29kZSBvZiB0aGUgZW1haWwgYWN0aW9uIGxpbmsuXG4gICAqL1xuICByZWFkb25seSBjb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY29udGludWUgVVJMIG9mIHRoZSBlbWFpbCBhY3Rpb24gbGluay4gTnVsbCBpZiBub3QgcHJvdmlkZWQuXG4gICAqL1xuICByZWFkb25seSBjb250aW51ZVVybDogc3RyaW5nIHwgbnVsbDtcbiAgLyoqXG4gICAqIFRoZSBsYW5ndWFnZSBjb2RlIG9mIHRoZSBlbWFpbCBhY3Rpb24gbGluay4gTnVsbCBpZiBub3QgcHJvdmlkZWQuXG4gICAqL1xuICByZWFkb25seSBsYW5ndWFnZUNvZGU6IHN0cmluZyB8IG51bGw7XG4gIC8qKlxuICAgKiBUaGUgYWN0aW9uIHBlcmZvcm1lZCBieSB0aGUgZW1haWwgYWN0aW9uIGxpbmsuIEl0IHJldHVybnMgZnJvbSBvbmUgb2YgdGhlIHR5cGVzIGZyb21cbiAgICoge0BsaW5rIEFjdGlvbkNvZGVJbmZvfVxuICAgKi9cbiAgcmVhZG9ubHkgb3BlcmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdGVuYW50IElEIG9mIHRoZSBlbWFpbCBhY3Rpb24gbGluay4gTnVsbCBpZiB0aGUgZW1haWwgYWN0aW9uIGlzIGZyb20gdGhlIHBhcmVudCBwcm9qZWN0LlxuICAgKi9cbiAgcmVhZG9ubHkgdGVuYW50SWQ6IHN0cmluZyB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBhY3Rpb25MaW5rIC0gVGhlIGxpbmsgZnJvbSB3aGljaCB0byBleHRyYWN0IHRoZSBVUkwuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgQWN0aW9uQ29kZVVSTH0gb2JqZWN0LCBvciBudWxsIGlmIHRoZSBsaW5rIGlzIGludmFsaWQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoYWN0aW9uTGluazogc3RyaW5nKSB7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gcXVlcnlzdHJpbmdEZWNvZGUoZXh0cmFjdFF1ZXJ5c3RyaW5nKGFjdGlvbkxpbmspKTtcbiAgICBjb25zdCBhcGlLZXkgPSBzZWFyY2hQYXJhbXNbUXVlcnlGaWVsZC5BUElfS0VZXSA/PyBudWxsO1xuICAgIGNvbnN0IGNvZGUgPSBzZWFyY2hQYXJhbXNbUXVlcnlGaWVsZC5DT0RFXSA/PyBudWxsO1xuICAgIGNvbnN0IG9wZXJhdGlvbiA9IHBhcnNlTW9kZShzZWFyY2hQYXJhbXNbUXVlcnlGaWVsZC5NT0RFXSA/PyBudWxsKTtcbiAgICAvLyBWYWxpZGF0ZSBBUEkga2V5LCBjb2RlIGFuZCBtb2RlLlxuICAgIF9hc3NlcnQoYXBpS2V5ICYmIGNvZGUgJiYgb3BlcmF0aW9uLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcbiAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICB0aGlzLm9wZXJhdGlvbiA9IG9wZXJhdGlvbjtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuY29udGludWVVcmwgPSBzZWFyY2hQYXJhbXNbUXVlcnlGaWVsZC5DT05USU5VRV9VUkxdID8/IG51bGw7XG4gICAgdGhpcy5sYW5ndWFnZUNvZGUgPSBzZWFyY2hQYXJhbXNbUXVlcnlGaWVsZC5MQU5HVUFHRV9DT0RFXSA/PyBudWxsO1xuICAgIHRoaXMudGVuYW50SWQgPSBzZWFyY2hQYXJhbXNbUXVlcnlGaWVsZC5URU5BTlRfSURdID8/IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2VzIHRoZSBlbWFpbCBhY3Rpb24gbGluayBzdHJpbmcgYW5kIHJldHVybnMgYW4ge0BsaW5rIEFjdGlvbkNvZGVVUkx9IGlmIHRoZSBsaW5rIGlzIHZhbGlkLFxuICAgKiBvdGhlcndpc2UgcmV0dXJucyBudWxsLlxuICAgKlxuICAgKiBAcGFyYW0gbGluayAgLSBUaGUgZW1haWwgYWN0aW9uIGxpbmsgc3RyaW5nLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEFjdGlvbkNvZGVVUkx9IG9iamVjdCwgb3IgbnVsbCBpZiB0aGUgbGluayBpcyBpbnZhbGlkLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBzdGF0aWMgcGFyc2VMaW5rKGxpbms6IHN0cmluZyk6IEFjdGlvbkNvZGVVUkwgfCBudWxsIHtcbiAgICBjb25zdCBhY3Rpb25MaW5rID0gcGFyc2VEZWVwTGluayhsaW5rKTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBBY3Rpb25Db2RlVVJMKGFjdGlvbkxpbmspO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUGFyc2VzIHRoZSBlbWFpbCBhY3Rpb24gbGluayBzdHJpbmcgYW5kIHJldHVybnMgYW4ge0BsaW5rIEFjdGlvbkNvZGVVUkx9IGlmXG4gKiB0aGUgbGluayBpcyB2YWxpZCwgb3RoZXJ3aXNlIHJldHVybnMgbnVsbC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFjdGlvbkNvZGVVUkwobGluazogc3RyaW5nKTogQWN0aW9uQ29kZVVSTCB8IG51bGwge1xuICByZXR1cm4gQWN0aW9uQ29kZVVSTC5wYXJzZUxpbmsobGluayk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUHJvdmlkZXJJZCwgU2lnbkluTWV0aG9kIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgQWN0aW9uQ29kZVVSTCB9IGZyb20gJy4uL2FjdGlvbl9jb2RlX3VybCc7XG5pbXBvcnQgeyBFbWFpbEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMvZW1haWwnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIHtAbGluayBFbWFpbEF1dGhDcmVkZW50aWFsfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWFpbEF1dGhQcm92aWRlciBpbXBsZW1lbnRzIEF1dGhQcm92aWRlciB7XG4gIC8qKlxuICAgKiBBbHdheXMgc2V0IHRvIHtAbGluayBQcm92aWRlcklkfS5QQVNTV09SRCwgZXZlbiBmb3IgZW1haWwgbGluay5cbiAgICovXG4gIHN0YXRpYyByZWFkb25seSBQUk9WSURFUl9JRDogJ3Bhc3N3b3JkJyA9IFByb3ZpZGVySWQuUEFTU1dPUkQ7XG4gIC8qKlxuICAgKiBBbHdheXMgc2V0IHRvIHtAbGluayBTaWduSW5NZXRob2R9LkVNQUlMX1BBU1NXT1JELlxuICAgKi9cbiAgc3RhdGljIHJlYWRvbmx5IEVNQUlMX1BBU1NXT1JEX1NJR05fSU5fTUVUSE9EOiAncGFzc3dvcmQnID1cbiAgICBTaWduSW5NZXRob2QuRU1BSUxfUEFTU1dPUkQ7XG4gIC8qKlxuICAgKiBBbHdheXMgc2V0IHRvIHtAbGluayBTaWduSW5NZXRob2R9LkVNQUlMX0xJTksuXG4gICAqL1xuICBzdGF0aWMgcmVhZG9ubHkgRU1BSUxfTElOS19TSUdOX0lOX01FVEhPRDogJ2VtYWlsTGluaycgPVxuICAgIFNpZ25Jbk1ldGhvZC5FTUFJTF9MSU5LO1xuICAvKipcbiAgICogQWx3YXlzIHNldCB0byB7QGxpbmsgUHJvdmlkZXJJZH0uUEFTU1dPUkQsIGV2ZW4gZm9yIGVtYWlsIGxpbmsuXG4gICAqL1xuICByZWFkb25seSBwcm92aWRlcklkID0gRW1haWxBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQ7XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYW4ge0BsaW5rIEF1dGhDcmVkZW50aWFsfSB1c2luZyBhbiBlbWFpbCBhbmQgcGFzc3dvcmQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3QgYXV0aENyZWRlbnRpYWwgPSBFbWFpbEF1dGhQcm92aWRlci5jcmVkZW50aWFsKGVtYWlsLCBwYXNzd29yZCk7XG4gICAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aENyZWRlbnRpYWwoYXV0aCwgYXV0aENyZWRlbnRpYWwpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGVtYWlsLCBwYXNzd29yZCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gZW1haWwgLSBFbWFpbCBhZGRyZXNzLlxuICAgKiBAcGFyYW0gcGFzc3dvcmQgLSBVc2VyIGFjY291bnQgcGFzc3dvcmQuXG4gICAqIEByZXR1cm5zIFRoZSBhdXRoIHByb3ZpZGVyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogRW1haWxBdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIEVtYWlsQXV0aENyZWRlbnRpYWwuX2Zyb21FbWFpbEFuZFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhbiB7QGxpbmsgQXV0aENyZWRlbnRpYWx9IHVzaW5nIGFuIGVtYWlsIGFuZCBhbiBlbWFpbCBsaW5rIGFmdGVyIGEgc2lnbiBpbiB3aXRoXG4gICAqIGVtYWlsIGxpbmsgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IGF1dGhDcmVkZW50aWFsID0gRW1haWxBdXRoUHJvdmlkZXIuY3JlZGVudGlhbFdpdGhMaW5rKGF1dGgsIGVtYWlsLCBlbWFpbExpbmspO1xuICAgKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhDcmVkZW50aWFsKGF1dGgsIGF1dGhDcmVkZW50aWFsKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogYXdhaXQgc2VuZFNpZ25JbkxpbmtUb0VtYWlsKGF1dGgsIGVtYWlsKTtcbiAgICogLy8gT2J0YWluIGVtYWlsTGluayBmcm9tIHVzZXIuXG4gICAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsTGluayhhdXRoLCBlbWFpbCwgZW1haWxMaW5rKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZSB1c2VkIHRvIHZlcmlmeSB0aGUgbGluay5cbiAgICogQHBhcmFtIGVtYWlsIC0gRW1haWwgYWRkcmVzcy5cbiAgICogQHBhcmFtIGVtYWlsTGluayAtIFNpZ24taW4gZW1haWwgbGluay5cbiAgICogQHJldHVybnMgLSBUaGUgYXV0aCBwcm92aWRlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxXaXRoTGluayhcbiAgICBlbWFpbDogc3RyaW5nLFxuICAgIGVtYWlsTGluazogc3RyaW5nXG4gICk6IEVtYWlsQXV0aENyZWRlbnRpYWwge1xuICAgIGNvbnN0IGFjdGlvbkNvZGVVcmwgPSBBY3Rpb25Db2RlVVJMLnBhcnNlTGluayhlbWFpbExpbmspO1xuICAgIF9hc3NlcnQoYWN0aW9uQ29kZVVybCwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG5cbiAgICByZXR1cm4gRW1haWxBdXRoQ3JlZGVudGlhbC5fZnJvbUVtYWlsQW5kQ29kZShcbiAgICAgIGVtYWlsLFxuICAgICAgYWN0aW9uQ29kZVVybC5jb2RlLFxuICAgICAgYWN0aW9uQ29kZVVybC50ZW5hbnRJZFxuICAgICk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG4vKipcbiAqIE1hcCBvZiBPQXV0aCBDdXN0b20gUGFyYW1ldGVycy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEN1c3RvbVBhcmFtZXRlcnMgPSBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuXG4vKipcbiAqIFRoZSBiYXNlIGNsYXNzIGZvciBhbGwgRmVkZXJhdGVkIHByb3ZpZGVycyAoT0F1dGggKGluY2x1ZGluZyBPSURDKSwgU0FNTCkuXG4gKlxuICogVGhpcyBjbGFzcyBpcyBub3QgbWVhbnQgdG8gYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZlZGVyYXRlZEF1dGhQcm92aWRlciBpbXBsZW1lbnRzIEF1dGhQcm92aWRlciB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZGVmYXVsdExhbmd1YWdlQ29kZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJpdmF0ZSBjdXN0b21QYXJhbWV0ZXJzOiBDdXN0b21QYXJhbWV0ZXJzID0ge307XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBnZW5lcmljIE9BdXRoIHByb3ZpZGVycy5cbiAgICpcbiAgICogQHBhcmFtIHByb3ZpZGVySWQgLSBQcm92aWRlciBmb3Igd2hpY2ggY3JlZGVudGlhbHMgc2hvdWxkIGJlIGdlbmVyYXRlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHByb3ZpZGVySWQ6IHN0cmluZykge31cblxuICAvKipcbiAgICogU2V0IHRoZSBsYW5ndWFnZSBnb2RlLlxuICAgKlxuICAgKiBAcGFyYW0gbGFuZ3VhZ2VDb2RlIC0gbGFuZ3VhZ2UgY29kZVxuICAgKi9cbiAgc2V0RGVmYXVsdExhbmd1YWdlKGxhbmd1YWdlQ29kZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuZGVmYXVsdExhbmd1YWdlQ29kZSA9IGxhbmd1YWdlQ29kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBPQXV0aCBjdXN0b20gcGFyYW1ldGVycyB0byBwYXNzIGluIGFuIE9BdXRoIHJlcXVlc3QgZm9yIHBvcHVwIGFuZCByZWRpcmVjdCBzaWduLWluXG4gICAqIG9wZXJhdGlvbnMuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIEZvciBhIGRldGFpbGVkIGxpc3QsIGNoZWNrIHRoZSByZXNlcnZlZCByZXF1aXJlZCBPQXV0aCAyLjAgcGFyYW1ldGVycyBzdWNoIGFzIGBjbGllbnRfaWRgLFxuICAgKiBgcmVkaXJlY3RfdXJpYCwgYHNjb3BlYCwgYHJlc3BvbnNlX3R5cGVgLCBhbmQgYHN0YXRlYCBhcmUgbm90IGFsbG93ZWQgYW5kIHdpbGwgYmUgaWdub3JlZC5cbiAgICpcbiAgICogQHBhcmFtIGN1c3RvbU9BdXRoUGFyYW1ldGVycyAtIFRoZSBjdXN0b20gT0F1dGggcGFyYW1ldGVycyB0byBwYXNzIGluIHRoZSBPQXV0aCByZXF1ZXN0LlxuICAgKi9cbiAgc2V0Q3VzdG9tUGFyYW1ldGVycyhjdXN0b21PQXV0aFBhcmFtZXRlcnM6IEN1c3RvbVBhcmFtZXRlcnMpOiBBdXRoUHJvdmlkZXIge1xuICAgIHRoaXMuY3VzdG9tUGFyYW1ldGVycyA9IGN1c3RvbU9BdXRoUGFyYW1ldGVycztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgY3VycmVudCBsaXN0IG9mIHtAbGluayBDdXN0b21QYXJhbWV0ZXJzfS5cbiAgICovXG4gIGdldEN1c3RvbVBhcmFtZXRlcnMoKTogQ3VzdG9tUGFyYW1ldGVycyB7XG4gICAgcmV0dXJuIHRoaXMuY3VzdG9tUGFyYW1ldGVycztcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGhQcm92aWRlciwgVXNlckNyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5cbmltcG9ydCB7IE9BdXRoQ3JlZGVudGlhbCwgT0F1dGhDcmVkZW50aWFsUGFyYW1zIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMvb2F1dGgnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgU2lnbkluV2l0aElkcFJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vLi4vaW50ZXJuYWwnO1xuaW1wb3J0IHsgRmVkZXJhdGVkQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9mZWRlcmF0ZWQnO1xuXG4vKipcbiAqIERlZmluZXMgdGhlIG9wdGlvbnMgZm9yIGluaXRpYWxpemluZyBhbiB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfS5cbiAqXG4gKiBAcmVtYXJrc1xuICogRm9yIElEIHRva2VucyB3aXRoIG5vbmNlIGNsYWltLCB0aGUgcmF3IG5vbmNlIGhhcyB0byBhbHNvIGJlIHByb3ZpZGVkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPQXV0aENyZWRlbnRpYWxPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSBPQXV0aCBJRCB0b2tlbiB1c2VkIHRvIGluaXRpYWxpemUgdGhlIHtAbGluayBPQXV0aENyZWRlbnRpYWx9LlxuICAgKi9cbiAgaWRUb2tlbj86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4gdXNlZCB0byBpbml0aWFsaXplIHRoZSB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfS5cbiAgICovXG4gIGFjY2Vzc1Rva2VuPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHJhdyBub25jZSBhc3NvY2lhdGVkIHdpdGggdGhlIElEIHRva2VuLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBJdCBpcyByZXF1aXJlZCB3aGVuIGFuIElEIHRva2VuIHdpdGggYSBub25jZSBmaWVsZCBpcyBwcm92aWRlZC4gVGhlIFNIQS0yNTYgaGFzaCBvZiB0aGVcbiAgICogcmF3IG5vbmNlIG11c3QgbWF0Y2ggdGhlIG5vbmNlIGZpZWxkIGluIHRoZSBJRCB0b2tlbi5cbiAgICovXG4gIHJhd05vbmNlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIENvbW1vbiBjb2RlIHRvIGFsbCBPQXV0aCBwcm92aWRlcnMuIFRoaXMgaXMgc2VwYXJhdGUgZnJvbSB0aGVcbiAqIHtAbGluayBPQXV0aFByb3ZpZGVyfSBzbyB0aGF0IGNoaWxkIHByb3ZpZGVycyAobGlrZVxuICoge0BsaW5rIEdvb2dsZUF1dGhQcm92aWRlcn0pIGRvbid0IGluaGVyaXQgdGhlIGBjcmVkZW50aWFsYCBpbnN0YW5jZSBtZXRob2QuXG4gKiBJbnN0ZWFkLCB0aGV5IHJlbHkgb24gYSBzdGF0aWMgYGNyZWRlbnRpYWxgIG1ldGhvZC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VPQXV0aFByb3ZpZGVyXG4gIGV4dGVuZHMgRmVkZXJhdGVkQXV0aFByb3ZpZGVyXG4gIGltcGxlbWVudHMgQXV0aFByb3ZpZGVyXG57XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJpdmF0ZSBzY29wZXM6IHN0cmluZ1tdID0gW107XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBPQXV0aCBzY29wZSB0byB0aGUgY3JlZGVudGlhbC5cbiAgICpcbiAgICogQHBhcmFtIHNjb3BlIC0gUHJvdmlkZXIgT0F1dGggc2NvcGUgdG8gYWRkLlxuICAgKi9cbiAgYWRkU2NvcGUoc2NvcGU6IHN0cmluZyk6IEF1dGhQcm92aWRlciB7XG4gICAgLy8gSWYgbm90IGFscmVhZHkgYWRkZWQsIGFkZCBzY29wZSB0byBsaXN0LlxuICAgIGlmICghdGhpcy5zY29wZXMuaW5jbHVkZXMoc2NvcGUpKSB7XG4gICAgICB0aGlzLnNjb3Blcy5wdXNoKHNjb3BlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgdGhlIGN1cnJlbnQgbGlzdCBvZiBPQXV0aCBzY29wZXMuXG4gICAqL1xuICBnZXRTY29wZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBbLi4udGhpcy5zY29wZXNdO1xuICB9XG59XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcgZ2VuZXJpYyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHJlZGlyZWN0LlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgT0F1dGhQcm92aWRlcignZ29vZ2xlLmNvbScpO1xuICogLy8gU3RhcnQgYSBzaWduIGluIHByb2Nlc3MgZm9yIGFuIHVuYXV0aGVudGljYXRlZCB1c2VyLlxuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3Byb2ZpbGUnKTtcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdlbWFpbCcpO1xuICogYXdhaXQgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogaWYgKHJlc3VsdCkge1xuICogICAvLyBUaGlzIGlzIHRoZSBzaWduZWQtaW4gdXNlclxuICogICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgT0F1dGggQWNjZXNzIFRva2VuIGZvciB0aGUgcHJvdmlkZXIuXG4gKiAgIGNvbnN0IGNyZWRlbnRpYWwgPSBwcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChhdXRoLCByZXN1bHQpO1xuICogICBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHBvcHVwLlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgT0F1dGhQcm92aWRlcignZ29vZ2xlLmNvbScpO1xuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3Byb2ZpbGUnKTtcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdlbWFpbCcpO1xuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAqXG4gKiAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby5cbiAqIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqIC8vIFRoaXMgZ2l2ZXMgeW91IGEgT0F1dGggQWNjZXNzIFRva2VuIGZvciB0aGUgcHJvdmlkZXIuXG4gKiBjb25zdCBjcmVkZW50aWFsID0gcHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQoYXV0aCwgcmVzdWx0KTtcbiAqIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIGBgYFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgT0F1dGhQcm92aWRlciBleHRlbmRzIEJhc2VPQXV0aFByb3ZpZGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4ge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIEpTT04gc3RyaW5nIG9yIGEgcGxhaW4gb2JqZWN0LlxuICAgKiBAcGFyYW0ganNvbiAtIEEgcGxhaW4gb2JqZWN0IG9yIGEgSlNPTiBzdHJpbmdcbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbUpTT04oanNvbjogb2JqZWN0IHwgc3RyaW5nKTogT0F1dGhDcmVkZW50aWFsIHtcbiAgICBjb25zdCBvYmogPSB0eXBlb2YganNvbiA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGpzb24pIDoganNvbjtcbiAgICBfYXNzZXJ0KFxuICAgICAgJ3Byb3ZpZGVySWQnIGluIG9iaiAmJiAnc2lnbkluTWV0aG9kJyBpbiBvYmosXG4gICAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICAgKTtcbiAgICByZXR1cm4gT0F1dGhDcmVkZW50aWFsLl9mcm9tUGFyYW1zKG9iaik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSBnZW5lcmljIE9BdXRoIHByb3ZpZGVyJ3MgYWNjZXNzIHRva2VuIG9yIElEIHRva2VuLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGUgcmF3IG5vbmNlIGlzIHJlcXVpcmVkIHdoZW4gYW4gSUQgdG9rZW4gd2l0aCBhIG5vbmNlIGZpZWxkIGlzIHByb3ZpZGVkLiBUaGUgU0hBLTI1NiBoYXNoIG9mXG4gICAqIHRoZSByYXcgbm9uY2UgbXVzdCBtYXRjaCB0aGUgbm9uY2UgZmllbGQgaW4gdGhlIElEIHRva2VuLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIC8vIGBnb29nbGVVc2VyYCBmcm9tIHRoZSBvbnN1Y2Nlc3MgR29vZ2xlIFNpZ24gSW4gY2FsbGJhY2suXG4gICAqIC8vIEluaXRpYWxpemUgYSBnZW5lcmF0ZSBPQXV0aCBwcm92aWRlciB3aXRoIGEgYGdvb2dsZS5jb21gIHByb3ZpZGVySWQuXG4gICAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IE9BdXRoUHJvdmlkZXIoJ2dvb2dsZS5jb20nKTtcbiAgICogY29uc3QgY3JlZGVudGlhbCA9IHByb3ZpZGVyLmNyZWRlbnRpYWwoe1xuICAgKiAgIGlkVG9rZW46IGdvb2dsZVVzZXIuZ2V0QXV0aFJlc3BvbnNlKCkuaWRfdG9rZW4sXG4gICAqIH0pO1xuICAgKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoQ3JlZGVudGlhbChjcmVkZW50aWFsKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBFaXRoZXIgdGhlIG9wdGlvbnMgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIElEIHRva2VuLCBhY2Nlc3MgdG9rZW4gYW5kIHJhdyBub25jZVxuICAgKiBvciB0aGUgSUQgdG9rZW4gc3RyaW5nLlxuICAgKi9cbiAgY3JlZGVudGlhbChwYXJhbXM6IE9BdXRoQ3JlZGVudGlhbE9wdGlvbnMpOiBPQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiB0aGlzLl9jcmVkZW50aWFsKHsgLi4ucGFyYW1zLCBub25jZTogcGFyYW1zLnJhd05vbmNlIH0pO1xuICB9XG5cbiAgLyoqIEFuIGludGVybmFsIGNyZWRlbnRpYWwgbWV0aG9kIHRoYXQgYWNjZXB0cyBtb3JlIHBlcm1pc3NpdmUgb3B0aW9ucyAqL1xuICBwcml2YXRlIF9jcmVkZW50aWFsKFxuICAgIHBhcmFtczogT21pdDxPQXV0aENyZWRlbnRpYWxQYXJhbXMsICdzaWduSW5NZXRob2QnIHwgJ3Byb3ZpZGVySWQnPlxuICApOiBPQXV0aENyZWRlbnRpYWwge1xuICAgIF9hc3NlcnQocGFyYW1zLmlkVG9rZW4gfHwgcGFyYW1zLmFjY2Vzc1Rva2VuLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcbiAgICAvLyBGb3IgT0F1dGhDcmVkZW50aWFsLCBzaWduIGluIG1ldGhvZCBpcyBzYW1lIGFzIHByb3ZpZGVySWQuXG4gICAgcmV0dXJuIE9BdXRoQ3JlZGVudGlhbC5fZnJvbVBhcmFtcyh7XG4gICAgICAuLi5wYXJhbXMsXG4gICAgICBwcm92aWRlcklkOiB0aGlzLnByb3ZpZGVySWQsXG4gICAgICBzaWduSW5NZXRob2Q6IHRoaXMucHJvdmlkZXJJZFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIFVzZXJDcmVkZW50aWFsfS5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbVJlc3VsdChcbiAgICB1c2VyQ3JlZGVudGlhbDogVXNlckNyZWRlbnRpYWxcbiAgKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIE9BdXRoUHJvdmlkZXIub2F1dGhDcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIHVzZXJDcmVkZW50aWFsIGFzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBBdXRoRXJyb3J9IHdoaWNoIHdhc1xuICAgKiB0aHJvd24gZHVyaW5nIGEgc2lnbi1pbiwgbGluaywgb3IgcmVhdXRoZW50aWNhdGUgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tRXJyb3IoZXJyb3I6IEZpcmViYXNlRXJyb3IpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gT0F1dGhQcm92aWRlci5vYXV0aENyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgKGVycm9yLmN1c3RvbURhdGEgfHwge30pIGFzIFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIG9hdXRoQ3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3Qoe1xuICAgIF90b2tlblJlc3BvbnNlOiB0b2tlblJlc3BvbnNlXG4gIH06IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgaWYgKCF0b2tlblJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBvYXV0aElkVG9rZW4sXG4gICAgICBvYXV0aEFjY2Vzc1Rva2VuLFxuICAgICAgb2F1dGhUb2tlblNlY3JldCxcbiAgICAgIHBlbmRpbmdUb2tlbixcbiAgICAgIG5vbmNlLFxuICAgICAgcHJvdmlkZXJJZFxuICAgIH0gPSB0b2tlblJlc3BvbnNlIGFzIFNpZ25JbldpdGhJZHBSZXNwb25zZTtcbiAgICBpZiAoXG4gICAgICAhb2F1dGhBY2Nlc3NUb2tlbiAmJlxuICAgICAgIW9hdXRoVG9rZW5TZWNyZXQgJiZcbiAgICAgICFvYXV0aElkVG9rZW4gJiZcbiAgICAgICFwZW5kaW5nVG9rZW5cbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmICghcHJvdmlkZXJJZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgT0F1dGhQcm92aWRlcihwcm92aWRlcklkKS5fY3JlZGVudGlhbCh7XG4gICAgICAgIGlkVG9rZW46IG9hdXRoSWRUb2tlbixcbiAgICAgICAgYWNjZXNzVG9rZW46IG9hdXRoQWNjZXNzVG9rZW4sXG4gICAgICAgIG5vbmNlLFxuICAgICAgICBwZW5kaW5nVG9rZW5cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgT0F1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMvb2F1dGgnO1xuaW1wb3J0IHsgQmFzZU9BdXRoUHJvdmlkZXIgfSBmcm9tICcuL29hdXRoJztcbmltcG9ydCB7IFByb3ZpZGVySWQsIFNpZ25Jbk1ldGhvZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyBhbiB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmb3Ige0BsaW5rIFByb3ZpZGVySWR9LkZBQ0VCT09LLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICogLy8gU3RhcnQgYSBzaWduIGluIHByb2Nlc3MgZm9yIGFuIHVuYXV0aGVudGljYXRlZCB1c2VyLlxuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3VzZXJfYmlydGhkYXknKTtcbiAqIGF3YWl0IHNpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIGlmIChyZXN1bHQpIHtcbiAqICAgLy8gVGhpcyBpcyB0aGUgc2lnbmVkLWluIHVzZXJcbiAqICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogICAvLyBUaGlzIGdpdmVzIHlvdSBhIEZhY2Vib29rIEFjY2VzcyBUb2tlbi5cbiAqICAgY29uc3QgY3JlZGVudGlhbCA9IEZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHJlc3VsdCk7XG4gKiAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcG9wdXAuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3VzZXJfYmlydGhkYXknKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gKlxuICogLy8gVGhlIHNpZ25lZC1pbiB1c2VyIGluZm8uXG4gKiBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAvLyBUaGlzIGdpdmVzIHlvdSBhIEZhY2Vib29rIEFjY2VzcyBUb2tlbi5cbiAqIGNvbnN0IGNyZWRlbnRpYWwgPSBGYWNlYm9va0F1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICogY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgRmFjZWJvb2tBdXRoUHJvdmlkZXIgZXh0ZW5kcyBCYXNlT0F1dGhQcm92aWRlciB7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBTaWduSW5NZXRob2R9LkZBQ0VCT09LLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgRkFDRUJPT0tfU0lHTl9JTl9NRVRIT0Q6ICdmYWNlYm9vay5jb20nID1cbiAgICBTaWduSW5NZXRob2QuRkFDRUJPT0s7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBQcm92aWRlcklkfS5GQUNFQk9PSy4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IFBST1ZJREVSX0lEOiAnZmFjZWJvb2suY29tJyA9IFByb3ZpZGVySWQuRkFDRUJPT0s7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoUHJvdmlkZXJJZC5GQUNFQk9PSyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNyZWRlbnRpYWwgZm9yIEZhY2Vib29rLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIC8vIGBldmVudGAgZnJvbSB0aGUgRmFjZWJvb2sgYXV0aC5hdXRoUmVzcG9uc2VDaGFuZ2UgY2FsbGJhY2suXG4gICAqIGNvbnN0IGNyZWRlbnRpYWwgPSBGYWNlYm9va0F1dGhQcm92aWRlci5jcmVkZW50aWFsKGV2ZW50LmF1dGhSZXNwb25zZS5hY2Nlc3NUb2tlbik7XG4gICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhDcmVkZW50aWFsKGNyZWRlbnRpYWwpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGFjY2Vzc1Rva2VuIC0gRmFjZWJvb2sgYWNjZXNzIHRva2VuLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWwoYWNjZXNzVG9rZW46IHN0cmluZyk6IE9BdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIE9BdXRoQ3JlZGVudGlhbC5fZnJvbVBhcmFtcyh7XG4gICAgICBwcm92aWRlcklkOiBGYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUl9JRCxcbiAgICAgIHNpZ25Jbk1ldGhvZDogRmFjZWJvb2tBdXRoUHJvdmlkZXIuRkFDRUJPT0tfU0lHTl9JTl9NRVRIT0QsXG4gICAgICBhY2Nlc3NUb2tlblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIFVzZXJDcmVkZW50aWFsfS5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbVJlc3VsdChcbiAgICB1c2VyQ3JlZGVudGlhbDogVXNlckNyZWRlbnRpYWxcbiAgKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIEZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgdXNlckNyZWRlbnRpYWwgYXMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgQXV0aEVycm9yfSB3aGljaCB3YXNcbiAgICogdGhyb3duIGR1cmluZyBhIHNpZ24taW4sIGxpbmssIG9yIHJlYXV0aGVudGljYXRlIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbUVycm9yKGVycm9yOiBGaXJlYmFzZUVycm9yKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIEZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgKGVycm9yLmN1c3RvbURhdGEgfHwge30pIGFzIFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KHtcbiAgICBfdG9rZW5SZXNwb25zZTogdG9rZW5SZXNwb25zZVxuICB9OiBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGlmICghdG9rZW5SZXNwb25zZSB8fCAhKCdvYXV0aEFjY2Vzc1Rva2VuJyBpbiB0b2tlblJlc3BvbnNlKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCF0b2tlblJlc3BvbnNlLm9hdXRoQWNjZXNzVG9rZW4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gRmFjZWJvb2tBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh0b2tlblJlc3BvbnNlLm9hdXRoQWNjZXNzVG9rZW4pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgU2lnbkluV2l0aElkcFJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2lkcCc7XG5pbXBvcnQgeyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IE9BdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzL29hdXRoJztcbmltcG9ydCB7IEJhc2VPQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9vYXV0aCc7XG5pbXBvcnQgeyBQcm92aWRlcklkLCBTaWduSW5NZXRob2QgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcgYW4ge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZm9yIHtAbGluayBQcm92aWRlcklkfS5HT09HTEUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSByZWRpcmVjdC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEdvb2dsZUF1dGhQcm92aWRlcigpO1xuICogLy8gU3RhcnQgYSBzaWduIGluIHByb2Nlc3MgZm9yIGFuIHVuYXV0aGVudGljYXRlZCB1c2VyLlxuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3Byb2ZpbGUnKTtcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdlbWFpbCcpO1xuICogYXdhaXQgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogaWYgKHJlc3VsdCkge1xuICogICAvLyBUaGlzIGlzIHRoZSBzaWduZWQtaW4gdXNlclxuICogICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgR29vZ2xlIEFjY2VzcyBUb2tlbi5cbiAqICAgY29uc3QgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICogICBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHBvcHVwLlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG4gKiBwcm92aWRlci5hZGRTY29wZSgncHJvZmlsZScpO1xuICogcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICpcbiAqIC8vIFRoZSBzaWduZWQtaW4gdXNlciBpbmZvLlxuICogY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogLy8gVGhpcyBnaXZlcyB5b3UgYSBHb29nbGUgQWNjZXNzIFRva2VuLlxuICogY29uc3QgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICogY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgR29vZ2xlQXV0aFByb3ZpZGVyIGV4dGVuZHMgQmFzZU9BdXRoUHJvdmlkZXIge1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgU2lnbkluTWV0aG9kfS5HT09HTEUuICovXG4gIHN0YXRpYyByZWFkb25seSBHT09HTEVfU0lHTl9JTl9NRVRIT0Q6ICdnb29nbGUuY29tJyA9IFNpZ25Jbk1ldGhvZC5HT09HTEU7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBQcm92aWRlcklkfS5HT09HTEUuICovXG4gIHN0YXRpYyByZWFkb25seSBQUk9WSURFUl9JRDogJ2dvb2dsZS5jb20nID0gUHJvdmlkZXJJZC5HT09HTEU7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoUHJvdmlkZXJJZC5HT09HTEUpO1xuICAgIHRoaXMuYWRkU2NvcGUoJ3Byb2ZpbGUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY3JlZGVudGlhbCBmb3IgR29vZ2xlLiBBdCBsZWFzdCBvbmUgb2YgSUQgdG9rZW4gYW5kIGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiAvLyBcXGBnb29nbGVVc2VyXFxgIGZyb20gdGhlIG9uc3VjY2VzcyBHb29nbGUgU2lnbiBJbiBjYWxsYmFjay5cbiAgICogY29uc3QgY3JlZGVudGlhbCA9IEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsKGdvb2dsZVVzZXIuZ2V0QXV0aFJlc3BvbnNlKCkuaWRfdG9rZW4pO1xuICAgKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoQ3JlZGVudGlhbChjcmVkZW50aWFsKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBpZFRva2VuIC0gR29vZ2xlIElEIHRva2VuLlxuICAgKiBAcGFyYW0gYWNjZXNzVG9rZW4gLSBHb29nbGUgYWNjZXNzIHRva2VuLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWwoXG4gICAgaWRUb2tlbj86IHN0cmluZyB8IG51bGwsXG4gICAgYWNjZXNzVG9rZW4/OiBzdHJpbmcgfCBudWxsXG4gICk6IE9BdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIE9BdXRoQ3JlZGVudGlhbC5fZnJvbVBhcmFtcyh7XG4gICAgICBwcm92aWRlcklkOiBHb29nbGVBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQsXG4gICAgICBzaWduSW5NZXRob2Q6IEdvb2dsZUF1dGhQcm92aWRlci5HT09HTEVfU0lHTl9JTl9NRVRIT0QsXG4gICAgICBpZFRva2VuLFxuICAgICAgYWNjZXNzVG9rZW5cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBVc2VyQ3JlZGVudGlhbH0uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21SZXN1bHQoXG4gICAgdXNlckNyZWRlbnRpYWw6IFVzZXJDcmVkZW50aWFsXG4gICk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICB1c2VyQ3JlZGVudGlhbCBhcyBVc2VyQ3JlZGVudGlhbEludGVybmFsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgQXV0aEVycm9yfSB3aGljaCB3YXNcbiAgICogdGhyb3duIGR1cmluZyBhIHNpZ24taW4sIGxpbmssIG9yIHJlYXV0aGVudGljYXRlIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbUVycm9yKGVycm9yOiBGaXJlYmFzZUVycm9yKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIChlcnJvci5jdXN0b21EYXRhIHx8IHt9KSBhcyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdCh7XG4gICAgX3Rva2VuUmVzcG9uc2U6IHRva2VuUmVzcG9uc2VcbiAgfTogVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBpZiAoIXRva2VuUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHsgb2F1dGhJZFRva2VuLCBvYXV0aEFjY2Vzc1Rva2VuIH0gPVxuICAgICAgdG9rZW5SZXNwb25zZSBhcyBTaWduSW5XaXRoSWRwUmVzcG9uc2U7XG4gICAgaWYgKCFvYXV0aElkVG9rZW4gJiYgIW9hdXRoQWNjZXNzVG9rZW4pIHtcbiAgICAgIC8vIFRoaXMgY291bGQgYmUgYW4gb2F1dGggMSBjcmVkZW50aWFsIG9yIGEgcGhvbmUgY3JlZGVudGlhbFxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBHb29nbGVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChvYXV0aElkVG9rZW4sIG9hdXRoQWNjZXNzVG9rZW4pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBPQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscy9vYXV0aCc7XG5pbXBvcnQgeyBCYXNlT0F1dGhQcm92aWRlciB9IGZyb20gJy4vb2F1dGgnO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCwgU2lnbkluTWV0aG9kIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIGFuIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZvciB7QGxpbmsgUHJvdmlkZXJJZH0uR0lUSFVCLlxuICpcbiAqIEByZW1hcmtzXG4gKiBHaXRIdWIgcmVxdWlyZXMgYW4gT0F1dGggMi4wIHJlZGlyZWN0LCBzbyB5b3UgY2FuIGVpdGhlciBoYW5kbGUgdGhlIHJlZGlyZWN0IGRpcmVjdGx5LCBvciB1c2VcbiAqIHRoZSB7QGxpbmsgc2lnbkluV2l0aFBvcHVwfSBoYW5kbGVyOlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBHaXRodWJBdXRoUHJvdmlkZXIoKTtcbiAqIC8vIFN0YXJ0IGEgc2lnbiBpbiBwcm9jZXNzIGZvciBhbiB1bmF1dGhlbnRpY2F0ZWQgdXNlci5cbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdyZXBvJyk7XG4gKiBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiBpZiAocmVzdWx0KSB7XG4gKiAgIC8vIFRoaXMgaXMgdGhlIHNpZ25lZC1pbiB1c2VyXG4gKiAgIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBHaXRIdWIgQWNjZXNzIFRva2VuLlxuICogICBjb25zdCBjcmVkZW50aWFsID0gR2l0aHViQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHJlc3VsdCk7XG4gKiAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcG9wdXAuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBHaXRodWJBdXRoUHJvdmlkZXIoKTtcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdyZXBvJyk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICpcbiAqIC8vIFRoZSBzaWduZWQtaW4gdXNlciBpbmZvLlxuICogY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogLy8gVGhpcyBnaXZlcyB5b3UgYSBHaXRIdWIgQWNjZXNzIFRva2VuLlxuICogY29uc3QgY3JlZGVudGlhbCA9IEdpdGh1YkF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChyZXN1bHQpO1xuICogY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogYGBgXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBHaXRodWJBdXRoUHJvdmlkZXIgZXh0ZW5kcyBCYXNlT0F1dGhQcm92aWRlciB7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBTaWduSW5NZXRob2R9LkdJVEhVQi4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IEdJVEhVQl9TSUdOX0lOX01FVEhPRDogJ2dpdGh1Yi5jb20nID0gU2lnbkluTWV0aG9kLkdJVEhVQjtcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFByb3ZpZGVySWR9LkdJVEhVQi4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IFBST1ZJREVSX0lEOiAnZ2l0aHViLmNvbScgPSBQcm92aWRlcklkLkdJVEhVQjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihQcm92aWRlcklkLkdJVEhVQik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNyZWRlbnRpYWwgZm9yIEdpdEh1Yi5cbiAgICpcbiAgICogQHBhcmFtIGFjY2Vzc1Rva2VuIC0gR2l0SHViIGFjY2VzcyB0b2tlbi5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsKGFjY2Vzc1Rva2VuOiBzdHJpbmcpOiBPQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBPQXV0aENyZWRlbnRpYWwuX2Zyb21QYXJhbXMoe1xuICAgICAgcHJvdmlkZXJJZDogR2l0aHViQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lELFxuICAgICAgc2lnbkluTWV0aG9kOiBHaXRodWJBdXRoUHJvdmlkZXIuR0lUSFVCX1NJR05fSU5fTUVUSE9ELFxuICAgICAgYWNjZXNzVG9rZW5cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBVc2VyQ3JlZGVudGlhbH0uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21SZXN1bHQoXG4gICAgdXNlckNyZWRlbnRpYWw6IFVzZXJDcmVkZW50aWFsXG4gICk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBHaXRodWJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICB1c2VyQ3JlZGVudGlhbCBhcyBVc2VyQ3JlZGVudGlhbEludGVybmFsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBBdXRoRXJyb3J9IHdoaWNoIHdhc1xuICAgKiB0aHJvd24gZHVyaW5nIGEgc2lnbi1pbiwgbGluaywgb3IgcmVhdXRoZW50aWNhdGUgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tRXJyb3IoZXJyb3I6IEZpcmViYXNlRXJyb3IpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gR2l0aHViQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgKGVycm9yLmN1c3RvbURhdGEgfHwge30pIGFzIFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KHtcbiAgICBfdG9rZW5SZXNwb25zZTogdG9rZW5SZXNwb25zZVxuICB9OiBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGlmICghdG9rZW5SZXNwb25zZSB8fCAhKCdvYXV0aEFjY2Vzc1Rva2VuJyBpbiB0b2tlblJlc3BvbnNlKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCF0b2tlblJlc3BvbnNlLm9hdXRoQWNjZXNzVG9rZW4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gR2l0aHViQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwodG9rZW5SZXNwb25zZS5vYXV0aEFjY2Vzc1Rva2VuKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgU0FNTCBjcmVkZW50aWFscyByZXR1cm5lZCBieSBhbiB7QGxpbmsgU0FNTEF1dGhQcm92aWRlcn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5cbmltcG9ydCB7XG4gIHNpZ25JbldpdGhJZHAsXG4gIFNpZ25JbldpdGhJZHBSZXF1ZXN0XG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9pZHAnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vYXV0aF9jcmVkZW50aWFsJztcblxuY29uc3QgSURQX1JFUVVFU1RfVVJJID0gJ2h0dHA6Ly9sb2NhbGhvc3QnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFNBTUxBdXRoQ3JlZGVudGlhbCBleHRlbmRzIEF1dGhDcmVkZW50aWFsIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIHByb3ZpZGVySWQ6IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBlbmRpbmdUb2tlbjogc3RyaW5nXG4gICkge1xuICAgIHN1cGVyKHByb3ZpZGVySWQsIHByb3ZpZGVySWQpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZ2V0SWRUb2tlblJlc3BvbnNlKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuYnVpbGRSZXF1ZXN0KCk7XG4gICAgcmV0dXJuIHNpZ25JbldpdGhJZHAoYXV0aCwgcmVxdWVzdCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9saW5rVG9JZFRva2VuKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBpZFRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5idWlsZFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0LmlkVG9rZW4gPSBpZFRva2VuO1xuICAgIHJldHVybiBzaWduSW5XaXRoSWRwKGF1dGgsIHJlcXVlc3QpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZ2V0UmVhdXRoZW50aWNhdGlvblJlc29sdmVyKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuYnVpbGRSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5hdXRvQ3JlYXRlID0gZmFsc2U7XG4gICAgcmV0dXJuIHNpZ25JbldpdGhJZHAoYXV0aCwgcmVxdWVzdCk7XG4gIH1cblxuICAvKioge0Bpbmhlcml0ZG9jIEF1dGhDcmVkZW50aWFsLnRvSlNPTn0gICovXG4gIHRvSlNPTigpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICBzaWduSW5NZXRob2Q6IHRoaXMuc2lnbkluTWV0aG9kLFxuICAgICAgcHJvdmlkZXJJZDogdGhpcy5wcm92aWRlcklkLFxuICAgICAgcGVuZGluZ1Rva2VuOiB0aGlzLnBlbmRpbmdUb2tlblxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3RhdGljIG1ldGhvZCB0byBkZXNlcmlhbGl6ZSBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYW4gb2JqZWN0IGludG8gYW5cbiAgICoge0BsaW5rICBBdXRoQ3JlZGVudGlhbH0uXG4gICAqXG4gICAqIEBwYXJhbSBqc29uIC0gSW5wdXQgY2FuIGJlIGVpdGhlciBPYmplY3Qgb3IgdGhlIHN0cmluZ2lmaWVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QuXG4gICAqIFdoZW4gc3RyaW5nIGlzIHByb3ZpZGVkLCBKU09OLnBhcnNlIHdvdWxkIGJlIGNhbGxlZCBmaXJzdC5cbiAgICpcbiAgICogQHJldHVybnMgSWYgdGhlIEpTT04gaW5wdXQgZG9lcyBub3QgcmVwcmVzZW50IGFuIHtAbGluayAgQXV0aENyZWRlbnRpYWx9LCBudWxsIGlzIHJldHVybmVkLlxuICAgKi9cbiAgc3RhdGljIGZyb21KU09OKGpzb246IHN0cmluZyB8IG9iamVjdCk6IFNBTUxBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGNvbnN0IG9iaiA9IHR5cGVvZiBqc29uID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoanNvbikgOiBqc29uO1xuICAgIGNvbnN0IHsgcHJvdmlkZXJJZCwgc2lnbkluTWV0aG9kLCBwZW5kaW5nVG9rZW4gfTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9XG4gICAgICBvYmo7XG4gICAgaWYgKFxuICAgICAgIXByb3ZpZGVySWQgfHxcbiAgICAgICFzaWduSW5NZXRob2QgfHxcbiAgICAgICFwZW5kaW5nVG9rZW4gfHxcbiAgICAgIHByb3ZpZGVySWQgIT09IHNpZ25Jbk1ldGhvZFxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBTQU1MQXV0aENyZWRlbnRpYWwocHJvdmlkZXJJZCwgcGVuZGluZ1Rva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgc3RhdGljIG1ldGhvZCB0byBhdm9pZCBleHBvc2luZyB0aGUgY29uc3RydWN0b3IgdG8gZW5kIHVzZXJzLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlKHByb3ZpZGVySWQ6IHN0cmluZywgcGVuZGluZ1Rva2VuOiBzdHJpbmcpOiBTQU1MQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBuZXcgU0FNTEF1dGhDcmVkZW50aWFsKHByb3ZpZGVySWQsIHBlbmRpbmdUb2tlbik7XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkUmVxdWVzdCgpOiBTaWduSW5XaXRoSWRwUmVxdWVzdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVlc3RVcmk6IElEUF9SRVFVRVNUX1VSSSxcbiAgICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlLFxuICAgICAgcGVuZGluZ1Rva2VuOiB0aGlzLnBlbmRpbmdUb2tlblxuICAgIH07XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgU2lnbkluV2l0aElkcFJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2lkcCc7XG5pbXBvcnQgeyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMnO1xuaW1wb3J0IHsgU0FNTEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMvc2FtbCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIgfSBmcm9tICcuL2ZlZGVyYXRlZCc7XG5cbmNvbnN0IFNBTUxfUFJPVklERVJfUFJFRklYID0gJ3NhbWwuJztcblxuLyoqXG4gKiBBbiB7QGxpbmsgQXV0aFByb3ZpZGVyfSBmb3IgU0FNTC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBTQU1MQXV0aFByb3ZpZGVyIGV4dGVuZHMgRmVkZXJhdGVkQXV0aFByb3ZpZGVyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yLiBUaGUgcHJvdmlkZXJJZCBtdXN0IHN0YXJ0IHdpdGggXCJzYW1sLlwiXG4gICAqIEBwYXJhbSBwcm92aWRlcklkIC0gU0FNTCBwcm92aWRlciBJRC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByb3ZpZGVySWQ6IHN0cmluZykge1xuICAgIF9hc3NlcnQoXG4gICAgICBwcm92aWRlcklkLnN0YXJ0c1dpdGgoU0FNTF9QUk9WSURFUl9QUkVGSVgpLFxuICAgICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICAgICk7XG4gICAgc3VwZXIocHJvdmlkZXJJZCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIGFuIHtAbGluayBBdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBVc2VyQ3JlZGVudGlhbH0gYWZ0ZXIgYVxuICAgKiBzdWNjZXNzZnVsIFNBTUwgZmxvdyBjb21wbGV0ZXMuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCB0byBnZXQgYW4ge0BsaW5rIEF1dGhDcmVkZW50aWFsfSwgeW91IGNvdWxkIHdyaXRlIHRoZVxuICAgKiBmb2xsb3dpbmcgY29kZTpcbiAgICpcbiAgICogYGBganNcbiAgICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgc2FtbFByb3ZpZGVyKTtcbiAgICogY29uc3QgY3JlZGVudGlhbCA9IFNBTUxBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQodXNlckNyZWRlbnRpYWwpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbVJlc3VsdChcbiAgICB1c2VyQ3JlZGVudGlhbDogVXNlckNyZWRlbnRpYWxcbiAgKTogQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gU0FNTEF1dGhQcm92aWRlci5zYW1sQ3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICB1c2VyQ3JlZGVudGlhbCBhcyBVc2VyQ3JlZGVudGlhbEludGVybmFsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBBdXRoRXJyb3J9IHdoaWNoIHdhc1xuICAgKiB0aHJvd24gZHVyaW5nIGEgc2lnbi1pbiwgbGluaywgb3IgcmVhdXRoZW50aWNhdGUgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tRXJyb3IoZXJyb3I6IEZpcmViYXNlRXJyb3IpOiBBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBTQU1MQXV0aFByb3ZpZGVyLnNhbWxDcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIChlcnJvci5jdXN0b21EYXRhIHx8IHt9KSBhcyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiB7QGxpbmsgQXV0aENyZWRlbnRpYWx9IGZyb20gYSBKU09OIHN0cmluZyBvciBhIHBsYWluIG9iamVjdC5cbiAgICogQHBhcmFtIGpzb24gLSBBIHBsYWluIG9iamVjdCBvciBhIEpTT04gc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21KU09OKGpzb246IHN0cmluZyB8IG9iamVjdCk6IEF1dGhDcmVkZW50aWFsIHtcbiAgICBjb25zdCBjcmVkZW50aWFsID0gU0FNTEF1dGhDcmVkZW50aWFsLmZyb21KU09OKGpzb24pO1xuICAgIF9hc3NlcnQoY3JlZGVudGlhbCwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG4gICAgcmV0dXJuIGNyZWRlbnRpYWw7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBzYW1sQ3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3Qoe1xuICAgIF90b2tlblJlc3BvbnNlOiB0b2tlblJlc3BvbnNlXG4gIH06IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlKTogU0FNTEF1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgaWYgKCF0b2tlblJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB7IHBlbmRpbmdUb2tlbiwgcHJvdmlkZXJJZCB9ID0gdG9rZW5SZXNwb25zZSBhcyBTaWduSW5XaXRoSWRwUmVzcG9uc2U7XG5cbiAgICBpZiAoIXBlbmRpbmdUb2tlbiB8fCAhcHJvdmlkZXJJZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBTQU1MQXV0aENyZWRlbnRpYWwuX2NyZWF0ZShwcm92aWRlcklkLCBwZW5kaW5nVG9rZW4pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIFR3aXR0ZXIgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBTaWduSW5XaXRoSWRwUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vaWRwJztcbmltcG9ydCB7IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgT0F1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMvb2F1dGgnO1xuaW1wb3J0IHsgQmFzZU9BdXRoUHJvdmlkZXIgfSBmcm9tICcuL29hdXRoJztcbmltcG9ydCB7IFByb3ZpZGVySWQsIFNpZ25Jbk1ldGhvZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyBhbiB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmb3Ige0BsaW5rIFByb3ZpZGVySWR9LlRXSVRURVIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSByZWRpcmVjdC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IFR3aXR0ZXJBdXRoUHJvdmlkZXIoKTtcbiAqIC8vIFN0YXJ0IGEgc2lnbiBpbiBwcm9jZXNzIGZvciBhbiB1bmF1dGhlbnRpY2F0ZWQgdXNlci5cbiAqIGF3YWl0IHNpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIGlmIChyZXN1bHQpIHtcbiAqICAgLy8gVGhpcyBpcyB0aGUgc2lnbmVkLWluIHVzZXJcbiAqICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogICAvLyBUaGlzIGdpdmVzIHlvdSBhIFR3aXR0ZXIgQWNjZXNzIFRva2VuIGFuZCBTZWNyZXQuXG4gKiAgIGNvbnN0IGNyZWRlbnRpYWwgPSBUd2l0dGVyQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHJlc3VsdCk7XG4gKiAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqICAgY29uc3Qgc2VjcmV0ID0gY3JlZGVudGlhbC5zZWNyZXQ7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHBvcHVwLlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgVHdpdHRlckF1dGhQcm92aWRlcigpO1xuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAqXG4gKiAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby5cbiAqIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqIC8vIFRoaXMgZ2l2ZXMgeW91IGEgVHdpdHRlciBBY2Nlc3MgVG9rZW4gYW5kIFNlY3JldC5cbiAqIGNvbnN0IGNyZWRlbnRpYWwgPSBUd2l0dGVyQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHJlc3VsdCk7XG4gKiBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiBjb25zdCBzZWNyZXQgPSBjcmVkZW50aWFsLnNlY3JldDtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFR3aXR0ZXJBdXRoUHJvdmlkZXIgZXh0ZW5kcyBCYXNlT0F1dGhQcm92aWRlciB7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBTaWduSW5NZXRob2R9LlRXSVRURVIuICovXG4gIHN0YXRpYyByZWFkb25seSBUV0lUVEVSX1NJR05fSU5fTUVUSE9EOiAndHdpdHRlci5jb20nID0gU2lnbkluTWV0aG9kLlRXSVRURVI7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBQcm92aWRlcklkfS5UV0lUVEVSLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfSUQ6ICd0d2l0dGVyLmNvbScgPSBQcm92aWRlcklkLlRXSVRURVI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoUHJvdmlkZXJJZC5UV0lUVEVSKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY3JlZGVudGlhbCBmb3IgVHdpdHRlci5cbiAgICpcbiAgICogQHBhcmFtIHRva2VuIC0gVHdpdHRlciBhY2Nlc3MgdG9rZW4uXG4gICAqIEBwYXJhbSBzZWNyZXQgLSBUd2l0dGVyIHNlY3JldC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsKHRva2VuOiBzdHJpbmcsIHNlY3JldDogc3RyaW5nKTogT0F1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gT0F1dGhDcmVkZW50aWFsLl9mcm9tUGFyYW1zKHtcbiAgICAgIHByb3ZpZGVySWQ6IFR3aXR0ZXJBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQsXG4gICAgICBzaWduSW5NZXRob2Q6IFR3aXR0ZXJBdXRoUHJvdmlkZXIuVFdJVFRFUl9TSUdOX0lOX01FVEhPRCxcbiAgICAgIG9hdXRoVG9rZW46IHRva2VuLFxuICAgICAgb2F1dGhUb2tlblNlY3JldDogc2VjcmV0XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgVXNlckNyZWRlbnRpYWx9LlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tUmVzdWx0KFxuICAgIHVzZXJDcmVkZW50aWFsOiBVc2VyQ3JlZGVudGlhbFxuICApOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gVHdpdHRlckF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIHVzZXJDcmVkZW50aWFsIGFzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIEF1dGhFcnJvcn0gd2hpY2ggd2FzXG4gICAqIHRocm93biBkdXJpbmcgYSBzaWduLWluLCBsaW5rLCBvciByZWF1dGhlbnRpY2F0ZSBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21FcnJvcihlcnJvcjogRmlyZWJhc2VFcnJvcik6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBUd2l0dGVyQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgKGVycm9yLmN1c3RvbURhdGEgfHwge30pIGFzIFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KHtcbiAgICBfdG9rZW5SZXNwb25zZTogdG9rZW5SZXNwb25zZVxuICB9OiBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGlmICghdG9rZW5SZXNwb25zZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgb2F1dGhBY2Nlc3NUb2tlbiwgb2F1dGhUb2tlblNlY3JldCB9ID1cbiAgICAgIHRva2VuUmVzcG9uc2UgYXMgU2lnbkluV2l0aElkcFJlc3BvbnNlO1xuICAgIGlmICghb2F1dGhBY2Nlc3NUb2tlbiB8fCAhb2F1dGhUb2tlblNlY3JldCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBUd2l0dGVyQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwob2F1dGhBY2Nlc3NUb2tlbiwgb2F1dGhUb2tlblNlY3JldCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgUmVjYXB0Y2hhQ2xpZW50VHlwZSxcbiAgUmVjYXB0Y2hhVmVyc2lvbixcbiAgX2FkZFRpZElmTmVjZXNzYXJ5LFxuICBfcGVyZm9ybVNpZ25JblJlcXVlc3Rcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnblVwUmVxdWVzdCB7XG4gIGlkVG9rZW4/OiBzdHJpbmc7XG4gIHJldHVyblNlY3VyZVRva2VuPzogYm9vbGVhbjtcbiAgZW1haWw/OiBzdHJpbmc7XG4gIHBhc3N3b3JkPzogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbiAgY2FwdGNoYVJlc3BvbnNlPzogc3RyaW5nO1xuICBjbGllbnRUeXBlPzogUmVjYXB0Y2hhQ2xpZW50VHlwZTtcbiAgcmVjYXB0Y2hhVmVyc2lvbj86IFJlY2FwdGNoYVZlcnNpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnblVwUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgZW1haWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduVXAoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNpZ25VcFJlcXVlc3Rcbik6IFByb21pc2U8U2lnblVwUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtU2lnbkluUmVxdWVzdDxTaWduVXBSZXF1ZXN0LCBTaWduVXBSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9VUCxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwsIFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IFVzZXJJbXBsIH0gZnJvbSAnLi91c2VyX2ltcGwnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlLCBQcm92aWRlcklkIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG5pbnRlcmZhY2UgVXNlckNyZWRlbnRpYWxQYXJhbXMge1xuICByZWFkb25seSB1c2VyOiBVc2VySW50ZXJuYWw7XG4gIHJlYWRvbmx5IHByb3ZpZGVySWQ6IFByb3ZpZGVySWQgfCBzdHJpbmcgfCBudWxsO1xuICByZWFkb25seSBfdG9rZW5SZXNwb25zZT86IFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2U7XG4gIHJlYWRvbmx5IG9wZXJhdGlvblR5cGU6IE9wZXJhdGlvblR5cGU7XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VyQ3JlZGVudGlhbEltcGxcbiAgaW1wbGVtZW50cyBVc2VyQ3JlZGVudGlhbEludGVybmFsLCBVc2VyQ3JlZGVudGlhbFBhcmFtc1xue1xuICByZWFkb25seSB1c2VyOiBVc2VySW50ZXJuYWw7XG4gIHJlYWRvbmx5IHByb3ZpZGVySWQ6IFByb3ZpZGVySWQgfCBzdHJpbmcgfCBudWxsO1xuICByZWFkb25seSBfdG9rZW5SZXNwb25zZTogUGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZSB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgb3BlcmF0aW9uVHlwZTogT3BlcmF0aW9uVHlwZTtcblxuICBjb25zdHJ1Y3RvcihwYXJhbXM6IFVzZXJDcmVkZW50aWFsUGFyYW1zKSB7XG4gICAgdGhpcy51c2VyID0gcGFyYW1zLnVzZXI7XG4gICAgdGhpcy5wcm92aWRlcklkID0gcGFyYW1zLnByb3ZpZGVySWQ7XG4gICAgdGhpcy5fdG9rZW5SZXNwb25zZSA9IHBhcmFtcy5fdG9rZW5SZXNwb25zZTtcbiAgICB0aGlzLm9wZXJhdGlvblR5cGUgPSBwYXJhbXMub3BlcmF0aW9uVHlwZTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBfZnJvbUlkVG9rZW5SZXNwb25zZShcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgb3BlcmF0aW9uVHlwZTogT3BlcmF0aW9uVHlwZSxcbiAgICBpZFRva2VuUmVzcG9uc2U6IElkVG9rZW5SZXNwb25zZSxcbiAgICBpc0Fub255bW91czogYm9vbGVhbiA9IGZhbHNlXG4gICk6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbD4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VySW1wbC5fZnJvbUlkVG9rZW5SZXNwb25zZShcbiAgICAgIGF1dGgsXG4gICAgICBpZFRva2VuUmVzcG9uc2UsXG4gICAgICBpc0Fub255bW91c1xuICAgICk7XG4gICAgY29uc3QgcHJvdmlkZXJJZCA9IHByb3ZpZGVySWRGb3JSZXNwb25zZShpZFRva2VuUmVzcG9uc2UpO1xuICAgIGNvbnN0IHVzZXJDcmVkID0gbmV3IFVzZXJDcmVkZW50aWFsSW1wbCh7XG4gICAgICB1c2VyLFxuICAgICAgcHJvdmlkZXJJZCxcbiAgICAgIF90b2tlblJlc3BvbnNlOiBpZFRva2VuUmVzcG9uc2UsXG4gICAgICBvcGVyYXRpb25UeXBlXG4gICAgfSk7XG4gICAgcmV0dXJuIHVzZXJDcmVkO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9mb3JPcGVyYXRpb24oXG4gICAgdXNlcjogVXNlckludGVybmFsLFxuICAgIG9wZXJhdGlvblR5cGU6IE9wZXJhdGlvblR5cGUsXG4gICAgcmVzcG9uc2U6IFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2VcbiAgKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEltcGw+IHtcbiAgICBhd2FpdCB1c2VyLl91cGRhdGVUb2tlbnNJZk5lY2Vzc2FyeShyZXNwb25zZSwgLyogcmVsb2FkICovIHRydWUpO1xuICAgIGNvbnN0IHByb3ZpZGVySWQgPSBwcm92aWRlcklkRm9yUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIHJldHVybiBuZXcgVXNlckNyZWRlbnRpYWxJbXBsKHtcbiAgICAgIHVzZXIsXG4gICAgICBwcm92aWRlcklkLFxuICAgICAgX3Rva2VuUmVzcG9uc2U6IHJlc3BvbnNlLFxuICAgICAgb3BlcmF0aW9uVHlwZVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb3ZpZGVySWRGb3JSZXNwb25zZShcbiAgcmVzcG9uc2U6IElkVG9rZW5SZXNwb25zZVxuKTogUHJvdmlkZXJJZCB8IHN0cmluZyB8IG51bGwge1xuICBpZiAocmVzcG9uc2UucHJvdmlkZXJJZCkge1xuICAgIHJldHVybiByZXNwb25zZS5wcm92aWRlcklkO1xuICB9XG5cbiAgaWYgKCdwaG9uZU51bWJlcicgaW4gcmVzcG9uc2UpIHtcbiAgICByZXR1cm4gUHJvdmlkZXJJZC5QSE9ORTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGgsIFVzZXJDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IHNpZ25VcCB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9zaWduX3VwJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbXBsIH0gZnJvbSAnLi4vdXNlci91c2VyX2NyZWRlbnRpYWxfaW1wbCc7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2lnbnMgaW4gYXMgYW4gYW5vbnltb3VzIHVzZXIuXG4gKlxuICogQHJlbWFya3NcbiAqIElmIHRoZXJlIGlzIGFscmVhZHkgYW4gYW5vbnltb3VzIHVzZXIgc2lnbmVkIGluLCB0aGF0IHVzZXIgd2lsbCBiZSByZXR1cm5lZDsgb3RoZXJ3aXNlLCBhXG4gKiBuZXcgYW5vbnltb3VzIHVzZXIgaWRlbnRpdHkgd2lsbCBiZSBjcmVhdGVkIGFuZCByZXR1cm5lZC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluQW5vbnltb3VzbHkoYXV0aDogQXV0aCk6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIGF3YWl0IGF1dGhJbnRlcm5hbC5faW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICBpZiAoYXV0aEludGVybmFsLmN1cnJlbnRVc2VyPy5pc0Fub255bW91cykge1xuICAgIC8vIElmIGFuIGFub255bW91cyB1c2VyIGlzIGFscmVhZHkgc2lnbmVkIGluLCBubyBuZWVkIHRvIHNpZ24gdGhlbSBpbiBhZ2Fpbi5cbiAgICByZXR1cm4gbmV3IFVzZXJDcmVkZW50aWFsSW1wbCh7XG4gICAgICB1c2VyOiBhdXRoSW50ZXJuYWwuY3VycmVudFVzZXIgYXMgVXNlckludGVybmFsLFxuICAgICAgcHJvdmlkZXJJZDogbnVsbCxcbiAgICAgIG9wZXJhdGlvblR5cGU6IE9wZXJhdGlvblR5cGUuU0lHTl9JTlxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2lnblVwKGF1dGhJbnRlcm5hbCwge1xuICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlXG4gIH0pO1xuICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IFVzZXJDcmVkZW50aWFsSW1wbC5fZnJvbUlkVG9rZW5SZXNwb25zZShcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgT3BlcmF0aW9uVHlwZS5TSUdOX0lOLFxuICAgIHJlc3BvbnNlLFxuICAgIHRydWVcbiAgKTtcbiAgYXdhaXQgYXV0aEludGVybmFsLl91cGRhdGVDdXJyZW50VXNlcih1c2VyQ3JlZGVudGlhbC51c2VyKTtcbiAgcmV0dXJuIHVzZXJDcmVkZW50aWFsO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IE11bHRpRmFjdG9yRXJyb3IgYXMgTXVsdGlGYWN0b3JFcnJvclB1YmxpYyB9IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NvcmUvY3JlZGVudGlhbHMnO1xuaW1wb3J0IHsgSWRUb2tlbk1mYVJlc3BvbnNlIH0gZnJvbSAnLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlIH0gZnJvbSAnLi4vbW9kZWwvZW51bXMnO1xuXG5leHBvcnQgdHlwZSBNdWx0aUZhY3RvckVycm9yRGF0YSA9IE11bHRpRmFjdG9yRXJyb3JQdWJsaWNbJ2N1c3RvbURhdGEnXSAmIHtcbiAgX3NlcnZlclJlc3BvbnNlOiBJZFRva2VuTWZhUmVzcG9uc2U7XG59O1xuXG5leHBvcnQgY2xhc3MgTXVsdGlGYWN0b3JFcnJvclxuICBleHRlbmRzIEZpcmViYXNlRXJyb3JcbiAgaW1wbGVtZW50cyBNdWx0aUZhY3RvckVycm9yUHVibGljXG57XG4gIHJlYWRvbmx5IGN1c3RvbURhdGE6IE11bHRpRmFjdG9yRXJyb3JEYXRhO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGVycm9yOiBGaXJlYmFzZUVycm9yLFxuICAgIHJlYWRvbmx5IG9wZXJhdGlvblR5cGU6IE9wZXJhdGlvblR5cGUsXG4gICAgcmVhZG9ubHkgdXNlcj86IFVzZXJJbnRlcm5hbFxuICApIHtcbiAgICBzdXBlcihlcnJvci5jb2RlLCBlcnJvci5tZXNzYWdlKTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQtd2lraS9ibG9iL21hc3Rlci9CcmVha2luZy1DaGFuZ2VzLm1kI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29ya1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNdWx0aUZhY3RvckVycm9yLnByb3RvdHlwZSk7XG4gICAgdGhpcy5jdXN0b21EYXRhID0ge1xuICAgICAgYXBwTmFtZTogYXV0aC5uYW1lLFxuICAgICAgdGVuYW50SWQ6IGF1dGgudGVuYW50SWQgPz8gdW5kZWZpbmVkLFxuICAgICAgX3NlcnZlclJlc3BvbnNlOiBlcnJvci5jdXN0b21EYXRhIS5fc2VydmVyUmVzcG9uc2UgYXMgSWRUb2tlbk1mYVJlc3BvbnNlLFxuICAgICAgb3BlcmF0aW9uVHlwZVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgX2Zyb21FcnJvckFuZE9wZXJhdGlvbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgZXJyb3I6IEZpcmViYXNlRXJyb3IsXG4gICAgb3BlcmF0aW9uVHlwZTogT3BlcmF0aW9uVHlwZSxcbiAgICB1c2VyPzogVXNlckludGVybmFsXG4gICk6IE11bHRpRmFjdG9yRXJyb3Ige1xuICAgIHJldHVybiBuZXcgTXVsdGlGYWN0b3JFcnJvcihhdXRoLCBlcnJvciwgb3BlcmF0aW9uVHlwZSwgdXNlcik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9wcm9jZXNzQ3JlZGVudGlhbFNhdmluZ01mYUNvbnRleHRJZk5lY2Vzc2FyeShcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICBvcGVyYXRpb25UeXBlOiBPcGVyYXRpb25UeXBlLFxuICBjcmVkZW50aWFsOiBBdXRoQ3JlZGVudGlhbCxcbiAgdXNlcj86IFVzZXJJbnRlcm5hbFxuKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgY29uc3QgaWRUb2tlblByb3ZpZGVyID1cbiAgICBvcGVyYXRpb25UeXBlID09PSBPcGVyYXRpb25UeXBlLlJFQVVUSEVOVElDQVRFXG4gICAgICA/IGNyZWRlbnRpYWwuX2dldFJlYXV0aGVudGljYXRpb25SZXNvbHZlcihhdXRoKVxuICAgICAgOiBjcmVkZW50aWFsLl9nZXRJZFRva2VuUmVzcG9uc2UoYXV0aCk7XG5cbiAgcmV0dXJuIGlkVG9rZW5Qcm92aWRlci5jYXRjaChlcnJvciA9PiB7XG4gICAgaWYgKGVycm9yLmNvZGUgPT09IGBhdXRoLyR7QXV0aEVycm9yQ29kZS5NRkFfUkVRVUlSRUR9YCkge1xuICAgICAgdGhyb3cgTXVsdGlGYWN0b3JFcnJvci5fZnJvbUVycm9yQW5kT3BlcmF0aW9uKFxuICAgICAgICBhdXRoLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgb3BlcmF0aW9uVHlwZSxcbiAgICAgICAgdXNlclxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aHJvdyBlcnJvcjtcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBQcm92aWRlckFzc29jaWF0ZWRPYmplY3Qge1xuICBwcm92aWRlcklkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRha2VzIGEgc2V0IG9mIFVzZXJJbmZvIHByb3ZpZGVyIGRhdGEgYW5kIGNvbnZlcnRzIGl0IHRvIGEgc2V0IG9mIG5hbWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm92aWRlckRhdGFBc05hbWVzPFQgZXh0ZW5kcyBQcm92aWRlckFzc29jaWF0ZWRPYmplY3Q+KFxuICBwcm92aWRlckRhdGE6IFRbXVxuKTogU2V0PHN0cmluZz4ge1xuICByZXR1cm4gbmV3IFNldChcbiAgICBwcm92aWRlckRhdGFcbiAgICAgIC5tYXAoKHsgcHJvdmlkZXJJZCB9KSA9PiBwcm92aWRlcklkKVxuICAgICAgLmZpbHRlcihwaWQgPT4gISFwaWQpIGFzIHN0cmluZ1tdXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IGRlbGV0ZUxpbmtlZEFjY291bnRzIH0gZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9hY2NvdW50JztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCwgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscyc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBwcm92aWRlckRhdGFBc05hbWVzIH0gZnJvbSAnLi4vdXRpbC9wcm92aWRlcnMnO1xuaW1wb3J0IHsgX2xvZ291dElmSW52YWxpZGF0ZWQgfSBmcm9tICcuL2ludmFsaWRhdGlvbic7XG5pbXBvcnQgeyBfcmVsb2FkV2l0aG91dFNhdmluZyB9IGZyb20gJy4vcmVsb2FkJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW1wbCB9IGZyb20gJy4vdXNlcl9jcmVkZW50aWFsX2ltcGwnO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgT3BlcmF0aW9uVHlwZSwgUHJvdmlkZXJJZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuLyoqXG4gKiBVbmxpbmtzIGEgcHJvdmlkZXIgZnJvbSBhIHVzZXIgYWNjb3VudC5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIHByb3ZpZGVySWQgLSBUaGUgcHJvdmlkZXIgdG8gdW5saW5rLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVubGluayh1c2VyOiBVc2VyLCBwcm92aWRlcklkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXI+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgYXdhaXQgX2Fzc2VydExpbmtlZFN0YXR1cyh0cnVlLCB1c2VySW50ZXJuYWwsIHByb3ZpZGVySWQpO1xuICBjb25zdCB7IHByb3ZpZGVyVXNlckluZm8gfSA9IGF3YWl0IGRlbGV0ZUxpbmtlZEFjY291bnRzKHVzZXJJbnRlcm5hbC5hdXRoLCB7XG4gICAgaWRUb2tlbjogYXdhaXQgdXNlckludGVybmFsLmdldElkVG9rZW4oKSxcbiAgICBkZWxldGVQcm92aWRlcjogW3Byb3ZpZGVySWRdXG4gIH0pO1xuXG4gIGNvbnN0IHByb3ZpZGVyc0xlZnQgPSBwcm92aWRlckRhdGFBc05hbWVzKHByb3ZpZGVyVXNlckluZm8gfHwgW10pO1xuXG4gIHVzZXJJbnRlcm5hbC5wcm92aWRlckRhdGEgPSB1c2VySW50ZXJuYWwucHJvdmlkZXJEYXRhLmZpbHRlcihwZCA9PlxuICAgIHByb3ZpZGVyc0xlZnQuaGFzKHBkLnByb3ZpZGVySWQpXG4gICk7XG4gIGlmICghcHJvdmlkZXJzTGVmdC5oYXMoUHJvdmlkZXJJZC5QSE9ORSkpIHtcbiAgICB1c2VySW50ZXJuYWwucGhvbmVOdW1iZXIgPSBudWxsO1xuICB9XG5cbiAgYXdhaXQgdXNlckludGVybmFsLmF1dGguX3BlcnNpc3RVc2VySWZDdXJyZW50KHVzZXJJbnRlcm5hbCk7XG4gIHJldHVybiB1c2VySW50ZXJuYWw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfbGluayhcbiAgdXNlcjogVXNlckludGVybmFsLFxuICBjcmVkZW50aWFsOiBBdXRoQ3JlZGVudGlhbCxcbiAgYnlwYXNzQXV0aFN0YXRlID0gZmFsc2Vcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbD4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9sb2dvdXRJZkludmFsaWRhdGVkKFxuICAgIHVzZXIsXG4gICAgY3JlZGVudGlhbC5fbGlua1RvSWRUb2tlbih1c2VyLmF1dGgsIGF3YWl0IHVzZXIuZ2V0SWRUb2tlbigpKSxcbiAgICBieXBhc3NBdXRoU3RhdGVcbiAgKTtcbiAgcmV0dXJuIFVzZXJDcmVkZW50aWFsSW1wbC5fZm9yT3BlcmF0aW9uKHVzZXIsIE9wZXJhdGlvblR5cGUuTElOSywgcmVzcG9uc2UpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2Fzc2VydExpbmtlZFN0YXR1cyhcbiAgZXhwZWN0ZWQ6IGJvb2xlYW4sXG4gIHVzZXI6IFVzZXJJbnRlcm5hbCxcbiAgcHJvdmlkZXI6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IF9yZWxvYWRXaXRob3V0U2F2aW5nKHVzZXIpO1xuICBjb25zdCBwcm92aWRlcklkcyA9IHByb3ZpZGVyRGF0YUFzTmFtZXModXNlci5wcm92aWRlckRhdGEpO1xuXG4gIGNvbnN0IGNvZGUgPVxuICAgIGV4cGVjdGVkID09PSBmYWxzZVxuICAgICAgPyBBdXRoRXJyb3JDb2RlLlBST1ZJREVSX0FMUkVBRFlfTElOS0VEXG4gICAgICA6IEF1dGhFcnJvckNvZGUuTk9fU1VDSF9QUk9WSURFUjtcbiAgX2Fzc2VydChwcm92aWRlcklkcy5oYXMocHJvdmlkZXIpID09PSBleHBlY3RlZCwgdXNlci5hdXRoLCBjb2RlKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgX3Byb2Nlc3NDcmVkZW50aWFsU2F2aW5nTWZhQ29udGV4dElmTmVjZXNzYXJ5IH0gZnJvbSAnLi4vLi4vbWZhL21mYV9lcnJvcic7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCwgX2ZhaWwgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfcGFyc2VUb2tlbiB9IGZyb20gJy4vaWRfdG9rZW5fcmVzdWx0JztcbmltcG9ydCB7IF9sb2dvdXRJZkludmFsaWRhdGVkIH0gZnJvbSAnLi9pbnZhbGlkYXRpb24nO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbXBsIH0gZnJvbSAnLi91c2VyX2NyZWRlbnRpYWxfaW1wbCc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9yZWF1dGhlbnRpY2F0ZShcbiAgdXNlcjogVXNlckludGVybmFsLFxuICBjcmVkZW50aWFsOiBBdXRoQ3JlZGVudGlhbCxcbiAgYnlwYXNzQXV0aFN0YXRlID0gZmFsc2Vcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbXBsPiB7XG4gIGNvbnN0IHsgYXV0aCB9ID0gdXNlcjtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCBvcGVyYXRpb25UeXBlID0gT3BlcmF0aW9uVHlwZS5SRUFVVEhFTlRJQ0FURTtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX2xvZ291dElmSW52YWxpZGF0ZWQoXG4gICAgICB1c2VyLFxuICAgICAgX3Byb2Nlc3NDcmVkZW50aWFsU2F2aW5nTWZhQ29udGV4dElmTmVjZXNzYXJ5KFxuICAgICAgICBhdXRoLFxuICAgICAgICBvcGVyYXRpb25UeXBlLFxuICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICB1c2VyXG4gICAgICApLFxuICAgICAgYnlwYXNzQXV0aFN0YXRlXG4gICAgKTtcbiAgICBfYXNzZXJ0KHJlc3BvbnNlLmlkVG9rZW4sIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIGNvbnN0IHBhcnNlZCA9IF9wYXJzZVRva2VuKHJlc3BvbnNlLmlkVG9rZW4pO1xuICAgIF9hc3NlcnQocGFyc2VkLCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcblxuICAgIGNvbnN0IHsgc3ViOiBsb2NhbElkIH0gPSBwYXJzZWQ7XG4gICAgX2Fzc2VydCh1c2VyLnVpZCA9PT0gbG9jYWxJZCwgYXV0aCwgQXV0aEVycm9yQ29kZS5VU0VSX01JU01BVENIKTtcblxuICAgIHJldHVybiBVc2VyQ3JlZGVudGlhbEltcGwuX2Zvck9wZXJhdGlvbih1c2VyLCBvcGVyYXRpb25UeXBlLCByZXNwb25zZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBDb252ZXJ0IHVzZXIgZGVsZXRlZCBlcnJvciBpbnRvIHVzZXIgbWlzbWF0Y2hcbiAgICBpZiAoKGUgYXMgRmlyZWJhc2VFcnJvcik/LmNvZGUgPT09IGBhdXRoLyR7QXV0aEVycm9yQ29kZS5VU0VSX0RFTEVURUR9YCkge1xuICAgICAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5VU0VSX01JU01BVENIKTtcbiAgICB9XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsLCBBdXRoLCBVc2VyIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgX3Byb2Nlc3NDcmVkZW50aWFsU2F2aW5nTWZhQ29udGV4dElmTmVjZXNzYXJ5IH0gZnJvbSAnLi4vLi4vbWZhL21mYV9lcnJvcic7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscyc7XG5pbXBvcnQgeyBfYXNzZXJ0TGlua2VkU3RhdHVzLCBfbGluayB9IGZyb20gJy4uL3VzZXIvbGlua191bmxpbmsnO1xuaW1wb3J0IHsgX3JlYXV0aGVudGljYXRlIH0gZnJvbSAnLi4vdXNlci9yZWF1dGhlbnRpY2F0ZSc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEltcGwgfSBmcm9tICcuLi91c2VyL3VzZXJfY3JlZGVudGlhbF9pbXBsJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IE9wZXJhdGlvblR5cGUgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9zaWduSW5XaXRoQ3JlZGVudGlhbChcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICBjcmVkZW50aWFsOiBBdXRoQ3JlZGVudGlhbCxcbiAgYnlwYXNzQXV0aFN0YXRlID0gZmFsc2Vcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCBvcGVyYXRpb25UeXBlID0gT3BlcmF0aW9uVHlwZS5TSUdOX0lOO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9wcm9jZXNzQ3JlZGVudGlhbFNhdmluZ01mYUNvbnRleHRJZk5lY2Vzc2FyeShcbiAgICBhdXRoLFxuICAgIG9wZXJhdGlvblR5cGUsXG4gICAgY3JlZGVudGlhbFxuICApO1xuICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IFVzZXJDcmVkZW50aWFsSW1wbC5fZnJvbUlkVG9rZW5SZXNwb25zZShcbiAgICBhdXRoLFxuICAgIG9wZXJhdGlvblR5cGUsXG4gICAgcmVzcG9uc2VcbiAgKTtcblxuICBpZiAoIWJ5cGFzc0F1dGhTdGF0ZSkge1xuICAgIGF3YWl0IGF1dGguX3VwZGF0ZUN1cnJlbnRVc2VyKHVzZXJDcmVkZW50aWFsLnVzZXIpO1xuICB9XG4gIHJldHVybiB1c2VyQ3JlZGVudGlhbDtcbn1cblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzaWducyBpbiB3aXRoIHRoZSBnaXZlbiBjcmVkZW50aWFscy5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW4ge0BsaW5rIEF1dGhQcm92aWRlcn0gY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGNyZWRlbnRpYWwuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGNyZWRlbnRpYWwgLSBUaGUgYXV0aCBjcmVkZW50aWFsLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhDcmVkZW50aWFsKFxuICBhdXRoOiBBdXRoLFxuICBjcmVkZW50aWFsOiBBdXRoQ3JlZGVudGlhbFxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICByZXR1cm4gX3NpZ25JbldpdGhDcmVkZW50aWFsKF9jYXN0QXV0aChhdXRoKSwgY3JlZGVudGlhbCk7XG59XG5cbi8qKlxuICogTGlua3MgdGhlIHVzZXIgYWNjb3VudCB3aXRoIHRoZSBnaXZlbiBjcmVkZW50aWFscy5cbiAqXG4gKiBAcmVtYXJrc1xuICogQW4ge0BsaW5rIEF1dGhQcm92aWRlcn0gY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGNyZWRlbnRpYWwuXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBjcmVkZW50aWFsIC0gVGhlIGF1dGggY3JlZGVudGlhbC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaW5rV2l0aENyZWRlbnRpYWwoXG4gIHVzZXI6IFVzZXIsXG4gIGNyZWRlbnRpYWw6IEF1dGhDcmVkZW50aWFsXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG5cbiAgYXdhaXQgX2Fzc2VydExpbmtlZFN0YXR1cyhmYWxzZSwgdXNlckludGVybmFsLCBjcmVkZW50aWFsLnByb3ZpZGVySWQpO1xuXG4gIHJldHVybiBfbGluayh1c2VySW50ZXJuYWwsIGNyZWRlbnRpYWwpO1xufVxuXG4vKipcbiAqIFJlLWF1dGhlbnRpY2F0ZXMgYSB1c2VyIHVzaW5nIGEgZnJlc2ggY3JlZGVudGlhbC5cbiAqXG4gKiBAcmVtYXJrc1xuICogVXNlIGJlZm9yZSBvcGVyYXRpb25zIHN1Y2ggYXMge0BsaW5rIHVwZGF0ZVBhc3N3b3JkfSB0aGF0IHJlcXVpcmUgdG9rZW5zIGZyb20gcmVjZW50IHNpZ24taW5cbiAqIGF0dGVtcHRzLiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byByZWNvdmVyIGZyb20gYSBgQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOYCBlcnJvclxuICogb3IgYSBgVE9LRU5fRVhQSVJFRGAgZXJyb3IuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBvbiBhbnkge0BsaW5rIFVzZXJ9IHNpZ25lZCBpbiBieSB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzXG4gKiBjcmVhdGVkIHdpdGggYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBjcmVkZW50aWFsIC0gVGhlIGF1dGggY3JlZGVudGlhbC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsKFxuICB1c2VyOiBVc2VyLFxuICBjcmVkZW50aWFsOiBBdXRoQ3JlZGVudGlhbFxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICByZXR1cm4gX3JlYXV0aGVudGljYXRlKGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWwsIGNyZWRlbnRpYWwpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBfYWRkVGlkSWZOZWNlc3NhcnksXG4gIF9wZXJmb3JtU2lnbkluUmVxdWVzdFxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoQ3VzdG9tVG9rZW5SZXF1ZXN0IHtcbiAgdG9rZW46IHN0cmluZztcbiAgcmV0dXJuU2VjdXJlVG9rZW46IGJvb2xlYW47XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhDdXN0b21Ub2tlblJlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHt9XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoQ3VzdG9tVG9rZW4oXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNpZ25JbldpdGhDdXN0b21Ub2tlblJlcXVlc3Rcbik6IFByb21pc2U8U2lnbkluV2l0aEN1c3RvbVRva2VuUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtU2lnbkluUmVxdWVzdDxcbiAgICBTaWduSW5XaXRoQ3VzdG9tVG9rZW5SZXF1ZXN0LFxuICAgIFNpZ25JbldpdGhDdXN0b21Ub2tlblJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9JTl9XSVRIX0NVU1RPTV9UT0tFTixcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoLCBVc2VyQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IHNpZ25JbldpdGhDdXN0b21Ub2tlbiBhcyBnZXRJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vY3VzdG9tX3Rva2VuJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW1wbCB9IGZyb20gJy4uL3VzZXIvdXNlcl9jcmVkZW50aWFsX2ltcGwnO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgT3BlcmF0aW9uVHlwZSB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzaWducyBpbiB1c2luZyBhIGN1c3RvbSB0b2tlbi5cbiAqXG4gKiBAcmVtYXJrc1xuICogQ3VzdG9tIHRva2VucyBhcmUgdXNlZCB0byBpbnRlZ3JhdGUgRmlyZWJhc2UgQXV0aCB3aXRoIGV4aXN0aW5nIGF1dGggc3lzdGVtcywgYW5kIG11c3RcbiAqIGJlIGdlbmVyYXRlZCBieSBhbiBhdXRoIGJhY2tlbmQgdXNpbmcgdGhlXG4gKiB7QGxpbmsgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvcmVmZXJlbmNlL2FkbWluL25vZGUvYWRtaW4uYXV0aC5BdXRoI2NyZWF0ZWN1c3RvbXRva2VuIHwgY3JlYXRlQ3VzdG9tVG9rZW59XG4gKiBtZXRob2QgaW4gdGhlIHtAbGluayBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy9hdXRoL2FkbWluIHwgQWRtaW4gU0RLfSAuXG4gKlxuICogRmFpbHMgd2l0aCBhbiBlcnJvciBpZiB0aGUgdG9rZW4gaXMgaW52YWxpZCwgZXhwaXJlZCwgb3Igbm90IGFjY2VwdGVkIGJ5IHRoZSBGaXJlYmFzZSBBdXRoIHNlcnZpY2UuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGN1c3RvbVRva2VuIC0gVGhlIGN1c3RvbSB0b2tlbiB0byBzaWduIGluIHdpdGguXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aEN1c3RvbVRva2VuKFxuICBhdXRoOiBBdXRoLFxuICBjdXN0b21Ub2tlbjogc3RyaW5nXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBjb25zdCByZXNwb25zZTogSWRUb2tlblJlc3BvbnNlID0gYXdhaXQgZ2V0SWRUb2tlblJlc3BvbnNlKGF1dGhJbnRlcm5hbCwge1xuICAgIHRva2VuOiBjdXN0b21Ub2tlbixcbiAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZVxuICB9KTtcbiAgY29uc3QgY3JlZCA9IGF3YWl0IFVzZXJDcmVkZW50aWFsSW1wbC5fZnJvbUlkVG9rZW5SZXNwb25zZShcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgT3BlcmF0aW9uVHlwZS5TSUdOX0lOLFxuICAgIHJlc3BvbnNlXG4gICk7XG4gIGF3YWl0IGF1dGhJbnRlcm5hbC5fdXBkYXRlQ3VycmVudFVzZXIoY3JlZC51c2VyKTtcbiAgcmV0dXJuIGNyZWQ7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRmFjdG9ySWQsXG4gIE11bHRpRmFjdG9ySW5mbyxcbiAgUGhvbmVNdWx0aUZhY3RvckluZm8sXG4gIFRvdHBNdWx0aUZhY3RvckluZm9cbn0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7XG4gIFBob25lTWZhRW5yb2xsbWVudCxcbiAgTWZhRW5yb2xsbWVudCxcbiAgVG90cE1mYUVucm9sbG1lbnRcbn0gZnJvbSAnLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9tZmEnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9mYWlsIH0gZnJvbSAnLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi9tb2RlbC9hdXRoJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE11bHRpRmFjdG9ySW5mb0ltcGwgaW1wbGVtZW50cyBNdWx0aUZhY3RvckluZm8ge1xuICByZWFkb25seSB1aWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsO1xuICByZWFkb25seSBlbnJvbGxtZW50VGltZTogc3RyaW5nO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihyZWFkb25seSBmYWN0b3JJZDogRmFjdG9ySWQsIHJlc3BvbnNlOiBNZmFFbnJvbGxtZW50KSB7XG4gICAgdGhpcy51aWQgPSByZXNwb25zZS5tZmFFbnJvbGxtZW50SWQ7XG4gICAgdGhpcy5lbnJvbGxtZW50VGltZSA9IG5ldyBEYXRlKHJlc3BvbnNlLmVucm9sbGVkQXQpLnRvVVRDU3RyaW5nKCk7XG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IHJlc3BvbnNlLmRpc3BsYXlOYW1lO1xuICB9XG5cbiAgc3RhdGljIF9mcm9tU2VydmVyUmVzcG9uc2UoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGVucm9sbG1lbnQ6IE1mYUVucm9sbG1lbnRcbiAgKTogTXVsdGlGYWN0b3JJbmZvSW1wbCB7XG4gICAgaWYgKCdwaG9uZUluZm8nIGluIGVucm9sbG1lbnQpIHtcbiAgICAgIHJldHVybiBQaG9uZU11bHRpRmFjdG9ySW5mb0ltcGwuX2Zyb21TZXJ2ZXJSZXNwb25zZShhdXRoLCBlbnJvbGxtZW50KTtcbiAgICB9IGVsc2UgaWYgKCd0b3RwSW5mbycgaW4gZW5yb2xsbWVudCkge1xuICAgICAgcmV0dXJuIFRvdHBNdWx0aUZhY3RvckluZm9JbXBsLl9mcm9tU2VydmVyUmVzcG9uc2UoYXV0aCwgZW5yb2xsbWVudCk7XG4gICAgfVxuICAgIHJldHVybiBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGhvbmVNdWx0aUZhY3RvckluZm9JbXBsXG4gIGV4dGVuZHMgTXVsdGlGYWN0b3JJbmZvSW1wbFxuICBpbXBsZW1lbnRzIFBob25lTXVsdGlGYWN0b3JJbmZvXG57XG4gIHJlYWRvbmx5IHBob25lTnVtYmVyOiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihyZXNwb25zZTogUGhvbmVNZmFFbnJvbGxtZW50KSB7XG4gICAgc3VwZXIoRmFjdG9ySWQuUEhPTkUsIHJlc3BvbnNlKTtcbiAgICB0aGlzLnBob25lTnVtYmVyID0gcmVzcG9uc2UucGhvbmVJbmZvO1xuICB9XG5cbiAgc3RhdGljIF9mcm9tU2VydmVyUmVzcG9uc2UoXG4gICAgX2F1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBlbnJvbGxtZW50OiBNZmFFbnJvbGxtZW50XG4gICk6IFBob25lTXVsdGlGYWN0b3JJbmZvSW1wbCB7XG4gICAgcmV0dXJuIG5ldyBQaG9uZU11bHRpRmFjdG9ySW5mb0ltcGwoZW5yb2xsbWVudCBhcyBQaG9uZU1mYUVucm9sbG1lbnQpO1xuICB9XG59XG5leHBvcnQgY2xhc3MgVG90cE11bHRpRmFjdG9ySW5mb0ltcGxcbiAgZXh0ZW5kcyBNdWx0aUZhY3RvckluZm9JbXBsXG4gIGltcGxlbWVudHMgVG90cE11bHRpRmFjdG9ySW5mb1xue1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKHJlc3BvbnNlOiBUb3RwTWZhRW5yb2xsbWVudCkge1xuICAgIHN1cGVyKEZhY3RvcklkLlRPVFAsIHJlc3BvbnNlKTtcbiAgfVxuXG4gIHN0YXRpYyBfZnJvbVNlcnZlclJlc3BvbnNlKFxuICAgIF9hdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgZW5yb2xsbWVudDogTWZhRW5yb2xsbWVudFxuICApOiBUb3RwTXVsdGlGYWN0b3JJbmZvSW1wbCB7XG4gICAgcmV0dXJuIG5ldyBUb3RwTXVsdGlGYWN0b3JJbmZvSW1wbChlbnJvbGxtZW50IGFzIFRvdHBNZmFFbnJvbGxtZW50KTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFjdGlvbkNvZGVTZXR0aW5ncywgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IEdldE9vYkNvZGVSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2VtYWlsX2FuZF9wYXNzd29yZCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBfc2V0QWN0aW9uQ29kZVNldHRpbmdzT25SZXF1ZXN0KFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBHZXRPb2JDb2RlUmVxdWVzdCxcbiAgYWN0aW9uQ29kZVNldHRpbmdzOiBBY3Rpb25Db2RlU2V0dGluZ3Ncbik6IHZvaWQge1xuICBfYXNzZXJ0KFxuICAgIGFjdGlvbkNvZGVTZXR0aW5ncy51cmw/Lmxlbmd0aCA+IDAsXG4gICAgYXV0aCxcbiAgICBBdXRoRXJyb3JDb2RlLklOVkFMSURfQ09OVElOVUVfVVJJXG4gICk7XG4gIF9hc3NlcnQoXG4gICAgdHlwZW9mIGFjdGlvbkNvZGVTZXR0aW5ncy5keW5hbWljTGlua0RvbWFpbiA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgIGFjdGlvbkNvZGVTZXR0aW5ncy5keW5hbWljTGlua0RvbWFpbi5sZW5ndGggPiAwLFxuICAgIGF1dGgsXG4gICAgQXV0aEVycm9yQ29kZS5JTlZBTElEX0RZTkFNSUNfTElOS19ET01BSU5cbiAgKTtcblxuICByZXF1ZXN0LmNvbnRpbnVlVXJsID0gYWN0aW9uQ29kZVNldHRpbmdzLnVybDtcbiAgcmVxdWVzdC5keW5hbWljTGlua0RvbWFpbiA9IGFjdGlvbkNvZGVTZXR0aW5ncy5keW5hbWljTGlua0RvbWFpbjtcbiAgcmVxdWVzdC5jYW5IYW5kbGVDb2RlSW5BcHAgPSBhY3Rpb25Db2RlU2V0dGluZ3MuaGFuZGxlQ29kZUluQXBwO1xuXG4gIGlmIChhY3Rpb25Db2RlU2V0dGluZ3MuaU9TKSB7XG4gICAgX2Fzc2VydChcbiAgICAgIGFjdGlvbkNvZGVTZXR0aW5ncy5pT1MuYnVuZGxlSWQubGVuZ3RoID4gMCxcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfSU9TX0JVTkRMRV9JRFxuICAgICk7XG4gICAgcmVxdWVzdC5pT1NCdW5kbGVJZCA9IGFjdGlvbkNvZGVTZXR0aW5ncy5pT1MuYnVuZGxlSWQ7XG4gIH1cblxuICBpZiAoYWN0aW9uQ29kZVNldHRpbmdzLmFuZHJvaWQpIHtcbiAgICBfYXNzZXJ0KFxuICAgICAgYWN0aW9uQ29kZVNldHRpbmdzLmFuZHJvaWQucGFja2FnZU5hbWUubGVuZ3RoID4gMCxcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQU5EUk9JRF9QQUNLQUdFX05BTUVcbiAgICApO1xuICAgIHJlcXVlc3QuYW5kcm9pZEluc3RhbGxBcHAgPSBhY3Rpb25Db2RlU2V0dGluZ3MuYW5kcm9pZC5pbnN0YWxsQXBwO1xuICAgIHJlcXVlc3QuYW5kcm9pZE1pbmltdW1WZXJzaW9uQ29kZSA9XG4gICAgICBhY3Rpb25Db2RlU2V0dGluZ3MuYW5kcm9pZC5taW5pbXVtVmVyc2lvbjtcbiAgICByZXF1ZXN0LmFuZHJvaWRQYWNrYWdlTmFtZSA9IGFjdGlvbkNvZGVTZXR0aW5ncy5hbmRyb2lkLnBhY2thZ2VOYW1lO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQWN0aW9uQ29kZUluZm8sXG4gIEFjdGlvbkNvZGVPcGVyYXRpb24sXG4gIEFjdGlvbkNvZGVTZXR0aW5ncyxcbiAgQXV0aCxcbiAgVXNlckNyZWRlbnRpYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0ICogYXMgYWNjb3VudCBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L2VtYWlsX2FuZF9wYXNzd29yZCc7XG5pbXBvcnQgKiBhcyBhdXRoZW50aWNhdGlvbiBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfYW5kX3Bhc3N3b3JkJztcbmltcG9ydCB7IHNpZ25VcCwgU2lnblVwUmVxdWVzdCB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9zaWduX3VwJztcbmltcG9ydCB7IE11bHRpRmFjdG9ySW5mb0ltcGwgfSBmcm9tICcuLi8uLi9tZmEvbWZhX2luZm8nO1xuaW1wb3J0IHsgRW1haWxBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi9wcm92aWRlcnMvZW1haWwnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbXBsIH0gZnJvbSAnLi4vdXNlci91c2VyX2NyZWRlbnRpYWxfaW1wbCc7XG5pbXBvcnQge1xuICBfYXNzZXJ0LFxuICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvclxufSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfc2V0QWN0aW9uQ29kZVNldHRpbmdzT25SZXF1ZXN0IH0gZnJvbSAnLi9hY3Rpb25fY29kZV9zZXR0aW5ncyc7XG5pbXBvcnQgeyBzaWduSW5XaXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vY3JlZGVudGlhbCc7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IE9wZXJhdGlvblR5cGUgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5pbXBvcnQgeyBoYW5kbGVSZWNhcHRjaGFGbG93IH0gZnJvbSAnLi4vLi4vcGxhdGZvcm1fYnJvd3Nlci9yZWNhcHRjaGEvcmVjYXB0Y2hhX2VudGVycHJpc2VfdmVyaWZpZXInO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgUmVjYXB0Y2hhQWN0aW9uTmFtZSwgUmVjYXB0Y2hhQ2xpZW50VHlwZSB9IGZyb20gJy4uLy4uL2FwaSc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHBhc3N3b3JkIHBvbGljeSBjYWNoZWQgaW4gdGhlIHtAbGluayBBdXRofSBpbnN0YW5jZSBpZiBhIHBvbGljeSBpcyBhbHJlYWR5XG4gKiBjYWNoZWQgZm9yIHRoZSBwcm9qZWN0IG9yIHRlbmFudC5cbiAqXG4gKiBAcmVtYXJrc1xuICogV2Ugb25seSBmZXRjaCB0aGUgcGFzc3dvcmQgcG9saWN5IGlmIHRoZSBwYXNzd29yZCBkaWQgbm90IG1lZXQgcG9saWN5IHJlcXVpcmVtZW50cyBhbmRcbiAqIHRoZXJlIGlzIGFuIGV4aXN0aW5nIHBvbGljeSBjYWNoZWQuIEEgZGV2ZWxvcGVyIG11c3QgY2FsbCB2YWxpZGF0ZVBhc3N3b3JkIGF0IGxlYXN0XG4gKiBvbmNlIGZvciB0aGUgY2FjaGUgdG8gYmUgYXV0b21hdGljYWxseSB1cGRhdGVkLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5hc3luYyBmdW5jdGlvbiByZWNhY2hlUGFzc3dvcmRQb2xpY3koYXV0aDogQXV0aCk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIGlmIChhdXRoSW50ZXJuYWwuX2dldFBhc3N3b3JkUG9saWN5SW50ZXJuYWwoKSkge1xuICAgIGF3YWl0IGF1dGhJbnRlcm5hbC5fdXBkYXRlUGFzc3dvcmRQb2xpY3koKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbmRzIGEgcGFzc3dvcmQgcmVzZXQgZW1haWwgdG8gdGhlIGdpdmVuIGVtYWlsIGFkZHJlc3MuIFRoaXMgbWV0aG9kIGRvZXMgbm90IHRocm93IGFuIGVycm9yIHdoZW5cbiAqIHRoZXJlJ3Mgbm8gdXNlciBhY2NvdW50IHdpdGggdGhlIGdpdmVuIGVtYWlsIGFkZHJlc3MgYW5kXG4gKiB7QGxpbmsgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2lkZW50aXR5LXBsYXRmb3JtL2RvY3MvYWRtaW4vZW1haWwtZW51bWVyYXRpb24tcHJvdGVjdGlvbiB8IEVtYWlsIEVudW1lcmF0aW9uIFByb3RlY3Rpb259XG4gKiBpcyBlbmFibGVkLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUbyBjb21wbGV0ZSB0aGUgcGFzc3dvcmQgcmVzZXQsIGNhbGwge0BsaW5rIGNvbmZpcm1QYXNzd29yZFJlc2V0fSB3aXRoIHRoZSBjb2RlIHN1cHBsaWVkIGluXG4gKiB0aGUgZW1haWwgc2VudCB0byB0aGUgdXNlciwgYWxvbmcgd2l0aCB0aGUgbmV3IHBhc3N3b3JkIHNwZWNpZmllZCBieSB0aGUgdXNlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgYWN0aW9uQ29kZVNldHRpbmdzID0ge1xuICogICB1cmw6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS8/ZW1haWw9dXNlckBleGFtcGxlLmNvbScsXG4gKiAgIGlPUzoge1xuICogICAgICBidW5kbGVJZDogJ2NvbS5leGFtcGxlLmlvcydcbiAqICAgfSxcbiAqICAgYW5kcm9pZDoge1xuICogICAgIHBhY2thZ2VOYW1lOiAnY29tLmV4YW1wbGUuYW5kcm9pZCcsXG4gKiAgICAgaW5zdGFsbEFwcDogdHJ1ZSxcbiAqICAgICBtaW5pbXVtVmVyc2lvbjogJzEyJ1xuICogICB9LFxuICogICBoYW5kbGVDb2RlSW5BcHA6IHRydWVcbiAqIH07XG4gKiBhd2FpdCBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKGF1dGgsICd1c2VyQGV4YW1wbGUuY29tJywgYWN0aW9uQ29kZVNldHRpbmdzKTtcbiAqIC8vIE9idGFpbiBjb2RlIGZyb20gdXNlci5cbiAqIGF3YWl0IGNvbmZpcm1QYXNzd29yZFJlc2V0KCd1c2VyQGV4YW1wbGUuY29tJywgY29kZSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gZW1haWwgLSBUaGUgdXNlcidzIGVtYWlsIGFkZHJlc3MuXG4gKiBAcGFyYW0gYWN0aW9uQ29kZVNldHRpbmdzIC0gVGhlIHtAbGluayBBY3Rpb25Db2RlU2V0dGluZ3N9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRQYXNzd29yZFJlc2V0RW1haWwoXG4gIGF1dGg6IEF1dGgsXG4gIGVtYWlsOiBzdHJpbmcsXG4gIGFjdGlvbkNvZGVTZXR0aW5ncz86IEFjdGlvbkNvZGVTZXR0aW5nc1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgY29uc3QgcmVxdWVzdDogYXV0aGVudGljYXRpb24uUGFzc3dvcmRSZXNldFJlcXVlc3QgPSB7XG4gICAgcmVxdWVzdFR5cGU6IEFjdGlvbkNvZGVPcGVyYXRpb24uUEFTU1dPUkRfUkVTRVQsXG4gICAgZW1haWwsXG4gICAgY2xpZW50VHlwZTogUmVjYXB0Y2hhQ2xpZW50VHlwZS5XRUJcbiAgfTtcbiAgaWYgKGFjdGlvbkNvZGVTZXR0aW5ncykge1xuICAgIF9zZXRBY3Rpb25Db2RlU2V0dGluZ3NPblJlcXVlc3QoYXV0aEludGVybmFsLCByZXF1ZXN0LCBhY3Rpb25Db2RlU2V0dGluZ3MpO1xuICB9XG4gIGF3YWl0IGhhbmRsZVJlY2FwdGNoYUZsb3coXG4gICAgYXV0aEludGVybmFsLFxuICAgIHJlcXVlc3QsXG4gICAgUmVjYXB0Y2hhQWN0aW9uTmFtZS5HRVRfT09CX0NPREUsXG4gICAgYXV0aGVudGljYXRpb24uc2VuZFBhc3N3b3JkUmVzZXRFbWFpbFxuICApO1xufVxuXG4vKipcbiAqIENvbXBsZXRlcyB0aGUgcGFzc3dvcmQgcmVzZXQgcHJvY2VzcywgZ2l2ZW4gYSBjb25maXJtYXRpb24gY29kZSBhbmQgbmV3IHBhc3N3b3JkLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBvb2JDb2RlIC0gQSBjb25maXJtYXRpb24gY29kZSBzZW50IHRvIHRoZSB1c2VyLlxuICogQHBhcmFtIG5ld1Bhc3N3b3JkIC0gVGhlIG5ldyBwYXNzd29yZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25maXJtUGFzc3dvcmRSZXNldChcbiAgYXV0aDogQXV0aCxcbiAgb29iQ29kZTogc3RyaW5nLFxuICBuZXdQYXNzd29yZDogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgYWNjb3VudFxuICAgIC5yZXNldFBhc3N3b3JkKGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKSwge1xuICAgICAgb29iQ29kZSxcbiAgICAgIG5ld1Bhc3N3b3JkXG4gICAgfSlcbiAgICAuY2F0Y2goYXN5bmMgZXJyb3IgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlcnJvci5jb2RlID09PVxuICAgICAgICBgYXV0aC8ke0F1dGhFcnJvckNvZGUuUEFTU1dPUkRfRE9FU19OT1RfTUVFVF9SRVFVSVJFTUVOVFN9YFxuICAgICAgKSB7XG4gICAgICAgIHZvaWQgcmVjYWNoZVBhc3N3b3JkUG9saWN5KGF1dGgpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9KTtcbiAgLy8gRG8gbm90IHJldHVybiB0aGUgZW1haWwuXG59XG5cbi8qKlxuICogQXBwbGllcyBhIHZlcmlmaWNhdGlvbiBjb2RlIHNlbnQgdG8gdGhlIHVzZXIgYnkgZW1haWwgb3Igb3RoZXIgb3V0LW9mLWJhbmQgbWVjaGFuaXNtLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBvb2JDb2RlIC0gQSB2ZXJpZmljYXRpb24gY29kZSBzZW50IHRvIHRoZSB1c2VyLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcGx5QWN0aW9uQ29kZShcbiAgYXV0aDogQXV0aCxcbiAgb29iQ29kZTogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgYWNjb3VudC5hcHBseUFjdGlvbkNvZGUoZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLCB7IG9vYkNvZGUgfSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGEgdmVyaWZpY2F0aW9uIGNvZGUgc2VudCB0byB0aGUgdXNlciBieSBlbWFpbCBvciBvdGhlciBvdXQtb2YtYmFuZCBtZWNoYW5pc20uXG4gKlxuICogQHJldHVybnMgbWV0YWRhdGEgYWJvdXQgdGhlIGNvZGUuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIG9vYkNvZGUgLSBBIHZlcmlmaWNhdGlvbiBjb2RlIHNlbnQgdG8gdGhlIHVzZXIuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tBY3Rpb25Db2RlKFxuICBhdXRoOiBBdXRoLFxuICBvb2JDb2RlOiBzdHJpbmdcbik6IFByb21pc2U8QWN0aW9uQ29kZUluZm8+IHtcbiAgY29uc3QgYXV0aE1vZHVsYXIgPSBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCk7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYWNjb3VudC5yZXNldFBhc3N3b3JkKGF1dGhNb2R1bGFyLCB7IG9vYkNvZGUgfSk7XG5cbiAgLy8gRW1haWwgY291bGQgYmUgZW1wdHkgb25seSBpZiB0aGUgcmVxdWVzdCB0eXBlIGlzIEVNQUlMX1NJR05JTiBvclxuICAvLyBWRVJJRllfQU5EX0NIQU5HRV9FTUFJTC5cbiAgLy8gTmV3IGVtYWlsIHNob3VsZCBub3QgYmUgZW1wdHkgaWYgdGhlIHJlcXVlc3QgdHlwZSBpc1xuICAvLyBWRVJJRllfQU5EX0NIQU5HRV9FTUFJTC5cbiAgLy8gTXVsdGktZmFjdG9yIGluZm8gY291bGQgbm90IGJlIGVtcHR5IGlmIHRoZSByZXF1ZXN0IHR5cGUgaXNcbiAgLy8gUkVWRVJUX1NFQ09ORF9GQUNUT1JfQURESVRJT04uXG4gIGNvbnN0IG9wZXJhdGlvbiA9IHJlc3BvbnNlLnJlcXVlc3RUeXBlO1xuICBfYXNzZXJ0KG9wZXJhdGlvbiwgYXV0aE1vZHVsYXIsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICBzd2l0Y2ggKG9wZXJhdGlvbikge1xuICAgIGNhc2UgQWN0aW9uQ29kZU9wZXJhdGlvbi5FTUFJTF9TSUdOSU46XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFjdGlvbkNvZGVPcGVyYXRpb24uVkVSSUZZX0FORF9DSEFOR0VfRU1BSUw6XG4gICAgICBfYXNzZXJ0KHJlc3BvbnNlLm5ld0VtYWlsLCBhdXRoTW9kdWxhciwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFjdGlvbkNvZGVPcGVyYXRpb24uUkVWRVJUX1NFQ09ORF9GQUNUT1JfQURESVRJT046XG4gICAgICBfYXNzZXJ0KHJlc3BvbnNlLm1mYUluZm8sIGF1dGhNb2R1bGFyLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICAvLyBmYWxsIHRocm91Z2hcbiAgICBkZWZhdWx0OlxuICAgICAgX2Fzc2VydChyZXNwb25zZS5lbWFpbCwgYXV0aE1vZHVsYXIsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICB9XG5cbiAgLy8gVGhlIG11bHRpLWZhY3RvciBpbmZvIGZvciByZXZlcnQgc2Vjb25kIGZhY3RvciBhZGRpdGlvblxuICBsZXQgbXVsdGlGYWN0b3JJbmZvOiBNdWx0aUZhY3RvckluZm9JbXBsIHwgbnVsbCA9IG51bGw7XG4gIGlmIChyZXNwb25zZS5tZmFJbmZvKSB7XG4gICAgbXVsdGlGYWN0b3JJbmZvID0gTXVsdGlGYWN0b3JJbmZvSW1wbC5fZnJvbVNlcnZlclJlc3BvbnNlKFxuICAgICAgX2Nhc3RBdXRoKGF1dGhNb2R1bGFyKSxcbiAgICAgIHJlc3BvbnNlLm1mYUluZm9cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkYXRhOiB7XG4gICAgICBlbWFpbDpcbiAgICAgICAgKHJlc3BvbnNlLnJlcXVlc3RUeXBlID09PSBBY3Rpb25Db2RlT3BlcmF0aW9uLlZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMXG4gICAgICAgICAgPyByZXNwb25zZS5uZXdFbWFpbFxuICAgICAgICAgIDogcmVzcG9uc2UuZW1haWwpIHx8IG51bGwsXG4gICAgICBwcmV2aW91c0VtYWlsOlxuICAgICAgICAocmVzcG9uc2UucmVxdWVzdFR5cGUgPT09IEFjdGlvbkNvZGVPcGVyYXRpb24uVkVSSUZZX0FORF9DSEFOR0VfRU1BSUxcbiAgICAgICAgICA/IHJlc3BvbnNlLmVtYWlsXG4gICAgICAgICAgOiByZXNwb25zZS5uZXdFbWFpbCkgfHwgbnVsbCxcbiAgICAgIG11bHRpRmFjdG9ySW5mb1xuICAgIH0sXG4gICAgb3BlcmF0aW9uXG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGEgcGFzc3dvcmQgcmVzZXQgY29kZSBzZW50IHRvIHRoZSB1c2VyIGJ5IGVtYWlsIG9yIG90aGVyIG91dC1vZi1iYW5kIG1lY2hhbmlzbS5cbiAqXG4gKiBAcmV0dXJucyB0aGUgdXNlcidzIGVtYWlsIGFkZHJlc3MgaWYgdmFsaWQuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGNvZGUgLSBBIHZlcmlmaWNhdGlvbiBjb2RlIHNlbnQgdG8gdGhlIHVzZXIuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5UGFzc3dvcmRSZXNldENvZGUoXG4gIGF1dGg6IEF1dGgsXG4gIGNvZGU6IHN0cmluZ1xuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBjaGVja0FjdGlvbkNvZGUoZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLCBjb2RlKTtcbiAgLy8gRW1haWwgc2hvdWxkIGFsd2F5cyBiZSBwcmVzZW50IHNpbmNlIGEgY29kZSB3YXMgc2VudCB0byBpdFxuICByZXR1cm4gZGF0YS5lbWFpbCE7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB1c2VyIGFjY291bnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgZW1haWwgYWRkcmVzcyBhbmQgcGFzc3dvcmQuXG4gKlxuICogQHJlbWFya3NcbiAqIE9uIHN1Y2Nlc3NmdWwgY3JlYXRpb24gb2YgdGhlIHVzZXIgYWNjb3VudCwgdGhpcyB1c2VyIHdpbGwgYWxzbyBiZSBzaWduZWQgaW4gdG8geW91ciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBVc2VyIGFjY291bnQgY3JlYXRpb24gY2FuIGZhaWwgaWYgdGhlIGFjY291bnQgYWxyZWFkeSBleGlzdHMgb3IgdGhlIHBhc3N3b3JkIGlzIGludmFsaWQuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBvbiB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogTm90ZTogVGhlIGVtYWlsIGFkZHJlc3MgYWN0cyBhcyBhIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgdXNlciBhbmQgZW5hYmxlcyBhbiBlbWFpbC1iYXNlZFxuICogcGFzc3dvcmQgcmVzZXQuIFRoaXMgZnVuY3Rpb24gd2lsbCBjcmVhdGUgYSBuZXcgdXNlciBhY2NvdW50IGFuZCBzZXQgdGhlIGluaXRpYWwgdXNlciBwYXNzd29yZC5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gZW1haWwgLSBUaGUgdXNlcidzIGVtYWlsIGFkZHJlc3MuXG4gKiBAcGFyYW0gcGFzc3dvcmQgLSBUaGUgdXNlcidzIGNob3NlbiBwYXNzd29yZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoXG4gIGF1dGg6IEF1dGgsXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmdcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIGNvbnN0IHJlcXVlc3Q6IFNpZ25VcFJlcXVlc3QgPSB7XG4gICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWUsXG4gICAgZW1haWwsXG4gICAgcGFzc3dvcmQsXG4gICAgY2xpZW50VHlwZTogUmVjYXB0Y2hhQ2xpZW50VHlwZS5XRUJcbiAgfTtcbiAgY29uc3Qgc2lnblVwUmVzcG9uc2U6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiA9IGhhbmRsZVJlY2FwdGNoYUZsb3coXG4gICAgYXV0aEludGVybmFsLFxuICAgIHJlcXVlc3QsXG4gICAgUmVjYXB0Y2hhQWN0aW9uTmFtZS5TSUdOX1VQX1BBU1NXT1JELFxuICAgIHNpZ25VcFxuICApO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNpZ25VcFJlc3BvbnNlLmNhdGNoKGVycm9yID0+IHtcbiAgICBpZiAoXG4gICAgICBlcnJvci5jb2RlID09PSBgYXV0aC8ke0F1dGhFcnJvckNvZGUuUEFTU1dPUkRfRE9FU19OT1RfTUVFVF9SRVFVSVJFTUVOVFN9YFxuICAgICkge1xuICAgICAgdm9pZCByZWNhY2hlUGFzc3dvcmRQb2xpY3koYXV0aCk7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyb3I7XG4gIH0pO1xuXG4gIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgVXNlckNyZWRlbnRpYWxJbXBsLl9mcm9tSWRUb2tlblJlc3BvbnNlKFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICBPcGVyYXRpb25UeXBlLlNJR05fSU4sXG4gICAgcmVzcG9uc2VcbiAgKTtcbiAgYXdhaXQgYXV0aEludGVybmFsLl91cGRhdGVDdXJyZW50VXNlcih1c2VyQ3JlZGVudGlhbC51c2VyKTtcblxuICByZXR1cm4gdXNlckNyZWRlbnRpYWw7XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2lnbnMgaW4gdXNpbmcgYW4gZW1haWwgYW5kIHBhc3N3b3JkLlxuICpcbiAqIEByZW1hcmtzXG4gKiBGYWlscyB3aXRoIGFuIGVycm9yIGlmIHRoZSBlbWFpbCBhZGRyZXNzIGFuZCBwYXNzd29yZCBkbyBub3QgbWF0Y2guIFdoZW5cbiAqIHtAbGluayBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vaWRlbnRpdHktcGxhdGZvcm0vZG9jcy9hZG1pbi9lbWFpbC1lbnVtZXJhdGlvbi1wcm90ZWN0aW9uIHwgRW1haWwgRW51bWVyYXRpb24gUHJvdGVjdGlvbn1cbiAqIGlzIGVuYWJsZWQsIHRoaXMgbWV0aG9kIGZhaWxzIHdpdGggXCJhdXRoL2ludmFsaWQtY3JlZGVudGlhbFwiIGluIGNhc2Ugb2YgYW4gaW52YWxpZFxuICogZW1haWwvcGFzc3dvcmQuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBvbiB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogTm90ZTogVGhlIHVzZXIncyBwYXNzd29yZCBpcyBOT1QgdGhlIHBhc3N3b3JkIHVzZWQgdG8gYWNjZXNzIHRoZSB1c2VyJ3MgZW1haWwgYWNjb3VudC4gVGhlXG4gKiBlbWFpbCBhZGRyZXNzIHNlcnZlcyBhcyBhIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgdXNlciwgYW5kIHRoZSBwYXNzd29yZCBpcyB1c2VkIHRvIGFjY2Vzc1xuICogdGhlIHVzZXIncyBhY2NvdW50IGluIHlvdXIgRmlyZWJhc2UgcHJvamVjdC4gU2VlIGFsc286IHtAbGluayBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmR9LlxuICpcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gZW1haWwgLSBUaGUgdXNlcnMgZW1haWwgYWRkcmVzcy5cbiAqIEBwYXJhbSBwYXNzd29yZCAtIFRoZSB1c2VycyBwYXNzd29yZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChcbiAgYXV0aDogQXV0aCxcbiAgZW1haWw6IHN0cmluZyxcbiAgcGFzc3dvcmQ6IHN0cmluZ1xuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIHJldHVybiBzaWduSW5XaXRoQ3JlZGVudGlhbChcbiAgICBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCksXG4gICAgRW1haWxBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChlbWFpbCwgcGFzc3dvcmQpXG4gICkuY2F0Y2goYXN5bmMgZXJyb3IgPT4ge1xuICAgIGlmIChcbiAgICAgIGVycm9yLmNvZGUgPT09IGBhdXRoLyR7QXV0aEVycm9yQ29kZS5QQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UU31gXG4gICAgKSB7XG4gICAgICB2b2lkIHJlY2FjaGVQYXNzd29yZFBvbGljeShhdXRoKTtcbiAgICB9XG5cbiAgICB0aHJvdyBlcnJvcjtcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQWN0aW9uQ29kZU9wZXJhdGlvbixcbiAgQWN0aW9uQ29kZVNldHRpbmdzLFxuICBBdXRoLFxuICBVc2VyQ3JlZGVudGlhbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgKiBhcyBhcGkgZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2VtYWlsX2FuZF9wYXNzd29yZCc7XG5pbXBvcnQgeyBBY3Rpb25Db2RlVVJMIH0gZnJvbSAnLi4vYWN0aW9uX2NvZGVfdXJsJztcbmltcG9ydCB7IEVtYWlsQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vcHJvdmlkZXJzL2VtYWlsJztcbmltcG9ydCB7IF9nZXRDdXJyZW50VXJsIH0gZnJvbSAnLi4vdXRpbC9sb2NhdGlvbic7XG5pbXBvcnQgeyBfc2V0QWN0aW9uQ29kZVNldHRpbmdzT25SZXF1ZXN0IH0gZnJvbSAnLi9hY3Rpb25fY29kZV9zZXR0aW5ncyc7XG5pbXBvcnQgeyBzaWduSW5XaXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vY3JlZGVudGlhbCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBoYW5kbGVSZWNhcHRjaGFGbG93IH0gZnJvbSAnLi4vLi4vcGxhdGZvcm1fYnJvd3Nlci9yZWNhcHRjaGEvcmVjYXB0Y2hhX2VudGVycHJpc2VfdmVyaWZpZXInO1xuaW1wb3J0IHsgUmVjYXB0Y2hhQWN0aW9uTmFtZSwgUmVjYXB0Y2hhQ2xpZW50VHlwZSB9IGZyb20gJy4uLy4uL2FwaSc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcblxuLyoqXG4gKiBTZW5kcyBhIHNpZ24taW4gZW1haWwgbGluayB0byB0aGUgdXNlciB3aXRoIHRoZSBzcGVjaWZpZWQgZW1haWwuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoZSBzaWduLWluIG9wZXJhdGlvbiBoYXMgdG8gYWx3YXlzIGJlIGNvbXBsZXRlZCBpbiB0aGUgYXBwIHVubGlrZSBvdGhlciBvdXQgb2YgYmFuZCBlbWFpbFxuICogYWN0aW9ucyAocGFzc3dvcmQgcmVzZXQgYW5kIGVtYWlsIHZlcmlmaWNhdGlvbnMpLiBUaGlzIGlzIGJlY2F1c2UsIGF0IHRoZSBlbmQgb2YgdGhlIGZsb3csXG4gKiB0aGUgdXNlciBpcyBleHBlY3RlZCB0byBiZSBzaWduZWQgaW4gYW5kIHRoZWlyIEF1dGggc3RhdGUgcGVyc2lzdGVkIHdpdGhpbiB0aGUgYXBwLlxuICpcbiAqIFRvIGNvbXBsZXRlIHNpZ24gaW4gd2l0aCB0aGUgZW1haWwgbGluaywgY2FsbCB7QGxpbmsgc2lnbkluV2l0aEVtYWlsTGlua30gd2l0aCB0aGUgZW1haWxcbiAqIGFkZHJlc3MgYW5kIHRoZSBlbWFpbCBsaW5rIHN1cHBsaWVkIGluIHRoZSBlbWFpbCBzZW50IHRvIHRoZSB1c2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBhY3Rpb25Db2RlU2V0dGluZ3MgPSB7XG4gKiAgIHVybDogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tLz9lbWFpbD11c2VyQGV4YW1wbGUuY29tJyxcbiAqICAgaU9TOiB7XG4gKiAgICAgIGJ1bmRsZUlkOiAnY29tLmV4YW1wbGUuaW9zJ1xuICogICB9LFxuICogICBhbmRyb2lkOiB7XG4gKiAgICAgcGFja2FnZU5hbWU6ICdjb20uZXhhbXBsZS5hbmRyb2lkJyxcbiAqICAgICBpbnN0YWxsQXBwOiB0cnVlLFxuICogICAgIG1pbmltdW1WZXJzaW9uOiAnMTInXG4gKiAgIH0sXG4gKiAgIGhhbmRsZUNvZGVJbkFwcDogdHJ1ZVxuICogfTtcbiAqIGF3YWl0IHNlbmRTaWduSW5MaW5rVG9FbWFpbChhdXRoLCAndXNlckBleGFtcGxlLmNvbScsIGFjdGlvbkNvZGVTZXR0aW5ncyk7XG4gKiAvLyBPYnRhaW4gZW1haWxMaW5rIGZyb20gdGhlIHVzZXIuXG4gKiBpZihpc1NpZ25JbldpdGhFbWFpbExpbmsoYXV0aCwgZW1haWxMaW5rKSkge1xuICogICBhd2FpdCBzaWduSW5XaXRoRW1haWxMaW5rKGF1dGgsICd1c2VyQGV4YW1wbGUuY29tJywgZW1haWxMaW5rKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoSW50ZXJuYWwgLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGVtYWlsIC0gVGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzLlxuICogQHBhcmFtIGFjdGlvbkNvZGVTZXR0aW5ncyAtIFRoZSB7QGxpbmsgQWN0aW9uQ29kZVNldHRpbmdzfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kU2lnbkluTGlua1RvRW1haWwoXG4gIGF1dGg6IEF1dGgsXG4gIGVtYWlsOiBzdHJpbmcsXG4gIGFjdGlvbkNvZGVTZXR0aW5nczogQWN0aW9uQ29kZVNldHRpbmdzXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBjb25zdCByZXF1ZXN0OiBhcGkuRW1haWxTaWduSW5SZXF1ZXN0ID0ge1xuICAgIHJlcXVlc3RUeXBlOiBBY3Rpb25Db2RlT3BlcmF0aW9uLkVNQUlMX1NJR05JTixcbiAgICBlbWFpbCxcbiAgICBjbGllbnRUeXBlOiBSZWNhcHRjaGFDbGllbnRUeXBlLldFQlxuICB9O1xuICBmdW5jdGlvbiBzZXRBY3Rpb25Db2RlU2V0dGluZ3MoXG4gICAgcmVxdWVzdDogYXBpLkVtYWlsU2lnbkluUmVxdWVzdCxcbiAgICBhY3Rpb25Db2RlU2V0dGluZ3M6IEFjdGlvbkNvZGVTZXR0aW5nc1xuICApOiB2b2lkIHtcbiAgICBfYXNzZXJ0KFxuICAgICAgYWN0aW9uQ29kZVNldHRpbmdzLmhhbmRsZUNvZGVJbkFwcCxcbiAgICAgIGF1dGhJbnRlcm5hbCxcbiAgICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgICApO1xuICAgIGlmIChhY3Rpb25Db2RlU2V0dGluZ3MpIHtcbiAgICAgIF9zZXRBY3Rpb25Db2RlU2V0dGluZ3NPblJlcXVlc3QoXG4gICAgICAgIGF1dGhJbnRlcm5hbCxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgYWN0aW9uQ29kZVNldHRpbmdzXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBzZXRBY3Rpb25Db2RlU2V0dGluZ3MocmVxdWVzdCwgYWN0aW9uQ29kZVNldHRpbmdzKTtcbiAgYXdhaXQgaGFuZGxlUmVjYXB0Y2hhRmxvdyhcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgcmVxdWVzdCxcbiAgICBSZWNhcHRjaGFBY3Rpb25OYW1lLkdFVF9PT0JfQ09ERSxcbiAgICBhcGkuc2VuZFNpZ25JbkxpbmtUb0VtYWlsXG4gICk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGFuIGluY29taW5nIGxpbmsgaXMgYSBzaWduLWluIHdpdGggZW1haWwgbGluayBzdWl0YWJsZSBmb3Ige0BsaW5rIHNpZ25JbldpdGhFbWFpbExpbmt9LlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlbWFpbExpbmsgLSBUaGUgbGluayBzZW50IHRvIHRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NpZ25JbldpdGhFbWFpbExpbmsoYXV0aDogQXV0aCwgZW1haWxMaW5rOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgYWN0aW9uQ29kZVVybCA9IEFjdGlvbkNvZGVVUkwucGFyc2VMaW5rKGVtYWlsTGluayk7XG4gIHJldHVybiBhY3Rpb25Db2RlVXJsPy5vcGVyYXRpb24gPT09IEFjdGlvbkNvZGVPcGVyYXRpb24uRU1BSUxfU0lHTklOO1xufVxuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNpZ25zIGluIHVzaW5nIGFuIGVtYWlsIGFuZCBzaWduLWluIGVtYWlsIGxpbmsuXG4gKlxuICogQHJlbWFya3NcbiAqIElmIG5vIGxpbmsgaXMgcGFzc2VkLCB0aGUgbGluayBpcyBpbmZlcnJlZCBmcm9tIHRoZSBjdXJyZW50IFVSTC5cbiAqXG4gKiBGYWlscyB3aXRoIGFuIGVycm9yIGlmIHRoZSBlbWFpbCBhZGRyZXNzIGlzIGludmFsaWQgb3IgT1RQIGluIGVtYWlsIGxpbmsgZXhwaXJlcy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBOb3RlOiBDb25maXJtIHRoZSBsaW5rIGlzIGEgc2lnbi1pbiBlbWFpbCBsaW5rIGJlZm9yZSBjYWxsaW5nIHRoaXMgbWV0aG9kIGZpcmViYXNlLmF1dGguQXV0aC5pc1NpZ25JbldpdGhFbWFpbExpbmsuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IGFjdGlvbkNvZGVTZXR0aW5ncyA9IHtcbiAqICAgdXJsOiAnaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vP2VtYWlsPXVzZXJAZXhhbXBsZS5jb20nLFxuICogICBpT1M6IHtcbiAqICAgICAgYnVuZGxlSWQ6ICdjb20uZXhhbXBsZS5pb3MnXG4gKiAgIH0sXG4gKiAgIGFuZHJvaWQ6IHtcbiAqICAgICBwYWNrYWdlTmFtZTogJ2NvbS5leGFtcGxlLmFuZHJvaWQnLFxuICogICAgIGluc3RhbGxBcHA6IHRydWUsXG4gKiAgICAgbWluaW11bVZlcnNpb246ICcxMidcbiAqICAgfSxcbiAqICAgaGFuZGxlQ29kZUluQXBwOiB0cnVlXG4gKiB9O1xuICogYXdhaXQgc2VuZFNpZ25JbkxpbmtUb0VtYWlsKGF1dGgsICd1c2VyQGV4YW1wbGUuY29tJywgYWN0aW9uQ29kZVNldHRpbmdzKTtcbiAqIC8vIE9idGFpbiBlbWFpbExpbmsgZnJvbSB0aGUgdXNlci5cbiAqIGlmKGlzU2lnbkluV2l0aEVtYWlsTGluayhhdXRoLCBlbWFpbExpbmspKSB7XG4gKiAgIGF3YWl0IHNpZ25JbldpdGhFbWFpbExpbmsoYXV0aCwgJ3VzZXJAZXhhbXBsZS5jb20nLCBlbWFpbExpbmspO1xuICogfVxuICogYGBgXG4gKlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlbWFpbCAtIFRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcy5cbiAqIEBwYXJhbSBlbWFpbExpbmsgLSBUaGUgbGluayBzZW50IHRvIHRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoRW1haWxMaW5rKFxuICBhdXRoOiBBdXRoLFxuICBlbWFpbDogc3RyaW5nLFxuICBlbWFpbExpbms/OiBzdHJpbmdcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCBhdXRoTW9kdWxhciA9IGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKTtcbiAgY29uc3QgY3JlZGVudGlhbCA9IEVtYWlsQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxXaXRoTGluayhcbiAgICBlbWFpbCxcbiAgICBlbWFpbExpbmsgfHwgX2dldEN1cnJlbnRVcmwoKVxuICApO1xuICAvLyBDaGVjayBpZiB0aGUgdGVuYW50IElEIGluIHRoZSBlbWFpbCBsaW5rIG1hdGNoZXMgdGhlIHRlbmFudCBJRCBvbiBBdXRoXG4gIC8vIGluc3RhbmNlLlxuICBfYXNzZXJ0KFxuICAgIGNyZWRlbnRpYWwuX3RlbmFudElkID09PSAoYXV0aE1vZHVsYXIudGVuYW50SWQgfHwgbnVsbCksXG4gICAgYXV0aE1vZHVsYXIsXG4gICAgQXV0aEVycm9yQ29kZS5URU5BTlRfSURfTUlTTUFUQ0hcbiAgKTtcbiAgcmV0dXJuIHNpZ25JbldpdGhDcmVkZW50aWFsKGF1dGhNb2R1bGFyLCBjcmVkZW50aWFsKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5LFxuICBfcGVyZm9ybUFwaVJlcXVlc3Rcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQXV0aFVyaVJlcXVlc3Qge1xuICBpZGVudGlmaWVyOiBzdHJpbmc7XG4gIGNvbnRpbnVlVXJpOiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUF1dGhVcmlSZXNwb25zZSB7XG4gIHNpZ25pbk1ldGhvZHM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQXV0aFVyaShcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogQ3JlYXRlQXV0aFVyaVJlcXVlc3Rcbik6IFByb21pc2U8Q3JlYXRlQXV0aFVyaVJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8Q3JlYXRlQXV0aFVyaVJlcXVlc3QsIENyZWF0ZUF1dGhVcmlSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuQ1JFQVRFX0FVVEhfVVJJLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEFjdGlvbkNvZGVPcGVyYXRpb24sXG4gIEFjdGlvbkNvZGVTZXR0aW5ncyxcbiAgQXV0aCxcbiAgVXNlclxufSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQge1xuICBjcmVhdGVBdXRoVXJpLFxuICBDcmVhdGVBdXRoVXJpUmVxdWVzdFxufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vY3JlYXRlX2F1dGhfdXJpJztcbmltcG9ydCAqIGFzIGFwaSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfYW5kX3Bhc3N3b3JkJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgX2dldEN1cnJlbnRVcmwsIF9pc0h0dHBPckh0dHBzIH0gZnJvbSAnLi4vdXRpbC9sb2NhdGlvbic7XG5pbXBvcnQgeyBfc2V0QWN0aW9uQ29kZVNldHRpbmdzT25SZXF1ZXN0IH0gZnJvbSAnLi9hY3Rpb25fY29kZV9zZXR0aW5ncyc7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbi8qKlxuICogR2V0cyB0aGUgbGlzdCBvZiBwb3NzaWJsZSBzaWduIGluIG1ldGhvZHMgZm9yIHRoZSBnaXZlbiBlbWFpbCBhZGRyZXNzLiBUaGlzIG1ldGhvZCByZXR1cm5zIGFuXG4gKiBlbXB0eSBsaXN0IHdoZW5cbiAqIHtAbGluayBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vaWRlbnRpdHktcGxhdGZvcm0vZG9jcy9hZG1pbi9lbWFpbC1lbnVtZXJhdGlvbi1wcm90ZWN0aW9uIHwgRW1haWwgRW51bWVyYXRpb24gUHJvdGVjdGlvbn1cbiAqIGlzIGVuYWJsZWQsIGlycmVzcGVjdGl2ZSBvZiB0aGUgbnVtYmVyIG9mIGF1dGhlbnRpY2F0aW9uIG1ldGhvZHMgYXZhaWxhYmxlIGZvciB0aGUgZ2l2ZW4gZW1haWwuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgaXMgdXNlZnVsIHRvIGRpZmZlcmVudGlhdGUgbWV0aG9kcyBvZiBzaWduLWluIGZvciB0aGUgc2FtZSBwcm92aWRlciwgZWcuXG4gKiB7QGxpbmsgRW1haWxBdXRoUHJvdmlkZXJ9IHdoaWNoIGhhcyAyIG1ldGhvZHMgb2Ygc2lnbi1pbixcbiAqIHtAbGluayBTaWduSW5NZXRob2R9LkVNQUlMX1BBU1NXT1JEIGFuZFxuICoge0BsaW5rIFNpZ25Jbk1ldGhvZH0uRU1BSUxfTElOSy5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gZW1haWwgLSBUaGUgdXNlcidzIGVtYWlsIGFkZHJlc3MuXG4gKlxuICogRGVwcmVjYXRlZC4gTWlncmF0aW5nIG9mZiBvZiB0aGlzIG1ldGhvZCBpcyByZWNvbW1lbmRlZCBhcyBhIHNlY3VyaXR5IGJlc3QtcHJhY3RpY2UuXG4gKiBMZWFybiBtb3JlIGluIHRoZSBJZGVudGl0eSBQbGF0Zm9ybSBkb2N1bWVudGF0aW9uIGZvclxuICoge0BsaW5rIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9pZGVudGl0eS1wbGF0Zm9ybS9kb2NzL2FkbWluL2VtYWlsLWVudW1lcmF0aW9uLXByb3RlY3Rpb24gfCBFbWFpbCBFbnVtZXJhdGlvbiBQcm90ZWN0aW9ufS5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoU2lnbkluTWV0aG9kc0ZvckVtYWlsKFxuICBhdXRoOiBBdXRoLFxuICBlbWFpbDogc3RyaW5nXG4pOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gIC8vIGNyZWF0ZUF1dGhVcmkgcmV0dXJucyBhbiBlcnJvciBpZiBjb250aW51ZSBVUkkgaXMgbm90IGh0dHAgb3IgaHR0cHMuXG4gIC8vIEZvciBlbnZpcm9ubWVudHMgbGlrZSBDb3Jkb3ZhLCBDaHJvbWUgZXh0ZW5zaW9ucywgbmF0aXZlIGZyYW1ld29ya3MsIGZpbGVcbiAgLy8gc3lzdGVtcywgZXRjLCB1c2UgaHR0cDovL2xvY2FsaG9zdCBhcyBjb250aW51ZSBVUkwuXG4gIGNvbnN0IGNvbnRpbnVlVXJpID0gX2lzSHR0cE9ySHR0cHMoKSA/IF9nZXRDdXJyZW50VXJsKCkgOiAnaHR0cDovL2xvY2FsaG9zdCc7XG4gIGNvbnN0IHJlcXVlc3Q6IENyZWF0ZUF1dGhVcmlSZXF1ZXN0ID0ge1xuICAgIGlkZW50aWZpZXI6IGVtYWlsLFxuICAgIGNvbnRpbnVlVXJpXG4gIH07XG5cbiAgY29uc3QgeyBzaWduaW5NZXRob2RzIH0gPSBhd2FpdCBjcmVhdGVBdXRoVXJpKFxuICAgIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKSxcbiAgICByZXF1ZXN0XG4gICk7XG5cbiAgcmV0dXJuIHNpZ25pbk1ldGhvZHMgfHwgW107XG59XG5cbi8qKlxuICogU2VuZHMgYSB2ZXJpZmljYXRpb24gZW1haWwgdG8gYSB1c2VyLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGUgdmVyaWZpY2F0aW9uIHByb2Nlc3MgaXMgY29tcGxldGVkIGJ5IGNhbGxpbmcge0BsaW5rIGFwcGx5QWN0aW9uQ29kZX0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IGFjdGlvbkNvZGVTZXR0aW5ncyA9IHtcbiAqICAgdXJsOiAnaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vP2VtYWlsPXVzZXJAZXhhbXBsZS5jb20nLFxuICogICBpT1M6IHtcbiAqICAgICAgYnVuZGxlSWQ6ICdjb20uZXhhbXBsZS5pb3MnXG4gKiAgIH0sXG4gKiAgIGFuZHJvaWQ6IHtcbiAqICAgICBwYWNrYWdlTmFtZTogJ2NvbS5leGFtcGxlLmFuZHJvaWQnLFxuICogICAgIGluc3RhbGxBcHA6IHRydWUsXG4gKiAgICAgbWluaW11bVZlcnNpb246ICcxMidcbiAqICAgfSxcbiAqICAgaGFuZGxlQ29kZUluQXBwOiB0cnVlXG4gKiB9O1xuICogYXdhaXQgc2VuZEVtYWlsVmVyaWZpY2F0aW9uKHVzZXIsIGFjdGlvbkNvZGVTZXR0aW5ncyk7XG4gKiAvLyBPYnRhaW4gY29kZSBmcm9tIHRoZSB1c2VyLlxuICogYXdhaXQgYXBwbHlBY3Rpb25Db2RlKGF1dGgsIGNvZGUpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBhY3Rpb25Db2RlU2V0dGluZ3MgLSBUaGUge0BsaW5rIEFjdGlvbkNvZGVTZXR0aW5nc30uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsVmVyaWZpY2F0aW9uKFxuICB1c2VyOiBVc2VyLFxuICBhY3Rpb25Db2RlU2V0dGluZ3M/OiBBY3Rpb25Db2RlU2V0dGluZ3MgfCBudWxsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IHVzZXIuZ2V0SWRUb2tlbigpO1xuICBjb25zdCByZXF1ZXN0OiBhcGkuVmVyaWZ5RW1haWxSZXF1ZXN0ID0ge1xuICAgIHJlcXVlc3RUeXBlOiBBY3Rpb25Db2RlT3BlcmF0aW9uLlZFUklGWV9FTUFJTCxcbiAgICBpZFRva2VuXG4gIH07XG4gIGlmIChhY3Rpb25Db2RlU2V0dGluZ3MpIHtcbiAgICBfc2V0QWN0aW9uQ29kZVNldHRpbmdzT25SZXF1ZXN0KFxuICAgICAgdXNlckludGVybmFsLmF1dGgsXG4gICAgICByZXF1ZXN0LFxuICAgICAgYWN0aW9uQ29kZVNldHRpbmdzXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHsgZW1haWwgfSA9IGF3YWl0IGFwaS5zZW5kRW1haWxWZXJpZmljYXRpb24odXNlckludGVybmFsLmF1dGgsIHJlcXVlc3QpO1xuXG4gIGlmIChlbWFpbCAhPT0gdXNlci5lbWFpbCkge1xuICAgIGF3YWl0IHVzZXIucmVsb2FkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kcyBhIHZlcmlmaWNhdGlvbiBlbWFpbCB0byBhIG5ldyBlbWFpbCBhZGRyZXNzLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGUgdXNlcidzIGVtYWlsIHdpbGwgYmUgdXBkYXRlZCB0byB0aGUgbmV3IG9uZSBhZnRlciBiZWluZyB2ZXJpZmllZC5cbiAqXG4gKiBJZiB5b3UgaGF2ZSBhIGN1c3RvbSBlbWFpbCBhY3Rpb24gaGFuZGxlciwgeW91IGNhbiBjb21wbGV0ZSB0aGUgdmVyaWZpY2F0aW9uIHByb2Nlc3MgYnkgY2FsbGluZ1xuICoge0BsaW5rIGFwcGx5QWN0aW9uQ29kZX0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IGFjdGlvbkNvZGVTZXR0aW5ncyA9IHtcbiAqICAgdXJsOiAnaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vP2VtYWlsPXVzZXJAZXhhbXBsZS5jb20nLFxuICogICBpT1M6IHtcbiAqICAgICAgYnVuZGxlSWQ6ICdjb20uZXhhbXBsZS5pb3MnXG4gKiAgIH0sXG4gKiAgIGFuZHJvaWQ6IHtcbiAqICAgICBwYWNrYWdlTmFtZTogJ2NvbS5leGFtcGxlLmFuZHJvaWQnLFxuICogICAgIGluc3RhbGxBcHA6IHRydWUsXG4gKiAgICAgbWluaW11bVZlcnNpb246ICcxMidcbiAqICAgfSxcbiAqICAgaGFuZGxlQ29kZUluQXBwOiB0cnVlXG4gKiB9O1xuICogYXdhaXQgdmVyaWZ5QmVmb3JlVXBkYXRlRW1haWwodXNlciwgJ25ld2VtYWlsQGV4YW1wbGUuY29tJywgYWN0aW9uQ29kZVNldHRpbmdzKTtcbiAqIC8vIE9idGFpbiBjb2RlIGZyb20gdGhlIHVzZXIuXG4gKiBhd2FpdCBhcHBseUFjdGlvbkNvZGUoYXV0aCwgY29kZSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIG5ld0VtYWlsIC0gVGhlIG5ldyBlbWFpbCBhZGRyZXNzIHRvIGJlIHZlcmlmaWVkIGJlZm9yZSB1cGRhdGUuXG4gKiBAcGFyYW0gYWN0aW9uQ29kZVNldHRpbmdzIC0gVGhlIHtAbGluayBBY3Rpb25Db2RlU2V0dGluZ3N9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeUJlZm9yZVVwZGF0ZUVtYWlsKFxuICB1c2VyOiBVc2VyLFxuICBuZXdFbWFpbDogc3RyaW5nLFxuICBhY3Rpb25Db2RlU2V0dGluZ3M/OiBBY3Rpb25Db2RlU2V0dGluZ3MgfCBudWxsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IHVzZXIuZ2V0SWRUb2tlbigpO1xuICBjb25zdCByZXF1ZXN0OiBhcGkuVmVyaWZ5QW5kQ2hhbmdlRW1haWxSZXF1ZXN0ID0ge1xuICAgIHJlcXVlc3RUeXBlOiBBY3Rpb25Db2RlT3BlcmF0aW9uLlZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMLFxuICAgIGlkVG9rZW4sXG4gICAgbmV3RW1haWxcbiAgfTtcbiAgaWYgKGFjdGlvbkNvZGVTZXR0aW5ncykge1xuICAgIF9zZXRBY3Rpb25Db2RlU2V0dGluZ3NPblJlcXVlc3QoXG4gICAgICB1c2VySW50ZXJuYWwuYXV0aCxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBhY3Rpb25Db2RlU2V0dGluZ3NcbiAgICApO1xuICB9XG5cbiAgY29uc3QgeyBlbWFpbCB9ID0gYXdhaXQgYXBpLnZlcmlmeUFuZENoYW5nZUVtYWlsKHVzZXJJbnRlcm5hbC5hdXRoLCByZXF1ZXN0KTtcblxuICBpZiAoZW1haWwgIT09IHVzZXIuZW1haWwpIHtcbiAgICAvLyBJZiB0aGUgbG9jYWwgY29weSBvZiB0aGUgZW1haWwgb24gdXNlciBpcyBvdXRkYXRlZCwgcmVsb2FkIHRoZVxuICAgIC8vIHVzZXIuXG4gICAgYXdhaXQgdXNlci5yZWxvYWQoKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEVuZHBvaW50LCBIdHRwTWV0aG9kLCBfcGVyZm9ybUFwaVJlcXVlc3QgfSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVQcm9maWxlUmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsO1xuICBwaG90b1VybD86IHN0cmluZyB8IG51bGw7XG4gIHJldHVyblNlY3VyZVRva2VuOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVByb2ZpbGVSZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgcGhvdG9Vcmw/OiBzdHJpbmcgfCBudWxsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvZmlsZShcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogVXBkYXRlUHJvZmlsZVJlcXVlc3Rcbik6IFByb21pc2U8VXBkYXRlUHJvZmlsZVJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8VXBkYXRlUHJvZmlsZVJlcXVlc3QsIFVwZGF0ZVByb2ZpbGVSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0VUX0FDQ09VTlRfSU5GTyxcbiAgICByZXF1ZXN0XG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7XG4gIHVwZGF0ZUVtYWlsUGFzc3dvcmQgYXMgYXBpVXBkYXRlRW1haWxQYXNzd29yZCxcbiAgVXBkYXRlRW1haWxQYXNzd29yZFJlcXVlc3Rcbn0gZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9lbWFpbF9hbmRfcGFzc3dvcmQnO1xuaW1wb3J0IHsgdXBkYXRlUHJvZmlsZSBhcyBhcGlVcGRhdGVQcm9maWxlIH0gZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9wcm9maWxlJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgX2xvZ291dElmSW52YWxpZGF0ZWQgfSBmcm9tICcuL2ludmFsaWRhdGlvbic7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBQcm92aWRlcklkIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5cbi8qKlxuICogVXBkYXRlcyBhIHVzZXIncyBwcm9maWxlIGRhdGEuXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBwcm9maWxlIC0gVGhlIHByb2ZpbGUncyBgZGlzcGxheU5hbWVgIGFuZCBgcGhvdG9VUkxgIHRvIHVwZGF0ZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQcm9maWxlKFxuICB1c2VyOiBVc2VyLFxuICB7XG4gICAgZGlzcGxheU5hbWUsXG4gICAgcGhvdG9VUkw6IHBob3RvVXJsXG4gIH06IHsgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsOyBwaG90b1VSTD86IHN0cmluZyB8IG51bGwgfVxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChkaXNwbGF5TmFtZSA9PT0gdW5kZWZpbmVkICYmIHBob3RvVXJsID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBjb25zdCBpZFRva2VuID0gYXdhaXQgdXNlckludGVybmFsLmdldElkVG9rZW4oKTtcbiAgY29uc3QgcHJvZmlsZVJlcXVlc3QgPSB7XG4gICAgaWRUb2tlbixcbiAgICBkaXNwbGF5TmFtZSxcbiAgICBwaG90b1VybCxcbiAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZVxuICB9O1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9sb2dvdXRJZkludmFsaWRhdGVkKFxuICAgIHVzZXJJbnRlcm5hbCxcbiAgICBhcGlVcGRhdGVQcm9maWxlKHVzZXJJbnRlcm5hbC5hdXRoLCBwcm9maWxlUmVxdWVzdClcbiAgKTtcblxuICB1c2VySW50ZXJuYWwuZGlzcGxheU5hbWUgPSByZXNwb25zZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuICB1c2VySW50ZXJuYWwucGhvdG9VUkwgPSByZXNwb25zZS5waG90b1VybCB8fCBudWxsO1xuXG4gIC8vIFVwZGF0ZSB0aGUgcGFzc3dvcmQgcHJvdmlkZXIgYXMgd2VsbFxuICBjb25zdCBwYXNzd29yZFByb3ZpZGVyID0gdXNlckludGVybmFsLnByb3ZpZGVyRGF0YS5maW5kKFxuICAgICh7IHByb3ZpZGVySWQgfSkgPT4gcHJvdmlkZXJJZCA9PT0gUHJvdmlkZXJJZC5QQVNTV09SRFxuICApO1xuICBpZiAocGFzc3dvcmRQcm92aWRlcikge1xuICAgIHBhc3N3b3JkUHJvdmlkZXIuZGlzcGxheU5hbWUgPSB1c2VySW50ZXJuYWwuZGlzcGxheU5hbWU7XG4gICAgcGFzc3dvcmRQcm92aWRlci5waG90b1VSTCA9IHVzZXJJbnRlcm5hbC5waG90b1VSTDtcbiAgfVxuXG4gIGF3YWl0IHVzZXJJbnRlcm5hbC5fdXBkYXRlVG9rZW5zSWZOZWNlc3NhcnkocmVzcG9uc2UpO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzLlxuICpcbiAqIEByZW1hcmtzXG4gKiBBbiBlbWFpbCB3aWxsIGJlIHNlbnQgdG8gdGhlIG9yaWdpbmFsIGVtYWlsIGFkZHJlc3MgKGlmIGl0IHdhcyBzZXQpIHRoYXQgYWxsb3dzIHRvIHJldm9rZSB0aGVcbiAqIGVtYWlsIGFkZHJlc3MgY2hhbmdlLCBpbiBvcmRlciB0byBwcm90ZWN0IHRoZW0gZnJvbSBhY2NvdW50IGhpamFja2luZy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIG9uIGFueSB7QGxpbmsgVXNlcn0gc2lnbmVkIGluIGJ5IHtAbGluayBBdXRofSBpbnN0YW5jZXNcbiAqIGNyZWF0ZWQgd2l0aCBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBJbXBvcnRhbnQ6IHRoaXMgaXMgYSBzZWN1cml0eSBzZW5zaXRpdmUgb3BlcmF0aW9uIHRoYXQgcmVxdWlyZXMgdGhlIHVzZXIgdG8gaGF2ZSByZWNlbnRseSBzaWduZWRcbiAqIGluLiBJZiB0aGlzIHJlcXVpcmVtZW50IGlzbid0IG1ldCwgYXNrIHRoZSB1c2VyIHRvIGF1dGhlbnRpY2F0ZSBhZ2FpbiBhbmQgdGhlbiBjYWxsXG4gKiB7QGxpbmsgcmVhdXRoZW50aWNhdGVXaXRoQ3JlZGVudGlhbH0uXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBuZXdFbWFpbCAtIFRoZSBuZXcgZW1haWwgYWRkcmVzcy5cbiAqXG4gKiBUaHJvd3MgXCJhdXRoL29wZXJhdGlvbi1ub3QtYWxsb3dlZFwiIGVycm9yIHdoZW5cbiAqIHtAbGluayBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vaWRlbnRpdHktcGxhdGZvcm0vZG9jcy9hZG1pbi9lbWFpbC1lbnVtZXJhdGlvbi1wcm90ZWN0aW9uIHwgRW1haWwgRW51bWVyYXRpb24gUHJvdGVjdGlvbn1cbiAqIGlzIGVuYWJsZWQuXG4gKiBEZXByZWNhdGVkIC0gVXNlIHtAbGluayB2ZXJpZnlCZWZvcmVVcGRhdGVFbWFpbH0gaW5zdGVhZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVFbWFpbCh1c2VyOiBVc2VyLCBuZXdFbWFpbDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh1c2VySW50ZXJuYWwuYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IodXNlckludGVybmFsLmF1dGgpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdXBkYXRlRW1haWxPclBhc3N3b3JkKHVzZXJJbnRlcm5hbCwgbmV3RW1haWwsIG51bGwpO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHVzZXIncyBwYXNzd29yZC5cbiAqXG4gKiBAcmVtYXJrc1xuICogSW1wb3J0YW50OiB0aGlzIGlzIGEgc2VjdXJpdHkgc2Vuc2l0aXZlIG9wZXJhdGlvbiB0aGF0IHJlcXVpcmVzIHRoZSB1c2VyIHRvIGhhdmUgcmVjZW50bHkgc2lnbmVkXG4gKiBpbi4gSWYgdGhpcyByZXF1aXJlbWVudCBpc24ndCBtZXQsIGFzayB0aGUgdXNlciB0byBhdXRoZW50aWNhdGUgYWdhaW4gYW5kIHRoZW4gY2FsbFxuICoge0BsaW5rIHJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWx9LlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gbmV3UGFzc3dvcmQgLSBUaGUgbmV3IHBhc3N3b3JkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVBhc3N3b3JkKHVzZXI6IFVzZXIsIG5ld1Bhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIHVwZGF0ZUVtYWlsT3JQYXNzd29yZChcbiAgICBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsLFxuICAgIG51bGwsXG4gICAgbmV3UGFzc3dvcmRcbiAgKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlRW1haWxPclBhc3N3b3JkKFxuICB1c2VyOiBVc2VySW50ZXJuYWwsXG4gIGVtYWlsOiBzdHJpbmcgfCBudWxsLFxuICBwYXNzd29yZDogc3RyaW5nIHwgbnVsbFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHsgYXV0aCB9ID0gdXNlcjtcbiAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IHVzZXIuZ2V0SWRUb2tlbigpO1xuICBjb25zdCByZXF1ZXN0OiBVcGRhdGVFbWFpbFBhc3N3b3JkUmVxdWVzdCA9IHtcbiAgICBpZFRva2VuLFxuICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlXG4gIH07XG5cbiAgaWYgKGVtYWlsKSB7XG4gICAgcmVxdWVzdC5lbWFpbCA9IGVtYWlsO1xuICB9XG5cbiAgaWYgKHBhc3N3b3JkKSB7XG4gICAgcmVxdWVzdC5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICB9XG5cbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfbG9nb3V0SWZJbnZhbGlkYXRlZChcbiAgICB1c2VyLFxuICAgIGFwaVVwZGF0ZUVtYWlsUGFzc3dvcmQoYXV0aCwgcmVxdWVzdClcbiAgKTtcbiAgYXdhaXQgdXNlci5fdXBkYXRlVG9rZW5zSWZOZWNlc3NhcnkocmVzcG9uc2UsIC8qIHJlbG9hZCAqLyB0cnVlKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBZGRpdGlvbmFsVXNlckluZm8sIFVzZXJDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSwgSWRUb2tlblJlc3BvbnNlS2luZCB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IF9wYXJzZVRva2VuIH0gZnJvbSAnLi9pZF90b2tlbl9yZXN1bHQnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuLyoqXG4gKiBQYXJzZSB0aGUgYEFkZGl0aW9uYWxVc2VySW5mb2AgZnJvbSB0aGUgSUQgdG9rZW4gcmVzcG9uc2UuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gX2Zyb21JZFRva2VuUmVzcG9uc2UoXG4gIGlkVG9rZW5SZXNwb25zZT86IElkVG9rZW5SZXNwb25zZVxuKTogQWRkaXRpb25hbFVzZXJJbmZvIHwgbnVsbCB7XG4gIGlmICghaWRUb2tlblJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgeyBwcm92aWRlcklkIH0gPSBpZFRva2VuUmVzcG9uc2U7XG4gIGNvbnN0IHByb2ZpbGUgPSBpZFRva2VuUmVzcG9uc2UucmF3VXNlckluZm9cbiAgICA/IEpTT04ucGFyc2UoaWRUb2tlblJlc3BvbnNlLnJhd1VzZXJJbmZvKVxuICAgIDoge307XG4gIGNvbnN0IGlzTmV3VXNlciA9XG4gICAgaWRUb2tlblJlc3BvbnNlLmlzTmV3VXNlciB8fFxuICAgIGlkVG9rZW5SZXNwb25zZS5raW5kID09PSBJZFRva2VuUmVzcG9uc2VLaW5kLlNpZ251cE5ld1VzZXI7XG4gIGlmICghcHJvdmlkZXJJZCAmJiBpZFRva2VuUmVzcG9uc2U/LmlkVG9rZW4pIHtcbiAgICBjb25zdCBzaWduSW5Qcm92aWRlciA9IF9wYXJzZVRva2VuKGlkVG9rZW5SZXNwb25zZS5pZFRva2VuKT8uZmlyZWJhc2U/LltcbiAgICAgICdzaWduX2luX3Byb3ZpZGVyJ1xuICAgIF07XG4gICAgaWYgKHNpZ25JblByb3ZpZGVyKSB7XG4gICAgICBjb25zdCBmaWx0ZXJlZFByb3ZpZGVySWQgPVxuICAgICAgICBzaWduSW5Qcm92aWRlciAhPT0gUHJvdmlkZXJJZC5BTk9OWU1PVVMgJiZcbiAgICAgICAgc2lnbkluUHJvdmlkZXIgIT09IFByb3ZpZGVySWQuQ1VTVE9NXG4gICAgICAgICAgPyAoc2lnbkluUHJvdmlkZXIgYXMgUHJvdmlkZXJJZClcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAvLyBVc2VzIGdlbmVyaWMgY2xhc3MgaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBsZWdhY3kgU0RLLlxuICAgICAgcmV0dXJuIG5ldyBHZW5lcmljQWRkaXRpb25hbFVzZXJJbmZvKGlzTmV3VXNlciwgZmlsdGVyZWRQcm92aWRlcklkKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFwcm92aWRlcklkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc3dpdGNoIChwcm92aWRlcklkKSB7XG4gICAgY2FzZSBQcm92aWRlcklkLkZBQ0VCT09LOlxuICAgICAgcmV0dXJuIG5ldyBGYWNlYm9va0FkZGl0aW9uYWxVc2VySW5mbyhpc05ld1VzZXIsIHByb2ZpbGUpO1xuICAgIGNhc2UgUHJvdmlkZXJJZC5HSVRIVUI6XG4gICAgICByZXR1cm4gbmV3IEdpdGh1YkFkZGl0aW9uYWxVc2VySW5mbyhpc05ld1VzZXIsIHByb2ZpbGUpO1xuICAgIGNhc2UgUHJvdmlkZXJJZC5HT09HTEU6XG4gICAgICByZXR1cm4gbmV3IEdvb2dsZUFkZGl0aW9uYWxVc2VySW5mbyhpc05ld1VzZXIsIHByb2ZpbGUpO1xuICAgIGNhc2UgUHJvdmlkZXJJZC5UV0lUVEVSOlxuICAgICAgcmV0dXJuIG5ldyBUd2l0dGVyQWRkaXRpb25hbFVzZXJJbmZvKFxuICAgICAgICBpc05ld1VzZXIsXG4gICAgICAgIHByb2ZpbGUsXG4gICAgICAgIGlkVG9rZW5SZXNwb25zZS5zY3JlZW5OYW1lIHx8IG51bGxcbiAgICAgICk7XG4gICAgY2FzZSBQcm92aWRlcklkLkNVU1RPTTpcbiAgICBjYXNlIFByb3ZpZGVySWQuQU5PTllNT1VTOlxuICAgICAgcmV0dXJuIG5ldyBHZW5lcmljQWRkaXRpb25hbFVzZXJJbmZvKGlzTmV3VXNlciwgbnVsbCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBuZXcgR2VuZXJpY0FkZGl0aW9uYWxVc2VySW5mbyhpc05ld1VzZXIsIHByb3ZpZGVySWQsIHByb2ZpbGUpO1xuICB9XG59XG5cbmNsYXNzIEdlbmVyaWNBZGRpdGlvbmFsVXNlckluZm8gaW1wbGVtZW50cyBBZGRpdGlvbmFsVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBpc05ld1VzZXI6IGJvb2xlYW4sXG4gICAgcmVhZG9ubHkgcHJvdmlkZXJJZDogUHJvdmlkZXJJZCB8IHN0cmluZyB8IG51bGwsXG4gICAgcmVhZG9ubHkgcHJvZmlsZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fVxuICApIHt9XG59XG5cbmNsYXNzIEZlZGVyYXRlZEFkZGl0aW9uYWxVc2VySW5mb1dpdGhVc2VybmFtZSBleHRlbmRzIEdlbmVyaWNBZGRpdGlvbmFsVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBpc05ld1VzZXI6IGJvb2xlYW4sXG4gICAgcHJvdmlkZXJJZDogUHJvdmlkZXJJZCxcbiAgICBwcm9maWxlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICByZWFkb25seSB1c2VybmFtZTogc3RyaW5nIHwgbnVsbFxuICApIHtcbiAgICBzdXBlcihpc05ld1VzZXIsIHByb3ZpZGVySWQsIHByb2ZpbGUpO1xuICB9XG59XG5cbmNsYXNzIEZhY2Vib29rQWRkaXRpb25hbFVzZXJJbmZvIGV4dGVuZHMgR2VuZXJpY0FkZGl0aW9uYWxVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKGlzTmV3VXNlcjogYm9vbGVhbiwgcHJvZmlsZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgICBzdXBlcihpc05ld1VzZXIsIFByb3ZpZGVySWQuRkFDRUJPT0ssIHByb2ZpbGUpO1xuICB9XG59XG5cbmNsYXNzIEdpdGh1YkFkZGl0aW9uYWxVc2VySW5mbyBleHRlbmRzIEZlZGVyYXRlZEFkZGl0aW9uYWxVc2VySW5mb1dpdGhVc2VybmFtZSB7XG4gIGNvbnN0cnVjdG9yKGlzTmV3VXNlcjogYm9vbGVhbiwgcHJvZmlsZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgICBzdXBlcihcbiAgICAgIGlzTmV3VXNlcixcbiAgICAgIFByb3ZpZGVySWQuR0lUSFVCLFxuICAgICAgcHJvZmlsZSxcbiAgICAgIHR5cGVvZiBwcm9maWxlPy5sb2dpbiA9PT0gJ3N0cmluZycgPyBwcm9maWxlPy5sb2dpbiA6IG51bGxcbiAgICApO1xuICB9XG59XG5cbmNsYXNzIEdvb2dsZUFkZGl0aW9uYWxVc2VySW5mbyBleHRlbmRzIEdlbmVyaWNBZGRpdGlvbmFsVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcihpc05ld1VzZXI6IGJvb2xlYW4sIHByb2ZpbGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSB7XG4gICAgc3VwZXIoaXNOZXdVc2VyLCBQcm92aWRlcklkLkdPT0dMRSwgcHJvZmlsZSk7XG4gIH1cbn1cblxuY2xhc3MgVHdpdHRlckFkZGl0aW9uYWxVc2VySW5mbyBleHRlbmRzIEZlZGVyYXRlZEFkZGl0aW9uYWxVc2VySW5mb1dpdGhVc2VybmFtZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGlzTmV3VXNlcjogYm9vbGVhbixcbiAgICBwcm9maWxlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICBzY3JlZW5OYW1lOiBzdHJpbmcgfCBudWxsXG4gICkge1xuICAgIHN1cGVyKGlzTmV3VXNlciwgUHJvdmlkZXJJZC5UV0lUVEVSLCBwcm9maWxlLCBzY3JlZW5OYW1lKTtcbiAgfVxufVxuXG4vKipcbiAqIEV4dHJhY3RzIHByb3ZpZGVyIHNwZWNpZmljIHtAbGluayBBZGRpdGlvbmFsVXNlckluZm99IGZvciB0aGUgZ2l2ZW4gY3JlZGVudGlhbC5cbiAqXG4gKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFkZGl0aW9uYWxVc2VySW5mbyhcbiAgdXNlckNyZWRlbnRpYWw6IFVzZXJDcmVkZW50aWFsXG4pOiBBZGRpdGlvbmFsVXNlckluZm8gfCBudWxsIHtcbiAgY29uc3QgeyB1c2VyLCBfdG9rZW5SZXNwb25zZSB9ID0gdXNlckNyZWRlbnRpYWwgYXMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbDtcbiAgaWYgKHVzZXIuaXNBbm9ueW1vdXMgJiYgIV90b2tlblJlc3BvbnNlKSB7XG4gICAgLy8gSGFuZGxlIHRoZSBzcGVjaWFsIGNhc2Ugd2hlcmUgc2lnbkluQW5vbnltb3VzbHkoKSBnZXRzIGNhbGxlZCB0d2ljZS5cbiAgICAvLyBObyBuZXR3b3JrIGNhbGwgaXMgbWFkZSBzbyB0aGVyZSdzIG5vdGhpbmcgdG8gYWN0dWFsbHkgZmlsbCB0aGlzIGluXG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3ZpZGVySWQ6IG51bGwsXG4gICAgICBpc05ld1VzZXI6IGZhbHNlLFxuICAgICAgcHJvZmlsZTogbnVsbFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gX2Zyb21JZFRva2VuUmVzcG9uc2UoX3Rva2VuUmVzcG9uc2UpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7XG4gIEF1dGgsXG4gIE5leHRPck9ic2VydmVyLFxuICBQZXJzaXN0ZW5jZSxcbiAgVXNlcixcbiAgQ29tcGxldGVGbixcbiAgRXJyb3JGbixcbiAgVW5zdWJzY3JpYmUsXG4gIFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1c1xufSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgX2luaXRpYWxpemVSZWNhcHRjaGFDb25maWcgfSBmcm9tICcuLi9wbGF0Zm9ybV9icm93c2VyL3JlY2FwdGNoYS9yZWNhcHRjaGFfZW50ZXJwcmlzZV92ZXJpZmllcic7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi9jb3JlL2F1dGgvYXV0aF9pbXBsJztcblxuZXhwb3J0IHtcbiAgZGVidWdFcnJvck1hcCxcbiAgcHJvZEVycm9yTWFwLFxuICBBVVRIX0VSUk9SX0NPREVTX01BUF9ET19OT1RfVVNFX0lOVEVSTkFMTFkgYXMgQXV0aEVycm9yQ29kZXNcbn0gZnJvbSAnLi9lcnJvcnMnO1xuXG4vLyBOb24tb3B0aW9uYWwgYXV0aCBtZXRob2RzLlxuLyoqXG4gKiBDaGFuZ2VzIHRoZSB0eXBlIG9mIHBlcnNpc3RlbmNlIG9uIHRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UgZm9yIHRoZSBjdXJyZW50bHkgc2F2ZWRcbiAqIGBBdXRoYCBzZXNzaW9uIGFuZCBhcHBsaWVzIHRoaXMgdHlwZSBvZiBwZXJzaXN0ZW5jZSBmb3IgZnV0dXJlIHNpZ24taW4gcmVxdWVzdHMsIGluY2x1ZGluZ1xuICogc2lnbi1pbiB3aXRoIHJlZGlyZWN0IHJlcXVlc3RzLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIG1ha2VzIGl0IGVhc3kgZm9yIGEgdXNlciBzaWduaW5nIGluIHRvIHNwZWNpZnkgd2hldGhlciB0aGVpciBzZXNzaW9uIHNob3VsZCBiZVxuICogcmVtZW1iZXJlZCBvciBub3QuIEl0IGFsc28gbWFrZXMgaXQgZWFzaWVyIHRvIG5ldmVyIHBlcnNpc3QgdGhlIGBBdXRoYCBzdGF0ZSBmb3IgYXBwbGljYXRpb25zXG4gKiB0aGF0IGFyZSBzaGFyZWQgYnkgb3RoZXIgdXNlcnMgb3IgaGF2ZSBzZW5zaXRpdmUgZGF0YS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciB3aXRoIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogc2V0UGVyc2lzdGVuY2UoYXV0aCwgYnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gcGVyc2lzdGVuY2UgLSBUaGUge0BsaW5rIFBlcnNpc3RlbmNlfSB0byB1c2UuXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IHJlc29sdmVzIG9uY2UgdGhlIHBlcnNpc3RlbmNlIGNoYW5nZSBoYXMgY29tcGxldGVkXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UGVyc2lzdGVuY2UoXG4gIGF1dGg6IEF1dGgsXG4gIHBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZVxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCkuc2V0UGVyc2lzdGVuY2UocGVyc2lzdGVuY2UpO1xufVxuXG4vKipcbiAqIExvYWRzIHRoZSByZUNBUFRDSEEgY29uZmlndXJhdGlvbiBpbnRvIHRoZSBgQXV0aGAgaW5zdGFuY2UuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgd2lsbCBsb2FkIHRoZSByZUNBUFRDSEEgY29uZmlnLCB3aGljaCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgcmVDQVBUQ0hBXG4gKiB2ZXJpZmljYXRpb24gZmxvdyBzaG91bGQgYmUgdHJpZ2dlcmVkIGZvciBlYWNoIGF1dGggcHJvdmlkZXIsIGludG8gdGhlXG4gKiBjdXJyZW50IEF1dGggc2Vzc2lvbi5cbiAqXG4gKiBJZiBpbml0aWFsaXplUmVjYXB0Y2hhQ29uZmlnKCkgaXMgbm90IGludm9rZWQsIHRoZSBhdXRoIGZsb3cgd2lsbCBhbHdheXMgc3RhcnRcbiAqIHdpdGhvdXQgcmVDQVBUQ0hBIHZlcmlmaWNhdGlvbi4gSWYgdGhlIHByb3ZpZGVyIGlzIGNvbmZpZ3VyZWQgdG8gcmVxdWlyZSByZUNBUFRDSEFcbiAqIHZlcmlmaWNhdGlvbiwgdGhlIFNESyB3aWxsIHRyYW5zcGFyZW50bHkgbG9hZCB0aGUgcmVDQVBUQ0hBIGNvbmZpZyBhbmQgcmVzdGFydCB0aGVcbiAqIGF1dGggZmxvd3MuXG4gKlxuICogVGh1cywgYnkgY2FsbGluZyB0aGlzIG9wdGlvbmFsIG1ldGhvZCwgeW91IHdpbGwgcmVkdWNlIHRoZSBsYXRlbmN5IG9mIGZ1dHVyZSBhdXRoIGZsb3dzLlxuICogTG9hZGluZyB0aGUgcmVDQVBUQ0hBIGNvbmZpZyBlYXJseSB3aWxsIGFsc28gZW5oYW5jZSB0aGUgc2lnbmFsIGNvbGxlY3RlZCBieSByZUNBUFRDSEEuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGluaXRpYWxpemVSZWNhcHRjaGFDb25maWcoYXV0aCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZVJlY2FwdGNoYUNvbmZpZyhhdXRoOiBBdXRoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBfaW5pdGlhbGl6ZVJlY2FwdGNoYUNvbmZpZyhhdXRoKTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIHBhc3N3b3JkIGFnYWluc3QgdGhlIHBhc3N3b3JkIHBvbGljeSBjb25maWd1cmVkIGZvciB0aGUgcHJvamVjdCBvciB0ZW5hbnQuXG4gKlxuICogQHJlbWFya3NcbiAqIElmIG5vIHRlbmFudCBJRCBpcyBzZXQgb24gdGhlIGBBdXRoYCBpbnN0YW5jZSwgdGhlbiB0aGlzIG1ldGhvZCB3aWxsIHVzZSB0aGUgcGFzc3dvcmRcbiAqIHBvbGljeSBjb25maWd1cmVkIGZvciB0aGUgcHJvamVjdC4gT3RoZXJ3aXNlLCB0aGlzIG1ldGhvZCB3aWxsIHVzZSB0aGUgcG9saWN5IGNvbmZpZ3VyZWRcbiAqIGZvciB0aGUgdGVuYW50LiBJZiBhIHBhc3N3b3JkIHBvbGljeSBoYXMgbm90IGJlZW4gY29uZmlndXJlZCwgdGhlbiB0aGUgZGVmYXVsdCBwb2xpY3lcbiAqIGNvbmZpZ3VyZWQgZm9yIGFsbCBwcm9qZWN0cyB3aWxsIGJlIHVzZWQuXG4gKlxuICogSWYgYW4gYXV0aCBmbG93IGZhaWxzIGJlY2F1c2UgYSBzdWJtaXR0ZWQgcGFzc3dvcmQgZG9lcyBub3QgbWVldCB0aGUgcGFzc3dvcmQgcG9saWN5XG4gKiByZXF1aXJlbWVudHMgYW5kIHRoaXMgbWV0aG9kIGhhcyBwcmV2aW91c2x5IGJlZW4gY2FsbGVkLCB0aGVuIHRoaXMgbWV0aG9kIHdpbGwgdXNlIHRoZVxuICogbW9zdCByZWNlbnQgcG9saWN5IGF2YWlsYWJsZSB3aGVuIGNhbGxlZCBhZ2Fpbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogdmFsaWRhdGVQYXNzd29yZChhdXRoLCAnc29tZS1wYXNzd29yZCcpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGggVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBwYXNzd29yZCBUaGUgcGFzc3dvcmQgdG8gdmFsaWRhdGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVQYXNzd29yZChcbiAgYXV0aDogQXV0aCxcbiAgcGFzc3dvcmQ6IHN0cmluZ1xuKTogUHJvbWlzZTxQYXNzd29yZFZhbGlkYXRpb25TdGF0dXM+IHtcbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICByZXR1cm4gYXV0aEludGVybmFsLnZhbGlkYXRlUGFzc3dvcmQocGFzc3dvcmQpO1xufVxuXG4vKipcbiAqIEFkZHMgYW4gb2JzZXJ2ZXIgZm9yIGNoYW5nZXMgdG8gdGhlIHNpZ25lZC1pbiB1c2VyJ3MgSUQgdG9rZW4uXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgaW5jbHVkZXMgc2lnbi1pbiwgc2lnbi1vdXQsIGFuZCB0b2tlbiByZWZyZXNoIGV2ZW50cy5cbiAqIFRoaXMgd2lsbCBub3QgYmUgdHJpZ2dlcmVkIGF1dG9tYXRpY2FsbHkgdXBvbiBJRCB0b2tlbiBleHBpcmF0aW9uLiBVc2Uge0BsaW5rIFVzZXIuZ2V0SWRUb2tlbn0gdG8gcmVmcmVzaCB0aGUgSUQgdG9rZW4uXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIG5leHRPck9ic2VydmVyIC0gY2FsbGJhY2sgdHJpZ2dlcmVkIG9uIGNoYW5nZS5cbiAqIEBwYXJhbSBlcnJvciAtIERlcHJlY2F0ZWQuIFRoaXMgY2FsbGJhY2sgaXMgbmV2ZXIgdHJpZ2dlcmVkLiBFcnJvcnNcbiAqIG9uIHNpZ25pbmcgaW4vb3V0IGNhbiBiZSBjYXVnaHQgaW4gcHJvbWlzZXMgcmV0dXJuZWQgZnJvbVxuICogc2lnbi1pbi9zaWduLW91dCBmdW5jdGlvbnMuXG4gKiBAcGFyYW0gY29tcGxldGVkIC0gRGVwcmVjYXRlZC4gVGhpcyBjYWxsYmFjayBpcyBuZXZlciB0cmlnZ2VyZWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gb25JZFRva2VuQ2hhbmdlZChcbiAgYXV0aDogQXV0aCxcbiAgbmV4dE9yT2JzZXJ2ZXI6IE5leHRPck9ic2VydmVyPFVzZXI+LFxuICBlcnJvcj86IEVycm9yRm4sXG4gIGNvbXBsZXRlZD86IENvbXBsZXRlRm5cbik6IFVuc3Vic2NyaWJlIHtcbiAgcmV0dXJuIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKS5vbklkVG9rZW5DaGFuZ2VkKFxuICAgIG5leHRPck9ic2VydmVyLFxuICAgIGVycm9yLFxuICAgIGNvbXBsZXRlZFxuICApO1xufVxuLyoqXG4gKiBBZGRzIGEgYmxvY2tpbmcgY2FsbGJhY2sgdGhhdCBydW5zIGJlZm9yZSBhbiBhdXRoIHN0YXRlIGNoYW5nZVxuICogc2V0cyBhIG5ldyB1c2VyLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRyaWdnZXJlZCBiZWZvcmUgbmV3IHVzZXIgdmFsdWUgaXMgc2V0LlxuICogICBJZiB0aGlzIHRocm93cywgaXQgYmxvY2tzIHRoZSB1c2VyIGZyb20gYmVpbmcgc2V0LlxuICogQHBhcmFtIG9uQWJvcnQgLSBjYWxsYmFjayB0cmlnZ2VyZWQgaWYgYSBsYXRlciBgYmVmb3JlQXV0aFN0YXRlQ2hhbmdlZCgpYFxuICogICBjYWxsYmFjayB0aHJvd3MsIGFsbG93aW5nIHlvdSB0byB1bmRvIGFueSBzaWRlIGVmZmVjdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVBdXRoU3RhdGVDaGFuZ2VkKFxuICBhdXRoOiBBdXRoLFxuICBjYWxsYmFjazogKHVzZXI6IFVzZXIgfCBudWxsKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgb25BYm9ydD86ICgpID0+IHZvaWRcbik6IFVuc3Vic2NyaWJlIHtcbiAgcmV0dXJuIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKS5iZWZvcmVBdXRoU3RhdGVDaGFuZ2VkKGNhbGxiYWNrLCBvbkFib3J0KTtcbn1cbi8qKlxuICogQWRkcyBhbiBvYnNlcnZlciBmb3IgY2hhbmdlcyB0byB0aGUgdXNlcidzIHNpZ24taW4gc3RhdGUuXG4gKlxuICogQHJlbWFya3NcbiAqIFRvIGtlZXAgdGhlIG9sZCBiZWhhdmlvciwgc2VlIHtAbGluayBvbklkVG9rZW5DaGFuZ2VkfS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gbmV4dE9yT2JzZXJ2ZXIgLSBjYWxsYmFjayB0cmlnZ2VyZWQgb24gY2hhbmdlLlxuICogQHBhcmFtIGVycm9yIC0gRGVwcmVjYXRlZC4gVGhpcyBjYWxsYmFjayBpcyBuZXZlciB0cmlnZ2VyZWQuIEVycm9yc1xuICogb24gc2lnbmluZyBpbi9vdXQgY2FuIGJlIGNhdWdodCBpbiBwcm9taXNlcyByZXR1cm5lZCBmcm9tXG4gKiBzaWduLWluL3NpZ24tb3V0IGZ1bmN0aW9ucy5cbiAqIEBwYXJhbSBjb21wbGV0ZWQgLSBEZXByZWNhdGVkLiBUaGlzIGNhbGxiYWNrIGlzIG5ldmVyIHRyaWdnZXJlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkF1dGhTdGF0ZUNoYW5nZWQoXG4gIGF1dGg6IEF1dGgsXG4gIG5leHRPck9ic2VydmVyOiBOZXh0T3JPYnNlcnZlcjxVc2VyPixcbiAgZXJyb3I/OiBFcnJvckZuLFxuICBjb21wbGV0ZWQ/OiBDb21wbGV0ZUZuXG4pOiBVbnN1YnNjcmliZSB7XG4gIHJldHVybiBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCkub25BdXRoU3RhdGVDaGFuZ2VkKFxuICAgIG5leHRPck9ic2VydmVyLFxuICAgIGVycm9yLFxuICAgIGNvbXBsZXRlZFxuICApO1xufVxuLyoqXG4gKiBTZXRzIHRoZSBjdXJyZW50IGxhbmd1YWdlIHRvIHRoZSBkZWZhdWx0IGRldmljZS9icm93c2VyIHByZWZlcmVuY2UuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURldmljZUxhbmd1YWdlKGF1dGg6IEF1dGgpOiB2b2lkIHtcbiAgZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLnVzZURldmljZUxhbmd1YWdlKCk7XG59XG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNldHMgdGhlIHByb3ZpZGVkIHVzZXIgYXMge0BsaW5rIEF1dGguY3VycmVudFVzZXJ9IG9uIHRoZVxuICoge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICpcbiAqIEByZW1hcmtzXG4gKiBBIG5ldyBpbnN0YW5jZSBjb3B5IG9mIHRoZSB1c2VyIHByb3ZpZGVkIHdpbGwgYmUgbWFkZSBhbmQgc2V0IGFzIGN1cnJlbnRVc2VyLlxuICpcbiAqIFRoaXMgd2lsbCB0cmlnZ2VyIHtAbGluayBvbkF1dGhTdGF0ZUNoYW5nZWR9IGFuZCB7QGxpbmsgb25JZFRva2VuQ2hhbmdlZH0gbGlzdGVuZXJzXG4gKiBsaWtlIG90aGVyIHNpZ24gaW4gbWV0aG9kcy5cbiAqXG4gKiBUaGUgb3BlcmF0aW9uIGZhaWxzIHdpdGggYW4gZXJyb3IgaWYgdGhlIHVzZXIgdG8gYmUgdXBkYXRlZCBiZWxvbmdzIHRvIGEgZGlmZmVyZW50IEZpcmViYXNlXG4gKiBwcm9qZWN0LlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB1c2VyIC0gVGhlIG5ldyB7QGxpbmsgVXNlcn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ3VycmVudFVzZXIoXG4gIGF1dGg6IEF1dGgsXG4gIHVzZXI6IFVzZXIgfCBudWxsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKS51cGRhdGVDdXJyZW50VXNlcih1c2VyKTtcbn1cbi8qKlxuICogU2lnbnMgb3V0IHRoZSBjdXJyZW50IHVzZXIuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaWduT3V0KGF1dGg6IEF1dGgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKS5zaWduT3V0KCk7XG59XG5cbi8qKlxuICogUmV2b2tlcyB0aGUgZ2l2ZW4gYWNjZXNzIHRva2VuLiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyBBcHBsZSBPQXV0aCBhY2Nlc3MgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB0b2tlbiAtIFRoZSBBcHBsZSBPQXV0aCBhY2Nlc3MgdG9rZW4uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmV2b2tlQWNjZXNzVG9rZW4oYXV0aDogQXV0aCwgdG9rZW46IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIHJldHVybiBhdXRoSW50ZXJuYWwucmV2b2tlQWNjZXNzVG9rZW4odG9rZW4pO1xufVxuXG5leHBvcnQgeyBpbml0aWFsaXplQXV0aCB9IGZyb20gJy4vYXV0aC9pbml0aWFsaXplJztcbmV4cG9ydCB7IGNvbm5lY3RBdXRoRW11bGF0b3IgfSBmcm9tICcuL2F1dGgvZW11bGF0b3InO1xuXG4vLyBjcmVkZW50aWFsc1xuZXhwb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuL2NyZWRlbnRpYWxzJztcbmV4cG9ydCB7IEVtYWlsQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuL2NyZWRlbnRpYWxzL2VtYWlsJztcbmV4cG9ydCB7IE9BdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vY3JlZGVudGlhbHMvb2F1dGgnO1xuZXhwb3J0IHsgUGhvbmVBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vY3JlZGVudGlhbHMvcGhvbmUnO1xuXG4vLyBwZXJzaXN0ZW5jZVxuZXhwb3J0IHsgaW5NZW1vcnlQZXJzaXN0ZW5jZSB9IGZyb20gJy4vcGVyc2lzdGVuY2UvaW5fbWVtb3J5JztcblxuLy8gcHJvdmlkZXJzXG5leHBvcnQgeyBFbWFpbEF1dGhQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL2VtYWlsJztcbmV4cG9ydCB7IEZhY2Vib29rQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcnMvZmFjZWJvb2snO1xuZXhwb3J0IHsgQ3VzdG9tUGFyYW1ldGVycyB9IGZyb20gJy4vcHJvdmlkZXJzL2ZlZGVyYXRlZCc7XG5leHBvcnQgeyBHb29nbGVBdXRoUHJvdmlkZXIgfSBmcm9tICcuL3Byb3ZpZGVycy9nb29nbGUnO1xuZXhwb3J0IHsgR2l0aHViQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcnMvZ2l0aHViJztcbmV4cG9ydCB7IE9BdXRoUHJvdmlkZXIsIE9BdXRoQ3JlZGVudGlhbE9wdGlvbnMgfSBmcm9tICcuL3Byb3ZpZGVycy9vYXV0aCc7XG5leHBvcnQgeyBTQU1MQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcnMvc2FtbCc7XG5leHBvcnQgeyBUd2l0dGVyQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcnMvdHdpdHRlcic7XG5cbi8vIHN0cmF0ZWdpZXNcbmV4cG9ydCB7IHNpZ25JbkFub255bW91c2x5IH0gZnJvbSAnLi9zdHJhdGVnaWVzL2Fub255bW91cyc7XG5leHBvcnQge1xuICBzaWduSW5XaXRoQ3JlZGVudGlhbCxcbiAgbGlua1dpdGhDcmVkZW50aWFsLFxuICByZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsXG59IGZyb20gJy4vc3RyYXRlZ2llcy9jcmVkZW50aWFsJztcbmV4cG9ydCB7IHNpZ25JbldpdGhDdXN0b21Ub2tlbiB9IGZyb20gJy4vc3RyYXRlZ2llcy9jdXN0b21fdG9rZW4nO1xuZXhwb3J0IHtcbiAgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbCxcbiAgY29uZmlybVBhc3N3b3JkUmVzZXQsXG4gIGFwcGx5QWN0aW9uQ29kZSxcbiAgY2hlY2tBY3Rpb25Db2RlLFxuICB2ZXJpZnlQYXNzd29yZFJlc2V0Q29kZSxcbiAgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkLFxuICBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZFxufSBmcm9tICcuL3N0cmF0ZWdpZXMvZW1haWxfYW5kX3Bhc3N3b3JkJztcbmV4cG9ydCB7XG4gIHNlbmRTaWduSW5MaW5rVG9FbWFpbCxcbiAgaXNTaWduSW5XaXRoRW1haWxMaW5rLFxuICBzaWduSW5XaXRoRW1haWxMaW5rXG59IGZyb20gJy4vc3RyYXRlZ2llcy9lbWFpbF9saW5rJztcbmV4cG9ydCB7XG4gIGZldGNoU2lnbkluTWV0aG9kc0ZvckVtYWlsLFxuICBzZW5kRW1haWxWZXJpZmljYXRpb24sXG4gIHZlcmlmeUJlZm9yZVVwZGF0ZUVtYWlsXG59IGZyb20gJy4vc3RyYXRlZ2llcy9lbWFpbCc7XG5cbi8vIGNvcmVcbmV4cG9ydCB7IEFjdGlvbkNvZGVVUkwsIHBhcnNlQWN0aW9uQ29kZVVSTCB9IGZyb20gJy4vYWN0aW9uX2NvZGVfdXJsJztcblxuLy8gdXNlclxuZXhwb3J0IHtcbiAgdXBkYXRlUHJvZmlsZSxcbiAgdXBkYXRlRW1haWwsXG4gIHVwZGF0ZVBhc3N3b3JkXG59IGZyb20gJy4vdXNlci9hY2NvdW50X2luZm8nO1xuZXhwb3J0IHsgZ2V0SWRUb2tlbiwgZ2V0SWRUb2tlblJlc3VsdCB9IGZyb20gJy4vdXNlci9pZF90b2tlbl9yZXN1bHQnO1xuZXhwb3J0IHsgdW5saW5rIH0gZnJvbSAnLi91c2VyL2xpbmtfdW5saW5rJztcbmV4cG9ydCB7IGdldEFkZGl0aW9uYWxVc2VySW5mbyB9IGZyb20gJy4vdXNlci9hZGRpdGlvbmFsX3VzZXJfaW5mbyc7XG5cbi8vIE5vbi1vcHRpb25hbCB1c2VyIG1ldGhvZHMuXG5leHBvcnQgeyByZWxvYWQgfSBmcm9tICcuL3VzZXIvcmVsb2FkJztcbi8qKlxuICogRGVsZXRlcyBhbmQgc2lnbnMgb3V0IHRoZSB1c2VyLlxuICpcbiAqIEByZW1hcmtzXG4gKiBJbXBvcnRhbnQ6IHRoaXMgaXMgYSBzZWN1cml0eS1zZW5zaXRpdmUgb3BlcmF0aW9uIHRoYXQgcmVxdWlyZXMgdGhlIHVzZXIgdG8gaGF2ZSByZWNlbnRseVxuICogc2lnbmVkIGluLiBJZiB0aGlzIHJlcXVpcmVtZW50IGlzbid0IG1ldCwgYXNrIHRoZSB1c2VyIHRvIGF1dGhlbnRpY2F0ZSBhZ2FpbiBhbmQgdGhlbiBjYWxsXG4gKiB7QGxpbmsgcmVhdXRoZW50aWNhdGVXaXRoQ3JlZGVudGlhbH0uXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVVc2VyKHVzZXI6IFVzZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKS5kZWxldGUoKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IE11bHRpRmFjdG9yU2Vzc2lvbiB9IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIE11bHRpRmFjdG9yU2Vzc2lvblR5cGUge1xuICBFTlJPTEwgPSAnZW5yb2xsJyxcbiAgU0lHTl9JTiA9ICdzaWduaW4nXG59XG5cbmludGVyZmFjZSBTZXJpYWxpemVkTXVsdGlGYWN0b3JTZXNzaW9uIHtcbiAgbXVsdGlGYWN0b3JTZXNzaW9uOiB7XG4gICAgaWRUb2tlbj86IHN0cmluZztcbiAgICBwZW5kaW5nQ3JlZGVudGlhbD86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIE11bHRpRmFjdG9yU2Vzc2lvbkltcGwgaW1wbGVtZW50cyBNdWx0aUZhY3RvclNlc3Npb24ge1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IHR5cGU6IE11bHRpRmFjdG9yU2Vzc2lvblR5cGUsXG4gICAgcmVhZG9ubHkgY3JlZGVudGlhbDogc3RyaW5nLFxuICAgIHJlYWRvbmx5IHVzZXI/OiBVc2VySW50ZXJuYWxcbiAgKSB7fVxuXG4gIHN0YXRpYyBfZnJvbUlkdG9rZW4oXG4gICAgaWRUb2tlbjogc3RyaW5nLFxuICAgIHVzZXI/OiBVc2VySW50ZXJuYWxcbiAgKTogTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCB7XG4gICAgcmV0dXJuIG5ldyBNdWx0aUZhY3RvclNlc3Npb25JbXBsKFxuICAgICAgTXVsdGlGYWN0b3JTZXNzaW9uVHlwZS5FTlJPTEwsXG4gICAgICBpZFRva2VuLFxuICAgICAgdXNlclxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgX2Zyb21NZmFQZW5kaW5nQ3JlZGVudGlhbChcbiAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogc3RyaW5nXG4gICk6IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwge1xuICAgIHJldHVybiBuZXcgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbChcbiAgICAgIE11bHRpRmFjdG9yU2Vzc2lvblR5cGUuU0lHTl9JTixcbiAgICAgIG1mYVBlbmRpbmdDcmVkZW50aWFsXG4gICAgKTtcbiAgfVxuXG4gIHRvSlNPTigpOiBTZXJpYWxpemVkTXVsdGlGYWN0b3JTZXNzaW9uIHtcbiAgICBjb25zdCBrZXkgPVxuICAgICAgdGhpcy50eXBlID09PSBNdWx0aUZhY3RvclNlc3Npb25UeXBlLkVOUk9MTFxuICAgICAgICA/ICdpZFRva2VuJ1xuICAgICAgICA6ICdwZW5kaW5nQ3JlZGVudGlhbCc7XG4gICAgcmV0dXJuIHtcbiAgICAgIG11bHRpRmFjdG9yU2Vzc2lvbjoge1xuICAgICAgICBba2V5XTogdGhpcy5jcmVkZW50aWFsXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tSlNPTihcbiAgICBvYmo6IFBhcnRpYWw8U2VyaWFsaXplZE11bHRpRmFjdG9yU2Vzc2lvbj5cbiAgKTogTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCB8IG51bGwge1xuICAgIGlmIChvYmo/Lm11bHRpRmFjdG9yU2Vzc2lvbikge1xuICAgICAgaWYgKG9iai5tdWx0aUZhY3RvclNlc3Npb24/LnBlbmRpbmdDcmVkZW50aWFsKSB7XG4gICAgICAgIHJldHVybiBNdWx0aUZhY3RvclNlc3Npb25JbXBsLl9mcm9tTWZhUGVuZGluZ0NyZWRlbnRpYWwoXG4gICAgICAgICAgb2JqLm11bHRpRmFjdG9yU2Vzc2lvbi5wZW5kaW5nQ3JlZGVudGlhbFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChvYmoubXVsdGlGYWN0b3JTZXNzaW9uPy5pZFRva2VuKSB7XG4gICAgICAgIHJldHVybiBNdWx0aUZhY3RvclNlc3Npb25JbXBsLl9mcm9tSWR0b2tlbihcbiAgICAgICAgICBvYmoubXVsdGlGYWN0b3JTZXNzaW9uLmlkVG9rZW5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBdXRoLFxuICBNdWx0aUZhY3RvclJlc29sdmVyLFxuICBVc2VyQ3JlZGVudGlhbCxcbiAgTXVsdGlGYWN0b3JFcnJvclxufSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi9jb3JlL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEltcGwgfSBmcm9tICcuLi9jb3JlL3VzZXIvdXNlcl9jcmVkZW50aWFsX2ltcGwnO1xuaW1wb3J0IHsgX2Fzc2VydCwgX2ZhaWwgfSBmcm9tICcuLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbCB9IGZyb20gJy4vbWZhX2Fzc2VydGlvbic7XG5pbXBvcnQgeyBNdWx0aUZhY3RvckVycm9yIGFzIE11bHRpRmFjdG9yRXJyb3JJbnRlcm5hbCB9IGZyb20gJy4vbWZhX2Vycm9yJztcbmltcG9ydCB7IE11bHRpRmFjdG9ySW5mb0ltcGwgfSBmcm9tICcuL21mYV9pbmZvJztcbmltcG9ydCB7IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwgfSBmcm9tICcuL21mYV9zZXNzaW9uJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IE9wZXJhdGlvblR5cGUgfSBmcm9tICcuLi9tb2RlbC9lbnVtcyc7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aUZhY3RvclJlc29sdmVySW1wbCBpbXBsZW1lbnRzIE11bHRpRmFjdG9yUmVzb2x2ZXIge1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IHNlc3Npb246IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwsXG4gICAgcmVhZG9ubHkgaGludHM6IE11bHRpRmFjdG9ySW5mb0ltcGxbXSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNpZ25JblJlc29sdmVyOiAoXG4gICAgICBhc3NlcnRpb246IE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbFxuICAgICkgPT4gUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsPlxuICApIHt9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21FcnJvcihcbiAgICBhdXRoRXh0ZXJuOiBBdXRoLFxuICAgIGVycm9yOiBNdWx0aUZhY3RvckVycm9ySW50ZXJuYWxcbiAgKTogTXVsdGlGYWN0b3JSZXNvbHZlckltcGwge1xuICAgIGNvbnN0IGF1dGggPSBfY2FzdEF1dGgoYXV0aEV4dGVybik7XG4gICAgY29uc3Qgc2VydmVyUmVzcG9uc2UgPSBlcnJvci5jdXN0b21EYXRhLl9zZXJ2ZXJSZXNwb25zZTtcbiAgICBjb25zdCBoaW50cyA9IChzZXJ2ZXJSZXNwb25zZS5tZmFJbmZvIHx8IFtdKS5tYXAoZW5yb2xsbWVudCA9PlxuICAgICAgTXVsdGlGYWN0b3JJbmZvSW1wbC5fZnJvbVNlcnZlclJlc3BvbnNlKGF1dGgsIGVucm9sbG1lbnQpXG4gICAgKTtcblxuICAgIF9hc3NlcnQoXG4gICAgICBzZXJ2ZXJSZXNwb25zZS5tZmFQZW5kaW5nQ3JlZGVudGlhbCxcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgKTtcbiAgICBjb25zdCBzZXNzaW9uID0gTXVsdGlGYWN0b3JTZXNzaW9uSW1wbC5fZnJvbU1mYVBlbmRpbmdDcmVkZW50aWFsKFxuICAgICAgc2VydmVyUmVzcG9uc2UubWZhUGVuZGluZ0NyZWRlbnRpYWxcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ldyBNdWx0aUZhY3RvclJlc29sdmVySW1wbChcbiAgICAgIHNlc3Npb24sXG4gICAgICBoaW50cyxcbiAgICAgIGFzeW5jIChcbiAgICAgICAgYXNzZXJ0aW9uOiBNdWx0aUZhY3RvckFzc2VydGlvbkltcGxcbiAgICAgICk6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbD4gPT4ge1xuICAgICAgICBjb25zdCBtZmFSZXNwb25zZSA9IGF3YWl0IGFzc2VydGlvbi5fcHJvY2VzcyhhdXRoLCBzZXNzaW9uKTtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IHRoZSB1bm5lZWRlZCBmaWVsZHMgZnJvbSB0aGUgb2xkIGxvZ2luIHJlc3BvbnNlXG4gICAgICAgIGRlbGV0ZSBzZXJ2ZXJSZXNwb25zZS5tZmFJbmZvO1xuICAgICAgICBkZWxldGUgc2VydmVyUmVzcG9uc2UubWZhUGVuZGluZ0NyZWRlbnRpYWw7XG5cbiAgICAgICAgLy8gVXNlIGluIHRoZSBuZXcgdG9rZW4gJiByZWZyZXNoIHRva2VuIGluIHRoZSBvbGQgcmVzcG9uc2VcbiAgICAgICAgY29uc3QgaWRUb2tlblJlc3BvbnNlID0ge1xuICAgICAgICAgIC4uLnNlcnZlclJlc3BvbnNlLFxuICAgICAgICAgIGlkVG9rZW46IG1mYVJlc3BvbnNlLmlkVG9rZW4sXG4gICAgICAgICAgcmVmcmVzaFRva2VuOiBtZmFSZXNwb25zZS5yZWZyZXNoVG9rZW5cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUT0RPOiB3ZSBzaG91bGQgY29sbGFwc2UgdGhpcyBzd2l0Y2ggc3RhdGVtZW50IGludG8gVXNlckNyZWRlbnRpYWxJbXBsLl9mb3JPcGVyYXRpb24gYW5kIGhhdmUgaXQgc3VwcG9ydCB0aGUgU0lHTl9JTiBjYXNlXG4gICAgICAgIHN3aXRjaCAoZXJyb3Iub3BlcmF0aW9uVHlwZSkge1xuICAgICAgICAgIGNhc2UgT3BlcmF0aW9uVHlwZS5TSUdOX0lOOlxuICAgICAgICAgICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPVxuICAgICAgICAgICAgICBhd2FpdCBVc2VyQ3JlZGVudGlhbEltcGwuX2Zyb21JZFRva2VuUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgYXV0aCxcbiAgICAgICAgICAgICAgICBlcnJvci5vcGVyYXRpb25UeXBlLFxuICAgICAgICAgICAgICAgIGlkVG9rZW5SZXNwb25zZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgYXdhaXQgYXV0aC5fdXBkYXRlQ3VycmVudFVzZXIodXNlckNyZWRlbnRpYWwudXNlcik7XG4gICAgICAgICAgICByZXR1cm4gdXNlckNyZWRlbnRpYWw7XG4gICAgICAgICAgY2FzZSBPcGVyYXRpb25UeXBlLlJFQVVUSEVOVElDQVRFOlxuICAgICAgICAgICAgX2Fzc2VydChlcnJvci51c2VyLCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICAgICAgICAgIHJldHVybiBVc2VyQ3JlZGVudGlhbEltcGwuX2Zvck9wZXJhdGlvbihcbiAgICAgICAgICAgICAgZXJyb3IudXNlcixcbiAgICAgICAgICAgICAgZXJyb3Iub3BlcmF0aW9uVHlwZSxcbiAgICAgICAgICAgICAgaWRUb2tlblJlc3BvbnNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBhc3luYyByZXNvbHZlU2lnbkluKFxuICAgIGFzc2VydGlvbkV4dGVybjogTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsXG4gICk6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgICBjb25zdCBhc3NlcnRpb24gPSBhc3NlcnRpb25FeHRlcm4gYXMgTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsO1xuICAgIHJldHVybiB0aGlzLnNpZ25JblJlc29sdmVyKGFzc2VydGlvbik7XG4gIH1cbn1cblxuLyoqXG4gKiBQcm92aWRlcyBhIHtAbGluayBNdWx0aUZhY3RvclJlc29sdmVyfSBzdWl0YWJsZSBmb3IgY29tcGxldGlvbiBvZiBhXG4gKiBtdWx0aS1mYWN0b3IgZmxvdy5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gZXJyb3IgLSBUaGUge0BsaW5rIE11bHRpRmFjdG9yRXJyb3J9IHJhaXNlZCBkdXJpbmcgYSBzaWduLWluLCBvclxuICogcmVhdXRoZW50aWNhdGlvbiBvcGVyYXRpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TXVsdGlGYWN0b3JSZXNvbHZlcihcbiAgYXV0aDogQXV0aCxcbiAgZXJyb3I6IE11bHRpRmFjdG9yRXJyb3Jcbik6IE11bHRpRmFjdG9yUmVzb2x2ZXIge1xuICBjb25zdCBhdXRoTW9kdWxhciA9IGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKTtcbiAgY29uc3QgZXJyb3JJbnRlcm5hbCA9IGVycm9yIGFzIE11bHRpRmFjdG9yRXJyb3JJbnRlcm5hbDtcbiAgX2Fzc2VydChcbiAgICBlcnJvci5jdXN0b21EYXRhLm9wZXJhdGlvblR5cGUsXG4gICAgYXV0aE1vZHVsYXIsXG4gICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICApO1xuICBfYXNzZXJ0KFxuICAgIGVycm9ySW50ZXJuYWwuY3VzdG9tRGF0YS5fc2VydmVyUmVzcG9uc2U/Lm1mYVBlbmRpbmdDcmVkZW50aWFsLFxuICAgIGF1dGhNb2R1bGFyLFxuICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgKTtcblxuICByZXR1cm4gTXVsdGlGYWN0b3JSZXNvbHZlckltcGwuX2Zyb21FcnJvcihhdXRoTW9kdWxhciwgZXJyb3JJbnRlcm5hbCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeSxcbiAgX3BlcmZvcm1BcGlSZXF1ZXN0XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3QgfSBmcm9tICcuLi9hdXRoZW50aWNhdGlvbi9zbXMnO1xuaW1wb3J0IHsgRmluYWxpemVNZmFSZXNwb25zZSB9IGZyb20gJy4uL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcblxuLyoqXG4gKiBNRkEgSW5mbyBhcyByZXR1cm5lZCBieSB0aGUgQVBJLlxuICovXG5pbnRlcmZhY2UgQmFzZU1mYUVucm9sbG1lbnQge1xuICBtZmFFbnJvbGxtZW50SWQ6IHN0cmluZztcbiAgZW5yb2xsZWRBdDogbnVtYmVyO1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBbiBNRkEgcHJvdmlkZWQgYnkgU01TIHZlcmlmaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaG9uZU1mYUVucm9sbG1lbnQgZXh0ZW5kcyBCYXNlTWZhRW5yb2xsbWVudCB7XG4gIHBob25lSW5mbzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEFuIE1GQSBwcm92aWRlZCBieSBUT1RQIChUaW1lLWJhc2VkIE9uZSBUaW1lIFBhc3N3b3JkKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUb3RwTWZhRW5yb2xsbWVudCBleHRlbmRzIEJhc2VNZmFFbnJvbGxtZW50IHt9XG5cbi8qKlxuICogTWZhRW5yb2xsbWVudCBjYW4gYmUgYW55IHN1YnR5cGUgb2YgQmFzZU1mYUVucm9sbG1lbnQsIGN1cnJlbnRseSBvbmx5IFBob25lTWZhRW5yb2xsbWVudCBhbmQgVG90cE1mYUVucm9sbG1lbnQgYXJlIHN1cHBvcnRlZC5cbiAqL1xuZXhwb3J0IHR5cGUgTWZhRW5yb2xsbWVudCA9IFBob25lTWZhRW5yb2xsbWVudCB8IFRvdHBNZmFFbnJvbGxtZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UGhvbmVNZmFFbnJvbGxtZW50UmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgcGhvbmVFbnJvbGxtZW50SW5mbzoge1xuICAgIHBob25lTnVtYmVyOiBzdHJpbmc7XG4gICAgcmVjYXB0Y2hhVG9rZW46IHN0cmluZztcbiAgfTtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRQaG9uZU1mYUVucm9sbG1lbnRSZXNwb25zZSB7XG4gIHBob25lU2Vzc2lvbkluZm86IHtcbiAgICBzZXNzaW9uSW5mbzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRFbnJvbGxQaG9uZU1mYShcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICByZXF1ZXN0OiBTdGFydFBob25lTWZhRW5yb2xsbWVudFJlcXVlc3Rcbik6IFByb21pc2U8U3RhcnRQaG9uZU1mYUVucm9sbG1lbnRSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIFN0YXJ0UGhvbmVNZmFFbnJvbGxtZW50UmVxdWVzdCxcbiAgICBTdGFydFBob25lTWZhRW5yb2xsbWVudFJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU1RBUlRfTUZBX0VOUk9MTE1FTlQsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxpemVQaG9uZU1mYUVucm9sbG1lbnRSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xuICBwaG9uZVZlcmlmaWNhdGlvbkluZm86IFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3Q7XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxpemVQaG9uZU1mYUVucm9sbG1lbnRSZXNwb25zZVxuICBleHRlbmRzIEZpbmFsaXplTWZhUmVzcG9uc2Uge31cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplRW5yb2xsUGhvbmVNZmEoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgcmVxdWVzdDogRmluYWxpemVQaG9uZU1mYUVucm9sbG1lbnRSZXF1ZXN0XG4pOiBQcm9taXNlPEZpbmFsaXplUGhvbmVNZmFFbnJvbGxtZW50UmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBGaW5hbGl6ZVBob25lTWZhRW5yb2xsbWVudFJlcXVlc3QsXG4gICAgRmluYWxpemVQaG9uZU1mYUVucm9sbG1lbnRSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LkZJTkFMSVpFX01GQV9FTlJPTExNRU5ULFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuZXhwb3J0IGludGVyZmFjZSBTdGFydFRvdHBNZmFFbnJvbGxtZW50UmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgdG90cEVucm9sbG1lbnRJbmZvOiB7fTtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlIHtcbiAgdG90cFNlc3Npb25JbmZvOiB7XG4gICAgc2hhcmVkU2VjcmV0S2V5OiBzdHJpbmc7XG4gICAgdmVyaWZpY2F0aW9uQ29kZUxlbmd0aDogbnVtYmVyO1xuICAgIGhhc2hpbmdBbGdvcml0aG06IHN0cmluZztcbiAgICBwZXJpb2RTZWM6IG51bWJlcjtcbiAgICBzZXNzaW9uSW5mbzogc3RyaW5nO1xuICAgIGZpbmFsaXplRW5yb2xsbWVudFRpbWU6IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RW5yb2xsVG90cE1mYShcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICByZXF1ZXN0OiBTdGFydFRvdHBNZmFFbnJvbGxtZW50UmVxdWVzdFxuKTogUHJvbWlzZTxTdGFydFRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBTdGFydFRvdHBNZmFFbnJvbGxtZW50UmVxdWVzdCxcbiAgICBTdGFydFRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TVEFSVF9NRkFfRU5ST0xMTUVOVCxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb3RwVmVyaWZpY2F0aW9uSW5mbyB7XG4gIHNlc3Npb25JbmZvOiBzdHJpbmc7XG4gIHZlcmlmaWNhdGlvbkNvZGU6IHN0cmluZztcbn1cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxpemVUb3RwTWZhRW5yb2xsbWVudFJlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIHRvdHBWZXJpZmljYXRpb25JbmZvOiBUb3RwVmVyaWZpY2F0aW9uSW5mbztcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaW5hbGl6ZVRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2VcbiAgZXh0ZW5kcyBGaW5hbGl6ZU1mYVJlc3BvbnNlIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5hbGl6ZUVucm9sbFRvdHBNZmEoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgcmVxdWVzdDogRmluYWxpemVUb3RwTWZhRW5yb2xsbWVudFJlcXVlc3Rcbik6IFByb21pc2U8RmluYWxpemVUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgRmluYWxpemVUb3RwTWZhRW5yb2xsbWVudFJlcXVlc3QsXG4gICAgRmluYWxpemVUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuRklOQUxJWkVfTUZBX0VOUk9MTE1FTlQsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2l0aGRyYXdNZmFSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xuICBtZmFFbnJvbGxtZW50SWQ6IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2l0aGRyYXdNZmFSZXNwb25zZSBleHRlbmRzIEZpbmFsaXplTWZhUmVzcG9uc2Uge31cblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhkcmF3TWZhKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHJlcXVlc3Q6IFdpdGhkcmF3TWZhUmVxdWVzdFxuKTogUHJvbWlzZTxXaXRoZHJhd01mYVJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8V2l0aGRyYXdNZmFSZXF1ZXN0LCBXaXRoZHJhd01mYVJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5XSVRIRFJBV19NRkEsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7XG4gIE11bHRpRmFjdG9yQXNzZXJ0aW9uLFxuICBNdWx0aUZhY3RvckluZm8sXG4gIE11bHRpRmFjdG9yU2Vzc2lvbixcbiAgTXVsdGlGYWN0b3JVc2VyLFxuICBVc2VyXG59IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IHdpdGhkcmF3TWZhIH0gZnJvbSAnLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9tZmEnO1xuaW1wb3J0IHsgX2xvZ291dElmSW52YWxpZGF0ZWQgfSBmcm9tICcuLi9jb3JlL3VzZXIvaW52YWxpZGF0aW9uJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsIH0gZnJvbSAnLi9tZmFfYXNzZXJ0aW9uJztcbmltcG9ydCB7IE11bHRpRmFjdG9ySW5mb0ltcGwgfSBmcm9tICcuL21mYV9pbmZvJztcbmltcG9ydCB7IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwgfSBmcm9tICcuL21mYV9zZXNzaW9uJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuZXhwb3J0IGNsYXNzIE11bHRpRmFjdG9yVXNlckltcGwgaW1wbGVtZW50cyBNdWx0aUZhY3RvclVzZXIge1xuICBlbnJvbGxlZEZhY3RvcnM6IE11bHRpRmFjdG9ySW5mb1tdID0gW107XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihyZWFkb25seSB1c2VyOiBVc2VySW50ZXJuYWwpIHtcbiAgICB1c2VyLl9vblJlbG9hZCh1c2VySW5mbyA9PiB7XG4gICAgICBpZiAodXNlckluZm8ubWZhSW5mbykge1xuICAgICAgICB0aGlzLmVucm9sbGVkRmFjdG9ycyA9IHVzZXJJbmZvLm1mYUluZm8ubWFwKGVucm9sbG1lbnQgPT5cbiAgICAgICAgICBNdWx0aUZhY3RvckluZm9JbXBsLl9mcm9tU2VydmVyUmVzcG9uc2UodXNlci5hdXRoLCBlbnJvbGxtZW50KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIF9mcm9tVXNlcih1c2VyOiBVc2VySW50ZXJuYWwpOiBNdWx0aUZhY3RvclVzZXJJbXBsIHtcbiAgICByZXR1cm4gbmV3IE11bHRpRmFjdG9yVXNlckltcGwodXNlcik7XG4gIH1cblxuICBhc3luYyBnZXRTZXNzaW9uKCk6IFByb21pc2U8TXVsdGlGYWN0b3JTZXNzaW9uPiB7XG4gICAgcmV0dXJuIE11bHRpRmFjdG9yU2Vzc2lvbkltcGwuX2Zyb21JZHRva2VuKFxuICAgICAgYXdhaXQgdGhpcy51c2VyLmdldElkVG9rZW4oKSxcbiAgICAgIHRoaXMudXNlclxuICAgICk7XG4gIH1cblxuICBhc3luYyBlbnJvbGwoXG4gICAgYXNzZXJ0aW9uRXh0ZXJuOiBNdWx0aUZhY3RvckFzc2VydGlvbixcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYXNzZXJ0aW9uID0gYXNzZXJ0aW9uRXh0ZXJuIGFzIE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbDtcbiAgICBjb25zdCBzZXNzaW9uID0gKGF3YWl0IHRoaXMuZ2V0U2Vzc2lvbigpKSBhcyBNdWx0aUZhY3RvclNlc3Npb25JbXBsO1xuICAgIGNvbnN0IGZpbmFsaXplTWZhUmVzcG9uc2UgPSBhd2FpdCBfbG9nb3V0SWZJbnZhbGlkYXRlZChcbiAgICAgIHRoaXMudXNlcixcbiAgICAgIGFzc2VydGlvbi5fcHJvY2Vzcyh0aGlzLnVzZXIuYXV0aCwgc2Vzc2lvbiwgZGlzcGxheU5hbWUpXG4gICAgKTtcbiAgICAvLyBOZXcgdG9rZW5zIHdpbGwgYmUgaXNzdWVkIGFmdGVyIGVucm9sbG1lbnQgb2YgdGhlIG5ldyBzZWNvbmQgZmFjdG9ycy5cbiAgICAvLyBUaGV5IG5lZWQgdG8gYmUgdXBkYXRlZCBvbiB0aGUgdXNlci5cbiAgICBhd2FpdCB0aGlzLnVzZXIuX3VwZGF0ZVRva2Vuc0lmTmVjZXNzYXJ5KGZpbmFsaXplTWZhUmVzcG9uc2UpO1xuICAgIC8vIFRoZSB1c2VyIG5lZWRzIHRvIGJlIHJlbG9hZGVkIHRvIGdldCB0aGUgbmV3IG11bHRpLWZhY3RvciBpbmZvcm1hdGlvblxuICAgIC8vIGZyb20gc2VydmVyLiBVU0VSX1JFTE9BREVEIGV2ZW50IHdpbGwgYmUgdHJpZ2dlcmVkIGFuZCBgZW5yb2xsZWRGYWN0b3JzYFxuICAgIC8vIHdpbGwgYmUgdXBkYXRlZC5cbiAgICByZXR1cm4gdGhpcy51c2VyLnJlbG9hZCgpO1xuICB9XG5cbiAgYXN5bmMgdW5lbnJvbGwoaW5mb09yVWlkOiBNdWx0aUZhY3RvckluZm8gfCBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBtZmFFbnJvbGxtZW50SWQgPVxuICAgICAgdHlwZW9mIGluZm9PclVpZCA9PT0gJ3N0cmluZycgPyBpbmZvT3JVaWQgOiBpbmZvT3JVaWQudWlkO1xuICAgIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCB0aGlzLnVzZXIuZ2V0SWRUb2tlbigpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpZFRva2VuUmVzcG9uc2UgPSBhd2FpdCBfbG9nb3V0SWZJbnZhbGlkYXRlZChcbiAgICAgICAgdGhpcy51c2VyLFxuICAgICAgICB3aXRoZHJhd01mYSh0aGlzLnVzZXIuYXV0aCwge1xuICAgICAgICAgIGlkVG9rZW4sXG4gICAgICAgICAgbWZhRW5yb2xsbWVudElkXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gUmVtb3ZlIHRoZSBzZWNvbmQgZmFjdG9yIGZyb20gdGhlIHVzZXIncyBsaXN0LlxuICAgICAgdGhpcy5lbnJvbGxlZEZhY3RvcnMgPSB0aGlzLmVucm9sbGVkRmFjdG9ycy5maWx0ZXIoXG4gICAgICAgICh7IHVpZCB9KSA9PiB1aWQgIT09IG1mYUVucm9sbG1lbnRJZFxuICAgICAgKTtcbiAgICAgIC8vIERlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBiYWNrZW5kIGRlY2lkZWQgdG8gcmV2b2tlIHRoZSB1c2VyJ3Mgc2Vzc2lvbixcbiAgICAgIC8vIHRoZSB0b2tlblJlc3BvbnNlIG1heSBiZSBlbXB0eS4gSWYgdGhlIHRva2VucyB3ZXJlIG5vdCB1cGRhdGVkIChhbmQgdGhleVxuICAgICAgLy8gYXJlIG5vdyBpbnZhbGlkKSwgcmVsb2FkaW5nIHRoZSB1c2VyIHdpbGwgZGlzY292ZXIgdGhpcyBhbmQgaW52YWxpZGF0ZVxuICAgICAgLy8gdGhlIHVzZXIncyBzdGF0ZSBhY2NvcmRpbmdseS5cbiAgICAgIGF3YWl0IHRoaXMudXNlci5fdXBkYXRlVG9rZW5zSWZOZWNlc3NhcnkoaWRUb2tlblJlc3BvbnNlKTtcbiAgICAgIGF3YWl0IHRoaXMudXNlci5yZWxvYWQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtdWx0aUZhY3RvclVzZXJDYWNoZSA9IG5ldyBXZWFrTWFwPFVzZXIsIE11bHRpRmFjdG9yVXNlcj4oKTtcblxuLyoqXG4gKiBUaGUge0BsaW5rIE11bHRpRmFjdG9yVXNlcn0gY29ycmVzcG9uZGluZyB0byB0aGUgdXNlci5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBpcyB1c2VkIHRvIGFjY2VzcyBhbGwgbXVsdGktZmFjdG9yIHByb3BlcnRpZXMgYW5kIG9wZXJhdGlvbnMgcmVsYXRlZCB0byB0aGUgdXNlci5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG11bHRpRmFjdG9yKHVzZXI6IFVzZXIpOiBNdWx0aUZhY3RvclVzZXIge1xuICBjb25zdCB1c2VyTW9kdWxhciA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKTtcbiAgaWYgKCFtdWx0aUZhY3RvclVzZXJDYWNoZS5oYXModXNlck1vZHVsYXIpKSB7XG4gICAgbXVsdGlGYWN0b3JVc2VyQ2FjaGUuc2V0KFxuICAgICAgdXNlck1vZHVsYXIsXG4gICAgICBNdWx0aUZhY3RvclVzZXJJbXBsLl9mcm9tVXNlcih1c2VyTW9kdWxhciBhcyBVc2VySW50ZXJuYWwpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbXVsdGlGYWN0b3JVc2VyQ2FjaGUuZ2V0KHVzZXJNb2R1bGFyKSE7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IFBlcnNpc3RlbmNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGVudW0gUGVyc2lzdGVuY2VUeXBlIHtcbiAgU0VTU0lPTiA9ICdTRVNTSU9OJyxcbiAgTE9DQUwgPSAnTE9DQUwnLFxuICBOT05FID0gJ05PTkUnXG59XG5cbmV4cG9ydCB0eXBlIFBlcnNpc3RlZEJsb2IgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuZXhwb3J0IGludGVyZmFjZSBJbnN0YW50aWF0b3I8VD4ge1xuICAoYmxvYjogUGVyc2lzdGVkQmxvYik6IFQ7XG59XG5cbmV4cG9ydCB0eXBlIFBlcnNpc3RlbmNlVmFsdWUgPSBQZXJzaXN0ZWRCbG9iIHwgc3RyaW5nO1xuXG5leHBvcnQgY29uc3QgU1RPUkFHRV9BVkFJTEFCTEVfS0VZID0gJ19fc2FrJztcblxuZXhwb3J0IGludGVyZmFjZSBTdG9yYWdlRXZlbnRMaXN0ZW5lciB7XG4gICh2YWx1ZTogUGVyc2lzdGVuY2VWYWx1ZSB8IG51bGwpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcnNpc3RlbmNlSW50ZXJuYWwgZXh0ZW5kcyBQZXJzaXN0ZW5jZSB7XG4gIHR5cGU6IFBlcnNpc3RlbmNlVHlwZTtcbiAgX2lzQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj47XG4gIF9zZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBQZXJzaXN0ZW5jZVZhbHVlKTogUHJvbWlzZTx2b2lkPjtcbiAgX2dldDxUIGV4dGVuZHMgUGVyc2lzdGVuY2VWYWx1ZT4oa2V5OiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPjtcbiAgX3JlbW92ZShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD47XG4gIF9hZGRMaXN0ZW5lcihrZXk6IHN0cmluZywgbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZDtcbiAgX3JlbW92ZUxpc3RlbmVyKGtleTogc3RyaW5nLCBsaXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkO1xuICAvLyBTaG91bGQgdGhpcyBwZXJzaXN0ZW5jZSBhbGxvdyBtaWdyYXRpb24gdXAgdGhlIGNob3NlbiBoaWVyYXJjaHk/XG4gIF9zaG91bGRBbGxvd01pZ3JhdGlvbj86IGJvb2xlYW47XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgUGVyc2lzdGVuY2VWYWx1ZSxcbiAgU1RPUkFHRV9BVkFJTEFCTEVfS0VZLFxuICBQZXJzaXN0ZW5jZVR5cGVcbn0gZnJvbSAnLi4vLi4vY29yZS9wZXJzaXN0ZW5jZSc7XG5cbi8vIFRoZXJlIGFyZSB0d28gZGlmZmVyZW50IGJyb3dzZXIgcGVyc2lzdGVuY2UgdHlwZXM6IGxvY2FsIGFuZCBzZXNzaW9uLlxuLy8gQm90aCBoYXZlIHRoZSBzYW1lIGltcGxlbWVudGF0aW9uIGJ1dCB1c2UgYSBkaWZmZXJlbnQgdW5kZXJseWluZyBzdG9yYWdlXG4vLyBvYmplY3QuXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCcm93c2VyUGVyc2lzdGVuY2VDbGFzcyB7XG4gIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgc3RvcmFnZVJldHJpZXZlcjogKCkgPT4gU3RvcmFnZSxcbiAgICByZWFkb25seSB0eXBlOiBQZXJzaXN0ZW5jZVR5cGVcbiAgKSB7fVxuXG4gIF9pc0F2YWlsYWJsZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLnN0b3JhZ2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0FWQUlMQUJMRV9LRVksICcxJyk7XG4gICAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShTVE9SQUdFX0FWQUlMQUJMRV9LRVkpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBQZXJzaXN0ZW5jZVZhbHVlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIF9nZXQ8VCBleHRlbmRzIFBlcnNpc3RlbmNlVmFsdWU+KGtleTogc3RyaW5nKTogUHJvbWlzZTxUIHwgbnVsbD4ge1xuICAgIGNvbnN0IGpzb24gPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoanNvbiA/IEpTT04ucGFyc2UoanNvbikgOiBudWxsKTtcbiAgfVxuXG4gIF9yZW1vdmUoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXQgc3RvcmFnZSgpOiBTdG9yYWdlIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlUmV0cmlldmVyKCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQZXJzaXN0ZW5jZSB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IF9pc01vYmlsZUJyb3dzZXIsIF9pc0lFMTAgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYnJvd3Nlcic7XG5pbXBvcnQge1xuICBQZXJzaXN0ZW5jZUludGVybmFsIGFzIEludGVybmFsUGVyc2lzdGVuY2UsXG4gIFBlcnNpc3RlbmNlVHlwZSxcbiAgUGVyc2lzdGVuY2VWYWx1ZSxcbiAgU3RvcmFnZUV2ZW50TGlzdGVuZXJcbn0gZnJvbSAnLi4vLi4vY29yZS9wZXJzaXN0ZW5jZSc7XG5pbXBvcnQgeyBCcm93c2VyUGVyc2lzdGVuY2VDbGFzcyB9IGZyb20gJy4vYnJvd3Nlcic7XG5cbi8vIFRoZSBwb2xsaW5nIHBlcmlvZCBpbiBjYXNlIGV2ZW50cyBhcmUgbm90IHN1cHBvcnRlZFxuZXhwb3J0IGNvbnN0IF9QT0xMSU5HX0lOVEVSVkFMX01TID0gMTAwMDtcblxuLy8gVGhlIElFIDEwIGxvY2FsU3RvcmFnZSBjcm9zcyB0YWIgc3luY2hyb25pemF0aW9uIGRlbGF5IGluIG1pbGxpc2Vjb25kc1xuY29uc3QgSUUxMF9MT0NBTF9TVE9SQUdFX1NZTkNfREVMQVkgPSAxMDtcblxuY2xhc3MgQnJvd3NlckxvY2FsUGVyc2lzdGVuY2VcbiAgZXh0ZW5kcyBCcm93c2VyUGVyc2lzdGVuY2VDbGFzc1xuICBpbXBsZW1lbnRzIEludGVybmFsUGVyc2lzdGVuY2VcbntcbiAgc3RhdGljIHR5cGU6ICdMT0NBTCcgPSAnTE9DQUwnO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCgpID0+IHdpbmRvdy5sb2NhbFN0b3JhZ2UsIFBlcnNpc3RlbmNlVHlwZS5MT0NBTCk7XG4gIH1cblxuICBwcml2YXRlIHJlYWRvbmx5IGJvdW5kRXZlbnRIYW5kbGVyID0gKFxuICAgIGV2ZW50OiBTdG9yYWdlRXZlbnQsXG4gICAgcG9sbD86IGJvb2xlYW5cbiAgKTogdm9pZCA9PiB0aGlzLm9uU3RvcmFnZUV2ZW50KGV2ZW50LCBwb2xsKTtcbiAgcHJpdmF0ZSByZWFkb25seSBsaXN0ZW5lcnM6IFJlY29yZDxzdHJpbmcsIFNldDxTdG9yYWdlRXZlbnRMaXN0ZW5lcj4+ID0ge307XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9jYWxDYWNoZTogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVsbD4gPSB7fTtcbiAgLy8gc2V0VGltZW91dCByZXR1cm4gdmFsdWUgaXMgcGxhdGZvcm0gc3BlY2lmaWNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgcHJpdmF0ZSBwb2xsVGltZXI6IGFueSB8IG51bGwgPSBudWxsO1xuXG4gIC8vIFdoZXRoZXIgdG8gdXNlIHBvbGxpbmcgaW5zdGVhZCBvZiBkZXBlbmRpbmcgb24gd2luZG93IGV2ZW50c1xuICBwcml2YXRlIHJlYWRvbmx5IGZhbGxiYWNrVG9Qb2xsaW5nID0gX2lzTW9iaWxlQnJvd3NlcigpO1xuICByZWFkb25seSBfc2hvdWxkQWxsb3dNaWdyYXRpb24gPSB0cnVlO1xuXG4gIHByaXZhdGUgZm9yQWxsQ2hhbmdlZEtleXMoXG4gICAgY2I6IChrZXk6IHN0cmluZywgb2xkVmFsdWU6IHN0cmluZyB8IG51bGwsIG5ld1ZhbHVlOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkXG4gICk6IHZvaWQge1xuICAgIC8vIENoZWNrIGFsbCBrZXlzIHdpdGggbGlzdGVuZXJzIG9uIHRoZW0uXG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAvLyBHZXQgdmFsdWUgZnJvbSBsb2NhbFN0b3JhZ2UuXG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMubG9jYWxDYWNoZVtrZXldO1xuICAgICAgLy8gSWYgbG9jYWwgbWFwIHZhbHVlIGRvZXMgbm90IG1hdGNoLCB0cmlnZ2VyIGxpc3RlbmVyIHdpdGggc3RvcmFnZSBldmVudC5cbiAgICAgIC8vIERpZmZlcmVudGlhdGUgdGhpcyBzaW11bGF0ZWQgZXZlbnQgZnJvbSB0aGUgcmVhbCBzdG9yYWdlIGV2ZW50LlxuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICBjYihrZXksIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvblN0b3JhZ2VFdmVudChldmVudDogU3RvcmFnZUV2ZW50LCBwb2xsID0gZmFsc2UpOiB2b2lkIHtcbiAgICAvLyBLZXkgd291bGQgYmUgbnVsbCBpbiBzb21lIHNpdHVhdGlvbnMsIGxpa2Ugd2hlbiBsb2NhbFN0b3JhZ2UgaXMgY2xlYXJlZFxuICAgIGlmICghZXZlbnQua2V5KSB7XG4gICAgICB0aGlzLmZvckFsbENoYW5nZWRLZXlzKFxuICAgICAgICAoa2V5OiBzdHJpbmcsIF9vbGRWYWx1ZTogc3RyaW5nIHwgbnVsbCwgbmV3VmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHtcbiAgICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBrZXkgPSBldmVudC5rZXk7XG5cbiAgICAvLyBDaGVjayB0aGUgbWVjaGFuaXNtIGhvdyB0aGlzIGV2ZW50IHdhcyBkZXRlY3RlZC5cbiAgICAvLyBUaGUgZmlyc3QgZXZlbnQgd2lsbCBkaWN0YXRlIHRoZSBtZWNoYW5pc20gdG8gYmUgdXNlZC5cbiAgICBpZiAocG9sbCkge1xuICAgICAgLy8gRW52aXJvbm1lbnQgZGV0ZWN0cyBzdG9yYWdlIGNoYW5nZXMgdmlhIHBvbGxpbmcuXG4gICAgICAvLyBSZW1vdmUgc3RvcmFnZSBldmVudCBsaXN0ZW5lciB0byBwcmV2ZW50IHBvc3NpYmxlIGV2ZW50IGR1cGxpY2F0aW9uLlxuICAgICAgdGhpcy5kZXRhY2hMaXN0ZW5lcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFbnZpcm9ubWVudCBkZXRlY3RzIHN0b3JhZ2UgY2hhbmdlcyB2aWEgc3RvcmFnZSBldmVudCBsaXN0ZW5lci5cbiAgICAgIC8vIFJlbW92ZSBwb2xsaW5nIGxpc3RlbmVyIHRvIHByZXZlbnQgcG9zc2libGUgZXZlbnQgZHVwbGljYXRpb24uXG4gICAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XG4gICAgfVxuXG4gICAgY29uc3QgdHJpZ2dlckxpc3RlbmVycyA9ICgpOiB2b2lkID0+IHtcbiAgICAgIC8vIEtlZXAgbG9jYWwgbWFwIHVwIHRvIGRhdGUgaW4gY2FzZSBzdG9yYWdlIGV2ZW50IGlzIHRyaWdnZXJlZCBiZWZvcmVcbiAgICAgIC8vIHBvbGwuXG4gICAgICBjb25zdCBzdG9yZWRWYWx1ZSA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBpZiAoIXBvbGwgJiYgdGhpcy5sb2NhbENhY2hlW2tleV0gPT09IHN0b3JlZFZhbHVlKSB7XG4gICAgICAgIC8vIFJlYWwgc3RvcmFnZSBldmVudCB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIGRldGVjdGVkLCBkbyBub3RoaW5nLlxuICAgICAgICAvLyBUaGlzIHNlZW1zIHRvIHRyaWdnZXIgaW4gc29tZSBJRSBicm93c2VycyBmb3Igc29tZSByZWFzb24uXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKGtleSwgc3RvcmVkVmFsdWUpO1xuICAgIH07XG5cbiAgICBjb25zdCBzdG9yZWRWYWx1ZSA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgaWYgKFxuICAgICAgX2lzSUUxMCgpICYmXG4gICAgICBzdG9yZWRWYWx1ZSAhPT0gZXZlbnQubmV3VmFsdWUgJiZcbiAgICAgIGV2ZW50Lm5ld1ZhbHVlICE9PSBldmVudC5vbGRWYWx1ZVxuICAgICkge1xuICAgICAgLy8gSUUgMTAgaGFzIHRoaXMgd2VpcmQgYnVnIHdoZXJlIGEgc3RvcmFnZSBldmVudCB3b3VsZCB0cmlnZ2VyIHdpdGggdGhlXG4gICAgICAvLyBjb3JyZWN0IGtleSwgb2xkVmFsdWUgYW5kIG5ld1ZhbHVlIGJ1dCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpIGRvZXNcbiAgICAgIC8vIG5vdCB5aWVsZCB0aGUgdXBkYXRlZCB2YWx1ZSB1bnRpbCBhIGZldyBtaWxsaXNlY29uZHMuIFRoaXMgZW5zdXJlc1xuICAgICAgLy8gdGhpcyByZWNvdmVycyBmcm9tIHRoYXQgc2l0dWF0aW9uLlxuICAgICAgc2V0VGltZW91dCh0cmlnZ2VyTGlzdGVuZXJzLCBJRTEwX0xPQ0FMX1NUT1JBR0VfU1lOQ19ERUxBWSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyaWdnZXJMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG5vdGlmeUxpc3RlbmVycyhrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLmxvY2FsQ2FjaGVba2V5XSA9IHZhbHVlO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2tleV07XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBBcnJheS5mcm9tKGxpc3RlbmVycykpIHtcbiAgICAgICAgbGlzdGVuZXIodmFsdWUgPyBKU09OLnBhcnNlKHZhbHVlKSA6IHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXJ0UG9sbGluZygpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XG5cbiAgICB0aGlzLnBvbGxUaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuZm9yQWxsQ2hhbmdlZEtleXMoXG4gICAgICAgIChrZXk6IHN0cmluZywgb2xkVmFsdWU6IHN0cmluZyB8IG51bGwsIG5ld1ZhbHVlOiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gICAgICAgICAgdGhpcy5vblN0b3JhZ2VFdmVudChcbiAgICAgICAgICAgIG5ldyBTdG9yYWdlRXZlbnQoJ3N0b3JhZ2UnLCB7XG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgICAgIG5ld1ZhbHVlXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qIHBvbGwgKi8gdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSwgX1BPTExJTkdfSU5URVJWQUxfTVMpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdG9wUG9sbGluZygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wb2xsVGltZXIpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wb2xsVGltZXIpO1xuICAgICAgdGhpcy5wb2xsVGltZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXR0YWNoTGlzdGVuZXIoKTogdm9pZCB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCB0aGlzLmJvdW5kRXZlbnRIYW5kbGVyKTtcbiAgfVxuXG4gIHByaXZhdGUgZGV0YWNoTGlzdGVuZXIoKTogdm9pZCB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCB0aGlzLmJvdW5kRXZlbnRIYW5kbGVyKTtcbiAgfVxuXG4gIF9hZGRMaXN0ZW5lcihrZXk6IHN0cmluZywgbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFdoZXRoZXIgYnJvd3NlciBjYW4gZGV0ZWN0IHN0b3JhZ2UgZXZlbnQgd2hlbiBpdCBoYWQgYWxyZWFkeSBiZWVuIHB1c2hlZCB0byB0aGUgYmFja2dyb3VuZC5cbiAgICAgIC8vIFRoaXMgbWF5IGhhcHBlbiBpbiBzb21lIG1vYmlsZSBicm93c2Vycy4gQSBsb2NhbFN0b3JhZ2UgY2hhbmdlIGluIHRoZSBmb3JlZ3JvdW5kIHdpbmRvd1xuICAgICAgLy8gd2lsbCBub3QgYmUgZGV0ZWN0ZWQgaW4gdGhlIGJhY2tncm91bmQgd2luZG93IHZpYSB0aGUgc3RvcmFnZSBldmVudC5cbiAgICAgIC8vIFRoaXMgd2FzIGRldGVjdGVkIGluIGlPUyA3LnggbW9iaWxlIGJyb3dzZXJzXG4gICAgICBpZiAodGhpcy5mYWxsYmFja1RvUG9sbGluZykge1xuICAgICAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hdHRhY2hMaXN0ZW5lcigpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzW2tleV0pIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0gPSBuZXcgU2V0KCk7XG4gICAgICAvLyBQb3B1bGF0ZSB0aGUgY2FjaGUgdG8gYXZvaWQgc3B1cmlvdXNseSB0cmlnZ2VyaW5nIG9uIGZpcnN0IHBvbGwuXG4gICAgICB0aGlzLmxvY2FsQ2FjaGVba2V5XSA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzW2tleV0uYWRkKGxpc3RlbmVyKTtcbiAgfVxuXG4gIF9yZW1vdmVMaXN0ZW5lcihrZXk6IHN0cmluZywgbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGlzdGVuZXJzW2tleV0pIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0uZGVsZXRlKGxpc3RlbmVyKTtcblxuICAgICAgaWYgKHRoaXMubGlzdGVuZXJzW2tleV0uc2l6ZSA9PT0gMCkge1xuICAgICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcnNba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5kZXRhY2hMaXN0ZW5lcigpO1xuICAgICAgdGhpcy5zdG9wUG9sbGluZygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSBsb2NhbCBjYWNoZSBvbiBiYXNlIG9wZXJhdGlvbnM6XG5cbiAgYXN5bmMgX3NldChrZXk6IHN0cmluZywgdmFsdWU6IFBlcnNpc3RlbmNlVmFsdWUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCBzdXBlci5fc2V0KGtleSwgdmFsdWUpO1xuICAgIHRoaXMubG9jYWxDYWNoZVtrZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICB9XG5cbiAgYXN5bmMgX2dldDxUIGV4dGVuZHMgUGVyc2lzdGVuY2VWYWx1ZT4oa2V5OiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBzdXBlci5fZ2V0PFQ+KGtleSk7XG4gICAgdGhpcy5sb2NhbENhY2hlW2tleV0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgYXN5bmMgX3JlbW92ZShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHN1cGVyLl9yZW1vdmUoa2V5KTtcbiAgICBkZWxldGUgdGhpcy5sb2NhbENhY2hlW2tleV07XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgUGVyc2lzdGVuY2V9IG9mIHR5cGUgYExPQ0FMYCB1c2luZyBgbG9jYWxTdG9yYWdlYFxuICogZm9yIHRoZSB1bmRlcmx5aW5nIHN0b3JhZ2UuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYnJvd3NlckxvY2FsUGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlID0gQnJvd3NlckxvY2FsUGVyc2lzdGVuY2U7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGVyc2lzdGVuY2UgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQge1xuICBQZXJzaXN0ZW5jZUludGVybmFsIGFzIEludGVybmFsUGVyc2lzdGVuY2UsXG4gIFBlcnNpc3RlbmNlVHlwZSxcbiAgU3RvcmFnZUV2ZW50TGlzdGVuZXJcbn0gZnJvbSAnLi4vLi4vY29yZS9wZXJzaXN0ZW5jZSc7XG5pbXBvcnQgeyBCcm93c2VyUGVyc2lzdGVuY2VDbGFzcyB9IGZyb20gJy4vYnJvd3Nlcic7XG5cbmNsYXNzIEJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2VcbiAgZXh0ZW5kcyBCcm93c2VyUGVyc2lzdGVuY2VDbGFzc1xuICBpbXBsZW1lbnRzIEludGVybmFsUGVyc2lzdGVuY2VcbntcbiAgc3RhdGljIHR5cGU6ICdTRVNTSU9OJyA9ICdTRVNTSU9OJztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigoKSA9PiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UsIFBlcnNpc3RlbmNlVHlwZS5TRVNTSU9OKTtcbiAgfVxuXG4gIF9hZGRMaXN0ZW5lcihfa2V5OiBzdHJpbmcsIF9saXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICAvLyBMaXN0ZW5lcnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHNlc3Npb24gc3RvcmFnZSBzaW5jZSBpdCBjYW5ub3QgYmUgc2hhcmVkIGFjcm9zcyB3aW5kb3dzXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgX3JlbW92ZUxpc3RlbmVyKF9rZXk6IHN0cmluZywgX2xpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIC8vIExpc3RlbmVycyBhcmUgbm90IHN1cHBvcnRlZCBmb3Igc2Vzc2lvbiBzdG9yYWdlIHNpbmNlIGl0IGNhbm5vdCBiZSBzaGFyZWQgYWNyb3NzIHdpbmRvd3NcbiAgICByZXR1cm47XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgUGVyc2lzdGVuY2V9IG9mIGBTRVNTSU9OYCB1c2luZyBgc2Vzc2lvblN0b3JhZ2VgXG4gKiBmb3IgdGhlIHVuZGVybHlpbmcgc3RvcmFnZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBicm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSA9IEJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2U7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqIFRPRE86IHJlbW92ZSB0aGlzIG9uY2UgdHNsaWIgaGFzIGEgcG9seWZpbGwgZm9yIFByb21pc2UuYWxsU2V0dGxlZCAqL1xuaW50ZXJmYWNlIFByb21pc2VGdWxmaWxsZWRSZXN1bHQ8VD4ge1xuICBmdWxmaWxsZWQ6IHRydWU7XG4gIHZhbHVlOiBUO1xufVxuXG5pbnRlcmZhY2UgUHJvbWlzZVJlamVjdGVkUmVzdWx0IHtcbiAgZnVsZmlsbGVkOiBmYWxzZTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgcmVhc29uOiBhbnk7XG59XG5cbmV4cG9ydCB0eXBlIFByb21pc2VTZXR0bGVkUmVzdWx0PFQ+ID1cbiAgfCBQcm9taXNlRnVsZmlsbGVkUmVzdWx0PFQ+XG4gIHwgUHJvbWlzZVJlamVjdGVkUmVzdWx0O1xuXG4vKipcbiAqIFNoaW0gZm9yIFByb21pc2UuYWxsU2V0dGxlZCwgbm90ZSB0aGUgc2xpZ2h0bHkgZGlmZmVyZW50IGZvcm1hdCBvZiBgZnVsZmlsbGVkYCB2cyBgc3RhdHVzYC5cbiAqXG4gKiBAcGFyYW0gcHJvbWlzZXMgLSBBcnJheSBvZiBwcm9taXNlcyB0byB3YWl0IG9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gX2FsbFNldHRsZWQ8VD4oXG4gIHByb21pc2VzOiBBcnJheTxQcm9taXNlPFQ+PlxuKTogUHJvbWlzZTxBcnJheTxQcm9taXNlU2V0dGxlZFJlc3VsdDxUPj4+IHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgIHByb21pc2VzLm1hcChhc3luYyBwcm9taXNlID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcHJvbWlzZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBmdWxmaWxsZWQ6IHRydWUsXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSBhcyBQcm9taXNlRnVsZmlsbGVkUmVzdWx0PFQ+O1xuICAgICAgfSBjYXRjaCAocmVhc29uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZnVsZmlsbGVkOiBmYWxzZSxcbiAgICAgICAgICByZWFzb25cbiAgICAgICAgfSBhcyBQcm9taXNlUmVqZWN0ZWRSZXN1bHQ7XG4gICAgICB9XG4gICAgfSlcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBSZWNlaXZlckhhbmRsZXIsXG4gIF9FdmVudFR5cGUsXG4gIF9SZWNlaXZlclJlc3BvbnNlLFxuICBTZW5kZXJNZXNzYWdlRXZlbnQsXG4gIF9TdGF0dXMsXG4gIF9TZW5kZXJSZXF1ZXN0XG59IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgX2FsbFNldHRsZWQgfSBmcm9tICcuL3Byb21pc2UnO1xuXG4vKipcbiAqIEludGVyZmFjZSBjbGFzcyBmb3IgcmVjZWl2aW5nIG1lc3NhZ2VzLlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFJlY2VpdmVyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgcmVjZWl2ZXJzOiBSZWNlaXZlcltdID0gW107XG4gIHByaXZhdGUgcmVhZG9ubHkgYm91bmRFdmVudEhhbmRsZXI6IEV2ZW50TGlzdGVuZXI7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBoYW5kbGVyc01hcDoge1xuICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBoYXZlIGV4aXN0ZW50aWFsIHR5cGVzIDooXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBbZXZlbnRUeXBlOiBzdHJpbmddOiBTZXQ8UmVjZWl2ZXJIYW5kbGVyPGFueSwgYW55Pj47XG4gIH0gPSB7fTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldCkge1xuICAgIHRoaXMuYm91bmRFdmVudEhhbmRsZXIgPSB0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogT2J0YWluIGFuIGluc3RhbmNlIG9mIGEgUmVjZWl2ZXIgZm9yIGEgZ2l2ZW4gZXZlbnQgdGFyZ2V0LCBpZiBub25lIGV4aXN0cyBpdCB3aWxsIGJlIGNyZWF0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFRhcmdldCAtIEFuIGV2ZW50IHRhcmdldCAoc3VjaCBhcyB3aW5kb3cgb3Igc2VsZikgdGhyb3VnaCB3aGljaCB0aGUgdW5kZXJseWluZ1xuICAgKiBtZXNzYWdlcyB3aWxsIGJlIHJlY2VpdmVkLlxuICAgKi9cbiAgc3RhdGljIF9nZXRJbnN0YW5jZShldmVudFRhcmdldDogRXZlbnRUYXJnZXQpOiBSZWNlaXZlciB7XG4gICAgLy8gVGhlIHJlc3VsdHMgYXJlIHN0b3JlZCBpbiBhbiBhcnJheSBzaW5jZSBvYmplY3RzIGNhbid0IGJlIGtleXMgZm9yIG90aGVyXG4gICAgLy8gb2JqZWN0cy4gSW4gYWRkaXRpb24sIHNldHRpbmcgYSB1bmlxdWUgcHJvcGVydHkgb24gYW4gZXZlbnQgdGFyZ2V0IGFzIGFcbiAgICAvLyBoYXNoIG1hcCBrZXkgbWF5IG5vdCBiZSBhbGxvd2VkIGR1ZSB0byBDT1JTIHJlc3RyaWN0aW9ucy5cbiAgICBjb25zdCBleGlzdGluZ0luc3RhbmNlID0gdGhpcy5yZWNlaXZlcnMuZmluZChyZWNlaXZlciA9PlxuICAgICAgcmVjZWl2ZXIuaXNMaXN0ZW5pbmd0byhldmVudFRhcmdldClcbiAgICApO1xuICAgIGlmIChleGlzdGluZ0luc3RhbmNlKSB7XG4gICAgICByZXR1cm4gZXhpc3RpbmdJbnN0YW5jZTtcbiAgICB9XG4gICAgY29uc3QgbmV3SW5zdGFuY2UgPSBuZXcgUmVjZWl2ZXIoZXZlbnRUYXJnZXQpO1xuICAgIHRoaXMucmVjZWl2ZXJzLnB1c2gobmV3SW5zdGFuY2UpO1xuICAgIHJldHVybiBuZXdJbnN0YW5jZTtcbiAgfVxuXG4gIHByaXZhdGUgaXNMaXN0ZW5pbmd0byhldmVudFRhcmdldDogRXZlbnRUYXJnZXQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudFRhcmdldCA9PT0gZXZlbnRUYXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogRmFucyBvdXQgYSBNZXNzYWdlRXZlbnQgdG8gdGhlIGFwcHJvcHJpYXRlIGxpc3RlbmVycy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogU2VuZHMgYW4ge0BsaW5rIFN0YXR1cy5BQ0t9IHVwb24gcmVjZWlwdCBhbmQgYSB7QGxpbmsgU3RhdHVzLkRPTkV9IG9uY2UgYWxsIGhhbmRsZXJzIGhhdmVcbiAgICogZmluaXNoZWQgcHJvY2Vzc2luZy5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IC0gVGhlIE1lc3NhZ2VFdmVudC5cbiAgICpcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlRXZlbnQ8XG4gICAgVCBleHRlbmRzIF9SZWNlaXZlclJlc3BvbnNlLFxuICAgIFMgZXh0ZW5kcyBfU2VuZGVyUmVxdWVzdFxuICA+KGV2ZW50OiBFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IG1lc3NhZ2VFdmVudCA9IGV2ZW50IGFzIE1lc3NhZ2VFdmVudDxTZW5kZXJNZXNzYWdlRXZlbnQ8Uz4+O1xuICAgIGNvbnN0IHsgZXZlbnRJZCwgZXZlbnRUeXBlLCBkYXRhIH0gPSBtZXNzYWdlRXZlbnQuZGF0YTtcblxuICAgIGNvbnN0IGhhbmRsZXJzOiBTZXQ8UmVjZWl2ZXJIYW5kbGVyPFQsIFM+PiB8IHVuZGVmaW5lZCA9XG4gICAgICB0aGlzLmhhbmRsZXJzTWFwW2V2ZW50VHlwZV07XG4gICAgaWYgKCFoYW5kbGVycz8uc2l6ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1lc3NhZ2VFdmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh7XG4gICAgICBzdGF0dXM6IF9TdGF0dXMuQUNLLFxuICAgICAgZXZlbnRJZCxcbiAgICAgIGV2ZW50VHlwZVxuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheS5mcm9tKGhhbmRsZXJzKS5tYXAoYXN5bmMgaGFuZGxlciA9PlxuICAgICAgaGFuZGxlcihtZXNzYWdlRXZlbnQub3JpZ2luLCBkYXRhKVxuICAgICk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfYWxsU2V0dGxlZChwcm9taXNlcyk7XG4gICAgbWVzc2FnZUV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHtcbiAgICAgIHN0YXR1czogX1N0YXR1cy5ET05FLFxuICAgICAgZXZlbnRJZCxcbiAgICAgIGV2ZW50VHlwZSxcbiAgICAgIHJlc3BvbnNlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIGFuIGV2ZW50IGhhbmRsZXIgZm9yIGEgcGFydGljdWxhciBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50VHlwZSAtIEV2ZW50IG5hbWUgdG8gc3Vic2NyaWJlIHRvLlxuICAgKiBAcGFyYW0gZXZlbnRIYW5kbGVyIC0gVGhlIGV2ZW50IGhhbmRsZXIgd2hpY2ggc2hvdWxkIHJlY2VpdmUgdGhlIGV2ZW50cy5cbiAgICpcbiAgICovXG4gIF9zdWJzY3JpYmU8VCBleHRlbmRzIF9SZWNlaXZlclJlc3BvbnNlLCBTIGV4dGVuZHMgX1NlbmRlclJlcXVlc3Q+KFxuICAgIGV2ZW50VHlwZTogX0V2ZW50VHlwZSxcbiAgICBldmVudEhhbmRsZXI6IFJlY2VpdmVySGFuZGxlcjxULCBTPlxuICApOiB2b2lkIHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5oYW5kbGVyc01hcCkubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLmJvdW5kRXZlbnRIYW5kbGVyKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaGFuZGxlcnNNYXBbZXZlbnRUeXBlXSkge1xuICAgICAgdGhpcy5oYW5kbGVyc01hcFtldmVudFR5cGVdID0gbmV3IFNldCgpO1xuICAgIH1cblxuICAgIHRoaXMuaGFuZGxlcnNNYXBbZXZlbnRUeXBlXS5hZGQoZXZlbnRIYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBhbiBldmVudCBoYW5kbGVyIGZyb20gYSBwYXJ0aWN1bGFyIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRUeXBlIC0gRXZlbnQgbmFtZSB0byB1bnN1YnNjcmliZSBmcm9tLlxuICAgKiBAcGFyYW0gZXZlbnRIYW5kbGVyIC0gT3B0aW9uYWwgZXZlbnQgaGFuZGxlciwgaWYgbm9uZSBwcm92aWRlZCwgdW5zdWJzY3JpYmUgYWxsIGhhbmRsZXJzIG9uIHRoaXMgZXZlbnQuXG4gICAqXG4gICAqL1xuICBfdW5zdWJzY3JpYmU8VCBleHRlbmRzIF9SZWNlaXZlclJlc3BvbnNlLCBTIGV4dGVuZHMgX1NlbmRlclJlcXVlc3Q+KFxuICAgIGV2ZW50VHlwZTogX0V2ZW50VHlwZSxcbiAgICBldmVudEhhbmRsZXI/OiBSZWNlaXZlckhhbmRsZXI8VCwgUz5cbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNNYXBbZXZlbnRUeXBlXSAmJiBldmVudEhhbmRsZXIpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnNNYXBbZXZlbnRUeXBlXS5kZWxldGUoZXZlbnRIYW5kbGVyKTtcbiAgICB9XG4gICAgaWYgKCFldmVudEhhbmRsZXIgfHwgdGhpcy5oYW5kbGVyc01hcFtldmVudFR5cGVdLnNpemUgPT09IDApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmhhbmRsZXJzTWFwW2V2ZW50VHlwZV07XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuaGFuZGxlcnNNYXApLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5ib3VuZEV2ZW50SGFuZGxlcik7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIF9nZW5lcmF0ZUV2ZW50SWQocHJlZml4ID0gJycsIGRpZ2l0cyA9IDEwKTogc3RyaW5nIHtcbiAgbGV0IHJhbmRvbSA9ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZ2l0czsgaSsrKSB7XG4gICAgcmFuZG9tICs9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcbiAgfVxuICByZXR1cm4gcHJlZml4ICsgcmFuZG9tO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IF9nZW5lcmF0ZUV2ZW50SWQgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvZXZlbnRfaWQnO1xuaW1wb3J0IHtcbiAgX1NlbmRlclJlcXVlc3QsXG4gIF9FdmVudFR5cGUsXG4gIFJlY2VpdmVyTWVzc2FnZUV2ZW50LFxuICBfTWVzc2FnZUVycm9yLFxuICBTZW5kZXJNZXNzYWdlRXZlbnQsXG4gIF9TdGF0dXMsXG4gIF9SZWNlaXZlck1lc3NhZ2VSZXNwb25zZSxcbiAgX1JlY2VpdmVyUmVzcG9uc2UsXG4gIF9UaW1lb3V0RHVyYXRpb25cbn0gZnJvbSAnLi9pbmRleCc7XG5cbmludGVyZmFjZSBNZXNzYWdlSGFuZGxlciB7XG4gIG1lc3NhZ2VDaGFubmVsOiBNZXNzYWdlQ2hhbm5lbDtcbiAgb25NZXNzYWdlOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0O1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3Igc2VuZGluZyBtZXNzYWdlcyBhbmQgd2FpdGluZyBmb3IgYSBjb21wbGV0aW9uIHJlc3BvbnNlLlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFNlbmRlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlcnMgPSBuZXcgU2V0PE1lc3NhZ2VIYW5kbGVyPigpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgdGFyZ2V0OiBTZXJ2aWNlV29ya2VyKSB7fVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSB0aGUgaGFuZGxlciBhbmQgcmVtb3ZlIGl0IGZyb20gb3VyIHRyYWNraW5nIFNldC5cbiAgICpcbiAgICogQHBhcmFtIGhhbmRsZXIgLSBUaGUgaGFuZGxlciB0byB1bnN1YnNjcmliZS5cbiAgICovXG4gIHByaXZhdGUgcmVtb3ZlTWVzc2FnZUhhbmRsZXIoaGFuZGxlcjogTWVzc2FnZUhhbmRsZXIpOiB2b2lkIHtcbiAgICBpZiAoaGFuZGxlci5tZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgaGFuZGxlci5tZXNzYWdlQ2hhbm5lbC5wb3J0MS5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAnbWVzc2FnZScsXG4gICAgICAgIGhhbmRsZXIub25NZXNzYWdlXG4gICAgICApO1xuICAgICAgaGFuZGxlci5tZXNzYWdlQ2hhbm5lbC5wb3J0MS5jbG9zZSgpO1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZXJzLmRlbGV0ZShoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGEgbWVzc2FnZSB0byB0aGUgUmVjZWl2ZXIgbG9jYXRlZCBhdCB7QGxpbmsgdGFyZ2V0fS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogV2UnbGwgZmlyc3Qgd2FpdCBhIGJpdCBmb3IgYW4gQUNLICwgaWYgd2UgZ2V0IG9uZSB3ZSB3aWxsIHdhaXQgc2lnbmlmaWNhbnRseSBsb25nZXIgdW50aWwgdGhlXG4gICAqIHJlY2VpdmVyIGhhcyBoYWQgYSBjaGFuY2UgdG8gZnVsbHkgcHJvY2VzcyB0aGUgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFR5cGUgLSBUeXBlIG9mIGV2ZW50IHRvIHNlbmQuXG4gICAqIEBwYXJhbSBkYXRhIC0gVGhlIHBheWxvYWQgb2YgdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0gdGltZW91dCAtIFRpbWVvdXQgZm9yIHdhaXRpbmcgb24gYW4gQUNLIGZyb20gdGhlIHJlY2VpdmVyLlxuICAgKlxuICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiBzZXR0bGVkIHByb21pc2VzIGZyb20gYWxsIHRoZSBoYW5kbGVycyB0aGF0IHdlcmUgbGlzdGVuaW5nIG9uIHRoZSByZWNlaXZlci5cbiAgICovXG4gIGFzeW5jIF9zZW5kPFQgZXh0ZW5kcyBfUmVjZWl2ZXJSZXNwb25zZSwgUyBleHRlbmRzIF9TZW5kZXJSZXF1ZXN0PihcbiAgICBldmVudFR5cGU6IF9FdmVudFR5cGUsXG4gICAgZGF0YTogUyxcbiAgICB0aW1lb3V0ID0gX1RpbWVvdXREdXJhdGlvbi5BQ0tcbiAgKTogUHJvbWlzZTxfUmVjZWl2ZXJNZXNzYWdlUmVzcG9uc2U8VD4+IHtcbiAgICBjb25zdCBtZXNzYWdlQ2hhbm5lbCA9XG4gICAgICB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnID8gbmV3IE1lc3NhZ2VDaGFubmVsKCkgOiBudWxsO1xuICAgIGlmICghbWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihfTWVzc2FnZUVycm9yLkNPTk5FQ1RJT05fVU5BVkFJTEFCTEUpO1xuICAgIH1cbiAgICAvLyBOb2RlIHRpbWVycyBhbmQgYnJvd3NlciB0aW1lcnMgcmV0dXJuIGZ1bmRhbWVudGFsbHkgZGlmZmVyZW50IHR5cGVzLlxuICAgIC8vIFdlIGRvbid0IGFjdHVhbGx5IGNhcmUgd2hhdCB0aGUgdmFsdWUgaXMgYnV0IFRTIHdvbid0IGFjY2VwdCB1bmtub3duIGFuZFxuICAgIC8vIHdlIGNhbid0IGNhc3QgcHJvcGVybHkgaW4gYm90aCBlbnZpcm9ubWVudHMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBsZXQgY29tcGxldGlvblRpbWVyOiBhbnk7XG4gICAgbGV0IGhhbmRsZXI6IE1lc3NhZ2VIYW5kbGVyO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxfUmVjZWl2ZXJNZXNzYWdlUmVzcG9uc2U8VD4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50SWQgPSBfZ2VuZXJhdGVFdmVudElkKCcnLCAyMCk7XG4gICAgICBtZXNzYWdlQ2hhbm5lbC5wb3J0MS5zdGFydCgpO1xuICAgICAgY29uc3QgYWNrVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihfTWVzc2FnZUVycm9yLlVOU1VQUE9SVEVEX0VWRU5UKSk7XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICAgIGhhbmRsZXIgPSB7XG4gICAgICAgIG1lc3NhZ2VDaGFubmVsLFxuICAgICAgICBvbk1lc3NhZ2UoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZUV2ZW50ID0gZXZlbnQgYXMgTWVzc2FnZUV2ZW50PFJlY2VpdmVyTWVzc2FnZUV2ZW50PFQ+PjtcbiAgICAgICAgICBpZiAobWVzc2FnZUV2ZW50LmRhdGEuZXZlbnRJZCAhPT0gZXZlbnRJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2VFdmVudC5kYXRhLnN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSBfU3RhdHVzLkFDSzpcbiAgICAgICAgICAgICAgLy8gVGhlIHJlY2VpdmVyIHNob3VsZCBBQ0sgZmlyc3QuXG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChhY2tUaW1lcik7XG4gICAgICAgICAgICAgIGNvbXBsZXRpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoX01lc3NhZ2VFcnJvci5USU1FT1VUKSk7XG4gICAgICAgICAgICAgIH0sIF9UaW1lb3V0RHVyYXRpb24uQ09NUExFVElPTik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBfU3RhdHVzLkRPTkU6XG4gICAgICAgICAgICAgIC8vIE9uY2UgdGhlIHJlY2VpdmVyJ3MgaGFuZGxlcnMgYXJlIGZpbmlzaGVkIHdlIHdpbGwgZ2V0IHRoZSByZXN1bHRzLlxuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29tcGxldGlvblRpbWVyKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShtZXNzYWdlRXZlbnQuZGF0YS5yZXNwb25zZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFja1RpbWVyKTtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbXBsZXRpb25UaW1lcik7XG4gICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoX01lc3NhZ2VFcnJvci5JTlZBTElEX1JFU1BPTlNFKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMuaGFuZGxlcnMuYWRkKGhhbmRsZXIpO1xuICAgICAgbWVzc2FnZUNoYW5uZWwucG9ydDEuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZXIub25NZXNzYWdlKTtcbiAgICAgIHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKFxuICAgICAgICB7XG4gICAgICAgICAgZXZlbnRUeXBlLFxuICAgICAgICAgIGV2ZW50SWQsXG4gICAgICAgICAgZGF0YVxuICAgICAgICB9IGFzIFNlbmRlck1lc3NhZ2VFdmVudDxTPixcbiAgICAgICAgW21lc3NhZ2VDaGFubmVsLnBvcnQyXVxuICAgICAgKTtcbiAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTWVzc2FnZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBSZWNhcHRjaGEsIEdyZUNBUFRDSEFUb3BMZXZlbCB9IGZyb20gJy4vcmVjYXB0Y2hhL3JlY2FwdGNoYSc7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB3aW5kb3cgdHlwZSB0aGF0IG1lbGRzIHRoZSBub3JtYWwgd2luZG93IHR5cGUgcGx1cyB0aGVcbiAqIHZhcmlvdXMgYml0cyB3ZSBuZWVkLiBUaGUgdGhyZWUgZGlmZmVyZW50IGJsb2NrcyB0aGF0IGFyZSAmJ2QgdG9nZXRoZXJcbiAqIGNhbnQgYmUgZGVmaW5lZCBpbiB0aGUgc2FtZSBibG9jayB0b2dldGhlci5cbiAqL1xuZXhwb3J0IHR5cGUgQXV0aFdpbmRvdyA9IHtcbiAgLy8gU3RhbmRhcmQgd2luZG93IHR5cGVzXG4gIFtUIGluIGtleW9mIFdpbmRvd106IFdpbmRvd1tUXTtcbn0gJiB7XG4gIC8vIEFueSBrbm93biAvIG5hbWVkIHByb3BlcnRpZXMgd2Ugd2FudCB0byBhZGRcbiAgZ3JlY2FwdGNoYT86IFJlY2FwdGNoYSB8IEdyZUNBUFRDSEFUb3BMZXZlbDtcbiAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbiAgX19fanNsPzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgZ2FwaT86IHR5cGVvZiBnYXBpO1xufSAmIHtcbiAgLy8gQSBmaW5hbCBjYXRjaC1hbGwgZm9yIGNhbGxiYWNrcyAod2hpY2ggd2lsbCBoYXZlIHJhbmRvbSBuYW1lcykgdGhhdFxuICAvLyB3ZSB3aWxsIHN0aWNrIG9uIHRoZSB3aW5kb3cuXG4gIFtjYWxsYmFjazogc3RyaW5nXTogKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdm9pZDtcbn07XG5cbi8qKlxuICogTGF6eSBhY2Nlc3NvciBmb3Igd2luZG93LCBzaW5jZSB0aGUgY29tcGF0IGxheWVyIHdvbid0IHRyZWUgc2hha2UgdGhpcyBvdXQsXG4gKiB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSBub3QgdG8gbWVzcyB3aXRoIHdpbmRvdyB1bmxlc3Mgd2UgaGF2ZSB0b1xuICovXG5leHBvcnQgZnVuY3Rpb24gX3dpbmRvdygpOiBBdXRoV2luZG93IHtcbiAgcmV0dXJuIHdpbmRvdyBhcyB1bmtub3duIGFzIEF1dGhXaW5kb3c7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfc2V0V2luZG93TG9jYXRpb24odXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgX3dpbmRvdygpLmxvY2F0aW9uLmhyZWYgPSB1cmw7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IF93aW5kb3cgfSBmcm9tICcuLi9hdXRoX3dpbmRvdyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNXb3JrZXIoKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIF93aW5kb3coKVsnV29ya2VyR2xvYmFsU2NvcGUnXSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgX3dpbmRvdygpWydpbXBvcnRTY3JpcHRzJ10gPT09ICdmdW5jdGlvbidcbiAgKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9nZXRBY3RpdmVTZXJ2aWNlV29ya2VyKCk6IFByb21pc2U8U2VydmljZVdvcmtlciB8IG51bGw+IHtcbiAgaWYgKCFuYXZpZ2F0b3I/LnNlcnZpY2VXb3JrZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHJlZ2lzdHJhdGlvbiA9IGF3YWl0IG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5O1xuICAgIHJldHVybiByZWdpc3RyYXRpb24uYWN0aXZlO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX2dldFNlcnZpY2VXb3JrZXJDb250cm9sbGVyKCk6IFNlcnZpY2VXb3JrZXIgfCBudWxsIHtcbiAgcmV0dXJuIG5hdmlnYXRvcj8uc2VydmljZVdvcmtlcj8uY29udHJvbGxlciB8fCBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2dldFdvcmtlckdsb2JhbFNjb3BlKCk6IFNlcnZpY2VXb3JrZXIgfCBudWxsIHtcbiAgcmV0dXJuIF9pc1dvcmtlcigpID8gKHNlbGYgYXMgdW5rbm93biBhcyBTZXJ2aWNlV29ya2VyKSA6IG51bGw7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGVyc2lzdGVuY2UgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHtcbiAgUGVyc2lzdGVkQmxvYixcbiAgUGVyc2lzdGVuY2VJbnRlcm5hbCBhcyBJbnRlcm5hbFBlcnNpc3RlbmNlLFxuICBQZXJzaXN0ZW5jZVR5cGUsXG4gIFBlcnNpc3RlbmNlVmFsdWUsXG4gIFN0b3JhZ2VFdmVudExpc3RlbmVyLFxuICBTVE9SQUdFX0FWQUlMQUJMRV9LRVlcbn0gZnJvbSAnLi4vLi4vY29yZS9wZXJzaXN0ZW5jZS8nO1xuaW1wb3J0IHtcbiAgX0V2ZW50VHlwZSxcbiAgX1BpbmdSZXNwb25zZSxcbiAgS2V5Q2hhbmdlZFJlc3BvbnNlLFxuICBLZXlDaGFuZ2VkUmVxdWVzdCxcbiAgUGluZ1JlcXVlc3QsXG4gIF9UaW1lb3V0RHVyYXRpb25cbn0gZnJvbSAnLi4vbWVzc2FnZWNoYW5uZWwvaW5kZXgnO1xuaW1wb3J0IHsgUmVjZWl2ZXIgfSBmcm9tICcuLi9tZXNzYWdlY2hhbm5lbC9yZWNlaXZlcic7XG5pbXBvcnQgeyBTZW5kZXIgfSBmcm9tICcuLi9tZXNzYWdlY2hhbm5lbC9zZW5kZXInO1xuaW1wb3J0IHtcbiAgX2lzV29ya2VyLFxuICBfZ2V0QWN0aXZlU2VydmljZVdvcmtlcixcbiAgX2dldFNlcnZpY2VXb3JrZXJDb250cm9sbGVyLFxuICBfZ2V0V29ya2VyR2xvYmFsU2NvcGVcbn0gZnJvbSAnLi4vdXRpbC93b3JrZXInO1xuXG5leHBvcnQgY29uc3QgREJfTkFNRSA9ICdmaXJlYmFzZUxvY2FsU3RvcmFnZURiJztcbmNvbnN0IERCX1ZFUlNJT04gPSAxO1xuY29uc3QgREJfT0JKRUNUU1RPUkVfTkFNRSA9ICdmaXJlYmFzZUxvY2FsU3RvcmFnZSc7XG5jb25zdCBEQl9EQVRBX0tFWVBBVEggPSAnZmJhc2Vfa2V5JztcblxuaW50ZXJmYWNlIERCT2JqZWN0IHtcbiAgW0RCX0RBVEFfS0VZUEFUSF06IHN0cmluZztcbiAgdmFsdWU6IFBlcnNpc3RlZEJsb2I7XG59XG5cbi8qKlxuICogUHJvbWlzZSB3cmFwcGVyIGZvciBJREJSZXF1ZXN0XG4gKlxuICogVW5mb3J0dW5hdGVseSB3ZSBjYW4ndCBjbGVhbmx5IGV4dGVuZCBQcm9taXNlPFQ+IHNpbmNlIHByb21pc2VzIGFyZSBub3QgY2FsbGFibGUgaW4gRVM2XG4gKlxuICovXG5jbGFzcyBEQlByb21pc2U8VD4ge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHJlcXVlc3Q6IElEQlJlcXVlc3QpIHt9XG5cbiAgdG9Qcm9taXNlKCk6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxUPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzLnJlcXVlc3QucmVzdWx0KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICByZWplY3QodGhpcy5yZXF1ZXN0LmVycm9yKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldE9iamVjdFN0b3JlKGRiOiBJREJEYXRhYmFzZSwgaXNSZWFkV3JpdGU6IGJvb2xlYW4pOiBJREJPYmplY3RTdG9yZSB7XG4gIHJldHVybiBkYlxuICAgIC50cmFuc2FjdGlvbihbREJfT0JKRUNUU1RPUkVfTkFNRV0sIGlzUmVhZFdyaXRlID8gJ3JlYWR3cml0ZScgOiAncmVhZG9ubHknKVxuICAgIC5vYmplY3RTdG9yZShEQl9PQkpFQ1RTVE9SRV9OQU1FKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9jbGVhckRhdGFiYXNlKGRiOiBJREJEYXRhYmFzZSk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBvYmplY3RTdG9yZSA9IGdldE9iamVjdFN0b3JlKGRiLCB0cnVlKTtcbiAgcmV0dXJuIG5ldyBEQlByb21pc2U8dm9pZD4ob2JqZWN0U3RvcmUuY2xlYXIoKSkudG9Qcm9taXNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZGVsZXRlRGF0YWJhc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoREJfTkFNRSk7XG4gIHJldHVybiBuZXcgREJQcm9taXNlPHZvaWQ+KHJlcXVlc3QpLnRvUHJvbWlzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX29wZW5EYXRhYmFzZSgpOiBQcm9taXNlPElEQkRhdGFiYXNlPiB7XG4gIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihEQl9OQU1FLCBEQl9WRVJTSU9OKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCd1cGdyYWRlbmVlZGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZGIgPSByZXF1ZXN0LnJlc3VsdDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoREJfT0JKRUNUU1RPUkVfTkFNRSwgeyBrZXlQYXRoOiBEQl9EQVRBX0tFWVBBVEggfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRiOiBJREJEYXRhYmFzZSA9IHJlcXVlc3QucmVzdWx0O1xuICAgICAgLy8gU3RyYW5nZSBidWcgdGhhdCBvY2N1cnMgaW4gRmlyZWZveCB3aGVuIG11bHRpcGxlIHRhYnMgYXJlIG9wZW5lZCBhdCB0aGVcbiAgICAgIC8vIHNhbWUgdGltZS4gVGhlIG9ubHkgd2F5IHRvIHJlY292ZXIgc2VlbXMgdG8gYmUgZGVsZXRpbmcgdGhlIGRhdGFiYXNlXG4gICAgICAvLyBhbmQgcmUtaW5pdGlhbGl6aW5nIGl0LlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWpzLXNkay9pc3N1ZXMvNjM0XG5cbiAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhEQl9PQkpFQ1RTVE9SRV9OQU1FKSkge1xuICAgICAgICAvLyBOZWVkIHRvIGNsb3NlIHRoZSBkYXRhYmFzZSBvciBlbHNlIHlvdSBnZXQgYSBgYmxvY2tlZGAgZXZlbnRcbiAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgYXdhaXQgX2RlbGV0ZURhdGFiYXNlKCk7XG4gICAgICAgIHJlc29sdmUoYXdhaXQgX29wZW5EYXRhYmFzZSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUoZGIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9wdXRPYmplY3QoXG4gIGRiOiBJREJEYXRhYmFzZSxcbiAga2V5OiBzdHJpbmcsXG4gIHZhbHVlOiBQZXJzaXN0ZW5jZVZhbHVlIHwgc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKGRiLCB0cnVlKS5wdXQoe1xuICAgIFtEQl9EQVRBX0tFWVBBVEhdOiBrZXksXG4gICAgdmFsdWVcbiAgfSk7XG4gIHJldHVybiBuZXcgREJQcm9taXNlPHZvaWQ+KHJlcXVlc3QpLnRvUHJvbWlzZSgpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRPYmplY3QoXG4gIGRiOiBJREJEYXRhYmFzZSxcbiAga2V5OiBzdHJpbmdcbik6IFByb21pc2U8UGVyc2lzdGVkQmxvYiB8IG51bGw+IHtcbiAgY29uc3QgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKGRiLCBmYWxzZSkuZ2V0KGtleSk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBuZXcgREJQcm9taXNlPERCT2JqZWN0IHwgdW5kZWZpbmVkPihyZXF1ZXN0KS50b1Byb21pc2UoKTtcbiAgcmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkYXRhLnZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2RlbGV0ZU9iamVjdChkYjogSURCRGF0YWJhc2UsIGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHJlcXVlc3QgPSBnZXRPYmplY3RTdG9yZShkYiwgdHJ1ZSkuZGVsZXRlKGtleSk7XG4gIHJldHVybiBuZXcgREJQcm9taXNlPHZvaWQ+KHJlcXVlc3QpLnRvUHJvbWlzZSgpO1xufVxuXG5leHBvcnQgY29uc3QgX1BPTExJTkdfSU5URVJWQUxfTVMgPSA4MDA7XG5leHBvcnQgY29uc3QgX1RSQU5TQUNUSU9OX1JFVFJZX0NPVU5UID0gMztcblxuY2xhc3MgSW5kZXhlZERCTG9jYWxQZXJzaXN0ZW5jZSBpbXBsZW1lbnRzIEludGVybmFsUGVyc2lzdGVuY2Uge1xuICBzdGF0aWMgdHlwZTogJ0xPQ0FMJyA9ICdMT0NBTCc7XG5cbiAgdHlwZSA9IFBlcnNpc3RlbmNlVHlwZS5MT0NBTDtcbiAgZGI/OiBJREJEYXRhYmFzZTtcbiAgcmVhZG9ubHkgX3Nob3VsZEFsbG93TWlncmF0aW9uID0gdHJ1ZTtcblxuICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogUmVjb3JkPHN0cmluZywgU2V0PFN0b3JhZ2VFdmVudExpc3RlbmVyPj4gPSB7fTtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2NhbENhY2hlOiBSZWNvcmQ8c3RyaW5nLCBQZXJzaXN0ZW5jZVZhbHVlIHwgbnVsbD4gPSB7fTtcbiAgLy8gc2V0VGltZW91dCByZXR1cm4gdmFsdWUgaXMgcGxhdGZvcm0gc3BlY2lmaWNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgcHJpdmF0ZSBwb2xsVGltZXI6IGFueSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHBlbmRpbmdXcml0ZXMgPSAwO1xuXG4gIHByaXZhdGUgcmVjZWl2ZXI6IFJlY2VpdmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgc2VuZGVyOiBTZW5kZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBzZXJ2aWNlV29ya2VyUmVjZWl2ZXJBdmFpbGFibGUgPSBmYWxzZTtcbiAgcHJpdmF0ZSBhY3RpdmVTZXJ2aWNlV29ya2VyOiBTZXJ2aWNlV29ya2VyIHwgbnVsbCA9IG51bGw7XG4gIC8vIFZpc2libGUgZm9yIHRlc3Rpbmcgb25seVxuICByZWFkb25seSBfd29ya2VySW5pdGlhbGl6YXRpb25Qcm9taXNlOiBQcm9taXNlPHZvaWQ+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIEZpcmUgJiBmb3JnZXQgdGhlIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiBhcyBpdCBtYXkgbmV2ZXIgcmVzb2x2ZVxuICAgIHRoaXMuX3dvcmtlckluaXRpYWxpemF0aW9uUHJvbWlzZSA9XG4gICAgICB0aGlzLmluaXRpYWxpemVTZXJ2aWNlV29ya2VyTWVzc2FnaW5nKCkudGhlbihcbiAgICAgICAgKCkgPT4ge30sXG4gICAgICAgICgpID0+IHt9XG4gICAgICApO1xuICB9XG5cbiAgYXN5bmMgX29wZW5EYigpOiBQcm9taXNlPElEQkRhdGFiYXNlPiB7XG4gICAgaWYgKHRoaXMuZGIpIHtcbiAgICAgIHJldHVybiB0aGlzLmRiO1xuICAgIH1cbiAgICB0aGlzLmRiID0gYXdhaXQgX29wZW5EYXRhYmFzZSgpO1xuICAgIHJldHVybiB0aGlzLmRiO1xuICB9XG5cbiAgYXN5bmMgX3dpdGhSZXRyaWVzPFQ+KG9wOiAoZGI6IElEQkRhdGFiYXNlKSA9PiBQcm9taXNlPFQ+KTogUHJvbWlzZTxUPiB7XG4gICAgbGV0IG51bUF0dGVtcHRzID0gMDtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuX29wZW5EYigpO1xuICAgICAgICByZXR1cm4gYXdhaXQgb3AoZGIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAobnVtQXR0ZW1wdHMrKyA+IF9UUkFOU0FDVElPTl9SRVRSWV9DT1VOVCkge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGIpIHtcbiAgICAgICAgICB0aGlzLmRiLmNsb3NlKCk7XG4gICAgICAgICAgdGhpcy5kYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBjb25zaWRlciBhZGRpbmcgZXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRleGVkREIgZXZlbnRzIGRvIG5vdCBwcm9wYWdhdGUgZnJvbSB0aGUgbWFpbiB3aW5kb3cgdG8gdGhlIHdvcmtlciBjb250ZXh0LiAgV2UgcmVseSBvbiBhXG4gICAqIHBvc3RNZXNzYWdlIGludGVyZmFjZSB0byBzZW5kIHRoZXNlIGV2ZW50cyB0byB0aGUgd29ya2VyIG91cnNlbHZlcy5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVNlcnZpY2VXb3JrZXJNZXNzYWdpbmcoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIF9pc1dvcmtlcigpID8gdGhpcy5pbml0aWFsaXplUmVjZWl2ZXIoKSA6IHRoaXMuaW5pdGlhbGl6ZVNlbmRlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzIHRoZSB3b3JrZXIgd2Ugc2hvdWxkIGxpc3RlbiB0byBldmVudHMgZnJvbSB0aGUgbWFpbiB3aW5kb3cuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVSZWNlaXZlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnJlY2VpdmVyID0gUmVjZWl2ZXIuX2dldEluc3RhbmNlKF9nZXRXb3JrZXJHbG9iYWxTY29wZSgpISk7XG4gICAgLy8gUmVmcmVzaCBmcm9tIHBlcnNpc3RlbmNlIGlmIHdlIHJlY2VpdmUgYSBLZXlDaGFuZ2VkIG1lc3NhZ2UuXG4gICAgdGhpcy5yZWNlaXZlci5fc3Vic2NyaWJlKFxuICAgICAgX0V2ZW50VHlwZS5LRVlfQ0hBTkdFRCxcbiAgICAgIGFzeW5jIChfb3JpZ2luOiBzdHJpbmcsIGRhdGE6IEtleUNoYW5nZWRSZXF1ZXN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBhd2FpdCB0aGlzLl9wb2xsKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2V5UHJvY2Vzc2VkOiBrZXlzLmluY2x1ZGVzKGRhdGEua2V5KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICk7XG4gICAgLy8gTGV0IHRoZSBzZW5kZXIga25vdyB0aGF0IHdlIGFyZSBsaXN0ZW5pbmcgc28gdGhleSBnaXZlIHVzIG1vcmUgdGltZW91dC5cbiAgICB0aGlzLnJlY2VpdmVyLl9zdWJzY3JpYmUoXG4gICAgICBfRXZlbnRUeXBlLlBJTkcsXG4gICAgICBhc3luYyAoX29yaWdpbjogc3RyaW5nLCBfZGF0YTogUGluZ1JlcXVlc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIFtfRXZlbnRUeXBlLktFWV9DSEFOR0VEXTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzIHRoZSBtYWluIHdpbmRvdywgd2Ugc2hvdWxkIGxldCB0aGUgd29ya2VyIGtub3cgd2hlbiBrZXlzIGNoYW5nZSAoc2V0IGFuZCByZW1vdmUpLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NlcnZpY2VXb3JrZXJDb250YWluZXIvcmVhZHkgfCBTZXJ2aWNlV29ya2VyQ29udGFpbmVyLnJlYWR5fVxuICAgKiBtYXkgbm90IHJlc29sdmUuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVTZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZXJlJ3MgYW4gYWN0aXZlIHNlcnZpY2Ugd29ya2VyLlxuICAgIHRoaXMuYWN0aXZlU2VydmljZVdvcmtlciA9IGF3YWl0IF9nZXRBY3RpdmVTZXJ2aWNlV29ya2VyKCk7XG4gICAgaWYgKCF0aGlzLmFjdGl2ZVNlcnZpY2VXb3JrZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZW5kZXIgPSBuZXcgU2VuZGVyKHRoaXMuYWN0aXZlU2VydmljZVdvcmtlcik7XG4gICAgLy8gUGluZyB0aGUgc2VydmljZSB3b3JrZXIgdG8gY2hlY2sgd2hhdCBldmVudHMgdGhleSBjYW4gaGFuZGxlLlxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnNlbmRlci5fc2VuZDxfUGluZ1Jlc3BvbnNlLCBQaW5nUmVxdWVzdD4oXG4gICAgICBfRXZlbnRUeXBlLlBJTkcsXG4gICAgICB7fSxcbiAgICAgIF9UaW1lb3V0RHVyYXRpb24uTE9OR19BQ0tcbiAgICApO1xuICAgIGlmICghcmVzdWx0cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICByZXN1bHRzWzBdPy5mdWxmaWxsZWQgJiZcbiAgICAgIHJlc3VsdHNbMF0/LnZhbHVlLmluY2x1ZGVzKF9FdmVudFR5cGUuS0VZX0NIQU5HRUQpXG4gICAgKSB7XG4gICAgICB0aGlzLnNlcnZpY2VXb3JrZXJSZWNlaXZlckF2YWlsYWJsZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExldCB0aGUgd29ya2VyIGtub3cgYWJvdXQgYSBjaGFuZ2VkIGtleSwgdGhlIGV4YWN0IGtleSBkb2Vzbid0IHRlY2huaWNhbGx5IG1hdHRlciBzaW5jZSB0aGVcbiAgICogd29ya2VyIHdpbGwganVzdCB0cmlnZ2VyIGEgZnVsbCBzeW5jIGFueXdheS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogRm9yIG5vdywgd2Ugb25seSBzdXBwb3J0IG9uZSBzZXJ2aWNlIHdvcmtlciBwZXIgcGFnZS5cbiAgICpcbiAgICogQHBhcmFtIGtleSAtIFN0b3JhZ2Uga2V5IHdoaWNoIGNoYW5nZWQuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIG5vdGlmeVNlcnZpY2VXb3JrZXIoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5zZW5kZXIgfHxcbiAgICAgICF0aGlzLmFjdGl2ZVNlcnZpY2VXb3JrZXIgfHxcbiAgICAgIF9nZXRTZXJ2aWNlV29ya2VyQ29udHJvbGxlcigpICE9PSB0aGlzLmFjdGl2ZVNlcnZpY2VXb3JrZXJcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuc2VuZGVyLl9zZW5kPEtleUNoYW5nZWRSZXNwb25zZSwgS2V5Q2hhbmdlZFJlcXVlc3Q+KFxuICAgICAgICBfRXZlbnRUeXBlLktFWV9DSEFOR0VELFxuICAgICAgICB7IGtleSB9LFxuICAgICAgICAvLyBVc2UgbG9uZyB0aW1lb3V0IGlmIHJlY2VpdmVyIGhhcyBwcmV2aW91c2x5IHJlc3BvbmRlZCB0byBhIHBpbmcgZnJvbSB1cy5cbiAgICAgICAgdGhpcy5zZXJ2aWNlV29ya2VyUmVjZWl2ZXJBdmFpbGFibGVcbiAgICAgICAgICA/IF9UaW1lb3V0RHVyYXRpb24uTE9OR19BQ0tcbiAgICAgICAgICA6IF9UaW1lb3V0RHVyYXRpb24uQUNLXG4gICAgICApO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gVGhpcyBpcyBhIGJlc3QgZWZmb3J0IGFwcHJvYWNoLiBJZ25vcmUgZXJyb3JzLlxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIF9pc0F2YWlsYWJsZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFpbmRleGVkREIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgZGIgPSBhd2FpdCBfb3BlbkRhdGFiYXNlKCk7XG4gICAgICBhd2FpdCBfcHV0T2JqZWN0KGRiLCBTVE9SQUdFX0FWQUlMQUJMRV9LRVksICcxJyk7XG4gICAgICBhd2FpdCBfZGVsZXRlT2JqZWN0KGRiLCBTVE9SQUdFX0FWQUlMQUJMRV9LRVkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCB7fVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3dpdGhQZW5kaW5nV3JpdGUod3JpdGU6ICgpID0+IFByb21pc2U8dm9pZD4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnBlbmRpbmdXcml0ZXMrKztcbiAgICB0cnkge1xuICAgICAgYXdhaXQgd3JpdGUoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5wZW5kaW5nV3JpdGVzLS07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX3NldChrZXk6IHN0cmluZywgdmFsdWU6IFBlcnNpc3RlbmNlVmFsdWUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fd2l0aFBlbmRpbmdXcml0ZShhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLl93aXRoUmV0cmllcygoZGI6IElEQkRhdGFiYXNlKSA9PiBfcHV0T2JqZWN0KGRiLCBrZXksIHZhbHVlKSk7XG4gICAgICB0aGlzLmxvY2FsQ2FjaGVba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXMubm90aWZ5U2VydmljZVdvcmtlcihrZXkpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgX2dldDxUIGV4dGVuZHMgUGVyc2lzdGVuY2VWYWx1ZT4oa2V5OiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gICAgY29uc3Qgb2JqID0gKGF3YWl0IHRoaXMuX3dpdGhSZXRyaWVzKChkYjogSURCRGF0YWJhc2UpID0+XG4gICAgICBnZXRPYmplY3QoZGIsIGtleSlcbiAgICApKSBhcyBUO1xuICAgIHRoaXMubG9jYWxDYWNoZVtrZXldID0gb2JqO1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBhc3luYyBfcmVtb3ZlKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuX3dpdGhQZW5kaW5nV3JpdGUoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5fd2l0aFJldHJpZXMoKGRiOiBJREJEYXRhYmFzZSkgPT4gX2RlbGV0ZU9iamVjdChkYiwga2V5KSk7XG4gICAgICBkZWxldGUgdGhpcy5sb2NhbENhY2hlW2tleV07XG4gICAgICByZXR1cm4gdGhpcy5ub3RpZnlTZXJ2aWNlV29ya2VyKGtleSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9wb2xsKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICAvLyBUT0RPOiBjaGVjayBpZiB3ZSBuZWVkIHRvIGZhbGxiYWNrIGlmIGdldEFsbCBpcyBub3Qgc3VwcG9ydGVkXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fd2l0aFJldHJpZXMoKGRiOiBJREJEYXRhYmFzZSkgPT4ge1xuICAgICAgY29uc3QgZ2V0QWxsUmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKGRiLCBmYWxzZSkuZ2V0QWxsKCk7XG4gICAgICByZXR1cm4gbmV3IERCUHJvbWlzZTxEQk9iamVjdFtdIHwgbnVsbD4oZ2V0QWxsUmVxdWVzdCkudG9Qcm9taXNlKCk7XG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8vIElmIHdlIGhhdmUgcGVuZGluZyB3cml0ZXMgaW4gcHJvZ3Jlc3MgYWJvcnQsIHdlJ2xsIGdldCBwaWNrZWQgdXAgb24gdGhlIG5leHQgcG9sbFxuICAgIGlmICh0aGlzLnBlbmRpbmdXcml0ZXMgIT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXlzID0gW107XG4gICAgY29uc3Qga2V5c0luUmVzdWx0ID0gbmV3IFNldCgpO1xuICAgIGlmIChyZXN1bHQubGVuZ3RoICE9PSAwKSB7XG4gICAgICBmb3IgKGNvbnN0IHsgZmJhc2Vfa2V5OiBrZXksIHZhbHVlIH0gb2YgcmVzdWx0KSB7XG4gICAgICAgIGtleXNJblJlc3VsdC5hZGQoa2V5KTtcbiAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHRoaXMubG9jYWxDYWNoZVtrZXldKSAhPT0gSlNPTi5zdHJpbmdpZnkodmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoa2V5LCB2YWx1ZSBhcyBQZXJzaXN0ZW5jZVZhbHVlKTtcbiAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgbG9jYWxLZXkgb2YgT2JqZWN0LmtleXModGhpcy5sb2NhbENhY2hlKSkge1xuICAgICAgaWYgKHRoaXMubG9jYWxDYWNoZVtsb2NhbEtleV0gJiYgIWtleXNJblJlc3VsdC5oYXMobG9jYWxLZXkpKSB7XG4gICAgICAgIC8vIERlbGV0ZWRcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMobG9jYWxLZXksIG51bGwpO1xuICAgICAgICBrZXlzLnB1c2gobG9jYWxLZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbiAgfVxuXG4gIHByaXZhdGUgbm90aWZ5TGlzdGVuZXJzKFxuICAgIGtleTogc3RyaW5nLFxuICAgIG5ld1ZhbHVlOiBQZXJzaXN0ZW5jZVZhbHVlIHwgbnVsbFxuICApOiB2b2lkIHtcbiAgICB0aGlzLmxvY2FsQ2FjaGVba2V5XSA9IG5ld1ZhbHVlO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2tleV07XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBBcnJheS5mcm9tKGxpc3RlbmVycykpIHtcbiAgICAgICAgbGlzdGVuZXIobmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhcnRQb2xsaW5nKCk6IHZvaWQge1xuICAgIHRoaXMuc3RvcFBvbGxpbmcoKTtcblxuICAgIHRoaXMucG9sbFRpbWVyID0gc2V0SW50ZXJ2YWwoXG4gICAgICBhc3luYyAoKSA9PiB0aGlzLl9wb2xsKCksXG4gICAgICBfUE9MTElOR19JTlRFUlZBTF9NU1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0b3BQb2xsaW5nKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnBvbGxUaW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBvbGxUaW1lcik7XG4gICAgICB0aGlzLnBvbGxUaW1lciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgX2FkZExpc3RlbmVyKGtleTogc3RyaW5nLCBsaXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc1trZXldKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldID0gbmV3IFNldCgpO1xuICAgICAgLy8gUG9wdWxhdGUgdGhlIGNhY2hlIHRvIGF2b2lkIHNwdXJpb3VzbHkgdHJpZ2dlcmluZyBvbiBmaXJzdCBwb2xsLlxuICAgICAgdm9pZCB0aGlzLl9nZXQoa2V5KTsgLy8gVGhpcyBjYW4gaGFwcGVuIGluIHRoZSBiYWNrZ3JvdW5kIGFzeW5jIGFuZCB3ZSBjYW4gcmV0dXJuIGltbWVkaWF0ZWx5LlxuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVyc1trZXldLmFkZChsaXN0ZW5lcik7XG4gIH1cblxuICBfcmVtb3ZlTGlzdGVuZXIoa2V5OiBzdHJpbmcsIGxpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmxpc3RlbmVyc1trZXldKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldLmRlbGV0ZShsaXN0ZW5lcik7XG5cbiAgICAgIGlmICh0aGlzLmxpc3RlbmVyc1trZXldLnNpemUgPT09IDApIHtcbiAgICAgICAgZGVsZXRlIHRoaXMubGlzdGVuZXJzW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMubGlzdGVuZXJzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc3RvcFBvbGxpbmcoKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgUGVyc2lzdGVuY2V9IG9mIHR5cGUgYExPQ0FMYCB1c2luZyBgaW5kZXhlZERCYFxuICogZm9yIHRoZSB1bmRlcmx5aW5nIHN0b3JhZ2UuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgaW5kZXhlZERCTG9jYWxQZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2UgPSBJbmRleGVkREJMb2NhbFBlcnNpc3RlbmNlO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIF9wZXJmb3JtQXBpUmVxdWVzdCxcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeVxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IE1mYUVucm9sbG1lbnQgfSBmcm9tICcuLi9hY2NvdW50X21hbmFnZW1lbnQvbWZhJztcbmltcG9ydCB7IFNpZ25JbldpdGhJZHBSZXNwb25zZSB9IGZyb20gJy4vaWRwJztcbmltcG9ydCB7XG4gIFNpZ25JbldpdGhQaG9uZU51bWJlclJlcXVlc3QsXG4gIFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlXG59IGZyb20gJy4vc21zJztcblxuZXhwb3J0IGludGVyZmFjZSBGaW5hbGl6ZU1mYVJlc3BvbnNlIHtcbiAgaWRUb2tlbjogc3RyaW5nO1xuICByZWZyZXNoVG9rZW46IHN0cmluZztcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJZFRva2VuTWZhUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge1xuICBtZmFQZW5kaW5nQ3JlZGVudGlhbD86IHN0cmluZztcbiAgbWZhSW5mbz86IE1mYUVucm9sbG1lbnRbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGFydFBob25lTWZhU2lnbkluUmVxdWVzdCB7XG4gIG1mYVBlbmRpbmdDcmVkZW50aWFsOiBzdHJpbmc7XG4gIG1mYUVucm9sbG1lbnRJZDogc3RyaW5nO1xuICBwaG9uZVNpZ25JbkluZm86IHtcbiAgICByZWNhcHRjaGFUb2tlbjogc3RyaW5nO1xuICB9O1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGFydFBob25lTWZhU2lnbkluUmVzcG9uc2Uge1xuICBwaG9uZVJlc3BvbnNlSW5mbzoge1xuICAgIHNlc3Npb25JbmZvOiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNpZ25JblBob25lTWZhKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTdGFydFBob25lTWZhU2lnbkluUmVxdWVzdFxuKTogUHJvbWlzZTxTdGFydFBob25lTWZhU2lnbkluUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBTdGFydFBob25lTWZhU2lnbkluUmVxdWVzdCxcbiAgICBTdGFydFBob25lTWZhU2lnbkluUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TVEFSVF9NRkFfU0lHTl9JTixcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaW5hbGl6ZVBob25lTWZhU2lnbkluUmVxdWVzdCB7XG4gIG1mYVBlbmRpbmdDcmVkZW50aWFsOiBzdHJpbmc7XG4gIHBob25lVmVyaWZpY2F0aW9uSW5mbzogU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdDtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbi8vIFRPVFAgTUZBIFNpZ24gaW4gb25seSBoYXMgYSBmaW5hbGl6ZSBwaGFzZS4gUGhvbmUgTUZBIGhhcyBhIHN0YXJ0IHBoYXNlIHRvIGluaXRpYXRlIHNlbmRpbmcgYW5cbi8vIFNNUyBhbmQgYSBmaW5hbGl6ZSBwaGFzZSB0byBjb21wbGV0ZSBzaWduIGluLiBXaXRoIFRPVFAsIHRoZSB1c2VyIGFscmVhZHkgaGFzIHRoZSBPVFAgaW4gdGhlXG4vLyBUT1RQL0F1dGhlbnRpY2F0b3IgYXBwLlxuZXhwb3J0IGludGVyZmFjZSBGaW5hbGl6ZVRvdHBNZmFTaWduSW5SZXF1ZXN0IHtcbiAgbWZhUGVuZGluZ0NyZWRlbnRpYWw6IHN0cmluZztcbiAgdG90cFZlcmlmaWNhdGlvbkluZm86IHsgdmVyaWZpY2F0aW9uQ29kZTogc3RyaW5nIH07XG4gIHRlbmFudElkPzogc3RyaW5nO1xuICBtZmFFbnJvbGxtZW50SWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaW5hbGl6ZVBob25lTWZhU2lnbkluUmVzcG9uc2UgZXh0ZW5kcyBGaW5hbGl6ZU1mYVJlc3BvbnNlIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxpemVUb3RwTWZhU2lnbkluUmVzcG9uc2UgZXh0ZW5kcyBGaW5hbGl6ZU1mYVJlc3BvbnNlIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5hbGl6ZVNpZ25JblBob25lTWZhKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBGaW5hbGl6ZVBob25lTWZhU2lnbkluUmVxdWVzdFxuKTogUHJvbWlzZTxGaW5hbGl6ZVBob25lTWZhU2lnbkluUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBGaW5hbGl6ZVBob25lTWZhU2lnbkluUmVxdWVzdCxcbiAgICBGaW5hbGl6ZVBob25lTWZhU2lnbkluUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5GSU5BTElaRV9NRkFfU0lHTl9JTixcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplU2lnbkluVG90cE1mYShcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogRmluYWxpemVUb3RwTWZhU2lnbkluUmVxdWVzdFxuKTogUHJvbWlzZTxGaW5hbGl6ZVRvdHBNZmFTaWduSW5SZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIEZpbmFsaXplVG90cE1mYVNpZ25JblJlcXVlc3QsXG4gICAgRmluYWxpemVUb3RwTWZhU2lnbkluUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5GSU5BTElaRV9NRkFfU0lHTl9JTixcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IHR5cGUgUGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZSA9XG4gIHwgU2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2VcbiAgfCBTaWduSW5XaXRoSWRwUmVzcG9uc2VcbiAgfCBJZFRva2VuUmVzcG9uc2U7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgUmVjYXB0Y2hhUGFyYW1ldGVycyB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQge1xuICBSZWNhcHRjaGEsXG4gIEdyZUNBUFRDSEFUb3BMZXZlbCxcbiAgR3JlQ0FQVENIQVJlbmRlck9wdGlvbixcbiAgR3JlQ0FQVENIQVxufSBmcm9tICcuL3JlY2FwdGNoYSc7XG5cbmV4cG9ydCBjb25zdCBfU09MVkVfVElNRV9NUyA9IDUwMDtcbmV4cG9ydCBjb25zdCBfRVhQSVJBVElPTl9USU1FX01TID0gNjBfMDAwO1xuZXhwb3J0IGNvbnN0IF9XSURHRVRfSURfU1RBUlQgPSAxXzAwMF8wMDBfMDAwXzAwMDtcblxuZXhwb3J0IGludGVyZmFjZSBXaWRnZXQge1xuICBnZXRSZXNwb25zZTogKCkgPT4gc3RyaW5nIHwgbnVsbDtcbiAgZGVsZXRlOiAoKSA9PiB2b2lkO1xuICBleGVjdXRlOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgTW9ja1JlQ2FwdGNoYSBpbXBsZW1lbnRzIFJlY2FwdGNoYSB7XG4gIHByaXZhdGUgY291bnRlciA9IF9XSURHRVRfSURfU1RBUlQ7XG4gIF93aWRnZXRzID0gbmV3IE1hcDxudW1iZXIsIFdpZGdldD4oKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbCkge31cblxuICByZW5kZXIoXG4gICAgY29udGFpbmVyOiBzdHJpbmcgfCBIVE1MRWxlbWVudCxcbiAgICBwYXJhbWV0ZXJzPzogUmVjYXB0Y2hhUGFyYW1ldGVyc1xuICApOiBudW1iZXIge1xuICAgIGNvbnN0IGlkID0gdGhpcy5jb3VudGVyO1xuICAgIHRoaXMuX3dpZGdldHMuc2V0KFxuICAgICAgaWQsXG4gICAgICBuZXcgTW9ja1dpZGdldChjb250YWluZXIsIHRoaXMuYXV0aC5uYW1lLCBwYXJhbWV0ZXJzIHx8IHt9KVxuICAgICk7XG4gICAgdGhpcy5jb3VudGVyKys7XG4gICAgcmV0dXJuIGlkO1xuICB9XG5cbiAgcmVzZXQob3B0V2lkZ2V0SWQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBpZCA9IG9wdFdpZGdldElkIHx8IF9XSURHRVRfSURfU1RBUlQ7XG4gICAgdm9pZCB0aGlzLl93aWRnZXRzLmdldChpZCk/LmRlbGV0ZSgpO1xuICAgIHRoaXMuX3dpZGdldHMuZGVsZXRlKGlkKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlKG9wdFdpZGdldElkPzogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBpZCA9IG9wdFdpZGdldElkIHx8IF9XSURHRVRfSURfU1RBUlQ7XG4gICAgcmV0dXJuIHRoaXMuX3dpZGdldHMuZ2V0KGlkKT8uZ2V0UmVzcG9uc2UoKSB8fCAnJztcbiAgfVxuXG4gIGFzeW5jIGV4ZWN1dGUob3B0V2lkZ2V0SWQ/OiBudW1iZXIgfCBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IGlkOiBudW1iZXIgPSAob3B0V2lkZ2V0SWQgYXMgbnVtYmVyKSB8fCBfV0lER0VUX0lEX1NUQVJUO1xuICAgIHZvaWQgdGhpcy5fd2lkZ2V0cy5nZXQoaWQpPy5leGVjdXRlKCk7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2NrR3JlQ0FQVENIQVRvcExldmVsIGltcGxlbWVudHMgR3JlQ0FQVENIQVRvcExldmVsIHtcbiAgZW50ZXJwcmlzZTogR3JlQ0FQVENIQSA9IG5ldyBNb2NrR3JlQ0FQVENIQSgpO1xuICByZWFkeShjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cblxuICBleGVjdXRlKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBfc2l0ZUtleTogc3RyaW5nLFxuICAgIF9vcHRpb25zOiB7IGFjdGlvbjogc3RyaW5nIH1cbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCd0b2tlbicpO1xuICB9XG4gIHJlbmRlcihcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgX2NvbnRhaW5lcjogc3RyaW5nIHwgSFRNTEVsZW1lbnQsXG4gICAgX3BhcmFtZXRlcnM6IEdyZUNBUFRDSEFSZW5kZXJPcHRpb25cbiAgKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vY2tHcmVDQVBUQ0hBIGltcGxlbWVudHMgR3JlQ0FQVENIQSB7XG4gIHJlYWR5KGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuXG4gIGV4ZWN1dGUoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIF9zaXRlS2V5OiBzdHJpbmcsXG4gICAgX29wdGlvbnM6IHsgYWN0aW9uOiBzdHJpbmcgfVxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ3Rva2VuJyk7XG4gIH1cbiAgcmVuZGVyKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBfY29udGFpbmVyOiBzdHJpbmcgfCBIVE1MRWxlbWVudCxcbiAgICBfcGFyYW1ldGVyczogR3JlQ0FQVENIQVJlbmRlck9wdGlvblxuICApOiBzdHJpbmcge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9ja1dpZGdldCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSByZWFkb25seSBpc1Zpc2libGU6IGJvb2xlYW47XG4gIHByaXZhdGUgdGltZXJJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZGVsZXRlZCA9IGZhbHNlO1xuICBwcml2YXRlIHJlc3BvbnNlVG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlYWRvbmx5IGNsaWNrSGFuZGxlciA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb250YWluZXJPcklkOiBzdHJpbmcgfCBIVE1MRWxlbWVudCxcbiAgICBhcHBOYW1lOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwYXJhbXM6IFJlY2FwdGNoYVBhcmFtZXRlcnNcbiAgKSB7XG4gICAgY29uc3QgY29udGFpbmVyID1cbiAgICAgIHR5cGVvZiBjb250YWluZXJPcklkID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lck9ySWQpXG4gICAgICAgIDogY29udGFpbmVyT3JJZDtcbiAgICBfYXNzZXJ0KGNvbnRhaW5lciwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUiwgeyBhcHBOYW1lIH0pO1xuXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5pc1Zpc2libGUgPSB0aGlzLnBhcmFtcy5zaXplICE9PSAnaW52aXNpYmxlJztcbiAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcbiAgICAgIHRoaXMuZXhlY3V0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyKTtcbiAgICB9XG4gIH1cblxuICBnZXRSZXNwb25zZSgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICB0aGlzLmNoZWNrSWZEZWxldGVkKCk7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VUb2tlbjtcbiAgfVxuXG4gIGRlbGV0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNoZWNrSWZEZWxldGVkKCk7XG4gICAgdGhpcy5kZWxldGVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy50aW1lcklkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcbiAgICAgIHRoaXMudGltZXJJZCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpO1xuICB9XG5cbiAgZXhlY3V0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNoZWNrSWZEZWxldGVkKCk7XG4gICAgaWYgKHRoaXMudGltZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudGltZXJJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMucmVzcG9uc2VUb2tlbiA9IGdlbmVyYXRlUmFuZG9tQWxwaGFOdW1lcmljU3RyaW5nKDUwKTtcbiAgICAgIGNvbnN0IHsgY2FsbGJhY2ssICdleHBpcmVkLWNhbGxiYWNrJzogZXhwaXJlZENhbGxiYWNrIH0gPSB0aGlzLnBhcmFtcztcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGxiYWNrKHRoaXMucmVzcG9uc2VUb2tlbik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGltZXJJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy50aW1lcklkID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNwb25zZVRva2VuID0gbnVsbDtcbiAgICAgICAgaWYgKGV4cGlyZWRDYWxsYmFjaykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleHBpcmVkQ2FsbGJhY2soKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgdGhpcy5leGVjdXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9FWFBJUkFUSU9OX1RJTUVfTVMpO1xuICAgIH0sIF9TT0xWRV9USU1FX01TKTtcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tJZkRlbGV0ZWQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGVsZXRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZUNBUFRDSEEgbW9jayB3YXMgYWxyZWFkeSBkZWxldGVkIScpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUFscGhhTnVtZXJpY1N0cmluZyhsZW46IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IGNoYXJzID0gW107XG4gIGNvbnN0IGFsbG93ZWRDaGFycyA9XG4gICAgJzEyMzQ1Njc4OTBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNoYXJzLnB1c2goXG4gICAgICBhbGxvd2VkQ2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFsbG93ZWRDaGFycy5sZW5ndGgpKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IHF1ZXJ5c3RyaW5nIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCwgX2NyZWF0ZUVycm9yIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBEZWxheSB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9kZWxheSc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IF93aW5kb3cgfSBmcm9tICcuLi9hdXRoX3dpbmRvdyc7XG5pbXBvcnQgKiBhcyBqc0hlbHBlcnMgZnJvbSAnLi4vbG9hZF9qcyc7XG5pbXBvcnQgeyBSZWNhcHRjaGEsIGlzVjIgfSBmcm9tICcuL3JlY2FwdGNoYSc7XG5pbXBvcnQgeyBNb2NrUmVDYXB0Y2hhIH0gZnJvbSAnLi9yZWNhcHRjaGFfbW9jayc7XG5cbi8vIFJlQ2FwdGNoYSB3aWxsIGxvYWQgdXNpbmcgdGhlIHNhbWUgY2FsbGJhY2ssIHNvIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBuZWVkc1xuLy8gdG8gYmUga2VwdCBhcm91bmRcbmV4cG9ydCBjb25zdCBfSlNMT0FEX0NBTExCQUNLID0ganNIZWxwZXJzLl9nZW5lcmF0ZUNhbGxiYWNrTmFtZSgncmNiJyk7XG5jb25zdCBORVRXT1JLX1RJTUVPVVRfREVMQVkgPSBuZXcgRGVsYXkoMzAwMDAsIDYwMDAwKTtcblxuLyoqXG4gKiBXZSBuZWVkIHRvIG1hcmsgdGhpcyBpbnRlcmZhY2UgYXMgaW50ZXJuYWwgZXhwbGljaXRseSB0byBleGNsdWRlIGl0IGluIHRoZSBwdWJsaWMgdHlwaW5ncywgYmVjYXVzZVxuICogaXQgcmVmZXJlbmNlcyBBdXRoSW50ZXJuYWwgd2hpY2ggaGFzIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSB3aXRoIFVzZXJJbnRlcm5hbC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZUNhcHRjaGFMb2FkZXIge1xuICBsb2FkKGF1dGg6IEF1dGhJbnRlcm5hbCwgaGw/OiBzdHJpbmcpOiBQcm9taXNlPFJlY2FwdGNoYT47XG4gIGNsZWFyZWRPbmVJbnN0YW5jZSgpOiB2b2lkO1xufVxuXG4vKipcbiAqIExvYWRlciBmb3IgdGhlIEdSZUNhcHRjaGEgbGlicmFyeS4gVGhlcmUgc2hvdWxkIG9ubHkgZXZlciBiZSBvbmUgb2YgdGhpcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlQ2FwdGNoYUxvYWRlckltcGwgaW1wbGVtZW50cyBSZUNhcHRjaGFMb2FkZXIge1xuICBwcml2YXRlIGhvc3RMYW5ndWFnZSA9ICcnO1xuICBwcml2YXRlIGNvdW50ZXIgPSAwO1xuICAvKipcbiAgICogQ2hlY2sgZm9yIGByZW5kZXIoKWAgbWV0aG9kLiBgd2luZG93LmdyZWNhcHRjaGFgIHdpbGwgZXhpc3QgaWYgdGhlIEVudGVycHJpc2VcbiAgICogdmVyc2lvbiBvZiB0aGUgUmVDQVBUQ0hBIHNjcmlwdCB3YXMgbG9hZGVkIGJ5IHNvbWVvbmUgZWxzZSAoZS5nLiBBcHAgQ2hlY2spIGJ1dFxuICAgKiBgd2luZG93LmdyZWNhcHRjaGEucmVuZGVyKClgIHdpbGwgbm90LiBBbm90aGVyIGxvYWQgd2lsbCBhZGQgaXQuXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGxpYnJhcnlTZXBhcmF0ZWx5TG9hZGVkID0gISFfd2luZG93KCkuZ3JlY2FwdGNoYT8ucmVuZGVyO1xuXG4gIGxvYWQoYXV0aDogQXV0aEludGVybmFsLCBobCA9ICcnKTogUHJvbWlzZTxSZWNhcHRjaGE+IHtcbiAgICBfYXNzZXJ0KGlzSG9zdExhbmd1YWdlVmFsaWQoaGwpLCBhdXRoLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcblxuICAgIGlmICh0aGlzLnNob3VsZFJlc29sdmVJbW1lZGlhdGVseShobCkgJiYgaXNWMihfd2luZG93KCkuZ3JlY2FwdGNoYSkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoX3dpbmRvdygpLmdyZWNhcHRjaGEhIGFzIFJlY2FwdGNoYSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxSZWNhcHRjaGE+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IG5ldHdvcmtUaW1lb3V0ID0gX3dpbmRvdygpLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZWplY3QoX2NyZWF0ZUVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuTkVUV09SS19SRVFVRVNUX0ZBSUxFRCkpO1xuICAgICAgfSwgTkVUV09SS19USU1FT1VUX0RFTEFZLmdldCgpKTtcblxuICAgICAgX3dpbmRvdygpW19KU0xPQURfQ0FMTEJBQ0tdID0gKCkgPT4ge1xuICAgICAgICBfd2luZG93KCkuY2xlYXJUaW1lb3V0KG5ldHdvcmtUaW1lb3V0KTtcbiAgICAgICAgZGVsZXRlIF93aW5kb3coKVtfSlNMT0FEX0NBTExCQUNLXTtcblxuICAgICAgICBjb25zdCByZWNhcHRjaGEgPSBfd2luZG93KCkuZ3JlY2FwdGNoYSBhcyBSZWNhcHRjaGE7XG5cbiAgICAgICAgaWYgKCFyZWNhcHRjaGEgfHwgIWlzVjIocmVjYXB0Y2hhKSkge1xuICAgICAgICAgIHJlamVjdChfY3JlYXRlRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUikpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdyYXAgdGhlIHJlY2FwdGNoYSByZW5kZXIgZnVuY3Rpb24gc28gdGhhdCB3ZSBrbm93IGlmIHRoZSBkZXZlbG9wZXIgaGFzXG4gICAgICAgIC8vIGNhbGxlZCBpdCBzZXBhcmF0ZWx5XG4gICAgICAgIGNvbnN0IHJlbmRlciA9IHJlY2FwdGNoYS5yZW5kZXI7XG4gICAgICAgIHJlY2FwdGNoYS5yZW5kZXIgPSAoY29udGFpbmVyLCBwYXJhbXMpID0+IHtcbiAgICAgICAgICBjb25zdCB3aWRnZXRJZCA9IHJlbmRlcihjb250YWluZXIsIHBhcmFtcyk7XG4gICAgICAgICAgdGhpcy5jb3VudGVyKys7XG4gICAgICAgICAgcmV0dXJuIHdpZGdldElkO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuaG9zdExhbmd1YWdlID0gaGw7XG4gICAgICAgIHJlc29sdmUocmVjYXB0Y2hhKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVybCA9IGAke2pzSGVscGVycy5fcmVjYXB0Y2hhVjJTY3JpcHRVcmwoKX0/JHtxdWVyeXN0cmluZyh7XG4gICAgICAgIG9ubG9hZDogX0pTTE9BRF9DQUxMQkFDSyxcbiAgICAgICAgcmVuZGVyOiAnZXhwbGljaXQnLFxuICAgICAgICBobFxuICAgICAgfSl9YDtcblxuICAgICAganNIZWxwZXJzLl9sb2FkSlModXJsKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChuZXR3b3JrVGltZW91dCk7XG4gICAgICAgIHJlamVjdChfY3JlYXRlRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUikpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjbGVhcmVkT25lSW5zdGFuY2UoKTogdm9pZCB7XG4gICAgdGhpcy5jb3VudGVyLS07XG4gIH1cblxuICBwcml2YXRlIHNob3VsZFJlc29sdmVJbW1lZGlhdGVseShobDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgLy8gV2UgY2FuIHJlc29sdmUgaW1tZWRpYXRlbHkgaWY6XG4gICAgLy8gICDigKIgZ3JlY2FwdGNoYSBpcyBhbHJlYWR5IGRlZmluZWQgQU5EIChcbiAgICAvLyAgICAgMS4gdGhlIHJlcXVlc3RlZCBsYW5ndWFnZSBjb2RlcyBhcmUgdGhlIHNhbWUgT1JcbiAgICAvLyAgICAgMi4gdGhlcmUgZXhpc3RzIGFscmVhZHkgYSBSZUNhcHRjaGEgb24gdGhlIHBhZ2VcbiAgICAvLyAgICAgMy4gdGhlIGxpYnJhcnkgd2FzIGFscmVhZHkgbG9hZGVkIGJ5IHRoZSBhcHBcbiAgICAvLyBJbiBjYXNlcyAoMikgYW5kICgzKSwgd2UgX2Nhbid0XyByZWxvYWQgYXMgaXQgd291bGQgYnJlYWsgdGhlIHJlY2FwdGNoYXNcbiAgICAvLyB0aGF0IGFyZSBhbHJlYWR5IGluIHRoZSBwYWdlXG4gICAgcmV0dXJuIChcbiAgICAgICEhX3dpbmRvdygpLmdyZWNhcHRjaGE/LnJlbmRlciAmJlxuICAgICAgKGhsID09PSB0aGlzLmhvc3RMYW5ndWFnZSB8fFxuICAgICAgICB0aGlzLmNvdW50ZXIgPiAwIHx8XG4gICAgICAgIHRoaXMubGlicmFyeVNlcGFyYXRlbHlMb2FkZWQpXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0hvc3RMYW5ndWFnZVZhbGlkKGhsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIGhsLmxlbmd0aCA8PSA2ICYmIC9eXFxzKlthLXpBLVowLTlcXC1dKlxccyokLy50ZXN0KGhsKTtcbn1cblxuZXhwb3J0IGNsYXNzIE1vY2tSZUNhcHRjaGFMb2FkZXJJbXBsIGltcGxlbWVudHMgUmVDYXB0Y2hhTG9hZGVyIHtcbiAgYXN5bmMgbG9hZChhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPFJlY2FwdGNoYT4ge1xuICAgIHJldHVybiBuZXcgTW9ja1JlQ2FwdGNoYShhdXRoKTtcbiAgfVxuXG4gIGNsZWFyZWRPbmVJbnN0YW5jZSgpOiB2b2lkIHt9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aCwgUmVjYXB0Y2hhUGFyYW1ldGVycyB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBnZXRSZWNhcHRjaGFQYXJhbXMgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vcmVjYXB0Y2hhJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uLy4uL2NvcmUvYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9pc0h0dHBPckh0dHBzIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2xvY2F0aW9uJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2FwcGxpY2F0aW9uX3ZlcmlmaWVyJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgX3dpbmRvdyB9IGZyb20gJy4uL2F1dGhfd2luZG93JztcbmltcG9ydCB7IF9pc1dvcmtlciB9IGZyb20gJy4uL3V0aWwvd29ya2VyJztcbmltcG9ydCB7IFJlY2FwdGNoYSB9IGZyb20gJy4vcmVjYXB0Y2hhJztcbmltcG9ydCB7XG4gIE1vY2tSZUNhcHRjaGFMb2FkZXJJbXBsLFxuICBSZUNhcHRjaGFMb2FkZXIsXG4gIFJlQ2FwdGNoYUxvYWRlckltcGxcbn0gZnJvbSAnLi9yZWNhcHRjaGFfbG9hZGVyJztcblxuZXhwb3J0IGNvbnN0IFJFQ0FQVENIQV9WRVJJRklFUl9UWVBFID0gJ3JlY2FwdGNoYSc7XG5cbmNvbnN0IERFRkFVTFRfUEFSQU1TOiBSZWNhcHRjaGFQYXJhbWV0ZXJzID0ge1xuICB0aGVtZTogJ2xpZ2h0JyxcbiAgdHlwZTogJ2ltYWdlJ1xufTtcblxudHlwZSBUb2tlbkNhbGxiYWNrID0gKHRva2VuOiBzdHJpbmcpID0+IHZvaWQ7XG5cbi8qKlxuICogQW4ge0BsaW5rIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhLyB8IHJlQ0FQVENIQX0tYmFzZWQgYXBwbGljYXRpb24gdmVyaWZpZXIuXG4gKlxuICogQHJlbWFya3NcbiAqIGBSZWNhcHRjaGFWZXJpZmllcmAgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUmVjYXB0Y2hhVmVyaWZpZXIgaW1wbGVtZW50cyBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWwge1xuICAvKipcbiAgICogVGhlIGFwcGxpY2F0aW9uIHZlcmlmaWVyIHR5cGUuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIEZvciBhIHJlQ0FQVENIQSB2ZXJpZmllciwgdGhpcyBpcyAncmVjYXB0Y2hhJy5cbiAgICovXG4gIHJlYWRvbmx5IHR5cGUgPSBSRUNBUFRDSEFfVkVSSUZJRVJfVFlQRTtcbiAgcHJpdmF0ZSBkZXN0cm95ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSB3aWRnZXRJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSByZWFkb25seSBpc0ludmlzaWJsZTogYm9vbGVhbjtcbiAgcHJpdmF0ZSByZWFkb25seSB0b2tlbkNoYW5nZUxpc3RlbmVycyA9IG5ldyBTZXQ8VG9rZW5DYWxsYmFjaz4oKTtcbiAgcHJpdmF0ZSByZW5kZXJQcm9taXNlOiBQcm9taXNlPG51bWJlcj4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWw7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICByZWFkb25seSBfcmVjYXB0Y2hhTG9hZGVyOiBSZUNhcHRjaGFMb2FkZXI7XG4gIHByaXZhdGUgcmVjYXB0Y2hhOiBSZWNhcHRjaGEgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogQHBhcmFtIGF1dGhFeHRlcm4gLSBUaGUgY29ycmVzcG9uZGluZyBGaXJlYmFzZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBjb250YWluZXJPcklkIC0gVGhlIHJlQ0FQVENIQSBjb250YWluZXIgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGlzIGhhcyBkaWZmZXJlbnQgbWVhbmluZyBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgcmVDQVBUQ0hBIGlzIGhpZGRlbiBvciB2aXNpYmxlLiBGb3IgYVxuICAgKiB2aXNpYmxlIHJlQ0FQVENIQSB0aGUgY29udGFpbmVyIG11c3QgYmUgZW1wdHkuIElmIGEgc3RyaW5nIGlzIHVzZWQsIGl0IGhhcyB0byBjb3JyZXNwb25kIHRvXG4gICAqIGFuIGVsZW1lbnQgSUQuIFRoZSBjb3JyZXNwb25kaW5nIGVsZW1lbnQgbXVzdCBhbHNvIG11c3QgYmUgaW4gdGhlIERPTSBhdCB0aGUgdGltZSBvZlxuICAgKiBpbml0aWFsaXphdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSBUaGUgb3B0aW9uYWwgcmVDQVBUQ0hBIHBhcmFtZXRlcnMuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIENoZWNrIHRoZSByZUNBUFRDSEEgZG9jcyBmb3IgYSBjb21wcmVoZW5zaXZlIGxpc3QuIEFsbCBwYXJhbWV0ZXJzIGFyZSBhY2NlcHRlZCBleGNlcHQgZm9yXG4gICAqIHRoZSBzaXRla2V5LiBGaXJlYmFzZSBBdXRoIGJhY2tlbmQgcHJvdmlzaW9ucyBhIHJlQ0FQVENIQSBmb3IgZWFjaCBwcm9qZWN0IGFuZCB3aWxsXG4gICAqIGNvbmZpZ3VyZSB0aGlzIHVwb24gcmVuZGVyaW5nLiBGb3IgYW4gaW52aXNpYmxlIHJlQ0FQVENIQSwgYSBzaXplIGtleSBtdXN0IGhhdmUgdGhlIHZhbHVlXG4gICAqICdpbnZpc2libGUnLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgYXV0aEV4dGVybjogQXV0aCxcbiAgICBjb250YWluZXJPcklkOiBIVE1MRWxlbWVudCB8IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhcmFtZXRlcnM6IFJlY2FwdGNoYVBhcmFtZXRlcnMgPSB7XG4gICAgICAuLi5ERUZBVUxUX1BBUkFNU1xuICAgIH1cbiAgKSB7XG4gICAgdGhpcy5hdXRoID0gX2Nhc3RBdXRoKGF1dGhFeHRlcm4pO1xuICAgIHRoaXMuaXNJbnZpc2libGUgPSB0aGlzLnBhcmFtZXRlcnMuc2l6ZSA9PT0gJ2ludmlzaWJsZSc7XG4gICAgX2Fzc2VydChcbiAgICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICB0aGlzLmF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfU1VQUE9SVEVEXG4gICAgKTtcbiAgICBjb25zdCBjb250YWluZXIgPVxuICAgICAgdHlwZW9mIGNvbnRhaW5lck9ySWQgPT09ICdzdHJpbmcnXG4gICAgICAgID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVyT3JJZClcbiAgICAgICAgOiBjb250YWluZXJPcklkO1xuICAgIF9hc3NlcnQoY29udGFpbmVyLCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5wYXJhbWV0ZXJzLmNhbGxiYWNrID0gdGhpcy5tYWtlVG9rZW5DYWxsYmFjayh0aGlzLnBhcmFtZXRlcnMuY2FsbGJhY2spO1xuXG4gICAgdGhpcy5fcmVjYXB0Y2hhTG9hZGVyID0gdGhpcy5hdXRoLnNldHRpbmdzLmFwcFZlcmlmaWNhdGlvbkRpc2FibGVkRm9yVGVzdGluZ1xuICAgICAgPyBuZXcgTW9ja1JlQ2FwdGNoYUxvYWRlckltcGwoKVxuICAgICAgOiBuZXcgUmVDYXB0Y2hhTG9hZGVySW1wbCgpO1xuXG4gICAgdGhpcy52YWxpZGF0ZVN0YXJ0aW5nU3RhdGUoKTtcbiAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IGlmIHNkayB2ZXJzaW9uIGlzIG5lZWRlZFxuICB9XG5cbiAgLyoqXG4gICAqIFdhaXRzIGZvciB0aGUgdXNlciB0byBzb2x2ZSB0aGUgcmVDQVBUQ0hBIGFuZCByZXNvbHZlcyB3aXRoIHRoZSByZUNBUFRDSEEgdG9rZW4uXG4gICAqXG4gICAqIEByZXR1cm5zIEEgUHJvbWlzZSBmb3IgdGhlIHJlQ0FQVENIQSB0b2tlbi5cbiAgICovXG4gIGFzeW5jIHZlcmlmeSgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG4gICAgY29uc3QgaWQgPSBhd2FpdCB0aGlzLnJlbmRlcigpO1xuICAgIGNvbnN0IHJlY2FwdGNoYSA9IHRoaXMuZ2V0QXNzZXJ0ZWRSZWNhcHRjaGEoKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gcmVjYXB0Y2hhLmdldFJlc3BvbnNlKGlkKTtcbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPihyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IHRva2VuQ2hhbmdlID0gKHRva2VuOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgIHJldHVybjsgLy8gSWdub3JlIHRva2VuIGV4cGlyYXRpb25zLlxuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9rZW5DaGFuZ2VMaXN0ZW5lcnMuZGVsZXRlKHRva2VuQ2hhbmdlKTtcbiAgICAgICAgcmVzb2x2ZSh0b2tlbik7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnRva2VuQ2hhbmdlTGlzdGVuZXJzLmFkZCh0b2tlbkNoYW5nZSk7XG4gICAgICBpZiAodGhpcy5pc0ludmlzaWJsZSkge1xuICAgICAgICByZWNhcHRjaGEuZXhlY3V0ZShpZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVycyB0aGUgcmVDQVBUQ0hBIHdpZGdldCBvbiB0aGUgcGFnZS5cbiAgICpcbiAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVDQVBUQ0hBIHdpZGdldCBJRC5cbiAgICovXG4gIHJlbmRlcigpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmFzc2VydE5vdERlc3Ryb3llZCgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFRoaXMgbWV0aG9kIHJldHVybnMgYSBwcm9taXNlLiBTaW5jZSBpdCdzIG5vdCBhc3luYyAod2Ugd2FudCB0byByZXR1cm4gdGhlXG4gICAgICAvLyBfc2FtZV8gcHJvbWlzZSBpZiByZW5kZXJpbmcgaXMgc3RpbGwgb2NjdXJyaW5nKSwgdGhlIEFQSSBzdXJmYWNlIHNob3VsZFxuICAgICAgLy8gcmVqZWN0IHdpdGggdGhlIGVycm9yIHJhdGhlciB0aGFuIGp1c3QgdGhyb3dcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZW5kZXJQcm9taXNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJQcm9taXNlO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyUHJvbWlzZSA9IHRoaXMubWFrZVJlbmRlclByb21pc2UoKS5jYXRjaChlID0+IHtcbiAgICAgIHRoaXMucmVuZGVyUHJvbWlzZSA9IG51bGw7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMucmVuZGVyUHJvbWlzZTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3Jlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG4gICAgaWYgKHRoaXMud2lkZ2V0SWQgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuZ2V0QXNzZXJ0ZWRSZWNhcHRjaGEoKS5yZXNldCh0aGlzLndpZGdldElkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSByZUNBUFRDSEEgd2lkZ2V0IGZyb20gdGhlIHBhZ2UgYW5kIGRlc3Ryb3lzIHRoZSBpbnN0YW5jZS5cbiAgICovXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIHRoaXMuX3JlY2FwdGNoYUxvYWRlci5jbGVhcmVkT25lSW5zdGFuY2UoKTtcbiAgICBpZiAoIXRoaXMuaXNJbnZpc2libGUpIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLmNoaWxkTm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHZhbGlkYXRlU3RhcnRpbmdTdGF0ZSgpOiB2b2lkIHtcbiAgICBfYXNzZXJ0KCF0aGlzLnBhcmFtZXRlcnMuc2l0ZWtleSwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcbiAgICBfYXNzZXJ0KFxuICAgICAgdGhpcy5pc0ludmlzaWJsZSB8fCAhdGhpcy5jb250YWluZXIuaGFzQ2hpbGROb2RlcygpLFxuICAgICAgdGhpcy5hdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICAgICk7XG4gICAgX2Fzc2VydChcbiAgICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICB0aGlzLmF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfU1VQUE9SVEVEXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgbWFrZVRva2VuQ2FsbGJhY2soXG4gICAgZXhpc3Rpbmc6IFRva2VuQ2FsbGJhY2sgfCBzdHJpbmcgfCB1bmRlZmluZWRcbiAgKTogVG9rZW5DYWxsYmFjayB7XG4gICAgcmV0dXJuIHRva2VuID0+IHtcbiAgICAgIHRoaXMudG9rZW5DaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcih0b2tlbikpO1xuICAgICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBleGlzdGluZyh0b2tlbik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgZ2xvYmFsRnVuYyA9IF93aW5kb3coKVtleGlzdGluZ107XG4gICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsRnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGdsb2JhbEZ1bmModG9rZW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgYXNzZXJ0Tm90RGVzdHJveWVkKCk6IHZvaWQge1xuICAgIF9hc3NlcnQoIXRoaXMuZGVzdHJveWVkLCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBtYWtlUmVuZGVyUHJvbWlzZSgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgIGlmICghdGhpcy53aWRnZXRJZCkge1xuICAgICAgbGV0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgaWYgKCF0aGlzLmlzSW52aXNpYmxlKSB7XG4gICAgICAgIGNvbnN0IGd1YXJhbnRlZWRFbXB0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZ3VhcmFudGVlZEVtcHR5KTtcbiAgICAgICAgY29udGFpbmVyID0gZ3VhcmFudGVlZEVtcHR5O1xuICAgICAgfVxuXG4gICAgICB0aGlzLndpZGdldElkID0gdGhpcy5nZXRBc3NlcnRlZFJlY2FwdGNoYSgpLnJlbmRlcihcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICB0aGlzLnBhcmFtZXRlcnNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMud2lkZ2V0SWQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgX2Fzc2VydChcbiAgICAgIF9pc0h0dHBPckh0dHBzKCkgJiYgIV9pc1dvcmtlcigpLFxuICAgICAgdGhpcy5hdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgICk7XG5cbiAgICBhd2FpdCBkb21SZWFkeSgpO1xuICAgIHRoaXMucmVjYXB0Y2hhID0gYXdhaXQgdGhpcy5fcmVjYXB0Y2hhTG9hZGVyLmxvYWQoXG4gICAgICB0aGlzLmF1dGgsXG4gICAgICB0aGlzLmF1dGgubGFuZ3VhZ2VDb2RlIHx8IHVuZGVmaW5lZFxuICAgICk7XG5cbiAgICBjb25zdCBzaXRlS2V5ID0gYXdhaXQgZ2V0UmVjYXB0Y2hhUGFyYW1zKHRoaXMuYXV0aCk7XG4gICAgX2Fzc2VydChzaXRlS2V5LCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIHRoaXMucGFyYW1ldGVycy5zaXRla2V5ID0gc2l0ZUtleTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QXNzZXJ0ZWRSZWNhcHRjaGEoKTogUmVjYXB0Y2hhIHtcbiAgICBfYXNzZXJ0KHRoaXMucmVjYXB0Y2hhLCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIHJldHVybiB0aGlzLnJlY2FwdGNoYTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkb21SZWFkeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgbGV0IHJlc29sdmVyOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4ge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9jdW1lbnQgbm90IHJlYWR5LCB3YWl0IGZvciBsb2FkIGJlZm9yZSByZXNvbHZpbmcuXG4gICAgLy8gU2F2ZSByZXNvbHZlciwgc28gd2UgY2FuIHJlbW92ZSBsaXN0ZW5lciBpbiBjYXNlIGl0IHdhcyBleHRlcm5hbGx5XG4gICAgLy8gY2FuY2VsbGVkLlxuICAgIHJlc29sdmVyID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgcmVzb2x2ZXIpO1xuICB9KS5jYXRjaChlID0+IHtcbiAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgcmVzb2x2ZXIpO1xuICAgIH1cblxuICAgIHRocm93IGU7XG4gIH0pO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEFwcGxpY2F0aW9uVmVyaWZpZXIsXG4gIEF1dGgsXG4gIENvbmZpcm1hdGlvblJlc3VsdCxcbiAgUGhvbmVJbmZvT3B0aW9ucyxcbiAgVXNlcixcbiAgVXNlckNyZWRlbnRpYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgc3RhcnRFbnJvbGxQaG9uZU1mYSB9IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvbWZhJztcbmltcG9ydCB7IHN0YXJ0U2lnbkluUGhvbmVNZmEgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IHNlbmRQaG9uZVZlcmlmaWNhdGlvbkNvZGUgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vc21zJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2FwcGxpY2F0aW9uX3ZlcmlmaWVyJztcbmltcG9ydCB7IFBob25lQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9jb3JlL2NyZWRlbnRpYWxzL3Bob25lJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0TGlua2VkU3RhdHVzLCBfbGluayB9IGZyb20gJy4uLy4uL2NvcmUvdXNlci9saW5rX3VubGluayc7XG5pbXBvcnQge1xuICBfYXNzZXJ0LFxuICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvclxufSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHtcbiAgbGlua1dpdGhDcmVkZW50aWFsLFxuICByZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsLFxuICBzaWduSW5XaXRoQ3JlZGVudGlhbFxufSBmcm9tICcuLi8uLi9jb3JlL3N0cmF0ZWdpZXMvY3JlZGVudGlhbCc7XG5pbXBvcnQge1xuICBNdWx0aUZhY3RvclNlc3Npb25JbXBsLFxuICBNdWx0aUZhY3RvclNlc3Npb25UeXBlXG59IGZyb20gJy4uLy4uL21mYS9tZmFfc2Vzc2lvbic7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IFJFQ0FQVENIQV9WRVJJRklFUl9UWVBFIH0gZnJvbSAnLi4vcmVjYXB0Y2hhL3JlY2FwdGNoYV92ZXJpZmllcic7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi8uLi9jb3JlL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IFByb3ZpZGVySWQgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG5pbnRlcmZhY2UgT25Db25maXJtYXRpb25DYWxsYmFjayB7XG4gIChjcmVkZW50aWFsOiBQaG9uZUF1dGhDcmVkZW50aWFsKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD47XG59XG5cbmNsYXNzIENvbmZpcm1hdGlvblJlc3VsdEltcGwgaW1wbGVtZW50cyBDb25maXJtYXRpb25SZXN1bHQge1xuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSB2ZXJpZmljYXRpb25JZDogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgb25Db25maXJtYXRpb246IE9uQ29uZmlybWF0aW9uQ2FsbGJhY2tcbiAgKSB7fVxuXG4gIGNvbmZpcm0odmVyaWZpY2F0aW9uQ29kZTogc3RyaW5nKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICAgIGNvbnN0IGF1dGhDcmVkZW50aWFsID0gUGhvbmVBdXRoQ3JlZGVudGlhbC5fZnJvbVZlcmlmaWNhdGlvbihcbiAgICAgIHRoaXMudmVyaWZpY2F0aW9uSWQsXG4gICAgICB2ZXJpZmljYXRpb25Db2RlXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5vbkNvbmZpcm1hdGlvbihhdXRoQ3JlZGVudGlhbCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzaWducyBpbiB1c2luZyBhIHBob25lIG51bWJlci5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBtZXRob2Qgc2VuZHMgYSBjb2RlIHZpYSBTTVMgdG8gdGhlIGdpdmVuXG4gKiBwaG9uZSBudW1iZXIsIGFuZCByZXR1cm5zIGEge0BsaW5rIENvbmZpcm1hdGlvblJlc3VsdH0uIEFmdGVyIHRoZSB1c2VyXG4gKiBwcm92aWRlcyB0aGUgY29kZSBzZW50IHRvIHRoZWlyIHBob25lLCBjYWxsIHtAbGluayBDb25maXJtYXRpb25SZXN1bHQuY29uZmlybX1cbiAqIHdpdGggdGhlIGNvZGUgdG8gc2lnbiB0aGUgdXNlciBpbi5cbiAqXG4gKiBGb3IgYWJ1c2UgcHJldmVudGlvbiwgdGhpcyBtZXRob2QgYWxzbyByZXF1aXJlcyBhIHtAbGluayBBcHBsaWNhdGlvblZlcmlmaWVyfS5cbiAqIFRoaXMgU0RLIGluY2x1ZGVzIGEgcmVDQVBUQ0hBLWJhc2VkIGltcGxlbWVudGF0aW9uLCB7QGxpbmsgUmVjYXB0Y2hhVmVyaWZpZXJ9LlxuICogVGhpcyBmdW5jdGlvbiBjYW4gd29yayBvbiBvdGhlciBwbGF0Zm9ybXMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGVcbiAqIHtAbGluayBSZWNhcHRjaGFWZXJpZmllcn0gKGxpa2UgUmVhY3QgTmF0aXZlKSwgYnV0IHlvdSBuZWVkIHRvIHVzZSBhXG4gKiB0aGlyZC1wYXJ0eSB7QGxpbmsgQXBwbGljYXRpb25WZXJpZmllcn0gaW1wbGVtZW50YXRpb24uXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igd2l0aCB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vICdyZWNhcHRjaGEtY29udGFpbmVyJyBpcyB0aGUgSUQgb2YgYW4gZWxlbWVudCBpbiB0aGUgRE9NLlxuICogY29uc3QgYXBwbGljYXRpb25WZXJpZmllciA9IG5ldyBmaXJlYmFzZS5hdXRoLlJlY2FwdGNoYVZlcmlmaWVyKCdyZWNhcHRjaGEtY29udGFpbmVyJyk7XG4gKiBjb25zdCBjb25maXJtYXRpb25SZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUGhvbmVOdW1iZXIoYXV0aCwgcGhvbmVOdW1iZXIsIGFwcGxpY2F0aW9uVmVyaWZpZXIpO1xuICogLy8gT2J0YWluIGEgdmVyaWZpY2F0aW9uQ29kZSBmcm9tIHRoZSB1c2VyLlxuICogY29uc3QgY3JlZGVudGlhbCA9IGF3YWl0IGNvbmZpcm1hdGlvblJlc3VsdC5jb25maXJtKHZlcmlmaWNhdGlvbkNvZGUpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIHBob25lTnVtYmVyIC0gVGhlIHVzZXIncyBwaG9uZSBudW1iZXIgaW4gRS4xNjQgZm9ybWF0IChlLmcuICsxNjUwNTU1MDEwMSkuXG4gKiBAcGFyYW0gYXBwVmVyaWZpZXIgLSBUaGUge0BsaW5rIEFwcGxpY2F0aW9uVmVyaWZpZXJ9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhQaG9uZU51bWJlcihcbiAgYXV0aDogQXV0aCxcbiAgcGhvbmVOdW1iZXI6IHN0cmluZyxcbiAgYXBwVmVyaWZpZXI6IEFwcGxpY2F0aW9uVmVyaWZpZXJcbik6IFByb21pc2U8Q29uZmlybWF0aW9uUmVzdWx0PiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBjb25zdCB2ZXJpZmljYXRpb25JZCA9IGF3YWl0IF92ZXJpZnlQaG9uZU51bWJlcihcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgcGhvbmVOdW1iZXIsXG4gICAgZ2V0TW9kdWxhckluc3RhbmNlKGFwcFZlcmlmaWVyIGFzIEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbClcbiAgKTtcbiAgcmV0dXJuIG5ldyBDb25maXJtYXRpb25SZXN1bHRJbXBsKHZlcmlmaWNhdGlvbklkLCBjcmVkID0+XG4gICAgc2lnbkluV2l0aENyZWRlbnRpYWwoYXV0aEludGVybmFsLCBjcmVkKVxuICApO1xufVxuXG4vKipcbiAqIExpbmtzIHRoZSB1c2VyIGFjY291bnQgd2l0aCB0aGUgZ2l2ZW4gcGhvbmUgbnVtYmVyLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIHBob25lTnVtYmVyIC0gVGhlIHVzZXIncyBwaG9uZSBudW1iZXIgaW4gRS4xNjQgZm9ybWF0IChlLmcuICsxNjUwNTU1MDEwMSkuXG4gKiBAcGFyYW0gYXBwVmVyaWZpZXIgLSBUaGUge0BsaW5rIEFwcGxpY2F0aW9uVmVyaWZpZXJ9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpbmtXaXRoUGhvbmVOdW1iZXIoXG4gIHVzZXI6IFVzZXIsXG4gIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gIGFwcFZlcmlmaWVyOiBBcHBsaWNhdGlvblZlcmlmaWVyXG4pOiBQcm9taXNlPENvbmZpcm1hdGlvblJlc3VsdD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBhd2FpdCBfYXNzZXJ0TGlua2VkU3RhdHVzKGZhbHNlLCB1c2VySW50ZXJuYWwsIFByb3ZpZGVySWQuUEhPTkUpO1xuICBjb25zdCB2ZXJpZmljYXRpb25JZCA9IGF3YWl0IF92ZXJpZnlQaG9uZU51bWJlcihcbiAgICB1c2VySW50ZXJuYWwuYXV0aCxcbiAgICBwaG9uZU51bWJlcixcbiAgICBnZXRNb2R1bGFySW5zdGFuY2UoYXBwVmVyaWZpZXIgYXMgQXBwbGljYXRpb25WZXJpZmllckludGVybmFsKVxuICApO1xuICByZXR1cm4gbmV3IENvbmZpcm1hdGlvblJlc3VsdEltcGwodmVyaWZpY2F0aW9uSWQsIGNyZWQgPT5cbiAgICBsaW5rV2l0aENyZWRlbnRpYWwodXNlckludGVybmFsLCBjcmVkKVxuICApO1xufVxuXG4vKipcbiAqIFJlLWF1dGhlbnRpY2F0ZXMgYSB1c2VyIHVzaW5nIGEgZnJlc2ggcGhvbmUgY3JlZGVudGlhbC5cbiAqXG4gKiBAcmVtYXJrc1xuICogVXNlIGJlZm9yZSBvcGVyYXRpb25zIHN1Y2ggYXMge0BsaW5rIHVwZGF0ZVBhc3N3b3JkfSB0aGF0IHJlcXVpcmUgdG9rZW5zIGZyb20gcmVjZW50IHNpZ24taW4gYXR0ZW1wdHMuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igb24gYW55IHtAbGluayBVc2VyfSBzaWduZWQgaW4gYnlcbiAqIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gcGhvbmVOdW1iZXIgLSBUaGUgdXNlcidzIHBob25lIG51bWJlciBpbiBFLjE2NCBmb3JtYXQgKGUuZy4gKzE2NTA1NTUwMTAxKS5cbiAqIEBwYXJhbSBhcHBWZXJpZmllciAtIFRoZSB7QGxpbmsgQXBwbGljYXRpb25WZXJpZmllcn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhdXRoZW50aWNhdGVXaXRoUGhvbmVOdW1iZXIoXG4gIHVzZXI6IFVzZXIsXG4gIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gIGFwcFZlcmlmaWVyOiBBcHBsaWNhdGlvblZlcmlmaWVyXG4pOiBQcm9taXNlPENvbmZpcm1hdGlvblJlc3VsdD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodXNlckludGVybmFsLmF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKHVzZXJJbnRlcm5hbC5hdXRoKVxuICAgICk7XG4gIH1cbiAgY29uc3QgdmVyaWZpY2F0aW9uSWQgPSBhd2FpdCBfdmVyaWZ5UGhvbmVOdW1iZXIoXG4gICAgdXNlckludGVybmFsLmF1dGgsXG4gICAgcGhvbmVOdW1iZXIsXG4gICAgZ2V0TW9kdWxhckluc3RhbmNlKGFwcFZlcmlmaWVyIGFzIEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbClcbiAgKTtcbiAgcmV0dXJuIG5ldyBDb25maXJtYXRpb25SZXN1bHRJbXBsKHZlcmlmaWNhdGlvbklkLCBjcmVkID0+XG4gICAgcmVhdXRoZW50aWNhdGVXaXRoQ3JlZGVudGlhbCh1c2VySW50ZXJuYWwsIGNyZWQpXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHZlcmlmaWNhdGlvbiBJRCB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIFNNUyBjb2RlIHRoYXQgaXMgc2VudC5cbiAqXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfdmVyaWZ5UGhvbmVOdW1iZXIoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgb3B0aW9uczogUGhvbmVJbmZvT3B0aW9ucyB8IHN0cmluZyxcbiAgdmVyaWZpZXI6IEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbFxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgcmVjYXB0Y2hhVG9rZW4gPSBhd2FpdCB2ZXJpZmllci52ZXJpZnkoKTtcblxuICB0cnkge1xuICAgIF9hc3NlcnQoXG4gICAgICB0eXBlb2YgcmVjYXB0Y2hhVG9rZW4gPT09ICdzdHJpbmcnLFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgICApO1xuICAgIF9hc3NlcnQoXG4gICAgICB2ZXJpZmllci50eXBlID09PSBSRUNBUFRDSEFfVkVSSUZJRVJfVFlQRSxcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICAgKTtcblxuICAgIGxldCBwaG9uZUluZm9PcHRpb25zOiBQaG9uZUluZm9PcHRpb25zO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgcGhvbmVJbmZvT3B0aW9ucyA9IHtcbiAgICAgICAgcGhvbmVOdW1iZXI6IG9wdGlvbnNcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBob25lSW5mb09wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cblxuICAgIGlmICgnc2Vzc2lvbicgaW4gcGhvbmVJbmZvT3B0aW9ucykge1xuICAgICAgY29uc3Qgc2Vzc2lvbiA9IHBob25lSW5mb09wdGlvbnMuc2Vzc2lvbiBhcyBNdWx0aUZhY3RvclNlc3Npb25JbXBsO1xuXG4gICAgICBpZiAoJ3Bob25lTnVtYmVyJyBpbiBwaG9uZUluZm9PcHRpb25zKSB7XG4gICAgICAgIF9hc3NlcnQoXG4gICAgICAgICAgc2Vzc2lvbi50eXBlID09PSBNdWx0aUZhY3RvclNlc3Npb25UeXBlLkVOUk9MTCxcbiAgICAgICAgICBhdXRoLFxuICAgICAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdGFydEVucm9sbFBob25lTWZhKGF1dGgsIHtcbiAgICAgICAgICBpZFRva2VuOiBzZXNzaW9uLmNyZWRlbnRpYWwsXG4gICAgICAgICAgcGhvbmVFbnJvbGxtZW50SW5mbzoge1xuICAgICAgICAgICAgcGhvbmVOdW1iZXI6IHBob25lSW5mb09wdGlvbnMucGhvbmVOdW1iZXIsXG4gICAgICAgICAgICByZWNhcHRjaGFUb2tlblxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5waG9uZVNlc3Npb25JbmZvLnNlc3Npb25JbmZvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2Fzc2VydChcbiAgICAgICAgICBzZXNzaW9uLnR5cGUgPT09IE11bHRpRmFjdG9yU2Vzc2lvblR5cGUuU0lHTl9JTixcbiAgICAgICAgICBhdXRoLFxuICAgICAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbWZhRW5yb2xsbWVudElkID1cbiAgICAgICAgICBwaG9uZUluZm9PcHRpb25zLm11bHRpRmFjdG9ySGludD8udWlkIHx8XG4gICAgICAgICAgcGhvbmVJbmZvT3B0aW9ucy5tdWx0aUZhY3RvclVpZDtcbiAgICAgICAgX2Fzc2VydChtZmFFbnJvbGxtZW50SWQsIGF1dGgsIEF1dGhFcnJvckNvZGUuTUlTU0lOR19NRkFfSU5GTyk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3RhcnRTaWduSW5QaG9uZU1mYShhdXRoLCB7XG4gICAgICAgICAgbWZhUGVuZGluZ0NyZWRlbnRpYWw6IHNlc3Npb24uY3JlZGVudGlhbCxcbiAgICAgICAgICBtZmFFbnJvbGxtZW50SWQsXG4gICAgICAgICAgcGhvbmVTaWduSW5JbmZvOiB7XG4gICAgICAgICAgICByZWNhcHRjaGFUb2tlblxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5waG9uZVJlc3BvbnNlSW5mby5zZXNzaW9uSW5mbztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgeyBzZXNzaW9uSW5mbyB9ID0gYXdhaXQgc2VuZFBob25lVmVyaWZpY2F0aW9uQ29kZShhdXRoLCB7XG4gICAgICAgIHBob25lTnVtYmVyOiBwaG9uZUluZm9PcHRpb25zLnBob25lTnVtYmVyLFxuICAgICAgICByZWNhcHRjaGFUb2tlblxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc2Vzc2lvbkluZm87XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIHZlcmlmaWVyLl9yZXNldCgpO1xuICB9XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdXNlcidzIHBob25lIG51bWJlci5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igb24gYW55IHtAbGluayBVc2VyfSBzaWduZWQgaW4gYnlcbiAqIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqIC8vICdyZWNhcHRjaGEtY29udGFpbmVyJyBpcyB0aGUgSUQgb2YgYW4gZWxlbWVudCBpbiB0aGUgRE9NLlxuICogY29uc3QgYXBwbGljYXRpb25WZXJpZmllciA9IG5ldyBSZWNhcHRjaGFWZXJpZmllcigncmVjYXB0Y2hhLWNvbnRhaW5lcicpO1xuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgUGhvbmVBdXRoUHJvdmlkZXIoYXV0aCk7XG4gKiBjb25zdCB2ZXJpZmljYXRpb25JZCA9IGF3YWl0IHByb3ZpZGVyLnZlcmlmeVBob25lTnVtYmVyKCcrMTY1MDU1NTAxMDEnLCBhcHBsaWNhdGlvblZlcmlmaWVyKTtcbiAqIC8vIE9idGFpbiB0aGUgdmVyaWZpY2F0aW9uQ29kZSBmcm9tIHRoZSB1c2VyLlxuICogY29uc3QgcGhvbmVDcmVkZW50aWFsID0gUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh2ZXJpZmljYXRpb25JZCwgdmVyaWZpY2F0aW9uQ29kZSk7XG4gKiBhd2FpdCB1cGRhdGVQaG9uZU51bWJlcih1c2VyLCBwaG9uZUNyZWRlbnRpYWwpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBjcmVkZW50aWFsIC0gQSBjcmVkZW50aWFsIGF1dGhlbnRpY2F0aW5nIHRoZSBuZXcgcGhvbmUgbnVtYmVyLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBob25lTnVtYmVyKFxuICB1c2VyOiBVc2VyLFxuICBjcmVkZW50aWFsOiBQaG9uZUF1dGhDcmVkZW50aWFsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHVzZXJJbnRlcm5hbC5hdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcih1c2VySW50ZXJuYWwuYXV0aClcbiAgICApO1xuICB9XG4gIGF3YWl0IF9saW5rKHVzZXJJbnRlcm5hbCwgY3JlZGVudGlhbCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQXV0aCxcbiAgUGhvbmVJbmZvT3B0aW9ucyxcbiAgQXBwbGljYXRpb25WZXJpZmllcixcbiAgVXNlckNyZWRlbnRpYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgU2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vc21zJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbCBhcyBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hcHBsaWNhdGlvbl92ZXJpZmllcic7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgYXMgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIGFzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IFBob25lQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9jb3JlL2NyZWRlbnRpYWxzL3Bob25lJztcbmltcG9ydCB7IF92ZXJpZnlQaG9uZU51bWJlciB9IGZyb20gJy4uL3N0cmF0ZWdpZXMvcGhvbmUnO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vLi4vY29yZS9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciwgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBQcm92aWRlcklkLCBTaWduSW5NZXRob2QgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcgYW4ge0BsaW5rIFBob25lQXV0aENyZWRlbnRpYWx9LlxuICpcbiAqIEByZW1hcmtzXG4gKiBgUGhvbmVBdXRoUHJvdmlkZXJgIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyAncmVjYXB0Y2hhLWNvbnRhaW5lcicgaXMgdGhlIElEIG9mIGFuIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIGNvbnN0IGFwcGxpY2F0aW9uVmVyaWZpZXIgPSBuZXcgUmVjYXB0Y2hhVmVyaWZpZXIoJ3JlY2FwdGNoYS1jb250YWluZXInKTtcbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IFBob25lQXV0aFByb3ZpZGVyKGF1dGgpO1xuICogY29uc3QgdmVyaWZpY2F0aW9uSWQgPSBhd2FpdCBwcm92aWRlci52ZXJpZnlQaG9uZU51bWJlcignKzE2NTA1NTUwMTAxJywgYXBwbGljYXRpb25WZXJpZmllcik7XG4gKiAvLyBPYnRhaW4gdGhlIHZlcmlmaWNhdGlvbkNvZGUgZnJvbSB0aGUgdXNlci5cbiAqIGNvbnN0IHBob25lQ3JlZGVudGlhbCA9IFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwodmVyaWZpY2F0aW9uSWQsIHZlcmlmaWNhdGlvbkNvZGUpO1xuICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoQ3JlZGVudGlhbChhdXRoLCBwaG9uZUNyZWRlbnRpYWwpO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUGhvbmVBdXRoUHJvdmlkZXIge1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgUHJvdmlkZXJJZH0uUEhPTkUuICovXG4gIHN0YXRpYyByZWFkb25seSBQUk9WSURFUl9JRDogJ3Bob25lJyA9IFByb3ZpZGVySWQuUEhPTkU7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBTaWduSW5NZXRob2R9LlBIT05FLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgUEhPTkVfU0lHTl9JTl9NRVRIT0Q6ICdwaG9uZScgPSBTaWduSW5NZXRob2QuUEhPTkU7XG5cbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFByb3ZpZGVySWR9LlBIT05FLiAqL1xuICByZWFkb25seSBwcm92aWRlcklkID0gUGhvbmVBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gYXV0aCAtIFRoZSBGaXJlYmFzZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UgaW4gd2hpY2ggc2lnbi1pbnMgc2hvdWxkIG9jY3VyLlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IoYXV0aDogQXV0aCkge1xuICAgIHRoaXMuYXV0aCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBTdGFydHMgYSBwaG9uZSBudW1iZXIgYXV0aGVudGljYXRpb24gZmxvdyBieSBzZW5kaW5nIGEgdmVyaWZpY2F0aW9uIGNvZGUgdG8gdGhlIGdpdmVuIHBob25lXG4gICAqIG51bWJlci5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBwcm92aWRlciA9IG5ldyBQaG9uZUF1dGhQcm92aWRlcihhdXRoKTtcbiAgICogY29uc3QgdmVyaWZpY2F0aW9uSWQgPSBhd2FpdCBwcm92aWRlci52ZXJpZnlQaG9uZU51bWJlcihwaG9uZU51bWJlciwgYXBwbGljYXRpb25WZXJpZmllcik7XG4gICAqIC8vIE9idGFpbiB2ZXJpZmljYXRpb25Db2RlIGZyb20gdGhlIHVzZXIuXG4gICAqIGNvbnN0IGF1dGhDcmVkZW50aWFsID0gUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh2ZXJpZmljYXRpb25JZCwgdmVyaWZpY2F0aW9uQ29kZSk7XG4gICAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aENyZWRlbnRpYWwoYXV0aCwgYXV0aENyZWRlbnRpYWwpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogQW4gYWx0ZXJuYXRpdmUgZmxvdyBpcyBwcm92aWRlZCB1c2luZyB0aGUgYHNpZ25JbldpdGhQaG9uZU51bWJlcmAgbWV0aG9kLlxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IGNvbmZpcm1hdGlvblJlc3VsdCA9IHNpZ25JbldpdGhQaG9uZU51bWJlcihhdXRoLCBwaG9uZU51bWJlciwgYXBwbGljYXRpb25WZXJpZmllcik7XG4gICAqIC8vIE9idGFpbiB2ZXJpZmljYXRpb25Db2RlIGZyb20gdGhlIHVzZXIuXG4gICAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gY29uZmlybWF0aW9uUmVzdWx0LmNvbmZpcm0odmVyaWZpY2F0aW9uQ29kZSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gcGhvbmVJbmZvT3B0aW9ucyAtIFRoZSB1c2VyJ3Mge0BsaW5rIFBob25lSW5mb09wdGlvbnN9LiBUaGUgcGhvbmUgbnVtYmVyIHNob3VsZCBiZSBpblxuICAgKiBFLjE2NCBmb3JtYXQgKGUuZy4gKzE2NTA1NTUwMTAxKS5cbiAgICogQHBhcmFtIGFwcGxpY2F0aW9uVmVyaWZpZXIgLSBGb3IgYWJ1c2UgcHJldmVudGlvbiwgdGhpcyBtZXRob2QgYWxzbyByZXF1aXJlcyBhXG4gICAqIHtAbGluayBBcHBsaWNhdGlvblZlcmlmaWVyfS4gVGhpcyBTREsgaW5jbHVkZXMgYSByZUNBUFRDSEEtYmFzZWQgaW1wbGVtZW50YXRpb24sXG4gICAqIHtAbGluayBSZWNhcHRjaGFWZXJpZmllcn0uXG4gICAqXG4gICAqIEByZXR1cm5zIEEgUHJvbWlzZSBmb3IgYSB2ZXJpZmljYXRpb24gSUQgdGhhdCBjYW4gYmUgcGFzc2VkIHRvXG4gICAqIHtAbGluayBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsfSB0byBpZGVudGlmeSB0aGlzIGZsb3cuLlxuICAgKi9cbiAgdmVyaWZ5UGhvbmVOdW1iZXIoXG4gICAgcGhvbmVPcHRpb25zOiBQaG9uZUluZm9PcHRpb25zIHwgc3RyaW5nLFxuICAgIGFwcGxpY2F0aW9uVmVyaWZpZXI6IEFwcGxpY2F0aW9uVmVyaWZpZXJcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gX3ZlcmlmeVBob25lTnVtYmVyKFxuICAgICAgdGhpcy5hdXRoLFxuICAgICAgcGhvbmVPcHRpb25zLFxuICAgICAgZ2V0TW9kdWxhckluc3RhbmNlKGFwcGxpY2F0aW9uVmVyaWZpZXIgYXMgQXBwbGljYXRpb25WZXJpZmllckludGVybmFsKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHBob25lIGF1dGggY3JlZGVudGlhbCwgZ2l2ZW4gdGhlIHZlcmlmaWNhdGlvbiBJRCBmcm9tXG4gICAqIHtAbGluayBQaG9uZUF1dGhQcm92aWRlci52ZXJpZnlQaG9uZU51bWJlcn0gYW5kIHRoZSBjb2RlIHRoYXQgd2FzIHNlbnQgdG8gdGhlIHVzZXInc1xuICAgKiBtb2JpbGUgZGV2aWNlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IFBob25lQXV0aFByb3ZpZGVyKGF1dGgpO1xuICAgKiBjb25zdCB2ZXJpZmljYXRpb25JZCA9IHByb3ZpZGVyLnZlcmlmeVBob25lTnVtYmVyKHBob25lTnVtYmVyLCBhcHBsaWNhdGlvblZlcmlmaWVyKTtcbiAgICogLy8gT2J0YWluIHZlcmlmaWNhdGlvbkNvZGUgZnJvbSB0aGUgdXNlci5cbiAgICogY29uc3QgYXV0aENyZWRlbnRpYWwgPSBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsKHZlcmlmaWNhdGlvbklkLCB2ZXJpZmljYXRpb25Db2RlKTtcbiAgICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBzaWduSW5XaXRoQ3JlZGVudGlhbChhdXRoLCBhdXRoQ3JlZGVudGlhbCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBBbiBhbHRlcm5hdGl2ZSBmbG93IGlzIHByb3ZpZGVkIHVzaW5nIHRoZSBgc2lnbkluV2l0aFBob25lTnVtYmVyYCBtZXRob2QuXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3QgY29uZmlybWF0aW9uUmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFBob25lTnVtYmVyKGF1dGgsIHBob25lTnVtYmVyLCBhcHBsaWNhdGlvblZlcmlmaWVyKTtcbiAgICogLy8gT2J0YWluIHZlcmlmaWNhdGlvbkNvZGUgZnJvbSB0aGUgdXNlci5cbiAgICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBjb25maXJtYXRpb25SZXN1bHQuY29uZmlybSh2ZXJpZmljYXRpb25Db2RlKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB2ZXJpZmljYXRpb25JZCAtIFRoZSB2ZXJpZmljYXRpb24gSUQgcmV0dXJuZWQgZnJvbSB7QGxpbmsgUGhvbmVBdXRoUHJvdmlkZXIudmVyaWZ5UGhvbmVOdW1iZXJ9LlxuICAgKiBAcGFyYW0gdmVyaWZpY2F0aW9uQ29kZSAtIFRoZSB2ZXJpZmljYXRpb24gY29kZSBzZW50IHRvIHRoZSB1c2VyJ3MgbW9iaWxlIGRldmljZS5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIGF1dGggcHJvdmlkZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsKFxuICAgIHZlcmlmaWNhdGlvbklkOiBzdHJpbmcsXG4gICAgdmVyaWZpY2F0aW9uQ29kZTogc3RyaW5nXG4gICk6IFBob25lQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBQaG9uZUF1dGhDcmVkZW50aWFsLl9mcm9tVmVyaWZpY2F0aW9uKFxuICAgICAgdmVyaWZpY2F0aW9uSWQsXG4gICAgICB2ZXJpZmljYXRpb25Db2RlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYW4ge0BsaW5rIEF1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIFVzZXJDcmVkZW50aWFsfS5cbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbVJlc3VsdChcbiAgICB1c2VyQ3JlZGVudGlhbDogVXNlckNyZWRlbnRpYWxcbiAgKTogQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBjb25zdCBjcmVkZW50aWFsID0gdXNlckNyZWRlbnRpYWwgYXMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbDtcbiAgICByZXR1cm4gUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoY3JlZGVudGlhbCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiB7QGxpbmsgQXV0aENyZWRlbnRpYWx9IHdoZW4gcGFzc2VkIGFuIGVycm9yLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3b3JrcyBmb3IgZXJyb3JzIGxpa2VcbiAgICogYGF1dGgvYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbHNgLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICogcmVjb3ZlcmluZyB3aGVuIGF0dGVtcHRpbmcgdG8gc2V0IGEgdXNlcidzIHBob25lIG51bWJlciBidXQgdGhlIG51bWJlclxuICAgKiBpbiBxdWVzdGlvbiBpcyBhbHJlYWR5IHRpZWQgdG8gYW5vdGhlciBhY2NvdW50LiBGb3IgZXhhbXBsZSwgdGhlIGZvbGxvd2luZ1xuICAgKiBjb2RlIHRyaWVzIHRvIHVwZGF0ZSB0aGUgY3VycmVudCB1c2VyJ3MgcGhvbmUgbnVtYmVyLCBhbmQgaWYgdGhhdFxuICAgKiBmYWlscywgbGlua3MgdGhlIHVzZXIgd2l0aCB0aGUgYWNjb3VudCBhc3NvY2lhdGVkIHdpdGggdGhhdCBudW1iZXI6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IFBob25lQXV0aFByb3ZpZGVyKGF1dGgpO1xuICAgKiBjb25zdCB2ZXJpZmljYXRpb25JZCA9IGF3YWl0IHByb3ZpZGVyLnZlcmlmeVBob25lTnVtYmVyKG51bWJlciwgdmVyaWZpZXIpO1xuICAgKiB0cnkge1xuICAgKiAgIGNvbnN0IGNvZGUgPSAnJzsgLy8gUHJvbXB0IHRoZSB1c2VyIGZvciB0aGUgdmVyaWZpY2F0aW9uIGNvZGVcbiAgICogICBhd2FpdCB1cGRhdGVQaG9uZU51bWJlcihcbiAgICogICAgICAgYXV0aC5jdXJyZW50VXNlcixcbiAgICogICAgICAgUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh2ZXJpZmljYXRpb25JZCwgY29kZSkpO1xuICAgKiB9IGNhdGNoIChlKSB7XG4gICAqICAgaWYgKChlIGFzIEZpcmViYXNlRXJyb3IpPy5jb2RlID09PSAnYXV0aC9hY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsJykge1xuICAgKiAgICAgY29uc3QgY3JlZCA9IFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tRXJyb3IoZSk7XG4gICAqICAgICBhd2FpdCBsaW5rV2l0aENyZWRlbnRpYWwoYXV0aC5jdXJyZW50VXNlciwgY3JlZCk7XG4gICAqICAgfVxuICAgKiB9XG4gICAqXG4gICAqIC8vIEF0IHRoaXMgcG9pbnQsIGF1dGguY3VycmVudFVzZXIucGhvbmVOdW1iZXIgPT09IG51bWJlci5cbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBlcnJvciAtIFRoZSBlcnJvciB0byBnZW5lcmF0ZSBhIGNyZWRlbnRpYWwgZnJvbS5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbUVycm9yKGVycm9yOiBGaXJlYmFzZUVycm9yKTogQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICAoZXJyb3IuY3VzdG9tRGF0YSB8fCB7fSkgYXMgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2VcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3Qoe1xuICAgIF90b2tlblJlc3BvbnNlOiB0b2tlblJlc3BvbnNlXG4gIH06IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlKTogQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBpZiAoIXRva2VuUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IHBob25lTnVtYmVyLCB0ZW1wb3JhcnlQcm9vZiB9ID1cbiAgICAgIHRva2VuUmVzcG9uc2UgYXMgU2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2U7XG4gICAgaWYgKHBob25lTnVtYmVyICYmIHRlbXBvcmFyeVByb29mKSB7XG4gICAgICByZXR1cm4gUGhvbmVBdXRoQ3JlZGVudGlhbC5fZnJvbVRva2VuUmVzcG9uc2UoXG4gICAgICAgIHBob25lTnVtYmVyLFxuICAgICAgICB0ZW1wb3JhcnlQcm9vZlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQb3B1cFJlZGlyZWN0UmVzb2x2ZXIgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4vYXNzZXJ0JztcbmltcG9ydCB7IF9nZXRJbnN0YW5jZSB9IGZyb20gJy4vaW5zdGFudGlhdG9yJztcblxuLyoqXG4gKiBDaG9vc2VzIGEgcG9wdXAvcmVkaXJlY3QgcmVzb2x2ZXIgdG8gdXNlLiBUaGlzIHByZWZlcnMgdGhlIG92ZXJyaWRlICh3aGljaFxuICogaXMgZGlyZWN0bHkgcGFzc2VkIGluKSwgYW5kIGZhbGxzIGJhY2sgdG8gdGhlIHByb3BlcnR5IHNldCBvbiB0aGUgYXV0aFxuICogb2JqZWN0LiBJZiBuZWl0aGVyIGFyZSBhdmFpbGFibGUsIHRoaXMgZnVuY3Rpb24gZXJyb3JzIHcvIGFuIGFyZ3VtZW50IGVycm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gX3dpdGhEZWZhdWx0UmVzb2x2ZXIoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgcmVzb2x2ZXJPdmVycmlkZTogUG9wdXBSZWRpcmVjdFJlc29sdmVyIHwgdW5kZWZpbmVkXG4pOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCB7XG4gIGlmIChyZXNvbHZlck92ZXJyaWRlKSB7XG4gICAgcmV0dXJuIF9nZXRJbnN0YW5jZShyZXNvbHZlck92ZXJyaWRlKTtcbiAgfVxuXG4gIF9hc3NlcnQoYXV0aC5fcG9wdXBSZWRpcmVjdFJlc29sdmVyLCBhdXRoLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcblxuICByZXR1cm4gYXV0aC5fcG9wdXBSZWRpcmVjdFJlc29sdmVyO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIHNpZ25JbldpdGhJZHAsXG4gIFNpZ25JbldpdGhJZHBSZXF1ZXN0XG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9pZHAnO1xuaW1wb3J0IHsgUGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwsIFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMnO1xuaW1wb3J0IHsgX2xpbmsgYXMgX2xpbmtVc2VyIH0gZnJvbSAnLi4vdXNlci9saW5rX3VubGluayc7XG5pbXBvcnQgeyBfcmVhdXRoZW50aWNhdGUgfSBmcm9tICcuLi91c2VyL3JlYXV0aGVudGljYXRlJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfc2lnbkluV2l0aENyZWRlbnRpYWwgfSBmcm9tICcuL2NyZWRlbnRpYWwnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBQcm92aWRlcklkIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElkcFRhc2tQYXJhbXMge1xuICBhdXRoOiBBdXRoSW50ZXJuYWw7XG4gIHJlcXVlc3RVcmk6IHN0cmluZztcbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbiAgcG9zdEJvZHk/OiBzdHJpbmc7XG4gIHBlbmRpbmdUb2tlbj86IHN0cmluZztcbiAgdXNlcj86IFVzZXJJbnRlcm5hbDtcbiAgYnlwYXNzQXV0aFN0YXRlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IHR5cGUgSWRwVGFzayA9IChcbiAgcGFyYW1zOiBJZHBUYXNrUGFyYW1zXG4pID0+IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbD47XG5cbmNsYXNzIElkcENyZWRlbnRpYWwgZXh0ZW5kcyBBdXRoQ3JlZGVudGlhbCB7XG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBhcmFtczogSWRwVGFza1BhcmFtcykge1xuICAgIHN1cGVyKFByb3ZpZGVySWQuQ1VTVE9NLCBQcm92aWRlcklkLkNVU1RPTSk7XG4gIH1cblxuICBfZ2V0SWRUb2tlblJlc3BvbnNlKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8UGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiBzaWduSW5XaXRoSWRwKGF1dGgsIHRoaXMuX2J1aWxkSWRwUmVxdWVzdCgpKTtcbiAgfVxuXG4gIF9saW5rVG9JZFRva2VuKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBpZFRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gc2lnbkluV2l0aElkcChhdXRoLCB0aGlzLl9idWlsZElkcFJlcXVlc3QoaWRUb2tlbikpO1xuICB9XG5cbiAgX2dldFJlYXV0aGVudGljYXRpb25SZXNvbHZlcihhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiBzaWduSW5XaXRoSWRwKGF1dGgsIHRoaXMuX2J1aWxkSWRwUmVxdWVzdCgpKTtcbiAgfVxuXG4gIHByaXZhdGUgX2J1aWxkSWRwUmVxdWVzdChpZFRva2VuPzogc3RyaW5nKTogU2lnbkluV2l0aElkcFJlcXVlc3Qge1xuICAgIGNvbnN0IHJlcXVlc3Q6IFNpZ25JbldpdGhJZHBSZXF1ZXN0ID0ge1xuICAgICAgcmVxdWVzdFVyaTogdGhpcy5wYXJhbXMucmVxdWVzdFVyaSxcbiAgICAgIHNlc3Npb25JZDogdGhpcy5wYXJhbXMuc2Vzc2lvbklkLFxuICAgICAgcG9zdEJvZHk6IHRoaXMucGFyYW1zLnBvc3RCb2R5LFxuICAgICAgdGVuYW50SWQ6IHRoaXMucGFyYW1zLnRlbmFudElkLFxuICAgICAgcGVuZGluZ1Rva2VuOiB0aGlzLnBhcmFtcy5wZW5kaW5nVG9rZW4sXG4gICAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZSxcbiAgICAgIHJldHVybklkcENyZWRlbnRpYWw6IHRydWVcbiAgICB9O1xuXG4gICAgaWYgKGlkVG9rZW4pIHtcbiAgICAgIHJlcXVlc3QuaWRUb2tlbiA9IGlkVG9rZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9zaWduSW4oXG4gIHBhcmFtczogSWRwVGFza1BhcmFtc1xuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsPiB7XG4gIHJldHVybiBfc2lnbkluV2l0aENyZWRlbnRpYWwoXG4gICAgcGFyYW1zLmF1dGgsXG4gICAgbmV3IElkcENyZWRlbnRpYWwocGFyYW1zKSxcbiAgICBwYXJhbXMuYnlwYXNzQXV0aFN0YXRlXG4gICkgYXMgUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9yZWF1dGgoXG4gIHBhcmFtczogSWRwVGFza1BhcmFtc1xuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsPiB7XG4gIGNvbnN0IHsgYXV0aCwgdXNlciB9ID0gcGFyYW1zO1xuICBfYXNzZXJ0KHVzZXIsIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICByZXR1cm4gX3JlYXV0aGVudGljYXRlKFxuICAgIHVzZXIsXG4gICAgbmV3IElkcENyZWRlbnRpYWwocGFyYW1zKSxcbiAgICBwYXJhbXMuYnlwYXNzQXV0aFN0YXRlXG4gICk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfbGluayhcbiAgcGFyYW1zOiBJZHBUYXNrUGFyYW1zXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWw+IHtcbiAgY29uc3QgeyBhdXRoLCB1c2VyIH0gPSBwYXJhbXM7XG4gIF9hc3NlcnQodXNlciwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIHJldHVybiBfbGlua1VzZXIodXNlciwgbmV3IElkcENyZWRlbnRpYWwocGFyYW1zKSwgcGFyYW1zLmJ5cGFzc0F1dGhTdGF0ZSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHtcbiAgQXV0aEV2ZW50LFxuICBBdXRoRXZlbnRDb25zdW1lcixcbiAgQXV0aEV2ZW50VHlwZSxcbiAgRXZlbnRNYW5hZ2VyLFxuICBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwsIFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgZGVidWdBc3NlcnQsIF9mYWlsIH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHtcbiAgX2xpbmssXG4gIF9yZWF1dGgsXG4gIF9zaWduSW4sXG4gIElkcFRhc2ssXG4gIElkcFRhc2tQYXJhbXNcbn0gZnJvbSAnLi4vc3RyYXRlZ2llcy9pZHAnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5cbmludGVyZmFjZSBQZW5kaW5nUHJvbWlzZSB7XG4gIHJlc29sdmU6IChjcmVkOiBVc2VyQ3JlZGVudGlhbEludGVybmFsIHwgbnVsbCkgPT4gdm9pZDtcbiAgcmVqZWN0OiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkO1xufVxuXG4vKipcbiAqIFBvcHVwIGV2ZW50IG1hbmFnZXIuIEhhbmRsZXMgdGhlIHBvcHVwJ3MgZW50aXJlIGxpZmVjeWNsZTsgbGlzdGVucyB0byBhdXRoXG4gKiBldmVudHNcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0UG9wdXBSZWRpcmVjdE9wZXJhdGlvblxuICBpbXBsZW1lbnRzIEF1dGhFdmVudENvbnN1bWVyXG57XG4gIHByaXZhdGUgcGVuZGluZ1Byb21pc2U6IFBlbmRpbmdQcm9taXNlIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZXZlbnRNYW5hZ2VyOiBFdmVudE1hbmFnZXIgfCBudWxsID0gbnVsbDtcbiAgcmVhZG9ubHkgZmlsdGVyOiBBdXRoRXZlbnRUeXBlW107XG5cbiAgYWJzdHJhY3QgZXZlbnRJZDogc3RyaW5nIHwgbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGZpbHRlcjogQXV0aEV2ZW50VHlwZSB8IEF1dGhFdmVudFR5cGVbXSxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgcmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsLFxuICAgIHByb3RlY3RlZCB1c2VyPzogVXNlckludGVybmFsLFxuICAgIHByb3RlY3RlZCByZWFkb25seSBieXBhc3NBdXRoU3RhdGUgPSBmYWxzZVxuICApIHtcbiAgICB0aGlzLmZpbHRlciA9IEFycmF5LmlzQXJyYXkoZmlsdGVyKSA/IGZpbHRlciA6IFtmaWx0ZXJdO1xuICB9XG5cbiAgYWJzdHJhY3Qgb25FeGVjdXRpb24oKTogUHJvbWlzZTx2b2lkPjtcblxuICBleGVjdXRlKCk6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbCB8IG51bGw+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbCB8IG51bGw+KFxuICAgICAgYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLnBlbmRpbmdQcm9taXNlID0geyByZXNvbHZlLCByZWplY3QgfTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gYXdhaXQgdGhpcy5yZXNvbHZlci5faW5pdGlhbGl6ZSh0aGlzLmF1dGgpO1xuICAgICAgICAgIGF3YWl0IHRoaXMub25FeGVjdXRpb24oKTtcbiAgICAgICAgICB0aGlzLmV2ZW50TWFuYWdlci5yZWdpc3RlckNvbnN1bWVyKHRoaXMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhpcy5yZWplY3QoZSBhcyBFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgYXN5bmMgb25BdXRoRXZlbnQoZXZlbnQ6IEF1dGhFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgdXJsUmVzcG9uc2UsIHNlc3Npb25JZCwgcG9zdEJvZHksIHRlbmFudElkLCBlcnJvciwgdHlwZSB9ID0gZXZlbnQ7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB0aGlzLnJlamVjdChlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zOiBJZHBUYXNrUGFyYW1zID0ge1xuICAgICAgYXV0aDogdGhpcy5hdXRoLFxuICAgICAgcmVxdWVzdFVyaTogdXJsUmVzcG9uc2UhLFxuICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uSWQhLFxuICAgICAgdGVuYW50SWQ6IHRlbmFudElkIHx8IHVuZGVmaW5lZCxcbiAgICAgIHBvc3RCb2R5OiBwb3N0Qm9keSB8fCB1bmRlZmluZWQsXG4gICAgICB1c2VyOiB0aGlzLnVzZXIsXG4gICAgICBieXBhc3NBdXRoU3RhdGU6IHRoaXMuYnlwYXNzQXV0aFN0YXRlXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLnJlc29sdmUoYXdhaXQgdGhpcy5nZXRJZHBUYXNrKHR5cGUpKHBhcmFtcykpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMucmVqZWN0KGUgYXMgRXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIG9uRXJyb3IoZXJyb3I6IEZpcmViYXNlRXJyb3IpOiB2b2lkIHtcbiAgICB0aGlzLnJlamVjdChlcnJvcik7XG4gIH1cblxuICBwcml2YXRlIGdldElkcFRhc2sodHlwZTogQXV0aEV2ZW50VHlwZSk6IElkcFRhc2sge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBBdXRoRXZlbnRUeXBlLlNJR05fSU5fVklBX1BPUFVQOlxuICAgICAgY2FzZSBBdXRoRXZlbnRUeXBlLlNJR05fSU5fVklBX1JFRElSRUNUOlxuICAgICAgICByZXR1cm4gX3NpZ25JbjtcbiAgICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5MSU5LX1ZJQV9QT1BVUDpcbiAgICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5MSU5LX1ZJQV9SRURJUkVDVDpcbiAgICAgICAgcmV0dXJuIF9saW5rO1xuICAgICAgY2FzZSBBdXRoRXZlbnRUeXBlLlJFQVVUSF9WSUFfUE9QVVA6XG4gICAgICBjYXNlIEF1dGhFdmVudFR5cGUuUkVBVVRIX1ZJQV9SRURJUkVDVDpcbiAgICAgICAgcmV0dXJuIF9yZWF1dGg7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBfZmFpbCh0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCByZXNvbHZlKGNyZWQ6IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfCBudWxsKTogdm9pZCB7XG4gICAgZGVidWdBc3NlcnQodGhpcy5wZW5kaW5nUHJvbWlzZSwgJ1BlbmRpbmcgcHJvbWlzZSB3YXMgbmV2ZXIgc2V0Jyk7XG4gICAgdGhpcy5wZW5kaW5nUHJvbWlzZS5yZXNvbHZlKGNyZWQpO1xuICAgIHRoaXMudW5yZWdpc3RlckFuZENsZWFuVXAoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZWplY3QoZXJyb3I6IEVycm9yKTogdm9pZCB7XG4gICAgZGVidWdBc3NlcnQodGhpcy5wZW5kaW5nUHJvbWlzZSwgJ1BlbmRpbmcgcHJvbWlzZSB3YXMgbmV2ZXIgc2V0Jyk7XG4gICAgdGhpcy5wZW5kaW5nUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIHRoaXMudW5yZWdpc3RlckFuZENsZWFuVXAoKTtcbiAgfVxuXG4gIHByaXZhdGUgdW5yZWdpc3RlckFuZENsZWFuVXAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZXZlbnRNYW5hZ2VyKSB7XG4gICAgICB0aGlzLmV2ZW50TWFuYWdlci51bnJlZ2lzdGVyQ29uc3VtZXIodGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5wZW5kaW5nUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5jbGVhblVwKCk7XG4gIH1cblxuICBhYnN0cmFjdCBjbGVhblVwKCk6IHZvaWQ7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQXV0aCxcbiAgQXV0aFByb3ZpZGVyLFxuICBQb3B1cFJlZGlyZWN0UmVzb2x2ZXIsXG4gIFVzZXIsXG4gIFVzZXJDcmVkZW50aWFsXG59IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uLy4uL2NvcmUvYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7XG4gIF9hc3NlcnQsXG4gIGRlYnVnQXNzZXJ0LFxuICBfY3JlYXRlRXJyb3IsXG4gIF9hc3NlcnRJbnN0YW5jZU9mXG59IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgRGVsYXkgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvZGVsYXknO1xuaW1wb3J0IHsgX2dlbmVyYXRlRXZlbnRJZCB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9ldmVudF9pZCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7XG4gIEF1dGhFdmVudFR5cGUsXG4gIFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsXG59IGZyb20gJy4uLy4uL21vZGVsL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgX3dpdGhEZWZhdWx0UmVzb2x2ZXIgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvcmVzb2x2ZXInO1xuaW1wb3J0IHsgQXV0aFBvcHVwIH0gZnJvbSAnLi4vdXRpbC9wb3B1cCc7XG5pbXBvcnQgeyBBYnN0cmFjdFBvcHVwUmVkaXJlY3RPcGVyYXRpb24gfSBmcm9tICcuLi8uLi9jb3JlL3N0cmF0ZWdpZXMvYWJzdHJhY3RfcG9wdXBfcmVkaXJlY3Rfb3BlcmF0aW9uJztcbmltcG9ydCB7IEZlZGVyYXRlZEF1dGhQcm92aWRlciB9IGZyb20gJy4uLy4uL2NvcmUvcHJvdmlkZXJzL2ZlZGVyYXRlZCc7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG4vKlxuICogVGhlIGV2ZW50IHRpbWVvdXQgaXMgdGhlIHNhbWUgb24gbW9iaWxlIGFuZCBkZXNrdG9wLCBubyBuZWVkIGZvciBEZWxheS4gU2V0IHRoaXMgdG8gOHMgc2luY2VcbiAqIGJsb2NraW5nIGZ1bmN0aW9ucyBjYW4gdGFrZSB1cHRvIDdzIHRvIGNvbXBsZXRlIHNpZ24gaW4sIGFzIGRvY3VtZW50ZWQgaW46XG4gKiBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vaWRlbnRpdHktcGxhdGZvcm0vZG9jcy9ibG9ja2luZy1mdW5jdGlvbnMjdW5kZXJzdGFuZGluZ19ibG9ja2luZ19mdW5jdGlvbnNcbiAqIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL2F1dGgvZXh0ZW5kLXdpdGgtYmxvY2tpbmctZnVuY3Rpb25zI3VuZGVyc3RhbmRpbmdfYmxvY2tpbmdfZnVuY3Rpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIF9UaW1lb3V0IHtcbiAgQVVUSF9FVkVOVCA9IDgwMDBcbn1cbmV4cG9ydCBjb25zdCBfUE9MTF9XSU5ET1dfQ0xPU0VfVElNRU9VVCA9IG5ldyBEZWxheSgyMDAwLCAxMDAwMCk7XG5cbi8qKlxuICogQXV0aGVudGljYXRlcyBhIEZpcmViYXNlIGNsaWVudCB1c2luZyBhIHBvcHVwLWJhc2VkIE9BdXRoIGF1dGhlbnRpY2F0aW9uIGZsb3cuXG4gKlxuICogQHJlbWFya3NcbiAqIElmIHN1Y2NlZWRzLCByZXR1cm5zIHRoZSBzaWduZWQgaW4gdXNlciBhbG9uZyB3aXRoIHRoZSBwcm92aWRlcidzIGNyZWRlbnRpYWwuIElmIHNpZ24gaW4gd2FzXG4gKiB1bnN1Y2Nlc3NmdWwsIHJldHVybnMgYW4gZXJyb3Igb2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igd2l0aCB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSBwb3B1cC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICpcbiAqIC8vIFRoZSBzaWduZWQtaW4gdXNlciBpbmZvLlxuICogY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogLy8gVGhpcyBnaXZlcyB5b3UgYSBGYWNlYm9vayBBY2Nlc3MgVG9rZW4uXG4gKiBjb25zdCBjcmVkZW50aWFsID0gcHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQoYXV0aCwgcmVzdWx0KTtcbiAqIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBhdXRoZW50aWNhdGUuIFRoZSBwcm92aWRlciBoYXMgdG8gYmUgYW4ge0BsaW5rIE9BdXRoUHJvdmlkZXJ9LlxuICogTm9uLU9BdXRoIHByb3ZpZGVycyBsaWtlIHtAbGluayBFbWFpbEF1dGhQcm92aWRlcn0gd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAqIEBwYXJhbSByZXNvbHZlciAtIEFuIGluc3RhbmNlIG9mIHtAbGluayBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJ9LCBvcHRpb25hbFxuICogaWYgYWxyZWFkeSBzdXBwbGllZCB0byB7QGxpbmsgaW5pdGlhbGl6ZUF1dGh9IG9yIHByb3ZpZGVkIGJ5IHtAbGluayBnZXRBdXRofS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoUG9wdXAoXG4gIGF1dGg6IEF1dGgsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfY3JlYXRlRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX1NVUFBPUlRFRClcbiAgICApO1xuICB9XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgX2Fzc2VydEluc3RhbmNlT2YoYXV0aCwgcHJvdmlkZXIsIEZlZGVyYXRlZEF1dGhQcm92aWRlcik7XG4gIGNvbnN0IHJlc29sdmVySW50ZXJuYWwgPSBfd2l0aERlZmF1bHRSZXNvbHZlcihhdXRoSW50ZXJuYWwsIHJlc29sdmVyKTtcbiAgY29uc3QgYWN0aW9uID0gbmV3IFBvcHVwT3BlcmF0aW9uKFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICBBdXRoRXZlbnRUeXBlLlNJR05fSU5fVklBX1BPUFVQLFxuICAgIHByb3ZpZGVyLFxuICAgIHJlc29sdmVySW50ZXJuYWxcbiAgKTtcbiAgcmV0dXJuIGFjdGlvbi5leGVjdXRlTm90TnVsbCgpO1xufVxuXG4vKipcbiAqIFJlYXV0aGVudGljYXRlcyB0aGUgY3VycmVudCB1c2VyIHdpdGggdGhlIHNwZWNpZmllZCB7QGxpbmsgT0F1dGhQcm92aWRlcn0gdXNpbmcgYSBwb3AtdXAgYmFzZWRcbiAqIE9BdXRoIGZsb3cuXG4gKlxuICogQHJlbWFya3NcbiAqIElmIHRoZSByZWF1dGhlbnRpY2F0aW9uIGlzIHN1Y2Nlc3NmdWwsIHRoZSByZXR1cm5lZCByZXN1bHQgd2lsbCBjb250YWluIHRoZSB1c2VyIGFuZCB0aGVcbiAqIHByb3ZpZGVyJ3MgY3JlZGVudGlhbC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciBvbiBhbnkge0BsaW5rIFVzZXJ9IHNpZ25lZCBpbiBieVxuICoge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSBwb3B1cC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICogLy8gUmVhdXRoZW50aWNhdGUgdXNpbmcgYSBwb3B1cC5cbiAqIGF3YWl0IHJlYXV0aGVudGljYXRlV2l0aFBvcHVwKHJlc3VsdC51c2VyLCBwcm92aWRlcik7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIHByb3ZpZGVyIC0gVGhlIHByb3ZpZGVyIHRvIGF1dGhlbnRpY2F0ZS4gVGhlIHByb3ZpZGVyIGhhcyB0byBiZSBhbiB7QGxpbmsgT0F1dGhQcm92aWRlcn0uXG4gKiBOb24tT0F1dGggcHJvdmlkZXJzIGxpa2Uge0BsaW5rIEVtYWlsQXV0aFByb3ZpZGVyfSB3aWxsIHRocm93IGFuIGVycm9yLlxuICogQHBhcmFtIHJlc29sdmVyIC0gQW4gaW5zdGFuY2Ugb2Yge0BsaW5rIFBvcHVwUmVkaXJlY3RSZXNvbHZlcn0sIG9wdGlvbmFsXG4gKiBpZiBhbHJlYWR5IHN1cHBsaWVkIHRvIHtAbGluayBpbml0aWFsaXplQXV0aH0gb3IgcHJvdmlkZWQgYnkge0BsaW5rIGdldEF1dGh9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYXV0aGVudGljYXRlV2l0aFBvcHVwKFxuICB1c2VyOiBVc2VyLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodXNlckludGVybmFsLmF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9jcmVhdGVFcnJvcih1c2VySW50ZXJuYWwuYXV0aCwgQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX1NVUFBPUlRFRClcbiAgICApO1xuICB9XG4gIF9hc3NlcnRJbnN0YW5jZU9mKHVzZXJJbnRlcm5hbC5hdXRoLCBwcm92aWRlciwgRmVkZXJhdGVkQXV0aFByb3ZpZGVyKTtcbiAgY29uc3QgcmVzb2x2ZXJJbnRlcm5hbCA9IF93aXRoRGVmYXVsdFJlc29sdmVyKHVzZXJJbnRlcm5hbC5hdXRoLCByZXNvbHZlcik7XG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBQb3B1cE9wZXJhdGlvbihcbiAgICB1c2VySW50ZXJuYWwuYXV0aCxcbiAgICBBdXRoRXZlbnRUeXBlLlJFQVVUSF9WSUFfUE9QVVAsXG4gICAgcHJvdmlkZXIsXG4gICAgcmVzb2x2ZXJJbnRlcm5hbCxcbiAgICB1c2VySW50ZXJuYWxcbiAgKTtcbiAgcmV0dXJuIGFjdGlvbi5leGVjdXRlTm90TnVsbCgpO1xufVxuXG4vKipcbiAqIExpbmtzIHRoZSBhdXRoZW50aWNhdGVkIHByb3ZpZGVyIHRvIHRoZSB1c2VyIGFjY291bnQgdXNpbmcgYSBwb3AtdXAgYmFzZWQgT0F1dGggZmxvdy5cbiAqXG4gKiBAcmVtYXJrc1xuICogSWYgdGhlIGxpbmtpbmcgaXMgc3VjY2Vzc2Z1bCwgdGhlIHJldHVybmVkIHJlc3VsdCB3aWxsIGNvbnRhaW4gdGhlIHVzZXIgYW5kIHRoZSBwcm92aWRlcidzIGNyZWRlbnRpYWwuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgc29tZSBvdGhlciBwcm92aWRlci5cbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGVtYWlsLCBwYXNzd29yZCk7XG4gKiAvLyBMaW5rIHVzaW5nIGEgcG9wdXAuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICogYXdhaXQgbGlua1dpdGhQb3B1cChyZXN1bHQudXNlciwgcHJvdmlkZXIpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBhdXRoZW50aWNhdGUuIFRoZSBwcm92aWRlciBoYXMgdG8gYmUgYW4ge0BsaW5rIE9BdXRoUHJvdmlkZXJ9LlxuICogTm9uLU9BdXRoIHByb3ZpZGVycyBsaWtlIHtAbGluayBFbWFpbEF1dGhQcm92aWRlcn0gd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAqIEBwYXJhbSByZXNvbHZlciAtIEFuIGluc3RhbmNlIG9mIHtAbGluayBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJ9LCBvcHRpb25hbFxuICogaWYgYWxyZWFkeSBzdXBwbGllZCB0byB7QGxpbmsgaW5pdGlhbGl6ZUF1dGh9IG9yIHByb3ZpZGVkIGJ5IHtAbGluayBnZXRBdXRofS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaW5rV2l0aFBvcHVwKFxuICB1c2VyOiBVc2VyLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBfYXNzZXJ0SW5zdGFuY2VPZih1c2VySW50ZXJuYWwuYXV0aCwgcHJvdmlkZXIsIEZlZGVyYXRlZEF1dGhQcm92aWRlcik7XG4gIGNvbnN0IHJlc29sdmVySW50ZXJuYWwgPSBfd2l0aERlZmF1bHRSZXNvbHZlcih1c2VySW50ZXJuYWwuYXV0aCwgcmVzb2x2ZXIpO1xuXG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBQb3B1cE9wZXJhdGlvbihcbiAgICB1c2VySW50ZXJuYWwuYXV0aCxcbiAgICBBdXRoRXZlbnRUeXBlLkxJTktfVklBX1BPUFVQLFxuICAgIHByb3ZpZGVyLFxuICAgIHJlc29sdmVySW50ZXJuYWwsXG4gICAgdXNlckludGVybmFsXG4gICk7XG4gIHJldHVybiBhY3Rpb24uZXhlY3V0ZU5vdE51bGwoKTtcbn1cblxuLyoqXG4gKiBQb3B1cCBldmVudCBtYW5hZ2VyLiBIYW5kbGVzIHRoZSBwb3B1cCdzIGVudGlyZSBsaWZlY3ljbGU7IGxpc3RlbnMgdG8gYXV0aFxuICogZXZlbnRzXG4gKlxuICovXG5jbGFzcyBQb3B1cE9wZXJhdGlvbiBleHRlbmRzIEFic3RyYWN0UG9wdXBSZWRpcmVjdE9wZXJhdGlvbiB7XG4gIC8vIE9ubHkgb25lIHBvcHVwIGlzIGV2ZXIgc2hvd24gYXQgb25jZS4gVGhlIGxpZmVjeWNsZSBvZiB0aGUgY3VycmVudCBwb3B1cFxuICAvLyBjYW4gYmUgbWFuYWdlZCAvIGNhbmNlbGxlZCBieSB0aGUgY29uc3RydWN0b3IuXG4gIHByaXZhdGUgc3RhdGljIGN1cnJlbnRQb3B1cEFjdGlvbjogUG9wdXBPcGVyYXRpb24gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhdXRoV2luZG93OiBBdXRoUG9wdXAgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBwb2xsSWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBmaWx0ZXI6IEF1dGhFdmVudFR5cGUsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICAgIHJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCxcbiAgICB1c2VyPzogVXNlckludGVybmFsXG4gICkge1xuICAgIHN1cGVyKGF1dGgsIGZpbHRlciwgcmVzb2x2ZXIsIHVzZXIpO1xuICAgIGlmIChQb3B1cE9wZXJhdGlvbi5jdXJyZW50UG9wdXBBY3Rpb24pIHtcbiAgICAgIFBvcHVwT3BlcmF0aW9uLmN1cnJlbnRQb3B1cEFjdGlvbi5jYW5jZWwoKTtcbiAgICB9XG5cbiAgICBQb3B1cE9wZXJhdGlvbi5jdXJyZW50UG9wdXBBY3Rpb24gPSB0aGlzO1xuICB9XG5cbiAgYXN5bmMgZXhlY3V0ZU5vdE51bGwoKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZSgpO1xuICAgIF9hc3NlcnQocmVzdWx0LCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBhc3luYyBvbkV4ZWN1dGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBkZWJ1Z0Fzc2VydChcbiAgICAgIHRoaXMuZmlsdGVyLmxlbmd0aCA9PT0gMSxcbiAgICAgICdQb3B1cCBvcGVyYXRpb25zIG9ubHkgaGFuZGxlIG9uZSBldmVudCdcbiAgICApO1xuICAgIGNvbnN0IGV2ZW50SWQgPSBfZ2VuZXJhdGVFdmVudElkKCk7XG4gICAgdGhpcy5hdXRoV2luZG93ID0gYXdhaXQgdGhpcy5yZXNvbHZlci5fb3BlblBvcHVwKFxuICAgICAgdGhpcy5hdXRoLFxuICAgICAgdGhpcy5wcm92aWRlcixcbiAgICAgIHRoaXMuZmlsdGVyWzBdLCAvLyBUaGVyZSdzIGFsd2F5cyBvbmUsIHNlZSBjb25zdHJ1Y3RvclxuICAgICAgZXZlbnRJZFxuICAgICk7XG4gICAgdGhpcy5hdXRoV2luZG93LmFzc29jaWF0ZWRFdmVudCA9IGV2ZW50SWQ7XG5cbiAgICAvLyBDaGVjayBmb3Igd2ViIHN0b3JhZ2Ugc3VwcG9ydCBhbmQgb3JpZ2luIHZhbGlkYXRpb24gX2FmdGVyXyB0aGUgcG9wdXAgaXNcbiAgICAvLyBsb2FkZWQuIFRoZXNlIG9wZXJhdGlvbnMgYXJlIHNsb3cgKH4xIHNlY29uZCBvciBzbykgUmF0aGVyIHRoYW5cbiAgICAvLyB3YWl0aW5nIG9uIHRoZW0gYmVmb3JlIG9wZW5pbmcgdGhlIHdpbmRvdywgb3B0aW1pc3RpY2FsbHkgb3BlbiB0aGUgcG9wdXBcbiAgICAvLyBhbmQgY2hlY2sgZm9yIHN0b3JhZ2Ugc3VwcG9ydCBhdCB0aGUgc2FtZSB0aW1lLiBJZiBzdG9yYWdlIHN1cHBvcnQgaXNcbiAgICAvLyBub3QgYXZhaWxhYmxlLCB0aGlzIHdpbGwgY2F1c2UgdGhlIHdob2xlIHRoaW5nIHRvIHJlamVjdCBwcm9wZXJseS4gSXRcbiAgICAvLyB3aWxsIGFsc28gY2xvc2UgdGhlIHBvcHVwLCBidXQgc2luY2UgdGhlIHByb21pc2UgaGFzIGFscmVhZHkgcmVqZWN0ZWQsXG4gICAgLy8gdGhlIHBvcHVwIGNsb3NlZCBieSB1c2VyIHBvbGwgd2lsbCByZWplY3QgaW50byB0aGUgdm9pZC5cbiAgICB0aGlzLnJlc29sdmVyLl9vcmlnaW5WYWxpZGF0aW9uKHRoaXMuYXV0aCkuY2F0Y2goZSA9PiB7XG4gICAgICB0aGlzLnJlamVjdChlKTtcbiAgICB9KTtcblxuICAgIHRoaXMucmVzb2x2ZXIuX2lzSWZyYW1lV2ViU3RvcmFnZVN1cHBvcnRlZCh0aGlzLmF1dGgsIGlzU3VwcG9ydGVkID0+IHtcbiAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcbiAgICAgICAgdGhpcy5yZWplY3QoXG4gICAgICAgICAgX2NyZWF0ZUVycm9yKHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5XRUJfU1RPUkFHRV9VTlNVUFBPUlRFRClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSB1c2VyIGNsb3N1cmUuIE5vdGljZSB0aGlzIGRvZXMgKm5vdCogdXNlIGF3YWl0XG4gICAgdGhpcy5wb2xsVXNlckNhbmNlbGxhdGlvbigpO1xuICB9XG5cbiAgZ2V0IGV2ZW50SWQoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuYXV0aFdpbmRvdz8uYXNzb2NpYXRlZEV2ZW50IHx8IG51bGw7XG4gIH1cblxuICBjYW5jZWwoKTogdm9pZCB7XG4gICAgdGhpcy5yZWplY3QoX2NyZWF0ZUVycm9yKHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5FWFBJUkVEX1BPUFVQX1JFUVVFU1QpKTtcbiAgfVxuXG4gIGNsZWFuVXAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYXV0aFdpbmRvdykge1xuICAgICAgdGhpcy5hdXRoV2luZG93LmNsb3NlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucG9sbElkKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucG9sbElkKTtcbiAgICB9XG5cbiAgICB0aGlzLmF1dGhXaW5kb3cgPSBudWxsO1xuICAgIHRoaXMucG9sbElkID0gbnVsbDtcbiAgICBQb3B1cE9wZXJhdGlvbi5jdXJyZW50UG9wdXBBY3Rpb24gPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBwb2xsVXNlckNhbmNlbGxhdGlvbigpOiB2b2lkIHtcbiAgICBjb25zdCBwb2xsID0gKCk6IHZvaWQgPT4ge1xuICAgICAgaWYgKHRoaXMuYXV0aFdpbmRvdz8ud2luZG93Py5jbG9zZWQpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlcmUgaXMgc3VmZmljaWVudCB0aW1lIGZvciB3aGF0ZXZlciBhY3Rpb24gdG9cbiAgICAgICAgLy8gY29tcGxldGUuIFRoZSB3aW5kb3cgY291bGQgaGF2ZSBjbG9zZWQgYnV0IHRoZSBzaWduIGluIG5ldHdvcmtcbiAgICAgICAgLy8gY2FsbCBjb3VsZCBzdGlsbCBiZSBpbiBmbGlnaHQuIFRoaXMgaXMgc3BlY2lmaWNhbGx5IHRydWUgZm9yXG4gICAgICAgIC8vIEZpcmVmb3ggb3IgaWYgdGhlIG9wZW5lciBpcyBpbiBhbiBpZnJhbWUsIGluIHdoaWNoIGNhc2UgdGhlIG9hdXRoXG4gICAgICAgIC8vIGhlbHBlciBjbG9zZXMgdGhlIHBvcHVwLlxuICAgICAgICB0aGlzLnBvbGxJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBvbGxJZCA9IG51bGw7XG4gICAgICAgICAgdGhpcy5yZWplY3QoXG4gICAgICAgICAgICBfY3JlYXRlRXJyb3IodGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLlBPUFVQX0NMT1NFRF9CWV9VU0VSKVxuICAgICAgICAgICk7XG4gICAgICAgIH0sIF9UaW1lb3V0LkFVVEhfRVZFTlQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9sbElkID0gd2luZG93LnNldFRpbWVvdXQocG9sbCwgX1BPTExfV0lORE9XX0NMT1NFX1RJTUVPVVQuZ2V0KCkpO1xuICAgIH07XG5cbiAgICBwb2xsKCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7XG4gIEF1dGhFdmVudCxcbiAgQXV0aEV2ZW50VHlwZSxcbiAgUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgUGVyc2lzdGVuY2VJbnRlcm5hbCB9IGZyb20gJy4uL3BlcnNpc3RlbmNlJztcbmltcG9ydCB7IF9wZXJzaXN0ZW5jZUtleU5hbWUgfSBmcm9tICcuLi9wZXJzaXN0ZW5jZS9wZXJzaXN0ZW5jZV91c2VyX21hbmFnZXInO1xuaW1wb3J0IHsgX2dldEluc3RhbmNlIH0gZnJvbSAnLi4vdXRpbC9pbnN0YW50aWF0b3InO1xuaW1wb3J0IHsgQWJzdHJhY3RQb3B1cFJlZGlyZWN0T3BlcmF0aW9uIH0gZnJvbSAnLi9hYnN0cmFjdF9wb3B1cF9yZWRpcmVjdF9vcGVyYXRpb24nO1xuXG5jb25zdCBQRU5ESU5HX1JFRElSRUNUX0tFWSA9ICdwZW5kaW5nUmVkaXJlY3QnO1xuXG4vLyBXZSBvbmx5IGdldCBvbmUgcmVkaXJlY3Qgb3V0Y29tZSBmb3IgYW55IG9uZSBhdXRoLCBzbyBqdXN0IHN0b3JlIGl0XG4vLyBpbiBoZXJlLlxuY29uc3QgcmVkaXJlY3RPdXRjb21lTWFwOiBNYXA8XG4gIHN0cmluZyxcbiAgKCkgPT4gUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsIHwgbnVsbD5cbj4gPSBuZXcgTWFwKCk7XG5cbmV4cG9ydCBjbGFzcyBSZWRpcmVjdEFjdGlvbiBleHRlbmRzIEFic3RyYWN0UG9wdXBSZWRpcmVjdE9wZXJhdGlvbiB7XG4gIGV2ZW50SWQgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICByZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwsXG4gICAgYnlwYXNzQXV0aFN0YXRlID0gZmFsc2VcbiAgKSB7XG4gICAgc3VwZXIoXG4gICAgICBhdXRoLFxuICAgICAgW1xuICAgICAgICBBdXRoRXZlbnRUeXBlLlNJR05fSU5fVklBX1JFRElSRUNULFxuICAgICAgICBBdXRoRXZlbnRUeXBlLkxJTktfVklBX1JFRElSRUNULFxuICAgICAgICBBdXRoRXZlbnRUeXBlLlJFQVVUSF9WSUFfUkVESVJFQ1QsXG4gICAgICAgIEF1dGhFdmVudFR5cGUuVU5LTk9XTlxuICAgICAgXSxcbiAgICAgIHJlc29sdmVyLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgYnlwYXNzQXV0aFN0YXRlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB0aGUgZXhlY3V0ZSBmdW5jdGlvbjsgaWYgd2UgYWxyZWFkeSBoYXZlIGEgcmVkaXJlY3QgcmVzdWx0LCB0aGVuXG4gICAqIGp1c3QgcmV0dXJuIGl0LlxuICAgKi9cbiAgYXN5bmMgZXhlY3V0ZSgpOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfCBudWxsPiB7XG4gICAgbGV0IHJlYWR5T3V0Y29tZSA9IHJlZGlyZWN0T3V0Y29tZU1hcC5nZXQodGhpcy5hdXRoLl9rZXkoKSk7XG4gICAgaWYgKCFyZWFkeU91dGNvbWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGhhc1BlbmRpbmdSZWRpcmVjdCA9IGF3YWl0IF9nZXRBbmRDbGVhclBlbmRpbmdSZWRpcmVjdFN0YXR1cyhcbiAgICAgICAgICB0aGlzLnJlc29sdmVyLFxuICAgICAgICAgIHRoaXMuYXV0aFxuICAgICAgICApO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBoYXNQZW5kaW5nUmVkaXJlY3QgPyBhd2FpdCBzdXBlci5leGVjdXRlKCkgOiBudWxsO1xuICAgICAgICByZWFkeU91dGNvbWUgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVhZHlPdXRjb21lID0gKCkgPT4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICB9XG5cbiAgICAgIHJlZGlyZWN0T3V0Y29tZU1hcC5zZXQodGhpcy5hdXRoLl9rZXkoKSwgcmVhZHlPdXRjb21lKTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSdyZSBub3QgYnlwYXNzaW5nIGF1dGggc3RhdGUsIHRoZSByZWFkeSBvdXRjb21lIHNob3VsZCBiZSBzZXQgdG9cbiAgICAvLyBudWxsLlxuICAgIGlmICghdGhpcy5ieXBhc3NBdXRoU3RhdGUpIHtcbiAgICAgIHJlZGlyZWN0T3V0Y29tZU1hcC5zZXQodGhpcy5hdXRoLl9rZXkoKSwgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVhZHlPdXRjb21lKCk7XG4gIH1cblxuICBhc3luYyBvbkF1dGhFdmVudChldmVudDogQXV0aEV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09IEF1dGhFdmVudFR5cGUuU0lHTl9JTl9WSUFfUkVESVJFQ1QpIHtcbiAgICAgIHJldHVybiBzdXBlci5vbkF1dGhFdmVudChldmVudCk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSBBdXRoRXZlbnRUeXBlLlVOS05PV04pIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzZW50aW5lbCB2YWx1ZSBpbmRpY2F0aW5nIHRoZXJlJ3Mgbm8gcGVuZGluZyByZWRpcmVjdFxuICAgICAgdGhpcy5yZXNvbHZlKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5ldmVudElkKSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5hdXRoLl9yZWRpcmVjdFVzZXJGb3JJZChldmVudC5ldmVudElkKTtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgICAgIHJldHVybiBzdXBlci5vbkF1dGhFdmVudChldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc29sdmUobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgb25FeGVjdXRpb24oKTogUHJvbWlzZTx2b2lkPiB7fVxuXG4gIGNsZWFuVXAoKTogdm9pZCB7fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2dldEFuZENsZWFyUGVuZGluZ1JlZGlyZWN0U3RhdHVzKFxuICByZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwsXG4gIGF1dGg6IEF1dGhJbnRlcm5hbFxuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGNvbnN0IGtleSA9IHBlbmRpbmdSZWRpcmVjdEtleShhdXRoKTtcbiAgY29uc3QgcGVyc2lzdGVuY2UgPSByZXNvbHZlclBlcnNpc3RlbmNlKHJlc29sdmVyKTtcbiAgaWYgKCEoYXdhaXQgcGVyc2lzdGVuY2UuX2lzQXZhaWxhYmxlKCkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGhhc1BlbmRpbmdSZWRpcmVjdCA9IChhd2FpdCBwZXJzaXN0ZW5jZS5fZ2V0KGtleSkpID09PSAndHJ1ZSc7XG4gIGF3YWl0IHBlcnNpc3RlbmNlLl9yZW1vdmUoa2V5KTtcbiAgcmV0dXJuIGhhc1BlbmRpbmdSZWRpcmVjdDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9zZXRQZW5kaW5nUmVkaXJlY3RTdGF0dXMoXG4gIHJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCxcbiAgYXV0aDogQXV0aEludGVybmFsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIHJlc29sdmVyUGVyc2lzdGVuY2UocmVzb2x2ZXIpLl9zZXQocGVuZGluZ1JlZGlyZWN0S2V5KGF1dGgpLCAndHJ1ZScpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2NsZWFyUmVkaXJlY3RPdXRjb21lcygpOiB2b2lkIHtcbiAgcmVkaXJlY3RPdXRjb21lTWFwLmNsZWFyKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfb3ZlcnJpZGVSZWRpcmVjdFJlc3VsdChcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICByZXN1bHQ6ICgpID0+IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbCB8IG51bGw+XG4pOiB2b2lkIHtcbiAgcmVkaXJlY3RPdXRjb21lTWFwLnNldChhdXRoLl9rZXkoKSwgcmVzdWx0KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZXJQZXJzaXN0ZW5jZShcbiAgcmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsXG4pOiBQZXJzaXN0ZW5jZUludGVybmFsIHtcbiAgcmV0dXJuIF9nZXRJbnN0YW5jZShyZXNvbHZlci5fcmVkaXJlY3RQZXJzaXN0ZW5jZSk7XG59XG5cbmZ1bmN0aW9uIHBlbmRpbmdSZWRpcmVjdEtleShhdXRoOiBBdXRoSW50ZXJuYWwpOiBzdHJpbmcge1xuICByZXR1cm4gX3BlcnNpc3RlbmNlS2V5TmFtZShcbiAgICBQRU5ESU5HX1JFRElSRUNUX0tFWSxcbiAgICBhdXRoLmNvbmZpZy5hcGlLZXksXG4gICAgYXV0aC5uYW1lXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQXV0aCxcbiAgQXV0aFByb3ZpZGVyLFxuICBQb3B1cFJlZGlyZWN0UmVzb2x2ZXIsXG4gIFVzZXIsXG4gIFVzZXJDcmVkZW50aWFsXG59IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uLy4uL2NvcmUvYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgX2Fzc2VydExpbmtlZFN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvdXNlci9saW5rX3VubGluayc7XG5pbXBvcnQge1xuICBfYXNzZXJ0SW5zdGFuY2VPZixcbiAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3Jcbn0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfZ2VuZXJhdGVFdmVudElkIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2V2ZW50X2lkJztcbmltcG9ydCB7IEF1dGhFdmVudFR5cGUgfSBmcm9tICcuLi8uLi9tb2RlbC9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IF93aXRoRGVmYXVsdFJlc29sdmVyIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL3Jlc29sdmVyJztcbmltcG9ydCB7XG4gIFJlZGlyZWN0QWN0aW9uLFxuICBfc2V0UGVuZGluZ1JlZGlyZWN0U3RhdHVzXG59IGZyb20gJy4uLy4uL2NvcmUvc3RyYXRlZ2llcy9yZWRpcmVjdCc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9jb3JlL3Byb3ZpZGVycy9mZWRlcmF0ZWQnO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcblxuLyoqXG4gKiBBdXRoZW50aWNhdGVzIGEgRmlyZWJhc2UgY2xpZW50IHVzaW5nIGEgZnVsbC1wYWdlIHJlZGlyZWN0IGZsb3cuXG4gKlxuICogQHJlbWFya3NcbiAqIFRvIGhhbmRsZSB0aGUgcmVzdWx0cyBhbmQgZXJyb3JzIGZvciB0aGlzIG9wZXJhdGlvbiwgcmVmZXIgdG8ge0BsaW5rIGdldFJlZGlyZWN0UmVzdWx0fS5cbiAqIEZvbGxvdyB0aGUge0BsaW5rIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL2F1dGgvd2ViL3JlZGlyZWN0LWJlc3QtcHJhY3RpY2VzXG4gKiB8IGJlc3QgcHJhY3RpY2VzfSB3aGVuIHVzaW5nIHtAbGluayBzaWduSW5XaXRoUmVkaXJlY3R9LlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIHdpdGgge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICogLy8gWW91IGNhbiBhZGQgYWRkaXRpb25hbCBzY29wZXMgdG8gdGhlIHByb3ZpZGVyOlxuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3VzZXJfYmlydGhkYXknKTtcbiAqIC8vIFN0YXJ0IGEgc2lnbiBpbiBwcm9jZXNzIGZvciBhbiB1bmF1dGhlbnRpY2F0ZWQgdXNlci5cbiAqIGF3YWl0IHNpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIGlmIChyZXN1bHQpIHtcbiAqICAgLy8gVGhpcyBpcyB0aGUgc2lnbmVkLWluIHVzZXJcbiAqICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogICAvLyBUaGlzIGdpdmVzIHlvdSBhIEZhY2Vib29rIEFjY2VzcyBUb2tlbi5cbiAqICAgY29uc3QgY3JlZGVudGlhbCA9IHByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KGF1dGgsIHJlc3VsdCk7XG4gKiAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIH1cbiAqIC8vIEFzIHRoaXMgQVBJIGNhbiBiZSB1c2VkIGZvciBzaWduLWluLCBsaW5raW5nIGFuZCByZWF1dGhlbnRpY2F0aW9uLFxuICogLy8gY2hlY2sgdGhlIG9wZXJhdGlvblR5cGUgdG8gZGV0ZXJtaW5lIHdoYXQgdHJpZ2dlcmVkIHRoaXMgcmVkaXJlY3RcbiAqIC8vIG9wZXJhdGlvbi5cbiAqIGNvbnN0IG9wZXJhdGlvblR5cGUgPSByZXN1bHQub3BlcmF0aW9uVHlwZTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBhdXRoZW50aWNhdGUuIFRoZSBwcm92aWRlciBoYXMgdG8gYmUgYW4ge0BsaW5rIE9BdXRoUHJvdmlkZXJ9LlxuICogTm9uLU9BdXRoIHByb3ZpZGVycyBsaWtlIHtAbGluayBFbWFpbEF1dGhQcm92aWRlcn0gd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAqIEBwYXJhbSByZXNvbHZlciAtIEFuIGluc3RhbmNlIG9mIHtAbGluayBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJ9LCBvcHRpb25hbFxuICogaWYgYWxyZWFkeSBzdXBwbGllZCB0byB7QGxpbmsgaW5pdGlhbGl6ZUF1dGh9IG9yIHByb3ZpZGVkIGJ5IHtAbGluayBnZXRBdXRofS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaWduSW5XaXRoUmVkaXJlY3QoXG4gIGF1dGg6IEF1dGgsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPG5ldmVyPiB7XG4gIHJldHVybiBfc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyLCByZXNvbHZlcikgYXMgUHJvbWlzZTxuZXZlcj47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfc2lnbkluV2l0aFJlZGlyZWN0KFxuICBhdXRoOiBBdXRoLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTx2b2lkIHwgbmV2ZXI+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIF9hc3NlcnRJbnN0YW5jZU9mKGF1dGgsIHByb3ZpZGVyLCBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIpO1xuICAvLyBXYWl0IGZvciBhdXRoIGluaXRpYWxpemF0aW9uIHRvIGNvbXBsZXRlLCB0aGlzIHdpbGwgcHJvY2VzcyBwZW5kaW5nIHJlZGlyZWN0cyBhbmQgY2xlYXIgdGhlXG4gIC8vIFBFTkRJTkdfUkVESVJFQ1RfS0VZIGluIHBlcnNpc3RlbmNlLiBUaGlzIHNob3VsZCBiZSBjb21wbGV0ZWQgYmVmb3JlIHN0YXJ0aW5nIGEgbmV3XG4gIC8vIHJlZGlyZWN0IGFuZCBjcmVhdGluZyBhIFBFTkRJTkdfUkVESVJFQ1RfS0VZIGVudHJ5LlxuICBhd2FpdCBhdXRoSW50ZXJuYWwuX2luaXRpYWxpemF0aW9uUHJvbWlzZTtcbiAgY29uc3QgcmVzb2x2ZXJJbnRlcm5hbCA9IF93aXRoRGVmYXVsdFJlc29sdmVyKGF1dGhJbnRlcm5hbCwgcmVzb2x2ZXIpO1xuICBhd2FpdCBfc2V0UGVuZGluZ1JlZGlyZWN0U3RhdHVzKHJlc29sdmVySW50ZXJuYWwsIGF1dGhJbnRlcm5hbCk7XG5cbiAgcmV0dXJuIHJlc29sdmVySW50ZXJuYWwuX29wZW5SZWRpcmVjdChcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgcHJvdmlkZXIsXG4gICAgQXV0aEV2ZW50VHlwZS5TSUdOX0lOX1ZJQV9SRURJUkVDVFxuICApO1xufVxuXG4vKipcbiAqIFJlYXV0aGVudGljYXRlcyB0aGUgY3VycmVudCB1c2VyIHdpdGggdGhlIHNwZWNpZmllZCB7QGxpbmsgT0F1dGhQcm92aWRlcn0gdXNpbmcgYSBmdWxsLXBhZ2UgcmVkaXJlY3QgZmxvdy5cbiAqIEByZW1hcmtzXG4gKiBUbyBoYW5kbGUgdGhlIHJlc3VsdHMgYW5kIGVycm9ycyBmb3IgdGhpcyBvcGVyYXRpb24sIHJlZmVyIHRvIHtAbGluayBnZXRSZWRpcmVjdFJlc3VsdH0uXG4gKiBGb2xsb3cgdGhlIHtAbGluayBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy9hdXRoL3dlYi9yZWRpcmVjdC1iZXN0LXByYWN0aWNlc1xuICogfCBiZXN0IHByYWN0aWNlc30gd2hlbiB1c2luZyB7QGxpbmsgcmVhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3R9LlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIHdpdGgge0BsaW5rIEF1dGh9IGluc3RhbmNlc1xuICogY3JlYXRlZCB3aXRoIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogLy8gUmVhdXRoZW50aWNhdGUgdXNpbmcgYSByZWRpcmVjdC5cbiAqIGF3YWl0IHJlYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0KHJlc3VsdC51c2VyLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgYWdhaW4gdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgdG8gYXV0aGVudGljYXRlLiBUaGUgcHJvdmlkZXIgaGFzIHRvIGJlIGFuIHtAbGluayBPQXV0aFByb3ZpZGVyfS5cbiAqIE5vbi1PQXV0aCBwcm92aWRlcnMgbGlrZSB7QGxpbmsgRW1haWxBdXRoUHJvdmlkZXJ9IHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gKiBAcGFyYW0gcmVzb2x2ZXIgLSBBbiBpbnN0YW5jZSBvZiB7QGxpbmsgUG9wdXBSZWRpcmVjdFJlc29sdmVyfSwgb3B0aW9uYWxcbiAqIGlmIGFscmVhZHkgc3VwcGxpZWQgdG8ge0BsaW5rIGluaXRpYWxpemVBdXRofSBvciBwcm92aWRlZCBieSB7QGxpbmsgZ2V0QXV0aH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3QoXG4gIHVzZXI6IFVzZXIsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPG5ldmVyPiB7XG4gIHJldHVybiBfcmVhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3QoXG4gICAgdXNlcixcbiAgICBwcm92aWRlcixcbiAgICByZXNvbHZlclxuICApIGFzIFByb21pc2U8bmV2ZXI+O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9yZWF1dGhlbnRpY2F0ZVdpdGhSZWRpcmVjdChcbiAgdXNlcjogVXNlcixcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8dm9pZCB8IG5ldmVyPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIF9hc3NlcnRJbnN0YW5jZU9mKHVzZXJJbnRlcm5hbC5hdXRoLCBwcm92aWRlciwgRmVkZXJhdGVkQXV0aFByb3ZpZGVyKTtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHVzZXJJbnRlcm5hbC5hdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcih1c2VySW50ZXJuYWwuYXV0aClcbiAgICApO1xuICB9XG4gIC8vIFdhaXQgZm9yIGF1dGggaW5pdGlhbGl6YXRpb24gdG8gY29tcGxldGUsIHRoaXMgd2lsbCBwcm9jZXNzIHBlbmRpbmcgcmVkaXJlY3RzIGFuZCBjbGVhciB0aGVcbiAgLy8gUEVORElOR19SRURJUkVDVF9LRVkgaW4gcGVyc2lzdGVuY2UuIFRoaXMgc2hvdWxkIGJlIGNvbXBsZXRlZCBiZWZvcmUgc3RhcnRpbmcgYSBuZXdcbiAgLy8gcmVkaXJlY3QgYW5kIGNyZWF0aW5nIGEgUEVORElOR19SRURJUkVDVF9LRVkgZW50cnkuXG4gIGF3YWl0IHVzZXJJbnRlcm5hbC5hdXRoLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gIC8vIEFsbG93IHRoZSByZXNvbHZlciB0byBlcnJvciBiZWZvcmUgcGVyc2lzdGluZyB0aGUgcmVkaXJlY3QgdXNlclxuICBjb25zdCByZXNvbHZlckludGVybmFsID0gX3dpdGhEZWZhdWx0UmVzb2x2ZXIodXNlckludGVybmFsLmF1dGgsIHJlc29sdmVyKTtcbiAgYXdhaXQgX3NldFBlbmRpbmdSZWRpcmVjdFN0YXR1cyhyZXNvbHZlckludGVybmFsLCB1c2VySW50ZXJuYWwuYXV0aCk7XG5cbiAgY29uc3QgZXZlbnRJZCA9IGF3YWl0IHByZXBhcmVVc2VyRm9yUmVkaXJlY3QodXNlckludGVybmFsKTtcbiAgcmV0dXJuIHJlc29sdmVySW50ZXJuYWwuX29wZW5SZWRpcmVjdChcbiAgICB1c2VySW50ZXJuYWwuYXV0aCxcbiAgICBwcm92aWRlcixcbiAgICBBdXRoRXZlbnRUeXBlLlJFQVVUSF9WSUFfUkVESVJFQ1QsXG4gICAgZXZlbnRJZFxuICApO1xufVxuXG4vKipcbiAqIExpbmtzIHRoZSB7QGxpbmsgT0F1dGhQcm92aWRlcn0gdG8gdGhlIHVzZXIgYWNjb3VudCB1c2luZyBhIGZ1bGwtcGFnZSByZWRpcmVjdCBmbG93LlxuICogQHJlbWFya3NcbiAqIFRvIGhhbmRsZSB0aGUgcmVzdWx0cyBhbmQgZXJyb3JzIGZvciB0aGlzIG9wZXJhdGlvbiwgcmVmZXIgdG8ge0BsaW5rIGdldFJlZGlyZWN0UmVzdWx0fS5cbiAqIEZvbGxvdyB0aGUge0BsaW5rIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL2F1dGgvd2ViL3JlZGlyZWN0LWJlc3QtcHJhY3RpY2VzXG4gKiB8IGJlc3QgcHJhY3RpY2VzfSB3aGVuIHVzaW5nIHtAbGluayBsaW5rV2l0aFJlZGlyZWN0fS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciB3aXRoIHtAbGluayBBdXRofSBpbnN0YW5jZXNcbiAqIGNyZWF0ZWQgd2l0aCBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBzb21lIG90aGVyIHByb3ZpZGVyLlxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTtcbiAqIC8vIExpbmsgdXNpbmcgYSByZWRpcmVjdC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG4gKiBhd2FpdCBsaW5rV2l0aFJlZGlyZWN0KHJlc3VsdC51c2VyLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgdG8gYXV0aGVudGljYXRlLiBUaGUgcHJvdmlkZXIgaGFzIHRvIGJlIGFuIHtAbGluayBPQXV0aFByb3ZpZGVyfS5cbiAqIE5vbi1PQXV0aCBwcm92aWRlcnMgbGlrZSB7QGxpbmsgRW1haWxBdXRoUHJvdmlkZXJ9IHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gKiBAcGFyYW0gcmVzb2x2ZXIgLSBBbiBpbnN0YW5jZSBvZiB7QGxpbmsgUG9wdXBSZWRpcmVjdFJlc29sdmVyfSwgb3B0aW9uYWxcbiAqIGlmIGFscmVhZHkgc3VwcGxpZWQgdG8ge0BsaW5rIGluaXRpYWxpemVBdXRofSBvciBwcm92aWRlZCBieSB7QGxpbmsgZ2V0QXV0aH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gbGlua1dpdGhSZWRpcmVjdChcbiAgdXNlcjogVXNlcixcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8bmV2ZXI+IHtcbiAgcmV0dXJuIF9saW5rV2l0aFJlZGlyZWN0KHVzZXIsIHByb3ZpZGVyLCByZXNvbHZlcikgYXMgUHJvbWlzZTxuZXZlcj47XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2xpbmtXaXRoUmVkaXJlY3QoXG4gIHVzZXI6IFVzZXIsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPHZvaWQgfCBuZXZlcj4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBfYXNzZXJ0SW5zdGFuY2VPZih1c2VySW50ZXJuYWwuYXV0aCwgcHJvdmlkZXIsIEZlZGVyYXRlZEF1dGhQcm92aWRlcik7XG4gIC8vIFdhaXQgZm9yIGF1dGggaW5pdGlhbGl6YXRpb24gdG8gY29tcGxldGUsIHRoaXMgd2lsbCBwcm9jZXNzIHBlbmRpbmcgcmVkaXJlY3RzIGFuZCBjbGVhciB0aGVcbiAgLy8gUEVORElOR19SRURJUkVDVF9LRVkgaW4gcGVyc2lzdGVuY2UuIFRoaXMgc2hvdWxkIGJlIGNvbXBsZXRlZCBiZWZvcmUgc3RhcnRpbmcgYSBuZXdcbiAgLy8gcmVkaXJlY3QgYW5kIGNyZWF0aW5nIGEgUEVORElOR19SRURJUkVDVF9LRVkgZW50cnkuXG4gIGF3YWl0IHVzZXJJbnRlcm5hbC5hdXRoLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gIC8vIEFsbG93IHRoZSByZXNvbHZlciB0byBlcnJvciBiZWZvcmUgcGVyc2lzdGluZyB0aGUgcmVkaXJlY3QgdXNlclxuICBjb25zdCByZXNvbHZlckludGVybmFsID0gX3dpdGhEZWZhdWx0UmVzb2x2ZXIodXNlckludGVybmFsLmF1dGgsIHJlc29sdmVyKTtcbiAgYXdhaXQgX2Fzc2VydExpbmtlZFN0YXR1cyhmYWxzZSwgdXNlckludGVybmFsLCBwcm92aWRlci5wcm92aWRlcklkKTtcbiAgYXdhaXQgX3NldFBlbmRpbmdSZWRpcmVjdFN0YXR1cyhyZXNvbHZlckludGVybmFsLCB1c2VySW50ZXJuYWwuYXV0aCk7XG5cbiAgY29uc3QgZXZlbnRJZCA9IGF3YWl0IHByZXBhcmVVc2VyRm9yUmVkaXJlY3QodXNlckludGVybmFsKTtcbiAgcmV0dXJuIHJlc29sdmVySW50ZXJuYWwuX29wZW5SZWRpcmVjdChcbiAgICB1c2VySW50ZXJuYWwuYXV0aCxcbiAgICBwcm92aWRlcixcbiAgICBBdXRoRXZlbnRUeXBlLkxJTktfVklBX1JFRElSRUNULFxuICAgIGV2ZW50SWRcbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEge0BsaW5rIFVzZXJDcmVkZW50aWFsfSBmcm9tIHRoZSByZWRpcmVjdC1iYXNlZCBzaWduLWluIGZsb3cuXG4gKlxuICogQHJlbWFya3NcbiAqIElmIHNpZ24taW4gc3VjY2VlZGVkLCByZXR1cm5zIHRoZSBzaWduZWQgaW4gdXNlci4gSWYgc2lnbi1pbiB3YXMgdW5zdWNjZXNzZnVsLCBmYWlscyB3aXRoIGFuXG4gKiBlcnJvci4gSWYgbm8gcmVkaXJlY3Qgb3BlcmF0aW9uIHdhcyBjYWxsZWQsIHJldHVybnMgYG51bGxgLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIHdpdGgge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBGYWNlYm9va0F1dGhQcm92aWRlcigpO1xuICogLy8gWW91IGNhbiBhZGQgYWRkaXRpb25hbCBzY29wZXMgdG8gdGhlIHByb3ZpZGVyOlxuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3VzZXJfYmlydGhkYXknKTtcbiAqIC8vIFN0YXJ0IGEgc2lnbiBpbiBwcm9jZXNzIGZvciBhbiB1bmF1dGhlbnRpY2F0ZWQgdXNlci5cbiAqIGF3YWl0IHNpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIGlmIChyZXN1bHQpIHtcbiAqICAgLy8gVGhpcyBpcyB0aGUgc2lnbmVkLWluIHVzZXJcbiAqICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogICAvLyBUaGlzIGdpdmVzIHlvdSBhIEZhY2Vib29rIEFjY2VzcyBUb2tlbi5cbiAqICAgY29uc3QgY3JlZGVudGlhbCA9IHByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KGF1dGgsIHJlc3VsdCk7XG4gKiAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIH1cbiAqIC8vIEFzIHRoaXMgQVBJIGNhbiBiZSB1c2VkIGZvciBzaWduLWluLCBsaW5raW5nIGFuZCByZWF1dGhlbnRpY2F0aW9uLFxuICogLy8gY2hlY2sgdGhlIG9wZXJhdGlvblR5cGUgdG8gZGV0ZXJtaW5lIHdoYXQgdHJpZ2dlcmVkIHRoaXMgcmVkaXJlY3RcbiAqIC8vIG9wZXJhdGlvbi5cbiAqIGNvbnN0IG9wZXJhdGlvblR5cGUgPSByZXN1bHQub3BlcmF0aW9uVHlwZTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSByZXNvbHZlciAtIEFuIGluc3RhbmNlIG9mIHtAbGluayBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJ9LCBvcHRpb25hbFxuICogaWYgYWxyZWFkeSBzdXBwbGllZCB0byB7QGxpbmsgaW5pdGlhbGl6ZUF1dGh9IG9yIHByb3ZpZGVkIGJ5IHtAbGluayBnZXRBdXRofS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZWRpcmVjdFJlc3VsdChcbiAgYXV0aDogQXV0aCxcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWwgfCBudWxsPiB7XG4gIGF3YWl0IF9jYXN0QXV0aChhdXRoKS5faW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICByZXR1cm4gX2dldFJlZGlyZWN0UmVzdWx0KGF1dGgsIHJlc29sdmVyLCBmYWxzZSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfZ2V0UmVkaXJlY3RSZXN1bHQoXG4gIGF1dGg6IEF1dGgsXG4gIHJlc29sdmVyRXh0ZXJuPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyLFxuICBieXBhc3NBdXRoU3RhdGUgPSBmYWxzZVxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbCB8IG51bGw+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIGNvbnN0IHJlc29sdmVyID0gX3dpdGhEZWZhdWx0UmVzb2x2ZXIoYXV0aEludGVybmFsLCByZXNvbHZlckV4dGVybik7XG4gIGNvbnN0IGFjdGlvbiA9IG5ldyBSZWRpcmVjdEFjdGlvbihhdXRoSW50ZXJuYWwsIHJlc29sdmVyLCBieXBhc3NBdXRoU3RhdGUpO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBhY3Rpb24uZXhlY3V0ZSgpO1xuXG4gIGlmIChyZXN1bHQgJiYgIWJ5cGFzc0F1dGhTdGF0ZSkge1xuICAgIGRlbGV0ZSByZXN1bHQudXNlci5fcmVkaXJlY3RFdmVudElkO1xuICAgIGF3YWl0IGF1dGhJbnRlcm5hbC5fcGVyc2lzdFVzZXJJZkN1cnJlbnQocmVzdWx0LnVzZXIgYXMgVXNlckludGVybmFsKTtcbiAgICBhd2FpdCBhdXRoSW50ZXJuYWwuX3NldFJlZGlyZWN0VXNlcihudWxsLCByZXNvbHZlckV4dGVybik7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5hc3luYyBmdW5jdGlvbiBwcmVwYXJlVXNlckZvclJlZGlyZWN0KHVzZXI6IFVzZXJJbnRlcm5hbCk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IGV2ZW50SWQgPSBfZ2VuZXJhdGVFdmVudElkKGAke3VzZXIudWlkfTo6OmApO1xuICB1c2VyLl9yZWRpcmVjdEV2ZW50SWQgPSBldmVudElkO1xuICBhd2FpdCB1c2VyLmF1dGguX3NldFJlZGlyZWN0VXNlcih1c2VyKTtcbiAgYXdhaXQgdXNlci5hdXRoLl9wZXJzaXN0VXNlcklmQ3VycmVudCh1c2VyKTtcbiAgcmV0dXJuIGV2ZW50SWQ7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQXV0aEV2ZW50LFxuICBBdXRoRXZlbnRDb25zdW1lcixcbiAgQXV0aEV2ZW50VHlwZSxcbiAgRXZlbnRNYW5hZ2VyXG59IGZyb20gJy4uLy4uL21vZGVsL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBfY3JlYXRlRXJyb3IgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5cbi8vIFRoZSBhbW91bnQgb2YgdGltZSB0byBzdG9yZSB0aGUgVUlEcyBvZiBzZWVuIGV2ZW50czsgdGhpcyBpc1xuLy8gc2V0IHRvIDEwIG1pbiBieSBkZWZhdWx0XG5jb25zdCBFVkVOVF9EVVBMSUNBVElPTl9DQUNIRV9EVVJBVElPTl9NUyA9IDEwICogNjAgKiAxMDAwO1xuXG5leHBvcnQgY2xhc3MgQXV0aEV2ZW50TWFuYWdlciBpbXBsZW1lbnRzIEV2ZW50TWFuYWdlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FjaGVkRXZlbnRVaWRzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcbiAgcHJpdmF0ZSByZWFkb25seSBjb25zdW1lcnM6IFNldDxBdXRoRXZlbnRDb25zdW1lcj4gPSBuZXcgU2V0KCk7XG4gIHByb3RlY3RlZCBxdWV1ZWRSZWRpcmVjdEV2ZW50OiBBdXRoRXZlbnQgfCBudWxsID0gbnVsbDtcbiAgcHJvdGVjdGVkIGhhc0hhbmRsZWRQb3RlbnRpYWxSZWRpcmVjdCA9IGZhbHNlO1xuICBwcml2YXRlIGxhc3RQcm9jZXNzZWRFdmVudFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsKSB7fVxuXG4gIHJlZ2lzdGVyQ29uc3VtZXIoYXV0aEV2ZW50Q29uc3VtZXI6IEF1dGhFdmVudENvbnN1bWVyKTogdm9pZCB7XG4gICAgdGhpcy5jb25zdW1lcnMuYWRkKGF1dGhFdmVudENvbnN1bWVyKTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMucXVldWVkUmVkaXJlY3RFdmVudCAmJlxuICAgICAgdGhpcy5pc0V2ZW50Rm9yQ29uc3VtZXIodGhpcy5xdWV1ZWRSZWRpcmVjdEV2ZW50LCBhdXRoRXZlbnRDb25zdW1lcilcbiAgICApIHtcbiAgICAgIHRoaXMuc2VuZFRvQ29uc3VtZXIodGhpcy5xdWV1ZWRSZWRpcmVjdEV2ZW50LCBhdXRoRXZlbnRDb25zdW1lcik7XG4gICAgICB0aGlzLnNhdmVFdmVudFRvQ2FjaGUodGhpcy5xdWV1ZWRSZWRpcmVjdEV2ZW50KTtcbiAgICAgIHRoaXMucXVldWVkUmVkaXJlY3RFdmVudCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgdW5yZWdpc3RlckNvbnN1bWVyKGF1dGhFdmVudENvbnN1bWVyOiBBdXRoRXZlbnRDb25zdW1lcik6IHZvaWQge1xuICAgIHRoaXMuY29uc3VtZXJzLmRlbGV0ZShhdXRoRXZlbnRDb25zdW1lcik7XG4gIH1cblxuICBvbkV2ZW50KGV2ZW50OiBBdXRoRXZlbnQpOiBib29sZWFuIHtcbiAgICAvLyBDaGVjayBpZiB0aGUgZXZlbnQgaGFzIGFscmVhZHkgYmVlbiBoYW5kbGVkXG4gICAgaWYgKHRoaXMuaGFzRXZlbnRCZWVuSGFuZGxlZChldmVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuY29uc3VtZXJzLmZvckVhY2goY29uc3VtZXIgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNFdmVudEZvckNvbnN1bWVyKGV2ZW50LCBjb25zdW1lcikpIHtcbiAgICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VuZFRvQ29uc3VtZXIoZXZlbnQsIGNvbnN1bWVyKTtcbiAgICAgICAgdGhpcy5zYXZlRXZlbnRUb0NhY2hlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmhhc0hhbmRsZWRQb3RlbnRpYWxSZWRpcmVjdCB8fCAhaXNSZWRpcmVjdEV2ZW50KGV2ZW50KSkge1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBzZWVuIGEgcmVkaXJlY3QgYmVmb3JlLCBvciB0aGlzIGlzIGEgcG9wdXAgZXZlbnQsXG4gICAgICAvLyBiYWlsIG5vd1xuICAgICAgcmV0dXJuIGhhbmRsZWQ7XG4gICAgfVxuXG4gICAgdGhpcy5oYXNIYW5kbGVkUG90ZW50aWFsUmVkaXJlY3QgPSB0cnVlO1xuXG4gICAgLy8gSWYgdGhlIHJlZGlyZWN0IHdhc24ndCBoYW5kbGVkLCBoYW5nIG9uIHRvIGl0XG4gICAgaWYgKCFoYW5kbGVkKSB7XG4gICAgICB0aGlzLnF1ZXVlZFJlZGlyZWN0RXZlbnQgPSBldmVudDtcbiAgICAgIGhhbmRsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVkO1xuICB9XG5cbiAgcHJpdmF0ZSBzZW5kVG9Db25zdW1lcihldmVudDogQXV0aEV2ZW50LCBjb25zdW1lcjogQXV0aEV2ZW50Q29uc3VtZXIpOiB2b2lkIHtcbiAgICBpZiAoZXZlbnQuZXJyb3IgJiYgIWlzTnVsbFJlZGlyZWN0RXZlbnQoZXZlbnQpKSB7XG4gICAgICBjb25zdCBjb2RlID1cbiAgICAgICAgKGV2ZW50LmVycm9yLmNvZGU/LnNwbGl0KCdhdXRoLycpWzFdIGFzIEF1dGhFcnJvckNvZGUpIHx8XG4gICAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1I7XG4gICAgICBjb25zdW1lci5vbkVycm9yKF9jcmVhdGVFcnJvcih0aGlzLmF1dGgsIGNvZGUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3VtZXIub25BdXRoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaXNFdmVudEZvckNvbnN1bWVyKFxuICAgIGV2ZW50OiBBdXRoRXZlbnQsXG4gICAgY29uc3VtZXI6IEF1dGhFdmVudENvbnN1bWVyXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGV2ZW50SWRNYXRjaGVzID1cbiAgICAgIGNvbnN1bWVyLmV2ZW50SWQgPT09IG51bGwgfHxcbiAgICAgICghIWV2ZW50LmV2ZW50SWQgJiYgZXZlbnQuZXZlbnRJZCA9PT0gY29uc3VtZXIuZXZlbnRJZCk7XG4gICAgcmV0dXJuIGNvbnN1bWVyLmZpbHRlci5pbmNsdWRlcyhldmVudC50eXBlKSAmJiBldmVudElkTWF0Y2hlcztcbiAgfVxuXG4gIHByaXZhdGUgaGFzRXZlbnRCZWVuSGFuZGxlZChldmVudDogQXV0aEV2ZW50KTogYm9vbGVhbiB7XG4gICAgaWYgKFxuICAgICAgRGF0ZS5ub3coKSAtIHRoaXMubGFzdFByb2Nlc3NlZEV2ZW50VGltZSA+PVxuICAgICAgRVZFTlRfRFVQTElDQVRJT05fQ0FDSEVfRFVSQVRJT05fTVNcbiAgICApIHtcbiAgICAgIHRoaXMuY2FjaGVkRXZlbnRVaWRzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2FjaGVkRXZlbnRVaWRzLmhhcyhldmVudFVpZChldmVudCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBzYXZlRXZlbnRUb0NhY2hlKGV2ZW50OiBBdXRoRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLmNhY2hlZEV2ZW50VWlkcy5hZGQoZXZlbnRVaWQoZXZlbnQpKTtcbiAgICB0aGlzLmxhc3RQcm9jZXNzZWRFdmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VWlkKGU6IEF1dGhFdmVudCk6IHN0cmluZyB7XG4gIHJldHVybiBbZS50eXBlLCBlLmV2ZW50SWQsIGUuc2Vzc2lvbklkLCBlLnRlbmFudElkXS5maWx0ZXIodiA9PiB2KS5qb2luKCctJyk7XG59XG5cbmZ1bmN0aW9uIGlzTnVsbFJlZGlyZWN0RXZlbnQoeyB0eXBlLCBlcnJvciB9OiBBdXRoRXZlbnQpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlID09PSBBdXRoRXZlbnRUeXBlLlVOS05PV04gJiZcbiAgICBlcnJvcj8uY29kZSA9PT0gYGF1dGgvJHtBdXRoRXJyb3JDb2RlLk5PX0FVVEhfRVZFTlR9YFxuICApO1xufVxuXG5mdW5jdGlvbiBpc1JlZGlyZWN0RXZlbnQoZXZlbnQ6IEF1dGhFdmVudCk6IGJvb2xlYW4ge1xuICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICBjYXNlIEF1dGhFdmVudFR5cGUuU0lHTl9JTl9WSUFfUkVESVJFQ1Q6XG4gICAgY2FzZSBBdXRoRXZlbnRUeXBlLkxJTktfVklBX1JFRElSRUNUOlxuICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5SRUFVVEhfVklBX1JFRElSRUNUOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY2FzZSBBdXRoRXZlbnRUeXBlLlVOS05PV046XG4gICAgICByZXR1cm4gaXNOdWxsUmVkaXJlY3RFdmVudChldmVudCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IF9wZXJmb3JtQXBpUmVxdWVzdCwgRW5kcG9pbnQsIEh0dHBNZXRob2QgfSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBHZXRQcm9qZWN0Q29uZmlnUmVxdWVzdCB7XG4gIGFuZHJvaWRQYWNrYWdlTmFtZT86IHN0cmluZztcbiAgaW9zQnVuZGxlSWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0UHJvamVjdENvbmZpZ1Jlc3BvbnNlIHtcbiAgYXV0aG9yaXplZERvbWFpbnM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2dldFByb2plY3RDb25maWcoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEdldFByb2plY3RDb25maWdSZXF1ZXN0ID0ge31cbik6IFByb21pc2U8R2V0UHJvamVjdENvbmZpZ1Jlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8R2V0UHJvamVjdENvbmZpZ1JlcXVlc3QsIEdldFByb2plY3RDb25maWdSZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLkdFVCxcbiAgICBFbmRwb2ludC5HRVRfUFJPSkVDVF9DT05GSUcsXG4gICAgcmVxdWVzdFxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IF9nZXRQcm9qZWN0Q29uZmlnIH0gZnJvbSAnLi4vLi4vYXBpL3Byb2plY3RfY29uZmlnL2dldF9wcm9qZWN0X2NvbmZpZyc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2ZhaWwgfSBmcm9tICcuL2Fzc2VydCc7XG5pbXBvcnQgeyBfZ2V0Q3VycmVudFVybCB9IGZyb20gJy4vbG9jYXRpb24nO1xuXG5jb25zdCBJUF9BRERSRVNTX1JFR0VYID0gL15cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfSQvO1xuY29uc3QgSFRUUF9SRUdFWCA9IC9eaHR0cHM/LztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF92YWxpZGF0ZU9yaWdpbihhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gU2tpcCBvcmlnaW4gdmFsaWRhdGlvbiBpZiB3ZSBhcmUgaW4gYW4gZW11bGF0ZWQgZW52aXJvbm1lbnRcbiAgaWYgKGF1dGguY29uZmlnLmVtdWxhdG9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgeyBhdXRob3JpemVkRG9tYWlucyB9ID0gYXdhaXQgX2dldFByb2plY3RDb25maWcoYXV0aCk7XG5cbiAgZm9yIChjb25zdCBkb21haW4gb2YgYXV0aG9yaXplZERvbWFpbnMpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKG1hdGNoRG9tYWluKGRvbWFpbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gRG8gbm90aGluZyBpZiB0aGVyZSdzIGEgVVJMIGVycm9yOyBqdXN0IGNvbnRpbnVlIHNlYXJjaGluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIEluIHRoZSBvbGQgU0RLLCB0aGlzIGVycm9yIGFsc28gcHJvdmlkZXMgaGVscGZ1bCBtZXNzYWdlcy5cbiAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5JTlZBTElEX09SSUdJTik7XG59XG5cbmZ1bmN0aW9uIG1hdGNoRG9tYWluKGV4cGVjdGVkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgY3VycmVudFVybCA9IF9nZXRDdXJyZW50VXJsKCk7XG4gIGNvbnN0IHsgcHJvdG9jb2wsIGhvc3RuYW1lIH0gPSBuZXcgVVJMKGN1cnJlbnRVcmwpO1xuICBpZiAoZXhwZWN0ZWQuc3RhcnRzV2l0aCgnY2hyb21lLWV4dGVuc2lvbjovLycpKSB7XG4gICAgY29uc3QgY2VVcmwgPSBuZXcgVVJMKGV4cGVjdGVkKTtcblxuICAgIGlmIChjZVVybC5ob3N0bmFtZSA9PT0gJycgJiYgaG9zdG5hbWUgPT09ICcnKSB7XG4gICAgICAvLyBGb3Igc29tZSByZWFzb24gd2UncmUgbm90IHBhcnNpbmcgY2hyb21lIFVSTHMgcHJvcGVybHlcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHByb3RvY29sID09PSAnY2hyb21lLWV4dGVuc2lvbjonICYmXG4gICAgICAgIGV4cGVjdGVkLnJlcGxhY2UoJ2Nocm9tZS1leHRlbnNpb246Ly8nLCAnJykgPT09XG4gICAgICAgICAgY3VycmVudFVybC5yZXBsYWNlKCdjaHJvbWUtZXh0ZW5zaW9uOi8vJywgJycpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwcm90b2NvbCA9PT0gJ2Nocm9tZS1leHRlbnNpb246JyAmJiBjZVVybC5ob3N0bmFtZSA9PT0gaG9zdG5hbWU7XG4gIH1cblxuICBpZiAoIUhUVFBfUkVHRVgudGVzdChwcm90b2NvbCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoSVBfQUREUkVTU19SRUdFWC50ZXN0KGV4cGVjdGVkKSkge1xuICAgIC8vIFRoZSBkb21haW4gaGFzIHRvIGJlIGV4YWN0bHkgZXF1YWwgdG8gdGhlIHBhdHRlcm4sIGFzIGFuIElQIGRvbWFpbiB3aWxsXG4gICAgLy8gb25seSBjb250YWluIHRoZSBJUCwgbm8gZXh0cmEgY2hhcmFjdGVyLlxuICAgIHJldHVybiBob3N0bmFtZSA9PT0gZXhwZWN0ZWQ7XG4gIH1cblxuICAvLyBEb3RzIGluIHBhdHRlcm4gc2hvdWxkIGJlIGVzY2FwZWQuXG4gIGNvbnN0IGVzY2FwZWREb21haW5QYXR0ZXJuID0gZXhwZWN0ZWQucmVwbGFjZSgvXFwuL2csICdcXFxcLicpO1xuICAvLyBOb24gaXAgYWRkcmVzcyBkb21haW5zLlxuICAvLyBkb21haW4uY29tID0gKi5kb21haW4uY29tIE9SIGRvbWFpbi5jb21cbiAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKFxuICAgICdeKC4rXFxcXC4nICsgZXNjYXBlZERvbWFpblBhdHRlcm4gKyAnfCcgKyBlc2NhcGVkRG9tYWluUGF0dGVybiArICcpJCcsXG4gICAgJ2knXG4gICk7XG4gIHJldHVybiByZS50ZXN0KGhvc3RuYW1lKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9jcmVhdGVFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgRGVsYXkgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvZGVsYXknO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBfd2luZG93IH0gZnJvbSAnLi4vYXV0aF93aW5kb3cnO1xuaW1wb3J0ICogYXMganMgZnJvbSAnLi4vbG9hZF9qcyc7XG5cbmNvbnN0IE5FVFdPUktfVElNRU9VVCA9IG5ldyBEZWxheSgzMDAwMCwgNjAwMDApO1xuXG4vKipcbiAqIFJlc2V0IHVubG9hZGVkIEdBcGkgbW9kdWxlcy4gSWYgZ2FwaS5sb2FkIGZhaWxzIGR1ZSB0byBhIG5ldHdvcmsgZXJyb3IsXG4gKiBpdCB3aWxsIHN0b3Agd29ya2luZyBhZnRlciBhIHJldHJpYWwuIFRoaXMgaXMgYSBoYWNrIHRvIGZpeCB0aGlzIGlzc3VlLlxuICovXG5mdW5jdGlvbiByZXNldFVubG9hZGVkR2FwaU1vZHVsZXMoKTogdm9pZCB7XG4gIC8vIENsZWFyIGxhc3QgZmFpbGVkIGdhcGkubG9hZCBzdGF0ZSB0byBmb3JjZSBuZXh0IGdhcGkubG9hZCB0byBmaXJzdFxuICAvLyBsb2FkIHRoZSBmYWlsZWQgZ2FwaS5pZnJhbWVzIG1vZHVsZS5cbiAgLy8gR2V0IGdhcGl4LmJlYWNvbiBjb250ZXh0LlxuICBjb25zdCBiZWFjb24gPSBfd2luZG93KCkuX19fanNsO1xuICAvLyBHZXQgY3VycmVudCBoaW50LlxuICBpZiAoYmVhY29uPy5IKSB7XG4gICAgLy8gR2V0IGdhcGkgaGludC5cbiAgICBmb3IgKGNvbnN0IGhpbnQgb2YgT2JqZWN0LmtleXMoYmVhY29uLkgpKSB7XG4gICAgICAvLyBSZXF1ZXN0ZWQgbW9kdWxlcy5cbiAgICAgIGJlYWNvbi5IW2hpbnRdLnIgPSBiZWFjb24uSFtoaW50XS5yIHx8IFtdO1xuICAgICAgLy8gTG9hZGVkIG1vZHVsZXMuXG4gICAgICBiZWFjb24uSFtoaW50XS5MID0gYmVhY29uLkhbaGludF0uTCB8fCBbXTtcbiAgICAgIC8vIFNldCByZXF1ZXN0ZWQgbW9kdWxlcyB0byBhIGNvcHkgb2YgdGhlIGxvYWRlZCBtb2R1bGVzLlxuICAgICAgYmVhY29uLkhbaGludF0uciA9IFsuLi5iZWFjb24uSFtoaW50XS5MXTtcbiAgICAgIC8vIENsZWFyIHBlbmRpbmcgY2FsbGJhY2tzLlxuICAgICAgaWYgKGJlYWNvbi5DUCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJlYWNvbi5DUC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIC8vIFJlbW92ZSBhbGwgZmFpbGVkIHBlbmRpbmcgY2FsbGJhY2tzLlxuICAgICAgICAgIGJlYWNvbi5DUFtpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbG9hZEdhcGkoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxnYXBpLmlmcmFtZXMuQ29udGV4dD4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8Z2FwaS5pZnJhbWVzLkNvbnRleHQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyBGdW5jdGlvbiB0byBydW4gd2hlbiBnYXBpLmxvYWQgaXMgcmVhZHkuXG4gICAgZnVuY3Rpb24gbG9hZEdhcGlJZnJhbWUoKTogdm9pZCB7XG4gICAgICAvLyBUaGUgZGV2ZWxvcGVyIG1heSBoYXZlIHRyaWVkIHRvIHByZXZpb3VzbHkgcnVuIGdhcGkubG9hZCBhbmQgZmFpbGVkLlxuICAgICAgLy8gUnVuIHRoaXMgdG8gZml4IHRoYXQuXG4gICAgICByZXNldFVubG9hZGVkR2FwaU1vZHVsZXMoKTtcbiAgICAgIGdhcGkubG9hZCgnZ2FwaS5pZnJhbWVzJywge1xuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZ2FwaS5pZnJhbWVzLmdldENvbnRleHQoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9udGltZW91dDogKCkgPT4ge1xuICAgICAgICAgIC8vIFRoZSBhYm92ZSByZXNldCBtYXkgYmUgc3VmZmljaWVudCwgYnV0IGhhdmluZyB0aGlzIHJlc2V0IGFmdGVyXG4gICAgICAgICAgLy8gZmFpbHVyZSBlbnN1cmVzIHRoYXQgaWYgdGhlIGRldmVsb3BlciBjYWxscyBnYXBpLmxvYWQgYWZ0ZXIgdGhlXG4gICAgICAgICAgLy8gY29ubmVjdGlvbiBpcyByZS1lc3RhYmxpc2hlZCBhbmQgYmVmb3JlIGFub3RoZXIgYXR0ZW1wdCB0byBlbWJlZFxuICAgICAgICAgIC8vIHRoZSBpZnJhbWUsIGl0IHdvdWxkIHdvcmsgYW5kIHdvdWxkIG5vdCBiZSBicm9rZW4gYmVjYXVzZSBvZiBvdXJcbiAgICAgICAgICAvLyBmYWlsZWQgYXR0ZW1wdC5cbiAgICAgICAgICAvLyBUaW1lb3V0IHdoZW4gZ2FwaS5pZnJhbWVzLklmcmFtZSBub3QgbG9hZGVkLlxuICAgICAgICAgIHJlc2V0VW5sb2FkZWRHYXBpTW9kdWxlcygpO1xuICAgICAgICAgIHJlamVjdChfY3JlYXRlRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5ORVRXT1JLX1JFUVVFU1RfRkFJTEVEKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVvdXQ6IE5FVFdPUktfVElNRU9VVC5nZXQoKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKF93aW5kb3coKS5nYXBpPy5pZnJhbWVzPy5JZnJhbWUpIHtcbiAgICAgIC8vIElmIGdhcGkuaWZyYW1lcy5JZnJhbWUgYXZhaWxhYmxlLCByZXNvbHZlLlxuICAgICAgcmVzb2x2ZShnYXBpLmlmcmFtZXMuZ2V0Q29udGV4dCgpKTtcbiAgICB9IGVsc2UgaWYgKCEhX3dpbmRvdygpLmdhcGk/LmxvYWQpIHtcbiAgICAgIC8vIEdhcGkgbG9hZGVyIHJlYWR5LCBsb2FkIGdhcGkuaWZyYW1lcy5cbiAgICAgIGxvYWRHYXBpSWZyYW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBpZnJhbWUgY2FsbGJhY2sgd2hlbiB0aGlzIGlzIGNhbGxlZCBzbyBhcyBub3QgdG8gb3ZlcndyaXRlXG4gICAgICAvLyBhbnkgcHJldmlvdXMgZGVmaW5lZCBjYWxsYmFjay4gVGhpcyBoYXBwZW5zIGlmIHRoaXMgbWV0aG9kIGlzIGNhbGxlZFxuICAgICAgLy8gbXVsdGlwbGUgdGltZXMgaW4gcGFyYWxsZWwgYW5kIGNvdWxkIHJlc3VsdCBpbiB0aGUgbGF0ZXIgY2FsbGJhY2tcbiAgICAgIC8vIG92ZXJ3cml0aW5nIHRoZSBwcmV2aW91cyBvbmUuIFRoaXMgd291bGQgZW5kIHVwIHdpdGggYSBpZnJhbWVcbiAgICAgIC8vIHRpbWVvdXQuXG4gICAgICBjb25zdCBjYk5hbWUgPSBqcy5fZ2VuZXJhdGVDYWxsYmFja05hbWUoJ2lmcmFtZWZjYicpO1xuICAgICAgLy8gR0FwaSBsb2FkZXIgbm90IGF2YWlsYWJsZSwgZHluYW1pY2FsbHkgbG9hZCBwbGF0Zm9ybS5qcy5cbiAgICAgIF93aW5kb3coKVtjYk5hbWVdID0gKCkgPT4ge1xuICAgICAgICAvLyBHQXBpIGxvYWRlciBzaG91bGQgYmUgcmVhZHkuXG4gICAgICAgIGlmICghIWdhcGkubG9hZCkge1xuICAgICAgICAgIGxvYWRHYXBpSWZyYW1lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gR2FwaSBsb2FkZXIgZmFpbGVkLCB0aHJvdyBlcnJvci5cbiAgICAgICAgICByZWplY3QoX2NyZWF0ZUVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuTkVUV09SS19SRVFVRVNUX0ZBSUxFRCkpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLy8gTG9hZCBHQXBpIGxvYWRlci5cbiAgICAgIHJldHVybiBqc1xuICAgICAgICAuX2xvYWRKUyhgJHtqcy5fZ2FwaVNjcmlwdFVybCgpfT9vbmxvYWQ9JHtjYk5hbWV9YClcbiAgICAgICAgLmNhdGNoKGUgPT4gcmVqZWN0KGUpKTtcbiAgICB9XG4gIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAvLyBSZXNldCBjYWNoZWQgcHJvbWlzZSB0byBhbGxvdyBmb3IgcmV0cmlhbC5cbiAgICBjYWNoZWRHQXBpTG9hZGVyID0gbnVsbDtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfSk7XG59XG5cbmxldCBjYWNoZWRHQXBpTG9hZGVyOiBQcm9taXNlPGdhcGkuaWZyYW1lcy5Db250ZXh0PiB8IG51bGwgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIF9sb2FkR2FwaShhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPGdhcGkuaWZyYW1lcy5Db250ZXh0PiB7XG4gIGNhY2hlZEdBcGlMb2FkZXIgPSBjYWNoZWRHQXBpTG9hZGVyIHx8IGxvYWRHYXBpKGF1dGgpO1xuICByZXR1cm4gY2FjaGVkR0FwaUxvYWRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9yZXNldExvYWRlcigpOiB2b2lkIHtcbiAgY2FjaGVkR0FwaUxvYWRlciA9IG51bGw7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFNES19WRVJTSU9OIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBxdWVyeXN0cmluZyB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IERlZmF1bHRDb25maWcgfSBmcm9tICcuLi8uLi8uLi9pbnRlcm5hbCc7XG5cbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0LCBfY3JlYXRlRXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IERlbGF5IH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2RlbGF5JztcbmltcG9ydCB7IF9lbXVsYXRvclVybCB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9lbXVsYXRvcic7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IF93aW5kb3cgfSBmcm9tICcuLi9hdXRoX3dpbmRvdyc7XG5pbXBvcnQgKiBhcyBnYXBpTG9hZGVyIGZyb20gJy4vZ2FwaSc7XG5cbmNvbnN0IFBJTkdfVElNRU9VVCA9IG5ldyBEZWxheSg1MDAwLCAxNTAwMCk7XG5jb25zdCBJRlJBTUVfUEFUSCA9ICdfXy9hdXRoL2lmcmFtZSc7XG5jb25zdCBFTVVMQVRFRF9JRlJBTUVfUEFUSCA9ICdlbXVsYXRvci9hdXRoL2lmcmFtZSc7XG5cbmNvbnN0IElGUkFNRV9BVFRSSUJVVEVTID0ge1xuICBzdHlsZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogJy0xMDBweCcsXG4gICAgd2lkdGg6ICcxcHgnLFxuICAgIGhlaWdodDogJzFweCdcbiAgfSxcbiAgJ2FyaWEtaGlkZGVuJzogJ3RydWUnLFxuICB0YWJpbmRleDogJy0xJ1xufTtcblxuLy8gTWFwIGZyb20gYXBpSG9zdCB0byBlbmRwb2ludCBJRCBmb3IgcGFzc2luZyBpbnRvIGlmcmFtZS4gSW4gY3VycmVudCBTREssIGFwaUhvc3QgY2FuIGJlIHNldCB0b1xuLy8gYW55dGhpbmcgKG5vdCBmcm9tIGEgbGlzdCBvZiBlbmRwb2ludHMgd2l0aCBJRHMgYXMgaW4gbGVnYWN5KSwgc28gdGhpcyBpcyB0aGUgY2xvc2VzdCB3ZSBjYW4gZ2V0LlxuY29uc3QgRUlEX0ZST01fQVBJSE9TVCA9IG5ldyBNYXAoW1xuICBbRGVmYXVsdENvbmZpZy5BUElfSE9TVCwgJ3AnXSwgLy8gcHJvZHVjdGlvblxuICBbJ3N0YWdpbmctaWRlbnRpdHl0b29sa2l0LnNhbmRib3guZ29vZ2xlYXBpcy5jb20nLCAncyddLCAvLyBzdGFnaW5nXG4gIFsndGVzdC1pZGVudGl0eXRvb2xraXQuc2FuZGJveC5nb29nbGVhcGlzLmNvbScsICd0J10gLy8gdGVzdFxuXSk7XG5cbmZ1bmN0aW9uIGdldElmcmFtZVVybChhdXRoOiBBdXRoSW50ZXJuYWwpOiBzdHJpbmcge1xuICBjb25zdCBjb25maWcgPSBhdXRoLmNvbmZpZztcbiAgX2Fzc2VydChjb25maWcuYXV0aERvbWFpbiwgYXV0aCwgQXV0aEVycm9yQ29kZS5NSVNTSU5HX0FVVEhfRE9NQUlOKTtcbiAgY29uc3QgdXJsID0gY29uZmlnLmVtdWxhdG9yXG4gICAgPyBfZW11bGF0b3JVcmwoY29uZmlnLCBFTVVMQVRFRF9JRlJBTUVfUEFUSClcbiAgICA6IGBodHRwczovLyR7YXV0aC5jb25maWcuYXV0aERvbWFpbn0vJHtJRlJBTUVfUEFUSH1gO1xuXG4gIGNvbnN0IHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICBhcGlLZXk6IGNvbmZpZy5hcGlLZXksXG4gICAgYXBwTmFtZTogYXV0aC5uYW1lLFxuICAgIHY6IFNES19WRVJTSU9OXG4gIH07XG4gIGNvbnN0IGVpZCA9IEVJRF9GUk9NX0FQSUhPU1QuZ2V0KGF1dGguY29uZmlnLmFwaUhvc3QpO1xuICBpZiAoZWlkKSB7XG4gICAgcGFyYW1zLmVpZCA9IGVpZDtcbiAgfVxuICBjb25zdCBmcmFtZXdvcmtzID0gYXV0aC5fZ2V0RnJhbWV3b3JrcygpO1xuICBpZiAoZnJhbWV3b3Jrcy5sZW5ndGgpIHtcbiAgICBwYXJhbXMuZncgPSBmcmFtZXdvcmtzLmpvaW4oJywnKTtcbiAgfVxuICByZXR1cm4gYCR7dXJsfT8ke3F1ZXJ5c3RyaW5nKHBhcmFtcykuc2xpY2UoMSl9YDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9vcGVuSWZyYW1lKFxuICBhdXRoOiBBdXRoSW50ZXJuYWxcbik6IFByb21pc2U8Z2FwaS5pZnJhbWVzLklmcmFtZT4ge1xuICBjb25zdCBjb250ZXh0ID0gYXdhaXQgZ2FwaUxvYWRlci5fbG9hZEdhcGkoYXV0aCk7XG4gIGNvbnN0IGdhcGkgPSBfd2luZG93KCkuZ2FwaTtcbiAgX2Fzc2VydChnYXBpLCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgcmV0dXJuIGNvbnRleHQub3BlbihcbiAgICB7XG4gICAgICB3aGVyZTogZG9jdW1lbnQuYm9keSxcbiAgICAgIHVybDogZ2V0SWZyYW1lVXJsKGF1dGgpLFxuICAgICAgbWVzc2FnZUhhbmRsZXJzRmlsdGVyOiBnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSLFxuICAgICAgYXR0cmlidXRlczogSUZSQU1FX0FUVFJJQlVURVMsXG4gICAgICBkb250Y2xlYXI6IHRydWVcbiAgICB9LFxuICAgIChpZnJhbWU6IGdhcGkuaWZyYW1lcy5JZnJhbWUpID0+XG4gICAgICBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGF3YWl0IGlmcmFtZS5yZXN0eWxlKHtcbiAgICAgICAgICAvLyBQcmV2ZW50IGlmcmFtZSBmcm9tIGNsb3Npbmcgb24gbW91c2Ugb3V0LlxuICAgICAgICAgIHNldEhpZGVPbkxlYXZlOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBuZXR3b3JrRXJyb3IgPSBfY3JlYXRlRXJyb3IoXG4gICAgICAgICAgYXV0aCxcbiAgICAgICAgICBBdXRoRXJyb3JDb2RlLk5FVFdPUktfUkVRVUVTVF9GQUlMRURcbiAgICAgICAgKTtcbiAgICAgICAgLy8gQ29uZmlybSBpZnJhbWUgaXMgY29ycmVjdGx5IGxvYWRlZC5cbiAgICAgICAgLy8gVG8gZmFsbGJhY2sgb24gZmFpbHVyZSwgc2V0IGEgdGltZW91dC5cbiAgICAgICAgY29uc3QgbmV0d29ya0Vycm9yVGltZXIgPSBfd2luZG93KCkuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldHdvcmtFcnJvcik7XG4gICAgICAgIH0sIFBJTkdfVElNRU9VVC5nZXQoKSk7XG4gICAgICAgIC8vIENsZWFyIHRpbWVyIGFuZCByZXNvbHZlIHBlbmRpbmcgaWZyYW1lIHJlYWR5IHByb21pc2UuXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyVGltZXJBbmRSZXNvbHZlKCk6IHZvaWQge1xuICAgICAgICAgIF93aW5kb3coKS5jbGVhclRpbWVvdXQobmV0d29ya0Vycm9yVGltZXIpO1xuICAgICAgICAgIHJlc29sdmUoaWZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGlzIHJldHVybnMgYW4gSVRoZW5hYmxlLiBIb3dldmVyIHRoZSByZWplY3QgcGFydCBkb2VzIG5vdCBjYWxsXG4gICAgICAgIC8vIHdoZW4gdGhlIGlmcmFtZSBpcyBub3QgbG9hZGVkLlxuICAgICAgICBpZnJhbWUucGluZyhjbGVhclRpbWVyQW5kUmVzb2x2ZSkudGhlbihjbGVhclRpbWVyQW5kUmVzb2x2ZSwgKCkgPT4ge1xuICAgICAgICAgIHJlamVjdChuZXR3b3JrRXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGdldFVBIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHtcbiAgX2lzQ2hyb21lSU9TLFxuICBfaXNGaXJlZm94LFxuICBfaXNJT1NTdGFuZGFsb25lXG59IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9icm93c2VyJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuXG5jb25zdCBCQVNFX1BPUFVQX09QVElPTlMgPSB7XG4gIGxvY2F0aW9uOiAneWVzJyxcbiAgcmVzaXphYmxlOiAneWVzJyxcbiAgc3RhdHVzYmFyOiAneWVzJyxcbiAgdG9vbGJhcjogJ25vJ1xufTtcblxuY29uc3QgREVGQVVMVF9XSURUSCA9IDUwMDtcbmNvbnN0IERFRkFVTFRfSEVJR0hUID0gNjAwO1xuY29uc3QgVEFSR0VUX0JMQU5LID0gJ19ibGFuayc7XG5cbmNvbnN0IEZJUkVGT1hfRU1QVFlfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3QnO1xuXG5leHBvcnQgY2xhc3MgQXV0aFBvcHVwIHtcbiAgYXNzb2NpYXRlZEV2ZW50OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSB3aW5kb3c6IFdpbmRvdyB8IG51bGwpIHt9XG5cbiAgY2xvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMud2luZG93KSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLndpbmRvdy5jbG9zZSgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9vcGVuKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHVybD86IHN0cmluZyxcbiAgbmFtZT86IHN0cmluZyxcbiAgd2lkdGggPSBERUZBVUxUX1dJRFRILFxuICBoZWlnaHQgPSBERUZBVUxUX0hFSUdIVFxuKTogQXV0aFBvcHVwIHtcbiAgY29uc3QgdG9wID0gTWF0aC5tYXgoKHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgLSBoZWlnaHQpIC8gMiwgMCkudG9TdHJpbmcoKTtcbiAgY29uc3QgbGVmdCA9IE1hdGgubWF4KCh3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGggLSB3aWR0aCkgLyAyLCAwKS50b1N0cmluZygpO1xuICBsZXQgdGFyZ2V0ID0gJyc7XG5cbiAgY29uc3Qgb3B0aW9uczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAuLi5CQVNFX1BPUFVQX09QVElPTlMsXG4gICAgd2lkdGg6IHdpZHRoLnRvU3RyaW5nKCksXG4gICAgaGVpZ2h0OiBoZWlnaHQudG9TdHJpbmcoKSxcbiAgICB0b3AsXG4gICAgbGVmdFxuICB9O1xuXG4gIC8vIENocm9tZSBpT1MgNyBhbmQgOCBpcyByZXR1cm5pbmcgYW4gdW5kZWZpbmVkIHBvcHVwIHdpbiB3aGVuIHRhcmdldCBpc1xuICAvLyBzcGVjaWZpZWQsIGV2ZW4gdGhvdWdoIHRoZSBwb3B1cCBpcyBub3QgbmVjZXNzYXJpbHkgYmxvY2tlZC5cbiAgY29uc3QgdWEgPSBnZXRVQSgpLnRvTG93ZXJDYXNlKCk7XG5cbiAgaWYgKG5hbWUpIHtcbiAgICB0YXJnZXQgPSBfaXNDaHJvbWVJT1ModWEpID8gVEFSR0VUX0JMQU5LIDogbmFtZTtcbiAgfVxuXG4gIGlmIChfaXNGaXJlZm94KHVhKSkge1xuICAgIC8vIEZpcmVmb3ggY29tcGxhaW5zIHdoZW4gaW52YWxpZCBVUkxzIGFyZSBwb3BwZWQgb3V0LiBIYWNreSB3YXkgdG8gYnlwYXNzLlxuICAgIHVybCA9IHVybCB8fCBGSVJFRk9YX0VNUFRZX1VSTDtcbiAgICAvLyBGaXJlZm94IGRpc2FibGVzIGJ5IGRlZmF1bHQgc2Nyb2xsaW5nIG9uIHBvcHVwIHdpbmRvd3MsIHdoaWNoIGNhbiBjcmVhdGVcbiAgICAvLyBpc3N1ZXMgd2hlbiB0aGUgdXNlciBoYXMgbWFueSBHb29nbGUgYWNjb3VudHMsIGZvciBpbnN0YW5jZS5cbiAgICBvcHRpb25zLnNjcm9sbGJhcnMgPSAneWVzJztcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbnNTdHJpbmcgPSBPYmplY3QuZW50cmllcyhvcHRpb25zKS5yZWR1Y2UoXG4gICAgKGFjY3VtLCBba2V5LCB2YWx1ZV0pID0+IGAke2FjY3VtfSR7a2V5fT0ke3ZhbHVlfSxgLFxuICAgICcnXG4gICk7XG5cbiAgaWYgKF9pc0lPU1N0YW5kYWxvbmUodWEpICYmIHRhcmdldCAhPT0gJ19zZWxmJykge1xuICAgIG9wZW5Bc05ld1dpbmRvd0lPUyh1cmwgfHwgJycsIHRhcmdldCk7XG4gICAgcmV0dXJuIG5ldyBBdXRoUG9wdXAobnVsbCk7XG4gIH1cblxuICAvLyBhYm91dDpibGFuayBnZXR0aW5nIHNhbml0aXplZCBjYXVzaW5nIGJyb3dzZXJzIGxpa2UgSUUvRWRnZSB0byBkaXNwbGF5XG4gIC8vIGJyaWVmIGVycm9yIG1lc3NhZ2UgYmVmb3JlIHJlZGlyZWN0aW5nIHRvIGhhbmRsZXIuXG4gIGNvbnN0IG5ld1dpbiA9IHdpbmRvdy5vcGVuKHVybCB8fCAnJywgdGFyZ2V0LCBvcHRpb25zU3RyaW5nKTtcbiAgX2Fzc2VydChuZXdXaW4sIGF1dGgsIEF1dGhFcnJvckNvZGUuUE9QVVBfQkxPQ0tFRCk7XG5cbiAgLy8gRmxha3kgb24gSUUgZWRnZSwgZW5jYXBzdWxhdGUgd2l0aCBhIHRyeSBhbmQgY2F0Y2guXG4gIHRyeSB7XG4gICAgbmV3V2luLmZvY3VzKCk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgcmV0dXJuIG5ldyBBdXRoUG9wdXAobmV3V2luKTtcbn1cblxuZnVuY3Rpb24gb3BlbkFzTmV3V2luZG93SU9TKHVybDogc3RyaW5nLCB0YXJnZXQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgZWwuaHJlZiA9IHVybDtcbiAgZWwudGFyZ2V0ID0gdGFyZ2V0O1xuICBjb25zdCBjbGljayA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50Jyk7XG4gIGNsaWNrLmluaXRNb3VzZUV2ZW50KFxuICAgICdjbGljaycsXG4gICAgdHJ1ZSxcbiAgICB0cnVlLFxuICAgIHdpbmRvdyxcbiAgICAxLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgZmFsc2UsXG4gICAgZmFsc2UsXG4gICAgZmFsc2UsXG4gICAgZmFsc2UsXG4gICAgMSxcbiAgICBudWxsXG4gICk7XG4gIGVsLmRpc3BhdGNoRXZlbnQoY2xpY2spO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFNES19WRVJTSU9OIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgQXBpS2V5LCBBcHBOYW1lLCBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IEF1dGhFdmVudFR5cGUgfSBmcm9tICcuLi8uLi9tb2RlbC9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuL2Fzc2VydCc7XG5pbXBvcnQgeyBpc0VtcHR5LCBxdWVyeXN0cmluZyB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IF9lbXVsYXRvclVybCB9IGZyb20gJy4vZW11bGF0b3InO1xuaW1wb3J0IHsgRmVkZXJhdGVkQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vcHJvdmlkZXJzL2ZlZGVyYXRlZCc7XG5pbXBvcnQgeyBCYXNlT0F1dGhQcm92aWRlciB9IGZyb20gJy4uL3Byb3ZpZGVycy9vYXV0aCc7XG5cbi8qKlxuICogVVJMIGZvciBBdXRoZW50aWNhdGlvbiB3aWRnZXQgd2hpY2ggd2lsbCBpbml0aWF0ZSB0aGUgT0F1dGggaGFuZHNoYWtlXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IFdJREdFVF9QQVRIID0gJ19fL2F1dGgvaGFuZGxlcic7XG5cbi8qKlxuICogVVJMIGZvciBlbXVsYXRlZCBlbnZpcm9ubWVudFxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBFTVVMQVRPUl9XSURHRVRfUEFUSCA9ICdlbXVsYXRvci9hdXRoL2hhbmRsZXInO1xuXG4vKipcbiAqIEZyYWdtZW50IG5hbWUgZm9yIHRoZSBBcHAgQ2hlY2sgdG9rZW4gdGhhdCBnZXRzIHBhc3NlZCB0byB0aGUgd2lkZ2V0XG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IEZJUkVCQVNFX0FQUF9DSEVDS19GUkFHTUVOVF9JRCA9IGVuY29kZVVSSUNvbXBvbmVudCgnZmFjJyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWRlZmluaXRpb25zXG50eXBlIFdpZGdldFBhcmFtcyA9IHtcbiAgYXBpS2V5OiBBcGlLZXk7XG4gIGFwcE5hbWU6IEFwcE5hbWU7XG4gIGF1dGhUeXBlOiBBdXRoRXZlbnRUeXBlO1xuICByZWRpcmVjdFVybD86IHN0cmluZztcbiAgdjogc3RyaW5nO1xuICBwcm92aWRlcklkPzogc3RyaW5nO1xuICBzY29wZXM/OiBzdHJpbmc7XG4gIGN1c3RvbVBhcmFtZXRlcnM/OiBzdHJpbmc7XG4gIGV2ZW50SWQ/OiBzdHJpbmc7XG4gIHRpZD86IHN0cmluZztcbn0gJiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IHVuZGVmaW5lZCB9O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2dldFJlZGlyZWN0VXJsKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIGF1dGhUeXBlOiBBdXRoRXZlbnRUeXBlLFxuICByZWRpcmVjdFVybD86IHN0cmluZyxcbiAgZXZlbnRJZD86IHN0cmluZyxcbiAgYWRkaXRpb25hbFBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz5cbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIF9hc3NlcnQoYXV0aC5jb25maWcuYXV0aERvbWFpbiwgYXV0aCwgQXV0aEVycm9yQ29kZS5NSVNTSU5HX0FVVEhfRE9NQUlOKTtcbiAgX2Fzc2VydChhdXRoLmNvbmZpZy5hcGlLZXksIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9BUElfS0VZKTtcblxuICBjb25zdCBwYXJhbXM6IFdpZGdldFBhcmFtcyA9IHtcbiAgICBhcGlLZXk6IGF1dGguY29uZmlnLmFwaUtleSxcbiAgICBhcHBOYW1lOiBhdXRoLm5hbWUsXG4gICAgYXV0aFR5cGUsXG4gICAgcmVkaXJlY3RVcmwsXG4gICAgdjogU0RLX1ZFUlNJT04sXG4gICAgZXZlbnRJZFxuICB9O1xuXG4gIGlmIChwcm92aWRlciBpbnN0YW5jZW9mIEZlZGVyYXRlZEF1dGhQcm92aWRlcikge1xuICAgIHByb3ZpZGVyLnNldERlZmF1bHRMYW5ndWFnZShhdXRoLmxhbmd1YWdlQ29kZSk7XG4gICAgcGFyYW1zLnByb3ZpZGVySWQgPSBwcm92aWRlci5wcm92aWRlcklkIHx8ICcnO1xuICAgIGlmICghaXNFbXB0eShwcm92aWRlci5nZXRDdXN0b21QYXJhbWV0ZXJzKCkpKSB7XG4gICAgICBwYXJhbXMuY3VzdG9tUGFyYW1ldGVycyA9IEpTT04uc3RyaW5naWZ5KHByb3ZpZGVyLmdldEN1c3RvbVBhcmFtZXRlcnMoKSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyBzZXQgYWRkaXRpb25hbFBhcmFtcyBmcm9tIHRoZSBwcm92aWRlciBhcyB3ZWxsP1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGFkZGl0aW9uYWxQYXJhbXMgfHwge30pKSB7XG4gICAgICBwYXJhbXNba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwcm92aWRlciBpbnN0YW5jZW9mIEJhc2VPQXV0aFByb3ZpZGVyKSB7XG4gICAgY29uc3Qgc2NvcGVzID0gcHJvdmlkZXIuZ2V0U2NvcGVzKCkuZmlsdGVyKHNjb3BlID0+IHNjb3BlICE9PSAnJyk7XG4gICAgaWYgKHNjb3Blcy5sZW5ndGggPiAwKSB7XG4gICAgICBwYXJhbXMuc2NvcGVzID0gc2NvcGVzLmpvaW4oJywnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoYXV0aC50ZW5hbnRJZCkge1xuICAgIHBhcmFtcy50aWQgPSBhdXRoLnRlbmFudElkO1xuICB9XG5cbiAgLy8gVE9ETzogbWF5YmUgc2V0IGVpZCBhcyBlbmRwb2ludElkXG4gIC8vIFRPRE86IG1heWJlIHNldCBmdyBhcyBGcmFtZXdvcmtzLmpvaW4oXCIsXCIpXG5cbiAgY29uc3QgcGFyYW1zRGljdCA9IHBhcmFtcyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXI+O1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhwYXJhbXNEaWN0KSkge1xuICAgIGlmIChwYXJhbXNEaWN0W2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGVsZXRlIHBhcmFtc0RpY3Rba2V5XTtcbiAgICB9XG4gIH1cblxuICAvLyBTZXRzIHRoZSBBcHAgQ2hlY2sgdG9rZW4gdG8gcGFzcyB0byB0aGUgd2lkZ2V0XG4gIGNvbnN0IGFwcENoZWNrVG9rZW4gPSBhd2FpdCBhdXRoLl9nZXRBcHBDaGVja1Rva2VuKCk7XG4gIGNvbnN0IGFwcENoZWNrVG9rZW5GcmFnbWVudCA9IGFwcENoZWNrVG9rZW5cbiAgICA/IGAjJHtGSVJFQkFTRV9BUFBfQ0hFQ0tfRlJBR01FTlRfSUR9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGFwcENoZWNrVG9rZW4pfWBcbiAgICA6ICcnO1xuXG4gIC8vIFN0YXJ0IGF0IGluZGV4IDEgdG8gc2tpcCB0aGUgbGVhZGluZyAnJicgaW4gdGhlIHF1ZXJ5IHN0cmluZ1xuICByZXR1cm4gYCR7Z2V0SGFuZGxlckJhc2UoYXV0aCl9PyR7cXVlcnlzdHJpbmcocGFyYW1zRGljdCkuc2xpY2UoXG4gICAgMVxuICApfSR7YXBwQ2hlY2tUb2tlbkZyYWdtZW50fWA7XG59XG5cbmZ1bmN0aW9uIGdldEhhbmRsZXJCYXNlKHsgY29uZmlnIH06IEF1dGhJbnRlcm5hbCk6IHN0cmluZyB7XG4gIGlmICghY29uZmlnLmVtdWxhdG9yKSB7XG4gICAgcmV0dXJuIGBodHRwczovLyR7Y29uZmlnLmF1dGhEb21haW59LyR7V0lER0VUX1BBVEh9YDtcbiAgfVxuXG4gIHJldHVybiBfZW11bGF0b3JVcmwoY29uZmlnLCBFTVVMQVRPUl9XSURHRVRfUEFUSCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aFByb3ZpZGVyLCBQb3B1cFJlZGlyZWN0UmVzb2x2ZXIgfSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBBdXRoRXZlbnRNYW5hZ2VyIH0gZnJvbSAnLi4vY29yZS9hdXRoL2F1dGhfZXZlbnRfbWFuYWdlcic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCwgZGVidWdBc3NlcnQsIF9mYWlsIH0gZnJvbSAnLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfZ2VuZXJhdGVFdmVudElkIH0gZnJvbSAnLi4vY29yZS91dGlsL2V2ZW50X2lkJztcbmltcG9ydCB7IF9nZXRDdXJyZW50VXJsIH0gZnJvbSAnLi4vY29yZS91dGlsL2xvY2F0aW9uJztcbmltcG9ydCB7IF92YWxpZGF0ZU9yaWdpbiB9IGZyb20gJy4uL2NvcmUvdXRpbC92YWxpZGF0ZV9vcmlnaW4nO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQge1xuICBBdXRoRXZlbnRUeXBlLFxuICBFdmVudE1hbmFnZXIsXG4gIEdhcGlBdXRoRXZlbnQsXG4gIEdhcGlPdXRjb21lLFxuICBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbFxufSBmcm9tICcuLi9tb2RlbC9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBfc2V0V2luZG93TG9jYXRpb24gfSBmcm9tICcuL2F1dGhfd2luZG93JztcbmltcG9ydCB7IF9vcGVuSWZyYW1lIH0gZnJvbSAnLi9pZnJhbWUvaWZyYW1lJztcbmltcG9ydCB7IGJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2UgfSBmcm9tICcuL3BlcnNpc3RlbmNlL3Nlc3Npb25fc3RvcmFnZSc7XG5pbXBvcnQgeyBfb3BlbiwgQXV0aFBvcHVwIH0gZnJvbSAnLi91dGlsL3BvcHVwJztcbmltcG9ydCB7IF9nZXRSZWRpcmVjdFJlc3VsdCB9IGZyb20gJy4vc3RyYXRlZ2llcy9yZWRpcmVjdCc7XG5pbXBvcnQgeyBfZ2V0UmVkaXJlY3RVcmwgfSBmcm9tICcuLi9jb3JlL3V0aWwvaGFuZGxlcic7XG5pbXBvcnQgeyBfaXNJT1MsIF9pc01vYmlsZUJyb3dzZXIsIF9pc1NhZmFyaSB9IGZyb20gJy4uL2NvcmUvdXRpbC9icm93c2VyJztcbmltcG9ydCB7IF9vdmVycmlkZVJlZGlyZWN0UmVzdWx0IH0gZnJvbSAnLi4vY29yZS9zdHJhdGVnaWVzL3JlZGlyZWN0JztcblxuLyoqXG4gKiBUaGUgc3BlY2lhbCB3ZWIgc3RvcmFnZSBldmVudFxuICpcbiAqL1xuY29uc3QgV0VCX1NUT1JBR0VfU1VQUE9SVF9LRVkgPSAnd2ViU3RvcmFnZVN1cHBvcnQnO1xuXG5pbnRlcmZhY2UgV2ViU3RvcmFnZVN1cHBvcnRNZXNzYWdlIGV4dGVuZHMgZ2FwaS5pZnJhbWVzLk1lc3NhZ2Uge1xuICBbaW5kZXg6IG51bWJlcl06IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xufVxuXG5pbnRlcmZhY2UgTWFuYWdlck9yUHJvbWlzZSB7XG4gIG1hbmFnZXI/OiBFdmVudE1hbmFnZXI7XG4gIHByb21pc2U/OiBQcm9taXNlPEV2ZW50TWFuYWdlcj47XG59XG5cbmNsYXNzIEJyb3dzZXJQb3B1cFJlZGlyZWN0UmVzb2x2ZXIgaW1wbGVtZW50cyBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZXZlbnRNYW5hZ2VyczogUmVjb3JkPHN0cmluZywgTWFuYWdlck9yUHJvbWlzZT4gPSB7fTtcbiAgcHJpdmF0ZSByZWFkb25seSBpZnJhbWVzOiBSZWNvcmQ8c3RyaW5nLCBnYXBpLmlmcmFtZXMuSWZyYW1lPiA9IHt9O1xuICBwcml2YXRlIHJlYWRvbmx5IG9yaWdpblZhbGlkYXRpb25Qcm9taXNlczogUmVjb3JkPHN0cmluZywgUHJvbWlzZTx2b2lkPj4gPSB7fTtcblxuICByZWFkb25seSBfcmVkaXJlY3RQZXJzaXN0ZW5jZSA9IGJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2U7XG5cbiAgLy8gV3JhcHBpbmcgaW4gYXN5bmMgZXZlbiB0aG91Z2ggd2UgZG9uJ3QgYXdhaXQgYW55d2hlcmUgaW4gb3JkZXJcbiAgLy8gdG8gbWFrZSBzdXJlIGVycm9ycyBhcmUgcmFpc2VkIGFzIHByb21pc2UgcmVqZWN0aW9uc1xuICBhc3luYyBfb3BlblBvcHVwKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICAgIGF1dGhUeXBlOiBBdXRoRXZlbnRUeXBlLFxuICAgIGV2ZW50SWQ/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxBdXRoUG9wdXA+IHtcbiAgICBkZWJ1Z0Fzc2VydChcbiAgICAgIHRoaXMuZXZlbnRNYW5hZ2Vyc1thdXRoLl9rZXkoKV0/Lm1hbmFnZXIsXG4gICAgICAnX2luaXRpYWxpemUoKSBub3QgY2FsbGVkIGJlZm9yZSBfb3BlblBvcHVwKCknXG4gICAgKTtcblxuICAgIGNvbnN0IHVybCA9IGF3YWl0IF9nZXRSZWRpcmVjdFVybChcbiAgICAgIGF1dGgsXG4gICAgICBwcm92aWRlcixcbiAgICAgIGF1dGhUeXBlLFxuICAgICAgX2dldEN1cnJlbnRVcmwoKSxcbiAgICAgIGV2ZW50SWRcbiAgICApO1xuICAgIHJldHVybiBfb3BlbihhdXRoLCB1cmwsIF9nZW5lcmF0ZUV2ZW50SWQoKSk7XG4gIH1cblxuICBhc3luYyBfb3BlblJlZGlyZWN0KFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICAgIGF1dGhUeXBlOiBBdXRoRXZlbnRUeXBlLFxuICAgIGV2ZW50SWQ/OiBzdHJpbmdcbiAgKTogUHJvbWlzZTxuZXZlcj4ge1xuICAgIGF3YWl0IHRoaXMuX29yaWdpblZhbGlkYXRpb24oYXV0aCk7XG4gICAgY29uc3QgdXJsID0gYXdhaXQgX2dldFJlZGlyZWN0VXJsKFxuICAgICAgYXV0aCxcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgYXV0aFR5cGUsXG4gICAgICBfZ2V0Q3VycmVudFVybCgpLFxuICAgICAgZXZlbnRJZFxuICAgICk7XG4gICAgX3NldFdpbmRvd0xvY2F0aW9uKHVybCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHt9KTtcbiAgfVxuXG4gIF9pbml0aWFsaXplKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8RXZlbnRNYW5hZ2VyPiB7XG4gICAgY29uc3Qga2V5ID0gYXV0aC5fa2V5KCk7XG4gICAgaWYgKHRoaXMuZXZlbnRNYW5hZ2Vyc1trZXldKSB7XG4gICAgICBjb25zdCB7IG1hbmFnZXIsIHByb21pc2UgfSA9IHRoaXMuZXZlbnRNYW5hZ2Vyc1trZXldO1xuICAgICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtYW5hZ2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlYnVnQXNzZXJ0KHByb21pc2UsICdJZiBtYW5hZ2VyIGlzIG5vdCBzZXQsIHByb21pc2Ugc2hvdWxkIGJlJyk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLmluaXRBbmRHZXRNYW5hZ2VyKGF1dGgpO1xuICAgIHRoaXMuZXZlbnRNYW5hZ2Vyc1trZXldID0geyBwcm9taXNlIH07XG5cbiAgICAvLyBJZiB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCwgdGhlIGtleSBzaG91bGQgYmUgcmVtb3ZlZCBzbyB0aGF0IHRoZVxuICAgIC8vIG9wZXJhdGlvbiBjYW4gYmUgcmV0cmllZCBsYXRlci5cbiAgICBwcm9taXNlLmNhdGNoKCgpID0+IHtcbiAgICAgIGRlbGV0ZSB0aGlzLmV2ZW50TWFuYWdlcnNba2V5XTtcbiAgICB9KTtcblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0QW5kR2V0TWFuYWdlcihhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPEV2ZW50TWFuYWdlcj4ge1xuICAgIGNvbnN0IGlmcmFtZSA9IGF3YWl0IF9vcGVuSWZyYW1lKGF1dGgpO1xuICAgIGNvbnN0IG1hbmFnZXIgPSBuZXcgQXV0aEV2ZW50TWFuYWdlcihhdXRoKTtcbiAgICBpZnJhbWUucmVnaXN0ZXI8R2FwaUF1dGhFdmVudD4oXG4gICAgICAnYXV0aEV2ZW50JyxcbiAgICAgIChpZnJhbWVFdmVudDogR2FwaUF1dGhFdmVudCB8IG51bGwpID0+IHtcbiAgICAgICAgX2Fzc2VydChpZnJhbWVFdmVudD8uYXV0aEV2ZW50LCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVkFMSURfQVVUSF9FVkVOVCk7XG4gICAgICAgIC8vIFRPRE86IENvbnNpZGVyIHNwbGl0dGluZyByZWRpcmVjdCBhbmQgcG9wdXAgZXZlbnRzIGVhcmxpZXIgb25cblxuICAgICAgICBjb25zdCBoYW5kbGVkID0gbWFuYWdlci5vbkV2ZW50KGlmcmFtZUV2ZW50LmF1dGhFdmVudCk7XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogaGFuZGxlZCA/IEdhcGlPdXRjb21lLkFDSyA6IEdhcGlPdXRjb21lLkVSUk9SIH07XG4gICAgICB9LFxuICAgICAgZ2FwaS5pZnJhbWVzLkNST1NTX09SSUdJTl9JRlJBTUVTX0ZJTFRFUlxuICAgICk7XG5cbiAgICB0aGlzLmV2ZW50TWFuYWdlcnNbYXV0aC5fa2V5KCldID0geyBtYW5hZ2VyIH07XG4gICAgdGhpcy5pZnJhbWVzW2F1dGguX2tleSgpXSA9IGlmcmFtZTtcbiAgICByZXR1cm4gbWFuYWdlcjtcbiAgfVxuXG4gIF9pc0lmcmFtZVdlYlN0b3JhZ2VTdXBwb3J0ZWQoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGNiOiAoc3VwcG9ydGVkOiBib29sZWFuKSA9PiB1bmtub3duXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGlmcmFtZSA9IHRoaXMuaWZyYW1lc1thdXRoLl9rZXkoKV07XG4gICAgaWZyYW1lLnNlbmQ8Z2FwaS5pZnJhbWVzLk1lc3NhZ2UsIFdlYlN0b3JhZ2VTdXBwb3J0TWVzc2FnZT4oXG4gICAgICBXRUJfU1RPUkFHRV9TVVBQT1JUX0tFWSxcbiAgICAgIHsgdHlwZTogV0VCX1NUT1JBR0VfU1VQUE9SVF9LRVkgfSxcbiAgICAgIHJlc3VsdCA9PiB7XG4gICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gcmVzdWx0Py5bMF0/LltXRUJfU1RPUkFHRV9TVVBQT1JUX0tFWV07XG4gICAgICAgIGlmIChpc1N1cHBvcnRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2IoISFpc1N1cHBvcnRlZCk7XG4gICAgICAgIH1cblxuICAgICAgICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICAgIH0sXG4gICAgICBnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSXG4gICAgKTtcbiAgfVxuXG4gIF9vcmlnaW5WYWxpZGF0aW9uKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGtleSA9IGF1dGguX2tleSgpO1xuICAgIGlmICghdGhpcy5vcmlnaW5WYWxpZGF0aW9uUHJvbWlzZXNba2V5XSkge1xuICAgICAgdGhpcy5vcmlnaW5WYWxpZGF0aW9uUHJvbWlzZXNba2V5XSA9IF92YWxpZGF0ZU9yaWdpbihhdXRoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vcmlnaW5WYWxpZGF0aW9uUHJvbWlzZXNba2V5XTtcbiAgfVxuXG4gIGdldCBfc2hvdWxkSW5pdFByb2FjdGl2ZWx5KCk6IGJvb2xlYW4ge1xuICAgIC8vIE1vYmlsZSBicm93c2VycyBhbmQgU2FmYXJpIG5lZWQgdG8gb3B0aW1pc3RpY2FsbHkgaW5pdGlhbGl6ZVxuICAgIHJldHVybiBfaXNNb2JpbGVCcm93c2VyKCkgfHwgX2lzU2FmYXJpKCkgfHwgX2lzSU9TKCk7XG4gIH1cblxuICBfY29tcGxldGVSZWRpcmVjdEZuID0gX2dldFJlZGlyZWN0UmVzdWx0O1xuXG4gIF9vdmVycmlkZVJlZGlyZWN0UmVzdWx0ID0gX292ZXJyaWRlUmVkaXJlY3RSZXN1bHQ7XG59XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIFBvcHVwUmVkaXJlY3RSZXNvbHZlcn0gc3VpdGFibGUgZm9yIGJyb3dzZXJcbiAqIGJhc2VkIGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgYnJvd3NlclBvcHVwUmVkaXJlY3RSZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVyID1cbiAgQnJvd3NlclBvcHVwUmVkaXJlY3RSZXNvbHZlcjtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgRmFjdG9ySWQsIE11bHRpRmFjdG9yQXNzZXJ0aW9uIH0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IGRlYnVnRmFpbCB9IGZyb20gJy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCwgTXVsdGlGYWN0b3JTZXNzaW9uVHlwZSB9IGZyb20gJy4vbWZhX3Nlc3Npb24nO1xuaW1wb3J0IHsgRmluYWxpemVNZmFSZXNwb25zZSB9IGZyb20gJy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vbW9kZWwvYXV0aCc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwgaW1wbGVtZW50cyBNdWx0aUZhY3RvckFzc2VydGlvbiB7XG4gIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihyZWFkb25seSBmYWN0b3JJZDogRmFjdG9ySWQpIHt9XG5cbiAgX3Byb2Nlc3MoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIHNlc3Npb246IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwsXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsXG4gICk6IFByb21pc2U8RmluYWxpemVNZmFSZXNwb25zZT4ge1xuICAgIHN3aXRjaCAoc2Vzc2lvbi50eXBlKSB7XG4gICAgICBjYXNlIE11bHRpRmFjdG9yU2Vzc2lvblR5cGUuRU5ST0xMOlxuICAgICAgICByZXR1cm4gdGhpcy5fZmluYWxpemVFbnJvbGwoYXV0aCwgc2Vzc2lvbi5jcmVkZW50aWFsLCBkaXNwbGF5TmFtZSk7XG4gICAgICBjYXNlIE11bHRpRmFjdG9yU2Vzc2lvblR5cGUuU0lHTl9JTjpcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbmFsaXplU2lnbkluKGF1dGgsIHNlc3Npb24uY3JlZGVudGlhbCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZGVidWdGYWlsKCd1bmV4cGVjdGVkIE11bHRpRmFjdG9yU2Vzc2lvblR5cGUnKTtcbiAgICB9XG4gIH1cblxuICBhYnN0cmFjdCBfZmluYWxpemVFbnJvbGwoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGlkVG9rZW46IHN0cmluZyxcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGxcbiAgKTogUHJvbWlzZTxGaW5hbGl6ZU1mYVJlc3BvbnNlPjtcbiAgYWJzdHJhY3QgX2ZpbmFsaXplU2lnbkluKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogc3RyaW5nXG4gICk6IFByb21pc2U8RmluYWxpemVNZmFSZXNwb25zZT47XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7XG4gIEZhY3RvcklkLFxuICBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9uXG59IGZyb20gJy4uLy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbCB9IGZyb20gJy4uLy4uLy4uL21mYS9tZmFfYXNzZXJ0aW9uJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgZmluYWxpemVFbnJvbGxQaG9uZU1mYSB9IGZyb20gJy4uLy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvbWZhJztcbmltcG9ydCB7IFBob25lQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi8uLi9jb3JlL2NyZWRlbnRpYWxzL3Bob25lJztcbmltcG9ydCB7XG4gIGZpbmFsaXplU2lnbkluUGhvbmVNZmEsXG4gIEZpbmFsaXplTWZhUmVzcG9uc2Vcbn0gZnJvbSAnLi4vLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5cbi8qKlxuICoge0Bpbmhlcml0ZG9jIFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb259XG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbkltcGxcbiAgZXh0ZW5kcyBNdWx0aUZhY3RvckFzc2VydGlvbkltcGxcbiAgaW1wbGVtZW50cyBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9uXG57XG4gIHByaXZhdGUgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBjcmVkZW50aWFsOiBQaG9uZUF1dGhDcmVkZW50aWFsKSB7XG4gICAgc3VwZXIoRmFjdG9ySWQuUEhPTkUpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21DcmVkZW50aWFsKFxuICAgIGNyZWRlbnRpYWw6IFBob25lQXV0aENyZWRlbnRpYWxcbiAgKTogUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbkltcGwge1xuICAgIHJldHVybiBuZXcgUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbkltcGwoY3JlZGVudGlhbCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9maW5hbGl6ZUVucm9sbChcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgaWRUb2tlbjogc3RyaW5nLFxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPEZpbmFsaXplTWZhUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gZmluYWxpemVFbnJvbGxQaG9uZU1mYShhdXRoLCB7XG4gICAgICBpZFRva2VuLFxuICAgICAgZGlzcGxheU5hbWUsXG4gICAgICBwaG9uZVZlcmlmaWNhdGlvbkluZm86IHRoaXMuY3JlZGVudGlhbC5fbWFrZVZlcmlmaWNhdGlvblJlcXVlc3QoKVxuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZmluYWxpemVTaWduSW4oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIG1mYVBlbmRpbmdDcmVkZW50aWFsOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxGaW5hbGl6ZU1mYVJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIGZpbmFsaXplU2lnbkluUGhvbmVNZmEoYXV0aCwge1xuICAgICAgbWZhUGVuZGluZ0NyZWRlbnRpYWwsXG4gICAgICBwaG9uZVZlcmlmaWNhdGlvbkluZm86IHRoaXMuY3JlZGVudGlhbC5fbWFrZVZlcmlmaWNhdGlvblJlcXVlc3QoKVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcgYSB7QGxpbmsgUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUGhvbmVNdWx0aUZhY3RvckdlbmVyYXRvciB7XG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIHtAbGluayBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9ufSB0byBjb25maXJtIG93bmVyc2hpcCBvZiB0aGUgcGhvbmUgc2Vjb25kIGZhY3Rvci5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBwaG9uZUF1dGhDcmVkZW50aWFsIC0gQSBjcmVkZW50aWFsIHByb3ZpZGVkIGJ5IHtAbGluayBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsfS5cbiAgICogQHJldHVybnMgQSB7QGxpbmsgUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbn0gd2hpY2ggY2FuIGJlIHVzZWQgd2l0aFxuICAgKiB7QGxpbmsgTXVsdGlGYWN0b3JSZXNvbHZlci5yZXNvbHZlU2lnbklufVxuICAgKi9cbiAgc3RhdGljIGFzc2VydGlvbihjcmVkZW50aWFsOiBQaG9uZUF1dGhDcmVkZW50aWFsKTogUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbiB7XG4gICAgcmV0dXJuIFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsLl9mcm9tQ3JlZGVudGlhbChjcmVkZW50aWFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciBvZiB0aGUgcGhvbmUgc2Vjb25kIGZhY3RvcjogYHBob25lYC5cbiAgICovXG4gIHN0YXRpYyBGQUNUT1JfSUQgPSAncGhvbmUnO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge1xuICBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb24sXG4gIE11bHRpRmFjdG9yU2Vzc2lvbixcbiAgRmFjdG9ySWRcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHtcbiAgZmluYWxpemVFbnJvbGxUb3RwTWZhLFxuICBzdGFydEVucm9sbFRvdHBNZmEsXG4gIFN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXNwb25zZSxcbiAgVG90cFZlcmlmaWNhdGlvbkluZm9cbn0gZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9tZmEnO1xuaW1wb3J0IHtcbiAgRmluYWxpemVNZmFSZXNwb25zZSxcbiAgZmluYWxpemVTaWduSW5Ub3RwTWZhXG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsIH0gZnJvbSAnLi4vLi4vbWZhL21mYV9hc3NlcnRpb24nO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCB9IGZyb20gJy4uL21mYV9zZXNzaW9uJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcgYSB7QGxpbmsgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9ufS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBUb3RwTXVsdGlGYWN0b3JHZW5lcmF0b3Ige1xuICAvKipcbiAgICogUHJvdmlkZXMgYSB7QGxpbmsgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9ufSB0byBjb25maXJtIG93bmVyc2hpcCBvZlxuICAgKiB0aGUgVE9UUCAodGltZS1iYXNlZCBvbmUtdGltZSBwYXNzd29yZCkgc2Vjb25kIGZhY3Rvci5cbiAgICogVGhpcyBhc3NlcnRpb24gaXMgdXNlZCB0byBjb21wbGV0ZSBlbnJvbGxtZW50IGluIFRPVFAgc2Vjb25kIGZhY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHNlY3JldCBBIHtAbGluayBUb3RwU2VjcmV0fSBjb250YWluaW5nIHRoZSBzaGFyZWQgc2VjcmV0IGtleSBhbmQgb3RoZXIgVE9UUCBwYXJhbWV0ZXJzLlxuICAgKiBAcGFyYW0gb25lVGltZVBhc3N3b3JkIE9uZS10aW1lIHBhc3N3b3JkIGZyb20gVE9UUCBBcHAuXG4gICAqIEByZXR1cm5zIEEge0BsaW5rIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbn0gd2hpY2ggY2FuIGJlIHVzZWQgd2l0aFxuICAgKiB7QGxpbmsgTXVsdGlGYWN0b3JVc2VyLmVucm9sbH0uXG4gICAqL1xuICBzdGF0aWMgYXNzZXJ0aW9uRm9yRW5yb2xsbWVudChcbiAgICBzZWNyZXQ6IFRvdHBTZWNyZXQsXG4gICAgb25lVGltZVBhc3N3b3JkOiBzdHJpbmdcbiAgKTogVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uIHtcbiAgICByZXR1cm4gVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbC5fZnJvbVNlY3JldChzZWNyZXQsIG9uZVRpbWVQYXNzd29yZCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSB7QGxpbmsgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9ufSB0byBjb25maXJtIG93bmVyc2hpcCBvZiB0aGUgVE9UUCBzZWNvbmQgZmFjdG9yLlxuICAgKiBUaGlzIGFzc2VydGlvbiBpcyB1c2VkIHRvIGNvbXBsZXRlIHNpZ25JbiB3aXRoIFRPVFAgYXMgdGhlIHNlY29uZCBmYWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSBlbnJvbGxtZW50SWQgaWRlbnRpZmllcyB0aGUgZW5yb2xsZWQgVE9UUCBzZWNvbmQgZmFjdG9yLlxuICAgKiBAcGFyYW0gb25lVGltZVBhc3N3b3JkIE9uZS10aW1lIHBhc3N3b3JkIGZyb20gVE9UUCBBcHAuXG4gICAqIEByZXR1cm5zIEEge0BsaW5rIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbn0gd2hpY2ggY2FuIGJlIHVzZWQgd2l0aFxuICAgKiB7QGxpbmsgTXVsdGlGYWN0b3JSZXNvbHZlci5yZXNvbHZlU2lnbklufS5cbiAgICovXG4gIHN0YXRpYyBhc3NlcnRpb25Gb3JTaWduSW4oXG4gICAgZW5yb2xsbWVudElkOiBzdHJpbmcsXG4gICAgb25lVGltZVBhc3N3b3JkOiBzdHJpbmdcbiAgKTogVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uIHtcbiAgICByZXR1cm4gVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbC5fZnJvbUVucm9sbG1lbnRJZChcbiAgICAgIGVucm9sbG1lbnRJZCxcbiAgICAgIG9uZVRpbWVQYXNzd29yZFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdG8ge0BsaW5rIFRvdHBTZWNyZXR9IHdoaWNoIGNvbnRhaW5zIHRoZSBUT1RQIHNoYXJlZCBzZWNyZXQga2V5IGFuZCBvdGhlciBwYXJhbWV0ZXJzLlxuICAgKiBDcmVhdGVzIGEgVE9UUCBzZWNyZXQgYXMgcGFydCBvZiBlbnJvbGxpbmcgYSBUT1RQIHNlY29uZCBmYWN0b3IuXG4gICAqIFVzZWQgZm9yIGdlbmVyYXRpbmcgYSBRUiBjb2RlIFVSTCBvciBpbnB1dHRpbmcgaW50byBhIFRPVFAgYXBwLlxuICAgKiBUaGlzIG1ldGhvZCB1c2VzIHRoZSBhdXRoIGluc3RhbmNlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHVzZXIgaW4gdGhlIG11bHRpRmFjdG9yU2Vzc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb24gVGhlIHtAbGluayBNdWx0aUZhY3RvclNlc3Npb259IHRoYXQgdGhlIHVzZXIgaXMgcGFydCBvZi5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRvIHtAbGluayBUb3RwU2VjcmV0fS5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZW5lcmF0ZVNlY3JldChcbiAgICBzZXNzaW9uOiBNdWx0aUZhY3RvclNlc3Npb25cbiAgKTogUHJvbWlzZTxUb3RwU2VjcmV0PiB7XG4gICAgY29uc3QgbWZhU2Vzc2lvbiA9IHNlc3Npb24gYXMgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbDtcbiAgICBfYXNzZXJ0KFxuICAgICAgdHlwZW9mIG1mYVNlc3Npb24udXNlcj8uYXV0aCAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN0YXJ0RW5yb2xsVG90cE1mYShtZmFTZXNzaW9uLnVzZXIuYXV0aCwge1xuICAgICAgaWRUb2tlbjogbWZhU2Vzc2lvbi5jcmVkZW50aWFsLFxuICAgICAgdG90cEVucm9sbG1lbnRJbmZvOiB7fVxuICAgIH0pO1xuICAgIHJldHVybiBUb3RwU2VjcmV0Ll9mcm9tU3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlKFxuICAgICAgcmVzcG9uc2UsXG4gICAgICBtZmFTZXNzaW9uLnVzZXIuYXV0aFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIFRPVFAgc2Vjb25kIGZhY3RvcjogYHRvdHBgLlxuICAgKi9cbiAgc3RhdGljIEZBQ1RPUl9JRDogJ3RvdHAnID0gRmFjdG9ySWQuVE9UUDtcbn1cblxuZXhwb3J0IGNsYXNzIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbkltcGxcbiAgZXh0ZW5kcyBNdWx0aUZhY3RvckFzc2VydGlvbkltcGxcbiAgaW1wbGVtZW50cyBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb25cbntcbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgb3RwOiBzdHJpbmcsXG4gICAgcmVhZG9ubHkgZW5yb2xsbWVudElkPzogc3RyaW5nLFxuICAgIHJlYWRvbmx5IHNlY3JldD86IFRvdHBTZWNyZXRcbiAgKSB7XG4gICAgc3VwZXIoRmFjdG9ySWQuVE9UUCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbVNlY3JldChcbiAgICBzZWNyZXQ6IFRvdHBTZWNyZXQsXG4gICAgb3RwOiBzdHJpbmdcbiAgKTogVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbCB7XG4gICAgcmV0dXJuIG5ldyBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsKG90cCwgdW5kZWZpbmVkLCBzZWNyZXQpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21FbnJvbGxtZW50SWQoXG4gICAgZW5yb2xsbWVudElkOiBzdHJpbmcsXG4gICAgb3RwOiBzdHJpbmdcbiAgKTogVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbCB7XG4gICAgcmV0dXJuIG5ldyBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsKG90cCwgZW5yb2xsbWVudElkKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXN5bmMgX2ZpbmFsaXplRW5yb2xsKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBpZFRva2VuOiBzdHJpbmcsXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsXG4gICk6IFByb21pc2U8RmluYWxpemVNZmFSZXNwb25zZT4ge1xuICAgIF9hc3NlcnQoXG4gICAgICB0eXBlb2YgdGhpcy5zZWNyZXQgIT09ICd1bmRlZmluZWQnLFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgICApO1xuICAgIHJldHVybiBmaW5hbGl6ZUVucm9sbFRvdHBNZmEoYXV0aCwge1xuICAgICAgaWRUb2tlbixcbiAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgdG90cFZlcmlmaWNhdGlvbkluZm86IHRoaXMuc2VjcmV0Ll9tYWtlVG90cFZlcmlmaWNhdGlvbkluZm8odGhpcy5vdHApXG4gICAgfSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIGFzeW5jIF9maW5hbGl6ZVNpZ25JbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgbWZhUGVuZGluZ0NyZWRlbnRpYWw6IHN0cmluZ1xuICApOiBQcm9taXNlPEZpbmFsaXplTWZhUmVzcG9uc2U+IHtcbiAgICBfYXNzZXJ0KFxuICAgICAgdGhpcy5lbnJvbGxtZW50SWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLm90cCAhPT0gdW5kZWZpbmVkLFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgICApO1xuICAgIGNvbnN0IHRvdHBWZXJpZmljYXRpb25JbmZvID0geyB2ZXJpZmljYXRpb25Db2RlOiB0aGlzLm90cCB9O1xuICAgIHJldHVybiBmaW5hbGl6ZVNpZ25JblRvdHBNZmEoYXV0aCwge1xuICAgICAgbWZhUGVuZGluZ0NyZWRlbnRpYWwsXG4gICAgICBtZmFFbnJvbGxtZW50SWQ6IHRoaXMuZW5yb2xsbWVudElkLFxuICAgICAgdG90cFZlcmlmaWNhdGlvbkluZm9cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIGEge0BsaW5rIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbn0uXG4gKlxuICogU3RvcmVzIHRoZSBzaGFyZWQgc2VjcmV0IGtleSBhbmQgb3RoZXIgcGFyYW1ldGVycyB0byBnZW5lcmF0ZSB0aW1lLWJhc2VkIE9UUHMuXG4gKiBJbXBsZW1lbnRzIG1ldGhvZHMgdG8gcmV0cmlldmUgdGhlIHNoYXJlZCBzZWNyZXQga2V5IGFuZCBnZW5lcmF0ZSBhIFFSIGNvZGUgVVJMLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgVG90cFNlY3JldCB7XG4gIC8qKlxuICAgKiBTaGFyZWQgc2VjcmV0IGtleS9zZWVkIHVzZWQgZm9yIGVucm9sbGluZyBpbiBUT1RQIE1GQSBhbmQgZ2VuZXJhdGluZyBPVFBzLlxuICAgKi9cbiAgcmVhZG9ubHkgc2VjcmV0S2V5OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBIYXNoaW5nIGFsZ29yaXRobSB1c2VkLlxuICAgKi9cbiAgcmVhZG9ubHkgaGFzaGluZ0FsZ29yaXRobTogc3RyaW5nO1xuICAvKipcbiAgICogTGVuZ3RoIG9mIHRoZSBvbmUtdGltZSBwYXNzd29yZHMgdG8gYmUgZ2VuZXJhdGVkLlxuICAgKi9cbiAgcmVhZG9ubHkgY29kZUxlbmd0aDogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIGludGVydmFsIChpbiBzZWNvbmRzKSB3aGVuIHRoZSBPVFAgY29kZXMgc2hvdWxkIGNoYW5nZS5cbiAgICovXG4gIHJlYWRvbmx5IGNvZGVJbnRlcnZhbFNlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSB0aW1lc3RhbXAgKFVUQyBzdHJpbmcpIGJ5IHdoaWNoIFRPVFAgZW5yb2xsbWVudCBzaG91bGQgYmUgY29tcGxldGVkLlxuICAgKi9cbiAgLy8gVGhpcyBjYW4gYmUgdXNlZCBieSBjYWxsZXJzIHRvIHNob3cgYSBjb3VudGRvd24gb2Ygd2hlbiB0byBlbnRlciBPVFAgY29kZSBieS5cbiAgcmVhZG9ubHkgZW5yb2xsbWVudENvbXBsZXRpb25EZWFkbGluZTogc3RyaW5nO1xuXG4gIC8vIFRoZSBwdWJsaWMgbWVtYmVycyBhcmUgZGVjbGFyZWQgb3V0c2lkZSB0aGUgY29uc3RydWN0b3Igc28gdGhlIGRvY3MgY2FuIGJlIGdlbmVyYXRlZC5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICBzZWNyZXRLZXk6IHN0cmluZyxcbiAgICBoYXNoaW5nQWxnb3JpdGhtOiBzdHJpbmcsXG4gICAgY29kZUxlbmd0aDogbnVtYmVyLFxuICAgIGNvZGVJbnRlcnZhbFNlY29uZHM6IG51bWJlcixcbiAgICBlbnJvbGxtZW50Q29tcGxldGlvbkRlYWRsaW5lOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBzZXNzaW9uSW5mbzogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsXG4gICkge1xuICAgIHRoaXMuc2VjcmV0S2V5ID0gc2VjcmV0S2V5O1xuICAgIHRoaXMuaGFzaGluZ0FsZ29yaXRobSA9IGhhc2hpbmdBbGdvcml0aG07XG4gICAgdGhpcy5jb2RlTGVuZ3RoID0gY29kZUxlbmd0aDtcbiAgICB0aGlzLmNvZGVJbnRlcnZhbFNlY29uZHMgPSBjb2RlSW50ZXJ2YWxTZWNvbmRzO1xuICAgIHRoaXMuZW5yb2xsbWVudENvbXBsZXRpb25EZWFkbGluZSA9IGVucm9sbG1lbnRDb21wbGV0aW9uRGVhZGxpbmU7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbVN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXNwb25zZShcbiAgICByZXNwb25zZTogU3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlLFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbFxuICApOiBUb3RwU2VjcmV0IHtcbiAgICByZXR1cm4gbmV3IFRvdHBTZWNyZXQoXG4gICAgICByZXNwb25zZS50b3RwU2Vzc2lvbkluZm8uc2hhcmVkU2VjcmV0S2V5LFxuICAgICAgcmVzcG9uc2UudG90cFNlc3Npb25JbmZvLmhhc2hpbmdBbGdvcml0aG0sXG4gICAgICByZXNwb25zZS50b3RwU2Vzc2lvbkluZm8udmVyaWZpY2F0aW9uQ29kZUxlbmd0aCxcbiAgICAgIHJlc3BvbnNlLnRvdHBTZXNzaW9uSW5mby5wZXJpb2RTZWMsXG4gICAgICBuZXcgRGF0ZShyZXNwb25zZS50b3RwU2Vzc2lvbkluZm8uZmluYWxpemVFbnJvbGxtZW50VGltZSkudG9VVENTdHJpbmcoKSxcbiAgICAgIHJlc3BvbnNlLnRvdHBTZXNzaW9uSW5mby5zZXNzaW9uSW5mbyxcbiAgICAgIGF1dGhcbiAgICApO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbWFrZVRvdHBWZXJpZmljYXRpb25JbmZvKG90cDogc3RyaW5nKTogVG90cFZlcmlmaWNhdGlvbkluZm8ge1xuICAgIHJldHVybiB7IHNlc3Npb25JbmZvOiB0aGlzLnNlc3Npb25JbmZvLCB2ZXJpZmljYXRpb25Db2RlOiBvdHAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgUVIgY29kZSBVUkwgYXMgZGVzY3JpYmVkIGluXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvZ29vZ2xlLWF1dGhlbnRpY2F0b3Ivd2lraS9LZXktVXJpLUZvcm1hdFxuICAgKiBUaGlzIGNhbiBiZSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIgYXMgYSBRUiBjb2RlIHRvIGJlIHNjYW5uZWQgaW50byBhIFRPVFAgYXBwIGxpa2UgR29vZ2xlIEF1dGhlbnRpY2F0b3IuXG4gICAqIElmIHRoZSBvcHRpb25hbCBwYXJhbWV0ZXJzIGFyZSB1bnNwZWNpZmllZCwgYW4gYWNjb3VudE5hbWUgb2YgPHVzZXJFbWFpbD4gYW5kIGlzc3VlciBvZiA8ZmlyZWJhc2VBcHBOYW1lPiBhcmUgdXNlZC5cbiAgICpcbiAgICogQHBhcmFtIGFjY291bnROYW1lIHRoZSBuYW1lIG9mIHRoZSBhY2NvdW50L2FwcCBhbG9uZyB3aXRoIGEgdXNlciBpZGVudGlmaWVyLlxuICAgKiBAcGFyYW0gaXNzdWVyIGlzc3VlciBvZiB0aGUgVE9UUCAobGlrZWx5IHRoZSBhcHAgbmFtZSkuXG4gICAqIEByZXR1cm5zIEEgUVIgY29kZSBVUkwgc3RyaW5nLlxuICAgKi9cbiAgZ2VuZXJhdGVRckNvZGVVcmwoYWNjb3VudE5hbWU/OiBzdHJpbmcsIGlzc3Vlcj86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgbGV0IHVzZURlZmF1bHRzID0gZmFsc2U7XG4gICAgaWYgKF9pc0VtcHR5U3RyaW5nKGFjY291bnROYW1lKSB8fCBfaXNFbXB0eVN0cmluZyhpc3N1ZXIpKSB7XG4gICAgICB1c2VEZWZhdWx0cyA9IHRydWU7XG4gICAgfVxuICAgIGlmICh1c2VEZWZhdWx0cykge1xuICAgICAgaWYgKF9pc0VtcHR5U3RyaW5nKGFjY291bnROYW1lKSkge1xuICAgICAgICBhY2NvdW50TmFtZSA9IHRoaXMuYXV0aC5jdXJyZW50VXNlcj8uZW1haWwgfHwgJ3Vua25vd251c2VyJztcbiAgICAgIH1cbiAgICAgIGlmIChfaXNFbXB0eVN0cmluZyhpc3N1ZXIpKSB7XG4gICAgICAgIGlzc3VlciA9IHRoaXMuYXV0aC5uYW1lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYG90cGF1dGg6Ly90b3RwLyR7aXNzdWVyfToke2FjY291bnROYW1lfT9zZWNyZXQ9JHt0aGlzLnNlY3JldEtleX0maXNzdWVyPSR7aXNzdWVyfSZhbGdvcml0aG09JHt0aGlzLmhhc2hpbmdBbGdvcml0aG19JmRpZ2l0cz0ke3RoaXMuY29kZUxlbmd0aH1gO1xuICB9XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIF9pc0VtcHR5U3RyaW5nKGlucHV0Pzogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnIHx8IGlucHV0Py5sZW5ndGggPT09IDA7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVW5zdWJzY3JpYmUgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBGaXJlYmFzZUF1dGhJbnRlcm5hbCB9IGZyb20gJ0BmaXJlYmFzZS9hdXRoLWludGVyb3AtdHlwZXMnO1xuXG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5pbnRlcmZhY2UgVG9rZW5MaXN0ZW5lciB7XG4gICh0b2s6IHN0cmluZyB8IG51bGwpOiB1bmtub3duO1xufVxuXG5leHBvcnQgY2xhc3MgQXV0aEludGVyb3AgaW1wbGVtZW50cyBGaXJlYmFzZUF1dGhJbnRlcm5hbCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaW50ZXJuYWxMaXN0ZW5lcnM6IE1hcDxUb2tlbkxpc3RlbmVyLCBVbnN1YnNjcmliZT4gPVxuICAgIG5ldyBNYXAoKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbCkge31cblxuICBnZXRVaWQoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgdGhpcy5hc3NlcnRBdXRoQ29uZmlndXJlZCgpO1xuICAgIHJldHVybiB0aGlzLmF1dGguY3VycmVudFVzZXI/LnVpZCB8fCBudWxsO1xuICB9XG5cbiAgYXN5bmMgZ2V0VG9rZW4oXG4gICAgZm9yY2VSZWZyZXNoPzogYm9vbGVhblxuICApOiBQcm9taXNlPHsgYWNjZXNzVG9rZW46IHN0cmluZyB9IHwgbnVsbD4ge1xuICAgIHRoaXMuYXNzZXJ0QXV0aENvbmZpZ3VyZWQoKTtcbiAgICBhd2FpdCB0aGlzLmF1dGguX2luaXRpYWxpemF0aW9uUHJvbWlzZTtcbiAgICBpZiAoIXRoaXMuYXV0aC5jdXJyZW50VXNlcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSBhd2FpdCB0aGlzLmF1dGguY3VycmVudFVzZXIuZ2V0SWRUb2tlbihmb3JjZVJlZnJlc2gpO1xuICAgIHJldHVybiB7IGFjY2Vzc1Rva2VuIH07XG4gIH1cblxuICBhZGRBdXRoVG9rZW5MaXN0ZW5lcihsaXN0ZW5lcjogVG9rZW5MaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuYXNzZXJ0QXV0aENvbmZpZ3VyZWQoKTtcbiAgICBpZiAodGhpcy5pbnRlcm5hbExpc3RlbmVycy5oYXMobGlzdGVuZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLmF1dGgub25JZFRva2VuQ2hhbmdlZCh1c2VyID0+IHtcbiAgICAgIGxpc3RlbmVyKFxuICAgICAgICAodXNlciBhcyBVc2VySW50ZXJuYWwgfCBudWxsKT8uc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VuIHx8IG51bGxcbiAgICAgICk7XG4gICAgfSk7XG4gICAgdGhpcy5pbnRlcm5hbExpc3RlbmVycy5zZXQobGlzdGVuZXIsIHVuc3Vic2NyaWJlKTtcbiAgICB0aGlzLnVwZGF0ZVByb2FjdGl2ZVJlZnJlc2goKTtcbiAgfVxuXG4gIHJlbW92ZUF1dGhUb2tlbkxpc3RlbmVyKGxpc3RlbmVyOiBUb2tlbkxpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5hc3NlcnRBdXRoQ29uZmlndXJlZCgpO1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gdGhpcy5pbnRlcm5hbExpc3RlbmVycy5nZXQobGlzdGVuZXIpO1xuICAgIGlmICghdW5zdWJzY3JpYmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmludGVybmFsTGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgdW5zdWJzY3JpYmUoKTtcbiAgICB0aGlzLnVwZGF0ZVByb2FjdGl2ZVJlZnJlc2goKTtcbiAgfVxuXG4gIHByaXZhdGUgYXNzZXJ0QXV0aENvbmZpZ3VyZWQoKTogdm9pZCB7XG4gICAgX2Fzc2VydChcbiAgICAgIHRoaXMuYXV0aC5faW5pdGlhbGl6YXRpb25Qcm9taXNlLFxuICAgICAgQXV0aEVycm9yQ29kZS5ERVBFTkRFTlRfU0RLX0lOSVRfQkVGT1JFX0FVVEhcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVQcm9hY3RpdmVSZWZyZXNoKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmludGVybmFsTGlzdGVuZXJzLnNpemUgPiAwKSB7XG4gICAgICB0aGlzLmF1dGguX3N0YXJ0UHJvYWN0aXZlUmVmcmVzaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmF1dGguX3N0b3BQcm9hY3RpdmVSZWZyZXNoKCk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgX3JlZ2lzdGVyQ29tcG9uZW50LCByZWdpc3RlclZlcnNpb24gfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgQ29tcG9uZW50VHlwZSxcbiAgSW5zdGFudGlhdGlvbk1vZGVcbn0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5cbmltcG9ydCB7IG5hbWUsIHZlcnNpb24gfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX2dldENsaWVudFZlcnNpb24sIENsaWVudFBsYXRmb3JtIH0gZnJvbSAnLi4vdXRpbC92ZXJzaW9uJztcbmltcG9ydCB7IF9jYXN0QXV0aCwgQXV0aEltcGwsIERlZmF1bHRDb25maWcgfSBmcm9tICcuL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJvcCB9IGZyb20gJy4vZmlyZWJhc2VfaW50ZXJuYWwnO1xuaW1wb3J0IHsgQ29uZmlnSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IERlcGVuZGVuY2llcyB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBfaW5pdGlhbGl6ZUF1dGhJbnN0YW5jZSB9IGZyb20gJy4vaW5pdGlhbGl6ZSc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIF9Db21wb25lbnROYW1lIHtcbiAgQVVUSCA9ICdhdXRoJyxcbiAgQVVUSF9JTlRFUk5BTCA9ICdhdXRoLWludGVybmFsJ1xufVxuXG5mdW5jdGlvbiBnZXRWZXJzaW9uRm9yUGxhdGZvcm0oXG4gIGNsaWVudFBsYXRmb3JtOiBDbGllbnRQbGF0Zm9ybVxuKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgc3dpdGNoIChjbGllbnRQbGF0Zm9ybSkge1xuICAgIGNhc2UgQ2xpZW50UGxhdGZvcm0uTk9ERTpcbiAgICAgIHJldHVybiAnbm9kZSc7XG4gICAgY2FzZSBDbGllbnRQbGF0Zm9ybS5SRUFDVF9OQVRJVkU6XG4gICAgICByZXR1cm4gJ3JuJztcbiAgICBjYXNlIENsaWVudFBsYXRmb3JtLldPUktFUjpcbiAgICAgIHJldHVybiAnd2Vid29ya2VyJztcbiAgICBjYXNlIENsaWVudFBsYXRmb3JtLkNPUkRPVkE6XG4gICAgICByZXR1cm4gJ2NvcmRvdmEnO1xuICAgIGNhc2UgQ2xpZW50UGxhdGZvcm0uV0VCX0VYVEVOU0lPTjpcbiAgICAgIHJldHVybiAnd2ViLWV4dGVuc2lvbic7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQXV0aChjbGllbnRQbGF0Zm9ybTogQ2xpZW50UGxhdGZvcm0pOiB2b2lkIHtcbiAgX3JlZ2lzdGVyQ29tcG9uZW50KFxuICAgIG5ldyBDb21wb25lbnQoXG4gICAgICBfQ29tcG9uZW50TmFtZS5BVVRILFxuICAgICAgKGNvbnRhaW5lciwgeyBvcHRpb25zOiBkZXBzIH06IHsgb3B0aW9ucz86IERlcGVuZGVuY2llcyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGFwcCA9IGNvbnRhaW5lci5nZXRQcm92aWRlcignYXBwJykuZ2V0SW1tZWRpYXRlKCkhO1xuICAgICAgICBjb25zdCBoZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXIgPVxuICAgICAgICAgIGNvbnRhaW5lci5nZXRQcm92aWRlcjwnaGVhcnRiZWF0Jz4oJ2hlYXJ0YmVhdCcpO1xuICAgICAgICBjb25zdCBhcHBDaGVja1NlcnZpY2VQcm92aWRlciA9XG4gICAgICAgICAgY29udGFpbmVyLmdldFByb3ZpZGVyPCdhcHAtY2hlY2staW50ZXJuYWwnPignYXBwLWNoZWNrLWludGVybmFsJyk7XG4gICAgICAgIGNvbnN0IHsgYXBpS2V5LCBhdXRoRG9tYWluIH0gPSBhcHAub3B0aW9ucztcblxuICAgICAgICBfYXNzZXJ0KFxuICAgICAgICAgIGFwaUtleSAmJiAhYXBpS2V5LmluY2x1ZGVzKCc6JyksXG4gICAgICAgICAgQXV0aEVycm9yQ29kZS5JTlZBTElEX0FQSV9LRVksXG4gICAgICAgICAgeyBhcHBOYW1lOiBhcHAubmFtZSB9XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgY29uZmlnOiBDb25maWdJbnRlcm5hbCA9IHtcbiAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgYXV0aERvbWFpbixcbiAgICAgICAgICBjbGllbnRQbGF0Zm9ybSxcbiAgICAgICAgICBhcGlIb3N0OiBEZWZhdWx0Q29uZmlnLkFQSV9IT1NULFxuICAgICAgICAgIHRva2VuQXBpSG9zdDogRGVmYXVsdENvbmZpZy5UT0tFTl9BUElfSE9TVCxcbiAgICAgICAgICBhcGlTY2hlbWU6IERlZmF1bHRDb25maWcuQVBJX1NDSEVNRSxcbiAgICAgICAgICBzZGtDbGllbnRWZXJzaW9uOiBfZ2V0Q2xpZW50VmVyc2lvbihjbGllbnRQbGF0Zm9ybSlcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhdXRoSW5zdGFuY2UgPSBuZXcgQXV0aEltcGwoXG4gICAgICAgICAgYXBwLFxuICAgICAgICAgIGhlYXJ0YmVhdFNlcnZpY2VQcm92aWRlcixcbiAgICAgICAgICBhcHBDaGVja1NlcnZpY2VQcm92aWRlcixcbiAgICAgICAgICBjb25maWdcbiAgICAgICAgKTtcbiAgICAgICAgX2luaXRpYWxpemVBdXRoSW5zdGFuY2UoYXV0aEluc3RhbmNlLCBkZXBzKTtcblxuICAgICAgICByZXR1cm4gYXV0aEluc3RhbmNlO1xuICAgICAgfSxcbiAgICAgIENvbXBvbmVudFR5cGUuUFVCTElDXG4gICAgKVxuICAgICAgLyoqXG4gICAgICAgKiBBdXRoIGNhbiBvbmx5IGJlIGluaXRpYWxpemVkIGJ5IGV4cGxpY2l0bHkgY2FsbGluZyBnZXRBdXRoKCkgb3IgaW5pdGlhbGl6ZUF1dGgoKVxuICAgICAgICogRm9yIHdoeSB3ZSBkbyB0aGlzLCBTZWUgZ28vZmlyZWJhc2UtbmV4dC1hdXRoLWluaXRcbiAgICAgICAqL1xuICAgICAgLnNldEluc3RhbnRpYXRpb25Nb2RlKEluc3RhbnRpYXRpb25Nb2RlLkVYUExJQ0lUKVxuICAgICAgLyoqXG4gICAgICAgKiBCZWNhdXNlIGFsbCBmaXJlYmFzZSBwcm9kdWN0cyB0aGF0IGRlcGVuZCBvbiBhdXRoIGRlcGVuZCBvbiBhdXRoLWludGVybmFsIGRpcmVjdGx5LFxuICAgICAgICogd2UgbmVlZCB0byBpbml0aWFsaXplIGF1dGgtaW50ZXJuYWwgYWZ0ZXIgYXV0aCBpcyBpbml0aWFsaXplZCB0byBtYWtlIGl0IGF2YWlsYWJsZSB0byBvdGhlciBmaXJlYmFzZSBwcm9kdWN0cy5cbiAgICAgICAqL1xuICAgICAgLnNldEluc3RhbmNlQ3JlYXRlZENhbGxiYWNrKFxuICAgICAgICAoY29udGFpbmVyLCBfaW5zdGFuY2VJZGVudGlmaWVyLCBfaW5zdGFuY2UpID0+IHtcbiAgICAgICAgICBjb25zdCBhdXRoSW50ZXJuYWxQcm92aWRlciA9IGNvbnRhaW5lci5nZXRQcm92aWRlcihcbiAgICAgICAgICAgIF9Db21wb25lbnROYW1lLkFVVEhfSU5URVJOQUxcbiAgICAgICAgICApO1xuICAgICAgICAgIGF1dGhJbnRlcm5hbFByb3ZpZGVyLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICApO1xuXG4gIF9yZWdpc3RlckNvbXBvbmVudChcbiAgICBuZXcgQ29tcG9uZW50KFxuICAgICAgX0NvbXBvbmVudE5hbWUuQVVUSF9JTlRFUk5BTCxcbiAgICAgIGNvbnRhaW5lciA9PiB7XG4gICAgICAgIGNvbnN0IGF1dGggPSBfY2FzdEF1dGgoXG4gICAgICAgICAgY29udGFpbmVyLmdldFByb3ZpZGVyKF9Db21wb25lbnROYW1lLkFVVEgpLmdldEltbWVkaWF0ZSgpIVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gKGF1dGggPT4gbmV3IEF1dGhJbnRlcm9wKGF1dGgpKShhdXRoKTtcbiAgICAgIH0sXG4gICAgICBDb21wb25lbnRUeXBlLlBSSVZBVEVcbiAgICApLnNldEluc3RhbnRpYXRpb25Nb2RlKEluc3RhbnRpYXRpb25Nb2RlLkVYUExJQ0lUKVxuICApO1xuXG4gIHJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCBnZXRWZXJzaW9uRm9yUGxhdGZvcm0oY2xpZW50UGxhdGZvcm0pKTtcbiAgLy8gQlVJTERfVEFSR0VUIHdpbGwgYmUgcmVwbGFjZWQgYnkgdmFsdWVzIGxpa2UgZXNtNSwgZXNtMjAxNywgY2pzNSwgZXRjIGR1cmluZyB0aGUgY29tcGlsYXRpb25cbiAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sICdfX0JVSUxEX1RBUkdFVF9fJyk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlyZWJhc2VBcHAsIGdldEFwcCwgX2dldFByb3ZpZGVyIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbmltcG9ydCB7XG4gIGluaXRpYWxpemVBdXRoLFxuICBiZWZvcmVBdXRoU3RhdGVDaGFuZ2VkLFxuICBvbklkVG9rZW5DaGFuZ2VkLFxuICBjb25uZWN0QXV0aEVtdWxhdG9yXG59IGZyb20gJy4uJztcbmltcG9ydCB7IHJlZ2lzdGVyQXV0aCB9IGZyb20gJy4uL2NvcmUvYXV0aC9yZWdpc3Rlcic7XG5pbXBvcnQgeyBDbGllbnRQbGF0Zm9ybSB9IGZyb20gJy4uL2NvcmUvdXRpbC92ZXJzaW9uJztcbmltcG9ydCB7IGJyb3dzZXJMb2NhbFBlcnNpc3RlbmNlIH0gZnJvbSAnLi9wZXJzaXN0ZW5jZS9sb2NhbF9zdG9yYWdlJztcbmltcG9ydCB7IGJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2UgfSBmcm9tICcuL3BlcnNpc3RlbmNlL3Nlc3Npb25fc3RvcmFnZSc7XG5pbXBvcnQgeyBpbmRleGVkREJMb2NhbFBlcnNpc3RlbmNlIH0gZnJvbSAnLi9wZXJzaXN0ZW5jZS9pbmRleGVkX2RiJztcbmltcG9ydCB7IGJyb3dzZXJQb3B1cFJlZGlyZWN0UmVzb2x2ZXIgfSBmcm9tICcuL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IEF1dGgsIFVzZXIgfSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdCwgZ2V0RXhwZXJpbWVudGFsU2V0dGluZyB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IF9zZXRFeHRlcm5hbEpTUHJvdmlkZXIgfSBmcm9tICcuL2xvYWRfanMnO1xuaW1wb3J0IHsgX2NyZWF0ZUVycm9yIH0gZnJvbSAnLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vY29yZS9lcnJvcnMnO1xuXG5jb25zdCBERUZBVUxUX0lEX1RPS0VOX01BWF9BR0UgPSA1ICogNjA7XG5jb25zdCBhdXRoSWRUb2tlbk1heEFnZSA9XG4gIGdldEV4cGVyaW1lbnRhbFNldHRpbmcoJ2F1dGhJZFRva2VuTWF4QWdlJykgfHwgREVGQVVMVF9JRF9UT0tFTl9NQVhfQUdFO1xuXG5sZXQgbGFzdFBvc3RlZElkVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZCB8IG51bGwgPSBudWxsO1xuXG5jb25zdCBtaW50Q29va2llRmFjdG9yeSA9ICh1cmw6IHN0cmluZykgPT4gYXN5bmMgKHVzZXI6IFVzZXIgfCBudWxsKSA9PiB7XG4gIGNvbnN0IGlkVG9rZW5SZXN1bHQgPSB1c2VyICYmIChhd2FpdCB1c2VyLmdldElkVG9rZW5SZXN1bHQoKSk7XG4gIGNvbnN0IGlkVG9rZW5BZ2UgPVxuICAgIGlkVG9rZW5SZXN1bHQgJiZcbiAgICAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBEYXRlLnBhcnNlKGlkVG9rZW5SZXN1bHQuaXNzdWVkQXRUaW1lKSkgLyAxXzAwMDtcbiAgaWYgKGlkVG9rZW5BZ2UgJiYgaWRUb2tlbkFnZSA+IGF1dGhJZFRva2VuTWF4QWdlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFNwZWNpZmljYWxseSB0cmlwIG51bGwgPT4gdW5kZWZpbmVkIHdoZW4gbG9nZ2VkIG91dCwgdG8gZGVsZXRlIGFueSBleGlzdGluZyBjb29raWVcbiAgY29uc3QgaWRUb2tlbiA9IGlkVG9rZW5SZXN1bHQ/LnRva2VuO1xuICBpZiAobGFzdFBvc3RlZElkVG9rZW4gPT09IGlkVG9rZW4pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGFzdFBvc3RlZElkVG9rZW4gPSBpZFRva2VuO1xuICBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICBtZXRob2Q6IGlkVG9rZW4gPyAnUE9TVCcgOiAnREVMRVRFJyxcbiAgICBoZWFkZXJzOiBpZFRva2VuXG4gICAgICA/IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtpZFRva2VufWBcbiAgICAgICAgfVxuICAgICAgOiB7fVxuICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgQXV0aCBpbnN0YW5jZSBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3ZpZGVkIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfS5cbiAqIElmIG5vIGluc3RhbmNlIGV4aXN0cywgaW5pdGlhbGl6ZXMgYW4gQXV0aCBpbnN0YW5jZSB3aXRoIHBsYXRmb3JtLXNwZWNpZmljIGRlZmF1bHQgZGVwZW5kZW5jaWVzLlxuICpcbiAqIEBwYXJhbSBhcHAgLSBUaGUgRmlyZWJhc2UgQXBwLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEF1dGgoYXBwOiBGaXJlYmFzZUFwcCA9IGdldEFwcCgpKTogQXV0aCB7XG4gIGNvbnN0IHByb3ZpZGVyID0gX2dldFByb3ZpZGVyKGFwcCwgJ2F1dGgnKTtcblxuICBpZiAocHJvdmlkZXIuaXNJbml0aWFsaXplZCgpKSB7XG4gICAgcmV0dXJuIHByb3ZpZGVyLmdldEltbWVkaWF0ZSgpO1xuICB9XG5cbiAgY29uc3QgYXV0aCA9IGluaXRpYWxpemVBdXRoKGFwcCwge1xuICAgIHBvcHVwUmVkaXJlY3RSZXNvbHZlcjogYnJvd3NlclBvcHVwUmVkaXJlY3RSZXNvbHZlcixcbiAgICBwZXJzaXN0ZW5jZTogW1xuICAgICAgaW5kZXhlZERCTG9jYWxQZXJzaXN0ZW5jZSxcbiAgICAgIGJyb3dzZXJMb2NhbFBlcnNpc3RlbmNlLFxuICAgICAgYnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZVxuICAgIF1cbiAgfSk7XG5cbiAgY29uc3QgYXV0aFRva2VuU3luY1BhdGggPSBnZXRFeHBlcmltZW50YWxTZXR0aW5nKCdhdXRoVG9rZW5TeW5jVVJMJyk7XG4gIC8vIE9ubHkgZG8gdGhlIENvb2tpZSBleGNoYW5nZSBpbiBhIHNlY3VyZSBjb250ZXh0XG4gIGlmIChcbiAgICBhdXRoVG9rZW5TeW5jUGF0aCAmJlxuICAgIHR5cGVvZiBpc1NlY3VyZUNvbnRleHQgPT09ICdib29sZWFuJyAmJlxuICAgIGlzU2VjdXJlQ29udGV4dFxuICApIHtcbiAgICAvLyBEb24ndCBhbGxvdyB1cmxzIChYU1MgcG9zc2liaWxpdHkpLCBvbmx5IHBhdGhzIG9uIHRoZSBzYW1lIGRvbWFpblxuICAgIGNvbnN0IGF1dGhUb2tlblN5bmNVcmwgPSBuZXcgVVJMKGF1dGhUb2tlblN5bmNQYXRoLCBsb2NhdGlvbi5vcmlnaW4pO1xuICAgIGlmIChsb2NhdGlvbi5vcmlnaW4gPT09IGF1dGhUb2tlblN5bmNVcmwub3JpZ2luKSB7XG4gICAgICBjb25zdCBtaW50Q29va2llID0gbWludENvb2tpZUZhY3RvcnkoYXV0aFRva2VuU3luY1VybC50b1N0cmluZygpKTtcbiAgICAgIGJlZm9yZUF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgbWludENvb2tpZSwgKCkgPT5cbiAgICAgICAgbWludENvb2tpZShhdXRoLmN1cnJlbnRVc2VyKVxuICAgICAgKTtcbiAgICAgIG9uSWRUb2tlbkNoYW5nZWQoYXV0aCwgdXNlciA9PiBtaW50Q29va2llKHVzZXIpKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBhdXRoRW11bGF0b3JIb3N0ID0gZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdCgnYXV0aCcpO1xuICBpZiAoYXV0aEVtdWxhdG9ySG9zdCkge1xuICAgIGNvbm5lY3RBdXRoRW11bGF0b3IoYXV0aCwgYGh0dHA6Ly8ke2F1dGhFbXVsYXRvckhvc3R9YCk7XG4gIH1cblxuICByZXR1cm4gYXV0aDtcbn1cblxuZnVuY3Rpb24gZ2V0U2NyaXB0UGFyZW50RWxlbWVudCgpOiBIVE1MRG9jdW1lbnQgfCBIVE1MSGVhZEVsZW1lbnQge1xuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKT8uWzBdID8/IGRvY3VtZW50O1xufVxuXG5fc2V0RXh0ZXJuYWxKU1Byb3ZpZGVyKHtcbiAgbG9hZEpTKHVybDogc3RyaW5nKTogUHJvbWlzZTxFdmVudD4ge1xuICAgIC8vIFRPRE86IGNvbnNpZGVyIGFkZGluZyB0aW1lb3V0IHN1cHBvcnQgJiBjYW5jZWxsYXRpb25cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcbiAgICAgIGVsLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICBlbC5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gX2NyZWF0ZUVycm9yKEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgICAgICBlcnJvci5jdXN0b21EYXRhID0gZSBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfTtcbiAgICAgIGVsLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgIGVsLmNoYXJzZXQgPSAnVVRGLTgnO1xuICAgICAgZ2V0U2NyaXB0UGFyZW50RWxlbWVudCgpLmFwcGVuZENoaWxkKGVsKTtcbiAgICB9KTtcbiAgfSxcblxuICBnYXBpU2NyaXB0OiAnaHR0cHM6Ly9hcGlzLmdvb2dsZS5jb20vanMvYXBpLmpzJyxcbiAgcmVjYXB0Y2hhVjJTY3JpcHQ6ICdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMnLFxuICByZWNhcHRjaGFFbnRlcnByaXNlU2NyaXB0OlxuICAgICdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9lbnRlcnByaXNlLmpzP3JlbmRlcj0nXG59KTtcblxucmVnaXN0ZXJBdXRoKENsaWVudFBsYXRmb3JtLkJST1dTRVIpO1xuIiwgImV4cG9ydCB7IEEgYXMgQWN0aW9uQ29kZU9wZXJhdGlvbiwgYWkgYXMgQWN0aW9uQ29kZVVSTCwgTCBhcyBBdXRoQ3JlZGVudGlhbCwgSSBhcyBBdXRoRXJyb3JDb2RlcywgTSBhcyBFbWFpbEF1dGhDcmVkZW50aWFsLCBWIGFzIEVtYWlsQXV0aFByb3ZpZGVyLCBXIGFzIEZhY2Vib29rQXV0aFByb3ZpZGVyLCBGIGFzIEZhY3RvcklkLCBZIGFzIEdpdGh1YkF1dGhQcm92aWRlciwgWCBhcyBHb29nbGVBdXRoUHJvdmlkZXIsIE4gYXMgT0F1dGhDcmVkZW50aWFsLCBaIGFzIE9BdXRoUHJvdmlkZXIsIE8gYXMgT3BlcmF0aW9uVHlwZSwgUSBhcyBQaG9uZUF1dGhDcmVkZW50aWFsLCBQIGFzIFBob25lQXV0aFByb3ZpZGVyLCBtIGFzIFBob25lTXVsdGlGYWN0b3JHZW5lcmF0b3IsIHAgYXMgUHJvdmlkZXJJZCwgUiBhcyBSZWNhcHRjaGFWZXJpZmllciwgXyBhcyBTQU1MQXV0aFByb3ZpZGVyLCBTIGFzIFNpZ25Jbk1ldGhvZCwgVCBhcyBUb3RwTXVsdGlGYWN0b3JHZW5lcmF0b3IsIG4gYXMgVG90cFNlY3JldCwgJCBhcyBUd2l0dGVyQXV0aFByb3ZpZGVyLCBhNyBhcyBhcHBseUFjdGlvbkNvZGUsIHggYXMgYmVmb3JlQXV0aFN0YXRlQ2hhbmdlZCwgYiBhcyBicm93c2VyTG9jYWxQZXJzaXN0ZW5jZSwgayBhcyBicm93c2VyUG9wdXBSZWRpcmVjdFJlc29sdmVyLCBhIGFzIGJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2UsIGE4IGFzIGNoZWNrQWN0aW9uQ29kZSwgYTYgYXMgY29uZmlybVBhc3N3b3JkUmVzZXQsIEsgYXMgY29ubmVjdEF1dGhFbXVsYXRvciwgYWEgYXMgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkLCBHIGFzIGRlYnVnRXJyb3JNYXAsIEUgYXMgZGVsZXRlVXNlciwgYWYgYXMgZmV0Y2hTaWduSW5NZXRob2RzRm9yRW1haWwsIGFxIGFzIGdldEFkZGl0aW9uYWxVc2VySW5mbywgbyBhcyBnZXRBdXRoLCBhbiBhcyBnZXRJZFRva2VuLCBhbyBhcyBnZXRJZFRva2VuUmVzdWx0LCBhcyBhcyBnZXRNdWx0aUZhY3RvclJlc29sdmVyLCBqIGFzIGdldFJlZGlyZWN0UmVzdWx0LCBVIGFzIGluTWVtb3J5UGVyc2lzdGVuY2UsIGkgYXMgaW5kZXhlZERCTG9jYWxQZXJzaXN0ZW5jZSwgSiBhcyBpbml0aWFsaXplQXV0aCwgdCBhcyBpbml0aWFsaXplUmVjYXB0Y2hhQ29uZmlnLCBhZCBhcyBpc1NpZ25JbldpdGhFbWFpbExpbmssIGEyIGFzIGxpbmtXaXRoQ3JlZGVudGlhbCwgbCBhcyBsaW5rV2l0aFBob25lTnVtYmVyLCBkIGFzIGxpbmtXaXRoUG9wdXAsIGcgYXMgbGlua1dpdGhSZWRpcmVjdCwgYXQgYXMgbXVsdGlGYWN0b3IsIHkgYXMgb25BdXRoU3RhdGVDaGFuZ2VkLCB3IGFzIG9uSWRUb2tlbkNoYW5nZWQsIGFqIGFzIHBhcnNlQWN0aW9uQ29kZVVSTCwgSCBhcyBwcm9kRXJyb3JNYXAsIGEzIGFzIHJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWwsIHIgYXMgcmVhdXRoZW50aWNhdGVXaXRoUGhvbmVOdW1iZXIsIGUgYXMgcmVhdXRoZW50aWNhdGVXaXRoUG9wdXAsIGggYXMgcmVhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3QsIGFyIGFzIHJlbG9hZCwgRCBhcyByZXZva2VBY2Nlc3NUb2tlbiwgYWcgYXMgc2VuZEVtYWlsVmVyaWZpY2F0aW9uLCBhNSBhcyBzZW5kUGFzc3dvcmRSZXNldEVtYWlsLCBhYyBhcyBzZW5kU2lnbkluTGlua1RvRW1haWwsIHEgYXMgc2V0UGVyc2lzdGVuY2UsIGEwIGFzIHNpZ25JbkFub255bW91c2x5LCBhMSBhcyBzaWduSW5XaXRoQ3JlZGVudGlhbCwgYTQgYXMgc2lnbkluV2l0aEN1c3RvbVRva2VuLCBhYiBhcyBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCwgYWUgYXMgc2lnbkluV2l0aEVtYWlsTGluaywgcyBhcyBzaWduSW5XaXRoUGhvbmVOdW1iZXIsIGMgYXMgc2lnbkluV2l0aFBvcHVwLCBmIGFzIHNpZ25JbldpdGhSZWRpcmVjdCwgQyBhcyBzaWduT3V0LCBhcCBhcyB1bmxpbmssIEIgYXMgdXBkYXRlQ3VycmVudFVzZXIsIGFsIGFzIHVwZGF0ZUVtYWlsLCBhbSBhcyB1cGRhdGVQYXNzd29yZCwgdSBhcyB1cGRhdGVQaG9uZU51bWJlciwgYWsgYXMgdXBkYXRlUHJvZmlsZSwgeiBhcyB1c2VEZXZpY2VMYW5ndWFnZSwgdiBhcyB2YWxpZGF0ZVBhc3N3b3JkLCBhaCBhcyB2ZXJpZnlCZWZvcmVVcGRhdGVFbWFpbCwgYTkgYXMgdmVyaWZ5UGFzc3dvcmRSZXNldENvZGUgfSBmcm9tICcuL2luZGV4LTY4NjAyZDI0LmpzJztcbmltcG9ydCAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCAnQGZpcmViYXNlL2xvZ2dlcic7XG5pbXBvcnQgJ3RzbGliJztcbmltcG9ydCAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiIsICJleHBvcnQgKiBmcm9tICdAZmlyZWJhc2UvYXV0aCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iLCAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO3ZhciBmPXJlcXVpcmUoXCJyZWFjdFwiKSxrPVN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLGw9U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLG09T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxuPWYuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50T3duZXIscD17a2V5OiEwLHJlZjohMCxfX3NlbGY6ITAsX19zb3VyY2U6ITB9O1xuZnVuY3Rpb24gcShjLGEsZyl7dmFyIGIsZD17fSxlPW51bGwsaD1udWxsO3ZvaWQgMCE9PWcmJihlPVwiXCIrZyk7dm9pZCAwIT09YS5rZXkmJihlPVwiXCIrYS5rZXkpO3ZvaWQgMCE9PWEucmVmJiYoaD1hLnJlZik7Zm9yKGIgaW4gYSltLmNhbGwoYSxiKSYmIXAuaGFzT3duUHJvcGVydHkoYikmJihkW2JdPWFbYl0pO2lmKGMmJmMuZGVmYXVsdFByb3BzKWZvcihiIGluIGE9Yy5kZWZhdWx0UHJvcHMsYSl2b2lkIDA9PT1kW2JdJiYoZFtiXT1hW2JdKTtyZXR1cm57JCR0eXBlb2Y6ayx0eXBlOmMsa2V5OmUscmVmOmgscHJvcHM6ZCxfb3duZXI6bi5jdXJyZW50fX1leHBvcnRzLkZyYWdtZW50PWw7ZXhwb3J0cy5qc3g9cTtleHBvcnRzLmpzeHM9cTtcbiIsICIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsICJpbXBvcnQgeyBTdHJpY3RNb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVSb290IH0gZnJvbSBcInJlYWN0LWRvbS9jbGllbnRcIjtcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgY2FjaGVFeGNoYW5nZSwgY3JlYXRlQ2xpZW50LCBmZXRjaEV4Y2hhbmdlLCBQcm92aWRlciB9IGZyb20gXCJ1cnFsXCI7XG5pbXBvcnQgQXBwIGZyb20gXCIuL0FwcC50c3hcIjtcbmltcG9ydCB7IHJlZmV0Y2hPblR5cGVuYW1lIH0gZnJvbSBcIi4vdXRpbHMvcmVmZXRjaE9uVHlwZW5hbWUudHNcIjtcbmltcG9ydCB7IEF1dGhQcm92aWRlciB9IGZyb20gXCIuL2NvbnRleHQvQXV0aENvbnRleHQudHN4XCI7XG5pbXBvcnQgeyBhdXRoIH0gZnJvbSBcIi4vZmlyZWJhc2UvYXV0aC50c1wiO1xuXG4vLyB1cnFsXHUzMEFGXHUzMEU5XHUzMEE0XHUzMEEyXHUzMEYzXHUzMEM4XHUzMDkyXHU0RjVDXHU2MjEwXHVGRjA4XHU4QThEXHU4QTNDXHUzMEM4XHUzMEZDXHUzMEFGXHUzMEYzXHU0RUQ4XHUzMDREXHVGRjA5XG5jb25zdCB1cnFsQ2xpZW50ID0gY3JlYXRlQ2xpZW50KHtcbiAgdXJsOiBcIi9ncmFwaHFsXCIsXG4gIGV4Y2hhbmdlczogW3JlZmV0Y2hPblR5cGVuYW1lLCBjYWNoZUV4Y2hhbmdlLCBmZXRjaEV4Y2hhbmdlXSxcbiAgZmV0Y2hPcHRpb25zOiAoKSA9PiB7XG4gICAgLy8gRmlyZWJhc2UgXHUzMDZFXHU3M0ZFXHU1NzI4XHUzMDZFXHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXHUzMDRCXHUzMDg5XHUzMEM4XHUzMEZDXHUzMEFGXHUzMEYzXHUzMDkyXHU1M0Q2XHU1Rjk3XG4gICAgY29uc3QgdXNlciA9IGF1dGguY3VycmVudFVzZXI7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLy8gZ2V0SWRUb2tlbiBcdTMwNkZcdTk3NUVcdTU0MENcdTY3MUZcdTMwNjBcdTMwNENcdTMwMDFcdTMwQURcdTMwRTNcdTMwQzNcdTMwQjdcdTMwRTVcdTMwNTVcdTMwOENcdTMwNUZcdTMwQzhcdTMwRkNcdTMwQUZcdTMwRjNcdTMwOTJcdTU0MENcdTY3MUZcdTc2ODRcdTMwNkJcdTUzRDZcdTVGOTdcdTMwNTlcdTMwOEJcdTMwNUZcdTMwODFcbiAgICAvLyBhY2Nlc3NUb2tlbiBcdTMwRDdcdTMwRURcdTMwRDFcdTMwQzZcdTMwQTNcdTMwOTJcdTc2RjRcdTYzQTVcdTRGN0ZcdTc1MjhcdUZGMDhGaXJlYmFzZSBTREsgXHUzMDRDXHU1MTg1XHU5MEU4XHUzMDY3XHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1XHVGRjA5XG4gICAgLy8gZGVuby1saW50LWlnbm9yZSBuby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCB0b2tlbiA9ICh1c2VyIGFzIGFueSkuYWNjZXNzVG9rZW47XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgfSxcbiAgICB9O1xuICB9LFxufSk7XG5cbmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIik7XG5pZiAoIXJvb3RFbGVtZW50KSB7XG4gIHRocm93IG5ldyBFcnJvcihcIlJvb3QgZWxlbWVudCBub3QgZm91bmRcIik7XG59XG5cbmNvbnN0IHJvb3QgPSBjcmVhdGVSb290KHJvb3RFbGVtZW50KTtcbnJvb3QucmVuZGVyKFxuICA8U3RyaWN0TW9kZT5cbiAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgIDxQcm92aWRlciB2YWx1ZT17dXJxbENsaWVudH0+XG4gICAgICAgIDxBdXRoUHJvdmlkZXI+XG4gICAgICAgICAgPEFwcCAvPlxuICAgICAgICA8L0F1dGhQcm92aWRlcj5cbiAgICAgIDwvUHJvdmlkZXI+XG4gICAgPC9Ccm93c2VyUm91dGVyPlxuICA8L1N0cmljdE1vZGU+LFxuKTtcbiIsICIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8jcmVnaW9uIFR5cGVzIGFuZCBDb25zdGFudHNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQWN0aW9ucyByZXByZXNlbnQgdGhlIHR5cGUgb2YgY2hhbmdlIHRvIGEgbG9jYXRpb24gdmFsdWUuXG4gKi9cbmV4cG9ydCBlbnVtIEFjdGlvbiB7XG4gIC8qKlxuICAgKiBBIFBPUCBpbmRpY2F0ZXMgYSBjaGFuZ2UgdG8gYW4gYXJiaXRyYXJ5IGluZGV4IGluIHRoZSBoaXN0b3J5IHN0YWNrLCBzdWNoXG4gICAqIGFzIGEgYmFjayBvciBmb3J3YXJkIG5hdmlnYXRpb24uIEl0IGRvZXMgbm90IGRlc2NyaWJlIHRoZSBkaXJlY3Rpb24gb2YgdGhlXG4gICAqIG5hdmlnYXRpb24sIG9ubHkgdGhhdCB0aGUgY3VycmVudCBpbmRleCBjaGFuZ2VkLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIGlzIHRoZSBkZWZhdWx0IGFjdGlvbiBmb3IgbmV3bHkgY3JlYXRlZCBoaXN0b3J5IG9iamVjdHMuXG4gICAqL1xuICBQb3AgPSBcIlBPUFwiLFxuXG4gIC8qKlxuICAgKiBBIFBVU0ggaW5kaWNhdGVzIGEgbmV3IGVudHJ5IGJlaW5nIGFkZGVkIHRvIHRoZSBoaXN0b3J5IHN0YWNrLCBzdWNoIGFzIHdoZW5cbiAgICogYSBsaW5rIGlzIGNsaWNrZWQgYW5kIGEgbmV3IHBhZ2UgbG9hZHMuIFdoZW4gdGhpcyBoYXBwZW5zLCBhbGwgc3Vic2VxdWVudFxuICAgKiBlbnRyaWVzIGluIHRoZSBzdGFjayBhcmUgbG9zdC5cbiAgICovXG4gIFB1c2ggPSBcIlBVU0hcIixcblxuICAvKipcbiAgICogQSBSRVBMQUNFIGluZGljYXRlcyB0aGUgZW50cnkgYXQgdGhlIGN1cnJlbnQgaW5kZXggaW4gdGhlIGhpc3Rvcnkgc3RhY2tcbiAgICogYmVpbmcgcmVwbGFjZWQgYnkgYSBuZXcgb25lLlxuICAgKi9cbiAgUmVwbGFjZSA9IFwiUkVQTEFDRVwiLFxufVxuXG4vKipcbiAqIFRoZSBwYXRobmFtZSwgc2VhcmNoLCBhbmQgaGFzaCB2YWx1ZXMgb2YgYSBVUkwuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGF0aCB7XG4gIC8qKlxuICAgKiBBIFVSTCBwYXRobmFtZSwgYmVnaW5uaW5nIHdpdGggYSAvLlxuICAgKi9cbiAgcGF0aG5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogQSBVUkwgc2VhcmNoIHN0cmluZywgYmVnaW5uaW5nIHdpdGggYSA/LlxuICAgKi9cbiAgc2VhcmNoOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgVVJMIGZyYWdtZW50IGlkZW50aWZpZXIsIGJlZ2lubmluZyB3aXRoIGEgIy5cbiAgICovXG4gIGhhc2g6IHN0cmluZztcbn1cblxuLy8gVE9ETzogKHY3KSBDaGFuZ2UgdGhlIExvY2F0aW9uIGdlbmVyaWMgZGVmYXVsdCBmcm9tIGBhbnlgIHRvIGB1bmtub3duYCBhbmRcbi8vIHJlbW92ZSBSZW1peCBgdXNlTG9jYXRpb25gIHdyYXBwZXIuXG5cbi8qKlxuICogQW4gZW50cnkgaW4gYSBoaXN0b3J5IHN0YWNrLiBBIGxvY2F0aW9uIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZVxuICogVVJMIHBhdGgsIGFzIHdlbGwgYXMgcG9zc2libHkgc29tZSBhcmJpdHJhcnkgc3RhdGUgYW5kIGEga2V5LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uPFN0YXRlID0gYW55PiBleHRlbmRzIFBhdGgge1xuICAvKipcbiAgICogQSB2YWx1ZSBvZiBhcmJpdHJhcnkgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhpcyBsb2NhdGlvbi5cbiAgICovXG4gIHN0YXRlOiBTdGF0ZTtcblxuICAvKipcbiAgICogQSB1bmlxdWUgc3RyaW5nIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxvY2F0aW9uLiBNYXkgYmUgdXNlZCB0byBzYWZlbHkgc3RvcmVcbiAgICogYW5kIHJldHJpZXZlIGRhdGEgaW4gc29tZSBvdGhlciBzdG9yYWdlIEFQSSwgbGlrZSBgbG9jYWxTdG9yYWdlYC5cbiAgICpcbiAgICogTm90ZTogVGhpcyB2YWx1ZSBpcyBhbHdheXMgXCJkZWZhdWx0XCIgb24gdGhlIGluaXRpYWwgbG9jYXRpb24uXG4gICAqL1xuICBrZXk6IHN0cmluZztcbn1cblxuLyoqXG4gKiBBIGNoYW5nZSB0byB0aGUgY3VycmVudCBsb2NhdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGUge1xuICAvKipcbiAgICogVGhlIGFjdGlvbiB0aGF0IHRyaWdnZXJlZCB0aGUgY2hhbmdlLlxuICAgKi9cbiAgYWN0aW9uOiBBY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSBuZXcgbG9jYXRpb24uXG4gICAqL1xuICBsb2NhdGlvbjogTG9jYXRpb247XG5cbiAgLyoqXG4gICAqIFRoZSBkZWx0YSBiZXR3ZWVuIHRoaXMgbG9jYXRpb24gYW5kIHRoZSBmb3JtZXIgbG9jYXRpb24gaW4gdGhlIGhpc3Rvcnkgc3RhY2tcbiAgICovXG4gIGRlbHRhOiBudW1iZXIgfCBudWxsO1xufVxuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBub3RpZmljYXRpb25zIGFib3V0IGxvY2F0aW9uIGNoYW5nZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdGVuZXIge1xuICAodXBkYXRlOiBVcGRhdGUpOiB2b2lkO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyBhIGxvY2F0aW9uIHRoYXQgaXMgdGhlIGRlc3RpbmF0aW9uIG9mIHNvbWUgbmF2aWdhdGlvbiwgZWl0aGVyIHZpYVxuICogYGhpc3RvcnkucHVzaGAgb3IgYGhpc3RvcnkucmVwbGFjZWAuIFRoaXMgbWF5IGJlIGVpdGhlciBhIFVSTCBvciB0aGUgcGllY2VzXG4gKiBvZiBhIFVSTCBwYXRoLlxuICovXG5leHBvcnQgdHlwZSBUbyA9IHN0cmluZyB8IFBhcnRpYWw8UGF0aD47XG5cbi8qKlxuICogQSBoaXN0b3J5IGlzIGFuIGludGVyZmFjZSB0byB0aGUgbmF2aWdhdGlvbiBzdGFjay4gVGhlIGhpc3Rvcnkgc2VydmVzIGFzIHRoZVxuICogc291cmNlIG9mIHRydXRoIGZvciB0aGUgY3VycmVudCBsb2NhdGlvbiwgYXMgd2VsbCBhcyBwcm92aWRlcyBhIHNldCBvZlxuICogbWV0aG9kcyB0aGF0IG1heSBiZSB1c2VkIHRvIGNoYW5nZSBpdC5cbiAqXG4gKiBJdCBpcyBzaW1pbGFyIHRvIHRoZSBET00ncyBgd2luZG93Lmhpc3RvcnlgIG9iamVjdCwgYnV0IHdpdGggYSBzbWFsbGVyLCBtb3JlXG4gKiBmb2N1c2VkIEFQSS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIaXN0b3J5IHtcbiAgLyoqXG4gICAqIFRoZSBsYXN0IGFjdGlvbiB0aGF0IG1vZGlmaWVkIHRoZSBjdXJyZW50IGxvY2F0aW9uLiBUaGlzIHdpbGwgYWx3YXlzIGJlXG4gICAqIEFjdGlvbi5Qb3Agd2hlbiBhIGhpc3RvcnkgaW5zdGFuY2UgaXMgZmlyc3QgY3JlYXRlZC4gVGhpcyB2YWx1ZSBpcyBtdXRhYmxlLlxuICAgKi9cbiAgcmVhZG9ubHkgYWN0aW9uOiBBY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IGxvY2F0aW9uLiBUaGlzIHZhbHVlIGlzIG11dGFibGUuXG4gICAqL1xuICByZWFkb25seSBsb2NhdGlvbjogTG9jYXRpb247XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSB2YWxpZCBocmVmIGZvciB0aGUgZ2l2ZW4gYHRvYCB2YWx1ZSB0aGF0IG1heSBiZSB1c2VkIGFzXG4gICAqIHRoZSB2YWx1ZSBvZiBhbiA8YSBocmVmPiBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEBwYXJhbSB0byAtIFRoZSBkZXN0aW5hdGlvbiBVUkxcbiAgICovXG4gIGNyZWF0ZUhyZWYodG86IFRvKTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgVVJMIGZvciB0aGUgZ2l2ZW4gYHRvYCB2YWx1ZVxuICAgKlxuICAgKiBAcGFyYW0gdG8gLSBUaGUgZGVzdGluYXRpb24gVVJMXG4gICAqL1xuICBjcmVhdGVVUkwodG86IFRvKTogVVJMO1xuXG4gIC8qKlxuICAgKiBFbmNvZGUgYSBsb2NhdGlvbiB0aGUgc2FtZSB3YXkgd2luZG93Lmhpc3Rvcnkgd291bGQgZG8gKG5vLW9wIGZvciBtZW1vcnlcbiAgICogaGlzdG9yeSkgc28gd2UgZW5zdXJlIG91ciBQVVNIL1JFUExBQ0UgbmF2aWdhdGlvbnMgZm9yIGRhdGEgcm91dGVyc1xuICAgKiBiZWhhdmUgdGhlIHNhbWUgYXMgUE9QXG4gICAqXG4gICAqIEBwYXJhbSB0byBVbmVuY29kZWQgcGF0aFxuICAgKi9cbiAgZW5jb2RlTG9jYXRpb24odG86IFRvKTogUGF0aDtcblxuICAvKipcbiAgICogUHVzaGVzIGEgbmV3IGxvY2F0aW9uIG9udG8gdGhlIGhpc3Rvcnkgc3RhY2ssIGluY3JlYXNpbmcgaXRzIGxlbmd0aCBieSBvbmUuXG4gICAqIElmIHRoZXJlIHdlcmUgYW55IGVudHJpZXMgaW4gdGhlIHN0YWNrIGFmdGVyIHRoZSBjdXJyZW50IG9uZSwgdGhleSBhcmVcbiAgICogbG9zdC5cbiAgICpcbiAgICogQHBhcmFtIHRvIC0gVGhlIG5ldyBVUkxcbiAgICogQHBhcmFtIHN0YXRlIC0gRGF0YSB0byBhc3NvY2lhdGUgd2l0aCB0aGUgbmV3IGxvY2F0aW9uXG4gICAqL1xuICBwdXNoKHRvOiBUbywgc3RhdGU/OiBhbnkpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgY3VycmVudCBsb2NhdGlvbiBpbiB0aGUgaGlzdG9yeSBzdGFjayB3aXRoIGEgbmV3IG9uZS4gIFRoZVxuICAgKiBsb2NhdGlvbiB0aGF0IHdhcyByZXBsYWNlZCB3aWxsIG5vIGxvbmdlciBiZSBhdmFpbGFibGUuXG4gICAqXG4gICAqIEBwYXJhbSB0byAtIFRoZSBuZXcgVVJMXG4gICAqIEBwYXJhbSBzdGF0ZSAtIERhdGEgdG8gYXNzb2NpYXRlIHdpdGggdGhlIG5ldyBsb2NhdGlvblxuICAgKi9cbiAgcmVwbGFjZSh0bzogVG8sIHN0YXRlPzogYW55KTogdm9pZDtcblxuICAvKipcbiAgICogTmF2aWdhdGVzIGBuYCBlbnRyaWVzIGJhY2t3YXJkL2ZvcndhcmQgaW4gdGhlIGhpc3Rvcnkgc3RhY2sgcmVsYXRpdmUgdG8gdGhlXG4gICAqIGN1cnJlbnQgaW5kZXguIEZvciBleGFtcGxlLCBhIFwiYmFja1wiIG5hdmlnYXRpb24gd291bGQgdXNlIGdvKC0xKS5cbiAgICpcbiAgICogQHBhcmFtIGRlbHRhIC0gVGhlIGRlbHRhIGluIHRoZSBzdGFjayBpbmRleFxuICAgKi9cbiAgZ28oZGVsdGE6IG51bWJlcik6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAqIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwYXJhbSBsaXN0ZW5lciAtIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBsb2NhdGlvbiBjaGFuZ2VzXG4gICAqIEByZXR1cm5zIHVubGlzdGVuIC0gQSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIHN0b3AgbGlzdGVuaW5nXG4gICAqL1xuICBsaXN0ZW4obGlzdGVuZXI6IExpc3RlbmVyKTogKCkgPT4gdm9pZDtcbn1cblxudHlwZSBIaXN0b3J5U3RhdGUgPSB7XG4gIHVzcjogYW55O1xuICBrZXk/OiBzdHJpbmc7XG4gIGlkeDogbnVtYmVyO1xufTtcblxuY29uc3QgUG9wU3RhdGVFdmVudFR5cGUgPSBcInBvcHN0YXRlXCI7XG4vLyNlbmRyZWdpb25cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vI3JlZ2lvbiBNZW1vcnkgSGlzdG9yeVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBBIHVzZXItc3VwcGxpZWQgb2JqZWN0IHRoYXQgZGVzY3JpYmVzIGEgbG9jYXRpb24uIFVzZWQgd2hlbiBwcm92aWRpbmdcbiAqIGVudHJpZXMgdG8gYGNyZWF0ZU1lbW9yeUhpc3RvcnlgIHZpYSBpdHMgYGluaXRpYWxFbnRyaWVzYCBvcHRpb24uXG4gKi9cbmV4cG9ydCB0eXBlIEluaXRpYWxFbnRyeSA9IHN0cmluZyB8IFBhcnRpYWw8TG9jYXRpb24+O1xuXG5leHBvcnQgdHlwZSBNZW1vcnlIaXN0b3J5T3B0aW9ucyA9IHtcbiAgaW5pdGlhbEVudHJpZXM/OiBJbml0aWFsRW50cnlbXTtcbiAgaW5pdGlhbEluZGV4PzogbnVtYmVyO1xuICB2NUNvbXBhdD86IGJvb2xlYW47XG59O1xuXG4vKipcbiAqIEEgbWVtb3J5IGhpc3Rvcnkgc3RvcmVzIGxvY2F0aW9ucyBpbiBtZW1vcnkuIFRoaXMgaXMgdXNlZnVsIGluIHN0YXRlZnVsXG4gKiBlbnZpcm9ubWVudHMgd2hlcmUgdGhlcmUgaXMgbm8gd2ViIGJyb3dzZXIsIHN1Y2ggYXMgbm9kZSB0ZXN0cyBvciBSZWFjdFxuICogTmF0aXZlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lbW9yeUhpc3RvcnkgZXh0ZW5kcyBIaXN0b3J5IHtcbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IGluZGV4IGluIHRoZSBoaXN0b3J5IHN0YWNrLlxuICAgKi9cbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBNZW1vcnkgaGlzdG9yeSBzdG9yZXMgdGhlIGN1cnJlbnQgbG9jYXRpb24gaW4gbWVtb3J5LiBJdCBpcyBkZXNpZ25lZCBmb3IgdXNlXG4gKiBpbiBzdGF0ZWZ1bCBub24tYnJvd3NlciBlbnZpcm9ubWVudHMgbGlrZSB0ZXN0cyBhbmQgUmVhY3QgTmF0aXZlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeShcbiAgb3B0aW9uczogTWVtb3J5SGlzdG9yeU9wdGlvbnMgPSB7fVxuKTogTWVtb3J5SGlzdG9yeSB7XG4gIGxldCB7IGluaXRpYWxFbnRyaWVzID0gW1wiL1wiXSwgaW5pdGlhbEluZGV4LCB2NUNvbXBhdCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBsZXQgZW50cmllczogTG9jYXRpb25bXTsgLy8gRGVjbGFyZSBzbyB3ZSBjYW4gYWNjZXNzIGZyb20gY3JlYXRlTWVtb3J5TG9jYXRpb25cbiAgZW50cmllcyA9IGluaXRpYWxFbnRyaWVzLm1hcCgoZW50cnksIGluZGV4KSA9PlxuICAgIGNyZWF0ZU1lbW9yeUxvY2F0aW9uKFxuICAgICAgZW50cnksXG4gICAgICB0eXBlb2YgZW50cnkgPT09IFwic3RyaW5nXCIgPyBudWxsIDogZW50cnkuc3RhdGUsXG4gICAgICBpbmRleCA9PT0gMCA/IFwiZGVmYXVsdFwiIDogdW5kZWZpbmVkXG4gICAgKVxuICApO1xuICBsZXQgaW5kZXggPSBjbGFtcEluZGV4KFxuICAgIGluaXRpYWxJbmRleCA9PSBudWxsID8gZW50cmllcy5sZW5ndGggLSAxIDogaW5pdGlhbEluZGV4XG4gICk7XG4gIGxldCBhY3Rpb24gPSBBY3Rpb24uUG9wO1xuICBsZXQgbGlzdGVuZXI6IExpc3RlbmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gY2xhbXBJbmRleChuOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChuLCAwKSwgZW50cmllcy5sZW5ndGggLSAxKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oKTogTG9jYXRpb24ge1xuICAgIHJldHVybiBlbnRyaWVzW2luZGV4XTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVNZW1vcnlMb2NhdGlvbihcbiAgICB0bzogVG8sXG4gICAgc3RhdGU6IGFueSA9IG51bGwsXG4gICAga2V5Pzogc3RyaW5nXG4gICk6IExvY2F0aW9uIHtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihcbiAgICAgIGVudHJpZXMgPyBnZXRDdXJyZW50TG9jYXRpb24oKS5wYXRobmFtZSA6IFwiL1wiLFxuICAgICAgdG8sXG4gICAgICBzdGF0ZSxcbiAgICAgIGtleVxuICAgICk7XG4gICAgd2FybmluZyhcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gXCIvXCIsXG4gICAgICBgcmVsYXRpdmUgcGF0aG5hbWVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIG1lbW9yeSBoaXN0b3J5OiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICB0b1xuICAgICAgKX1gXG4gICAgKTtcbiAgICByZXR1cm4gbG9jYXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKHRvOiBUbykge1xuICAgIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICB9XG5cbiAgbGV0IGhpc3Rvcnk6IE1lbW9yeUhpc3RvcnkgPSB7XG4gICAgZ2V0IGluZGV4KCkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0sXG4gICAgZ2V0IGFjdGlvbigpIHtcbiAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfSxcbiAgICBnZXQgbG9jYXRpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0Q3VycmVudExvY2F0aW9uKCk7XG4gICAgfSxcbiAgICBjcmVhdGVIcmVmLFxuICAgIGNyZWF0ZVVSTCh0bykge1xuICAgICAgcmV0dXJuIG5ldyBVUkwoY3JlYXRlSHJlZih0byksIFwiaHR0cDovL2xvY2FsaG9zdFwiKTtcbiAgICB9LFxuICAgIGVuY29kZUxvY2F0aW9uKHRvOiBUbykge1xuICAgICAgbGV0IHBhdGggPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgodG8pIDogdG87XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRobmFtZTogcGF0aC5wYXRobmFtZSB8fCBcIlwiLFxuICAgICAgICBzZWFyY2g6IHBhdGguc2VhcmNoIHx8IFwiXCIsXG4gICAgICAgIGhhc2g6IHBhdGguaGFzaCB8fCBcIlwiLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHB1c2godG8sIHN0YXRlKSB7XG4gICAgICBhY3Rpb24gPSBBY3Rpb24uUHVzaDtcbiAgICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVNZW1vcnlMb2NhdGlvbih0bywgc3RhdGUpO1xuICAgICAgaW5kZXggKz0gMTtcbiAgICAgIGVudHJpZXMuc3BsaWNlKGluZGV4LCBlbnRyaWVzLmxlbmd0aCwgbmV4dExvY2F0aW9uKTtcbiAgICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IG5leHRMb2NhdGlvbiwgZGVsdGE6IDEgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXBsYWNlKHRvLCBzdGF0ZSkge1xuICAgICAgYWN0aW9uID0gQWN0aW9uLlJlcGxhY2U7XG4gICAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTWVtb3J5TG9jYXRpb24odG8sIHN0YXRlKTtcbiAgICAgIGVudHJpZXNbaW5kZXhdID0gbmV4dExvY2F0aW9uO1xuICAgICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogbmV4dExvY2F0aW9uLCBkZWx0YTogMCB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdvKGRlbHRhKSB7XG4gICAgICBhY3Rpb24gPSBBY3Rpb24uUG9wO1xuICAgICAgbGV0IG5leHRJbmRleCA9IGNsYW1wSW5kZXgoaW5kZXggKyBkZWx0YSk7XG4gICAgICBsZXQgbmV4dExvY2F0aW9uID0gZW50cmllc1tuZXh0SW5kZXhdO1xuICAgICAgaW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sIGRlbHRhIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGlzdGVuKGZuOiBMaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIgPSBmbjtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH07XG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn1cbi8vI2VuZHJlZ2lvblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8jcmVnaW9uIEJyb3dzZXIgSGlzdG9yeVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBBIGJyb3dzZXIgaGlzdG9yeSBzdG9yZXMgdGhlIGN1cnJlbnQgbG9jYXRpb24gaW4gcmVndWxhciBVUkxzIGluIGEgd2ViXG4gKiBicm93c2VyIGVudmlyb25tZW50LiBUaGlzIGlzIHRoZSBzdGFuZGFyZCBmb3IgbW9zdCB3ZWIgYXBwcyBhbmQgcHJvdmlkZXMgdGhlXG4gKiBjbGVhbmVzdCBVUkxzIHRoZSBicm93c2VyJ3MgYWRkcmVzcyBiYXIuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL2hpc3RvcnkvdHJlZS9tYWluL2RvY3MvYXBpLXJlZmVyZW5jZS5tZCNicm93c2VyaGlzdG9yeVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyb3dzZXJIaXN0b3J5IGV4dGVuZHMgVXJsSGlzdG9yeSB7fVxuXG5leHBvcnQgdHlwZSBCcm93c2VySGlzdG9yeU9wdGlvbnMgPSBVcmxIaXN0b3J5T3B0aW9ucztcblxuLyoqXG4gKiBCcm93c2VyIGhpc3Rvcnkgc3RvcmVzIHRoZSBsb2NhdGlvbiBpbiByZWd1bGFyIFVSTHMuIFRoaXMgaXMgdGhlIHN0YW5kYXJkIGZvclxuICogbW9zdCB3ZWIgYXBwcywgYnV0IGl0IHJlcXVpcmVzIHNvbWUgY29uZmlndXJhdGlvbiBvbiB0aGUgc2VydmVyIHRvIGVuc3VyZSB5b3VcbiAqIHNlcnZlIHRoZSBzYW1lIGFwcCBhdCBtdWx0aXBsZSBVUkxzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9oaXN0b3J5L3RyZWUvbWFpbi9kb2NzL2FwaS1yZWZlcmVuY2UubWQjY3JlYXRlYnJvd3Nlcmhpc3RvcnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KFxuICBvcHRpb25zOiBCcm93c2VySGlzdG9yeU9wdGlvbnMgPSB7fVxuKTogQnJvd3Nlckhpc3Rvcnkge1xuICBmdW5jdGlvbiBjcmVhdGVCcm93c2VyTG9jYXRpb24oXG4gICAgd2luZG93OiBXaW5kb3csXG4gICAgZ2xvYmFsSGlzdG9yeTogV2luZG93W1wiaGlzdG9yeVwiXVxuICApIHtcbiAgICBsZXQgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0gPSB3aW5kb3cubG9jYXRpb247XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKFxuICAgICAgXCJcIixcbiAgICAgIHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9LFxuICAgICAgLy8gc3RhdGUgZGVmYXVsdHMgdG8gYG51bGxgIGJlY2F1c2UgYHdpbmRvdy5oaXN0b3J5LnN0YXRlYCBkb2VzXG4gICAgICAoZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLnVzcikgfHwgbnVsbCxcbiAgICAgIChnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUua2V5KSB8fCBcImRlZmF1bHRcIlxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVCcm93c2VySHJlZih3aW5kb3c6IFdpbmRvdywgdG86IFRvKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gIH1cblxuICByZXR1cm4gZ2V0VXJsQmFzZWRIaXN0b3J5KFxuICAgIGNyZWF0ZUJyb3dzZXJMb2NhdGlvbixcbiAgICBjcmVhdGVCcm93c2VySHJlZixcbiAgICBudWxsLFxuICAgIG9wdGlvbnNcbiAgKTtcbn1cbi8vI2VuZHJlZ2lvblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8jcmVnaW9uIEhhc2ggSGlzdG9yeVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBBIGhhc2ggaGlzdG9yeSBzdG9yZXMgdGhlIGN1cnJlbnQgbG9jYXRpb24gaW4gdGhlIGZyYWdtZW50IGlkZW50aWZpZXIgcG9ydGlvblxuICogb2YgdGhlIFVSTCBpbiBhIHdlYiBicm93c2VyIGVudmlyb25tZW50LlxuICpcbiAqIFRoaXMgaXMgaWRlYWwgZm9yIGFwcHMgdGhhdCBkbyBub3QgY29udHJvbCB0aGUgc2VydmVyIGZvciBzb21lIHJlYXNvblxuICogKGJlY2F1c2UgdGhlIGZyYWdtZW50IGlkZW50aWZpZXIgaXMgbmV2ZXIgc2VudCB0byB0aGUgc2VydmVyKSwgaW5jbHVkaW5nIHNvbWVcbiAqIHNoYXJlZCBob3N0aW5nIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBwcm92aWRlIGZpbmUtZ3JhaW5lZCBjb250cm9scyBvdmVyXG4gKiB3aGljaCBwYWdlcyBhcmUgc2VydmVkIGF0IHdoaWNoIFVSTHMuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL2hpc3RvcnkvdHJlZS9tYWluL2RvY3MvYXBpLXJlZmVyZW5jZS5tZCNoYXNoaGlzdG9yeVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhhc2hIaXN0b3J5IGV4dGVuZHMgVXJsSGlzdG9yeSB7fVxuXG5leHBvcnQgdHlwZSBIYXNoSGlzdG9yeU9wdGlvbnMgPSBVcmxIaXN0b3J5T3B0aW9ucztcblxuLyoqXG4gKiBIYXNoIGhpc3Rvcnkgc3RvcmVzIHRoZSBsb2NhdGlvbiBpbiB3aW5kb3cubG9jYXRpb24uaGFzaC4gVGhpcyBtYWtlcyBpdCBpZGVhbFxuICogZm9yIHNpdHVhdGlvbnMgd2hlcmUgeW91IGRvbid0IHdhbnQgdG8gc2VuZCB0aGUgbG9jYXRpb24gdG8gdGhlIHNlcnZlciBmb3JcbiAqIHNvbWUgcmVhc29uLCBlaXRoZXIgYmVjYXVzZSB5b3UgZG8gY2Fubm90IGNvbmZpZ3VyZSBpdCBvciB0aGUgVVJMIHNwYWNlIGlzXG4gKiByZXNlcnZlZCBmb3Igc29tZXRoaW5nIGVsc2UuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL2hpc3RvcnkvdHJlZS9tYWluL2RvY3MvYXBpLXJlZmVyZW5jZS5tZCNjcmVhdGVoYXNoaGlzdG9yeVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3RvcnkoXG4gIG9wdGlvbnM6IEhhc2hIaXN0b3J5T3B0aW9ucyA9IHt9XG4pOiBIYXNoSGlzdG9yeSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZUhhc2hMb2NhdGlvbihcbiAgICB3aW5kb3c6IFdpbmRvdyxcbiAgICBnbG9iYWxIaXN0b3J5OiBXaW5kb3dbXCJoaXN0b3J5XCJdXG4gICkge1xuICAgIGxldCB7XG4gICAgICBwYXRobmFtZSA9IFwiL1wiLFxuICAgICAgc2VhcmNoID0gXCJcIixcbiAgICAgIGhhc2ggPSBcIlwiLFxuICAgIH0gPSBwYXJzZVBhdGgod2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpKTtcblxuICAgIC8vIEhhc2ggVVJMIHNob3VsZCBhbHdheXMgaGF2ZSBhIGxlYWRpbmcgLyBqdXN0IGxpa2Ugd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgLy8gZG9lcywgc28gaWYgYW4gYXBwIGVuZHMgdXAgYXQgYSByb3V0ZSBsaWtlIC8jc29tZXRoaW5nIHRoZW4gd2UgYWRkIGFcbiAgICAvLyBsZWFkaW5nIHNsYXNoIHNvIGFsbCBvZiBvdXIgcGF0aC1tYXRjaGluZyBiZWhhdmVzIHRoZSBzYW1lIGFzIGlmIGl0IHdvdWxkXG4gICAgLy8gaW4gYSBicm93c2VyIHJvdXRlci4gIFRoaXMgaXMgcGFydGljdWxhcmx5IGltcG9ydGFudCB3aGVuIHRoZXJlIGV4aXN0cyBhXG4gICAgLy8gcm9vdCBzcGxhdCByb3V0ZSAoPFJvdXRlIHBhdGg9XCIqXCI+KSBzaW5jZSB0aGF0IG1hdGNoZXMgaW50ZXJuYWxseSBhZ2FpbnN0XG4gICAgLy8gXCIvKlwiIGFuZCB3ZSdkIGV4cGVjdCAvI3NvbWV0aGluZyB0byA0MDQgaW4gYSBoYXNoIHJvdXRlciBhcHAuXG4gICAgaWYgKCFwYXRobmFtZS5zdGFydHNXaXRoKFwiL1wiKSAmJiAhcGF0aG5hbWUuc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgIHBhdGhuYW1lID0gXCIvXCIgKyBwYXRobmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24oXG4gICAgICBcIlwiLFxuICAgICAgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0sXG4gICAgICAvLyBzdGF0ZSBkZWZhdWx0cyB0byBgbnVsbGAgYmVjYXVzZSBgd2luZG93Lmhpc3Rvcnkuc3RhdGVgIGRvZXNcbiAgICAgIChnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUudXNyKSB8fCBudWxsLFxuICAgICAgKGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS5rZXkpIHx8IFwiZGVmYXVsdFwiXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUhhc2hIcmVmKHdpbmRvdzogV2luZG93LCB0bzogVG8pIHtcbiAgICBsZXQgYmFzZSA9IHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYmFzZVwiKTtcbiAgICBsZXQgaHJlZiA9IFwiXCI7XG5cbiAgICBpZiAoYmFzZSAmJiBiYXNlLmdldEF0dHJpYnV0ZShcImhyZWZcIikpIHtcbiAgICAgIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgIGxldCBoYXNoSW5kZXggPSB1cmwuaW5kZXhPZihcIiNcIik7XG4gICAgICBocmVmID0gaGFzaEluZGV4ID09PSAtMSA/IHVybCA6IHVybC5zbGljZSgwLCBoYXNoSW5kZXgpO1xuICAgIH1cblxuICAgIHJldHVybiBocmVmICsgXCIjXCIgKyAodHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKSk7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZUhhc2hMb2NhdGlvbihsb2NhdGlvbjogTG9jYXRpb24sIHRvOiBUbykge1xuICAgIHdhcm5pbmcoXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgPT09IFwiL1wiLFxuICAgICAgYHJlbGF0aXZlIHBhdGhuYW1lcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBoYXNoIGhpc3RvcnkucHVzaCgke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICB0b1xuICAgICAgKX0pYFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gZ2V0VXJsQmFzZWRIaXN0b3J5KFxuICAgIGNyZWF0ZUhhc2hMb2NhdGlvbixcbiAgICBjcmVhdGVIYXNoSHJlZixcbiAgICB2YWxpZGF0ZUhhc2hMb2NhdGlvbixcbiAgICBvcHRpb25zXG4gICk7XG59XG4vLyNlbmRyZWdpb25cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vI3JlZ2lvbiBVVElMU1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW52YXJpYW50KHZhbHVlOiBib29sZWFuLCBtZXNzYWdlPzogc3RyaW5nKTogYXNzZXJ0cyB2YWx1ZTtcbmV4cG9ydCBmdW5jdGlvbiBpbnZhcmlhbnQ8VD4oXG4gIHZhbHVlOiBUIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgbWVzc2FnZT86IHN0cmluZ1xuKTogYXNzZXJ0cyB2YWx1ZSBpcyBUO1xuZXhwb3J0IGZ1bmN0aW9uIGludmFyaWFudCh2YWx1ZTogYW55LCBtZXNzYWdlPzogc3RyaW5nKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuaW5nKGNvbmQ6IGFueSwgbWVzc2FnZTogc3RyaW5nKSB7XG4gIGlmICghY29uZCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSBjb25zb2xlLndhcm4obWVzc2FnZSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gV2VsY29tZSB0byBkZWJ1Z2dpbmcgaGlzdG9yeSFcbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGVycm9yIGlzIHRocm93biBhcyBhIGNvbnZlbmllbmNlLCBzbyB5b3UgY2FuIG1vcmUgZWFzaWx5XG4gICAgICAvLyBmaW5kIHRoZSBzb3VyY2UgZm9yIGEgd2FybmluZyB0aGF0IGFwcGVhcnMgaW4gdGhlIGNvbnNvbGUgYnlcbiAgICAgIC8vIGVuYWJsaW5nIFwicGF1c2Ugb24gZXhjZXB0aW9uc1wiIGluIHlvdXIgSmF2YVNjcmlwdCBkZWJ1Z2dlci5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDgpO1xufVxuXG4vKipcbiAqIEZvciBicm93c2VyLWJhc2VkIGhpc3Rvcmllcywgd2UgY29tYmluZSB0aGUgc3RhdGUgYW5kIGtleSBpbnRvIGFuIG9iamVjdFxuICovXG5mdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUobG9jYXRpb246IExvY2F0aW9uLCBpbmRleDogbnVtYmVyKTogSGlzdG9yeVN0YXRlIHtcbiAgcmV0dXJuIHtcbiAgICB1c3I6IGxvY2F0aW9uLnN0YXRlLFxuICAgIGtleTogbG9jYXRpb24ua2V5LFxuICAgIGlkeDogaW5kZXgsXG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIExvY2F0aW9uIG9iamVjdCB3aXRoIGEgdW5pcXVlIGtleSBmcm9tIHRoZSBnaXZlbiBQYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihcbiAgY3VycmVudDogc3RyaW5nIHwgTG9jYXRpb24sXG4gIHRvOiBUbyxcbiAgc3RhdGU6IGFueSA9IG51bGwsXG4gIGtleT86IHN0cmluZ1xuKTogUmVhZG9ubHk8TG9jYXRpb24+IHtcbiAgbGV0IGxvY2F0aW9uOiBSZWFkb25seTxMb2NhdGlvbj4gPSB7XG4gICAgcGF0aG5hbWU6IHR5cGVvZiBjdXJyZW50ID09PSBcInN0cmluZ1wiID8gY3VycmVudCA6IGN1cnJlbnQucGF0aG5hbWUsXG4gICAgc2VhcmNoOiBcIlwiLFxuICAgIGhhc2g6IFwiXCIsXG4gICAgLi4uKHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aCh0bykgOiB0byksXG4gICAgc3RhdGUsXG4gICAgLy8gVE9ETzogVGhpcyBjb3VsZCBiZSBjbGVhbmVkIHVwLiAgcHVzaC9yZXBsYWNlIHNob3VsZCBwcm9iYWJseSBqdXN0IHRha2VcbiAgICAvLyBmdWxsIExvY2F0aW9ucyBub3cgYW5kIGF2b2lkIHRoZSBuZWVkIHRvIHJ1biB0aHJvdWdoIHRoaXMgZmxvdyBhdCBhbGxcbiAgICAvLyBCdXQgdGhhdCdzIGEgcHJldHR5IGJpZyByZWZhY3RvciB0byB0aGUgY3VycmVudCB0ZXN0IHN1aXRlIHNvIGdvaW5nIHRvXG4gICAgLy8ga2VlcCBhcyBpcyBmb3IgdGhlIHRpbWUgYmVpbmcgYW5kIGp1c3QgbGV0IGFueSBpbmNvbWluZyBrZXlzIHRha2UgcHJlY2VkZW5jZVxuICAgIGtleTogKHRvICYmICh0byBhcyBMb2NhdGlvbikua2V5KSB8fCBrZXkgfHwgY3JlYXRlS2V5KCksXG4gIH07XG4gIHJldHVybiBsb2NhdGlvbjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RyaW5nIFVSTCBwYXRoIGZyb20gdGhlIGdpdmVuIHBhdGhuYW1lLCBzZWFyY2gsIGFuZCBoYXNoIGNvbXBvbmVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXRoKHtcbiAgcGF0aG5hbWUgPSBcIi9cIixcbiAgc2VhcmNoID0gXCJcIixcbiAgaGFzaCA9IFwiXCIsXG59OiBQYXJ0aWFsPFBhdGg+KSB7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSBcIj9cIilcbiAgICBwYXRobmFtZSArPSBzZWFyY2guY2hhckF0KDApID09PSBcIj9cIiA/IHNlYXJjaCA6IFwiP1wiICsgc2VhcmNoO1xuICBpZiAoaGFzaCAmJiBoYXNoICE9PSBcIiNcIilcbiAgICBwYXRobmFtZSArPSBoYXNoLmNoYXJBdCgwKSA9PT0gXCIjXCIgPyBoYXNoIDogXCIjXCIgKyBoYXNoO1xuICByZXR1cm4gcGF0aG5hbWU7XG59XG5cbi8qKlxuICogUGFyc2VzIGEgc3RyaW5nIFVSTCBwYXRoIGludG8gaXRzIHNlcGFyYXRlIHBhdGhuYW1lLCBzZWFyY2gsIGFuZCBoYXNoIGNvbXBvbmVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBhdGgocGF0aDogc3RyaW5nKTogUGFydGlhbDxQYXRoPiB7XG4gIGxldCBwYXJzZWRQYXRoOiBQYXJ0aWFsPFBhdGg+ID0ge307XG5cbiAgaWYgKHBhdGgpIHtcbiAgICBsZXQgaGFzaEluZGV4ID0gcGF0aC5pbmRleE9mKFwiI1wiKTtcbiAgICBpZiAoaGFzaEluZGV4ID49IDApIHtcbiAgICAgIHBhcnNlZFBhdGguaGFzaCA9IHBhdGguc3Vic3RyKGhhc2hJbmRleCk7XG4gICAgICBwYXRoID0gcGF0aC5zdWJzdHIoMCwgaGFzaEluZGV4KTtcbiAgICB9XG5cbiAgICBsZXQgc2VhcmNoSW5kZXggPSBwYXRoLmluZGV4T2YoXCI/XCIpO1xuICAgIGlmIChzZWFyY2hJbmRleCA+PSAwKSB7XG4gICAgICBwYXJzZWRQYXRoLnNlYXJjaCA9IHBhdGguc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICAgIHBhdGggPSBwYXRoLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gICAgfVxuXG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIHBhcnNlZFBhdGgucGF0aG5hbWUgPSBwYXRoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJzZWRQYXRoO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVybEhpc3RvcnkgZXh0ZW5kcyBIaXN0b3J5IHt9XG5cbmV4cG9ydCB0eXBlIFVybEhpc3RvcnlPcHRpb25zID0ge1xuICB3aW5kb3c/OiBXaW5kb3c7XG4gIHY1Q29tcGF0PzogYm9vbGVhbjtcbn07XG5cbmZ1bmN0aW9uIGdldFVybEJhc2VkSGlzdG9yeShcbiAgZ2V0TG9jYXRpb246ICh3aW5kb3c6IFdpbmRvdywgZ2xvYmFsSGlzdG9yeTogV2luZG93W1wiaGlzdG9yeVwiXSkgPT4gTG9jYXRpb24sXG4gIGNyZWF0ZUhyZWY6ICh3aW5kb3c6IFdpbmRvdywgdG86IFRvKSA9PiBzdHJpbmcsXG4gIHZhbGlkYXRlTG9jYXRpb246ICgobG9jYXRpb246IExvY2F0aW9uLCB0bzogVG8pID0+IHZvaWQpIHwgbnVsbCxcbiAgb3B0aW9uczogVXJsSGlzdG9yeU9wdGlvbnMgPSB7fVxuKTogVXJsSGlzdG9yeSB7XG4gIGxldCB7IHdpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3ISwgdjVDb21wYXQgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgbGV0IGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgbGV0IGFjdGlvbiA9IEFjdGlvbi5Qb3A7XG4gIGxldCBsaXN0ZW5lcjogTGlzdGVuZXIgfCBudWxsID0gbnVsbDtcblxuICBsZXQgaW5kZXggPSBnZXRJbmRleCgpITtcbiAgLy8gSW5kZXggc2hvdWxkIG9ubHkgYmUgbnVsbCB3aGVuIHdlIGluaXRpYWxpemUuIElmIG5vdCwgaXQncyBiZWNhdXNlIHRoZVxuICAvLyB1c2VyIGNhbGxlZCBoaXN0b3J5LnB1c2hTdGF0ZSBvciBoaXN0b3J5LnJlcGxhY2VTdGF0ZSBkaXJlY3RseSwgaW4gd2hpY2hcbiAgLy8gY2FzZSB3ZSBzaG91bGQgbG9nIGEgd2FybmluZyBhcyBpdCB3aWxsIHJlc3VsdCBpbiBidWdzLlxuICBpZiAoaW5kZXggPT0gbnVsbCkge1xuICAgIGluZGV4ID0gMDtcbiAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IC4uLmdsb2JhbEhpc3Rvcnkuc3RhdGUsIGlkeDogaW5kZXggfSwgXCJcIik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbmRleCgpOiBudW1iZXIge1xuICAgIGxldCBzdGF0ZSA9IGdsb2JhbEhpc3Rvcnkuc3RhdGUgfHwgeyBpZHg6IG51bGwgfTtcbiAgICByZXR1cm4gc3RhdGUuaWR4O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9wKCkge1xuICAgIGFjdGlvbiA9IEFjdGlvbi5Qb3A7XG4gICAgbGV0IG5leHRJbmRleCA9IGdldEluZGV4KCk7XG4gICAgbGV0IGRlbHRhID0gbmV4dEluZGV4ID09IG51bGwgPyBudWxsIDogbmV4dEluZGV4IC0gaW5kZXg7XG4gICAgaW5kZXggPSBuZXh0SW5kZXg7XG4gICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sIGRlbHRhIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2godG86IFRvLCBzdGF0ZT86IGFueSkge1xuICAgIGFjdGlvbiA9IEFjdGlvbi5QdXNoO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKGhpc3RvcnkubG9jYXRpb24sIHRvLCBzdGF0ZSk7XG4gICAgaWYgKHZhbGlkYXRlTG9jYXRpb24pIHZhbGlkYXRlTG9jYXRpb24obG9jYXRpb24sIHRvKTtcblxuICAgIGluZGV4ID0gZ2V0SW5kZXgoKSArIDE7XG4gICAgbGV0IGhpc3RvcnlTdGF0ZSA9IGdldEhpc3RvcnlTdGF0ZShsb2NhdGlvbiwgaW5kZXgpO1xuICAgIGxldCB1cmwgPSBoaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb24pO1xuXG4gICAgLy8gdHJ5Li4uY2F0Y2ggYmVjYXVzZSBpT1MgbGltaXRzIHVzIHRvIDEwMCBwdXNoU3RhdGUgY2FsbHMgOi9cbiAgICB0cnkge1xuICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoaGlzdG9yeVN0YXRlLCBcIlwiLCB1cmwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZiB0aGUgZXhjZXB0aW9uIGlzIGJlY2F1c2UgYHN0YXRlYCBjYW4ndCBiZSBzZXJpYWxpemVkLCBsZXQgdGhhdCB0aHJvd1xuICAgICAgLy8gb3V0d2FyZHMganVzdCBsaWtlIGEgcmVwbGFjZSBjYWxsIHdvdWxkIHNvIHRoZSBkZXYga25vd3MgdGhlIGNhdXNlXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9uYXYtaGlzdG9yeS1hcGlzLmh0bWwjc2hhcmVkLWhpc3RvcnktcHVzaC9yZXBsYWNlLXN0YXRlLXN0ZXBzXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zdHJ1Y3R1cmVkLWRhdGEuaHRtbCNzdHJ1Y3R1cmVkc2VyaWFsaXplaW50ZXJuYWxcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiBlcnJvci5uYW1lID09PSBcIkRhdGFDbG9uZUVycm9yXCIpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICAvLyBUaGV5IGFyZSBnb2luZyB0byBsb3NlIHN0YXRlIGhlcmUsIGJ1dCB0aGVyZSBpcyBubyByZWFsXG4gICAgICAvLyB3YXkgdG8gd2FybiB0aGVtIGFib3V0IGl0IHNpbmNlIHRoZSBwYWdlIHdpbGwgcmVmcmVzaC4uLlxuICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgIH1cblxuICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLCBkZWx0YTogMSB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlKHRvOiBUbywgc3RhdGU/OiBhbnkpIHtcbiAgICBhY3Rpb24gPSBBY3Rpb24uUmVwbGFjZTtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihoaXN0b3J5LmxvY2F0aW9uLCB0bywgc3RhdGUpO1xuICAgIGlmICh2YWxpZGF0ZUxvY2F0aW9uKSB2YWxpZGF0ZUxvY2F0aW9uKGxvY2F0aW9uLCB0byk7XG5cbiAgICBpbmRleCA9IGdldEluZGV4KCk7XG4gICAgbGV0IGhpc3RvcnlTdGF0ZSA9IGdldEhpc3RvcnlTdGF0ZShsb2NhdGlvbiwgaW5kZXgpO1xuICAgIGxldCB1cmwgPSBoaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKGhpc3RvcnlTdGF0ZSwgXCJcIiwgdXJsKTtcblxuICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLCBkZWx0YTogMCB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVVUkwodG86IFRvKTogVVJMIHtcbiAgICAvLyB3aW5kb3cubG9jYXRpb24ub3JpZ2luIGlzIFwibnVsbFwiICh0aGUgbGl0ZXJhbCBzdHJpbmcgdmFsdWUpIGluIEZpcmVmb3hcbiAgICAvLyB1bmRlciBjZXJ0YWluIGNvbmRpdGlvbnMsIG5vdGFibHkgd2hlbiBzZXJ2aW5nIGZyb20gYSBsb2NhbCBIVE1MIGZpbGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODc4Mjk3XG4gICAgbGV0IGJhc2UgPVxuICAgICAgd2luZG93LmxvY2F0aW9uLm9yaWdpbiAhPT0gXCJudWxsXCJcbiAgICAgICAgPyB3aW5kb3cubG9jYXRpb24ub3JpZ2luXG4gICAgICAgIDogd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cbiAgICBsZXQgaHJlZiA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gICAgLy8gVHJlYXRpbmcgdGhpcyBhcyBhIGZ1bGwgVVJMIHdpbGwgc3RyaXAgYW55IHRyYWlsaW5nIHNwYWNlcyBzbyB3ZSBuZWVkIHRvXG4gICAgLy8gcHJlLWVuY29kZSB0aGVtIHNpbmNlIHRoZXkgbWlnaHQgYmUgcGFydCBvZiBhIG1hdGNoaW5nIHNwbGF0IHBhcmFtIGZyb21cbiAgICAvLyBhbiBhbmNlc3RvciByb3V0ZVxuICAgIGhyZWYgPSBocmVmLnJlcGxhY2UoLyAkLywgXCIlMjBcIik7XG4gICAgaW52YXJpYW50KFxuICAgICAgYmFzZSxcbiAgICAgIGBObyB3aW5kb3cubG9jYXRpb24uKG9yaWdpbnxocmVmKSBhdmFpbGFibGUgdG8gY3JlYXRlIFVSTCBmb3IgaHJlZjogJHtocmVmfWBcbiAgICApO1xuICAgIHJldHVybiBuZXcgVVJMKGhyZWYsIGJhc2UpO1xuICB9XG5cbiAgbGV0IGhpc3Rvcnk6IEhpc3RvcnkgPSB7XG4gICAgZ2V0IGFjdGlvbigpIHtcbiAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfSxcbiAgICBnZXQgbG9jYXRpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0TG9jYXRpb24od2luZG93LCBnbG9iYWxIaXN0b3J5KTtcbiAgICB9LFxuICAgIGxpc3RlbihmbjogTGlzdGVuZXIpIHtcbiAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGhpc3Rvcnkgb25seSBhY2NlcHRzIG9uZSBhY3RpdmUgbGlzdGVuZXJcIik7XG4gICAgICB9XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50VHlwZSwgaGFuZGxlUG9wKTtcbiAgICAgIGxpc3RlbmVyID0gZm47XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnRUeXBlLCBoYW5kbGVQb3ApO1xuICAgICAgICBsaXN0ZW5lciA9IG51bGw7XG4gICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlSHJlZih0bykge1xuICAgICAgcmV0dXJuIGNyZWF0ZUhyZWYod2luZG93LCB0byk7XG4gICAgfSxcbiAgICBjcmVhdGVVUkwsXG4gICAgZW5jb2RlTG9jYXRpb24odG8pIHtcbiAgICAgIC8vIEVuY29kZSBhIExvY2F0aW9uIHRoZSBzYW1lIHdheSB3aW5kb3cubG9jYXRpb24gd291bGRcbiAgICAgIGxldCB1cmwgPSBjcmVhdGVVUkwodG8pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aG5hbWU6IHVybC5wYXRobmFtZSxcbiAgICAgICAgc2VhcmNoOiB1cmwuc2VhcmNoLFxuICAgICAgICBoYXNoOiB1cmwuaGFzaCxcbiAgICAgIH07XG4gICAgfSxcbiAgICBwdXNoLFxuICAgIHJlcGxhY2UsXG4gICAgZ28obikge1xuICAgICAgcmV0dXJuIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn1cblxuLy8jZW5kcmVnaW9uXG4iLCAiaW1wb3J0IHR5cGUgeyBMb2NhdGlvbiwgUGF0aCwgVG8gfSBmcm9tIFwiLi9oaXN0b3J5XCI7XG5pbXBvcnQgeyBpbnZhcmlhbnQsIHBhcnNlUGF0aCwgd2FybmluZyB9IGZyb20gXCIuL2hpc3RvcnlcIjtcblxuLyoqXG4gKiBNYXAgb2Ygcm91dGVJZCAtPiBkYXRhIHJldHVybmVkIGZyb20gYSBsb2FkZXIvYWN0aW9uL2Vycm9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVEYXRhIHtcbiAgW3JvdXRlSWQ6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGVudW0gUmVzdWx0VHlwZSB7XG4gIGRhdGEgPSBcImRhdGFcIixcbiAgZGVmZXJyZWQgPSBcImRlZmVycmVkXCIsXG4gIHJlZGlyZWN0ID0gXCJyZWRpcmVjdFwiLFxuICBlcnJvciA9IFwiZXJyb3JcIixcbn1cblxuLyoqXG4gKiBTdWNjZXNzZnVsIHJlc3VsdCBmcm9tIGEgbG9hZGVyIG9yIGFjdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN1Y2Nlc3NSZXN1bHQge1xuICB0eXBlOiBSZXN1bHRUeXBlLmRhdGE7XG4gIGRhdGE6IHVua25vd247XG4gIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gIGhlYWRlcnM/OiBIZWFkZXJzO1xufVxuXG4vKipcbiAqIFN1Y2Nlc3NmdWwgZGVmZXIoKSByZXN1bHQgZnJvbSBhIGxvYWRlciBvciBhY3Rpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWZlcnJlZFJlc3VsdCB7XG4gIHR5cGU6IFJlc3VsdFR5cGUuZGVmZXJyZWQ7XG4gIGRlZmVycmVkRGF0YTogRGVmZXJyZWREYXRhO1xuICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICBoZWFkZXJzPzogSGVhZGVycztcbn1cblxuLyoqXG4gKiBSZWRpcmVjdCByZXN1bHQgZnJvbSBhIGxvYWRlciBvciBhY3Rpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWRpcmVjdFJlc3VsdCB7XG4gIHR5cGU6IFJlc3VsdFR5cGUucmVkaXJlY3Q7XG4gIC8vIFdlIGtlZXAgdGhlIHJhdyBSZXNwb25zZSBmb3IgcmVkaXJlY3RzIHNvIHdlIGNhbiByZXR1cm4gaXQgdmVyYmF0aW1cbiAgcmVzcG9uc2U6IFJlc3BvbnNlO1xufVxuXG4vKipcbiAqIFVuc3VjY2Vzc2Z1bCByZXN1bHQgZnJvbSBhIGxvYWRlciBvciBhY3Rpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFcnJvclJlc3VsdCB7XG4gIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3I7XG4gIGVycm9yOiB1bmtub3duO1xuICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuICBoZWFkZXJzPzogSGVhZGVycztcbn1cblxuLyoqXG4gKiBSZXN1bHQgZnJvbSBhIGxvYWRlciBvciBhY3Rpb24gLSBwb3RlbnRpYWxseSBzdWNjZXNzZnVsIG9yIHVuc3VjY2Vzc2Z1bFxuICovXG5leHBvcnQgdHlwZSBEYXRhUmVzdWx0ID1cbiAgfCBTdWNjZXNzUmVzdWx0XG4gIHwgRGVmZXJyZWRSZXN1bHRcbiAgfCBSZWRpcmVjdFJlc3VsdFxuICB8IEVycm9yUmVzdWx0O1xuXG50eXBlIExvd2VyQ2FzZUZvcm1NZXRob2QgPSBcImdldFwiIHwgXCJwb3N0XCIgfCBcInB1dFwiIHwgXCJwYXRjaFwiIHwgXCJkZWxldGVcIjtcbnR5cGUgVXBwZXJDYXNlRm9ybU1ldGhvZCA9IFVwcGVyY2FzZTxMb3dlckNhc2VGb3JtTWV0aG9kPjtcblxuLyoqXG4gKiBVc2VycyBjYW4gc3BlY2lmeSBlaXRoZXIgbG93ZXJjYXNlIG9yIHVwcGVyY2FzZSBmb3JtIG1ldGhvZHMgb24gYDxGb3JtPmAsXG4gKiB1c2VTdWJtaXQoKSwgYDxmZXRjaGVyLkZvcm0+YCwgZXRjLlxuICovXG5leHBvcnQgdHlwZSBIVE1MRm9ybU1ldGhvZCA9IExvd2VyQ2FzZUZvcm1NZXRob2QgfCBVcHBlckNhc2VGb3JtTWV0aG9kO1xuXG4vKipcbiAqIEFjdGl2ZSBuYXZpZ2F0aW9uL2ZldGNoZXIgZm9ybSBtZXRob2RzIGFyZSBleHBvc2VkIGluIGxvd2VyY2FzZSBvbiB0aGVcbiAqIFJvdXRlclN0YXRlXG4gKi9cbmV4cG9ydCB0eXBlIEZvcm1NZXRob2QgPSBMb3dlckNhc2VGb3JtTWV0aG9kO1xuZXhwb3J0IHR5cGUgTXV0YXRpb25Gb3JtTWV0aG9kID0gRXhjbHVkZTxGb3JtTWV0aG9kLCBcImdldFwiPjtcblxuLyoqXG4gKiBJbiB2NywgYWN0aXZlIG5hdmlnYXRpb24vZmV0Y2hlciBmb3JtIG1ldGhvZHMgYXJlIGV4cG9zZWQgaW4gdXBwZXJjYXNlIG9uIHRoZVxuICogUm91dGVyU3RhdGUuICBUaGlzIGlzIHRvIGFsaWduIHdpdGggdGhlIG5vcm1hbGl6YXRpb24gZG9uZSB2aWEgZmV0Y2goKS5cbiAqL1xuZXhwb3J0IHR5cGUgVjdfRm9ybU1ldGhvZCA9IFVwcGVyQ2FzZUZvcm1NZXRob2Q7XG5leHBvcnQgdHlwZSBWN19NdXRhdGlvbkZvcm1NZXRob2QgPSBFeGNsdWRlPFY3X0Zvcm1NZXRob2QsIFwiR0VUXCI+O1xuXG5leHBvcnQgdHlwZSBGb3JtRW5jVHlwZSA9XG4gIHwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIlxuICB8IFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiXG4gIHwgXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfCBcInRleHQvcGxhaW5cIjtcblxuLy8gVGhhbmtzIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvdHlwZS1mZXN0IVxudHlwZSBKc29uT2JqZWN0ID0geyBbS2V5IGluIHN0cmluZ106IEpzb25WYWx1ZSB9ICYge1xuICBbS2V5IGluIHN0cmluZ10/OiBKc29uVmFsdWUgfCB1bmRlZmluZWQ7XG59O1xudHlwZSBKc29uQXJyYXkgPSBKc29uVmFsdWVbXSB8IHJlYWRvbmx5IEpzb25WYWx1ZVtdO1xudHlwZSBKc29uUHJpbWl0aXZlID0gc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IG51bGw7XG50eXBlIEpzb25WYWx1ZSA9IEpzb25QcmltaXRpdmUgfCBKc29uT2JqZWN0IHwgSnNvbkFycmF5O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBJbnRlcm5hbCBpbnRlcmZhY2UgdG8gcGFzcyBhcm91bmQgZm9yIGFjdGlvbiBzdWJtaXNzaW9ucywgbm90IGludGVuZGVkIGZvclxuICogZXh0ZXJuYWwgY29uc3VtcHRpb25cbiAqL1xuZXhwb3J0IHR5cGUgU3VibWlzc2lvbiA9XG4gIHwge1xuICAgICAgZm9ybU1ldGhvZDogRm9ybU1ldGhvZCB8IFY3X0Zvcm1NZXRob2Q7XG4gICAgICBmb3JtQWN0aW9uOiBzdHJpbmc7XG4gICAgICBmb3JtRW5jVHlwZTogRm9ybUVuY1R5cGU7XG4gICAgICBmb3JtRGF0YTogRm9ybURhdGE7XG4gICAgICBqc29uOiB1bmRlZmluZWQ7XG4gICAgICB0ZXh0OiB1bmRlZmluZWQ7XG4gICAgfVxuICB8IHtcbiAgICAgIGZvcm1NZXRob2Q6IEZvcm1NZXRob2QgfCBWN19Gb3JtTWV0aG9kO1xuICAgICAgZm9ybUFjdGlvbjogc3RyaW5nO1xuICAgICAgZm9ybUVuY1R5cGU6IEZvcm1FbmNUeXBlO1xuICAgICAgZm9ybURhdGE6IHVuZGVmaW5lZDtcbiAgICAgIGpzb246IEpzb25WYWx1ZTtcbiAgICAgIHRleHQ6IHVuZGVmaW5lZDtcbiAgICB9XG4gIHwge1xuICAgICAgZm9ybU1ldGhvZDogRm9ybU1ldGhvZCB8IFY3X0Zvcm1NZXRob2Q7XG4gICAgICBmb3JtQWN0aW9uOiBzdHJpbmc7XG4gICAgICBmb3JtRW5jVHlwZTogRm9ybUVuY1R5cGU7XG4gICAgICBmb3JtRGF0YTogdW5kZWZpbmVkO1xuICAgICAganNvbjogdW5kZWZpbmVkO1xuICAgICAgdGV4dDogc3RyaW5nO1xuICAgIH07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEFyZ3VtZW50cyBwYXNzZWQgdG8gcm91dGUgbG9hZGVyL2FjdGlvbiBmdW5jdGlvbnMuICBTYW1lIGZvciBub3cgYnV0IHdlIGtlZXBcbiAqIHRoaXMgYXMgYSBwcml2YXRlIGltcGxlbWVudGF0aW9uIGRldGFpbCBpbiBjYXNlIHRoZXkgZGl2ZXJnZSBpbiB0aGUgZnV0dXJlLlxuICovXG5pbnRlcmZhY2UgRGF0YUZ1bmN0aW9uQXJnczxDb250ZXh0PiB7XG4gIHJlcXVlc3Q6IFJlcXVlc3Q7XG4gIHBhcmFtczogUGFyYW1zO1xuICBjb250ZXh0PzogQ29udGV4dDtcbn1cblxuLy8gVE9ETzogKHY3KSBDaGFuZ2UgdGhlIGRlZmF1bHRzIGZyb20gYW55IHRvIHVua25vd24gaW4gYW5kIHJlbW92ZSBSZW1peCB3cmFwcGVyczpcbi8vICAgQWN0aW9uRnVuY3Rpb24sIEFjdGlvbkZ1bmN0aW9uQXJncywgTG9hZGVyRnVuY3Rpb24sIExvYWRlckZ1bmN0aW9uQXJnc1xuLy8gICBBbHNvLCBtYWtlIHRoZW0gYSB0eXBlIGFsaWFzIGluc3RlYWQgb2YgYW4gaW50ZXJmYWNlXG5cbi8qKlxuICogQXJndW1lbnRzIHBhc3NlZCB0byBsb2FkZXIgZnVuY3Rpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGVyRnVuY3Rpb25BcmdzPENvbnRleHQgPSBhbnk+XG4gIGV4dGVuZHMgRGF0YUZ1bmN0aW9uQXJnczxDb250ZXh0PiB7fVxuXG4vKipcbiAqIEFyZ3VtZW50cyBwYXNzZWQgdG8gYWN0aW9uIGZ1bmN0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvbkZ1bmN0aW9uQXJnczxDb250ZXh0ID0gYW55PlxuICBleHRlbmRzIERhdGFGdW5jdGlvbkFyZ3M8Q29udGV4dD4ge31cblxuLyoqXG4gKiBMb2FkZXJzIGFuZCBhY3Rpb25zIGNhbiByZXR1cm4gYW55dGhpbmcgZXhjZXB0IGB1bmRlZmluZWRgIChgbnVsbGAgaXMgYVxuICogdmFsaWQgcmV0dXJuIHZhbHVlIGlmIHRoZXJlIGlzIG5vIGRhdGEgdG8gcmV0dXJuKS4gIFJlc3BvbnNlcyBhcmUgcHJlZmVycmVkXG4gKiBhbmQgd2lsbCBlYXNlIGFueSBmdXR1cmUgbWlncmF0aW9uIHRvIFJlbWl4XG4gKi9cbnR5cGUgRGF0YUZ1bmN0aW9uVmFsdWUgPSBSZXNwb25zZSB8IE5vbk51bGxhYmxlPHVua25vd24+IHwgbnVsbDtcblxudHlwZSBEYXRhRnVuY3Rpb25SZXR1cm5WYWx1ZSA9IFByb21pc2U8RGF0YUZ1bmN0aW9uVmFsdWU+IHwgRGF0YUZ1bmN0aW9uVmFsdWU7XG5cbi8qKlxuICogUm91dGUgbG9hZGVyIGZ1bmN0aW9uIHNpZ25hdHVyZVxuICovXG5leHBvcnQgdHlwZSBMb2FkZXJGdW5jdGlvbjxDb250ZXh0ID0gYW55PiA9IHtcbiAgKFxuICAgIGFyZ3M6IExvYWRlckZ1bmN0aW9uQXJnczxDb250ZXh0PixcbiAgICBoYW5kbGVyQ3R4PzogdW5rbm93blxuICApOiBEYXRhRnVuY3Rpb25SZXR1cm5WYWx1ZTtcbn0gJiB7IGh5ZHJhdGU/OiBib29sZWFuIH07XG5cbi8qKlxuICogUm91dGUgYWN0aW9uIGZ1bmN0aW9uIHNpZ25hdHVyZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvbkZ1bmN0aW9uPENvbnRleHQgPSBhbnk+IHtcbiAgKFxuICAgIGFyZ3M6IEFjdGlvbkZ1bmN0aW9uQXJnczxDb250ZXh0PixcbiAgICBoYW5kbGVyQ3R4PzogdW5rbm93blxuICApOiBEYXRhRnVuY3Rpb25SZXR1cm5WYWx1ZTtcbn1cblxuLyoqXG4gKiBBcmd1bWVudHMgcGFzc2VkIHRvIHNob3VsZFJldmFsaWRhdGUgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb25BcmdzIHtcbiAgY3VycmVudFVybDogVVJMO1xuICBjdXJyZW50UGFyYW1zOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW1wicGFyYW1zXCJdO1xuICBuZXh0VXJsOiBVUkw7XG4gIG5leHRQYXJhbXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXCJwYXJhbXNcIl07XG4gIGZvcm1NZXRob2Q/OiBTdWJtaXNzaW9uW1wiZm9ybU1ldGhvZFwiXTtcbiAgZm9ybUFjdGlvbj86IFN1Ym1pc3Npb25bXCJmb3JtQWN0aW9uXCJdO1xuICBmb3JtRW5jVHlwZT86IFN1Ym1pc3Npb25bXCJmb3JtRW5jVHlwZVwiXTtcbiAgdGV4dD86IFN1Ym1pc3Npb25bXCJ0ZXh0XCJdO1xuICBmb3JtRGF0YT86IFN1Ym1pc3Npb25bXCJmb3JtRGF0YVwiXTtcbiAganNvbj86IFN1Ym1pc3Npb25bXCJqc29uXCJdO1xuICBhY3Rpb25TdGF0dXM/OiBudW1iZXI7XG4gIGFjdGlvblJlc3VsdD86IGFueTtcbiAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IGJvb2xlYW47XG59XG5cbi8qKlxuICogUm91dGUgc2hvdWxkUmV2YWxpZGF0ZSBmdW5jdGlvbiBzaWduYXR1cmUuICBUaGlzIHJ1bnMgYWZ0ZXIgYW55IHN1Ym1pc3Npb25cbiAqIChuYXZpZ2F0aW9uIG9yIGZldGNoZXIpLCBzbyB3ZSBmbGF0dGVuIHRoZSBuYXZpZ2F0aW9uL2ZldGNoZXIgc3VibWlzc2lvblxuICogb250byB0aGUgYXJndW1lbnRzLiAgSXQgc2hvdWxkbid0IG1hdHRlciB3aGV0aGVyIGl0IGNhbWUgZnJvbSBhIG5hdmlnYXRpb25cbiAqIG9yIGEgZmV0Y2hlciwgd2hhdCByZWFsbHkgbWF0dGVycyBpcyB0aGUgVVJMcyBhbmQgdGhlIGZvcm1EYXRhIHNpbmNlIGxvYWRlcnNcbiAqIGhhdmUgdG8gcmUtcnVuIGJhc2VkIG9uIHRoZSBkYXRhIG1vZGVscyB0aGF0IHdlcmUgcG90ZW50aWFsbHkgbXV0YXRlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb24ge1xuICAoYXJnczogU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uQXJncyk6IGJvb2xlYW47XG59XG5cbi8qKlxuICogRnVuY3Rpb24gcHJvdmlkZWQgYnkgdGhlIGZyYW1ld29yay1hd2FyZSBsYXllcnMgdG8gc2V0IGBoYXNFcnJvckJvdW5kYXJ5YFxuICogZnJvbSB0aGUgZnJhbWV3b3JrLWF3YXJlIGBlcnJvckVsZW1lbnRgIHByb3BcbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYG1hcFJvdXRlUHJvcGVydGllc2AgaW5zdGVhZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIERldGVjdEVycm9yQm91bmRhcnlGdW5jdGlvbiB7XG4gIChyb3V0ZTogQWdub3N0aWNSb3V0ZU9iamVjdCk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVN0cmF0ZWd5TWF0Y2hcbiAgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlTWF0Y2g8c3RyaW5nLCBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdD4ge1xuICBzaG91bGRMb2FkOiBib29sZWFuO1xuICByZXNvbHZlOiAoXG4gICAgaGFuZGxlck92ZXJyaWRlPzogKFxuICAgICAgaGFuZGxlcjogKGN0eD86IHVua25vd24pID0+IERhdGFGdW5jdGlvblJldHVyblZhbHVlXG4gICAgKSA9PiBEYXRhRnVuY3Rpb25SZXR1cm5WYWx1ZVxuICApID0+IFByb21pc2U8RGF0YVN0cmF0ZWd5UmVzdWx0Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhU3RyYXRlZ3lGdW5jdGlvbkFyZ3M8Q29udGV4dCA9IGFueT5cbiAgZXh0ZW5kcyBEYXRhRnVuY3Rpb25BcmdzPENvbnRleHQ+IHtcbiAgbWF0Y2hlczogRGF0YVN0cmF0ZWd5TWF0Y2hbXTtcbiAgZmV0Y2hlcktleTogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBSZXN1bHQgZnJvbSBhIGxvYWRlciBvciBhY3Rpb24gY2FsbGVkIHZpYSBkYXRhU3RyYXRlZ3lcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEYXRhU3RyYXRlZ3lSZXN1bHQge1xuICB0eXBlOiBcImRhdGFcIiB8IFwiZXJyb3JcIjtcbiAgcmVzdWx0OiB1bmtub3duOyAvLyBkYXRhLCBFcnJvciwgUmVzcG9uc2UsIERlZmVycmVkRGF0YSwgRGF0YVdpdGhSZXNwb25zZUluaXRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhU3RyYXRlZ3lGdW5jdGlvbiB7XG4gIChhcmdzOiBEYXRhU3RyYXRlZ3lGdW5jdGlvbkFyZ3MpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIERhdGFTdHJhdGVneVJlc3VsdD4+O1xufVxuXG5leHBvcnQgdHlwZSBBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb25BcmdzPFxuICBPIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdCA9IEFnbm9zdGljUm91dGVPYmplY3QsXG4gIE0gZXh0ZW5kcyBBZ25vc3RpY1JvdXRlTWF0Y2ggPSBBZ25vc3RpY1JvdXRlTWF0Y2hcbj4gPSB7XG4gIHNpZ25hbDogQWJvcnRTaWduYWw7XG4gIHBhdGg6IHN0cmluZztcbiAgbWF0Y2hlczogTVtdO1xuICBmZXRjaGVyS2V5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHBhdGNoOiAocm91dGVJZDogc3RyaW5nIHwgbnVsbCwgY2hpbGRyZW46IE9bXSkgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCB0eXBlIEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbjxcbiAgTyBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3QgPSBBZ25vc3RpY1JvdXRlT2JqZWN0LFxuICBNIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU1hdGNoID0gQWdub3N0aWNSb3V0ZU1hdGNoXG4+ID0gKFxuICBvcHRzOiBBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb25BcmdzPE8sIE0+XG4pID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xuXG4vKipcbiAqIEZ1bmN0aW9uIHByb3ZpZGVkIGJ5IHRoZSBmcmFtZXdvcmstYXdhcmUgbGF5ZXJzIHRvIHNldCBhbnkgZnJhbWV3b3JrLXNwZWNpZmljXG4gKiBwcm9wZXJ0aWVzIGZyb20gZnJhbWV3b3JrLWFnbm9zdGljIHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbiB7XG4gIChyb3V0ZTogQWdub3N0aWNSb3V0ZU9iamVjdCk6IHtcbiAgICBoYXNFcnJvckJvdW5kYXJ5OiBib29sZWFuO1xuICB9ICYgUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuLyoqXG4gKiBLZXlzIHdlIGNhbm5vdCBjaGFuZ2UgZnJvbSB3aXRoaW4gYSBsYXp5KCkgZnVuY3Rpb24uIFdlIHNwcmVhZCBhbGwgb3RoZXIga2V5c1xuICogb250byB0aGUgcm91dGUuIEVpdGhlciB0aGV5J3JlIG1lYW5pbmdmdWwgdG8gdGhlIHJvdXRlciwgb3IgdGhleSdsbCBnZXRcbiAqIGlnbm9yZWQuXG4gKi9cbmV4cG9ydCB0eXBlIEltbXV0YWJsZVJvdXRlS2V5ID1cbiAgfCBcImxhenlcIlxuICB8IFwiY2FzZVNlbnNpdGl2ZVwiXG4gIHwgXCJwYXRoXCJcbiAgfCBcImlkXCJcbiAgfCBcImluZGV4XCJcbiAgfCBcImNoaWxkcmVuXCI7XG5cbmV4cG9ydCBjb25zdCBpbW11dGFibGVSb3V0ZUtleXMgPSBuZXcgU2V0PEltbXV0YWJsZVJvdXRlS2V5PihbXG4gIFwibGF6eVwiLFxuICBcImNhc2VTZW5zaXRpdmVcIixcbiAgXCJwYXRoXCIsXG4gIFwiaWRcIixcbiAgXCJpbmRleFwiLFxuICBcImNoaWxkcmVuXCIsXG5dKTtcblxudHlwZSBSZXF1aXJlT25lPFQsIEtleSA9IGtleW9mIFQ+ID0gRXhjbHVkZTxcbiAge1xuICAgIFtLIGluIGtleW9mIFRdOiBLIGV4dGVuZHMgS2V5ID8gT21pdDxULCBLPiAmIFJlcXVpcmVkPFBpY2s8VCwgSz4+IDogbmV2ZXI7XG4gIH1ba2V5b2YgVF0sXG4gIHVuZGVmaW5lZFxuPjtcblxuLyoqXG4gKiBsYXp5KCkgZnVuY3Rpb24gdG8gbG9hZCBhIHJvdXRlIGRlZmluaXRpb24sIHdoaWNoIGNhbiBhZGQgbm9uLW1hdGNoaW5nXG4gKiByZWxhdGVkIHByb3BlcnRpZXMgdG8gYSByb3V0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExhenlSb3V0ZUZ1bmN0aW9uPFIgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0PiB7XG4gICgpOiBQcm9taXNlPFJlcXVpcmVPbmU8T21pdDxSLCBJbW11dGFibGVSb3V0ZUtleT4+Pjtcbn1cblxuLyoqXG4gKiBCYXNlIFJvdXRlT2JqZWN0IHdpdGggY29tbW9uIHByb3BzIHNoYXJlZCBieSBhbGwgdHlwZXMgb2Ygcm91dGVzXG4gKi9cbnR5cGUgQWdub3N0aWNCYXNlUm91dGVPYmplY3QgPSB7XG4gIGNhc2VTZW5zaXRpdmU/OiBib29sZWFuO1xuICBwYXRoPzogc3RyaW5nO1xuICBpZD86IHN0cmluZztcbiAgbG9hZGVyPzogTG9hZGVyRnVuY3Rpb24gfCBib29sZWFuO1xuICBhY3Rpb24/OiBBY3Rpb25GdW5jdGlvbiB8IGJvb2xlYW47XG4gIGhhc0Vycm9yQm91bmRhcnk/OiBib29sZWFuO1xuICBzaG91bGRSZXZhbGlkYXRlPzogU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uO1xuICBoYW5kbGU/OiBhbnk7XG4gIGxhenk/OiBMYXp5Um91dGVGdW5jdGlvbjxBZ25vc3RpY0Jhc2VSb3V0ZU9iamVjdD47XG59O1xuXG4vKipcbiAqIEluZGV4IHJvdXRlcyBtdXN0IG5vdCBoYXZlIGNoaWxkcmVuXG4gKi9cbmV4cG9ydCB0eXBlIEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdCA9IEFnbm9zdGljQmFzZVJvdXRlT2JqZWN0ICYge1xuICBjaGlsZHJlbj86IHVuZGVmaW5lZDtcbiAgaW5kZXg6IHRydWU7XG59O1xuXG4vKipcbiAqIE5vbi1pbmRleCByb3V0ZXMgbWF5IGhhdmUgY2hpbGRyZW4sIGJ1dCBjYW5ub3QgaGF2ZSBpbmRleFxuICovXG5leHBvcnQgdHlwZSBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3QgPSBBZ25vc3RpY0Jhc2VSb3V0ZU9iamVjdCAmIHtcbiAgY2hpbGRyZW4/OiBBZ25vc3RpY1JvdXRlT2JqZWN0W107XG4gIGluZGV4PzogZmFsc2U7XG59O1xuXG4vKipcbiAqIEEgcm91dGUgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2dpY2FsIHJvdXRlLCB3aXRoIChvcHRpb25hbGx5KSBpdHMgY2hpbGRcbiAqIHJvdXRlcyBvcmdhbml6ZWQgaW4gYSB0cmVlLWxpa2Ugc3RydWN0dXJlLlxuICovXG5leHBvcnQgdHlwZSBBZ25vc3RpY1JvdXRlT2JqZWN0ID1cbiAgfCBBZ25vc3RpY0luZGV4Um91dGVPYmplY3RcbiAgfCBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3Q7XG5cbmV4cG9ydCB0eXBlIEFnbm9zdGljRGF0YUluZGV4Um91dGVPYmplY3QgPSBBZ25vc3RpY0luZGV4Um91dGVPYmplY3QgJiB7XG4gIGlkOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBBZ25vc3RpY0RhdGFOb25JbmRleFJvdXRlT2JqZWN0ID0gQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0ICYge1xuICBjaGlsZHJlbj86IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W107XG4gIGlkOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIEEgZGF0YSByb3V0ZSBvYmplY3QsIHdoaWNoIGlzIGp1c3QgYSBSb3V0ZU9iamVjdCB3aXRoIGEgcmVxdWlyZWQgdW5pcXVlIElEXG4gKi9cbmV4cG9ydCB0eXBlIEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0ID1cbiAgfCBBZ25vc3RpY0RhdGFJbmRleFJvdXRlT2JqZWN0XG4gIHwgQWdub3N0aWNEYXRhTm9uSW5kZXhSb3V0ZU9iamVjdDtcblxuZXhwb3J0IHR5cGUgUm91dGVNYW5pZmVzdCA9IFJlY29yZDxzdHJpbmcsIEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0IHwgdW5kZWZpbmVkPjtcblxuLy8gUmVjdXJzaXZlIGhlbHBlciBmb3IgZmluZGluZyBwYXRoIHBhcmFtZXRlcnMgaW4gdGhlIGFic2VuY2Ugb2Ygd2lsZGNhcmRzXG50eXBlIF9QYXRoUGFyYW08UGF0aCBleHRlbmRzIHN0cmluZz4gPVxuICAvLyBzcGxpdCBwYXRoIGludG8gaW5kaXZpZHVhbCBwYXRoIHNlZ21lbnRzXG4gIFBhdGggZXh0ZW5kcyBgJHtpbmZlciBMfS8ke2luZmVyIFJ9YFxuICAgID8gX1BhdGhQYXJhbTxMPiB8IF9QYXRoUGFyYW08Uj5cbiAgICA6IC8vIGZpbmQgcGFyYW1zIGFmdGVyIGA6YFxuICAgIFBhdGggZXh0ZW5kcyBgOiR7aW5mZXIgUGFyYW19YFxuICAgID8gUGFyYW0gZXh0ZW5kcyBgJHtpbmZlciBPcHRpb25hbH0/YFxuICAgICAgPyBPcHRpb25hbFxuICAgICAgOiBQYXJhbVxuICAgIDogLy8gb3RoZXJ3aXNlLCB0aGVyZSBhcmVuJ3QgYW55IHBhcmFtcyBwcmVzZW50XG4gICAgICBuZXZlcjtcblxuLyoqXG4gKiBFeGFtcGxlczpcbiAqIFwiL2EvYi8qXCIgLT4gXCIqXCJcbiAqIFwiOmFcIiAtPiBcImFcIlxuICogXCIvYS86YlwiIC0+IFwiYlwiXG4gKiBcIi9hL2JsYWhibGFoYmxhaDpiXCIgLT4gXCJiXCJcbiAqIFwiLzphLzpiXCIgLT4gXCJhXCIgfCBcImJcIlxuICogXCIvOmEvYi86Yy8qXCIgLT4gXCJhXCIgfCBcImNcIiB8IFwiKlwiXG4gKi9cbmV4cG9ydCB0eXBlIFBhdGhQYXJhbTxQYXRoIGV4dGVuZHMgc3RyaW5nPiA9XG4gIC8vIGNoZWNrIGlmIHBhdGggaXMganVzdCBhIHdpbGRjYXJkXG4gIFBhdGggZXh0ZW5kcyBcIipcIiB8IFwiLypcIlxuICAgID8gXCIqXCJcbiAgICA6IC8vIGxvb2sgZm9yIHdpbGRjYXJkIGF0IHRoZSBlbmQgb2YgdGhlIHBhdGhcbiAgICBQYXRoIGV4dGVuZHMgYCR7aW5mZXIgUmVzdH0vKmBcbiAgICA/IFwiKlwiIHwgX1BhdGhQYXJhbTxSZXN0PlxuICAgIDogLy8gbG9vayBmb3IgcGFyYW1zIGluIHRoZSBhYnNlbmNlIG9mIHdpbGRjYXJkc1xuICAgICAgX1BhdGhQYXJhbTxQYXRoPjtcblxuLy8gQXR0ZW1wdCB0byBwYXJzZSB0aGUgZ2l2ZW4gc3RyaW5nIHNlZ21lbnQuIElmIGl0IGZhaWxzLCB0aGVuIGp1c3QgcmV0dXJuIHRoZVxuLy8gcGxhaW4gc3RyaW5nIHR5cGUgYXMgYSBkZWZhdWx0IGZhbGxiYWNrLiBPdGhlcndpc2UsIHJldHVybiB0aGUgdW5pb24gb2YgdGhlXG4vLyBwYXJzZWQgc3RyaW5nIGxpdGVyYWxzIHRoYXQgd2VyZSByZWZlcmVuY2VkIGFzIGR5bmFtaWMgc2VnbWVudHMgaW4gdGhlIHJvdXRlLlxuZXhwb3J0IHR5cGUgUGFyYW1QYXJzZUtleTxTZWdtZW50IGV4dGVuZHMgc3RyaW5nPiA9XG4gIC8vIGlmIHlvdSBjb3VsZCBub3QgZmluZCBwYXRoIHBhcmFtcywgZmFsbGJhY2sgdG8gYHN0cmluZ2BcbiAgW1BhdGhQYXJhbTxTZWdtZW50Pl0gZXh0ZW5kcyBbbmV2ZXJdID8gc3RyaW5nIDogUGF0aFBhcmFtPFNlZ21lbnQ+O1xuXG4vKipcbiAqIFRoZSBwYXJhbWV0ZXJzIHRoYXQgd2VyZSBwYXJzZWQgZnJvbSB0aGUgVVJMIHBhdGguXG4gKi9cbmV4cG9ydCB0eXBlIFBhcmFtczxLZXkgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmc+ID0ge1xuICByZWFkb25seSBba2V5IGluIEtleV06IHN0cmluZyB8IHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogQSBSb3V0ZU1hdGNoIGNvbnRhaW5zIGluZm8gYWJvdXQgaG93IGEgcm91dGUgbWF0Y2hlZCBhIFVSTC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBZ25vc3RpY1JvdXRlTWF0Y2g8XG4gIFBhcmFtS2V5IGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuICBSb3V0ZU9iamVjdFR5cGUgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0ID0gQWdub3N0aWNSb3V0ZU9iamVjdFxuPiB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZXMgYW5kIHZhbHVlcyBvZiBkeW5hbWljIHBhcmFtZXRlcnMgaW4gdGhlIFVSTC5cbiAgICovXG4gIHBhcmFtczogUGFyYW1zPFBhcmFtS2V5PjtcbiAgLyoqXG4gICAqIFRoZSBwb3J0aW9uIG9mIHRoZSBVUkwgcGF0aG5hbWUgdGhhdCB3YXMgbWF0Y2hlZC5cbiAgICovXG4gIHBhdGhuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgcG9ydGlvbiBvZiB0aGUgVVJMIHBhdGhuYW1lIHRoYXQgd2FzIG1hdGNoZWQgYmVmb3JlIGNoaWxkIHJvdXRlcy5cbiAgICovXG4gIHBhdGhuYW1lQmFzZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHJvdXRlIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIG1hdGNoLlxuICAgKi9cbiAgcm91dGU6IFJvdXRlT2JqZWN0VHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoXG4gIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU1hdGNoPHN0cmluZywgQWdub3N0aWNEYXRhUm91dGVPYmplY3Q+IHt9XG5cbmZ1bmN0aW9uIGlzSW5kZXhSb3V0ZShcbiAgcm91dGU6IEFnbm9zdGljUm91dGVPYmplY3Rcbik6IHJvdXRlIGlzIEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdCB7XG4gIHJldHVybiByb3V0ZS5pbmRleCA9PT0gdHJ1ZTtcbn1cblxuLy8gV2FsayB0aGUgcm91dGUgdHJlZSBnZW5lcmF0aW5nIHVuaXF1ZSBJRHMgd2hlcmUgbmVjZXNzYXJ5LCBzbyB3ZSBhcmUgd29ya2luZ1xuLy8gc29sZWx5IHdpdGggQWdub3N0aWNEYXRhUm91dGVPYmplY3QncyB3aXRoaW4gdGhlIFJvdXRlclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gIHJvdXRlczogQWdub3N0aWNSb3V0ZU9iamVjdFtdLFxuICBtYXBSb3V0ZVByb3BlcnRpZXM6IE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uLFxuICBwYXJlbnRQYXRoOiBzdHJpbmdbXSA9IFtdLFxuICBtYW5pZmVzdDogUm91dGVNYW5pZmVzdCA9IHt9XG4pOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdIHtcbiAgcmV0dXJuIHJvdXRlcy5tYXAoKHJvdXRlLCBpbmRleCkgPT4ge1xuICAgIGxldCB0cmVlUGF0aCA9IFsuLi5wYXJlbnRQYXRoLCBTdHJpbmcoaW5kZXgpXTtcbiAgICBsZXQgaWQgPSB0eXBlb2Ygcm91dGUuaWQgPT09IFwic3RyaW5nXCIgPyByb3V0ZS5pZCA6IHRyZWVQYXRoLmpvaW4oXCItXCIpO1xuICAgIGludmFyaWFudChcbiAgICAgIHJvdXRlLmluZGV4ICE9PSB0cnVlIHx8ICFyb3V0ZS5jaGlsZHJlbixcbiAgICAgIGBDYW5ub3Qgc3BlY2lmeSBjaGlsZHJlbiBvbiBhbiBpbmRleCByb3V0ZWBcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICFtYW5pZmVzdFtpZF0sXG4gICAgICBgRm91bmQgYSByb3V0ZSBpZCBjb2xsaXNpb24gb24gaWQgXCIke2lkfVwiLiAgUm91dGUgYCArXG4gICAgICAgIFwiaWQncyBtdXN0IGJlIGdsb2JhbGx5IHVuaXF1ZSB3aXRoaW4gRGF0YSBSb3V0ZXIgdXNhZ2VzXCJcbiAgICApO1xuXG4gICAgaWYgKGlzSW5kZXhSb3V0ZShyb3V0ZSkpIHtcbiAgICAgIGxldCBpbmRleFJvdXRlOiBBZ25vc3RpY0RhdGFJbmRleFJvdXRlT2JqZWN0ID0ge1xuICAgICAgICAuLi5yb3V0ZSxcbiAgICAgICAgLi4ubWFwUm91dGVQcm9wZXJ0aWVzKHJvdXRlKSxcbiAgICAgICAgaWQsXG4gICAgICB9O1xuICAgICAgbWFuaWZlc3RbaWRdID0gaW5kZXhSb3V0ZTtcbiAgICAgIHJldHVybiBpbmRleFJvdXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcGF0aE9yTGF5b3V0Um91dGU6IEFnbm9zdGljRGF0YU5vbkluZGV4Um91dGVPYmplY3QgPSB7XG4gICAgICAgIC4uLnJvdXRlLFxuICAgICAgICAuLi5tYXBSb3V0ZVByb3BlcnRpZXMocm91dGUpLFxuICAgICAgICBpZCxcbiAgICAgICAgY2hpbGRyZW46IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgICBtYW5pZmVzdFtpZF0gPSBwYXRoT3JMYXlvdXRSb3V0ZTtcblxuICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICAgIHBhdGhPckxheW91dFJvdXRlLmNoaWxkcmVuID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICAgICAgICByb3V0ZS5jaGlsZHJlbixcbiAgICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgICAgICAgdHJlZVBhdGgsXG4gICAgICAgICAgbWFuaWZlc3RcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhdGhPckxheW91dFJvdXRlO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogTWF0Y2hlcyB0aGUgZ2l2ZW4gcm91dGVzIHRvIGEgbG9jYXRpb24gYW5kIHJldHVybnMgdGhlIG1hdGNoIGRhdGEuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91dGlscy9tYXRjaC1yb3V0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoUm91dGVzPFxuICBSb3V0ZU9iamVjdFR5cGUgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0ID0gQWdub3N0aWNSb3V0ZU9iamVjdFxuPihcbiAgcm91dGVzOiBSb3V0ZU9iamVjdFR5cGVbXSxcbiAgbG9jYXRpb25Bcmc6IFBhcnRpYWw8TG9jYXRpb24+IHwgc3RyaW5nLFxuICBiYXNlbmFtZSA9IFwiL1wiXG4pOiBBZ25vc3RpY1JvdXRlTWF0Y2g8c3RyaW5nLCBSb3V0ZU9iamVjdFR5cGU+W10gfCBudWxsIHtcbiAgcmV0dXJuIG1hdGNoUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnLCBiYXNlbmFtZSwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hSb3V0ZXNJbXBsPFxuICBSb3V0ZU9iamVjdFR5cGUgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0ID0gQWdub3N0aWNSb3V0ZU9iamVjdFxuPihcbiAgcm91dGVzOiBSb3V0ZU9iamVjdFR5cGVbXSxcbiAgbG9jYXRpb25Bcmc6IFBhcnRpYWw8TG9jYXRpb24+IHwgc3RyaW5nLFxuICBiYXNlbmFtZTogc3RyaW5nLFxuICBhbGxvd1BhcnRpYWw6IGJvb2xlYW5cbik6IEFnbm9zdGljUm91dGVNYXRjaDxzdHJpbmcsIFJvdXRlT2JqZWN0VHlwZT5bXSB8IG51bGwge1xuICBsZXQgbG9jYXRpb24gPVxuICAgIHR5cGVvZiBsb2NhdGlvbkFyZyA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbkFyZykgOiBsb2NhdGlvbkFyZztcblxuICBsZXQgcGF0aG5hbWUgPSBzdHJpcEJhc2VuYW1lKGxvY2F0aW9uLnBhdGhuYW1lIHx8IFwiL1wiLCBiYXNlbmFtZSk7XG5cbiAgaWYgKHBhdGhuYW1lID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxldCBicmFuY2hlcyA9IGZsYXR0ZW5Sb3V0ZXMocm91dGVzKTtcbiAgcmFua1JvdXRlQnJhbmNoZXMoYnJhbmNoZXMpO1xuXG4gIGxldCBtYXRjaGVzID0gbnVsbDtcbiAgZm9yIChsZXQgaSA9IDA7IG1hdGNoZXMgPT0gbnVsbCAmJiBpIDwgYnJhbmNoZXMubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBJbmNvbWluZyBwYXRobmFtZXMgYXJlIGdlbmVyYWxseSBlbmNvZGVkIGZyb20gZWl0aGVyIHdpbmRvdy5sb2NhdGlvblxuICAgIC8vIG9yIGZyb20gcm91dGVyLm5hdmlnYXRlLCBidXQgd2Ugd2FudCB0byBtYXRjaCBhZ2FpbnN0IHRoZSB1bmVuY29kZWRcbiAgICAvLyBwYXRocyBpbiB0aGUgcm91dGUgZGVmaW5pdGlvbnMuICBNZW1vcnkgcm91dGVyIGxvY2F0aW9ucyB3b24ndCBiZVxuICAgIC8vIGVuY29kZWQgaGVyZSBidXQgdGhlcmUgYWxzbyBzaG91bGRuJ3QgYmUgYW55dGhpbmcgdG8gZGVjb2RlIHNvIHRoaXNcbiAgICAvLyBzaG91bGQgYmUgYSBzYWZlIG9wZXJhdGlvbi4gIFRoaXMgYXZvaWRzIG5lZWRpbmcgbWF0Y2hSb3V0ZXMgdG8gYmVcbiAgICAvLyBoaXN0b3J5LWF3YXJlLlxuICAgIGxldCBkZWNvZGVkID0gZGVjb2RlUGF0aChwYXRobmFtZSk7XG4gICAgbWF0Y2hlcyA9IG1hdGNoUm91dGVCcmFuY2g8c3RyaW5nLCBSb3V0ZU9iamVjdFR5cGU+KFxuICAgICAgYnJhbmNoZXNbaV0sXG4gICAgICBkZWNvZGVkLFxuICAgICAgYWxsb3dQYXJ0aWFsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBtYXRjaGVzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVJTWF0Y2g8RGF0YSA9IHVua25vd24sIEhhbmRsZSA9IHVua25vd24+IHtcbiAgaWQ6IHN0cmluZztcbiAgcGF0aG5hbWU6IHN0cmluZztcbiAgcGFyYW1zOiBBZ25vc3RpY1JvdXRlTWF0Y2hbXCJwYXJhbXNcIl07XG4gIGRhdGE6IERhdGE7XG4gIGhhbmRsZTogSGFuZGxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2goXG4gIG1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoLFxuICBsb2FkZXJEYXRhOiBSb3V0ZURhdGFcbik6IFVJTWF0Y2gge1xuICBsZXQgeyByb3V0ZSwgcGF0aG5hbWUsIHBhcmFtcyB9ID0gbWF0Y2g7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJvdXRlLmlkLFxuICAgIHBhdGhuYW1lLFxuICAgIHBhcmFtcyxcbiAgICBkYXRhOiBsb2FkZXJEYXRhW3JvdXRlLmlkXSxcbiAgICBoYW5kbGU6IHJvdXRlLmhhbmRsZSxcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFJvdXRlTWV0YTxcbiAgUm91dGVPYmplY3RUeXBlIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdCA9IEFnbm9zdGljUm91dGVPYmplY3Rcbj4ge1xuICByZWxhdGl2ZVBhdGg6IHN0cmluZztcbiAgY2FzZVNlbnNpdGl2ZTogYm9vbGVhbjtcbiAgY2hpbGRyZW5JbmRleDogbnVtYmVyO1xuICByb3V0ZTogUm91dGVPYmplY3RUeXBlO1xufVxuXG5pbnRlcmZhY2UgUm91dGVCcmFuY2g8XG4gIFJvdXRlT2JqZWN0VHlwZSBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3QgPSBBZ25vc3RpY1JvdXRlT2JqZWN0XG4+IHtcbiAgcGF0aDogc3RyaW5nO1xuICBzY29yZTogbnVtYmVyO1xuICByb3V0ZXNNZXRhOiBSb3V0ZU1ldGE8Um91dGVPYmplY3RUeXBlPltdO1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuUm91dGVzPFxuICBSb3V0ZU9iamVjdFR5cGUgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0ID0gQWdub3N0aWNSb3V0ZU9iamVjdFxuPihcbiAgcm91dGVzOiBSb3V0ZU9iamVjdFR5cGVbXSxcbiAgYnJhbmNoZXM6IFJvdXRlQnJhbmNoPFJvdXRlT2JqZWN0VHlwZT5bXSA9IFtdLFxuICBwYXJlbnRzTWV0YTogUm91dGVNZXRhPFJvdXRlT2JqZWN0VHlwZT5bXSA9IFtdLFxuICBwYXJlbnRQYXRoID0gXCJcIlxuKTogUm91dGVCcmFuY2g8Um91dGVPYmplY3RUeXBlPltdIHtcbiAgbGV0IGZsYXR0ZW5Sb3V0ZSA9IChcbiAgICByb3V0ZTogUm91dGVPYmplY3RUeXBlLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgcmVsYXRpdmVQYXRoPzogc3RyaW5nXG4gICkgPT4ge1xuICAgIGxldCBtZXRhOiBSb3V0ZU1ldGE8Um91dGVPYmplY3RUeXBlPiA9IHtcbiAgICAgIHJlbGF0aXZlUGF0aDpcbiAgICAgICAgcmVsYXRpdmVQYXRoID09PSB1bmRlZmluZWQgPyByb3V0ZS5wYXRoIHx8IFwiXCIgOiByZWxhdGl2ZVBhdGgsXG4gICAgICBjYXNlU2Vuc2l0aXZlOiByb3V0ZS5jYXNlU2Vuc2l0aXZlID09PSB0cnVlLFxuICAgICAgY2hpbGRyZW5JbmRleDogaW5kZXgsXG4gICAgICByb3V0ZSxcbiAgICB9O1xuXG4gICAgaWYgKG1ldGEucmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIG1ldGEucmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgocGFyZW50UGF0aCksXG4gICAgICAgIGBBYnNvbHV0ZSByb3V0ZSBwYXRoIFwiJHttZXRhLnJlbGF0aXZlUGF0aH1cIiBuZXN0ZWQgdW5kZXIgcGF0aCBgICtcbiAgICAgICAgICBgXCIke3BhcmVudFBhdGh9XCIgaXMgbm90IHZhbGlkLiBBbiBhYnNvbHV0ZSBjaGlsZCByb3V0ZSBwYXRoIGAgK1xuICAgICAgICAgIGBtdXN0IHN0YXJ0IHdpdGggdGhlIGNvbWJpbmVkIHBhdGggb2YgYWxsIGl0cyBwYXJlbnQgcm91dGVzLmBcbiAgICAgICk7XG5cbiAgICAgIG1ldGEucmVsYXRpdmVQYXRoID0gbWV0YS5yZWxhdGl2ZVBhdGguc2xpY2UocGFyZW50UGF0aC5sZW5ndGgpO1xuICAgIH1cblxuICAgIGxldCBwYXRoID0gam9pblBhdGhzKFtwYXJlbnRQYXRoLCBtZXRhLnJlbGF0aXZlUGF0aF0pO1xuICAgIGxldCByb3V0ZXNNZXRhID0gcGFyZW50c01ldGEuY29uY2F0KG1ldGEpO1xuXG4gICAgLy8gQWRkIHRoZSBjaGlsZHJlbiBiZWZvcmUgYWRkaW5nIHRoaXMgcm91dGUgdG8gdGhlIGFycmF5LCBzbyB3ZSB0cmF2ZXJzZSB0aGVcbiAgICAvLyByb3V0ZSB0cmVlIGRlcHRoLWZpcnN0IGFuZCBjaGlsZCByb3V0ZXMgYXBwZWFyIGJlZm9yZSB0aGVpciBwYXJlbnRzIGluXG4gICAgLy8gdGhlIFwiZmxhdHRlbmVkXCIgdmVyc2lvbi5cbiAgICBpZiAocm91dGUuY2hpbGRyZW4gJiYgcm91dGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAvLyBPdXIgdHlwZXMga25vdyBiZXR0ZXIsIGJ1dCBydW50aW1lIEpTIG1heSBub3QhXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgcm91dGUuaW5kZXggIT09IHRydWUsXG4gICAgICAgIGBJbmRleCByb3V0ZXMgbXVzdCBub3QgaGF2ZSBjaGlsZCByb3V0ZXMuIFBsZWFzZSByZW1vdmUgYCArXG4gICAgICAgICAgYGFsbCBjaGlsZCByb3V0ZXMgZnJvbSByb3V0ZSBwYXRoIFwiJHtwYXRofVwiLmBcbiAgICAgICk7XG4gICAgICBmbGF0dGVuUm91dGVzKHJvdXRlLmNoaWxkcmVuLCBicmFuY2hlcywgcm91dGVzTWV0YSwgcGF0aCk7XG4gICAgfVxuXG4gICAgLy8gUm91dGVzIHdpdGhvdXQgYSBwYXRoIHNob3VsZG4ndCBldmVyIG1hdGNoIGJ5IHRoZW1zZWx2ZXMgdW5sZXNzIHRoZXkgYXJlXG4gICAgLy8gaW5kZXggcm91dGVzLCBzbyBkb24ndCBhZGQgdGhlbSB0byB0aGUgbGlzdCBvZiBwb3NzaWJsZSBicmFuY2hlcy5cbiAgICBpZiAocm91dGUucGF0aCA9PSBudWxsICYmICFyb3V0ZS5pbmRleCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJyYW5jaGVzLnB1c2goe1xuICAgICAgcGF0aCxcbiAgICAgIHNjb3JlOiBjb21wdXRlU2NvcmUocGF0aCwgcm91dGUuaW5kZXgpLFxuICAgICAgcm91dGVzTWV0YSxcbiAgICB9KTtcbiAgfTtcbiAgcm91dGVzLmZvckVhY2goKHJvdXRlLCBpbmRleCkgPT4ge1xuICAgIC8vIGNvYXJzZS1ncmFpbiBjaGVjayBmb3Igb3B0aW9uYWwgcGFyYW1zXG4gICAgaWYgKHJvdXRlLnBhdGggPT09IFwiXCIgfHwgIXJvdXRlLnBhdGg/LmluY2x1ZGVzKFwiP1wiKSkge1xuICAgICAgZmxhdHRlblJvdXRlKHJvdXRlLCBpbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGV4cGxvZGVkIG9mIGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHJvdXRlLnBhdGgpKSB7XG4gICAgICAgIGZsYXR0ZW5Sb3V0ZShyb3V0ZSwgaW5kZXgsIGV4cGxvZGVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBicmFuY2hlcztcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBhbGwgY29tYmluYXRpb25zIG9mIG9wdGlvbmFsIHBhdGggc2VnbWVudHMgZm9yIGEgZ2l2ZW4gcGF0aCxcbiAqIGV4Y2x1ZGluZyBjb21iaW5hdGlvbnMgdGhhdCBhcmUgYW1iaWd1b3VzIGFuZCBvZiBsb3dlciBwcmlvcml0eS5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgYC9vbmUvOnR3bz8vdGhyZWUvOmZvdXI/LzpmaXZlP2AgZXhwbG9kZXMgdG86XG4gKiAtIGAvb25lL3RocmVlYFxuICogLSBgL29uZS86dHdvL3RocmVlYFxuICogLSBgL29uZS90aHJlZS86Zm91cmBcbiAqIC0gYC9vbmUvdGhyZWUvOmZpdmVgXG4gKiAtIGAvb25lLzp0d28vdGhyZWUvOmZvdXJgXG4gKiAtIGAvb25lLzp0d28vdGhyZWUvOmZpdmVgXG4gKiAtIGAvb25lL3RocmVlLzpmb3VyLzpmaXZlYFxuICogLSBgL29uZS86dHdvL3RocmVlLzpmb3VyLzpmaXZlYFxuICovXG5mdW5jdGlvbiBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhwYXRoOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gIGxldCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG5cbiAgbGV0IFtmaXJzdCwgLi4ucmVzdF0gPSBzZWdtZW50cztcblxuICAvLyBPcHRpb25hbCBwYXRoIHNlZ21lbnRzIGFyZSBkZW5vdGVkIGJ5IGEgdHJhaWxpbmcgYD9gXG4gIGxldCBpc09wdGlvbmFsID0gZmlyc3QuZW5kc1dpdGgoXCI/XCIpO1xuICAvLyBDb21wdXRlIHRoZSBjb3JyZXNwb25kaW5nIHJlcXVpcmVkIHNlZ21lbnQ6IGBmb28/YCAtPiBgZm9vYFxuICBsZXQgcmVxdWlyZWQgPSBmaXJzdC5yZXBsYWNlKC9cXD8kLywgXCJcIik7XG5cbiAgaWYgKHJlc3QubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gSW50ZXByZXQgZW1wdHkgc3RyaW5nIGFzIG9taXR0aW5nIGFuIG9wdGlvbmFsIHNlZ21lbnRcbiAgICAvLyBgW1wib25lXCIsIFwiXCIsIFwidGhyZWVcIl1gIGNvcnJlc3BvbmRzIHRvIG9taXR0aW5nIGA6dHdvYCBmcm9tIGAvb25lLzp0d28/L3RocmVlYCAtPiBgL29uZS90aHJlZWBcbiAgICByZXR1cm4gaXNPcHRpb25hbCA/IFtyZXF1aXJlZCwgXCJcIl0gOiBbcmVxdWlyZWRdO1xuICB9XG5cbiAgbGV0IHJlc3RFeHBsb2RlZCA9IGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHJlc3Quam9pbihcIi9cIikpO1xuXG4gIGxldCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG5cbiAgLy8gQWxsIGNoaWxkIHBhdGhzIHdpdGggdGhlIHByZWZpeC4gIERvIHRoaXMgZm9yIGFsbCBjaGlsZHJlbiBiZWZvcmUgdGhlXG4gIC8vIG9wdGlvbmFsIHZlcnNpb24gZm9yIGFsbCBjaGlsZHJlbiwgc28gd2UgZ2V0IGNvbnNpc3RlbnQgb3JkZXJpbmcgd2hlcmUgdGhlXG4gIC8vIHBhcmVudCBvcHRpb25hbCBhc3BlY3QgaXMgcHJlZmVycmVkIGFzIHJlcXVpcmVkLiAgT3RoZXJ3aXNlLCB3ZSBjYW4gZ2V0XG4gIC8vIGNoaWxkIHNlY3Rpb25zIGludGVyc3BlcnNlZCB3aGVyZSBkZWVwZXIgb3B0aW9uYWwgc2VnbWVudHMgYXJlIGhpZ2hlciB0aGFuXG4gIC8vIHBhcmVudCBvcHRpb25hbCBzZWdtZW50cywgd2hlcmUgZm9yIGV4YW1wbGUsIC86dHdvIHdvdWxkIGV4cGxvZGUgX2VhcmxpZXJfXG4gIC8vIHRoZW4gLzpvbmUuICBCeSBhbHdheXMgaW5jbHVkaW5nIHRoZSBwYXJlbnQgYXMgcmVxdWlyZWQgX2ZvciBhbGwgY2hpbGRyZW5fXG4gIC8vIGZpcnN0LCB3ZSBhdm9pZCB0aGlzIGlzc3VlXG4gIHJlc3VsdC5wdXNoKFxuICAgIC4uLnJlc3RFeHBsb2RlZC5tYXAoKHN1YnBhdGgpID0+XG4gICAgICBzdWJwYXRoID09PSBcIlwiID8gcmVxdWlyZWQgOiBbcmVxdWlyZWQsIHN1YnBhdGhdLmpvaW4oXCIvXCIpXG4gICAgKVxuICApO1xuXG4gIC8vIFRoZW4sIGlmIHRoaXMgaXMgYW4gb3B0aW9uYWwgdmFsdWUsIGFkZCBhbGwgY2hpbGQgdmVyc2lvbnMgd2l0aG91dFxuICBpZiAoaXNPcHRpb25hbCkge1xuICAgIHJlc3VsdC5wdXNoKC4uLnJlc3RFeHBsb2RlZCk7XG4gIH1cblxuICAvLyBmb3IgYWJzb2x1dGUgcGF0aHMsIGVuc3VyZSBgL2AgaW5zdGVhZCBvZiBlbXB0eSBzZWdtZW50XG4gIHJldHVybiByZXN1bHQubWFwKChleHBsb2RlZCkgPT5cbiAgICBwYXRoLnN0YXJ0c1dpdGgoXCIvXCIpICYmIGV4cGxvZGVkID09PSBcIlwiID8gXCIvXCIgOiBleHBsb2RlZFxuICApO1xufVxuXG5mdW5jdGlvbiByYW5rUm91dGVCcmFuY2hlcyhicmFuY2hlczogUm91dGVCcmFuY2hbXSk6IHZvaWQge1xuICBicmFuY2hlcy5zb3J0KChhLCBiKSA9PlxuICAgIGEuc2NvcmUgIT09IGIuc2NvcmVcbiAgICAgID8gYi5zY29yZSAtIGEuc2NvcmUgLy8gSGlnaGVyIHNjb3JlIGZpcnN0XG4gICAgICA6IGNvbXBhcmVJbmRleGVzKFxuICAgICAgICAgIGEucm91dGVzTWV0YS5tYXAoKG1ldGEpID0+IG1ldGEuY2hpbGRyZW5JbmRleCksXG4gICAgICAgICAgYi5yb3V0ZXNNZXRhLm1hcCgobWV0YSkgPT4gbWV0YS5jaGlsZHJlbkluZGV4KVxuICAgICAgICApXG4gICk7XG59XG5cbmNvbnN0IHBhcmFtUmUgPSAvXjpbXFx3LV0rJC87XG5jb25zdCBkeW5hbWljU2VnbWVudFZhbHVlID0gMztcbmNvbnN0IGluZGV4Um91dGVWYWx1ZSA9IDI7XG5jb25zdCBlbXB0eVNlZ21lbnRWYWx1ZSA9IDE7XG5jb25zdCBzdGF0aWNTZWdtZW50VmFsdWUgPSAxMDtcbmNvbnN0IHNwbGF0UGVuYWx0eSA9IC0yO1xuY29uc3QgaXNTcGxhdCA9IChzOiBzdHJpbmcpID0+IHMgPT09IFwiKlwiO1xuXG5mdW5jdGlvbiBjb21wdXRlU2NvcmUocGF0aDogc3RyaW5nLCBpbmRleDogYm9vbGVhbiB8IHVuZGVmaW5lZCk6IG51bWJlciB7XG4gIGxldCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBsZXQgaW5pdGlhbFNjb3JlID0gc2VnbWVudHMubGVuZ3RoO1xuICBpZiAoc2VnbWVudHMuc29tZShpc1NwbGF0KSkge1xuICAgIGluaXRpYWxTY29yZSArPSBzcGxhdFBlbmFsdHk7XG4gIH1cblxuICBpZiAoaW5kZXgpIHtcbiAgICBpbml0aWFsU2NvcmUgKz0gaW5kZXhSb3V0ZVZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHNlZ21lbnRzXG4gICAgLmZpbHRlcigocykgPT4gIWlzU3BsYXQocykpXG4gICAgLnJlZHVjZShcbiAgICAgIChzY29yZSwgc2VnbWVudCkgPT5cbiAgICAgICAgc2NvcmUgK1xuICAgICAgICAocGFyYW1SZS50ZXN0KHNlZ21lbnQpXG4gICAgICAgICAgPyBkeW5hbWljU2VnbWVudFZhbHVlXG4gICAgICAgICAgOiBzZWdtZW50ID09PSBcIlwiXG4gICAgICAgICAgPyBlbXB0eVNlZ21lbnRWYWx1ZVxuICAgICAgICAgIDogc3RhdGljU2VnbWVudFZhbHVlKSxcbiAgICAgIGluaXRpYWxTY29yZVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVJbmRleGVzKGE6IG51bWJlcltdLCBiOiBudW1iZXJbXSk6IG51bWJlciB7XG4gIGxldCBzaWJsaW5ncyA9XG4gICAgYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuc2xpY2UoMCwgLTEpLmV2ZXJ5KChuLCBpKSA9PiBuID09PSBiW2ldKTtcblxuICByZXR1cm4gc2libGluZ3NcbiAgICA/IC8vIElmIHR3byByb3V0ZXMgYXJlIHNpYmxpbmdzLCB3ZSBzaG91bGQgdHJ5IHRvIG1hdGNoIHRoZSBlYXJsaWVyIHNpYmxpbmdcbiAgICAgIC8vIGZpcnN0LiBUaGlzIGFsbG93cyBwZW9wbGUgdG8gaGF2ZSBmaW5lLWdyYWluZWQgY29udHJvbCBvdmVyIHRoZSBtYXRjaGluZ1xuICAgICAgLy8gYmVoYXZpb3IgYnkgc2ltcGx5IHB1dHRpbmcgcm91dGVzIHdpdGggaWRlbnRpY2FsIHBhdGhzIGluIHRoZSBvcmRlciB0aGV5XG4gICAgICAvLyB3YW50IHRoZW0gdHJpZWQuXG4gICAgICBhW2EubGVuZ3RoIC0gMV0gLSBiW2IubGVuZ3RoIC0gMV1cbiAgICA6IC8vIE90aGVyd2lzZSwgaXQgZG9lc24ndCByZWFsbHkgbWFrZSBzZW5zZSB0byByYW5rIG5vbi1zaWJsaW5ncyBieSBpbmRleCxcbiAgICAgIC8vIHNvIHRoZXkgc29ydCBlcXVhbGx5LlxuICAgICAgMDtcbn1cblxuZnVuY3Rpb24gbWF0Y2hSb3V0ZUJyYW5jaDxcbiAgUGFyYW1LZXkgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG4gIFJvdXRlT2JqZWN0VHlwZSBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3QgPSBBZ25vc3RpY1JvdXRlT2JqZWN0XG4+KFxuICBicmFuY2g6IFJvdXRlQnJhbmNoPFJvdXRlT2JqZWN0VHlwZT4sXG4gIHBhdGhuYW1lOiBzdHJpbmcsXG4gIGFsbG93UGFydGlhbCA9IGZhbHNlXG4pOiBBZ25vc3RpY1JvdXRlTWF0Y2g8UGFyYW1LZXksIFJvdXRlT2JqZWN0VHlwZT5bXSB8IG51bGwge1xuICBsZXQgeyByb3V0ZXNNZXRhIH0gPSBicmFuY2g7XG5cbiAgbGV0IG1hdGNoZWRQYXJhbXMgPSB7fTtcbiAgbGV0IG1hdGNoZWRQYXRobmFtZSA9IFwiL1wiO1xuICBsZXQgbWF0Y2hlczogQWdub3N0aWNSb3V0ZU1hdGNoPFBhcmFtS2V5LCBSb3V0ZU9iamVjdFR5cGU+W10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3V0ZXNNZXRhLmxlbmd0aDsgKytpKSB7XG4gICAgbGV0IG1ldGEgPSByb3V0ZXNNZXRhW2ldO1xuICAgIGxldCBlbmQgPSBpID09PSByb3V0ZXNNZXRhLmxlbmd0aCAtIDE7XG4gICAgbGV0IHJlbWFpbmluZ1BhdGhuYW1lID1cbiAgICAgIG1hdGNoZWRQYXRobmFtZSA9PT0gXCIvXCJcbiAgICAgICAgPyBwYXRobmFtZVxuICAgICAgICA6IHBhdGhuYW1lLnNsaWNlKG1hdGNoZWRQYXRobmFtZS5sZW5ndGgpIHx8IFwiL1wiO1xuICAgIGxldCBtYXRjaCA9IG1hdGNoUGF0aChcbiAgICAgIHsgcGF0aDogbWV0YS5yZWxhdGl2ZVBhdGgsIGNhc2VTZW5zaXRpdmU6IG1ldGEuY2FzZVNlbnNpdGl2ZSwgZW5kIH0sXG4gICAgICByZW1haW5pbmdQYXRobmFtZVxuICAgICk7XG5cbiAgICBsZXQgcm91dGUgPSBtZXRhLnJvdXRlO1xuXG4gICAgaWYgKFxuICAgICAgIW1hdGNoICYmXG4gICAgICBlbmQgJiZcbiAgICAgIGFsbG93UGFydGlhbCAmJlxuICAgICAgIXJvdXRlc01ldGFbcm91dGVzTWV0YS5sZW5ndGggLSAxXS5yb3V0ZS5pbmRleFxuICAgICkge1xuICAgICAgbWF0Y2ggPSBtYXRjaFBhdGgoXG4gICAgICAgIHtcbiAgICAgICAgICBwYXRoOiBtZXRhLnJlbGF0aXZlUGF0aCxcbiAgICAgICAgICBjYXNlU2Vuc2l0aXZlOiBtZXRhLmNhc2VTZW5zaXRpdmUsXG4gICAgICAgICAgZW5kOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVtYWluaW5nUGF0aG5hbWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbihtYXRjaGVkUGFyYW1zLCBtYXRjaC5wYXJhbXMpO1xuXG4gICAgbWF0Y2hlcy5wdXNoKHtcbiAgICAgIC8vIFRPRE86IENhbiB0aGlzIGFzIGJlIGF2b2lkZWQ/XG4gICAgICBwYXJhbXM6IG1hdGNoZWRQYXJhbXMgYXMgUGFyYW1zPFBhcmFtS2V5PixcbiAgICAgIHBhdGhuYW1lOiBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVdKSxcbiAgICAgIHBhdGhuYW1lQmFzZTogbm9ybWFsaXplUGF0aG5hbWUoXG4gICAgICAgIGpvaW5QYXRocyhbbWF0Y2hlZFBhdGhuYW1lLCBtYXRjaC5wYXRobmFtZUJhc2VdKVxuICAgICAgKSxcbiAgICAgIHJvdXRlLFxuICAgIH0pO1xuXG4gICAgaWYgKG1hdGNoLnBhdGhuYW1lQmFzZSAhPT0gXCIvXCIpIHtcbiAgICAgIG1hdGNoZWRQYXRobmFtZSA9IGpvaW5QYXRocyhbbWF0Y2hlZFBhdGhuYW1lLCBtYXRjaC5wYXRobmFtZUJhc2VdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcGF0aCB3aXRoIHBhcmFtcyBpbnRlcnBvbGF0ZWQuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91dGlscy9nZW5lcmF0ZS1wYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVBhdGg8UGF0aCBleHRlbmRzIHN0cmluZz4oXG4gIG9yaWdpbmFsUGF0aDogUGF0aCxcbiAgcGFyYW1zOiB7XG4gICAgW2tleSBpbiBQYXRoUGFyYW08UGF0aD5dOiBzdHJpbmcgfCBudWxsO1xuICB9ID0ge30gYXMgYW55XG4pOiBzdHJpbmcge1xuICBsZXQgcGF0aDogc3RyaW5nID0gb3JpZ2luYWxQYXRoO1xuICBpZiAocGF0aC5lbmRzV2l0aChcIipcIikgJiYgcGF0aCAhPT0gXCIqXCIgJiYgIXBhdGguZW5kc1dpdGgoXCIvKlwiKSkge1xuICAgIHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgIGBSb3V0ZSBwYXRoIFwiJHtwYXRofVwiIHdpbGwgYmUgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIGAgK1xuICAgICAgICBgXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIgYmVjYXVzZSB0aGUgXFxgKlxcYCBjaGFyYWN0ZXIgbXVzdCBgICtcbiAgICAgICAgYGFsd2F5cyBmb2xsb3cgYSBcXGAvXFxgIGluIHRoZSBwYXR0ZXJuLiBUbyBnZXQgcmlkIG9mIHRoaXMgd2FybmluZywgYCArXG4gICAgICAgIGBwbGVhc2UgY2hhbmdlIHRoZSByb3V0ZSBwYXRoIHRvIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiLmBcbiAgICApO1xuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpIGFzIFBhdGg7XG4gIH1cblxuICAvLyBlbnN1cmUgYC9gIGlzIGFkZGVkIGF0IHRoZSBiZWdpbm5pbmcgaWYgdGhlIHBhdGggaXMgYWJzb2x1dGVcbiAgY29uc3QgcHJlZml4ID0gcGF0aC5zdGFydHNXaXRoKFwiL1wiKSA/IFwiL1wiIDogXCJcIjtcblxuICBjb25zdCBzdHJpbmdpZnkgPSAocDogYW55KSA9PlxuICAgIHAgPT0gbnVsbCA/IFwiXCIgOiB0eXBlb2YgcCA9PT0gXCJzdHJpbmdcIiA/IHAgOiBTdHJpbmcocCk7XG5cbiAgY29uc3Qgc2VnbWVudHMgPSBwYXRoXG4gICAgLnNwbGl0KC9cXC8rLylcbiAgICAubWFwKChzZWdtZW50LCBpbmRleCwgYXJyYXkpID0+IHtcbiAgICAgIGNvbnN0IGlzTGFzdFNlZ21lbnQgPSBpbmRleCA9PT0gYXJyYXkubGVuZ3RoIC0gMTtcblxuICAgICAgLy8gb25seSBhcHBseSB0aGUgc3BsYXQgaWYgaXQncyB0aGUgbGFzdCBzZWdtZW50XG4gICAgICBpZiAoaXNMYXN0U2VnbWVudCAmJiBzZWdtZW50ID09PSBcIipcIikge1xuICAgICAgICBjb25zdCBzdGFyID0gXCIqXCIgYXMgUGF0aFBhcmFtPFBhdGg+O1xuICAgICAgICAvLyBBcHBseSB0aGUgc3BsYXRcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeShwYXJhbXNbc3Rhcl0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXlNYXRjaCA9IHNlZ21lbnQubWF0Y2goL146KFtcXHctXSspKFxcPz8pJC8pO1xuICAgICAgaWYgKGtleU1hdGNoKSB7XG4gICAgICAgIGNvbnN0IFssIGtleSwgb3B0aW9uYWxdID0ga2V5TWF0Y2g7XG4gICAgICAgIGxldCBwYXJhbSA9IHBhcmFtc1trZXkgYXMgUGF0aFBhcmFtPFBhdGg+XTtcbiAgICAgICAgaW52YXJpYW50KG9wdGlvbmFsID09PSBcIj9cIiB8fCBwYXJhbSAhPSBudWxsLCBgTWlzc2luZyBcIjoke2tleX1cIiBwYXJhbWApO1xuICAgICAgICByZXR1cm4gc3RyaW5naWZ5KHBhcmFtKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGFueSBvcHRpb25hbCBtYXJrZXJzIGZyb20gb3B0aW9uYWwgc3RhdGljIHNlZ21lbnRzXG4gICAgICByZXR1cm4gc2VnbWVudC5yZXBsYWNlKC9cXD8kL2csIFwiXCIpO1xuICAgIH0pXG4gICAgLy8gUmVtb3ZlIGVtcHR5IHNlZ21lbnRzXG4gICAgLmZpbHRlcigoc2VnbWVudCkgPT4gISFzZWdtZW50KTtcblxuICByZXR1cm4gcHJlZml4ICsgc2VnbWVudHMuam9pbihcIi9cIik7XG59XG5cbi8qKlxuICogQSBQYXRoUGF0dGVybiBpcyB1c2VkIHRvIG1hdGNoIG9uIHNvbWUgcG9ydGlvbiBvZiBhIFVSTCBwYXRobmFtZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXRoUGF0dGVybjxQYXRoIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nPiB7XG4gIC8qKlxuICAgKiBBIHN0cmluZyB0byBtYXRjaCBhZ2FpbnN0IGEgVVJMIHBhdGhuYW1lLiBNYXkgY29udGFpbiBgOmlkYC1zdHlsZSBzZWdtZW50c1xuICAgKiB0byBpbmRpY2F0ZSBwbGFjZWhvbGRlcnMgZm9yIGR5bmFtaWMgcGFyYW1ldGVycy4gTWF5IGFsc28gZW5kIHdpdGggYC8qYCB0b1xuICAgKiBpbmRpY2F0ZSBtYXRjaGluZyB0aGUgcmVzdCBvZiB0aGUgVVJMIHBhdGhuYW1lLlxuICAgKi9cbiAgcGF0aDogUGF0aDtcbiAgLyoqXG4gICAqIFNob3VsZCBiZSBgdHJ1ZWAgaWYgdGhlIHN0YXRpYyBwb3J0aW9ucyBvZiB0aGUgYHBhdGhgIHNob3VsZCBiZSBtYXRjaGVkIGluXG4gICAqIHRoZSBzYW1lIGNhc2UuXG4gICAqL1xuICBjYXNlU2Vuc2l0aXZlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFNob3VsZCBiZSBgdHJ1ZWAgaWYgdGhpcyBwYXR0ZXJuIHNob3VsZCBtYXRjaCB0aGUgZW50aXJlIFVSTCBwYXRobmFtZS5cbiAgICovXG4gIGVuZD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQSBQYXRoTWF0Y2ggY29udGFpbnMgaW5mbyBhYm91dCBob3cgYSBQYXRoUGF0dGVybiBtYXRjaGVkIG9uIGEgVVJMIHBhdGhuYW1lLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhdGhNYXRjaDxQYXJhbUtleSBleHRlbmRzIHN0cmluZyA9IHN0cmluZz4ge1xuICAvKipcbiAgICogVGhlIG5hbWVzIGFuZCB2YWx1ZXMgb2YgZHluYW1pYyBwYXJhbWV0ZXJzIGluIHRoZSBVUkwuXG4gICAqL1xuICBwYXJhbXM6IFBhcmFtczxQYXJhbUtleT47XG4gIC8qKlxuICAgKiBUaGUgcG9ydGlvbiBvZiB0aGUgVVJMIHBhdGhuYW1lIHRoYXQgd2FzIG1hdGNoZWQuXG4gICAqL1xuICBwYXRobmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHBvcnRpb24gb2YgdGhlIFVSTCBwYXRobmFtZSB0aGF0IHdhcyBtYXRjaGVkIGJlZm9yZSBjaGlsZCByb3V0ZXMuXG4gICAqL1xuICBwYXRobmFtZUJhc2U6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBwYXR0ZXJuIHRoYXQgd2FzIHVzZWQgdG8gbWF0Y2guXG4gICAqL1xuICBwYXR0ZXJuOiBQYXRoUGF0dGVybjtcbn1cblxudHlwZSBNdXRhYmxlPFQ+ID0ge1xuICAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IFRbUF07XG59O1xuXG4vKipcbiAqIFBlcmZvcm1zIHBhdHRlcm4gbWF0Y2hpbmcgb24gYSBVUkwgcGF0aG5hbWUgYW5kIHJldHVybnMgaW5mb3JtYXRpb24gYWJvdXRcbiAqIHRoZSBtYXRjaC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3V0aWxzL21hdGNoLXBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoUGF0aDxcbiAgUGFyYW1LZXkgZXh0ZW5kcyBQYXJhbVBhcnNlS2V5PFBhdGg+LFxuICBQYXRoIGV4dGVuZHMgc3RyaW5nXG4+KFxuICBwYXR0ZXJuOiBQYXRoUGF0dGVybjxQYXRoPiB8IFBhdGgsXG4gIHBhdGhuYW1lOiBzdHJpbmdcbik6IFBhdGhNYXRjaDxQYXJhbUtleT4gfCBudWxsIHtcbiAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSBcInN0cmluZ1wiKSB7XG4gICAgcGF0dGVybiA9IHsgcGF0aDogcGF0dGVybiwgY2FzZVNlbnNpdGl2ZTogZmFsc2UsIGVuZDogdHJ1ZSB9O1xuICB9XG5cbiAgbGV0IFttYXRjaGVyLCBjb21waWxlZFBhcmFtc10gPSBjb21waWxlUGF0aChcbiAgICBwYXR0ZXJuLnBhdGgsXG4gICAgcGF0dGVybi5jYXNlU2Vuc2l0aXZlLFxuICAgIHBhdHRlcm4uZW5kXG4gICk7XG5cbiAgbGV0IG1hdGNoID0gcGF0aG5hbWUubWF0Y2gobWF0Y2hlcik7XG4gIGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xuXG4gIGxldCBtYXRjaGVkUGF0aG5hbWUgPSBtYXRjaFswXTtcbiAgbGV0IHBhdGhuYW1lQmFzZSA9IG1hdGNoZWRQYXRobmFtZS5yZXBsYWNlKC8oLilcXC8rJC8sIFwiJDFcIik7XG4gIGxldCBjYXB0dXJlR3JvdXBzID0gbWF0Y2guc2xpY2UoMSk7XG4gIGxldCBwYXJhbXM6IFBhcmFtcyA9IGNvbXBpbGVkUGFyYW1zLnJlZHVjZTxNdXRhYmxlPFBhcmFtcz4+KFxuICAgIChtZW1vLCB7IHBhcmFtTmFtZSwgaXNPcHRpb25hbCB9LCBpbmRleCkgPT4ge1xuICAgICAgLy8gV2UgbmVlZCB0byBjb21wdXRlIHRoZSBwYXRobmFtZUJhc2UgaGVyZSB1c2luZyB0aGUgcmF3IHNwbGF0IHZhbHVlXG4gICAgICAvLyBpbnN0ZWFkIG9mIHVzaW5nIHBhcmFtc1tcIipcIl0gbGF0ZXIgYmVjYXVzZSBpdCB3aWxsIGJlIGRlY29kZWQgdGhlblxuICAgICAgaWYgKHBhcmFtTmFtZSA9PT0gXCIqXCIpIHtcbiAgICAgICAgbGV0IHNwbGF0VmFsdWUgPSBjYXB0dXJlR3JvdXBzW2luZGV4XSB8fCBcIlwiO1xuICAgICAgICBwYXRobmFtZUJhc2UgPSBtYXRjaGVkUGF0aG5hbWVcbiAgICAgICAgICAuc2xpY2UoMCwgbWF0Y2hlZFBhdGhuYW1lLmxlbmd0aCAtIHNwbGF0VmFsdWUubGVuZ3RoKVxuICAgICAgICAgIC5yZXBsYWNlKC8oLilcXC8rJC8sIFwiJDFcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZhbHVlID0gY2FwdHVyZUdyb3Vwc1tpbmRleF07XG4gICAgICBpZiAoaXNPcHRpb25hbCAmJiAhdmFsdWUpIHtcbiAgICAgICAgbWVtb1twYXJhbU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVtb1twYXJhbU5hbWVdID0gKHZhbHVlIHx8IFwiXCIpLnJlcGxhY2UoLyUyRi9nLCBcIi9cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9LFxuICAgIHt9XG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXJhbXMsXG4gICAgcGF0aG5hbWU6IG1hdGNoZWRQYXRobmFtZSxcbiAgICBwYXRobmFtZUJhc2UsXG4gICAgcGF0dGVybixcbiAgfTtcbn1cblxudHlwZSBDb21waWxlZFBhdGhQYXJhbSA9IHsgcGFyYW1OYW1lOiBzdHJpbmc7IGlzT3B0aW9uYWw/OiBib29sZWFuIH07XG5cbmZ1bmN0aW9uIGNvbXBpbGVQYXRoKFxuICBwYXRoOiBzdHJpbmcsXG4gIGNhc2VTZW5zaXRpdmUgPSBmYWxzZSxcbiAgZW5kID0gdHJ1ZVxuKTogW1JlZ0V4cCwgQ29tcGlsZWRQYXRoUGFyYW1bXV0ge1xuICB3YXJuaW5nKFxuICAgIHBhdGggPT09IFwiKlwiIHx8ICFwYXRoLmVuZHNXaXRoKFwiKlwiKSB8fCBwYXRoLmVuZHNXaXRoKFwiLypcIiksXG4gICAgYFJvdXRlIHBhdGggXCIke3BhdGh9XCIgd2lsbCBiZSB0cmVhdGVkIGFzIGlmIGl0IHdlcmUgYCArXG4gICAgICBgXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIgYmVjYXVzZSB0aGUgXFxgKlxcYCBjaGFyYWN0ZXIgbXVzdCBgICtcbiAgICAgIGBhbHdheXMgZm9sbG93IGEgXFxgL1xcYCBpbiB0aGUgcGF0dGVybi4gVG8gZ2V0IHJpZCBvZiB0aGlzIHdhcm5pbmcsIGAgK1xuICAgICAgYHBsZWFzZSBjaGFuZ2UgdGhlIHJvdXRlIHBhdGggdG8gXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIuYFxuICApO1xuXG4gIGxldCBwYXJhbXM6IENvbXBpbGVkUGF0aFBhcmFtW10gPSBbXTtcbiAgbGV0IHJlZ2V4cFNvdXJjZSA9XG4gICAgXCJeXCIgK1xuICAgIHBhdGhcbiAgICAgIC5yZXBsYWNlKC9cXC8qXFwqPyQvLCBcIlwiKSAvLyBJZ25vcmUgdHJhaWxpbmcgLyBhbmQgLyosIHdlJ2xsIGhhbmRsZSBpdCBiZWxvd1xuICAgICAgLnJlcGxhY2UoL15cXC8qLywgXCIvXCIpIC8vIE1ha2Ugc3VyZSBpdCBoYXMgYSBsZWFkaW5nIC9cbiAgICAgIC5yZXBsYWNlKC9bXFxcXC4qK14ke318KClbXFxdXS9nLCBcIlxcXFwkJlwiKSAvLyBFc2NhcGUgc3BlY2lhbCByZWdleCBjaGFyc1xuICAgICAgLnJlcGxhY2UoXG4gICAgICAgIC9cXC86KFtcXHctXSspKFxcPyk/L2csXG4gICAgICAgIChfOiBzdHJpbmcsIHBhcmFtTmFtZTogc3RyaW5nLCBpc09wdGlvbmFsKSA9PiB7XG4gICAgICAgICAgcGFyYW1zLnB1c2goeyBwYXJhbU5hbWUsIGlzT3B0aW9uYWw6IGlzT3B0aW9uYWwgIT0gbnVsbCB9KTtcbiAgICAgICAgICByZXR1cm4gaXNPcHRpb25hbCA/IFwiLz8oW15cXFxcL10rKT9cIiA6IFwiLyhbXlxcXFwvXSspXCI7XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgaWYgKHBhdGguZW5kc1dpdGgoXCIqXCIpKSB7XG4gICAgcGFyYW1zLnB1c2goeyBwYXJhbU5hbWU6IFwiKlwiIH0pO1xuICAgIHJlZ2V4cFNvdXJjZSArPVxuICAgICAgcGF0aCA9PT0gXCIqXCIgfHwgcGF0aCA9PT0gXCIvKlwiXG4gICAgICAgID8gXCIoLiopJFwiIC8vIEFscmVhZHkgbWF0Y2hlZCB0aGUgaW5pdGlhbCAvLCBqdXN0IG1hdGNoIHRoZSByZXN0XG4gICAgICAgIDogXCIoPzpcXFxcLyguKyl8XFxcXC8qKSRcIjsgLy8gRG9uJ3QgaW5jbHVkZSB0aGUgLyBpbiBwYXJhbXNbXCIqXCJdXG4gIH0gZWxzZSBpZiAoZW5kKSB7XG4gICAgLy8gV2hlbiBtYXRjaGluZyB0byB0aGUgZW5kLCBpZ25vcmUgdHJhaWxpbmcgc2xhc2hlc1xuICAgIHJlZ2V4cFNvdXJjZSArPSBcIlxcXFwvKiRcIjtcbiAgfSBlbHNlIGlmIChwYXRoICE9PSBcIlwiICYmIHBhdGggIT09IFwiL1wiKSB7XG4gICAgLy8gSWYgb3VyIHBhdGggaXMgbm9uLWVtcHR5IGFuZCBjb250YWlucyBhbnl0aGluZyBiZXlvbmQgYW4gaW5pdGlhbCBzbGFzaCxcbiAgICAvLyB0aGVuIHdlIGhhdmUgX3NvbWVfIGZvcm0gb2YgcGF0aCBpbiBvdXIgcmVnZXgsIHNvIHdlIHNob3VsZCBleHBlY3QgdG9cbiAgICAvLyBtYXRjaCBvbmx5IGlmIHdlIGZpbmQgdGhlIGVuZCBvZiB0aGlzIHBhdGggc2VnbWVudC4gIExvb2sgZm9yIGFuIG9wdGlvbmFsXG4gICAgLy8gbm9uLWNhcHR1cmVkIHRyYWlsaW5nIHNsYXNoICh0byBtYXRjaCBhIHBvcnRpb24gb2YgdGhlIFVSTCkgb3IgdGhlIGVuZFxuICAgIC8vIG9mIHRoZSBwYXRoIChpZiB3ZSd2ZSBtYXRjaGVkIHRvIHRoZSBlbmQpLiAgV2UgdXNlZCB0byBkbyB0aGlzIHdpdGggYVxuICAgIC8vIHdvcmQgYm91bmRhcnkgYnV0IHRoYXQgZ2l2ZXMgZmFsc2UgcG9zaXRpdmVzIG9uIHJvdXRlcyBsaWtlXG4gICAgLy8gL3VzZXItcHJlZmVyZW5jZXMgc2luY2UgYC1gIGNvdW50cyBhcyBhIHdvcmQgYm91bmRhcnkuXG4gICAgcmVnZXhwU291cmNlICs9IFwiKD86KD89XFxcXC98JCkpXCI7XG4gIH0gZWxzZSB7XG4gICAgLy8gTm90aGluZyB0byBtYXRjaCBmb3IgXCJcIiBvciBcIi9cIlxuICB9XG5cbiAgbGV0IG1hdGNoZXIgPSBuZXcgUmVnRXhwKHJlZ2V4cFNvdXJjZSwgY2FzZVNlbnNpdGl2ZSA/IHVuZGVmaW5lZCA6IFwiaVwiKTtcblxuICByZXR1cm4gW21hdGNoZXIsIHBhcmFtc107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVQYXRoKHZhbHVlOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdmFsdWVcbiAgICAgIC5zcGxpdChcIi9cIilcbiAgICAgIC5tYXAoKHYpID0+IGRlY29kZVVSSUNvbXBvbmVudCh2KS5yZXBsYWNlKC9cXC8vZywgXCIlMkZcIikpXG4gICAgICAuam9pbihcIi9cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgYFRoZSBVUkwgcGF0aCBcIiR7dmFsdWV9XCIgY291bGQgbm90IGJlIGRlY29kZWQgYmVjYXVzZSBpdCBpcyBpcyBhIGAgK1xuICAgICAgICBgbWFsZm9ybWVkIFVSTCBzZWdtZW50LiBUaGlzIGlzIHByb2JhYmx5IGR1ZSB0byBhIGJhZCBwZXJjZW50IGAgK1xuICAgICAgICBgZW5jb2RpbmcgKCR7ZXJyb3J9KS5gXG4gICAgKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcEJhc2VuYW1lKFxuICBwYXRobmFtZTogc3RyaW5nLFxuICBiYXNlbmFtZTogc3RyaW5nXG4pOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKGJhc2VuYW1lID09PSBcIi9cIikgcmV0dXJuIHBhdGhuYW1lO1xuXG4gIGlmICghcGF0aG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGJhc2VuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBXZSB3YW50IHRvIGxlYXZlIHRyYWlsaW5nIHNsYXNoIGJlaGF2aW9yIGluIHRoZSB1c2VyJ3MgY29udHJvbCwgc28gaWYgdGhleVxuICAvLyBzcGVjaWZ5IGEgYmFzZW5hbWUgd2l0aCBhIHRyYWlsaW5nIHNsYXNoLCB3ZSBzaG91bGQgc3VwcG9ydCBpdFxuICBsZXQgc3RhcnRJbmRleCA9IGJhc2VuYW1lLmVuZHNXaXRoKFwiL1wiKVxuICAgID8gYmFzZW5hbWUubGVuZ3RoIC0gMVxuICAgIDogYmFzZW5hbWUubGVuZ3RoO1xuICBsZXQgbmV4dENoYXIgPSBwYXRobmFtZS5jaGFyQXQoc3RhcnRJbmRleCk7XG4gIGlmIChuZXh0Q2hhciAmJiBuZXh0Q2hhciAhPT0gXCIvXCIpIHtcbiAgICAvLyBwYXRobmFtZSBkb2VzIG5vdCBzdGFydCB3aXRoIGJhc2VuYW1lL1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHBhdGhuYW1lLnNsaWNlKHN0YXJ0SW5kZXgpIHx8IFwiL1wiO1xufVxuXG5jb25zdCBBQlNPTFVURV9VUkxfUkVHRVggPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG5leHBvcnQgY29uc3QgaXNBYnNvbHV0ZVVybCA9ICh1cmw6IHN0cmluZykgPT4gQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QodXJsKTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcmVzb2x2ZWQgcGF0aCBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGdpdmVuIHBhdGhuYW1lLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXRpbHMvcmVzb2x2ZS1wYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUGF0aCh0bzogVG8sIGZyb21QYXRobmFtZSA9IFwiL1wiKTogUGF0aCB7XG4gIGxldCB7XG4gICAgcGF0aG5hbWU6IHRvUGF0aG5hbWUsXG4gICAgc2VhcmNoID0gXCJcIixcbiAgICBoYXNoID0gXCJcIixcbiAgfSA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aCh0bykgOiB0bztcblxuICBsZXQgcGF0aG5hbWU6IHN0cmluZztcbiAgaWYgKHRvUGF0aG5hbWUpIHtcbiAgICBpZiAoaXNBYnNvbHV0ZVVybCh0b1BhdGhuYW1lKSkge1xuICAgICAgcGF0aG5hbWUgPSB0b1BhdGhuYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodG9QYXRobmFtZS5pbmNsdWRlcyhcIi8vXCIpKSB7XG4gICAgICAgIGxldCBvbGRQYXRobmFtZSA9IHRvUGF0aG5hbWU7XG4gICAgICAgIHRvUGF0aG5hbWUgPSB0b1BhdGhuYW1lLnJlcGxhY2UoL1xcL1xcLysvZywgXCIvXCIpO1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIGBQYXRobmFtZXMgY2Fubm90IGhhdmUgZW1iZWRkZWQgZG91YmxlIHNsYXNoZXMgLSBub3JtYWxpemluZyBgICtcbiAgICAgICAgICAgIGAke29sZFBhdGhuYW1lfSAtPiAke3RvUGF0aG5hbWV9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHRvUGF0aG5hbWUuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgcGF0aG5hbWUgPSByZXNvbHZlUGF0aG5hbWUodG9QYXRobmFtZS5zdWJzdHJpbmcoMSksIFwiL1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGhuYW1lID0gcmVzb2x2ZVBhdGhuYW1lKHRvUGF0aG5hbWUsIGZyb21QYXRobmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBhdGhuYW1lID0gZnJvbVBhdGhuYW1lO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZSxcbiAgICBzZWFyY2g6IG5vcm1hbGl6ZVNlYXJjaChzZWFyY2gpLFxuICAgIGhhc2g6IG5vcm1hbGl6ZUhhc2goaGFzaCksXG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZShyZWxhdGl2ZVBhdGg6IHN0cmluZywgZnJvbVBhdGhuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICBsZXQgc2VnbWVudHMgPSBmcm9tUGF0aG5hbWUucmVwbGFjZSgvXFwvKyQvLCBcIlwiKS5zcGxpdChcIi9cIik7XG4gIGxldCByZWxhdGl2ZVNlZ21lbnRzID0gcmVsYXRpdmVQYXRoLnNwbGl0KFwiL1wiKTtcblxuICByZWxhdGl2ZVNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQpID0+IHtcbiAgICBpZiAoc2VnbWVudCA9PT0gXCIuLlwiKSB7XG4gICAgICAvLyBLZWVwIHRoZSByb290IFwiXCIgc2VnbWVudCBzbyB0aGUgcGF0aG5hbWUgc3RhcnRzIGF0IC9cbiAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAxKSBzZWdtZW50cy5wb3AoKTtcbiAgICB9IGVsc2UgaWYgKHNlZ21lbnQgIT09IFwiLlwiKSB7XG4gICAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHNlZ21lbnRzLmxlbmd0aCA+IDEgPyBzZWdtZW50cy5qb2luKFwiL1wiKSA6IFwiL1wiO1xufVxuXG5mdW5jdGlvbiBnZXRJbnZhbGlkUGF0aEVycm9yKFxuICBjaGFyOiBzdHJpbmcsXG4gIGZpZWxkOiBzdHJpbmcsXG4gIGRlc3Q6IHN0cmluZyxcbiAgcGF0aDogUGFydGlhbDxQYXRoPlxuKSB7XG4gIHJldHVybiAoXG4gICAgYENhbm5vdCBpbmNsdWRlIGEgJyR7Y2hhcn0nIGNoYXJhY3RlciBpbiBhIG1hbnVhbGx5IHNwZWNpZmllZCBgICtcbiAgICBgXFxgdG8uJHtmaWVsZH1cXGAgZmllbGQgWyR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICBwYXRoXG4gICAgKX1dLiAgUGxlYXNlIHNlcGFyYXRlIGl0IG91dCB0byB0aGUgYCArXG4gICAgYFxcYHRvLiR7ZGVzdH1cXGAgZmllbGQuIEFsdGVybmF0aXZlbHkgeW91IG1heSBwcm92aWRlIHRoZSBmdWxsIHBhdGggYXMgYCArXG4gICAgYGEgc3RyaW5nIGluIDxMaW5rIHRvPVwiLi4uXCI+IGFuZCB0aGUgcm91dGVyIHdpbGwgcGFyc2UgaXQgZm9yIHlvdS5gXG4gICk7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBXaGVuIHByb2Nlc3NpbmcgcmVsYXRpdmUgbmF2aWdhdGlvbiB3ZSB3YW50IHRvIGlnbm9yZSBhbmNlc3RvciByb3V0ZXMgdGhhdFxuICogZG8gbm90IGNvbnRyaWJ1dGUgdG8gdGhlIHBhdGgsIHN1Y2ggdGhhdCBpbmRleC9wYXRobGVzcyBsYXlvdXQgcm91dGVzIGRvbid0XG4gKiBpbnRlcmZlcmUuXG4gKlxuICogRm9yIGV4YW1wbGUsIHdoZW4gbW92aW5nIGEgcm91dGUgZWxlbWVudCBpbnRvIGFuIGluZGV4IHJvdXRlIGFuZC9vciBhXG4gKiBwYXRobGVzcyBsYXlvdXQgcm91dGUsIHJlbGF0aXZlIGxpbmsgYmVoYXZpb3IgY29udGFpbmVkIHdpdGhpbiBzaG91bGQgc3RheVxuICogdGhlIHNhbWUuICBCb3RoIG9mIHRoZSBmb2xsb3dpbmcgZXhhbXBsZXMgc2hvdWxkIGxpbmsgYmFjayB0byB0aGUgcm9vdDpcbiAqXG4gKiAgIDxSb3V0ZSBwYXRoPVwiL1wiPlxuICogICAgIDxSb3V0ZSBwYXRoPVwiYWNjb3VudHNcIiBlbGVtZW50PXs8TGluayB0bz1cIi4uXCJ9PlxuICogICA8L1JvdXRlPlxuICpcbiAqICAgPFJvdXRlIHBhdGg9XCIvXCI+XG4gKiAgICAgPFJvdXRlIHBhdGg9XCJhY2NvdW50c1wiPlxuICogICAgICAgPFJvdXRlIGVsZW1lbnQ9ezxBY2NvdW50c0xheW91dCAvPn0+ICAgICAgIC8vIDwtLSBEb2VzIG5vdCBjb250cmlidXRlXG4gKiAgICAgICAgIDxSb3V0ZSBpbmRleCBlbGVtZW50PXs8TGluayB0bz1cIi4uXCJ9IC8+ICAvLyA8LS0gRG9lcyBub3QgY29udHJpYnV0ZVxuICogICAgICAgPC9Sb3V0ZVxuICogICAgIDwvUm91dGU+XG4gKiAgIDwvUm91dGU+XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlczxcbiAgVCBleHRlbmRzIEFnbm9zdGljUm91dGVNYXRjaCA9IEFnbm9zdGljUm91dGVNYXRjaFxuPihtYXRjaGVzOiBUW10pIHtcbiAgcmV0dXJuIG1hdGNoZXMuZmlsdGVyKFxuICAgIChtYXRjaCwgaW5kZXgpID0+XG4gICAgICBpbmRleCA9PT0gMCB8fCAobWF0Y2gucm91dGUucGF0aCAmJiBtYXRjaC5yb3V0ZS5wYXRoLmxlbmd0aCA+IDApXG4gICk7XG59XG5cbi8vIFJldHVybiB0aGUgYXJyYXkgb2YgcGF0aG5hbWVzIGZvciB0aGUgY3VycmVudCByb3V0ZSBtYXRjaGVzIC0gdXNlZCB0b1xuLy8gZ2VuZXJhdGUgdGhlIHJvdXRlUGF0aG5hbWVzIGlucHV0IGZvciByZXNvbHZlVG8oKVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc29sdmVUb01hdGNoZXM8XG4gIFQgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlTWF0Y2ggPSBBZ25vc3RpY1JvdXRlTWF0Y2hcbj4obWF0Y2hlczogVFtdLCB2N19yZWxhdGl2ZVNwbGF0UGF0aDogYm9vbGVhbikge1xuICBsZXQgcGF0aE1hdGNoZXMgPSBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlcyhtYXRjaGVzKTtcblxuICAvLyBXaGVuIHY3X3JlbGF0aXZlU3BsYXRQYXRoIGlzIGVuYWJsZWQsIHVzZSB0aGUgZnVsbCBwYXRobmFtZSBmb3IgdGhlIGxlYWZcbiAgLy8gbWF0Y2ggc28gd2UgaW5jbHVkZSBzcGxhdCB2YWx1ZXMgZm9yIFwiLlwiIGxpbmtzLiAgU2VlOlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL3JlYWN0LXJvdXRlci9pc3N1ZXMvMTEwNTIjaXNzdWVjb21tZW50LTE4MzY1ODkzMjlcbiAgaWYgKHY3X3JlbGF0aXZlU3BsYXRQYXRoKSB7XG4gICAgcmV0dXJuIHBhdGhNYXRjaGVzLm1hcCgobWF0Y2gsIGlkeCkgPT5cbiAgICAgIGlkeCA9PT0gcGF0aE1hdGNoZXMubGVuZ3RoIC0gMSA/IG1hdGNoLnBhdGhuYW1lIDogbWF0Y2gucGF0aG5hbWVCYXNlXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwYXRoTWF0Y2hlcy5tYXAoKG1hdGNoKSA9PiBtYXRjaC5wYXRobmFtZUJhc2UpO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlVG8oXG4gIHRvQXJnOiBUbyxcbiAgcm91dGVQYXRobmFtZXM6IHN0cmluZ1tdLFxuICBsb2NhdGlvblBhdGhuYW1lOiBzdHJpbmcsXG4gIGlzUGF0aFJlbGF0aXZlID0gZmFsc2Vcbik6IFBhdGgge1xuICBsZXQgdG86IFBhcnRpYWw8UGF0aD47XG4gIGlmICh0eXBlb2YgdG9BcmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0byA9IHBhcnNlUGF0aCh0b0FyZyk7XG4gIH0gZWxzZSB7XG4gICAgdG8gPSB7IC4uLnRvQXJnIH07XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdG8ucGF0aG5hbWUgfHwgIXRvLnBhdGhuYW1lLmluY2x1ZGVzKFwiP1wiKSxcbiAgICAgIGdldEludmFsaWRQYXRoRXJyb3IoXCI/XCIsIFwicGF0aG5hbWVcIiwgXCJzZWFyY2hcIiwgdG8pXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdG8ucGF0aG5hbWUgfHwgIXRvLnBhdGhuYW1lLmluY2x1ZGVzKFwiI1wiKSxcbiAgICAgIGdldEludmFsaWRQYXRoRXJyb3IoXCIjXCIsIFwicGF0aG5hbWVcIiwgXCJoYXNoXCIsIHRvKVxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRvLnNlYXJjaCB8fCAhdG8uc2VhcmNoLmluY2x1ZGVzKFwiI1wiKSxcbiAgICAgIGdldEludmFsaWRQYXRoRXJyb3IoXCIjXCIsIFwic2VhcmNoXCIsIFwiaGFzaFwiLCB0bylcbiAgICApO1xuICB9XG5cbiAgbGV0IGlzRW1wdHlQYXRoID0gdG9BcmcgPT09IFwiXCIgfHwgdG8ucGF0aG5hbWUgPT09IFwiXCI7XG4gIGxldCB0b1BhdGhuYW1lID0gaXNFbXB0eVBhdGggPyBcIi9cIiA6IHRvLnBhdGhuYW1lO1xuXG4gIGxldCBmcm9tOiBzdHJpbmc7XG5cbiAgLy8gUm91dGluZyBpcyByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBwYXRobmFtZSBpZiBleHBsaWNpdGx5IHJlcXVlc3RlZC5cbiAgLy9cbiAgLy8gSWYgYSBwYXRobmFtZSBpcyBleHBsaWNpdGx5IHByb3ZpZGVkIGluIGB0b2AsIGl0IHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGVcbiAgLy8gcm91dGUgY29udGV4dC4gVGhpcyBpcyBleHBsYWluZWQgaW4gYE5vdGUgb24gYDxMaW5rIHRvPmAgdmFsdWVzYCBpbiBvdXJcbiAgLy8gbWlncmF0aW9uIGd1aWRlIGZyb20gdjUgYXMgYSBtZWFucyBvZiBkaXNhbWJpZ3VhdGlvbiBiZXR3ZWVuIGB0b2AgdmFsdWVzXG4gIC8vIHRoYXQgYmVnaW4gd2l0aCBgL2AgYW5kIHRob3NlIHRoYXQgZG8gbm90LiBIb3dldmVyLCB0aGlzIGlzIHByb2JsZW1hdGljIGZvclxuICAvLyBgdG9gIHZhbHVlcyB0aGF0IGRvIG5vdCBwcm92aWRlIGEgcGF0aG5hbWUuIGB0b2AgY2FuIHNpbXBseSBiZSBhIHNlYXJjaCBvclxuICAvLyBoYXNoIHN0cmluZywgaW4gd2hpY2ggY2FzZSB3ZSBzaG91bGQgYXNzdW1lIHRoYXQgdGhlIG5hdmlnYXRpb24gaXMgcmVsYXRpdmVcbiAgLy8gdG8gdGhlIGN1cnJlbnQgbG9jYXRpb24ncyBwYXRobmFtZSBhbmQgKm5vdCogdGhlIHJvdXRlIHBhdGhuYW1lLlxuICBpZiAodG9QYXRobmFtZSA9PSBudWxsKSB7XG4gICAgZnJvbSA9IGxvY2F0aW9uUGF0aG5hbWU7XG4gIH0gZWxzZSB7XG4gICAgbGV0IHJvdXRlUGF0aG5hbWVJbmRleCA9IHJvdXRlUGF0aG5hbWVzLmxlbmd0aCAtIDE7XG5cbiAgICAvLyBXaXRoIHJlbGF0aXZlPVwicm91dGVcIiAodGhlIGRlZmF1bHQpLCBlYWNoIGxlYWRpbmcgLi4gc2VnbWVudCBtZWFuc1xuICAgIC8vIFwiZ28gdXAgb25lIHJvdXRlXCIgaW5zdGVhZCBvZiBcImdvIHVwIG9uZSBVUkwgc2VnbWVudFwiLiAgVGhpcyBpcyBhIGtleVxuICAgIC8vIGRpZmZlcmVuY2UgZnJvbSBob3cgPGEgaHJlZj4gd29ya3MgYW5kIGEgbWFqb3IgcmVhc29uIHdlIGNhbGwgdGhpcyBhXG4gICAgLy8gXCJ0b1wiIHZhbHVlIGluc3RlYWQgb2YgYSBcImhyZWZcIi5cbiAgICBpZiAoIWlzUGF0aFJlbGF0aXZlICYmIHRvUGF0aG5hbWUuc3RhcnRzV2l0aChcIi4uXCIpKSB7XG4gICAgICBsZXQgdG9TZWdtZW50cyA9IHRvUGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xuXG4gICAgICB3aGlsZSAodG9TZWdtZW50c1swXSA9PT0gXCIuLlwiKSB7XG4gICAgICAgIHRvU2VnbWVudHMuc2hpZnQoKTtcbiAgICAgICAgcm91dGVQYXRobmFtZUluZGV4IC09IDE7XG4gICAgICB9XG5cbiAgICAgIHRvLnBhdGhuYW1lID0gdG9TZWdtZW50cy5qb2luKFwiL1wiKTtcbiAgICB9XG5cbiAgICBmcm9tID0gcm91dGVQYXRobmFtZUluZGV4ID49IDAgPyByb3V0ZVBhdGhuYW1lc1tyb3V0ZVBhdGhuYW1lSW5kZXhdIDogXCIvXCI7XG4gIH1cblxuICBsZXQgcGF0aCA9IHJlc29sdmVQYXRoKHRvLCBmcm9tKTtcblxuICAvLyBFbnN1cmUgdGhlIHBhdGhuYW1lIGhhcyBhIHRyYWlsaW5nIHNsYXNoIGlmIHRoZSBvcmlnaW5hbCBcInRvXCIgaGFkIG9uZVxuICBsZXQgaGFzRXhwbGljaXRUcmFpbGluZ1NsYXNoID1cbiAgICB0b1BhdGhuYW1lICYmIHRvUGF0aG5hbWUgIT09IFwiL1wiICYmIHRvUGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpO1xuICAvLyBPciBpZiB0aGlzIHdhcyBhIGxpbmsgdG8gdGhlIGN1cnJlbnQgcGF0aCB3aGljaCBoYXMgYSB0cmFpbGluZyBzbGFzaFxuICBsZXQgaGFzQ3VycmVudFRyYWlsaW5nU2xhc2ggPVxuICAgIChpc0VtcHR5UGF0aCB8fCB0b1BhdGhuYW1lID09PSBcIi5cIikgJiYgbG9jYXRpb25QYXRobmFtZS5lbmRzV2l0aChcIi9cIik7XG4gIGlmIChcbiAgICAhcGF0aC5wYXRobmFtZS5lbmRzV2l0aChcIi9cIikgJiZcbiAgICAoaGFzRXhwbGljaXRUcmFpbGluZ1NsYXNoIHx8IGhhc0N1cnJlbnRUcmFpbGluZ1NsYXNoKVxuICApIHtcbiAgICBwYXRoLnBhdGhuYW1lICs9IFwiL1wiO1xuICB9XG5cbiAgcmV0dXJuIHBhdGg7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvUGF0aG5hbWUodG86IFRvKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgLy8gRW1wdHkgc3RyaW5ncyBzaG91bGQgYmUgdHJlYXRlZCB0aGUgc2FtZSBhcyAvIHBhdGhzXG4gIHJldHVybiB0byA9PT0gXCJcIiB8fCAodG8gYXMgUGF0aCkucGF0aG5hbWUgPT09IFwiXCJcbiAgICA/IFwiL1wiXG4gICAgOiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCJcbiAgICA/IHBhcnNlUGF0aCh0bykucGF0aG5hbWVcbiAgICA6IHRvLnBhdGhuYW1lO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBqb2luUGF0aHMgPSAocGF0aHM6IHN0cmluZ1tdKTogc3RyaW5nID0+XG4gIHBhdGhzLmpvaW4oXCIvXCIpLnJlcGxhY2UoL1xcL1xcLysvZywgXCIvXCIpO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBub3JtYWxpemVQYXRobmFtZSA9IChwYXRobmFtZTogc3RyaW5nKTogc3RyaW5nID0+XG4gIHBhdGhuYW1lLnJlcGxhY2UoL1xcLyskLywgXCJcIikucmVwbGFjZSgvXlxcLyovLCBcIi9cIik7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVNlYXJjaCA9IChzZWFyY2g6IHN0cmluZyk6IHN0cmluZyA9PlxuICAhc2VhcmNoIHx8IHNlYXJjaCA9PT0gXCI/XCJcbiAgICA/IFwiXCJcbiAgICA6IHNlYXJjaC5zdGFydHNXaXRoKFwiP1wiKVxuICAgID8gc2VhcmNoXG4gICAgOiBcIj9cIiArIHNlYXJjaDtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplSGFzaCA9IChoYXNoOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgIWhhc2ggfHwgaGFzaCA9PT0gXCIjXCIgPyBcIlwiIDogaGFzaC5zdGFydHNXaXRoKFwiI1wiKSA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XG5cbmV4cG9ydCB0eXBlIEpzb25GdW5jdGlvbiA9IDxEYXRhPihcbiAgZGF0YTogRGF0YSxcbiAgaW5pdD86IG51bWJlciB8IFJlc3BvbnNlSW5pdFxuKSA9PiBSZXNwb25zZTtcblxuLyoqXG4gKiBUaGlzIGlzIGEgc2hvcnRjdXQgZm9yIGNyZWF0aW5nIGBhcHBsaWNhdGlvbi9qc29uYCByZXNwb25zZXMuIENvbnZlcnRzIGBkYXRhYFxuICogdG8gSlNPTiBhbmQgc2V0cyB0aGUgYENvbnRlbnQtVHlwZWAgaGVhZGVyLlxuICpcbiAqIEBkZXByZWNhdGVkIFRoZSBganNvbmAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgcmV0dXJuaW5nIHJhdyBvYmplY3RzLlxuICogVGhpcyBtZXRob2Qgd2lsbCBiZSByZW1vdmVkIGluIHY3LlxuICovXG5leHBvcnQgY29uc3QganNvbjogSnNvbkZ1bmN0aW9uID0gKGRhdGEsIGluaXQgPSB7fSkgPT4ge1xuICBsZXQgcmVzcG9uc2VJbml0ID0gdHlwZW9mIGluaXQgPT09IFwibnVtYmVyXCIgPyB7IHN0YXR1czogaW5pdCB9IDogaW5pdDtcblxuICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHJlc3BvbnNlSW5pdC5oZWFkZXJzKTtcbiAgaWYgKCFoZWFkZXJzLmhhcyhcIkNvbnRlbnQtVHlwZVwiKSkge1xuICAgIGhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSksIHtcbiAgICAuLi5yZXNwb25zZUluaXQsXG4gICAgaGVhZGVycyxcbiAgfSk7XG59O1xuXG5leHBvcnQgY2xhc3MgRGF0YVdpdGhSZXNwb25zZUluaXQ8RD4ge1xuICB0eXBlOiBzdHJpbmcgPSBcIkRhdGFXaXRoUmVzcG9uc2VJbml0XCI7XG4gIGRhdGE6IEQ7XG4gIGluaXQ6IFJlc3BvbnNlSW5pdCB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogRCwgaW5pdD86IFJlc3BvbnNlSW5pdCkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5pbml0ID0gaW5pdCB8fCBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIFwicmVzcG9uc2VzXCIgdGhhdCBjb250YWluIGBzdGF0dXNgL2BoZWFkZXJzYCB3aXRob3V0IGZvcmNpbmdcbiAqIHNlcmlhbGl6YXRpb24gaW50byBhbiBhY3R1YWwgYFJlc3BvbnNlYCAtIHVzZWQgYnkgUmVtaXggc2luZ2xlIGZldGNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkYXRhPEQ+KGRhdGE6IEQsIGluaXQ/OiBudW1iZXIgfCBSZXNwb25zZUluaXQpIHtcbiAgcmV0dXJuIG5ldyBEYXRhV2l0aFJlc3BvbnNlSW5pdChcbiAgICBkYXRhLFxuICAgIHR5cGVvZiBpbml0ID09PSBcIm51bWJlclwiID8geyBzdGF0dXM6IGluaXQgfSA6IGluaXRcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUcmFja2VkUHJvbWlzZSBleHRlbmRzIFByb21pc2U8YW55PiB7XG4gIF90cmFja2VkPzogYm9vbGVhbjtcbiAgX2RhdGE/OiBhbnk7XG4gIF9lcnJvcj86IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIEFib3J0ZWREZWZlcnJlZEVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZXhwb3J0IGNsYXNzIERlZmVycmVkRGF0YSB7XG4gIHByaXZhdGUgcGVuZGluZ0tleXNTZXQ6IFNldDxzdHJpbmc+ID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gIHByaXZhdGUgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyO1xuICBwcml2YXRlIGFib3J0UHJvbWlzZTogUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSB1bmxpc3RlbkFib3J0U2lnbmFsOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHN1YnNjcmliZXJzOiBTZXQ8KGFib3J0ZWQ6IGJvb2xlYW4sIHNldHRsZWRLZXk/OiBzdHJpbmcpID0+IHZvaWQ+ID1cbiAgICBuZXcgU2V0KCk7XG4gIGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBpbml0PzogUmVzcG9uc2VJbml0O1xuICBkZWZlcnJlZEtleXM6IHN0cmluZ1tdID0gW107XG5cbiAgY29uc3RydWN0b3IoZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sIHJlc3BvbnNlSW5pdD86IFJlc3BvbnNlSW5pdCkge1xuICAgIGludmFyaWFudChcbiAgICAgIGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoZGF0YSksXG4gICAgICBcImRlZmVyKCkgb25seSBhY2NlcHRzIHBsYWluIG9iamVjdHNcIlxuICAgICk7XG5cbiAgICAvLyBTZXQgdXAgYW4gQWJvcnRDb250cm9sbGVyICsgUHJvbWlzZSB3ZSBjYW4gcmFjZSBhZ2FpbnN0IHRvIGV4aXQgZWFybHlcbiAgICAvLyBjYW5jZWxsYXRpb25cbiAgICBsZXQgcmVqZWN0OiAoZTogQWJvcnRlZERlZmVycmVkRXJyb3IpID0+IHZvaWQ7XG4gICAgdGhpcy5hYm9ydFByb21pc2UgPSBuZXcgUHJvbWlzZSgoXywgcikgPT4gKHJlamVjdCA9IHIpKTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbGV0IG9uQWJvcnQgPSAoKSA9PlxuICAgICAgcmVqZWN0KG5ldyBBYm9ydGVkRGVmZXJyZWRFcnJvcihcIkRlZmVycmVkIGRhdGEgYWJvcnRlZFwiKSk7XG4gICAgdGhpcy51bmxpc3RlbkFib3J0U2lnbmFsID0gKCkgPT5cbiAgICAgIHRoaXMuY29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnQpO1xuICAgIHRoaXMuY29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnQpO1xuXG4gICAgdGhpcy5kYXRhID0gT2JqZWN0LmVudHJpZXMoZGF0YSkucmVkdWNlKFxuICAgICAgKGFjYywgW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKGFjYywge1xuICAgICAgICAgIFtrZXldOiB0aGlzLnRyYWNrUHJvbWlzZShrZXksIHZhbHVlKSxcbiAgICAgICAgfSksXG4gICAgICB7fVxuICAgICk7XG5cbiAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAvLyBBbGwgaW5jb21pbmcgdmFsdWVzIHdlcmUgcmVzb2x2ZWRcbiAgICAgIHRoaXMudW5saXN0ZW5BYm9ydFNpZ25hbCgpO1xuICAgIH1cblxuICAgIHRoaXMuaW5pdCA9IHJlc3BvbnNlSW5pdDtcbiAgfVxuXG4gIHByaXZhdGUgdHJhY2tQcm9taXNlKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHZhbHVlOiBQcm9taXNlPHVua25vd24+IHwgdW5rbm93blxuICApOiBUcmFja2VkUHJvbWlzZSB8IHVua25vd24ge1xuICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmRlZmVycmVkS2V5cy5wdXNoKGtleSk7XG4gICAgdGhpcy5wZW5kaW5nS2V5c1NldC5hZGQoa2V5KTtcblxuICAgIC8vIFdlIHN0b3JlIGEgbGl0dGxlIHdyYXBwZXIgcHJvbWlzZSB0aGF0IHdpbGwgYmUgZXh0ZW5kZWQgd2l0aFxuICAgIC8vIF9kYXRhL19lcnJvciBwcm9wcyB1cG9uIHJlc29sdmUvcmVqZWN0XG4gICAgbGV0IHByb21pc2U6IFRyYWNrZWRQcm9taXNlID0gUHJvbWlzZS5yYWNlKFt2YWx1ZSwgdGhpcy5hYm9ydFByb21pc2VdKS50aGVuKFxuICAgICAgKGRhdGEpID0+IHRoaXMub25TZXR0bGUocHJvbWlzZSwga2V5LCB1bmRlZmluZWQsIGRhdGEgYXMgdW5rbm93biksXG4gICAgICAoZXJyb3IpID0+IHRoaXMub25TZXR0bGUocHJvbWlzZSwga2V5LCBlcnJvciBhcyB1bmtub3duKVxuICAgICk7XG5cbiAgICAvLyBSZWdpc3RlciByZWplY3Rpb24gbGlzdGVuZXJzIHRvIGF2b2lkIHVuY2F1Z2h0IHByb21pc2UgcmVqZWN0aW9ucyBvblxuICAgIC8vIGVycm9ycyBvciBhYm9ydGVkIGRlZmVycmVkIHZhbHVlc1xuICAgIHByb21pc2UuY2F0Y2goKCkgPT4ge30pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX3RyYWNrZWRcIiwgeyBnZXQ6ICgpID0+IHRydWUgfSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIG9uU2V0dGxlKFxuICAgIHByb21pc2U6IFRyYWNrZWRQcm9taXNlLFxuICAgIGtleTogc3RyaW5nLFxuICAgIGVycm9yOiB1bmtub3duLFxuICAgIGRhdGE/OiB1bmtub3duXG4gICk6IHVua25vd24ge1xuICAgIGlmIChcbiAgICAgIHRoaXMuY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCAmJlxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBBYm9ydGVkRGVmZXJyZWRFcnJvclxuICAgICkge1xuICAgICAgdGhpcy51bmxpc3RlbkFib3J0U2lnbmFsKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IGVycm9yIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICB0aGlzLnBlbmRpbmdLZXlzU2V0LmRlbGV0ZShrZXkpO1xuXG4gICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgLy8gTm90aGluZyBsZWZ0IHRvIGFib3J0IVxuICAgICAgdGhpcy51bmxpc3RlbkFib3J0U2lnbmFsKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHByb21pc2Ugd2FzIHJlc29sdmVkL3JlamVjdGVkIHdpdGggdW5kZWZpbmVkLCB3ZSdsbCB0aHJvdyBhbiBlcnJvciBhcyB5b3VcbiAgICAvLyBzaG91bGQgYWx3YXlzIHJlc29sdmUgd2l0aCBhIHZhbHVlIG9yIG51bGxcbiAgICBpZiAoZXJyb3IgPT09IHVuZGVmaW5lZCAmJiBkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCB1bmRlZmluZWRFcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgYERlZmVycmVkIGRhdGEgZm9yIGtleSBcIiR7a2V5fVwiIHJlc29sdmVkL3JlamVjdGVkIHdpdGggXFxgdW5kZWZpbmVkXFxgLCBgICtcbiAgICAgICAgICBgeW91IG11c3QgcmVzb2x2ZS9yZWplY3Qgd2l0aCBhIHZhbHVlIG9yIFxcYG51bGxcXGAuYFxuICAgICAgKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl9lcnJvclwiLCB7IGdldDogKCkgPT4gdW5kZWZpbmVkRXJyb3IgfSk7XG4gICAgICB0aGlzLmVtaXQoZmFsc2UsIGtleSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodW5kZWZpbmVkRXJyb3IpO1xuICAgIH1cblxuICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl9lcnJvclwiLCB7IGdldDogKCkgPT4gZXJyb3IgfSk7XG4gICAgICB0aGlzLmVtaXQoZmFsc2UsIGtleSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl9kYXRhXCIsIHsgZ2V0OiAoKSA9PiBkYXRhIH0pO1xuICAgIHRoaXMuZW1pdChmYWxzZSwga2V5KTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHByaXZhdGUgZW1pdChhYm9ydGVkOiBib29sZWFuLCBzZXR0bGVkS2V5Pzogc3RyaW5nKSB7XG4gICAgdGhpcy5zdWJzY3JpYmVycy5mb3JFYWNoKChzdWJzY3JpYmVyKSA9PiBzdWJzY3JpYmVyKGFib3J0ZWQsIHNldHRsZWRLZXkpKTtcbiAgfVxuXG4gIHN1YnNjcmliZShmbjogKGFib3J0ZWQ6IGJvb2xlYW4sIHNldHRsZWRLZXk/OiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgICB0aGlzLnN1YnNjcmliZXJzLmFkZChmbik7XG4gICAgcmV0dXJuICgpID0+IHRoaXMuc3Vic2NyaWJlcnMuZGVsZXRlKGZuKTtcbiAgfVxuXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB0aGlzLnBlbmRpbmdLZXlzU2V0LmZvckVhY2goKHYsIGspID0+IHRoaXMucGVuZGluZ0tleXNTZXQuZGVsZXRlKGspKTtcbiAgICB0aGlzLmVtaXQodHJ1ZSk7XG4gIH1cblxuICBhc3luYyByZXNvbHZlRGF0YShzaWduYWw6IEFib3J0U2lnbmFsKSB7XG4gICAgbGV0IGFib3J0ZWQgPSBmYWxzZTtcbiAgICBpZiAoIXRoaXMuZG9uZSkge1xuICAgICAgbGV0IG9uQWJvcnQgPSAoKSA9PiB0aGlzLmNhbmNlbCgpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvbkFib3J0KTtcbiAgICAgIGFib3J0ZWQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICB0aGlzLnN1YnNjcmliZSgoYWJvcnRlZCkgPT4ge1xuICAgICAgICAgIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG4gICAgICAgICAgaWYgKGFib3J0ZWQgfHwgdGhpcy5kb25lKSB7XG4gICAgICAgICAgICByZXNvbHZlKGFib3J0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFib3J0ZWQ7XG4gIH1cblxuICBnZXQgZG9uZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wZW5kaW5nS2V5c1NldC5zaXplID09PSAwO1xuICB9XG5cbiAgZ2V0IHVud3JhcHBlZERhdGEoKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy5kYXRhICE9PSBudWxsICYmIHRoaXMuZG9uZSxcbiAgICAgIFwiQ2FuIG9ubHkgdW53cmFwIGRhdGEgb24gaW5pdGlhbGl6ZWQgYW5kIHNldHRsZWQgZGVmZXJyZWRzXCJcbiAgICApO1xuXG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMuZGF0YSkucmVkdWNlKFxuICAgICAgKGFjYywgW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKGFjYywge1xuICAgICAgICAgIFtrZXldOiB1bndyYXBUcmFja2VkUHJvbWlzZSh2YWx1ZSksXG4gICAgICAgIH0pLFxuICAgICAge31cbiAgICApO1xuICB9XG5cbiAgZ2V0IHBlbmRpbmdLZXlzKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucGVuZGluZ0tleXNTZXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVHJhY2tlZFByb21pc2UodmFsdWU6IGFueSk6IHZhbHVlIGlzIFRyYWNrZWRQcm9taXNlIHtcbiAgcmV0dXJuIChcbiAgICB2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UgJiYgKHZhbHVlIGFzIFRyYWNrZWRQcm9taXNlKS5fdHJhY2tlZCA9PT0gdHJ1ZVxuICApO1xufVxuXG5mdW5jdGlvbiB1bndyYXBUcmFja2VkUHJvbWlzZSh2YWx1ZTogYW55KSB7XG4gIGlmICghaXNUcmFja2VkUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAodmFsdWUuX2Vycm9yKSB7XG4gICAgdGhyb3cgdmFsdWUuX2Vycm9yO1xuICB9XG4gIHJldHVybiB2YWx1ZS5fZGF0YTtcbn1cblxuZXhwb3J0IHR5cGUgRGVmZXJGdW5jdGlvbiA9IChcbiAgZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIGluaXQ/OiBudW1iZXIgfCBSZXNwb25zZUluaXRcbikgPT4gRGVmZXJyZWREYXRhO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFRoZSBgZGVmZXJgIG1ldGhvZCBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHJldHVybmluZyByYXdcbiAqIG9iamVjdHMuIFRoaXMgbWV0aG9kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2Ny5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmVyOiBEZWZlckZ1bmN0aW9uID0gKGRhdGEsIGluaXQgPSB7fSkgPT4ge1xuICBsZXQgcmVzcG9uc2VJbml0ID0gdHlwZW9mIGluaXQgPT09IFwibnVtYmVyXCIgPyB7IHN0YXR1czogaW5pdCB9IDogaW5pdDtcblxuICByZXR1cm4gbmV3IERlZmVycmVkRGF0YShkYXRhLCByZXNwb25zZUluaXQpO1xufTtcblxuZXhwb3J0IHR5cGUgUmVkaXJlY3RGdW5jdGlvbiA9IChcbiAgdXJsOiBzdHJpbmcsXG4gIGluaXQ/OiBudW1iZXIgfCBSZXNwb25zZUluaXRcbikgPT4gUmVzcG9uc2U7XG5cbi8qKlxuICogQSByZWRpcmVjdCByZXNwb25zZS4gU2V0cyB0aGUgc3RhdHVzIGNvZGUgYW5kIHRoZSBgTG9jYXRpb25gIGhlYWRlci5cbiAqIERlZmF1bHRzIHRvIFwiMzAyIEZvdW5kXCIuXG4gKi9cbmV4cG9ydCBjb25zdCByZWRpcmVjdDogUmVkaXJlY3RGdW5jdGlvbiA9ICh1cmwsIGluaXQgPSAzMDIpID0+IHtcbiAgbGV0IHJlc3BvbnNlSW5pdCA9IGluaXQ7XG4gIGlmICh0eXBlb2YgcmVzcG9uc2VJbml0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmVzcG9uc2VJbml0ID0geyBzdGF0dXM6IHJlc3BvbnNlSW5pdCB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiByZXNwb25zZUluaXQuc3RhdHVzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmVzcG9uc2VJbml0LnN0YXR1cyA9IDMwMjtcbiAgfVxuXG4gIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMocmVzcG9uc2VJbml0LmhlYWRlcnMpO1xuICBoZWFkZXJzLnNldChcIkxvY2F0aW9uXCIsIHVybCk7XG5cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgLi4ucmVzcG9uc2VJbml0LFxuICAgIGhlYWRlcnMsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBBIHJlZGlyZWN0IHJlc3BvbnNlIHRoYXQgd2lsbCBmb3JjZSBhIGRvY3VtZW50IHJlbG9hZCB0byB0aGUgbmV3IGxvY2F0aW9uLlxuICogU2V0cyB0aGUgc3RhdHVzIGNvZGUgYW5kIHRoZSBgTG9jYXRpb25gIGhlYWRlci5cbiAqIERlZmF1bHRzIHRvIFwiMzAyIEZvdW5kXCIuXG4gKi9cbmV4cG9ydCBjb25zdCByZWRpcmVjdERvY3VtZW50OiBSZWRpcmVjdEZ1bmN0aW9uID0gKHVybCwgaW5pdCkgPT4ge1xuICBsZXQgcmVzcG9uc2UgPSByZWRpcmVjdCh1cmwsIGluaXQpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldChcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIsIFwidHJ1ZVwiKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcblxuLyoqXG4gKiBBIHJlZGlyZWN0IHJlc3BvbnNlIHRoYXQgd2lsbCBwZXJmb3JtIGEgYGhpc3RvcnkucmVwbGFjZVN0YXRlYCBpbnN0ZWFkIG9mIGFcbiAqIGBoaXN0b3J5LnB1c2hTdGF0ZWAgZm9yIGNsaWVudC1zaWRlIG5hdmlnYXRpb24gcmVkaXJlY3RzLlxuICogU2V0cyB0aGUgc3RhdHVzIGNvZGUgYW5kIHRoZSBgTG9jYXRpb25gIGhlYWRlci5cbiAqIERlZmF1bHRzIHRvIFwiMzAyIEZvdW5kXCIuXG4gKi9cbmV4cG9ydCBjb25zdCByZXBsYWNlOiBSZWRpcmVjdEZ1bmN0aW9uID0gKHVybCwgaW5pdCkgPT4ge1xuICBsZXQgcmVzcG9uc2UgPSByZWRpcmVjdCh1cmwsIGluaXQpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldChcIlgtUmVtaXgtUmVwbGFjZVwiLCBcInRydWVcIik7XG4gIHJldHVybiByZXNwb25zZTtcbn07XG5cbmV4cG9ydCB0eXBlIEVycm9yUmVzcG9uc2UgPSB7XG4gIHN0YXR1czogbnVtYmVyO1xuICBzdGF0dXNUZXh0OiBzdHJpbmc7XG4gIGRhdGE6IGFueTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIFV0aWxpdHkgY2xhc3Mgd2UgdXNlIHRvIGhvbGQgYXV0by11bndyYXBwZWQgNHh4LzV4eCBSZXNwb25zZSBib2RpZXNcbiAqXG4gKiBXZSBkb24ndCBleHBvcnQgdGhlIGNsYXNzIGZvciBwdWJsaWMgdXNlIHNpbmNlIGl0J3MgYW4gaW1wbGVtZW50YXRpb25cbiAqIGRldGFpbCwgYnV0IHdlIGV4cG9ydCB0aGUgaW50ZXJmYWNlIGFib3ZlIHNvIGZvbGtzIGNhbiBidWlsZCB0aGVpciBvd25cbiAqIGFic3RyYWN0aW9ucyBhcm91bmQgaW5zdGFuY2VzIHZpYSBpc1JvdXRlRXJyb3JSZXNwb25zZSgpXG4gKi9cbmV4cG9ydCBjbGFzcyBFcnJvclJlc3BvbnNlSW1wbCBpbXBsZW1lbnRzIEVycm9yUmVzcG9uc2Uge1xuICBzdGF0dXM6IG51bWJlcjtcbiAgc3RhdHVzVGV4dDogc3RyaW5nO1xuICBkYXRhOiBhbnk7XG4gIHByaXZhdGUgZXJyb3I/OiBFcnJvcjtcbiAgcHJpdmF0ZSBpbnRlcm5hbDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzdGF0dXM6IG51bWJlcixcbiAgICBzdGF0dXNUZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgZGF0YTogYW55LFxuICAgIGludGVybmFsID0gZmFsc2VcbiAgKSB7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gc3RhdHVzVGV4dCB8fCBcIlwiO1xuICAgIHRoaXMuaW50ZXJuYWwgPSBpbnRlcm5hbDtcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhLnRvU3RyaW5nKCk7XG4gICAgICB0aGlzLmVycm9yID0gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZXJyb3IgaXMgYW4gRXJyb3JSZXNwb25zZSBnZW5lcmF0ZWQgZnJvbSBhIDR4eC81eHhcbiAqIFJlc3BvbnNlIHRocm93biBmcm9tIGFuIGFjdGlvbi9sb2FkZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yOiBhbnkpOiBlcnJvciBpcyBFcnJvclJlc3BvbnNlIHtcbiAgcmV0dXJuIChcbiAgICBlcnJvciAhPSBudWxsICYmXG4gICAgdHlwZW9mIGVycm9yLnN0YXR1cyA9PT0gXCJudW1iZXJcIiAmJlxuICAgIHR5cGVvZiBlcnJvci5zdGF0dXNUZXh0ID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGVycm9yLmludGVybmFsID09PSBcImJvb2xlYW5cIiAmJlxuICAgIFwiZGF0YVwiIGluIGVycm9yXG4gICk7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBIaXN0b3J5LCBMb2NhdGlvbiwgUGF0aCwgVG8gfSBmcm9tIFwiLi9oaXN0b3J5XCI7XG5pbXBvcnQge1xuICBBY3Rpb24gYXMgSGlzdG9yeUFjdGlvbixcbiAgY3JlYXRlTG9jYXRpb24sXG4gIGNyZWF0ZVBhdGgsXG4gIGludmFyaWFudCxcbiAgcGFyc2VQYXRoLFxuICB3YXJuaW5nLFxufSBmcm9tIFwiLi9oaXN0b3J5XCI7XG5pbXBvcnQgdHlwZSB7XG4gIEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gsXG4gIEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0LFxuICBEYXRhU3RyYXRlZ3lNYXRjaCxcbiAgQWdub3N0aWNSb3V0ZU9iamVjdCxcbiAgRGF0YVJlc3VsdCxcbiAgRGF0YVN0cmF0ZWd5RnVuY3Rpb24sXG4gIERhdGFTdHJhdGVneUZ1bmN0aW9uQXJncyxcbiAgRGVmZXJyZWREYXRhLFxuICBEZWZlcnJlZFJlc3VsdCxcbiAgRGV0ZWN0RXJyb3JCb3VuZGFyeUZ1bmN0aW9uLFxuICBFcnJvclJlc3VsdCxcbiAgRm9ybUVuY1R5cGUsXG4gIEZvcm1NZXRob2QsXG4gIEhUTUxGb3JtTWV0aG9kLFxuICBEYXRhU3RyYXRlZ3lSZXN1bHQsXG4gIEltbXV0YWJsZVJvdXRlS2V5LFxuICBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbixcbiAgTXV0YXRpb25Gb3JtTWV0aG9kLFxuICBSZWRpcmVjdFJlc3VsdCxcbiAgUm91dGVEYXRhLFxuICBSb3V0ZU1hbmlmZXN0LFxuICBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb25BcmdzLFxuICBTdWJtaXNzaW9uLFxuICBTdWNjZXNzUmVzdWx0LFxuICBVSU1hdGNoLFxuICBWN19Gb3JtTWV0aG9kLFxuICBWN19NdXRhdGlvbkZvcm1NZXRob2QsXG4gIEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbixcbiAgRGF0YVdpdGhSZXNwb25zZUluaXQsXG59IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQge1xuICBFcnJvclJlc3BvbnNlSW1wbCxcbiAgUmVzdWx0VHlwZSxcbiAgY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2gsXG4gIGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMsXG4gIGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzLFxuICBnZXRSZXNvbHZlVG9NYXRjaGVzLFxuICBpbW11dGFibGVSb3V0ZUtleXMsXG4gIGlzUm91dGVFcnJvclJlc3BvbnNlLFxuICBqb2luUGF0aHMsXG4gIG1hdGNoUm91dGVzLFxuICBtYXRjaFJvdXRlc0ltcGwsXG4gIHJlc29sdmVUbyxcbiAgc3RyaXBCYXNlbmFtZSxcbn0gZnJvbSBcIi4vdXRpbHNcIjtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vI3JlZ2lvbiBUeXBlcyBhbmQgQ29uc3RhbnRzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEEgUm91dGVyIGluc3RhbmNlIG1hbmFnZXMgYWxsIG5hdmlnYXRpb24gYW5kIGRhdGEgbG9hZGluZy9tdXRhdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb3V0ZXIge1xuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFJldHVybiB0aGUgYmFzZW5hbWUgZm9yIHRoZSByb3V0ZXJcbiAgICovXG4gIGdldCBiYXNlbmFtZSgpOiBSb3V0ZXJJbml0W1wiYmFzZW5hbWVcIl07XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBSZXR1cm4gdGhlIGZ1dHVyZSBjb25maWcgZm9yIHRoZSByb3V0ZXJcbiAgICovXG4gIGdldCBmdXR1cmUoKTogRnV0dXJlQ29uZmlnO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSByb3V0ZXJcbiAgICovXG4gIGdldCBzdGF0ZSgpOiBSb3V0ZXJTdGF0ZTtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFJldHVybiB0aGUgcm91dGVzIGZvciB0aGlzIHJvdXRlciBpbnN0YW5jZVxuICAgKi9cbiAgZ2V0IHJvdXRlcygpOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogUmV0dXJuIHRoZSB3aW5kb3cgYXNzb2NpYXRlZCB3aXRoIHRoZSByb3V0ZXJcbiAgICovXG4gIGdldCB3aW5kb3coKTogUm91dGVySW5pdFtcIndpbmRvd1wiXTtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIEluaXRpYWxpemUgdGhlIHJvdXRlciwgaW5jbHVkaW5nIGFkZGluZyBoaXN0b3J5IGxpc3RlbmVycyBhbmQga2lja2luZyBvZmZcbiAgICogaW5pdGlhbCBkYXRhIGZldGNoZXMuICBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gY2xlYW51cCBsaXN0ZW5lcnMgYW5kIGFib3J0XG4gICAqIGFueSBpbi1wcm9ncmVzcyBsb2Fkc1xuICAgKi9cbiAgaW5pdGlhbGl6ZSgpOiBSb3V0ZXI7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBTdWJzY3JpYmUgdG8gcm91dGVyLnN0YXRlIHVwZGF0ZXNcbiAgICpcbiAgICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIGNhbGwgd2l0aCB0aGUgbmV3IHN0YXRlXG4gICAqL1xuICBzdWJzY3JpYmUoZm46IFJvdXRlclN1YnNjcmliZXIpOiAoKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogRW5hYmxlIHNjcm9sbCByZXN0b3JhdGlvbiBiZWhhdmlvciBpbiB0aGUgcm91dGVyXG4gICAqXG4gICAqIEBwYXJhbSBzYXZlZFNjcm9sbFBvc2l0aW9ucyBPYmplY3QgdGhhdCB3aWxsIG1hbmFnZSBwb3NpdGlvbnMsIGluIGNhc2VcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0J3MgYmVpbmcgcmVzdG9yZWQgZnJvbSBzZXNzaW9uU3RvcmFnZVxuICAgKiBAcGFyYW0gZ2V0U2Nyb2xsUG9zaXRpb24gICAgRnVuY3Rpb24gdG8gZ2V0IHRoZSBhY3RpdmUgWSBzY3JvbGwgcG9zaXRpb25cbiAgICogQHBhcmFtIGdldEtleSAgICAgICAgICAgICAgIEZ1bmN0aW9uIHRvIGdldCB0aGUga2V5IHRvIHVzZSBmb3IgcmVzdG9yYXRpb25cbiAgICovXG4gIGVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uKFxuICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LFxuICAgIGdldFNjcm9sbFBvc2l0aW9uOiBHZXRTY3JvbGxQb3NpdGlvbkZ1bmN0aW9uLFxuICAgIGdldEtleT86IEdldFNjcm9sbFJlc3RvcmF0aW9uS2V5RnVuY3Rpb25cbiAgKTogKCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIE5hdmlnYXRlIGZvcndhcmQvYmFja3dhcmQgaW4gdGhlIGhpc3Rvcnkgc3RhY2tcbiAgICogQHBhcmFtIHRvIERlbHRhIHRvIG1vdmUgaW4gdGhlIGhpc3Rvcnkgc3RhY2tcbiAgICovXG4gIG5hdmlnYXRlKHRvOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZSB0byB0aGUgZ2l2ZW4gcGF0aFxuICAgKiBAcGFyYW0gdG8gUGF0aCB0byBuYXZpZ2F0ZSB0b1xuICAgKiBAcGFyYW0gb3B0cyBOYXZpZ2F0aW9uIG9wdGlvbnMgKG1ldGhvZCwgc3VibWlzc2lvbiwgZXRjLilcbiAgICovXG4gIG5hdmlnYXRlKHRvOiBUbyB8IG51bGwsIG9wdHM/OiBSb3V0ZXJOYXZpZ2F0ZU9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogVHJpZ2dlciBhIGZldGNoZXIgbG9hZC9zdWJtaXNzaW9uXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgICAgIEZldGNoZXIga2V5XG4gICAqIEBwYXJhbSByb3V0ZUlkIFJvdXRlIHRoYXQgb3ducyB0aGUgZmV0Y2hlclxuICAgKiBAcGFyYW0gaHJlZiAgICBocmVmIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRzICAgIEZldGNoZXIgb3B0aW9ucywgKG1ldGhvZCwgc3VibWlzc2lvbiwgZXRjLilcbiAgICovXG4gIGZldGNoKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJvdXRlSWQ6IHN0cmluZyxcbiAgICBocmVmOiBzdHJpbmcgfCBudWxsLFxuICAgIG9wdHM/OiBSb3V0ZXJGZXRjaE9wdGlvbnNcbiAgKTogdm9pZDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFRyaWdnZXIgYSByZXZhbGlkYXRpb24gb2YgYWxsIGN1cnJlbnQgcm91dGUgbG9hZGVycyBhbmQgZmV0Y2hlciBsb2Fkc1xuICAgKi9cbiAgcmV2YWxpZGF0ZSgpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogVXRpbGl0eSBmdW5jdGlvbiB0byBjcmVhdGUgYW4gaHJlZiBmb3IgdGhlIGdpdmVuIGxvY2F0aW9uXG4gICAqIEBwYXJhbSBsb2NhdGlvblxuICAgKi9cbiAgY3JlYXRlSHJlZihsb2NhdGlvbjogTG9jYXRpb24gfCBVUkwpOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIFVSTCBlbmNvZGUgYSBkZXN0aW5hdGlvbiBwYXRoIGFjY29yZGluZyB0byB0aGUgaW50ZXJuYWxcbiAgICogaGlzdG9yeSBpbXBsZW1lbnRhdGlvblxuICAgKiBAcGFyYW0gdG9cbiAgICovXG4gIGVuY29kZUxvY2F0aW9uKHRvOiBUbyk6IFBhdGg7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBHZXQvY3JlYXRlIGEgZmV0Y2hlciBmb3IgdGhlIGdpdmVuIGtleVxuICAgKiBAcGFyYW0ga2V5XG4gICAqL1xuICBnZXRGZXRjaGVyPFREYXRhID0gYW55PihrZXk6IHN0cmluZyk6IEZldGNoZXI8VERhdGE+O1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogRGVsZXRlIHRoZSBmZXRjaGVyIGZvciBhIGdpdmVuIGtleVxuICAgKiBAcGFyYW0ga2V5XG4gICAqL1xuICBkZWxldGVGZXRjaGVyKGtleTogc3RyaW5nKTogdm9pZDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIENsZWFudXAgbGlzdGVuZXJzIGFuZCBhYm9ydCBhbnkgaW4tcHJvZ3Jlc3MgbG9hZHNcbiAgICovXG4gIGRpc3Bvc2UoKTogdm9pZDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIEdldCBhIG5hdmlnYXRpb24gYmxvY2tlclxuICAgKiBAcGFyYW0ga2V5IFRoZSBpZGVudGlmaWVyIGZvciB0aGUgYmxvY2tlclxuICAgKiBAcGFyYW0gZm4gVGhlIGJsb2NrZXIgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGdldEJsb2NrZXIoa2V5OiBzdHJpbmcsIGZuOiBCbG9ja2VyRnVuY3Rpb24pOiBCbG9ja2VyO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogRGVsZXRlIGEgbmF2aWdhdGlvbiBibG9ja2VyXG4gICAqIEBwYXJhbSBrZXkgVGhlIGlkZW50aWZpZXIgZm9yIHRoZSBibG9ja2VyXG4gICAqL1xuICBkZWxldGVCbG9ja2VyKGtleTogc3RyaW5nKTogdm9pZDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgRE8gTk9UIFVTRVxuICAgKlxuICAgKiBQYXRjaCBhZGRpdGlvbmFsIGNoaWxkcmVuIHJvdXRlcyBpbnRvIGFuIGV4aXN0aW5nIHBhcmVudCByb3V0ZVxuICAgKiBAcGFyYW0gcm91dGVJZCBUaGUgcGFyZW50IHJvdXRlIGlkIG9yIGEgY2FsbGJhY2sgZnVuY3Rpb24gYWNjZXB0aW5nIGBwYXRjaGBcbiAgICogICAgICAgICAgICAgICAgdG8gcGVyZm9ybSBiYXRjaCBwYXRjaGluZ1xuICAgKiBAcGFyYW0gY2hpbGRyZW4gVGhlIGFkZGl0aW9uYWwgY2hpbGRyZW4gcm91dGVzXG4gICAqL1xuICBwYXRjaFJvdXRlcyhyb3V0ZUlkOiBzdHJpbmcgfCBudWxsLCBjaGlsZHJlbjogQWdub3N0aWNSb3V0ZU9iamVjdFtdKTogdm9pZDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIEhNUiBuZWVkcyB0byBwYXNzIGluLWZsaWdodCByb3V0ZSB1cGRhdGVzIHRvIFJlYWN0IFJvdXRlclxuICAgKiBUT0RPOiBSZXBsYWNlIHRoaXMgd2l0aCBncmFudWxhciByb3V0ZSB1cGRhdGUgQVBJcyAoYWRkUm91dGUsIHVwZGF0ZVJvdXRlLCBkZWxldGVSb3V0ZSlcbiAgICovXG4gIF9pbnRlcm5hbFNldFJvdXRlcyhyb3V0ZXM6IEFnbm9zdGljUm91dGVPYmplY3RbXSk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBJbnRlcm5hbCBmZXRjaCBBYm9ydENvbnRyb2xsZXJzIGFjY2Vzc2VkIGJ5IHVuaXQgdGVzdHNcbiAgICovXG4gIF9pbnRlcm5hbEZldGNoQ29udHJvbGxlcnM6IE1hcDxzdHJpbmcsIEFib3J0Q29udHJvbGxlcj47XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBJbnRlcm5hbCBwZW5kaW5nIERlZmVycmVkRGF0YSBpbnN0YW5jZXMgYWNjZXNzZWQgYnkgdW5pdCB0ZXN0c1xuICAgKi9cbiAgX2ludGVybmFsQWN0aXZlRGVmZXJyZWRzOiBNYXA8c3RyaW5nLCBEZWZlcnJlZERhdGE+O1xufVxuXG4vKipcbiAqIFN0YXRlIG1haW50YWluZWQgaW50ZXJuYWxseSBieSB0aGUgcm91dGVyLiAgRHVyaW5nIGEgbmF2aWdhdGlvbiwgYWxsIHN0YXRlc1xuICogcmVmbGVjdCB0aGUgdGhlIFwib2xkXCIgbG9jYXRpb24gdW5sZXNzIG90aGVyd2lzZSBub3RlZC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb3V0ZXJTdGF0ZSB7XG4gIC8qKlxuICAgKiBUaGUgYWN0aW9uIG9mIHRoZSBtb3N0IHJlY2VudCBuYXZpZ2F0aW9uXG4gICAqL1xuICBoaXN0b3J5QWN0aW9uOiBIaXN0b3J5QWN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBsb2NhdGlvbiByZWZsZWN0ZWQgYnkgdGhlIHJvdXRlclxuICAgKi9cbiAgbG9jYXRpb246IExvY2F0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzZXQgb2Ygcm91dGUgbWF0Y2hlc1xuICAgKi9cbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdO1xuXG4gIC8qKlxuICAgKiBUcmFja3Mgd2hldGhlciB3ZSd2ZSBjb21wbGV0ZWQgb3VyIGluaXRpYWwgZGF0YSBsb2FkXG4gICAqL1xuICBpbml0aWFsaXplZDogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ3VycmVudCBzY3JvbGwgcG9zaXRpb24gd2Ugc2hvdWxkIHN0YXJ0IGF0IGZvciBhIG5ldyB2aWV3XG4gICAqICAtIG51bWJlciAtPiBzY3JvbGwgcG9zaXRpb24gdG8gcmVzdG9yZSB0b1xuICAgKiAgLSBmYWxzZSAtPiBkbyBub3QgcmVzdG9yZSBzY3JvbGwgYXQgYWxsICh1c2VkIGR1cmluZyBzdWJtaXNzaW9ucylcbiAgICogIC0gbnVsbCAtPiBkb24ndCBoYXZlIGEgc2F2ZWQgcG9zaXRpb24sIHNjcm9sbCB0byBoYXNoIG9yIHRvcCBvZiBwYWdlXG4gICAqL1xuICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IG51bWJlciB8IGZhbHNlIHwgbnVsbDtcblxuICAvKipcbiAgICogSW5kaWNhdGUgd2hldGhlciB0aGlzIG5hdmlnYXRpb24gc2hvdWxkIHNraXAgcmVzZXR0aW5nIHRoZSBzY3JvbGwgcG9zaXRpb25cbiAgICogaWYgd2UgYXJlIHVuYWJsZSB0byByZXN0b3JlIHRoZSBzY3JvbGwgcG9zaXRpb25cbiAgICovXG4gIHByZXZlbnRTY3JvbGxSZXNldDogYm9vbGVhbjtcblxuICAvKipcbiAgICogVHJhY2tzIHRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCBuYXZpZ2F0aW9uXG4gICAqL1xuICBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uO1xuXG4gIC8qKlxuICAgKiBUcmFja3MgYW55IGluLXByb2dyZXNzIHJldmFsaWRhdGlvbnNcbiAgICovXG4gIHJldmFsaWRhdGlvbjogUmV2YWxpZGF0aW9uU3RhdGU7XG5cbiAgLyoqXG4gICAqIERhdGEgZnJvbSB0aGUgbG9hZGVycyBmb3IgdGhlIGN1cnJlbnQgbWF0Y2hlc1xuICAgKi9cbiAgbG9hZGVyRGF0YTogUm91dGVEYXRhO1xuXG4gIC8qKlxuICAgKiBEYXRhIGZyb20gdGhlIGFjdGlvbiBmb3IgdGhlIGN1cnJlbnQgbWF0Y2hlc1xuICAgKi9cbiAgYWN0aW9uRGF0YTogUm91dGVEYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogRXJyb3JzIGNhdWdodCBmcm9tIGxvYWRlcnMgZm9yIHRoZSBjdXJyZW50IG1hdGNoZXNcbiAgICovXG4gIGVycm9yczogUm91dGVEYXRhIHwgbnVsbDtcblxuICAvKipcbiAgICogTWFwIG9mIGN1cnJlbnQgZmV0Y2hlcnNcbiAgICovXG4gIGZldGNoZXJzOiBNYXA8c3RyaW5nLCBGZXRjaGVyPjtcblxuICAvKipcbiAgICogTWFwIG9mIGN1cnJlbnQgYmxvY2tlcnNcbiAgICovXG4gIGJsb2NrZXJzOiBNYXA8c3RyaW5nLCBCbG9ja2VyPjtcbn1cblxuLyoqXG4gKiBEYXRhIHRoYXQgY2FuIGJlIHBhc3NlZCBpbnRvIGh5ZHJhdGUgYSBSb3V0ZXIgZnJvbSBTU1JcbiAqL1xuZXhwb3J0IHR5cGUgSHlkcmF0aW9uU3RhdGUgPSBQYXJ0aWFsPFxuICBQaWNrPFJvdXRlclN0YXRlLCBcImxvYWRlckRhdGFcIiB8IFwiYWN0aW9uRGF0YVwiIHwgXCJlcnJvcnNcIj5cbj47XG5cbi8qKlxuICogRnV0dXJlIGZsYWdzIHRvIHRvZ2dsZSBuZXcgZmVhdHVyZSBiZWhhdmlvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZ1dHVyZUNvbmZpZyB7XG4gIHY3X2ZldGNoZXJQZXJzaXN0OiBib29sZWFuO1xuICB2N19ub3JtYWxpemVGb3JtTWV0aG9kOiBib29sZWFuO1xuICB2N19wYXJ0aWFsSHlkcmF0aW9uOiBib29sZWFuO1xuICB2N19wcmVwZW5kQmFzZW5hbWU6IGJvb2xlYW47XG4gIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBib29sZWFuO1xuICB2N19za2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb246IGJvb2xlYW47XG59XG5cbi8qKlxuICogSW5pdGlhbGl6YXRpb24gb3B0aW9ucyBmb3IgY3JlYXRlUm91dGVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVySW5pdCB7XG4gIHJvdXRlczogQWdub3N0aWNSb3V0ZU9iamVjdFtdO1xuICBoaXN0b3J5OiBIaXN0b3J5O1xuICBiYXNlbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgbWFwUm91dGVQcm9wZXJ0aWVzYCBpbnN0ZWFkXG4gICAqL1xuICBkZXRlY3RFcnJvckJvdW5kYXJ5PzogRGV0ZWN0RXJyb3JCb3VuZGFyeUZ1bmN0aW9uO1xuICBtYXBSb3V0ZVByb3BlcnRpZXM/OiBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbjtcbiAgZnV0dXJlPzogUGFydGlhbDxGdXR1cmVDb25maWc+O1xuICBoeWRyYXRpb25EYXRhPzogSHlkcmF0aW9uU3RhdGU7XG4gIHdpbmRvdz86IFdpbmRvdztcbiAgZGF0YVN0cmF0ZWd5PzogRGF0YVN0cmF0ZWd5RnVuY3Rpb247XG4gIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uPzogQWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uO1xufVxuXG4vKipcbiAqIFN0YXRlIHJldHVybmVkIGZyb20gYSBzZXJ2ZXItc2lkZSBxdWVyeSgpIGNhbGxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGF0aWNIYW5kbGVyQ29udGV4dCB7XG4gIGJhc2VuYW1lOiBSb3V0ZXJbXCJiYXNlbmFtZVwiXTtcbiAgbG9jYXRpb246IFJvdXRlclN0YXRlW1wibG9jYXRpb25cIl07XG4gIG1hdGNoZXM6IFJvdXRlclN0YXRlW1wibWF0Y2hlc1wiXTtcbiAgbG9hZGVyRGF0YTogUm91dGVyU3RhdGVbXCJsb2FkZXJEYXRhXCJdO1xuICBhY3Rpb25EYXRhOiBSb3V0ZXJTdGF0ZVtcImFjdGlvbkRhdGFcIl07XG4gIGVycm9yczogUm91dGVyU3RhdGVbXCJlcnJvcnNcIl07XG4gIHN0YXR1c0NvZGU6IG51bWJlcjtcbiAgbG9hZGVySGVhZGVyczogUmVjb3JkPHN0cmluZywgSGVhZGVycz47XG4gIGFjdGlvbkhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIEhlYWRlcnM+O1xuICBhY3RpdmVEZWZlcnJlZHM6IFJlY29yZDxzdHJpbmcsIERlZmVycmVkRGF0YT4gfCBudWxsO1xuICBfZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZD86IHN0cmluZyB8IG51bGw7XG59XG5cbi8qKlxuICogQSBTdGF0aWNIYW5kbGVyIGluc3RhbmNlIG1hbmFnZXMgYSBzaW5ndWxhciBTU1IgbmF2aWdhdGlvbi9mZXRjaCBldmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpY0hhbmRsZXIge1xuICBkYXRhUm91dGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdO1xuICBxdWVyeShcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIG9wdHM/OiB7XG4gICAgICByZXF1ZXN0Q29udGV4dD86IHVua25vd247XG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZz86IGJvb2xlYW47XG4gICAgICBkYXRhU3RyYXRlZ3k/OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbjtcbiAgICB9XG4gICk6IFByb21pc2U8U3RhdGljSGFuZGxlckNvbnRleHQgfCBSZXNwb25zZT47XG4gIHF1ZXJ5Um91dGUoXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICBvcHRzPzoge1xuICAgICAgcm91dGVJZD86IHN0cmluZztcbiAgICAgIHJlcXVlc3RDb250ZXh0PzogdW5rbm93bjtcbiAgICAgIGRhdGFTdHJhdGVneT86IERhdGFTdHJhdGVneUZ1bmN0aW9uO1xuICAgIH1cbiAgKTogUHJvbWlzZTxhbnk+O1xufVxuXG50eXBlIFZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgY3VycmVudExvY2F0aW9uOiBMb2NhdGlvbjtcbiAgbmV4dExvY2F0aW9uOiBMb2NhdGlvbjtcbn07XG5cbi8qKlxuICogU3Vic2NyaWJlciBmdW5jdGlvbiBzaWduYXR1cmUgZm9yIGNoYW5nZXMgdG8gcm91dGVyIHN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVyU3Vic2NyaWJlciB7XG4gIChcbiAgICBzdGF0ZTogUm91dGVyU3RhdGUsXG4gICAgb3B0czoge1xuICAgICAgZGVsZXRlZEZldGNoZXJzOiBzdHJpbmdbXTtcbiAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cz86IFZpZXdUcmFuc2l0aW9uT3B0cztcbiAgICAgIGZsdXNoU3luYzogYm9vbGVhbjtcbiAgICB9XG4gICk6IHZvaWQ7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gc2lnbmF0dXJlIGZvciBkZXRlcm1pbmluZyB0aGUga2V5IHRvIGJlIHVzZWQgaW4gc2Nyb2xsIHJlc3RvcmF0aW9uXG4gKiBmb3IgYSBnaXZlbiBsb2NhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldFNjcm9sbFJlc3RvcmF0aW9uS2V5RnVuY3Rpb24ge1xuICAobG9jYXRpb246IExvY2F0aW9uLCBtYXRjaGVzOiBVSU1hdGNoW10pOiBzdHJpbmcgfCBudWxsO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHNpZ25hdHVyZSBmb3IgZGV0ZXJtaW5pbmcgdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0U2Nyb2xsUG9zaXRpb25GdW5jdGlvbiB7XG4gICgpOiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIFJlbGF0aXZlUm91dGluZ1R5cGUgPSBcInJvdXRlXCIgfCBcInBhdGhcIjtcblxuLy8gQWxsb3dlZCBmb3IgYW55IG5hdmlnYXRpb24gb3IgZmV0Y2hcbnR5cGUgQmFzZU5hdmlnYXRlT3JGZXRjaE9wdGlvbnMgPSB7XG4gIHByZXZlbnRTY3JvbGxSZXNldD86IGJvb2xlYW47XG4gIHJlbGF0aXZlPzogUmVsYXRpdmVSb3V0aW5nVHlwZTtcbiAgZmx1c2hTeW5jPzogYm9vbGVhbjtcbn07XG5cbi8vIE9ubHkgYWxsb3dlZCBmb3IgbmF2aWdhdGlvbnNcbnR5cGUgQmFzZU5hdmlnYXRlT3B0aW9ucyA9IEJhc2VOYXZpZ2F0ZU9yRmV0Y2hPcHRpb25zICYge1xuICByZXBsYWNlPzogYm9vbGVhbjtcbiAgc3RhdGU/OiBhbnk7XG4gIGZyb21Sb3V0ZUlkPzogc3RyaW5nO1xuICB2aWV3VHJhbnNpdGlvbj86IGJvb2xlYW47XG59O1xuXG4vLyBPbmx5IGFsbG93ZWQgZm9yIHN1Ym1pc3Npb24gbmF2aWdhdGlvbnNcbnR5cGUgQmFzZVN1Ym1pc3Npb25PcHRpb25zID0ge1xuICBmb3JtTWV0aG9kPzogSFRNTEZvcm1NZXRob2Q7XG4gIGZvcm1FbmNUeXBlPzogRm9ybUVuY1R5cGU7XG59ICYgKFxuICB8IHsgZm9ybURhdGE6IEZvcm1EYXRhOyBib2R5PzogdW5kZWZpbmVkIH1cbiAgfCB7IGZvcm1EYXRhPzogdW5kZWZpbmVkOyBib2R5OiBhbnkgfVxuKTtcblxuLyoqXG4gKiBPcHRpb25zIGZvciBhIG5hdmlnYXRlKCkgY2FsbCBmb3IgYSBub3JtYWwgKG5vbi1zdWJtaXNzaW9uKSBuYXZpZ2F0aW9uXG4gKi9cbnR5cGUgTGlua05hdmlnYXRlT3B0aW9ucyA9IEJhc2VOYXZpZ2F0ZU9wdGlvbnM7XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgYSBuYXZpZ2F0ZSgpIGNhbGwgZm9yIGEgc3VibWlzc2lvbiBuYXZpZ2F0aW9uXG4gKi9cbnR5cGUgU3VibWlzc2lvbk5hdmlnYXRlT3B0aW9ucyA9IEJhc2VOYXZpZ2F0ZU9wdGlvbnMgJiBCYXNlU3VibWlzc2lvbk9wdGlvbnM7XG5cbi8qKlxuICogT3B0aW9ucyB0byBwYXNzIHRvIG5hdmlnYXRlKCkgZm9yIGEgbmF2aWdhdGlvblxuICovXG5leHBvcnQgdHlwZSBSb3V0ZXJOYXZpZ2F0ZU9wdGlvbnMgPVxuICB8IExpbmtOYXZpZ2F0ZU9wdGlvbnNcbiAgfCBTdWJtaXNzaW9uTmF2aWdhdGVPcHRpb25zO1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIGEgZmV0Y2goKSBsb2FkXG4gKi9cbnR5cGUgTG9hZEZldGNoT3B0aW9ucyA9IEJhc2VOYXZpZ2F0ZU9yRmV0Y2hPcHRpb25zO1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIGEgZmV0Y2goKSBzdWJtaXNzaW9uXG4gKi9cbnR5cGUgU3VibWl0RmV0Y2hPcHRpb25zID0gQmFzZU5hdmlnYXRlT3JGZXRjaE9wdGlvbnMgJiBCYXNlU3VibWlzc2lvbk9wdGlvbnM7XG5cbi8qKlxuICogT3B0aW9ucyB0byBwYXNzIHRvIGZldGNoKClcbiAqL1xuZXhwb3J0IHR5cGUgUm91dGVyRmV0Y2hPcHRpb25zID0gTG9hZEZldGNoT3B0aW9ucyB8IFN1Ym1pdEZldGNoT3B0aW9ucztcblxuLyoqXG4gKiBQb3RlbnRpYWwgc3RhdGVzIGZvciBzdGF0ZS5uYXZpZ2F0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIE5hdmlnYXRpb25TdGF0ZXMgPSB7XG4gIElkbGU6IHtcbiAgICBzdGF0ZTogXCJpZGxlXCI7XG4gICAgbG9jYXRpb246IHVuZGVmaW5lZDtcbiAgICBmb3JtTWV0aG9kOiB1bmRlZmluZWQ7XG4gICAgZm9ybUFjdGlvbjogdW5kZWZpbmVkO1xuICAgIGZvcm1FbmNUeXBlOiB1bmRlZmluZWQ7XG4gICAgZm9ybURhdGE6IHVuZGVmaW5lZDtcbiAgICBqc29uOiB1bmRlZmluZWQ7XG4gICAgdGV4dDogdW5kZWZpbmVkO1xuICB9O1xuICBMb2FkaW5nOiB7XG4gICAgc3RhdGU6IFwibG9hZGluZ1wiO1xuICAgIGxvY2F0aW9uOiBMb2NhdGlvbjtcbiAgICBmb3JtTWV0aG9kOiBTdWJtaXNzaW9uW1wiZm9ybU1ldGhvZFwiXSB8IHVuZGVmaW5lZDtcbiAgICBmb3JtQWN0aW9uOiBTdWJtaXNzaW9uW1wiZm9ybUFjdGlvblwiXSB8IHVuZGVmaW5lZDtcbiAgICBmb3JtRW5jVHlwZTogU3VibWlzc2lvbltcImZvcm1FbmNUeXBlXCJdIHwgdW5kZWZpbmVkO1xuICAgIGZvcm1EYXRhOiBTdWJtaXNzaW9uW1wiZm9ybURhdGFcIl0gfCB1bmRlZmluZWQ7XG4gICAganNvbjogU3VibWlzc2lvbltcImpzb25cIl0gfCB1bmRlZmluZWQ7XG4gICAgdGV4dDogU3VibWlzc2lvbltcInRleHRcIl0gfCB1bmRlZmluZWQ7XG4gIH07XG4gIFN1Ym1pdHRpbmc6IHtcbiAgICBzdGF0ZTogXCJzdWJtaXR0aW5nXCI7XG4gICAgbG9jYXRpb246IExvY2F0aW9uO1xuICAgIGZvcm1NZXRob2Q6IFN1Ym1pc3Npb25bXCJmb3JtTWV0aG9kXCJdO1xuICAgIGZvcm1BY3Rpb246IFN1Ym1pc3Npb25bXCJmb3JtQWN0aW9uXCJdO1xuICAgIGZvcm1FbmNUeXBlOiBTdWJtaXNzaW9uW1wiZm9ybUVuY1R5cGVcIl07XG4gICAgZm9ybURhdGE6IFN1Ym1pc3Npb25bXCJmb3JtRGF0YVwiXTtcbiAgICBqc29uOiBTdWJtaXNzaW9uW1wianNvblwiXTtcbiAgICB0ZXh0OiBTdWJtaXNzaW9uW1widGV4dFwiXTtcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIE5hdmlnYXRpb24gPSBOYXZpZ2F0aW9uU3RhdGVzW2tleW9mIE5hdmlnYXRpb25TdGF0ZXNdO1xuXG5leHBvcnQgdHlwZSBSZXZhbGlkYXRpb25TdGF0ZSA9IFwiaWRsZVwiIHwgXCJsb2FkaW5nXCI7XG5cbi8qKlxuICogUG90ZW50aWFsIHN0YXRlcyBmb3IgZmV0Y2hlcnNcbiAqL1xudHlwZSBGZXRjaGVyU3RhdGVzPFREYXRhID0gYW55PiA9IHtcbiAgSWRsZToge1xuICAgIHN0YXRlOiBcImlkbGVcIjtcbiAgICBmb3JtTWV0aG9kOiB1bmRlZmluZWQ7XG4gICAgZm9ybUFjdGlvbjogdW5kZWZpbmVkO1xuICAgIGZvcm1FbmNUeXBlOiB1bmRlZmluZWQ7XG4gICAgdGV4dDogdW5kZWZpbmVkO1xuICAgIGZvcm1EYXRhOiB1bmRlZmluZWQ7XG4gICAganNvbjogdW5kZWZpbmVkO1xuICAgIGRhdGE6IFREYXRhIHwgdW5kZWZpbmVkO1xuICB9O1xuICBMb2FkaW5nOiB7XG4gICAgc3RhdGU6IFwibG9hZGluZ1wiO1xuICAgIGZvcm1NZXRob2Q6IFN1Ym1pc3Npb25bXCJmb3JtTWV0aG9kXCJdIHwgdW5kZWZpbmVkO1xuICAgIGZvcm1BY3Rpb246IFN1Ym1pc3Npb25bXCJmb3JtQWN0aW9uXCJdIHwgdW5kZWZpbmVkO1xuICAgIGZvcm1FbmNUeXBlOiBTdWJtaXNzaW9uW1wiZm9ybUVuY1R5cGVcIl0gfCB1bmRlZmluZWQ7XG4gICAgdGV4dDogU3VibWlzc2lvbltcInRleHRcIl0gfCB1bmRlZmluZWQ7XG4gICAgZm9ybURhdGE6IFN1Ym1pc3Npb25bXCJmb3JtRGF0YVwiXSB8IHVuZGVmaW5lZDtcbiAgICBqc29uOiBTdWJtaXNzaW9uW1wianNvblwiXSB8IHVuZGVmaW5lZDtcbiAgICBkYXRhOiBURGF0YSB8IHVuZGVmaW5lZDtcbiAgfTtcbiAgU3VibWl0dGluZzoge1xuICAgIHN0YXRlOiBcInN1Ym1pdHRpbmdcIjtcbiAgICBmb3JtTWV0aG9kOiBTdWJtaXNzaW9uW1wiZm9ybU1ldGhvZFwiXTtcbiAgICBmb3JtQWN0aW9uOiBTdWJtaXNzaW9uW1wiZm9ybUFjdGlvblwiXTtcbiAgICBmb3JtRW5jVHlwZTogU3VibWlzc2lvbltcImZvcm1FbmNUeXBlXCJdO1xuICAgIHRleHQ6IFN1Ym1pc3Npb25bXCJ0ZXh0XCJdO1xuICAgIGZvcm1EYXRhOiBTdWJtaXNzaW9uW1wiZm9ybURhdGFcIl07XG4gICAganNvbjogU3VibWlzc2lvbltcImpzb25cIl07XG4gICAgZGF0YTogVERhdGEgfCB1bmRlZmluZWQ7XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBGZXRjaGVyPFREYXRhID0gYW55PiA9XG4gIEZldGNoZXJTdGF0ZXM8VERhdGE+W2tleW9mIEZldGNoZXJTdGF0ZXM8VERhdGE+XTtcblxuaW50ZXJmYWNlIEJsb2NrZXJCbG9ja2VkIHtcbiAgc3RhdGU6IFwiYmxvY2tlZFwiO1xuICByZXNldCgpOiB2b2lkO1xuICBwcm9jZWVkKCk6IHZvaWQ7XG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcbn1cblxuaW50ZXJmYWNlIEJsb2NrZXJVbmJsb2NrZWQge1xuICBzdGF0ZTogXCJ1bmJsb2NrZWRcIjtcbiAgcmVzZXQ6IHVuZGVmaW5lZDtcbiAgcHJvY2VlZDogdW5kZWZpbmVkO1xuICBsb2NhdGlvbjogdW5kZWZpbmVkO1xufVxuXG5pbnRlcmZhY2UgQmxvY2tlclByb2NlZWRpbmcge1xuICBzdGF0ZTogXCJwcm9jZWVkaW5nXCI7XG4gIHJlc2V0OiB1bmRlZmluZWQ7XG4gIHByb2NlZWQ6IHVuZGVmaW5lZDtcbiAgbG9jYXRpb246IExvY2F0aW9uO1xufVxuXG5leHBvcnQgdHlwZSBCbG9ja2VyID0gQmxvY2tlclVuYmxvY2tlZCB8IEJsb2NrZXJCbG9ja2VkIHwgQmxvY2tlclByb2NlZWRpbmc7XG5cbmV4cG9ydCB0eXBlIEJsb2NrZXJGdW5jdGlvbiA9IChhcmdzOiB7XG4gIGN1cnJlbnRMb2NhdGlvbjogTG9jYXRpb247XG4gIG5leHRMb2NhdGlvbjogTG9jYXRpb247XG4gIGhpc3RvcnlBY3Rpb246IEhpc3RvcnlBY3Rpb247XG59KSA9PiBib29sZWFuO1xuXG5pbnRlcmZhY2UgU2hvcnRDaXJjdWl0YWJsZSB7XG4gIC8qKlxuICAgKiBzdGFydE5hdmlnYXRpb24gZG9lcyBub3QgbmVlZCB0byBjb21wbGV0ZSB0aGUgbmF2aWdhdGlvbiBiZWNhdXNlIHdlXG4gICAqIHJlZGlyZWN0ZWQgb3IgZ290IGludGVycnVwdGVkXG4gICAqL1xuICBzaG9ydENpcmN1aXRlZD86IGJvb2xlYW47XG59XG5cbnR5cGUgUGVuZGluZ0FjdGlvblJlc3VsdCA9IFtzdHJpbmcsIFN1Y2Nlc3NSZXN1bHQgfCBFcnJvclJlc3VsdF07XG5cbmludGVyZmFjZSBIYW5kbGVBY3Rpb25SZXN1bHQgZXh0ZW5kcyBTaG9ydENpcmN1aXRhYmxlIHtcbiAgLyoqXG4gICAqIFJvdXRlIG1hdGNoZXMgd2hpY2ggbWF5IGhhdmUgYmVlbiB1cGRhdGVkIGZyb20gZm9nIG9mIHdhciBkaXNjb3ZlcnlcbiAgICovXG4gIG1hdGNoZXM/OiBSb3V0ZXJTdGF0ZVtcIm1hdGNoZXNcIl07XG4gIC8qKlxuICAgKiBUdXBsZSBmb3IgdGhlIHJldHVybmVkIG9yIHRocm93biB2YWx1ZSBmcm9tIHRoZSBjdXJyZW50IGFjdGlvbi4gIFRoZSByb3V0ZUlkXG4gICAqIGlzIHRoZSBhY3Rpb24gcm91dGUgZm9yIHN1Y2Nlc3MgYW5kIHRoZSBidWJibGVkIGJvdW5kYXJ5IHJvdXRlIGZvciBlcnJvcnMuXG4gICAqL1xuICBwZW5kaW5nQWN0aW9uUmVzdWx0PzogUGVuZGluZ0FjdGlvblJlc3VsdDtcbn1cblxuaW50ZXJmYWNlIEhhbmRsZUxvYWRlcnNSZXN1bHQgZXh0ZW5kcyBTaG9ydENpcmN1aXRhYmxlIHtcbiAgLyoqXG4gICAqIFJvdXRlIG1hdGNoZXMgd2hpY2ggbWF5IGhhdmUgYmVlbiB1cGRhdGVkIGZyb20gZm9nIG9mIHdhciBkaXNjb3ZlcnlcbiAgICovXG4gIG1hdGNoZXM/OiBSb3V0ZXJTdGF0ZVtcIm1hdGNoZXNcIl07XG4gIC8qKlxuICAgKiBsb2FkZXJEYXRhIHJldHVybmVkIGZyb20gdGhlIGN1cnJlbnQgc2V0IG9mIGxvYWRlcnNcbiAgICovXG4gIGxvYWRlckRhdGE/OiBSb3V0ZXJTdGF0ZVtcImxvYWRlckRhdGFcIl07XG4gIC8qKlxuICAgKiBlcnJvcnMgdGhyb3duIGZyb20gdGhlIGN1cnJlbnQgc2V0IG9mIGxvYWRlcnNcbiAgICovXG4gIGVycm9ycz86IFJvdXRlclN0YXRlW1wiZXJyb3JzXCJdO1xufVxuXG4vKipcbiAqIENhY2hlZCBpbmZvIGZvciBhY3RpdmUgZmV0Y2hlci5sb2FkKCkgaW5zdGFuY2VzIHNvIHRoZXkgY2FuIHBhcnRpY2lwYXRlXG4gKiBpbiByZXZhbGlkYXRpb25cbiAqL1xuaW50ZXJmYWNlIEZldGNoTG9hZE1hdGNoIHtcbiAgcm91dGVJZDogc3RyaW5nO1xuICBwYXRoOiBzdHJpbmc7XG59XG5cbi8qKlxuICogSWRlbnRpZmllZCBmZXRjaGVyLmxvYWQoKSBjYWxscyB0aGF0IG5lZWQgdG8gYmUgcmV2YWxpZGF0ZWRcbiAqL1xuaW50ZXJmYWNlIFJldmFsaWRhdGluZ0ZldGNoZXIgZXh0ZW5kcyBGZXRjaExvYWRNYXRjaCB7XG4gIGtleTogc3RyaW5nO1xuICBtYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCB8IG51bGw7XG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSB8IG51bGw7XG4gIGNvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlciB8IG51bGw7XG59XG5cbmNvbnN0IHZhbGlkTXV0YXRpb25NZXRob2RzQXJyOiBNdXRhdGlvbkZvcm1NZXRob2RbXSA9IFtcbiAgXCJwb3N0XCIsXG4gIFwicHV0XCIsXG4gIFwicGF0Y2hcIixcbiAgXCJkZWxldGVcIixcbl07XG5jb25zdCB2YWxpZE11dGF0aW9uTWV0aG9kcyA9IG5ldyBTZXQ8TXV0YXRpb25Gb3JtTWV0aG9kPihcbiAgdmFsaWRNdXRhdGlvbk1ldGhvZHNBcnJcbik7XG5cbmNvbnN0IHZhbGlkUmVxdWVzdE1ldGhvZHNBcnI6IEZvcm1NZXRob2RbXSA9IFtcbiAgXCJnZXRcIixcbiAgLi4udmFsaWRNdXRhdGlvbk1ldGhvZHNBcnIsXG5dO1xuY29uc3QgdmFsaWRSZXF1ZXN0TWV0aG9kcyA9IG5ldyBTZXQ8Rm9ybU1ldGhvZD4odmFsaWRSZXF1ZXN0TWV0aG9kc0Fycik7XG5cbmNvbnN0IHJlZGlyZWN0U3RhdHVzQ29kZXMgPSBuZXcgU2V0KFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF0pO1xuY29uc3QgcmVkaXJlY3RQcmVzZXJ2ZU1ldGhvZFN0YXR1c0NvZGVzID0gbmV3IFNldChbMzA3LCAzMDhdKTtcblxuZXhwb3J0IGNvbnN0IElETEVfTkFWSUdBVElPTjogTmF2aWdhdGlvblN0YXRlc1tcIklkbGVcIl0gPSB7XG4gIHN0YXRlOiBcImlkbGVcIixcbiAgbG9jYXRpb246IHVuZGVmaW5lZCxcbiAgZm9ybU1ldGhvZDogdW5kZWZpbmVkLFxuICBmb3JtQWN0aW9uOiB1bmRlZmluZWQsXG4gIGZvcm1FbmNUeXBlOiB1bmRlZmluZWQsXG4gIGZvcm1EYXRhOiB1bmRlZmluZWQsXG4gIGpzb246IHVuZGVmaW5lZCxcbiAgdGV4dDogdW5kZWZpbmVkLFxufTtcblxuZXhwb3J0IGNvbnN0IElETEVfRkVUQ0hFUjogRmV0Y2hlclN0YXRlc1tcIklkbGVcIl0gPSB7XG4gIHN0YXRlOiBcImlkbGVcIixcbiAgZGF0YTogdW5kZWZpbmVkLFxuICBmb3JtTWV0aG9kOiB1bmRlZmluZWQsXG4gIGZvcm1BY3Rpb246IHVuZGVmaW5lZCxcbiAgZm9ybUVuY1R5cGU6IHVuZGVmaW5lZCxcbiAgZm9ybURhdGE6IHVuZGVmaW5lZCxcbiAganNvbjogdW5kZWZpbmVkLFxuICB0ZXh0OiB1bmRlZmluZWQsXG59O1xuXG5leHBvcnQgY29uc3QgSURMRV9CTE9DS0VSOiBCbG9ja2VyVW5ibG9ja2VkID0ge1xuICBzdGF0ZTogXCJ1bmJsb2NrZWRcIixcbiAgcHJvY2VlZDogdW5kZWZpbmVkLFxuICByZXNldDogdW5kZWZpbmVkLFxuICBsb2NhdGlvbjogdW5kZWZpbmVkLFxufTtcblxuY29uc3QgQUJTT0xVVEVfVVJMX1JFR0VYID0gL14oPzpbYS16XVthLXowLTkrLi1dKjp8XFwvXFwvKS9pO1xuXG5jb25zdCBkZWZhdWx0TWFwUm91dGVQcm9wZXJ0aWVzOiBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbiA9IChyb3V0ZSkgPT4gKHtcbiAgaGFzRXJyb3JCb3VuZGFyeTogQm9vbGVhbihyb3V0ZS5oYXNFcnJvckJvdW5kYXJ5KSxcbn0pO1xuXG5jb25zdCBUUkFOU0lUSU9OU19TVE9SQUdFX0tFWSA9IFwicmVtaXgtcm91dGVyLXRyYW5zaXRpb25zXCI7XG5cbi8vI2VuZHJlZ2lvblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8jcmVnaW9uIGNyZWF0ZVJvdXRlclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBDcmVhdGUgYSByb3V0ZXIgYW5kIGxpc3RlbiB0byBoaXN0b3J5IFBPUCBuYXZpZ2F0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUm91dGVyKGluaXQ6IFJvdXRlckluaXQpOiBSb3V0ZXIge1xuICBjb25zdCByb3V0ZXJXaW5kb3cgPSBpbml0LndpbmRvd1xuICAgID8gaW5pdC53aW5kb3dcbiAgICA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCJcbiAgICA/IHdpbmRvd1xuICAgIDogdW5kZWZpbmVkO1xuICBjb25zdCBpc0Jyb3dzZXIgPVxuICAgIHR5cGVvZiByb3V0ZXJXaW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICB0eXBlb2Ygcm91dGVyV2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHJvdXRlcldpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuICBjb25zdCBpc1NlcnZlciA9ICFpc0Jyb3dzZXI7XG5cbiAgaW52YXJpYW50KFxuICAgIGluaXQucm91dGVzLmxlbmd0aCA+IDAsXG4gICAgXCJZb3UgbXVzdCBwcm92aWRlIGEgbm9uLWVtcHR5IHJvdXRlcyBhcnJheSB0byBjcmVhdGVSb3V0ZXJcIlxuICApO1xuXG4gIGxldCBtYXBSb3V0ZVByb3BlcnRpZXM6IE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uO1xuICBpZiAoaW5pdC5tYXBSb3V0ZVByb3BlcnRpZXMpIHtcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMgPSBpbml0Lm1hcFJvdXRlUHJvcGVydGllcztcbiAgfSBlbHNlIGlmIChpbml0LmRldGVjdEVycm9yQm91bmRhcnkpIHtcbiAgICAvLyBJZiB0aGV5IGFyZSBzdGlsbCB1c2luZyB0aGUgZGVwcmVjYXRlZCB2ZXJzaW9uLCB3cmFwIGl0IHdpdGggdGhlIG5ldyBBUElcbiAgICBsZXQgZGV0ZWN0RXJyb3JCb3VuZGFyeSA9IGluaXQuZGV0ZWN0RXJyb3JCb3VuZGFyeTtcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMgPSAocm91dGUpID0+ICh7XG4gICAgICBoYXNFcnJvckJvdW5kYXJ5OiBkZXRlY3RFcnJvckJvdW5kYXJ5KHJvdXRlKSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMgPSBkZWZhdWx0TWFwUm91dGVQcm9wZXJ0aWVzO1xuICB9XG5cbiAgLy8gUm91dGVzIGtleWVkIGJ5IElEXG4gIGxldCBtYW5pZmVzdDogUm91dGVNYW5pZmVzdCA9IHt9O1xuICAvLyBSb3V0ZXMgaW4gdHJlZSBmb3JtYXQgZm9yIG1hdGNoaW5nXG4gIGxldCBkYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICBpbml0LnJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgdW5kZWZpbmVkLFxuICAgIG1hbmlmZXN0XG4gICk7XG4gIGxldCBpbkZsaWdodERhdGFSb3V0ZXM6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W10gfCB1bmRlZmluZWQ7XG4gIGxldCBiYXNlbmFtZSA9IGluaXQuYmFzZW5hbWUgfHwgXCIvXCI7XG4gIGxldCBkYXRhU3RyYXRlZ3lJbXBsID0gaW5pdC5kYXRhU3RyYXRlZ3kgfHwgZGVmYXVsdERhdGFTdHJhdGVneTtcbiAgbGV0IHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uSW1wbCA9IGluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb247XG5cbiAgLy8gQ29uZmlnIGRyaXZlbiBiZWhhdmlvciBmbGFnc1xuICBsZXQgZnV0dXJlOiBGdXR1cmVDb25maWcgPSB7XG4gICAgdjdfZmV0Y2hlclBlcnNpc3Q6IGZhbHNlLFxuICAgIHY3X25vcm1hbGl6ZUZvcm1NZXRob2Q6IGZhbHNlLFxuICAgIHY3X3BhcnRpYWxIeWRyYXRpb246IGZhbHNlLFxuICAgIHY3X3ByZXBlbmRCYXNlbmFtZTogZmFsc2UsXG4gICAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGZhbHNlLFxuICAgIHY3X3NraXBBY3Rpb25FcnJvclJldmFsaWRhdGlvbjogZmFsc2UsXG4gICAgLi4uaW5pdC5mdXR1cmUsXG4gIH07XG4gIC8vIENsZWFudXAgZnVuY3Rpb24gZm9yIGhpc3RvcnlcbiAgbGV0IHVubGlzdGVuSGlzdG9yeTogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIC8vIEV4dGVybmFsbHktcHJvdmlkZWQgZnVuY3Rpb25zIHRvIGNhbGwgb24gYWxsIHN0YXRlIGNoYW5nZXNcbiAgbGV0IHN1YnNjcmliZXJzID0gbmV3IFNldDxSb3V0ZXJTdWJzY3JpYmVyPigpO1xuICAvLyBFeHRlcm5hbGx5LXByb3ZpZGVkIG9iamVjdCB0byBob2xkIHNjcm9sbCByZXN0b3JhdGlvbiBsb2NhdGlvbnMgZHVyaW5nIHJvdXRpbmdcbiAgbGV0IHNhdmVkU2Nyb2xsUG9zaXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+IHwgbnVsbCA9IG51bGw7XG4gIC8vIEV4dGVybmFsbHktcHJvdmlkZWQgZnVuY3Rpb24gdG8gZ2V0IHNjcm9sbCByZXN0b3JhdGlvbiBrZXlzXG4gIGxldCBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTogR2V0U2Nyb2xsUmVzdG9yYXRpb25LZXlGdW5jdGlvbiB8IG51bGwgPSBudWxsO1xuICAvLyBFeHRlcm5hbGx5LXByb3ZpZGVkIGZ1bmN0aW9uIHRvIGdldCBjdXJyZW50IHNjcm9sbCBwb3NpdGlvblxuICBsZXQgZ2V0U2Nyb2xsUG9zaXRpb246IEdldFNjcm9sbFBvc2l0aW9uRnVuY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgLy8gT25lLXRpbWUgZmxhZyB0byBjb250cm9sIHRoZSBpbml0aWFsIGh5ZHJhdGlvbiBzY3JvbGwgcmVzdG9yYXRpb24uICBCZWNhdXNlXG4gIC8vIHdlIGRvbid0IGdldCB0aGUgc2F2ZWQgcG9zaXRpb25zIGZyb20gPFNjcm9sbFJlc3RvcmF0aW9uIC8+IHVudGlsIF9hZnRlcl9cbiAgLy8gdGhlIGluaXRpYWwgcmVuZGVyLCB3ZSBuZWVkIHRvIG1hbnVhbGx5IHRyaWdnZXIgYSBzZXBhcmF0ZSB1cGRhdGVTdGF0ZSB0b1xuICAvLyBzZW5kIGFsb25nIHRoZSByZXN0b3JlU2Nyb2xsUG9zaXRpb25cbiAgLy8gU2V0IHRvIHRydWUgaWYgd2UgaGF2ZSBgaHlkcmF0aW9uRGF0YWAgc2luY2Ugd2UgYXNzdW1lIHdlIHdlcmUgU1NSJ2QgYW5kIHRoYXRcbiAgLy8gU1NSIGRpZCB0aGUgaW5pdGlhbCBzY3JvbGwgcmVzdG9yYXRpb24uXG4gIGxldCBpbml0aWFsU2Nyb2xsUmVzdG9yZWQgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgIT0gbnVsbDtcblxuICBsZXQgaW5pdGlhbE1hdGNoZXMgPSBtYXRjaFJvdXRlcyhkYXRhUm91dGVzLCBpbml0Lmhpc3RvcnkubG9jYXRpb24sIGJhc2VuYW1lKTtcbiAgbGV0IGluaXRpYWxNYXRjaGVzSXNGT1cgPSBmYWxzZTtcbiAgbGV0IGluaXRpYWxFcnJvcnM6IFJvdXRlRGF0YSB8IG51bGwgPSBudWxsO1xuXG4gIGlmIChpbml0aWFsTWF0Y2hlcyA9PSBudWxsICYmICFwYXRjaFJvdXRlc09uTmF2aWdhdGlvbkltcGwpIHtcbiAgICAvLyBJZiB3ZSBkbyBub3QgbWF0Y2ggYSB1c2VyLXByb3ZpZGVkLXJvdXRlLCBmYWxsIGJhY2sgdG8gdGhlIHJvb3RcbiAgICAvLyB0byBhbGxvdyB0aGUgZXJyb3IgYm91bmRhcnkgdG8gdGFrZSBvdmVyXG4gICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHtcbiAgICAgIHBhdGhuYW1lOiBpbml0Lmhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWUsXG4gICAgfSk7XG4gICAgbGV0IHsgbWF0Y2hlcywgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMoZGF0YVJvdXRlcyk7XG4gICAgaW5pdGlhbE1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGluaXRpYWxFcnJvcnMgPSB7IFtyb3V0ZS5pZF06IGVycm9yIH07XG4gIH1cblxuICAvLyBJbiBTUEEgYXBwcywgaWYgdGhlIHVzZXIgcHJvdmlkZWQgYSBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbiBpbXBsZW1lbnRhdGlvbiBhbmRcbiAgLy8gb3VyIGluaXRpYWwgbWF0Y2ggaXMgYSBzcGxhdCByb3V0ZSwgY2xlYXIgdGhlbSBvdXQgc28gd2UgcnVuIHRocm91Z2ggbGF6eVxuICAvLyBkaXNjb3Zlcnkgb24gaHlkcmF0aW9uIGluIGNhc2UgdGhlcmUncyBhIG1vcmUgYWNjdXJhdGUgbGF6eSByb3V0ZSBtYXRjaC5cbiAgLy8gSW4gU1NSIGFwcHMgKHdpdGggYGh5ZHJhdGlvbkRhdGFgKSwgd2UgZXhwZWN0IHRoYXQgdGhlIHNlcnZlciB3aWxsIHNlbmRcbiAgLy8gdXAgdGhlIHByb3BlciBtYXRjaGVkIHJvdXRlcyBzbyB3ZSBkb24ndCB3YW50IHRvIHJ1biBsYXp5IGRpc2NvdmVyeSBvblxuICAvLyBpbml0aWFsIGh5ZHJhdGlvbiBhbmQgd2FudCB0byBoeWRyYXRlIGludG8gdGhlIHNwbGF0IHJvdXRlLlxuICBpZiAoaW5pdGlhbE1hdGNoZXMgJiYgIWluaXQuaHlkcmF0aW9uRGF0YSkge1xuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIoXG4gICAgICBpbml0aWFsTWF0Y2hlcyxcbiAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICBpbml0Lmhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWVcbiAgICApO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUpIHtcbiAgICAgIGluaXRpYWxNYXRjaGVzID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBsZXQgaW5pdGlhbGl6ZWQ6IGJvb2xlYW47XG4gIGlmICghaW5pdGlhbE1hdGNoZXMpIHtcbiAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIGluaXRpYWxNYXRjaGVzID0gW107XG5cbiAgICAvLyBJZiBwYXJ0aWFsIGh5ZHJhdGlvbiBhbmQgZm9nIG9mIHdhciBpcyBlbmFibGVkLCB3ZSB3aWxsIGJlIHJ1bm5pbmdcbiAgICAvLyBgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25gIGR1cmluZyBoeWRyYXRpb24gc28gaW5jbHVkZSBhbnkgcGFydGlhbCBtYXRjaGVzIGFzXG4gICAgLy8gdGhlIGluaXRpYWwgbWF0Y2hlcyBzbyB3ZSBjYW4gcHJvcGVybHkgcmVuZGVyIGBIeWRyYXRlRmFsbGJhY2tgJ3NcbiAgICBpZiAoZnV0dXJlLnY3X3BhcnRpYWxIeWRyYXRpb24pIHtcbiAgICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICAgIGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgICAgKTtcbiAgICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgICBpbml0aWFsTWF0Y2hlc0lzRk9XID0gdHJ1ZTtcbiAgICAgICAgaW5pdGlhbE1hdGNoZXMgPSBmb2dPZldhci5tYXRjaGVzO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpbml0aWFsTWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLmxhenkpKSB7XG4gICAgLy8gQWxsIGluaXRpYWxNYXRjaGVzIG5lZWQgdG8gYmUgbG9hZGVkIGJlZm9yZSB3ZSdyZSByZWFkeS4gIElmIHdlIGhhdmUgbGF6eVxuICAgIC8vIGZ1bmN0aW9ucyBhcm91bmQgc3RpbGwgdGhlbiB3ZSdsbCBuZWVkIHRvIHJ1biB0aGVtIGluIGluaXRpYWxpemUoKVxuICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAoIWluaXRpYWxNYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUubG9hZGVyKSkge1xuICAgIC8vIElmIHdlJ3ZlIGdvdCBubyBsb2FkZXJzIHRvIHJ1biwgdGhlbiB3ZSdyZSBnb29kIHRvIGdvXG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9IGVsc2UgaWYgKGZ1dHVyZS52N19wYXJ0aWFsSHlkcmF0aW9uKSB7XG4gICAgLy8gSWYgcGFydGlhbCBoeWRyYXRpb24gaXMgZW5hYmxlZCwgd2UncmUgaW5pdGlhbGl6ZWQgc28gbG9uZyBhcyB3ZSB3ZXJlXG4gICAgLy8gcHJvdmlkZWQgd2l0aCBoeWRyYXRpb25EYXRhIGZvciBldmVyeSByb3V0ZSB3aXRoIGEgbG9hZGVyLCBhbmQgbm8gbG9hZGVyc1xuICAgIC8vIHdlcmUgbWFya2VkIGZvciBleHBsaWNpdCBoeWRyYXRpb25cbiAgICBsZXQgbG9hZGVyRGF0YSA9IGluaXQuaHlkcmF0aW9uRGF0YSA/IGluaXQuaHlkcmF0aW9uRGF0YS5sb2FkZXJEYXRhIDogbnVsbDtcbiAgICBsZXQgZXJyb3JzID0gaW5pdC5oeWRyYXRpb25EYXRhID8gaW5pdC5oeWRyYXRpb25EYXRhLmVycm9ycyA6IG51bGw7XG4gICAgLy8gSWYgZXJyb3JzIGV4aXN0LCBkb24ndCBjb25zaWRlciByb3V0ZXMgYmVsb3cgdGhlIGJvdW5kYXJ5XG4gICAgaWYgKGVycm9ycykge1xuICAgICAgbGV0IGlkeCA9IGluaXRpYWxNYXRjaGVzLmZpbmRJbmRleChcbiAgICAgICAgKG0pID0+IGVycm9ycyFbbS5yb3V0ZS5pZF0gIT09IHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIGluaXRpYWxpemVkID0gaW5pdGlhbE1hdGNoZXNcbiAgICAgICAgLnNsaWNlKDAsIGlkeCArIDEpXG4gICAgICAgIC5ldmVyeSgobSkgPT4gIXNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKG0ucm91dGUsIGxvYWRlckRhdGEsIGVycm9ycykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0aWFsaXplZCA9IGluaXRpYWxNYXRjaGVzLmV2ZXJ5KFxuICAgICAgICAobSkgPT4gIXNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKG0ucm91dGUsIGxvYWRlckRhdGEsIGVycm9ycylcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFdpdGhvdXQgcGFydGlhbCBoeWRyYXRpb24gLSB3ZSdyZSBpbml0aWFsaXplZCBpZiB3ZSB3ZXJlIHByb3ZpZGVkIGFueVxuICAgIC8vIGh5ZHJhdGlvbkRhdGEgLSB3aGljaCBpcyBleHBlY3RlZCB0byBiZSBjb21wbGV0ZVxuICAgIGluaXRpYWxpemVkID0gaW5pdC5oeWRyYXRpb25EYXRhICE9IG51bGw7XG4gIH1cblxuICBsZXQgcm91dGVyOiBSb3V0ZXI7XG4gIGxldCBzdGF0ZTogUm91dGVyU3RhdGUgPSB7XG4gICAgaGlzdG9yeUFjdGlvbjogaW5pdC5oaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaW5pdC5oaXN0b3J5LmxvY2F0aW9uLFxuICAgIG1hdGNoZXM6IGluaXRpYWxNYXRjaGVzLFxuICAgIGluaXRpYWxpemVkLFxuICAgIG5hdmlnYXRpb246IElETEVfTkFWSUdBVElPTixcbiAgICAvLyBEb24ndCByZXN0b3JlIG9uIGluaXRpYWwgdXBkYXRlU3RhdGUoKSBpZiB3ZSB3ZXJlIFNTUidkXG4gICAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiBpbml0Lmh5ZHJhdGlvbkRhdGEgIT0gbnVsbCA/IGZhbHNlIDogbnVsbCxcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IGZhbHNlLFxuICAgIHJldmFsaWRhdGlvbjogXCJpZGxlXCIsXG4gICAgbG9hZGVyRGF0YTogKGluaXQuaHlkcmF0aW9uRGF0YSAmJiBpbml0Lmh5ZHJhdGlvbkRhdGEubG9hZGVyRGF0YSkgfHwge30sXG4gICAgYWN0aW9uRGF0YTogKGluaXQuaHlkcmF0aW9uRGF0YSAmJiBpbml0Lmh5ZHJhdGlvbkRhdGEuYWN0aW9uRGF0YSkgfHwgbnVsbCxcbiAgICBlcnJvcnM6IChpbml0Lmh5ZHJhdGlvbkRhdGEgJiYgaW5pdC5oeWRyYXRpb25EYXRhLmVycm9ycykgfHwgaW5pdGlhbEVycm9ycyxcbiAgICBmZXRjaGVyczogbmV3IE1hcCgpLFxuICAgIGJsb2NrZXJzOiBuZXcgTWFwKCksXG4gIH07XG5cbiAgLy8gLS0gU3RhdGVmdWwgaW50ZXJuYWwgdmFyaWFibGVzIHRvIG1hbmFnZSBuYXZpZ2F0aW9ucyAtLVxuICAvLyBDdXJyZW50IG5hdmlnYXRpb24gaW4gcHJvZ3Jlc3MgKHRvIGJlIGNvbW1pdHRlZCBpbiBjb21wbGV0ZU5hdmlnYXRpb24pXG4gIGxldCBwZW5kaW5nQWN0aW9uOiBIaXN0b3J5QWN0aW9uID0gSGlzdG9yeUFjdGlvbi5Qb3A7XG5cbiAgLy8gU2hvdWxkIHRoZSBjdXJyZW50IG5hdmlnYXRpb24gcHJldmVudCB0aGUgc2Nyb2xsIHJlc2V0IGlmIHNjcm9sbCBjYW5ub3RcbiAgLy8gYmUgcmVzdG9yZWQ/XG4gIGxldCBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gZmFsc2U7XG5cbiAgLy8gQWJvcnRDb250cm9sbGVyIGZvciB0aGUgYWN0aXZlIG5hdmlnYXRpb25cbiAgbGV0IHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyIHwgbnVsbDtcblxuICAvLyBTaG91bGQgdGhlIGN1cnJlbnQgbmF2aWdhdGlvbiBlbmFibGUgZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvbj9cbiAgbGV0IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPSBmYWxzZTtcblxuICAvLyBTdG9yZSBhcHBsaWVkIHZpZXcgdHJhbnNpdGlvbnMgc28gd2UgY2FuIGFwcGx5IHRoZW0gb24gUE9QXG4gIGxldCBhcHBsaWVkVmlld1RyYW5zaXRpb25zOiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4gPSBuZXcgTWFwPFxuICAgIHN0cmluZyxcbiAgICBTZXQ8c3RyaW5nPlxuICA+KCk7XG5cbiAgLy8gQ2xlYW51cCBmdW5jdGlvbiBmb3IgcGVyc2lzdGluZyBhcHBsaWVkIHRyYW5zaXRpb25zIHRvIHNlc3Npb25TdG9yYWdlXG4gIGxldCByZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXI6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuXG4gIC8vIFdlIHVzZSB0aGlzIHRvIGF2b2lkIHRvdWNoaW5nIGhpc3RvcnkgaW4gY29tcGxldGVOYXZpZ2F0aW9uIGlmIGFcbiAgLy8gcmV2YWxpZGF0aW9uIGlzIGVudGlyZWx5IHVuaW50ZXJydXB0ZWRcbiAgbGV0IGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA9IGZhbHNlO1xuXG4gIC8vIFVzZSB0aGlzIGludGVybmFsIGZsYWcgdG8gZm9yY2UgcmV2YWxpZGF0aW9uIG9mIGFsbCBsb2FkZXJzOlxuICAvLyAgLSBzdWJtaXNzaW9ucyAoY29tcGxldGVkIG9yIGludGVycnVwdGVkKVxuICAvLyAgLSB1c2VSZXZhbGlkYXRvcigpXG4gIC8vICAtIFgtUmVtaXgtUmV2YWxpZGF0ZSAoZnJvbSByZWRpcmVjdClcbiAgbGV0IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcblxuICAvLyBVc2UgdGhpcyBpbnRlcm5hbCBhcnJheSB0byBjYXB0dXJlIHJvdXRlcyB0aGF0IHJlcXVpcmUgcmV2YWxpZGF0aW9uIGR1ZVxuICAvLyB0byBhIGNhbmNlbGxlZCBkZWZlcnJlZCBvbiBhY3Rpb24gc3VibWlzc2lvblxuICBsZXQgY2FuY2VsbGVkRGVmZXJyZWRSb3V0ZXM6IHN0cmluZ1tdID0gW107XG5cbiAgLy8gVXNlIHRoaXMgaW50ZXJuYWwgYXJyYXkgdG8gY2FwdHVyZSBmZXRjaGVyIGxvYWRzIHRoYXQgd2VyZSBjYW5jZWxsZWQgYnkgYW5cbiAgLy8gYWN0aW9uIG5hdmlnYXRpb24gYW5kIHJlcXVpcmUgcmV2YWxpZGF0aW9uXG4gIGxldCBjYW5jZWxsZWRGZXRjaGVyTG9hZHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuXG4gIC8vIEFib3J0Q29udHJvbGxlcnMgZm9yIGFueSBpbi1mbGlnaHQgZmV0Y2hlcnNcbiAgbGV0IGZldGNoQ29udHJvbGxlcnMgPSBuZXcgTWFwPHN0cmluZywgQWJvcnRDb250cm9sbGVyPigpO1xuXG4gIC8vIFRyYWNrIGxvYWRzIGJhc2VkIG9uIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHN0YXJ0ZWRcbiAgbGV0IGluY3JlbWVudGluZ0xvYWRJZCA9IDA7XG5cbiAgLy8gVHJhY2sgdGhlIG91dHN0YW5kaW5nIHBlbmRpbmcgbmF2aWdhdGlvbiBkYXRhIGxvYWQgdG8gYmUgY29tcGFyZWQgYWdhaW5zdFxuICAvLyB0aGUgZ2xvYmFsbHkgaW5jcmVtZW50aW5nIGxvYWQgd2hlbiBhIGZldGNoZXIgbG9hZCBsYW5kcyBhZnRlciBhIGNvbXBsZXRlZFxuICAvLyBuYXZpZ2F0aW9uXG4gIGxldCBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA9IC0xO1xuXG4gIC8vIEZldGNoZXJzIHRoYXQgdHJpZ2dlcmVkIGRhdGEgcmVsb2FkcyBhcyBhIHJlc3VsdCBvZiB0aGVpciBhY3Rpb25zXG4gIGxldCBmZXRjaFJlbG9hZElkcyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG5cbiAgLy8gRmV0Y2hlcnMgdGhhdCB0cmlnZ2VyZWQgcmVkaXJlY3QgbmF2aWdhdGlvbnNcbiAgbGV0IGZldGNoUmVkaXJlY3RJZHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAvLyBNb3N0IHJlY2VudCBocmVmL21hdGNoIGZvciBmZXRjaGVyLmxvYWQgY2FsbHMgZm9yIGZldGNoZXJzXG4gIGxldCBmZXRjaExvYWRNYXRjaGVzID0gbmV3IE1hcDxzdHJpbmcsIEZldGNoTG9hZE1hdGNoPigpO1xuXG4gIC8vIFJlZi1jb3VudCBtb3VudGVkIGZldGNoZXJzIHNvIHdlIGtub3cgd2hlbiBpdCdzIG9rIHRvIGNsZWFuIHRoZW0gdXBcbiAgbGV0IGFjdGl2ZUZldGNoZXJzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcblxuICAvLyBGZXRjaGVycyB0aGF0IGhhdmUgcmVxdWVzdGVkIGEgZGVsZXRlIHdoZW4gdXNpbmcgdjdfZmV0Y2hlclBlcnNpc3QsXG4gIC8vIHRoZXknbGwgYmUgb2ZmaWNpYWxseSByZW1vdmVkIGFmdGVyIHRoZXkgcmV0dXJuIHRvIGlkbGVcbiAgbGV0IGRlbGV0ZWRGZXRjaGVycyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gIC8vIFN0b3JlIERlZmVycmVkRGF0YSBpbnN0YW5jZXMgZm9yIGFjdGl2ZSByb3V0ZSBtYXRjaGVzLiAgV2hlbiBhXG4gIC8vIHJvdXRlIGxvYWRlciByZXR1cm5zIGRlZmVyKCkgd2Ugc3RpY2sgb25lIGluIGhlcmUuICBUaGVuLCB3aGVuIGEgbmVzdGVkXG4gIC8vIHByb21pc2UgcmVzb2x2ZXMgd2UgdXBkYXRlIGxvYWRlckRhdGEuICBJZiBhIG5ldyBuYXZpZ2F0aW9uIHN0YXJ0cyB3ZVxuICAvLyBjYW5jZWwgYWN0aXZlIGRlZmVycmVkcyBmb3IgZWxpbWluYXRlZCByb3V0ZXMuXG4gIGxldCBhY3RpdmVEZWZlcnJlZHMgPSBuZXcgTWFwPHN0cmluZywgRGVmZXJyZWREYXRhPigpO1xuXG4gIC8vIFN0b3JlIGJsb2NrZXIgZnVuY3Rpb25zIGluIGEgc2VwYXJhdGUgTWFwIG91dHNpZGUgb2Ygcm91dGVyIHN0YXRlIHNpbmNlXG4gIC8vIHdlIGRvbid0IG5lZWQgdG8gdXBkYXRlIFVJIHN0YXRlIGlmIHRoZXkgY2hhbmdlXG4gIGxldCBibG9ja2VyRnVuY3Rpb25zID0gbmV3IE1hcDxzdHJpbmcsIEJsb2NrZXJGdW5jdGlvbj4oKTtcblxuICAvLyBNYXAgb2YgcGVuZGluZyBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbigpIHByb21pc2VzIChrZXllZCBieSBwYXRoL21hdGNoZXMpIHNvXG4gIC8vIHRoYXQgd2Ugb25seSBraWNrIHRoZW0gb2ZmIG9uY2UgZm9yIGEgZ2l2ZW4gY29tYm9cbiAgbGV0IHBlbmRpbmdQYXRjaFJvdXRlcyA9IG5ldyBNYXA8XG4gICAgc3RyaW5nLFxuICAgIFJldHVyblR5cGU8QWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uPlxuICA+KCk7XG5cbiAgLy8gRmxhZyB0byBpZ25vcmUgdGhlIG5leHQgaGlzdG9yeSB1cGRhdGUsIHNvIHdlIGNhbiByZXZlcnQgdGhlIFVSTCBjaGFuZ2Ugb25cbiAgLy8gYSBQT1AgbmF2aWdhdGlvbiB0aGF0IHdhcyBibG9ja2VkIGJ5IHRoZSB1c2VyIHdpdGhvdXQgdG91Y2hpbmcgcm91dGVyIHN0YXRlXG4gIGxldCB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGU6ICgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAvLyBJbml0aWFsaXplIHRoZSByb3V0ZXIsIGFsbCBzaWRlIGVmZmVjdHMgc2hvdWxkIGJlIGtpY2tlZCBvZmYgZnJvbSBoZXJlLlxuICAvLyBJbXBsZW1lbnRlZCBhcyBhIEZsdWVudCBBUEkgZm9yIGVhc2Ugb2Y6XG4gIC8vICAgbGV0IHJvdXRlciA9IGNyZWF0ZVJvdXRlcihpbml0KS5pbml0aWFsaXplKCk7XG4gIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgLy8gSWYgaGlzdG9yeSBpbmZvcm1zIHVzIG9mIGEgUE9QIG5hdmlnYXRpb24sIHN0YXJ0IHRoZSBuYXZpZ2F0aW9uIGJ1dCBkbyBub3QgdXBkYXRlXG4gICAgLy8gc3RhdGUuICBXZSdsbCB1cGRhdGUgb3VyIG93biBzdGF0ZSBvbmNlIHRoZSBuYXZpZ2F0aW9uIGNvbXBsZXRlc1xuICAgIHVubGlzdGVuSGlzdG9yeSA9IGluaXQuaGlzdG9yeS5saXN0ZW4oXG4gICAgICAoeyBhY3Rpb246IGhpc3RvcnlBY3Rpb24sIGxvY2F0aW9uLCBkZWx0YSB9KSA9PiB7XG4gICAgICAgIC8vIElnbm9yZSB0aGlzIGV2ZW50IGlmIGl0IHdhcyBqdXN0IHVzIHJlc2V0dGluZyB0aGUgVVJMIGZyb20gYVxuICAgICAgICAvLyBibG9ja2VkIFBPUCBuYXZpZ2F0aW9uXG4gICAgICAgIGlmICh1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUpIHtcbiAgICAgICAgICB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUoKTtcbiAgICAgICAgICB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBibG9ja2VyRnVuY3Rpb25zLnNpemUgPT09IDAgfHwgZGVsdGEgIT0gbnVsbCxcbiAgICAgICAgICBcIllvdSBhcmUgdHJ5aW5nIHRvIHVzZSBhIGJsb2NrZXIgb24gYSBQT1AgbmF2aWdhdGlvbiB0byBhIGxvY2F0aW9uIFwiICtcbiAgICAgICAgICAgIFwidGhhdCB3YXMgbm90IGNyZWF0ZWQgYnkgQHJlbWl4LXJ1bi9yb3V0ZXIuIFRoaXMgd2lsbCBmYWlsIHNpbGVudGx5IGluIFwiICtcbiAgICAgICAgICAgIFwicHJvZHVjdGlvbi4gVGhpcyBjYW4gaGFwcGVuIGlmIHlvdSBhcmUgbmF2aWdhdGluZyBvdXRzaWRlIHRoZSByb3V0ZXIgXCIgK1xuICAgICAgICAgICAgXCJ2aWEgYHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZWAvYHdpbmRvdy5sb2NhdGlvbi5oYXNoYCBpbnN0ZWFkIG9mIHVzaW5nIFwiICtcbiAgICAgICAgICAgIFwicm91dGVyIG5hdmlnYXRpb24gQVBJcy4gIFRoaXMgY2FuIGFsc28gaGFwcGVuIGlmIHlvdSBhcmUgdXNpbmcgXCIgK1xuICAgICAgICAgICAgXCJjcmVhdGVIYXNoUm91dGVyIGFuZCB0aGUgdXNlciBtYW51YWxseSBjaGFuZ2VzIHRoZSBVUkwuXCJcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgYmxvY2tlcktleSA9IHNob3VsZEJsb2NrTmF2aWdhdGlvbih7XG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIGhpc3RvcnlBY3Rpb24sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChibG9ja2VyS2V5ICYmIGRlbHRhICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBSZXN0b3JlIHRoZSBVUkwgdG8gbWF0Y2ggdGhlIGN1cnJlbnQgVUksIGJ1dCBkb24ndCB1cGRhdGUgcm91dGVyIHN0YXRlXG4gICAgICAgICAgbGV0IG5leHRIaXN0b3J5VXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUgPSByZXNvbHZlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGluaXQuaGlzdG9yeS5nbyhkZWx0YSAqIC0xKTtcblxuICAgICAgICAgIC8vIFB1dCB0aGUgYmxvY2tlciBpbnRvIGEgYmxvY2tlZCBzdGF0ZVxuICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICAgICAgc3RhdGU6IFwiYmxvY2tlZFwiLFxuICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICBwcm9jZWVkKCkge1xuICAgICAgICAgICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXkhLCB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFwicHJvY2VlZGluZ1wiLFxuICAgICAgICAgICAgICAgIHByb2NlZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICByZXNldDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgLy8gUmUtZG8gdGhlIHNhbWUgUE9QIG5hdmlnYXRpb24gd2UganVzdCBibG9ja2VkLCBhZnRlciB0aGUgdXJsXG4gICAgICAgICAgICAgIC8vIHJlc3RvcmF0aW9uIGlzIGFsc28gY29tcGxldGUuICBTZWU6XG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vcmVhY3Qtcm91dGVyL2lzc3Vlcy8xMTYxM1xuICAgICAgICAgICAgICBuZXh0SGlzdG9yeVVwZGF0ZVByb21pc2UudGhlbigoKSA9PiBpbml0Lmhpc3RvcnkuZ28oZGVsdGEpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldCgpIHtcbiAgICAgICAgICAgICAgbGV0IGJsb2NrZXJzID0gbmV3IE1hcChzdGF0ZS5ibG9ja2Vycyk7XG4gICAgICAgICAgICAgIGJsb2NrZXJzLnNldChibG9ja2VyS2V5ISwgSURMRV9CTE9DS0VSKTtcbiAgICAgICAgICAgICAgdXBkYXRlU3RhdGUoeyBibG9ja2VycyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YXJ0TmF2aWdhdGlvbihoaXN0b3J5QWN0aW9uLCBsb2NhdGlvbik7XG4gICAgICB9XG4gICAgKTtcblxuICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgIC8vIEZJWE1FOiBUaGlzIGZlZWxzIGdyb3NzLiAgSG93IGNhbiB3ZSBjbGVhbnVwIHRoZSBsaW5lcyBiZXR3ZWVuXG4gICAgICAvLyBzY3JvbGxSZXN0b3JhdGlvbi9hcHBsaWVkVHJhbnNpdGlvbnMgcGVyc2lzdGFuY2U/XG4gICAgICByZXN0b3JlQXBwbGllZFRyYW5zaXRpb25zKHJvdXRlcldpbmRvdywgYXBwbGllZFZpZXdUcmFuc2l0aW9ucyk7XG4gICAgICBsZXQgX3NhdmVBcHBsaWVkVHJhbnNpdGlvbnMgPSAoKSA9PlxuICAgICAgICBwZXJzaXN0QXBwbGllZFRyYW5zaXRpb25zKHJvdXRlcldpbmRvdywgYXBwbGllZFZpZXdUcmFuc2l0aW9ucyk7XG4gICAgICByb3V0ZXJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIF9zYXZlQXBwbGllZFRyYW5zaXRpb25zKTtcbiAgICAgIHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lciA9ICgpID0+XG4gICAgICAgIHJvdXRlcldpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX3NhdmVBcHBsaWVkVHJhbnNpdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIEtpY2sgb2ZmIGluaXRpYWwgZGF0YSBsb2FkIGlmIG5lZWRlZC4gIFVzZSBQb3AgdG8gYXZvaWQgbW9kaWZ5aW5nIGhpc3RvcnlcbiAgICAvLyBOb3RlIHdlIGRvbid0IGRvIGFueSBoYW5kbGluZyBvZiBsYXp5IGhlcmUuICBGb3IgU1BBJ3MgaXQnbGwgZ2V0IGhhbmRsZWRcbiAgICAvLyBpbiB0aGUgbm9ybWFsIG5hdmlnYXRpb24gZmxvdy4gIEZvciBTU1IgaXQncyBleHBlY3RlZCB0aGF0IGxhenkgbW9kdWxlcyBhcmVcbiAgICAvLyByZXNvbHZlZCBwcmlvciB0byByb3V0ZXIgY3JlYXRpb24gc2luY2Ugd2UgY2FuJ3QgZ28gaW50byBhIGZhbGxiYWNrRWxlbWVudFxuICAgIC8vIFVJIGZvciBTU1InZCBhcHBzXG4gICAgaWYgKCFzdGF0ZS5pbml0aWFsaXplZCkge1xuICAgICAgc3RhcnROYXZpZ2F0aW9uKEhpc3RvcnlBY3Rpb24uUG9wLCBzdGF0ZS5sb2NhdGlvbiwge1xuICAgICAgICBpbml0aWFsSHlkcmF0aW9uOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvdXRlcjtcbiAgfVxuXG4gIC8vIENsZWFuIHVwIGEgcm91dGVyIGFuZCBpdCdzIHNpZGUgZWZmZWN0c1xuICBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIGlmICh1bmxpc3Rlbkhpc3RvcnkpIHtcbiAgICAgIHVubGlzdGVuSGlzdG9yeSgpO1xuICAgIH1cbiAgICBpZiAocmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyKSB7XG4gICAgICByZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIoKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlcnMuY2xlYXIoKTtcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG4gICAgc3RhdGUuZmV0Y2hlcnMuZm9yRWFjaCgoXywga2V5KSA9PiBkZWxldGVGZXRjaGVyKGtleSkpO1xuICAgIHN0YXRlLmJsb2NrZXJzLmZvckVhY2goKF8sIGtleSkgPT4gZGVsZXRlQmxvY2tlcihrZXkpKTtcbiAgfVxuXG4gIC8vIFN1YnNjcmliZSB0byBzdGF0ZSB1cGRhdGVzIGZvciB0aGUgcm91dGVyXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShmbjogUm91dGVyU3Vic2NyaWJlcikge1xuICAgIHN1YnNjcmliZXJzLmFkZChmbik7XG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmliZXJzLmRlbGV0ZShmbik7XG4gIH1cblxuICAvLyBVcGRhdGUgb3VyIHN0YXRlIGFuZCBub3RpZnkgdGhlIGNhbGxpbmcgY29udGV4dCBvZiB0aGUgY2hhbmdlXG4gIGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKFxuICAgIG5ld1N0YXRlOiBQYXJ0aWFsPFJvdXRlclN0YXRlPixcbiAgICBvcHRzOiB7XG4gICAgICBmbHVzaFN5bmM/OiBib29sZWFuO1xuICAgICAgdmlld1RyYW5zaXRpb25PcHRzPzogVmlld1RyYW5zaXRpb25PcHRzO1xuICAgIH0gPSB7fVxuICApOiB2b2lkIHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgLi4ubmV3U3RhdGUsXG4gICAgfTtcblxuICAgIC8vIFByZXAgZmV0Y2hlciBjbGVhbnVwIHNvIHdlIGNhbiB0ZWxsIHRoZSBVSSB3aGljaCBmZXRjaGVyIGRhdGEgZW50cmllc1xuICAgIC8vIGNhbiBiZSByZW1vdmVkXG4gICAgbGV0IGNvbXBsZXRlZEZldGNoZXJzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBkZWxldGVkRmV0Y2hlcnNLZXlzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKGZ1dHVyZS52N19mZXRjaGVyUGVyc2lzdCkge1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuZm9yRWFjaCgoZmV0Y2hlciwga2V5KSA9PiB7XG4gICAgICAgIGlmIChmZXRjaGVyLnN0YXRlID09PSBcImlkbGVcIikge1xuICAgICAgICAgIGlmIChkZWxldGVkRmV0Y2hlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIC8vIFVubW91bnRlZCBmcm9tIHRoZSBVSSBhbmQgY2FuIGJlIHRvdGFsbHkgcmVtb3ZlZFxuICAgICAgICAgICAgZGVsZXRlZEZldGNoZXJzS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJldHVybmVkIHRvIGlkbGUgYnV0IHN0aWxsIG1vdW50ZWQgaW4gdGhlIFVJLCBzbyBzZW1pLXJlbWFpbnMgZm9yXG4gICAgICAgICAgICAvLyByZXZhbGlkYXRpb25zIGFuZCBzdWNoXG4gICAgICAgICAgICBjb21wbGV0ZWRGZXRjaGVycy5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYW55IGxpbmdlcmluZyBkZWxldGVkIGZldGNoZXJzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gcmVtb3ZlZFxuICAgIC8vIGZyb20gc3RhdGUuZmV0Y2hlcnNcbiAgICBkZWxldGVkRmV0Y2hlcnMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoIXN0YXRlLmZldGNoZXJzLmhhcyhrZXkpICYmICFmZXRjaENvbnRyb2xsZXJzLmhhcyhrZXkpKSB7XG4gICAgICAgIGRlbGV0ZWRGZXRjaGVyc0tleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIGEgbG9jYWwgY29weSBzbyB0aGF0IGlmIGZsdXNoU3luYyBpcyB1c2VkIGFuZCB3ZSBlbmQgdXBcbiAgICAvLyByZW1vdmluZyBhbmQgYWRkaW5nIGEgbmV3IHN1YnNjcmliZXIgZHVlIHRvIHRoZSB1c2VDYWxsYmFjayBkZXBlbmRlbmNpZXMsXG4gICAgLy8gd2UgZG9uJ3QgZ2V0IG91cnNlbHZlcyBpbnRvIGEgbG9vcCBjYWxsaW5nIHRoZSBuZXcgc3Vic2NyaWJlciBpbW1lZGlhdGVseVxuICAgIFsuLi5zdWJzY3JpYmVyc10uZm9yRWFjaCgoc3Vic2NyaWJlcikgPT5cbiAgICAgIHN1YnNjcmliZXIoc3RhdGUsIHtcbiAgICAgICAgZGVsZXRlZEZldGNoZXJzOiBkZWxldGVkRmV0Y2hlcnNLZXlzLFxuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHM6IG9wdHMudmlld1RyYW5zaXRpb25PcHRzLFxuICAgICAgICBmbHVzaFN5bmM6IG9wdHMuZmx1c2hTeW5jID09PSB0cnVlLFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgLy8gUmVtb3ZlIGlkbGUgZmV0Y2hlcnMgZnJvbSBzdGF0ZSBzaW5jZSB3ZSBvbmx5IGNhcmUgYWJvdXQgaW4tZmxpZ2h0IGZldGNoZXJzLlxuICAgIGlmIChmdXR1cmUudjdfZmV0Y2hlclBlcnNpc3QpIHtcbiAgICAgIGNvbXBsZXRlZEZldGNoZXJzLmZvckVhY2goKGtleSkgPT4gc3RhdGUuZmV0Y2hlcnMuZGVsZXRlKGtleSkpO1xuICAgICAgZGVsZXRlZEZldGNoZXJzS2V5cy5mb3JFYWNoKChrZXkpID0+IGRlbGV0ZUZldGNoZXIoa2V5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIGFscmVhZHkgY2FsbGVkIGRlbGV0ZUZldGNoZXIoKSBvbiB0aGVzZSwgY2FuIHJlbW92ZSB0aGVtIGZyb20gdGhpc1xuICAgICAgLy8gU2V0IG5vdyB0aGF0IHdlJ3ZlIGhhbmRlZCB0aGUga2V5cyBvZmYgdG8gdGhlIGRhdGEgbGF5ZXJcbiAgICAgIGRlbGV0ZWRGZXRjaGVyc0tleXMuZm9yRWFjaCgoa2V5KSA9PiBkZWxldGVkRmV0Y2hlcnMuZGVsZXRlKGtleSkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbXBsZXRlIGEgbmF2aWdhdGlvbiByZXR1cm5pbmcgdGhlIHN0YXRlLm5hdmlnYXRpb24gYmFjayB0byB0aGUgSURMRV9OQVZJR0FUSU9OXG4gIC8vIGFuZCBzZXR0aW5nIHN0YXRlLltoaXN0b3J5QWN0aW9uL2xvY2F0aW9uL21hdGNoZXNdIHRvIHRoZSBuZXcgcm91dGUuXG4gIC8vIC0gTG9jYXRpb24gaXMgYSByZXF1aXJlZCBwYXJhbVxuICAvLyAtIE5hdmlnYXRpb24gd2lsbCBhbHdheXMgYmUgc2V0IHRvIElETEVfTkFWSUdBVElPTlxuICAvLyAtIENhbiBwYXNzIGFueSBvdGhlciBzdGF0ZSBpbiBuZXdTdGF0ZVxuICBmdW5jdGlvbiBjb21wbGV0ZU5hdmlnYXRpb24oXG4gICAgbG9jYXRpb246IExvY2F0aW9uLFxuICAgIG5ld1N0YXRlOiBQYXJ0aWFsPE9taXQ8Um91dGVyU3RhdGUsIFwiYWN0aW9uXCIgfCBcImxvY2F0aW9uXCIgfCBcIm5hdmlnYXRpb25cIj4+LFxuICAgIHsgZmx1c2hTeW5jIH06IHsgZmx1c2hTeW5jPzogYm9vbGVhbiB9ID0ge31cbiAgKTogdm9pZCB7XG4gICAgLy8gRGVkdWNlIGlmIHdlJ3JlIGluIGEgbG9hZGluZy9hY3Rpb25SZWxvYWQgc3RhdGU6XG4gICAgLy8gLSBXZSBoYXZlIGNvbW1pdHRlZCBhY3Rpb25EYXRhIGluIHRoZSBzdG9yZVxuICAgIC8vIC0gVGhlIGN1cnJlbnQgbmF2aWdhdGlvbiB3YXMgYSBtdXRhdGlvbiBzdWJtaXNzaW9uXG4gICAgLy8gLSBXZSdyZSBwYXN0IHRoZSBzdWJtaXR0aW5nIHN0YXRlIGFuZCBpbnRvIHRoZSBsb2FkaW5nIHN0YXRlXG4gICAgLy8gLSBUaGUgbG9jYXRpb24gYmVpbmcgbG9hZGVkIGlzIG5vdCB0aGUgcmVzdWx0IG9mIGEgcmVkaXJlY3RcbiAgICBsZXQgaXNBY3Rpb25SZWxvYWQgPVxuICAgICAgc3RhdGUuYWN0aW9uRGF0YSAhPSBudWxsICYmXG4gICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QgIT0gbnVsbCAmJlxuICAgICAgaXNNdXRhdGlvbk1ldGhvZChzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QpICYmXG4gICAgICBzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJlxuICAgICAgbG9jYXRpb24uc3RhdGU/Ll9pc1JlZGlyZWN0ICE9PSB0cnVlO1xuXG4gICAgbGV0IGFjdGlvbkRhdGE6IFJvdXRlRGF0YSB8IG51bGw7XG4gICAgaWYgKG5ld1N0YXRlLmFjdGlvbkRhdGEpIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdTdGF0ZS5hY3Rpb25EYXRhKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFjdGlvbkRhdGEgPSBuZXdTdGF0ZS5hY3Rpb25EYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRW1wdHkgYWN0aW9uRGF0YSAtPiBjbGVhciBwcmlvciBhY3Rpb25EYXRhIGR1ZSB0byBhbiBhY3Rpb24gZXJyb3JcbiAgICAgICAgYWN0aW9uRGF0YSA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FjdGlvblJlbG9hZCkge1xuICAgICAgLy8gS2VlcCB0aGUgY3VycmVudCBkYXRhIGlmIHdlJ3JlIHdyYXBwaW5nIHVwIHRoZSBhY3Rpb24gcmVsb2FkXG4gICAgICBhY3Rpb25EYXRhID0gc3RhdGUuYWN0aW9uRGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2xlYXIgYWN0aW9uRGF0YSBvbiBhbnkgb3RoZXIgY29tcGxldGVkIG5hdmlnYXRpb25zXG4gICAgICBhY3Rpb25EYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBBbHdheXMgcHJlc2VydmUgYW55IGV4aXN0aW5nIGxvYWRlckRhdGEgZnJvbSByZS11c2VkIHJvdXRlc1xuICAgIGxldCBsb2FkZXJEYXRhID0gbmV3U3RhdGUubG9hZGVyRGF0YVxuICAgICAgPyBtZXJnZUxvYWRlckRhdGEoXG4gICAgICAgICAgc3RhdGUubG9hZGVyRGF0YSxcbiAgICAgICAgICBuZXdTdGF0ZS5sb2FkZXJEYXRhLFxuICAgICAgICAgIG5ld1N0YXRlLm1hdGNoZXMgfHwgW10sXG4gICAgICAgICAgbmV3U3RhdGUuZXJyb3JzXG4gICAgICAgIClcbiAgICAgIDogc3RhdGUubG9hZGVyRGF0YTtcblxuICAgIC8vIE9uIGEgc3VjY2Vzc2Z1bCBuYXZpZ2F0aW9uIHdlIGNhbiBhc3N1bWUgd2UgZ290IHRocm91Z2ggYWxsIGJsb2NrZXJzXG4gICAgLy8gc28gd2UgY2FuIHN0YXJ0IGZyZXNoXG4gICAgbGV0IGJsb2NrZXJzID0gc3RhdGUuYmxvY2tlcnM7XG4gICAgaWYgKGJsb2NrZXJzLnNpemUgPiAwKSB7XG4gICAgICBibG9ja2VycyA9IG5ldyBNYXAoYmxvY2tlcnMpO1xuICAgICAgYmxvY2tlcnMuZm9yRWFjaCgoXywgaykgPT4gYmxvY2tlcnMuc2V0KGssIElETEVfQkxPQ0tFUikpO1xuICAgIH1cblxuICAgIC8vIEFsd2F5cyByZXNwZWN0IHRoZSB1c2VyIGZsYWcuICBPdGhlcndpc2UgZG9uJ3QgcmVzZXQgb24gbXV0YXRpb25cbiAgICAvLyBzdWJtaXNzaW9uIG5hdmlnYXRpb25zIHVubGVzcyB0aGV5IHJlZGlyZWN0XG4gICAgbGV0IHByZXZlbnRTY3JvbGxSZXNldCA9XG4gICAgICBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID09PSB0cnVlIHx8XG4gICAgICAoc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kICE9IG51bGwgJiZcbiAgICAgICAgaXNNdXRhdGlvbk1ldGhvZChzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QpICYmXG4gICAgICAgIGxvY2F0aW9uLnN0YXRlPy5faXNSZWRpcmVjdCAhPT0gdHJ1ZSk7XG5cbiAgICAvLyBDb21taXQgYW55IGluLWZsaWdodCByb3V0ZXMgYXQgdGhlIGVuZCBvZiB0aGUgSE1SIHJldmFsaWRhdGlvbiBcIm5hdmlnYXRpb25cIlxuICAgIGlmIChpbkZsaWdodERhdGFSb3V0ZXMpIHtcbiAgICAgIGRhdGFSb3V0ZXMgPSBpbkZsaWdodERhdGFSb3V0ZXM7XG4gICAgICBpbkZsaWdodERhdGFSb3V0ZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbikge1xuICAgICAgLy8gSWYgdGhpcyB3YXMgYW4gdW5pbnRlcnJ1cHRlZCByZXZhbGlkYXRpb24gdGhlbiBkbyBub3QgdG91Y2ggaGlzdG9yeVxuICAgIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvbiA9PT0gSGlzdG9yeUFjdGlvbi5Qb3ApIHtcbiAgICAgIC8vIERvIG5vdGhpbmcgZm9yIFBPUCAtIFVSTCBoYXMgYWxyZWFkeSBiZWVuIHVwZGF0ZWRcbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb24gPT09IEhpc3RvcnlBY3Rpb24uUHVzaCkge1xuICAgICAgaW5pdC5oaXN0b3J5LnB1c2gobG9jYXRpb24sIGxvY2F0aW9uLnN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb24gPT09IEhpc3RvcnlBY3Rpb24uUmVwbGFjZSkge1xuICAgICAgaW5pdC5oaXN0b3J5LnJlcGxhY2UobG9jYXRpb24sIGxvY2F0aW9uLnN0YXRlKTtcbiAgICB9XG5cbiAgICBsZXQgdmlld1RyYW5zaXRpb25PcHRzOiBWaWV3VHJhbnNpdGlvbk9wdHMgfCB1bmRlZmluZWQ7XG5cbiAgICAvLyBPbiBQT1AsIGVuYWJsZSB0cmFuc2l0aW9ucyBpZiB0aGV5IHdlcmUgZW5hYmxlZCBvbiB0aGUgb3JpZ2luYWwgbmF2aWdhdGlvblxuICAgIGlmIChwZW5kaW5nQWN0aW9uID09PSBIaXN0b3J5QWN0aW9uLlBvcCkge1xuICAgICAgLy8gRm9yd2FyZCB0YWtlcyBwcmVjZWRlbmNlIHNvIHRoZXkgYmVoYXZlIGxpa2UgdGhlIG9yaWdpbmFsIG5hdmlnYXRpb25cbiAgICAgIGxldCBwcmlvclBhdGhzID0gYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5nZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgaWYgKHByaW9yUGF0aHMgJiYgcHJpb3JQYXRocy5oYXMobG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMuaGFzKGxvY2F0aW9uLnBhdGhuYW1lKSkge1xuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgcHJldmlvdXMgZm9yd2FyZCBuYXYsIGFzc3VtZSB3ZSdyZSBwb3BwaW5nIGJhY2sgdG9cbiAgICAgICAgLy8gdGhlIG5ldyBsb2NhdGlvbiBhbmQgZW5hYmxlIGlmIHRoYXQgbG9jYXRpb24gcHJldmlvdXNseSBlbmFibGVkXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkKSB7XG4gICAgICAvLyBTdG9yZSB0aGUgYXBwbGllZCB0cmFuc2l0aW9uIG9uIFBVU0gvUkVQTEFDRVxuICAgICAgbGV0IHRvUGF0aHMgPSBhcHBsaWVkVmlld1RyYW5zaXRpb25zLmdldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICBpZiAodG9QYXRocykge1xuICAgICAgICB0b1BhdGhzLmFkZChsb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b1BhdGhzID0gbmV3IFNldDxzdHJpbmc+KFtsb2NhdGlvbi5wYXRobmFtZV0pO1xuICAgICAgICBhcHBsaWVkVmlld1RyYW5zaXRpb25zLnNldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSwgdG9QYXRocyk7XG4gICAgICB9XG4gICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPSB7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICB9O1xuICAgIH1cblxuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAge1xuICAgICAgICAuLi5uZXdTdGF0ZSwgLy8gbWF0Y2hlcywgZXJyb3JzLCBmZXRjaGVycyBnbyB0aHJvdWdoIGFzLWlzXG4gICAgICAgIGFjdGlvbkRhdGEsXG4gICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgIGhpc3RvcnlBY3Rpb246IHBlbmRpbmdBY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgbmF2aWdhdGlvbjogSURMRV9OQVZJR0FUSU9OLFxuICAgICAgICByZXZhbGlkYXRpb246IFwiaWRsZVwiLFxuICAgICAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oXG4gICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgbmV3U3RhdGUubWF0Y2hlcyB8fCBzdGF0ZS5tYXRjaGVzXG4gICAgICAgICksXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgYmxvY2tlcnMsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHMsXG4gICAgICAgIGZsdXNoU3luYzogZmx1c2hTeW5jID09PSB0cnVlLFxuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBSZXNldCBzdGF0ZWZ1bCBuYXZpZ2F0aW9uIHZhcnNcbiAgICBwZW5kaW5nQWN0aW9uID0gSGlzdG9yeUFjdGlvbi5Qb3A7XG4gICAgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9IGZhbHNlO1xuICAgIHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICBpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gPSBmYWxzZTtcbiAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gICAgY2FuY2VsbGVkRGVmZXJyZWRSb3V0ZXMgPSBbXTtcbiAgfVxuXG4gIC8vIFRyaWdnZXIgYSBuYXZpZ2F0aW9uIGV2ZW50LCB3aGljaCBjYW4gZWl0aGVyIGJlIGEgbnVtZXJpY2FsIFBPUCBvciBhIFBVU0hcbiAgLy8gcmVwbGFjZSB3aXRoIGFuIG9wdGlvbmFsIHN1Ym1pc3Npb25cbiAgYXN5bmMgZnVuY3Rpb24gbmF2aWdhdGUoXG4gICAgdG86IG51bWJlciB8IFRvIHwgbnVsbCxcbiAgICBvcHRzPzogUm91dGVyTmF2aWdhdGVPcHRpb25zXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGluaXQuaGlzdG9yeS5nbyh0byk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplVG8oXG4gICAgICBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIHN0YXRlLm1hdGNoZXMsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGZ1dHVyZS52N19wcmVwZW5kQmFzZW5hbWUsXG4gICAgICB0byxcbiAgICAgIGZ1dHVyZS52N19yZWxhdGl2ZVNwbGF0UGF0aCxcbiAgICAgIG9wdHM/LmZyb21Sb3V0ZUlkLFxuICAgICAgb3B0cz8ucmVsYXRpdmVcbiAgICApO1xuICAgIGxldCB7IHBhdGgsIHN1Ym1pc3Npb24sIGVycm9yIH0gPSBub3JtYWxpemVOYXZpZ2F0ZU9wdGlvbnMoXG4gICAgICBmdXR1cmUudjdfbm9ybWFsaXplRm9ybU1ldGhvZCxcbiAgICAgIGZhbHNlLFxuICAgICAgbm9ybWFsaXplZFBhdGgsXG4gICAgICBvcHRzXG4gICAgKTtcblxuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSBzdGF0ZS5sb2NhdGlvbjtcbiAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oc3RhdGUubG9jYXRpb24sIHBhdGgsIG9wdHMgJiYgb3B0cy5zdGF0ZSk7XG5cbiAgICAvLyBXaGVuIHVzaW5nIG5hdmlnYXRlIGFzIGEgUFVTSC9SRVBMQUNFIHdlIGFyZW4ndCByZWFkaW5nIGFuIGFscmVhZHktZW5jb2RlZFxuICAgIC8vIFVSTCBmcm9tIHdpbmRvdy5sb2NhdGlvbiwgc28gd2UgbmVlZCB0byBlbmNvZGUgaXQgaGVyZSBzbyB0aGUgYmVoYXZpb3JcbiAgICAvLyByZW1haW5zIHRoZSBzYW1lIGFzIFBPUCBhbmQgbm9uLWRhdGEtcm91dGVyIHVzYWdlcy4gIG5ldyBVUkwoKSBkb2VzIGFsbFxuICAgIC8vIHRoZSBzYW1lIGVuY29kaW5nIHdlJ2QgZ2V0IGZyb20gYSBoaXN0b3J5LnB1c2hTdGF0ZS93aW5kb3cubG9jYXRpb24gcmVhZFxuICAgIC8vIHdpdGhvdXQgaGF2aW5nIHRvIHRvdWNoIGhpc3RvcnlcbiAgICBuZXh0TG9jYXRpb24gPSB7XG4gICAgICAuLi5uZXh0TG9jYXRpb24sXG4gICAgICAuLi5pbml0Lmhpc3RvcnkuZW5jb2RlTG9jYXRpb24obmV4dExvY2F0aW9uKSxcbiAgICB9O1xuXG4gICAgbGV0IHVzZXJSZXBsYWNlID0gb3B0cyAmJiBvcHRzLnJlcGxhY2UgIT0gbnVsbCA/IG9wdHMucmVwbGFjZSA6IHVuZGVmaW5lZDtcblxuICAgIGxldCBoaXN0b3J5QWN0aW9uID0gSGlzdG9yeUFjdGlvbi5QdXNoO1xuXG4gICAgaWYgKHVzZXJSZXBsYWNlID09PSB0cnVlKSB7XG4gICAgICBoaXN0b3J5QWN0aW9uID0gSGlzdG9yeUFjdGlvbi5SZXBsYWNlO1xuICAgIH0gZWxzZSBpZiAodXNlclJlcGxhY2UgPT09IGZhbHNlKSB7XG4gICAgICAvLyBuby1vcFxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBzdWJtaXNzaW9uICE9IG51bGwgJiZcbiAgICAgIGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSAmJlxuICAgICAgc3VibWlzc2lvbi5mb3JtQWN0aW9uID09PSBzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSArIHN0YXRlLmxvY2F0aW9uLnNlYXJjaFxuICAgICkge1xuICAgICAgLy8gQnkgZGVmYXVsdCBvbiBzdWJtaXNzaW9ucyB0byB0aGUgY3VycmVudCBsb2NhdGlvbiB3ZSBSRVBMQUNFIHNvIHRoYXRcbiAgICAgIC8vIHVzZXJzIGRvbid0IGhhdmUgdG8gZG91YmxlLWNsaWNrIHRoZSBiYWNrIGJ1dHRvbiB0byBnZXQgdG8gdGhlIHByaW9yXG4gICAgICAvLyBsb2NhdGlvbi4gIElmIHRoZSB1c2VyIHJlZGlyZWN0cyB0byBhIGRpZmZlcmVudCBsb2NhdGlvbiBmcm9tIHRoZVxuICAgICAgLy8gYWN0aW9uL2xvYWRlciB0aGlzIHdpbGwgYmUgaWdub3JlZCBhbmQgdGhlIHJlZGlyZWN0IHdpbGwgYmUgYSBQVVNIXG4gICAgICBoaXN0b3J5QWN0aW9uID0gSGlzdG9yeUFjdGlvbi5SZXBsYWNlO1xuICAgIH1cblxuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPVxuICAgICAgb3B0cyAmJiBcInByZXZlbnRTY3JvbGxSZXNldFwiIGluIG9wdHNcbiAgICAgICAgPyBvcHRzLnByZXZlbnRTY3JvbGxSZXNldCA9PT0gdHJ1ZVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG5cbiAgICBsZXQgYmxvY2tlcktleSA9IHNob3VsZEJsb2NrTmF2aWdhdGlvbih7XG4gICAgICBjdXJyZW50TG9jYXRpb24sXG4gICAgICBuZXh0TG9jYXRpb24sXG4gICAgICBoaXN0b3J5QWN0aW9uLFxuICAgIH0pO1xuXG4gICAgaWYgKGJsb2NrZXJLZXkpIHtcbiAgICAgIC8vIFB1dCB0aGUgYmxvY2tlciBpbnRvIGEgYmxvY2tlZCBzdGF0ZVxuICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5LCB7XG4gICAgICAgIHN0YXRlOiBcImJsb2NrZWRcIixcbiAgICAgICAgbG9jYXRpb246IG5leHRMb2NhdGlvbixcbiAgICAgICAgcHJvY2VlZCgpIHtcbiAgICAgICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXkhLCB7XG4gICAgICAgICAgICBzdGF0ZTogXCJwcm9jZWVkaW5nXCIsXG4gICAgICAgICAgICBwcm9jZWVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByZXNldDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbG9jYXRpb246IG5leHRMb2NhdGlvbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBTZW5kIHRoZSBzYW1lIG5hdmlnYXRpb24gdGhyb3VnaFxuICAgICAgICAgIG5hdmlnYXRlKHRvLCBvcHRzKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQoKSB7XG4gICAgICAgICAgbGV0IGJsb2NrZXJzID0gbmV3IE1hcChzdGF0ZS5ibG9ja2Vycyk7XG4gICAgICAgICAgYmxvY2tlcnMuc2V0KGJsb2NrZXJLZXkhLCBJRExFX0JMT0NLRVIpO1xuICAgICAgICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgc3RhcnROYXZpZ2F0aW9uKGhpc3RvcnlBY3Rpb24sIG5leHRMb2NhdGlvbiwge1xuICAgICAgc3VibWlzc2lvbixcbiAgICAgIC8vIFNlbmQgdGhyb3VnaCB0aGUgZm9ybURhdGEgc2VyaWFsaXphdGlvbiBlcnJvciBpZiB3ZSBoYXZlIG9uZSBzbyB3ZSBjYW5cbiAgICAgIC8vIHJlbmRlciBhdCB0aGUgcmlnaHQgZXJyb3IgYm91bmRhcnkgYWZ0ZXIgd2UgbWF0Y2ggcm91dGVzXG4gICAgICBwZW5kaW5nRXJyb3I6IGVycm9yLFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgcmVwbGFjZTogb3B0cyAmJiBvcHRzLnJlcGxhY2UsXG4gICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogb3B0cyAmJiBvcHRzLnZpZXdUcmFuc2l0aW9uLFxuICAgICAgZmx1c2hTeW5jLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gUmV2YWxpZGF0ZSBhbGwgY3VycmVudCBsb2FkZXJzLiAgSWYgYSBuYXZpZ2F0aW9uIGlzIGluIHByb2dyZXNzIG9yIGlmIHRoaXNcbiAgLy8gaXMgaW50ZXJydXB0ZWQgYnkgYSBuYXZpZ2F0aW9uLCBhbGxvdyB0aGlzIHRvIFwic3VjY2VlZFwiIGJ5IGNhbGxpbmcgYWxsXG4gIC8vIGxvYWRlcnMgZHVyaW5nIHRoZSBuZXh0IGxvYWRlciByb3VuZFxuICBmdW5jdGlvbiByZXZhbGlkYXRlKCkge1xuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgdXBkYXRlU3RhdGUoeyByZXZhbGlkYXRpb246IFwibG9hZGluZ1wiIH0pO1xuXG4gICAgLy8gSWYgd2UncmUgY3VycmVudGx5IHN1Ym1pdHRpbmcgYW4gYWN0aW9uLCB3ZSBkb24ndCBuZWVkIHRvIHN0YXJ0IGEgbmV3XG4gICAgLy8gbmF2aWdhdGlvbiwgd2UnbGwganVzdCBsZXQgdGhlIGZvbGxvdyB1cCBsb2FkZXIgZXhlY3V0aW9uIGNhbGwgYWxsIGxvYWRlcnNcbiAgICBpZiAoc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJzdWJtaXR0aW5nXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSdyZSBjdXJyZW50bHkgaW4gYW4gaWRsZSBzdGF0ZSwgc3RhcnQgYSBuZXcgbmF2aWdhdGlvbiBmb3IgdGhlIGN1cnJlbnRcbiAgICAvLyBhY3Rpb24vbG9jYXRpb24gYW5kIG1hcmsgaXQgYXMgdW5pbnRlcnJ1cHRlZCwgd2hpY2ggd2lsbCBza2lwIHRoZSBoaXN0b3J5XG4gICAgLy8gdXBkYXRlIGluIGNvbXBsZXRlTmF2aWdhdGlvblxuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImlkbGVcIikge1xuICAgICAgc3RhcnROYXZpZ2F0aW9uKHN0YXRlLmhpc3RvcnlBY3Rpb24sIHN0YXRlLmxvY2F0aW9uLCB7XG4gICAgICAgIHN0YXJ0VW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSwgaWYgd2UncmUgY3VycmVudGx5IGluIGEgbG9hZGluZyBzdGF0ZSwganVzdCBzdGFydCBhIG5ld1xuICAgIC8vIG5hdmlnYXRpb24gdG8gdGhlIG5hdmlnYXRpb24ubG9jYXRpb24gYnV0IGRvIG5vdCB0cmlnZ2VyIGFuIHVuaW50ZXJydXB0ZWRcbiAgICAvLyByZXZhbGlkYXRpb24gc28gdGhhdCBoaXN0b3J5IGNvcnJlY3RseSB1cGRhdGVzIG9uY2UgdGhlIG5hdmlnYXRpb24gY29tcGxldGVzXG4gICAgc3RhcnROYXZpZ2F0aW9uKFxuICAgICAgcGVuZGluZ0FjdGlvbiB8fCBzdGF0ZS5oaXN0b3J5QWN0aW9uLFxuICAgICAgc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbixcbiAgICAgIHtcbiAgICAgICAgb3ZlcnJpZGVOYXZpZ2F0aW9uOiBzdGF0ZS5uYXZpZ2F0aW9uLFxuICAgICAgICAvLyBQcm94eSB0aHJvdWdoIGFueSByZW5kaW5nIHZpZXcgdHJhbnNpdGlvblxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9PT0gdHJ1ZSxcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLy8gU3RhcnQgYSBuYXZpZ2F0aW9uIHRvIHRoZSBnaXZlbiBhY3Rpb24vbG9jYXRpb24uICBDYW4gb3B0aW9uYWxseSBwcm92aWRlIGFcbiAgLy8gb3ZlcnJpZGVOYXZpZ2F0aW9uIHdoaWNoIHdpbGwgb3ZlcnJpZGUgdGhlIG5vcm1hbExvYWQgaW4gdGhlIGNhc2Ugb2YgYSByZWRpcmVjdFxuICAvLyBuYXZpZ2F0aW9uXG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0TmF2aWdhdGlvbihcbiAgICBoaXN0b3J5QWN0aW9uOiBIaXN0b3J5QWN0aW9uLFxuICAgIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgICBvcHRzPzoge1xuICAgICAgaW5pdGlhbEh5ZHJhdGlvbj86IGJvb2xlYW47XG4gICAgICBzdWJtaXNzaW9uPzogU3VibWlzc2lvbjtcbiAgICAgIGZldGNoZXJTdWJtaXNzaW9uPzogU3VibWlzc2lvbjtcbiAgICAgIG92ZXJyaWRlTmF2aWdhdGlvbj86IE5hdmlnYXRpb247XG4gICAgICBwZW5kaW5nRXJyb3I/OiBFcnJvclJlc3BvbnNlSW1wbDtcbiAgICAgIHN0YXJ0VW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbj86IGJvb2xlYW47XG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ/OiBib29sZWFuO1xuICAgICAgcmVwbGFjZT86IGJvb2xlYW47XG4gICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbj86IGJvb2xlYW47XG4gICAgICBmbHVzaFN5bmM/OiBib29sZWFuO1xuICAgIH1cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gQWJvcnQgYW55IGluLXByb2dyZXNzIG5hdmlnYXRpb25zIGFuZCBzdGFydCBhIG5ldyBvbmUuIFVuc2V0IGFueSBvbmdvaW5nXG4gICAgLy8gdW5pbnRlcnJ1cHRlZCByZXZhbGlkYXRpb25zIHVubGVzcyB0b2xkIG90aGVyd2lzZSwgc2luY2Ugd2Ugd2FudCB0aGlzXG4gICAgLy8gbmV3IG5hdmlnYXRpb24gdG8gdXBkYXRlIGhpc3Rvcnkgbm9ybWFsbHlcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcbiAgICBwZW5kaW5nQWN0aW9uID0gaGlzdG9yeUFjdGlvbjtcbiAgICBpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gPVxuICAgICAgKG9wdHMgJiYgb3B0cy5zdGFydFVuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24pID09PSB0cnVlO1xuXG4gICAgLy8gU2F2ZSB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb24gZXZlcnkgdGltZSB3ZSBzdGFydCBhIG5ldyBuYXZpZ2F0aW9uLFxuICAgIC8vIGFuZCB0cmFjayB3aGV0aGVyIHdlIHNob3VsZCByZXNldCBzY3JvbGwgb24gY29tcGxldGlvblxuICAgIHNhdmVTY3JvbGxQb3NpdGlvbihzdGF0ZS5sb2NhdGlvbiwgc3RhdGUubWF0Y2hlcyk7XG4gICAgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9IChvcHRzICYmIG9wdHMucHJldmVudFNjcm9sbFJlc2V0KSA9PT0gdHJ1ZTtcblxuICAgIHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPSAob3B0cyAmJiBvcHRzLmVuYWJsZVZpZXdUcmFuc2l0aW9uKSA9PT0gdHJ1ZTtcblxuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCBsb2FkaW5nTmF2aWdhdGlvbiA9IG9wdHMgJiYgb3B0cy5vdmVycmlkZU5hdmlnYXRpb247XG4gICAgbGV0IG1hdGNoZXMgPVxuICAgICAgb3B0cz8uaW5pdGlhbEh5ZHJhdGlvbiAmJlxuICAgICAgc3RhdGUubWF0Y2hlcyAmJlxuICAgICAgc3RhdGUubWF0Y2hlcy5sZW5ndGggPiAwICYmXG4gICAgICAhaW5pdGlhbE1hdGNoZXNJc0ZPV1xuICAgICAgICA/IC8vIGBtYXRjaFJvdXRlcygpYCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCBpZiB3ZSdyZSBpbiBoZXJlIHZpYSBgcm91dGVyLmluaXRpYWxpemUoKWBcbiAgICAgICAgICBzdGF0ZS5tYXRjaGVzXG4gICAgICAgIDogbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIGxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gICAgbGV0IGZsdXNoU3luYyA9IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZTtcblxuICAgIC8vIFNob3J0IGNpcmN1aXQgaWYgaXQncyBvbmx5IGEgaGFzaCBjaGFuZ2UgYW5kIG5vdCBhIHJldmFsaWRhdGlvbiBvclxuICAgIC8vIG11dGF0aW9uIHN1Ym1pc3Npb24uXG4gICAgLy9cbiAgICAvLyBJZ25vcmUgb24gaW5pdGlhbCBwYWdlIGxvYWRzIGJlY2F1c2Ugc2luY2UgdGhlIGluaXRpYWwgaHlkcmF0aW9uIHdpbGwgYWx3YXlzXG4gICAgLy8gYmUgXCJzYW1lIGhhc2hcIi4gIEZvciBleGFtcGxlLCBvbiAvcGFnZSNoYXNoIGFuZCBzdWJtaXQgYSA8Rm9ybSBtZXRob2Q9XCJwb3N0XCI+XG4gICAgLy8gd2hpY2ggd2lsbCBkZWZhdWx0IHRvIGEgbmF2aWdhdGlvbiB0byAvcGFnZVxuICAgIGlmIChcbiAgICAgIG1hdGNoZXMgJiZcbiAgICAgIHN0YXRlLmluaXRpYWxpemVkICYmXG4gICAgICAhaXNSZXZhbGlkYXRpb25SZXF1aXJlZCAmJlxuICAgICAgaXNIYXNoQ2hhbmdlT25seShzdGF0ZS5sb2NhdGlvbiwgbG9jYXRpb24pICYmXG4gICAgICAhKG9wdHMgJiYgb3B0cy5zdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2Qob3B0cy5zdWJtaXNzaW9uLmZvcm1NZXRob2QpKVxuICAgICkge1xuICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7IG1hdGNoZXMgfSwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgbG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgfVxuXG4gICAgLy8gU2hvcnQgY2lyY3VpdCB3aXRoIGEgNDA0IG9uIHRoZSByb290IGVycm9yIGJvdW5kYXJ5IGlmIHdlIG1hdGNoIG5vdGhpbmdcbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIGxldCB7IGVycm9yLCBub3RGb3VuZE1hdGNoZXMsIHJvdXRlIH0gPSBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQoXG4gICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICApO1xuICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAge1xuICAgICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgY29udHJvbGxlci9SZXF1ZXN0IGZvciB0aGlzIG5hdmlnYXRpb25cbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbGV0IHJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLnNpZ25hbCxcbiAgICAgIG9wdHMgJiYgb3B0cy5zdWJtaXNzaW9uXG4gICAgKTtcbiAgICBsZXQgcGVuZGluZ0FjdGlvblJlc3VsdDogUGVuZGluZ0FjdGlvblJlc3VsdCB8IHVuZGVmaW5lZDtcblxuICAgIGlmIChvcHRzICYmIG9wdHMucGVuZGluZ0Vycm9yKSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgcGVuZGluZ0Vycm9yLCBpdCBtZWFucyB0aGUgdXNlciBhdHRlbXB0ZWQgYSBHRVQgc3VibWlzc2lvblxuICAgICAgLy8gd2l0aCBiaW5hcnkgRm9ybURhdGEgc28gYXNzaWduIGhlcmUgYW5kIHNraXAgdG8gaGFuZGxlTG9hZGVycy4gIFRoYXRcbiAgICAgIC8vIHdheSB3ZSBoYW5kbGUgY2FsbGluZyBsb2FkZXJzIGFib3ZlIHRoZSBib3VuZGFyeSBldGMuICBJdCdzIG5vdCByZWFsbHlcbiAgICAgIC8vIGRpZmZlcmVudCBmcm9tIGFuIGFjdGlvbkVycm9yIGluIHRoYXQgc2Vuc2UuXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0ID0gW1xuICAgICAgICBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMpLnJvdXRlLmlkLFxuICAgICAgICB7IHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsIGVycm9yOiBvcHRzLnBlbmRpbmdFcnJvciB9LFxuICAgICAgXTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgb3B0cyAmJlxuICAgICAgb3B0cy5zdWJtaXNzaW9uICYmXG4gICAgICBpc011dGF0aW9uTWV0aG9kKG9wdHMuc3VibWlzc2lvbi5mb3JtTWV0aG9kKVxuICAgICkge1xuICAgICAgLy8gQ2FsbCBhY3Rpb24gaWYgd2UgcmVjZWl2ZWQgYW4gYWN0aW9uIHN1Ym1pc3Npb25cbiAgICAgIGxldCBhY3Rpb25SZXN1bHQgPSBhd2FpdCBoYW5kbGVBY3Rpb24oXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBvcHRzLnN1Ym1pc3Npb24sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgICAgeyByZXBsYWNlOiBvcHRzLnJlcGxhY2UsIGZsdXNoU3luYyB9XG4gICAgICApO1xuXG4gICAgICBpZiAoYWN0aW9uUmVzdWx0LnNob3J0Q2lyY3VpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgcmVjZWl2ZWQgYSA0MDQgZnJvbSBoYW5kbGVBY3Rpb24sIGl0J3MgYmVjYXVzZSB3ZSBjb3VsZG4ndCBsYXppbHlcbiAgICAgIC8vIGRpc2NvdmVyIHRoZSBkZXN0aW5hdGlvbiByb3V0ZSBzbyB3ZSBkb24ndCB3YW50IHRvIGNhbGwgbG9hZGVyc1xuICAgICAgaWYgKGFjdGlvblJlc3VsdC5wZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgICAgIGxldCBbcm91dGVJZCwgcmVzdWx0XSA9IGFjdGlvblJlc3VsdC5wZW5kaW5nQWN0aW9uUmVzdWx0O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNFcnJvclJlc3VsdChyZXN1bHQpICYmXG4gICAgICAgICAgaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSAmJlxuICAgICAgICAgIHJlc3VsdC5lcnJvci5zdGF0dXMgPT09IDQwNFxuICAgICAgICApIHtcbiAgICAgICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuXG4gICAgICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7XG4gICAgICAgICAgICBtYXRjaGVzOiBhY3Rpb25SZXN1bHQubWF0Y2hlcyxcbiAgICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICAgIFtyb3V0ZUlkXTogcmVzdWx0LmVycm9yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWF0Y2hlcyA9IGFjdGlvblJlc3VsdC5tYXRjaGVzIHx8IG1hdGNoZXM7XG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0ID0gYWN0aW9uUmVzdWx0LnBlbmRpbmdBY3Rpb25SZXN1bHQ7XG4gICAgICBsb2FkaW5nTmF2aWdhdGlvbiA9IGdldExvYWRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBvcHRzLnN1Ym1pc3Npb24pO1xuICAgICAgZmx1c2hTeW5jID0gZmFsc2U7XG4gICAgICAvLyBObyBuZWVkIHRvIGRvIGZvZyBvZiB3YXIgbWF0Y2hpbmcgYWdhaW4gb24gbG9hZGVyIGV4ZWN1dGlvblxuICAgICAgZm9nT2ZXYXIuYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgIC8vIENyZWF0ZSBhIEdFVCByZXF1ZXN0IGZvciB0aGUgbG9hZGVyc1xuICAgICAgcmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgICBpbml0Lmhpc3RvcnksXG4gICAgICAgIHJlcXVlc3QudXJsLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDYWxsIGxvYWRlcnNcbiAgICBsZXQge1xuICAgICAgc2hvcnRDaXJjdWl0ZWQsXG4gICAgICBtYXRjaGVzOiB1cGRhdGVkTWF0Y2hlcyxcbiAgICAgIGxvYWRlckRhdGEsXG4gICAgICBlcnJvcnMsXG4gICAgfSA9IGF3YWl0IGhhbmRsZUxvYWRlcnMoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgbG9hZGluZ05hdmlnYXRpb24sXG4gICAgICBvcHRzICYmIG9wdHMuc3VibWlzc2lvbixcbiAgICAgIG9wdHMgJiYgb3B0cy5mZXRjaGVyU3VibWlzc2lvbixcbiAgICAgIG9wdHMgJiYgb3B0cy5yZXBsYWNlLFxuICAgICAgb3B0cyAmJiBvcHRzLmluaXRpYWxIeWRyYXRpb24gPT09IHRydWUsXG4gICAgICBmbHVzaFN5bmMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0XG4gICAgKTtcblxuICAgIGlmIChzaG9ydENpcmN1aXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENsZWFuIHVwIG5vdyB0aGF0IHRoZSBhY3Rpb24vbG9hZGVycyBoYXZlIGNvbXBsZXRlZC4gIERvbid0IGNsZWFuIHVwIGlmXG4gICAgLy8gd2Ugc2hvcnQgY2lyY3VpdGVkIGJlY2F1c2UgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyIHdpbGwgaGF2ZSBhbHJlYWR5XG4gICAgLy8gYmVlbiBhc3NpZ25lZCB0byBhIG5ldyBjb250cm9sbGVyIGZvciB0aGUgbmV4dCBuYXZpZ2F0aW9uXG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcblxuICAgIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwge1xuICAgICAgbWF0Y2hlczogdXBkYXRlZE1hdGNoZXMgfHwgbWF0Y2hlcyxcbiAgICAgIC4uLmdldEFjdGlvbkRhdGFGb3JDb21taXQocGVuZGluZ0FjdGlvblJlc3VsdCksXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzLFxuICAgIH0pO1xuICB9XG5cbiAgLy8gQ2FsbCB0aGUgYWN0aW9uIG1hdGNoZWQgYnkgdGhlIGxlYWYgcm91dGUgZm9yIHRoaXMgbmF2aWdhdGlvbiBhbmQgaGFuZGxlXG4gIC8vIHJlZGlyZWN0cy9lcnJvcnNcbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQWN0aW9uKFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgbG9jYXRpb246IExvY2F0aW9uLFxuICAgIHN1Ym1pc3Npb246IFN1Ym1pc3Npb24sXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIGlzRm9nT2ZXYXI6IGJvb2xlYW4sXG4gICAgb3B0czogeyByZXBsYWNlPzogYm9vbGVhbjsgZmx1c2hTeW5jPzogYm9vbGVhbiB9ID0ge31cbiAgKTogUHJvbWlzZTxIYW5kbGVBY3Rpb25SZXN1bHQ+IHtcbiAgICBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpO1xuXG4gICAgLy8gUHV0IHVzIGluIGEgc3VibWl0dGluZyBzdGF0ZVxuICAgIGxldCBuYXZpZ2F0aW9uID0gZ2V0U3VibWl0dGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pO1xuICAgIHVwZGF0ZVN0YXRlKHsgbmF2aWdhdGlvbiB9LCB7IGZsdXNoU3luYzogb3B0cy5mbHVzaFN5bmMgPT09IHRydWUgfSk7XG5cbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5SWQgPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzKVxuICAgICAgICAgIC5yb3V0ZS5pZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcyxcbiAgICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbXG4gICAgICAgICAgICBib3VuZGFyeUlkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICAgICAgICBlcnJvcjogZGlzY292ZXJSZXN1bHQuZXJyb3IsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIGxldCB7IG5vdEZvdW5kTWF0Y2hlcywgZXJyb3IsIHJvdXRlIH0gPSBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQoXG4gICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW1xuICAgICAgICAgICAgcm91dGUuaWQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsbCBvdXIgYWN0aW9uIGFuZCBnZXQgdGhlIHJlc3VsdFxuICAgIGxldCByZXN1bHQ6IERhdGFSZXN1bHQ7XG4gICAgbGV0IGFjdGlvbk1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pO1xuXG4gICAgaWYgKCFhY3Rpb25NYXRjaC5yb3V0ZS5hY3Rpb24gJiYgIWFjdGlvbk1hdGNoLnJvdXRlLmxhenkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgICAgcm91dGVJZDogYWN0aW9uTWF0Y2gucm91dGUuaWQsXG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgW2FjdGlvbk1hdGNoXSxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbnVsbFxuICAgICAgKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdHNbYWN0aW9uTWF0Y2gucm91dGUuaWRdO1xuXG4gICAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCByZXBsYWNlOiBib29sZWFuO1xuICAgICAgaWYgKG9wdHMgJiYgb3B0cy5yZXBsYWNlICE9IG51bGwpIHtcbiAgICAgICAgcmVwbGFjZSA9IG9wdHMucmVwbGFjZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGRpZG4ndCBleHBsaWNpdHkgaW5kaWNhdGUgcmVwbGFjZSBiZWhhdmlvciwgcmVwbGFjZSBpZlxuICAgICAgICAvLyB3ZSByZWRpcmVjdGVkIHRvIHRoZSBleGFjdCBzYW1lIGxvY2F0aW9uIHdlJ3JlIGN1cnJlbnRseSBhdCB0byBhdm9pZFxuICAgICAgICAvLyBkb3VibGUgYmFjay1idXR0b25zXG4gICAgICAgIGxldCBsb2NhdGlvbiA9IG5vcm1hbGl6ZVJlZGlyZWN0TG9jYXRpb24oXG4gICAgICAgICAgcmVzdWx0LnJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIikhLFxuICAgICAgICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgICAgIGJhc2VuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJlcGxhY2UgPSBsb2NhdGlvbiA9PT0gc3RhdGUubG9jYXRpb24ucGF0aG5hbWUgKyBzdGF0ZS5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICB9XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZXN1bHQsIHRydWUsIHtcbiAgICAgICAgc3VibWlzc2lvbixcbiAgICAgICAgcmVwbGFjZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZlcnJlZFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwgeyB0eXBlOiBcImRlZmVyLWFjdGlvblwiIH0pO1xuICAgIH1cblxuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIC8vIFN0b3JlIG9mZiB0aGUgcGVuZGluZyBlcnJvciAtIHdlIHVzZSBpdCB0byBkZXRlcm1pbmUgd2hpY2ggbG9hZGVyc1xuICAgICAgLy8gdG8gY2FsbCBhbmQgd2lsbCBjb21taXQgaXQgd2hlbiB3ZSBjb21wbGV0ZSB0aGUgbmF2aWdhdGlvblxuICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcblxuICAgICAgLy8gQnkgZGVmYXVsdCwgYWxsIHN1Ym1pc3Npb25zIHRvIHRoZSBjdXJyZW50IGxvY2F0aW9uIGFyZSBSRVBMQUNFXG4gICAgICAvLyBuYXZpZ2F0aW9ucywgYnV0IGlmIHRoZSBhY3Rpb24gdGhyZXcgYW4gZXJyb3IgdGhhdCdsbCBiZSByZW5kZXJlZCBpblxuICAgICAgLy8gYW4gZXJyb3JFbGVtZW50LCB3ZSBmYWxsIGJhY2sgdG8gUFVTSCBzbyB0aGF0IHRoZSB1c2VyIGNhbiB1c2UgdGhlXG4gICAgICAvLyBiYWNrIGJ1dHRvbiB0byBnZXQgYmFjayB0byB0aGUgcHJlLXN1Ym1pc3Npb24gZm9ybSBsb2NhdGlvbiB0byB0cnlcbiAgICAgIC8vIGFnYWluXG4gICAgICBpZiAoKG9wdHMgJiYgb3B0cy5yZXBsYWNlKSAhPT0gdHJ1ZSkge1xuICAgICAgICBwZW5kaW5nQWN0aW9uID0gSGlzdG9yeUFjdGlvbi5QdXNoO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZCwgcmVzdWx0XSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGNoZXMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbYWN0aW9uTWF0Y2gucm91dGUuaWQsIHJlc3VsdF0sXG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgYWxsIGFwcGxpY2FibGUgbG9hZGVycyBmb3IgdGhlIGdpdmVuIG1hdGNoZXMsIGhhbmRsaW5nIHJlZGlyZWN0cyxcbiAgLy8gZXJyb3JzLCBldGMuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUxvYWRlcnMoXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICBsb2NhdGlvbjogTG9jYXRpb24sXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIGlzRm9nT2ZXYXI6IGJvb2xlYW4sXG4gICAgb3ZlcnJpZGVOYXZpZ2F0aW9uPzogTmF2aWdhdGlvbixcbiAgICBzdWJtaXNzaW9uPzogU3VibWlzc2lvbixcbiAgICBmZXRjaGVyU3VibWlzc2lvbj86IFN1Ym1pc3Npb24sXG4gICAgcmVwbGFjZT86IGJvb2xlYW4sXG4gICAgaW5pdGlhbEh5ZHJhdGlvbj86IGJvb2xlYW4sXG4gICAgZmx1c2hTeW5jPzogYm9vbGVhbixcbiAgICBwZW5kaW5nQWN0aW9uUmVzdWx0PzogUGVuZGluZ0FjdGlvblJlc3VsdFxuICApOiBQcm9taXNlPEhhbmRsZUxvYWRlcnNSZXN1bHQ+IHtcbiAgICAvLyBGaWd1cmUgb3V0IHRoZSByaWdodCBuYXZpZ2F0aW9uIHdlIHdhbnQgdG8gdXNlIGZvciBkYXRhIGxvYWRpbmdcbiAgICBsZXQgbG9hZGluZ05hdmlnYXRpb24gPVxuICAgICAgb3ZlcnJpZGVOYXZpZ2F0aW9uIHx8IGdldExvYWRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKTtcblxuICAgIC8vIElmIHRoaXMgd2FzIGEgcmVkaXJlY3QgZnJvbSBhbiBhY3Rpb24gd2UgZG9uJ3QgaGF2ZSBhIFwic3VibWlzc2lvblwiIGJ1dFxuICAgIC8vIHdlIGhhdmUgaXQgb24gdGhlIGxvYWRpbmcgbmF2aWdhdGlvbiBzbyB1c2UgdGhhdCBpZiBhdmFpbGFibGVcbiAgICBsZXQgYWN0aXZlU3VibWlzc2lvbiA9XG4gICAgICBzdWJtaXNzaW9uIHx8XG4gICAgICBmZXRjaGVyU3VibWlzc2lvbiB8fFxuICAgICAgZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKGxvYWRpbmdOYXZpZ2F0aW9uKTtcblxuICAgIC8vIElmIHRoaXMgaXMgYW4gdW5pbnRlcnJ1cHRlZCByZXZhbGlkYXRpb24sIHdlIHJlbWFpbiBpbiBvdXIgY3VycmVudCBpZGxlXG4gICAgLy8gc3RhdGUuICBJZiBub3QsIHdlIG5lZWQgdG8gc3dpdGNoIHRvIG91ciBsb2FkaW5nIHN0YXRlIGFuZCBsb2FkIGRhdGEsXG4gICAgLy8gcHJlc2VydmluZyBhbnkgbmV3IGFjdGlvbiBkYXRhIG9yIGV4aXN0aW5nIGFjdGlvbiBkYXRhIChpbiB0aGUgY2FzZSBvZlxuICAgIC8vIGEgcmV2YWxpZGF0aW9uIGludGVycnVwdGluZyBhbiBhY3Rpb25SZWxvYWQpXG4gICAgLy8gSWYgd2UgaGF2ZSBwYXJ0aWFsSHlkcmF0aW9uIGVuYWJsZWQsIHRoZW4gZG9uJ3QgdXBkYXRlIHRoZSBzdGF0ZSBmb3IgdGhlXG4gICAgLy8gaW5pdGlhbCBkYXRhIGxvYWQgc2luY2UgaXQncyBub3QgYSBcIm5hdmlnYXRpb25cIlxuICAgIGxldCBzaG91bGRVcGRhdGVOYXZpZ2F0aW9uU3RhdGUgPVxuICAgICAgIWlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiAmJlxuICAgICAgKCFmdXR1cmUudjdfcGFydGlhbEh5ZHJhdGlvbiB8fCAhaW5pdGlhbEh5ZHJhdGlvbik7XG5cbiAgICAvLyBXaGVuIGZvZyBvZiB3YXIgaXMgZW5hYmxlZCwgd2UgZW50ZXIgb3VyIGBsb2FkaW5nYCBzdGF0ZSBlYXJsaWVyIHNvIHdlXG4gICAgLy8gY2FuIGRpc2NvdmVyIG5ldyByb3V0ZXMgZHVyaW5nIHRoZSBgbG9hZGluZ2Agc3RhdGUuICBXZSBza2lwIHRoaXMgaWZcbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IHJ1biBhY3Rpb25zIHNpbmNlIHdlIHdvdWxkIGhhdmUgZG9uZSBvdXIgbWF0Y2hpbmcgYWxyZWFkeS5cbiAgICAvLyBJZiB0aGUgY2hpbGRyZW4oKSBmdW5jdGlvbiB0aHJldyB0aGVuLCB3ZSB3YW50IHRvIHByb2NlZWQgd2l0aCB0aGVcbiAgICAvLyBwYXJ0aWFsIG1hdGNoZXMgaXQgZGlzY292ZXJlZC5cbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSkge1xuICAgICAgICBsZXQgYWN0aW9uRGF0YSA9IGdldFVwZGF0ZWRBY3Rpb25EYXRhKHBlbmRpbmdBY3Rpb25SZXN1bHQpO1xuICAgICAgICB1cGRhdGVTdGF0ZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBsb2FkaW5nTmF2aWdhdGlvbixcbiAgICAgICAgICAgIC4uLihhY3Rpb25EYXRhICE9PSB1bmRlZmluZWQgPyB7IGFjdGlvbkRhdGEgfSA6IHt9KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZsdXNoU3luYyxcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG5cbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5SWQgPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzKVxuICAgICAgICAgIC5yb3V0ZS5pZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIFtib3VuZGFyeUlkXTogZGlzY292ZXJSZXN1bHQuZXJyb3IsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgbGV0IHsgZXJyb3IsIG5vdEZvdW5kTWF0Y2hlcywgcm91dGUgfSA9IGhhbmRsZU5hdmlnYXRpb25hbDQwNChcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgW21hdGNoZXNUb0xvYWQsIHJldmFsaWRhdGluZ0ZldGNoZXJzXSA9IGdldE1hdGNoZXNUb0xvYWQoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBhY3RpdmVTdWJtaXNzaW9uLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBmdXR1cmUudjdfcGFydGlhbEh5ZHJhdGlvbiAmJiBpbml0aWFsSHlkcmF0aW9uID09PSB0cnVlLFxuICAgICAgZnV0dXJlLnY3X3NraXBBY3Rpb25FcnJvclJldmFsaWRhdGlvbixcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQsXG4gICAgICBjYW5jZWxsZWREZWZlcnJlZFJvdXRlcyxcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2FkcyxcbiAgICAgIGRlbGV0ZWRGZXRjaGVycyxcbiAgICAgIGZldGNoTG9hZE1hdGNoZXMsXG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLFxuICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgICApO1xuXG4gICAgLy8gQ2FuY2VsIHBlbmRpbmcgZGVmZXJyZWRzIGZvciBuby1sb25nZXItbWF0Y2hlZCByb3V0ZXMgb3Igcm91dGVzIHdlJ3JlXG4gICAgLy8gYWJvdXQgdG8gcmVsb2FkLiAgTm90ZSB0aGF0IGlmIHRoaXMgaXMgYW4gYWN0aW9uIHJlbG9hZCB3ZSB3b3VsZCBoYXZlXG4gICAgLy8gYWxyZWFkeSBjYW5jZWxsZWQgYWxsIHBlbmRpbmcgZGVmZXJyZWRzIHNvIHRoaXMgd291bGQgYmUgYSBuby1vcFxuICAgIGNhbmNlbEFjdGl2ZURlZmVycmVkcyhcbiAgICAgIChyb3V0ZUlkKSA9PlxuICAgICAgICAhKG1hdGNoZXMgJiYgbWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSkgfHxcbiAgICAgICAgKG1hdGNoZXNUb0xvYWQgJiYgbWF0Y2hlc1RvTG9hZC5zb21lKChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSlcbiAgICApO1xuXG4gICAgcGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPSArK2luY3JlbWVudGluZ0xvYWRJZDtcblxuICAgIC8vIFNob3J0IGNpcmN1aXQgaWYgd2UgaGF2ZSBubyBsb2FkZXJzIHRvIHJ1blxuICAgIGlmIChtYXRjaGVzVG9Mb2FkLmxlbmd0aCA9PT0gMCAmJiByZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGxldCB1cGRhdGVkRmV0Y2hlcnMgPSBtYXJrRmV0Y2hSZWRpcmVjdHNEb25lKCk7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICB7XG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICAvLyBDb21taXQgcGVuZGluZyBlcnJvciBpZiB3ZSdyZSBzaG9ydCBjaXJjdWl0aW5nXG4gICAgICAgICAgZXJyb3JzOlxuICAgICAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pXG4gICAgICAgICAgICAgID8geyBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3IgfVxuICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgLi4uZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChwZW5kaW5nQWN0aW9uUmVzdWx0KSxcbiAgICAgICAgICAuLi4odXBkYXRlZEZldGNoZXJzID8geyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSA6IHt9KSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSkge1xuICAgICAgbGV0IHVwZGF0ZXM6IFBhcnRpYWw8Um91dGVyU3RhdGU+ID0ge307XG4gICAgICBpZiAoIWlzRm9nT2ZXYXIpIHtcbiAgICAgICAgLy8gT25seSB1cGRhdGUgbmF2aWdhdGlvbi9hY3Rpb25ORGF0YSBpZiB3ZSBkaWRuJ3QgYWxyZWFkeSBkbyBpdCBhYm92ZVxuICAgICAgICB1cGRhdGVzLm5hdmlnYXRpb24gPSBsb2FkaW5nTmF2aWdhdGlvbjtcbiAgICAgICAgbGV0IGFjdGlvbkRhdGEgPSBnZXRVcGRhdGVkQWN0aW9uRGF0YShwZW5kaW5nQWN0aW9uUmVzdWx0KTtcbiAgICAgICAgaWYgKGFjdGlvbkRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwZGF0ZXMuYWN0aW9uRGF0YSA9IGFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVwZGF0ZXMuZmV0Y2hlcnMgPSBnZXRVcGRhdGVkUmV2YWxpZGF0aW5nRmV0Y2hlcnMocmV2YWxpZGF0aW5nRmV0Y2hlcnMpO1xuICAgICAgfVxuICAgICAgdXBkYXRlU3RhdGUodXBkYXRlcywgeyBmbHVzaFN5bmMgfSk7XG4gICAgfVxuXG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IHtcbiAgICAgIGFib3J0RmV0Y2hlcihyZi5rZXkpO1xuICAgICAgaWYgKHJmLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgLy8gRmV0Y2hlcnMgdXNlIGFuIGluZGVwZW5kZW50IEFib3J0Q29udHJvbGxlciBzbyB0aGF0IGFib3J0aW5nIGEgZmV0Y2hlclxuICAgICAgICAvLyAodmlhIGRlbGV0ZUZldGNoZXIpIGRvZXMgbm90IGFib3J0IHRoZSB0cmlnZ2VyaW5nIG5hdmlnYXRpb24gdGhhdFxuICAgICAgICAvLyB0cmlnZ2VyZWQgdGhlIHJldmFsaWRhdGlvblxuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLnNldChyZi5rZXksIHJmLmNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUHJveHkgbmF2aWdhdGlvbiBhYm9ydCB0aHJvdWdoIHRvIHJldmFsaWRhdGlvbiBmZXRjaGVyc1xuICAgIGxldCBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnMgPSAoKSA9PlxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgoZikgPT4gYWJvcnRGZXRjaGVyKGYua2V5KSk7XG4gICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlcikge1xuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImFib3J0XCIsXG4gICAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgeyBsb2FkZXJSZXN1bHRzLCBmZXRjaGVyUmVzdWx0cyB9ID1cbiAgICAgIGF3YWl0IGNhbGxMb2FkZXJzQW5kTWF5YmVSZXNvbHZlRGF0YShcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgICByZXF1ZXN0XG4gICAgICApO1xuXG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4gdXAgX2FmdGVyXyBsb2FkZXJzIGhhdmUgY29tcGxldGVkLiAgRG9uJ3QgY2xlYW4gdXAgaWYgd2Ugc2hvcnRcbiAgICAvLyBjaXJjdWl0ZWQgYmVjYXVzZSBmZXRjaENvbnRyb2xsZXJzIHdvdWxkIGhhdmUgYmVlbiBhYm9ydGVkIGFuZFxuICAgIC8vIHJlYXNzaWduZWQgdG8gbmV3IGNvbnRyb2xsZXJzIGZvciB0aGUgbmV4dCBuYXZpZ2F0aW9uXG4gICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlcikge1xuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBcImFib3J0XCIsXG4gICAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4gZmV0Y2hDb250cm9sbGVycy5kZWxldGUocmYua2V5KSk7XG5cbiAgICAvLyBJZiBhbnkgbG9hZGVycyByZXR1cm5lZCBhIHJlZGlyZWN0IFJlc3BvbnNlLCBzdGFydCBhIG5ldyBSRVBMQUNFIG5hdmlnYXRpb25cbiAgICBsZXQgcmVkaXJlY3QgPSBmaW5kUmVkaXJlY3QobG9hZGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0KSB7XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZWRpcmVjdC5yZXN1bHQsIHRydWUsIHtcbiAgICAgICAgcmVwbGFjZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG5cbiAgICByZWRpcmVjdCA9IGZpbmRSZWRpcmVjdChmZXRjaGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0KSB7XG4gICAgICAvLyBJZiB0aGlzIHJlZGlyZWN0IGNhbWUgZnJvbSBhIGZldGNoZXIgbWFrZSBzdXJlIHdlIG1hcmsgaXQgaW5cbiAgICAgIC8vIGZldGNoUmVkaXJlY3RJZHMgc28gaXQgZG9lc24ndCBnZXQgcmV2YWxpZGF0ZWQgb24gdGhlIG5leHQgc2V0IG9mXG4gICAgICAvLyBsb2FkZXIgZXhlY3V0aW9uc1xuICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQocmVkaXJlY3Qua2V5KTtcbiAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlZGlyZWN0LnJlc3VsdCwgdHJ1ZSwge1xuICAgICAgICByZXBsYWNlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgYW5kIGNvbW1pdCBvdXRwdXQgZnJvbSBsb2FkZXJzXG4gICAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzIH0gPSBwcm9jZXNzTG9hZGVyRGF0YShcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0LFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICBmZXRjaGVyUmVzdWx0cyxcbiAgICAgIGFjdGl2ZURlZmVycmVkc1xuICAgICk7XG5cbiAgICAvLyBXaXJlIHVwIHN1YnNjcmliZXJzIHRvIHVwZGF0ZSBsb2FkZXJEYXRhIGFzIHByb21pc2VzIHNldHRsZVxuICAgIGFjdGl2ZURlZmVycmVkcy5mb3JFYWNoKChkZWZlcnJlZERhdGEsIHJvdXRlSWQpID0+IHtcbiAgICAgIGRlZmVycmVkRGF0YS5zdWJzY3JpYmUoKGFib3J0ZWQpID0+IHtcbiAgICAgICAgLy8gTm90ZTogTm8gbmVlZCB0byB1cGRhdGVTdGF0ZSBoZXJlIHNpbmNlIHRoZSBUcmFja2VkUHJvbWlzZSBvblxuICAgICAgICAvLyBsb2FkZXJEYXRhIGlzIHN0YWJsZSBhY3Jvc3MgcmVzb2x2ZS9yZWplY3RcbiAgICAgICAgLy8gUmVtb3ZlIHRoaXMgaW5zdGFuY2UgaWYgd2Ugd2VyZSBhYm9ydGVkIG9yIGlmIHByb21pc2VzIGhhdmUgc2V0dGxlZFxuICAgICAgICBpZiAoYWJvcnRlZCB8fCBkZWZlcnJlZERhdGEuZG9uZSkge1xuICAgICAgICAgIGFjdGl2ZURlZmVycmVkcy5kZWxldGUocm91dGVJZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gUHJlc2VydmUgU1NSIGVycm9ycyBkdXJpbmcgcGFydGlhbCBoeWRyYXRpb25cbiAgICBpZiAoZnV0dXJlLnY3X3BhcnRpYWxIeWRyYXRpb24gJiYgaW5pdGlhbEh5ZHJhdGlvbiAmJiBzdGF0ZS5lcnJvcnMpIHtcbiAgICAgIGVycm9ycyA9IHsgLi4uc3RhdGUuZXJyb3JzLCAuLi5lcnJvcnMgfTtcbiAgICB9XG5cbiAgICBsZXQgdXBkYXRlZEZldGNoZXJzID0gbWFya0ZldGNoUmVkaXJlY3RzRG9uZSgpO1xuICAgIGxldCBkaWRBYm9ydEZldGNoTG9hZHMgPSBhYm9ydFN0YWxlRmV0Y2hMb2FkcyhwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCk7XG4gICAgbGV0IHNob3VsZFVwZGF0ZUZldGNoZXJzID1cbiAgICAgIHVwZGF0ZWRGZXRjaGVycyB8fCBkaWRBYm9ydEZldGNoTG9hZHMgfHwgcmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoID4gMDtcblxuICAgIHJldHVybiB7XG4gICAgICBtYXRjaGVzLFxuICAgICAgbG9hZGVyRGF0YSxcbiAgICAgIGVycm9ycyxcbiAgICAgIC4uLihzaG91bGRVcGRhdGVGZXRjaGVycyA/IHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0gOiB7fSksXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFVwZGF0ZWRBY3Rpb25EYXRhKFxuICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFBlbmRpbmdBY3Rpb25SZXN1bHQgfCB1bmRlZmluZWRcbiAgKTogUmVjb3JkPHN0cmluZywgUm91dGVEYXRhPiB8IG51bGwgfCB1bmRlZmluZWQge1xuICAgIGlmIChwZW5kaW5nQWN0aW9uUmVzdWx0ICYmICFpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pKSB7XG4gICAgICAvLyBUaGlzIGlzIGNhc3QgdG8gYGFueWAgY3VycmVudGx5IGJlY2F1c2UgYFJvdXRlRGF0YWB1c2VzIGFueSBhbmQgaXRcbiAgICAgIC8vIHdvdWxkIGJlIGEgYnJlYWtpbmcgY2hhbmdlIHRvIHVzZSBhbnkuXG4gICAgICAvLyBUT0RPOiB2NyAtIGNoYW5nZSBgUm91dGVEYXRhYCB0byB1c2UgYHVua25vd25gIGluc3RlYWQgb2YgYGFueWBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5kYXRhIGFzIGFueSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5hY3Rpb25EYXRhKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoc3RhdGUuYWN0aW9uRGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmFjdGlvbkRhdGE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VXBkYXRlZFJldmFsaWRhdGluZ0ZldGNoZXJzKFxuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzOiBSZXZhbGlkYXRpbmdGZXRjaGVyW11cbiAgKSB7XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IHtcbiAgICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KHJmLmtleSk7XG4gICAgICBsZXQgcmV2YWxpZGF0aW5nRmV0Y2hlciA9IGdldExvYWRpbmdGZXRjaGVyKFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGZldGNoZXIgPyBmZXRjaGVyLmRhdGEgOiB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQocmYua2V5LCByZXZhbGlkYXRpbmdGZXRjaGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IE1hcChzdGF0ZS5mZXRjaGVycyk7XG4gIH1cblxuICAvLyBUcmlnZ2VyIGEgZmV0Y2hlciBsb2FkL3N1Ym1pdCBmb3IgdGhlIGdpdmVuIGZldGNoZXIga2V5XG4gIGZ1bmN0aW9uIGZldGNoKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJvdXRlSWQ6IHN0cmluZyxcbiAgICBocmVmOiBzdHJpbmcgfCBudWxsLFxuICAgIG9wdHM/OiBSb3V0ZXJGZXRjaE9wdGlvbnNcbiAgKSB7XG4gICAgaWYgKGlzU2VydmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwicm91dGVyLmZldGNoKCkgd2FzIGNhbGxlZCBkdXJpbmcgdGhlIHNlcnZlciByZW5kZXIsIGJ1dCBpdCBzaG91bGRuJ3QgYmUuIFwiICtcbiAgICAgICAgICBcIllvdSBhcmUgbGlrZWx5IGNhbGxpbmcgYSB1c2VGZXRjaGVyKCkgbWV0aG9kIGluIHRoZSBib2R5IG9mIHlvdXIgY29tcG9uZW50LiBcIiArXG4gICAgICAgICAgXCJUcnkgbW92aW5nIGl0IHRvIGEgdXNlRWZmZWN0IG9yIGEgY2FsbGJhY2suXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgYWJvcnRGZXRjaGVyKGtleSk7XG5cbiAgICBsZXQgZmx1c2hTeW5jID0gKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlO1xuXG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplVG8oXG4gICAgICBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIHN0YXRlLm1hdGNoZXMsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGZ1dHVyZS52N19wcmVwZW5kQmFzZW5hbWUsXG4gICAgICBocmVmLFxuICAgICAgZnV0dXJlLnY3X3JlbGF0aXZlU3BsYXRQYXRoLFxuICAgICAgcm91dGVJZCxcbiAgICAgIG9wdHM/LnJlbGF0aXZlXG4gICAgKTtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBub3JtYWxpemVkUGF0aCwgYmFzZW5hbWUpO1xuXG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgbm9ybWFsaXplZFBhdGgpO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgfVxuXG4gICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICBzZXRGZXRjaGVyRXJyb3IoXG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZCxcbiAgICAgICAgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IG5vcm1hbGl6ZWRQYXRoIH0pLFxuICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB7IHBhdGgsIHN1Ym1pc3Npb24sIGVycm9yIH0gPSBub3JtYWxpemVOYXZpZ2F0ZU9wdGlvbnMoXG4gICAgICBmdXR1cmUudjdfbm9ybWFsaXplRm9ybU1ldGhvZCxcbiAgICAgIHRydWUsXG4gICAgICBub3JtYWxpemVkUGF0aCxcbiAgICAgIG9wdHNcbiAgICApO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBlcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgcGF0aCk7XG5cbiAgICBsZXQgcHJldmVudFNjcm9sbFJlc2V0ID0gKG9wdHMgJiYgb3B0cy5wcmV2ZW50U2Nyb2xsUmVzZXQpID09PSB0cnVlO1xuXG4gICAgaWYgKHN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgICBoYW5kbGVGZXRjaGVyQWN0aW9uKFxuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIG1hdGNoLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICAgIGZsdXNoU3luYyxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBzdWJtaXNzaW9uXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFN0b3JlIG9mZiB0aGUgbWF0Y2ggc28gd2UgY2FuIGNhbGwgaXQncyBzaG91bGRSZXZhbGlkYXRlIG9uIHN1YnNlcXVlbnRcbiAgICAvLyByZXZhbGlkYXRpb25zXG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5zZXQoa2V5LCB7IHJvdXRlSWQsIHBhdGggfSk7XG4gICAgaGFuZGxlRmV0Y2hlckxvYWRlcihcbiAgICAgIGtleSxcbiAgICAgIHJvdXRlSWQsXG4gICAgICBwYXRoLFxuICAgICAgbWF0Y2gsXG4gICAgICBtYXRjaGVzLFxuICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgZmx1c2hTeW5jLFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgc3VibWlzc2lvblxuICAgICk7XG4gIH1cblxuICAvLyBDYWxsIHRoZSBhY3Rpb24gZm9yIHRoZSBtYXRjaGVkIGZldGNoZXIuc3VibWl0KCksIGFuZCB0aGVuIGhhbmRsZSByZWRpcmVjdHMsXG4gIC8vIGVycm9ycywgYW5kIHJldmFsaWRhdGlvblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVGZXRjaGVyQWN0aW9uKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJvdXRlSWQ6IHN0cmluZyxcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgbWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gsXG4gICAgcmVxdWVzdE1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBpc0ZvZ09mV2FyOiBib29sZWFuLFxuICAgIGZsdXNoU3luYzogYm9vbGVhbixcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IGJvb2xlYW4sXG4gICAgc3VibWlzc2lvbjogU3VibWlzc2lvblxuICApIHtcbiAgICBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpO1xuICAgIGZldGNoTG9hZE1hdGNoZXMuZGVsZXRlKGtleSk7XG5cbiAgICBmdW5jdGlvbiBkZXRlY3RBbmRIYW5kbGU0MDVFcnJvcihtOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoKSB7XG4gICAgICBpZiAoIW0ucm91dGUuYWN0aW9uICYmICFtLnJvdXRlLmxhenkpIHtcbiAgICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgICBtZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICAgICAgICBwYXRobmFtZTogcGF0aCxcbiAgICAgICAgICByb3V0ZUlkOiByb3V0ZUlkLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRm9nT2ZXYXIgJiYgZGV0ZWN0QW5kSGFuZGxlNDA1RXJyb3IobWF0Y2gpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUHV0IHRoaXMgZmV0Y2hlciBpbnRvIGl0J3Mgc3VibWl0dGluZyBzdGF0ZVxuICAgIGxldCBleGlzdGluZ0ZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXRTdWJtaXR0aW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBleGlzdGluZ0ZldGNoZXIpLCB7XG4gICAgICBmbHVzaFN5bmMsXG4gICAgfSk7XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBmZXRjaFJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHBhdGgsXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgc3VibWlzc2lvblxuICAgICk7XG5cbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIHJlcXVlc3RNYXRjaGVzLFxuICAgICAgICBuZXcgVVJMKGZldGNoUmVxdWVzdC51cmwpLnBhdGhuYW1lLFxuICAgICAgICBmZXRjaFJlcXVlc3Quc2lnbmFsLFxuICAgICAgICBrZXlcbiAgICAgICk7XG5cbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBkaXNjb3ZlclJlc3VsdC5lcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBwYXRoIH0pLFxuICAgICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWVzdE1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgICBtYXRjaCA9IGdldFRhcmdldE1hdGNoKHJlcXVlc3RNYXRjaGVzLCBwYXRoKTtcblxuICAgICAgICBpZiAoZGV0ZWN0QW5kSGFuZGxlNDA1RXJyb3IobWF0Y2gpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsbCB0aGUgYWN0aW9uIGZvciB0aGUgZmV0Y2hlclxuICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KGtleSwgYWJvcnRDb250cm9sbGVyKTtcblxuICAgIGxldCBvcmlnaW5hdGluZ0xvYWRJZCA9IGluY3JlbWVudGluZ0xvYWRJZDtcbiAgICBsZXQgYWN0aW9uUmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBcImFjdGlvblwiLFxuICAgICAgc3RhdGUsXG4gICAgICBmZXRjaFJlcXVlc3QsXG4gICAgICBbbWF0Y2hdLFxuICAgICAgcmVxdWVzdE1hdGNoZXMsXG4gICAgICBrZXlcbiAgICApO1xuICAgIGxldCBhY3Rpb25SZXN1bHQgPSBhY3Rpb25SZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcblxuICAgIGlmIChmZXRjaFJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIC8vIFdlIGNhbiBkZWxldGUgdGhpcyBzbyBsb25nIGFzIHdlIHdlcmVuJ3QgYWJvcnRlZCBieSBvdXIgb3duIGZldGNoZXJcbiAgICAgIC8vIHJlLXN1Ym1pdCB3aGljaCB3b3VsZCBoYXZlIHB1dCBfbmV3XyBjb250cm9sbGVyIGlzIGluIGZldGNoQ29udHJvbGxlcnNcbiAgICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmdldChrZXkpID09PSBhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHVzaW5nIHY3X2ZldGNoZXJQZXJzaXN0LCB3ZSBkb24ndCB3YW50IGVycm9ycyBidWJibGluZyB1cCB0byB0aGUgVUlcbiAgICAvLyBvciByZWRpcmVjdHMgcHJvY2Vzc2VkIGZvciB1bm1vdW50ZWQgZmV0Y2hlcnMgc28gd2UganVzdCByZXZlcnQgdGhlbSB0b1xuICAgIC8vIGlkbGVcbiAgICBpZiAoZnV0dXJlLnY3X2ZldGNoZXJQZXJzaXN0ICYmIGRlbGV0ZWRGZXRjaGVycy5oYXMoa2V5KSkge1xuICAgICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQoYWN0aW9uUmVzdWx0KSB8fCBpc0Vycm9yUmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodW5kZWZpbmVkKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIExldCBTdWNjZXNzUmVzdWx0J3MgZmFsbCB0aHJvdWdoIGZvciByZXZhbGlkYXRpb25cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgICAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPiBvcmlnaW5hdGluZ0xvYWRJZCkge1xuICAgICAgICAgIC8vIEEgbmV3IG5hdmlnYXRpb24gd2FzIGtpY2tlZCBvZmYgYWZ0ZXIgb3VyIGFjdGlvbiBzdGFydGVkLCBzbyB0aGF0XG4gICAgICAgICAgLy8gc2hvdWxkIHRha2UgcHJlY2VkZW5jZSBvdmVyIHRoaXMgcmVkaXJlY3QgbmF2aWdhdGlvbi4gIFdlIGFscmVhZHlcbiAgICAgICAgICAvLyBzZXQgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCBzbyBhbGwgbG9hZGVycyBmb3IgdGhlIG5ldyByb3V0ZSBzaG91bGRcbiAgICAgICAgICAvLyBmaXJlIHVubGVzcyBvcHRlZCBvdXQgdmlhIHNob3VsZFJldmFsaWRhdGVcbiAgICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih1bmRlZmluZWQpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQoa2V5KTtcbiAgICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXRMb2FkaW5nRmV0Y2hlcihzdWJtaXNzaW9uKSk7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKGZldGNoUmVxdWVzdCwgYWN0aW9uUmVzdWx0LCBmYWxzZSwge1xuICAgICAgICAgICAgZmV0Y2hlclN1Ym1pc3Npb246IHN1Ym1pc3Npb24sXG4gICAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUHJvY2VzcyBhbnkgbm9uLXJlZGlyZWN0IGVycm9ycyB0aHJvd25cbiAgICAgIGlmIChpc0Vycm9yUmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgYWN0aW9uUmVzdWx0LmVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0RlZmVycmVkUmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAwLCB7IHR5cGU6IFwiZGVmZXItYWN0aW9uXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gU3RhcnQgdGhlIGRhdGEgbG9hZCBmb3IgY3VycmVudCBtYXRjaGVzLCBvciB0aGUgbmV4dCBsb2NhdGlvbiBpZiB3ZSdyZVxuICAgIC8vIGluIHRoZSBtaWRkbGUgb2YgYSBuYXZpZ2F0aW9uXG4gICAgbGV0IG5leHRMb2NhdGlvbiA9IHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24gfHwgc3RhdGUubG9jYXRpb247XG4gICAgbGV0IHJldmFsaWRhdGlvblJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIG5leHRMb2NhdGlvbixcbiAgICAgIGFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgICApO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCBtYXRjaGVzID1cbiAgICAgIHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgIT09IFwiaWRsZVwiXG4gICAgICAgID8gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24sIGJhc2VuYW1lKVxuICAgICAgICA6IHN0YXRlLm1hdGNoZXM7XG5cbiAgICBpbnZhcmlhbnQobWF0Y2hlcywgXCJEaWRuJ3QgZmluZCBhbnkgbWF0Y2hlcyBhZnRlciBmZXRjaGVyIGFjdGlvblwiKTtcblxuICAgIGxldCBsb2FkSWQgPSArK2luY3JlbWVudGluZ0xvYWRJZDtcbiAgICBmZXRjaFJlbG9hZElkcy5zZXQoa2V5LCBsb2FkSWQpO1xuXG4gICAgbGV0IGxvYWRGZXRjaGVyID0gZ2V0TG9hZGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgYWN0aW9uUmVzdWx0LmRhdGEpO1xuICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGxvYWRGZXRjaGVyKTtcblxuICAgIGxldCBbbWF0Y2hlc1RvTG9hZCwgcmV2YWxpZGF0aW5nRmV0Y2hlcnNdID0gZ2V0TWF0Y2hlc1RvTG9hZChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHN1Ym1pc3Npb24sXG4gICAgICBuZXh0TG9jYXRpb24sXG4gICAgICBmYWxzZSxcbiAgICAgIGZ1dHVyZS52N19za2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb24sXG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkLFxuICAgICAgY2FuY2VsbGVkRGVmZXJyZWRSb3V0ZXMsXG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMsXG4gICAgICBkZWxldGVkRmV0Y2hlcnMsXG4gICAgICBmZXRjaExvYWRNYXRjaGVzLFxuICAgICAgZmV0Y2hSZWRpcmVjdElkcyxcbiAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBbbWF0Y2gucm91dGUuaWQsIGFjdGlvblJlc3VsdF1cbiAgICApO1xuXG4gICAgLy8gUHV0IGFsbCByZXZhbGlkYXRpbmcgZmV0Y2hlcnMgaW50byB0aGUgbG9hZGluZyBzdGF0ZSwgZXhjZXB0IGZvciB0aGVcbiAgICAvLyBjdXJyZW50IGZldGNoZXIgd2hpY2ggd2Ugd2FudCB0byBrZWVwIGluIGl0J3MgY3VycmVudCBsb2FkaW5nIHN0YXRlIHdoaWNoXG4gICAgLy8gY29udGFpbnMgaXQncyBhY3Rpb24gc3VibWlzc2lvbiBpbmZvICsgYWN0aW9uIGRhdGFcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVyc1xuICAgICAgLmZpbHRlcigocmYpID0+IHJmLmtleSAhPT0ga2V5KVxuICAgICAgLmZvckVhY2goKHJmKSA9PiB7XG4gICAgICAgIGxldCBzdGFsZUtleSA9IHJmLmtleTtcbiAgICAgICAgbGV0IGV4aXN0aW5nRmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChzdGFsZUtleSk7XG4gICAgICAgIGxldCByZXZhbGlkYXRpbmdGZXRjaGVyID0gZ2V0TG9hZGluZ0ZldGNoZXIoXG4gICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIGV4aXN0aW5nRmV0Y2hlciA/IGV4aXN0aW5nRmV0Y2hlci5kYXRhIDogdW5kZWZpbmVkXG4gICAgICAgICk7XG4gICAgICAgIHN0YXRlLmZldGNoZXJzLnNldChzdGFsZUtleSwgcmV2YWxpZGF0aW5nRmV0Y2hlcik7XG4gICAgICAgIGFib3J0RmV0Y2hlcihzdGFsZUtleSk7XG4gICAgICAgIGlmIChyZi5jb250cm9sbGVyKSB7XG4gICAgICAgICAgZmV0Y2hDb250cm9sbGVycy5zZXQoc3RhbGVLZXksIHJmLmNvbnRyb2xsZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIHVwZGF0ZVN0YXRlKHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0pO1xuXG4gICAgbGV0IGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9ucyA9ICgpID0+XG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4gYWJvcnRGZXRjaGVyKHJmLmtleSkpO1xuXG4gICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJhYm9ydFwiLFxuICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgKTtcblxuICAgIGxldCB7IGxvYWRlclJlc3VsdHMsIGZldGNoZXJSZXN1bHRzIH0gPVxuICAgICAgYXdhaXQgY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICAgIHJldmFsaWRhdGlvblJlcXVlc3RcbiAgICAgICk7XG5cbiAgICBpZiAoYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgXCJhYm9ydFwiLFxuICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgKTtcblxuICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocikgPT4gZmV0Y2hDb250cm9sbGVycy5kZWxldGUoci5rZXkpKTtcblxuICAgIGxldCByZWRpcmVjdCA9IGZpbmRSZWRpcmVjdChsb2FkZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QpIHtcbiAgICAgIHJldHVybiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihcbiAgICAgICAgcmV2YWxpZGF0aW9uUmVxdWVzdCxcbiAgICAgICAgcmVkaXJlY3QucmVzdWx0LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgeyBwcmV2ZW50U2Nyb2xsUmVzZXQgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZWRpcmVjdCA9IGZpbmRSZWRpcmVjdChmZXRjaGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0KSB7XG4gICAgICAvLyBJZiB0aGlzIHJlZGlyZWN0IGNhbWUgZnJvbSBhIGZldGNoZXIgbWFrZSBzdXJlIHdlIG1hcmsgaXQgaW5cbiAgICAgIC8vIGZldGNoUmVkaXJlY3RJZHMgc28gaXQgZG9lc24ndCBnZXQgcmV2YWxpZGF0ZWQgb24gdGhlIG5leHQgc2V0IG9mXG4gICAgICAvLyBsb2FkZXIgZXhlY3V0aW9uc1xuICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQocmVkaXJlY3Qua2V5KTtcbiAgICAgIHJldHVybiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihcbiAgICAgICAgcmV2YWxpZGF0aW9uUmVxdWVzdCxcbiAgICAgICAgcmVkaXJlY3QucmVzdWx0LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgeyBwcmV2ZW50U2Nyb2xsUmVzZXQgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGFuZCBjb21taXQgb3V0cHV0IGZyb20gbG9hZGVyc1xuICAgIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gcHJvY2Vzc0xvYWRlckRhdGEoXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICBmZXRjaGVyUmVzdWx0cyxcbiAgICAgIGFjdGl2ZURlZmVycmVkc1xuICAgICk7XG5cbiAgICAvLyBTaW5jZSB3ZSBsZXQgcmV2YWxpZGF0aW9ucyBjb21wbGV0ZSBldmVuIGlmIHRoZSBzdWJtaXR0aW5nIGZldGNoZXIgd2FzXG4gICAgLy8gZGVsZXRlZCwgb25seSBwdXQgaXQgYmFjayB0byBpZGxlIGlmIGl0IGhhc24ndCBiZWVuIGRlbGV0ZWRcbiAgICBpZiAoc3RhdGUuZmV0Y2hlcnMuaGFzKGtleSkpIHtcbiAgICAgIGxldCBkb25lRmV0Y2hlciA9IGdldERvbmVGZXRjaGVyKGFjdGlvblJlc3VsdC5kYXRhKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGRvbmVGZXRjaGVyKTtcbiAgICB9XG5cbiAgICBhYm9ydFN0YWxlRmV0Y2hMb2Fkcyhsb2FkSWQpO1xuXG4gICAgLy8gSWYgd2UgYXJlIGN1cnJlbnRseSBpbiBhIG5hdmlnYXRpb24gbG9hZGluZyBzdGF0ZSBhbmQgdGhpcyBmZXRjaGVyIGlzXG4gICAgLy8gbW9yZSByZWNlbnQgdGhhbiB0aGUgbmF2aWdhdGlvbiwgd2Ugd2FudCB0aGUgbmV3ZXIgZGF0YSBzbyBhYm9ydCB0aGVcbiAgICAvLyBuYXZpZ2F0aW9uIGFuZCBjb21wbGV0ZSBpdCB3aXRoIHRoZSBmZXRjaGVyIGRhdGFcbiAgICBpZiAoXG4gICAgICBzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJlxuICAgICAgbG9hZElkID4gcGVuZGluZ05hdmlnYXRpb25Mb2FkSWRcbiAgICApIHtcbiAgICAgIGludmFyaWFudChwZW5kaW5nQWN0aW9uLCBcIkV4cGVjdGVkIHBlbmRpbmcgYWN0aW9uXCIpO1xuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyICYmIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5hYm9ydCgpO1xuXG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiwge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICBlcnJvcnMsXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvdGhlcndpc2UganVzdCB1cGRhdGUgd2l0aCB0aGUgZmV0Y2hlciBkYXRhLCBwcmVzZXJ2aW5nIGFueSBleGlzdGluZ1xuICAgICAgLy8gbG9hZGVyRGF0YSBmb3IgbG9hZGVycyB0aGF0IGRpZCBub3QgbmVlZCB0byByZWxvYWQuICBXZSBoYXZlIHRvXG4gICAgICAvLyBtYW51YWxseSBtZXJnZSBoZXJlIHNpbmNlIHdlIGFyZW4ndCBnb2luZyB0aHJvdWdoIGNvbXBsZXRlTmF2aWdhdGlvblxuICAgICAgdXBkYXRlU3RhdGUoe1xuICAgICAgICBlcnJvcnMsXG4gICAgICAgIGxvYWRlckRhdGE6IG1lcmdlTG9hZGVyRGF0YShcbiAgICAgICAgICBzdGF0ZS5sb2FkZXJEYXRhLFxuICAgICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBlcnJvcnNcbiAgICAgICAgKSxcbiAgICAgICAgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpLFxuICAgICAgfSk7XG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2FsbCB0aGUgbWF0Y2hlZCBsb2FkZXIgZm9yIGZldGNoZXIubG9hZCgpLCBoYW5kbGluZyByZWRpcmVjdHMsIGVycm9ycywgZXRjLlxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVGZXRjaGVyTG9hZGVyKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJvdXRlSWQ6IHN0cmluZyxcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgbWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gsXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIGlzRm9nT2ZXYXI6IGJvb2xlYW4sXG4gICAgZmx1c2hTeW5jOiBib29sZWFuLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldDogYm9vbGVhbixcbiAgICBzdWJtaXNzaW9uPzogU3VibWlzc2lvblxuICApIHtcbiAgICBsZXQgZXhpc3RpbmdGZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKFxuICAgICAga2V5LFxuICAgICAgZ2V0TG9hZGluZ0ZldGNoZXIoXG4gICAgICAgIHN1Ym1pc3Npb24sXG4gICAgICAgIGV4aXN0aW5nRmV0Y2hlciA/IGV4aXN0aW5nRmV0Y2hlci5kYXRhIDogdW5kZWZpbmVkXG4gICAgICApLFxuICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICk7XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBmZXRjaFJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHBhdGgsXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgKTtcblxuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbmV3IFVSTChmZXRjaFJlcXVlc3QudXJsKS5wYXRobmFtZSxcbiAgICAgICAgZmV0Y2hSZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAga2V5XG4gICAgICApO1xuXG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZGlzY292ZXJSZXN1bHQuZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogcGF0aCB9KSxcbiAgICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgICBtYXRjaCA9IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIHBhdGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGwgdGhlIGxvYWRlciBmb3IgdGhpcyBmZXRjaGVyIHJvdXRlIG1hdGNoXG4gICAgZmV0Y2hDb250cm9sbGVycy5zZXQoa2V5LCBhYm9ydENvbnRyb2xsZXIpO1xuXG4gICAgbGV0IG9yaWdpbmF0aW5nTG9hZElkID0gaW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwibG9hZGVyXCIsXG4gICAgICBzdGF0ZSxcbiAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgIFttYXRjaF0sXG4gICAgICBtYXRjaGVzLFxuICAgICAga2V5XG4gICAgKTtcbiAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG5cbiAgICAvLyBEZWZlcnJlZCBpc24ndCBzdXBwb3J0ZWQgZm9yIGZldGNoZXIgbG9hZHMsIGF3YWl0IGV2ZXJ5dGhpbmcgYW5kIHRyZWF0IGl0XG4gICAgLy8gYXMgYSBub3JtYWwgbG9hZC4gIHJlc29sdmVEZWZlcnJlZERhdGEgd2lsbCByZXR1cm4gdW5kZWZpbmVkIGlmIHRoaXNcbiAgICAvLyBmZXRjaGVyIGdldHMgYWJvcnRlZCwgc28gd2UganVzdCBsZWF2ZSByZXN1bHQgdW50b3VjaGVkIGFuZCBzaG9ydCBjaXJjdWl0XG4gICAgLy8gYmVsb3cgaWYgdGhhdCBoYXBwZW5zXG4gICAgaWYgKGlzRGVmZXJyZWRSZXN1bHQocmVzdWx0KSkge1xuICAgICAgcmVzdWx0ID1cbiAgICAgICAgKGF3YWl0IHJlc29sdmVEZWZlcnJlZERhdGEocmVzdWx0LCBmZXRjaFJlcXVlc3Quc2lnbmFsLCB0cnVlKSkgfHxcbiAgICAgICAgcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIFdlIGNhbiBkZWxldGUgdGhpcyBzbyBsb25nIGFzIHdlIHdlcmVuJ3QgYWJvcnRlZCBieSBvdXIgb3VyIG93biBmZXRjaGVyXG4gICAgLy8gcmUtbG9hZCB3aGljaCB3b3VsZCBoYXZlIHB1dCBfbmV3XyBjb250cm9sbGVyIGlzIGluIGZldGNoQ29udHJvbGxlcnNcbiAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5nZXQoa2V5KSA9PT0gYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuICAgIGlmIChmZXRjaFJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXZSBkb24ndCB3YW50IGVycm9ycyBidWJibGluZyB1cCBvciByZWRpcmVjdHMgZm9sbG93ZWQgZm9yIHVubW91bnRlZFxuICAgIC8vIGZldGNoZXJzLCBzbyBzaG9ydCBjaXJjdWl0IGhlcmUgaWYgaXQgd2FzIHJlbW92ZWQgZnJvbSB0aGUgVUlcbiAgICBpZiAoZGVsZXRlZEZldGNoZXJzLmhhcyhrZXkpKSB7XG4gICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih1bmRlZmluZWQpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbG9hZGVyIHRocmV3IGEgcmVkaXJlY3QgUmVzcG9uc2UsIHN0YXJ0IGEgbmV3IFJFUExBQ0UgbmF2aWdhdGlvblxuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA+IG9yaWdpbmF0aW5nTG9hZElkKSB7XG4gICAgICAgIC8vIEEgbmV3IG5hdmlnYXRpb24gd2FzIGtpY2tlZCBvZmYgYWZ0ZXIgb3VyIGxvYWRlciBzdGFydGVkLCBzbyB0aGF0XG4gICAgICAgIC8vIHNob3VsZCB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aGlzIHJlZGlyZWN0IG5hdmlnYXRpb25cbiAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodW5kZWZpbmVkKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKGtleSk7XG4gICAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKGZldGNoUmVxdWVzdCwgcmVzdWx0LCBmYWxzZSwge1xuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGFueSBub24tcmVkaXJlY3QgZXJyb3JzIHRocm93blxuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIHJlc3VsdC5lcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW52YXJpYW50KCFpc0RlZmVycmVkUmVzdWx0KHJlc3VsdCksIFwiVW5oYW5kbGVkIGZldGNoZXIgZGVmZXJyZWQgZGF0YVwiKTtcblxuICAgIC8vIFB1dCB0aGUgZmV0Y2hlciBiYWNrIGludG8gYW4gaWRsZSBzdGF0ZVxuICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHJlc3VsdC5kYXRhKSk7XG4gIH1cblxuICAvKipcbiAgICogVXRpbGl0eSBmdW5jdGlvbiB0byBoYW5kbGUgcmVkaXJlY3RzIHJldHVybmVkIGZyb20gYW4gYWN0aW9uIG9yIGxvYWRlci5cbiAgICogTm9ybWFsbHksIGEgcmVkaXJlY3QgXCJyZXBsYWNlc1wiIHRoZSBuYXZpZ2F0aW9uIHRoYXQgdHJpZ2dlcmVkIGl0LiAgU28sIGZvclxuICAgKiBleGFtcGxlOlxuICAgKlxuICAgKiAgLSB1c2VyIGlzIG9uIC9hXG4gICAqICAtIHVzZXIgY2xpY2tzIGEgbGluayB0byAvYlxuICAgKiAgLSBsb2FkZXIgZm9yIC9iIHJlZGlyZWN0cyB0byAvY1xuICAgKlxuICAgKiBJbiBhIG5vbi1KUyBhcHAgdGhlIGJyb3dzZXIgd291bGQgdHJhY2sgdGhlIGluLWZsaWdodCBuYXZpZ2F0aW9uIHRvIC9iIGFuZFxuICAgKiB0aGVuIHJlcGxhY2UgaXQgd2l0aCAvYyB3aGVuIGl0IGVuY291bnRlcmVkIHRoZSByZWRpcmVjdCByZXNwb25zZS4gIEluXG4gICAqIHRoZSBlbmQgaXQgd291bGQgb25seSBldmVyIHVwZGF0ZSB0aGUgVVJMIGJhciB3aXRoIC9jLlxuICAgKlxuICAgKiBJbiBjbGllbnQtc2lkZSByb3V0aW5nIHVzaW5nIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGUsIHdlIGFpbSB0byBlbXVsYXRlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIHdlIGFsc28gZG8gbm90IHVwZGF0ZSBoaXN0b3J5IHVudGlsIHRoZSBlbmQgb2YgdGhlXG4gICAqIG5hdmlnYXRpb24gKGluY2x1ZGluZyBwcm9jZXNzZWQgcmVkaXJlY3RzKS4gIFRoaXMgbWVhbnMgdGhhdCB3ZSBuZXZlclxuICAgKiBhY3R1YWxseSB0b3VjaCBoaXN0b3J5IHVudGlsIHdlJ3ZlIHByb2Nlc3NlZCByZWRpcmVjdHMsIHNvIHdlIGp1c3QgdXNlXG4gICAqIHRoZSBoaXN0b3J5IGFjdGlvbiBmcm9tIHRoZSBvcmlnaW5hbCBuYXZpZ2F0aW9uIChQVVNIIG9yIFJFUExBQ0UpLlxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICByZWRpcmVjdDogUmVkaXJlY3RSZXN1bHQsXG4gICAgaXNOYXZpZ2F0aW9uOiBib29sZWFuLFxuICAgIHtcbiAgICAgIHN1Ym1pc3Npb24sXG4gICAgICBmZXRjaGVyU3VibWlzc2lvbixcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHJlcGxhY2UsXG4gICAgfToge1xuICAgICAgc3VibWlzc2lvbj86IFN1Ym1pc3Npb247XG4gICAgICBmZXRjaGVyU3VibWlzc2lvbj86IFN1Ym1pc3Npb247XG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ/OiBib29sZWFuO1xuICAgICAgcmVwbGFjZT86IGJvb2xlYW47XG4gICAgfSA9IHt9XG4gICkge1xuICAgIGlmIChyZWRpcmVjdC5yZXNwb25zZS5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmV2YWxpZGF0ZVwiKSkge1xuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgbGV0IGxvY2F0aW9uID0gcmVkaXJlY3QucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgICBpbnZhcmlhbnQobG9jYXRpb24sIFwiRXhwZWN0ZWQgYSBMb2NhdGlvbiBoZWFkZXIgb24gdGhlIHJlZGlyZWN0IFJlc3BvbnNlXCIpO1xuICAgIGxvY2F0aW9uID0gbm9ybWFsaXplUmVkaXJlY3RMb2NhdGlvbihcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbmV3IFVSTChyZXF1ZXN0LnVybCksXG4gICAgICBiYXNlbmFtZVxuICAgICk7XG4gICAgbGV0IHJlZGlyZWN0TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihzdGF0ZS5sb2NhdGlvbiwgbG9jYXRpb24sIHtcbiAgICAgIF9pc1JlZGlyZWN0OiB0cnVlLFxuICAgIH0pO1xuXG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgbGV0IGlzRG9jdW1lbnRSZWxvYWQgPSBmYWxzZTtcblxuICAgICAgaWYgKHJlZGlyZWN0LnJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIikpIHtcbiAgICAgICAgLy8gSGFyZCByZWxvYWQgaWYgdGhlIHJlc3BvbnNlIGNvbnRhaW5lZCBYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFxuICAgICAgICBpc0RvY3VtZW50UmVsb2FkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QobG9jYXRpb24pKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGluaXQuaGlzdG9yeS5jcmVhdGVVUkwobG9jYXRpb24pO1xuICAgICAgICBpc0RvY3VtZW50UmVsb2FkID1cbiAgICAgICAgICAvLyBIYXJkIHJlbG9hZCBpZiBpdCdzIGFuIGFic29sdXRlIFVSTCB0byBhIG5ldyBvcmlnaW5cbiAgICAgICAgICB1cmwub3JpZ2luICE9PSByb3V0ZXJXaW5kb3cubG9jYXRpb24ub3JpZ2luIHx8XG4gICAgICAgICAgLy8gSGFyZCByZWxvYWQgaWYgaXQncyBhbiBhYnNvbHV0ZSBVUkwgdGhhdCBkb2VzIG5vdCBtYXRjaCBvdXIgYmFzZW5hbWVcbiAgICAgICAgICBzdHJpcEJhc2VuYW1lKHVybC5wYXRobmFtZSwgYmFzZW5hbWUpID09IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0RvY3VtZW50UmVsb2FkKSB7XG4gICAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgICAgcm91dGVyV2luZG93LmxvY2F0aW9uLnJlcGxhY2UobG9jYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdXRlcldpbmRvdy5sb2NhdGlvbi5hc3NpZ24obG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGVyZSdzIG5vIG5lZWQgdG8gYWJvcnQgb24gcmVkaXJlY3RzLCBzaW5jZSB3ZSBkb24ndCBkZXRlY3QgdGhlXG4gICAgLy8gcmVkaXJlY3QgdW50aWwgdGhlIGFjdGlvbi9sb2FkZXJzIGhhdmUgc2V0dGxlZFxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG5cbiAgICBsZXQgcmVkaXJlY3RIaXN0b3J5QWN0aW9uID1cbiAgICAgIHJlcGxhY2UgPT09IHRydWUgfHwgcmVkaXJlY3QucmVzcG9uc2UuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlcGxhY2VcIilcbiAgICAgICAgPyBIaXN0b3J5QWN0aW9uLlJlcGxhY2VcbiAgICAgICAgOiBIaXN0b3J5QWN0aW9uLlB1c2g7XG5cbiAgICAvLyBVc2UgdGhlIGluY29taW5nIHN1Ym1pc3Npb24gaWYgcHJvdmlkZWQsIGZhbGxiYWNrIG9uIHRoZSBhY3RpdmUgb25lIGluXG4gICAgLy8gc3RhdGUubmF2aWdhdGlvblxuICAgIGxldCB7IGZvcm1NZXRob2QsIGZvcm1BY3Rpb24sIGZvcm1FbmNUeXBlIH0gPSBzdGF0ZS5uYXZpZ2F0aW9uO1xuICAgIGlmIChcbiAgICAgICFzdWJtaXNzaW9uICYmXG4gICAgICAhZmV0Y2hlclN1Ym1pc3Npb24gJiZcbiAgICAgIGZvcm1NZXRob2QgJiZcbiAgICAgIGZvcm1BY3Rpb24gJiZcbiAgICAgIGZvcm1FbmNUeXBlXG4gICAgKSB7XG4gICAgICBzdWJtaXNzaW9uID0gZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKHN0YXRlLm5hdmlnYXRpb24pO1xuICAgIH1cblxuICAgIC8vIElmIHRoaXMgd2FzIGEgMzA3LzMwOCBzdWJtaXNzaW9uIHdlIHdhbnQgdG8gcHJlc2VydmUgdGhlIEhUVFAgbWV0aG9kIGFuZFxuICAgIC8vIHJlLXN1Ym1pdCB0aGUgR0VUL1BPU1QvUFVUL1BBVENIL0RFTEVURSBhcyBhIHN1Ym1pc3Npb24gbmF2aWdhdGlvbiB0byB0aGVcbiAgICAvLyByZWRpcmVjdGVkIGxvY2F0aW9uXG4gICAgbGV0IGFjdGl2ZVN1Ym1pc3Npb24gPSBzdWJtaXNzaW9uIHx8IGZldGNoZXJTdWJtaXNzaW9uO1xuICAgIGlmIChcbiAgICAgIHJlZGlyZWN0UHJlc2VydmVNZXRob2RTdGF0dXNDb2Rlcy5oYXMocmVkaXJlY3QucmVzcG9uc2Uuc3RhdHVzKSAmJlxuICAgICAgYWN0aXZlU3VibWlzc2lvbiAmJlxuICAgICAgaXNNdXRhdGlvbk1ldGhvZChhY3RpdmVTdWJtaXNzaW9uLmZvcm1NZXRob2QpXG4gICAgKSB7XG4gICAgICBhd2FpdCBzdGFydE5hdmlnYXRpb24ocmVkaXJlY3RIaXN0b3J5QWN0aW9uLCByZWRpcmVjdExvY2F0aW9uLCB7XG4gICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICAuLi5hY3RpdmVTdWJtaXNzaW9uLFxuICAgICAgICAgIGZvcm1BY3Rpb246IGxvY2F0aW9uLFxuICAgICAgICB9LFxuICAgICAgICAvLyBQcmVzZXJ2ZSB0aGVzZSBmbGFncyBhY3Jvc3MgcmVkaXJlY3RzXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogcHJldmVudFNjcm9sbFJlc2V0IHx8IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBpc05hdmlnYXRpb25cbiAgICAgICAgICA/IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWRcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgbmF2aWdhdGlvbiBzdWJtaXNzaW9uLCB3ZSB3aWxsIHByZXNlcnZlIGl0IHRocm91Z2ggdGhlXG4gICAgICAvLyByZWRpcmVjdCBuYXZpZ2F0aW9uXG4gICAgICBsZXQgb3ZlcnJpZGVOYXZpZ2F0aW9uID0gZ2V0TG9hZGluZ05hdmlnYXRpb24oXG4gICAgICAgIHJlZGlyZWN0TG9jYXRpb24sXG4gICAgICAgIHN1Ym1pc3Npb25cbiAgICAgICk7XG4gICAgICBhd2FpdCBzdGFydE5hdmlnYXRpb24ocmVkaXJlY3RIaXN0b3J5QWN0aW9uLCByZWRpcmVjdExvY2F0aW9uLCB7XG4gICAgICAgIG92ZXJyaWRlTmF2aWdhdGlvbixcbiAgICAgICAgLy8gU2VuZCBmZXRjaGVyIHN1Ym1pc3Npb25zIHRocm91Z2ggZm9yIHNob3VsZFJldmFsaWRhdGVcbiAgICAgICAgZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgICAgIC8vIFByZXNlcnZlIHRoZXNlIGZsYWdzIGFjcm9zcyByZWRpcmVjdHNcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBwcmV2ZW50U2Nyb2xsUmVzZXQgfHwgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IGlzTmF2aWdhdGlvblxuICAgICAgICAgID8gcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZFxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gVXRpbGl0eSB3cmFwcGVyIGZvciBjYWxsaW5nIGRhdGFTdHJhdGVneSBjbGllbnQtc2lkZSB3aXRob3V0IGhhdmluZyB0b1xuICAvLyBwYXNzIGFyb3VuZCB0aGUgbWFuaWZlc3QsIG1hcFJvdXRlUHJvcGVydGllcywgZXRjLlxuICBhc3luYyBmdW5jdGlvbiBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgIHR5cGU6IFwibG9hZGVyXCIgfCBcImFjdGlvblwiLFxuICAgIHN0YXRlOiBSb3V0ZXJTdGF0ZSxcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIG1hdGNoZXNUb0xvYWQ6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgZmV0Y2hlcktleTogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+PiB7XG4gICAgbGV0IHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIERhdGFTdHJhdGVneVJlc3VsdD47XG4gICAgbGV0IGRhdGFSZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0PiA9IHt9O1xuICAgIHRyeSB7XG4gICAgICByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneUltcGwoXG4gICAgICAgIGRhdGFTdHJhdGVneUltcGwsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBmZXRjaGVyS2V5LFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElmIHRoZSBvdXRlciBkYXRhU3RyYXRlZ3kgbWV0aG9kIHRocm93cywganVzdCByZXR1cm4gdGhlIGVycm9yIGZvciBhbGxcbiAgICAgIC8vIG1hdGNoZXMgLSBhbmQgaXQnbGwgbmF0dXJhbGx5IGJ1YmJsZSB0byB0aGUgcm9vdFxuICAgICAgbWF0Y2hlc1RvTG9hZC5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgIGRhdGFSZXN1bHRzW20ucm91dGUuaWRdID0ge1xuICAgICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgICB9XG5cbiAgICBmb3IgKGxldCBbcm91dGVJZCwgcmVzdWx0XSBvZiBPYmplY3QuZW50cmllcyhyZXN1bHRzKSkge1xuICAgICAgaWYgKGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHRSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSByZXN1bHQucmVzdWx0IGFzIFJlc3BvbnNlO1xuICAgICAgICBkYXRhUmVzdWx0c1tyb3V0ZUlkXSA9IHtcbiAgICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLnJlZGlyZWN0LFxuICAgICAgICAgIHJlc3BvbnNlOiBub3JtYWxpemVSZWxhdGl2ZVJvdXRpbmdSZWRpcmVjdFJlc3BvbnNlKFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICAgIGZ1dHVyZS52N19yZWxhdGl2ZVNwbGF0UGF0aFxuICAgICAgICAgICksXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhUmVzdWx0c1tyb3V0ZUlkXSA9IGF3YWl0IGNvbnZlcnREYXRhU3RyYXRlZ3lSZXN1bHRUb0RhdGFSZXN1bHQoXG4gICAgICAgICAgcmVzdWx0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFSZXN1bHRzO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKFxuICAgIHN0YXRlOiBSb3V0ZXJTdGF0ZSxcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgbWF0Y2hlc1RvTG9hZDogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIGZldGNoZXJzVG9Mb2FkOiBSZXZhbGlkYXRpbmdGZXRjaGVyW10sXG4gICAgcmVxdWVzdDogUmVxdWVzdFxuICApIHtcbiAgICBsZXQgY3VycmVudE1hdGNoZXMgPSBzdGF0ZS5tYXRjaGVzO1xuXG4gICAgLy8gS2ljayBvZmYgbG9hZGVycyBhbmQgZmV0Y2hlcnMgaW4gcGFyYWxsZWxcbiAgICBsZXQgbG9hZGVyUmVzdWx0c1Byb21pc2UgPSBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJsb2FkZXJcIixcbiAgICAgIHN0YXRlLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbnVsbFxuICAgICk7XG5cbiAgICBsZXQgZmV0Y2hlclJlc3VsdHNQcm9taXNlID0gUHJvbWlzZS5hbGwoXG4gICAgICBmZXRjaGVyc1RvTG9hZC5tYXAoYXN5bmMgKGYpID0+IHtcbiAgICAgICAgaWYgKGYubWF0Y2hlcyAmJiBmLm1hdGNoICYmIGYuY29udHJvbGxlcikge1xuICAgICAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgICAgIFwibG9hZGVyXCIsXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KGluaXQuaGlzdG9yeSwgZi5wYXRoLCBmLmNvbnRyb2xsZXIuc2lnbmFsKSxcbiAgICAgICAgICAgIFtmLm1hdGNoXSxcbiAgICAgICAgICAgIGYubWF0Y2hlcyxcbiAgICAgICAgICAgIGYua2V5XG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1tmLm1hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgICAvLyBGZXRjaGVyIHJlc3VsdHMgYXJlIGtleWVkIGJ5IGZldGNoZXIga2V5IGZyb20gaGVyZSBvbiBvdXQsIG5vdCByb3V0ZUlkXG4gICAgICAgICAgcmV0dXJuIHsgW2Yua2V5XTogcmVzdWx0IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBbZi5rZXldOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgICAgICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiBmLnBhdGgsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSBhcyBFcnJvclJlc3VsdCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgbGV0IGxvYWRlclJlc3VsdHMgPSBhd2FpdCBsb2FkZXJSZXN1bHRzUHJvbWlzZTtcbiAgICBsZXQgZmV0Y2hlclJlc3VsdHMgPSAoYXdhaXQgZmV0Y2hlclJlc3VsdHNQcm9taXNlKS5yZWR1Y2UoXG4gICAgICAoYWNjLCByKSA9PiBPYmplY3QuYXNzaWduKGFjYywgciksXG4gICAgICB7fVxuICAgICk7XG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICByZXNvbHZlTmF2aWdhdGlvbkRlZmVycmVkUmVzdWx0cyhcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGN1cnJlbnRNYXRjaGVzLFxuICAgICAgICBzdGF0ZS5sb2FkZXJEYXRhXG4gICAgICApLFxuICAgICAgcmVzb2x2ZUZldGNoZXJEZWZlcnJlZFJlc3VsdHMobWF0Y2hlcywgZmV0Y2hlclJlc3VsdHMsIGZldGNoZXJzVG9Mb2FkKSxcbiAgICBdKTtcblxuICAgIHJldHVybiB7XG4gICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgZmV0Y2hlclJlc3VsdHMsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGludGVycnVwdEFjdGl2ZUxvYWRzKCkge1xuICAgIC8vIEV2ZXJ5IGludGVycnVwdGlvbiB0cmlnZ2VycyBhIHJldmFsaWRhdGlvblxuICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xuXG4gICAgLy8gQ2FuY2VsIHBlbmRpbmcgcm91dGUtbGV2ZWwgZGVmZXJyZWRzIGFuZCBtYXJrIGNhbmNlbGxlZCByb3V0ZXMgZm9yXG4gICAgLy8gcmV2YWxpZGF0aW9uXG4gICAgY2FuY2VsbGVkRGVmZXJyZWRSb3V0ZXMucHVzaCguLi5jYW5jZWxBY3RpdmVEZWZlcnJlZHMoKSk7XG5cbiAgICAvLyBBYm9ydCBpbi1mbGlnaHQgZmV0Y2hlciBsb2Fkc1xuICAgIGZldGNoTG9hZE1hdGNoZXMuZm9yRWFjaCgoXywga2V5KSA9PiB7XG4gICAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5oYXMoa2V5KSkge1xuICAgICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuYWRkKGtleSk7XG4gICAgICB9XG4gICAgICBhYm9ydEZldGNoZXIoa2V5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZldGNoZXJTdGF0ZShcbiAgICBrZXk6IHN0cmluZyxcbiAgICBmZXRjaGVyOiBGZXRjaGVyLFxuICAgIG9wdHM6IHsgZmx1c2hTeW5jPzogYm9vbGVhbiB9ID0ge31cbiAgKSB7XG4gICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZmV0Y2hlcik7XG4gICAgdXBkYXRlU3RhdGUoXG4gICAgICB7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9LFxuICAgICAgeyBmbHVzaFN5bmM6IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZSB9XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEZldGNoZXJFcnJvcihcbiAgICBrZXk6IHN0cmluZyxcbiAgICByb3V0ZUlkOiBzdHJpbmcsXG4gICAgZXJyb3I6IGFueSxcbiAgICBvcHRzOiB7IGZsdXNoU3luYz86IGJvb2xlYW4gfSA9IHt9XG4gICkge1xuICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShzdGF0ZS5tYXRjaGVzLCByb3V0ZUlkKTtcbiAgICBkZWxldGVGZXRjaGVyKGtleSk7XG4gICAgdXBkYXRlU3RhdGUoXG4gICAgICB7XG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkXTogZXJyb3IsXG4gICAgICAgIH0sXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSxcbiAgICAgIH0sXG4gICAgICB7IGZsdXNoU3luYzogKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlIH1cbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RmV0Y2hlcjxURGF0YSA9IGFueT4oa2V5OiBzdHJpbmcpOiBGZXRjaGVyPFREYXRhPiB7XG4gICAgYWN0aXZlRmV0Y2hlcnMuc2V0KGtleSwgKGFjdGl2ZUZldGNoZXJzLmdldChrZXkpIHx8IDApICsgMSk7XG4gICAgLy8gSWYgdGhpcyBmZXRjaGVyIHdhcyBwcmV2aW91c2x5IG1hcmtlZCBmb3IgZGVsZXRpb24sIHVubWFyayBpdCBzaW5jZSB3ZVxuICAgIC8vIGhhdmUgYSBuZXcgaW5zdGFuY2VcbiAgICBpZiAoZGVsZXRlZEZldGNoZXJzLmhhcyhrZXkpKSB7XG4gICAgICBkZWxldGVkRmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KSB8fCBJRExFX0ZFVENIRVI7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVGZXRjaGVyKGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICAvLyBEb24ndCBhYm9ydCB0aGUgY29udHJvbGxlciBpZiB0aGlzIGlzIGEgZGVsZXRpb24gb2YgYSBmZXRjaGVyLnN1Ym1pdCgpXG4gICAgLy8gaW4gaXQncyBsb2FkaW5nIHBoYXNlIHNpbmNlIC0gd2UgZG9uJ3Qgd2FudCB0byBhYm9ydCB0aGUgY29ycmVzcG9uZGluZ1xuICAgIC8vIHJldmFsaWRhdGlvbiBhbmQgd2FudCB0aGVtIHRvIGNvbXBsZXRlIGFuZCBsYW5kXG4gICAgaWYgKFxuICAgICAgZmV0Y2hDb250cm9sbGVycy5oYXMoa2V5KSAmJlxuICAgICAgIShmZXRjaGVyICYmIGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiICYmIGZldGNoUmVsb2FkSWRzLmhhcyhrZXkpKVxuICAgICkge1xuICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgfVxuICAgIGZldGNoTG9hZE1hdGNoZXMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hSZWRpcmVjdElkcy5kZWxldGUoa2V5KTtcblxuICAgIC8vIElmIHdlIG9wdGVkIGludG8gdGhlIGZsYWcgd2UgY2FuIGNsZWFyIHRoaXMgbm93IHNpbmNlIHdlJ3JlIGNhbGxpbmdcbiAgICAvLyBkZWxldGVGZXRjaGVyKCkgYXQgdGhlIGVuZCBvZiB1cGRhdGVTdGF0ZSgpIGFuZCB3ZSd2ZSBhbHJlYWR5IGhhbmRlZCB0aGVcbiAgICAvLyBkZWxldGVkIGZldGNoZXIga2V5cyBvZmYgdG8gdGhlIGRhdGEgbGF5ZXIuXG4gICAgLy8gSWYgbm90LCB3ZSdyZSBlYWdlcmx5IGNhbGxpbmcgZGVsZXRlRmV0Y2hlcigpIGFuZCB3ZSBuZWVkIHRvIGtlZXAgdGhpc1xuICAgIC8vIFNldCBwb3B1bGF0ZWQgdW50aWwgdGhlIG5leHQgdXBkYXRlU3RhdGUgY2FsbCwgYW5kIHdlJ2xsIGNsZWFyXG4gICAgLy8gYGRlbGV0ZWRGZXRjaGVyc2AgdGhlblxuICAgIGlmIChmdXR1cmUudjdfZmV0Y2hlclBlcnNpc3QpIHtcbiAgICAgIGRlbGV0ZWRGZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgICB9XG5cbiAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuZGVsZXRlKGtleSk7XG4gICAgc3RhdGUuZmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVGZXRjaGVyQW5kVXBkYXRlU3RhdGUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgY291bnQgPSAoYWN0aXZlRmV0Y2hlcnMuZ2V0KGtleSkgfHwgMCkgLSAxO1xuICAgIGlmIChjb3VudCA8PSAwKSB7XG4gICAgICBhY3RpdmVGZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgICAgIGRlbGV0ZWRGZXRjaGVycy5hZGQoa2V5KTtcbiAgICAgIGlmICghZnV0dXJlLnY3X2ZldGNoZXJQZXJzaXN0KSB7XG4gICAgICAgIGRlbGV0ZUZldGNoZXIoa2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aXZlRmV0Y2hlcnMuc2V0KGtleSwgY291bnQpO1xuICAgIH1cblxuICAgIHVwZGF0ZVN0YXRlKHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWJvcnRGZXRjaGVyKGtleTogc3RyaW5nKSB7XG4gICAgbGV0IGNvbnRyb2xsZXIgPSBmZXRjaENvbnRyb2xsZXJzLmdldChrZXkpO1xuICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcmtGZXRjaGVyc0RvbmUoa2V5czogc3RyaW5nW10pIHtcbiAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgbGV0IGZldGNoZXIgPSBnZXRGZXRjaGVyKGtleSk7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihmZXRjaGVyLmRhdGEpO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZG9uZUZldGNoZXIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKTogYm9vbGVhbiB7XG4gICAgbGV0IGRvbmVLZXlzID0gW107XG4gICAgbGV0IHVwZGF0ZWRGZXRjaGVycyA9IGZhbHNlO1xuICAgIGZvciAobGV0IGtleSBvZiBmZXRjaFJlZGlyZWN0SWRzKSB7XG4gICAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgICAgaW52YXJpYW50KGZldGNoZXIsIGBFeHBlY3RlZCBmZXRjaGVyOiAke2tleX1gKTtcbiAgICAgIGlmIChmZXRjaGVyLnN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgICAgICBmZXRjaFJlZGlyZWN0SWRzLmRlbGV0ZShrZXkpO1xuICAgICAgICBkb25lS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHVwZGF0ZWRGZXRjaGVycyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIG1hcmtGZXRjaGVyc0RvbmUoZG9uZUtleXMpO1xuICAgIHJldHVybiB1cGRhdGVkRmV0Y2hlcnM7XG4gIH1cblxuICBmdW5jdGlvbiBhYm9ydFN0YWxlRmV0Y2hMb2FkcyhsYW5kZWRJZDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgbGV0IHllZXRlZEtleXMgPSBbXTtcbiAgICBmb3IgKGxldCBba2V5LCBpZF0gb2YgZmV0Y2hSZWxvYWRJZHMpIHtcbiAgICAgIGlmIChpZCA8IGxhbmRlZElkKSB7XG4gICAgICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgICAgIGludmFyaWFudChmZXRjaGVyLCBgRXhwZWN0ZWQgZmV0Y2hlcjogJHtrZXl9YCk7XG4gICAgICAgIGlmIChmZXRjaGVyLnN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgICAgICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgICAgICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgIHllZXRlZEtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIG1hcmtGZXRjaGVyc0RvbmUoeWVldGVkS2V5cyk7XG4gICAgcmV0dXJuIHllZXRlZEtleXMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJsb2NrZXIoa2V5OiBzdHJpbmcsIGZuOiBCbG9ja2VyRnVuY3Rpb24pIHtcbiAgICBsZXQgYmxvY2tlcjogQmxvY2tlciA9IHN0YXRlLmJsb2NrZXJzLmdldChrZXkpIHx8IElETEVfQkxPQ0tFUjtcblxuICAgIGlmIChibG9ja2VyRnVuY3Rpb25zLmdldChrZXkpICE9PSBmbikge1xuICAgICAgYmxvY2tlckZ1bmN0aW9ucy5zZXQoa2V5LCBmbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJsb2NrZXI7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVCbG9ja2VyKGtleTogc3RyaW5nKSB7XG4gICAgc3RhdGUuYmxvY2tlcnMuZGVsZXRlKGtleSk7XG4gICAgYmxvY2tlckZ1bmN0aW9ucy5kZWxldGUoa2V5KTtcbiAgfVxuXG4gIC8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gdXBkYXRlIGJsb2NrZXJzLCBlbnN1cmluZyB2YWxpZCBzdGF0ZSB0cmFuc2l0aW9uc1xuICBmdW5jdGlvbiB1cGRhdGVCbG9ja2VyKGtleTogc3RyaW5nLCBuZXdCbG9ja2VyOiBCbG9ja2VyKSB7XG4gICAgbGV0IGJsb2NrZXIgPSBzdGF0ZS5ibG9ja2Vycy5nZXQoa2V5KSB8fCBJRExFX0JMT0NLRVI7XG5cbiAgICAvLyBQb29yIG1hbnMgc3RhdGUgbWFjaGluZSA6KVxuICAgIC8vIGh0dHBzOi8vbWVybWFpZC5saXZlL2VkaXQjcGFrbzplTnFWa2M5T3d6QU14bDhsOG5uakFZckV0RElPSEVCSWd3dktKVFJlR3kzX2xEcElxTzI3azZhd01HMFhjckxsbno4N253ZG9uRVNvZ0tYWEJ1RTc5cnE3NVhaTzMteUhkczBSSlZ1djcwWXJQbFVyQ0VlMkhmck9SUzNydWJxWmZ1aHRwZzVDOXdrNXRaNFZLY1JVcTg4cTlaOFJTMC00OGNFMWlISmtMMHVnYkh1Rkx1czlMNnNwWnk4blg5TVAyQ05kb21WYXBvc3F1M2ZHYXlUOFQ4LWpKUXdoZXBvX1V0cGdCUWFERVVvbTA0ZFpoQU4xYUpCRGxVS0pCeEUxY2VCMlNtajBNbG4tSUJXNUFGVTJkd1Vpa3R0XzJRYXEyZEJmYUtkRXVwODVVVjdZZC1kS2psbmthYmwyUHZyMERUa1RyZU1cbiAgICBpbnZhcmlhbnQoXG4gICAgICAoYmxvY2tlci5zdGF0ZSA9PT0gXCJ1bmJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIikgfHxcbiAgICAgICAgKGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiKSB8fFxuICAgICAgICAoYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJwcm9jZWVkaW5nXCIpIHx8XG4gICAgICAgIChibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcInVuYmxvY2tlZFwiKSB8fFxuICAgICAgICAoYmxvY2tlci5zdGF0ZSA9PT0gXCJwcm9jZWVkaW5nXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJ1bmJsb2NrZWRcIiksXG4gICAgICBgSW52YWxpZCBibG9ja2VyIHN0YXRlIHRyYW5zaXRpb246ICR7YmxvY2tlci5zdGF0ZX0gLT4gJHtuZXdCbG9ja2VyLnN0YXRlfWBcbiAgICApO1xuXG4gICAgbGV0IGJsb2NrZXJzID0gbmV3IE1hcChzdGF0ZS5ibG9ja2Vycyk7XG4gICAgYmxvY2tlcnMuc2V0KGtleSwgbmV3QmxvY2tlcik7XG4gICAgdXBkYXRlU3RhdGUoeyBibG9ja2VycyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEJsb2NrTmF2aWdhdGlvbih7XG4gICAgY3VycmVudExvY2F0aW9uLFxuICAgIG5leHRMb2NhdGlvbixcbiAgICBoaXN0b3J5QWN0aW9uLFxuICB9OiB7XG4gICAgY3VycmVudExvY2F0aW9uOiBMb2NhdGlvbjtcbiAgICBuZXh0TG9jYXRpb246IExvY2F0aW9uO1xuICAgIGhpc3RvcnlBY3Rpb246IEhpc3RvcnlBY3Rpb247XG4gIH0pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGlmIChibG9ja2VyRnVuY3Rpb25zLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXZSBvbnkgc3VwcG9ydCBhIHNpbmdsZSBhY3RpdmUgYmxvY2tlciBhdCB0aGUgbW9tZW50IHNpbmNlIHdlIGRvbid0IGhhdmVcbiAgICAvLyBhbnkgY29tcGVsbGluZyB1c2UgY2FzZXMgZm9yIG11bHRpLWJsb2NrZXIgeWV0XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbnMuc2l6ZSA+IDEpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsIFwiQSByb3V0ZXIgb25seSBzdXBwb3J0cyBvbmUgYmxvY2tlciBhdCBhIHRpbWVcIik7XG4gICAgfVxuXG4gICAgbGV0IGVudHJpZXMgPSBBcnJheS5mcm9tKGJsb2NrZXJGdW5jdGlvbnMuZW50cmllcygpKTtcbiAgICBsZXQgW2Jsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbl0gPSBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV07XG4gICAgbGV0IGJsb2NrZXIgPSBzdGF0ZS5ibG9ja2Vycy5nZXQoYmxvY2tlcktleSk7XG5cbiAgICBpZiAoYmxvY2tlciAmJiBibG9ja2VyLnN0YXRlID09PSBcInByb2NlZWRpbmdcIikge1xuICAgICAgLy8gSWYgdGhlIGJsb2NrZXIgaXMgY3VycmVudGx5IHByb2NlZWRpbmcsIHdlIGRvbid0IG5lZWQgdG8gcmUtY2hlY2tcbiAgICAgIC8vIGl0IGFuZCBjYW4gbGV0IHRoaXMgbmF2aWdhdGlvbiBjb250aW51ZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIGtub3cgd2UncmUgdW5ibG9ja2VkL2Jsb2NrZWQgc28gd2UgbmVlZCB0byBjaGVjayB0aGVcbiAgICAvLyB1c2VyLXByb3ZpZGVkIGJsb2NrZXIgZnVuY3Rpb25cbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9uKHsgY3VycmVudExvY2F0aW9uLCBuZXh0TG9jYXRpb24sIGhpc3RvcnlBY3Rpb24gfSkpIHtcbiAgICAgIHJldHVybiBibG9ja2VyS2V5O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU5hdmlnYXRpb25hbDQwNChwYXRobmFtZTogc3RyaW5nKSB7XG4gICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWUgfSk7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IHsgbWF0Y2hlcywgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMocm91dGVzVG9Vc2UpO1xuXG4gICAgLy8gQ2FuY2VsIGFsbCBwZW5kaW5nIGRlZmVycmVkIG9uIDQwNHMgc2luY2Ugd2UgZG9uJ3Qga2VlcCBhbnkgcm91dGVzXG4gICAgY2FuY2VsQWN0aXZlRGVmZXJyZWRzKCk7XG5cbiAgICByZXR1cm4geyBub3RGb3VuZE1hdGNoZXM6IG1hdGNoZXMsIHJvdXRlLCBlcnJvciB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsQWN0aXZlRGVmZXJyZWRzKFxuICAgIHByZWRpY2F0ZT86IChyb3V0ZUlkOiBzdHJpbmcpID0+IGJvb2xlYW5cbiAgKTogc3RyaW5nW10ge1xuICAgIGxldCBjYW5jZWxsZWRSb3V0ZUlkczogc3RyaW5nW10gPSBbXTtcbiAgICBhY3RpdmVEZWZlcnJlZHMuZm9yRWFjaCgoZGZkLCByb3V0ZUlkKSA9PiB7XG4gICAgICBpZiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUocm91dGVJZCkpIHtcbiAgICAgICAgLy8gQ2FuY2VsIHRoZSBkZWZlcnJlZCAtIGJ1dCBkbyBub3QgcmVtb3ZlIGZyb20gYWN0aXZlRGVmZXJyZWRzIGhlcmUgLVxuICAgICAgICAvLyB3ZSByZWx5IG9uIHRoZSBzdWJzY3JpYmVycyB0byBkbyB0aGF0IHNvIG91ciB0ZXN0cyBjYW4gYXNzZXJ0IHByb3BlclxuICAgICAgICAvLyBjbGVhbnVwIHZpYSBfaW50ZXJuYWxBY3RpdmVEZWZlcnJlZHNcbiAgICAgICAgZGZkLmNhbmNlbCgpO1xuICAgICAgICBjYW5jZWxsZWRSb3V0ZUlkcy5wdXNoKHJvdXRlSWQpO1xuICAgICAgICBhY3RpdmVEZWZlcnJlZHMuZGVsZXRlKHJvdXRlSWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjYW5jZWxsZWRSb3V0ZUlkcztcbiAgfVxuXG4gIC8vIE9wdCBpbiB0byBjYXB0dXJpbmcgYW5kIHJlcG9ydGluZyBzY3JvbGwgcG9zaXRpb25zIGR1cmluZyBuYXZpZ2F0aW9ucyxcbiAgLy8gdXNlZCBieSB0aGUgPFNjcm9sbFJlc3RvcmF0aW9uPiBjb21wb25lbnRcbiAgZnVuY3Rpb24gZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24oXG4gICAgcG9zaXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LFxuICAgIGdldFBvc2l0aW9uOiBHZXRTY3JvbGxQb3NpdGlvbkZ1bmN0aW9uLFxuICAgIGdldEtleT86IEdldFNjcm9sbFJlc3RvcmF0aW9uS2V5RnVuY3Rpb25cbiAgKSB7XG4gICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMgPSBwb3NpdGlvbnM7XG4gICAgZ2V0U2Nyb2xsUG9zaXRpb24gPSBnZXRQb3NpdGlvbjtcbiAgICBnZXRTY3JvbGxSZXN0b3JhdGlvbktleSA9IGdldEtleSB8fCBudWxsO1xuXG4gICAgLy8gUGVyZm9ybSBpbml0aWFsIGh5ZHJhdGlvbiBzY3JvbGwgcmVzdG9yYXRpb24sIHNpbmNlIHdlIG1pc3MgdGhlIGJvYXQgb25cbiAgICAvLyB0aGUgaW5pdGlhbCB1cGRhdGVTdGF0ZSgpIGJlY2F1c2Ugd2UndmUgbm90IHlldCByZW5kZXJlZCA8U2Nyb2xsUmVzdG9yYXRpb24vPlxuICAgIC8vIGFuZCB0aGVyZWZvcmUgaGF2ZSBubyBzYXZlZFNjcm9sbFBvc2l0aW9ucyBhdmFpbGFibGVcbiAgICBpZiAoIWluaXRpYWxTY3JvbGxSZXN0b3JlZCAmJiBzdGF0ZS5uYXZpZ2F0aW9uID09PSBJRExFX05BVklHQVRJT04pIHtcbiAgICAgIGluaXRpYWxTY3JvbGxSZXN0b3JlZCA9IHRydWU7XG4gICAgICBsZXQgeSA9IGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oc3RhdGUubG9jYXRpb24sIHN0YXRlLm1hdGNoZXMpO1xuICAgICAgaWYgKHkgIT0gbnVsbCkge1xuICAgICAgICB1cGRhdGVTdGF0ZSh7IHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogeSB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMgPSBudWxsO1xuICAgICAgZ2V0U2Nyb2xsUG9zaXRpb24gPSBudWxsO1xuICAgICAgZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkgPSBudWxsO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTY3JvbGxLZXkobG9jYXRpb246IExvY2F0aW9uLCBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10pIHtcbiAgICBpZiAoZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkpIHtcbiAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxSZXN0b3JhdGlvbktleShcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXMubWFwKChtKSA9PiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtLCBzdGF0ZS5sb2FkZXJEYXRhKSlcbiAgICAgICk7XG4gICAgICByZXR1cm4ga2V5IHx8IGxvY2F0aW9uLmtleTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2F0aW9uLmtleTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNhdmVTY3JvbGxQb3NpdGlvbihcbiAgICBsb2NhdGlvbjogTG9jYXRpb24sXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdXG4gICk6IHZvaWQge1xuICAgIGlmIChzYXZlZFNjcm9sbFBvc2l0aW9ucyAmJiBnZXRTY3JvbGxQb3NpdGlvbikge1xuICAgICAgbGV0IGtleSA9IGdldFNjcm9sbEtleShsb2NhdGlvbiwgbWF0Y2hlcyk7XG4gICAgICBzYXZlZFNjcm9sbFBvc2l0aW9uc1trZXldID0gZ2V0U2Nyb2xsUG9zaXRpb24oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKFxuICAgIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW11cbiAgKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgaWYgKHNhdmVkU2Nyb2xsUG9zaXRpb25zKSB7XG4gICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsS2V5KGxvY2F0aW9uLCBtYXRjaGVzKTtcbiAgICAgIGxldCB5ID0gc2F2ZWRTY3JvbGxQb3NpdGlvbnNba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgeSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4geTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0ZvZ09mV2FyKFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSB8IG51bGwsXG4gICAgcm91dGVzVG9Vc2U6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W10sXG4gICAgcGF0aG5hbWU6IHN0cmluZ1xuICApOiB7IGFjdGl2ZTogYm9vbGVhbjsgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdIHwgbnVsbCB9IHtcbiAgICBpZiAocGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25JbXBsKSB7XG4gICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgbGV0IGZvZ01hdGNoZXMgPSBtYXRjaFJvdXRlc0ltcGw8QWdub3N0aWNEYXRhUm91dGVPYmplY3Q+KFxuICAgICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICAgIHBhdGhuYW1lLFxuICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4geyBhY3RpdmU6IHRydWUsIG1hdGNoZXM6IGZvZ01hdGNoZXMgfHwgW10gfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtYXRjaGVzWzBdLnBhcmFtcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIElmIHdlIG1hdGNoZWQgYSBkeW5hbWljIHBhcmFtIG9yIGEgc3BsYXQsIGl0IG1pZ2h0IG9ubHkgYmUgYmVjYXVzZVxuICAgICAgICAgIC8vIHdlIGhhdmVuJ3QgeWV0IGRpc2NvdmVyZWQgb3RoZXIgcm91dGVzIHRoYXQgd291bGQgbWF0Y2ggd2l0aCBhXG4gICAgICAgICAgLy8gaGlnaGVyIHNjb3JlLiAgQ2FsbCBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbiBqdXN0IHRvIGJlIHN1cmVcbiAgICAgICAgICBsZXQgcGFydGlhbE1hdGNoZXMgPSBtYXRjaFJvdXRlc0ltcGw8QWdub3N0aWNEYXRhUm91dGVPYmplY3Q+KFxuICAgICAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHsgYWN0aXZlOiB0cnVlLCBtYXRjaGVzOiBwYXJ0aWFsTWF0Y2hlcyB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgYWN0aXZlOiBmYWxzZSwgbWF0Y2hlczogbnVsbCB9O1xuICB9XG5cbiAgdHlwZSBEaXNjb3ZlclJvdXRlc1N1Y2Nlc3NSZXN1bHQgPSB7XG4gICAgdHlwZTogXCJzdWNjZXNzXCI7XG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdIHwgbnVsbDtcbiAgfTtcbiAgdHlwZSBEaXNjb3ZlclJvdXRlc0Vycm9yUmVzdWx0ID0ge1xuICAgIHR5cGU6IFwiZXJyb3JcIjtcbiAgICBlcnJvcjogYW55O1xuICAgIHBhcnRpYWxNYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW107XG4gIH07XG4gIHR5cGUgRGlzY292ZXJSb3V0ZXNBYm9ydGVkUmVzdWx0ID0geyB0eXBlOiBcImFib3J0ZWRcIiB9O1xuICB0eXBlIERpc2NvdmVyUm91dGVzUmVzdWx0ID1cbiAgICB8IERpc2NvdmVyUm91dGVzU3VjY2Vzc1Jlc3VsdFxuICAgIHwgRGlzY292ZXJSb3V0ZXNFcnJvclJlc3VsdFxuICAgIHwgRGlzY292ZXJSb3V0ZXNBYm9ydGVkUmVzdWx0O1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGRpc2NvdmVyUm91dGVzKFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBwYXRobmFtZTogc3RyaW5nLFxuICAgIHNpZ25hbDogQWJvcnRTaWduYWwsXG4gICAgZmV0Y2hlcktleT86IHN0cmluZ1xuICApOiBQcm9taXNlPERpc2NvdmVyUm91dGVzUmVzdWx0PiB7XG4gICAgaWYgKCFwYXRjaFJvdXRlc09uTmF2aWdhdGlvbkltcGwpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwic3VjY2Vzc1wiLCBtYXRjaGVzIH07XG4gICAgfVxuXG4gICAgbGV0IHBhcnRpYWxNYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10gfCBudWxsID0gbWF0Y2hlcztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGlzTm9uSE1SID0gaW5GbGlnaHREYXRhUm91dGVzID09IG51bGw7XG4gICAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICAgIGxldCBsb2NhbE1hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbkltcGwoe1xuICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICBwYXRoOiBwYXRobmFtZSxcbiAgICAgICAgICBtYXRjaGVzOiBwYXJ0aWFsTWF0Y2hlcyxcbiAgICAgICAgICBmZXRjaGVyS2V5LFxuICAgICAgICAgIHBhdGNoOiAocm91dGVJZCwgY2hpbGRyZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICAgICAgcGF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgICAgICAgIGxvY2FsTWFuaWZlc3QsXG4gICAgICAgICAgICAgIG1hcFJvdXRlUHJvcGVydGllc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogZSwgcGFydGlhbE1hdGNoZXMgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiBhbiBITVIgcmV2YWxpZGF0aW9uIGFuZCB3ZSBjaGFuZ2VkIHRoZVxuICAgICAgICAvLyByb3V0ZXMsIHByb3ZpZGUgYSBuZXcgaWRlbnRpdHkgc28gd2hlbiB3ZSBgdXBkYXRlU3RhdGVgIGF0IHRoZSBlbmQgb2ZcbiAgICAgICAgLy8gdGhpcyBuYXZpZ2F0aW9uL2ZldGNoIGByb3V0ZXIucm91dGVzYCB3aWxsIGJlIGEgbmV3IGlkZW50aXR5IGFuZFxuICAgICAgICAvLyB0cmlnZ2VyIGEgcmUtcnVuIG9mIG1lbW9pemVkIGByb3V0ZXIucm91dGVzYCBkZXBlbmRlbmNpZXMuXG4gICAgICAgIC8vIEhNUiB3aWxsIGFscmVhZHkgdXBkYXRlIHRoZSBpZGVudGl0eSBhbmQgcmVmbG93IHdoZW4gaXQgbGFuZHNcbiAgICAgICAgLy8gYGluRmxpZ2h0RGF0YVJvdXRlc2AgaW4gYGNvbXBsZXRlTmF2aWdhdGlvbmBcbiAgICAgICAgaWYgKGlzTm9uSE1SICYmICFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIGRhdGFSb3V0ZXMgPSBbLi4uZGF0YVJvdXRlc107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiYWJvcnRlZFwiIH07XG4gICAgICB9XG5cbiAgICAgIGxldCBuZXdNYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIHBhdGhuYW1lLCBiYXNlbmFtZSk7XG4gICAgICBpZiAobmV3TWF0Y2hlcykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWF0Y2hlczogbmV3TWF0Y2hlcyB9O1xuICAgICAgfVxuXG4gICAgICBsZXQgbmV3UGFydGlhbE1hdGNoZXMgPSBtYXRjaFJvdXRlc0ltcGw8QWdub3N0aWNEYXRhUm91dGVPYmplY3Q+KFxuICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuXG4gICAgICAvLyBBdm9pZCBsb29wcyBpZiB0aGUgc2Vjb25kIHBhc3MgcmVzdWx0cyBpbiB0aGUgc2FtZSBwYXJ0aWFsIG1hdGNoZXNcbiAgICAgIGlmIChcbiAgICAgICAgIW5ld1BhcnRpYWxNYXRjaGVzIHx8XG4gICAgICAgIChwYXJ0aWFsTWF0Y2hlcy5sZW5ndGggPT09IG5ld1BhcnRpYWxNYXRjaGVzLmxlbmd0aCAmJlxuICAgICAgICAgIHBhcnRpYWxNYXRjaGVzLmV2ZXJ5KFxuICAgICAgICAgICAgKG0sIGkpID0+IG0ucm91dGUuaWQgPT09IG5ld1BhcnRpYWxNYXRjaGVzIVtpXS5yb3V0ZS5pZFxuICAgICAgICAgICkpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXM6IG51bGwgfTtcbiAgICAgIH1cblxuICAgICAgcGFydGlhbE1hdGNoZXMgPSBuZXdQYXJ0aWFsTWF0Y2hlcztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfaW50ZXJuYWxTZXRSb3V0ZXMobmV3Um91dGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdKSB7XG4gICAgbWFuaWZlc3QgPSB7fTtcbiAgICBpbkZsaWdodERhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgICAgbmV3Um91dGVzLFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgbWFuaWZlc3RcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF0Y2hSb3V0ZXMoXG4gICAgcm91dGVJZDogc3RyaW5nIHwgbnVsbCxcbiAgICBjaGlsZHJlbjogQWdub3N0aWNSb3V0ZU9iamVjdFtdXG4gICk6IHZvaWQge1xuICAgIGxldCBpc05vbkhNUiA9IGluRmxpZ2h0RGF0YVJvdXRlcyA9PSBudWxsO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIHBhdGNoUm91dGVzSW1wbChcbiAgICAgIHJvdXRlSWQsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXNcbiAgICApO1xuXG4gICAgLy8gSWYgd2UgYXJlIG5vdCBpbiB0aGUgbWlkZGxlIG9mIGFuIEhNUiByZXZhbGlkYXRpb24gYW5kIHdlIGNoYW5nZWQgdGhlXG4gICAgLy8gcm91dGVzLCBwcm92aWRlIGEgbmV3IGlkZW50aXR5IGFuZCB0cmlnZ2VyIGEgcmVmbG93IHZpYSBgdXBkYXRlU3RhdGVgXG4gICAgLy8gdG8gcmUtcnVuIG1lbW9pemVkIGByb3V0ZXIucm91dGVzYCBkZXBlbmRlbmNpZXMuXG4gICAgLy8gSE1SIHdpbGwgYWxyZWFkeSB1cGRhdGUgdGhlIGlkZW50aXR5IGFuZCByZWZsb3cgd2hlbiBpdCBsYW5kc1xuICAgIC8vIGBpbkZsaWdodERhdGFSb3V0ZXNgIGluIGBjb21wbGV0ZU5hdmlnYXRpb25gXG4gICAgaWYgKGlzTm9uSE1SKSB7XG4gICAgICBkYXRhUm91dGVzID0gWy4uLmRhdGFSb3V0ZXNdO1xuICAgICAgdXBkYXRlU3RhdGUoe30pO1xuICAgIH1cbiAgfVxuXG4gIHJvdXRlciA9IHtcbiAgICBnZXQgYmFzZW5hbWUoKSB7XG4gICAgICByZXR1cm4gYmFzZW5hbWU7XG4gICAgfSxcbiAgICBnZXQgZnV0dXJlKCkge1xuICAgICAgcmV0dXJuIGZ1dHVyZTtcbiAgICB9LFxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuICAgIGdldCByb3V0ZXMoKSB7XG4gICAgICByZXR1cm4gZGF0YVJvdXRlcztcbiAgICB9LFxuICAgIGdldCB3aW5kb3coKSB7XG4gICAgICByZXR1cm4gcm91dGVyV2luZG93O1xuICAgIH0sXG4gICAgaW5pdGlhbGl6ZSxcbiAgICBzdWJzY3JpYmUsXG4gICAgZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24sXG4gICAgbmF2aWdhdGUsXG4gICAgZmV0Y2gsXG4gICAgcmV2YWxpZGF0ZSxcbiAgICAvLyBQYXNzdGhyb3VnaCB0byBoaXN0b3J5LWF3YXJlIGNyZWF0ZUhyZWYgdXNlZCBieSB1c2VIcmVmIHNvIHdlIGdldCBwcm9wZXJcbiAgICAvLyBoYXNoLWF3YXJlIFVSTHMgaW4gRE9NIHBhdGhzXG4gICAgY3JlYXRlSHJlZjogKHRvOiBUbykgPT4gaW5pdC5oaXN0b3J5LmNyZWF0ZUhyZWYodG8pLFxuICAgIGVuY29kZUxvY2F0aW9uOiAodG86IFRvKSA9PiBpbml0Lmhpc3RvcnkuZW5jb2RlTG9jYXRpb24odG8pLFxuICAgIGdldEZldGNoZXIsXG4gICAgZGVsZXRlRmV0Y2hlcjogZGVsZXRlRmV0Y2hlckFuZFVwZGF0ZVN0YXRlLFxuICAgIGRpc3Bvc2UsXG4gICAgZ2V0QmxvY2tlcixcbiAgICBkZWxldGVCbG9ja2VyLFxuICAgIHBhdGNoUm91dGVzLFxuICAgIF9pbnRlcm5hbEZldGNoQ29udHJvbGxlcnM6IGZldGNoQ29udHJvbGxlcnMsXG4gICAgX2ludGVybmFsQWN0aXZlRGVmZXJyZWRzOiBhY3RpdmVEZWZlcnJlZHMsXG4gICAgLy8gVE9ETzogUmVtb3ZlIHNldFJvdXRlcywgaXQncyB0ZW1wb3JhcnkgdG8gYXZvaWQgZGVhbGluZyB3aXRoXG4gICAgLy8gdXBkYXRpbmcgdGhlIHRyZWUgd2hpbGUgdmFsaWRhdGluZyB0aGUgdXBkYXRlIGFsZ29yaXRobS5cbiAgICBfaW50ZXJuYWxTZXRSb3V0ZXMsXG4gIH07XG5cbiAgcmV0dXJuIHJvdXRlcjtcbn1cbi8vI2VuZHJlZ2lvblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8jcmVnaW9uIGNyZWF0ZVN0YXRpY0hhbmRsZXJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjb25zdCBVTlNBRkVfREVGRVJSRURfU1lNQk9MID0gU3ltYm9sKFwiZGVmZXJyZWRcIik7XG5cbi8qKlxuICogRnV0dXJlIGZsYWdzIHRvIHRvZ2dsZSBuZXcgZmVhdHVyZSBiZWhhdmlvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpY0hhbmRsZXJGdXR1cmVDb25maWcge1xuICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogYm9vbGVhbjtcbiAgdjdfdGhyb3dBYm9ydFJlYXNvbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVTdGF0aWNIYW5kbGVyT3B0aW9ucyB7XG4gIGJhc2VuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBtYXBSb3V0ZVByb3BlcnRpZXNgIGluc3RlYWRcbiAgICovXG4gIGRldGVjdEVycm9yQm91bmRhcnk/OiBEZXRlY3RFcnJvckJvdW5kYXJ5RnVuY3Rpb247XG4gIG1hcFJvdXRlUHJvcGVydGllcz86IE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uO1xuICBmdXR1cmU/OiBQYXJ0aWFsPFN0YXRpY0hhbmRsZXJGdXR1cmVDb25maWc+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RhdGljSGFuZGxlcihcbiAgcm91dGVzOiBBZ25vc3RpY1JvdXRlT2JqZWN0W10sXG4gIG9wdHM/OiBDcmVhdGVTdGF0aWNIYW5kbGVyT3B0aW9uc1xuKTogU3RhdGljSGFuZGxlciB7XG4gIGludmFyaWFudChcbiAgICByb3V0ZXMubGVuZ3RoID4gMCxcbiAgICBcIllvdSBtdXN0IHByb3ZpZGUgYSBub24tZW1wdHkgcm91dGVzIGFycmF5IHRvIGNyZWF0ZVN0YXRpY0hhbmRsZXJcIlxuICApO1xuXG4gIGxldCBtYW5pZmVzdDogUm91dGVNYW5pZmVzdCA9IHt9O1xuICBsZXQgYmFzZW5hbWUgPSAob3B0cyA/IG9wdHMuYmFzZW5hbWUgOiBudWxsKSB8fCBcIi9cIjtcbiAgbGV0IG1hcFJvdXRlUHJvcGVydGllczogTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb247XG4gIGlmIChvcHRzPy5tYXBSb3V0ZVByb3BlcnRpZXMpIHtcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMgPSBvcHRzLm1hcFJvdXRlUHJvcGVydGllcztcbiAgfSBlbHNlIGlmIChvcHRzPy5kZXRlY3RFcnJvckJvdW5kYXJ5KSB7XG4gICAgLy8gSWYgdGhleSBhcmUgc3RpbGwgdXNpbmcgdGhlIGRlcHJlY2F0ZWQgdmVyc2lvbiwgd3JhcCBpdCB3aXRoIHRoZSBuZXcgQVBJXG4gICAgbGV0IGRldGVjdEVycm9yQm91bmRhcnkgPSBvcHRzLmRldGVjdEVycm9yQm91bmRhcnk7XG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzID0gKHJvdXRlKSA9PiAoe1xuICAgICAgaGFzRXJyb3JCb3VuZGFyeTogZGV0ZWN0RXJyb3JCb3VuZGFyeShyb3V0ZSksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzID0gZGVmYXVsdE1hcFJvdXRlUHJvcGVydGllcztcbiAgfVxuICAvLyBDb25maWcgZHJpdmVuIGJlaGF2aW9yIGZsYWdzXG4gIGxldCBmdXR1cmU6IFN0YXRpY0hhbmRsZXJGdXR1cmVDb25maWcgPSB7XG4gICAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGZhbHNlLFxuICAgIHY3X3Rocm93QWJvcnRSZWFzb246IGZhbHNlLFxuICAgIC4uLihvcHRzID8gb3B0cy5mdXR1cmUgOiBudWxsKSxcbiAgfTtcblxuICBsZXQgZGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICB1bmRlZmluZWQsXG4gICAgbWFuaWZlc3RcbiAgKTtcblxuICAvKipcbiAgICogVGhlIHF1ZXJ5KCkgbWV0aG9kIGlzIGludGVuZGVkIGZvciBkb2N1bWVudCByZXF1ZXN0cywgaW4gd2hpY2ggd2Ugd2FudCB0b1xuICAgKiBjYWxsIGFuIG9wdGlvbmFsIGFjdGlvbiBhbmQgcG90ZW50aWFsbHkgbXVsdGlwbGUgbG9hZGVycyBmb3IgYWxsIG5lc3RlZFxuICAgKiByb3V0ZXMuICBJdCByZXR1cm5zIGEgU3RhdGljSGFuZGxlckNvbnRleHQgb2JqZWN0LCB3aGljaCBpcyB2ZXJ5IHNpbWlsYXJcbiAgICogdG8gdGhlIHJvdXRlciBzdGF0ZSAobG9jYXRpb24sIGxvYWRlckRhdGEsIGFjdGlvbkRhdGEsIGVycm9ycywgZXRjLikgYW5kXG4gICAqIGFsc28gYWRkcyBTU1Itc3BlY2lmaWMgaW5mb3JtYXRpb24gc3VjaCBhcyB0aGUgc3RhdHVzQ29kZSBhbmQgaGVhZGVyc1xuICAgKiBmcm9tIGFjdGlvbi9sb2FkZXJzIFJlc3BvbnNlcy5cbiAgICpcbiAgICogSXQgX3Nob3VsZF8gbmV2ZXIgdGhyb3cgYW5kIHNob3VsZCByZXBvcnQgYWxsIGVycm9ycyB0aHJvdWdoIHRoZVxuICAgKiByZXR1cm5lZCBjb250ZXh0LmVycm9ycyBvYmplY3QsIHByb3Blcmx5IGFzc29jaWF0aW5nIGVycm9ycyB0byB0aGVpciBlcnJvclxuICAgKiBib3VuZGFyeS4gIEFkZGl0aW9uYWxseSwgaXQgdHJhY2tzIF9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkIHdoaWNoIGNhbiBiZVxuICAgKiB1c2VkIHRvIGVtdWxhdGUgUmVhY3QgZXJyb3IgYm91bmRhcmllcyBkdXJpbmcgU1NyIGJ5IHBlcmZvcm1pbmcgYSBzZWNvbmRcbiAgICogcGFzcyBvbmx5IGRvd24gdG8gdGhlIGJvdW5kYXJ5SWQuXG4gICAqXG4gICAqIFRoZSBvbmUgZXhjZXB0aW9uIHdoZXJlIHdlIGRvIG5vdCByZXR1cm4gYSBTdGF0aWNIYW5kbGVyQ29udGV4dCBpcyB3aGVuIGFcbiAgICogcmVkaXJlY3QgcmVzcG9uc2UgaXMgcmV0dXJuZWQgb3IgdGhyb3duIGZyb20gYW55IGFjdGlvbi9sb2FkZXIuICBXZVxuICAgKiBwcm9wYWdhdGUgdGhhdCBvdXQgYW5kIHJldHVybiB0aGUgcmF3IFJlc3BvbnNlIHNvIHRoZSBIVFRQIHNlcnZlciBjYW5cbiAgICogcmV0dXJuIGl0IGRpcmVjdGx5LlxuICAgKlxuICAgKiAtIGBvcHRzLnJlcXVlc3RDb250ZXh0YCBpcyBhbiBvcHRpb25hbCBzZXJ2ZXIgY29udGV4dCB0aGF0IHdpbGwgYmUgcGFzc2VkXG4gICAqICAgdG8gYWN0aW9ucy9sb2FkZXJzIGluIHRoZSBgY29udGV4dGAgcGFyYW1ldGVyXG4gICAqIC0gYG9wdHMuc2tpcExvYWRlckVycm9yQnViYmxpbmdgIGlzIGFuIG9wdGlvbmFsIHBhcmFtZXRlciB0aGF0IHdpbGwgcHJldmVudFxuICAgKiAgIHRoZSBidWJibGluZyBvZiBlcnJvcnMgd2hpY2ggYWxsb3dzIHNpbmdsZS1mZXRjaC10eXBlIGltcGxlbWVudGF0aW9uc1xuICAgKiAgIHdoZXJlIHRoZSBjbGllbnQgd2lsbCBoYW5kbGUgdGhlIGJ1YmJsaW5nIGFuZCB3ZSBtYXkgbmVlZCB0byByZXR1cm4gZGF0YVxuICAgKiAgIGZvciB0aGUgaGFuZGxpbmcgcm91dGVcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAge1xuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgIGRhdGFTdHJhdGVneSxcbiAgICB9OiB7XG4gICAgICByZXF1ZXN0Q29udGV4dD86IHVua25vd247XG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZz86IGJvb2xlYW47XG4gICAgICBkYXRhU3RyYXRlZ3k/OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbjtcbiAgICB9ID0ge31cbiAgKTogUHJvbWlzZTxTdGF0aWNIYW5kbGVyQ29udGV4dCB8IFJlc3BvbnNlPiB7XG4gICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGxldCBtZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihcIlwiLCBjcmVhdGVQYXRoKHVybCksIG51bGwsIFwiZGVmYXVsdFwiKTtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGxvY2F0aW9uLCBiYXNlbmFtZSk7XG5cbiAgICAvLyBTU1Igc3VwcG9ydHMgSEVBRCByZXF1ZXN0cyB3aGlsZSBTUEEgZG9lc24ndFxuICAgIGlmICghaXNWYWxpZE1ldGhvZChtZXRob2QpICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIpIHtcbiAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7IG1ldGhvZCB9KTtcbiAgICAgIGxldCB7IG1hdGNoZXM6IG1ldGhvZE5vdEFsbG93ZWRNYXRjaGVzLCByb3V0ZSB9ID1cbiAgICAgICAgZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlczogbWV0aG9kTm90QWxsb3dlZE1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvcixcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzQ29kZTogZXJyb3Iuc3RhdHVzLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge30sXG4gICAgICAgIGFjdGl2ZURlZmVycmVkczogbnVsbCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICghbWF0Y2hlcykge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgICAgbGV0IHsgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID1cbiAgICAgICAgZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3IsXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9LFxuICAgICAgICBhY3RpdmVEZWZlcnJlZHM6IG51bGwsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID09PSB0cnVlLFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHJldHVybmluZyBTdGF0aWNIYW5kbGVyQ29udGV4dCwgd2UgcGF0Y2ggYmFjayBpbiB0aGUgbG9jYXRpb24gaGVyZVxuICAgIC8vIHNpbmNlIHdlIG5lZWQgaXQgZm9yIFJlYWN0IENvbnRleHQuICBCdXQgdGhpcyBoZWxwcyBrZWVwIG91ciBzdWJtaXQgYW5kXG4gICAgLy8gbG9hZFJvdXRlRGF0YSBvcGVyYXRpbmcgb24gYSBSZXF1ZXN0IGluc3RlYWQgb2YgYSBMb2NhdGlvblxuICAgIHJldHVybiB7IGxvY2F0aW9uLCBiYXNlbmFtZSwgLi4ucmVzdWx0IH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIHF1ZXJ5Um91dGUoKSBtZXRob2QgaXMgaW50ZW5kZWQgZm9yIHRhcmdldGVkIHJvdXRlIHJlcXVlc3RzLCBlaXRoZXJcbiAgICogZm9yIGZldGNoID9fZGF0YSByZXF1ZXN0cyBvciByZXNvdXJjZSByb3V0ZSByZXF1ZXN0cy4gIEluIHRoaXMgY2FzZSwgd2VcbiAgICogYXJlIG9ubHkgZXZlciBjYWxsaW5nIGEgc2luZ2xlIGFjdGlvbiBvciBsb2FkZXIsIGFuZCB3ZSBhcmUgcmV0dXJuaW5nIHRoZVxuICAgKiByZXR1cm5lZCB2YWx1ZSBkaXJlY3RseS4gIEluIG1vc3QgY2FzZXMsIHRoaXMgd2lsbCBiZSBhIFJlc3BvbnNlIHJldHVybmVkXG4gICAqIGZyb20gdGhlIGFjdGlvbi9sb2FkZXIsIGJ1dCBpdCBtYXkgYmUgYSBwcmltaXRpdmUgb3Igb3RoZXIgdmFsdWUgYXMgd2VsbCAtXG4gICAqIGFuZCBpbiBzdWNoIGNhc2VzIHRoZSBjYWxsaW5nIGNvbnRleHQgc2hvdWxkIGhhbmRsZSB0aGF0IGFjY29yZGluZ2x5LlxuICAgKlxuICAgKiBXZSBkbyByZXNwZWN0IHRoZSB0aHJvdy9yZXR1cm4gZGlmZmVyZW50aWF0aW9uLCBzbyBpZiBhbiBhY3Rpb24vbG9hZGVyXG4gICAqIHRocm93cywgdGhlbiB0aGlzIG1ldGhvZCB3aWxsIHRocm93IHRoZSB2YWx1ZS4gIFRoaXMgaXMgaW1wb3J0YW50IHNvIHdlXG4gICAqIGNhbiBkbyBwcm9wZXIgYm91bmRhcnkgaWRlbnRpZmljYXRpb24gaW4gUmVtaXggd2hlcmUgYSB0aHJvd24gUmVzcG9uc2VcbiAgICogbXVzdCBnbyB0byB0aGUgQ2F0Y2ggQm91bmRhcnkgYnV0IGEgcmV0dXJuZWQgUmVzcG9uc2UgaXMgaGFwcHktcGF0aC5cbiAgICpcbiAgICogT25lIHRoaW5nIHRvIG5vdGUgaXMgdGhhdCBhbnkgUm91dGVyLWluaXRpYXRlZCBFcnJvcnMgdGhhdCBtYWtlIHNlbnNlXG4gICAqIHRvIGFzc29jaWF0ZSB3aXRoIGEgc3RhdHVzIGNvZGUgd2lsbCBiZSB0aHJvd24gYXMgYW4gRXJyb3JSZXNwb25zZVxuICAgKiBpbnN0YW5jZSB3aGljaCBpbmNsdWRlIHRoZSByYXcgRXJyb3IsIHN1Y2ggdGhhdCB0aGUgY2FsbGluZyBjb250ZXh0IGNhblxuICAgKiBzZXJpYWxpemUgdGhlIGVycm9yIGFzIHRoZXkgc2VlIGZpdCB3aGlsZSBpbmNsdWRpbmcgdGhlIHByb3BlciByZXNwb25zZVxuICAgKiBjb2RlLiAgRXhhbXBsZXMgaGVyZSBhcmUgNDA0IGFuZCA0MDUgZXJyb3JzIHRoYXQgb2NjdXIgcHJpb3IgdG8gcmVhY2hpbmdcbiAgICogYW55IHVzZXItZGVmaW5lZCBsb2FkZXJzLlxuICAgKlxuICAgKiAtIGBvcHRzLnJvdXRlSWRgIGFsbG93cyB5b3UgdG8gc3BlY2lmeSB0aGUgc3BlY2lmaWMgcm91dGUgaGFuZGxlciB0byBjYWxsLlxuICAgKiAgIElmIG5vdCBwcm92aWRlZCB0aGUgaGFuZGxlciB3aWxsIGRldGVybWluZSB0aGUgcHJvcGVyIHJvdXRlIGJ5IG1hdGNoaW5nXG4gICAqICAgYWdhaW5zdCBgcmVxdWVzdC51cmxgXG4gICAqIC0gYG9wdHMucmVxdWVzdENvbnRleHRgIGlzIGFuIG9wdGlvbmFsIHNlcnZlciBjb250ZXh0IHRoYXQgd2lsbCBiZSBwYXNzZWRcbiAgICogICAgdG8gYWN0aW9ucy9sb2FkZXJzIGluIHRoZSBgY29udGV4dGAgcGFyYW1ldGVyXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBxdWVyeVJvdXRlKFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAge1xuICAgICAgcm91dGVJZCxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgIH06IHtcbiAgICAgIHJlcXVlc3RDb250ZXh0PzogdW5rbm93bjtcbiAgICAgIHJvdXRlSWQ/OiBzdHJpbmc7XG4gICAgICBkYXRhU3RyYXRlZ3k/OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbjtcbiAgICB9ID0ge31cbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgbGV0IG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFwiXCIsIGNyZWF0ZVBhdGgodXJsKSwgbnVsbCwgXCJkZWZhdWx0XCIpO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgbG9jYXRpb24sIGJhc2VuYW1lKTtcblxuICAgIC8vIFNTUiBzdXBwb3J0cyBIRUFEIHJlcXVlc3RzIHdoaWxlIFNQQSBkb2Vzbid0XG4gICAgaWYgKCFpc1ZhbGlkTWV0aG9kKG1ldGhvZCkgJiYgbWV0aG9kICE9PSBcIkhFQURcIiAmJiBtZXRob2QgIT09IFwiT1BUSU9OU1wiKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2QgfSk7XG4gICAgfSBlbHNlIGlmICghbWF0Y2hlcykge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgIH1cblxuICAgIGxldCBtYXRjaCA9IHJvdXRlSWRcbiAgICAgID8gbWF0Y2hlcy5maW5kKChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKVxuICAgICAgOiBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbik7XG5cbiAgICBpZiAocm91dGVJZCAmJiAhbWF0Y2gpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAzLCB7XG4gICAgICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcm91dGVJZCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoKSB7XG4gICAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBoaXQgSSBkb24ndCB0aGluaz9cbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSB9KTtcbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICBmYWxzZSxcbiAgICAgIG1hdGNoXG4gICAgKTtcblxuICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgbGV0IGVycm9yID0gcmVzdWx0LmVycm9ycyA/IE9iamVjdC52YWx1ZXMocmVzdWx0LmVycm9ycylbMF0gOiB1bmRlZmluZWQ7XG4gICAgaWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIElmIHdlIGdvdCBiYWNrIHJlc3VsdC5lcnJvcnMsIHRoYXQgbWVhbnMgdGhlIGxvYWRlci9hY3Rpb24gdGhyZXdcbiAgICAgIC8vIF9zb21ldGhpbmdfIHRoYXQgd2Fzbid0IGEgUmVzcG9uc2UsIGJ1dCBpdCdzIG5vdCBndWFyYW50ZWVkL3JlcXVpcmVkXG4gICAgICAvLyB0byBiZSBhbiBgaW5zdGFuY2VvZiBFcnJvcmAgZWl0aGVyLCBzbyB3ZSBoYXZlIHRvIHVzZSB0aHJvdyBoZXJlIHRvXG4gICAgICAvLyBwcmVzZXJ2ZSB0aGUgXCJlcnJvclwiIHN0YXRlIG91dHNpZGUgb2YgcXVlcnlJbXBsLlxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgLy8gUGljayBvZmYgdGhlIHJpZ2h0IHN0YXRlIHZhbHVlIHRvIHJldHVyblxuICAgIGlmIChyZXN1bHQuYWN0aW9uRGF0YSkge1xuICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0LmFjdGlvbkRhdGEpWzBdO1xuICAgIH1cblxuICAgIGlmIChyZXN1bHQubG9hZGVyRGF0YSkge1xuICAgICAgbGV0IGRhdGEgPSBPYmplY3QudmFsdWVzKHJlc3VsdC5sb2FkZXJEYXRhKVswXTtcbiAgICAgIGlmIChyZXN1bHQuYWN0aXZlRGVmZXJyZWRzPy5bbWF0Y2gucm91dGUuaWRdKSB7XG4gICAgICAgIGRhdGFbVU5TQUZFX0RFRkVSUkVEX1NZTUJPTF0gPSByZXN1bHQuYWN0aXZlRGVmZXJyZWRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBxdWVyeUltcGwoXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICBsb2NhdGlvbjogTG9jYXRpb24sXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIHJlcXVlc3RDb250ZXh0OiB1bmtub3duLFxuICAgIGRhdGFTdHJhdGVneTogRGF0YVN0cmF0ZWd5RnVuY3Rpb24gfCBudWxsLFxuICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nOiBib29sZWFuLFxuICAgIHJvdXRlTWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2ggfCBudWxsXG4gICk6IFByb21pc2U8T21pdDxTdGF0aWNIYW5kbGVyQ29udGV4dCwgXCJsb2NhdGlvblwiIHwgXCJiYXNlbmFtZVwiPiB8IFJlc3BvbnNlPiB7XG4gICAgaW52YXJpYW50KFxuICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICBcInF1ZXJ5KCkvcXVlcnlSb3V0ZSgpIHJlcXVlc3RzIG11c3QgY29udGFpbiBhbiBBYm9ydENvbnRyb2xsZXIgc2lnbmFsXCJcbiAgICApO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc011dGF0aW9uTWV0aG9kKHJlcXVlc3QubWV0aG9kLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBzdWJtaXQoXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIHJvdXRlTWF0Y2ggfHwgZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pLFxuICAgICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgICAgICByb3V0ZU1hdGNoICE9IG51bGxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGxvYWRSb3V0ZURhdGEoXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICByb3V0ZU1hdGNoXG4gICAgICApO1xuICAgICAgcmV0dXJuIGlzUmVzcG9uc2UocmVzdWx0KVxuICAgICAgICA/IHJlc3VsdFxuICAgICAgICA6IHtcbiAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fSxcbiAgICAgICAgICB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHRocmV3L3JldHVybmVkIGEgUmVzcG9uc2UgaW4gY2FsbExvYWRlck9yQWN0aW9uIGZvciBhXG4gICAgICAvLyBgcXVlcnlSb3V0ZWAgY2FsbCwgd2UgdGhyb3cgdGhlIGBEYXRhU3RyYXRlZ3lSZXN1bHRgIHRvIGJhaWwgb3V0IGVhcmx5XG4gICAgICAvLyBhbmQgdGhlbiByZXR1cm4gb3IgdGhyb3cgdGhlIHJhdyBSZXNwb25zZSBoZXJlIGFjY29yZGluZ2x5XG4gICAgICBpZiAoaXNEYXRhU3RyYXRlZ3lSZXN1bHQoZSkgJiYgaXNSZXNwb25zZShlLnJlc3VsdCkpIHtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gUmVzdWx0VHlwZS5lcnJvcikge1xuICAgICAgICAgIHRocm93IGUucmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlLnJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIFJlZGlyZWN0cyBhcmUgYWx3YXlzIHJldHVybmVkIHNpbmNlIHRoZXkgZG9uJ3QgcHJvcGFnYXRlIHRvIGNhdGNoXG4gICAgICAvLyBib3VuZGFyaWVzXG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKGUpKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzdWJtaXQoXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgYWN0aW9uTWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gsXG4gICAgcmVxdWVzdENvbnRleHQ6IHVua25vd24sXG4gICAgZGF0YVN0cmF0ZWd5OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbiB8IG51bGwsXG4gICAgc2tpcExvYWRlckVycm9yQnViYmxpbmc6IGJvb2xlYW4sXG4gICAgaXNSb3V0ZVJlcXVlc3Q6IGJvb2xlYW5cbiAgKTogUHJvbWlzZTxPbWl0PFN0YXRpY0hhbmRsZXJDb250ZXh0LCBcImxvY2F0aW9uXCIgfCBcImJhc2VuYW1lXCI+IHwgUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzdWx0OiBEYXRhUmVzdWx0O1xuXG4gICAgaWYgKCFhY3Rpb25NYXRjaC5yb3V0ZS5hY3Rpb24gJiYgIWFjdGlvbk1hdGNoLnJvdXRlLmxhenkpIHtcbiAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgIHBhdGhuYW1lOiBuZXcgVVJMKHJlcXVlc3QudXJsKS5wYXRobmFtZSxcbiAgICAgICAgcm91dGVJZDogYWN0aW9uTWF0Y2gucm91dGUuaWQsXG4gICAgICB9KTtcbiAgICAgIGlmIChpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgZXJyb3IsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICAgIFwiYWN0aW9uXCIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIFthY3Rpb25NYXRjaF0sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGlzUm91dGVSZXF1ZXN0LFxuICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgZGF0YVN0cmF0ZWd5XG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0c1thY3Rpb25NYXRjaC5yb3V0ZS5pZF07XG5cbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihyZXF1ZXN0LCBpc1JvdXRlUmVxdWVzdCwgZnV0dXJlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAvLyBVaGhoaCAtIHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbiwgd2Ugc2hvdWxkIGFsd2F5cyB0aHJvdyB0aGVzZSBmcm9tXG4gICAgICAvLyBjYWxsTG9hZGVyT3JBY3Rpb24sIGJ1dCB0aGUgdHlwZSBuYXJyb3dpbmcgaGVyZSBrZWVwcyBUUyBoYXBweSBhbmQgd2VcbiAgICAgIC8vIGNhbiBnZXQgYmFjayBvbiB0aGUgXCJ0aHJvdyBhbGwgcmVkaXJlY3QgcmVzcG9uc2VzXCIgdHJhaW4gaGVyZSBzaG91bGRcbiAgICAgIC8vIHRoaXMgZXZlciBoYXBwZW4gOi9cbiAgICAgIHRocm93IG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgIHN0YXR1czogcmVzdWx0LnJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIExvY2F0aW9uOiByZXN1bHQucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKSEsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZlcnJlZFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwgeyB0eXBlOiBcImRlZmVyLWFjdGlvblwiIH0pO1xuICAgICAgaWYgKGlzUm91dGVSZXF1ZXN0KSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICBlcnJvcixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGlzUm91dGVSZXF1ZXN0KSB7XG4gICAgICAvLyBOb3RlOiBUaGlzIHNob3VsZCBvbmx5IGJlIG5vbi1SZXNwb25zZSB2YWx1ZXMgaWYgd2UgZ2V0IGhlcmUsIHNpbmNlXG4gICAgICAvLyBpc1JvdXRlUmVxdWVzdCBzaG91bGQgdGhyb3cgYW55IFJlc3BvbnNlIHJlY2VpdmVkIGluIGNhbGxMb2FkZXJPckFjdGlvblxuICAgICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hdGNoZXM6IFthY3Rpb25NYXRjaF0sXG4gICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICBhY3Rpb25EYXRhOiB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5kYXRhIH0sXG4gICAgICAgIGVycm9yczogbnVsbCxcbiAgICAgICAgLy8gTm90ZTogc3RhdHVzQ29kZSArIGhlYWRlcnMgYXJlIHVudXNlZCBoZXJlIHNpbmNlIHF1ZXJ5Um91dGUgd2lsbFxuICAgICAgICAvLyByZXR1cm4gdGhlIHJhdyBSZXNwb25zZSBvciB2YWx1ZVxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aXZlRGVmZXJyZWRzOiBudWxsLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBHRVQgcmVxdWVzdCBmb3IgdGhlIGxvYWRlcnNcbiAgICBsZXQgbG9hZGVyUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHJlcXVlc3QudXJsLCB7XG4gICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICByZWRpcmVjdDogcmVxdWVzdC5yZWRpcmVjdCxcbiAgICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWwsXG4gICAgfSk7XG5cbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAvLyBTdG9yZSBvZmYgdGhlIHBlbmRpbmcgZXJyb3IgLSB3ZSB1c2UgaXQgdG8gZGV0ZXJtaW5lIHdoaWNoIGxvYWRlcnNcbiAgICAgIC8vIHRvIGNhbGwgYW5kIHdpbGwgY29tbWl0IGl0IHdoZW4gd2UgY29tcGxldGUgdGhlIG5hdmlnYXRpb25cbiAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gc2tpcExvYWRlckVycm9yQnViYmxpbmdcbiAgICAgICAgPyBhY3Rpb25NYXRjaFxuICAgICAgICA6IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgYWN0aW9uTWF0Y2gucm91dGUuaWQpO1xuXG4gICAgICBsZXQgY29udGV4dCA9IGF3YWl0IGxvYWRSb3V0ZURhdGEoXG4gICAgICAgIGxvYWRlclJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICBudWxsLFxuICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZCwgcmVzdWx0XVxuICAgICAgKTtcblxuICAgICAgLy8gYWN0aW9uIHN0YXR1cyBjb2RlcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBsb2FkZXIgc3RhdHVzIGNvZGVzXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jb250ZXh0LFxuICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpXG4gICAgICAgICAgPyByZXN1bHQuZXJyb3Iuc3RhdHVzXG4gICAgICAgICAgOiByZXN1bHQuc3RhdHVzQ29kZSAhPSBudWxsXG4gICAgICAgICAgPyByZXN1bHQuc3RhdHVzQ29kZVxuICAgICAgICAgIDogNTAwLFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7XG4gICAgICAgICAgLi4uKHJlc3VsdC5oZWFkZXJzID8geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuaGVhZGVycyB9IDoge30pLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgY29udGV4dCA9IGF3YWl0IGxvYWRSb3V0ZURhdGEoXG4gICAgICBsb2FkZXJSZXF1ZXN0LFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICBudWxsXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5jb250ZXh0LFxuICAgICAgYWN0aW9uRGF0YToge1xuICAgICAgICBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZGF0YSxcbiAgICAgIH0sXG4gICAgICAvLyBhY3Rpb24gc3RhdHVzIGNvZGVzIHRha2UgcHJlY2VkZW5jZSBvdmVyIGxvYWRlciBzdGF0dXMgY29kZXNcbiAgICAgIC4uLihyZXN1bHQuc3RhdHVzQ29kZSA/IHsgc3RhdHVzQ29kZTogcmVzdWx0LnN0YXR1c0NvZGUgfSA6IHt9KSxcbiAgICAgIGFjdGlvbkhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzXG4gICAgICAgID8geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuaGVhZGVycyB9XG4gICAgICAgIDoge30sXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRSb3V0ZURhdGEoXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgcmVxdWVzdENvbnRleHQ6IHVua25vd24sXG4gICAgZGF0YVN0cmF0ZWd5OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbiB8IG51bGwsXG4gICAgc2tpcExvYWRlckVycm9yQnViYmxpbmc6IGJvb2xlYW4sXG4gICAgcm91dGVNYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCB8IG51bGwsXG4gICAgcGVuZGluZ0FjdGlvblJlc3VsdD86IFBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgKTogUHJvbWlzZTxcbiAgICB8IE9taXQ8XG4gICAgICAgIFN0YXRpY0hhbmRsZXJDb250ZXh0LFxuICAgICAgICBcImxvY2F0aW9uXCIgfCBcImJhc2VuYW1lXCIgfCBcImFjdGlvbkRhdGFcIiB8IFwiYWN0aW9uSGVhZGVyc1wiXG4gICAgICA+XG4gICAgfCBSZXNwb25zZVxuICA+IHtcbiAgICBsZXQgaXNSb3V0ZVJlcXVlc3QgPSByb3V0ZU1hdGNoICE9IG51bGw7XG5cbiAgICAvLyBTaG9ydCBjaXJjdWl0IGlmIHdlIGhhdmUgbm8gbG9hZGVycyB0byBydW4gKHF1ZXJ5Um91dGUoKSlcbiAgICBpZiAoXG4gICAgICBpc1JvdXRlUmVxdWVzdCAmJlxuICAgICAgIXJvdXRlTWF0Y2g/LnJvdXRlLmxvYWRlciAmJlxuICAgICAgIXJvdXRlTWF0Y2g/LnJvdXRlLmxhenlcbiAgICApIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAwLCB7XG4gICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgIHBhdGhuYW1lOiBuZXcgVVJMKHJlcXVlc3QudXJsKS5wYXRobmFtZSxcbiAgICAgICAgcm91dGVJZDogcm91dGVNYXRjaD8ucm91dGUuaWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdE1hdGNoZXMgPSByb3V0ZU1hdGNoXG4gICAgICA/IFtyb3V0ZU1hdGNoXVxuICAgICAgOiBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSlcbiAgICAgID8gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkobWF0Y2hlcywgcGVuZGluZ0FjdGlvblJlc3VsdFswXSlcbiAgICAgIDogbWF0Y2hlcztcbiAgICBsZXQgbWF0Y2hlc1RvTG9hZCA9IHJlcXVlc3RNYXRjaGVzLmZpbHRlcihcbiAgICAgIChtKSA9PiBtLnJvdXRlLmxvYWRlciB8fCBtLnJvdXRlLmxhenlcbiAgICApO1xuXG4gICAgLy8gU2hvcnQgY2lyY3VpdCBpZiB3ZSBoYXZlIG5vIGxvYWRlcnMgdG8gcnVuIChxdWVyeSgpKVxuICAgIGlmIChtYXRjaGVzVG9Mb2FkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgLy8gQWRkIGEgbnVsbCBmb3IgYWxsIG1hdGNoZWQgcm91dGVzIGZvciBwcm9wZXIgcmV2YWxpZGF0aW9uIG9uIHRoZSBjbGllbnRcbiAgICAgICAgbG9hZGVyRGF0YTogbWF0Y2hlcy5yZWR1Y2UoXG4gICAgICAgICAgKGFjYywgbSkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW20ucm91dGUuaWRdOiBudWxsIH0pLFxuICAgICAgICAgIHt9XG4gICAgICAgICksXG4gICAgICAgIGVycm9yczpcbiAgICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSlcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvcixcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3RpdmVEZWZlcnJlZHM6IG51bGwsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwibG9hZGVyXCIsXG4gICAgICByZXF1ZXN0LFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBpc1JvdXRlUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5XG4gICAgKTtcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICB0aHJvd1N0YXRpY0hhbmRsZXJBYm9ydGVkRXJyb3IocmVxdWVzdCwgaXNSb3V0ZVJlcXVlc3QsIGZ1dHVyZSk7XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyBhbmQgY29tbWl0IG91dHB1dCBmcm9tIGxvYWRlcnNcbiAgICBsZXQgYWN0aXZlRGVmZXJyZWRzID0gbmV3IE1hcDxzdHJpbmcsIERlZmVycmVkRGF0YT4oKTtcbiAgICBsZXQgY29udGV4dCA9IHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEoXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVzdWx0cyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQsXG4gICAgICBhY3RpdmVEZWZlcnJlZHMsXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZ1xuICAgICk7XG5cbiAgICAvLyBBZGQgYSBudWxsIGZvciBhbnkgbm9uLWxvYWRlciBtYXRjaGVzIGZvciBwcm9wZXIgcmV2YWxpZGF0aW9uIG9uIHRoZSBjbGllbnRcbiAgICBsZXQgZXhlY3V0ZWRMb2FkZXJzID0gbmV3IFNldDxzdHJpbmc+KFxuICAgICAgbWF0Y2hlc1RvTG9hZC5tYXAoKG1hdGNoKSA9PiBtYXRjaC5yb3V0ZS5pZClcbiAgICApO1xuICAgIG1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICAgIGlmICghZXhlY3V0ZWRMb2FkZXJzLmhhcyhtYXRjaC5yb3V0ZS5pZCkpIHtcbiAgICAgICAgY29udGV4dC5sb2FkZXJEYXRhW21hdGNoLnJvdXRlLmlkXSA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uY29udGV4dCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBhY3RpdmVEZWZlcnJlZHM6XG4gICAgICAgIGFjdGl2ZURlZmVycmVkcy5zaXplID4gMFxuICAgICAgICAgID8gT2JqZWN0LmZyb21FbnRyaWVzKGFjdGl2ZURlZmVycmVkcy5lbnRyaWVzKCkpXG4gICAgICAgICAgOiBudWxsLFxuICAgIH07XG4gIH1cblxuICAvLyBVdGlsaXR5IHdyYXBwZXIgZm9yIGNhbGxpbmcgZGF0YVN0cmF0ZWd5IHNlcnZlci1zaWRlIHdpdGhvdXQgaGF2aW5nIHRvXG4gIC8vIHBhc3MgYXJvdW5kIHRoZSBtYW5pZmVzdCwgbWFwUm91dGVQcm9wZXJ0aWVzLCBldGMuXG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgdHlwZTogXCJsb2FkZXJcIiB8IFwiYWN0aW9uXCIsXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICBtYXRjaGVzVG9Mb2FkOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIGlzUm91dGVSZXF1ZXN0OiBib29sZWFuLFxuICAgIHJlcXVlc3RDb250ZXh0OiB1bmtub3duLFxuICAgIGRhdGFTdHJhdGVneTogRGF0YVN0cmF0ZWd5RnVuY3Rpb24gfCBudWxsXG4gICk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD4+IHtcbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3lJbXBsKFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IGRlZmF1bHREYXRhU3RyYXRlZ3ksXG4gICAgICB0eXBlLFxuICAgICAgbnVsbCxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG51bGwsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0XG4gICAgKTtcblxuICAgIGxldCBkYXRhUmVzdWx0czogUmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD4gPSB7fTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIG1hdGNoZXMubWFwKGFzeW5jIChtYXRjaCkgPT4ge1xuICAgICAgICBpZiAoIShtYXRjaC5yb3V0ZS5pZCBpbiByZXN1bHRzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICAgIGlmIChpc1JlZGlyZWN0RGF0YVN0cmF0ZWd5UmVzdWx0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgICBsZXQgcmVzcG9uc2UgPSByZXN1bHQucmVzdWx0IGFzIFJlc3BvbnNlO1xuICAgICAgICAgIC8vIFRocm93IHJlZGlyZWN0cyBhbmQgbGV0IHRoZSBzZXJ2ZXIgaGFuZGxlIHRoZW0gd2l0aCBhbiBIVFRQIHJlZGlyZWN0XG4gICAgICAgICAgdGhyb3cgbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIG1hdGNoLnJvdXRlLmlkLFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgICAgZnV0dXJlLnY3X3JlbGF0aXZlU3BsYXRQYXRoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQucmVzdWx0KSAmJiBpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgICAgIC8vIEZvciBTU1Igc2luZ2xlLXJvdXRlIHJlcXVlc3RzLCB3ZSB3YW50IHRvIGhhbmQgUmVzcG9uc2VzIGJhY2tcbiAgICAgICAgICAvLyBkaXJlY3RseSB3aXRob3V0IHVud3JhcHBpbmdcbiAgICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhUmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF0gPVxuICAgICAgICAgIGF3YWl0IGNvbnZlcnREYXRhU3RyYXRlZ3lSZXN1bHRUb0RhdGFSZXN1bHQocmVzdWx0KTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm4gZGF0YVJlc3VsdHM7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRhdGFSb3V0ZXMsXG4gICAgcXVlcnksXG4gICAgcXVlcnlSb3V0ZSxcbiAgfTtcbn1cblxuLy8jZW5kcmVnaW9uXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyNyZWdpb24gSGVscGVyc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBHaXZlbiBhbiBleGlzdGluZyBTdGF0aWNIYW5kbGVyQ29udGV4dCBhbmQgYW4gZXJyb3IgdGhyb3duIGF0IHJlbmRlciB0aW1lLFxuICogcHJvdmlkZSBhbiB1cGRhdGVkIFN0YXRpY0hhbmRsZXJDb250ZXh0IHN1aXRhYmxlIGZvciBhIHNlY29uZCBTU1IgcmVuZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0aWNDb250ZXh0RnJvbUVycm9yKFxuICByb3V0ZXM6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W10sXG4gIGNvbnRleHQ6IFN0YXRpY0hhbmRsZXJDb250ZXh0LFxuICBlcnJvcjogYW55XG4pIHtcbiAgbGV0IG5ld0NvbnRleHQ6IFN0YXRpY0hhbmRsZXJDb250ZXh0ID0ge1xuICAgIC4uLmNvbnRleHQsXG4gICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpID8gZXJyb3Iuc3RhdHVzIDogNTAwLFxuICAgIGVycm9yczoge1xuICAgICAgW2NvbnRleHQuX2RlZXBlc3RSZW5kZXJlZEJvdW5kYXJ5SWQgfHwgcm91dGVzWzBdLmlkXTogZXJyb3IsXG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIG5ld0NvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihcbiAgcmVxdWVzdDogUmVxdWVzdCxcbiAgaXNSb3V0ZVJlcXVlc3Q6IGJvb2xlYW4sXG4gIGZ1dHVyZTogU3RhdGljSGFuZGxlckZ1dHVyZUNvbmZpZ1xuKSB7XG4gIGlmIChmdXR1cmUudjdfdGhyb3dBYm9ydFJlYXNvbiAmJiByZXF1ZXN0LnNpZ25hbC5yZWFzb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IHJlcXVlc3Quc2lnbmFsLnJlYXNvbjtcbiAgfVxuXG4gIGxldCBtZXRob2QgPSBpc1JvdXRlUmVxdWVzdCA/IFwicXVlcnlSb3V0ZVwiIDogXCJxdWVyeVwiO1xuICB0aHJvdyBuZXcgRXJyb3IoYCR7bWV0aG9kfSgpIGNhbGwgYWJvcnRlZDogJHtyZXF1ZXN0Lm1ldGhvZH0gJHtyZXF1ZXN0LnVybH1gKTtcbn1cblxuZnVuY3Rpb24gaXNTdWJtaXNzaW9uTmF2aWdhdGlvbihcbiAgb3B0czogQmFzZU5hdmlnYXRlT3JGZXRjaE9wdGlvbnNcbik6IG9wdHMgaXMgU3VibWlzc2lvbk5hdmlnYXRlT3B0aW9ucyB7XG4gIHJldHVybiAoXG4gICAgb3B0cyAhPSBudWxsICYmXG4gICAgKChcImZvcm1EYXRhXCIgaW4gb3B0cyAmJiBvcHRzLmZvcm1EYXRhICE9IG51bGwpIHx8XG4gICAgICAoXCJib2R5XCIgaW4gb3B0cyAmJiBvcHRzLmJvZHkgIT09IHVuZGVmaW5lZCkpXG4gICk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVRvKFxuICBsb2NhdGlvbjogUGF0aCxcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICBiYXNlbmFtZTogc3RyaW5nLFxuICBwcmVwZW5kQmFzZW5hbWU6IGJvb2xlYW4sXG4gIHRvOiBUbyB8IG51bGwsXG4gIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBib29sZWFuLFxuICBmcm9tUm91dGVJZD86IHN0cmluZyxcbiAgcmVsYXRpdmU/OiBSZWxhdGl2ZVJvdXRpbmdUeXBlXG4pIHtcbiAgbGV0IGNvbnRleHR1YWxNYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW107XG4gIGxldCBhY3RpdmVSb3V0ZU1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoIHwgdW5kZWZpbmVkO1xuICBpZiAoZnJvbVJvdXRlSWQpIHtcbiAgICAvLyBHcmFiIG1hdGNoZXMgdXAgdG8gdGhlIGNhbGxpbmcgcm91dGUgc28gb3VyIHJvdXRlLXJlbGF0aXZlIGxvZ2ljIGlzXG4gICAgLy8gcmVsYXRpdmUgdG8gdGhlIGNvcnJlY3Qgc291cmNlIHJvdXRlXG4gICAgY29udGV4dHVhbE1hdGNoZXMgPSBbXTtcbiAgICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICBjb250ZXh0dWFsTWF0Y2hlcy5wdXNoKG1hdGNoKTtcbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5pZCA9PT0gZnJvbVJvdXRlSWQpIHtcbiAgICAgICAgYWN0aXZlUm91dGVNYXRjaCA9IG1hdGNoO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29udGV4dHVhbE1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGFjdGl2ZVJvdXRlTWF0Y2ggPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIH1cblxuICAvLyBSZXNvbHZlIHRoZSByZWxhdGl2ZSBwYXRoXG4gIGxldCBwYXRoID0gcmVzb2x2ZVRvKFxuICAgIHRvID8gdG8gOiBcIi5cIixcbiAgICBnZXRSZXNvbHZlVG9NYXRjaGVzKGNvbnRleHR1YWxNYXRjaGVzLCB2N19yZWxhdGl2ZVNwbGF0UGF0aCksXG4gICAgc3RyaXBCYXNlbmFtZShsb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgIHJlbGF0aXZlID09PSBcInBhdGhcIlxuICApO1xuXG4gIC8vIFdoZW4gYHRvYCBpcyBub3Qgc3BlY2lmaWVkIHdlIGluaGVyaXQgc2VhcmNoL2hhc2ggZnJvbSB0aGUgY3VycmVudFxuICAvLyBsb2NhdGlvbiwgdW5saWtlIHdoZW4gdG89XCIuXCIgYW5kIHdlIGp1c3QgaW5oZXJpdCB0aGUgcGF0aC5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vcmVtaXgvaXNzdWVzLzkyN1xuICBpZiAodG8gPT0gbnVsbCkge1xuICAgIHBhdGguc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHBhdGguaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gIH1cblxuICAvLyBBY2NvdW50IGZvciBgP2luZGV4YCBwYXJhbXMgd2hlbiByb3V0aW5nIHRvIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gIGlmICgodG8gPT0gbnVsbCB8fCB0byA9PT0gXCJcIiB8fCB0byA9PT0gXCIuXCIpICYmIGFjdGl2ZVJvdXRlTWF0Y2gpIHtcbiAgICBsZXQgbmFrZWRJbmRleCA9IGhhc05ha2VkSW5kZXhRdWVyeShwYXRoLnNlYXJjaCk7XG4gICAgaWYgKGFjdGl2ZVJvdXRlTWF0Y2gucm91dGUuaW5kZXggJiYgIW5ha2VkSW5kZXgpIHtcbiAgICAgIC8vIEFkZCBvbmUgd2hlbiB3ZSdyZSB0YXJnZXRpbmcgYW4gaW5kZXggcm91dGVcbiAgICAgIHBhdGguc2VhcmNoID0gcGF0aC5zZWFyY2hcbiAgICAgICAgPyBwYXRoLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgXCI/aW5kZXgmXCIpXG4gICAgICAgIDogXCI/aW5kZXhcIjtcbiAgICB9IGVsc2UgaWYgKCFhY3RpdmVSb3V0ZU1hdGNoLnJvdXRlLmluZGV4ICYmIG5ha2VkSW5kZXgpIHtcbiAgICAgIC8vIFJlbW92ZSBleGlzdGluZyBvbmVzIHdoZW4gd2UncmUgbm90XG4gICAgICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXRoLnNlYXJjaCk7XG4gICAgICBsZXQgaW5kZXhWYWx1ZXMgPSBwYXJhbXMuZ2V0QWxsKFwiaW5kZXhcIik7XG4gICAgICBwYXJhbXMuZGVsZXRlKFwiaW5kZXhcIik7XG4gICAgICBpbmRleFZhbHVlcy5maWx0ZXIoKHYpID0+IHYpLmZvckVhY2goKHYpID0+IHBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB2KSk7XG4gICAgICBsZXQgcXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgIHBhdGguc2VhcmNoID0gcXMgPyBgPyR7cXN9YCA6IFwiXCI7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgd2UncmUgb3BlcmF0aW5nIHdpdGhpbiBhIGJhc2VuYW1lLCBwcmVwZW5kIGl0IHRvIHRoZSBwYXRobmFtZS4gIElmXG4gIC8vIHRoaXMgaXMgYSByb290IG5hdmlnYXRpb24sIHRoZW4ganVzdCB1c2UgdGhlIHJhdyBiYXNlbmFtZSB3aGljaCBhbGxvd3NcbiAgLy8gdGhlIGJhc2VuYW1lIHRvIGhhdmUgZnVsbCBjb250cm9sIG92ZXIgdGhlIHByZXNlbmNlIG9mIGEgdHJhaWxpbmcgc2xhc2hcbiAgLy8gb24gcm9vdCBhY3Rpb25zXG4gIGlmIChwcmVwZW5kQmFzZW5hbWUgJiYgYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgcGF0aC5wYXRobmFtZSA9XG4gICAgICBwYXRoLnBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aC5wYXRobmFtZV0pO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZVBhdGgocGF0aCk7XG59XG5cbi8vIE5vcm1hbGl6ZSBuYXZpZ2F0aW9uIG9wdGlvbnMgYnkgY29udmVydGluZyBmb3JtTWV0aG9kPUdFVCBmb3JtRGF0YSBvYmplY3RzIHRvXG4vLyBVUkxTZWFyY2hQYXJhbXMgc28gdGhleSBiZWhhdmUgaWRlbnRpY2FsbHkgdG8gbGlua3Mgd2l0aCBxdWVyeSBwYXJhbXNcbmZ1bmN0aW9uIG5vcm1hbGl6ZU5hdmlnYXRlT3B0aW9ucyhcbiAgbm9ybWFsaXplRm9ybU1ldGhvZDogYm9vbGVhbixcbiAgaXNGZXRjaGVyOiBib29sZWFuLFxuICBwYXRoOiBzdHJpbmcsXG4gIG9wdHM/OiBCYXNlTmF2aWdhdGVPckZldGNoT3B0aW9uc1xuKToge1xuICBwYXRoOiBzdHJpbmc7XG4gIHN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uO1xuICBlcnJvcj86IEVycm9yUmVzcG9uc2VJbXBsO1xufSB7XG4gIC8vIFJldHVybiBsb2NhdGlvbiB2ZXJiYXRpbSBvbiBub24tc3VibWlzc2lvbiBuYXZpZ2F0aW9uc1xuICBpZiAoIW9wdHMgfHwgIWlzU3VibWlzc2lvbk5hdmlnYXRpb24ob3B0cykpIHtcbiAgICByZXR1cm4geyBwYXRoIH07XG4gIH1cblxuICBpZiAob3B0cy5mb3JtTWV0aG9kICYmICFpc1ZhbGlkTWV0aG9kKG9wdHMuZm9ybU1ldGhvZCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF0aCxcbiAgICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2Q6IG9wdHMuZm9ybU1ldGhvZCB9KSxcbiAgICB9O1xuICB9XG5cbiAgbGV0IGdldEludmFsaWRCb2R5RXJyb3IgPSAoKSA9PiAoe1xuICAgIHBhdGgsXG4gICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAwLCB7IHR5cGU6IFwiaW52YWxpZC1ib2R5XCIgfSksXG4gIH0pO1xuXG4gIC8vIENyZWF0ZSBhIFN1Ym1pc3Npb24gb24gbm9uLUdFVCBuYXZpZ2F0aW9uc1xuICBsZXQgcmF3Rm9ybU1ldGhvZCA9IG9wdHMuZm9ybU1ldGhvZCB8fCBcImdldFwiO1xuICBsZXQgZm9ybU1ldGhvZCA9IG5vcm1hbGl6ZUZvcm1NZXRob2RcbiAgICA/IChyYXdGb3JtTWV0aG9kLnRvVXBwZXJDYXNlKCkgYXMgVjdfRm9ybU1ldGhvZClcbiAgICA6IChyYXdGb3JtTWV0aG9kLnRvTG93ZXJDYXNlKCkgYXMgRm9ybU1ldGhvZCk7XG4gIGxldCBmb3JtQWN0aW9uID0gc3RyaXBIYXNoRnJvbVBhdGgocGF0aCk7XG5cbiAgaWYgKG9wdHMuYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKG9wdHMuZm9ybUVuY1R5cGUgPT09IFwidGV4dC9wbGFpblwiKSB7XG4gICAgICAvLyB0ZXh0IG9ubHkgc3VwcG9ydCBQT1NUL1BVVC9QQVRDSC9ERUxFVEUgc3VibWlzc2lvbnNcbiAgICAgIGlmICghaXNNdXRhdGlvbk1ldGhvZChmb3JtTWV0aG9kKSkge1xuICAgICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGV4dCA9XG4gICAgICAgIHR5cGVvZiBvcHRzLmJvZHkgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICA/IG9wdHMuYm9keVxuICAgICAgICAgIDogb3B0cy5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEgfHxcbiAgICAgICAgICAgIG9wdHMuYm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtc1xuICAgICAgICAgID8gLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybS1jb250cm9sLWluZnJhc3RydWN0dXJlLmh0bWwjcGxhaW4tdGV4dC1mb3JtLWRhdGFcbiAgICAgICAgICAgIEFycmF5LmZyb20ob3B0cy5ib2R5LmVudHJpZXMoKSkucmVkdWNlKFxuICAgICAgICAgICAgICAoYWNjLCBbbmFtZSwgdmFsdWVdKSA9PiBgJHthY2N9JHtuYW1lfT0ke3ZhbHVlfVxcbmAsXG4gICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFN0cmluZyhvcHRzLmJvZHkpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRoLFxuICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgZm9ybU1ldGhvZCxcbiAgICAgICAgICBmb3JtQWN0aW9uLFxuICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRzLmZvcm1FbmNUeXBlLFxuICAgICAgICAgIGZvcm1EYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAganNvbjogdW5kZWZpbmVkLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAob3B0cy5mb3JtRW5jVHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgIC8vIGpzb24gb25seSBzdXBwb3J0cyBQT1NUL1BVVC9QQVRDSC9ERUxFVEUgc3VibWlzc2lvbnNcbiAgICAgIGlmICghaXNNdXRhdGlvbk1ldGhvZChmb3JtTWV0aG9kKSkge1xuICAgICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBsZXQganNvbiA9XG4gICAgICAgICAgdHlwZW9mIG9wdHMuYm9keSA9PT0gXCJzdHJpbmdcIiA/IEpTT04ucGFyc2Uob3B0cy5ib2R5KSA6IG9wdHMuYm9keTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgICAgZm9ybU1ldGhvZCxcbiAgICAgICAgICAgIGZvcm1BY3Rpb24sXG4gICAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0cy5mb3JtRW5jVHlwZSxcbiAgICAgICAgICAgIGZvcm1EYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBqc29uLFxuICAgICAgICAgICAgdGV4dDogdW5kZWZpbmVkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW52YXJpYW50KFxuICAgIHR5cGVvZiBGb3JtRGF0YSA9PT0gXCJmdW5jdGlvblwiLFxuICAgIFwiRm9ybURhdGEgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50XCJcbiAgKTtcblxuICBsZXQgc2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXM7XG4gIGxldCBmb3JtRGF0YTogRm9ybURhdGE7XG5cbiAgaWYgKG9wdHMuZm9ybURhdGEpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhvcHRzLmZvcm1EYXRhKTtcbiAgICBmb3JtRGF0YSA9IG9wdHMuZm9ybURhdGE7XG4gIH0gZWxzZSBpZiAob3B0cy5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhvcHRzLmJvZHkpO1xuICAgIGZvcm1EYXRhID0gb3B0cy5ib2R5O1xuICB9IGVsc2UgaWYgKG9wdHMuYm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgIHNlYXJjaFBhcmFtcyA9IG9wdHMuYm9keTtcbiAgICBmb3JtRGF0YSA9IGNvbnZlcnRTZWFyY2hQYXJhbXNUb0Zvcm1EYXRhKHNlYXJjaFBhcmFtcyk7XG4gIH0gZWxzZSBpZiAob3B0cy5ib2R5ID09IG51bGwpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcHRzLmJvZHkpO1xuICAgICAgZm9ybURhdGEgPSBjb252ZXJ0U2VhcmNoUGFyYW1zVG9Gb3JtRGF0YShzZWFyY2hQYXJhbXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgfVxuICB9XG5cbiAgbGV0IHN1Ym1pc3Npb246IFN1Ym1pc3Npb24gPSB7XG4gICAgZm9ybU1ldGhvZCxcbiAgICBmb3JtQWN0aW9uLFxuICAgIGZvcm1FbmNUeXBlOlxuICAgICAgKG9wdHMgJiYgb3B0cy5mb3JtRW5jVHlwZSkgfHwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgICBmb3JtRGF0YSxcbiAgICBqc29uOiB1bmRlZmluZWQsXG4gICAgdGV4dDogdW5kZWZpbmVkLFxuICB9O1xuXG4gIGlmIChpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICByZXR1cm4geyBwYXRoLCBzdWJtaXNzaW9uIH07XG4gIH1cblxuICAvLyBGbGF0dGVuIHN1Ym1pc3Npb24gb250byBVUkxTZWFyY2hQYXJhbXMgZm9yIEdFVCBzdWJtaXNzaW9uc1xuICBsZXQgcGFyc2VkUGF0aCA9IHBhcnNlUGF0aChwYXRoKTtcbiAgLy8gT24gR0VUIG5hdmlnYXRpb24gc3VibWlzc2lvbnMgd2UgY2FuIGRyb3AgdGhlID9pbmRleCBwYXJhbSBmcm9tIHRoZVxuICAvLyByZXN1bHRpbmcgbG9jYXRpb24gc2luY2UgYWxsIGxvYWRlcnMgd2lsbCBydW4uICBCdXQgZmV0Y2hlciBHRVQgc3VibWlzc2lvbnNcbiAgLy8gb25seSBydW4gYSBzaW5nbGUgbG9hZGVyIHNvIHdlIG5lZWQgdG8gcHJlc2VydmUgYW55IGluY29taW5nID9pbmRleCBwYXJhbXNcbiAgaWYgKGlzRmV0Y2hlciAmJiBwYXJzZWRQYXRoLnNlYXJjaCAmJiBoYXNOYWtlZEluZGV4UXVlcnkocGFyc2VkUGF0aC5zZWFyY2gpKSB7XG4gICAgc2VhcmNoUGFyYW1zLmFwcGVuZChcImluZGV4XCIsIFwiXCIpO1xuICB9XG4gIHBhcnNlZFBhdGguc2VhcmNoID0gYD8ke3NlYXJjaFBhcmFtc31gO1xuXG4gIHJldHVybiB7IHBhdGg6IGNyZWF0ZVBhdGgocGFyc2VkUGF0aCksIHN1Ym1pc3Npb24gfTtcbn1cblxuLy8gRmlsdGVyIG91dCBhbGwgcm91dGVzIGF0L2JlbG93IGFueSBjYXVnaHQgZXJyb3IgYXMgdGhleSBhcmVuJ3QgZ29pbmcgdG9cbi8vIHJlbmRlciBzbyB3ZSBkb24ndCBuZWVkIHRvIGxvYWQgdGhlbVxuZnVuY3Rpb24gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkoXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgYm91bmRhcnlJZDogc3RyaW5nLFxuICBpbmNsdWRlQm91bmRhcnkgPSBmYWxzZVxuKSB7XG4gIGxldCBpbmRleCA9IG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmlkID09PSBib3VuZGFyeUlkKTtcbiAgaWYgKGluZGV4ID49IDApIHtcbiAgICByZXR1cm4gbWF0Y2hlcy5zbGljZSgwLCBpbmNsdWRlQm91bmRhcnkgPyBpbmRleCArIDEgOiBpbmRleCk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5cbmZ1bmN0aW9uIGdldE1hdGNoZXNUb0xvYWQoXG4gIGhpc3Rvcnk6IEhpc3RvcnksXG4gIHN0YXRlOiBSb3V0ZXJTdGF0ZSxcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICBzdWJtaXNzaW9uOiBTdWJtaXNzaW9uIHwgdW5kZWZpbmVkLFxuICBsb2NhdGlvbjogTG9jYXRpb24sXG4gIGluaXRpYWxIeWRyYXRpb246IGJvb2xlYW4sXG4gIHNraXBBY3Rpb25FcnJvclJldmFsaWRhdGlvbjogYm9vbGVhbixcbiAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZDogYm9vbGVhbixcbiAgY2FuY2VsbGVkRGVmZXJyZWRSb3V0ZXM6IHN0cmluZ1tdLFxuICBjYW5jZWxsZWRGZXRjaGVyTG9hZHM6IFNldDxzdHJpbmc+LFxuICBkZWxldGVkRmV0Y2hlcnM6IFNldDxzdHJpbmc+LFxuICBmZXRjaExvYWRNYXRjaGVzOiBNYXA8c3RyaW5nLCBGZXRjaExvYWRNYXRjaD4sXG4gIGZldGNoUmVkaXJlY3RJZHM6IFNldDxzdHJpbmc+LFxuICByb3V0ZXNUb1VzZTogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXSxcbiAgYmFzZW5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgcGVuZGluZ0FjdGlvblJlc3VsdD86IFBlbmRpbmdBY3Rpb25SZXN1bHRcbik6IFtBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sIFJldmFsaWRhdGluZ0ZldGNoZXJbXV0ge1xuICBsZXQgYWN0aW9uUmVzdWx0ID0gcGVuZGluZ0FjdGlvblJlc3VsdFxuICAgID8gaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKVxuICAgICAgPyBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yXG4gICAgICA6IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZGF0YVxuICAgIDogdW5kZWZpbmVkO1xuICBsZXQgY3VycmVudFVybCA9IGhpc3RvcnkuY3JlYXRlVVJMKHN0YXRlLmxvY2F0aW9uKTtcbiAgbGV0IG5leHRVcmwgPSBoaXN0b3J5LmNyZWF0ZVVSTChsb2NhdGlvbik7XG5cbiAgLy8gUGljayBuYXZpZ2F0aW9uIG1hdGNoZXMgdGhhdCBhcmUgbmV0LW5ldyBvciBxdWFsaWZ5IGZvciByZXZhbGlkYXRpb25cbiAgbGV0IGJvdW5kYXJ5TWF0Y2hlcyA9IG1hdGNoZXM7XG4gIGlmIChpbml0aWFsSHlkcmF0aW9uICYmIHN0YXRlLmVycm9ycykge1xuICAgIC8vIE9uIGluaXRpYWwgaHlkcmF0aW9uLCBvbmx5IGNvbnNpZGVyIG1hdGNoZXMgdXAgdG8gX2FuZCBpbmNsdWRpbmdfIHRoZSBib3VuZGFyeS5cbiAgICAvLyBUaGlzIGlzIGluY2x1c2l2ZSB0byBoYW5kbGUgY2FzZXMgd2hlcmUgYSBzZXJ2ZXIgbG9hZGVyIHJhbiBzdWNjZXNzZnVsbHksXG4gICAgLy8gYSBjaGlsZCBzZXJ2ZXIgbG9hZGVyIGJ1YmJsZWQgdXAgdG8gdGhpcyByb3V0ZSwgYnV0IHRoaXMgcm91dGUgaGFzXG4gICAgLy8gYGNsaWVudExvYWRlci5oeWRyYXRlYCBzbyB3ZSB3YW50IHRvIHN0aWxsIHJ1biB0aGUgYGNsaWVudExvYWRlcmAgc28gdGhhdFxuICAgIC8vIHdlIGhhdmUgYSBjb21wbGV0ZSB2ZXJzaW9uIG9mIGBsb2FkZXJEYXRhYFxuICAgIGJvdW5kYXJ5TWF0Y2hlcyA9IGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIE9iamVjdC5rZXlzKHN0YXRlLmVycm9ycylbMF0sXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkpIHtcbiAgICAvLyBJZiBhbiBhY3Rpb24gdGhyZXcgYW4gZXJyb3IsIHdlIGNhbGwgbG9hZGVycyB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcgdGhlXG4gICAgLy8gYm91bmRhcnlcbiAgICBib3VuZGFyeU1hdGNoZXMgPSBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShcbiAgICAgIG1hdGNoZXMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXG4gICAgKTtcbiAgfVxuXG4gIC8vIERvbid0IHJldmFsaWRhdGUgbG9hZGVycyBieSBkZWZhdWx0IGFmdGVyIGFjdGlvbiA0eHgvNXh4IHJlc3BvbnNlc1xuICAvLyB3aGVuIHRoZSBmbGFnIGlzIGVuYWJsZWQuICBUaGV5IGNhbiBzdGlsbCBvcHQtaW50byByZXZhbGlkYXRpb24gdmlhXG4gIC8vIGBzaG91bGRSZXZhbGlkYXRlYCB2aWEgYGFjdGlvblJlc3VsdGBcbiAgbGV0IGFjdGlvblN0YXR1cyA9IHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgICA/IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uc3RhdHVzQ29kZVxuICAgIDogdW5kZWZpbmVkO1xuICBsZXQgc2hvdWxkU2tpcFJldmFsaWRhdGlvbiA9XG4gICAgc2tpcEFjdGlvbkVycm9yUmV2YWxpZGF0aW9uICYmIGFjdGlvblN0YXR1cyAmJiBhY3Rpb25TdGF0dXMgPj0gNDAwO1xuXG4gIGxldCBuYXZpZ2F0aW9uTWF0Y2hlcyA9IGJvdW5kYXJ5TWF0Y2hlcy5maWx0ZXIoKG1hdGNoLCBpbmRleCkgPT4ge1xuICAgIGxldCB7IHJvdXRlIH0gPSBtYXRjaDtcbiAgICBpZiAocm91dGUubGF6eSkge1xuICAgICAgLy8gV2UgaGF2ZW4ndCBsb2FkZWQgdGhpcyByb3V0ZSB5ZXQgc28gd2UgZG9uJ3Qga25vdyBpZiBpdCdzIGdvdCBhIGxvYWRlciFcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChyb3V0ZS5sb2FkZXIgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChpbml0aWFsSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm4gc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24ocm91dGUsIHN0YXRlLmxvYWRlckRhdGEsIHN0YXRlLmVycm9ycyk7XG4gICAgfVxuXG4gICAgLy8gQWx3YXlzIGNhbGwgdGhlIGxvYWRlciBvbiBuZXcgcm91dGUgaW5zdGFuY2VzIGFuZCBwZW5kaW5nIGRlZmVyIGNhbmNlbGxhdGlvbnNcbiAgICBpZiAoXG4gICAgICBpc05ld0xvYWRlcihzdGF0ZS5sb2FkZXJEYXRhLCBzdGF0ZS5tYXRjaGVzW2luZGV4XSwgbWF0Y2gpIHx8XG4gICAgICBjYW5jZWxsZWREZWZlcnJlZFJvdXRlcy5zb21lKChpZCkgPT4gaWQgPT09IG1hdGNoLnJvdXRlLmlkKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3Igd2hlbiB3ZSByZXZhbGlkYXRlLiAgSWYgdGhlIHJvdXRlXG4gICAgLy8gcHJvdmlkZXMgaXQncyBvd24gaW1wbGVtZW50YXRpb24sIHRoZW4gd2UgZ2l2ZSB0aGVtIGZ1bGwgY29udHJvbCBidXRcbiAgICAvLyBwcm92aWRlIHRoaXMgdmFsdWUgc28gdGhleSBjYW4gbGV2ZXJhZ2UgaXQgaWYgbmVlZGVkIGFmdGVyIHRoZXkgY2hlY2tcbiAgICAvLyB0aGVpciBvd24gc3BlY2lmaWMgdXNlIGNhc2VzXG4gICAgbGV0IGN1cnJlbnRSb3V0ZU1hdGNoID0gc3RhdGUubWF0Y2hlc1tpbmRleF07XG4gICAgbGV0IG5leHRSb3V0ZU1hdGNoID0gbWF0Y2g7XG5cbiAgICByZXR1cm4gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihtYXRjaCwge1xuICAgICAgY3VycmVudFVybCxcbiAgICAgIGN1cnJlbnRQYXJhbXM6IGN1cnJlbnRSb3V0ZU1hdGNoLnBhcmFtcyxcbiAgICAgIG5leHRVcmwsXG4gICAgICBuZXh0UGFyYW1zOiBuZXh0Um91dGVNYXRjaC5wYXJhbXMsXG4gICAgICAuLi5zdWJtaXNzaW9uLFxuICAgICAgYWN0aW9uUmVzdWx0LFxuICAgICAgYWN0aW9uU3RhdHVzLFxuICAgICAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHNob3VsZFNraXBSZXZhbGlkYXRpb25cbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IC8vIEZvcmNlZCByZXZhbGlkYXRpb24gZHVlIHRvIHN1Ym1pc3Npb24sIHVzZVJldmFsaWRhdG9yLCBvciBYLVJlbWl4LVJldmFsaWRhdGVcbiAgICAgICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkIHx8XG4gICAgICAgICAgY3VycmVudFVybC5wYXRobmFtZSArIGN1cnJlbnRVcmwuc2VhcmNoID09PVxuICAgICAgICAgICAgbmV4dFVybC5wYXRobmFtZSArIG5leHRVcmwuc2VhcmNoIHx8XG4gICAgICAgICAgLy8gU2VhcmNoIHBhcmFtcyBhZmZlY3QgYWxsIGxvYWRlcnNcbiAgICAgICAgICBjdXJyZW50VXJsLnNlYXJjaCAhPT0gbmV4dFVybC5zZWFyY2ggfHxcbiAgICAgICAgICBpc05ld1JvdXRlSW5zdGFuY2UoY3VycmVudFJvdXRlTWF0Y2gsIG5leHRSb3V0ZU1hdGNoKSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gUGljayBmZXRjaGVyLmxvYWRzIHRoYXQgbmVlZCB0byBiZSByZXZhbGlkYXRlZFxuICBsZXQgcmV2YWxpZGF0aW5nRmV0Y2hlcnM6IFJldmFsaWRhdGluZ0ZldGNoZXJbXSA9IFtdO1xuICBmZXRjaExvYWRNYXRjaGVzLmZvckVhY2goKGYsIGtleSkgPT4ge1xuICAgIC8vIERvbid0IHJldmFsaWRhdGU6XG4gICAgLy8gIC0gb24gaW5pdGlhbCBoeWRyYXRpb24gKHNob3VsZG4ndCBiZSBhbnkgZmV0Y2hlcnMgdGhlbiBhbnl3YXkpXG4gICAgLy8gIC0gaWYgZmV0Y2hlciB3b24ndCBiZSBwcmVzZW50IGluIHRoZSBzdWJzZXF1ZW50IHJlbmRlclxuICAgIC8vICAgIC0gbm8gbG9uZ2VyIG1hdGNoZXMgdGhlIFVSTCAodjdfZmV0Y2hlclBlcnNpc3Q9ZmFsc2UpXG4gICAgLy8gICAgLSB3YXMgdW5tb3VudGVkIGJ1dCBwZXJzaXN0ZWQgZHVlIHRvIHY3X2ZldGNoZXJQZXJzaXN0PXRydWVcbiAgICBpZiAoXG4gICAgICBpbml0aWFsSHlkcmF0aW9uIHx8XG4gICAgICAhbWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLmlkID09PSBmLnJvdXRlSWQpIHx8XG4gICAgICBkZWxldGVkRmV0Y2hlcnMuaGFzKGtleSlcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZmV0Y2hlck1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgZi5wYXRoLCBiYXNlbmFtZSk7XG5cbiAgICAvLyBJZiB0aGUgZmV0Y2hlciBwYXRoIG5vIGxvbmdlciBtYXRjaGVzLCBwdXNoIGl0IGluIHdpdGggbnVsbCBtYXRjaGVzIHNvXG4gICAgLy8gd2UgY2FuIHRyaWdnZXIgYSA0MDQgaW4gY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhLiAgTm90ZSB0aGlzIGlzXG4gICAgLy8gY3VycmVudGx5IG9ubHkgYSB1c2UtY2FzZSBmb3IgUmVtaXggSE1SIHdoZXJlIHRoZSByb3V0ZSB0cmVlIGNhbiBjaGFuZ2VcbiAgICAvLyBhdCBydW50aW1lIGFuZCByZW1vdmUgYSByb3V0ZSBwcmV2aW91c2x5IGxvYWRlZCB2aWEgYSBmZXRjaGVyXG4gICAgaWYgKCFmZXRjaGVyTWF0Y2hlcykge1xuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZDogZi5yb3V0ZUlkLFxuICAgICAgICBwYXRoOiBmLnBhdGgsXG4gICAgICAgIG1hdGNoZXM6IG51bGwsXG4gICAgICAgIG1hdGNoOiBudWxsLFxuICAgICAgICBjb250cm9sbGVyOiBudWxsLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmV2YWxpZGF0aW5nIGZldGNoZXJzIGFyZSBkZWNvdXBsZWQgZnJvbSB0aGUgcm91dGUgbWF0Y2hlcyBzaW5jZSB0aGV5XG4gICAgLy8gbG9hZCBmcm9tIGEgc3RhdGljIGhyZWYuICBUaGV5IHJldmFsaWRhdGUgYmFzZWQgb24gZXhwbGljaXQgcmV2YWxpZGF0aW9uXG4gICAgLy8gKHN1Ym1pc3Npb24sIHVzZVJldmFsaWRhdG9yLCBvciBYLVJlbWl4LVJldmFsaWRhdGUpXG4gICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICBsZXQgZmV0Y2hlck1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2goZmV0Y2hlck1hdGNoZXMsIGYucGF0aCk7XG5cbiAgICBsZXQgc2hvdWxkUmV2YWxpZGF0ZSA9IGZhbHNlO1xuICAgIGlmIChmZXRjaFJlZGlyZWN0SWRzLmhhcyhrZXkpKSB7XG4gICAgICAvLyBOZXZlciB0cmlnZ2VyIGEgcmV2YWxpZGF0aW9uIG9mIGFuIGFjdGl2ZWx5IHJlZGlyZWN0aW5nIGZldGNoZXJcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5oYXMoa2V5KSkge1xuICAgICAgLy8gQWx3YXlzIG1hcmsgZm9yIHJldmFsaWRhdGlvbiBpZiB0aGUgZmV0Y2hlciB3YXMgY2FuY2VsbGVkXG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuZGVsZXRlKGtleSk7XG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZmV0Y2hlciAmJlxuICAgICAgZmV0Y2hlci5zdGF0ZSAhPT0gXCJpZGxlXCIgJiZcbiAgICAgIGZldGNoZXIuZGF0YSA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICAvLyBJZiB0aGUgZmV0Y2hlciBoYXNuJ3QgZXZlciBjb21wbGV0ZWQgbG9hZGluZyB5ZXQsIHRoZW4gdGhpcyBpc24ndCBhXG4gICAgICAvLyByZXZhbGlkYXRpb24sIGl0IHdvdWxkIGp1c3QgYmUgYSBicmFuZCBuZXcgbG9hZCBpZiBhbiBleHBsaWNpdFxuICAgICAgLy8gcmV2YWxpZGF0aW9uIGlzIHJlcXVpcmVkXG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gaXNSZXZhbGlkYXRpb25SZXF1aXJlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3RoZXJ3aXNlIGZhbGwgYmFjayBvbiBhbnkgdXNlci1kZWZpbmVkIHNob3VsZFJldmFsaWRhdGUsIGRlZmF1bHRpbmdcbiAgICAgIC8vIHRvIGV4cGxpY2l0IHJldmFsaWRhdGlvbnMgb25seVxuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IHNob3VsZFJldmFsaWRhdGVMb2FkZXIoZmV0Y2hlck1hdGNoLCB7XG4gICAgICAgIGN1cnJlbnRVcmwsXG4gICAgICAgIGN1cnJlbnRQYXJhbXM6IHN0YXRlLm1hdGNoZXNbc3RhdGUubWF0Y2hlcy5sZW5ndGggLSAxXS5wYXJhbXMsXG4gICAgICAgIG5leHRVcmwsXG4gICAgICAgIG5leHRQYXJhbXM6IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5wYXJhbXMsXG4gICAgICAgIC4uLnN1Ym1pc3Npb24sXG4gICAgICAgIGFjdGlvblJlc3VsdCxcbiAgICAgICAgYWN0aW9uU3RhdHVzLFxuICAgICAgICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogc2hvdWxkU2tpcFJldmFsaWRhdGlvblxuICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICA6IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZDogZi5yb3V0ZUlkLFxuICAgICAgICBwYXRoOiBmLnBhdGgsXG4gICAgICAgIG1hdGNoZXM6IGZldGNoZXJNYXRjaGVzLFxuICAgICAgICBtYXRjaDogZmV0Y2hlck1hdGNoLFxuICAgICAgICBjb250cm9sbGVyOiBuZXcgQWJvcnRDb250cm9sbGVyKCksXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBbbmF2aWdhdGlvbk1hdGNoZXMsIHJldmFsaWRhdGluZ0ZldGNoZXJzXTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24oXG4gIHJvdXRlOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdCxcbiAgbG9hZGVyRGF0YTogUm91dGVEYXRhIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgZXJyb3JzOiBSb3V0ZURhdGEgfCBudWxsIHwgdW5kZWZpbmVkXG4pIHtcbiAgLy8gV2UgZHVubm8gaWYgd2UgaGF2ZSBhIGxvYWRlciAtIGdvdHRhIGZpbmQgb3V0IVxuICBpZiAocm91dGUubGF6eSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gTm8gbG9hZGVyLCBub3RoaW5nIHRvIGluaXRpYWxpemVcbiAgaWYgKCFyb3V0ZS5sb2FkZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgaGFzRGF0YSA9IGxvYWRlckRhdGEgIT0gbnVsbCAmJiBsb2FkZXJEYXRhW3JvdXRlLmlkXSAhPT0gdW5kZWZpbmVkO1xuICBsZXQgaGFzRXJyb3IgPSBlcnJvcnMgIT0gbnVsbCAmJiBlcnJvcnNbcm91dGUuaWRdICE9PSB1bmRlZmluZWQ7XG5cbiAgLy8gRG9uJ3QgcnVuIGlmIHdlIGVycm9yJ2QgZHVyaW5nIFNTUlxuICBpZiAoIWhhc0RhdGEgJiYgaGFzRXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBFeHBsaWNpdGx5IG9wdGluZy1pbiB0byBydW5uaW5nIG9uIGh5ZHJhdGlvblxuICBpZiAodHlwZW9mIHJvdXRlLmxvYWRlciA9PT0gXCJmdW5jdGlvblwiICYmIHJvdXRlLmxvYWRlci5oeWRyYXRlID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBPdGhlcndpc2UsIHJ1biBpZiB3ZSdyZSBub3QgeWV0IGluaXRpYWxpemVkIHdpdGggYW55dGhpbmdcbiAgcmV0dXJuICFoYXNEYXRhICYmICFoYXNFcnJvcjtcbn1cblxuZnVuY3Rpb24gaXNOZXdMb2FkZXIoXG4gIGN1cnJlbnRMb2FkZXJEYXRhOiBSb3V0ZURhdGEsXG4gIGN1cnJlbnRNYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCxcbiAgbWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hcbikge1xuICBsZXQgaXNOZXcgPVxuICAgIC8vIFthXSAtPiBbYSwgYl1cbiAgICAhY3VycmVudE1hdGNoIHx8XG4gICAgLy8gW2EsIGJdIC0+IFthLCBjXVxuICAgIG1hdGNoLnJvdXRlLmlkICE9PSBjdXJyZW50TWF0Y2gucm91dGUuaWQ7XG5cbiAgLy8gSGFuZGxlIHRoZSBjYXNlIHRoYXQgd2UgZG9uJ3QgaGF2ZSBkYXRhIGZvciBhIHJlLXVzZWQgcm91dGUsIHBvdGVudGlhbGx5XG4gIC8vIGZyb20gYSBwcmlvciBlcnJvciBvciBmcm9tIGEgY2FuY2VsbGVkIHBlbmRpbmcgZGVmZXJyZWRcbiAgbGV0IGlzTWlzc2luZ0RhdGEgPSBjdXJyZW50TG9hZGVyRGF0YVttYXRjaC5yb3V0ZS5pZF0gPT09IHVuZGVmaW5lZDtcblxuICAvLyBBbHdheXMgbG9hZCBpZiB0aGlzIGlzIGEgbmV0LW5ldyByb3V0ZSBvciB3ZSBkb24ndCB5ZXQgaGF2ZSBkYXRhXG4gIHJldHVybiBpc05ldyB8fCBpc01pc3NpbmdEYXRhO1xufVxuXG5mdW5jdGlvbiBpc05ld1JvdXRlSW5zdGFuY2UoXG4gIGN1cnJlbnRNYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCxcbiAgbWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hcbikge1xuICBsZXQgY3VycmVudFBhdGggPSBjdXJyZW50TWF0Y2gucm91dGUucGF0aDtcbiAgcmV0dXJuIChcbiAgICAvLyBwYXJhbSBjaGFuZ2UgZm9yIHRoaXMgbWF0Y2gsIC91c2Vycy8xMjMgLT4gL3VzZXJzLzQ1NlxuICAgIGN1cnJlbnRNYXRjaC5wYXRobmFtZSAhPT0gbWF0Y2gucGF0aG5hbWUgfHxcbiAgICAvLyBzcGxhdCBwYXJhbSBjaGFuZ2VkLCB3aGljaCBpcyBub3QgcHJlc2VudCBpbiBtYXRjaC5wYXRoXG4gICAgLy8gZS5nLiAvZmlsZXMvaW1hZ2VzL2F2YXRhci5qcGcgLT4gZmlsZXMvZmluYW5jZXMueGxzXG4gICAgKGN1cnJlbnRQYXRoICE9IG51bGwgJiZcbiAgICAgIGN1cnJlbnRQYXRoLmVuZHNXaXRoKFwiKlwiKSAmJlxuICAgICAgY3VycmVudE1hdGNoLnBhcmFtc1tcIipcIl0gIT09IG1hdGNoLnBhcmFtc1tcIipcIl0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFJldmFsaWRhdGVMb2FkZXIoXG4gIGxvYWRlck1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoLFxuICBhcmc6IFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbkFyZ3Ncbikge1xuICBpZiAobG9hZGVyTWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgIGxldCByb3V0ZUNob2ljZSA9IGxvYWRlck1hdGNoLnJvdXRlLnNob3VsZFJldmFsaWRhdGUoYXJnKTtcbiAgICBpZiAodHlwZW9mIHJvdXRlQ2hvaWNlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgcmV0dXJuIHJvdXRlQ2hvaWNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcmcuZGVmYXVsdFNob3VsZFJldmFsaWRhdGU7XG59XG5cbmZ1bmN0aW9uIHBhdGNoUm91dGVzSW1wbChcbiAgcm91dGVJZDogc3RyaW5nIHwgbnVsbCxcbiAgY2hpbGRyZW46IEFnbm9zdGljUm91dGVPYmplY3RbXSxcbiAgcm91dGVzVG9Vc2U6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W10sXG4gIG1hbmlmZXN0OiBSb3V0ZU1hbmlmZXN0LFxuICBtYXBSb3V0ZVByb3BlcnRpZXM6IE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uXG4pIHtcbiAgbGV0IGNoaWxkcmVuVG9QYXRjaDogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXTtcbiAgaWYgKHJvdXRlSWQpIHtcbiAgICBsZXQgcm91dGUgPSBtYW5pZmVzdFtyb3V0ZUlkXTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByb3V0ZSxcbiAgICAgIGBObyByb3V0ZSBmb3VuZCB0byBwYXRjaCBjaGlsZHJlbiBpbnRvOiByb3V0ZUlkID0gJHtyb3V0ZUlkfWBcbiAgICApO1xuICAgIGlmICghcm91dGUuY2hpbGRyZW4pIHtcbiAgICAgIHJvdXRlLmNoaWxkcmVuID0gW107XG4gICAgfVxuICAgIGNoaWxkcmVuVG9QYXRjaCA9IHJvdXRlLmNoaWxkcmVuO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuVG9QYXRjaCA9IHJvdXRlc1RvVXNlO1xuICB9XG5cbiAgLy8gRG9uJ3QgcGF0Y2ggaW4gcm91dGVzIHdlIGFscmVhZHkga25vdyBhYm91dCBzbyB0aGF0IGBwYXRjaGAgaXMgaWRlbXBvdGVudFxuICAvLyB0byBzaW1wbGlmeSB1c2VyLWxhbmQgY29kZS4gVGhpcyBpcyB1c2VmdWwgYmVjYXVzZSB3ZSByZS1jYWxsIHRoZVxuICAvLyBgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25gIGZ1bmN0aW9uIGZvciBtYXRjaGVkIHJvdXRlcyB3aXRoIHBhcmFtcy5cbiAgbGV0IHVuaXF1ZUNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKFxuICAgIChuZXdSb3V0ZSkgPT5cbiAgICAgICFjaGlsZHJlblRvUGF0Y2guc29tZSgoZXhpc3RpbmdSb3V0ZSkgPT5cbiAgICAgICAgaXNTYW1lUm91dGUobmV3Um91dGUsIGV4aXN0aW5nUm91dGUpXG4gICAgICApXG4gICk7XG5cbiAgbGV0IG5ld1JvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgdW5pcXVlQ2hpbGRyZW4sXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIFtyb3V0ZUlkIHx8IFwiX1wiLCBcInBhdGNoXCIsIFN0cmluZyhjaGlsZHJlblRvUGF0Y2g/Lmxlbmd0aCB8fCBcIjBcIildLFxuICAgIG1hbmlmZXN0XG4gICk7XG5cbiAgY2hpbGRyZW5Ub1BhdGNoLnB1c2goLi4ubmV3Um91dGVzKTtcbn1cblxuZnVuY3Rpb24gaXNTYW1lUm91dGUoXG4gIG5ld1JvdXRlOiBBZ25vc3RpY1JvdXRlT2JqZWN0LFxuICBleGlzdGluZ1JvdXRlOiBBZ25vc3RpY1JvdXRlT2JqZWN0XG4pOiBib29sZWFuIHtcbiAgLy8gTW9zdCBvcHRpbWFsIGNoZWNrIGlzIGJ5IGlkXG4gIGlmIChcbiAgICBcImlkXCIgaW4gbmV3Um91dGUgJiZcbiAgICBcImlkXCIgaW4gZXhpc3RpbmdSb3V0ZSAmJlxuICAgIG5ld1JvdXRlLmlkID09PSBleGlzdGluZ1JvdXRlLmlkXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gU2Vjb25kIGlzIGJ5IHBhdGhpbmcgZGlmZmVyZW5jZXNcbiAgaWYgKFxuICAgICEoXG4gICAgICBuZXdSb3V0ZS5pbmRleCA9PT0gZXhpc3RpbmdSb3V0ZS5pbmRleCAmJlxuICAgICAgbmV3Um91dGUucGF0aCA9PT0gZXhpc3RpbmdSb3V0ZS5wYXRoICYmXG4gICAgICBuZXdSb3V0ZS5jYXNlU2Vuc2l0aXZlID09PSBleGlzdGluZ1JvdXRlLmNhc2VTZW5zaXRpdmVcbiAgICApXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFBhdGhsZXNzIGxheW91dCByb3V0ZXMgYXJlIHRyaWNraWVyIHNpbmNlIHdlIG5lZWQgdG8gY2hlY2sgY2hpbGRyZW4uXG4gIC8vIElmIHRoZXkgaGF2ZSBubyBjaGlsZHJlbiB0aGVuIHRoZXkncmUgdGhlIHNhbWUgYXMgZmFyIGFzIHdlIGNhbiB0ZWxsXG4gIGlmIChcbiAgICAoIW5ld1JvdXRlLmNoaWxkcmVuIHx8IG5ld1JvdXRlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgJiZcbiAgICAoIWV4aXN0aW5nUm91dGUuY2hpbGRyZW4gfHwgZXhpc3RpbmdSb3V0ZS5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gT3RoZXJ3aXNlLCB3ZSBsb29rIHRvIHNlZSBpZiBldmVyeSBjaGlsZCBpbiB0aGUgbmV3IHJvdXRlIGlzIGFscmVhZHlcbiAgLy8gcmVwcmVzZW50ZWQgaW4gdGhlIGV4aXN0aW5nIHJvdXRlJ3MgY2hpbGRyZW5cbiAgcmV0dXJuIG5ld1JvdXRlLmNoaWxkcmVuIS5ldmVyeSgoYUNoaWxkLCBpKSA9PlxuICAgIGV4aXN0aW5nUm91dGUuY2hpbGRyZW4/LnNvbWUoKGJDaGlsZCkgPT4gaXNTYW1lUm91dGUoYUNoaWxkLCBiQ2hpbGQpKVxuICApO1xufVxuXG4vKipcbiAqIEV4ZWN1dGUgcm91dGUubGF6eSgpIG1ldGhvZHMgdG8gbGF6aWx5IGxvYWQgcm91dGUgbW9kdWxlcyAobG9hZGVyLCBhY3Rpb24sXG4gKiBzaG91bGRSZXZhbGlkYXRlKSBhbmQgdXBkYXRlIHRoZSByb3V0ZU1hbmlmZXN0IGluIHBsYWNlIHdoaWNoIHNoYXJlcyBvYmplY3RzXG4gKiB3aXRoIGRhdGFSb3V0ZXMgc28gdGhvc2UgZ2V0IHVwZGF0ZWQgYXMgd2VsbC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZExhenlSb3V0ZU1vZHVsZShcbiAgcm91dGU6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0LFxuICBtYXBSb3V0ZVByb3BlcnRpZXM6IE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uLFxuICBtYW5pZmVzdDogUm91dGVNYW5pZmVzdFxuKSB7XG4gIGlmICghcm91dGUubGF6eSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBsYXp5Um91dGUgPSBhd2FpdCByb3V0ZS5sYXp5KCk7XG5cbiAgLy8gSWYgdGhlIGxhenkgcm91dGUgZnVuY3Rpb24gd2FzIGV4ZWN1dGVkIGFuZCByZW1vdmVkIGJ5IGFub3RoZXIgcGFyYWxsZWxcbiAgLy8gY2FsbCB0aGVuIHdlIGNhbiByZXR1cm4gLSBmaXJzdCBsYXp5KCkgdG8gZmluaXNoIHdpbnMgYmVjYXVzZSB0aGUgcmV0dXJuXG4gIC8vIHZhbHVlIG9mIGxhenkgaXMgZXhwZWN0ZWQgdG8gYmUgc3RhdGljXG4gIGlmICghcm91dGUubGF6eSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCByb3V0ZVRvVXBkYXRlID0gbWFuaWZlc3Rbcm91dGUuaWRdO1xuICBpbnZhcmlhbnQocm91dGVUb1VwZGF0ZSwgXCJObyByb3V0ZSBmb3VuZCBpbiBtYW5pZmVzdFwiKTtcblxuICAvLyBVcGRhdGUgdGhlIHJvdXRlIGluIHBsYWNlLiAgVGhpcyBzaG91bGQgYmUgc2FmZSBiZWNhdXNlIHRoZXJlJ3Mgbm8gd2F5XG4gIC8vIHdlIGNvdWxkIHlldCBiZSBzaXR0aW5nIG9uIHRoaXMgcm91dGUgYXMgd2UgY2FuJ3QgZ2V0IHRoZXJlIHdpdGhvdXRcbiAgLy8gcmVzb2x2aW5nIGxhenkoKSBmaXJzdC5cbiAgLy9cbiAgLy8gVGhpcyBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgSE1SIFwidXBkYXRlXCIgdXNlLWNhc2Ugd2hlcmUgd2UgbWF5IGFjdGl2ZWx5IGJlXG4gIC8vIG9uIHRoZSByb3V0ZSBiZWluZyB1cGRhdGVkLiAgVGhlIG1haW4gY29uY2VybiBib2lscyBkb3duIHRvIFwiZG9lcyB0aGlzXG4gIC8vIG11dGF0aW9uIGFmZmVjdCBhbnkgb25nb2luZyBuYXZpZ2F0aW9ucyBvciBhbnkgY3VycmVudCBzdGF0ZS5tYXRjaGVzXG4gIC8vIHZhbHVlcz9cIi4gIElmIG5vdCwgaXQgc2hvdWxkIGJlIHNhZmUgdG8gdXBkYXRlIGluIHBsYWNlLlxuICBsZXQgcm91dGVVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gIGZvciAobGV0IGxhenlSb3V0ZVByb3BlcnR5IGluIGxhenlSb3V0ZSkge1xuICAgIGxldCBzdGF0aWNSb3V0ZVZhbHVlID1cbiAgICAgIHJvdXRlVG9VcGRhdGVbbGF6eVJvdXRlUHJvcGVydHkgYXMga2V5b2YgdHlwZW9mIHJvdXRlVG9VcGRhdGVdO1xuXG4gICAgbGV0IGlzUHJvcGVydHlTdGF0aWNhbGx5RGVmaW5lZCA9XG4gICAgICBzdGF0aWNSb3V0ZVZhbHVlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIC8vIFRoaXMgcHJvcGVydHkgaXNuJ3Qgc3RhdGljIHNpbmNlIGl0IHNob3VsZCBhbHdheXMgYmUgdXBkYXRlZCBiYXNlZFxuICAgICAgLy8gb24gdGhlIHJvdXRlIHVwZGF0ZXNcbiAgICAgIGxhenlSb3V0ZVByb3BlcnR5ICE9PSBcImhhc0Vycm9yQm91bmRhcnlcIjtcblxuICAgIHdhcm5pbmcoXG4gICAgICAhaXNQcm9wZXJ0eVN0YXRpY2FsbHlEZWZpbmVkLFxuICAgICAgYFJvdXRlIFwiJHtyb3V0ZVRvVXBkYXRlLmlkfVwiIGhhcyBhIHN0YXRpYyBwcm9wZXJ0eSBcIiR7bGF6eVJvdXRlUHJvcGVydHl9XCIgYCArXG4gICAgICAgIGBkZWZpbmVkIGJ1dCBpdHMgbGF6eSBmdW5jdGlvbiBpcyBhbHNvIHJldHVybmluZyBhIHZhbHVlIGZvciB0aGlzIHByb3BlcnR5LiBgICtcbiAgICAgICAgYFRoZSBsYXp5IHJvdXRlIHByb3BlcnR5IFwiJHtsYXp5Um91dGVQcm9wZXJ0eX1cIiB3aWxsIGJlIGlnbm9yZWQuYFxuICAgICk7XG5cbiAgICBpZiAoXG4gICAgICAhaXNQcm9wZXJ0eVN0YXRpY2FsbHlEZWZpbmVkICYmXG4gICAgICAhaW1tdXRhYmxlUm91dGVLZXlzLmhhcyhsYXp5Um91dGVQcm9wZXJ0eSBhcyBJbW11dGFibGVSb3V0ZUtleSlcbiAgICApIHtcbiAgICAgIHJvdXRlVXBkYXRlc1tsYXp5Um91dGVQcm9wZXJ0eV0gPVxuICAgICAgICBsYXp5Um91dGVbbGF6eVJvdXRlUHJvcGVydHkgYXMga2V5b2YgdHlwZW9mIGxhenlSb3V0ZV07XG4gICAgfVxuICB9XG5cbiAgLy8gTXV0YXRlIHRoZSByb3V0ZSB3aXRoIHRoZSBwcm92aWRlZCB1cGRhdGVzLiAgRG8gdGhpcyBmaXJzdCBzbyB3ZSBwYXNzXG4gIC8vIHRoZSB1cGRhdGVkIHZlcnNpb24gdG8gbWFwUm91dGVQcm9wZXJ0aWVzXG4gIE9iamVjdC5hc3NpZ24ocm91dGVUb1VwZGF0ZSwgcm91dGVVcGRhdGVzKTtcblxuICAvLyBNdXRhdGUgdGhlIGBoYXNFcnJvckJvdW5kYXJ5YCBwcm9wZXJ0eSBvbiB0aGUgcm91dGUgYmFzZWQgb24gdGhlIHJvdXRlXG4gIC8vIHVwZGF0ZXMgYW5kIHJlbW92ZSB0aGUgYGxhenlgIGZ1bmN0aW9uIHNvIHdlIGRvbid0IHJlc29sdmUgdGhlIGxhenlcbiAgLy8gcm91dGUgYWdhaW4uXG4gIE9iamVjdC5hc3NpZ24ocm91dGVUb1VwZGF0ZSwge1xuICAgIC8vIFRvIGtlZXAgdGhpbmdzIGZyYW1ld29yayBhZ25vc3RpYywgd2UgdXNlIHRoZSBwcm92aWRlZFxuICAgIC8vIGBtYXBSb3V0ZVByb3BlcnRpZXNgIChvciB3cmFwcGVkIGBkZXRlY3RFcnJvckJvdW5kYXJ5YCkgZnVuY3Rpb24gdG9cbiAgICAvLyBzZXQgdGhlIGZyYW1ld29yay1hd2FyZSBwcm9wZXJ0aWVzIChgZWxlbWVudGAvYGhhc0Vycm9yQm91bmRhcnlgKSBzaW5jZVxuICAgIC8vIHRoZSBsb2dpYyB3aWxsIGRpZmZlciBiZXR3ZWVuIGZyYW1ld29ya3MuXG4gICAgLi4ubWFwUm91dGVQcm9wZXJ0aWVzKHJvdXRlVG9VcGRhdGUpLFxuICAgIGxhenk6IHVuZGVmaW5lZCxcbiAgfSk7XG59XG5cbi8vIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgYGRhdGFTdHJhdGVneWAgd2hpY2ggZmV0Y2hlcyBhbGwgbG9hZGVycyBpbiBwYXJhbGxlbFxuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdERhdGFTdHJhdGVneSh7XG4gIG1hdGNoZXMsXG59OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbkFyZ3MpOiBSZXR1cm5UeXBlPERhdGFTdHJhdGVneUZ1bmN0aW9uPiB7XG4gIGxldCBtYXRjaGVzVG9Mb2FkID0gbWF0Y2hlcy5maWx0ZXIoKG0pID0+IG0uc2hvdWxkTG9hZCk7XG4gIGxldCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwobWF0Y2hlc1RvTG9hZC5tYXAoKG0pID0+IG0ucmVzb2x2ZSgpKSk7XG4gIHJldHVybiByZXN1bHRzLnJlZHVjZShcbiAgICAoYWNjLCByZXN1bHQsIGkpID0+XG4gICAgICBPYmplY3QuYXNzaWduKGFjYywgeyBbbWF0Y2hlc1RvTG9hZFtpXS5yb3V0ZS5pZF06IHJlc3VsdCB9KSxcbiAgICB7fVxuICApO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjYWxsRGF0YVN0cmF0ZWd5SW1wbChcbiAgZGF0YVN0cmF0ZWd5SW1wbDogRGF0YVN0cmF0ZWd5RnVuY3Rpb24sXG4gIHR5cGU6IFwibG9hZGVyXCIgfCBcImFjdGlvblwiLFxuICBzdGF0ZTogUm91dGVyU3RhdGUgfCBudWxsLFxuICByZXF1ZXN0OiBSZXF1ZXN0LFxuICBtYXRjaGVzVG9Mb2FkOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgZmV0Y2hlcktleTogc3RyaW5nIHwgbnVsbCxcbiAgbWFuaWZlc3Q6IFJvdXRlTWFuaWZlc3QsXG4gIG1hcFJvdXRlUHJvcGVydGllczogTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb24sXG4gIHJlcXVlc3RDb250ZXh0PzogdW5rbm93blxuKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBEYXRhU3RyYXRlZ3lSZXN1bHQ+PiB7XG4gIGxldCBsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzID0gbWF0Y2hlcy5tYXAoKG0pID0+XG4gICAgbS5yb3V0ZS5sYXp5XG4gICAgICA/IGxvYWRMYXp5Um91dGVNb2R1bGUobS5yb3V0ZSwgbWFwUm91dGVQcm9wZXJ0aWVzLCBtYW5pZmVzdClcbiAgICAgIDogdW5kZWZpbmVkXG4gICk7XG5cbiAgbGV0IGRzTWF0Y2hlcyA9IG1hdGNoZXMubWFwKChtYXRjaCwgaSkgPT4ge1xuICAgIGxldCBsb2FkUm91dGVQcm9taXNlID0gbG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlc1tpXTtcbiAgICBsZXQgc2hvdWxkTG9hZCA9IG1hdGNoZXNUb0xvYWQuc29tZSgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gbWF0Y2gucm91dGUuaWQpO1xuICAgIC8vIGByZXNvbHZlYCBlbmNhcHN1bGF0ZXMgcm91dGUubGF6eSgpLCBleGVjdXRpbmcgdGhlIGxvYWRlci9hY3Rpb24sXG4gICAgLy8gYW5kIG1hcHBpbmcgcmV0dXJuIHZhbHVlcy90aHJvd24gZXJyb3JzIHRvIGEgYERhdGFTdHJhdGVneVJlc3VsdGAuICBVc2Vyc1xuICAgIC8vIGNhbiBwYXNzIGEgY2FsbGJhY2sgdG8gdGFrZSBmaW5lLWdyYWluZWQgY29udHJvbCBvdmVyIHRoZSBleGVjdXRpb25cbiAgICAvLyBvZiB0aGUgbG9hZGVyL2FjdGlvblxuICAgIGxldCByZXNvbHZlOiBEYXRhU3RyYXRlZ3lNYXRjaFtcInJlc29sdmVcIl0gPSBhc3luYyAoaGFuZGxlck92ZXJyaWRlKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGhhbmRsZXJPdmVycmlkZSAmJlxuICAgICAgICByZXF1ZXN0Lm1ldGhvZCA9PT0gXCJHRVRcIiAmJlxuICAgICAgICAobWF0Y2gucm91dGUubGF6eSB8fCBtYXRjaC5yb3V0ZS5sb2FkZXIpXG4gICAgICApIHtcbiAgICAgICAgc2hvdWxkTG9hZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2hvdWxkTG9hZFxuICAgICAgICA/IGNhbGxMb2FkZXJPckFjdGlvbihcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgICBsb2FkUm91dGVQcm9taXNlLFxuICAgICAgICAgICAgaGFuZGxlck92ZXJyaWRlLFxuICAgICAgICAgICAgcmVxdWVzdENvbnRleHRcbiAgICAgICAgICApXG4gICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogUmVzdWx0VHlwZS5kYXRhLCByZXN1bHQ6IHVuZGVmaW5lZCB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm1hdGNoLFxuICAgICAgc2hvdWxkTG9hZCxcbiAgICAgIHJlc29sdmUsXG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gU2VuZCBhbGwgbWF0Y2hlcyBoZXJlIHRvIGFsbG93IGZvciBhIG1pZGRsZXdhcmUtdHlwZSBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gaGFuZGxlciB3aWxsIGJlIGEgbm8tb3AgZm9yIHVubmVlZGVkIHJvdXRlcyBhbmQgd2UgZmlsdGVyIHRob3NlIHJlc3VsdHNcbiAgLy8gYmFjayBvdXQgYmVsb3cuXG4gIGxldCByZXN1bHRzID0gYXdhaXQgZGF0YVN0cmF0ZWd5SW1wbCh7XG4gICAgbWF0Y2hlczogZHNNYXRjaGVzLFxuICAgIHJlcXVlc3QsXG4gICAgcGFyYW1zOiBtYXRjaGVzWzBdLnBhcmFtcyxcbiAgICBmZXRjaGVyS2V5LFxuICAgIGNvbnRleHQ6IHJlcXVlc3RDb250ZXh0LFxuICB9KTtcblxuICAvLyBXYWl0IGZvciBhbGwgcm91dGVzIHRvIGxvYWQgaGVyZSBidXQgJ3N3YWxsb3cgdGhlIGVycm9yIHNpbmNlIHdlIHdhbnRcbiAgLy8gaXQgdG8gYnViYmxlIHVwIGZyb20gdGhlIGBhd2FpdCBsb2FkUm91dGVQcm9taXNlYCBpbiBgY2FsbExvYWRlck9yQWN0aW9uYCAtXG4gIC8vIGNhbGxlZCBmcm9tIGBtYXRjaC5yZXNvbHZlKClgXG4gIHRyeSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwobG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBOby1vcFxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbi8vIERlZmF1bHQgbG9naWMgZm9yIGNhbGxpbmcgYSBsb2FkZXIvYWN0aW9uIGlzIHRoZSB1c2VyIGhhcyBubyBzcGVjaWZpZWQgYSBkYXRhU3RyYXRlZ3lcbmFzeW5jIGZ1bmN0aW9uIGNhbGxMb2FkZXJPckFjdGlvbihcbiAgdHlwZTogXCJsb2FkZXJcIiB8IFwiYWN0aW9uXCIsXG4gIHJlcXVlc3Q6IFJlcXVlc3QsXG4gIG1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoLFxuICBsb2FkUm91dGVQcm9taXNlOiBQcm9taXNlPHZvaWQ+IHwgdW5kZWZpbmVkLFxuICBoYW5kbGVyT3ZlcnJpZGU6IFBhcmFtZXRlcnM8RGF0YVN0cmF0ZWd5TWF0Y2hbXCJyZXNvbHZlXCJdPlswXSxcbiAgc3RhdGljQ29udGV4dD86IHVua25vd25cbik6IFByb21pc2U8RGF0YVN0cmF0ZWd5UmVzdWx0PiB7XG4gIGxldCByZXN1bHQ6IERhdGFTdHJhdGVneVJlc3VsdDtcbiAgbGV0IG9uUmVqZWN0OiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG5cbiAgbGV0IHJ1bkhhbmRsZXIgPSAoXG4gICAgaGFuZGxlcjogQWdub3N0aWNSb3V0ZU9iamVjdFtcImxvYWRlclwiXSB8IEFnbm9zdGljUm91dGVPYmplY3RbXCJhY3Rpb25cIl1cbiAgKTogUHJvbWlzZTxEYXRhU3RyYXRlZ3lSZXN1bHQ+ID0+IHtcbiAgICAvLyBTZXR1cCBhIHByb21pc2Ugd2UgY2FuIHJhY2UgYWdhaW5zdCBzbyB0aGF0IGFib3J0IHNpZ25hbHMgc2hvcnQgY2lyY3VpdFxuICAgIGxldCByZWplY3Q6ICgpID0+IHZvaWQ7XG4gICAgLy8gVGhpcyB3aWxsIG5ldmVyIHJlc29sdmUgc28gc2FmZSB0byB0eXBlIGl0IGFzIFByb21pc2U8RGF0YVN0cmF0ZWd5UmVzdWx0PiB0b1xuICAgIC8vIHNhdGlzZnkgdGhlIGZ1bmN0aW9uIHJldHVybiB2YWx1ZVxuICAgIGxldCBhYm9ydFByb21pc2UgPSBuZXcgUHJvbWlzZTxEYXRhU3RyYXRlZ3lSZXN1bHQ+KChfLCByKSA9PiAocmVqZWN0ID0gcikpO1xuICAgIG9uUmVqZWN0ID0gKCkgPT4gcmVqZWN0KCk7XG4gICAgcmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uUmVqZWN0KTtcblxuICAgIGxldCBhY3R1YWxIYW5kbGVyID0gKGN0eD86IHVua25vd24pID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgWW91IGNhbm5vdCBjYWxsIHRoZSBoYW5kbGVyIGZvciBhIHJvdXRlIHdoaWNoIGRlZmluZXMgYSBib29sZWFuIGAgK1xuICAgICAgICAgICAgICBgXCIke3R5cGV9XCIgW3JvdXRlSWQ6ICR7bWF0Y2gucm91dGUuaWR9XWBcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFuZGxlcihcbiAgICAgICAge1xuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgcGFyYW1zOiBtYXRjaC5wYXJhbXMsXG4gICAgICAgICAgY29udGV4dDogc3RhdGljQ29udGV4dCxcbiAgICAgICAgfSxcbiAgICAgICAgLi4uKGN0eCAhPT0gdW5kZWZpbmVkID8gW2N0eF0gOiBbXSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIGxldCBoYW5kbGVyUHJvbWlzZTogUHJvbWlzZTxEYXRhU3RyYXRlZ3lSZXN1bHQ+ID0gKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCB2YWwgPSBhd2FpdCAoaGFuZGxlck92ZXJyaWRlXG4gICAgICAgICAgPyBoYW5kbGVyT3ZlcnJpZGUoKGN0eDogdW5rbm93bikgPT4gYWN0dWFsSGFuZGxlcihjdHgpKVxuICAgICAgICAgIDogYWN0dWFsSGFuZGxlcigpKTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJkYXRhXCIsIHJlc3VsdDogdmFsIH07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlIH07XG4gICAgICB9XG4gICAgfSkoKTtcblxuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW2hhbmRsZXJQcm9taXNlLCBhYm9ydFByb21pc2VdKTtcbiAgfTtcblxuICB0cnkge1xuICAgIGxldCBoYW5kbGVyID0gbWF0Y2gucm91dGVbdHlwZV07XG5cbiAgICAvLyBJZiB3ZSBoYXZlIGEgcm91dGUubGF6eSBwcm9taXNlLCBhd2FpdCB0aGF0IGZpcnN0XG4gICAgaWYgKGxvYWRSb3V0ZVByb21pc2UpIHtcbiAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIC8vIFJ1biBzdGF0aWNhbGx5IGRlZmluZWQgaGFuZGxlciBpbiBwYXJhbGxlbCB3aXRoIGxhenkoKVxuICAgICAgICBsZXQgaGFuZGxlckVycm9yO1xuICAgICAgICBsZXQgW3ZhbHVlXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAvLyBJZiB0aGUgaGFuZGxlciB0aHJvd3MsIGRvbid0IGxldCBpdCBpbW1lZGlhdGVseSBidWJibGUgb3V0LFxuICAgICAgICAgIC8vIHNpbmNlIHdlIG5lZWQgdG8gbGV0IHRoZSBsYXp5KCkgZXhlY3V0aW9uIGZpbmlzaCBzbyB3ZSBrbm93IGlmIHRoaXNcbiAgICAgICAgICAvLyByb3V0ZSBoYXMgYSBib3VuZGFyeSB0aGF0IGNhbiBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgICAgcnVuSGFuZGxlcihoYW5kbGVyKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgaGFuZGxlckVycm9yID0gZTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBsb2FkUm91dGVQcm9taXNlLFxuICAgICAgICBdKTtcbiAgICAgICAgaWYgKGhhbmRsZXJFcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgaGFuZGxlckVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlITtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIExvYWQgbGF6eSByb3V0ZSBtb2R1bGUsIHRoZW4gcnVuIGFueSByZXR1cm5lZCBoYW5kbGVyXG4gICAgICAgIGF3YWl0IGxvYWRSb3V0ZVByb21pc2U7XG5cbiAgICAgICAgaGFuZGxlciA9IG1hdGNoLnJvdXRlW3R5cGVdO1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIC8vIEhhbmRsZXIgc3RpbGwgcnVucyBldmVuIGlmIHdlIGdvdCBpbnRlcnJ1cHRlZCB0byBtYWludGFpbiBjb25zaXN0ZW5jeVxuICAgICAgICAgIC8vIHdpdGggdW4tYWJvcnRhYmxlIGJlaGF2aW9yIG9mIGhhbmRsZXIgZXhlY3V0aW9uIG9uIG5vbi1sYXp5IG9yXG4gICAgICAgICAgLy8gcHJldmlvdXNseS1sYXp5LWxvYWRlZCByb3V0ZXNcbiAgICAgICAgICByZXN1bHQgPSBhd2FpdCBydW5IYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiYWN0aW9uXCIpIHtcbiAgICAgICAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgICAgbGV0IHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaDtcbiAgICAgICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgIHBhdGhuYW1lLFxuICAgICAgICAgICAgcm91dGVJZDogbWF0Y2gucm91dGUuaWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbGF6eSgpIHJvdXRlIGhhcyBubyBsb2FkZXIgdG8gcnVuLiAgU2hvcnQgY2lyY3VpdCBoZXJlIHNvIHdlIGRvbid0XG4gICAgICAgICAgLy8gaGl0IHRoZSBpbnZhcmlhbnQgYmVsb3cgdGhhdCBlcnJvcnMgb24gcmV0dXJuaW5nIHVuZGVmaW5lZC5cbiAgICAgICAgICByZXR1cm4geyB0eXBlOiBSZXN1bHRUeXBlLmRhdGEsIHJlc3VsdDogdW5kZWZpbmVkIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFoYW5kbGVyKSB7XG4gICAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICBsZXQgcGF0aG5hbWUgPSB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoO1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHtcbiAgICAgICAgcGF0aG5hbWUsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgcnVuSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICByZXN1bHQucmVzdWx0ICE9PSB1bmRlZmluZWQsXG4gICAgICBgWW91IGRlZmluZWQgJHt0eXBlID09PSBcImFjdGlvblwiID8gXCJhbiBhY3Rpb25cIiA6IFwiYSBsb2FkZXJcIn0gZm9yIHJvdXRlIGAgK1xuICAgICAgICBgXCIke21hdGNoLnJvdXRlLmlkfVwiIGJ1dCBkaWRuJ3QgcmV0dXJuIGFueXRoaW5nIGZyb20geW91ciBcXGAke3R5cGV9XFxgIGAgK1xuICAgICAgICBgZnVuY3Rpb24uIFBsZWFzZSByZXR1cm4gYSB2YWx1ZSBvciBcXGBudWxsXFxgLmBcbiAgICApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gV2Ugc2hvdWxkIGFscmVhZHkgYmUgY2F0Y2hpbmcgYW5kIGNvbnZlcnRpbmcgbm9ybWFsIGhhbmRsZXIgZXhlY3V0aW9ucyB0b1xuICAgIC8vIERhdGFTdHJhdGVneVJlc3VsdHMgYW5kIHJldHVybmluZyB0aGVtLCBzbyBhbnl0aGluZyB0aGF0IHRocm93cyBoZXJlIGlzIGFuXG4gICAgLy8gdW5leHBlY3RlZCBlcnJvciB3ZSBzdGlsbCBuZWVkIHRvIHdyYXBcbiAgICByZXR1cm4geyB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLCByZXN1bHQ6IGUgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAob25SZWplY3QpIHtcbiAgICAgIHJlcXVlc3Quc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvblJlamVjdCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChcbiAgZGF0YVN0cmF0ZWd5UmVzdWx0OiBEYXRhU3RyYXRlZ3lSZXN1bHRcbik6IFByb21pc2U8RGF0YVJlc3VsdD4ge1xuICBsZXQgeyByZXN1bHQsIHR5cGUgfSA9IGRhdGFTdHJhdGVneVJlc3VsdDtcblxuICBpZiAoaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgbGV0IGRhdGE6IGFueTtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgY29udGVudFR5cGUgPSByZXN1bHQuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIik7XG4gICAgICAvLyBDaGVjayBiZXR3ZWVuIHdvcmQgYm91bmRhcmllcyBpbnN0ZWFkIG9mIHN0YXJ0c1dpdGgoKSBkdWUgdG8gdGhlIGxhc3RcbiAgICAgIC8vIHBhcmFncmFwaCBvZiBodHRwczovL2h0dHB3Zy5vcmcvc3BlY3MvcmZjOTExMC5odG1sI2ZpZWxkLmNvbnRlbnQtdHlwZVxuICAgICAgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJhcHBsaWNhdGlvblxcL2pzb25cXGIvLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICAgIGlmIChyZXN1bHQuYm9keSA9PSBudWxsKSB7XG4gICAgICAgICAgZGF0YSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YSA9IGF3YWl0IHJlc3VsdC5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCByZXN1bHQudGV4dCgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsIGVycm9yOiBlIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09IFJlc3VsdFR5cGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3JSZXNwb25zZUltcGwocmVzdWx0LnN0YXR1cywgcmVzdWx0LnN0YXR1c1RleHQsIGRhdGEpLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVycyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZGF0YSxcbiAgICAgIGRhdGEsXG4gICAgICBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzLFxuICAgICAgaGVhZGVyczogcmVzdWx0LmhlYWRlcnMsXG4gICAgfTtcbiAgfVxuXG4gIGlmICh0eXBlID09PSBSZXN1bHRUeXBlLmVycm9yKSB7XG4gICAgaWYgKGlzRGF0YVdpdGhSZXNwb25zZUluaXQocmVzdWx0KSkge1xuICAgICAgaWYgKHJlc3VsdC5kYXRhIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICAgIGVycm9yOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXN1bHQuaW5pdD8uc3RhdHVzLFxuICAgICAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzXG4gICAgICAgICAgICA/IG5ldyBIZWFkZXJzKHJlc3VsdC5pbml0LmhlYWRlcnMpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29udmVydCB0aHJvd24gZGF0YSgpIHRvIEVycm9yUmVzcG9uc2UgaW5zdGFuY2VzXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICBlcnJvcjogbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICAgIHJlc3VsdC5pbml0Py5zdGF0dXMgfHwgNTAwLFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICByZXN1bHQuZGF0YVxuICAgICAgICApLFxuICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQpID8gcmVzdWx0LnN0YXR1cyA6IHVuZGVmaW5lZCxcbiAgICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnNcbiAgICAgICAgICA/IG5ldyBIZWFkZXJzKHJlc3VsdC5pbml0LmhlYWRlcnMpXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgIGVycm9yOiByZXN1bHQsXG4gICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQpID8gcmVzdWx0LnN0YXR1cyA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGlzRGVmZXJyZWREYXRhKHJlc3VsdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogUmVzdWx0VHlwZS5kZWZlcnJlZCxcbiAgICAgIGRlZmVycmVkRGF0YTogcmVzdWx0LFxuICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LmluaXQ/LnN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzICYmIG5ldyBIZWFkZXJzKHJlc3VsdC5pbml0LmhlYWRlcnMpLFxuICAgIH07XG4gIH1cblxuICBpZiAoaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChyZXN1bHQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZGF0YSxcbiAgICAgIGRhdGE6IHJlc3VsdC5kYXRhLFxuICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LmluaXQ/LnN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzXG4gICAgICAgID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycylcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7IHR5cGU6IFJlc3VsdFR5cGUuZGF0YSwgZGF0YTogcmVzdWx0IH07XG59XG5cbi8vIFN1cHBvcnQgcmVsYXRpdmUgcm91dGluZyBpbiBpbnRlcm5hbCByZWRpcmVjdHNcbmZ1bmN0aW9uIG5vcm1hbGl6ZVJlbGF0aXZlUm91dGluZ1JlZGlyZWN0UmVzcG9uc2UoXG4gIHJlc3BvbnNlOiBSZXNwb25zZSxcbiAgcmVxdWVzdDogUmVxdWVzdCxcbiAgcm91dGVJZDogc3RyaW5nLFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIGJhc2VuYW1lOiBzdHJpbmcsXG4gIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBib29sZWFuXG4pIHtcbiAgbGV0IGxvY2F0aW9uID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgaW52YXJpYW50KFxuICAgIGxvY2F0aW9uLFxuICAgIFwiUmVkaXJlY3RzIHJldHVybmVkL3Rocm93biBmcm9tIGxvYWRlcnMvYWN0aW9ucyBtdXN0IGhhdmUgYSBMb2NhdGlvbiBoZWFkZXJcIlxuICApO1xuXG4gIGlmICghQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QobG9jYXRpb24pKSB7XG4gICAgbGV0IHRyaW1tZWRNYXRjaGVzID0gbWF0Y2hlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkgKyAxXG4gICAgKTtcbiAgICBsb2NhdGlvbiA9IG5vcm1hbGl6ZVRvKFxuICAgICAgbmV3IFVSTChyZXF1ZXN0LnVybCksXG4gICAgICB0cmltbWVkTWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgdHJ1ZSxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgdjdfcmVsYXRpdmVTcGxhdFBhdGhcbiAgICApO1xuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiTG9jYXRpb25cIiwgbG9jYXRpb24pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVSZWRpcmVjdExvY2F0aW9uKFxuICBsb2NhdGlvbjogc3RyaW5nLFxuICBjdXJyZW50VXJsOiBVUkwsXG4gIGJhc2VuYW1lOiBzdHJpbmdcbik6IHN0cmluZyB7XG4gIGlmIChBQlNPTFVURV9VUkxfUkVHRVgudGVzdChsb2NhdGlvbikpIHtcbiAgICAvLyBTdHJpcCBvZmYgdGhlIHByb3RvY29sK29yaWdpbiBmb3Igc2FtZS1vcmlnaW4gKyBzYW1lLWJhc2VuYW1lIGFic29sdXRlIHJlZGlyZWN0c1xuICAgIGxldCBub3JtYWxpemVkTG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICBsZXQgdXJsID0gbm9ybWFsaXplZExvY2F0aW9uLnN0YXJ0c1dpdGgoXCIvL1wiKVxuICAgICAgPyBuZXcgVVJMKGN1cnJlbnRVcmwucHJvdG9jb2wgKyBub3JtYWxpemVkTG9jYXRpb24pXG4gICAgICA6IG5ldyBVUkwobm9ybWFsaXplZExvY2F0aW9uKTtcbiAgICBsZXQgaXNTYW1lQmFzZW5hbWUgPSBzdHJpcEJhc2VuYW1lKHVybC5wYXRobmFtZSwgYmFzZW5hbWUpICE9IG51bGw7XG4gICAgaWYgKHVybC5vcmlnaW4gPT09IGN1cnJlbnRVcmwub3JpZ2luICYmIGlzU2FtZUJhc2VuYW1lKSB7XG4gICAgICByZXR1cm4gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaCArIHVybC5oYXNoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbG9jYXRpb247XG59XG5cbi8vIFV0aWxpdHkgbWV0aG9kIGZvciBjcmVhdGluZyB0aGUgUmVxdWVzdCBpbnN0YW5jZXMgZm9yIGxvYWRlcnMvYWN0aW9ucyBkdXJpbmdcbi8vIGNsaWVudC1zaWRlIG5hdmlnYXRpb25zIGFuZCBmZXRjaGVzLiAgRHVyaW5nIFNTUiB3ZSB3aWxsIGFsd2F5cyBoYXZlIGFcbi8vIFJlcXVlc3QgaW5zdGFuY2UgZnJvbSB0aGUgc3RhdGljIGhhbmRsZXIgKHF1ZXJ5L3F1ZXJ5Um91dGUpXG5mdW5jdGlvbiBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgaGlzdG9yeTogSGlzdG9yeSxcbiAgbG9jYXRpb246IHN0cmluZyB8IExvY2F0aW9uLFxuICBzaWduYWw6IEFib3J0U2lnbmFsLFxuICBzdWJtaXNzaW9uPzogU3VibWlzc2lvblxuKTogUmVxdWVzdCB7XG4gIGxldCB1cmwgPSBoaXN0b3J5LmNyZWF0ZVVSTChzdHJpcEhhc2hGcm9tUGF0aChsb2NhdGlvbikpLnRvU3RyaW5nKCk7XG4gIGxldCBpbml0OiBSZXF1ZXN0SW5pdCA9IHsgc2lnbmFsIH07XG5cbiAgaWYgKHN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgbGV0IHsgZm9ybU1ldGhvZCwgZm9ybUVuY1R5cGUgfSA9IHN1Ym1pc3Npb247XG4gICAgLy8gRGlkbid0IHRoaW5rIHdlIG5lZWRlZCB0aGlzIGJ1dCBpdCB0dXJucyBvdXQgdW5saWtlIG90aGVyIG1ldGhvZHMsIHBhdGNoXG4gICAgLy8gd29uJ3QgYmUgcHJvcGVybHkgbm9ybWFsaXplZCB0byB1cHBlcmNhc2UgYW5kIHJlc3VsdHMgaW4gYSA0MDUgZXJyb3IuXG4gICAgLy8gU2VlOiBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1tZXRob2RcbiAgICBpbml0Lm1ldGhvZCA9IGZvcm1NZXRob2QudG9VcHBlckNhc2UoKTtcblxuICAgIGlmIChmb3JtRW5jVHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgIGluaXQuaGVhZGVycyA9IG5ldyBIZWFkZXJzKHsgXCJDb250ZW50LVR5cGVcIjogZm9ybUVuY1R5cGUgfSk7XG4gICAgICBpbml0LmJvZHkgPSBKU09OLnN0cmluZ2lmeShzdWJtaXNzaW9uLmpzb24pO1xuICAgIH0gZWxzZSBpZiAoZm9ybUVuY1R5cGUgPT09IFwidGV4dC9wbGFpblwiKSB7XG4gICAgICAvLyBDb250ZW50LVR5cGUgaXMgaW5mZXJyZWQgKGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNkb20tcmVxdWVzdClcbiAgICAgIGluaXQuYm9keSA9IHN1Ym1pc3Npb24udGV4dDtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZm9ybUVuY1R5cGUgPT09IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgJiZcbiAgICAgIHN1Ym1pc3Npb24uZm9ybURhdGFcbiAgICApIHtcbiAgICAgIC8vIENvbnRlbnQtVHlwZSBpcyBpbmZlcnJlZCAoaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2RvbS1yZXF1ZXN0KVxuICAgICAgaW5pdC5ib2R5ID0gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMoc3VibWlzc2lvbi5mb3JtRGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbnRlbnQtVHlwZSBpcyBpbmZlcnJlZCAoaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2RvbS1yZXF1ZXN0KVxuICAgICAgaW5pdC5ib2R5ID0gc3VibWlzc2lvbi5mb3JtRGF0YTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFJlcXVlc3QodXJsLCBpbml0KTtcbn1cblxuZnVuY3Rpb24gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMoZm9ybURhdGE6IEZvcm1EYXRhKTogVVJMU2VhcmNoUGFyYW1zIHtcbiAgbGV0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcblxuICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgZm9ybURhdGEuZW50cmllcygpKSB7XG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybS1jb250cm9sLWluZnJhc3RydWN0dXJlLmh0bWwjY29udmVydGluZy1hbi1lbnRyeS1saXN0LXRvLWEtbGlzdC1vZi1uYW1lLXZhbHVlLXBhaXJzXG4gICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogdmFsdWUubmFtZSk7XG4gIH1cblxuICByZXR1cm4gc2VhcmNoUGFyYW1zO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0U2VhcmNoUGFyYW1zVG9Gb3JtRGF0YShcbiAgc2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXNcbik6IEZvcm1EYXRhIHtcbiAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBzZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmb3JtRGF0YTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1JvdXRlTG9hZGVyRGF0YShcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICByZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0PixcbiAgcGVuZGluZ0FjdGlvblJlc3VsdDogUGVuZGluZ0FjdGlvblJlc3VsdCB8IHVuZGVmaW5lZCxcbiAgYWN0aXZlRGVmZXJyZWRzOiBNYXA8c3RyaW5nLCBEZWZlcnJlZERhdGE+LFxuICBza2lwTG9hZGVyRXJyb3JCdWJibGluZzogYm9vbGVhblxuKToge1xuICBsb2FkZXJEYXRhOiBSb3V0ZXJTdGF0ZVtcImxvYWRlckRhdGFcIl07XG4gIGVycm9yczogUm91dGVyU3RhdGVbXCJlcnJvcnNcIl0gfCBudWxsO1xuICBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIGxvYWRlckhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIEhlYWRlcnM+O1xufSB7XG4gIC8vIEZpbGwgaW4gbG9hZGVyRGF0YS9lcnJvcnMgZnJvbSBvdXIgbG9hZGVyc1xuICBsZXQgbG9hZGVyRGF0YTogUm91dGVyU3RhdGVbXCJsb2FkZXJEYXRhXCJdID0ge307XG4gIGxldCBlcnJvcnM6IFJvdXRlclN0YXRlW1wiZXJyb3JzXCJdIHwgbnVsbCA9IG51bGw7XG4gIGxldCBzdGF0dXNDb2RlOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIGxldCBmb3VuZEVycm9yID0gZmFsc2U7XG4gIGxldCBsb2FkZXJIZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBIZWFkZXJzPiA9IHt9O1xuICBsZXQgcGVuZGluZ0Vycm9yID1cbiAgICBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSlcbiAgICAgID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvclxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgLy8gUHJvY2VzcyBsb2FkZXIgcmVzdWx0cyBpbnRvIHN0YXRlLmxvYWRlckRhdGEvc3RhdGUuZXJyb3JzXG4gIG1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICBpZiAoIShtYXRjaC5yb3V0ZS5pZCBpbiByZXN1bHRzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgaWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1tpZF07XG4gICAgaW52YXJpYW50KFxuICAgICAgIWlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSxcbiAgICAgIFwiQ2Fubm90IGhhbmRsZSByZWRpcmVjdCByZXN1bHRzIGluIHByb2Nlc3NMb2FkZXJEYXRhXCJcbiAgICApO1xuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCBlcnJvciA9IHJlc3VsdC5lcnJvcjtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBwZW5kaW5nIGFjdGlvbiBlcnJvciwgd2UgcmVwb3J0IGl0IGF0IHRoZSBoaWdoZXN0LXJvdXRlXG4gICAgICAvLyB0aGF0IHRocm93cyBhIGxvYWRlciBlcnJvciwgYW5kIHRoZW4gY2xlYXIgaXQgb3V0IHRvIGluZGljYXRlIHRoYXRcbiAgICAgIC8vIGl0IHdhcyBjb25zdW1lZFxuICAgICAgaWYgKHBlbmRpbmdFcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVycm9yID0gcGVuZGluZ0Vycm9yO1xuICAgICAgICBwZW5kaW5nRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGVycm9ycyA9IGVycm9ycyB8fCB7fTtcblxuICAgICAgaWYgKHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nKSB7XG4gICAgICAgIGVycm9yc1tpZF0gPSBlcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIExvb2sgdXB3YXJkcyBmcm9tIHRoZSBtYXRjaGVkIHJvdXRlIGZvciB0aGUgY2xvc2VzdCBhbmNlc3RvciBlcnJvclxuICAgICAgICAvLyBib3VuZGFyeSwgZGVmYXVsdGluZyB0byB0aGUgcm9vdCBtYXRjaC4gIFByZWZlciBoaWdoZXIgZXJyb3IgdmFsdWVzXG4gICAgICAgIC8vIGlmIGxvd2VyIGVycm9ycyBidWJibGUgdG8gdGhlIHNhbWUgYm91bmRhcnlcbiAgICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGlkKTtcbiAgICAgICAgaWYgKGVycm9yc1tib3VuZGFyeU1hdGNoLnJvdXRlLmlkXSA9PSBudWxsKSB7XG4gICAgICAgICAgZXJyb3JzW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdID0gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgb3VyIGFueSBwcmlvciBsb2FkZXJEYXRhIGZvciB0aGUgdGhyb3dpbmcgcm91dGVcbiAgICAgIGxvYWRlckRhdGFbaWRdID0gdW5kZWZpbmVkO1xuXG4gICAgICAvLyBPbmNlIHdlIGZpbmQgb3VyIGZpcnN0IChoaWdoZXN0KSBlcnJvciwgd2Ugc2V0IHRoZSBzdGF0dXMgY29kZSBhbmRcbiAgICAgIC8vIHByZXZlbnQgZGVlcGVyIHN0YXR1cyBjb2RlcyBmcm9tIG92ZXJyaWRpbmdcbiAgICAgIGlmICghZm91bmRFcnJvcikge1xuICAgICAgICBmb3VuZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgc3RhdHVzQ29kZSA9IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcilcbiAgICAgICAgICA/IHJlc3VsdC5lcnJvci5zdGF0dXNcbiAgICAgICAgICA6IDUwMDtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQuaGVhZGVycykge1xuICAgICAgICBsb2FkZXJIZWFkZXJzW2lkXSA9IHJlc3VsdC5oZWFkZXJzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNEZWZlcnJlZFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgIGFjdGl2ZURlZmVycmVkcy5zZXQoaWQsIHJlc3VsdC5kZWZlcnJlZERhdGEpO1xuICAgICAgICBsb2FkZXJEYXRhW2lkXSA9IHJlc3VsdC5kZWZlcnJlZERhdGEuZGF0YTtcbiAgICAgICAgLy8gRXJyb3Igc3RhdHVzIGNvZGVzIGFsd2F5cyBvdmVycmlkZSBzdWNjZXNzIHN0YXR1cyBjb2RlcywgYnV0IGlmIGFsbFxuICAgICAgICAvLyBsb2FkZXJzIGFyZSBzdWNjZXNzZnVsIHdlIHRha2UgdGhlIGRlZXBlc3Qgc3RhdHVzIGNvZGUuXG4gICAgICAgIGlmIChcbiAgICAgICAgICByZXN1bHQuc3RhdHVzQ29kZSAhPSBudWxsICYmXG4gICAgICAgICAgcmVzdWx0LnN0YXR1c0NvZGUgIT09IDIwMCAmJlxuICAgICAgICAgICFmb3VuZEVycm9yXG4gICAgICAgICkge1xuICAgICAgICAgIHN0YXR1c0NvZGUgPSByZXN1bHQuc3RhdHVzQ29kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LmhlYWRlcnMpIHtcbiAgICAgICAgICBsb2FkZXJIZWFkZXJzW2lkXSA9IHJlc3VsdC5oZWFkZXJzO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkZXJEYXRhW2lkXSA9IHJlc3VsdC5kYXRhO1xuICAgICAgICAvLyBFcnJvciBzdGF0dXMgY29kZXMgYWx3YXlzIG92ZXJyaWRlIHN1Y2Nlc3Mgc3RhdHVzIGNvZGVzLCBidXQgaWYgYWxsXG4gICAgICAgIC8vIGxvYWRlcnMgYXJlIHN1Y2Nlc3NmdWwgd2UgdGFrZSB0aGUgZGVlcGVzdCBzdGF0dXMgY29kZS5cbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlICYmIHJlc3VsdC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgIWZvdW5kRXJyb3IpIHtcbiAgICAgICAgICBzdGF0dXNDb2RlID0gcmVzdWx0LnN0YXR1c0NvZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5oZWFkZXJzKSB7XG4gICAgICAgICAgbG9hZGVySGVhZGVyc1tpZF0gPSByZXN1bHQuaGVhZGVycztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLy8gSWYgd2UgZGlkbid0IGNvbnN1bWUgdGhlIHBlbmRpbmcgYWN0aW9uIGVycm9yIChpLmUuLCBhbGwgbG9hZGVyc1xuICAvLyByZXNvbHZlZCksIHRoZW4gY29uc3VtZSBpdCBoZXJlLiAgQWxzbyBjbGVhciBvdXQgYW55IGxvYWRlckRhdGEgZm9yIHRoZVxuICAvLyB0aHJvd2luZyByb3V0ZVxuICBpZiAocGVuZGluZ0Vycm9yICE9PSB1bmRlZmluZWQgJiYgcGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIGVycm9ycyA9IHsgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nRXJyb3IgfTtcbiAgICBsb2FkZXJEYXRhW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsb2FkZXJEYXRhLFxuICAgIGVycm9ycyxcbiAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlIHx8IDIwMCxcbiAgICBsb2FkZXJIZWFkZXJzLFxuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzTG9hZGVyRGF0YShcbiAgc3RhdGU6IFJvdXRlclN0YXRlLFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+LFxuICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBQZW5kaW5nQWN0aW9uUmVzdWx0IHwgdW5kZWZpbmVkLFxuICByZXZhbGlkYXRpbmdGZXRjaGVyczogUmV2YWxpZGF0aW5nRmV0Y2hlcltdLFxuICBmZXRjaGVyUmVzdWx0czogUmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD4sXG4gIGFjdGl2ZURlZmVycmVkczogTWFwPHN0cmluZywgRGVmZXJyZWREYXRhPlxuKToge1xuICBsb2FkZXJEYXRhOiBSb3V0ZXJTdGF0ZVtcImxvYWRlckRhdGFcIl07XG4gIGVycm9ycz86IFJvdXRlclN0YXRlW1wiZXJyb3JzXCJdO1xufSB7XG4gIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gcHJvY2Vzc1JvdXRlTG9hZGVyRGF0YShcbiAgICBtYXRjaGVzLFxuICAgIHJlc3VsdHMsXG4gICAgcGVuZGluZ0FjdGlvblJlc3VsdCxcbiAgICBhY3RpdmVEZWZlcnJlZHMsXG4gICAgZmFsc2UgLy8gVGhpcyBtZXRob2QgaXMgb25seSBjYWxsZWQgY2xpZW50IHNpZGUgc28gd2UgYWx3YXlzIHdhbnQgdG8gYnViYmxlXG4gICk7XG5cbiAgLy8gUHJvY2VzcyByZXN1bHRzIGZyb20gb3VyIHJldmFsaWRhdGluZyBmZXRjaGVyc1xuICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4ge1xuICAgIGxldCB7IGtleSwgbWF0Y2gsIGNvbnRyb2xsZXIgfSA9IHJmO1xuICAgIGxldCByZXN1bHQgPSBmZXRjaGVyUmVzdWx0c1trZXldO1xuICAgIGludmFyaWFudChyZXN1bHQsIFwiRGlkIG5vdCBmaW5kIGNvcnJlc3BvbmRpbmcgZmV0Y2hlciByZXN1bHRcIik7XG5cbiAgICAvLyBQcm9jZXNzIGZldGNoZXIgbm9uLXJlZGlyZWN0IGVycm9yc1xuICAgIGlmIChjb250cm9sbGVyICYmIGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gZG8gZm9yIGFib3J0ZWQgZmV0Y2hlcnNcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KHN0YXRlLm1hdGNoZXMsIG1hdGNoPy5yb3V0ZS5pZCk7XG4gICAgICBpZiAoIShlcnJvcnMgJiYgZXJyb3JzW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdKSkge1xuICAgICAgICBlcnJvcnMgPSB7XG4gICAgICAgICAgLi4uZXJyb3JzLFxuICAgICAgICAgIFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmVycm9yLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3RhdGUuZmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gICAgfSBlbHNlIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIC8vIFNob3VsZCBuZXZlciBnZXQgaGVyZSwgcmVkaXJlY3RzIHNob3VsZCBnZXQgcHJvY2Vzc2VkIGFib3ZlLCBidXQgd2VcbiAgICAgIC8vIGtlZXAgdGhpcyB0byB0eXBlIG5hcnJvdyB0byBhIHN1Y2Nlc3MgcmVzdWx0IGluIHRoZSBlbHNlXG4gICAgICBpbnZhcmlhbnQoZmFsc2UsIFwiVW5oYW5kbGVkIGZldGNoZXIgcmV2YWxpZGF0aW9uIHJlZGlyZWN0XCIpO1xuICAgIH0gZWxzZSBpZiAoaXNEZWZlcnJlZFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAvLyBTaG91bGQgbmV2ZXIgZ2V0IGhlcmUsIGRlZmVycmVkIGRhdGEgc2hvdWxkIGJlIGF3YWl0ZWQgZm9yIGZldGNoZXJzXG4gICAgICAvLyBpbiByZXNvbHZlRGVmZXJyZWRSZXN1bHRzXG4gICAgICBpbnZhcmlhbnQoZmFsc2UsIFwiVW5oYW5kbGVkIGZldGNoZXIgZGVmZXJyZWQgZGF0YVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRvbmVGZXRjaGVyID0gZ2V0RG9uZUZldGNoZXIocmVzdWx0LmRhdGEpO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZG9uZUZldGNoZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHsgbG9hZGVyRGF0YSwgZXJyb3JzIH07XG59XG5cbmZ1bmN0aW9uIG1lcmdlTG9hZGVyRGF0YShcbiAgbG9hZGVyRGF0YTogUm91dGVEYXRhLFxuICBuZXdMb2FkZXJEYXRhOiBSb3V0ZURhdGEsXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgZXJyb3JzOiBSb3V0ZURhdGEgfCBudWxsIHwgdW5kZWZpbmVkXG4pOiBSb3V0ZURhdGEge1xuICBsZXQgbWVyZ2VkTG9hZGVyRGF0YSA9IHsgLi4ubmV3TG9hZGVyRGF0YSB9O1xuICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgbGV0IGlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgaWYgKG5ld0xvYWRlckRhdGEuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICBpZiAobmV3TG9hZGVyRGF0YVtpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBtZXJnZWRMb2FkZXJEYXRhW2lkXSA9IG5ld0xvYWRlckRhdGFbaWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8tb3AgLSB0aGlzIGlzIHNvIHdlIGlnbm9yZSBleGlzdGluZyBkYXRhIGlmIHdlIGhhdmUgYSBrZXkgaW4gdGhlXG4gICAgICAgIC8vIGluY29taW5nIG9iamVjdCB3aXRoIGFuIHVuZGVmaW5lZCB2YWx1ZSwgd2hpY2ggaXMgaG93IHdlIHVuc2V0IGEgcHJpb3JcbiAgICAgICAgLy8gbG9hZGVyRGF0YSBpZiB3ZSBlbmNvdW50ZXIgYSBsb2FkZXIgZXJyb3JcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvYWRlckRhdGFbaWRdICE9PSB1bmRlZmluZWQgJiYgbWF0Y2gucm91dGUubG9hZGVyKSB7XG4gICAgICAvLyBQcmVzZXJ2ZSBleGlzdGluZyBrZXlzIG5vdCBpbmNsdWRlZCBpbiBuZXdMb2FkZXJEYXRhIGFuZCB3aGVyZSBhIGxvYWRlclxuICAgICAgLy8gd2Fzbid0IHJlbW92ZWQgYnkgSE1SXG4gICAgICBtZXJnZWRMb2FkZXJEYXRhW2lkXSA9IGxvYWRlckRhdGFbaWRdO1xuICAgIH1cblxuICAgIGlmIChlcnJvcnMgJiYgZXJyb3JzLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgLy8gRG9uJ3Qga2VlcCBhbnkgbG9hZGVyIGRhdGEgYmVsb3cgdGhlIGJvdW5kYXJ5XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1lcmdlZExvYWRlckRhdGE7XG59XG5cbmZ1bmN0aW9uIGdldEFjdGlvbkRhdGFGb3JDb21taXQoXG4gIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFBlbmRpbmdBY3Rpb25SZXN1bHQgfCB1bmRlZmluZWRcbikge1xuICBpZiAoIXBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgcmV0dXJuIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSlcbiAgICA/IHtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IHByaW9yIGFjdGlvbkRhdGEgb24gZXJyb3JzXG4gICAgICAgIGFjdGlvbkRhdGE6IHt9LFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICBhY3Rpb25EYXRhOiB7XG4gICAgICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGEsXG4gICAgICAgIH0sXG4gICAgICB9O1xufVxuXG4vLyBGaW5kIHRoZSBuZWFyZXN0IGVycm9yIGJvdW5kYXJ5LCBsb29raW5nIHVwd2FyZHMgZnJvbSB0aGUgbGVhZiByb3V0ZSAob3IgdGhlXG4vLyByb3V0ZSBzcGVjaWZpZWQgYnkgcm91dGVJZCkgZm9yIHRoZSBjbG9zZXN0IGFuY2VzdG9yIGVycm9yIGJvdW5kYXJ5LFxuLy8gZGVmYXVsdGluZyB0byB0aGUgcm9vdCBtYXRjaFxuZnVuY3Rpb24gZmluZE5lYXJlc3RCb3VuZGFyeShcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICByb3V0ZUlkPzogc3RyaW5nXG4pOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoIHtcbiAgbGV0IGVsaWdpYmxlTWF0Y2hlcyA9IHJvdXRlSWRcbiAgICA/IG1hdGNoZXMuc2xpY2UoMCwgbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpICsgMSlcbiAgICA6IFsuLi5tYXRjaGVzXTtcbiAgcmV0dXJuIChcbiAgICBlbGlnaWJsZU1hdGNoZXMucmV2ZXJzZSgpLmZpbmQoKG0pID0+IG0ucm91dGUuaGFzRXJyb3JCb3VuZGFyeSA9PT0gdHJ1ZSkgfHxcbiAgICBtYXRjaGVzWzBdXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFNob3J0Q2lyY3VpdE1hdGNoZXMocm91dGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdKToge1xuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW107XG4gIHJvdXRlOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdDtcbn0ge1xuICAvLyBQcmVmZXIgYSByb290IGxheW91dCByb3V0ZSBpZiBwcmVzZW50LCBvdGhlcndpc2Ugc2hpbSBpbiBhIHJvdXRlIG9iamVjdFxuICBsZXQgcm91dGUgPVxuICAgIHJvdXRlcy5sZW5ndGggPT09IDFcbiAgICAgID8gcm91dGVzWzBdXG4gICAgICA6IHJvdXRlcy5maW5kKChyKSA9PiByLmluZGV4IHx8ICFyLnBhdGggfHwgci5wYXRoID09PSBcIi9cIikgfHwge1xuICAgICAgICAgIGlkOiBgX19zaGltLWVycm9yLXJvdXRlX19gLFxuICAgICAgICB9O1xuXG4gIHJldHVybiB7XG4gICAgbWF0Y2hlczogW1xuICAgICAge1xuICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICBwYXRobmFtZTogXCJcIixcbiAgICAgICAgcGF0aG5hbWVCYXNlOiBcIlwiLFxuICAgICAgICByb3V0ZSxcbiAgICAgIH0sXG4gICAgXSxcbiAgICByb3V0ZSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcihcbiAgc3RhdHVzOiBudW1iZXIsXG4gIHtcbiAgICBwYXRobmFtZSxcbiAgICByb3V0ZUlkLFxuICAgIG1ldGhvZCxcbiAgICB0eXBlLFxuICAgIG1lc3NhZ2UsXG4gIH06IHtcbiAgICBwYXRobmFtZT86IHN0cmluZztcbiAgICByb3V0ZUlkPzogc3RyaW5nO1xuICAgIG1ldGhvZD86IHN0cmluZztcbiAgICB0eXBlPzogXCJkZWZlci1hY3Rpb25cIiB8IFwiaW52YWxpZC1ib2R5XCI7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgfSA9IHt9XG4pIHtcbiAgbGV0IHN0YXR1c1RleHQgPSBcIlVua25vd24gU2VydmVyIEVycm9yXCI7XG4gIGxldCBlcnJvck1lc3NhZ2UgPSBcIlVua25vd24gQHJlbWl4LXJ1bi9yb3V0ZXIgZXJyb3JcIjtcblxuICBpZiAoc3RhdHVzID09PSA0MDApIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJCYWQgUmVxdWVzdFwiO1xuICAgIGlmIChtZXRob2QgJiYgcGF0aG5hbWUgJiYgcm91dGVJZCkge1xuICAgICAgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgYFlvdSBtYWRlIGEgJHttZXRob2R9IHJlcXVlc3QgdG8gXCIke3BhdGhuYW1lfVwiIGJ1dCBgICtcbiAgICAgICAgYGRpZCBub3QgcHJvdmlkZSBhIFxcYGxvYWRlclxcYCBmb3Igcm91dGUgXCIke3JvdXRlSWR9XCIsIGAgK1xuICAgICAgICBgc28gdGhlcmUgaXMgbm8gd2F5IHRvIGhhbmRsZSB0aGUgcmVxdWVzdC5gO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJkZWZlci1hY3Rpb25cIikge1xuICAgICAgZXJyb3JNZXNzYWdlID0gXCJkZWZlcigpIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYWN0aW9uc1wiO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJpbnZhbGlkLWJvZHlcIikge1xuICAgICAgZXJyb3JNZXNzYWdlID0gXCJVbmFibGUgdG8gZW5jb2RlIHN1Ym1pc3Npb24gYm9keVwiO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgIHN0YXR1c1RleHQgPSBcIkZvcmJpZGRlblwiO1xuICAgIGVycm9yTWVzc2FnZSA9IGBSb3V0ZSBcIiR7cm91dGVJZH1cIiBkb2VzIG5vdCBtYXRjaCBVUkwgXCIke3BhdGhuYW1lfVwiYDtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgIHN0YXR1c1RleHQgPSBcIk5vdCBGb3VuZFwiO1xuICAgIGVycm9yTWVzc2FnZSA9IGBObyByb3V0ZSBtYXRjaGVzIFVSTCBcIiR7cGF0aG5hbWV9XCJgO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDA1KSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiTWV0aG9kIE5vdCBBbGxvd2VkXCI7XG4gICAgaWYgKG1ldGhvZCAmJiBwYXRobmFtZSAmJiByb3V0ZUlkKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPVxuICAgICAgICBgWW91IG1hZGUgYSAke21ldGhvZC50b1VwcGVyQ2FzZSgpfSByZXF1ZXN0IHRvIFwiJHtwYXRobmFtZX1cIiBidXQgYCArXG4gICAgICAgIGBkaWQgbm90IHByb3ZpZGUgYW4gXFxgYWN0aW9uXFxgIGZvciByb3V0ZSBcIiR7cm91dGVJZH1cIiwgYCArXG4gICAgICAgIGBzbyB0aGVyZSBpcyBubyB3YXkgdG8gaGFuZGxlIHRoZSByZXF1ZXN0LmA7XG4gICAgfSBlbHNlIGlmIChtZXRob2QpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGBJbnZhbGlkIHJlcXVlc3QgbWV0aG9kIFwiJHttZXRob2QudG9VcHBlckNhc2UoKX1cImA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICBzdGF0dXMgfHwgNTAwLFxuICAgIHN0YXR1c1RleHQsXG4gICAgbmV3IEVycm9yKGVycm9yTWVzc2FnZSksXG4gICAgdHJ1ZVxuICApO1xufVxuXG4vLyBGaW5kIGFueSByZXR1cm5lZCByZWRpcmVjdCBlcnJvcnMsIHN0YXJ0aW5nIGZyb20gdGhlIGxvd2VzdCBtYXRjaFxuZnVuY3Rpb24gZmluZFJlZGlyZWN0KFxuICByZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0PlxuKTogeyBrZXk6IHN0cmluZzsgcmVzdWx0OiBSZWRpcmVjdFJlc3VsdCB9IHwgdW5kZWZpbmVkIHtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhyZXN1bHRzKTtcbiAgZm9yIChsZXQgaSA9IGVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBsZXQgW2tleSwgcmVzdWx0XSA9IGVudHJpZXNbaV07XG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHsga2V5LCByZXN1bHQgfTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RyaXBIYXNoRnJvbVBhdGgocGF0aDogVG8pIHtcbiAgbGV0IHBhcnNlZFBhdGggPSB0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChwYXRoKSA6IHBhdGg7XG4gIHJldHVybiBjcmVhdGVQYXRoKHsgLi4ucGFyc2VkUGF0aCwgaGFzaDogXCJcIiB9KTtcbn1cblxuZnVuY3Rpb24gaXNIYXNoQ2hhbmdlT25seShhOiBMb2NhdGlvbiwgYjogTG9jYXRpb24pOiBib29sZWFuIHtcbiAgaWYgKGEucGF0aG5hbWUgIT09IGIucGF0aG5hbWUgfHwgYS5zZWFyY2ggIT09IGIuc2VhcmNoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGEuaGFzaCA9PT0gXCJcIikge1xuICAgIC8vIC9wYWdlIC0+IC9wYWdlI2hhc2hcbiAgICByZXR1cm4gYi5oYXNoICE9PSBcIlwiO1xuICB9IGVsc2UgaWYgKGEuaGFzaCA9PT0gYi5oYXNoKSB7XG4gICAgLy8gL3BhZ2UjaGFzaCAtPiAvcGFnZSNoYXNoXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoYi5oYXNoICE9PSBcIlwiKSB7XG4gICAgLy8gL3BhZ2UjaGFzaCAtPiAvcGFnZSNvdGhlclxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gSWYgdGhlIGhhc2ggaXMgcmVtb3ZlZCB0aGUgYnJvd3NlciB3aWxsIHJlLXBlcmZvcm0gYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXJcbiAgLy8gL3BhZ2UjaGFzaCAtPiAvcGFnZVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzUHJvbWlzZTxUID0gdW5rbm93bj4odmFsOiB1bmtub3duKTogdmFsIGlzIFByb21pc2U8VD4ge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIiAmJiB2YWwgIT0gbnVsbCAmJiBcInRoZW5cIiBpbiB2YWw7XG59XG5cbmZ1bmN0aW9uIGlzRGF0YVN0cmF0ZWd5UmVzdWx0KHJlc3VsdDogdW5rbm93bik6IHJlc3VsdCBpcyBEYXRhU3RyYXRlZ3lSZXN1bHQge1xuICByZXR1cm4gKFxuICAgIHJlc3VsdCAhPSBudWxsICYmXG4gICAgdHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJlxuICAgIFwidHlwZVwiIGluIHJlc3VsdCAmJlxuICAgIFwicmVzdWx0XCIgaW4gcmVzdWx0ICYmXG4gICAgKHJlc3VsdC50eXBlID09PSBSZXN1bHRUeXBlLmRhdGEgfHwgcmVzdWx0LnR5cGUgPT09IFJlc3VsdFR5cGUuZXJyb3IpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHRSZXN1bHQocmVzdWx0OiBEYXRhU3RyYXRlZ3lSZXN1bHQpIHtcbiAgcmV0dXJuIChcbiAgICBpc1Jlc3BvbnNlKHJlc3VsdC5yZXN1bHQpICYmIHJlZGlyZWN0U3RhdHVzQ29kZXMuaGFzKHJlc3VsdC5yZXN1bHQuc3RhdHVzKVxuICApO1xufVxuXG5mdW5jdGlvbiBpc0RlZmVycmVkUmVzdWx0KHJlc3VsdDogRGF0YVJlc3VsdCk6IHJlc3VsdCBpcyBEZWZlcnJlZFJlc3VsdCB7XG4gIHJldHVybiByZXN1bHQudHlwZSA9PT0gUmVzdWx0VHlwZS5kZWZlcnJlZDtcbn1cblxuZnVuY3Rpb24gaXNFcnJvclJlc3VsdChyZXN1bHQ6IERhdGFSZXN1bHQpOiByZXN1bHQgaXMgRXJyb3JSZXN1bHQge1xuICByZXR1cm4gcmVzdWx0LnR5cGUgPT09IFJlc3VsdFR5cGUuZXJyb3I7XG59XG5cbmZ1bmN0aW9uIGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0PzogRGF0YVJlc3VsdCk6IHJlc3VsdCBpcyBSZWRpcmVjdFJlc3VsdCB7XG4gIHJldHVybiAocmVzdWx0ICYmIHJlc3VsdC50eXBlKSA9PT0gUmVzdWx0VHlwZS5yZWRpcmVjdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0YVdpdGhSZXNwb25zZUluaXQoXG4gIHZhbHVlOiBhbnlcbik6IHZhbHVlIGlzIERhdGFXaXRoUmVzcG9uc2VJbml0PHVua25vd24+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICB2YWx1ZSAhPSBudWxsICYmXG4gICAgXCJ0eXBlXCIgaW4gdmFsdWUgJiZcbiAgICBcImRhdGFcIiBpbiB2YWx1ZSAmJlxuICAgIFwiaW5pdFwiIGluIHZhbHVlICYmXG4gICAgdmFsdWUudHlwZSA9PT0gXCJEYXRhV2l0aFJlc3BvbnNlSW5pdFwiXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmVycmVkRGF0YSh2YWx1ZTogYW55KTogdmFsdWUgaXMgRGVmZXJyZWREYXRhIHtcbiAgbGV0IGRlZmVycmVkOiBEZWZlcnJlZERhdGEgPSB2YWx1ZTtcbiAgcmV0dXJuIChcbiAgICBkZWZlcnJlZCAmJlxuICAgIHR5cGVvZiBkZWZlcnJlZCA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHR5cGVvZiBkZWZlcnJlZC5kYXRhID09PSBcIm9iamVjdFwiICYmXG4gICAgdHlwZW9mIGRlZmVycmVkLnN1YnNjcmliZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgdHlwZW9mIGRlZmVycmVkLmNhbmNlbCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgdHlwZW9mIGRlZmVycmVkLnJlc29sdmVEYXRhID09PSBcImZ1bmN0aW9uXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNSZXNwb25zZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgUmVzcG9uc2Uge1xuICByZXR1cm4gKFxuICAgIHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUuc3RhdHVzID09PSBcIm51bWJlclwiICYmXG4gICAgdHlwZW9mIHZhbHVlLnN0YXR1c1RleHQgPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgdmFsdWUuaGVhZGVycyA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHR5cGVvZiB2YWx1ZS5ib2R5ICE9PSBcInVuZGVmaW5lZFwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzUmVkaXJlY3RSZXNwb25zZShyZXN1bHQ6IGFueSk6IHJlc3VsdCBpcyBSZXNwb25zZSB7XG4gIGlmICghaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbGV0IHN0YXR1cyA9IHJlc3VsdC5zdGF0dXM7XG4gIGxldCBsb2NhdGlvbiA9IHJlc3VsdC5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICByZXR1cm4gc3RhdHVzID49IDMwMCAmJiBzdGF0dXMgPD0gMzk5ICYmIGxvY2F0aW9uICE9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRNZXRob2QobWV0aG9kOiBzdHJpbmcpOiBtZXRob2QgaXMgRm9ybU1ldGhvZCB8IFY3X0Zvcm1NZXRob2Qge1xuICByZXR1cm4gdmFsaWRSZXF1ZXN0TWV0aG9kcy5oYXMobWV0aG9kLnRvTG93ZXJDYXNlKCkgYXMgRm9ybU1ldGhvZCk7XG59XG5cbmZ1bmN0aW9uIGlzTXV0YXRpb25NZXRob2QoXG4gIG1ldGhvZDogc3RyaW5nXG4pOiBtZXRob2QgaXMgTXV0YXRpb25Gb3JtTWV0aG9kIHwgVjdfTXV0YXRpb25Gb3JtTWV0aG9kIHtcbiAgcmV0dXJuIHZhbGlkTXV0YXRpb25NZXRob2RzLmhhcyhtZXRob2QudG9Mb3dlckNhc2UoKSBhcyBNdXRhdGlvbkZvcm1NZXRob2QpO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlTmF2aWdhdGlvbkRlZmVycmVkUmVzdWx0cyhcbiAgbWF0Y2hlczogKEFnbm9zdGljRGF0YVJvdXRlTWF0Y2ggfCBudWxsKVtdLFxuICByZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0PixcbiAgc2lnbmFsOiBBYm9ydFNpZ25hbCxcbiAgY3VycmVudE1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgY3VycmVudExvYWRlckRhdGE6IFJvdXRlRGF0YVxuKSB7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocmVzdWx0cyk7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGxldCBbcm91dGVJZCwgcmVzdWx0XSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIGxldCBtYXRjaCA9IG1hdGNoZXMuZmluZCgobSkgPT4gbT8ucm91dGUuaWQgPT09IHJvdXRlSWQpO1xuICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBtYXRjaCwgdGhlbiB3ZSBjYW4gaGF2ZSBhIGRlZmVycmVkIHJlc3VsdCB0byBkb1xuICAgIC8vIGFueXRoaW5nIHdpdGguICBUaGlzIGlzIGZvciByZXZhbGlkYXRpbmcgZmV0Y2hlcnMgd2hlcmUgdGhlIHJvdXRlIHdhc1xuICAgIC8vIHJlbW92ZWQgZHVyaW5nIEhNUlxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGxldCBjdXJyZW50TWF0Y2ggPSBjdXJyZW50TWF0Y2hlcy5maW5kKFxuICAgICAgKG0pID0+IG0ucm91dGUuaWQgPT09IG1hdGNoIS5yb3V0ZS5pZFxuICAgICk7XG4gICAgbGV0IGlzUmV2YWxpZGF0aW5nTG9hZGVyID1cbiAgICAgIGN1cnJlbnRNYXRjaCAhPSBudWxsICYmXG4gICAgICAhaXNOZXdSb3V0ZUluc3RhbmNlKGN1cnJlbnRNYXRjaCwgbWF0Y2gpICYmXG4gICAgICAoY3VycmVudExvYWRlckRhdGEgJiYgY3VycmVudExvYWRlckRhdGFbbWF0Y2gucm91dGUuaWRdKSAhPT0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKGlzRGVmZXJyZWRSZXN1bHQocmVzdWx0KSAmJiBpc1JldmFsaWRhdGluZ0xvYWRlcikge1xuICAgICAgLy8gTm90ZTogd2UgZG8gbm90IGhhdmUgdG8gdG91Y2ggYWN0aXZlRGVmZXJyZWRzIGhlcmUgc2luY2Ugd2UgcmFjZSB0aGVtXG4gICAgICAvLyBhZ2FpbnN0IHRoZSBzaWduYWwgaW4gcmVzb2x2ZURlZmVycmVkRGF0YSBhbmQgdGhleSdsbCBnZXQgYWJvcnRlZFxuICAgICAgLy8gdGhlcmUgaWYgbmVlZGVkXG4gICAgICBhd2FpdCByZXNvbHZlRGVmZXJyZWREYXRhKHJlc3VsdCwgc2lnbmFsLCBmYWxzZSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHRzW3JvdXRlSWRdID0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZUZldGNoZXJEZWZlcnJlZFJlc3VsdHMoXG4gIG1hdGNoZXM6IChBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoIHwgbnVsbClbXSxcbiAgcmVzdWx0czogUmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD4sXG4gIHJldmFsaWRhdGluZ0ZldGNoZXJzOiBSZXZhbGlkYXRpbmdGZXRjaGVyW11cbikge1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgbGV0IHsga2V5LCByb3V0ZUlkLCBjb250cm9sbGVyIH0gPSByZXZhbGlkYXRpbmdGZXRjaGVyc1tpbmRleF07XG4gICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNba2V5XTtcbiAgICBsZXQgbWF0Y2ggPSBtYXRjaGVzLmZpbmQoKG0pID0+IG0/LnJvdXRlLmlkID09PSByb3V0ZUlkKTtcbiAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgbWF0Y2gsIHRoZW4gd2UgY2FuIGhhdmUgYSBkZWZlcnJlZCByZXN1bHQgdG8gZG9cbiAgICAvLyBhbnl0aGluZyB3aXRoLiAgVGhpcyBpcyBmb3IgcmV2YWxpZGF0aW5nIGZldGNoZXJzIHdoZXJlIHRoZSByb3V0ZSB3YXNcbiAgICAvLyByZW1vdmVkIGR1cmluZyBITVJcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZlcnJlZFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAvLyBOb3RlOiB3ZSBkbyBub3QgaGF2ZSB0byB0b3VjaCBhY3RpdmVEZWZlcnJlZHMgaGVyZSBzaW5jZSB3ZSByYWNlIHRoZW1cbiAgICAgIC8vIGFnYWluc3QgdGhlIHNpZ25hbCBpbiByZXNvbHZlRGVmZXJyZWREYXRhIGFuZCB0aGV5J2xsIGdldCBhYm9ydGVkXG4gICAgICAvLyB0aGVyZSBpZiBuZWVkZWRcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgXCJFeHBlY3RlZCBhbiBBYm9ydENvbnRyb2xsZXIgZm9yIHJldmFsaWRhdGluZyBmZXRjaGVyIGRlZmVycmVkIHJlc3VsdFwiXG4gICAgICApO1xuICAgICAgYXdhaXQgcmVzb2x2ZURlZmVycmVkRGF0YShyZXN1bHQsIGNvbnRyb2xsZXIuc2lnbmFsLCB0cnVlKS50aGVuKFxuICAgICAgICAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0c1trZXldID0gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZURlZmVycmVkRGF0YShcbiAgcmVzdWx0OiBEZWZlcnJlZFJlc3VsdCxcbiAgc2lnbmFsOiBBYm9ydFNpZ25hbCxcbiAgdW53cmFwID0gZmFsc2Vcbik6IFByb21pc2U8U3VjY2Vzc1Jlc3VsdCB8IEVycm9yUmVzdWx0IHwgdW5kZWZpbmVkPiB7XG4gIGxldCBhYm9ydGVkID0gYXdhaXQgcmVzdWx0LmRlZmVycmVkRGF0YS5yZXNvbHZlRGF0YShzaWduYWwpO1xuICBpZiAoYWJvcnRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh1bndyYXApIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5kYXRhLFxuICAgICAgICBkYXRhOiByZXN1bHQuZGVmZXJyZWREYXRhLnVud3JhcHBlZERhdGEsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIEhhbmRsZSBhbnkgVHJhY2tlZFByb21pc2UuX2Vycm9yIHZhbHVlcyBlbmNvdW50ZXJlZCB3aGlsZSB1bndyYXBwaW5nXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICBlcnJvcjogZSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSZXN1bHRUeXBlLmRhdGEsXG4gICAgZGF0YTogcmVzdWx0LmRlZmVycmVkRGF0YS5kYXRhLFxuICB9O1xufVxuXG5mdW5jdGlvbiBoYXNOYWtlZEluZGV4UXVlcnkoc2VhcmNoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKS5nZXRBbGwoXCJpbmRleFwiKS5zb21lKCh2KSA9PiB2ID09PSBcIlwiKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0TWF0Y2goXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgbG9jYXRpb246IExvY2F0aW9uIHwgc3RyaW5nXG4pIHtcbiAgbGV0IHNlYXJjaCA9XG4gICAgdHlwZW9mIGxvY2F0aW9uID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKGxvY2F0aW9uKS5zZWFyY2ggOiBsb2NhdGlvbi5zZWFyY2g7XG4gIGlmIChcbiAgICBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuaW5kZXggJiZcbiAgICBoYXNOYWtlZEluZGV4UXVlcnkoc2VhcmNoIHx8IFwiXCIpXG4gICkge1xuICAgIC8vIFJldHVybiB0aGUgbGVhZiBpbmRleCByb3V0ZSB3aGVuIGluZGV4IGlzIHByZXNlbnRcbiAgICByZXR1cm4gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICB9XG4gIC8vIE90aGVyd2lzZSBncmFiIHRoZSBkZWVwZXN0IFwicGF0aCBjb250cmlidXRpbmdcIiBtYXRjaCAoaWdub3JpbmcgaW5kZXggYW5kXG4gIC8vIHBhdGhsZXNzIGxheW91dCByb3V0ZXMpXG4gIGxldCBwYXRoTWF0Y2hlcyA9IGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzKG1hdGNoZXMpO1xuICByZXR1cm4gcGF0aE1hdGNoZXNbcGF0aE1hdGNoZXMubGVuZ3RoIC0gMV07XG59XG5cbmZ1bmN0aW9uIGdldFN1Ym1pc3Npb25Gcm9tTmF2aWdhdGlvbihcbiAgbmF2aWdhdGlvbjogTmF2aWdhdGlvblxuKTogU3VibWlzc2lvbiB8IHVuZGVmaW5lZCB7XG4gIGxldCB7IGZvcm1NZXRob2QsIGZvcm1BY3Rpb24sIGZvcm1FbmNUeXBlLCB0ZXh0LCBmb3JtRGF0YSwganNvbiB9ID1cbiAgICBuYXZpZ2F0aW9uO1xuICBpZiAoIWZvcm1NZXRob2QgfHwgIWZvcm1BY3Rpb24gfHwgIWZvcm1FbmNUeXBlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHRleHQgIT0gbnVsbCkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHVuZGVmaW5lZCxcbiAgICAgIGpzb246IHVuZGVmaW5lZCxcbiAgICAgIHRleHQsXG4gICAgfTtcbiAgfSBlbHNlIGlmIChmb3JtRGF0YSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YSxcbiAgICAgIGpzb246IHVuZGVmaW5lZCxcbiAgICAgIHRleHQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9IGVsc2UgaWYgKGpzb24gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHVuZGVmaW5lZCxcbiAgICAgIGpzb24sXG4gICAgICB0ZXh0OiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRMb2FkaW5nTmF2aWdhdGlvbihcbiAgbG9jYXRpb246IExvY2F0aW9uLFxuICBzdWJtaXNzaW9uPzogU3VibWlzc2lvblxuKTogTmF2aWdhdGlvblN0YXRlc1tcIkxvYWRpbmdcIl0ge1xuICBpZiAoc3VibWlzc2lvbikge1xuICAgIGxldCBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uU3RhdGVzW1wiTG9hZGluZ1wiXSA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCxcbiAgICB9O1xuICAgIHJldHVybiBuYXZpZ2F0aW9uO1xuICB9IGVsc2Uge1xuICAgIGxldCBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uU3RhdGVzW1wiTG9hZGluZ1wiXSA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZm9ybU1ldGhvZDogdW5kZWZpbmVkLFxuICAgICAgZm9ybUFjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgZm9ybUVuY1R5cGU6IHVuZGVmaW5lZCxcbiAgICAgIGZvcm1EYXRhOiB1bmRlZmluZWQsXG4gICAgICBqc29uOiB1bmRlZmluZWQsXG4gICAgICB0ZXh0OiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICByZXR1cm4gbmF2aWdhdGlvbjtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTdWJtaXR0aW5nTmF2aWdhdGlvbihcbiAgbG9jYXRpb246IExvY2F0aW9uLFxuICBzdWJtaXNzaW9uOiBTdWJtaXNzaW9uXG4pOiBOYXZpZ2F0aW9uU3RhdGVzW1wiU3VibWl0dGluZ1wiXSB7XG4gIGxldCBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uU3RhdGVzW1wiU3VibWl0dGluZ1wiXSA9IHtcbiAgICBzdGF0ZTogXCJzdWJtaXR0aW5nXCIsXG4gICAgbG9jYXRpb24sXG4gICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LFxuICB9O1xuICByZXR1cm4gbmF2aWdhdGlvbjtcbn1cblxuZnVuY3Rpb24gZ2V0TG9hZGluZ0ZldGNoZXIoXG4gIHN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uLFxuICBkYXRhPzogRmV0Y2hlcltcImRhdGFcIl1cbik6IEZldGNoZXJTdGF0ZXNbXCJMb2FkaW5nXCJdIHtcbiAgaWYgKHN1Ym1pc3Npb24pIHtcbiAgICBsZXQgZmV0Y2hlcjogRmV0Y2hlclN0YXRlc1tcIkxvYWRpbmdcIl0gPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LFxuICAgICAgZGF0YSxcbiAgICB9O1xuICAgIHJldHVybiBmZXRjaGVyO1xuICB9IGVsc2Uge1xuICAgIGxldCBmZXRjaGVyOiBGZXRjaGVyU3RhdGVzW1wiTG9hZGluZ1wiXSA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGZvcm1NZXRob2Q6IHVuZGVmaW5lZCxcbiAgICAgIGZvcm1BY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgIGZvcm1FbmNUeXBlOiB1bmRlZmluZWQsXG4gICAgICBmb3JtRGF0YTogdW5kZWZpbmVkLFxuICAgICAganNvbjogdW5kZWZpbmVkLFxuICAgICAgdGV4dDogdW5kZWZpbmVkLFxuICAgICAgZGF0YSxcbiAgICB9O1xuICAgIHJldHVybiBmZXRjaGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFN1Ym1pdHRpbmdGZXRjaGVyKFxuICBzdWJtaXNzaW9uOiBTdWJtaXNzaW9uLFxuICBleGlzdGluZ0ZldGNoZXI/OiBGZXRjaGVyXG4pOiBGZXRjaGVyU3RhdGVzW1wiU3VibWl0dGluZ1wiXSB7XG4gIGxldCBmZXRjaGVyOiBGZXRjaGVyU3RhdGVzW1wiU3VibWl0dGluZ1wiXSA9IHtcbiAgICBzdGF0ZTogXCJzdWJtaXR0aW5nXCIsXG4gICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LFxuICAgIGRhdGE6IGV4aXN0aW5nRmV0Y2hlciA/IGV4aXN0aW5nRmV0Y2hlci5kYXRhIDogdW5kZWZpbmVkLFxuICB9O1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cblxuZnVuY3Rpb24gZ2V0RG9uZUZldGNoZXIoZGF0YTogRmV0Y2hlcltcImRhdGFcIl0pOiBGZXRjaGVyU3RhdGVzW1wiSWRsZVwiXSB7XG4gIGxldCBmZXRjaGVyOiBGZXRjaGVyU3RhdGVzW1wiSWRsZVwiXSA9IHtcbiAgICBzdGF0ZTogXCJpZGxlXCIsXG4gICAgZm9ybU1ldGhvZDogdW5kZWZpbmVkLFxuICAgIGZvcm1BY3Rpb246IHVuZGVmaW5lZCxcbiAgICBmb3JtRW5jVHlwZTogdW5kZWZpbmVkLFxuICAgIGZvcm1EYXRhOiB1bmRlZmluZWQsXG4gICAganNvbjogdW5kZWZpbmVkLFxuICAgIHRleHQ6IHVuZGVmaW5lZCxcbiAgICBkYXRhLFxuICB9O1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZUFwcGxpZWRUcmFuc2l0aW9ucyhcbiAgX3dpbmRvdzogV2luZG93LFxuICB0cmFuc2l0aW9uczogTWFwPHN0cmluZywgU2V0PHN0cmluZz4+XG4pIHtcbiAgdHJ5IHtcbiAgICBsZXQgc2Vzc2lvblBvc2l0aW9ucyA9IF93aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcbiAgICAgIFRSQU5TSVRJT05TX1NUT1JBR0VfS0VZXG4gICAgKTtcbiAgICBpZiAoc2Vzc2lvblBvc2l0aW9ucykge1xuICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHNlc3Npb25Qb3NpdGlvbnMpO1xuICAgICAgZm9yIChsZXQgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGpzb24gfHwge30pKSB7XG4gICAgICAgIGlmICh2ICYmIEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgICB0cmFuc2l0aW9ucy5zZXQoaywgbmV3IFNldCh2IHx8IFtdKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBuby1vcCwgdXNlIGRlZmF1bHQgZW1wdHkgb2JqZWN0XG4gIH1cbn1cblxuZnVuY3Rpb24gcGVyc2lzdEFwcGxpZWRUcmFuc2l0aW9ucyhcbiAgX3dpbmRvdzogV2luZG93LFxuICB0cmFuc2l0aW9uczogTWFwPHN0cmluZywgU2V0PHN0cmluZz4+XG4pIHtcbiAgaWYgKHRyYW5zaXRpb25zLnNpemUgPiAwKSB7XG4gICAgbGV0IGpzb246IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPiA9IHt9O1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiB0cmFuc2l0aW9ucykge1xuICAgICAganNvbltrXSA9IFsuLi52XTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIF93aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgVFJBTlNJVElPTlNfU1RPUkFHRV9LRVksXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGpzb24pXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgYEZhaWxlZCB0byBzYXZlIGFwcGxpZWQgdmlldyB0cmFuc2l0aW9ucyBpbiBzZXNzaW9uU3RvcmFnZSAoJHtlcnJvcn0pLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4vLyNlbmRyZWdpb25cbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB0eXBlIHtcbiAgQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0LFxuICBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3QsXG4gIEFnbm9zdGljUm91dGVNYXRjaCxcbiAgSGlzdG9yeSxcbiAgTGF6eVJvdXRlRnVuY3Rpb24sXG4gIExvY2F0aW9uLFxuICBBY3Rpb24gYXMgTmF2aWdhdGlvblR5cGUsXG4gIFJlbGF0aXZlUm91dGluZ1R5cGUsXG4gIFJvdXRlcixcbiAgU3RhdGljSGFuZGxlckNvbnRleHQsXG4gIFRvLFxuICBUcmFja2VkUHJvbWlzZSxcbn0gZnJvbSBcIkByZW1peC1ydW4vcm91dGVyXCI7XG5cbi8vIENyZWF0ZSByZWFjdC1zcGVjaWZpYyB0eXBlcyBmcm9tIHRoZSBhZ25vc3RpYyB0eXBlcyBpbiBAcmVtaXgtcnVuL3JvdXRlciB0b1xuLy8gZXhwb3J0IGZyb20gcmVhY3Qtcm91dGVyXG5leHBvcnQgaW50ZXJmYWNlIEluZGV4Um91dGVPYmplY3Qge1xuICBjYXNlU2Vuc2l0aXZlPzogQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0W1wiY2FzZVNlbnNpdGl2ZVwiXTtcbiAgcGF0aD86IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdFtcInBhdGhcIl07XG4gIGlkPzogQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0W1wiaWRcIl07XG4gIGxvYWRlcj86IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdFtcImxvYWRlclwiXTtcbiAgYWN0aW9uPzogQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0W1wiYWN0aW9uXCJdO1xuICBoYXNFcnJvckJvdW5kYXJ5PzogQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0W1wiaGFzRXJyb3JCb3VuZGFyeVwiXTtcbiAgc2hvdWxkUmV2YWxpZGF0ZT86IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdFtcInNob3VsZFJldmFsaWRhdGVcIl07XG4gIGhhbmRsZT86IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdFtcImhhbmRsZVwiXTtcbiAgaW5kZXg6IHRydWU7XG4gIGNoaWxkcmVuPzogdW5kZWZpbmVkO1xuICBlbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIGVycm9yRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIENvbXBvbmVudD86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBIeWRyYXRlRmFsbGJhY2s/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgRXJyb3JCb3VuZGFyeT86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBsYXp5PzogTGF6eVJvdXRlRnVuY3Rpb248Um91dGVPYmplY3Q+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vbkluZGV4Um91dGVPYmplY3Qge1xuICBjYXNlU2Vuc2l0aXZlPzogQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0W1wiY2FzZVNlbnNpdGl2ZVwiXTtcbiAgcGF0aD86IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdFtcInBhdGhcIl07XG4gIGlkPzogQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0W1wiaWRcIl07XG4gIGxvYWRlcj86IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdFtcImxvYWRlclwiXTtcbiAgYWN0aW9uPzogQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0W1wiYWN0aW9uXCJdO1xuICBoYXNFcnJvckJvdW5kYXJ5PzogQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0W1wiaGFzRXJyb3JCb3VuZGFyeVwiXTtcbiAgc2hvdWxkUmV2YWxpZGF0ZT86IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdFtcInNob3VsZFJldmFsaWRhdGVcIl07XG4gIGhhbmRsZT86IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdFtcImhhbmRsZVwiXTtcbiAgaW5kZXg/OiBmYWxzZTtcbiAgY2hpbGRyZW4/OiBSb3V0ZU9iamVjdFtdO1xuICBlbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIGVycm9yRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIENvbXBvbmVudD86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBIeWRyYXRlRmFsbGJhY2s/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgRXJyb3JCb3VuZGFyeT86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBsYXp5PzogTGF6eVJvdXRlRnVuY3Rpb248Um91dGVPYmplY3Q+O1xufVxuXG5leHBvcnQgdHlwZSBSb3V0ZU9iamVjdCA9IEluZGV4Um91dGVPYmplY3QgfCBOb25JbmRleFJvdXRlT2JqZWN0O1xuXG5leHBvcnQgdHlwZSBEYXRhUm91dGVPYmplY3QgPSBSb3V0ZU9iamVjdCAmIHtcbiAgY2hpbGRyZW4/OiBEYXRhUm91dGVPYmplY3RbXTtcbiAgaWQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVNYXRjaDxcbiAgUGFyYW1LZXkgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG4gIFJvdXRlT2JqZWN0VHlwZSBleHRlbmRzIFJvdXRlT2JqZWN0ID0gUm91dGVPYmplY3Rcbj4gZXh0ZW5kcyBBZ25vc3RpY1JvdXRlTWF0Y2g8UGFyYW1LZXksIFJvdXRlT2JqZWN0VHlwZT4ge31cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhUm91dGVNYXRjaCBleHRlbmRzIFJvdXRlTWF0Y2g8c3RyaW5nLCBEYXRhUm91dGVPYmplY3Q+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVJvdXRlckNvbnRleHRPYmplY3RcbiAgLy8gT21pdCBgZnV0dXJlYCBzaW5jZSB0aG9zZSBjYW4gYmUgcHVsbGVkIGZyb20gdGhlIGByb3V0ZXJgXG4gIC8vIGBOYXZpZ2F0aW9uQ29udGV4dGAgbmVlZHMgZnV0dXJlIHNpbmNlIGl0IGRvZXNuJ3QgaGF2ZSBhIGByb3V0ZXJgIGluIGFsbCBjYXNlc1xuICBleHRlbmRzIE9taXQ8TmF2aWdhdGlvbkNvbnRleHRPYmplY3QsIFwiZnV0dXJlXCI+IHtcbiAgcm91dGVyOiBSb3V0ZXI7XG4gIHN0YXRpY0NvbnRleHQ/OiBTdGF0aWNIYW5kbGVyQ29udGV4dDtcbn1cblxuZXhwb3J0IGNvbnN0IERhdGFSb3V0ZXJDb250ZXh0ID1cbiAgUmVhY3QuY3JlYXRlQ29udGV4dDxEYXRhUm91dGVyQ29udGV4dE9iamVjdCB8IG51bGw+KG51bGwpO1xuaWYgKF9fREVWX18pIHtcbiAgRGF0YVJvdXRlckNvbnRleHQuZGlzcGxheU5hbWUgPSBcIkRhdGFSb3V0ZXJcIjtcbn1cblxuZXhwb3J0IGNvbnN0IERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFxuICBSb3V0ZXJbXCJzdGF0ZVwiXSB8IG51bGxcbj4obnVsbCk7XG5pZiAoX19ERVZfXykge1xuICBEYXRhUm91dGVyU3RhdGVDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJEYXRhUm91dGVyU3RhdGVcIjtcbn1cblxuZXhwb3J0IGNvbnN0IEF3YWl0Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8VHJhY2tlZFByb21pc2UgfCBudWxsPihudWxsKTtcbmlmIChfX0RFVl9fKSB7XG4gIEF3YWl0Q29udGV4dC5kaXNwbGF5TmFtZSA9IFwiQXdhaXRcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0ZU9wdGlvbnMge1xuICByZXBsYWNlPzogYm9vbGVhbjtcbiAgc3RhdGU/OiBhbnk7XG4gIHByZXZlbnRTY3JvbGxSZXNldD86IGJvb2xlYW47XG4gIHJlbGF0aXZlPzogUmVsYXRpdmVSb3V0aW5nVHlwZTtcbiAgZmx1c2hTeW5jPzogYm9vbGVhbjtcbiAgdmlld1RyYW5zaXRpb24/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEEgTmF2aWdhdG9yIGlzIGEgXCJsb2NhdGlvbiBjaGFuZ2VyXCI7IGl0J3MgaG93IHlvdSBnZXQgdG8gZGlmZmVyZW50IGxvY2F0aW9ucy5cbiAqXG4gKiBFdmVyeSBoaXN0b3J5IGluc3RhbmNlIGNvbmZvcm1zIHRvIHRoZSBOYXZpZ2F0b3IgaW50ZXJmYWNlLCBidXQgdGhlXG4gKiBkaXN0aW5jdGlvbiBpcyB1c2VmdWwgcHJpbWFyaWx5IHdoZW4gaXQgY29tZXMgdG8gdGhlIGxvdy1sZXZlbCBgPFJvdXRlcj5gIEFQSVxuICogd2hlcmUgYm90aCB0aGUgbG9jYXRpb24gYW5kIGEgbmF2aWdhdG9yIG11c3QgYmUgcHJvdmlkZWQgc2VwYXJhdGVseSBpbiBvcmRlclxuICogdG8gYXZvaWQgXCJ0ZWFyaW5nXCIgdGhhdCBtYXkgb2NjdXIgaW4gYSBzdXNwZW5zZS1lbmFibGVkIGFwcCBpZiB0aGUgYWN0aW9uXG4gKiBhbmQvb3IgbG9jYXRpb24gd2VyZSB0byBiZSByZWFkIGRpcmVjdGx5IGZyb20gdGhlIGhpc3RvcnkgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdG9yIHtcbiAgY3JlYXRlSHJlZjogSGlzdG9yeVtcImNyZWF0ZUhyZWZcIl07XG4gIC8vIE9wdGlvbmFsIGZvciBiYWNrd2FyZHMtY29tcGF0IHdpdGggUm91dGVyL0hpc3RvcnlSb3V0ZXIgdXNhZ2UgKGVkZ2UgY2FzZSlcbiAgZW5jb2RlTG9jYXRpb24/OiBIaXN0b3J5W1wiZW5jb2RlTG9jYXRpb25cIl07XG4gIGdvOiBIaXN0b3J5W1wiZ29cIl07XG4gIHB1c2godG86IFRvLCBzdGF0ZT86IGFueSwgb3B0cz86IE5hdmlnYXRlT3B0aW9ucyk6IHZvaWQ7XG4gIHJlcGxhY2UodG86IFRvLCBzdGF0ZT86IGFueSwgb3B0cz86IE5hdmlnYXRlT3B0aW9ucyk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBOYXZpZ2F0aW9uQ29udGV4dE9iamVjdCB7XG4gIGJhc2VuYW1lOiBzdHJpbmc7XG4gIG5hdmlnYXRvcjogTmF2aWdhdG9yO1xuICBzdGF0aWM6IGJvb2xlYW47XG4gIGZ1dHVyZToge1xuICAgIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBib29sZWFuO1xuICB9O1xufVxuXG5leHBvcnQgY29uc3QgTmF2aWdhdGlvbkNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PE5hdmlnYXRpb25Db250ZXh0T2JqZWN0PihcbiAgbnVsbCFcbik7XG5cbmlmIChfX0RFVl9fKSB7XG4gIE5hdmlnYXRpb25Db250ZXh0LmRpc3BsYXlOYW1lID0gXCJOYXZpZ2F0aW9uXCI7XG59XG5cbmludGVyZmFjZSBMb2NhdGlvbkNvbnRleHRPYmplY3Qge1xuICBsb2NhdGlvbjogTG9jYXRpb247XG4gIG5hdmlnYXRpb25UeXBlOiBOYXZpZ2F0aW9uVHlwZTtcbn1cblxuZXhwb3J0IGNvbnN0IExvY2F0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8TG9jYXRpb25Db250ZXh0T2JqZWN0PihcbiAgbnVsbCFcbik7XG5cbmlmIChfX0RFVl9fKSB7XG4gIExvY2F0aW9uQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiTG9jYXRpb25cIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZUNvbnRleHRPYmplY3Qge1xuICBvdXRsZXQ6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGw7XG4gIG1hdGNoZXM6IFJvdXRlTWF0Y2hbXTtcbiAgaXNEYXRhUm91dGU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBSb3V0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFJvdXRlQ29udGV4dE9iamVjdD4oe1xuICBvdXRsZXQ6IG51bGwsXG4gIG1hdGNoZXM6IFtdLFxuICBpc0RhdGFSb3V0ZTogZmFsc2UsXG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgUm91dGVDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJSb3V0ZVwiO1xufVxuXG5leHBvcnQgY29uc3QgUm91dGVFcnJvckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PGFueT4obnVsbCk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFJvdXRlRXJyb3JDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJSb3V0ZUVycm9yXCI7XG59XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7XG4gIEJsb2NrZXIsXG4gIEJsb2NrZXJGdW5jdGlvbixcbiAgTG9jYXRpb24sXG4gIFBhcmFtUGFyc2VLZXksXG4gIFBhcmFtcyxcbiAgUGF0aCxcbiAgUGF0aE1hdGNoLFxuICBQYXRoUGF0dGVybixcbiAgUmVsYXRpdmVSb3V0aW5nVHlwZSxcbiAgUm91dGVyIGFzIFJlbWl4Um91dGVyLFxuICBSZXZhbGlkYXRpb25TdGF0ZSxcbiAgVG8sXG4gIFVJTWF0Y2gsXG59IGZyb20gXCJAcmVtaXgtcnVuL3JvdXRlclwiO1xuaW1wb3J0IHtcbiAgSURMRV9CTE9DS0VSLFxuICBBY3Rpb24gYXMgTmF2aWdhdGlvblR5cGUsXG4gIFVOU0FGRV9jb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaCBhcyBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaCxcbiAgVU5TQUZFX2RlY29kZVBhdGggYXMgZGVjb2RlUGF0aCxcbiAgVU5TQUZFX2dldFJlc29sdmVUb01hdGNoZXMgYXMgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyxcbiAgVU5TQUZFX2ludmFyaWFudCBhcyBpbnZhcmlhbnQsXG4gIGlzUm91dGVFcnJvclJlc3BvbnNlLFxuICBqb2luUGF0aHMsXG4gIG1hdGNoUGF0aCxcbiAgbWF0Y2hSb3V0ZXMsXG4gIHBhcnNlUGF0aCxcbiAgcmVzb2x2ZVRvLFxuICBzdHJpcEJhc2VuYW1lLFxuICBVTlNBRkVfd2FybmluZyBhcyB3YXJuaW5nLFxufSBmcm9tIFwiQHJlbWl4LXJ1bi9yb3V0ZXJcIjtcblxuaW1wb3J0IHR5cGUge1xuICBEYXRhUm91dGVNYXRjaCxcbiAgTmF2aWdhdGVPcHRpb25zLFxuICBSb3V0ZUNvbnRleHRPYmplY3QsXG4gIFJvdXRlTWF0Y2gsXG4gIFJvdXRlT2JqZWN0LFxufSBmcm9tIFwiLi9jb250ZXh0XCI7XG5pbXBvcnQge1xuICBBd2FpdENvbnRleHQsXG4gIERhdGFSb3V0ZXJDb250ZXh0LFxuICBEYXRhUm91dGVyU3RhdGVDb250ZXh0LFxuICBMb2NhdGlvbkNvbnRleHQsXG4gIE5hdmlnYXRpb25Db250ZXh0LFxuICBSb3V0ZUNvbnRleHQsXG4gIFJvdXRlRXJyb3JDb250ZXh0LFxufSBmcm9tIFwiLi9jb250ZXh0XCI7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZnVsbCBocmVmIGZvciB0aGUgZ2l2ZW4gXCJ0b1wiIHZhbHVlLiBUaGlzIGlzIHVzZWZ1bCBmb3IgYnVpbGRpbmdcbiAqIGN1c3RvbSBsaW5rcyB0aGF0IGFyZSBhbHNvIGFjY2Vzc2libGUgYW5kIHByZXNlcnZlIHJpZ2h0LWNsaWNrIGJlaGF2aW9yLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLWhyZWZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUhyZWYoXG4gIHRvOiBUbyxcbiAgeyByZWxhdGl2ZSB9OiB7IHJlbGF0aXZlPzogUmVsYXRpdmVSb3V0aW5nVHlwZSB9ID0ge31cbik6IHN0cmluZyB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZUhyZWYoKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcblxuICBsZXQgeyBiYXNlbmFtZSwgbmF2aWdhdG9yIH0gPSBSZWFjdC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgaGFzaCwgcGF0aG5hbWUsIHNlYXJjaCB9ID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlIH0pO1xuXG4gIGxldCBqb2luZWRQYXRobmFtZSA9IHBhdGhuYW1lO1xuXG4gIC8vIElmIHdlJ3JlIG9wZXJhdGluZyB3aXRoaW4gYSBiYXNlbmFtZSwgcHJlcGVuZCBpdCB0byB0aGUgcGF0aG5hbWUgcHJpb3JcbiAgLy8gdG8gY3JlYXRpbmcgdGhlIGhyZWYuICBJZiB0aGlzIGlzIGEgcm9vdCBuYXZpZ2F0aW9uLCB0aGVuIGp1c3QgdXNlIHRoZSByYXdcbiAgLy8gYmFzZW5hbWUgd2hpY2ggYWxsb3dzIHRoZSBiYXNlbmFtZSB0byBoYXZlIGZ1bGwgY29udHJvbCBvdmVyIHRoZSBwcmVzZW5jZVxuICAvLyBvZiBhIHRyYWlsaW5nIHNsYXNoIG9uIHJvb3QgbGlua3NcbiAgaWYgKGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgIGpvaW5lZFBhdGhuYW1lID1cbiAgICAgIHBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aG5hbWVdKTtcbiAgfVxuXG4gIHJldHVybiBuYXZpZ2F0b3IuY3JlYXRlSHJlZih7IHBhdGhuYW1lOiBqb2luZWRQYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGNvbXBvbmVudCBpcyBhIGRlc2NlbmRhbnQgb2YgYSBgPFJvdXRlcj5gLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLWluLXJvdXRlci1jb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VJblJvdXRlckNvbnRleHQoKTogYm9vbGVhbiB7XG4gIHJldHVybiBSZWFjdC51c2VDb250ZXh0KExvY2F0aW9uQ29udGV4dCkgIT0gbnVsbDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IGxvY2F0aW9uIG9iamVjdCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgY3VycmVudCBVUkwgaW4gd2ViXG4gKiBicm93c2Vycy5cbiAqXG4gKiBOb3RlOiBJZiB5b3UncmUgdXNpbmcgdGhpcyBpdCBtYXkgbWVhbiB5b3UncmUgZG9pbmcgc29tZSBvZiB5b3VyIG93blxuICogXCJyb3V0aW5nXCIgaW4geW91ciBhcHAsIGFuZCB3ZSdkIGxpa2UgdG8ga25vdyB3aGF0IHlvdXIgdXNlIGNhc2UgaXMuIFdlIG1heVxuICogYmUgYWJsZSB0byBwcm92aWRlIHNvbWV0aGluZyBoaWdoZXItbGV2ZWwgdG8gYmV0dGVyIHN1aXQgeW91ciBuZWVkcy5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1sb2NhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTG9jYXRpb24oKTogTG9jYXRpb24ge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VMb2NhdGlvbigpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuXG4gIHJldHVybiBSZWFjdC51c2VDb250ZXh0KExvY2F0aW9uQ29udGV4dCkubG9jYXRpb247XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBuYXZpZ2F0aW9uIGFjdGlvbiB3aGljaCBkZXNjcmliZXMgaG93IHRoZSByb3V0ZXIgY2FtZSB0b1xuICogdGhlIGN1cnJlbnQgbG9jYXRpb24sIGVpdGhlciBieSBhIHBvcCwgcHVzaCwgb3IgcmVwbGFjZSBvbiB0aGUgaGlzdG9yeSBzdGFjay5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1uYXZpZ2F0aW9uLXR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU5hdmlnYXRpb25UeXBlKCk6IE5hdmlnYXRpb25UeXBlIHtcbiAgcmV0dXJuIFJlYWN0LnVzZUNvbnRleHQoTG9jYXRpb25Db250ZXh0KS5uYXZpZ2F0aW9uVHlwZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgUGF0aE1hdGNoIG9iamVjdCBpZiB0aGUgZ2l2ZW4gcGF0dGVybiBtYXRjaGVzIHRoZSBjdXJyZW50IFVSTC5cbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBjb21wb25lbnRzIHRoYXQgbmVlZCB0byBrbm93IFwiYWN0aXZlXCIgc3RhdGUsIGUuZy5cbiAqIGA8TmF2TGluaz5gLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLW1hdGNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNYXRjaDxcbiAgUGFyYW1LZXkgZXh0ZW5kcyBQYXJhbVBhcnNlS2V5PFBhdGg+LFxuICBQYXRoIGV4dGVuZHMgc3RyaW5nXG4+KHBhdHRlcm46IFBhdGhQYXR0ZXJuPFBhdGg+IHwgUGF0aCk6IFBhdGhNYXRjaDxQYXJhbUtleT4gfCBudWxsIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlTWF0Y2goKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcblxuICBsZXQgeyBwYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gbWF0Y2hQYXRoPFBhcmFtS2V5LCBQYXRoPihwYXR0ZXJuLCBkZWNvZGVQYXRoKHBhdGhuYW1lKSksXG4gICAgW3BhdGhuYW1lLCBwYXR0ZXJuXVxuICApO1xufVxuXG4vKipcbiAqIFRoZSBpbnRlcmZhY2UgZm9yIHRoZSBuYXZpZ2F0ZSgpIGZ1bmN0aW9uIHJldHVybmVkIGZyb20gdXNlTmF2aWdhdGUoKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0ZUZ1bmN0aW9uIHtcbiAgKHRvOiBUbywgb3B0aW9ucz86IE5hdmlnYXRlT3B0aW9ucyk6IHZvaWQ7XG4gIChkZWx0YTogbnVtYmVyKTogdm9pZDtcbn1cblxuY29uc3QgbmF2aWdhdGVFZmZlY3RXYXJuaW5nID1cbiAgYFlvdSBzaG91bGQgY2FsbCBuYXZpZ2F0ZSgpIGluIGEgUmVhY3QudXNlRWZmZWN0KCksIG5vdCB3aGVuIGAgK1xuICBgeW91ciBjb21wb25lbnQgaXMgZmlyc3QgcmVuZGVyZWQuYDtcblxuLy8gTXV0ZSB3YXJuaW5ncyBmb3IgY2FsbHMgdG8gdXNlTmF2aWdhdGUgaW4gU1NSIGVudmlyb25tZW50c1xuZnVuY3Rpb24gdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChcbiAgY2I6IFBhcmFtZXRlcnM8dHlwZW9mIFJlYWN0LnVzZUxheW91dEVmZmVjdD5bMF1cbikge1xuICBsZXQgaXNTdGF0aWMgPSBSZWFjdC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KS5zdGF0aWM7XG4gIGlmICghaXNTdGF0aWMpIHtcbiAgICAvLyBXZSBzaG91bGQgYmUgYWJsZSB0byBnZXQgcmlkIG9mIHRoaXMgb25jZSByZWFjdCAxOC4zIGlzIHJlbGVhc2VkXG4gICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yNjM5NVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgIFJlYWN0LnVzZUxheW91dEVmZmVjdChjYik7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGltcGVyYXRpdmUgbWV0aG9kIGZvciBjaGFuZ2luZyB0aGUgbG9jYXRpb24uIFVzZWQgYnkgYDxMaW5rPmBzLCBidXRcbiAqIG1heSBhbHNvIGJlIHVzZWQgYnkgb3RoZXIgZWxlbWVudHMgdG8gY2hhbmdlIHRoZSBsb2NhdGlvbi5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1uYXZpZ2F0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTmF2aWdhdGUoKTogTmF2aWdhdGVGdW5jdGlvbiB7XG4gIGxldCB7IGlzRGF0YVJvdXRlIH0gPSBSZWFjdC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIC8vIENvbmRpdGlvbmFsIHVzYWdlIGlzIE9LIGhlcmUgYmVjYXVzZSB0aGUgdXNhZ2Ugb2YgYSBkYXRhIHJvdXRlciBpcyBzdGF0aWNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gIHJldHVybiBpc0RhdGFSb3V0ZSA/IHVzZU5hdmlnYXRlU3RhYmxlKCkgOiB1c2VOYXZpZ2F0ZVVuc3RhYmxlKCk7XG59XG5cbmZ1bmN0aW9uIHVzZU5hdmlnYXRlVW5zdGFibGUoKTogTmF2aWdhdGVGdW5jdGlvbiB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZU5hdmlnYXRlKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG5cbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGxldCB7IGJhc2VuYW1lLCBmdXR1cmUsIG5hdmlnYXRvciB9ID0gUmVhY3QudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0LnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHsgcGF0aG5hbWU6IGxvY2F0aW9uUGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG5cbiAgbGV0IHJvdXRlUGF0aG5hbWVzSnNvbiA9IEpTT04uc3RyaW5naWZ5KFxuICAgIGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcywgZnV0dXJlLnY3X3JlbGF0aXZlU3BsYXRQYXRoKVxuICApO1xuXG4gIGxldCBhY3RpdmVSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBhY3RpdmVSZWYuY3VycmVudCA9IHRydWU7XG4gIH0pO1xuXG4gIGxldCBuYXZpZ2F0ZTogTmF2aWdhdGVGdW5jdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICh0bzogVG8gfCBudW1iZXIsIG9wdGlvbnM6IE5hdmlnYXRlT3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICB3YXJuaW5nKGFjdGl2ZVJlZi5jdXJyZW50LCBuYXZpZ2F0ZUVmZmVjdFdhcm5pbmcpO1xuXG4gICAgICAvLyBTaG9ydCBjaXJjdWl0IGhlcmUgc2luY2UgaWYgdGhpcyBoYXBwZW5zIG9uIGZpcnN0IHJlbmRlciB0aGUgbmF2aWdhdGVcbiAgICAgIC8vIGlzIHVzZWxlc3MgYmVjYXVzZSB3ZSBoYXZlbid0IHdpcmVkIHVwIG91ciBoaXN0b3J5IGxpc3RlbmVyIHlldFxuICAgICAgaWYgKCFhY3RpdmVSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIG5hdmlnYXRvci5nbyh0byk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHBhdGggPSByZXNvbHZlVG8oXG4gICAgICAgIHRvLFxuICAgICAgICBKU09OLnBhcnNlKHJvdXRlUGF0aG5hbWVzSnNvbiksXG4gICAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICAgIG9wdGlvbnMucmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICAgICApO1xuXG4gICAgICAvLyBJZiB3ZSdyZSBvcGVyYXRpbmcgd2l0aGluIGEgYmFzZW5hbWUsIHByZXBlbmQgaXQgdG8gdGhlIHBhdGhuYW1lIHByaW9yXG4gICAgICAvLyB0byBoYW5kaW5nIG9mZiB0byBoaXN0b3J5IChidXQgb25seSBpZiB3ZSdyZSBub3QgaW4gYSBkYXRhIHJvdXRlcixcbiAgICAgIC8vIG90aGVyd2lzZSBpdCdsbCBwcmVwZW5kIHRoZSBiYXNlbmFtZSBpbnNpZGUgb2YgdGhlIHJvdXRlcikuXG4gICAgICAvLyBJZiB0aGlzIGlzIGEgcm9vdCBuYXZpZ2F0aW9uLCB0aGVuIHdlIG5hdmlnYXRlIHRvIHRoZSByYXcgYmFzZW5hbWVcbiAgICAgIC8vIHdoaWNoIGFsbG93cyB0aGUgYmFzZW5hbWUgdG8gaGF2ZSBmdWxsIGNvbnRyb2wgb3ZlciB0aGUgcHJlc2VuY2Ugb2YgYVxuICAgICAgLy8gdHJhaWxpbmcgc2xhc2ggb24gcm9vdCBsaW5rc1xuICAgICAgaWYgKGRhdGFSb3V0ZXJDb250ZXh0ID09IG51bGwgJiYgYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgICAgIHBhdGgucGF0aG5hbWUgPVxuICAgICAgICAgIHBhdGgucGF0aG5hbWUgPT09IFwiL1wiXG4gICAgICAgICAgICA/IGJhc2VuYW1lXG4gICAgICAgICAgICA6IGpvaW5QYXRocyhbYmFzZW5hbWUsIHBhdGgucGF0aG5hbWVdKTtcbiAgICAgIH1cblxuICAgICAgKCEhb3B0aW9ucy5yZXBsYWNlID8gbmF2aWdhdG9yLnJlcGxhY2UgOiBuYXZpZ2F0b3IucHVzaCkoXG4gICAgICAgIHBhdGgsXG4gICAgICAgIG9wdGlvbnMuc3RhdGUsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgfSxcbiAgICBbXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIG5hdmlnYXRvcixcbiAgICAgIHJvdXRlUGF0aG5hbWVzSnNvbixcbiAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICBkYXRhUm91dGVyQ29udGV4dCxcbiAgICBdXG4gICk7XG5cbiAgcmV0dXJuIG5hdmlnYXRlO1xufVxuXG5jb25zdCBPdXRsZXRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDx1bmtub3duPihudWxsKTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb250ZXh0IChpZiBwcm92aWRlZCkgZm9yIHRoZSBjaGlsZCByb3V0ZSBhdCB0aGlzIGxldmVsIG9mIHRoZSByb3V0ZVxuICogaGllcmFyY2h5LlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2Utb3V0bGV0LWNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU91dGxldENvbnRleHQ8Q29udGV4dCA9IHVua25vd24+KCk6IENvbnRleHQge1xuICByZXR1cm4gUmVhY3QudXNlQ29udGV4dChPdXRsZXRDb250ZXh0KSBhcyBDb250ZXh0O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGVsZW1lbnQgZm9yIHRoZSBjaGlsZCByb3V0ZSBhdCB0aGlzIGxldmVsIG9mIHRoZSByb3V0ZVxuICogaGllcmFyY2h5LiBVc2VkIGludGVybmFsbHkgYnkgYDxPdXRsZXQ+YCB0byByZW5kZXIgY2hpbGQgcm91dGVzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLW91dGxldFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlT3V0bGV0KGNvbnRleHQ/OiB1bmtub3duKTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIGxldCBvdXRsZXQgPSBSZWFjdC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCkub3V0bGV0O1xuICBpZiAob3V0bGV0KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxPdXRsZXRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT57b3V0bGV0fTwvT3V0bGV0Q29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuICB9XG4gIHJldHVybiBvdXRsZXQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBvYmplY3Qgb2Yga2V5L3ZhbHVlIHBhaXJzIG9mIHRoZSBkeW5hbWljIHBhcmFtcyBmcm9tIHRoZSBjdXJyZW50XG4gKiBVUkwgdGhhdCB3ZXJlIG1hdGNoZWQgYnkgdGhlIHJvdXRlIHBhdGguXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2UtcGFyYW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQYXJhbXM8XG4gIFBhcmFtc09yS2V5IGV4dGVuZHMgc3RyaW5nIHwgUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPiA9IHN0cmluZ1xuPigpOiBSZWFkb25seTxcbiAgW1BhcmFtc09yS2V5XSBleHRlbmRzIFtzdHJpbmddID8gUGFyYW1zPFBhcmFtc09yS2V5PiA6IFBhcnRpYWw8UGFyYW1zT3JLZXk+XG4+IHtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgcm91dGVNYXRjaCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIHJvdXRlTWF0Y2ggPyAocm91dGVNYXRjaC5wYXJhbXMgYXMgYW55KSA6IHt9O1xufVxuXG4vKipcbiAqIFJlc29sdmVzIHRoZSBwYXRobmFtZSBvZiB0aGUgZ2l2ZW4gYHRvYCB2YWx1ZSBhZ2FpbnN0IHRoZSBjdXJyZW50IGxvY2F0aW9uLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLXJlc29sdmVkLXBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlc29sdmVkUGF0aChcbiAgdG86IFRvLFxuICB7IHJlbGF0aXZlIH06IHsgcmVsYXRpdmU/OiBSZWxhdGl2ZVJvdXRpbmdUeXBlIH0gPSB7fVxuKTogUGF0aCB7XG4gIGxldCB7IGZ1dHVyZSB9ID0gUmVhY3QudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0LnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHsgcGF0aG5hbWU6IGxvY2F0aW9uUGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCByb3V0ZVBhdGhuYW1lc0pzb24gPSBKU09OLnN0cmluZ2lmeShcbiAgICBnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMsIGZ1dHVyZS52N19yZWxhdGl2ZVNwbGF0UGF0aClcbiAgKTtcblxuICByZXR1cm4gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgcmVzb2x2ZVRvKFxuICAgICAgICB0byxcbiAgICAgICAgSlNPTi5wYXJzZShyb3V0ZVBhdGhuYW1lc0pzb24pLFxuICAgICAgICBsb2NhdGlvblBhdGhuYW1lLFxuICAgICAgICByZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgICAgICksXG4gICAgW3RvLCByb3V0ZVBhdGhuYW1lc0pzb24sIGxvY2F0aW9uUGF0aG5hbWUsIHJlbGF0aXZlXVxuICApO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGVsZW1lbnQgb2YgdGhlIHJvdXRlIHRoYXQgbWF0Y2hlZCB0aGUgY3VycmVudCBsb2NhdGlvbiwgcHJlcGFyZWRcbiAqIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dCB0byByZW5kZXIgdGhlIHJlbWFpbmRlciBvZiB0aGUgcm91dGUgdHJlZS4gUm91dGVcbiAqIGVsZW1lbnRzIGluIHRoZSB0cmVlIG11c3QgcmVuZGVyIGFuIGA8T3V0bGV0PmAgdG8gcmVuZGVyIHRoZWlyIGNoaWxkIHJvdXRlJ3NcbiAqIGVsZW1lbnQuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2Utcm91dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSb3V0ZXMoXG4gIHJvdXRlczogUm91dGVPYmplY3RbXSxcbiAgbG9jYXRpb25Bcmc/OiBQYXJ0aWFsPExvY2F0aW9uPiB8IHN0cmluZ1xuKTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIHJldHVybiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcpO1xufVxuXG4vLyBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiB3aXRoIGFjY2VwdCBvcHRpb25hbCBwYXJhbSBmb3IgUm91dGVyUHJvdmlkZXIgdXNhZ2VcbmV4cG9ydCBmdW5jdGlvbiB1c2VSb3V0ZXNJbXBsKFxuICByb3V0ZXM6IFJvdXRlT2JqZWN0W10sXG4gIGxvY2F0aW9uQXJnPzogUGFydGlhbDxMb2NhdGlvbj4gfCBzdHJpbmcsXG4gIGRhdGFSb3V0ZXJTdGF0ZT86IFJlbWl4Um91dGVyW1wic3RhdGVcIl0sXG4gIGZ1dHVyZT86IFJlbWl4Um91dGVyW1wiZnV0dXJlXCJdXG4pOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlUm91dGVzKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG5cbiAgbGV0IHsgbmF2aWdhdG9yIH0gPSBSZWFjdC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgbWF0Y2hlczogcGFyZW50TWF0Y2hlcyB9ID0gUmVhY3QudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgcm91dGVNYXRjaCA9IHBhcmVudE1hdGNoZXNbcGFyZW50TWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgbGV0IHBhcmVudFBhcmFtcyA9IHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhcmFtcyA6IHt9O1xuICBsZXQgcGFyZW50UGF0aG5hbWUgPSByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXRobmFtZSA6IFwiL1wiO1xuICBsZXQgcGFyZW50UGF0aG5hbWVCYXNlID0gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGF0aG5hbWVCYXNlIDogXCIvXCI7XG4gIGxldCBwYXJlbnRSb3V0ZSA9IHJvdXRlTWF0Y2ggJiYgcm91dGVNYXRjaC5yb3V0ZTtcblxuICBpZiAoX19ERVZfXykge1xuICAgIC8vIFlvdSB3b24ndCBnZXQgYSB3YXJuaW5nIGFib3V0IDIgZGlmZmVyZW50IDxSb3V0ZXM+IHVuZGVyIGEgPFJvdXRlPlxuICAgIC8vIHdpdGhvdXQgYSB0cmFpbGluZyAqLCBidXQgdGhpcyBpcyBhIGJlc3QtZWZmb3J0IHdhcm5pbmcgYW55d2F5IHNpbmNlIHdlXG4gICAgLy8gY2Fubm90IGV2ZW4gZ2l2ZSB0aGUgd2FybmluZyB1bmxlc3MgdGhleSBsYW5kIGF0IHRoZSBwYXJlbnQgcm91dGUuXG4gICAgLy9cbiAgICAvLyBFeGFtcGxlOlxuICAgIC8vXG4gICAgLy8gPFJvdXRlcz5cbiAgICAvLyAgIHsvKiBUaGlzIHJvdXRlIHBhdGggTVVTVCBlbmQgd2l0aCAvKiBiZWNhdXNlIG90aGVyd2lzZVxuICAgIC8vICAgICAgIGl0IHdpbGwgbmV2ZXIgbWF0Y2ggL2Jsb2cvcG9zdC8xMjMgKi99XG4gICAgLy8gICA8Um91dGUgcGF0aD1cImJsb2dcIiBlbGVtZW50PXs8QmxvZyAvPn0gLz5cbiAgICAvLyAgIDxSb3V0ZSBwYXRoPVwiYmxvZy9mZWVkXCIgZWxlbWVudD17PEJsb2dGZWVkIC8+fSAvPlxuICAgIC8vIDwvUm91dGVzPlxuICAgIC8vXG4gICAgLy8gZnVuY3Rpb24gQmxvZygpIHtcbiAgICAvLyAgIHJldHVybiAoXG4gICAgLy8gICAgIDxSb3V0ZXM+XG4gICAgLy8gICAgICAgPFJvdXRlIHBhdGg9XCJwb3N0LzppZFwiIGVsZW1lbnQ9ezxQb3N0IC8+fSAvPlxuICAgIC8vICAgICA8L1JvdXRlcz5cbiAgICAvLyAgICk7XG4gICAgLy8gfVxuICAgIGxldCBwYXJlbnRQYXRoID0gKHBhcmVudFJvdXRlICYmIHBhcmVudFJvdXRlLnBhdGgpIHx8IFwiXCI7XG4gICAgd2FybmluZ09uY2UoXG4gICAgICBwYXJlbnRQYXRobmFtZSxcbiAgICAgICFwYXJlbnRSb3V0ZSB8fCBwYXJlbnRQYXRoLmVuZHNXaXRoKFwiKlwiKSxcbiAgICAgIGBZb3UgcmVuZGVyZWQgZGVzY2VuZGFudCA8Um91dGVzPiAob3IgY2FsbGVkIFxcYHVzZVJvdXRlcygpXFxgKSBhdCBgICtcbiAgICAgICAgYFwiJHtwYXJlbnRQYXRobmFtZX1cIiAodW5kZXIgPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGh9XCI+KSBidXQgdGhlIGAgK1xuICAgICAgICBgcGFyZW50IHJvdXRlIHBhdGggaGFzIG5vIHRyYWlsaW5nIFwiKlwiLiBUaGlzIG1lYW5zIGlmIHlvdSBuYXZpZ2F0ZSBgICtcbiAgICAgICAgYGRlZXBlciwgdGhlIHBhcmVudCB3b24ndCBtYXRjaCBhbnltb3JlIGFuZCB0aGVyZWZvcmUgdGhlIGNoaWxkIGAgK1xuICAgICAgICBgcm91dGVzIHdpbGwgbmV2ZXIgcmVuZGVyLlxcblxcbmAgK1xuICAgICAgICBgUGxlYXNlIGNoYW5nZSB0aGUgcGFyZW50IDxSb3V0ZSBwYXRoPVwiJHtwYXJlbnRQYXRofVwiPiB0byA8Um91dGUgYCArXG4gICAgICAgIGBwYXRoPVwiJHtwYXJlbnRQYXRoID09PSBcIi9cIiA/IFwiKlwiIDogYCR7cGFyZW50UGF0aH0vKmB9XCI+LmBcbiAgICApO1xuICB9XG5cbiAgbGV0IGxvY2F0aW9uRnJvbUNvbnRleHQgPSB1c2VMb2NhdGlvbigpO1xuXG4gIGxldCBsb2NhdGlvbjtcbiAgaWYgKGxvY2F0aW9uQXJnKSB7XG4gICAgbGV0IHBhcnNlZExvY2F0aW9uQXJnID1cbiAgICAgIHR5cGVvZiBsb2NhdGlvbkFyZyA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbkFyZykgOiBsb2NhdGlvbkFyZztcblxuICAgIGludmFyaWFudChcbiAgICAgIHBhcmVudFBhdGhuYW1lQmFzZSA9PT0gXCIvXCIgfHxcbiAgICAgICAgcGFyc2VkTG9jYXRpb25BcmcucGF0aG5hbWU/LnN0YXJ0c1dpdGgocGFyZW50UGF0aG5hbWVCYXNlKSxcbiAgICAgIGBXaGVuIG92ZXJyaWRpbmcgdGhlIGxvY2F0aW9uIHVzaW5nIFxcYDxSb3V0ZXMgbG9jYXRpb24+XFxgIG9yIFxcYHVzZVJvdXRlcyhyb3V0ZXMsIGxvY2F0aW9uKVxcYCwgYCArXG4gICAgICAgIGB0aGUgbG9jYXRpb24gcGF0aG5hbWUgbXVzdCBiZWdpbiB3aXRoIHRoZSBwb3J0aW9uIG9mIHRoZSBVUkwgcGF0aG5hbWUgdGhhdCB3YXMgYCArXG4gICAgICAgIGBtYXRjaGVkIGJ5IGFsbCBwYXJlbnQgcm91dGVzLiBUaGUgY3VycmVudCBwYXRobmFtZSBiYXNlIGlzIFwiJHtwYXJlbnRQYXRobmFtZUJhc2V9XCIgYCArXG4gICAgICAgIGBidXQgcGF0aG5hbWUgXCIke3BhcnNlZExvY2F0aW9uQXJnLnBhdGhuYW1lfVwiIHdhcyBnaXZlbiBpbiB0aGUgXFxgbG9jYXRpb25cXGAgcHJvcC5gXG4gICAgKTtcblxuICAgIGxvY2F0aW9uID0gcGFyc2VkTG9jYXRpb25Bcmc7XG4gIH0gZWxzZSB7XG4gICAgbG9jYXRpb24gPSBsb2NhdGlvbkZyb21Db250ZXh0O1xuICB9XG5cbiAgbGV0IHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUgfHwgXCIvXCI7XG5cbiAgbGV0IHJlbWFpbmluZ1BhdGhuYW1lID0gcGF0aG5hbWU7XG4gIGlmIChwYXJlbnRQYXRobmFtZUJhc2UgIT09IFwiL1wiKSB7XG4gICAgLy8gRGV0ZXJtaW5lIHRoZSByZW1haW5pbmcgcGF0aG5hbWUgYnkgcmVtb3ZpbmcgdGhlICMgb2YgVVJMIHNlZ21lbnRzIHRoZVxuICAgIC8vIHBhcmVudFBhdGhuYW1lQmFzZSBoYXMsIGluc3RlYWQgb2YgcmVtb3ZpbmcgYmFzZWQgb24gY2hhcmFjdGVyIGNvdW50LlxuICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB3ZSBjYW4ndCBndWFyYW50ZWUgdGhhdCBpbmNvbWluZy9vdXRnb2luZyBlbmNvZGluZ3MvXG4gICAgLy8gZGVjb2RpbmdzIHdpbGwgbWF0Y2ggZXhhY3RseS5cbiAgICAvLyBXZSBkZWNvZGUgcGF0aHMgYmVmb3JlIG1hdGNoaW5nIG9uIGEgcGVyLXNlZ21lbnQgYmFzaXMgd2l0aFxuICAgIC8vIGRlY29kZVVSSUNvbXBvbmVudCgpLCBidXQgd2UgcmUtZW5jb2RlIHBhdGhuYW1lcyB2aWEgYG5ldyBVUkwoKWAgc28gdGhleVxuICAgIC8vIG1hdGNoIHdoYXQgYHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZWAgd291bGQgcmVmbGVjdC4gIFRob3NlIGRvbid0IDEwMCVcbiAgICAvLyBhbGlnbiB3aGVuIGl0IGNvbWVzIHRvIGVuY29kZWQgVVJJIGNoYXJhY3RlcnMgc3VjaCBhcyAlIGFuZCAmLlxuICAgIC8vXG4gICAgLy8gU28gd2UgbWF5IGVuZCB1cCB3aXRoOlxuICAgIC8vICAgcGF0aG5hbWU6ICAgICAgICAgICBcIi9kZXNjZW5kYW50L2ElMjViL21hdGNoXCJcbiAgICAvLyAgIHBhcmVudFBhdGhuYW1lQmFzZTogXCIvZGVzY2VuZGFudC9hJWJcIlxuICAgIC8vXG4gICAgLy8gQW5kIHRoZSBkaXJlY3Qgc3Vic3RyaW5nIHJlbW92YWwgYXBwcm9hY2ggd29uJ3Qgd29yayA6L1xuICAgIGxldCBwYXJlbnRTZWdtZW50cyA9IHBhcmVudFBhdGhuYW1lQmFzZS5yZXBsYWNlKC9eXFwvLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgIGxldCBzZWdtZW50cyA9IHBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCBcIlwiKS5zcGxpdChcIi9cIik7XG4gICAgcmVtYWluaW5nUGF0aG5hbWUgPSBcIi9cIiArIHNlZ21lbnRzLnNsaWNlKHBhcmVudFNlZ21lbnRzLmxlbmd0aCkuam9pbihcIi9cIik7XG4gIH1cblxuICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlcywgeyBwYXRobmFtZTogcmVtYWluaW5nUGF0aG5hbWUgfSk7XG5cbiAgaWYgKF9fREVWX18pIHtcbiAgICB3YXJuaW5nKFxuICAgICAgcGFyZW50Um91dGUgfHwgbWF0Y2hlcyAhPSBudWxsLFxuICAgICAgYE5vIHJvdXRlcyBtYXRjaGVkIGxvY2F0aW9uIFwiJHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH0ke2xvY2F0aW9uLmhhc2h9XCIgYFxuICAgICk7XG5cbiAgICB3YXJuaW5nKFxuICAgICAgbWF0Y2hlcyA9PSBudWxsIHx8XG4gICAgICAgIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5lbGVtZW50ICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLkNvbXBvbmVudCAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5sYXp5ICE9PSB1bmRlZmluZWQsXG4gICAgICBgTWF0Y2hlZCBsZWFmIHJvdXRlIGF0IGxvY2F0aW9uIFwiJHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH0ke2xvY2F0aW9uLmhhc2h9XCIgYCArXG4gICAgICAgIGBkb2VzIG5vdCBoYXZlIGFuIGVsZW1lbnQgb3IgQ29tcG9uZW50LiBUaGlzIG1lYW5zIGl0IHdpbGwgcmVuZGVyIGFuIDxPdXRsZXQgLz4gd2l0aCBhIGAgK1xuICAgICAgICBgbnVsbCB2YWx1ZSBieSBkZWZhdWx0IHJlc3VsdGluZyBpbiBhbiBcImVtcHR5XCIgcGFnZS5gXG4gICAgKTtcbiAgfVxuXG4gIGxldCByZW5kZXJlZE1hdGNoZXMgPSBfcmVuZGVyTWF0Y2hlcyhcbiAgICBtYXRjaGVzICYmXG4gICAgICBtYXRjaGVzLm1hcCgobWF0Y2gpID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIG1hdGNoLCB7XG4gICAgICAgICAgcGFyYW1zOiBPYmplY3QuYXNzaWduKHt9LCBwYXJlbnRQYXJhbXMsIG1hdGNoLnBhcmFtcyksXG4gICAgICAgICAgcGF0aG5hbWU6IGpvaW5QYXRocyhbXG4gICAgICAgICAgICBwYXJlbnRQYXRobmFtZUJhc2UsXG4gICAgICAgICAgICAvLyBSZS1lbmNvZGUgcGF0aG5hbWVzIHRoYXQgd2VyZSBkZWNvZGVkIGluc2lkZSBtYXRjaFJvdXRlc1xuICAgICAgICAgICAgbmF2aWdhdG9yLmVuY29kZUxvY2F0aW9uXG4gICAgICAgICAgICAgID8gbmF2aWdhdG9yLmVuY29kZUxvY2F0aW9uKG1hdGNoLnBhdGhuYW1lKS5wYXRobmFtZVxuICAgICAgICAgICAgICA6IG1hdGNoLnBhdGhuYW1lLFxuICAgICAgICAgIF0pLFxuICAgICAgICAgIHBhdGhuYW1lQmFzZTpcbiAgICAgICAgICAgIG1hdGNoLnBhdGhuYW1lQmFzZSA9PT0gXCIvXCJcbiAgICAgICAgICAgICAgPyBwYXJlbnRQYXRobmFtZUJhc2VcbiAgICAgICAgICAgICAgOiBqb2luUGF0aHMoW1xuICAgICAgICAgICAgICAgICAgcGFyZW50UGF0aG5hbWVCYXNlLFxuICAgICAgICAgICAgICAgICAgLy8gUmUtZW5jb2RlIHBhdGhuYW1lcyB0aGF0IHdlcmUgZGVjb2RlZCBpbnNpZGUgbWF0Y2hSb3V0ZXNcbiAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5lbmNvZGVMb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICA/IG5hdmlnYXRvci5lbmNvZGVMb2NhdGlvbihtYXRjaC5wYXRobmFtZUJhc2UpLnBhdGhuYW1lXG4gICAgICAgICAgICAgICAgICAgIDogbWF0Y2gucGF0aG5hbWVCYXNlLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICBwYXJlbnRNYXRjaGVzLFxuICAgIGRhdGFSb3V0ZXJTdGF0ZSxcbiAgICBmdXR1cmVcbiAgKTtcblxuICAvLyBXaGVuIGEgdXNlciBwYXNzZXMgaW4gYSBgbG9jYXRpb25BcmdgLCB0aGUgYXNzb2NpYXRlZCByb3V0ZXMgbmVlZCB0b1xuICAvLyBiZSB3cmFwcGVkIGluIGEgbmV3IGBMb2NhdGlvbkNvbnRleHQuUHJvdmlkZXJgIGluIG9yZGVyIGZvciBgdXNlTG9jYXRpb25gXG4gIC8vIHRvIHVzZSB0aGUgc2NvcGVkIGxvY2F0aW9uIGluc3RlYWQgb2YgdGhlIGdsb2JhbCBsb2NhdGlvbi5cbiAgaWYgKGxvY2F0aW9uQXJnICYmIHJlbmRlcmVkTWF0Y2hlcykge1xuICAgIHJldHVybiAoXG4gICAgICA8TG9jYXRpb25Db250ZXh0LlByb3ZpZGVyXG4gICAgICAgIHZhbHVlPXt7XG4gICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgICAgIHNlYXJjaDogXCJcIixcbiAgICAgICAgICAgIGhhc2g6IFwiXCIsXG4gICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGtleTogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAuLi5sb2NhdGlvbixcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5hdmlnYXRpb25UeXBlOiBOYXZpZ2F0aW9uVHlwZS5Qb3AsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHtyZW5kZXJlZE1hdGNoZXN9XG4gICAgICA8L0xvY2F0aW9uQ29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHJlbmRlcmVkTWF0Y2hlcztcbn1cblxuZnVuY3Rpb24gRGVmYXVsdEVycm9yQ29tcG9uZW50KCkge1xuICBsZXQgZXJyb3IgPSB1c2VSb3V0ZUVycm9yKCk7XG4gIGxldCBtZXNzYWdlID0gaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpXG4gICAgPyBgJHtlcnJvci5zdGF0dXN9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gXG4gICAgOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgPyBlcnJvci5tZXNzYWdlXG4gICAgOiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG4gIGxldCBzdGFjayA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IG51bGw7XG4gIGxldCBsaWdodGdyZXkgPSBcInJnYmEoMjAwLDIwMCwyMDAsIDAuNSlcIjtcbiAgbGV0IHByZVN0eWxlcyA9IHsgcGFkZGluZzogXCIwLjVyZW1cIiwgYmFja2dyb3VuZENvbG9yOiBsaWdodGdyZXkgfTtcbiAgbGV0IGNvZGVTdHlsZXMgPSB7IHBhZGRpbmc6IFwiMnB4IDRweFwiLCBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Z3JleSB9O1xuXG4gIGxldCBkZXZJbmZvID0gbnVsbDtcbiAgaWYgKF9fREVWX18pIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJFcnJvciBoYW5kbGVkIGJ5IFJlYWN0IFJvdXRlciBkZWZhdWx0IEVycm9yQm91bmRhcnk6XCIsXG4gICAgICBlcnJvclxuICAgICk7XG5cbiAgICBkZXZJbmZvID0gKFxuICAgICAgPD5cbiAgICAgICAgPHA+8J+SvyBIZXkgZGV2ZWxvcGVyIPCfkYs8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIFlvdSBjYW4gcHJvdmlkZSBhIHdheSBiZXR0ZXIgVVggdGhhbiB0aGlzIHdoZW4geW91ciBhcHAgdGhyb3dzIGVycm9yc1xuICAgICAgICAgIGJ5IHByb3ZpZGluZyB5b3VyIG93biA8Y29kZSBzdHlsZT17Y29kZVN0eWxlc30+RXJyb3JCb3VuZGFyeTwvY29kZT4gb3J7XCIgXCJ9XG4gICAgICAgICAgPGNvZGUgc3R5bGU9e2NvZGVTdHlsZXN9PmVycm9yRWxlbWVudDwvY29kZT4gcHJvcCBvbiB5b3VyIHJvdXRlLlxuICAgICAgICA8L3A+XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGgyPlVuZXhwZWN0ZWQgQXBwbGljYXRpb24gRXJyb3IhPC9oMj5cbiAgICAgIDxoMyBzdHlsZT17eyBmb250U3R5bGU6IFwiaXRhbGljXCIgfX0+e21lc3NhZ2V9PC9oMz5cbiAgICAgIHtzdGFjayA/IDxwcmUgc3R5bGU9e3ByZVN0eWxlc30+e3N0YWNrfTwvcHJlPiA6IG51bGx9XG4gICAgICB7ZGV2SW5mb31cbiAgICA8Lz5cbiAgKTtcbn1cblxuY29uc3QgZGVmYXVsdEVycm9yRWxlbWVudCA9IDxEZWZhdWx0RXJyb3JDb21wb25lbnQgLz47XG5cbnR5cGUgUmVuZGVyRXJyb3JCb3VuZGFyeVByb3BzID0gUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48e1xuICBsb2NhdGlvbjogTG9jYXRpb247XG4gIHJldmFsaWRhdGlvbjogUmV2YWxpZGF0aW9uU3RhdGU7XG4gIGVycm9yOiBhbnk7XG4gIGNvbXBvbmVudDogUmVhY3QuUmVhY3ROb2RlO1xuICByb3V0ZUNvbnRleHQ6IFJvdXRlQ29udGV4dE9iamVjdDtcbn0+O1xuXG50eXBlIFJlbmRlckVycm9yQm91bmRhcnlTdGF0ZSA9IHtcbiAgbG9jYXRpb246IExvY2F0aW9uO1xuICByZXZhbGlkYXRpb246IFJldmFsaWRhdGlvblN0YXRlO1xuICBlcnJvcjogYW55O1xufTtcblxuZXhwb3J0IGNsYXNzIFJlbmRlckVycm9yQm91bmRhcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8XG4gIFJlbmRlckVycm9yQm91bmRhcnlQcm9wcyxcbiAgUmVuZGVyRXJyb3JCb3VuZGFyeVN0YXRlXG4+IHtcbiAgY29uc3RydWN0b3IocHJvcHM6IFJlbmRlckVycm9yQm91bmRhcnlQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uLFxuICAgICAgcmV2YWxpZGF0aW9uOiBwcm9wcy5yZXZhbGlkYXRpb24sXG4gICAgICBlcnJvcjogcHJvcHMuZXJyb3IsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3I6IGFueSkge1xuICAgIHJldHVybiB7IGVycm9yOiBlcnJvciB9O1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICBwcm9wczogUmVuZGVyRXJyb3JCb3VuZGFyeVByb3BzLFxuICAgIHN0YXRlOiBSZW5kZXJFcnJvckJvdW5kYXJ5U3RhdGVcbiAgKSB7XG4gICAgLy8gV2hlbiB3ZSBnZXQgaW50byBhbiBlcnJvciBzdGF0ZSwgdGhlIHVzZXIgd2lsbCBsaWtlbHkgY2xpY2sgXCJiYWNrXCIgdG8gdGhlXG4gICAgLy8gcHJldmlvdXMgcGFnZSB0aGF0IGRpZG4ndCBoYXZlIGFuIGVycm9yLiBCZWNhdXNlIHRoaXMgd3JhcHMgdGhlIGVudGlyZVxuICAgIC8vIGFwcGxpY2F0aW9uLCB0aGF0IHdpbGwgaGF2ZSBubyBlZmZlY3QtLXRoZSBlcnJvciBwYWdlIGNvbnRpbnVlcyB0byBkaXNwbGF5LlxuICAgIC8vIFRoaXMgZ2l2ZXMgdXMgYSBtZWNoYW5pc20gdG8gcmVjb3ZlciBmcm9tIHRoZSBlcnJvciB3aGVuIHRoZSBsb2NhdGlvbiBjaGFuZ2VzLlxuICAgIC8vXG4gICAgLy8gV2hldGhlciB3ZSdyZSBpbiBhbiBlcnJvciBzdGF0ZSBvciBub3QsIHdlIHVwZGF0ZSB0aGUgbG9jYXRpb24gaW4gc3RhdGVcbiAgICAvLyBzbyB0aGF0IHdoZW4gd2UgYXJlIGluIGFuIGVycm9yIHN0YXRlLCBpdCBnZXRzIHJlc2V0IHdoZW4gYSBuZXcgbG9jYXRpb25cbiAgICAvLyBjb21lcyBpbiBhbmQgdGhlIHVzZXIgcmVjb3ZlcnMgZnJvbSB0aGUgZXJyb3IuXG4gICAgaWYgKFxuICAgICAgc3RhdGUubG9jYXRpb24gIT09IHByb3BzLmxvY2F0aW9uIHx8XG4gICAgICAoc3RhdGUucmV2YWxpZGF0aW9uICE9PSBcImlkbGVcIiAmJiBwcm9wcy5yZXZhbGlkYXRpb24gPT09IFwiaWRsZVwiKVxuICAgICkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IHByb3BzLmVycm9yLFxuICAgICAgICBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24sXG4gICAgICAgIHJldmFsaWRhdGlvbjogcHJvcHMucmV2YWxpZGF0aW9uLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSdyZSBub3QgY2hhbmdpbmcgbG9jYXRpb25zLCBwcmVzZXJ2ZSB0aGUgbG9jYXRpb24gYnV0IHN0aWxsIHN1cmZhY2VcbiAgICAvLyBhbnkgbmV3IGVycm9ycyB0aGF0IG1heSBjb21lIHRocm91Z2guIFdlIHJldGFpbiB0aGUgZXhpc3RpbmcgZXJyb3IsIHdlIGRvXG4gICAgLy8gdGhpcyBiZWNhdXNlIHRoZSBlcnJvciBwcm92aWRlZCBmcm9tIHRoZSBhcHAgc3RhdGUgbWF5IGJlIGNsZWFyZWQgd2l0aG91dFxuICAgIC8vIHRoZSBsb2NhdGlvbiBjaGFuZ2luZy5cbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IHByb3BzLmVycm9yICE9PSB1bmRlZmluZWQgPyBwcm9wcy5lcnJvciA6IHN0YXRlLmVycm9yLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgcmV2YWxpZGF0aW9uOiBwcm9wcy5yZXZhbGlkYXRpb24gfHwgc3RhdGUucmV2YWxpZGF0aW9uLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRDYXRjaChlcnJvcjogYW55LCBlcnJvckluZm86IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlJlYWN0IFJvdXRlciBjYXVnaHQgdGhlIGZvbGxvd2luZyBlcnJvciBkdXJpbmcgcmVuZGVyXCIsXG4gICAgICBlcnJvcixcbiAgICAgIGVycm9ySW5mb1xuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZXJyb3IgIT09IHVuZGVmaW5lZCA/IChcbiAgICAgIDxSb3V0ZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3RoaXMucHJvcHMucm91dGVDb250ZXh0fT5cbiAgICAgICAgPFJvdXRlRXJyb3JDb250ZXh0LlByb3ZpZGVyXG4gICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZXJyb3J9XG4gICAgICAgICAgY2hpbGRyZW49e3RoaXMucHJvcHMuY29tcG9uZW50fVxuICAgICAgICAvPlxuICAgICAgPC9Sb3V0ZUNvbnRleHQuUHJvdmlkZXI+XG4gICAgKSA6IChcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICApO1xuICB9XG59XG5cbmludGVyZmFjZSBSZW5kZXJlZFJvdXRlUHJvcHMge1xuICByb3V0ZUNvbnRleHQ6IFJvdXRlQ29udGV4dE9iamVjdDtcbiAgbWF0Y2g6IFJvdXRlTWF0Y2g8c3RyaW5nLCBSb3V0ZU9iamVjdD47XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xufVxuXG5mdW5jdGlvbiBSZW5kZXJlZFJvdXRlKHsgcm91dGVDb250ZXh0LCBtYXRjaCwgY2hpbGRyZW4gfTogUmVuZGVyZWRSb3V0ZVByb3BzKSB7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuXG4gIC8vIFRyYWNrIGhvdyBkZWVwIHdlIGdvdCBpbiBvdXIgcmVuZGVyIHBhc3MgdG8gZW11bGF0ZSBTU1IgY29tcG9uZW50RGlkQ2F0Y2hcbiAgLy8gaW4gYSBEYXRhU3RhdGljUm91dGVyXG4gIGlmIChcbiAgICBkYXRhUm91dGVyQ29udGV4dCAmJlxuICAgIGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpYyAmJlxuICAgIGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpY0NvbnRleHQgJiZcbiAgICAobWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IG1hdGNoLnJvdXRlLkVycm9yQm91bmRhcnkpXG4gICkge1xuICAgIGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpY0NvbnRleHQuX2RlZXBlc3RSZW5kZXJlZEJvdW5kYXJ5SWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFJvdXRlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17cm91dGVDb250ZXh0fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1JvdXRlQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9yZW5kZXJNYXRjaGVzKFxuICBtYXRjaGVzOiBSb3V0ZU1hdGNoW10gfCBudWxsLFxuICBwYXJlbnRNYXRjaGVzOiBSb3V0ZU1hdGNoW10gPSBbXSxcbiAgZGF0YVJvdXRlclN0YXRlOiBSZW1peFJvdXRlcltcInN0YXRlXCJdIHwgbnVsbCA9IG51bGwsXG4gIGZ1dHVyZTogUmVtaXhSb3V0ZXJbXCJmdXR1cmVcIl0gfCBudWxsID0gbnVsbFxuKTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIGlmIChtYXRjaGVzID09IG51bGwpIHtcbiAgICBpZiAoIWRhdGFSb3V0ZXJTdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGRhdGFSb3V0ZXJTdGF0ZS5lcnJvcnMpIHtcbiAgICAgIC8vIERvbid0IGJhaWwgaWYgd2UgaGF2ZSBkYXRhIHJvdXRlciBlcnJvcnMgc28gd2UgY2FuIHJlbmRlciB0aGVtIGluIHRoZVxuICAgICAgLy8gYm91bmRhcnkuICBVc2UgdGhlIHByZS1tYXRjaGVkIChvciBzaGltbWVkKSBtYXRjaGVzXG4gICAgICBtYXRjaGVzID0gZGF0YVJvdXRlclN0YXRlLm1hdGNoZXMgYXMgRGF0YVJvdXRlTWF0Y2hbXTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZnV0dXJlPy52N19wYXJ0aWFsSHlkcmF0aW9uICYmXG4gICAgICBwYXJlbnRNYXRjaGVzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgIWRhdGFSb3V0ZXJTdGF0ZS5pbml0aWFsaXplZCAmJlxuICAgICAgZGF0YVJvdXRlclN0YXRlLm1hdGNoZXMubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgLy8gRG9uJ3QgYmFpbCBpZiB3ZSdyZSBpbml0aWFsaXppbmcgd2l0aCBwYXJ0aWFsIGh5ZHJhdGlvbiBhbmQgd2UgaGF2ZVxuICAgICAgLy8gcm91dGVyIG1hdGNoZXMuICBUaGF0IG1lYW5zIHdlJ3JlIGFjdGl2ZWx5IHJ1bm5pbmcgYHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uYFxuICAgICAgLy8gc28gd2Ugc2hvdWxkIHJlbmRlciBkb3duIHRoZSBwYXJ0aWFsIG1hdGNoZXMgdG8gdGhlIGFwcHJvcHJpYXRlXG4gICAgICAvLyBgSHlkcmF0ZUZhbGxiYWNrYC4gIFdlIG9ubHkgZG8gdGhpcyBpZiBgcGFyZW50TWF0Y2hlc2AgaXMgZW1wdHkgc28gaXRcbiAgICAgIC8vIG9ubHkgaW1wYWN0cyB0aGUgcm9vdCBtYXRjaGVzIGZvciBgUm91dGVyUHJvdmlkZXJgIGFuZCBubyBkZXNjZW5kYW50XG4gICAgICAvLyBgPFJvdXRlcz5gXG4gICAgICBtYXRjaGVzID0gZGF0YVJvdXRlclN0YXRlLm1hdGNoZXMgYXMgRGF0YVJvdXRlTWF0Y2hbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlbmRlcmVkTWF0Y2hlcyA9IG1hdGNoZXM7XG5cbiAgLy8gSWYgd2UgaGF2ZSBkYXRhIGVycm9ycywgdHJpbSBtYXRjaGVzIHRvIHRoZSBoaWdoZXN0IGVycm9yIGJvdW5kYXJ5XG4gIGxldCBlcnJvcnMgPSBkYXRhUm91dGVyU3RhdGU/LmVycm9ycztcbiAgaWYgKGVycm9ycyAhPSBudWxsKSB7XG4gICAgbGV0IGVycm9ySW5kZXggPSByZW5kZXJlZE1hdGNoZXMuZmluZEluZGV4KFxuICAgICAgKG0pID0+IG0ucm91dGUuaWQgJiYgZXJyb3JzPy5bbS5yb3V0ZS5pZF0gIT09IHVuZGVmaW5lZFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgZXJyb3JJbmRleCA+PSAwLFxuICAgICAgYENvdWxkIG5vdCBmaW5kIGEgbWF0Y2hpbmcgcm91dGUgZm9yIGVycm9ycyBvbiByb3V0ZSBJRHM6ICR7T2JqZWN0LmtleXMoXG4gICAgICAgIGVycm9yc1xuICAgICAgKS5qb2luKFwiLFwiKX1gXG4gICAgKTtcbiAgICByZW5kZXJlZE1hdGNoZXMgPSByZW5kZXJlZE1hdGNoZXMuc2xpY2UoXG4gICAgICAwLFxuICAgICAgTWF0aC5taW4ocmVuZGVyZWRNYXRjaGVzLmxlbmd0aCwgZXJyb3JJbmRleCArIDEpXG4gICAgKTtcbiAgfVxuXG4gIC8vIElmIHdlJ3JlIGluIGEgcGFydGlhbCBoeWRyYXRpb24gbW9kZSwgZGV0ZWN0IGlmIHdlIG5lZWQgdG8gcmVuZGVyIGRvd24gdG9cbiAgLy8gYSBnaXZlbiBIeWRyYXRlRmFsbGJhY2sgd2hpbGUgd2UgbG9hZCB0aGUgcmVzdCBvZiB0aGUgaHlkcmF0aW9uIGRhdGFcbiAgbGV0IHJlbmRlckZhbGxiYWNrID0gZmFsc2U7XG4gIGxldCBmYWxsYmFja0luZGV4ID0gLTE7XG4gIGlmIChkYXRhUm91dGVyU3RhdGUgJiYgZnV0dXJlICYmIGZ1dHVyZS52N19wYXJ0aWFsSHlkcmF0aW9uKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJlZE1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtYXRjaCA9IHJlbmRlcmVkTWF0Y2hlc1tpXTtcbiAgICAgIC8vIFRyYWNrIHRoZSBkZWVwZXN0IGZhbGxiYWNrIHVwIHVudGlsIHRoZSBmaXJzdCByb3V0ZSB3aXRob3V0IGRhdGFcbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5IeWRyYXRlRmFsbGJhY2sgfHwgbWF0Y2gucm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCkge1xuICAgICAgICBmYWxsYmFja0luZGV4ID0gaTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGNoLnJvdXRlLmlkKSB7XG4gICAgICAgIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gZGF0YVJvdXRlclN0YXRlO1xuICAgICAgICBsZXQgbmVlZHNUb1J1bkxvYWRlciA9XG4gICAgICAgICAgbWF0Y2gucm91dGUubG9hZGVyICYmXG4gICAgICAgICAgbG9hZGVyRGF0YVttYXRjaC5yb3V0ZS5pZF0gPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICghZXJyb3JzIHx8IGVycm9yc1ttYXRjaC5yb3V0ZS5pZF0gPT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChtYXRjaC5yb3V0ZS5sYXp5IHx8IG5lZWRzVG9SdW5Mb2FkZXIpIHtcbiAgICAgICAgICAvLyBXZSBmb3VuZCB0aGUgZmlyc3Qgcm91dGUgdGhhdCdzIG5vdCByZWFkeSB0byByZW5kZXIgKHdhaXRpbmcgb25cbiAgICAgICAgICAvLyBsYXp5LCBvciBoYXMgYSBsb2FkZXIgdGhhdCBoYXNuJ3QgcnVuIHlldCkuICBGbGFnIHRoYXQgd2UgbmVlZCB0b1xuICAgICAgICAgIC8vIHJlbmRlciBhIGZhbGxiYWNrIGFuZCByZW5kZXIgdXAgdW50aWwgdGhlIGFwcHJvcHJpYXRlIGZhbGxiYWNrXG4gICAgICAgICAgcmVuZGVyRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgIGlmIChmYWxsYmFja0luZGV4ID49IDApIHtcbiAgICAgICAgICAgIHJlbmRlcmVkTWF0Y2hlcyA9IHJlbmRlcmVkTWF0Y2hlcy5zbGljZSgwLCBmYWxsYmFja0luZGV4ICsgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVkTWF0Y2hlcyA9IFtyZW5kZXJlZE1hdGNoZXNbMF1dO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZW5kZXJlZE1hdGNoZXMucmVkdWNlUmlnaHQoKG91dGxldCwgbWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgLy8gT25seSBkYXRhIHJvdXRlcnMgaGFuZGxlIGVycm9ycy9mYWxsYmFja3NcbiAgICBsZXQgZXJyb3I6IGFueTtcbiAgICBsZXQgc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrID0gZmFsc2U7XG4gICAgbGV0IGVycm9yRWxlbWVudDogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ6IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGwgPSBudWxsO1xuICAgIGlmIChkYXRhUm91dGVyU3RhdGUpIHtcbiAgICAgIGVycm9yID0gZXJyb3JzICYmIG1hdGNoLnJvdXRlLmlkID8gZXJyb3JzW21hdGNoLnJvdXRlLmlkXSA6IHVuZGVmaW5lZDtcbiAgICAgIGVycm9yRWxlbWVudCA9IG1hdGNoLnJvdXRlLmVycm9yRWxlbWVudCB8fCBkZWZhdWx0RXJyb3JFbGVtZW50O1xuXG4gICAgICBpZiAocmVuZGVyRmFsbGJhY2spIHtcbiAgICAgICAgaWYgKGZhbGxiYWNrSW5kZXggPCAwICYmIGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgd2FybmluZ09uY2UoXG4gICAgICAgICAgICBcInJvdXRlLWZhbGxiYWNrXCIsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiTm8gYEh5ZHJhdGVGYWxsYmFja2AgZWxlbWVudCBwcm92aWRlZCB0byByZW5kZXIgZHVyaW5nIGluaXRpYWwgaHlkcmF0aW9uXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZmFsbGJhY2tJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgICBzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgPSBtYXRjaC5yb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50IHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgbWF0Y2hlcyA9IHBhcmVudE1hdGNoZXMuY29uY2F0KHJlbmRlcmVkTWF0Y2hlcy5zbGljZSgwLCBpbmRleCArIDEpKTtcbiAgICBsZXQgZ2V0Q2hpbGRyZW4gPSAoKSA9PiB7XG4gICAgICBsZXQgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjaGlsZHJlbiA9IGVycm9yRWxlbWVudDtcbiAgICAgIH0gZWxzZSBpZiAoc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrKSB7XG4gICAgICAgIGNoaWxkcmVuID0gaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2gucm91dGUuQ29tcG9uZW50KSB7XG4gICAgICAgIC8vIE5vdGU6IFRoaXMgaXMgYSBkZS1vcHRpbWl6ZWQgcGF0aCBzaW5jZSBSZWFjdCB3b24ndCByZS11c2UgdGhlXG4gICAgICAgIC8vIFJlYWN0RWxlbWVudCBzaW5jZSBpdCdzIGlkZW50aXR5IGNoYW5nZXMgd2l0aCBlYWNoIG5ld1xuICAgICAgICAvLyBSZWFjdC5jcmVhdGVFbGVtZW50IGNhbGwuICBXZSBrZWVwIHRoaXMgc28gZm9sa3MgY2FuIHVzZVxuICAgICAgICAvLyBgPFJvdXRlIENvbXBvbmVudD17Li4ufT5gIGluIGA8Um91dGVzPmAgYnV0IGdlbmVyYWxseSBgQ29tcG9uZW50YFxuICAgICAgICAvLyB1c2FnZSBpcyBvbmx5IGFkdmlzZWQgaW4gYFJvdXRlclByb3ZpZGVyYCB3aGVuIHdlIGNhbiBjb252ZXJ0IGl0IHRvXG4gICAgICAgIC8vIGBlbGVtZW50YCBhaGVhZCBvZiB0aW1lLlxuICAgICAgICBjaGlsZHJlbiA9IDxtYXRjaC5yb3V0ZS5Db21wb25lbnQgLz47XG4gICAgICB9IGVsc2UgaWYgKG1hdGNoLnJvdXRlLmVsZW1lbnQpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBtYXRjaC5yb3V0ZS5lbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4gPSBvdXRsZXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UmVuZGVyZWRSb3V0ZVxuICAgICAgICAgIG1hdGNoPXttYXRjaH1cbiAgICAgICAgICByb3V0ZUNvbnRleHQ9e3tcbiAgICAgICAgICAgIG91dGxldCxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBpc0RhdGFSb3V0ZTogZGF0YVJvdXRlclN0YXRlICE9IG51bGwsXG4gICAgICAgICAgfX1cbiAgICAgICAgICBjaGlsZHJlbj17Y2hpbGRyZW59XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH07XG4gICAgLy8gT25seSB3cmFwIGluIGFuIGVycm9yIGJvdW5kYXJ5IHdpdGhpbiBkYXRhIHJvdXRlciB1c2FnZXMgd2hlbiB3ZSBoYXZlIGFuXG4gICAgLy8gRXJyb3JCb3VuZGFyeS9lcnJvckVsZW1lbnQgb24gdGhpcyByb3V0ZS4gIE90aGVyd2lzZSBsZXQgaXQgYnViYmxlIHVwIHRvXG4gICAgLy8gYW4gYW5jZXN0b3IgRXJyb3JCb3VuZGFyeS9lcnJvckVsZW1lbnRcbiAgICByZXR1cm4gZGF0YVJvdXRlclN0YXRlICYmXG4gICAgICAobWF0Y2gucm91dGUuRXJyb3JCb3VuZGFyeSB8fCBtYXRjaC5yb3V0ZS5lcnJvckVsZW1lbnQgfHwgaW5kZXggPT09IDApID8gKFxuICAgICAgPFJlbmRlckVycm9yQm91bmRhcnlcbiAgICAgICAgbG9jYXRpb249e2RhdGFSb3V0ZXJTdGF0ZS5sb2NhdGlvbn1cbiAgICAgICAgcmV2YWxpZGF0aW9uPXtkYXRhUm91dGVyU3RhdGUucmV2YWxpZGF0aW9ufVxuICAgICAgICBjb21wb25lbnQ9e2Vycm9yRWxlbWVudH1cbiAgICAgICAgZXJyb3I9e2Vycm9yfVxuICAgICAgICBjaGlsZHJlbj17Z2V0Q2hpbGRyZW4oKX1cbiAgICAgICAgcm91dGVDb250ZXh0PXt7IG91dGxldDogbnVsbCwgbWF0Y2hlcywgaXNEYXRhUm91dGU6IHRydWUgfX1cbiAgICAgIC8+XG4gICAgKSA6IChcbiAgICAgIGdldENoaWxkcmVuKClcbiAgICApO1xuICB9LCBudWxsIGFzIFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwpO1xufVxuXG5lbnVtIERhdGFSb3V0ZXJIb29rIHtcbiAgVXNlQmxvY2tlciA9IFwidXNlQmxvY2tlclwiLFxuICBVc2VSZXZhbGlkYXRvciA9IFwidXNlUmV2YWxpZGF0b3JcIixcbiAgVXNlTmF2aWdhdGVTdGFibGUgPSBcInVzZU5hdmlnYXRlXCIsXG59XG5cbmVudW0gRGF0YVJvdXRlclN0YXRlSG9vayB7XG4gIFVzZUJsb2NrZXIgPSBcInVzZUJsb2NrZXJcIixcbiAgVXNlTG9hZGVyRGF0YSA9IFwidXNlTG9hZGVyRGF0YVwiLFxuICBVc2VBY3Rpb25EYXRhID0gXCJ1c2VBY3Rpb25EYXRhXCIsXG4gIFVzZVJvdXRlRXJyb3IgPSBcInVzZVJvdXRlRXJyb3JcIixcbiAgVXNlTmF2aWdhdGlvbiA9IFwidXNlTmF2aWdhdGlvblwiLFxuICBVc2VSb3V0ZUxvYWRlckRhdGEgPSBcInVzZVJvdXRlTG9hZGVyRGF0YVwiLFxuICBVc2VNYXRjaGVzID0gXCJ1c2VNYXRjaGVzXCIsXG4gIFVzZVJldmFsaWRhdG9yID0gXCJ1c2VSZXZhbGlkYXRvclwiLFxuICBVc2VOYXZpZ2F0ZVN0YWJsZSA9IFwidXNlTmF2aWdhdGVcIixcbiAgVXNlUm91dGVJZCA9IFwidXNlUm91dGVJZFwiLFxufVxuXG5mdW5jdGlvbiBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKFxuICBob29rTmFtZTogRGF0YVJvdXRlckhvb2sgfCBEYXRhUm91dGVyU3RhdGVIb29rXG4pIHtcbiAgcmV0dXJuIGAke2hvb2tOYW1lfSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgZGF0YSByb3V0ZXIuICBTZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvcm91dGVycy9waWNraW5nLWEtcm91dGVyLmA7XG59XG5cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJDb250ZXh0KGhvb2tOYW1lOiBEYXRhUm91dGVySG9vaykge1xuICBsZXQgY3R4ID0gUmVhY3QudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGludmFyaWFudChjdHgsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpKTtcbiAgcmV0dXJuIGN0eDtcbn1cblxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlclN0YXRlKGhvb2tOYW1lOiBEYXRhUm91dGVyU3RhdGVIb29rKSB7XG4gIGxldCBzdGF0ZSA9IFJlYWN0LnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gIGludmFyaWFudChzdGF0ZSwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihob29rTmFtZSkpO1xuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIHVzZVJvdXRlQ29udGV4dChob29rTmFtZTogRGF0YVJvdXRlclN0YXRlSG9vaykge1xuICBsZXQgcm91dGUgPSBSZWFjdC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGludmFyaWFudChyb3V0ZSwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihob29rTmFtZSkpO1xuICByZXR1cm4gcm91dGU7XG59XG5cbi8vIEludGVybmFsIHZlcnNpb24gd2l0aCBob29rTmFtZS1hd2FyZSBkZWJ1Z2dpbmdcbmZ1bmN0aW9uIHVzZUN1cnJlbnRSb3V0ZUlkKGhvb2tOYW1lOiBEYXRhUm91dGVyU3RhdGVIb29rKSB7XG4gIGxldCByb3V0ZSA9IHVzZVJvdXRlQ29udGV4dChob29rTmFtZSk7XG4gIGxldCB0aGlzUm91dGUgPSByb3V0ZS5tYXRjaGVzW3JvdXRlLm1hdGNoZXMubGVuZ3RoIC0gMV07XG4gIGludmFyaWFudChcbiAgICB0aGlzUm91dGUucm91dGUuaWQsXG4gICAgYCR7aG9va05hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gcm91dGVzIHRoYXQgY29udGFpbiBhIHVuaXF1ZSBcImlkXCJgXG4gICk7XG4gIHJldHVybiB0aGlzUm91dGUucm91dGUuaWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgSUQgZm9yIHRoZSBuZWFyZXN0IGNvbnRleHR1YWwgcm91dGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJvdXRlSWQoKSB7XG4gIHJldHVybiB1c2VDdXJyZW50Um91dGVJZChEYXRhUm91dGVyU3RhdGVIb29rLlVzZVJvdXRlSWQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgbmF2aWdhdGlvbiwgZGVmYXVsdGluZyB0byBhbiBcImlkbGVcIiBuYXZpZ2F0aW9uIHdoZW5cbiAqIG5vIG5hdmlnYXRpb24gaXMgaW4gcHJvZ3Jlc3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU5hdmlnYXRpb24oKSB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShEYXRhUm91dGVyU3RhdGVIb29rLlVzZU5hdmlnYXRpb24pO1xuICByZXR1cm4gc3RhdGUubmF2aWdhdGlvbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcmV2YWxpZGF0ZSBmdW5jdGlvbiBmb3IgbWFudWFsbHkgdHJpZ2dlcmluZyByZXZhbGlkYXRpb24sIGFzIHdlbGxcbiAqIGFzIHRoZSBjdXJyZW50IHN0YXRlIG9mIGFueSBtYW51YWwgcmV2YWxpZGF0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmV2YWxpZGF0b3IoKSB7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IHVzZURhdGFSb3V0ZXJDb250ZXh0KERhdGFSb3V0ZXJIb29rLlVzZVJldmFsaWRhdG9yKTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlUmV2YWxpZGF0b3IpO1xuICByZXR1cm4gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgcmV2YWxpZGF0ZTogZGF0YVJvdXRlckNvbnRleHQucm91dGVyLnJldmFsaWRhdGUsXG4gICAgICBzdGF0ZTogc3RhdGUucmV2YWxpZGF0aW9uLFxuICAgIH0pLFxuICAgIFtkYXRhUm91dGVyQ29udGV4dC5yb3V0ZXIucmV2YWxpZGF0ZSwgc3RhdGUucmV2YWxpZGF0aW9uXVxuICApO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGFjdGl2ZSByb3V0ZSBtYXRjaGVzLCB1c2VmdWwgZm9yIGFjY2Vzc2luZyBsb2FkZXJEYXRhIGZvclxuICogcGFyZW50L2NoaWxkIHJvdXRlcyBvciB0aGUgcm91dGUgXCJoYW5kbGVcIiBwcm9wZXJ0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTWF0Y2hlcygpOiBVSU1hdGNoW10ge1xuICBsZXQgeyBtYXRjaGVzLCBsb2FkZXJEYXRhIH0gPSB1c2VEYXRhUm91dGVyU3RhdGUoXG4gICAgRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VNYXRjaGVzXG4gICk7XG4gIHJldHVybiBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoZXMubWFwKChtKSA9PiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtLCBsb2FkZXJEYXRhKSksXG4gICAgW21hdGNoZXMsIGxvYWRlckRhdGFdXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbG9hZGVyIGRhdGEgZm9yIHRoZSBuZWFyZXN0IGFuY2VzdG9yIFJvdXRlIGxvYWRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTG9hZGVyRGF0YSgpOiB1bmtub3duIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlTG9hZGVyRGF0YSk7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VMb2FkZXJEYXRhKTtcblxuICBpZiAoc3RhdGUuZXJyb3JzICYmIHN0YXRlLmVycm9yc1tyb3V0ZUlkXSAhPSBudWxsKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBZb3UgY2Fubm90IFxcYHVzZUxvYWRlckRhdGFcXGAgaW4gYW4gZXJyb3JFbGVtZW50IChyb3V0ZUlkOiAke3JvdXRlSWR9KWBcbiAgICApO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmxvYWRlckRhdGFbcm91dGVJZF07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbG9hZGVyRGF0YSBmb3IgdGhlIGdpdmVuIHJvdXRlSWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJvdXRlTG9hZGVyRGF0YShyb3V0ZUlkOiBzdHJpbmcpOiB1bmtub3duIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlUm91dGVMb2FkZXJEYXRhKTtcbiAgcmV0dXJuIHN0YXRlLmxvYWRlckRhdGFbcm91dGVJZF07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYWN0aW9uIGRhdGEgZm9yIHRoZSBuZWFyZXN0IGFuY2VzdG9yIFJvdXRlIGFjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQWN0aW9uRGF0YSgpOiB1bmtub3duIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlQWN0aW9uRGF0YSk7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VMb2FkZXJEYXRhKTtcbiAgcmV0dXJuIHN0YXRlLmFjdGlvbkRhdGEgPyBzdGF0ZS5hY3Rpb25EYXRhW3JvdXRlSWRdIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG5lYXJlc3QgYW5jZXN0b3IgUm91dGUgZXJyb3IsIHdoaWNoIGNvdWxkIGJlIGEgbG9hZGVyL2FjdGlvblxuICogZXJyb3Igb3IgYSByZW5kZXIgZXJyb3IuICBUaGlzIGlzIGludGVuZGVkIHRvIGJlIGNhbGxlZCBmcm9tIHlvdXJcbiAqIEVycm9yQm91bmRhcnkvZXJyb3JFbGVtZW50IHRvIGRpc3BsYXkgYSBwcm9wZXIgZXJyb3IgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJvdXRlRXJyb3IoKTogdW5rbm93biB7XG4gIGxldCBlcnJvciA9IFJlYWN0LnVzZUNvbnRleHQoUm91dGVFcnJvckNvbnRleHQpO1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VSb3V0ZUVycm9yKTtcbiAgbGV0IHJvdXRlSWQgPSB1c2VDdXJyZW50Um91dGVJZChEYXRhUm91dGVyU3RhdGVIb29rLlVzZVJvdXRlRXJyb3IpO1xuXG4gIC8vIElmIHRoaXMgd2FzIGEgcmVuZGVyIGVycm9yLCB3ZSBwdXQgaXQgaW4gYSBSb3V0ZUVycm9yIGNvbnRleHQgaW5zaWRlXG4gIC8vIG9mIFJlbmRlckVycm9yQm91bmRhcnlcbiAgaWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICAvLyBPdGhlcndpc2UgbG9vayBmb3IgZXJyb3JzIGZyb20gb3VyIGRhdGEgcm91dGVyIHN0YXRlXG4gIHJldHVybiBzdGF0ZS5lcnJvcnM/Lltyb3V0ZUlkXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBoYXBweS1wYXRoIGRhdGEgZnJvbSB0aGUgbmVhcmVzdCBhbmNlc3RvciBgPEF3YWl0IC8+YCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQXN5bmNWYWx1ZSgpOiB1bmtub3duIHtcbiAgbGV0IHZhbHVlID0gUmVhY3QudXNlQ29udGV4dChBd2FpdENvbnRleHQpO1xuICByZXR1cm4gdmFsdWU/Ll9kYXRhO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGVycm9yIGZyb20gdGhlIG5lYXJlc3QgYW5jZXN0b3IgYDxBd2FpdCAvPmAgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFzeW5jRXJyb3IoKTogdW5rbm93biB7XG4gIGxldCB2YWx1ZSA9IFJlYWN0LnVzZUNvbnRleHQoQXdhaXRDb250ZXh0KTtcbiAgcmV0dXJuIHZhbHVlPy5fZXJyb3I7XG59XG5cbmxldCBibG9ja2VySWQgPSAwO1xuXG4vKipcbiAqIEFsbG93IHRoZSBhcHBsaWNhdGlvbiB0byBibG9jayBuYXZpZ2F0aW9ucyB3aXRoaW4gdGhlIFNQQSBhbmQgcHJlc2VudCB0aGVcbiAqIHVzZXIgYSBjb25maXJtYXRpb24gZGlhbG9nIHRvIGNvbmZpcm0gdGhlIG5hdmlnYXRpb24uICBNb3N0bHkgdXNlZCB0byBhdm9pZFxuICogdXNpbmcgaGFsZi1maWxsZWQgZm9ybSBkYXRhLiAgVGhpcyBkb2VzIG5vdCBoYW5kbGUgaGFyZC1yZWxvYWRzIG9yXG4gKiBjcm9zcy1vcmlnaW4gbmF2aWdhdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VCbG9ja2VyKHNob3VsZEJsb2NrOiBib29sZWFuIHwgQmxvY2tlckZ1bmN0aW9uKTogQmxvY2tlciB7XG4gIGxldCB7IHJvdXRlciwgYmFzZW5hbWUgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0KERhdGFSb3V0ZXJIb29rLlVzZUJsb2NrZXIpO1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VCbG9ja2VyKTtcblxuICBsZXQgW2Jsb2NrZXJLZXksIHNldEJsb2NrZXJLZXldID0gUmVhY3QudXNlU3RhdGUoXCJcIik7XG4gIGxldCBibG9ja2VyRnVuY3Rpb24gPSBSZWFjdC51c2VDYWxsYmFjazxCbG9ja2VyRnVuY3Rpb24+KFxuICAgIChhcmcpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygc2hvdWxkQmxvY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gISFzaG91bGRCbG9jaztcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlbmFtZSA9PT0gXCIvXCIpIHtcbiAgICAgICAgcmV0dXJuIHNob3VsZEJsb2NrKGFyZyk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZXkgcHJvdmlkZWQgdXMgYSBmdW5jdGlvbiBhbmQgd2UndmUgZ290IGFuIGFjdGl2ZSBiYXNlbmFtZSwgc3RyaXBcbiAgICAgIC8vIGl0IGZyb20gdGhlIGxvY2F0aW9ucyB3ZSBleHBvc2UgdG8gdGhlIHVzZXIgdG8gbWF0Y2ggdGhlIGJlaGF2aW9yIG9mXG4gICAgICAvLyB1c2VMb2NhdGlvblxuICAgICAgbGV0IHsgY3VycmVudExvY2F0aW9uLCBuZXh0TG9jYXRpb24sIGhpc3RvcnlBY3Rpb24gfSA9IGFyZztcbiAgICAgIHJldHVybiBzaG91bGRCbG9jayh7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjoge1xuICAgICAgICAgIC4uLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBwYXRobmFtZTpcbiAgICAgICAgICAgIHN0cmlwQmFzZW5hbWUoY3VycmVudExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHxcbiAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dExvY2F0aW9uOiB7XG4gICAgICAgICAgLi4ubmV4dExvY2F0aW9uLFxuICAgICAgICAgIHBhdGhuYW1lOlxuICAgICAgICAgICAgc3RyaXBCYXNlbmFtZShuZXh0TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fFxuICAgICAgICAgICAgbmV4dExvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICB9LFxuICAgICAgICBoaXN0b3J5QWN0aW9uLFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbYmFzZW5hbWUsIHNob3VsZEJsb2NrXVxuICApO1xuXG4gIC8vIFRoaXMgZWZmZWN0IGlzIGluIGNoYXJnZSBvZiBibG9ja2VyIGtleSBhc3NpZ25tZW50IGFuZCBkZWxldGlvbiAod2hpY2ggaXNcbiAgLy8gdGlnaHRseSBjb3VwbGVkIHRvIHRoZSBrZXkpXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGtleSA9IFN0cmluZygrK2Jsb2NrZXJJZCk7XG4gICAgc2V0QmxvY2tlcktleShrZXkpO1xuICAgIHJldHVybiAoKSA9PiByb3V0ZXIuZGVsZXRlQmxvY2tlcihrZXkpO1xuICB9LCBbcm91dGVyXSk7XG5cbiAgLy8gVGhpcyBlZmZlY3QgaGFuZGxlcyBhc3NpZ25pbmcgdGhlIGJsb2NrZXJGdW5jdGlvbi4gIFRoaXMgaXMgdG8gaGFuZGxlXG4gIC8vIHVuc3RhYmxlIGJsb2NrZXIgZnVuY3Rpb24gaWRlbnRpdGllcywgYW5kIGhhcHBlbnMgb25seSBhZnRlciB0aGUgcHJpb3JcbiAgLy8gZWZmZWN0IHNvIHdlIGRvbid0IGdldCBhbiBvcnBoYW5lZCBibG9ja2VyRnVuY3Rpb24gaW4gdGhlIHJvdXRlciB3aXRoIGFcbiAgLy8ga2V5IG9mIFwiXCIuICBVbnRpbCB0aGVuIHdlIGp1c3QgaGF2ZSB0aGUgSURMRV9CTE9DS0VSLlxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChibG9ja2VyS2V5ICE9PSBcIlwiKSB7XG4gICAgICByb3V0ZXIuZ2V0QmxvY2tlcihibG9ja2VyS2V5LCBibG9ja2VyRnVuY3Rpb24pO1xuICAgIH1cbiAgfSwgW3JvdXRlciwgYmxvY2tlcktleSwgYmxvY2tlckZ1bmN0aW9uXSk7XG5cbiAgLy8gUHJlZmVyIHRoZSBibG9ja2VyIGZyb20gYHN0YXRlYCBub3QgYHJvdXRlci5zdGF0ZWAgc2luY2UgRGF0YVJvdXRlckNvbnRleHRcbiAgLy8gaXMgbWVtb2l6ZWQgc28gdGhpcyBlbnN1cmVzIHdlIHVwZGF0ZSBvbiBibG9ja2VyIHN0YXRlIHVwZGF0ZXNcbiAgcmV0dXJuIGJsb2NrZXJLZXkgJiYgc3RhdGUuYmxvY2tlcnMuaGFzKGJsb2NrZXJLZXkpXG4gICAgPyBzdGF0ZS5ibG9ja2Vycy5nZXQoYmxvY2tlcktleSkhXG4gICAgOiBJRExFX0JMT0NLRVI7XG59XG5cbi8qKlxuICogU3RhYmxlIHZlcnNpb24gb2YgdXNlTmF2aWdhdGUgdGhhdCBpcyB1c2VkIHdoZW4gd2UgYXJlIGluIHRoZSBjb250ZXh0IG9mXG4gKiBhIFJvdXRlclByb3ZpZGVyLlxuICovXG5mdW5jdGlvbiB1c2VOYXZpZ2F0ZVN0YWJsZSgpOiBOYXZpZ2F0ZUZ1bmN0aW9uIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dChEYXRhUm91dGVySG9vay5Vc2VOYXZpZ2F0ZVN0YWJsZSk7XG4gIGxldCBpZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlTmF2aWdhdGVTdGFibGUpO1xuXG4gIGxldCBhY3RpdmVSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBhY3RpdmVSZWYuY3VycmVudCA9IHRydWU7XG4gIH0pO1xuXG4gIGxldCBuYXZpZ2F0ZTogTmF2aWdhdGVGdW5jdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICh0bzogVG8gfCBudW1iZXIsIG9wdGlvbnM6IE5hdmlnYXRlT3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICB3YXJuaW5nKGFjdGl2ZVJlZi5jdXJyZW50LCBuYXZpZ2F0ZUVmZmVjdFdhcm5pbmcpO1xuXG4gICAgICAvLyBTaG9ydCBjaXJjdWl0IGhlcmUgc2luY2UgaWYgdGhpcyBoYXBwZW5zIG9uIGZpcnN0IHJlbmRlciB0aGUgbmF2aWdhdGVcbiAgICAgIC8vIGlzIHVzZWxlc3MgYmVjYXVzZSB3ZSBoYXZlbid0IHdpcmVkIHVwIG91ciByb3V0ZXIgc3Vic2NyaWJlciB5ZXRcbiAgICAgIGlmICghYWN0aXZlUmVmLmN1cnJlbnQpIHJldHVybjtcblxuICAgICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByb3V0ZXIubmF2aWdhdGUodG8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm91dGVyLm5hdmlnYXRlKHRvLCB7IGZyb21Sb3V0ZUlkOiBpZCwgLi4ub3B0aW9ucyB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtyb3V0ZXIsIGlkXVxuICApO1xuXG4gIHJldHVybiBuYXZpZ2F0ZTtcbn1cblxuY29uc3QgYWxyZWFkeVdhcm5lZDogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gPSB7fTtcblxuZnVuY3Rpb24gd2FybmluZ09uY2Uoa2V5OiBzdHJpbmcsIGNvbmQ6IGJvb2xlYW4sIG1lc3NhZ2U6IHN0cmluZykge1xuICBpZiAoIWNvbmQgJiYgIWFscmVhZHlXYXJuZWRba2V5XSkge1xuICAgIGFscmVhZHlXYXJuZWRba2V5XSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgbWVzc2FnZSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEZ1dHVyZUNvbmZpZyBhcyBSb3V0ZXJGdXR1cmVDb25maWcgfSBmcm9tIFwiQHJlbWl4LXJ1bi9yb3V0ZXJcIjtcbmltcG9ydCB0eXBlIHsgRnV0dXJlQ29uZmlnIGFzIFJlbmRlckZ1dHVyZUNvbmZpZyB9IGZyb20gXCIuL2NvbXBvbmVudHNcIjtcblxuY29uc3QgYWxyZWFkeVdhcm5lZDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIHdhcm5PbmNlKGtleTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKF9fREVWX18gJiYgIWFscmVhZHlXYXJuZWRbbWVzc2FnZV0pIHtcbiAgICBhbHJlYWR5V2FybmVkW21lc3NhZ2VdID0gdHJ1ZTtcbiAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gIH1cbn1cblxuY29uc3QgbG9nRGVwcmVjYXRpb24gPSAoZmxhZzogc3RyaW5nLCBtc2c6IHN0cmluZywgbGluazogc3RyaW5nKSA9PlxuICB3YXJuT25jZShcbiAgICBmbGFnLFxuICAgIGDimqDvuI8gUmVhY3QgUm91dGVyIEZ1dHVyZSBGbGFnIFdhcm5pbmc6ICR7bXNnfS4gYCArXG4gICAgICBgWW91IGNhbiB1c2UgdGhlIFxcYCR7ZmxhZ31cXGAgZnV0dXJlIGZsYWcgdG8gb3B0LWluIGVhcmx5LiBgICtcbiAgICAgIGBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlICR7bGlua30uYFxuICApO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9nVjZEZXByZWNhdGlvbldhcm5pbmdzKFxuICByZW5kZXJGdXR1cmU6IFBhcnRpYWw8UmVuZGVyRnV0dXJlQ29uZmlnPiB8IHVuZGVmaW5lZCxcbiAgcm91dGVyRnV0dXJlPzogT21pdDxSb3V0ZXJGdXR1cmVDb25maWcsIFwidjdfcHJlcGVuZEJhc2VuYW1lXCI+XG4pIHtcbiAgaWYgKHJlbmRlckZ1dHVyZT8udjdfc3RhcnRUcmFuc2l0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBsb2dEZXByZWNhdGlvbihcbiAgICAgIFwidjdfc3RhcnRUcmFuc2l0aW9uXCIsXG4gICAgICBcIlJlYWN0IFJvdXRlciB3aWxsIGJlZ2luIHdyYXBwaW5nIHN0YXRlIHVwZGF0ZXMgaW4gYFJlYWN0LnN0YXJ0VHJhbnNpdGlvbmAgaW4gdjdcIixcbiAgICAgIFwiaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXBncmFkaW5nL2Z1dHVyZSN2N19zdGFydHRyYW5zaXRpb25cIlxuICAgICk7XG4gIH1cblxuICBpZiAoXG4gICAgcmVuZGVyRnV0dXJlPy52N19yZWxhdGl2ZVNwbGF0UGF0aCA9PT0gdW5kZWZpbmVkICYmXG4gICAgKCFyb3V0ZXJGdXR1cmUgfHwgcm91dGVyRnV0dXJlLnY3X3JlbGF0aXZlU3BsYXRQYXRoID09PSB1bmRlZmluZWQpXG4gICkge1xuICAgIGxvZ0RlcHJlY2F0aW9uKFxuICAgICAgXCJ2N19yZWxhdGl2ZVNwbGF0UGF0aFwiLFxuICAgICAgXCJSZWxhdGl2ZSByb3V0ZSByZXNvbHV0aW9uIHdpdGhpbiBTcGxhdCByb3V0ZXMgaXMgY2hhbmdpbmcgaW4gdjdcIixcbiAgICAgIFwiaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXBncmFkaW5nL2Z1dHVyZSN2N19yZWxhdGl2ZXNwbGF0cGF0aFwiXG4gICAgKTtcbiAgfVxuXG4gIGlmIChyb3V0ZXJGdXR1cmUpIHtcbiAgICBpZiAocm91dGVyRnV0dXJlLnY3X2ZldGNoZXJQZXJzaXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZ0RlcHJlY2F0aW9uKFxuICAgICAgICBcInY3X2ZldGNoZXJQZXJzaXN0XCIsXG4gICAgICAgIFwiVGhlIHBlcnNpc3RlbmNlIGJlaGF2aW9yIG9mIGZldGNoZXJzIGlzIGNoYW5naW5nIGluIHY3XCIsXG4gICAgICAgIFwiaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXBncmFkaW5nL2Z1dHVyZSN2N19mZXRjaGVycGVyc2lzdFwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChyb3V0ZXJGdXR1cmUudjdfbm9ybWFsaXplRm9ybU1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2dEZXByZWNhdGlvbihcbiAgICAgICAgXCJ2N19ub3JtYWxpemVGb3JtTWV0aG9kXCIsXG4gICAgICAgIFwiQ2FzaW5nIG9mIGBmb3JtTWV0aG9kYCBmaWVsZHMgaXMgYmVpbmcgbm9ybWFsaXplZCB0byB1cHBlcmNhc2UgaW4gdjdcIixcbiAgICAgICAgXCJodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91cGdyYWRpbmcvZnV0dXJlI3Y3X25vcm1hbGl6ZWZvcm1tZXRob2RcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAocm91dGVyRnV0dXJlLnY3X3BhcnRpYWxIeWRyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbG9nRGVwcmVjYXRpb24oXG4gICAgICAgIFwidjdfcGFydGlhbEh5ZHJhdGlvblwiLFxuICAgICAgICBcImBSb3V0ZXJQcm92aWRlcmAgaHlkcmF0aW9uIGJlaGF2aW9yIGlzIGNoYW5naW5nIGluIHY3XCIsXG4gICAgICAgIFwiaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXBncmFkaW5nL2Z1dHVyZSN2N19wYXJ0aWFsaHlkcmF0aW9uXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHJvdXRlckZ1dHVyZS52N19za2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbG9nRGVwcmVjYXRpb24oXG4gICAgICAgIFwidjdfc2tpcEFjdGlvbkVycm9yUmV2YWxpZGF0aW9uXCIsXG4gICAgICAgIFwiVGhlIHJldmFsaWRhdGlvbiBiZWhhdmlvciBhZnRlciA0eHgvNXh4IGBhY3Rpb25gIHJlc3BvbnNlcyBpcyBjaGFuZ2luZyBpbiB2N1wiLFxuICAgICAgICBcImh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3VwZ3JhZGluZy9mdXR1cmUjdjdfc2tpcGFjdGlvbmVycm9ycmV2YWxpZGF0aW9uXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUge1xuICBJbml0aWFsRW50cnksXG4gIExhenlSb3V0ZUZ1bmN0aW9uLFxuICBMb2NhdGlvbixcbiAgTWVtb3J5SGlzdG9yeSxcbiAgUmVsYXRpdmVSb3V0aW5nVHlwZSxcbiAgUm91dGVyIGFzIFJlbWl4Um91dGVyLFxuICBSb3V0ZXJTdGF0ZSxcbiAgUm91dGVyU3Vic2NyaWJlcixcbiAgVG8sXG4gIFRyYWNrZWRQcm9taXNlLFxufSBmcm9tIFwiQHJlbWl4LXJ1bi9yb3V0ZXJcIjtcbmltcG9ydCB7XG4gIEFib3J0ZWREZWZlcnJlZEVycm9yLFxuICBBY3Rpb24gYXMgTmF2aWdhdGlvblR5cGUsXG4gIGNyZWF0ZU1lbW9yeUhpc3RvcnksXG4gIFVOU0FGRV9nZXRSZXNvbHZlVG9NYXRjaGVzIGFzIGdldFJlc29sdmVUb01hdGNoZXMsXG4gIFVOU0FGRV9pbnZhcmlhbnQgYXMgaW52YXJpYW50LFxuICBwYXJzZVBhdGgsXG4gIHJlc29sdmVUbyxcbiAgc3RyaXBCYXNlbmFtZSxcbiAgVU5TQUZFX3dhcm5pbmcgYXMgd2FybmluZyxcbn0gZnJvbSBcIkByZW1peC1ydW4vcm91dGVyXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHR5cGUge1xuICBEYXRhUm91dGVPYmplY3QsXG4gIEluZGV4Um91dGVPYmplY3QsXG4gIE5hdmlnYXRvcixcbiAgTm9uSW5kZXhSb3V0ZU9iamVjdCxcbiAgUm91dGVNYXRjaCxcbiAgUm91dGVPYmplY3QsXG59IGZyb20gXCIuL2NvbnRleHRcIjtcbmltcG9ydCB7XG4gIEF3YWl0Q29udGV4dCxcbiAgRGF0YVJvdXRlckNvbnRleHQsXG4gIERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQsXG4gIExvY2F0aW9uQ29udGV4dCxcbiAgTmF2aWdhdGlvbkNvbnRleHQsXG4gIFJvdXRlQ29udGV4dCxcbn0gZnJvbSBcIi4vY29udGV4dFwiO1xuaW1wb3J0IHtcbiAgX3JlbmRlck1hdGNoZXMsXG4gIHVzZUFzeW5jVmFsdWUsXG4gIHVzZUluUm91dGVyQ29udGV4dCxcbiAgdXNlTG9jYXRpb24sXG4gIHVzZU5hdmlnYXRlLFxuICB1c2VPdXRsZXQsXG4gIHVzZVJvdXRlcyxcbiAgdXNlUm91dGVzSW1wbCxcbn0gZnJvbSBcIi4vaG9va3NcIjtcbmltcG9ydCB7IGxvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyB9IGZyb20gXCIuL2RlcHJlY2F0aW9uc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZ1dHVyZUNvbmZpZyB7XG4gIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBib29sZWFuO1xuICB2N19zdGFydFRyYW5zaXRpb246IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVyUHJvdmlkZXJQcm9wcyB7XG4gIGZhbGxiYWNrRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgcm91dGVyOiBSZW1peFJvdXRlcjtcbiAgLy8gT25seSBhY2NlcHQgZnV0dXJlIGZsYWdzIHJlbGV2YW50IHRvIHJlbmRlcmluZyBiZWhhdmlvclxuICAvLyByb3V0aW5nIGZsYWdzIHNob3VsZCBiZSBhY2Nlc3NlZCB2aWEgcm91dGVyLmZ1dHVyZVxuICBmdXR1cmU/OiBQYXJ0aWFsPFBpY2s8RnV0dXJlQ29uZmlnLCBcInY3X3N0YXJ0VHJhbnNpdGlvblwiPj47XG59XG5cbi8qKlxuICBXZWJwYWNrICsgUmVhY3QgMTcgZmFpbHMgdG8gY29tcGlsZSBvbiBhbnkgb2YgdGhlIGZvbGxvd2luZyBiZWNhdXNlIHdlYnBhY2tcbiAgY29tcGxhaW5zIHRoYXQgYHN0YXJ0VHJhbnNpdGlvbmAgZG9lc24ndCBleGlzdCBpbiBgUmVhY3RgOlxuICAqIGltcG9ydCB7IHN0YXJ0VHJhbnNpdGlvbiB9IGZyb20gXCJyZWFjdFwiXG4gICogaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBmcm9tIFwicmVhY3RcIjtcbiAgICBcInN0YXJ0VHJhbnNpdGlvblwiIGluIFJlYWN0ID8gUmVhY3Quc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlKCkpIDogc2V0U3RhdGUoKVxuICAqIGltcG9ydCAqIGFzIFJlYWN0IGZyb20gZnJvbSBcInJlYWN0XCI7XG4gICAgXCJzdGFydFRyYW5zaXRpb25cIiBpbiBSZWFjdCA/IFJlYWN0W1wic3RhcnRUcmFuc2l0aW9uXCJdKCgpID0+IHNldFN0YXRlKCkpIDogc2V0U3RhdGUoKVxuXG4gIE1vdmluZyBpdCB0byBhIGNvbnN0YW50IHN1Y2ggYXMgdGhlIGZvbGxvd2luZyBzb2x2ZXMgdGhlIFdlYnBhY2svUmVhY3QgMTcgaXNzdWU6XG4gICogaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBmcm9tIFwicmVhY3RcIjtcbiAgICBjb25zdCBTVEFSVF9UUkFOU0lUSU9OID0gXCJzdGFydFRyYW5zaXRpb25cIjtcbiAgICBTVEFSVF9UUkFOU0lUSU9OIGluIFJlYWN0ID8gUmVhY3RbU1RBUlRfVFJBTlNJVElPTl0oKCkgPT4gc2V0U3RhdGUoKSkgOiBzZXRTdGF0ZSgpXG5cbiAgSG93ZXZlciwgdGhhdCBpbnRyb2R1Y2VzIHdlYnBhY2svdGVyc2VyIG1pbmlmaWNhdGlvbiBpc3N1ZXMgaW4gcHJvZHVjdGlvbiBidWlsZHNcbiAgaW4gUmVhY3QgMTggd2hlcmUgbWluaWZpY2F0aW9uL29iZnVzY2F0aW9uIGVuZHMgdXAgcmVtb3ZpbmcgdGhlIGNhbGwgb2ZcbiAgUmVhY3Quc3RhcnRUcmFuc2l0aW9uIGVudGlyZWx5IGZyb20gdGhlIGZpcnN0IGhhbGYgb2YgdGhlIHRlcm5hcnkuICBHcmFiYmluZ1xuICB0aGlzIGV4cG9ydGVkIHJlZmVyZW5jZSBvbmNlIHVwIGZyb250IHJlc29sdmVzIHRoYXQgaXNzdWUuXG5cbiAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vcmVhY3Qtcm91dGVyL2lzc3Vlcy8xMDU3OVxuKi9cbmNvbnN0IFNUQVJUX1RSQU5TSVRJT04gPSBcInN0YXJ0VHJhbnNpdGlvblwiO1xuY29uc3Qgc3RhcnRUcmFuc2l0aW9uSW1wbCA9IFJlYWN0W1NUQVJUX1RSQU5TSVRJT05dO1xuXG4vKipcbiAqIEdpdmVuIGEgUmVtaXggUm91dGVyIGluc3RhbmNlLCByZW5kZXIgdGhlIGFwcHJvcHJpYXRlIFVJXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSb3V0ZXJQcm92aWRlcih7XG4gIGZhbGxiYWNrRWxlbWVudCxcbiAgcm91dGVyLFxuICBmdXR1cmUsXG59OiBSb3V0ZXJQcm92aWRlclByb3BzKTogUmVhY3QuUmVhY3RFbGVtZW50IHtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0LnVzZVN0YXRlKHJvdXRlci5zdGF0ZSk7XG4gIGxldCB7IHY3X3N0YXJ0VHJhbnNpdGlvbiB9ID0gZnV0dXJlIHx8IHt9O1xuXG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrPFJvdXRlclN1YnNjcmliZXI+KFxuICAgIChuZXdTdGF0ZTogUm91dGVyU3RhdGUpID0+IHtcbiAgICAgIGlmICh2N19zdGFydFRyYW5zaXRpb24gJiYgc3RhcnRUcmFuc2l0aW9uSW1wbCkge1xuICAgICAgICBzdGFydFRyYW5zaXRpb25JbXBsKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U3RhdGVJbXBsKG5ld1N0YXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzZXRTdGF0ZUltcGwsIHY3X3N0YXJ0VHJhbnNpdGlvbl1cbiAgKTtcblxuICAvLyBOZWVkIHRvIHVzZSBhIGxheW91dCBlZmZlY3QgaGVyZSBzbyB3ZSBhcmUgc3Vic2NyaWJlZCBlYXJseSBlbm91Z2ggdG9cbiAgLy8gcGljayB1cCBvbiBhbnkgcmVuZGVyLWRyaXZlbiByZWRpcmVjdHMvbmF2aWdhdGlvbnMgKHVzZUVmZmVjdC88TmF2aWdhdGU+KVxuICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gcm91dGVyLnN1YnNjcmliZShzZXRTdGF0ZSksIFtyb3V0ZXIsIHNldFN0YXRlXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsbGJhY2tFbGVtZW50ID09IG51bGwgfHwgIXJvdXRlci5mdXR1cmUudjdfcGFydGlhbEh5ZHJhdGlvbixcbiAgICAgIFwiYDxSb3V0ZXJQcm92aWRlciBmYWxsYmFja0VsZW1lbnQ+YCBpcyBkZXByZWNhdGVkIHdoZW4gdXNpbmcgXCIgK1xuICAgICAgICBcImB2N19wYXJ0aWFsSHlkcmF0aW9uYCwgdXNlIGEgYEh5ZHJhdGVGYWxsYmFja2AgY29tcG9uZW50IGluc3RlYWRcIlxuICAgICk7XG4gICAgLy8gT25seSBsb2cgdGhpcyBvbmNlIG9uIGluaXRpYWwgbW91bnRcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcblxuICBsZXQgbmF2aWdhdG9yID0gUmVhY3QudXNlTWVtbygoKTogTmF2aWdhdG9yID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlSHJlZjogcm91dGVyLmNyZWF0ZUhyZWYsXG4gICAgICBlbmNvZGVMb2NhdGlvbjogcm91dGVyLmVuY29kZUxvY2F0aW9uLFxuICAgICAgZ286IChuKSA9PiByb3V0ZXIubmF2aWdhdGUobiksXG4gICAgICBwdXNoOiAodG8sIHN0YXRlLCBvcHRzKSA9PlxuICAgICAgICByb3V0ZXIubmF2aWdhdGUodG8sIHtcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdHM/LnByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgfSksXG4gICAgICByZXBsYWNlOiAodG8sIHN0YXRlLCBvcHRzKSA9PlxuICAgICAgICByb3V0ZXIubmF2aWdhdGUodG8sIHtcbiAgICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0cz8ucHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICB9KSxcbiAgICB9O1xuICB9LCBbcm91dGVyXSk7XG5cbiAgbGV0IGJhc2VuYW1lID0gcm91dGVyLmJhc2VuYW1lIHx8IFwiL1wiO1xuXG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHJvdXRlcixcbiAgICAgIG5hdmlnYXRvcixcbiAgICAgIHN0YXRpYzogZmFsc2UsXG4gICAgICBiYXNlbmFtZSxcbiAgICB9KSxcbiAgICBbcm91dGVyLCBuYXZpZ2F0b3IsIGJhc2VuYW1lXVxuICApO1xuXG4gIFJlYWN0LnVzZUVmZmVjdChcbiAgICAoKSA9PiBsb2dWNkRlcHJlY2F0aW9uV2FybmluZ3MoZnV0dXJlLCByb3V0ZXIuZnV0dXJlKSxcbiAgICBbcm91dGVyLCBmdXR1cmVdXG4gICk7XG5cbiAgLy8gVGhlIGZyYWdtZW50IGFuZCB7bnVsbH0gaGVyZSBhcmUgaW1wb3J0YW50ISAgV2UgbmVlZCB0aGVtIHRvIGtlZXAgUmVhY3QgMTgnc1xuICAvLyB1c2VJZCBoYXBweSB3aGVuIHdlIGFyZSBzZXJ2ZXItcmVuZGVyaW5nIHNpbmNlIHdlIG1heSBoYXZlIGEgPHNjcmlwdD4gaGVyZVxuICAvLyBjb250YWluaW5nIHRoZSBoeWRyYXRlZCBzZXJ2ZXItc2lkZSBzdGF0aWNDb250ZXh0IChmcm9tIFN0YXRpY1JvdXRlclByb3ZpZGVyKS5cbiAgLy8gdXNlSWQgcmVsaWVzIG9uIHRoZSBjb21wb25lbnQgdHJlZSBzdHJ1Y3R1cmUgdG8gZ2VuZXJhdGUgZGV0ZXJtaW5pc3RpYyBpZCdzXG4gIC8vIHNvIHdlIG5lZWQgdG8gZW5zdXJlIGl0IHJlbWFpbnMgdGhlIHNhbWUgb24gdGhlIGNsaWVudCBldmVuIHRob3VnaFxuICAvLyB3ZSBkb24ndCBuZWVkIHRoZSA8c2NyaXB0PiB0YWdcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPERhdGFSb3V0ZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtkYXRhUm91dGVyQ29udGV4dH0+XG4gICAgICAgIDxEYXRhUm91dGVyU3RhdGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtzdGF0ZX0+XG4gICAgICAgICAgPFJvdXRlclxuICAgICAgICAgICAgYmFzZW5hbWU9e2Jhc2VuYW1lfVxuICAgICAgICAgICAgbG9jYXRpb249e3N0YXRlLmxvY2F0aW9ufVxuICAgICAgICAgICAgbmF2aWdhdGlvblR5cGU9e3N0YXRlLmhpc3RvcnlBY3Rpb259XG4gICAgICAgICAgICBuYXZpZ2F0b3I9e25hdmlnYXRvcn1cbiAgICAgICAgICAgIGZ1dHVyZT17e1xuICAgICAgICAgICAgICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogcm91dGVyLmZ1dHVyZS52N19yZWxhdGl2ZVNwbGF0UGF0aCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3N0YXRlLmluaXRpYWxpemVkIHx8IHJvdXRlci5mdXR1cmUudjdfcGFydGlhbEh5ZHJhdGlvbiA/IChcbiAgICAgICAgICAgICAgPERhdGFSb3V0ZXNcbiAgICAgICAgICAgICAgICByb3V0ZXM9e3JvdXRlci5yb3V0ZXN9XG4gICAgICAgICAgICAgICAgZnV0dXJlPXtyb3V0ZXIuZnV0dXJlfVxuICAgICAgICAgICAgICAgIHN0YXRlPXtzdGF0ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIGZhbGxiYWNrRWxlbWVudFxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L1JvdXRlcj5cbiAgICAgICAgPC9EYXRhUm91dGVyU3RhdGVDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgPC9EYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgIHtudWxsfVxuICAgIDwvPlxuICApO1xufVxuXG5mdW5jdGlvbiBEYXRhUm91dGVzKHtcbiAgcm91dGVzLFxuICBmdXR1cmUsXG4gIHN0YXRlLFxufToge1xuICByb3V0ZXM6IERhdGFSb3V0ZU9iamVjdFtdO1xuICBmdXR1cmU6IFJlbWl4Um91dGVyW1wiZnV0dXJlXCJdO1xuICBzdGF0ZTogUm91dGVyU3RhdGU7XG59KTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIHJldHVybiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgdW5kZWZpbmVkLCBzdGF0ZSwgZnV0dXJlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZW1vcnlSb3V0ZXJQcm9wcyB7XG4gIGJhc2VuYW1lPzogc3RyaW5nO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgaW5pdGlhbEVudHJpZXM/OiBJbml0aWFsRW50cnlbXTtcbiAgaW5pdGlhbEluZGV4PzogbnVtYmVyO1xuICBmdXR1cmU/OiBQYXJ0aWFsPEZ1dHVyZUNvbmZpZz47XG59XG5cbi8qKlxuICogQSBgPFJvdXRlcj5gIHRoYXQgc3RvcmVzIGFsbCBlbnRyaWVzIGluIG1lbW9yeS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3JvdXRlci1jb21wb25lbnRzL21lbW9yeS1yb3V0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1lbW9yeVJvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgaW5pdGlhbEVudHJpZXMsXG4gIGluaXRpYWxJbmRleCxcbiAgZnV0dXJlLFxufTogTWVtb3J5Um91dGVyUHJvcHMpOiBSZWFjdC5SZWFjdEVsZW1lbnQge1xuICBsZXQgaGlzdG9yeVJlZiA9IFJlYWN0LnVzZVJlZjxNZW1vcnlIaXN0b3J5PigpO1xuICBpZiAoaGlzdG9yeVJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICBoaXN0b3J5UmVmLmN1cnJlbnQgPSBjcmVhdGVNZW1vcnlIaXN0b3J5KHtcbiAgICAgIGluaXRpYWxFbnRyaWVzLFxuICAgICAgaW5pdGlhbEluZGV4LFxuICAgICAgdjVDb21wYXQ6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBsZXQgaGlzdG9yeSA9IGhpc3RvcnlSZWYuY3VycmVudDtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0LnVzZVN0YXRlKHtcbiAgICBhY3Rpb246IGhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLFxuICB9KTtcbiAgbGV0IHsgdjdfc3RhcnRUcmFuc2l0aW9uIH0gPSBmdXR1cmUgfHwge307XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZTogeyBhY3Rpb246IE5hdmlnYXRpb25UeXBlOyBsb2NhdGlvbjogTG9jYXRpb24gfSkgPT4ge1xuICAgICAgdjdfc3RhcnRUcmFuc2l0aW9uICYmIHN0YXJ0VHJhbnNpdGlvbkltcGxcbiAgICAgICAgPyBzdGFydFRyYW5zaXRpb25JbXBsKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpXG4gICAgICAgIDogc2V0U3RhdGVJbXBsKG5ld1N0YXRlKTtcbiAgICB9LFxuICAgIFtzZXRTdGF0ZUltcGwsIHY3X3N0YXJ0VHJhbnNpdGlvbl1cbiAgKTtcblxuICBSZWFjdC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gbG9nVjZEZXByZWNhdGlvbldhcm5pbmdzKGZ1dHVyZSksIFtmdXR1cmVdKTtcblxuICByZXR1cm4gKFxuICAgIDxSb3V0ZXJcbiAgICAgIGJhc2VuYW1lPXtiYXNlbmFtZX1cbiAgICAgIGNoaWxkcmVuPXtjaGlsZHJlbn1cbiAgICAgIGxvY2F0aW9uPXtzdGF0ZS5sb2NhdGlvbn1cbiAgICAgIG5hdmlnYXRpb25UeXBlPXtzdGF0ZS5hY3Rpb259XG4gICAgICBuYXZpZ2F0b3I9e2hpc3Rvcnl9XG4gICAgICBmdXR1cmU9e2Z1dHVyZX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRlUHJvcHMge1xuICB0bzogVG87XG4gIHJlcGxhY2U/OiBib29sZWFuO1xuICBzdGF0ZT86IGFueTtcbiAgcmVsYXRpdmU/OiBSZWxhdGl2ZVJvdXRpbmdUeXBlO1xufVxuXG4vKipcbiAqIENoYW5nZXMgdGhlIGN1cnJlbnQgbG9jYXRpb24uXG4gKlxuICogTm90ZTogVGhpcyBBUEkgaXMgbW9zdGx5IHVzZWZ1bCBpbiBSZWFjdC5Db21wb25lbnQgc3ViY2xhc3NlcyB0aGF0IGFyZSBub3RcbiAqIGFibGUgdG8gdXNlIGhvb2tzLiBJbiBmdW5jdGlvbmFsIGNvbXBvbmVudHMsIHdlIHJlY29tbWVuZCB5b3UgdXNlIHRoZVxuICogYHVzZU5hdmlnYXRlYCBob29rIGluc3RlYWQuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9jb21wb25lbnRzL25hdmlnYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOYXZpZ2F0ZSh7XG4gIHRvLFxuICByZXBsYWNlLFxuICBzdGF0ZSxcbiAgcmVsYXRpdmUsXG59OiBOYXZpZ2F0ZVByb3BzKTogbnVsbCB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZlxuICAgIC8vIHRoZSByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYDxOYXZpZ2F0ZT4gbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG5cbiAgbGV0IHsgZnV0dXJlLCBzdGF0aWM6IGlzU3RhdGljIH0gPSBSZWFjdC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcblxuICB3YXJuaW5nKFxuICAgICFpc1N0YXRpYyxcbiAgICBgPE5hdmlnYXRlPiBtdXN0IG5vdCBiZSB1c2VkIG9uIHRoZSBpbml0aWFsIHJlbmRlciBpbiBhIDxTdGF0aWNSb3V0ZXI+LiBgICtcbiAgICAgIGBUaGlzIGlzIGEgbm8tb3AsIGJ1dCB5b3Ugc2hvdWxkIG1vZGlmeSB5b3VyIGNvZGUgc28gdGhlIDxOYXZpZ2F0ZT4gaXMgYCArXG4gICAgICBgb25seSBldmVyIHJlbmRlcmVkIGluIHJlc3BvbnNlIHRvIHNvbWUgdXNlciBpbnRlcmFjdGlvbiBvciBzdGF0ZSBjaGFuZ2UuYFxuICApO1xuXG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0LnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHsgcGF0aG5hbWU6IGxvY2F0aW9uUGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG5cbiAgLy8gUmVzb2x2ZSB0aGUgcGF0aCBvdXRzaWRlIG9mIHRoZSBlZmZlY3Qgc28gdGhhdCB3aGVuIGVmZmVjdHMgcnVuIHR3aWNlIGluXG4gIC8vIFN0cmljdE1vZGUgdGhleSBuYXZpZ2F0ZSB0byB0aGUgc2FtZSBwbGFjZVxuICBsZXQgcGF0aCA9IHJlc29sdmVUbyhcbiAgICB0byxcbiAgICBnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMsIGZ1dHVyZS52N19yZWxhdGl2ZVNwbGF0UGF0aCksXG4gICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICByZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgKTtcbiAgbGV0IGpzb25QYXRoID0gSlNPTi5zdHJpbmdpZnkocGF0aCk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KFxuICAgICgpID0+IG5hdmlnYXRlKEpTT04ucGFyc2UoanNvblBhdGgpLCB7IHJlcGxhY2UsIHN0YXRlLCByZWxhdGl2ZSB9KSxcbiAgICBbbmF2aWdhdGUsIGpzb25QYXRoLCByZWxhdGl2ZSwgcmVwbGFjZSwgc3RhdGVdXG4gICk7XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3V0bGV0UHJvcHMge1xuICBjb250ZXh0PzogdW5rbm93bjtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSBjaGlsZCByb3V0ZSdzIGVsZW1lbnQsIGlmIHRoZXJlIGlzIG9uZS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2NvbXBvbmVudHMvb3V0bGV0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBPdXRsZXQocHJvcHM6IE91dGxldFByb3BzKTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIHJldHVybiB1c2VPdXRsZXQocHJvcHMuY29udGV4dCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF0aFJvdXRlUHJvcHMge1xuICBjYXNlU2Vuc2l0aXZlPzogTm9uSW5kZXhSb3V0ZU9iamVjdFtcImNhc2VTZW5zaXRpdmVcIl07XG4gIHBhdGg/OiBOb25JbmRleFJvdXRlT2JqZWN0W1wicGF0aFwiXTtcbiAgaWQ/OiBOb25JbmRleFJvdXRlT2JqZWN0W1wiaWRcIl07XG4gIGxhenk/OiBMYXp5Um91dGVGdW5jdGlvbjxOb25JbmRleFJvdXRlT2JqZWN0PjtcbiAgbG9hZGVyPzogTm9uSW5kZXhSb3V0ZU9iamVjdFtcImxvYWRlclwiXTtcbiAgYWN0aW9uPzogTm9uSW5kZXhSb3V0ZU9iamVjdFtcImFjdGlvblwiXTtcbiAgaGFzRXJyb3JCb3VuZGFyeT86IE5vbkluZGV4Um91dGVPYmplY3RbXCJoYXNFcnJvckJvdW5kYXJ5XCJdO1xuICBzaG91bGRSZXZhbGlkYXRlPzogTm9uSW5kZXhSb3V0ZU9iamVjdFtcInNob3VsZFJldmFsaWRhdGVcIl07XG4gIGhhbmRsZT86IE5vbkluZGV4Um91dGVPYmplY3RbXCJoYW5kbGVcIl07XG4gIGluZGV4PzogZmFsc2U7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBlbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIGVycm9yRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIENvbXBvbmVudD86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBIeWRyYXRlRmFsbGJhY2s/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgRXJyb3JCb3VuZGFyeT86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExheW91dFJvdXRlUHJvcHMgZXh0ZW5kcyBQYXRoUm91dGVQcm9wcyB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEluZGV4Um91dGVQcm9wcyB7XG4gIGNhc2VTZW5zaXRpdmU/OiBJbmRleFJvdXRlT2JqZWN0W1wiY2FzZVNlbnNpdGl2ZVwiXTtcbiAgcGF0aD86IEluZGV4Um91dGVPYmplY3RbXCJwYXRoXCJdO1xuICBpZD86IEluZGV4Um91dGVPYmplY3RbXCJpZFwiXTtcbiAgbGF6eT86IExhenlSb3V0ZUZ1bmN0aW9uPEluZGV4Um91dGVPYmplY3Q+O1xuICBsb2FkZXI/OiBJbmRleFJvdXRlT2JqZWN0W1wibG9hZGVyXCJdO1xuICBhY3Rpb24/OiBJbmRleFJvdXRlT2JqZWN0W1wiYWN0aW9uXCJdO1xuICBoYXNFcnJvckJvdW5kYXJ5PzogSW5kZXhSb3V0ZU9iamVjdFtcImhhc0Vycm9yQm91bmRhcnlcIl07XG4gIHNob3VsZFJldmFsaWRhdGU/OiBJbmRleFJvdXRlT2JqZWN0W1wic2hvdWxkUmV2YWxpZGF0ZVwiXTtcbiAgaGFuZGxlPzogSW5kZXhSb3V0ZU9iamVjdFtcImhhbmRsZVwiXTtcbiAgaW5kZXg6IHRydWU7XG4gIGNoaWxkcmVuPzogdW5kZWZpbmVkO1xuICBlbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIGVycm9yRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG4gIENvbXBvbmVudD86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBIeWRyYXRlRmFsbGJhY2s/OiBSZWFjdC5Db21wb25lbnRUeXBlIHwgbnVsbDtcbiAgRXJyb3JCb3VuZGFyeT86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xufVxuXG5leHBvcnQgdHlwZSBSb3V0ZVByb3BzID0gUGF0aFJvdXRlUHJvcHMgfCBMYXlvdXRSb3V0ZVByb3BzIHwgSW5kZXhSb3V0ZVByb3BzO1xuXG4vKipcbiAqIERlY2xhcmVzIGFuIGVsZW1lbnQgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQgYXQgYSBjZXJ0YWluIFVSTCBwYXRoLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvY29tcG9uZW50cy9yb3V0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gUm91dGUoX3Byb3BzOiBSb3V0ZVByb3BzKTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIGludmFyaWFudChcbiAgICBmYWxzZSxcbiAgICBgQSA8Um91dGU+IGlzIG9ubHkgZXZlciB0byBiZSB1c2VkIGFzIHRoZSBjaGlsZCBvZiA8Um91dGVzPiBlbGVtZW50LCBgICtcbiAgICAgIGBuZXZlciByZW5kZXJlZCBkaXJlY3RseS4gUGxlYXNlIHdyYXAgeW91ciA8Um91dGU+IGluIGEgPFJvdXRlcz4uYFxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlclByb3BzIHtcbiAgYmFzZW5hbWU/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBsb2NhdGlvbjogUGFydGlhbDxMb2NhdGlvbj4gfCBzdHJpbmc7XG4gIG5hdmlnYXRpb25UeXBlPzogTmF2aWdhdGlvblR5cGU7XG4gIG5hdmlnYXRvcjogTmF2aWdhdG9yO1xuICBzdGF0aWM/OiBib29sZWFuO1xuICBmdXR1cmU/OiBQYXJ0aWFsPFBpY2s8RnV0dXJlQ29uZmlnLCBcInY3X3JlbGF0aXZlU3BsYXRQYXRoXCI+Pjtcbn1cblxuLyoqXG4gKiBQcm92aWRlcyBsb2NhdGlvbiBjb250ZXh0IGZvciB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuICpcbiAqIE5vdGU6IFlvdSB1c3VhbGx5IHdvbid0IHJlbmRlciBhIGA8Um91dGVyPmAgZGlyZWN0bHkuIEluc3RlYWQsIHlvdSdsbCByZW5kZXIgYVxuICogcm91dGVyIHRoYXQgaXMgbW9yZSBzcGVjaWZpYyB0byB5b3VyIGVudmlyb25tZW50IHN1Y2ggYXMgYSBgPEJyb3dzZXJSb3V0ZXI+YFxuICogaW4gd2ViIGJyb3dzZXJzIG9yIGEgYDxTdGF0aWNSb3V0ZXI+YCBmb3Igc2VydmVyIHJlbmRlcmluZy5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3JvdXRlci1jb21wb25lbnRzL3JvdXRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gUm91dGVyKHtcbiAgYmFzZW5hbWU6IGJhc2VuYW1lUHJvcCA9IFwiL1wiLFxuICBjaGlsZHJlbiA9IG51bGwsXG4gIGxvY2F0aW9uOiBsb2NhdGlvblByb3AsXG4gIG5hdmlnYXRpb25UeXBlID0gTmF2aWdhdGlvblR5cGUuUG9wLFxuICBuYXZpZ2F0b3IsXG4gIHN0YXRpYzogc3RhdGljUHJvcCA9IGZhbHNlLFxuICBmdXR1cmUsXG59OiBSb3V0ZXJQcm9wcyk6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICBpbnZhcmlhbnQoXG4gICAgIXVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIGBZb3UgY2Fubm90IHJlbmRlciBhIDxSb3V0ZXI+IGluc2lkZSBhbm90aGVyIDxSb3V0ZXI+LmAgK1xuICAgICAgYCBZb3Ugc2hvdWxkIG5ldmVyIGhhdmUgbW9yZSB0aGFuIG9uZSBpbiB5b3VyIGFwcC5gXG4gICk7XG5cbiAgLy8gUHJlc2VydmUgdHJhaWxpbmcgc2xhc2hlcyBvbiBiYXNlbmFtZSwgc28gd2UgY2FuIGxldCB0aGUgdXNlciBjb250cm9sXG4gIC8vIHRoZSBlbmZvcmNlbWVudCBvZiB0cmFpbGluZyBzbGFzaGVzIHRocm91Z2hvdXQgdGhlIGFwcFxuICBsZXQgYmFzZW5hbWUgPSBiYXNlbmFtZVByb3AucmVwbGFjZSgvXlxcLyovLCBcIi9cIik7XG4gIGxldCBuYXZpZ2F0aW9uQ29udGV4dCA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbmF2aWdhdG9yLFxuICAgICAgc3RhdGljOiBzdGF0aWNQcm9wLFxuICAgICAgZnV0dXJlOiB7XG4gICAgICAgIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBmYWxzZSxcbiAgICAgICAgLi4uZnV0dXJlLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICBbYmFzZW5hbWUsIGZ1dHVyZSwgbmF2aWdhdG9yLCBzdGF0aWNQcm9wXVxuICApO1xuXG4gIGlmICh0eXBlb2YgbG9jYXRpb25Qcm9wID09PSBcInN0cmluZ1wiKSB7XG4gICAgbG9jYXRpb25Qcm9wID0gcGFyc2VQYXRoKGxvY2F0aW9uUHJvcCk7XG4gIH1cblxuICBsZXQge1xuICAgIHBhdGhuYW1lID0gXCIvXCIsXG4gICAgc2VhcmNoID0gXCJcIixcbiAgICBoYXNoID0gXCJcIixcbiAgICBzdGF0ZSA9IG51bGwsXG4gICAga2V5ID0gXCJkZWZhdWx0XCIsXG4gIH0gPSBsb2NhdGlvblByb3A7XG5cbiAgbGV0IGxvY2F0aW9uQ29udGV4dCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCB0cmFpbGluZ1BhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShwYXRobmFtZSwgYmFzZW5hbWUpO1xuXG4gICAgaWYgKHRyYWlsaW5nUGF0aG5hbWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIHBhdGhuYW1lOiB0cmFpbGluZ1BhdGhuYW1lLFxuICAgICAgICBzZWFyY2gsXG4gICAgICAgIGhhc2gsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBrZXksXG4gICAgICB9LFxuICAgICAgbmF2aWdhdGlvblR5cGUsXG4gICAgfTtcbiAgfSwgW2Jhc2VuYW1lLCBwYXRobmFtZSwgc2VhcmNoLCBoYXNoLCBzdGF0ZSwga2V5LCBuYXZpZ2F0aW9uVHlwZV0pO1xuXG4gIHdhcm5pbmcoXG4gICAgbG9jYXRpb25Db250ZXh0ICE9IG51bGwsXG4gICAgYDxSb3V0ZXIgYmFzZW5hbWU9XCIke2Jhc2VuYW1lfVwiPiBpcyBub3QgYWJsZSB0byBtYXRjaCB0aGUgVVJMIGAgK1xuICAgICAgYFwiJHtwYXRobmFtZX0ke3NlYXJjaH0ke2hhc2h9XCIgYmVjYXVzZSBpdCBkb2VzIG5vdCBzdGFydCB3aXRoIHRoZSBgICtcbiAgICAgIGBiYXNlbmFtZSwgc28gdGhlIDxSb3V0ZXI+IHdvbid0IHJlbmRlciBhbnl0aGluZy5gXG4gICk7XG5cbiAgaWYgKGxvY2F0aW9uQ29udGV4dCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxOYXZpZ2F0aW9uQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17bmF2aWdhdGlvbkNvbnRleHR9PlxuICAgICAgPExvY2F0aW9uQ29udGV4dC5Qcm92aWRlciBjaGlsZHJlbj17Y2hpbGRyZW59IHZhbHVlPXtsb2NhdGlvbkNvbnRleHR9IC8+XG4gICAgPC9OYXZpZ2F0aW9uQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZXNQcm9wcyB7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBsb2NhdGlvbj86IFBhcnRpYWw8TG9jYXRpb24+IHwgc3RyaW5nO1xufVxuXG4vKipcbiAqIEEgY29udGFpbmVyIGZvciBhIG5lc3RlZCB0cmVlIG9mIGA8Um91dGU+YCBlbGVtZW50cyB0aGF0IHJlbmRlcnMgdGhlIGJyYW5jaFxuICogdGhhdCBiZXN0IG1hdGNoZXMgdGhlIGN1cnJlbnQgbG9jYXRpb24uXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9jb21wb25lbnRzL3JvdXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gUm91dGVzKHtcbiAgY2hpbGRyZW4sXG4gIGxvY2F0aW9uLFxufTogUm91dGVzUHJvcHMpOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgcmV0dXJuIHVzZVJvdXRlcyhjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oY2hpbGRyZW4pLCBsb2NhdGlvbik7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXdhaXRSZXNvbHZlUmVuZGVyRnVuY3Rpb24ge1xuICAoZGF0YTogQXdhaXRlZDxhbnk+KTogUmVhY3QuUmVhY3ROb2RlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF3YWl0UHJvcHMge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIHwgQXdhaXRSZXNvbHZlUmVuZGVyRnVuY3Rpb247XG4gIGVycm9yRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgcmVzb2x2ZTogVHJhY2tlZFByb21pc2UgfCBhbnk7XG59XG5cbi8qKlxuICogQ29tcG9uZW50IHRvIHVzZSBmb3IgcmVuZGVyaW5nIGxhemlseSBsb2FkZWQgZGF0YSBmcm9tIHJldHVybmluZyBkZWZlcigpXG4gKiBpbiBhIGxvYWRlciBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gQXdhaXQoeyBjaGlsZHJlbiwgZXJyb3JFbGVtZW50LCByZXNvbHZlIH06IEF3YWl0UHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QXdhaXRFcnJvckJvdW5kYXJ5IHJlc29sdmU9e3Jlc29sdmV9IGVycm9yRWxlbWVudD17ZXJyb3JFbGVtZW50fT5cbiAgICAgIDxSZXNvbHZlQXdhaXQ+e2NoaWxkcmVufTwvUmVzb2x2ZUF3YWl0PlxuICAgIDwvQXdhaXRFcnJvckJvdW5kYXJ5PlxuICApO1xufVxuXG50eXBlIEF3YWl0RXJyb3JCb3VuZGFyeVByb3BzID0gUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48e1xuICBlcnJvckVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIHJlc29sdmU6IFRyYWNrZWRQcm9taXNlIHwgYW55O1xufT47XG5cbnR5cGUgQXdhaXRFcnJvckJvdW5kYXJ5U3RhdGUgPSB7XG4gIGVycm9yOiBhbnk7XG59O1xuXG5lbnVtIEF3YWl0UmVuZGVyU3RhdHVzIHtcbiAgcGVuZGluZyxcbiAgc3VjY2VzcyxcbiAgZXJyb3IsXG59XG5cbmNvbnN0IG5ldmVyU2V0dGxlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgoKSA9PiB7fSk7XG5cbmNsYXNzIEF3YWl0RXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcbiAgQXdhaXRFcnJvckJvdW5kYXJ5UHJvcHMsXG4gIEF3YWl0RXJyb3JCb3VuZGFyeVN0YXRlXG4+IHtcbiAgY29uc3RydWN0b3IocHJvcHM6IEF3YWl0RXJyb3JCb3VuZGFyeVByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGVycm9yOiBudWxsIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yOiBhbnkpIHtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3I6IGFueSwgZXJyb3JJbmZvOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCI8QXdhaXQ+IGNhdWdodCB0aGUgZm9sbG93aW5nIGVycm9yIGR1cmluZyByZW5kZXJcIixcbiAgICAgIGVycm9yLFxuICAgICAgZXJyb3JJbmZvXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgeyBjaGlsZHJlbiwgZXJyb3JFbGVtZW50LCByZXNvbHZlIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgbGV0IHByb21pc2U6IFRyYWNrZWRQcm9taXNlIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHN0YXR1czogQXdhaXRSZW5kZXJTdGF0dXMgPSBBd2FpdFJlbmRlclN0YXR1cy5wZW5kaW5nO1xuXG4gICAgaWYgKCEocmVzb2x2ZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAvLyBEaWRuJ3QgZ2V0IGEgcHJvbWlzZSAtIHByb3ZpZGUgYXMgYSByZXNvbHZlZCBwcm9taXNlXG4gICAgICBzdGF0dXMgPSBBd2FpdFJlbmRlclN0YXR1cy5zdWNjZXNzO1xuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX3RyYWNrZWRcIiwgeyBnZXQ6ICgpID0+IHRydWUgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZGF0YVwiLCB7IGdldDogKCkgPT4gcmVzb2x2ZSB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIC8vIENhdWdodCBhIHJlbmRlciBlcnJvciwgcHJvdmlkZSBpdCBhcyBhIHJlamVjdGVkIHByb21pc2VcbiAgICAgIHN0YXR1cyA9IEF3YWl0UmVuZGVyU3RhdHVzLmVycm9yO1xuICAgICAgbGV0IHJlbmRlckVycm9yID0gdGhpcy5zdGF0ZS5lcnJvcjtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlamVjdCgpLmNhdGNoKCgpID0+IHt9KTsgLy8gQXZvaWQgdW5oYW5kbGVkIHJlamVjdGlvbiB3YXJuaW5nc1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX3RyYWNrZWRcIiwgeyBnZXQ6ICgpID0+IHRydWUgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IHJlbmRlckVycm9yIH0pO1xuICAgIH0gZWxzZSBpZiAoKHJlc29sdmUgYXMgVHJhY2tlZFByb21pc2UpLl90cmFja2VkKSB7XG4gICAgICAvLyBBbHJlYWR5IHRyYWNrZWQgcHJvbWlzZSAtIGNoZWNrIGNvbnRlbnRzXG4gICAgICBwcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIHN0YXR1cyA9XG4gICAgICAgIFwiX2Vycm9yXCIgaW4gcHJvbWlzZVxuICAgICAgICAgID8gQXdhaXRSZW5kZXJTdGF0dXMuZXJyb3JcbiAgICAgICAgICA6IFwiX2RhdGFcIiBpbiBwcm9taXNlXG4gICAgICAgICAgPyBBd2FpdFJlbmRlclN0YXR1cy5zdWNjZXNzXG4gICAgICAgICAgOiBBd2FpdFJlbmRlclN0YXR1cy5wZW5kaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSYXcgKHVudHJhY2tlZCkgcHJvbWlzZSAtIHRyYWNrIGl0XG4gICAgICBzdGF0dXMgPSBBd2FpdFJlbmRlclN0YXR1cy5wZW5kaW5nO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc29sdmUsIFwiX3RyYWNrZWRcIiwgeyBnZXQ6ICgpID0+IHRydWUgfSk7XG4gICAgICBwcm9taXNlID0gcmVzb2x2ZS50aGVuKFxuICAgICAgICAoZGF0YTogYW55KSA9PlxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvbHZlLCBcIl9kYXRhXCIsIHsgZ2V0OiAoKSA9PiBkYXRhIH0pLFxuICAgICAgICAoZXJyb3I6IGFueSkgPT5cbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IGVycm9yIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHN0YXR1cyA9PT0gQXdhaXRSZW5kZXJTdGF0dXMuZXJyb3IgJiZcbiAgICAgIHByb21pc2UuX2Vycm9yIGluc3RhbmNlb2YgQWJvcnRlZERlZmVycmVkRXJyb3JcbiAgICApIHtcbiAgICAgIC8vIEZyZWV6ZSB0aGUgVUkgYnkgdGhyb3dpbmcgYSBuZXZlciByZXNvbHZlZCBwcm9taXNlXG4gICAgICB0aHJvdyBuZXZlclNldHRsZWRQcm9taXNlO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IEF3YWl0UmVuZGVyU3RhdHVzLmVycm9yICYmICFlcnJvckVsZW1lbnQpIHtcbiAgICAgIC8vIE5vIGVycm9yRWxlbWVudCwgdGhyb3cgdG8gdGhlIG5lYXJlc3Qgcm91dGUtbGV2ZWwgZXJyb3IgYm91bmRhcnlcbiAgICAgIHRocm93IHByb21pc2UuX2Vycm9yO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IEF3YWl0UmVuZGVyU3RhdHVzLmVycm9yKSB7XG4gICAgICAvLyBSZW5kZXIgdmlhIG91ciBlcnJvckVsZW1lbnRcbiAgICAgIHJldHVybiA8QXdhaXRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtwcm9taXNlfSBjaGlsZHJlbj17ZXJyb3JFbGVtZW50fSAvPjtcbiAgICB9XG5cbiAgICBpZiAoc3RhdHVzID09PSBBd2FpdFJlbmRlclN0YXR1cy5zdWNjZXNzKSB7XG4gICAgICAvLyBSZW5kZXIgY2hpbGRyZW4gd2l0aCByZXNvbHZlZCB2YWx1ZVxuICAgICAgcmV0dXJuIDxBd2FpdENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3Byb21pc2V9IGNoaWxkcmVuPXtjaGlsZHJlbn0gLz47XG4gICAgfVxuXG4gICAgLy8gVGhyb3cgdG8gdGhlIHN1c3BlbnNlIGJvdW5kYXJ5XG4gICAgdGhyb3cgcHJvbWlzZTtcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBJbmRpcmVjdGlvbiB0byBsZXZlcmFnZSB1c2VBc3luY1ZhbHVlIGZvciBhIHJlbmRlci1wcm9wIEFQSSBvbiBgPEF3YWl0PmBcbiAqL1xuZnVuY3Rpb24gUmVzb2x2ZUF3YWl0KHtcbiAgY2hpbGRyZW4sXG59OiB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfCBBd2FpdFJlc29sdmVSZW5kZXJGdW5jdGlvbjtcbn0pIHtcbiAgbGV0IGRhdGEgPSB1c2VBc3luY1ZhbHVlKCk7XG4gIGxldCB0b1JlbmRlciA9IHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gY2hpbGRyZW4oZGF0YSkgOiBjaGlsZHJlbjtcbiAgcmV0dXJuIDw+e3RvUmVuZGVyfTwvPjtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVVRJTFNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBDcmVhdGVzIGEgcm91dGUgY29uZmlnIGZyb20gYSBSZWFjdCBcImNoaWxkcmVuXCIgb2JqZWN0LCB3aGljaCBpcyB1c3VhbGx5XG4gKiBlaXRoZXIgYSBgPFJvdXRlPmAgZWxlbWVudCBvciBhbiBhcnJheSBvZiB0aGVtLiBVc2VkIGludGVybmFsbHkgYnlcbiAqIGA8Um91dGVzPmAgdG8gY3JlYXRlIGEgcm91dGUgY29uZmlnIGZyb20gaXRzIGNoaWxkcmVuLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXRpbHMvY3JlYXRlLXJvdXRlcy1mcm9tLWNoaWxkcmVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oXG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUsXG4gIHBhcmVudFBhdGg6IG51bWJlcltdID0gW11cbik6IFJvdXRlT2JqZWN0W10ge1xuICBsZXQgcm91dGVzOiBSb3V0ZU9iamVjdFtdID0gW107XG5cbiAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgLy8gSWdub3JlIG5vbi1lbGVtZW50cy4gVGhpcyBhbGxvd3MgcGVvcGxlIHRvIG1vcmUgZWFzaWx5IGlubGluZVxuICAgICAgLy8gY29uZGl0aW9uYWxzIGluIHRoZWlyIHJvdXRlIGNvbmZpZy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdHJlZVBhdGggPSBbLi4ucGFyZW50UGF0aCwgaW5kZXhdO1xuXG4gICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gUmVhY3QuRnJhZ21lbnQpIHtcbiAgICAgIC8vIFRyYW5zcGFyZW50bHkgc3VwcG9ydCBSZWFjdC5GcmFnbWVudCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgICAgcm91dGVzLnB1c2guYXBwbHkoXG4gICAgICAgIHJvdXRlcyxcbiAgICAgICAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sIHRyZWVQYXRoKVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBlbGVtZW50LnR5cGUgPT09IFJvdXRlLFxuICAgICAgYFske1xuICAgICAgICB0eXBlb2YgZWxlbWVudC50eXBlID09PSBcInN0cmluZ1wiID8gZWxlbWVudC50eXBlIDogZWxlbWVudC50eXBlLm5hbWVcbiAgICAgIH1dIGlzIG5vdCBhIDxSb3V0ZT4gY29tcG9uZW50LiBBbGwgY29tcG9uZW50IGNoaWxkcmVuIG9mIDxSb3V0ZXM+IG11c3QgYmUgYSA8Um91dGU+IG9yIDxSZWFjdC5GcmFnbWVudD5gXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgICFlbGVtZW50LnByb3BzLmluZGV4IHx8ICFlbGVtZW50LnByb3BzLmNoaWxkcmVuLFxuICAgICAgXCJBbiBpbmRleCByb3V0ZSBjYW5ub3QgaGF2ZSBjaGlsZCByb3V0ZXMuXCJcbiAgICApO1xuXG4gICAgbGV0IHJvdXRlOiBSb3V0ZU9iamVjdCA9IHtcbiAgICAgIGlkOiBlbGVtZW50LnByb3BzLmlkIHx8IHRyZWVQYXRoLmpvaW4oXCItXCIpLFxuICAgICAgY2FzZVNlbnNpdGl2ZTogZWxlbWVudC5wcm9wcy5jYXNlU2Vuc2l0aXZlLFxuICAgICAgZWxlbWVudDogZWxlbWVudC5wcm9wcy5lbGVtZW50LFxuICAgICAgQ29tcG9uZW50OiBlbGVtZW50LnByb3BzLkNvbXBvbmVudCxcbiAgICAgIGluZGV4OiBlbGVtZW50LnByb3BzLmluZGV4LFxuICAgICAgcGF0aDogZWxlbWVudC5wcm9wcy5wYXRoLFxuICAgICAgbG9hZGVyOiBlbGVtZW50LnByb3BzLmxvYWRlcixcbiAgICAgIGFjdGlvbjogZWxlbWVudC5wcm9wcy5hY3Rpb24sXG4gICAgICBlcnJvckVsZW1lbnQ6IGVsZW1lbnQucHJvcHMuZXJyb3JFbGVtZW50LFxuICAgICAgRXJyb3JCb3VuZGFyeTogZWxlbWVudC5wcm9wcy5FcnJvckJvdW5kYXJ5LFxuICAgICAgaGFzRXJyb3JCb3VuZGFyeTpcbiAgICAgICAgZWxlbWVudC5wcm9wcy5FcnJvckJvdW5kYXJ5ICE9IG51bGwgfHxcbiAgICAgICAgZWxlbWVudC5wcm9wcy5lcnJvckVsZW1lbnQgIT0gbnVsbCxcbiAgICAgIHNob3VsZFJldmFsaWRhdGU6IGVsZW1lbnQucHJvcHMuc2hvdWxkUmV2YWxpZGF0ZSxcbiAgICAgIGhhbmRsZTogZWxlbWVudC5wcm9wcy5oYW5kbGUsXG4gICAgICBsYXp5OiBlbGVtZW50LnByb3BzLmxhenksXG4gICAgfTtcblxuICAgIGlmIChlbGVtZW50LnByb3BzLmNoaWxkcmVuKSB7XG4gICAgICByb3V0ZS5jaGlsZHJlbiA9IGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihcbiAgICAgICAgZWxlbWVudC5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgdHJlZVBhdGhcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcm91dGVzLnB1c2gocm91dGUpO1xuICB9KTtcblxuICByZXR1cm4gcm91dGVzO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIHJlc3VsdCBvZiBgbWF0Y2hSb3V0ZXMoKWAgaW50byBhIFJlYWN0IGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJNYXRjaGVzKFxuICBtYXRjaGVzOiBSb3V0ZU1hdGNoW10gfCBudWxsXG4pOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgcmV0dXJuIF9yZW5kZXJNYXRjaGVzKG1hdGNoZXMpO1xufVxuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUge1xuICBBY3Rpb25GdW5jdGlvbixcbiAgQWN0aW9uRnVuY3Rpb25BcmdzLFxuICBBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24sXG4gIEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbkFyZ3MsXG4gIEJsb2NrZXIsXG4gIEJsb2NrZXJGdW5jdGlvbixcbiAgRGF0YVN0cmF0ZWd5RnVuY3Rpb24sXG4gIERhdGFTdHJhdGVneUZ1bmN0aW9uQXJncyxcbiAgRGF0YVN0cmF0ZWd5TWF0Y2gsXG4gIERhdGFTdHJhdGVneVJlc3VsdCxcbiAgRXJyb3JSZXNwb25zZSxcbiAgRmV0Y2hlcixcbiAgSHlkcmF0aW9uU3RhdGUsXG4gIEluaXRpYWxFbnRyeSxcbiAgSnNvbkZ1bmN0aW9uLFxuICBMYXp5Um91dGVGdW5jdGlvbixcbiAgTG9hZGVyRnVuY3Rpb24sXG4gIExvYWRlckZ1bmN0aW9uQXJncyxcbiAgTG9jYXRpb24sXG4gIE5hdmlnYXRpb24sXG4gIFBhcmFtUGFyc2VLZXksXG4gIFBhcmFtcyxcbiAgUGF0aCxcbiAgUGF0aE1hdGNoLFxuICBQYXRoUGFyYW0sXG4gIFBhdGhQYXR0ZXJuLFxuICBSZWRpcmVjdEZ1bmN0aW9uLFxuICBSZWxhdGl2ZVJvdXRpbmdUeXBlLFxuICBSb3V0ZXIgYXMgUmVtaXhSb3V0ZXIsXG4gIEZ1dHVyZUNvbmZpZyBhcyBSb3V0ZXJGdXR1cmVDb25maWcsXG4gIFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbixcbiAgU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uQXJncyxcbiAgVG8sXG4gIFVJTWF0Y2gsXG59IGZyb20gXCJAcmVtaXgtcnVuL3JvdXRlclwiO1xuaW1wb3J0IHtcbiAgQWJvcnRlZERlZmVycmVkRXJyb3IsXG4gIEFjdGlvbiBhcyBOYXZpZ2F0aW9uVHlwZSxcbiAgY3JlYXRlTWVtb3J5SGlzdG9yeSxcbiAgY3JlYXRlUGF0aCxcbiAgY3JlYXRlUm91dGVyLFxuICBkZWZlcixcbiAgZ2VuZXJhdGVQYXRoLFxuICBpc1JvdXRlRXJyb3JSZXNwb25zZSxcbiAganNvbixcbiAgbWF0Y2hQYXRoLFxuICBtYXRjaFJvdXRlcyxcbiAgcGFyc2VQYXRoLFxuICByZWRpcmVjdCxcbiAgcmVkaXJlY3REb2N1bWVudCxcbiAgcmVwbGFjZSxcbiAgcmVzb2x2ZVBhdGgsXG4gIFVOU0FGRV93YXJuaW5nIGFzIHdhcm5pbmcsXG59IGZyb20gXCJAcmVtaXgtcnVuL3JvdXRlclwiO1xuXG5pbXBvcnQgdHlwZSB7XG4gIEF3YWl0UHJvcHMsXG4gIEZ1dHVyZUNvbmZpZyxcbiAgSW5kZXhSb3V0ZVByb3BzLFxuICBMYXlvdXRSb3V0ZVByb3BzLFxuICBNZW1vcnlSb3V0ZXJQcm9wcyxcbiAgTmF2aWdhdGVQcm9wcyxcbiAgT3V0bGV0UHJvcHMsXG4gIFBhdGhSb3V0ZVByb3BzLFxuICBSb3V0ZVByb3BzLFxuICBSb3V0ZXJQcm9wcyxcbiAgUm91dGVyUHJvdmlkZXJQcm9wcyxcbiAgUm91dGVzUHJvcHMsXG59IGZyb20gXCIuL2xpYi9jb21wb25lbnRzXCI7XG5pbXBvcnQge1xuICBBd2FpdCxcbiAgTWVtb3J5Um91dGVyLFxuICBOYXZpZ2F0ZSxcbiAgT3V0bGV0LFxuICBSb3V0ZSxcbiAgUm91dGVyLFxuICBSb3V0ZXJQcm92aWRlcixcbiAgUm91dGVzLFxuICBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4sXG4gIHJlbmRlck1hdGNoZXMsXG59IGZyb20gXCIuL2xpYi9jb21wb25lbnRzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIERhdGFSb3V0ZU1hdGNoLFxuICBEYXRhUm91dGVPYmplY3QsXG4gIEluZGV4Um91dGVPYmplY3QsXG4gIE5hdmlnYXRlT3B0aW9ucyxcbiAgTmF2aWdhdG9yLFxuICBOb25JbmRleFJvdXRlT2JqZWN0LFxuICBSb3V0ZU1hdGNoLFxuICBSb3V0ZU9iamVjdCxcbn0gZnJvbSBcIi4vbGliL2NvbnRleHRcIjtcbmltcG9ydCB7XG4gIERhdGFSb3V0ZXJDb250ZXh0LFxuICBEYXRhUm91dGVyU3RhdGVDb250ZXh0LFxuICBMb2NhdGlvbkNvbnRleHQsXG4gIE5hdmlnYXRpb25Db250ZXh0LFxuICBSb3V0ZUNvbnRleHQsXG59IGZyb20gXCIuL2xpYi9jb250ZXh0XCI7XG5pbXBvcnQgdHlwZSB7IE5hdmlnYXRlRnVuY3Rpb24gfSBmcm9tIFwiLi9saWIvaG9va3NcIjtcbmltcG9ydCB7XG4gIHVzZUFjdGlvbkRhdGEsXG4gIHVzZUFzeW5jRXJyb3IsXG4gIHVzZUFzeW5jVmFsdWUsXG4gIHVzZUJsb2NrZXIsXG4gIHVzZUhyZWYsXG4gIHVzZUluUm91dGVyQ29udGV4dCxcbiAgdXNlTG9hZGVyRGF0YSxcbiAgdXNlTG9jYXRpb24sXG4gIHVzZU1hdGNoLFxuICB1c2VNYXRjaGVzLFxuICB1c2VOYXZpZ2F0ZSxcbiAgdXNlTmF2aWdhdGlvbixcbiAgdXNlTmF2aWdhdGlvblR5cGUsXG4gIHVzZU91dGxldCxcbiAgdXNlT3V0bGV0Q29udGV4dCxcbiAgdXNlUGFyYW1zLFxuICB1c2VSZXNvbHZlZFBhdGgsXG4gIHVzZVJldmFsaWRhdG9yLFxuICB1c2VSb3V0ZUVycm9yLFxuICB1c2VSb3V0ZUlkLFxuICB1c2VSb3V0ZUxvYWRlckRhdGEsXG4gIHVzZVJvdXRlcyxcbiAgdXNlUm91dGVzSW1wbCxcbn0gZnJvbSBcIi4vbGliL2hvb2tzXCI7XG5pbXBvcnQgeyBsb2dWNkRlcHJlY2F0aW9uV2FybmluZ3MgfSBmcm9tIFwiLi9saWIvZGVwcmVjYXRpb25zXCI7XG5cbi8vIEV4cG9ydGVkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgYnV0IG5vdCBiZWluZyB1c2VkIGludGVybmFsbHkgYW55bW9yZVxudHlwZSBIYXNoID0gc3RyaW5nO1xudHlwZSBQYXRobmFtZSA9IHN0cmluZztcbnR5cGUgU2VhcmNoID0gc3RyaW5nO1xuXG4vLyBFeHBvc2UgcmVhY3Qtcm91dGVyIHB1YmxpYyBBUElcbmV4cG9ydCB0eXBlIHtcbiAgQWN0aW9uRnVuY3Rpb24sXG4gIEFjdGlvbkZ1bmN0aW9uQXJncyxcbiAgQXdhaXRQcm9wcyxcbiAgRGF0YVJvdXRlTWF0Y2gsXG4gIERhdGFSb3V0ZU9iamVjdCxcbiAgRGF0YVN0cmF0ZWd5RnVuY3Rpb24sXG4gIERhdGFTdHJhdGVneUZ1bmN0aW9uQXJncyxcbiAgRGF0YVN0cmF0ZWd5TWF0Y2gsXG4gIERhdGFTdHJhdGVneVJlc3VsdCxcbiAgRXJyb3JSZXNwb25zZSxcbiAgRmV0Y2hlcixcbiAgRnV0dXJlQ29uZmlnLFxuICBIYXNoLFxuICBJbmRleFJvdXRlT2JqZWN0LFxuICBJbmRleFJvdXRlUHJvcHMsXG4gIEpzb25GdW5jdGlvbixcbiAgTGF5b3V0Um91dGVQcm9wcyxcbiAgTGF6eVJvdXRlRnVuY3Rpb24sXG4gIExvYWRlckZ1bmN0aW9uLFxuICBMb2FkZXJGdW5jdGlvbkFyZ3MsXG4gIExvY2F0aW9uLFxuICBNZW1vcnlSb3V0ZXJQcm9wcyxcbiAgTmF2aWdhdGVGdW5jdGlvbixcbiAgTmF2aWdhdGVPcHRpb25zLFxuICBOYXZpZ2F0ZVByb3BzLFxuICBOYXZpZ2F0aW9uLFxuICBOYXZpZ2F0b3IsXG4gIE5vbkluZGV4Um91dGVPYmplY3QsXG4gIE91dGxldFByb3BzLFxuICBQYXJhbVBhcnNlS2V5LFxuICBQYXJhbXMsXG4gIFBhdGgsXG4gIFBhdGhNYXRjaCxcbiAgUGF0aFBhcmFtLFxuICBQYXRoUGF0dGVybixcbiAgUGF0aFJvdXRlUHJvcHMsXG4gIFBhdGhuYW1lLFxuICBSZWRpcmVjdEZ1bmN0aW9uLFxuICBSZWxhdGl2ZVJvdXRpbmdUeXBlLFxuICBSb3V0ZU1hdGNoLFxuICBSb3V0ZU9iamVjdCxcbiAgUm91dGVQcm9wcyxcbiAgUm91dGVyUHJvcHMsXG4gIFJvdXRlclByb3ZpZGVyUHJvcHMsXG4gIFJvdXRlc1Byb3BzLFxuICBTZWFyY2gsXG4gIFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbixcbiAgU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uQXJncyxcbiAgVG8sXG4gIFVJTWF0Y2gsXG4gIEJsb2NrZXIsXG4gIEJsb2NrZXJGdW5jdGlvbixcbn07XG5leHBvcnQge1xuICBBYm9ydGVkRGVmZXJyZWRFcnJvcixcbiAgQXdhaXQsXG4gIE1lbW9yeVJvdXRlcixcbiAgTmF2aWdhdGUsXG4gIE5hdmlnYXRpb25UeXBlLFxuICBPdXRsZXQsXG4gIFJvdXRlLFxuICBSb3V0ZXIsXG4gIFJvdXRlclByb3ZpZGVyLFxuICBSb3V0ZXMsXG4gIGNyZWF0ZVBhdGgsXG4gIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbixcbiAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuIGFzIGNyZWF0ZVJvdXRlc0Zyb21FbGVtZW50cyxcbiAgZGVmZXIsXG4gIGdlbmVyYXRlUGF0aCxcbiAgaXNSb3V0ZUVycm9yUmVzcG9uc2UsXG4gIGpzb24sXG4gIG1hdGNoUGF0aCxcbiAgbWF0Y2hSb3V0ZXMsXG4gIHBhcnNlUGF0aCxcbiAgcmVkaXJlY3QsXG4gIHJlZGlyZWN0RG9jdW1lbnQsXG4gIHJlcGxhY2UsXG4gIHJlbmRlck1hdGNoZXMsXG4gIHJlc29sdmVQYXRoLFxuICB1c2VCbG9ja2VyLFxuICB1c2VBY3Rpb25EYXRhLFxuICB1c2VBc3luY0Vycm9yLFxuICB1c2VBc3luY1ZhbHVlLFxuICB1c2VIcmVmLFxuICB1c2VJblJvdXRlckNvbnRleHQsXG4gIHVzZUxvYWRlckRhdGEsXG4gIHVzZUxvY2F0aW9uLFxuICB1c2VNYXRjaCxcbiAgdXNlTWF0Y2hlcyxcbiAgdXNlTmF2aWdhdGUsXG4gIHVzZU5hdmlnYXRpb24sXG4gIHVzZU5hdmlnYXRpb25UeXBlLFxuICB1c2VPdXRsZXQsXG4gIHVzZU91dGxldENvbnRleHQsXG4gIHVzZVBhcmFtcyxcbiAgdXNlUmVzb2x2ZWRQYXRoLFxuICB1c2VSZXZhbGlkYXRvcixcbiAgdXNlUm91dGVFcnJvcixcbiAgdXNlUm91dGVMb2FkZXJEYXRhLFxuICB1c2VSb3V0ZXMsXG59O1xuXG5leHBvcnQgdHlwZSBQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uQXJncyA9XG4gIEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbkFyZ3M8Um91dGVPYmplY3QsIFJvdXRlTWF0Y2g+O1xuXG5leHBvcnQgdHlwZSBQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uID1cbiAgQWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uPFJvdXRlT2JqZWN0LCBSb3V0ZU1hdGNoPjtcblxuZnVuY3Rpb24gbWFwUm91dGVQcm9wZXJ0aWVzKHJvdXRlOiBSb3V0ZU9iamVjdCkge1xuICBsZXQgdXBkYXRlczogUGFydGlhbDxSb3V0ZU9iamVjdD4gJiB7IGhhc0Vycm9yQm91bmRhcnk6IGJvb2xlYW4gfSA9IHtcbiAgICAvLyBOb3RlOiB0aGlzIGNoZWNrIGFsc28gb2NjdXJzIGluIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbiBzbyB1cGRhdGVcbiAgICAvLyB0aGVyZSBpZiB5b3UgY2hhbmdlIHRoaXMgLS0gcGxlYXNlIGFuZCB0aGFuayB5b3UhXG4gICAgaGFzRXJyb3JCb3VuZGFyeTogcm91dGUuRXJyb3JCb3VuZGFyeSAhPSBudWxsIHx8IHJvdXRlLmVycm9yRWxlbWVudCAhPSBudWxsLFxuICB9O1xuXG4gIGlmIChyb3V0ZS5Db21wb25lbnQpIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgaWYgKHJvdXRlLmVsZW1lbnQpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgYm90aCBgQ29tcG9uZW50YCBhbmQgYGVsZW1lbnRgIG9uIHlvdXIgcm91dGUgLSBcIiArXG4gICAgICAgICAgICBcImBDb21wb25lbnRgIHdpbGwgYmUgdXNlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHVwZGF0ZXMsIHtcbiAgICAgIGVsZW1lbnQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQocm91dGUuQ29tcG9uZW50KSxcbiAgICAgIENvbXBvbmVudDogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHJvdXRlLkh5ZHJhdGVGYWxsYmFjaykge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAocm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSBib3RoIGBIeWRyYXRlRmFsbGJhY2tgIGFuZCBgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudGAgb24geW91ciByb3V0ZSAtIFwiICtcbiAgICAgICAgICAgIFwiYEh5ZHJhdGVGYWxsYmFja2Agd2lsbCBiZSB1c2VkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24odXBkYXRlcywge1xuICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDogUmVhY3QuY3JlYXRlRWxlbWVudChyb3V0ZS5IeWRyYXRlRmFsbGJhY2spLFxuICAgICAgSHlkcmF0ZUZhbGxiYWNrOiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH1cblxuICBpZiAocm91dGUuRXJyb3JCb3VuZGFyeSkge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAocm91dGUuZXJyb3JFbGVtZW50KSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIGJvdGggYEVycm9yQm91bmRhcnlgIGFuZCBgZXJyb3JFbGVtZW50YCBvbiB5b3VyIHJvdXRlIC0gXCIgK1xuICAgICAgICAgICAgXCJgRXJyb3JCb3VuZGFyeWAgd2lsbCBiZSB1c2VkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24odXBkYXRlcywge1xuICAgICAgZXJyb3JFbGVtZW50OiBSZWFjdC5jcmVhdGVFbGVtZW50KHJvdXRlLkVycm9yQm91bmRhcnkpLFxuICAgICAgRXJyb3JCb3VuZGFyeTogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNZW1vcnlSb3V0ZXIoXG4gIHJvdXRlczogUm91dGVPYmplY3RbXSxcbiAgb3B0cz86IHtcbiAgICBiYXNlbmFtZT86IHN0cmluZztcbiAgICBmdXR1cmU/OiBQYXJ0aWFsPE9taXQ8Um91dGVyRnV0dXJlQ29uZmlnLCBcInY3X3ByZXBlbmRCYXNlbmFtZVwiPj47XG4gICAgaHlkcmF0aW9uRGF0YT86IEh5ZHJhdGlvblN0YXRlO1xuICAgIGluaXRpYWxFbnRyaWVzPzogSW5pdGlhbEVudHJ5W107XG4gICAgaW5pdGlhbEluZGV4PzogbnVtYmVyO1xuICAgIGRhdGFTdHJhdGVneT86IERhdGFTdHJhdGVneUZ1bmN0aW9uO1xuICAgIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uPzogUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbjtcbiAgfVxuKTogUmVtaXhSb3V0ZXIge1xuICByZXR1cm4gY3JlYXRlUm91dGVyKHtcbiAgICBiYXNlbmFtZTogb3B0cz8uYmFzZW5hbWUsXG4gICAgZnV0dXJlOiB7XG4gICAgICAuLi5vcHRzPy5mdXR1cmUsXG4gICAgICB2N19wcmVwZW5kQmFzZW5hbWU6IHRydWUsXG4gICAgfSxcbiAgICBoaXN0b3J5OiBjcmVhdGVNZW1vcnlIaXN0b3J5KHtcbiAgICAgIGluaXRpYWxFbnRyaWVzOiBvcHRzPy5pbml0aWFsRW50cmllcyxcbiAgICAgIGluaXRpYWxJbmRleDogb3B0cz8uaW5pdGlhbEluZGV4LFxuICAgIH0pLFxuICAgIGh5ZHJhdGlvbkRhdGE6IG9wdHM/Lmh5ZHJhdGlvbkRhdGEsXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICBkYXRhU3RyYXRlZ3k6IG9wdHM/LmRhdGFTdHJhdGVneSxcbiAgICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbjogb3B0cz8ucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24sXG4gIH0pLmluaXRpYWxpemUoKTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gREFOR0VSISBQTEVBU0UgUkVBRCBNRSFcbi8vIFdlIHByb3ZpZGUgdGhlc2UgZXhwb3J0cyBhcyBhbiBlc2NhcGUgaGF0Y2ggaW4gdGhlIGV2ZW50IHRoYXQgeW91IG5lZWQgYW55XG4vLyByb3V0aW5nIGRhdGEgdGhhdCB3ZSBkb24ndCBwcm92aWRlIGFuIGV4cGxpY2l0IEFQSSBmb3IuIFdpdGggdGhhdCBzYWlkLCB3ZVxuLy8gd2FudCB0byBjb3ZlciB5b3VyIHVzZSBjYXNlIGlmIHdlIGNhbiwgc28gaWYgeW91IGZlZWwgdGhlIG5lZWQgdG8gdXNlIHRoZXNlXG4vLyB3ZSB3YW50IHRvIGhlYXIgZnJvbSB5b3UuIExldCB1cyBrbm93IHdoYXQgeW91J3JlIGJ1aWxkaW5nIGFuZCB3ZSdsbCBkbyBvdXJcbi8vIGJlc3QgdG8gbWFrZSBzdXJlIHdlIGNhbiBzdXBwb3J0IHlvdSFcbi8vXG4vLyBXZSBjb25zaWRlciB0aGVzZSBleHBvcnRzIGFuIGltcGxlbWVudGF0aW9uIGRldGFpbCBhbmQgZG8gbm90IGd1YXJhbnRlZVxuLy8gYWdhaW5zdCBhbnkgYnJlYWtpbmcgY2hhbmdlcywgcmVnYXJkbGVzcyBvZiB0aGUgc2VtdmVyIHJlbGVhc2UuIFVzZSB3aXRoXG4vLyBleHRyZW1lIGNhdXRpb24gYW5kIG9ubHkgaWYgeW91IHVuZGVyc3RhbmQgdGhlIGNvbnNlcXVlbmNlcy4gR29kc3BlZWQuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB7XG4gIERhdGFSb3V0ZXJDb250ZXh0IGFzIFVOU0FGRV9EYXRhUm91dGVyQ29udGV4dCxcbiAgRGF0YVJvdXRlclN0YXRlQ29udGV4dCBhcyBVTlNBRkVfRGF0YVJvdXRlclN0YXRlQ29udGV4dCxcbiAgTG9jYXRpb25Db250ZXh0IGFzIFVOU0FGRV9Mb2NhdGlvbkNvbnRleHQsXG4gIE5hdmlnYXRpb25Db250ZXh0IGFzIFVOU0FGRV9OYXZpZ2F0aW9uQ29udGV4dCxcbiAgUm91dGVDb250ZXh0IGFzIFVOU0FGRV9Sb3V0ZUNvbnRleHQsXG4gIG1hcFJvdXRlUHJvcGVydGllcyBhcyBVTlNBRkVfbWFwUm91dGVQcm9wZXJ0aWVzLFxuICB1c2VSb3V0ZUlkIGFzIFVOU0FGRV91c2VSb3V0ZUlkLFxuICB1c2VSb3V0ZXNJbXBsIGFzIFVOU0FGRV91c2VSb3V0ZXNJbXBsLFxuICBsb2dWNkRlcHJlY2F0aW9uV2FybmluZ3MgYXMgVU5TQUZFX2xvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyxcbn07XG4iLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAidmFyIHRlYXJkb3duUGxhY2Vob2xkZXIgPSAoKSA9PiB7fTtcblxudmFyIGUgPSB0ZWFyZG93blBsYWNlaG9sZGVyO1xuXG5mdW5jdGlvbiBzdGFydChlKSB7XG4gIHJldHVybiB7XG4gICAgdGFnOiAwLFxuICAgIDA6IGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHVzaChlKSB7XG4gIHJldHVybiB7XG4gICAgdGFnOiAxLFxuICAgIDA6IGVcbiAgfTtcbn1cblxudmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAoKSA9PiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuXG52YXIgb2JzZXJ2YWJsZVN5bWJvbCA9ICgpID0+IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8IFwiQEBvYnNlcnZhYmxlXCI7XG5cbnZhciBpZGVudGl0eSA9IGUgPT4gZTtcblxuZnVuY3Rpb24gYnVmZmVyKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBbXTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSBlO1xuICAgIHZhciBzID0gITE7XG4gICAgdmFyIGwgPSAhMTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChsKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgbigxKTtcbiAgICAgICAgaWYgKGEubGVuZ3RoKSB7XG4gICAgICAgICAgaShwdXNoKGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBmID0gZVswXTtcbiAgICAgICAgcigoZSA9PiB7XG4gICAgICAgICAgaWYgKGwpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICAgIGwgPSAhMDtcbiAgICAgICAgICAgIGYoMSk7XG4gICAgICAgICAgICBpZiAoYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaShwdXNoKGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgbiA9IGVbMF07XG4gICAgICAgICAgfSBlbHNlIGlmIChhLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHIgPSBwdXNoKGEpO1xuICAgICAgICAgICAgYSA9IFtdO1xuICAgICAgICAgICAgaShyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEucHVzaChlWzBdKTtcbiAgICAgICAgaWYgKCFzKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgICAgbigwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzID0gITE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSAmJiAhbCkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIGYoMSk7XG4gICAgICAgIG4oMSk7XG4gICAgICB9IGVsc2UgaWYgKCFsICYmICFzKSB7XG4gICAgICAgIHMgPSAhMDtcbiAgICAgICAgZigwKTtcbiAgICAgICAgbigwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjb25jYXRNYXAocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IFtdO1xuICAgIHZhciBmID0gZTtcbiAgICB2YXIgbiA9IGU7XG4gICAgdmFyIHMgPSAhMTtcbiAgICB2YXIgbCA9ICExO1xuICAgIHZhciB1ID0gITE7XG4gICAgdmFyIG8gPSAhMTtcbiAgICBmdW5jdGlvbiBhcHBseUlubmVyU291cmNlKGUpIHtcbiAgICAgIHUgPSAhMDtcbiAgICAgIGUoKGUgPT4ge1xuICAgICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgICB1ID0gITE7XG4gICAgICAgICAgICBpZiAoYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgYXBwbHlJbm5lclNvdXJjZShyKGEuc2hpZnQoKSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvKSB7XG4gICAgICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzKSB7XG4gICAgICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICAgICAgZigwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICBsID0gITE7XG4gICAgICAgICAgKG4gPSBlWzBdKSgwKTtcbiAgICAgICAgfSBlbHNlIGlmICh1KSB7XG4gICAgICAgICAgaShlKTtcbiAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgbCA9ICExO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChvKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIG8gPSAhMDtcbiAgICAgICAgaWYgKCF1ICYmICFhLmxlbmd0aCkge1xuICAgICAgICAgIGkoMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgZiA9IGVbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzID0gITE7XG4gICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgYS5wdXNoKGVbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwcGx5SW5uZXJTb3VyY2UocihlWzBdKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICBpZiAoIW8pIHtcbiAgICAgICAgICBvID0gITA7XG4gICAgICAgICAgZigxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodSkge1xuICAgICAgICAgIHUgPSAhMTtcbiAgICAgICAgICBuKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW8gJiYgIXMpIHtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgZigwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodSAmJiAhbCkge1xuICAgICAgICAgIGwgPSAhMDtcbiAgICAgICAgICBuKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29uY2F0QWxsKGUpIHtcbiAgcmV0dXJuIGNvbmNhdE1hcChpZGVudGl0eSkoZSk7XG59XG5cbmZ1bmN0aW9uIGNvbmNhdChlKSB7XG4gIHJldHVybiBjb25jYXRBbGwocihlKSk7XG59XG5cbmZ1bmN0aW9uIGZpbHRlcihyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgICBpKGUpO1xuICAgICAgfSBlbHNlIGlmICghcihlWzBdKSkge1xuICAgICAgICBhKDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1hcChlKSB7XG4gIHJldHVybiByID0+IHQgPT4gcigociA9PiB7XG4gICAgaWYgKDAgPT09IHIgfHwgMCA9PT0gci50YWcpIHtcbiAgICAgIHQocik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQocHVzaChlKHJbMF0pKSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlTWFwKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBbXTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSAhMTtcbiAgICB2YXIgcyA9ICExO1xuICAgIHQoKHQgPT4ge1xuICAgICAgaWYgKHMpIHt9IGVsc2UgaWYgKDAgPT09IHQpIHtcbiAgICAgICAgcyA9ICEwO1xuICAgICAgICBpZiAoIWEubGVuZ3RoKSB7XG4gICAgICAgICAgaSgwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgwID09PSB0LnRhZykge1xuICAgICAgICBmID0gdFswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSAhMTtcbiAgICAgICAgIWZ1bmN0aW9uIGFwcGx5SW5uZXJTb3VyY2Uocikge1xuICAgICAgICAgIHZhciB0ID0gZTtcbiAgICAgICAgICByKChlID0+IHtcbiAgICAgICAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgICAgIGlmIChhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciByID0gYS5pbmRleE9mKHQpO1xuICAgICAgICAgICAgICAgIGlmIChyID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgIChhID0gYS5zbGljZSgpKS5zcGxpY2UociwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFuKSB7XG4gICAgICAgICAgICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgZigwKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICAgICAgYS5wdXNoKHQgPSBlWzBdKTtcbiAgICAgICAgICAgICAgdCgwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaShlKTtcbiAgICAgICAgICAgICAgdCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0ocih0WzBdKSk7XG4gICAgICAgIGlmICghbikge1xuICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICBmKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgaWYgKCFzKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgciA9IDAsIHQgPSBhLCBpID0gYS5sZW5ndGg7IHIgPCBpOyByKyspIHtcbiAgICAgICAgICB0W3JdKDEpO1xuICAgICAgICB9XG4gICAgICAgIGEubGVuZ3RoID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghcyAmJiAhbikge1xuICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICBmKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG4gPSAhMTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBsID0gMCwgdSA9IGEsIG8gPSBhLmxlbmd0aDsgbCA8IG87IGwrKykge1xuICAgICAgICAgIHVbbF0oMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtZXJnZUFsbChlKSB7XG4gIHJldHVybiBtZXJnZU1hcChpZGVudGl0eSkoZSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlKGUpIHtcbiAgcmV0dXJuIG1lcmdlQWxsKHIoZSkpO1xufVxuXG5mdW5jdGlvbiBvbkVuZChlKSB7XG4gIHJldHVybiByID0+IHQgPT4ge1xuICAgIHZhciBpID0gITE7XG4gICAgcigociA9PiB7XG4gICAgICBpZiAoaSkge30gZWxzZSBpZiAoMCA9PT0gcikge1xuICAgICAgICBpID0gITA7XG4gICAgICAgIHQoMCk7XG4gICAgICAgIGUoKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgICAgdmFyIGEgPSByWzBdO1xuICAgICAgICB0KHN0YXJ0KChyID0+IHtcbiAgICAgICAgICBpZiAoMSA9PT0gcikge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgICAgYSgxKTtcbiAgICAgICAgICAgIGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYShyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0KHIpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gb25QdXNoKGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiB7XG4gICAgdmFyIGkgPSAhMTtcbiAgICByKChyID0+IHtcbiAgICAgIGlmIChpKSB7fSBlbHNlIGlmICgwID09PSByKSB7XG4gICAgICAgIGkgPSAhMDtcbiAgICAgICAgdCgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgICAgdmFyIGEgPSByWzBdO1xuICAgICAgICB0KHN0YXJ0KChlID0+IHtcbiAgICAgICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhKGUpO1xuICAgICAgICB9KSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZShyWzBdKTtcbiAgICAgICAgdChyKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uU3RhcnQoZSkge1xuICByZXR1cm4gciA9PiB0ID0+IHIoKHIgPT4ge1xuICAgIGlmICgwID09PSByKSB7XG4gICAgICB0KDApO1xuICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgIHQocik7XG4gICAgICBlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQocik7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIHNhbXBsZShyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG47XG4gICAgdmFyIHMgPSAhMTtcbiAgICB2YXIgbCA9ICExO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKGwpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBmKDEpO1xuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBhID0gZVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSBlWzBdO1xuICAgICAgICBpZiAoIXMpIHtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgZigwKTtcbiAgICAgICAgICBhKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKTtcbiAgICByKChlID0+IHtcbiAgICAgIGlmIChsKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgYSgxKTtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgZiA9IGVbMF07XG4gICAgICB9IGVsc2UgaWYgKHZvaWQgMCAhPT0gbikge1xuICAgICAgICB2YXIgciA9IHB1c2gobik7XG4gICAgICAgIG4gPSB2b2lkIDA7XG4gICAgICAgIGkocik7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUgJiYgIWwpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBhKDEpO1xuICAgICAgICBmKDEpO1xuICAgICAgfSBlbHNlIGlmICghbCAmJiAhcykge1xuICAgICAgICBzID0gITA7XG4gICAgICAgIGEoMCk7XG4gICAgICAgIGYoMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2NhbihlLCByKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gcjtcbiAgICB0KChyID0+IHtcbiAgICAgIGlmICgwID09PSByKSB7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IHIudGFnKSB7XG4gICAgICAgIGkocik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKHB1c2goYSA9IGUoYSwgclswXSkpKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNoYXJlKHIpIHtcbiAgdmFyIHQgPSBbXTtcbiAgdmFyIGkgPSBlO1xuICB2YXIgYSA9ICExO1xuICByZXR1cm4gZSA9PiB7XG4gICAgdC5wdXNoKGUpO1xuICAgIGlmICgxID09PSB0Lmxlbmd0aCkge1xuICAgICAgcigoZSA9PiB7XG4gICAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgZm9yICh2YXIgciA9IDAsIGYgPSB0LCBuID0gdC5sZW5ndGg7IHIgPCBuOyByKyspIHtcbiAgICAgICAgICAgIGZbcl0oMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHQubGVuZ3RoID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgIGkgPSBlWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGEgPSAhMTtcbiAgICAgICAgICBmb3IgKHZhciBzID0gMCwgbCA9IHQsIHUgPSB0Lmxlbmd0aDsgcyA8IHU7IHMrKykge1xuICAgICAgICAgICAgbFtzXShlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gICAgZShzdGFydCgociA9PiB7XG4gICAgICBpZiAoMSA9PT0gcikge1xuICAgICAgICB2YXIgZiA9IHQuaW5kZXhPZihlKTtcbiAgICAgICAgaWYgKGYgPiAtMSkge1xuICAgICAgICAgICh0ID0gdC5zbGljZSgpKS5zcGxpY2UoZiwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0Lmxlbmd0aCkge1xuICAgICAgICAgIGkoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWEpIHtcbiAgICAgICAgYSA9ICEwO1xuICAgICAgICBpKDApO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNraXAocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSByO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIGkoZSk7XG4gICAgICB9IGVsc2UgaWYgKGYtLSA+IDApIHtcbiAgICAgICAgYSgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkoZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBza2lwVW50aWwocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuID0gITA7XG4gICAgdmFyIHMgPSAhMTtcbiAgICB2YXIgbCA9ICExO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKGwpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIHIoKGUgPT4ge1xuICAgICAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgICBsID0gITA7XG4gICAgICAgICAgICAgIGEoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgKGYgPSBlWzBdKSgwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbiA9ICExO1xuICAgICAgICAgICAgZigxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSBpZiAoIW4pIHtcbiAgICAgICAgcyA9ICExO1xuICAgICAgICBpKGUpO1xuICAgICAgfSBlbHNlIGlmICghcykge1xuICAgICAgICBzID0gITA7XG4gICAgICAgIGEoMCk7XG4gICAgICAgIGYoMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzID0gITE7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUgJiYgIWwpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBhKDEpO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWwgJiYgIXMpIHtcbiAgICAgICAgcyA9ICEwO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgIH1cbiAgICAgICAgYSgwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBza2lwV2hpbGUocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IGU7XG4gICAgdmFyIGYgPSAhMDtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgICBpKGUpO1xuICAgICAgfSBlbHNlIGlmIChmKSB7XG4gICAgICAgIGlmIChyKGVbMF0pKSB7XG4gICAgICAgICAgYSgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmID0gITE7XG4gICAgICAgICAgaShlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN3aXRjaE1hcChyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSAhMTtcbiAgICB2YXIgcyA9ICExO1xuICAgIHZhciBsID0gITE7XG4gICAgdmFyIHUgPSAhMTtcbiAgICB0KCh0ID0+IHtcbiAgICAgIGlmICh1KSB7fSBlbHNlIGlmICgwID09PSB0KSB7XG4gICAgICAgIHUgPSAhMDtcbiAgICAgICAgaWYgKCFsKSB7XG4gICAgICAgICAgaSgwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgwID09PSB0LnRhZykge1xuICAgICAgICBhID0gdFswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgZigxKTtcbiAgICAgICAgICBmID0gZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW4pIHtcbiAgICAgICAgICBuID0gITA7XG4gICAgICAgICAgYSgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuID0gITE7XG4gICAgICAgIH1cbiAgICAgICAgIWZ1bmN0aW9uIGFwcGx5SW5uZXJTb3VyY2UoZSkge1xuICAgICAgICAgIGwgPSAhMDtcbiAgICAgICAgICBlKChlID0+IHtcbiAgICAgICAgICAgIGlmICghbCkge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgICAgICBsID0gITE7XG4gICAgICAgICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgICAgICAgaSgwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICghbikge1xuICAgICAgICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICAgICAgICBhKDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgICAgIHMgPSAhMTtcbiAgICAgICAgICAgICAgKGYgPSBlWzBdKSgwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGkoZSk7XG4gICAgICAgICAgICAgIGlmICghcykge1xuICAgICAgICAgICAgICAgIGYoMCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcyA9ICExO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KHIodFswXSkpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgIGlmICghdSkge1xuICAgICAgICAgIHUgPSAhMDtcbiAgICAgICAgICBhKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgbCA9ICExO1xuICAgICAgICAgIGYoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdSAmJiAhbikge1xuICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICBhKDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsICYmICFzKSB7XG4gICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzd2l0Y2hBbGwoZSkge1xuICByZXR1cm4gc3dpdGNoTWFwKGlkZW50aXR5KShlKTtcbn1cblxuZnVuY3Rpb24gdGFrZShyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9ICExO1xuICAgIHZhciBuID0gMDtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChmKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIGYgPSAhMDtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgaWYgKHIgPD0gMCkge1xuICAgICAgICAgIGYgPSAhMDtcbiAgICAgICAgICBpKDApO1xuICAgICAgICAgIGVbMF0oMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobisrIDwgcikge1xuICAgICAgICBpKGUpO1xuICAgICAgICBpZiAoIWYgJiYgbiA+PSByKSB7XG4gICAgICAgICAgZiA9ICEwO1xuICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgYSgxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSAmJiAhZikge1xuICAgICAgICBmID0gITA7XG4gICAgICAgIGEoMSk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUgJiYgIWYgJiYgbiA8IHIpIHtcbiAgICAgICAgYSgwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0YWtlTGFzdCh0KSB7XG4gIHJldHVybiBpID0+IGEgPT4ge1xuICAgIHZhciBmID0gW107XG4gICAgdmFyIG4gPSBlO1xuICAgIGkoKGUgPT4ge1xuICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgcihmKShhKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgaWYgKHQgPD0gMCkge1xuICAgICAgICAgIGVbMF0oMSk7XG4gICAgICAgICAgcihmKShhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAobiA9IGVbMF0pKDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZi5sZW5ndGggPj0gdCAmJiB0KSB7XG4gICAgICAgICAgZi5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIGYucHVzaChlWzBdKTtcbiAgICAgICAgbigwKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRha2VVbnRpbChyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSAhMTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmIChuKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIG4gPSAhMDtcbiAgICAgICAgZigxKTtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIHIoKGUgPT4ge1xuICAgICAgICAgIGlmICgwID09PSBlKSB7fSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgKGYgPSBlWzBdKSgwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgICAgZigxKTtcbiAgICAgICAgICAgIGEoMSk7XG4gICAgICAgICAgICBpKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSAmJiAhbikge1xuICAgICAgICBuID0gITA7XG4gICAgICAgIGEoMSk7XG4gICAgICAgIGYoMSk7XG4gICAgICB9IGVsc2UgaWYgKCFuKSB7XG4gICAgICAgIGEoMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGFrZVdoaWxlKHIsIHQpIHtcbiAgcmV0dXJuIGkgPT4gYSA9PiB7XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuID0gITE7XG4gICAgaSgoZSA9PiB7XG4gICAgICBpZiAobikge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICBuID0gITA7XG4gICAgICAgIGEoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGYgPSBlWzBdO1xuICAgICAgICBhKGUpO1xuICAgICAgfSBlbHNlIGlmICghcihlWzBdKSkge1xuICAgICAgICBuID0gITA7XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgYShlKTtcbiAgICAgICAgfVxuICAgICAgICBhKDApO1xuICAgICAgICBmKDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlYm91bmNlKGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiB7XG4gICAgdmFyIGk7XG4gICAgdmFyIGEgPSAhMTtcbiAgICB2YXIgZiA9ICExO1xuICAgIHIoKHIgPT4ge1xuICAgICAgaWYgKGYpIHt9IGVsc2UgaWYgKDAgPT09IHIpIHtcbiAgICAgICAgZiA9ICEwO1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgIGEgPSAhMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0KDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IHIudGFnKSB7XG4gICAgICAgIHZhciBuID0gclswXTtcbiAgICAgICAgdChzdGFydCgoZSA9PiB7XG4gICAgICAgICAgaWYgKDEgPT09IGUgJiYgIWYpIHtcbiAgICAgICAgICAgIGYgPSAhMDtcbiAgICAgICAgICAgIGEgPSAhMTtcbiAgICAgICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4oMSk7XG4gICAgICAgICAgfSBlbHNlIGlmICghZikge1xuICAgICAgICAgICAgbigwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChpKTtcbiAgICAgICAgfVxuICAgICAgICBpID0gc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgIGkgPSB2b2lkIDA7XG4gICAgICAgICAgdChyKTtcbiAgICAgICAgICBpZiAoYSkge1xuICAgICAgICAgICAgdCgwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLCBlKHJbMF0pKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlbGF5KGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHIoKHIgPT4ge1xuICAgICAgaWYgKDAgIT09IHIgJiYgMCA9PT0gci50YWcpIHtcbiAgICAgICAgdChyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB0KHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksIGUpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGhyb3R0bGUoZSkge1xuICByZXR1cm4gciA9PiB0ID0+IHtcbiAgICB2YXIgaSA9ICExO1xuICAgIHZhciBhO1xuICAgIHIoKHIgPT4ge1xuICAgICAgaWYgKDAgPT09IHIpIHtcbiAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoYSk7XG4gICAgICAgIH1cbiAgICAgICAgdCgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgICAgdmFyIGYgPSByWzBdO1xuICAgICAgICB0KHN0YXJ0KChlID0+IHtcbiAgICAgICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZigxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZigwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSk7XG4gICAgICB9IGVsc2UgaWYgKCFpKSB7XG4gICAgICAgIGkgPSAhMDtcbiAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoYSk7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICBhID0gdm9pZCAwO1xuICAgICAgICAgIGkgPSAhMTtcbiAgICAgICAgfSksIGUoclswXSkpO1xuICAgICAgICB0KHIpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbGF6eShlKSB7XG4gIHJldHVybiByID0+IGUoKShyKTtcbn1cblxuZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoZSkge1xuICByZXR1cm4gciA9PiB7XG4gICAgdmFyIHQgPSBlW2FzeW5jSXRlcmF0b3JTeW1ib2woKV0gJiYgZVthc3luY0l0ZXJhdG9yU3ltYm9sKCldKCkgfHwgZTtcbiAgICB2YXIgaSA9ICExO1xuICAgIHZhciBhID0gITE7XG4gICAgdmFyIGYgPSAhMTtcbiAgICB2YXIgbjtcbiAgICByKHN0YXJ0KChhc3luYyBlID0+IHtcbiAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgIGkgPSAhMDtcbiAgICAgICAgaWYgKHQucmV0dXJuKSB7XG4gICAgICAgICAgdC5yZXR1cm4oKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhKSB7XG4gICAgICAgIGYgPSAhMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoZiA9IGEgPSAhMDsgZiAmJiAhaTsgKSB7XG4gICAgICAgICAgaWYgKChuID0gYXdhaXQgdC5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGkgPSAhMDtcbiAgICAgICAgICAgIGlmICh0LnJldHVybikge1xuICAgICAgICAgICAgICBhd2FpdCB0LnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcigwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZiA9ICExO1xuICAgICAgICAgICAgICByKHB1c2gobi52YWx1ZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBpZiAodC50aHJvdykge1xuICAgICAgICAgICAgICAgIGlmIChpID0gISEoYXdhaXQgdC50aHJvdyhlKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgcigwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhID0gITE7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZnJvbUl0ZXJhYmxlKGUpIHtcbiAgaWYgKGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKGUpO1xuICB9XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9IGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIHZhciBpID0gITE7XG4gICAgdmFyIGEgPSAhMTtcbiAgICB2YXIgZiA9ICExO1xuICAgIHZhciBuO1xuICAgIHIoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgaSA9ICEwO1xuICAgICAgICBpZiAodC5yZXR1cm4pIHtcbiAgICAgICAgICB0LnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGEpIHtcbiAgICAgICAgZiA9ICEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChmID0gYSA9ICEwOyBmICYmICFpOyApIHtcbiAgICAgICAgICBpZiAoKG4gPSB0Lm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgICAgaWYgKHQucmV0dXJuKSB7XG4gICAgICAgICAgICAgIHQucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByKDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmID0gITE7XG4gICAgICAgICAgICAgIHIocHVzaChuLnZhbHVlKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGlmICh0LnRocm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPSAhIXQudGhyb3coZSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgcigwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhID0gITE7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxudmFyIHIgPSBmcm9tSXRlcmFibGU7XG5cbmZ1bmN0aW9uIGZyb21WYWx1ZShlKSB7XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9ICExO1xuICAgIHIoc3RhcnQoKGkgPT4ge1xuICAgICAgaWYgKDEgPT09IGkpIHtcbiAgICAgICAgdCA9ICEwO1xuICAgICAgfSBlbHNlIGlmICghdCkge1xuICAgICAgICB0ID0gITA7XG4gICAgICAgIHIocHVzaChlKSk7XG4gICAgICAgIHIoMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZShlKSB7XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9ICExO1xuICAgIHZhciBpID0gZSh7XG4gICAgICBuZXh0KGUpIHtcbiAgICAgICAgaWYgKCF0KSB7XG4gICAgICAgICAgcihwdXNoKGUpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbXBsZXRlKCkge1xuICAgICAgICBpZiAoIXQpIHtcbiAgICAgICAgICB0ID0gITA7XG4gICAgICAgICAgcigwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHIoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUgJiYgIXQpIHtcbiAgICAgICAgdCA9ICEwO1xuICAgICAgICBpKCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZVN1YmplY3QoKSB7XG4gIHZhciBlO1xuICB2YXIgcjtcbiAgcmV0dXJuIHtcbiAgICBzb3VyY2U6IHNoYXJlKG1ha2UoKHQgPT4ge1xuICAgICAgZSA9IHQubmV4dDtcbiAgICAgIHIgPSB0LmNvbXBsZXRlO1xuICAgICAgcmV0dXJuIHRlYXJkb3duUGxhY2Vob2xkZXI7XG4gICAgfSkpKSxcbiAgICBuZXh0KHIpIHtcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIGUocik7XG4gICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZSgpIHtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIHIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbnZhciBlbXB0eSA9IGUgPT4ge1xuICB2YXIgciA9ICExO1xuICBlKHN0YXJ0KCh0ID0+IHtcbiAgICBpZiAoMSA9PT0gdCkge1xuICAgICAgciA9ICEwO1xuICAgIH0gZWxzZSBpZiAoIXIpIHtcbiAgICAgIHIgPSAhMDtcbiAgICAgIGUoMCk7XG4gICAgfVxuICB9KSkpO1xufTtcblxudmFyIG5ldmVyID0gciA9PiB7XG4gIHIoc3RhcnQoZSkpO1xufTtcblxuZnVuY3Rpb24gaW50ZXJ2YWwoZSkge1xuICByZXR1cm4gbWFrZSgociA9PiB7XG4gICAgdmFyIHQgPSAwO1xuICAgIHZhciBpID0gc2V0SW50ZXJ2YWwoKCgpID0+IHIubmV4dCh0KyspKSwgZSk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaSk7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gZnJvbURvbUV2ZW50KGUsIHIpIHtcbiAgcmV0dXJuIG1ha2UoKHQgPT4ge1xuICAgIGUuYWRkRXZlbnRMaXN0ZW5lcihyLCB0Lm5leHQpO1xuICAgIHJldHVybiAoKSA9PiBlLnJlbW92ZUV2ZW50TGlzdGVuZXIociwgdC5uZXh0KTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBmcm9tUHJvbWlzZShlKSB7XG4gIHJldHVybiBtYWtlKChyID0+IHtcbiAgICBlLnRoZW4oKGUgPT4ge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKGUpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgci5uZXh0KGUpO1xuICAgICAgICByLmNvbXBsZXRlKCk7XG4gICAgICB9KSk7XG4gICAgfSkpO1xuICAgIHJldHVybiB0ZWFyZG93blBsYWNlaG9sZGVyO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIHN1YnNjcmliZShyKSB7XG4gIHJldHVybiB0ID0+IHtcbiAgICB2YXIgaSA9IGU7XG4gICAgdmFyIGEgPSAhMTtcbiAgICB0KChlID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIGEgPSAhMDtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgKGkgPSBlWzBdKSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoIWEpIHtcbiAgICAgICAgcihlWzBdKTtcbiAgICAgICAgaSgwKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBpZiAoIWEpIHtcbiAgICAgICAgICBhID0gITA7XG4gICAgICAgICAgaSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZvckVhY2goZSkge1xuICByZXR1cm4gciA9PiB7XG4gICAgc3Vic2NyaWJlKGUpKHIpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKGUpIHtcbiAgc3Vic2NyaWJlKChlID0+IHt9KSkoZSk7XG59XG5cbnZhciB0ID0ge1xuICBkb25lOiAhMFxufTtcblxudmFyIHRvQXN5bmNJdGVyYWJsZSA9IHIgPT4ge1xuICB2YXIgaSA9IFtdO1xuICB2YXIgYSA9ICExO1xuICB2YXIgZiA9ICExO1xuICB2YXIgbiA9ICExO1xuICB2YXIgcyA9IGU7XG4gIHZhciBsO1xuICByZXR1cm4ge1xuICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICBpZiAoIWYpIHtcbiAgICAgICAgZiA9ICEwO1xuICAgICAgICByKChlID0+IHtcbiAgICAgICAgICBpZiAoYSkge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgICAgbCA9IGwodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhID0gITA7XG4gICAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgICAgKHMgPSBlWzBdKSgwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbiA9ICExO1xuICAgICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgICAgbCA9IGwoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBlWzBdLFxuICAgICAgICAgICAgICAgIGRvbmU6ICExXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaS5wdXNoKGVbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgaWYgKGEgJiYgIWkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0O1xuICAgICAgfSBlbHNlIGlmICghYSAmJiAhbiAmJiBpLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgIG4gPSAhMDtcbiAgICAgICAgcygwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLmxlbmd0aCA/IHtcbiAgICAgICAgdmFsdWU6IGkuc2hpZnQoKSxcbiAgICAgICAgZG9uZTogITFcbiAgICAgIH0gOiBuZXcgUHJvbWlzZSgoZSA9PiBsID0gZSkpO1xuICAgIH0sXG4gICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgaWYgKCFhKSB7XG4gICAgICAgIGwgPSBzKDEpO1xuICAgICAgfVxuICAgICAgYSA9ICEwO1xuICAgICAgcmV0dXJuIHQ7XG4gICAgfSxcbiAgICBbYXN5bmNJdGVyYXRvclN5bWJvbCgpXSgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIHRvQXJyYXkocikge1xuICB2YXIgdCA9IFtdO1xuICB2YXIgaSA9IGU7XG4gIHZhciBhID0gITE7XG4gIHIoKGUgPT4ge1xuICAgIGlmICgwID09PSBlKSB7XG4gICAgICBhID0gITA7XG4gICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgKGkgPSBlWzBdKSgwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdC5wdXNoKGVbMF0pO1xuICAgICAgaSgwKTtcbiAgICB9XG4gIH0pKTtcbiAgaWYgKCFhKSB7XG4gICAgaSgxKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gdG9Qcm9taXNlKHIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCh0ID0+IHtcbiAgICB2YXIgaSA9IGU7XG4gICAgdmFyIGE7XG4gICAgcigoZSA9PiB7XG4gICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoYSkudGhlbih0KTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgKGkgPSBlWzBdKSgwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgICBpKDApO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiB6aXAocikge1xuICB2YXIgdCA9IE9iamVjdC5rZXlzKHIpLmxlbmd0aDtcbiAgcmV0dXJuIGkgPT4ge1xuICAgIHZhciBhID0gbmV3IFNldDtcbiAgICB2YXIgZiA9IEFycmF5LmlzQXJyYXkocikgPyBuZXcgQXJyYXkodCkuZmlsbChlKSA6IHt9O1xuICAgIHZhciBuID0gQXJyYXkuaXNBcnJheShyKSA/IG5ldyBBcnJheSh0KSA6IHt9O1xuICAgIHZhciBzID0gITE7XG4gICAgdmFyIGwgPSAhMTtcbiAgICB2YXIgdSA9ICExO1xuICAgIHZhciBvID0gMDtcbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJbdl0oKGMgPT4ge1xuICAgICAgICBpZiAoMCA9PT0gYykge1xuICAgICAgICAgIGlmIChvID49IHQgLSAxKSB7XG4gICAgICAgICAgICB1ID0gITA7XG4gICAgICAgICAgICBpKDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvKys7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGMudGFnKSB7XG4gICAgICAgICAgZlt2XSA9IGNbMF07XG4gICAgICAgIH0gZWxzZSBpZiAoIXUpIHtcbiAgICAgICAgICBuW3ZdID0gY1swXTtcbiAgICAgICAgICBhLmFkZCh2KTtcbiAgICAgICAgICBpZiAoIXMgJiYgYS5zaXplIDwgdCkge1xuICAgICAgICAgICAgaWYgKCFsKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGggaW4gcikge1xuICAgICAgICAgICAgICAgIGlmICghYS5oYXMoaCkpIHtcbiAgICAgICAgICAgICAgICAgIChmW2hdIHx8IGUpKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbCA9ICExO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgICBsID0gITE7XG4gICAgICAgICAgICBpKHB1c2goQXJyYXkuaXNBcnJheShuKSA/IG4uc2xpY2UoKSA6IHtcbiAgICAgICAgICAgICAgLi4ublxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH07XG4gICAgZm9yICh2YXIgdiBpbiByKSB7XG4gICAgICBsb29wKHYpO1xuICAgIH1cbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICh1KSB7fSBlbHNlIGlmICgxID09PSBlKSB7XG4gICAgICAgIHUgPSAhMDtcbiAgICAgICAgZm9yICh2YXIgciBpbiBmKSB7XG4gICAgICAgICAgZltyXSgxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghbCkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIGZvciAodmFyIHQgaW4gZikge1xuICAgICAgICAgIGZbdF0oMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjb21iaW5lKC4uLmUpIHtcbiAgcmV0dXJuIHppcChlKTtcbn1cblxuZnVuY3Rpb24gZnJvbU9ic2VydmFibGUoZSkge1xuICByZXR1cm4gciA9PiB7XG4gICAgdmFyIHQgPSAoZVtvYnNlcnZhYmxlU3ltYm9sKCldID8gZVtvYnNlcnZhYmxlU3ltYm9sKCldKCkgOiBlKS5zdWJzY3JpYmUoe1xuICAgICAgbmV4dChlKSB7XG4gICAgICAgIHIocHVzaChlKSk7XG4gICAgICB9LFxuICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgIHIoMCk7XG4gICAgICB9LFxuICAgICAgZXJyb3IoZSkge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHIoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgdC51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRvT2JzZXJ2YWJsZShyKSB7XG4gIHJldHVybiB7XG4gICAgc3Vic2NyaWJlKHQsIGksIGEpIHtcbiAgICAgIHZhciBmID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdCA/IHQgOiB7XG4gICAgICAgIG5leHQ6IHQsXG4gICAgICAgIGVycm9yOiBpLFxuICAgICAgICBjb21wbGV0ZTogYVxuICAgICAgfTtcbiAgICAgIHZhciBuID0gZTtcbiAgICAgIHZhciBzID0gITE7XG4gICAgICByKChlID0+IHtcbiAgICAgICAgaWYgKHMpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgaWYgKGYuY29tcGxldGUpIHtcbiAgICAgICAgICAgIGYuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICAobiA9IGVbMF0pKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGYubmV4dChlWzBdKTtcbiAgICAgICAgICBuKDApO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgICB2YXIgbCA9IHtcbiAgICAgICAgY2xvc2VkOiAhMSxcbiAgICAgICAgdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgbC5jbG9zZWQgPSAhMDtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgbigxKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBsO1xuICAgIH0sXG4gICAgW29ic2VydmFibGVTeW1ib2woKV0oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZyb21DYWxsYmFnKGUpIHtcbiAgcmV0dXJuIHIgPT4ge1xuICAgIGUoMCwgKChlLCB0KSA9PiB7XG4gICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICByKHN0YXJ0KChlID0+IHtcbiAgICAgICAgICB0KGUgKyAxKTtcbiAgICAgICAgfSkpKTtcbiAgICAgIH0gZWxzZSBpZiAoMSA9PT0gZSkge1xuICAgICAgICByKHB1c2godCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcigwKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRvQ2FsbGJhZyhlKSB7XG4gIHJldHVybiAociwgdCkgPT4ge1xuICAgIGlmICgwID09PSByKSB7XG4gICAgICBlKChlID0+IHtcbiAgICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICB0KDIpO1xuICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgdCgwLCAociA9PiB7XG4gICAgICAgICAgICBpZiAociA8IDMpIHtcbiAgICAgICAgICAgICAgZVswXShyIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQoMSwgZVswXSk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBwaXBlID0gKC4uLmUpID0+IHtcbiAgdmFyIHIgPSBlWzBdO1xuICBmb3IgKHZhciB0ID0gMSwgaSA9IGUubGVuZ3RoOyB0IDwgaTsgdCsrKSB7XG4gICAgciA9IGVbdF0ocik7XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG5leHBvcnQgeyBidWZmZXIsIGNvbWJpbmUsIGNvbmNhdCwgY29uY2F0QWxsLCBjb25jYXRNYXAsIGRlYm91bmNlLCBkZWxheSwgZW1wdHksIGZpbHRlciwgbWVyZ2VBbGwgYXMgZmxhdHRlbiwgZm9yRWFjaCwgciBhcyBmcm9tQXJyYXksIGZyb21Bc3luY0l0ZXJhYmxlLCBmcm9tQ2FsbGJhZywgZnJvbURvbUV2ZW50LCBmcm9tSXRlcmFibGUsIGZyb21PYnNlcnZhYmxlLCBmcm9tUHJvbWlzZSwgZnJvbVZhbHVlLCBpbnRlcnZhbCwgbGF6eSwgbWFrZSwgbWFrZVN1YmplY3QsIG1hcCwgbWVyZ2UsIG1lcmdlQWxsLCBtZXJnZU1hcCwgbmV2ZXIsIG9uRW5kLCBvblB1c2gsIG9uU3RhcnQsIHBpcGUsIHB1Ymxpc2gsIHNhbXBsZSwgc2Nhbiwgc2hhcmUsIHNraXAsIHNraXBVbnRpbCwgc2tpcFdoaWxlLCBzdWJzY3JpYmUsIHN3aXRjaEFsbCwgc3dpdGNoTWFwLCB0YWtlLCB0YWtlTGFzdCwgdGFrZVVudGlsLCB0YWtlV2hpbGUsIG9uUHVzaCBhcyB0YXAsIHRocm90dGxlLCB0b0FycmF5LCB0b0FzeW5jSXRlcmFibGUsIHRvQ2FsbGJhZywgdG9PYnNlcnZhYmxlLCB0b1Byb21pc2UsIHppcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d29ua2EubWpzLm1hcFxuIiwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgTG9naW5Gb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvTG9naW5Gb3JtLnRzeFwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCIuLi9jb250ZXh0L0F1dGhDb250ZXh0LnRzeFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gTG9naW5QYWdlKCkge1xuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcblxuICAvLyBcdThBOERcdThBM0NcdTZFMDhcdTMwN0ZcdTMwNkFcdTMwODlcdTMwQzBcdTMwQzNcdTMwQjdcdTMwRTVcdTMwRENcdTMwRkNcdTMwQzlcdTMwNzhcdTMwRUFcdTMwQzBcdTMwQTRcdTMwRUNcdTMwQUZcdTMwQzhcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzTG9hZGluZyAmJiBpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIG5hdmlnYXRlKFwiL1wiLCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgfVxuICB9LCBbaXNBdXRoZW50aWNhdGVkLCBpc0xvYWRpbmcsIG5hdmlnYXRlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIHB5LTEyIHB4LTQgc206cHgtNiBsZzpweC04XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LW1kIG14LWF1dG9cIj5cbiAgICAgICAgPExvZ2luRm9ybVxuICAgICAgICAgIG9uU3VjY2Vzcz17KCkgPT4gbmF2aWdhdGUoXCIvXCIsIHsgcmVwbGFjZTogdHJ1ZSB9KX1cbiAgICAgICAgICBvblN3aXRjaFRvU2lnbnVwPXsoKSA9PiBuYXZpZ2F0ZShcIi9zaWdudXBcIil9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsICIvLyBcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwRDVcdTMwQTlcdTMwRkNcdTMwRTBcblxuaW1wb3J0IHsgdHlwZSBGb3JtRXZlbnQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcbmltcG9ydCB7IHNlbmRQYXNzd29yZFJlc2V0IH0gZnJvbSBcIi4uL2ZpcmViYXNlL2F1dGgudHNcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuL2J1dHRvbi9idXR0b24udHN4XCI7XG5pbXBvcnQgeyBTdHlsZWRJbnB1dCB9IGZyb20gXCIuL2lucHV0L2lucHV0LnRzeFwiO1xuXG50eXBlIExvZ2luRm9ybVByb3BzID0ge1xuICBvblN1Y2Nlc3M/OiAoKSA9PiB2b2lkO1xuICBvblN3aXRjaFRvU2lnbnVwPzogKCkgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2dpbkZvcm0oeyBvblN1Y2Nlc3MsIG9uU3dpdGNoVG9TaWdudXAgfTogTG9naW5Gb3JtUHJvcHMpIHtcbiAgY29uc3QgeyBsb2dpbiwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwYXNzd29yZCwgc2V0UGFzc3dvcmRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2hvd1Jlc2V0Rm9ybSwgc2V0U2hvd1Jlc2V0Rm9ybV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZXNldExvYWRpbmcsIHNldFJlc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IEZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRFcnJvcihcIlwiKTtcbiAgICBzZXRNZXNzYWdlKFwiXCIpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbG9naW4oZW1haWwsIHBhc3N3b3JkKTtcblxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgc2V0RW1haWwoXCJcIik7XG4gICAgICBzZXRQYXNzd29yZChcIlwiKTtcbiAgICAgIG9uU3VjY2Vzcz8uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEVycm9yKHJlc3VsdC5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGFzc3dvcmRSZXNldCA9IGFzeW5jIChlOiBGb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2V0RXJyb3IoXCJcIik7XG4gICAgc2V0TWVzc2FnZShcIlwiKTtcbiAgICBzZXRSZXNldExvYWRpbmcodHJ1ZSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kUGFzc3dvcmRSZXNldChlbWFpbCk7XG5cbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHNldE1lc3NhZ2UocmVzdWx0Lm1lc3NhZ2UpO1xuICAgICAgc2V0U2hvd1Jlc2V0Rm9ybShmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEVycm9yKHJlc3VsdC5tZXNzYWdlKTtcbiAgICB9XG4gICAgc2V0UmVzZXRMb2FkaW5nKGZhbHNlKTtcbiAgfTtcblxuICAvLyBcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwRUFcdTMwQkJcdTMwQzNcdTMwQzhcdTMwRDVcdTMwQTlcdTMwRkNcdTMwRTBcbiAgaWYgKHNob3dSZXNldEZvcm0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBzaGFkb3ctbWQgcm91bmRlZC1sZyBwLTZcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwIG1iLTRcIj5cbiAgICAgICAgICBcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwOTJcdTMwRUFcdTMwQkJcdTMwQzNcdTMwQzhcbiAgICAgICAgPC9oMj5cblxuICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBwLTMgYmctcmVkLTEwMCB0ZXh0LXJlZC03MDAgcm91bmRlZC1tZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG1iLTRcIj5cbiAgICAgICAgICBcdTc2N0JcdTkzMzJcdTMwNTdcdTMwNUZcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcdTMwOTJcdTUxNjVcdTUyOUJcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDJcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwRUFcdTMwQkJcdTMwQzNcdTMwQzhcdTc1MjhcdTMwNkVcdTMwRUFcdTMwRjNcdTMwQUZcdTMwOTJcdTkwMDFcdTRGRTFcdTMwNTdcdTMwN0VcdTMwNTlcdTMwMDJcbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVQYXNzd29yZFJlc2V0fSBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8U3R5bGVkSW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICBpZD1cInJlc2V0LWVtYWlsXCJcbiAgICAgICAgICAgIGxhYmVsPVwiXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XCJcbiAgICAgICAgICAgIHZhbHVlPXtlbWFpbH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZXhhbXBsZUBleGFtcGxlLmNvbVwiXG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxCdXR0b24gdHlwZT1cInN1Ym1pdFwiIGRpc2FibGVkPXtyZXNldExvYWRpbmd9IGNsYXNzTmFtZT1cInctZnVsbFwiPlxuICAgICAgICAgICAge3Jlc2V0TG9hZGluZyA/IFwiXHU5MDAxXHU0RkUxXHU0RTJELi4uXCIgOiBcIlx1MzBFQVx1MzBCQlx1MzBDM1x1MzBDOFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA5Mlx1OTAwMVx1NEZFMVwifVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Zvcm0+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIHNldFNob3dSZXNldEZvcm0oZmFsc2UpO1xuICAgICAgICAgICAgc2V0RXJyb3IoXCJcIik7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJtdC00IHctZnVsbCB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS04MDAgdGV4dC1zbVwiXG4gICAgICAgID5cbiAgICAgICAgICBcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwNkJcdTYyM0JcdTMwOEJcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1tZCByb3VuZGVkLWxnIHAtNlwiPlxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1yZWQtMTAwIHRleHQtcmVkLTcwMCByb3VuZGVkLW1kIHRleHQtc21cIj5cbiAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge21lc3NhZ2UgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC0zIGJnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTcwMCByb3VuZGVkLW1kIHRleHQtc21cIj5cbiAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgIGh0bWxGb3I9XCJsb2dpbi1lbWFpbFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8U3R5bGVkSW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICBpZD1cImxvZ2luLWVtYWlsXCJcbiAgICAgICAgICAgIHZhbHVlPXtlbWFpbH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZXhhbXBsZUBleGFtcGxlLmNvbVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgIGh0bWxGb3I9XCJsb2dpbi1wYXNzd29yZFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8U3R5bGVkSW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICBpZD1cImxvZ2luLXBhc3N3b3JkXCJcbiAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UGFzc3dvcmQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiNlx1NjU4N1x1NUI1N1x1NEVFNVx1NEUwQVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxCdXR0b24gdHlwZT1cInN1Ym1pdFwiIGRpc2FibGVkPXtpc0xvYWRpbmd9IGNsYXNzTmFtZT1cInctZnVsbFwiPlxuICAgICAgICAgIHtpc0xvYWRpbmcgPyBcIlx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1NEUyRC4uLlwiIDogXCJcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcIn1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Zvcm0+XG5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBzZXRTaG93UmVzZXRGb3JtKHRydWUpO1xuICAgICAgICAgIHNldEVycm9yKFwiXCIpO1xuICAgICAgICAgIHNldE1lc3NhZ2UoXCJcIik7XG4gICAgICAgIH19XG4gICAgICAgIGNsYXNzTmFtZT1cIm10LTMgdy1mdWxsIHRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIHRleHQtc21cIlxuICAgICAgPlxuICAgICAgICBcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwOTJcdTVGRDhcdTMwOENcdTMwNUZcdTU4MzRcdTU0MDhcbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7b25Td2l0Y2hUb1NpZ251cCAmJiAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgXHUzMEEyXHUzMEFCXHUzMEE2XHUzMEYzXHUzMEM4XHUzMDkyXHUzMDRBXHU2MzAxXHUzMDYxXHUzMDY3XHUzMDZBXHUzMDQ0XHU2NUI5XHUzMDZGe1wiIFwifVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17b25Td2l0Y2hUb1NpZ251cH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBcdTY1QjBcdTg5OEZcdTc2N0JcdTkzMzJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsICIvLyBGaXJlYmFzZSBcdThBOERcdThBM0NcdTMwQjNcdTMwRjNcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcblxuaW1wb3J0IHtcbiAgY3JlYXRlQ29udGV4dCxcbiAgdHlwZSBSZWFjdE5vZGUsXG4gIHVzZUNhbGxiYWNrLFxuICB1c2VDb250ZXh0LFxuICB1c2VFZmZlY3QsXG4gIHVzZVN0YXRlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGZpcmViYXNlTG9naW4sXG4gIGZpcmViYXNlTG9nb3V0LFxuICBmaXJlYmFzZVNpZ251cCxcbiAgb25BdXRoQ2hhbmdlLFxuICByZXNlbmRWZXJpZmljYXRpb25FbWFpbCxcbn0gZnJvbSBcIi4uL2ZpcmViYXNlL2F1dGgudHNcIjtcbmltcG9ydCB0eXBlIHsgVXNlciB9IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XG5cbi8vIFx1OEE4RFx1OEEzQ1x1MzBFNlx1MzBGQ1x1MzBCNlx1MzBGQ1x1NTc4QlxudHlwZSBBdXRoVXNlciA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBlbWFpbFZlcmlmaWVkOiBib29sZWFuO1xufTtcblxuLy8gXHU4QThEXHU4QTNDXHUzMEIzXHUzMEYzXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHU1NzhCXG50eXBlIEF1dGhDb250ZXh0VHlwZSA9IHtcbiAgdXNlcjogQXV0aFVzZXIgfCBudWxsO1xuICBmaXJlYmFzZVVzZXI6IFVzZXIgfCBudWxsO1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgc2lnbnVwOiAoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgKSA9PiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+O1xuICBsb2dpbjogKFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgKSA9PiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+O1xuICBsb2dvdXQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHJlc2VuZFZlcmlmaWNhdGlvbjogKCkgPT4gUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9Pjtcbn07XG5cbi8vIFx1MzBCM1x1MzBGM1x1MzBDNlx1MzBBRFx1MzBCOVx1MzBDOFx1NEY1Q1x1NjIxMFxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZSB8IG51bGw+KG51bGwpO1xuXG4vLyBGaXJlYmFzZSBVc2VyIFx1MzA5MiBBdXRoVXNlciBcdTMwNkJcdTU5MDlcdTYzREJcbmZ1bmN0aW9uIHRvQXV0aFVzZXIoZmlyZWJhc2VVc2VyOiBVc2VyKTogQXV0aFVzZXIge1xuICByZXR1cm4ge1xuICAgIGlkOiBmaXJlYmFzZVVzZXIudWlkLFxuICAgIG5hbWU6IGZpcmViYXNlVXNlci5kaXNwbGF5TmFtZSB8fCBcIlwiLFxuICAgIGVtYWlsOiBmaXJlYmFzZVVzZXIuZW1haWwgfHwgXCJcIixcbiAgICBlbWFpbFZlcmlmaWVkOiBmaXJlYmFzZVVzZXIuZW1haWxWZXJpZmllZCxcbiAgfTtcbn1cblxuLy8gQXV0aFByb3ZpZGVyIFx1MzBCM1x1MzBGM1x1MzBERFx1MzBGQ1x1MzBDRFx1MzBGM1x1MzBDOFxudHlwZSBBdXRoUHJvdmlkZXJQcm9wcyA9IHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBBdXRoUHJvdmlkZXIoeyBjaGlsZHJlbiB9OiBBdXRoUHJvdmlkZXJQcm9wcykge1xuICBjb25zdCBbZmlyZWJhc2VVc2VyLCBzZXRGaXJlYmFzZVVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxBdXRoVXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgLy8gRmlyZWJhc2UgXHU4QThEXHU4QTNDXHU3MkI2XHU2MTRCXHUzMDZFXHU3NkUzXHU4OTk2XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhDaGFuZ2UoKGZiVXNlcikgPT4ge1xuICAgICAgc2V0RmlyZWJhc2VVc2VyKGZiVXNlcik7XG4gICAgICBpZiAoZmJVc2VyKSB7XG4gICAgICAgIHNldFVzZXIodG9BdXRoVXNlcihmYlVzZXIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICB9XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XG4gIH0sIFtdKTtcblxuICAvLyBcdTMwQjVcdTMwQTRcdTMwRjNcdTMwQTJcdTMwQzNcdTMwRDdcbiAgY29uc3Qgc2lnbnVwID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKFxuICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgZW1haWw6IHN0cmluZyxcbiAgICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiA9PiB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmaXJlYmFzZVNpZ251cChlbWFpbCwgcGFzc3dvcmQpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQudXNlcikge1xuICAgICAgICAgIC8vIGRpc3BsYXlOYW1lIFx1MzA5Mlx1OEEyRFx1NUI5QVxuICAgICAgICAgIGNvbnN0IHsgdXBkYXRlUHJvZmlsZSB9ID0gYXdhaXQgaW1wb3J0KFwiZmlyZWJhc2UvYXV0aFwiKTtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVQcm9maWxlKHJlc3VsdC51c2VyLCB7IGRpc3BsYXlOYW1lOiBuYW1lIH0pO1xuXG4gICAgICAgICAgLy8gXHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXHU2MEM1XHU1ODMxXHUzMDkyXHU2NkY0XHU2NUIwXG4gICAgICAgICAgc2V0VXNlcih7XG4gICAgICAgICAgICBpZDogcmVzdWx0LnVzZXIudWlkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiByZXN1bHQudXNlci5lbWFpbCB8fCBcIlwiLFxuICAgICAgICAgICAgZW1haWxWZXJpZmllZDogcmVzdWx0LnVzZXIuZW1haWxWZXJpZmllZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHJlc3VsdC5zdWNjZXNzLCBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICA/IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgIDogXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIixcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXSxcbiAgKTtcblxuICAvLyBcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcbiAgY29uc3QgbG9naW4gPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoXG4gICAgICBlbWFpbDogc3RyaW5nLFxuICAgICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+ID0+IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZpcmViYXNlTG9naW4oZW1haWwsIHBhc3N3b3JkKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogcmVzdWx0LnN1Y2Nlc3MsIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3JcbiAgICAgICAgICAgID8gZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgOiBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiLFxuICAgICAgICB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtdLFxuICApO1xuXG4gIC8vIFx1MzBFRFx1MzBCMFx1MzBBMlx1MzBBNlx1MzBDOFxuICBjb25zdCBsb2dvdXQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmlyZWJhc2VMb2dvdXQoKTtcbiAgICBzZXRVc2VyKG51bGwpO1xuICAgIHNldEZpcmViYXNlVXNlcihudWxsKTtcbiAgfSwgW10pO1xuXG4gIC8vIFx1NzhCQVx1OEE4RFx1MzBFMVx1MzBGQ1x1MzBFQlx1NTE4RFx1OTAwMVx1NEZFMVxuICBjb25zdCByZXNlbmRWZXJpZmljYXRpb24gPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHJlc2VuZFZlcmlmaWNhdGlvbkVtYWlsKCk7XG4gIH0sIFtdKTtcblxuICAvLyBcdTMwRTFcdTMwRkNcdTMwRUJcdThBOERcdThBM0NcdTZFMDhcdTMwN0ZcdTMwNEJcdTMwNjlcdTMwNDZcdTMwNEJcdTMwNjdcdThBOERcdThBM0NcdTcyQjZcdTYxNEJcdTMwOTJcdTUyMjRcdTVCOUFcbiAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gdXNlciAhPT0gbnVsbCAmJiB1c2VyLmVtYWlsVmVyaWZpZWQ7XG5cbiAgY29uc3QgdmFsdWU6IEF1dGhDb250ZXh0VHlwZSA9IHtcbiAgICB1c2VyLFxuICAgIGZpcmViYXNlVXNlcixcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNBdXRoZW50aWNhdGVkLFxuICAgIHNpZ251cCxcbiAgICBsb2dpbixcbiAgICBsb2dvdXQsXG4gICAgcmVzZW5kVmVyaWZpY2F0aW9uLFxuICB9O1xuXG4gIHJldHVybiA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9BdXRoQ29udGV4dC5Qcm92aWRlcj47XG59XG5cbi8vIHVzZUF1dGggXHUzMEQ1XHUzMEMzXHUzMEFGXG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpOiBBdXRoQ29udGV4dFR5cGUge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IHJlZ2lzdGVyVmVyc2lvbiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgbmFtZSwgdmVyc2lvbiB9IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5cbnJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCAnYXBwJyk7XG5leHBvcnQgKiBmcm9tICdAZmlyZWJhc2UvYXBwJztcbiIsICJpbXBvcnQgeyBnZXRBcHBzLCBpbml0aWFsaXplQXBwIH0gZnJvbSBcImZpcmViYXNlL2FwcFwiO1xuaW1wb3J0IHtcbiAgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkLFxuICBnZXRBdXRoLFxuICBvbkF1dGhTdGF0ZUNoYW5nZWQsXG4gIHNlbmRFbWFpbFZlcmlmaWNhdGlvbixcbiAgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbCxcbiAgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsXG4gIHNpZ25PdXQsXG4gIHR5cGUgVXNlcixcbn0gZnJvbSBcImZpcmViYXNlL2F1dGhcIjtcbmltcG9ydCB7IGZpcmViYXNlQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnLnRzXCI7XG5cbi8vIEZpcmViYXNlIFx1MzBBMlx1MzBEN1x1MzBFQVx1MzA2RVx1NTIxRFx1NjcxRlx1NTMxNlx1RkYwOFx1OTFDRFx1ODkwN1x1NTIxRFx1NjcxRlx1NTMxNlx1MzA5Mlx1OTYzMlx1MzA1MFx1RkYwOVxuY29uc3QgYXBwID0gZ2V0QXBwcygpLmxlbmd0aCA9PT0gMFxuICA/IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpXG4gIDogZ2V0QXBwcygpWzBdO1xuY29uc3QgYXV0aCA9IGdldEF1dGgoYXBwKTtcblxuZXhwb3J0IHsgYXV0aCB9O1xuXG4vLyBcdTMwQjVcdTMwQTRcdTMwRjNcdTMwQTJcdTMwQzNcdTMwRDdcdUZGMDhcdTY1QjBcdTg5OEZcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTRGNUNcdTYyMTAgKyBcdTc4QkFcdThBOERcdTMwRTFcdTMwRkNcdTMwRUJcdTkwMDFcdTRGRTFcdUZGMDlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaXJlYmFzZVNpZ251cChcbiAgZW1haWw6IHN0cmluZyxcbiAgcGFzc3dvcmQ6IHN0cmluZyxcbik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IHVzZXI/OiBVc2VyIH0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChcbiAgICAgIGF1dGgsXG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkLFxuICAgICk7XG4gICAgY29uc3QgdXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXI7XG5cbiAgICAvLyBcdTc4QkFcdThBOERcdTMwRTFcdTMwRkNcdTMwRUJcdTMwOTJcdTkwMDFcdTRGRTFcbiAgICBhd2FpdCBzZW5kRW1haWxWZXJpZmljYXRpb24odXNlcik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IFwiXHU3OEJBXHU4QThEXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU5MDAxXHU0RkUxXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXHUzMDAyXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU3OEJBXHU4QThEXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0XHUzMDAyXCIsXG4gICAgICB1c2VyLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgY29uc3QgZmlyZWJhc2VFcnJvciA9IGVycm9yIGFzIHsgY29kZT86IHN0cmluZzsgbWVzc2FnZT86IHN0cmluZyB9O1xuICAgIGxldCBtZXNzYWdlID0gXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIjtcblxuICAgIHN3aXRjaCAoZmlyZWJhc2VFcnJvci5jb2RlKSB7XG4gICAgICBjYXNlIFwiYXV0aC9lbWFpbC1hbHJlYWR5LWluLXVzZVwiOlxuICAgICAgICBtZXNzYWdlID0gXCJcdTMwNTNcdTMwNkVcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcdTMwNkZcdTY1RTJcdTMwNkJcdTRGN0ZcdTc1MjhcdTMwNTVcdTMwOENcdTMwNjZcdTMwNDRcdTMwN0VcdTMwNTlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYXV0aC9pbnZhbGlkLWVtYWlsXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1NzEyMVx1NTJCOVx1MzA2QVx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVx1MzA2N1x1MzA1OVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL3dlYWstcGFzc3dvcmRcIjpcbiAgICAgICAgbWVzc2FnZSA9IFwiXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMDZGNlx1NjU4N1x1NUI1N1x1NEVFNVx1NEUwQVx1MzA2Qlx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG1lc3NhZ2UgPSBmaXJlYmFzZUVycm9yLm1lc3NhZ2UgfHwgXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIjtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZSB9O1xuICB9XG59XG5cbi8vIFx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpcmViYXNlTG9naW4oXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG4pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyB1c2VyPzogVXNlciB9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChcbiAgICAgIGF1dGgsXG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkLFxuICAgICk7XG4gICAgY29uc3QgdXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXI7XG5cbiAgICAvLyBcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTYwQzVcdTU4MzFcdTMwOTJcdTMwRUFcdTMwRURcdTMwRkNcdTMwQzlcdTMwNTdcdTMwNjZcdTY3MDBcdTY1QjBcdTMwNkUgZW1haWxWZXJpZmllZCBcdTMwOTJcdTUzRDZcdTVGOTdcbiAgICBhd2FpdCB1c2VyLnJlbG9hZCgpO1xuXG4gICAgaWYgKCF1c2VyLmVtYWlsVmVyaWZpZWQpIHtcbiAgICAgIC8vIFx1NjcyQVx1NzhCQVx1OEE4RFx1MzA2RVx1NTgzNFx1NTQwOFx1MzA2Rlx1MzBCNVx1MzBBNFx1MzBGM1x1MzBBMlx1MzBBNlx1MzBDOFxuICAgICAgYXdhaXQgc2lnbk91dChhdXRoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgIFwiXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XHUzMDRDXHU3OEJBXHU4QThEXHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDdFXHUzMDVCXHUzMDkzXHUzMDAyXHU3OEJBXHU4QThEXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU3OEJBXHU4QThEXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0XHUzMDAyXCIsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogXCJcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIixcbiAgICAgIHVzZXIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICBjb25zdCBmaXJlYmFzZUVycm9yID0gZXJyb3IgYXMgeyBjb2RlPzogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH07XG4gICAgbGV0IG1lc3NhZ2UgPSBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiO1xuXG4gICAgc3dpdGNoIChmaXJlYmFzZUVycm9yLmNvZGUpIHtcbiAgICAgIGNhc2UgXCJhdXRoL3VzZXItbm90LWZvdW5kXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1MzBFNlx1MzBGQ1x1MzBCNlx1MzBGQ1x1MzA0Q1x1ODk4Qlx1MzA2NFx1MzA0Qlx1MzA4QVx1MzA3RVx1MzA1Qlx1MzA5M1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL3dyb25nLXBhc3N3b3JkXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzA0Q1x1OTU5M1x1OTA1NVx1MzA2M1x1MzA2Nlx1MzA0NFx1MzA3RVx1MzA1OVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL2ludmFsaWQtY3JlZGVudGlhbFwiOlxuICAgICAgICBtZXNzYWdlID0gXCJcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcdTMwN0VcdTMwNUZcdTMwNkZcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwNENcdTk1OTNcdTkwNTVcdTMwNjNcdTMwNjZcdTMwNDRcdTMwN0VcdTMwNTlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYXV0aC9pbnZhbGlkLWVtYWlsXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1NzEyMVx1NTJCOVx1MzA2QVx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVx1MzA2N1x1MzA1OVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL3VzZXItZGlzYWJsZWRcIjpcbiAgICAgICAgbWVzc2FnZSA9IFwiXHUzMDUzXHUzMDZFXHUzMEEyXHUzMEFCXHUzMEE2XHUzMEYzXHUzMEM4XHUzMDZGXHU3MTIxXHU1MkI5XHU1MzE2XHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDdFXHUzMDU5XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImF1dGgvdG9vLW1hbnktcmVxdWVzdHNcIjpcbiAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgXCJcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdThBNjZcdTg4NENcdTU2REVcdTY1NzBcdTMwNENcdTU5MUFcdTMwNTlcdTMwNEVcdTMwN0VcdTMwNTlcdTMwMDJcdTMwNTdcdTMwNzBcdTMwODlcdTMwNEZcdTVGODVcdTMwNjNcdTMwNjZcdTMwNEJcdTMwODlcdTUxOERcdThBNjZcdTg4NENcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5rbm93biBlcnJvciBjb2RlOlwiLCBmaXJlYmFzZUVycm9yLmNvZGUpO1xuICAgICAgICBtZXNzYWdlID0gZmlyZWJhc2VFcnJvci5tZXNzYWdlIHx8IFwiXHUzMEE4XHUzMEU5XHUzMEZDXHUzMDRDXHU3NjdBXHU3NTFGXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2UgfTtcbiAgfVxufVxuXG4vLyBcdTMwRURcdTMwQjBcdTMwQTJcdTMwQTZcdTMwQzhcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaXJlYmFzZUxvZ291dCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgc2lnbk91dChhdXRoKTtcbn1cblxuLy8gXHU4QThEXHU4QTNDXHU3MkI2XHU2MTRCXHUzMDZFXHU3NkUzXHU4OTk2XG5leHBvcnQgZnVuY3Rpb24gb25BdXRoQ2hhbmdlKFxuICBjYWxsYmFjazogKHVzZXI6IFVzZXIgfCBudWxsKSA9PiB2b2lkLFxuKTogKCkgPT4gdm9pZCB7XG4gIHJldHVybiBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgY2FsbGJhY2spO1xufVxuXG4vLyBcdTc4QkFcdThBOERcdTMwRTFcdTMwRkNcdTMwRUJcdTMwNkVcdTUxOERcdTkwMDFcdTRGRTFcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNlbmRWZXJpZmljYXRpb25FbWFpbCgpOiBQcm9taXNlPFxuICB7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9XG4+IHtcbiAgY29uc3QgdXNlciA9IGF1dGguY3VycmVudFVzZXI7XG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1MzA1N1x1MzA2Nlx1MzA0NFx1MzA3RVx1MzA1Qlx1MzA5M1wiIH07XG4gIH1cblxuICB0cnkge1xuICAgIGF3YWl0IHNlbmRFbWFpbFZlcmlmaWNhdGlvbih1c2VyKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIlx1NzhCQVx1OEE4RFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA5Mlx1NTE4RFx1OTAwMVx1NEZFMVx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiIH07XG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgY29uc3QgZmlyZWJhc2VFcnJvciA9IGVycm9yIGFzIHsgbWVzc2FnZT86IHN0cmluZyB9O1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGZpcmViYXNlRXJyb3IubWVzc2FnZSB8fCBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiLFxuICAgIH07XG4gIH1cbn1cblxuLy8gXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMEVBXHUzMEJCXHUzMEMzXHUzMEM4XHUzMEUxXHUzMEZDXHUzMEVCXHUzMDZFXHU5MDAxXHU0RkUxXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFBhc3N3b3JkUmVzZXQoXG4gIGVtYWlsOiBzdHJpbmcsXG4pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKGF1dGgsIGVtYWlsKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIFwiXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMEVBXHUzMEJCXHUzMEMzXHUzMEM4XHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU5MDAxXHU0RkUxXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXHUzMDAyXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU3OEJBXHU4QThEXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0XHUzMDAyXCIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICBjb25zdCBmaXJlYmFzZUVycm9yID0gZXJyb3IgYXMgeyBjb2RlPzogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH07XG4gICAgbGV0IG1lc3NhZ2UgPSBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiO1xuXG4gICAgc3dpdGNoIChmaXJlYmFzZUVycm9yLmNvZGUpIHtcbiAgICAgIGNhc2UgXCJhdXRoL3VzZXItbm90LWZvdW5kXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1MzA1M1x1MzA2RVx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVx1MzA2Rlx1NzY3Qlx1OTMzMlx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA3RVx1MzA1Qlx1MzA5M1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL2ludmFsaWQtZW1haWxcIjpcbiAgICAgICAgbWVzc2FnZSA9IFwiXHU3MTIxXHU1MkI5XHUzMDZBXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XHUzMDY3XHUzMDU5XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbWVzc2FnZSA9IGZpcmViYXNlRXJyb3IubWVzc2FnZSB8fCBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiO1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlIH07XG4gIH1cbn1cbiIsICIvLyBGaXJlYmFzZSBjb25maWd1cmF0aW9uXG4vLyBcdTc0QjBcdTU4ODNcdTU5MDlcdTY1NzBcdTMwNEJcdTMwODlcdThBMkRcdTVCOUFcdTMwOTJcdThBQURcdTMwN0ZcdThGQkNcdTMwN0ZcdUZGMDhcdTMwRDNcdTMwRUJcdTMwQzlcdTY2NDJcdTMwNkJcdTU3Q0JcdTMwODFcdThGQkNcdTMwN0VcdTMwOENcdTMwOEJcdUZGMDlcblxuLy8gZGVuby1saW50LWlnbm9yZSBuby1leHBsaWNpdC1hbnlcbmRlY2xhcmUgY29uc3QgcHJvY2VzczogYW55O1xuXG5leHBvcnQgY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVBJX0tFWSxcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVVUSF9ET01BSU4sXG4gIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfUFJPSkVDVF9JRCxcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQsXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lELFxuICBhcHBJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVBQX0lELFxuICBtZWFzdXJlbWVudElkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9NRUFTVVJFTUVOVF9JRCxcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIEJ1dHRvbihcbiAgeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCB0eXBlID0gXCJidXR0b25cIiwgZGlzYWJsZWQgPSBmYWxzZSwgb25DbGljayB9OiB7XG4gICAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICAgIHR5cGU/OiBcImJ1dHRvblwiIHwgXCJzdWJtaXRcIiB8IFwicmVzZXRcIjtcbiAgICBkaXNhYmxlZD86IGJvb2xlYW47XG4gICAgb25DbGljaz86ICgpID0+IHZvaWQ7XG4gIH0sXG4pIHtcbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICB0eXBlPXt0eXBlfVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgIGNsYXNzTmFtZT17YHB4LTYgcHktMyBiZy1ncmF5LTYwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmF5LTcwMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIGdyb3VwIGFjdGl2ZTpzY2FsZS05NSB0cmFuc2Zvcm0gJHtjbGFzc05hbWV9YH1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB6LTEwXCI+e2NoaWxkcmVufTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctd2hpdGUgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMjAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTIwMFwiPlxuICAgICAgPC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlZElucHV0UHJvcHNcbiAgZXh0ZW5kcyBPbWl0PFJlYWN0LklucHV0SFRNTEF0dHJpYnV0ZXM8SFRNTElucHV0RWxlbWVudD4sIFwidHlwZVwiPiB7XG4gIGxhYmVsPzogc3RyaW5nO1xuICBlcnJvcj86IHN0cmluZztcbiAgdHlwZTogXCJlbWFpbFwiIHwgXCJwYXNzd29yZFwiIHwgXCJ0ZXh0XCI7XG59XG5cbi8vIFx1MzBCN1x1MzBGM1x1MzBEN1x1MzBFQlx1MzA2QVNWR1x1MzBBMlx1MzBBNFx1MzBCM1x1MzBGM1xuY29uc3QgTWFpbEljb24gPSAoKSA9PiAoXG4gIDxzdmdcbiAgICBjbGFzc05hbWU9XCJ3LTUgaC01XCJcbiAgICBmaWxsPVwibm9uZVwiXG4gICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgPlxuICAgIDxwYXRoXG4gICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICBzdHJva2VXaWR0aD17Mn1cbiAgICAgIGQ9XCJNMyA4bDcuODkgNS4yNmEyIDIgMCAwMDIuMjIgMEwyMSA4TTUgMTloMTRhMiAyIDAgMDAyLTJWN2EyIDIgMCAwMC0yLTJINWEyIDIgMCAwMC0yIDJ2MTBhMiAyIDAgMDAyIDJ6XCJcbiAgICAvPlxuICA8L3N2Zz5cbik7XG5cbmNvbnN0IExvY2tJY29uID0gKCkgPT4gKFxuICA8c3ZnXG4gICAgY2xhc3NOYW1lPVwidy01IGgtNVwiXG4gICAgZmlsbD1cIm5vbmVcIlxuICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gID5cbiAgICA8cGF0aFxuICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICBkPVwiTTEyIDE1djJtLTYgNGgxMmEyIDIgMCAwMDItMnYtNmEyIDIgMCAwMC0yLTJINmEyIDIgMCAwMC0yIDJ2NmEyIDIgMCAwMDIgMnptMTAtMTBWN2E0IDQgMCAwMC04IDB2NGg4elwiXG4gICAgLz5cbiAgPC9zdmc+XG4pO1xuXG5jb25zdCBFeWVJY29uID0gKCkgPT4gKFxuICA8c3ZnXG4gICAgY2xhc3NOYW1lPVwidy01IGgtNVwiXG4gICAgZmlsbD1cIm5vbmVcIlxuICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gID5cbiAgICA8cGF0aFxuICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICBkPVwiTTE1IDEyYTMgMyAwIDExLTYgMCAzIDMgMCAwMTYgMHpcIlxuICAgIC8+XG4gICAgPHBhdGhcbiAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgZD1cIk0yLjQ1OCAxMkMzLjczMiA3Ljk0MyA3LjUyMyA1IDEyIDVjNC40NzggMCA4LjI2OCAyLjk0MyA5LjU0MiA3LTEuMjc0IDQuMDU3LTUuMDY0IDctOS41NDIgNy00LjQ3NyAwLTguMjY4LTIuOTQzLTkuNTQyLTd6XCJcbiAgICAvPlxuICA8L3N2Zz5cbik7XG5cbmNvbnN0IEV5ZU9mZkljb24gPSAoKSA9PiAoXG4gIDxzdmdcbiAgICBjbGFzc05hbWU9XCJ3LTUgaC01XCJcbiAgICBmaWxsPVwibm9uZVwiXG4gICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgPlxuICAgIDxwYXRoXG4gICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICBzdHJva2VXaWR0aD17Mn1cbiAgICAgIGQ9XCJNMTMuODc1IDE4LjgyNUExMC4wNSAxMC4wNSAwIDAxMTIgMTljLTQuNDc4IDAtOC4yNjgtMi45NDMtOS41NDMtN2E5Ljk3IDkuOTcgMCAwMTEuNTYzLTMuMDI5bTUuODU4LjkwOGEzIDMgMCAxMTQuMjQzIDQuMjQzTTkuODc4IDkuODc4bDQuMjQyIDQuMjQyTTkuODggOS44OGwtMy4yOS0zLjI5bTcuNTMyIDcuNTMybDMuMjkgMy4yOU0zIDNsMy41OSAzLjU5bTAgMEE5Ljk1MyA5Ljk1MyAwIDAxMTIgNWM0LjQ3OCAwIDguMjY4IDIuOTQzIDkuNTQzIDdhMTAuMDI1IDEwLjAyNSAwIDAxLTQuMTMyIDUuNDExbTAgMEwyMSAyMVwiXG4gICAgLz5cbiAgPC9zdmc+XG4pO1xuXG5jb25zdCBTdHlsZWRJbnB1dCA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTElucHV0RWxlbWVudCwgU3R5bGVkSW5wdXRQcm9wcz4oXG4gICh7IGNsYXNzTmFtZSwgbGFiZWwsIGVycm9yLCB0eXBlLCBpZCwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgZ2VuZXJhdGVkSWQgPSBSZWFjdC51c2VJZCgpO1xuICAgIGNvbnN0IGlucHV0SWQgPSBpZCB8fCBnZW5lcmF0ZWRJZDtcbiAgICBjb25zdCBbc2hvd1Bhc3N3b3JkLCBzZXRTaG93UGFzc3dvcmRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtpc0ZvY3VzZWQsIHNldElzRm9jdXNlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBjb25zdCBpbnB1dFR5cGUgPSB0eXBlID09PSBcInBhc3N3b3JkXCIgJiYgc2hvd1Bhc3N3b3JkID8gXCJ0ZXh0XCIgOiB0eXBlO1xuXG4gICAgY29uc3QgZ2V0SWNvbiA9ICgpID0+IHtcbiAgICAgIGlmICh0eXBlID09PSBcImVtYWlsXCIpIHJldHVybiA8TWFpbEljb24gLz47XG4gICAgICBpZiAodHlwZSA9PT0gXCJwYXNzd29yZFwiKSByZXR1cm4gPExvY2tJY29uIC8+O1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIGNvbnN0IGljb25Db2xvckNsYXNzID0gaXNGb2N1c2VkID8gXCJ0ZXh0LWJsdWUtNjAwXCIgOiBcInRleHQtZ3JheS00MDBcIjtcblxuICAgIGNvbnN0IGlucHV0Q2xhc3NlcyA9IFtcbiAgICAgIFwiZmxleCBoLTEyIHctZnVsbCByb3VuZGVkLWxnIGJvcmRlciBiZy1ncmF5LTUwIHB4LTEyIHB5LTMgdGV4dC1iYXNlIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIixcbiAgICAgIFwidHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGVhc2Utb3V0XCIsXG4gICAgICBcInBsYWNlaG9sZGVyOnRleHQtZ3JheS00MDAgcGxhY2Vob2xkZXI6Zm9udC1ub3JtYWxcIixcbiAgICAgIFwiZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudFwiLFxuICAgICAgXCJkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MFwiLFxuICAgICAgZXJyb3JcbiAgICAgICAgPyBcImJvcmRlci1yZWQtNTAwIGZvY3VzOnJpbmctcmVkLTUwMFwiXG4gICAgICAgIDogXCJib3JkZXItZ3JheS0zMDAgaG92ZXI6Ym9yZGVyLWdyYXktNDAwXCIsXG4gICAgICBjbGFzc05hbWUsXG4gICAgXVxuICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIHNwYWNlLXktMlwiPlxuICAgICAgICB7bGFiZWwgJiYgKFxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgaHRtbEZvcj17aW5wdXRJZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICl9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICB7LyogSWNvbiAqL31cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSBsZWZ0LTQgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHRyYW5zaXRpb24tY29sb3JzICR7aWNvbkNvbG9yQ2xhc3N9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0SWNvbigpfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIElucHV0ICovfVxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT17aW5wdXRUeXBlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtpbnB1dENsYXNzZXN9XG4gICAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgICAgIGlkPXtpbnB1dElkfVxuICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4gc2V0SXNGb2N1c2VkKHRydWUpfVxuICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBzZXRJc0ZvY3VzZWQoZmFsc2UpfVxuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICB7LyogUGFzc3dvcmQgVG9nZ2xlICovfVxuICAgICAgICAgIHt0eXBlID09PSBcInBhc3N3b3JkXCIgJiYgKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1Bhc3N3b3JkKCFzaG93UGFzc3dvcmQpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSByaWdodC00IHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB0cmFuc2l0aW9uLWNvbG9ycyBob3Zlcjp0ZXh0LWdyYXktNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czp0ZXh0LWdyYXktNzAwICR7aWNvbkNvbG9yQ2xhc3N9YH1cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17c2hvd1Bhc3N3b3JkXG4gICAgICAgICAgICAgICAgPyBcIlx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzA5Mlx1OTZBMFx1MzA1OVwiXG4gICAgICAgICAgICAgICAgOiBcIlx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzA5Mlx1ODg2OFx1NzkzQVwifVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7c2hvd1Bhc3N3b3JkID8gPEV5ZU9mZkljb24gLz4gOiA8RXllSWNvbiAvPn1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBFcnJvciBNZXNzYWdlICovfVxuICAgICAgICB7ZXJyb3IgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC01MDAgZm9udC1tZWRpdW1cIj57ZXJyb3J9PC9wPn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH0sXG4pO1xuXG5TdHlsZWRJbnB1dC5kaXNwbGF5TmFtZSA9IFwiU3R5bGVkSW5wdXRcIjtcblxuZXhwb3J0IHsgU3R5bGVkSW5wdXQgfTtcbiIsICJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBMaW5rLCB1c2VOYXZpZ2F0ZSB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBTaWdudXBGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2lnbnVwRm9ybS50c3hcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFNpZ251cFBhZ2UoKSB7XG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgY29uc3QgW3NpZ251cENvbXBsZXRlLCBzZXRTaWdudXBDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gXHU4QThEXHU4QTNDXHU2RTA4XHUzMDdGXHUzMDZBXHUzMDg5XHUzMEMwXHUzMEMzXHUzMEI3XHUzMEU1XHUzMERDXHUzMEZDXHUzMEM5XHUzMDc4XHUzMEVBXHUzMEMwXHUzMEE0XHUzMEVDXHUzMEFGXHUzMEM4XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzQXV0aGVudGljYXRlZCkge1xuICAgICAgbmF2aWdhdGUoXCIvXCIsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIG5hdmlnYXRlXSk7XG5cbiAgLy8gXHUzMEI1XHUzMEE0XHUzMEYzXHUzMEEyXHUzMEMzXHUzMEQ3XHU1QjhDXHU0RTg2XHU1RjhDXHUzMDZFXHUzMEUxXHUzMEZDXHUzMEVCXHU3OEJBXHU4QThEXHU2ODQ4XHU1MTg1XHU3NTNCXHU5NzYyXG4gIGlmIChzaWdudXBDb21wbGV0ZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIHB5LTEyIHB4LTQgc206cHgtNiBsZzpweC04XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgbXgtYXV0b1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgc2hhZG93LW1kIHJvdW5kZWQtbGcgcC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtNXhsIG1iLTRcIj5cdUQ4M0RcdURDRTc8L2Rpdj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00XCI+XG4gICAgICAgICAgICAgIFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA5Mlx1MzA1NFx1NzhCQVx1OEE4RFx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCBtYi02XCI+XG4gICAgICAgICAgICAgIFx1MzBGQlx1MjAzQlx1MzBCRlx1MzBBNFx1MzBDOFx1MzBFQlx1MzAwQ1x1NTM1OFx1OEE5RVx1MzBBMlx1MzBEN1x1MzBFQVx1NzhCQVx1OEE4RFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzAwRFx1MzA2OFx1MzA1N1x1MzA2Nlx1OEZGN1x1NjBEMVx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA2QVx1MzA2OVx1MzA2Qlx1NTIwNlx1OTg1RVx1MzA1NVx1MzA4Q1x1MzA4Qlx1NTgzNFx1NTQwOFx1MzA0Q1x1MzA0Mlx1MzA4QVx1MzA3RVx1MzA1OVx1MzAwMlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICB0bz1cIi9sb2dpblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC1jZW50ZXJcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXHUzMERBXHUzMEZDXHUzMEI4XHUzMDc4XG4gICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNpZ251cENvbXBsZXRlKGZhbHNlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB3LWZ1bGwgdGV4dC1ncmF5LTYwMCBob3Zlcjp0ZXh0LWdyYXktODAwIHRleHQtc21cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgXHU1MjI1XHUzMDZFXHUzMEEyXHUzMEFCXHUzMEE2XHUzMEYzXHUzMEM4XHUzMDY3XHU3NjdCXHU5MzMyXHUzMDU5XHUzMDhCXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBweS0xMiBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy1tZCBteC1hdXRvXCI+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTkwMCBtYi04XCI+XG4gICAgICAgICAgUmVhY3QgQXV0aCBEZW1vXG4gICAgICAgIDwvaDE+XG4gICAgICAgIDxTaWdudXBGb3JtXG4gICAgICAgICAgb25TdWNjZXNzPXsoKSA9PiBzZXRTaWdudXBDb21wbGV0ZSh0cnVlKX1cbiAgICAgICAgICBvblN3aXRjaFRvTG9naW49eygpID0+IG5hdmlnYXRlKFwiL2xvZ2luXCIpfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCAiLy8gXHUzMEI1XHUzMEE0XHUzMEYzXHUzMEEyXHUzMEMzXHUzMEQ3XHUzMEQ1XHUzMEE5XHUzMEZDXHUzMEUwXG5cbmltcG9ydCB7IHR5cGUgRm9ybUV2ZW50LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCIuLi9jb250ZXh0L0F1dGhDb250ZXh0LnRzeFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4vYnV0dG9uL2J1dHRvbi50c3hcIjtcbmltcG9ydCB7IFN0eWxlZElucHV0IH0gZnJvbSBcIi4vaW5wdXQvaW5wdXQudHN4XCI7XG5cbnR5cGUgU2lnbnVwRm9ybVByb3BzID0ge1xuICBvblN1Y2Nlc3M/OiAoKSA9PiB2b2lkO1xuICBvblN3aXRjaFRvTG9naW4/OiAoKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFNpZ251cEZvcm0oeyBvblN1Y2Nlc3MsIG9uU3dpdGNoVG9Mb2dpbiB9OiBTaWdudXBGb3JtUHJvcHMpIHtcbiAgY29uc3QgeyBzaWdudXAsIGlzTG9hZGluZyB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBbbmFtZSwgc2V0TmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShcIlwiKTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZTogRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNldEVycm9yKFwiXCIpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbnVwKG5hbWUsIGVtYWlsLCBwYXNzd29yZCk7XG5cbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHNldE5hbWUoXCJcIik7XG4gICAgICBzZXRFbWFpbChcIlwiKTtcbiAgICAgIHNldFBhc3N3b3JkKFwiXCIpO1xuICAgICAgb25TdWNjZXNzPy4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RXJyb3IocmVzdWx0Lm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgc2hhZG93LW1kIHJvdW5kZWQtbGcgcC02XCI+XG4gICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgbWItNFwiPlx1NjVCMFx1ODk4Rlx1NzY3Qlx1OTMzMjwvaDI+XG5cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBwLTMgYmctcmVkLTEwMCB0ZXh0LXJlZC03MDAgcm91bmRlZC1tZCB0ZXh0LXNtXCI+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICA8U3R5bGVkSW5wdXRcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgaWQ9XCJzaWdudXAtbmFtZVwiXG4gICAgICAgICAgbGFiZWw9XCJcdTU0MERcdTUyNERcIlxuICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmFtZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlx1NUM3MVx1NzUzMCBcdTU5MkFcdTkwQ0VcIlxuICAgICAgICAvPlxuXG4gICAgICAgIDxTdHlsZWRJbnB1dFxuICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgaWQ9XCJzaWdudXAtZW1haWxcIlxuICAgICAgICAgIGxhYmVsPVwiXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XCJcbiAgICAgICAgICB2YWx1ZT17ZW1haWx9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cImV4YW1wbGVAZXhhbXBsZS5jb21cIlxuICAgICAgICAvPlxuXG4gICAgICAgIDxTdHlsZWRJbnB1dFxuICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgaWQ9XCJzaWdudXAtcGFzc3dvcmRcIlxuICAgICAgICAgIGxhYmVsPVwiXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XCJcbiAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQYXNzd29yZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICBtaW5MZW5ndGg9ezZ9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCI2XHU2NTg3XHU1QjU3XHU0RUU1XHU0RTBBXCJcbiAgICAgICAgLz5cblxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICA+XG4gICAgICAgICAge2lzTG9hZGluZyA/IFwiXHU3NjdCXHU5MzMyXHU0RTJELi4uXCIgOiBcIlx1NzY3Qlx1OTMzMlx1MzA1OVx1MzA4QlwifVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZm9ybT5cblxuICAgICAge29uU3dpdGNoVG9Mb2dpbiAmJiAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgXHUzMDU5XHUzMDY3XHUzMDZCXHUzMEEyXHUzMEFCXHUzMEE2XHUzMEYzXHUzMEM4XHUzMDkyXHUzMDRBXHU2MzAxXHUzMDYxXHUzMDZFXHU2NUI5XHUzMDZGe1wiIFwifVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17b25Td2l0Y2hUb0xvZ2lufVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIiwgImltcG9ydCB7IHR5cGUgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBOYXZpZ2F0ZSwgdXNlTG9jYXRpb24gfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCIuLi9jb250ZXh0L0F1dGhDb250ZXh0LnRzeFwiO1xuXG50eXBlIFByb3RlY3RlZFJvdXRlUHJvcHMgPSB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG4gIHJlZGlyZWN0VG8/OiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIFx1OEE4RFx1OEEzQ1x1MzA0Q1x1NUZDNVx1ODk4MVx1MzA2QVx1MzBFQlx1MzBGQ1x1MzBDOFx1MzA5Mlx1NEZERFx1OEI3N1x1MzA1OVx1MzA4Qlx1MzBCM1x1MzBGM1x1MzBERFx1MzBGQ1x1MzBDRFx1MzBGM1x1MzBDOFxuICpcbiAqIFx1NEY3Rlx1NzUyOFx1NEY4QjpcbiAqIDxSb3V0ZVxuICogICBwYXRoPVwiL1wiXG4gKiAgIGVsZW1lbnQ9e1xuICogICAgIDxQcm90ZWN0ZWRSb3V0ZT5cbiAqICAgICAgIDxEYXNoYm9hcmRQYWdlIC8+XG4gKiAgICAgPC9Qcm90ZWN0ZWRSb3V0ZT5cbiAqICAgfVxuICogLz5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFByb3RlY3RlZFJvdXRlKHtcbiAgY2hpbGRyZW4sXG4gIHJlZGlyZWN0VG8gPSBcIi9sb2dpblwiLFxufTogUHJvdGVjdGVkUm91dGVQcm9wcykge1xuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcblxuICAvLyBcdTMwRURcdTMwRkNcdTMwQzdcdTMwQTNcdTMwRjNcdTMwQjBcdTRFMkRcdTMwNkZcdTMwQjlcdTMwRDRcdTMwQ0FcdTMwRkNcdTMwOTJcdTg4NjhcdTc5M0FcbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLWItMiBib3JkZXItYmx1ZS02MDBcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFx1NjcyQVx1OEE4RFx1OEEzQ1x1MzA2QVx1MzA4OVx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1MzBEQVx1MzBGQ1x1MzBCOFx1MzA3OFx1MzBFQVx1MzBDMFx1MzBBNFx1MzBFQ1x1MzBBRlx1MzBDOFxuICAvLyBzdGF0ZSBcdTMwNkJcdTczRkVcdTU3MjhcdTMwNkVcdTMwRDFcdTMwQjlcdTMwOTJcdTRGRERcdTVCNThcdTMwNTdcdTMwNjZcdTMwMDFcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTVGOENcdTMwNkJcdTYyM0JcdTMwOENcdTMwOEJcdTMwODhcdTMwNDZcdTMwNkJcdTMwNTlcdTMwOEJcbiAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gPE5hdmlnYXRlIHRvPXtyZWRpcmVjdFRvfSBzdGF0ZT17eyBmcm9tOiBsb2NhdGlvbiB9fSByZXBsYWNlIC8+O1xuICB9XG5cbiAgcmV0dXJuIDw+e2NoaWxkcmVufTwvPjtcbn1cbiIsICIvLyBwdWJsaWMvY29tcG9uZW50cy9OYXZpZ2F0aW9uLnRzeFxuaW1wb3J0IHsgTGluaywgTmF2TGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSBcIi4uL2NvbnRleHQvQXV0aENvbnRleHQudHN4XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZpZ2F0aW9uKCkge1xuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCwgbG9nb3V0IH0gPSB1c2VBdXRoKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8bmF2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvd1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0byBweC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaC0xNiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8TGluayB0bz1cIi9cIiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC14bFwiPlxuICAgICAgICAgICAgV29yZCBSZWZsZXNoZXJcbiAgICAgICAgICA8L0xpbms+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTRcIj5cbiAgICAgICAgICAgIHtpc0F1dGhlbnRpY2F0ZWRcbiAgICAgICAgICAgICAgPyAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxOYXZMaW5rXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL1wiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KHsgaXNBY3RpdmUgfSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA/IFwidGV4dC1ibHVlLTYwMFwiIDogXCJ0ZXh0LWdyYXktNjAwXCJ9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFx1NTM1OFx1OEE5RVx1NUI2Nlx1N0ZEMlxuICAgICAgICAgICAgICAgICAgPC9OYXZMaW5rPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17bG9nb3V0fT5cdTMwRURcdTMwQjBcdTMwQTJcdTMwQTZcdTMwQzg8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPE5hdkxpbmtcbiAgICAgICAgICAgICAgICAgICAgdG89XCIvbG9naW5cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9eyh7IGlzQWN0aXZlIH0pID0+XG4gICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUgPyBcInRleHQtYmx1ZS02MDBcIiA6IFwidGV4dC1ncmF5LTYwMFwifVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcbiAgICAgICAgICAgICAgICAgIDwvTmF2TGluaz5cbiAgICAgICAgICAgICAgICAgIDxOYXZMaW5rXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL3NpZ251cFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17KHsgaXNBY3RpdmUgfSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA/IFwidGV4dC1ibHVlLTYwMFwiIDogXCJ0ZXh0LWdyYXktNjAwXCJ9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFx1NjVCMFx1ODk4Rlx1NzY3Qlx1OTMzMlxuICAgICAgICAgICAgICAgICAgPC9OYXZMaW5rPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbmF2PlxuICApO1xufVxuIiwgImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VUeXBlZE11dGF0aW9uLCB1c2VUeXBlZFF1ZXJ5IH0gZnJvbSBcIi4uL3V0aWxzL2dlbnFsLXVycWwtYnJpZGdlLnRzXCI7XG5pbXBvcnQgeyBlbnVtTGVhcm5pbmdUeXBlIH0gZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC9zY2hlbWEudHNcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFdvcmRSZWZsZXNoZXIoKSB7XG4gIGNvbnN0IFtjdXJyZW50SW5kZXgsIHNldEN1cnJlbnRJbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2lzQW5pbWF0aW5nLCBzZXRJc0FuaW1hdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0xhc3RDYXJkLCBzZXRJc0xhc3RDYXJkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcblxuICBjb25zdCBzcGVha0VuZ2xpc2ggPSAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdXR0ZXJhbmNlID0gbmV3IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSh0ZXh0KTtcbiAgICB1dHRlcmFuY2UubGFuZyA9IFwiZW4tVVNcIjtcbiAgICB1dHRlcmFuY2UucmF0ZSA9IDAuOTtcbiAgICBnbG9iYWxUaGlzLnNwZWVjaFN5bnRoZXNpcy5jYW5jZWwoKTtcbiAgICBnbG9iYWxUaGlzLnNwZWVjaFN5bnRoZXNpcy5zcGVhayh1dHRlcmFuY2UpO1xuICB9O1xuXG4gIGNvbnN0IFt3b3Jkc1Jlc3VsdCwgcmVleGVjdXRlUXVlcnldID0gdXNlVHlwZWRRdWVyeSh7XG4gICAgcXVlcnk6IHtcbiAgICAgIHdvcmRzRm9yU3R1ZHk6IHtcbiAgICAgICAgX19hcmdzOiB7XG4gICAgICAgICAgdXNlcklkOiB1c2VyPy5pZCA/PyBcIlwiLFxuICAgICAgICAgIGxpbWl0OiAxMixcbiAgICAgICAgfSxcbiAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgIGphcGFuZXNlOiB0cnVlLFxuICAgICAgICBlbmdsaXNoOiB0cnVlLFxuICAgICAgICBkaWZmaWN1bHR5OiB0cnVlLFxuICAgICAgICBmcmVxdWVuY3k6IHRydWUsXG4gICAgICAgIHNpdHVhdGlvbjogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBwYXVzZTogIXVzZXI/LmlkLCAvLyBcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTMwNENcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwNTlcdTMwOEJcdTMwN0VcdTMwNjdcdTMwQUZcdTMwQThcdTMwRUFcdTMwOTJcdTVCOUZcdTg4NENcdTMwNTdcdTMwNkFcdTMwNDRcbiAgfSk7XG5cbiAgY29uc3QgW19jcmVhdGVMZWFybmluZ0hpc3RvcnlSZXN1bHQsIGNyZWF0ZUxlYXJuaW5nSGlzdG9yeV0gPVxuICAgIHVzZVR5cGVkTXV0YXRpb24oe1xuICAgICAgbXV0YXRpb246IHtcbiAgICAgICAgY3JlYXRlTGVhcm5pbmdIaXN0b3J5OiB7XG4gICAgICAgICAgX19hcmdzOiB7XG4gICAgICAgICAgICBsZWFybmluZ1R5cGU6IGVudW1MZWFybmluZ1R5cGUucGFzc2l2ZUxlYXJuaW5nLFxuICAgICAgICAgICAgdXNlcklkOiBcIlwiLCAvLyBwbGFjZWhvbGRlciAtIFx1NUI5Rlx1ODg0Q1x1NjY0Mlx1MzA2Qlx1NEUwQVx1NjZGOFx1MzA0RFxuICAgICAgICAgICAgd29yZElkOiBcIlwiLCAvLyBwbGFjZWhvbGRlciAtIFx1NUI5Rlx1ODg0Q1x1NjY0Mlx1MzA2Qlx1NEUwQVx1NjZGOFx1MzA0RFxuICAgICAgICAgIH0sXG4gICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgbGVhcm5pbmdUeXBlOiB0cnVlLFxuICAgICAgICAgIHVzZXJJZDogdHJ1ZSxcbiAgICAgICAgICB3b3JkSWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gIGNvbnN0IHNhbXBsZVdvcmRzID0gd29yZHNSZXN1bHQuZGF0YT8ud29yZHNGb3JTdHVkeSA/PyBbXTtcbiAgY29uc3QgY3VycmVudFdvcmQgPSBzYW1wbGVXb3Jkc1tjdXJyZW50SW5kZXhdO1xuXG4gIGNvbnN0IGhhbmRsZU5leHQgPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coY3VycmVudEluZGV4ICsgMSk7XG4gICAgaWYgKHNhbXBsZVdvcmRzW2N1cnJlbnRJbmRleF0gJiYgdXNlcj8uaWQpIHtcbiAgICAgIGNyZWF0ZUxlYXJuaW5nSGlzdG9yeSh7XG4gICAgICAgIGxlYXJuaW5nVHlwZTogZW51bUxlYXJuaW5nVHlwZS5wYXNzaXZlTGVhcm5pbmcsXG4gICAgICAgIHVzZXJJZDogdXNlcj8uaWQsXG4gICAgICAgIHdvcmRJZDogY3VycmVudFdvcmQuaWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudEluZGV4IDwgc2FtcGxlV29yZHMubGVuZ3RoIC0gMSkge1xuICAgICAgc2V0SXNBbmltYXRpbmcodHJ1ZSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0Q3VycmVudEluZGV4KGN1cnJlbnRJbmRleCArIDEpO1xuICAgICAgICBzZXRJc0FuaW1hdGluZyhmYWxzZSk7XG4gICAgICB9LCAzMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRJc0FuaW1hdGluZyh0cnVlKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRJc0xhc3RDYXJkKHRydWUpO1xuICAgICAgICBzZXRJc0FuaW1hdGluZyhmYWxzZSk7XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZXN0YXJ0ID0gKCkgPT4ge1xuICAgIHNldElzQW5pbWF0aW5nKHRydWUpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0SXNMYXN0Q2FyZChmYWxzZSk7XG4gICAgICBzZXRDdXJyZW50SW5kZXgoMCk7XG4gICAgICBzZXRJc0FuaW1hdGluZyhmYWxzZSk7XG4gICAgICAvLyBcdTY1QjBcdTMwNTdcdTMwNDQxMlx1NEVGNlx1MzA5Mlx1NTNENlx1NUY5N1x1RkYwOFx1MzBBRFx1MzBFM1x1MzBDM1x1MzBCN1x1MzBFNVx1MzA5Mlx1NzEyMVx1ODk5Nlx1MzA1N1x1MzA2Nlx1MzBCNVx1MzBGQ1x1MzBEMFx1MzBGQ1x1MzA0Qlx1MzA4OVx1NTE4RFx1NTNENlx1NUY5N1x1RkYwOVxuICAgICAgcmVleGVjdXRlUXVlcnkoeyByZXF1ZXN0UG9saWN5OiBcIm5ldHdvcmstb25seVwiIH0pO1xuICAgIH0sIDMwMCk7XG4gIH07XG5cbiAgaWYgKGlzTGFzdENhcmQgJiYgaXNBbmltYXRpbmcgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tc2xhdGUtNTAgdmlhLXB1cnBsZS01MCB0by1waW5rLTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy0yeGwgcC0xNiB0ZXh0LWNlbnRlciByb3VuZGVkLTN4bCBiZy13aGl0ZSBzaGFkb3ctMnhsIGFuaW1hdGUtaW4gZmFkZS1pbiB6b29tLWluIGR1cmF0aW9uLTUwMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtOHhsIGFuaW1hdGUtaW4gem9vbS1pbiBkZWxheS0xMDBcIj5cdUQ4M0NcdURGODk8L2Rpdj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTV4bCBmb250LWJvbGQgdGV4dC1iYWxhbmNlIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgICAgXHU1QjhDXHU0RTg2XHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bCB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgIFx1NTE2OHtzYW1wbGVXb3Jkcy5sZW5ndGh9XHU2NzlBXHUzMDZFXHUzMEFCXHUzMEZDXHUzMEM5XHUzMDkyXHU3OEJBXHU4QThEXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXN0YXJ0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTE0IHB4LTggdGV4dC1sZyByb3VuZGVkLWxnIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNjAwIHRvLXBpbmstNjAwIGhvdmVyOmZyb20tcHVycGxlLTcwMCBob3Zlcjp0by1waW5rLTcwMCB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtIHNoYWRvdy1sZyBob3ZlcjpzaGFkb3cteGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOnNjYWxlLTEwNSBhY3RpdmU6c2NhbGUtOTUgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgIHdpZHRoPVwiMjBcIlxuICAgICAgICAgICAgICAgIGhlaWdodD1cIjIwXCJcbiAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjJcIlxuICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTMgMTJhOSA5IDAgMSAwIDktOSA5Ljc1IDkuNzUgMCAwIDAtNi43NCAyLjc0TDMgOFwiIC8+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDN2NWg1XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIFx1NjcwMFx1NTIxRFx1MzA0Qlx1MzA4OVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1zbGF0ZS01MCB2aWEtcHVycGxlLTUwIHRvLXBpbmstNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy0yeGwgc3BhY2UteS04XCI+XG4gICAgICAgIHsvKiBQcm9ncmVzcyBpbmRpY2F0b3IgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00IGFuaW1hdGUtaW4gZmFkZS1pbiBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtNnhsIGZvbnQtYm9sZCBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTYwMCB0by1waW5rLTYwMCBiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudFwiPlxuICAgICAgICAgICAge2N1cnJlbnRJbmRleCArIDF9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICB7c2FtcGxlV29yZHMubWFwKChfLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BoLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTUwMCAke1xuICAgICAgICAgICAgICAgICAgaW5kZXggPT09IGN1cnJlbnRJbmRleFxuICAgICAgICAgICAgICAgICAgICA/IFwidy0xMiBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTYwMCB0by1waW5rLTYwMFwiXG4gICAgICAgICAgICAgICAgICAgIDogaW5kZXggPCBjdXJyZW50SW5kZXhcbiAgICAgICAgICAgICAgICAgICAgPyBcInctMiBiZy1wdXJwbGUtNDAwXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcInctMiBiZy1ncmF5LTMwMFwiXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIE1haW4gY2FyZCAqL31cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17YHAtMTYgcm91bmRlZC0zeGwgYmctd2hpdGUgc2hhZG93LTJ4bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgJHtcbiAgICAgICAgICAgIGlzQW5pbWF0aW5nXG4gICAgICAgICAgICAgID8gXCJhbmltYXRlLW91dCBmYWRlLW91dCB6b29tLW91dC05NSBvcGFjaXR5LTBcIlxuICAgICAgICAgICAgICA6IFwiYW5pbWF0ZS1pbiBmYWRlLWluIHpvb20taW4tOTVcIlxuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTEyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtOHhsIG1kOnRleHQtOXhsIGZvbnQtYm9sZCB0ZXh0LWZvcmVncm91bmQgYW5pbWF0ZS1pbiBmYWRlLWluIHpvb20taW4gZHVyYXRpb24tNTAwXCI+XG4gICAgICAgICAgICAgICAge2N1cnJlbnRXb3JkPy5qYXBhbmVzZX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTQgYW5pbWF0ZS1pbiBmYWRlLWluIGRlbGF5LTEwMFwiPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc3BlYWtFbmdsaXNoKGN1cnJlbnRXb3JkPy5lbmdsaXNoPy5bMF0gPz8gXCJcIil9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTMgcm91bmRlZC1mdWxsIGhvdmVyOmJnLXB1cnBsZS0xMDAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGdyb3VwXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJcdTk3RjNcdTU4RjBcdTMwOTJcdTUxOERcdTc1MUZcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMjhcIlxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIyOFwiXG4gICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMlwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS02MDAgZ3JvdXAtaG92ZXI6dGV4dC1wdXJwbGUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMSA1IDYgOUgydjZoNGw1IDRWNXpcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE1LjU0IDguNDZhNSA1IDAgMCAxIDAgNy4wN1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTkuMDcgNC45M2ExMCAxMCAwIDAgMSAwIDE0LjE0XCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgICB7Y3VycmVudFdvcmQ/LmVuZ2xpc2g/LmpvaW4oXCIsIFwiKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC00IHRleHQtY2VudGVyIGFuaW1hdGUtaW4gZmFkZS1pbiBkZWxheS0yMDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgcm91bmRlZC1sZyBiZy1tdXRlZC81MFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbWItMVwiPlx1OTZFM1x1NjYxM1x1NUVBNjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gY2FwaXRhbGl6ZVwiPlxuICAgICAgICAgICAgICAgICAge2N1cnJlbnRXb3JkPy5kaWZmaWN1bHR5fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgcm91bmRlZC1sZyBiZy1tdXRlZC81MFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgbWItMVwiPlx1MzBCN1x1MzBGQ1x1MzBGMzwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gY2FwaXRhbGl6ZVwiPlxuICAgICAgICAgICAgICAgICAge2N1cnJlbnRXb3JkPy5zaXR1YXRpb259XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU5leHR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTE2IHRleHQteGwgcm91bmRlZC1sZyBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTYwMCB0by1waW5rLTYwMCBob3Zlcjpmcm9tLXB1cnBsZS03MDAgaG92ZXI6dG8tcGluay03MDAgdGV4dC13aGl0ZSBmb250LW1lZGl1bSBzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBob3ZlcjpzY2FsZS1bMS4wMl0gYWN0aXZlOnNjYWxlLVswLjk4XSBhbmltYXRlLWluIGZhZGUtaW4gZGVsYXktMzAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgXHU2QjIxXHUzMDc4XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IExpbmtlZEZpZWxkLCBMaW5rZWRUeXBlIH0gZnJvbSAnLi90eXBlcy50cydcblxuZXhwb3J0IGludGVyZmFjZSBBcmdzIHtcbiAgICBbYXJnOiBzdHJpbmddOiBhbnkgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWVsZHMge1xuICAgIFtmaWVsZDogc3RyaW5nXTogUmVxdWVzdFxufVxuXG5leHBvcnQgdHlwZSBSZXF1ZXN0ID0gYm9vbGVhbiB8IG51bWJlciB8IEZpZWxkc1xuXG5leHBvcnQgaW50ZXJmYWNlIFZhcmlhYmxlcyB7XG4gICAgW25hbWU6IHN0cmluZ106IHtcbiAgICAgICAgdmFsdWU6IGFueVxuICAgICAgICB0eXBpbmc6IFtMaW5rZWRUeXBlLCBzdHJpbmddXG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRleHQge1xuICAgIHJvb3Q6IExpbmtlZFR5cGVcbiAgICB2YXJDb3VudGVyOiBudW1iZXJcbiAgICB2YXJpYWJsZXM6IFZhcmlhYmxlc1xuICAgIGZyYWdtZW50Q291bnRlcjogbnVtYmVyXG4gICAgZnJhZ21lbnRzOiBzdHJpbmdbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyYXBocWxPcGVyYXRpb24ge1xuICAgIHF1ZXJ5OiBzdHJpbmdcbiAgICB2YXJpYWJsZXM/OiB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfVxuICAgIG9wZXJhdGlvbk5hbWU/OiBzdHJpbmdcbn1cblxuY29uc3QgcGFyc2VSZXF1ZXN0ID0gKFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QgfCB1bmRlZmluZWQsXG4gICAgY3R4OiBDb250ZXh0LFxuICAgIHBhdGg6IHN0cmluZ1tdLFxuKTogc3RyaW5nID0+IHtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3QgPT09ICdvYmplY3QnICYmICdfX2FyZ3MnIGluIHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgYXJnczogYW55ID0gcmVxdWVzdC5fX2FyZ3NcbiAgICAgICAgbGV0IGZpZWxkczogUmVxdWVzdCB8IHVuZGVmaW5lZCA9IHsgLi4ucmVxdWVzdCB9XG4gICAgICAgIGRlbGV0ZSBmaWVsZHMuX19hcmdzXG4gICAgICAgIGNvbnN0IGFyZ05hbWVzID0gT2JqZWN0LmtleXMoYXJncylcblxuICAgICAgICBpZiAoYXJnTmFtZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VSZXF1ZXN0KGZpZWxkcywgY3R4LCBwYXRoKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXRGaWVsZEZyb21QYXRoKGN0eC5yb290LCBwYXRoKVxuXG4gICAgICAgIGNvbnN0IGFyZ1N0cmluZ3MgPSBhcmdOYW1lcy5tYXAoKGFyZ05hbWUpID0+IHtcbiAgICAgICAgICAgIGN0eC52YXJDb3VudGVyKytcbiAgICAgICAgICAgIGNvbnN0IHZhck5hbWUgPSBgdiR7Y3R4LnZhckNvdW50ZXJ9YFxuXG4gICAgICAgICAgICBjb25zdCB0eXBpbmcgPSBmaWVsZC5hcmdzICYmIGZpZWxkLmFyZ3NbYXJnTmFtZV0gLy8gdHlwZU1hcCB1c2VkIGhlcmUsIC5hcmdzXG5cbiAgICAgICAgICAgIGlmICghdHlwaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgbm8gdHlwaW5nIGRlZmluZWQgZm9yIGFyZ3VtZW50IFxcYCR7YXJnTmFtZX1cXGAgaW4gcGF0aCBcXGAke3BhdGguam9pbihcbiAgICAgICAgICAgICAgICAgICAgICAgICcuJyxcbiAgICAgICAgICAgICAgICAgICAgKX1cXGBgLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3R4LnZhcmlhYmxlc1t2YXJOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogYXJnc1thcmdOYW1lXSxcbiAgICAgICAgICAgICAgICB0eXBpbmcsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBgJHthcmdOYW1lfTokJHt2YXJOYW1lfWBcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGAoJHthcmdTdHJpbmdzfSkke3BhcnNlUmVxdWVzdChmaWVsZHMsIGN0eCwgcGF0aCl9YFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlcXVlc3QgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHJlcXVlc3QpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZmllbGRzID0gcmVxdWVzdFxuICAgICAgICBjb25zdCBmaWVsZE5hbWVzID0gT2JqZWN0LmtleXMoZmllbGRzKS5maWx0ZXIoKGspID0+IEJvb2xlYW4oZmllbGRzW2tdKSlcblxuICAgICAgICBpZiAoZmllbGROYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgZmllbGQgc2VsZWN0aW9uIHNob3VsZCBub3QgYmUgZW1wdHk6ICR7cGF0aC5qb2luKCcuJyl9YCxcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHR5cGUgPVxuICAgICAgICAgICAgcGF0aC5sZW5ndGggPiAwID8gZ2V0RmllbGRGcm9tUGF0aChjdHgucm9vdCwgcGF0aCkudHlwZSA6IGN0eC5yb290XG4gICAgICAgIGNvbnN0IHNjYWxhckZpZWxkcyA9IHR5cGUuc2NhbGFyXG5cbiAgICAgICAgbGV0IHNjYWxhckZpZWxkc0ZyYWdtZW50OiBzdHJpbmcgfCB1bmRlZmluZWRcblxuICAgICAgICBpZiAoZmllbGROYW1lcy5pbmNsdWRlcygnX19zY2FsYXInKSkge1xuICAgICAgICAgICAgY29uc3QgZmFsc3lGaWVsZE5hbWVzID0gbmV3IFNldChcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhmaWVsZHMpLmZpbHRlcigoaykgPT4gIUJvb2xlYW4oZmllbGRzW2tdKSksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBpZiAoc2NhbGFyRmllbGRzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjdHguZnJhZ21lbnRDb3VudGVyKytcbiAgICAgICAgICAgICAgICBzY2FsYXJGaWVsZHNGcmFnbWVudCA9IGBmJHtjdHguZnJhZ21lbnRDb3VudGVyfWBcblxuICAgICAgICAgICAgICAgIGN0eC5mcmFnbWVudHMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgYGZyYWdtZW50ICR7c2NhbGFyRmllbGRzRnJhZ21lbnR9IG9uICR7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfXske3NjYWxhckZpZWxkc1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZikgPT4gIWZhbHN5RmllbGROYW1lcy5oYXMoZikpXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignLCcpfX1gLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpZWxkc1NlbGVjdGlvbiA9IGZpZWxkTmFtZXNcbiAgICAgICAgICAgIC5maWx0ZXIoKGYpID0+ICFbJ19fc2NhbGFyJywgJ19fbmFtZSddLmluY2x1ZGVzKGYpKVxuICAgICAgICAgICAgLm1hcCgoZikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlUmVxdWVzdChmaWVsZHNbZl0sIGN0eCwgWy4uLnBhdGgsIGZdKVxuXG4gICAgICAgICAgICAgICAgaWYgKGYuc3RhcnRzV2l0aCgnb25fJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZyYWdtZW50Q291bnRlcisrXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltcGxlbWVudGF0aW9uRnJhZ21lbnQgPSBgZiR7Y3R4LmZyYWdtZW50Q291bnRlcn1gXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZU1hdGNoID0gZi5tYXRjaCgvXm9uXyguKykvKVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdHlwZU1hdGNoIHx8ICF0eXBlTWF0Y2hbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hdGNoIGZhaWxlZCcpXG5cbiAgICAgICAgICAgICAgICAgICAgY3R4LmZyYWdtZW50cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgYGZyYWdtZW50ICR7aW1wbGVtZW50YXRpb25GcmFnbWVudH0gb24gJHt0eXBlTWF0Y2hbMV19JHtwYXJzZWR9YCxcbiAgICAgICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgLi4uJHtpbXBsZW1lbnRhdGlvbkZyYWdtZW50fWBcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7Zn0ke3BhcnNlZH1gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jb25jYXQoc2NhbGFyRmllbGRzRnJhZ21lbnQgPyBbYC4uLiR7c2NhbGFyRmllbGRzRnJhZ21lbnR9YF0gOiBbXSlcbiAgICAgICAgICAgIC5qb2luKCcsJylcblxuICAgICAgICByZXR1cm4gYHske2ZpZWxkc1NlbGVjdGlvbn19YFxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnJ1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlR3JhcGhxbE9wZXJhdGlvbiA9IChcbiAgICBvcGVyYXRpb246ICdxdWVyeScgfCAnbXV0YXRpb24nIHwgJ3N1YnNjcmlwdGlvbicsXG4gICAgcm9vdDogTGlua2VkVHlwZSxcbiAgICBmaWVsZHM/OiBGaWVsZHMsXG4pOiBHcmFwaHFsT3BlcmF0aW9uID0+IHtcbiAgICBjb25zdCBjdHg6IENvbnRleHQgPSB7XG4gICAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICAgIHZhckNvdW50ZXI6IDAsXG4gICAgICAgIHZhcmlhYmxlczoge30sXG4gICAgICAgIGZyYWdtZW50Q291bnRlcjogMCxcbiAgICAgICAgZnJhZ21lbnRzOiBbXSxcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gcGFyc2VSZXF1ZXN0KGZpZWxkcywgY3R4LCBbXSlcblxuICAgIGNvbnN0IHZhck5hbWVzID0gT2JqZWN0LmtleXMoY3R4LnZhcmlhYmxlcylcblxuICAgIGNvbnN0IHZhcnNTdHJpbmcgPVxuICAgICAgICB2YXJOYW1lcy5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IGAoJHt2YXJOYW1lcy5tYXAoKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlVHlwZSA9IGN0eC52YXJpYWJsZXNbdl0udHlwaW5nWzFdXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYCQke3Z9OiR7dmFyaWFibGVUeXBlfWBcbiAgICAgICAgICAgICAgfSl9KWBcbiAgICAgICAgICAgIDogJydcblxuICAgIGNvbnN0IG9wZXJhdGlvbk5hbWUgPSBmaWVsZHM/Ll9fbmFtZSB8fCAnJ1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcXVlcnk6IFtcbiAgICAgICAgICAgIGAke29wZXJhdGlvbn0gJHtvcGVyYXRpb25OYW1lfSR7dmFyc1N0cmluZ30ke3Jlc3VsdH1gLFxuICAgICAgICAgICAgLi4uY3R4LmZyYWdtZW50cyxcbiAgICAgICAgXS5qb2luKCcsJyksXG4gICAgICAgIHZhcmlhYmxlczogT2JqZWN0LmtleXMoY3R4LnZhcmlhYmxlcykucmVkdWNlPHsgW25hbWU6IHN0cmluZ106IGFueSB9PihcbiAgICAgICAgICAgIChyLCB2KSA9PiB7XG4gICAgICAgICAgICAgICAgclt2XSA9IGN0eC52YXJpYWJsZXNbdl0udmFsdWVcbiAgICAgICAgICAgICAgICByZXR1cm4gclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHt9LFxuICAgICAgICApLFxuICAgICAgICAuLi4ob3BlcmF0aW9uTmFtZSA/IHsgb3BlcmF0aW9uTmFtZTogb3BlcmF0aW9uTmFtZS50b1N0cmluZygpIH0gOiB7fSksXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0RmllbGRGcm9tUGF0aCA9IChcbiAgICByb290OiBMaW5rZWRUeXBlIHwgdW5kZWZpbmVkLFxuICAgIHBhdGg6IHN0cmluZ1tdLFxuKSA9PiB7XG4gICAgbGV0IGN1cnJlbnQ6IExpbmtlZEZpZWxkIHwgdW5kZWZpbmVkXG5cbiAgICBpZiAoIXJvb3QpIHRocm93IG5ldyBFcnJvcigncm9vdCB0eXBlIGlzIG5vdCBwcm92aWRlZCcpXG5cbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcihgcGF0aCBpcyBlbXB0eWApXG5cbiAgICBwYXRoLmZvckVhY2goKGYpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGN1cnJlbnQgPyBjdXJyZW50LnR5cGUgOiByb290XG5cbiAgICAgICAgaWYgKCF0eXBlLmZpZWxkcylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdHlwZSBcXGAke3R5cGUubmFtZX1cXGAgZG9lcyBub3QgaGF2ZSBmaWVsZHNgKVxuXG4gICAgICAgIGNvbnN0IHBvc3NpYmxlVHlwZXMgPSBPYmplY3Qua2V5cyh0eXBlLmZpZWxkcylcbiAgICAgICAgICAgIC5maWx0ZXIoKGkpID0+IGkuc3RhcnRzV2l0aCgnb25fJykpXG4gICAgICAgICAgICAucmVkdWNlKFxuICAgICAgICAgICAgICAgICh0eXBlcywgZmllbGROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gdHlwZS5maWVsZHMgJiYgdHlwZS5maWVsZHNbZmllbGROYW1lXVxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQpIHR5cGVzLnB1c2goZmllbGQudHlwZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBbdHlwZV0sXG4gICAgICAgICAgICApXG5cbiAgICAgICAgbGV0IGZpZWxkOiBMaW5rZWRGaWVsZCB8IG51bGwgPSBudWxsXG5cbiAgICAgICAgcG9zc2libGVUeXBlcy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IHR5cGUuZmllbGRzICYmIHR5cGUuZmllbGRzW2ZdXG4gICAgICAgICAgICBpZiAoZm91bmQpIGZpZWxkID0gZm91bmRcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoIWZpZWxkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGB0eXBlIFxcYCR7dHlwZS5uYW1lfVxcYCBkb2VzIG5vdCBoYXZlIGEgZmllbGQgXFxgJHtmfVxcYGAsXG4gICAgICAgICAgICApXG5cbiAgICAgICAgY3VycmVudCA9IGZpZWxkXG4gICAgfSlcblxuICAgIHJldHVybiBjdXJyZW50IGFzIExpbmtlZEZpZWxkXG59XG4iLCAiaW1wb3J0IHR5cGUge1xuICAgIENvbXByZXNzZWRUeXBlLFxuICAgIENvbXByZXNzZWRUeXBlTWFwLFxuICAgIExpbmtlZEFyZ01hcCxcbiAgICBMaW5rZWRGaWVsZCxcbiAgICBMaW5rZWRUeXBlLFxuICAgIExpbmtlZFR5cGVNYXAsXG59IGZyb20gJy4vdHlwZXMudHMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGlhbExpbmtlZEZpZWxkTWFwIHtcbiAgICBbZmllbGQ6IHN0cmluZ106IHtcbiAgICAgICAgdHlwZTogc3RyaW5nXG4gICAgICAgIGFyZ3M/OiBMaW5rZWRBcmdNYXBcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBsaW5rVHlwZU1hcCA9IChcbiAgICB0eXBlTWFwOiBDb21wcmVzc2VkVHlwZU1hcDxudW1iZXI+LFxuKTogTGlua2VkVHlwZU1hcCA9PiB7XG4gICAgY29uc3QgaW5kZXhUb05hbWU6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgLi4uT2JqZWN0LmtleXModHlwZU1hcC50eXBlcykubWFwKChrLCBpKSA9PiAoeyBbaV06IGsgfSkpLFxuICAgIClcblxuICAgIGxldCBpbnRlcm1lZGlhcnlUeXBlTWFwID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIC4uLk9iamVjdC5rZXlzKHR5cGVNYXAudHlwZXMgfHwge30pLm1hcChcbiAgICAgICAgICAgIChrKTogUmVjb3JkPHN0cmluZywgTGlua2VkVHlwZT4gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGU6IENvbXByZXNzZWRUeXBlID0gdHlwZU1hcC50eXBlc1trXSFcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZHMgPSB0eXBlIHx8IHt9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgW2tdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBrLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHlwZSBzY2FsYXIgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGFyOiBPYmplY3Qua2V5cyhmaWVsZHMpLmZpbHRlcigoZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFt0eXBlXSA9IGZpZWxkc1tmXSB8fCBbXVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTY2FsYXIgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlICYmIHR5cGVNYXAuc2NhbGFycy5pbmNsdWRlcyh0eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNTY2FsYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBmaWVsZHNbZl0/LlsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZ1R5cGVzID0gT2JqZWN0LnZhbHVlcyhhcmdzIHx8IHt9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4Py5bMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbilcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1JlcXVpcmVkQXJncyA9IGFyZ1R5cGVzLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdHIpID0+IHN0ciAmJiBzdHIuZW5kc1dpdGgoJyEnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1JlcXVpcmVkQXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmllbGRzIHdpdGggY29ycmVzcG9uZGluZyBgdHlwZWAgYW5kIGBhcmdzYFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzOiBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKGZpZWxkcykubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZik6IFBhcnRpYWxMaW5rZWRGaWVsZE1hcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbdHlwZUluZGV4LCBhcmdzXSA9IGZpZWxkc1tmXSB8fCBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVJbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtmXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXBsYWNlIGluZGV4IHdpdGggdHlwZSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGluZGV4VG9OYW1lW3R5cGVJbmRleF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKGFyZ3MgfHwge30pLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBhcmdUeXBlU3RyaW5nID09IGFyZ1R5cGVOYW1lLCBhcmdUeXBlU3RyaW5nIGlzIG1pc3NpbmcsIG5lZWQgdG8gcmVhZGQgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhcmdzIHx8ICFhcmdzW2tdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdUeXBlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1R5cGVTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0gPSBhcmdzW2tdIGFzIGFueVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2tdOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhUb05hbWVbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1R5cGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdUeXBlU3RyaW5nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4VG9OYW1lW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnVHlwZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICksXG4gICAgKVxuICAgIGNvbnN0IHJlcyA9IHJlc29sdmVDb25jcmV0ZVR5cGVzKGludGVybWVkaWFyeVR5cGVNYXApXG4gICAgcmV0dXJuIHJlc1xufVxuXG4vLyByZXBsYWNlIHR5cGVuYW1lIHdpdGggY29uY3JldGUgdHlwZVxuZXhwb3J0IGNvbnN0IHJlc29sdmVDb25jcmV0ZVR5cGVzID0gKGxpbmtlZFR5cGVNYXA6IExpbmtlZFR5cGVNYXApID0+IHtcbiAgICBPYmplY3Qua2V5cyhsaW5rZWRUeXBlTWFwKS5mb3JFYWNoKCh0eXBlTmFtZUZyb21LZXkpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZTogTGlua2VkVHlwZSA9IGxpbmtlZFR5cGVNYXBbdHlwZU5hbWVGcm9tS2V5XSFcbiAgICAgICAgLy8gdHlwZS5uYW1lID0gdHlwZU5hbWVGcm9tS2V5XG4gICAgICAgIGlmICghdHlwZS5maWVsZHMpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmllbGRzID0gdHlwZS5maWVsZHNcblxuICAgICAgICBPYmplY3Qua2V5cyhmaWVsZHMpLmZvckVhY2goKGYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkOiBMaW5rZWRGaWVsZCA9IGZpZWxkc1tmXSFcblxuICAgICAgICAgICAgaWYgKGZpZWxkLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmdzID0gZmllbGQuYXJnc1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGFyZ3MpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmcgPSBhcmdzW2tleV1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbdHlwZU5hbWVdID0gYXJnXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZU5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5rZWRUeXBlTWFwW3R5cGVOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rZWRUeXBlTWFwW3R5cGVOYW1lXSA9IHsgbmFtZTogdHlwZU5hbWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1swXSA9IGxpbmtlZFR5cGVNYXBbdHlwZU5hbWVdIVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdHlwZU5hbWUgPSBmaWVsZC50eXBlIGFzIExpbmtlZFR5cGUgfCBzdHJpbmdcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmtlZFR5cGVNYXBbdHlwZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmtlZFR5cGVNYXBbdHlwZU5hbWVdID0geyBuYW1lOiB0eXBlTmFtZSB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZmllbGQudHlwZSA9IGxpbmtlZFR5cGVNYXBbdHlwZU5hbWVdIVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICByZXR1cm4gbGlua2VkVHlwZU1hcFxufVxuIiwgIi8vIEdlbmVyYXRlZCBhdDogMjAyNi0wMS0xMFQwNzo1NTo0NC42MTFaXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgXCJzY2FsYXJzXCI6IFtcbiAgICAgICAgMSxcbiAgICAgICAgMixcbiAgICAgICAgMyxcbiAgICAgICAgNyxcbiAgICAgICAgMTBcbiAgICBdLFxuICAgIFwidHlwZXNcIjoge1xuICAgICAgICBcIkxlYXJuaW5nSGlzdG9yeVwiOiB7XG4gICAgICAgICAgICBcImlkXCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJsZWFybmluZ1R5cGVcIjogW1xuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInVzZXJJZFwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwid29yZElkXCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJfX3R5cGVuYW1lXCI6IFtcbiAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwiSURcIjoge30sXG4gICAgICAgIFwiU3RyaW5nXCI6IHt9LFxuICAgICAgICBcIkxlYXJuaW5nVHlwZVwiOiB7fSxcbiAgICAgICAgXCJNdXRhdGlvblwiOiB7XG4gICAgICAgICAgICBcImNyZWF0ZUxlYXJuaW5nSGlzdG9yeVwiOiBbXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibGVhcm5pbmdUeXBlXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkxlYXJuaW5nVHlwZSFcIlxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJJZFwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJRCFcIlxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBcIndvcmRJZFwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJRCFcIlxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiY3JlYXRlVXNlclwiOiBbXG4gICAgICAgICAgICAgICAgOCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmchXCJcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcImRlbGV0ZVVzZXJcIjogW1xuICAgICAgICAgICAgICAgIDgsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIklEIVwiXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJfX3R5cGVuYW1lXCI6IFtcbiAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwiUG9zdFwiOiB7XG4gICAgICAgICAgICBcImNvbnRlbnRcIjogW1xuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcImlkXCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiX190eXBlbmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcIlF1ZXJ5XCI6IHtcbiAgICAgICAgICAgIFwibWVcIjogW1xuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBvc3RcIjogW1xuICAgICAgICAgICAgICAgIDUsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIklEIVwiXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwb3N0Q291bnRcIjogW1xuICAgICAgICAgICAgICAgIDdcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInBvc3RzXCI6IFtcbiAgICAgICAgICAgICAgICA1XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ0ZXN0MTBcIjogW1xuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInVzZXJcIjogW1xuICAgICAgICAgICAgICAgIDgsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIklEIVwiXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJ1c2Vyc1wiOiBbXG4gICAgICAgICAgICAgICAgOFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwid29yZHNcIjogW1xuICAgICAgICAgICAgICAgIDlcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIndvcmRzQnlEaWZmaWN1bHR5XCI6IFtcbiAgICAgICAgICAgICAgICA5LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJkaWZmaWN1bHR5XCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDcsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkludCFcIlxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwid29yZHNGb3JTdHVkeVwiOiBbXG4gICAgICAgICAgICAgICAgOSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibGltaXRcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgN1xuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJJZFwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJRCFcIlxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiX190eXBlbmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcIkludFwiOiB7fSxcbiAgICAgICAgXCJVc2VyXCI6IHtcbiAgICAgICAgICAgIFwiaWRcIjogW1xuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIm5hbWVcIjogW1xuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIl9fdHlwZW5hbWVcIjogW1xuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJXb3JkXCI6IHtcbiAgICAgICAgICAgIFwiZGlmZmljdWx0eVwiOiBbXG4gICAgICAgICAgICAgICAgN1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiZW5nbGlzaFwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiZnJlcXVlbmN5XCI6IFtcbiAgICAgICAgICAgICAgICA3XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJpZFwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiamFwYW5lc2VcIjogW1xuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInNpdHVhdGlvblwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiX190eXBlbmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcIkJvb2xlYW5cIjoge31cbiAgICB9XG59IiwgIi8vIEdlbmVyYXRlZCBhdDogMjAyNi0wMS0xMFQwNzo1NTo0NC42MTFaXG4vKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmV4cG9ydCB0eXBlIFNjYWxhcnMgPSB7XG4gICAgSUQ6IHN0cmluZyxcbiAgICBTdHJpbmc6IHN0cmluZyxcbiAgICBJbnQ6IG51bWJlcixcbiAgICBCb29sZWFuOiBib29sZWFuLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIExlYXJuaW5nSGlzdG9yeSB7XG4gICAgaWQ6IChTY2FsYXJzWydJRCddIHwgbnVsbClcbiAgICBsZWFybmluZ1R5cGU6IChTY2FsYXJzWydTdHJpbmcnXSB8IG51bGwpXG4gICAgdXNlcklkOiAoU2NhbGFyc1snSUQnXSB8IG51bGwpXG4gICAgd29yZElkOiAoU2NhbGFyc1snSUQnXSB8IG51bGwpXG4gICAgX190eXBlbmFtZTogJ0xlYXJuaW5nSGlzdG9yeSdcbn1cblxuZXhwb3J0IHR5cGUgTGVhcm5pbmdUeXBlID0gJ2Nob2ljZVRlc3QnIHwgJ3Bhc3NpdmVMZWFybmluZycgfCAnd3JpdGluZ1Rlc3QnXG5cbmV4cG9ydCBpbnRlcmZhY2UgTXV0YXRpb24ge1xuICAgIGNyZWF0ZUxlYXJuaW5nSGlzdG9yeTogKExlYXJuaW5nSGlzdG9yeVtdIHwgbnVsbClcbiAgICBjcmVhdGVVc2VyOiAoVXNlciB8IG51bGwpXG4gICAgZGVsZXRlVXNlcjogKFVzZXIgfCBudWxsKVxuICAgIF9fdHlwZW5hbWU6ICdNdXRhdGlvbidcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb3N0IHtcbiAgICBjb250ZW50OiAoU2NhbGFyc1snU3RyaW5nJ10gfCBudWxsKVxuICAgIGlkOiAoU2NhbGFyc1snSUQnXSB8IG51bGwpXG4gICAgdGl0bGU6IChTY2FsYXJzWydTdHJpbmcnXSB8IG51bGwpXG4gICAgX190eXBlbmFtZTogJ1Bvc3QnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnkge1xuICAgIG1lOiAoU2NhbGFyc1snU3RyaW5nJ10gfCBudWxsKVxuICAgIHBvc3Q6IChQb3N0IHwgbnVsbClcbiAgICBwb3N0Q291bnQ6IChTY2FsYXJzWydJbnQnXSB8IG51bGwpXG4gICAgcG9zdHM6IChQb3N0W10gfCBudWxsKVxuICAgIHRlc3QxMDogKFNjYWxhcnNbJ1N0cmluZyddIHwgbnVsbClcbiAgICB1c2VyOiAoVXNlciB8IG51bGwpXG4gICAgdXNlcnM6IChVc2VyW10gfCBudWxsKVxuICAgIHdvcmRzOiAoV29yZFtdIHwgbnVsbClcbiAgICB3b3Jkc0J5RGlmZmljdWx0eTogKFdvcmRbXSB8IG51bGwpXG4gICAgd29yZHNGb3JTdHVkeTogKFdvcmRbXSB8IG51bGwpXG4gICAgX190eXBlbmFtZTogJ1F1ZXJ5J1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICAgIGlkOiAoU2NhbGFyc1snSUQnXSB8IG51bGwpXG4gICAgbmFtZTogKFNjYWxhcnNbJ1N0cmluZyddIHwgbnVsbClcbiAgICBfX3R5cGVuYW1lOiAnVXNlcidcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3JkIHtcbiAgICBkaWZmaWN1bHR5OiAoU2NhbGFyc1snSW50J10gfCBudWxsKVxuICAgIGVuZ2xpc2g6IChTY2FsYXJzWydTdHJpbmcnXVtdIHwgbnVsbClcbiAgICBmcmVxdWVuY3k6IChTY2FsYXJzWydJbnQnXSB8IG51bGwpXG4gICAgaWQ6IChTY2FsYXJzWydJRCddIHwgbnVsbClcbiAgICBqYXBhbmVzZTogKFNjYWxhcnNbJ1N0cmluZyddIHwgbnVsbClcbiAgICBzaXR1YXRpb246IChTY2FsYXJzWydTdHJpbmcnXSB8IG51bGwpXG4gICAgX190eXBlbmFtZTogJ1dvcmQnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGVhcm5pbmdIaXN0b3J5R2VucWxTZWxlY3Rpb257XG4gICAgaWQ/OiBib29sZWFuIHwgbnVtYmVyXG4gICAgbGVhcm5pbmdUeXBlPzogYm9vbGVhbiB8IG51bWJlclxuICAgIHVzZXJJZD86IGJvb2xlYW4gfCBudW1iZXJcbiAgICB3b3JkSWQ/OiBib29sZWFuIHwgbnVtYmVyXG4gICAgX190eXBlbmFtZT86IGJvb2xlYW4gfCBudW1iZXJcbiAgICBfX3NjYWxhcj86IGJvb2xlYW4gfCBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdXRhdGlvbkdlbnFsU2VsZWN0aW9ue1xuICAgIGNyZWF0ZUxlYXJuaW5nSGlzdG9yeT86IChMZWFybmluZ0hpc3RvcnlHZW5xbFNlbGVjdGlvbiAmIHsgX19hcmdzOiB7bGVhcm5pbmdUeXBlOiBMZWFybmluZ1R5cGUsIHVzZXJJZDogU2NhbGFyc1snSUQnXSwgd29yZElkOiBTY2FsYXJzWydJRCddfSB9KVxuICAgIGNyZWF0ZVVzZXI/OiAoVXNlckdlbnFsU2VsZWN0aW9uICYgeyBfX2FyZ3M6IHtuYW1lOiBTY2FsYXJzWydTdHJpbmcnXX0gfSlcbiAgICBkZWxldGVVc2VyPzogKFVzZXJHZW5xbFNlbGVjdGlvbiAmIHsgX19hcmdzOiB7aWQ6IFNjYWxhcnNbJ0lEJ119IH0pXG4gICAgX190eXBlbmFtZT86IGJvb2xlYW4gfCBudW1iZXJcbiAgICBfX3NjYWxhcj86IGJvb2xlYW4gfCBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb3N0R2VucWxTZWxlY3Rpb257XG4gICAgY29udGVudD86IGJvb2xlYW4gfCBudW1iZXJcbiAgICBpZD86IGJvb2xlYW4gfCBudW1iZXJcbiAgICB0aXRsZT86IGJvb2xlYW4gfCBudW1iZXJcbiAgICBfX3R5cGVuYW1lPzogYm9vbGVhbiB8IG51bWJlclxuICAgIF9fc2NhbGFyPzogYm9vbGVhbiB8IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5R2VucWxTZWxlY3Rpb257XG4gICAgbWU/OiBib29sZWFuIHwgbnVtYmVyXG4gICAgcG9zdD86IChQb3N0R2VucWxTZWxlY3Rpb24gJiB7IF9fYXJnczoge2lkOiBTY2FsYXJzWydJRCddfSB9KVxuICAgIHBvc3RDb3VudD86IGJvb2xlYW4gfCBudW1iZXJcbiAgICBwb3N0cz86IFBvc3RHZW5xbFNlbGVjdGlvblxuICAgIHRlc3QxMD86IGJvb2xlYW4gfCBudW1iZXJcbiAgICB1c2VyPzogKFVzZXJHZW5xbFNlbGVjdGlvbiAmIHsgX19hcmdzOiB7aWQ6IFNjYWxhcnNbJ0lEJ119IH0pXG4gICAgdXNlcnM/OiBVc2VyR2VucWxTZWxlY3Rpb25cbiAgICB3b3Jkcz86IFdvcmRHZW5xbFNlbGVjdGlvblxuICAgIHdvcmRzQnlEaWZmaWN1bHR5PzogKFdvcmRHZW5xbFNlbGVjdGlvbiAmIHsgX19hcmdzOiB7ZGlmZmljdWx0eTogU2NhbGFyc1snSW50J119IH0pXG4gICAgd29yZHNGb3JTdHVkeT86IChXb3JkR2VucWxTZWxlY3Rpb24gJiB7IF9fYXJnczoge2xpbWl0PzogKFNjYWxhcnNbJ0ludCddIHwgbnVsbCksIHVzZXJJZDogU2NhbGFyc1snSUQnXX0gfSlcbiAgICBfX3R5cGVuYW1lPzogYm9vbGVhbiB8IG51bWJlclxuICAgIF9fc2NhbGFyPzogYm9vbGVhbiB8IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJHZW5xbFNlbGVjdGlvbntcbiAgICBpZD86IGJvb2xlYW4gfCBudW1iZXJcbiAgICBuYW1lPzogYm9vbGVhbiB8IG51bWJlclxuICAgIF9fdHlwZW5hbWU/OiBib29sZWFuIHwgbnVtYmVyXG4gICAgX19zY2FsYXI/OiBib29sZWFuIHwgbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29yZEdlbnFsU2VsZWN0aW9ue1xuICAgIGRpZmZpY3VsdHk/OiBib29sZWFuIHwgbnVtYmVyXG4gICAgZW5nbGlzaD86IGJvb2xlYW4gfCBudW1iZXJcbiAgICBmcmVxdWVuY3k/OiBib29sZWFuIHwgbnVtYmVyXG4gICAgaWQ/OiBib29sZWFuIHwgbnVtYmVyXG4gICAgamFwYW5lc2U/OiBib29sZWFuIHwgbnVtYmVyXG4gICAgc2l0dWF0aW9uPzogYm9vbGVhbiB8IG51bWJlclxuICAgIF9fdHlwZW5hbWU/OiBib29sZWFuIHwgbnVtYmVyXG4gICAgX19zY2FsYXI/OiBib29sZWFuIHwgbnVtYmVyXG59XG5cblxuICAgIGNvbnN0IExlYXJuaW5nSGlzdG9yeV9wb3NzaWJsZVR5cGVzOiBzdHJpbmdbXSA9IFsnTGVhcm5pbmdIaXN0b3J5J11cbiAgICBleHBvcnQgY29uc3QgaXNMZWFybmluZ0hpc3RvcnkgPSAob2JqPzogeyBfX3R5cGVuYW1lPzogYW55IH0gfCBudWxsKTogb2JqIGlzIExlYXJuaW5nSGlzdG9yeSA9PiB7XG4gICAgICBpZiAoIW9iaj8uX190eXBlbmFtZSkgdGhyb3cgbmV3IEVycm9yKCdfX3R5cGVuYW1lIGlzIG1pc3NpbmcgaW4gXCJpc0xlYXJuaW5nSGlzdG9yeVwiJylcbiAgICAgIHJldHVybiBMZWFybmluZ0hpc3RvcnlfcG9zc2libGVUeXBlcy5pbmNsdWRlcyhvYmouX190eXBlbmFtZSlcbiAgICB9XG4gICAgXG5cblxuICAgIGNvbnN0IE11dGF0aW9uX3Bvc3NpYmxlVHlwZXM6IHN0cmluZ1tdID0gWydNdXRhdGlvbiddXG4gICAgZXhwb3J0IGNvbnN0IGlzTXV0YXRpb24gPSAob2JqPzogeyBfX3R5cGVuYW1lPzogYW55IH0gfCBudWxsKTogb2JqIGlzIE11dGF0aW9uID0+IHtcbiAgICAgIGlmICghb2JqPy5fX3R5cGVuYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ19fdHlwZW5hbWUgaXMgbWlzc2luZyBpbiBcImlzTXV0YXRpb25cIicpXG4gICAgICByZXR1cm4gTXV0YXRpb25fcG9zc2libGVUeXBlcy5pbmNsdWRlcyhvYmouX190eXBlbmFtZSlcbiAgICB9XG4gICAgXG5cblxuICAgIGNvbnN0IFBvc3RfcG9zc2libGVUeXBlczogc3RyaW5nW10gPSBbJ1Bvc3QnXVxuICAgIGV4cG9ydCBjb25zdCBpc1Bvc3QgPSAob2JqPzogeyBfX3R5cGVuYW1lPzogYW55IH0gfCBudWxsKTogb2JqIGlzIFBvc3QgPT4ge1xuICAgICAgaWYgKCFvYmo/Ll9fdHlwZW5hbWUpIHRocm93IG5ldyBFcnJvcignX190eXBlbmFtZSBpcyBtaXNzaW5nIGluIFwiaXNQb3N0XCInKVxuICAgICAgcmV0dXJuIFBvc3RfcG9zc2libGVUeXBlcy5pbmNsdWRlcyhvYmouX190eXBlbmFtZSlcbiAgICB9XG4gICAgXG5cblxuICAgIGNvbnN0IFF1ZXJ5X3Bvc3NpYmxlVHlwZXM6IHN0cmluZ1tdID0gWydRdWVyeSddXG4gICAgZXhwb3J0IGNvbnN0IGlzUXVlcnkgPSAob2JqPzogeyBfX3R5cGVuYW1lPzogYW55IH0gfCBudWxsKTogb2JqIGlzIFF1ZXJ5ID0+IHtcbiAgICAgIGlmICghb2JqPy5fX3R5cGVuYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ19fdHlwZW5hbWUgaXMgbWlzc2luZyBpbiBcImlzUXVlcnlcIicpXG4gICAgICByZXR1cm4gUXVlcnlfcG9zc2libGVUeXBlcy5pbmNsdWRlcyhvYmouX190eXBlbmFtZSlcbiAgICB9XG4gICAgXG5cblxuICAgIGNvbnN0IFVzZXJfcG9zc2libGVUeXBlczogc3RyaW5nW10gPSBbJ1VzZXInXVxuICAgIGV4cG9ydCBjb25zdCBpc1VzZXIgPSAob2JqPzogeyBfX3R5cGVuYW1lPzogYW55IH0gfCBudWxsKTogb2JqIGlzIFVzZXIgPT4ge1xuICAgICAgaWYgKCFvYmo/Ll9fdHlwZW5hbWUpIHRocm93IG5ldyBFcnJvcignX190eXBlbmFtZSBpcyBtaXNzaW5nIGluIFwiaXNVc2VyXCInKVxuICAgICAgcmV0dXJuIFVzZXJfcG9zc2libGVUeXBlcy5pbmNsdWRlcyhvYmouX190eXBlbmFtZSlcbiAgICB9XG4gICAgXG5cblxuICAgIGNvbnN0IFdvcmRfcG9zc2libGVUeXBlczogc3RyaW5nW10gPSBbJ1dvcmQnXVxuICAgIGV4cG9ydCBjb25zdCBpc1dvcmQgPSAob2JqPzogeyBfX3R5cGVuYW1lPzogYW55IH0gfCBudWxsKTogb2JqIGlzIFdvcmQgPT4ge1xuICAgICAgaWYgKCFvYmo/Ll9fdHlwZW5hbWUpIHRocm93IG5ldyBFcnJvcignX190eXBlbmFtZSBpcyBtaXNzaW5nIGluIFwiaXNXb3JkXCInKVxuICAgICAgcmV0dXJuIFdvcmRfcG9zc2libGVUeXBlcy5pbmNsdWRlcyhvYmouX190eXBlbmFtZSlcbiAgICB9XG4gICAgXG5cbmV4cG9ydCBjb25zdCBlbnVtTGVhcm5pbmdUeXBlID0ge1xuICAgY2hvaWNlVGVzdDogJ2Nob2ljZVRlc3QnIGFzIGNvbnN0LFxuICAgcGFzc2l2ZUxlYXJuaW5nOiAncGFzc2l2ZUxlYXJuaW5nJyBhcyBjb25zdCxcbiAgIHdyaXRpbmdUZXN0OiAnd3JpdGluZ1Rlc3QnIGFzIGNvbnN0XG59XG4iLCAiLy8gR2VuZXJhdGVkIGF0OiAyMDI2LTAxLTEwVDA3OjU1OjQ0LjYxMVpcbmltcG9ydCB0eXBlIHtcbiAgUXVlcnlHZW5xbFNlbGVjdGlvbixcbiAgUXVlcnksXG4gIE11dGF0aW9uR2VucWxTZWxlY3Rpb24sXG4gIE11dGF0aW9uLFxufSBmcm9tICcuL3NjaGVtYS50cydcbmltcG9ydCB7XG4gIGxpbmtUeXBlTWFwLFxuICBjcmVhdGVDbGllbnQgYXMgY3JlYXRlQ2xpZW50T3JpZ2luYWwsXG4gIGdlbmVyYXRlR3JhcGhxbE9wZXJhdGlvbixcbiAgdHlwZSBGaWVsZHNTZWxlY3Rpb24sXG4gIHR5cGUgR3JhcGhxbE9wZXJhdGlvbixcbiAgdHlwZSBDbGllbnRPcHRpb25zLFxuICBHZW5xbEVycm9yLFxufSBmcm9tICcuL3J1bnRpbWUvaW5kZXgudHMnXG5leHBvcnQgdHlwZSB7IEZpZWxkc1NlbGVjdGlvbiB9IGZyb20gJy4vcnVudGltZS9pbmRleC50cydcbmV4cG9ydCB7IEdlbnFsRXJyb3IgfVxuXG5pbXBvcnQgdHlwZXMgZnJvbSAnLi90eXBlcy50cydcbmV4cG9ydCAqIGZyb20gJy4vc2NoZW1hLnRzJ1xuY29uc3QgdHlwZU1hcCA9IGxpbmtUeXBlTWFwKHR5cGVzIGFzIGFueSlcblxuZXhwb3J0IGludGVyZmFjZSBDbGllbnQge1xuICBxdWVyeTxSIGV4dGVuZHMgUXVlcnlHZW5xbFNlbGVjdGlvbj4oXG4gICAgcmVxdWVzdDogUiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4gICk6IFByb21pc2U8RmllbGRzU2VsZWN0aW9uPFF1ZXJ5LCBSPj5cblxuICBtdXRhdGlvbjxSIGV4dGVuZHMgTXV0YXRpb25HZW5xbFNlbGVjdGlvbj4oXG4gICAgcmVxdWVzdDogUiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4gICk6IFByb21pc2U8RmllbGRzU2VsZWN0aW9uPE11dGF0aW9uLCBSPj5cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNsaWVudCA9IGZ1bmN0aW9uIChvcHRpb25zPzogQ2xpZW50T3B0aW9ucyk6IENsaWVudCB7XG4gIHJldHVybiBjcmVhdGVDbGllbnRPcmlnaW5hbCh7XG4gICAgdXJsOiB1bmRlZmluZWQsXG5cbiAgICAuLi5vcHRpb25zLFxuICAgIHF1ZXJ5Um9vdDogdHlwZU1hcC5RdWVyeSEsXG4gICAgbXV0YXRpb25Sb290OiB0eXBlTWFwLk11dGF0aW9uISxcbiAgICBzdWJzY3JpcHRpb25Sb290OiB0eXBlTWFwLlN1YnNjcmlwdGlvbiEsXG4gIH0pIGFzIGFueVxufVxuXG5leHBvcnQgY29uc3QgZXZlcnl0aGluZyA9IHtcbiAgX19zY2FsYXI6IHRydWUsXG59XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5UmVzdWx0PGZpZWxkcyBleHRlbmRzIFF1ZXJ5R2VucWxTZWxlY3Rpb24+ID0gRmllbGRzU2VsZWN0aW9uPFxuICBRdWVyeSxcbiAgZmllbGRzXG4+XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVRdWVyeU9wOiAoXG4gIGZpZWxkczogUXVlcnlHZW5xbFNlbGVjdGlvbiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4pID0+IEdyYXBocWxPcGVyYXRpb24gPSBmdW5jdGlvbiAoZmllbGRzKSB7XG4gIHJldHVybiBnZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24oJ3F1ZXJ5JywgdHlwZU1hcC5RdWVyeSEsIGZpZWxkcyBhcyBhbnkpXG59XG5cbmV4cG9ydCB0eXBlIE11dGF0aW9uUmVzdWx0PGZpZWxkcyBleHRlbmRzIE11dGF0aW9uR2VucWxTZWxlY3Rpb24+ID1cbiAgRmllbGRzU2VsZWN0aW9uPE11dGF0aW9uLCBmaWVsZHM+XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVNdXRhdGlvbk9wOiAoXG4gIGZpZWxkczogTXV0YXRpb25HZW5xbFNlbGVjdGlvbiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4pID0+IEdyYXBocWxPcGVyYXRpb24gPSBmdW5jdGlvbiAoZmllbGRzKSB7XG4gIHJldHVybiBnZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24oJ211dGF0aW9uJywgdHlwZU1hcC5NdXRhdGlvbiEsIGZpZWxkcyBhcyBhbnkpXG59XG4iLCAiLyoqXG4gKiBHZW5RTFx1RkYwOHNlbGVjdGlvbiBcdTMwNEJcdTMwODkgR3JhcGhRTCBPcGVyYXRpb24gXHUzMDkyXHU3NTFGXHU2MjEwXHVGRjA5XHUzMDY4XG4gKiB1cnFsXHVGRjA4XHUzMEFGXHUzMEU5XHUzMEE0XHUzMEEyXHUzMEYzXHUzMEM4XHU1QjlGXHU4ODRDXHUzMEZCXHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1XHVGRjA5XHUzMDkyXHU2QTRCXHU2RTIxXHUzMDU3XHUzMDU5XHUzMDhCXHUzMDVGXHUzMDgxXHUzMDZFXHUzMEU2XHUzMEZDXHUzMEM2XHUzMEEzXHUzMEVBXHUzMEM2XHUzMEEzXHUzMDAyXG4gKlxuICogXHU2NUI5XHU5MUREOlxuICogLSBcdTMwRDVcdTMwRURcdTMwRjNcdTMwQzhcdTUwNzRcdTMwNjdcdTMwNkYgR2VuUUwgXHUzMDZFIHNlbGVjdGlvbiBcdTMwNjdcdTU3OEJcdTVCODlcdTUxNjhcdTMwNkJcdTMwQUZcdTMwQThcdTMwRUEvXHUzMERGXHUzMEU1XHUzMEZDXHUzMEM2XHUzMEZDXHUzMEI3XHUzMEU3XHUzMEYzXHU1MTg1XHU1QkI5XHUzMDkyXHU4ODY4XHU3M0ZFXG4gKiAtIFx1NUI5Rlx1ODg0Q1x1MzA2RiB1cnFsIFx1MzA2RSBob29rIC8gY2xpZW50IFx1MzA5Mlx1NzUyOFx1MzA0NFx1MzA2Nlx1ODg0Q1x1MzA0NFx1MzAwMXVycWwgXHUzMDZFXHUzMEE4XHUzMEIzXHUzMEI3XHUzMEI5XHUzMEM2XHUzMEUwXHVGRjA4XHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1XHU3QjQ5XHVGRjA5XHUzMDkyXHU2RDNCXHU3NTI4XG4gKiAtIGdyYXBocWwtY29kZWdlbiBcdTMwNkZcdTRGN0ZcdTMwOEZcdTMwNUFcdTMwMDFHZW5RTCBcdTMwNkVcdTc1MUZcdTYyMTBcdTcyNjlcdTMwNkVcdTMwN0ZcdTMwOTJcdTRGOURcdTVCNThcdTVCRkVcdThDNjFcdTMwNkJcdTMwNTlcdTMwOEJcbiAqL1xuXG5pbXBvcnQgdHlwZSB7IE11dGF0aW9uUmVzdWx0LCBRdWVyeVJlc3VsdCB9IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ2VucWwvaW5kZXgudHNcIjtcbmltcG9ydCB7IGdlbmVyYXRlUXVlcnlPcCB9IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ2VucWwvaW5kZXgudHNcIjtcbmltcG9ydCB0eXBlIHtcbiAgTXV0YXRpb25HZW5xbFNlbGVjdGlvbixcbiAgUXVlcnlHZW5xbFNlbGVjdGlvbixcbn0gZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC9zY2hlbWEudHNcIjtcbmltcG9ydCB0eXBlIHsgT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCJ1cnFsXCI7XG5pbXBvcnQgeyB1c2VNdXRhdGlvbiwgdXNlUXVlcnkgfSBmcm9tIFwidXJxbFwiO1xuaW1wb3J0IHtcbiAgQXJncyxcbiAgRmllbGRzLFxuICBnZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24sXG59IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ2VucWwvcnVudGltZS9nZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24udHNcIjtcbmltcG9ydCB7IGxpbmtUeXBlTWFwIH0gZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC9ydW50aW1lL2xpbmtUeXBlTWFwLnRzXCI7XG5pbXBvcnQgdHlwZXMgZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC90eXBlcy50c1wiO1xuXG50eXBlIFJlcXVlc3RQb2xpY3kgPVxuICB8IFwiY2FjaGUtZmlyc3RcIlxuICB8IFwiY2FjaGUtb25seVwiXG4gIHwgXCJuZXR3b3JrLW9ubHlcIlxuICB8IFwiY2FjaGUtYW5kLW5ldHdvcmtcIjtcblxuLyoqXG4gKiB1c2VUeXBlZFF1ZXJ5XG4gKlxuICogXHU1Rjc5XHU1MjcyOiBHZW5RTCBcdTMwNkUgc2VsZWN0aW9uXHVGRjA4XHUzMDY5XHUzMDZFXHUzMEQ1XHUzMEEzXHUzMEZDXHUzMEVCXHUzMEM5XHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDAxXHUzMDY5XHUzMDZFXHU1RjE1XHU2NTcwXHUzMDkyXHU2RTIxXHUzMDU5XHUzMDRCXHVGRjA5XHUzMDRCXHUzMDg5XG4gKiBcdTVCOUZcdTg4NENcdTUzRUZcdTgwRkRcdTMwNkEgeyBxdWVyeSwgdmFyaWFibGVzIH0gXHUzMDkyXHU3NTFGXHU2MjEwXHUzMDU3XHUzMDAxXHUzMDVEXHUzMDZFXHUzMDdFXHUzMDdFIHVycWwgXHUzMDZFIHVzZVF1ZXJ5IFx1MzA2Qlx1NkUyMVx1MzA1OVx1MzAwMlxuICpcbiAqIFx1NTJCOVx1Njc5Qzogc2VsZWN0aW9uIFx1MzA2Qlx1MzA4OFx1MzA4Qlx1NTc4Qlx1NUI4OVx1NTE2OFx1MzA2OFx1MzAwMXVycWwgXHUzMDZFXHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1L1x1MzBERFx1MzBFQVx1MzBCN1x1MzBGQ1x1MzA5Mlx1NTQwQ1x1NjY0Mlx1MzA2Qlx1NkQzQlx1NzUyOFx1MzA2N1x1MzA0RFx1MzA4Qlx1MzAwMlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlVHlwZWRRdWVyeTxRdWVyeSBleHRlbmRzIFF1ZXJ5R2VucWxTZWxlY3Rpb24+KG9wdHM6IHtcbiAgcXVlcnk6IFF1ZXJ5O1xuICBwYXVzZT86IGJvb2xlYW47XG4gIHJlcXVlc3RQb2xpY3k/OiBSZXF1ZXN0UG9saWN5O1xuICBjb250ZXh0PzogUGFydGlhbDxPcGVyYXRpb25Db250ZXh0Pjtcbn0pIHtcbiAgY29uc3QgeyBxdWVyeSwgdmFyaWFibGVzIH0gPSBnZW5lcmF0ZVF1ZXJ5T3Aob3B0cy5xdWVyeSk7XG5cbiAgcmV0dXJuIHVzZVF1ZXJ5PFF1ZXJ5UmVzdWx0PFF1ZXJ5Pj4oe1xuICAgIC4uLm9wdHMsXG4gICAgcXVlcnksXG4gICAgdmFyaWFibGVzLFxuICB9KTtcbn1cblxuLy8gZGVuby1saW50LWlnbm9yZSBuby1leHBsaWNpdC1hbnlcbmNvbnN0IHR5cGVNYXAgPSBsaW5rVHlwZU1hcCh0eXBlcyBhcyBhbnkpO1xuXG4vKipcbiAqIHVzZVR5cGVkTXV0YXRpb25cbiAqXG4gKiBcdTVGNzlcdTUyNzI6IEdlblFMIFx1MzA2RSBzZWxlY3Rpb24gXHUzMDRCXHUzMDg5IE11dGF0aW9uIFx1MzA5Mlx1NUI5Rlx1ODg0Q1x1MzA1OVx1MzA4Qlx1MzA1Rlx1MzA4MVx1MzA2RVx1MzBENVx1MzBDM1x1MzBBRlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlVHlwZWRNdXRhdGlvbjxNdXRhdGlvbiBleHRlbmRzIE11dGF0aW9uR2VucWxTZWxlY3Rpb24+KFxuICBvcHRzOiB7XG4gICAgbXV0YXRpb246IE11dGF0aW9uO1xuICAgIGNvbnRleHQ/OiBQYXJ0aWFsPE9wZXJhdGlvbkNvbnRleHQ+O1xuICAgIGFkZGl0aW9uYWxUeXBlbmFtZXM/OiBzdHJpbmdbXTtcbiAgfSxcbikge1xuICAvLyBcdTMwQUZcdTMwQThcdTMwRUFcdTY1ODdcdTVCNTdcdTUyMTdcdTMwOTJcdTc1MUZcdTYyMTBcdUZGMDhcdTRFMDBcdTVFQTZcdTMwNjBcdTMwNTFcdUZGMDlcbiAgY29uc3Qgb3BlcmF0aW9uID0gZ2VuZXJhdGVHcmFwaHFsT3BlcmF0aW9uKFxuICAgIFwibXV0YXRpb25cIixcbiAgICB0eXBlTWFwLk11dGF0aW9uISxcbiAgICBvcHRzLm11dGF0aW9uIGFzIHVua25vd24gYXMgRmllbGRzLFxuICApO1xuXG4gIC8vIHVzZU11dGF0aW9uXHUzMDZCXHUzMDZGXHUzMEFGXHUzMEE4XHUzMEVBXHU2NTg3XHU1QjU3XHU1MjE3XHUzMDkyXHU3NkY0XHU2M0E1XHU2RTIxXHUzMDU5XG4gIGNvbnN0IFtyZXN1bHQsIGV4ZWN1dGVNdXRhdGlvbl0gPSB1c2VNdXRhdGlvbjxNdXRhdGlvblJlc3VsdDxNdXRhdGlvbj4+KFxuICAgIG9wZXJhdGlvbi5xdWVyeSxcbiAgKTtcblxuICBjb25zdCBleGVjdXRlID0gKHZhcmlhYmxlcz86IEFyZ3MpID0+IHtcbiAgICAvLyBcdTU5MDlcdTY1NzBcdTMwOTJcdTUxOERcdTc1MUZcdTYyMTBcdTMwNTdcdTMwNjZcdTMwMDFcdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTZFMjFcdTMwNTVcdTMwOENcdTMwNUZcdTUwMjRcdTMwNjdcdTRFMEFcdTY2RjhcdTMwNERcbiAgICBjb25zdCBvcGVyYXRpb25XaXRoVmFycyA9IGdlbmVyYXRlR3JhcGhxbE9wZXJhdGlvbihcbiAgICAgIFwibXV0YXRpb25cIixcbiAgICAgIHR5cGVNYXAuTXV0YXRpb24hLFxuICAgICAgb3B0cy5tdXRhdGlvbiBhcyB1bmtub3duIGFzIEZpZWxkcyxcbiAgICApO1xuXG4gICAgLy8gXHU1QjlGXHU4ODRDXHU2NjQyXHUzMDZCXHU2RTIxXHUzMDU1XHUzMDhDXHUzMDVGXHU1OTA5XHU2NTcwXHUzMDY3XHU0RTBBXHU2NkY4XHUzMDREXG4gICAgLy8gZ2VucWxcdTMwNkZ2MSwgdjJcdTMwNkFcdTMwNjlcdTMwNkVcdTU5MDlcdTY1NzBcdTU0MERcdTMwOTJcdTc1MUZcdTYyMTBcdTMwNTlcdTMwOEJcdTMwNENcdTMwMDFcbiAgICAvLyBcdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTZFMjFcdTMwNTVcdTMwOENcdTMwNUZcdTU5MDlcdTY1NzBcdTMwNkVcdTMwQURcdTMwRkNcdUZGMDhcdTRGOEI6IFwibmFtZVwiXHVGRjA5XHUzMDkyXHUzMDAxb3BlcmF0aW9uLnZhcmlhYmxlc1x1MzA2RVx1NTAyNFx1MzA2OFx1NzE2N1x1NTQwOFx1MzA1N1x1MzA2Nlx1NEUwQVx1NjZGOFx1MzA0RFxuICAgIGNvbnN0IGZpbmFsVmFyaWFibGVzID0geyAuLi5vcGVyYXRpb25XaXRoVmFycy52YXJpYWJsZXMgfTtcblxuICAgIGlmICh2YXJpYWJsZXMgJiYgb3BlcmF0aW9uV2l0aFZhcnMudmFyaWFibGVzKSB7XG4gICAgICBjb25zdCB2YXJLZXlzID0gT2JqZWN0LmtleXMob3BlcmF0aW9uV2l0aFZhcnMudmFyaWFibGVzKTtcbiAgICAgIC8vIG9wZXJhdGlvbi52YXJpYWJsZXNcdTMwNkVcdTU0MDRcdTU5MDlcdTY1NzBcdTMwNkJcdTMwNjRcdTMwNDRcdTMwNjZcdTMwMDFcdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTZFMjFcdTMwNTVcdTMwOENcdTMwNUZcdTU5MDlcdTY1NzBcdTMwNjhcdTcxNjdcdTU0MDhcbiAgICAgIHZhcktleXMuZm9yRWFjaCgodmFyS2V5KSA9PiB7XG4gICAgICAgIC8vIF9fYXJnc1x1MzA2N1x1NjMwN1x1NUI5QVx1MzA1NVx1MzA4Q1x1MzA1Rlx1NUYxNVx1NjU3MFx1NTQwRFx1MzA5Mlx1NTNENlx1NUY5N1x1RkYwOFx1MzA1M1x1MzA4Q1x1MzA2Rm11dGF0aW9uXHUzMDZFXHU2OUNCXHU5MDIwXHUzMDRCXHUzMDg5XHU2M0E4XHU2RTJDXHUzMDU5XHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhCXHVGRjA5XG4gICAgICAgIC8vIFx1N0MyMVx1NjYxM1x1NzY4NFx1MzA2QVx1NUI5Rlx1ODhDNTogbXV0YXRpb25cdTMwNkVfX2FyZ3NcdTMwNkVcdTMwQURcdTMwRkNcdTMwOTJcdTk4MDZcdTc1NkFcdTMwNkJcdTMwREVcdTMwQzNcdTMwRDRcdTMwRjNcdTMwQjBcbiAgICAgICAgY29uc3QgbXV0YXRpb25LZXlzID0gT2JqZWN0LmtleXMob3B0cy5tdXRhdGlvbik7XG4gICAgICAgIGlmIChtdXRhdGlvbktleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IG11dGF0aW9uRmllbGQgPVxuICAgICAgICAgICAgKG9wdHMubXV0YXRpb24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW211dGF0aW9uS2V5c1swXV07XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbXV0YXRpb25GaWVsZCAmJiB0eXBlb2YgbXV0YXRpb25GaWVsZCA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgXCJfX2FyZ3NcIiBpbiBtdXRhdGlvbkZpZWxkICYmIG11dGF0aW9uRmllbGQuX19hcmdzICYmXG4gICAgICAgICAgICB0eXBlb2YgbXV0YXRpb25GaWVsZC5fX2FyZ3MgPT09IFwib2JqZWN0XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZ05hbWVzID0gT2JqZWN0LmtleXMobXV0YXRpb25GaWVsZC5fX2FyZ3MpO1xuICAgICAgICAgICAgY29uc3QgdmFySW5kZXggPSB2YXJLZXlzLmluZGV4T2YodmFyS2V5KTtcbiAgICAgICAgICAgIGlmICh2YXJJbmRleCA+PSAwICYmIHZhckluZGV4IDwgYXJnTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFyZ05hbWUgPSBhcmdOYW1lc1t2YXJJbmRleF07XG4gICAgICAgICAgICAgIGlmICh2YXJpYWJsZXNbYXJnTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZpbmFsVmFyaWFibGVzW3ZhcktleV0gPSB2YXJpYWJsZXNbYXJnTmFtZV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGFkZGl0aW9uYWxUeXBlbmFtZXNcdTMwOTJjb250ZXh0XHUzMDZCXHU4RkZEXHU1MkEwXG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIC4uLm9wdHMuY29udGV4dCxcbiAgICAgIC4uLihvcHRzLmFkZGl0aW9uYWxUeXBlbmFtZXMgJiYge1xuICAgICAgICBhZGRpdGlvbmFsVHlwZW5hbWVzOiBvcHRzLmFkZGl0aW9uYWxUeXBlbmFtZXMsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGV4ZWN1dGVNdXRhdGlvbihmaW5hbFZhcmlhYmxlcywgY29udGV4dCk7XG4gIH07XG5cbiAgcmV0dXJuIFtyZXN1bHQsIGV4ZWN1dGVdIGFzIGNvbnN0O1xufVxuIiwgImltcG9ydCB7IE91dGxldCwgUm91dGUsIFJvdXRlcyB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBMb2dpblBhZ2UsIFNpZ251cFBhZ2UgfSBmcm9tIFwiLi9wYWdlcy9pbmRleC50c1wiO1xuaW1wb3J0IHsgUHJvdGVjdGVkUm91dGUgfSBmcm9tIFwiLi9jb21wb25lbnRzL1Byb3RlY3RlZFJvdXRlLnRzeFwiO1xuaW1wb3J0IHsgTmF2aWdhdGlvbiB9IGZyb20gXCIuL2NvbXBvbmVudHMvTmF2aWdhdGlvbi50c3hcIjtcbmltcG9ydCB7IFdvcmRSZWZsZXNoZXIgfSBmcm9tIFwiLi9wYWdlcy9Xb3JkUmVmbGVzaGVyLnRzeFwiO1xuXG5mdW5jdGlvbiBMYXlvdXQoKSB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxOYXZpZ2F0aW9uIC8+XG4gICAgICA8bWFpbj5cbiAgICAgICAgPE91dGxldCAvPiB7LyogXHU1QjUwXHUzMEVCXHUzMEZDXHUzMEM4XHUzMDRDXHUzMDUzXHUzMDUzXHUzMDZCXHU4ODY4XHU3OTNBXHUzMDU1XHUzMDhDXHUzMDhCICovfVxuICAgICAgPC9tYWluPlxuICAgIDwvPlxuICApO1xufVxuXG5mdW5jdGlvbiBBcHAoKSB7XG4gIHJldHVybiAoXG4gICAgPFJvdXRlcz5cbiAgICAgIDxSb3V0ZSBlbGVtZW50PXs8TGF5b3V0IC8+fT5cbiAgICAgICAgey8qIFx1NTE2Q1x1OTU4Qlx1MzBFQlx1MzBGQ1x1MzBDOCAqL31cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvbG9naW5cIiBlbGVtZW50PXs8TG9naW5QYWdlIC8+fSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9zaWdudXBcIiBlbGVtZW50PXs8U2lnbnVwUGFnZSAvPn0gLz5cblxuICAgICAgICA8Um91dGVcbiAgICAgICAgICBwYXRoPVwiL1wiXG4gICAgICAgICAgZWxlbWVudD17XG4gICAgICAgICAgICA8UHJvdGVjdGVkUm91dGU+XG4gICAgICAgICAgICAgIDxXb3JkUmVmbGVzaGVyIC8+XG4gICAgICAgICAgICA8L1Byb3RlY3RlZFJvdXRlPlxuICAgICAgICAgIH1cbiAgICAgICAgLz5cblxuICAgICAgICB7LyogNDA0OiBcdTY3MkFcdTVCOUFcdTdGQTlcdTMwNkVcdTMwRDFcdTMwQjlcdTMwNkZcdTMwQzBcdTMwQzNcdTMwQjdcdTMwRTVcdTMwRENcdTMwRkNcdTMwQzlcdTMwNzggKi99XG4gICAgICAgIDxSb3V0ZVxuICAgICAgICAgIHBhdGg9XCIqXCJcbiAgICAgICAgICBlbGVtZW50PXtcbiAgICAgICAgICAgIDxQcm90ZWN0ZWRSb3V0ZT5cbiAgICAgICAgICAgICAgPFdvcmRSZWZsZXNoZXIgLz5cbiAgICAgICAgICAgIDwvUHJvdGVjdGVkUm91dGU+XG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgPC9Sb3V0ZT5cbiAgICA8L1JvdXRlcz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuIiwgImltcG9ydCB0eXBlIHsgRXhjaGFuZ2UsIE9wZXJhdGlvbiwgT3BlcmF0aW9uUmVzdWx0IH0gZnJvbSBcInVycWxcIjtcblxuaW1wb3J0IHsgcGlwZSwgdGFwIH0gZnJvbSBcIndvbmthXCI7XG5cbi8qKlxuICogXHUzMERGXHUzMEU1XHUzMEZDXHUzMEM2XHUzMEZDXHUzMEI3XHUzMEU3XHUzMEYzXHU3RDUwXHU2NzlDXHUzMDRCXHUzMDg5IF9fdHlwZW5hbWUgXHUzMDkyXHU1MThEXHU1RTMwXHU3Njg0XHUzMDZCXHU1M0NFXHU5NkM2XG4gKi9cbmZ1bmN0aW9uIGNvbGxlY3RUeXBlbmFtZXMobm9kZTogdW5rbm93biwgb3V0OiBTZXQ8c3RyaW5nPikge1xuICBpZiAobm9kZSA9PSBudWxsKSByZXR1cm47XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICBmb3IgKGNvbnN0IHYgb2Ygbm9kZSkgY29sbGVjdFR5cGVuYW1lcyh2LCBvdXQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygbm9kZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IG9iaiA9IG5vZGUgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgY29uc3QgdG4gPSBvYmouX190eXBlbmFtZTtcblxuICAgIGlmICh0eXBlb2YgdG4gPT09IFwic3RyaW5nXCIpIG91dC5hZGQodG4pO1xuXG4gICAgZm9yIChjb25zdCB2IG9mIE9iamVjdC52YWx1ZXMob2JqKSkgY29sbGVjdFR5cGVuYW1lcyh2LCBvdXQpO1xuICB9XG59XG5cbi8qKlxuICogTXV0YXRpb25cdTMwNjdcdTVCOUZcdTg4NENcdTY2NDJRdWVyeVx1MzA5Mlx1NzY3QVx1NzA2Qlx1MzA1OVx1MzA4QkV4Y2hhbmdlXG4gKiBcdTY3NjFcdTRFRjZcbiAqICBcdTMwRkIxLiBcdTVCOUZcdTg4NENcdTZFMDhcdTMwN0ZcdTMwNkVRdWVyeVxuICogIFx1MzBGQjIuIE11dGF0aW9uXHU1QjlGXHU4ODRDXHU2NjQyXHUzMDZCXHU3NjdBXHU3MDZCXHU1QkZFXHU4QzYxXHUzMDZFXHU1NzhCXHU2MzA3XHU1QjlBIHsgYWRkaXRpb25hbFR5cGVuYW1lczogW1wiTWVzc2FnZUFjY291bnQoXHU0RjhCKVwiXSB9XG4gKiAgXHUzMEZCMy4gXHU0RTBBXHU4QTE4XHUzMDZFXHU1NzhCXHUzMDRDXHU4QTcyXHU1RjUzXHUzMDZFUXVlcnlcdTMwNkVfX3R5cGVuYW1lXHUzMDZCXHU1NDJCXHUzMDdFXHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDhCXG4gKiBcdTg4RENcdThEQjNcbiAqICBcdTMwRkJncmFwaGNhY2hlXHUzMDZCXHUzMDg4XHUzMDhCY2FjaGVFeGNoYW5nZVx1MzA2RVx1NTgzNFx1NTQwOFx1MzA2RmFkZGl0aW9uYWxUeXBlbmFtZXNcdTMwOTJcdTRGN0ZcdTMwNDZcdTMwNTNcdTMwNjhcdTMwNENcdTMwNjdcdTMwNERcdTMwOEJcdTMwNENcdTMwNTNcdTMwNjFcdTMwODlcdTMwODJcdUZGMTBcdTRFRjZcdTMwNkVcdTU4MzRcdTU0MDhcdTVCRkVcdTVGRENcdTRFMERcdTUzRUZcdTMwNkVcdTMwNUZcdTMwODFcdTMwNTNcdTMwNjFcdTMwODlcdTgxRUFcdTRGNUNcdTMwNTdcdTMwNUZcbiAqL1xuZXhwb3J0IGNvbnN0IHJlZmV0Y2hPblR5cGVuYW1lOiBFeGNoYW5nZSA9ICh7IGZvcndhcmQsIGNsaWVudCB9KSA9PiAob3BzJCkgPT4ge1xuICAvLyBcdTMwQTJcdTMwQUZcdTMwQzZcdTMwQTNcdTMwRDZcdTMwNkFcdTMwQUZcdTMwQThcdTMwRUFcdTMwOTJcdTRGRERcdTYzMDFcdTMwNTlcdTMwOEIgTWFwXG4gIGNvbnN0IGFjdGl2ZVF1ZXJpZXMgPSBuZXcgTWFwPG51bWJlciwgT3BlcmF0aW9uPigpO1xuXG4gIC8vIG9wcyQgXHUzMDkyXHU3NkUzXHU4OTk2XHUzMDU3XHUzMDY2IHRlYXJkb3duIFx1NjY0Mlx1MzA2Qlx1NTI0QVx1OTY2NFxuICAvLyBcdTIwM0IgdXJxbCBcdTMwNjdcdTMwNkZcdTMwMDFcdTMwQUZcdTMwQThcdTMwRUFcdTMwNENcdTRFMERcdTg5ODFcdTMwNkJcdTMwNkFcdTMwNjNcdTMwNUZcdTMwNjhcdTMwNERcdUZGMDhcdTMwQjNcdTMwRjNcdTMwRERcdTMwRkNcdTMwQ0RcdTMwRjNcdTMwQzhcdTMwNENcdTMwQTJcdTMwRjNcdTMwREVcdTMwQTZcdTMwRjNcdTMwQzhcdTMwNTVcdTMwOENcdTMwNUZcdTMwNjhcdTMwNERcdTMwNkFcdTMwNjlcdUZGMDlcdTMwNkIgdGVhcmRvd24gXHU2NENEXHU0RjVDXHUzMDRDXHU3NjdBXHU3NTFGXHUzMDU5XHUzMDhCXG4gIGNvbnN0IHJlc3VsdHMkID0gcGlwZShcbiAgICBvcHMkLFxuICAgIHRhcCgob3BlcmF0aW9uOiBPcGVyYXRpb24pID0+IHtcbiAgICAgIGlmIChvcGVyYXRpb24ua2luZCA9PT0gXCJ0ZWFyZG93blwiKSB7XG4gICAgICAgIGFjdGl2ZVF1ZXJpZXMuZGVsZXRlKG9wZXJhdGlvbi5rZXkpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIGZvcndhcmQsXG4gICk7XG5cbiAgLy8gcmVzdWx0cyQgXHUzMDkyXHU1OTA5XHU2NkY0XHUzMDVCXHUzMDVBXHUzMDZCXHU1MUU2XHU3NDA2XHUzMDkyXHU4ODRDXHUzMDQ2XHVGRjA4XHU5NzVFXHU1NDBDXHU2NzFGXHUzMDZCXHU1QjlGXHU4ODRDXHVGRjA5XG4gIHJldHVybiBwaXBlKFxuICAgIHJlc3VsdHMkLFxuICAgIHRhcCgocmVzdWx0OiBPcGVyYXRpb25SZXN1bHQpID0+IHtcbiAgICAgIC8vIDEuIFx1MzBBRlx1MzBBOFx1MzBFQVx1MzA0Q1x1NUI5Rlx1ODg0Q1x1MzA1NVx1MzA4Q1x1MzA1Rlx1MzA4OSBNYXAgXHUzMDZCXHU3NjdCXHU5MzMyXG4gICAgICBpZiAocmVzdWx0Lm9wZXJhdGlvbi5raW5kID09PSBcInF1ZXJ5XCIpIHtcbiAgICAgICAgYWN0aXZlUXVlcmllcy5zZXQocmVzdWx0Lm9wZXJhdGlvbi5rZXksIHJlc3VsdC5vcGVyYXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGdldFF1ZXJ5TmFtZSA9IChvcDogT3BlcmF0aW9uKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgICBjb25zdCBkZWYgPSBvcC5xdWVyeS5kZWZpbml0aW9uc1swXTtcbiAgICAgICAgICBpZiAoIWRlZiB8fCBkZWYua2luZCAhPT0gXCJPcGVyYXRpb25EZWZpbml0aW9uXCIpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAvLyBcdTU0MERcdTUyNERcdTRFRDhcdTMwNERcdTMwQUZcdTMwQThcdTMwRUFcdTMwNkVcdTU4MzRcdTU0MDhcbiAgICAgICAgICBpZiAoZGVmLm5hbWU/LnZhbHVlKSByZXR1cm4gZGVmLm5hbWUudmFsdWU7XG5cbiAgICAgICAgICAvLyBcdTUzM0ZcdTU0MERcdTMwQUZcdTMwQThcdTMwRUFcdTMwNkVcdTU4MzRcdTU0MDhcdTMwNkZcdTY3MDBcdTUyMURcdTMwNkVcdTMwRDVcdTMwQTNcdTMwRkNcdTMwRUJcdTMwQzlcdTU0MERcdTMwOTJcdTRGN0ZcdTc1MjhcbiAgICAgICAgICBjb25zdCBmaXJzdFNlbGVjdGlvbiA9IGRlZi5zZWxlY3Rpb25TZXQ/LnNlbGVjdGlvbnM/LlswXTtcbiAgICAgICAgICBpZiAoZmlyc3RTZWxlY3Rpb24gJiYgZmlyc3RTZWxlY3Rpb24ua2luZCA9PT0gXCJGaWVsZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3RTZWxlY3Rpb24ubmFtZS52YWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5TmFtZSA9IGdldFF1ZXJ5TmFtZShyZXN1bHQub3BlcmF0aW9uKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIltyZWZldGNoT25UeXBlbmFtZV0gcXVlcnkgYWRkZWQ6XCIsIHtcbiAgICAgICAgICBrZXk6IHJlc3VsdC5vcGVyYXRpb24ua2V5LFxuICAgICAgICAgIHF1ZXJ5TmFtZSxcbiAgICAgICAgICB0b3RhbENvdW50OiBhY3RpdmVRdWVyaWVzLnNpemUsXG4gICAgICAgICAgYWxsUXVlcmllczogQXJyYXkuZnJvbShhY3RpdmVRdWVyaWVzLnZhbHVlcygpKS5tYXAoKG9wKSA9PiAoe1xuICAgICAgICAgICAga2V5OiBvcC5rZXksXG4gICAgICAgICAgICBuYW1lOiBnZXRRdWVyeU5hbWUob3ApLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIDIuIFx1MzBERlx1MzBFNVx1MzBGQ1x1MzBDNlx1MzBGQ1x1MzBCN1x1MzBFN1x1MzBGM1x1MzA0Q1x1NjIxMFx1NTI5Rlx1MzA1N1x1MzA1Rlx1MzA4OVx1NTE4RFx1NUI5Rlx1ODg0Q1x1MzA5Mlx1NTIyNFx1NUI5QVxuICAgICAgaWYgKHJlc3VsdC5vcGVyYXRpb24ua2luZCA9PT0gXCJtdXRhdGlvblwiICYmICFyZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gcmVzdWx0Lm9wZXJhdGlvbi5jb250ZXh0IGFzIHtcbiAgICAgICAgICBhZGRpdGlvbmFsVHlwZW5hbWVzPzogc3RyaW5nW107XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVmZXRjaFR5cGVuYW1lcyA9IEFycmF5LmlzQXJyYXkoY3R4Py5hZGRpdGlvbmFsVHlwZW5hbWVzKVxuICAgICAgICAgID8gY3R4LmFkZGl0aW9uYWxUeXBlbmFtZXNcbiAgICAgICAgICA6IFtdO1xuXG4gICAgICAgIGlmIChyZWZldGNoVHlwZW5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCByZXN1bHRUeXBlbmFtZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAgICAgICAgIC8vIFx1MzBERlx1MzBFNVx1MzBGQ1x1MzBDNlx1MzBGQ1x1MzBCN1x1MzBFN1x1MzBGM1x1N0Q1MFx1Njc5Q1x1MzA0Qlx1MzA4OSBfX3R5cGVuYW1lIFx1MzA5Mlx1NTE4RFx1NUUzMFx1NzY4NFx1MzA2Qlx1NTNDRVx1OTZDNihyZXN1bHRUeXBlbmFtZXNcdTMwNzhcdTY4M0NcdTdEMEQpXG4gICAgICAgICAgY29sbGVjdFR5cGVuYW1lcyhyZXN1bHQuZGF0YSwgcmVzdWx0VHlwZW5hbWVzKTtcblxuICAgICAgICAgIC8vIFx1NEUwMFx1ODFGNFx1MzA1N1x1MzA1Rlx1MzBBMlx1MzBBRlx1MzBDNlx1MzBBM1x1MzBENlx1MzBBRlx1MzBBOFx1MzBFQVx1MzA5Mlx1NTE4RFx1NUI5Rlx1ODg0Q1xuICAgICAgICAgIGZvciAoY29uc3Qgb3Agb2YgYWN0aXZlUXVlcmllcy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKHJlZmV0Y2hUeXBlbmFtZXMuc29tZSgodCkgPT4gcmVzdWx0VHlwZW5hbWVzLmhhcyh0KSkpIHtcbiAgICAgICAgICAgICAgY2xpZW50LnJlZXhlY3V0ZU9wZXJhdGlvbih7XG4gICAgICAgICAgICAgICAgLi4ub3AsXG4gICAgICAgICAgICAgICAgY29udGV4dDogeyAuLi5vcC5jb250ZXh0LCByZXF1ZXN0UG9saWN5OiBcIm5ldHdvcmstb25seVwiIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICApO1xufTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFTYSxRQUFJQSxLQUFFLE9BQU8sSUFBSSxlQUFlO0FBQWhDLFFBQWtDQyxLQUFFLE9BQU8sSUFBSSxjQUFjO0FBQTdELFFBQStEQyxLQUFFLE9BQU8sSUFBSSxnQkFBZ0I7QUFBNUYsUUFBOEYsSUFBRSxPQUFPLElBQUksbUJBQW1CO0FBQTlILFFBQWdJQyxLQUFFLE9BQU8sSUFBSSxnQkFBZ0I7QUFBN0osUUFBK0pDLEtBQUUsT0FBTyxJQUFJLGdCQUFnQjtBQUE1TCxRQUE4TEMsS0FBRSxPQUFPLElBQUksZUFBZTtBQUExTixRQUE0TkMsS0FBRSxPQUFPLElBQUksbUJBQW1CO0FBQTVQLFFBQThQLElBQUUsT0FBTyxJQUFJLGdCQUFnQjtBQUEzUixRQUE2UixJQUFFLE9BQU8sSUFBSSxZQUFZO0FBQXRULFFBQXdUQyxLQUFFLE9BQU8sSUFBSSxZQUFZO0FBQWpWLFFBQW1WLElBQUUsT0FBTztBQUFTLGFBQVMsRUFBRUMsSUFBRTtBQUFDLFVBQUcsU0FBT0EsTUFBRyxhQUFXLE9BQU9BLEdBQUUsUUFBTztBQUFLLE1BQUFBLEtBQUUsS0FBR0EsR0FBRSxDQUFDLEtBQUdBLEdBQUUsWUFBWTtBQUFFLGFBQU0sZUFBYSxPQUFPQSxLQUFFQSxLQUFFO0FBQUEsSUFBSTtBQUMxZSxRQUFJLElBQUUsRUFBQyxXQUFVLFdBQVU7QUFBQyxhQUFNO0FBQUEsSUFBRSxHQUFFLG9CQUFt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QUEsUUFBVSxLQUFLO0FBQUEsUUFBWSxLQUFLO0FBQUEsUUFBTyxLQUFLO0FBQUEsUUFBVSxLQUFLO0FBQUEsUUFBVyxLQUFLO0FBQUEsUUFBUSxLQUFLO0FBQUEsUUFBVSxLQUFLO0FBQUEsUUFBVSxLQUFLO0FBQUEsUUFBVyxLQUFLO0FBQUEsUUFBUSxLQUFLO0FBQUEsUUFBWSxLQUFLO0FBQUEsUUFBVSxLQUFLO0FBQUEsUUFBUSxLQUFLO0FBQUEsUUFBUSxLQUFLO0FBQUEsUUFBTyxLQUFLO0FBQUEsUUFBZ0IsS0FBSztBQUFBLFFBQWMsS0FBSztBQUFBLFFBQVksS0FBSztBQUFBLFFBQWEsS0FBSztBQUFBLFFBQVEsS0FBSztBQUFBLFFBQVMsS0FBSztBQUFBLFFBQVMsS0FBSztBQUFBLFFBQVMsS0FBSztBQUFBLFFBQWMsS0FBSztBQUFBLFFBQVcsS0FBSztBQUFBLFFBQWEsS0FBSztBQUFBLFFBQWUsS0FBSztBQUFBLFFBQVMsS0FBSztBQUFBLFFBQWtCLEtBQUs7QUFBQSxRQUFZLEtBQUs7QUFBQSxRQUFtQixLQUFLO0FBQUEsUUFBaUIsS0FBSztBQUFBLFFBQW9CLEtBQUs7QUFBQSxRQUFhLEtBQUs7QUFBQSxRQUFZLEtBQUs7QUFBQSxRQUFjLEtBQUs7QUFBQSxRQUFPLEtBQUs7QUFBQSxRQUFtQixLQUFLO0FBQUEsUUFBUSxLQUFLO0FBQUEsUUFBYSxLQUFLO0FBQUEsUUFBVyxLQUFLO0FBQUEsUUFBUyxLQUFLO0FBQWMsaUJBQU87QUFBQSxRQUFFLEtBQUs7QUFBQSxRQUFPLEtBQUs7QUFBQSxRQUFZLEtBQUs7QUFBQSxRQUFXLEtBQUs7QUFBQSxRQUFZLEtBQUs7QUFBQSxRQUFXLEtBQUs7QUFBQSxRQUFZLEtBQUs7QUFBQSxRQUFXLEtBQUs7QUFBQSxRQUFZLEtBQUs7QUFBQSxRQUFjLEtBQUs7QUFBQSxRQUFhLEtBQUs7QUFBQSxRQUFjLEtBQUs7QUFBQSxRQUFTLEtBQUs7QUFBQSxRQUFTLEtBQUs7QUFBQSxRQUFZLEtBQUs7QUFBQSxRQUFRLEtBQUs7QUFBQSxRQUFhLEtBQUs7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LEVBQUUsT0FBTTtBQUFDLFFBQUFDLEtBQUUsRUFBRTtBQUFNLFFBQUFDLEtBQUUsR0FBR0QsSUFBRUEsR0FBRSxZQUFZO0FBQUUsVUFBRSxRQUFNQztBQUFFLGFBQUlBLEdBQUUsU0FBTyxHQUFFLFNBQU9ELEdBQUUsVUFBUyxDQUFBQSxLQUFFQSxHQUFFLFNBQVFDLEtBQUVBLEdBQUUsVUFBUSxHQUFHRCxJQUFFQSxHQUFFLFlBQVksR0FBRUMsR0FBRSxTQUFPO0FBQUUsUUFBQUEsR0FBRSxVQUFRO0FBQUEsTUFBSTtBQUFDLGFBQU8sRUFBRTtBQUFBLElBQUs7QUFDOWEsYUFBUyxHQUFHRCxJQUFFLEdBQUVDLElBQUU7QUFBQyxjQUFPLEVBQUUsS0FBSTtBQUFBLFFBQUMsS0FBSztBQUFFLGFBQUcsQ0FBQztBQUFFLGFBQUc7QUFBRTtBQUFBLFFBQU0sS0FBSztBQUFFLGFBQUcsQ0FBQztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUUsYUFBRyxFQUFFLElBQUksS0FBRyxHQUFHLENBQUM7QUFBRTtBQUFBLFFBQU0sS0FBSztBQUFFLGFBQUcsR0FBRSxFQUFFLFVBQVUsYUFBYTtBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUcsY0FBSUMsS0FBRSxFQUFFLEtBQUssVUFBU0UsS0FBRSxFQUFFLGNBQWM7QUFBTSxZQUFFLElBQUdGLEdBQUUsYUFBYTtBQUFFLFVBQUFBLEdBQUUsZ0JBQWNFO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRyxVQUFBRixLQUFFLEVBQUU7QUFBYyxjQUFHLFNBQU9BLElBQUU7QUFBQyxnQkFBRyxTQUFPQSxHQUFFLFdBQVcsUUFBTyxFQUFFLEdBQUUsRUFBRSxVQUFRLENBQUMsR0FBRSxFQUFFLFNBQU8sS0FBSTtBQUFLLGdCQUFHLE9BQUtELEtBQUUsRUFBRSxNQUFNLFlBQVksUUFBTyxHQUFHRCxJQUFFLEdBQUVDLEVBQUM7QUFBRSxjQUFFLEdBQUUsRUFBRSxVQUFRLENBQUM7QUFBRSxZQUFBRCxLQUFFLEdBQUdBLElBQUUsR0FBRUMsRUFBQztBQUFFLG1CQUFPLFNBQU9ELEtB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TyxHQUFHLEdBQUVDLEtBQUUsU0FBTyxFQUFFLGVBQWMsU0FBT0YsTUFBRyxTQUFPQSxHQUFFLGtCQUFnQkUsT0FBSSxFQUFFLFNBQU8sT0FBTUEsTUFBRyxPQUFLLEVBQUUsT0FBSyxLQUFHLE9BQUssS0FBRyxnQkFBYyxFQUFFLENBQUMsR0FBRSxFQUFFLGVBQWEsTUFBSSxFQUFFLFNBQU8sU0FBTyxFQUFFLENBQUMsR0FBRTtBQUFBLFFBQUssS0FBSztBQUFHLGlCQUFPO0FBQUEsUUFBSyxLQUFLO0FBQUcsaUJBQU87QUFBQSxNQUFJO0FBQUMsWUFBTSxNQUFNSCxHQUFFLEtBQUksRUFBRSxHQUFHLENBQUM7QUFBQSxJQUFFO0FBQ2xYLGFBQVMsR0FBR0MsSUFBRSxHQUFFO0FBQUMsU0FBRyxDQUFDO0FBQUUsY0FBTyxFQUFFLEtBQUk7QUFBQSxRQUFDLEtBQUs7QUFBRSxpQkFBTyxHQUFHLEVBQUUsSUFBSSxLQUFHLEdBQUcsR0FBRUEsS0FBRSxFQUFFLE9BQU1BLEtBQUUsU0FBTyxFQUFFLFFBQU1BLEtBQUUsU0FBTyxLQUFJLEtBQUc7QUFBQSxRQUFLLEtBQUs7QUFBRSxpQkFBTyxHQUFHLEdBQUUsRUFBRSxFQUFFLEdBQUUsRUFBRSxDQUFDLEdBQUUsR0FBRyxHQUFFQSxLQUFFLEVBQUUsT0FBTSxPQUFLQSxLQUFFLFVBQVEsT0FBS0EsS0FBRSxRQUFNLEVBQUUsUUFBTUEsS0FBRSxTQUFPLEtBQUksS0FBRztBQUFBLFFBQUssS0FBSztBQUFFLGlCQUFPLEdBQUcsQ0FBQyxHQUFFO0FBQUEsUUFBSyxLQUFLO0FBQUcsWUFBRSxDQUFDO0FBQUUsVUFBQUEsS0FBRSxFQUFFO0FBQWMsY0FBRyxTQUFPQSxNQUFHLFNBQU9BLEdBQUUsWUFBVztBQUFDLGdCQUFHLFNBQU8sRUFBRSxVQUFVLE9BQU0sTUFBTUQsR0FBRSxHQUFHLENBQUM7QUFBRSxlQUFHO0FBQUEsVUFBQztBQUFDLFVBQUFDLEtBQUUsRUFBRTtBQUFNLGlCQUFPQSxLQUFFLFNBQU8sRUFBRSxRQUFNQSxLQUFFLFNBQU8sS0FBSSxL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LEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQWtDO0lBQ2xDO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FBZ0M7SUFDaEM7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBR0Y7TUFBQTs7SUFBQSxHQUFvQztJQUNwQztNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFJRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQStCO0lBQy9CO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUlGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FBc0M7SUFDdEM7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBR0Y7TUFBQTs7SUFBQSxHQUFrQztJQUNsQztNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQStCO0lBQy9CO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUdGO01BQUE7O0lBQUEsR0FDRTtJQUdGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FBeUI7SUFDekI7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFB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ZCIsICJjIiwgImgiLCAiZiIsICJRIiwgImIiLCAiZiIsICJhIiwgImMiLCAiZCIsICJlIiwgImgiLCAiQyIsICJuIiwgImwiLCAicCIsICJyIiwgInQiLCAidSIsICJ2IiwgInkiLCAiSSIsICJRIiwgInAiLCAiYSIsICJjIiwgImQiLCAidiIsICJlIiwgImYiLCAibCIsICJoIiwgIkMiLCAiYiIsICJnIiwgImsiLCAibiIsICJ0IiwgInUiLCAiSSIsICJyIiwgInkiLCAibSIsICJRIiwgImkiLCAiYyIsICJvIiwgImgiLCAiZSIsICJlcnJvciIsICJ2YWx1ZSIsICJhIiwgInF1ZXJ5c3RyaW5nIiwgIm5vb3AiLCAic3RyaW5nVG9CeXRlQXJyYXkiLCAicCIsICJpIiwgImMiLCAiYzIiLCAiYzMiLCAidSIsICJuYW1lIiwgIkNvbXBvbmVudCIsICJuYW1lIiwgInR5cGUiLCAiZSIsICJpbml0X2luZGV4X2VzbTIwMTciLCAiTG9nTGV2ZWwiLCAibmFtZSIsICJlcnJvciIsICJ2YWx1ZSIsICJjIiwgIm5hbWUiLCAidmVyc2lvbiIsICJ0YXJnZXQiLCAiYXBwIiwgImUiLCAibmFtZSIsICJERUZBVUxUX0VOVFJZX05BTUUiLCAidmVyc2lvbiIsICJ3YXJuaW5nIiwgIkNvbXBvbmVudCIsICJhcHBOYW1lIiwgImFwcENvbXBhdE5hbWUiLCAiYW5hbHl0aWNzTmFtZSIsICJhbmFseXRpY3NDb21wYXROYW1lIiwgImFwcENoZWNrTmFtZSIsICJhcHBDaGVja0NvbXBhdE5hbWUiLCAiYXV0aE5hbWUiLCAiYXV0aENvbXBhdE5hbWUiLCAiZGF0YWJhc2VOYW1lIiwgImRhdGFjb25uZWN0TmFtZSIsICJkYXRhYmFzZUNvbXBhdE5hbWUiLCAiZnVuY3Rpb25zTmFtZSIsICJmdW5jdGlvbnNDb21wYXROYW1lIiwgImluc3RhbGxhdGlvbnNOYW1lIiwgImluc3RhbGxhdGlvbnNDb21wYXROYW1lIiwgIm1lc3NhZ2luZ05hbWUiLCAibWVzc2FnaW5nQ29tcGF0TmFtZSIsICJwZXJmb3JtYW5jZU5hbWUiLCAicGVyZm9ybWFuY2VDb21wYXROYW1lIiwgInJlbW90ZUNvbmZpZ05hbWUiLCAicmVtb3RlQ29uZmlnQ29tcGF0TmFtZSIsICJzdG9yYWdlTmFtZSIsICJzdG9yYWdlQ29tcGF0TmFtZSIsICJmaXJlc3RvcmVOYW1lIiwgImZpcmVzdG9yZUNvbXBhdE5hbWUiLCAidmVydGV4TmFtZSIsICJwYWNrYWdlTmFtZSIsICJlIiwgInQiLCAicCIsICJpIiwgImF1dGgiLCAianNvbiIsICJlIiwgImVycm9yIiwgIm8iLCAibiIsICJwIiwgImFwcCIsICJhcHBseUFjdGlvbkNvZGUiLCAic2VuZEVtYWlsVmVyaWZpY2F0aW9uIiwgInNlbmRQYXNzd29yZFJlc2V0RW1haWwiLCAic2VuZFNpZ25JbkxpbmtUb0VtYWlsIiwgInNpZ25JbldpdGhFbWFpbExpbmsiLCAic2lnbkluV2l0aFBob25lTnVtYmVyIiwgImxpbmtXaXRoUGhvbmVOdW1iZXIiLCAiX2xpbmsiLCAic2lnbkluV2l0aEN1c3RvbVRva2VuIiwgImdldElkVG9rZW5SZXNwb25zZSIsICJhdXRoZW50aWNhdGlvbi5zZW5kUGFzc3dvcmRSZXNldEVtYWlsIiwgImFjY291bnRcclxuICAgICAgICAucmVzZXRQYXNzd29yZCIsICJhY2NvdW50LmFwcGx5QWN0aW9uQ29kZSIsICJhY2NvdW50LnJlc2V0UGFzc3dvcmQiLCAicmVxdWVzdCIsICJhY3Rpb25Db2RlU2V0dGluZ3MiLCAiYXBpLnNlbmRTaWduSW5MaW5rVG9FbWFpbCIsICJhcGkuc2VuZEVtYWlsVmVyaWZpY2F0aW9uIiwgImFwaS52ZXJpZnlBbmRDaGFuZ2VFbWFpbCIsICJ1cGRhdGVQcm9maWxlIiwgImFwaVVwZGF0ZVByb2ZpbGUiLCAiYXBpVXBkYXRlRW1haWxQYXNzd29yZCIsICJ2YWx1ZSIsICJpIiwgIkRCX05BTUUiLCAiREJfVkVSU0lPTiIsICJfbGlua1VzZXIiLCAidiIsICJ0eXBlIiwgImpzLl9nZW5lcmF0ZUNhbGxiYWNrTmFtZSIsICJqc1xyXG4gICAgICAgICAgICAgICAgLl9sb2FkSlMiLCAianMuX2dhcGlTY3JpcHRVcmwiLCAiZ2FwaUxvYWRlci5fbG9hZEdhcGkiLCAiZ2FwaSIsICJuYW1lIiwgIkNvbXBvbmVudCIsICJ2ZXJzaW9uIiwgIklEUF9SRVFVRVNUX1VSSSIsICJfUE9MTElOR19JTlRFUlZBTF9NUyIsICJyZWxvYWQiLCAianNIZWxwZXJzLl9yZWNhcHRjaGFFbnRlcnByaXNlU2NyaXB0VXJsIiwgImpzSGVscGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuX2xvYWRKUyIsICJrZXkiLCAic3RvcmVkVmFsdWUiLCAianNIZWxwZXJzLl9nZW5lcmF0ZUNhbGxiYWNrTmFtZSIsICJqc0hlbHBlcnMuX3JlY2FwdGNoYVYyU2NyaXB0VXJsIiwgImpzSGVscGVycy5fbG9hZEpTIiwgImZpbHRlciIsICJ3aW5kb3ciLCAicHJvbWlzZSIsICJpbml0X2luZGV4X2VzbTIwMTciLCAiZiIsICJsIiwgIm4iLCAicCIsICJjIiwgImEiLCAiZCIsICJlIiwgImgiLCAiaW1wb3J0X3JlYWN0IiwgIkFjdGlvbiIsICJQb3BTdGF0ZUV2ZW50VHlwZSIsICJjcmVhdGVCcm93c2VySGlzdG9yeSIsICJvcHRpb25zIiwgImNyZWF0ZUJyb3dzZXJMb2NhdGlvbiIsICJ3aW5kb3ciLCAiZ2xvYmFsSGlzdG9yeSIsICJwYXRobmFtZSIsICJzZWFyY2giLCAiaGFzaCIsICJsb2NhdGlvbiIsICJjcmVhdGVMb2NhdGlvbiIsICJzdGF0ZSIsICJ1c3IiLCAia2V5IiwgImNyZWF0ZUJyb3dzZXJIcmVmIiwgInRvIiwgImNyZWF0ZVBhdGgiLCAiZ2V0VXJsQmFzZWRIaXN0b3J5IiwgImludmFyaWFudCIsICJ2YWx1ZSIsICJtZXNzYWdlIiwgIkVycm9yIiwgIndhcm5pbmciLCAiY29uZCIsICJjb25zb2xlIiwgIndhcm4iLCAiZSIsICJjcmVhdGVLZXkiLCAiTWF0aCIsICJyYW5kb20iLCAidG9TdHJpbmciLCAic3Vic3RyIiwgImdldEhpc3RvcnlTdGF0ZSIsICJsb2NhdGlvbiIsICJpbmRleCIsICJ1c3IiLCAic3RhdGUiLCAia2V5IiwgImlkeCIsICJjcmVhdGVMb2NhdGlvbiIsICJjdXJyZW50IiwgInRvIiwgIl9leHRlbmRzIiwgInBhdGhuYW1lIiwgInNlYXJjaCIsICJoYXNoIiwgInBhcnNlUGF0aCIsICJjcmVhdGVQYXRoIiwgIl9yZWYiLCAiY2hhckF0IiwgInBhdGgiLCAicGFyc2VkUGF0aCIsICJoYXNoSW5kZXgiLCAiaW5kZXhPZiIsICJzZWFyY2hJbmRleCIsICJnZXRVcmxCYXNlZEhpc3RvcnkiLCAiZ2V0TG9jYXRpb24iLCAiY3JlYXRlSHJlZiIsICJ2YWxpZGF0ZUxvY2F0aW9uIiwgIm9wdGlvbnMiLCAid2luZG93IiwgImRvY3VtZW50IiwgImRlZmF1bHRWaWV3IiwgInY1Q29tcGF0IiwgImdsb2JhbEhpc3RvcnkiLCAiaGlzdG9yeSIsICJhY3Rpb24iLCAiQWN0aW9uIiwgIlBvcCIsICJsaXN0ZW5lciIsICJnZXRJbmRleCIsICJyZXBsYWNlU3RhdGUiLCAiaGFuZGxlUG9wIiwgIm5leHRJbmRleCIsICJkZWx0YSIsICJwdXNoIiwgIlB1c2giLCAiaGlzdG9yeVN0YXRlIiwgInVybCIsICJwdXNoU3RhdGUiLCAiZXJyb3IiLCAiRE9NRXhjZXB0aW9uIiwgIm5hbWUiLCAiYXNzaWduIiwgInJlcGxhY2UiLCAiUmVwbGFjZSIsICJjcmVhdGVVUkwiLCAiYmFzZSIsICJvcmlnaW4iLCAiaHJlZiIsICJVUkwiLCAibGlzdGVuIiwgImZuIiwgImFkZEV2ZW50TGlzdGVuZXIiLCAiUG9wU3RhdGVFdmVudFR5cGUiLCAicmVtb3ZlRXZlbnRMaXN0ZW5lciIsICJlbmNvZGVMb2NhdGlvbiIsICJnbyIsICJuIiwgIlJlc3VsdFR5cGUiLCAibWF0Y2hSb3V0ZXMiLCAicm91dGVzIiwgImxvY2F0aW9uQXJnIiwgImJhc2VuYW1lIiwgIm1hdGNoUm91dGVzSW1wbCIsICJhbGxvd1BhcnRpYWwiLCAibG9jYXRpb24iLCAicGFyc2VQYXRoIiwgInBhdGhuYW1lIiwgInN0cmlwQmFzZW5hbWUiLCAiYnJhbmNoZXMiLCAiZmxhdHRlblJvdXRlcyIsICJyYW5rUm91dGVCcmFuY2hlcyIsICJtYXRjaGVzIiwgImkiLCAibGVuZ3RoIiwgImRlY29kZWQiLCAiZGVjb2RlUGF0aCIsICJtYXRjaFJvdXRlQnJhbmNoIiwgImZsYXR0ZW5Sb3V0ZXMiLCAicm91dGVzIiwgImJyYW5jaGVzIiwgInBhcmVudHNNZXRhIiwgInBhcmVudFBhdGgiLCAiZmxhdHRlblJvdXRlIiwgInJvdXRlIiwgImluZGV4IiwgInJlbGF0aXZlUGF0aCIsICJtZXRhIiwgInVuZGVmaW5lZCIsICJwYXRoIiwgImNhc2VTZW5zaXRpdmUiLCAiY2hpbGRyZW5JbmRleCIsICJzdGFydHNXaXRoIiwgImludmFyaWFudCIsICJzbGljZSIsICJsZW5ndGgiLCAiam9pblBhdGhzIiwgInJvdXRlc01ldGEiLCAiY29uY2F0IiwgImNoaWxkcmVuIiwgInB1c2giLCAic2NvcmUiLCAiY29tcHV0ZVNjb3JlIiwgImZvckVhY2giLCAiX3JvdXRlJHBhdGgiLCAiaW5jbHVkZXMiLCAiZXhwbG9kZWQiLCAiZXhwbG9kZU9wdGlvbmFsU2VnbWVudHMiLCAic2VnbWVudHMiLCAic3BsaXQiLCAiZmlyc3QiLCAicmVzdCIsICJpc09wdGlvbmFsIiwgImVuZHNXaXRoIiwgInJlcXVpcmVkIiwgInJlcGxhY2UiLCAicmVzdEV4cGxvZGVkIiwgImpvaW4iLCAicmVzdWx0IiwgIm1hcCIsICJzdWJwYXRoIiwgInJhbmtSb3V0ZUJyYW5jaGVzIiwgInNvcnQiLCAiYSIsICJiIiwgImNvbXBhcmVJbmRleGVzIiwgInBhcmFtUmUiLCAiZHluYW1pY1NlZ21lbnRWYWx1ZSIsICJpbmRleFJvdXRlVmFsdWUiLCAiZW1wdHlTZWdtZW50VmFsdWUiLCAic3RhdGljU2VnbWVudFZhbHVlIiwgInNwbGF0UGVuYWx0eSIsICJpc1NwbGF0IiwgInMiLCAiaW5pdGlhbFNjb3JlIiwgInNvbWUiLCAiZmlsdGVyIiwgInJlZHVjZSIsICJzZWdtZW50IiwgInRlc3QiLCAic2libGluZ3MiLCAiZXZlcnkiLCAibiIsICJpIiwgIm1hdGNoUm91dGVCcmFuY2giLCAiYnJhbmNoIiwgInBhdGhuYW1lIiwgImFsbG93UGFydGlhbCIsICJtYXRjaGVkUGFyYW1zIiwgIm1hdGNoZWRQYXRobmFtZSIsICJtYXRjaGVzIiwgImVuZCIsICJyZW1haW5pbmdQYXRobmFtZSIsICJtYXRjaCIsICJtYXRjaFBhdGgiLCAiT2JqZWN0IiwgImFzc2lnbiIsICJwYXJhbXMiLCAicGF0aG5hbWVCYXNlIiwgIm5vcm1hbGl6ZVBhdGhuYW1lIiwgIm1hdGNoUGF0aCIsICJwYXR0ZXJuIiwgInBhdGhuYW1lIiwgInBhdGgiLCAiY2FzZVNlbnNpdGl2ZSIsICJlbmQiLCAibWF0Y2hlciIsICJjb21waWxlZFBhcmFtcyIsICJjb21waWxlUGF0aCIsICJtYXRjaCIsICJtYXRjaGVkUGF0aG5hbWUiLCAicGF0aG5hbWVCYXNlIiwgInJlcGxhY2UiLCAiY2FwdHVyZUdyb3VwcyIsICJzbGljZSIsICJwYXJhbXMiLCAicmVkdWNlIiwgIm1lbW8iLCAiX3JlZiIsICJpbmRleCIsICJwYXJhbU5hbWUiLCAiaXNPcHRpb25hbCIsICJzcGxhdFZhbHVlIiwgImxlbmd0aCIsICJ2YWx1ZSIsICJ1bmRlZmluZWQiLCAid2FybmluZyIsICJlbmRzV2l0aCIsICJyZWdleHBTb3VyY2UiLCAiXyIsICJwdXNoIiwgIlJlZ0V4cCIsICJkZWNvZGVQYXRoIiwgInNwbGl0IiwgIm1hcCIsICJ2IiwgImRlY29kZVVSSUNvbXBvbmVudCIsICJqb2luIiwgImVycm9yIiwgInN0cmlwQmFzZW5hbWUiLCAiYmFzZW5hbWUiLCAidG9Mb3dlckNhc2UiLCAic3RhcnRzV2l0aCIsICJzdGFydEluZGV4IiwgIm5leHRDaGFyIiwgImNoYXJBdCIsICJBQlNPTFVURV9VUkxfUkVHRVgiLCAiaXNBYnNvbHV0ZVVybCIsICJ1cmwiLCAidGVzdCIsICJyZXNvbHZlUGF0aCIsICJ0byIsICJmcm9tUGF0aG5hbWUiLCAidG9QYXRobmFtZSIsICJzZWFyY2giLCAiaGFzaCIsICJwYXJzZVBhdGgiLCAiaW5jbHVkZXMiLCAib2xkUGF0aG5hbWUiLCAicmVzb2x2ZVBhdGhuYW1lIiwgInN1YnN0cmluZyIsICJub3JtYWxpemVTZWFyY2giLCAibm9ybWFsaXplSGFzaCIsICJyZWxhdGl2ZVBhdGgiLCAic2VnbWVudHMiLCAicmVsYXRpdmVTZWdtZW50cyIsICJmb3JFYWNoIiwgInNlZ21lbnQiLCAicG9wIiwgImdldEludmFsaWRQYXRoRXJyb3IiLCAiY2hhciIsICJmaWVsZCIsICJkZXN0IiwgIkpTT04iLCAic3RyaW5naWZ5IiwgImdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzIiwgIm1hdGNoZXMiLCAiZmlsdGVyIiwgInJvdXRlIiwgImdldFJlc29sdmVUb01hdGNoZXMiLCAidjdfcmVsYXRpdmVTcGxhdFBhdGgiLCAicGF0aE1hdGNoZXMiLCAiaWR4IiwgInJlc29sdmVUbyIsICJ0b0FyZyIsICJyb3V0ZVBhdGhuYW1lcyIsICJsb2NhdGlvblBhdGhuYW1lIiwgImlzUGF0aFJlbGF0aXZlIiwgIl9leHRlbmRzIiwgImludmFyaWFudCIsICJpc0VtcHR5UGF0aCIsICJmcm9tIiwgInJvdXRlUGF0aG5hbWVJbmRleCIsICJ0b1NlZ21lbnRzIiwgInNoaWZ0IiwgImhhc0V4cGxpY2l0VHJhaWxpbmdTbGFzaCIsICJoYXNDdXJyZW50VHJhaWxpbmdTbGFzaCIsICJqb2luUGF0aHMiLCAicGF0aHMiLCAiam9pbiIsICJyZXBsYWNlIiwgIm5vcm1hbGl6ZVBhdGhuYW1lIiwgInBhdGhuYW1lIiwgIm5vcm1hbGl6ZVNlYXJjaCIsICJzZWFyY2giLCAic3RhcnRzV2l0aCIsICJub3JtYWxpemVIYXNoIiwgImhhc2giLCAiaXNSb3V0ZUVycm9yUmVzcG9uc2UiLCAiZXJyb3IiLCAic3RhdHVzIiwgInN0YXR1c1RleHQiLCAiaW50ZXJuYWwiLCAidmFsaWRNdXRhdGlvbk1ldGhvZHNBcnIiLCAidmFsaWRNdXRhdGlvbk1ldGhvZHMiLCAiU2V0IiwgInZhbGlkUmVxdWVzdE1ldGhvZHNBcnIiLCAidmFsaWRSZXF1ZXN0TWV0aG9kcyIsICJVTlNBRkVfREVGRVJSRURfU1lNQk9MIiwgIlN5bWJvbCIsICJEYXRhUm91dGVyQ29udGV4dCIsICJSZWFjdCIsICJjcmVhdGVDb250ZXh0IiwgInByb2Nlc3MiLCAiZGlzcGxheU5hbWUiLCAiRGF0YVJvdXRlclN0YXRlQ29udGV4dCIsICJwcm9jZXNzIiwgIkF3YWl0Q29udGV4dCIsICJkaXNwbGF5TmFtZSIsICJOYXZpZ2F0aW9uQ29udGV4dCIsICJSZWFjdCIsICJjcmVhdGVDb250ZXh0IiwgIkxvY2F0aW9uQ29udGV4dCIsICJSb3V0ZUNvbnRleHQiLCAib3V0bGV0IiwgIm1hdGNoZXMiLCAiaXNEYXRhUm91dGUiLCAiUm91dGVFcnJvckNvbnRleHQiLCAidXNlSHJlZiIsICJ0byIsICJfdGVtcCIsICJyZWxhdGl2ZSIsICJ1c2VJblJvdXRlckNvbnRleHQiLCAiaW52YXJpYW50IiwgImJhc2VuYW1lIiwgIm5hdmlnYXRvciIsICJ1c2VDb250ZXh0IiwgImhhc2giLCAicGF0aG5hbWUiLCAic2VhcmNoIiwgInVzZVJlc29sdmVkUGF0aCIsICJqb2luZWRQYXRobmFtZSIsICJqb2luUGF0aHMiLCAiY3JlYXRlSHJlZiIsICJ1c2VMb2NhdGlvbiIsICJsb2NhdGlvbiIsICJ1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwgImNiIiwgImlzU3RhdGljIiwgInVzZUNvbnRleHQiLCAiTmF2aWdhdGlvbkNvbnRleHQiLCAic3RhdGljIiwgIlJlYWN0IiwgInVzZUxheW91dEVmZmVjdCIsICJ1c2VOYXZpZ2F0ZSIsICJpc0RhdGFSb3V0ZSIsICJSb3V0ZUNvbnRleHQiLCAidXNlTmF2aWdhdGVTdGFibGUiLCAidXNlTmF2aWdhdGVVbnN0YWJsZSIsICJ1c2VJblJvdXRlckNvbnRleHQiLCAicHJvY2VzcyIsICJpbnZhcmlhbnQiLCAiZGF0YVJvdXRlckNvbnRleHQiLCAiRGF0YVJvdXRlckNvbnRleHQiLCAiYmFzZW5hbWUiLCAiZnV0dXJlIiwgIm5hdmlnYXRvciIsICJtYXRjaGVzIiwgInBhdGhuYW1lIiwgImxvY2F0aW9uUGF0aG5hbWUiLCAidXNlTG9jYXRpb24iLCAicm91dGVQYXRobmFtZXNKc29uIiwgIkpTT04iLCAic3RyaW5naWZ5IiwgImdldFJlc29sdmVUb01hdGNoZXMiLCAidjdfcmVsYXRpdmVTcGxhdFBhdGgiLCAiYWN0aXZlUmVmIiwgInVzZVJlZiIsICJjdXJyZW50IiwgIm5hdmlnYXRlIiwgInVzZUNhbGxiYWNrIiwgInRvIiwgIm9wdGlvbnMiLCAid2FybmluZyIsICJuYXZpZ2F0ZUVmZmVjdFdhcm5pbmciLCAiZ28iLCAicGF0aCIsICJyZXNvbHZlVG8iLCAicGFyc2UiLCAicmVsYXRpdmUiLCAiam9pblBhdGhzIiwgInJlcGxhY2UiLCAicHVzaCIsICJzdGF0ZSIsICJPdXRsZXRDb250ZXh0IiwgImNyZWF0ZUNvbnRleHQiLCAidXNlT3V0bGV0IiwgImNvbnRleHQiLCAib3V0bGV0IiwgInVzZUNvbnRleHQiLCAiUm91dGVDb250ZXh0IiwgIlJlYWN0IiwgImNyZWF0ZUVsZW1lbnQiLCAiT3V0bGV0Q29udGV4dCIsICJQcm92aWRlciIsICJ2YWx1ZSIsICJ1c2VSZXNvbHZlZFBhdGgiLCAidG8iLCAiX3RlbXAyIiwgInJlbGF0aXZlIiwgImZ1dHVyZSIsICJ1c2VDb250ZXh0IiwgIk5hdmlnYXRpb25Db250ZXh0IiwgIm1hdGNoZXMiLCAiUm91dGVDb250ZXh0IiwgInBhdGhuYW1lIiwgImxvY2F0aW9uUGF0aG5hbWUiLCAidXNlTG9jYXRpb24iLCAicm91dGVQYXRobmFtZXNKc29uIiwgIkpTT04iLCAic3RyaW5naWZ5IiwgImdldFJlc29sdmVUb01hdGNoZXMiLCAidjdfcmVsYXRpdmVTcGxhdFBhdGgiLCAidXNlTWVtbyIsICJyZXNvbHZlVG8iLCAicGFyc2UiLCAidXNlUm91dGVzIiwgInJvdXRlcyIsICJsb2NhdGlvbkFyZyIsICJ1c2VSb3V0ZXNJbXBsIiwgImRhdGFSb3V0ZXJTdGF0ZSIsICJ1c2VJblJvdXRlckNvbnRleHQiLCAicHJvY2VzcyIsICJpbnZhcmlhbnQiLCAibmF2aWdhdG9yIiwgInBhcmVudE1hdGNoZXMiLCAicm91dGVNYXRjaCIsICJsZW5ndGgiLCAicGFyZW50UGFyYW1zIiwgInBhcmFtcyIsICJwYXJlbnRQYXRobmFtZSIsICJwYXJlbnRQYXRobmFtZUJhc2UiLCAicGF0aG5hbWVCYXNlIiwgInBhcmVudFJvdXRlIiwgInJvdXRlIiwgInBhcmVudFBhdGgiLCAicGF0aCIsICJ3YXJuaW5nT25jZSIsICJlbmRzV2l0aCIsICJsb2NhdGlvbkZyb21Db250ZXh0IiwgImxvY2F0aW9uIiwgIl9wYXJzZWRMb2NhdGlvbkFyZyRwYSIsICJwYXJzZWRMb2NhdGlvbkFyZyIsICJwYXJzZVBhdGgiLCAic3RhcnRzV2l0aCIsICJyZW1haW5pbmdQYXRobmFtZSIsICJwYXJlbnRTZWdtZW50cyIsICJyZXBsYWNlIiwgInNwbGl0IiwgInNlZ21lbnRzIiwgInNsaWNlIiwgImpvaW4iLCAibWF0Y2hSb3V0ZXMiLCAid2FybmluZyIsICJzZWFyY2giLCAiaGFzaCIsICJlbGVtZW50IiwgInVuZGVmaW5lZCIsICJDb21wb25lbnQiLCAibGF6eSIsICJyZW5kZXJlZE1hdGNoZXMiLCAiX3JlbmRlck1hdGNoZXMiLCAibWFwIiwgIm1hdGNoIiwgIk9iamVjdCIsICJhc3NpZ24iLCAiam9pblBhdGhzIiwgImVuY29kZUxvY2F0aW9uIiwgIlJlYWN0IiwgImNyZWF0ZUVsZW1lbnQiLCAiTG9jYXRpb25Db250ZXh0IiwgIlByb3ZpZGVyIiwgInZhbHVlIiwgIl9leHRlbmRzIiwgInN0YXRlIiwgImtleSIsICJuYXZpZ2F0aW9uVHlwZSIsICJOYXZpZ2F0aW9uVHlwZSIsICJQb3AiLCAiRGVmYXVsdEVycm9yQ29tcG9uZW50IiwgImVycm9yIiwgInVzZVJvdXRlRXJyb3IiLCAibWVzc2FnZSIsICJpc1JvdXRlRXJyb3JSZXNwb25zZSIsICJzdGF0dXMiLCAic3RhdHVzVGV4dCIsICJFcnJvciIsICJzdGFjayIsICJsaWdodGdyZXkiLCAicHJlU3R5bGVzIiwgInBhZGRpbmciLCAiYmFja2dyb3VuZENvbG9yIiwgImNvZGVTdHlsZXMiLCAiZGV2SW5mbyIsICJjb25zb2xlIiwgIkZyYWdtZW50IiwgInN0eWxlIiwgImZvbnRTdHlsZSIsICJkZWZhdWx0RXJyb3JFbGVtZW50IiwgIlJlbmRlckVycm9yQm91bmRhcnkiLCAiY29uc3RydWN0b3IiLCAicHJvcHMiLCAicmV2YWxpZGF0aW9uIiwgImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsICJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCAiY29tcG9uZW50RGlkQ2F0Y2giLCAiZXJyb3JJbmZvIiwgInJlbmRlciIsICJyb3V0ZUNvbnRleHQiLCAiUm91dGVFcnJvckNvbnRleHQiLCAiY2hpbGRyZW4iLCAiY29tcG9uZW50IiwgIlJlbmRlcmVkUm91dGUiLCAiX3JlZiIsICJkYXRhUm91dGVyQ29udGV4dCIsICJEYXRhUm91dGVyQ29udGV4dCIsICJzdGF0aWMiLCAic3RhdGljQ29udGV4dCIsICJlcnJvckVsZW1lbnQiLCAiRXJyb3JCb3VuZGFyeSIsICJfZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZCIsICJpZCIsICJfZGF0YVJvdXRlclN0YXRlIiwgIl9mdXR1cmUiLCAiZXJyb3JzIiwgInY3X3BhcnRpYWxIeWRyYXRpb24iLCAiaW5pdGlhbGl6ZWQiLCAiZXJyb3JJbmRleCIsICJmaW5kSW5kZXgiLCAibSIsICJrZXlzIiwgIk1hdGgiLCAibWluIiwgInJlbmRlckZhbGxiYWNrIiwgImZhbGxiYWNrSW5kZXgiLCAiaSIsICJIeWRyYXRlRmFsbGJhY2siLCAiaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCIsICJsb2FkZXJEYXRhIiwgIm5lZWRzVG9SdW5Mb2FkZXIiLCAibG9hZGVyIiwgInJlZHVjZVJpZ2h0IiwgIm91dGxldCIsICJpbmRleCIsICJzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2siLCAiY29uY2F0IiwgImdldENoaWxkcmVuIiwgImlzRGF0YVJvdXRlIiwgIkRhdGFSb3V0ZXJIb29rIiwgIkRhdGFSb3V0ZXJTdGF0ZUhvb2siLCAidXNlRGF0YVJvdXRlckNvbnRleHQiLCAiaG9va05hbWUiLCAiY3R4IiwgInVzZUNvbnRleHQiLCAiRGF0YVJvdXRlckNvbnRleHQiLCAicHJvY2VzcyIsICJpbnZhcmlhbnQiLCAiZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvciIsICJ1c2VEYXRhUm91dGVyU3RhdGUiLCAic3RhdGUiLCAiRGF0YVJvdXRlclN0YXRlQ29udGV4dCIsICJ1c2VSb3V0ZUNvbnRleHQiLCAicm91dGUiLCAiUm91dGVDb250ZXh0IiwgInVzZUN1cnJlbnRSb3V0ZUlkIiwgInRoaXNSb3V0ZSIsICJtYXRjaGVzIiwgImxlbmd0aCIsICJpZCIsICJ1c2VSb3V0ZUVycm9yIiwgIl9zdGF0ZSRlcnJvcnMiLCAiZXJyb3IiLCAidXNlQ29udGV4dCIsICJSb3V0ZUVycm9yQ29udGV4dCIsICJzdGF0ZSIsICJ1c2VEYXRhUm91dGVyU3RhdGUiLCAiRGF0YVJvdXRlclN0YXRlSG9vayIsICJVc2VSb3V0ZUVycm9yIiwgInJvdXRlSWQiLCAidXNlQ3VycmVudFJvdXRlSWQiLCAidW5kZWZpbmVkIiwgImVycm9ycyIsICJ1c2VOYXZpZ2F0ZVN0YWJsZSIsICJyb3V0ZXIiLCAidXNlRGF0YVJvdXRlckNvbnRleHQiLCAiRGF0YVJvdXRlckhvb2siLCAiVXNlTmF2aWdhdGVTdGFibGUiLCAiaWQiLCAidXNlQ3VycmVudFJvdXRlSWQiLCAiRGF0YVJvdXRlclN0YXRlSG9vayIsICJhY3RpdmVSZWYiLCAidXNlUmVmIiwgInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QiLCAiY3VycmVudCIsICJuYXZpZ2F0ZSIsICJ1c2VDYWxsYmFjayIsICJ0byIsICJvcHRpb25zIiwgInByb2Nlc3MiLCAid2FybmluZyIsICJuYXZpZ2F0ZUVmZmVjdFdhcm5pbmciLCAiX2V4dGVuZHMiLCAiZnJvbVJvdXRlSWQiLCAiYWxyZWFkeVdhcm5lZCIsICJ3YXJuaW5nT25jZSIsICJrZXkiLCAiY29uZCIsICJtZXNzYWdlIiwgIndhcm5PbmNlIiwgImtleSIsICJtZXNzYWdlIiwgInByb2Nlc3MiLCAiYWxyZWFkeVdhcm5lZCIsICJjb25zb2xlIiwgIndhcm4iLCAibG9nRGVwcmVjYXRpb24iLCAiZmxhZyIsICJtc2ciLCAibGluayIsICJsb2dWNkRlcHJlY2F0aW9uV2FybmluZ3MiLCAicmVuZGVyRnV0dXJlIiwgInJvdXRlckZ1dHVyZSIsICJ2N19zdGFydFRyYW5zaXRpb24iLCAidW5kZWZpbmVkIiwgInY3X3JlbGF0aXZlU3BsYXRQYXRoIiwgInY3X2ZldGNoZXJQZXJzaXN0IiwgInY3X25vcm1hbGl6ZUZvcm1NZXRob2QiLCAidjdfcGFydGlhbEh5ZHJhdGlvbiIsICJ2N19za2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb24iLCAiU1RBUlRfVFJBTlNJVElPTiIsICJzdGFydFRyYW5zaXRpb25JbXBsIiwgIlJlYWN0IiwgIk5hdmlnYXRlIiwgIl9yZWY0IiwgInRvIiwgInJlcGxhY2UiLCAic3RhdGUiLCAicmVsYXRpdmUiLCAidXNlSW5Sb3V0ZXJDb250ZXh0IiwgInByb2Nlc3MiLCAiaW52YXJpYW50IiwgImZ1dHVyZSIsICJzdGF0aWMiLCAiaXNTdGF0aWMiLCAidXNlQ29udGV4dCIsICJOYXZpZ2F0aW9uQ29udGV4dCIsICJ3YXJuaW5nIiwgIm1hdGNoZXMiLCAiUm91dGVDb250ZXh0IiwgInBhdGhuYW1lIiwgImxvY2F0aW9uUGF0aG5hbWUiLCAidXNlTG9jYXRpb24iLCAibmF2aWdhdGUiLCAidXNlTmF2aWdhdGUiLCAicGF0aCIsICJyZXNvbHZlVG8iLCAiZ2V0UmVzb2x2ZVRvTWF0Y2hlcyIsICJ2N19yZWxhdGl2ZVNwbGF0UGF0aCIsICJqc29uUGF0aCIsICJKU09OIiwgInN0cmluZ2lmeSIsICJSZWFjdCIsICJ1c2VFZmZlY3QiLCAicGFyc2UiLCAiT3V0bGV0IiwgInByb3BzIiwgInVzZU91dGxldCIsICJjb250ZXh0IiwgIlJvdXRlIiwgIl9wcm9wcyIsICJSb3V0ZXIiLCAiX3JlZjUiLCAiYmFzZW5hbWUiLCAiYmFzZW5hbWVQcm9wIiwgImNoaWxkcmVuIiwgImxvY2F0aW9uIiwgImxvY2F0aW9uUHJvcCIsICJuYXZpZ2F0aW9uVHlwZSIsICJOYXZpZ2F0aW9uVHlwZSIsICJQb3AiLCAibmF2aWdhdG9yIiwgInN0YXRpY1Byb3AiLCAibmF2aWdhdGlvbkNvbnRleHQiLCAidXNlTWVtbyIsICJfZXh0ZW5kcyIsICJwYXJzZVBhdGgiLCAic2VhcmNoIiwgImhhc2giLCAia2V5IiwgImxvY2F0aW9uQ29udGV4dCIsICJ0cmFpbGluZ1BhdGhuYW1lIiwgInN0cmlwQmFzZW5hbWUiLCAiY3JlYXRlRWxlbWVudCIsICJQcm92aWRlciIsICJ2YWx1ZSIsICJMb2NhdGlvbkNvbnRleHQiLCAiUm91dGVzIiwgIl9yZWY2IiwgInVzZVJvdXRlcyIsICJjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4iLCAibmV2ZXJTZXR0bGVkUHJvbWlzZSIsICJQcm9taXNlIiwgImNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbiIsICJjaGlsZHJlbiIsICJwYXJlbnRQYXRoIiwgInJvdXRlcyIsICJSZWFjdCIsICJDaGlsZHJlbiIsICJmb3JFYWNoIiwgImVsZW1lbnQiLCAiaW5kZXgiLCAiaXNWYWxpZEVsZW1lbnQiLCAidHJlZVBhdGgiLCAidHlwZSIsICJGcmFnbWVudCIsICJwdXNoIiwgImFwcGx5IiwgInByb3BzIiwgIlJvdXRlIiwgInByb2Nlc3MiLCAiaW52YXJpYW50IiwgIm5hbWUiLCAicm91dGUiLCAiaWQiLCAiam9pbiIsICJjYXNlU2Vuc2l0aXZlIiwgIkNvbXBvbmVudCIsICJwYXRoIiwgImxvYWRlciIsICJhY3Rpb24iLCAiZXJyb3JFbGVtZW50IiwgIkVycm9yQm91bmRhcnkiLCAiaGFzRXJyb3JCb3VuZGFyeSIsICJzaG91bGRSZXZhbGlkYXRlIiwgImhhbmRsZSIsICJsYXp5IiwgImlzTW9kaWZpZWRFdmVudCIsICJldmVudCIsICJtZXRhS2V5IiwgImFsdEtleSIsICJjdHJsS2V5IiwgInNoaWZ0S2V5IiwgInNob3VsZFByb2Nlc3NMaW5rQ2xpY2siLCAidGFyZ2V0IiwgImJ1dHRvbiIsICJSRUFDVF9ST1VURVJfVkVSU0lPTiIsICJ3aW5kb3ciLCAiX19yZWFjdFJvdXRlclZlcnNpb24iLCAiZSIsICJWaWV3VHJhbnNpdGlvbkNvbnRleHQiLCAiUmVhY3QiLCAiY3JlYXRlQ29udGV4dCIsICJpc1RyYW5zaXRpb25pbmciLCAicHJvY2VzcyIsICJkaXNwbGF5TmFtZSIsICJwcm9jZXNzIiwgIkZldGNoZXJzQ29udGV4dCIsICJkaXNwbGF5TmFtZSIsICJTVEFSVF9UUkFOU0lUSU9OIiwgInN0YXJ0VHJhbnNpdGlvbkltcGwiLCAiUmVhY3QiLCAiRkxVU0hfU1lOQyIsICJmbHVzaFN5bmNJbXBsIiwgIlJlYWN0RE9NIiwgIlVTRV9JRCIsICJ1c2VJZEltcGwiLCAiQnJvd3NlclJvdXRlciIsICJfcmVmNCIsICJiYXNlbmFtZSIsICJjaGlsZHJlbiIsICJmdXR1cmUiLCAid2luZG93IiwgImhpc3RvcnlSZWYiLCAidXNlUmVmIiwgImN1cnJlbnQiLCAiY3JlYXRlQnJvd3Nlckhpc3RvcnkiLCAidjVDb21wYXQiLCAiaGlzdG9yeSIsICJzdGF0ZSIsICJzZXRTdGF0ZUltcGwiLCAidXNlU3RhdGUiLCAiYWN0aW9uIiwgImxvY2F0aW9uIiwgInY3X3N0YXJ0VHJhbnNpdGlvbiIsICJzZXRTdGF0ZSIsICJ1c2VDYWxsYmFjayIsICJuZXdTdGF0ZSIsICJzdGFydFRyYW5zaXRpb25JbXBsIiwgIlJlYWN0IiwgInVzZUxheW91dEVmZmVjdCIsICJsaXN0ZW4iLCAidXNlRWZmZWN0IiwgImxvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyIsICJjcmVhdGVFbGVtZW50IiwgIlJvdXRlciIsICJuYXZpZ2F0aW9uVHlwZSIsICJuYXZpZ2F0b3IiLCAicHJvY2VzcyIsICJIaXN0b3J5Um91dGVyIiwgImRpc3BsYXlOYW1lIiwgImlzQnJvd3NlciIsICJ3aW5kb3ciLCAiZG9jdW1lbnQiLCAiY3JlYXRlRWxlbWVudCIsICJBQlNPTFVURV9VUkxfUkVHRVgiLCAiTGluayIsICJSZWFjdCIsICJmb3J3YXJkUmVmIiwgIkxpbmtXaXRoUmVmIiwgIl9yZWY3IiwgInJlZiIsICJvbkNsaWNrIiwgInJlbGF0aXZlIiwgInJlbG9hZERvY3VtZW50IiwgInJlcGxhY2UiLCAic3RhdGUiLCAidGFyZ2V0IiwgInRvIiwgInByZXZlbnRTY3JvbGxSZXNldCIsICJ2aWV3VHJhbnNpdGlvbiIsICJyZXN0IiwgIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwgIl9leGNsdWRlZCIsICJiYXNlbmFtZSIsICJ1c2VDb250ZXh0IiwgIk5hdmlnYXRpb25Db250ZXh0IiwgImFic29sdXRlSHJlZiIsICJpc0V4dGVybmFsIiwgInRlc3QiLCAiY3VycmVudFVybCIsICJVUkwiLCAibG9jYXRpb24iLCAiaHJlZiIsICJ0YXJnZXRVcmwiLCAic3RhcnRzV2l0aCIsICJwcm90b2NvbCIsICJwYXRoIiwgInN0cmlwQmFzZW5hbWUiLCAicGF0aG5hbWUiLCAib3JpZ2luIiwgInNlYXJjaCIsICJoYXNoIiwgImUiLCAid2FybmluZyIsICJ1c2VIcmVmIiwgImludGVybmFsT25DbGljayIsICJ1c2VMaW5rQ2xpY2tIYW5kbGVyIiwgImhhbmRsZUNsaWNrIiwgImV2ZW50IiwgImRlZmF1bHRQcmV2ZW50ZWQiLCAiX2V4dGVuZHMiLCAiTmF2TGluayIsICJOYXZMaW5rV2l0aFJlZiIsICJfcmVmOCIsICJhcmlhQ3VycmVudFByb3AiLCAiY2FzZVNlbnNpdGl2ZSIsICJjbGFzc05hbWUiLCAiY2xhc3NOYW1lUHJvcCIsICJlbmQiLCAic3R5bGUiLCAic3R5bGVQcm9wIiwgImNoaWxkcmVuIiwgIl9leGNsdWRlZDIiLCAidXNlUmVzb2x2ZWRQYXRoIiwgInVzZUxvY2F0aW9uIiwgInJvdXRlclN0YXRlIiwgIkRhdGFSb3V0ZXJTdGF0ZUNvbnRleHQiLCAibmF2aWdhdG9yIiwgImlzVHJhbnNpdGlvbmluZyIsICJ1c2VWaWV3VHJhbnNpdGlvblN0YXRlIiwgInRvUGF0aG5hbWUiLCAiZW5jb2RlTG9jYXRpb24iLCAibG9jYXRpb25QYXRobmFtZSIsICJuZXh0TG9jYXRpb25QYXRobmFtZSIsICJuYXZpZ2F0aW9uIiwgInRvTG93ZXJDYXNlIiwgImVuZFNsYXNoUG9zaXRpb24iLCAiZW5kc1dpdGgiLCAibGVuZ3RoIiwgImlzQWN0aXZlIiwgImNoYXJBdCIsICJpc1BlbmRpbmciLCAicmVuZGVyUHJvcHMiLCAiYXJpYUN1cnJlbnQiLCAidW5kZWZpbmVkIiwgImZpbHRlciIsICJCb29sZWFuIiwgImpvaW4iLCAicHJvY2VzcyIsICJGb3JtIiwgImRpc3BsYXlOYW1lIiwgInByb2Nlc3MiLCAiU2Nyb2xsUmVzdG9yYXRpb24iLCAiZGlzcGxheU5hbWUiLCAiRGF0YVJvdXRlckhvb2siLCAiRGF0YVJvdXRlclN0YXRlSG9vayIsICJ1c2VEYXRhUm91dGVyQ29udGV4dCIsICJob29rTmFtZSIsICJjdHgiLCAidXNlQ29udGV4dCIsICJEYXRhUm91dGVyQ29udGV4dCIsICJwcm9jZXNzIiwgImludmFyaWFudCIsICJnZXREYXRhUm91dGVyQ29uc29sZUVycm9yIiwgInVzZUxpbmtDbGlja0hhbmRsZXIiLCAidG8iLCAiX3RlbXAiLCAidGFyZ2V0IiwgInJlcGxhY2UiLCAicmVwbGFjZVByb3AiLCAic3RhdGUiLCAicHJldmVudFNjcm9sbFJlc2V0IiwgInJlbGF0aXZlIiwgInZpZXdUcmFuc2l0aW9uIiwgIm5hdmlnYXRlIiwgInVzZU5hdmlnYXRlIiwgImxvY2F0aW9uIiwgInVzZUxvY2F0aW9uIiwgInBhdGgiLCAidXNlUmVzb2x2ZWRQYXRoIiwgInVzZUNhbGxiYWNrIiwgImV2ZW50IiwgInNob3VsZFByb2Nlc3NMaW5rQ2xpY2siLCAicHJldmVudERlZmF1bHQiLCAidW5kZWZpbmVkIiwgImNyZWF0ZVBhdGgiLCAidXNlVmlld1RyYW5zaXRpb25TdGF0ZSIsICJ0byIsICJvcHRzIiwgInZ0Q29udGV4dCIsICJ1c2VDb250ZXh0IiwgIlZpZXdUcmFuc2l0aW9uQ29udGV4dCIsICJwcm9jZXNzIiwgImludmFyaWFudCIsICJiYXNlbmFtZSIsICJ1c2VEYXRhUm91dGVyQ29udGV4dCIsICJEYXRhUm91dGVySG9vayIsICJwYXRoIiwgInVzZVJlc29sdmVkUGF0aCIsICJyZWxhdGl2ZSIsICJpc1RyYW5zaXRpb25pbmciLCAiY3VycmVudFBhdGgiLCAic3RyaXBCYXNlbmFtZSIsICJjdXJyZW50TG9jYXRpb24iLCAicGF0aG5hbWUiLCAibmV4dFBhdGgiLCAibmV4dExvY2F0aW9uIiwgIm1hdGNoUGF0aCIsICJLaW5kIiwgIk5BTUUiLCAiRE9DVU1FTlQiLCAiT1BFUkFUSU9OX0RFRklOSVRJT04iLCAiVkFSSUFCTEVfREVGSU5JVElPTiIsICJTRUxFQ1RJT05fU0VUIiwgIkZJRUxEIiwgIkFSR1VNRU5UIiwgIkZSQUdNRU5UX1NQUkVBRCIsICJJTkxJTkVfRlJBR01FTlQiLCAiRlJBR01FTlRfREVGSU5JVElPTiIsICJWQVJJQUJMRSIsICJJTlQiLCAiRkxPQVQiLCAiU1RSSU5HIiwgIkJPT0xFQU4iLCAiTlVMTCIsICJFTlVNIiwgIkxJU1QiLCAiT0JKRUNUIiwgIk9CSkVDVF9GSUVMRCIsICJESVJFQ1RJVkUiLCAiTkFNRURfVFlQRSIsICJMSVNUX1RZUEUiLCAiTk9OX05VTExfVFlQRSIsICJHcmFwaFFMRXJyb3IiLCAiRXJyb3IiLCAiY29uc3RydWN0b3IiLCAibWVzc2FnZSIsICJub2RlcyIsICJzb3VyY2UiLCAicG9zaXRpb25zIiwgInBhdGgiLCAib3JpZ2luYWxFcnJvciIsICJleHRlbnNpb25zIiwgInN1cGVyIiwgInRoaXMiLCAibmFtZSIsICJBcnJheSIsICJpc0FycmF5IiwgIl9leHRlbnNpb25zIiwgIm9yaWdpbmFsRXh0ZW5zaW9ucyIsICJ0b0pTT04iLCAidG9TdHJpbmciLCAiU3ltYm9sIiwgInRvU3RyaW5nVGFnIiwgImlucHV0IiwgImlkeCIsICJlcnJvciIsICJraW5kIiwgImFkdmFuY2UiLCAicGF0dGVybiIsICJsYXN0SW5kZXgiLCAidGVzdCIsICJzbGljZSIsICJsZWFkaW5nUmUiLCAiYmxvY2tTdHJpbmciLCAic3RyaW5nIiwgImxpbmVzIiwgInNwbGl0IiwgIm91dCIsICJjb21tb25JbmRlbnQiLCAiZmlyc3ROb25FbXB0eUxpbmUiLCAibGFzdE5vbkVtcHR5TGluZSIsICJsZW5ndGgiLCAiaSIsICJyZXBsYWNlIiwgImlnbm9yZWQiLCAiY2hhciIsICJjaGFyQ29kZUF0IiwgInN0YXJ0IiwgInZhbHVlIiwgIm5hbWVOb2RlIiwgInJlc3RCbG9ja1N0cmluZ1JlIiwgImZsb2F0UGFydFJlIiwgImNvbnN0YW50IiwgIm1hdGNoIiwgInZhbHVlcyIsICJwdXNoIiwgImZpZWxkcyIsICJibG9jayIsICJpc0NvbXBsZXgiLCAiSlNPTiIsICJwYXJzZSIsICJpbnRQYXJ0IiwgImFyZ3VtZW50c18iLCAiYXJncyIsICJkaXJlY3RpdmVzIiwgImFyZ3VtZW50cyIsICJ0eXBlIiwgImxpc3RzIiwgInNlbGVjdGlvblNldFN0YXJ0IiwgInNlbGVjdGlvblNldCIsICJzZWxlY3Rpb25zIiwgInR5cGVDb25kaXRpb24iLCAiYWxpYXMiLCAiX2FyZ3VtZW50cyIsICJfZGlyZWN0aXZlcyIsICJfc2VsZWN0aW9uU2V0IiwgInZhcmlhYmxlRGVmaW5pdGlvbnMiLCAidmFycyIsICJfZGVzY3JpcHRpb24iLCAiX3R5cGUiLCAiX2RlZmF1bHRWYWx1ZSIsICJ2YXJEZWYiLCAidmFyaWFibGUiLCAiZGVmYXVsdFZhbHVlIiwgImRlc2NyaXB0aW9uIiwgImZyYWdtZW50RGVmaW5pdGlvbiIsICJmcmFnRGVmIiwgImRlZmluaXRpb25zIiwgIl9kZWZpbml0aW9ucyIsICJvcGVyYXRpb24iLCAiZGVmaW5pdGlvbiIsICJvcERlZiIsICJvcHRpb25zIiwgImJvZHkiLCAibm9Mb2NhdGlvbiIsICJsb2MiLCAiZW5kIiwgInN0YXJ0VG9rZW4iLCAiZW5kVG9rZW4iLCAibG9jYXRpb25PZmZzZXQiLCAibGluZSIsICJjb2x1bW4iLCAibWFwSm9pbiIsICJ2YWx1ZSIsICJqb2luZXIiLCAibWFwcGVyIiwgIm91dCIsICJpbmRleCIsICJsZW5ndGgiLCAicHJpbnRTdHJpbmciLCAic3RyaW5nIiwgIkpTT04iLCAic3RyaW5naWZ5IiwgInByaW50QmxvY2tTdHJpbmciLCAicmVwbGFjZSIsICJMRiIsICJub2RlcyIsICJPcGVyYXRpb25EZWZpbml0aW9uIiwgIm5vZGUiLCAiZGVzY3JpcHRpb24iLCAiU3RyaW5nVmFsdWUiLCAib3BlcmF0aW9uIiwgIm5hbWUiLCAidmFyaWFibGVEZWZpbml0aW9ucyIsICJWYXJpYWJsZURlZmluaXRpb24iLCAiZGlyZWN0aXZlcyIsICJEaXJlY3RpdmUiLCAic2VsZWN0aW9uU2V0IiwgIlNlbGVjdGlvblNldCIsICJWYXJpYWJsZSIsICJ2YXJpYWJsZSIsICJfcHJpbnQiLCAidHlwZSIsICJkZWZhdWx0VmFsdWUiLCAiRmllbGQiLCAiYWxpYXMiLCAiYXJndW1lbnRzIiwgImFyZ3MiLCAiQXJndW1lbnQiLCAic2xpY2UiLCAic2VsZWN0aW9ucyIsICJibG9jayIsICJCb29sZWFuVmFsdWUiLCAiTnVsbFZhbHVlIiwgIl9ub2RlIiwgIkludFZhbHVlIiwgIkZsb2F0VmFsdWUiLCAiRW51bVZhbHVlIiwgIk5hbWUiLCAiTGlzdFZhbHVlIiwgInZhbHVlcyIsICJPYmplY3RWYWx1ZSIsICJmaWVsZHMiLCAiT2JqZWN0RmllbGQiLCAiRG9jdW1lbnQiLCAiZGVmaW5pdGlvbnMiLCAiRnJhZ21lbnRTcHJlYWQiLCAiSW5saW5lRnJhZ21lbnQiLCAidHlwZUNvbmRpdGlvbiIsICJGcmFnbWVudERlZmluaXRpb24iLCAiTmFtZWRUeXBlIiwgIkxpc3RUeXBlIiwgIk5vbk51bGxUeXBlIiwgImtpbmQiLCAicHJpbnQiLCAiZSIsICJlIiwgInIiLCAidCIsICJpIiwgImEiLCAiZSIsICJmIiwgIm4iLCAibCIsICJ1IiwgIm8iLCAiciIsICJ0IiwgImkiLCAiZSIsICJhIiwgImYiLCAibiIsICJsIiwgInUiLCAiciIsICJ0IiwgImkiLCAiYSIsICJlIiwgImYiLCAibiIsICJsIiwgInUiLCAiciIsICJ0IiwgImkiLCAiYSIsICJlIiwgImYiLCAibiIsICJyIiwgInQiLCAiaSIsICJhIiwgImUiLCAiZiIsICJuIiwgImUiLCAiciIsICJ0IiwgImkiLCAiYSIsICJmIiwgIm4iLCAiciIsICJ0IiwgImkiLCAiZSIsICJhIiwgImUiLCAiciIsICJ0IiwgImkiLCAiZSIsICJhIiwgImUiLCAiciIsICJ0IiwgImkiLCAicmVoeWRyYXRlR3JhcGhRbEVycm9yIiwgImVycm9yIiwgIm1lc3NhZ2UiLCAiZXh0ZW5zaW9ucyIsICJuYW1lIiwgIkdyYXBoUUxFcnJvciIsICJub2RlcyIsICJzb3VyY2UiLCAicG9zaXRpb25zIiwgInBhdGgiLCAiQ29tYmluZWRFcnJvciIsICJFcnJvciIsICJjb25zdHJ1Y3RvciIsICJpbnB1dCIsICJub3JtYWxpemVkR3JhcGhRTEVycm9ycyIsICJncmFwaFFMRXJyb3JzIiwgIm1hcCIsICJnZW5lcmF0ZUVycm9yTWVzc2FnZSIsICJuZXR3b3JrRXJyIiwgImdyYXBoUWxFcnJzIiwgImkiLCAibCIsICJsZW5ndGgiLCAibmV0d29ya0Vycm9yIiwgInN1cGVyIiwgInRoaXMiLCAicmVzcG9uc2UiLCAidG9TdHJpbmciLCAicGhhc2giLCAieCIsICJzZWVkIiwgImgiLCAiY2hhckNvZGVBdCIsICJzZWVuIiwgIlNldCIsICJjYWNoZSIsICJXZWFrTWFwIiwgInN0cmluZ2lmeSIsICJpbmNsdWRlRmlsZXMiLCAiaGFzIiwgIkpTT04iLCAidG9KU09OIiwgIkFycmF5IiwgImlzQXJyYXkiLCAib3V0IiwgIkZpbGVDb25zdHJ1Y3RvciIsICJOb29wQ29uc3RydWN0b3IiLCAiQmxvYkNvbnN0cnVjdG9yIiwgImtleXMiLCAiT2JqZWN0IiwgInNvcnQiLCAiZ2V0UHJvdG90eXBlT2YiLCAicHJvdG90eXBlIiwgImtleSIsICJnZXQiLCAiTWF0aCIsICJyYW5kb20iLCAic2xpY2UiLCAic2V0IiwgIl9fa2V5IiwgImFkZCIsICJ2YWx1ZSIsICJkZWxldGUiLCAiZXh0cmFjdCIsICJzdHJpbmdpZnlWYXJpYWJsZXMiLCAiY2xlYXIiLCAiRmlsZSIsICJCbG9iIiwgIkdSQVBIUUxfU1RSSU5HX1JFIiwgIlJFUExBQ0VfQ0hBUl9SRSIsICJyZXBsYWNlT3V0c2lkZVN0cmluZ3MiLCAic3RyIiwgImlkeCIsICJyZXBsYWNlIiwgInNhbml0aXplRG9jdW1lbnQiLCAibm9kZSIsICJzcGxpdCIsICJqb2luIiwgInRyaW0iLCAicHJpbnRzIiwgIk1hcCIsICJkb2NzIiwgInN0cmluZ2lmeURvY3VtZW50IiwgInByaW50ZWQiLCAibG9jIiwgImJvZHkiLCAicHJpbnQiLCAic3RhcnQiLCAiZW5kIiwgImxvY2F0aW9uT2Zmc2V0IiwgImxpbmUiLCAiY29sdW1uIiwgImhhc2hEb2N1bWVudCIsICJkb2N1bWVudElkIiwgImRlZmluaXRpb25zIiwgIm9wZXJhdGlvbk5hbWUiLCAiZ2V0T3BlcmF0aW9uTmFtZSIsICJrZXlEb2N1bWVudCIsICJxdWVyeSIsICJwYXJzZSIsICJub0xvY2F0aW9uIiwgImNyZWF0ZVJlcXVlc3QiLCAiX3F1ZXJ5IiwgIl92YXJpYWJsZXMiLCAidmFyaWFibGVzIiwgInByaW50ZWRWYXJzIiwgImtpbmQiLCAiS2luZCIsICJPUEVSQVRJT05fREVGSU5JVElPTiIsICJtYWtlUmVzdWx0IiwgIm9wZXJhdGlvbiIsICJyZXN1bHQiLCAicmVzcG9uc2UiLCAiQXJyYXkiLCAiaXNBcnJheSIsICJlcnJvcnMiLCAiRXJyb3IiLCAiZGVmYXVsdEhhc05leHQiLCAia2luZCIsICJkYXRhIiwgImVycm9yIiwgIkNvbWJpbmVkRXJyb3IiLCAiZ3JhcGhRTEVycm9ycyIsICJleHRlbnNpb25zIiwgImhhc05leHQiLCAic3RhbGUiLCAiZGVlcE1lcmdlIiwgInRhcmdldCIsICJzb3VyY2UiLCAiaSIsICJsIiwgImxlbmd0aCIsICJjb25zdHJ1Y3RvciIsICJPYmplY3QiLCAia2V5IiwgIm1lcmdlUmVzdWx0UGF0Y2giLCAicHJldlJlc3VsdCIsICJuZXh0UmVzdWx0IiwgInBlbmRpbmciLCAiaGFzRXh0ZW5zaW9ucyIsICJwYXlsb2FkIiwgImluY3JlbWVudGFsIiwgIndpdGhEYXRhIiwgIl9sb29wIiwgInBhdGNoIiwgInB1c2giLCAiYXNzaWduIiwgInByb3AiLCAicGFydCIsICJwYXRoIiwgInJlcyIsICJmaW5kIiwgInBlbmRpbmdSZXMiLCAiaWQiLCAic3ViUGF0aCIsICJpdGVtcyIsICJzdGFydEluZGV4IiwgIm1ha2VFcnJvclJlc3VsdCIsICJuZXR3b3JrRXJyb3IiLCAibWFrZUZldGNoQm9keSIsICJyZXF1ZXN0IiwgImJvZHkiLCAicXVlcnkiLCAiZG9jdW1lbnRJZCIsICJvcGVyYXRpb25OYW1lIiwgImdldE9wZXJhdGlvbk5hbWUiLCAidmFyaWFibGVzIiwgImRlZmluaXRpb25zIiwgInBlcnNpc3RlZFF1ZXJ5IiwgIm1pc3MiLCAic3RyaW5naWZ5RG9jdW1lbnQiLCAibWFrZUZldGNoVVJMIiwgInVzZUdFVE1ldGhvZCIsICJjb250ZXh0IiwgInByZWZlckdldE1ldGhvZCIsICJ1cmwiLCAidXJsUGFydHMiLCAic3BsaXRPdXRTZWFyY2hQYXJhbXMiLCAidmFsdWUiLCAic2V0IiwgInN0cmluZ2lmeVZhcmlhYmxlcyIsICJmaW5hbFVybCIsICJqb2luIiwgInN0YXJ0IiwgImluZGV4T2YiLCAic2xpY2UiLCAiVVJMU2VhcmNoUGFyYW1zIiwgInNlcmlhbGl6ZUJvZHkiLCAianNvbiIsICJmaWxlcyIsICJ4IiwgIm1hcCIsICJNYXAiLCAiRmlsZUNvbnN0cnVjdG9yIiwgIk5vb3BDb25zdHJ1Y3RvciIsICJCbG9iQ29uc3RydWN0b3IiLCAic2VlbiIsICJjbGVhciIsICJleHRyYWN0IiwgInNpemUiLCAiZm9ybSIsICJGb3JtRGF0YSIsICJhcHBlbmQiLCAia2V5cyIsICJpbmRleCIsICJmaWxlIiwgInZhbHVlcyIsICJtYWtlRmV0Y2hPcHRpb25zIiwgImhlYWRlcnMiLCAiYWNjZXB0IiwgImV4dHJhT3B0aW9ucyIsICJmZXRjaE9wdGlvbnMiLCAiZm9yRWFjaCIsICJ0b0xvd2VyQ2FzZSIsICJzZXJpYWxpemVkQm9keSIsICJtZXRob2QiLCAiYm91bmRhcnlIZWFkZXJSZSIsICJldmVudFN0cmVhbVJlIiwgImFzeW5jIiwgInN0cmVhbUJvZHkiLCAiU3ltYm9sIiwgImFzeW5jSXRlcmF0b3IiLCAiY2h1bmsiLCAicmVhZGVyIiwgImdldFJlYWRlciIsICJyZWFkIiwgImRvbmUiLCAiY2FuY2VsIiwgInN0cmVhbVRvQm91bmRlZENodW5rcyIsICJjaHVua3MiLCAiYm91bmRhcnkiLCAiZGVjb2RlciIsICJUZXh0RGVjb2RlciIsICJidWZmZXIiLCAiYm91bmRhcnlJbmRleCIsICJuYW1lIiwgInRvU3RyaW5nIiwgImRlY29kZSIsICJzdHJlYW0iLCAiZmV0Y2hPcGVyYXRpb24iLCAibmV0d29ya01vZGUiLCAiUHJvbWlzZSIsICJyZXNvbHZlIiwgImNvbnRlbnRUeXBlIiwgImZldGNoIiwgImdldCIsICJyZXN1bHRzIiwgInRlc3QiLCAicGFyc2VNdWx0aXBhcnRNaXhlZCIsICJib3VuZGFyeUhlYWRlciIsICJtYXRjaCIsICJpc1ByZWFtYmxlIiwgInByZWFtYmxlSW5kZXgiLCAiSlNPTiIsICJwYXJzZSIsICJwYXJzZUV2ZW50U3RyZWFtIiwgInBhcnNlSlNPTiIsICJ0ZXh0IiwgInBhcnNlTWF5YmVKU09OIiwgIk5PREVfRU5WIiwgImNvbnNvbGUiLCAid2FybiIsICJlIiwgInN0YXR1cyIsICJzdGF0dXNUZXh0IiwgIm1ha2VGZXRjaFNvdXJjZSIsICJhYm9ydENvbnRyb2xsZXIiLCAiQWJvcnRDb250cm9sbGVyIiwgInNpZ25hbCIsICJvbkVuZCIsICJhYm9ydCIsICJmaWx0ZXIiLCAiZnJvbUFzeW5jSXRlcmFibGUiLCAiY29sbGVjdFR5cGVzIiwgIm9iaiIsICJ0eXBlcyIsICJBcnJheSIsICJpc0FycmF5IiwgImkiLCAibCIsICJsZW5ndGgiLCAia2V5IiwgImFkZCIsICJmb3JtYXROb2RlIiwgIm5vZGUiLCAiZGVmaW5pdGlvbnMiLCAibmV3RGVmaW5pdGlvbiIsICJwdXNoIiwgImRpcmVjdGl2ZXMiLCAiX2RpcmVjdGl2ZXMiLCAiZGlyZWN0aXZlIiwgIm5hbWUiLCAidmFsdWUiLCAic2xpY2UiLCAic2VsZWN0aW9ucyIsICJoYXNUeXBlbmFtZSIsICJraW5kIiwgIktpbmQiLCAiT1BFUkFUSU9OX0RFRklOSVRJT04iLCAic2VsZWN0aW9uU2V0IiwgInNlbGVjdGlvbiIsICJGSUVMRCIsICJhbGlhcyIsICJuZXdTZWxlY3Rpb24iLCAiTkFNRSIsICJfZ2VuZXJhdGVkIiwgImZvcm1hdHRlZERvY3MiLCAiTWFwIiwgImZvcm1hdERvY3VtZW50IiwgInF1ZXJ5IiwgImtleURvY3VtZW50IiwgInJlc3VsdCIsICJnZXQiLCAiX19rZXkiLCAic2V0IiwgIk9iamVjdCIsICJkZWZpbmVQcm9wZXJ0eSIsICJlbnVtZXJhYmxlIiwgIndpdGhQcm9taXNlIiwgIl9zb3VyY2UkIiwgInNvdXJjZSQiLCAic2luayIsICJ0b1Byb21pc2UiLCAidGFrZSIsICJmaWx0ZXIiLCAic3RhbGUiLCAiaGFzTmV4dCIsICJ0aGVuIiwgIm9uUmVzb2x2ZSIsICJvblJlamVjdCIsICJzdWJzY3JpYmUiLCAib25SZXN1bHQiLCAibWFrZU9wZXJhdGlvbiIsICJyZXF1ZXN0IiwgImNvbnRleHQiLCAiYWRkTWV0YWRhdGEiLCAib3BlcmF0aW9uIiwgIm1ldGEiLCAibm9vcCIsICJzaG91bGRTa2lwIiwgImtpbmQiLCAibWFwVHlwZU5hbWVzIiwgIm9wZXJhdGlvbiIsICJxdWVyeSIsICJmb3JtYXREb2N1bWVudCIsICJmb3JtYXR0ZWRPcGVyYXRpb24iLCAibWFrZU9wZXJhdGlvbiIsICJjYWNoZUV4Y2hhbmdlIiwgImZvcndhcmQiLCAiY2xpZW50IiwgImRpc3BhdGNoRGVidWciLCAicmVzdWx0Q2FjaGUiLCAiTWFwIiwgIm9wZXJhdGlvbkNhY2hlIiwgImlzT3BlcmF0aW9uQ2FjaGVkIiwgImNvbnRleHQiLCAicmVxdWVzdFBvbGljeSIsICJoYXMiLCAia2V5IiwgIm9wcyQiLCAiY2FjaGVkT3BzJCIsICJtYXAiLCAiY2FjaGVkUmVzdWx0IiwgImdldCIsICJyZXN1bHQiLCAibWFrZVJlc3VsdCIsICJkYXRhIiwgImFkZE1ldGFkYXRhIiwgImNhY2hlT3V0Y29tZSIsICJzdGFsZSIsICJyZWV4ZWN1dGVPcGVyYXRpb24iLCAiZmlsdGVyIiwgIm9wIiwgImZvcndhcmRlZE9wcyQiLCAidGFwIiwgInJlc3BvbnNlIiwgInR5cGVuYW1lcyIsICJhZGRpdGlvbmFsVHlwZW5hbWVzIiwgImNvbGxlY3RUeXBlcyIsICJTZXQiLCAiY29uY2F0IiwgInBlbmRpbmdPcGVyYXRpb25zIiwgImkiLCAibGVuZ3RoIiwgInR5cGVOYW1lIiwgIm9wZXJhdGlvbnMiLCAic2V0IiwgInZhbHVlcyIsICJhZGQiLCAiY2xlYXIiLCAiZGVsZXRlIiwgIm1lcmdlIiwgImZldGNoRXhjaGFuZ2UiLCAiZm9yd2FyZCIsICJkaXNwYXRjaERlYnVnIiwgIm9wcyQiLCAiZmV0Y2hSZXN1bHRzJCIsICJtZXJnZU1hcCIsICJvcGVyYXRpb24iLCAiYm9keSIsICJtYWtlRmV0Y2hCb2R5IiwgInVybCIsICJtYWtlRmV0Y2hVUkwiLCAiZmV0Y2hPcHRpb25zIiwgIm1ha2VGZXRjaE9wdGlvbnMiLCAic291cmNlIiwgInRha2VVbnRpbCIsICJmaWx0ZXIiLCAib3AiLCAia2luZCIsICJrZXkiLCAibWFrZUZldGNoU291cmNlIiwgIk5PREVfRU5WIiwgIm9uUHVzaCIsICJyZXN1bHQiLCAiZXJyb3IiLCAiZGF0YSIsICJjb250ZXh0IiwgImZldGNoU3Vic2NyaXB0aW9ucyIsICJmb3J3YXJkJCIsICJtZXJnZSIsICJjb21wb3NlRXhjaGFuZ2VzIiwgImV4Y2hhbmdlcyIsICJjbGllbnQiLCAicmVkdWNlUmlnaHQiLCAiZXhjaGFuZ2UiLCAiZm9yd2FyZGVkIiwgIm9wZXJhdGlvbnMkIiwgIkVycm9yIiwgInNoYXJlIiwgImV2ZW50IiwgImZhbGxiYWNrRXhjaGFuZ2UiLCAiZGlzcGF0Y2hEZWJ1ZyIsICJvcHMkIiwgIk5PREVfRU5WIiwgInRhcCIsICJvcGVyYXRpb24iLCAia2luZCIsICJtZXNzYWdlIiwgImNvbnNvbGUiLCAid2FybiIsICJmaWx0ZXIiLCAiX3giLCAiQ2xpZW50IiwgIm9wdHMiLCAidXJsIiwgIkVycm9yIiwgImlkcyIsICJyZXBsYXlzIiwgIk1hcCIsICJhY3RpdmUiLCAiZGlzcGF0Y2hlZCIsICJTZXQiLCAicXVldWUiLCAiYmFzZU9wdHMiLCAiZmV0Y2hTdWJzY3JpcHRpb25zIiwgImZldGNoT3B0aW9ucyIsICJmZXRjaCIsICJwcmVmZXJHZXRNZXRob2QiLCAicmVxdWVzdFBvbGljeSIsICJvcGVyYXRpb25zIiwgIm1ha2VTdWJqZWN0IiwgIm5leHRPcGVyYXRpb24iLCAiaGFzIiwgImtleSIsICJkZWxldGUiLCAiYWRkIiwgIm5leHQiLCAiaXNPcGVyYXRpb25CYXRjaEFjdGl2ZSIsICJkaXNwYXRjaE9wZXJhdGlvbiIsICJzaGlmdCIsICJtYWtlUmVzdWx0U291cmNlIiwgInJlc3VsdCQiLCAidGFrZVVudGlsIiwgIm9wIiwgInNvdXJjZSIsICJyZXMiLCAiY29udGV4dCIsICJfaW5zdGFuY2UiLCAicmVzdWx0cyQiLCAidGFrZVdoaWxlIiwgInJlc3VsdCIsICJoYXNOZXh0IiwgInN3aXRjaE1hcCIsICJ2YWx1ZSQiLCAiZnJvbVZhbHVlIiwgInN0YWxlIiwgIm1lcmdlIiwgIm1hcCIsICJ0YWtlIiwgIm9uRW5kIiwgImkiLCAibGVuZ3RoIiwgInNwbGljZSIsICJtYWtlT3BlcmF0aW9uIiwgIm9uUHVzaCIsICJzZXQiLCAib25TdGFydCIsICJzaGFyZSIsICJpbnN0YW5jZSIsICJ0aGlzIiwgIk9iamVjdCIsICJjcmVhdGUiLCAicHJvdG90eXBlIiwgImNsaWVudCIsICJhc3NpZ24iLCAic3VzcGVuc2UiLCAib3BlcmF0aW9ucyQiLCAicmVleGVjdXRlT3BlcmF0aW9uIiwgInB1c2giLCAiUHJvbWlzZSIsICJyZXNvbHZlIiwgInRoZW4iLCAicXVldWVkIiwgImNyZWF0ZVJlcXVlc3RPcGVyYXRpb24iLCAicmVxdWVzdCIsICJyZXF1ZXN0T3BlcmF0aW9uVHlwZSIsICJleGVjdXRlUmVxdWVzdE9wZXJhdGlvbiIsICJ3aXRoUHJvbWlzZSIsICJsYXp5IiwgImdldCIsICJyZXBsYXkiLCAiZXhlY3V0ZVF1ZXJ5IiwgInF1ZXJ5IiwgImV4ZWN1dGVTdWJzY3JpcHRpb24iLCAiZXhlY3V0ZU11dGF0aW9uIiwgInJlYWRRdWVyeSIsICJ2YXJpYWJsZXMiLCAic3Vic2NyaWJlIiwgInVuc3Vic2NyaWJlIiwgImNyZWF0ZVJlcXVlc3QiLCAic3Vic2NyaXB0aW9uIiwgIm11dGF0aW9uIiwgIm5vb3AiLCAic3Vic2NyaWJlVG9EZWJ1Z1RhcmdldCIsICJvbkV2ZW50IiwgImNvbXBvc2VkRXhjaGFuZ2UiLCAiY29tcG9zZUV4Y2hhbmdlcyIsICJleGNoYW5nZXMiLCAiZm9yd2FyZCIsICJwdWJsaXNoIiwgImNyZWF0ZUNsaWVudCIsICJPQkoiLCAiQ29udGV4dCIsICJjcmVhdGVDb250ZXh0IiwgIlByb3ZpZGVyIiwgIkNvbnN1bWVyIiwgImRpc3BsYXlOYW1lIiwgInVzZUNsaWVudCIsICJjbGllbnQiLCAidXNlQ29udGV4dCIsICJlcnJvciIsICJjb25zb2xlIiwgIkVycm9yIiwgImluaXRpYWxTdGF0ZSIsICJmZXRjaGluZyIsICJzdGFsZSIsICJoYXNOZXh0IiwgImRhdGEiLCAiZXh0ZW5zaW9ucyIsICJvcGVyYXRpb24iLCAiYXJlT3BlcmF0aW9uc0VxdWFsIiwgImEiLCAiYiIsICJrZXkiLCAiY29tcHV0ZU5leHRTdGF0ZSIsICJwcmV2U3RhdGUiLCAicmVzdWx0IiwgIm5ld1N0YXRlIiwgImlzU2hhbGxvd0RpZmZlcmVudCIsICJoYXNEZXBzQ2hhbmdlZCIsICJpIiwgImwiLCAibGVuZ3RoIiwgImlzRGlzcGF0Y2hpbmciLCAiZGVmZXJEaXNwYXRjaCIsICJzZXRTdGF0ZSIsICJ2YWx1ZSIsICJQcm9taXNlIiwgInJlc29sdmUiLCAidGhlbiIsICJ1c2VNdXRhdGlvbiIsICJxdWVyeSIsICJpc01vdW50ZWQiLCAidXNlUmVmIiwgInN0YXRlIiwgInVzZVN0YXRlIiwgImV4ZWN1dGVNdXRhdGlvbiIsICJ1c2VDYWxsYmFjayIsICJ2YXJpYWJsZXMiLCAiY29udGV4dCIsICJ0b1Byb21pc2UiLCAidGFrZSIsICJmaWx0ZXIiLCAib25QdXNoIiwgImN1cnJlbnQiLCAiY3JlYXRlUmVxdWVzdCIsICJSZWFjdCIsICJ1c2VFZmZlY3QiLCAidXNlUmVxdWVzdCIsICJwcmV2IiwgInVuZGVmaW5lZCIsICJ1c2VNZW1vIiwgInJlcXVlc3QiLCAiZ2V0Q2FjaGVGb3JDbGllbnQiLCAiX3JlYWN0IiwgInJlY2xhaW0iLCAiU2V0IiwgIm1hcCIsICJNYXAiLCAib3BlcmF0aW9ucyQiLCAic3Vic2NyaWJlIiwgImtpbmQiLCAiaGFzIiwgImRlbGV0ZSIsICJnZXQiLCAic2V0IiwgImRpc3Bvc2UiLCAiYWRkIiwgImlzU3VzcGVuc2UiLCAic3VzcGVuc2UiLCAidXNlUXVlcnkiLCAiYXJncyIsICJjYWNoZSIsICJzb3VyY2UiLCAicGF1c2UiLCAiZXhlY3V0ZVF1ZXJ5IiwgInJlcXVlc3RQb2xpY3kiLCAiZ2V0U25hcHNob3QiLCAic3Vic2NyaXB0aW9uIiwgIl9yZXN1bHQiLCAidGFrZVdoaWxlIiwgInByb21pc2UiLCAiX3Jlc29sdmUiLCAidW5zdWJzY3JpYmUiLCAiZGVwcyIsICJjdXJyZW50UmVzdWx0IiwgImhhc1Jlc3VsdCIsICJ1cGRhdGVSZXN1bHQiLCAibmV4dFJlc3VsdCIsICJvbkVuZCIsICJvcHRzIiwgImltcG9ydF9yZWFjdCIsICJpbXBvcnRfcmVhY3QiLCAibmFtZSIsICJ2ZXJzaW9uIiwgImVycm9yIiwgIm5hbWUiLCAidXBkYXRlUHJvZmlsZSIsICJlcnJvciIsICJ2YWx1ZSIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAidHlwZSIsICJSZWFjdCIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAiZXJyb3IiLCAidHlwZSIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAiZXJyb3IiLCAiZSIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAiaW1wb3J0X3JlYWN0IiwgImltcG9ydF9yZWFjdCIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAibmFtZSIsICJlcnJvciIsICJlIiwgImltcG9ydF9qc3hfcnVudGltZSIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAibG9jYXRpb24iLCAiaW1wb3J0X2pzeF9ydW50aW1lIiwgImltcG9ydF9yZWFjdCIsICJ0eXBlIiwgImYiLCAicm9vdCIsICJ2IiwgInIiLCAiaSIsICJmaWVsZCIsICJ0eXBlTWFwIiwgImkiLCAidHlwZSIsICJmIiwgImsiLCAidHlwZU5hbWUiLCAidHlwZU1hcCIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAiaW1wb3J0X2pzeF9ydW50aW1lIiwgInYiLCAidCIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAiZiJdCn0K
