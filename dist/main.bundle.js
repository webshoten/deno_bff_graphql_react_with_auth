var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name5 in all)
    __defProp(target, name5, { get: all[name5], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react.production.min.js
var require_react_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react.production.min.js"(exports) {
    "use strict";
    var l3 = Symbol.for("react.element");
    var n2 = Symbol.for("react.portal");
    var p3 = Symbol.for("react.fragment");
    var q = Symbol.for("react.strict_mode");
    var r3 = Symbol.for("react.profiler");
    var t2 = Symbol.for("react.provider");
    var u3 = Symbol.for("react.context");
    var v3 = Symbol.for("react.forward_ref");
    var w = Symbol.for("react.suspense");
    var x = Symbol.for("react.memo");
    var y2 = Symbol.for("react.lazy");
    var z = Symbol.iterator;
    function A(a2) {
      if (null === a2 || "object" !== typeof a2) return null;
      a2 = z && a2[z] || a2["@@iterator"];
      return "function" === typeof a2 ? a2 : null;
    }
    var B = { isMounted: function() {
      return false;
    }, enqueueForceUpdate: function() {
    }, enqueueReplaceState: function() {
    }, enqueueSetState: function() {
    } };
    var C2 = Object.assign;
    var D = {};
    function E(a2, b, e3) {
      this.props = a2;
      this.context = b;
      this.refs = D;
      this.updater = e3 || B;
    }
    E.prototype.isReactComponent = {};
    E.prototype.setState = function(a2, b) {
      if ("object" !== typeof a2 && "function" !== typeof a2 && null != a2) throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
      this.updater.enqueueSetState(this, a2, b, "setState");
    };
    E.prototype.forceUpdate = function(a2) {
      this.updater.enqueueForceUpdate(this, a2, "forceUpdate");
    };
    function F() {
    }
    F.prototype = E.prototype;
    function G(a2, b, e3) {
      this.props = a2;
      this.context = b;
      this.refs = D;
      this.updater = e3 || B;
    }
    var H = G.prototype = new F();
    H.constructor = G;
    C2(H, E.prototype);
    H.isPureReactComponent = true;
    var I2 = Array.isArray;
    var J = Object.prototype.hasOwnProperty;
    var K = { current: null };
    var L = { key: true, ref: true, __self: true, __source: true };
    function M(a2, b, e3) {
      var d4, c3 = {}, k = null, h2 = null;
      if (null != b) for (d4 in void 0 !== b.ref && (h2 = b.ref), void 0 !== b.key && (k = "" + b.key), b) J.call(b, d4) && !L.hasOwnProperty(d4) && (c3[d4] = b[d4]);
      var g = arguments.length - 2;
      if (1 === g) c3.children = e3;
      else if (1 < g) {
        for (var f3 = Array(g), m = 0; m < g; m++) f3[m] = arguments[m + 2];
        c3.children = f3;
      }
      if (a2 && a2.defaultProps) for (d4 in g = a2.defaultProps, g) void 0 === c3[d4] && (c3[d4] = g[d4]);
      return { $$typeof: l3, type: a2, key: k, ref: h2, props: c3, _owner: K.current };
    }
    function N(a2, b) {
      return { $$typeof: l3, type: a2.type, key: b, ref: a2.ref, props: a2.props, _owner: a2._owner };
    }
    function O(a2) {
      return "object" === typeof a2 && null !== a2 && a2.$$typeof === l3;
    }
    function escape(a2) {
      var b = { "=": "=0", ":": "=2" };
      return "$" + a2.replace(/[=:]/g, function(a3) {
        return b[a3];
      });
    }
    var P = /\/+/g;
    function Q2(a2, b) {
      return "object" === typeof a2 && null !== a2 && null != a2.key ? escape("" + a2.key) : b.toString(36);
    }
    function R(a2, b, e3, d4, c3) {
      var k = typeof a2;
      if ("undefined" === k || "boolean" === k) a2 = null;
      var h2 = false;
      if (null === a2) h2 = true;
      else switch (k) {
        case "string":
        case "number":
          h2 = true;
          break;
        case "object":
          switch (a2.$$typeof) {
            case l3:
            case n2:
              h2 = true;
          }
      }
      if (h2) return h2 = a2, c3 = c3(h2), a2 = "" === d4 ? "." + Q2(h2, 0) : d4, I2(c3) ? (e3 = "", null != a2 && (e3 = a2.replace(P, "$&/") + "/"), R(c3, b, e3, "", function(a3) {
        return a3;
      })) : null != c3 && (O(c3) && (c3 = N(c3, e3 + (!c3.key || h2 && h2.key === c3.key ? "" : ("" + c3.key).replace(P, "$&/") + "/") + a2)), b.push(c3)), 1;
      h2 = 0;
      d4 = "" === d4 ? "." : d4 + ":";
      if (I2(a2)) for (var g = 0; g < a2.length; g++) {
        k = a2[g];
        var f3 = d4 + Q2(k, g);
        h2 += R(k, b, e3, f3, c3);
      }
      else if (f3 = A(a2), "function" === typeof f3) for (a2 = f3.call(a2), g = 0; !(k = a2.next()).done; ) k = k.value, f3 = d4 + Q2(k, g++), h2 += R(k, b, e3, f3, c3);
      else if ("object" === k) throw b = String(a2), Error("Objects are not valid as a React child (found: " + ("[object Object]" === b ? "object with keys {" + Object.keys(a2).join(", ") + "}" : b) + "). If you meant to render a collection of children, use an array instead.");
      return h2;
    }
    function S(a2, b, e3) {
      if (null == a2) return a2;
      var d4 = [], c3 = 0;
      R(a2, d4, "", "", function(a3) {
        return b.call(e3, a3, c3++);
      });
      return d4;
    }
    function T(a2) {
      if (-1 === a2._status) {
        var b = a2._result;
        b = b();
        b.then(function(b2) {
          if (0 === a2._status || -1 === a2._status) a2._status = 1, a2._result = b2;
        }, function(b2) {
          if (0 === a2._status || -1 === a2._status) a2._status = 2, a2._result = b2;
        });
        -1 === a2._status && (a2._status = 0, a2._result = b);
      }
      if (1 === a2._status) return a2._result.default;
      throw a2._result;
    }
    var U = { current: null };
    var V = { transition: null };
    var W = { ReactCurrentDispatcher: U, ReactCurrentBatchConfig: V, ReactCurrentOwner: K };
    function X() {
      throw Error("act(...) is not supported in production builds of React.");
    }
    exports.Children = { map: S, forEach: function(a2, b, e3) {
      S(a2, function() {
        b.apply(this, arguments);
      }, e3);
    }, count: function(a2) {
      var b = 0;
      S(a2, function() {
        b++;
      });
      return b;
    }, toArray: function(a2) {
      return S(a2, function(a3) {
        return a3;
      }) || [];
    }, only: function(a2) {
      if (!O(a2)) throw Error("React.Children.only expected to receive a single React element child.");
      return a2;
    } };
    exports.Component = E;
    exports.Fragment = p3;
    exports.Profiler = r3;
    exports.PureComponent = G;
    exports.StrictMode = q;
    exports.Suspense = w;
    exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = W;
    exports.act = X;
    exports.cloneElement = function(a2, b, e3) {
      if (null === a2 || void 0 === a2) throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + a2 + ".");
      var d4 = C2({}, a2.props), c3 = a2.key, k = a2.ref, h2 = a2._owner;
      if (null != b) {
        void 0 !== b.ref && (k = b.ref, h2 = K.current);
        void 0 !== b.key && (c3 = "" + b.key);
        if (a2.type && a2.type.defaultProps) var g = a2.type.defaultProps;
        for (f3 in b) J.call(b, f3) && !L.hasOwnProperty(f3) && (d4[f3] = void 0 === b[f3] && void 0 !== g ? g[f3] : b[f3]);
      }
      var f3 = arguments.length - 2;
      if (1 === f3) d4.children = e3;
      else if (1 < f3) {
        g = Array(f3);
        for (var m = 0; m < f3; m++) g[m] = arguments[m + 2];
        d4.children = g;
      }
      return { $$typeof: l3, type: a2.type, key: c3, ref: k, props: d4, _owner: h2 };
    };
    exports.createContext = function(a2) {
      a2 = { $$typeof: u3, _currentValue: a2, _currentValue2: a2, _threadCount: 0, Provider: null, Consumer: null, _defaultValue: null, _globalName: null };
      a2.Provider = { $$typeof: t2, _context: a2 };
      return a2.Consumer = a2;
    };
    exports.createElement = M;
    exports.createFactory = function(a2) {
      var b = M.bind(null, a2);
      b.type = a2;
      return b;
    };
    exports.createRef = function() {
      return { current: null };
    };
    exports.forwardRef = function(a2) {
      return { $$typeof: v3, render: a2 };
    };
    exports.isValidElement = O;
    exports.lazy = function(a2) {
      return { $$typeof: y2, _payload: { _status: -1, _result: a2 }, _init: T };
    };
    exports.memo = function(a2, b) {
      return { $$typeof: x, type: a2, compare: void 0 === b ? null : b };
    };
    exports.startTransition = function(a2) {
      var b = V.transition;
      V.transition = {};
      try {
        a2();
      } finally {
        V.transition = b;
      }
    };
    exports.unstable_act = X;
    exports.useCallback = function(a2, b) {
      return U.current.useCallback(a2, b);
    };
    exports.useContext = function(a2) {
      return U.current.useContext(a2);
    };
    exports.useDebugValue = function() {
    };
    exports.useDeferredValue = function(a2) {
      return U.current.useDeferredValue(a2);
    };
    exports.useEffect = function(a2, b) {
      return U.current.useEffect(a2, b);
    };
    exports.useId = function() {
      return U.current.useId();
    };
    exports.useImperativeHandle = function(a2, b, e3) {
      return U.current.useImperativeHandle(a2, b, e3);
    };
    exports.useInsertionEffect = function(a2, b) {
      return U.current.useInsertionEffect(a2, b);
    };
    exports.useLayoutEffect = function(a2, b) {
      return U.current.useLayoutEffect(a2, b);
    };
    exports.useMemo = function(a2, b) {
      return U.current.useMemo(a2, b);
    };
    exports.useReducer = function(a2, b, e3) {
      return U.current.useReducer(a2, b, e3);
    };
    exports.useRef = function(a2) {
      return U.current.useRef(a2);
    };
    exports.useState = function(a2) {
      return U.current.useState(a2);
    };
    exports.useSyncExternalStore = function(a2, b, e3) {
      return U.current.useSyncExternalStore(a2, b, e3);
    };
    exports.useTransition = function() {
      return U.current.useTransition();
    };
    exports.version = "18.3.1";
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/index.js
var require_react = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/index.js"(exports, module) {
    "use strict";
    if (true) {
      module.exports = require_react_production_min();
    } else {
      module.exports = null;
    }
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/cjs/scheduler.production.min.js
var require_scheduler_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/cjs/scheduler.production.min.js"(exports) {
    "use strict";
    function f3(a2, b) {
      var c3 = a2.length;
      a2.push(b);
      a: for (; 0 < c3; ) {
        var d4 = c3 - 1 >>> 1, e3 = a2[d4];
        if (0 < g(e3, b)) a2[d4] = b, a2[c3] = e3, c3 = d4;
        else break a;
      }
    }
    function h2(a2) {
      return 0 === a2.length ? null : a2[0];
    }
    function k(a2) {
      if (0 === a2.length) return null;
      var b = a2[0], c3 = a2.pop();
      if (c3 !== b) {
        a2[0] = c3;
        a: for (var d4 = 0, e3 = a2.length, w = e3 >>> 1; d4 < w; ) {
          var m = 2 * (d4 + 1) - 1, C2 = a2[m], n2 = m + 1, x = a2[n2];
          if (0 > g(C2, c3)) n2 < e3 && 0 > g(x, C2) ? (a2[d4] = x, a2[n2] = c3, d4 = n2) : (a2[d4] = C2, a2[m] = c3, d4 = m);
          else if (n2 < e3 && 0 > g(x, c3)) a2[d4] = x, a2[n2] = c3, d4 = n2;
          else break a;
        }
      }
      return b;
    }
    function g(a2, b) {
      var c3 = a2.sortIndex - b.sortIndex;
      return 0 !== c3 ? c3 : a2.id - b.id;
    }
    if ("object" === typeof performance && "function" === typeof performance.now) {
      l3 = performance;
      exports.unstable_now = function() {
        return l3.now();
      };
    } else {
      p3 = Date, q = p3.now();
      exports.unstable_now = function() {
        return p3.now() - q;
      };
    }
    var l3;
    var p3;
    var q;
    var r3 = [];
    var t2 = [];
    var u3 = 1;
    var v3 = null;
    var y2 = 3;
    var z = false;
    var A = false;
    var B = false;
    var D = "function" === typeof setTimeout ? setTimeout : null;
    var E = "function" === typeof clearTimeout ? clearTimeout : null;
    var F = "undefined" !== typeof setImmediate ? setImmediate : null;
    "undefined" !== typeof navigator && void 0 !== navigator.scheduling && void 0 !== navigator.scheduling.isInputPending && navigator.scheduling.isInputPending.bind(navigator.scheduling);
    function G(a2) {
      for (var b = h2(t2); null !== b; ) {
        if (null === b.callback) k(t2);
        else if (b.startTime <= a2) k(t2), b.sortIndex = b.expirationTime, f3(r3, b);
        else break;
        b = h2(t2);
      }
    }
    function H(a2) {
      B = false;
      G(a2);
      if (!A) if (null !== h2(r3)) A = true, I2(J);
      else {
        var b = h2(t2);
        null !== b && K(H, b.startTime - a2);
      }
    }
    function J(a2, b) {
      A = false;
      B && (B = false, E(L), L = -1);
      z = true;
      var c3 = y2;
      try {
        G(b);
        for (v3 = h2(r3); null !== v3 && (!(v3.expirationTime > b) || a2 && !M()); ) {
          var d4 = v3.callback;
          if ("function" === typeof d4) {
            v3.callback = null;
            y2 = v3.priorityLevel;
            var e3 = d4(v3.expirationTime <= b);
            b = exports.unstable_now();
            "function" === typeof e3 ? v3.callback = e3 : v3 === h2(r3) && k(r3);
            G(b);
          } else k(r3);
          v3 = h2(r3);
        }
        if (null !== v3) var w = true;
        else {
          var m = h2(t2);
          null !== m && K(H, m.startTime - b);
          w = false;
        }
        return w;
      } finally {
        v3 = null, y2 = c3, z = false;
      }
    }
    var N = false;
    var O = null;
    var L = -1;
    var P = 5;
    var Q2 = -1;
    function M() {
      return exports.unstable_now() - Q2 < P ? false : true;
    }
    function R() {
      if (null !== O) {
        var a2 = exports.unstable_now();
        Q2 = a2;
        var b = true;
        try {
          b = O(true, a2);
        } finally {
          b ? S() : (N = false, O = null);
        }
      } else N = false;
    }
    var S;
    if ("function" === typeof F) S = function() {
      F(R);
    };
    else if ("undefined" !== typeof MessageChannel) {
      T = new MessageChannel(), U = T.port2;
      T.port1.onmessage = R;
      S = function() {
        U.postMessage(null);
      };
    } else S = function() {
      D(R, 0);
    };
    var T;
    var U;
    function I2(a2) {
      O = a2;
      N || (N = true, S());
    }
    function K(a2, b) {
      L = D(function() {
        a2(exports.unstable_now());
      }, b);
    }
    exports.unstable_IdlePriority = 5;
    exports.unstable_ImmediatePriority = 1;
    exports.unstable_LowPriority = 4;
    exports.unstable_NormalPriority = 3;
    exports.unstable_Profiling = null;
    exports.unstable_UserBlockingPriority = 2;
    exports.unstable_cancelCallback = function(a2) {
      a2.callback = null;
    };
    exports.unstable_continueExecution = function() {
      A || z || (A = true, I2(J));
    };
    exports.unstable_forceFrameRate = function(a2) {
      0 > a2 || 125 < a2 ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : P = 0 < a2 ? Math.floor(1e3 / a2) : 5;
    };
    exports.unstable_getCurrentPriorityLevel = function() {
      return y2;
    };
    exports.unstable_getFirstCallbackNode = function() {
      return h2(r3);
    };
    exports.unstable_next = function(a2) {
      switch (y2) {
        case 1:
        case 2:
        case 3:
          var b = 3;
          break;
        default:
          b = y2;
      }
      var c3 = y2;
      y2 = b;
      try {
        return a2();
      } finally {
        y2 = c3;
      }
    };
    exports.unstable_pauseExecution = function() {
    };
    exports.unstable_requestPaint = function() {
    };
    exports.unstable_runWithPriority = function(a2, b) {
      switch (a2) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
          break;
        default:
          a2 = 3;
      }
      var c3 = y2;
      y2 = a2;
      try {
        return b();
      } finally {
        y2 = c3;
      }
    };
    exports.unstable_scheduleCallback = function(a2, b, c3) {
      var d4 = exports.unstable_now();
      "object" === typeof c3 && null !== c3 ? (c3 = c3.delay, c3 = "number" === typeof c3 && 0 < c3 ? d4 + c3 : d4) : c3 = d4;
      switch (a2) {
        case 1:
          var e3 = -1;
          break;
        case 2:
          e3 = 250;
          break;
        case 5:
          e3 = 1073741823;
          break;
        case 4:
          e3 = 1e4;
          break;
        default:
          e3 = 5e3;
      }
      e3 = c3 + e3;
      a2 = { id: u3++, callback: b, priorityLevel: a2, startTime: c3, expirationTime: e3, sortIndex: -1 };
      c3 > d4 ? (a2.sortIndex = c3, f3(t2, a2), null === h2(r3) && a2 === h2(t2) && (B ? (E(L), L = -1) : B = true, K(H, c3 - d4))) : (a2.sortIndex = e3, f3(r3, a2), A || z || (A = true, I2(J)));
      return a2;
    };
    exports.unstable_shouldYield = M;
    exports.unstable_wrapCallback = function(a2) {
      var b = y2;
      return function() {
        var c3 = y2;
        y2 = b;
        try {
          return a2.apply(this, arguments);
        } finally {
          y2 = c3;
        }
      };
    };
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/index.js
var require_scheduler = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/scheduler@0.23.2/node_modules/scheduler/index.js"(exports, module) {
    "use strict";
    if (true) {
      module.exports = require_scheduler_production_min();
    } else {
      module.exports = null;
    }
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js
var require_react_dom_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js"(exports) {
    "use strict";
    var aa = require_react();
    var ca = require_scheduler();
    function p3(a2) {
      for (var b = "https://reactjs.org/docs/error-decoder.html?invariant=" + a2, c3 = 1; c3 < arguments.length; c3++) b += "&args[]=" + encodeURIComponent(arguments[c3]);
      return "Minified React error #" + a2 + "; visit " + b + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";
    }
    var da = /* @__PURE__ */ new Set();
    var ea = {};
    function fa(a2, b) {
      ha(a2, b);
      ha(a2 + "Capture", b);
    }
    function ha(a2, b) {
      ea[a2] = b;
      for (a2 = 0; a2 < b.length; a2++) da.add(b[a2]);
    }
    var ia = !("undefined" === typeof window || "undefined" === typeof window.document || "undefined" === typeof window.document.createElement);
    var ja = Object.prototype.hasOwnProperty;
    var ka = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/;
    var la = {};
    var ma = {};
    function oa(a2) {
      if (ja.call(ma, a2)) return true;
      if (ja.call(la, a2)) return false;
      if (ka.test(a2)) return ma[a2] = true;
      la[a2] = true;
      return false;
    }
    function pa(a2, b, c3, d4) {
      if (null !== c3 && 0 === c3.type) return false;
      switch (typeof b) {
        case "function":
        case "symbol":
          return true;
        case "boolean":
          if (d4) return false;
          if (null !== c3) return !c3.acceptsBooleans;
          a2 = a2.toLowerCase().slice(0, 5);
          return "data-" !== a2 && "aria-" !== a2;
        default:
          return false;
      }
    }
    function qa(a2, b, c3, d4) {
      if (null === b || "undefined" === typeof b || pa(a2, b, c3, d4)) return true;
      if (d4) return false;
      if (null !== c3) switch (c3.type) {
        case 3:
          return !b;
        case 4:
          return false === b;
        case 5:
          return isNaN(b);
        case 6:
          return isNaN(b) || 1 > b;
      }
      return false;
    }
    function v3(a2, b, c3, d4, e3, f3, g) {
      this.acceptsBooleans = 2 === b || 3 === b || 4 === b;
      this.attributeName = d4;
      this.attributeNamespace = e3;
      this.mustUseProperty = c3;
      this.propertyName = a2;
      this.type = b;
      this.sanitizeURL = f3;
      this.removeEmptyString = g;
    }
    var z = {};
    "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a2) {
      z[a2] = new v3(a2, 0, false, a2, null, false, false);
    });
    [["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(a2) {
      var b = a2[0];
      z[b] = new v3(b, 1, false, a2[1], null, false, false);
    });
    ["contentEditable", "draggable", "spellCheck", "value"].forEach(function(a2) {
      z[a2] = new v3(a2, 2, false, a2.toLowerCase(), null, false, false);
    });
    ["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(a2) {
      z[a2] = new v3(a2, 2, false, a2, null, false, false);
    });
    "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a2) {
      z[a2] = new v3(a2, 3, false, a2.toLowerCase(), null, false, false);
    });
    ["checked", "multiple", "muted", "selected"].forEach(function(a2) {
      z[a2] = new v3(a2, 3, true, a2, null, false, false);
    });
    ["capture", "download"].forEach(function(a2) {
      z[a2] = new v3(a2, 4, false, a2, null, false, false);
    });
    ["cols", "rows", "size", "span"].forEach(function(a2) {
      z[a2] = new v3(a2, 6, false, a2, null, false, false);
    });
    ["rowSpan", "start"].forEach(function(a2) {
      z[a2] = new v3(a2, 5, false, a2.toLowerCase(), null, false, false);
    });
    var ra = /[\-:]([a-z])/g;
    function sa(a2) {
      return a2[1].toUpperCase();
    }
    "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a2) {
      var b = a2.replace(
        ra,
        sa
      );
      z[b] = new v3(b, 1, false, a2, null, false, false);
    });
    "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a2) {
      var b = a2.replace(ra, sa);
      z[b] = new v3(b, 1, false, a2, "http://www.w3.org/1999/xlink", false, false);
    });
    ["xml:base", "xml:lang", "xml:space"].forEach(function(a2) {
      var b = a2.replace(ra, sa);
      z[b] = new v3(b, 1, false, a2, "http://www.w3.org/XML/1998/namespace", false, false);
    });
    ["tabIndex", "crossOrigin"].forEach(function(a2) {
      z[a2] = new v3(a2, 1, false, a2.toLowerCase(), null, false, false);
    });
    z.xlinkHref = new v3("xlinkHref", 1, false, "xlink:href", "http://www.w3.org/1999/xlink", true, false);
    ["src", "href", "action", "formAction"].forEach(function(a2) {
      z[a2] = new v3(a2, 1, false, a2.toLowerCase(), null, true, true);
    });
    function ta(a2, b, c3, d4) {
      var e3 = z.hasOwnProperty(b) ? z[b] : null;
      if (null !== e3 ? 0 !== e3.type : d4 || !(2 < b.length) || "o" !== b[0] && "O" !== b[0] || "n" !== b[1] && "N" !== b[1]) qa(b, c3, e3, d4) && (c3 = null), d4 || null === e3 ? oa(b) && (null === c3 ? a2.removeAttribute(b) : a2.setAttribute(b, "" + c3)) : e3.mustUseProperty ? a2[e3.propertyName] = null === c3 ? 3 === e3.type ? false : "" : c3 : (b = e3.attributeName, d4 = e3.attributeNamespace, null === c3 ? a2.removeAttribute(b) : (e3 = e3.type, c3 = 3 === e3 || 4 === e3 && true === c3 ? "" : "" + c3, d4 ? a2.setAttributeNS(d4, b, c3) : a2.setAttribute(b, c3)));
    }
    var ua = aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
    var va = Symbol.for("react.element");
    var wa = Symbol.for("react.portal");
    var ya = Symbol.for("react.fragment");
    var za = Symbol.for("react.strict_mode");
    var Aa = Symbol.for("react.profiler");
    var Ba = Symbol.for("react.provider");
    var Ca = Symbol.for("react.context");
    var Da = Symbol.for("react.forward_ref");
    var Ea = Symbol.for("react.suspense");
    var Fa = Symbol.for("react.suspense_list");
    var Ga = Symbol.for("react.memo");
    var Ha = Symbol.for("react.lazy");
    Symbol.for("react.scope");
    Symbol.for("react.debug_trace_mode");
    var Ia = Symbol.for("react.offscreen");
    Symbol.for("react.legacy_hidden");
    Symbol.for("react.cache");
    Symbol.for("react.tracing_marker");
    var Ja = Symbol.iterator;
    function Ka(a2) {
      if (null === a2 || "object" !== typeof a2) return null;
      a2 = Ja && a2[Ja] || a2["@@iterator"];
      return "function" === typeof a2 ? a2 : null;
    }
    var A = Object.assign;
    var La;
    function Ma(a2) {
      if (void 0 === La) try {
        throw Error();
      } catch (c3) {
        var b = c3.stack.trim().match(/\n( *(at )?)/);
        La = b && b[1] || "";
      }
      return "\n" + La + a2;
    }
    var Na = false;
    function Oa(a2, b) {
      if (!a2 || Na) return "";
      Na = true;
      var c3 = Error.prepareStackTrace;
      Error.prepareStackTrace = void 0;
      try {
        if (b) if (b = function() {
          throw Error();
        }, Object.defineProperty(b.prototype, "props", { set: function() {
          throw Error();
        } }), "object" === typeof Reflect && Reflect.construct) {
          try {
            Reflect.construct(b, []);
          } catch (l3) {
            var d4 = l3;
          }
          Reflect.construct(a2, [], b);
        } else {
          try {
            b.call();
          } catch (l3) {
            d4 = l3;
          }
          a2.call(b.prototype);
        }
        else {
          try {
            throw Error();
          } catch (l3) {
            d4 = l3;
          }
          a2();
        }
      } catch (l3) {
        if (l3 && d4 && "string" === typeof l3.stack) {
          for (var e3 = l3.stack.split("\n"), f3 = d4.stack.split("\n"), g = e3.length - 1, h2 = f3.length - 1; 1 <= g && 0 <= h2 && e3[g] !== f3[h2]; ) h2--;
          for (; 1 <= g && 0 <= h2; g--, h2--) if (e3[g] !== f3[h2]) {
            if (1 !== g || 1 !== h2) {
              do
                if (g--, h2--, 0 > h2 || e3[g] !== f3[h2]) {
                  var k = "\n" + e3[g].replace(" at new ", " at ");
                  a2.displayName && k.includes("<anonymous>") && (k = k.replace("<anonymous>", a2.displayName));
                  return k;
                }
              while (1 <= g && 0 <= h2);
            }
            break;
          }
        }
      } finally {
        Na = false, Error.prepareStackTrace = c3;
      }
      return (a2 = a2 ? a2.displayName || a2.name : "") ? Ma(a2) : "";
    }
    function Pa(a2) {
      switch (a2.tag) {
        case 5:
          return Ma(a2.type);
        case 16:
          return Ma("Lazy");
        case 13:
          return Ma("Suspense");
        case 19:
          return Ma("SuspenseList");
        case 0:
        case 2:
        case 15:
          return a2 = Oa(a2.type, false), a2;
        case 11:
          return a2 = Oa(a2.type.render, false), a2;
        case 1:
          return a2 = Oa(a2.type, true), a2;
        default:
          return "";
      }
    }
    function Qa(a2) {
      if (null == a2) return null;
      if ("function" === typeof a2) return a2.displayName || a2.name || null;
      if ("string" === typeof a2) return a2;
      switch (a2) {
        case ya:
          return "Fragment";
        case wa:
          return "Portal";
        case Aa:
          return "Profiler";
        case za:
          return "StrictMode";
        case Ea:
          return "Suspense";
        case Fa:
          return "SuspenseList";
      }
      if ("object" === typeof a2) switch (a2.$$typeof) {
        case Ca:
          return (a2.displayName || "Context") + ".Consumer";
        case Ba:
          return (a2._context.displayName || "Context") + ".Provider";
        case Da:
          var b = a2.render;
          a2 = a2.displayName;
          a2 || (a2 = b.displayName || b.name || "", a2 = "" !== a2 ? "ForwardRef(" + a2 + ")" : "ForwardRef");
          return a2;
        case Ga:
          return b = a2.displayName || null, null !== b ? b : Qa(a2.type) || "Memo";
        case Ha:
          b = a2._payload;
          a2 = a2._init;
          try {
            return Qa(a2(b));
          } catch (c3) {
          }
      }
      return null;
    }
    function Ra(a2) {
      var b = a2.type;
      switch (a2.tag) {
        case 24:
          return "Cache";
        case 9:
          return (b.displayName || "Context") + ".Consumer";
        case 10:
          return (b._context.displayName || "Context") + ".Provider";
        case 18:
          return "DehydratedFragment";
        case 11:
          return a2 = b.render, a2 = a2.displayName || a2.name || "", b.displayName || ("" !== a2 ? "ForwardRef(" + a2 + ")" : "ForwardRef");
        case 7:
          return "Fragment";
        case 5:
          return b;
        case 4:
          return "Portal";
        case 3:
          return "Root";
        case 6:
          return "Text";
        case 16:
          return Qa(b);
        case 8:
          return b === za ? "StrictMode" : "Mode";
        case 22:
          return "Offscreen";
        case 12:
          return "Profiler";
        case 21:
          return "Scope";
        case 13:
          return "Suspense";
        case 19:
          return "SuspenseList";
        case 25:
          return "TracingMarker";
        case 1:
        case 0:
        case 17:
        case 2:
        case 14:
        case 15:
          if ("function" === typeof b) return b.displayName || b.name || null;
          if ("string" === typeof b) return b;
      }
      return null;
    }
    function Sa(a2) {
      switch (typeof a2) {
        case "boolean":
        case "number":
        case "string":
        case "undefined":
          return a2;
        case "object":
          return a2;
        default:
          return "";
      }
    }
    function Ta(a2) {
      var b = a2.type;
      return (a2 = a2.nodeName) && "input" === a2.toLowerCase() && ("checkbox" === b || "radio" === b);
    }
    function Ua(a2) {
      var b = Ta(a2) ? "checked" : "value", c3 = Object.getOwnPropertyDescriptor(a2.constructor.prototype, b), d4 = "" + a2[b];
      if (!a2.hasOwnProperty(b) && "undefined" !== typeof c3 && "function" === typeof c3.get && "function" === typeof c3.set) {
        var e3 = c3.get, f3 = c3.set;
        Object.defineProperty(a2, b, { configurable: true, get: function() {
          return e3.call(this);
        }, set: function(a3) {
          d4 = "" + a3;
          f3.call(this, a3);
        } });
        Object.defineProperty(a2, b, { enumerable: c3.enumerable });
        return { getValue: function() {
          return d4;
        }, setValue: function(a3) {
          d4 = "" + a3;
        }, stopTracking: function() {
          a2._valueTracker = null;
          delete a2[b];
        } };
      }
    }
    function Va(a2) {
      a2._valueTracker || (a2._valueTracker = Ua(a2));
    }
    function Wa(a2) {
      if (!a2) return false;
      var b = a2._valueTracker;
      if (!b) return true;
      var c3 = b.getValue();
      var d4 = "";
      a2 && (d4 = Ta(a2) ? a2.checked ? "true" : "false" : a2.value);
      a2 = d4;
      return a2 !== c3 ? (b.setValue(a2), true) : false;
    }
    function Xa(a2) {
      a2 = a2 || ("undefined" !== typeof document ? document : void 0);
      if ("undefined" === typeof a2) return null;
      try {
        return a2.activeElement || a2.body;
      } catch (b) {
        return a2.body;
      }
    }
    function Ya(a2, b) {
      var c3 = b.checked;
      return A({}, b, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: null != c3 ? c3 : a2._wrapperState.initialChecked });
    }
    function Za(a2, b) {
      var c3 = null == b.defaultValue ? "" : b.defaultValue, d4 = null != b.checked ? b.checked : b.defaultChecked;
      c3 = Sa(null != b.value ? b.value : c3);
      a2._wrapperState = { initialChecked: d4, initialValue: c3, controlled: "checkbox" === b.type || "radio" === b.type ? null != b.checked : null != b.value };
    }
    function ab(a2, b) {
      b = b.checked;
      null != b && ta(a2, "checked", b, false);
    }
    function bb(a2, b) {
      ab(a2, b);
      var c3 = Sa(b.value), d4 = b.type;
      if (null != c3) if ("number" === d4) {
        if (0 === c3 && "" === a2.value || a2.value != c3) a2.value = "" + c3;
      } else a2.value !== "" + c3 && (a2.value = "" + c3);
      else if ("submit" === d4 || "reset" === d4) {
        a2.removeAttribute("value");
        return;
      }
      b.hasOwnProperty("value") ? cb(a2, b.type, c3) : b.hasOwnProperty("defaultValue") && cb(a2, b.type, Sa(b.defaultValue));
      null == b.checked && null != b.defaultChecked && (a2.defaultChecked = !!b.defaultChecked);
    }
    function db(a2, b, c3) {
      if (b.hasOwnProperty("value") || b.hasOwnProperty("defaultValue")) {
        var d4 = b.type;
        if (!("submit" !== d4 && "reset" !== d4 || void 0 !== b.value && null !== b.value)) return;
        b = "" + a2._wrapperState.initialValue;
        c3 || b === a2.value || (a2.value = b);
        a2.defaultValue = b;
      }
      c3 = a2.name;
      "" !== c3 && (a2.name = "");
      a2.defaultChecked = !!a2._wrapperState.initialChecked;
      "" !== c3 && (a2.name = c3);
    }
    function cb(a2, b, c3) {
      if ("number" !== b || Xa(a2.ownerDocument) !== a2) null == c3 ? a2.defaultValue = "" + a2._wrapperState.initialValue : a2.defaultValue !== "" + c3 && (a2.defaultValue = "" + c3);
    }
    var eb = Array.isArray;
    function fb(a2, b, c3, d4) {
      a2 = a2.options;
      if (b) {
        b = {};
        for (var e3 = 0; e3 < c3.length; e3++) b["$" + c3[e3]] = true;
        for (c3 = 0; c3 < a2.length; c3++) e3 = b.hasOwnProperty("$" + a2[c3].value), a2[c3].selected !== e3 && (a2[c3].selected = e3), e3 && d4 && (a2[c3].defaultSelected = true);
      } else {
        c3 = "" + Sa(c3);
        b = null;
        for (e3 = 0; e3 < a2.length; e3++) {
          if (a2[e3].value === c3) {
            a2[e3].selected = true;
            d4 && (a2[e3].defaultSelected = true);
            return;
          }
          null !== b || a2[e3].disabled || (b = a2[e3]);
        }
        null !== b && (b.selected = true);
      }
    }
    function gb(a2, b) {
      if (null != b.dangerouslySetInnerHTML) throw Error(p3(91));
      return A({}, b, { value: void 0, defaultValue: void 0, children: "" + a2._wrapperState.initialValue });
    }
    function hb(a2, b) {
      var c3 = b.value;
      if (null == c3) {
        c3 = b.children;
        b = b.defaultValue;
        if (null != c3) {
          if (null != b) throw Error(p3(92));
          if (eb(c3)) {
            if (1 < c3.length) throw Error(p3(93));
            c3 = c3[0];
          }
          b = c3;
        }
        null == b && (b = "");
        c3 = b;
      }
      a2._wrapperState = { initialValue: Sa(c3) };
    }
    function ib(a2, b) {
      var c3 = Sa(b.value), d4 = Sa(b.defaultValue);
      null != c3 && (c3 = "" + c3, c3 !== a2.value && (a2.value = c3), null == b.defaultValue && a2.defaultValue !== c3 && (a2.defaultValue = c3));
      null != d4 && (a2.defaultValue = "" + d4);
    }
    function jb(a2) {
      var b = a2.textContent;
      b === a2._wrapperState.initialValue && "" !== b && null !== b && (a2.value = b);
    }
    function kb(a2) {
      switch (a2) {
        case "svg":
          return "http://www.w3.org/2000/svg";
        case "math":
          return "http://www.w3.org/1998/Math/MathML";
        default:
          return "http://www.w3.org/1999/xhtml";
      }
    }
    function lb(a2, b) {
      return null == a2 || "http://www.w3.org/1999/xhtml" === a2 ? kb(b) : "http://www.w3.org/2000/svg" === a2 && "foreignObject" === b ? "http://www.w3.org/1999/xhtml" : a2;
    }
    var mb;
    var nb = function(a2) {
      return "undefined" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function(b, c3, d4, e3) {
        MSApp.execUnsafeLocalFunction(function() {
          return a2(b, c3, d4, e3);
        });
      } : a2;
    }(function(a2, b) {
      if ("http://www.w3.org/2000/svg" !== a2.namespaceURI || "innerHTML" in a2) a2.innerHTML = b;
      else {
        mb = mb || document.createElement("div");
        mb.innerHTML = "<svg>" + b.valueOf().toString() + "</svg>";
        for (b = mb.firstChild; a2.firstChild; ) a2.removeChild(a2.firstChild);
        for (; b.firstChild; ) a2.appendChild(b.firstChild);
      }
    });
    function ob(a2, b) {
      if (b) {
        var c3 = a2.firstChild;
        if (c3 && c3 === a2.lastChild && 3 === c3.nodeType) {
          c3.nodeValue = b;
          return;
        }
      }
      a2.textContent = b;
    }
    var pb = {
      animationIterationCount: true,
      aspectRatio: true,
      borderImageOutset: true,
      borderImageSlice: true,
      borderImageWidth: true,
      boxFlex: true,
      boxFlexGroup: true,
      boxOrdinalGroup: true,
      columnCount: true,
      columns: true,
      flex: true,
      flexGrow: true,
      flexPositive: true,
      flexShrink: true,
      flexNegative: true,
      flexOrder: true,
      gridArea: true,
      gridRow: true,
      gridRowEnd: true,
      gridRowSpan: true,
      gridRowStart: true,
      gridColumn: true,
      gridColumnEnd: true,
      gridColumnSpan: true,
      gridColumnStart: true,
      fontWeight: true,
      lineClamp: true,
      lineHeight: true,
      opacity: true,
      order: true,
      orphans: true,
      tabSize: true,
      widows: true,
      zIndex: true,
      zoom: true,
      fillOpacity: true,
      floodOpacity: true,
      stopOpacity: true,
      strokeDasharray: true,
      strokeDashoffset: true,
      strokeMiterlimit: true,
      strokeOpacity: true,
      strokeWidth: true
    };
    var qb = ["Webkit", "ms", "Moz", "O"];
    Object.keys(pb).forEach(function(a2) {
      qb.forEach(function(b) {
        b = b + a2.charAt(0).toUpperCase() + a2.substring(1);
        pb[b] = pb[a2];
      });
    });
    function rb(a2, b, c3) {
      return null == b || "boolean" === typeof b || "" === b ? "" : c3 || "number" !== typeof b || 0 === b || pb.hasOwnProperty(a2) && pb[a2] ? ("" + b).trim() : b + "px";
    }
    function sb(a2, b) {
      a2 = a2.style;
      for (var c3 in b) if (b.hasOwnProperty(c3)) {
        var d4 = 0 === c3.indexOf("--"), e3 = rb(c3, b[c3], d4);
        "float" === c3 && (c3 = "cssFloat");
        d4 ? a2.setProperty(c3, e3) : a2[c3] = e3;
      }
    }
    var tb = A({ menuitem: true }, { area: true, base: true, br: true, col: true, embed: true, hr: true, img: true, input: true, keygen: true, link: true, meta: true, param: true, source: true, track: true, wbr: true });
    function ub(a2, b) {
      if (b) {
        if (tb[a2] && (null != b.children || null != b.dangerouslySetInnerHTML)) throw Error(p3(137, a2));
        if (null != b.dangerouslySetInnerHTML) {
          if (null != b.children) throw Error(p3(60));
          if ("object" !== typeof b.dangerouslySetInnerHTML || !("__html" in b.dangerouslySetInnerHTML)) throw Error(p3(61));
        }
        if (null != b.style && "object" !== typeof b.style) throw Error(p3(62));
      }
    }
    function vb(a2, b) {
      if (-1 === a2.indexOf("-")) return "string" === typeof b.is;
      switch (a2) {
        case "annotation-xml":
        case "color-profile":
        case "font-face":
        case "font-face-src":
        case "font-face-uri":
        case "font-face-format":
        case "font-face-name":
        case "missing-glyph":
          return false;
        default:
          return true;
      }
    }
    var wb = null;
    function xb(a2) {
      a2 = a2.target || a2.srcElement || window;
      a2.correspondingUseElement && (a2 = a2.correspondingUseElement);
      return 3 === a2.nodeType ? a2.parentNode : a2;
    }
    var yb = null;
    var zb = null;
    var Ab = null;
    function Bb(a2) {
      if (a2 = Cb(a2)) {
        if ("function" !== typeof yb) throw Error(p3(280));
        var b = a2.stateNode;
        b && (b = Db(b), yb(a2.stateNode, a2.type, b));
      }
    }
    function Eb(a2) {
      zb ? Ab ? Ab.push(a2) : Ab = [a2] : zb = a2;
    }
    function Fb() {
      if (zb) {
        var a2 = zb, b = Ab;
        Ab = zb = null;
        Bb(a2);
        if (b) for (a2 = 0; a2 < b.length; a2++) Bb(b[a2]);
      }
    }
    function Gb(a2, b) {
      return a2(b);
    }
    function Hb() {
    }
    var Ib = false;
    function Jb(a2, b, c3) {
      if (Ib) return a2(b, c3);
      Ib = true;
      try {
        return Gb(a2, b, c3);
      } finally {
        if (Ib = false, null !== zb || null !== Ab) Hb(), Fb();
      }
    }
    function Kb(a2, b) {
      var c3 = a2.stateNode;
      if (null === c3) return null;
      var d4 = Db(c3);
      if (null === d4) return null;
      c3 = d4[b];
      a: switch (b) {
        case "onClick":
        case "onClickCapture":
        case "onDoubleClick":
        case "onDoubleClickCapture":
        case "onMouseDown":
        case "onMouseDownCapture":
        case "onMouseMove":
        case "onMouseMoveCapture":
        case "onMouseUp":
        case "onMouseUpCapture":
        case "onMouseEnter":
          (d4 = !d4.disabled) || (a2 = a2.type, d4 = !("button" === a2 || "input" === a2 || "select" === a2 || "textarea" === a2));
          a2 = !d4;
          break a;
        default:
          a2 = false;
      }
      if (a2) return null;
      if (c3 && "function" !== typeof c3) throw Error(p3(231, b, typeof c3));
      return c3;
    }
    var Lb = false;
    if (ia) try {
      Mb = {};
      Object.defineProperty(Mb, "passive", { get: function() {
        Lb = true;
      } });
      window.addEventListener("test", Mb, Mb);
      window.removeEventListener("test", Mb, Mb);
    } catch (a2) {
      Lb = false;
    }
    var Mb;
    function Nb(a2, b, c3, d4, e3, f3, g, h2, k) {
      var l3 = Array.prototype.slice.call(arguments, 3);
      try {
        b.apply(c3, l3);
      } catch (m) {
        this.onError(m);
      }
    }
    var Ob = false;
    var Pb = null;
    var Qb = false;
    var Rb = null;
    var Sb = { onError: function(a2) {
      Ob = true;
      Pb = a2;
    } };
    function Tb(a2, b, c3, d4, e3, f3, g, h2, k) {
      Ob = false;
      Pb = null;
      Nb.apply(Sb, arguments);
    }
    function Ub(a2, b, c3, d4, e3, f3, g, h2, k) {
      Tb.apply(this, arguments);
      if (Ob) {
        if (Ob) {
          var l3 = Pb;
          Ob = false;
          Pb = null;
        } else throw Error(p3(198));
        Qb || (Qb = true, Rb = l3);
      }
    }
    function Vb(a2) {
      var b = a2, c3 = a2;
      if (a2.alternate) for (; b.return; ) b = b.return;
      else {
        a2 = b;
        do
          b = a2, 0 !== (b.flags & 4098) && (c3 = b.return), a2 = b.return;
        while (a2);
      }
      return 3 === b.tag ? c3 : null;
    }
    function Wb(a2) {
      if (13 === a2.tag) {
        var b = a2.memoizedState;
        null === b && (a2 = a2.alternate, null !== a2 && (b = a2.memoizedState));
        if (null !== b) return b.dehydrated;
      }
      return null;
    }
    function Xb(a2) {
      if (Vb(a2) !== a2) throw Error(p3(188));
    }
    function Yb(a2) {
      var b = a2.alternate;
      if (!b) {
        b = Vb(a2);
        if (null === b) throw Error(p3(188));
        return b !== a2 ? null : a2;
      }
      for (var c3 = a2, d4 = b; ; ) {
        var e3 = c3.return;
        if (null === e3) break;
        var f3 = e3.alternate;
        if (null === f3) {
          d4 = e3.return;
          if (null !== d4) {
            c3 = d4;
            continue;
          }
          break;
        }
        if (e3.child === f3.child) {
          for (f3 = e3.child; f3; ) {
            if (f3 === c3) return Xb(e3), a2;
            if (f3 === d4) return Xb(e3), b;
            f3 = f3.sibling;
          }
          throw Error(p3(188));
        }
        if (c3.return !== d4.return) c3 = e3, d4 = f3;
        else {
          for (var g = false, h2 = e3.child; h2; ) {
            if (h2 === c3) {
              g = true;
              c3 = e3;
              d4 = f3;
              break;
            }
            if (h2 === d4) {
              g = true;
              d4 = e3;
              c3 = f3;
              break;
            }
            h2 = h2.sibling;
          }
          if (!g) {
            for (h2 = f3.child; h2; ) {
              if (h2 === c3) {
                g = true;
                c3 = f3;
                d4 = e3;
                break;
              }
              if (h2 === d4) {
                g = true;
                d4 = f3;
                c3 = e3;
                break;
              }
              h2 = h2.sibling;
            }
            if (!g) throw Error(p3(189));
          }
        }
        if (c3.alternate !== d4) throw Error(p3(190));
      }
      if (3 !== c3.tag) throw Error(p3(188));
      return c3.stateNode.current === c3 ? a2 : b;
    }
    function Zb(a2) {
      a2 = Yb(a2);
      return null !== a2 ? $b(a2) : null;
    }
    function $b(a2) {
      if (5 === a2.tag || 6 === a2.tag) return a2;
      for (a2 = a2.child; null !== a2; ) {
        var b = $b(a2);
        if (null !== b) return b;
        a2 = a2.sibling;
      }
      return null;
    }
    var ac = ca.unstable_scheduleCallback;
    var bc = ca.unstable_cancelCallback;
    var cc = ca.unstable_shouldYield;
    var dc = ca.unstable_requestPaint;
    var B = ca.unstable_now;
    var ec = ca.unstable_getCurrentPriorityLevel;
    var fc = ca.unstable_ImmediatePriority;
    var gc = ca.unstable_UserBlockingPriority;
    var hc = ca.unstable_NormalPriority;
    var ic = ca.unstable_LowPriority;
    var jc = ca.unstable_IdlePriority;
    var kc = null;
    var lc = null;
    function mc(a2) {
      if (lc && "function" === typeof lc.onCommitFiberRoot) try {
        lc.onCommitFiberRoot(kc, a2, void 0, 128 === (a2.current.flags & 128));
      } catch (b) {
      }
    }
    var oc = Math.clz32 ? Math.clz32 : nc;
    var pc = Math.log;
    var qc = Math.LN2;
    function nc(a2) {
      a2 >>>= 0;
      return 0 === a2 ? 32 : 31 - (pc(a2) / qc | 0) | 0;
    }
    var rc = 64;
    var sc = 4194304;
    function tc(a2) {
      switch (a2 & -a2) {
        case 1:
          return 1;
        case 2:
          return 2;
        case 4:
          return 4;
        case 8:
          return 8;
        case 16:
          return 16;
        case 32:
          return 32;
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
          return a2 & 4194240;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          return a2 & 130023424;
        case 134217728:
          return 134217728;
        case 268435456:
          return 268435456;
        case 536870912:
          return 536870912;
        case 1073741824:
          return 1073741824;
        default:
          return a2;
      }
    }
    function uc(a2, b) {
      var c3 = a2.pendingLanes;
      if (0 === c3) return 0;
      var d4 = 0, e3 = a2.suspendedLanes, f3 = a2.pingedLanes, g = c3 & 268435455;
      if (0 !== g) {
        var h2 = g & ~e3;
        0 !== h2 ? d4 = tc(h2) : (f3 &= g, 0 !== f3 && (d4 = tc(f3)));
      } else g = c3 & ~e3, 0 !== g ? d4 = tc(g) : 0 !== f3 && (d4 = tc(f3));
      if (0 === d4) return 0;
      if (0 !== b && b !== d4 && 0 === (b & e3) && (e3 = d4 & -d4, f3 = b & -b, e3 >= f3 || 16 === e3 && 0 !== (f3 & 4194240))) return b;
      0 !== (d4 & 4) && (d4 |= c3 & 16);
      b = a2.entangledLanes;
      if (0 !== b) for (a2 = a2.entanglements, b &= d4; 0 < b; ) c3 = 31 - oc(b), e3 = 1 << c3, d4 |= a2[c3], b &= ~e3;
      return d4;
    }
    function vc(a2, b) {
      switch (a2) {
        case 1:
        case 2:
        case 4:
          return b + 250;
        case 8:
        case 16:
        case 32:
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
          return b + 5e3;
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          return -1;
        case 134217728:
        case 268435456:
        case 536870912:
        case 1073741824:
          return -1;
        default:
          return -1;
      }
    }
    function wc(a2, b) {
      for (var c3 = a2.suspendedLanes, d4 = a2.pingedLanes, e3 = a2.expirationTimes, f3 = a2.pendingLanes; 0 < f3; ) {
        var g = 31 - oc(f3), h2 = 1 << g, k = e3[g];
        if (-1 === k) {
          if (0 === (h2 & c3) || 0 !== (h2 & d4)) e3[g] = vc(h2, b);
        } else k <= b && (a2.expiredLanes |= h2);
        f3 &= ~h2;
      }
    }
    function xc(a2) {
      a2 = a2.pendingLanes & -1073741825;
      return 0 !== a2 ? a2 : a2 & 1073741824 ? 1073741824 : 0;
    }
    function yc() {
      var a2 = rc;
      rc <<= 1;
      0 === (rc & 4194240) && (rc = 64);
      return a2;
    }
    function zc(a2) {
      for (var b = [], c3 = 0; 31 > c3; c3++) b.push(a2);
      return b;
    }
    function Ac(a2, b, c3) {
      a2.pendingLanes |= b;
      536870912 !== b && (a2.suspendedLanes = 0, a2.pingedLanes = 0);
      a2 = a2.eventTimes;
      b = 31 - oc(b);
      a2[b] = c3;
    }
    function Bc(a2, b) {
      var c3 = a2.pendingLanes & ~b;
      a2.pendingLanes = b;
      a2.suspendedLanes = 0;
      a2.pingedLanes = 0;
      a2.expiredLanes &= b;
      a2.mutableReadLanes &= b;
      a2.entangledLanes &= b;
      b = a2.entanglements;
      var d4 = a2.eventTimes;
      for (a2 = a2.expirationTimes; 0 < c3; ) {
        var e3 = 31 - oc(c3), f3 = 1 << e3;
        b[e3] = 0;
        d4[e3] = -1;
        a2[e3] = -1;
        c3 &= ~f3;
      }
    }
    function Cc(a2, b) {
      var c3 = a2.entangledLanes |= b;
      for (a2 = a2.entanglements; c3; ) {
        var d4 = 31 - oc(c3), e3 = 1 << d4;
        e3 & b | a2[d4] & b && (a2[d4] |= b);
        c3 &= ~e3;
      }
    }
    var C2 = 0;
    function Dc(a2) {
      a2 &= -a2;
      return 1 < a2 ? 4 < a2 ? 0 !== (a2 & 268435455) ? 16 : 536870912 : 4 : 1;
    }
    var Ec;
    var Fc;
    var Gc;
    var Hc;
    var Ic;
    var Jc = false;
    var Kc = [];
    var Lc = null;
    var Mc = null;
    var Nc = null;
    var Oc = /* @__PURE__ */ new Map();
    var Pc = /* @__PURE__ */ new Map();
    var Qc = [];
    var Rc = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
    function Sc(a2, b) {
      switch (a2) {
        case "focusin":
        case "focusout":
          Lc = null;
          break;
        case "dragenter":
        case "dragleave":
          Mc = null;
          break;
        case "mouseover":
        case "mouseout":
          Nc = null;
          break;
        case "pointerover":
        case "pointerout":
          Oc.delete(b.pointerId);
          break;
        case "gotpointercapture":
        case "lostpointercapture":
          Pc.delete(b.pointerId);
      }
    }
    function Tc(a2, b, c3, d4, e3, f3) {
      if (null === a2 || a2.nativeEvent !== f3) return a2 = { blockedOn: b, domEventName: c3, eventSystemFlags: d4, nativeEvent: f3, targetContainers: [e3] }, null !== b && (b = Cb(b), null !== b && Fc(b)), a2;
      a2.eventSystemFlags |= d4;
      b = a2.targetContainers;
      null !== e3 && -1 === b.indexOf(e3) && b.push(e3);
      return a2;
    }
    function Uc(a2, b, c3, d4, e3) {
      switch (b) {
        case "focusin":
          return Lc = Tc(Lc, a2, b, c3, d4, e3), true;
        case "dragenter":
          return Mc = Tc(Mc, a2, b, c3, d4, e3), true;
        case "mouseover":
          return Nc = Tc(Nc, a2, b, c3, d4, e3), true;
        case "pointerover":
          var f3 = e3.pointerId;
          Oc.set(f3, Tc(Oc.get(f3) || null, a2, b, c3, d4, e3));
          return true;
        case "gotpointercapture":
          return f3 = e3.pointerId, Pc.set(f3, Tc(Pc.get(f3) || null, a2, b, c3, d4, e3)), true;
      }
      return false;
    }
    function Vc(a2) {
      var b = Wc(a2.target);
      if (null !== b) {
        var c3 = Vb(b);
        if (null !== c3) {
          if (b = c3.tag, 13 === b) {
            if (b = Wb(c3), null !== b) {
              a2.blockedOn = b;
              Ic(a2.priority, function() {
                Gc(c3);
              });
              return;
            }
          } else if (3 === b && c3.stateNode.current.memoizedState.isDehydrated) {
            a2.blockedOn = 3 === c3.tag ? c3.stateNode.containerInfo : null;
            return;
          }
        }
      }
      a2.blockedOn = null;
    }
    function Xc(a2) {
      if (null !== a2.blockedOn) return false;
      for (var b = a2.targetContainers; 0 < b.length; ) {
        var c3 = Yc(a2.domEventName, a2.eventSystemFlags, b[0], a2.nativeEvent);
        if (null === c3) {
          c3 = a2.nativeEvent;
          var d4 = new c3.constructor(c3.type, c3);
          wb = d4;
          c3.target.dispatchEvent(d4);
          wb = null;
        } else return b = Cb(c3), null !== b && Fc(b), a2.blockedOn = c3, false;
        b.shift();
      }
      return true;
    }
    function Zc(a2, b, c3) {
      Xc(a2) && c3.delete(b);
    }
    function $c() {
      Jc = false;
      null !== Lc && Xc(Lc) && (Lc = null);
      null !== Mc && Xc(Mc) && (Mc = null);
      null !== Nc && Xc(Nc) && (Nc = null);
      Oc.forEach(Zc);
      Pc.forEach(Zc);
    }
    function ad(a2, b) {
      a2.blockedOn === b && (a2.blockedOn = null, Jc || (Jc = true, ca.unstable_scheduleCallback(ca.unstable_NormalPriority, $c)));
    }
    function bd(a2) {
      function b(b2) {
        return ad(b2, a2);
      }
      if (0 < Kc.length) {
        ad(Kc[0], a2);
        for (var c3 = 1; c3 < Kc.length; c3++) {
          var d4 = Kc[c3];
          d4.blockedOn === a2 && (d4.blockedOn = null);
        }
      }
      null !== Lc && ad(Lc, a2);
      null !== Mc && ad(Mc, a2);
      null !== Nc && ad(Nc, a2);
      Oc.forEach(b);
      Pc.forEach(b);
      for (c3 = 0; c3 < Qc.length; c3++) d4 = Qc[c3], d4.blockedOn === a2 && (d4.blockedOn = null);
      for (; 0 < Qc.length && (c3 = Qc[0], null === c3.blockedOn); ) Vc(c3), null === c3.blockedOn && Qc.shift();
    }
    var cd = ua.ReactCurrentBatchConfig;
    var dd = true;
    function ed(a2, b, c3, d4) {
      var e3 = C2, f3 = cd.transition;
      cd.transition = null;
      try {
        C2 = 1, fd(a2, b, c3, d4);
      } finally {
        C2 = e3, cd.transition = f3;
      }
    }
    function gd(a2, b, c3, d4) {
      var e3 = C2, f3 = cd.transition;
      cd.transition = null;
      try {
        C2 = 4, fd(a2, b, c3, d4);
      } finally {
        C2 = e3, cd.transition = f3;
      }
    }
    function fd(a2, b, c3, d4) {
      if (dd) {
        var e3 = Yc(a2, b, c3, d4);
        if (null === e3) hd(a2, b, d4, id, c3), Sc(a2, d4);
        else if (Uc(e3, a2, b, c3, d4)) d4.stopPropagation();
        else if (Sc(a2, d4), b & 4 && -1 < Rc.indexOf(a2)) {
          for (; null !== e3; ) {
            var f3 = Cb(e3);
            null !== f3 && Ec(f3);
            f3 = Yc(a2, b, c3, d4);
            null === f3 && hd(a2, b, d4, id, c3);
            if (f3 === e3) break;
            e3 = f3;
          }
          null !== e3 && d4.stopPropagation();
        } else hd(a2, b, d4, null, c3);
      }
    }
    var id = null;
    function Yc(a2, b, c3, d4) {
      id = null;
      a2 = xb(d4);
      a2 = Wc(a2);
      if (null !== a2) if (b = Vb(a2), null === b) a2 = null;
      else if (c3 = b.tag, 13 === c3) {
        a2 = Wb(b);
        if (null !== a2) return a2;
        a2 = null;
      } else if (3 === c3) {
        if (b.stateNode.current.memoizedState.isDehydrated) return 3 === b.tag ? b.stateNode.containerInfo : null;
        a2 = null;
      } else b !== a2 && (a2 = null);
      id = a2;
      return null;
    }
    function jd(a2) {
      switch (a2) {
        case "cancel":
        case "click":
        case "close":
        case "contextmenu":
        case "copy":
        case "cut":
        case "auxclick":
        case "dblclick":
        case "dragend":
        case "dragstart":
        case "drop":
        case "focusin":
        case "focusout":
        case "input":
        case "invalid":
        case "keydown":
        case "keypress":
        case "keyup":
        case "mousedown":
        case "mouseup":
        case "paste":
        case "pause":
        case "play":
        case "pointercancel":
        case "pointerdown":
        case "pointerup":
        case "ratechange":
        case "reset":
        case "resize":
        case "seeked":
        case "submit":
        case "touchcancel":
        case "touchend":
        case "touchstart":
        case "volumechange":
        case "change":
        case "selectionchange":
        case "textInput":
        case "compositionstart":
        case "compositionend":
        case "compositionupdate":
        case "beforeblur":
        case "afterblur":
        case "beforeinput":
        case "blur":
        case "fullscreenchange":
        case "focus":
        case "hashchange":
        case "popstate":
        case "select":
        case "selectstart":
          return 1;
        case "drag":
        case "dragenter":
        case "dragexit":
        case "dragleave":
        case "dragover":
        case "mousemove":
        case "mouseout":
        case "mouseover":
        case "pointermove":
        case "pointerout":
        case "pointerover":
        case "scroll":
        case "toggle":
        case "touchmove":
        case "wheel":
        case "mouseenter":
        case "mouseleave":
        case "pointerenter":
        case "pointerleave":
          return 4;
        case "message":
          switch (ec()) {
            case fc:
              return 1;
            case gc:
              return 4;
            case hc:
            case ic:
              return 16;
            case jc:
              return 536870912;
            default:
              return 16;
          }
        default:
          return 16;
      }
    }
    var kd = null;
    var ld = null;
    var md = null;
    function nd() {
      if (md) return md;
      var a2, b = ld, c3 = b.length, d4, e3 = "value" in kd ? kd.value : kd.textContent, f3 = e3.length;
      for (a2 = 0; a2 < c3 && b[a2] === e3[a2]; a2++) ;
      var g = c3 - a2;
      for (d4 = 1; d4 <= g && b[c3 - d4] === e3[f3 - d4]; d4++) ;
      return md = e3.slice(a2, 1 < d4 ? 1 - d4 : void 0);
    }
    function od(a2) {
      var b = a2.keyCode;
      "charCode" in a2 ? (a2 = a2.charCode, 0 === a2 && 13 === b && (a2 = 13)) : a2 = b;
      10 === a2 && (a2 = 13);
      return 32 <= a2 || 13 === a2 ? a2 : 0;
    }
    function pd() {
      return true;
    }
    function qd() {
      return false;
    }
    function rd(a2) {
      function b(b2, d4, e3, f3, g) {
        this._reactName = b2;
        this._targetInst = e3;
        this.type = d4;
        this.nativeEvent = f3;
        this.target = g;
        this.currentTarget = null;
        for (var c3 in a2) a2.hasOwnProperty(c3) && (b2 = a2[c3], this[c3] = b2 ? b2(f3) : f3[c3]);
        this.isDefaultPrevented = (null != f3.defaultPrevented ? f3.defaultPrevented : false === f3.returnValue) ? pd : qd;
        this.isPropagationStopped = qd;
        return this;
      }
      A(b.prototype, { preventDefault: function() {
        this.defaultPrevented = true;
        var a3 = this.nativeEvent;
        a3 && (a3.preventDefault ? a3.preventDefault() : "unknown" !== typeof a3.returnValue && (a3.returnValue = false), this.isDefaultPrevented = pd);
      }, stopPropagation: function() {
        var a3 = this.nativeEvent;
        a3 && (a3.stopPropagation ? a3.stopPropagation() : "unknown" !== typeof a3.cancelBubble && (a3.cancelBubble = true), this.isPropagationStopped = pd);
      }, persist: function() {
      }, isPersistent: pd });
      return b;
    }
    var sd = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function(a2) {
      return a2.timeStamp || Date.now();
    }, defaultPrevented: 0, isTrusted: 0 };
    var td = rd(sd);
    var ud = A({}, sd, { view: 0, detail: 0 });
    var vd = rd(ud);
    var wd;
    var xd;
    var yd;
    var Ad = A({}, ud, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: zd, button: 0, buttons: 0, relatedTarget: function(a2) {
      return void 0 === a2.relatedTarget ? a2.fromElement === a2.srcElement ? a2.toElement : a2.fromElement : a2.relatedTarget;
    }, movementX: function(a2) {
      if ("movementX" in a2) return a2.movementX;
      a2 !== yd && (yd && "mousemove" === a2.type ? (wd = a2.screenX - yd.screenX, xd = a2.screenY - yd.screenY) : xd = wd = 0, yd = a2);
      return wd;
    }, movementY: function(a2) {
      return "movementY" in a2 ? a2.movementY : xd;
    } });
    var Bd = rd(Ad);
    var Cd = A({}, Ad, { dataTransfer: 0 });
    var Dd = rd(Cd);
    var Ed = A({}, ud, { relatedTarget: 0 });
    var Fd = rd(Ed);
    var Gd = A({}, sd, { animationName: 0, elapsedTime: 0, pseudoElement: 0 });
    var Hd = rd(Gd);
    var Id = A({}, sd, { clipboardData: function(a2) {
      return "clipboardData" in a2 ? a2.clipboardData : window.clipboardData;
    } });
    var Jd = rd(Id);
    var Kd = A({}, sd, { data: 0 });
    var Ld = rd(Kd);
    var Md = {
      Esc: "Escape",
      Spacebar: " ",
      Left: "ArrowLeft",
      Up: "ArrowUp",
      Right: "ArrowRight",
      Down: "ArrowDown",
      Del: "Delete",
      Win: "OS",
      Menu: "ContextMenu",
      Apps: "ContextMenu",
      Scroll: "ScrollLock",
      MozPrintableKey: "Unidentified"
    };
    var Nd = {
      8: "Backspace",
      9: "Tab",
      12: "Clear",
      13: "Enter",
      16: "Shift",
      17: "Control",
      18: "Alt",
      19: "Pause",
      20: "CapsLock",
      27: "Escape",
      32: " ",
      33: "PageUp",
      34: "PageDown",
      35: "End",
      36: "Home",
      37: "ArrowLeft",
      38: "ArrowUp",
      39: "ArrowRight",
      40: "ArrowDown",
      45: "Insert",
      46: "Delete",
      112: "F1",
      113: "F2",
      114: "F3",
      115: "F4",
      116: "F5",
      117: "F6",
      118: "F7",
      119: "F8",
      120: "F9",
      121: "F10",
      122: "F11",
      123: "F12",
      144: "NumLock",
      145: "ScrollLock",
      224: "Meta"
    };
    var Od = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" };
    function Pd(a2) {
      var b = this.nativeEvent;
      return b.getModifierState ? b.getModifierState(a2) : (a2 = Od[a2]) ? !!b[a2] : false;
    }
    function zd() {
      return Pd;
    }
    var Qd = A({}, ud, { key: function(a2) {
      if (a2.key) {
        var b = Md[a2.key] || a2.key;
        if ("Unidentified" !== b) return b;
      }
      return "keypress" === a2.type ? (a2 = od(a2), 13 === a2 ? "Enter" : String.fromCharCode(a2)) : "keydown" === a2.type || "keyup" === a2.type ? Nd[a2.keyCode] || "Unidentified" : "";
    }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: zd, charCode: function(a2) {
      return "keypress" === a2.type ? od(a2) : 0;
    }, keyCode: function(a2) {
      return "keydown" === a2.type || "keyup" === a2.type ? a2.keyCode : 0;
    }, which: function(a2) {
      return "keypress" === a2.type ? od(a2) : "keydown" === a2.type || "keyup" === a2.type ? a2.keyCode : 0;
    } });
    var Rd = rd(Qd);
    var Sd = A({}, Ad, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 });
    var Td = rd(Sd);
    var Ud = A({}, ud, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: zd });
    var Vd = rd(Ud);
    var Wd = A({}, sd, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 });
    var Xd = rd(Wd);
    var Yd = A({}, Ad, {
      deltaX: function(a2) {
        return "deltaX" in a2 ? a2.deltaX : "wheelDeltaX" in a2 ? -a2.wheelDeltaX : 0;
      },
      deltaY: function(a2) {
        return "deltaY" in a2 ? a2.deltaY : "wheelDeltaY" in a2 ? -a2.wheelDeltaY : "wheelDelta" in a2 ? -a2.wheelDelta : 0;
      },
      deltaZ: 0,
      deltaMode: 0
    });
    var Zd = rd(Yd);
    var $d = [9, 13, 27, 32];
    var ae = ia && "CompositionEvent" in window;
    var be = null;
    ia && "documentMode" in document && (be = document.documentMode);
    var ce = ia && "TextEvent" in window && !be;
    var de = ia && (!ae || be && 8 < be && 11 >= be);
    var ee = String.fromCharCode(32);
    var fe = false;
    function ge(a2, b) {
      switch (a2) {
        case "keyup":
          return -1 !== $d.indexOf(b.keyCode);
        case "keydown":
          return 229 !== b.keyCode;
        case "keypress":
        case "mousedown":
        case "focusout":
          return true;
        default:
          return false;
      }
    }
    function he(a2) {
      a2 = a2.detail;
      return "object" === typeof a2 && "data" in a2 ? a2.data : null;
    }
    var ie = false;
    function je(a2, b) {
      switch (a2) {
        case "compositionend":
          return he(b);
        case "keypress":
          if (32 !== b.which) return null;
          fe = true;
          return ee;
        case "textInput":
          return a2 = b.data, a2 === ee && fe ? null : a2;
        default:
          return null;
      }
    }
    function ke(a2, b) {
      if (ie) return "compositionend" === a2 || !ae && ge(a2, b) ? (a2 = nd(), md = ld = kd = null, ie = false, a2) : null;
      switch (a2) {
        case "paste":
          return null;
        case "keypress":
          if (!(b.ctrlKey || b.altKey || b.metaKey) || b.ctrlKey && b.altKey) {
            if (b.char && 1 < b.char.length) return b.char;
            if (b.which) return String.fromCharCode(b.which);
          }
          return null;
        case "compositionend":
          return de && "ko" !== b.locale ? null : b.data;
        default:
          return null;
      }
    }
    var le = { color: true, date: true, datetime: true, "datetime-local": true, email: true, month: true, number: true, password: true, range: true, search: true, tel: true, text: true, time: true, url: true, week: true };
    function me(a2) {
      var b = a2 && a2.nodeName && a2.nodeName.toLowerCase();
      return "input" === b ? !!le[a2.type] : "textarea" === b ? true : false;
    }
    function ne(a2, b, c3, d4) {
      Eb(d4);
      b = oe(b, "onChange");
      0 < b.length && (c3 = new td("onChange", "change", null, c3, d4), a2.push({ event: c3, listeners: b }));
    }
    var pe = null;
    var qe = null;
    function re(a2) {
      se(a2, 0);
    }
    function te(a2) {
      var b = ue(a2);
      if (Wa(b)) return a2;
    }
    function ve(a2, b) {
      if ("change" === a2) return b;
    }
    var we = false;
    if (ia) {
      if (ia) {
        ye = "oninput" in document;
        if (!ye) {
          ze = document.createElement("div");
          ze.setAttribute("oninput", "return;");
          ye = "function" === typeof ze.oninput;
        }
        xe = ye;
      } else xe = false;
      we = xe && (!document.documentMode || 9 < document.documentMode);
    }
    var xe;
    var ye;
    var ze;
    function Ae() {
      pe && (pe.detachEvent("onpropertychange", Be), qe = pe = null);
    }
    function Be(a2) {
      if ("value" === a2.propertyName && te(qe)) {
        var b = [];
        ne(b, qe, a2, xb(a2));
        Jb(re, b);
      }
    }
    function Ce(a2, b, c3) {
      "focusin" === a2 ? (Ae(), pe = b, qe = c3, pe.attachEvent("onpropertychange", Be)) : "focusout" === a2 && Ae();
    }
    function De(a2) {
      if ("selectionchange" === a2 || "keyup" === a2 || "keydown" === a2) return te(qe);
    }
    function Ee(a2, b) {
      if ("click" === a2) return te(b);
    }
    function Fe(a2, b) {
      if ("input" === a2 || "change" === a2) return te(b);
    }
    function Ge(a2, b) {
      return a2 === b && (0 !== a2 || 1 / a2 === 1 / b) || a2 !== a2 && b !== b;
    }
    var He = "function" === typeof Object.is ? Object.is : Ge;
    function Ie(a2, b) {
      if (He(a2, b)) return true;
      if ("object" !== typeof a2 || null === a2 || "object" !== typeof b || null === b) return false;
      var c3 = Object.keys(a2), d4 = Object.keys(b);
      if (c3.length !== d4.length) return false;
      for (d4 = 0; d4 < c3.length; d4++) {
        var e3 = c3[d4];
        if (!ja.call(b, e3) || !He(a2[e3], b[e3])) return false;
      }
      return true;
    }
    function Je(a2) {
      for (; a2 && a2.firstChild; ) a2 = a2.firstChild;
      return a2;
    }
    function Ke(a2, b) {
      var c3 = Je(a2);
      a2 = 0;
      for (var d4; c3; ) {
        if (3 === c3.nodeType) {
          d4 = a2 + c3.textContent.length;
          if (a2 <= b && d4 >= b) return { node: c3, offset: b - a2 };
          a2 = d4;
        }
        a: {
          for (; c3; ) {
            if (c3.nextSibling) {
              c3 = c3.nextSibling;
              break a;
            }
            c3 = c3.parentNode;
          }
          c3 = void 0;
        }
        c3 = Je(c3);
      }
    }
    function Le(a2, b) {
      return a2 && b ? a2 === b ? true : a2 && 3 === a2.nodeType ? false : b && 3 === b.nodeType ? Le(a2, b.parentNode) : "contains" in a2 ? a2.contains(b) : a2.compareDocumentPosition ? !!(a2.compareDocumentPosition(b) & 16) : false : false;
    }
    function Me() {
      for (var a2 = window, b = Xa(); b instanceof a2.HTMLIFrameElement; ) {
        try {
          var c3 = "string" === typeof b.contentWindow.location.href;
        } catch (d4) {
          c3 = false;
        }
        if (c3) a2 = b.contentWindow;
        else break;
        b = Xa(a2.document);
      }
      return b;
    }
    function Ne(a2) {
      var b = a2 && a2.nodeName && a2.nodeName.toLowerCase();
      return b && ("input" === b && ("text" === a2.type || "search" === a2.type || "tel" === a2.type || "url" === a2.type || "password" === a2.type) || "textarea" === b || "true" === a2.contentEditable);
    }
    function Oe(a2) {
      var b = Me(), c3 = a2.focusedElem, d4 = a2.selectionRange;
      if (b !== c3 && c3 && c3.ownerDocument && Le(c3.ownerDocument.documentElement, c3)) {
        if (null !== d4 && Ne(c3)) {
          if (b = d4.start, a2 = d4.end, void 0 === a2 && (a2 = b), "selectionStart" in c3) c3.selectionStart = b, c3.selectionEnd = Math.min(a2, c3.value.length);
          else if (a2 = (b = c3.ownerDocument || document) && b.defaultView || window, a2.getSelection) {
            a2 = a2.getSelection();
            var e3 = c3.textContent.length, f3 = Math.min(d4.start, e3);
            d4 = void 0 === d4.end ? f3 : Math.min(d4.end, e3);
            !a2.extend && f3 > d4 && (e3 = d4, d4 = f3, f3 = e3);
            e3 = Ke(c3, f3);
            var g = Ke(
              c3,
              d4
            );
            e3 && g && (1 !== a2.rangeCount || a2.anchorNode !== e3.node || a2.anchorOffset !== e3.offset || a2.focusNode !== g.node || a2.focusOffset !== g.offset) && (b = b.createRange(), b.setStart(e3.node, e3.offset), a2.removeAllRanges(), f3 > d4 ? (a2.addRange(b), a2.extend(g.node, g.offset)) : (b.setEnd(g.node, g.offset), a2.addRange(b)));
          }
        }
        b = [];
        for (a2 = c3; a2 = a2.parentNode; ) 1 === a2.nodeType && b.push({ element: a2, left: a2.scrollLeft, top: a2.scrollTop });
        "function" === typeof c3.focus && c3.focus();
        for (c3 = 0; c3 < b.length; c3++) a2 = b[c3], a2.element.scrollLeft = a2.left, a2.element.scrollTop = a2.top;
      }
    }
    var Pe = ia && "documentMode" in document && 11 >= document.documentMode;
    var Qe = null;
    var Re = null;
    var Se = null;
    var Te = false;
    function Ue(a2, b, c3) {
      var d4 = c3.window === c3 ? c3.document : 9 === c3.nodeType ? c3 : c3.ownerDocument;
      Te || null == Qe || Qe !== Xa(d4) || (d4 = Qe, "selectionStart" in d4 && Ne(d4) ? d4 = { start: d4.selectionStart, end: d4.selectionEnd } : (d4 = (d4.ownerDocument && d4.ownerDocument.defaultView || window).getSelection(), d4 = { anchorNode: d4.anchorNode, anchorOffset: d4.anchorOffset, focusNode: d4.focusNode, focusOffset: d4.focusOffset }), Se && Ie(Se, d4) || (Se = d4, d4 = oe(Re, "onSelect"), 0 < d4.length && (b = new td("onSelect", "select", null, b, c3), a2.push({ event: b, listeners: d4 }), b.target = Qe)));
    }
    function Ve(a2, b) {
      var c3 = {};
      c3[a2.toLowerCase()] = b.toLowerCase();
      c3["Webkit" + a2] = "webkit" + b;
      c3["Moz" + a2] = "moz" + b;
      return c3;
    }
    var We = { animationend: Ve("Animation", "AnimationEnd"), animationiteration: Ve("Animation", "AnimationIteration"), animationstart: Ve("Animation", "AnimationStart"), transitionend: Ve("Transition", "TransitionEnd") };
    var Xe = {};
    var Ye = {};
    ia && (Ye = document.createElement("div").style, "AnimationEvent" in window || (delete We.animationend.animation, delete We.animationiteration.animation, delete We.animationstart.animation), "TransitionEvent" in window || delete We.transitionend.transition);
    function Ze(a2) {
      if (Xe[a2]) return Xe[a2];
      if (!We[a2]) return a2;
      var b = We[a2], c3;
      for (c3 in b) if (b.hasOwnProperty(c3) && c3 in Ye) return Xe[a2] = b[c3];
      return a2;
    }
    var $e = Ze("animationend");
    var af = Ze("animationiteration");
    var bf = Ze("animationstart");
    var cf = Ze("transitionend");
    var df = /* @__PURE__ */ new Map();
    var ef = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
    function ff(a2, b) {
      df.set(a2, b);
      fa(b, [a2]);
    }
    for (gf = 0; gf < ef.length; gf++) {
      hf = ef[gf], jf = hf.toLowerCase(), kf = hf[0].toUpperCase() + hf.slice(1);
      ff(jf, "on" + kf);
    }
    var hf;
    var jf;
    var kf;
    var gf;
    ff($e, "onAnimationEnd");
    ff(af, "onAnimationIteration");
    ff(bf, "onAnimationStart");
    ff("dblclick", "onDoubleClick");
    ff("focusin", "onFocus");
    ff("focusout", "onBlur");
    ff(cf, "onTransitionEnd");
    ha("onMouseEnter", ["mouseout", "mouseover"]);
    ha("onMouseLeave", ["mouseout", "mouseover"]);
    ha("onPointerEnter", ["pointerout", "pointerover"]);
    ha("onPointerLeave", ["pointerout", "pointerover"]);
    fa("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" "));
    fa("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));
    fa("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
    fa("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" "));
    fa("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" "));
    fa("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
    var lf = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");
    var mf = new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));
    function nf(a2, b, c3) {
      var d4 = a2.type || "unknown-event";
      a2.currentTarget = c3;
      Ub(d4, b, void 0, a2);
      a2.currentTarget = null;
    }
    function se(a2, b) {
      b = 0 !== (b & 4);
      for (var c3 = 0; c3 < a2.length; c3++) {
        var d4 = a2[c3], e3 = d4.event;
        d4 = d4.listeners;
        a: {
          var f3 = void 0;
          if (b) for (var g = d4.length - 1; 0 <= g; g--) {
            var h2 = d4[g], k = h2.instance, l3 = h2.currentTarget;
            h2 = h2.listener;
            if (k !== f3 && e3.isPropagationStopped()) break a;
            nf(e3, h2, l3);
            f3 = k;
          }
          else for (g = 0; g < d4.length; g++) {
            h2 = d4[g];
            k = h2.instance;
            l3 = h2.currentTarget;
            h2 = h2.listener;
            if (k !== f3 && e3.isPropagationStopped()) break a;
            nf(e3, h2, l3);
            f3 = k;
          }
        }
      }
      if (Qb) throw a2 = Rb, Qb = false, Rb = null, a2;
    }
    function D(a2, b) {
      var c3 = b[of];
      void 0 === c3 && (c3 = b[of] = /* @__PURE__ */ new Set());
      var d4 = a2 + "__bubble";
      c3.has(d4) || (pf(b, a2, 2, false), c3.add(d4));
    }
    function qf(a2, b, c3) {
      var d4 = 0;
      b && (d4 |= 4);
      pf(c3, a2, d4, b);
    }
    var rf = "_reactListening" + Math.random().toString(36).slice(2);
    function sf(a2) {
      if (!a2[rf]) {
        a2[rf] = true;
        da.forEach(function(b2) {
          "selectionchange" !== b2 && (mf.has(b2) || qf(b2, false, a2), qf(b2, true, a2));
        });
        var b = 9 === a2.nodeType ? a2 : a2.ownerDocument;
        null === b || b[rf] || (b[rf] = true, qf("selectionchange", false, b));
      }
    }
    function pf(a2, b, c3, d4) {
      switch (jd(b)) {
        case 1:
          var e3 = ed;
          break;
        case 4:
          e3 = gd;
          break;
        default:
          e3 = fd;
      }
      c3 = e3.bind(null, b, c3, a2);
      e3 = void 0;
      !Lb || "touchstart" !== b && "touchmove" !== b && "wheel" !== b || (e3 = true);
      d4 ? void 0 !== e3 ? a2.addEventListener(b, c3, { capture: true, passive: e3 }) : a2.addEventListener(b, c3, true) : void 0 !== e3 ? a2.addEventListener(b, c3, { passive: e3 }) : a2.addEventListener(b, c3, false);
    }
    function hd(a2, b, c3, d4, e3) {
      var f3 = d4;
      if (0 === (b & 1) && 0 === (b & 2) && null !== d4) a: for (; ; ) {
        if (null === d4) return;
        var g = d4.tag;
        if (3 === g || 4 === g) {
          var h2 = d4.stateNode.containerInfo;
          if (h2 === e3 || 8 === h2.nodeType && h2.parentNode === e3) break;
          if (4 === g) for (g = d4.return; null !== g; ) {
            var k = g.tag;
            if (3 === k || 4 === k) {
              if (k = g.stateNode.containerInfo, k === e3 || 8 === k.nodeType && k.parentNode === e3) return;
            }
            g = g.return;
          }
          for (; null !== h2; ) {
            g = Wc(h2);
            if (null === g) return;
            k = g.tag;
            if (5 === k || 6 === k) {
              d4 = f3 = g;
              continue a;
            }
            h2 = h2.parentNode;
          }
        }
        d4 = d4.return;
      }
      Jb(function() {
        var d5 = f3, e4 = xb(c3), g2 = [];
        a: {
          var h3 = df.get(a2);
          if (void 0 !== h3) {
            var k2 = td, n2 = a2;
            switch (a2) {
              case "keypress":
                if (0 === od(c3)) break a;
              case "keydown":
              case "keyup":
                k2 = Rd;
                break;
              case "focusin":
                n2 = "focus";
                k2 = Fd;
                break;
              case "focusout":
                n2 = "blur";
                k2 = Fd;
                break;
              case "beforeblur":
              case "afterblur":
                k2 = Fd;
                break;
              case "click":
                if (2 === c3.button) break a;
              case "auxclick":
              case "dblclick":
              case "mousedown":
              case "mousemove":
              case "mouseup":
              case "mouseout":
              case "mouseover":
              case "contextmenu":
                k2 = Bd;
                break;
              case "drag":
              case "dragend":
              case "dragenter":
              case "dragexit":
              case "dragleave":
              case "dragover":
              case "dragstart":
              case "drop":
                k2 = Dd;
                break;
              case "touchcancel":
              case "touchend":
              case "touchmove":
              case "touchstart":
                k2 = Vd;
                break;
              case $e:
              case af:
              case bf:
                k2 = Hd;
                break;
              case cf:
                k2 = Xd;
                break;
              case "scroll":
                k2 = vd;
                break;
              case "wheel":
                k2 = Zd;
                break;
              case "copy":
              case "cut":
              case "paste":
                k2 = Jd;
                break;
              case "gotpointercapture":
              case "lostpointercapture":
              case "pointercancel":
              case "pointerdown":
              case "pointermove":
              case "pointerout":
              case "pointerover":
              case "pointerup":
                k2 = Td;
            }
            var t2 = 0 !== (b & 4), J = !t2 && "scroll" === a2, x = t2 ? null !== h3 ? h3 + "Capture" : null : h3;
            t2 = [];
            for (var w = d5, u3; null !== w; ) {
              u3 = w;
              var F = u3.stateNode;
              5 === u3.tag && null !== F && (u3 = F, null !== x && (F = Kb(w, x), null != F && t2.push(tf(w, F, u3))));
              if (J) break;
              w = w.return;
            }
            0 < t2.length && (h3 = new k2(h3, n2, null, c3, e4), g2.push({ event: h3, listeners: t2 }));
          }
        }
        if (0 === (b & 7)) {
          a: {
            h3 = "mouseover" === a2 || "pointerover" === a2;
            k2 = "mouseout" === a2 || "pointerout" === a2;
            if (h3 && c3 !== wb && (n2 = c3.relatedTarget || c3.fromElement) && (Wc(n2) || n2[uf])) break a;
            if (k2 || h3) {
              h3 = e4.window === e4 ? e4 : (h3 = e4.ownerDocument) ? h3.defaultView || h3.parentWindow : window;
              if (k2) {
                if (n2 = c3.relatedTarget || c3.toElement, k2 = d5, n2 = n2 ? Wc(n2) : null, null !== n2 && (J = Vb(n2), n2 !== J || 5 !== n2.tag && 6 !== n2.tag)) n2 = null;
              } else k2 = null, n2 = d5;
              if (k2 !== n2) {
                t2 = Bd;
                F = "onMouseLeave";
                x = "onMouseEnter";
                w = "mouse";
                if ("pointerout" === a2 || "pointerover" === a2) t2 = Td, F = "onPointerLeave", x = "onPointerEnter", w = "pointer";
                J = null == k2 ? h3 : ue(k2);
                u3 = null == n2 ? h3 : ue(n2);
                h3 = new t2(F, w + "leave", k2, c3, e4);
                h3.target = J;
                h3.relatedTarget = u3;
                F = null;
                Wc(e4) === d5 && (t2 = new t2(x, w + "enter", n2, c3, e4), t2.target = u3, t2.relatedTarget = J, F = t2);
                J = F;
                if (k2 && n2) b: {
                  t2 = k2;
                  x = n2;
                  w = 0;
                  for (u3 = t2; u3; u3 = vf(u3)) w++;
                  u3 = 0;
                  for (F = x; F; F = vf(F)) u3++;
                  for (; 0 < w - u3; ) t2 = vf(t2), w--;
                  for (; 0 < u3 - w; ) x = vf(x), u3--;
                  for (; w--; ) {
                    if (t2 === x || null !== x && t2 === x.alternate) break b;
                    t2 = vf(t2);
                    x = vf(x);
                  }
                  t2 = null;
                }
                else t2 = null;
                null !== k2 && wf(g2, h3, k2, t2, false);
                null !== n2 && null !== J && wf(g2, J, n2, t2, true);
              }
            }
          }
          a: {
            h3 = d5 ? ue(d5) : window;
            k2 = h3.nodeName && h3.nodeName.toLowerCase();
            if ("select" === k2 || "input" === k2 && "file" === h3.type) var na = ve;
            else if (me(h3)) if (we) na = Fe;
            else {
              na = De;
              var xa = Ce;
            }
            else (k2 = h3.nodeName) && "input" === k2.toLowerCase() && ("checkbox" === h3.type || "radio" === h3.type) && (na = Ee);
            if (na && (na = na(a2, d5))) {
              ne(g2, na, c3, e4);
              break a;
            }
            xa && xa(a2, h3, d5);
            "focusout" === a2 && (xa = h3._wrapperState) && xa.controlled && "number" === h3.type && cb(h3, "number", h3.value);
          }
          xa = d5 ? ue(d5) : window;
          switch (a2) {
            case "focusin":
              if (me(xa) || "true" === xa.contentEditable) Qe = xa, Re = d5, Se = null;
              break;
            case "focusout":
              Se = Re = Qe = null;
              break;
            case "mousedown":
              Te = true;
              break;
            case "contextmenu":
            case "mouseup":
            case "dragend":
              Te = false;
              Ue(g2, c3, e4);
              break;
            case "selectionchange":
              if (Pe) break;
            case "keydown":
            case "keyup":
              Ue(g2, c3, e4);
          }
          var $a;
          if (ae) b: {
            switch (a2) {
              case "compositionstart":
                var ba = "onCompositionStart";
                break b;
              case "compositionend":
                ba = "onCompositionEnd";
                break b;
              case "compositionupdate":
                ba = "onCompositionUpdate";
                break b;
            }
            ba = void 0;
          }
          else ie ? ge(a2, c3) && (ba = "onCompositionEnd") : "keydown" === a2 && 229 === c3.keyCode && (ba = "onCompositionStart");
          ba && (de && "ko" !== c3.locale && (ie || "onCompositionStart" !== ba ? "onCompositionEnd" === ba && ie && ($a = nd()) : (kd = e4, ld = "value" in kd ? kd.value : kd.textContent, ie = true)), xa = oe(d5, ba), 0 < xa.length && (ba = new Ld(ba, a2, null, c3, e4), g2.push({ event: ba, listeners: xa }), $a ? ba.data = $a : ($a = he(c3), null !== $a && (ba.data = $a))));
          if ($a = ce ? je(a2, c3) : ke(a2, c3)) d5 = oe(d5, "onBeforeInput"), 0 < d5.length && (e4 = new Ld("onBeforeInput", "beforeinput", null, c3, e4), g2.push({ event: e4, listeners: d5 }), e4.data = $a);
        }
        se(g2, b);
      });
    }
    function tf(a2, b, c3) {
      return { instance: a2, listener: b, currentTarget: c3 };
    }
    function oe(a2, b) {
      for (var c3 = b + "Capture", d4 = []; null !== a2; ) {
        var e3 = a2, f3 = e3.stateNode;
        5 === e3.tag && null !== f3 && (e3 = f3, f3 = Kb(a2, c3), null != f3 && d4.unshift(tf(a2, f3, e3)), f3 = Kb(a2, b), null != f3 && d4.push(tf(a2, f3, e3)));
        a2 = a2.return;
      }
      return d4;
    }
    function vf(a2) {
      if (null === a2) return null;
      do
        a2 = a2.return;
      while (a2 && 5 !== a2.tag);
      return a2 ? a2 : null;
    }
    function wf(a2, b, c3, d4, e3) {
      for (var f3 = b._reactName, g = []; null !== c3 && c3 !== d4; ) {
        var h2 = c3, k = h2.alternate, l3 = h2.stateNode;
        if (null !== k && k === d4) break;
        5 === h2.tag && null !== l3 && (h2 = l3, e3 ? (k = Kb(c3, f3), null != k && g.unshift(tf(c3, k, h2))) : e3 || (k = Kb(c3, f3), null != k && g.push(tf(c3, k, h2))));
        c3 = c3.return;
      }
      0 !== g.length && a2.push({ event: b, listeners: g });
    }
    var xf = /\r\n?/g;
    var yf = /\u0000|\uFFFD/g;
    function zf(a2) {
      return ("string" === typeof a2 ? a2 : "" + a2).replace(xf, "\n").replace(yf, "");
    }
    function Af(a2, b, c3) {
      b = zf(b);
      if (zf(a2) !== b && c3) throw Error(p3(425));
    }
    function Bf() {
    }
    var Cf = null;
    var Df = null;
    function Ef(a2, b) {
      return "textarea" === a2 || "noscript" === a2 || "string" === typeof b.children || "number" === typeof b.children || "object" === typeof b.dangerouslySetInnerHTML && null !== b.dangerouslySetInnerHTML && null != b.dangerouslySetInnerHTML.__html;
    }
    var Ff = "function" === typeof setTimeout ? setTimeout : void 0;
    var Gf = "function" === typeof clearTimeout ? clearTimeout : void 0;
    var Hf = "function" === typeof Promise ? Promise : void 0;
    var Jf = "function" === typeof queueMicrotask ? queueMicrotask : "undefined" !== typeof Hf ? function(a2) {
      return Hf.resolve(null).then(a2).catch(If);
    } : Ff;
    function If(a2) {
      setTimeout(function() {
        throw a2;
      });
    }
    function Kf(a2, b) {
      var c3 = b, d4 = 0;
      do {
        var e3 = c3.nextSibling;
        a2.removeChild(c3);
        if (e3 && 8 === e3.nodeType) if (c3 = e3.data, "/$" === c3) {
          if (0 === d4) {
            a2.removeChild(e3);
            bd(b);
            return;
          }
          d4--;
        } else "$" !== c3 && "$?" !== c3 && "$!" !== c3 || d4++;
        c3 = e3;
      } while (c3);
      bd(b);
    }
    function Lf(a2) {
      for (; null != a2; a2 = a2.nextSibling) {
        var b = a2.nodeType;
        if (1 === b || 3 === b) break;
        if (8 === b) {
          b = a2.data;
          if ("$" === b || "$!" === b || "$?" === b) break;
          if ("/$" === b) return null;
        }
      }
      return a2;
    }
    function Mf(a2) {
      a2 = a2.previousSibling;
      for (var b = 0; a2; ) {
        if (8 === a2.nodeType) {
          var c3 = a2.data;
          if ("$" === c3 || "$!" === c3 || "$?" === c3) {
            if (0 === b) return a2;
            b--;
          } else "/$" === c3 && b++;
        }
        a2 = a2.previousSibling;
      }
      return null;
    }
    var Nf = Math.random().toString(36).slice(2);
    var Of = "__reactFiber$" + Nf;
    var Pf = "__reactProps$" + Nf;
    var uf = "__reactContainer$" + Nf;
    var of = "__reactEvents$" + Nf;
    var Qf = "__reactListeners$" + Nf;
    var Rf = "__reactHandles$" + Nf;
    function Wc(a2) {
      var b = a2[Of];
      if (b) return b;
      for (var c3 = a2.parentNode; c3; ) {
        if (b = c3[uf] || c3[Of]) {
          c3 = b.alternate;
          if (null !== b.child || null !== c3 && null !== c3.child) for (a2 = Mf(a2); null !== a2; ) {
            if (c3 = a2[Of]) return c3;
            a2 = Mf(a2);
          }
          return b;
        }
        a2 = c3;
        c3 = a2.parentNode;
      }
      return null;
    }
    function Cb(a2) {
      a2 = a2[Of] || a2[uf];
      return !a2 || 5 !== a2.tag && 6 !== a2.tag && 13 !== a2.tag && 3 !== a2.tag ? null : a2;
    }
    function ue(a2) {
      if (5 === a2.tag || 6 === a2.tag) return a2.stateNode;
      throw Error(p3(33));
    }
    function Db(a2) {
      return a2[Pf] || null;
    }
    var Sf = [];
    var Tf = -1;
    function Uf(a2) {
      return { current: a2 };
    }
    function E(a2) {
      0 > Tf || (a2.current = Sf[Tf], Sf[Tf] = null, Tf--);
    }
    function G(a2, b) {
      Tf++;
      Sf[Tf] = a2.current;
      a2.current = b;
    }
    var Vf = {};
    var H = Uf(Vf);
    var Wf = Uf(false);
    var Xf = Vf;
    function Yf(a2, b) {
      var c3 = a2.type.contextTypes;
      if (!c3) return Vf;
      var d4 = a2.stateNode;
      if (d4 && d4.__reactInternalMemoizedUnmaskedChildContext === b) return d4.__reactInternalMemoizedMaskedChildContext;
      var e3 = {}, f3;
      for (f3 in c3) e3[f3] = b[f3];
      d4 && (a2 = a2.stateNode, a2.__reactInternalMemoizedUnmaskedChildContext = b, a2.__reactInternalMemoizedMaskedChildContext = e3);
      return e3;
    }
    function Zf(a2) {
      a2 = a2.childContextTypes;
      return null !== a2 && void 0 !== a2;
    }
    function $f() {
      E(Wf);
      E(H);
    }
    function ag(a2, b, c3) {
      if (H.current !== Vf) throw Error(p3(168));
      G(H, b);
      G(Wf, c3);
    }
    function bg(a2, b, c3) {
      var d4 = a2.stateNode;
      b = b.childContextTypes;
      if ("function" !== typeof d4.getChildContext) return c3;
      d4 = d4.getChildContext();
      for (var e3 in d4) if (!(e3 in b)) throw Error(p3(108, Ra(a2) || "Unknown", e3));
      return A({}, c3, d4);
    }
    function cg(a2) {
      a2 = (a2 = a2.stateNode) && a2.__reactInternalMemoizedMergedChildContext || Vf;
      Xf = H.current;
      G(H, a2);
      G(Wf, Wf.current);
      return true;
    }
    function dg(a2, b, c3) {
      var d4 = a2.stateNode;
      if (!d4) throw Error(p3(169));
      c3 ? (a2 = bg(a2, b, Xf), d4.__reactInternalMemoizedMergedChildContext = a2, E(Wf), E(H), G(H, a2)) : E(Wf);
      G(Wf, c3);
    }
    var eg = null;
    var fg = false;
    var gg = false;
    function hg(a2) {
      null === eg ? eg = [a2] : eg.push(a2);
    }
    function ig(a2) {
      fg = true;
      hg(a2);
    }
    function jg() {
      if (!gg && null !== eg) {
        gg = true;
        var a2 = 0, b = C2;
        try {
          var c3 = eg;
          for (C2 = 1; a2 < c3.length; a2++) {
            var d4 = c3[a2];
            do
              d4 = d4(true);
            while (null !== d4);
          }
          eg = null;
          fg = false;
        } catch (e3) {
          throw null !== eg && (eg = eg.slice(a2 + 1)), ac(fc, jg), e3;
        } finally {
          C2 = b, gg = false;
        }
      }
      return null;
    }
    var kg = [];
    var lg = 0;
    var mg = null;
    var ng = 0;
    var og = [];
    var pg = 0;
    var qg = null;
    var rg = 1;
    var sg = "";
    function tg(a2, b) {
      kg[lg++] = ng;
      kg[lg++] = mg;
      mg = a2;
      ng = b;
    }
    function ug(a2, b, c3) {
      og[pg++] = rg;
      og[pg++] = sg;
      og[pg++] = qg;
      qg = a2;
      var d4 = rg;
      a2 = sg;
      var e3 = 32 - oc(d4) - 1;
      d4 &= ~(1 << e3);
      c3 += 1;
      var f3 = 32 - oc(b) + e3;
      if (30 < f3) {
        var g = e3 - e3 % 5;
        f3 = (d4 & (1 << g) - 1).toString(32);
        d4 >>= g;
        e3 -= g;
        rg = 1 << 32 - oc(b) + e3 | c3 << e3 | d4;
        sg = f3 + a2;
      } else rg = 1 << f3 | c3 << e3 | d4, sg = a2;
    }
    function vg(a2) {
      null !== a2.return && (tg(a2, 1), ug(a2, 1, 0));
    }
    function wg(a2) {
      for (; a2 === mg; ) mg = kg[--lg], kg[lg] = null, ng = kg[--lg], kg[lg] = null;
      for (; a2 === qg; ) qg = og[--pg], og[pg] = null, sg = og[--pg], og[pg] = null, rg = og[--pg], og[pg] = null;
    }
    var xg = null;
    var yg = null;
    var I2 = false;
    var zg = null;
    function Ag(a2, b) {
      var c3 = Bg(5, null, null, 0);
      c3.elementType = "DELETED";
      c3.stateNode = b;
      c3.return = a2;
      b = a2.deletions;
      null === b ? (a2.deletions = [c3], a2.flags |= 16) : b.push(c3);
    }
    function Cg(a2, b) {
      switch (a2.tag) {
        case 5:
          var c3 = a2.type;
          b = 1 !== b.nodeType || c3.toLowerCase() !== b.nodeName.toLowerCase() ? null : b;
          return null !== b ? (a2.stateNode = b, xg = a2, yg = Lf(b.firstChild), true) : false;
        case 6:
          return b = "" === a2.pendingProps || 3 !== b.nodeType ? null : b, null !== b ? (a2.stateNode = b, xg = a2, yg = null, true) : false;
        case 13:
          return b = 8 !== b.nodeType ? null : b, null !== b ? (c3 = null !== qg ? { id: rg, overflow: sg } : null, a2.memoizedState = { dehydrated: b, treeContext: c3, retryLane: 1073741824 }, c3 = Bg(18, null, null, 0), c3.stateNode = b, c3.return = a2, a2.child = c3, xg = a2, yg = null, true) : false;
        default:
          return false;
      }
    }
    function Dg(a2) {
      return 0 !== (a2.mode & 1) && 0 === (a2.flags & 128);
    }
    function Eg(a2) {
      if (I2) {
        var b = yg;
        if (b) {
          var c3 = b;
          if (!Cg(a2, b)) {
            if (Dg(a2)) throw Error(p3(418));
            b = Lf(c3.nextSibling);
            var d4 = xg;
            b && Cg(a2, b) ? Ag(d4, c3) : (a2.flags = a2.flags & -4097 | 2, I2 = false, xg = a2);
          }
        } else {
          if (Dg(a2)) throw Error(p3(418));
          a2.flags = a2.flags & -4097 | 2;
          I2 = false;
          xg = a2;
        }
      }
    }
    function Fg(a2) {
      for (a2 = a2.return; null !== a2 && 5 !== a2.tag && 3 !== a2.tag && 13 !== a2.tag; ) a2 = a2.return;
      xg = a2;
    }
    function Gg(a2) {
      if (a2 !== xg) return false;
      if (!I2) return Fg(a2), I2 = true, false;
      var b;
      (b = 3 !== a2.tag) && !(b = 5 !== a2.tag) && (b = a2.type, b = "head" !== b && "body" !== b && !Ef(a2.type, a2.memoizedProps));
      if (b && (b = yg)) {
        if (Dg(a2)) throw Hg(), Error(p3(418));
        for (; b; ) Ag(a2, b), b = Lf(b.nextSibling);
      }
      Fg(a2);
      if (13 === a2.tag) {
        a2 = a2.memoizedState;
        a2 = null !== a2 ? a2.dehydrated : null;
        if (!a2) throw Error(p3(317));
        a: {
          a2 = a2.nextSibling;
          for (b = 0; a2; ) {
            if (8 === a2.nodeType) {
              var c3 = a2.data;
              if ("/$" === c3) {
                if (0 === b) {
                  yg = Lf(a2.nextSibling);
                  break a;
                }
                b--;
              } else "$" !== c3 && "$!" !== c3 && "$?" !== c3 || b++;
            }
            a2 = a2.nextSibling;
          }
          yg = null;
        }
      } else yg = xg ? Lf(a2.stateNode.nextSibling) : null;
      return true;
    }
    function Hg() {
      for (var a2 = yg; a2; ) a2 = Lf(a2.nextSibling);
    }
    function Ig() {
      yg = xg = null;
      I2 = false;
    }
    function Jg(a2) {
      null === zg ? zg = [a2] : zg.push(a2);
    }
    var Kg = ua.ReactCurrentBatchConfig;
    function Lg(a2, b, c3) {
      a2 = c3.ref;
      if (null !== a2 && "function" !== typeof a2 && "object" !== typeof a2) {
        if (c3._owner) {
          c3 = c3._owner;
          if (c3) {
            if (1 !== c3.tag) throw Error(p3(309));
            var d4 = c3.stateNode;
          }
          if (!d4) throw Error(p3(147, a2));
          var e3 = d4, f3 = "" + a2;
          if (null !== b && null !== b.ref && "function" === typeof b.ref && b.ref._stringRef === f3) return b.ref;
          b = function(a3) {
            var b2 = e3.refs;
            null === a3 ? delete b2[f3] : b2[f3] = a3;
          };
          b._stringRef = f3;
          return b;
        }
        if ("string" !== typeof a2) throw Error(p3(284));
        if (!c3._owner) throw Error(p3(290, a2));
      }
      return a2;
    }
    function Mg(a2, b) {
      a2 = Object.prototype.toString.call(b);
      throw Error(p3(31, "[object Object]" === a2 ? "object with keys {" + Object.keys(b).join(", ") + "}" : a2));
    }
    function Ng(a2) {
      var b = a2._init;
      return b(a2._payload);
    }
    function Og(a2) {
      function b(b2, c4) {
        if (a2) {
          var d5 = b2.deletions;
          null === d5 ? (b2.deletions = [c4], b2.flags |= 16) : d5.push(c4);
        }
      }
      function c3(c4, d5) {
        if (!a2) return null;
        for (; null !== d5; ) b(c4, d5), d5 = d5.sibling;
        return null;
      }
      function d4(a3, b2) {
        for (a3 = /* @__PURE__ */ new Map(); null !== b2; ) null !== b2.key ? a3.set(b2.key, b2) : a3.set(b2.index, b2), b2 = b2.sibling;
        return a3;
      }
      function e3(a3, b2) {
        a3 = Pg(a3, b2);
        a3.index = 0;
        a3.sibling = null;
        return a3;
      }
      function f3(b2, c4, d5) {
        b2.index = d5;
        if (!a2) return b2.flags |= 1048576, c4;
        d5 = b2.alternate;
        if (null !== d5) return d5 = d5.index, d5 < c4 ? (b2.flags |= 2, c4) : d5;
        b2.flags |= 2;
        return c4;
      }
      function g(b2) {
        a2 && null === b2.alternate && (b2.flags |= 2);
        return b2;
      }
      function h2(a3, b2, c4, d5) {
        if (null === b2 || 6 !== b2.tag) return b2 = Qg(c4, a3.mode, d5), b2.return = a3, b2;
        b2 = e3(b2, c4);
        b2.return = a3;
        return b2;
      }
      function k(a3, b2, c4, d5) {
        var f4 = c4.type;
        if (f4 === ya) return m(a3, b2, c4.props.children, d5, c4.key);
        if (null !== b2 && (b2.elementType === f4 || "object" === typeof f4 && null !== f4 && f4.$$typeof === Ha && Ng(f4) === b2.type)) return d5 = e3(b2, c4.props), d5.ref = Lg(a3, b2, c4), d5.return = a3, d5;
        d5 = Rg(c4.type, c4.key, c4.props, null, a3.mode, d5);
        d5.ref = Lg(a3, b2, c4);
        d5.return = a3;
        return d5;
      }
      function l3(a3, b2, c4, d5) {
        if (null === b2 || 4 !== b2.tag || b2.stateNode.containerInfo !== c4.containerInfo || b2.stateNode.implementation !== c4.implementation) return b2 = Sg(c4, a3.mode, d5), b2.return = a3, b2;
        b2 = e3(b2, c4.children || []);
        b2.return = a3;
        return b2;
      }
      function m(a3, b2, c4, d5, f4) {
        if (null === b2 || 7 !== b2.tag) return b2 = Tg(c4, a3.mode, d5, f4), b2.return = a3, b2;
        b2 = e3(b2, c4);
        b2.return = a3;
        return b2;
      }
      function q(a3, b2, c4) {
        if ("string" === typeof b2 && "" !== b2 || "number" === typeof b2) return b2 = Qg("" + b2, a3.mode, c4), b2.return = a3, b2;
        if ("object" === typeof b2 && null !== b2) {
          switch (b2.$$typeof) {
            case va:
              return c4 = Rg(b2.type, b2.key, b2.props, null, a3.mode, c4), c4.ref = Lg(a3, null, b2), c4.return = a3, c4;
            case wa:
              return b2 = Sg(b2, a3.mode, c4), b2.return = a3, b2;
            case Ha:
              var d5 = b2._init;
              return q(a3, d5(b2._payload), c4);
          }
          if (eb(b2) || Ka(b2)) return b2 = Tg(b2, a3.mode, c4, null), b2.return = a3, b2;
          Mg(a3, b2);
        }
        return null;
      }
      function r3(a3, b2, c4, d5) {
        var e4 = null !== b2 ? b2.key : null;
        if ("string" === typeof c4 && "" !== c4 || "number" === typeof c4) return null !== e4 ? null : h2(a3, b2, "" + c4, d5);
        if ("object" === typeof c4 && null !== c4) {
          switch (c4.$$typeof) {
            case va:
              return c4.key === e4 ? k(a3, b2, c4, d5) : null;
            case wa:
              return c4.key === e4 ? l3(a3, b2, c4, d5) : null;
            case Ha:
              return e4 = c4._init, r3(
                a3,
                b2,
                e4(c4._payload),
                d5
              );
          }
          if (eb(c4) || Ka(c4)) return null !== e4 ? null : m(a3, b2, c4, d5, null);
          Mg(a3, c4);
        }
        return null;
      }
      function y2(a3, b2, c4, d5, e4) {
        if ("string" === typeof d5 && "" !== d5 || "number" === typeof d5) return a3 = a3.get(c4) || null, h2(b2, a3, "" + d5, e4);
        if ("object" === typeof d5 && null !== d5) {
          switch (d5.$$typeof) {
            case va:
              return a3 = a3.get(null === d5.key ? c4 : d5.key) || null, k(b2, a3, d5, e4);
            case wa:
              return a3 = a3.get(null === d5.key ? c4 : d5.key) || null, l3(b2, a3, d5, e4);
            case Ha:
              var f4 = d5._init;
              return y2(a3, b2, c4, f4(d5._payload), e4);
          }
          if (eb(d5) || Ka(d5)) return a3 = a3.get(c4) || null, m(b2, a3, d5, e4, null);
          Mg(b2, d5);
        }
        return null;
      }
      function n2(e4, g2, h3, k2) {
        for (var l4 = null, m2 = null, u3 = g2, w = g2 = 0, x = null; null !== u3 && w < h3.length; w++) {
          u3.index > w ? (x = u3, u3 = null) : x = u3.sibling;
          var n3 = r3(e4, u3, h3[w], k2);
          if (null === n3) {
            null === u3 && (u3 = x);
            break;
          }
          a2 && u3 && null === n3.alternate && b(e4, u3);
          g2 = f3(n3, g2, w);
          null === m2 ? l4 = n3 : m2.sibling = n3;
          m2 = n3;
          u3 = x;
        }
        if (w === h3.length) return c3(e4, u3), I2 && tg(e4, w), l4;
        if (null === u3) {
          for (; w < h3.length; w++) u3 = q(e4, h3[w], k2), null !== u3 && (g2 = f3(u3, g2, w), null === m2 ? l4 = u3 : m2.sibling = u3, m2 = u3);
          I2 && tg(e4, w);
          return l4;
        }
        for (u3 = d4(e4, u3); w < h3.length; w++) x = y2(u3, e4, w, h3[w], k2), null !== x && (a2 && null !== x.alternate && u3.delete(null === x.key ? w : x.key), g2 = f3(x, g2, w), null === m2 ? l4 = x : m2.sibling = x, m2 = x);
        a2 && u3.forEach(function(a3) {
          return b(e4, a3);
        });
        I2 && tg(e4, w);
        return l4;
      }
      function t2(e4, g2, h3, k2) {
        var l4 = Ka(h3);
        if ("function" !== typeof l4) throw Error(p3(150));
        h3 = l4.call(h3);
        if (null == h3) throw Error(p3(151));
        for (var u3 = l4 = null, m2 = g2, w = g2 = 0, x = null, n3 = h3.next(); null !== m2 && !n3.done; w++, n3 = h3.next()) {
          m2.index > w ? (x = m2, m2 = null) : x = m2.sibling;
          var t3 = r3(e4, m2, n3.value, k2);
          if (null === t3) {
            null === m2 && (m2 = x);
            break;
          }
          a2 && m2 && null === t3.alternate && b(e4, m2);
          g2 = f3(t3, g2, w);
          null === u3 ? l4 = t3 : u3.sibling = t3;
          u3 = t3;
          m2 = x;
        }
        if (n3.done) return c3(
          e4,
          m2
        ), I2 && tg(e4, w), l4;
        if (null === m2) {
          for (; !n3.done; w++, n3 = h3.next()) n3 = q(e4, n3.value, k2), null !== n3 && (g2 = f3(n3, g2, w), null === u3 ? l4 = n3 : u3.sibling = n3, u3 = n3);
          I2 && tg(e4, w);
          return l4;
        }
        for (m2 = d4(e4, m2); !n3.done; w++, n3 = h3.next()) n3 = y2(m2, e4, w, n3.value, k2), null !== n3 && (a2 && null !== n3.alternate && m2.delete(null === n3.key ? w : n3.key), g2 = f3(n3, g2, w), null === u3 ? l4 = n3 : u3.sibling = n3, u3 = n3);
        a2 && m2.forEach(function(a3) {
          return b(e4, a3);
        });
        I2 && tg(e4, w);
        return l4;
      }
      function J(a3, d5, f4, h3) {
        "object" === typeof f4 && null !== f4 && f4.type === ya && null === f4.key && (f4 = f4.props.children);
        if ("object" === typeof f4 && null !== f4) {
          switch (f4.$$typeof) {
            case va:
              a: {
                for (var k2 = f4.key, l4 = d5; null !== l4; ) {
                  if (l4.key === k2) {
                    k2 = f4.type;
                    if (k2 === ya) {
                      if (7 === l4.tag) {
                        c3(a3, l4.sibling);
                        d5 = e3(l4, f4.props.children);
                        d5.return = a3;
                        a3 = d5;
                        break a;
                      }
                    } else if (l4.elementType === k2 || "object" === typeof k2 && null !== k2 && k2.$$typeof === Ha && Ng(k2) === l4.type) {
                      c3(a3, l4.sibling);
                      d5 = e3(l4, f4.props);
                      d5.ref = Lg(a3, l4, f4);
                      d5.return = a3;
                      a3 = d5;
                      break a;
                    }
                    c3(a3, l4);
                    break;
                  } else b(a3, l4);
                  l4 = l4.sibling;
                }
                f4.type === ya ? (d5 = Tg(f4.props.children, a3.mode, h3, f4.key), d5.return = a3, a3 = d5) : (h3 = Rg(f4.type, f4.key, f4.props, null, a3.mode, h3), h3.ref = Lg(a3, d5, f4), h3.return = a3, a3 = h3);
              }
              return g(a3);
            case wa:
              a: {
                for (l4 = f4.key; null !== d5; ) {
                  if (d5.key === l4) if (4 === d5.tag && d5.stateNode.containerInfo === f4.containerInfo && d5.stateNode.implementation === f4.implementation) {
                    c3(a3, d5.sibling);
                    d5 = e3(d5, f4.children || []);
                    d5.return = a3;
                    a3 = d5;
                    break a;
                  } else {
                    c3(a3, d5);
                    break;
                  }
                  else b(a3, d5);
                  d5 = d5.sibling;
                }
                d5 = Sg(f4, a3.mode, h3);
                d5.return = a3;
                a3 = d5;
              }
              return g(a3);
            case Ha:
              return l4 = f4._init, J(a3, d5, l4(f4._payload), h3);
          }
          if (eb(f4)) return n2(a3, d5, f4, h3);
          if (Ka(f4)) return t2(a3, d5, f4, h3);
          Mg(a3, f4);
        }
        return "string" === typeof f4 && "" !== f4 || "number" === typeof f4 ? (f4 = "" + f4, null !== d5 && 6 === d5.tag ? (c3(a3, d5.sibling), d5 = e3(d5, f4), d5.return = a3, a3 = d5) : (c3(a3, d5), d5 = Qg(f4, a3.mode, h3), d5.return = a3, a3 = d5), g(a3)) : c3(a3, d5);
      }
      return J;
    }
    var Ug = Og(true);
    var Vg = Og(false);
    var Wg = Uf(null);
    var Xg = null;
    var Yg = null;
    var Zg = null;
    function $g() {
      Zg = Yg = Xg = null;
    }
    function ah(a2) {
      var b = Wg.current;
      E(Wg);
      a2._currentValue = b;
    }
    function bh(a2, b, c3) {
      for (; null !== a2; ) {
        var d4 = a2.alternate;
        (a2.childLanes & b) !== b ? (a2.childLanes |= b, null !== d4 && (d4.childLanes |= b)) : null !== d4 && (d4.childLanes & b) !== b && (d4.childLanes |= b);
        if (a2 === c3) break;
        a2 = a2.return;
      }
    }
    function ch(a2, b) {
      Xg = a2;
      Zg = Yg = null;
      a2 = a2.dependencies;
      null !== a2 && null !== a2.firstContext && (0 !== (a2.lanes & b) && (dh = true), a2.firstContext = null);
    }
    function eh(a2) {
      var b = a2._currentValue;
      if (Zg !== a2) if (a2 = { context: a2, memoizedValue: b, next: null }, null === Yg) {
        if (null === Xg) throw Error(p3(308));
        Yg = a2;
        Xg.dependencies = { lanes: 0, firstContext: a2 };
      } else Yg = Yg.next = a2;
      return b;
    }
    var fh = null;
    function gh(a2) {
      null === fh ? fh = [a2] : fh.push(a2);
    }
    function hh(a2, b, c3, d4) {
      var e3 = b.interleaved;
      null === e3 ? (c3.next = c3, gh(b)) : (c3.next = e3.next, e3.next = c3);
      b.interleaved = c3;
      return ih(a2, d4);
    }
    function ih(a2, b) {
      a2.lanes |= b;
      var c3 = a2.alternate;
      null !== c3 && (c3.lanes |= b);
      c3 = a2;
      for (a2 = a2.return; null !== a2; ) a2.childLanes |= b, c3 = a2.alternate, null !== c3 && (c3.childLanes |= b), c3 = a2, a2 = a2.return;
      return 3 === c3.tag ? c3.stateNode : null;
    }
    var jh = false;
    function kh(a2) {
      a2.updateQueue = { baseState: a2.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, interleaved: null, lanes: 0 }, effects: null };
    }
    function lh(a2, b) {
      a2 = a2.updateQueue;
      b.updateQueue === a2 && (b.updateQueue = { baseState: a2.baseState, firstBaseUpdate: a2.firstBaseUpdate, lastBaseUpdate: a2.lastBaseUpdate, shared: a2.shared, effects: a2.effects });
    }
    function mh(a2, b) {
      return { eventTime: a2, lane: b, tag: 0, payload: null, callback: null, next: null };
    }
    function nh(a2, b, c3) {
      var d4 = a2.updateQueue;
      if (null === d4) return null;
      d4 = d4.shared;
      if (0 !== (K & 2)) {
        var e3 = d4.pending;
        null === e3 ? b.next = b : (b.next = e3.next, e3.next = b);
        d4.pending = b;
        return ih(a2, c3);
      }
      e3 = d4.interleaved;
      null === e3 ? (b.next = b, gh(d4)) : (b.next = e3.next, e3.next = b);
      d4.interleaved = b;
      return ih(a2, c3);
    }
    function oh(a2, b, c3) {
      b = b.updateQueue;
      if (null !== b && (b = b.shared, 0 !== (c3 & 4194240))) {
        var d4 = b.lanes;
        d4 &= a2.pendingLanes;
        c3 |= d4;
        b.lanes = c3;
        Cc(a2, c3);
      }
    }
    function ph(a2, b) {
      var c3 = a2.updateQueue, d4 = a2.alternate;
      if (null !== d4 && (d4 = d4.updateQueue, c3 === d4)) {
        var e3 = null, f3 = null;
        c3 = c3.firstBaseUpdate;
        if (null !== c3) {
          do {
            var g = { eventTime: c3.eventTime, lane: c3.lane, tag: c3.tag, payload: c3.payload, callback: c3.callback, next: null };
            null === f3 ? e3 = f3 = g : f3 = f3.next = g;
            c3 = c3.next;
          } while (null !== c3);
          null === f3 ? e3 = f3 = b : f3 = f3.next = b;
        } else e3 = f3 = b;
        c3 = { baseState: d4.baseState, firstBaseUpdate: e3, lastBaseUpdate: f3, shared: d4.shared, effects: d4.effects };
        a2.updateQueue = c3;
        return;
      }
      a2 = c3.lastBaseUpdate;
      null === a2 ? c3.firstBaseUpdate = b : a2.next = b;
      c3.lastBaseUpdate = b;
    }
    function qh(a2, b, c3, d4) {
      var e3 = a2.updateQueue;
      jh = false;
      var f3 = e3.firstBaseUpdate, g = e3.lastBaseUpdate, h2 = e3.shared.pending;
      if (null !== h2) {
        e3.shared.pending = null;
        var k = h2, l3 = k.next;
        k.next = null;
        null === g ? f3 = l3 : g.next = l3;
        g = k;
        var m = a2.alternate;
        null !== m && (m = m.updateQueue, h2 = m.lastBaseUpdate, h2 !== g && (null === h2 ? m.firstBaseUpdate = l3 : h2.next = l3, m.lastBaseUpdate = k));
      }
      if (null !== f3) {
        var q = e3.baseState;
        g = 0;
        m = l3 = k = null;
        h2 = f3;
        do {
          var r3 = h2.lane, y2 = h2.eventTime;
          if ((d4 & r3) === r3) {
            null !== m && (m = m.next = {
              eventTime: y2,
              lane: 0,
              tag: h2.tag,
              payload: h2.payload,
              callback: h2.callback,
              next: null
            });
            a: {
              var n2 = a2, t2 = h2;
              r3 = b;
              y2 = c3;
              switch (t2.tag) {
                case 1:
                  n2 = t2.payload;
                  if ("function" === typeof n2) {
                    q = n2.call(y2, q, r3);
                    break a;
                  }
                  q = n2;
                  break a;
                case 3:
                  n2.flags = n2.flags & -65537 | 128;
                case 0:
                  n2 = t2.payload;
                  r3 = "function" === typeof n2 ? n2.call(y2, q, r3) : n2;
                  if (null === r3 || void 0 === r3) break a;
                  q = A({}, q, r3);
                  break a;
                case 2:
                  jh = true;
              }
            }
            null !== h2.callback && 0 !== h2.lane && (a2.flags |= 64, r3 = e3.effects, null === r3 ? e3.effects = [h2] : r3.push(h2));
          } else y2 = { eventTime: y2, lane: r3, tag: h2.tag, payload: h2.payload, callback: h2.callback, next: null }, null === m ? (l3 = m = y2, k = q) : m = m.next = y2, g |= r3;
          h2 = h2.next;
          if (null === h2) if (h2 = e3.shared.pending, null === h2) break;
          else r3 = h2, h2 = r3.next, r3.next = null, e3.lastBaseUpdate = r3, e3.shared.pending = null;
        } while (1);
        null === m && (k = q);
        e3.baseState = k;
        e3.firstBaseUpdate = l3;
        e3.lastBaseUpdate = m;
        b = e3.shared.interleaved;
        if (null !== b) {
          e3 = b;
          do
            g |= e3.lane, e3 = e3.next;
          while (e3 !== b);
        } else null === f3 && (e3.shared.lanes = 0);
        rh |= g;
        a2.lanes = g;
        a2.memoizedState = q;
      }
    }
    function sh(a2, b, c3) {
      a2 = b.effects;
      b.effects = null;
      if (null !== a2) for (b = 0; b < a2.length; b++) {
        var d4 = a2[b], e3 = d4.callback;
        if (null !== e3) {
          d4.callback = null;
          d4 = c3;
          if ("function" !== typeof e3) throw Error(p3(191, e3));
          e3.call(d4);
        }
      }
    }
    var th = {};
    var uh = Uf(th);
    var vh = Uf(th);
    var wh = Uf(th);
    function xh(a2) {
      if (a2 === th) throw Error(p3(174));
      return a2;
    }
    function yh(a2, b) {
      G(wh, b);
      G(vh, a2);
      G(uh, th);
      a2 = b.nodeType;
      switch (a2) {
        case 9:
        case 11:
          b = (b = b.documentElement) ? b.namespaceURI : lb(null, "");
          break;
        default:
          a2 = 8 === a2 ? b.parentNode : b, b = a2.namespaceURI || null, a2 = a2.tagName, b = lb(b, a2);
      }
      E(uh);
      G(uh, b);
    }
    function zh() {
      E(uh);
      E(vh);
      E(wh);
    }
    function Ah(a2) {
      xh(wh.current);
      var b = xh(uh.current);
      var c3 = lb(b, a2.type);
      b !== c3 && (G(vh, a2), G(uh, c3));
    }
    function Bh(a2) {
      vh.current === a2 && (E(uh), E(vh));
    }
    var L = Uf(0);
    function Ch(a2) {
      for (var b = a2; null !== b; ) {
        if (13 === b.tag) {
          var c3 = b.memoizedState;
          if (null !== c3 && (c3 = c3.dehydrated, null === c3 || "$?" === c3.data || "$!" === c3.data)) return b;
        } else if (19 === b.tag && void 0 !== b.memoizedProps.revealOrder) {
          if (0 !== (b.flags & 128)) return b;
        } else if (null !== b.child) {
          b.child.return = b;
          b = b.child;
          continue;
        }
        if (b === a2) break;
        for (; null === b.sibling; ) {
          if (null === b.return || b.return === a2) return null;
          b = b.return;
        }
        b.sibling.return = b.return;
        b = b.sibling;
      }
      return null;
    }
    var Dh = [];
    function Eh() {
      for (var a2 = 0; a2 < Dh.length; a2++) Dh[a2]._workInProgressVersionPrimary = null;
      Dh.length = 0;
    }
    var Fh = ua.ReactCurrentDispatcher;
    var Gh = ua.ReactCurrentBatchConfig;
    var Hh = 0;
    var M = null;
    var N = null;
    var O = null;
    var Ih = false;
    var Jh = false;
    var Kh = 0;
    var Lh = 0;
    function P() {
      throw Error(p3(321));
    }
    function Mh(a2, b) {
      if (null === b) return false;
      for (var c3 = 0; c3 < b.length && c3 < a2.length; c3++) if (!He(a2[c3], b[c3])) return false;
      return true;
    }
    function Nh(a2, b, c3, d4, e3, f3) {
      Hh = f3;
      M = b;
      b.memoizedState = null;
      b.updateQueue = null;
      b.lanes = 0;
      Fh.current = null === a2 || null === a2.memoizedState ? Oh : Ph;
      a2 = c3(d4, e3);
      if (Jh) {
        f3 = 0;
        do {
          Jh = false;
          Kh = 0;
          if (25 <= f3) throw Error(p3(301));
          f3 += 1;
          O = N = null;
          b.updateQueue = null;
          Fh.current = Qh;
          a2 = c3(d4, e3);
        } while (Jh);
      }
      Fh.current = Rh;
      b = null !== N && null !== N.next;
      Hh = 0;
      O = N = M = null;
      Ih = false;
      if (b) throw Error(p3(300));
      return a2;
    }
    function Sh() {
      var a2 = 0 !== Kh;
      Kh = 0;
      return a2;
    }
    function Th() {
      var a2 = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null };
      null === O ? M.memoizedState = O = a2 : O = O.next = a2;
      return O;
    }
    function Uh() {
      if (null === N) {
        var a2 = M.alternate;
        a2 = null !== a2 ? a2.memoizedState : null;
      } else a2 = N.next;
      var b = null === O ? M.memoizedState : O.next;
      if (null !== b) O = b, N = a2;
      else {
        if (null === a2) throw Error(p3(310));
        N = a2;
        a2 = { memoizedState: N.memoizedState, baseState: N.baseState, baseQueue: N.baseQueue, queue: N.queue, next: null };
        null === O ? M.memoizedState = O = a2 : O = O.next = a2;
      }
      return O;
    }
    function Vh(a2, b) {
      return "function" === typeof b ? b(a2) : b;
    }
    function Wh(a2) {
      var b = Uh(), c3 = b.queue;
      if (null === c3) throw Error(p3(311));
      c3.lastRenderedReducer = a2;
      var d4 = N, e3 = d4.baseQueue, f3 = c3.pending;
      if (null !== f3) {
        if (null !== e3) {
          var g = e3.next;
          e3.next = f3.next;
          f3.next = g;
        }
        d4.baseQueue = e3 = f3;
        c3.pending = null;
      }
      if (null !== e3) {
        f3 = e3.next;
        d4 = d4.baseState;
        var h2 = g = null, k = null, l3 = f3;
        do {
          var m = l3.lane;
          if ((Hh & m) === m) null !== k && (k = k.next = { lane: 0, action: l3.action, hasEagerState: l3.hasEagerState, eagerState: l3.eagerState, next: null }), d4 = l3.hasEagerState ? l3.eagerState : a2(d4, l3.action);
          else {
            var q = {
              lane: m,
              action: l3.action,
              hasEagerState: l3.hasEagerState,
              eagerState: l3.eagerState,
              next: null
            };
            null === k ? (h2 = k = q, g = d4) : k = k.next = q;
            M.lanes |= m;
            rh |= m;
          }
          l3 = l3.next;
        } while (null !== l3 && l3 !== f3);
        null === k ? g = d4 : k.next = h2;
        He(d4, b.memoizedState) || (dh = true);
        b.memoizedState = d4;
        b.baseState = g;
        b.baseQueue = k;
        c3.lastRenderedState = d4;
      }
      a2 = c3.interleaved;
      if (null !== a2) {
        e3 = a2;
        do
          f3 = e3.lane, M.lanes |= f3, rh |= f3, e3 = e3.next;
        while (e3 !== a2);
      } else null === e3 && (c3.lanes = 0);
      return [b.memoizedState, c3.dispatch];
    }
    function Xh(a2) {
      var b = Uh(), c3 = b.queue;
      if (null === c3) throw Error(p3(311));
      c3.lastRenderedReducer = a2;
      var d4 = c3.dispatch, e3 = c3.pending, f3 = b.memoizedState;
      if (null !== e3) {
        c3.pending = null;
        var g = e3 = e3.next;
        do
          f3 = a2(f3, g.action), g = g.next;
        while (g !== e3);
        He(f3, b.memoizedState) || (dh = true);
        b.memoizedState = f3;
        null === b.baseQueue && (b.baseState = f3);
        c3.lastRenderedState = f3;
      }
      return [f3, d4];
    }
    function Yh() {
    }
    function Zh(a2, b) {
      var c3 = M, d4 = Uh(), e3 = b(), f3 = !He(d4.memoizedState, e3);
      f3 && (d4.memoizedState = e3, dh = true);
      d4 = d4.queue;
      $h(ai.bind(null, c3, d4, a2), [a2]);
      if (d4.getSnapshot !== b || f3 || null !== O && O.memoizedState.tag & 1) {
        c3.flags |= 2048;
        bi(9, ci.bind(null, c3, d4, e3, b), void 0, null);
        if (null === Q2) throw Error(p3(349));
        0 !== (Hh & 30) || di(c3, b, e3);
      }
      return e3;
    }
    function di(a2, b, c3) {
      a2.flags |= 16384;
      a2 = { getSnapshot: b, value: c3 };
      b = M.updateQueue;
      null === b ? (b = { lastEffect: null, stores: null }, M.updateQueue = b, b.stores = [a2]) : (c3 = b.stores, null === c3 ? b.stores = [a2] : c3.push(a2));
    }
    function ci(a2, b, c3, d4) {
      b.value = c3;
      b.getSnapshot = d4;
      ei(b) && fi(a2);
    }
    function ai(a2, b, c3) {
      return c3(function() {
        ei(b) && fi(a2);
      });
    }
    function ei(a2) {
      var b = a2.getSnapshot;
      a2 = a2.value;
      try {
        var c3 = b();
        return !He(a2, c3);
      } catch (d4) {
        return true;
      }
    }
    function fi(a2) {
      var b = ih(a2, 1);
      null !== b && gi(b, a2, 1, -1);
    }
    function hi(a2) {
      var b = Th();
      "function" === typeof a2 && (a2 = a2());
      b.memoizedState = b.baseState = a2;
      a2 = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: Vh, lastRenderedState: a2 };
      b.queue = a2;
      a2 = a2.dispatch = ii.bind(null, M, a2);
      return [b.memoizedState, a2];
    }
    function bi(a2, b, c3, d4) {
      a2 = { tag: a2, create: b, destroy: c3, deps: d4, next: null };
      b = M.updateQueue;
      null === b ? (b = { lastEffect: null, stores: null }, M.updateQueue = b, b.lastEffect = a2.next = a2) : (c3 = b.lastEffect, null === c3 ? b.lastEffect = a2.next = a2 : (d4 = c3.next, c3.next = a2, a2.next = d4, b.lastEffect = a2));
      return a2;
    }
    function ji() {
      return Uh().memoizedState;
    }
    function ki(a2, b, c3, d4) {
      var e3 = Th();
      M.flags |= a2;
      e3.memoizedState = bi(1 | b, c3, void 0, void 0 === d4 ? null : d4);
    }
    function li(a2, b, c3, d4) {
      var e3 = Uh();
      d4 = void 0 === d4 ? null : d4;
      var f3 = void 0;
      if (null !== N) {
        var g = N.memoizedState;
        f3 = g.destroy;
        if (null !== d4 && Mh(d4, g.deps)) {
          e3.memoizedState = bi(b, c3, f3, d4);
          return;
        }
      }
      M.flags |= a2;
      e3.memoizedState = bi(1 | b, c3, f3, d4);
    }
    function mi(a2, b) {
      return ki(8390656, 8, a2, b);
    }
    function $h(a2, b) {
      return li(2048, 8, a2, b);
    }
    function ni(a2, b) {
      return li(4, 2, a2, b);
    }
    function oi(a2, b) {
      return li(4, 4, a2, b);
    }
    function pi(a2, b) {
      if ("function" === typeof b) return a2 = a2(), b(a2), function() {
        b(null);
      };
      if (null !== b && void 0 !== b) return a2 = a2(), b.current = a2, function() {
        b.current = null;
      };
    }
    function qi(a2, b, c3) {
      c3 = null !== c3 && void 0 !== c3 ? c3.concat([a2]) : null;
      return li(4, 4, pi.bind(null, b, a2), c3);
    }
    function ri() {
    }
    function si(a2, b) {
      var c3 = Uh();
      b = void 0 === b ? null : b;
      var d4 = c3.memoizedState;
      if (null !== d4 && null !== b && Mh(b, d4[1])) return d4[0];
      c3.memoizedState = [a2, b];
      return a2;
    }
    function ti(a2, b) {
      var c3 = Uh();
      b = void 0 === b ? null : b;
      var d4 = c3.memoizedState;
      if (null !== d4 && null !== b && Mh(b, d4[1])) return d4[0];
      a2 = a2();
      c3.memoizedState = [a2, b];
      return a2;
    }
    function ui(a2, b, c3) {
      if (0 === (Hh & 21)) return a2.baseState && (a2.baseState = false, dh = true), a2.memoizedState = c3;
      He(c3, b) || (c3 = yc(), M.lanes |= c3, rh |= c3, a2.baseState = true);
      return b;
    }
    function vi(a2, b) {
      var c3 = C2;
      C2 = 0 !== c3 && 4 > c3 ? c3 : 4;
      a2(true);
      var d4 = Gh.transition;
      Gh.transition = {};
      try {
        a2(false), b();
      } finally {
        C2 = c3, Gh.transition = d4;
      }
    }
    function wi() {
      return Uh().memoizedState;
    }
    function xi(a2, b, c3) {
      var d4 = yi(a2);
      c3 = { lane: d4, action: c3, hasEagerState: false, eagerState: null, next: null };
      if (zi(a2)) Ai(b, c3);
      else if (c3 = hh(a2, b, c3, d4), null !== c3) {
        var e3 = R();
        gi(c3, a2, d4, e3);
        Bi(c3, b, d4);
      }
    }
    function ii(a2, b, c3) {
      var d4 = yi(a2), e3 = { lane: d4, action: c3, hasEagerState: false, eagerState: null, next: null };
      if (zi(a2)) Ai(b, e3);
      else {
        var f3 = a2.alternate;
        if (0 === a2.lanes && (null === f3 || 0 === f3.lanes) && (f3 = b.lastRenderedReducer, null !== f3)) try {
          var g = b.lastRenderedState, h2 = f3(g, c3);
          e3.hasEagerState = true;
          e3.eagerState = h2;
          if (He(h2, g)) {
            var k = b.interleaved;
            null === k ? (e3.next = e3, gh(b)) : (e3.next = k.next, k.next = e3);
            b.interleaved = e3;
            return;
          }
        } catch (l3) {
        } finally {
        }
        c3 = hh(a2, b, e3, d4);
        null !== c3 && (e3 = R(), gi(c3, a2, d4, e3), Bi(c3, b, d4));
      }
    }
    function zi(a2) {
      var b = a2.alternate;
      return a2 === M || null !== b && b === M;
    }
    function Ai(a2, b) {
      Jh = Ih = true;
      var c3 = a2.pending;
      null === c3 ? b.next = b : (b.next = c3.next, c3.next = b);
      a2.pending = b;
    }
    function Bi(a2, b, c3) {
      if (0 !== (c3 & 4194240)) {
        var d4 = b.lanes;
        d4 &= a2.pendingLanes;
        c3 |= d4;
        b.lanes = c3;
        Cc(a2, c3);
      }
    }
    var Rh = { readContext: eh, useCallback: P, useContext: P, useEffect: P, useImperativeHandle: P, useInsertionEffect: P, useLayoutEffect: P, useMemo: P, useReducer: P, useRef: P, useState: P, useDebugValue: P, useDeferredValue: P, useTransition: P, useMutableSource: P, useSyncExternalStore: P, useId: P, unstable_isNewReconciler: false };
    var Oh = { readContext: eh, useCallback: function(a2, b) {
      Th().memoizedState = [a2, void 0 === b ? null : b];
      return a2;
    }, useContext: eh, useEffect: mi, useImperativeHandle: function(a2, b, c3) {
      c3 = null !== c3 && void 0 !== c3 ? c3.concat([a2]) : null;
      return ki(
        4194308,
        4,
        pi.bind(null, b, a2),
        c3
      );
    }, useLayoutEffect: function(a2, b) {
      return ki(4194308, 4, a2, b);
    }, useInsertionEffect: function(a2, b) {
      return ki(4, 2, a2, b);
    }, useMemo: function(a2, b) {
      var c3 = Th();
      b = void 0 === b ? null : b;
      a2 = a2();
      c3.memoizedState = [a2, b];
      return a2;
    }, useReducer: function(a2, b, c3) {
      var d4 = Th();
      b = void 0 !== c3 ? c3(b) : b;
      d4.memoizedState = d4.baseState = b;
      a2 = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: a2, lastRenderedState: b };
      d4.queue = a2;
      a2 = a2.dispatch = xi.bind(null, M, a2);
      return [d4.memoizedState, a2];
    }, useRef: function(a2) {
      var b = Th();
      a2 = { current: a2 };
      return b.memoizedState = a2;
    }, useState: hi, useDebugValue: ri, useDeferredValue: function(a2) {
      return Th().memoizedState = a2;
    }, useTransition: function() {
      var a2 = hi(false), b = a2[0];
      a2 = vi.bind(null, a2[1]);
      Th().memoizedState = a2;
      return [b, a2];
    }, useMutableSource: function() {
    }, useSyncExternalStore: function(a2, b, c3) {
      var d4 = M, e3 = Th();
      if (I2) {
        if (void 0 === c3) throw Error(p3(407));
        c3 = c3();
      } else {
        c3 = b();
        if (null === Q2) throw Error(p3(349));
        0 !== (Hh & 30) || di(d4, b, c3);
      }
      e3.memoizedState = c3;
      var f3 = { value: c3, getSnapshot: b };
      e3.queue = f3;
      mi(ai.bind(
        null,
        d4,
        f3,
        a2
      ), [a2]);
      d4.flags |= 2048;
      bi(9, ci.bind(null, d4, f3, c3, b), void 0, null);
      return c3;
    }, useId: function() {
      var a2 = Th(), b = Q2.identifierPrefix;
      if (I2) {
        var c3 = sg;
        var d4 = rg;
        c3 = (d4 & ~(1 << 32 - oc(d4) - 1)).toString(32) + c3;
        b = ":" + b + "R" + c3;
        c3 = Kh++;
        0 < c3 && (b += "H" + c3.toString(32));
        b += ":";
      } else c3 = Lh++, b = ":" + b + "r" + c3.toString(32) + ":";
      return a2.memoizedState = b;
    }, unstable_isNewReconciler: false };
    var Ph = {
      readContext: eh,
      useCallback: si,
      useContext: eh,
      useEffect: $h,
      useImperativeHandle: qi,
      useInsertionEffect: ni,
      useLayoutEffect: oi,
      useMemo: ti,
      useReducer: Wh,
      useRef: ji,
      useState: function() {
        return Wh(Vh);
      },
      useDebugValue: ri,
      useDeferredValue: function(a2) {
        var b = Uh();
        return ui(b, N.memoizedState, a2);
      },
      useTransition: function() {
        var a2 = Wh(Vh)[0], b = Uh().memoizedState;
        return [a2, b];
      },
      useMutableSource: Yh,
      useSyncExternalStore: Zh,
      useId: wi,
      unstable_isNewReconciler: false
    };
    var Qh = { readContext: eh, useCallback: si, useContext: eh, useEffect: $h, useImperativeHandle: qi, useInsertionEffect: ni, useLayoutEffect: oi, useMemo: ti, useReducer: Xh, useRef: ji, useState: function() {
      return Xh(Vh);
    }, useDebugValue: ri, useDeferredValue: function(a2) {
      var b = Uh();
      return null === N ? b.memoizedState = a2 : ui(b, N.memoizedState, a2);
    }, useTransition: function() {
      var a2 = Xh(Vh)[0], b = Uh().memoizedState;
      return [a2, b];
    }, useMutableSource: Yh, useSyncExternalStore: Zh, useId: wi, unstable_isNewReconciler: false };
    function Ci(a2, b) {
      if (a2 && a2.defaultProps) {
        b = A({}, b);
        a2 = a2.defaultProps;
        for (var c3 in a2) void 0 === b[c3] && (b[c3] = a2[c3]);
        return b;
      }
      return b;
    }
    function Di(a2, b, c3, d4) {
      b = a2.memoizedState;
      c3 = c3(d4, b);
      c3 = null === c3 || void 0 === c3 ? b : A({}, b, c3);
      a2.memoizedState = c3;
      0 === a2.lanes && (a2.updateQueue.baseState = c3);
    }
    var Ei = { isMounted: function(a2) {
      return (a2 = a2._reactInternals) ? Vb(a2) === a2 : false;
    }, enqueueSetState: function(a2, b, c3) {
      a2 = a2._reactInternals;
      var d4 = R(), e3 = yi(a2), f3 = mh(d4, e3);
      f3.payload = b;
      void 0 !== c3 && null !== c3 && (f3.callback = c3);
      b = nh(a2, f3, e3);
      null !== b && (gi(b, a2, e3, d4), oh(b, a2, e3));
    }, enqueueReplaceState: function(a2, b, c3) {
      a2 = a2._reactInternals;
      var d4 = R(), e3 = yi(a2), f3 = mh(d4, e3);
      f3.tag = 1;
      f3.payload = b;
      void 0 !== c3 && null !== c3 && (f3.callback = c3);
      b = nh(a2, f3, e3);
      null !== b && (gi(b, a2, e3, d4), oh(b, a2, e3));
    }, enqueueForceUpdate: function(a2, b) {
      a2 = a2._reactInternals;
      var c3 = R(), d4 = yi(a2), e3 = mh(c3, d4);
      e3.tag = 2;
      void 0 !== b && null !== b && (e3.callback = b);
      b = nh(a2, e3, d4);
      null !== b && (gi(b, a2, d4, c3), oh(b, a2, d4));
    } };
    function Fi(a2, b, c3, d4, e3, f3, g) {
      a2 = a2.stateNode;
      return "function" === typeof a2.shouldComponentUpdate ? a2.shouldComponentUpdate(d4, f3, g) : b.prototype && b.prototype.isPureReactComponent ? !Ie(c3, d4) || !Ie(e3, f3) : true;
    }
    function Gi(a2, b, c3) {
      var d4 = false, e3 = Vf;
      var f3 = b.contextType;
      "object" === typeof f3 && null !== f3 ? f3 = eh(f3) : (e3 = Zf(b) ? Xf : H.current, d4 = b.contextTypes, f3 = (d4 = null !== d4 && void 0 !== d4) ? Yf(a2, e3) : Vf);
      b = new b(c3, f3);
      a2.memoizedState = null !== b.state && void 0 !== b.state ? b.state : null;
      b.updater = Ei;
      a2.stateNode = b;
      b._reactInternals = a2;
      d4 && (a2 = a2.stateNode, a2.__reactInternalMemoizedUnmaskedChildContext = e3, a2.__reactInternalMemoizedMaskedChildContext = f3);
      return b;
    }
    function Hi(a2, b, c3, d4) {
      a2 = b.state;
      "function" === typeof b.componentWillReceiveProps && b.componentWillReceiveProps(c3, d4);
      "function" === typeof b.UNSAFE_componentWillReceiveProps && b.UNSAFE_componentWillReceiveProps(c3, d4);
      b.state !== a2 && Ei.enqueueReplaceState(b, b.state, null);
    }
    function Ii(a2, b, c3, d4) {
      var e3 = a2.stateNode;
      e3.props = c3;
      e3.state = a2.memoizedState;
      e3.refs = {};
      kh(a2);
      var f3 = b.contextType;
      "object" === typeof f3 && null !== f3 ? e3.context = eh(f3) : (f3 = Zf(b) ? Xf : H.current, e3.context = Yf(a2, f3));
      e3.state = a2.memoizedState;
      f3 = b.getDerivedStateFromProps;
      "function" === typeof f3 && (Di(a2, b, f3, c3), e3.state = a2.memoizedState);
      "function" === typeof b.getDerivedStateFromProps || "function" === typeof e3.getSnapshotBeforeUpdate || "function" !== typeof e3.UNSAFE_componentWillMount && "function" !== typeof e3.componentWillMount || (b = e3.state, "function" === typeof e3.componentWillMount && e3.componentWillMount(), "function" === typeof e3.UNSAFE_componentWillMount && e3.UNSAFE_componentWillMount(), b !== e3.state && Ei.enqueueReplaceState(e3, e3.state, null), qh(a2, c3, e3, d4), e3.state = a2.memoizedState);
      "function" === typeof e3.componentDidMount && (a2.flags |= 4194308);
    }
    function Ji(a2, b) {
      try {
        var c3 = "", d4 = b;
        do
          c3 += Pa(d4), d4 = d4.return;
        while (d4);
        var e3 = c3;
      } catch (f3) {
        e3 = "\nError generating stack: " + f3.message + "\n" + f3.stack;
      }
      return { value: a2, source: b, stack: e3, digest: null };
    }
    function Ki(a2, b, c3) {
      return { value: a2, source: null, stack: null != c3 ? c3 : null, digest: null != b ? b : null };
    }
    function Li(a2, b) {
      try {
        console.error(b.value);
      } catch (c3) {
        setTimeout(function() {
          throw c3;
        });
      }
    }
    var Mi = "function" === typeof WeakMap ? WeakMap : Map;
    function Ni(a2, b, c3) {
      c3 = mh(-1, c3);
      c3.tag = 3;
      c3.payload = { element: null };
      var d4 = b.value;
      c3.callback = function() {
        Oi || (Oi = true, Pi = d4);
        Li(a2, b);
      };
      return c3;
    }
    function Qi(a2, b, c3) {
      c3 = mh(-1, c3);
      c3.tag = 3;
      var d4 = a2.type.getDerivedStateFromError;
      if ("function" === typeof d4) {
        var e3 = b.value;
        c3.payload = function() {
          return d4(e3);
        };
        c3.callback = function() {
          Li(a2, b);
        };
      }
      var f3 = a2.stateNode;
      null !== f3 && "function" === typeof f3.componentDidCatch && (c3.callback = function() {
        Li(a2, b);
        "function" !== typeof d4 && (null === Ri ? Ri = /* @__PURE__ */ new Set([this]) : Ri.add(this));
        var c4 = b.stack;
        this.componentDidCatch(b.value, { componentStack: null !== c4 ? c4 : "" });
      });
      return c3;
    }
    function Si(a2, b, c3) {
      var d4 = a2.pingCache;
      if (null === d4) {
        d4 = a2.pingCache = new Mi();
        var e3 = /* @__PURE__ */ new Set();
        d4.set(b, e3);
      } else e3 = d4.get(b), void 0 === e3 && (e3 = /* @__PURE__ */ new Set(), d4.set(b, e3));
      e3.has(c3) || (e3.add(c3), a2 = Ti.bind(null, a2, b, c3), b.then(a2, a2));
    }
    function Ui(a2) {
      do {
        var b;
        if (b = 13 === a2.tag) b = a2.memoizedState, b = null !== b ? null !== b.dehydrated ? true : false : true;
        if (b) return a2;
        a2 = a2.return;
      } while (null !== a2);
      return null;
    }
    function Vi(a2, b, c3, d4, e3) {
      if (0 === (a2.mode & 1)) return a2 === b ? a2.flags |= 65536 : (a2.flags |= 128, c3.flags |= 131072, c3.flags &= -52805, 1 === c3.tag && (null === c3.alternate ? c3.tag = 17 : (b = mh(-1, 1), b.tag = 2, nh(c3, b, 1))), c3.lanes |= 1), a2;
      a2.flags |= 65536;
      a2.lanes = e3;
      return a2;
    }
    var Wi = ua.ReactCurrentOwner;
    var dh = false;
    function Xi(a2, b, c3, d4) {
      b.child = null === a2 ? Vg(b, null, c3, d4) : Ug(b, a2.child, c3, d4);
    }
    function Yi(a2, b, c3, d4, e3) {
      c3 = c3.render;
      var f3 = b.ref;
      ch(b, e3);
      d4 = Nh(a2, b, c3, d4, f3, e3);
      c3 = Sh();
      if (null !== a2 && !dh) return b.updateQueue = a2.updateQueue, b.flags &= -2053, a2.lanes &= ~e3, Zi(a2, b, e3);
      I2 && c3 && vg(b);
      b.flags |= 1;
      Xi(a2, b, d4, e3);
      return b.child;
    }
    function $i(a2, b, c3, d4, e3) {
      if (null === a2) {
        var f3 = c3.type;
        if ("function" === typeof f3 && !aj(f3) && void 0 === f3.defaultProps && null === c3.compare && void 0 === c3.defaultProps) return b.tag = 15, b.type = f3, bj(a2, b, f3, d4, e3);
        a2 = Rg(c3.type, null, d4, b, b.mode, e3);
        a2.ref = b.ref;
        a2.return = b;
        return b.child = a2;
      }
      f3 = a2.child;
      if (0 === (a2.lanes & e3)) {
        var g = f3.memoizedProps;
        c3 = c3.compare;
        c3 = null !== c3 ? c3 : Ie;
        if (c3(g, d4) && a2.ref === b.ref) return Zi(a2, b, e3);
      }
      b.flags |= 1;
      a2 = Pg(f3, d4);
      a2.ref = b.ref;
      a2.return = b;
      return b.child = a2;
    }
    function bj(a2, b, c3, d4, e3) {
      if (null !== a2) {
        var f3 = a2.memoizedProps;
        if (Ie(f3, d4) && a2.ref === b.ref) if (dh = false, b.pendingProps = d4 = f3, 0 !== (a2.lanes & e3)) 0 !== (a2.flags & 131072) && (dh = true);
        else return b.lanes = a2.lanes, Zi(a2, b, e3);
      }
      return cj(a2, b, c3, d4, e3);
    }
    function dj(a2, b, c3) {
      var d4 = b.pendingProps, e3 = d4.children, f3 = null !== a2 ? a2.memoizedState : null;
      if ("hidden" === d4.mode) if (0 === (b.mode & 1)) b.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, G(ej, fj), fj |= c3;
      else {
        if (0 === (c3 & 1073741824)) return a2 = null !== f3 ? f3.baseLanes | c3 : c3, b.lanes = b.childLanes = 1073741824, b.memoizedState = { baseLanes: a2, cachePool: null, transitions: null }, b.updateQueue = null, G(ej, fj), fj |= a2, null;
        b.memoizedState = { baseLanes: 0, cachePool: null, transitions: null };
        d4 = null !== f3 ? f3.baseLanes : c3;
        G(ej, fj);
        fj |= d4;
      }
      else null !== f3 ? (d4 = f3.baseLanes | c3, b.memoizedState = null) : d4 = c3, G(ej, fj), fj |= d4;
      Xi(a2, b, e3, c3);
      return b.child;
    }
    function gj(a2, b) {
      var c3 = b.ref;
      if (null === a2 && null !== c3 || null !== a2 && a2.ref !== c3) b.flags |= 512, b.flags |= 2097152;
    }
    function cj(a2, b, c3, d4, e3) {
      var f3 = Zf(c3) ? Xf : H.current;
      f3 = Yf(b, f3);
      ch(b, e3);
      c3 = Nh(a2, b, c3, d4, f3, e3);
      d4 = Sh();
      if (null !== a2 && !dh) return b.updateQueue = a2.updateQueue, b.flags &= -2053, a2.lanes &= ~e3, Zi(a2, b, e3);
      I2 && d4 && vg(b);
      b.flags |= 1;
      Xi(a2, b, c3, e3);
      return b.child;
    }
    function hj(a2, b, c3, d4, e3) {
      if (Zf(c3)) {
        var f3 = true;
        cg(b);
      } else f3 = false;
      ch(b, e3);
      if (null === b.stateNode) ij(a2, b), Gi(b, c3, d4), Ii(b, c3, d4, e3), d4 = true;
      else if (null === a2) {
        var g = b.stateNode, h2 = b.memoizedProps;
        g.props = h2;
        var k = g.context, l3 = c3.contextType;
        "object" === typeof l3 && null !== l3 ? l3 = eh(l3) : (l3 = Zf(c3) ? Xf : H.current, l3 = Yf(b, l3));
        var m = c3.getDerivedStateFromProps, q = "function" === typeof m || "function" === typeof g.getSnapshotBeforeUpdate;
        q || "function" !== typeof g.UNSAFE_componentWillReceiveProps && "function" !== typeof g.componentWillReceiveProps || (h2 !== d4 || k !== l3) && Hi(b, g, d4, l3);
        jh = false;
        var r3 = b.memoizedState;
        g.state = r3;
        qh(b, d4, g, e3);
        k = b.memoizedState;
        h2 !== d4 || r3 !== k || Wf.current || jh ? ("function" === typeof m && (Di(b, c3, m, d4), k = b.memoizedState), (h2 = jh || Fi(b, c3, h2, d4, r3, k, l3)) ? (q || "function" !== typeof g.UNSAFE_componentWillMount && "function" !== typeof g.componentWillMount || ("function" === typeof g.componentWillMount && g.componentWillMount(), "function" === typeof g.UNSAFE_componentWillMount && g.UNSAFE_componentWillMount()), "function" === typeof g.componentDidMount && (b.flags |= 4194308)) : ("function" === typeof g.componentDidMount && (b.flags |= 4194308), b.memoizedProps = d4, b.memoizedState = k), g.props = d4, g.state = k, g.context = l3, d4 = h2) : ("function" === typeof g.componentDidMount && (b.flags |= 4194308), d4 = false);
      } else {
        g = b.stateNode;
        lh(a2, b);
        h2 = b.memoizedProps;
        l3 = b.type === b.elementType ? h2 : Ci(b.type, h2);
        g.props = l3;
        q = b.pendingProps;
        r3 = g.context;
        k = c3.contextType;
        "object" === typeof k && null !== k ? k = eh(k) : (k = Zf(c3) ? Xf : H.current, k = Yf(b, k));
        var y2 = c3.getDerivedStateFromProps;
        (m = "function" === typeof y2 || "function" === typeof g.getSnapshotBeforeUpdate) || "function" !== typeof g.UNSAFE_componentWillReceiveProps && "function" !== typeof g.componentWillReceiveProps || (h2 !== q || r3 !== k) && Hi(b, g, d4, k);
        jh = false;
        r3 = b.memoizedState;
        g.state = r3;
        qh(b, d4, g, e3);
        var n2 = b.memoizedState;
        h2 !== q || r3 !== n2 || Wf.current || jh ? ("function" === typeof y2 && (Di(b, c3, y2, d4), n2 = b.memoizedState), (l3 = jh || Fi(b, c3, l3, d4, r3, n2, k) || false) ? (m || "function" !== typeof g.UNSAFE_componentWillUpdate && "function" !== typeof g.componentWillUpdate || ("function" === typeof g.componentWillUpdate && g.componentWillUpdate(d4, n2, k), "function" === typeof g.UNSAFE_componentWillUpdate && g.UNSAFE_componentWillUpdate(d4, n2, k)), "function" === typeof g.componentDidUpdate && (b.flags |= 4), "function" === typeof g.getSnapshotBeforeUpdate && (b.flags |= 1024)) : ("function" !== typeof g.componentDidUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 4), "function" !== typeof g.getSnapshotBeforeUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 1024), b.memoizedProps = d4, b.memoizedState = n2), g.props = d4, g.state = n2, g.context = k, d4 = l3) : ("function" !== typeof g.componentDidUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 4), "function" !== typeof g.getSnapshotBeforeUpdate || h2 === a2.memoizedProps && r3 === a2.memoizedState || (b.flags |= 1024), d4 = false);
      }
      return jj(a2, b, c3, d4, f3, e3);
    }
    function jj(a2, b, c3, d4, e3, f3) {
      gj(a2, b);
      var g = 0 !== (b.flags & 128);
      if (!d4 && !g) return e3 && dg(b, c3, false), Zi(a2, b, f3);
      d4 = b.stateNode;
      Wi.current = b;
      var h2 = g && "function" !== typeof c3.getDerivedStateFromError ? null : d4.render();
      b.flags |= 1;
      null !== a2 && g ? (b.child = Ug(b, a2.child, null, f3), b.child = Ug(b, null, h2, f3)) : Xi(a2, b, h2, f3);
      b.memoizedState = d4.state;
      e3 && dg(b, c3, true);
      return b.child;
    }
    function kj(a2) {
      var b = a2.stateNode;
      b.pendingContext ? ag(a2, b.pendingContext, b.pendingContext !== b.context) : b.context && ag(a2, b.context, false);
      yh(a2, b.containerInfo);
    }
    function lj(a2, b, c3, d4, e3) {
      Ig();
      Jg(e3);
      b.flags |= 256;
      Xi(a2, b, c3, d4);
      return b.child;
    }
    var mj = { dehydrated: null, treeContext: null, retryLane: 0 };
    function nj(a2) {
      return { baseLanes: a2, cachePool: null, transitions: null };
    }
    function oj(a2, b, c3) {
      var d4 = b.pendingProps, e3 = L.current, f3 = false, g = 0 !== (b.flags & 128), h2;
      (h2 = g) || (h2 = null !== a2 && null === a2.memoizedState ? false : 0 !== (e3 & 2));
      if (h2) f3 = true, b.flags &= -129;
      else if (null === a2 || null !== a2.memoizedState) e3 |= 1;
      G(L, e3 & 1);
      if (null === a2) {
        Eg(b);
        a2 = b.memoizedState;
        if (null !== a2 && (a2 = a2.dehydrated, null !== a2)) return 0 === (b.mode & 1) ? b.lanes = 1 : "$!" === a2.data ? b.lanes = 8 : b.lanes = 1073741824, null;
        g = d4.children;
        a2 = d4.fallback;
        return f3 ? (d4 = b.mode, f3 = b.child, g = { mode: "hidden", children: g }, 0 === (d4 & 1) && null !== f3 ? (f3.childLanes = 0, f3.pendingProps = g) : f3 = pj(g, d4, 0, null), a2 = Tg(a2, d4, c3, null), f3.return = b, a2.return = b, f3.sibling = a2, b.child = f3, b.child.memoizedState = nj(c3), b.memoizedState = mj, a2) : qj(b, g);
      }
      e3 = a2.memoizedState;
      if (null !== e3 && (h2 = e3.dehydrated, null !== h2)) return rj(a2, b, g, d4, h2, e3, c3);
      if (f3) {
        f3 = d4.fallback;
        g = b.mode;
        e3 = a2.child;
        h2 = e3.sibling;
        var k = { mode: "hidden", children: d4.children };
        0 === (g & 1) && b.child !== e3 ? (d4 = b.child, d4.childLanes = 0, d4.pendingProps = k, b.deletions = null) : (d4 = Pg(e3, k), d4.subtreeFlags = e3.subtreeFlags & 14680064);
        null !== h2 ? f3 = Pg(h2, f3) : (f3 = Tg(f3, g, c3, null), f3.flags |= 2);
        f3.return = b;
        d4.return = b;
        d4.sibling = f3;
        b.child = d4;
        d4 = f3;
        f3 = b.child;
        g = a2.child.memoizedState;
        g = null === g ? nj(c3) : { baseLanes: g.baseLanes | c3, cachePool: null, transitions: g.transitions };
        f3.memoizedState = g;
        f3.childLanes = a2.childLanes & ~c3;
        b.memoizedState = mj;
        return d4;
      }
      f3 = a2.child;
      a2 = f3.sibling;
      d4 = Pg(f3, { mode: "visible", children: d4.children });
      0 === (b.mode & 1) && (d4.lanes = c3);
      d4.return = b;
      d4.sibling = null;
      null !== a2 && (c3 = b.deletions, null === c3 ? (b.deletions = [a2], b.flags |= 16) : c3.push(a2));
      b.child = d4;
      b.memoizedState = null;
      return d4;
    }
    function qj(a2, b) {
      b = pj({ mode: "visible", children: b }, a2.mode, 0, null);
      b.return = a2;
      return a2.child = b;
    }
    function sj(a2, b, c3, d4) {
      null !== d4 && Jg(d4);
      Ug(b, a2.child, null, c3);
      a2 = qj(b, b.pendingProps.children);
      a2.flags |= 2;
      b.memoizedState = null;
      return a2;
    }
    function rj(a2, b, c3, d4, e3, f3, g) {
      if (c3) {
        if (b.flags & 256) return b.flags &= -257, d4 = Ki(Error(p3(422))), sj(a2, b, g, d4);
        if (null !== b.memoizedState) return b.child = a2.child, b.flags |= 128, null;
        f3 = d4.fallback;
        e3 = b.mode;
        d4 = pj({ mode: "visible", children: d4.children }, e3, 0, null);
        f3 = Tg(f3, e3, g, null);
        f3.flags |= 2;
        d4.return = b;
        f3.return = b;
        d4.sibling = f3;
        b.child = d4;
        0 !== (b.mode & 1) && Ug(b, a2.child, null, g);
        b.child.memoizedState = nj(g);
        b.memoizedState = mj;
        return f3;
      }
      if (0 === (b.mode & 1)) return sj(a2, b, g, null);
      if ("$!" === e3.data) {
        d4 = e3.nextSibling && e3.nextSibling.dataset;
        if (d4) var h2 = d4.dgst;
        d4 = h2;
        f3 = Error(p3(419));
        d4 = Ki(f3, d4, void 0);
        return sj(a2, b, g, d4);
      }
      h2 = 0 !== (g & a2.childLanes);
      if (dh || h2) {
        d4 = Q2;
        if (null !== d4) {
          switch (g & -g) {
            case 4:
              e3 = 2;
              break;
            case 16:
              e3 = 8;
              break;
            case 64:
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
            case 67108864:
              e3 = 32;
              break;
            case 536870912:
              e3 = 268435456;
              break;
            default:
              e3 = 0;
          }
          e3 = 0 !== (e3 & (d4.suspendedLanes | g)) ? 0 : e3;
          0 !== e3 && e3 !== f3.retryLane && (f3.retryLane = e3, ih(a2, e3), gi(d4, a2, e3, -1));
        }
        tj();
        d4 = Ki(Error(p3(421)));
        return sj(a2, b, g, d4);
      }
      if ("$?" === e3.data) return b.flags |= 128, b.child = a2.child, b = uj.bind(null, a2), e3._reactRetry = b, null;
      a2 = f3.treeContext;
      yg = Lf(e3.nextSibling);
      xg = b;
      I2 = true;
      zg = null;
      null !== a2 && (og[pg++] = rg, og[pg++] = sg, og[pg++] = qg, rg = a2.id, sg = a2.overflow, qg = b);
      b = qj(b, d4.children);
      b.flags |= 4096;
      return b;
    }
    function vj(a2, b, c3) {
      a2.lanes |= b;
      var d4 = a2.alternate;
      null !== d4 && (d4.lanes |= b);
      bh(a2.return, b, c3);
    }
    function wj(a2, b, c3, d4, e3) {
      var f3 = a2.memoizedState;
      null === f3 ? a2.memoizedState = { isBackwards: b, rendering: null, renderingStartTime: 0, last: d4, tail: c3, tailMode: e3 } : (f3.isBackwards = b, f3.rendering = null, f3.renderingStartTime = 0, f3.last = d4, f3.tail = c3, f3.tailMode = e3);
    }
    function xj(a2, b, c3) {
      var d4 = b.pendingProps, e3 = d4.revealOrder, f3 = d4.tail;
      Xi(a2, b, d4.children, c3);
      d4 = L.current;
      if (0 !== (d4 & 2)) d4 = d4 & 1 | 2, b.flags |= 128;
      else {
        if (null !== a2 && 0 !== (a2.flags & 128)) a: for (a2 = b.child; null !== a2; ) {
          if (13 === a2.tag) null !== a2.memoizedState && vj(a2, c3, b);
          else if (19 === a2.tag) vj(a2, c3, b);
          else if (null !== a2.child) {
            a2.child.return = a2;
            a2 = a2.child;
            continue;
          }
          if (a2 === b) break a;
          for (; null === a2.sibling; ) {
            if (null === a2.return || a2.return === b) break a;
            a2 = a2.return;
          }
          a2.sibling.return = a2.return;
          a2 = a2.sibling;
        }
        d4 &= 1;
      }
      G(L, d4);
      if (0 === (b.mode & 1)) b.memoizedState = null;
      else switch (e3) {
        case "forwards":
          c3 = b.child;
          for (e3 = null; null !== c3; ) a2 = c3.alternate, null !== a2 && null === Ch(a2) && (e3 = c3), c3 = c3.sibling;
          c3 = e3;
          null === c3 ? (e3 = b.child, b.child = null) : (e3 = c3.sibling, c3.sibling = null);
          wj(b, false, e3, c3, f3);
          break;
        case "backwards":
          c3 = null;
          e3 = b.child;
          for (b.child = null; null !== e3; ) {
            a2 = e3.alternate;
            if (null !== a2 && null === Ch(a2)) {
              b.child = e3;
              break;
            }
            a2 = e3.sibling;
            e3.sibling = c3;
            c3 = e3;
            e3 = a2;
          }
          wj(b, true, c3, null, f3);
          break;
        case "together":
          wj(b, false, null, null, void 0);
          break;
        default:
          b.memoizedState = null;
      }
      return b.child;
    }
    function ij(a2, b) {
      0 === (b.mode & 1) && null !== a2 && (a2.alternate = null, b.alternate = null, b.flags |= 2);
    }
    function Zi(a2, b, c3) {
      null !== a2 && (b.dependencies = a2.dependencies);
      rh |= b.lanes;
      if (0 === (c3 & b.childLanes)) return null;
      if (null !== a2 && b.child !== a2.child) throw Error(p3(153));
      if (null !== b.child) {
        a2 = b.child;
        c3 = Pg(a2, a2.pendingProps);
        b.child = c3;
        for (c3.return = b; null !== a2.sibling; ) a2 = a2.sibling, c3 = c3.sibling = Pg(a2, a2.pendingProps), c3.return = b;
        c3.sibling = null;
      }
      return b.child;
    }
    function yj(a2, b, c3) {
      switch (b.tag) {
        case 3:
          kj(b);
          Ig();
          break;
        case 5:
          Ah(b);
          break;
        case 1:
          Zf(b.type) && cg(b);
          break;
        case 4:
          yh(b, b.stateNode.containerInfo);
          break;
        case 10:
          var d4 = b.type._context, e3 = b.memoizedProps.value;
          G(Wg, d4._currentValue);
          d4._currentValue = e3;
          break;
        case 13:
          d4 = b.memoizedState;
          if (null !== d4) {
            if (null !== d4.dehydrated) return G(L, L.current & 1), b.flags |= 128, null;
            if (0 !== (c3 & b.child.childLanes)) return oj(a2, b, c3);
            G(L, L.current & 1);
            a2 = Zi(a2, b, c3);
            return null !== a2 ? a2.sibling : null;
          }
          G(L, L.current & 1);
          break;
        case 19:
          d4 = 0 !== (c3 & b.childLanes);
          if (0 !== (a2.flags & 128)) {
            if (d4) return xj(a2, b, c3);
            b.flags |= 128;
          }
          e3 = b.memoizedState;
          null !== e3 && (e3.rendering = null, e3.tail = null, e3.lastEffect = null);
          G(L, L.current);
          if (d4) break;
          else return null;
        case 22:
        case 23:
          return b.lanes = 0, dj(a2, b, c3);
      }
      return Zi(a2, b, c3);
    }
    var zj;
    var Aj;
    var Bj;
    var Cj;
    zj = function(a2, b) {
      for (var c3 = b.child; null !== c3; ) {
        if (5 === c3.tag || 6 === c3.tag) a2.appendChild(c3.stateNode);
        else if (4 !== c3.tag && null !== c3.child) {
          c3.child.return = c3;
          c3 = c3.child;
          continue;
        }
        if (c3 === b) break;
        for (; null === c3.sibling; ) {
          if (null === c3.return || c3.return === b) return;
          c3 = c3.return;
        }
        c3.sibling.return = c3.return;
        c3 = c3.sibling;
      }
    };
    Aj = function() {
    };
    Bj = function(a2, b, c3, d4) {
      var e3 = a2.memoizedProps;
      if (e3 !== d4) {
        a2 = b.stateNode;
        xh(uh.current);
        var f3 = null;
        switch (c3) {
          case "input":
            e3 = Ya(a2, e3);
            d4 = Ya(a2, d4);
            f3 = [];
            break;
          case "select":
            e3 = A({}, e3, { value: void 0 });
            d4 = A({}, d4, { value: void 0 });
            f3 = [];
            break;
          case "textarea":
            e3 = gb(a2, e3);
            d4 = gb(a2, d4);
            f3 = [];
            break;
          default:
            "function" !== typeof e3.onClick && "function" === typeof d4.onClick && (a2.onclick = Bf);
        }
        ub(c3, d4);
        var g;
        c3 = null;
        for (l3 in e3) if (!d4.hasOwnProperty(l3) && e3.hasOwnProperty(l3) && null != e3[l3]) if ("style" === l3) {
          var h2 = e3[l3];
          for (g in h2) h2.hasOwnProperty(g) && (c3 || (c3 = {}), c3[g] = "");
        } else "dangerouslySetInnerHTML" !== l3 && "children" !== l3 && "suppressContentEditableWarning" !== l3 && "suppressHydrationWarning" !== l3 && "autoFocus" !== l3 && (ea.hasOwnProperty(l3) ? f3 || (f3 = []) : (f3 = f3 || []).push(l3, null));
        for (l3 in d4) {
          var k = d4[l3];
          h2 = null != e3 ? e3[l3] : void 0;
          if (d4.hasOwnProperty(l3) && k !== h2 && (null != k || null != h2)) if ("style" === l3) if (h2) {
            for (g in h2) !h2.hasOwnProperty(g) || k && k.hasOwnProperty(g) || (c3 || (c3 = {}), c3[g] = "");
            for (g in k) k.hasOwnProperty(g) && h2[g] !== k[g] && (c3 || (c3 = {}), c3[g] = k[g]);
          } else c3 || (f3 || (f3 = []), f3.push(
            l3,
            c3
          )), c3 = k;
          else "dangerouslySetInnerHTML" === l3 ? (k = k ? k.__html : void 0, h2 = h2 ? h2.__html : void 0, null != k && h2 !== k && (f3 = f3 || []).push(l3, k)) : "children" === l3 ? "string" !== typeof k && "number" !== typeof k || (f3 = f3 || []).push(l3, "" + k) : "suppressContentEditableWarning" !== l3 && "suppressHydrationWarning" !== l3 && (ea.hasOwnProperty(l3) ? (null != k && "onScroll" === l3 && D("scroll", a2), f3 || h2 === k || (f3 = [])) : (f3 = f3 || []).push(l3, k));
        }
        c3 && (f3 = f3 || []).push("style", c3);
        var l3 = f3;
        if (b.updateQueue = l3) b.flags |= 4;
      }
    };
    Cj = function(a2, b, c3, d4) {
      c3 !== d4 && (b.flags |= 4);
    };
    function Dj(a2, b) {
      if (!I2) switch (a2.tailMode) {
        case "hidden":
          b = a2.tail;
          for (var c3 = null; null !== b; ) null !== b.alternate && (c3 = b), b = b.sibling;
          null === c3 ? a2.tail = null : c3.sibling = null;
          break;
        case "collapsed":
          c3 = a2.tail;
          for (var d4 = null; null !== c3; ) null !== c3.alternate && (d4 = c3), c3 = c3.sibling;
          null === d4 ? b || null === a2.tail ? a2.tail = null : a2.tail.sibling = null : d4.sibling = null;
      }
    }
    function S(a2) {
      var b = null !== a2.alternate && a2.alternate.child === a2.child, c3 = 0, d4 = 0;
      if (b) for (var e3 = a2.child; null !== e3; ) c3 |= e3.lanes | e3.childLanes, d4 |= e3.subtreeFlags & 14680064, d4 |= e3.flags & 14680064, e3.return = a2, e3 = e3.sibling;
      else for (e3 = a2.child; null !== e3; ) c3 |= e3.lanes | e3.childLanes, d4 |= e3.subtreeFlags, d4 |= e3.flags, e3.return = a2, e3 = e3.sibling;
      a2.subtreeFlags |= d4;
      a2.childLanes = c3;
      return b;
    }
    function Ej(a2, b, c3) {
      var d4 = b.pendingProps;
      wg(b);
      switch (b.tag) {
        case 2:
        case 16:
        case 15:
        case 0:
        case 11:
        case 7:
        case 8:
        case 12:
        case 9:
        case 14:
          return S(b), null;
        case 1:
          return Zf(b.type) && $f(), S(b), null;
        case 3:
          d4 = b.stateNode;
          zh();
          E(Wf);
          E(H);
          Eh();
          d4.pendingContext && (d4.context = d4.pendingContext, d4.pendingContext = null);
          if (null === a2 || null === a2.child) Gg(b) ? b.flags |= 4 : null === a2 || a2.memoizedState.isDehydrated && 0 === (b.flags & 256) || (b.flags |= 1024, null !== zg && (Fj(zg), zg = null));
          Aj(a2, b);
          S(b);
          return null;
        case 5:
          Bh(b);
          var e3 = xh(wh.current);
          c3 = b.type;
          if (null !== a2 && null != b.stateNode) Bj(a2, b, c3, d4, e3), a2.ref !== b.ref && (b.flags |= 512, b.flags |= 2097152);
          else {
            if (!d4) {
              if (null === b.stateNode) throw Error(p3(166));
              S(b);
              return null;
            }
            a2 = xh(uh.current);
            if (Gg(b)) {
              d4 = b.stateNode;
              c3 = b.type;
              var f3 = b.memoizedProps;
              d4[Of] = b;
              d4[Pf] = f3;
              a2 = 0 !== (b.mode & 1);
              switch (c3) {
                case "dialog":
                  D("cancel", d4);
                  D("close", d4);
                  break;
                case "iframe":
                case "object":
                case "embed":
                  D("load", d4);
                  break;
                case "video":
                case "audio":
                  for (e3 = 0; e3 < lf.length; e3++) D(lf[e3], d4);
                  break;
                case "source":
                  D("error", d4);
                  break;
                case "img":
                case "image":
                case "link":
                  D(
                    "error",
                    d4
                  );
                  D("load", d4);
                  break;
                case "details":
                  D("toggle", d4);
                  break;
                case "input":
                  Za(d4, f3);
                  D("invalid", d4);
                  break;
                case "select":
                  d4._wrapperState = { wasMultiple: !!f3.multiple };
                  D("invalid", d4);
                  break;
                case "textarea":
                  hb(d4, f3), D("invalid", d4);
              }
              ub(c3, f3);
              e3 = null;
              for (var g in f3) if (f3.hasOwnProperty(g)) {
                var h2 = f3[g];
                "children" === g ? "string" === typeof h2 ? d4.textContent !== h2 && (true !== f3.suppressHydrationWarning && Af(d4.textContent, h2, a2), e3 = ["children", h2]) : "number" === typeof h2 && d4.textContent !== "" + h2 && (true !== f3.suppressHydrationWarning && Af(
                  d4.textContent,
                  h2,
                  a2
                ), e3 = ["children", "" + h2]) : ea.hasOwnProperty(g) && null != h2 && "onScroll" === g && D("scroll", d4);
              }
              switch (c3) {
                case "input":
                  Va(d4);
                  db(d4, f3, true);
                  break;
                case "textarea":
                  Va(d4);
                  jb(d4);
                  break;
                case "select":
                case "option":
                  break;
                default:
                  "function" === typeof f3.onClick && (d4.onclick = Bf);
              }
              d4 = e3;
              b.updateQueue = d4;
              null !== d4 && (b.flags |= 4);
            } else {
              g = 9 === e3.nodeType ? e3 : e3.ownerDocument;
              "http://www.w3.org/1999/xhtml" === a2 && (a2 = kb(c3));
              "http://www.w3.org/1999/xhtml" === a2 ? "script" === c3 ? (a2 = g.createElement("div"), a2.innerHTML = "<script><\/script>", a2 = a2.removeChild(a2.firstChild)) : "string" === typeof d4.is ? a2 = g.createElement(c3, { is: d4.is }) : (a2 = g.createElement(c3), "select" === c3 && (g = a2, d4.multiple ? g.multiple = true : d4.size && (g.size = d4.size))) : a2 = g.createElementNS(a2, c3);
              a2[Of] = b;
              a2[Pf] = d4;
              zj(a2, b, false, false);
              b.stateNode = a2;
              a: {
                g = vb(c3, d4);
                switch (c3) {
                  case "dialog":
                    D("cancel", a2);
                    D("close", a2);
                    e3 = d4;
                    break;
                  case "iframe":
                  case "object":
                  case "embed":
                    D("load", a2);
                    e3 = d4;
                    break;
                  case "video":
                  case "audio":
                    for (e3 = 0; e3 < lf.length; e3++) D(lf[e3], a2);
                    e3 = d4;
                    break;
                  case "source":
                    D("error", a2);
                    e3 = d4;
                    break;
                  case "img":
                  case "image":
                  case "link":
                    D(
                      "error",
                      a2
                    );
                    D("load", a2);
                    e3 = d4;
                    break;
                  case "details":
                    D("toggle", a2);
                    e3 = d4;
                    break;
                  case "input":
                    Za(a2, d4);
                    e3 = Ya(a2, d4);
                    D("invalid", a2);
                    break;
                  case "option":
                    e3 = d4;
                    break;
                  case "select":
                    a2._wrapperState = { wasMultiple: !!d4.multiple };
                    e3 = A({}, d4, { value: void 0 });
                    D("invalid", a2);
                    break;
                  case "textarea":
                    hb(a2, d4);
                    e3 = gb(a2, d4);
                    D("invalid", a2);
                    break;
                  default:
                    e3 = d4;
                }
                ub(c3, e3);
                h2 = e3;
                for (f3 in h2) if (h2.hasOwnProperty(f3)) {
                  var k = h2[f3];
                  "style" === f3 ? sb(a2, k) : "dangerouslySetInnerHTML" === f3 ? (k = k ? k.__html : void 0, null != k && nb(a2, k)) : "children" === f3 ? "string" === typeof k ? ("textarea" !== c3 || "" !== k) && ob(a2, k) : "number" === typeof k && ob(a2, "" + k) : "suppressContentEditableWarning" !== f3 && "suppressHydrationWarning" !== f3 && "autoFocus" !== f3 && (ea.hasOwnProperty(f3) ? null != k && "onScroll" === f3 && D("scroll", a2) : null != k && ta(a2, f3, k, g));
                }
                switch (c3) {
                  case "input":
                    Va(a2);
                    db(a2, d4, false);
                    break;
                  case "textarea":
                    Va(a2);
                    jb(a2);
                    break;
                  case "option":
                    null != d4.value && a2.setAttribute("value", "" + Sa(d4.value));
                    break;
                  case "select":
                    a2.multiple = !!d4.multiple;
                    f3 = d4.value;
                    null != f3 ? fb(a2, !!d4.multiple, f3, false) : null != d4.defaultValue && fb(
                      a2,
                      !!d4.multiple,
                      d4.defaultValue,
                      true
                    );
                    break;
                  default:
                    "function" === typeof e3.onClick && (a2.onclick = Bf);
                }
                switch (c3) {
                  case "button":
                  case "input":
                  case "select":
                  case "textarea":
                    d4 = !!d4.autoFocus;
                    break a;
                  case "img":
                    d4 = true;
                    break a;
                  default:
                    d4 = false;
                }
              }
              d4 && (b.flags |= 4);
            }
            null !== b.ref && (b.flags |= 512, b.flags |= 2097152);
          }
          S(b);
          return null;
        case 6:
          if (a2 && null != b.stateNode) Cj(a2, b, a2.memoizedProps, d4);
          else {
            if ("string" !== typeof d4 && null === b.stateNode) throw Error(p3(166));
            c3 = xh(wh.current);
            xh(uh.current);
            if (Gg(b)) {
              d4 = b.stateNode;
              c3 = b.memoizedProps;
              d4[Of] = b;
              if (f3 = d4.nodeValue !== c3) {
                if (a2 = xg, null !== a2) switch (a2.tag) {
                  case 3:
                    Af(d4.nodeValue, c3, 0 !== (a2.mode & 1));
                    break;
                  case 5:
                    true !== a2.memoizedProps.suppressHydrationWarning && Af(d4.nodeValue, c3, 0 !== (a2.mode & 1));
                }
              }
              f3 && (b.flags |= 4);
            } else d4 = (9 === c3.nodeType ? c3 : c3.ownerDocument).createTextNode(d4), d4[Of] = b, b.stateNode = d4;
          }
          S(b);
          return null;
        case 13:
          E(L);
          d4 = b.memoizedState;
          if (null === a2 || null !== a2.memoizedState && null !== a2.memoizedState.dehydrated) {
            if (I2 && null !== yg && 0 !== (b.mode & 1) && 0 === (b.flags & 128)) Hg(), Ig(), b.flags |= 98560, f3 = false;
            else if (f3 = Gg(b), null !== d4 && null !== d4.dehydrated) {
              if (null === a2) {
                if (!f3) throw Error(p3(318));
                f3 = b.memoizedState;
                f3 = null !== f3 ? f3.dehydrated : null;
                if (!f3) throw Error(p3(317));
                f3[Of] = b;
              } else Ig(), 0 === (b.flags & 128) && (b.memoizedState = null), b.flags |= 4;
              S(b);
              f3 = false;
            } else null !== zg && (Fj(zg), zg = null), f3 = true;
            if (!f3) return b.flags & 65536 ? b : null;
          }
          if (0 !== (b.flags & 128)) return b.lanes = c3, b;
          d4 = null !== d4;
          d4 !== (null !== a2 && null !== a2.memoizedState) && d4 && (b.child.flags |= 8192, 0 !== (b.mode & 1) && (null === a2 || 0 !== (L.current & 1) ? 0 === T && (T = 3) : tj()));
          null !== b.updateQueue && (b.flags |= 4);
          S(b);
          return null;
        case 4:
          return zh(), Aj(a2, b), null === a2 && sf(b.stateNode.containerInfo), S(b), null;
        case 10:
          return ah(b.type._context), S(b), null;
        case 17:
          return Zf(b.type) && $f(), S(b), null;
        case 19:
          E(L);
          f3 = b.memoizedState;
          if (null === f3) return S(b), null;
          d4 = 0 !== (b.flags & 128);
          g = f3.rendering;
          if (null === g) if (d4) Dj(f3, false);
          else {
            if (0 !== T || null !== a2 && 0 !== (a2.flags & 128)) for (a2 = b.child; null !== a2; ) {
              g = Ch(a2);
              if (null !== g) {
                b.flags |= 128;
                Dj(f3, false);
                d4 = g.updateQueue;
                null !== d4 && (b.updateQueue = d4, b.flags |= 4);
                b.subtreeFlags = 0;
                d4 = c3;
                for (c3 = b.child; null !== c3; ) f3 = c3, a2 = d4, f3.flags &= 14680066, g = f3.alternate, null === g ? (f3.childLanes = 0, f3.lanes = a2, f3.child = null, f3.subtreeFlags = 0, f3.memoizedProps = null, f3.memoizedState = null, f3.updateQueue = null, f3.dependencies = null, f3.stateNode = null) : (f3.childLanes = g.childLanes, f3.lanes = g.lanes, f3.child = g.child, f3.subtreeFlags = 0, f3.deletions = null, f3.memoizedProps = g.memoizedProps, f3.memoizedState = g.memoizedState, f3.updateQueue = g.updateQueue, f3.type = g.type, a2 = g.dependencies, f3.dependencies = null === a2 ? null : { lanes: a2.lanes, firstContext: a2.firstContext }), c3 = c3.sibling;
                G(L, L.current & 1 | 2);
                return b.child;
              }
              a2 = a2.sibling;
            }
            null !== f3.tail && B() > Gj && (b.flags |= 128, d4 = true, Dj(f3, false), b.lanes = 4194304);
          }
          else {
            if (!d4) if (a2 = Ch(g), null !== a2) {
              if (b.flags |= 128, d4 = true, c3 = a2.updateQueue, null !== c3 && (b.updateQueue = c3, b.flags |= 4), Dj(f3, true), null === f3.tail && "hidden" === f3.tailMode && !g.alternate && !I2) return S(b), null;
            } else 2 * B() - f3.renderingStartTime > Gj && 1073741824 !== c3 && (b.flags |= 128, d4 = true, Dj(f3, false), b.lanes = 4194304);
            f3.isBackwards ? (g.sibling = b.child, b.child = g) : (c3 = f3.last, null !== c3 ? c3.sibling = g : b.child = g, f3.last = g);
          }
          if (null !== f3.tail) return b = f3.tail, f3.rendering = b, f3.tail = b.sibling, f3.renderingStartTime = B(), b.sibling = null, c3 = L.current, G(L, d4 ? c3 & 1 | 2 : c3 & 1), b;
          S(b);
          return null;
        case 22:
        case 23:
          return Hj(), d4 = null !== b.memoizedState, null !== a2 && null !== a2.memoizedState !== d4 && (b.flags |= 8192), d4 && 0 !== (b.mode & 1) ? 0 !== (fj & 1073741824) && (S(b), b.subtreeFlags & 6 && (b.flags |= 8192)) : S(b), null;
        case 24:
          return null;
        case 25:
          return null;
      }
      throw Error(p3(156, b.tag));
    }
    function Ij(a2, b) {
      wg(b);
      switch (b.tag) {
        case 1:
          return Zf(b.type) && $f(), a2 = b.flags, a2 & 65536 ? (b.flags = a2 & -65537 | 128, b) : null;
        case 3:
          return zh(), E(Wf), E(H), Eh(), a2 = b.flags, 0 !== (a2 & 65536) && 0 === (a2 & 128) ? (b.flags = a2 & -65537 | 128, b) : null;
        case 5:
          return Bh(b), null;
        case 13:
          E(L);
          a2 = b.memoizedState;
          if (null !== a2 && null !== a2.dehydrated) {
            if (null === b.alternate) throw Error(p3(340));
            Ig();
          }
          a2 = b.flags;
          return a2 & 65536 ? (b.flags = a2 & -65537 | 128, b) : null;
        case 19:
          return E(L), null;
        case 4:
          return zh(), null;
        case 10:
          return ah(b.type._context), null;
        case 22:
        case 23:
          return Hj(), null;
        case 24:
          return null;
        default:
          return null;
      }
    }
    var Jj = false;
    var U = false;
    var Kj = "function" === typeof WeakSet ? WeakSet : Set;
    var V = null;
    function Lj(a2, b) {
      var c3 = a2.ref;
      if (null !== c3) if ("function" === typeof c3) try {
        c3(null);
      } catch (d4) {
        W(a2, b, d4);
      }
      else c3.current = null;
    }
    function Mj(a2, b, c3) {
      try {
        c3();
      } catch (d4) {
        W(a2, b, d4);
      }
    }
    var Nj = false;
    function Oj(a2, b) {
      Cf = dd;
      a2 = Me();
      if (Ne(a2)) {
        if ("selectionStart" in a2) var c3 = { start: a2.selectionStart, end: a2.selectionEnd };
        else a: {
          c3 = (c3 = a2.ownerDocument) && c3.defaultView || window;
          var d4 = c3.getSelection && c3.getSelection();
          if (d4 && 0 !== d4.rangeCount) {
            c3 = d4.anchorNode;
            var e3 = d4.anchorOffset, f3 = d4.focusNode;
            d4 = d4.focusOffset;
            try {
              c3.nodeType, f3.nodeType;
            } catch (F) {
              c3 = null;
              break a;
            }
            var g = 0, h2 = -1, k = -1, l3 = 0, m = 0, q = a2, r3 = null;
            b: for (; ; ) {
              for (var y2; ; ) {
                q !== c3 || 0 !== e3 && 3 !== q.nodeType || (h2 = g + e3);
                q !== f3 || 0 !== d4 && 3 !== q.nodeType || (k = g + d4);
                3 === q.nodeType && (g += q.nodeValue.length);
                if (null === (y2 = q.firstChild)) break;
                r3 = q;
                q = y2;
              }
              for (; ; ) {
                if (q === a2) break b;
                r3 === c3 && ++l3 === e3 && (h2 = g);
                r3 === f3 && ++m === d4 && (k = g);
                if (null !== (y2 = q.nextSibling)) break;
                q = r3;
                r3 = q.parentNode;
              }
              q = y2;
            }
            c3 = -1 === h2 || -1 === k ? null : { start: h2, end: k };
          } else c3 = null;
        }
        c3 = c3 || { start: 0, end: 0 };
      } else c3 = null;
      Df = { focusedElem: a2, selectionRange: c3 };
      dd = false;
      for (V = b; null !== V; ) if (b = V, a2 = b.child, 0 !== (b.subtreeFlags & 1028) && null !== a2) a2.return = b, V = a2;
      else for (; null !== V; ) {
        b = V;
        try {
          var n2 = b.alternate;
          if (0 !== (b.flags & 1024)) switch (b.tag) {
            case 0:
            case 11:
            case 15:
              break;
            case 1:
              if (null !== n2) {
                var t2 = n2.memoizedProps, J = n2.memoizedState, x = b.stateNode, w = x.getSnapshotBeforeUpdate(b.elementType === b.type ? t2 : Ci(b.type, t2), J);
                x.__reactInternalSnapshotBeforeUpdate = w;
              }
              break;
            case 3:
              var u3 = b.stateNode.containerInfo;
              1 === u3.nodeType ? u3.textContent = "" : 9 === u3.nodeType && u3.documentElement && u3.removeChild(u3.documentElement);
              break;
            case 5:
            case 6:
            case 4:
            case 17:
              break;
            default:
              throw Error(p3(163));
          }
        } catch (F) {
          W(b, b.return, F);
        }
        a2 = b.sibling;
        if (null !== a2) {
          a2.return = b.return;
          V = a2;
          break;
        }
        V = b.return;
      }
      n2 = Nj;
      Nj = false;
      return n2;
    }
    function Pj(a2, b, c3) {
      var d4 = b.updateQueue;
      d4 = null !== d4 ? d4.lastEffect : null;
      if (null !== d4) {
        var e3 = d4 = d4.next;
        do {
          if ((e3.tag & a2) === a2) {
            var f3 = e3.destroy;
            e3.destroy = void 0;
            void 0 !== f3 && Mj(b, c3, f3);
          }
          e3 = e3.next;
        } while (e3 !== d4);
      }
    }
    function Qj(a2, b) {
      b = b.updateQueue;
      b = null !== b ? b.lastEffect : null;
      if (null !== b) {
        var c3 = b = b.next;
        do {
          if ((c3.tag & a2) === a2) {
            var d4 = c3.create;
            c3.destroy = d4();
          }
          c3 = c3.next;
        } while (c3 !== b);
      }
    }
    function Rj(a2) {
      var b = a2.ref;
      if (null !== b) {
        var c3 = a2.stateNode;
        switch (a2.tag) {
          case 5:
            a2 = c3;
            break;
          default:
            a2 = c3;
        }
        "function" === typeof b ? b(a2) : b.current = a2;
      }
    }
    function Sj(a2) {
      var b = a2.alternate;
      null !== b && (a2.alternate = null, Sj(b));
      a2.child = null;
      a2.deletions = null;
      a2.sibling = null;
      5 === a2.tag && (b = a2.stateNode, null !== b && (delete b[Of], delete b[Pf], delete b[of], delete b[Qf], delete b[Rf]));
      a2.stateNode = null;
      a2.return = null;
      a2.dependencies = null;
      a2.memoizedProps = null;
      a2.memoizedState = null;
      a2.pendingProps = null;
      a2.stateNode = null;
      a2.updateQueue = null;
    }
    function Tj(a2) {
      return 5 === a2.tag || 3 === a2.tag || 4 === a2.tag;
    }
    function Uj(a2) {
      a: for (; ; ) {
        for (; null === a2.sibling; ) {
          if (null === a2.return || Tj(a2.return)) return null;
          a2 = a2.return;
        }
        a2.sibling.return = a2.return;
        for (a2 = a2.sibling; 5 !== a2.tag && 6 !== a2.tag && 18 !== a2.tag; ) {
          if (a2.flags & 2) continue a;
          if (null === a2.child || 4 === a2.tag) continue a;
          else a2.child.return = a2, a2 = a2.child;
        }
        if (!(a2.flags & 2)) return a2.stateNode;
      }
    }
    function Vj(a2, b, c3) {
      var d4 = a2.tag;
      if (5 === d4 || 6 === d4) a2 = a2.stateNode, b ? 8 === c3.nodeType ? c3.parentNode.insertBefore(a2, b) : c3.insertBefore(a2, b) : (8 === c3.nodeType ? (b = c3.parentNode, b.insertBefore(a2, c3)) : (b = c3, b.appendChild(a2)), c3 = c3._reactRootContainer, null !== c3 && void 0 !== c3 || null !== b.onclick || (b.onclick = Bf));
      else if (4 !== d4 && (a2 = a2.child, null !== a2)) for (Vj(a2, b, c3), a2 = a2.sibling; null !== a2; ) Vj(a2, b, c3), a2 = a2.sibling;
    }
    function Wj(a2, b, c3) {
      var d4 = a2.tag;
      if (5 === d4 || 6 === d4) a2 = a2.stateNode, b ? c3.insertBefore(a2, b) : c3.appendChild(a2);
      else if (4 !== d4 && (a2 = a2.child, null !== a2)) for (Wj(a2, b, c3), a2 = a2.sibling; null !== a2; ) Wj(a2, b, c3), a2 = a2.sibling;
    }
    var X = null;
    var Xj = false;
    function Yj(a2, b, c3) {
      for (c3 = c3.child; null !== c3; ) Zj(a2, b, c3), c3 = c3.sibling;
    }
    function Zj(a2, b, c3) {
      if (lc && "function" === typeof lc.onCommitFiberUnmount) try {
        lc.onCommitFiberUnmount(kc, c3);
      } catch (h2) {
      }
      switch (c3.tag) {
        case 5:
          U || Lj(c3, b);
        case 6:
          var d4 = X, e3 = Xj;
          X = null;
          Yj(a2, b, c3);
          X = d4;
          Xj = e3;
          null !== X && (Xj ? (a2 = X, c3 = c3.stateNode, 8 === a2.nodeType ? a2.parentNode.removeChild(c3) : a2.removeChild(c3)) : X.removeChild(c3.stateNode));
          break;
        case 18:
          null !== X && (Xj ? (a2 = X, c3 = c3.stateNode, 8 === a2.nodeType ? Kf(a2.parentNode, c3) : 1 === a2.nodeType && Kf(a2, c3), bd(a2)) : Kf(X, c3.stateNode));
          break;
        case 4:
          d4 = X;
          e3 = Xj;
          X = c3.stateNode.containerInfo;
          Xj = true;
          Yj(a2, b, c3);
          X = d4;
          Xj = e3;
          break;
        case 0:
        case 11:
        case 14:
        case 15:
          if (!U && (d4 = c3.updateQueue, null !== d4 && (d4 = d4.lastEffect, null !== d4))) {
            e3 = d4 = d4.next;
            do {
              var f3 = e3, g = f3.destroy;
              f3 = f3.tag;
              void 0 !== g && (0 !== (f3 & 2) ? Mj(c3, b, g) : 0 !== (f3 & 4) && Mj(c3, b, g));
              e3 = e3.next;
            } while (e3 !== d4);
          }
          Yj(a2, b, c3);
          break;
        case 1:
          if (!U && (Lj(c3, b), d4 = c3.stateNode, "function" === typeof d4.componentWillUnmount)) try {
            d4.props = c3.memoizedProps, d4.state = c3.memoizedState, d4.componentWillUnmount();
          } catch (h2) {
            W(c3, b, h2);
          }
          Yj(a2, b, c3);
          break;
        case 21:
          Yj(a2, b, c3);
          break;
        case 22:
          c3.mode & 1 ? (U = (d4 = U) || null !== c3.memoizedState, Yj(a2, b, c3), U = d4) : Yj(a2, b, c3);
          break;
        default:
          Yj(a2, b, c3);
      }
    }
    function ak(a2) {
      var b = a2.updateQueue;
      if (null !== b) {
        a2.updateQueue = null;
        var c3 = a2.stateNode;
        null === c3 && (c3 = a2.stateNode = new Kj());
        b.forEach(function(b2) {
          var d4 = bk.bind(null, a2, b2);
          c3.has(b2) || (c3.add(b2), b2.then(d4, d4));
        });
      }
    }
    function ck(a2, b) {
      var c3 = b.deletions;
      if (null !== c3) for (var d4 = 0; d4 < c3.length; d4++) {
        var e3 = c3[d4];
        try {
          var f3 = a2, g = b, h2 = g;
          a: for (; null !== h2; ) {
            switch (h2.tag) {
              case 5:
                X = h2.stateNode;
                Xj = false;
                break a;
              case 3:
                X = h2.stateNode.containerInfo;
                Xj = true;
                break a;
              case 4:
                X = h2.stateNode.containerInfo;
                Xj = true;
                break a;
            }
            h2 = h2.return;
          }
          if (null === X) throw Error(p3(160));
          Zj(f3, g, e3);
          X = null;
          Xj = false;
          var k = e3.alternate;
          null !== k && (k.return = null);
          e3.return = null;
        } catch (l3) {
          W(e3, b, l3);
        }
      }
      if (b.subtreeFlags & 12854) for (b = b.child; null !== b; ) dk(b, a2), b = b.sibling;
    }
    function dk(a2, b) {
      var c3 = a2.alternate, d4 = a2.flags;
      switch (a2.tag) {
        case 0:
        case 11:
        case 14:
        case 15:
          ck(b, a2);
          ek(a2);
          if (d4 & 4) {
            try {
              Pj(3, a2, a2.return), Qj(3, a2);
            } catch (t2) {
              W(a2, a2.return, t2);
            }
            try {
              Pj(5, a2, a2.return);
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          break;
        case 1:
          ck(b, a2);
          ek(a2);
          d4 & 512 && null !== c3 && Lj(c3, c3.return);
          break;
        case 5:
          ck(b, a2);
          ek(a2);
          d4 & 512 && null !== c3 && Lj(c3, c3.return);
          if (a2.flags & 32) {
            var e3 = a2.stateNode;
            try {
              ob(e3, "");
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          if (d4 & 4 && (e3 = a2.stateNode, null != e3)) {
            var f3 = a2.memoizedProps, g = null !== c3 ? c3.memoizedProps : f3, h2 = a2.type, k = a2.updateQueue;
            a2.updateQueue = null;
            if (null !== k) try {
              "input" === h2 && "radio" === f3.type && null != f3.name && ab(e3, f3);
              vb(h2, g);
              var l3 = vb(h2, f3);
              for (g = 0; g < k.length; g += 2) {
                var m = k[g], q = k[g + 1];
                "style" === m ? sb(e3, q) : "dangerouslySetInnerHTML" === m ? nb(e3, q) : "children" === m ? ob(e3, q) : ta(e3, m, q, l3);
              }
              switch (h2) {
                case "input":
                  bb(e3, f3);
                  break;
                case "textarea":
                  ib(e3, f3);
                  break;
                case "select":
                  var r3 = e3._wrapperState.wasMultiple;
                  e3._wrapperState.wasMultiple = !!f3.multiple;
                  var y2 = f3.value;
                  null != y2 ? fb(e3, !!f3.multiple, y2, false) : r3 !== !!f3.multiple && (null != f3.defaultValue ? fb(
                    e3,
                    !!f3.multiple,
                    f3.defaultValue,
                    true
                  ) : fb(e3, !!f3.multiple, f3.multiple ? [] : "", false));
              }
              e3[Pf] = f3;
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          break;
        case 6:
          ck(b, a2);
          ek(a2);
          if (d4 & 4) {
            if (null === a2.stateNode) throw Error(p3(162));
            e3 = a2.stateNode;
            f3 = a2.memoizedProps;
            try {
              e3.nodeValue = f3;
            } catch (t2) {
              W(a2, a2.return, t2);
            }
          }
          break;
        case 3:
          ck(b, a2);
          ek(a2);
          if (d4 & 4 && null !== c3 && c3.memoizedState.isDehydrated) try {
            bd(b.containerInfo);
          } catch (t2) {
            W(a2, a2.return, t2);
          }
          break;
        case 4:
          ck(b, a2);
          ek(a2);
          break;
        case 13:
          ck(b, a2);
          ek(a2);
          e3 = a2.child;
          e3.flags & 8192 && (f3 = null !== e3.memoizedState, e3.stateNode.isHidden = f3, !f3 || null !== e3.alternate && null !== e3.alternate.memoizedState || (fk = B()));
          d4 & 4 && ak(a2);
          break;
        case 22:
          m = null !== c3 && null !== c3.memoizedState;
          a2.mode & 1 ? (U = (l3 = U) || m, ck(b, a2), U = l3) : ck(b, a2);
          ek(a2);
          if (d4 & 8192) {
            l3 = null !== a2.memoizedState;
            if ((a2.stateNode.isHidden = l3) && !m && 0 !== (a2.mode & 1)) for (V = a2, m = a2.child; null !== m; ) {
              for (q = V = m; null !== V; ) {
                r3 = V;
                y2 = r3.child;
                switch (r3.tag) {
                  case 0:
                  case 11:
                  case 14:
                  case 15:
                    Pj(4, r3, r3.return);
                    break;
                  case 1:
                    Lj(r3, r3.return);
                    var n2 = r3.stateNode;
                    if ("function" === typeof n2.componentWillUnmount) {
                      d4 = r3;
                      c3 = r3.return;
                      try {
                        b = d4, n2.props = b.memoizedProps, n2.state = b.memoizedState, n2.componentWillUnmount();
                      } catch (t2) {
                        W(d4, c3, t2);
                      }
                    }
                    break;
                  case 5:
                    Lj(r3, r3.return);
                    break;
                  case 22:
                    if (null !== r3.memoizedState) {
                      gk(q);
                      continue;
                    }
                }
                null !== y2 ? (y2.return = r3, V = y2) : gk(q);
              }
              m = m.sibling;
            }
            a: for (m = null, q = a2; ; ) {
              if (5 === q.tag) {
                if (null === m) {
                  m = q;
                  try {
                    e3 = q.stateNode, l3 ? (f3 = e3.style, "function" === typeof f3.setProperty ? f3.setProperty("display", "none", "important") : f3.display = "none") : (h2 = q.stateNode, k = q.memoizedProps.style, g = void 0 !== k && null !== k && k.hasOwnProperty("display") ? k.display : null, h2.style.display = rb("display", g));
                  } catch (t2) {
                    W(a2, a2.return, t2);
                  }
                }
              } else if (6 === q.tag) {
                if (null === m) try {
                  q.stateNode.nodeValue = l3 ? "" : q.memoizedProps;
                } catch (t2) {
                  W(a2, a2.return, t2);
                }
              } else if ((22 !== q.tag && 23 !== q.tag || null === q.memoizedState || q === a2) && null !== q.child) {
                q.child.return = q;
                q = q.child;
                continue;
              }
              if (q === a2) break a;
              for (; null === q.sibling; ) {
                if (null === q.return || q.return === a2) break a;
                m === q && (m = null);
                q = q.return;
              }
              m === q && (m = null);
              q.sibling.return = q.return;
              q = q.sibling;
            }
          }
          break;
        case 19:
          ck(b, a2);
          ek(a2);
          d4 & 4 && ak(a2);
          break;
        case 21:
          break;
        default:
          ck(
            b,
            a2
          ), ek(a2);
      }
    }
    function ek(a2) {
      var b = a2.flags;
      if (b & 2) {
        try {
          a: {
            for (var c3 = a2.return; null !== c3; ) {
              if (Tj(c3)) {
                var d4 = c3;
                break a;
              }
              c3 = c3.return;
            }
            throw Error(p3(160));
          }
          switch (d4.tag) {
            case 5:
              var e3 = d4.stateNode;
              d4.flags & 32 && (ob(e3, ""), d4.flags &= -33);
              var f3 = Uj(a2);
              Wj(a2, f3, e3);
              break;
            case 3:
            case 4:
              var g = d4.stateNode.containerInfo, h2 = Uj(a2);
              Vj(a2, h2, g);
              break;
            default:
              throw Error(p3(161));
          }
        } catch (k) {
          W(a2, a2.return, k);
        }
        a2.flags &= -3;
      }
      b & 4096 && (a2.flags &= -4097);
    }
    function hk(a2, b, c3) {
      V = a2;
      ik(a2, b, c3);
    }
    function ik(a2, b, c3) {
      for (var d4 = 0 !== (a2.mode & 1); null !== V; ) {
        var e3 = V, f3 = e3.child;
        if (22 === e3.tag && d4) {
          var g = null !== e3.memoizedState || Jj;
          if (!g) {
            var h2 = e3.alternate, k = null !== h2 && null !== h2.memoizedState || U;
            h2 = Jj;
            var l3 = U;
            Jj = g;
            if ((U = k) && !l3) for (V = e3; null !== V; ) g = V, k = g.child, 22 === g.tag && null !== g.memoizedState ? jk(e3) : null !== k ? (k.return = g, V = k) : jk(e3);
            for (; null !== f3; ) V = f3, ik(f3, b, c3), f3 = f3.sibling;
            V = e3;
            Jj = h2;
            U = l3;
          }
          kk(a2, b, c3);
        } else 0 !== (e3.subtreeFlags & 8772) && null !== f3 ? (f3.return = e3, V = f3) : kk(a2, b, c3);
      }
    }
    function kk(a2) {
      for (; null !== V; ) {
        var b = V;
        if (0 !== (b.flags & 8772)) {
          var c3 = b.alternate;
          try {
            if (0 !== (b.flags & 8772)) switch (b.tag) {
              case 0:
              case 11:
              case 15:
                U || Qj(5, b);
                break;
              case 1:
                var d4 = b.stateNode;
                if (b.flags & 4 && !U) if (null === c3) d4.componentDidMount();
                else {
                  var e3 = b.elementType === b.type ? c3.memoizedProps : Ci(b.type, c3.memoizedProps);
                  d4.componentDidUpdate(e3, c3.memoizedState, d4.__reactInternalSnapshotBeforeUpdate);
                }
                var f3 = b.updateQueue;
                null !== f3 && sh(b, f3, d4);
                break;
              case 3:
                var g = b.updateQueue;
                if (null !== g) {
                  c3 = null;
                  if (null !== b.child) switch (b.child.tag) {
                    case 5:
                      c3 = b.child.stateNode;
                      break;
                    case 1:
                      c3 = b.child.stateNode;
                  }
                  sh(b, g, c3);
                }
                break;
              case 5:
                var h2 = b.stateNode;
                if (null === c3 && b.flags & 4) {
                  c3 = h2;
                  var k = b.memoizedProps;
                  switch (b.type) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                      k.autoFocus && c3.focus();
                      break;
                    case "img":
                      k.src && (c3.src = k.src);
                  }
                }
                break;
              case 6:
                break;
              case 4:
                break;
              case 12:
                break;
              case 13:
                if (null === b.memoizedState) {
                  var l3 = b.alternate;
                  if (null !== l3) {
                    var m = l3.memoizedState;
                    if (null !== m) {
                      var q = m.dehydrated;
                      null !== q && bd(q);
                    }
                  }
                }
                break;
              case 19:
              case 17:
              case 21:
              case 22:
              case 23:
              case 25:
                break;
              default:
                throw Error(p3(163));
            }
            U || b.flags & 512 && Rj(b);
          } catch (r3) {
            W(b, b.return, r3);
          }
        }
        if (b === a2) {
          V = null;
          break;
        }
        c3 = b.sibling;
        if (null !== c3) {
          c3.return = b.return;
          V = c3;
          break;
        }
        V = b.return;
      }
    }
    function gk(a2) {
      for (; null !== V; ) {
        var b = V;
        if (b === a2) {
          V = null;
          break;
        }
        var c3 = b.sibling;
        if (null !== c3) {
          c3.return = b.return;
          V = c3;
          break;
        }
        V = b.return;
      }
    }
    function jk(a2) {
      for (; null !== V; ) {
        var b = V;
        try {
          switch (b.tag) {
            case 0:
            case 11:
            case 15:
              var c3 = b.return;
              try {
                Qj(4, b);
              } catch (k) {
                W(b, c3, k);
              }
              break;
            case 1:
              var d4 = b.stateNode;
              if ("function" === typeof d4.componentDidMount) {
                var e3 = b.return;
                try {
                  d4.componentDidMount();
                } catch (k) {
                  W(b, e3, k);
                }
              }
              var f3 = b.return;
              try {
                Rj(b);
              } catch (k) {
                W(b, f3, k);
              }
              break;
            case 5:
              var g = b.return;
              try {
                Rj(b);
              } catch (k) {
                W(b, g, k);
              }
          }
        } catch (k) {
          W(b, b.return, k);
        }
        if (b === a2) {
          V = null;
          break;
        }
        var h2 = b.sibling;
        if (null !== h2) {
          h2.return = b.return;
          V = h2;
          break;
        }
        V = b.return;
      }
    }
    var lk = Math.ceil;
    var mk = ua.ReactCurrentDispatcher;
    var nk = ua.ReactCurrentOwner;
    var ok = ua.ReactCurrentBatchConfig;
    var K = 0;
    var Q2 = null;
    var Y = null;
    var Z = 0;
    var fj = 0;
    var ej = Uf(0);
    var T = 0;
    var pk = null;
    var rh = 0;
    var qk = 0;
    var rk = 0;
    var sk = null;
    var tk = null;
    var fk = 0;
    var Gj = Infinity;
    var uk = null;
    var Oi = false;
    var Pi = null;
    var Ri = null;
    var vk = false;
    var wk = null;
    var xk = 0;
    var yk = 0;
    var zk = null;
    var Ak = -1;
    var Bk = 0;
    function R() {
      return 0 !== (K & 6) ? B() : -1 !== Ak ? Ak : Ak = B();
    }
    function yi(a2) {
      if (0 === (a2.mode & 1)) return 1;
      if (0 !== (K & 2) && 0 !== Z) return Z & -Z;
      if (null !== Kg.transition) return 0 === Bk && (Bk = yc()), Bk;
      a2 = C2;
      if (0 !== a2) return a2;
      a2 = window.event;
      a2 = void 0 === a2 ? 16 : jd(a2.type);
      return a2;
    }
    function gi(a2, b, c3, d4) {
      if (50 < yk) throw yk = 0, zk = null, Error(p3(185));
      Ac(a2, c3, d4);
      if (0 === (K & 2) || a2 !== Q2) a2 === Q2 && (0 === (K & 2) && (qk |= c3), 4 === T && Ck(a2, Z)), Dk(a2, d4), 1 === c3 && 0 === K && 0 === (b.mode & 1) && (Gj = B() + 500, fg && jg());
    }
    function Dk(a2, b) {
      var c3 = a2.callbackNode;
      wc(a2, b);
      var d4 = uc(a2, a2 === Q2 ? Z : 0);
      if (0 === d4) null !== c3 && bc(c3), a2.callbackNode = null, a2.callbackPriority = 0;
      else if (b = d4 & -d4, a2.callbackPriority !== b) {
        null != c3 && bc(c3);
        if (1 === b) 0 === a2.tag ? ig(Ek.bind(null, a2)) : hg(Ek.bind(null, a2)), Jf(function() {
          0 === (K & 6) && jg();
        }), c3 = null;
        else {
          switch (Dc(d4)) {
            case 1:
              c3 = fc;
              break;
            case 4:
              c3 = gc;
              break;
            case 16:
              c3 = hc;
              break;
            case 536870912:
              c3 = jc;
              break;
            default:
              c3 = hc;
          }
          c3 = Fk(c3, Gk.bind(null, a2));
        }
        a2.callbackPriority = b;
        a2.callbackNode = c3;
      }
    }
    function Gk(a2, b) {
      Ak = -1;
      Bk = 0;
      if (0 !== (K & 6)) throw Error(p3(327));
      var c3 = a2.callbackNode;
      if (Hk() && a2.callbackNode !== c3) return null;
      var d4 = uc(a2, a2 === Q2 ? Z : 0);
      if (0 === d4) return null;
      if (0 !== (d4 & 30) || 0 !== (d4 & a2.expiredLanes) || b) b = Ik(a2, d4);
      else {
        b = d4;
        var e3 = K;
        K |= 2;
        var f3 = Jk();
        if (Q2 !== a2 || Z !== b) uk = null, Gj = B() + 500, Kk(a2, b);
        do
          try {
            Lk();
            break;
          } catch (h2) {
            Mk(a2, h2);
          }
        while (1);
        $g();
        mk.current = f3;
        K = e3;
        null !== Y ? b = 0 : (Q2 = null, Z = 0, b = T);
      }
      if (0 !== b) {
        2 === b && (e3 = xc(a2), 0 !== e3 && (d4 = e3, b = Nk(a2, e3)));
        if (1 === b) throw c3 = pk, Kk(a2, 0), Ck(a2, d4), Dk(a2, B()), c3;
        if (6 === b) Ck(a2, d4);
        else {
          e3 = a2.current.alternate;
          if (0 === (d4 & 30) && !Ok(e3) && (b = Ik(a2, d4), 2 === b && (f3 = xc(a2), 0 !== f3 && (d4 = f3, b = Nk(a2, f3))), 1 === b)) throw c3 = pk, Kk(a2, 0), Ck(a2, d4), Dk(a2, B()), c3;
          a2.finishedWork = e3;
          a2.finishedLanes = d4;
          switch (b) {
            case 0:
            case 1:
              throw Error(p3(345));
            case 2:
              Pk(a2, tk, uk);
              break;
            case 3:
              Ck(a2, d4);
              if ((d4 & 130023424) === d4 && (b = fk + 500 - B(), 10 < b)) {
                if (0 !== uc(a2, 0)) break;
                e3 = a2.suspendedLanes;
                if ((e3 & d4) !== d4) {
                  R();
                  a2.pingedLanes |= a2.suspendedLanes & e3;
                  break;
                }
                a2.timeoutHandle = Ff(Pk.bind(null, a2, tk, uk), b);
                break;
              }
              Pk(a2, tk, uk);
              break;
            case 4:
              Ck(a2, d4);
              if ((d4 & 4194240) === d4) break;
              b = a2.eventTimes;
              for (e3 = -1; 0 < d4; ) {
                var g = 31 - oc(d4);
                f3 = 1 << g;
                g = b[g];
                g > e3 && (e3 = g);
                d4 &= ~f3;
              }
              d4 = e3;
              d4 = B() - d4;
              d4 = (120 > d4 ? 120 : 480 > d4 ? 480 : 1080 > d4 ? 1080 : 1920 > d4 ? 1920 : 3e3 > d4 ? 3e3 : 4320 > d4 ? 4320 : 1960 * lk(d4 / 1960)) - d4;
              if (10 < d4) {
                a2.timeoutHandle = Ff(Pk.bind(null, a2, tk, uk), d4);
                break;
              }
              Pk(a2, tk, uk);
              break;
            case 5:
              Pk(a2, tk, uk);
              break;
            default:
              throw Error(p3(329));
          }
        }
      }
      Dk(a2, B());
      return a2.callbackNode === c3 ? Gk.bind(null, a2) : null;
    }
    function Nk(a2, b) {
      var c3 = sk;
      a2.current.memoizedState.isDehydrated && (Kk(a2, b).flags |= 256);
      a2 = Ik(a2, b);
      2 !== a2 && (b = tk, tk = c3, null !== b && Fj(b));
      return a2;
    }
    function Fj(a2) {
      null === tk ? tk = a2 : tk.push.apply(tk, a2);
    }
    function Ok(a2) {
      for (var b = a2; ; ) {
        if (b.flags & 16384) {
          var c3 = b.updateQueue;
          if (null !== c3 && (c3 = c3.stores, null !== c3)) for (var d4 = 0; d4 < c3.length; d4++) {
            var e3 = c3[d4], f3 = e3.getSnapshot;
            e3 = e3.value;
            try {
              if (!He(f3(), e3)) return false;
            } catch (g) {
              return false;
            }
          }
        }
        c3 = b.child;
        if (b.subtreeFlags & 16384 && null !== c3) c3.return = b, b = c3;
        else {
          if (b === a2) break;
          for (; null === b.sibling; ) {
            if (null === b.return || b.return === a2) return true;
            b = b.return;
          }
          b.sibling.return = b.return;
          b = b.sibling;
        }
      }
      return true;
    }
    function Ck(a2, b) {
      b &= ~rk;
      b &= ~qk;
      a2.suspendedLanes |= b;
      a2.pingedLanes &= ~b;
      for (a2 = a2.expirationTimes; 0 < b; ) {
        var c3 = 31 - oc(b), d4 = 1 << c3;
        a2[c3] = -1;
        b &= ~d4;
      }
    }
    function Ek(a2) {
      if (0 !== (K & 6)) throw Error(p3(327));
      Hk();
      var b = uc(a2, 0);
      if (0 === (b & 1)) return Dk(a2, B()), null;
      var c3 = Ik(a2, b);
      if (0 !== a2.tag && 2 === c3) {
        var d4 = xc(a2);
        0 !== d4 && (b = d4, c3 = Nk(a2, d4));
      }
      if (1 === c3) throw c3 = pk, Kk(a2, 0), Ck(a2, b), Dk(a2, B()), c3;
      if (6 === c3) throw Error(p3(345));
      a2.finishedWork = a2.current.alternate;
      a2.finishedLanes = b;
      Pk(a2, tk, uk);
      Dk(a2, B());
      return null;
    }
    function Qk(a2, b) {
      var c3 = K;
      K |= 1;
      try {
        return a2(b);
      } finally {
        K = c3, 0 === K && (Gj = B() + 500, fg && jg());
      }
    }
    function Rk(a2) {
      null !== wk && 0 === wk.tag && 0 === (K & 6) && Hk();
      var b = K;
      K |= 1;
      var c3 = ok.transition, d4 = C2;
      try {
        if (ok.transition = null, C2 = 1, a2) return a2();
      } finally {
        C2 = d4, ok.transition = c3, K = b, 0 === (K & 6) && jg();
      }
    }
    function Hj() {
      fj = ej.current;
      E(ej);
    }
    function Kk(a2, b) {
      a2.finishedWork = null;
      a2.finishedLanes = 0;
      var c3 = a2.timeoutHandle;
      -1 !== c3 && (a2.timeoutHandle = -1, Gf(c3));
      if (null !== Y) for (c3 = Y.return; null !== c3; ) {
        var d4 = c3;
        wg(d4);
        switch (d4.tag) {
          case 1:
            d4 = d4.type.childContextTypes;
            null !== d4 && void 0 !== d4 && $f();
            break;
          case 3:
            zh();
            E(Wf);
            E(H);
            Eh();
            break;
          case 5:
            Bh(d4);
            break;
          case 4:
            zh();
            break;
          case 13:
            E(L);
            break;
          case 19:
            E(L);
            break;
          case 10:
            ah(d4.type._context);
            break;
          case 22:
          case 23:
            Hj();
        }
        c3 = c3.return;
      }
      Q2 = a2;
      Y = a2 = Pg(a2.current, null);
      Z = fj = b;
      T = 0;
      pk = null;
      rk = qk = rh = 0;
      tk = sk = null;
      if (null !== fh) {
        for (b = 0; b < fh.length; b++) if (c3 = fh[b], d4 = c3.interleaved, null !== d4) {
          c3.interleaved = null;
          var e3 = d4.next, f3 = c3.pending;
          if (null !== f3) {
            var g = f3.next;
            f3.next = e3;
            d4.next = g;
          }
          c3.pending = d4;
        }
        fh = null;
      }
      return a2;
    }
    function Mk(a2, b) {
      do {
        var c3 = Y;
        try {
          $g();
          Fh.current = Rh;
          if (Ih) {
            for (var d4 = M.memoizedState; null !== d4; ) {
              var e3 = d4.queue;
              null !== e3 && (e3.pending = null);
              d4 = d4.next;
            }
            Ih = false;
          }
          Hh = 0;
          O = N = M = null;
          Jh = false;
          Kh = 0;
          nk.current = null;
          if (null === c3 || null === c3.return) {
            T = 1;
            pk = b;
            Y = null;
            break;
          }
          a: {
            var f3 = a2, g = c3.return, h2 = c3, k = b;
            b = Z;
            h2.flags |= 32768;
            if (null !== k && "object" === typeof k && "function" === typeof k.then) {
              var l3 = k, m = h2, q = m.tag;
              if (0 === (m.mode & 1) && (0 === q || 11 === q || 15 === q)) {
                var r3 = m.alternate;
                r3 ? (m.updateQueue = r3.updateQueue, m.memoizedState = r3.memoizedState, m.lanes = r3.lanes) : (m.updateQueue = null, m.memoizedState = null);
              }
              var y2 = Ui(g);
              if (null !== y2) {
                y2.flags &= -257;
                Vi(y2, g, h2, f3, b);
                y2.mode & 1 && Si(f3, l3, b);
                b = y2;
                k = l3;
                var n2 = b.updateQueue;
                if (null === n2) {
                  var t2 = /* @__PURE__ */ new Set();
                  t2.add(k);
                  b.updateQueue = t2;
                } else n2.add(k);
                break a;
              } else {
                if (0 === (b & 1)) {
                  Si(f3, l3, b);
                  tj();
                  break a;
                }
                k = Error(p3(426));
              }
            } else if (I2 && h2.mode & 1) {
              var J = Ui(g);
              if (null !== J) {
                0 === (J.flags & 65536) && (J.flags |= 256);
                Vi(J, g, h2, f3, b);
                Jg(Ji(k, h2));
                break a;
              }
            }
            f3 = k = Ji(k, h2);
            4 !== T && (T = 2);
            null === sk ? sk = [f3] : sk.push(f3);
            f3 = g;
            do {
              switch (f3.tag) {
                case 3:
                  f3.flags |= 65536;
                  b &= -b;
                  f3.lanes |= b;
                  var x = Ni(f3, k, b);
                  ph(f3, x);
                  break a;
                case 1:
                  h2 = k;
                  var w = f3.type, u3 = f3.stateNode;
                  if (0 === (f3.flags & 128) && ("function" === typeof w.getDerivedStateFromError || null !== u3 && "function" === typeof u3.componentDidCatch && (null === Ri || !Ri.has(u3)))) {
                    f3.flags |= 65536;
                    b &= -b;
                    f3.lanes |= b;
                    var F = Qi(f3, h2, b);
                    ph(f3, F);
                    break a;
                  }
              }
              f3 = f3.return;
            } while (null !== f3);
          }
          Sk(c3);
        } catch (na) {
          b = na;
          Y === c3 && null !== c3 && (Y = c3 = c3.return);
          continue;
        }
        break;
      } while (1);
    }
    function Jk() {
      var a2 = mk.current;
      mk.current = Rh;
      return null === a2 ? Rh : a2;
    }
    function tj() {
      if (0 === T || 3 === T || 2 === T) T = 4;
      null === Q2 || 0 === (rh & 268435455) && 0 === (qk & 268435455) || Ck(Q2, Z);
    }
    function Ik(a2, b) {
      var c3 = K;
      K |= 2;
      var d4 = Jk();
      if (Q2 !== a2 || Z !== b) uk = null, Kk(a2, b);
      do
        try {
          Tk();
          break;
        } catch (e3) {
          Mk(a2, e3);
        }
      while (1);
      $g();
      K = c3;
      mk.current = d4;
      if (null !== Y) throw Error(p3(261));
      Q2 = null;
      Z = 0;
      return T;
    }
    function Tk() {
      for (; null !== Y; ) Uk(Y);
    }
    function Lk() {
      for (; null !== Y && !cc(); ) Uk(Y);
    }
    function Uk(a2) {
      var b = Vk(a2.alternate, a2, fj);
      a2.memoizedProps = a2.pendingProps;
      null === b ? Sk(a2) : Y = b;
      nk.current = null;
    }
    function Sk(a2) {
      var b = a2;
      do {
        var c3 = b.alternate;
        a2 = b.return;
        if (0 === (b.flags & 32768)) {
          if (c3 = Ej(c3, b, fj), null !== c3) {
            Y = c3;
            return;
          }
        } else {
          c3 = Ij(c3, b);
          if (null !== c3) {
            c3.flags &= 32767;
            Y = c3;
            return;
          }
          if (null !== a2) a2.flags |= 32768, a2.subtreeFlags = 0, a2.deletions = null;
          else {
            T = 6;
            Y = null;
            return;
          }
        }
        b = b.sibling;
        if (null !== b) {
          Y = b;
          return;
        }
        Y = b = a2;
      } while (null !== b);
      0 === T && (T = 5);
    }
    function Pk(a2, b, c3) {
      var d4 = C2, e3 = ok.transition;
      try {
        ok.transition = null, C2 = 1, Wk(a2, b, c3, d4);
      } finally {
        ok.transition = e3, C2 = d4;
      }
      return null;
    }
    function Wk(a2, b, c3, d4) {
      do
        Hk();
      while (null !== wk);
      if (0 !== (K & 6)) throw Error(p3(327));
      c3 = a2.finishedWork;
      var e3 = a2.finishedLanes;
      if (null === c3) return null;
      a2.finishedWork = null;
      a2.finishedLanes = 0;
      if (c3 === a2.current) throw Error(p3(177));
      a2.callbackNode = null;
      a2.callbackPriority = 0;
      var f3 = c3.lanes | c3.childLanes;
      Bc(a2, f3);
      a2 === Q2 && (Y = Q2 = null, Z = 0);
      0 === (c3.subtreeFlags & 2064) && 0 === (c3.flags & 2064) || vk || (vk = true, Fk(hc, function() {
        Hk();
        return null;
      }));
      f3 = 0 !== (c3.flags & 15990);
      if (0 !== (c3.subtreeFlags & 15990) || f3) {
        f3 = ok.transition;
        ok.transition = null;
        var g = C2;
        C2 = 1;
        var h2 = K;
        K |= 4;
        nk.current = null;
        Oj(a2, c3);
        dk(c3, a2);
        Oe(Df);
        dd = !!Cf;
        Df = Cf = null;
        a2.current = c3;
        hk(c3, a2, e3);
        dc();
        K = h2;
        C2 = g;
        ok.transition = f3;
      } else a2.current = c3;
      vk && (vk = false, wk = a2, xk = e3);
      f3 = a2.pendingLanes;
      0 === f3 && (Ri = null);
      mc(c3.stateNode, d4);
      Dk(a2, B());
      if (null !== b) for (d4 = a2.onRecoverableError, c3 = 0; c3 < b.length; c3++) e3 = b[c3], d4(e3.value, { componentStack: e3.stack, digest: e3.digest });
      if (Oi) throw Oi = false, a2 = Pi, Pi = null, a2;
      0 !== (xk & 1) && 0 !== a2.tag && Hk();
      f3 = a2.pendingLanes;
      0 !== (f3 & 1) ? a2 === zk ? yk++ : (yk = 0, zk = a2) : yk = 0;
      jg();
      return null;
    }
    function Hk() {
      if (null !== wk) {
        var a2 = Dc(xk), b = ok.transition, c3 = C2;
        try {
          ok.transition = null;
          C2 = 16 > a2 ? 16 : a2;
          if (null === wk) var d4 = false;
          else {
            a2 = wk;
            wk = null;
            xk = 0;
            if (0 !== (K & 6)) throw Error(p3(331));
            var e3 = K;
            K |= 4;
            for (V = a2.current; null !== V; ) {
              var f3 = V, g = f3.child;
              if (0 !== (V.flags & 16)) {
                var h2 = f3.deletions;
                if (null !== h2) {
                  for (var k = 0; k < h2.length; k++) {
                    var l3 = h2[k];
                    for (V = l3; null !== V; ) {
                      var m = V;
                      switch (m.tag) {
                        case 0:
                        case 11:
                        case 15:
                          Pj(8, m, f3);
                      }
                      var q = m.child;
                      if (null !== q) q.return = m, V = q;
                      else for (; null !== V; ) {
                        m = V;
                        var r3 = m.sibling, y2 = m.return;
                        Sj(m);
                        if (m === l3) {
                          V = null;
                          break;
                        }
                        if (null !== r3) {
                          r3.return = y2;
                          V = r3;
                          break;
                        }
                        V = y2;
                      }
                    }
                  }
                  var n2 = f3.alternate;
                  if (null !== n2) {
                    var t2 = n2.child;
                    if (null !== t2) {
                      n2.child = null;
                      do {
                        var J = t2.sibling;
                        t2.sibling = null;
                        t2 = J;
                      } while (null !== t2);
                    }
                  }
                  V = f3;
                }
              }
              if (0 !== (f3.subtreeFlags & 2064) && null !== g) g.return = f3, V = g;
              else b: for (; null !== V; ) {
                f3 = V;
                if (0 !== (f3.flags & 2048)) switch (f3.tag) {
                  case 0:
                  case 11:
                  case 15:
                    Pj(9, f3, f3.return);
                }
                var x = f3.sibling;
                if (null !== x) {
                  x.return = f3.return;
                  V = x;
                  break b;
                }
                V = f3.return;
              }
            }
            var w = a2.current;
            for (V = w; null !== V; ) {
              g = V;
              var u3 = g.child;
              if (0 !== (g.subtreeFlags & 2064) && null !== u3) u3.return = g, V = u3;
              else b: for (g = w; null !== V; ) {
                h2 = V;
                if (0 !== (h2.flags & 2048)) try {
                  switch (h2.tag) {
                    case 0:
                    case 11:
                    case 15:
                      Qj(9, h2);
                  }
                } catch (na) {
                  W(h2, h2.return, na);
                }
                if (h2 === g) {
                  V = null;
                  break b;
                }
                var F = h2.sibling;
                if (null !== F) {
                  F.return = h2.return;
                  V = F;
                  break b;
                }
                V = h2.return;
              }
            }
            K = e3;
            jg();
            if (lc && "function" === typeof lc.onPostCommitFiberRoot) try {
              lc.onPostCommitFiberRoot(kc, a2);
            } catch (na) {
            }
            d4 = true;
          }
          return d4;
        } finally {
          C2 = c3, ok.transition = b;
        }
      }
      return false;
    }
    function Xk(a2, b, c3) {
      b = Ji(c3, b);
      b = Ni(a2, b, 1);
      a2 = nh(a2, b, 1);
      b = R();
      null !== a2 && (Ac(a2, 1, b), Dk(a2, b));
    }
    function W(a2, b, c3) {
      if (3 === a2.tag) Xk(a2, a2, c3);
      else for (; null !== b; ) {
        if (3 === b.tag) {
          Xk(b, a2, c3);
          break;
        } else if (1 === b.tag) {
          var d4 = b.stateNode;
          if ("function" === typeof b.type.getDerivedStateFromError || "function" === typeof d4.componentDidCatch && (null === Ri || !Ri.has(d4))) {
            a2 = Ji(c3, a2);
            a2 = Qi(b, a2, 1);
            b = nh(b, a2, 1);
            a2 = R();
            null !== b && (Ac(b, 1, a2), Dk(b, a2));
            break;
          }
        }
        b = b.return;
      }
    }
    function Ti(a2, b, c3) {
      var d4 = a2.pingCache;
      null !== d4 && d4.delete(b);
      b = R();
      a2.pingedLanes |= a2.suspendedLanes & c3;
      Q2 === a2 && (Z & c3) === c3 && (4 === T || 3 === T && (Z & 130023424) === Z && 500 > B() - fk ? Kk(a2, 0) : rk |= c3);
      Dk(a2, b);
    }
    function Yk(a2, b) {
      0 === b && (0 === (a2.mode & 1) ? b = 1 : (b = sc, sc <<= 1, 0 === (sc & 130023424) && (sc = 4194304)));
      var c3 = R();
      a2 = ih(a2, b);
      null !== a2 && (Ac(a2, b, c3), Dk(a2, c3));
    }
    function uj(a2) {
      var b = a2.memoizedState, c3 = 0;
      null !== b && (c3 = b.retryLane);
      Yk(a2, c3);
    }
    function bk(a2, b) {
      var c3 = 0;
      switch (a2.tag) {
        case 13:
          var d4 = a2.stateNode;
          var e3 = a2.memoizedState;
          null !== e3 && (c3 = e3.retryLane);
          break;
        case 19:
          d4 = a2.stateNode;
          break;
        default:
          throw Error(p3(314));
      }
      null !== d4 && d4.delete(b);
      Yk(a2, c3);
    }
    var Vk;
    Vk = function(a2, b, c3) {
      if (null !== a2) if (a2.memoizedProps !== b.pendingProps || Wf.current) dh = true;
      else {
        if (0 === (a2.lanes & c3) && 0 === (b.flags & 128)) return dh = false, yj(a2, b, c3);
        dh = 0 !== (a2.flags & 131072) ? true : false;
      }
      else dh = false, I2 && 0 !== (b.flags & 1048576) && ug(b, ng, b.index);
      b.lanes = 0;
      switch (b.tag) {
        case 2:
          var d4 = b.type;
          ij(a2, b);
          a2 = b.pendingProps;
          var e3 = Yf(b, H.current);
          ch(b, c3);
          e3 = Nh(null, b, d4, a2, e3, c3);
          var f3 = Sh();
          b.flags |= 1;
          "object" === typeof e3 && null !== e3 && "function" === typeof e3.render && void 0 === e3.$$typeof ? (b.tag = 1, b.memoizedState = null, b.updateQueue = null, Zf(d4) ? (f3 = true, cg(b)) : f3 = false, b.memoizedState = null !== e3.state && void 0 !== e3.state ? e3.state : null, kh(b), e3.updater = Ei, b.stateNode = e3, e3._reactInternals = b, Ii(b, d4, a2, c3), b = jj(null, b, d4, true, f3, c3)) : (b.tag = 0, I2 && f3 && vg(b), Xi(null, b, e3, c3), b = b.child);
          return b;
        case 16:
          d4 = b.elementType;
          a: {
            ij(a2, b);
            a2 = b.pendingProps;
            e3 = d4._init;
            d4 = e3(d4._payload);
            b.type = d4;
            e3 = b.tag = Zk(d4);
            a2 = Ci(d4, a2);
            switch (e3) {
              case 0:
                b = cj(null, b, d4, a2, c3);
                break a;
              case 1:
                b = hj(null, b, d4, a2, c3);
                break a;
              case 11:
                b = Yi(null, b, d4, a2, c3);
                break a;
              case 14:
                b = $i(null, b, d4, Ci(d4.type, a2), c3);
                break a;
            }
            throw Error(p3(
              306,
              d4,
              ""
            ));
          }
          return b;
        case 0:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), cj(a2, b, d4, e3, c3);
        case 1:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), hj(a2, b, d4, e3, c3);
        case 3:
          a: {
            kj(b);
            if (null === a2) throw Error(p3(387));
            d4 = b.pendingProps;
            f3 = b.memoizedState;
            e3 = f3.element;
            lh(a2, b);
            qh(b, d4, null, c3);
            var g = b.memoizedState;
            d4 = g.element;
            if (f3.isDehydrated) if (f3 = { element: d4, isDehydrated: false, cache: g.cache, pendingSuspenseBoundaries: g.pendingSuspenseBoundaries, transitions: g.transitions }, b.updateQueue.baseState = f3, b.memoizedState = f3, b.flags & 256) {
              e3 = Ji(Error(p3(423)), b);
              b = lj(a2, b, d4, c3, e3);
              break a;
            } else if (d4 !== e3) {
              e3 = Ji(Error(p3(424)), b);
              b = lj(a2, b, d4, c3, e3);
              break a;
            } else for (yg = Lf(b.stateNode.containerInfo.firstChild), xg = b, I2 = true, zg = null, c3 = Vg(b, null, d4, c3), b.child = c3; c3; ) c3.flags = c3.flags & -3 | 4096, c3 = c3.sibling;
            else {
              Ig();
              if (d4 === e3) {
                b = Zi(a2, b, c3);
                break a;
              }
              Xi(a2, b, d4, c3);
            }
            b = b.child;
          }
          return b;
        case 5:
          return Ah(b), null === a2 && Eg(b), d4 = b.type, e3 = b.pendingProps, f3 = null !== a2 ? a2.memoizedProps : null, g = e3.children, Ef(d4, e3) ? g = null : null !== f3 && Ef(d4, f3) && (b.flags |= 32), gj(a2, b), Xi(a2, b, g, c3), b.child;
        case 6:
          return null === a2 && Eg(b), null;
        case 13:
          return oj(a2, b, c3);
        case 4:
          return yh(b, b.stateNode.containerInfo), d4 = b.pendingProps, null === a2 ? b.child = Ug(b, null, d4, c3) : Xi(a2, b, d4, c3), b.child;
        case 11:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), Yi(a2, b, d4, e3, c3);
        case 7:
          return Xi(a2, b, b.pendingProps, c3), b.child;
        case 8:
          return Xi(a2, b, b.pendingProps.children, c3), b.child;
        case 12:
          return Xi(a2, b, b.pendingProps.children, c3), b.child;
        case 10:
          a: {
            d4 = b.type._context;
            e3 = b.pendingProps;
            f3 = b.memoizedProps;
            g = e3.value;
            G(Wg, d4._currentValue);
            d4._currentValue = g;
            if (null !== f3) if (He(f3.value, g)) {
              if (f3.children === e3.children && !Wf.current) {
                b = Zi(a2, b, c3);
                break a;
              }
            } else for (f3 = b.child, null !== f3 && (f3.return = b); null !== f3; ) {
              var h2 = f3.dependencies;
              if (null !== h2) {
                g = f3.child;
                for (var k = h2.firstContext; null !== k; ) {
                  if (k.context === d4) {
                    if (1 === f3.tag) {
                      k = mh(-1, c3 & -c3);
                      k.tag = 2;
                      var l3 = f3.updateQueue;
                      if (null !== l3) {
                        l3 = l3.shared;
                        var m = l3.pending;
                        null === m ? k.next = k : (k.next = m.next, m.next = k);
                        l3.pending = k;
                      }
                    }
                    f3.lanes |= c3;
                    k = f3.alternate;
                    null !== k && (k.lanes |= c3);
                    bh(
                      f3.return,
                      c3,
                      b
                    );
                    h2.lanes |= c3;
                    break;
                  }
                  k = k.next;
                }
              } else if (10 === f3.tag) g = f3.type === b.type ? null : f3.child;
              else if (18 === f3.tag) {
                g = f3.return;
                if (null === g) throw Error(p3(341));
                g.lanes |= c3;
                h2 = g.alternate;
                null !== h2 && (h2.lanes |= c3);
                bh(g, c3, b);
                g = f3.sibling;
              } else g = f3.child;
              if (null !== g) g.return = f3;
              else for (g = f3; null !== g; ) {
                if (g === b) {
                  g = null;
                  break;
                }
                f3 = g.sibling;
                if (null !== f3) {
                  f3.return = g.return;
                  g = f3;
                  break;
                }
                g = g.return;
              }
              f3 = g;
            }
            Xi(a2, b, e3.children, c3);
            b = b.child;
          }
          return b;
        case 9:
          return e3 = b.type, d4 = b.pendingProps.children, ch(b, c3), e3 = eh(e3), d4 = d4(e3), b.flags |= 1, Xi(a2, b, d4, c3), b.child;
        case 14:
          return d4 = b.type, e3 = Ci(d4, b.pendingProps), e3 = Ci(d4.type, e3), $i(a2, b, d4, e3, c3);
        case 15:
          return bj(a2, b, b.type, b.pendingProps, c3);
        case 17:
          return d4 = b.type, e3 = b.pendingProps, e3 = b.elementType === d4 ? e3 : Ci(d4, e3), ij(a2, b), b.tag = 1, Zf(d4) ? (a2 = true, cg(b)) : a2 = false, ch(b, c3), Gi(b, d4, e3), Ii(b, d4, e3, c3), jj(null, b, d4, true, a2, c3);
        case 19:
          return xj(a2, b, c3);
        case 22:
          return dj(a2, b, c3);
      }
      throw Error(p3(156, b.tag));
    };
    function Fk(a2, b) {
      return ac(a2, b);
    }
    function $k(a2, b, c3, d4) {
      this.tag = a2;
      this.key = c3;
      this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null;
      this.index = 0;
      this.ref = null;
      this.pendingProps = b;
      this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null;
      this.mode = d4;
      this.subtreeFlags = this.flags = 0;
      this.deletions = null;
      this.childLanes = this.lanes = 0;
      this.alternate = null;
    }
    function Bg(a2, b, c3, d4) {
      return new $k(a2, b, c3, d4);
    }
    function aj(a2) {
      a2 = a2.prototype;
      return !(!a2 || !a2.isReactComponent);
    }
    function Zk(a2) {
      if ("function" === typeof a2) return aj(a2) ? 1 : 0;
      if (void 0 !== a2 && null !== a2) {
        a2 = a2.$$typeof;
        if (a2 === Da) return 11;
        if (a2 === Ga) return 14;
      }
      return 2;
    }
    function Pg(a2, b) {
      var c3 = a2.alternate;
      null === c3 ? (c3 = Bg(a2.tag, b, a2.key, a2.mode), c3.elementType = a2.elementType, c3.type = a2.type, c3.stateNode = a2.stateNode, c3.alternate = a2, a2.alternate = c3) : (c3.pendingProps = b, c3.type = a2.type, c3.flags = 0, c3.subtreeFlags = 0, c3.deletions = null);
      c3.flags = a2.flags & 14680064;
      c3.childLanes = a2.childLanes;
      c3.lanes = a2.lanes;
      c3.child = a2.child;
      c3.memoizedProps = a2.memoizedProps;
      c3.memoizedState = a2.memoizedState;
      c3.updateQueue = a2.updateQueue;
      b = a2.dependencies;
      c3.dependencies = null === b ? null : { lanes: b.lanes, firstContext: b.firstContext };
      c3.sibling = a2.sibling;
      c3.index = a2.index;
      c3.ref = a2.ref;
      return c3;
    }
    function Rg(a2, b, c3, d4, e3, f3) {
      var g = 2;
      d4 = a2;
      if ("function" === typeof a2) aj(a2) && (g = 1);
      else if ("string" === typeof a2) g = 5;
      else a: switch (a2) {
        case ya:
          return Tg(c3.children, e3, f3, b);
        case za:
          g = 8;
          e3 |= 8;
          break;
        case Aa:
          return a2 = Bg(12, c3, b, e3 | 2), a2.elementType = Aa, a2.lanes = f3, a2;
        case Ea:
          return a2 = Bg(13, c3, b, e3), a2.elementType = Ea, a2.lanes = f3, a2;
        case Fa:
          return a2 = Bg(19, c3, b, e3), a2.elementType = Fa, a2.lanes = f3, a2;
        case Ia:
          return pj(c3, e3, f3, b);
        default:
          if ("object" === typeof a2 && null !== a2) switch (a2.$$typeof) {
            case Ba:
              g = 10;
              break a;
            case Ca:
              g = 9;
              break a;
            case Da:
              g = 11;
              break a;
            case Ga:
              g = 14;
              break a;
            case Ha:
              g = 16;
              d4 = null;
              break a;
          }
          throw Error(p3(130, null == a2 ? a2 : typeof a2, ""));
      }
      b = Bg(g, c3, b, e3);
      b.elementType = a2;
      b.type = d4;
      b.lanes = f3;
      return b;
    }
    function Tg(a2, b, c3, d4) {
      a2 = Bg(7, a2, d4, b);
      a2.lanes = c3;
      return a2;
    }
    function pj(a2, b, c3, d4) {
      a2 = Bg(22, a2, d4, b);
      a2.elementType = Ia;
      a2.lanes = c3;
      a2.stateNode = { isHidden: false };
      return a2;
    }
    function Qg(a2, b, c3) {
      a2 = Bg(6, a2, null, b);
      a2.lanes = c3;
      return a2;
    }
    function Sg(a2, b, c3) {
      b = Bg(4, null !== a2.children ? a2.children : [], a2.key, b);
      b.lanes = c3;
      b.stateNode = { containerInfo: a2.containerInfo, pendingChildren: null, implementation: a2.implementation };
      return b;
    }
    function al(a2, b, c3, d4, e3) {
      this.tag = b;
      this.containerInfo = a2;
      this.finishedWork = this.pingCache = this.current = this.pendingChildren = null;
      this.timeoutHandle = -1;
      this.callbackNode = this.pendingContext = this.context = null;
      this.callbackPriority = 0;
      this.eventTimes = zc(0);
      this.expirationTimes = zc(-1);
      this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0;
      this.entanglements = zc(0);
      this.identifierPrefix = d4;
      this.onRecoverableError = e3;
      this.mutableSourceEagerHydrationData = null;
    }
    function bl(a2, b, c3, d4, e3, f3, g, h2, k) {
      a2 = new al(a2, b, c3, h2, k);
      1 === b ? (b = 1, true === f3 && (b |= 8)) : b = 0;
      f3 = Bg(3, null, null, b);
      a2.current = f3;
      f3.stateNode = a2;
      f3.memoizedState = { element: d4, isDehydrated: c3, cache: null, transitions: null, pendingSuspenseBoundaries: null };
      kh(f3);
      return a2;
    }
    function cl(a2, b, c3) {
      var d4 = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
      return { $$typeof: wa, key: null == d4 ? null : "" + d4, children: a2, containerInfo: b, implementation: c3 };
    }
    function dl(a2) {
      if (!a2) return Vf;
      a2 = a2._reactInternals;
      a: {
        if (Vb(a2) !== a2 || 1 !== a2.tag) throw Error(p3(170));
        var b = a2;
        do {
          switch (b.tag) {
            case 3:
              b = b.stateNode.context;
              break a;
            case 1:
              if (Zf(b.type)) {
                b = b.stateNode.__reactInternalMemoizedMergedChildContext;
                break a;
              }
          }
          b = b.return;
        } while (null !== b);
        throw Error(p3(171));
      }
      if (1 === a2.tag) {
        var c3 = a2.type;
        if (Zf(c3)) return bg(a2, c3, b);
      }
      return b;
    }
    function el(a2, b, c3, d4, e3, f3, g, h2, k) {
      a2 = bl(c3, d4, true, a2, e3, f3, g, h2, k);
      a2.context = dl(null);
      c3 = a2.current;
      d4 = R();
      e3 = yi(c3);
      f3 = mh(d4, e3);
      f3.callback = void 0 !== b && null !== b ? b : null;
      nh(c3, f3, e3);
      a2.current.lanes = e3;
      Ac(a2, e3, d4);
      Dk(a2, d4);
      return a2;
    }
    function fl(a2, b, c3, d4) {
      var e3 = b.current, f3 = R(), g = yi(e3);
      c3 = dl(c3);
      null === b.context ? b.context = c3 : b.pendingContext = c3;
      b = mh(f3, g);
      b.payload = { element: a2 };
      d4 = void 0 === d4 ? null : d4;
      null !== d4 && (b.callback = d4);
      a2 = nh(e3, b, g);
      null !== a2 && (gi(a2, e3, g, f3), oh(a2, e3, g));
      return g;
    }
    function gl(a2) {
      a2 = a2.current;
      if (!a2.child) return null;
      switch (a2.child.tag) {
        case 5:
          return a2.child.stateNode;
        default:
          return a2.child.stateNode;
      }
    }
    function hl(a2, b) {
      a2 = a2.memoizedState;
      if (null !== a2 && null !== a2.dehydrated) {
        var c3 = a2.retryLane;
        a2.retryLane = 0 !== c3 && c3 < b ? c3 : b;
      }
    }
    function il(a2, b) {
      hl(a2, b);
      (a2 = a2.alternate) && hl(a2, b);
    }
    function jl() {
      return null;
    }
    var kl = "function" === typeof reportError ? reportError : function(a2) {
      console.error(a2);
    };
    function ll(a2) {
      this._internalRoot = a2;
    }
    ml.prototype.render = ll.prototype.render = function(a2) {
      var b = this._internalRoot;
      if (null === b) throw Error(p3(409));
      fl(a2, b, null, null);
    };
    ml.prototype.unmount = ll.prototype.unmount = function() {
      var a2 = this._internalRoot;
      if (null !== a2) {
        this._internalRoot = null;
        var b = a2.containerInfo;
        Rk(function() {
          fl(null, a2, null, null);
        });
        b[uf] = null;
      }
    };
    function ml(a2) {
      this._internalRoot = a2;
    }
    ml.prototype.unstable_scheduleHydration = function(a2) {
      if (a2) {
        var b = Hc();
        a2 = { blockedOn: null, target: a2, priority: b };
        for (var c3 = 0; c3 < Qc.length && 0 !== b && b < Qc[c3].priority; c3++) ;
        Qc.splice(c3, 0, a2);
        0 === c3 && Vc(a2);
      }
    };
    function nl(a2) {
      return !(!a2 || 1 !== a2.nodeType && 9 !== a2.nodeType && 11 !== a2.nodeType);
    }
    function ol(a2) {
      return !(!a2 || 1 !== a2.nodeType && 9 !== a2.nodeType && 11 !== a2.nodeType && (8 !== a2.nodeType || " react-mount-point-unstable " !== a2.nodeValue));
    }
    function pl() {
    }
    function ql(a2, b, c3, d4, e3) {
      if (e3) {
        if ("function" === typeof d4) {
          var f3 = d4;
          d4 = function() {
            var a3 = gl(g);
            f3.call(a3);
          };
        }
        var g = el(b, d4, a2, 0, null, false, false, "", pl);
        a2._reactRootContainer = g;
        a2[uf] = g.current;
        sf(8 === a2.nodeType ? a2.parentNode : a2);
        Rk();
        return g;
      }
      for (; e3 = a2.lastChild; ) a2.removeChild(e3);
      if ("function" === typeof d4) {
        var h2 = d4;
        d4 = function() {
          var a3 = gl(k);
          h2.call(a3);
        };
      }
      var k = bl(a2, 0, false, null, null, false, false, "", pl);
      a2._reactRootContainer = k;
      a2[uf] = k.current;
      sf(8 === a2.nodeType ? a2.parentNode : a2);
      Rk(function() {
        fl(b, k, c3, d4);
      });
      return k;
    }
    function rl(a2, b, c3, d4, e3) {
      var f3 = c3._reactRootContainer;
      if (f3) {
        var g = f3;
        if ("function" === typeof e3) {
          var h2 = e3;
          e3 = function() {
            var a3 = gl(g);
            h2.call(a3);
          };
        }
        fl(b, g, a2, e3);
      } else g = ql(c3, b, a2, e3, d4);
      return gl(g);
    }
    Ec = function(a2) {
      switch (a2.tag) {
        case 3:
          var b = a2.stateNode;
          if (b.current.memoizedState.isDehydrated) {
            var c3 = tc(b.pendingLanes);
            0 !== c3 && (Cc(b, c3 | 1), Dk(b, B()), 0 === (K & 6) && (Gj = B() + 500, jg()));
          }
          break;
        case 13:
          Rk(function() {
            var b2 = ih(a2, 1);
            if (null !== b2) {
              var c4 = R();
              gi(b2, a2, 1, c4);
            }
          }), il(a2, 1);
      }
    };
    Fc = function(a2) {
      if (13 === a2.tag) {
        var b = ih(a2, 134217728);
        if (null !== b) {
          var c3 = R();
          gi(b, a2, 134217728, c3);
        }
        il(a2, 134217728);
      }
    };
    Gc = function(a2) {
      if (13 === a2.tag) {
        var b = yi(a2), c3 = ih(a2, b);
        if (null !== c3) {
          var d4 = R();
          gi(c3, a2, b, d4);
        }
        il(a2, b);
      }
    };
    Hc = function() {
      return C2;
    };
    Ic = function(a2, b) {
      var c3 = C2;
      try {
        return C2 = a2, b();
      } finally {
        C2 = c3;
      }
    };
    yb = function(a2, b, c3) {
      switch (b) {
        case "input":
          bb(a2, c3);
          b = c3.name;
          if ("radio" === c3.type && null != b) {
            for (c3 = a2; c3.parentNode; ) c3 = c3.parentNode;
            c3 = c3.querySelectorAll("input[name=" + JSON.stringify("" + b) + '][type="radio"]');
            for (b = 0; b < c3.length; b++) {
              var d4 = c3[b];
              if (d4 !== a2 && d4.form === a2.form) {
                var e3 = Db(d4);
                if (!e3) throw Error(p3(90));
                Wa(d4);
                bb(d4, e3);
              }
            }
          }
          break;
        case "textarea":
          ib(a2, c3);
          break;
        case "select":
          b = c3.value, null != b && fb(a2, !!c3.multiple, b, false);
      }
    };
    Gb = Qk;
    Hb = Rk;
    var sl = { usingClientEntryPoint: false, Events: [Cb, ue, Db, Eb, Fb, Qk] };
    var tl = { findFiberByHostInstance: Wc, bundleType: 0, version: "18.3.1", rendererPackageName: "react-dom" };
    var ul = { bundleType: tl.bundleType, version: tl.version, rendererPackageName: tl.rendererPackageName, rendererConfig: tl.rendererConfig, overrideHookState: null, overrideHookStateDeletePath: null, overrideHookStateRenamePath: null, overrideProps: null, overridePropsDeletePath: null, overridePropsRenamePath: null, setErrorHandler: null, setSuspenseHandler: null, scheduleUpdate: null, currentDispatcherRef: ua.ReactCurrentDispatcher, findHostInstanceByFiber: function(a2) {
      a2 = Zb(a2);
      return null === a2 ? null : a2.stateNode;
    }, findFiberByHostInstance: tl.findFiberByHostInstance || jl, findHostInstancesForRefresh: null, scheduleRefresh: null, scheduleRoot: null, setRefreshHandler: null, getCurrentFiber: null, reconcilerVersion: "18.3.1-next-f1338f8080-20240426" };
    if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
      vl = __REACT_DEVTOOLS_GLOBAL_HOOK__;
      if (!vl.isDisabled && vl.supportsFiber) try {
        kc = vl.inject(ul), lc = vl;
      } catch (a2) {
      }
    }
    var vl;
    exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = sl;
    exports.createPortal = function(a2, b) {
      var c3 = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
      if (!nl(b)) throw Error(p3(200));
      return cl(a2, b, null, c3);
    };
    exports.createRoot = function(a2, b) {
      if (!nl(a2)) throw Error(p3(299));
      var c3 = false, d4 = "", e3 = kl;
      null !== b && void 0 !== b && (true === b.unstable_strictMode && (c3 = true), void 0 !== b.identifierPrefix && (d4 = b.identifierPrefix), void 0 !== b.onRecoverableError && (e3 = b.onRecoverableError));
      b = bl(a2, 1, false, null, null, c3, false, d4, e3);
      a2[uf] = b.current;
      sf(8 === a2.nodeType ? a2.parentNode : a2);
      return new ll(b);
    };
    exports.findDOMNode = function(a2) {
      if (null == a2) return null;
      if (1 === a2.nodeType) return a2;
      var b = a2._reactInternals;
      if (void 0 === b) {
        if ("function" === typeof a2.render) throw Error(p3(188));
        a2 = Object.keys(a2).join(",");
        throw Error(p3(268, a2));
      }
      a2 = Zb(b);
      a2 = null === a2 ? null : a2.stateNode;
      return a2;
    };
    exports.flushSync = function(a2) {
      return Rk(a2);
    };
    exports.hydrate = function(a2, b, c3) {
      if (!ol(b)) throw Error(p3(200));
      return rl(null, a2, b, true, c3);
    };
    exports.hydrateRoot = function(a2, b, c3) {
      if (!nl(a2)) throw Error(p3(405));
      var d4 = null != c3 && c3.hydratedSources || null, e3 = false, f3 = "", g = kl;
      null !== c3 && void 0 !== c3 && (true === c3.unstable_strictMode && (e3 = true), void 0 !== c3.identifierPrefix && (f3 = c3.identifierPrefix), void 0 !== c3.onRecoverableError && (g = c3.onRecoverableError));
      b = el(b, null, a2, 1, null != c3 ? c3 : null, e3, false, f3, g);
      a2[uf] = b.current;
      sf(a2);
      if (d4) for (a2 = 0; a2 < d4.length; a2++) c3 = d4[a2], e3 = c3._getVersion, e3 = e3(c3._source), null == b.mutableSourceEagerHydrationData ? b.mutableSourceEagerHydrationData = [c3, e3] : b.mutableSourceEagerHydrationData.push(
        c3,
        e3
      );
      return new ml(b);
    };
    exports.render = function(a2, b, c3) {
      if (!ol(b)) throw Error(p3(200));
      return rl(null, a2, b, false, c3);
    };
    exports.unmountComponentAtNode = function(a2) {
      if (!ol(a2)) throw Error(p3(40));
      return a2._reactRootContainer ? (Rk(function() {
        rl(null, null, a2, false, function() {
          a2._reactRootContainer = null;
          a2[uf] = null;
        });
      }), true) : false;
    };
    exports.unstable_batchedUpdates = Qk;
    exports.unstable_renderSubtreeIntoContainer = function(a2, b, c3, d4) {
      if (!ol(c3)) throw Error(p3(200));
      if (null == a2 || void 0 === a2._reactInternals) throw Error(p3(38));
      return rl(a2, b, c3, false, d4);
    };
    exports.version = "18.3.1-next-f1338f8080-20240426";
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js
var require_react_dom = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js"(exports, module) {
    "use strict";
    function checkDCE() {
      if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === "undefined" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== "function") {
        return;
      }
      if (false) {
        throw new Error("^_^");
      }
      try {
        __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);
      } catch (err) {
        console.error(err);
      }
    }
    if (true) {
      checkDCE();
      module.exports = require_react_dom_production_min();
    } else {
      module.exports = null;
    }
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js
var require_client = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js"(exports) {
    "use strict";
    var m = require_react_dom();
    if (true) {
      exports.createRoot = m.createRoot;
      exports.hydrateRoot = m.hydrateRoot;
    } else {
      i3 = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
      exports.createRoot = function(c3, o2) {
        i3.usingClientEntryPoint = true;
        try {
          return m.createRoot(c3, o2);
        } finally {
          i3.usingClientEntryPoint = false;
        }
      };
      exports.hydrateRoot = function(c3, h2, o2) {
        i3.usingClientEntryPoint = true;
        try {
          return m.hydrateRoot(c3, h2, o2);
        } finally {
          i3.usingClientEntryPoint = false;
        }
      };
    }
    var i3;
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/util@1.10.0/node_modules/@firebase/util/dist/index.esm2017.js
function getGlobal() {
  if (typeof self !== "undefined") {
    return self;
  }
  if (typeof window !== "undefined") {
    return window;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw new Error("Unable to locate global object.");
}
function getUA() {
  if (typeof navigator !== "undefined" && typeof navigator["userAgent"] === "string") {
    return navigator["userAgent"];
  } else {
    return "";
  }
}
function isMobileCordova() {
  return typeof window !== "undefined" && // @ts-ignore Setting up an broadly applicable index signature for Window
  // just to deal with this case would probably be a bad idea.
  !!(window["cordova"] || window["phonegap"] || window["PhoneGap"]) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA());
}
function isCloudflareWorker() {
  return typeof navigator !== "undefined" && navigator.userAgent === "Cloudflare-Workers";
}
function isBrowserExtension() {
  const runtime = typeof chrome === "object" ? chrome.runtime : typeof browser === "object" ? browser.runtime : void 0;
  return typeof runtime === "object" && runtime.id !== void 0;
}
function isReactNative() {
  return typeof navigator === "object" && navigator["product"] === "ReactNative";
}
function isIE() {
  const ua = getUA();
  return ua.indexOf("MSIE ") >= 0 || ua.indexOf("Trident/") >= 0;
}
function isIndexedDBAvailable() {
  try {
    return typeof indexedDB === "object";
  } catch (e3) {
    return false;
  }
}
function validateIndexedDBOpenable() {
  return new Promise((resolve, reject) => {
    try {
      let preExist = true;
      const DB_CHECK_NAME = "validate-browser-context-for-indexeddb-analytics-module";
      const request = self.indexedDB.open(DB_CHECK_NAME);
      request.onsuccess = () => {
        request.result.close();
        if (!preExist) {
          self.indexedDB.deleteDatabase(DB_CHECK_NAME);
        }
        resolve(true);
      };
      request.onupgradeneeded = () => {
        preExist = false;
      };
      request.onerror = () => {
        var _a;
        reject(((_a = request.error) === null || _a === void 0 ? void 0 : _a.message) || "");
      };
    } catch (error2) {
      reject(error2);
    }
  });
}
function replaceTemplate(template, data) {
  return template.replace(PATTERN, (_, key) => {
    const value2 = data[key];
    return value2 != null ? String(value2) : `<${key}?>`;
  });
}
function isEmpty(obj) {
  for (const key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      return false;
    }
  }
  return true;
}
function deepEqual(a2, b) {
  if (a2 === b) {
    return true;
  }
  const aKeys = Object.keys(a2);
  const bKeys = Object.keys(b);
  for (const k of aKeys) {
    if (!bKeys.includes(k)) {
      return false;
    }
    const aProp = a2[k];
    const bProp = b[k];
    if (isObject(aProp) && isObject(bProp)) {
      if (!deepEqual(aProp, bProp)) {
        return false;
      }
    } else if (aProp !== bProp) {
      return false;
    }
  }
  for (const k of bKeys) {
    if (!aKeys.includes(k)) {
      return false;
    }
  }
  return true;
}
function isObject(thing) {
  return thing !== null && typeof thing === "object";
}
function querystring(querystringParams) {
  const params = [];
  for (const [key, value2] of Object.entries(querystringParams)) {
    if (Array.isArray(value2)) {
      value2.forEach((arrayVal) => {
        params.push(encodeURIComponent(key) + "=" + encodeURIComponent(arrayVal));
      });
    } else {
      params.push(encodeURIComponent(key) + "=" + encodeURIComponent(value2));
    }
  }
  return params.length ? "&" + params.join("&") : "";
}
function querystringDecode(querystring2) {
  const obj = {};
  const tokens = querystring2.replace(/^\?/, "").split("&");
  tokens.forEach((token) => {
    if (token) {
      const [key, value2] = token.split("=");
      obj[decodeURIComponent(key)] = decodeURIComponent(value2);
    }
  });
  return obj;
}
function extractQuerystring(url) {
  const queryStart = url.indexOf("?");
  if (!queryStart) {
    return "";
  }
  const fragmentStart = url.indexOf("#", queryStart);
  return url.substring(queryStart, fragmentStart > 0 ? fragmentStart : void 0);
}
function createSubscribe(executor, onNoObservers) {
  const proxy = new ObserverProxy(executor, onNoObservers);
  return proxy.subscribe.bind(proxy);
}
function implementsAnyMethods(obj, methods) {
  if (typeof obj !== "object" || obj === null) {
    return false;
  }
  for (const method of methods) {
    if (method in obj && typeof obj[method] === "function") {
      return true;
    }
  }
  return false;
}
function noop2() {
}
function getModularInstance(service) {
  if (service && service._delegate) {
    return service._delegate;
  } else {
    return service;
  }
}
var stringToByteArray$1, byteArrayToString, base64, DecodeBase64StringError, base64Encode, base64urlEncodeWithoutPadding, base64Decode, getDefaultsFromGlobal, getDefaultsFromEnvVariable, getDefaultsFromCookie, getDefaults, getDefaultEmulatorHost, getDefaultAppConfig, getExperimentalSetting, Deferred, ERROR_NAME, FirebaseError, ErrorFactory, PATTERN, ObserverProxy, MAX_VALUE_MILLIS;
var init_index_esm2017 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/util@1.10.0/node_modules/@firebase/util/dist/index.esm2017.js"() {
    stringToByteArray$1 = function(str) {
      const out = [];
      let p3 = 0;
      for (let i3 = 0; i3 < str.length; i3++) {
        let c3 = str.charCodeAt(i3);
        if (c3 < 128) {
          out[p3++] = c3;
        } else if (c3 < 2048) {
          out[p3++] = c3 >> 6 | 192;
          out[p3++] = c3 & 63 | 128;
        } else if ((c3 & 64512) === 55296 && i3 + 1 < str.length && (str.charCodeAt(i3 + 1) & 64512) === 56320) {
          c3 = 65536 + ((c3 & 1023) << 10) + (str.charCodeAt(++i3) & 1023);
          out[p3++] = c3 >> 18 | 240;
          out[p3++] = c3 >> 12 & 63 | 128;
          out[p3++] = c3 >> 6 & 63 | 128;
          out[p3++] = c3 & 63 | 128;
        } else {
          out[p3++] = c3 >> 12 | 224;
          out[p3++] = c3 >> 6 & 63 | 128;
          out[p3++] = c3 & 63 | 128;
        }
      }
      return out;
    };
    byteArrayToString = function(bytes) {
      const out = [];
      let pos = 0, c3 = 0;
      while (pos < bytes.length) {
        const c1 = bytes[pos++];
        if (c1 < 128) {
          out[c3++] = String.fromCharCode(c1);
        } else if (c1 > 191 && c1 < 224) {
          const c22 = bytes[pos++];
          out[c3++] = String.fromCharCode((c1 & 31) << 6 | c22 & 63);
        } else if (c1 > 239 && c1 < 365) {
          const c22 = bytes[pos++];
          const c32 = bytes[pos++];
          const c4 = bytes[pos++];
          const u3 = ((c1 & 7) << 18 | (c22 & 63) << 12 | (c32 & 63) << 6 | c4 & 63) - 65536;
          out[c3++] = String.fromCharCode(55296 + (u3 >> 10));
          out[c3++] = String.fromCharCode(56320 + (u3 & 1023));
        } else {
          const c22 = bytes[pos++];
          const c32 = bytes[pos++];
          out[c3++] = String.fromCharCode((c1 & 15) << 12 | (c22 & 63) << 6 | c32 & 63);
        }
      }
      return out.join("");
    };
    base64 = {
      /**
       * Maps bytes to characters.
       */
      byteToCharMap_: null,
      /**
       * Maps characters to bytes.
       */
      charToByteMap_: null,
      /**
       * Maps bytes to websafe characters.
       * @private
       */
      byteToCharMapWebSafe_: null,
      /**
       * Maps websafe characters to bytes.
       * @private
       */
      charToByteMapWebSafe_: null,
      /**
       * Our default alphabet, shared between
       * ENCODED_VALS and ENCODED_VALS_WEBSAFE
       */
      ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
      /**
       * Our default alphabet. Value 64 (=) is special; it means "nothing."
       */
      get ENCODED_VALS() {
        return this.ENCODED_VALS_BASE + "+/=";
      },
      /**
       * Our websafe alphabet.
       */
      get ENCODED_VALS_WEBSAFE() {
        return this.ENCODED_VALS_BASE + "-_.";
      },
      /**
       * Whether this browser supports the atob and btoa functions. This extension
       * started at Mozilla but is now implemented by many browsers. We use the
       * ASSUME_* variables to avoid pulling in the full useragent detection library
       * but still allowing the standard per-browser compilations.
       *
       */
      HAS_NATIVE_SUPPORT: typeof atob === "function",
      /**
       * Base64-encode an array of bytes.
       *
       * @param input An array of bytes (numbers with
       *     value in [0, 255]) to encode.
       * @param webSafe Boolean indicating we should use the
       *     alternative alphabet.
       * @return The base64 encoded string.
       */
      encodeByteArray(input, webSafe) {
        if (!Array.isArray(input)) {
          throw Error("encodeByteArray takes an array as a parameter");
        }
        this.init_();
        const byteToCharMap = webSafe ? this.byteToCharMapWebSafe_ : this.byteToCharMap_;
        const output = [];
        for (let i3 = 0; i3 < input.length; i3 += 3) {
          const byte1 = input[i3];
          const haveByte2 = i3 + 1 < input.length;
          const byte2 = haveByte2 ? input[i3 + 1] : 0;
          const haveByte3 = i3 + 2 < input.length;
          const byte3 = haveByte3 ? input[i3 + 2] : 0;
          const outByte1 = byte1 >> 2;
          const outByte2 = (byte1 & 3) << 4 | byte2 >> 4;
          let outByte3 = (byte2 & 15) << 2 | byte3 >> 6;
          let outByte4 = byte3 & 63;
          if (!haveByte3) {
            outByte4 = 64;
            if (!haveByte2) {
              outByte3 = 64;
            }
          }
          output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);
        }
        return output.join("");
      },
      /**
       * Base64-encode a string.
       *
       * @param input A string to encode.
       * @param webSafe If true, we should use the
       *     alternative alphabet.
       * @return The base64 encoded string.
       */
      encodeString(input, webSafe) {
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
          return btoa(input);
        }
        return this.encodeByteArray(stringToByteArray$1(input), webSafe);
      },
      /**
       * Base64-decode a string.
       *
       * @param input to decode.
       * @param webSafe True if we should use the
       *     alternative alphabet.
       * @return string representing the decoded value.
       */
      decodeString(input, webSafe) {
        if (this.HAS_NATIVE_SUPPORT && !webSafe) {
          return atob(input);
        }
        return byteArrayToString(this.decodeStringToByteArray(input, webSafe));
      },
      /**
       * Base64-decode a string.
       *
       * In base-64 decoding, groups of four characters are converted into three
       * bytes.  If the encoder did not apply padding, the input length may not
       * be a multiple of 4.
       *
       * In this case, the last group will have fewer than 4 characters, and
       * padding will be inferred.  If the group has one or two characters, it decodes
       * to one byte.  If the group has three characters, it decodes to two bytes.
       *
       * @param input Input to decode.
       * @param webSafe True if we should use the web-safe alphabet.
       * @return bytes representing the decoded value.
       */
      decodeStringToByteArray(input, webSafe) {
        this.init_();
        const charToByteMap = webSafe ? this.charToByteMapWebSafe_ : this.charToByteMap_;
        const output = [];
        for (let i3 = 0; i3 < input.length; ) {
          const byte1 = charToByteMap[input.charAt(i3++)];
          const haveByte2 = i3 < input.length;
          const byte2 = haveByte2 ? charToByteMap[input.charAt(i3)] : 0;
          ++i3;
          const haveByte3 = i3 < input.length;
          const byte3 = haveByte3 ? charToByteMap[input.charAt(i3)] : 64;
          ++i3;
          const haveByte4 = i3 < input.length;
          const byte4 = haveByte4 ? charToByteMap[input.charAt(i3)] : 64;
          ++i3;
          if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {
            throw new DecodeBase64StringError();
          }
          const outByte1 = byte1 << 2 | byte2 >> 4;
          output.push(outByte1);
          if (byte3 !== 64) {
            const outByte2 = byte2 << 4 & 240 | byte3 >> 2;
            output.push(outByte2);
            if (byte4 !== 64) {
              const outByte3 = byte3 << 6 & 192 | byte4;
              output.push(outByte3);
            }
          }
        }
        return output;
      },
      /**
       * Lazy static initialization function. Called before
       * accessing any of the static map variables.
       * @private
       */
      init_() {
        if (!this.byteToCharMap_) {
          this.byteToCharMap_ = {};
          this.charToByteMap_ = {};
          this.byteToCharMapWebSafe_ = {};
          this.charToByteMapWebSafe_ = {};
          for (let i3 = 0; i3 < this.ENCODED_VALS.length; i3++) {
            this.byteToCharMap_[i3] = this.ENCODED_VALS.charAt(i3);
            this.charToByteMap_[this.byteToCharMap_[i3]] = i3;
            this.byteToCharMapWebSafe_[i3] = this.ENCODED_VALS_WEBSAFE.charAt(i3);
            this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i3]] = i3;
            if (i3 >= this.ENCODED_VALS_BASE.length) {
              this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i3)] = i3;
              this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i3)] = i3;
            }
          }
        }
      }
    };
    DecodeBase64StringError = class extends Error {
      constructor() {
        super(...arguments);
        this.name = "DecodeBase64StringError";
      }
    };
    base64Encode = function(str) {
      const utf8Bytes = stringToByteArray$1(str);
      return base64.encodeByteArray(utf8Bytes, true);
    };
    base64urlEncodeWithoutPadding = function(str) {
      return base64Encode(str).replace(/\./g, "");
    };
    base64Decode = function(str) {
      try {
        return base64.decodeString(str, true);
      } catch (e3) {
        console.error("base64Decode failed: ", e3);
      }
      return null;
    };
    getDefaultsFromGlobal = () => getGlobal().__FIREBASE_DEFAULTS__;
    getDefaultsFromEnvVariable = () => {
      if (typeof process === "undefined" || typeof process.env === "undefined") {
        return;
      }
      const defaultsJsonString = process.env.__FIREBASE_DEFAULTS__;
      if (defaultsJsonString) {
        return JSON.parse(defaultsJsonString);
      }
    };
    getDefaultsFromCookie = () => {
      if (typeof document === "undefined") {
        return;
      }
      let match;
      try {
        match = document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/);
      } catch (e3) {
        return;
      }
      const decoded = match && base64Decode(match[1]);
      return decoded && JSON.parse(decoded);
    };
    getDefaults = () => {
      try {
        return getDefaultsFromGlobal() || getDefaultsFromEnvVariable() || getDefaultsFromCookie();
      } catch (e3) {
        console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e3}`);
        return;
      }
    };
    getDefaultEmulatorHost = (productName) => {
      var _a, _b;
      return (_b = (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.emulatorHosts) === null || _b === void 0 ? void 0 : _b[productName];
    };
    getDefaultAppConfig = () => {
      var _a;
      return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a.config;
    };
    getExperimentalSetting = (name5) => {
      var _a;
      return (_a = getDefaults()) === null || _a === void 0 ? void 0 : _a[`_${name5}`];
    };
    Deferred = class {
      constructor() {
        this.reject = () => {
        };
        this.resolve = () => {
        };
        this.promise = new Promise((resolve, reject) => {
          this.resolve = resolve;
          this.reject = reject;
        });
      }
      /**
       * Our API internals are not promisified and cannot because our callback APIs have subtle expectations around
       * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback
       * and returns a node-style callback which will resolve or reject the Deferred's promise.
       */
      wrapCallback(callback) {
        return (error2, value2) => {
          if (error2) {
            this.reject(error2);
          } else {
            this.resolve(value2);
          }
          if (typeof callback === "function") {
            this.promise.catch(() => {
            });
            if (callback.length === 1) {
              callback(error2);
            } else {
              callback(error2, value2);
            }
          }
        };
      }
    };
    ERROR_NAME = "FirebaseError";
    FirebaseError = class _FirebaseError extends Error {
      constructor(code, message, customData) {
        super(message);
        this.code = code;
        this.customData = customData;
        this.name = ERROR_NAME;
        Object.setPrototypeOf(this, _FirebaseError.prototype);
        if (Error.captureStackTrace) {
          Error.captureStackTrace(this, ErrorFactory.prototype.create);
        }
      }
    };
    ErrorFactory = class {
      constructor(service, serviceName, errors) {
        this.service = service;
        this.serviceName = serviceName;
        this.errors = errors;
      }
      create(code, ...data) {
        const customData = data[0] || {};
        const fullCode = `${this.service}/${code}`;
        const template = this.errors[code];
        const message = template ? replaceTemplate(template, customData) : "Error";
        const fullMessage = `${this.serviceName}: ${message} (${fullCode}).`;
        const error2 = new FirebaseError(fullCode, fullMessage, customData);
        return error2;
      }
    };
    PATTERN = /\{\$([^}]+)}/g;
    ObserverProxy = class {
      /**
       * @param executor Function which can make calls to a single Observer
       *     as a proxy.
       * @param onNoObservers Callback when count of Observers goes to zero.
       */
      constructor(executor, onNoObservers) {
        this.observers = [];
        this.unsubscribes = [];
        this.observerCount = 0;
        this.task = Promise.resolve();
        this.finalized = false;
        this.onNoObservers = onNoObservers;
        this.task.then(() => {
          executor(this);
        }).catch((e3) => {
          this.error(e3);
        });
      }
      next(value2) {
        this.forEachObserver((observer) => {
          observer.next(value2);
        });
      }
      error(error2) {
        this.forEachObserver((observer) => {
          observer.error(error2);
        });
        this.close(error2);
      }
      complete() {
        this.forEachObserver((observer) => {
          observer.complete();
        });
        this.close();
      }
      /**
       * Subscribe function that can be used to add an Observer to the fan-out list.
       *
       * - We require that no event is sent to a subscriber synchronously to their
       *   call to subscribe().
       */
      subscribe(nextOrObserver, error2, complete) {
        let observer;
        if (nextOrObserver === void 0 && error2 === void 0 && complete === void 0) {
          throw new Error("Missing Observer.");
        }
        if (implementsAnyMethods(nextOrObserver, [
          "next",
          "error",
          "complete"
        ])) {
          observer = nextOrObserver;
        } else {
          observer = {
            next: nextOrObserver,
            error: error2,
            complete
          };
        }
        if (observer.next === void 0) {
          observer.next = noop2;
        }
        if (observer.error === void 0) {
          observer.error = noop2;
        }
        if (observer.complete === void 0) {
          observer.complete = noop2;
        }
        const unsub = this.unsubscribeOne.bind(this, this.observers.length);
        if (this.finalized) {
          this.task.then(() => {
            try {
              if (this.finalError) {
                observer.error(this.finalError);
              } else {
                observer.complete();
              }
            } catch (e3) {
            }
            return;
          });
        }
        this.observers.push(observer);
        return unsub;
      }
      // Unsubscribe is synchronous - we guarantee that no events are sent to
      // any unsubscribed Observer.
      unsubscribeOne(i3) {
        if (this.observers === void 0 || this.observers[i3] === void 0) {
          return;
        }
        delete this.observers[i3];
        this.observerCount -= 1;
        if (this.observerCount === 0 && this.onNoObservers !== void 0) {
          this.onNoObservers(this);
        }
      }
      forEachObserver(fn) {
        if (this.finalized) {
          return;
        }
        for (let i3 = 0; i3 < this.observers.length; i3++) {
          this.sendOne(i3, fn);
        }
      }
      // Call the Observer via one of it's callback function. We are careful to
      // confirm that the observe has not been unsubscribed since this asynchronous
      // function had been queued.
      sendOne(i3, fn) {
        this.task.then(() => {
          if (this.observers !== void 0 && this.observers[i3] !== void 0) {
            try {
              fn(this.observers[i3]);
            } catch (e3) {
              if (typeof console !== "undefined" && console.error) {
                console.error(e3);
              }
            }
          }
        });
      }
      close(err) {
        if (this.finalized) {
          return;
        }
        this.finalized = true;
        if (err !== void 0) {
          this.finalError = err;
        }
        this.task.then(() => {
          this.observers = void 0;
          this.onNoObservers = void 0;
        });
      }
    };
    MAX_VALUE_MILLIS = 4 * 60 * 60 * 1e3;
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/component@0.6.9/node_modules/@firebase/component/dist/esm/index.esm2017.js
function normalizeIdentifierForFactory(identifier) {
  return identifier === DEFAULT_ENTRY_NAME ? void 0 : identifier;
}
function isComponentEager(component) {
  return component.instantiationMode === "EAGER";
}
var Component2, DEFAULT_ENTRY_NAME, Provider, ComponentContainer;
var init_index_esm20172 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/component@0.6.9/node_modules/@firebase/component/dist/esm/index.esm2017.js"() {
    init_index_esm2017();
    Component2 = class {
      /**
       *
       * @param name The public service name, e.g. app, auth, firestore, database
       * @param instanceFactory Service factory responsible for creating the public interface
       * @param type whether the service provided by the component is public or private
       */
      constructor(name5, instanceFactory, type2) {
        this.name = name5;
        this.instanceFactory = instanceFactory;
        this.type = type2;
        this.multipleInstances = false;
        this.serviceProps = {};
        this.instantiationMode = "LAZY";
        this.onInstanceCreated = null;
      }
      setInstantiationMode(mode) {
        this.instantiationMode = mode;
        return this;
      }
      setMultipleInstances(multipleInstances) {
        this.multipleInstances = multipleInstances;
        return this;
      }
      setServiceProps(props) {
        this.serviceProps = props;
        return this;
      }
      setInstanceCreatedCallback(callback) {
        this.onInstanceCreated = callback;
        return this;
      }
    };
    DEFAULT_ENTRY_NAME = "[DEFAULT]";
    Provider = class {
      constructor(name5, container) {
        this.name = name5;
        this.container = container;
        this.component = null;
        this.instances = /* @__PURE__ */ new Map();
        this.instancesDeferred = /* @__PURE__ */ new Map();
        this.instancesOptions = /* @__PURE__ */ new Map();
        this.onInitCallbacks = /* @__PURE__ */ new Map();
      }
      /**
       * @param identifier A provider can provide multiple instances of a service
       * if this.component.multipleInstances is true.
       */
      get(identifier) {
        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        if (!this.instancesDeferred.has(normalizedIdentifier)) {
          const deferred = new Deferred();
          this.instancesDeferred.set(normalizedIdentifier, deferred);
          if (this.isInitialized(normalizedIdentifier) || this.shouldAutoInitialize()) {
            try {
              const instance = this.getOrInitializeService({
                instanceIdentifier: normalizedIdentifier
              });
              if (instance) {
                deferred.resolve(instance);
              }
            } catch (e3) {
            }
          }
        }
        return this.instancesDeferred.get(normalizedIdentifier).promise;
      }
      getImmediate(options) {
        var _a;
        const normalizedIdentifier = this.normalizeInstanceIdentifier(options === null || options === void 0 ? void 0 : options.identifier);
        const optional = (_a = options === null || options === void 0 ? void 0 : options.optional) !== null && _a !== void 0 ? _a : false;
        if (this.isInitialized(normalizedIdentifier) || this.shouldAutoInitialize()) {
          try {
            return this.getOrInitializeService({
              instanceIdentifier: normalizedIdentifier
            });
          } catch (e3) {
            if (optional) {
              return null;
            } else {
              throw e3;
            }
          }
        } else {
          if (optional) {
            return null;
          } else {
            throw Error(`Service ${this.name} is not available`);
          }
        }
      }
      getComponent() {
        return this.component;
      }
      setComponent(component) {
        if (component.name !== this.name) {
          throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);
        }
        if (this.component) {
          throw Error(`Component for ${this.name} has already been provided`);
        }
        this.component = component;
        if (!this.shouldAutoInitialize()) {
          return;
        }
        if (isComponentEager(component)) {
          try {
            this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });
          } catch (e3) {
          }
        }
        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {
          const normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
          try {
            const instance = this.getOrInitializeService({
              instanceIdentifier: normalizedIdentifier
            });
            instanceDeferred.resolve(instance);
          } catch (e3) {
          }
        }
      }
      clearInstance(identifier = DEFAULT_ENTRY_NAME) {
        this.instancesDeferred.delete(identifier);
        this.instancesOptions.delete(identifier);
        this.instances.delete(identifier);
      }
      // app.delete() will call this method on every provider to delete the services
      // TODO: should we mark the provider as deleted?
      async delete() {
        const services = Array.from(this.instances.values());
        await Promise.all([
          ...services.filter((service) => "INTERNAL" in service).map((service) => service.INTERNAL.delete()),
          ...services.filter((service) => "_delete" in service).map((service) => service._delete())
        ]);
      }
      isComponentSet() {
        return this.component != null;
      }
      isInitialized(identifier = DEFAULT_ENTRY_NAME) {
        return this.instances.has(identifier);
      }
      getOptions(identifier = DEFAULT_ENTRY_NAME) {
        return this.instancesOptions.get(identifier) || {};
      }
      initialize(opts = {}) {
        const { options = {} } = opts;
        const normalizedIdentifier = this.normalizeInstanceIdentifier(opts.instanceIdentifier);
        if (this.isInitialized(normalizedIdentifier)) {
          throw Error(`${this.name}(${normalizedIdentifier}) has already been initialized`);
        }
        if (!this.isComponentSet()) {
          throw Error(`Component ${this.name} has not been registered yet`);
        }
        const instance = this.getOrInitializeService({
          instanceIdentifier: normalizedIdentifier,
          options
        });
        for (const [instanceIdentifier, instanceDeferred] of this.instancesDeferred.entries()) {
          const normalizedDeferredIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);
          if (normalizedIdentifier === normalizedDeferredIdentifier) {
            instanceDeferred.resolve(instance);
          }
        }
        return instance;
      }
      /**
       *
       * @param callback - a function that will be invoked  after the provider has been initialized by calling provider.initialize().
       * The function is invoked SYNCHRONOUSLY, so it should not execute any longrunning tasks in order to not block the program.
       *
       * @param identifier An optional instance identifier
       * @returns a function to unregister the callback
       */
      onInit(callback, identifier) {
        var _a;
        const normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);
        const existingCallbacks = (_a = this.onInitCallbacks.get(normalizedIdentifier)) !== null && _a !== void 0 ? _a : /* @__PURE__ */ new Set();
        existingCallbacks.add(callback);
        this.onInitCallbacks.set(normalizedIdentifier, existingCallbacks);
        const existingInstance = this.instances.get(normalizedIdentifier);
        if (existingInstance) {
          callback(existingInstance, normalizedIdentifier);
        }
        return () => {
          existingCallbacks.delete(callback);
        };
      }
      /**
       * Invoke onInit callbacks synchronously
       * @param instance the service instance`
       */
      invokeOnInitCallbacks(instance, identifier) {
        const callbacks = this.onInitCallbacks.get(identifier);
        if (!callbacks) {
          return;
        }
        for (const callback of callbacks) {
          try {
            callback(instance, identifier);
          } catch (_a) {
          }
        }
      }
      getOrInitializeService({ instanceIdentifier, options = {} }) {
        let instance = this.instances.get(instanceIdentifier);
        if (!instance && this.component) {
          instance = this.component.instanceFactory(this.container, {
            instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),
            options
          });
          this.instances.set(instanceIdentifier, instance);
          this.instancesOptions.set(instanceIdentifier, options);
          this.invokeOnInitCallbacks(instance, instanceIdentifier);
          if (this.component.onInstanceCreated) {
            try {
              this.component.onInstanceCreated(this.container, instanceIdentifier, instance);
            } catch (_a) {
            }
          }
        }
        return instance || null;
      }
      normalizeInstanceIdentifier(identifier = DEFAULT_ENTRY_NAME) {
        if (this.component) {
          return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;
        } else {
          return identifier;
        }
      }
      shouldAutoInitialize() {
        return !!this.component && this.component.instantiationMode !== "EXPLICIT";
      }
    };
    ComponentContainer = class {
      constructor(name5) {
        this.name = name5;
        this.providers = /* @__PURE__ */ new Map();
      }
      /**
       *
       * @param component Component being added
       * @param overwrite When a component with the same name has already been registered,
       * if overwrite is true: overwrite the existing component with the new component and create a new
       * provider with the new component. It can be useful in tests where you want to use different mocks
       * for different tests.
       * if overwrite is false: throw an exception
       */
      addComponent(component) {
        const provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
          throw new Error(`Component ${component.name} has already been registered with ${this.name}`);
        }
        provider.setComponent(component);
      }
      addOrOverwriteComponent(component) {
        const provider = this.getProvider(component.name);
        if (provider.isComponentSet()) {
          this.providers.delete(component.name);
        }
        this.addComponent(component);
      }
      /**
       * getProvider provides a type safe interface where it can only be called with a field name
       * present in NameServiceMapping interface.
       *
       * Firebase SDKs providing services should extend NameServiceMapping interface to register
       * themselves.
       */
      getProvider(name5) {
        if (this.providers.has(name5)) {
          return this.providers.get(name5);
        }
        const provider = new Provider(name5, this);
        this.providers.set(name5, provider);
        return provider;
      }
      getProviders() {
        return Array.from(this.providers.values());
      }
    };
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/logger@0.4.2/node_modules/@firebase/logger/dist/esm/index.esm2017.js
var instances, LogLevel, levelStringToEnum, defaultLogLevel, ConsoleMethod, defaultLogHandler, Logger;
var init_index_esm20173 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/logger@0.4.2/node_modules/@firebase/logger/dist/esm/index.esm2017.js"() {
    instances = [];
    (function(LogLevel2) {
      LogLevel2[LogLevel2["DEBUG"] = 0] = "DEBUG";
      LogLevel2[LogLevel2["VERBOSE"] = 1] = "VERBOSE";
      LogLevel2[LogLevel2["INFO"] = 2] = "INFO";
      LogLevel2[LogLevel2["WARN"] = 3] = "WARN";
      LogLevel2[LogLevel2["ERROR"] = 4] = "ERROR";
      LogLevel2[LogLevel2["SILENT"] = 5] = "SILENT";
    })(LogLevel || (LogLevel = {}));
    levelStringToEnum = {
      "debug": LogLevel.DEBUG,
      "verbose": LogLevel.VERBOSE,
      "info": LogLevel.INFO,
      "warn": LogLevel.WARN,
      "error": LogLevel.ERROR,
      "silent": LogLevel.SILENT
    };
    defaultLogLevel = LogLevel.INFO;
    ConsoleMethod = {
      [LogLevel.DEBUG]: "log",
      [LogLevel.VERBOSE]: "log",
      [LogLevel.INFO]: "info",
      [LogLevel.WARN]: "warn",
      [LogLevel.ERROR]: "error"
    };
    defaultLogHandler = (instance, logType, ...args) => {
      if (logType < instance.logLevel) {
        return;
      }
      const now = (/* @__PURE__ */ new Date()).toISOString();
      const method = ConsoleMethod[logType];
      if (method) {
        console[method](`[${now}]  ${instance.name}:`, ...args);
      } else {
        throw new Error(`Attempted to log a message with an invalid logType (value: ${logType})`);
      }
    };
    Logger = class {
      /**
       * Gives you an instance of a Logger to capture messages according to
       * Firebase's logging scheme.
       *
       * @param name The name that the logs will be associated with
       */
      constructor(name5) {
        this.name = name5;
        this._logLevel = defaultLogLevel;
        this._logHandler = defaultLogHandler;
        this._userLogHandler = null;
        instances.push(this);
      }
      get logLevel() {
        return this._logLevel;
      }
      set logLevel(val) {
        if (!(val in LogLevel)) {
          throw new TypeError(`Invalid value "${val}" assigned to \`logLevel\``);
        }
        this._logLevel = val;
      }
      // Workaround for setter/getter having to be the same type.
      setLogLevel(val) {
        this._logLevel = typeof val === "string" ? levelStringToEnum[val] : val;
      }
      get logHandler() {
        return this._logHandler;
      }
      set logHandler(val) {
        if (typeof val !== "function") {
          throw new TypeError("Value assigned to `logHandler` must be a function");
        }
        this._logHandler = val;
      }
      get userLogHandler() {
        return this._userLogHandler;
      }
      set userLogHandler(val) {
        this._userLogHandler = val;
      }
      /**
       * The functions below are all based on the `console` interface
       */
      debug(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.DEBUG, ...args);
        this._logHandler(this, LogLevel.DEBUG, ...args);
      }
      log(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.VERBOSE, ...args);
        this._logHandler(this, LogLevel.VERBOSE, ...args);
      }
      info(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.INFO, ...args);
        this._logHandler(this, LogLevel.INFO, ...args);
      }
      warn(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.WARN, ...args);
        this._logHandler(this, LogLevel.WARN, ...args);
      }
      error(...args) {
        this._userLogHandler && this._userLogHandler(this, LogLevel.ERROR, ...args);
        this._logHandler(this, LogLevel.ERROR, ...args);
      }
    };
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/wrap-idb-value.js
function getIdbProxyableTypes() {
  return idbProxyableTypes || (idbProxyableTypes = [
    IDBDatabase,
    IDBObjectStore,
    IDBIndex,
    IDBCursor,
    IDBTransaction
  ]);
}
function getCursorAdvanceMethods() {
  return cursorAdvanceMethods || (cursorAdvanceMethods = [
    IDBCursor.prototype.advance,
    IDBCursor.prototype.continue,
    IDBCursor.prototype.continuePrimaryKey
  ]);
}
function promisifyRequest(request) {
  const promise = new Promise((resolve, reject) => {
    const unlisten = () => {
      request.removeEventListener("success", success);
      request.removeEventListener("error", error2);
    };
    const success = () => {
      resolve(wrap(request.result));
      unlisten();
    };
    const error2 = () => {
      reject(request.error);
      unlisten();
    };
    request.addEventListener("success", success);
    request.addEventListener("error", error2);
  });
  promise.then((value2) => {
    if (value2 instanceof IDBCursor) {
      cursorRequestMap.set(value2, request);
    }
  }).catch(() => {
  });
  reverseTransformCache.set(promise, request);
  return promise;
}
function cacheDonePromiseForTransaction(tx) {
  if (transactionDoneMap.has(tx))
    return;
  const done = new Promise((resolve, reject) => {
    const unlisten = () => {
      tx.removeEventListener("complete", complete);
      tx.removeEventListener("error", error2);
      tx.removeEventListener("abort", error2);
    };
    const complete = () => {
      resolve();
      unlisten();
    };
    const error2 = () => {
      reject(tx.error || new DOMException("AbortError", "AbortError"));
      unlisten();
    };
    tx.addEventListener("complete", complete);
    tx.addEventListener("error", error2);
    tx.addEventListener("abort", error2);
  });
  transactionDoneMap.set(tx, done);
}
function replaceTraps(callback) {
  idbProxyTraps = callback(idbProxyTraps);
}
function wrapFunction(func) {
  if (func === IDBDatabase.prototype.transaction && !("objectStoreNames" in IDBTransaction.prototype)) {
    return function(storeNames, ...args) {
      const tx = func.call(unwrap(this), storeNames, ...args);
      transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);
      return wrap(tx);
    };
  }
  if (getCursorAdvanceMethods().includes(func)) {
    return function(...args) {
      func.apply(unwrap(this), args);
      return wrap(cursorRequestMap.get(this));
    };
  }
  return function(...args) {
    return wrap(func.apply(unwrap(this), args));
  };
}
function transformCachableValue(value2) {
  if (typeof value2 === "function")
    return wrapFunction(value2);
  if (value2 instanceof IDBTransaction)
    cacheDonePromiseForTransaction(value2);
  if (instanceOfAny(value2, getIdbProxyableTypes()))
    return new Proxy(value2, idbProxyTraps);
  return value2;
}
function wrap(value2) {
  if (value2 instanceof IDBRequest)
    return promisifyRequest(value2);
  if (transformCache.has(value2))
    return transformCache.get(value2);
  const newValue = transformCachableValue(value2);
  if (newValue !== value2) {
    transformCache.set(value2, newValue);
    reverseTransformCache.set(newValue, value2);
  }
  return newValue;
}
var instanceOfAny, idbProxyableTypes, cursorAdvanceMethods, cursorRequestMap, transactionDoneMap, transactionStoreNamesMap, transformCache, reverseTransformCache, idbProxyTraps, unwrap;
var init_wrap_idb_value = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/wrap-idb-value.js"() {
    instanceOfAny = (object, constructors) => constructors.some((c3) => object instanceof c3);
    cursorRequestMap = /* @__PURE__ */ new WeakMap();
    transactionDoneMap = /* @__PURE__ */ new WeakMap();
    transactionStoreNamesMap = /* @__PURE__ */ new WeakMap();
    transformCache = /* @__PURE__ */ new WeakMap();
    reverseTransformCache = /* @__PURE__ */ new WeakMap();
    idbProxyTraps = {
      get(target, prop, receiver) {
        if (target instanceof IDBTransaction) {
          if (prop === "done")
            return transactionDoneMap.get(target);
          if (prop === "objectStoreNames") {
            return target.objectStoreNames || transactionStoreNamesMap.get(target);
          }
          if (prop === "store") {
            return receiver.objectStoreNames[1] ? void 0 : receiver.objectStore(receiver.objectStoreNames[0]);
          }
        }
        return wrap(target[prop]);
      },
      set(target, prop, value2) {
        target[prop] = value2;
        return true;
      },
      has(target, prop) {
        if (target instanceof IDBTransaction && (prop === "done" || prop === "store")) {
          return true;
        }
        return prop in target;
      }
    };
    unwrap = (value2) => reverseTransformCache.get(value2);
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/index.js
function openDB(name5, version4, { blocked, upgrade, blocking, terminated } = {}) {
  const request = indexedDB.open(name5, version4);
  const openPromise = wrap(request);
  if (upgrade) {
    request.addEventListener("upgradeneeded", (event) => {
      upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);
    });
  }
  if (blocked) {
    request.addEventListener("blocked", (event) => blocked(
      // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405
      event.oldVersion,
      event.newVersion,
      event
    ));
  }
  openPromise.then((db) => {
    if (terminated)
      db.addEventListener("close", () => terminated());
    if (blocking) {
      db.addEventListener("versionchange", (event) => blocking(event.oldVersion, event.newVersion, event));
    }
  }).catch(() => {
  });
  return openPromise;
}
function getMethod(target, prop) {
  if (!(target instanceof IDBDatabase && !(prop in target) && typeof prop === "string")) {
    return;
  }
  if (cachedMethods.get(prop))
    return cachedMethods.get(prop);
  const targetFuncName = prop.replace(/FromIndex$/, "");
  const useIndex = prop !== targetFuncName;
  const isWrite = writeMethods.includes(targetFuncName);
  if (
    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.
    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) || !(isWrite || readMethods.includes(targetFuncName))
  ) {
    return;
  }
  const method = async function(storeName, ...args) {
    const tx = this.transaction(storeName, isWrite ? "readwrite" : "readonly");
    let target2 = tx.store;
    if (useIndex)
      target2 = target2.index(args.shift());
    return (await Promise.all([
      target2[targetFuncName](...args),
      isWrite && tx.done
    ]))[0];
  };
  cachedMethods.set(prop, method);
  return method;
}
var readMethods, writeMethods, cachedMethods;
var init_build = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/idb@7.1.1/node_modules/idb/build/index.js"() {
    init_wrap_idb_value();
    init_wrap_idb_value();
    readMethods = ["get", "getKey", "getAll", "getAllKeys", "count"];
    writeMethods = ["put", "add", "delete", "clear"];
    cachedMethods = /* @__PURE__ */ new Map();
    replaceTraps((oldTraps) => ({
      ...oldTraps,
      get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),
      has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop)
    }));
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/app@0.10.13/node_modules/@firebase/app/dist/esm/index.esm2017.js
function isVersionServiceProvider(provider) {
  const component = provider.getComponent();
  return (component === null || component === void 0 ? void 0 : component.type) === "VERSION";
}
function _addComponent(app2, component) {
  try {
    app2.container.addComponent(component);
  } catch (e3) {
    logger.debug(`Component ${component.name} failed to register with FirebaseApp ${app2.name}`, e3);
  }
}
function _registerComponent(component) {
  const componentName = component.name;
  if (_components.has(componentName)) {
    logger.debug(`There were multiple attempts to register component ${componentName}.`);
    return false;
  }
  _components.set(componentName, component);
  for (const app2 of _apps.values()) {
    _addComponent(app2, component);
  }
  for (const serverApp of _serverApps.values()) {
    _addComponent(serverApp, component);
  }
  return true;
}
function _getProvider(app2, name5) {
  const heartbeatController = app2.container.getProvider("heartbeat").getImmediate({ optional: true });
  if (heartbeatController) {
    void heartbeatController.triggerHeartbeat();
  }
  return app2.container.getProvider(name5);
}
function _isFirebaseServerApp(obj) {
  return obj.settings !== void 0;
}
function initializeApp(_options, rawConfig = {}) {
  let options = _options;
  if (typeof rawConfig !== "object") {
    const name6 = rawConfig;
    rawConfig = { name: name6 };
  }
  const config = Object.assign({ name: DEFAULT_ENTRY_NAME2, automaticDataCollectionEnabled: false }, rawConfig);
  const name5 = config.name;
  if (typeof name5 !== "string" || !name5) {
    throw ERROR_FACTORY.create("bad-app-name", {
      appName: String(name5)
    });
  }
  options || (options = getDefaultAppConfig());
  if (!options) {
    throw ERROR_FACTORY.create(
      "no-options"
      /* AppError.NO_OPTIONS */
    );
  }
  const existingApp = _apps.get(name5);
  if (existingApp) {
    if (deepEqual(options, existingApp.options) && deepEqual(config, existingApp.config)) {
      return existingApp;
    } else {
      throw ERROR_FACTORY.create("duplicate-app", { appName: name5 });
    }
  }
  const container = new ComponentContainer(name5);
  for (const component of _components.values()) {
    container.addComponent(component);
  }
  const newApp = new FirebaseAppImpl(options, config, container);
  _apps.set(name5, newApp);
  return newApp;
}
function getApp(name5 = DEFAULT_ENTRY_NAME2) {
  const app2 = _apps.get(name5);
  if (!app2 && name5 === DEFAULT_ENTRY_NAME2 && getDefaultAppConfig()) {
    return initializeApp();
  }
  if (!app2) {
    throw ERROR_FACTORY.create("no-app", { appName: name5 });
  }
  return app2;
}
function getApps() {
  return Array.from(_apps.values());
}
function registerVersion(libraryKeyOrName, version4, variant) {
  var _a;
  let library = (_a = PLATFORM_LOG_STRING[libraryKeyOrName]) !== null && _a !== void 0 ? _a : libraryKeyOrName;
  if (variant) {
    library += `-${variant}`;
  }
  const libraryMismatch = library.match(/\s|\//);
  const versionMismatch = version4.match(/\s|\//);
  if (libraryMismatch || versionMismatch) {
    const warning2 = [
      `Unable to register library "${library}" with version "${version4}":`
    ];
    if (libraryMismatch) {
      warning2.push(`library name "${library}" contains illegal characters (whitespace or "/")`);
    }
    if (libraryMismatch && versionMismatch) {
      warning2.push("and");
    }
    if (versionMismatch) {
      warning2.push(`version name "${version4}" contains illegal characters (whitespace or "/")`);
    }
    logger.warn(warning2.join(" "));
    return;
  }
  _registerComponent(new Component2(
    `${library}-version`,
    () => ({ library, version: version4 }),
    "VERSION"
    /* ComponentType.VERSION */
  ));
}
function getDbPromise() {
  if (!dbPromise) {
    dbPromise = openDB(DB_NAME, DB_VERSION, {
      upgrade: (db, oldVersion) => {
        switch (oldVersion) {
          case 0:
            try {
              db.createObjectStore(STORE_NAME);
            } catch (e3) {
              console.warn(e3);
            }
        }
      }
    }).catch((e3) => {
      throw ERROR_FACTORY.create("idb-open", {
        originalErrorMessage: e3.message
      });
    });
  }
  return dbPromise;
}
async function readHeartbeatsFromIndexedDB(app2) {
  try {
    const db = await getDbPromise();
    const tx = db.transaction(STORE_NAME);
    const result = await tx.objectStore(STORE_NAME).get(computeKey(app2));
    await tx.done;
    return result;
  } catch (e3) {
    if (e3 instanceof FirebaseError) {
      logger.warn(e3.message);
    } else {
      const idbGetError = ERROR_FACTORY.create("idb-get", {
        originalErrorMessage: e3 === null || e3 === void 0 ? void 0 : e3.message
      });
      logger.warn(idbGetError.message);
    }
  }
}
async function writeHeartbeatsToIndexedDB(app2, heartbeatObject) {
  try {
    const db = await getDbPromise();
    const tx = db.transaction(STORE_NAME, "readwrite");
    const objectStore = tx.objectStore(STORE_NAME);
    await objectStore.put(heartbeatObject, computeKey(app2));
    await tx.done;
  } catch (e3) {
    if (e3 instanceof FirebaseError) {
      logger.warn(e3.message);
    } else {
      const idbGetError = ERROR_FACTORY.create("idb-set", {
        originalErrorMessage: e3 === null || e3 === void 0 ? void 0 : e3.message
      });
      logger.warn(idbGetError.message);
    }
  }
}
function computeKey(app2) {
  return `${app2.name}!${app2.options.appId}`;
}
function getUTCDateString() {
  const today = /* @__PURE__ */ new Date();
  return today.toISOString().substring(0, 10);
}
function extractHeartbeatsForHeader(heartbeatsCache, maxSize = MAX_HEADER_BYTES) {
  const heartbeatsToSend = [];
  let unsentEntries = heartbeatsCache.slice();
  for (const singleDateHeartbeat of heartbeatsCache) {
    const heartbeatEntry = heartbeatsToSend.find((hb) => hb.agent === singleDateHeartbeat.agent);
    if (!heartbeatEntry) {
      heartbeatsToSend.push({
        agent: singleDateHeartbeat.agent,
        dates: [singleDateHeartbeat.date]
      });
      if (countBytes(heartbeatsToSend) > maxSize) {
        heartbeatsToSend.pop();
        break;
      }
    } else {
      heartbeatEntry.dates.push(singleDateHeartbeat.date);
      if (countBytes(heartbeatsToSend) > maxSize) {
        heartbeatEntry.dates.pop();
        break;
      }
    }
    unsentEntries = unsentEntries.slice(1);
  }
  return {
    heartbeatsToSend,
    unsentEntries
  };
}
function countBytes(heartbeatsCache) {
  return base64urlEncodeWithoutPadding(
    // heartbeatsCache wrapper properties
    JSON.stringify({ version: 2, heartbeats: heartbeatsCache })
  ).length;
}
function registerCoreComponents(variant) {
  _registerComponent(new Component2(
    "platform-logger",
    (container) => new PlatformLoggerServiceImpl(container),
    "PRIVATE"
    /* ComponentType.PRIVATE */
  ));
  _registerComponent(new Component2(
    "heartbeat",
    (container) => new HeartbeatServiceImpl(container),
    "PRIVATE"
    /* ComponentType.PRIVATE */
  ));
  registerVersion(name$q, version$1, variant);
  registerVersion(name$q, version$1, "esm2017");
  registerVersion("fire-js", "");
}
var PlatformLoggerServiceImpl, name$q, version$1, logger, name$p, name$o, name$n, name$m, name$l, name$k, name$j, name$i, name$h, name$g, name$f, name$e, name$d, name$c, name$b, name$a, name$9, name$8, name$7, name$6, name$5, name$4, name$3, name$2, name$1, name2, version, DEFAULT_ENTRY_NAME2, PLATFORM_LOG_STRING, _apps, _serverApps, _components, ERRORS, ERROR_FACTORY, FirebaseAppImpl, SDK_VERSION, DB_NAME, DB_VERSION, STORE_NAME, dbPromise, MAX_HEADER_BYTES, STORED_HEARTBEAT_RETENTION_MAX_MILLIS, HeartbeatServiceImpl, HeartbeatStorageImpl;
var init_index_esm20174 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/app@0.10.13/node_modules/@firebase/app/dist/esm/index.esm2017.js"() {
    init_index_esm20172();
    init_index_esm20173();
    init_index_esm2017();
    init_index_esm2017();
    init_build();
    PlatformLoggerServiceImpl = class {
      constructor(container) {
        this.container = container;
      }
      // In initial implementation, this will be called by installations on
      // auth token refresh, and installations will send this string.
      getPlatformInfoString() {
        const providers = this.container.getProviders();
        return providers.map((provider) => {
          if (isVersionServiceProvider(provider)) {
            const service = provider.getImmediate();
            return `${service.library}/${service.version}`;
          } else {
            return null;
          }
        }).filter((logString) => logString).join(" ");
      }
    };
    name$q = "@firebase/app";
    version$1 = "0.10.13";
    logger = new Logger("@firebase/app");
    name$p = "@firebase/app-compat";
    name$o = "@firebase/analytics-compat";
    name$n = "@firebase/analytics";
    name$m = "@firebase/app-check-compat";
    name$l = "@firebase/app-check";
    name$k = "@firebase/auth";
    name$j = "@firebase/auth-compat";
    name$i = "@firebase/database";
    name$h = "@firebase/data-connect";
    name$g = "@firebase/database-compat";
    name$f = "@firebase/functions";
    name$e = "@firebase/functions-compat";
    name$d = "@firebase/installations";
    name$c = "@firebase/installations-compat";
    name$b = "@firebase/messaging";
    name$a = "@firebase/messaging-compat";
    name$9 = "@firebase/performance";
    name$8 = "@firebase/performance-compat";
    name$7 = "@firebase/remote-config";
    name$6 = "@firebase/remote-config-compat";
    name$5 = "@firebase/storage";
    name$4 = "@firebase/storage-compat";
    name$3 = "@firebase/firestore";
    name$2 = "@firebase/vertexai-preview";
    name$1 = "@firebase/firestore-compat";
    name2 = "firebase";
    version = "10.14.1";
    DEFAULT_ENTRY_NAME2 = "[DEFAULT]";
    PLATFORM_LOG_STRING = {
      [name$q]: "fire-core",
      [name$p]: "fire-core-compat",
      [name$n]: "fire-analytics",
      [name$o]: "fire-analytics-compat",
      [name$l]: "fire-app-check",
      [name$m]: "fire-app-check-compat",
      [name$k]: "fire-auth",
      [name$j]: "fire-auth-compat",
      [name$i]: "fire-rtdb",
      [name$h]: "fire-data-connect",
      [name$g]: "fire-rtdb-compat",
      [name$f]: "fire-fn",
      [name$e]: "fire-fn-compat",
      [name$d]: "fire-iid",
      [name$c]: "fire-iid-compat",
      [name$b]: "fire-fcm",
      [name$a]: "fire-fcm-compat",
      [name$9]: "fire-perf",
      [name$8]: "fire-perf-compat",
      [name$7]: "fire-rc",
      [name$6]: "fire-rc-compat",
      [name$5]: "fire-gcs",
      [name$4]: "fire-gcs-compat",
      [name$3]: "fire-fst",
      [name$1]: "fire-fst-compat",
      [name$2]: "fire-vertex",
      "fire-js": "fire-js",
      [name2]: "fire-js-all"
    };
    _apps = /* @__PURE__ */ new Map();
    _serverApps = /* @__PURE__ */ new Map();
    _components = /* @__PURE__ */ new Map();
    ERRORS = {
      [
        "no-app"
        /* AppError.NO_APP */
      ]: "No Firebase App '{$appName}' has been created - call initializeApp() first",
      [
        "bad-app-name"
        /* AppError.BAD_APP_NAME */
      ]: "Illegal App name: '{$appName}'",
      [
        "duplicate-app"
        /* AppError.DUPLICATE_APP */
      ]: "Firebase App named '{$appName}' already exists with different options or config",
      [
        "app-deleted"
        /* AppError.APP_DELETED */
      ]: "Firebase App named '{$appName}' already deleted",
      [
        "server-app-deleted"
        /* AppError.SERVER_APP_DELETED */
      ]: "Firebase Server App has been deleted",
      [
        "no-options"
        /* AppError.NO_OPTIONS */
      ]: "Need to provide options, when not being deployed to hosting via source.",
      [
        "invalid-app-argument"
        /* AppError.INVALID_APP_ARGUMENT */
      ]: "firebase.{$appName}() takes either no argument or a Firebase App instance.",
      [
        "invalid-log-argument"
        /* AppError.INVALID_LOG_ARGUMENT */
      ]: "First argument to `onLog` must be null or a function.",
      [
        "idb-open"
        /* AppError.IDB_OPEN */
      ]: "Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "idb-get"
        /* AppError.IDB_GET */
      ]: "Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "idb-set"
        /* AppError.IDB_WRITE */
      ]: "Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "idb-delete"
        /* AppError.IDB_DELETE */
      ]: "Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",
      [
        "finalization-registry-not-supported"
        /* AppError.FINALIZATION_REGISTRY_NOT_SUPPORTED */
      ]: "FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",
      [
        "invalid-server-app-environment"
        /* AppError.INVALID_SERVER_APP_ENVIRONMENT */
      ]: "FirebaseServerApp is not for use in browser environments."
    };
    ERROR_FACTORY = new ErrorFactory("app", "Firebase", ERRORS);
    FirebaseAppImpl = class {
      constructor(options, config, container) {
        this._isDeleted = false;
        this._options = Object.assign({}, options);
        this._config = Object.assign({}, config);
        this._name = config.name;
        this._automaticDataCollectionEnabled = config.automaticDataCollectionEnabled;
        this._container = container;
        this.container.addComponent(new Component2(
          "app",
          () => this,
          "PUBLIC"
          /* ComponentType.PUBLIC */
        ));
      }
      get automaticDataCollectionEnabled() {
        this.checkDestroyed();
        return this._automaticDataCollectionEnabled;
      }
      set automaticDataCollectionEnabled(val) {
        this.checkDestroyed();
        this._automaticDataCollectionEnabled = val;
      }
      get name() {
        this.checkDestroyed();
        return this._name;
      }
      get options() {
        this.checkDestroyed();
        return this._options;
      }
      get config() {
        this.checkDestroyed();
        return this._config;
      }
      get container() {
        return this._container;
      }
      get isDeleted() {
        return this._isDeleted;
      }
      set isDeleted(val) {
        this._isDeleted = val;
      }
      /**
       * This function will throw an Error if the App has already been deleted -
       * use before performing API actions on the App.
       */
      checkDestroyed() {
        if (this.isDeleted) {
          throw ERROR_FACTORY.create("app-deleted", { appName: this._name });
        }
      }
    };
    SDK_VERSION = version;
    DB_NAME = "firebase-heartbeat-database";
    DB_VERSION = 1;
    STORE_NAME = "firebase-heartbeat-store";
    dbPromise = null;
    MAX_HEADER_BYTES = 1024;
    STORED_HEARTBEAT_RETENTION_MAX_MILLIS = 30 * 24 * 60 * 60 * 1e3;
    HeartbeatServiceImpl = class {
      constructor(container) {
        this.container = container;
        this._heartbeatsCache = null;
        const app2 = this.container.getProvider("app").getImmediate();
        this._storage = new HeartbeatStorageImpl(app2);
        this._heartbeatsCachePromise = this._storage.read().then((result) => {
          this._heartbeatsCache = result;
          return result;
        });
      }
      /**
       * Called to report a heartbeat. The function will generate
       * a HeartbeatsByUserAgent object, update heartbeatsCache, and persist it
       * to IndexedDB.
       * Note that we only store one heartbeat per day. So if a heartbeat for today is
       * already logged, subsequent calls to this function in the same day will be ignored.
       */
      async triggerHeartbeat() {
        var _a, _b;
        try {
          const platformLogger = this.container.getProvider("platform-logger").getImmediate();
          const agent = platformLogger.getPlatformInfoString();
          const date = getUTCDateString();
          if (((_a = this._heartbeatsCache) === null || _a === void 0 ? void 0 : _a.heartbeats) == null) {
            this._heartbeatsCache = await this._heartbeatsCachePromise;
            if (((_b = this._heartbeatsCache) === null || _b === void 0 ? void 0 : _b.heartbeats) == null) {
              return;
            }
          }
          if (this._heartbeatsCache.lastSentHeartbeatDate === date || this._heartbeatsCache.heartbeats.some((singleDateHeartbeat) => singleDateHeartbeat.date === date)) {
            return;
          } else {
            this._heartbeatsCache.heartbeats.push({ date, agent });
          }
          this._heartbeatsCache.heartbeats = this._heartbeatsCache.heartbeats.filter((singleDateHeartbeat) => {
            const hbTimestamp = new Date(singleDateHeartbeat.date).valueOf();
            const now = Date.now();
            return now - hbTimestamp <= STORED_HEARTBEAT_RETENTION_MAX_MILLIS;
          });
          return this._storage.overwrite(this._heartbeatsCache);
        } catch (e3) {
          logger.warn(e3);
        }
      }
      /**
       * Returns a base64 encoded string which can be attached to the heartbeat-specific header directly.
       * It also clears all heartbeats from memory as well as in IndexedDB.
       *
       * NOTE: Consuming product SDKs should not send the header if this method
       * returns an empty string.
       */
      async getHeartbeatsHeader() {
        var _a;
        try {
          if (this._heartbeatsCache === null) {
            await this._heartbeatsCachePromise;
          }
          if (((_a = this._heartbeatsCache) === null || _a === void 0 ? void 0 : _a.heartbeats) == null || this._heartbeatsCache.heartbeats.length === 0) {
            return "";
          }
          const date = getUTCDateString();
          const { heartbeatsToSend, unsentEntries } = extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats);
          const headerString = base64urlEncodeWithoutPadding(JSON.stringify({ version: 2, heartbeats: heartbeatsToSend }));
          this._heartbeatsCache.lastSentHeartbeatDate = date;
          if (unsentEntries.length > 0) {
            this._heartbeatsCache.heartbeats = unsentEntries;
            await this._storage.overwrite(this._heartbeatsCache);
          } else {
            this._heartbeatsCache.heartbeats = [];
            void this._storage.overwrite(this._heartbeatsCache);
          }
          return headerString;
        } catch (e3) {
          logger.warn(e3);
          return "";
        }
      }
    };
    HeartbeatStorageImpl = class {
      constructor(app2) {
        this.app = app2;
        this._canUseIndexedDBPromise = this.runIndexedDBEnvironmentCheck();
      }
      async runIndexedDBEnvironmentCheck() {
        if (!isIndexedDBAvailable()) {
          return false;
        } else {
          return validateIndexedDBOpenable().then(() => true).catch(() => false);
        }
      }
      /**
       * Read all heartbeats.
       */
      async read() {
        const canUseIndexedDB = await this._canUseIndexedDBPromise;
        if (!canUseIndexedDB) {
          return { heartbeats: [] };
        } else {
          const idbHeartbeatObject = await readHeartbeatsFromIndexedDB(this.app);
          if (idbHeartbeatObject === null || idbHeartbeatObject === void 0 ? void 0 : idbHeartbeatObject.heartbeats) {
            return idbHeartbeatObject;
          } else {
            return { heartbeats: [] };
          }
        }
      }
      // overwrite the storage with the provided heartbeats
      async overwrite(heartbeatsObject) {
        var _a;
        const canUseIndexedDB = await this._canUseIndexedDBPromise;
        if (!canUseIndexedDB) {
          return;
        } else {
          const existingHeartbeatsObject = await this.read();
          return writeHeartbeatsToIndexedDB(this.app, {
            lastSentHeartbeatDate: (_a = heartbeatsObject.lastSentHeartbeatDate) !== null && _a !== void 0 ? _a : existingHeartbeatsObject.lastSentHeartbeatDate,
            heartbeats: heartbeatsObject.heartbeats
          });
        }
      }
      // add heartbeats
      async add(heartbeatsObject) {
        var _a;
        const canUseIndexedDB = await this._canUseIndexedDBPromise;
        if (!canUseIndexedDB) {
          return;
        } else {
          const existingHeartbeatsObject = await this.read();
          return writeHeartbeatsToIndexedDB(this.app, {
            lastSentHeartbeatDate: (_a = heartbeatsObject.lastSentHeartbeatDate) !== null && _a !== void 0 ? _a : existingHeartbeatsObject.lastSentHeartbeatDate,
            heartbeats: [
              ...existingHeartbeatsObject.heartbeats,
              ...heartbeatsObject.heartbeats
            ]
          });
        }
      }
    };
    registerCoreComponents("");
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs
function __rest(s, e3) {
  var t2 = {};
  for (var p3 in s) if (Object.prototype.hasOwnProperty.call(s, p3) && e3.indexOf(p3) < 0)
    t2[p3] = s[p3];
  if (s != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i3 = 0, p3 = Object.getOwnPropertySymbols(s); i3 < p3.length; i3++) {
      if (e3.indexOf(p3[i3]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p3[i3]))
        t2[p3[i3]] = s[p3[i3]];
    }
  return t2;
}
var init_tslib_es6 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs"() {
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index-68602d24.js
function _debugErrorMap() {
  return {
    [
      "admin-restricted-operation"
      /* AuthErrorCode.ADMIN_ONLY_OPERATION */
    ]: "This operation is restricted to administrators only.",
    [
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    ]: "",
    [
      "app-not-authorized"
      /* AuthErrorCode.APP_NOT_AUTHORIZED */
    ]: "This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",
    [
      "app-not-installed"
      /* AuthErrorCode.APP_NOT_INSTALLED */
    ]: "The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",
    [
      "captcha-check-failed"
      /* AuthErrorCode.CAPTCHA_CHECK_FAILED */
    ]: "The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",
    [
      "code-expired"
      /* AuthErrorCode.CODE_EXPIRED */
    ]: "The SMS code has expired. Please re-send the verification code to try again.",
    [
      "cordova-not-ready"
      /* AuthErrorCode.CORDOVA_NOT_READY */
    ]: "Cordova framework is not ready.",
    [
      "cors-unsupported"
      /* AuthErrorCode.CORS_UNSUPPORTED */
    ]: "This browser is not supported.",
    [
      "credential-already-in-use"
      /* AuthErrorCode.CREDENTIAL_ALREADY_IN_USE */
    ]: "This credential is already associated with a different user account.",
    [
      "custom-token-mismatch"
      /* AuthErrorCode.CREDENTIAL_MISMATCH */
    ]: "The custom token corresponds to a different audience.",
    [
      "requires-recent-login"
      /* AuthErrorCode.CREDENTIAL_TOO_OLD_LOGIN_AGAIN */
    ]: "This operation is sensitive and requires recent authentication. Log in again before retrying this request.",
    [
      "dependent-sdk-initialized-before-auth"
      /* AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH */
    ]: "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",
    [
      "dynamic-link-not-activated"
      /* AuthErrorCode.DYNAMIC_LINK_NOT_ACTIVATED */
    ]: "Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",
    [
      "email-change-needs-verification"
      /* AuthErrorCode.EMAIL_CHANGE_NEEDS_VERIFICATION */
    ]: "Multi-factor users must always have a verified email.",
    [
      "email-already-in-use"
      /* AuthErrorCode.EMAIL_EXISTS */
    ]: "The email address is already in use by another account.",
    [
      "emulator-config-failed"
      /* AuthErrorCode.EMULATOR_CONFIG_FAILED */
    ]: 'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',
    [
      "expired-action-code"
      /* AuthErrorCode.EXPIRED_OOB_CODE */
    ]: "The action code has expired.",
    [
      "cancelled-popup-request"
      /* AuthErrorCode.EXPIRED_POPUP_REQUEST */
    ]: "This operation has been cancelled due to another conflicting popup being opened.",
    [
      "internal-error"
      /* AuthErrorCode.INTERNAL_ERROR */
    ]: "An internal AuthError has occurred.",
    [
      "invalid-app-credential"
      /* AuthErrorCode.INVALID_APP_CREDENTIAL */
    ]: "The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",
    [
      "invalid-app-id"
      /* AuthErrorCode.INVALID_APP_ID */
    ]: "The mobile app identifier is not registered for the current project.",
    [
      "invalid-user-token"
      /* AuthErrorCode.INVALID_AUTH */
    ]: "This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",
    [
      "invalid-auth-event"
      /* AuthErrorCode.INVALID_AUTH_EVENT */
    ]: "An internal AuthError has occurred.",
    [
      "invalid-verification-code"
      /* AuthErrorCode.INVALID_CODE */
    ]: "The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",
    [
      "invalid-continue-uri"
      /* AuthErrorCode.INVALID_CONTINUE_URI */
    ]: "The continue URL provided in the request is invalid.",
    [
      "invalid-cordova-configuration"
      /* AuthErrorCode.INVALID_CORDOVA_CONFIGURATION */
    ]: "The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",
    [
      "invalid-custom-token"
      /* AuthErrorCode.INVALID_CUSTOM_TOKEN */
    ]: "The custom token format is incorrect. Please check the documentation.",
    [
      "invalid-dynamic-link-domain"
      /* AuthErrorCode.INVALID_DYNAMIC_LINK_DOMAIN */
    ]: "The provided dynamic link domain is not configured or authorized for the current project.",
    [
      "invalid-email"
      /* AuthErrorCode.INVALID_EMAIL */
    ]: "The email address is badly formatted.",
    [
      "invalid-emulator-scheme"
      /* AuthErrorCode.INVALID_EMULATOR_SCHEME */
    ]: "Emulator URL must start with a valid scheme (http:// or https://).",
    [
      "invalid-api-key"
      /* AuthErrorCode.INVALID_API_KEY */
    ]: "Your API key is invalid, please check you have copied it correctly.",
    [
      "invalid-cert-hash"
      /* AuthErrorCode.INVALID_CERT_HASH */
    ]: "The SHA-1 certificate hash provided is invalid.",
    [
      "invalid-credential"
      /* AuthErrorCode.INVALID_CREDENTIAL */
    ]: "The supplied auth credential is incorrect, malformed or has expired.",
    [
      "invalid-message-payload"
      /* AuthErrorCode.INVALID_MESSAGE_PAYLOAD */
    ]: "The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",
    [
      "invalid-multi-factor-session"
      /* AuthErrorCode.INVALID_MFA_SESSION */
    ]: "The request does not contain a valid proof of first factor successful sign-in.",
    [
      "invalid-oauth-provider"
      /* AuthErrorCode.INVALID_OAUTH_PROVIDER */
    ]: "EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",
    [
      "invalid-oauth-client-id"
      /* AuthErrorCode.INVALID_OAUTH_CLIENT_ID */
    ]: "The OAuth client ID provided is either invalid or does not match the specified API key.",
    [
      "unauthorized-domain"
      /* AuthErrorCode.INVALID_ORIGIN */
    ]: "This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",
    [
      "invalid-action-code"
      /* AuthErrorCode.INVALID_OOB_CODE */
    ]: "The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",
    [
      "wrong-password"
      /* AuthErrorCode.INVALID_PASSWORD */
    ]: "The password is invalid or the user does not have a password.",
    [
      "invalid-persistence-type"
      /* AuthErrorCode.INVALID_PERSISTENCE */
    ]: "The specified persistence type is invalid. It can only be local, session or none.",
    [
      "invalid-phone-number"
      /* AuthErrorCode.INVALID_PHONE_NUMBER */
    ]: "The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",
    [
      "invalid-provider-id"
      /* AuthErrorCode.INVALID_PROVIDER_ID */
    ]: "The specified provider ID is invalid.",
    [
      "invalid-recipient-email"
      /* AuthErrorCode.INVALID_RECIPIENT_EMAIL */
    ]: "The email corresponding to this action failed to send as the provided recipient email address is invalid.",
    [
      "invalid-sender"
      /* AuthErrorCode.INVALID_SENDER */
    ]: "The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",
    [
      "invalid-verification-id"
      /* AuthErrorCode.INVALID_SESSION_INFO */
    ]: "The verification ID used to create the phone auth credential is invalid.",
    [
      "invalid-tenant-id"
      /* AuthErrorCode.INVALID_TENANT_ID */
    ]: "The Auth instance's tenant ID is invalid.",
    [
      "login-blocked"
      /* AuthErrorCode.LOGIN_BLOCKED */
    ]: "Login blocked by user-provided method: {$originalMessage}",
    [
      "missing-android-pkg-name"
      /* AuthErrorCode.MISSING_ANDROID_PACKAGE_NAME */
    ]: "An Android Package Name must be provided if the Android App is required to be installed.",
    [
      "auth-domain-config-required"
      /* AuthErrorCode.MISSING_AUTH_DOMAIN */
    ]: "Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",
    [
      "missing-app-credential"
      /* AuthErrorCode.MISSING_APP_CREDENTIAL */
    ]: "The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",
    [
      "missing-verification-code"
      /* AuthErrorCode.MISSING_CODE */
    ]: "The phone auth credential was created with an empty SMS verification code.",
    [
      "missing-continue-uri"
      /* AuthErrorCode.MISSING_CONTINUE_URI */
    ]: "A continue URL must be provided in the request.",
    [
      "missing-iframe-start"
      /* AuthErrorCode.MISSING_IFRAME_START */
    ]: "An internal AuthError has occurred.",
    [
      "missing-ios-bundle-id"
      /* AuthErrorCode.MISSING_IOS_BUNDLE_ID */
    ]: "An iOS Bundle ID must be provided if an App Store ID is provided.",
    [
      "missing-or-invalid-nonce"
      /* AuthErrorCode.MISSING_OR_INVALID_NONCE */
    ]: "The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",
    [
      "missing-password"
      /* AuthErrorCode.MISSING_PASSWORD */
    ]: "A non-empty password must be provided",
    [
      "missing-multi-factor-info"
      /* AuthErrorCode.MISSING_MFA_INFO */
    ]: "No second factor identifier is provided.",
    [
      "missing-multi-factor-session"
      /* AuthErrorCode.MISSING_MFA_SESSION */
    ]: "The request is missing proof of first factor successful sign-in.",
    [
      "missing-phone-number"
      /* AuthErrorCode.MISSING_PHONE_NUMBER */
    ]: "To send verification codes, provide a phone number for the recipient.",
    [
      "missing-verification-id"
      /* AuthErrorCode.MISSING_SESSION_INFO */
    ]: "The phone auth credential was created with an empty verification ID.",
    [
      "app-deleted"
      /* AuthErrorCode.MODULE_DESTROYED */
    ]: "This instance of FirebaseApp has been deleted.",
    [
      "multi-factor-info-not-found"
      /* AuthErrorCode.MFA_INFO_NOT_FOUND */
    ]: "The user does not have a second factor matching the identifier provided.",
    [
      "multi-factor-auth-required"
      /* AuthErrorCode.MFA_REQUIRED */
    ]: "Proof of ownership of a second factor is required to complete sign-in.",
    [
      "account-exists-with-different-credential"
      /* AuthErrorCode.NEED_CONFIRMATION */
    ]: "An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",
    [
      "network-request-failed"
      /* AuthErrorCode.NETWORK_REQUEST_FAILED */
    ]: "A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",
    [
      "no-auth-event"
      /* AuthErrorCode.NO_AUTH_EVENT */
    ]: "An internal AuthError has occurred.",
    [
      "no-such-provider"
      /* AuthErrorCode.NO_SUCH_PROVIDER */
    ]: "User was not linked to an account with the given provider.",
    [
      "null-user"
      /* AuthErrorCode.NULL_USER */
    ]: "A null user object was provided as the argument for an operation which requires a non-null user object.",
    [
      "operation-not-allowed"
      /* AuthErrorCode.OPERATION_NOT_ALLOWED */
    ]: "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",
    [
      "operation-not-supported-in-this-environment"
      /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
    ]: 'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',
    [
      "popup-blocked"
      /* AuthErrorCode.POPUP_BLOCKED */
    ]: "Unable to establish a connection with the popup. It may have been blocked by the browser.",
    [
      "popup-closed-by-user"
      /* AuthErrorCode.POPUP_CLOSED_BY_USER */
    ]: "The popup has been closed by the user before finalizing the operation.",
    [
      "provider-already-linked"
      /* AuthErrorCode.PROVIDER_ALREADY_LINKED */
    ]: "User can only be linked to one identity for the given provider.",
    [
      "quota-exceeded"
      /* AuthErrorCode.QUOTA_EXCEEDED */
    ]: "The project's quota for this operation has been exceeded.",
    [
      "redirect-cancelled-by-user"
      /* AuthErrorCode.REDIRECT_CANCELLED_BY_USER */
    ]: "The redirect operation has been cancelled by the user before finalizing.",
    [
      "redirect-operation-pending"
      /* AuthErrorCode.REDIRECT_OPERATION_PENDING */
    ]: "A redirect sign-in operation is already pending.",
    [
      "rejected-credential"
      /* AuthErrorCode.REJECTED_CREDENTIAL */
    ]: "The request contains malformed or mismatching credentials.",
    [
      "second-factor-already-in-use"
      /* AuthErrorCode.SECOND_FACTOR_ALREADY_ENROLLED */
    ]: "The second factor is already enrolled on this account.",
    [
      "maximum-second-factor-count-exceeded"
      /* AuthErrorCode.SECOND_FACTOR_LIMIT_EXCEEDED */
    ]: "The maximum allowed number of second factors on a user has been exceeded.",
    [
      "tenant-id-mismatch"
      /* AuthErrorCode.TENANT_ID_MISMATCH */
    ]: "The provided tenant ID does not match the Auth instance's tenant ID",
    [
      "timeout"
      /* AuthErrorCode.TIMEOUT */
    ]: "The operation has timed out.",
    [
      "user-token-expired"
      /* AuthErrorCode.TOKEN_EXPIRED */
    ]: "The user's credential is no longer valid. The user must sign in again.",
    [
      "too-many-requests"
      /* AuthErrorCode.TOO_MANY_ATTEMPTS_TRY_LATER */
    ]: "We have blocked all requests from this device due to unusual activity. Try again later.",
    [
      "unauthorized-continue-uri"
      /* AuthErrorCode.UNAUTHORIZED_DOMAIN */
    ]: "The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",
    [
      "unsupported-first-factor"
      /* AuthErrorCode.UNSUPPORTED_FIRST_FACTOR */
    ]: "Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",
    [
      "unsupported-persistence-type"
      /* AuthErrorCode.UNSUPPORTED_PERSISTENCE */
    ]: "The current environment does not support the specified persistence type.",
    [
      "unsupported-tenant-operation"
      /* AuthErrorCode.UNSUPPORTED_TENANT_OPERATION */
    ]: "This operation is not supported in a multi-tenant context.",
    [
      "unverified-email"
      /* AuthErrorCode.UNVERIFIED_EMAIL */
    ]: "The operation requires a verified email.",
    [
      "user-cancelled"
      /* AuthErrorCode.USER_CANCELLED */
    ]: "The user did not grant your application the permissions it requested.",
    [
      "user-not-found"
      /* AuthErrorCode.USER_DELETED */
    ]: "There is no user record corresponding to this identifier. The user may have been deleted.",
    [
      "user-disabled"
      /* AuthErrorCode.USER_DISABLED */
    ]: "The user account has been disabled by an administrator.",
    [
      "user-mismatch"
      /* AuthErrorCode.USER_MISMATCH */
    ]: "The supplied credentials do not correspond to the previously signed in user.",
    [
      "user-signed-out"
      /* AuthErrorCode.USER_SIGNED_OUT */
    ]: "",
    [
      "weak-password"
      /* AuthErrorCode.WEAK_PASSWORD */
    ]: "The password must be 6 characters long or more.",
    [
      "web-storage-unsupported"
      /* AuthErrorCode.WEB_STORAGE_UNSUPPORTED */
    ]: "This browser is not supported or 3rd party cookies and data may be disabled.",
    [
      "already-initialized"
      /* AuthErrorCode.ALREADY_INITIALIZED */
    ]: "initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",
    [
      "missing-recaptcha-token"
      /* AuthErrorCode.MISSING_RECAPTCHA_TOKEN */
    ]: "The reCAPTCHA token is missing when sending request to the backend.",
    [
      "invalid-recaptcha-token"
      /* AuthErrorCode.INVALID_RECAPTCHA_TOKEN */
    ]: "The reCAPTCHA token is invalid when sending request to the backend.",
    [
      "invalid-recaptcha-action"
      /* AuthErrorCode.INVALID_RECAPTCHA_ACTION */
    ]: "The reCAPTCHA action is invalid when sending request to the backend.",
    [
      "recaptcha-not-enabled"
      /* AuthErrorCode.RECAPTCHA_NOT_ENABLED */
    ]: "reCAPTCHA Enterprise integration is not enabled for this project.",
    [
      "missing-client-type"
      /* AuthErrorCode.MISSING_CLIENT_TYPE */
    ]: "The reCAPTCHA client type is missing when sending request to the backend.",
    [
      "missing-recaptcha-version"
      /* AuthErrorCode.MISSING_RECAPTCHA_VERSION */
    ]: "The reCAPTCHA version is missing when sending request to the backend.",
    [
      "invalid-req-type"
      /* AuthErrorCode.INVALID_REQ_TYPE */
    ]: "Invalid request parameters.",
    [
      "invalid-recaptcha-version"
      /* AuthErrorCode.INVALID_RECAPTCHA_VERSION */
    ]: "The reCAPTCHA version is invalid when sending request to the backend.",
    [
      "unsupported-password-policy-schema-version"
      /* AuthErrorCode.UNSUPPORTED_PASSWORD_POLICY_SCHEMA_VERSION */
    ]: "The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.",
    [
      "password-does-not-meet-requirements"
      /* AuthErrorCode.PASSWORD_DOES_NOT_MEET_REQUIREMENTS */
    ]: "The password does not meet the requirements."
  };
}
function _prodErrorMap() {
  return {
    [
      "dependent-sdk-initialized-before-auth"
      /* AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH */
    ]: "Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."
  };
}
function _logWarn(msg, ...args) {
  if (logClient.logLevel <= LogLevel.WARN) {
    logClient.warn(`Auth (${SDK_VERSION}): ${msg}`, ...args);
  }
}
function _logError(msg, ...args) {
  if (logClient.logLevel <= LogLevel.ERROR) {
    logClient.error(`Auth (${SDK_VERSION}): ${msg}`, ...args);
  }
}
function _fail(authOrCode, ...rest) {
  throw createErrorInternal(authOrCode, ...rest);
}
function _createError(authOrCode, ...rest) {
  return createErrorInternal(authOrCode, ...rest);
}
function _errorWithCustomMessage(auth2, code, message) {
  const errorMap = Object.assign(Object.assign({}, prodErrorMap()), { [code]: message });
  const factory = new ErrorFactory("auth", "Firebase", errorMap);
  return factory.create(code, {
    appName: auth2.name
  });
}
function _serverAppCurrentUserOperationNotSupportedError(auth2) {
  return _errorWithCustomMessage(auth2, "operation-not-supported-in-this-environment", "Operations that alter the current user are not supported in conjunction with FirebaseServerApp");
}
function _assertInstanceOf(auth2, object, instance) {
  const constructorInstance = instance;
  if (!(object instanceof constructorInstance)) {
    if (constructorInstance.name !== object.constructor.name) {
      _fail(
        auth2,
        "argument-error"
        /* AuthErrorCode.ARGUMENT_ERROR */
      );
    }
    throw _errorWithCustomMessage(auth2, "argument-error", `Type of ${object.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`);
  }
}
function createErrorInternal(authOrCode, ...rest) {
  if (typeof authOrCode !== "string") {
    const code = rest[0];
    const fullParams = [...rest.slice(1)];
    if (fullParams[0]) {
      fullParams[0].appName = authOrCode.name;
    }
    return authOrCode._errorFactory.create(code, ...fullParams);
  }
  return _DEFAULT_AUTH_ERROR_FACTORY.create(authOrCode, ...rest);
}
function _assert(assertion, authOrCode, ...rest) {
  if (!assertion) {
    throw createErrorInternal(authOrCode, ...rest);
  }
}
function debugFail(failure) {
  const message = `INTERNAL ASSERTION FAILED: ` + failure;
  _logError(message);
  throw new Error(message);
}
function debugAssert(assertion, message) {
  if (!assertion) {
    debugFail(message);
  }
}
function _getCurrentUrl() {
  var _a;
  return typeof self !== "undefined" && ((_a = self.location) === null || _a === void 0 ? void 0 : _a.href) || "";
}
function _isHttpOrHttps() {
  return _getCurrentScheme() === "http:" || _getCurrentScheme() === "https:";
}
function _getCurrentScheme() {
  var _a;
  return typeof self !== "undefined" && ((_a = self.location) === null || _a === void 0 ? void 0 : _a.protocol) || null;
}
function _isOnline() {
  if (typeof navigator !== "undefined" && navigator && "onLine" in navigator && typeof navigator.onLine === "boolean" && // Apply only for traditional web apps and Chrome extensions.
  // This is especially true for Cordova apps which have unreliable
  // navigator.onLine behavior unless cordova-plugin-network-information is
  // installed which overwrites the native navigator.onLine value and
  // defines navigator.connection.
  (_isHttpOrHttps() || isBrowserExtension() || "connection" in navigator)) {
    return navigator.onLine;
  }
  return true;
}
function _getUserLanguage() {
  if (typeof navigator === "undefined") {
    return null;
  }
  const navigatorLanguage = navigator;
  return (
    // Most reliable, but only supported in Chrome/Firefox.
    navigatorLanguage.languages && navigatorLanguage.languages[0] || // Supported in most browsers, but returns the language of the browser
    // UI, not the language set in browser settings.
    navigatorLanguage.language || // Couldn't determine language.
    null
  );
}
function _emulatorUrl(config, path) {
  debugAssert(config.emulator, "Emulator should always be set here");
  const { url } = config.emulator;
  if (!path) {
    return url;
  }
  return `${url}${path.startsWith("/") ? path.slice(1) : path}`;
}
function _addTidIfNecessary(auth2, request) {
  if (auth2.tenantId && !request.tenantId) {
    return Object.assign(Object.assign({}, request), { tenantId: auth2.tenantId });
  }
  return request;
}
async function _performApiRequest(auth2, method, path, request, customErrorMap = {}) {
  return _performFetchWithErrorHandling(auth2, customErrorMap, async () => {
    let body = {};
    let params = {};
    if (request) {
      if (method === "GET") {
        params = request;
      } else {
        body = {
          body: JSON.stringify(request)
        };
      }
    }
    const query = querystring(Object.assign({ key: auth2.config.apiKey }, params)).slice(1);
    const headers = await auth2._getAdditionalHeaders();
    headers[
      "Content-Type"
      /* HttpHeader.CONTENT_TYPE */
    ] = "application/json";
    if (auth2.languageCode) {
      headers[
        "X-Firebase-Locale"
        /* HttpHeader.X_FIREBASE_LOCALE */
      ] = auth2.languageCode;
    }
    const fetchArgs = Object.assign({
      method,
      headers
    }, body);
    if (!isCloudflareWorker()) {
      fetchArgs.referrerPolicy = "no-referrer";
    }
    return FetchProvider.fetch()(_getFinalTarget(auth2, auth2.config.apiHost, path, query), fetchArgs);
  });
}
async function _performFetchWithErrorHandling(auth2, customErrorMap, fetchFn) {
  auth2._canInitEmulator = false;
  const errorMap = Object.assign(Object.assign({}, SERVER_ERROR_MAP), customErrorMap);
  try {
    const networkTimeout = new NetworkTimeout(auth2);
    const response = await Promise.race([
      fetchFn(),
      networkTimeout.promise
    ]);
    networkTimeout.clearNetworkTimeout();
    const json2 = await response.json();
    if ("needConfirmation" in json2) {
      throw _makeTaggedError(auth2, "account-exists-with-different-credential", json2);
    }
    if (response.ok && !("errorMessage" in json2)) {
      return json2;
    } else {
      const errorMessage = response.ok ? json2.errorMessage : json2.error.message;
      const [serverErrorCode, serverErrorMessage] = errorMessage.split(" : ");
      if (serverErrorCode === "FEDERATED_USER_ID_ALREADY_LINKED") {
        throw _makeTaggedError(auth2, "credential-already-in-use", json2);
      } else if (serverErrorCode === "EMAIL_EXISTS") {
        throw _makeTaggedError(auth2, "email-already-in-use", json2);
      } else if (serverErrorCode === "USER_DISABLED") {
        throw _makeTaggedError(auth2, "user-disabled", json2);
      }
      const authError = errorMap[serverErrorCode] || serverErrorCode.toLowerCase().replace(/[_\s]+/g, "-");
      if (serverErrorMessage) {
        throw _errorWithCustomMessage(auth2, authError, serverErrorMessage);
      } else {
        _fail(auth2, authError);
      }
    }
  } catch (e3) {
    if (e3 instanceof FirebaseError) {
      throw e3;
    }
    _fail(auth2, "network-request-failed", { "message": String(e3) });
  }
}
async function _performSignInRequest(auth2, method, path, request, customErrorMap = {}) {
  const serverResponse = await _performApiRequest(auth2, method, path, request, customErrorMap);
  if ("mfaPendingCredential" in serverResponse) {
    _fail(auth2, "multi-factor-auth-required", {
      _serverResponse: serverResponse
    });
  }
  return serverResponse;
}
function _getFinalTarget(auth2, host, path, query) {
  const base = `${host}${path}?${query}`;
  if (!auth2.config.emulator) {
    return `${auth2.config.apiScheme}://${base}`;
  }
  return _emulatorUrl(auth2.config, base);
}
function _parseEnforcementState(enforcementStateStr) {
  switch (enforcementStateStr) {
    case "ENFORCE":
      return "ENFORCE";
    case "AUDIT":
      return "AUDIT";
    case "OFF":
      return "OFF";
    default:
      return "ENFORCEMENT_STATE_UNSPECIFIED";
  }
}
function _makeTaggedError(auth2, code, response) {
  const errorParams = {
    appName: auth2.name
  };
  if (response.email) {
    errorParams.email = response.email;
  }
  if (response.phoneNumber) {
    errorParams.phoneNumber = response.phoneNumber;
  }
  const error2 = _createError(auth2, code, errorParams);
  error2.customData._tokenResponse = response;
  return error2;
}
function isV2(grecaptcha) {
  return grecaptcha !== void 0 && grecaptcha.getResponse !== void 0;
}
function isEnterprise(grecaptcha) {
  return grecaptcha !== void 0 && grecaptcha.enterprise !== void 0;
}
async function getRecaptchaParams(auth2) {
  return (await _performApiRequest(
    auth2,
    "GET",
    "/v1/recaptchaParams"
    /* Endpoint.GET_RECAPTCHA_PARAM */
  )).recaptchaSiteKey || "";
}
async function getRecaptchaConfig(auth2, request) {
  return _performApiRequest(auth2, "GET", "/v2/recaptchaConfig", _addTidIfNecessary(auth2, request));
}
async function deleteAccount(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:delete", request);
}
async function deleteLinkedAccounts(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", request);
}
async function getAccountInfo(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:lookup", request);
}
function utcTimestampToDateString(utcTimestamp) {
  if (!utcTimestamp) {
    return void 0;
  }
  try {
    const date = new Date(Number(utcTimestamp));
    if (!isNaN(date.getTime())) {
      return date.toUTCString();
    }
  } catch (e3) {
  }
  return void 0;
}
function getIdToken(user, forceRefresh = false) {
  return getModularInstance(user).getIdToken(forceRefresh);
}
async function getIdTokenResult(user, forceRefresh = false) {
  const userInternal = getModularInstance(user);
  const token = await userInternal.getIdToken(forceRefresh);
  const claims = _parseToken(token);
  _assert(
    claims && claims.exp && claims.auth_time && claims.iat,
    userInternal.auth,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  const firebase = typeof claims.firebase === "object" ? claims.firebase : void 0;
  const signInProvider = firebase === null || firebase === void 0 ? void 0 : firebase["sign_in_provider"];
  return {
    claims,
    token,
    authTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.auth_time)),
    issuedAtTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.iat)),
    expirationTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.exp)),
    signInProvider: signInProvider || null,
    signInSecondFactor: (firebase === null || firebase === void 0 ? void 0 : firebase["sign_in_second_factor"]) || null
  };
}
function secondsStringToMilliseconds(seconds) {
  return Number(seconds) * 1e3;
}
function _parseToken(token) {
  const [algorithm, payload, signature] = token.split(".");
  if (algorithm === void 0 || payload === void 0 || signature === void 0) {
    _logError("JWT malformed, contained fewer than 3 sections");
    return null;
  }
  try {
    const decoded = base64Decode(payload);
    if (!decoded) {
      _logError("Failed to decode base64 JWT payload");
      return null;
    }
    return JSON.parse(decoded);
  } catch (e3) {
    _logError("Caught error parsing JWT payload as JSON", e3 === null || e3 === void 0 ? void 0 : e3.toString());
    return null;
  }
}
function _tokenExpiresIn(token) {
  const parsedToken = _parseToken(token);
  _assert(
    parsedToken,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  _assert(
    typeof parsedToken.exp !== "undefined",
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  _assert(
    typeof parsedToken.iat !== "undefined",
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return Number(parsedToken.exp) - Number(parsedToken.iat);
}
async function _logoutIfInvalidated(user, promise, bypassAuthState = false) {
  if (bypassAuthState) {
    return promise;
  }
  try {
    return await promise;
  } catch (e3) {
    if (e3 instanceof FirebaseError && isUserInvalidated(e3)) {
      if (user.auth.currentUser === user) {
        await user.auth.signOut();
      }
    }
    throw e3;
  }
}
function isUserInvalidated({ code }) {
  return code === `auth/${"user-disabled"}` || code === `auth/${"user-token-expired"}`;
}
async function _reloadWithoutSaving(user) {
  var _a;
  const auth2 = user.auth;
  const idToken = await user.getIdToken();
  const response = await _logoutIfInvalidated(user, getAccountInfo(auth2, { idToken }));
  _assert(
    response === null || response === void 0 ? void 0 : response.users.length,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  const coreAccount = response.users[0];
  user._notifyReloadListener(coreAccount);
  const newProviderData = ((_a = coreAccount.providerUserInfo) === null || _a === void 0 ? void 0 : _a.length) ? extractProviderData(coreAccount.providerUserInfo) : [];
  const providerData = mergeProviderData(user.providerData, newProviderData);
  const oldIsAnonymous = user.isAnonymous;
  const newIsAnonymous = !(user.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length);
  const isAnonymous = !oldIsAnonymous ? false : newIsAnonymous;
  const updates = {
    uid: coreAccount.localId,
    displayName: coreAccount.displayName || null,
    photoURL: coreAccount.photoUrl || null,
    email: coreAccount.email || null,
    emailVerified: coreAccount.emailVerified || false,
    phoneNumber: coreAccount.phoneNumber || null,
    tenantId: coreAccount.tenantId || null,
    providerData,
    metadata: new UserMetadata(coreAccount.createdAt, coreAccount.lastLoginAt),
    isAnonymous
  };
  Object.assign(user, updates);
}
async function reload(user) {
  const userInternal = getModularInstance(user);
  await _reloadWithoutSaving(userInternal);
  await userInternal.auth._persistUserIfCurrent(userInternal);
  userInternal.auth._notifyListenersIfCurrent(userInternal);
}
function mergeProviderData(original, newData) {
  const deduped = original.filter((o2) => !newData.some((n2) => n2.providerId === o2.providerId));
  return [...deduped, ...newData];
}
function extractProviderData(providers) {
  return providers.map((_a) => {
    var { providerId } = _a, provider = __rest(_a, ["providerId"]);
    return {
      providerId,
      uid: provider.rawId || "",
      displayName: provider.displayName || null,
      email: provider.email || null,
      phoneNumber: provider.phoneNumber || null,
      photoURL: provider.photoUrl || null
    };
  });
}
async function requestStsToken(auth2, refreshToken) {
  const response = await _performFetchWithErrorHandling(auth2, {}, async () => {
    const body = querystring({
      "grant_type": "refresh_token",
      "refresh_token": refreshToken
    }).slice(1);
    const { tokenApiHost, apiKey } = auth2.config;
    const url = _getFinalTarget(auth2, tokenApiHost, "/v1/token", `key=${apiKey}`);
    const headers = await auth2._getAdditionalHeaders();
    headers[
      "Content-Type"
      /* HttpHeader.CONTENT_TYPE */
    ] = "application/x-www-form-urlencoded";
    return FetchProvider.fetch()(url, {
      method: "POST",
      headers,
      body
    });
  });
  return {
    accessToken: response.access_token,
    expiresIn: response.expires_in,
    refreshToken: response.refresh_token
  };
}
async function revokeToken(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts:revokeToken", _addTidIfNecessary(auth2, request));
}
function assertStringOrUndefined(assertion, appName) {
  _assert(typeof assertion === "string" || typeof assertion === "undefined", "internal-error", { appName });
}
function _getInstance(cls) {
  debugAssert(cls instanceof Function, "Expected a class definition");
  let instance = instanceCache.get(cls);
  if (instance) {
    debugAssert(instance instanceof cls, "Instance stored in cache mismatched with class");
    return instance;
  }
  instance = new cls();
  instanceCache.set(cls, instance);
  return instance;
}
function _persistenceKeyName(key, apiKey, appName) {
  return `${"firebase"}:${key}:${apiKey}:${appName}`;
}
function _getBrowserName(userAgent) {
  const ua = userAgent.toLowerCase();
  if (ua.includes("opera/") || ua.includes("opr/") || ua.includes("opios/")) {
    return "Opera";
  } else if (_isIEMobile(ua)) {
    return "IEMobile";
  } else if (ua.includes("msie") || ua.includes("trident/")) {
    return "IE";
  } else if (ua.includes("edge/")) {
    return "Edge";
  } else if (_isFirefox(ua)) {
    return "Firefox";
  } else if (ua.includes("silk/")) {
    return "Silk";
  } else if (_isBlackBerry(ua)) {
    return "Blackberry";
  } else if (_isWebOS(ua)) {
    return "Webos";
  } else if (_isSafari(ua)) {
    return "Safari";
  } else if ((ua.includes("chrome/") || _isChromeIOS(ua)) && !ua.includes("edge/")) {
    return "Chrome";
  } else if (_isAndroid(ua)) {
    return "Android";
  } else {
    const re = /([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/;
    const matches = userAgent.match(re);
    if ((matches === null || matches === void 0 ? void 0 : matches.length) === 2) {
      return matches[1];
    }
  }
  return "Other";
}
function _isFirefox(ua = getUA()) {
  return /firefox\//i.test(ua);
}
function _isSafari(userAgent = getUA()) {
  const ua = userAgent.toLowerCase();
  return ua.includes("safari/") && !ua.includes("chrome/") && !ua.includes("crios/") && !ua.includes("android");
}
function _isChromeIOS(ua = getUA()) {
  return /crios\//i.test(ua);
}
function _isIEMobile(ua = getUA()) {
  return /iemobile/i.test(ua);
}
function _isAndroid(ua = getUA()) {
  return /android/i.test(ua);
}
function _isBlackBerry(ua = getUA()) {
  return /blackberry/i.test(ua);
}
function _isWebOS(ua = getUA()) {
  return /webos/i.test(ua);
}
function _isIOS(ua = getUA()) {
  return /iphone|ipad|ipod/i.test(ua) || /macintosh/i.test(ua) && /mobile/i.test(ua);
}
function _isIOSStandalone(ua = getUA()) {
  var _a;
  return _isIOS(ua) && !!((_a = window.navigator) === null || _a === void 0 ? void 0 : _a.standalone);
}
function _isIE10() {
  return isIE() && document.documentMode === 10;
}
function _isMobileBrowser(ua = getUA()) {
  return _isIOS(ua) || _isAndroid(ua) || _isWebOS(ua) || _isBlackBerry(ua) || /windows phone/i.test(ua) || _isIEMobile(ua);
}
function _getClientVersion(clientPlatform, frameworks = []) {
  let reportedPlatform;
  switch (clientPlatform) {
    case "Browser":
      reportedPlatform = _getBrowserName(getUA());
      break;
    case "Worker":
      reportedPlatform = `${_getBrowserName(getUA())}-${clientPlatform}`;
      break;
    default:
      reportedPlatform = clientPlatform;
  }
  const reportedFrameworks = frameworks.length ? frameworks.join(",") : "FirebaseCore-web";
  return `${reportedPlatform}/${"JsCore"}/${SDK_VERSION}/${reportedFrameworks}`;
}
async function _getPasswordPolicy(auth2, request = {}) {
  return _performApiRequest(auth2, "GET", "/v2/passwordPolicy", _addTidIfNecessary(auth2, request));
}
function _castAuth(auth2) {
  return getModularInstance(auth2);
}
function _setExternalJSProvider(p3) {
  externalJSProvider = p3;
}
function _loadJS(url) {
  return externalJSProvider.loadJS(url);
}
function _recaptchaV2ScriptUrl() {
  return externalJSProvider.recaptchaV2Script;
}
function _recaptchaEnterpriseScriptUrl() {
  return externalJSProvider.recaptchaEnterpriseScript;
}
function _gapiScriptUrl() {
  return externalJSProvider.gapiScript;
}
function _generateCallbackName(prefix) {
  return `__${prefix}${Math.floor(Math.random() * 1e6)}`;
}
async function injectRecaptchaFields(auth2, request, action, captchaResp = false) {
  const verifier = new RecaptchaEnterpriseVerifier(auth2);
  let captchaResponse;
  try {
    captchaResponse = await verifier.verify(action);
  } catch (error2) {
    captchaResponse = await verifier.verify(action, true);
  }
  const newRequest = Object.assign({}, request);
  if (!captchaResp) {
    Object.assign(newRequest, { captchaResponse });
  } else {
    Object.assign(newRequest, { "captchaResp": captchaResponse });
  }
  Object.assign(newRequest, {
    "clientType": "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  });
  Object.assign(newRequest, {
    "recaptchaVersion": "RECAPTCHA_ENTERPRISE"
    /* RecaptchaVersion.ENTERPRISE */
  });
  return newRequest;
}
async function handleRecaptchaFlow(authInstance, request, actionName, actionMethod) {
  var _a;
  if ((_a = authInstance._getRecaptchaConfig()) === null || _a === void 0 ? void 0 : _a.isProviderEnabled(
    "EMAIL_PASSWORD_PROVIDER"
    /* RecaptchaProvider.EMAIL_PASSWORD_PROVIDER */
  )) {
    const requestWithRecaptcha = await injectRecaptchaFields(
      authInstance,
      request,
      actionName,
      actionName === "getOobCode"
      /* RecaptchaActionName.GET_OOB_CODE */
    );
    return actionMethod(authInstance, requestWithRecaptcha);
  } else {
    return actionMethod(authInstance, request).catch(async (error2) => {
      if (error2.code === `auth/${"missing-recaptcha-token"}`) {
        console.log(`${actionName} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);
        const requestWithRecaptcha = await injectRecaptchaFields(
          authInstance,
          request,
          actionName,
          actionName === "getOobCode"
          /* RecaptchaActionName.GET_OOB_CODE */
        );
        return actionMethod(authInstance, requestWithRecaptcha);
      } else {
        return Promise.reject(error2);
      }
    });
  }
}
async function _initializeRecaptchaConfig(auth2) {
  const authInternal = _castAuth(auth2);
  const response = await getRecaptchaConfig(authInternal, {
    clientType: "CLIENT_TYPE_WEB",
    version: "RECAPTCHA_ENTERPRISE"
    /* RecaptchaVersion.ENTERPRISE */
  });
  const config = new RecaptchaConfig(response);
  if (authInternal.tenantId == null) {
    authInternal._agentRecaptchaConfig = config;
  } else {
    authInternal._tenantRecaptchaConfigs[authInternal.tenantId] = config;
  }
  if (config.isProviderEnabled(
    "EMAIL_PASSWORD_PROVIDER"
    /* RecaptchaProvider.EMAIL_PASSWORD_PROVIDER */
  )) {
    const verifier = new RecaptchaEnterpriseVerifier(authInternal);
    void verifier.verify();
  }
}
function initializeAuth(app2, deps) {
  const provider = _getProvider(app2, "auth");
  if (provider.isInitialized()) {
    const auth3 = provider.getImmediate();
    const initialOptions = provider.getOptions();
    if (deepEqual(initialOptions, deps !== null && deps !== void 0 ? deps : {})) {
      return auth3;
    } else {
      _fail(
        auth3,
        "already-initialized"
        /* AuthErrorCode.ALREADY_INITIALIZED */
      );
    }
  }
  const auth2 = provider.initialize({ options: deps });
  return auth2;
}
function _initializeAuthInstance(auth2, deps) {
  const persistence = (deps === null || deps === void 0 ? void 0 : deps.persistence) || [];
  const hierarchy = (Array.isArray(persistence) ? persistence : [persistence]).map(_getInstance);
  if (deps === null || deps === void 0 ? void 0 : deps.errorMap) {
    auth2._updateErrorMap(deps.errorMap);
  }
  auth2._initializeWithPersistence(hierarchy, deps === null || deps === void 0 ? void 0 : deps.popupRedirectResolver);
}
function connectAuthEmulator(auth2, url, options) {
  const authInternal = _castAuth(auth2);
  _assert(
    authInternal._canInitEmulator,
    authInternal,
    "emulator-config-failed"
    /* AuthErrorCode.EMULATOR_CONFIG_FAILED */
  );
  _assert(
    /^https?:\/\//.test(url),
    authInternal,
    "invalid-emulator-scheme"
    /* AuthErrorCode.INVALID_EMULATOR_SCHEME */
  );
  const disableWarnings = !!(options === null || options === void 0 ? void 0 : options.disableWarnings);
  const protocol = extractProtocol(url);
  const { host, port } = extractHostAndPort(url);
  const portStr = port === null ? "" : `:${port}`;
  authInternal.config.emulator = { url: `${protocol}//${host}${portStr}/` };
  authInternal.settings.appVerificationDisabledForTesting = true;
  authInternal.emulatorConfig = Object.freeze({
    host,
    port,
    protocol: protocol.replace(":", ""),
    options: Object.freeze({ disableWarnings })
  });
  if (!disableWarnings) {
    emitEmulatorWarning();
  }
}
function extractProtocol(url) {
  const protocolEnd = url.indexOf(":");
  return protocolEnd < 0 ? "" : url.substr(0, protocolEnd + 1);
}
function extractHostAndPort(url) {
  const protocol = extractProtocol(url);
  const authority = /(\/\/)?([^?#/]+)/.exec(url.substr(protocol.length));
  if (!authority) {
    return { host: "", port: null };
  }
  const hostAndPort = authority[2].split("@").pop() || "";
  const bracketedIPv6 = /^(\[[^\]]+\])(:|$)/.exec(hostAndPort);
  if (bracketedIPv6) {
    const host = bracketedIPv6[1];
    return { host, port: parsePort(hostAndPort.substr(host.length + 1)) };
  } else {
    const [host, port] = hostAndPort.split(":");
    return { host, port: parsePort(port) };
  }
}
function parsePort(portStr) {
  if (!portStr) {
    return null;
  }
  const port = Number(portStr);
  if (isNaN(port)) {
    return null;
  }
  return port;
}
function emitEmulatorWarning() {
  function attachBanner() {
    const el = document.createElement("p");
    const sty = el.style;
    el.innerText = "Running in emulator mode. Do not use with production credentials.";
    sty.position = "fixed";
    sty.width = "100%";
    sty.backgroundColor = "#ffffff";
    sty.border = ".1em solid #000000";
    sty.color = "#b50000";
    sty.bottom = "0px";
    sty.left = "0px";
    sty.margin = "0px";
    sty.zIndex = "10000";
    sty.textAlign = "center";
    el.classList.add("firebase-emulator-warning");
    document.body.appendChild(el);
  }
  if (typeof console !== "undefined" && typeof console.info === "function") {
    console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");
  }
  if (typeof window !== "undefined" && typeof document !== "undefined") {
    if (document.readyState === "loading") {
      window.addEventListener("DOMContentLoaded", attachBanner);
    } else {
      attachBanner();
    }
  }
}
async function resetPassword(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:resetPassword", _addTidIfNecessary(auth2, request));
}
async function updateEmailPassword(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", request);
}
async function linkEmailPassword(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:signUp", request);
}
async function applyActionCode$1(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", _addTidIfNecessary(auth2, request));
}
async function signInWithPassword(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPassword", _addTidIfNecessary(auth2, request));
}
async function sendOobCode(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:sendOobCode", _addTidIfNecessary(auth2, request));
}
async function sendEmailVerification$1(auth2, request) {
  return sendOobCode(auth2, request);
}
async function sendPasswordResetEmail$1(auth2, request) {
  return sendOobCode(auth2, request);
}
async function sendSignInLinkToEmail$1(auth2, request) {
  return sendOobCode(auth2, request);
}
async function verifyAndChangeEmail(auth2, request) {
  return sendOobCode(auth2, request);
}
async function signInWithEmailLink$1(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithEmailLink", _addTidIfNecessary(auth2, request));
}
async function signInWithEmailLinkForLinking(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithEmailLink", _addTidIfNecessary(auth2, request));
}
async function signInWithIdp(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithIdp", _addTidIfNecessary(auth2, request));
}
async function sendPhoneVerificationCode(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:sendVerificationCode", _addTidIfNecessary(auth2, request));
}
async function signInWithPhoneNumber$1(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPhoneNumber", _addTidIfNecessary(auth2, request));
}
async function linkWithPhoneNumber$1(auth2, request) {
  const response = await _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPhoneNumber", _addTidIfNecessary(auth2, request));
  if (response.temporaryProof) {
    throw _makeTaggedError(auth2, "account-exists-with-different-credential", response);
  }
  return response;
}
async function verifyPhoneNumberForExisting(auth2, request) {
  const apiRequest = Object.assign(Object.assign({}, request), { operation: "REAUTH" });
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithPhoneNumber", _addTidIfNecessary(auth2, apiRequest), VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_);
}
function parseMode(mode) {
  switch (mode) {
    case "recoverEmail":
      return "RECOVER_EMAIL";
    case "resetPassword":
      return "PASSWORD_RESET";
    case "signIn":
      return "EMAIL_SIGNIN";
    case "verifyEmail":
      return "VERIFY_EMAIL";
    case "verifyAndChangeEmail":
      return "VERIFY_AND_CHANGE_EMAIL";
    case "revertSecondFactorAddition":
      return "REVERT_SECOND_FACTOR_ADDITION";
    default:
      return null;
  }
}
function parseDeepLink(url) {
  const link = querystringDecode(extractQuerystring(url))["link"];
  const doubleDeepLink = link ? querystringDecode(extractQuerystring(link))["deep_link_id"] : null;
  const iOSDeepLink = querystringDecode(extractQuerystring(url))["deep_link_id"];
  const iOSDoubleDeepLink = iOSDeepLink ? querystringDecode(extractQuerystring(iOSDeepLink))["link"] : null;
  return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;
}
function parseActionCodeURL(link) {
  return ActionCodeURL.parseLink(link);
}
async function signUp(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signUp", _addTidIfNecessary(auth2, request));
}
function providerIdForResponse(response) {
  if (response.providerId) {
    return response.providerId;
  }
  if ("phoneNumber" in response) {
    return "phone";
  }
  return null;
}
async function signInAnonymously(auth2) {
  var _a;
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  await authInternal._initializationPromise;
  if ((_a = authInternal.currentUser) === null || _a === void 0 ? void 0 : _a.isAnonymous) {
    return new UserCredentialImpl({
      user: authInternal.currentUser,
      providerId: null,
      operationType: "signIn"
      /* OperationType.SIGN_IN */
    });
  }
  const response = await signUp(authInternal, {
    returnSecureToken: true
  });
  const userCredential = await UserCredentialImpl._fromIdTokenResponse(authInternal, "signIn", response, true);
  await authInternal._updateCurrentUser(userCredential.user);
  return userCredential;
}
function _processCredentialSavingMfaContextIfNecessary(auth2, operationType, credential, user) {
  const idTokenProvider = operationType === "reauthenticate" ? credential._getReauthenticationResolver(auth2) : credential._getIdTokenResponse(auth2);
  return idTokenProvider.catch((error2) => {
    if (error2.code === `auth/${"multi-factor-auth-required"}`) {
      throw MultiFactorError._fromErrorAndOperation(auth2, error2, operationType, user);
    }
    throw error2;
  });
}
function providerDataAsNames(providerData) {
  return new Set(providerData.map(({ providerId }) => providerId).filter((pid) => !!pid));
}
async function unlink(user, providerId) {
  const userInternal = getModularInstance(user);
  await _assertLinkedStatus(true, userInternal, providerId);
  const { providerUserInfo } = await deleteLinkedAccounts(userInternal.auth, {
    idToken: await userInternal.getIdToken(),
    deleteProvider: [providerId]
  });
  const providersLeft = providerDataAsNames(providerUserInfo || []);
  userInternal.providerData = userInternal.providerData.filter((pd) => providersLeft.has(pd.providerId));
  if (!providersLeft.has(
    "phone"
    /* ProviderId.PHONE */
  )) {
    userInternal.phoneNumber = null;
  }
  await userInternal.auth._persistUserIfCurrent(userInternal);
  return userInternal;
}
async function _link$1(user, credential, bypassAuthState = false) {
  const response = await _logoutIfInvalidated(user, credential._linkToIdToken(user.auth, await user.getIdToken()), bypassAuthState);
  return UserCredentialImpl._forOperation(user, "link", response);
}
async function _assertLinkedStatus(expected, user, provider) {
  await _reloadWithoutSaving(user);
  const providerIds = providerDataAsNames(user.providerData);
  const code = expected === false ? "provider-already-linked" : "no-such-provider";
  _assert(providerIds.has(provider) === expected, user.auth, code);
}
async function _reauthenticate(user, credential, bypassAuthState = false) {
  const { auth: auth2 } = user;
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const operationType = "reauthenticate";
  try {
    const response = await _logoutIfInvalidated(user, _processCredentialSavingMfaContextIfNecessary(auth2, operationType, credential, user), bypassAuthState);
    _assert(
      response.idToken,
      auth2,
      "internal-error"
      /* AuthErrorCode.INTERNAL_ERROR */
    );
    const parsed = _parseToken(response.idToken);
    _assert(
      parsed,
      auth2,
      "internal-error"
      /* AuthErrorCode.INTERNAL_ERROR */
    );
    const { sub: localId } = parsed;
    _assert(
      user.uid === localId,
      auth2,
      "user-mismatch"
      /* AuthErrorCode.USER_MISMATCH */
    );
    return UserCredentialImpl._forOperation(user, operationType, response);
  } catch (e3) {
    if ((e3 === null || e3 === void 0 ? void 0 : e3.code) === `auth/${"user-not-found"}`) {
      _fail(
        auth2,
        "user-mismatch"
        /* AuthErrorCode.USER_MISMATCH */
      );
    }
    throw e3;
  }
}
async function _signInWithCredential(auth2, credential, bypassAuthState = false) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const operationType = "signIn";
  const response = await _processCredentialSavingMfaContextIfNecessary(auth2, operationType, credential);
  const userCredential = await UserCredentialImpl._fromIdTokenResponse(auth2, operationType, response);
  if (!bypassAuthState) {
    await auth2._updateCurrentUser(userCredential.user);
  }
  return userCredential;
}
async function signInWithCredential(auth2, credential) {
  return _signInWithCredential(_castAuth(auth2), credential);
}
async function linkWithCredential(user, credential) {
  const userInternal = getModularInstance(user);
  await _assertLinkedStatus(false, userInternal, credential.providerId);
  return _link$1(userInternal, credential);
}
async function reauthenticateWithCredential(user, credential) {
  return _reauthenticate(getModularInstance(user), credential);
}
async function signInWithCustomToken$1(auth2, request) {
  return _performSignInRequest(auth2, "POST", "/v1/accounts:signInWithCustomToken", _addTidIfNecessary(auth2, request));
}
async function signInWithCustomToken(auth2, customToken) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const response = await signInWithCustomToken$1(authInternal, {
    token: customToken,
    returnSecureToken: true
  });
  const cred = await UserCredentialImpl._fromIdTokenResponse(authInternal, "signIn", response);
  await authInternal._updateCurrentUser(cred.user);
  return cred;
}
function _setActionCodeSettingsOnRequest(auth2, request, actionCodeSettings) {
  var _a;
  _assert(
    ((_a = actionCodeSettings.url) === null || _a === void 0 ? void 0 : _a.length) > 0,
    auth2,
    "invalid-continue-uri"
    /* AuthErrorCode.INVALID_CONTINUE_URI */
  );
  _assert(
    typeof actionCodeSettings.dynamicLinkDomain === "undefined" || actionCodeSettings.dynamicLinkDomain.length > 0,
    auth2,
    "invalid-dynamic-link-domain"
    /* AuthErrorCode.INVALID_DYNAMIC_LINK_DOMAIN */
  );
  request.continueUrl = actionCodeSettings.url;
  request.dynamicLinkDomain = actionCodeSettings.dynamicLinkDomain;
  request.canHandleCodeInApp = actionCodeSettings.handleCodeInApp;
  if (actionCodeSettings.iOS) {
    _assert(
      actionCodeSettings.iOS.bundleId.length > 0,
      auth2,
      "missing-ios-bundle-id"
      /* AuthErrorCode.MISSING_IOS_BUNDLE_ID */
    );
    request.iOSBundleId = actionCodeSettings.iOS.bundleId;
  }
  if (actionCodeSettings.android) {
    _assert(
      actionCodeSettings.android.packageName.length > 0,
      auth2,
      "missing-android-pkg-name"
      /* AuthErrorCode.MISSING_ANDROID_PACKAGE_NAME */
    );
    request.androidInstallApp = actionCodeSettings.android.installApp;
    request.androidMinimumVersionCode = actionCodeSettings.android.minimumVersion;
    request.androidPackageName = actionCodeSettings.android.packageName;
  }
}
async function recachePasswordPolicy(auth2) {
  const authInternal = _castAuth(auth2);
  if (authInternal._getPasswordPolicyInternal()) {
    await authInternal._updatePasswordPolicy();
  }
}
async function sendPasswordResetEmail(auth2, email, actionCodeSettings) {
  const authInternal = _castAuth(auth2);
  const request = {
    requestType: "PASSWORD_RESET",
    email,
    clientType: "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  };
  if (actionCodeSettings) {
    _setActionCodeSettingsOnRequest(authInternal, request, actionCodeSettings);
  }
  await handleRecaptchaFlow(authInternal, request, "getOobCode", sendPasswordResetEmail$1);
}
async function confirmPasswordReset(auth2, oobCode, newPassword) {
  await resetPassword(getModularInstance(auth2), {
    oobCode,
    newPassword
  }).catch(async (error2) => {
    if (error2.code === `auth/${"password-does-not-meet-requirements"}`) {
      void recachePasswordPolicy(auth2);
    }
    throw error2;
  });
}
async function applyActionCode(auth2, oobCode) {
  await applyActionCode$1(getModularInstance(auth2), { oobCode });
}
async function checkActionCode(auth2, oobCode) {
  const authModular = getModularInstance(auth2);
  const response = await resetPassword(authModular, { oobCode });
  const operation = response.requestType;
  _assert(
    operation,
    authModular,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  switch (operation) {
    case "EMAIL_SIGNIN":
      break;
    case "VERIFY_AND_CHANGE_EMAIL":
      _assert(
        response.newEmail,
        authModular,
        "internal-error"
        /* AuthErrorCode.INTERNAL_ERROR */
      );
      break;
    case "REVERT_SECOND_FACTOR_ADDITION":
      _assert(
        response.mfaInfo,
        authModular,
        "internal-error"
        /* AuthErrorCode.INTERNAL_ERROR */
      );
    // fall through
    default:
      _assert(
        response.email,
        authModular,
        "internal-error"
        /* AuthErrorCode.INTERNAL_ERROR */
      );
  }
  let multiFactorInfo = null;
  if (response.mfaInfo) {
    multiFactorInfo = MultiFactorInfoImpl._fromServerResponse(_castAuth(authModular), response.mfaInfo);
  }
  return {
    data: {
      email: (response.requestType === "VERIFY_AND_CHANGE_EMAIL" ? response.newEmail : response.email) || null,
      previousEmail: (response.requestType === "VERIFY_AND_CHANGE_EMAIL" ? response.email : response.newEmail) || null,
      multiFactorInfo
    },
    operation
  };
}
async function verifyPasswordResetCode(auth2, code) {
  const { data } = await checkActionCode(getModularInstance(auth2), code);
  return data.email;
}
async function createUserWithEmailAndPassword(auth2, email, password) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const request = {
    returnSecureToken: true,
    email,
    password,
    clientType: "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  };
  const signUpResponse = handleRecaptchaFlow(authInternal, request, "signUpPassword", signUp);
  const response = await signUpResponse.catch((error2) => {
    if (error2.code === `auth/${"password-does-not-meet-requirements"}`) {
      void recachePasswordPolicy(auth2);
    }
    throw error2;
  });
  const userCredential = await UserCredentialImpl._fromIdTokenResponse(authInternal, "signIn", response);
  await authInternal._updateCurrentUser(userCredential.user);
  return userCredential;
}
function signInWithEmailAndPassword(auth2, email, password) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  return signInWithCredential(getModularInstance(auth2), EmailAuthProvider.credential(email, password)).catch(async (error2) => {
    if (error2.code === `auth/${"password-does-not-meet-requirements"}`) {
      void recachePasswordPolicy(auth2);
    }
    throw error2;
  });
}
async function sendSignInLinkToEmail(auth2, email, actionCodeSettings) {
  const authInternal = _castAuth(auth2);
  const request = {
    requestType: "EMAIL_SIGNIN",
    email,
    clientType: "CLIENT_TYPE_WEB"
    /* RecaptchaClientType.WEB */
  };
  function setActionCodeSettings(request2, actionCodeSettings2) {
    _assert(
      actionCodeSettings2.handleCodeInApp,
      authInternal,
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    );
    if (actionCodeSettings2) {
      _setActionCodeSettingsOnRequest(authInternal, request2, actionCodeSettings2);
    }
  }
  setActionCodeSettings(request, actionCodeSettings);
  await handleRecaptchaFlow(authInternal, request, "getOobCode", sendSignInLinkToEmail$1);
}
function isSignInWithEmailLink(auth2, emailLink) {
  const actionCodeUrl = ActionCodeURL.parseLink(emailLink);
  return (actionCodeUrl === null || actionCodeUrl === void 0 ? void 0 : actionCodeUrl.operation) === "EMAIL_SIGNIN";
}
async function signInWithEmailLink(auth2, email, emailLink) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authModular = getModularInstance(auth2);
  const credential = EmailAuthProvider.credentialWithLink(email, emailLink || _getCurrentUrl());
  _assert(
    credential._tenantId === (authModular.tenantId || null),
    authModular,
    "tenant-id-mismatch"
    /* AuthErrorCode.TENANT_ID_MISMATCH */
  );
  return signInWithCredential(authModular, credential);
}
async function createAuthUri(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:createAuthUri", _addTidIfNecessary(auth2, request));
}
async function fetchSignInMethodsForEmail(auth2, email) {
  const continueUri = _isHttpOrHttps() ? _getCurrentUrl() : "http://localhost";
  const request = {
    identifier: email,
    continueUri
  };
  const { signinMethods } = await createAuthUri(getModularInstance(auth2), request);
  return signinMethods || [];
}
async function sendEmailVerification(user, actionCodeSettings) {
  const userInternal = getModularInstance(user);
  const idToken = await user.getIdToken();
  const request = {
    requestType: "VERIFY_EMAIL",
    idToken
  };
  if (actionCodeSettings) {
    _setActionCodeSettingsOnRequest(userInternal.auth, request, actionCodeSettings);
  }
  const { email } = await sendEmailVerification$1(userInternal.auth, request);
  if (email !== user.email) {
    await user.reload();
  }
}
async function verifyBeforeUpdateEmail(user, newEmail, actionCodeSettings) {
  const userInternal = getModularInstance(user);
  const idToken = await user.getIdToken();
  const request = {
    requestType: "VERIFY_AND_CHANGE_EMAIL",
    idToken,
    newEmail
  };
  if (actionCodeSettings) {
    _setActionCodeSettingsOnRequest(userInternal.auth, request, actionCodeSettings);
  }
  const { email } = await verifyAndChangeEmail(userInternal.auth, request);
  if (email !== user.email) {
    await user.reload();
  }
}
async function updateProfile$1(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v1/accounts:update", request);
}
async function updateProfile(user, { displayName, photoURL: photoUrl }) {
  if (displayName === void 0 && photoUrl === void 0) {
    return;
  }
  const userInternal = getModularInstance(user);
  const idToken = await userInternal.getIdToken();
  const profileRequest = {
    idToken,
    displayName,
    photoUrl,
    returnSecureToken: true
  };
  const response = await _logoutIfInvalidated(userInternal, updateProfile$1(userInternal.auth, profileRequest));
  userInternal.displayName = response.displayName || null;
  userInternal.photoURL = response.photoUrl || null;
  const passwordProvider = userInternal.providerData.find(
    ({ providerId }) => providerId === "password"
    /* ProviderId.PASSWORD */
  );
  if (passwordProvider) {
    passwordProvider.displayName = userInternal.displayName;
    passwordProvider.photoURL = userInternal.photoURL;
  }
  await userInternal._updateTokensIfNecessary(response);
}
function updateEmail(user, newEmail) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  return updateEmailOrPassword(userInternal, newEmail, null);
}
function updatePassword(user, newPassword) {
  return updateEmailOrPassword(getModularInstance(user), null, newPassword);
}
async function updateEmailOrPassword(user, email, password) {
  const { auth: auth2 } = user;
  const idToken = await user.getIdToken();
  const request = {
    idToken,
    returnSecureToken: true
  };
  if (email) {
    request.email = email;
  }
  if (password) {
    request.password = password;
  }
  const response = await _logoutIfInvalidated(user, updateEmailPassword(auth2, request));
  await user._updateTokensIfNecessary(
    response,
    /* reload */
    true
  );
}
function _fromIdTokenResponse(idTokenResponse) {
  var _a, _b;
  if (!idTokenResponse) {
    return null;
  }
  const { providerId } = idTokenResponse;
  const profile = idTokenResponse.rawUserInfo ? JSON.parse(idTokenResponse.rawUserInfo) : {};
  const isNewUser = idTokenResponse.isNewUser || idTokenResponse.kind === "identitytoolkit#SignupNewUserResponse";
  if (!providerId && (idTokenResponse === null || idTokenResponse === void 0 ? void 0 : idTokenResponse.idToken)) {
    const signInProvider = (_b = (_a = _parseToken(idTokenResponse.idToken)) === null || _a === void 0 ? void 0 : _a.firebase) === null || _b === void 0 ? void 0 : _b["sign_in_provider"];
    if (signInProvider) {
      const filteredProviderId = signInProvider !== "anonymous" && signInProvider !== "custom" ? signInProvider : null;
      return new GenericAdditionalUserInfo(isNewUser, filteredProviderId);
    }
  }
  if (!providerId) {
    return null;
  }
  switch (providerId) {
    case "facebook.com":
      return new FacebookAdditionalUserInfo(isNewUser, profile);
    case "github.com":
      return new GithubAdditionalUserInfo(isNewUser, profile);
    case "google.com":
      return new GoogleAdditionalUserInfo(isNewUser, profile);
    case "twitter.com":
      return new TwitterAdditionalUserInfo(isNewUser, profile, idTokenResponse.screenName || null);
    case "custom":
    case "anonymous":
      return new GenericAdditionalUserInfo(isNewUser, null);
    default:
      return new GenericAdditionalUserInfo(isNewUser, providerId, profile);
  }
}
function getAdditionalUserInfo(userCredential) {
  const { user, _tokenResponse } = userCredential;
  if (user.isAnonymous && !_tokenResponse) {
    return {
      providerId: null,
      isNewUser: false,
      profile: null
    };
  }
  return _fromIdTokenResponse(_tokenResponse);
}
function setPersistence(auth2, persistence) {
  return getModularInstance(auth2).setPersistence(persistence);
}
function initializeRecaptchaConfig(auth2) {
  return _initializeRecaptchaConfig(auth2);
}
async function validatePassword(auth2, password) {
  const authInternal = _castAuth(auth2);
  return authInternal.validatePassword(password);
}
function onIdTokenChanged(auth2, nextOrObserver, error2, completed) {
  return getModularInstance(auth2).onIdTokenChanged(nextOrObserver, error2, completed);
}
function beforeAuthStateChanged(auth2, callback, onAbort) {
  return getModularInstance(auth2).beforeAuthStateChanged(callback, onAbort);
}
function onAuthStateChanged(auth2, nextOrObserver, error2, completed) {
  return getModularInstance(auth2).onAuthStateChanged(nextOrObserver, error2, completed);
}
function useDeviceLanguage(auth2) {
  getModularInstance(auth2).useDeviceLanguage();
}
function updateCurrentUser(auth2, user) {
  return getModularInstance(auth2).updateCurrentUser(user);
}
function signOut(auth2) {
  return getModularInstance(auth2).signOut();
}
function revokeAccessToken(auth2, token) {
  const authInternal = _castAuth(auth2);
  return authInternal.revokeAccessToken(token);
}
async function deleteUser(user) {
  return getModularInstance(user).delete();
}
function getMultiFactorResolver(auth2, error2) {
  var _a;
  const authModular = getModularInstance(auth2);
  const errorInternal = error2;
  _assert(
    error2.customData.operationType,
    authModular,
    "argument-error"
    /* AuthErrorCode.ARGUMENT_ERROR */
  );
  _assert(
    (_a = errorInternal.customData._serverResponse) === null || _a === void 0 ? void 0 : _a.mfaPendingCredential,
    authModular,
    "argument-error"
    /* AuthErrorCode.ARGUMENT_ERROR */
  );
  return MultiFactorResolverImpl._fromError(authModular, errorInternal);
}
function startEnrollPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:start", _addTidIfNecessary(auth2, request));
}
function finalizeEnrollPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:finalize", _addTidIfNecessary(auth2, request));
}
function startEnrollTotpMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:start", _addTidIfNecessary(auth2, request));
}
function finalizeEnrollTotpMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:finalize", _addTidIfNecessary(auth2, request));
}
function withdrawMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaEnrollment:withdraw", _addTidIfNecessary(auth2, request));
}
function multiFactor(user) {
  const userModular = getModularInstance(user);
  if (!multiFactorUserCache.has(userModular)) {
    multiFactorUserCache.set(userModular, MultiFactorUserImpl._fromUser(userModular));
  }
  return multiFactorUserCache.get(userModular);
}
function _allSettled(promises) {
  return Promise.all(promises.map(async (promise) => {
    try {
      const value2 = await promise;
      return {
        fulfilled: true,
        value: value2
      };
    } catch (reason) {
      return {
        fulfilled: false,
        reason
      };
    }
  }));
}
function _generateEventId(prefix = "", digits = 10) {
  let random = "";
  for (let i3 = 0; i3 < digits; i3++) {
    random += Math.floor(Math.random() * 10);
  }
  return prefix + random;
}
function _window() {
  return window;
}
function _setWindowLocation(url) {
  _window().location.href = url;
}
function _isWorker() {
  return typeof _window()["WorkerGlobalScope"] !== "undefined" && typeof _window()["importScripts"] === "function";
}
async function _getActiveServiceWorker() {
  if (!(navigator === null || navigator === void 0 ? void 0 : navigator.serviceWorker)) {
    return null;
  }
  try {
    const registration = await navigator.serviceWorker.ready;
    return registration.active;
  } catch (_a) {
    return null;
  }
}
function _getServiceWorkerController() {
  var _a;
  return ((_a = navigator === null || navigator === void 0 ? void 0 : navigator.serviceWorker) === null || _a === void 0 ? void 0 : _a.controller) || null;
}
function _getWorkerGlobalScope() {
  return _isWorker() ? self : null;
}
function getObjectStore(db, isReadWrite) {
  return db.transaction([DB_OBJECTSTORE_NAME], isReadWrite ? "readwrite" : "readonly").objectStore(DB_OBJECTSTORE_NAME);
}
function _deleteDatabase() {
  const request = indexedDB.deleteDatabase(DB_NAME2);
  return new DBPromise(request).toPromise();
}
function _openDatabase() {
  const request = indexedDB.open(DB_NAME2, DB_VERSION2);
  return new Promise((resolve, reject) => {
    request.addEventListener("error", () => {
      reject(request.error);
    });
    request.addEventListener("upgradeneeded", () => {
      const db = request.result;
      try {
        db.createObjectStore(DB_OBJECTSTORE_NAME, { keyPath: DB_DATA_KEYPATH });
      } catch (e3) {
        reject(e3);
      }
    });
    request.addEventListener("success", async () => {
      const db = request.result;
      if (!db.objectStoreNames.contains(DB_OBJECTSTORE_NAME)) {
        db.close();
        await _deleteDatabase();
        resolve(await _openDatabase());
      } else {
        resolve(db);
      }
    });
  });
}
async function _putObject(db, key, value2) {
  const request = getObjectStore(db, true).put({
    [DB_DATA_KEYPATH]: key,
    value: value2
  });
  return new DBPromise(request).toPromise();
}
async function getObject(db, key) {
  const request = getObjectStore(db, false).get(key);
  const data = await new DBPromise(request).toPromise();
  return data === void 0 ? null : data.value;
}
function _deleteObject(db, key) {
  const request = getObjectStore(db, true).delete(key);
  return new DBPromise(request).toPromise();
}
function startSignInPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaSignIn:start", _addTidIfNecessary(auth2, request));
}
function finalizeSignInPhoneMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaSignIn:finalize", _addTidIfNecessary(auth2, request));
}
function finalizeSignInTotpMfa(auth2, request) {
  return _performApiRequest(auth2, "POST", "/v2/accounts/mfaSignIn:finalize", _addTidIfNecessary(auth2, request));
}
function generateRandomAlphaNumericString(len) {
  const chars = [];
  const allowedChars = "1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
  for (let i3 = 0; i3 < len; i3++) {
    chars.push(allowedChars.charAt(Math.floor(Math.random() * allowedChars.length)));
  }
  return chars.join("");
}
function isHostLanguageValid(hl) {
  return hl.length <= 6 && /^\s*[a-zA-Z0-9\-]*\s*$/.test(hl);
}
function domReady() {
  let resolver = null;
  return new Promise((resolve) => {
    if (document.readyState === "complete") {
      resolve();
      return;
    }
    resolver = () => resolve();
    window.addEventListener("load", resolver);
  }).catch((e3) => {
    if (resolver) {
      window.removeEventListener("load", resolver);
    }
    throw e3;
  });
}
async function signInWithPhoneNumber(auth2, phoneNumber, appVerifier) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const verificationId = await _verifyPhoneNumber(authInternal, phoneNumber, getModularInstance(appVerifier));
  return new ConfirmationResultImpl(verificationId, (cred) => signInWithCredential(authInternal, cred));
}
async function linkWithPhoneNumber(user, phoneNumber, appVerifier) {
  const userInternal = getModularInstance(user);
  await _assertLinkedStatus(
    false,
    userInternal,
    "phone"
    /* ProviderId.PHONE */
  );
  const verificationId = await _verifyPhoneNumber(userInternal.auth, phoneNumber, getModularInstance(appVerifier));
  return new ConfirmationResultImpl(verificationId, (cred) => linkWithCredential(userInternal, cred));
}
async function reauthenticateWithPhoneNumber(user, phoneNumber, appVerifier) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  const verificationId = await _verifyPhoneNumber(userInternal.auth, phoneNumber, getModularInstance(appVerifier));
  return new ConfirmationResultImpl(verificationId, (cred) => reauthenticateWithCredential(userInternal, cred));
}
async function _verifyPhoneNumber(auth2, options, verifier) {
  var _a;
  const recaptchaToken = await verifier.verify();
  try {
    _assert(
      typeof recaptchaToken === "string",
      auth2,
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    );
    _assert(
      verifier.type === RECAPTCHA_VERIFIER_TYPE,
      auth2,
      "argument-error"
      /* AuthErrorCode.ARGUMENT_ERROR */
    );
    let phoneInfoOptions;
    if (typeof options === "string") {
      phoneInfoOptions = {
        phoneNumber: options
      };
    } else {
      phoneInfoOptions = options;
    }
    if ("session" in phoneInfoOptions) {
      const session = phoneInfoOptions.session;
      if ("phoneNumber" in phoneInfoOptions) {
        _assert(
          session.type === "enroll",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const response = await startEnrollPhoneMfa(auth2, {
          idToken: session.credential,
          phoneEnrollmentInfo: {
            phoneNumber: phoneInfoOptions.phoneNumber,
            recaptchaToken
          }
        });
        return response.phoneSessionInfo.sessionInfo;
      } else {
        _assert(
          session.type === "signin",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const mfaEnrollmentId = ((_a = phoneInfoOptions.multiFactorHint) === null || _a === void 0 ? void 0 : _a.uid) || phoneInfoOptions.multiFactorUid;
        _assert(
          mfaEnrollmentId,
          auth2,
          "missing-multi-factor-info"
          /* AuthErrorCode.MISSING_MFA_INFO */
        );
        const response = await startSignInPhoneMfa(auth2, {
          mfaPendingCredential: session.credential,
          mfaEnrollmentId,
          phoneSignInInfo: {
            recaptchaToken
          }
        });
        return response.phoneResponseInfo.sessionInfo;
      }
    } else {
      const { sessionInfo } = await sendPhoneVerificationCode(auth2, {
        phoneNumber: phoneInfoOptions.phoneNumber,
        recaptchaToken
      });
      return sessionInfo;
    }
  } finally {
    verifier._reset();
  }
}
async function updatePhoneNumber(user, credential) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  await _link$1(userInternal, credential);
}
function _withDefaultResolver(auth2, resolverOverride) {
  if (resolverOverride) {
    return _getInstance(resolverOverride);
  }
  _assert(
    auth2._popupRedirectResolver,
    auth2,
    "argument-error"
    /* AuthErrorCode.ARGUMENT_ERROR */
  );
  return auth2._popupRedirectResolver;
}
function _signIn(params) {
  return _signInWithCredential(params.auth, new IdpCredential(params), params.bypassAuthState);
}
function _reauth(params) {
  const { auth: auth2, user } = params;
  _assert(
    user,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return _reauthenticate(user, new IdpCredential(params), params.bypassAuthState);
}
async function _link(params) {
  const { auth: auth2, user } = params;
  _assert(
    user,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return _link$1(user, new IdpCredential(params), params.bypassAuthState);
}
async function signInWithPopup(auth2, provider, resolver) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_createError(
      auth2,
      "operation-not-supported-in-this-environment"
      /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
    ));
  }
  const authInternal = _castAuth(auth2);
  _assertInstanceOf(auth2, provider, FederatedAuthProvider);
  const resolverInternal = _withDefaultResolver(authInternal, resolver);
  const action = new PopupOperation(authInternal, "signInViaPopup", provider, resolverInternal);
  return action.executeNotNull();
}
async function reauthenticateWithPopup(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_createError(
      userInternal.auth,
      "operation-not-supported-in-this-environment"
      /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
    ));
  }
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  const action = new PopupOperation(userInternal.auth, "reauthViaPopup", provider, resolverInternal, userInternal);
  return action.executeNotNull();
}
async function linkWithPopup(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  const action = new PopupOperation(userInternal.auth, "linkViaPopup", provider, resolverInternal, userInternal);
  return action.executeNotNull();
}
async function _getAndClearPendingRedirectStatus(resolver, auth2) {
  const key = pendingRedirectKey(auth2);
  const persistence = resolverPersistence(resolver);
  if (!await persistence._isAvailable()) {
    return false;
  }
  const hasPendingRedirect = await persistence._get(key) === "true";
  await persistence._remove(key);
  return hasPendingRedirect;
}
async function _setPendingRedirectStatus(resolver, auth2) {
  return resolverPersistence(resolver)._set(pendingRedirectKey(auth2), "true");
}
function _overrideRedirectResult(auth2, result) {
  redirectOutcomeMap.set(auth2._key(), result);
}
function resolverPersistence(resolver) {
  return _getInstance(resolver._redirectPersistence);
}
function pendingRedirectKey(auth2) {
  return _persistenceKeyName(PENDING_REDIRECT_KEY, auth2.config.apiKey, auth2.name);
}
function signInWithRedirect(auth2, provider, resolver) {
  return _signInWithRedirect(auth2, provider, resolver);
}
async function _signInWithRedirect(auth2, provider, resolver) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  _assertInstanceOf(auth2, provider, FederatedAuthProvider);
  await authInternal._initializationPromise;
  const resolverInternal = _withDefaultResolver(authInternal, resolver);
  await _setPendingRedirectStatus(resolverInternal, authInternal);
  return resolverInternal._openRedirect(
    authInternal,
    provider,
    "signInViaRedirect"
    /* AuthEventType.SIGN_IN_VIA_REDIRECT */
  );
}
function reauthenticateWithRedirect(user, provider, resolver) {
  return _reauthenticateWithRedirect(user, provider, resolver);
}
async function _reauthenticateWithRedirect(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  if (_isFirebaseServerApp(userInternal.auth.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(userInternal.auth));
  }
  await userInternal.auth._initializationPromise;
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  await _setPendingRedirectStatus(resolverInternal, userInternal.auth);
  const eventId = await prepareUserForRedirect(userInternal);
  return resolverInternal._openRedirect(userInternal.auth, provider, "reauthViaRedirect", eventId);
}
function linkWithRedirect(user, provider, resolver) {
  return _linkWithRedirect(user, provider, resolver);
}
async function _linkWithRedirect(user, provider, resolver) {
  const userInternal = getModularInstance(user);
  _assertInstanceOf(userInternal.auth, provider, FederatedAuthProvider);
  await userInternal.auth._initializationPromise;
  const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);
  await _assertLinkedStatus(false, userInternal, provider.providerId);
  await _setPendingRedirectStatus(resolverInternal, userInternal.auth);
  const eventId = await prepareUserForRedirect(userInternal);
  return resolverInternal._openRedirect(userInternal.auth, provider, "linkViaRedirect", eventId);
}
async function getRedirectResult(auth2, resolver) {
  await _castAuth(auth2)._initializationPromise;
  return _getRedirectResult(auth2, resolver, false);
}
async function _getRedirectResult(auth2, resolverExtern, bypassAuthState = false) {
  if (_isFirebaseServerApp(auth2.app)) {
    return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(auth2));
  }
  const authInternal = _castAuth(auth2);
  const resolver = _withDefaultResolver(authInternal, resolverExtern);
  const action = new RedirectAction(authInternal, resolver, bypassAuthState);
  const result = await action.execute();
  if (result && !bypassAuthState) {
    delete result.user._redirectEventId;
    await authInternal._persistUserIfCurrent(result.user);
    await authInternal._setRedirectUser(null, resolverExtern);
  }
  return result;
}
async function prepareUserForRedirect(user) {
  const eventId = _generateEventId(`${user.uid}:::`);
  user._redirectEventId = eventId;
  await user.auth._setRedirectUser(user);
  await user.auth._persistUserIfCurrent(user);
  return eventId;
}
function eventUid(e3) {
  return [e3.type, e3.eventId, e3.sessionId, e3.tenantId].filter((v3) => v3).join("-");
}
function isNullRedirectEvent({ type: type2, error: error2 }) {
  return type2 === "unknown" && (error2 === null || error2 === void 0 ? void 0 : error2.code) === `auth/${"no-auth-event"}`;
}
function isRedirectEvent(event) {
  switch (event.type) {
    case "signInViaRedirect":
    case "linkViaRedirect":
    case "reauthViaRedirect":
      return true;
    case "unknown":
      return isNullRedirectEvent(event);
    default:
      return false;
  }
}
async function _getProjectConfig(auth2, request = {}) {
  return _performApiRequest(auth2, "GET", "/v1/projects", request);
}
async function _validateOrigin(auth2) {
  if (auth2.config.emulator) {
    return;
  }
  const { authorizedDomains } = await _getProjectConfig(auth2);
  for (const domain of authorizedDomains) {
    try {
      if (matchDomain(domain)) {
        return;
      }
    } catch (_a) {
    }
  }
  _fail(
    auth2,
    "unauthorized-domain"
    /* AuthErrorCode.INVALID_ORIGIN */
  );
}
function matchDomain(expected) {
  const currentUrl = _getCurrentUrl();
  const { protocol, hostname } = new URL(currentUrl);
  if (expected.startsWith("chrome-extension://")) {
    const ceUrl = new URL(expected);
    if (ceUrl.hostname === "" && hostname === "") {
      return protocol === "chrome-extension:" && expected.replace("chrome-extension://", "") === currentUrl.replace("chrome-extension://", "");
    }
    return protocol === "chrome-extension:" && ceUrl.hostname === hostname;
  }
  if (!HTTP_REGEX.test(protocol)) {
    return false;
  }
  if (IP_ADDRESS_REGEX.test(expected)) {
    return hostname === expected;
  }
  const escapedDomainPattern = expected.replace(/\./g, "\\.");
  const re = new RegExp("^(.+\\." + escapedDomainPattern + "|" + escapedDomainPattern + ")$", "i");
  return re.test(hostname);
}
function resetUnloadedGapiModules() {
  const beacon = _window().___jsl;
  if (beacon === null || beacon === void 0 ? void 0 : beacon.H) {
    for (const hint of Object.keys(beacon.H)) {
      beacon.H[hint].r = beacon.H[hint].r || [];
      beacon.H[hint].L = beacon.H[hint].L || [];
      beacon.H[hint].r = [...beacon.H[hint].L];
      if (beacon.CP) {
        for (let i3 = 0; i3 < beacon.CP.length; i3++) {
          beacon.CP[i3] = null;
        }
      }
    }
  }
}
function loadGapi(auth2) {
  return new Promise((resolve, reject) => {
    var _a, _b, _c;
    function loadGapiIframe() {
      resetUnloadedGapiModules();
      gapi.load("gapi.iframes", {
        callback: () => {
          resolve(gapi.iframes.getContext());
        },
        ontimeout: () => {
          resetUnloadedGapiModules();
          reject(_createError(
            auth2,
            "network-request-failed"
            /* AuthErrorCode.NETWORK_REQUEST_FAILED */
          ));
        },
        timeout: NETWORK_TIMEOUT.get()
      });
    }
    if ((_b = (_a = _window().gapi) === null || _a === void 0 ? void 0 : _a.iframes) === null || _b === void 0 ? void 0 : _b.Iframe) {
      resolve(gapi.iframes.getContext());
    } else if (!!((_c = _window().gapi) === null || _c === void 0 ? void 0 : _c.load)) {
      loadGapiIframe();
    } else {
      const cbName = _generateCallbackName("iframefcb");
      _window()[cbName] = () => {
        if (!!gapi.load) {
          loadGapiIframe();
        } else {
          reject(_createError(
            auth2,
            "network-request-failed"
            /* AuthErrorCode.NETWORK_REQUEST_FAILED */
          ));
        }
      };
      return _loadJS(`${_gapiScriptUrl()}?onload=${cbName}`).catch((e3) => reject(e3));
    }
  }).catch((error2) => {
    cachedGApiLoader = null;
    throw error2;
  });
}
function _loadGapi(auth2) {
  cachedGApiLoader = cachedGApiLoader || loadGapi(auth2);
  return cachedGApiLoader;
}
function getIframeUrl(auth2) {
  const config = auth2.config;
  _assert(
    config.authDomain,
    auth2,
    "auth-domain-config-required"
    /* AuthErrorCode.MISSING_AUTH_DOMAIN */
  );
  const url = config.emulator ? _emulatorUrl(config, EMULATED_IFRAME_PATH) : `https://${auth2.config.authDomain}/${IFRAME_PATH}`;
  const params = {
    apiKey: config.apiKey,
    appName: auth2.name,
    v: SDK_VERSION
  };
  const eid = EID_FROM_APIHOST.get(auth2.config.apiHost);
  if (eid) {
    params.eid = eid;
  }
  const frameworks = auth2._getFrameworks();
  if (frameworks.length) {
    params.fw = frameworks.join(",");
  }
  return `${url}?${querystring(params).slice(1)}`;
}
async function _openIframe(auth2) {
  const context = await _loadGapi(auth2);
  const gapi2 = _window().gapi;
  _assert(
    gapi2,
    auth2,
    "internal-error"
    /* AuthErrorCode.INTERNAL_ERROR */
  );
  return context.open({
    where: document.body,
    url: getIframeUrl(auth2),
    messageHandlersFilter: gapi2.iframes.CROSS_ORIGIN_IFRAMES_FILTER,
    attributes: IFRAME_ATTRIBUTES,
    dontclear: true
  }, (iframe) => new Promise(async (resolve, reject) => {
    await iframe.restyle({
      // Prevent iframe from closing on mouse out.
      setHideOnLeave: false
    });
    const networkError = _createError(
      auth2,
      "network-request-failed"
      /* AuthErrorCode.NETWORK_REQUEST_FAILED */
    );
    const networkErrorTimer = _window().setTimeout(() => {
      reject(networkError);
    }, PING_TIMEOUT.get());
    function clearTimerAndResolve() {
      _window().clearTimeout(networkErrorTimer);
      resolve(iframe);
    }
    iframe.ping(clearTimerAndResolve).then(clearTimerAndResolve, () => {
      reject(networkError);
    });
  }));
}
function _open(auth2, url, name5, width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT) {
  const top = Math.max((window.screen.availHeight - height) / 2, 0).toString();
  const left = Math.max((window.screen.availWidth - width) / 2, 0).toString();
  let target = "";
  const options = Object.assign(Object.assign({}, BASE_POPUP_OPTIONS), {
    width: width.toString(),
    height: height.toString(),
    top,
    left
  });
  const ua = getUA().toLowerCase();
  if (name5) {
    target = _isChromeIOS(ua) ? TARGET_BLANK : name5;
  }
  if (_isFirefox(ua)) {
    url = url || FIREFOX_EMPTY_URL;
    options.scrollbars = "yes";
  }
  const optionsString = Object.entries(options).reduce((accum, [key, value2]) => `${accum}${key}=${value2},`, "");
  if (_isIOSStandalone(ua) && target !== "_self") {
    openAsNewWindowIOS(url || "", target);
    return new AuthPopup(null);
  }
  const newWin = window.open(url || "", target, optionsString);
  _assert(
    newWin,
    auth2,
    "popup-blocked"
    /* AuthErrorCode.POPUP_BLOCKED */
  );
  try {
    newWin.focus();
  } catch (e3) {
  }
  return new AuthPopup(newWin);
}
function openAsNewWindowIOS(url, target) {
  const el = document.createElement("a");
  el.href = url;
  el.target = target;
  const click = document.createEvent("MouseEvent");
  click.initMouseEvent("click", true, true, window, 1, 0, 0, 0, 0, false, false, false, false, 1, null);
  el.dispatchEvent(click);
}
async function _getRedirectUrl(auth2, provider, authType, redirectUrl, eventId, additionalParams) {
  _assert(
    auth2.config.authDomain,
    auth2,
    "auth-domain-config-required"
    /* AuthErrorCode.MISSING_AUTH_DOMAIN */
  );
  _assert(
    auth2.config.apiKey,
    auth2,
    "invalid-api-key"
    /* AuthErrorCode.INVALID_API_KEY */
  );
  const params = {
    apiKey: auth2.config.apiKey,
    appName: auth2.name,
    authType,
    redirectUrl,
    v: SDK_VERSION,
    eventId
  };
  if (provider instanceof FederatedAuthProvider) {
    provider.setDefaultLanguage(auth2.languageCode);
    params.providerId = provider.providerId || "";
    if (!isEmpty(provider.getCustomParameters())) {
      params.customParameters = JSON.stringify(provider.getCustomParameters());
    }
    for (const [key, value2] of Object.entries(additionalParams || {})) {
      params[key] = value2;
    }
  }
  if (provider instanceof BaseOAuthProvider) {
    const scopes = provider.getScopes().filter((scope) => scope !== "");
    if (scopes.length > 0) {
      params.scopes = scopes.join(",");
    }
  }
  if (auth2.tenantId) {
    params.tid = auth2.tenantId;
  }
  const paramsDict = params;
  for (const key of Object.keys(paramsDict)) {
    if (paramsDict[key] === void 0) {
      delete paramsDict[key];
    }
  }
  const appCheckToken = await auth2._getAppCheckToken();
  const appCheckTokenFragment = appCheckToken ? `#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(appCheckToken)}` : "";
  return `${getHandlerBase(auth2)}?${querystring(paramsDict).slice(1)}${appCheckTokenFragment}`;
}
function getHandlerBase({ config }) {
  if (!config.emulator) {
    return `https://${config.authDomain}/${WIDGET_PATH}`;
  }
  return _emulatorUrl(config, EMULATOR_WIDGET_PATH);
}
function _isEmptyString(input) {
  return typeof input === "undefined" || (input === null || input === void 0 ? void 0 : input.length) === 0;
}
function getVersionForPlatform(clientPlatform) {
  switch (clientPlatform) {
    case "Node":
      return "node";
    case "ReactNative":
      return "rn";
    case "Worker":
      return "webworker";
    case "Cordova":
      return "cordova";
    case "WebExtension":
      return "web-extension";
    default:
      return void 0;
  }
}
function registerAuth(clientPlatform) {
  _registerComponent(new Component2(
    "auth",
    (container, { options: deps }) => {
      const app2 = container.getProvider("app").getImmediate();
      const heartbeatServiceProvider = container.getProvider("heartbeat");
      const appCheckServiceProvider = container.getProvider("app-check-internal");
      const { apiKey, authDomain } = app2.options;
      _assert(apiKey && !apiKey.includes(":"), "invalid-api-key", { appName: app2.name });
      const config = {
        apiKey,
        authDomain,
        clientPlatform,
        apiHost: "identitytoolkit.googleapis.com",
        tokenApiHost: "securetoken.googleapis.com",
        apiScheme: "https",
        sdkClientVersion: _getClientVersion(clientPlatform)
      };
      const authInstance = new AuthImpl(app2, heartbeatServiceProvider, appCheckServiceProvider, config);
      _initializeAuthInstance(authInstance, deps);
      return authInstance;
    },
    "PUBLIC"
    /* ComponentType.PUBLIC */
  ).setInstantiationMode(
    "EXPLICIT"
    /* InstantiationMode.EXPLICIT */
  ).setInstanceCreatedCallback((container, _instanceIdentifier, _instance) => {
    const authInternalProvider = container.getProvider(
      "auth-internal"
      /* _ComponentName.AUTH_INTERNAL */
    );
    authInternalProvider.initialize();
  }));
  _registerComponent(new Component2(
    "auth-internal",
    (container) => {
      const auth2 = _castAuth(container.getProvider(
        "auth"
        /* _ComponentName.AUTH */
      ).getImmediate());
      return ((auth3) => new AuthInterop(auth3))(auth2);
    },
    "PRIVATE"
    /* ComponentType.PRIVATE */
  ).setInstantiationMode(
    "EXPLICIT"
    /* InstantiationMode.EXPLICIT */
  ));
  registerVersion(name4, version3, getVersionForPlatform(clientPlatform));
  registerVersion(name4, version3, "esm2017");
}
function getAuth(app2 = getApp()) {
  const provider = _getProvider(app2, "auth");
  if (provider.isInitialized()) {
    return provider.getImmediate();
  }
  const auth2 = initializeAuth(app2, {
    popupRedirectResolver: browserPopupRedirectResolver,
    persistence: [
      indexedDBLocalPersistence,
      browserLocalPersistence,
      browserSessionPersistence
    ]
  });
  const authTokenSyncPath = getExperimentalSetting("authTokenSyncURL");
  if (authTokenSyncPath && typeof isSecureContext === "boolean" && isSecureContext) {
    const authTokenSyncUrl = new URL(authTokenSyncPath, location.origin);
    if (location.origin === authTokenSyncUrl.origin) {
      const mintCookie = mintCookieFactory(authTokenSyncUrl.toString());
      beforeAuthStateChanged(auth2, mintCookie, () => mintCookie(auth2.currentUser));
      onIdTokenChanged(auth2, (user) => mintCookie(user));
    }
  }
  const authEmulatorHost = getDefaultEmulatorHost("auth");
  if (authEmulatorHost) {
    connectAuthEmulator(auth2, `http://${authEmulatorHost}`);
  }
  return auth2;
}
function getScriptParentElement() {
  var _a, _b;
  return (_b = (_a = document.getElementsByTagName("head")) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : document;
}
var FactorId, ProviderId, SignInMethod, OperationType, ActionCodeOperation, debugErrorMap, prodErrorMap, _DEFAULT_AUTH_ERROR_FACTORY, AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY, logClient, Delay, FetchProvider, SERVER_ERROR_MAP, DEFAULT_API_TIMEOUT_MS, NetworkTimeout, RecaptchaConfig, ProactiveRefresh, UserMetadata, StsTokenManager, UserImpl, instanceCache, InMemoryPersistence, inMemoryPersistence, PersistenceUserManager, AuthMiddlewareQueue, MINIMUM_MIN_PASSWORD_LENGTH, PasswordPolicyImpl, AuthImpl, Subscription, externalJSProvider, RECAPTCHA_ENTERPRISE_VERIFIER_TYPE, FAKE_TOKEN, RecaptchaEnterpriseVerifier, AuthCredential, EmailAuthCredential, IDP_REQUEST_URI$1, OAuthCredential, VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_, PhoneAuthCredential, ActionCodeURL, EmailAuthProvider, FederatedAuthProvider, BaseOAuthProvider, OAuthProvider, FacebookAuthProvider, GoogleAuthProvider, GithubAuthProvider, IDP_REQUEST_URI, SAMLAuthCredential, SAML_PROVIDER_PREFIX, SAMLAuthProvider, TwitterAuthProvider, UserCredentialImpl, MultiFactorError, MultiFactorInfoImpl, PhoneMultiFactorInfoImpl, TotpMultiFactorInfoImpl, GenericAdditionalUserInfo, FederatedAdditionalUserInfoWithUsername, FacebookAdditionalUserInfo, GithubAdditionalUserInfo, GoogleAdditionalUserInfo, TwitterAdditionalUserInfo, MultiFactorSessionImpl, MultiFactorResolverImpl, MultiFactorUserImpl, multiFactorUserCache, STORAGE_AVAILABLE_KEY, BrowserPersistenceClass, _POLLING_INTERVAL_MS$1, IE10_LOCAL_STORAGE_SYNC_DELAY, BrowserLocalPersistence, browserLocalPersistence, BrowserSessionPersistence, browserSessionPersistence, Receiver, Sender, DB_NAME2, DB_VERSION2, DB_OBJECTSTORE_NAME, DB_DATA_KEYPATH, DBPromise, _POLLING_INTERVAL_MS, _TRANSACTION_RETRY_COUNT, IndexedDBLocalPersistence, indexedDBLocalPersistence, _SOLVE_TIME_MS, _EXPIRATION_TIME_MS, _WIDGET_ID_START, MockReCaptcha, MockWidget, _JSLOAD_CALLBACK, NETWORK_TIMEOUT_DELAY, ReCaptchaLoaderImpl, MockReCaptchaLoaderImpl, RECAPTCHA_VERIFIER_TYPE, DEFAULT_PARAMS, RecaptchaVerifier, ConfirmationResultImpl, PhoneAuthProvider, IdpCredential, AbstractPopupRedirectOperation, _POLL_WINDOW_CLOSE_TIMEOUT, PopupOperation, PENDING_REDIRECT_KEY, redirectOutcomeMap, RedirectAction, EVENT_DUPLICATION_CACHE_DURATION_MS, AuthEventManager, IP_ADDRESS_REGEX, HTTP_REGEX, NETWORK_TIMEOUT, cachedGApiLoader, PING_TIMEOUT, IFRAME_PATH, EMULATED_IFRAME_PATH, IFRAME_ATTRIBUTES, EID_FROM_APIHOST, BASE_POPUP_OPTIONS, DEFAULT_WIDTH, DEFAULT_HEIGHT, TARGET_BLANK, FIREFOX_EMPTY_URL, AuthPopup, WIDGET_PATH, EMULATOR_WIDGET_PATH, FIREBASE_APP_CHECK_FRAGMENT_ID, WEB_STORAGE_SUPPORT_KEY, BrowserPopupRedirectResolver, browserPopupRedirectResolver, MultiFactorAssertionImpl, PhoneMultiFactorAssertionImpl, PhoneMultiFactorGenerator, TotpMultiFactorGenerator, TotpMultiFactorAssertionImpl, TotpSecret, name4, version3, AuthInterop, DEFAULT_ID_TOKEN_MAX_AGE, authIdTokenMaxAge, lastPostedIdToken, mintCookieFactory;
var init_index_68602d24 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index-68602d24.js"() {
    init_index_esm20174();
    init_index_esm2017();
    init_index_esm20173();
    init_tslib_es6();
    init_index_esm20172();
    FactorId = {
      /** Phone as second factor */
      PHONE: "phone",
      TOTP: "totp"
    };
    ProviderId = {
      /** Facebook provider ID */
      FACEBOOK: "facebook.com",
      /** GitHub provider ID */
      GITHUB: "github.com",
      /** Google provider ID */
      GOOGLE: "google.com",
      /** Password provider */
      PASSWORD: "password",
      /** Phone provider */
      PHONE: "phone",
      /** Twitter provider ID */
      TWITTER: "twitter.com"
    };
    SignInMethod = {
      /** Email link sign in method */
      EMAIL_LINK: "emailLink",
      /** Email/password sign in method */
      EMAIL_PASSWORD: "password",
      /** Facebook sign in method */
      FACEBOOK: "facebook.com",
      /** GitHub sign in method */
      GITHUB: "github.com",
      /** Google sign in method */
      GOOGLE: "google.com",
      /** Phone sign in method */
      PHONE: "phone",
      /** Twitter sign in method */
      TWITTER: "twitter.com"
    };
    OperationType = {
      /** Operation involving linking an additional provider to an already signed-in user. */
      LINK: "link",
      /** Operation involving using a provider to reauthenticate an already signed-in user. */
      REAUTHENTICATE: "reauthenticate",
      /** Operation involving signing in a user. */
      SIGN_IN: "signIn"
    };
    ActionCodeOperation = {
      /** The email link sign-in action. */
      EMAIL_SIGNIN: "EMAIL_SIGNIN",
      /** The password reset action. */
      PASSWORD_RESET: "PASSWORD_RESET",
      /** The email revocation action. */
      RECOVER_EMAIL: "RECOVER_EMAIL",
      /** The revert second factor addition email action. */
      REVERT_SECOND_FACTOR_ADDITION: "REVERT_SECOND_FACTOR_ADDITION",
      /** The revert second factor addition email action. */
      VERIFY_AND_CHANGE_EMAIL: "VERIFY_AND_CHANGE_EMAIL",
      /** The email verification action. */
      VERIFY_EMAIL: "VERIFY_EMAIL"
    };
    debugErrorMap = _debugErrorMap;
    prodErrorMap = _prodErrorMap;
    _DEFAULT_AUTH_ERROR_FACTORY = new ErrorFactory("auth", "Firebase", _prodErrorMap());
    AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY = {
      ADMIN_ONLY_OPERATION: "auth/admin-restricted-operation",
      ARGUMENT_ERROR: "auth/argument-error",
      APP_NOT_AUTHORIZED: "auth/app-not-authorized",
      APP_NOT_INSTALLED: "auth/app-not-installed",
      CAPTCHA_CHECK_FAILED: "auth/captcha-check-failed",
      CODE_EXPIRED: "auth/code-expired",
      CORDOVA_NOT_READY: "auth/cordova-not-ready",
      CORS_UNSUPPORTED: "auth/cors-unsupported",
      CREDENTIAL_ALREADY_IN_USE: "auth/credential-already-in-use",
      CREDENTIAL_MISMATCH: "auth/custom-token-mismatch",
      CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "auth/requires-recent-login",
      DEPENDENT_SDK_INIT_BEFORE_AUTH: "auth/dependent-sdk-initialized-before-auth",
      DYNAMIC_LINK_NOT_ACTIVATED: "auth/dynamic-link-not-activated",
      EMAIL_CHANGE_NEEDS_VERIFICATION: "auth/email-change-needs-verification",
      EMAIL_EXISTS: "auth/email-already-in-use",
      EMULATOR_CONFIG_FAILED: "auth/emulator-config-failed",
      EXPIRED_OOB_CODE: "auth/expired-action-code",
      EXPIRED_POPUP_REQUEST: "auth/cancelled-popup-request",
      INTERNAL_ERROR: "auth/internal-error",
      INVALID_API_KEY: "auth/invalid-api-key",
      INVALID_APP_CREDENTIAL: "auth/invalid-app-credential",
      INVALID_APP_ID: "auth/invalid-app-id",
      INVALID_AUTH: "auth/invalid-user-token",
      INVALID_AUTH_EVENT: "auth/invalid-auth-event",
      INVALID_CERT_HASH: "auth/invalid-cert-hash",
      INVALID_CODE: "auth/invalid-verification-code",
      INVALID_CONTINUE_URI: "auth/invalid-continue-uri",
      INVALID_CORDOVA_CONFIGURATION: "auth/invalid-cordova-configuration",
      INVALID_CUSTOM_TOKEN: "auth/invalid-custom-token",
      INVALID_DYNAMIC_LINK_DOMAIN: "auth/invalid-dynamic-link-domain",
      INVALID_EMAIL: "auth/invalid-email",
      INVALID_EMULATOR_SCHEME: "auth/invalid-emulator-scheme",
      INVALID_IDP_RESPONSE: "auth/invalid-credential",
      INVALID_LOGIN_CREDENTIALS: "auth/invalid-credential",
      INVALID_MESSAGE_PAYLOAD: "auth/invalid-message-payload",
      INVALID_MFA_SESSION: "auth/invalid-multi-factor-session",
      INVALID_OAUTH_CLIENT_ID: "auth/invalid-oauth-client-id",
      INVALID_OAUTH_PROVIDER: "auth/invalid-oauth-provider",
      INVALID_OOB_CODE: "auth/invalid-action-code",
      INVALID_ORIGIN: "auth/unauthorized-domain",
      INVALID_PASSWORD: "auth/wrong-password",
      INVALID_PERSISTENCE: "auth/invalid-persistence-type",
      INVALID_PHONE_NUMBER: "auth/invalid-phone-number",
      INVALID_PROVIDER_ID: "auth/invalid-provider-id",
      INVALID_RECIPIENT_EMAIL: "auth/invalid-recipient-email",
      INVALID_SENDER: "auth/invalid-sender",
      INVALID_SESSION_INFO: "auth/invalid-verification-id",
      INVALID_TENANT_ID: "auth/invalid-tenant-id",
      MFA_INFO_NOT_FOUND: "auth/multi-factor-info-not-found",
      MFA_REQUIRED: "auth/multi-factor-auth-required",
      MISSING_ANDROID_PACKAGE_NAME: "auth/missing-android-pkg-name",
      MISSING_APP_CREDENTIAL: "auth/missing-app-credential",
      MISSING_AUTH_DOMAIN: "auth/auth-domain-config-required",
      MISSING_CODE: "auth/missing-verification-code",
      MISSING_CONTINUE_URI: "auth/missing-continue-uri",
      MISSING_IFRAME_START: "auth/missing-iframe-start",
      MISSING_IOS_BUNDLE_ID: "auth/missing-ios-bundle-id",
      MISSING_OR_INVALID_NONCE: "auth/missing-or-invalid-nonce",
      MISSING_MFA_INFO: "auth/missing-multi-factor-info",
      MISSING_MFA_SESSION: "auth/missing-multi-factor-session",
      MISSING_PHONE_NUMBER: "auth/missing-phone-number",
      MISSING_SESSION_INFO: "auth/missing-verification-id",
      MODULE_DESTROYED: "auth/app-deleted",
      NEED_CONFIRMATION: "auth/account-exists-with-different-credential",
      NETWORK_REQUEST_FAILED: "auth/network-request-failed",
      NULL_USER: "auth/null-user",
      NO_AUTH_EVENT: "auth/no-auth-event",
      NO_SUCH_PROVIDER: "auth/no-such-provider",
      OPERATION_NOT_ALLOWED: "auth/operation-not-allowed",
      OPERATION_NOT_SUPPORTED: "auth/operation-not-supported-in-this-environment",
      POPUP_BLOCKED: "auth/popup-blocked",
      POPUP_CLOSED_BY_USER: "auth/popup-closed-by-user",
      PROVIDER_ALREADY_LINKED: "auth/provider-already-linked",
      QUOTA_EXCEEDED: "auth/quota-exceeded",
      REDIRECT_CANCELLED_BY_USER: "auth/redirect-cancelled-by-user",
      REDIRECT_OPERATION_PENDING: "auth/redirect-operation-pending",
      REJECTED_CREDENTIAL: "auth/rejected-credential",
      SECOND_FACTOR_ALREADY_ENROLLED: "auth/second-factor-already-in-use",
      SECOND_FACTOR_LIMIT_EXCEEDED: "auth/maximum-second-factor-count-exceeded",
      TENANT_ID_MISMATCH: "auth/tenant-id-mismatch",
      TIMEOUT: "auth/timeout",
      TOKEN_EXPIRED: "auth/user-token-expired",
      TOO_MANY_ATTEMPTS_TRY_LATER: "auth/too-many-requests",
      UNAUTHORIZED_DOMAIN: "auth/unauthorized-continue-uri",
      UNSUPPORTED_FIRST_FACTOR: "auth/unsupported-first-factor",
      UNSUPPORTED_PERSISTENCE: "auth/unsupported-persistence-type",
      UNSUPPORTED_TENANT_OPERATION: "auth/unsupported-tenant-operation",
      UNVERIFIED_EMAIL: "auth/unverified-email",
      USER_CANCELLED: "auth/user-cancelled",
      USER_DELETED: "auth/user-not-found",
      USER_DISABLED: "auth/user-disabled",
      USER_MISMATCH: "auth/user-mismatch",
      USER_SIGNED_OUT: "auth/user-signed-out",
      WEAK_PASSWORD: "auth/weak-password",
      WEB_STORAGE_UNSUPPORTED: "auth/web-storage-unsupported",
      ALREADY_INITIALIZED: "auth/already-initialized",
      RECAPTCHA_NOT_ENABLED: "auth/recaptcha-not-enabled",
      MISSING_RECAPTCHA_TOKEN: "auth/missing-recaptcha-token",
      INVALID_RECAPTCHA_TOKEN: "auth/invalid-recaptcha-token",
      INVALID_RECAPTCHA_ACTION: "auth/invalid-recaptcha-action",
      MISSING_CLIENT_TYPE: "auth/missing-client-type",
      MISSING_RECAPTCHA_VERSION: "auth/missing-recaptcha-version",
      INVALID_RECAPTCHA_VERSION: "auth/invalid-recaptcha-version",
      INVALID_REQ_TYPE: "auth/invalid-req-type"
    };
    logClient = new Logger("@firebase/auth");
    Delay = class {
      constructor(shortDelay, longDelay) {
        this.shortDelay = shortDelay;
        this.longDelay = longDelay;
        debugAssert(longDelay > shortDelay, "Short delay should be less than long delay!");
        this.isMobile = isMobileCordova() || isReactNative();
      }
      get() {
        if (!_isOnline()) {
          return Math.min(5e3, this.shortDelay);
        }
        return this.isMobile ? this.longDelay : this.shortDelay;
      }
    };
    FetchProvider = class {
      static initialize(fetchImpl, headersImpl, responseImpl) {
        this.fetchImpl = fetchImpl;
        if (headersImpl) {
          this.headersImpl = headersImpl;
        }
        if (responseImpl) {
          this.responseImpl = responseImpl;
        }
      }
      static fetch() {
        if (this.fetchImpl) {
          return this.fetchImpl;
        }
        if (typeof self !== "undefined" && "fetch" in self) {
          return self.fetch;
        }
        if (typeof globalThis !== "undefined" && globalThis.fetch) {
          return globalThis.fetch;
        }
        if (typeof fetch !== "undefined") {
          return fetch;
        }
        debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
      static headers() {
        if (this.headersImpl) {
          return this.headersImpl;
        }
        if (typeof self !== "undefined" && "Headers" in self) {
          return self.Headers;
        }
        if (typeof globalThis !== "undefined" && globalThis.Headers) {
          return globalThis.Headers;
        }
        if (typeof Headers !== "undefined") {
          return Headers;
        }
        debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
      static response() {
        if (this.responseImpl) {
          return this.responseImpl;
        }
        if (typeof self !== "undefined" && "Response" in self) {
          return self.Response;
        }
        if (typeof globalThis !== "undefined" && globalThis.Response) {
          return globalThis.Response;
        }
        if (typeof Response !== "undefined") {
          return Response;
        }
        debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill");
      }
    };
    SERVER_ERROR_MAP = {
      // Custom token errors.
      [
        "CREDENTIAL_MISMATCH"
        /* ServerError.CREDENTIAL_MISMATCH */
      ]: "custom-token-mismatch",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_CUSTOM_TOKEN"
        /* ServerError.MISSING_CUSTOM_TOKEN */
      ]: "internal-error",
      // Create Auth URI errors.
      [
        "INVALID_IDENTIFIER"
        /* ServerError.INVALID_IDENTIFIER */
      ]: "invalid-email",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_CONTINUE_URI"
        /* ServerError.MISSING_CONTINUE_URI */
      ]: "internal-error",
      // Sign in with email and password errors (some apply to sign up too).
      [
        "INVALID_PASSWORD"
        /* ServerError.INVALID_PASSWORD */
      ]: "wrong-password",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_PASSWORD"
        /* ServerError.MISSING_PASSWORD */
      ]: "missing-password",
      // Thrown if Email Enumeration Protection is enabled in the project and the email or password is
      // invalid.
      [
        "INVALID_LOGIN_CREDENTIALS"
        /* ServerError.INVALID_LOGIN_CREDENTIALS */
      ]: "invalid-credential",
      // Sign up with email and password errors.
      [
        "EMAIL_EXISTS"
        /* ServerError.EMAIL_EXISTS */
      ]: "email-already-in-use",
      [
        "PASSWORD_LOGIN_DISABLED"
        /* ServerError.PASSWORD_LOGIN_DISABLED */
      ]: "operation-not-allowed",
      // Verify assertion for sign in with credential errors:
      [
        "INVALID_IDP_RESPONSE"
        /* ServerError.INVALID_IDP_RESPONSE */
      ]: "invalid-credential",
      [
        "INVALID_PENDING_TOKEN"
        /* ServerError.INVALID_PENDING_TOKEN */
      ]: "invalid-credential",
      [
        "FEDERATED_USER_ID_ALREADY_LINKED"
        /* ServerError.FEDERATED_USER_ID_ALREADY_LINKED */
      ]: "credential-already-in-use",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_REQ_TYPE"
        /* ServerError.MISSING_REQ_TYPE */
      ]: "internal-error",
      // Send Password reset email errors:
      [
        "EMAIL_NOT_FOUND"
        /* ServerError.EMAIL_NOT_FOUND */
      ]: "user-not-found",
      [
        "RESET_PASSWORD_EXCEED_LIMIT"
        /* ServerError.RESET_PASSWORD_EXCEED_LIMIT */
      ]: "too-many-requests",
      [
        "EXPIRED_OOB_CODE"
        /* ServerError.EXPIRED_OOB_CODE */
      ]: "expired-action-code",
      [
        "INVALID_OOB_CODE"
        /* ServerError.INVALID_OOB_CODE */
      ]: "invalid-action-code",
      // This can only happen if the SDK sends a bad request.
      [
        "MISSING_OOB_CODE"
        /* ServerError.MISSING_OOB_CODE */
      ]: "internal-error",
      // Operations that require ID token in request:
      [
        "CREDENTIAL_TOO_OLD_LOGIN_AGAIN"
        /* ServerError.CREDENTIAL_TOO_OLD_LOGIN_AGAIN */
      ]: "requires-recent-login",
      [
        "INVALID_ID_TOKEN"
        /* ServerError.INVALID_ID_TOKEN */
      ]: "invalid-user-token",
      [
        "TOKEN_EXPIRED"
        /* ServerError.TOKEN_EXPIRED */
      ]: "user-token-expired",
      [
        "USER_NOT_FOUND"
        /* ServerError.USER_NOT_FOUND */
      ]: "user-token-expired",
      // Other errors.
      [
        "TOO_MANY_ATTEMPTS_TRY_LATER"
        /* ServerError.TOO_MANY_ATTEMPTS_TRY_LATER */
      ]: "too-many-requests",
      [
        "PASSWORD_DOES_NOT_MEET_REQUIREMENTS"
        /* ServerError.PASSWORD_DOES_NOT_MEET_REQUIREMENTS */
      ]: "password-does-not-meet-requirements",
      // Phone Auth related errors.
      [
        "INVALID_CODE"
        /* ServerError.INVALID_CODE */
      ]: "invalid-verification-code",
      [
        "INVALID_SESSION_INFO"
        /* ServerError.INVALID_SESSION_INFO */
      ]: "invalid-verification-id",
      [
        "INVALID_TEMPORARY_PROOF"
        /* ServerError.INVALID_TEMPORARY_PROOF */
      ]: "invalid-credential",
      [
        "MISSING_SESSION_INFO"
        /* ServerError.MISSING_SESSION_INFO */
      ]: "missing-verification-id",
      [
        "SESSION_EXPIRED"
        /* ServerError.SESSION_EXPIRED */
      ]: "code-expired",
      // Other action code errors when additional settings passed.
      // MISSING_CONTINUE_URI is getting mapped to INTERNAL_ERROR above.
      // This is OK as this error will be caught by client side validation.
      [
        "MISSING_ANDROID_PACKAGE_NAME"
        /* ServerError.MISSING_ANDROID_PACKAGE_NAME */
      ]: "missing-android-pkg-name",
      [
        "UNAUTHORIZED_DOMAIN"
        /* ServerError.UNAUTHORIZED_DOMAIN */
      ]: "unauthorized-continue-uri",
      // getProjectConfig errors when clientId is passed.
      [
        "INVALID_OAUTH_CLIENT_ID"
        /* ServerError.INVALID_OAUTH_CLIENT_ID */
      ]: "invalid-oauth-client-id",
      // User actions (sign-up or deletion) disabled errors.
      [
        "ADMIN_ONLY_OPERATION"
        /* ServerError.ADMIN_ONLY_OPERATION */
      ]: "admin-restricted-operation",
      // Multi factor related errors.
      [
        "INVALID_MFA_PENDING_CREDENTIAL"
        /* ServerError.INVALID_MFA_PENDING_CREDENTIAL */
      ]: "invalid-multi-factor-session",
      [
        "MFA_ENROLLMENT_NOT_FOUND"
        /* ServerError.MFA_ENROLLMENT_NOT_FOUND */
      ]: "multi-factor-info-not-found",
      [
        "MISSING_MFA_ENROLLMENT_ID"
        /* ServerError.MISSING_MFA_ENROLLMENT_ID */
      ]: "missing-multi-factor-info",
      [
        "MISSING_MFA_PENDING_CREDENTIAL"
        /* ServerError.MISSING_MFA_PENDING_CREDENTIAL */
      ]: "missing-multi-factor-session",
      [
        "SECOND_FACTOR_EXISTS"
        /* ServerError.SECOND_FACTOR_EXISTS */
      ]: "second-factor-already-in-use",
      [
        "SECOND_FACTOR_LIMIT_EXCEEDED"
        /* ServerError.SECOND_FACTOR_LIMIT_EXCEEDED */
      ]: "maximum-second-factor-count-exceeded",
      // Blocking functions related errors.
      [
        "BLOCKING_FUNCTION_ERROR_RESPONSE"
        /* ServerError.BLOCKING_FUNCTION_ERROR_RESPONSE */
      ]: "internal-error",
      // Recaptcha related errors.
      [
        "RECAPTCHA_NOT_ENABLED"
        /* ServerError.RECAPTCHA_NOT_ENABLED */
      ]: "recaptcha-not-enabled",
      [
        "MISSING_RECAPTCHA_TOKEN"
        /* ServerError.MISSING_RECAPTCHA_TOKEN */
      ]: "missing-recaptcha-token",
      [
        "INVALID_RECAPTCHA_TOKEN"
        /* ServerError.INVALID_RECAPTCHA_TOKEN */
      ]: "invalid-recaptcha-token",
      [
        "INVALID_RECAPTCHA_ACTION"
        /* ServerError.INVALID_RECAPTCHA_ACTION */
      ]: "invalid-recaptcha-action",
      [
        "MISSING_CLIENT_TYPE"
        /* ServerError.MISSING_CLIENT_TYPE */
      ]: "missing-client-type",
      [
        "MISSING_RECAPTCHA_VERSION"
        /* ServerError.MISSING_RECAPTCHA_VERSION */
      ]: "missing-recaptcha-version",
      [
        "INVALID_RECAPTCHA_VERSION"
        /* ServerError.INVALID_RECAPTCHA_VERSION */
      ]: "invalid-recaptcha-version",
      [
        "INVALID_REQ_TYPE"
        /* ServerError.INVALID_REQ_TYPE */
      ]: "invalid-req-type"
      /* AuthErrorCode.INVALID_REQ_TYPE */
    };
    DEFAULT_API_TIMEOUT_MS = new Delay(3e4, 6e4);
    NetworkTimeout = class {
      constructor(auth2) {
        this.auth = auth2;
        this.timer = null;
        this.promise = new Promise((_, reject) => {
          this.timer = setTimeout(() => {
            return reject(_createError(
              this.auth,
              "network-request-failed"
              /* AuthErrorCode.NETWORK_REQUEST_FAILED */
            ));
          }, DEFAULT_API_TIMEOUT_MS.get());
        });
      }
      clearNetworkTimeout() {
        clearTimeout(this.timer);
      }
    };
    RecaptchaConfig = class {
      constructor(response) {
        this.siteKey = "";
        this.recaptchaEnforcementState = [];
        if (response.recaptchaKey === void 0) {
          throw new Error("recaptchaKey undefined");
        }
        this.siteKey = response.recaptchaKey.split("/")[3];
        this.recaptchaEnforcementState = response.recaptchaEnforcementState;
      }
      /**
       * Returns the reCAPTCHA Enterprise enforcement state for the given provider.
       *
       * @param providerStr - The provider whose enforcement state is to be returned.
       * @returns The reCAPTCHA Enterprise enforcement state for the given provider.
       */
      getProviderEnforcementState(providerStr) {
        if (!this.recaptchaEnforcementState || this.recaptchaEnforcementState.length === 0) {
          return null;
        }
        for (const recaptchaEnforcementState of this.recaptchaEnforcementState) {
          if (recaptchaEnforcementState.provider && recaptchaEnforcementState.provider === providerStr) {
            return _parseEnforcementState(recaptchaEnforcementState.enforcementState);
          }
        }
        return null;
      }
      /**
       * Returns true if the reCAPTCHA Enterprise enforcement state for the provider is set to ENFORCE or AUDIT.
       *
       * @param providerStr - The provider whose enablement state is to be returned.
       * @returns Whether or not reCAPTCHA Enterprise protection is enabled for the given provider.
       */
      isProviderEnabled(providerStr) {
        return this.getProviderEnforcementState(providerStr) === "ENFORCE" || this.getProviderEnforcementState(providerStr) === "AUDIT";
      }
    };
    ProactiveRefresh = class {
      constructor(user) {
        this.user = user;
        this.isRunning = false;
        this.timerId = null;
        this.errorBackoff = 3e4;
      }
      _start() {
        if (this.isRunning) {
          return;
        }
        this.isRunning = true;
        this.schedule();
      }
      _stop() {
        if (!this.isRunning) {
          return;
        }
        this.isRunning = false;
        if (this.timerId !== null) {
          clearTimeout(this.timerId);
        }
      }
      getInterval(wasError) {
        var _a;
        if (wasError) {
          const interval = this.errorBackoff;
          this.errorBackoff = Math.min(
            this.errorBackoff * 2,
            96e4
            /* Duration.RETRY_BACKOFF_MAX */
          );
          return interval;
        } else {
          this.errorBackoff = 3e4;
          const expTime = (_a = this.user.stsTokenManager.expirationTime) !== null && _a !== void 0 ? _a : 0;
          const interval = expTime - Date.now() - 3e5;
          return Math.max(0, interval);
        }
      }
      schedule(wasError = false) {
        if (!this.isRunning) {
          return;
        }
        const interval = this.getInterval(wasError);
        this.timerId = setTimeout(async () => {
          await this.iteration();
        }, interval);
      }
      async iteration() {
        try {
          await this.user.getIdToken(true);
        } catch (e3) {
          if ((e3 === null || e3 === void 0 ? void 0 : e3.code) === `auth/${"network-request-failed"}`) {
            this.schedule(
              /* wasError */
              true
            );
          }
          return;
        }
        this.schedule();
      }
    };
    UserMetadata = class {
      constructor(createdAt, lastLoginAt) {
        this.createdAt = createdAt;
        this.lastLoginAt = lastLoginAt;
        this._initializeTime();
      }
      _initializeTime() {
        this.lastSignInTime = utcTimestampToDateString(this.lastLoginAt);
        this.creationTime = utcTimestampToDateString(this.createdAt);
      }
      _copy(metadata) {
        this.createdAt = metadata.createdAt;
        this.lastLoginAt = metadata.lastLoginAt;
        this._initializeTime();
      }
      toJSON() {
        return {
          createdAt: this.createdAt,
          lastLoginAt: this.lastLoginAt
        };
      }
    };
    StsTokenManager = class _StsTokenManager {
      constructor() {
        this.refreshToken = null;
        this.accessToken = null;
        this.expirationTime = null;
      }
      get isExpired() {
        return !this.expirationTime || Date.now() > this.expirationTime - 3e4;
      }
      updateFromServerResponse(response) {
        _assert(
          response.idToken,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        _assert(
          typeof response.idToken !== "undefined",
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        _assert(
          typeof response.refreshToken !== "undefined",
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const expiresIn = "expiresIn" in response && typeof response.expiresIn !== "undefined" ? Number(response.expiresIn) : _tokenExpiresIn(response.idToken);
        this.updateTokensAndExpiration(response.idToken, response.refreshToken, expiresIn);
      }
      updateFromIdToken(idToken) {
        _assert(
          idToken.length !== 0,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const expiresIn = _tokenExpiresIn(idToken);
        this.updateTokensAndExpiration(idToken, null, expiresIn);
      }
      async getToken(auth2, forceRefresh = false) {
        if (!forceRefresh && this.accessToken && !this.isExpired) {
          return this.accessToken;
        }
        _assert(
          this.refreshToken,
          auth2,
          "user-token-expired"
          /* AuthErrorCode.TOKEN_EXPIRED */
        );
        if (this.refreshToken) {
          await this.refresh(auth2, this.refreshToken);
          return this.accessToken;
        }
        return null;
      }
      clearRefreshToken() {
        this.refreshToken = null;
      }
      async refresh(auth2, oldToken) {
        const { accessToken, refreshToken, expiresIn } = await requestStsToken(auth2, oldToken);
        this.updateTokensAndExpiration(accessToken, refreshToken, Number(expiresIn));
      }
      updateTokensAndExpiration(accessToken, refreshToken, expiresInSec) {
        this.refreshToken = refreshToken || null;
        this.accessToken = accessToken || null;
        this.expirationTime = Date.now() + expiresInSec * 1e3;
      }
      static fromJSON(appName, object) {
        const { refreshToken, accessToken, expirationTime } = object;
        const manager = new _StsTokenManager();
        if (refreshToken) {
          _assert(typeof refreshToken === "string", "internal-error", {
            appName
          });
          manager.refreshToken = refreshToken;
        }
        if (accessToken) {
          _assert(typeof accessToken === "string", "internal-error", {
            appName
          });
          manager.accessToken = accessToken;
        }
        if (expirationTime) {
          _assert(typeof expirationTime === "number", "internal-error", {
            appName
          });
          manager.expirationTime = expirationTime;
        }
        return manager;
      }
      toJSON() {
        return {
          refreshToken: this.refreshToken,
          accessToken: this.accessToken,
          expirationTime: this.expirationTime
        };
      }
      _assign(stsTokenManager) {
        this.accessToken = stsTokenManager.accessToken;
        this.refreshToken = stsTokenManager.refreshToken;
        this.expirationTime = stsTokenManager.expirationTime;
      }
      _clone() {
        return Object.assign(new _StsTokenManager(), this.toJSON());
      }
      _performRefresh() {
        return debugFail("not implemented");
      }
    };
    UserImpl = class _UserImpl {
      constructor(_a) {
        var { uid, auth: auth2, stsTokenManager } = _a, opt = __rest(_a, ["uid", "auth", "stsTokenManager"]);
        this.providerId = "firebase";
        this.proactiveRefresh = new ProactiveRefresh(this);
        this.reloadUserInfo = null;
        this.reloadListener = null;
        this.uid = uid;
        this.auth = auth2;
        this.stsTokenManager = stsTokenManager;
        this.accessToken = stsTokenManager.accessToken;
        this.displayName = opt.displayName || null;
        this.email = opt.email || null;
        this.emailVerified = opt.emailVerified || false;
        this.phoneNumber = opt.phoneNumber || null;
        this.photoURL = opt.photoURL || null;
        this.isAnonymous = opt.isAnonymous || false;
        this.tenantId = opt.tenantId || null;
        this.providerData = opt.providerData ? [...opt.providerData] : [];
        this.metadata = new UserMetadata(opt.createdAt || void 0, opt.lastLoginAt || void 0);
      }
      async getIdToken(forceRefresh) {
        const accessToken = await _logoutIfInvalidated(this, this.stsTokenManager.getToken(this.auth, forceRefresh));
        _assert(
          accessToken,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        if (this.accessToken !== accessToken) {
          this.accessToken = accessToken;
          await this.auth._persistUserIfCurrent(this);
          this.auth._notifyListenersIfCurrent(this);
        }
        return accessToken;
      }
      getIdTokenResult(forceRefresh) {
        return getIdTokenResult(this, forceRefresh);
      }
      reload() {
        return reload(this);
      }
      _assign(user) {
        if (this === user) {
          return;
        }
        _assert(
          this.uid === user.uid,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        this.displayName = user.displayName;
        this.photoURL = user.photoURL;
        this.email = user.email;
        this.emailVerified = user.emailVerified;
        this.phoneNumber = user.phoneNumber;
        this.isAnonymous = user.isAnonymous;
        this.tenantId = user.tenantId;
        this.providerData = user.providerData.map((userInfo) => Object.assign({}, userInfo));
        this.metadata._copy(user.metadata);
        this.stsTokenManager._assign(user.stsTokenManager);
      }
      _clone(auth2) {
        const newUser = new _UserImpl(Object.assign(Object.assign({}, this), { auth: auth2, stsTokenManager: this.stsTokenManager._clone() }));
        newUser.metadata._copy(this.metadata);
        return newUser;
      }
      _onReload(callback) {
        _assert(
          !this.reloadListener,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        this.reloadListener = callback;
        if (this.reloadUserInfo) {
          this._notifyReloadListener(this.reloadUserInfo);
          this.reloadUserInfo = null;
        }
      }
      _notifyReloadListener(userInfo) {
        if (this.reloadListener) {
          this.reloadListener(userInfo);
        } else {
          this.reloadUserInfo = userInfo;
        }
      }
      _startProactiveRefresh() {
        this.proactiveRefresh._start();
      }
      _stopProactiveRefresh() {
        this.proactiveRefresh._stop();
      }
      async _updateTokensIfNecessary(response, reload2 = false) {
        let tokensRefreshed = false;
        if (response.idToken && response.idToken !== this.stsTokenManager.accessToken) {
          this.stsTokenManager.updateFromServerResponse(response);
          tokensRefreshed = true;
        }
        if (reload2) {
          await _reloadWithoutSaving(this);
        }
        await this.auth._persistUserIfCurrent(this);
        if (tokensRefreshed) {
          this.auth._notifyListenersIfCurrent(this);
        }
      }
      async delete() {
        if (_isFirebaseServerApp(this.auth.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));
        }
        const idToken = await this.getIdToken();
        await _logoutIfInvalidated(this, deleteAccount(this.auth, { idToken }));
        this.stsTokenManager.clearRefreshToken();
        return this.auth.signOut();
      }
      toJSON() {
        return Object.assign(Object.assign({
          uid: this.uid,
          email: this.email || void 0,
          emailVerified: this.emailVerified,
          displayName: this.displayName || void 0,
          isAnonymous: this.isAnonymous,
          photoURL: this.photoURL || void 0,
          phoneNumber: this.phoneNumber || void 0,
          tenantId: this.tenantId || void 0,
          providerData: this.providerData.map((userInfo) => Object.assign({}, userInfo)),
          stsTokenManager: this.stsTokenManager.toJSON(),
          // Redirect event ID must be maintained in case there is a pending
          // redirect event.
          _redirectEventId: this._redirectEventId
        }, this.metadata.toJSON()), {
          // Required for compatibility with the legacy SDK (go/firebase-auth-sdk-persistence-parsing):
          apiKey: this.auth.config.apiKey,
          appName: this.auth.name
        });
      }
      get refreshToken() {
        return this.stsTokenManager.refreshToken || "";
      }
      static _fromJSON(auth2, object) {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        const displayName = (_a = object.displayName) !== null && _a !== void 0 ? _a : void 0;
        const email = (_b = object.email) !== null && _b !== void 0 ? _b : void 0;
        const phoneNumber = (_c = object.phoneNumber) !== null && _c !== void 0 ? _c : void 0;
        const photoURL = (_d = object.photoURL) !== null && _d !== void 0 ? _d : void 0;
        const tenantId = (_e = object.tenantId) !== null && _e !== void 0 ? _e : void 0;
        const _redirectEventId = (_f = object._redirectEventId) !== null && _f !== void 0 ? _f : void 0;
        const createdAt = (_g = object.createdAt) !== null && _g !== void 0 ? _g : void 0;
        const lastLoginAt = (_h = object.lastLoginAt) !== null && _h !== void 0 ? _h : void 0;
        const { uid, emailVerified, isAnonymous, providerData, stsTokenManager: plainObjectTokenManager } = object;
        _assert(
          uid && plainObjectTokenManager,
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const stsTokenManager = StsTokenManager.fromJSON(this.name, plainObjectTokenManager);
        _assert(
          typeof uid === "string",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        assertStringOrUndefined(displayName, auth2.name);
        assertStringOrUndefined(email, auth2.name);
        _assert(
          typeof emailVerified === "boolean",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        _assert(
          typeof isAnonymous === "boolean",
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        assertStringOrUndefined(phoneNumber, auth2.name);
        assertStringOrUndefined(photoURL, auth2.name);
        assertStringOrUndefined(tenantId, auth2.name);
        assertStringOrUndefined(_redirectEventId, auth2.name);
        assertStringOrUndefined(createdAt, auth2.name);
        assertStringOrUndefined(lastLoginAt, auth2.name);
        const user = new _UserImpl({
          uid,
          auth: auth2,
          email,
          emailVerified,
          displayName,
          isAnonymous,
          photoURL,
          phoneNumber,
          tenantId,
          stsTokenManager,
          createdAt,
          lastLoginAt
        });
        if (providerData && Array.isArray(providerData)) {
          user.providerData = providerData.map((userInfo) => Object.assign({}, userInfo));
        }
        if (_redirectEventId) {
          user._redirectEventId = _redirectEventId;
        }
        return user;
      }
      /**
       * Initialize a User from an idToken server response
       * @param auth
       * @param idTokenResponse
       */
      static async _fromIdTokenResponse(auth2, idTokenResponse, isAnonymous = false) {
        const stsTokenManager = new StsTokenManager();
        stsTokenManager.updateFromServerResponse(idTokenResponse);
        const user = new _UserImpl({
          uid: idTokenResponse.localId,
          auth: auth2,
          stsTokenManager,
          isAnonymous
        });
        await _reloadWithoutSaving(user);
        return user;
      }
      /**
       * Initialize a User from an idToken server response
       * @param auth
       * @param idTokenResponse
       */
      static async _fromGetAccountInfoResponse(auth2, response, idToken) {
        const coreAccount = response.users[0];
        _assert(
          coreAccount.localId !== void 0,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const providerData = coreAccount.providerUserInfo !== void 0 ? extractProviderData(coreAccount.providerUserInfo) : [];
        const isAnonymous = !(coreAccount.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length);
        const stsTokenManager = new StsTokenManager();
        stsTokenManager.updateFromIdToken(idToken);
        const user = new _UserImpl({
          uid: coreAccount.localId,
          auth: auth2,
          stsTokenManager,
          isAnonymous
        });
        const updates = {
          uid: coreAccount.localId,
          displayName: coreAccount.displayName || null,
          photoURL: coreAccount.photoUrl || null,
          email: coreAccount.email || null,
          emailVerified: coreAccount.emailVerified || false,
          phoneNumber: coreAccount.phoneNumber || null,
          tenantId: coreAccount.tenantId || null,
          providerData,
          metadata: new UserMetadata(coreAccount.createdAt, coreAccount.lastLoginAt),
          isAnonymous: !(coreAccount.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length)
        };
        Object.assign(user, updates);
        return user;
      }
    };
    instanceCache = /* @__PURE__ */ new Map();
    InMemoryPersistence = class {
      constructor() {
        this.type = "NONE";
        this.storage = {};
      }
      async _isAvailable() {
        return true;
      }
      async _set(key, value2) {
        this.storage[key] = value2;
      }
      async _get(key) {
        const value2 = this.storage[key];
        return value2 === void 0 ? null : value2;
      }
      async _remove(key) {
        delete this.storage[key];
      }
      _addListener(_key, _listener) {
        return;
      }
      _removeListener(_key, _listener) {
        return;
      }
    };
    InMemoryPersistence.type = "NONE";
    inMemoryPersistence = InMemoryPersistence;
    PersistenceUserManager = class _PersistenceUserManager {
      constructor(persistence, auth2, userKey) {
        this.persistence = persistence;
        this.auth = auth2;
        this.userKey = userKey;
        const { config, name: name5 } = this.auth;
        this.fullUserKey = _persistenceKeyName(this.userKey, config.apiKey, name5);
        this.fullPersistenceKey = _persistenceKeyName("persistence", config.apiKey, name5);
        this.boundEventHandler = auth2._onStorageEvent.bind(auth2);
        this.persistence._addListener(this.fullUserKey, this.boundEventHandler);
      }
      setCurrentUser(user) {
        return this.persistence._set(this.fullUserKey, user.toJSON());
      }
      async getCurrentUser() {
        const blob = await this.persistence._get(this.fullUserKey);
        return blob ? UserImpl._fromJSON(this.auth, blob) : null;
      }
      removeCurrentUser() {
        return this.persistence._remove(this.fullUserKey);
      }
      savePersistenceForRedirect() {
        return this.persistence._set(this.fullPersistenceKey, this.persistence.type);
      }
      async setPersistence(newPersistence) {
        if (this.persistence === newPersistence) {
          return;
        }
        const currentUser = await this.getCurrentUser();
        await this.removeCurrentUser();
        this.persistence = newPersistence;
        if (currentUser) {
          return this.setCurrentUser(currentUser);
        }
      }
      delete() {
        this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);
      }
      static async create(auth2, persistenceHierarchy, userKey = "authUser") {
        if (!persistenceHierarchy.length) {
          return new _PersistenceUserManager(_getInstance(inMemoryPersistence), auth2, userKey);
        }
        const availablePersistences = (await Promise.all(persistenceHierarchy.map(async (persistence) => {
          if (await persistence._isAvailable()) {
            return persistence;
          }
          return void 0;
        }))).filter((persistence) => persistence);
        let selectedPersistence = availablePersistences[0] || _getInstance(inMemoryPersistence);
        const key = _persistenceKeyName(userKey, auth2.config.apiKey, auth2.name);
        let userToMigrate = null;
        for (const persistence of persistenceHierarchy) {
          try {
            const blob = await persistence._get(key);
            if (blob) {
              const user = UserImpl._fromJSON(auth2, blob);
              if (persistence !== selectedPersistence) {
                userToMigrate = user;
              }
              selectedPersistence = persistence;
              break;
            }
          } catch (_a) {
          }
        }
        const migrationHierarchy = availablePersistences.filter((p3) => p3._shouldAllowMigration);
        if (!selectedPersistence._shouldAllowMigration || !migrationHierarchy.length) {
          return new _PersistenceUserManager(selectedPersistence, auth2, userKey);
        }
        selectedPersistence = migrationHierarchy[0];
        if (userToMigrate) {
          await selectedPersistence._set(key, userToMigrate.toJSON());
        }
        await Promise.all(persistenceHierarchy.map(async (persistence) => {
          if (persistence !== selectedPersistence) {
            try {
              await persistence._remove(key);
            } catch (_a) {
            }
          }
        }));
        return new _PersistenceUserManager(selectedPersistence, auth2, userKey);
      }
    };
    AuthMiddlewareQueue = class {
      constructor(auth2) {
        this.auth = auth2;
        this.queue = [];
      }
      pushCallback(callback, onAbort) {
        const wrappedCallback = (user) => new Promise((resolve, reject) => {
          try {
            const result = callback(user);
            resolve(result);
          } catch (e3) {
            reject(e3);
          }
        });
        wrappedCallback.onAbort = onAbort;
        this.queue.push(wrappedCallback);
        const index = this.queue.length - 1;
        return () => {
          this.queue[index] = () => Promise.resolve();
        };
      }
      async runMiddleware(nextUser) {
        if (this.auth.currentUser === nextUser) {
          return;
        }
        const onAbortStack = [];
        try {
          for (const beforeStateCallback of this.queue) {
            await beforeStateCallback(nextUser);
            if (beforeStateCallback.onAbort) {
              onAbortStack.push(beforeStateCallback.onAbort);
            }
          }
        } catch (e3) {
          onAbortStack.reverse();
          for (const onAbort of onAbortStack) {
            try {
              onAbort();
            } catch (_) {
            }
          }
          throw this.auth._errorFactory.create("login-blocked", {
            originalMessage: e3 === null || e3 === void 0 ? void 0 : e3.message
          });
        }
      }
    };
    MINIMUM_MIN_PASSWORD_LENGTH = 6;
    PasswordPolicyImpl = class {
      constructor(response) {
        var _a, _b, _c, _d;
        const responseOptions = response.customStrengthOptions;
        this.customStrengthOptions = {};
        this.customStrengthOptions.minPasswordLength = (_a = responseOptions.minPasswordLength) !== null && _a !== void 0 ? _a : MINIMUM_MIN_PASSWORD_LENGTH;
        if (responseOptions.maxPasswordLength) {
          this.customStrengthOptions.maxPasswordLength = responseOptions.maxPasswordLength;
        }
        if (responseOptions.containsLowercaseCharacter !== void 0) {
          this.customStrengthOptions.containsLowercaseLetter = responseOptions.containsLowercaseCharacter;
        }
        if (responseOptions.containsUppercaseCharacter !== void 0) {
          this.customStrengthOptions.containsUppercaseLetter = responseOptions.containsUppercaseCharacter;
        }
        if (responseOptions.containsNumericCharacter !== void 0) {
          this.customStrengthOptions.containsNumericCharacter = responseOptions.containsNumericCharacter;
        }
        if (responseOptions.containsNonAlphanumericCharacter !== void 0) {
          this.customStrengthOptions.containsNonAlphanumericCharacter = responseOptions.containsNonAlphanumericCharacter;
        }
        this.enforcementState = response.enforcementState;
        if (this.enforcementState === "ENFORCEMENT_STATE_UNSPECIFIED") {
          this.enforcementState = "OFF";
        }
        this.allowedNonAlphanumericCharacters = (_c = (_b = response.allowedNonAlphanumericCharacters) === null || _b === void 0 ? void 0 : _b.join("")) !== null && _c !== void 0 ? _c : "";
        this.forceUpgradeOnSignin = (_d = response.forceUpgradeOnSignin) !== null && _d !== void 0 ? _d : false;
        this.schemaVersion = response.schemaVersion;
      }
      validatePassword(password) {
        var _a, _b, _c, _d, _e, _f;
        const status = {
          isValid: true,
          passwordPolicy: this
        };
        this.validatePasswordLengthOptions(password, status);
        this.validatePasswordCharacterOptions(password, status);
        status.isValid && (status.isValid = (_a = status.meetsMinPasswordLength) !== null && _a !== void 0 ? _a : true);
        status.isValid && (status.isValid = (_b = status.meetsMaxPasswordLength) !== null && _b !== void 0 ? _b : true);
        status.isValid && (status.isValid = (_c = status.containsLowercaseLetter) !== null && _c !== void 0 ? _c : true);
        status.isValid && (status.isValid = (_d = status.containsUppercaseLetter) !== null && _d !== void 0 ? _d : true);
        status.isValid && (status.isValid = (_e = status.containsNumericCharacter) !== null && _e !== void 0 ? _e : true);
        status.isValid && (status.isValid = (_f = status.containsNonAlphanumericCharacter) !== null && _f !== void 0 ? _f : true);
        return status;
      }
      /**
       * Validates that the password meets the length options for the policy.
       *
       * @param password Password to validate.
       * @param status Validation status.
       */
      validatePasswordLengthOptions(password, status) {
        const minPasswordLength = this.customStrengthOptions.minPasswordLength;
        const maxPasswordLength = this.customStrengthOptions.maxPasswordLength;
        if (minPasswordLength) {
          status.meetsMinPasswordLength = password.length >= minPasswordLength;
        }
        if (maxPasswordLength) {
          status.meetsMaxPasswordLength = password.length <= maxPasswordLength;
        }
      }
      /**
       * Validates that the password meets the character options for the policy.
       *
       * @param password Password to validate.
       * @param status Validation status.
       */
      validatePasswordCharacterOptions(password, status) {
        this.updatePasswordCharacterOptionsStatuses(
          status,
          /* containsLowercaseCharacter= */
          false,
          /* containsUppercaseCharacter= */
          false,
          /* containsNumericCharacter= */
          false,
          /* containsNonAlphanumericCharacter= */
          false
        );
        let passwordChar;
        for (let i3 = 0; i3 < password.length; i3++) {
          passwordChar = password.charAt(i3);
          this.updatePasswordCharacterOptionsStatuses(
            status,
            /* containsLowercaseCharacter= */
            passwordChar >= "a" && passwordChar <= "z",
            /* containsUppercaseCharacter= */
            passwordChar >= "A" && passwordChar <= "Z",
            /* containsNumericCharacter= */
            passwordChar >= "0" && passwordChar <= "9",
            /* containsNonAlphanumericCharacter= */
            this.allowedNonAlphanumericCharacters.includes(passwordChar)
          );
        }
      }
      /**
       * Updates the running validation status with the statuses for the character options.
       * Expected to be called each time a character is processed to update each option status
       * based on the current character.
       *
       * @param status Validation status.
       * @param containsLowercaseCharacter Whether the character is a lowercase letter.
       * @param containsUppercaseCharacter Whether the character is an uppercase letter.
       * @param containsNumericCharacter Whether the character is a numeric character.
       * @param containsNonAlphanumericCharacter Whether the character is a non-alphanumeric character.
       */
      updatePasswordCharacterOptionsStatuses(status, containsLowercaseCharacter, containsUppercaseCharacter, containsNumericCharacter, containsNonAlphanumericCharacter) {
        if (this.customStrengthOptions.containsLowercaseLetter) {
          status.containsLowercaseLetter || (status.containsLowercaseLetter = containsLowercaseCharacter);
        }
        if (this.customStrengthOptions.containsUppercaseLetter) {
          status.containsUppercaseLetter || (status.containsUppercaseLetter = containsUppercaseCharacter);
        }
        if (this.customStrengthOptions.containsNumericCharacter) {
          status.containsNumericCharacter || (status.containsNumericCharacter = containsNumericCharacter);
        }
        if (this.customStrengthOptions.containsNonAlphanumericCharacter) {
          status.containsNonAlphanumericCharacter || (status.containsNonAlphanumericCharacter = containsNonAlphanumericCharacter);
        }
      }
    };
    AuthImpl = class {
      constructor(app2, heartbeatServiceProvider, appCheckServiceProvider, config) {
        this.app = app2;
        this.heartbeatServiceProvider = heartbeatServiceProvider;
        this.appCheckServiceProvider = appCheckServiceProvider;
        this.config = config;
        this.currentUser = null;
        this.emulatorConfig = null;
        this.operations = Promise.resolve();
        this.authStateSubscription = new Subscription(this);
        this.idTokenSubscription = new Subscription(this);
        this.beforeStateQueue = new AuthMiddlewareQueue(this);
        this.redirectUser = null;
        this.isProactiveRefreshEnabled = false;
        this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION = 1;
        this._canInitEmulator = true;
        this._isInitialized = false;
        this._deleted = false;
        this._initializationPromise = null;
        this._popupRedirectResolver = null;
        this._errorFactory = _DEFAULT_AUTH_ERROR_FACTORY;
        this._agentRecaptchaConfig = null;
        this._tenantRecaptchaConfigs = {};
        this._projectPasswordPolicy = null;
        this._tenantPasswordPolicies = {};
        this.lastNotifiedUid = void 0;
        this.languageCode = null;
        this.tenantId = null;
        this.settings = { appVerificationDisabledForTesting: false };
        this.frameworks = [];
        this.name = app2.name;
        this.clientVersion = config.sdkClientVersion;
      }
      _initializeWithPersistence(persistenceHierarchy, popupRedirectResolver) {
        if (popupRedirectResolver) {
          this._popupRedirectResolver = _getInstance(popupRedirectResolver);
        }
        this._initializationPromise = this.queue(async () => {
          var _a, _b;
          if (this._deleted) {
            return;
          }
          this.persistenceManager = await PersistenceUserManager.create(this, persistenceHierarchy);
          if (this._deleted) {
            return;
          }
          if ((_a = this._popupRedirectResolver) === null || _a === void 0 ? void 0 : _a._shouldInitProactively) {
            try {
              await this._popupRedirectResolver._initialize(this);
            } catch (e3) {
            }
          }
          await this.initializeCurrentUser(popupRedirectResolver);
          this.lastNotifiedUid = ((_b = this.currentUser) === null || _b === void 0 ? void 0 : _b.uid) || null;
          if (this._deleted) {
            return;
          }
          this._isInitialized = true;
        });
        return this._initializationPromise;
      }
      /**
       * If the persistence is changed in another window, the user manager will let us know
       */
      async _onStorageEvent() {
        if (this._deleted) {
          return;
        }
        const user = await this.assertedPersistence.getCurrentUser();
        if (!this.currentUser && !user) {
          return;
        }
        if (this.currentUser && user && this.currentUser.uid === user.uid) {
          this._currentUser._assign(user);
          await this.currentUser.getIdToken();
          return;
        }
        await this._updateCurrentUser(
          user,
          /* skipBeforeStateCallbacks */
          true
        );
      }
      async initializeCurrentUserFromIdToken(idToken) {
        try {
          const response = await getAccountInfo(this, { idToken });
          const user = await UserImpl._fromGetAccountInfoResponse(this, response, idToken);
          await this.directlySetCurrentUser(user);
        } catch (err) {
          console.warn("FirebaseServerApp could not login user with provided authIdToken: ", err);
          await this.directlySetCurrentUser(null);
        }
      }
      async initializeCurrentUser(popupRedirectResolver) {
        var _a;
        if (_isFirebaseServerApp(this.app)) {
          const idToken = this.app.settings.authIdToken;
          if (idToken) {
            return new Promise((resolve) => {
              setTimeout(() => this.initializeCurrentUserFromIdToken(idToken).then(resolve, resolve));
            });
          } else {
            return this.directlySetCurrentUser(null);
          }
        }
        const previouslyStoredUser = await this.assertedPersistence.getCurrentUser();
        let futureCurrentUser = previouslyStoredUser;
        let needsTocheckMiddleware = false;
        if (popupRedirectResolver && this.config.authDomain) {
          await this.getOrInitRedirectPersistenceManager();
          const redirectUserEventId = (_a = this.redirectUser) === null || _a === void 0 ? void 0 : _a._redirectEventId;
          const storedUserEventId = futureCurrentUser === null || futureCurrentUser === void 0 ? void 0 : futureCurrentUser._redirectEventId;
          const result = await this.tryRedirectSignIn(popupRedirectResolver);
          if ((!redirectUserEventId || redirectUserEventId === storedUserEventId) && (result === null || result === void 0 ? void 0 : result.user)) {
            futureCurrentUser = result.user;
            needsTocheckMiddleware = true;
          }
        }
        if (!futureCurrentUser) {
          return this.directlySetCurrentUser(null);
        }
        if (!futureCurrentUser._redirectEventId) {
          if (needsTocheckMiddleware) {
            try {
              await this.beforeStateQueue.runMiddleware(futureCurrentUser);
            } catch (e3) {
              futureCurrentUser = previouslyStoredUser;
              this._popupRedirectResolver._overrideRedirectResult(this, () => Promise.reject(e3));
            }
          }
          if (futureCurrentUser) {
            return this.reloadAndSetCurrentUserOrClear(futureCurrentUser);
          } else {
            return this.directlySetCurrentUser(null);
          }
        }
        _assert(
          this._popupRedirectResolver,
          this,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        await this.getOrInitRedirectPersistenceManager();
        if (this.redirectUser && this.redirectUser._redirectEventId === futureCurrentUser._redirectEventId) {
          return this.directlySetCurrentUser(futureCurrentUser);
        }
        return this.reloadAndSetCurrentUserOrClear(futureCurrentUser);
      }
      async tryRedirectSignIn(redirectResolver) {
        let result = null;
        try {
          result = await this._popupRedirectResolver._completeRedirectFn(this, redirectResolver, true);
        } catch (e3) {
          await this._setRedirectUser(null);
        }
        return result;
      }
      async reloadAndSetCurrentUserOrClear(user) {
        try {
          await _reloadWithoutSaving(user);
        } catch (e3) {
          if ((e3 === null || e3 === void 0 ? void 0 : e3.code) !== `auth/${"network-request-failed"}`) {
            return this.directlySetCurrentUser(null);
          }
        }
        return this.directlySetCurrentUser(user);
      }
      useDeviceLanguage() {
        this.languageCode = _getUserLanguage();
      }
      async _delete() {
        this._deleted = true;
      }
      async updateCurrentUser(userExtern) {
        if (_isFirebaseServerApp(this.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
        }
        const user = userExtern ? getModularInstance(userExtern) : null;
        if (user) {
          _assert(
            user.auth.config.apiKey === this.config.apiKey,
            this,
            "invalid-user-token"
            /* AuthErrorCode.INVALID_AUTH */
          );
        }
        return this._updateCurrentUser(user && user._clone(this));
      }
      async _updateCurrentUser(user, skipBeforeStateCallbacks = false) {
        if (this._deleted) {
          return;
        }
        if (user) {
          _assert(
            this.tenantId === user.tenantId,
            this,
            "tenant-id-mismatch"
            /* AuthErrorCode.TENANT_ID_MISMATCH */
          );
        }
        if (!skipBeforeStateCallbacks) {
          await this.beforeStateQueue.runMiddleware(user);
        }
        return this.queue(async () => {
          await this.directlySetCurrentUser(user);
          this.notifyAuthListeners();
        });
      }
      async signOut() {
        if (_isFirebaseServerApp(this.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
        }
        await this.beforeStateQueue.runMiddleware(null);
        if (this.redirectPersistenceManager || this._popupRedirectResolver) {
          await this._setRedirectUser(null);
        }
        return this._updateCurrentUser(
          null,
          /* skipBeforeStateCallbacks */
          true
        );
      }
      setPersistence(persistence) {
        if (_isFirebaseServerApp(this.app)) {
          return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));
        }
        return this.queue(async () => {
          await this.assertedPersistence.setPersistence(_getInstance(persistence));
        });
      }
      _getRecaptchaConfig() {
        if (this.tenantId == null) {
          return this._agentRecaptchaConfig;
        } else {
          return this._tenantRecaptchaConfigs[this.tenantId];
        }
      }
      async validatePassword(password) {
        if (!this._getPasswordPolicyInternal()) {
          await this._updatePasswordPolicy();
        }
        const passwordPolicy = this._getPasswordPolicyInternal();
        if (passwordPolicy.schemaVersion !== this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION) {
          return Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version", {}));
        }
        return passwordPolicy.validatePassword(password);
      }
      _getPasswordPolicyInternal() {
        if (this.tenantId === null) {
          return this._projectPasswordPolicy;
        } else {
          return this._tenantPasswordPolicies[this.tenantId];
        }
      }
      async _updatePasswordPolicy() {
        const response = await _getPasswordPolicy(this);
        const passwordPolicy = new PasswordPolicyImpl(response);
        if (this.tenantId === null) {
          this._projectPasswordPolicy = passwordPolicy;
        } else {
          this._tenantPasswordPolicies[this.tenantId] = passwordPolicy;
        }
      }
      _getPersistence() {
        return this.assertedPersistence.persistence.type;
      }
      _updateErrorMap(errorMap) {
        this._errorFactory = new ErrorFactory("auth", "Firebase", errorMap());
      }
      onAuthStateChanged(nextOrObserver, error2, completed) {
        return this.registerStateListener(this.authStateSubscription, nextOrObserver, error2, completed);
      }
      beforeAuthStateChanged(callback, onAbort) {
        return this.beforeStateQueue.pushCallback(callback, onAbort);
      }
      onIdTokenChanged(nextOrObserver, error2, completed) {
        return this.registerStateListener(this.idTokenSubscription, nextOrObserver, error2, completed);
      }
      authStateReady() {
        return new Promise((resolve, reject) => {
          if (this.currentUser) {
            resolve();
          } else {
            const unsubscribe = this.onAuthStateChanged(() => {
              unsubscribe();
              resolve();
            }, reject);
          }
        });
      }
      /**
       * Revokes the given access token. Currently only supports Apple OAuth access tokens.
       */
      async revokeAccessToken(token) {
        if (this.currentUser) {
          const idToken = await this.currentUser.getIdToken();
          const request = {
            providerId: "apple.com",
            tokenType: "ACCESS_TOKEN",
            token,
            idToken
          };
          if (this.tenantId != null) {
            request.tenantId = this.tenantId;
          }
          await revokeToken(this, request);
        }
      }
      toJSON() {
        var _a;
        return {
          apiKey: this.config.apiKey,
          authDomain: this.config.authDomain,
          appName: this.name,
          currentUser: (_a = this._currentUser) === null || _a === void 0 ? void 0 : _a.toJSON()
        };
      }
      async _setRedirectUser(user, popupRedirectResolver) {
        const redirectManager = await this.getOrInitRedirectPersistenceManager(popupRedirectResolver);
        return user === null ? redirectManager.removeCurrentUser() : redirectManager.setCurrentUser(user);
      }
      async getOrInitRedirectPersistenceManager(popupRedirectResolver) {
        if (!this.redirectPersistenceManager) {
          const resolver = popupRedirectResolver && _getInstance(popupRedirectResolver) || this._popupRedirectResolver;
          _assert(
            resolver,
            this,
            "argument-error"
            /* AuthErrorCode.ARGUMENT_ERROR */
          );
          this.redirectPersistenceManager = await PersistenceUserManager.create(
            this,
            [_getInstance(resolver._redirectPersistence)],
            "redirectUser"
            /* KeyName.REDIRECT_USER */
          );
          this.redirectUser = await this.redirectPersistenceManager.getCurrentUser();
        }
        return this.redirectPersistenceManager;
      }
      async _redirectUserForId(id) {
        var _a, _b;
        if (this._isInitialized) {
          await this.queue(async () => {
          });
        }
        if (((_a = this._currentUser) === null || _a === void 0 ? void 0 : _a._redirectEventId) === id) {
          return this._currentUser;
        }
        if (((_b = this.redirectUser) === null || _b === void 0 ? void 0 : _b._redirectEventId) === id) {
          return this.redirectUser;
        }
        return null;
      }
      async _persistUserIfCurrent(user) {
        if (user === this.currentUser) {
          return this.queue(async () => this.directlySetCurrentUser(user));
        }
      }
      /** Notifies listeners only if the user is current */
      _notifyListenersIfCurrent(user) {
        if (user === this.currentUser) {
          this.notifyAuthListeners();
        }
      }
      _key() {
        return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;
      }
      _startProactiveRefresh() {
        this.isProactiveRefreshEnabled = true;
        if (this.currentUser) {
          this._currentUser._startProactiveRefresh();
        }
      }
      _stopProactiveRefresh() {
        this.isProactiveRefreshEnabled = false;
        if (this.currentUser) {
          this._currentUser._stopProactiveRefresh();
        }
      }
      /** Returns the current user cast as the internal type */
      get _currentUser() {
        return this.currentUser;
      }
      notifyAuthListeners() {
        var _a, _b;
        if (!this._isInitialized) {
          return;
        }
        this.idTokenSubscription.next(this.currentUser);
        const currentUid = (_b = (_a = this.currentUser) === null || _a === void 0 ? void 0 : _a.uid) !== null && _b !== void 0 ? _b : null;
        if (this.lastNotifiedUid !== currentUid) {
          this.lastNotifiedUid = currentUid;
          this.authStateSubscription.next(this.currentUser);
        }
      }
      registerStateListener(subscription, nextOrObserver, error2, completed) {
        if (this._deleted) {
          return () => {
          };
        }
        const cb = typeof nextOrObserver === "function" ? nextOrObserver : nextOrObserver.next.bind(nextOrObserver);
        let isUnsubscribed = false;
        const promise = this._isInitialized ? Promise.resolve() : this._initializationPromise;
        _assert(
          promise,
          this,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        promise.then(() => {
          if (isUnsubscribed) {
            return;
          }
          cb(this.currentUser);
        });
        if (typeof nextOrObserver === "function") {
          const unsubscribe = subscription.addObserver(nextOrObserver, error2, completed);
          return () => {
            isUnsubscribed = true;
            unsubscribe();
          };
        } else {
          const unsubscribe = subscription.addObserver(nextOrObserver);
          return () => {
            isUnsubscribed = true;
            unsubscribe();
          };
        }
      }
      /**
       * Unprotected (from race conditions) method to set the current user. This
       * should only be called from within a queued callback. This is necessary
       * because the queue shouldn't rely on another queued callback.
       */
      async directlySetCurrentUser(user) {
        if (this.currentUser && this.currentUser !== user) {
          this._currentUser._stopProactiveRefresh();
        }
        if (user && this.isProactiveRefreshEnabled) {
          user._startProactiveRefresh();
        }
        this.currentUser = user;
        if (user) {
          await this.assertedPersistence.setCurrentUser(user);
        } else {
          await this.assertedPersistence.removeCurrentUser();
        }
      }
      queue(action) {
        this.operations = this.operations.then(action, action);
        return this.operations;
      }
      get assertedPersistence() {
        _assert(
          this.persistenceManager,
          this,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return this.persistenceManager;
      }
      _logFramework(framework) {
        if (!framework || this.frameworks.includes(framework)) {
          return;
        }
        this.frameworks.push(framework);
        this.frameworks.sort();
        this.clientVersion = _getClientVersion(this.config.clientPlatform, this._getFrameworks());
      }
      _getFrameworks() {
        return this.frameworks;
      }
      async _getAdditionalHeaders() {
        var _a;
        const headers = {
          [
            "X-Client-Version"
            /* HttpHeader.X_CLIENT_VERSION */
          ]: this.clientVersion
        };
        if (this.app.options.appId) {
          headers[
            "X-Firebase-gmpid"
            /* HttpHeader.X_FIREBASE_GMPID */
          ] = this.app.options.appId;
        }
        const heartbeatsHeader = await ((_a = this.heartbeatServiceProvider.getImmediate({
          optional: true
        })) === null || _a === void 0 ? void 0 : _a.getHeartbeatsHeader());
        if (heartbeatsHeader) {
          headers[
            "X-Firebase-Client"
            /* HttpHeader.X_FIREBASE_CLIENT */
          ] = heartbeatsHeader;
        }
        const appCheckToken = await this._getAppCheckToken();
        if (appCheckToken) {
          headers[
            "X-Firebase-AppCheck"
            /* HttpHeader.X_FIREBASE_APP_CHECK */
          ] = appCheckToken;
        }
        return headers;
      }
      async _getAppCheckToken() {
        var _a;
        const appCheckTokenResult = await ((_a = this.appCheckServiceProvider.getImmediate({ optional: true })) === null || _a === void 0 ? void 0 : _a.getToken());
        if (appCheckTokenResult === null || appCheckTokenResult === void 0 ? void 0 : appCheckTokenResult.error) {
          _logWarn(`Error while retrieving App Check token: ${appCheckTokenResult.error}`);
        }
        return appCheckTokenResult === null || appCheckTokenResult === void 0 ? void 0 : appCheckTokenResult.token;
      }
    };
    Subscription = class {
      constructor(auth2) {
        this.auth = auth2;
        this.observer = null;
        this.addObserver = createSubscribe((observer) => this.observer = observer);
      }
      get next() {
        _assert(
          this.observer,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return this.observer.next.bind(this.observer);
      }
    };
    externalJSProvider = {
      async loadJS() {
        throw new Error("Unable to load external scripts");
      },
      recaptchaV2Script: "",
      recaptchaEnterpriseScript: "",
      gapiScript: ""
    };
    RECAPTCHA_ENTERPRISE_VERIFIER_TYPE = "recaptcha-enterprise";
    FAKE_TOKEN = "NO_RECAPTCHA";
    RecaptchaEnterpriseVerifier = class {
      /**
       *
       * @param authExtern - The corresponding Firebase {@link Auth} instance.
       *
       */
      constructor(authExtern) {
        this.type = RECAPTCHA_ENTERPRISE_VERIFIER_TYPE;
        this.auth = _castAuth(authExtern);
      }
      /**
       * Executes the verification process.
       *
       * @returns A Promise for a token that can be used to assert the validity of a request.
       */
      async verify(action = "verify", forceRefresh = false) {
        async function retrieveSiteKey(auth2) {
          if (!forceRefresh) {
            if (auth2.tenantId == null && auth2._agentRecaptchaConfig != null) {
              return auth2._agentRecaptchaConfig.siteKey;
            }
            if (auth2.tenantId != null && auth2._tenantRecaptchaConfigs[auth2.tenantId] !== void 0) {
              return auth2._tenantRecaptchaConfigs[auth2.tenantId].siteKey;
            }
          }
          return new Promise(async (resolve, reject) => {
            getRecaptchaConfig(auth2, {
              clientType: "CLIENT_TYPE_WEB",
              version: "RECAPTCHA_ENTERPRISE"
              /* RecaptchaVersion.ENTERPRISE */
            }).then((response) => {
              if (response.recaptchaKey === void 0) {
                reject(new Error("recaptcha Enterprise site key undefined"));
              } else {
                const config = new RecaptchaConfig(response);
                if (auth2.tenantId == null) {
                  auth2._agentRecaptchaConfig = config;
                } else {
                  auth2._tenantRecaptchaConfigs[auth2.tenantId] = config;
                }
                return resolve(config.siteKey);
              }
            }).catch((error2) => {
              reject(error2);
            });
          });
        }
        function retrieveRecaptchaToken(siteKey, resolve, reject) {
          const grecaptcha = window.grecaptcha;
          if (isEnterprise(grecaptcha)) {
            grecaptcha.enterprise.ready(() => {
              grecaptcha.enterprise.execute(siteKey, { action }).then((token) => {
                resolve(token);
              }).catch(() => {
                resolve(FAKE_TOKEN);
              });
            });
          } else {
            reject(Error("No reCAPTCHA enterprise script loaded."));
          }
        }
        return new Promise((resolve, reject) => {
          retrieveSiteKey(this.auth).then((siteKey) => {
            if (!forceRefresh && isEnterprise(window.grecaptcha)) {
              retrieveRecaptchaToken(siteKey, resolve, reject);
            } else {
              if (typeof window === "undefined") {
                reject(new Error("RecaptchaVerifier is only supported in browser"));
                return;
              }
              let url = _recaptchaEnterpriseScriptUrl();
              if (url.length !== 0) {
                url += siteKey;
              }
              _loadJS(url).then(() => {
                retrieveRecaptchaToken(siteKey, resolve, reject);
              }).catch((error2) => {
                reject(error2);
              });
            }
          }).catch((error2) => {
            reject(error2);
          });
        });
      }
    };
    AuthCredential = class {
      /** @internal */
      constructor(providerId, signInMethod) {
        this.providerId = providerId;
        this.signInMethod = signInMethod;
      }
      /**
       * Returns a JSON-serializable representation of this object.
       *
       * @returns a JSON-serializable representation of this object.
       */
      toJSON() {
        return debugFail("not implemented");
      }
      /** @internal */
      _getIdTokenResponse(_auth) {
        return debugFail("not implemented");
      }
      /** @internal */
      _linkToIdToken(_auth, _idToken) {
        return debugFail("not implemented");
      }
      /** @internal */
      _getReauthenticationResolver(_auth) {
        return debugFail("not implemented");
      }
    };
    EmailAuthCredential = class _EmailAuthCredential extends AuthCredential {
      /** @internal */
      constructor(_email, _password, signInMethod, _tenantId = null) {
        super("password", signInMethod);
        this._email = _email;
        this._password = _password;
        this._tenantId = _tenantId;
      }
      /** @internal */
      static _fromEmailAndPassword(email, password) {
        return new _EmailAuthCredential(
          email,
          password,
          "password"
          /* SignInMethod.EMAIL_PASSWORD */
        );
      }
      /** @internal */
      static _fromEmailAndCode(email, oobCode, tenantId = null) {
        return new _EmailAuthCredential(email, oobCode, "emailLink", tenantId);
      }
      /** {@inheritdoc AuthCredential.toJSON} */
      toJSON() {
        return {
          email: this._email,
          password: this._password,
          signInMethod: this.signInMethod,
          tenantId: this._tenantId
        };
      }
      /**
       * Static method to deserialize a JSON representation of an object into an {@link  AuthCredential}.
       *
       * @param json - Either `object` or the stringified representation of the object. When string is
       * provided, `JSON.parse` would be called first.
       *
       * @returns If the JSON input does not represent an {@link AuthCredential}, null is returned.
       */
      static fromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        if ((obj === null || obj === void 0 ? void 0 : obj.email) && (obj === null || obj === void 0 ? void 0 : obj.password)) {
          if (obj.signInMethod === "password") {
            return this._fromEmailAndPassword(obj.email, obj.password);
          } else if (obj.signInMethod === "emailLink") {
            return this._fromEmailAndCode(obj.email, obj.password, obj.tenantId);
          }
        }
        return null;
      }
      /** @internal */
      async _getIdTokenResponse(auth2) {
        switch (this.signInMethod) {
          case "password":
            const request = {
              returnSecureToken: true,
              email: this._email,
              password: this._password,
              clientType: "CLIENT_TYPE_WEB"
              /* RecaptchaClientType.WEB */
            };
            return handleRecaptchaFlow(auth2, request, "signInWithPassword", signInWithPassword);
          case "emailLink":
            return signInWithEmailLink$1(auth2, {
              email: this._email,
              oobCode: this._password
            });
          default:
            _fail(
              auth2,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
        }
      }
      /** @internal */
      async _linkToIdToken(auth2, idToken) {
        switch (this.signInMethod) {
          case "password":
            const request = {
              idToken,
              returnSecureToken: true,
              email: this._email,
              password: this._password,
              clientType: "CLIENT_TYPE_WEB"
              /* RecaptchaClientType.WEB */
            };
            return handleRecaptchaFlow(auth2, request, "signUpPassword", linkEmailPassword);
          case "emailLink":
            return signInWithEmailLinkForLinking(auth2, {
              idToken,
              email: this._email,
              oobCode: this._password
            });
          default:
            _fail(
              auth2,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
        }
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        return this._getIdTokenResponse(auth2);
      }
    };
    IDP_REQUEST_URI$1 = "http://localhost";
    OAuthCredential = class _OAuthCredential extends AuthCredential {
      constructor() {
        super(...arguments);
        this.pendingToken = null;
      }
      /** @internal */
      static _fromParams(params) {
        const cred = new _OAuthCredential(params.providerId, params.signInMethod);
        if (params.idToken || params.accessToken) {
          if (params.idToken) {
            cred.idToken = params.idToken;
          }
          if (params.accessToken) {
            cred.accessToken = params.accessToken;
          }
          if (params.nonce && !params.pendingToken) {
            cred.nonce = params.nonce;
          }
          if (params.pendingToken) {
            cred.pendingToken = params.pendingToken;
          }
        } else if (params.oauthToken && params.oauthTokenSecret) {
          cred.accessToken = params.oauthToken;
          cred.secret = params.oauthTokenSecret;
        } else {
          _fail(
            "argument-error"
            /* AuthErrorCode.ARGUMENT_ERROR */
          );
        }
        return cred;
      }
      /** {@inheritdoc AuthCredential.toJSON}  */
      toJSON() {
        return {
          idToken: this.idToken,
          accessToken: this.accessToken,
          secret: this.secret,
          nonce: this.nonce,
          pendingToken: this.pendingToken,
          providerId: this.providerId,
          signInMethod: this.signInMethod
        };
      }
      /**
       * Static method to deserialize a JSON representation of an object into an
       * {@link  AuthCredential}.
       *
       * @param json - Input can be either Object or the stringified representation of the object.
       * When string is provided, JSON.parse would be called first.
       *
       * @returns If the JSON input does not represent an {@link  AuthCredential}, null is returned.
       */
      static fromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        const { providerId, signInMethod } = obj, rest = __rest(obj, ["providerId", "signInMethod"]);
        if (!providerId || !signInMethod) {
          return null;
        }
        const cred = new _OAuthCredential(providerId, signInMethod);
        cred.idToken = rest.idToken || void 0;
        cred.accessToken = rest.accessToken || void 0;
        cred.secret = rest.secret;
        cred.nonce = rest.nonce;
        cred.pendingToken = rest.pendingToken || null;
        return cred;
      }
      /** @internal */
      _getIdTokenResponse(auth2) {
        const request = this.buildRequest();
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _linkToIdToken(auth2, idToken) {
        const request = this.buildRequest();
        request.idToken = idToken;
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        const request = this.buildRequest();
        request.autoCreate = false;
        return signInWithIdp(auth2, request);
      }
      buildRequest() {
        const request = {
          requestUri: IDP_REQUEST_URI$1,
          returnSecureToken: true
        };
        if (this.pendingToken) {
          request.pendingToken = this.pendingToken;
        } else {
          const postBody = {};
          if (this.idToken) {
            postBody["id_token"] = this.idToken;
          }
          if (this.accessToken) {
            postBody["access_token"] = this.accessToken;
          }
          if (this.secret) {
            postBody["oauth_token_secret"] = this.secret;
          }
          postBody["providerId"] = this.providerId;
          if (this.nonce && !this.pendingToken) {
            postBody["nonce"] = this.nonce;
          }
          request.postBody = querystring(postBody);
        }
        return request;
      }
    };
    VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_ = {
      [
        "USER_NOT_FOUND"
        /* ServerError.USER_NOT_FOUND */
      ]: "user-not-found"
      /* AuthErrorCode.USER_DELETED */
    };
    PhoneAuthCredential = class _PhoneAuthCredential extends AuthCredential {
      constructor(params) {
        super(
          "phone",
          "phone"
          /* SignInMethod.PHONE */
        );
        this.params = params;
      }
      /** @internal */
      static _fromVerification(verificationId, verificationCode) {
        return new _PhoneAuthCredential({ verificationId, verificationCode });
      }
      /** @internal */
      static _fromTokenResponse(phoneNumber, temporaryProof) {
        return new _PhoneAuthCredential({ phoneNumber, temporaryProof });
      }
      /** @internal */
      _getIdTokenResponse(auth2) {
        return signInWithPhoneNumber$1(auth2, this._makeVerificationRequest());
      }
      /** @internal */
      _linkToIdToken(auth2, idToken) {
        return linkWithPhoneNumber$1(auth2, Object.assign({ idToken }, this._makeVerificationRequest()));
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        return verifyPhoneNumberForExisting(auth2, this._makeVerificationRequest());
      }
      /** @internal */
      _makeVerificationRequest() {
        const { temporaryProof, phoneNumber, verificationId, verificationCode } = this.params;
        if (temporaryProof && phoneNumber) {
          return { temporaryProof, phoneNumber };
        }
        return {
          sessionInfo: verificationId,
          code: verificationCode
        };
      }
      /** {@inheritdoc AuthCredential.toJSON} */
      toJSON() {
        const obj = {
          providerId: this.providerId
        };
        if (this.params.phoneNumber) {
          obj.phoneNumber = this.params.phoneNumber;
        }
        if (this.params.temporaryProof) {
          obj.temporaryProof = this.params.temporaryProof;
        }
        if (this.params.verificationCode) {
          obj.verificationCode = this.params.verificationCode;
        }
        if (this.params.verificationId) {
          obj.verificationId = this.params.verificationId;
        }
        return obj;
      }
      /** Generates a phone credential based on a plain object or a JSON string. */
      static fromJSON(json2) {
        if (typeof json2 === "string") {
          json2 = JSON.parse(json2);
        }
        const { verificationId, verificationCode, phoneNumber, temporaryProof } = json2;
        if (!verificationCode && !verificationId && !phoneNumber && !temporaryProof) {
          return null;
        }
        return new _PhoneAuthCredential({
          verificationId,
          verificationCode,
          phoneNumber,
          temporaryProof
        });
      }
    };
    ActionCodeURL = class _ActionCodeURL {
      /**
       * @param actionLink - The link from which to extract the URL.
       * @returns The {@link ActionCodeURL} object, or null if the link is invalid.
       *
       * @internal
       */
      constructor(actionLink) {
        var _a, _b, _c, _d, _e, _f;
        const searchParams = querystringDecode(extractQuerystring(actionLink));
        const apiKey = (_a = searchParams[
          "apiKey"
          /* QueryField.API_KEY */
        ]) !== null && _a !== void 0 ? _a : null;
        const code = (_b = searchParams[
          "oobCode"
          /* QueryField.CODE */
        ]) !== null && _b !== void 0 ? _b : null;
        const operation = parseMode((_c = searchParams[
          "mode"
          /* QueryField.MODE */
        ]) !== null && _c !== void 0 ? _c : null);
        _assert(
          apiKey && code && operation,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        this.apiKey = apiKey;
        this.operation = operation;
        this.code = code;
        this.continueUrl = (_d = searchParams[
          "continueUrl"
          /* QueryField.CONTINUE_URL */
        ]) !== null && _d !== void 0 ? _d : null;
        this.languageCode = (_e = searchParams[
          "languageCode"
          /* QueryField.LANGUAGE_CODE */
        ]) !== null && _e !== void 0 ? _e : null;
        this.tenantId = (_f = searchParams[
          "tenantId"
          /* QueryField.TENANT_ID */
        ]) !== null && _f !== void 0 ? _f : null;
      }
      /**
       * Parses the email action link string and returns an {@link ActionCodeURL} if the link is valid,
       * otherwise returns null.
       *
       * @param link  - The email action link string.
       * @returns The {@link ActionCodeURL} object, or null if the link is invalid.
       *
       * @public
       */
      static parseLink(link) {
        const actionLink = parseDeepLink(link);
        try {
          return new _ActionCodeURL(actionLink);
        } catch (_a) {
          return null;
        }
      }
    };
    EmailAuthProvider = class _EmailAuthProvider {
      constructor() {
        this.providerId = _EmailAuthProvider.PROVIDER_ID;
      }
      /**
       * Initialize an {@link AuthCredential} using an email and password.
       *
       * @example
       * ```javascript
       * const authCredential = EmailAuthProvider.credential(email, password);
       * const userCredential = await signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * ```javascript
       * const userCredential = await signInWithEmailAndPassword(auth, email, password);
       * ```
       *
       * @param email - Email address.
       * @param password - User account password.
       * @returns The auth provider credential.
       */
      static credential(email, password) {
        return EmailAuthCredential._fromEmailAndPassword(email, password);
      }
      /**
       * Initialize an {@link AuthCredential} using an email and an email link after a sign in with
       * email link operation.
       *
       * @example
       * ```javascript
       * const authCredential = EmailAuthProvider.credentialWithLink(auth, email, emailLink);
       * const userCredential = await signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * ```javascript
       * await sendSignInLinkToEmail(auth, email);
       * // Obtain emailLink from user.
       * const userCredential = await signInWithEmailLink(auth, email, emailLink);
       * ```
       *
       * @param auth - The {@link Auth} instance used to verify the link.
       * @param email - Email address.
       * @param emailLink - Sign-in email link.
       * @returns - The auth provider credential.
       */
      static credentialWithLink(email, emailLink) {
        const actionCodeUrl = ActionCodeURL.parseLink(emailLink);
        _assert(
          actionCodeUrl,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return EmailAuthCredential._fromEmailAndCode(email, actionCodeUrl.code, actionCodeUrl.tenantId);
      }
    };
    EmailAuthProvider.PROVIDER_ID = "password";
    EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD = "password";
    EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD = "emailLink";
    FederatedAuthProvider = class {
      /**
       * Constructor for generic OAuth providers.
       *
       * @param providerId - Provider for which credentials should be generated.
       */
      constructor(providerId) {
        this.providerId = providerId;
        this.defaultLanguageCode = null;
        this.customParameters = {};
      }
      /**
       * Set the language gode.
       *
       * @param languageCode - language code
       */
      setDefaultLanguage(languageCode) {
        this.defaultLanguageCode = languageCode;
      }
      /**
       * Sets the OAuth custom parameters to pass in an OAuth request for popup and redirect sign-in
       * operations.
       *
       * @remarks
       * For a detailed list, check the reserved required OAuth 2.0 parameters such as `client_id`,
       * `redirect_uri`, `scope`, `response_type`, and `state` are not allowed and will be ignored.
       *
       * @param customOAuthParameters - The custom OAuth parameters to pass in the OAuth request.
       */
      setCustomParameters(customOAuthParameters) {
        this.customParameters = customOAuthParameters;
        return this;
      }
      /**
       * Retrieve the current list of {@link CustomParameters}.
       */
      getCustomParameters() {
        return this.customParameters;
      }
    };
    BaseOAuthProvider = class extends FederatedAuthProvider {
      constructor() {
        super(...arguments);
        this.scopes = [];
      }
      /**
       * Add an OAuth scope to the credential.
       *
       * @param scope - Provider OAuth scope to add.
       */
      addScope(scope) {
        if (!this.scopes.includes(scope)) {
          this.scopes.push(scope);
        }
        return this;
      }
      /**
       * Retrieve the current list of OAuth scopes.
       */
      getScopes() {
        return [...this.scopes];
      }
    };
    OAuthProvider = class _OAuthProvider extends BaseOAuthProvider {
      /**
       * Creates an {@link OAuthCredential} from a JSON string or a plain object.
       * @param json - A plain object or a JSON string
       */
      static credentialFromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        _assert(
          "providerId" in obj && "signInMethod" in obj,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return OAuthCredential._fromParams(obj);
      }
      /**
       * Creates a {@link OAuthCredential} from a generic OAuth provider's access token or ID token.
       *
       * @remarks
       * The raw nonce is required when an ID token with a nonce field is provided. The SHA-256 hash of
       * the raw nonce must match the nonce field in the ID token.
       *
       * @example
       * ```javascript
       * // `googleUser` from the onsuccess Google Sign In callback.
       * // Initialize a generate OAuth provider with a `google.com` providerId.
       * const provider = new OAuthProvider('google.com');
       * const credential = provider.credential({
       *   idToken: googleUser.getAuthResponse().id_token,
       * });
       * const result = await signInWithCredential(credential);
       * ```
       *
       * @param params - Either the options object containing the ID token, access token and raw nonce
       * or the ID token string.
       */
      credential(params) {
        return this._credential(Object.assign(Object.assign({}, params), { nonce: params.rawNonce }));
      }
      /** An internal credential method that accepts more permissive options */
      _credential(params) {
        _assert(
          params.idToken || params.accessToken,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return OAuthCredential._fromParams(Object.assign(Object.assign({}, params), { providerId: this.providerId, signInMethod: this.providerId }));
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _OAuthProvider.oauthCredentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _OAuthProvider.oauthCredentialFromTaggedObject(error2.customData || {});
      }
      static oauthCredentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { oauthIdToken, oauthAccessToken, oauthTokenSecret, pendingToken, nonce, providerId } = tokenResponse;
        if (!oauthAccessToken && !oauthTokenSecret && !oauthIdToken && !pendingToken) {
          return null;
        }
        if (!providerId) {
          return null;
        }
        try {
          return new _OAuthProvider(providerId)._credential({
            idToken: oauthIdToken,
            accessToken: oauthAccessToken,
            nonce,
            pendingToken
          });
        } catch (e3) {
          return null;
        }
      }
    };
    FacebookAuthProvider = class _FacebookAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "facebook.com"
          /* ProviderId.FACEBOOK */
        );
      }
      /**
       * Creates a credential for Facebook.
       *
       * @example
       * ```javascript
       * // `event` from the Facebook auth.authResponseChange callback.
       * const credential = FacebookAuthProvider.credential(event.authResponse.accessToken);
       * const result = await signInWithCredential(credential);
       * ```
       *
       * @param accessToken - Facebook access token.
       */
      static credential(accessToken) {
        return OAuthCredential._fromParams({
          providerId: _FacebookAuthProvider.PROVIDER_ID,
          signInMethod: _FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,
          accessToken
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _FacebookAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _FacebookAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse || !("oauthAccessToken" in tokenResponse)) {
          return null;
        }
        if (!tokenResponse.oauthAccessToken) {
          return null;
        }
        try {
          return _FacebookAuthProvider.credential(tokenResponse.oauthAccessToken);
        } catch (_a) {
          return null;
        }
      }
    };
    FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD = "facebook.com";
    FacebookAuthProvider.PROVIDER_ID = "facebook.com";
    GoogleAuthProvider = class _GoogleAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "google.com"
          /* ProviderId.GOOGLE */
        );
        this.addScope("profile");
      }
      /**
       * Creates a credential for Google. At least one of ID token and access token is required.
       *
       * @example
       * ```javascript
       * // \`googleUser\` from the onsuccess Google Sign In callback.
       * const credential = GoogleAuthProvider.credential(googleUser.getAuthResponse().id_token);
       * const result = await signInWithCredential(credential);
       * ```
       *
       * @param idToken - Google ID token.
       * @param accessToken - Google access token.
       */
      static credential(idToken, accessToken) {
        return OAuthCredential._fromParams({
          providerId: _GoogleAuthProvider.PROVIDER_ID,
          signInMethod: _GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,
          idToken,
          accessToken
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _GoogleAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _GoogleAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { oauthIdToken, oauthAccessToken } = tokenResponse;
        if (!oauthIdToken && !oauthAccessToken) {
          return null;
        }
        try {
          return _GoogleAuthProvider.credential(oauthIdToken, oauthAccessToken);
        } catch (_a) {
          return null;
        }
      }
    };
    GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD = "google.com";
    GoogleAuthProvider.PROVIDER_ID = "google.com";
    GithubAuthProvider = class _GithubAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "github.com"
          /* ProviderId.GITHUB */
        );
      }
      /**
       * Creates a credential for GitHub.
       *
       * @param accessToken - GitHub access token.
       */
      static credential(accessToken) {
        return OAuthCredential._fromParams({
          providerId: _GithubAuthProvider.PROVIDER_ID,
          signInMethod: _GithubAuthProvider.GITHUB_SIGN_IN_METHOD,
          accessToken
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _GithubAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _GithubAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse || !("oauthAccessToken" in tokenResponse)) {
          return null;
        }
        if (!tokenResponse.oauthAccessToken) {
          return null;
        }
        try {
          return _GithubAuthProvider.credential(tokenResponse.oauthAccessToken);
        } catch (_a) {
          return null;
        }
      }
    };
    GithubAuthProvider.GITHUB_SIGN_IN_METHOD = "github.com";
    GithubAuthProvider.PROVIDER_ID = "github.com";
    IDP_REQUEST_URI = "http://localhost";
    SAMLAuthCredential = class _SAMLAuthCredential extends AuthCredential {
      /** @internal */
      constructor(providerId, pendingToken) {
        super(providerId, providerId);
        this.pendingToken = pendingToken;
      }
      /** @internal */
      _getIdTokenResponse(auth2) {
        const request = this.buildRequest();
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _linkToIdToken(auth2, idToken) {
        const request = this.buildRequest();
        request.idToken = idToken;
        return signInWithIdp(auth2, request);
      }
      /** @internal */
      _getReauthenticationResolver(auth2) {
        const request = this.buildRequest();
        request.autoCreate = false;
        return signInWithIdp(auth2, request);
      }
      /** {@inheritdoc AuthCredential.toJSON}  */
      toJSON() {
        return {
          signInMethod: this.signInMethod,
          providerId: this.providerId,
          pendingToken: this.pendingToken
        };
      }
      /**
       * Static method to deserialize a JSON representation of an object into an
       * {@link  AuthCredential}.
       *
       * @param json - Input can be either Object or the stringified representation of the object.
       * When string is provided, JSON.parse would be called first.
       *
       * @returns If the JSON input does not represent an {@link  AuthCredential}, null is returned.
       */
      static fromJSON(json2) {
        const obj = typeof json2 === "string" ? JSON.parse(json2) : json2;
        const { providerId, signInMethod, pendingToken } = obj;
        if (!providerId || !signInMethod || !pendingToken || providerId !== signInMethod) {
          return null;
        }
        return new _SAMLAuthCredential(providerId, pendingToken);
      }
      /**
       * Helper static method to avoid exposing the constructor to end users.
       *
       * @internal
       */
      static _create(providerId, pendingToken) {
        return new _SAMLAuthCredential(providerId, pendingToken);
      }
      buildRequest() {
        return {
          requestUri: IDP_REQUEST_URI,
          returnSecureToken: true,
          pendingToken: this.pendingToken
        };
      }
    };
    SAML_PROVIDER_PREFIX = "saml.";
    SAMLAuthProvider = class _SAMLAuthProvider extends FederatedAuthProvider {
      /**
       * Constructor. The providerId must start with "saml."
       * @param providerId - SAML provider ID.
       */
      constructor(providerId) {
        _assert(
          providerId.startsWith(SAML_PROVIDER_PREFIX),
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        super(providerId);
      }
      /**
       * Generates an {@link AuthCredential} from a {@link UserCredential} after a
       * successful SAML flow completes.
       *
       * @remarks
       *
       * For example, to get an {@link AuthCredential}, you could write the
       * following code:
       *
       * ```js
       * const userCredential = await signInWithPopup(auth, samlProvider);
       * const credential = SAMLAuthProvider.credentialFromResult(userCredential);
       * ```
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _SAMLAuthProvider.samlCredentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _SAMLAuthProvider.samlCredentialFromTaggedObject(error2.customData || {});
      }
      /**
       * Creates an {@link AuthCredential} from a JSON string or a plain object.
       * @param json - A plain object or a JSON string
       */
      static credentialFromJSON(json2) {
        const credential = SAMLAuthCredential.fromJSON(json2);
        _assert(
          credential,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return credential;
      }
      static samlCredentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { pendingToken, providerId } = tokenResponse;
        if (!pendingToken || !providerId) {
          return null;
        }
        try {
          return SAMLAuthCredential._create(providerId, pendingToken);
        } catch (e3) {
          return null;
        }
      }
    };
    TwitterAuthProvider = class _TwitterAuthProvider extends BaseOAuthProvider {
      constructor() {
        super(
          "twitter.com"
          /* ProviderId.TWITTER */
        );
      }
      /**
       * Creates a credential for Twitter.
       *
       * @param token - Twitter access token.
       * @param secret - Twitter secret.
       */
      static credential(token, secret) {
        return OAuthCredential._fromParams({
          providerId: _TwitterAuthProvider.PROVIDER_ID,
          signInMethod: _TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,
          oauthToken: token,
          oauthTokenSecret: secret
        });
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        return _TwitterAuthProvider.credentialFromTaggedObject(userCredential);
      }
      /**
       * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was
       * thrown during a sign-in, link, or reauthenticate operation.
       *
       * @param userCredential - The user credential.
       */
      static credentialFromError(error2) {
        return _TwitterAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { oauthAccessToken, oauthTokenSecret } = tokenResponse;
        if (!oauthAccessToken || !oauthTokenSecret) {
          return null;
        }
        try {
          return _TwitterAuthProvider.credential(oauthAccessToken, oauthTokenSecret);
        } catch (_a) {
          return null;
        }
      }
    };
    TwitterAuthProvider.TWITTER_SIGN_IN_METHOD = "twitter.com";
    TwitterAuthProvider.PROVIDER_ID = "twitter.com";
    UserCredentialImpl = class _UserCredentialImpl {
      constructor(params) {
        this.user = params.user;
        this.providerId = params.providerId;
        this._tokenResponse = params._tokenResponse;
        this.operationType = params.operationType;
      }
      static async _fromIdTokenResponse(auth2, operationType, idTokenResponse, isAnonymous = false) {
        const user = await UserImpl._fromIdTokenResponse(auth2, idTokenResponse, isAnonymous);
        const providerId = providerIdForResponse(idTokenResponse);
        const userCred = new _UserCredentialImpl({
          user,
          providerId,
          _tokenResponse: idTokenResponse,
          operationType
        });
        return userCred;
      }
      static async _forOperation(user, operationType, response) {
        await user._updateTokensIfNecessary(
          response,
          /* reload */
          true
        );
        const providerId = providerIdForResponse(response);
        return new _UserCredentialImpl({
          user,
          providerId,
          _tokenResponse: response,
          operationType
        });
      }
    };
    MultiFactorError = class _MultiFactorError extends FirebaseError {
      constructor(auth2, error2, operationType, user) {
        var _a;
        super(error2.code, error2.message);
        this.operationType = operationType;
        this.user = user;
        Object.setPrototypeOf(this, _MultiFactorError.prototype);
        this.customData = {
          appName: auth2.name,
          tenantId: (_a = auth2.tenantId) !== null && _a !== void 0 ? _a : void 0,
          _serverResponse: error2.customData._serverResponse,
          operationType
        };
      }
      static _fromErrorAndOperation(auth2, error2, operationType, user) {
        return new _MultiFactorError(auth2, error2, operationType, user);
      }
    };
    MultiFactorInfoImpl = class {
      constructor(factorId, response) {
        this.factorId = factorId;
        this.uid = response.mfaEnrollmentId;
        this.enrollmentTime = new Date(response.enrolledAt).toUTCString();
        this.displayName = response.displayName;
      }
      static _fromServerResponse(auth2, enrollment) {
        if ("phoneInfo" in enrollment) {
          return PhoneMultiFactorInfoImpl._fromServerResponse(auth2, enrollment);
        } else if ("totpInfo" in enrollment) {
          return TotpMultiFactorInfoImpl._fromServerResponse(auth2, enrollment);
        }
        return _fail(
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
      }
    };
    PhoneMultiFactorInfoImpl = class _PhoneMultiFactorInfoImpl extends MultiFactorInfoImpl {
      constructor(response) {
        super("phone", response);
        this.phoneNumber = response.phoneInfo;
      }
      static _fromServerResponse(_auth, enrollment) {
        return new _PhoneMultiFactorInfoImpl(enrollment);
      }
    };
    TotpMultiFactorInfoImpl = class _TotpMultiFactorInfoImpl extends MultiFactorInfoImpl {
      constructor(response) {
        super("totp", response);
      }
      static _fromServerResponse(_auth, enrollment) {
        return new _TotpMultiFactorInfoImpl(enrollment);
      }
    };
    GenericAdditionalUserInfo = class {
      constructor(isNewUser, providerId, profile = {}) {
        this.isNewUser = isNewUser;
        this.providerId = providerId;
        this.profile = profile;
      }
    };
    FederatedAdditionalUserInfoWithUsername = class extends GenericAdditionalUserInfo {
      constructor(isNewUser, providerId, profile, username) {
        super(isNewUser, providerId, profile);
        this.username = username;
      }
    };
    FacebookAdditionalUserInfo = class extends GenericAdditionalUserInfo {
      constructor(isNewUser, profile) {
        super(isNewUser, "facebook.com", profile);
      }
    };
    GithubAdditionalUserInfo = class extends FederatedAdditionalUserInfoWithUsername {
      constructor(isNewUser, profile) {
        super(isNewUser, "github.com", profile, typeof (profile === null || profile === void 0 ? void 0 : profile.login) === "string" ? profile === null || profile === void 0 ? void 0 : profile.login : null);
      }
    };
    GoogleAdditionalUserInfo = class extends GenericAdditionalUserInfo {
      constructor(isNewUser, profile) {
        super(isNewUser, "google.com", profile);
      }
    };
    TwitterAdditionalUserInfo = class extends FederatedAdditionalUserInfoWithUsername {
      constructor(isNewUser, profile, screenName) {
        super(isNewUser, "twitter.com", profile, screenName);
      }
    };
    MultiFactorSessionImpl = class _MultiFactorSessionImpl {
      constructor(type2, credential, user) {
        this.type = type2;
        this.credential = credential;
        this.user = user;
      }
      static _fromIdtoken(idToken, user) {
        return new _MultiFactorSessionImpl("enroll", idToken, user);
      }
      static _fromMfaPendingCredential(mfaPendingCredential) {
        return new _MultiFactorSessionImpl("signin", mfaPendingCredential);
      }
      toJSON() {
        const key = this.type === "enroll" ? "idToken" : "pendingCredential";
        return {
          multiFactorSession: {
            [key]: this.credential
          }
        };
      }
      static fromJSON(obj) {
        var _a, _b;
        if (obj === null || obj === void 0 ? void 0 : obj.multiFactorSession) {
          if ((_a = obj.multiFactorSession) === null || _a === void 0 ? void 0 : _a.pendingCredential) {
            return _MultiFactorSessionImpl._fromMfaPendingCredential(obj.multiFactorSession.pendingCredential);
          } else if ((_b = obj.multiFactorSession) === null || _b === void 0 ? void 0 : _b.idToken) {
            return _MultiFactorSessionImpl._fromIdtoken(obj.multiFactorSession.idToken);
          }
        }
        return null;
      }
    };
    MultiFactorResolverImpl = class _MultiFactorResolverImpl {
      constructor(session, hints, signInResolver) {
        this.session = session;
        this.hints = hints;
        this.signInResolver = signInResolver;
      }
      /** @internal */
      static _fromError(authExtern, error2) {
        const auth2 = _castAuth(authExtern);
        const serverResponse = error2.customData._serverResponse;
        const hints = (serverResponse.mfaInfo || []).map((enrollment) => MultiFactorInfoImpl._fromServerResponse(auth2, enrollment));
        _assert(
          serverResponse.mfaPendingCredential,
          auth2,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const session = MultiFactorSessionImpl._fromMfaPendingCredential(serverResponse.mfaPendingCredential);
        return new _MultiFactorResolverImpl(session, hints, async (assertion) => {
          const mfaResponse = await assertion._process(auth2, session);
          delete serverResponse.mfaInfo;
          delete serverResponse.mfaPendingCredential;
          const idTokenResponse = Object.assign(Object.assign({}, serverResponse), { idToken: mfaResponse.idToken, refreshToken: mfaResponse.refreshToken });
          switch (error2.operationType) {
            case "signIn":
              const userCredential = await UserCredentialImpl._fromIdTokenResponse(auth2, error2.operationType, idTokenResponse);
              await auth2._updateCurrentUser(userCredential.user);
              return userCredential;
            case "reauthenticate":
              _assert(
                error2.user,
                auth2,
                "internal-error"
                /* AuthErrorCode.INTERNAL_ERROR */
              );
              return UserCredentialImpl._forOperation(error2.user, error2.operationType, idTokenResponse);
            default:
              _fail(
                auth2,
                "internal-error"
                /* AuthErrorCode.INTERNAL_ERROR */
              );
          }
        });
      }
      async resolveSignIn(assertionExtern) {
        const assertion = assertionExtern;
        return this.signInResolver(assertion);
      }
    };
    MultiFactorUserImpl = class _MultiFactorUserImpl {
      constructor(user) {
        this.user = user;
        this.enrolledFactors = [];
        user._onReload((userInfo) => {
          if (userInfo.mfaInfo) {
            this.enrolledFactors = userInfo.mfaInfo.map((enrollment) => MultiFactorInfoImpl._fromServerResponse(user.auth, enrollment));
          }
        });
      }
      static _fromUser(user) {
        return new _MultiFactorUserImpl(user);
      }
      async getSession() {
        return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken(), this.user);
      }
      async enroll(assertionExtern, displayName) {
        const assertion = assertionExtern;
        const session = await this.getSession();
        const finalizeMfaResponse = await _logoutIfInvalidated(this.user, assertion._process(this.user.auth, session, displayName));
        await this.user._updateTokensIfNecessary(finalizeMfaResponse);
        return this.user.reload();
      }
      async unenroll(infoOrUid) {
        const mfaEnrollmentId = typeof infoOrUid === "string" ? infoOrUid : infoOrUid.uid;
        const idToken = await this.user.getIdToken();
        try {
          const idTokenResponse = await _logoutIfInvalidated(this.user, withdrawMfa(this.user.auth, {
            idToken,
            mfaEnrollmentId
          }));
          this.enrolledFactors = this.enrolledFactors.filter(({ uid }) => uid !== mfaEnrollmentId);
          await this.user._updateTokensIfNecessary(idTokenResponse);
          await this.user.reload();
        } catch (e3) {
          throw e3;
        }
      }
    };
    multiFactorUserCache = /* @__PURE__ */ new WeakMap();
    STORAGE_AVAILABLE_KEY = "__sak";
    BrowserPersistenceClass = class {
      constructor(storageRetriever, type2) {
        this.storageRetriever = storageRetriever;
        this.type = type2;
      }
      _isAvailable() {
        try {
          if (!this.storage) {
            return Promise.resolve(false);
          }
          this.storage.setItem(STORAGE_AVAILABLE_KEY, "1");
          this.storage.removeItem(STORAGE_AVAILABLE_KEY);
          return Promise.resolve(true);
        } catch (_a) {
          return Promise.resolve(false);
        }
      }
      _set(key, value2) {
        this.storage.setItem(key, JSON.stringify(value2));
        return Promise.resolve();
      }
      _get(key) {
        const json2 = this.storage.getItem(key);
        return Promise.resolve(json2 ? JSON.parse(json2) : null);
      }
      _remove(key) {
        this.storage.removeItem(key);
        return Promise.resolve();
      }
      get storage() {
        return this.storageRetriever();
      }
    };
    _POLLING_INTERVAL_MS$1 = 1e3;
    IE10_LOCAL_STORAGE_SYNC_DELAY = 10;
    BrowserLocalPersistence = class extends BrowserPersistenceClass {
      constructor() {
        super(
          () => window.localStorage,
          "LOCAL"
          /* PersistenceType.LOCAL */
        );
        this.boundEventHandler = (event, poll) => this.onStorageEvent(event, poll);
        this.listeners = {};
        this.localCache = {};
        this.pollTimer = null;
        this.fallbackToPolling = _isMobileBrowser();
        this._shouldAllowMigration = true;
      }
      forAllChangedKeys(cb) {
        for (const key of Object.keys(this.listeners)) {
          const newValue = this.storage.getItem(key);
          const oldValue = this.localCache[key];
          if (newValue !== oldValue) {
            cb(key, oldValue, newValue);
          }
        }
      }
      onStorageEvent(event, poll = false) {
        if (!event.key) {
          this.forAllChangedKeys((key2, _oldValue, newValue) => {
            this.notifyListeners(key2, newValue);
          });
          return;
        }
        const key = event.key;
        if (poll) {
          this.detachListener();
        } else {
          this.stopPolling();
        }
        const triggerListeners = () => {
          const storedValue2 = this.storage.getItem(key);
          if (!poll && this.localCache[key] === storedValue2) {
            return;
          }
          this.notifyListeners(key, storedValue2);
        };
        const storedValue = this.storage.getItem(key);
        if (_isIE10() && storedValue !== event.newValue && event.newValue !== event.oldValue) {
          setTimeout(triggerListeners, IE10_LOCAL_STORAGE_SYNC_DELAY);
        } else {
          triggerListeners();
        }
      }
      notifyListeners(key, value2) {
        this.localCache[key] = value2;
        const listeners = this.listeners[key];
        if (listeners) {
          for (const listener of Array.from(listeners)) {
            listener(value2 ? JSON.parse(value2) : value2);
          }
        }
      }
      startPolling() {
        this.stopPolling();
        this.pollTimer = setInterval(() => {
          this.forAllChangedKeys((key, oldValue, newValue) => {
            this.onStorageEvent(
              new StorageEvent("storage", {
                key,
                oldValue,
                newValue
              }),
              /* poll */
              true
            );
          });
        }, _POLLING_INTERVAL_MS$1);
      }
      stopPolling() {
        if (this.pollTimer) {
          clearInterval(this.pollTimer);
          this.pollTimer = null;
        }
      }
      attachListener() {
        window.addEventListener("storage", this.boundEventHandler);
      }
      detachListener() {
        window.removeEventListener("storage", this.boundEventHandler);
      }
      _addListener(key, listener) {
        if (Object.keys(this.listeners).length === 0) {
          if (this.fallbackToPolling) {
            this.startPolling();
          } else {
            this.attachListener();
          }
        }
        if (!this.listeners[key]) {
          this.listeners[key] = /* @__PURE__ */ new Set();
          this.localCache[key] = this.storage.getItem(key);
        }
        this.listeners[key].add(listener);
      }
      _removeListener(key, listener) {
        if (this.listeners[key]) {
          this.listeners[key].delete(listener);
          if (this.listeners[key].size === 0) {
            delete this.listeners[key];
          }
        }
        if (Object.keys(this.listeners).length === 0) {
          this.detachListener();
          this.stopPolling();
        }
      }
      // Update local cache on base operations:
      async _set(key, value2) {
        await super._set(key, value2);
        this.localCache[key] = JSON.stringify(value2);
      }
      async _get(key) {
        const value2 = await super._get(key);
        this.localCache[key] = JSON.stringify(value2);
        return value2;
      }
      async _remove(key) {
        await super._remove(key);
        delete this.localCache[key];
      }
    };
    BrowserLocalPersistence.type = "LOCAL";
    browserLocalPersistence = BrowserLocalPersistence;
    BrowserSessionPersistence = class extends BrowserPersistenceClass {
      constructor() {
        super(
          () => window.sessionStorage,
          "SESSION"
          /* PersistenceType.SESSION */
        );
      }
      _addListener(_key, _listener) {
        return;
      }
      _removeListener(_key, _listener) {
        return;
      }
    };
    BrowserSessionPersistence.type = "SESSION";
    browserSessionPersistence = BrowserSessionPersistence;
    Receiver = class _Receiver {
      constructor(eventTarget) {
        this.eventTarget = eventTarget;
        this.handlersMap = {};
        this.boundEventHandler = this.handleEvent.bind(this);
      }
      /**
       * Obtain an instance of a Receiver for a given event target, if none exists it will be created.
       *
       * @param eventTarget - An event target (such as window or self) through which the underlying
       * messages will be received.
       */
      static _getInstance(eventTarget) {
        const existingInstance = this.receivers.find((receiver) => receiver.isListeningto(eventTarget));
        if (existingInstance) {
          return existingInstance;
        }
        const newInstance = new _Receiver(eventTarget);
        this.receivers.push(newInstance);
        return newInstance;
      }
      isListeningto(eventTarget) {
        return this.eventTarget === eventTarget;
      }
      /**
       * Fans out a MessageEvent to the appropriate listeners.
       *
       * @remarks
       * Sends an {@link Status.ACK} upon receipt and a {@link Status.DONE} once all handlers have
       * finished processing.
       *
       * @param event - The MessageEvent.
       *
       */
      async handleEvent(event) {
        const messageEvent = event;
        const { eventId, eventType, data } = messageEvent.data;
        const handlers = this.handlersMap[eventType];
        if (!(handlers === null || handlers === void 0 ? void 0 : handlers.size)) {
          return;
        }
        messageEvent.ports[0].postMessage({
          status: "ack",
          eventId,
          eventType
        });
        const promises = Array.from(handlers).map(async (handler) => handler(messageEvent.origin, data));
        const response = await _allSettled(promises);
        messageEvent.ports[0].postMessage({
          status: "done",
          eventId,
          eventType,
          response
        });
      }
      /**
       * Subscribe an event handler for a particular event.
       *
       * @param eventType - Event name to subscribe to.
       * @param eventHandler - The event handler which should receive the events.
       *
       */
      _subscribe(eventType, eventHandler) {
        if (Object.keys(this.handlersMap).length === 0) {
          this.eventTarget.addEventListener("message", this.boundEventHandler);
        }
        if (!this.handlersMap[eventType]) {
          this.handlersMap[eventType] = /* @__PURE__ */ new Set();
        }
        this.handlersMap[eventType].add(eventHandler);
      }
      /**
       * Unsubscribe an event handler from a particular event.
       *
       * @param eventType - Event name to unsubscribe from.
       * @param eventHandler - Optional event handler, if none provided, unsubscribe all handlers on this event.
       *
       */
      _unsubscribe(eventType, eventHandler) {
        if (this.handlersMap[eventType] && eventHandler) {
          this.handlersMap[eventType].delete(eventHandler);
        }
        if (!eventHandler || this.handlersMap[eventType].size === 0) {
          delete this.handlersMap[eventType];
        }
        if (Object.keys(this.handlersMap).length === 0) {
          this.eventTarget.removeEventListener("message", this.boundEventHandler);
        }
      }
    };
    Receiver.receivers = [];
    Sender = class {
      constructor(target) {
        this.target = target;
        this.handlers = /* @__PURE__ */ new Set();
      }
      /**
       * Unsubscribe the handler and remove it from our tracking Set.
       *
       * @param handler - The handler to unsubscribe.
       */
      removeMessageHandler(handler) {
        if (handler.messageChannel) {
          handler.messageChannel.port1.removeEventListener("message", handler.onMessage);
          handler.messageChannel.port1.close();
        }
        this.handlers.delete(handler);
      }
      /**
       * Send a message to the Receiver located at {@link target}.
       *
       * @remarks
       * We'll first wait a bit for an ACK , if we get one we will wait significantly longer until the
       * receiver has had a chance to fully process the event.
       *
       * @param eventType - Type of event to send.
       * @param data - The payload of the event.
       * @param timeout - Timeout for waiting on an ACK from the receiver.
       *
       * @returns An array of settled promises from all the handlers that were listening on the receiver.
       */
      async _send(eventType, data, timeout = 50) {
        const messageChannel = typeof MessageChannel !== "undefined" ? new MessageChannel() : null;
        if (!messageChannel) {
          throw new Error(
            "connection_unavailable"
            /* _MessageError.CONNECTION_UNAVAILABLE */
          );
        }
        let completionTimer;
        let handler;
        return new Promise((resolve, reject) => {
          const eventId = _generateEventId("", 20);
          messageChannel.port1.start();
          const ackTimer = setTimeout(() => {
            reject(new Error(
              "unsupported_event"
              /* _MessageError.UNSUPPORTED_EVENT */
            ));
          }, timeout);
          handler = {
            messageChannel,
            onMessage(event) {
              const messageEvent = event;
              if (messageEvent.data.eventId !== eventId) {
                return;
              }
              switch (messageEvent.data.status) {
                case "ack":
                  clearTimeout(ackTimer);
                  completionTimer = setTimeout(
                    () => {
                      reject(new Error(
                        "timeout"
                        /* _MessageError.TIMEOUT */
                      ));
                    },
                    3e3
                    /* _TimeoutDuration.COMPLETION */
                  );
                  break;
                case "done":
                  clearTimeout(completionTimer);
                  resolve(messageEvent.data.response);
                  break;
                default:
                  clearTimeout(ackTimer);
                  clearTimeout(completionTimer);
                  reject(new Error(
                    "invalid_response"
                    /* _MessageError.INVALID_RESPONSE */
                  ));
                  break;
              }
            }
          };
          this.handlers.add(handler);
          messageChannel.port1.addEventListener("message", handler.onMessage);
          this.target.postMessage({
            eventType,
            eventId,
            data
          }, [messageChannel.port2]);
        }).finally(() => {
          if (handler) {
            this.removeMessageHandler(handler);
          }
        });
      }
    };
    DB_NAME2 = "firebaseLocalStorageDb";
    DB_VERSION2 = 1;
    DB_OBJECTSTORE_NAME = "firebaseLocalStorage";
    DB_DATA_KEYPATH = "fbase_key";
    DBPromise = class {
      constructor(request) {
        this.request = request;
      }
      toPromise() {
        return new Promise((resolve, reject) => {
          this.request.addEventListener("success", () => {
            resolve(this.request.result);
          });
          this.request.addEventListener("error", () => {
            reject(this.request.error);
          });
        });
      }
    };
    _POLLING_INTERVAL_MS = 800;
    _TRANSACTION_RETRY_COUNT = 3;
    IndexedDBLocalPersistence = class {
      constructor() {
        this.type = "LOCAL";
        this._shouldAllowMigration = true;
        this.listeners = {};
        this.localCache = {};
        this.pollTimer = null;
        this.pendingWrites = 0;
        this.receiver = null;
        this.sender = null;
        this.serviceWorkerReceiverAvailable = false;
        this.activeServiceWorker = null;
        this._workerInitializationPromise = this.initializeServiceWorkerMessaging().then(() => {
        }, () => {
        });
      }
      async _openDb() {
        if (this.db) {
          return this.db;
        }
        this.db = await _openDatabase();
        return this.db;
      }
      async _withRetries(op) {
        let numAttempts = 0;
        while (true) {
          try {
            const db = await this._openDb();
            return await op(db);
          } catch (e3) {
            if (numAttempts++ > _TRANSACTION_RETRY_COUNT) {
              throw e3;
            }
            if (this.db) {
              this.db.close();
              this.db = void 0;
            }
          }
        }
      }
      /**
       * IndexedDB events do not propagate from the main window to the worker context.  We rely on a
       * postMessage interface to send these events to the worker ourselves.
       */
      async initializeServiceWorkerMessaging() {
        return _isWorker() ? this.initializeReceiver() : this.initializeSender();
      }
      /**
       * As the worker we should listen to events from the main window.
       */
      async initializeReceiver() {
        this.receiver = Receiver._getInstance(_getWorkerGlobalScope());
        this.receiver._subscribe("keyChanged", async (_origin, data) => {
          const keys = await this._poll();
          return {
            keyProcessed: keys.includes(data.key)
          };
        });
        this.receiver._subscribe("ping", async (_origin, _data) => {
          return [
            "keyChanged"
            /* _EventType.KEY_CHANGED */
          ];
        });
      }
      /**
       * As the main window, we should let the worker know when keys change (set and remove).
       *
       * @remarks
       * {@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/ready | ServiceWorkerContainer.ready}
       * may not resolve.
       */
      async initializeSender() {
        var _a, _b;
        this.activeServiceWorker = await _getActiveServiceWorker();
        if (!this.activeServiceWorker) {
          return;
        }
        this.sender = new Sender(this.activeServiceWorker);
        const results = await this.sender._send(
          "ping",
          {},
          800
          /* _TimeoutDuration.LONG_ACK */
        );
        if (!results) {
          return;
        }
        if (((_a = results[0]) === null || _a === void 0 ? void 0 : _a.fulfilled) && ((_b = results[0]) === null || _b === void 0 ? void 0 : _b.value.includes(
          "keyChanged"
          /* _EventType.KEY_CHANGED */
        ))) {
          this.serviceWorkerReceiverAvailable = true;
        }
      }
      /**
       * Let the worker know about a changed key, the exact key doesn't technically matter since the
       * worker will just trigger a full sync anyway.
       *
       * @remarks
       * For now, we only support one service worker per page.
       *
       * @param key - Storage key which changed.
       */
      async notifyServiceWorker(key) {
        if (!this.sender || !this.activeServiceWorker || _getServiceWorkerController() !== this.activeServiceWorker) {
          return;
        }
        try {
          await this.sender._send(
            "keyChanged",
            { key },
            // Use long timeout if receiver has previously responded to a ping from us.
            this.serviceWorkerReceiverAvailable ? 800 : 50
            /* _TimeoutDuration.ACK */
          );
        } catch (_a) {
        }
      }
      async _isAvailable() {
        try {
          if (!indexedDB) {
            return false;
          }
          const db = await _openDatabase();
          await _putObject(db, STORAGE_AVAILABLE_KEY, "1");
          await _deleteObject(db, STORAGE_AVAILABLE_KEY);
          return true;
        } catch (_a) {
        }
        return false;
      }
      async _withPendingWrite(write) {
        this.pendingWrites++;
        try {
          await write();
        } finally {
          this.pendingWrites--;
        }
      }
      async _set(key, value2) {
        return this._withPendingWrite(async () => {
          await this._withRetries((db) => _putObject(db, key, value2));
          this.localCache[key] = value2;
          return this.notifyServiceWorker(key);
        });
      }
      async _get(key) {
        const obj = await this._withRetries((db) => getObject(db, key));
        this.localCache[key] = obj;
        return obj;
      }
      async _remove(key) {
        return this._withPendingWrite(async () => {
          await this._withRetries((db) => _deleteObject(db, key));
          delete this.localCache[key];
          return this.notifyServiceWorker(key);
        });
      }
      async _poll() {
        const result = await this._withRetries((db) => {
          const getAllRequest = getObjectStore(db, false).getAll();
          return new DBPromise(getAllRequest).toPromise();
        });
        if (!result) {
          return [];
        }
        if (this.pendingWrites !== 0) {
          return [];
        }
        const keys = [];
        const keysInResult = /* @__PURE__ */ new Set();
        if (result.length !== 0) {
          for (const { fbase_key: key, value: value2 } of result) {
            keysInResult.add(key);
            if (JSON.stringify(this.localCache[key]) !== JSON.stringify(value2)) {
              this.notifyListeners(key, value2);
              keys.push(key);
            }
          }
        }
        for (const localKey of Object.keys(this.localCache)) {
          if (this.localCache[localKey] && !keysInResult.has(localKey)) {
            this.notifyListeners(localKey, null);
            keys.push(localKey);
          }
        }
        return keys;
      }
      notifyListeners(key, newValue) {
        this.localCache[key] = newValue;
        const listeners = this.listeners[key];
        if (listeners) {
          for (const listener of Array.from(listeners)) {
            listener(newValue);
          }
        }
      }
      startPolling() {
        this.stopPolling();
        this.pollTimer = setInterval(async () => this._poll(), _POLLING_INTERVAL_MS);
      }
      stopPolling() {
        if (this.pollTimer) {
          clearInterval(this.pollTimer);
          this.pollTimer = null;
        }
      }
      _addListener(key, listener) {
        if (Object.keys(this.listeners).length === 0) {
          this.startPolling();
        }
        if (!this.listeners[key]) {
          this.listeners[key] = /* @__PURE__ */ new Set();
          void this._get(key);
        }
        this.listeners[key].add(listener);
      }
      _removeListener(key, listener) {
        if (this.listeners[key]) {
          this.listeners[key].delete(listener);
          if (this.listeners[key].size === 0) {
            delete this.listeners[key];
          }
        }
        if (Object.keys(this.listeners).length === 0) {
          this.stopPolling();
        }
      }
    };
    IndexedDBLocalPersistence.type = "LOCAL";
    indexedDBLocalPersistence = IndexedDBLocalPersistence;
    _SOLVE_TIME_MS = 500;
    _EXPIRATION_TIME_MS = 6e4;
    _WIDGET_ID_START = 1e12;
    MockReCaptcha = class {
      constructor(auth2) {
        this.auth = auth2;
        this.counter = _WIDGET_ID_START;
        this._widgets = /* @__PURE__ */ new Map();
      }
      render(container, parameters) {
        const id = this.counter;
        this._widgets.set(id, new MockWidget(container, this.auth.name, parameters || {}));
        this.counter++;
        return id;
      }
      reset(optWidgetId) {
        var _a;
        const id = optWidgetId || _WIDGET_ID_START;
        void ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.delete());
        this._widgets.delete(id);
      }
      getResponse(optWidgetId) {
        var _a;
        const id = optWidgetId || _WIDGET_ID_START;
        return ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.getResponse()) || "";
      }
      async execute(optWidgetId) {
        var _a;
        const id = optWidgetId || _WIDGET_ID_START;
        void ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.execute());
        return "";
      }
    };
    MockWidget = class {
      constructor(containerOrId, appName, params) {
        this.params = params;
        this.timerId = null;
        this.deleted = false;
        this.responseToken = null;
        this.clickHandler = () => {
          this.execute();
        };
        const container = typeof containerOrId === "string" ? document.getElementById(containerOrId) : containerOrId;
        _assert(container, "argument-error", { appName });
        this.container = container;
        this.isVisible = this.params.size !== "invisible";
        if (this.isVisible) {
          this.execute();
        } else {
          this.container.addEventListener("click", this.clickHandler);
        }
      }
      getResponse() {
        this.checkIfDeleted();
        return this.responseToken;
      }
      delete() {
        this.checkIfDeleted();
        this.deleted = true;
        if (this.timerId) {
          clearTimeout(this.timerId);
          this.timerId = null;
        }
        this.container.removeEventListener("click", this.clickHandler);
      }
      execute() {
        this.checkIfDeleted();
        if (this.timerId) {
          return;
        }
        this.timerId = window.setTimeout(() => {
          this.responseToken = generateRandomAlphaNumericString(50);
          const { callback, "expired-callback": expiredCallback } = this.params;
          if (callback) {
            try {
              callback(this.responseToken);
            } catch (e3) {
            }
          }
          this.timerId = window.setTimeout(() => {
            this.timerId = null;
            this.responseToken = null;
            if (expiredCallback) {
              try {
                expiredCallback();
              } catch (e3) {
              }
            }
            if (this.isVisible) {
              this.execute();
            }
          }, _EXPIRATION_TIME_MS);
        }, _SOLVE_TIME_MS);
      }
      checkIfDeleted() {
        if (this.deleted) {
          throw new Error("reCAPTCHA mock was already deleted!");
        }
      }
    };
    _JSLOAD_CALLBACK = _generateCallbackName("rcb");
    NETWORK_TIMEOUT_DELAY = new Delay(3e4, 6e4);
    ReCaptchaLoaderImpl = class {
      constructor() {
        var _a;
        this.hostLanguage = "";
        this.counter = 0;
        this.librarySeparatelyLoaded = !!((_a = _window().grecaptcha) === null || _a === void 0 ? void 0 : _a.render);
      }
      load(auth2, hl = "") {
        _assert(
          isHostLanguageValid(hl),
          auth2,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        if (this.shouldResolveImmediately(hl) && isV2(_window().grecaptcha)) {
          return Promise.resolve(_window().grecaptcha);
        }
        return new Promise((resolve, reject) => {
          const networkTimeout = _window().setTimeout(() => {
            reject(_createError(
              auth2,
              "network-request-failed"
              /* AuthErrorCode.NETWORK_REQUEST_FAILED */
            ));
          }, NETWORK_TIMEOUT_DELAY.get());
          _window()[_JSLOAD_CALLBACK] = () => {
            _window().clearTimeout(networkTimeout);
            delete _window()[_JSLOAD_CALLBACK];
            const recaptcha = _window().grecaptcha;
            if (!recaptcha || !isV2(recaptcha)) {
              reject(_createError(
                auth2,
                "internal-error"
                /* AuthErrorCode.INTERNAL_ERROR */
              ));
              return;
            }
            const render = recaptcha.render;
            recaptcha.render = (container, params) => {
              const widgetId = render(container, params);
              this.counter++;
              return widgetId;
            };
            this.hostLanguage = hl;
            resolve(recaptcha);
          };
          const url = `${_recaptchaV2ScriptUrl()}?${querystring({
            onload: _JSLOAD_CALLBACK,
            render: "explicit",
            hl
          })}`;
          _loadJS(url).catch(() => {
            clearTimeout(networkTimeout);
            reject(_createError(
              auth2,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            ));
          });
        });
      }
      clearedOneInstance() {
        this.counter--;
      }
      shouldResolveImmediately(hl) {
        var _a;
        return !!((_a = _window().grecaptcha) === null || _a === void 0 ? void 0 : _a.render) && (hl === this.hostLanguage || this.counter > 0 || this.librarySeparatelyLoaded);
      }
    };
    MockReCaptchaLoaderImpl = class {
      async load(auth2) {
        return new MockReCaptcha(auth2);
      }
      clearedOneInstance() {
      }
    };
    RECAPTCHA_VERIFIER_TYPE = "recaptcha";
    DEFAULT_PARAMS = {
      theme: "light",
      type: "image"
    };
    RecaptchaVerifier = class {
      /**
       * @param authExtern - The corresponding Firebase {@link Auth} instance.
       *
       * @param containerOrId - The reCAPTCHA container parameter.
       *
       * @remarks
       * This has different meaning depending on whether the reCAPTCHA is hidden or visible. For a
       * visible reCAPTCHA the container must be empty. If a string is used, it has to correspond to
       * an element ID. The corresponding element must also must be in the DOM at the time of
       * initialization.
       *
       * @param parameters - The optional reCAPTCHA parameters.
       *
       * @remarks
       * Check the reCAPTCHA docs for a comprehensive list. All parameters are accepted except for
       * the sitekey. Firebase Auth backend provisions a reCAPTCHA for each project and will
       * configure this upon rendering. For an invisible reCAPTCHA, a size key must have the value
       * 'invisible'.
       */
      constructor(authExtern, containerOrId, parameters = Object.assign({}, DEFAULT_PARAMS)) {
        this.parameters = parameters;
        this.type = RECAPTCHA_VERIFIER_TYPE;
        this.destroyed = false;
        this.widgetId = null;
        this.tokenChangeListeners = /* @__PURE__ */ new Set();
        this.renderPromise = null;
        this.recaptcha = null;
        this.auth = _castAuth(authExtern);
        this.isInvisible = this.parameters.size === "invisible";
        _assert(
          typeof document !== "undefined",
          this.auth,
          "operation-not-supported-in-this-environment"
          /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
        );
        const container = typeof containerOrId === "string" ? document.getElementById(containerOrId) : containerOrId;
        _assert(
          container,
          this.auth,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        this.container = container;
        this.parameters.callback = this.makeTokenCallback(this.parameters.callback);
        this._recaptchaLoader = this.auth.settings.appVerificationDisabledForTesting ? new MockReCaptchaLoaderImpl() : new ReCaptchaLoaderImpl();
        this.validateStartingState();
      }
      /**
       * Waits for the user to solve the reCAPTCHA and resolves with the reCAPTCHA token.
       *
       * @returns A Promise for the reCAPTCHA token.
       */
      async verify() {
        this.assertNotDestroyed();
        const id = await this.render();
        const recaptcha = this.getAssertedRecaptcha();
        const response = recaptcha.getResponse(id);
        if (response) {
          return response;
        }
        return new Promise((resolve) => {
          const tokenChange = (token) => {
            if (!token) {
              return;
            }
            this.tokenChangeListeners.delete(tokenChange);
            resolve(token);
          };
          this.tokenChangeListeners.add(tokenChange);
          if (this.isInvisible) {
            recaptcha.execute(id);
          }
        });
      }
      /**
       * Renders the reCAPTCHA widget on the page.
       *
       * @returns A Promise that resolves with the reCAPTCHA widget ID.
       */
      render() {
        try {
          this.assertNotDestroyed();
        } catch (e3) {
          return Promise.reject(e3);
        }
        if (this.renderPromise) {
          return this.renderPromise;
        }
        this.renderPromise = this.makeRenderPromise().catch((e3) => {
          this.renderPromise = null;
          throw e3;
        });
        return this.renderPromise;
      }
      /** @internal */
      _reset() {
        this.assertNotDestroyed();
        if (this.widgetId !== null) {
          this.getAssertedRecaptcha().reset(this.widgetId);
        }
      }
      /**
       * Clears the reCAPTCHA widget from the page and destroys the instance.
       */
      clear() {
        this.assertNotDestroyed();
        this.destroyed = true;
        this._recaptchaLoader.clearedOneInstance();
        if (!this.isInvisible) {
          this.container.childNodes.forEach((node) => {
            this.container.removeChild(node);
          });
        }
      }
      validateStartingState() {
        _assert(
          !this.parameters.sitekey,
          this.auth,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        _assert(
          this.isInvisible || !this.container.hasChildNodes(),
          this.auth,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        _assert(
          typeof document !== "undefined",
          this.auth,
          "operation-not-supported-in-this-environment"
          /* AuthErrorCode.OPERATION_NOT_SUPPORTED */
        );
      }
      makeTokenCallback(existing) {
        return (token) => {
          this.tokenChangeListeners.forEach((listener) => listener(token));
          if (typeof existing === "function") {
            existing(token);
          } else if (typeof existing === "string") {
            const globalFunc = _window()[existing];
            if (typeof globalFunc === "function") {
              globalFunc(token);
            }
          }
        };
      }
      assertNotDestroyed() {
        _assert(
          !this.destroyed,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
      }
      async makeRenderPromise() {
        await this.init();
        if (!this.widgetId) {
          let container = this.container;
          if (!this.isInvisible) {
            const guaranteedEmpty = document.createElement("div");
            container.appendChild(guaranteedEmpty);
            container = guaranteedEmpty;
          }
          this.widgetId = this.getAssertedRecaptcha().render(container, this.parameters);
        }
        return this.widgetId;
      }
      async init() {
        _assert(
          _isHttpOrHttps() && !_isWorker(),
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        await domReady();
        this.recaptcha = await this._recaptchaLoader.load(this.auth, this.auth.languageCode || void 0);
        const siteKey = await getRecaptchaParams(this.auth);
        _assert(
          siteKey,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        this.parameters.sitekey = siteKey;
      }
      getAssertedRecaptcha() {
        _assert(
          this.recaptcha,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return this.recaptcha;
      }
    };
    ConfirmationResultImpl = class {
      constructor(verificationId, onConfirmation) {
        this.verificationId = verificationId;
        this.onConfirmation = onConfirmation;
      }
      confirm(verificationCode) {
        const authCredential = PhoneAuthCredential._fromVerification(this.verificationId, verificationCode);
        return this.onConfirmation(authCredential);
      }
    };
    PhoneAuthProvider = class _PhoneAuthProvider {
      /**
       * @param auth - The Firebase {@link Auth} instance in which sign-ins should occur.
       *
       */
      constructor(auth2) {
        this.providerId = _PhoneAuthProvider.PROVIDER_ID;
        this.auth = _castAuth(auth2);
      }
      /**
       *
       * Starts a phone number authentication flow by sending a verification code to the given phone
       * number.
       *
       * @example
       * ```javascript
       * const provider = new PhoneAuthProvider(auth);
       * const verificationId = await provider.verifyPhoneNumber(phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);
       * const userCredential = await signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * An alternative flow is provided using the `signInWithPhoneNumber` method.
       * ```javascript
       * const confirmationResult = signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const userCredential = confirmationResult.confirm(verificationCode);
       * ```
       *
       * @param phoneInfoOptions - The user's {@link PhoneInfoOptions}. The phone number should be in
       * E.164 format (e.g. +16505550101).
       * @param applicationVerifier - For abuse prevention, this method also requires a
       * {@link ApplicationVerifier}. This SDK includes a reCAPTCHA-based implementation,
       * {@link RecaptchaVerifier}.
       *
       * @returns A Promise for a verification ID that can be passed to
       * {@link PhoneAuthProvider.credential} to identify this flow..
       */
      verifyPhoneNumber(phoneOptions, applicationVerifier) {
        return _verifyPhoneNumber(this.auth, phoneOptions, getModularInstance(applicationVerifier));
      }
      /**
       * Creates a phone auth credential, given the verification ID from
       * {@link PhoneAuthProvider.verifyPhoneNumber} and the code that was sent to the user's
       * mobile device.
       *
       * @example
       * ```javascript
       * const provider = new PhoneAuthProvider(auth);
       * const verificationId = provider.verifyPhoneNumber(phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);
       * const userCredential = signInWithCredential(auth, authCredential);
       * ```
       *
       * @example
       * An alternative flow is provided using the `signInWithPhoneNumber` method.
       * ```javascript
       * const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);
       * // Obtain verificationCode from the user.
       * const userCredential = await confirmationResult.confirm(verificationCode);
       * ```
       *
       * @param verificationId - The verification ID returned from {@link PhoneAuthProvider.verifyPhoneNumber}.
       * @param verificationCode - The verification code sent to the user's mobile device.
       *
       * @returns The auth provider credential.
       */
      static credential(verificationId, verificationCode) {
        return PhoneAuthCredential._fromVerification(verificationId, verificationCode);
      }
      /**
       * Generates an {@link AuthCredential} from a {@link UserCredential}.
       * @param userCredential - The user credential.
       */
      static credentialFromResult(userCredential) {
        const credential = userCredential;
        return _PhoneAuthProvider.credentialFromTaggedObject(credential);
      }
      /**
       * Returns an {@link AuthCredential} when passed an error.
       *
       * @remarks
       *
       * This method works for errors like
       * `auth/account-exists-with-different-credentials`. This is useful for
       * recovering when attempting to set a user's phone number but the number
       * in question is already tied to another account. For example, the following
       * code tries to update the current user's phone number, and if that
       * fails, links the user with the account associated with that number:
       *
       * ```js
       * const provider = new PhoneAuthProvider(auth);
       * const verificationId = await provider.verifyPhoneNumber(number, verifier);
       * try {
       *   const code = ''; // Prompt the user for the verification code
       *   await updatePhoneNumber(
       *       auth.currentUser,
       *       PhoneAuthProvider.credential(verificationId, code));
       * } catch (e) {
       *   if ((e as FirebaseError)?.code === 'auth/account-exists-with-different-credential') {
       *     const cred = PhoneAuthProvider.credentialFromError(e);
       *     await linkWithCredential(auth.currentUser, cred);
       *   }
       * }
       *
       * // At this point, auth.currentUser.phoneNumber === number.
       * ```
       *
       * @param error - The error to generate a credential from.
       */
      static credentialFromError(error2) {
        return _PhoneAuthProvider.credentialFromTaggedObject(error2.customData || {});
      }
      static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {
        if (!tokenResponse) {
          return null;
        }
        const { phoneNumber, temporaryProof } = tokenResponse;
        if (phoneNumber && temporaryProof) {
          return PhoneAuthCredential._fromTokenResponse(phoneNumber, temporaryProof);
        }
        return null;
      }
    };
    PhoneAuthProvider.PROVIDER_ID = "phone";
    PhoneAuthProvider.PHONE_SIGN_IN_METHOD = "phone";
    IdpCredential = class extends AuthCredential {
      constructor(params) {
        super(
          "custom",
          "custom"
          /* ProviderId.CUSTOM */
        );
        this.params = params;
      }
      _getIdTokenResponse(auth2) {
        return signInWithIdp(auth2, this._buildIdpRequest());
      }
      _linkToIdToken(auth2, idToken) {
        return signInWithIdp(auth2, this._buildIdpRequest(idToken));
      }
      _getReauthenticationResolver(auth2) {
        return signInWithIdp(auth2, this._buildIdpRequest());
      }
      _buildIdpRequest(idToken) {
        const request = {
          requestUri: this.params.requestUri,
          sessionId: this.params.sessionId,
          postBody: this.params.postBody,
          tenantId: this.params.tenantId,
          pendingToken: this.params.pendingToken,
          returnSecureToken: true,
          returnIdpCredential: true
        };
        if (idToken) {
          request.idToken = idToken;
        }
        return request;
      }
    };
    AbstractPopupRedirectOperation = class {
      constructor(auth2, filter2, resolver, user, bypassAuthState = false) {
        this.auth = auth2;
        this.resolver = resolver;
        this.user = user;
        this.bypassAuthState = bypassAuthState;
        this.pendingPromise = null;
        this.eventManager = null;
        this.filter = Array.isArray(filter2) ? filter2 : [filter2];
      }
      execute() {
        return new Promise(async (resolve, reject) => {
          this.pendingPromise = { resolve, reject };
          try {
            this.eventManager = await this.resolver._initialize(this.auth);
            await this.onExecution();
            this.eventManager.registerConsumer(this);
          } catch (e3) {
            this.reject(e3);
          }
        });
      }
      async onAuthEvent(event) {
        const { urlResponse, sessionId, postBody, tenantId, error: error2, type: type2 } = event;
        if (error2) {
          this.reject(error2);
          return;
        }
        const params = {
          auth: this.auth,
          requestUri: urlResponse,
          sessionId,
          tenantId: tenantId || void 0,
          postBody: postBody || void 0,
          user: this.user,
          bypassAuthState: this.bypassAuthState
        };
        try {
          this.resolve(await this.getIdpTask(type2)(params));
        } catch (e3) {
          this.reject(e3);
        }
      }
      onError(error2) {
        this.reject(error2);
      }
      getIdpTask(type2) {
        switch (type2) {
          case "signInViaPopup":
          case "signInViaRedirect":
            return _signIn;
          case "linkViaPopup":
          case "linkViaRedirect":
            return _link;
          case "reauthViaPopup":
          case "reauthViaRedirect":
            return _reauth;
          default:
            _fail(
              this.auth,
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
        }
      }
      resolve(cred) {
        debugAssert(this.pendingPromise, "Pending promise was never set");
        this.pendingPromise.resolve(cred);
        this.unregisterAndCleanUp();
      }
      reject(error2) {
        debugAssert(this.pendingPromise, "Pending promise was never set");
        this.pendingPromise.reject(error2);
        this.unregisterAndCleanUp();
      }
      unregisterAndCleanUp() {
        if (this.eventManager) {
          this.eventManager.unregisterConsumer(this);
        }
        this.pendingPromise = null;
        this.cleanUp();
      }
    };
    _POLL_WINDOW_CLOSE_TIMEOUT = new Delay(2e3, 1e4);
    PopupOperation = class _PopupOperation extends AbstractPopupRedirectOperation {
      constructor(auth2, filter2, provider, resolver, user) {
        super(auth2, filter2, resolver, user);
        this.provider = provider;
        this.authWindow = null;
        this.pollId = null;
        if (_PopupOperation.currentPopupAction) {
          _PopupOperation.currentPopupAction.cancel();
        }
        _PopupOperation.currentPopupAction = this;
      }
      async executeNotNull() {
        const result = await this.execute();
        _assert(
          result,
          this.auth,
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        return result;
      }
      async onExecution() {
        debugAssert(this.filter.length === 1, "Popup operations only handle one event");
        const eventId = _generateEventId();
        this.authWindow = await this.resolver._openPopup(
          this.auth,
          this.provider,
          this.filter[0],
          // There's always one, see constructor
          eventId
        );
        this.authWindow.associatedEvent = eventId;
        this.resolver._originValidation(this.auth).catch((e3) => {
          this.reject(e3);
        });
        this.resolver._isIframeWebStorageSupported(this.auth, (isSupported) => {
          if (!isSupported) {
            this.reject(_createError(
              this.auth,
              "web-storage-unsupported"
              /* AuthErrorCode.WEB_STORAGE_UNSUPPORTED */
            ));
          }
        });
        this.pollUserCancellation();
      }
      get eventId() {
        var _a;
        return ((_a = this.authWindow) === null || _a === void 0 ? void 0 : _a.associatedEvent) || null;
      }
      cancel() {
        this.reject(_createError(
          this.auth,
          "cancelled-popup-request"
          /* AuthErrorCode.EXPIRED_POPUP_REQUEST */
        ));
      }
      cleanUp() {
        if (this.authWindow) {
          this.authWindow.close();
        }
        if (this.pollId) {
          window.clearTimeout(this.pollId);
        }
        this.authWindow = null;
        this.pollId = null;
        _PopupOperation.currentPopupAction = null;
      }
      pollUserCancellation() {
        const poll = () => {
          var _a, _b;
          if ((_b = (_a = this.authWindow) === null || _a === void 0 ? void 0 : _a.window) === null || _b === void 0 ? void 0 : _b.closed) {
            this.pollId = window.setTimeout(
              () => {
                this.pollId = null;
                this.reject(_createError(
                  this.auth,
                  "popup-closed-by-user"
                  /* AuthErrorCode.POPUP_CLOSED_BY_USER */
                ));
              },
              8e3
              /* _Timeout.AUTH_EVENT */
            );
            return;
          }
          this.pollId = window.setTimeout(poll, _POLL_WINDOW_CLOSE_TIMEOUT.get());
        };
        poll();
      }
    };
    PopupOperation.currentPopupAction = null;
    PENDING_REDIRECT_KEY = "pendingRedirect";
    redirectOutcomeMap = /* @__PURE__ */ new Map();
    RedirectAction = class extends AbstractPopupRedirectOperation {
      constructor(auth2, resolver, bypassAuthState = false) {
        super(auth2, [
          "signInViaRedirect",
          "linkViaRedirect",
          "reauthViaRedirect",
          "unknown"
          /* AuthEventType.UNKNOWN */
        ], resolver, void 0, bypassAuthState);
        this.eventId = null;
      }
      /**
       * Override the execute function; if we already have a redirect result, then
       * just return it.
       */
      async execute() {
        let readyOutcome = redirectOutcomeMap.get(this.auth._key());
        if (!readyOutcome) {
          try {
            const hasPendingRedirect = await _getAndClearPendingRedirectStatus(this.resolver, this.auth);
            const result = hasPendingRedirect ? await super.execute() : null;
            readyOutcome = () => Promise.resolve(result);
          } catch (e3) {
            readyOutcome = () => Promise.reject(e3);
          }
          redirectOutcomeMap.set(this.auth._key(), readyOutcome);
        }
        if (!this.bypassAuthState) {
          redirectOutcomeMap.set(this.auth._key(), () => Promise.resolve(null));
        }
        return readyOutcome();
      }
      async onAuthEvent(event) {
        if (event.type === "signInViaRedirect") {
          return super.onAuthEvent(event);
        } else if (event.type === "unknown") {
          this.resolve(null);
          return;
        }
        if (event.eventId) {
          const user = await this.auth._redirectUserForId(event.eventId);
          if (user) {
            this.user = user;
            return super.onAuthEvent(event);
          } else {
            this.resolve(null);
          }
        }
      }
      async onExecution() {
      }
      cleanUp() {
      }
    };
    EVENT_DUPLICATION_CACHE_DURATION_MS = 10 * 60 * 1e3;
    AuthEventManager = class {
      constructor(auth2) {
        this.auth = auth2;
        this.cachedEventUids = /* @__PURE__ */ new Set();
        this.consumers = /* @__PURE__ */ new Set();
        this.queuedRedirectEvent = null;
        this.hasHandledPotentialRedirect = false;
        this.lastProcessedEventTime = Date.now();
      }
      registerConsumer(authEventConsumer) {
        this.consumers.add(authEventConsumer);
        if (this.queuedRedirectEvent && this.isEventForConsumer(this.queuedRedirectEvent, authEventConsumer)) {
          this.sendToConsumer(this.queuedRedirectEvent, authEventConsumer);
          this.saveEventToCache(this.queuedRedirectEvent);
          this.queuedRedirectEvent = null;
        }
      }
      unregisterConsumer(authEventConsumer) {
        this.consumers.delete(authEventConsumer);
      }
      onEvent(event) {
        if (this.hasEventBeenHandled(event)) {
          return false;
        }
        let handled = false;
        this.consumers.forEach((consumer) => {
          if (this.isEventForConsumer(event, consumer)) {
            handled = true;
            this.sendToConsumer(event, consumer);
            this.saveEventToCache(event);
          }
        });
        if (this.hasHandledPotentialRedirect || !isRedirectEvent(event)) {
          return handled;
        }
        this.hasHandledPotentialRedirect = true;
        if (!handled) {
          this.queuedRedirectEvent = event;
          handled = true;
        }
        return handled;
      }
      sendToConsumer(event, consumer) {
        var _a;
        if (event.error && !isNullRedirectEvent(event)) {
          const code = ((_a = event.error.code) === null || _a === void 0 ? void 0 : _a.split("auth/")[1]) || "internal-error";
          consumer.onError(_createError(this.auth, code));
        } else {
          consumer.onAuthEvent(event);
        }
      }
      isEventForConsumer(event, consumer) {
        const eventIdMatches = consumer.eventId === null || !!event.eventId && event.eventId === consumer.eventId;
        return consumer.filter.includes(event.type) && eventIdMatches;
      }
      hasEventBeenHandled(event) {
        if (Date.now() - this.lastProcessedEventTime >= EVENT_DUPLICATION_CACHE_DURATION_MS) {
          this.cachedEventUids.clear();
        }
        return this.cachedEventUids.has(eventUid(event));
      }
      saveEventToCache(event) {
        this.cachedEventUids.add(eventUid(event));
        this.lastProcessedEventTime = Date.now();
      }
    };
    IP_ADDRESS_REGEX = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;
    HTTP_REGEX = /^https?/;
    NETWORK_TIMEOUT = new Delay(3e4, 6e4);
    cachedGApiLoader = null;
    PING_TIMEOUT = new Delay(5e3, 15e3);
    IFRAME_PATH = "__/auth/iframe";
    EMULATED_IFRAME_PATH = "emulator/auth/iframe";
    IFRAME_ATTRIBUTES = {
      style: {
        position: "absolute",
        top: "-100px",
        width: "1px",
        height: "1px"
      },
      "aria-hidden": "true",
      tabindex: "-1"
    };
    EID_FROM_APIHOST = /* @__PURE__ */ new Map([
      ["identitytoolkit.googleapis.com", "p"],
      ["staging-identitytoolkit.sandbox.googleapis.com", "s"],
      ["test-identitytoolkit.sandbox.googleapis.com", "t"]
      // test
    ]);
    BASE_POPUP_OPTIONS = {
      location: "yes",
      resizable: "yes",
      statusbar: "yes",
      toolbar: "no"
    };
    DEFAULT_WIDTH = 500;
    DEFAULT_HEIGHT = 600;
    TARGET_BLANK = "_blank";
    FIREFOX_EMPTY_URL = "http://localhost";
    AuthPopup = class {
      constructor(window2) {
        this.window = window2;
        this.associatedEvent = null;
      }
      close() {
        if (this.window) {
          try {
            this.window.close();
          } catch (e3) {
          }
        }
      }
    };
    WIDGET_PATH = "__/auth/handler";
    EMULATOR_WIDGET_PATH = "emulator/auth/handler";
    FIREBASE_APP_CHECK_FRAGMENT_ID = encodeURIComponent("fac");
    WEB_STORAGE_SUPPORT_KEY = "webStorageSupport";
    BrowserPopupRedirectResolver = class {
      constructor() {
        this.eventManagers = {};
        this.iframes = {};
        this.originValidationPromises = {};
        this._redirectPersistence = browserSessionPersistence;
        this._completeRedirectFn = _getRedirectResult;
        this._overrideRedirectResult = _overrideRedirectResult;
      }
      // Wrapping in async even though we don't await anywhere in order
      // to make sure errors are raised as promise rejections
      async _openPopup(auth2, provider, authType, eventId) {
        var _a;
        debugAssert((_a = this.eventManagers[auth2._key()]) === null || _a === void 0 ? void 0 : _a.manager, "_initialize() not called before _openPopup()");
        const url = await _getRedirectUrl(auth2, provider, authType, _getCurrentUrl(), eventId);
        return _open(auth2, url, _generateEventId());
      }
      async _openRedirect(auth2, provider, authType, eventId) {
        await this._originValidation(auth2);
        const url = await _getRedirectUrl(auth2, provider, authType, _getCurrentUrl(), eventId);
        _setWindowLocation(url);
        return new Promise(() => {
        });
      }
      _initialize(auth2) {
        const key = auth2._key();
        if (this.eventManagers[key]) {
          const { manager, promise: promise2 } = this.eventManagers[key];
          if (manager) {
            return Promise.resolve(manager);
          } else {
            debugAssert(promise2, "If manager is not set, promise should be");
            return promise2;
          }
        }
        const promise = this.initAndGetManager(auth2);
        this.eventManagers[key] = { promise };
        promise.catch(() => {
          delete this.eventManagers[key];
        });
        return promise;
      }
      async initAndGetManager(auth2) {
        const iframe = await _openIframe(auth2);
        const manager = new AuthEventManager(auth2);
        iframe.register("authEvent", (iframeEvent) => {
          _assert(
            iframeEvent === null || iframeEvent === void 0 ? void 0 : iframeEvent.authEvent,
            auth2,
            "invalid-auth-event"
            /* AuthErrorCode.INVALID_AUTH_EVENT */
          );
          const handled = manager.onEvent(iframeEvent.authEvent);
          return {
            status: handled ? "ACK" : "ERROR"
            /* GapiOutcome.ERROR */
          };
        }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);
        this.eventManagers[auth2._key()] = { manager };
        this.iframes[auth2._key()] = iframe;
        return manager;
      }
      _isIframeWebStorageSupported(auth2, cb) {
        const iframe = this.iframes[auth2._key()];
        iframe.send(WEB_STORAGE_SUPPORT_KEY, { type: WEB_STORAGE_SUPPORT_KEY }, (result) => {
          var _a;
          const isSupported = (_a = result === null || result === void 0 ? void 0 : result[0]) === null || _a === void 0 ? void 0 : _a[WEB_STORAGE_SUPPORT_KEY];
          if (isSupported !== void 0) {
            cb(!!isSupported);
          }
          _fail(
            auth2,
            "internal-error"
            /* AuthErrorCode.INTERNAL_ERROR */
          );
        }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);
      }
      _originValidation(auth2) {
        const key = auth2._key();
        if (!this.originValidationPromises[key]) {
          this.originValidationPromises[key] = _validateOrigin(auth2);
        }
        return this.originValidationPromises[key];
      }
      get _shouldInitProactively() {
        return _isMobileBrowser() || _isSafari() || _isIOS();
      }
    };
    browserPopupRedirectResolver = BrowserPopupRedirectResolver;
    MultiFactorAssertionImpl = class {
      constructor(factorId) {
        this.factorId = factorId;
      }
      _process(auth2, session, displayName) {
        switch (session.type) {
          case "enroll":
            return this._finalizeEnroll(auth2, session.credential, displayName);
          case "signin":
            return this._finalizeSignIn(auth2, session.credential);
          default:
            return debugFail("unexpected MultiFactorSessionType");
        }
      }
    };
    PhoneMultiFactorAssertionImpl = class _PhoneMultiFactorAssertionImpl extends MultiFactorAssertionImpl {
      constructor(credential) {
        super(
          "phone"
          /* FactorId.PHONE */
        );
        this.credential = credential;
      }
      /** @internal */
      static _fromCredential(credential) {
        return new _PhoneMultiFactorAssertionImpl(credential);
      }
      /** @internal */
      _finalizeEnroll(auth2, idToken, displayName) {
        return finalizeEnrollPhoneMfa(auth2, {
          idToken,
          displayName,
          phoneVerificationInfo: this.credential._makeVerificationRequest()
        });
      }
      /** @internal */
      _finalizeSignIn(auth2, mfaPendingCredential) {
        return finalizeSignInPhoneMfa(auth2, {
          mfaPendingCredential,
          phoneVerificationInfo: this.credential._makeVerificationRequest()
        });
      }
    };
    PhoneMultiFactorGenerator = class {
      constructor() {
      }
      /**
       * Provides a {@link PhoneMultiFactorAssertion} to confirm ownership of the phone second factor.
       *
       * @remarks
       * This method does not work in a Node.js environment.
       *
       * @param phoneAuthCredential - A credential provided by {@link PhoneAuthProvider.credential}.
       * @returns A {@link PhoneMultiFactorAssertion} which can be used with
       * {@link MultiFactorResolver.resolveSignIn}
       */
      static assertion(credential) {
        return PhoneMultiFactorAssertionImpl._fromCredential(credential);
      }
    };
    PhoneMultiFactorGenerator.FACTOR_ID = "phone";
    TotpMultiFactorGenerator = class {
      /**
       * Provides a {@link TotpMultiFactorAssertion} to confirm ownership of
       * the TOTP (time-based one-time password) second factor.
       * This assertion is used to complete enrollment in TOTP second factor.
       *
       * @param secret A {@link TotpSecret} containing the shared secret key and other TOTP parameters.
       * @param oneTimePassword One-time password from TOTP App.
       * @returns A {@link TotpMultiFactorAssertion} which can be used with
       * {@link MultiFactorUser.enroll}.
       */
      static assertionForEnrollment(secret, oneTimePassword) {
        return TotpMultiFactorAssertionImpl._fromSecret(secret, oneTimePassword);
      }
      /**
       * Provides a {@link TotpMultiFactorAssertion} to confirm ownership of the TOTP second factor.
       * This assertion is used to complete signIn with TOTP as the second factor.
       *
       * @param enrollmentId identifies the enrolled TOTP second factor.
       * @param oneTimePassword One-time password from TOTP App.
       * @returns A {@link TotpMultiFactorAssertion} which can be used with
       * {@link MultiFactorResolver.resolveSignIn}.
       */
      static assertionForSignIn(enrollmentId, oneTimePassword) {
        return TotpMultiFactorAssertionImpl._fromEnrollmentId(enrollmentId, oneTimePassword);
      }
      /**
       * Returns a promise to {@link TotpSecret} which contains the TOTP shared secret key and other parameters.
       * Creates a TOTP secret as part of enrolling a TOTP second factor.
       * Used for generating a QR code URL or inputting into a TOTP app.
       * This method uses the auth instance corresponding to the user in the multiFactorSession.
       *
       * @param session The {@link MultiFactorSession} that the user is part of.
       * @returns A promise to {@link TotpSecret}.
       */
      static async generateSecret(session) {
        var _a;
        const mfaSession = session;
        _assert(
          typeof ((_a = mfaSession.user) === null || _a === void 0 ? void 0 : _a.auth) !== "undefined",
          "internal-error"
          /* AuthErrorCode.INTERNAL_ERROR */
        );
        const response = await startEnrollTotpMfa(mfaSession.user.auth, {
          idToken: mfaSession.credential,
          totpEnrollmentInfo: {}
        });
        return TotpSecret._fromStartTotpMfaEnrollmentResponse(response, mfaSession.user.auth);
      }
    };
    TotpMultiFactorGenerator.FACTOR_ID = "totp";
    TotpMultiFactorAssertionImpl = class _TotpMultiFactorAssertionImpl extends MultiFactorAssertionImpl {
      constructor(otp, enrollmentId, secret) {
        super(
          "totp"
          /* FactorId.TOTP */
        );
        this.otp = otp;
        this.enrollmentId = enrollmentId;
        this.secret = secret;
      }
      /** @internal */
      static _fromSecret(secret, otp) {
        return new _TotpMultiFactorAssertionImpl(otp, void 0, secret);
      }
      /** @internal */
      static _fromEnrollmentId(enrollmentId, otp) {
        return new _TotpMultiFactorAssertionImpl(otp, enrollmentId);
      }
      /** @internal */
      async _finalizeEnroll(auth2, idToken, displayName) {
        _assert(
          typeof this.secret !== "undefined",
          auth2,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        return finalizeEnrollTotpMfa(auth2, {
          idToken,
          displayName,
          totpVerificationInfo: this.secret._makeTotpVerificationInfo(this.otp)
        });
      }
      /** @internal */
      async _finalizeSignIn(auth2, mfaPendingCredential) {
        _assert(
          this.enrollmentId !== void 0 && this.otp !== void 0,
          auth2,
          "argument-error"
          /* AuthErrorCode.ARGUMENT_ERROR */
        );
        const totpVerificationInfo = { verificationCode: this.otp };
        return finalizeSignInTotpMfa(auth2, {
          mfaPendingCredential,
          mfaEnrollmentId: this.enrollmentId,
          totpVerificationInfo
        });
      }
    };
    TotpSecret = class _TotpSecret {
      // The public members are declared outside the constructor so the docs can be generated.
      constructor(secretKey, hashingAlgorithm, codeLength, codeIntervalSeconds, enrollmentCompletionDeadline, sessionInfo, auth2) {
        this.sessionInfo = sessionInfo;
        this.auth = auth2;
        this.secretKey = secretKey;
        this.hashingAlgorithm = hashingAlgorithm;
        this.codeLength = codeLength;
        this.codeIntervalSeconds = codeIntervalSeconds;
        this.enrollmentCompletionDeadline = enrollmentCompletionDeadline;
      }
      /** @internal */
      static _fromStartTotpMfaEnrollmentResponse(response, auth2) {
        return new _TotpSecret(response.totpSessionInfo.sharedSecretKey, response.totpSessionInfo.hashingAlgorithm, response.totpSessionInfo.verificationCodeLength, response.totpSessionInfo.periodSec, new Date(response.totpSessionInfo.finalizeEnrollmentTime).toUTCString(), response.totpSessionInfo.sessionInfo, auth2);
      }
      /** @internal */
      _makeTotpVerificationInfo(otp) {
        return { sessionInfo: this.sessionInfo, verificationCode: otp };
      }
      /**
       * Returns a QR code URL as described in
       * https://github.com/google/google-authenticator/wiki/Key-Uri-Format
       * This can be displayed to the user as a QR code to be scanned into a TOTP app like Google Authenticator.
       * If the optional parameters are unspecified, an accountName of <userEmail> and issuer of <firebaseAppName> are used.
       *
       * @param accountName the name of the account/app along with a user identifier.
       * @param issuer issuer of the TOTP (likely the app name).
       * @returns A QR code URL string.
       */
      generateQrCodeUrl(accountName, issuer) {
        var _a;
        let useDefaults = false;
        if (_isEmptyString(accountName) || _isEmptyString(issuer)) {
          useDefaults = true;
        }
        if (useDefaults) {
          if (_isEmptyString(accountName)) {
            accountName = ((_a = this.auth.currentUser) === null || _a === void 0 ? void 0 : _a.email) || "unknownuser";
          }
          if (_isEmptyString(issuer)) {
            issuer = this.auth.name;
          }
        }
        return `otpauth://totp/${issuer}:${accountName}?secret=${this.secretKey}&issuer=${issuer}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`;
      }
    };
    name4 = "@firebase/auth";
    version3 = "1.7.9";
    AuthInterop = class {
      constructor(auth2) {
        this.auth = auth2;
        this.internalListeners = /* @__PURE__ */ new Map();
      }
      getUid() {
        var _a;
        this.assertAuthConfigured();
        return ((_a = this.auth.currentUser) === null || _a === void 0 ? void 0 : _a.uid) || null;
      }
      async getToken(forceRefresh) {
        this.assertAuthConfigured();
        await this.auth._initializationPromise;
        if (!this.auth.currentUser) {
          return null;
        }
        const accessToken = await this.auth.currentUser.getIdToken(forceRefresh);
        return { accessToken };
      }
      addAuthTokenListener(listener) {
        this.assertAuthConfigured();
        if (this.internalListeners.has(listener)) {
          return;
        }
        const unsubscribe = this.auth.onIdTokenChanged((user) => {
          listener((user === null || user === void 0 ? void 0 : user.stsTokenManager.accessToken) || null);
        });
        this.internalListeners.set(listener, unsubscribe);
        this.updateProactiveRefresh();
      }
      removeAuthTokenListener(listener) {
        this.assertAuthConfigured();
        const unsubscribe = this.internalListeners.get(listener);
        if (!unsubscribe) {
          return;
        }
        this.internalListeners.delete(listener);
        unsubscribe();
        this.updateProactiveRefresh();
      }
      assertAuthConfigured() {
        _assert(
          this.auth._initializationPromise,
          "dependent-sdk-initialized-before-auth"
          /* AuthErrorCode.DEPENDENT_SDK_INIT_BEFORE_AUTH */
        );
      }
      updateProactiveRefresh() {
        if (this.internalListeners.size > 0) {
          this.auth._startProactiveRefresh();
        } else {
          this.auth._stopProactiveRefresh();
        }
      }
    };
    DEFAULT_ID_TOKEN_MAX_AGE = 5 * 60;
    authIdTokenMaxAge = getExperimentalSetting("authIdTokenMaxAge") || DEFAULT_ID_TOKEN_MAX_AGE;
    lastPostedIdToken = null;
    mintCookieFactory = (url) => async (user) => {
      const idTokenResult = user && await user.getIdTokenResult();
      const idTokenAge = idTokenResult && ((/* @__PURE__ */ new Date()).getTime() - Date.parse(idTokenResult.issuedAtTime)) / 1e3;
      if (idTokenAge && idTokenAge > authIdTokenMaxAge) {
        return;
      }
      const idToken = idTokenResult === null || idTokenResult === void 0 ? void 0 : idTokenResult.token;
      if (lastPostedIdToken === idToken) {
        return;
      }
      lastPostedIdToken = idToken;
      await fetch(url, {
        method: idToken ? "POST" : "DELETE",
        headers: idToken ? {
          "Authorization": `Bearer ${idToken}`
        } : {}
      });
    };
    _setExternalJSProvider({
      loadJS(url) {
        return new Promise((resolve, reject) => {
          const el = document.createElement("script");
          el.setAttribute("src", url);
          el.onload = resolve;
          el.onerror = (e3) => {
            const error2 = _createError(
              "internal-error"
              /* AuthErrorCode.INTERNAL_ERROR */
            );
            error2.customData = e3;
            reject(error2);
          };
          el.type = "text/javascript";
          el.charset = "UTF-8";
          getScriptParentElement().appendChild(el);
        });
      },
      gapiScript: "https://apis.google.com/js/api.js",
      recaptchaV2Script: "https://www.google.com/recaptcha/api.js",
      recaptchaEnterpriseScript: "https://www.google.com/recaptcha/enterprise.js?render="
    });
    registerAuth(
      "Browser"
      /* ClientPlatform.BROWSER */
    );
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index.js
var init_esm2017 = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@firebase/auth@1.7.9_@firebase+app@0.10.13/node_modules/@firebase/auth/dist/esm2017/index.js"() {
    init_index_68602d24();
    init_index_esm20174();
    init_index_esm2017();
    init_index_esm20173();
    init_index_esm20172();
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/firebase@10.14.1_@firebase+app@0.10.13_@firebase+app-compat@0.2.43_@firebase+app-types@0.9.2/node_modules/firebase/auth/dist/esm/index.esm.js
var index_esm_exports = {};
__export(index_esm_exports, {
  ActionCodeOperation: () => ActionCodeOperation,
  ActionCodeURL: () => ActionCodeURL,
  AuthCredential: () => AuthCredential,
  AuthErrorCodes: () => AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY,
  EmailAuthCredential: () => EmailAuthCredential,
  EmailAuthProvider: () => EmailAuthProvider,
  FacebookAuthProvider: () => FacebookAuthProvider,
  FactorId: () => FactorId,
  GithubAuthProvider: () => GithubAuthProvider,
  GoogleAuthProvider: () => GoogleAuthProvider,
  OAuthCredential: () => OAuthCredential,
  OAuthProvider: () => OAuthProvider,
  OperationType: () => OperationType,
  PhoneAuthCredential: () => PhoneAuthCredential,
  PhoneAuthProvider: () => PhoneAuthProvider,
  PhoneMultiFactorGenerator: () => PhoneMultiFactorGenerator,
  ProviderId: () => ProviderId,
  RecaptchaVerifier: () => RecaptchaVerifier,
  SAMLAuthProvider: () => SAMLAuthProvider,
  SignInMethod: () => SignInMethod,
  TotpMultiFactorGenerator: () => TotpMultiFactorGenerator,
  TotpSecret: () => TotpSecret,
  TwitterAuthProvider: () => TwitterAuthProvider,
  applyActionCode: () => applyActionCode,
  beforeAuthStateChanged: () => beforeAuthStateChanged,
  browserLocalPersistence: () => browserLocalPersistence,
  browserPopupRedirectResolver: () => browserPopupRedirectResolver,
  browserSessionPersistence: () => browserSessionPersistence,
  checkActionCode: () => checkActionCode,
  confirmPasswordReset: () => confirmPasswordReset,
  connectAuthEmulator: () => connectAuthEmulator,
  createUserWithEmailAndPassword: () => createUserWithEmailAndPassword,
  debugErrorMap: () => debugErrorMap,
  deleteUser: () => deleteUser,
  fetchSignInMethodsForEmail: () => fetchSignInMethodsForEmail,
  getAdditionalUserInfo: () => getAdditionalUserInfo,
  getAuth: () => getAuth,
  getIdToken: () => getIdToken,
  getIdTokenResult: () => getIdTokenResult,
  getMultiFactorResolver: () => getMultiFactorResolver,
  getRedirectResult: () => getRedirectResult,
  inMemoryPersistence: () => inMemoryPersistence,
  indexedDBLocalPersistence: () => indexedDBLocalPersistence,
  initializeAuth: () => initializeAuth,
  initializeRecaptchaConfig: () => initializeRecaptchaConfig,
  isSignInWithEmailLink: () => isSignInWithEmailLink,
  linkWithCredential: () => linkWithCredential,
  linkWithPhoneNumber: () => linkWithPhoneNumber,
  linkWithPopup: () => linkWithPopup,
  linkWithRedirect: () => linkWithRedirect,
  multiFactor: () => multiFactor,
  onAuthStateChanged: () => onAuthStateChanged,
  onIdTokenChanged: () => onIdTokenChanged,
  parseActionCodeURL: () => parseActionCodeURL,
  prodErrorMap: () => prodErrorMap,
  reauthenticateWithCredential: () => reauthenticateWithCredential,
  reauthenticateWithPhoneNumber: () => reauthenticateWithPhoneNumber,
  reauthenticateWithPopup: () => reauthenticateWithPopup,
  reauthenticateWithRedirect: () => reauthenticateWithRedirect,
  reload: () => reload,
  revokeAccessToken: () => revokeAccessToken,
  sendEmailVerification: () => sendEmailVerification,
  sendPasswordResetEmail: () => sendPasswordResetEmail,
  sendSignInLinkToEmail: () => sendSignInLinkToEmail,
  setPersistence: () => setPersistence,
  signInAnonymously: () => signInAnonymously,
  signInWithCredential: () => signInWithCredential,
  signInWithCustomToken: () => signInWithCustomToken,
  signInWithEmailAndPassword: () => signInWithEmailAndPassword,
  signInWithEmailLink: () => signInWithEmailLink,
  signInWithPhoneNumber: () => signInWithPhoneNumber,
  signInWithPopup: () => signInWithPopup,
  signInWithRedirect: () => signInWithRedirect,
  signOut: () => signOut,
  unlink: () => unlink,
  updateCurrentUser: () => updateCurrentUser,
  updateEmail: () => updateEmail,
  updatePassword: () => updatePassword,
  updatePhoneNumber: () => updatePhoneNumber,
  updateProfile: () => updateProfile,
  useDeviceLanguage: () => useDeviceLanguage,
  validatePassword: () => validatePassword,
  verifyBeforeUpdateEmail: () => verifyBeforeUpdateEmail,
  verifyPasswordResetCode: () => verifyPasswordResetCode
});
var init_index_esm = __esm({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/firebase@10.14.1_@firebase+app@0.10.13_@firebase+app-compat@0.2.43_@firebase+app-types@0.9.2/node_modules/firebase/auth/dist/esm/index.esm.js"() {
    init_esm2017();
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js
var require_react_jsx_runtime_production_min = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js"(exports) {
    "use strict";
    var f3 = require_react();
    var k = Symbol.for("react.element");
    var l3 = Symbol.for("react.fragment");
    var m = Object.prototype.hasOwnProperty;
    var n2 = f3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner;
    var p3 = { key: true, ref: true, __self: true, __source: true };
    function q(c3, a2, g) {
      var b, d4 = {}, e3 = null, h2 = null;
      void 0 !== g && (e3 = "" + g);
      void 0 !== a2.key && (e3 = "" + a2.key);
      void 0 !== a2.ref && (h2 = a2.ref);
      for (b in a2) m.call(a2, b) && !p3.hasOwnProperty(b) && (d4[b] = a2[b]);
      if (c3 && c3.defaultProps) for (b in a2 = c3.defaultProps, a2) void 0 === d4[b] && (d4[b] = a2[b]);
      return { $$typeof: k, type: c3, key: e3, ref: h2, props: d4, _owner: n2.current };
    }
    exports.Fragment = l3;
    exports.jsx = q;
    exports.jsxs = q;
  }
});

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/jsx-runtime.js
var require_jsx_runtime = __commonJS({
  "../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react@18.3.1/node_modules/react/jsx-runtime.js"(exports, module) {
    "use strict";
    if (true) {
      module.exports = require_react_jsx_runtime_production_min();
    } else {
      module.exports = null;
    }
  }
});

// public/main.tsx
var import_react6 = __toESM(require_react());
var import_client = __toESM(require_client());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router-dom@6.30.2_react@18.3.1_react-dom@18.3.1__react@18.3.1/node_modules/react-router-dom/dist/index.js
var React2 = __toESM(require_react());
var ReactDOM = __toESM(require_react_dom());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router@6.30.2_react@18.3.1/node_modules/react-router/dist/index.js
var React = __toESM(require_react());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@remix-run/router@1.23.1/node_modules/@remix-run/router/dist/router.js
function _extends() {
  _extends = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
var Action;
(function(Action2) {
  Action2["Pop"] = "POP";
  Action2["Push"] = "PUSH";
  Action2["Replace"] = "REPLACE";
})(Action || (Action = {}));
var PopStateEventType = "popstate";
function createBrowserHistory(options) {
  if (options === void 0) {
    options = {};
  }
  function createBrowserLocation(window2, globalHistory) {
    let {
      pathname,
      search,
      hash
    } = window2.location;
    return createLocation(
      "",
      {
        pathname,
        search,
        hash
      },
      // state defaults to `null` because `window.history.state` does
      globalHistory.state && globalHistory.state.usr || null,
      globalHistory.state && globalHistory.state.key || "default"
    );
  }
  function createBrowserHref(window2, to) {
    return typeof to === "string" ? to : createPath(to);
  }
  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);
}
function invariant(value2, message) {
  if (value2 === false || value2 === null || typeof value2 === "undefined") {
    throw new Error(message);
  }
}
function warning(cond, message) {
  if (!cond) {
    if (typeof console !== "undefined") console.warn(message);
    try {
      throw new Error(message);
    } catch (e3) {
    }
  }
}
function createKey() {
  return Math.random().toString(36).substr(2, 8);
}
function getHistoryState(location2, index) {
  return {
    usr: location2.state,
    key: location2.key,
    idx: index
  };
}
function createLocation(current, to, state, key) {
  if (state === void 0) {
    state = null;
  }
  let location2 = _extends({
    pathname: typeof current === "string" ? current : current.pathname,
    search: "",
    hash: ""
  }, typeof to === "string" ? parsePath(to) : to, {
    state,
    // TODO: This could be cleaned up.  push/replace should probably just take
    // full Locations now and avoid the need to run through this flow at all
    // But that's a pretty big refactor to the current test suite so going to
    // keep as is for the time being and just let any incoming keys take precedence
    key: to && to.key || key || createKey()
  });
  return location2;
}
function createPath(_ref) {
  let {
    pathname = "/",
    search = "",
    hash = ""
  } = _ref;
  if (search && search !== "?") pathname += search.charAt(0) === "?" ? search : "?" + search;
  if (hash && hash !== "#") pathname += hash.charAt(0) === "#" ? hash : "#" + hash;
  return pathname;
}
function parsePath(path) {
  let parsedPath = {};
  if (path) {
    let hashIndex = path.indexOf("#");
    if (hashIndex >= 0) {
      parsedPath.hash = path.substr(hashIndex);
      path = path.substr(0, hashIndex);
    }
    let searchIndex = path.indexOf("?");
    if (searchIndex >= 0) {
      parsedPath.search = path.substr(searchIndex);
      path = path.substr(0, searchIndex);
    }
    if (path) {
      parsedPath.pathname = path;
    }
  }
  return parsedPath;
}
function getUrlBasedHistory(getLocation, createHref, validateLocation, options) {
  if (options === void 0) {
    options = {};
  }
  let {
    window: window2 = document.defaultView,
    v5Compat = false
  } = options;
  let globalHistory = window2.history;
  let action = Action.Pop;
  let listener = null;
  let index = getIndex();
  if (index == null) {
    index = 0;
    globalHistory.replaceState(_extends({}, globalHistory.state, {
      idx: index
    }), "");
  }
  function getIndex() {
    let state = globalHistory.state || {
      idx: null
    };
    return state.idx;
  }
  function handlePop() {
    action = Action.Pop;
    let nextIndex = getIndex();
    let delta = nextIndex == null ? null : nextIndex - index;
    index = nextIndex;
    if (listener) {
      listener({
        action,
        location: history.location,
        delta
      });
    }
  }
  function push2(to, state) {
    action = Action.Push;
    let location2 = createLocation(history.location, to, state);
    if (validateLocation) validateLocation(location2, to);
    index = getIndex() + 1;
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    try {
      globalHistory.pushState(historyState, "", url);
    } catch (error2) {
      if (error2 instanceof DOMException && error2.name === "DataCloneError") {
        throw error2;
      }
      window2.location.assign(url);
    }
    if (v5Compat && listener) {
      listener({
        action,
        location: history.location,
        delta: 1
      });
    }
  }
  function replace2(to, state) {
    action = Action.Replace;
    let location2 = createLocation(history.location, to, state);
    if (validateLocation) validateLocation(location2, to);
    index = getIndex();
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    globalHistory.replaceState(historyState, "", url);
    if (v5Compat && listener) {
      listener({
        action,
        location: history.location,
        delta: 0
      });
    }
  }
  function createURL(to) {
    let base = window2.location.origin !== "null" ? window2.location.origin : window2.location.href;
    let href = typeof to === "string" ? to : createPath(to);
    href = href.replace(/ $/, "%20");
    invariant(base, "No window.location.(origin|href) available to create URL for href: " + href);
    return new URL(href, base);
  }
  let history = {
    get action() {
      return action;
    },
    get location() {
      return getLocation(window2, globalHistory);
    },
    listen(fn) {
      if (listener) {
        throw new Error("A history only accepts one active listener");
      }
      window2.addEventListener(PopStateEventType, handlePop);
      listener = fn;
      return () => {
        window2.removeEventListener(PopStateEventType, handlePop);
        listener = null;
      };
    },
    createHref(to) {
      return createHref(window2, to);
    },
    createURL,
    encodeLocation(to) {
      let url = createURL(to);
      return {
        pathname: url.pathname,
        search: url.search,
        hash: url.hash
      };
    },
    push: push2,
    replace: replace2,
    go(n2) {
      return globalHistory.go(n2);
    }
  };
  return history;
}
var ResultType;
(function(ResultType2) {
  ResultType2["data"] = "data";
  ResultType2["deferred"] = "deferred";
  ResultType2["redirect"] = "redirect";
  ResultType2["error"] = "error";
})(ResultType || (ResultType = {}));
function matchRoutes(routes, locationArg, basename) {
  if (basename === void 0) {
    basename = "/";
  }
  return matchRoutesImpl(routes, locationArg, basename, false);
}
function matchRoutesImpl(routes, locationArg, basename, allowPartial) {
  let location2 = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
  let pathname = stripBasename(location2.pathname || "/", basename);
  if (pathname == null) {
    return null;
  }
  let branches = flattenRoutes(routes);
  rankRouteBranches(branches);
  let matches = null;
  for (let i3 = 0; matches == null && i3 < branches.length; ++i3) {
    let decoded = decodePath(pathname);
    matches = matchRouteBranch(branches[i3], decoded, allowPartial);
  }
  return matches;
}
function flattenRoutes(routes, branches, parentsMeta, parentPath) {
  if (branches === void 0) {
    branches = [];
  }
  if (parentsMeta === void 0) {
    parentsMeta = [];
  }
  if (parentPath === void 0) {
    parentPath = "";
  }
  let flattenRoute = (route, index, relativePath) => {
    let meta = {
      relativePath: relativePath === void 0 ? route.path || "" : relativePath,
      caseSensitive: route.caseSensitive === true,
      childrenIndex: index,
      route
    };
    if (meta.relativePath.startsWith("/")) {
      invariant(meta.relativePath.startsWith(parentPath), 'Absolute route path "' + meta.relativePath + '" nested under path ' + ('"' + parentPath + '" is not valid. An absolute child route path ') + "must start with the combined path of all its parent routes.");
      meta.relativePath = meta.relativePath.slice(parentPath.length);
    }
    let path = joinPaths([parentPath, meta.relativePath]);
    let routesMeta = parentsMeta.concat(meta);
    if (route.children && route.children.length > 0) {
      invariant(
        // Our types know better, but runtime JS may not!
        // @ts-expect-error
        route.index !== true,
        "Index routes must not have child routes. Please remove " + ('all child routes from route path "' + path + '".')
      );
      flattenRoutes(route.children, branches, routesMeta, path);
    }
    if (route.path == null && !route.index) {
      return;
    }
    branches.push({
      path,
      score: computeScore(path, route.index),
      routesMeta
    });
  };
  routes.forEach((route, index) => {
    var _route$path;
    if (route.path === "" || !((_route$path = route.path) != null && _route$path.includes("?"))) {
      flattenRoute(route, index);
    } else {
      for (let exploded of explodeOptionalSegments(route.path)) {
        flattenRoute(route, index, exploded);
      }
    }
  });
  return branches;
}
function explodeOptionalSegments(path) {
  let segments = path.split("/");
  if (segments.length === 0) return [];
  let [first, ...rest] = segments;
  let isOptional = first.endsWith("?");
  let required = first.replace(/\?$/, "");
  if (rest.length === 0) {
    return isOptional ? [required, ""] : [required];
  }
  let restExploded = explodeOptionalSegments(rest.join("/"));
  let result = [];
  result.push(...restExploded.map((subpath) => subpath === "" ? required : [required, subpath].join("/")));
  if (isOptional) {
    result.push(...restExploded);
  }
  return result.map((exploded) => path.startsWith("/") && exploded === "" ? "/" : exploded);
}
function rankRouteBranches(branches) {
  branches.sort((a2, b) => a2.score !== b.score ? b.score - a2.score : compareIndexes(a2.routesMeta.map((meta) => meta.childrenIndex), b.routesMeta.map((meta) => meta.childrenIndex)));
}
var paramRe = /^:[\w-]+$/;
var dynamicSegmentValue = 3;
var indexRouteValue = 2;
var emptySegmentValue = 1;
var staticSegmentValue = 10;
var splatPenalty = -2;
var isSplat = (s) => s === "*";
function computeScore(path, index) {
  let segments = path.split("/");
  let initialScore = segments.length;
  if (segments.some(isSplat)) {
    initialScore += splatPenalty;
  }
  if (index) {
    initialScore += indexRouteValue;
  }
  return segments.filter((s) => !isSplat(s)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === "" ? emptySegmentValue : staticSegmentValue), initialScore);
}
function compareIndexes(a2, b) {
  let siblings = a2.length === b.length && a2.slice(0, -1).every((n2, i3) => n2 === b[i3]);
  return siblings ? (
    // If two routes are siblings, we should try to match the earlier sibling
    // first. This allows people to have fine-grained control over the matching
    // behavior by simply putting routes with identical paths in the order they
    // want them tried.
    a2[a2.length - 1] - b[b.length - 1]
  ) : (
    // Otherwise, it doesn't really make sense to rank non-siblings by index,
    // so they sort equally.
    0
  );
}
function matchRouteBranch(branch, pathname, allowPartial) {
  if (allowPartial === void 0) {
    allowPartial = false;
  }
  let {
    routesMeta
  } = branch;
  let matchedParams = {};
  let matchedPathname = "/";
  let matches = [];
  for (let i3 = 0; i3 < routesMeta.length; ++i3) {
    let meta = routesMeta[i3];
    let end = i3 === routesMeta.length - 1;
    let remainingPathname = matchedPathname === "/" ? pathname : pathname.slice(matchedPathname.length) || "/";
    let match = matchPath({
      path: meta.relativePath,
      caseSensitive: meta.caseSensitive,
      end
    }, remainingPathname);
    let route = meta.route;
    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {
      match = matchPath({
        path: meta.relativePath,
        caseSensitive: meta.caseSensitive,
        end: false
      }, remainingPathname);
    }
    if (!match) {
      return null;
    }
    Object.assign(matchedParams, match.params);
    matches.push({
      // TODO: Can this as be avoided?
      params: matchedParams,
      pathname: joinPaths([matchedPathname, match.pathname]),
      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),
      route
    });
    if (match.pathnameBase !== "/") {
      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);
    }
  }
  return matches;
}
function matchPath(pattern, pathname) {
  if (typeof pattern === "string") {
    pattern = {
      path: pattern,
      caseSensitive: false,
      end: true
    };
  }
  let [matcher, compiledParams] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);
  let match = pathname.match(matcher);
  if (!match) return null;
  let matchedPathname = match[0];
  let pathnameBase = matchedPathname.replace(/(.)\/+$/, "$1");
  let captureGroups = match.slice(1);
  let params = compiledParams.reduce((memo2, _ref, index) => {
    let {
      paramName,
      isOptional
    } = _ref;
    if (paramName === "*") {
      let splatValue = captureGroups[index] || "";
      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\/+$/, "$1");
    }
    const value2 = captureGroups[index];
    if (isOptional && !value2) {
      memo2[paramName] = void 0;
    } else {
      memo2[paramName] = (value2 || "").replace(/%2F/g, "/");
    }
    return memo2;
  }, {});
  return {
    params,
    pathname: matchedPathname,
    pathnameBase,
    pattern
  };
}
function compilePath(path, caseSensitive, end) {
  if (caseSensitive === void 0) {
    caseSensitive = false;
  }
  if (end === void 0) {
    end = true;
  }
  warning(path === "*" || !path.endsWith("*") || path.endsWith("/*"), 'Route path "' + path + '" will be treated as if it were ' + ('"' + path.replace(/\*$/, "/*") + '" because the `*` character must ') + "always follow a `/` in the pattern. To get rid of this warning, " + ('please change the route path to "' + path.replace(/\*$/, "/*") + '".'));
  let params = [];
  let regexpSource = "^" + path.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (_, paramName, isOptional) => {
    params.push({
      paramName,
      isOptional: isOptional != null
    });
    return isOptional ? "/?([^\\/]+)?" : "/([^\\/]+)";
  });
  if (path.endsWith("*")) {
    params.push({
      paramName: "*"
    });
    regexpSource += path === "*" || path === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$";
  } else if (end) {
    regexpSource += "\\/*$";
  } else if (path !== "" && path !== "/") {
    regexpSource += "(?:(?=\\/|$))";
  } else ;
  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : "i");
  return [matcher, params];
}
function decodePath(value2) {
  try {
    return value2.split("/").map((v3) => decodeURIComponent(v3).replace(/\//g, "%2F")).join("/");
  } catch (error2) {
    warning(false, 'The URL path "' + value2 + '" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent ' + ("encoding (" + error2 + ")."));
    return value2;
  }
}
function stripBasename(pathname, basename) {
  if (basename === "/") return pathname;
  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {
    return null;
  }
  let startIndex = basename.endsWith("/") ? basename.length - 1 : basename.length;
  let nextChar = pathname.charAt(startIndex);
  if (nextChar && nextChar !== "/") {
    return null;
  }
  return pathname.slice(startIndex) || "/";
}
var ABSOLUTE_URL_REGEX$1 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var isAbsoluteUrl = (url) => ABSOLUTE_URL_REGEX$1.test(url);
function resolvePath(to, fromPathname) {
  if (fromPathname === void 0) {
    fromPathname = "/";
  }
  let {
    pathname: toPathname,
    search = "",
    hash = ""
  } = typeof to === "string" ? parsePath(to) : to;
  let pathname;
  if (toPathname) {
    if (isAbsoluteUrl(toPathname)) {
      pathname = toPathname;
    } else {
      if (toPathname.includes("//")) {
        let oldPathname = toPathname;
        toPathname = toPathname.replace(/\/\/+/g, "/");
        warning(false, "Pathnames cannot have embedded double slashes - normalizing " + (oldPathname + " -> " + toPathname));
      }
      if (toPathname.startsWith("/")) {
        pathname = resolvePathname(toPathname.substring(1), "/");
      } else {
        pathname = resolvePathname(toPathname, fromPathname);
      }
    }
  } else {
    pathname = fromPathname;
  }
  return {
    pathname,
    search: normalizeSearch(search),
    hash: normalizeHash(hash)
  };
}
function resolvePathname(relativePath, fromPathname) {
  let segments = fromPathname.replace(/\/+$/, "").split("/");
  let relativeSegments = relativePath.split("/");
  relativeSegments.forEach((segment) => {
    if (segment === "..") {
      if (segments.length > 1) segments.pop();
    } else if (segment !== ".") {
      segments.push(segment);
    }
  });
  return segments.length > 1 ? segments.join("/") : "/";
}
function getInvalidPathError(char, field, dest, path) {
  return "Cannot include a '" + char + "' character in a manually specified " + ("`to." + field + "` field [" + JSON.stringify(path) + "].  Please separate it out to the ") + ("`to." + dest + "` field. Alternatively you may provide the full path as ") + 'a string in <Link to="..."> and the router will parse it for you.';
}
function getPathContributingMatches(matches) {
  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);
}
function getResolveToMatches(matches, v7_relativeSplatPath) {
  let pathMatches = getPathContributingMatches(matches);
  if (v7_relativeSplatPath) {
    return pathMatches.map((match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase);
  }
  return pathMatches.map((match) => match.pathnameBase);
}
function resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {
  if (isPathRelative === void 0) {
    isPathRelative = false;
  }
  let to;
  if (typeof toArg === "string") {
    to = parsePath(toArg);
  } else {
    to = _extends({}, toArg);
    invariant(!to.pathname || !to.pathname.includes("?"), getInvalidPathError("?", "pathname", "search", to));
    invariant(!to.pathname || !to.pathname.includes("#"), getInvalidPathError("#", "pathname", "hash", to));
    invariant(!to.search || !to.search.includes("#"), getInvalidPathError("#", "search", "hash", to));
  }
  let isEmptyPath = toArg === "" || to.pathname === "";
  let toPathname = isEmptyPath ? "/" : to.pathname;
  let from;
  if (toPathname == null) {
    from = locationPathname;
  } else {
    let routePathnameIndex = routePathnames.length - 1;
    if (!isPathRelative && toPathname.startsWith("..")) {
      let toSegments = toPathname.split("/");
      while (toSegments[0] === "..") {
        toSegments.shift();
        routePathnameIndex -= 1;
      }
      to.pathname = toSegments.join("/");
    }
    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : "/";
  }
  let path = resolvePath(to, from);
  let hasExplicitTrailingSlash = toPathname && toPathname !== "/" && toPathname.endsWith("/");
  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === ".") && locationPathname.endsWith("/");
  if (!path.pathname.endsWith("/") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {
    path.pathname += "/";
  }
  return path;
}
var joinPaths = (paths) => paths.join("/").replace(/\/\/+/g, "/");
var normalizePathname = (pathname) => pathname.replace(/\/+$/, "").replace(/^\/*/, "/");
var normalizeSearch = (search) => !search || search === "?" ? "" : search.startsWith("?") ? search : "?" + search;
var normalizeHash = (hash) => !hash || hash === "#" ? "" : hash.startsWith("#") ? hash : "#" + hash;
function isRouteErrorResponse(error2) {
  return error2 != null && typeof error2.status === "number" && typeof error2.statusText === "string" && typeof error2.internal === "boolean" && "data" in error2;
}
var validMutationMethodsArr = ["post", "put", "patch", "delete"];
var validMutationMethods = new Set(validMutationMethodsArr);
var validRequestMethodsArr = ["get", ...validMutationMethodsArr];
var validRequestMethods = new Set(validRequestMethodsArr);
var UNSAFE_DEFERRED_SYMBOL = Symbol("deferred");

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router@6.30.2_react@18.3.1/node_modules/react-router/dist/index.js
function _extends2() {
  _extends2 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends2.apply(this, arguments);
}
var DataRouterContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  DataRouterContext.displayName = "DataRouter";
}
var DataRouterStateContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  DataRouterStateContext.displayName = "DataRouterState";
}
if (false) {
  AwaitContext.displayName = "Await";
}
var NavigationContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  NavigationContext.displayName = "Navigation";
}
var LocationContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  LocationContext.displayName = "Location";
}
var RouteContext = /* @__PURE__ */ React.createContext({
  outlet: null,
  matches: [],
  isDataRoute: false
});
if (false) {
  RouteContext.displayName = "Route";
}
var RouteErrorContext = /* @__PURE__ */ React.createContext(null);
if (false) {
  RouteErrorContext.displayName = "RouteError";
}
function useHref(to, _temp) {
  let {
    relative
  } = _temp === void 0 ? {} : _temp;
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useHref() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    basename,
    navigator: navigator2
  } = React.useContext(NavigationContext);
  let {
    hash,
    pathname,
    search
  } = useResolvedPath(to, {
    relative
  });
  let joinedPathname = pathname;
  if (basename !== "/") {
    joinedPathname = pathname === "/" ? basename : joinPaths([basename, pathname]);
  }
  return navigator2.createHref({
    pathname: joinedPathname,
    search,
    hash
  });
}
function useInRouterContext() {
  return React.useContext(LocationContext) != null;
}
function useLocation() {
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useLocation() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  return React.useContext(LocationContext).location;
}
function useIsomorphicLayoutEffect(cb) {
  let isStatic = React.useContext(NavigationContext).static;
  if (!isStatic) {
    React.useLayoutEffect(cb);
  }
}
function useNavigate() {
  let {
    isDataRoute
  } = React.useContext(RouteContext);
  return isDataRoute ? useNavigateStable() : useNavigateUnstable();
}
function useNavigateUnstable() {
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useNavigate() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let dataRouterContext = React.useContext(DataRouterContext);
  let {
    basename,
    future,
    navigator: navigator2
  } = React.useContext(NavigationContext);
  let {
    matches
  } = React.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches, future.v7_relativeSplatPath));
  let activeRef = React.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = React.useCallback(function(to, options) {
    if (options === void 0) {
      options = {};
    }
    false ? warning(activeRef.current, navigateEffectWarning) : void 0;
    if (!activeRef.current) return;
    if (typeof to === "number") {
      navigator2.go(to);
      return;
    }
    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === "path");
    if (dataRouterContext == null && basename !== "/") {
      path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
    }
    (!!options.replace ? navigator2.replace : navigator2.push)(path, options.state, options);
  }, [basename, navigator2, routePathnamesJson, locationPathname, dataRouterContext]);
  return navigate;
}
function useResolvedPath(to, _temp2) {
  let {
    relative
  } = _temp2 === void 0 ? {} : _temp2;
  let {
    future
  } = React.useContext(NavigationContext);
  let {
    matches
  } = React.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches, future.v7_relativeSplatPath));
  return React.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === "path"), [to, routePathnamesJson, locationPathname, relative]);
}
function useRoutes(routes, locationArg) {
  return useRoutesImpl(routes, locationArg);
}
function useRoutesImpl(routes, locationArg, dataRouterState, future) {
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of the
    // router loaded. We can help them understand how to avoid that.
    "useRoutes() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    navigator: navigator2
  } = React.useContext(NavigationContext);
  let {
    matches: parentMatches
  } = React.useContext(RouteContext);
  let routeMatch = parentMatches[parentMatches.length - 1];
  let parentParams = routeMatch ? routeMatch.params : {};
  let parentPathname = routeMatch ? routeMatch.pathname : "/";
  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : "/";
  let parentRoute = routeMatch && routeMatch.route;
  if (false) {
    let parentPath = parentRoute && parentRoute.path || "";
    warningOnce(parentPathname, !parentRoute || parentPath.endsWith("*"), "You rendered descendant <Routes> (or called `useRoutes()`) at " + ('"' + parentPathname + '" (under <Route path="' + parentPath + '">) but the ') + `parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

` + ('Please change the parent <Route path="' + parentPath + '"> to <Route ') + ('path="' + (parentPath === "/" ? "*" : parentPath + "/*") + '">.'));
  }
  let locationFromContext = useLocation();
  let location2;
  if (locationArg) {
    var _parsedLocationArg$pa;
    let parsedLocationArg = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
    !(parentPathnameBase === "/" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) ? false ? invariant(false, "When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was " + ('matched by all parent routes. The current pathname base is "' + parentPathnameBase + '" ') + ('but pathname "' + parsedLocationArg.pathname + '" was given in the `location` prop.')) : invariant(false) : void 0;
    location2 = parsedLocationArg;
  } else {
    location2 = locationFromContext;
  }
  let pathname = location2.pathname || "/";
  let remainingPathname = pathname;
  if (parentPathnameBase !== "/") {
    let parentSegments = parentPathnameBase.replace(/^\//, "").split("/");
    let segments = pathname.replace(/^\//, "").split("/");
    remainingPathname = "/" + segments.slice(parentSegments.length).join("/");
  }
  let matches = matchRoutes(routes, {
    pathname: remainingPathname
  });
  if (false) {
    false ? warning(parentRoute || matches != null, 'No routes matched location "' + location2.pathname + location2.search + location2.hash + '" ') : void 0;
    false ? warning(matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0, 'Matched leaf route at location "' + location2.pathname + location2.search + location2.hash + '" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.') : void 0;
  }
  let renderedMatches = _renderMatches(matches && matches.map((match) => Object.assign({}, match, {
    params: Object.assign({}, parentParams, match.params),
    pathname: joinPaths([
      parentPathnameBase,
      // Re-encode pathnames that were decoded inside matchRoutes
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathname).pathname : match.pathname
    ]),
    pathnameBase: match.pathnameBase === "/" ? parentPathnameBase : joinPaths([
      parentPathnameBase,
      // Re-encode pathnames that were decoded inside matchRoutes
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathnameBase).pathname : match.pathnameBase
    ])
  })), parentMatches, dataRouterState, future);
  if (locationArg && renderedMatches) {
    return /* @__PURE__ */ React.createElement(LocationContext.Provider, {
      value: {
        location: _extends2({
          pathname: "/",
          search: "",
          hash: "",
          state: null,
          key: "default"
        }, location2),
        navigationType: Action.Pop
      }
    }, renderedMatches);
  }
  return renderedMatches;
}
function DefaultErrorComponent() {
  let error2 = useRouteError();
  let message = isRouteErrorResponse(error2) ? error2.status + " " + error2.statusText : error2 instanceof Error ? error2.message : JSON.stringify(error2);
  let stack = error2 instanceof Error ? error2.stack : null;
  let lightgrey = "rgba(200,200,200, 0.5)";
  let preStyles = {
    padding: "0.5rem",
    backgroundColor: lightgrey
  };
  let codeStyles = {
    padding: "2px 4px",
    backgroundColor: lightgrey
  };
  let devInfo = null;
  if (false) {
    console.error("Error handled by React Router default ErrorBoundary:", error2);
    devInfo = /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("p", null, "\u{1F4BF} Hey developer \u{1F44B}"), /* @__PURE__ */ React.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", /* @__PURE__ */ React.createElement("code", {
      style: codeStyles
    }, "ErrorBoundary"), " or", " ", /* @__PURE__ */ React.createElement("code", {
      style: codeStyles
    }, "errorElement"), " prop on your route."));
  }
  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement("h2", null, "Unexpected Application Error!"), /* @__PURE__ */ React.createElement("h3", {
    style: {
      fontStyle: "italic"
    }
  }, message), stack ? /* @__PURE__ */ React.createElement("pre", {
    style: preStyles
  }, stack) : null, devInfo);
}
var defaultErrorElement = /* @__PURE__ */ React.createElement(DefaultErrorComponent, null);
var RenderErrorBoundary = class extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      location: props.location,
      revalidation: props.revalidation,
      error: props.error
    };
  }
  static getDerivedStateFromError(error2) {
    return {
      error: error2
    };
  }
  static getDerivedStateFromProps(props, state) {
    if (state.location !== props.location || state.revalidation !== "idle" && props.revalidation === "idle") {
      return {
        error: props.error,
        location: props.location,
        revalidation: props.revalidation
      };
    }
    return {
      error: props.error !== void 0 ? props.error : state.error,
      location: state.location,
      revalidation: props.revalidation || state.revalidation
    };
  }
  componentDidCatch(error2, errorInfo) {
    console.error("React Router caught the following error during render", error2, errorInfo);
  }
  render() {
    return this.state.error !== void 0 ? /* @__PURE__ */ React.createElement(RouteContext.Provider, {
      value: this.props.routeContext
    }, /* @__PURE__ */ React.createElement(RouteErrorContext.Provider, {
      value: this.state.error,
      children: this.props.component
    })) : this.props.children;
  }
};
function RenderedRoute(_ref) {
  let {
    routeContext,
    match,
    children
  } = _ref;
  let dataRouterContext = React.useContext(DataRouterContext);
  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {
    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;
  }
  return /* @__PURE__ */ React.createElement(RouteContext.Provider, {
    value: routeContext
  }, children);
}
function _renderMatches(matches, parentMatches, dataRouterState, future) {
  var _dataRouterState;
  if (parentMatches === void 0) {
    parentMatches = [];
  }
  if (dataRouterState === void 0) {
    dataRouterState = null;
  }
  if (future === void 0) {
    future = null;
  }
  if (matches == null) {
    var _future;
    if (!dataRouterState) {
      return null;
    }
    if (dataRouterState.errors) {
      matches = dataRouterState.matches;
    } else if ((_future = future) != null && _future.v7_partialHydration && parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {
      matches = dataRouterState.matches;
    } else {
      return null;
    }
  }
  let renderedMatches = matches;
  let errors = (_dataRouterState = dataRouterState) == null ? void 0 : _dataRouterState.errors;
  if (errors != null) {
    let errorIndex = renderedMatches.findIndex((m) => m.route.id && (errors == null ? void 0 : errors[m.route.id]) !== void 0);
    !(errorIndex >= 0) ? false ? invariant(false, "Could not find a matching route for errors on route IDs: " + Object.keys(errors).join(",")) : invariant(false) : void 0;
    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));
  }
  let renderFallback = false;
  let fallbackIndex = -1;
  if (dataRouterState && future && future.v7_partialHydration) {
    for (let i3 = 0; i3 < renderedMatches.length; i3++) {
      let match = renderedMatches[i3];
      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {
        fallbackIndex = i3;
      }
      if (match.route.id) {
        let {
          loaderData,
          errors: errors2
        } = dataRouterState;
        let needsToRunLoader = match.route.loader && loaderData[match.route.id] === void 0 && (!errors2 || errors2[match.route.id] === void 0);
        if (match.route.lazy || needsToRunLoader) {
          renderFallback = true;
          if (fallbackIndex >= 0) {
            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);
          } else {
            renderedMatches = [renderedMatches[0]];
          }
          break;
        }
      }
    }
  }
  return renderedMatches.reduceRight((outlet, match, index) => {
    let error2;
    let shouldRenderHydrateFallback = false;
    let errorElement = null;
    let hydrateFallbackElement = null;
    if (dataRouterState) {
      error2 = errors && match.route.id ? errors[match.route.id] : void 0;
      errorElement = match.route.errorElement || defaultErrorElement;
      if (renderFallback) {
        if (fallbackIndex < 0 && index === 0) {
          warningOnce("route-fallback", false, "No `HydrateFallback` element provided to render during initial hydration");
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = null;
        } else if (fallbackIndex === index) {
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = match.route.hydrateFallbackElement || null;
        }
      }
    }
    let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));
    let getChildren = () => {
      let children;
      if (error2) {
        children = errorElement;
      } else if (shouldRenderHydrateFallback) {
        children = hydrateFallbackElement;
      } else if (match.route.Component) {
        children = /* @__PURE__ */ React.createElement(match.route.Component, null);
      } else if (match.route.element) {
        children = match.route.element;
      } else {
        children = outlet;
      }
      return /* @__PURE__ */ React.createElement(RenderedRoute, {
        match,
        routeContext: {
          outlet,
          matches: matches2,
          isDataRoute: dataRouterState != null
        },
        children
      });
    };
    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ React.createElement(RenderErrorBoundary, {
      location: dataRouterState.location,
      revalidation: dataRouterState.revalidation,
      component: errorElement,
      error: error2,
      children: getChildren(),
      routeContext: {
        outlet: null,
        matches: matches2,
        isDataRoute: true
      }
    }) : getChildren();
  }, null);
}
var DataRouterHook = /* @__PURE__ */ function(DataRouterHook3) {
  DataRouterHook3["UseBlocker"] = "useBlocker";
  DataRouterHook3["UseRevalidator"] = "useRevalidator";
  DataRouterHook3["UseNavigateStable"] = "useNavigate";
  return DataRouterHook3;
}(DataRouterHook || {});
var DataRouterStateHook = /* @__PURE__ */ function(DataRouterStateHook3) {
  DataRouterStateHook3["UseBlocker"] = "useBlocker";
  DataRouterStateHook3["UseLoaderData"] = "useLoaderData";
  DataRouterStateHook3["UseActionData"] = "useActionData";
  DataRouterStateHook3["UseRouteError"] = "useRouteError";
  DataRouterStateHook3["UseNavigation"] = "useNavigation";
  DataRouterStateHook3["UseRouteLoaderData"] = "useRouteLoaderData";
  DataRouterStateHook3["UseMatches"] = "useMatches";
  DataRouterStateHook3["UseRevalidator"] = "useRevalidator";
  DataRouterStateHook3["UseNavigateStable"] = "useNavigate";
  DataRouterStateHook3["UseRouteId"] = "useRouteId";
  return DataRouterStateHook3;
}(DataRouterStateHook || {});
function useDataRouterContext(hookName) {
  let ctx = React.useContext(DataRouterContext);
  !ctx ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return ctx;
}
function useDataRouterState(hookName) {
  let state = React.useContext(DataRouterStateContext);
  !state ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return state;
}
function useRouteContext(hookName) {
  let route = React.useContext(RouteContext);
  !route ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return route;
}
function useCurrentRouteId(hookName) {
  let route = useRouteContext(hookName);
  let thisRoute = route.matches[route.matches.length - 1];
  !thisRoute.route.id ? false ? invariant(false, hookName + ' can only be used on routes that contain a unique "id"') : invariant(false) : void 0;
  return thisRoute.route.id;
}
function useRouteError() {
  var _state$errors;
  let error2 = React.useContext(RouteErrorContext);
  let state = useDataRouterState(DataRouterStateHook.UseRouteError);
  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);
  if (error2 !== void 0) {
    return error2;
  }
  return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];
}
function useNavigateStable() {
  let {
    router
  } = useDataRouterContext(DataRouterHook.UseNavigateStable);
  let id = useCurrentRouteId(DataRouterStateHook.UseNavigateStable);
  let activeRef = React.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = React.useCallback(function(to, options) {
    if (options === void 0) {
      options = {};
    }
    false ? warning(activeRef.current, navigateEffectWarning) : void 0;
    if (!activeRef.current) return;
    if (typeof to === "number") {
      router.navigate(to);
    } else {
      router.navigate(to, _extends2({
        fromRouteId: id
      }, options));
    }
  }, [router, id]);
  return navigate;
}
var alreadyWarned$1 = {};
function warningOnce(key, cond, message) {
  if (!cond && !alreadyWarned$1[key]) {
    alreadyWarned$1[key] = true;
    false ? warning(false, message) : void 0;
  }
}
function warnOnce(key, message) {
  if (false) {
    alreadyWarned[message] = true;
    console.warn(message);
  }
}
var logDeprecation = (flag, msg, link) => warnOnce(flag, "\u26A0\uFE0F React Router Future Flag Warning: " + msg + ". " + ("You can use the `" + flag + "` future flag to opt-in early. ") + ("For more information, see " + link + "."));
function logV6DeprecationWarnings(renderFuture, routerFuture) {
  if ((renderFuture == null ? void 0 : renderFuture.v7_startTransition) === void 0) {
    logDeprecation("v7_startTransition", "React Router will begin wrapping state updates in `React.startTransition` in v7", "https://reactrouter.com/v6/upgrading/future#v7_starttransition");
  }
  if ((renderFuture == null ? void 0 : renderFuture.v7_relativeSplatPath) === void 0 && (!routerFuture || routerFuture.v7_relativeSplatPath === void 0)) {
    logDeprecation("v7_relativeSplatPath", "Relative route resolution within Splat routes is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath");
  }
  if (routerFuture) {
    if (routerFuture.v7_fetcherPersist === void 0) {
      logDeprecation("v7_fetcherPersist", "The persistence behavior of fetchers is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist");
    }
    if (routerFuture.v7_normalizeFormMethod === void 0) {
      logDeprecation("v7_normalizeFormMethod", "Casing of `formMethod` fields is being normalized to uppercase in v7", "https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod");
    }
    if (routerFuture.v7_partialHydration === void 0) {
      logDeprecation("v7_partialHydration", "`RouterProvider` hydration behavior is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_partialhydration");
    }
    if (routerFuture.v7_skipActionErrorRevalidation === void 0) {
      logDeprecation("v7_skipActionErrorRevalidation", "The revalidation behavior after 4xx/5xx `action` responses is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation");
    }
  }
}
var START_TRANSITION = "startTransition";
var startTransitionImpl = React[START_TRANSITION];
function Navigate(_ref4) {
  let {
    to,
    replace: replace2,
    state,
    relative
  } = _ref4;
  !useInRouterContext() ? false ? invariant(
    false,
    // TODO: This error is probably because they somehow have 2 versions of
    // the router loaded. We can help them understand how to avoid that.
    "<Navigate> may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    future,
    static: isStatic
  } = React.useContext(NavigationContext);
  false ? warning(!isStatic, "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.") : void 0;
  let {
    matches
  } = React.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let navigate = useNavigate();
  let path = resolveTo(to, getResolveToMatches(matches, future.v7_relativeSplatPath), locationPathname, relative === "path");
  let jsonPath = JSON.stringify(path);
  React.useEffect(() => navigate(JSON.parse(jsonPath), {
    replace: replace2,
    state,
    relative
  }), [navigate, jsonPath, relative, replace2, state]);
  return null;
}
function Route(_props) {
  false ? invariant(false, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.") : invariant(false);
}
function Router(_ref5) {
  let {
    basename: basenameProp = "/",
    children = null,
    location: locationProp,
    navigationType = Action.Pop,
    navigator: navigator2,
    static: staticProp = false,
    future
  } = _ref5;
  !!useInRouterContext() ? false ? invariant(false, "You cannot render a <Router> inside another <Router>. You should never have more than one in your app.") : invariant(false) : void 0;
  let basename = basenameProp.replace(/^\/*/, "/");
  let navigationContext = React.useMemo(() => ({
    basename,
    navigator: navigator2,
    static: staticProp,
    future: _extends2({
      v7_relativeSplatPath: false
    }, future)
  }), [basename, future, navigator2, staticProp]);
  if (typeof locationProp === "string") {
    locationProp = parsePath(locationProp);
  }
  let {
    pathname = "/",
    search = "",
    hash = "",
    state = null,
    key = "default"
  } = locationProp;
  let locationContext = React.useMemo(() => {
    let trailingPathname = stripBasename(pathname, basename);
    if (trailingPathname == null) {
      return null;
    }
    return {
      location: {
        pathname: trailingPathname,
        search,
        hash,
        state,
        key
      },
      navigationType
    };
  }, [basename, pathname, search, hash, state, key, navigationType]);
  false ? warning(locationContext != null, '<Router basename="' + basename + '"> is not able to match the URL ' + ('"' + pathname + search + hash + '" because it does not start with the ') + "basename, so the <Router> won't render anything.") : void 0;
  if (locationContext == null) {
    return null;
  }
  return /* @__PURE__ */ React.createElement(NavigationContext.Provider, {
    value: navigationContext
  }, /* @__PURE__ */ React.createElement(LocationContext.Provider, {
    children,
    value: locationContext
  }));
}
function Routes(_ref6) {
  let {
    children,
    location: location2
  } = _ref6;
  return useRoutes(createRoutesFromChildren(children), location2);
}
var neverSettledPromise = new Promise(() => {
});
function createRoutesFromChildren(children, parentPath) {
  if (parentPath === void 0) {
    parentPath = [];
  }
  let routes = [];
  React.Children.forEach(children, (element, index) => {
    if (!/* @__PURE__ */ React.isValidElement(element)) {
      return;
    }
    let treePath = [...parentPath, index];
    if (element.type === React.Fragment) {
      routes.push.apply(routes, createRoutesFromChildren(element.props.children, treePath));
      return;
    }
    !(element.type === Route) ? false ? invariant(false, "[" + (typeof element.type === "string" ? element.type : element.type.name) + "] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>") : invariant(false) : void 0;
    !(!element.props.index || !element.props.children) ? false ? invariant(false, "An index route cannot have child routes.") : invariant(false) : void 0;
    let route = {
      id: element.props.id || treePath.join("-"),
      caseSensitive: element.props.caseSensitive,
      element: element.props.element,
      Component: element.props.Component,
      index: element.props.index,
      path: element.props.path,
      loader: element.props.loader,
      action: element.props.action,
      errorElement: element.props.errorElement,
      ErrorBoundary: element.props.ErrorBoundary,
      hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,
      shouldRevalidate: element.props.shouldRevalidate,
      handle: element.props.handle,
      lazy: element.props.lazy
    };
    if (element.props.children) {
      route.children = createRoutesFromChildren(element.props.children, treePath);
    }
    routes.push(route);
  });
  return routes;
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/react-router-dom@6.30.2_react@18.3.1_react-dom@18.3.1__react@18.3.1/node_modules/react-router-dom/dist/index.js
function _extends3() {
  _extends3 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i3 = 1; i3 < arguments.length; i3++) {
      var source = arguments[i3];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends3.apply(this, arguments);
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i3;
  for (i3 = 0; i3 < sourceKeys.length; i3++) {
    key = sourceKeys[i3];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }
  return target;
}
function isModifiedEvent(event) {
  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);
}
function shouldProcessLinkClick(event, target) {
  return event.button === 0 && // Ignore everything but left clicks
  (!target || target === "_self") && // Let browser handle "target=_blank" etc.
  !isModifiedEvent(event);
}
var _excluded = ["onClick", "relative", "reloadDocument", "replace", "state", "target", "to", "preventScrollReset", "viewTransition"];
var REACT_ROUTER_VERSION = "6";
try {
  window.__reactRouterVersion = REACT_ROUTER_VERSION;
} catch (e3) {
}
if (false) {
  ViewTransitionContext.displayName = "ViewTransition";
}
if (false) {
  FetchersContext.displayName = "Fetchers";
}
var START_TRANSITION2 = "startTransition";
var startTransitionImpl2 = React2[START_TRANSITION2];
var FLUSH_SYNC = "flushSync";
var flushSyncImpl = ReactDOM[FLUSH_SYNC];
var USE_ID = "useId";
var useIdImpl = React2[USE_ID];
function BrowserRouter(_ref4) {
  let {
    basename,
    children,
    future,
    window: window2
  } = _ref4;
  let historyRef = React2.useRef();
  if (historyRef.current == null) {
    historyRef.current = createBrowserHistory({
      window: window2,
      v5Compat: true
    });
  }
  let history = historyRef.current;
  let [state, setStateImpl] = React2.useState({
    action: history.action,
    location: history.location
  });
  let {
    v7_startTransition
  } = future || {};
  let setState = React2.useCallback((newState) => {
    v7_startTransition && startTransitionImpl2 ? startTransitionImpl2(() => setStateImpl(newState)) : setStateImpl(newState);
  }, [setStateImpl, v7_startTransition]);
  React2.useLayoutEffect(() => history.listen(setState), [history, setState]);
  React2.useEffect(() => logV6DeprecationWarnings(future), [future]);
  return /* @__PURE__ */ React2.createElement(Router, {
    basename,
    children,
    location: state.location,
    navigationType: state.action,
    navigator: history,
    future
  });
}
if (false) {
  HistoryRouter.displayName = "unstable_HistoryRouter";
}
var isBrowser = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined";
var ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
var Link = /* @__PURE__ */ React2.forwardRef(function LinkWithRef(_ref7, ref) {
  let {
    onClick,
    relative,
    reloadDocument,
    replace: replace2,
    state,
    target,
    to,
    preventScrollReset,
    viewTransition
  } = _ref7, rest = _objectWithoutPropertiesLoose(_ref7, _excluded);
  let {
    basename
  } = React2.useContext(NavigationContext);
  let absoluteHref;
  let isExternal = false;
  if (typeof to === "string" && ABSOLUTE_URL_REGEX.test(to)) {
    absoluteHref = to;
    if (isBrowser) {
      try {
        let currentUrl = new URL(window.location.href);
        let targetUrl = to.startsWith("//") ? new URL(currentUrl.protocol + to) : new URL(to);
        let path = stripBasename(targetUrl.pathname, basename);
        if (targetUrl.origin === currentUrl.origin && path != null) {
          to = path + targetUrl.search + targetUrl.hash;
        } else {
          isExternal = true;
        }
      } catch (e3) {
        false ? warning(false, '<Link to="' + to + '"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.') : void 0;
      }
    }
  }
  let href = useHref(to, {
    relative
  });
  let internalOnClick = useLinkClickHandler(to, {
    replace: replace2,
    state,
    target,
    preventScrollReset,
    relative,
    viewTransition
  });
  function handleClick(event) {
    if (onClick) onClick(event);
    if (!event.defaultPrevented) {
      internalOnClick(event);
    }
  }
  return (
    // eslint-disable-next-line jsx-a11y/anchor-has-content
    /* @__PURE__ */ React2.createElement("a", _extends3({}, rest, {
      href: absoluteHref || href,
      onClick: isExternal || reloadDocument ? onClick : handleClick,
      ref,
      target
    }))
  );
});
if (false) {
  Link.displayName = "Link";
}
if (false) {
  NavLink.displayName = "NavLink";
}
if (false) {
  Form.displayName = "Form";
}
if (false) {
  ScrollRestoration.displayName = "ScrollRestoration";
}
var DataRouterHook2;
(function(DataRouterHook3) {
  DataRouterHook3["UseScrollRestoration"] = "useScrollRestoration";
  DataRouterHook3["UseSubmit"] = "useSubmit";
  DataRouterHook3["UseSubmitFetcher"] = "useSubmitFetcher";
  DataRouterHook3["UseFetcher"] = "useFetcher";
  DataRouterHook3["useViewTransitionState"] = "useViewTransitionState";
})(DataRouterHook2 || (DataRouterHook2 = {}));
var DataRouterStateHook2;
(function(DataRouterStateHook3) {
  DataRouterStateHook3["UseFetcher"] = "useFetcher";
  DataRouterStateHook3["UseFetchers"] = "useFetchers";
  DataRouterStateHook3["UseScrollRestoration"] = "useScrollRestoration";
})(DataRouterStateHook2 || (DataRouterStateHook2 = {}));
function useLinkClickHandler(to, _temp) {
  let {
    target,
    replace: replaceProp,
    state,
    preventScrollReset,
    relative,
    viewTransition
  } = _temp === void 0 ? {} : _temp;
  let navigate = useNavigate();
  let location2 = useLocation();
  let path = useResolvedPath(to, {
    relative
  });
  return React2.useCallback((event) => {
    if (shouldProcessLinkClick(event, target)) {
      event.preventDefault();
      let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location2) === createPath(path);
      navigate(to, {
        replace: replace2,
        state,
        preventScrollReset,
        relative,
        viewTransition
      });
    }
  }, [location2, navigate, path, replaceProp, state, target, to, preventScrollReset, relative, viewTransition]);
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@0no-co/graphql.web@1.2.0/node_modules/@0no-co/graphql.web/dist/graphql.web.mjs
var e = {
  NAME: "Name",
  DOCUMENT: "Document",
  OPERATION_DEFINITION: "OperationDefinition",
  VARIABLE_DEFINITION: "VariableDefinition",
  SELECTION_SET: "SelectionSet",
  FIELD: "Field",
  ARGUMENT: "Argument",
  FRAGMENT_SPREAD: "FragmentSpread",
  INLINE_FRAGMENT: "InlineFragment",
  FRAGMENT_DEFINITION: "FragmentDefinition",
  VARIABLE: "Variable",
  INT: "IntValue",
  FLOAT: "FloatValue",
  STRING: "StringValue",
  BOOLEAN: "BooleanValue",
  NULL: "NullValue",
  ENUM: "EnumValue",
  LIST: "ListValue",
  OBJECT: "ObjectValue",
  OBJECT_FIELD: "ObjectField",
  DIRECTIVE: "Directive",
  NAMED_TYPE: "NamedType",
  LIST_TYPE: "ListType",
  NON_NULL_TYPE: "NonNullType"
};
var GraphQLError = class extends Error {
  constructor(e3, r3, i3, n2, t2, a2, o2) {
    if (super(e3), this.name = "GraphQLError", this.message = e3, t2) {
      this.path = t2;
    }
    if (r3) {
      this.nodes = Array.isArray(r3) ? r3 : [r3];
    }
    if (i3) {
      this.source = i3;
    }
    if (n2) {
      this.positions = n2;
    }
    if (a2) {
      this.originalError = a2;
    }
    var l3 = o2;
    if (!l3 && a2) {
      var d4 = a2.extensions;
      if (d4 && "object" == typeof d4) {
        l3 = d4;
      }
    }
    this.extensions = l3 || {};
  }
  toJSON() {
    return {
      ...this,
      message: this.message
    };
  }
  toString() {
    return this.message;
  }
  get [Symbol.toStringTag]() {
    return "GraphQLError";
  }
};
var i;
var n;
function error(e3) {
  return new GraphQLError(`Syntax Error: Unexpected token at ${n} in ${e3}`);
}
function advance(e3) {
  if (e3.lastIndex = n, e3.test(i)) {
    return i.slice(n, n = e3.lastIndex);
  }
}
var t = / +(?=[^\s])/y;
function blockString(e3) {
  var r3 = e3.split("\n");
  var i3 = "";
  var n2 = 0;
  var a2 = 0;
  var o2 = r3.length - 1;
  for (var l3 = 0; l3 < r3.length; l3++) {
    if (t.lastIndex = 0, t.test(r3[l3])) {
      if (l3 && (!n2 || t.lastIndex < n2)) {
        n2 = t.lastIndex;
      }
      a2 = a2 || l3, o2 = l3;
    }
  }
  for (var d4 = a2; d4 <= o2; d4++) {
    if (d4 !== a2) {
      i3 += "\n";
    }
    i3 += r3[d4].slice(n2).replace(/\\"""/g, '"""');
  }
  return i3;
}
function ignored() {
  for (var e3 = 0 | i.charCodeAt(n++); 9 === e3 || 10 === e3 || 13 === e3 || 32 === e3 || 35 === e3 || 44 === e3 || 65279 === e3; e3 = 0 | i.charCodeAt(n++)) {
    if (35 === e3) {
      for (; (e3 = 0 | i.charCodeAt(n++)) && 10 !== e3 && 13 !== e3; ) {
      }
    }
  }
  n--;
}
function name() {
  var e3 = n;
  for (var r3 = 0 | i.charCodeAt(n++); r3 >= 48 && r3 <= 57 || r3 >= 65 && r3 <= 90 || 95 === r3 || r3 >= 97 && r3 <= 122; r3 = 0 | i.charCodeAt(n++)) {
  }
  if (e3 === n - 1) {
    throw error("Name");
  }
  var t2 = i.slice(e3, --n);
  return ignored(), t2;
}
function nameNode() {
  return {
    kind: "Name",
    value: name()
  };
}
var a = /(?:"""|(?:[\s\S]*?[^\\])""")/y;
var o = /(?:(?:\.\d+)?[eE][+-]?\d+|\.\d+)/y;
function value(e3) {
  var r3;
  switch (i.charCodeAt(n)) {
    case 91:
      n++, ignored();
      var t2 = [];
      for (; 93 !== i.charCodeAt(n); ) {
        t2.push(value(e3));
      }
      return n++, ignored(), {
        kind: "ListValue",
        values: t2
      };
    case 123:
      n++, ignored();
      var l3 = [];
      for (; 125 !== i.charCodeAt(n); ) {
        var d4 = nameNode();
        if (58 !== i.charCodeAt(n++)) {
          throw error("ObjectField");
        }
        ignored(), l3.push({
          kind: "ObjectField",
          name: d4,
          value: value(e3)
        });
      }
      return n++, ignored(), {
        kind: "ObjectValue",
        fields: l3
      };
    case 36:
      if (e3) {
        throw error("Variable");
      }
      return n++, {
        kind: "Variable",
        name: nameNode()
      };
    case 34:
      if (34 === i.charCodeAt(n + 1) && 34 === i.charCodeAt(n + 2)) {
        if (n += 3, null == (r3 = advance(a))) {
          throw error("StringValue");
        }
        return ignored(), {
          kind: "StringValue",
          value: blockString(r3.slice(0, -3)),
          block: true
        };
      } else {
        var u3 = n;
        var s;
        n++;
        var c3 = false;
        for (s = 0 | i.charCodeAt(n++); 92 === s && (n++, c3 = true) || 10 !== s && 13 !== s && 34 !== s && s; s = 0 | i.charCodeAt(n++)) {
        }
        if (34 !== s) {
          throw error("StringValue");
        }
        return r3 = i.slice(u3, n), ignored(), {
          kind: "StringValue",
          value: c3 ? JSON.parse(r3) : r3.slice(1, -1),
          block: false
        };
      }
    case 45:
    case 48:
    case 49:
    case 50:
    case 51:
    case 52:
    case 53:
    case 54:
    case 55:
    case 56:
    case 57:
      var v3 = n++;
      var f3;
      for (; (f3 = 0 | i.charCodeAt(n++)) >= 48 && f3 <= 57; ) {
      }
      var m = i.slice(v3, --n);
      if (46 === (f3 = i.charCodeAt(n)) || 69 === f3 || 101 === f3) {
        if (null == (r3 = advance(o))) {
          throw error("FloatValue");
        }
        return ignored(), {
          kind: "FloatValue",
          value: m + r3
        };
      } else {
        return ignored(), {
          kind: "IntValue",
          value: m
        };
      }
    case 110:
      if (117 === i.charCodeAt(n + 1) && 108 === i.charCodeAt(n + 2) && 108 === i.charCodeAt(n + 3)) {
        return n += 4, ignored(), {
          kind: "NullValue"
        };
      } else {
        break;
      }
    case 116:
      if (114 === i.charCodeAt(n + 1) && 117 === i.charCodeAt(n + 2) && 101 === i.charCodeAt(n + 3)) {
        return n += 4, ignored(), {
          kind: "BooleanValue",
          value: true
        };
      } else {
        break;
      }
    case 102:
      if (97 === i.charCodeAt(n + 1) && 108 === i.charCodeAt(n + 2) && 115 === i.charCodeAt(n + 3) && 101 === i.charCodeAt(n + 4)) {
        return n += 5, ignored(), {
          kind: "BooleanValue",
          value: false
        };
      } else {
        break;
      }
  }
  return {
    kind: "EnumValue",
    value: name()
  };
}
function arguments_(e3) {
  if (40 === i.charCodeAt(n)) {
    var r3 = [];
    n++, ignored();
    do {
      var t2 = nameNode();
      if (58 !== i.charCodeAt(n++)) {
        throw error("Argument");
      }
      ignored(), r3.push({
        kind: "Argument",
        name: t2,
        value: value(e3)
      });
    } while (41 !== i.charCodeAt(n));
    return n++, ignored(), r3;
  }
}
function directives(e3) {
  if (64 === i.charCodeAt(n)) {
    var r3 = [];
    do {
      n++, r3.push({
        kind: "Directive",
        name: nameNode(),
        arguments: arguments_(e3)
      });
    } while (64 === i.charCodeAt(n));
    return r3;
  }
}
function type() {
  var e3 = 0;
  for (; 91 === i.charCodeAt(n); ) {
    e3++, n++, ignored();
  }
  var r3 = {
    kind: "NamedType",
    name: nameNode()
  };
  do {
    if (33 === i.charCodeAt(n)) {
      n++, ignored(), r3 = {
        kind: "NonNullType",
        type: r3
      };
    }
    if (e3) {
      if (93 !== i.charCodeAt(n++)) {
        throw error("NamedType");
      }
      ignored(), r3 = {
        kind: "ListType",
        type: r3
      };
    }
  } while (e3--);
  return r3;
}
function selectionSetStart() {
  if (123 !== i.charCodeAt(n++)) {
    throw error("SelectionSet");
  }
  return ignored(), selectionSet();
}
function selectionSet() {
  var e3 = [];
  do {
    if (46 === i.charCodeAt(n)) {
      if (46 !== i.charCodeAt(++n) || 46 !== i.charCodeAt(++n)) {
        throw error("SelectionSet");
      }
      switch (n++, ignored(), i.charCodeAt(n)) {
        case 64:
          e3.push({
            kind: "InlineFragment",
            typeCondition: void 0,
            directives: directives(false),
            selectionSet: selectionSetStart()
          });
          break;
        case 111:
          if (110 === i.charCodeAt(n + 1)) {
            n += 2, ignored(), e3.push({
              kind: "InlineFragment",
              typeCondition: {
                kind: "NamedType",
                name: nameNode()
              },
              directives: directives(false),
              selectionSet: selectionSetStart()
            });
          } else {
            e3.push({
              kind: "FragmentSpread",
              name: nameNode(),
              directives: directives(false)
            });
          }
          break;
        case 123:
          n++, ignored(), e3.push({
            kind: "InlineFragment",
            typeCondition: void 0,
            directives: void 0,
            selectionSet: selectionSet()
          });
          break;
        default:
          e3.push({
            kind: "FragmentSpread",
            name: nameNode(),
            directives: directives(false)
          });
      }
    } else {
      var r3 = nameNode();
      var t2 = void 0;
      if (58 === i.charCodeAt(n)) {
        n++, ignored(), t2 = r3, r3 = nameNode();
      }
      var a2 = arguments_(false);
      var o2 = directives(false);
      var l3 = void 0;
      if (123 === i.charCodeAt(n)) {
        n++, ignored(), l3 = selectionSet();
      }
      e3.push({
        kind: "Field",
        alias: t2,
        name: r3,
        arguments: a2,
        directives: o2,
        selectionSet: l3
      });
    }
  } while (125 !== i.charCodeAt(n));
  return n++, ignored(), {
    kind: "SelectionSet",
    selections: e3
  };
}
function variableDefinitions() {
  if (ignored(), 40 === i.charCodeAt(n)) {
    var e3 = [];
    n++, ignored();
    do {
      var r3 = void 0;
      if (34 === i.charCodeAt(n)) {
        r3 = value(true);
      }
      if (36 !== i.charCodeAt(n++)) {
        throw error("Variable");
      }
      var t2 = nameNode();
      if (58 !== i.charCodeAt(n++)) {
        throw error("VariableDefinition");
      }
      ignored();
      var a2 = type();
      var o2 = void 0;
      if (61 === i.charCodeAt(n)) {
        n++, ignored(), o2 = value(true);
      }
      ignored();
      var l3 = {
        kind: "VariableDefinition",
        variable: {
          kind: "Variable",
          name: t2
        },
        type: a2,
        defaultValue: o2,
        directives: directives(true)
      };
      if (r3) {
        l3.description = r3;
      }
      e3.push(l3);
    } while (41 !== i.charCodeAt(n));
    return n++, ignored(), e3;
  }
}
function fragmentDefinition(e3) {
  var r3 = nameNode();
  if (111 !== i.charCodeAt(n++) || 110 !== i.charCodeAt(n++)) {
    throw error("FragmentDefinition");
  }
  ignored();
  var t2 = {
    kind: "FragmentDefinition",
    name: r3,
    typeCondition: {
      kind: "NamedType",
      name: nameNode()
    },
    directives: directives(false),
    selectionSet: selectionSetStart()
  };
  if (e3) {
    t2.description = e3;
  }
  return t2;
}
function definitions() {
  var e3 = [];
  do {
    var r3 = void 0;
    if (34 === i.charCodeAt(n)) {
      r3 = value(true);
    }
    if (123 === i.charCodeAt(n)) {
      if (r3) {
        throw error("Document");
      }
      n++, ignored(), e3.push({
        kind: "OperationDefinition",
        operation: "query",
        name: void 0,
        variableDefinitions: void 0,
        directives: void 0,
        selectionSet: selectionSet()
      });
    } else {
      var t2 = name();
      switch (t2) {
        case "fragment":
          e3.push(fragmentDefinition(r3));
          break;
        case "query":
        case "mutation":
        case "subscription":
          var a2;
          var o2 = void 0;
          if (40 !== (a2 = i.charCodeAt(n)) && 64 !== a2 && 123 !== a2) {
            o2 = nameNode();
          }
          var l3 = {
            kind: "OperationDefinition",
            operation: t2,
            name: o2,
            variableDefinitions: variableDefinitions(),
            directives: directives(false),
            selectionSet: selectionSetStart()
          };
          if (r3) {
            l3.description = r3;
          }
          e3.push(l3);
          break;
        default:
          throw error("Document");
      }
    }
  } while (n < i.length);
  return e3;
}
function parse(e3, r3) {
  if (i = e3.body ? e3.body : e3, n = 0, ignored(), r3 && r3.noLocation) {
    return {
      kind: "Document",
      definitions: definitions()
    };
  } else {
    return {
      kind: "Document",
      definitions: definitions(),
      loc: {
        start: 0,
        end: i.length,
        startToken: void 0,
        endToken: void 0,
        source: {
          body: i,
          name: "graphql.web",
          locationOffset: {
            line: 1,
            column: 1
          }
        }
      }
    };
  }
}
function mapJoin(e3, r3, i3) {
  var n2 = "";
  for (var t2 = 0; t2 < e3.length; t2++) {
    if (t2) {
      n2 += r3;
    }
    n2 += i3(e3[t2]);
  }
  return n2;
}
function printString(e3) {
  return JSON.stringify(e3);
}
function printBlockString(e3) {
  return '"""\n' + e3.replace(/"""/g, '\\"""') + '\n"""';
}
var d = "\n";
var u = {
  OperationDefinition(e3) {
    var r3 = "";
    if (e3.description) {
      r3 += u.StringValue(e3.description) + "\n";
    }
    if (r3 += e3.operation, e3.name) {
      r3 += " " + e3.name.value;
    }
    if (e3.variableDefinitions && e3.variableDefinitions.length) {
      if (!e3.name) {
        r3 += " ";
      }
      r3 += "(" + mapJoin(e3.variableDefinitions, ", ", u.VariableDefinition) + ")";
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    var i3 = u.SelectionSet(e3.selectionSet);
    return "query" !== r3 ? r3 + " " + i3 : i3;
  },
  VariableDefinition(e3) {
    var r3 = "";
    if (e3.description) {
      r3 += u.StringValue(e3.description) + " ";
    }
    if (r3 += u.Variable(e3.variable) + ": " + _print(e3.type), e3.defaultValue) {
      r3 += " = " + _print(e3.defaultValue);
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3;
  },
  Field(e3) {
    var r3 = e3.alias ? e3.alias.value + ": " + e3.name.value : e3.name.value;
    if (e3.arguments && e3.arguments.length) {
      var i3 = mapJoin(e3.arguments, ", ", u.Argument);
      if (r3.length + i3.length + 2 > 80) {
        r3 += "(" + (d += "  ") + mapJoin(e3.arguments, d, u.Argument) + (d = d.slice(0, -2)) + ")";
      } else {
        r3 += "(" + i3 + ")";
      }
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    if (e3.selectionSet && e3.selectionSet.selections.length) {
      r3 += " " + u.SelectionSet(e3.selectionSet);
    }
    return r3;
  },
  StringValue(e3) {
    if (e3.block) {
      return printBlockString(e3.value).replace(/\n/g, d);
    } else {
      return printString(e3.value);
    }
  },
  BooleanValue: (e3) => "" + e3.value,
  NullValue: (e3) => "null",
  IntValue: (e3) => e3.value,
  FloatValue: (e3) => e3.value,
  EnumValue: (e3) => e3.value,
  Name: (e3) => e3.value,
  Variable: (e3) => "$" + e3.name.value,
  ListValue: (e3) => "[" + mapJoin(e3.values, ", ", _print) + "]",
  ObjectValue: (e3) => "{" + mapJoin(e3.fields, ", ", u.ObjectField) + "}",
  ObjectField: (e3) => e3.name.value + ": " + _print(e3.value),
  Document(e3) {
    if (!e3.definitions || !e3.definitions.length) {
      return "";
    } else {
      return mapJoin(e3.definitions, "\n\n", _print);
    }
  },
  SelectionSet: (e3) => "{" + (d += "  ") + mapJoin(e3.selections, d, _print) + (d = d.slice(0, -2)) + "}",
  Argument: (e3) => e3.name.value + ": " + _print(e3.value),
  FragmentSpread(e3) {
    var r3 = "..." + e3.name.value;
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3;
  },
  InlineFragment(e3) {
    var r3 = "...";
    if (e3.typeCondition) {
      r3 += " on " + e3.typeCondition.name.value;
    }
    if (e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3 += " " + u.SelectionSet(e3.selectionSet);
  },
  FragmentDefinition(e3) {
    var r3 = "";
    if (e3.description) {
      r3 += u.StringValue(e3.description) + "\n";
    }
    if (r3 += "fragment " + e3.name.value, r3 += " on " + e3.typeCondition.name.value, e3.directives && e3.directives.length) {
      r3 += " " + mapJoin(e3.directives, " ", u.Directive);
    }
    return r3 + " " + u.SelectionSet(e3.selectionSet);
  },
  Directive(e3) {
    var r3 = "@" + e3.name.value;
    if (e3.arguments && e3.arguments.length) {
      r3 += "(" + mapJoin(e3.arguments, ", ", u.Argument) + ")";
    }
    return r3;
  },
  NamedType: (e3) => e3.name.value,
  ListType: (e3) => "[" + _print(e3.type) + "]",
  NonNullType: (e3) => _print(e3.type) + "!"
};
var _print = (e3) => u[e3.kind](e3);
function print(e3) {
  return d = "\n", u[e3.kind] ? u[e3.kind](e3) : "";
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/wonka@6.3.5/node_modules/wonka/dist/wonka.mjs
var teardownPlaceholder = () => {
};
var e2 = teardownPlaceholder;
function start(e3) {
  return {
    tag: 0,
    0: e3
  };
}
function push(e3) {
  return {
    tag: 1,
    0: e3
  };
}
var asyncIteratorSymbol = () => "function" == typeof Symbol && Symbol.asyncIterator || "@@asyncIterator";
var identity = (e3) => e3;
function filter(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    t2((e3) => {
      if (0 === e3) {
        i3(0);
      } else if (0 === e3.tag) {
        a2 = e3[0];
        i3(e3);
      } else if (!r3(e3[0])) {
        a2(0);
      } else {
        i3(e3);
      }
    });
  };
}
function map(e3) {
  return (r3) => (t2) => r3((r4) => {
    if (0 === r4 || 0 === r4.tag) {
      t2(r4);
    } else {
      t2(push(e3(r4[0])));
    }
  });
}
function mergeMap(r3) {
  return (t2) => (i3) => {
    var a2 = [];
    var f3 = e2;
    var n2 = false;
    var s = false;
    t2((t3) => {
      if (s) {
      } else if (0 === t3) {
        s = true;
        if (!a2.length) {
          i3(0);
        }
      } else if (0 === t3.tag) {
        f3 = t3[0];
      } else {
        n2 = false;
        !function applyInnerSource(r4) {
          var t4 = e2;
          r4((e3) => {
            if (0 === e3) {
              if (a2.length) {
                var r5 = a2.indexOf(t4);
                if (r5 > -1) {
                  (a2 = a2.slice()).splice(r5, 1);
                }
                if (!a2.length) {
                  if (s) {
                    i3(0);
                  } else if (!n2) {
                    n2 = true;
                    f3(0);
                  }
                }
              }
            } else if (0 === e3.tag) {
              a2.push(t4 = e3[0]);
              t4(0);
            } else if (a2.length) {
              i3(e3);
              t4(0);
            }
          });
        }(r3(t3[0]));
        if (!n2) {
          n2 = true;
          f3(0);
        }
      }
    });
    i3(start((e3) => {
      if (1 === e3) {
        if (!s) {
          s = true;
          f3(1);
        }
        for (var r4 = 0, t3 = a2, i4 = a2.length; r4 < i4; r4++) {
          t3[r4](1);
        }
        a2.length = 0;
      } else {
        if (!s && !n2) {
          n2 = true;
          f3(0);
        } else {
          n2 = false;
        }
        for (var l3 = 0, u3 = a2, o2 = a2.length; l3 < o2; l3++) {
          u3[l3](0);
        }
      }
    }));
  };
}
function mergeAll(e3) {
  return mergeMap(identity)(e3);
}
function merge(e3) {
  return mergeAll(r(e3));
}
function onEnd(e3) {
  return (r3) => (t2) => {
    var i3 = false;
    r3((r4) => {
      if (i3) {
      } else if (0 === r4) {
        i3 = true;
        t2(0);
        e3();
      } else if (0 === r4.tag) {
        var a2 = r4[0];
        t2(start((r5) => {
          if (1 === r5) {
            i3 = true;
            a2(1);
            e3();
          } else {
            a2(r5);
          }
        }));
      } else {
        t2(r4);
      }
    });
  };
}
function onPush(e3) {
  return (r3) => (t2) => {
    var i3 = false;
    r3((r4) => {
      if (i3) {
      } else if (0 === r4) {
        i3 = true;
        t2(0);
      } else if (0 === r4.tag) {
        var a2 = r4[0];
        t2(start((e4) => {
          if (1 === e4) {
            i3 = true;
          }
          a2(e4);
        }));
      } else {
        e3(r4[0]);
        t2(r4);
      }
    });
  };
}
function onStart(e3) {
  return (r3) => (t2) => r3((r4) => {
    if (0 === r4) {
      t2(0);
    } else if (0 === r4.tag) {
      t2(r4);
      e3();
    } else {
      t2(r4);
    }
  });
}
function share(r3) {
  var t2 = [];
  var i3 = e2;
  var a2 = false;
  return (e3) => {
    t2.push(e3);
    if (1 === t2.length) {
      r3((e4) => {
        if (0 === e4) {
          for (var r4 = 0, f3 = t2, n2 = t2.length; r4 < n2; r4++) {
            f3[r4](0);
          }
          t2.length = 0;
        } else if (0 === e4.tag) {
          i3 = e4[0];
        } else {
          a2 = false;
          for (var s = 0, l3 = t2, u3 = t2.length; s < u3; s++) {
            l3[s](e4);
          }
        }
      });
    }
    e3(start((r4) => {
      if (1 === r4) {
        var f3 = t2.indexOf(e3);
        if (f3 > -1) {
          (t2 = t2.slice()).splice(f3, 1);
        }
        if (!t2.length) {
          i3(1);
        }
      } else if (!a2) {
        a2 = true;
        i3(0);
      }
    }));
  };
}
function switchMap(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    var f3 = e2;
    var n2 = false;
    var s = false;
    var l3 = false;
    var u3 = false;
    t2((t3) => {
      if (u3) {
      } else if (0 === t3) {
        u3 = true;
        if (!l3) {
          i3(0);
        }
      } else if (0 === t3.tag) {
        a2 = t3[0];
      } else {
        if (l3) {
          f3(1);
          f3 = e2;
        }
        if (!n2) {
          n2 = true;
          a2(0);
        } else {
          n2 = false;
        }
        !function applyInnerSource(e3) {
          l3 = true;
          e3((e4) => {
            if (!l3) {
            } else if (0 === e4) {
              l3 = false;
              if (u3) {
                i3(0);
              } else if (!n2) {
                n2 = true;
                a2(0);
              }
            } else if (0 === e4.tag) {
              s = false;
              (f3 = e4[0])(0);
            } else {
              i3(e4);
              if (!s) {
                f3(0);
              } else {
                s = false;
              }
            }
          });
        }(r3(t3[0]));
      }
    });
    i3(start((e3) => {
      if (1 === e3) {
        if (!u3) {
          u3 = true;
          a2(1);
        }
        if (l3) {
          l3 = false;
          f3(1);
        }
      } else {
        if (!u3 && !n2) {
          n2 = true;
          a2(0);
        }
        if (l3 && !s) {
          s = true;
          f3(0);
        }
      }
    }));
  };
}
function take(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    var f3 = false;
    var n2 = 0;
    t2((e3) => {
      if (f3) {
      } else if (0 === e3) {
        f3 = true;
        i3(0);
      } else if (0 === e3.tag) {
        if (r3 <= 0) {
          f3 = true;
          i3(0);
          e3[0](1);
        } else {
          a2 = e3[0];
        }
      } else if (n2++ < r3) {
        i3(e3);
        if (!f3 && n2 >= r3) {
          f3 = true;
          i3(0);
          a2(1);
        }
      } else {
        i3(e3);
      }
    });
    i3(start((e3) => {
      if (1 === e3 && !f3) {
        f3 = true;
        a2(1);
      } else if (0 === e3 && !f3 && n2 < r3) {
        a2(0);
      }
    }));
  };
}
function takeUntil(r3) {
  return (t2) => (i3) => {
    var a2 = e2;
    var f3 = e2;
    var n2 = false;
    t2((e3) => {
      if (n2) {
      } else if (0 === e3) {
        n2 = true;
        f3(1);
        i3(0);
      } else if (0 === e3.tag) {
        a2 = e3[0];
        r3((e4) => {
          if (0 === e4) {
          } else if (0 === e4.tag) {
            (f3 = e4[0])(0);
          } else {
            n2 = true;
            f3(1);
            a2(1);
            i3(0);
          }
        });
      } else {
        i3(e3);
      }
    });
    i3(start((e3) => {
      if (1 === e3 && !n2) {
        n2 = true;
        a2(1);
        f3(1);
      } else if (!n2) {
        a2(0);
      }
    }));
  };
}
function takeWhile(r3, t2) {
  return (i3) => (a2) => {
    var f3 = e2;
    var n2 = false;
    i3((e3) => {
      if (n2) {
      } else if (0 === e3) {
        n2 = true;
        a2(0);
      } else if (0 === e3.tag) {
        f3 = e3[0];
        a2(e3);
      } else if (!r3(e3[0])) {
        n2 = true;
        if (t2) {
          a2(e3);
        }
        a2(0);
        f3(1);
      } else {
        a2(e3);
      }
    });
  };
}
function lazy(e3) {
  return (r3) => e3()(r3);
}
function fromAsyncIterable(e3) {
  return (r3) => {
    var t2 = e3[asyncIteratorSymbol()] && e3[asyncIteratorSymbol()]() || e3;
    var i3 = false;
    var a2 = false;
    var f3 = false;
    var n2;
    r3(start(async (e4) => {
      if (1 === e4) {
        i3 = true;
        if (t2.return) {
          t2.return();
        }
      } else if (a2) {
        f3 = true;
      } else {
        for (f3 = a2 = true; f3 && !i3; ) {
          if ((n2 = await t2.next()).done) {
            i3 = true;
            if (t2.return) {
              await t2.return();
            }
            r3(0);
          } else {
            try {
              f3 = false;
              r3(push(n2.value));
            } catch (e5) {
              if (t2.throw) {
                if (i3 = !!(await t2.throw(e5)).done) {
                  r3(0);
                }
              } else {
                throw e5;
              }
            }
          }
        }
        a2 = false;
      }
    }));
  };
}
function fromIterable(e3) {
  if (e3[Symbol.asyncIterator]) {
    return fromAsyncIterable(e3);
  }
  return (r3) => {
    var t2 = e3[Symbol.iterator]();
    var i3 = false;
    var a2 = false;
    var f3 = false;
    var n2;
    r3(start((e4) => {
      if (1 === e4) {
        i3 = true;
        if (t2.return) {
          t2.return();
        }
      } else if (a2) {
        f3 = true;
      } else {
        for (f3 = a2 = true; f3 && !i3; ) {
          if ((n2 = t2.next()).done) {
            i3 = true;
            if (t2.return) {
              t2.return();
            }
            r3(0);
          } else {
            try {
              f3 = false;
              r3(push(n2.value));
            } catch (e5) {
              if (t2.throw) {
                if (i3 = !!t2.throw(e5).done) {
                  r3(0);
                }
              } else {
                throw e5;
              }
            }
          }
        }
        a2 = false;
      }
    }));
  };
}
var r = fromIterable;
function fromValue(e3) {
  return (r3) => {
    var t2 = false;
    r3(start((i3) => {
      if (1 === i3) {
        t2 = true;
      } else if (!t2) {
        t2 = true;
        r3(push(e3));
        r3(0);
      }
    }));
  };
}
function make(e3) {
  return (r3) => {
    var t2 = false;
    var i3 = e3({
      next(e4) {
        if (!t2) {
          r3(push(e4));
        }
      },
      complete() {
        if (!t2) {
          t2 = true;
          r3(0);
        }
      }
    });
    r3(start((e4) => {
      if (1 === e4 && !t2) {
        t2 = true;
        i3();
      }
    }));
  };
}
function makeSubject() {
  var e3;
  var r3;
  return {
    source: share(make((t2) => {
      e3 = t2.next;
      r3 = t2.complete;
      return teardownPlaceholder;
    })),
    next(r4) {
      if (e3) {
        e3(r4);
      }
    },
    complete() {
      if (r3) {
        r3();
      }
    }
  };
}
function subscribe(r3) {
  return (t2) => {
    var i3 = e2;
    var a2 = false;
    t2((e3) => {
      if (0 === e3) {
        a2 = true;
      } else if (0 === e3.tag) {
        (i3 = e3[0])(0);
      } else if (!a2) {
        r3(e3[0]);
        i3(0);
      }
    });
    return {
      unsubscribe() {
        if (!a2) {
          a2 = true;
          i3(1);
        }
      }
    };
  };
}
function publish(e3) {
  subscribe((e4) => {
  })(e3);
}
function toPromise(r3) {
  return new Promise((t2) => {
    var i3 = e2;
    var a2;
    r3((e3) => {
      if (0 === e3) {
        Promise.resolve(a2).then(t2);
      } else if (0 === e3.tag) {
        (i3 = e3[0])(0);
      } else {
        a2 = e3[0];
        i3(0);
      }
    });
  });
}
var pipe = (...e3) => {
  var r3 = e3[0];
  for (var t2 = 1, i3 = e3.length; t2 < i3; t2++) {
    r3 = e3[t2](r3);
  }
  return r3;
};

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@urql/core@6.0.1/node_modules/@urql/core/dist/urql-core-chunk.mjs
var rehydrateGraphQlError = (r3) => {
  if (r3 && "string" == typeof r3.message && (r3.extensions || "GraphQLError" === r3.name)) {
    return r3;
  } else if ("object" == typeof r3 && "string" == typeof r3.message) {
    return new GraphQLError(r3.message, r3.nodes, r3.source, r3.positions, r3.path, r3, r3.extensions || {});
  } else {
    return new GraphQLError(r3);
  }
};
var CombinedError = class extends Error {
  constructor(e3) {
    var r3 = (e3.graphQLErrors || []).map(rehydrateGraphQlError);
    var t2 = ((e4, r4) => {
      var t3 = "";
      if (e4) {
        return `[Network] ${e4.message}`;
      }
      if (r4) {
        for (var a2 = 0, n2 = r4.length; a2 < n2; a2++) {
          if (t3) {
            t3 += "\n";
          }
          t3 += `[GraphQL] ${r4[a2].message}`;
        }
      }
      return t3;
    })(e3.networkError, r3);
    super(t2);
    this.name = "CombinedError";
    this.message = t2;
    this.graphQLErrors = r3;
    this.networkError = e3.networkError;
    this.response = e3.response;
  }
  toString() {
    return this.message;
  }
};
var phash = (e3, r3) => {
  var t2 = 0 | (r3 || 5381);
  for (var a2 = 0, n2 = 0 | e3.length; a2 < n2; a2++) {
    t2 = (t2 << 5) + t2 + e3.charCodeAt(a2);
  }
  return t2;
};
var i2 = /* @__PURE__ */ new Set();
var f = /* @__PURE__ */ new WeakMap();
var stringify = (e3, r3) => {
  if (null === e3 || i2.has(e3)) {
    return "null";
  } else if ("object" != typeof e3) {
    return JSON.stringify(e3) || "";
  } else if (e3.toJSON) {
    return stringify(e3.toJSON(), r3);
  } else if (Array.isArray(e3)) {
    var t2 = "[";
    for (var a2 = 0, n2 = e3.length; a2 < n2; a2++) {
      if (t2.length > 1) {
        t2 += ",";
      }
      t2 += stringify(e3[a2], r3) || "null";
    }
    return t2 += "]";
  } else if (!r3 && (d2 !== NoopConstructor && e3 instanceof d2 || l !== NoopConstructor && e3 instanceof l)) {
    return "null";
  }
  var o2 = Object.keys(e3).sort();
  if (!o2.length && e3.constructor && Object.getPrototypeOf(e3).constructor !== Object.prototype.constructor) {
    var s = f.get(e3) || Math.random().toString(36).slice(2);
    f.set(e3, s);
    return stringify({
      __key: s
    }, r3);
  }
  i2.add(e3);
  var c3 = "{";
  for (var v3 = 0, u3 = o2.length; v3 < u3; v3++) {
    var p3 = stringify(e3[o2[v3]], r3);
    if (p3) {
      if (c3.length > 1) {
        c3 += ",";
      }
      c3 += stringify(o2[v3], r3) + ":" + p3;
    }
  }
  i2.delete(e3);
  return c3 += "}";
};
var extract = (e3, r3, t2) => {
  if (null == t2 || "object" != typeof t2 || t2.toJSON || i2.has(t2)) {
  } else if (Array.isArray(t2)) {
    for (var a2 = 0, n2 = t2.length; a2 < n2; a2++) {
      extract(e3, `${r3}.${a2}`, t2[a2]);
    }
  } else if (t2 instanceof d2 || t2 instanceof l) {
    e3.set(r3, t2);
  } else {
    i2.add(t2);
    for (var o2 in t2) {
      extract(e3, `${r3}.${o2}`, t2[o2]);
    }
  }
};
var stringifyVariables = (e3, r3) => {
  i2.clear();
  return stringify(e3, r3 || false);
};
var NoopConstructor = class {
};
var d2 = "undefined" != typeof File ? File : NoopConstructor;
var l = "undefined" != typeof Blob ? Blob : NoopConstructor;
var c = /("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g;
var v = /(?:#[^\n\r]+)?(?:[\r\n]+|$)/g;
var replaceOutsideStrings = (e3, r3) => r3 % 2 == 0 ? e3.replace(v, "\n") : e3;
var sanitizeDocument = (e3) => e3.split(c).map(replaceOutsideStrings).join("").trim();
var u2 = /* @__PURE__ */ new Map();
var p = /* @__PURE__ */ new Map();
var stringifyDocument = (e3) => {
  var t2;
  if ("string" == typeof e3) {
    t2 = sanitizeDocument(e3);
  } else if (e3.loc && p.get(e3.__key) === e3) {
    t2 = e3.loc.source.body;
  } else {
    t2 = u2.get(e3) || sanitizeDocument(print(e3));
    u2.set(e3, t2);
  }
  if ("string" != typeof e3 && !e3.loc) {
    e3.loc = {
      start: 0,
      end: t2.length,
      source: {
        body: t2,
        name: "gql",
        locationOffset: {
          line: 1,
          column: 1
        }
      }
    };
  }
  return t2;
};
var hashDocument = (e3) => {
  var r3;
  if (e3.documentId) {
    r3 = phash(e3.documentId);
  } else {
    r3 = phash(stringifyDocument(e3));
    if (e3.definitions) {
      var t2 = getOperationName(e3);
      if (t2) {
        r3 = phash(`
# ${t2}`, r3);
      }
    }
  }
  return r3;
};
var keyDocument = (e3) => {
  var r3;
  var t2;
  if ("string" == typeof e3) {
    r3 = hashDocument(e3);
    t2 = p.get(r3) || parse(e3, {
      noLocation: true
    });
  } else {
    r3 = e3.__key || hashDocument(e3);
    t2 = p.get(r3) || e3;
  }
  if (!t2.loc) {
    stringifyDocument(t2);
  }
  t2.__key = r3;
  p.set(r3, t2);
  return t2;
};
var createRequest = (e3, r3, t2) => {
  var a2 = r3 || {};
  var n2 = keyDocument(e3);
  var o2 = stringifyVariables(a2, true);
  var s = n2.__key;
  if ("{}" !== o2) {
    s = phash(o2, s);
  }
  return {
    key: s,
    query: n2,
    variables: a2,
    extensions: t2
  };
};
var getOperationName = (e3) => {
  for (var r3 = 0, a2 = e3.definitions.length; r3 < a2; r3++) {
    var n2 = e3.definitions[r3];
    if (n2.kind === e.OPERATION_DEFINITION) {
      return n2.name ? n2.name.value : void 0;
    }
  }
};
var makeResult = (e3, r3, t2) => {
  if (!("data" in r3 || "errors" in r3 && Array.isArray(r3.errors))) {
    throw new Error("No Content");
  }
  var a2 = "subscription" === e3.kind;
  return {
    operation: e3,
    data: r3.data,
    error: Array.isArray(r3.errors) ? new CombinedError({
      graphQLErrors: r3.errors,
      response: t2
    }) : void 0,
    extensions: r3.extensions ? {
      ...r3.extensions
    } : void 0,
    hasNext: null == r3.hasNext ? a2 : r3.hasNext,
    stale: false
  };
};
var deepMerge = (e3, r3) => {
  if ("object" == typeof e3 && null != e3) {
    if (Array.isArray(e3)) {
      e3 = [...e3];
      for (var t2 = 0, a2 = r3.length; t2 < a2; t2++) {
        e3[t2] = deepMerge(e3[t2], r3[t2]);
      }
      return e3;
    }
    if (!e3.constructor || e3.constructor === Object) {
      e3 = {
        ...e3
      };
      for (var n2 in r3) {
        e3[n2] = deepMerge(e3[n2], r3[n2]);
      }
      return e3;
    }
  }
  return r3;
};
var mergeResultPatch = (e3, r3, t2, a2) => {
  var n2 = e3.error ? e3.error.graphQLErrors : [];
  var o2 = !!e3.extensions || !!(r3.payload || r3).extensions;
  var s = {
    ...e3.extensions,
    ...(r3.payload || r3).extensions
  };
  var i3 = r3.incremental;
  if ("path" in r3) {
    i3 = [r3];
  }
  var f3 = {
    data: e3.data
  };
  if (i3) {
    var _loop = function() {
      var e4 = i3[d4];
      if (Array.isArray(e4.errors)) {
        n2.push(...e4.errors);
      }
      if (e4.extensions) {
        Object.assign(s, e4.extensions);
        o2 = true;
      }
      var r4 = "data";
      var t3 = f3;
      var l4 = [];
      if (e4.path) {
        l4 = e4.path;
      } else if (a2) {
        var c3 = a2.find((r5) => r5.id === e4.id);
        if (e4.subPath) {
          l4 = [...c3.path, ...e4.subPath];
        } else {
          l4 = c3.path;
        }
      }
      for (var v3 = 0, u3 = l4.length; v3 < u3; r4 = l4[v3++]) {
        t3 = t3[r4] = Array.isArray(t3[r4]) ? [...t3[r4]] : {
          ...t3[r4]
        };
      }
      if (e4.items) {
        var p3 = +r4 >= 0 ? r4 : 0;
        for (var h2 = 0, y2 = e4.items.length; h2 < y2; h2++) {
          t3[p3 + h2] = deepMerge(t3[p3 + h2], e4.items[h2]);
        }
      } else if (void 0 !== e4.data) {
        t3[r4] = deepMerge(t3[r4], e4.data);
      }
    };
    for (var d4 = 0, l3 = i3.length; d4 < l3; d4++) {
      _loop();
    }
  } else {
    f3.data = (r3.payload || r3).data || e3.data;
    n2 = r3.errors || r3.payload && r3.payload.errors || n2;
  }
  return {
    operation: e3.operation,
    data: f3.data,
    error: n2.length ? new CombinedError({
      graphQLErrors: n2,
      response: t2
    }) : void 0,
    extensions: o2 ? s : void 0,
    hasNext: null != r3.hasNext ? r3.hasNext : e3.hasNext,
    stale: false
  };
};
var makeErrorResult = (e3, r3, t2) => ({
  operation: e3,
  data: void 0,
  error: new CombinedError({
    networkError: r3,
    response: t2
  }),
  extensions: void 0,
  hasNext: false,
  stale: false
});
function makeFetchBody(e3) {
  var r3 = {
    query: void 0,
    documentId: void 0,
    operationName: getOperationName(e3.query),
    variables: e3.variables || void 0,
    extensions: e3.extensions
  };
  if ("documentId" in e3.query && e3.query.documentId && (!e3.query.definitions || !e3.query.definitions.length)) {
    r3.documentId = e3.query.documentId;
  } else if (!e3.extensions || !e3.extensions.persistedQuery || e3.extensions.persistedQuery.miss) {
    r3.query = stringifyDocument(e3.query);
  }
  return r3;
}
var makeFetchURL = (e3, r3) => {
  var t2 = "query" === e3.kind && e3.context.preferGetMethod;
  if (!t2 || !r3) {
    return e3.context.url;
  }
  var a2 = splitOutSearchParams(e3.context.url);
  for (var n2 in r3) {
    var o2 = r3[n2];
    if (o2) {
      a2[1].set(n2, "object" == typeof o2 ? stringifyVariables(o2) : o2);
    }
  }
  var s = a2.join("?");
  if (s.length > 2047 && "force" !== t2) {
    e3.context.preferGetMethod = false;
    return e3.context.url;
  }
  return s;
};
var splitOutSearchParams = (e3) => {
  var r3 = e3.indexOf("?");
  return r3 > -1 ? [e3.slice(0, r3), new URLSearchParams(e3.slice(r3 + 1))] : [e3, new URLSearchParams()];
};
var serializeBody = (e3, r3) => {
  if (r3 && !("query" === e3.kind && !!e3.context.preferGetMethod)) {
    var t2 = stringifyVariables(r3);
    var a2 = ((e4) => {
      var r4 = /* @__PURE__ */ new Map();
      if (d2 !== NoopConstructor || l !== NoopConstructor) {
        i2.clear();
        extract(r4, "variables", e4);
      }
      return r4;
    })(r3.variables);
    if (a2.size) {
      var n2 = new FormData();
      n2.append("operations", t2);
      n2.append("map", stringifyVariables({
        ...[...a2.keys()].map((e4) => [e4])
      }));
      var o2 = 0;
      for (var s of a2.values()) {
        n2.append("" + o2++, s);
      }
      return n2;
    }
    return t2;
  }
};
var makeFetchOptions = (e3, r3) => {
  var t2 = {
    accept: "subscription" === e3.kind ? "text/event-stream, multipart/mixed" : "application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"
  };
  var a2 = ("function" == typeof e3.context.fetchOptions ? e3.context.fetchOptions() : e3.context.fetchOptions) || {};
  if (a2.headers) {
    if (((e4) => "has" in e4 && !Object.keys(e4).length)(a2.headers)) {
      a2.headers.forEach((e4, r4) => {
        t2[r4] = e4;
      });
    } else if (Array.isArray(a2.headers)) {
      a2.headers.forEach((e4, r4) => {
        if (Array.isArray(e4)) {
          if (t2[e4[0]]) {
            t2[e4[0]] = `${t2[e4[0]]},${e4[1]}`;
          } else {
            t2[e4[0]] = e4[1];
          }
        } else {
          t2[r4] = e4;
        }
      });
    } else {
      for (var n2 in a2.headers) {
        t2[n2.toLowerCase()] = a2.headers[n2];
      }
    }
  }
  var o2 = serializeBody(e3, r3);
  if ("string" == typeof o2 && !t2["content-type"]) {
    t2["content-type"] = "application/json";
  }
  return {
    ...a2,
    method: o2 ? "POST" : "GET",
    body: o2,
    headers: t2
  };
};
var h = /boundary="?([^=";]+)"?/i;
var y = /data: ?([^\n]+)/;
async function* streamBody(e3) {
  if (e3.body[Symbol.asyncIterator]) {
    for await (var r3 of e3.body) {
      yield r3;
    }
  } else {
    var t2 = e3.body.getReader();
    var a2;
    try {
      while (!(a2 = await t2.read()).done) {
        yield a2.value;
      }
    } finally {
      t2.cancel();
    }
  }
}
async function* streamToBoundedChunks(e3, r3) {
  var t2 = "undefined" != typeof TextDecoder ? new TextDecoder() : null;
  var a2 = "";
  var n2;
  for await (var o2 of e3) {
    a2 += "Buffer" === o2.constructor.name ? o2.toString() : t2.decode(o2, {
      stream: true
    });
    while ((n2 = a2.indexOf(r3)) > -1) {
      yield a2.slice(0, n2);
      a2 = a2.slice(n2 + r3.length);
    }
  }
}
async function* fetchOperation(e3, r3, t2) {
  var a2 = true;
  var n2 = null;
  var o2;
  try {
    yield await Promise.resolve();
    var s = (o2 = await (e3.context.fetch || fetch)(r3, t2)).headers.get("Content-Type") || "";
    var i3;
    if (/multipart\/mixed/i.test(s)) {
      i3 = async function* parseMultipartMixed(e4, r4) {
        var t3 = e4.match(h);
        var a3 = "--" + (t3 ? t3[1] : "-");
        var n3 = true;
        var o3;
        for await (var s2 of streamToBoundedChunks(streamBody(r4), "\r\n" + a3)) {
          if (n3) {
            n3 = false;
            var i4 = s2.indexOf(a3);
            if (i4 > -1) {
              s2 = s2.slice(i4 + a3.length);
            } else {
              continue;
            }
          }
          try {
            yield o3 = JSON.parse(s2.slice(s2.indexOf("\r\n\r\n") + 4));
          } catch (e5) {
            if (!o3) {
              throw e5;
            }
          }
          if (o3 && false === o3.hasNext) {
            break;
          }
        }
        if (o3 && false !== o3.hasNext) {
          yield {
            hasNext: false
          };
        }
      }(s, o2);
    } else if (/text\/event-stream/i.test(s)) {
      i3 = async function* parseEventStream(e4) {
        var r4;
        for await (var t3 of streamToBoundedChunks(streamBody(e4), "\n\n")) {
          var a3 = t3.match(y);
          if (a3) {
            var n3 = a3[1];
            try {
              yield r4 = JSON.parse(n3);
            } catch (e5) {
              if (!r4) {
                throw e5;
              }
            }
            if (r4 && false === r4.hasNext) {
              break;
            }
          }
        }
        if (r4 && false !== r4.hasNext) {
          yield {
            hasNext: false
          };
        }
      }(o2);
    } else if (!/text\//i.test(s)) {
      i3 = async function* parseJSON(e4) {
        yield JSON.parse(await e4.text());
      }(o2);
    } else {
      i3 = async function* parseMaybeJSON(e4) {
        var r4 = await e4.text();
        try {
          var t3 = JSON.parse(r4);
          if (false) {
            console.warn('Found response with content-type "text/plain" but it had a valid "application/json" response.');
          }
          yield t3;
        } catch (e5) {
          throw new Error(r4);
        }
      }(o2);
    }
    var f3;
    for await (var d4 of i3) {
      if (d4.pending && !n2) {
        f3 = d4.pending;
      } else if (d4.pending) {
        f3 = [...f3, ...d4.pending];
      }
      n2 = n2 ? mergeResultPatch(n2, d4, o2, f3) : makeResult(e3, d4, o2);
      a2 = false;
      yield n2;
      a2 = true;
    }
    if (!n2) {
      yield n2 = makeResult(e3, {}, o2);
    }
  } catch (r4) {
    if (!a2) {
      throw r4;
    }
    yield makeErrorResult(e3, o2 && (o2.status < 200 || o2.status >= 300) && o2.statusText ? new Error(o2.statusText) : r4, o2);
  }
}
function makeFetchSource(e3, r3, t2) {
  var a2;
  if ("undefined" != typeof AbortController) {
    t2.signal = (a2 = new AbortController()).signal;
  }
  return onEnd(() => {
    if (a2) {
      a2.abort();
    }
  })(filter((e4) => !!e4)(fromAsyncIterable(fetchOperation(e3, r3, t2))));
}

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/@urql/core@6.0.1/node_modules/@urql/core/dist/urql-core.mjs
var collectTypes = (e3, r3) => {
  if (Array.isArray(e3)) {
    for (var t2 = 0, n2 = e3.length; t2 < n2; t2++) {
      collectTypes(e3[t2], r3);
    }
  } else if ("object" == typeof e3 && null !== e3) {
    for (var a2 in e3) {
      if ("__typename" === a2 && "string" == typeof e3[a2]) {
        r3.add(e3[a2]);
      } else {
        collectTypes(e3[a2], r3);
      }
    }
  }
  return r3;
};
var formatNode = (r3) => {
  if ("definitions" in r3) {
    var t2 = [];
    for (var n2 = 0, a2 = r3.definitions.length; n2 < a2; n2++) {
      var i3 = formatNode(r3.definitions[n2]);
      t2.push(i3);
    }
    return {
      ...r3,
      definitions: t2
    };
  }
  if ("directives" in r3 && r3.directives && r3.directives.length) {
    var o2 = [];
    var s = {};
    for (var c3 = 0, u3 = r3.directives.length; c3 < u3; c3++) {
      var p3 = r3.directives[c3];
      var d4 = p3.name.value;
      if ("_" !== d4[0]) {
        o2.push(p3);
      } else {
        d4 = d4.slice(1);
      }
      s[d4] = p3;
    }
    r3 = {
      ...r3,
      directives: o2,
      _directives: s
    };
  }
  if ("selectionSet" in r3) {
    var l3 = [];
    var v3 = r3.kind === e.OPERATION_DEFINITION;
    if (r3.selectionSet) {
      for (var f3 = 0, h2 = r3.selectionSet.selections.length; f3 < h2; f3++) {
        var k = r3.selectionSet.selections[f3];
        v3 = v3 || k.kind === e.FIELD && "__typename" === k.name.value && !k.alias;
        var y2 = formatNode(k);
        l3.push(y2);
      }
      if (!v3) {
        l3.push({
          kind: e.FIELD,
          name: {
            kind: e.NAME,
            value: "__typename"
          },
          _generated: true
        });
      }
      return {
        ...r3,
        selectionSet: {
          ...r3.selectionSet,
          selections: l3
        }
      };
    }
  }
  return r3;
};
var I = /* @__PURE__ */ new Map();
var formatDocument = (e3) => {
  var t2 = keyDocument(e3);
  var n2 = I.get(t2.__key);
  if (!n2) {
    I.set(t2.__key, n2 = formatNode(t2));
    Object.defineProperty(n2, "__key", {
      value: t2.__key,
      enumerable: false
    });
  }
  return n2;
};
function withPromise(e3) {
  var source$ = (r3) => e3(r3);
  source$.toPromise = () => toPromise(take(1)(filter((e4) => !e4.stale && !e4.hasNext)(source$)));
  source$.then = (e4, r3) => source$.toPromise().then(e4, r3);
  source$.subscribe = (e4) => subscribe(e4)(source$);
  return source$;
}
function makeOperation(e3, r3, t2) {
  return {
    ...r3,
    kind: e3,
    context: r3.context ? {
      ...r3.context,
      ...t2
    } : t2 || r3.context
  };
}
var addMetadata = (e3, r3) => makeOperation(e3.kind, e3, {
  meta: {
    ...e3.context.meta,
    ...r3
  }
});
var noop = () => {
};
var shouldSkip = ({ kind: e3 }) => "mutation" !== e3 && "query" !== e3;
var mapTypeNames = (e3) => {
  var r3 = formatDocument(e3.query);
  if (r3 !== e3.query) {
    var t2 = makeOperation(e3.kind, e3);
    t2.query = r3;
    return t2;
  } else {
    return e3;
  }
};
var cacheExchange = ({ forward: e3, client: r3, dispatchDebug: t2 }) => {
  var a2 = /* @__PURE__ */ new Map();
  var i3 = /* @__PURE__ */ new Map();
  var isOperationCached = (e4) => "query" === e4.kind && "network-only" !== e4.context.requestPolicy && ("cache-only" === e4.context.requestPolicy || a2.has(e4.key));
  return (o2) => {
    var s = map((e4) => {
      var i4 = a2.get(e4.key);
      var o3 = i4 || makeResult(e4, {
        data: null
      });
      o3 = {
        ...o3,
        operation: addMetadata(e4, {
          cacheOutcome: i4 ? "hit" : "miss"
        })
      };
      if ("cache-and-network" === e4.context.requestPolicy) {
        o3.stale = true;
        reexecuteOperation(r3, e4);
      }
      return o3;
    })(filter((e4) => !shouldSkip(e4) && isOperationCached(e4))(o2));
    var c3 = onPush((e4) => {
      var { operation: n2 } = e4;
      if (!n2) {
        return;
      }
      var o3 = n2.context.additionalTypenames || [];
      if ("subscription" !== e4.operation.kind) {
        o3 = ((e5) => [...collectTypes(e5, /* @__PURE__ */ new Set())])(e4.data).concat(o3);
      }
      if ("mutation" === e4.operation.kind || "subscription" === e4.operation.kind) {
        var s2 = /* @__PURE__ */ new Set();
        for (var c4 = 0; c4 < o3.length; c4++) {
          var u3 = o3[c4];
          var p3 = i3.get(u3);
          if (!p3) {
            i3.set(u3, p3 = /* @__PURE__ */ new Set());
          }
          for (var d4 of p3.values()) {
            s2.add(d4);
          }
          p3.clear();
        }
        for (var l3 of s2.values()) {
          if (a2.has(l3)) {
            n2 = a2.get(l3).operation;
            a2.delete(l3);
            reexecuteOperation(r3, n2);
          }
        }
      } else if ("query" === n2.kind && e4.data) {
        a2.set(n2.key, e4);
        for (var v3 = 0; v3 < o3.length; v3++) {
          var f3 = o3[v3];
          var h2 = i3.get(f3);
          if (!h2) {
            i3.set(f3, h2 = /* @__PURE__ */ new Set());
          }
          h2.add(n2.key);
        }
      }
    })(e3(filter((e4) => "query" !== e4.kind || "cache-only" !== e4.context.requestPolicy)(map((e4) => addMetadata(e4, {
      cacheOutcome: "miss"
    }))(merge([map(mapTypeNames)(filter((e4) => !shouldSkip(e4) && !isOperationCached(e4))(o2)), filter((e4) => shouldSkip(e4))(o2)])))));
    return merge([s, c3]);
  };
};
var reexecuteOperation = (e3, r3) => e3.reexecuteOperation(makeOperation(r3.kind, r3, {
  requestPolicy: "network-only"
}));
var fetchExchange = ({ forward: e3, dispatchDebug: r3 }) => (t2) => {
  var n2 = mergeMap((e4) => {
    var n3 = makeFetchBody(e4);
    var a3 = makeFetchURL(e4, n3);
    var i3 = makeFetchOptions(e4, n3);
    var s = takeUntil(filter((r4) => "teardown" === r4.kind && r4.key === e4.key)(t2))(makeFetchSource(e4, a3, i3));
    if (false) {
      return onPush((t3) => {
        var n4 = !t3.data ? t3.error : void 0;
      })(s);
    }
    return s;
  })(filter((e4) => "teardown" !== e4.kind && ("subscription" !== e4.kind || !!e4.context.fetchSubscriptions))(t2));
  var a2 = e3(filter((e4) => "teardown" === e4.kind || "subscription" === e4.kind && !e4.context.fetchSubscriptions)(t2));
  return merge([n2, a2]);
};
var composeExchanges = (e3) => ({ client: r3, forward: t2, dispatchDebug: n2 }) => e3.reduceRight((e4, t3) => {
  var a2 = false;
  return t3({
    client: r3,
    forward(r4) {
      if (false) {
        if (a2) {
          throw new Error("forward() must only be called once in each Exchange.");
        }
        a2 = true;
      }
      return share(e4(share(r4)));
    },
    dispatchDebug(e5) {
    }
  });
}, t2);
var fallbackExchange = ({ dispatchDebug: e3 }) => (r3) => {
  if (false) {
    r3 = onPush((r4) => {
      if ("teardown" !== r4.kind && false) {
        var t2 = `No exchange has handled operations of kind "${r4.kind}". Check whether you've added an exchange responsible for these operations.`;
        console.warn(t2);
      }
    })(r3);
  }
  return filter((e4) => false)(r3);
};
var C = function Client(e3) {
  if (false) {
    throw new Error("You are creating an urql-client without a url.");
  }
  var r3 = 0;
  var t2 = /* @__PURE__ */ new Map();
  var n2 = /* @__PURE__ */ new Map();
  var a2 = /* @__PURE__ */ new Set();
  var i3 = [];
  var o2 = {
    url: e3.url,
    fetchSubscriptions: e3.fetchSubscriptions,
    fetchOptions: e3.fetchOptions,
    fetch: e3.fetch,
    preferGetMethod: null != e3.preferGetMethod ? e3.preferGetMethod : "within-url-limit",
    requestPolicy: e3.requestPolicy || "cache-first"
  };
  var s = makeSubject();
  function nextOperation(e4) {
    if ("mutation" === e4.kind || "teardown" === e4.kind || !a2.has(e4.key)) {
      if ("teardown" === e4.kind) {
        a2.delete(e4.key);
      } else if ("mutation" !== e4.kind) {
        a2.add(e4.key);
      }
      s.next(e4);
    }
  }
  var c3 = false;
  function dispatchOperation(e4) {
    if (e4) {
      nextOperation(e4);
    }
    if (!c3) {
      c3 = true;
      while (c3 && (e4 = i3.shift())) {
        nextOperation(e4);
      }
      c3 = false;
    }
  }
  var makeResultSource = (e4) => {
    var r4 = takeUntil(filter((r5) => "teardown" === r5.kind && r5.key === e4.key)(s.source))(filter((r5) => r5.operation.kind === e4.kind && r5.operation.key === e4.key && (!r5.operation.context._instance || r5.operation.context._instance === e4.context._instance))(E));
    if ("query" !== e4.kind) {
      r4 = takeWhile((e5) => !!e5.hasNext, true)(r4);
    } else {
      r4 = switchMap((r5) => {
        var t3 = fromValue(r5);
        return r5.stale || r5.hasNext ? t3 : merge([t3, map(() => {
          r5.stale = true;
          return r5;
        })(take(1)(filter((r6) => r6.key === e4.key)(s.source)))]);
      })(r4);
    }
    if ("mutation" !== e4.kind) {
      r4 = onEnd(() => {
        a2.delete(e4.key);
        t2.delete(e4.key);
        n2.delete(e4.key);
        c3 = false;
        for (var r5 = i3.length - 1; r5 >= 0; r5--) {
          if (i3[r5].key === e4.key) {
            i3.splice(r5, 1);
          }
        }
        nextOperation(makeOperation("teardown", e4, e4.context));
      })(onPush((r5) => {
        if (r5.stale) {
          if (!r5.hasNext) {
            a2.delete(e4.key);
          } else {
            for (var n3 = 0; n3 < i3.length; n3++) {
              var o3 = i3[n3];
              if (o3.key === r5.operation.key) {
                a2.delete(o3.key);
                break;
              }
            }
          }
        } else if (!r5.hasNext) {
          a2.delete(e4.key);
        }
        t2.set(e4.key, r5);
      })(r4));
    } else {
      r4 = onStart(() => {
        nextOperation(e4);
      })(r4);
    }
    return share(r4);
  };
  var u3 = this instanceof Client ? this : Object.create(Client.prototype);
  var p3 = Object.assign(u3, {
    suspense: !!e3.suspense,
    operations$: s.source,
    reexecuteOperation(e4) {
      if ("teardown" === e4.kind) {
        dispatchOperation(e4);
      } else if ("mutation" === e4.kind) {
        i3.push(e4);
        Promise.resolve().then(dispatchOperation);
      } else if (n2.has(e4.key)) {
        var r4 = false;
        for (var t3 = 0; t3 < i3.length; t3++) {
          if (i3[t3].key === e4.key) {
            i3[t3] = e4;
            r4 = true;
          }
        }
        if (!(r4 || a2.has(e4.key) && "network-only" !== e4.context.requestPolicy)) {
          i3.push(e4);
          Promise.resolve().then(dispatchOperation);
        } else {
          a2.delete(e4.key);
          Promise.resolve().then(dispatchOperation);
        }
      }
    },
    createRequestOperation(e4, t3, n3) {
      if (!n3) {
        n3 = {};
      }
      var a3;
      if (false) {
        throw new Error(`Expected operation of type "${e4}" but found "${a3}"`);
      }
      return makeOperation(e4, t3, {
        _instance: "mutation" === e4 ? r3 = r3 + 1 | 0 : void 0,
        ...o2,
        ...n3,
        requestPolicy: n3.requestPolicy || o2.requestPolicy,
        suspense: n3.suspense || false !== n3.suspense && p3.suspense
      });
    },
    executeRequestOperation(e4) {
      if ("mutation" === e4.kind) {
        return withPromise(makeResultSource(e4));
      }
      return withPromise(lazy(() => {
        var r4 = n2.get(e4.key);
        if (!r4) {
          n2.set(e4.key, r4 = makeResultSource(e4));
        }
        r4 = onStart(() => {
          dispatchOperation(e4);
        })(r4);
        var a3 = t2.get(e4.key);
        if ("query" === e4.kind && a3 && (a3.stale || a3.hasNext)) {
          return switchMap(fromValue)(merge([r4, filter((r5) => r5 === t2.get(e4.key))(fromValue(a3))]));
        } else {
          return r4;
        }
      }));
    },
    executeQuery(e4, r4) {
      var t3 = p3.createRequestOperation("query", e4, r4);
      return p3.executeRequestOperation(t3);
    },
    executeSubscription(e4, r4) {
      var t3 = p3.createRequestOperation("subscription", e4, r4);
      return p3.executeRequestOperation(t3);
    },
    executeMutation(e4, r4) {
      var t3 = p3.createRequestOperation("mutation", e4, r4);
      return p3.executeRequestOperation(t3);
    },
    readQuery(e4, r4, t3) {
      var n3 = null;
      subscribe((e5) => {
        n3 = e5;
      })(p3.query(e4, r4, t3)).unsubscribe();
      return n3;
    },
    query: (e4, r4, t3) => p3.executeQuery(createRequest(e4, r4), t3),
    subscription: (e4, r4, t3) => p3.executeSubscription(createRequest(e4, r4), t3),
    mutation: (e4, r4, t3) => p3.executeMutation(createRequest(e4, r4), t3)
  });
  var d4 = noop;
  if (false) {
    var { next: f3, source: x } = makeSubject();
    p3.subscribeToDebugTarget = (e4) => subscribe(e4)(x);
    d4 = f3;
  }
  var w = composeExchanges(e3.exchanges);
  var E = share(w({
    client: p3,
    dispatchDebug: d4,
    forward: fallbackExchange({
      dispatchDebug: d4
    })
  })(s.source));
  publish(E);
  return p3;
};
var Q = C;

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/urql@5.0.1_@urql+core@6.0.1_react@18.3.1/node_modules/urql/dist/urql.es.js
var r2 = __toESM(require_react());
var c2 = {};
var v2 = r2.createContext(c2);
var f2 = v2.Provider;
var l2 = v2.Consumer;
v2.displayName = "UrqlContext";
var useClient = () => {
  var e3 = r2.useContext(v2);
  if (e3 === c2 && false) {
    var t2 = "No client has been specified using urql's Provider. please create a client and add a Provider.";
    console.error(t2);
    throw new Error(t2);
  }
  return e3;
};
var d3 = {
  fetching: false,
  stale: false,
  hasNext: false,
  error: void 0,
  data: void 0,
  extensions: void 0,
  operation: void 0
};
var areOperationsEqual = (e3, r3) => e3 === r3 || !(!e3 || !r3 || e3.key !== r3.key);
var computeNextState = (e3, r3) => {
  var t2 = {
    ...e3,
    ...r3,
    data: void 0 !== r3.data || r3.error ? r3.data : e3.data,
    fetching: !!r3.fetching,
    stale: !!r3.stale
  };
  return ((e4, r4) => {
    for (var t3 in e4) {
      if (!(t3 in r4)) {
        return true;
      }
    }
    for (var a2 in r4) {
      if ("operation" === a2 ? !areOperationsEqual(e4[a2], r4[a2]) : e4[a2] !== r4[a2]) {
        return true;
      }
    }
    return false;
  })(e3, t2) ? t2 : e3;
};
var hasDepsChanged = (e3, r3) => {
  for (var t2 = 0, a2 = r3.length; t2 < a2; t2++) {
    if (e3[t2] !== r3[t2]) {
      return true;
    }
  }
  return false;
};
var p2 = false;
function deferDispatch(e3, r3) {
  if (!p2 || void 0 === r3) {
    try {
      p2 = true;
      return e3(r3);
    } finally {
      p2 = false;
    }
  } else {
    Promise.resolve(r3).then(e3);
  }
}
function useRequest(t2, a2) {
  var n2 = r2.useRef(void 0);
  return r2.useMemo(() => {
    var r3 = createRequest(t2, a2);
    if (void 0 !== n2.current && n2.current.key === r3.key) {
      return n2.current;
    } else {
      n2.current = r3;
      return r3;
    }
  }, [t2, a2]);
}
var getCacheForClient = (e3) => {
  if (!e3._react) {
    var r3 = /* @__PURE__ */ new Set();
    var t2 = /* @__PURE__ */ new Map();
    if (e3.operations$) {
      subscribe((e4) => {
        if ("teardown" === e4.kind && r3.has(e4.key)) {
          r3.delete(e4.key);
          t2.delete(e4.key);
        }
      })(e3.operations$);
    }
    e3._react = {
      get: (e4) => t2.get(e4),
      set(e4, a2) {
        r3.delete(e4);
        t2.set(e4, a2);
      },
      dispose(e4) {
        r3.add(e4);
      }
    };
  }
  return e3._react;
};
var isSuspense = (e3, r3) => r3 && void 0 !== r3.suspense ? !!r3.suspense : e3.suspense;
function useQuery(e3) {
  var t2 = useClient();
  var a2 = getCacheForClient(t2);
  var n2 = isSuspense(t2, e3.context);
  var c3 = useRequest(e3.query, e3.variables);
  var v3 = r2.useMemo(() => {
    if (e3.pause) {
      return null;
    }
    var r3 = t2.executeQuery(c3, {
      requestPolicy: e3.requestPolicy,
      ...e3.context
    });
    return n2 ? onPush((e4) => {
      a2.set(c3.key, e4);
    })(r3) : r3;
  }, [a2, t2, c3, n2, e3.pause, e3.requestPolicy, e3.context]);
  var f3 = r2.useCallback((e4, r3) => {
    if (!e4) {
      return {
        fetching: false
      };
    }
    var t3 = a2.get(c3.key);
    if (!t3) {
      var n3;
      var u3 = subscribe((e5) => {
        t3 = e5;
        if (n3) {
          n3(t3);
        }
      })(takeWhile(() => r3 && !n3 || !t3 || "hasNext" in t3 && t3.hasNext)(e4));
      if (null == t3 && r3) {
        var o2 = new Promise((e5) => {
          n3 = e5;
        });
        a2.set(c3.key, o2);
        throw o2;
      } else {
        u3.unsubscribe();
      }
    } else if (r3 && null != t3 && "then" in t3) {
      throw t3;
    }
    return t3 || {
      fetching: true
    };
  }, [a2, c3]);
  var l3 = [t2, c3, e3.requestPolicy, e3.context, e3.pause];
  var [p3, h2] = r2.useState(() => [v3, computeNextState(d3, deferDispatch(() => f3(v3, n2))), l3]);
  var x = p3[1];
  if (v3 !== p3[0] && hasDepsChanged(p3[2], l3)) {
    h2([v3, x = computeNextState(p3[1], deferDispatch(() => f3(v3, n2))), l3]);
  }
  r2.useEffect(() => {
    var e4 = p3[0];
    var r3 = p3[2][1];
    var t3 = false;
    var updateResult = (e5) => {
      t3 = true;
      deferDispatch(h2, (r4) => {
        var t4 = computeNextState(r4[1], e5);
        return r4[1] !== t4 ? [r4[0], t4, r4[2]] : r4;
      });
    };
    if (e4) {
      var n3 = subscribe(updateResult)(onEnd(() => {
        updateResult({
          fetching: false
        });
      })(e4));
      if (!t3) {
        updateResult({
          fetching: true
        });
      }
      return () => {
        a2.dispose(r3.key);
        n3.unsubscribe();
      };
    } else {
      updateResult({
        fetching: false
      });
    }
  }, [a2, p3[0], p3[2][1]]);
  var y2 = r2.useCallback((r3) => {
    var i3 = {
      requestPolicy: e3.requestPolicy,
      ...e3.context,
      ...r3
    };
    deferDispatch(h2, (e4) => [n2 ? onPush((e5) => {
      a2.set(c3.key, e5);
    })(t2.executeQuery(c3, i3)) : t2.executeQuery(c3, i3), e4[1], l3]);
  }, [t2, a2, c3, n2, e3.requestPolicy, e3.context, e3.pause]);
  return [x, y2];
}

// public/pages/LoginPage.tsx
var import_react3 = __toESM(require_react());

// public/components/LoginForm.tsx
var import_react2 = __toESM(require_react());

// public/context/AuthContext.tsx
var import_react = __toESM(require_react());

// ../../../../Library/Caches/deno/deno_esbuild/registry.npmjs.org/firebase@10.14.1_@firebase+app@0.10.13_@firebase+app-compat@0.2.43_@firebase+app-types@0.9.2/node_modules/firebase/app/dist/esm/index.esm.js
init_index_esm20174();
init_index_esm20174();
var name3 = "firebase";
var version2 = "10.14.1";
registerVersion(name3, version2, "app");

// public/firebase/auth.ts
init_index_esm();

// public/firebase/config.ts
var firebaseConfig = {
  apiKey: "AIzaSyD7lz5N0CNyyHB9OdNujQ84IdPkKLSurUc",
  authDomain: "deno-906b2.firebaseapp.com",
  projectId: "deno-906b2",
  storageBucket: "deno-906b2.firebasestorage.app",
  messagingSenderId: "213727809596",
  appId: "1:213727809596:web:a01e0fb18e8d06a4e2b339",
  measurementId: "G-J0T3T158J6"
};

// public/firebase/auth.ts
var app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];
var auth = getAuth(app);
async function firebaseSignup(email, password) {
  try {
    const userCredential = await createUserWithEmailAndPassword(
      auth,
      email,
      password
    );
    const user = userCredential.user;
    await sendEmailVerification(user);
    return {
      success: true,
      message: "\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002\u30E1\u30FC\u30EB\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",
      user
    };
  } catch (error2) {
    const firebaseError = error2;
    let message = "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    switch (firebaseError.code) {
      case "auth/email-already-in-use":
        message = "\u3053\u306E\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306F\u65E2\u306B\u4F7F\u7528\u3055\u308C\u3066\u3044\u307E\u3059";
        break;
      case "auth/invalid-email":
        message = "\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u3059";
        break;
      case "auth/weak-password":
        message = "\u30D1\u30B9\u30EF\u30FC\u30C9\u306F6\u6587\u5B57\u4EE5\u4E0A\u306B\u3057\u3066\u304F\u3060\u3055\u3044";
        break;
      default:
        message = firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    }
    return { success: false, message };
  }
}
async function firebaseLogin(email, password) {
  try {
    const userCredential = await signInWithEmailAndPassword(
      auth,
      email,
      password
    );
    const user = userCredential.user;
    await user.reload();
    if (!user.emailVerified) {
      await signOut(auth);
      return {
        success: false,
        message: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u304C\u78BA\u8A8D\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"
      };
    }
    return {
      success: true,
      message: "\u30ED\u30B0\u30A4\u30F3\u3057\u307E\u3057\u305F",
      user
    };
  } catch (error2) {
    const firebaseError = error2;
    let message = "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    switch (firebaseError.code) {
      case "auth/user-not-found":
        message = "\u30E6\u30FC\u30B6\u30FC\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093";
        break;
      case "auth/wrong-password":
        message = "\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u9593\u9055\u3063\u3066\u3044\u307E\u3059";
        break;
      case "auth/invalid-credential":
        message = "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u307E\u305F\u306F\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u9593\u9055\u3063\u3066\u3044\u307E\u3059";
        break;
      default:
        message = firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    }
    return { success: false, message };
  }
}
async function firebaseLogout() {
  await signOut(auth);
}
function onAuthChange(callback) {
  return onAuthStateChanged(auth, callback);
}
async function resendVerificationEmail() {
  const user = auth.currentUser;
  if (!user) {
    return { success: false, message: "\u30ED\u30B0\u30A4\u30F3\u3057\u3066\u3044\u307E\u305B\u3093" };
  }
  try {
    await sendEmailVerification(user);
    return { success: true, message: "\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u518D\u9001\u4FE1\u3057\u307E\u3057\u305F" };
  } catch (error2) {
    const firebaseError = error2;
    return {
      success: false,
      message: firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"
    };
  }
}
async function sendPasswordReset(email) {
  try {
    await sendPasswordResetEmail(auth, email);
    return {
      success: true,
      message: "\u30D1\u30B9\u30EF\u30FC\u30C9\u30EA\u30BB\u30C3\u30C8\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002\u30E1\u30FC\u30EB\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"
    };
  } catch (error2) {
    const firebaseError = error2;
    let message = "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    switch (firebaseError.code) {
      case "auth/user-not-found":
        message = "\u3053\u306E\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306F\u767B\u9332\u3055\u308C\u3066\u3044\u307E\u305B\u3093";
        break;
      case "auth/invalid-email":
        message = "\u7121\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u3059";
        break;
      default:
        message = firebaseError.message || "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F";
    }
    return { success: false, message };
  }
}

// public/context/AuthContext.tsx
var import_jsx_runtime = __toESM(require_jsx_runtime());
var AuthContext = (0, import_react.createContext)(null);
function toAuthUser(firebaseUser) {
  return {
    id: firebaseUser.uid,
    name: firebaseUser.displayName || "",
    email: firebaseUser.email || "",
    emailVerified: firebaseUser.emailVerified
  };
}
function AuthProvider({ children }) {
  const [firebaseUser, setFirebaseUser] = (0, import_react.useState)(null);
  const [user, setUser] = (0, import_react.useState)(null);
  const [isLoading, setIsLoading] = (0, import_react.useState)(true);
  (0, import_react.useEffect)(() => {
    const unsubscribe = onAuthChange((fbUser) => {
      setFirebaseUser(fbUser);
      if (fbUser) {
        setUser(toAuthUser(fbUser));
      } else {
        setUser(null);
      }
      setIsLoading(false);
    });
    return () => unsubscribe();
  }, []);
  const signup = (0, import_react.useCallback)(
    async (name5, email, password) => {
      setIsLoading(true);
      try {
        const result = await firebaseSignup(email, password);
        if (result.success && result.user) {
          const { updateProfile: updateProfile2 } = await Promise.resolve().then(() => (init_index_esm(), index_esm_exports));
          await updateProfile2(result.user, { displayName: name5 });
          setUser({
            id: result.user.uid,
            name: name5,
            email: result.user.email || "",
            emailVerified: result.user.emailVerified
          });
        }
        return { success: result.success, message: result.message };
      } catch (error2) {
        return {
          success: false,
          message: error2 instanceof Error ? error2.message : "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"
        };
      } finally {
        setIsLoading(false);
      }
    },
    []
  );
  const login = (0, import_react.useCallback)(
    async (email, password) => {
      setIsLoading(true);
      try {
        const result = await firebaseLogin(email, password);
        return { success: result.success, message: result.message };
      } catch (error2) {
        return {
          success: false,
          message: error2 instanceof Error ? error2.message : "\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"
        };
      } finally {
        setIsLoading(false);
      }
    },
    []
  );
  const logout = (0, import_react.useCallback)(async () => {
    await firebaseLogout();
    setUser(null);
    setFirebaseUser(null);
  }, []);
  const resendVerification = (0, import_react.useCallback)(async () => {
    return await resendVerificationEmail();
  }, []);
  const isAuthenticated = user !== null && user.emailVerified;
  const value2 = {
    user,
    firebaseUser,
    isLoading,
    isAuthenticated,
    signup,
    login,
    logout,
    resendVerification
  };
  return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(AuthContext.Provider, { value: value2, children });
}
function useAuth() {
  const context = (0, import_react.useContext)(AuthContext);
  if (!context) {
    throw new Error("useAuth must be used within an AuthProvider");
  }
  return context;
}

// public/components/LoginForm.tsx
var import_jsx_runtime2 = __toESM(require_jsx_runtime());
function LoginForm({ onSuccess, onSwitchToSignup }) {
  const { login, isLoading } = useAuth();
  const [email, setEmail] = (0, import_react2.useState)("");
  const [password, setPassword] = (0, import_react2.useState)("");
  const [error2, setError] = (0, import_react2.useState)("");
  const [message, setMessage] = (0, import_react2.useState)("");
  const [showResetForm, setShowResetForm] = (0, import_react2.useState)(false);
  const [resetLoading, setResetLoading] = (0, import_react2.useState)(false);
  const handleSubmit = async (e3) => {
    e3.preventDefault();
    setError("");
    setMessage("");
    const result = await login(email, password);
    if (result.success) {
      setEmail("");
      setPassword("");
      onSuccess?.();
    } else {
      setError(result.message);
    }
  };
  const handlePasswordReset = async (e3) => {
    e3.preventDefault();
    setError("");
    setMessage("");
    setResetLoading(true);
    const result = await sendPasswordReset(email);
    if (result.success) {
      setMessage(result.message);
      setShowResetForm(false);
    } else {
      setError(result.message);
    }
    setResetLoading(false);
  };
  if (showResetForm) {
    return /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("h2", { className: "text-xl font-semibold text-gray-800 mb-4", children: "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u30EA\u30BB\u30C3\u30C8" }),
      error2 && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("div", { className: "mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm", children: error2 }),
      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("p", { className: "text-sm text-gray-600 mb-4", children: "\u767B\u9332\u3057\u305F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u30D1\u30B9\u30EF\u30FC\u30C9\u30EA\u30BB\u30C3\u30C8\u7528\u306E\u30EA\u30F3\u30AF\u3092\u9001\u4FE1\u3057\u307E\u3059\u3002" }),
      /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("form", { onSubmit: handlePasswordReset, className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
            "label",
            {
              htmlFor: "reset-email",
              className: "block text-sm font-medium text-gray-700 mb-1",
              children: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
            "input",
            {
              type: "email",
              id: "reset-email",
              value: email,
              onChange: (e3) => setEmail(e3.target.value),
              required: true,
              className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
              placeholder: "example@example.com"
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
          "button",
          {
            type: "submit",
            disabled: resetLoading,
            className: "w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",
            children: resetLoading ? "\u9001\u4FE1\u4E2D..." : "\u30EA\u30BB\u30C3\u30C8\u30E1\u30FC\u30EB\u3092\u9001\u4FE1"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
        "button",
        {
          type: "button",
          onClick: () => {
            setShowResetForm(false);
            setError("");
          },
          className: "mt-4 w-full text-gray-600 hover:text-gray-800 text-sm",
          children: "\u30ED\u30B0\u30A4\u30F3\u306B\u623B\u308B"
        }
      )
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("h2", { className: "text-xl font-semibold text-gray-800 mb-4", children: "\u30ED\u30B0\u30A4\u30F3" }),
    error2 && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("div", { className: "mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm", children: error2 }),
    message && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("div", { className: "mb-4 p-3 bg-green-100 text-green-700 rounded-md text-sm", children: message }),
    /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
          "label",
          {
            htmlFor: "login-email",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
          "input",
          {
            type: "email",
            id: "login-email",
            value: email,
            onChange: (e3) => setEmail(e3.target.value),
            required: true,
            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
            placeholder: "example@example.com"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
          "label",
          {
            htmlFor: "login-password",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30D1\u30B9\u30EF\u30FC\u30C9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
          "input",
          {
            type: "password",
            id: "login-password",
            value: password,
            onChange: (e3) => setPassword(e3.target.value),
            required: true,
            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
            placeholder: "6\u6587\u5B57\u4EE5\u4E0A"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
        "button",
        {
          type: "submit",
          disabled: isLoading,
          className: "w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",
          children: isLoading ? "\u30ED\u30B0\u30A4\u30F3\u4E2D..." : "\u30ED\u30B0\u30A4\u30F3"
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
      "button",
      {
        type: "button",
        onClick: () => {
          setShowResetForm(true);
          setError("");
          setMessage("");
        },
        className: "mt-3 w-full text-blue-600 hover:underline text-sm",
        children: "\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5FD8\u308C\u305F\u5834\u5408"
      }
    ),
    onSwitchToSignup && /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("p", { className: "mt-4 text-center text-sm text-gray-600", children: [
      "\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u304A\u6301\u3061\u3067\u306A\u3044\u65B9\u306F",
      " ",
      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
        "button",
        {
          type: "button",
          onClick: onSwitchToSignup,
          className: "text-blue-600 hover:underline",
          children: "\u65B0\u898F\u767B\u9332"
        }
      )
    ] })
  ] });
}

// public/pages/LoginPage.tsx
var import_jsx_runtime3 = __toESM(require_jsx_runtime());
function LoginPage() {
  const { isAuthenticated, isLoading } = useAuth();
  const navigate = useNavigate();
  (0, import_react3.useEffect)(() => {
    if (!isLoading && isAuthenticated) {
      navigate("/", { replace: true });
    }
  }, [isAuthenticated, isLoading, navigate]);
  if (isLoading) {
    return /* @__PURE__ */ (0, import_jsx_runtime3.jsx)("div", { className: "min-h-screen bg-gray-50 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime3.jsx)("div", { className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime3.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime3.jsxs)("div", { className: "max-w-md mx-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime3.jsx)("h1", { className: "text-3xl font-bold text-center text-gray-900 mb-8", children: "React Auth Demo" }),
    /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
      LoginForm,
      {
        onSuccess: () => navigate("/", { replace: true }),
        onSwitchToSignup: () => navigate("/signup")
      }
    )
  ] }) });
}

// public/pages/SignupPage.tsx
var import_react5 = __toESM(require_react());

// public/components/SignupForm.tsx
var import_react4 = __toESM(require_react());
var import_jsx_runtime4 = __toESM(require_jsx_runtime());
function SignupForm({ onSuccess, onSwitchToLogin }) {
  const { signup, isLoading } = useAuth();
  const [name5, setName] = (0, import_react4.useState)("");
  const [email, setEmail] = (0, import_react4.useState)("");
  const [password, setPassword] = (0, import_react4.useState)("");
  const [error2, setError] = (0, import_react4.useState)("");
  const handleSubmit = async (e3) => {
    e3.preventDefault();
    setError("");
    const result = await signup(name5, email, password);
    if (result.success) {
      setName("");
      setEmail("");
      setPassword("");
      onSuccess?.();
    } else {
      setError(result.message);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("h2", { className: "text-xl font-semibold text-gray-800 mb-4", children: "\u65B0\u898F\u767B\u9332" }),
    error2 && /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("div", { className: "mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm", children: error2 }),
    /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "label",
          {
            htmlFor: "signup-name",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u540D\u524D"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "input",
          {
            type: "text",
            id: "signup-name",
            value: name5,
            onChange: (e3) => setName(e3.target.value),
            required: true,
            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
            placeholder: "\u5C71\u7530 \u592A\u90CE"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "label",
          {
            htmlFor: "signup-email",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "input",
          {
            type: "email",
            id: "signup-email",
            value: email,
            onChange: (e3) => setEmail(e3.target.value),
            required: true,
            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
            placeholder: "example@example.com"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "label",
          {
            htmlFor: "signup-password",
            className: "block text-sm font-medium text-gray-700 mb-1",
            children: "\u30D1\u30B9\u30EF\u30FC\u30C9"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          "input",
          {
            type: "password",
            id: "signup-password",
            value: password,
            onChange: (e3) => setPassword(e3.target.value),
            required: true,
            minLength: 6,
            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
            placeholder: "6\u6587\u5B57\u4EE5\u4E0A"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
        "button",
        {
          type: "submit",
          disabled: isLoading,
          className: "w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",
          children: isLoading ? "\u767B\u9332\u4E2D..." : "\u767B\u9332\u3059\u308B"
        }
      )
    ] }),
    onSwitchToLogin && /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("p", { className: "mt-4 text-center text-sm text-gray-600", children: [
      "\u3059\u3067\u306B\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u304A\u6301\u3061\u306E\u65B9\u306F",
      " ",
      /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
        "button",
        {
          type: "button",
          onClick: onSwitchToLogin,
          className: "text-blue-600 hover:underline",
          children: "\u30ED\u30B0\u30A4\u30F3"
        }
      )
    ] })
  ] });
}

// public/pages/SignupPage.tsx
var import_jsx_runtime5 = __toESM(require_jsx_runtime());
function SignupPage() {
  const { isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const [signupComplete, setSignupComplete] = (0, import_react5.useState)(false);
  (0, import_react5.useEffect)(() => {
    if (isAuthenticated) {
      navigate("/", { replace: true });
    }
  }, [isAuthenticated, navigate]);
  if (signupComplete) {
    return /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("div", { className: "max-w-md mx-auto", children: /* @__PURE__ */ (0, import_jsx_runtime5.jsxs)("div", { className: "bg-white shadow-md rounded-lg p-8 text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("div", { className: "text-5xl mb-4", children: "\u{1F4E7}" }),
      /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("h1", { className: "text-2xl font-bold text-gray-900 mb-4", children: "\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F" }),
      /* @__PURE__ */ (0, import_jsx_runtime5.jsxs)("p", { className: "text-gray-600 mb-6", children: [
        "\u3054\u767B\u9332\u3044\u305F\u3060\u3044\u305F\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u306B\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002",
        /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("br", {}),
        "\u30E1\u30FC\u30EB\u5185\u306E\u30EA\u30F3\u30AF\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u3001\u767B\u9332\u3092\u5B8C\u4E86\u3057\u3066\u304F\u3060\u3055\u3044\u3002"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime5.jsxs)("div", { className: "space-y-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
          Link,
          {
            to: "/login",
            className: "block w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 text-center",
            children: "\u30ED\u30B0\u30A4\u30F3\u30DA\u30FC\u30B8\u3078"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
          "button",
          {
            type: "button",
            onClick: () => setSignupComplete(false),
            className: "block w-full text-gray-600 hover:text-gray-800 text-sm",
            children: "\u5225\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u3067\u767B\u9332\u3059\u308B"
          }
        )
      ] })
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime5.jsxs)("div", { className: "max-w-md mx-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime5.jsx)("h1", { className: "text-3xl font-bold text-center text-gray-900 mb-8", children: "React Auth Demo" }),
    /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
      SignupForm,
      {
        onSuccess: () => setSignupComplete(true),
        onSwitchToLogin: () => navigate("/login")
      }
    )
  ] }) });
}

// public/generated/genql/runtime/generateGraphqlOperation.ts
var parseRequest = (request, ctx, path) => {
  if (typeof request === "object" && "__args" in request) {
    const args = request.__args;
    let fields = { ...request };
    delete fields.__args;
    const argNames = Object.keys(args);
    if (argNames.length === 0) {
      return parseRequest(fields, ctx, path);
    }
    const field = getFieldFromPath(ctx.root, path);
    const argStrings = argNames.map((argName) => {
      ctx.varCounter++;
      const varName = `v${ctx.varCounter}`;
      const typing = field.args && field.args[argName];
      if (!typing) {
        throw new Error(
          `no typing defined for argument \`${argName}\` in path \`${path.join(
            "."
          )}\``
        );
      }
      ctx.variables[varName] = {
        value: args[argName],
        typing
      };
      return `${argName}:$${varName}`;
    });
    return `(${argStrings})${parseRequest(fields, ctx, path)}`;
  } else if (typeof request === "object" && Object.keys(request).length > 0) {
    const fields = request;
    const fieldNames = Object.keys(fields).filter((k) => Boolean(fields[k]));
    if (fieldNames.length === 0) {
      throw new Error(
        `field selection should not be empty: ${path.join(".")}`
      );
    }
    const type2 = path.length > 0 ? getFieldFromPath(ctx.root, path).type : ctx.root;
    const scalarFields = type2.scalar;
    let scalarFieldsFragment;
    if (fieldNames.includes("__scalar")) {
      const falsyFieldNames = new Set(
        Object.keys(fields).filter((k) => !Boolean(fields[k]))
      );
      if (scalarFields?.length) {
        ctx.fragmentCounter++;
        scalarFieldsFragment = `f${ctx.fragmentCounter}`;
        ctx.fragments.push(
          `fragment ${scalarFieldsFragment} on ${type2.name}{${scalarFields.filter((f3) => !falsyFieldNames.has(f3)).join(",")}}`
        );
      }
    }
    const fieldsSelection = fieldNames.filter((f3) => !["__scalar", "__name"].includes(f3)).map((f3) => {
      const parsed = parseRequest(fields[f3], ctx, [...path, f3]);
      if (f3.startsWith("on_")) {
        ctx.fragmentCounter++;
        const implementationFragment = `f${ctx.fragmentCounter}`;
        const typeMatch = f3.match(/^on_(.+)/);
        if (!typeMatch || !typeMatch[1])
          throw new Error("match failed");
        ctx.fragments.push(
          `fragment ${implementationFragment} on ${typeMatch[1]}${parsed}`
        );
        return `...${implementationFragment}`;
      } else {
        return `${f3}${parsed}`;
      }
    }).concat(scalarFieldsFragment ? [`...${scalarFieldsFragment}`] : []).join(",");
    return `{${fieldsSelection}}`;
  } else {
    return "";
  }
};
var generateGraphqlOperation = (operation, root2, fields) => {
  const ctx = {
    root: root2,
    varCounter: 0,
    variables: {},
    fragmentCounter: 0,
    fragments: []
  };
  const result = parseRequest(fields, ctx, []);
  const varNames = Object.keys(ctx.variables);
  const varsString = varNames.length > 0 ? `(${varNames.map((v3) => {
    const variableType = ctx.variables[v3].typing[1];
    return `$${v3}:${variableType}`;
  })})` : "";
  const operationName = fields?.__name || "";
  return {
    query: [
      `${operation} ${operationName}${varsString}${result}`,
      ...ctx.fragments
    ].join(","),
    variables: Object.keys(ctx.variables).reduce(
      (r3, v3) => {
        r3[v3] = ctx.variables[v3].value;
        return r3;
      },
      {}
    ),
    ...operationName ? { operationName: operationName.toString() } : {}
  };
};
var getFieldFromPath = (root2, path) => {
  let current;
  if (!root2) throw new Error("root type is not provided");
  if (path.length === 0) throw new Error(`path is empty`);
  path.forEach((f3) => {
    const type2 = current ? current.type : root2;
    if (!type2.fields)
      throw new Error(`type \`${type2.name}\` does not have fields`);
    const possibleTypes = Object.keys(type2.fields).filter((i3) => i3.startsWith("on_")).reduce(
      (types, fieldName) => {
        const field2 = type2.fields && type2.fields[fieldName];
        if (field2) types.push(field2.type);
        return types;
      },
      [type2]
    );
    let field = null;
    possibleTypes.forEach((type3) => {
      const found = type3.fields && type3.fields[f3];
      if (found) field = found;
    });
    if (!field)
      throw new Error(
        `type \`${type2.name}\` does not have a field \`${f3}\``
      );
    current = field;
  });
  return current;
};

// public/generated/genql/runtime/linkTypeMap.ts
var linkTypeMap = (typeMap3) => {
  const indexToName = Object.assign(
    {},
    ...Object.keys(typeMap3.types).map((k, i3) => ({ [i3]: k }))
  );
  let intermediaryTypeMap = Object.assign(
    {},
    ...Object.keys(typeMap3.types || {}).map(
      (k) => {
        const type2 = typeMap3.types[k];
        const fields = type2 || {};
        return {
          [k]: {
            name: k,
            // type scalar properties
            scalar: Object.keys(fields).filter((f3) => {
              const [type3] = fields[f3] || [];
              const isScalar = type3 && typeMap3.scalars.includes(type3);
              if (!isScalar) {
                return false;
              }
              const args = fields[f3]?.[1];
              const argTypes = Object.values(args || {}).map((x) => x?.[1]).filter(Boolean);
              const hasRequiredArgs = argTypes.some(
                (str) => str && str.endsWith("!")
              );
              if (hasRequiredArgs) {
                return false;
              }
              return true;
            }),
            // fields with corresponding `type` and `args`
            fields: Object.assign(
              {},
              ...Object.keys(fields).map(
                (f3) => {
                  const [typeIndex, args] = fields[f3] || [];
                  if (typeIndex == null) {
                    return {};
                  }
                  return {
                    [f3]: {
                      // replace index with type name
                      type: indexToName[typeIndex],
                      args: Object.assign(
                        {},
                        ...Object.keys(args || {}).map(
                          (k2) => {
                            if (!args || !args[k2]) {
                              return;
                            }
                            const [
                              argTypeName,
                              argTypeString
                            ] = args[k2];
                            return {
                              [k2]: [
                                indexToName[argTypeName],
                                argTypeString || indexToName[argTypeName]
                              ]
                            };
                          }
                        )
                      )
                    }
                  };
                }
              )
            )
          }
        };
      }
    )
  );
  const res = resolveConcreteTypes(intermediaryTypeMap);
  return res;
};
var resolveConcreteTypes = (linkedTypeMap) => {
  Object.keys(linkedTypeMap).forEach((typeNameFromKey) => {
    const type2 = linkedTypeMap[typeNameFromKey];
    if (!type2.fields) {
      return;
    }
    const fields = type2.fields;
    Object.keys(fields).forEach((f3) => {
      const field = fields[f3];
      if (field.args) {
        const args = field.args;
        Object.keys(args).forEach((key) => {
          const arg = args[key];
          if (arg) {
            const [typeName2] = arg;
            if (typeof typeName2 === "string") {
              if (!linkedTypeMap[typeName2]) {
                linkedTypeMap[typeName2] = { name: typeName2 };
              }
              arg[0] = linkedTypeMap[typeName2];
            }
          }
        });
      }
      const typeName = field.type;
      if (typeof typeName === "string") {
        if (!linkedTypeMap[typeName]) {
          linkedTypeMap[typeName] = { name: typeName };
        }
        field.type = linkedTypeMap[typeName];
      }
    });
  });
  return linkedTypeMap;
};

// public/generated/genql/types.ts
var types_default = {
  "scalars": [
    1,
    2,
    5,
    7
  ],
  "types": {
    "Mutation": {
      "createUser": [
        6,
        {
          "name": [
            1,
            "String!"
          ]
        }
      ],
      "deleteUser": [
        6,
        {
          "id": [
            2,
            "ID!"
          ]
        }
      ],
      "__typename": [
        1
      ]
    },
    "String": {},
    "ID": {},
    "Post": {
      "content": [
        1
      ],
      "id": [
        2
      ],
      "title": [
        1
      ],
      "__typename": [
        1
      ]
    },
    "Query": {
      "me": [
        1
      ],
      "post": [
        3,
        {
          "id": [
            2,
            "ID!"
          ]
        }
      ],
      "postCount": [
        5
      ],
      "posts": [
        3
      ],
      "test": [
        1
      ],
      "user": [
        6,
        {
          "id": [
            2,
            "ID!"
          ]
        }
      ],
      "users": [
        6
      ],
      "__typename": [
        1
      ]
    },
    "Int": {},
    "User": {
      "id": [
        2
      ],
      "name": [
        1
      ],
      "__typename": [
        1
      ]
    },
    "Boolean": {}
  }
};

// public/generated/genql/index.ts
var typeMap = linkTypeMap(types_default);
var generateQueryOp = function(fields) {
  return generateGraphqlOperation("query", typeMap.Query, fields);
};

// public/utils/genql-urql-bridge.ts
function useTypedQuery(opts) {
  const { query, variables } = generateQueryOp(opts.query);
  return useQuery({
    ...opts,
    query,
    variables
  });
}
var typeMap2 = linkTypeMap(types_default);

// public/pages/DashboardPage.tsx
var import_jsx_runtime6 = __toESM(require_jsx_runtime());
function DashboardPage() {
  const { user, logout } = useAuth();
  const navigate = useNavigate();
  const [usersResult] = useTypedQuery({
    query: {
      users: {
        id: true,
        name: true
      }
    }
  });
  const [postsResult] = useTypedQuery({
    query: {
      posts: {
        id: true,
        title: true,
        content: true
      }
    }
  });
  const [testResult] = useTypedQuery({
    query: {
      test: true
    }
  });
  const handleLogout = async () => {
    await logout();
    navigate("/login", { replace: true });
  };
  const users = usersResult.data?.users ?? [];
  const posts = postsResult.data?.posts ?? [];
  return /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("div", { className: "min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { className: "max-w-4xl mx-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { className: "flex justify-between items-center mb-8", children: [
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("h1", { className: "text-2xl font-bold text-gray-900", children: "\u30C0\u30C3\u30B7\u30E5\u30DC\u30FC\u30C9" }),
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
        "button",
        {
          type: "button",
          onClick: handleLogout,
          className: "bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors",
          children: "\u30ED\u30B0\u30A2\u30A6\u30C8"
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { className: "bg-white rounded-lg shadow p-6 mb-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("h2", { className: "text-lg font-semibold text-gray-800 mb-4", children: "\u30ED\u30B0\u30A4\u30F3\u4E2D\u306E\u30E6\u30FC\u30B6\u30FC" }),
      /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("div", { className: "w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("span", { className: "text-blue-600 font-bold text-xl", children: user?.name?.charAt(0).toUpperCase() || "?" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("p", { className: "font-medium text-gray-900", children: user?.name || "\u540D\u524D\u672A\u8A2D\u5B9A" }),
          /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("p", { className: "text-sm text-gray-500", children: user?.email })
        ] }),
        user?.emailVerified && /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("span", { className: "ml-auto px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full", children: "\u8A8D\u8A3C\u6E08\u307F" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { className: "bg-white rounded-lg shadow p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("h2", { className: "text-lg font-semibold text-gray-800 mb-4", children: [
          "\u30E6\u30FC\u30B6\u30FC\u4E00\u89A7 (",
          users.length,
          "\u4EF6)"
        ] }),
        usersResult.fetching ? /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("p", { className: "text-gray-500", children: "\u8AAD\u307F\u8FBC\u307F\u4E2D..." }) : usersResult.error ? /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("p", { className: "text-red-500", children: [
          "\u30A8\u30E9\u30FC: ",
          usersResult.error.message
        ] }) : users.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("p", { className: "text-gray-500", children: "\u30E6\u30FC\u30B6\u30FC\u304C\u3044\u307E\u305B\u3093" }) : /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("ul", { className: "space-y-2", children: users.map((u3) => /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)(
          "li",
          {
            className: "flex items-center gap-2 p-2 bg-gray-50 rounded",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("div", { className: "w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("span", { className: "text-blue-600 font-medium text-sm", children: u3.name?.charAt(0).toUpperCase() || "?" }) }),
              /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("span", { className: "text-gray-900", children: u3.name }),
              /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("span", { className: "text-gray-400 text-xs ml-auto", children: [
                "ID: ",
                u3.id
              ] })
            ]
          },
          u3.id
        )) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("div", { className: "bg-white rounded-lg shadow p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("h2", { className: "text-lg font-semibold text-gray-800 mb-4", children: [
          "\u6295\u7A3F\u4E00\u89A7 (",
          posts.length,
          "\u4EF6)"
        ] }),
        postsResult.fetching ? /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("p", { className: "text-gray-500", children: "\u8AAD\u307F\u8FBC\u307F\u4E2D..." }) : postsResult.error ? /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("p", { className: "text-red-500", children: [
          "\u30A8\u30E9\u30FC: ",
          postsResult.error.message
        ] }) : posts.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("p", { className: "text-gray-500", children: "\u6295\u7A3F\u304C\u3042\u308A\u307E\u305B\u3093" }) : /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("ul", { className: "space-y-3", children: posts.map((p3) => /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)("li", { className: "p-3 bg-gray-50 rounded", children: [
          /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("h3", { className: "font-medium text-gray-900", children: p3.title }),
          /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("p", { className: "text-sm text-gray-600 mt-1 line-clamp-2", children: p3.content })
        ] }, p3.id)) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("div", { className: "bg-white rounded-lg shadow p-6", children: testResult.data?.test })
  ] }) });
}

// public/components/ProtectedRoute.tsx
var import_jsx_runtime7 = __toESM(require_jsx_runtime());
function ProtectedRoute({
  children,
  redirectTo = "/login"
}) {
  const { isAuthenticated, isLoading } = useAuth();
  const location2 = useLocation();
  if (isLoading) {
    return /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "min-h-screen bg-gray-50 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime7.jsx)("div", { className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600" }) });
  }
  if (!isAuthenticated) {
    return /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(Navigate, { to: redirectTo, state: { from: location2 }, replace: true });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(import_jsx_runtime7.Fragment, { children });
}

// public/App.tsx
var import_jsx_runtime8 = __toESM(require_jsx_runtime());
function App() {
  return /* @__PURE__ */ (0, import_jsx_runtime8.jsxs)(Routes, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(Route, { path: "/login", element: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(LoginPage, {}) }),
    /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(Route, { path: "/signup", element: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(SignupPage, {}) }),
    /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
      Route,
      {
        path: "/",
        element: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(ProtectedRoute, { children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(DashboardPage, {}) })
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
      Route,
      {
        path: "*",
        element: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(ProtectedRoute, { children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(DashboardPage, {}) })
      }
    )
  ] });
}
var App_default = App;

// public/utils/refetchOnTypename.ts
function collectTypenames(node, out) {
  if (node == null) return;
  if (Array.isArray(node)) {
    for (const v3 of node) collectTypenames(v3, out);
    return;
  }
  if (typeof node === "object") {
    const obj = node;
    const tn = obj.__typename;
    if (typeof tn === "string") out.add(tn);
    for (const v3 of Object.values(obj)) collectTypenames(v3, out);
  }
}
var refetchOnTypename = ({ forward, client }) => (ops$) => {
  const activeQueries = /* @__PURE__ */ new Map();
  const results$ = pipe(
    ops$,
    onPush((operation) => {
      if (operation.kind === "teardown") {
        activeQueries.delete(operation.key);
      }
    }),
    forward
  );
  return pipe(
    results$,
    onPush((result) => {
      if (result.operation.kind === "query") {
        activeQueries.set(result.operation.key, result.operation);
        const getQueryName = (op) => {
          const def = op.query.definitions[0];
          if (!def || def.kind !== "OperationDefinition") return void 0;
          if (def.name?.value) return def.name.value;
          const firstSelection = def.selectionSet?.selections?.[0];
          if (firstSelection && firstSelection.kind === "Field") {
            return firstSelection.name.value;
          }
          return void 0;
        };
        const queryName = getQueryName(result.operation);
        console.log("[refetchOnTypename] query added:", {
          key: result.operation.key,
          queryName,
          totalCount: activeQueries.size,
          allQueries: Array.from(activeQueries.values()).map((op) => ({
            key: op.key,
            name: getQueryName(op)
          }))
        });
      }
      if (result.operation.kind === "mutation" && !result.error) {
        const ctx = result.operation.context;
        const refetchTypenames = Array.isArray(ctx?.additionalTypenames) ? ctx.additionalTypenames : [];
        if (refetchTypenames.length > 0) {
          const resultTypenames = /* @__PURE__ */ new Set();
          collectTypenames(result.data, resultTypenames);
          for (const op of activeQueries.values()) {
            if (refetchTypenames.some((t2) => resultTypenames.has(t2))) {
              client.reexecuteOperation({
                ...op,
                context: { ...op.context, requestPolicy: "network-only" }
              });
            }
          }
        }
      }
    })
  );
};

// public/main.tsx
var import_jsx_runtime9 = __toESM(require_jsx_runtime());
var urqlClient = Q({
  url: "/graphql",
  exchanges: [refetchOnTypename, cacheExchange, fetchExchange],
  fetchOptions: () => {
    const user = auth.currentUser;
    if (!user) {
      return {};
    }
    const token = user.accessToken;
    if (!token) {
      return {};
    }
    return {
      headers: {
        Authorization: `Bearer ${token}`
      }
    };
  }
});
var rootElement = document.getElementById("app");
if (!rootElement) {
  throw new Error("Root element not found");
}
var root = (0, import_client.createRoot)(rootElement);
root.render(
  /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(import_react6.StrictMode, { children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(BrowserRouter, { children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(f2, { value: urqlClient, children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(AuthProvider, { children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(App_default, {}) }) }) }) })
);
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-68602d24.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@remix-run/router/dist/router.js:
  (**
   * @remix-run/router v1.23.1
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router/dist/index.js:
  (**
   * React Router v6.30.2
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

react-router-dom/dist/index.js:
  (**
   * React Router DOM v6.30.2
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9zY2hlZHVsZXJAMC4yMy4yL25vZGVfbW9kdWxlcy9zY2hlZHVsZXIvY2pzL3NjaGVkdWxlci5wcm9kdWN0aW9uLm1pbi5qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvc2NoZWR1bGVyQDAuMjMuMi9ub2RlX21vZHVsZXMvc2NoZWR1bGVyL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vY2xpZW50LmpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2Fzc2VydC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvY3J5cHQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2RlZXBDb3B5LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9nbG9iYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2RlZmF1bHRzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9kZWZlcnJlZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvZW11bGF0b3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2Vudmlyb25tZW50LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9lcnJvcnMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2pzb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS91dGlsQDEuMTAuMC9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvc3JjL2p3dC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvb2JqLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9wcm9taXNlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9xdWVyeS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvc2hhMS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL3V0aWxAMS4xMC4wL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9zcmMvc3Vic2NyaWJlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy92YWxpZGF0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy91dGY4LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy91dWlkLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9leHBvbmVudGlhbF9iYWNrb2ZmLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9mb3JtYXR0ZXJzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvdXRpbEAxLjEwLjAvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL3NyYy9jb21wYXQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9jb21wb25lbnRAMC42Ljkvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvc3JjL2NvbXBvbmVudC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2NvbXBvbmVudEAwLjYuOS9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2NvbXBvbmVudC9zcmMvY29uc3RhbnRzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvY29tcG9uZW50QDAuNi45L25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvY29tcG9uZW50L3NyYy9wcm92aWRlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2NvbXBvbmVudEAwLjYuOS9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2NvbXBvbmVudC9zcmMvY29tcG9uZW50X2NvbnRhaW5lci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2xvZ2dlckAwLjQuMi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2xvZ2dlci9zcmMvbG9nZ2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9pZGJANy4xLjEvbm9kZV9tb2R1bGVzL2lkYi9idWlsZC93cmFwLWlkYi12YWx1ZS5qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvaWRiQDcuMS4xL25vZGVfbW9kdWxlcy9pZGIvYnVpbGQvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvcGxhdGZvcm1Mb2dnZXJTZXJ2aWNlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2xvZ2dlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXBwL3NyYy9jb25zdGFudHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvaW50ZXJuYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvZXJyb3JzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2ZpcmViYXNlQXBwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2ZpcmViYXNlU2VydmVyQXBwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2FwaS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXBwL3NyYy9pbmRleGVkZGIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9zcmMvaGVhcnRiZWF0U2VydmljZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXBwL3NyYy9yZWdpc3RlckNvcmVDb21wb25lbnRzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvc3JjL2luZGV4LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy90c2xpYkAyLjguMS9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvbW9kZWwvZW51bV9tYXBzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL2Vycm9ycy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2xvZy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2Fzc2VydC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2xvY2F0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvbmF2aWdhdG9yLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvZGVsYXkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvdXRpbC9lbXVsYXRvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2ZldGNoX3Byb3ZpZGVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvZXJyb3JzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3JlY2FwdGNoYS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2FjY291bnRfbWFuYWdlbWVudC9hY2NvdW50LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvdGltZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL2lkX3Rva2VuX3Jlc3VsdC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL2ludmFsaWRhdGlvbi50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL3Byb2FjdGl2ZV9yZWZyZXNoLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvdXNlcl9tZXRhZGF0YS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL3JlbG9hZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3Rva2VuLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvdG9rZW5fbWFuYWdlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL3VzZXJfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2luc3RhbnRpYXRvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wZXJzaXN0ZW5jZS9pbl9tZW1vcnkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvcGVyc2lzdGVuY2UvcGVyc2lzdGVuY2VfdXNlcl9tYW5hZ2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvYnJvd3Nlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL3ZlcnNpb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9taWRkbGV3YXJlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvcGFzc3dvcmRfcG9saWN5L2dldF9wYXNzd29yZF9wb2xpY3kudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9wYXNzd29yZF9wb2xpY3lfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9hdXRoL2F1dGhfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9sb2FkX2pzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3JlY2FwdGNoYS9yZWNhcHRjaGFfZW50ZXJwcmlzZV92ZXJpZmllci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9hdXRoL2luaXRpYWxpemUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9lbXVsYXRvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9hdXRoX2NyZWRlbnRpYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvZW1haWxfYW5kX3Bhc3N3b3JkLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfYW5kX3Bhc3N3b3JkLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfbGluay50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9lbWFpbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL2lkcC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9vYXV0aC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3Ntcy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9jcmVkZW50aWFscy9waG9uZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9hY3Rpb25fY29kZV91cmwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvcHJvdmlkZXJzL2VtYWlsLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3Byb3ZpZGVycy9mZWRlcmF0ZWQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvcHJvdmlkZXJzL29hdXRoLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3Byb3ZpZGVycy9mYWNlYm9vay50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wcm92aWRlcnMvZ29vZ2xlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3Byb3ZpZGVycy9naXRodWIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvY3JlZGVudGlhbHMvc2FtbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wcm92aWRlcnMvc2FtbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wcm92aWRlcnMvdHdpdHRlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL3NpZ25fdXAudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvdXNlci91c2VyX2NyZWRlbnRpYWxfaW1wbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9zdHJhdGVnaWVzL2Fub255bW91cy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvbWZhL21mYV9lcnJvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL3Byb3ZpZGVycy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91c2VyL2xpbmtfdW5saW5rLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvcmVhdXRoZW50aWNhdGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9jcmVkZW50aWFsLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvYXV0aGVudGljYXRpb24vY3VzdG9tX3Rva2VuLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3N0cmF0ZWdpZXMvY3VzdG9tX3Rva2VuLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9tZmEvbWZhX2luZm8udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9hY3Rpb25fY29kZV9zZXR0aW5ncy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9zdHJhdGVnaWVzL2VtYWlsX2FuZF9wYXNzd29yZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9zdHJhdGVnaWVzL2VtYWlsX2xpbmsudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2FwaS9hdXRoZW50aWNhdGlvbi9jcmVhdGVfYXV0aF91cmkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9lbWFpbC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2FjY291bnRfbWFuYWdlbWVudC9wcm9maWxlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvYWNjb3VudF9pbmZvLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3VzZXIvYWRkaXRpb25hbF91c2VyX2luZm8udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL21mYS9tZmFfc2Vzc2lvbi50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvbWZhL21mYV9yZXNvbHZlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2FjY291bnRfbWFuYWdlbWVudC9tZmEudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL21mYS9tZmFfdXNlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS9wZXJzaXN0ZW5jZS9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9wZXJzaXN0ZW5jZS9icm93c2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3BlcnNpc3RlbmNlL2xvY2FsX3N0b3JhZ2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcGVyc2lzdGVuY2Uvc2Vzc2lvbl9zdG9yYWdlLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL21lc3NhZ2VjaGFubmVsL3Byb21pc2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvbWVzc2FnZWNoYW5uZWwvcmVjZWl2ZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvdXRpbC9ldmVudF9pZC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9tZXNzYWdlY2hhbm5lbC9zZW5kZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvYXV0aF93aW5kb3cudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvdXRpbC93b3JrZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcGVyc2lzdGVuY2UvaW5kZXhlZF9kYi50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvYXBpL2F1dGhlbnRpY2F0aW9uL21mYS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9yZWNhcHRjaGEvcmVjYXB0Y2hhX21vY2sudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV9sb2FkZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV92ZXJpZmllci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9zdHJhdGVnaWVzL3Bob25lLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3Byb3ZpZGVycy9waG9uZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL3Jlc29sdmVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3N0cmF0ZWdpZXMvaWRwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3N0cmF0ZWdpZXMvYWJzdHJhY3RfcG9wdXBfcmVkaXJlY3Rfb3BlcmF0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL3N0cmF0ZWdpZXMvcG9wdXAudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvc3RyYXRlZ2llcy9yZWRpcmVjdC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9zdHJhdGVnaWVzL3JlZGlyZWN0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL2F1dGgvYXV0aF9ldmVudF9tYW5hZ2VyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9hcGkvcHJvamVjdF9jb25maWcvZ2V0X3Byb2plY3RfY29uZmlnLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL3V0aWwvdmFsaWRhdGVfb3JpZ2luLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL2lmcmFtZS9nYXBpLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL2lmcmFtZS9pZnJhbWUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvdXRpbC9wb3B1cC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvY29yZS91dGlsL2hhbmRsZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL3BsYXRmb3JtX2Jyb3dzZXIvcG9wdXBfcmVkaXJlY3QudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL21mYS9tZmFfYXNzZXJ0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9wbGF0Zm9ybV9icm93c2VyL21mYS9hc3NlcnRpb25zL3Bob25lLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9tZmEvYXNzZXJ0aW9ucy90b3RwLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AZmlyZWJhc2UvYXV0aEAxLjcuOV9AZmlyZWJhc2UrYXBwQDAuMTAuMTMvbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hdXRoL3NyYy9jb3JlL2F1dGgvZmlyZWJhc2VfaW50ZXJuYWwudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0BmaXJlYmFzZS9hdXRoQDEuNy45X0BmaXJlYmFzZSthcHBAMC4xMC4xMy9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvc3JjL2NvcmUvYXV0aC9yZWdpc3Rlci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9zcmMvcGxhdGZvcm1fYnJvd3Nlci9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQGZpcmViYXNlL2F1dGhAMS43LjlfQGZpcmViYXNlK2FwcEAwLjEwLjEzL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvYXV0aC9kaXN0L2VzbTIwMTcvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL2ZpcmViYXNlQDEwLjE0LjFfQGZpcmViYXNlK2FwcEAwLjEwLjEzX0BmaXJlYmFzZSthcHAtY29tcGF0QDAuMi40M19AZmlyZWJhc2UrYXBwLXR5cGVzQDAuOS4yL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hdXRoL2Rpc3QvZXNtL2luZGV4LmVzbS5qcyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3QvanN4LXJ1bnRpbWUuanMiLCAiLi4vcHVibGljL21haW4udHN4IiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AcmVtaXgtcnVuL3JvdXRlckAxLjIzLjEvbm9kZV9tb2R1bGVzL0ByZW1peC1ydW4vcm91dGVyL2hpc3RvcnkudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0ByZW1peC1ydW4vcm91dGVyQDEuMjMuMS9ub2RlX21vZHVsZXMvQHJlbWl4LXJ1bi9yb3V0ZXIvdXRpbHMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0ByZW1peC1ydW4vcm91dGVyQDEuMjMuMS9ub2RlX21vZHVsZXMvQHJlbWl4LXJ1bi9yb3V0ZXIvcm91dGVyLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdC1yb3V0ZXJANi4zMC4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL2xpYi9jb250ZXh0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9yZWFjdC1yb3V0ZXJANi4zMC4yX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL2xpYi9ob29rcy50c3giLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LXJvdXRlckA2LjMwLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvbGliL2RlcHJlY2F0aW9ucy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvcmVhY3Qtcm91dGVyQDYuMzAuMl9yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci9saWIvY29tcG9uZW50cy50c3giLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL3JlYWN0LXJvdXRlckA2LjMwLjJfcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXIvaW5kZXgudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL2tpbmQuanMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL2Vycm9yLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AMG5vLWNvL2dyYXBocWwud2ViQDEuMi4wL25vZGVfbW9kdWxlcy9AMG5vLWNvL2dyYXBocWwud2ViL3NyYy9wYXJzZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL3Zpc2l0b3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL3ByaW50ZXIudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0Awbm8tY28vZ3JhcGhxbC53ZWJAMS4yLjAvbm9kZV9tb2R1bGVzL0Awbm8tY28vZ3JhcGhxbC53ZWIvc3JjL3ZhbHVlcy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQDBuby1jby9ncmFwaHFsLndlYkAxLjIuMC9ub2RlX21vZHVsZXMvQDBuby1jby9ncmFwaHFsLndlYi9zcmMvaGVscGVycy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvd29ua2FANi4zLjUvbm9kZV9tb2R1bGVzL3dvbmthL2Rpc3Qvd29ua2EubWpzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9lcnJvci50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvdXRpbHMvaGFzaC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvdXRpbHMvdmFyaWFibGVzLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9yZXF1ZXN0LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9yZXN1bHQudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2ludGVybmFsL2ZldGNoT3B0aW9ucy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvaW50ZXJuYWwvZmV0Y2hTb3VyY2UudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL3V0aWxzL2NvbGxlY3RUeXBlbmFtZXMudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL3V0aWxzL2Zvcm1hdERvY3VtZW50LnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9zdHJlYW1VdGlscy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvdXRpbHMvb3BlcmF0aW9uLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy91dGlscy9pbmRleC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZ3FsLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy9leGNoYW5nZXMvY2FjaGUudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2V4Y2hhbmdlcy9zc3IudHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2V4Y2hhbmdlcy9zdWJzY3JpcHRpb24udHMiLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL0B1cnFsL2NvcmVANi4wLjEvbm9kZV9tb2R1bGVzL0B1cnFsL2NvcmUvc3JjL2V4Y2hhbmdlcy9kZWJ1Zy50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZXhjaGFuZ2VzL2ZldGNoLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy9leGNoYW5nZXMvY29tcG9zZS50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZXhjaGFuZ2VzL21hcC50cyIsICIuLi8uLi8uLi8uLi8uLi9MaWJyYXJ5L0NhY2hlcy9kZW5vL2Rlbm9fZXNidWlsZC9yZWdpc3RyeS5ucG1qcy5vcmcvQHVycWwvY29yZUA2LjAuMS9ub2RlX21vZHVsZXMvQHVycWwvY29yZS9zcmMvZXhjaGFuZ2VzL2ZhbGxiYWNrLnRzIiwgIi4uLy4uLy4uLy4uLy4uL0xpYnJhcnkvQ2FjaGVzL2Rlbm8vZGVub19lc2J1aWxkL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9AdXJxbC9jb3JlQDYuMC4xL25vZGVfbW9kdWxlcy9AdXJxbC9jb3JlL3NyYy9jbGllbnQudHMiLCAiLi4vcHVibGljL3BhZ2VzL0xvZ2luUGFnZS50c3giLCAiLi4vcHVibGljL2NvbXBvbmVudHMvTG9naW5Gb3JtLnRzeCIsICIuLi9wdWJsaWMvY29udGV4dC9BdXRoQ29udGV4dC50c3giLCAiLi4vLi4vLi4vLi4vLi4vTGlicmFyeS9DYWNoZXMvZGVuby9kZW5vX2VzYnVpbGQvcmVnaXN0cnkubnBtanMub3JnL2ZpcmViYXNlQDEwLjE0LjFfQGZpcmViYXNlK2FwcEAwLjEwLjEzX0BmaXJlYmFzZSthcHAtY29tcGF0QDAuMi40M19AZmlyZWJhc2UrYXBwLXR5cGVzQDAuOS4yL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hcHAvaW5kZXgudHMiLCAiLi4vcHVibGljL2ZpcmViYXNlL2F1dGgudHMiLCAiLi4vcHVibGljL2ZpcmViYXNlL2NvbmZpZy50cyIsICIuLi9wdWJsaWMvcGFnZXMvU2lnbnVwUGFnZS50c3giLCAiLi4vcHVibGljL2NvbXBvbmVudHMvU2lnbnVwRm9ybS50c3giLCAiLi4vcHVibGljL2dlbmVyYXRlZC9nZW5xbC9ydW50aW1lL2dlbmVyYXRlR3JhcGhxbE9wZXJhdGlvbi50cyIsICIuLi9wdWJsaWMvZ2VuZXJhdGVkL2dlbnFsL3J1bnRpbWUvbGlua1R5cGVNYXAudHMiLCAiLi4vcHVibGljL2dlbmVyYXRlZC9nZW5xbC90eXBlcy50cyIsICIuLi9wdWJsaWMvZ2VuZXJhdGVkL2dlbnFsL2luZGV4LnRzIiwgIi4uL3B1YmxpYy91dGlscy9nZW5xbC11cnFsLWJyaWRnZS50cyIsICIuLi9wdWJsaWMvcGFnZXMvRGFzaGJvYXJkUGFnZS50c3giLCAiLi4vcHVibGljL2NvbXBvbmVudHMvUHJvdGVjdGVkUm91dGUudHN4IiwgIi4uL3B1YmxpYy9BcHAudHN4IiwgIi4uL3B1YmxpYy91dGlscy9yZWZldGNoT25UeXBlbmFtZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO3ZhciBsPVN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLG49U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxwPVN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxxPVN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxyPVN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSx0PVN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKSx1PVN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLHY9U3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLHc9U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLHg9U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIikseT1TeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSx6PVN5bWJvbC5pdGVyYXRvcjtmdW5jdGlvbiBBKGEpe2lmKG51bGw9PT1hfHxcIm9iamVjdFwiIT09dHlwZW9mIGEpcmV0dXJuIG51bGw7YT16JiZhW3pdfHxhW1wiQEBpdGVyYXRvclwiXTtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYT9hOm51bGx9XG52YXIgQj17aXNNb3VudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVNldFN0YXRlOmZ1bmN0aW9uKCl7fX0sQz1PYmplY3QuYXNzaWduLEQ9e307ZnVuY3Rpb24gRShhLGIsZSl7dGhpcy5wcm9wcz1hO3RoaXMuY29udGV4dD1iO3RoaXMucmVmcz1EO3RoaXMudXBkYXRlcj1lfHxCfUUucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9e307XG5FLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihhLGIpe2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYSYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGEmJm51bGwhPWEpdGhyb3cgRXJyb3IoXCJzZXRTdGF0ZSguLi4pOiB0YWtlcyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzIHRvIHVwZGF0ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy5cIik7dGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLGEsYixcInNldFN0YXRlXCIpfTtFLnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihhKXt0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsYSxcImZvcmNlVXBkYXRlXCIpfTtmdW5jdGlvbiBGKCl7fUYucHJvdG90eXBlPUUucHJvdG90eXBlO2Z1bmN0aW9uIEcoYSxiLGUpe3RoaXMucHJvcHM9YTt0aGlzLmNvbnRleHQ9Yjt0aGlzLnJlZnM9RDt0aGlzLnVwZGF0ZXI9ZXx8Qn12YXIgSD1HLnByb3RvdHlwZT1uZXcgRjtcbkguY29uc3RydWN0b3I9RztDKEgsRS5wcm90b3R5cGUpO0guaXNQdXJlUmVhY3RDb21wb25lbnQ9ITA7dmFyIEk9QXJyYXkuaXNBcnJheSxKPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksSz17Y3VycmVudDpudWxsfSxMPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07XG5mdW5jdGlvbiBNKGEsYixlKXt2YXIgZCxjPXt9LGs9bnVsbCxoPW51bGw7aWYobnVsbCE9Yilmb3IoZCBpbiB2b2lkIDAhPT1iLnJlZiYmKGg9Yi5yZWYpLHZvaWQgMCE9PWIua2V5JiYoaz1cIlwiK2Iua2V5KSxiKUouY2FsbChiLGQpJiYhTC5oYXNPd25Qcm9wZXJ0eShkKSYmKGNbZF09YltkXSk7dmFyIGc9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT1nKWMuY2hpbGRyZW49ZTtlbHNlIGlmKDE8Zyl7Zm9yKHZhciBmPUFycmF5KGcpLG09MDttPGc7bSsrKWZbbV09YXJndW1lbnRzW20rMl07Yy5jaGlsZHJlbj1mfWlmKGEmJmEuZGVmYXVsdFByb3BzKWZvcihkIGluIGc9YS5kZWZhdWx0UHJvcHMsZyl2b2lkIDA9PT1jW2RdJiYoY1tkXT1nW2RdKTtyZXR1cm57JCR0eXBlb2Y6bCx0eXBlOmEsa2V5OmsscmVmOmgscHJvcHM6Yyxfb3duZXI6Sy5jdXJyZW50fX1cbmZ1bmN0aW9uIE4oYSxiKXtyZXR1cm57JCR0eXBlb2Y6bCx0eXBlOmEudHlwZSxrZXk6YixyZWY6YS5yZWYscHJvcHM6YS5wcm9wcyxfb3duZXI6YS5fb3duZXJ9fWZ1bmN0aW9uIE8oYSl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PWx9ZnVuY3Rpb24gZXNjYXBlKGEpe3ZhciBiPXtcIj1cIjpcIj0wXCIsXCI6XCI6XCI9MlwifTtyZXR1cm5cIiRcIithLnJlcGxhY2UoL1s9Ol0vZyxmdW5jdGlvbihhKXtyZXR1cm4gYlthXX0pfXZhciBQPS9cXC8rL2c7ZnVuY3Rpb24gUShhLGIpe3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJm51bGwhPWEua2V5P2VzY2FwZShcIlwiK2Eua2V5KTpiLnRvU3RyaW5nKDM2KX1cbmZ1bmN0aW9uIFIoYSxiLGUsZCxjKXt2YXIgaz10eXBlb2YgYTtpZihcInVuZGVmaW5lZFwiPT09a3x8XCJib29sZWFuXCI9PT1rKWE9bnVsbDt2YXIgaD0hMTtpZihudWxsPT09YSloPSEwO2Vsc2Ugc3dpdGNoKGspe2Nhc2UgXCJzdHJpbmdcIjpjYXNlIFwibnVtYmVyXCI6aD0hMDticmVhaztjYXNlIFwib2JqZWN0XCI6c3dpdGNoKGEuJCR0eXBlb2Ype2Nhc2UgbDpjYXNlIG46aD0hMH19aWYoaClyZXR1cm4gaD1hLGM9YyhoKSxhPVwiXCI9PT1kP1wiLlwiK1EoaCwwKTpkLEkoYyk/KGU9XCJcIixudWxsIT1hJiYoZT1hLnJlcGxhY2UoUCxcIiQmL1wiKStcIi9cIiksUihjLGIsZSxcIlwiLGZ1bmN0aW9uKGEpe3JldHVybiBhfSkpOm51bGwhPWMmJihPKGMpJiYoYz1OKGMsZSsoIWMua2V5fHxoJiZoLmtleT09PWMua2V5P1wiXCI6KFwiXCIrYy5rZXkpLnJlcGxhY2UoUCxcIiQmL1wiKStcIi9cIikrYSkpLGIucHVzaChjKSksMTtoPTA7ZD1cIlwiPT09ZD9cIi5cIjpkK1wiOlwiO2lmKEkoYSkpZm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspe2s9XG5hW2ddO3ZhciBmPWQrUShrLGcpO2grPVIoayxiLGUsZixjKX1lbHNlIGlmKGY9QShhKSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZilmb3IoYT1mLmNhbGwoYSksZz0wOyEoaz1hLm5leHQoKSkuZG9uZTspaz1rLnZhbHVlLGY9ZCtRKGssZysrKSxoKz1SKGssYixlLGYsYyk7ZWxzZSBpZihcIm9iamVjdFwiPT09ayl0aHJvdyBiPVN0cmluZyhhKSxFcnJvcihcIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogXCIrKFwiW29iamVjdCBPYmplY3RdXCI9PT1iP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXMoYSkuam9pbihcIiwgXCIpK1wifVwiOmIpK1wiKS4gSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSBpbnN0ZWFkLlwiKTtyZXR1cm4gaH1cbmZ1bmN0aW9uIFMoYSxiLGUpe2lmKG51bGw9PWEpcmV0dXJuIGE7dmFyIGQ9W10sYz0wO1IoYSxkLFwiXCIsXCJcIixmdW5jdGlvbihhKXtyZXR1cm4gYi5jYWxsKGUsYSxjKyspfSk7cmV0dXJuIGR9ZnVuY3Rpb24gVChhKXtpZigtMT09PWEuX3N0YXR1cyl7dmFyIGI9YS5fcmVzdWx0O2I9YigpO2IudGhlbihmdW5jdGlvbihiKXtpZigwPT09YS5fc3RhdHVzfHwtMT09PWEuX3N0YXR1cylhLl9zdGF0dXM9MSxhLl9yZXN1bHQ9Yn0sZnVuY3Rpb24oYil7aWYoMD09PWEuX3N0YXR1c3x8LTE9PT1hLl9zdGF0dXMpYS5fc3RhdHVzPTIsYS5fcmVzdWx0PWJ9KTstMT09PWEuX3N0YXR1cyYmKGEuX3N0YXR1cz0wLGEuX3Jlc3VsdD1iKX1pZigxPT09YS5fc3RhdHVzKXJldHVybiBhLl9yZXN1bHQuZGVmYXVsdDt0aHJvdyBhLl9yZXN1bHQ7fVxudmFyIFU9e2N1cnJlbnQ6bnVsbH0sVj17dHJhbnNpdGlvbjpudWxsfSxXPXtSZWFjdEN1cnJlbnREaXNwYXRjaGVyOlUsUmVhY3RDdXJyZW50QmF0Y2hDb25maWc6VixSZWFjdEN1cnJlbnRPd25lcjpLfTtmdW5jdGlvbiBYKCl7dGhyb3cgRXJyb3IoXCJhY3QoLi4uKSBpcyBub3Qgc3VwcG9ydGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzIG9mIFJlYWN0LlwiKTt9XG5leHBvcnRzLkNoaWxkcmVuPXttYXA6Uyxmb3JFYWNoOmZ1bmN0aW9uKGEsYixlKXtTKGEsZnVuY3Rpb24oKXtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZSl9LGNvdW50OmZ1bmN0aW9uKGEpe3ZhciBiPTA7UyhhLGZ1bmN0aW9uKCl7YisrfSk7cmV0dXJuIGJ9LHRvQXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuIFMoYSxmdW5jdGlvbihhKXtyZXR1cm4gYX0pfHxbXX0sb25seTpmdW5jdGlvbihhKXtpZighTyhhKSl0aHJvdyBFcnJvcihcIlJlYWN0LkNoaWxkcmVuLm9ubHkgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBSZWFjdCBlbGVtZW50IGNoaWxkLlwiKTtyZXR1cm4gYX19O2V4cG9ydHMuQ29tcG9uZW50PUU7ZXhwb3J0cy5GcmFnbWVudD1wO2V4cG9ydHMuUHJvZmlsZXI9cjtleHBvcnRzLlB1cmVDb21wb25lbnQ9RztleHBvcnRzLlN0cmljdE1vZGU9cTtleHBvcnRzLlN1c3BlbnNlPXc7XG5leHBvcnRzLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEPVc7ZXhwb3J0cy5hY3Q9WDtcbmV4cG9ydHMuY2xvbmVFbGVtZW50PWZ1bmN0aW9uKGEsYixlKXtpZihudWxsPT09YXx8dm9pZCAwPT09YSl0aHJvdyBFcnJvcihcIlJlYWN0LmNsb25lRWxlbWVudCguLi4pOiBUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiK2ErXCIuXCIpO3ZhciBkPUMoe30sYS5wcm9wcyksYz1hLmtleSxrPWEucmVmLGg9YS5fb3duZXI7aWYobnVsbCE9Yil7dm9pZCAwIT09Yi5yZWYmJihrPWIucmVmLGg9Sy5jdXJyZW50KTt2b2lkIDAhPT1iLmtleSYmKGM9XCJcIitiLmtleSk7aWYoYS50eXBlJiZhLnR5cGUuZGVmYXVsdFByb3BzKXZhciBnPWEudHlwZS5kZWZhdWx0UHJvcHM7Zm9yKGYgaW4gYilKLmNhbGwoYixmKSYmIUwuaGFzT3duUHJvcGVydHkoZikmJihkW2ZdPXZvaWQgMD09PWJbZl0mJnZvaWQgMCE9PWc/Z1tmXTpiW2ZdKX12YXIgZj1hcmd1bWVudHMubGVuZ3RoLTI7aWYoMT09PWYpZC5jaGlsZHJlbj1lO2Vsc2UgaWYoMTxmKXtnPUFycmF5KGYpO1xuZm9yKHZhciBtPTA7bTxmO20rKylnW21dPWFyZ3VtZW50c1ttKzJdO2QuY2hpbGRyZW49Z31yZXR1cm57JCR0eXBlb2Y6bCx0eXBlOmEudHlwZSxrZXk6YyxyZWY6ayxwcm9wczpkLF9vd25lcjpofX07ZXhwb3J0cy5jcmVhdGVDb250ZXh0PWZ1bmN0aW9uKGEpe2E9eyQkdHlwZW9mOnUsX2N1cnJlbnRWYWx1ZTphLF9jdXJyZW50VmFsdWUyOmEsX3RocmVhZENvdW50OjAsUHJvdmlkZXI6bnVsbCxDb25zdW1lcjpudWxsLF9kZWZhdWx0VmFsdWU6bnVsbCxfZ2xvYmFsTmFtZTpudWxsfTthLlByb3ZpZGVyPXskJHR5cGVvZjp0LF9jb250ZXh0OmF9O3JldHVybiBhLkNvbnN1bWVyPWF9O2V4cG9ydHMuY3JlYXRlRWxlbWVudD1NO2V4cG9ydHMuY3JlYXRlRmFjdG9yeT1mdW5jdGlvbihhKXt2YXIgYj1NLmJpbmQobnVsbCxhKTtiLnR5cGU9YTtyZXR1cm4gYn07ZXhwb3J0cy5jcmVhdGVSZWY9ZnVuY3Rpb24oKXtyZXR1cm57Y3VycmVudDpudWxsfX07XG5leHBvcnRzLmZvcndhcmRSZWY9ZnVuY3Rpb24oYSl7cmV0dXJueyQkdHlwZW9mOnYscmVuZGVyOmF9fTtleHBvcnRzLmlzVmFsaWRFbGVtZW50PU87ZXhwb3J0cy5sYXp5PWZ1bmN0aW9uKGEpe3JldHVybnskJHR5cGVvZjp5LF9wYXlsb2FkOntfc3RhdHVzOi0xLF9yZXN1bHQ6YX0sX2luaXQ6VH19O2V4cG9ydHMubWVtbz1mdW5jdGlvbihhLGIpe3JldHVybnskJHR5cGVvZjp4LHR5cGU6YSxjb21wYXJlOnZvaWQgMD09PWI/bnVsbDpifX07ZXhwb3J0cy5zdGFydFRyYW5zaXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9Vi50cmFuc2l0aW9uO1YudHJhbnNpdGlvbj17fTt0cnl7YSgpfWZpbmFsbHl7Vi50cmFuc2l0aW9uPWJ9fTtleHBvcnRzLnVuc3RhYmxlX2FjdD1YO2V4cG9ydHMudXNlQ2FsbGJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVS5jdXJyZW50LnVzZUNhbGxiYWNrKGEsYil9O2V4cG9ydHMudXNlQ29udGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gVS5jdXJyZW50LnVzZUNvbnRleHQoYSl9O1xuZXhwb3J0cy51c2VEZWJ1Z1ZhbHVlPWZ1bmN0aW9uKCl7fTtleHBvcnRzLnVzZURlZmVycmVkVmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIFUuY3VycmVudC51c2VEZWZlcnJlZFZhbHVlKGEpfTtleHBvcnRzLnVzZUVmZmVjdD1mdW5jdGlvbihhLGIpe3JldHVybiBVLmN1cnJlbnQudXNlRWZmZWN0KGEsYil9O2V4cG9ydHMudXNlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gVS5jdXJyZW50LnVzZUlkKCl9O2V4cG9ydHMudXNlSW1wZXJhdGl2ZUhhbmRsZT1mdW5jdGlvbihhLGIsZSl7cmV0dXJuIFUuY3VycmVudC51c2VJbXBlcmF0aXZlSGFuZGxlKGEsYixlKX07ZXhwb3J0cy51c2VJbnNlcnRpb25FZmZlY3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVS5jdXJyZW50LnVzZUluc2VydGlvbkVmZmVjdChhLGIpfTtleHBvcnRzLnVzZUxheW91dEVmZmVjdD1mdW5jdGlvbihhLGIpe3JldHVybiBVLmN1cnJlbnQudXNlTGF5b3V0RWZmZWN0KGEsYil9O1xuZXhwb3J0cy51c2VNZW1vPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFUuY3VycmVudC51c2VNZW1vKGEsYil9O2V4cG9ydHMudXNlUmVkdWNlcj1mdW5jdGlvbihhLGIsZSl7cmV0dXJuIFUuY3VycmVudC51c2VSZWR1Y2VyKGEsYixlKX07ZXhwb3J0cy51c2VSZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIFUuY3VycmVudC51c2VSZWYoYSl9O2V4cG9ydHMudXNlU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIFUuY3VycmVudC51c2VTdGF0ZShhKX07ZXhwb3J0cy51c2VTeW5jRXh0ZXJuYWxTdG9yZT1mdW5jdGlvbihhLGIsZSl7cmV0dXJuIFUuY3VycmVudC51c2VTeW5jRXh0ZXJuYWxTdG9yZShhLGIsZSl9O2V4cG9ydHMudXNlVHJhbnNpdGlvbj1mdW5jdGlvbigpe3JldHVybiBVLmN1cnJlbnQudXNlVHJhbnNpdGlvbigpfTtleHBvcnRzLnZlcnNpb249XCIxOC4zLjFcIjtcbiIsICIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiBzY2hlZHVsZXIucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO2Z1bmN0aW9uIGYoYSxiKXt2YXIgYz1hLmxlbmd0aDthLnB1c2goYik7YTpmb3IoOzA8Yzspe3ZhciBkPWMtMT4+PjEsZT1hW2RdO2lmKDA8ZyhlLGIpKWFbZF09YixhW2NdPWUsYz1kO2Vsc2UgYnJlYWsgYX19ZnVuY3Rpb24gaChhKXtyZXR1cm4gMD09PWEubGVuZ3RoP251bGw6YVswXX1mdW5jdGlvbiBrKGEpe2lmKDA9PT1hLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgYj1hWzBdLGM9YS5wb3AoKTtpZihjIT09Yil7YVswXT1jO2E6Zm9yKHZhciBkPTAsZT1hLmxlbmd0aCx3PWU+Pj4xO2Q8dzspe3ZhciBtPTIqKGQrMSktMSxDPWFbbV0sbj1tKzEseD1hW25dO2lmKDA+ZyhDLGMpKW48ZSYmMD5nKHgsQyk/KGFbZF09eCxhW25dPWMsZD1uKTooYVtkXT1DLGFbbV09YyxkPW0pO2Vsc2UgaWYobjxlJiYwPmcoeCxjKSlhW2RdPXgsYVtuXT1jLGQ9bjtlbHNlIGJyZWFrIGF9fXJldHVybiBifVxuZnVuY3Rpb24gZyhhLGIpe3ZhciBjPWEuc29ydEluZGV4LWIuc29ydEluZGV4O3JldHVybiAwIT09Yz9jOmEuaWQtYi5pZH1pZihcIm9iamVjdFwiPT09dHlwZW9mIHBlcmZvcm1hbmNlJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgcGVyZm9ybWFuY2Uubm93KXt2YXIgbD1wZXJmb3JtYW5jZTtleHBvcnRzLnVuc3RhYmxlX25vdz1mdW5jdGlvbigpe3JldHVybiBsLm5vdygpfX1lbHNle3ZhciBwPURhdGUscT1wLm5vdygpO2V4cG9ydHMudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIHAubm93KCktcX19dmFyIHI9W10sdD1bXSx1PTEsdj1udWxsLHk9Myx6PSExLEE9ITEsQj0hMSxEPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6bnVsbCxFPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0Om51bGwsRj1cInVuZGVmaW5lZFwiIT09dHlwZW9mIHNldEltbWVkaWF0ZT9zZXRJbW1lZGlhdGU6bnVsbDtcblwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiZ2b2lkIDAhPT1uYXZpZ2F0b3Iuc2NoZWR1bGluZyYmdm9pZCAwIT09bmF2aWdhdG9yLnNjaGVkdWxpbmcuaXNJbnB1dFBlbmRpbmcmJm5hdmlnYXRvci5zY2hlZHVsaW5nLmlzSW5wdXRQZW5kaW5nLmJpbmQobmF2aWdhdG9yLnNjaGVkdWxpbmcpO2Z1bmN0aW9uIEcoYSl7Zm9yKHZhciBiPWgodCk7bnVsbCE9PWI7KXtpZihudWxsPT09Yi5jYWxsYmFjaylrKHQpO2Vsc2UgaWYoYi5zdGFydFRpbWU8PWEpayh0KSxiLnNvcnRJbmRleD1iLmV4cGlyYXRpb25UaW1lLGYocixiKTtlbHNlIGJyZWFrO2I9aCh0KX19ZnVuY3Rpb24gSChhKXtCPSExO0coYSk7aWYoIUEpaWYobnVsbCE9PWgocikpQT0hMCxJKEopO2Vsc2V7dmFyIGI9aCh0KTtudWxsIT09YiYmSyhILGIuc3RhcnRUaW1lLWEpfX1cbmZ1bmN0aW9uIEooYSxiKXtBPSExO0ImJihCPSExLEUoTCksTD0tMSk7ej0hMDt2YXIgYz15O3RyeXtHKGIpO2Zvcih2PWgocik7bnVsbCE9PXYmJighKHYuZXhwaXJhdGlvblRpbWU+Yil8fGEmJiFNKCkpOyl7dmFyIGQ9di5jYWxsYmFjaztpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZCl7di5jYWxsYmFjaz1udWxsO3k9di5wcmlvcml0eUxldmVsO3ZhciBlPWQodi5leHBpcmF0aW9uVGltZTw9Yik7Yj1leHBvcnRzLnVuc3RhYmxlX25vdygpO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBlP3YuY2FsbGJhY2s9ZTp2PT09aChyKSYmayhyKTtHKGIpfWVsc2UgayhyKTt2PWgocil9aWYobnVsbCE9PXYpdmFyIHc9ITA7ZWxzZXt2YXIgbT1oKHQpO251bGwhPT1tJiZLKEgsbS5zdGFydFRpbWUtYik7dz0hMX1yZXR1cm4gd31maW5hbGx5e3Y9bnVsbCx5PWMsej0hMX19dmFyIE49ITEsTz1udWxsLEw9LTEsUD01LFE9LTE7XG5mdW5jdGlvbiBNKCl7cmV0dXJuIGV4cG9ydHMudW5zdGFibGVfbm93KCktUTxQPyExOiEwfWZ1bmN0aW9uIFIoKXtpZihudWxsIT09Tyl7dmFyIGE9ZXhwb3J0cy51bnN0YWJsZV9ub3coKTtRPWE7dmFyIGI9ITA7dHJ5e2I9TyghMCxhKX1maW5hbGx5e2I/UygpOihOPSExLE89bnVsbCl9fWVsc2UgTj0hMX12YXIgUztpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgRilTPWZ1bmN0aW9uKCl7RihSKX07ZWxzZSBpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIE1lc3NhZ2VDaGFubmVsKXt2YXIgVD1uZXcgTWVzc2FnZUNoYW5uZWwsVT1ULnBvcnQyO1QucG9ydDEub25tZXNzYWdlPVI7Uz1mdW5jdGlvbigpe1UucG9zdE1lc3NhZ2UobnVsbCl9fWVsc2UgUz1mdW5jdGlvbigpe0QoUiwwKX07ZnVuY3Rpb24gSShhKXtPPWE7Tnx8KE49ITAsUygpKX1mdW5jdGlvbiBLKGEsYil7TD1EKGZ1bmN0aW9uKCl7YShleHBvcnRzLnVuc3RhYmxlX25vdygpKX0sYil9XG5leHBvcnRzLnVuc3RhYmxlX0lkbGVQcmlvcml0eT01O2V4cG9ydHMudW5zdGFibGVfSW1tZWRpYXRlUHJpb3JpdHk9MTtleHBvcnRzLnVuc3RhYmxlX0xvd1ByaW9yaXR5PTQ7ZXhwb3J0cy51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eT0zO2V4cG9ydHMudW5zdGFibGVfUHJvZmlsaW5nPW51bGw7ZXhwb3J0cy51bnN0YWJsZV9Vc2VyQmxvY2tpbmdQcmlvcml0eT0yO2V4cG9ydHMudW5zdGFibGVfY2FuY2VsQ2FsbGJhY2s9ZnVuY3Rpb24oYSl7YS5jYWxsYmFjaz1udWxsfTtleHBvcnRzLnVuc3RhYmxlX2NvbnRpbnVlRXhlY3V0aW9uPWZ1bmN0aW9uKCl7QXx8enx8KEE9ITAsSShKKSl9O1xuZXhwb3J0cy51bnN0YWJsZV9mb3JjZUZyYW1lUmF0ZT1mdW5jdGlvbihhKXswPmF8fDEyNTxhP2NvbnNvbGUuZXJyb3IoXCJmb3JjZUZyYW1lUmF0ZSB0YWtlcyBhIHBvc2l0aXZlIGludCBiZXR3ZWVuIDAgYW5kIDEyNSwgZm9yY2luZyBmcmFtZSByYXRlcyBoaWdoZXIgdGhhbiAxMjUgZnBzIGlzIG5vdCBzdXBwb3J0ZWRcIik6UD0wPGE/TWF0aC5mbG9vcigxRTMvYSk6NX07ZXhwb3J0cy51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbD1mdW5jdGlvbigpe3JldHVybiB5fTtleHBvcnRzLnVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIGgocil9O2V4cG9ydHMudW5zdGFibGVfbmV4dD1mdW5jdGlvbihhKXtzd2l0Y2goeSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6dmFyIGI9MzticmVhaztkZWZhdWx0OmI9eX12YXIgYz15O3k9Yjt0cnl7cmV0dXJuIGEoKX1maW5hbGx5e3k9Y319O2V4cG9ydHMudW5zdGFibGVfcGF1c2VFeGVjdXRpb249ZnVuY3Rpb24oKXt9O1xuZXhwb3J0cy51bnN0YWJsZV9yZXF1ZXN0UGFpbnQ9ZnVuY3Rpb24oKXt9O2V4cG9ydHMudW5zdGFibGVfcnVuV2l0aFByaW9yaXR5PWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEpe2Nhc2UgMTpjYXNlIDI6Y2FzZSAzOmNhc2UgNDpjYXNlIDU6YnJlYWs7ZGVmYXVsdDphPTN9dmFyIGM9eTt5PWE7dHJ5e3JldHVybiBiKCl9ZmluYWxseXt5PWN9fTtcbmV4cG9ydHMudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZXhwb3J0cy51bnN0YWJsZV9ub3coKTtcIm9iamVjdFwiPT09dHlwZW9mIGMmJm51bGwhPT1jPyhjPWMuZGVsYXksYz1cIm51bWJlclwiPT09dHlwZW9mIGMmJjA8Yz9kK2M6ZCk6Yz1kO3N3aXRjaChhKXtjYXNlIDE6dmFyIGU9LTE7YnJlYWs7Y2FzZSAyOmU9MjUwO2JyZWFrO2Nhc2UgNTplPTEwNzM3NDE4MjM7YnJlYWs7Y2FzZSA0OmU9MUU0O2JyZWFrO2RlZmF1bHQ6ZT01RTN9ZT1jK2U7YT17aWQ6dSsrLGNhbGxiYWNrOmIscHJpb3JpdHlMZXZlbDphLHN0YXJ0VGltZTpjLGV4cGlyYXRpb25UaW1lOmUsc29ydEluZGV4Oi0xfTtjPmQ/KGEuc29ydEluZGV4PWMsZih0LGEpLG51bGw9PT1oKHIpJiZhPT09aCh0KSYmKEI/KEUoTCksTD0tMSk6Qj0hMCxLKEgsYy1kKSkpOihhLnNvcnRJbmRleD1lLGYocixhKSxBfHx6fHwoQT0hMCxJKEopKSk7cmV0dXJuIGF9O1xuZXhwb3J0cy51bnN0YWJsZV9zaG91bGRZaWVsZD1NO2V4cG9ydHMudW5zdGFibGVfd3JhcENhbGxiYWNrPWZ1bmN0aW9uKGEpe3ZhciBiPXk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9eTt5PWI7dHJ5e3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e3k9Y319fTtcbiIsICIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvc2NoZWR1bGVyLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3NjaGVkdWxlci5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWRvbS5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG4vKlxuIE1vZGVybml6ciAzLjAuMHByZSAoQ3VzdG9tIEJ1aWxkKSB8IE1JVFxuKi9cbid1c2Ugc3RyaWN0Jzt2YXIgYWE9cmVxdWlyZShcInJlYWN0XCIpLGNhPXJlcXVpcmUoXCJzY2hlZHVsZXJcIik7ZnVuY3Rpb24gcChhKXtmb3IodmFyIGI9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIithLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWIrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW2NdKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIithK1wiOyB2aXNpdCBcIitiK1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn12YXIgZGE9bmV3IFNldCxlYT17fTtmdW5jdGlvbiBmYShhLGIpe2hhKGEsYik7aGEoYStcIkNhcHR1cmVcIixiKX1cbmZ1bmN0aW9uIGhhKGEsYil7ZWFbYV09Yjtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKWRhLmFkZChiW2FdKX1cbnZhciBpYT0hKFwidW5kZWZpbmVkXCI9PT10eXBlb2Ygd2luZG93fHxcInVuZGVmaW5lZFwiPT09dHlwZW9mIHdpbmRvdy5kb2N1bWVudHx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCksamE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxrYT0vXls6QS1aX2EtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF1bOkEtWl9hLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXC0uMC05XFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MF0qJC8sbGE9XG57fSxtYT17fTtmdW5jdGlvbiBvYShhKXtpZihqYS5jYWxsKG1hLGEpKXJldHVybiEwO2lmKGphLmNhbGwobGEsYSkpcmV0dXJuITE7aWYoa2EudGVzdChhKSlyZXR1cm4gbWFbYV09ITA7bGFbYV09ITA7cmV0dXJuITF9ZnVuY3Rpb24gcGEoYSxiLGMsZCl7aWYobnVsbCE9PWMmJjA9PT1jLnR5cGUpcmV0dXJuITE7c3dpdGNoKHR5cGVvZiBiKXtjYXNlIFwiZnVuY3Rpb25cIjpjYXNlIFwic3ltYm9sXCI6cmV0dXJuITA7Y2FzZSBcImJvb2xlYW5cIjppZihkKXJldHVybiExO2lmKG51bGwhPT1jKXJldHVybiFjLmFjY2VwdHNCb29sZWFuczthPWEudG9Mb3dlckNhc2UoKS5zbGljZSgwLDUpO3JldHVyblwiZGF0YS1cIiE9PWEmJlwiYXJpYS1cIiE9PWE7ZGVmYXVsdDpyZXR1cm4hMX19XG5mdW5jdGlvbiBxYShhLGIsYyxkKXtpZihudWxsPT09Ynx8XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBifHxwYShhLGIsYyxkKSlyZXR1cm4hMDtpZihkKXJldHVybiExO2lmKG51bGwhPT1jKXN3aXRjaChjLnR5cGUpe2Nhc2UgMzpyZXR1cm4hYjtjYXNlIDQ6cmV0dXJuITE9PT1iO2Nhc2UgNTpyZXR1cm4gaXNOYU4oYik7Y2FzZSA2OnJldHVybiBpc05hTihiKXx8MT5ifXJldHVybiExfWZ1bmN0aW9uIHYoYSxiLGMsZCxlLGYsZyl7dGhpcy5hY2NlcHRzQm9vbGVhbnM9Mj09PWJ8fDM9PT1ifHw0PT09Yjt0aGlzLmF0dHJpYnV0ZU5hbWU9ZDt0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1lO3RoaXMubXVzdFVzZVByb3BlcnR5PWM7dGhpcy5wcm9wZXJ0eU5hbWU9YTt0aGlzLnR5cGU9Yjt0aGlzLnNhbml0aXplVVJMPWY7dGhpcy5yZW1vdmVFbXB0eVN0cmluZz1nfXZhciB6PXt9O1xuXCJjaGlsZHJlbiBkYW5nZXJvdXNseVNldElubmVySFRNTCBkZWZhdWx0VmFsdWUgZGVmYXVsdENoZWNrZWQgaW5uZXJIVE1MIHN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgc3R5bGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsMCwhMSxhLG51bGwsITEsITEpfSk7W1tcImFjY2VwdENoYXJzZXRcIixcImFjY2VwdC1jaGFyc2V0XCJdLFtcImNsYXNzTmFtZVwiLFwiY2xhc3NcIl0sW1wiaHRtbEZvclwiLFwiZm9yXCJdLFtcImh0dHBFcXVpdlwiLFwiaHR0cC1lcXVpdlwiXV0uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hWzBdO3pbYl09bmV3IHYoYiwxLCExLGFbMV0sbnVsbCwhMSwhMSl9KTtbXCJjb250ZW50RWRpdGFibGVcIixcImRyYWdnYWJsZVwiLFwic3BlbGxDaGVja1wiLFwidmFsdWVcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsMiwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCwhMSwhMSl9KTtcbltcImF1dG9SZXZlcnNlXCIsXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIsXCJmb2N1c2FibGVcIixcInByZXNlcnZlQWxwaGFcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsMiwhMSxhLG51bGwsITEsITEpfSk7XCJhbGxvd0Z1bGxTY3JlZW4gYXN5bmMgYXV0b0ZvY3VzIGF1dG9QbGF5IGNvbnRyb2xzIGRlZmF1bHQgZGVmZXIgZGlzYWJsZWQgZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUgZGlzYWJsZVJlbW90ZVBsYXliYWNrIGZvcm1Ob1ZhbGlkYXRlIGhpZGRlbiBsb29wIG5vTW9kdWxlIG5vVmFsaWRhdGUgb3BlbiBwbGF5c0lubGluZSByZWFkT25seSByZXF1aXJlZCByZXZlcnNlZCBzY29wZWQgc2VhbWxlc3MgaXRlbVNjb3BlXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDMsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITEsITEpfSk7XG5bXCJjaGVja2VkXCIsXCJtdWx0aXBsZVwiLFwibXV0ZWRcIixcInNlbGVjdGVkXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDMsITAsYSxudWxsLCExLCExKX0pO1tcImNhcHR1cmVcIixcImRvd25sb2FkXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgdihhLDQsITEsYSxudWxsLCExLCExKX0pO1tcImNvbHNcIixcInJvd3NcIixcInNpemVcIixcInNwYW5cIl0uZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsNiwhMSxhLG51bGwsITEsITEpfSk7W1wicm93U3BhblwiLFwic3RhcnRcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsNSwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCwhMSwhMSl9KTt2YXIgcmE9L1tcXC06XShbYS16XSkvZztmdW5jdGlvbiBzYShhKXtyZXR1cm4gYVsxXS50b1VwcGVyQ2FzZSgpfVxuXCJhY2NlbnQtaGVpZ2h0IGFsaWdubWVudC1iYXNlbGluZSBhcmFiaWMtZm9ybSBiYXNlbGluZS1zaGlmdCBjYXAtaGVpZ2h0IGNsaXAtcGF0aCBjbGlwLXJ1bGUgY29sb3ItaW50ZXJwb2xhdGlvbiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMgY29sb3ItcHJvZmlsZSBjb2xvci1yZW5kZXJpbmcgZG9taW5hbnQtYmFzZWxpbmUgZW5hYmxlLWJhY2tncm91bmQgZmlsbC1vcGFjaXR5IGZpbGwtcnVsZSBmbG9vZC1jb2xvciBmbG9vZC1vcGFjaXR5IGZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXNpemUtYWRqdXN0IGZvbnQtc3RyZXRjaCBmb250LXN0eWxlIGZvbnQtdmFyaWFudCBmb250LXdlaWdodCBnbHlwaC1uYW1lIGdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwgZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwgaG9yaXotYWR2LXggaG9yaXotb3JpZ2luLXggaW1hZ2UtcmVuZGVyaW5nIGxldHRlci1zcGFjaW5nIGxpZ2h0aW5nLWNvbG9yIG1hcmtlci1lbmQgbWFya2VyLW1pZCBtYXJrZXItc3RhcnQgb3ZlcmxpbmUtcG9zaXRpb24gb3ZlcmxpbmUtdGhpY2tuZXNzIHBhaW50LW9yZGVyIHBhbm9zZS0xIHBvaW50ZXItZXZlbnRzIHJlbmRlcmluZy1pbnRlbnQgc2hhcGUtcmVuZGVyaW5nIHN0b3AtY29sb3Igc3RvcC1vcGFjaXR5IHN0cmlrZXRocm91Z2gtcG9zaXRpb24gc3RyaWtldGhyb3VnaC10aGlja25lc3Mgc3Ryb2tlLWRhc2hhcnJheSBzdHJva2UtZGFzaG9mZnNldCBzdHJva2UtbGluZWNhcCBzdHJva2UtbGluZWpvaW4gc3Ryb2tlLW1pdGVybGltaXQgc3Ryb2tlLW9wYWNpdHkgc3Ryb2tlLXdpZHRoIHRleHQtYW5jaG9yIHRleHQtZGVjb3JhdGlvbiB0ZXh0LXJlbmRlcmluZyB1bmRlcmxpbmUtcG9zaXRpb24gdW5kZXJsaW5lLXRoaWNrbmVzcyB1bmljb2RlLWJpZGkgdW5pY29kZS1yYW5nZSB1bml0cy1wZXItZW0gdi1hbHBoYWJldGljIHYtaGFuZ2luZyB2LWlkZW9ncmFwaGljIHYtbWF0aGVtYXRpY2FsIHZlY3Rvci1lZmZlY3QgdmVydC1hZHYteSB2ZXJ0LW9yaWdpbi14IHZlcnQtb3JpZ2luLXkgd29yZC1zcGFjaW5nIHdyaXRpbmctbW9kZSB4bWxuczp4bGluayB4LWhlaWdodFwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShyYSxcbnNhKTt6W2JdPW5ldyB2KGIsMSwhMSxhLG51bGwsITEsITEpfSk7XCJ4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UocmEsc2EpO3pbYl09bmV3IHYoYiwxLCExLGEsXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsITEsITEpfSk7W1wieG1sOmJhc2VcIixcInhtbDpsYW5nXCIsXCJ4bWw6c3BhY2VcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UocmEsc2EpO3pbYl09bmV3IHYoYiwxLCExLGEsXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIiwhMSwhMSl9KTtbXCJ0YWJJbmRleFwiLFwiY3Jvc3NPcmlnaW5cIl0uZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsMSwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCwhMSwhMSl9KTtcbnoueGxpbmtIcmVmPW5ldyB2KFwieGxpbmtIcmVmXCIsMSwhMSxcInhsaW5rOmhyZWZcIixcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMCwhMSk7W1wic3JjXCIsXCJocmVmXCIsXCJhY3Rpb25cIixcImZvcm1BY3Rpb25cIl0uZm9yRWFjaChmdW5jdGlvbihhKXt6W2FdPW5ldyB2KGEsMSwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCwhMCwhMCl9KTtcbmZ1bmN0aW9uIHRhKGEsYixjLGQpe3ZhciBlPXouaGFzT3duUHJvcGVydHkoYik/eltiXTpudWxsO2lmKG51bGwhPT1lPzAhPT1lLnR5cGU6ZHx8ISgyPGIubGVuZ3RoKXx8XCJvXCIhPT1iWzBdJiZcIk9cIiE9PWJbMF18fFwiblwiIT09YlsxXSYmXCJOXCIhPT1iWzFdKXFhKGIsYyxlLGQpJiYoYz1udWxsKSxkfHxudWxsPT09ZT9vYShiKSYmKG51bGw9PT1jP2EucmVtb3ZlQXR0cmlidXRlKGIpOmEuc2V0QXR0cmlidXRlKGIsXCJcIitjKSk6ZS5tdXN0VXNlUHJvcGVydHk/YVtlLnByb3BlcnR5TmFtZV09bnVsbD09PWM/Mz09PWUudHlwZT8hMTpcIlwiOmM6KGI9ZS5hdHRyaWJ1dGVOYW1lLGQ9ZS5hdHRyaWJ1dGVOYW1lc3BhY2UsbnVsbD09PWM/YS5yZW1vdmVBdHRyaWJ1dGUoYik6KGU9ZS50eXBlLGM9Mz09PWV8fDQ9PT1lJiYhMD09PWM/XCJcIjpcIlwiK2MsZD9hLnNldEF0dHJpYnV0ZU5TKGQsYixjKTphLnNldEF0dHJpYnV0ZShiLGMpKSl9XG52YXIgdWE9YWEuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQsdmE9U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksd2E9U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSx5YT1TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksemE9U3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLEFhPVN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSxCYT1TeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIiksQ2E9U3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksRGE9U3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLEVhPVN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxGYT1TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxHYT1TeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxIYT1TeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKTtTeW1ib2wuZm9yKFwicmVhY3Quc2NvcGVcIik7U3ltYm9sLmZvcihcInJlYWN0LmRlYnVnX3RyYWNlX21vZGVcIik7XG52YXIgSWE9U3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKTtTeW1ib2wuZm9yKFwicmVhY3QubGVnYWN5X2hpZGRlblwiKTtTeW1ib2wuZm9yKFwicmVhY3QuY2FjaGVcIik7U3ltYm9sLmZvcihcInJlYWN0LnRyYWNpbmdfbWFya2VyXCIpO3ZhciBKYT1TeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24gS2EoYSl7aWYobnVsbD09PWF8fFwib2JqZWN0XCIhPT10eXBlb2YgYSlyZXR1cm4gbnVsbDthPUphJiZhW0phXXx8YVtcIkBAaXRlcmF0b3JcIl07cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGE/YTpudWxsfXZhciBBPU9iamVjdC5hc3NpZ24sTGE7ZnVuY3Rpb24gTWEoYSl7aWYodm9pZCAwPT09TGEpdHJ5e3Rocm93IEVycm9yKCk7fWNhdGNoKGMpe3ZhciBiPWMuc3RhY2sudHJpbSgpLm1hdGNoKC9cXG4oICooYXQgKT8pLyk7TGE9YiYmYlsxXXx8XCJcIn1yZXR1cm5cIlxcblwiK0xhK2F9dmFyIE5hPSExO1xuZnVuY3Rpb24gT2EoYSxiKXtpZighYXx8TmEpcmV0dXJuXCJcIjtOYT0hMDt2YXIgYz1FcnJvci5wcmVwYXJlU3RhY2tUcmFjZTtFcnJvci5wcmVwYXJlU3RhY2tUcmFjZT12b2lkIDA7dHJ5e2lmKGIpaWYoYj1mdW5jdGlvbigpe3Rocm93IEVycm9yKCk7fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYi5wcm90b3R5cGUsXCJwcm9wc1wiLHtzZXQ6ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigpO319KSxcIm9iamVjdFwiPT09dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuY29uc3RydWN0KXt0cnl7UmVmbGVjdC5jb25zdHJ1Y3QoYixbXSl9Y2F0Y2gobCl7dmFyIGQ9bH1SZWZsZWN0LmNvbnN0cnVjdChhLFtdLGIpfWVsc2V7dHJ5e2IuY2FsbCgpfWNhdGNoKGwpe2Q9bH1hLmNhbGwoYi5wcm90b3R5cGUpfWVsc2V7dHJ5e3Rocm93IEVycm9yKCk7fWNhdGNoKGwpe2Q9bH1hKCl9fWNhdGNoKGwpe2lmKGwmJmQmJlwic3RyaW5nXCI9PT10eXBlb2YgbC5zdGFjayl7Zm9yKHZhciBlPWwuc3RhY2suc3BsaXQoXCJcXG5cIiksXG5mPWQuc3RhY2suc3BsaXQoXCJcXG5cIiksZz1lLmxlbmd0aC0xLGg9Zi5sZW5ndGgtMTsxPD1nJiYwPD1oJiZlW2ddIT09ZltoXTspaC0tO2Zvcig7MTw9ZyYmMDw9aDtnLS0saC0tKWlmKGVbZ10hPT1mW2hdKXtpZigxIT09Z3x8MSE9PWgpe2RvIGlmKGctLSxoLS0sMD5ofHxlW2ddIT09ZltoXSl7dmFyIGs9XCJcXG5cIitlW2ddLnJlcGxhY2UoXCIgYXQgbmV3IFwiLFwiIGF0IFwiKTthLmRpc3BsYXlOYW1lJiZrLmluY2x1ZGVzKFwiPGFub255bW91cz5cIikmJihrPWsucmVwbGFjZShcIjxhbm9ueW1vdXM+XCIsYS5kaXNwbGF5TmFtZSkpO3JldHVybiBrfXdoaWxlKDE8PWcmJjA8PWgpfWJyZWFrfX19ZmluYWxseXtOYT0hMSxFcnJvci5wcmVwYXJlU3RhY2tUcmFjZT1jfXJldHVybihhPWE/YS5kaXNwbGF5TmFtZXx8YS5uYW1lOlwiXCIpP01hKGEpOlwiXCJ9XG5mdW5jdGlvbiBQYShhKXtzd2l0Y2goYS50YWcpe2Nhc2UgNTpyZXR1cm4gTWEoYS50eXBlKTtjYXNlIDE2OnJldHVybiBNYShcIkxhenlcIik7Y2FzZSAxMzpyZXR1cm4gTWEoXCJTdXNwZW5zZVwiKTtjYXNlIDE5OnJldHVybiBNYShcIlN1c3BlbnNlTGlzdFwiKTtjYXNlIDA6Y2FzZSAyOmNhc2UgMTU6cmV0dXJuIGE9T2EoYS50eXBlLCExKSxhO2Nhc2UgMTE6cmV0dXJuIGE9T2EoYS50eXBlLnJlbmRlciwhMSksYTtjYXNlIDE6cmV0dXJuIGE9T2EoYS50eXBlLCEwKSxhO2RlZmF1bHQ6cmV0dXJuXCJcIn19XG5mdW5jdGlvbiBRYShhKXtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXJldHVybiBhLmRpc3BsYXlOYW1lfHxhLm5hbWV8fG51bGw7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXJldHVybiBhO3N3aXRjaChhKXtjYXNlIHlhOnJldHVyblwiRnJhZ21lbnRcIjtjYXNlIHdhOnJldHVyblwiUG9ydGFsXCI7Y2FzZSBBYTpyZXR1cm5cIlByb2ZpbGVyXCI7Y2FzZSB6YTpyZXR1cm5cIlN0cmljdE1vZGVcIjtjYXNlIEVhOnJldHVyblwiU3VzcGVuc2VcIjtjYXNlIEZhOnJldHVyblwiU3VzcGVuc2VMaXN0XCJ9aWYoXCJvYmplY3RcIj09PXR5cGVvZiBhKXN3aXRjaChhLiQkdHlwZW9mKXtjYXNlIENhOnJldHVybihhLmRpc3BsYXlOYW1lfHxcIkNvbnRleHRcIikrXCIuQ29uc3VtZXJcIjtjYXNlIEJhOnJldHVybihhLl9jb250ZXh0LmRpc3BsYXlOYW1lfHxcIkNvbnRleHRcIikrXCIuUHJvdmlkZXJcIjtjYXNlIERhOnZhciBiPWEucmVuZGVyO2E9YS5kaXNwbGF5TmFtZTthfHwoYT1iLmRpc3BsYXlOYW1lfHxcbmIubmFtZXx8XCJcIixhPVwiXCIhPT1hP1wiRm9yd2FyZFJlZihcIithK1wiKVwiOlwiRm9yd2FyZFJlZlwiKTtyZXR1cm4gYTtjYXNlIEdhOnJldHVybiBiPWEuZGlzcGxheU5hbWV8fG51bGwsbnVsbCE9PWI/YjpRYShhLnR5cGUpfHxcIk1lbW9cIjtjYXNlIEhhOmI9YS5fcGF5bG9hZDthPWEuX2luaXQ7dHJ5e3JldHVybiBRYShhKGIpKX1jYXRjaChjKXt9fXJldHVybiBudWxsfVxuZnVuY3Rpb24gUmEoYSl7dmFyIGI9YS50eXBlO3N3aXRjaChhLnRhZyl7Y2FzZSAyNDpyZXR1cm5cIkNhY2hlXCI7Y2FzZSA5OnJldHVybihiLmRpc3BsYXlOYW1lfHxcIkNvbnRleHRcIikrXCIuQ29uc3VtZXJcIjtjYXNlIDEwOnJldHVybihiLl9jb250ZXh0LmRpc3BsYXlOYW1lfHxcIkNvbnRleHRcIikrXCIuUHJvdmlkZXJcIjtjYXNlIDE4OnJldHVyblwiRGVoeWRyYXRlZEZyYWdtZW50XCI7Y2FzZSAxMTpyZXR1cm4gYT1iLnJlbmRlcixhPWEuZGlzcGxheU5hbWV8fGEubmFtZXx8XCJcIixiLmRpc3BsYXlOYW1lfHwoXCJcIiE9PWE/XCJGb3J3YXJkUmVmKFwiK2ErXCIpXCI6XCJGb3J3YXJkUmVmXCIpO2Nhc2UgNzpyZXR1cm5cIkZyYWdtZW50XCI7Y2FzZSA1OnJldHVybiBiO2Nhc2UgNDpyZXR1cm5cIlBvcnRhbFwiO2Nhc2UgMzpyZXR1cm5cIlJvb3RcIjtjYXNlIDY6cmV0dXJuXCJUZXh0XCI7Y2FzZSAxNjpyZXR1cm4gUWEoYik7Y2FzZSA4OnJldHVybiBiPT09emE/XCJTdHJpY3RNb2RlXCI6XCJNb2RlXCI7Y2FzZSAyMjpyZXR1cm5cIk9mZnNjcmVlblwiO1xuY2FzZSAxMjpyZXR1cm5cIlByb2ZpbGVyXCI7Y2FzZSAyMTpyZXR1cm5cIlNjb3BlXCI7Y2FzZSAxMzpyZXR1cm5cIlN1c3BlbnNlXCI7Y2FzZSAxOTpyZXR1cm5cIlN1c3BlbnNlTGlzdFwiO2Nhc2UgMjU6cmV0dXJuXCJUcmFjaW5nTWFya2VyXCI7Y2FzZSAxOmNhc2UgMDpjYXNlIDE3OmNhc2UgMjpjYXNlIDE0OmNhc2UgMTU6aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGIpcmV0dXJuIGIuZGlzcGxheU5hbWV8fGIubmFtZXx8bnVsbDtpZihcInN0cmluZ1wiPT09dHlwZW9mIGIpcmV0dXJuIGJ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gU2EoYSl7c3dpdGNoKHR5cGVvZiBhKXtjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwic3RyaW5nXCI6Y2FzZSBcInVuZGVmaW5lZFwiOnJldHVybiBhO2Nhc2UgXCJvYmplY3RcIjpyZXR1cm4gYTtkZWZhdWx0OnJldHVyblwiXCJ9fVxuZnVuY3Rpb24gVGEoYSl7dmFyIGI9YS50eXBlO3JldHVybihhPWEubm9kZU5hbWUpJiZcImlucHV0XCI9PT1hLnRvTG93ZXJDYXNlKCkmJihcImNoZWNrYm94XCI9PT1ifHxcInJhZGlvXCI9PT1iKX1cbmZ1bmN0aW9uIFVhKGEpe3ZhciBiPVRhKGEpP1wiY2hlY2tlZFwiOlwidmFsdWVcIixjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsYiksZD1cIlwiK2FbYl07aWYoIWEuaGFzT3duUHJvcGVydHkoYikmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgYyYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGMuZ2V0JiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5zZXQpe3ZhciBlPWMuZ2V0LGY9Yy5zZXQ7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyl9LHNldDpmdW5jdGlvbihhKXtkPVwiXCIrYTtmLmNhbGwodGhpcyxhKX19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtlbnVtZXJhYmxlOmMuZW51bWVyYWJsZX0pO3JldHVybntnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBkfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXtkPVwiXCIrYX0sc3RvcFRyYWNraW5nOmZ1bmN0aW9uKCl7YS5fdmFsdWVUcmFja2VyPVxubnVsbDtkZWxldGUgYVtiXX19fX1mdW5jdGlvbiBWYShhKXthLl92YWx1ZVRyYWNrZXJ8fChhLl92YWx1ZVRyYWNrZXI9VWEoYSkpfWZ1bmN0aW9uIFdhKGEpe2lmKCFhKXJldHVybiExO3ZhciBiPWEuX3ZhbHVlVHJhY2tlcjtpZighYilyZXR1cm4hMDt2YXIgYz1iLmdldFZhbHVlKCk7dmFyIGQ9XCJcIjthJiYoZD1UYShhKT9hLmNoZWNrZWQ/XCJ0cnVlXCI6XCJmYWxzZVwiOmEudmFsdWUpO2E9ZDtyZXR1cm4gYSE9PWM/KGIuc2V0VmFsdWUoYSksITApOiExfWZ1bmN0aW9uIFhhKGEpe2E9YXx8KFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQ6dm9pZCAwKTtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGEpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBhLmFjdGl2ZUVsZW1lbnR8fGEuYm9keX1jYXRjaChiKXtyZXR1cm4gYS5ib2R5fX1cbmZ1bmN0aW9uIFlhKGEsYil7dmFyIGM9Yi5jaGVja2VkO3JldHVybiBBKHt9LGIse2RlZmF1bHRDaGVja2VkOnZvaWQgMCxkZWZhdWx0VmFsdWU6dm9pZCAwLHZhbHVlOnZvaWQgMCxjaGVja2VkOm51bGwhPWM/YzphLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWR9KX1mdW5jdGlvbiBaYShhLGIpe3ZhciBjPW51bGw9PWIuZGVmYXVsdFZhbHVlP1wiXCI6Yi5kZWZhdWx0VmFsdWUsZD1udWxsIT1iLmNoZWNrZWQ/Yi5jaGVja2VkOmIuZGVmYXVsdENoZWNrZWQ7Yz1TYShudWxsIT1iLnZhbHVlP2IudmFsdWU6Yyk7YS5fd3JhcHBlclN0YXRlPXtpbml0aWFsQ2hlY2tlZDpkLGluaXRpYWxWYWx1ZTpjLGNvbnRyb2xsZWQ6XCJjaGVja2JveFwiPT09Yi50eXBlfHxcInJhZGlvXCI9PT1iLnR5cGU/bnVsbCE9Yi5jaGVja2VkOm51bGwhPWIudmFsdWV9fWZ1bmN0aW9uIGFiKGEsYil7Yj1iLmNoZWNrZWQ7bnVsbCE9YiYmdGEoYSxcImNoZWNrZWRcIixiLCExKX1cbmZ1bmN0aW9uIGJiKGEsYil7YWIoYSxiKTt2YXIgYz1TYShiLnZhbHVlKSxkPWIudHlwZTtpZihudWxsIT1jKWlmKFwibnVtYmVyXCI9PT1kKXtpZigwPT09YyYmXCJcIj09PWEudmFsdWV8fGEudmFsdWUhPWMpYS52YWx1ZT1cIlwiK2N9ZWxzZSBhLnZhbHVlIT09XCJcIitjJiYoYS52YWx1ZT1cIlwiK2MpO2Vsc2UgaWYoXCJzdWJtaXRcIj09PWR8fFwicmVzZXRcIj09PWQpe2EucmVtb3ZlQXR0cmlidXRlKFwidmFsdWVcIik7cmV0dXJufWIuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKT9jYihhLGIudHlwZSxjKTpiLmhhc093blByb3BlcnR5KFwiZGVmYXVsdFZhbHVlXCIpJiZjYihhLGIudHlwZSxTYShiLmRlZmF1bHRWYWx1ZSkpO251bGw9PWIuY2hlY2tlZCYmbnVsbCE9Yi5kZWZhdWx0Q2hlY2tlZCYmKGEuZGVmYXVsdENoZWNrZWQ9ISFiLmRlZmF1bHRDaGVja2VkKX1cbmZ1bmN0aW9uIGRiKGEsYixjKXtpZihiLmhhc093blByb3BlcnR5KFwidmFsdWVcIil8fGIuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0VmFsdWVcIikpe3ZhciBkPWIudHlwZTtpZighKFwic3VibWl0XCIhPT1kJiZcInJlc2V0XCIhPT1kfHx2b2lkIDAhPT1iLnZhbHVlJiZudWxsIT09Yi52YWx1ZSkpcmV0dXJuO2I9XCJcIithLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlO2N8fGI9PT1hLnZhbHVlfHwoYS52YWx1ZT1iKTthLmRlZmF1bHRWYWx1ZT1ifWM9YS5uYW1lO1wiXCIhPT1jJiYoYS5uYW1lPVwiXCIpO2EuZGVmYXVsdENoZWNrZWQ9ISFhLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWQ7XCJcIiE9PWMmJihhLm5hbWU9Yyl9XG5mdW5jdGlvbiBjYihhLGIsYyl7aWYoXCJudW1iZXJcIiE9PWJ8fFhhKGEub3duZXJEb2N1bWVudCkhPT1hKW51bGw9PWM/YS5kZWZhdWx0VmFsdWU9XCJcIithLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlOmEuZGVmYXVsdFZhbHVlIT09XCJcIitjJiYoYS5kZWZhdWx0VmFsdWU9XCJcIitjKX12YXIgZWI9QXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGZiKGEsYixjLGQpe2E9YS5vcHRpb25zO2lmKGIpe2I9e307Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYltcIiRcIitjW2VdXT0hMDtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWU9Yi5oYXNPd25Qcm9wZXJ0eShcIiRcIithW2NdLnZhbHVlKSxhW2NdLnNlbGVjdGVkIT09ZSYmKGFbY10uc2VsZWN0ZWQ9ZSksZSYmZCYmKGFbY10uZGVmYXVsdFNlbGVjdGVkPSEwKX1lbHNle2M9XCJcIitTYShjKTtiPW51bGw7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKyl7aWYoYVtlXS52YWx1ZT09PWMpe2FbZV0uc2VsZWN0ZWQ9ITA7ZCYmKGFbZV0uZGVmYXVsdFNlbGVjdGVkPSEwKTtyZXR1cm59bnVsbCE9PWJ8fGFbZV0uZGlzYWJsZWR8fChiPWFbZV0pfW51bGwhPT1iJiYoYi5zZWxlY3RlZD0hMCl9fVxuZnVuY3Rpb24gZ2IoYSxiKXtpZihudWxsIT1iLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKXRocm93IEVycm9yKHAoOTEpKTtyZXR1cm4gQSh7fSxiLHt2YWx1ZTp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCxjaGlsZHJlbjpcIlwiK2EuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWV9KX1mdW5jdGlvbiBoYihhLGIpe3ZhciBjPWIudmFsdWU7aWYobnVsbD09Yyl7Yz1iLmNoaWxkcmVuO2I9Yi5kZWZhdWx0VmFsdWU7aWYobnVsbCE9Yyl7aWYobnVsbCE9Yil0aHJvdyBFcnJvcihwKDkyKSk7aWYoZWIoYykpe2lmKDE8Yy5sZW5ndGgpdGhyb3cgRXJyb3IocCg5MykpO2M9Y1swXX1iPWN9bnVsbD09YiYmKGI9XCJcIik7Yz1ifWEuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbFZhbHVlOlNhKGMpfX1cbmZ1bmN0aW9uIGliKGEsYil7dmFyIGM9U2EoYi52YWx1ZSksZD1TYShiLmRlZmF1bHRWYWx1ZSk7bnVsbCE9YyYmKGM9XCJcIitjLGMhPT1hLnZhbHVlJiYoYS52YWx1ZT1jKSxudWxsPT1iLmRlZmF1bHRWYWx1ZSYmYS5kZWZhdWx0VmFsdWUhPT1jJiYoYS5kZWZhdWx0VmFsdWU9YykpO251bGwhPWQmJihhLmRlZmF1bHRWYWx1ZT1cIlwiK2QpfWZ1bmN0aW9uIGpiKGEpe3ZhciBiPWEudGV4dENvbnRlbnQ7Yj09PWEuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUmJlwiXCIhPT1iJiZudWxsIT09YiYmKGEudmFsdWU9Yil9ZnVuY3Rpb24ga2IoYSl7c3dpdGNoKGEpe2Nhc2UgXCJzdmdcIjpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7Y2FzZSBcIm1hdGhcIjpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIjtkZWZhdWx0OnJldHVyblwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwifX1cbmZ1bmN0aW9uIGxiKGEsYil7cmV0dXJuIG51bGw9PWF8fFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiPT09YT9rYihiKTpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI9PT1hJiZcImZvcmVpZ25PYmplY3RcIj09PWI/XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI6YX1cbnZhciBtYixuYj1mdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIE1TQXBwJiZNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbj9mdW5jdGlvbihiLGMsZCxlKXtNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbigpe3JldHVybiBhKGIsYyxkLGUpfSl9OmF9KGZ1bmN0aW9uKGEsYil7aWYoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIT09YS5uYW1lc3BhY2VVUkl8fFwiaW5uZXJIVE1MXCJpbiBhKWEuaW5uZXJIVE1MPWI7ZWxzZXttYj1tYnx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTttYi5pbm5lckhUTUw9XCI8c3ZnPlwiK2IudmFsdWVPZigpLnRvU3RyaW5nKCkrXCI8L3N2Zz5cIjtmb3IoYj1tYi5maXJzdENoaWxkO2EuZmlyc3RDaGlsZDspYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Zvcig7Yi5maXJzdENoaWxkOylhLmFwcGVuZENoaWxkKGIuZmlyc3RDaGlsZCl9fSk7XG5mdW5jdGlvbiBvYihhLGIpe2lmKGIpe3ZhciBjPWEuZmlyc3RDaGlsZDtpZihjJiZjPT09YS5sYXN0Q2hpbGQmJjM9PT1jLm5vZGVUeXBlKXtjLm5vZGVWYWx1ZT1iO3JldHVybn19YS50ZXh0Q29udGVudD1ifVxudmFyIHBiPXthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxhc3BlY3RSYXRpbzohMCxib3JkZXJJbWFnZU91dHNldDohMCxib3JkZXJJbWFnZVNsaWNlOiEwLGJvcmRlckltYWdlV2lkdGg6ITAsYm94RmxleDohMCxib3hGbGV4R3JvdXA6ITAsYm94T3JkaW5hbEdyb3VwOiEwLGNvbHVtbkNvdW50OiEwLGNvbHVtbnM6ITAsZmxleDohMCxmbGV4R3JvdzohMCxmbGV4UG9zaXRpdmU6ITAsZmxleFNocmluazohMCxmbGV4TmVnYXRpdmU6ITAsZmxleE9yZGVyOiEwLGdyaWRBcmVhOiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3BhbjohMCxncmlkUm93U3RhcnQ6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TcGFuOiEwLGdyaWRDb2x1bW5TdGFydDohMCxmb250V2VpZ2h0OiEwLGxpbmVDbGFtcDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx0YWJTaXplOiEwLHdpZG93czohMCx6SW5kZXg6ITAsXG56b29tOiEwLGZpbGxPcGFjaXR5OiEwLGZsb29kT3BhY2l0eTohMCxzdG9wT3BhY2l0eTohMCxzdHJva2VEYXNoYXJyYXk6ITAsc3Ryb2tlRGFzaG9mZnNldDohMCxzdHJva2VNaXRlcmxpbWl0OiEwLHN0cm9rZU9wYWNpdHk6ITAsc3Ryb2tlV2lkdGg6ITB9LHFiPVtcIldlYmtpdFwiLFwibXNcIixcIk1velwiLFwiT1wiXTtPYmplY3Qua2V5cyhwYikuZm9yRWFjaChmdW5jdGlvbihhKXtxYi5mb3JFYWNoKGZ1bmN0aW9uKGIpe2I9YithLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyaW5nKDEpO3BiW2JdPXBiW2FdfSl9KTtmdW5jdGlvbiByYihhLGIsYyl7cmV0dXJuIG51bGw9PWJ8fFwiYm9vbGVhblwiPT09dHlwZW9mIGJ8fFwiXCI9PT1iP1wiXCI6Y3x8XCJudW1iZXJcIiE9PXR5cGVvZiBifHwwPT09Ynx8cGIuaGFzT3duUHJvcGVydHkoYSkmJnBiW2FdPyhcIlwiK2IpLnRyaW0oKTpiK1wicHhcIn1cbmZ1bmN0aW9uIHNiKGEsYil7YT1hLnN0eWxlO2Zvcih2YXIgYyBpbiBiKWlmKGIuaGFzT3duUHJvcGVydHkoYykpe3ZhciBkPTA9PT1jLmluZGV4T2YoXCItLVwiKSxlPXJiKGMsYltjXSxkKTtcImZsb2F0XCI9PT1jJiYoYz1cImNzc0Zsb2F0XCIpO2Q/YS5zZXRQcm9wZXJ0eShjLGUpOmFbY109ZX19dmFyIHRiPUEoe21lbnVpdGVtOiEwfSx7YXJlYTohMCxiYXNlOiEwLGJyOiEwLGNvbDohMCxlbWJlZDohMCxocjohMCxpbWc6ITAsaW5wdXQ6ITAsa2V5Z2VuOiEwLGxpbms6ITAsbWV0YTohMCxwYXJhbTohMCxzb3VyY2U6ITAsdHJhY2s6ITAsd2JyOiEwfSk7XG5mdW5jdGlvbiB1YihhLGIpe2lmKGIpe2lmKHRiW2FdJiYobnVsbCE9Yi5jaGlsZHJlbnx8bnVsbCE9Yi5kYW5nZXJvdXNseVNldElubmVySFRNTCkpdGhyb3cgRXJyb3IocCgxMzcsYSkpO2lmKG51bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpe2lmKG51bGwhPWIuY2hpbGRyZW4pdGhyb3cgRXJyb3IocCg2MCkpO2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYi5kYW5nZXJvdXNseVNldElubmVySFRNTHx8IShcIl9faHRtbFwiaW4gYi5kYW5nZXJvdXNseVNldElubmVySFRNTCkpdGhyb3cgRXJyb3IocCg2MSkpO31pZihudWxsIT1iLnN0eWxlJiZcIm9iamVjdFwiIT09dHlwZW9mIGIuc3R5bGUpdGhyb3cgRXJyb3IocCg2MikpO319XG5mdW5jdGlvbiB2YihhLGIpe2lmKC0xPT09YS5pbmRleE9mKFwiLVwiKSlyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGIuaXM7c3dpdGNoKGEpe2Nhc2UgXCJhbm5vdGF0aW9uLXhtbFwiOmNhc2UgXCJjb2xvci1wcm9maWxlXCI6Y2FzZSBcImZvbnQtZmFjZVwiOmNhc2UgXCJmb250LWZhY2Utc3JjXCI6Y2FzZSBcImZvbnQtZmFjZS11cmlcIjpjYXNlIFwiZm9udC1mYWNlLWZvcm1hdFwiOmNhc2UgXCJmb250LWZhY2UtbmFtZVwiOmNhc2UgXCJtaXNzaW5nLWdseXBoXCI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4hMH19dmFyIHdiPW51bGw7ZnVuY3Rpb24geGIoYSl7YT1hLnRhcmdldHx8YS5zcmNFbGVtZW50fHx3aW5kb3c7YS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCYmKGE9YS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCk7cmV0dXJuIDM9PT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphfXZhciB5Yj1udWxsLHpiPW51bGwsQWI9bnVsbDtcbmZ1bmN0aW9uIEJiKGEpe2lmKGE9Q2IoYSkpe2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiB5Yil0aHJvdyBFcnJvcihwKDI4MCkpO3ZhciBiPWEuc3RhdGVOb2RlO2ImJihiPURiKGIpLHliKGEuc3RhdGVOb2RlLGEudHlwZSxiKSl9fWZ1bmN0aW9uIEViKGEpe3piP0FiP0FiLnB1c2goYSk6QWI9W2FdOnpiPWF9ZnVuY3Rpb24gRmIoKXtpZih6Yil7dmFyIGE9emIsYj1BYjtBYj16Yj1udWxsO0JiKGEpO2lmKGIpZm9yKGE9MDthPGIubGVuZ3RoO2ErKylCYihiW2FdKX19ZnVuY3Rpb24gR2IoYSxiKXtyZXR1cm4gYShiKX1mdW5jdGlvbiBIYigpe312YXIgSWI9ITE7ZnVuY3Rpb24gSmIoYSxiLGMpe2lmKEliKXJldHVybiBhKGIsYyk7SWI9ITA7dHJ5e3JldHVybiBHYihhLGIsYyl9ZmluYWxseXtpZihJYj0hMSxudWxsIT09emJ8fG51bGwhPT1BYilIYigpLEZiKCl9fVxuZnVuY3Rpb24gS2IoYSxiKXt2YXIgYz1hLnN0YXRlTm9kZTtpZihudWxsPT09YylyZXR1cm4gbnVsbDt2YXIgZD1EYihjKTtpZihudWxsPT09ZClyZXR1cm4gbnVsbDtjPWRbYl07YTpzd2l0Y2goYil7Y2FzZSBcIm9uQ2xpY2tcIjpjYXNlIFwib25DbGlja0NhcHR1cmVcIjpjYXNlIFwib25Eb3VibGVDbGlja1wiOmNhc2UgXCJvbkRvdWJsZUNsaWNrQ2FwdHVyZVwiOmNhc2UgXCJvbk1vdXNlRG93blwiOmNhc2UgXCJvbk1vdXNlRG93bkNhcHR1cmVcIjpjYXNlIFwib25Nb3VzZU1vdmVcIjpjYXNlIFwib25Nb3VzZU1vdmVDYXB0dXJlXCI6Y2FzZSBcIm9uTW91c2VVcFwiOmNhc2UgXCJvbk1vdXNlVXBDYXB0dXJlXCI6Y2FzZSBcIm9uTW91c2VFbnRlclwiOihkPSFkLmRpc2FibGVkKXx8KGE9YS50eXBlLGQ9IShcImJ1dHRvblwiPT09YXx8XCJpbnB1dFwiPT09YXx8XCJzZWxlY3RcIj09PWF8fFwidGV4dGFyZWFcIj09PWEpKTthPSFkO2JyZWFrIGE7ZGVmYXVsdDphPSExfWlmKGEpcmV0dXJuIG51bGw7aWYoYyYmXCJmdW5jdGlvblwiIT09XG50eXBlb2YgYyl0aHJvdyBFcnJvcihwKDIzMSxiLHR5cGVvZiBjKSk7cmV0dXJuIGN9dmFyIExiPSExO2lmKGlhKXRyeXt2YXIgTWI9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KE1iLFwicGFzc2l2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtMYj0hMH19KTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIixNYixNYik7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsTWIsTWIpfWNhdGNoKGEpe0xiPSExfWZ1bmN0aW9uIE5iKGEsYixjLGQsZSxmLGcsaCxrKXt2YXIgbD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMyk7dHJ5e2IuYXBwbHkoYyxsKX1jYXRjaChtKXt0aGlzLm9uRXJyb3IobSl9fXZhciBPYj0hMSxQYj1udWxsLFFiPSExLFJiPW51bGwsU2I9e29uRXJyb3I6ZnVuY3Rpb24oYSl7T2I9ITA7UGI9YX19O2Z1bmN0aW9uIFRiKGEsYixjLGQsZSxmLGcsaCxrKXtPYj0hMTtQYj1udWxsO05iLmFwcGx5KFNiLGFyZ3VtZW50cyl9XG5mdW5jdGlvbiBVYihhLGIsYyxkLGUsZixnLGgsayl7VGIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKE9iKXtpZihPYil7dmFyIGw9UGI7T2I9ITE7UGI9bnVsbH1lbHNlIHRocm93IEVycm9yKHAoMTk4KSk7UWJ8fChRYj0hMCxSYj1sKX19ZnVuY3Rpb24gVmIoYSl7dmFyIGI9YSxjPWE7aWYoYS5hbHRlcm5hdGUpZm9yKDtiLnJldHVybjspYj1iLnJldHVybjtlbHNle2E9YjtkbyBiPWEsMCE9PShiLmZsYWdzJjQwOTgpJiYoYz1iLnJldHVybiksYT1iLnJldHVybjt3aGlsZShhKX1yZXR1cm4gMz09PWIudGFnP2M6bnVsbH1mdW5jdGlvbiBXYihhKXtpZigxMz09PWEudGFnKXt2YXIgYj1hLm1lbW9pemVkU3RhdGU7bnVsbD09PWImJihhPWEuYWx0ZXJuYXRlLG51bGwhPT1hJiYoYj1hLm1lbW9pemVkU3RhdGUpKTtpZihudWxsIT09YilyZXR1cm4gYi5kZWh5ZHJhdGVkfXJldHVybiBudWxsfWZ1bmN0aW9uIFhiKGEpe2lmKFZiKGEpIT09YSl0aHJvdyBFcnJvcihwKDE4OCkpO31cbmZ1bmN0aW9uIFliKGEpe3ZhciBiPWEuYWx0ZXJuYXRlO2lmKCFiKXtiPVZiKGEpO2lmKG51bGw9PT1iKXRocm93IEVycm9yKHAoMTg4KSk7cmV0dXJuIGIhPT1hP251bGw6YX1mb3IodmFyIGM9YSxkPWI7Oyl7dmFyIGU9Yy5yZXR1cm47aWYobnVsbD09PWUpYnJlYWs7dmFyIGY9ZS5hbHRlcm5hdGU7aWYobnVsbD09PWYpe2Q9ZS5yZXR1cm47aWYobnVsbCE9PWQpe2M9ZDtjb250aW51ZX1icmVha31pZihlLmNoaWxkPT09Zi5jaGlsZCl7Zm9yKGY9ZS5jaGlsZDtmOyl7aWYoZj09PWMpcmV0dXJuIFhiKGUpLGE7aWYoZj09PWQpcmV0dXJuIFhiKGUpLGI7Zj1mLnNpYmxpbmd9dGhyb3cgRXJyb3IocCgxODgpKTt9aWYoYy5yZXR1cm4hPT1kLnJldHVybiljPWUsZD1mO2Vsc2V7Zm9yKHZhciBnPSExLGg9ZS5jaGlsZDtoOyl7aWYoaD09PWMpe2c9ITA7Yz1lO2Q9ZjticmVha31pZihoPT09ZCl7Zz0hMDtkPWU7Yz1mO2JyZWFrfWg9aC5zaWJsaW5nfWlmKCFnKXtmb3IoaD1mLmNoaWxkO2g7KXtpZihoPT09XG5jKXtnPSEwO2M9ZjtkPWU7YnJlYWt9aWYoaD09PWQpe2c9ITA7ZD1mO2M9ZTticmVha31oPWguc2libGluZ31pZighZyl0aHJvdyBFcnJvcihwKDE4OSkpO319aWYoYy5hbHRlcm5hdGUhPT1kKXRocm93IEVycm9yKHAoMTkwKSk7fWlmKDMhPT1jLnRhZyl0aHJvdyBFcnJvcihwKDE4OCkpO3JldHVybiBjLnN0YXRlTm9kZS5jdXJyZW50PT09Yz9hOmJ9ZnVuY3Rpb24gWmIoYSl7YT1ZYihhKTtyZXR1cm4gbnVsbCE9PWE/JGIoYSk6bnVsbH1mdW5jdGlvbiAkYihhKXtpZig1PT09YS50YWd8fDY9PT1hLnRhZylyZXR1cm4gYTtmb3IoYT1hLmNoaWxkO251bGwhPT1hOyl7dmFyIGI9JGIoYSk7aWYobnVsbCE9PWIpcmV0dXJuIGI7YT1hLnNpYmxpbmd9cmV0dXJuIG51bGx9XG52YXIgYWM9Y2EudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxiYz1jYS51bnN0YWJsZV9jYW5jZWxDYWxsYmFjayxjYz1jYS51bnN0YWJsZV9zaG91bGRZaWVsZCxkYz1jYS51bnN0YWJsZV9yZXF1ZXN0UGFpbnQsQj1jYS51bnN0YWJsZV9ub3csZWM9Y2EudW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwsZmM9Y2EudW5zdGFibGVfSW1tZWRpYXRlUHJpb3JpdHksZ2M9Y2EudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHksaGM9Y2EudW5zdGFibGVfTm9ybWFsUHJpb3JpdHksaWM9Y2EudW5zdGFibGVfTG93UHJpb3JpdHksamM9Y2EudW5zdGFibGVfSWRsZVByaW9yaXR5LGtjPW51bGwsbGM9bnVsbDtmdW5jdGlvbiBtYyhhKXtpZihsYyYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGxjLm9uQ29tbWl0RmliZXJSb290KXRyeXtsYy5vbkNvbW1pdEZpYmVyUm9vdChrYyxhLHZvaWQgMCwxMjg9PT0oYS5jdXJyZW50LmZsYWdzJjEyOCkpfWNhdGNoKGIpe319XG52YXIgb2M9TWF0aC5jbHozMj9NYXRoLmNsejMyOm5jLHBjPU1hdGgubG9nLHFjPU1hdGguTE4yO2Z1bmN0aW9uIG5jKGEpe2E+Pj49MDtyZXR1cm4gMD09PWE/MzI6MzEtKHBjKGEpL3FjfDApfDB9dmFyIHJjPTY0LHNjPTQxOTQzMDQ7XG5mdW5jdGlvbiB0YyhhKXtzd2l0Y2goYSYtYSl7Y2FzZSAxOnJldHVybiAxO2Nhc2UgMjpyZXR1cm4gMjtjYXNlIDQ6cmV0dXJuIDQ7Y2FzZSA4OnJldHVybiA4O2Nhc2UgMTY6cmV0dXJuIDE2O2Nhc2UgMzI6cmV0dXJuIDMyO2Nhc2UgNjQ6Y2FzZSAxMjg6Y2FzZSAyNTY6Y2FzZSA1MTI6Y2FzZSAxMDI0OmNhc2UgMjA0ODpjYXNlIDQwOTY6Y2FzZSA4MTkyOmNhc2UgMTYzODQ6Y2FzZSAzMjc2ODpjYXNlIDY1NTM2OmNhc2UgMTMxMDcyOmNhc2UgMjYyMTQ0OmNhc2UgNTI0Mjg4OmNhc2UgMTA0ODU3NjpjYXNlIDIwOTcxNTI6cmV0dXJuIGEmNDE5NDI0MDtjYXNlIDQxOTQzMDQ6Y2FzZSA4Mzg4NjA4OmNhc2UgMTY3NzcyMTY6Y2FzZSAzMzU1NDQzMjpjYXNlIDY3MTA4ODY0OnJldHVybiBhJjEzMDAyMzQyNDtjYXNlIDEzNDIxNzcyODpyZXR1cm4gMTM0MjE3NzI4O2Nhc2UgMjY4NDM1NDU2OnJldHVybiAyNjg0MzU0NTY7Y2FzZSA1MzY4NzA5MTI6cmV0dXJuIDUzNjg3MDkxMjtjYXNlIDEwNzM3NDE4MjQ6cmV0dXJuIDEwNzM3NDE4MjQ7XG5kZWZhdWx0OnJldHVybiBhfX1mdW5jdGlvbiB1YyhhLGIpe3ZhciBjPWEucGVuZGluZ0xhbmVzO2lmKDA9PT1jKXJldHVybiAwO3ZhciBkPTAsZT1hLnN1c3BlbmRlZExhbmVzLGY9YS5waW5nZWRMYW5lcyxnPWMmMjY4NDM1NDU1O2lmKDAhPT1nKXt2YXIgaD1nJn5lOzAhPT1oP2Q9dGMoaCk6KGYmPWcsMCE9PWYmJihkPXRjKGYpKSl9ZWxzZSBnPWMmfmUsMCE9PWc/ZD10YyhnKTowIT09ZiYmKGQ9dGMoZikpO2lmKDA9PT1kKXJldHVybiAwO2lmKDAhPT1iJiZiIT09ZCYmMD09PShiJmUpJiYoZT1kJi1kLGY9YiYtYixlPj1mfHwxNj09PWUmJjAhPT0oZiY0MTk0MjQwKSkpcmV0dXJuIGI7MCE9PShkJjQpJiYoZHw9YyYxNik7Yj1hLmVudGFuZ2xlZExhbmVzO2lmKDAhPT1iKWZvcihhPWEuZW50YW5nbGVtZW50cyxiJj1kOzA8YjspYz0zMS1vYyhiKSxlPTE8PGMsZHw9YVtjXSxiJj1+ZTtyZXR1cm4gZH1cbmZ1bmN0aW9uIHZjKGEsYil7c3dpdGNoKGEpe2Nhc2UgMTpjYXNlIDI6Y2FzZSA0OnJldHVybiBiKzI1MDtjYXNlIDg6Y2FzZSAxNjpjYXNlIDMyOmNhc2UgNjQ6Y2FzZSAxMjg6Y2FzZSAyNTY6Y2FzZSA1MTI6Y2FzZSAxMDI0OmNhc2UgMjA0ODpjYXNlIDQwOTY6Y2FzZSA4MTkyOmNhc2UgMTYzODQ6Y2FzZSAzMjc2ODpjYXNlIDY1NTM2OmNhc2UgMTMxMDcyOmNhc2UgMjYyMTQ0OmNhc2UgNTI0Mjg4OmNhc2UgMTA0ODU3NjpjYXNlIDIwOTcxNTI6cmV0dXJuIGIrNUUzO2Nhc2UgNDE5NDMwNDpjYXNlIDgzODg2MDg6Y2FzZSAxNjc3NzIxNjpjYXNlIDMzNTU0NDMyOmNhc2UgNjcxMDg4NjQ6cmV0dXJuLTE7Y2FzZSAxMzQyMTc3Mjg6Y2FzZSAyNjg0MzU0NTY6Y2FzZSA1MzY4NzA5MTI6Y2FzZSAxMDczNzQxODI0OnJldHVybi0xO2RlZmF1bHQ6cmV0dXJuLTF9fVxuZnVuY3Rpb24gd2MoYSxiKXtmb3IodmFyIGM9YS5zdXNwZW5kZWRMYW5lcyxkPWEucGluZ2VkTGFuZXMsZT1hLmV4cGlyYXRpb25UaW1lcyxmPWEucGVuZGluZ0xhbmVzOzA8Zjspe3ZhciBnPTMxLW9jKGYpLGg9MTw8ZyxrPWVbZ107aWYoLTE9PT1rKXtpZigwPT09KGgmYyl8fDAhPT0oaCZkKSllW2ddPXZjKGgsYil9ZWxzZSBrPD1iJiYoYS5leHBpcmVkTGFuZXN8PWgpO2YmPX5ofX1mdW5jdGlvbiB4YyhhKXthPWEucGVuZGluZ0xhbmVzJi0xMDczNzQxODI1O3JldHVybiAwIT09YT9hOmEmMTA3Mzc0MTgyND8xMDczNzQxODI0OjB9ZnVuY3Rpb24geWMoKXt2YXIgYT1yYztyYzw8PTE7MD09PShyYyY0MTk0MjQwKSYmKHJjPTY0KTtyZXR1cm4gYX1mdW5jdGlvbiB6YyhhKXtmb3IodmFyIGI9W10sYz0wOzMxPmM7YysrKWIucHVzaChhKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIEFjKGEsYixjKXthLnBlbmRpbmdMYW5lc3w9Yjs1MzY4NzA5MTIhPT1iJiYoYS5zdXNwZW5kZWRMYW5lcz0wLGEucGluZ2VkTGFuZXM9MCk7YT1hLmV2ZW50VGltZXM7Yj0zMS1vYyhiKTthW2JdPWN9ZnVuY3Rpb24gQmMoYSxiKXt2YXIgYz1hLnBlbmRpbmdMYW5lcyZ+YjthLnBlbmRpbmdMYW5lcz1iO2Euc3VzcGVuZGVkTGFuZXM9MDthLnBpbmdlZExhbmVzPTA7YS5leHBpcmVkTGFuZXMmPWI7YS5tdXRhYmxlUmVhZExhbmVzJj1iO2EuZW50YW5nbGVkTGFuZXMmPWI7Yj1hLmVudGFuZ2xlbWVudHM7dmFyIGQ9YS5ldmVudFRpbWVzO2ZvcihhPWEuZXhwaXJhdGlvblRpbWVzOzA8Yzspe3ZhciBlPTMxLW9jKGMpLGY9MTw8ZTtiW2VdPTA7ZFtlXT0tMTthW2VdPS0xO2MmPX5mfX1cbmZ1bmN0aW9uIENjKGEsYil7dmFyIGM9YS5lbnRhbmdsZWRMYW5lc3w9Yjtmb3IoYT1hLmVudGFuZ2xlbWVudHM7Yzspe3ZhciBkPTMxLW9jKGMpLGU9MTw8ZDtlJmJ8YVtkXSZiJiYoYVtkXXw9Yik7YyY9fmV9fXZhciBDPTA7ZnVuY3Rpb24gRGMoYSl7YSY9LWE7cmV0dXJuIDE8YT80PGE/MCE9PShhJjI2ODQzNTQ1NSk/MTY6NTM2ODcwOTEyOjQ6MX12YXIgRWMsRmMsR2MsSGMsSWMsSmM9ITEsS2M9W10sTGM9bnVsbCxNYz1udWxsLE5jPW51bGwsT2M9bmV3IE1hcCxQYz1uZXcgTWFwLFFjPVtdLFJjPVwibW91c2Vkb3duIG1vdXNldXAgdG91Y2hjYW5jZWwgdG91Y2hlbmQgdG91Y2hzdGFydCBhdXhjbGljayBkYmxjbGljayBwb2ludGVyY2FuY2VsIHBvaW50ZXJkb3duIHBvaW50ZXJ1cCBkcmFnZW5kIGRyYWdzdGFydCBkcm9wIGNvbXBvc2l0aW9uZW5kIGNvbXBvc2l0aW9uc3RhcnQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBpbnB1dCB0ZXh0SW5wdXQgY29weSBjdXQgcGFzdGUgY2xpY2sgY2hhbmdlIGNvbnRleHRtZW51IHJlc2V0IHN1Ym1pdFwiLnNwbGl0KFwiIFwiKTtcbmZ1bmN0aW9uIFNjKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJmb2N1c2luXCI6Y2FzZSBcImZvY3Vzb3V0XCI6TGM9bnVsbDticmVhaztjYXNlIFwiZHJhZ2VudGVyXCI6Y2FzZSBcImRyYWdsZWF2ZVwiOk1jPW51bGw7YnJlYWs7Y2FzZSBcIm1vdXNlb3ZlclwiOmNhc2UgXCJtb3VzZW91dFwiOk5jPW51bGw7YnJlYWs7Y2FzZSBcInBvaW50ZXJvdmVyXCI6Y2FzZSBcInBvaW50ZXJvdXRcIjpPYy5kZWxldGUoYi5wb2ludGVySWQpO2JyZWFrO2Nhc2UgXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2UgXCJsb3N0cG9pbnRlcmNhcHR1cmVcIjpQYy5kZWxldGUoYi5wb2ludGVySWQpfX1cbmZ1bmN0aW9uIFRjKGEsYixjLGQsZSxmKXtpZihudWxsPT09YXx8YS5uYXRpdmVFdmVudCE9PWYpcmV0dXJuIGE9e2Jsb2NrZWRPbjpiLGRvbUV2ZW50TmFtZTpjLGV2ZW50U3lzdGVtRmxhZ3M6ZCxuYXRpdmVFdmVudDpmLHRhcmdldENvbnRhaW5lcnM6W2VdfSxudWxsIT09YiYmKGI9Q2IoYiksbnVsbCE9PWImJkZjKGIpKSxhO2EuZXZlbnRTeXN0ZW1GbGFnc3w9ZDtiPWEudGFyZ2V0Q29udGFpbmVycztudWxsIT09ZSYmLTE9PT1iLmluZGV4T2YoZSkmJmIucHVzaChlKTtyZXR1cm4gYX1cbmZ1bmN0aW9uIFVjKGEsYixjLGQsZSl7c3dpdGNoKGIpe2Nhc2UgXCJmb2N1c2luXCI6cmV0dXJuIExjPVRjKExjLGEsYixjLGQsZSksITA7Y2FzZSBcImRyYWdlbnRlclwiOnJldHVybiBNYz1UYyhNYyxhLGIsYyxkLGUpLCEwO2Nhc2UgXCJtb3VzZW92ZXJcIjpyZXR1cm4gTmM9VGMoTmMsYSxiLGMsZCxlKSwhMDtjYXNlIFwicG9pbnRlcm92ZXJcIjp2YXIgZj1lLnBvaW50ZXJJZDtPYy5zZXQoZixUYyhPYy5nZXQoZil8fG51bGwsYSxiLGMsZCxlKSk7cmV0dXJuITA7Y2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6cmV0dXJuIGY9ZS5wb2ludGVySWQsUGMuc2V0KGYsVGMoUGMuZ2V0KGYpfHxudWxsLGEsYixjLGQsZSkpLCEwfXJldHVybiExfVxuZnVuY3Rpb24gVmMoYSl7dmFyIGI9V2MoYS50YXJnZXQpO2lmKG51bGwhPT1iKXt2YXIgYz1WYihiKTtpZihudWxsIT09YylpZihiPWMudGFnLDEzPT09Yil7aWYoYj1XYihjKSxudWxsIT09Yil7YS5ibG9ja2VkT249YjtJYyhhLnByaW9yaXR5LGZ1bmN0aW9uKCl7R2MoYyl9KTtyZXR1cm59fWVsc2UgaWYoMz09PWImJmMuc3RhdGVOb2RlLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQpe2EuYmxvY2tlZE9uPTM9PT1jLnRhZz9jLnN0YXRlTm9kZS5jb250YWluZXJJbmZvOm51bGw7cmV0dXJufX1hLmJsb2NrZWRPbj1udWxsfVxuZnVuY3Rpb24gWGMoYSl7aWYobnVsbCE9PWEuYmxvY2tlZE9uKXJldHVybiExO2Zvcih2YXIgYj1hLnRhcmdldENvbnRhaW5lcnM7MDxiLmxlbmd0aDspe3ZhciBjPVljKGEuZG9tRXZlbnROYW1lLGEuZXZlbnRTeXN0ZW1GbGFncyxiWzBdLGEubmF0aXZlRXZlbnQpO2lmKG51bGw9PT1jKXtjPWEubmF0aXZlRXZlbnQ7dmFyIGQ9bmV3IGMuY29uc3RydWN0b3IoYy50eXBlLGMpO3diPWQ7Yy50YXJnZXQuZGlzcGF0Y2hFdmVudChkKTt3Yj1udWxsfWVsc2UgcmV0dXJuIGI9Q2IoYyksbnVsbCE9PWImJkZjKGIpLGEuYmxvY2tlZE9uPWMsITE7Yi5zaGlmdCgpfXJldHVybiEwfWZ1bmN0aW9uIFpjKGEsYixjKXtYYyhhKSYmYy5kZWxldGUoYil9ZnVuY3Rpb24gJGMoKXtKYz0hMTtudWxsIT09TGMmJlhjKExjKSYmKExjPW51bGwpO251bGwhPT1NYyYmWGMoTWMpJiYoTWM9bnVsbCk7bnVsbCE9PU5jJiZYYyhOYykmJihOYz1udWxsKTtPYy5mb3JFYWNoKFpjKTtQYy5mb3JFYWNoKFpjKX1cbmZ1bmN0aW9uIGFkKGEsYil7YS5ibG9ja2VkT249PT1iJiYoYS5ibG9ja2VkT249bnVsbCxKY3x8KEpjPSEwLGNhLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2soY2EudW5zdGFibGVfTm9ybWFsUHJpb3JpdHksJGMpKSl9XG5mdW5jdGlvbiBiZChhKXtmdW5jdGlvbiBiKGIpe3JldHVybiBhZChiLGEpfWlmKDA8S2MubGVuZ3RoKXthZChLY1swXSxhKTtmb3IodmFyIGM9MTtjPEtjLmxlbmd0aDtjKyspe3ZhciBkPUtjW2NdO2QuYmxvY2tlZE9uPT09YSYmKGQuYmxvY2tlZE9uPW51bGwpfX1udWxsIT09TGMmJmFkKExjLGEpO251bGwhPT1NYyYmYWQoTWMsYSk7bnVsbCE9PU5jJiZhZChOYyxhKTtPYy5mb3JFYWNoKGIpO1BjLmZvckVhY2goYik7Zm9yKGM9MDtjPFFjLmxlbmd0aDtjKyspZD1RY1tjXSxkLmJsb2NrZWRPbj09PWEmJihkLmJsb2NrZWRPbj1udWxsKTtmb3IoOzA8UWMubGVuZ3RoJiYoYz1RY1swXSxudWxsPT09Yy5ibG9ja2VkT24pOylWYyhjKSxudWxsPT09Yy5ibG9ja2VkT24mJlFjLnNoaWZ0KCl9dmFyIGNkPXVhLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnLGRkPSEwO1xuZnVuY3Rpb24gZWQoYSxiLGMsZCl7dmFyIGU9QyxmPWNkLnRyYW5zaXRpb247Y2QudHJhbnNpdGlvbj1udWxsO3RyeXtDPTEsZmQoYSxiLGMsZCl9ZmluYWxseXtDPWUsY2QudHJhbnNpdGlvbj1mfX1mdW5jdGlvbiBnZChhLGIsYyxkKXt2YXIgZT1DLGY9Y2QudHJhbnNpdGlvbjtjZC50cmFuc2l0aW9uPW51bGw7dHJ5e0M9NCxmZChhLGIsYyxkKX1maW5hbGx5e0M9ZSxjZC50cmFuc2l0aW9uPWZ9fVxuZnVuY3Rpb24gZmQoYSxiLGMsZCl7aWYoZGQpe3ZhciBlPVljKGEsYixjLGQpO2lmKG51bGw9PT1lKWhkKGEsYixkLGlkLGMpLFNjKGEsZCk7ZWxzZSBpZihVYyhlLGEsYixjLGQpKWQuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihTYyhhLGQpLGImNCYmLTE8UmMuaW5kZXhPZihhKSl7Zm9yKDtudWxsIT09ZTspe3ZhciBmPUNiKGUpO251bGwhPT1mJiZFYyhmKTtmPVljKGEsYixjLGQpO251bGw9PT1mJiZoZChhLGIsZCxpZCxjKTtpZihmPT09ZSlicmVhaztlPWZ9bnVsbCE9PWUmJmQuc3RvcFByb3BhZ2F0aW9uKCl9ZWxzZSBoZChhLGIsZCxudWxsLGMpfX12YXIgaWQ9bnVsbDtcbmZ1bmN0aW9uIFljKGEsYixjLGQpe2lkPW51bGw7YT14YihkKTthPVdjKGEpO2lmKG51bGwhPT1hKWlmKGI9VmIoYSksbnVsbD09PWIpYT1udWxsO2Vsc2UgaWYoYz1iLnRhZywxMz09PWMpe2E9V2IoYik7aWYobnVsbCE9PWEpcmV0dXJuIGE7YT1udWxsfWVsc2UgaWYoMz09PWMpe2lmKGIuc3RhdGVOb2RlLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQpcmV0dXJuIDM9PT1iLnRhZz9iLnN0YXRlTm9kZS5jb250YWluZXJJbmZvOm51bGw7YT1udWxsfWVsc2UgYiE9PWEmJihhPW51bGwpO2lkPWE7cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBqZChhKXtzd2l0Y2goYSl7Y2FzZSBcImNhbmNlbFwiOmNhc2UgXCJjbGlja1wiOmNhc2UgXCJjbG9zZVwiOmNhc2UgXCJjb250ZXh0bWVudVwiOmNhc2UgXCJjb3B5XCI6Y2FzZSBcImN1dFwiOmNhc2UgXCJhdXhjbGlja1wiOmNhc2UgXCJkYmxjbGlja1wiOmNhc2UgXCJkcmFnZW5kXCI6Y2FzZSBcImRyYWdzdGFydFwiOmNhc2UgXCJkcm9wXCI6Y2FzZSBcImZvY3VzaW5cIjpjYXNlIFwiZm9jdXNvdXRcIjpjYXNlIFwiaW5wdXRcIjpjYXNlIFwiaW52YWxpZFwiOmNhc2UgXCJrZXlkb3duXCI6Y2FzZSBcImtleXByZXNzXCI6Y2FzZSBcImtleXVwXCI6Y2FzZSBcIm1vdXNlZG93blwiOmNhc2UgXCJtb3VzZXVwXCI6Y2FzZSBcInBhc3RlXCI6Y2FzZSBcInBhdXNlXCI6Y2FzZSBcInBsYXlcIjpjYXNlIFwicG9pbnRlcmNhbmNlbFwiOmNhc2UgXCJwb2ludGVyZG93blwiOmNhc2UgXCJwb2ludGVydXBcIjpjYXNlIFwicmF0ZWNoYW5nZVwiOmNhc2UgXCJyZXNldFwiOmNhc2UgXCJyZXNpemVcIjpjYXNlIFwic2Vla2VkXCI6Y2FzZSBcInN1Ym1pdFwiOmNhc2UgXCJ0b3VjaGNhbmNlbFwiOmNhc2UgXCJ0b3VjaGVuZFwiOmNhc2UgXCJ0b3VjaHN0YXJ0XCI6Y2FzZSBcInZvbHVtZWNoYW5nZVwiOmNhc2UgXCJjaGFuZ2VcIjpjYXNlIFwic2VsZWN0aW9uY2hhbmdlXCI6Y2FzZSBcInRleHRJbnB1dFwiOmNhc2UgXCJjb21wb3NpdGlvbnN0YXJ0XCI6Y2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6Y2FzZSBcImNvbXBvc2l0aW9udXBkYXRlXCI6Y2FzZSBcImJlZm9yZWJsdXJcIjpjYXNlIFwiYWZ0ZXJibHVyXCI6Y2FzZSBcImJlZm9yZWlucHV0XCI6Y2FzZSBcImJsdXJcIjpjYXNlIFwiZnVsbHNjcmVlbmNoYW5nZVwiOmNhc2UgXCJmb2N1c1wiOmNhc2UgXCJoYXNoY2hhbmdlXCI6Y2FzZSBcInBvcHN0YXRlXCI6Y2FzZSBcInNlbGVjdFwiOmNhc2UgXCJzZWxlY3RzdGFydFwiOnJldHVybiAxO2Nhc2UgXCJkcmFnXCI6Y2FzZSBcImRyYWdlbnRlclwiOmNhc2UgXCJkcmFnZXhpdFwiOmNhc2UgXCJkcmFnbGVhdmVcIjpjYXNlIFwiZHJhZ292ZXJcIjpjYXNlIFwibW91c2Vtb3ZlXCI6Y2FzZSBcIm1vdXNlb3V0XCI6Y2FzZSBcIm1vdXNlb3ZlclwiOmNhc2UgXCJwb2ludGVybW92ZVwiOmNhc2UgXCJwb2ludGVyb3V0XCI6Y2FzZSBcInBvaW50ZXJvdmVyXCI6Y2FzZSBcInNjcm9sbFwiOmNhc2UgXCJ0b2dnbGVcIjpjYXNlIFwidG91Y2htb3ZlXCI6Y2FzZSBcIndoZWVsXCI6Y2FzZSBcIm1vdXNlZW50ZXJcIjpjYXNlIFwibW91c2VsZWF2ZVwiOmNhc2UgXCJwb2ludGVyZW50ZXJcIjpjYXNlIFwicG9pbnRlcmxlYXZlXCI6cmV0dXJuIDQ7XG5jYXNlIFwibWVzc2FnZVwiOnN3aXRjaChlYygpKXtjYXNlIGZjOnJldHVybiAxO2Nhc2UgZ2M6cmV0dXJuIDQ7Y2FzZSBoYzpjYXNlIGljOnJldHVybiAxNjtjYXNlIGpjOnJldHVybiA1MzY4NzA5MTI7ZGVmYXVsdDpyZXR1cm4gMTZ9ZGVmYXVsdDpyZXR1cm4gMTZ9fXZhciBrZD1udWxsLGxkPW51bGwsbWQ9bnVsbDtmdW5jdGlvbiBuZCgpe2lmKG1kKXJldHVybiBtZDt2YXIgYSxiPWxkLGM9Yi5sZW5ndGgsZCxlPVwidmFsdWVcImluIGtkP2tkLnZhbHVlOmtkLnRleHRDb250ZW50LGY9ZS5sZW5ndGg7Zm9yKGE9MDthPGMmJmJbYV09PT1lW2FdO2ErKyk7dmFyIGc9Yy1hO2ZvcihkPTE7ZDw9ZyYmYltjLWRdPT09ZVtmLWRdO2QrKyk7cmV0dXJuIG1kPWUuc2xpY2UoYSwxPGQ/MS1kOnZvaWQgMCl9XG5mdW5jdGlvbiBvZChhKXt2YXIgYj1hLmtleUNvZGU7XCJjaGFyQ29kZVwiaW4gYT8oYT1hLmNoYXJDb2RlLDA9PT1hJiYxMz09PWImJihhPTEzKSk6YT1iOzEwPT09YSYmKGE9MTMpO3JldHVybiAzMjw9YXx8MTM9PT1hP2E6MH1mdW5jdGlvbiBwZCgpe3JldHVybiEwfWZ1bmN0aW9uIHFkKCl7cmV0dXJuITF9XG5mdW5jdGlvbiByZChhKXtmdW5jdGlvbiBiKGIsZCxlLGYsZyl7dGhpcy5fcmVhY3ROYW1lPWI7dGhpcy5fdGFyZ2V0SW5zdD1lO3RoaXMudHlwZT1kO3RoaXMubmF0aXZlRXZlbnQ9Zjt0aGlzLnRhcmdldD1nO3RoaXMuY3VycmVudFRhcmdldD1udWxsO2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJihiPWFbY10sdGhpc1tjXT1iP2IoZik6ZltjXSk7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9KG51bGwhPWYuZGVmYXVsdFByZXZlbnRlZD9mLmRlZmF1bHRQcmV2ZW50ZWQ6ITE9PT1mLnJldHVyblZhbHVlKT9wZDpxZDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXFkO3JldHVybiB0aGlzfUEoYi5wcm90b3R5cGUse3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwO3ZhciBhPXRoaXMubmF0aXZlRXZlbnQ7YSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOlwidW5rbm93blwiIT09dHlwZW9mIGEucmV0dXJuVmFsdWUmJlxuKGEucmV0dXJuVmFsdWU9ITEpLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPXBkKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uYXRpdmVFdmVudDthJiYoYS5zdG9wUHJvcGFnYXRpb24/YS5zdG9wUHJvcGFnYXRpb24oKTpcInVua25vd25cIiE9PXR5cGVvZiBhLmNhbmNlbEJ1YmJsZSYmKGEuY2FuY2VsQnViYmxlPSEwKSx0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXBkKX0scGVyc2lzdDpmdW5jdGlvbigpe30saXNQZXJzaXN0ZW50OnBkfSk7cmV0dXJuIGJ9XG52YXIgc2Q9e2V2ZW50UGhhc2U6MCxidWJibGVzOjAsY2FuY2VsYWJsZTowLHRpbWVTdGFtcDpmdW5jdGlvbihhKXtyZXR1cm4gYS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6MCxpc1RydXN0ZWQ6MH0sdGQ9cmQoc2QpLHVkPUEoe30sc2Qse3ZpZXc6MCxkZXRhaWw6MH0pLHZkPXJkKHVkKSx3ZCx4ZCx5ZCxBZD1BKHt9LHVkLHtzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MCxjbGllbnRZOjAscGFnZVg6MCxwYWdlWTowLGN0cmxLZXk6MCxzaGlmdEtleTowLGFsdEtleTowLG1ldGFLZXk6MCxnZXRNb2RpZmllclN0YXRlOnpkLGJ1dHRvbjowLGJ1dHRvbnM6MCxyZWxhdGVkVGFyZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hLnJlbGF0ZWRUYXJnZXQ/YS5mcm9tRWxlbWVudD09PWEuc3JjRWxlbWVudD9hLnRvRWxlbWVudDphLmZyb21FbGVtZW50OmEucmVsYXRlZFRhcmdldH0sbW92ZW1lbnRYOmZ1bmN0aW9uKGEpe2lmKFwibW92ZW1lbnRYXCJpblxuYSlyZXR1cm4gYS5tb3ZlbWVudFg7YSE9PXlkJiYoeWQmJlwibW91c2Vtb3ZlXCI9PT1hLnR5cGU/KHdkPWEuc2NyZWVuWC15ZC5zY3JlZW5YLHhkPWEuc2NyZWVuWS15ZC5zY3JlZW5ZKTp4ZD13ZD0wLHlkPWEpO3JldHVybiB3ZH0sbW92ZW1lbnRZOmZ1bmN0aW9uKGEpe3JldHVyblwibW92ZW1lbnRZXCJpbiBhP2EubW92ZW1lbnRZOnhkfX0pLEJkPXJkKEFkKSxDZD1BKHt9LEFkLHtkYXRhVHJhbnNmZXI6MH0pLERkPXJkKENkKSxFZD1BKHt9LHVkLHtyZWxhdGVkVGFyZ2V0OjB9KSxGZD1yZChFZCksR2Q9QSh7fSxzZCx7YW5pbWF0aW9uTmFtZTowLGVsYXBzZWRUaW1lOjAscHNldWRvRWxlbWVudDowfSksSGQ9cmQoR2QpLElkPUEoe30sc2Qse2NsaXBib2FyZERhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuXCJjbGlwYm9hcmREYXRhXCJpbiBhP2EuY2xpcGJvYXJkRGF0YTp3aW5kb3cuY2xpcGJvYXJkRGF0YX19KSxKZD1yZChJZCksS2Q9QSh7fSxzZCx7ZGF0YTowfSksTGQ9cmQoS2QpLE1kPXtFc2M6XCJFc2NhcGVcIixcblNwYWNlYmFyOlwiIFwiLExlZnQ6XCJBcnJvd0xlZnRcIixVcDpcIkFycm93VXBcIixSaWdodDpcIkFycm93UmlnaHRcIixEb3duOlwiQXJyb3dEb3duXCIsRGVsOlwiRGVsZXRlXCIsV2luOlwiT1NcIixNZW51OlwiQ29udGV4dE1lbnVcIixBcHBzOlwiQ29udGV4dE1lbnVcIixTY3JvbGw6XCJTY3JvbGxMb2NrXCIsTW96UHJpbnRhYmxlS2V5OlwiVW5pZGVudGlmaWVkXCJ9LE5kPXs4OlwiQmFja3NwYWNlXCIsOTpcIlRhYlwiLDEyOlwiQ2xlYXJcIiwxMzpcIkVudGVyXCIsMTY6XCJTaGlmdFwiLDE3OlwiQ29udHJvbFwiLDE4OlwiQWx0XCIsMTk6XCJQYXVzZVwiLDIwOlwiQ2Fwc0xvY2tcIiwyNzpcIkVzY2FwZVwiLDMyOlwiIFwiLDMzOlwiUGFnZVVwXCIsMzQ6XCJQYWdlRG93blwiLDM1OlwiRW5kXCIsMzY6XCJIb21lXCIsMzc6XCJBcnJvd0xlZnRcIiwzODpcIkFycm93VXBcIiwzOTpcIkFycm93UmlnaHRcIiw0MDpcIkFycm93RG93blwiLDQ1OlwiSW5zZXJ0XCIsNDY6XCJEZWxldGVcIiwxMTI6XCJGMVwiLDExMzpcIkYyXCIsMTE0OlwiRjNcIiwxMTU6XCJGNFwiLDExNjpcIkY1XCIsMTE3OlwiRjZcIiwxMTg6XCJGN1wiLFxuMTE5OlwiRjhcIiwxMjA6XCJGOVwiLDEyMTpcIkYxMFwiLDEyMjpcIkYxMVwiLDEyMzpcIkYxMlwiLDE0NDpcIk51bUxvY2tcIiwxNDU6XCJTY3JvbGxMb2NrXCIsMjI0OlwiTWV0YVwifSxPZD17QWx0OlwiYWx0S2V5XCIsQ29udHJvbDpcImN0cmxLZXlcIixNZXRhOlwibWV0YUtleVwiLFNoaWZ0Olwic2hpZnRLZXlcIn07ZnVuY3Rpb24gUGQoYSl7dmFyIGI9dGhpcy5uYXRpdmVFdmVudDtyZXR1cm4gYi5nZXRNb2RpZmllclN0YXRlP2IuZ2V0TW9kaWZpZXJTdGF0ZShhKTooYT1PZFthXSk/ISFiW2FdOiExfWZ1bmN0aW9uIHpkKCl7cmV0dXJuIFBkfVxudmFyIFFkPUEoe30sdWQse2tleTpmdW5jdGlvbihhKXtpZihhLmtleSl7dmFyIGI9TWRbYS5rZXldfHxhLmtleTtpZihcIlVuaWRlbnRpZmllZFwiIT09YilyZXR1cm4gYn1yZXR1cm5cImtleXByZXNzXCI9PT1hLnR5cGU/KGE9b2QoYSksMTM9PT1hP1wiRW50ZXJcIjpTdHJpbmcuZnJvbUNoYXJDb2RlKGEpKTpcImtleWRvd25cIj09PWEudHlwZXx8XCJrZXl1cFwiPT09YS50eXBlP05kW2Eua2V5Q29kZV18fFwiVW5pZGVudGlmaWVkXCI6XCJcIn0sY29kZTowLGxvY2F0aW9uOjAsY3RybEtleTowLHNoaWZ0S2V5OjAsYWx0S2V5OjAsbWV0YUtleTowLHJlcGVhdDowLGxvY2FsZTowLGdldE1vZGlmaWVyU3RhdGU6emQsY2hhckNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlwcmVzc1wiPT09YS50eXBlP29kKGEpOjB9LGtleUNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9hLmtleUNvZGU6MH0sd2hpY2g6ZnVuY3Rpb24oYSl7cmV0dXJuXCJrZXlwcmVzc1wiPT09XG5hLnR5cGU/b2QoYSk6XCJrZXlkb3duXCI9PT1hLnR5cGV8fFwia2V5dXBcIj09PWEudHlwZT9hLmtleUNvZGU6MH19KSxSZD1yZChRZCksU2Q9QSh7fSxBZCx7cG9pbnRlcklkOjAsd2lkdGg6MCxoZWlnaHQ6MCxwcmVzc3VyZTowLHRhbmdlbnRpYWxQcmVzc3VyZTowLHRpbHRYOjAsdGlsdFk6MCx0d2lzdDowLHBvaW50ZXJUeXBlOjAsaXNQcmltYXJ5OjB9KSxUZD1yZChTZCksVWQ9QSh7fSx1ZCx7dG91Y2hlczowLHRhcmdldFRvdWNoZXM6MCxjaGFuZ2VkVG91Y2hlczowLGFsdEtleTowLG1ldGFLZXk6MCxjdHJsS2V5OjAsc2hpZnRLZXk6MCxnZXRNb2RpZmllclN0YXRlOnpkfSksVmQ9cmQoVWQpLFdkPUEoe30sc2Qse3Byb3BlcnR5TmFtZTowLGVsYXBzZWRUaW1lOjAscHNldWRvRWxlbWVudDowfSksWGQ9cmQoV2QpLFlkPUEoe30sQWQse2RlbHRhWDpmdW5jdGlvbihhKXtyZXR1cm5cImRlbHRhWFwiaW4gYT9hLmRlbHRhWDpcIndoZWVsRGVsdGFYXCJpbiBhPy1hLndoZWVsRGVsdGFYOjB9LFxuZGVsdGFZOmZ1bmN0aW9uKGEpe3JldHVyblwiZGVsdGFZXCJpbiBhP2EuZGVsdGFZOlwid2hlZWxEZWx0YVlcImluIGE/LWEud2hlZWxEZWx0YVk6XCJ3aGVlbERlbHRhXCJpbiBhPy1hLndoZWVsRGVsdGE6MH0sZGVsdGFaOjAsZGVsdGFNb2RlOjB9KSxaZD1yZChZZCksJGQ9WzksMTMsMjcsMzJdLGFlPWlhJiZcIkNvbXBvc2l0aW9uRXZlbnRcImluIHdpbmRvdyxiZT1udWxsO2lhJiZcImRvY3VtZW50TW9kZVwiaW4gZG9jdW1lbnQmJihiZT1kb2N1bWVudC5kb2N1bWVudE1vZGUpO3ZhciBjZT1pYSYmXCJUZXh0RXZlbnRcImluIHdpbmRvdyYmIWJlLGRlPWlhJiYoIWFlfHxiZSYmODxiZSYmMTE+PWJlKSxlZT1TdHJpbmcuZnJvbUNoYXJDb2RlKDMyKSxmZT0hMTtcbmZ1bmN0aW9uIGdlKGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJrZXl1cFwiOnJldHVybi0xIT09JGQuaW5kZXhPZihiLmtleUNvZGUpO2Nhc2UgXCJrZXlkb3duXCI6cmV0dXJuIDIyOSE9PWIua2V5Q29kZTtjYXNlIFwia2V5cHJlc3NcIjpjYXNlIFwibW91c2Vkb3duXCI6Y2FzZSBcImZvY3Vzb3V0XCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gaGUoYSl7YT1hLmRldGFpbDtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiZGF0YVwiaW4gYT9hLmRhdGE6bnVsbH12YXIgaWU9ITE7ZnVuY3Rpb24gamUoYSxiKXtzd2l0Y2goYSl7Y2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6cmV0dXJuIGhlKGIpO2Nhc2UgXCJrZXlwcmVzc1wiOmlmKDMyIT09Yi53aGljaClyZXR1cm4gbnVsbDtmZT0hMDtyZXR1cm4gZWU7Y2FzZSBcInRleHRJbnB1dFwiOnJldHVybiBhPWIuZGF0YSxhPT09ZWUmJmZlP251bGw6YTtkZWZhdWx0OnJldHVybiBudWxsfX1cbmZ1bmN0aW9uIGtlKGEsYil7aWYoaWUpcmV0dXJuXCJjb21wb3NpdGlvbmVuZFwiPT09YXx8IWFlJiZnZShhLGIpPyhhPW5kKCksbWQ9bGQ9a2Q9bnVsbCxpZT0hMSxhKTpudWxsO3N3aXRjaChhKXtjYXNlIFwicGFzdGVcIjpyZXR1cm4gbnVsbDtjYXNlIFwia2V5cHJlc3NcIjppZighKGIuY3RybEtleXx8Yi5hbHRLZXl8fGIubWV0YUtleSl8fGIuY3RybEtleSYmYi5hbHRLZXkpe2lmKGIuY2hhciYmMTxiLmNoYXIubGVuZ3RoKXJldHVybiBiLmNoYXI7aWYoYi53aGljaClyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShiLndoaWNoKX1yZXR1cm4gbnVsbDtjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpyZXR1cm4gZGUmJlwia29cIiE9PWIubG9jYWxlP251bGw6Yi5kYXRhO2RlZmF1bHQ6cmV0dXJuIG51bGx9fVxudmFyIGxlPXtjb2xvcjohMCxkYXRlOiEwLGRhdGV0aW1lOiEwLFwiZGF0ZXRpbWUtbG9jYWxcIjohMCxlbWFpbDohMCxtb250aDohMCxudW1iZXI6ITAscGFzc3dvcmQ6ITAscmFuZ2U6ITAsc2VhcmNoOiEwLHRlbDohMCx0ZXh0OiEwLHRpbWU6ITAsdXJsOiEwLHdlZWs6ITB9O2Z1bmN0aW9uIG1lKGEpe3ZhciBiPWEmJmEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iPyEhbGVbYS50eXBlXTpcInRleHRhcmVhXCI9PT1iPyEwOiExfWZ1bmN0aW9uIG5lKGEsYixjLGQpe0ViKGQpO2I9b2UoYixcIm9uQ2hhbmdlXCIpOzA8Yi5sZW5ndGgmJihjPW5ldyB0ZChcIm9uQ2hhbmdlXCIsXCJjaGFuZ2VcIixudWxsLGMsZCksYS5wdXNoKHtldmVudDpjLGxpc3RlbmVyczpifSkpfXZhciBwZT1udWxsLHFlPW51bGw7ZnVuY3Rpb24gcmUoYSl7c2UoYSwwKX1mdW5jdGlvbiB0ZShhKXt2YXIgYj11ZShhKTtpZihXYShiKSlyZXR1cm4gYX1cbmZ1bmN0aW9uIHZlKGEsYil7aWYoXCJjaGFuZ2VcIj09PWEpcmV0dXJuIGJ9dmFyIHdlPSExO2lmKGlhKXt2YXIgeGU7aWYoaWEpe3ZhciB5ZT1cIm9uaW5wdXRcImluIGRvY3VtZW50O2lmKCF5ZSl7dmFyIHplPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7emUuc2V0QXR0cmlidXRlKFwib25pbnB1dFwiLFwicmV0dXJuO1wiKTt5ZT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgemUub25pbnB1dH14ZT15ZX1lbHNlIHhlPSExO3dlPXhlJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OTxkb2N1bWVudC5kb2N1bWVudE1vZGUpfWZ1bmN0aW9uIEFlKCl7cGUmJihwZS5kZXRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIixCZSkscWU9cGU9bnVsbCl9ZnVuY3Rpb24gQmUoYSl7aWYoXCJ2YWx1ZVwiPT09YS5wcm9wZXJ0eU5hbWUmJnRlKHFlKSl7dmFyIGI9W107bmUoYixxZSxhLHhiKGEpKTtKYihyZSxiKX19XG5mdW5jdGlvbiBDZShhLGIsYyl7XCJmb2N1c2luXCI9PT1hPyhBZSgpLHBlPWIscWU9YyxwZS5hdHRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIixCZSkpOlwiZm9jdXNvdXRcIj09PWEmJkFlKCl9ZnVuY3Rpb24gRGUoYSl7aWYoXCJzZWxlY3Rpb25jaGFuZ2VcIj09PWF8fFwia2V5dXBcIj09PWF8fFwia2V5ZG93blwiPT09YSlyZXR1cm4gdGUocWUpfWZ1bmN0aW9uIEVlKGEsYil7aWYoXCJjbGlja1wiPT09YSlyZXR1cm4gdGUoYil9ZnVuY3Rpb24gRmUoYSxiKXtpZihcImlucHV0XCI9PT1hfHxcImNoYW5nZVwiPT09YSlyZXR1cm4gdGUoYil9ZnVuY3Rpb24gR2UoYSxiKXtyZXR1cm4gYT09PWImJigwIT09YXx8MS9hPT09MS9iKXx8YSE9PWEmJmIhPT1ifXZhciBIZT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgT2JqZWN0LmlzP09iamVjdC5pczpHZTtcbmZ1bmN0aW9uIEllKGEsYil7aWYoSGUoYSxiKSlyZXR1cm4hMDtpZihcIm9iamVjdFwiIT09dHlwZW9mIGF8fG51bGw9PT1hfHxcIm9iamVjdFwiIT09dHlwZW9mIGJ8fG51bGw9PT1iKXJldHVybiExO3ZhciBjPU9iamVjdC5rZXlzKGEpLGQ9T2JqZWN0LmtleXMoYik7aWYoYy5sZW5ndGghPT1kLmxlbmd0aClyZXR1cm4hMTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2lmKCFqYS5jYWxsKGIsZSl8fCFIZShhW2VdLGJbZV0pKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIEplKGEpe2Zvcig7YSYmYS5maXJzdENoaWxkOylhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX1cbmZ1bmN0aW9uIEtlKGEsYil7dmFyIGM9SmUoYSk7YT0wO2Zvcih2YXIgZDtjOyl7aWYoMz09PWMubm9kZVR5cGUpe2Q9YStjLnRleHRDb250ZW50Lmxlbmd0aDtpZihhPD1iJiZkPj1iKXJldHVybntub2RlOmMsb2Zmc2V0OmItYX07YT1kfWE6e2Zvcig7Yzspe2lmKGMubmV4dFNpYmxpbmcpe2M9Yy5uZXh0U2libGluZzticmVhayBhfWM9Yy5wYXJlbnROb2RlfWM9dm9pZCAwfWM9SmUoYyl9fWZ1bmN0aW9uIExlKGEsYil7cmV0dXJuIGEmJmI/YT09PWI/ITA6YSYmMz09PWEubm9kZVR5cGU/ITE6YiYmMz09PWIubm9kZVR5cGU/TGUoYSxiLnBhcmVudE5vZGUpOlwiY29udGFpbnNcImluIGE/YS5jb250YWlucyhiKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uPyEhKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmMTYpOiExOiExfVxuZnVuY3Rpb24gTWUoKXtmb3IodmFyIGE9d2luZG93LGI9WGEoKTtiIGluc3RhbmNlb2YgYS5IVE1MSUZyYW1lRWxlbWVudDspe3RyeXt2YXIgYz1cInN0cmluZ1wiPT09dHlwZW9mIGIuY29udGVudFdpbmRvdy5sb2NhdGlvbi5ocmVmfWNhdGNoKGQpe2M9ITF9aWYoYylhPWIuY29udGVudFdpbmRvdztlbHNlIGJyZWFrO2I9WGEoYS5kb2N1bWVudCl9cmV0dXJuIGJ9ZnVuY3Rpb24gTmUoYSl7dmFyIGI9YSYmYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiBiJiYoXCJpbnB1dFwiPT09YiYmKFwidGV4dFwiPT09YS50eXBlfHxcInNlYXJjaFwiPT09YS50eXBlfHxcInRlbFwiPT09YS50eXBlfHxcInVybFwiPT09YS50eXBlfHxcInBhc3N3b3JkXCI9PT1hLnR5cGUpfHxcInRleHRhcmVhXCI9PT1ifHxcInRydWVcIj09PWEuY29udGVudEVkaXRhYmxlKX1cbmZ1bmN0aW9uIE9lKGEpe3ZhciBiPU1lKCksYz1hLmZvY3VzZWRFbGVtLGQ9YS5zZWxlY3Rpb25SYW5nZTtpZihiIT09YyYmYyYmYy5vd25lckRvY3VtZW50JiZMZShjLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGMpKXtpZihudWxsIT09ZCYmTmUoYykpaWYoYj1kLnN0YXJ0LGE9ZC5lbmQsdm9pZCAwPT09YSYmKGE9YiksXCJzZWxlY3Rpb25TdGFydFwiaW4gYyljLnNlbGVjdGlvblN0YXJ0PWIsYy5zZWxlY3Rpb25FbmQ9TWF0aC5taW4oYSxjLnZhbHVlLmxlbmd0aCk7ZWxzZSBpZihhPShiPWMub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQpJiZiLmRlZmF1bHRWaWV3fHx3aW5kb3csYS5nZXRTZWxlY3Rpb24pe2E9YS5nZXRTZWxlY3Rpb24oKTt2YXIgZT1jLnRleHRDb250ZW50Lmxlbmd0aCxmPU1hdGgubWluKGQuc3RhcnQsZSk7ZD12b2lkIDA9PT1kLmVuZD9mOk1hdGgubWluKGQuZW5kLGUpOyFhLmV4dGVuZCYmZj5kJiYoZT1kLGQ9ZixmPWUpO2U9S2UoYyxmKTt2YXIgZz1LZShjLFxuZCk7ZSYmZyYmKDEhPT1hLnJhbmdlQ291bnR8fGEuYW5jaG9yTm9kZSE9PWUubm9kZXx8YS5hbmNob3JPZmZzZXQhPT1lLm9mZnNldHx8YS5mb2N1c05vZGUhPT1nLm5vZGV8fGEuZm9jdXNPZmZzZXQhPT1nLm9mZnNldCkmJihiPWIuY3JlYXRlUmFuZ2UoKSxiLnNldFN0YXJ0KGUubm9kZSxlLm9mZnNldCksYS5yZW1vdmVBbGxSYW5nZXMoKSxmPmQ/KGEuYWRkUmFuZ2UoYiksYS5leHRlbmQoZy5ub2RlLGcub2Zmc2V0KSk6KGIuc2V0RW5kKGcubm9kZSxnLm9mZnNldCksYS5hZGRSYW5nZShiKSkpfWI9W107Zm9yKGE9YzthPWEucGFyZW50Tm9kZTspMT09PWEubm9kZVR5cGUmJmIucHVzaCh7ZWxlbWVudDphLGxlZnQ6YS5zY3JvbGxMZWZ0LHRvcDphLnNjcm9sbFRvcH0pO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBjLmZvY3VzJiZjLmZvY3VzKCk7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylhPWJbY10sYS5lbGVtZW50LnNjcm9sbExlZnQ9YS5sZWZ0LGEuZWxlbWVudC5zY3JvbGxUb3A9YS50b3B9fVxudmFyIFBlPWlhJiZcImRvY3VtZW50TW9kZVwiaW4gZG9jdW1lbnQmJjExPj1kb2N1bWVudC5kb2N1bWVudE1vZGUsUWU9bnVsbCxSZT1udWxsLFNlPW51bGwsVGU9ITE7XG5mdW5jdGlvbiBVZShhLGIsYyl7dmFyIGQ9Yy53aW5kb3c9PT1jP2MuZG9jdW1lbnQ6OT09PWMubm9kZVR5cGU/YzpjLm93bmVyRG9jdW1lbnQ7VGV8fG51bGw9PVFlfHxRZSE9PVhhKGQpfHwoZD1RZSxcInNlbGVjdGlvblN0YXJ0XCJpbiBkJiZOZShkKT9kPXtzdGFydDpkLnNlbGVjdGlvblN0YXJ0LGVuZDpkLnNlbGVjdGlvbkVuZH06KGQ9KGQub3duZXJEb2N1bWVudCYmZC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3fHx3aW5kb3cpLmdldFNlbGVjdGlvbigpLGQ9e2FuY2hvck5vZGU6ZC5hbmNob3JOb2RlLGFuY2hvck9mZnNldDpkLmFuY2hvck9mZnNldCxmb2N1c05vZGU6ZC5mb2N1c05vZGUsZm9jdXNPZmZzZXQ6ZC5mb2N1c09mZnNldH0pLFNlJiZJZShTZSxkKXx8KFNlPWQsZD1vZShSZSxcIm9uU2VsZWN0XCIpLDA8ZC5sZW5ndGgmJihiPW5ldyB0ZChcIm9uU2VsZWN0XCIsXCJzZWxlY3RcIixudWxsLGIsYyksYS5wdXNoKHtldmVudDpiLGxpc3RlbmVyczpkfSksYi50YXJnZXQ9UWUpKSl9XG5mdW5jdGlvbiBWZShhLGIpe3ZhciBjPXt9O2NbYS50b0xvd2VyQ2FzZSgpXT1iLnRvTG93ZXJDYXNlKCk7Y1tcIldlYmtpdFwiK2FdPVwid2Via2l0XCIrYjtjW1wiTW96XCIrYV09XCJtb3pcIitiO3JldHVybiBjfXZhciBXZT17YW5pbWF0aW9uZW5kOlZlKFwiQW5pbWF0aW9uXCIsXCJBbmltYXRpb25FbmRcIiksYW5pbWF0aW9uaXRlcmF0aW9uOlZlKFwiQW5pbWF0aW9uXCIsXCJBbmltYXRpb25JdGVyYXRpb25cIiksYW5pbWF0aW9uc3RhcnQ6VmUoXCJBbmltYXRpb25cIixcIkFuaW1hdGlvblN0YXJ0XCIpLHRyYW5zaXRpb25lbmQ6VmUoXCJUcmFuc2l0aW9uXCIsXCJUcmFuc2l0aW9uRW5kXCIpfSxYZT17fSxZZT17fTtcbmlhJiYoWWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxcIkFuaW1hdGlvbkV2ZW50XCJpbiB3aW5kb3d8fChkZWxldGUgV2UuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixkZWxldGUgV2UuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbixkZWxldGUgV2UuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcIlRyYW5zaXRpb25FdmVudFwiaW4gd2luZG93fHxkZWxldGUgV2UudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uKTtmdW5jdGlvbiBaZShhKXtpZihYZVthXSlyZXR1cm4gWGVbYV07aWYoIVdlW2FdKXJldHVybiBhO3ZhciBiPVdlW2FdLGM7Zm9yKGMgaW4gYilpZihiLmhhc093blByb3BlcnR5KGMpJiZjIGluIFllKXJldHVybiBYZVthXT1iW2NdO3JldHVybiBhfXZhciAkZT1aZShcImFuaW1hdGlvbmVuZFwiKSxhZj1aZShcImFuaW1hdGlvbml0ZXJhdGlvblwiKSxiZj1aZShcImFuaW1hdGlvbnN0YXJ0XCIpLGNmPVplKFwidHJhbnNpdGlvbmVuZFwiKSxkZj1uZXcgTWFwLGVmPVwiYWJvcnQgYXV4Q2xpY2sgY2FuY2VsIGNhblBsYXkgY2FuUGxheVRocm91Z2ggY2xpY2sgY2xvc2UgY29udGV4dE1lbnUgY29weSBjdXQgZHJhZyBkcmFnRW5kIGRyYWdFbnRlciBkcmFnRXhpdCBkcmFnTGVhdmUgZHJhZ092ZXIgZHJhZ1N0YXJ0IGRyb3AgZHVyYXRpb25DaGFuZ2UgZW1wdGllZCBlbmNyeXB0ZWQgZW5kZWQgZXJyb3IgZ290UG9pbnRlckNhcHR1cmUgaW5wdXQgaW52YWxpZCBrZXlEb3duIGtleVByZXNzIGtleVVwIGxvYWQgbG9hZGVkRGF0YSBsb2FkZWRNZXRhZGF0YSBsb2FkU3RhcnQgbG9zdFBvaW50ZXJDYXB0dXJlIG1vdXNlRG93biBtb3VzZU1vdmUgbW91c2VPdXQgbW91c2VPdmVyIG1vdXNlVXAgcGFzdGUgcGF1c2UgcGxheSBwbGF5aW5nIHBvaW50ZXJDYW5jZWwgcG9pbnRlckRvd24gcG9pbnRlck1vdmUgcG9pbnRlck91dCBwb2ludGVyT3ZlciBwb2ludGVyVXAgcHJvZ3Jlc3MgcmF0ZUNoYW5nZSByZXNldCByZXNpemUgc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdWJtaXQgc3VzcGVuZCB0aW1lVXBkYXRlIHRvdWNoQ2FuY2VsIHRvdWNoRW5kIHRvdWNoU3RhcnQgdm9sdW1lQ2hhbmdlIHNjcm9sbCB0b2dnbGUgdG91Y2hNb3ZlIHdhaXRpbmcgd2hlZWxcIi5zcGxpdChcIiBcIik7XG5mdW5jdGlvbiBmZihhLGIpe2RmLnNldChhLGIpO2ZhKGIsW2FdKX1mb3IodmFyIGdmPTA7Z2Y8ZWYubGVuZ3RoO2dmKyspe3ZhciBoZj1lZltnZl0samY9aGYudG9Mb3dlckNhc2UoKSxrZj1oZlswXS50b1VwcGVyQ2FzZSgpK2hmLnNsaWNlKDEpO2ZmKGpmLFwib25cIitrZil9ZmYoJGUsXCJvbkFuaW1hdGlvbkVuZFwiKTtmZihhZixcIm9uQW5pbWF0aW9uSXRlcmF0aW9uXCIpO2ZmKGJmLFwib25BbmltYXRpb25TdGFydFwiKTtmZihcImRibGNsaWNrXCIsXCJvbkRvdWJsZUNsaWNrXCIpO2ZmKFwiZm9jdXNpblwiLFwib25Gb2N1c1wiKTtmZihcImZvY3Vzb3V0XCIsXCJvbkJsdXJcIik7ZmYoY2YsXCJvblRyYW5zaXRpb25FbmRcIik7aGEoXCJvbk1vdXNlRW50ZXJcIixbXCJtb3VzZW91dFwiLFwibW91c2VvdmVyXCJdKTtoYShcIm9uTW91c2VMZWF2ZVwiLFtcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIl0pO2hhKFwib25Qb2ludGVyRW50ZXJcIixbXCJwb2ludGVyb3V0XCIsXCJwb2ludGVyb3ZlclwiXSk7XG5oYShcIm9uUG9pbnRlckxlYXZlXCIsW1wicG9pbnRlcm91dFwiLFwicG9pbnRlcm92ZXJcIl0pO2ZhKFwib25DaGFuZ2VcIixcImNoYW5nZSBjbGljayBmb2N1c2luIGZvY3Vzb3V0IGlucHV0IGtleWRvd24ga2V5dXAgc2VsZWN0aW9uY2hhbmdlXCIuc3BsaXQoXCIgXCIpKTtmYShcIm9uU2VsZWN0XCIsXCJmb2N1c291dCBjb250ZXh0bWVudSBkcmFnZW5kIGZvY3VzaW4ga2V5ZG93biBrZXl1cCBtb3VzZWRvd24gbW91c2V1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcIiBcIikpO2ZhKFwib25CZWZvcmVJbnB1dFwiLFtcImNvbXBvc2l0aW9uZW5kXCIsXCJrZXlwcmVzc1wiLFwidGV4dElucHV0XCIsXCJwYXN0ZVwiXSk7ZmEoXCJvbkNvbXBvc2l0aW9uRW5kXCIsXCJjb21wb3NpdGlvbmVuZCBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKSk7ZmEoXCJvbkNvbXBvc2l0aW9uU3RhcnRcIixcImNvbXBvc2l0aW9uc3RhcnQgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd25cIi5zcGxpdChcIiBcIikpO1xuZmEoXCJvbkNvbXBvc2l0aW9uVXBkYXRlXCIsXCJjb21wb3NpdGlvbnVwZGF0ZSBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKSk7dmFyIGxmPVwiYWJvcnQgY2FucGxheSBjYW5wbGF5dGhyb3VnaCBkdXJhdGlvbmNoYW5nZSBlbXB0aWVkIGVuY3J5cHRlZCBlbmRlZCBlcnJvciBsb2FkZWRkYXRhIGxvYWRlZG1ldGFkYXRhIGxvYWRzdGFydCBwYXVzZSBwbGF5IHBsYXlpbmcgcHJvZ3Jlc3MgcmF0ZWNoYW5nZSByZXNpemUgc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdXNwZW5kIHRpbWV1cGRhdGUgdm9sdW1lY2hhbmdlIHdhaXRpbmdcIi5zcGxpdChcIiBcIiksbWY9bmV3IFNldChcImNhbmNlbCBjbG9zZSBpbnZhbGlkIGxvYWQgc2Nyb2xsIHRvZ2dsZVwiLnNwbGl0KFwiIFwiKS5jb25jYXQobGYpKTtcbmZ1bmN0aW9uIG5mKGEsYixjKXt2YXIgZD1hLnR5cGV8fFwidW5rbm93bi1ldmVudFwiO2EuY3VycmVudFRhcmdldD1jO1ViKGQsYix2b2lkIDAsYSk7YS5jdXJyZW50VGFyZ2V0PW51bGx9XG5mdW5jdGlvbiBzZShhLGIpe2I9MCE9PShiJjQpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLGU9ZC5ldmVudDtkPWQubGlzdGVuZXJzO2E6e3ZhciBmPXZvaWQgMDtpZihiKWZvcih2YXIgZz1kLmxlbmd0aC0xOzA8PWc7Zy0tKXt2YXIgaD1kW2ddLGs9aC5pbnN0YW5jZSxsPWguY3VycmVudFRhcmdldDtoPWgubGlzdGVuZXI7aWYoayE9PWYmJmUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlicmVhayBhO25mKGUsaCxsKTtmPWt9ZWxzZSBmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKXtoPWRbZ107az1oLmluc3RhbmNlO2w9aC5jdXJyZW50VGFyZ2V0O2g9aC5saXN0ZW5lcjtpZihrIT09ZiYmZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrIGE7bmYoZSxoLGwpO2Y9a319fWlmKFFiKXRocm93IGE9UmIsUWI9ITEsUmI9bnVsbCxhO31cbmZ1bmN0aW9uIEQoYSxiKXt2YXIgYz1iW29mXTt2b2lkIDA9PT1jJiYoYz1iW29mXT1uZXcgU2V0KTt2YXIgZD1hK1wiX19idWJibGVcIjtjLmhhcyhkKXx8KHBmKGIsYSwyLCExKSxjLmFkZChkKSl9ZnVuY3Rpb24gcWYoYSxiLGMpe3ZhciBkPTA7YiYmKGR8PTQpO3BmKGMsYSxkLGIpfXZhciByZj1cIl9yZWFjdExpc3RlbmluZ1wiK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO2Z1bmN0aW9uIHNmKGEpe2lmKCFhW3JmXSl7YVtyZl09ITA7ZGEuZm9yRWFjaChmdW5jdGlvbihiKXtcInNlbGVjdGlvbmNoYW5nZVwiIT09YiYmKG1mLmhhcyhiKXx8cWYoYiwhMSxhKSxxZihiLCEwLGEpKX0pO3ZhciBiPTk9PT1hLm5vZGVUeXBlP2E6YS5vd25lckRvY3VtZW50O251bGw9PT1ifHxiW3JmXXx8KGJbcmZdPSEwLHFmKFwic2VsZWN0aW9uY2hhbmdlXCIsITEsYikpfX1cbmZ1bmN0aW9uIHBmKGEsYixjLGQpe3N3aXRjaChqZChiKSl7Y2FzZSAxOnZhciBlPWVkO2JyZWFrO2Nhc2UgNDplPWdkO2JyZWFrO2RlZmF1bHQ6ZT1mZH1jPWUuYmluZChudWxsLGIsYyxhKTtlPXZvaWQgMDshTGJ8fFwidG91Y2hzdGFydFwiIT09YiYmXCJ0b3VjaG1vdmVcIiE9PWImJlwid2hlZWxcIiE9PWJ8fChlPSEwKTtkP3ZvaWQgMCE9PWU/YS5hZGRFdmVudExpc3RlbmVyKGIsYyx7Y2FwdHVyZTohMCxwYXNzaXZlOmV9KTphLmFkZEV2ZW50TGlzdGVuZXIoYixjLCEwKTp2b2lkIDAhPT1lP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMse3Bhc3NpdmU6ZX0pOmEuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfVxuZnVuY3Rpb24gaGQoYSxiLGMsZCxlKXt2YXIgZj1kO2lmKDA9PT0oYiYxKSYmMD09PShiJjIpJiZudWxsIT09ZClhOmZvcig7Oyl7aWYobnVsbD09PWQpcmV0dXJuO3ZhciBnPWQudGFnO2lmKDM9PT1nfHw0PT09Zyl7dmFyIGg9ZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztpZihoPT09ZXx8OD09PWgubm9kZVR5cGUmJmgucGFyZW50Tm9kZT09PWUpYnJlYWs7aWYoND09PWcpZm9yKGc9ZC5yZXR1cm47bnVsbCE9PWc7KXt2YXIgaz1nLnRhZztpZigzPT09a3x8ND09PWspaWYoaz1nLnN0YXRlTm9kZS5jb250YWluZXJJbmZvLGs9PT1lfHw4PT09ay5ub2RlVHlwZSYmay5wYXJlbnROb2RlPT09ZSlyZXR1cm47Zz1nLnJldHVybn1mb3IoO251bGwhPT1oOyl7Zz1XYyhoKTtpZihudWxsPT09ZylyZXR1cm47az1nLnRhZztpZig1PT09a3x8Nj09PWspe2Q9Zj1nO2NvbnRpbnVlIGF9aD1oLnBhcmVudE5vZGV9fWQ9ZC5yZXR1cm59SmIoZnVuY3Rpb24oKXt2YXIgZD1mLGU9eGIoYyksZz1bXTtcbmE6e3ZhciBoPWRmLmdldChhKTtpZih2b2lkIDAhPT1oKXt2YXIgaz10ZCxuPWE7c3dpdGNoKGEpe2Nhc2UgXCJrZXlwcmVzc1wiOmlmKDA9PT1vZChjKSlicmVhayBhO2Nhc2UgXCJrZXlkb3duXCI6Y2FzZSBcImtleXVwXCI6az1SZDticmVhaztjYXNlIFwiZm9jdXNpblwiOm49XCJmb2N1c1wiO2s9RmQ7YnJlYWs7Y2FzZSBcImZvY3Vzb3V0XCI6bj1cImJsdXJcIjtrPUZkO2JyZWFrO2Nhc2UgXCJiZWZvcmVibHVyXCI6Y2FzZSBcImFmdGVyYmx1clwiOms9RmQ7YnJlYWs7Y2FzZSBcImNsaWNrXCI6aWYoMj09PWMuYnV0dG9uKWJyZWFrIGE7Y2FzZSBcImF1eGNsaWNrXCI6Y2FzZSBcImRibGNsaWNrXCI6Y2FzZSBcIm1vdXNlZG93blwiOmNhc2UgXCJtb3VzZW1vdmVcIjpjYXNlIFwibW91c2V1cFwiOmNhc2UgXCJtb3VzZW91dFwiOmNhc2UgXCJtb3VzZW92ZXJcIjpjYXNlIFwiY29udGV4dG1lbnVcIjprPUJkO2JyZWFrO2Nhc2UgXCJkcmFnXCI6Y2FzZSBcImRyYWdlbmRcIjpjYXNlIFwiZHJhZ2VudGVyXCI6Y2FzZSBcImRyYWdleGl0XCI6Y2FzZSBcImRyYWdsZWF2ZVwiOmNhc2UgXCJkcmFnb3ZlclwiOmNhc2UgXCJkcmFnc3RhcnRcIjpjYXNlIFwiZHJvcFwiOms9XG5EZDticmVhaztjYXNlIFwidG91Y2hjYW5jZWxcIjpjYXNlIFwidG91Y2hlbmRcIjpjYXNlIFwidG91Y2htb3ZlXCI6Y2FzZSBcInRvdWNoc3RhcnRcIjprPVZkO2JyZWFrO2Nhc2UgJGU6Y2FzZSBhZjpjYXNlIGJmOms9SGQ7YnJlYWs7Y2FzZSBjZjprPVhkO2JyZWFrO2Nhc2UgXCJzY3JvbGxcIjprPXZkO2JyZWFrO2Nhc2UgXCJ3aGVlbFwiOms9WmQ7YnJlYWs7Y2FzZSBcImNvcHlcIjpjYXNlIFwiY3V0XCI6Y2FzZSBcInBhc3RlXCI6az1KZDticmVhaztjYXNlIFwiZ290cG9pbnRlcmNhcHR1cmVcIjpjYXNlIFwibG9zdHBvaW50ZXJjYXB0dXJlXCI6Y2FzZSBcInBvaW50ZXJjYW5jZWxcIjpjYXNlIFwicG9pbnRlcmRvd25cIjpjYXNlIFwicG9pbnRlcm1vdmVcIjpjYXNlIFwicG9pbnRlcm91dFwiOmNhc2UgXCJwb2ludGVyb3ZlclwiOmNhc2UgXCJwb2ludGVydXBcIjprPVRkfXZhciB0PTAhPT0oYiY0KSxKPSF0JiZcInNjcm9sbFwiPT09YSx4PXQ/bnVsbCE9PWg/aCtcIkNhcHR1cmVcIjpudWxsOmg7dD1bXTtmb3IodmFyIHc9ZCx1O251bGwhPT1cbnc7KXt1PXc7dmFyIEY9dS5zdGF0ZU5vZGU7NT09PXUudGFnJiZudWxsIT09RiYmKHU9RixudWxsIT09eCYmKEY9S2Iodyx4KSxudWxsIT1GJiZ0LnB1c2godGYodyxGLHUpKSkpO2lmKEopYnJlYWs7dz13LnJldHVybn0wPHQubGVuZ3RoJiYoaD1uZXcgayhoLG4sbnVsbCxjLGUpLGcucHVzaCh7ZXZlbnQ6aCxsaXN0ZW5lcnM6dH0pKX19aWYoMD09PShiJjcpKXthOntoPVwibW91c2VvdmVyXCI9PT1hfHxcInBvaW50ZXJvdmVyXCI9PT1hO2s9XCJtb3VzZW91dFwiPT09YXx8XCJwb2ludGVyb3V0XCI9PT1hO2lmKGgmJmMhPT13YiYmKG49Yy5yZWxhdGVkVGFyZ2V0fHxjLmZyb21FbGVtZW50KSYmKFdjKG4pfHxuW3VmXSkpYnJlYWsgYTtpZihrfHxoKXtoPWUud2luZG93PT09ZT9lOihoPWUub3duZXJEb2N1bWVudCk/aC5kZWZhdWx0Vmlld3x8aC5wYXJlbnRXaW5kb3c6d2luZG93O2lmKGspe2lmKG49Yy5yZWxhdGVkVGFyZ2V0fHxjLnRvRWxlbWVudCxrPWQsbj1uP1djKG4pOm51bGwsbnVsbCE9PVxubiYmKEo9VmIobiksbiE9PUp8fDUhPT1uLnRhZyYmNiE9PW4udGFnKSluPW51bGx9ZWxzZSBrPW51bGwsbj1kO2lmKGshPT1uKXt0PUJkO0Y9XCJvbk1vdXNlTGVhdmVcIjt4PVwib25Nb3VzZUVudGVyXCI7dz1cIm1vdXNlXCI7aWYoXCJwb2ludGVyb3V0XCI9PT1hfHxcInBvaW50ZXJvdmVyXCI9PT1hKXQ9VGQsRj1cIm9uUG9pbnRlckxlYXZlXCIseD1cIm9uUG9pbnRlckVudGVyXCIsdz1cInBvaW50ZXJcIjtKPW51bGw9PWs/aDp1ZShrKTt1PW51bGw9PW4/aDp1ZShuKTtoPW5ldyB0KEYsdytcImxlYXZlXCIsayxjLGUpO2gudGFyZ2V0PUo7aC5yZWxhdGVkVGFyZ2V0PXU7Rj1udWxsO1djKGUpPT09ZCYmKHQ9bmV3IHQoeCx3K1wiZW50ZXJcIixuLGMsZSksdC50YXJnZXQ9dSx0LnJlbGF0ZWRUYXJnZXQ9SixGPXQpO0o9RjtpZihrJiZuKWI6e3Q9azt4PW47dz0wO2Zvcih1PXQ7dTt1PXZmKHUpKXcrKzt1PTA7Zm9yKEY9eDtGO0Y9dmYoRikpdSsrO2Zvcig7MDx3LXU7KXQ9dmYodCksdy0tO2Zvcig7MDx1LXc7KXg9XG52Zih4KSx1LS07Zm9yKDt3LS07KXtpZih0PT09eHx8bnVsbCE9PXgmJnQ9PT14LmFsdGVybmF0ZSlicmVhayBiO3Q9dmYodCk7eD12Zih4KX10PW51bGx9ZWxzZSB0PW51bGw7bnVsbCE9PWsmJndmKGcsaCxrLHQsITEpO251bGwhPT1uJiZudWxsIT09SiYmd2YoZyxKLG4sdCwhMCl9fX1hOntoPWQ/dWUoZCk6d2luZG93O2s9aC5ub2RlTmFtZSYmaC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKFwic2VsZWN0XCI9PT1rfHxcImlucHV0XCI9PT1rJiZcImZpbGVcIj09PWgudHlwZSl2YXIgbmE9dmU7ZWxzZSBpZihtZShoKSlpZih3ZSluYT1GZTtlbHNle25hPURlO3ZhciB4YT1DZX1lbHNlKGs9aC5ub2RlTmFtZSkmJlwiaW5wdXRcIj09PWsudG9Mb3dlckNhc2UoKSYmKFwiY2hlY2tib3hcIj09PWgudHlwZXx8XCJyYWRpb1wiPT09aC50eXBlKSYmKG5hPUVlKTtpZihuYSYmKG5hPW5hKGEsZCkpKXtuZShnLG5hLGMsZSk7YnJlYWsgYX14YSYmeGEoYSxoLGQpO1wiZm9jdXNvdXRcIj09PWEmJih4YT1oLl93cmFwcGVyU3RhdGUpJiZcbnhhLmNvbnRyb2xsZWQmJlwibnVtYmVyXCI9PT1oLnR5cGUmJmNiKGgsXCJudW1iZXJcIixoLnZhbHVlKX14YT1kP3VlKGQpOndpbmRvdztzd2l0Y2goYSl7Y2FzZSBcImZvY3VzaW5cIjppZihtZSh4YSl8fFwidHJ1ZVwiPT09eGEuY29udGVudEVkaXRhYmxlKVFlPXhhLFJlPWQsU2U9bnVsbDticmVhaztjYXNlIFwiZm9jdXNvdXRcIjpTZT1SZT1RZT1udWxsO2JyZWFrO2Nhc2UgXCJtb3VzZWRvd25cIjpUZT0hMDticmVhaztjYXNlIFwiY29udGV4dG1lbnVcIjpjYXNlIFwibW91c2V1cFwiOmNhc2UgXCJkcmFnZW5kXCI6VGU9ITE7VWUoZyxjLGUpO2JyZWFrO2Nhc2UgXCJzZWxlY3Rpb25jaGFuZ2VcIjppZihQZSlicmVhaztjYXNlIFwia2V5ZG93blwiOmNhc2UgXCJrZXl1cFwiOlVlKGcsYyxlKX12YXIgJGE7aWYoYWUpYjp7c3dpdGNoKGEpe2Nhc2UgXCJjb21wb3NpdGlvbnN0YXJ0XCI6dmFyIGJhPVwib25Db21wb3NpdGlvblN0YXJ0XCI7YnJlYWsgYjtjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpiYT1cIm9uQ29tcG9zaXRpb25FbmRcIjtcbmJyZWFrIGI7Y2FzZSBcImNvbXBvc2l0aW9udXBkYXRlXCI6YmE9XCJvbkNvbXBvc2l0aW9uVXBkYXRlXCI7YnJlYWsgYn1iYT12b2lkIDB9ZWxzZSBpZT9nZShhLGMpJiYoYmE9XCJvbkNvbXBvc2l0aW9uRW5kXCIpOlwia2V5ZG93blwiPT09YSYmMjI5PT09Yy5rZXlDb2RlJiYoYmE9XCJvbkNvbXBvc2l0aW9uU3RhcnRcIik7YmEmJihkZSYmXCJrb1wiIT09Yy5sb2NhbGUmJihpZXx8XCJvbkNvbXBvc2l0aW9uU3RhcnRcIiE9PWJhP1wib25Db21wb3NpdGlvbkVuZFwiPT09YmEmJmllJiYoJGE9bmQoKSk6KGtkPWUsbGQ9XCJ2YWx1ZVwiaW4ga2Q/a2QudmFsdWU6a2QudGV4dENvbnRlbnQsaWU9ITApKSx4YT1vZShkLGJhKSwwPHhhLmxlbmd0aCYmKGJhPW5ldyBMZChiYSxhLG51bGwsYyxlKSxnLnB1c2goe2V2ZW50OmJhLGxpc3RlbmVyczp4YX0pLCRhP2JhLmRhdGE9JGE6KCRhPWhlKGMpLG51bGwhPT0kYSYmKGJhLmRhdGE9JGEpKSkpO2lmKCRhPWNlP2plKGEsYyk6a2UoYSxjKSlkPW9lKGQsXCJvbkJlZm9yZUlucHV0XCIpLFxuMDxkLmxlbmd0aCYmKGU9bmV3IExkKFwib25CZWZvcmVJbnB1dFwiLFwiYmVmb3JlaW5wdXRcIixudWxsLGMsZSksZy5wdXNoKHtldmVudDplLGxpc3RlbmVyczpkfSksZS5kYXRhPSRhKX1zZShnLGIpfSl9ZnVuY3Rpb24gdGYoYSxiLGMpe3JldHVybntpbnN0YW5jZTphLGxpc3RlbmVyOmIsY3VycmVudFRhcmdldDpjfX1mdW5jdGlvbiBvZShhLGIpe2Zvcih2YXIgYz1iK1wiQ2FwdHVyZVwiLGQ9W107bnVsbCE9PWE7KXt2YXIgZT1hLGY9ZS5zdGF0ZU5vZGU7NT09PWUudGFnJiZudWxsIT09ZiYmKGU9ZixmPUtiKGEsYyksbnVsbCE9ZiYmZC51bnNoaWZ0KHRmKGEsZixlKSksZj1LYihhLGIpLG51bGwhPWYmJmQucHVzaCh0ZihhLGYsZSkpKTthPWEucmV0dXJufXJldHVybiBkfWZ1bmN0aW9uIHZmKGEpe2lmKG51bGw9PT1hKXJldHVybiBudWxsO2RvIGE9YS5yZXR1cm47d2hpbGUoYSYmNSE9PWEudGFnKTtyZXR1cm4gYT9hOm51bGx9XG5mdW5jdGlvbiB3ZihhLGIsYyxkLGUpe2Zvcih2YXIgZj1iLl9yZWFjdE5hbWUsZz1bXTtudWxsIT09YyYmYyE9PWQ7KXt2YXIgaD1jLGs9aC5hbHRlcm5hdGUsbD1oLnN0YXRlTm9kZTtpZihudWxsIT09ayYmaz09PWQpYnJlYWs7NT09PWgudGFnJiZudWxsIT09bCYmKGg9bCxlPyhrPUtiKGMsZiksbnVsbCE9ayYmZy51bnNoaWZ0KHRmKGMsayxoKSkpOmV8fChrPUtiKGMsZiksbnVsbCE9ayYmZy5wdXNoKHRmKGMsayxoKSkpKTtjPWMucmV0dXJufTAhPT1nLmxlbmd0aCYmYS5wdXNoKHtldmVudDpiLGxpc3RlbmVyczpnfSl9dmFyIHhmPS9cXHJcXG4/L2cseWY9L1xcdTAwMDB8XFx1RkZGRC9nO2Z1bmN0aW9uIHpmKGEpe3JldHVybihcInN0cmluZ1wiPT09dHlwZW9mIGE/YTpcIlwiK2EpLnJlcGxhY2UoeGYsXCJcXG5cIikucmVwbGFjZSh5ZixcIlwiKX1mdW5jdGlvbiBBZihhLGIsYyl7Yj16ZihiKTtpZih6ZihhKSE9PWImJmMpdGhyb3cgRXJyb3IocCg0MjUpKTt9ZnVuY3Rpb24gQmYoKXt9XG52YXIgQ2Y9bnVsbCxEZj1udWxsO2Z1bmN0aW9uIEVmKGEsYil7cmV0dXJuXCJ0ZXh0YXJlYVwiPT09YXx8XCJub3NjcmlwdFwiPT09YXx8XCJzdHJpbmdcIj09PXR5cGVvZiBiLmNoaWxkcmVufHxcIm51bWJlclwiPT09dHlwZW9mIGIuY2hpbGRyZW58fFwib2JqZWN0XCI9PT10eXBlb2YgYi5kYW5nZXJvdXNseVNldElubmVySFRNTCYmbnVsbCE9PWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwmJm51bGwhPWIuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sfVxudmFyIEZmPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6dm9pZCAwLEdmPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnZvaWQgMCxIZj1cImZ1bmN0aW9uXCI9PT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlOnZvaWQgMCxKZj1cImZ1bmN0aW9uXCI9PT10eXBlb2YgcXVldWVNaWNyb3Rhc2s/cXVldWVNaWNyb3Rhc2s6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBIZj9mdW5jdGlvbihhKXtyZXR1cm4gSGYucmVzb2x2ZShudWxsKS50aGVuKGEpLmNhdGNoKElmKX06RmY7ZnVuY3Rpb24gSWYoYSl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSl9XG5mdW5jdGlvbiBLZihhLGIpe3ZhciBjPWIsZD0wO2Rve3ZhciBlPWMubmV4dFNpYmxpbmc7YS5yZW1vdmVDaGlsZChjKTtpZihlJiY4PT09ZS5ub2RlVHlwZSlpZihjPWUuZGF0YSxcIi8kXCI9PT1jKXtpZigwPT09ZCl7YS5yZW1vdmVDaGlsZChlKTtiZChiKTtyZXR1cm59ZC0tfWVsc2VcIiRcIiE9PWMmJlwiJD9cIiE9PWMmJlwiJCFcIiE9PWN8fGQrKztjPWV9d2hpbGUoYyk7YmQoYil9ZnVuY3Rpb24gTGYoYSl7Zm9yKDtudWxsIT1hO2E9YS5uZXh0U2libGluZyl7dmFyIGI9YS5ub2RlVHlwZTtpZigxPT09Ynx8Mz09PWIpYnJlYWs7aWYoOD09PWIpe2I9YS5kYXRhO2lmKFwiJFwiPT09Ynx8XCIkIVwiPT09Ynx8XCIkP1wiPT09YilicmVhaztpZihcIi8kXCI9PT1iKXJldHVybiBudWxsfX1yZXR1cm4gYX1cbmZ1bmN0aW9uIE1mKGEpe2E9YS5wcmV2aW91c1NpYmxpbmc7Zm9yKHZhciBiPTA7YTspe2lmKDg9PT1hLm5vZGVUeXBlKXt2YXIgYz1hLmRhdGE7aWYoXCIkXCI9PT1jfHxcIiQhXCI9PT1jfHxcIiQ/XCI9PT1jKXtpZigwPT09YilyZXR1cm4gYTtiLS19ZWxzZVwiLyRcIj09PWMmJmIrK31hPWEucHJldmlvdXNTaWJsaW5nfXJldHVybiBudWxsfXZhciBOZj1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSxPZj1cIl9fcmVhY3RGaWJlciRcIitOZixQZj1cIl9fcmVhY3RQcm9wcyRcIitOZix1Zj1cIl9fcmVhY3RDb250YWluZXIkXCIrTmYsb2Y9XCJfX3JlYWN0RXZlbnRzJFwiK05mLFFmPVwiX19yZWFjdExpc3RlbmVycyRcIitOZixSZj1cIl9fcmVhY3RIYW5kbGVzJFwiK05mO1xuZnVuY3Rpb24gV2MoYSl7dmFyIGI9YVtPZl07aWYoYilyZXR1cm4gYjtmb3IodmFyIGM9YS5wYXJlbnROb2RlO2M7KXtpZihiPWNbdWZdfHxjW09mXSl7Yz1iLmFsdGVybmF0ZTtpZihudWxsIT09Yi5jaGlsZHx8bnVsbCE9PWMmJm51bGwhPT1jLmNoaWxkKWZvcihhPU1mKGEpO251bGwhPT1hOyl7aWYoYz1hW09mXSlyZXR1cm4gYzthPU1mKGEpfXJldHVybiBifWE9YztjPWEucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBDYihhKXthPWFbT2ZdfHxhW3VmXTtyZXR1cm4hYXx8NSE9PWEudGFnJiY2IT09YS50YWcmJjEzIT09YS50YWcmJjMhPT1hLnRhZz9udWxsOmF9ZnVuY3Rpb24gdWUoYSl7aWYoNT09PWEudGFnfHw2PT09YS50YWcpcmV0dXJuIGEuc3RhdGVOb2RlO3Rocm93IEVycm9yKHAoMzMpKTt9ZnVuY3Rpb24gRGIoYSl7cmV0dXJuIGFbUGZdfHxudWxsfXZhciBTZj1bXSxUZj0tMTtmdW5jdGlvbiBVZihhKXtyZXR1cm57Y3VycmVudDphfX1cbmZ1bmN0aW9uIEUoYSl7MD5UZnx8KGEuY3VycmVudD1TZltUZl0sU2ZbVGZdPW51bGwsVGYtLSl9ZnVuY3Rpb24gRyhhLGIpe1RmKys7U2ZbVGZdPWEuY3VycmVudDthLmN1cnJlbnQ9Yn12YXIgVmY9e30sSD1VZihWZiksV2Y9VWYoITEpLFhmPVZmO2Z1bmN0aW9uIFlmKGEsYil7dmFyIGM9YS50eXBlLmNvbnRleHRUeXBlcztpZighYylyZXR1cm4gVmY7dmFyIGQ9YS5zdGF0ZU5vZGU7aWYoZCYmZC5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PT09YilyZXR1cm4gZC5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dDt2YXIgZT17fSxmO2ZvcihmIGluIGMpZVtmXT1iW2ZdO2QmJihhPWEuc3RhdGVOb2RlLGEuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD1iLGEuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ9ZSk7cmV0dXJuIGV9XG5mdW5jdGlvbiBaZihhKXthPWEuY2hpbGRDb250ZXh0VHlwZXM7cmV0dXJuIG51bGwhPT1hJiZ2b2lkIDAhPT1hfWZ1bmN0aW9uICRmKCl7RShXZik7RShIKX1mdW5jdGlvbiBhZyhhLGIsYyl7aWYoSC5jdXJyZW50IT09VmYpdGhyb3cgRXJyb3IocCgxNjgpKTtHKEgsYik7RyhXZixjKX1mdW5jdGlvbiBiZyhhLGIsYyl7dmFyIGQ9YS5zdGF0ZU5vZGU7Yj1iLmNoaWxkQ29udGV4dFR5cGVzO2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBkLmdldENoaWxkQ29udGV4dClyZXR1cm4gYztkPWQuZ2V0Q2hpbGRDb250ZXh0KCk7Zm9yKHZhciBlIGluIGQpaWYoIShlIGluIGIpKXRocm93IEVycm9yKHAoMTA4LFJhKGEpfHxcIlVua25vd25cIixlKSk7cmV0dXJuIEEoe30sYyxkKX1cbmZ1bmN0aW9uIGNnKGEpe2E9KGE9YS5zdGF0ZU5vZGUpJiZhLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0fHxWZjtYZj1ILmN1cnJlbnQ7RyhILGEpO0coV2YsV2YuY3VycmVudCk7cmV0dXJuITB9ZnVuY3Rpb24gZGcoYSxiLGMpe3ZhciBkPWEuc3RhdGVOb2RlO2lmKCFkKXRocm93IEVycm9yKHAoMTY5KSk7Yz8oYT1iZyhhLGIsWGYpLGQuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQ9YSxFKFdmKSxFKEgpLEcoSCxhKSk6RShXZik7RyhXZixjKX12YXIgZWc9bnVsbCxmZz0hMSxnZz0hMTtmdW5jdGlvbiBoZyhhKXtudWxsPT09ZWc/ZWc9W2FdOmVnLnB1c2goYSl9ZnVuY3Rpb24gaWcoYSl7Zmc9ITA7aGcoYSl9XG5mdW5jdGlvbiBqZygpe2lmKCFnZyYmbnVsbCE9PWVnKXtnZz0hMDt2YXIgYT0wLGI9Qzt0cnl7dmFyIGM9ZWc7Zm9yKEM9MTthPGMubGVuZ3RoO2ErKyl7dmFyIGQ9Y1thXTtkbyBkPWQoITApO3doaWxlKG51bGwhPT1kKX1lZz1udWxsO2ZnPSExfWNhdGNoKGUpe3Rocm93IG51bGwhPT1lZyYmKGVnPWVnLnNsaWNlKGErMSkpLGFjKGZjLGpnKSxlO31maW5hbGx5e0M9YixnZz0hMX19cmV0dXJuIG51bGx9dmFyIGtnPVtdLGxnPTAsbWc9bnVsbCxuZz0wLG9nPVtdLHBnPTAscWc9bnVsbCxyZz0xLHNnPVwiXCI7ZnVuY3Rpb24gdGcoYSxiKXtrZ1tsZysrXT1uZztrZ1tsZysrXT1tZzttZz1hO25nPWJ9XG5mdW5jdGlvbiB1ZyhhLGIsYyl7b2dbcGcrK109cmc7b2dbcGcrK109c2c7b2dbcGcrK109cWc7cWc9YTt2YXIgZD1yZzthPXNnO3ZhciBlPTMyLW9jKGQpLTE7ZCY9figxPDxlKTtjKz0xO3ZhciBmPTMyLW9jKGIpK2U7aWYoMzA8Zil7dmFyIGc9ZS1lJTU7Zj0oZCYoMTw8ZyktMSkudG9TdHJpbmcoMzIpO2Q+Pj1nO2UtPWc7cmc9MTw8MzItb2MoYikrZXxjPDxlfGQ7c2c9ZithfWVsc2Ugcmc9MTw8ZnxjPDxlfGQsc2c9YX1mdW5jdGlvbiB2ZyhhKXtudWxsIT09YS5yZXR1cm4mJih0ZyhhLDEpLHVnKGEsMSwwKSl9ZnVuY3Rpb24gd2coYSl7Zm9yKDthPT09bWc7KW1nPWtnWy0tbGddLGtnW2xnXT1udWxsLG5nPWtnWy0tbGddLGtnW2xnXT1udWxsO2Zvcig7YT09PXFnOylxZz1vZ1stLXBnXSxvZ1twZ109bnVsbCxzZz1vZ1stLXBnXSxvZ1twZ109bnVsbCxyZz1vZ1stLXBnXSxvZ1twZ109bnVsbH12YXIgeGc9bnVsbCx5Zz1udWxsLEk9ITEsemc9bnVsbDtcbmZ1bmN0aW9uIEFnKGEsYil7dmFyIGM9QmcoNSxudWxsLG51bGwsMCk7Yy5lbGVtZW50VHlwZT1cIkRFTEVURURcIjtjLnN0YXRlTm9kZT1iO2MucmV0dXJuPWE7Yj1hLmRlbGV0aW9ucztudWxsPT09Yj8oYS5kZWxldGlvbnM9W2NdLGEuZmxhZ3N8PTE2KTpiLnB1c2goYyl9XG5mdW5jdGlvbiBDZyhhLGIpe3N3aXRjaChhLnRhZyl7Y2FzZSA1OnZhciBjPWEudHlwZTtiPTEhPT1iLm5vZGVUeXBlfHxjLnRvTG93ZXJDYXNlKCkhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/bnVsbDpiO3JldHVybiBudWxsIT09Yj8oYS5zdGF0ZU5vZGU9Yix4Zz1hLHlnPUxmKGIuZmlyc3RDaGlsZCksITApOiExO2Nhc2UgNjpyZXR1cm4gYj1cIlwiPT09YS5wZW5kaW5nUHJvcHN8fDMhPT1iLm5vZGVUeXBlP251bGw6YixudWxsIT09Yj8oYS5zdGF0ZU5vZGU9Yix4Zz1hLHlnPW51bGwsITApOiExO2Nhc2UgMTM6cmV0dXJuIGI9OCE9PWIubm9kZVR5cGU/bnVsbDpiLG51bGwhPT1iPyhjPW51bGwhPT1xZz97aWQ6cmcsb3ZlcmZsb3c6c2d9Om51bGwsYS5tZW1vaXplZFN0YXRlPXtkZWh5ZHJhdGVkOmIsdHJlZUNvbnRleHQ6YyxyZXRyeUxhbmU6MTA3Mzc0MTgyNH0sYz1CZygxOCxudWxsLG51bGwsMCksYy5zdGF0ZU5vZGU9YixjLnJldHVybj1hLGEuY2hpbGQ9Yyx4Zz1hLHlnPVxubnVsbCwhMCk6ITE7ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gRGcoYSl7cmV0dXJuIDAhPT0oYS5tb2RlJjEpJiYwPT09KGEuZmxhZ3MmMTI4KX1mdW5jdGlvbiBFZyhhKXtpZihJKXt2YXIgYj15ZztpZihiKXt2YXIgYz1iO2lmKCFDZyhhLGIpKXtpZihEZyhhKSl0aHJvdyBFcnJvcihwKDQxOCkpO2I9TGYoYy5uZXh0U2libGluZyk7dmFyIGQ9eGc7YiYmQ2coYSxiKT9BZyhkLGMpOihhLmZsYWdzPWEuZmxhZ3MmLTQwOTd8MixJPSExLHhnPWEpfX1lbHNle2lmKERnKGEpKXRocm93IEVycm9yKHAoNDE4KSk7YS5mbGFncz1hLmZsYWdzJi00MDk3fDI7ST0hMTt4Zz1hfX19ZnVuY3Rpb24gRmcoYSl7Zm9yKGE9YS5yZXR1cm47bnVsbCE9PWEmJjUhPT1hLnRhZyYmMyE9PWEudGFnJiYxMyE9PWEudGFnOylhPWEucmV0dXJuO3hnPWF9XG5mdW5jdGlvbiBHZyhhKXtpZihhIT09eGcpcmV0dXJuITE7aWYoIUkpcmV0dXJuIEZnKGEpLEk9ITAsITE7dmFyIGI7KGI9MyE9PWEudGFnKSYmIShiPTUhPT1hLnRhZykmJihiPWEudHlwZSxiPVwiaGVhZFwiIT09YiYmXCJib2R5XCIhPT1iJiYhRWYoYS50eXBlLGEubWVtb2l6ZWRQcm9wcykpO2lmKGImJihiPXlnKSl7aWYoRGcoYSkpdGhyb3cgSGcoKSxFcnJvcihwKDQxOCkpO2Zvcig7YjspQWcoYSxiKSxiPUxmKGIubmV4dFNpYmxpbmcpfUZnKGEpO2lmKDEzPT09YS50YWcpe2E9YS5tZW1vaXplZFN0YXRlO2E9bnVsbCE9PWE/YS5kZWh5ZHJhdGVkOm51bGw7aWYoIWEpdGhyb3cgRXJyb3IocCgzMTcpKTthOnthPWEubmV4dFNpYmxpbmc7Zm9yKGI9MDthOyl7aWYoOD09PWEubm9kZVR5cGUpe3ZhciBjPWEuZGF0YTtpZihcIi8kXCI9PT1jKXtpZigwPT09Yil7eWc9TGYoYS5uZXh0U2libGluZyk7YnJlYWsgYX1iLS19ZWxzZVwiJFwiIT09YyYmXCIkIVwiIT09YyYmXCIkP1wiIT09Y3x8YisrfWE9YS5uZXh0U2libGluZ315Zz1cbm51bGx9fWVsc2UgeWc9eGc/TGYoYS5zdGF0ZU5vZGUubmV4dFNpYmxpbmcpOm51bGw7cmV0dXJuITB9ZnVuY3Rpb24gSGcoKXtmb3IodmFyIGE9eWc7YTspYT1MZihhLm5leHRTaWJsaW5nKX1mdW5jdGlvbiBJZygpe3lnPXhnPW51bGw7ST0hMX1mdW5jdGlvbiBKZyhhKXtudWxsPT09emc/emc9W2FdOnpnLnB1c2goYSl9dmFyIEtnPXVhLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnO1xuZnVuY3Rpb24gTGcoYSxiLGMpe2E9Yy5yZWY7aWYobnVsbCE9PWEmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhJiZcIm9iamVjdFwiIT09dHlwZW9mIGEpe2lmKGMuX293bmVyKXtjPWMuX293bmVyO2lmKGMpe2lmKDEhPT1jLnRhZyl0aHJvdyBFcnJvcihwKDMwOSkpO3ZhciBkPWMuc3RhdGVOb2RlfWlmKCFkKXRocm93IEVycm9yKHAoMTQ3LGEpKTt2YXIgZT1kLGY9XCJcIithO2lmKG51bGwhPT1iJiZudWxsIT09Yi5yZWYmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBiLnJlZiYmYi5yZWYuX3N0cmluZ1JlZj09PWYpcmV0dXJuIGIucmVmO2I9ZnVuY3Rpb24oYSl7dmFyIGI9ZS5yZWZzO251bGw9PT1hP2RlbGV0ZSBiW2ZdOmJbZl09YX07Yi5fc3RyaW5nUmVmPWY7cmV0dXJuIGJ9aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBhKXRocm93IEVycm9yKHAoMjg0KSk7aWYoIWMuX293bmVyKXRocm93IEVycm9yKHAoMjkwLGEpKTt9cmV0dXJuIGF9XG5mdW5jdGlvbiBNZyhhLGIpe2E9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGIpO3Rocm93IEVycm9yKHAoMzEsXCJbb2JqZWN0IE9iamVjdF1cIj09PWE/XCJvYmplY3Qgd2l0aCBrZXlzIHtcIitPYmplY3Qua2V5cyhiKS5qb2luKFwiLCBcIikrXCJ9XCI6YSkpO31mdW5jdGlvbiBOZyhhKXt2YXIgYj1hLl9pbml0O3JldHVybiBiKGEuX3BheWxvYWQpfVxuZnVuY3Rpb24gT2coYSl7ZnVuY3Rpb24gYihiLGMpe2lmKGEpe3ZhciBkPWIuZGVsZXRpb25zO251bGw9PT1kPyhiLmRlbGV0aW9ucz1bY10sYi5mbGFnc3w9MTYpOmQucHVzaChjKX19ZnVuY3Rpb24gYyhjLGQpe2lmKCFhKXJldHVybiBudWxsO2Zvcig7bnVsbCE9PWQ7KWIoYyxkKSxkPWQuc2libGluZztyZXR1cm4gbnVsbH1mdW5jdGlvbiBkKGEsYil7Zm9yKGE9bmV3IE1hcDtudWxsIT09YjspbnVsbCE9PWIua2V5P2Euc2V0KGIua2V5LGIpOmEuc2V0KGIuaW5kZXgsYiksYj1iLnNpYmxpbmc7cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe2E9UGcoYSxiKTthLmluZGV4PTA7YS5zaWJsaW5nPW51bGw7cmV0dXJuIGF9ZnVuY3Rpb24gZihiLGMsZCl7Yi5pbmRleD1kO2lmKCFhKXJldHVybiBiLmZsYWdzfD0xMDQ4NTc2LGM7ZD1iLmFsdGVybmF0ZTtpZihudWxsIT09ZClyZXR1cm4gZD1kLmluZGV4LGQ8Yz8oYi5mbGFnc3w9MixjKTpkO2IuZmxhZ3N8PTI7cmV0dXJuIGN9ZnVuY3Rpb24gZyhiKXthJiZcbm51bGw9PT1iLmFsdGVybmF0ZSYmKGIuZmxhZ3N8PTIpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMsZCl7aWYobnVsbD09PWJ8fDYhPT1iLnRhZylyZXR1cm4gYj1RZyhjLGEubW9kZSxkKSxiLnJldHVybj1hLGI7Yj1lKGIsYyk7Yi5yZXR1cm49YTtyZXR1cm4gYn1mdW5jdGlvbiBrKGEsYixjLGQpe3ZhciBmPWMudHlwZTtpZihmPT09eWEpcmV0dXJuIG0oYSxiLGMucHJvcHMuY2hpbGRyZW4sZCxjLmtleSk7aWYobnVsbCE9PWImJihiLmVsZW1lbnRUeXBlPT09Znx8XCJvYmplY3RcIj09PXR5cGVvZiBmJiZudWxsIT09ZiYmZi4kJHR5cGVvZj09PUhhJiZOZyhmKT09PWIudHlwZSkpcmV0dXJuIGQ9ZShiLGMucHJvcHMpLGQucmVmPUxnKGEsYixjKSxkLnJldHVybj1hLGQ7ZD1SZyhjLnR5cGUsYy5rZXksYy5wcm9wcyxudWxsLGEubW9kZSxkKTtkLnJlZj1MZyhhLGIsYyk7ZC5yZXR1cm49YTtyZXR1cm4gZH1mdW5jdGlvbiBsKGEsYixjLGQpe2lmKG51bGw9PT1ifHw0IT09Yi50YWd8fFxuYi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyE9PWMuY29udGFpbmVySW5mb3x8Yi5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24hPT1jLmltcGxlbWVudGF0aW9uKXJldHVybiBiPVNnKGMsYS5tb2RlLGQpLGIucmV0dXJuPWEsYjtiPWUoYixjLmNoaWxkcmVufHxbXSk7Yi5yZXR1cm49YTtyZXR1cm4gYn1mdW5jdGlvbiBtKGEsYixjLGQsZil7aWYobnVsbD09PWJ8fDchPT1iLnRhZylyZXR1cm4gYj1UZyhjLGEubW9kZSxkLGYpLGIucmV0dXJuPWEsYjtiPWUoYixjKTtiLnJldHVybj1hO3JldHVybiBifWZ1bmN0aW9uIHEoYSxiLGMpe2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYiYmXCJcIiE9PWJ8fFwibnVtYmVyXCI9PT10eXBlb2YgYilyZXR1cm4gYj1RZyhcIlwiK2IsYS5tb2RlLGMpLGIucmV0dXJuPWEsYjtpZihcIm9iamVjdFwiPT09dHlwZW9mIGImJm51bGwhPT1iKXtzd2l0Y2goYi4kJHR5cGVvZil7Y2FzZSB2YTpyZXR1cm4gYz1SZyhiLnR5cGUsYi5rZXksYi5wcm9wcyxudWxsLGEubW9kZSxjKSxcbmMucmVmPUxnKGEsbnVsbCxiKSxjLnJldHVybj1hLGM7Y2FzZSB3YTpyZXR1cm4gYj1TZyhiLGEubW9kZSxjKSxiLnJldHVybj1hLGI7Y2FzZSBIYTp2YXIgZD1iLl9pbml0O3JldHVybiBxKGEsZChiLl9wYXlsb2FkKSxjKX1pZihlYihiKXx8S2EoYikpcmV0dXJuIGI9VGcoYixhLm1vZGUsYyxudWxsKSxiLnJldHVybj1hLGI7TWcoYSxiKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiByKGEsYixjLGQpe3ZhciBlPW51bGwhPT1iP2Iua2V5Om51bGw7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjJiZcIlwiIT09Y3x8XCJudW1iZXJcIj09PXR5cGVvZiBjKXJldHVybiBudWxsIT09ZT9udWxsOmgoYSxiLFwiXCIrYyxkKTtpZihcIm9iamVjdFwiPT09dHlwZW9mIGMmJm51bGwhPT1jKXtzd2l0Y2goYy4kJHR5cGVvZil7Y2FzZSB2YTpyZXR1cm4gYy5rZXk9PT1lP2soYSxiLGMsZCk6bnVsbDtjYXNlIHdhOnJldHVybiBjLmtleT09PWU/bChhLGIsYyxkKTpudWxsO2Nhc2UgSGE6cmV0dXJuIGU9Yy5faW5pdCxyKGEsXG5iLGUoYy5fcGF5bG9hZCksZCl9aWYoZWIoYyl8fEthKGMpKXJldHVybiBudWxsIT09ZT9udWxsOm0oYSxiLGMsZCxudWxsKTtNZyhhLGMpfXJldHVybiBudWxsfWZ1bmN0aW9uIHkoYSxiLGMsZCxlKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGQmJlwiXCIhPT1kfHxcIm51bWJlclwiPT09dHlwZW9mIGQpcmV0dXJuIGE9YS5nZXQoYyl8fG51bGwsaChiLGEsXCJcIitkLGUpO2lmKFwib2JqZWN0XCI9PT10eXBlb2YgZCYmbnVsbCE9PWQpe3N3aXRjaChkLiQkdHlwZW9mKXtjYXNlIHZhOnJldHVybiBhPWEuZ2V0KG51bGw9PT1kLmtleT9jOmQua2V5KXx8bnVsbCxrKGIsYSxkLGUpO2Nhc2Ugd2E6cmV0dXJuIGE9YS5nZXQobnVsbD09PWQua2V5P2M6ZC5rZXkpfHxudWxsLGwoYixhLGQsZSk7Y2FzZSBIYTp2YXIgZj1kLl9pbml0O3JldHVybiB5KGEsYixjLGYoZC5fcGF5bG9hZCksZSl9aWYoZWIoZCl8fEthKGQpKXJldHVybiBhPWEuZ2V0KGMpfHxudWxsLG0oYixhLGQsZSxudWxsKTtNZyhiLGQpfXJldHVybiBudWxsfVxuZnVuY3Rpb24gbihlLGcsaCxrKXtmb3IodmFyIGw9bnVsbCxtPW51bGwsdT1nLHc9Zz0wLHg9bnVsbDtudWxsIT09dSYmdzxoLmxlbmd0aDt3Kyspe3UuaW5kZXg+dz8oeD11LHU9bnVsbCk6eD11LnNpYmxpbmc7dmFyIG49cihlLHUsaFt3XSxrKTtpZihudWxsPT09bil7bnVsbD09PXUmJih1PXgpO2JyZWFrfWEmJnUmJm51bGw9PT1uLmFsdGVybmF0ZSYmYihlLHUpO2c9ZihuLGcsdyk7bnVsbD09PW0/bD1uOm0uc2libGluZz1uO209bjt1PXh9aWYodz09PWgubGVuZ3RoKXJldHVybiBjKGUsdSksSSYmdGcoZSx3KSxsO2lmKG51bGw9PT11KXtmb3IoO3c8aC5sZW5ndGg7dysrKXU9cShlLGhbd10sayksbnVsbCE9PXUmJihnPWYodSxnLHcpLG51bGw9PT1tP2w9dTptLnNpYmxpbmc9dSxtPXUpO0kmJnRnKGUsdyk7cmV0dXJuIGx9Zm9yKHU9ZChlLHUpO3c8aC5sZW5ndGg7dysrKXg9eSh1LGUsdyxoW3ddLGspLG51bGwhPT14JiYoYSYmbnVsbCE9PXguYWx0ZXJuYXRlJiZ1LmRlbGV0ZShudWxsPT09XG54LmtleT93Ongua2V5KSxnPWYoeCxnLHcpLG51bGw9PT1tP2w9eDptLnNpYmxpbmc9eCxtPXgpO2EmJnUuZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gYihlLGEpfSk7SSYmdGcoZSx3KTtyZXR1cm4gbH1mdW5jdGlvbiB0KGUsZyxoLGspe3ZhciBsPUthKGgpO2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBsKXRocm93IEVycm9yKHAoMTUwKSk7aD1sLmNhbGwoaCk7aWYobnVsbD09aCl0aHJvdyBFcnJvcihwKDE1MSkpO2Zvcih2YXIgdT1sPW51bGwsbT1nLHc9Zz0wLHg9bnVsbCxuPWgubmV4dCgpO251bGwhPT1tJiYhbi5kb25lO3crKyxuPWgubmV4dCgpKXttLmluZGV4Pnc/KHg9bSxtPW51bGwpOng9bS5zaWJsaW5nO3ZhciB0PXIoZSxtLG4udmFsdWUsayk7aWYobnVsbD09PXQpe251bGw9PT1tJiYobT14KTticmVha31hJiZtJiZudWxsPT09dC5hbHRlcm5hdGUmJmIoZSxtKTtnPWYodCxnLHcpO251bGw9PT11P2w9dDp1LnNpYmxpbmc9dDt1PXQ7bT14fWlmKG4uZG9uZSlyZXR1cm4gYyhlLFxubSksSSYmdGcoZSx3KSxsO2lmKG51bGw9PT1tKXtmb3IoOyFuLmRvbmU7dysrLG49aC5uZXh0KCkpbj1xKGUsbi52YWx1ZSxrKSxudWxsIT09biYmKGc9ZihuLGcsdyksbnVsbD09PXU/bD1uOnUuc2libGluZz1uLHU9bik7SSYmdGcoZSx3KTtyZXR1cm4gbH1mb3IobT1kKGUsbSk7IW4uZG9uZTt3Kyssbj1oLm5leHQoKSluPXkobSxlLHcsbi52YWx1ZSxrKSxudWxsIT09biYmKGEmJm51bGwhPT1uLmFsdGVybmF0ZSYmbS5kZWxldGUobnVsbD09PW4ua2V5P3c6bi5rZXkpLGc9ZihuLGcsdyksbnVsbD09PXU/bD1uOnUuc2libGluZz1uLHU9bik7YSYmbS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBiKGUsYSl9KTtJJiZ0ZyhlLHcpO3JldHVybiBsfWZ1bmN0aW9uIEooYSxkLGYsaCl7XCJvYmplY3RcIj09PXR5cGVvZiBmJiZudWxsIT09ZiYmZi50eXBlPT09eWEmJm51bGw9PT1mLmtleSYmKGY9Zi5wcm9wcy5jaGlsZHJlbik7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBmJiZudWxsIT09Zil7c3dpdGNoKGYuJCR0eXBlb2Ype2Nhc2UgdmE6YTp7Zm9yKHZhciBrPVxuZi5rZXksbD1kO251bGwhPT1sOyl7aWYobC5rZXk9PT1rKXtrPWYudHlwZTtpZihrPT09eWEpe2lmKDc9PT1sLnRhZyl7YyhhLGwuc2libGluZyk7ZD1lKGwsZi5wcm9wcy5jaGlsZHJlbik7ZC5yZXR1cm49YTthPWQ7YnJlYWsgYX19ZWxzZSBpZihsLmVsZW1lbnRUeXBlPT09a3x8XCJvYmplY3RcIj09PXR5cGVvZiBrJiZudWxsIT09ayYmay4kJHR5cGVvZj09PUhhJiZOZyhrKT09PWwudHlwZSl7YyhhLGwuc2libGluZyk7ZD1lKGwsZi5wcm9wcyk7ZC5yZWY9TGcoYSxsLGYpO2QucmV0dXJuPWE7YT1kO2JyZWFrIGF9YyhhLGwpO2JyZWFrfWVsc2UgYihhLGwpO2w9bC5zaWJsaW5nfWYudHlwZT09PXlhPyhkPVRnKGYucHJvcHMuY2hpbGRyZW4sYS5tb2RlLGgsZi5rZXkpLGQucmV0dXJuPWEsYT1kKTooaD1SZyhmLnR5cGUsZi5rZXksZi5wcm9wcyxudWxsLGEubW9kZSxoKSxoLnJlZj1MZyhhLGQsZiksaC5yZXR1cm49YSxhPWgpfXJldHVybiBnKGEpO2Nhc2Ugd2E6YTp7Zm9yKGw9Zi5rZXk7bnVsbCE9PVxuZDspe2lmKGQua2V5PT09bClpZig0PT09ZC50YWcmJmQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm89PT1mLmNvbnRhaW5lckluZm8mJmQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uPT09Zi5pbXBsZW1lbnRhdGlvbil7YyhhLGQuc2libGluZyk7ZD1lKGQsZi5jaGlsZHJlbnx8W10pO2QucmV0dXJuPWE7YT1kO2JyZWFrIGF9ZWxzZXtjKGEsZCk7YnJlYWt9ZWxzZSBiKGEsZCk7ZD1kLnNpYmxpbmd9ZD1TZyhmLGEubW9kZSxoKTtkLnJldHVybj1hO2E9ZH1yZXR1cm4gZyhhKTtjYXNlIEhhOnJldHVybiBsPWYuX2luaXQsSihhLGQsbChmLl9wYXlsb2FkKSxoKX1pZihlYihmKSlyZXR1cm4gbihhLGQsZixoKTtpZihLYShmKSlyZXR1cm4gdChhLGQsZixoKTtNZyhhLGYpfXJldHVyblwic3RyaW5nXCI9PT10eXBlb2YgZiYmXCJcIiE9PWZ8fFwibnVtYmVyXCI9PT10eXBlb2YgZj8oZj1cIlwiK2YsbnVsbCE9PWQmJjY9PT1kLnRhZz8oYyhhLGQuc2libGluZyksZD1lKGQsZiksZC5yZXR1cm49YSxhPWQpOlxuKGMoYSxkKSxkPVFnKGYsYS5tb2RlLGgpLGQucmV0dXJuPWEsYT1kKSxnKGEpKTpjKGEsZCl9cmV0dXJuIEp9dmFyIFVnPU9nKCEwKSxWZz1PZyghMSksV2c9VWYobnVsbCksWGc9bnVsbCxZZz1udWxsLFpnPW51bGw7ZnVuY3Rpb24gJGcoKXtaZz1ZZz1YZz1udWxsfWZ1bmN0aW9uIGFoKGEpe3ZhciBiPVdnLmN1cnJlbnQ7RShXZyk7YS5fY3VycmVudFZhbHVlPWJ9ZnVuY3Rpb24gYmgoYSxiLGMpe2Zvcig7bnVsbCE9PWE7KXt2YXIgZD1hLmFsdGVybmF0ZTsoYS5jaGlsZExhbmVzJmIpIT09Yj8oYS5jaGlsZExhbmVzfD1iLG51bGwhPT1kJiYoZC5jaGlsZExhbmVzfD1iKSk6bnVsbCE9PWQmJihkLmNoaWxkTGFuZXMmYikhPT1iJiYoZC5jaGlsZExhbmVzfD1iKTtpZihhPT09YylicmVhazthPWEucmV0dXJufX1cbmZ1bmN0aW9uIGNoKGEsYil7WGc9YTtaZz1ZZz1udWxsO2E9YS5kZXBlbmRlbmNpZXM7bnVsbCE9PWEmJm51bGwhPT1hLmZpcnN0Q29udGV4dCYmKDAhPT0oYS5sYW5lcyZiKSYmKGRoPSEwKSxhLmZpcnN0Q29udGV4dD1udWxsKX1mdW5jdGlvbiBlaChhKXt2YXIgYj1hLl9jdXJyZW50VmFsdWU7aWYoWmchPT1hKWlmKGE9e2NvbnRleHQ6YSxtZW1vaXplZFZhbHVlOmIsbmV4dDpudWxsfSxudWxsPT09WWcpe2lmKG51bGw9PT1YZyl0aHJvdyBFcnJvcihwKDMwOCkpO1lnPWE7WGcuZGVwZW5kZW5jaWVzPXtsYW5lczowLGZpcnN0Q29udGV4dDphfX1lbHNlIFlnPVlnLm5leHQ9YTtyZXR1cm4gYn12YXIgZmg9bnVsbDtmdW5jdGlvbiBnaChhKXtudWxsPT09Zmg/Zmg9W2FdOmZoLnB1c2goYSl9XG5mdW5jdGlvbiBoaChhLGIsYyxkKXt2YXIgZT1iLmludGVybGVhdmVkO251bGw9PT1lPyhjLm5leHQ9YyxnaChiKSk6KGMubmV4dD1lLm5leHQsZS5uZXh0PWMpO2IuaW50ZXJsZWF2ZWQ9YztyZXR1cm4gaWgoYSxkKX1mdW5jdGlvbiBpaChhLGIpe2EubGFuZXN8PWI7dmFyIGM9YS5hbHRlcm5hdGU7bnVsbCE9PWMmJihjLmxhbmVzfD1iKTtjPWE7Zm9yKGE9YS5yZXR1cm47bnVsbCE9PWE7KWEuY2hpbGRMYW5lc3w9YixjPWEuYWx0ZXJuYXRlLG51bGwhPT1jJiYoYy5jaGlsZExhbmVzfD1iKSxjPWEsYT1hLnJldHVybjtyZXR1cm4gMz09PWMudGFnP2Muc3RhdGVOb2RlOm51bGx9dmFyIGpoPSExO2Z1bmN0aW9uIGtoKGEpe2EudXBkYXRlUXVldWU9e2Jhc2VTdGF0ZTphLm1lbW9pemVkU3RhdGUsZmlyc3RCYXNlVXBkYXRlOm51bGwsbGFzdEJhc2VVcGRhdGU6bnVsbCxzaGFyZWQ6e3BlbmRpbmc6bnVsbCxpbnRlcmxlYXZlZDpudWxsLGxhbmVzOjB9LGVmZmVjdHM6bnVsbH19XG5mdW5jdGlvbiBsaChhLGIpe2E9YS51cGRhdGVRdWV1ZTtiLnVwZGF0ZVF1ZXVlPT09YSYmKGIudXBkYXRlUXVldWU9e2Jhc2VTdGF0ZTphLmJhc2VTdGF0ZSxmaXJzdEJhc2VVcGRhdGU6YS5maXJzdEJhc2VVcGRhdGUsbGFzdEJhc2VVcGRhdGU6YS5sYXN0QmFzZVVwZGF0ZSxzaGFyZWQ6YS5zaGFyZWQsZWZmZWN0czphLmVmZmVjdHN9KX1mdW5jdGlvbiBtaChhLGIpe3JldHVybntldmVudFRpbWU6YSxsYW5lOmIsdGFnOjAscGF5bG9hZDpudWxsLGNhbGxiYWNrOm51bGwsbmV4dDpudWxsfX1cbmZ1bmN0aW9uIG5oKGEsYixjKXt2YXIgZD1hLnVwZGF0ZVF1ZXVlO2lmKG51bGw9PT1kKXJldHVybiBudWxsO2Q9ZC5zaGFyZWQ7aWYoMCE9PShLJjIpKXt2YXIgZT1kLnBlbmRpbmc7bnVsbD09PWU/Yi5uZXh0PWI6KGIubmV4dD1lLm5leHQsZS5uZXh0PWIpO2QucGVuZGluZz1iO3JldHVybiBpaChhLGMpfWU9ZC5pbnRlcmxlYXZlZDtudWxsPT09ZT8oYi5uZXh0PWIsZ2goZCkpOihiLm5leHQ9ZS5uZXh0LGUubmV4dD1iKTtkLmludGVybGVhdmVkPWI7cmV0dXJuIGloKGEsYyl9ZnVuY3Rpb24gb2goYSxiLGMpe2I9Yi51cGRhdGVRdWV1ZTtpZihudWxsIT09YiYmKGI9Yi5zaGFyZWQsMCE9PShjJjQxOTQyNDApKSl7dmFyIGQ9Yi5sYW5lcztkJj1hLnBlbmRpbmdMYW5lcztjfD1kO2IubGFuZXM9YztDYyhhLGMpfX1cbmZ1bmN0aW9uIHBoKGEsYil7dmFyIGM9YS51cGRhdGVRdWV1ZSxkPWEuYWx0ZXJuYXRlO2lmKG51bGwhPT1kJiYoZD1kLnVwZGF0ZVF1ZXVlLGM9PT1kKSl7dmFyIGU9bnVsbCxmPW51bGw7Yz1jLmZpcnN0QmFzZVVwZGF0ZTtpZihudWxsIT09Yyl7ZG97dmFyIGc9e2V2ZW50VGltZTpjLmV2ZW50VGltZSxsYW5lOmMubGFuZSx0YWc6Yy50YWcscGF5bG9hZDpjLnBheWxvYWQsY2FsbGJhY2s6Yy5jYWxsYmFjayxuZXh0Om51bGx9O251bGw9PT1mP2U9Zj1nOmY9Zi5uZXh0PWc7Yz1jLm5leHR9d2hpbGUobnVsbCE9PWMpO251bGw9PT1mP2U9Zj1iOmY9Zi5uZXh0PWJ9ZWxzZSBlPWY9YjtjPXtiYXNlU3RhdGU6ZC5iYXNlU3RhdGUsZmlyc3RCYXNlVXBkYXRlOmUsbGFzdEJhc2VVcGRhdGU6ZixzaGFyZWQ6ZC5zaGFyZWQsZWZmZWN0czpkLmVmZmVjdHN9O2EudXBkYXRlUXVldWU9YztyZXR1cm59YT1jLmxhc3RCYXNlVXBkYXRlO251bGw9PT1hP2MuZmlyc3RCYXNlVXBkYXRlPWI6YS5uZXh0PVxuYjtjLmxhc3RCYXNlVXBkYXRlPWJ9XG5mdW5jdGlvbiBxaChhLGIsYyxkKXt2YXIgZT1hLnVwZGF0ZVF1ZXVlO2poPSExO3ZhciBmPWUuZmlyc3RCYXNlVXBkYXRlLGc9ZS5sYXN0QmFzZVVwZGF0ZSxoPWUuc2hhcmVkLnBlbmRpbmc7aWYobnVsbCE9PWgpe2Uuc2hhcmVkLnBlbmRpbmc9bnVsbDt2YXIgaz1oLGw9ay5uZXh0O2submV4dD1udWxsO251bGw9PT1nP2Y9bDpnLm5leHQ9bDtnPWs7dmFyIG09YS5hbHRlcm5hdGU7bnVsbCE9PW0mJihtPW0udXBkYXRlUXVldWUsaD1tLmxhc3RCYXNlVXBkYXRlLGghPT1nJiYobnVsbD09PWg/bS5maXJzdEJhc2VVcGRhdGU9bDpoLm5leHQ9bCxtLmxhc3RCYXNlVXBkYXRlPWspKX1pZihudWxsIT09Zil7dmFyIHE9ZS5iYXNlU3RhdGU7Zz0wO209bD1rPW51bGw7aD1mO2Rve3ZhciByPWgubGFuZSx5PWguZXZlbnRUaW1lO2lmKChkJnIpPT09cil7bnVsbCE9PW0mJihtPW0ubmV4dD17ZXZlbnRUaW1lOnksbGFuZTowLHRhZzpoLnRhZyxwYXlsb2FkOmgucGF5bG9hZCxjYWxsYmFjazpoLmNhbGxiYWNrLFxubmV4dDpudWxsfSk7YTp7dmFyIG49YSx0PWg7cj1iO3k9Yztzd2l0Y2godC50YWcpe2Nhc2UgMTpuPXQucGF5bG9hZDtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2Ygbil7cT1uLmNhbGwoeSxxLHIpO2JyZWFrIGF9cT1uO2JyZWFrIGE7Y2FzZSAzOm4uZmxhZ3M9bi5mbGFncyYtNjU1Mzd8MTI4O2Nhc2UgMDpuPXQucGF5bG9hZDtyPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBuP24uY2FsbCh5LHEscik6bjtpZihudWxsPT09cnx8dm9pZCAwPT09cilicmVhayBhO3E9QSh7fSxxLHIpO2JyZWFrIGE7Y2FzZSAyOmpoPSEwfX1udWxsIT09aC5jYWxsYmFjayYmMCE9PWgubGFuZSYmKGEuZmxhZ3N8PTY0LHI9ZS5lZmZlY3RzLG51bGw9PT1yP2UuZWZmZWN0cz1baF06ci5wdXNoKGgpKX1lbHNlIHk9e2V2ZW50VGltZTp5LGxhbmU6cix0YWc6aC50YWcscGF5bG9hZDpoLnBheWxvYWQsY2FsbGJhY2s6aC5jYWxsYmFjayxuZXh0Om51bGx9LG51bGw9PT1tPyhsPW09eSxrPXEpOm09bS5uZXh0PXksZ3w9cjtcbmg9aC5uZXh0O2lmKG51bGw9PT1oKWlmKGg9ZS5zaGFyZWQucGVuZGluZyxudWxsPT09aClicmVhaztlbHNlIHI9aCxoPXIubmV4dCxyLm5leHQ9bnVsbCxlLmxhc3RCYXNlVXBkYXRlPXIsZS5zaGFyZWQucGVuZGluZz1udWxsfXdoaWxlKDEpO251bGw9PT1tJiYoaz1xKTtlLmJhc2VTdGF0ZT1rO2UuZmlyc3RCYXNlVXBkYXRlPWw7ZS5sYXN0QmFzZVVwZGF0ZT1tO2I9ZS5zaGFyZWQuaW50ZXJsZWF2ZWQ7aWYobnVsbCE9PWIpe2U9YjtkbyBnfD1lLmxhbmUsZT1lLm5leHQ7d2hpbGUoZSE9PWIpfWVsc2UgbnVsbD09PWYmJihlLnNoYXJlZC5sYW5lcz0wKTtyaHw9ZzthLmxhbmVzPWc7YS5tZW1vaXplZFN0YXRlPXF9fVxuZnVuY3Rpb24gc2goYSxiLGMpe2E9Yi5lZmZlY3RzO2IuZWZmZWN0cz1udWxsO2lmKG51bGwhPT1hKWZvcihiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBkPWFbYl0sZT1kLmNhbGxiYWNrO2lmKG51bGwhPT1lKXtkLmNhbGxiYWNrPW51bGw7ZD1jO2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBlKXRocm93IEVycm9yKHAoMTkxLGUpKTtlLmNhbGwoZCl9fX12YXIgdGg9e30sdWg9VWYodGgpLHZoPVVmKHRoKSx3aD1VZih0aCk7ZnVuY3Rpb24geGgoYSl7aWYoYT09PXRoKXRocm93IEVycm9yKHAoMTc0KSk7cmV0dXJuIGF9XG5mdW5jdGlvbiB5aChhLGIpe0cod2gsYik7Ryh2aCxhKTtHKHVoLHRoKTthPWIubm9kZVR5cGU7c3dpdGNoKGEpe2Nhc2UgOTpjYXNlIDExOmI9KGI9Yi5kb2N1bWVudEVsZW1lbnQpP2IubmFtZXNwYWNlVVJJOmxiKG51bGwsXCJcIik7YnJlYWs7ZGVmYXVsdDphPTg9PT1hP2IucGFyZW50Tm9kZTpiLGI9YS5uYW1lc3BhY2VVUkl8fG51bGwsYT1hLnRhZ05hbWUsYj1sYihiLGEpfUUodWgpO0codWgsYil9ZnVuY3Rpb24gemgoKXtFKHVoKTtFKHZoKTtFKHdoKX1mdW5jdGlvbiBBaChhKXt4aCh3aC5jdXJyZW50KTt2YXIgYj14aCh1aC5jdXJyZW50KTt2YXIgYz1sYihiLGEudHlwZSk7YiE9PWMmJihHKHZoLGEpLEcodWgsYykpfWZ1bmN0aW9uIEJoKGEpe3ZoLmN1cnJlbnQ9PT1hJiYoRSh1aCksRSh2aCkpfXZhciBMPVVmKDApO1xuZnVuY3Rpb24gQ2goYSl7Zm9yKHZhciBiPWE7bnVsbCE9PWI7KXtpZigxMz09PWIudGFnKXt2YXIgYz1iLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWMmJihjPWMuZGVoeWRyYXRlZCxudWxsPT09Y3x8XCIkP1wiPT09Yy5kYXRhfHxcIiQhXCI9PT1jLmRhdGEpKXJldHVybiBifWVsc2UgaWYoMTk9PT1iLnRhZyYmdm9pZCAwIT09Yi5tZW1vaXplZFByb3BzLnJldmVhbE9yZGVyKXtpZigwIT09KGIuZmxhZ3MmMTI4KSlyZXR1cm4gYn1lbHNlIGlmKG51bGwhPT1iLmNoaWxkKXtiLmNoaWxkLnJldHVybj1iO2I9Yi5jaGlsZDtjb250aW51ZX1pZihiPT09YSlicmVhaztmb3IoO251bGw9PT1iLnNpYmxpbmc7KXtpZihudWxsPT09Yi5yZXR1cm58fGIucmV0dXJuPT09YSlyZXR1cm4gbnVsbDtiPWIucmV0dXJufWIuc2libGluZy5yZXR1cm49Yi5yZXR1cm47Yj1iLnNpYmxpbmd9cmV0dXJuIG51bGx9dmFyIERoPVtdO1xuZnVuY3Rpb24gRWgoKXtmb3IodmFyIGE9MDthPERoLmxlbmd0aDthKyspRGhbYV0uX3dvcmtJblByb2dyZXNzVmVyc2lvblByaW1hcnk9bnVsbDtEaC5sZW5ndGg9MH12YXIgRmg9dWEuUmVhY3RDdXJyZW50RGlzcGF0Y2hlcixHaD11YS5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZyxIaD0wLE09bnVsbCxOPW51bGwsTz1udWxsLEloPSExLEpoPSExLEtoPTAsTGg9MDtmdW5jdGlvbiBQKCl7dGhyb3cgRXJyb3IocCgzMjEpKTt9ZnVuY3Rpb24gTWgoYSxiKXtpZihudWxsPT09YilyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoJiZjPGEubGVuZ3RoO2MrKylpZighSGUoYVtjXSxiW2NdKSlyZXR1cm4hMTtyZXR1cm4hMH1cbmZ1bmN0aW9uIE5oKGEsYixjLGQsZSxmKXtIaD1mO009YjtiLm1lbW9pemVkU3RhdGU9bnVsbDtiLnVwZGF0ZVF1ZXVlPW51bGw7Yi5sYW5lcz0wO0ZoLmN1cnJlbnQ9bnVsbD09PWF8fG51bGw9PT1hLm1lbW9pemVkU3RhdGU/T2g6UGg7YT1jKGQsZSk7aWYoSmgpe2Y9MDtkb3tKaD0hMTtLaD0wO2lmKDI1PD1mKXRocm93IEVycm9yKHAoMzAxKSk7Zis9MTtPPU49bnVsbDtiLnVwZGF0ZVF1ZXVlPW51bGw7RmguY3VycmVudD1RaDthPWMoZCxlKX13aGlsZShKaCl9RmguY3VycmVudD1SaDtiPW51bGwhPT1OJiZudWxsIT09Ti5uZXh0O0hoPTA7Tz1OPU09bnVsbDtJaD0hMTtpZihiKXRocm93IEVycm9yKHAoMzAwKSk7cmV0dXJuIGF9ZnVuY3Rpb24gU2goKXt2YXIgYT0wIT09S2g7S2g9MDtyZXR1cm4gYX1cbmZ1bmN0aW9uIFRoKCl7dmFyIGE9e21lbW9pemVkU3RhdGU6bnVsbCxiYXNlU3RhdGU6bnVsbCxiYXNlUXVldWU6bnVsbCxxdWV1ZTpudWxsLG5leHQ6bnVsbH07bnVsbD09PU8/TS5tZW1vaXplZFN0YXRlPU89YTpPPU8ubmV4dD1hO3JldHVybiBPfWZ1bmN0aW9uIFVoKCl7aWYobnVsbD09PU4pe3ZhciBhPU0uYWx0ZXJuYXRlO2E9bnVsbCE9PWE/YS5tZW1vaXplZFN0YXRlOm51bGx9ZWxzZSBhPU4ubmV4dDt2YXIgYj1udWxsPT09Tz9NLm1lbW9pemVkU3RhdGU6Ty5uZXh0O2lmKG51bGwhPT1iKU89YixOPWE7ZWxzZXtpZihudWxsPT09YSl0aHJvdyBFcnJvcihwKDMxMCkpO049YTthPXttZW1vaXplZFN0YXRlOk4ubWVtb2l6ZWRTdGF0ZSxiYXNlU3RhdGU6Ti5iYXNlU3RhdGUsYmFzZVF1ZXVlOk4uYmFzZVF1ZXVlLHF1ZXVlOk4ucXVldWUsbmV4dDpudWxsfTtudWxsPT09Tz9NLm1lbW9pemVkU3RhdGU9Tz1hOk89Ty5uZXh0PWF9cmV0dXJuIE99XG5mdW5jdGlvbiBWaChhLGIpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBiP2IoYSk6Yn1cbmZ1bmN0aW9uIFdoKGEpe3ZhciBiPVVoKCksYz1iLnF1ZXVlO2lmKG51bGw9PT1jKXRocm93IEVycm9yKHAoMzExKSk7Yy5sYXN0UmVuZGVyZWRSZWR1Y2VyPWE7dmFyIGQ9TixlPWQuYmFzZVF1ZXVlLGY9Yy5wZW5kaW5nO2lmKG51bGwhPT1mKXtpZihudWxsIT09ZSl7dmFyIGc9ZS5uZXh0O2UubmV4dD1mLm5leHQ7Zi5uZXh0PWd9ZC5iYXNlUXVldWU9ZT1mO2MucGVuZGluZz1udWxsfWlmKG51bGwhPT1lKXtmPWUubmV4dDtkPWQuYmFzZVN0YXRlO3ZhciBoPWc9bnVsbCxrPW51bGwsbD1mO2Rve3ZhciBtPWwubGFuZTtpZigoSGgmbSk9PT1tKW51bGwhPT1rJiYoaz1rLm5leHQ9e2xhbmU6MCxhY3Rpb246bC5hY3Rpb24saGFzRWFnZXJTdGF0ZTpsLmhhc0VhZ2VyU3RhdGUsZWFnZXJTdGF0ZTpsLmVhZ2VyU3RhdGUsbmV4dDpudWxsfSksZD1sLmhhc0VhZ2VyU3RhdGU/bC5lYWdlclN0YXRlOmEoZCxsLmFjdGlvbik7ZWxzZXt2YXIgcT17bGFuZTptLGFjdGlvbjpsLmFjdGlvbixoYXNFYWdlclN0YXRlOmwuaGFzRWFnZXJTdGF0ZSxcbmVhZ2VyU3RhdGU6bC5lYWdlclN0YXRlLG5leHQ6bnVsbH07bnVsbD09PWs/KGg9az1xLGc9ZCk6az1rLm5leHQ9cTtNLmxhbmVzfD1tO3JofD1tfWw9bC5uZXh0fXdoaWxlKG51bGwhPT1sJiZsIT09Zik7bnVsbD09PWs/Zz1kOmsubmV4dD1oO0hlKGQsYi5tZW1vaXplZFN0YXRlKXx8KGRoPSEwKTtiLm1lbW9pemVkU3RhdGU9ZDtiLmJhc2VTdGF0ZT1nO2IuYmFzZVF1ZXVlPWs7Yy5sYXN0UmVuZGVyZWRTdGF0ZT1kfWE9Yy5pbnRlcmxlYXZlZDtpZihudWxsIT09YSl7ZT1hO2RvIGY9ZS5sYW5lLE0ubGFuZXN8PWYscmh8PWYsZT1lLm5leHQ7d2hpbGUoZSE9PWEpfWVsc2UgbnVsbD09PWUmJihjLmxhbmVzPTApO3JldHVybltiLm1lbW9pemVkU3RhdGUsYy5kaXNwYXRjaF19XG5mdW5jdGlvbiBYaChhKXt2YXIgYj1VaCgpLGM9Yi5xdWV1ZTtpZihudWxsPT09Yyl0aHJvdyBFcnJvcihwKDMxMSkpO2MubGFzdFJlbmRlcmVkUmVkdWNlcj1hO3ZhciBkPWMuZGlzcGF0Y2gsZT1jLnBlbmRpbmcsZj1iLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWUpe2MucGVuZGluZz1udWxsO3ZhciBnPWU9ZS5uZXh0O2RvIGY9YShmLGcuYWN0aW9uKSxnPWcubmV4dDt3aGlsZShnIT09ZSk7SGUoZixiLm1lbW9pemVkU3RhdGUpfHwoZGg9ITApO2IubWVtb2l6ZWRTdGF0ZT1mO251bGw9PT1iLmJhc2VRdWV1ZSYmKGIuYmFzZVN0YXRlPWYpO2MubGFzdFJlbmRlcmVkU3RhdGU9Zn1yZXR1cm5bZixkXX1mdW5jdGlvbiBZaCgpe31cbmZ1bmN0aW9uIFpoKGEsYil7dmFyIGM9TSxkPVVoKCksZT1iKCksZj0hSGUoZC5tZW1vaXplZFN0YXRlLGUpO2YmJihkLm1lbW9pemVkU3RhdGU9ZSxkaD0hMCk7ZD1kLnF1ZXVlOyRoKGFpLmJpbmQobnVsbCxjLGQsYSksW2FdKTtpZihkLmdldFNuYXBzaG90IT09Ynx8Znx8bnVsbCE9PU8mJk8ubWVtb2l6ZWRTdGF0ZS50YWcmMSl7Yy5mbGFnc3w9MjA0ODtiaSg5LGNpLmJpbmQobnVsbCxjLGQsZSxiKSx2b2lkIDAsbnVsbCk7aWYobnVsbD09PVEpdGhyb3cgRXJyb3IocCgzNDkpKTswIT09KEhoJjMwKXx8ZGkoYyxiLGUpfXJldHVybiBlfWZ1bmN0aW9uIGRpKGEsYixjKXthLmZsYWdzfD0xNjM4NDthPXtnZXRTbmFwc2hvdDpiLHZhbHVlOmN9O2I9TS51cGRhdGVRdWV1ZTtudWxsPT09Yj8oYj17bGFzdEVmZmVjdDpudWxsLHN0b3JlczpudWxsfSxNLnVwZGF0ZVF1ZXVlPWIsYi5zdG9yZXM9W2FdKTooYz1iLnN0b3JlcyxudWxsPT09Yz9iLnN0b3Jlcz1bYV06Yy5wdXNoKGEpKX1cbmZ1bmN0aW9uIGNpKGEsYixjLGQpe2IudmFsdWU9YztiLmdldFNuYXBzaG90PWQ7ZWkoYikmJmZpKGEpfWZ1bmN0aW9uIGFpKGEsYixjKXtyZXR1cm4gYyhmdW5jdGlvbigpe2VpKGIpJiZmaShhKX0pfWZ1bmN0aW9uIGVpKGEpe3ZhciBiPWEuZ2V0U25hcHNob3Q7YT1hLnZhbHVlO3RyeXt2YXIgYz1iKCk7cmV0dXJuIUhlKGEsYyl9Y2F0Y2goZCl7cmV0dXJuITB9fWZ1bmN0aW9uIGZpKGEpe3ZhciBiPWloKGEsMSk7bnVsbCE9PWImJmdpKGIsYSwxLC0xKX1cbmZ1bmN0aW9uIGhpKGEpe3ZhciBiPVRoKCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGEmJihhPWEoKSk7Yi5tZW1vaXplZFN0YXRlPWIuYmFzZVN0YXRlPWE7YT17cGVuZGluZzpudWxsLGludGVybGVhdmVkOm51bGwsbGFuZXM6MCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6VmgsbGFzdFJlbmRlcmVkU3RhdGU6YX07Yi5xdWV1ZT1hO2E9YS5kaXNwYXRjaD1paS5iaW5kKG51bGwsTSxhKTtyZXR1cm5bYi5tZW1vaXplZFN0YXRlLGFdfVxuZnVuY3Rpb24gYmkoYSxiLGMsZCl7YT17dGFnOmEsY3JlYXRlOmIsZGVzdHJveTpjLGRlcHM6ZCxuZXh0Om51bGx9O2I9TS51cGRhdGVRdWV1ZTtudWxsPT09Yj8oYj17bGFzdEVmZmVjdDpudWxsLHN0b3JlczpudWxsfSxNLnVwZGF0ZVF1ZXVlPWIsYi5sYXN0RWZmZWN0PWEubmV4dD1hKTooYz1iLmxhc3RFZmZlY3QsbnVsbD09PWM/Yi5sYXN0RWZmZWN0PWEubmV4dD1hOihkPWMubmV4dCxjLm5leHQ9YSxhLm5leHQ9ZCxiLmxhc3RFZmZlY3Q9YSkpO3JldHVybiBhfWZ1bmN0aW9uIGppKCl7cmV0dXJuIFVoKCkubWVtb2l6ZWRTdGF0ZX1mdW5jdGlvbiBraShhLGIsYyxkKXt2YXIgZT1UaCgpO00uZmxhZ3N8PWE7ZS5tZW1vaXplZFN0YXRlPWJpKDF8YixjLHZvaWQgMCx2b2lkIDA9PT1kP251bGw6ZCl9XG5mdW5jdGlvbiBsaShhLGIsYyxkKXt2YXIgZT1VaCgpO2Q9dm9pZCAwPT09ZD9udWxsOmQ7dmFyIGY9dm9pZCAwO2lmKG51bGwhPT1OKXt2YXIgZz1OLm1lbW9pemVkU3RhdGU7Zj1nLmRlc3Ryb3k7aWYobnVsbCE9PWQmJk1oKGQsZy5kZXBzKSl7ZS5tZW1vaXplZFN0YXRlPWJpKGIsYyxmLGQpO3JldHVybn19TS5mbGFnc3w9YTtlLm1lbW9pemVkU3RhdGU9YmkoMXxiLGMsZixkKX1mdW5jdGlvbiBtaShhLGIpe3JldHVybiBraSg4MzkwNjU2LDgsYSxiKX1mdW5jdGlvbiAkaChhLGIpe3JldHVybiBsaSgyMDQ4LDgsYSxiKX1mdW5jdGlvbiBuaShhLGIpe3JldHVybiBsaSg0LDIsYSxiKX1mdW5jdGlvbiBvaShhLGIpe3JldHVybiBsaSg0LDQsYSxiKX1cbmZ1bmN0aW9uIHBpKGEsYil7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGIpcmV0dXJuIGE9YSgpLGIoYSksZnVuY3Rpb24oKXtiKG51bGwpfTtpZihudWxsIT09YiYmdm9pZCAwIT09YilyZXR1cm4gYT1hKCksYi5jdXJyZW50PWEsZnVuY3Rpb24oKXtiLmN1cnJlbnQ9bnVsbH19ZnVuY3Rpb24gcWkoYSxiLGMpe2M9bnVsbCE9PWMmJnZvaWQgMCE9PWM/Yy5jb25jYXQoW2FdKTpudWxsO3JldHVybiBsaSg0LDQscGkuYmluZChudWxsLGIsYSksYyl9ZnVuY3Rpb24gcmkoKXt9ZnVuY3Rpb24gc2koYSxiKXt2YXIgYz1VaCgpO2I9dm9pZCAwPT09Yj9udWxsOmI7dmFyIGQ9Yy5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1kJiZudWxsIT09YiYmTWgoYixkWzFdKSlyZXR1cm4gZFswXTtjLm1lbW9pemVkU3RhdGU9W2EsYl07cmV0dXJuIGF9XG5mdW5jdGlvbiB0aShhLGIpe3ZhciBjPVVoKCk7Yj12b2lkIDA9PT1iP251bGw6Yjt2YXIgZD1jLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWQmJm51bGwhPT1iJiZNaChiLGRbMV0pKXJldHVybiBkWzBdO2E9YSgpO2MubWVtb2l6ZWRTdGF0ZT1bYSxiXTtyZXR1cm4gYX1mdW5jdGlvbiB1aShhLGIsYyl7aWYoMD09PShIaCYyMSkpcmV0dXJuIGEuYmFzZVN0YXRlJiYoYS5iYXNlU3RhdGU9ITEsZGg9ITApLGEubWVtb2l6ZWRTdGF0ZT1jO0hlKGMsYil8fChjPXljKCksTS5sYW5lc3w9YyxyaHw9YyxhLmJhc2VTdGF0ZT0hMCk7cmV0dXJuIGJ9ZnVuY3Rpb24gdmkoYSxiKXt2YXIgYz1DO0M9MCE9PWMmJjQ+Yz9jOjQ7YSghMCk7dmFyIGQ9R2gudHJhbnNpdGlvbjtHaC50cmFuc2l0aW9uPXt9O3RyeXthKCExKSxiKCl9ZmluYWxseXtDPWMsR2gudHJhbnNpdGlvbj1kfX1mdW5jdGlvbiB3aSgpe3JldHVybiBVaCgpLm1lbW9pemVkU3RhdGV9XG5mdW5jdGlvbiB4aShhLGIsYyl7dmFyIGQ9eWkoYSk7Yz17bGFuZTpkLGFjdGlvbjpjLGhhc0VhZ2VyU3RhdGU6ITEsZWFnZXJTdGF0ZTpudWxsLG5leHQ6bnVsbH07aWYoemkoYSkpQWkoYixjKTtlbHNlIGlmKGM9aGgoYSxiLGMsZCksbnVsbCE9PWMpe3ZhciBlPVIoKTtnaShjLGEsZCxlKTtCaShjLGIsZCl9fVxuZnVuY3Rpb24gaWkoYSxiLGMpe3ZhciBkPXlpKGEpLGU9e2xhbmU6ZCxhY3Rpb246YyxoYXNFYWdlclN0YXRlOiExLGVhZ2VyU3RhdGU6bnVsbCxuZXh0Om51bGx9O2lmKHppKGEpKUFpKGIsZSk7ZWxzZXt2YXIgZj1hLmFsdGVybmF0ZTtpZigwPT09YS5sYW5lcyYmKG51bGw9PT1mfHwwPT09Zi5sYW5lcykmJihmPWIubGFzdFJlbmRlcmVkUmVkdWNlcixudWxsIT09ZikpdHJ5e3ZhciBnPWIubGFzdFJlbmRlcmVkU3RhdGUsaD1mKGcsYyk7ZS5oYXNFYWdlclN0YXRlPSEwO2UuZWFnZXJTdGF0ZT1oO2lmKEhlKGgsZykpe3ZhciBrPWIuaW50ZXJsZWF2ZWQ7bnVsbD09PWs/KGUubmV4dD1lLGdoKGIpKTooZS5uZXh0PWsubmV4dCxrLm5leHQ9ZSk7Yi5pbnRlcmxlYXZlZD1lO3JldHVybn19Y2F0Y2gobCl7fWZpbmFsbHl7fWM9aGgoYSxiLGUsZCk7bnVsbCE9PWMmJihlPVIoKSxnaShjLGEsZCxlKSxCaShjLGIsZCkpfX1cbmZ1bmN0aW9uIHppKGEpe3ZhciBiPWEuYWx0ZXJuYXRlO3JldHVybiBhPT09TXx8bnVsbCE9PWImJmI9PT1NfWZ1bmN0aW9uIEFpKGEsYil7Smg9SWg9ITA7dmFyIGM9YS5wZW5kaW5nO251bGw9PT1jP2IubmV4dD1iOihiLm5leHQ9Yy5uZXh0LGMubmV4dD1iKTthLnBlbmRpbmc9Yn1mdW5jdGlvbiBCaShhLGIsYyl7aWYoMCE9PShjJjQxOTQyNDApKXt2YXIgZD1iLmxhbmVzO2QmPWEucGVuZGluZ0xhbmVzO2N8PWQ7Yi5sYW5lcz1jO0NjKGEsYyl9fVxudmFyIFJoPXtyZWFkQ29udGV4dDplaCx1c2VDYWxsYmFjazpQLHVzZUNvbnRleHQ6UCx1c2VFZmZlY3Q6UCx1c2VJbXBlcmF0aXZlSGFuZGxlOlAsdXNlSW5zZXJ0aW9uRWZmZWN0OlAsdXNlTGF5b3V0RWZmZWN0OlAsdXNlTWVtbzpQLHVzZVJlZHVjZXI6UCx1c2VSZWY6UCx1c2VTdGF0ZTpQLHVzZURlYnVnVmFsdWU6UCx1c2VEZWZlcnJlZFZhbHVlOlAsdXNlVHJhbnNpdGlvbjpQLHVzZU11dGFibGVTb3VyY2U6UCx1c2VTeW5jRXh0ZXJuYWxTdG9yZTpQLHVzZUlkOlAsdW5zdGFibGVfaXNOZXdSZWNvbmNpbGVyOiExfSxPaD17cmVhZENvbnRleHQ6ZWgsdXNlQ2FsbGJhY2s6ZnVuY3Rpb24oYSxiKXtUaCgpLm1lbW9pemVkU3RhdGU9W2Esdm9pZCAwPT09Yj9udWxsOmJdO3JldHVybiBhfSx1c2VDb250ZXh0OmVoLHVzZUVmZmVjdDptaSx1c2VJbXBlcmF0aXZlSGFuZGxlOmZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPT1jJiZ2b2lkIDAhPT1jP2MuY29uY2F0KFthXSk6bnVsbDtyZXR1cm4ga2koNDE5NDMwOCxcbjQscGkuYmluZChudWxsLGIsYSksYyl9LHVzZUxheW91dEVmZmVjdDpmdW5jdGlvbihhLGIpe3JldHVybiBraSg0MTk0MzA4LDQsYSxiKX0sdXNlSW5zZXJ0aW9uRWZmZWN0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGtpKDQsMixhLGIpfSx1c2VNZW1vOmZ1bmN0aW9uKGEsYil7dmFyIGM9VGgoKTtiPXZvaWQgMD09PWI/bnVsbDpiO2E9YSgpO2MubWVtb2l6ZWRTdGF0ZT1bYSxiXTtyZXR1cm4gYX0sdXNlUmVkdWNlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9VGgoKTtiPXZvaWQgMCE9PWM/YyhiKTpiO2QubWVtb2l6ZWRTdGF0ZT1kLmJhc2VTdGF0ZT1iO2E9e3BlbmRpbmc6bnVsbCxpbnRlcmxlYXZlZDpudWxsLGxhbmVzOjAsZGlzcGF0Y2g6bnVsbCxsYXN0UmVuZGVyZWRSZWR1Y2VyOmEsbGFzdFJlbmRlcmVkU3RhdGU6Yn07ZC5xdWV1ZT1hO2E9YS5kaXNwYXRjaD14aS5iaW5kKG51bGwsTSxhKTtyZXR1cm5bZC5tZW1vaXplZFN0YXRlLGFdfSx1c2VSZWY6ZnVuY3Rpb24oYSl7dmFyIGI9XG5UaCgpO2E9e2N1cnJlbnQ6YX07cmV0dXJuIGIubWVtb2l6ZWRTdGF0ZT1hfSx1c2VTdGF0ZTpoaSx1c2VEZWJ1Z1ZhbHVlOnJpLHVzZURlZmVycmVkVmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIFRoKCkubWVtb2l6ZWRTdGF0ZT1hfSx1c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9aGkoITEpLGI9YVswXTthPXZpLmJpbmQobnVsbCxhWzFdKTtUaCgpLm1lbW9pemVkU3RhdGU9YTtyZXR1cm5bYixhXX0sdXNlTXV0YWJsZVNvdXJjZTpmdW5jdGlvbigpe30sdXNlU3luY0V4dGVybmFsU3RvcmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPU0sZT1UaCgpO2lmKEkpe2lmKHZvaWQgMD09PWMpdGhyb3cgRXJyb3IocCg0MDcpKTtjPWMoKX1lbHNle2M9YigpO2lmKG51bGw9PT1RKXRocm93IEVycm9yKHAoMzQ5KSk7MCE9PShIaCYzMCl8fGRpKGQsYixjKX1lLm1lbW9pemVkU3RhdGU9Yzt2YXIgZj17dmFsdWU6YyxnZXRTbmFwc2hvdDpifTtlLnF1ZXVlPWY7bWkoYWkuYmluZChudWxsLGQsXG5mLGEpLFthXSk7ZC5mbGFnc3w9MjA0ODtiaSg5LGNpLmJpbmQobnVsbCxkLGYsYyxiKSx2b2lkIDAsbnVsbCk7cmV0dXJuIGN9LHVzZUlkOmZ1bmN0aW9uKCl7dmFyIGE9VGgoKSxiPVEuaWRlbnRpZmllclByZWZpeDtpZihJKXt2YXIgYz1zZzt2YXIgZD1yZztjPShkJn4oMTw8MzItb2MoZCktMSkpLnRvU3RyaW5nKDMyKStjO2I9XCI6XCIrYitcIlJcIitjO2M9S2grKzswPGMmJihiKz1cIkhcIitjLnRvU3RyaW5nKDMyKSk7Yis9XCI6XCJ9ZWxzZSBjPUxoKyssYj1cIjpcIitiK1wiclwiK2MudG9TdHJpbmcoMzIpK1wiOlwiO3JldHVybiBhLm1lbW9pemVkU3RhdGU9Yn0sdW5zdGFibGVfaXNOZXdSZWNvbmNpbGVyOiExfSxQaD17cmVhZENvbnRleHQ6ZWgsdXNlQ2FsbGJhY2s6c2ksdXNlQ29udGV4dDplaCx1c2VFZmZlY3Q6JGgsdXNlSW1wZXJhdGl2ZUhhbmRsZTpxaSx1c2VJbnNlcnRpb25FZmZlY3Q6bmksdXNlTGF5b3V0RWZmZWN0Om9pLHVzZU1lbW86dGksdXNlUmVkdWNlcjpXaCx1c2VSZWY6amksdXNlU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gV2goVmgpfSxcbnVzZURlYnVnVmFsdWU6cmksdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihhKXt2YXIgYj1VaCgpO3JldHVybiB1aShiLE4ubWVtb2l6ZWRTdGF0ZSxhKX0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbigpe3ZhciBhPVdoKFZoKVswXSxiPVVoKCkubWVtb2l6ZWRTdGF0ZTtyZXR1cm5bYSxiXX0sdXNlTXV0YWJsZVNvdXJjZTpZaCx1c2VTeW5jRXh0ZXJuYWxTdG9yZTpaaCx1c2VJZDp3aSx1bnN0YWJsZV9pc05ld1JlY29uY2lsZXI6ITF9LFFoPXtyZWFkQ29udGV4dDplaCx1c2VDYWxsYmFjazpzaSx1c2VDb250ZXh0OmVoLHVzZUVmZmVjdDokaCx1c2VJbXBlcmF0aXZlSGFuZGxlOnFpLHVzZUluc2VydGlvbkVmZmVjdDpuaSx1c2VMYXlvdXRFZmZlY3Q6b2ksdXNlTWVtbzp0aSx1c2VSZWR1Y2VyOlhoLHVzZVJlZjpqaSx1c2VTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBYaChWaCl9LHVzZURlYnVnVmFsdWU6cmksdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihhKXt2YXIgYj1VaCgpO3JldHVybiBudWxsPT09XG5OP2IubWVtb2l6ZWRTdGF0ZT1hOnVpKGIsTi5tZW1vaXplZFN0YXRlLGEpfSx1c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9WGgoVmgpWzBdLGI9VWgoKS5tZW1vaXplZFN0YXRlO3JldHVyblthLGJdfSx1c2VNdXRhYmxlU291cmNlOlloLHVzZVN5bmNFeHRlcm5hbFN0b3JlOlpoLHVzZUlkOndpLHVuc3RhYmxlX2lzTmV3UmVjb25jaWxlcjohMX07ZnVuY3Rpb24gQ2koYSxiKXtpZihhJiZhLmRlZmF1bHRQcm9wcyl7Yj1BKHt9LGIpO2E9YS5kZWZhdWx0UHJvcHM7Zm9yKHZhciBjIGluIGEpdm9pZCAwPT09YltjXSYmKGJbY109YVtjXSk7cmV0dXJuIGJ9cmV0dXJuIGJ9ZnVuY3Rpb24gRGkoYSxiLGMsZCl7Yj1hLm1lbW9pemVkU3RhdGU7Yz1jKGQsYik7Yz1udWxsPT09Y3x8dm9pZCAwPT09Yz9iOkEoe30sYixjKTthLm1lbW9pemVkU3RhdGU9YzswPT09YS5sYW5lcyYmKGEudXBkYXRlUXVldWUuYmFzZVN0YXRlPWMpfVxudmFyIEVpPXtpc01vdW50ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5fcmVhY3RJbnRlcm5hbHMpP1ZiKGEpPT09YTohMX0sZW5xdWV1ZVNldFN0YXRlOmZ1bmN0aW9uKGEsYixjKXthPWEuX3JlYWN0SW50ZXJuYWxzO3ZhciBkPVIoKSxlPXlpKGEpLGY9bWgoZCxlKTtmLnBheWxvYWQ9Yjt2b2lkIDAhPT1jJiZudWxsIT09YyYmKGYuY2FsbGJhY2s9Yyk7Yj1uaChhLGYsZSk7bnVsbCE9PWImJihnaShiLGEsZSxkKSxvaChiLGEsZSkpfSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKGEsYixjKXthPWEuX3JlYWN0SW50ZXJuYWxzO3ZhciBkPVIoKSxlPXlpKGEpLGY9bWgoZCxlKTtmLnRhZz0xO2YucGF5bG9hZD1iO3ZvaWQgMCE9PWMmJm51bGwhPT1jJiYoZi5jYWxsYmFjaz1jKTtiPW5oKGEsZixlKTtudWxsIT09YiYmKGdpKGIsYSxlLGQpLG9oKGIsYSxlKSl9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbihhLGIpe2E9YS5fcmVhY3RJbnRlcm5hbHM7dmFyIGM9UigpLGQ9XG55aShhKSxlPW1oKGMsZCk7ZS50YWc9Mjt2b2lkIDAhPT1iJiZudWxsIT09YiYmKGUuY2FsbGJhY2s9Yik7Yj1uaChhLGUsZCk7bnVsbCE9PWImJihnaShiLGEsZCxjKSxvaChiLGEsZCkpfX07ZnVuY3Rpb24gRmkoYSxiLGMsZCxlLGYsZyl7YT1hLnN0YXRlTm9kZTtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5zaG91bGRDb21wb25lbnRVcGRhdGU/YS5zaG91bGRDb21wb25lbnRVcGRhdGUoZCxmLGcpOmIucHJvdG90eXBlJiZiLnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudD8hSWUoYyxkKXx8IUllKGUsZik6ITB9XG5mdW5jdGlvbiBHaShhLGIsYyl7dmFyIGQ9ITEsZT1WZjt2YXIgZj1iLmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PT10eXBlb2YgZiYmbnVsbCE9PWY/Zj1laChmKTooZT1aZihiKT9YZjpILmN1cnJlbnQsZD1iLmNvbnRleHRUeXBlcyxmPShkPW51bGwhPT1kJiZ2b2lkIDAhPT1kKT9ZZihhLGUpOlZmKTtiPW5ldyBiKGMsZik7YS5tZW1vaXplZFN0YXRlPW51bGwhPT1iLnN0YXRlJiZ2b2lkIDAhPT1iLnN0YXRlP2Iuc3RhdGU6bnVsbDtiLnVwZGF0ZXI9RWk7YS5zdGF0ZU5vZGU9YjtiLl9yZWFjdEludGVybmFscz1hO2QmJihhPWEuc3RhdGVOb2RlLGEuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD1lLGEuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ9Zik7cmV0dXJuIGJ9XG5mdW5jdGlvbiBIaShhLGIsYyxkKXthPWIuc3RhdGU7XCJmdW5jdGlvblwiPT09dHlwZW9mIGIuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmYi5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGMsZCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIGIuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJmIuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoYyxkKTtiLnN0YXRlIT09YSYmRWkuZW5xdWV1ZVJlcGxhY2VTdGF0ZShiLGIuc3RhdGUsbnVsbCl9XG5mdW5jdGlvbiBJaShhLGIsYyxkKXt2YXIgZT1hLnN0YXRlTm9kZTtlLnByb3BzPWM7ZS5zdGF0ZT1hLm1lbW9pemVkU3RhdGU7ZS5yZWZzPXt9O2toKGEpO3ZhciBmPWIuY29udGV4dFR5cGU7XCJvYmplY3RcIj09PXR5cGVvZiBmJiZudWxsIT09Zj9lLmNvbnRleHQ9ZWgoZik6KGY9WmYoYik/WGY6SC5jdXJyZW50LGUuY29udGV4dD1ZZihhLGYpKTtlLnN0YXRlPWEubWVtb2l6ZWRTdGF0ZTtmPWIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBmJiYoRGkoYSxiLGYsYyksZS5zdGF0ZT1hLm1lbW9pemVkU3RhdGUpO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBiLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc3x8XCJmdW5jdGlvblwiPT09dHlwZW9mIGUuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBlLmNvbXBvbmVudFdpbGxNb3VudHx8KGI9ZS5zdGF0ZSxcblwiZnVuY3Rpb25cIj09PXR5cGVvZiBlLmNvbXBvbmVudFdpbGxNb3VudCYmZS5jb21wb25lbnRXaWxsTW91bnQoKSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSxiIT09ZS5zdGF0ZSYmRWkuZW5xdWV1ZVJlcGxhY2VTdGF0ZShlLGUuc3RhdGUsbnVsbCkscWgoYSxjLGUsZCksZS5zdGF0ZT1hLm1lbW9pemVkU3RhdGUpO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBlLmNvbXBvbmVudERpZE1vdW50JiYoYS5mbGFnc3w9NDE5NDMwOCl9ZnVuY3Rpb24gSmkoYSxiKXt0cnl7dmFyIGM9XCJcIixkPWI7ZG8gYys9UGEoZCksZD1kLnJldHVybjt3aGlsZShkKTt2YXIgZT1jfWNhdGNoKGYpe2U9XCJcXG5FcnJvciBnZW5lcmF0aW5nIHN0YWNrOiBcIitmLm1lc3NhZ2UrXCJcXG5cIitmLnN0YWNrfXJldHVybnt2YWx1ZTphLHNvdXJjZTpiLHN0YWNrOmUsZGlnZXN0Om51bGx9fVxuZnVuY3Rpb24gS2koYSxiLGMpe3JldHVybnt2YWx1ZTphLHNvdXJjZTpudWxsLHN0YWNrOm51bGwhPWM/YzpudWxsLGRpZ2VzdDpudWxsIT1iP2I6bnVsbH19ZnVuY3Rpb24gTGkoYSxiKXt0cnl7Y29uc29sZS5lcnJvcihiLnZhbHVlKX1jYXRjaChjKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgYzt9KX19dmFyIE1pPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBXZWFrTWFwP1dlYWtNYXA6TWFwO2Z1bmN0aW9uIE5pKGEsYixjKXtjPW1oKC0xLGMpO2MudGFnPTM7Yy5wYXlsb2FkPXtlbGVtZW50Om51bGx9O3ZhciBkPWIudmFsdWU7Yy5jYWxsYmFjaz1mdW5jdGlvbigpe09pfHwoT2k9ITAsUGk9ZCk7TGkoYSxiKX07cmV0dXJuIGN9XG5mdW5jdGlvbiBRaShhLGIsYyl7Yz1taCgtMSxjKTtjLnRhZz0zO3ZhciBkPWEudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGQpe3ZhciBlPWIudmFsdWU7Yy5wYXlsb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIGQoZSl9O2MuY2FsbGJhY2s9ZnVuY3Rpb24oKXtMaShhLGIpfX12YXIgZj1hLnN0YXRlTm9kZTtudWxsIT09ZiYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGYuY29tcG9uZW50RGlkQ2F0Y2gmJihjLmNhbGxiYWNrPWZ1bmN0aW9uKCl7TGkoYSxiKTtcImZ1bmN0aW9uXCIhPT10eXBlb2YgZCYmKG51bGw9PT1SaT9SaT1uZXcgU2V0KFt0aGlzXSk6UmkuYWRkKHRoaXMpKTt2YXIgYz1iLnN0YWNrO3RoaXMuY29tcG9uZW50RGlkQ2F0Y2goYi52YWx1ZSx7Y29tcG9uZW50U3RhY2s6bnVsbCE9PWM/YzpcIlwifSl9KTtyZXR1cm4gY31cbmZ1bmN0aW9uIFNpKGEsYixjKXt2YXIgZD1hLnBpbmdDYWNoZTtpZihudWxsPT09ZCl7ZD1hLnBpbmdDYWNoZT1uZXcgTWk7dmFyIGU9bmV3IFNldDtkLnNldChiLGUpfWVsc2UgZT1kLmdldChiKSx2b2lkIDA9PT1lJiYoZT1uZXcgU2V0LGQuc2V0KGIsZSkpO2UuaGFzKGMpfHwoZS5hZGQoYyksYT1UaS5iaW5kKG51bGwsYSxiLGMpLGIudGhlbihhLGEpKX1mdW5jdGlvbiBVaShhKXtkb3t2YXIgYjtpZihiPTEzPT09YS50YWcpYj1hLm1lbW9pemVkU3RhdGUsYj1udWxsIT09Yj9udWxsIT09Yi5kZWh5ZHJhdGVkPyEwOiExOiEwO2lmKGIpcmV0dXJuIGE7YT1hLnJldHVybn13aGlsZShudWxsIT09YSk7cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBWaShhLGIsYyxkLGUpe2lmKDA9PT0oYS5tb2RlJjEpKXJldHVybiBhPT09Yj9hLmZsYWdzfD02NTUzNjooYS5mbGFnc3w9MTI4LGMuZmxhZ3N8PTEzMTA3MixjLmZsYWdzJj0tNTI4MDUsMT09PWMudGFnJiYobnVsbD09PWMuYWx0ZXJuYXRlP2MudGFnPTE3OihiPW1oKC0xLDEpLGIudGFnPTIsbmgoYyxiLDEpKSksYy5sYW5lc3w9MSksYTthLmZsYWdzfD02NTUzNjthLmxhbmVzPWU7cmV0dXJuIGF9dmFyIFdpPXVhLlJlYWN0Q3VycmVudE93bmVyLGRoPSExO2Z1bmN0aW9uIFhpKGEsYixjLGQpe2IuY2hpbGQ9bnVsbD09PWE/VmcoYixudWxsLGMsZCk6VWcoYixhLmNoaWxkLGMsZCl9XG5mdW5jdGlvbiBZaShhLGIsYyxkLGUpe2M9Yy5yZW5kZXI7dmFyIGY9Yi5yZWY7Y2goYixlKTtkPU5oKGEsYixjLGQsZixlKTtjPVNoKCk7aWYobnVsbCE9PWEmJiFkaClyZXR1cm4gYi51cGRhdGVRdWV1ZT1hLnVwZGF0ZVF1ZXVlLGIuZmxhZ3MmPS0yMDUzLGEubGFuZXMmPX5lLFppKGEsYixlKTtJJiZjJiZ2ZyhiKTtiLmZsYWdzfD0xO1hpKGEsYixkLGUpO3JldHVybiBiLmNoaWxkfVxuZnVuY3Rpb24gJGkoYSxiLGMsZCxlKXtpZihudWxsPT09YSl7dmFyIGY9Yy50eXBlO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBmJiYhYWooZikmJnZvaWQgMD09PWYuZGVmYXVsdFByb3BzJiZudWxsPT09Yy5jb21wYXJlJiZ2b2lkIDA9PT1jLmRlZmF1bHRQcm9wcylyZXR1cm4gYi50YWc9MTUsYi50eXBlPWYsYmooYSxiLGYsZCxlKTthPVJnKGMudHlwZSxudWxsLGQsYixiLm1vZGUsZSk7YS5yZWY9Yi5yZWY7YS5yZXR1cm49YjtyZXR1cm4gYi5jaGlsZD1hfWY9YS5jaGlsZDtpZigwPT09KGEubGFuZXMmZSkpe3ZhciBnPWYubWVtb2l6ZWRQcm9wcztjPWMuY29tcGFyZTtjPW51bGwhPT1jP2M6SWU7aWYoYyhnLGQpJiZhLnJlZj09PWIucmVmKXJldHVybiBaaShhLGIsZSl9Yi5mbGFnc3w9MTthPVBnKGYsZCk7YS5yZWY9Yi5yZWY7YS5yZXR1cm49YjtyZXR1cm4gYi5jaGlsZD1hfVxuZnVuY3Rpb24gYmooYSxiLGMsZCxlKXtpZihudWxsIT09YSl7dmFyIGY9YS5tZW1vaXplZFByb3BzO2lmKEllKGYsZCkmJmEucmVmPT09Yi5yZWYpaWYoZGg9ITEsYi5wZW5kaW5nUHJvcHM9ZD1mLDAhPT0oYS5sYW5lcyZlKSkwIT09KGEuZmxhZ3MmMTMxMDcyKSYmKGRoPSEwKTtlbHNlIHJldHVybiBiLmxhbmVzPWEubGFuZXMsWmkoYSxiLGUpfXJldHVybiBjaihhLGIsYyxkLGUpfVxuZnVuY3Rpb24gZGooYSxiLGMpe3ZhciBkPWIucGVuZGluZ1Byb3BzLGU9ZC5jaGlsZHJlbixmPW51bGwhPT1hP2EubWVtb2l6ZWRTdGF0ZTpudWxsO2lmKFwiaGlkZGVuXCI9PT1kLm1vZGUpaWYoMD09PShiLm1vZGUmMSkpYi5tZW1vaXplZFN0YXRlPXtiYXNlTGFuZXM6MCxjYWNoZVBvb2w6bnVsbCx0cmFuc2l0aW9uczpudWxsfSxHKGVqLGZqKSxmanw9YztlbHNle2lmKDA9PT0oYyYxMDczNzQxODI0KSlyZXR1cm4gYT1udWxsIT09Zj9mLmJhc2VMYW5lc3xjOmMsYi5sYW5lcz1iLmNoaWxkTGFuZXM9MTA3Mzc0MTgyNCxiLm1lbW9pemVkU3RhdGU9e2Jhc2VMYW5lczphLGNhY2hlUG9vbDpudWxsLHRyYW5zaXRpb25zOm51bGx9LGIudXBkYXRlUXVldWU9bnVsbCxHKGVqLGZqKSxmanw9YSxudWxsO2IubWVtb2l6ZWRTdGF0ZT17YmFzZUxhbmVzOjAsY2FjaGVQb29sOm51bGwsdHJhbnNpdGlvbnM6bnVsbH07ZD1udWxsIT09Zj9mLmJhc2VMYW5lczpjO0coZWosZmopO2ZqfD1kfWVsc2UgbnVsbCE9PVxuZj8oZD1mLmJhc2VMYW5lc3xjLGIubWVtb2l6ZWRTdGF0ZT1udWxsKTpkPWMsRyhlaixmaiksZmp8PWQ7WGkoYSxiLGUsYyk7cmV0dXJuIGIuY2hpbGR9ZnVuY3Rpb24gZ2ooYSxiKXt2YXIgYz1iLnJlZjtpZihudWxsPT09YSYmbnVsbCE9PWN8fG51bGwhPT1hJiZhLnJlZiE9PWMpYi5mbGFnc3w9NTEyLGIuZmxhZ3N8PTIwOTcxNTJ9ZnVuY3Rpb24gY2ooYSxiLGMsZCxlKXt2YXIgZj1aZihjKT9YZjpILmN1cnJlbnQ7Zj1ZZihiLGYpO2NoKGIsZSk7Yz1OaChhLGIsYyxkLGYsZSk7ZD1TaCgpO2lmKG51bGwhPT1hJiYhZGgpcmV0dXJuIGIudXBkYXRlUXVldWU9YS51cGRhdGVRdWV1ZSxiLmZsYWdzJj0tMjA1MyxhLmxhbmVzJj1+ZSxaaShhLGIsZSk7SSYmZCYmdmcoYik7Yi5mbGFnc3w9MTtYaShhLGIsYyxlKTtyZXR1cm4gYi5jaGlsZH1cbmZ1bmN0aW9uIGhqKGEsYixjLGQsZSl7aWYoWmYoYykpe3ZhciBmPSEwO2NnKGIpfWVsc2UgZj0hMTtjaChiLGUpO2lmKG51bGw9PT1iLnN0YXRlTm9kZSlpaihhLGIpLEdpKGIsYyxkKSxJaShiLGMsZCxlKSxkPSEwO2Vsc2UgaWYobnVsbD09PWEpe3ZhciBnPWIuc3RhdGVOb2RlLGg9Yi5tZW1vaXplZFByb3BzO2cucHJvcHM9aDt2YXIgaz1nLmNvbnRleHQsbD1jLmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PT10eXBlb2YgbCYmbnVsbCE9PWw/bD1laChsKToobD1aZihjKT9YZjpILmN1cnJlbnQsbD1ZZihiLGwpKTt2YXIgbT1jLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyxxPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBtfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtxfHxcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGcuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc3x8XG4oaCE9PWR8fGshPT1sKSYmSGkoYixnLGQsbCk7amg9ITE7dmFyIHI9Yi5tZW1vaXplZFN0YXRlO2cuc3RhdGU9cjtxaChiLGQsZyxlKTtrPWIubWVtb2l6ZWRTdGF0ZTtoIT09ZHx8ciE9PWt8fFdmLmN1cnJlbnR8fGpoPyhcImZ1bmN0aW9uXCI9PT10eXBlb2YgbSYmKERpKGIsYyxtLGQpLGs9Yi5tZW1vaXplZFN0YXRlKSwoaD1qaHx8RmkoYixjLGgsZCxyLGssbCkpPyhxfHxcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5jb21wb25lbnRXaWxsTW91bnR8fChcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5jb21wb25lbnRXaWxsTW91bnQmJmcuY29tcG9uZW50V2lsbE1vdW50KCksXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmZy5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkpLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmNvbXBvbmVudERpZE1vdW50JiYoYi5mbGFnc3w9NDE5NDMwOCkpOlxuKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLmNvbXBvbmVudERpZE1vdW50JiYoYi5mbGFnc3w9NDE5NDMwOCksYi5tZW1vaXplZFByb3BzPWQsYi5tZW1vaXplZFN0YXRlPWspLGcucHJvcHM9ZCxnLnN0YXRlPWssZy5jb250ZXh0PWwsZD1oKTooXCJmdW5jdGlvblwiPT09dHlwZW9mIGcuY29tcG9uZW50RGlkTW91bnQmJihiLmZsYWdzfD00MTk0MzA4KSxkPSExKX1lbHNle2c9Yi5zdGF0ZU5vZGU7bGgoYSxiKTtoPWIubWVtb2l6ZWRQcm9wcztsPWIudHlwZT09PWIuZWxlbWVudFR5cGU/aDpDaShiLnR5cGUsaCk7Zy5wcm9wcz1sO3E9Yi5wZW5kaW5nUHJvcHM7cj1nLmNvbnRleHQ7az1jLmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PT10eXBlb2YgayYmbnVsbCE9PWs/az1laChrKTooaz1aZihjKT9YZjpILmN1cnJlbnQsaz1ZZihiLGspKTt2YXIgeT1jLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczsobT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgeXx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGcuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUpfHxcblwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzfHwoaCE9PXF8fHIhPT1rKSYmSGkoYixnLGQsayk7amg9ITE7cj1iLm1lbW9pemVkU3RhdGU7Zy5zdGF0ZT1yO3FoKGIsZCxnLGUpO3ZhciBuPWIubWVtb2l6ZWRTdGF0ZTtoIT09cXx8ciE9PW58fFdmLmN1cnJlbnR8fGpoPyhcImZ1bmN0aW9uXCI9PT10eXBlb2YgeSYmKERpKGIsYyx5LGQpLG49Yi5tZW1vaXplZFN0YXRlKSwobD1qaHx8RmkoYixjLGwsZCxyLG4sayl8fCExKT8obXx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGcuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmNvbXBvbmVudFdpbGxVcGRhdGV8fChcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5jb21wb25lbnRXaWxsVXBkYXRlJiZnLmNvbXBvbmVudFdpbGxVcGRhdGUoZCxuLGspLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBnLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJiZcbmcuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUoZCxuLGspKSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5jb21wb25lbnREaWRVcGRhdGUmJihiLmZsYWdzfD00KSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSYmKGIuZmxhZ3N8PTEwMjQpKTooXCJmdW5jdGlvblwiIT09dHlwZW9mIGcuY29tcG9uZW50RGlkVXBkYXRlfHxoPT09YS5tZW1vaXplZFByb3BzJiZyPT09YS5tZW1vaXplZFN0YXRlfHwoYi5mbGFnc3w9NCksXCJmdW5jdGlvblwiIT09dHlwZW9mIGcuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fGg9PT1hLm1lbW9pemVkUHJvcHMmJnI9PT1hLm1lbW9pemVkU3RhdGV8fChiLmZsYWdzfD0xMDI0KSxiLm1lbW9pemVkUHJvcHM9ZCxiLm1lbW9pemVkU3RhdGU9biksZy5wcm9wcz1kLGcuc3RhdGU9bixnLmNvbnRleHQ9ayxkPWwpOihcImZ1bmN0aW9uXCIhPT10eXBlb2YgZy5jb21wb25lbnREaWRVcGRhdGV8fGg9PT1hLm1lbW9pemVkUHJvcHMmJnI9PT1cbmEubWVtb2l6ZWRTdGF0ZXx8KGIuZmxhZ3N8PTQpLFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBnLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHxoPT09YS5tZW1vaXplZFByb3BzJiZyPT09YS5tZW1vaXplZFN0YXRlfHwoYi5mbGFnc3w9MTAyNCksZD0hMSl9cmV0dXJuIGpqKGEsYixjLGQsZixlKX1cbmZ1bmN0aW9uIGpqKGEsYixjLGQsZSxmKXtnaihhLGIpO3ZhciBnPTAhPT0oYi5mbGFncyYxMjgpO2lmKCFkJiYhZylyZXR1cm4gZSYmZGcoYixjLCExKSxaaShhLGIsZik7ZD1iLnN0YXRlTm9kZTtXaS5jdXJyZW50PWI7dmFyIGg9ZyYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGMuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yP251bGw6ZC5yZW5kZXIoKTtiLmZsYWdzfD0xO251bGwhPT1hJiZnPyhiLmNoaWxkPVVnKGIsYS5jaGlsZCxudWxsLGYpLGIuY2hpbGQ9VWcoYixudWxsLGgsZikpOlhpKGEsYixoLGYpO2IubWVtb2l6ZWRTdGF0ZT1kLnN0YXRlO2UmJmRnKGIsYywhMCk7cmV0dXJuIGIuY2hpbGR9ZnVuY3Rpb24ga2ooYSl7dmFyIGI9YS5zdGF0ZU5vZGU7Yi5wZW5kaW5nQ29udGV4dD9hZyhhLGIucGVuZGluZ0NvbnRleHQsYi5wZW5kaW5nQ29udGV4dCE9PWIuY29udGV4dCk6Yi5jb250ZXh0JiZhZyhhLGIuY29udGV4dCwhMSk7eWgoYSxiLmNvbnRhaW5lckluZm8pfVxuZnVuY3Rpb24gbGooYSxiLGMsZCxlKXtJZygpO0pnKGUpO2IuZmxhZ3N8PTI1NjtYaShhLGIsYyxkKTtyZXR1cm4gYi5jaGlsZH12YXIgbWo9e2RlaHlkcmF0ZWQ6bnVsbCx0cmVlQ29udGV4dDpudWxsLHJldHJ5TGFuZTowfTtmdW5jdGlvbiBuaihhKXtyZXR1cm57YmFzZUxhbmVzOmEsY2FjaGVQb29sOm51bGwsdHJhbnNpdGlvbnM6bnVsbH19XG5mdW5jdGlvbiBvaihhLGIsYyl7dmFyIGQ9Yi5wZW5kaW5nUHJvcHMsZT1MLmN1cnJlbnQsZj0hMSxnPTAhPT0oYi5mbGFncyYxMjgpLGg7KGg9Zyl8fChoPW51bGwhPT1hJiZudWxsPT09YS5tZW1vaXplZFN0YXRlPyExOjAhPT0oZSYyKSk7aWYoaClmPSEwLGIuZmxhZ3MmPS0xMjk7ZWxzZSBpZihudWxsPT09YXx8bnVsbCE9PWEubWVtb2l6ZWRTdGF0ZSllfD0xO0coTCxlJjEpO2lmKG51bGw9PT1hKXtFZyhiKTthPWIubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09YSYmKGE9YS5kZWh5ZHJhdGVkLG51bGwhPT1hKSlyZXR1cm4gMD09PShiLm1vZGUmMSk/Yi5sYW5lcz0xOlwiJCFcIj09PWEuZGF0YT9iLmxhbmVzPTg6Yi5sYW5lcz0xMDczNzQxODI0LG51bGw7Zz1kLmNoaWxkcmVuO2E9ZC5mYWxsYmFjaztyZXR1cm4gZj8oZD1iLm1vZGUsZj1iLmNoaWxkLGc9e21vZGU6XCJoaWRkZW5cIixjaGlsZHJlbjpnfSwwPT09KGQmMSkmJm51bGwhPT1mPyhmLmNoaWxkTGFuZXM9MCxmLnBlbmRpbmdQcm9wcz1cbmcpOmY9cGooZyxkLDAsbnVsbCksYT1UZyhhLGQsYyxudWxsKSxmLnJldHVybj1iLGEucmV0dXJuPWIsZi5zaWJsaW5nPWEsYi5jaGlsZD1mLGIuY2hpbGQubWVtb2l6ZWRTdGF0ZT1uaihjKSxiLm1lbW9pemVkU3RhdGU9bWosYSk6cWooYixnKX1lPWEubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09ZSYmKGg9ZS5kZWh5ZHJhdGVkLG51bGwhPT1oKSlyZXR1cm4gcmooYSxiLGcsZCxoLGUsYyk7aWYoZil7Zj1kLmZhbGxiYWNrO2c9Yi5tb2RlO2U9YS5jaGlsZDtoPWUuc2libGluZzt2YXIgaz17bW9kZTpcImhpZGRlblwiLGNoaWxkcmVuOmQuY2hpbGRyZW59OzA9PT0oZyYxKSYmYi5jaGlsZCE9PWU/KGQ9Yi5jaGlsZCxkLmNoaWxkTGFuZXM9MCxkLnBlbmRpbmdQcm9wcz1rLGIuZGVsZXRpb25zPW51bGwpOihkPVBnKGUsayksZC5zdWJ0cmVlRmxhZ3M9ZS5zdWJ0cmVlRmxhZ3MmMTQ2ODAwNjQpO251bGwhPT1oP2Y9UGcoaCxmKTooZj1UZyhmLGcsYyxudWxsKSxmLmZsYWdzfD0yKTtmLnJldHVybj1cbmI7ZC5yZXR1cm49YjtkLnNpYmxpbmc9ZjtiLmNoaWxkPWQ7ZD1mO2Y9Yi5jaGlsZDtnPWEuY2hpbGQubWVtb2l6ZWRTdGF0ZTtnPW51bGw9PT1nP25qKGMpOntiYXNlTGFuZXM6Zy5iYXNlTGFuZXN8YyxjYWNoZVBvb2w6bnVsbCx0cmFuc2l0aW9uczpnLnRyYW5zaXRpb25zfTtmLm1lbW9pemVkU3RhdGU9ZztmLmNoaWxkTGFuZXM9YS5jaGlsZExhbmVzJn5jO2IubWVtb2l6ZWRTdGF0ZT1tajtyZXR1cm4gZH1mPWEuY2hpbGQ7YT1mLnNpYmxpbmc7ZD1QZyhmLHttb2RlOlwidmlzaWJsZVwiLGNoaWxkcmVuOmQuY2hpbGRyZW59KTswPT09KGIubW9kZSYxKSYmKGQubGFuZXM9Yyk7ZC5yZXR1cm49YjtkLnNpYmxpbmc9bnVsbDtudWxsIT09YSYmKGM9Yi5kZWxldGlvbnMsbnVsbD09PWM/KGIuZGVsZXRpb25zPVthXSxiLmZsYWdzfD0xNik6Yy5wdXNoKGEpKTtiLmNoaWxkPWQ7Yi5tZW1vaXplZFN0YXRlPW51bGw7cmV0dXJuIGR9XG5mdW5jdGlvbiBxaihhLGIpe2I9cGooe21vZGU6XCJ2aXNpYmxlXCIsY2hpbGRyZW46Yn0sYS5tb2RlLDAsbnVsbCk7Yi5yZXR1cm49YTtyZXR1cm4gYS5jaGlsZD1ifWZ1bmN0aW9uIHNqKGEsYixjLGQpe251bGwhPT1kJiZKZyhkKTtVZyhiLGEuY2hpbGQsbnVsbCxjKTthPXFqKGIsYi5wZW5kaW5nUHJvcHMuY2hpbGRyZW4pO2EuZmxhZ3N8PTI7Yi5tZW1vaXplZFN0YXRlPW51bGw7cmV0dXJuIGF9XG5mdW5jdGlvbiByaihhLGIsYyxkLGUsZixnKXtpZihjKXtpZihiLmZsYWdzJjI1NilyZXR1cm4gYi5mbGFncyY9LTI1NyxkPUtpKEVycm9yKHAoNDIyKSkpLHNqKGEsYixnLGQpO2lmKG51bGwhPT1iLm1lbW9pemVkU3RhdGUpcmV0dXJuIGIuY2hpbGQ9YS5jaGlsZCxiLmZsYWdzfD0xMjgsbnVsbDtmPWQuZmFsbGJhY2s7ZT1iLm1vZGU7ZD1waih7bW9kZTpcInZpc2libGVcIixjaGlsZHJlbjpkLmNoaWxkcmVufSxlLDAsbnVsbCk7Zj1UZyhmLGUsZyxudWxsKTtmLmZsYWdzfD0yO2QucmV0dXJuPWI7Zi5yZXR1cm49YjtkLnNpYmxpbmc9ZjtiLmNoaWxkPWQ7MCE9PShiLm1vZGUmMSkmJlVnKGIsYS5jaGlsZCxudWxsLGcpO2IuY2hpbGQubWVtb2l6ZWRTdGF0ZT1uaihnKTtiLm1lbW9pemVkU3RhdGU9bWo7cmV0dXJuIGZ9aWYoMD09PShiLm1vZGUmMSkpcmV0dXJuIHNqKGEsYixnLG51bGwpO2lmKFwiJCFcIj09PWUuZGF0YSl7ZD1lLm5leHRTaWJsaW5nJiZlLm5leHRTaWJsaW5nLmRhdGFzZXQ7XG5pZihkKXZhciBoPWQuZGdzdDtkPWg7Zj1FcnJvcihwKDQxOSkpO2Q9S2koZixkLHZvaWQgMCk7cmV0dXJuIHNqKGEsYixnLGQpfWg9MCE9PShnJmEuY2hpbGRMYW5lcyk7aWYoZGh8fGgpe2Q9UTtpZihudWxsIT09ZCl7c3dpdGNoKGcmLWcpe2Nhc2UgNDplPTI7YnJlYWs7Y2FzZSAxNjplPTg7YnJlYWs7Y2FzZSA2NDpjYXNlIDEyODpjYXNlIDI1NjpjYXNlIDUxMjpjYXNlIDEwMjQ6Y2FzZSAyMDQ4OmNhc2UgNDA5NjpjYXNlIDgxOTI6Y2FzZSAxNjM4NDpjYXNlIDMyNzY4OmNhc2UgNjU1MzY6Y2FzZSAxMzEwNzI6Y2FzZSAyNjIxNDQ6Y2FzZSA1MjQyODg6Y2FzZSAxMDQ4NTc2OmNhc2UgMjA5NzE1MjpjYXNlIDQxOTQzMDQ6Y2FzZSA4Mzg4NjA4OmNhc2UgMTY3NzcyMTY6Y2FzZSAzMzU1NDQzMjpjYXNlIDY3MTA4ODY0OmU9MzI7YnJlYWs7Y2FzZSA1MzY4NzA5MTI6ZT0yNjg0MzU0NTY7YnJlYWs7ZGVmYXVsdDplPTB9ZT0wIT09KGUmKGQuc3VzcGVuZGVkTGFuZXN8ZykpPzA6ZTtcbjAhPT1lJiZlIT09Zi5yZXRyeUxhbmUmJihmLnJldHJ5TGFuZT1lLGloKGEsZSksZ2koZCxhLGUsLTEpKX10aigpO2Q9S2koRXJyb3IocCg0MjEpKSk7cmV0dXJuIHNqKGEsYixnLGQpfWlmKFwiJD9cIj09PWUuZGF0YSlyZXR1cm4gYi5mbGFnc3w9MTI4LGIuY2hpbGQ9YS5jaGlsZCxiPXVqLmJpbmQobnVsbCxhKSxlLl9yZWFjdFJldHJ5PWIsbnVsbDthPWYudHJlZUNvbnRleHQ7eWc9TGYoZS5uZXh0U2libGluZyk7eGc9YjtJPSEwO3pnPW51bGw7bnVsbCE9PWEmJihvZ1twZysrXT1yZyxvZ1twZysrXT1zZyxvZ1twZysrXT1xZyxyZz1hLmlkLHNnPWEub3ZlcmZsb3cscWc9Yik7Yj1xaihiLGQuY2hpbGRyZW4pO2IuZmxhZ3N8PTQwOTY7cmV0dXJuIGJ9ZnVuY3Rpb24gdmooYSxiLGMpe2EubGFuZXN8PWI7dmFyIGQ9YS5hbHRlcm5hdGU7bnVsbCE9PWQmJihkLmxhbmVzfD1iKTtiaChhLnJldHVybixiLGMpfVxuZnVuY3Rpb24gd2ooYSxiLGMsZCxlKXt2YXIgZj1hLm1lbW9pemVkU3RhdGU7bnVsbD09PWY/YS5tZW1vaXplZFN0YXRlPXtpc0JhY2t3YXJkczpiLHJlbmRlcmluZzpudWxsLHJlbmRlcmluZ1N0YXJ0VGltZTowLGxhc3Q6ZCx0YWlsOmMsdGFpbE1vZGU6ZX06KGYuaXNCYWNrd2FyZHM9YixmLnJlbmRlcmluZz1udWxsLGYucmVuZGVyaW5nU3RhcnRUaW1lPTAsZi5sYXN0PWQsZi50YWlsPWMsZi50YWlsTW9kZT1lKX1cbmZ1bmN0aW9uIHhqKGEsYixjKXt2YXIgZD1iLnBlbmRpbmdQcm9wcyxlPWQucmV2ZWFsT3JkZXIsZj1kLnRhaWw7WGkoYSxiLGQuY2hpbGRyZW4sYyk7ZD1MLmN1cnJlbnQ7aWYoMCE9PShkJjIpKWQ9ZCYxfDIsYi5mbGFnc3w9MTI4O2Vsc2V7aWYobnVsbCE9PWEmJjAhPT0oYS5mbGFncyYxMjgpKWE6Zm9yKGE9Yi5jaGlsZDtudWxsIT09YTspe2lmKDEzPT09YS50YWcpbnVsbCE9PWEubWVtb2l6ZWRTdGF0ZSYmdmooYSxjLGIpO2Vsc2UgaWYoMTk9PT1hLnRhZyl2aihhLGMsYik7ZWxzZSBpZihudWxsIT09YS5jaGlsZCl7YS5jaGlsZC5yZXR1cm49YTthPWEuY2hpbGQ7Y29udGludWV9aWYoYT09PWIpYnJlYWsgYTtmb3IoO251bGw9PT1hLnNpYmxpbmc7KXtpZihudWxsPT09YS5yZXR1cm58fGEucmV0dXJuPT09YilicmVhayBhO2E9YS5yZXR1cm59YS5zaWJsaW5nLnJldHVybj1hLnJldHVybjthPWEuc2libGluZ31kJj0xfUcoTCxkKTtpZigwPT09KGIubW9kZSYxKSliLm1lbW9pemVkU3RhdGU9XG5udWxsO2Vsc2Ugc3dpdGNoKGUpe2Nhc2UgXCJmb3J3YXJkc1wiOmM9Yi5jaGlsZDtmb3IoZT1udWxsO251bGwhPT1jOylhPWMuYWx0ZXJuYXRlLG51bGwhPT1hJiZudWxsPT09Q2goYSkmJihlPWMpLGM9Yy5zaWJsaW5nO2M9ZTtudWxsPT09Yz8oZT1iLmNoaWxkLGIuY2hpbGQ9bnVsbCk6KGU9Yy5zaWJsaW5nLGMuc2libGluZz1udWxsKTt3aihiLCExLGUsYyxmKTticmVhaztjYXNlIFwiYmFja3dhcmRzXCI6Yz1udWxsO2U9Yi5jaGlsZDtmb3IoYi5jaGlsZD1udWxsO251bGwhPT1lOyl7YT1lLmFsdGVybmF0ZTtpZihudWxsIT09YSYmbnVsbD09PUNoKGEpKXtiLmNoaWxkPWU7YnJlYWt9YT1lLnNpYmxpbmc7ZS5zaWJsaW5nPWM7Yz1lO2U9YX13aihiLCEwLGMsbnVsbCxmKTticmVhaztjYXNlIFwidG9nZXRoZXJcIjp3aihiLCExLG51bGwsbnVsbCx2b2lkIDApO2JyZWFrO2RlZmF1bHQ6Yi5tZW1vaXplZFN0YXRlPW51bGx9cmV0dXJuIGIuY2hpbGR9XG5mdW5jdGlvbiBpaihhLGIpezA9PT0oYi5tb2RlJjEpJiZudWxsIT09YSYmKGEuYWx0ZXJuYXRlPW51bGwsYi5hbHRlcm5hdGU9bnVsbCxiLmZsYWdzfD0yKX1mdW5jdGlvbiBaaShhLGIsYyl7bnVsbCE9PWEmJihiLmRlcGVuZGVuY2llcz1hLmRlcGVuZGVuY2llcyk7cmh8PWIubGFuZXM7aWYoMD09PShjJmIuY2hpbGRMYW5lcykpcmV0dXJuIG51bGw7aWYobnVsbCE9PWEmJmIuY2hpbGQhPT1hLmNoaWxkKXRocm93IEVycm9yKHAoMTUzKSk7aWYobnVsbCE9PWIuY2hpbGQpe2E9Yi5jaGlsZDtjPVBnKGEsYS5wZW5kaW5nUHJvcHMpO2IuY2hpbGQ9Yztmb3IoYy5yZXR1cm49YjtudWxsIT09YS5zaWJsaW5nOylhPWEuc2libGluZyxjPWMuc2libGluZz1QZyhhLGEucGVuZGluZ1Byb3BzKSxjLnJldHVybj1iO2Muc2libGluZz1udWxsfXJldHVybiBiLmNoaWxkfVxuZnVuY3Rpb24geWooYSxiLGMpe3N3aXRjaChiLnRhZyl7Y2FzZSAzOmtqKGIpO0lnKCk7YnJlYWs7Y2FzZSA1OkFoKGIpO2JyZWFrO2Nhc2UgMTpaZihiLnR5cGUpJiZjZyhiKTticmVhaztjYXNlIDQ6eWgoYixiLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKTticmVhaztjYXNlIDEwOnZhciBkPWIudHlwZS5fY29udGV4dCxlPWIubWVtb2l6ZWRQcm9wcy52YWx1ZTtHKFdnLGQuX2N1cnJlbnRWYWx1ZSk7ZC5fY3VycmVudFZhbHVlPWU7YnJlYWs7Y2FzZSAxMzpkPWIubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09ZCl7aWYobnVsbCE9PWQuZGVoeWRyYXRlZClyZXR1cm4gRyhMLEwuY3VycmVudCYxKSxiLmZsYWdzfD0xMjgsbnVsbDtpZigwIT09KGMmYi5jaGlsZC5jaGlsZExhbmVzKSlyZXR1cm4gb2ooYSxiLGMpO0coTCxMLmN1cnJlbnQmMSk7YT1aaShhLGIsYyk7cmV0dXJuIG51bGwhPT1hP2Euc2libGluZzpudWxsfUcoTCxMLmN1cnJlbnQmMSk7YnJlYWs7Y2FzZSAxOTpkPTAhPT0oYyZcbmIuY2hpbGRMYW5lcyk7aWYoMCE9PShhLmZsYWdzJjEyOCkpe2lmKGQpcmV0dXJuIHhqKGEsYixjKTtiLmZsYWdzfD0xMjh9ZT1iLm1lbW9pemVkU3RhdGU7bnVsbCE9PWUmJihlLnJlbmRlcmluZz1udWxsLGUudGFpbD1udWxsLGUubGFzdEVmZmVjdD1udWxsKTtHKEwsTC5jdXJyZW50KTtpZihkKWJyZWFrO2Vsc2UgcmV0dXJuIG51bGw7Y2FzZSAyMjpjYXNlIDIzOnJldHVybiBiLmxhbmVzPTAsZGooYSxiLGMpfXJldHVybiBaaShhLGIsYyl9dmFyIHpqLEFqLEJqLENqO1xuemo9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9Yi5jaGlsZDtudWxsIT09Yzspe2lmKDU9PT1jLnRhZ3x8Nj09PWMudGFnKWEuYXBwZW5kQ2hpbGQoYy5zdGF0ZU5vZGUpO2Vsc2UgaWYoNCE9PWMudGFnJiZudWxsIT09Yy5jaGlsZCl7Yy5jaGlsZC5yZXR1cm49YztjPWMuY2hpbGQ7Y29udGludWV9aWYoYz09PWIpYnJlYWs7Zm9yKDtudWxsPT09Yy5zaWJsaW5nOyl7aWYobnVsbD09PWMucmV0dXJufHxjLnJldHVybj09PWIpcmV0dXJuO2M9Yy5yZXR1cm59Yy5zaWJsaW5nLnJldHVybj1jLnJldHVybjtjPWMuc2libGluZ319O0FqPWZ1bmN0aW9uKCl7fTtcbkJqPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEubWVtb2l6ZWRQcm9wcztpZihlIT09ZCl7YT1iLnN0YXRlTm9kZTt4aCh1aC5jdXJyZW50KTt2YXIgZj1udWxsO3N3aXRjaChjKXtjYXNlIFwiaW5wdXRcIjplPVlhKGEsZSk7ZD1ZYShhLGQpO2Y9W107YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmU9QSh7fSxlLHt2YWx1ZTp2b2lkIDB9KTtkPUEoe30sZCx7dmFsdWU6dm9pZCAwfSk7Zj1bXTticmVhaztjYXNlIFwidGV4dGFyZWFcIjplPWdiKGEsZSk7ZD1nYihhLGQpO2Y9W107YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCIhPT10eXBlb2YgZS5vbkNsaWNrJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5vbkNsaWNrJiYoYS5vbmNsaWNrPUJmKX11YihjLGQpO3ZhciBnO2M9bnVsbDtmb3IobCBpbiBlKWlmKCFkLmhhc093blByb3BlcnR5KGwpJiZlLmhhc093blByb3BlcnR5KGwpJiZudWxsIT1lW2xdKWlmKFwic3R5bGVcIj09PWwpe3ZhciBoPWVbbF07Zm9yKGcgaW4gaCloLmhhc093blByb3BlcnR5KGcpJiZcbihjfHwoYz17fSksY1tnXT1cIlwiKX1lbHNlXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiIT09bCYmXCJjaGlsZHJlblwiIT09bCYmXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PWwmJlwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIhPT1sJiZcImF1dG9Gb2N1c1wiIT09bCYmKGVhLmhhc093blByb3BlcnR5KGwpP2Z8fChmPVtdKTooZj1mfHxbXSkucHVzaChsLG51bGwpKTtmb3IobCBpbiBkKXt2YXIgaz1kW2xdO2g9bnVsbCE9ZT9lW2xdOnZvaWQgMDtpZihkLmhhc093blByb3BlcnR5KGwpJiZrIT09aCYmKG51bGwhPWt8fG51bGwhPWgpKWlmKFwic3R5bGVcIj09PWwpaWYoaCl7Zm9yKGcgaW4gaCkhaC5oYXNPd25Qcm9wZXJ0eShnKXx8ayYmay5oYXNPd25Qcm9wZXJ0eShnKXx8KGN8fChjPXt9KSxjW2ddPVwiXCIpO2ZvcihnIGluIGspay5oYXNPd25Qcm9wZXJ0eShnKSYmaFtnXSE9PWtbZ10mJihjfHwoYz17fSksY1tnXT1rW2ddKX1lbHNlIGN8fChmfHwoZj1bXSksZi5wdXNoKGwsXG5jKSksYz1rO2Vsc2VcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1sPyhrPWs/ay5fX2h0bWw6dm9pZCAwLGg9aD9oLl9faHRtbDp2b2lkIDAsbnVsbCE9ayYmaCE9PWsmJihmPWZ8fFtdKS5wdXNoKGwsaykpOlwiY2hpbGRyZW5cIj09PWw/XCJzdHJpbmdcIiE9PXR5cGVvZiBrJiZcIm51bWJlclwiIT09dHlwZW9mIGt8fChmPWZ8fFtdKS5wdXNoKGwsXCJcIitrKTpcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09bCYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PWwmJihlYS5oYXNPd25Qcm9wZXJ0eShsKT8obnVsbCE9ayYmXCJvblNjcm9sbFwiPT09bCYmRChcInNjcm9sbFwiLGEpLGZ8fGg9PT1rfHwoZj1bXSkpOihmPWZ8fFtdKS5wdXNoKGwsaykpfWMmJihmPWZ8fFtdKS5wdXNoKFwic3R5bGVcIixjKTt2YXIgbD1mO2lmKGIudXBkYXRlUXVldWU9bCliLmZsYWdzfD00fX07Q2o9ZnVuY3Rpb24oYSxiLGMsZCl7YyE9PWQmJihiLmZsYWdzfD00KX07XG5mdW5jdGlvbiBEaihhLGIpe2lmKCFJKXN3aXRjaChhLnRhaWxNb2RlKXtjYXNlIFwiaGlkZGVuXCI6Yj1hLnRhaWw7Zm9yKHZhciBjPW51bGw7bnVsbCE9PWI7KW51bGwhPT1iLmFsdGVybmF0ZSYmKGM9YiksYj1iLnNpYmxpbmc7bnVsbD09PWM/YS50YWlsPW51bGw6Yy5zaWJsaW5nPW51bGw7YnJlYWs7Y2FzZSBcImNvbGxhcHNlZFwiOmM9YS50YWlsO2Zvcih2YXIgZD1udWxsO251bGwhPT1jOyludWxsIT09Yy5hbHRlcm5hdGUmJihkPWMpLGM9Yy5zaWJsaW5nO251bGw9PT1kP2J8fG51bGw9PT1hLnRhaWw/YS50YWlsPW51bGw6YS50YWlsLnNpYmxpbmc9bnVsbDpkLnNpYmxpbmc9bnVsbH19XG5mdW5jdGlvbiBTKGEpe3ZhciBiPW51bGwhPT1hLmFsdGVybmF0ZSYmYS5hbHRlcm5hdGUuY2hpbGQ9PT1hLmNoaWxkLGM9MCxkPTA7aWYoYilmb3IodmFyIGU9YS5jaGlsZDtudWxsIT09ZTspY3w9ZS5sYW5lc3xlLmNoaWxkTGFuZXMsZHw9ZS5zdWJ0cmVlRmxhZ3MmMTQ2ODAwNjQsZHw9ZS5mbGFncyYxNDY4MDA2NCxlLnJldHVybj1hLGU9ZS5zaWJsaW5nO2Vsc2UgZm9yKGU9YS5jaGlsZDtudWxsIT09ZTspY3w9ZS5sYW5lc3xlLmNoaWxkTGFuZXMsZHw9ZS5zdWJ0cmVlRmxhZ3MsZHw9ZS5mbGFncyxlLnJldHVybj1hLGU9ZS5zaWJsaW5nO2Euc3VidHJlZUZsYWdzfD1kO2EuY2hpbGRMYW5lcz1jO3JldHVybiBifVxuZnVuY3Rpb24gRWooYSxiLGMpe3ZhciBkPWIucGVuZGluZ1Byb3BzO3dnKGIpO3N3aXRjaChiLnRhZyl7Y2FzZSAyOmNhc2UgMTY6Y2FzZSAxNTpjYXNlIDA6Y2FzZSAxMTpjYXNlIDc6Y2FzZSA4OmNhc2UgMTI6Y2FzZSA5OmNhc2UgMTQ6cmV0dXJuIFMoYiksbnVsbDtjYXNlIDE6cmV0dXJuIFpmKGIudHlwZSkmJiRmKCksUyhiKSxudWxsO2Nhc2UgMzpkPWIuc3RhdGVOb2RlO3poKCk7RShXZik7RShIKTtFaCgpO2QucGVuZGluZ0NvbnRleHQmJihkLmNvbnRleHQ9ZC5wZW5kaW5nQ29udGV4dCxkLnBlbmRpbmdDb250ZXh0PW51bGwpO2lmKG51bGw9PT1hfHxudWxsPT09YS5jaGlsZClHZyhiKT9iLmZsYWdzfD00Om51bGw9PT1hfHxhLm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkJiYwPT09KGIuZmxhZ3MmMjU2KXx8KGIuZmxhZ3N8PTEwMjQsbnVsbCE9PXpnJiYoRmooemcpLHpnPW51bGwpKTtBaihhLGIpO1MoYik7cmV0dXJuIG51bGw7Y2FzZSA1OkJoKGIpO3ZhciBlPXhoKHdoLmN1cnJlbnQpO1xuYz1iLnR5cGU7aWYobnVsbCE9PWEmJm51bGwhPWIuc3RhdGVOb2RlKUJqKGEsYixjLGQsZSksYS5yZWYhPT1iLnJlZiYmKGIuZmxhZ3N8PTUxMixiLmZsYWdzfD0yMDk3MTUyKTtlbHNle2lmKCFkKXtpZihudWxsPT09Yi5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IocCgxNjYpKTtTKGIpO3JldHVybiBudWxsfWE9eGgodWguY3VycmVudCk7aWYoR2coYikpe2Q9Yi5zdGF0ZU5vZGU7Yz1iLnR5cGU7dmFyIGY9Yi5tZW1vaXplZFByb3BzO2RbT2ZdPWI7ZFtQZl09ZjthPTAhPT0oYi5tb2RlJjEpO3N3aXRjaChjKXtjYXNlIFwiZGlhbG9nXCI6RChcImNhbmNlbFwiLGQpO0QoXCJjbG9zZVwiLGQpO2JyZWFrO2Nhc2UgXCJpZnJhbWVcIjpjYXNlIFwib2JqZWN0XCI6Y2FzZSBcImVtYmVkXCI6RChcImxvYWRcIixkKTticmVhaztjYXNlIFwidmlkZW9cIjpjYXNlIFwiYXVkaW9cIjpmb3IoZT0wO2U8bGYubGVuZ3RoO2UrKylEKGxmW2VdLGQpO2JyZWFrO2Nhc2UgXCJzb3VyY2VcIjpEKFwiZXJyb3JcIixkKTticmVhaztjYXNlIFwiaW1nXCI6Y2FzZSBcImltYWdlXCI6Y2FzZSBcImxpbmtcIjpEKFwiZXJyb3JcIixcbmQpO0QoXCJsb2FkXCIsZCk7YnJlYWs7Y2FzZSBcImRldGFpbHNcIjpEKFwidG9nZ2xlXCIsZCk7YnJlYWs7Y2FzZSBcImlucHV0XCI6WmEoZCxmKTtEKFwiaW52YWxpZFwiLGQpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjpkLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhZi5tdWx0aXBsZX07RChcImludmFsaWRcIixkKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjpoYihkLGYpLEQoXCJpbnZhbGlkXCIsZCl9dWIoYyxmKTtlPW51bGw7Zm9yKHZhciBnIGluIGYpaWYoZi5oYXNPd25Qcm9wZXJ0eShnKSl7dmFyIGg9ZltnXTtcImNoaWxkcmVuXCI9PT1nP1wic3RyaW5nXCI9PT10eXBlb2YgaD9kLnRleHRDb250ZW50IT09aCYmKCEwIT09Zi5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcmJkFmKGQudGV4dENvbnRlbnQsaCxhKSxlPVtcImNoaWxkcmVuXCIsaF0pOlwibnVtYmVyXCI9PT10eXBlb2YgaCYmZC50ZXh0Q29udGVudCE9PVwiXCIraCYmKCEwIT09Zi5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcmJkFmKGQudGV4dENvbnRlbnQsXG5oLGEpLGU9W1wiY2hpbGRyZW5cIixcIlwiK2hdKTplYS5oYXNPd25Qcm9wZXJ0eShnKSYmbnVsbCE9aCYmXCJvblNjcm9sbFwiPT09ZyYmRChcInNjcm9sbFwiLGQpfXN3aXRjaChjKXtjYXNlIFwiaW5wdXRcIjpWYShkKTtkYihkLGYsITApO2JyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOlZhKGQpO2piKGQpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjpjYXNlIFwib3B0aW9uXCI6YnJlYWs7ZGVmYXVsdDpcImZ1bmN0aW9uXCI9PT10eXBlb2YgZi5vbkNsaWNrJiYoZC5vbmNsaWNrPUJmKX1kPWU7Yi51cGRhdGVRdWV1ZT1kO251bGwhPT1kJiYoYi5mbGFnc3w9NCl9ZWxzZXtnPTk9PT1lLm5vZGVUeXBlP2U6ZS5vd25lckRvY3VtZW50O1wiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiPT09YSYmKGE9a2IoYykpO1wiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiPT09YT9cInNjcmlwdFwiPT09Yz8oYT1nLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYS5pbm5lckhUTUw9XCI8c2NyaXB0PlxceDNjL3NjcmlwdD5cIixhPWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKSk6XG5cInN0cmluZ1wiPT09dHlwZW9mIGQuaXM/YT1nLmNyZWF0ZUVsZW1lbnQoYyx7aXM6ZC5pc30pOihhPWcuY3JlYXRlRWxlbWVudChjKSxcInNlbGVjdFwiPT09YyYmKGc9YSxkLm11bHRpcGxlP2cubXVsdGlwbGU9ITA6ZC5zaXplJiYoZy5zaXplPWQuc2l6ZSkpKTphPWcuY3JlYXRlRWxlbWVudE5TKGEsYyk7YVtPZl09YjthW1BmXT1kO3pqKGEsYiwhMSwhMSk7Yi5zdGF0ZU5vZGU9YTthOntnPXZiKGMsZCk7c3dpdGNoKGMpe2Nhc2UgXCJkaWFsb2dcIjpEKFwiY2FuY2VsXCIsYSk7RChcImNsb3NlXCIsYSk7ZT1kO2JyZWFrO2Nhc2UgXCJpZnJhbWVcIjpjYXNlIFwib2JqZWN0XCI6Y2FzZSBcImVtYmVkXCI6RChcImxvYWRcIixhKTtlPWQ7YnJlYWs7Y2FzZSBcInZpZGVvXCI6Y2FzZSBcImF1ZGlvXCI6Zm9yKGU9MDtlPGxmLmxlbmd0aDtlKyspRChsZltlXSxhKTtlPWQ7YnJlYWs7Y2FzZSBcInNvdXJjZVwiOkQoXCJlcnJvclwiLGEpO2U9ZDticmVhaztjYXNlIFwiaW1nXCI6Y2FzZSBcImltYWdlXCI6Y2FzZSBcImxpbmtcIjpEKFwiZXJyb3JcIixcbmEpO0QoXCJsb2FkXCIsYSk7ZT1kO2JyZWFrO2Nhc2UgXCJkZXRhaWxzXCI6RChcInRvZ2dsZVwiLGEpO2U9ZDticmVhaztjYXNlIFwiaW5wdXRcIjpaYShhLGQpO2U9WWEoYSxkKTtEKFwiaW52YWxpZFwiLGEpO2JyZWFrO2Nhc2UgXCJvcHRpb25cIjplPWQ7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmEuX3dyYXBwZXJTdGF0ZT17d2FzTXVsdGlwbGU6ISFkLm11bHRpcGxlfTtlPUEoe30sZCx7dmFsdWU6dm9pZCAwfSk7RChcImludmFsaWRcIixhKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjpoYihhLGQpO2U9Z2IoYSxkKTtEKFwiaW52YWxpZFwiLGEpO2JyZWFrO2RlZmF1bHQ6ZT1kfXViKGMsZSk7aD1lO2ZvcihmIGluIGgpaWYoaC5oYXNPd25Qcm9wZXJ0eShmKSl7dmFyIGs9aFtmXTtcInN0eWxlXCI9PT1mP3NiKGEsayk6XCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT09Zj8oaz1rP2suX19odG1sOnZvaWQgMCxudWxsIT1rJiZuYihhLGspKTpcImNoaWxkcmVuXCI9PT1mP1wic3RyaW5nXCI9PT10eXBlb2Ygaz8oXCJ0ZXh0YXJlYVwiIT09XG5jfHxcIlwiIT09aykmJm9iKGEsayk6XCJudW1iZXJcIj09PXR5cGVvZiBrJiZvYihhLFwiXCIrayk6XCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PWYmJlwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIhPT1mJiZcImF1dG9Gb2N1c1wiIT09ZiYmKGVhLmhhc093blByb3BlcnR5KGYpP251bGwhPWsmJlwib25TY3JvbGxcIj09PWYmJkQoXCJzY3JvbGxcIixhKTpudWxsIT1rJiZ0YShhLGYsayxnKSl9c3dpdGNoKGMpe2Nhc2UgXCJpbnB1dFwiOlZhKGEpO2RiKGEsZCwhMSk7YnJlYWs7Y2FzZSBcInRleHRhcmVhXCI6VmEoYSk7amIoYSk7YnJlYWs7Y2FzZSBcIm9wdGlvblwiOm51bGwhPWQudmFsdWUmJmEuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiK1NhKGQudmFsdWUpKTticmVhaztjYXNlIFwic2VsZWN0XCI6YS5tdWx0aXBsZT0hIWQubXVsdGlwbGU7Zj1kLnZhbHVlO251bGwhPWY/ZmIoYSwhIWQubXVsdGlwbGUsZiwhMSk6bnVsbCE9ZC5kZWZhdWx0VmFsdWUmJmZiKGEsISFkLm11bHRpcGxlLGQuZGVmYXVsdFZhbHVlLFxuITApO2JyZWFrO2RlZmF1bHQ6XCJmdW5jdGlvblwiPT09dHlwZW9mIGUub25DbGljayYmKGEub25jbGljaz1CZil9c3dpdGNoKGMpe2Nhc2UgXCJidXR0b25cIjpjYXNlIFwiaW5wdXRcIjpjYXNlIFwic2VsZWN0XCI6Y2FzZSBcInRleHRhcmVhXCI6ZD0hIWQuYXV0b0ZvY3VzO2JyZWFrIGE7Y2FzZSBcImltZ1wiOmQ9ITA7YnJlYWsgYTtkZWZhdWx0OmQ9ITF9fWQmJihiLmZsYWdzfD00KX1udWxsIT09Yi5yZWYmJihiLmZsYWdzfD01MTIsYi5mbGFnc3w9MjA5NzE1Mil9UyhiKTtyZXR1cm4gbnVsbDtjYXNlIDY6aWYoYSYmbnVsbCE9Yi5zdGF0ZU5vZGUpQ2ooYSxiLGEubWVtb2l6ZWRQcm9wcyxkKTtlbHNle2lmKFwic3RyaW5nXCIhPT10eXBlb2YgZCYmbnVsbD09PWIuc3RhdGVOb2RlKXRocm93IEVycm9yKHAoMTY2KSk7Yz14aCh3aC5jdXJyZW50KTt4aCh1aC5jdXJyZW50KTtpZihHZyhiKSl7ZD1iLnN0YXRlTm9kZTtjPWIubWVtb2l6ZWRQcm9wcztkW09mXT1iO2lmKGY9ZC5ub2RlVmFsdWUhPT1jKWlmKGE9XG54ZyxudWxsIT09YSlzd2l0Y2goYS50YWcpe2Nhc2UgMzpBZihkLm5vZGVWYWx1ZSxjLDAhPT0oYS5tb2RlJjEpKTticmVhaztjYXNlIDU6ITAhPT1hLm1lbW9pemVkUHJvcHMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJiZBZihkLm5vZGVWYWx1ZSxjLDAhPT0oYS5tb2RlJjEpKX1mJiYoYi5mbGFnc3w9NCl9ZWxzZSBkPSg5PT09Yy5ub2RlVHlwZT9jOmMub3duZXJEb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoZCksZFtPZl09YixiLnN0YXRlTm9kZT1kfVMoYik7cmV0dXJuIG51bGw7Y2FzZSAxMzpFKEwpO2Q9Yi5tZW1vaXplZFN0YXRlO2lmKG51bGw9PT1hfHxudWxsIT09YS5tZW1vaXplZFN0YXRlJiZudWxsIT09YS5tZW1vaXplZFN0YXRlLmRlaHlkcmF0ZWQpe2lmKEkmJm51bGwhPT15ZyYmMCE9PShiLm1vZGUmMSkmJjA9PT0oYi5mbGFncyYxMjgpKUhnKCksSWcoKSxiLmZsYWdzfD05ODU2MCxmPSExO2Vsc2UgaWYoZj1HZyhiKSxudWxsIT09ZCYmbnVsbCE9PWQuZGVoeWRyYXRlZCl7aWYobnVsbD09PVxuYSl7aWYoIWYpdGhyb3cgRXJyb3IocCgzMTgpKTtmPWIubWVtb2l6ZWRTdGF0ZTtmPW51bGwhPT1mP2YuZGVoeWRyYXRlZDpudWxsO2lmKCFmKXRocm93IEVycm9yKHAoMzE3KSk7ZltPZl09Yn1lbHNlIElnKCksMD09PShiLmZsYWdzJjEyOCkmJihiLm1lbW9pemVkU3RhdGU9bnVsbCksYi5mbGFnc3w9NDtTKGIpO2Y9ITF9ZWxzZSBudWxsIT09emcmJihGaih6Zyksemc9bnVsbCksZj0hMDtpZighZilyZXR1cm4gYi5mbGFncyY2NTUzNj9iOm51bGx9aWYoMCE9PShiLmZsYWdzJjEyOCkpcmV0dXJuIGIubGFuZXM9YyxiO2Q9bnVsbCE9PWQ7ZCE9PShudWxsIT09YSYmbnVsbCE9PWEubWVtb2l6ZWRTdGF0ZSkmJmQmJihiLmNoaWxkLmZsYWdzfD04MTkyLDAhPT0oYi5tb2RlJjEpJiYobnVsbD09PWF8fDAhPT0oTC5jdXJyZW50JjEpPzA9PT1UJiYoVD0zKTp0aigpKSk7bnVsbCE9PWIudXBkYXRlUXVldWUmJihiLmZsYWdzfD00KTtTKGIpO3JldHVybiBudWxsO2Nhc2UgNDpyZXR1cm4gemgoKSxcbkFqKGEsYiksbnVsbD09PWEmJnNmKGIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLFMoYiksbnVsbDtjYXNlIDEwOnJldHVybiBhaChiLnR5cGUuX2NvbnRleHQpLFMoYiksbnVsbDtjYXNlIDE3OnJldHVybiBaZihiLnR5cGUpJiYkZigpLFMoYiksbnVsbDtjYXNlIDE5OkUoTCk7Zj1iLm1lbW9pemVkU3RhdGU7aWYobnVsbD09PWYpcmV0dXJuIFMoYiksbnVsbDtkPTAhPT0oYi5mbGFncyYxMjgpO2c9Zi5yZW5kZXJpbmc7aWYobnVsbD09PWcpaWYoZClEaihmLCExKTtlbHNle2lmKDAhPT1UfHxudWxsIT09YSYmMCE9PShhLmZsYWdzJjEyOCkpZm9yKGE9Yi5jaGlsZDtudWxsIT09YTspe2c9Q2goYSk7aWYobnVsbCE9PWcpe2IuZmxhZ3N8PTEyODtEaihmLCExKTtkPWcudXBkYXRlUXVldWU7bnVsbCE9PWQmJihiLnVwZGF0ZVF1ZXVlPWQsYi5mbGFnc3w9NCk7Yi5zdWJ0cmVlRmxhZ3M9MDtkPWM7Zm9yKGM9Yi5jaGlsZDtudWxsIT09YzspZj1jLGE9ZCxmLmZsYWdzJj0xNDY4MDA2Nixcbmc9Zi5hbHRlcm5hdGUsbnVsbD09PWc/KGYuY2hpbGRMYW5lcz0wLGYubGFuZXM9YSxmLmNoaWxkPW51bGwsZi5zdWJ0cmVlRmxhZ3M9MCxmLm1lbW9pemVkUHJvcHM9bnVsbCxmLm1lbW9pemVkU3RhdGU9bnVsbCxmLnVwZGF0ZVF1ZXVlPW51bGwsZi5kZXBlbmRlbmNpZXM9bnVsbCxmLnN0YXRlTm9kZT1udWxsKTooZi5jaGlsZExhbmVzPWcuY2hpbGRMYW5lcyxmLmxhbmVzPWcubGFuZXMsZi5jaGlsZD1nLmNoaWxkLGYuc3VidHJlZUZsYWdzPTAsZi5kZWxldGlvbnM9bnVsbCxmLm1lbW9pemVkUHJvcHM9Zy5tZW1vaXplZFByb3BzLGYubWVtb2l6ZWRTdGF0ZT1nLm1lbW9pemVkU3RhdGUsZi51cGRhdGVRdWV1ZT1nLnVwZGF0ZVF1ZXVlLGYudHlwZT1nLnR5cGUsYT1nLmRlcGVuZGVuY2llcyxmLmRlcGVuZGVuY2llcz1udWxsPT09YT9udWxsOntsYW5lczphLmxhbmVzLGZpcnN0Q29udGV4dDphLmZpcnN0Q29udGV4dH0pLGM9Yy5zaWJsaW5nO0coTCxMLmN1cnJlbnQmMXwyKTtyZXR1cm4gYi5jaGlsZH1hPVxuYS5zaWJsaW5nfW51bGwhPT1mLnRhaWwmJkIoKT5HaiYmKGIuZmxhZ3N8PTEyOCxkPSEwLERqKGYsITEpLGIubGFuZXM9NDE5NDMwNCl9ZWxzZXtpZighZClpZihhPUNoKGcpLG51bGwhPT1hKXtpZihiLmZsYWdzfD0xMjgsZD0hMCxjPWEudXBkYXRlUXVldWUsbnVsbCE9PWMmJihiLnVwZGF0ZVF1ZXVlPWMsYi5mbGFnc3w9NCksRGooZiwhMCksbnVsbD09PWYudGFpbCYmXCJoaWRkZW5cIj09PWYudGFpbE1vZGUmJiFnLmFsdGVybmF0ZSYmIUkpcmV0dXJuIFMoYiksbnVsbH1lbHNlIDIqQigpLWYucmVuZGVyaW5nU3RhcnRUaW1lPkdqJiYxMDczNzQxODI0IT09YyYmKGIuZmxhZ3N8PTEyOCxkPSEwLERqKGYsITEpLGIubGFuZXM9NDE5NDMwNCk7Zi5pc0JhY2t3YXJkcz8oZy5zaWJsaW5nPWIuY2hpbGQsYi5jaGlsZD1nKTooYz1mLmxhc3QsbnVsbCE9PWM/Yy5zaWJsaW5nPWc6Yi5jaGlsZD1nLGYubGFzdD1nKX1pZihudWxsIT09Zi50YWlsKXJldHVybiBiPWYudGFpbCxmLnJlbmRlcmluZz1cbmIsZi50YWlsPWIuc2libGluZyxmLnJlbmRlcmluZ1N0YXJ0VGltZT1CKCksYi5zaWJsaW5nPW51bGwsYz1MLmN1cnJlbnQsRyhMLGQ/YyYxfDI6YyYxKSxiO1MoYik7cmV0dXJuIG51bGw7Y2FzZSAyMjpjYXNlIDIzOnJldHVybiBIaigpLGQ9bnVsbCE9PWIubWVtb2l6ZWRTdGF0ZSxudWxsIT09YSYmbnVsbCE9PWEubWVtb2l6ZWRTdGF0ZSE9PWQmJihiLmZsYWdzfD04MTkyKSxkJiYwIT09KGIubW9kZSYxKT8wIT09KGZqJjEwNzM3NDE4MjQpJiYoUyhiKSxiLnN1YnRyZWVGbGFncyY2JiYoYi5mbGFnc3w9ODE5MikpOlMoYiksbnVsbDtjYXNlIDI0OnJldHVybiBudWxsO2Nhc2UgMjU6cmV0dXJuIG51bGx9dGhyb3cgRXJyb3IocCgxNTYsYi50YWcpKTt9XG5mdW5jdGlvbiBJaihhLGIpe3dnKGIpO3N3aXRjaChiLnRhZyl7Y2FzZSAxOnJldHVybiBaZihiLnR5cGUpJiYkZigpLGE9Yi5mbGFncyxhJjY1NTM2PyhiLmZsYWdzPWEmLTY1NTM3fDEyOCxiKTpudWxsO2Nhc2UgMzpyZXR1cm4gemgoKSxFKFdmKSxFKEgpLEVoKCksYT1iLmZsYWdzLDAhPT0oYSY2NTUzNikmJjA9PT0oYSYxMjgpPyhiLmZsYWdzPWEmLTY1NTM3fDEyOCxiKTpudWxsO2Nhc2UgNTpyZXR1cm4gQmgoYiksbnVsbDtjYXNlIDEzOkUoTCk7YT1iLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWEmJm51bGwhPT1hLmRlaHlkcmF0ZWQpe2lmKG51bGw9PT1iLmFsdGVybmF0ZSl0aHJvdyBFcnJvcihwKDM0MCkpO0lnKCl9YT1iLmZsYWdzO3JldHVybiBhJjY1NTM2PyhiLmZsYWdzPWEmLTY1NTM3fDEyOCxiKTpudWxsO2Nhc2UgMTk6cmV0dXJuIEUoTCksbnVsbDtjYXNlIDQ6cmV0dXJuIHpoKCksbnVsbDtjYXNlIDEwOnJldHVybiBhaChiLnR5cGUuX2NvbnRleHQpLG51bGw7Y2FzZSAyMjpjYXNlIDIzOnJldHVybiBIaigpLFxubnVsbDtjYXNlIDI0OnJldHVybiBudWxsO2RlZmF1bHQ6cmV0dXJuIG51bGx9fXZhciBKaj0hMSxVPSExLEtqPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBXZWFrU2V0P1dlYWtTZXQ6U2V0LFY9bnVsbDtmdW5jdGlvbiBMaihhLGIpe3ZhciBjPWEucmVmO2lmKG51bGwhPT1jKWlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBjKXRyeXtjKG51bGwpfWNhdGNoKGQpe1coYSxiLGQpfWVsc2UgYy5jdXJyZW50PW51bGx9ZnVuY3Rpb24gTWooYSxiLGMpe3RyeXtjKCl9Y2F0Y2goZCl7VyhhLGIsZCl9fXZhciBOaj0hMTtcbmZ1bmN0aW9uIE9qKGEsYil7Q2Y9ZGQ7YT1NZSgpO2lmKE5lKGEpKXtpZihcInNlbGVjdGlvblN0YXJ0XCJpbiBhKXZhciBjPXtzdGFydDphLnNlbGVjdGlvblN0YXJ0LGVuZDphLnNlbGVjdGlvbkVuZH07ZWxzZSBhOntjPShjPWEub3duZXJEb2N1bWVudCkmJmMuZGVmYXVsdFZpZXd8fHdpbmRvdzt2YXIgZD1jLmdldFNlbGVjdGlvbiYmYy5nZXRTZWxlY3Rpb24oKTtpZihkJiYwIT09ZC5yYW5nZUNvdW50KXtjPWQuYW5jaG9yTm9kZTt2YXIgZT1kLmFuY2hvck9mZnNldCxmPWQuZm9jdXNOb2RlO2Q9ZC5mb2N1c09mZnNldDt0cnl7Yy5ub2RlVHlwZSxmLm5vZGVUeXBlfWNhdGNoKEYpe2M9bnVsbDticmVhayBhfXZhciBnPTAsaD0tMSxrPS0xLGw9MCxtPTAscT1hLHI9bnVsbDtiOmZvcig7Oyl7Zm9yKHZhciB5Ozspe3EhPT1jfHwwIT09ZSYmMyE9PXEubm9kZVR5cGV8fChoPWcrZSk7cSE9PWZ8fDAhPT1kJiYzIT09cS5ub2RlVHlwZXx8KGs9ZytkKTszPT09cS5ub2RlVHlwZSYmKGcrPVxucS5ub2RlVmFsdWUubGVuZ3RoKTtpZihudWxsPT09KHk9cS5maXJzdENoaWxkKSlicmVhaztyPXE7cT15fWZvcig7Oyl7aWYocT09PWEpYnJlYWsgYjtyPT09YyYmKytsPT09ZSYmKGg9Zyk7cj09PWYmJisrbT09PWQmJihrPWcpO2lmKG51bGwhPT0oeT1xLm5leHRTaWJsaW5nKSlicmVhaztxPXI7cj1xLnBhcmVudE5vZGV9cT15fWM9LTE9PT1ofHwtMT09PWs/bnVsbDp7c3RhcnQ6aCxlbmQ6a319ZWxzZSBjPW51bGx9Yz1jfHx7c3RhcnQ6MCxlbmQ6MH19ZWxzZSBjPW51bGw7RGY9e2ZvY3VzZWRFbGVtOmEsc2VsZWN0aW9uUmFuZ2U6Y307ZGQ9ITE7Zm9yKFY9YjtudWxsIT09VjspaWYoYj1WLGE9Yi5jaGlsZCwwIT09KGIuc3VidHJlZUZsYWdzJjEwMjgpJiZudWxsIT09YSlhLnJldHVybj1iLFY9YTtlbHNlIGZvcig7bnVsbCE9PVY7KXtiPVY7dHJ5e3ZhciBuPWIuYWx0ZXJuYXRlO2lmKDAhPT0oYi5mbGFncyYxMDI0KSlzd2l0Y2goYi50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6YnJlYWs7XG5jYXNlIDE6aWYobnVsbCE9PW4pe3ZhciB0PW4ubWVtb2l6ZWRQcm9wcyxKPW4ubWVtb2l6ZWRTdGF0ZSx4PWIuc3RhdGVOb2RlLHc9eC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShiLmVsZW1lbnRUeXBlPT09Yi50eXBlP3Q6Q2koYi50eXBlLHQpLEopO3guX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGU9d31icmVhaztjYXNlIDM6dmFyIHU9Yi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzsxPT09dS5ub2RlVHlwZT91LnRleHRDb250ZW50PVwiXCI6OT09PXUubm9kZVR5cGUmJnUuZG9jdW1lbnRFbGVtZW50JiZ1LnJlbW92ZUNoaWxkKHUuZG9jdW1lbnRFbGVtZW50KTticmVhaztjYXNlIDU6Y2FzZSA2OmNhc2UgNDpjYXNlIDE3OmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IocCgxNjMpKTt9fWNhdGNoKEYpe1coYixiLnJldHVybixGKX1hPWIuc2libGluZztpZihudWxsIT09YSl7YS5yZXR1cm49Yi5yZXR1cm47Vj1hO2JyZWFrfVY9Yi5yZXR1cm59bj1OajtOaj0hMTtyZXR1cm4gbn1cbmZ1bmN0aW9uIFBqKGEsYixjKXt2YXIgZD1iLnVwZGF0ZVF1ZXVlO2Q9bnVsbCE9PWQ/ZC5sYXN0RWZmZWN0Om51bGw7aWYobnVsbCE9PWQpe3ZhciBlPWQ9ZC5uZXh0O2Rve2lmKChlLnRhZyZhKT09PWEpe3ZhciBmPWUuZGVzdHJveTtlLmRlc3Ryb3k9dm9pZCAwO3ZvaWQgMCE9PWYmJk1qKGIsYyxmKX1lPWUubmV4dH13aGlsZShlIT09ZCl9fWZ1bmN0aW9uIFFqKGEsYil7Yj1iLnVwZGF0ZVF1ZXVlO2I9bnVsbCE9PWI/Yi5sYXN0RWZmZWN0Om51bGw7aWYobnVsbCE9PWIpe3ZhciBjPWI9Yi5uZXh0O2Rve2lmKChjLnRhZyZhKT09PWEpe3ZhciBkPWMuY3JlYXRlO2MuZGVzdHJveT1kKCl9Yz1jLm5leHR9d2hpbGUoYyE9PWIpfX1mdW5jdGlvbiBSaihhKXt2YXIgYj1hLnJlZjtpZihudWxsIT09Yil7dmFyIGM9YS5zdGF0ZU5vZGU7c3dpdGNoKGEudGFnKXtjYXNlIDU6YT1jO2JyZWFrO2RlZmF1bHQ6YT1jfVwiZnVuY3Rpb25cIj09PXR5cGVvZiBiP2IoYSk6Yi5jdXJyZW50PWF9fVxuZnVuY3Rpb24gU2ooYSl7dmFyIGI9YS5hbHRlcm5hdGU7bnVsbCE9PWImJihhLmFsdGVybmF0ZT1udWxsLFNqKGIpKTthLmNoaWxkPW51bGw7YS5kZWxldGlvbnM9bnVsbDthLnNpYmxpbmc9bnVsbDs1PT09YS50YWcmJihiPWEuc3RhdGVOb2RlLG51bGwhPT1iJiYoZGVsZXRlIGJbT2ZdLGRlbGV0ZSBiW1BmXSxkZWxldGUgYltvZl0sZGVsZXRlIGJbUWZdLGRlbGV0ZSBiW1JmXSkpO2Euc3RhdGVOb2RlPW51bGw7YS5yZXR1cm49bnVsbDthLmRlcGVuZGVuY2llcz1udWxsO2EubWVtb2l6ZWRQcm9wcz1udWxsO2EubWVtb2l6ZWRTdGF0ZT1udWxsO2EucGVuZGluZ1Byb3BzPW51bGw7YS5zdGF0ZU5vZGU9bnVsbDthLnVwZGF0ZVF1ZXVlPW51bGx9ZnVuY3Rpb24gVGooYSl7cmV0dXJuIDU9PT1hLnRhZ3x8Mz09PWEudGFnfHw0PT09YS50YWd9XG5mdW5jdGlvbiBVaihhKXthOmZvcig7Oyl7Zm9yKDtudWxsPT09YS5zaWJsaW5nOyl7aWYobnVsbD09PWEucmV0dXJufHxUaihhLnJldHVybikpcmV0dXJuIG51bGw7YT1hLnJldHVybn1hLnNpYmxpbmcucmV0dXJuPWEucmV0dXJuO2ZvcihhPWEuc2libGluZzs1IT09YS50YWcmJjYhPT1hLnRhZyYmMTghPT1hLnRhZzspe2lmKGEuZmxhZ3MmMiljb250aW51ZSBhO2lmKG51bGw9PT1hLmNoaWxkfHw0PT09YS50YWcpY29udGludWUgYTtlbHNlIGEuY2hpbGQucmV0dXJuPWEsYT1hLmNoaWxkfWlmKCEoYS5mbGFncyYyKSlyZXR1cm4gYS5zdGF0ZU5vZGV9fVxuZnVuY3Rpb24gVmooYSxiLGMpe3ZhciBkPWEudGFnO2lmKDU9PT1kfHw2PT09ZClhPWEuc3RhdGVOb2RlLGI/OD09PWMubm9kZVR5cGU/Yy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLGIpOmMuaW5zZXJ0QmVmb3JlKGEsYik6KDg9PT1jLm5vZGVUeXBlPyhiPWMucGFyZW50Tm9kZSxiLmluc2VydEJlZm9yZShhLGMpKTooYj1jLGIuYXBwZW5kQ2hpbGQoYSkpLGM9Yy5fcmVhY3RSb290Q29udGFpbmVyLG51bGwhPT1jJiZ2b2lkIDAhPT1jfHxudWxsIT09Yi5vbmNsaWNrfHwoYi5vbmNsaWNrPUJmKSk7ZWxzZSBpZig0IT09ZCYmKGE9YS5jaGlsZCxudWxsIT09YSkpZm9yKFZqKGEsYixjKSxhPWEuc2libGluZztudWxsIT09YTspVmooYSxiLGMpLGE9YS5zaWJsaW5nfVxuZnVuY3Rpb24gV2ooYSxiLGMpe3ZhciBkPWEudGFnO2lmKDU9PT1kfHw2PT09ZClhPWEuc3RhdGVOb2RlLGI/Yy5pbnNlcnRCZWZvcmUoYSxiKTpjLmFwcGVuZENoaWxkKGEpO2Vsc2UgaWYoNCE9PWQmJihhPWEuY2hpbGQsbnVsbCE9PWEpKWZvcihXaihhLGIsYyksYT1hLnNpYmxpbmc7bnVsbCE9PWE7KVdqKGEsYixjKSxhPWEuc2libGluZ312YXIgWD1udWxsLFhqPSExO2Z1bmN0aW9uIFlqKGEsYixjKXtmb3IoYz1jLmNoaWxkO251bGwhPT1jOylaaihhLGIsYyksYz1jLnNpYmxpbmd9XG5mdW5jdGlvbiBaaihhLGIsYyl7aWYobGMmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBsYy5vbkNvbW1pdEZpYmVyVW5tb3VudCl0cnl7bGMub25Db21taXRGaWJlclVubW91bnQoa2MsYyl9Y2F0Y2goaCl7fXN3aXRjaChjLnRhZyl7Y2FzZSA1OlV8fExqKGMsYik7Y2FzZSA2OnZhciBkPVgsZT1YajtYPW51bGw7WWooYSxiLGMpO1g9ZDtYaj1lO251bGwhPT1YJiYoWGo/KGE9WCxjPWMuc3RhdGVOb2RlLDg9PT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKTphLnJlbW92ZUNoaWxkKGMpKTpYLnJlbW92ZUNoaWxkKGMuc3RhdGVOb2RlKSk7YnJlYWs7Y2FzZSAxODpudWxsIT09WCYmKFhqPyhhPVgsYz1jLnN0YXRlTm9kZSw4PT09YS5ub2RlVHlwZT9LZihhLnBhcmVudE5vZGUsYyk6MT09PWEubm9kZVR5cGUmJktmKGEsYyksYmQoYSkpOktmKFgsYy5zdGF0ZU5vZGUpKTticmVhaztjYXNlIDQ6ZD1YO2U9WGo7WD1jLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1hqPSEwO1xuWWooYSxiLGMpO1g9ZDtYaj1lO2JyZWFrO2Nhc2UgMDpjYXNlIDExOmNhc2UgMTQ6Y2FzZSAxNTppZighVSYmKGQ9Yy51cGRhdGVRdWV1ZSxudWxsIT09ZCYmKGQ9ZC5sYXN0RWZmZWN0LG51bGwhPT1kKSkpe2U9ZD1kLm5leHQ7ZG97dmFyIGY9ZSxnPWYuZGVzdHJveTtmPWYudGFnO3ZvaWQgMCE9PWcmJigwIT09KGYmMik/TWooYyxiLGcpOjAhPT0oZiY0KSYmTWooYyxiLGcpKTtlPWUubmV4dH13aGlsZShlIT09ZCl9WWooYSxiLGMpO2JyZWFrO2Nhc2UgMTppZighVSYmKExqKGMsYiksZD1jLnN0YXRlTm9kZSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5jb21wb25lbnRXaWxsVW5tb3VudCkpdHJ5e2QucHJvcHM9Yy5tZW1vaXplZFByb3BzLGQuc3RhdGU9Yy5tZW1vaXplZFN0YXRlLGQuY29tcG9uZW50V2lsbFVubW91bnQoKX1jYXRjaChoKXtXKGMsYixoKX1ZaihhLGIsYyk7YnJlYWs7Y2FzZSAyMTpZaihhLGIsYyk7YnJlYWs7Y2FzZSAyMjpjLm1vZGUmMT8oVT0oZD1VKXx8bnVsbCE9PVxuYy5tZW1vaXplZFN0YXRlLFlqKGEsYixjKSxVPWQpOllqKGEsYixjKTticmVhaztkZWZhdWx0OllqKGEsYixjKX19ZnVuY3Rpb24gYWsoYSl7dmFyIGI9YS51cGRhdGVRdWV1ZTtpZihudWxsIT09Yil7YS51cGRhdGVRdWV1ZT1udWxsO3ZhciBjPWEuc3RhdGVOb2RlO251bGw9PT1jJiYoYz1hLnN0YXRlTm9kZT1uZXcgS2opO2IuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgZD1iay5iaW5kKG51bGwsYSxiKTtjLmhhcyhiKXx8KGMuYWRkKGIpLGIudGhlbihkLGQpKX0pfX1cbmZ1bmN0aW9uIGNrKGEsYil7dmFyIGM9Yi5kZWxldGlvbnM7aWYobnVsbCE9PWMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07dHJ5e3ZhciBmPWEsZz1iLGg9ZzthOmZvcig7bnVsbCE9PWg7KXtzd2l0Y2goaC50YWcpe2Nhc2UgNTpYPWguc3RhdGVOb2RlO1hqPSExO2JyZWFrIGE7Y2FzZSAzOlg9aC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztYaj0hMDticmVhayBhO2Nhc2UgNDpYPWguc3RhdGVOb2RlLmNvbnRhaW5lckluZm87WGo9ITA7YnJlYWsgYX1oPWgucmV0dXJufWlmKG51bGw9PT1YKXRocm93IEVycm9yKHAoMTYwKSk7WmooZixnLGUpO1g9bnVsbDtYaj0hMTt2YXIgaz1lLmFsdGVybmF0ZTtudWxsIT09ayYmKGsucmV0dXJuPW51bGwpO2UucmV0dXJuPW51bGx9Y2F0Y2gobCl7VyhlLGIsbCl9fWlmKGIuc3VidHJlZUZsYWdzJjEyODU0KWZvcihiPWIuY2hpbGQ7bnVsbCE9PWI7KWRrKGIsYSksYj1iLnNpYmxpbmd9XG5mdW5jdGlvbiBkayhhLGIpe3ZhciBjPWEuYWx0ZXJuYXRlLGQ9YS5mbGFncztzd2l0Y2goYS50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTQ6Y2FzZSAxNTpjayhiLGEpO2VrKGEpO2lmKGQmNCl7dHJ5e1BqKDMsYSxhLnJldHVybiksUWooMyxhKX1jYXRjaCh0KXtXKGEsYS5yZXR1cm4sdCl9dHJ5e1BqKDUsYSxhLnJldHVybil9Y2F0Y2godCl7VyhhLGEucmV0dXJuLHQpfX1icmVhaztjYXNlIDE6Y2soYixhKTtlayhhKTtkJjUxMiYmbnVsbCE9PWMmJkxqKGMsYy5yZXR1cm4pO2JyZWFrO2Nhc2UgNTpjayhiLGEpO2VrKGEpO2QmNTEyJiZudWxsIT09YyYmTGooYyxjLnJldHVybik7aWYoYS5mbGFncyYzMil7dmFyIGU9YS5zdGF0ZU5vZGU7dHJ5e29iKGUsXCJcIil9Y2F0Y2godCl7VyhhLGEucmV0dXJuLHQpfX1pZihkJjQmJihlPWEuc3RhdGVOb2RlLG51bGwhPWUpKXt2YXIgZj1hLm1lbW9pemVkUHJvcHMsZz1udWxsIT09Yz9jLm1lbW9pemVkUHJvcHM6ZixoPWEudHlwZSxrPWEudXBkYXRlUXVldWU7XG5hLnVwZGF0ZVF1ZXVlPW51bGw7aWYobnVsbCE9PWspdHJ5e1wiaW5wdXRcIj09PWgmJlwicmFkaW9cIj09PWYudHlwZSYmbnVsbCE9Zi5uYW1lJiZhYihlLGYpO3ZiKGgsZyk7dmFyIGw9dmIoaCxmKTtmb3IoZz0wO2c8ay5sZW5ndGg7Zys9Mil7dmFyIG09a1tnXSxxPWtbZysxXTtcInN0eWxlXCI9PT1tP3NiKGUscSk6XCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT09bT9uYihlLHEpOlwiY2hpbGRyZW5cIj09PW0/b2IoZSxxKTp0YShlLG0scSxsKX1zd2l0Y2goaCl7Y2FzZSBcImlucHV0XCI6YmIoZSxmKTticmVhaztjYXNlIFwidGV4dGFyZWFcIjppYihlLGYpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjp2YXIgcj1lLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGU7ZS5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlPSEhZi5tdWx0aXBsZTt2YXIgeT1mLnZhbHVlO251bGwhPXk/ZmIoZSwhIWYubXVsdGlwbGUseSwhMSk6ciE9PSEhZi5tdWx0aXBsZSYmKG51bGwhPWYuZGVmYXVsdFZhbHVlP2ZiKGUsISFmLm11bHRpcGxlLFxuZi5kZWZhdWx0VmFsdWUsITApOmZiKGUsISFmLm11bHRpcGxlLGYubXVsdGlwbGU/W106XCJcIiwhMSkpfWVbUGZdPWZ9Y2F0Y2godCl7VyhhLGEucmV0dXJuLHQpfX1icmVhaztjYXNlIDY6Y2soYixhKTtlayhhKTtpZihkJjQpe2lmKG51bGw9PT1hLnN0YXRlTm9kZSl0aHJvdyBFcnJvcihwKDE2MikpO2U9YS5zdGF0ZU5vZGU7Zj1hLm1lbW9pemVkUHJvcHM7dHJ5e2Uubm9kZVZhbHVlPWZ9Y2F0Y2godCl7VyhhLGEucmV0dXJuLHQpfX1icmVhaztjYXNlIDM6Y2soYixhKTtlayhhKTtpZihkJjQmJm51bGwhPT1jJiZjLm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkKXRyeXtiZChiLmNvbnRhaW5lckluZm8pfWNhdGNoKHQpe1coYSxhLnJldHVybix0KX1icmVhaztjYXNlIDQ6Y2soYixhKTtlayhhKTticmVhaztjYXNlIDEzOmNrKGIsYSk7ZWsoYSk7ZT1hLmNoaWxkO2UuZmxhZ3MmODE5MiYmKGY9bnVsbCE9PWUubWVtb2l6ZWRTdGF0ZSxlLnN0YXRlTm9kZS5pc0hpZGRlbj1mLCFmfHxcbm51bGwhPT1lLmFsdGVybmF0ZSYmbnVsbCE9PWUuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGV8fChmaz1CKCkpKTtkJjQmJmFrKGEpO2JyZWFrO2Nhc2UgMjI6bT1udWxsIT09YyYmbnVsbCE9PWMubWVtb2l6ZWRTdGF0ZTthLm1vZGUmMT8oVT0obD1VKXx8bSxjayhiLGEpLFU9bCk6Y2soYixhKTtlayhhKTtpZihkJjgxOTIpe2w9bnVsbCE9PWEubWVtb2l6ZWRTdGF0ZTtpZigoYS5zdGF0ZU5vZGUuaXNIaWRkZW49bCkmJiFtJiYwIT09KGEubW9kZSYxKSlmb3IoVj1hLG09YS5jaGlsZDtudWxsIT09bTspe2ZvcihxPVY9bTtudWxsIT09Vjspe3I9Vjt5PXIuY2hpbGQ7c3dpdGNoKHIudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6UGooNCxyLHIucmV0dXJuKTticmVhaztjYXNlIDE6TGoocixyLnJldHVybik7dmFyIG49ci5zdGF0ZU5vZGU7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIG4uY29tcG9uZW50V2lsbFVubW91bnQpe2Q9cjtjPXIucmV0dXJuO3RyeXtiPWQsbi5wcm9wcz1cbmIubWVtb2l6ZWRQcm9wcyxuLnN0YXRlPWIubWVtb2l6ZWRTdGF0ZSxuLmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2godCl7VyhkLGMsdCl9fWJyZWFrO2Nhc2UgNTpMaihyLHIucmV0dXJuKTticmVhaztjYXNlIDIyOmlmKG51bGwhPT1yLm1lbW9pemVkU3RhdGUpe2drKHEpO2NvbnRpbnVlfX1udWxsIT09eT8oeS5yZXR1cm49cixWPXkpOmdrKHEpfW09bS5zaWJsaW5nfWE6Zm9yKG09bnVsbCxxPWE7Oyl7aWYoNT09PXEudGFnKXtpZihudWxsPT09bSl7bT1xO3RyeXtlPXEuc3RhdGVOb2RlLGw/KGY9ZS5zdHlsZSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZi5zZXRQcm9wZXJ0eT9mLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLFwibm9uZVwiLFwiaW1wb3J0YW50XCIpOmYuZGlzcGxheT1cIm5vbmVcIik6KGg9cS5zdGF0ZU5vZGUsaz1xLm1lbW9pemVkUHJvcHMuc3R5bGUsZz12b2lkIDAhPT1rJiZudWxsIT09ayYmay5oYXNPd25Qcm9wZXJ0eShcImRpc3BsYXlcIik/ay5kaXNwbGF5Om51bGwsaC5zdHlsZS5kaXNwbGF5PVxucmIoXCJkaXNwbGF5XCIsZykpfWNhdGNoKHQpe1coYSxhLnJldHVybix0KX19fWVsc2UgaWYoNj09PXEudGFnKXtpZihudWxsPT09bSl0cnl7cS5zdGF0ZU5vZGUubm9kZVZhbHVlPWw/XCJcIjpxLm1lbW9pemVkUHJvcHN9Y2F0Y2godCl7VyhhLGEucmV0dXJuLHQpfX1lbHNlIGlmKCgyMiE9PXEudGFnJiYyMyE9PXEudGFnfHxudWxsPT09cS5tZW1vaXplZFN0YXRlfHxxPT09YSkmJm51bGwhPT1xLmNoaWxkKXtxLmNoaWxkLnJldHVybj1xO3E9cS5jaGlsZDtjb250aW51ZX1pZihxPT09YSlicmVhayBhO2Zvcig7bnVsbD09PXEuc2libGluZzspe2lmKG51bGw9PT1xLnJldHVybnx8cS5yZXR1cm49PT1hKWJyZWFrIGE7bT09PXEmJihtPW51bGwpO3E9cS5yZXR1cm59bT09PXEmJihtPW51bGwpO3Euc2libGluZy5yZXR1cm49cS5yZXR1cm47cT1xLnNpYmxpbmd9fWJyZWFrO2Nhc2UgMTk6Y2soYixhKTtlayhhKTtkJjQmJmFrKGEpO2JyZWFrO2Nhc2UgMjE6YnJlYWs7ZGVmYXVsdDpjayhiLFxuYSksZWsoYSl9fWZ1bmN0aW9uIGVrKGEpe3ZhciBiPWEuZmxhZ3M7aWYoYiYyKXt0cnl7YTp7Zm9yKHZhciBjPWEucmV0dXJuO251bGwhPT1jOyl7aWYoVGooYykpe3ZhciBkPWM7YnJlYWsgYX1jPWMucmV0dXJufXRocm93IEVycm9yKHAoMTYwKSk7fXN3aXRjaChkLnRhZyl7Y2FzZSA1OnZhciBlPWQuc3RhdGVOb2RlO2QuZmxhZ3MmMzImJihvYihlLFwiXCIpLGQuZmxhZ3MmPS0zMyk7dmFyIGY9VWooYSk7V2ooYSxmLGUpO2JyZWFrO2Nhc2UgMzpjYXNlIDQ6dmFyIGc9ZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyxoPVVqKGEpO1ZqKGEsaCxnKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKHAoMTYxKSk7fX1jYXRjaChrKXtXKGEsYS5yZXR1cm4sayl9YS5mbGFncyY9LTN9YiY0MDk2JiYoYS5mbGFncyY9LTQwOTcpfWZ1bmN0aW9uIGhrKGEsYixjKXtWPWE7aWsoYSxiLGMpfVxuZnVuY3Rpb24gaWsoYSxiLGMpe2Zvcih2YXIgZD0wIT09KGEubW9kZSYxKTtudWxsIT09Vjspe3ZhciBlPVYsZj1lLmNoaWxkO2lmKDIyPT09ZS50YWcmJmQpe3ZhciBnPW51bGwhPT1lLm1lbW9pemVkU3RhdGV8fEpqO2lmKCFnKXt2YXIgaD1lLmFsdGVybmF0ZSxrPW51bGwhPT1oJiZudWxsIT09aC5tZW1vaXplZFN0YXRlfHxVO2g9Smo7dmFyIGw9VTtKaj1nO2lmKChVPWspJiYhbClmb3IoVj1lO251bGwhPT1WOylnPVYsaz1nLmNoaWxkLDIyPT09Zy50YWcmJm51bGwhPT1nLm1lbW9pemVkU3RhdGU/amsoZSk6bnVsbCE9PWs/KGsucmV0dXJuPWcsVj1rKTpqayhlKTtmb3IoO251bGwhPT1mOylWPWYsaWsoZixiLGMpLGY9Zi5zaWJsaW5nO1Y9ZTtKaj1oO1U9bH1rayhhLGIsYyl9ZWxzZSAwIT09KGUuc3VidHJlZUZsYWdzJjg3NzIpJiZudWxsIT09Zj8oZi5yZXR1cm49ZSxWPWYpOmtrKGEsYixjKX19XG5mdW5jdGlvbiBrayhhKXtmb3IoO251bGwhPT1WOyl7dmFyIGI9VjtpZigwIT09KGIuZmxhZ3MmODc3Mikpe3ZhciBjPWIuYWx0ZXJuYXRlO3RyeXtpZigwIT09KGIuZmxhZ3MmODc3Mikpc3dpdGNoKGIudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OlV8fFFqKDUsYik7YnJlYWs7Y2FzZSAxOnZhciBkPWIuc3RhdGVOb2RlO2lmKGIuZmxhZ3MmNCYmIVUpaWYobnVsbD09PWMpZC5jb21wb25lbnREaWRNb3VudCgpO2Vsc2V7dmFyIGU9Yi5lbGVtZW50VHlwZT09PWIudHlwZT9jLm1lbW9pemVkUHJvcHM6Q2koYi50eXBlLGMubWVtb2l6ZWRQcm9wcyk7ZC5jb21wb25lbnREaWRVcGRhdGUoZSxjLm1lbW9pemVkU3RhdGUsZC5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSl9dmFyIGY9Yi51cGRhdGVRdWV1ZTtudWxsIT09ZiYmc2goYixmLGQpO2JyZWFrO2Nhc2UgMzp2YXIgZz1iLnVwZGF0ZVF1ZXVlO2lmKG51bGwhPT1nKXtjPW51bGw7aWYobnVsbCE9PWIuY2hpbGQpc3dpdGNoKGIuY2hpbGQudGFnKXtjYXNlIDU6Yz1cbmIuY2hpbGQuc3RhdGVOb2RlO2JyZWFrO2Nhc2UgMTpjPWIuY2hpbGQuc3RhdGVOb2RlfXNoKGIsZyxjKX1icmVhaztjYXNlIDU6dmFyIGg9Yi5zdGF0ZU5vZGU7aWYobnVsbD09PWMmJmIuZmxhZ3MmNCl7Yz1oO3ZhciBrPWIubWVtb2l6ZWRQcm9wcztzd2l0Y2goYi50eXBlKXtjYXNlIFwiYnV0dG9uXCI6Y2FzZSBcImlucHV0XCI6Y2FzZSBcInNlbGVjdFwiOmNhc2UgXCJ0ZXh0YXJlYVwiOmsuYXV0b0ZvY3VzJiZjLmZvY3VzKCk7YnJlYWs7Y2FzZSBcImltZ1wiOmsuc3JjJiYoYy5zcmM9ay5zcmMpfX1icmVhaztjYXNlIDY6YnJlYWs7Y2FzZSA0OmJyZWFrO2Nhc2UgMTI6YnJlYWs7Y2FzZSAxMzppZihudWxsPT09Yi5tZW1vaXplZFN0YXRlKXt2YXIgbD1iLmFsdGVybmF0ZTtpZihudWxsIT09bCl7dmFyIG09bC5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1tKXt2YXIgcT1tLmRlaHlkcmF0ZWQ7bnVsbCE9PXEmJmJkKHEpfX19YnJlYWs7Y2FzZSAxOTpjYXNlIDE3OmNhc2UgMjE6Y2FzZSAyMjpjYXNlIDIzOmNhc2UgMjU6YnJlYWs7XG5kZWZhdWx0OnRocm93IEVycm9yKHAoMTYzKSk7fVV8fGIuZmxhZ3MmNTEyJiZSaihiKX1jYXRjaChyKXtXKGIsYi5yZXR1cm4scil9fWlmKGI9PT1hKXtWPW51bGw7YnJlYWt9Yz1iLnNpYmxpbmc7aWYobnVsbCE9PWMpe2MucmV0dXJuPWIucmV0dXJuO1Y9YzticmVha31WPWIucmV0dXJufX1mdW5jdGlvbiBnayhhKXtmb3IoO251bGwhPT1WOyl7dmFyIGI9VjtpZihiPT09YSl7Vj1udWxsO2JyZWFrfXZhciBjPWIuc2libGluZztpZihudWxsIT09Yyl7Yy5yZXR1cm49Yi5yZXR1cm47Vj1jO2JyZWFrfVY9Yi5yZXR1cm59fVxuZnVuY3Rpb24gamsoYSl7Zm9yKDtudWxsIT09Vjspe3ZhciBiPVY7dHJ5e3N3aXRjaChiLnRhZyl7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNTp2YXIgYz1iLnJldHVybjt0cnl7UWooNCxiKX1jYXRjaChrKXtXKGIsYyxrKX1icmVhaztjYXNlIDE6dmFyIGQ9Yi5zdGF0ZU5vZGU7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGQuY29tcG9uZW50RGlkTW91bnQpe3ZhciBlPWIucmV0dXJuO3RyeXtkLmNvbXBvbmVudERpZE1vdW50KCl9Y2F0Y2goayl7VyhiLGUsayl9fXZhciBmPWIucmV0dXJuO3RyeXtSaihiKX1jYXRjaChrKXtXKGIsZixrKX1icmVhaztjYXNlIDU6dmFyIGc9Yi5yZXR1cm47dHJ5e1JqKGIpfWNhdGNoKGspe1coYixnLGspfX19Y2F0Y2goayl7VyhiLGIucmV0dXJuLGspfWlmKGI9PT1hKXtWPW51bGw7YnJlYWt9dmFyIGg9Yi5zaWJsaW5nO2lmKG51bGwhPT1oKXtoLnJldHVybj1iLnJldHVybjtWPWg7YnJlYWt9Vj1iLnJldHVybn19XG52YXIgbGs9TWF0aC5jZWlsLG1rPXVhLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsbms9dWEuUmVhY3RDdXJyZW50T3duZXIsb2s9dWEuUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsSz0wLFE9bnVsbCxZPW51bGwsWj0wLGZqPTAsZWo9VWYoMCksVD0wLHBrPW51bGwscmg9MCxxaz0wLHJrPTAsc2s9bnVsbCx0az1udWxsLGZrPTAsR2o9SW5maW5pdHksdWs9bnVsbCxPaT0hMSxQaT1udWxsLFJpPW51bGwsdms9ITEsd2s9bnVsbCx4az0wLHlrPTAsems9bnVsbCxBaz0tMSxCaz0wO2Z1bmN0aW9uIFIoKXtyZXR1cm4gMCE9PShLJjYpP0IoKTotMSE9PUFrP0FrOkFrPUIoKX1cbmZ1bmN0aW9uIHlpKGEpe2lmKDA9PT0oYS5tb2RlJjEpKXJldHVybiAxO2lmKDAhPT0oSyYyKSYmMCE9PVopcmV0dXJuIFomLVo7aWYobnVsbCE9PUtnLnRyYW5zaXRpb24pcmV0dXJuIDA9PT1CayYmKEJrPXljKCkpLEJrO2E9QztpZigwIT09YSlyZXR1cm4gYTthPXdpbmRvdy5ldmVudDthPXZvaWQgMD09PWE/MTY6amQoYS50eXBlKTtyZXR1cm4gYX1mdW5jdGlvbiBnaShhLGIsYyxkKXtpZig1MDx5ayl0aHJvdyB5az0wLHprPW51bGwsRXJyb3IocCgxODUpKTtBYyhhLGMsZCk7aWYoMD09PShLJjIpfHxhIT09USlhPT09USYmKDA9PT0oSyYyKSYmKHFrfD1jKSw0PT09VCYmQ2soYSxaKSksRGsoYSxkKSwxPT09YyYmMD09PUsmJjA9PT0oYi5tb2RlJjEpJiYoR2o9QigpKzUwMCxmZyYmamcoKSl9XG5mdW5jdGlvbiBEayhhLGIpe3ZhciBjPWEuY2FsbGJhY2tOb2RlO3djKGEsYik7dmFyIGQ9dWMoYSxhPT09UT9aOjApO2lmKDA9PT1kKW51bGwhPT1jJiZiYyhjKSxhLmNhbGxiYWNrTm9kZT1udWxsLGEuY2FsbGJhY2tQcmlvcml0eT0wO2Vsc2UgaWYoYj1kJi1kLGEuY2FsbGJhY2tQcmlvcml0eSE9PWIpe251bGwhPWMmJmJjKGMpO2lmKDE9PT1iKTA9PT1hLnRhZz9pZyhFay5iaW5kKG51bGwsYSkpOmhnKEVrLmJpbmQobnVsbCxhKSksSmYoZnVuY3Rpb24oKXswPT09KEsmNikmJmpnKCl9KSxjPW51bGw7ZWxzZXtzd2l0Y2goRGMoZCkpe2Nhc2UgMTpjPWZjO2JyZWFrO2Nhc2UgNDpjPWdjO2JyZWFrO2Nhc2UgMTY6Yz1oYzticmVhaztjYXNlIDUzNjg3MDkxMjpjPWpjO2JyZWFrO2RlZmF1bHQ6Yz1oY31jPUZrKGMsR2suYmluZChudWxsLGEpKX1hLmNhbGxiYWNrUHJpb3JpdHk9YjthLmNhbGxiYWNrTm9kZT1jfX1cbmZ1bmN0aW9uIEdrKGEsYil7QWs9LTE7Qms9MDtpZigwIT09KEsmNikpdGhyb3cgRXJyb3IocCgzMjcpKTt2YXIgYz1hLmNhbGxiYWNrTm9kZTtpZihIaygpJiZhLmNhbGxiYWNrTm9kZSE9PWMpcmV0dXJuIG51bGw7dmFyIGQ9dWMoYSxhPT09UT9aOjApO2lmKDA9PT1kKXJldHVybiBudWxsO2lmKDAhPT0oZCYzMCl8fDAhPT0oZCZhLmV4cGlyZWRMYW5lcyl8fGIpYj1JayhhLGQpO2Vsc2V7Yj1kO3ZhciBlPUs7S3w9Mjt2YXIgZj1KaygpO2lmKFEhPT1hfHxaIT09Yil1az1udWxsLEdqPUIoKSs1MDAsS2soYSxiKTtkbyB0cnl7TGsoKTticmVha31jYXRjaChoKXtNayhhLGgpfXdoaWxlKDEpOyRnKCk7bWsuY3VycmVudD1mO0s9ZTtudWxsIT09WT9iPTA6KFE9bnVsbCxaPTAsYj1UKX1pZigwIT09Yil7Mj09PWImJihlPXhjKGEpLDAhPT1lJiYoZD1lLGI9TmsoYSxlKSkpO2lmKDE9PT1iKXRocm93IGM9cGssS2soYSwwKSxDayhhLGQpLERrKGEsQigpKSxjO2lmKDY9PT1iKUNrKGEsZCk7XG5lbHNle2U9YS5jdXJyZW50LmFsdGVybmF0ZTtpZigwPT09KGQmMzApJiYhT2soZSkmJihiPUlrKGEsZCksMj09PWImJihmPXhjKGEpLDAhPT1mJiYoZD1mLGI9TmsoYSxmKSkpLDE9PT1iKSl0aHJvdyBjPXBrLEtrKGEsMCksQ2soYSxkKSxEayhhLEIoKSksYzthLmZpbmlzaGVkV29yaz1lO2EuZmluaXNoZWRMYW5lcz1kO3N3aXRjaChiKXtjYXNlIDA6Y2FzZSAxOnRocm93IEVycm9yKHAoMzQ1KSk7Y2FzZSAyOlBrKGEsdGssdWspO2JyZWFrO2Nhc2UgMzpDayhhLGQpO2lmKChkJjEzMDAyMzQyNCk9PT1kJiYoYj1mays1MDAtQigpLDEwPGIpKXtpZigwIT09dWMoYSwwKSlicmVhaztlPWEuc3VzcGVuZGVkTGFuZXM7aWYoKGUmZCkhPT1kKXtSKCk7YS5waW5nZWRMYW5lc3w9YS5zdXNwZW5kZWRMYW5lcyZlO2JyZWFrfWEudGltZW91dEhhbmRsZT1GZihQay5iaW5kKG51bGwsYSx0ayx1ayksYik7YnJlYWt9UGsoYSx0ayx1ayk7YnJlYWs7Y2FzZSA0OkNrKGEsZCk7aWYoKGQmNDE5NDI0MCk9PT1cbmQpYnJlYWs7Yj1hLmV2ZW50VGltZXM7Zm9yKGU9LTE7MDxkOyl7dmFyIGc9MzEtb2MoZCk7Zj0xPDxnO2c9YltnXTtnPmUmJihlPWcpO2QmPX5mfWQ9ZTtkPUIoKS1kO2Q9KDEyMD5kPzEyMDo0ODA+ZD80ODA6MTA4MD5kPzEwODA6MTkyMD5kPzE5MjA6M0UzPmQ/M0UzOjQzMjA+ZD80MzIwOjE5NjAqbGsoZC8xOTYwKSktZDtpZigxMDxkKXthLnRpbWVvdXRIYW5kbGU9RmYoUGsuYmluZChudWxsLGEsdGssdWspLGQpO2JyZWFrfVBrKGEsdGssdWspO2JyZWFrO2Nhc2UgNTpQayhhLHRrLHVrKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKHAoMzI5KSk7fX19RGsoYSxCKCkpO3JldHVybiBhLmNhbGxiYWNrTm9kZT09PWM/R2suYmluZChudWxsLGEpOm51bGx9XG5mdW5jdGlvbiBOayhhLGIpe3ZhciBjPXNrO2EuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCYmKEtrKGEsYikuZmxhZ3N8PTI1Nik7YT1JayhhLGIpOzIhPT1hJiYoYj10ayx0az1jLG51bGwhPT1iJiZGaihiKSk7cmV0dXJuIGF9ZnVuY3Rpb24gRmooYSl7bnVsbD09PXRrP3RrPWE6dGsucHVzaC5hcHBseSh0ayxhKX1cbmZ1bmN0aW9uIE9rKGEpe2Zvcih2YXIgYj1hOzspe2lmKGIuZmxhZ3MmMTYzODQpe3ZhciBjPWIudXBkYXRlUXVldWU7aWYobnVsbCE9PWMmJihjPWMuc3RvcmVzLG51bGwhPT1jKSlmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxmPWUuZ2V0U25hcHNob3Q7ZT1lLnZhbHVlO3RyeXtpZighSGUoZigpLGUpKXJldHVybiExfWNhdGNoKGcpe3JldHVybiExfX19Yz1iLmNoaWxkO2lmKGIuc3VidHJlZUZsYWdzJjE2Mzg0JiZudWxsIT09YyljLnJldHVybj1iLGI9YztlbHNle2lmKGI9PT1hKWJyZWFrO2Zvcig7bnVsbD09PWIuc2libGluZzspe2lmKG51bGw9PT1iLnJldHVybnx8Yi5yZXR1cm49PT1hKXJldHVybiEwO2I9Yi5yZXR1cm59Yi5zaWJsaW5nLnJldHVybj1iLnJldHVybjtiPWIuc2libGluZ319cmV0dXJuITB9XG5mdW5jdGlvbiBDayhhLGIpe2ImPX5yaztiJj1+cWs7YS5zdXNwZW5kZWRMYW5lc3w9YjthLnBpbmdlZExhbmVzJj1+Yjtmb3IoYT1hLmV4cGlyYXRpb25UaW1lczswPGI7KXt2YXIgYz0zMS1vYyhiKSxkPTE8PGM7YVtjXT0tMTtiJj1+ZH19ZnVuY3Rpb24gRWsoYSl7aWYoMCE9PShLJjYpKXRocm93IEVycm9yKHAoMzI3KSk7SGsoKTt2YXIgYj11YyhhLDApO2lmKDA9PT0oYiYxKSlyZXR1cm4gRGsoYSxCKCkpLG51bGw7dmFyIGM9SWsoYSxiKTtpZigwIT09YS50YWcmJjI9PT1jKXt2YXIgZD14YyhhKTswIT09ZCYmKGI9ZCxjPU5rKGEsZCkpfWlmKDE9PT1jKXRocm93IGM9cGssS2soYSwwKSxDayhhLGIpLERrKGEsQigpKSxjO2lmKDY9PT1jKXRocm93IEVycm9yKHAoMzQ1KSk7YS5maW5pc2hlZFdvcms9YS5jdXJyZW50LmFsdGVybmF0ZTthLmZpbmlzaGVkTGFuZXM9YjtQayhhLHRrLHVrKTtEayhhLEIoKSk7cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBRayhhLGIpe3ZhciBjPUs7S3w9MTt0cnl7cmV0dXJuIGEoYil9ZmluYWxseXtLPWMsMD09PUsmJihHaj1CKCkrNTAwLGZnJiZqZygpKX19ZnVuY3Rpb24gUmsoYSl7bnVsbCE9PXdrJiYwPT09d2sudGFnJiYwPT09KEsmNikmJkhrKCk7dmFyIGI9SztLfD0xO3ZhciBjPW9rLnRyYW5zaXRpb24sZD1DO3RyeXtpZihvay50cmFuc2l0aW9uPW51bGwsQz0xLGEpcmV0dXJuIGEoKX1maW5hbGx5e0M9ZCxvay50cmFuc2l0aW9uPWMsSz1iLDA9PT0oSyY2KSYmamcoKX19ZnVuY3Rpb24gSGooKXtmaj1lai5jdXJyZW50O0UoZWopfVxuZnVuY3Rpb24gS2soYSxiKXthLmZpbmlzaGVkV29yaz1udWxsO2EuZmluaXNoZWRMYW5lcz0wO3ZhciBjPWEudGltZW91dEhhbmRsZTstMSE9PWMmJihhLnRpbWVvdXRIYW5kbGU9LTEsR2YoYykpO2lmKG51bGwhPT1ZKWZvcihjPVkucmV0dXJuO251bGwhPT1jOyl7dmFyIGQ9Yzt3ZyhkKTtzd2l0Y2goZC50YWcpe2Nhc2UgMTpkPWQudHlwZS5jaGlsZENvbnRleHRUeXBlcztudWxsIT09ZCYmdm9pZCAwIT09ZCYmJGYoKTticmVhaztjYXNlIDM6emgoKTtFKFdmKTtFKEgpO0VoKCk7YnJlYWs7Y2FzZSA1OkJoKGQpO2JyZWFrO2Nhc2UgNDp6aCgpO2JyZWFrO2Nhc2UgMTM6RShMKTticmVhaztjYXNlIDE5OkUoTCk7YnJlYWs7Y2FzZSAxMDphaChkLnR5cGUuX2NvbnRleHQpO2JyZWFrO2Nhc2UgMjI6Y2FzZSAyMzpIaigpfWM9Yy5yZXR1cm59UT1hO1k9YT1QZyhhLmN1cnJlbnQsbnVsbCk7Wj1maj1iO1Q9MDtwaz1udWxsO3JrPXFrPXJoPTA7dGs9c2s9bnVsbDtpZihudWxsIT09Zmgpe2ZvcihiPVxuMDtiPGZoLmxlbmd0aDtiKyspaWYoYz1maFtiXSxkPWMuaW50ZXJsZWF2ZWQsbnVsbCE9PWQpe2MuaW50ZXJsZWF2ZWQ9bnVsbDt2YXIgZT1kLm5leHQsZj1jLnBlbmRpbmc7aWYobnVsbCE9PWYpe3ZhciBnPWYubmV4dDtmLm5leHQ9ZTtkLm5leHQ9Z31jLnBlbmRpbmc9ZH1maD1udWxsfXJldHVybiBhfVxuZnVuY3Rpb24gTWsoYSxiKXtkb3t2YXIgYz1ZO3RyeXskZygpO0ZoLmN1cnJlbnQ9Umg7aWYoSWgpe2Zvcih2YXIgZD1NLm1lbW9pemVkU3RhdGU7bnVsbCE9PWQ7KXt2YXIgZT1kLnF1ZXVlO251bGwhPT1lJiYoZS5wZW5kaW5nPW51bGwpO2Q9ZC5uZXh0fUloPSExfUhoPTA7Tz1OPU09bnVsbDtKaD0hMTtLaD0wO25rLmN1cnJlbnQ9bnVsbDtpZihudWxsPT09Y3x8bnVsbD09PWMucmV0dXJuKXtUPTE7cGs9YjtZPW51bGw7YnJlYWt9YTp7dmFyIGY9YSxnPWMucmV0dXJuLGg9YyxrPWI7Yj1aO2guZmxhZ3N8PTMyNzY4O2lmKG51bGwhPT1rJiZcIm9iamVjdFwiPT09dHlwZW9mIGsmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBrLnRoZW4pe3ZhciBsPWssbT1oLHE9bS50YWc7aWYoMD09PShtLm1vZGUmMSkmJigwPT09cXx8MTE9PT1xfHwxNT09PXEpKXt2YXIgcj1tLmFsdGVybmF0ZTtyPyhtLnVwZGF0ZVF1ZXVlPXIudXBkYXRlUXVldWUsbS5tZW1vaXplZFN0YXRlPXIubWVtb2l6ZWRTdGF0ZSxcbm0ubGFuZXM9ci5sYW5lcyk6KG0udXBkYXRlUXVldWU9bnVsbCxtLm1lbW9pemVkU3RhdGU9bnVsbCl9dmFyIHk9VWkoZyk7aWYobnVsbCE9PXkpe3kuZmxhZ3MmPS0yNTc7VmkoeSxnLGgsZixiKTt5Lm1vZGUmMSYmU2koZixsLGIpO2I9eTtrPWw7dmFyIG49Yi51cGRhdGVRdWV1ZTtpZihudWxsPT09bil7dmFyIHQ9bmV3IFNldDt0LmFkZChrKTtiLnVwZGF0ZVF1ZXVlPXR9ZWxzZSBuLmFkZChrKTticmVhayBhfWVsc2V7aWYoMD09PShiJjEpKXtTaShmLGwsYik7dGooKTticmVhayBhfWs9RXJyb3IocCg0MjYpKX19ZWxzZSBpZihJJiZoLm1vZGUmMSl7dmFyIEo9VWkoZyk7aWYobnVsbCE9PUopezA9PT0oSi5mbGFncyY2NTUzNikmJihKLmZsYWdzfD0yNTYpO1ZpKEosZyxoLGYsYik7SmcoSmkoayxoKSk7YnJlYWsgYX19Zj1rPUppKGssaCk7NCE9PVQmJihUPTIpO251bGw9PT1zaz9zaz1bZl06c2sucHVzaChmKTtmPWc7ZG97c3dpdGNoKGYudGFnKXtjYXNlIDM6Zi5mbGFnc3w9NjU1MzY7XG5iJj0tYjtmLmxhbmVzfD1iO3ZhciB4PU5pKGYsayxiKTtwaChmLHgpO2JyZWFrIGE7Y2FzZSAxOmg9azt2YXIgdz1mLnR5cGUsdT1mLnN0YXRlTm9kZTtpZigwPT09KGYuZmxhZ3MmMTI4KSYmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiB3LmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcnx8bnVsbCE9PXUmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiB1LmNvbXBvbmVudERpZENhdGNoJiYobnVsbD09PVJpfHwhUmkuaGFzKHUpKSkpe2YuZmxhZ3N8PTY1NTM2O2ImPS1iO2YubGFuZXN8PWI7dmFyIEY9UWkoZixoLGIpO3BoKGYsRik7YnJlYWsgYX19Zj1mLnJldHVybn13aGlsZShudWxsIT09Zil9U2soYyl9Y2F0Y2gobmEpe2I9bmE7WT09PWMmJm51bGwhPT1jJiYoWT1jPWMucmV0dXJuKTtjb250aW51ZX1icmVha313aGlsZSgxKX1mdW5jdGlvbiBKaygpe3ZhciBhPW1rLmN1cnJlbnQ7bWsuY3VycmVudD1SaDtyZXR1cm4gbnVsbD09PWE/Umg6YX1cbmZ1bmN0aW9uIHRqKCl7aWYoMD09PVR8fDM9PT1UfHwyPT09VClUPTQ7bnVsbD09PVF8fDA9PT0ocmgmMjY4NDM1NDU1KSYmMD09PShxayYyNjg0MzU0NTUpfHxDayhRLFopfWZ1bmN0aW9uIElrKGEsYil7dmFyIGM9SztLfD0yO3ZhciBkPUprKCk7aWYoUSE9PWF8fFohPT1iKXVrPW51bGwsS2soYSxiKTtkbyB0cnl7VGsoKTticmVha31jYXRjaChlKXtNayhhLGUpfXdoaWxlKDEpOyRnKCk7Sz1jO21rLmN1cnJlbnQ9ZDtpZihudWxsIT09WSl0aHJvdyBFcnJvcihwKDI2MSkpO1E9bnVsbDtaPTA7cmV0dXJuIFR9ZnVuY3Rpb24gVGsoKXtmb3IoO251bGwhPT1ZOylVayhZKX1mdW5jdGlvbiBMaygpe2Zvcig7bnVsbCE9PVkmJiFjYygpOylVayhZKX1mdW5jdGlvbiBVayhhKXt2YXIgYj1WayhhLmFsdGVybmF0ZSxhLGZqKTthLm1lbW9pemVkUHJvcHM9YS5wZW5kaW5nUHJvcHM7bnVsbD09PWI/U2soYSk6WT1iO25rLmN1cnJlbnQ9bnVsbH1cbmZ1bmN0aW9uIFNrKGEpe3ZhciBiPWE7ZG97dmFyIGM9Yi5hbHRlcm5hdGU7YT1iLnJldHVybjtpZigwPT09KGIuZmxhZ3MmMzI3NjgpKXtpZihjPUVqKGMsYixmaiksbnVsbCE9PWMpe1k9YztyZXR1cm59fWVsc2V7Yz1JaihjLGIpO2lmKG51bGwhPT1jKXtjLmZsYWdzJj0zMjc2NztZPWM7cmV0dXJufWlmKG51bGwhPT1hKWEuZmxhZ3N8PTMyNzY4LGEuc3VidHJlZUZsYWdzPTAsYS5kZWxldGlvbnM9bnVsbDtlbHNle1Q9NjtZPW51bGw7cmV0dXJufX1iPWIuc2libGluZztpZihudWxsIT09Yil7WT1iO3JldHVybn1ZPWI9YX13aGlsZShudWxsIT09Yik7MD09PVQmJihUPTUpfWZ1bmN0aW9uIFBrKGEsYixjKXt2YXIgZD1DLGU9b2sudHJhbnNpdGlvbjt0cnl7b2sudHJhbnNpdGlvbj1udWxsLEM9MSxXayhhLGIsYyxkKX1maW5hbGx5e29rLnRyYW5zaXRpb249ZSxDPWR9cmV0dXJuIG51bGx9XG5mdW5jdGlvbiBXayhhLGIsYyxkKXtkbyBIaygpO3doaWxlKG51bGwhPT13ayk7aWYoMCE9PShLJjYpKXRocm93IEVycm9yKHAoMzI3KSk7Yz1hLmZpbmlzaGVkV29yazt2YXIgZT1hLmZpbmlzaGVkTGFuZXM7aWYobnVsbD09PWMpcmV0dXJuIG51bGw7YS5maW5pc2hlZFdvcms9bnVsbDthLmZpbmlzaGVkTGFuZXM9MDtpZihjPT09YS5jdXJyZW50KXRocm93IEVycm9yKHAoMTc3KSk7YS5jYWxsYmFja05vZGU9bnVsbDthLmNhbGxiYWNrUHJpb3JpdHk9MDt2YXIgZj1jLmxhbmVzfGMuY2hpbGRMYW5lcztCYyhhLGYpO2E9PT1RJiYoWT1RPW51bGwsWj0wKTswPT09KGMuc3VidHJlZUZsYWdzJjIwNjQpJiYwPT09KGMuZmxhZ3MmMjA2NCl8fHZrfHwodms9ITAsRmsoaGMsZnVuY3Rpb24oKXtIaygpO3JldHVybiBudWxsfSkpO2Y9MCE9PShjLmZsYWdzJjE1OTkwKTtpZigwIT09KGMuc3VidHJlZUZsYWdzJjE1OTkwKXx8Zil7Zj1vay50cmFuc2l0aW9uO29rLnRyYW5zaXRpb249bnVsbDtcbnZhciBnPUM7Qz0xO3ZhciBoPUs7S3w9NDtuay5jdXJyZW50PW51bGw7T2ooYSxjKTtkayhjLGEpO09lKERmKTtkZD0hIUNmO0RmPUNmPW51bGw7YS5jdXJyZW50PWM7aGsoYyxhLGUpO2RjKCk7Sz1oO0M9Zztvay50cmFuc2l0aW9uPWZ9ZWxzZSBhLmN1cnJlbnQ9Yzt2ayYmKHZrPSExLHdrPWEseGs9ZSk7Zj1hLnBlbmRpbmdMYW5lczswPT09ZiYmKFJpPW51bGwpO21jKGMuc3RhdGVOb2RlLGQpO0RrKGEsQigpKTtpZihudWxsIT09Yilmb3IoZD1hLm9uUmVjb3ZlcmFibGVFcnJvcixjPTA7YzxiLmxlbmd0aDtjKyspZT1iW2NdLGQoZS52YWx1ZSx7Y29tcG9uZW50U3RhY2s6ZS5zdGFjayxkaWdlc3Q6ZS5kaWdlc3R9KTtpZihPaSl0aHJvdyBPaT0hMSxhPVBpLFBpPW51bGwsYTswIT09KHhrJjEpJiYwIT09YS50YWcmJkhrKCk7Zj1hLnBlbmRpbmdMYW5lczswIT09KGYmMSk/YT09PXprP3lrKys6KHlrPTAsems9YSk6eWs9MDtqZygpO3JldHVybiBudWxsfVxuZnVuY3Rpb24gSGsoKXtpZihudWxsIT09d2spe3ZhciBhPURjKHhrKSxiPW9rLnRyYW5zaXRpb24sYz1DO3RyeXtvay50cmFuc2l0aW9uPW51bGw7Qz0xNj5hPzE2OmE7aWYobnVsbD09PXdrKXZhciBkPSExO2Vsc2V7YT13azt3az1udWxsO3hrPTA7aWYoMCE9PShLJjYpKXRocm93IEVycm9yKHAoMzMxKSk7dmFyIGU9SztLfD00O2ZvcihWPWEuY3VycmVudDtudWxsIT09Vjspe3ZhciBmPVYsZz1mLmNoaWxkO2lmKDAhPT0oVi5mbGFncyYxNikpe3ZhciBoPWYuZGVsZXRpb25zO2lmKG51bGwhPT1oKXtmb3IodmFyIGs9MDtrPGgubGVuZ3RoO2srKyl7dmFyIGw9aFtrXTtmb3IoVj1sO251bGwhPT1WOyl7dmFyIG09Vjtzd2l0Y2gobS50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6UGooOCxtLGYpfXZhciBxPW0uY2hpbGQ7aWYobnVsbCE9PXEpcS5yZXR1cm49bSxWPXE7ZWxzZSBmb3IoO251bGwhPT1WOyl7bT1WO3ZhciByPW0uc2libGluZyx5PW0ucmV0dXJuO1NqKG0pO2lmKG09PT1cbmwpe1Y9bnVsbDticmVha31pZihudWxsIT09cil7ci5yZXR1cm49eTtWPXI7YnJlYWt9Vj15fX19dmFyIG49Zi5hbHRlcm5hdGU7aWYobnVsbCE9PW4pe3ZhciB0PW4uY2hpbGQ7aWYobnVsbCE9PXQpe24uY2hpbGQ9bnVsbDtkb3t2YXIgSj10LnNpYmxpbmc7dC5zaWJsaW5nPW51bGw7dD1KfXdoaWxlKG51bGwhPT10KX19Vj1mfX1pZigwIT09KGYuc3VidHJlZUZsYWdzJjIwNjQpJiZudWxsIT09ZylnLnJldHVybj1mLFY9ZztlbHNlIGI6Zm9yKDtudWxsIT09Vjspe2Y9VjtpZigwIT09KGYuZmxhZ3MmMjA0OCkpc3dpdGNoKGYudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OlBqKDksZixmLnJldHVybil9dmFyIHg9Zi5zaWJsaW5nO2lmKG51bGwhPT14KXt4LnJldHVybj1mLnJldHVybjtWPXg7YnJlYWsgYn1WPWYucmV0dXJufX12YXIgdz1hLmN1cnJlbnQ7Zm9yKFY9dztudWxsIT09Vjspe2c9Vjt2YXIgdT1nLmNoaWxkO2lmKDAhPT0oZy5zdWJ0cmVlRmxhZ3MmMjA2NCkmJm51bGwhPT1cbnUpdS5yZXR1cm49ZyxWPXU7ZWxzZSBiOmZvcihnPXc7bnVsbCE9PVY7KXtoPVY7aWYoMCE9PShoLmZsYWdzJjIwNDgpKXRyeXtzd2l0Y2goaC50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6UWooOSxoKX19Y2F0Y2gobmEpe1coaCxoLnJldHVybixuYSl9aWYoaD09PWcpe1Y9bnVsbDticmVhayBifXZhciBGPWguc2libGluZztpZihudWxsIT09Ril7Ri5yZXR1cm49aC5yZXR1cm47Vj1GO2JyZWFrIGJ9Vj1oLnJldHVybn19Sz1lO2pnKCk7aWYobGMmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBsYy5vblBvc3RDb21taXRGaWJlclJvb3QpdHJ5e2xjLm9uUG9zdENvbW1pdEZpYmVyUm9vdChrYyxhKX1jYXRjaChuYSl7fWQ9ITB9cmV0dXJuIGR9ZmluYWxseXtDPWMsb2sudHJhbnNpdGlvbj1ifX1yZXR1cm4hMX1mdW5jdGlvbiBYayhhLGIsYyl7Yj1KaShjLGIpO2I9TmkoYSxiLDEpO2E9bmgoYSxiLDEpO2I9UigpO251bGwhPT1hJiYoQWMoYSwxLGIpLERrKGEsYikpfVxuZnVuY3Rpb24gVyhhLGIsYyl7aWYoMz09PWEudGFnKVhrKGEsYSxjKTtlbHNlIGZvcig7bnVsbCE9PWI7KXtpZigzPT09Yi50YWcpe1hrKGIsYSxjKTticmVha31lbHNlIGlmKDE9PT1iLnRhZyl7dmFyIGQ9Yi5zdGF0ZU5vZGU7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGIudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3J8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmNvbXBvbmVudERpZENhdGNoJiYobnVsbD09PVJpfHwhUmkuaGFzKGQpKSl7YT1KaShjLGEpO2E9UWkoYixhLDEpO2I9bmgoYixhLDEpO2E9UigpO251bGwhPT1iJiYoQWMoYiwxLGEpLERrKGIsYSkpO2JyZWFrfX1iPWIucmV0dXJufX1cbmZ1bmN0aW9uIFRpKGEsYixjKXt2YXIgZD1hLnBpbmdDYWNoZTtudWxsIT09ZCYmZC5kZWxldGUoYik7Yj1SKCk7YS5waW5nZWRMYW5lc3w9YS5zdXNwZW5kZWRMYW5lcyZjO1E9PT1hJiYoWiZjKT09PWMmJig0PT09VHx8Mz09PVQmJihaJjEzMDAyMzQyNCk9PT1aJiY1MDA+QigpLWZrP0trKGEsMCk6cmt8PWMpO0RrKGEsYil9ZnVuY3Rpb24gWWsoYSxiKXswPT09YiYmKDA9PT0oYS5tb2RlJjEpP2I9MTooYj1zYyxzYzw8PTEsMD09PShzYyYxMzAwMjM0MjQpJiYoc2M9NDE5NDMwNCkpKTt2YXIgYz1SKCk7YT1paChhLGIpO251bGwhPT1hJiYoQWMoYSxiLGMpLERrKGEsYykpfWZ1bmN0aW9uIHVqKGEpe3ZhciBiPWEubWVtb2l6ZWRTdGF0ZSxjPTA7bnVsbCE9PWImJihjPWIucmV0cnlMYW5lKTtZayhhLGMpfVxuZnVuY3Rpb24gYmsoYSxiKXt2YXIgYz0wO3N3aXRjaChhLnRhZyl7Y2FzZSAxMzp2YXIgZD1hLnN0YXRlTm9kZTt2YXIgZT1hLm1lbW9pemVkU3RhdGU7bnVsbCE9PWUmJihjPWUucmV0cnlMYW5lKTticmVhaztjYXNlIDE5OmQ9YS5zdGF0ZU5vZGU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihwKDMxNCkpO31udWxsIT09ZCYmZC5kZWxldGUoYik7WWsoYSxjKX12YXIgVms7XG5Waz1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9PWEpaWYoYS5tZW1vaXplZFByb3BzIT09Yi5wZW5kaW5nUHJvcHN8fFdmLmN1cnJlbnQpZGg9ITA7ZWxzZXtpZigwPT09KGEubGFuZXMmYykmJjA9PT0oYi5mbGFncyYxMjgpKXJldHVybiBkaD0hMSx5aihhLGIsYyk7ZGg9MCE9PShhLmZsYWdzJjEzMTA3Mik/ITA6ITF9ZWxzZSBkaD0hMSxJJiYwIT09KGIuZmxhZ3MmMTA0ODU3NikmJnVnKGIsbmcsYi5pbmRleCk7Yi5sYW5lcz0wO3N3aXRjaChiLnRhZyl7Y2FzZSAyOnZhciBkPWIudHlwZTtpaihhLGIpO2E9Yi5wZW5kaW5nUHJvcHM7dmFyIGU9WWYoYixILmN1cnJlbnQpO2NoKGIsYyk7ZT1OaChudWxsLGIsZCxhLGUsYyk7dmFyIGY9U2goKTtiLmZsYWdzfD0xO1wib2JqZWN0XCI9PT10eXBlb2YgZSYmbnVsbCE9PWUmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBlLnJlbmRlciYmdm9pZCAwPT09ZS4kJHR5cGVvZj8oYi50YWc9MSxiLm1lbW9pemVkU3RhdGU9bnVsbCxiLnVwZGF0ZVF1ZXVlPVxubnVsbCxaZihkKT8oZj0hMCxjZyhiKSk6Zj0hMSxiLm1lbW9pemVkU3RhdGU9bnVsbCE9PWUuc3RhdGUmJnZvaWQgMCE9PWUuc3RhdGU/ZS5zdGF0ZTpudWxsLGtoKGIpLGUudXBkYXRlcj1FaSxiLnN0YXRlTm9kZT1lLGUuX3JlYWN0SW50ZXJuYWxzPWIsSWkoYixkLGEsYyksYj1qaihudWxsLGIsZCwhMCxmLGMpKTooYi50YWc9MCxJJiZmJiZ2ZyhiKSxYaShudWxsLGIsZSxjKSxiPWIuY2hpbGQpO3JldHVybiBiO2Nhc2UgMTY6ZD1iLmVsZW1lbnRUeXBlO2E6e2lqKGEsYik7YT1iLnBlbmRpbmdQcm9wcztlPWQuX2luaXQ7ZD1lKGQuX3BheWxvYWQpO2IudHlwZT1kO2U9Yi50YWc9WmsoZCk7YT1DaShkLGEpO3N3aXRjaChlKXtjYXNlIDA6Yj1jaihudWxsLGIsZCxhLGMpO2JyZWFrIGE7Y2FzZSAxOmI9aGoobnVsbCxiLGQsYSxjKTticmVhayBhO2Nhc2UgMTE6Yj1ZaShudWxsLGIsZCxhLGMpO2JyZWFrIGE7Y2FzZSAxNDpiPSRpKG51bGwsYixkLENpKGQudHlwZSxhKSxjKTticmVhayBhfXRocm93IEVycm9yKHAoMzA2LFxuZCxcIlwiKSk7fXJldHVybiBiO2Nhc2UgMDpyZXR1cm4gZD1iLnR5cGUsZT1iLnBlbmRpbmdQcm9wcyxlPWIuZWxlbWVudFR5cGU9PT1kP2U6Q2koZCxlKSxjaihhLGIsZCxlLGMpO2Nhc2UgMTpyZXR1cm4gZD1iLnR5cGUsZT1iLnBlbmRpbmdQcm9wcyxlPWIuZWxlbWVudFR5cGU9PT1kP2U6Q2koZCxlKSxoaihhLGIsZCxlLGMpO2Nhc2UgMzphOntraihiKTtpZihudWxsPT09YSl0aHJvdyBFcnJvcihwKDM4NykpO2Q9Yi5wZW5kaW5nUHJvcHM7Zj1iLm1lbW9pemVkU3RhdGU7ZT1mLmVsZW1lbnQ7bGgoYSxiKTtxaChiLGQsbnVsbCxjKTt2YXIgZz1iLm1lbW9pemVkU3RhdGU7ZD1nLmVsZW1lbnQ7aWYoZi5pc0RlaHlkcmF0ZWQpaWYoZj17ZWxlbWVudDpkLGlzRGVoeWRyYXRlZDohMSxjYWNoZTpnLmNhY2hlLHBlbmRpbmdTdXNwZW5zZUJvdW5kYXJpZXM6Zy5wZW5kaW5nU3VzcGVuc2VCb3VuZGFyaWVzLHRyYW5zaXRpb25zOmcudHJhbnNpdGlvbnN9LGIudXBkYXRlUXVldWUuYmFzZVN0YXRlPVxuZixiLm1lbW9pemVkU3RhdGU9ZixiLmZsYWdzJjI1Nil7ZT1KaShFcnJvcihwKDQyMykpLGIpO2I9bGooYSxiLGQsYyxlKTticmVhayBhfWVsc2UgaWYoZCE9PWUpe2U9SmkoRXJyb3IocCg0MjQpKSxiKTtiPWxqKGEsYixkLGMsZSk7YnJlYWsgYX1lbHNlIGZvcih5Zz1MZihiLnN0YXRlTm9kZS5jb250YWluZXJJbmZvLmZpcnN0Q2hpbGQpLHhnPWIsST0hMCx6Zz1udWxsLGM9VmcoYixudWxsLGQsYyksYi5jaGlsZD1jO2M7KWMuZmxhZ3M9Yy5mbGFncyYtM3w0MDk2LGM9Yy5zaWJsaW5nO2Vsc2V7SWcoKTtpZihkPT09ZSl7Yj1aaShhLGIsYyk7YnJlYWsgYX1YaShhLGIsZCxjKX1iPWIuY2hpbGR9cmV0dXJuIGI7Y2FzZSA1OnJldHVybiBBaChiKSxudWxsPT09YSYmRWcoYiksZD1iLnR5cGUsZT1iLnBlbmRpbmdQcm9wcyxmPW51bGwhPT1hP2EubWVtb2l6ZWRQcm9wczpudWxsLGc9ZS5jaGlsZHJlbixFZihkLGUpP2c9bnVsbDpudWxsIT09ZiYmRWYoZCxmKSYmKGIuZmxhZ3N8PTMyKSxcbmdqKGEsYiksWGkoYSxiLGcsYyksYi5jaGlsZDtjYXNlIDY6cmV0dXJuIG51bGw9PT1hJiZFZyhiKSxudWxsO2Nhc2UgMTM6cmV0dXJuIG9qKGEsYixjKTtjYXNlIDQ6cmV0dXJuIHloKGIsYi5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyksZD1iLnBlbmRpbmdQcm9wcyxudWxsPT09YT9iLmNoaWxkPVVnKGIsbnVsbCxkLGMpOlhpKGEsYixkLGMpLGIuY2hpbGQ7Y2FzZSAxMTpyZXR1cm4gZD1iLnR5cGUsZT1iLnBlbmRpbmdQcm9wcyxlPWIuZWxlbWVudFR5cGU9PT1kP2U6Q2koZCxlKSxZaShhLGIsZCxlLGMpO2Nhc2UgNzpyZXR1cm4gWGkoYSxiLGIucGVuZGluZ1Byb3BzLGMpLGIuY2hpbGQ7Y2FzZSA4OnJldHVybiBYaShhLGIsYi5wZW5kaW5nUHJvcHMuY2hpbGRyZW4sYyksYi5jaGlsZDtjYXNlIDEyOnJldHVybiBYaShhLGIsYi5wZW5kaW5nUHJvcHMuY2hpbGRyZW4sYyksYi5jaGlsZDtjYXNlIDEwOmE6e2Q9Yi50eXBlLl9jb250ZXh0O2U9Yi5wZW5kaW5nUHJvcHM7Zj1iLm1lbW9pemVkUHJvcHM7XG5nPWUudmFsdWU7RyhXZyxkLl9jdXJyZW50VmFsdWUpO2QuX2N1cnJlbnRWYWx1ZT1nO2lmKG51bGwhPT1mKWlmKEhlKGYudmFsdWUsZykpe2lmKGYuY2hpbGRyZW49PT1lLmNoaWxkcmVuJiYhV2YuY3VycmVudCl7Yj1aaShhLGIsYyk7YnJlYWsgYX19ZWxzZSBmb3IoZj1iLmNoaWxkLG51bGwhPT1mJiYoZi5yZXR1cm49Yik7bnVsbCE9PWY7KXt2YXIgaD1mLmRlcGVuZGVuY2llcztpZihudWxsIT09aCl7Zz1mLmNoaWxkO2Zvcih2YXIgaz1oLmZpcnN0Q29udGV4dDtudWxsIT09azspe2lmKGsuY29udGV4dD09PWQpe2lmKDE9PT1mLnRhZyl7az1taCgtMSxjJi1jKTtrLnRhZz0yO3ZhciBsPWYudXBkYXRlUXVldWU7aWYobnVsbCE9PWwpe2w9bC5zaGFyZWQ7dmFyIG09bC5wZW5kaW5nO251bGw9PT1tP2submV4dD1rOihrLm5leHQ9bS5uZXh0LG0ubmV4dD1rKTtsLnBlbmRpbmc9a319Zi5sYW5lc3w9YztrPWYuYWx0ZXJuYXRlO251bGwhPT1rJiYoay5sYW5lc3w9Yyk7YmgoZi5yZXR1cm4sXG5jLGIpO2gubGFuZXN8PWM7YnJlYWt9az1rLm5leHR9fWVsc2UgaWYoMTA9PT1mLnRhZylnPWYudHlwZT09PWIudHlwZT9udWxsOmYuY2hpbGQ7ZWxzZSBpZigxOD09PWYudGFnKXtnPWYucmV0dXJuO2lmKG51bGw9PT1nKXRocm93IEVycm9yKHAoMzQxKSk7Zy5sYW5lc3w9YztoPWcuYWx0ZXJuYXRlO251bGwhPT1oJiYoaC5sYW5lc3w9Yyk7YmgoZyxjLGIpO2c9Zi5zaWJsaW5nfWVsc2UgZz1mLmNoaWxkO2lmKG51bGwhPT1nKWcucmV0dXJuPWY7ZWxzZSBmb3IoZz1mO251bGwhPT1nOyl7aWYoZz09PWIpe2c9bnVsbDticmVha31mPWcuc2libGluZztpZihudWxsIT09Zil7Zi5yZXR1cm49Zy5yZXR1cm47Zz1mO2JyZWFrfWc9Zy5yZXR1cm59Zj1nfVhpKGEsYixlLmNoaWxkcmVuLGMpO2I9Yi5jaGlsZH1yZXR1cm4gYjtjYXNlIDk6cmV0dXJuIGU9Yi50eXBlLGQ9Yi5wZW5kaW5nUHJvcHMuY2hpbGRyZW4sY2goYixjKSxlPWVoKGUpLGQ9ZChlKSxiLmZsYWdzfD0xLFhpKGEsYixkLGMpLFxuYi5jaGlsZDtjYXNlIDE0OnJldHVybiBkPWIudHlwZSxlPUNpKGQsYi5wZW5kaW5nUHJvcHMpLGU9Q2koZC50eXBlLGUpLCRpKGEsYixkLGUsYyk7Y2FzZSAxNTpyZXR1cm4gYmooYSxiLGIudHlwZSxiLnBlbmRpbmdQcm9wcyxjKTtjYXNlIDE3OnJldHVybiBkPWIudHlwZSxlPWIucGVuZGluZ1Byb3BzLGU9Yi5lbGVtZW50VHlwZT09PWQ/ZTpDaShkLGUpLGlqKGEsYiksYi50YWc9MSxaZihkKT8oYT0hMCxjZyhiKSk6YT0hMSxjaChiLGMpLEdpKGIsZCxlKSxJaShiLGQsZSxjKSxqaihudWxsLGIsZCwhMCxhLGMpO2Nhc2UgMTk6cmV0dXJuIHhqKGEsYixjKTtjYXNlIDIyOnJldHVybiBkaihhLGIsYyl9dGhyb3cgRXJyb3IocCgxNTYsYi50YWcpKTt9O2Z1bmN0aW9uIEZrKGEsYil7cmV0dXJuIGFjKGEsYil9XG5mdW5jdGlvbiAkayhhLGIsYyxkKXt0aGlzLnRhZz1hO3RoaXMua2V5PWM7dGhpcy5zaWJsaW5nPXRoaXMuY2hpbGQ9dGhpcy5yZXR1cm49dGhpcy5zdGF0ZU5vZGU9dGhpcy50eXBlPXRoaXMuZWxlbWVudFR5cGU9bnVsbDt0aGlzLmluZGV4PTA7dGhpcy5yZWY9bnVsbDt0aGlzLnBlbmRpbmdQcm9wcz1iO3RoaXMuZGVwZW5kZW5jaWVzPXRoaXMubWVtb2l6ZWRTdGF0ZT10aGlzLnVwZGF0ZVF1ZXVlPXRoaXMubWVtb2l6ZWRQcm9wcz1udWxsO3RoaXMubW9kZT1kO3RoaXMuc3VidHJlZUZsYWdzPXRoaXMuZmxhZ3M9MDt0aGlzLmRlbGV0aW9ucz1udWxsO3RoaXMuY2hpbGRMYW5lcz10aGlzLmxhbmVzPTA7dGhpcy5hbHRlcm5hdGU9bnVsbH1mdW5jdGlvbiBCZyhhLGIsYyxkKXtyZXR1cm4gbmV3ICRrKGEsYixjLGQpfWZ1bmN0aW9uIGFqKGEpe2E9YS5wcm90b3R5cGU7cmV0dXJuISghYXx8IWEuaXNSZWFjdENvbXBvbmVudCl9XG5mdW5jdGlvbiBaayhhKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSlyZXR1cm4gYWooYSk/MTowO2lmKHZvaWQgMCE9PWEmJm51bGwhPT1hKXthPWEuJCR0eXBlb2Y7aWYoYT09PURhKXJldHVybiAxMTtpZihhPT09R2EpcmV0dXJuIDE0fXJldHVybiAyfVxuZnVuY3Rpb24gUGcoYSxiKXt2YXIgYz1hLmFsdGVybmF0ZTtudWxsPT09Yz8oYz1CZyhhLnRhZyxiLGEua2V5LGEubW9kZSksYy5lbGVtZW50VHlwZT1hLmVsZW1lbnRUeXBlLGMudHlwZT1hLnR5cGUsYy5zdGF0ZU5vZGU9YS5zdGF0ZU5vZGUsYy5hbHRlcm5hdGU9YSxhLmFsdGVybmF0ZT1jKTooYy5wZW5kaW5nUHJvcHM9YixjLnR5cGU9YS50eXBlLGMuZmxhZ3M9MCxjLnN1YnRyZWVGbGFncz0wLGMuZGVsZXRpb25zPW51bGwpO2MuZmxhZ3M9YS5mbGFncyYxNDY4MDA2NDtjLmNoaWxkTGFuZXM9YS5jaGlsZExhbmVzO2MubGFuZXM9YS5sYW5lcztjLmNoaWxkPWEuY2hpbGQ7Yy5tZW1vaXplZFByb3BzPWEubWVtb2l6ZWRQcm9wcztjLm1lbW9pemVkU3RhdGU9YS5tZW1vaXplZFN0YXRlO2MudXBkYXRlUXVldWU9YS51cGRhdGVRdWV1ZTtiPWEuZGVwZW5kZW5jaWVzO2MuZGVwZW5kZW5jaWVzPW51bGw9PT1iP251bGw6e2xhbmVzOmIubGFuZXMsZmlyc3RDb250ZXh0OmIuZmlyc3RDb250ZXh0fTtcbmMuc2libGluZz1hLnNpYmxpbmc7Yy5pbmRleD1hLmluZGV4O2MucmVmPWEucmVmO3JldHVybiBjfVxuZnVuY3Rpb24gUmcoYSxiLGMsZCxlLGYpe3ZhciBnPTI7ZD1hO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKWFqKGEpJiYoZz0xKTtlbHNlIGlmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlnPTU7ZWxzZSBhOnN3aXRjaChhKXtjYXNlIHlhOnJldHVybiBUZyhjLmNoaWxkcmVuLGUsZixiKTtjYXNlIHphOmc9ODtlfD04O2JyZWFrO2Nhc2UgQWE6cmV0dXJuIGE9QmcoMTIsYyxiLGV8MiksYS5lbGVtZW50VHlwZT1BYSxhLmxhbmVzPWYsYTtjYXNlIEVhOnJldHVybiBhPUJnKDEzLGMsYixlKSxhLmVsZW1lbnRUeXBlPUVhLGEubGFuZXM9ZixhO2Nhc2UgRmE6cmV0dXJuIGE9QmcoMTksYyxiLGUpLGEuZWxlbWVudFR5cGU9RmEsYS5sYW5lcz1mLGE7Y2FzZSBJYTpyZXR1cm4gcGooYyxlLGYsYik7ZGVmYXVsdDppZihcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hKXN3aXRjaChhLiQkdHlwZW9mKXtjYXNlIEJhOmc9MTA7YnJlYWsgYTtjYXNlIENhOmc9OTticmVhayBhO2Nhc2UgRGE6Zz0xMTtcbmJyZWFrIGE7Y2FzZSBHYTpnPTE0O2JyZWFrIGE7Y2FzZSBIYTpnPTE2O2Q9bnVsbDticmVhayBhfXRocm93IEVycm9yKHAoMTMwLG51bGw9PWE/YTp0eXBlb2YgYSxcIlwiKSk7fWI9QmcoZyxjLGIsZSk7Yi5lbGVtZW50VHlwZT1hO2IudHlwZT1kO2IubGFuZXM9ZjtyZXR1cm4gYn1mdW5jdGlvbiBUZyhhLGIsYyxkKXthPUJnKDcsYSxkLGIpO2EubGFuZXM9YztyZXR1cm4gYX1mdW5jdGlvbiBwaihhLGIsYyxkKXthPUJnKDIyLGEsZCxiKTthLmVsZW1lbnRUeXBlPUlhO2EubGFuZXM9YzthLnN0YXRlTm9kZT17aXNIaWRkZW46ITF9O3JldHVybiBhfWZ1bmN0aW9uIFFnKGEsYixjKXthPUJnKDYsYSxudWxsLGIpO2EubGFuZXM9YztyZXR1cm4gYX1cbmZ1bmN0aW9uIFNnKGEsYixjKXtiPUJnKDQsbnVsbCE9PWEuY2hpbGRyZW4/YS5jaGlsZHJlbjpbXSxhLmtleSxiKTtiLmxhbmVzPWM7Yi5zdGF0ZU5vZGU9e2NvbnRhaW5lckluZm86YS5jb250YWluZXJJbmZvLHBlbmRpbmdDaGlsZHJlbjpudWxsLGltcGxlbWVudGF0aW9uOmEuaW1wbGVtZW50YXRpb259O3JldHVybiBifVxuZnVuY3Rpb24gYWwoYSxiLGMsZCxlKXt0aGlzLnRhZz1iO3RoaXMuY29udGFpbmVySW5mbz1hO3RoaXMuZmluaXNoZWRXb3JrPXRoaXMucGluZ0NhY2hlPXRoaXMuY3VycmVudD10aGlzLnBlbmRpbmdDaGlsZHJlbj1udWxsO3RoaXMudGltZW91dEhhbmRsZT0tMTt0aGlzLmNhbGxiYWNrTm9kZT10aGlzLnBlbmRpbmdDb250ZXh0PXRoaXMuY29udGV4dD1udWxsO3RoaXMuY2FsbGJhY2tQcmlvcml0eT0wO3RoaXMuZXZlbnRUaW1lcz16YygwKTt0aGlzLmV4cGlyYXRpb25UaW1lcz16YygtMSk7dGhpcy5lbnRhbmdsZWRMYW5lcz10aGlzLmZpbmlzaGVkTGFuZXM9dGhpcy5tdXRhYmxlUmVhZExhbmVzPXRoaXMuZXhwaXJlZExhbmVzPXRoaXMucGluZ2VkTGFuZXM9dGhpcy5zdXNwZW5kZWRMYW5lcz10aGlzLnBlbmRpbmdMYW5lcz0wO3RoaXMuZW50YW5nbGVtZW50cz16YygwKTt0aGlzLmlkZW50aWZpZXJQcmVmaXg9ZDt0aGlzLm9uUmVjb3ZlcmFibGVFcnJvcj1lO3RoaXMubXV0YWJsZVNvdXJjZUVhZ2VySHlkcmF0aW9uRGF0YT1cbm51bGx9ZnVuY3Rpb24gYmwoYSxiLGMsZCxlLGYsZyxoLGspe2E9bmV3IGFsKGEsYixjLGgsayk7MT09PWI/KGI9MSwhMD09PWYmJihifD04KSk6Yj0wO2Y9QmcoMyxudWxsLG51bGwsYik7YS5jdXJyZW50PWY7Zi5zdGF0ZU5vZGU9YTtmLm1lbW9pemVkU3RhdGU9e2VsZW1lbnQ6ZCxpc0RlaHlkcmF0ZWQ6YyxjYWNoZTpudWxsLHRyYW5zaXRpb25zOm51bGwscGVuZGluZ1N1c3BlbnNlQm91bmRhcmllczpudWxsfTtraChmKTtyZXR1cm4gYX1mdW5jdGlvbiBjbChhLGIsYyl7dmFyIGQ9Mzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOm51bGw7cmV0dXJueyQkdHlwZW9mOndhLGtleTpudWxsPT1kP251bGw6XCJcIitkLGNoaWxkcmVuOmEsY29udGFpbmVySW5mbzpiLGltcGxlbWVudGF0aW9uOmN9fVxuZnVuY3Rpb24gZGwoYSl7aWYoIWEpcmV0dXJuIFZmO2E9YS5fcmVhY3RJbnRlcm5hbHM7YTp7aWYoVmIoYSkhPT1hfHwxIT09YS50YWcpdGhyb3cgRXJyb3IocCgxNzApKTt2YXIgYj1hO2Rve3N3aXRjaChiLnRhZyl7Y2FzZSAzOmI9Yi5zdGF0ZU5vZGUuY29udGV4dDticmVhayBhO2Nhc2UgMTppZihaZihiLnR5cGUpKXtiPWIuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O2JyZWFrIGF9fWI9Yi5yZXR1cm59d2hpbGUobnVsbCE9PWIpO3Rocm93IEVycm9yKHAoMTcxKSk7fWlmKDE9PT1hLnRhZyl7dmFyIGM9YS50eXBlO2lmKFpmKGMpKXJldHVybiBiZyhhLGMsYil9cmV0dXJuIGJ9XG5mdW5jdGlvbiBlbChhLGIsYyxkLGUsZixnLGgsayl7YT1ibChjLGQsITAsYSxlLGYsZyxoLGspO2EuY29udGV4dD1kbChudWxsKTtjPWEuY3VycmVudDtkPVIoKTtlPXlpKGMpO2Y9bWgoZCxlKTtmLmNhbGxiYWNrPXZvaWQgMCE9PWImJm51bGwhPT1iP2I6bnVsbDtuaChjLGYsZSk7YS5jdXJyZW50LmxhbmVzPWU7QWMoYSxlLGQpO0RrKGEsZCk7cmV0dXJuIGF9ZnVuY3Rpb24gZmwoYSxiLGMsZCl7dmFyIGU9Yi5jdXJyZW50LGY9UigpLGc9eWkoZSk7Yz1kbChjKTtudWxsPT09Yi5jb250ZXh0P2IuY29udGV4dD1jOmIucGVuZGluZ0NvbnRleHQ9YztiPW1oKGYsZyk7Yi5wYXlsb2FkPXtlbGVtZW50OmF9O2Q9dm9pZCAwPT09ZD9udWxsOmQ7bnVsbCE9PWQmJihiLmNhbGxiYWNrPWQpO2E9bmgoZSxiLGcpO251bGwhPT1hJiYoZ2koYSxlLGcsZiksb2goYSxlLGcpKTtyZXR1cm4gZ31cbmZ1bmN0aW9uIGdsKGEpe2E9YS5jdXJyZW50O2lmKCFhLmNoaWxkKXJldHVybiBudWxsO3N3aXRjaChhLmNoaWxkLnRhZyl7Y2FzZSA1OnJldHVybiBhLmNoaWxkLnN0YXRlTm9kZTtkZWZhdWx0OnJldHVybiBhLmNoaWxkLnN0YXRlTm9kZX19ZnVuY3Rpb24gaGwoYSxiKXthPWEubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09YSYmbnVsbCE9PWEuZGVoeWRyYXRlZCl7dmFyIGM9YS5yZXRyeUxhbmU7YS5yZXRyeUxhbmU9MCE9PWMmJmM8Yj9jOmJ9fWZ1bmN0aW9uIGlsKGEsYil7aGwoYSxiKTsoYT1hLmFsdGVybmF0ZSkmJmhsKGEsYil9ZnVuY3Rpb24gamwoKXtyZXR1cm4gbnVsbH12YXIga2w9XCJmdW5jdGlvblwiPT09dHlwZW9mIHJlcG9ydEVycm9yP3JlcG9ydEVycm9yOmZ1bmN0aW9uKGEpe2NvbnNvbGUuZXJyb3IoYSl9O2Z1bmN0aW9uIGxsKGEpe3RoaXMuX2ludGVybmFsUm9vdD1hfVxubWwucHJvdG90eXBlLnJlbmRlcj1sbC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2ludGVybmFsUm9vdDtpZihudWxsPT09Yil0aHJvdyBFcnJvcihwKDQwOSkpO2ZsKGEsYixudWxsLG51bGwpfTttbC5wcm90b3R5cGUudW5tb3VudD1sbC5wcm90b3R5cGUudW5tb3VudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2ludGVybmFsUm9vdDtpZihudWxsIT09YSl7dGhpcy5faW50ZXJuYWxSb290PW51bGw7dmFyIGI9YS5jb250YWluZXJJbmZvO1JrKGZ1bmN0aW9uKCl7ZmwobnVsbCxhLG51bGwsbnVsbCl9KTtiW3VmXT1udWxsfX07ZnVuY3Rpb24gbWwoYSl7dGhpcy5faW50ZXJuYWxSb290PWF9XG5tbC5wcm90b3R5cGUudW5zdGFibGVfc2NoZWR1bGVIeWRyYXRpb249ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9SGMoKTthPXtibG9ja2VkT246bnVsbCx0YXJnZXQ6YSxwcmlvcml0eTpifTtmb3IodmFyIGM9MDtjPFFjLmxlbmd0aCYmMCE9PWImJmI8UWNbY10ucHJpb3JpdHk7YysrKTtRYy5zcGxpY2UoYywwLGEpOzA9PT1jJiZWYyhhKX19O2Z1bmN0aW9uIG5sKGEpe3JldHVybiEoIWF8fDEhPT1hLm5vZGVUeXBlJiY5IT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlKX1mdW5jdGlvbiBvbChhKXtyZXR1cm4hKCFhfHwxIT09YS5ub2RlVHlwZSYmOSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZSYmKDghPT1hLm5vZGVUeXBlfHxcIiByZWFjdC1tb3VudC1wb2ludC11bnN0YWJsZSBcIiE9PWEubm9kZVZhbHVlKSl9ZnVuY3Rpb24gcGwoKXt9XG5mdW5jdGlvbiBxbChhLGIsYyxkLGUpe2lmKGUpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkKXt2YXIgZj1kO2Q9ZnVuY3Rpb24oKXt2YXIgYT1nbChnKTtmLmNhbGwoYSl9fXZhciBnPWVsKGIsZCxhLDAsbnVsbCwhMSwhMSxcIlwiLHBsKTthLl9yZWFjdFJvb3RDb250YWluZXI9ZzthW3VmXT1nLmN1cnJlbnQ7c2YoOD09PWEubm9kZVR5cGU/YS5wYXJlbnROb2RlOmEpO1JrKCk7cmV0dXJuIGd9Zm9yKDtlPWEubGFzdENoaWxkOylhLnJlbW92ZUNoaWxkKGUpO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBkKXt2YXIgaD1kO2Q9ZnVuY3Rpb24oKXt2YXIgYT1nbChrKTtoLmNhbGwoYSl9fXZhciBrPWJsKGEsMCwhMSxudWxsLG51bGwsITEsITEsXCJcIixwbCk7YS5fcmVhY3RSb290Q29udGFpbmVyPWs7YVt1Zl09ay5jdXJyZW50O3NmKDg9PT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphKTtSayhmdW5jdGlvbigpe2ZsKGIsayxjLGQpfSk7cmV0dXJuIGt9XG5mdW5jdGlvbiBybChhLGIsYyxkLGUpe3ZhciBmPWMuX3JlYWN0Um9vdENvbnRhaW5lcjtpZihmKXt2YXIgZz1mO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBlKXt2YXIgaD1lO2U9ZnVuY3Rpb24oKXt2YXIgYT1nbChnKTtoLmNhbGwoYSl9fWZsKGIsZyxhLGUpfWVsc2UgZz1xbChjLGIsYSxlLGQpO3JldHVybiBnbChnKX1FYz1mdW5jdGlvbihhKXtzd2l0Y2goYS50YWcpe2Nhc2UgMzp2YXIgYj1hLnN0YXRlTm9kZTtpZihiLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQpe3ZhciBjPXRjKGIucGVuZGluZ0xhbmVzKTswIT09YyYmKENjKGIsY3wxKSxEayhiLEIoKSksMD09PShLJjYpJiYoR2o9QigpKzUwMCxqZygpKSl9YnJlYWs7Y2FzZSAxMzpSayhmdW5jdGlvbigpe3ZhciBiPWloKGEsMSk7aWYobnVsbCE9PWIpe3ZhciBjPVIoKTtnaShiLGEsMSxjKX19KSxpbChhLDEpfX07XG5GYz1mdW5jdGlvbihhKXtpZigxMz09PWEudGFnKXt2YXIgYj1paChhLDEzNDIxNzcyOCk7aWYobnVsbCE9PWIpe3ZhciBjPVIoKTtnaShiLGEsMTM0MjE3NzI4LGMpfWlsKGEsMTM0MjE3NzI4KX19O0djPWZ1bmN0aW9uKGEpe2lmKDEzPT09YS50YWcpe3ZhciBiPXlpKGEpLGM9aWgoYSxiKTtpZihudWxsIT09Yyl7dmFyIGQ9UigpO2dpKGMsYSxiLGQpfWlsKGEsYil9fTtIYz1mdW5jdGlvbigpe3JldHVybiBDfTtJYz1mdW5jdGlvbihhLGIpe3ZhciBjPUM7dHJ5e3JldHVybiBDPWEsYigpfWZpbmFsbHl7Qz1jfX07XG55Yj1mdW5jdGlvbihhLGIsYyl7c3dpdGNoKGIpe2Nhc2UgXCJpbnB1dFwiOmJiKGEsYyk7Yj1jLm5hbWU7aWYoXCJyYWRpb1wiPT09Yy50eXBlJiZudWxsIT1iKXtmb3IoYz1hO2MucGFyZW50Tm9kZTspYz1jLnBhcmVudE5vZGU7Yz1jLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFtuYW1lPVwiK0pTT04uc3RyaW5naWZ5KFwiXCIrYikrJ11bdHlwZT1cInJhZGlvXCJdJyk7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKyl7dmFyIGQ9Y1tiXTtpZihkIT09YSYmZC5mb3JtPT09YS5mb3JtKXt2YXIgZT1EYihkKTtpZighZSl0aHJvdyBFcnJvcihwKDkwKSk7V2EoZCk7YmIoZCxlKX19fWJyZWFrO2Nhc2UgXCJ0ZXh0YXJlYVwiOmliKGEsYyk7YnJlYWs7Y2FzZSBcInNlbGVjdFwiOmI9Yy52YWx1ZSxudWxsIT1iJiZmYihhLCEhYy5tdWx0aXBsZSxiLCExKX19O0diPVFrO0hiPVJrO1xudmFyIHNsPXt1c2luZ0NsaWVudEVudHJ5UG9pbnQ6ITEsRXZlbnRzOltDYix1ZSxEYixFYixGYixRa119LHRsPXtmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTpXYyxidW5kbGVUeXBlOjAsdmVyc2lvbjpcIjE4LjMuMVwiLHJlbmRlcmVyUGFja2FnZU5hbWU6XCJyZWFjdC1kb21cIn07XG52YXIgdWw9e2J1bmRsZVR5cGU6dGwuYnVuZGxlVHlwZSx2ZXJzaW9uOnRsLnZlcnNpb24scmVuZGVyZXJQYWNrYWdlTmFtZTp0bC5yZW5kZXJlclBhY2thZ2VOYW1lLHJlbmRlcmVyQ29uZmlnOnRsLnJlbmRlcmVyQ29uZmlnLG92ZXJyaWRlSG9va1N0YXRlOm51bGwsb3ZlcnJpZGVIb29rU3RhdGVEZWxldGVQYXRoOm51bGwsb3ZlcnJpZGVIb29rU3RhdGVSZW5hbWVQYXRoOm51bGwsb3ZlcnJpZGVQcm9wczpudWxsLG92ZXJyaWRlUHJvcHNEZWxldGVQYXRoOm51bGwsb3ZlcnJpZGVQcm9wc1JlbmFtZVBhdGg6bnVsbCxzZXRFcnJvckhhbmRsZXI6bnVsbCxzZXRTdXNwZW5zZUhhbmRsZXI6bnVsbCxzY2hlZHVsZVVwZGF0ZTpudWxsLGN1cnJlbnREaXNwYXRjaGVyUmVmOnVhLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6ZnVuY3Rpb24oYSl7YT1aYihhKTtyZXR1cm4gbnVsbD09PWE/bnVsbDphLnN0YXRlTm9kZX0sZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6dGwuZmluZEZpYmVyQnlIb3N0SW5zdGFuY2V8fFxuamwsZmluZEhvc3RJbnN0YW5jZXNGb3JSZWZyZXNoOm51bGwsc2NoZWR1bGVSZWZyZXNoOm51bGwsc2NoZWR1bGVSb290Om51bGwsc2V0UmVmcmVzaEhhbmRsZXI6bnVsbCxnZXRDdXJyZW50RmliZXI6bnVsbCxyZWNvbmNpbGVyVmVyc2lvbjpcIjE4LjMuMS1uZXh0LWYxMzM4ZjgwODAtMjAyNDA0MjZcIn07aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pe3ZhciB2bD1fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187aWYoIXZsLmlzRGlzYWJsZWQmJnZsLnN1cHBvcnRzRmliZXIpdHJ5e2tjPXZsLmluamVjdCh1bCksbGM9dmx9Y2F0Y2goYSl7fX1leHBvcnRzLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEPXNsO1xuZXhwb3J0cy5jcmVhdGVQb3J0YWw9ZnVuY3Rpb24oYSxiKXt2YXIgYz0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbDtpZighbmwoYikpdGhyb3cgRXJyb3IocCgyMDApKTtyZXR1cm4gY2woYSxiLG51bGwsYyl9O2V4cG9ydHMuY3JlYXRlUm9vdD1mdW5jdGlvbihhLGIpe2lmKCFubChhKSl0aHJvdyBFcnJvcihwKDI5OSkpO3ZhciBjPSExLGQ9XCJcIixlPWtsO251bGwhPT1iJiZ2b2lkIDAhPT1iJiYoITA9PT1iLnVuc3RhYmxlX3N0cmljdE1vZGUmJihjPSEwKSx2b2lkIDAhPT1iLmlkZW50aWZpZXJQcmVmaXgmJihkPWIuaWRlbnRpZmllclByZWZpeCksdm9pZCAwIT09Yi5vblJlY292ZXJhYmxlRXJyb3ImJihlPWIub25SZWNvdmVyYWJsZUVycm9yKSk7Yj1ibChhLDEsITEsbnVsbCxudWxsLGMsITEsZCxlKTthW3VmXT1iLmN1cnJlbnQ7c2YoOD09PWEubm9kZVR5cGU/YS5wYXJlbnROb2RlOmEpO3JldHVybiBuZXcgbGwoYil9O1xuZXhwb3J0cy5maW5kRE9NTm9kZT1mdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiBudWxsO2lmKDE9PT1hLm5vZGVUeXBlKXJldHVybiBhO3ZhciBiPWEuX3JlYWN0SW50ZXJuYWxzO2lmKHZvaWQgMD09PWIpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLnJlbmRlcil0aHJvdyBFcnJvcihwKDE4OCkpO2E9T2JqZWN0LmtleXMoYSkuam9pbihcIixcIik7dGhyb3cgRXJyb3IocCgyNjgsYSkpO31hPVpiKGIpO2E9bnVsbD09PWE/bnVsbDphLnN0YXRlTm9kZTtyZXR1cm4gYX07ZXhwb3J0cy5mbHVzaFN5bmM9ZnVuY3Rpb24oYSl7cmV0dXJuIFJrKGEpfTtleHBvcnRzLmh5ZHJhdGU9ZnVuY3Rpb24oYSxiLGMpe2lmKCFvbChiKSl0aHJvdyBFcnJvcihwKDIwMCkpO3JldHVybiBybChudWxsLGEsYiwhMCxjKX07XG5leHBvcnRzLmh5ZHJhdGVSb290PWZ1bmN0aW9uKGEsYixjKXtpZighbmwoYSkpdGhyb3cgRXJyb3IocCg0MDUpKTt2YXIgZD1udWxsIT1jJiZjLmh5ZHJhdGVkU291cmNlc3x8bnVsbCxlPSExLGY9XCJcIixnPWtsO251bGwhPT1jJiZ2b2lkIDAhPT1jJiYoITA9PT1jLnVuc3RhYmxlX3N0cmljdE1vZGUmJihlPSEwKSx2b2lkIDAhPT1jLmlkZW50aWZpZXJQcmVmaXgmJihmPWMuaWRlbnRpZmllclByZWZpeCksdm9pZCAwIT09Yy5vblJlY292ZXJhYmxlRXJyb3ImJihnPWMub25SZWNvdmVyYWJsZUVycm9yKSk7Yj1lbChiLG51bGwsYSwxLG51bGwhPWM/YzpudWxsLGUsITEsZixnKTthW3VmXT1iLmN1cnJlbnQ7c2YoYSk7aWYoZClmb3IoYT0wO2E8ZC5sZW5ndGg7YSsrKWM9ZFthXSxlPWMuX2dldFZlcnNpb24sZT1lKGMuX3NvdXJjZSksbnVsbD09Yi5tdXRhYmxlU291cmNlRWFnZXJIeWRyYXRpb25EYXRhP2IubXV0YWJsZVNvdXJjZUVhZ2VySHlkcmF0aW9uRGF0YT1bYyxlXTpiLm11dGFibGVTb3VyY2VFYWdlckh5ZHJhdGlvbkRhdGEucHVzaChjLFxuZSk7cmV0dXJuIG5ldyBtbChiKX07ZXhwb3J0cy5yZW5kZXI9ZnVuY3Rpb24oYSxiLGMpe2lmKCFvbChiKSl0aHJvdyBFcnJvcihwKDIwMCkpO3JldHVybiBybChudWxsLGEsYiwhMSxjKX07ZXhwb3J0cy51bm1vdW50Q29tcG9uZW50QXROb2RlPWZ1bmN0aW9uKGEpe2lmKCFvbChhKSl0aHJvdyBFcnJvcihwKDQwKSk7cmV0dXJuIGEuX3JlYWN0Um9vdENvbnRhaW5lcj8oUmsoZnVuY3Rpb24oKXtybChudWxsLG51bGwsYSwhMSxmdW5jdGlvbigpe2EuX3JlYWN0Um9vdENvbnRhaW5lcj1udWxsO2FbdWZdPW51bGx9KX0pLCEwKTohMX07ZXhwb3J0cy51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcz1RaztcbmV4cG9ydHMudW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXI9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoIW9sKGMpKXRocm93IEVycm9yKHAoMjAwKSk7aWYobnVsbD09YXx8dm9pZCAwPT09YS5fcmVhY3RJbnRlcm5hbHMpdGhyb3cgRXJyb3IocCgzOCkpO3JldHVybiBybChhLGIsYywhMSxkKX07ZXhwb3J0cy52ZXJzaW9uPVwiMTguMy4xLW5leHQtZjEzMzhmODA4MC0yMDI0MDQyNlwiO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gY2hlY2tEQ0UoKSB7XG4gIC8qIGdsb2JhbCBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gKi9cbiAgaWYgKFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRSAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBUaGlzIGJyYW5jaCBpcyB1bnJlYWNoYWJsZSBiZWNhdXNlIHRoaXMgZnVuY3Rpb24gaXMgb25seSBjYWxsZWRcbiAgICAvLyBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGNvbmRpdGlvbiBpcyB0cnVlIG9ubHkgaW4gZGV2ZWxvcG1lbnQuXG4gICAgLy8gVGhlcmVmb3JlIGlmIHRoZSBicmFuY2ggaXMgc3RpbGwgaGVyZSwgZGVhZCBjb2RlIGVsaW1pbmF0aW9uIHdhc24ndFxuICAgIC8vIHByb3Blcmx5IGFwcGxpZWQuXG4gICAgLy8gRG9uJ3QgY2hhbmdlIHRoZSBtZXNzYWdlLiBSZWFjdCBEZXZUb29scyByZWxpZXMgb24gaXQuIEFsc28gbWFrZSBzdXJlXG4gICAgLy8gdGhpcyBtZXNzYWdlIGRvZXNuJ3Qgb2NjdXIgZWxzZXdoZXJlIGluIHRoaXMgZnVuY3Rpb24sIG9yIGl0IHdpbGwgY2F1c2VcbiAgICAvLyBhIGZhbHNlIHBvc2l0aXZlLlxuICAgIHRocm93IG5ldyBFcnJvcignXl9eJyk7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBWZXJpZnkgdGhhdCB0aGUgY29kZSBhYm92ZSBoYXMgYmVlbiBkZWFkIGNvZGUgZWxpbWluYXRlZCAoRENFJ2QpLlxuICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShjaGVja0RDRSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIERldlRvb2xzIHNob3VsZG4ndCBjcmFzaCBSZWFjdCwgbm8gbWF0dGVyIHdoYXQuXG4gICAgLy8gV2Ugc2hvdWxkIHN0aWxsIHJlcG9ydCBpbiBjYXNlIHdlIGJyZWFrIHRoaXMgY29kZS5cbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gRENFIGNoZWNrIHNob3VsZCBoYXBwZW4gYmVmb3JlIFJlYWN0RE9NIGJ1bmRsZSBleGVjdXRlcyBzbyB0aGF0XG4gIC8vIERldlRvb2xzIGNhbiByZXBvcnQgYmFkIG1pbmlmaWNhdGlvbiBkdXJpbmcgaW5qZWN0aW9uLlxuICBjaGVja0RDRSgpO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20uZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBtID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBleHBvcnRzLmNyZWF0ZVJvb3QgPSBtLmNyZWF0ZVJvb3Q7XG4gIGV4cG9ydHMuaHlkcmF0ZVJvb3QgPSBtLmh5ZHJhdGVSb290O1xufSBlbHNlIHtcbiAgdmFyIGkgPSBtLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEO1xuICBleHBvcnRzLmNyZWF0ZVJvb3QgPSBmdW5jdGlvbihjLCBvKSB7XG4gICAgaS51c2luZ0NsaWVudEVudHJ5UG9pbnQgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbS5jcmVhdGVSb290KGMsIG8pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgZXhwb3J0cy5oeWRyYXRlUm9vdCA9IGZ1bmN0aW9uKGMsIGgsIG8pIHtcbiAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBtLmh5ZHJhdGVSb290KGMsIGgsIG8pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgRmlyZWJhc2UgY29uc3RhbnRzLiAgU29tZSBvZiB0aGVzZSAoQGRlZmluZXMpIGNhbiBiZSBvdmVycmlkZGVuIGF0IGNvbXBpbGUtdGltZS5cbiAqL1xuXG5leHBvcnQgY29uc3QgQ09OU1RBTlRTID0ge1xuICAvKipcbiAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBjbGllbnQgTm9kZS5qcyBTREsuXG4gICAqL1xuICBOT0RFX0NMSUVOVDogZmFsc2UsXG4gIC8qKlxuICAgKiBAZGVmaW5lIHtib29sZWFufSBXaGV0aGVyIHRoaXMgaXMgdGhlIEFkbWluIE5vZGUuanMgU0RLLlxuICAgKi9cbiAgTk9ERV9BRE1JTjogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEZpcmViYXNlIFNESyBWZXJzaW9uXG4gICAqL1xuICBTREtfVkVSU0lPTjogJyR7SlNDT1JFX1ZFUlNJT059J1xufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDT05TVEFOVFMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbi8qKlxuICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBwcm92aWRlZCBhc3NlcnRpb24gaXMgZmFsc3lcbiAqL1xuZXhwb3J0IGNvbnN0IGFzc2VydCA9IGZ1bmN0aW9uIChhc3NlcnRpb246IHVua25vd24sIG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoIWFzc2VydGlvbikge1xuICAgIHRocm93IGFzc2VydGlvbkVycm9yKG1lc3NhZ2UpO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gRXJyb3Igb2JqZWN0IHN1aXRhYmxlIGZvciB0aHJvd2luZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGFzc2VydGlvbkVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2U6IHN0cmluZyk6IEVycm9yIHtcbiAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAnRmlyZWJhc2UgRGF0YWJhc2UgKCcgK1xuICAgICAgQ09OU1RBTlRTLlNES19WRVJTSU9OICtcbiAgICAgICcpIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6ICcgK1xuICAgICAgbWVzc2FnZVxuICApO1xufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBzdHJpbmdUb0J5dGVBcnJheSA9IGZ1bmN0aW9uIChzdHI6IHN0cmluZyk6IG51bWJlcltdIHtcbiAgLy8gVE9ETyh1c2VyKTogVXNlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgaWYvd2hlbiBhdmFpbGFibGVcbiAgY29uc3Qgb3V0OiBudW1iZXJbXSA9IFtdO1xuICBsZXQgcCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgb3V0W3ArK10gPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA8IDIwNDgpIHtcbiAgICAgIG91dFtwKytdID0gKGMgPj4gNikgfCAxOTI7XG4gICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJlxuICAgICAgaSArIDEgPCBzdHIubGVuZ3RoICYmXG4gICAgICAoc3RyLmNoYXJDb2RlQXQoaSArIDEpICYgMHhmYzAwKSA9PT0gMHhkYzAwXG4gICAgKSB7XG4gICAgICAvLyBTdXJyb2dhdGUgUGFpclxuICAgICAgYyA9IDB4MTAwMDAgKyAoKGMgJiAweDAzZmYpIDw8IDEwKSArIChzdHIuY2hhckNvZGVBdCgrK2kpICYgMHgwM2ZmKTtcbiAgICAgIG91dFtwKytdID0gKGMgPj4gMTgpIHwgMjQwO1xuICAgICAgb3V0W3ArK10gPSAoKGMgPj4gMTIpICYgNjMpIHwgMTI4O1xuICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XG4gICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRbcCsrXSA9IChjID4+IDEyKSB8IDIyNDtcbiAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xuICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogVHVybnMgYW4gYXJyYXkgb2YgbnVtYmVycyBpbnRvIHRoZSBzdHJpbmcgZ2l2ZW4gYnkgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlXG4gKiBjaGFyYWN0ZXJzIHRvIHdoaWNoIHRoZSBudW1iZXJzIGNvcnJlc3BvbmQuXG4gKiBAcGFyYW0gYnl0ZXMgQXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgY2hhcmFjdGVycy5cbiAqIEByZXR1cm4gU3RyaW5naWZpY2F0aW9uIG9mIHRoZSBhcnJheS5cbiAqL1xuY29uc3QgYnl0ZUFycmF5VG9TdHJpbmcgPSBmdW5jdGlvbiAoYnl0ZXM6IG51bWJlcltdKTogc3RyaW5nIHtcbiAgLy8gVE9ETyh1c2VyKTogVXNlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgaWYvd2hlbiBhdmFpbGFibGVcbiAgY29uc3Qgb3V0OiBzdHJpbmdbXSA9IFtdO1xuICBsZXQgcG9zID0gMCxcbiAgICBjID0gMDtcbiAgd2hpbGUgKHBvcyA8IGJ5dGVzLmxlbmd0aCkge1xuICAgIGNvbnN0IGMxID0gYnl0ZXNbcG9zKytdO1xuICAgIGlmIChjMSA8IDEyOCkge1xuICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMxKTtcbiAgICB9IGVsc2UgaWYgKGMxID4gMTkxICYmIGMxIDwgMjI0KSB7XG4gICAgICBjb25zdCBjMiA9IGJ5dGVzW3BvcysrXTtcbiAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMxICYgMzEpIDw8IDYpIHwgKGMyICYgNjMpKTtcbiAgICB9IGVsc2UgaWYgKGMxID4gMjM5ICYmIGMxIDwgMzY1KSB7XG4gICAgICAvLyBTdXJyb2dhdGUgUGFpclxuICAgICAgY29uc3QgYzIgPSBieXRlc1twb3MrK107XG4gICAgICBjb25zdCBjMyA9IGJ5dGVzW3BvcysrXTtcbiAgICAgIGNvbnN0IGM0ID0gYnl0ZXNbcG9zKytdO1xuICAgICAgY29uc3QgdSA9XG4gICAgICAgICgoKGMxICYgNykgPDwgMTgpIHwgKChjMiAmIDYzKSA8PCAxMikgfCAoKGMzICYgNjMpIDw8IDYpIHwgKGM0ICYgNjMpKSAtXG4gICAgICAgIDB4MTAwMDA7XG4gICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhkODAwICsgKHUgPj4gMTApKTtcbiAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGRjMDAgKyAodSAmIDEwMjMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYzIgPSBieXRlc1twb3MrK107XG4gICAgICBjb25zdCBjMyA9IGJ5dGVzW3BvcysrXTtcbiAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAgICAgKChjMSAmIDE1KSA8PCAxMikgfCAoKGMyICYgNjMpIDw8IDYpIHwgKGMzICYgNjMpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0LmpvaW4oJycpO1xufTtcblxuaW50ZXJmYWNlIEJhc2U2NCB7XG4gIGJ5dGVUb0NoYXJNYXBfOiB7IFtrZXk6IG51bWJlcl06IHN0cmluZyB9IHwgbnVsbDtcbiAgY2hhclRvQnl0ZU1hcF86IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gfCBudWxsO1xuICBieXRlVG9DaGFyTWFwV2ViU2FmZV86IHsgW2tleTogbnVtYmVyXTogc3RyaW5nIH0gfCBudWxsO1xuICBjaGFyVG9CeXRlTWFwV2ViU2FmZV86IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gfCBudWxsO1xuICBFTkNPREVEX1ZBTFNfQkFTRTogc3RyaW5nO1xuICByZWFkb25seSBFTkNPREVEX1ZBTFM6IHN0cmluZztcbiAgcmVhZG9ubHkgRU5DT0RFRF9WQUxTX1dFQlNBRkU6IHN0cmluZztcbiAgSEFTX05BVElWRV9TVVBQT1JUOiBib29sZWFuO1xuICBlbmNvZGVCeXRlQXJyYXkoaW5wdXQ6IG51bWJlcltdIHwgVWludDhBcnJheSwgd2ViU2FmZT86IGJvb2xlYW4pOiBzdHJpbmc7XG4gIGVuY29kZVN0cmluZyhpbnB1dDogc3RyaW5nLCB3ZWJTYWZlPzogYm9vbGVhbik6IHN0cmluZztcbiAgZGVjb2RlU3RyaW5nKGlucHV0OiBzdHJpbmcsIHdlYlNhZmU6IGJvb2xlYW4pOiBzdHJpbmc7XG4gIGRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KGlucHV0OiBzdHJpbmcsIHdlYlNhZmU6IGJvb2xlYW4pOiBudW1iZXJbXTtcbiAgaW5pdF8oKTogdm9pZDtcbn1cblxuLy8gV2UgZGVmaW5lIGl0IGFzIGFuIG9iamVjdCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjbGFzcyBiZWNhdXNlIGEgY2xhc3MgY29tcGlsZWQgZG93biB0byBlczUgY2FuJ3Rcbi8vIGJlIHRyZWVzaGFrZWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2xsdXAvcm9sbHVwL2lzc3Vlcy8xNjkxXG4vLyBTdGF0aWMgbG9va3VwIG1hcHMsIGxhemlseSBwb3B1bGF0ZWQgYnkgaW5pdF8oKVxuZXhwb3J0IGNvbnN0IGJhc2U2NDogQmFzZTY0ID0ge1xuICAvKipcbiAgICogTWFwcyBieXRlcyB0byBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgYnl0ZVRvQ2hhck1hcF86IG51bGwsXG5cbiAgLyoqXG4gICAqIE1hcHMgY2hhcmFjdGVycyB0byBieXRlcy5cbiAgICovXG4gIGNoYXJUb0J5dGVNYXBfOiBudWxsLFxuXG4gIC8qKlxuICAgKiBNYXBzIGJ5dGVzIHRvIHdlYnNhZmUgY2hhcmFjdGVycy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGJ5dGVUb0NoYXJNYXBXZWJTYWZlXzogbnVsbCxcblxuICAvKipcbiAgICogTWFwcyB3ZWJzYWZlIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjaGFyVG9CeXRlTWFwV2ViU2FmZV86IG51bGwsXG5cbiAgLyoqXG4gICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LCBzaGFyZWQgYmV0d2VlblxuICAgKiBFTkNPREVEX1ZBTFMgYW5kIEVOQ09ERURfVkFMU19XRUJTQUZFXG4gICAqL1xuICBFTkNPREVEX1ZBTFNfQkFTRTpcbiAgICAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonICsgJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JyArICcwMTIzNDU2Nzg5JyxcblxuICAvKipcbiAgICogT3VyIGRlZmF1bHQgYWxwaGFiZXQuIFZhbHVlIDY0ICg9KSBpcyBzcGVjaWFsOyBpdCBtZWFucyBcIm5vdGhpbmcuXCJcbiAgICovXG4gIGdldCBFTkNPREVEX1ZBTFMoKSB7XG4gICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnKy89JztcbiAgfSxcblxuICAvKipcbiAgICogT3VyIHdlYnNhZmUgYWxwaGFiZXQuXG4gICAqL1xuICBnZXQgRU5DT0RFRF9WQUxTX1dFQlNBRkUoKSB7XG4gICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnLV8uJztcbiAgfSxcblxuICAvKipcbiAgICogV2hldGhlciB0aGlzIGJyb3dzZXIgc3VwcG9ydHMgdGhlIGF0b2IgYW5kIGJ0b2EgZnVuY3Rpb25zLiBUaGlzIGV4dGVuc2lvblxuICAgKiBzdGFydGVkIGF0IE1vemlsbGEgYnV0IGlzIG5vdyBpbXBsZW1lbnRlZCBieSBtYW55IGJyb3dzZXJzLiBXZSB1c2UgdGhlXG4gICAqIEFTU1VNRV8qIHZhcmlhYmxlcyB0byBhdm9pZCBwdWxsaW5nIGluIHRoZSBmdWxsIHVzZXJhZ2VudCBkZXRlY3Rpb24gbGlicmFyeVxuICAgKiBidXQgc3RpbGwgYWxsb3dpbmcgdGhlIHN0YW5kYXJkIHBlci1icm93c2VyIGNvbXBpbGF0aW9ucy5cbiAgICpcbiAgICovXG4gIEhBU19OQVRJVkVfU1VQUE9SVDogdHlwZW9mIGF0b2IgPT09ICdmdW5jdGlvbicsXG5cbiAgLyoqXG4gICAqIEJhc2U2NC1lbmNvZGUgYW4gYXJyYXkgb2YgYnl0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSBpbnB1dCBBbiBhcnJheSBvZiBieXRlcyAobnVtYmVycyB3aXRoXG4gICAqICAgICB2YWx1ZSBpbiBbMCwgMjU1XSkgdG8gZW5jb2RlLlxuICAgKiBAcGFyYW0gd2ViU2FmZSBCb29sZWFuIGluZGljYXRpbmcgd2Ugc2hvdWxkIHVzZSB0aGVcbiAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxuICAgKiBAcmV0dXJuIFRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXG4gICAqL1xuICBlbmNvZGVCeXRlQXJyYXkoaW5wdXQ6IG51bWJlcltdIHwgVWludDhBcnJheSwgd2ViU2FmZT86IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRocm93IEVycm9yKCdlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXInKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRfKCk7XG5cbiAgICBjb25zdCBieXRlVG9DaGFyTWFwID0gd2ViU2FmZVxuICAgICAgPyB0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlXyFcbiAgICAgIDogdGhpcy5ieXRlVG9DaGFyTWFwXyE7XG5cbiAgICBjb25zdCBvdXRwdXQgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIGNvbnN0IGJ5dGUxID0gaW5wdXRbaV07XG4gICAgICBjb25zdCBoYXZlQnl0ZTIgPSBpICsgMSA8IGlucHV0Lmxlbmd0aDtcbiAgICAgIGNvbnN0IGJ5dGUyID0gaGF2ZUJ5dGUyID8gaW5wdXRbaSArIDFdIDogMDtcbiAgICAgIGNvbnN0IGhhdmVCeXRlMyA9IGkgKyAyIDwgaW5wdXQubGVuZ3RoO1xuICAgICAgY29uc3QgYnl0ZTMgPSBoYXZlQnl0ZTMgPyBpbnB1dFtpICsgMl0gOiAwO1xuXG4gICAgICBjb25zdCBvdXRCeXRlMSA9IGJ5dGUxID4+IDI7XG4gICAgICBjb25zdCBvdXRCeXRlMiA9ICgoYnl0ZTEgJiAweDAzKSA8PCA0KSB8IChieXRlMiA+PiA0KTtcbiAgICAgIGxldCBvdXRCeXRlMyA9ICgoYnl0ZTIgJiAweDBmKSA8PCAyKSB8IChieXRlMyA+PiA2KTtcbiAgICAgIGxldCBvdXRCeXRlNCA9IGJ5dGUzICYgMHgzZjtcblxuICAgICAgaWYgKCFoYXZlQnl0ZTMpIHtcbiAgICAgICAgb3V0Qnl0ZTQgPSA2NDtcblxuICAgICAgICBpZiAoIWhhdmVCeXRlMikge1xuICAgICAgICAgIG91dEJ5dGUzID0gNjQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgb3V0cHV0LnB1c2goXG4gICAgICAgIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTFdLFxuICAgICAgICBieXRlVG9DaGFyTWFwW291dEJ5dGUyXSxcbiAgICAgICAgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlM10sXG4gICAgICAgIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTRdXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQuam9pbignJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEJhc2U2NC1lbmNvZGUgYSBzdHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSBpbnB1dCBBIHN0cmluZyB0byBlbmNvZGUuXG4gICAqIEBwYXJhbSB3ZWJTYWZlIElmIHRydWUsIHdlIHNob3VsZCB1c2UgdGhlXG4gICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cbiAgICogQHJldHVybiBUaGUgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxuICAgKi9cbiAgZW5jb2RlU3RyaW5nKGlucHV0OiBzdHJpbmcsIHdlYlNhZmU/OiBib29sZWFuKTogc3RyaW5nIHtcbiAgICAvLyBTaG9ydGN1dCBmb3IgTW96aWxsYSBicm93c2VycyB0aGF0IGltcGxlbWVudFxuICAgIC8vIGEgbmF0aXZlIGJhc2U2NCBlbmNvZGVyIGluIHRoZSBmb3JtIG9mIFwiYnRvYS9hdG9iXCJcbiAgICBpZiAodGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQgJiYgIXdlYlNhZmUpIHtcbiAgICAgIHJldHVybiBidG9hKGlucHV0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZW5jb2RlQnl0ZUFycmF5KHN0cmluZ1RvQnl0ZUFycmF5KGlucHV0KSwgd2ViU2FmZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEJhc2U2NC1kZWNvZGUgYSBzdHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSBpbnB1dCB0byBkZWNvZGUuXG4gICAqIEBwYXJhbSB3ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGVcbiAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxuICAgKiBAcmV0dXJuIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRlY29kZWQgdmFsdWUuXG4gICAqL1xuICBkZWNvZGVTdHJpbmcoaW5wdXQ6IHN0cmluZywgd2ViU2FmZTogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgLy8gU2hvcnRjdXQgZm9yIE1vemlsbGEgYnJvd3NlcnMgdGhhdCBpbXBsZW1lbnRcbiAgICAvLyBhIG5hdGl2ZSBiYXNlNjQgZW5jb2RlciBpbiB0aGUgZm9ybSBvZiBcImJ0b2EvYXRvYlwiXG4gICAgaWYgKHRoaXMuSEFTX05BVElWRV9TVVBQT1JUICYmICF3ZWJTYWZlKSB7XG4gICAgICByZXR1cm4gYXRvYihpbnB1dCk7XG4gICAgfVxuICAgIHJldHVybiBieXRlQXJyYXlUb1N0cmluZyh0aGlzLmRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KGlucHV0LCB3ZWJTYWZlKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEJhc2U2NC1kZWNvZGUgYSBzdHJpbmcuXG4gICAqXG4gICAqIEluIGJhc2UtNjQgZGVjb2RpbmcsIGdyb3VwcyBvZiBmb3VyIGNoYXJhY3RlcnMgYXJlIGNvbnZlcnRlZCBpbnRvIHRocmVlXG4gICAqIGJ5dGVzLiAgSWYgdGhlIGVuY29kZXIgZGlkIG5vdCBhcHBseSBwYWRkaW5nLCB0aGUgaW5wdXQgbGVuZ3RoIG1heSBub3RcbiAgICogYmUgYSBtdWx0aXBsZSBvZiA0LlxuICAgKlxuICAgKiBJbiB0aGlzIGNhc2UsIHRoZSBsYXN0IGdyb3VwIHdpbGwgaGF2ZSBmZXdlciB0aGFuIDQgY2hhcmFjdGVycywgYW5kXG4gICAqIHBhZGRpbmcgd2lsbCBiZSBpbmZlcnJlZC4gIElmIHRoZSBncm91cCBoYXMgb25lIG9yIHR3byBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzXG4gICAqIHRvIG9uZSBieXRlLiAgSWYgdGhlIGdyb3VwIGhhcyB0aHJlZSBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzIHRvIHR3byBieXRlcy5cbiAgICpcbiAgICogQHBhcmFtIGlucHV0IElucHV0IHRvIGRlY29kZS5cbiAgICogQHBhcmFtIHdlYlNhZmUgVHJ1ZSBpZiB3ZSBzaG91bGQgdXNlIHRoZSB3ZWItc2FmZSBhbHBoYWJldC5cbiAgICogQHJldHVybiBieXRlcyByZXByZXNlbnRpbmcgdGhlIGRlY29kZWQgdmFsdWUuXG4gICAqL1xuICBkZWNvZGVTdHJpbmdUb0J5dGVBcnJheShpbnB1dDogc3RyaW5nLCB3ZWJTYWZlOiBib29sZWFuKTogbnVtYmVyW10ge1xuICAgIHRoaXMuaW5pdF8oKTtcblxuICAgIGNvbnN0IGNoYXJUb0J5dGVNYXAgPSB3ZWJTYWZlXG4gICAgICA/IHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfIVxuICAgICAgOiB0aGlzLmNoYXJUb0J5dGVNYXBfITtcblxuICAgIGNvbnN0IG91dHB1dDogbnVtYmVyW10gPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyApIHtcbiAgICAgIGNvbnN0IGJ5dGUxID0gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSsrKV07XG5cbiAgICAgIGNvbnN0IGhhdmVCeXRlMiA9IGkgPCBpbnB1dC5sZW5ndGg7XG4gICAgICBjb25zdCBieXRlMiA9IGhhdmVCeXRlMiA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDA7XG4gICAgICArK2k7XG5cbiAgICAgIGNvbnN0IGhhdmVCeXRlMyA9IGkgPCBpbnB1dC5sZW5ndGg7XG4gICAgICBjb25zdCBieXRlMyA9IGhhdmVCeXRlMyA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDY0O1xuICAgICAgKytpO1xuXG4gICAgICBjb25zdCBoYXZlQnl0ZTQgPSBpIDwgaW5wdXQubGVuZ3RoO1xuICAgICAgY29uc3QgYnl0ZTQgPSBoYXZlQnl0ZTQgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcbiAgICAgICsraTtcblxuICAgICAgaWYgKGJ5dGUxID09IG51bGwgfHwgYnl0ZTIgPT0gbnVsbCB8fCBieXRlMyA9PSBudWxsIHx8IGJ5dGU0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IERlY29kZUJhc2U2NFN0cmluZ0Vycm9yKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG91dEJ5dGUxID0gKGJ5dGUxIDw8IDIpIHwgKGJ5dGUyID4+IDQpO1xuICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTEpO1xuXG4gICAgICBpZiAoYnl0ZTMgIT09IDY0KSB7XG4gICAgICAgIGNvbnN0IG91dEJ5dGUyID0gKChieXRlMiA8PCA0KSAmIDB4ZjApIHwgKGJ5dGUzID4+IDIpO1xuICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMik7XG5cbiAgICAgICAgaWYgKGJ5dGU0ICE9PSA2NCkge1xuICAgICAgICAgIGNvbnN0IG91dEJ5dGUzID0gKChieXRlMyA8PCA2KSAmIDB4YzApIHwgYnl0ZTQ7XG4gICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSxcblxuICAvKipcbiAgICogTGF6eSBzdGF0aWMgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uIENhbGxlZCBiZWZvcmVcbiAgICogYWNjZXNzaW5nIGFueSBvZiB0aGUgc3RhdGljIG1hcCB2YXJpYWJsZXMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbml0XygpIHtcbiAgICBpZiAoIXRoaXMuYnl0ZVRvQ2hhck1hcF8pIHtcbiAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcF8gPSB7fTtcbiAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF8gPSB7fTtcbiAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfID0ge307XG4gICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlXyA9IHt9O1xuXG4gICAgICAvLyBXZSB3YW50IHF1aWNrIG1hcHBpbmdzIGJhY2sgYW5kIGZvcnRoLCBzbyB3ZSBwcmVjb21wdXRlIHR3byBtYXBzLlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVOQ09ERURfVkFMUy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBfW2ldID0gdGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KGkpO1xuICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfW3RoaXMuYnl0ZVRvQ2hhck1hcF9baV1dID0gaTtcbiAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9baV0gPSB0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKTtcbiAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9bdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9baV1dID0gaTtcblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcgd2hlbiBkZWNvZGluZyBhbmQgY29ycmVjdGx5IGRlY29kZSBib3RoIGVuY29kaW5ncy5cbiAgICAgICAgaWYgKGkgPj0gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfW3RoaXMuRU5DT0RFRF9WQUxTX1dFQlNBRkUuY2hhckF0KGkpXSA9IGk7XG4gICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9bdGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KGkpXSA9IGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQW4gZXJyb3IgZW5jb3VudGVyZWQgd2hpbGUgZGVjb2RpbmcgYmFzZTY0IHN0cmluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIERlY29kZUJhc2U2NFN0cmluZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICByZWFkb25seSBuYW1lID0gJ0RlY29kZUJhc2U2NFN0cmluZ0Vycm9yJztcbn1cblxuLyoqXG4gKiBVUkwtc2FmZSBiYXNlNjQgZW5jb2RpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IGJhc2U2NEVuY29kZSA9IGZ1bmN0aW9uIChzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHV0ZjhCeXRlcyA9IHN0cmluZ1RvQnl0ZUFycmF5KHN0cik7XG4gIHJldHVybiBiYXNlNjQuZW5jb2RlQnl0ZUFycmF5KHV0ZjhCeXRlcywgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZyAod2l0aG91dCBcIi5cIiBwYWRkaW5nIGluIHRoZSBlbmQpLlxuICogZS5nLiBVc2VkIGluIEpTT04gV2ViIFRva2VuIChKV1QpIHBhcnRzLlxuICovXG5leHBvcnQgY29uc3QgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcgPSBmdW5jdGlvbiAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBVc2UgYmFzZTY0dXJsIGVuY29kaW5nIGFuZCByZW1vdmUgcGFkZGluZyBpbiB0aGUgZW5kIChkb3QgY2hhcmFjdGVycykuXG4gIHJldHVybiBiYXNlNjRFbmNvZGUoc3RyKS5yZXBsYWNlKC9cXC4vZywgJycpO1xufTtcblxuLyoqXG4gKiBVUkwtc2FmZSBiYXNlNjQgZGVjb2RpbmdcbiAqXG4gKiBOT1RFOiBETyBOT1QgdXNlIHRoZSBnbG9iYWwgYXRvYigpIGZ1bmN0aW9uIC0gaXQgZG9lcyBOT1Qgc3VwcG9ydCB0aGVcbiAqIGJhc2U2NFVybCB2YXJpYW50IGVuY29kaW5nLlxuICpcbiAqIEBwYXJhbSBzdHIgVG8gYmUgZGVjb2RlZFxuICogQHJldHVybiBEZWNvZGVkIHJlc3VsdCwgaWYgcG9zc2libGVcbiAqL1xuZXhwb3J0IGNvbnN0IGJhc2U2NERlY29kZSA9IGZ1bmN0aW9uIChzdHI6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICB0cnkge1xuICAgIHJldHVybiBiYXNlNjQuZGVjb2RlU3RyaW5nKHN0ciwgdHJ1ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKCdiYXNlNjREZWNvZGUgZmFpbGVkOiAnLCBlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBEbyBhIGRlZXAtY29weSBvZiBiYXNpYyBKYXZhU2NyaXB0IE9iamVjdHMgb3IgQXJyYXlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcENvcHk8VD4odmFsdWU6IFQpOiBUIHtcbiAgcmV0dXJuIGRlZXBFeHRlbmQodW5kZWZpbmVkLCB2YWx1ZSkgYXMgVDtcbn1cblxuLyoqXG4gKiBDb3B5IHByb3BlcnRpZXMgZnJvbSBzb3VyY2UgdG8gdGFyZ2V0IChyZWN1cnNpdmVseSBhbGxvd3MgZXh0ZW5zaW9uXG4gKiBvZiBPYmplY3RzIGFuZCBBcnJheXMpLiAgU2NhbGFyIHZhbHVlcyBpbiB0aGUgdGFyZ2V0IGFyZSBvdmVyLXdyaXR0ZW4uXG4gKiBJZiB0YXJnZXQgaXMgdW5kZWZpbmVkLCBhbiBvYmplY3Qgb2YgdGhlIGFwcHJvcHJpYXRlIHR5cGUgd2lsbCBiZSBjcmVhdGVkXG4gKiAoYW5kIHJldHVybmVkKS5cbiAqXG4gKiBXZSByZWN1cnNpdmVseSBjb3B5IGFsbCBjaGlsZCBwcm9wZXJ0aWVzIG9mIHBsYWluIE9iamVjdHMgaW4gdGhlIHNvdXJjZS0gc29cbiAqIHRoYXQgbmFtZXNwYWNlLSBsaWtlIGRpY3Rpb25hcmllcyBhcmUgbWVyZ2VkLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgdGFyZ2V0IGNhbiBiZSBhIGZ1bmN0aW9uLCBpbiB3aGljaCBjYXNlIHRoZSBwcm9wZXJ0aWVzIGluXG4gKiB0aGUgc291cmNlIE9iamVjdCBhcmUgY29waWVkIG9udG8gaXQgYXMgc3RhdGljIHByb3BlcnRpZXMgb2YgdGhlIEZ1bmN0aW9uLlxuICpcbiAqIE5vdGU6IHdlIGRvbid0IG1lcmdlIF9fcHJvdG9fXyB0byBwcmV2ZW50IHByb3RvdHlwZSBwb2xsdXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBFeHRlbmQodGFyZ2V0OiB1bmtub3duLCBzb3VyY2U6IHVua25vd24pOiB1bmtub3duIHtcbiAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICBzd2l0Y2ggKHNvdXJjZS5jb25zdHJ1Y3Rvcikge1xuICAgIGNhc2UgRGF0ZTpcbiAgICAgIC8vIFRyZWF0IERhdGVzIGxpa2Ugc2NhbGFyczsgaWYgdGhlIHRhcmdldCBkYXRlIG9iamVjdCBoYWQgYW55IGNoaWxkXG4gICAgICAvLyBwcm9wZXJ0aWVzIC0gdGhleSB3aWxsIGJlIGxvc3QhXG4gICAgICBjb25zdCBkYXRlVmFsdWUgPSBzb3VyY2UgYXMgRGF0ZTtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlVmFsdWUuZ2V0VGltZSgpKTtcblxuICAgIGNhc2UgT2JqZWN0OlxuICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRhcmdldCA9IHt9O1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBcnJheTpcbiAgICAgIC8vIEFsd2F5cyBjb3B5IHRoZSBhcnJheSBzb3VyY2UgYW5kIG92ZXJ3cml0ZSB0aGUgdGFyZ2V0LlxuICAgICAgdGFyZ2V0ID0gW107XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBOb3QgYSBwbGFpbiBPYmplY3QgLSB0cmVhdCBpdCBhcyBhIHNjYWxhci5cbiAgICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICBmb3IgKGNvbnN0IHByb3AgaW4gc291cmNlKSB7XG4gICAgLy8gdXNlIGlzVmFsaWRLZXkgdG8gZ3VhcmQgYWdhaW5zdCBwcm90b3R5cGUgcG9sbHV0aW9uLiBTZWUgaHR0cHM6Ly9zbnlrLmlvL3Z1bG4vU05ZSy1KUy1MT0RBU0gtNDUwMjAyXG4gICAgaWYgKCFzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcCkgfHwgIWlzVmFsaWRLZXkocHJvcCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAodGFyZ2V0IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtwcm9wXSA9IGRlZXBFeHRlbmQoXG4gICAgICAodGFyZ2V0IGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtwcm9wXSxcbiAgICAgIChzb3VyY2UgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW3Byb3BdXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRLZXkoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIGtleSAhPT0gJ19fcHJvdG9fXyc7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgYGdsb2JhbFRoaXNgIG9iamVjdC5cbiAqIEByZXR1cm5zIHRoZSBgZ2xvYmFsVGhpc2Agb2JqZWN0IGZvciB0aGUgZ2l2ZW4gZW52aXJvbm1lbnQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRHbG9iYWwoKTogdHlwZW9mIGdsb2JhbFRoaXMge1xuICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZ2xvYmFsO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0LicpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gJy4vY3J5cHQnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEtleXMgZm9yIGV4cGVyaW1lbnRhbCBwcm9wZXJ0aWVzIG9uIHRoZSBgRmlyZWJhc2VEZWZhdWx0c2Agb2JqZWN0LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBFeHBlcmltZW50YWxLZXkgPSAnYXV0aFRva2VuU3luY1VSTCcgfCAnYXV0aElkVG9rZW5NYXhBZ2UnO1xuXG4vKipcbiAqIEFuIG9iamVjdCB0aGF0IGNhbiBiZSBpbmplY3RlZCBpbnRvIHRoZSBlbnZpcm9ubWVudCBhcyBfX0ZJUkVCQVNFX0RFRkFVTFRTX18sXG4gKiBlaXRoZXIgYXMgYSBwcm9wZXJ0eSBvZiBnbG9iYWxUaGlzLCBhIHNoZWxsIGVudmlyb25tZW50IHZhcmlhYmxlLCBvciBhXG4gKiBjb29raWUuXG4gKlxuICogVGhpcyBvYmplY3QgY2FuIGJlIHVzZWQgdG8gYXV0b21hdGljYWxseSBjb25maWd1cmUgYW5kIGluaXRpYWxpemVcbiAqIGEgRmlyZWJhc2UgYXBwIGFzIHdlbGwgYXMgYW55IGVtdWxhdG9ycy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlyZWJhc2VEZWZhdWx0cyB7XG4gIGNvbmZpZz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIGVtdWxhdG9ySG9zdHM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBfYXV0aFRva2VuU3luY1VSTD86IHN0cmluZztcbiAgX2F1dGhJZFRva2VuTWF4QWdlPzogbnVtYmVyO1xuICAvKipcbiAgICogT3ZlcnJpZGUgRmlyZWJhc2UncyBydW50aW1lIGVudmlyb25tZW50IGRldGVjdGlvbiBhbmRcbiAgICogZm9yY2UgdGhlIFNESyB0byBhY3QgYXMgaWYgaXQgd2VyZSBpbiB0aGUgc3BlY2lmaWVkIGVudmlyb25tZW50LlxuICAgKi9cbiAgZm9yY2VFbnZpcm9ubWVudD86ICdicm93c2VyJyB8ICdub2RlJztcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICAvLyBOZWVkIGB2YXJgIGZvciB0aGlzIHRvIHdvcmsuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcbiAgdmFyIF9fRklSRUJBU0VfREVGQVVMVFNfXzogRmlyZWJhc2VEZWZhdWx0cyB8IHVuZGVmaW5lZDtcbn1cblxuY29uc3QgZ2V0RGVmYXVsdHNGcm9tR2xvYmFsID0gKCk6IEZpcmViYXNlRGVmYXVsdHMgfCB1bmRlZmluZWQgPT5cbiAgZ2V0R2xvYmFsKCkuX19GSVJFQkFTRV9ERUZBVUxUU19fO1xuXG4vKipcbiAqIEF0dGVtcHQgdG8gcmVhZCBkZWZhdWx0cyBmcm9tIGEgSlNPTiBzdHJpbmcgcHJvdmlkZWQgdG9cbiAqIHByb2Nlc3MoLillbnYoLilfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb3IgYSBKU09OIGZpbGUgd2hvc2UgcGF0aCBpcyBpblxuICogcHJvY2VzcyguKWVudiguKV9fRklSRUJBU0VfREVGQVVMVFNfUEFUSF9fXG4gKiBUaGUgZG90cyBhcmUgaW4gcGFyZW5zIGJlY2F1c2UgY2VydGFpbiBjb21waWxlcnMgKFZpdGU/KSBjYW5ub3RcbiAqIGhhbmRsZSBzZWVpbmcgdGhhdCB2YXJpYWJsZSBpbiBjb21tZW50cy5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvZmlyZWJhc2UtanMtc2RrL2lzc3Vlcy82ODM4XG4gKi9cbmNvbnN0IGdldERlZmF1bHRzRnJvbUVudlZhcmlhYmxlID0gKCk6IEZpcmViYXNlRGVmYXVsdHMgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBwcm9jZXNzLmVudiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZGVmYXVsdHNKc29uU3RyaW5nID0gcHJvY2Vzcy5lbnYuX19GSVJFQkFTRV9ERUZBVUxUU19fO1xuICBpZiAoZGVmYXVsdHNKc29uU3RyaW5nKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGVmYXVsdHNKc29uU3RyaW5nKTtcbiAgfVxufTtcblxuY29uc3QgZ2V0RGVmYXVsdHNGcm9tQ29va2llID0gKCk6IEZpcmViYXNlRGVmYXVsdHMgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbWF0Y2g7XG4gIHRyeSB7XG4gICAgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2goL19fRklSRUJBU0VfREVGQVVMVFNfXz0oW147XSspLyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBTb21lIGVudmlyb25tZW50cyBzdWNoIGFzIEFuZ3VsYXIgVW5pdmVyc2FsIFNTUiBoYXZlIGFcbiAgICAvLyBgZG9jdW1lbnRgIG9iamVjdCBidXQgZXJyb3Igb24gYWNjZXNzaW5nIGBkb2N1bWVudC5jb29raWVgLlxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBkZWNvZGVkID0gbWF0Y2ggJiYgYmFzZTY0RGVjb2RlKG1hdGNoWzFdKTtcbiAgcmV0dXJuIGRlY29kZWQgJiYgSlNPTi5wYXJzZShkZWNvZGVkKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0LiBJdCBjaGVja3MgaW4gb3JkZXI6XG4gKiAoMSkgaWYgc3VjaCBhbiBvYmplY3QgZXhpc3RzIGFzIGEgcHJvcGVydHkgb2YgYGdsb2JhbFRoaXNgXG4gKiAoMikgaWYgc3VjaCBhbiBvYmplY3Qgd2FzIHByb3ZpZGVkIG9uIGEgc2hlbGwgZW52aXJvbm1lbnQgdmFyaWFibGVcbiAqICgzKSBpZiBzdWNoIGFuIG9iamVjdCBleGlzdHMgaW4gYSBjb29raWVcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRzID0gKCk6IEZpcmViYXNlRGVmYXVsdHMgfCB1bmRlZmluZWQgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiAoXG4gICAgICBnZXREZWZhdWx0c0Zyb21HbG9iYWwoKSB8fFxuICAgICAgZ2V0RGVmYXVsdHNGcm9tRW52VmFyaWFibGUoKSB8fFxuICAgICAgZ2V0RGVmYXVsdHNGcm9tQ29va2llKClcbiAgICApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyoqXG4gICAgICogQ2F0Y2gtYWxsIGZvciBiZWluZyB1bmFibGUgdG8gZ2V0IF9fRklSRUJBU0VfREVGQVVMVFNfXyBkdWVcbiAgICAgKiB0byBhbnkgZW52aXJvbm1lbnQgY2FzZSB3ZSBoYXZlIG5vdCBhY2NvdW50ZWQgZm9yLiBMb2cgdG9cbiAgICAgKiBpbmZvIGluc3RlYWQgb2Ygc3dhbGxvd2luZyBzbyB3ZSBjYW4gZmluZCB0aGVzZSB1bmtub3duIGNhc2VzXG4gICAgICogYW5kIGFkZCBwYXRocyBmb3IgdGhlbSBpZiBuZWVkZWQuXG4gICAgICovXG4gICAgY29uc29sZS5pbmZvKGBVbmFibGUgdG8gZ2V0IF9fRklSRUJBU0VfREVGQVVMVFNfXyBkdWUgdG86ICR7ZX1gKTtcbiAgICByZXR1cm47XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBlbXVsYXRvciBob3N0IHN0b3JlZCBpbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdFxuICogZm9yIHRoZSBnaXZlbiBwcm9kdWN0LlxuICogQHJldHVybnMgYSBVUkwgaG9zdCBmb3JtYXR0ZWQgbGlrZSBgMTI3LjAuMC4xOjk5OTlgIG9yIGBbOjoxXTo0MDAwYCBpZiBhdmFpbGFibGVcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRFbXVsYXRvckhvc3QgPSAoXG4gIHByb2R1Y3ROYW1lOiBzdHJpbmdcbik6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiBnZXREZWZhdWx0cygpPy5lbXVsYXRvckhvc3RzPy5bcHJvZHVjdE5hbWVdO1xuXG4vKipcbiAqIFJldHVybnMgZW11bGF0b3IgaG9zdG5hbWUgYW5kIHBvcnQgc3RvcmVkIGluIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0XG4gKiBmb3IgdGhlIGdpdmVuIHByb2R1Y3QuXG4gKiBAcmV0dXJucyBhIHBhaXIgb2YgaG9zdG5hbWUgYW5kIHBvcnQgbGlrZSBgW1wiOjoxXCIsIDQwMDBdYCBpZiBhdmFpbGFibGVcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRFbXVsYXRvckhvc3RuYW1lQW5kUG9ydCA9IChcbiAgcHJvZHVjdE5hbWU6IHN0cmluZ1xuKTogW2hvc3RuYW1lOiBzdHJpbmcsIHBvcnQ6IG51bWJlcl0gfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBob3N0ID0gZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdChwcm9kdWN0TmFtZSk7XG4gIGlmICghaG9zdCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSBob3N0Lmxhc3RJbmRleE9mKCc6Jyk7IC8vIEZpbmRpbmcgdGhlIGxhc3Qgc2luY2UgSVB2NiBhZGRyIGFsc28gaGFzIGNvbG9ucy5cbiAgaWYgKHNlcGFyYXRvckluZGV4IDw9IDAgfHwgc2VwYXJhdG9ySW5kZXggKyAxID09PSBob3N0Lmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBob3N0ICR7aG9zdH0gd2l0aCBubyBzZXBhcmF0ZSBob3N0bmFtZSBhbmQgcG9ydCFgKTtcbiAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gIGNvbnN0IHBvcnQgPSBwYXJzZUludChob3N0LnN1YnN0cmluZyhzZXBhcmF0b3JJbmRleCArIDEpLCAxMCk7XG4gIGlmIChob3N0WzBdID09PSAnWycpIHtcbiAgICAvLyBCcmFja2V0LXF1b3RlZCBgW2lwdjZhZGRyXTpwb3J0YCA9PiByZXR1cm4gXCJpcHY2YWRkclwiICh3aXRob3V0IGJyYWNrZXRzKS5cbiAgICByZXR1cm4gW2hvc3Quc3Vic3RyaW5nKDEsIHNlcGFyYXRvckluZGV4IC0gMSksIHBvcnRdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbaG9zdC5zdWJzdHJpbmcoMCwgc2VwYXJhdG9ySW5kZXgpLCBwb3J0XTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIEZpcmViYXNlIGFwcCBjb25maWcgc3RvcmVkIGluIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdEFwcENvbmZpZyA9ICgpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgdW5kZWZpbmVkID0+XG4gIGdldERlZmF1bHRzKCk/LmNvbmZpZztcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGV4cGVyaW1lbnRhbCBzZXR0aW5nIG9uIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0IChwcm9wZXJ0aWVzXG4gKiBwcmVmaXhlZCBieSBcIl9cIilcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEV4cGVyaW1lbnRhbFNldHRpbmcgPSA8VCBleHRlbmRzIEV4cGVyaW1lbnRhbEtleT4oXG4gIG5hbWU6IFRcbik6IEZpcmViYXNlRGVmYXVsdHNbYF8ke1R9YF0gPT5cbiAgZ2V0RGVmYXVsdHMoKT8uW2BfJHtuYW1lfWBdIGFzIEZpcmViYXNlRGVmYXVsdHNbYF8ke1R9YF07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNsYXNzIERlZmVycmVkPFI+IHtcbiAgcHJvbWlzZTogUHJvbWlzZTxSPjtcbiAgcmVqZWN0OiAodmFsdWU/OiB1bmtub3duKSA9PiB2b2lkID0gKCkgPT4ge307XG4gIHJlc29sdmU6ICh2YWx1ZT86IHVua25vd24pID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZSBhcyAodmFsdWU/OiB1bmtub3duKSA9PiB2b2lkO1xuICAgICAgdGhpcy5yZWplY3QgPSByZWplY3QgYXMgKHZhbHVlPzogdW5rbm93bikgPT4gdm9pZDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdXIgQVBJIGludGVybmFscyBhcmUgbm90IHByb21pc2lmaWVkIGFuZCBjYW5ub3QgYmVjYXVzZSBvdXIgY2FsbGJhY2sgQVBJcyBoYXZlIHN1YnRsZSBleHBlY3RhdGlvbnMgYXJvdW5kXG4gICAqIGludm9raW5nIHByb21pc2VzIGlubGluZSwgd2hpY2ggUHJvbWlzZXMgYXJlIGZvcmJpZGRlbiB0byBkby4gVGhpcyBtZXRob2QgYWNjZXB0cyBhbiBvcHRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrXG4gICAqIGFuZCByZXR1cm5zIGEgbm9kZS1zdHlsZSBjYWxsYmFjayB3aGljaCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBEZWZlcnJlZCdzIHByb21pc2UuXG4gICAqL1xuICB3cmFwQ2FsbGJhY2soXG4gICAgY2FsbGJhY2s/OiAoZXJyb3I/OiB1bmtub3duLCB2YWx1ZT86IHVua25vd24pID0+IHZvaWRcbiAgKTogKGVycm9yOiB1bmtub3duLCB2YWx1ZT86IHVua25vd24pID0+IHZvaWQge1xuICAgIHJldHVybiAoZXJyb3IsIHZhbHVlPykgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRoaXMucmVqZWN0KGVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIEF0dGFjaGluZyBub29wIGhhbmRsZXIganVzdCBpbiBjYXNlIGRldmVsb3BlciB3YXNuJ3QgZXhwZWN0aW5nXG4gICAgICAgIC8vIHByb21pc2VzXG4gICAgICAgIHRoaXMucHJvbWlzZS5jYXRjaCgoKSA9PiB7fSk7XG5cbiAgICAgICAgLy8gU29tZSBvZiBvdXIgY2FsbGJhY2tzIGRvbid0IGV4cGVjdCBhIHZhbHVlIGFuZCBvdXIgb3duIHRlc3RzXG4gICAgICAgIC8vIGFzc2VydCB0aGF0IHRoZSBwYXJhbWV0ZXIgbGVuZ3RoIGlzIDFcbiAgICAgICAgaWYgKGNhbGxiYWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayhlcnJvciwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nIH0gZnJvbSAnLi9jcnlwdCc7XG5cbi8vIEZpcmViYXNlIEF1dGggdG9rZW5zIGNvbnRhaW4gc25ha2VfY2FzZSBjbGFpbXMgZm9sbG93aW5nIHRoZSBKV1Qgc3RhbmRhcmQgLyBjb252ZW50aW9uLlxuLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG5cbmV4cG9ydCB0eXBlIEZpcmViYXNlU2lnbkluUHJvdmlkZXIgPVxuICB8ICdjdXN0b20nXG4gIHwgJ2VtYWlsJ1xuICB8ICdwYXNzd29yZCdcbiAgfCAncGhvbmUnXG4gIHwgJ2Fub255bW91cydcbiAgfCAnZ29vZ2xlLmNvbSdcbiAgfCAnZmFjZWJvb2suY29tJ1xuICB8ICdnaXRodWIuY29tJ1xuICB8ICd0d2l0dGVyLmNvbSdcbiAgfCAnbWljcm9zb2Z0LmNvbSdcbiAgfCAnYXBwbGUuY29tJztcblxuaW50ZXJmYWNlIEZpcmViYXNlSWRUb2tlbiB7XG4gIC8vIEFsd2F5cyBzZXQgdG8gaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL1BST0pFQ1RfSURcbiAgaXNzOiBzdHJpbmc7XG5cbiAgLy8gQWx3YXlzIHNldCB0byBQUk9KRUNUX0lEXG4gIGF1ZDogc3RyaW5nO1xuXG4gIC8vIFRoZSB1c2VyJ3MgdW5pcXVlIElEXG4gIHN1Yjogc3RyaW5nO1xuXG4gIC8vIFRoZSB0b2tlbiBpc3N1ZSB0aW1lLCBpbiBzZWNvbmRzIHNpbmNlIGVwb2NoXG4gIGlhdDogbnVtYmVyO1xuXG4gIC8vIFRoZSB0b2tlbiBleHBpcnkgdGltZSwgbm9ybWFsbHkgJ2lhdCcgKyAzNjAwXG4gIGV4cDogbnVtYmVyO1xuXG4gIC8vIFRoZSB1c2VyJ3MgdW5pcXVlIElELiBNdXN0IGJlIGVxdWFsIHRvICdzdWInXG4gIHVzZXJfaWQ6IHN0cmluZztcblxuICAvLyBUaGUgdGltZSB0aGUgdXNlciBhdXRoZW50aWNhdGVkLCBub3JtYWxseSAnaWF0J1xuICBhdXRoX3RpbWU6IG51bWJlcjtcblxuICAvLyBUaGUgc2lnbiBpbiBwcm92aWRlciwgb25seSBzZXQgd2hlbiB0aGUgcHJvdmlkZXIgaXMgJ2Fub255bW91cydcbiAgcHJvdmlkZXJfaWQ/OiAnYW5vbnltb3VzJztcblxuICAvLyBUaGUgdXNlcidzIHByaW1hcnkgZW1haWxcbiAgZW1haWw/OiBzdHJpbmc7XG5cbiAgLy8gVGhlIHVzZXIncyBlbWFpbCB2ZXJpZmljYXRpb24gc3RhdHVzXG4gIGVtYWlsX3ZlcmlmaWVkPzogYm9vbGVhbjtcblxuICAvLyBUaGUgdXNlcidzIHByaW1hcnkgcGhvbmUgbnVtYmVyXG4gIHBob25lX251bWJlcj86IHN0cmluZztcblxuICAvLyBUaGUgdXNlcidzIGRpc3BsYXkgbmFtZVxuICBuYW1lPzogc3RyaW5nO1xuXG4gIC8vIFRoZSB1c2VyJ3MgcHJvZmlsZSBwaG90byBVUkxcbiAgcGljdHVyZT86IHN0cmluZztcblxuICAvLyBJbmZvcm1hdGlvbiBvbiBhbGwgaWRlbnRpdGllcyBsaW5rZWQgdG8gdGhpcyB1c2VyXG4gIGZpcmViYXNlOiB7XG4gICAgLy8gVGhlIHByaW1hcnkgc2lnbi1pbiBwcm92aWRlclxuICAgIHNpZ25faW5fcHJvdmlkZXI6IEZpcmViYXNlU2lnbkluUHJvdmlkZXI7XG5cbiAgICAvLyBBIG1hcCBvZiBwcm92aWRlcnMgdG8gdGhlIHVzZXIncyBsaXN0IG9mIHVuaXF1ZSBpZGVudGlmaWVycyBmcm9tXG4gICAgLy8gZWFjaCBwcm92aWRlclxuICAgIGlkZW50aXRpZXM/OiB7IFtwcm92aWRlciBpbiBGaXJlYmFzZVNpZ25JblByb3ZpZGVyXT86IHN0cmluZ1tdIH07XG4gIH07XG5cbiAgLy8gQ3VzdG9tIGNsYWltcyBzZXQgYnkgdGhlIGRldmVsb3BlclxuICBbY2xhaW06IHN0cmluZ106IHVua25vd247XG5cbiAgdWlkPzogbmV2ZXI7IC8vIFRyeSB0byBjYXRjaCBhIGNvbW1vbiBtaXN0YWtlIG9mIFwidWlkXCIgKHNob3VsZCBiZSBcInN1YlwiIGluc3RlYWQpLlxufVxuXG5leHBvcnQgdHlwZSBFbXVsYXRvck1vY2tUb2tlbk9wdGlvbnMgPSAoeyB1c2VyX2lkOiBzdHJpbmcgfSB8IHsgc3ViOiBzdHJpbmcgfSkgJlxuICBQYXJ0aWFsPEZpcmViYXNlSWRUb2tlbj47XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb2NrVXNlclRva2VuKFxuICB0b2tlbjogRW11bGF0b3JNb2NrVG9rZW5PcHRpb25zLFxuICBwcm9qZWN0SWQ/OiBzdHJpbmdcbik6IHN0cmluZyB7XG4gIGlmICh0b2tlbi51aWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnVGhlIFwidWlkXCIgZmllbGQgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBieSBtb2NrVXNlclRva2VuLiBQbGVhc2UgdXNlIFwic3ViXCIgaW5zdGVhZCBmb3IgRmlyZWJhc2UgQXV0aCBVc2VyIElELidcbiAgICApO1xuICB9XG4gIC8vIFVuc2VjdXJlZCBKV1RzIHVzZSBcIm5vbmVcIiBhcyB0aGUgYWxnb3JpdGhtLlxuICBjb25zdCBoZWFkZXIgPSB7XG4gICAgYWxnOiAnbm9uZScsXG4gICAgdHlwZTogJ0pXVCdcbiAgfTtcblxuICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdElkIHx8ICdkZW1vLXByb2plY3QnO1xuICBjb25zdCBpYXQgPSB0b2tlbi5pYXQgfHwgMDtcbiAgY29uc3Qgc3ViID0gdG9rZW4uc3ViIHx8IHRva2VuLnVzZXJfaWQ7XG4gIGlmICghc3ViKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwibW9ja1VzZXJUb2tlbiBtdXN0IGNvbnRhaW4gJ3N1Yicgb3IgJ3VzZXJfaWQnIGZpZWxkIVwiKTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQ6IEZpcmViYXNlSWRUb2tlbiA9IHtcbiAgICAvLyBTZXQgYWxsIHJlcXVpcmVkIGZpZWxkcyB0byBkZWNlbnQgZGVmYXVsdHNcbiAgICBpc3M6IGBodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vJHtwcm9qZWN0fWAsXG4gICAgYXVkOiBwcm9qZWN0LFxuICAgIGlhdCxcbiAgICBleHA6IGlhdCArIDM2MDAsXG4gICAgYXV0aF90aW1lOiBpYXQsXG4gICAgc3ViLFxuICAgIHVzZXJfaWQ6IHN1YixcbiAgICBmaXJlYmFzZToge1xuICAgICAgc2lnbl9pbl9wcm92aWRlcjogJ2N1c3RvbScsXG4gICAgICBpZGVudGl0aWVzOiB7fVxuICAgIH0sXG5cbiAgICAvLyBPdmVycmlkZSB3aXRoIHVzZXIgb3B0aW9uc1xuICAgIC4uLnRva2VuXG4gIH07XG5cbiAgLy8gVW5zZWN1cmVkIEpXVHMgdXNlIHRoZSBlbXB0eSBzdHJpbmcgYXMgYSBzaWduYXR1cmUuXG4gIGNvbnN0IHNpZ25hdHVyZSA9ICcnO1xuICByZXR1cm4gW1xuICAgIGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nKEpTT04uc3RyaW5naWZ5KGhlYWRlcikpLFxuICAgIGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKSxcbiAgICBzaWduYXR1cmVcbiAgXS5qb2luKCcuJyk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ09OU1RBTlRTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzJztcblxuLyoqXG4gKiBUeXBlIHBsYWNlaG9sZGVyIGZvciBgV29ya2VyR2xvYmFsU2NvcGVgIGZyb20gYHdlYndvcmtlcmBcbiAqL1xuZGVjbGFyZSBjbGFzcyBXb3JrZXJHbG9iYWxTY29wZSB7fVxuXG4vKipcbiAqIFJldHVybnMgbmF2aWdhdG9yLnVzZXJBZ2VudCBzdHJpbmcgb3IgJycgaWYgaXQncyBub3QgZGVmaW5lZC5cbiAqIEByZXR1cm4gdXNlciBhZ2VudCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVBKCk6IHN0cmluZyB7XG4gIGlmIChcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBuYXZpZ2F0b3JbJ3VzZXJBZ2VudCddID09PSAnc3RyaW5nJ1xuICApIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yWyd1c2VyQWdlbnQnXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuLyoqXG4gKiBEZXRlY3QgQ29yZG92YSAvIFBob25lR2FwIC8gSW9uaWMgZnJhbWV3b3JrcyBvbiBhIG1vYmlsZSBkZXZpY2UuXG4gKlxuICogRGVsaWJlcmF0ZWx5IGRvZXMgbm90IHJlbHkgb24gY2hlY2tpbmcgYGZpbGU6Ly9gIFVSTHMgKGFzIHRoaXMgZmFpbHMgUGhvbmVHYXBcbiAqIGluIHRoZSBSaXBwbGUgZW11bGF0b3IpIG5vciBDb3Jkb3ZhIGBvbkRldmljZVJlYWR5YCwgd2hpY2ggd291bGQgbm9ybWFsbHlcbiAqIHdhaXQgZm9yIGEgY2FsbGJhY2suXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc01vYmlsZUNvcmRvdmEoKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBAdHMtaWdub3JlIFNldHRpbmcgdXAgYW4gYnJvYWRseSBhcHBsaWNhYmxlIGluZGV4IHNpZ25hdHVyZSBmb3IgV2luZG93XG4gICAgLy8ganVzdCB0byBkZWFsIHdpdGggdGhpcyBjYXNlIHdvdWxkIHByb2JhYmx5IGJlIGEgYmFkIGlkZWEuXG4gICAgISEod2luZG93Wydjb3Jkb3ZhJ10gfHwgd2luZG93WydwaG9uZWdhcCddIHx8IHdpbmRvd1snUGhvbmVHYXAnXSkgJiZcbiAgICAvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZHxibGFja2JlcnJ5fGllbW9iaWxlL2kudGVzdChnZXRVQSgpKVxuICApO1xufVxuXG4vKipcbiAqIERldGVjdCBOb2RlLmpzLlxuICpcbiAqIEByZXR1cm4gdHJ1ZSBpZiBOb2RlLmpzIGVudmlyb25tZW50IGlzIGRldGVjdGVkIG9yIHNwZWNpZmllZC5cbiAqL1xuLy8gTm9kZSBkZXRlY3Rpb24gbG9naWMgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2lsaWFrYW4vZGV0ZWN0LW5vZGUvXG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlKCk6IGJvb2xlYW4ge1xuICBjb25zdCBmb3JjZUVudmlyb25tZW50ID0gZ2V0RGVmYXVsdHMoKT8uZm9yY2VFbnZpcm9ubWVudDtcbiAgaWYgKGZvcmNlRW52aXJvbm1lbnQgPT09ICdub2RlJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGZvcmNlRW52aXJvbm1lbnQgPT09ICdicm93c2VyJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIChcbiAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJ1xuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBEZXRlY3QgQnJvd3NlciBFbnZpcm9ubWVudC5cbiAqIE5vdGU6IFRoaXMgd2lsbCByZXR1cm4gdHJ1ZSBmb3IgY2VydGFpbiB0ZXN0IGZyYW1ld29ya3MgdGhhdCBhcmUgaW5jb21wbGV0ZWx5XG4gKiBtaW1pY2tpbmcgYSBicm93c2VyLCBhbmQgc2hvdWxkIG5vdCBsZWFkIHRvIGFzc3VtaW5nIGFsbCBicm93c2VyIEFQSXMgYXJlXG4gKiBhdmFpbGFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXIoKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyB8fCBpc1dlYldvcmtlcigpO1xufVxuXG4vKipcbiAqIERldGVjdCBXZWIgV29ya2VyIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dlYldvcmtlcigpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlXG4gICk7XG59XG5cbi8qKlxuICogRGV0ZWN0IENsb3VkZmxhcmUgV29ya2VyIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Nsb3VkZmxhcmVXb3JrZXIoKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50ID09PSAnQ2xvdWRmbGFyZS1Xb3JrZXJzJ1xuICApO1xufVxuXG4vKipcbiAqIERldGVjdCBicm93c2VyIGV4dGVuc2lvbnMgKENocm9tZSBhbmQgRmlyZWZveCBhdCBsZWFzdCkuXG4gKi9cbmludGVyZmFjZSBCcm93c2VyUnVudGltZSB7XG4gIGlkPzogdW5rbm93bjtcbn1cbmRlY2xhcmUgY29uc3QgY2hyb21lOiB7IHJ1bnRpbWU/OiBCcm93c2VyUnVudGltZSB9O1xuZGVjbGFyZSBjb25zdCBicm93c2VyOiB7IHJ1bnRpbWU/OiBCcm93c2VyUnVudGltZSB9O1xuZXhwb3J0IGZ1bmN0aW9uIGlzQnJvd3NlckV4dGVuc2lvbigpOiBib29sZWFuIHtcbiAgY29uc3QgcnVudGltZSA9XG4gICAgdHlwZW9mIGNocm9tZSA9PT0gJ29iamVjdCdcbiAgICAgID8gY2hyb21lLnJ1bnRpbWVcbiAgICAgIDogdHlwZW9mIGJyb3dzZXIgPT09ICdvYmplY3QnXG4gICAgICA/IGJyb3dzZXIucnVudGltZVxuICAgICAgOiB1bmRlZmluZWQ7XG4gIHJldHVybiB0eXBlb2YgcnVudGltZSA9PT0gJ29iamVjdCcgJiYgcnVudGltZS5pZCAhPT0gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIERldGVjdCBSZWFjdCBOYXRpdmUuXG4gKlxuICogQHJldHVybiB0cnVlIGlmIFJlYWN0TmF0aXZlIGVudmlyb25tZW50IGlzIGRldGVjdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSZWFjdE5hdGl2ZSgpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3JbJ3Byb2R1Y3QnXSA9PT0gJ1JlYWN0TmF0aXZlJ1xuICApO1xufVxuXG4vKiogRGV0ZWN0cyBFbGVjdHJvbiBhcHBzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlY3Ryb24oKTogYm9vbGVhbiB7XG4gIHJldHVybiBnZXRVQSgpLmluZGV4T2YoJ0VsZWN0cm9uLycpID49IDA7XG59XG5cbi8qKiBEZXRlY3RzIEludGVybmV0IEV4cGxvcmVyLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSUUoKTogYm9vbGVhbiB7XG4gIGNvbnN0IHVhID0gZ2V0VUEoKTtcbiAgcmV0dXJuIHVhLmluZGV4T2YoJ01TSUUgJykgPj0gMCB8fCB1YS5pbmRleE9mKCdUcmlkZW50LycpID49IDA7XG59XG5cbi8qKiBEZXRlY3RzIFVuaXZlcnNhbCBXaW5kb3dzIFBsYXRmb3JtIGFwcHMuICovXG5leHBvcnQgZnVuY3Rpb24gaXNVV1AoKTogYm9vbGVhbiB7XG4gIHJldHVybiBnZXRVQSgpLmluZGV4T2YoJ01TQXBwSG9zdC8nKSA+PSAwO1xufVxuXG4vKipcbiAqIERldGVjdCB3aGV0aGVyIHRoZSBjdXJyZW50IFNESyBidWlsZCBpcyB0aGUgTm9kZSB2ZXJzaW9uLlxuICpcbiAqIEByZXR1cm4gdHJ1ZSBpZiBpdCdzIHRoZSBOb2RlIFNESyBidWlsZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZVNkaygpOiBib29sZWFuIHtcbiAgcmV0dXJuIENPTlNUQU5UUy5OT0RFX0NMSUVOVCA9PT0gdHJ1ZSB8fCBDT05TVEFOVFMuTk9ERV9BRE1JTiA9PT0gdHJ1ZTtcbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiB3ZSBhcmUgcnVubmluZyBpbiBTYWZhcmkuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYWZhcmkoKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgIWlzTm9kZSgpICYmXG4gICAgISFuYXZpZ2F0b3IudXNlckFnZW50ICYmXG4gICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnU2FmYXJpJykgJiZcbiAgICAhbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnQ2hyb21lJylcbiAgKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBjaGVja3MgaWYgaW5kZXhlZERCIGlzIHN1cHBvcnRlZCBieSBjdXJyZW50IGJyb3dzZXIvc2VydmljZSB3b3JrZXIgY29udGV4dFxuICogQHJldHVybiB0cnVlIGlmIGluZGV4ZWREQiBpcyBzdXBwb3J0ZWQgYnkgY3VycmVudCBicm93c2VyL3NlcnZpY2Ugd29ya2VyIGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW5kZXhlZERCQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICB0cnkge1xuICAgIHJldHVybiB0eXBlb2YgaW5kZXhlZERCID09PSAnb2JqZWN0JztcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHZhbGlkYXRlcyBicm93c2VyL3N3IGNvbnRleHQgZm9yIGluZGV4ZWREQiBieSBvcGVuaW5nIGEgZHVtbXkgaW5kZXhlZERCIGRhdGFiYXNlIGFuZCByZWplY3RcbiAqIGlmIGVycm9ycyBvY2N1ciBkdXJpbmcgdGhlIGRhdGFiYXNlIG9wZW4gb3BlcmF0aW9uLlxuICpcbiAqIEB0aHJvd3MgZXhjZXB0aW9uIGlmIGN1cnJlbnQgYnJvd3Nlci9zdyBjb250ZXh0IGNhbid0IHJ1biBpZGIub3BlbiAoZXg6IFNhZmFyaSBpZnJhbWUsIEZpcmVmb3hcbiAqIHByaXZhdGUgYnJvd3NpbmcpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgcHJlRXhpc3Q6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgY29uc3QgREJfQ0hFQ0tfTkFNRSA9XG4gICAgICAgICd2YWxpZGF0ZS1icm93c2VyLWNvbnRleHQtZm9yLWluZGV4ZWRkYi1hbmFseXRpY3MtbW9kdWxlJztcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBzZWxmLmluZGV4ZWREQi5vcGVuKERCX0NIRUNLX05BTUUpO1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIHJlcXVlc3QucmVzdWx0LmNsb3NlKCk7XG4gICAgICAgIC8vIGRlbGV0ZSBkYXRhYmFzZSBvbmx5IHdoZW4gaXQgZG9lc24ndCBwcmUtZXhpc3RcbiAgICAgICAgaWYgKCFwcmVFeGlzdCkge1xuICAgICAgICAgIHNlbGYuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKERCX0NIRUNLX05BTUUpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9O1xuICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PiB7XG4gICAgICAgIHByZUV4aXN0ID0gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yPy5tZXNzYWdlIHx8ICcnKTtcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKlxuICogVGhpcyBtZXRob2QgY2hlY2tzIHdoZXRoZXIgY29va2llIGlzIGVuYWJsZWQgd2l0aGluIGN1cnJlbnQgYnJvd3NlclxuICogQHJldHVybiB0cnVlIGlmIGNvb2tpZSBpcyBlbmFibGVkIHdpdGhpbiBjdXJyZW50IGJyb3dzZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZUNvb2tpZXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgfHwgIW5hdmlnYXRvci5jb29raWVFbmFibGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgU3RhbmRhcmRpemVkIEZpcmViYXNlIEVycm9yLlxuICpcbiAqIFVzYWdlOlxuICpcbiAqICAgLy8gVHlwZVNjcmlwdCBzdHJpbmcgbGl0ZXJhbHMgZm9yIHR5cGUtc2FmZSBjb2Rlc1xuICogICB0eXBlIEVyciA9XG4gKiAgICAgJ3Vua25vd24nIHxcbiAqICAgICAnb2JqZWN0LW5vdC1mb3VuZCdcbiAqICAgICA7XG4gKlxuICogICAvLyBDbG9zdXJlIGVudW0gZm9yIHR5cGUtc2FmZSBlcnJvciBjb2Rlc1xuICogICAvLyBhdC1lbnVtIHtzdHJpbmd9XG4gKiAgIHZhciBFcnIgPSB7XG4gKiAgICAgVU5LTk9XTjogJ3Vua25vd24nLFxuICogICAgIE9CSkVDVF9OT1RfRk9VTkQ6ICdvYmplY3Qtbm90LWZvdW5kJyxcbiAqICAgfVxuICpcbiAqICAgbGV0IGVycm9yczogTWFwPEVyciwgc3RyaW5nPiA9IHtcbiAqICAgICAnZ2VuZXJpYy1lcnJvcic6IFwiVW5rbm93biBlcnJvclwiLFxuICogICAgICdmaWxlLW5vdC1mb3VuZCc6IFwiQ291bGQgbm90IGZpbmQgZmlsZTogeyRmaWxlfVwiLFxuICogICB9O1xuICpcbiAqICAgLy8gVHlwZS1zYWZlIGZ1bmN0aW9uIC0gbXVzdCBwYXNzIGEgdmFsaWQgZXJyb3IgY29kZSBhcyBwYXJhbS5cbiAqICAgbGV0IGVycm9yID0gbmV3IEVycm9yRmFjdG9yeTxFcnI+KCdzZXJ2aWNlJywgJ1NlcnZpY2UnLCBlcnJvcnMpO1xuICpcbiAqICAgLi4uXG4gKiAgIHRocm93IGVycm9yLmNyZWF0ZShFcnIuR0VORVJJQyk7XG4gKiAgIC4uLlxuICogICB0aHJvdyBlcnJvci5jcmVhdGUoRXJyLkZJTEVfTk9UX0ZPVU5ELCB7J2ZpbGUnOiBmaWxlTmFtZX0pO1xuICogICAuLi5cbiAqICAgLy8gU2VydmljZTogQ291bGQgbm90IGZpbGUgZmlsZTogZm9vLnR4dCAoc2VydmljZS9maWxlLW5vdC1mb3VuZCkuXG4gKlxuICogICBjYXRjaCAoZSkge1xuICogICAgIGFzc2VydChlLm1lc3NhZ2UgPT09IFwiQ291bGQgbm90IGZpbmQgZmlsZTogZm9vLnR4dC5cIik7XG4gKiAgICAgaWYgKChlIGFzIEZpcmViYXNlRXJyb3IpPy5jb2RlID09PSAnc2VydmljZS9maWxlLW5vdC1mb3VuZCcpIHtcbiAqICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IHJlYWQgZmlsZTogXCIgKyBlWydmaWxlJ10pO1xuICogICAgIH1cbiAqICAgfVxuICovXG5cbmV4cG9ydCB0eXBlIEVycm9yTWFwPEVycm9yQ29kZSBleHRlbmRzIHN0cmluZz4gPSB7XG4gIHJlYWRvbmx5IFtLIGluIEVycm9yQ29kZV06IHN0cmluZztcbn07XG5cbmNvbnN0IEVSUk9SX05BTUUgPSAnRmlyZWJhc2VFcnJvcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyaW5nTGlrZSB7XG4gIHRvU3RyaW5nKCk6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFcnJvckRhdGEge1xuICBba2V5OiBzdHJpbmddOiB1bmtub3duO1xufVxuXG4vLyBCYXNlZCBvbiBjb2RlIGZyb206XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9FcnJvciNDdXN0b21fRXJyb3JfVHlwZXNcbmV4cG9ydCBjbGFzcyBGaXJlYmFzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKiogVGhlIGN1c3RvbSBuYW1lIGZvciBhbGwgRmlyZWJhc2VFcnJvcnMuICovXG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZyA9IEVSUk9SX05BTUU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSBlcnJvciBjb2RlIGZvciB0aGlzIGVycm9yLiAqL1xuICAgIHJlYWRvbmx5IGNvZGU6IHN0cmluZyxcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgLyoqIEN1c3RvbSBkYXRhIGZvciB0aGlzIGVycm9yLiAqL1xuICAgIHB1YmxpYyBjdXN0b21EYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbiAgKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAvLyBGaXggRm9yIEVTNVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC13aWtpL2Jsb2IvbWFzdGVyL0JyZWFraW5nLUNoYW5nZXMubWQjZXh0ZW5kaW5nLWJ1aWx0LWlucy1saWtlLWVycm9yLWFycmF5LWFuZC1tYXAtbWF5LW5vLWxvbmdlci13b3JrXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEZpcmViYXNlRXJyb3IucHJvdG90eXBlKTtcblxuICAgIC8vIE1haW50YWlucyBwcm9wZXIgc3RhY2sgdHJhY2UgZm9yIHdoZXJlIG91ciBlcnJvciB3YXMgdGhyb3duLlxuICAgIC8vIE9ubHkgYXZhaWxhYmxlIG9uIFY4LlxuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXJyb3JGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXJyb3JGYWN0b3J5PFxuICBFcnJvckNvZGUgZXh0ZW5kcyBzdHJpbmcsXG4gIEVycm9yUGFyYW1zIGV4dGVuZHMgeyByZWFkb25seSBbSyBpbiBFcnJvckNvZGVdPzogRXJyb3JEYXRhIH0gPSB7fVxuPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2VydmljZTogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2VydmljZU5hbWU6IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVycm9yczogRXJyb3JNYXA8RXJyb3JDb2RlPlxuICApIHt9XG5cbiAgY3JlYXRlPEsgZXh0ZW5kcyBFcnJvckNvZGU+KFxuICAgIGNvZGU6IEssXG4gICAgLi4uZGF0YTogSyBleHRlbmRzIGtleW9mIEVycm9yUGFyYW1zID8gW0Vycm9yUGFyYW1zW0tdXSA6IFtdXG4gICk6IEZpcmViYXNlRXJyb3Ige1xuICAgIGNvbnN0IGN1c3RvbURhdGEgPSAoZGF0YVswXSBhcyBFcnJvckRhdGEpIHx8IHt9O1xuICAgIGNvbnN0IGZ1bGxDb2RlID0gYCR7dGhpcy5zZXJ2aWNlfS8ke2NvZGV9YDtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuZXJyb3JzW2NvZGVdO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IHRlbXBsYXRlID8gcmVwbGFjZVRlbXBsYXRlKHRlbXBsYXRlLCBjdXN0b21EYXRhKSA6ICdFcnJvcic7XG4gICAgLy8gU2VydmljZSBOYW1lOiBFcnJvciBtZXNzYWdlIChzZXJ2aWNlL2NvZGUpLlxuICAgIGNvbnN0IGZ1bGxNZXNzYWdlID0gYCR7dGhpcy5zZXJ2aWNlTmFtZX06ICR7bWVzc2FnZX0gKCR7ZnVsbENvZGV9KS5gO1xuXG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRmlyZWJhc2VFcnJvcihmdWxsQ29kZSwgZnVsbE1lc3NhZ2UsIGN1c3RvbURhdGEpO1xuXG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VUZW1wbGF0ZSh0ZW1wbGF0ZTogc3RyaW5nLCBkYXRhOiBFcnJvckRhdGEpOiBzdHJpbmcge1xuICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShQQVRURVJOLCAoXywga2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyBTdHJpbmcodmFsdWUpIDogYDwke2tleX0/PmA7XG4gIH0pO1xufVxuXG5jb25zdCBQQVRURVJOID0gL1xce1xcJChbXn1dKyl9L2c7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBFdmFsdWF0ZXMgYSBKU09OIHN0cmluZyBpbnRvIGEgamF2YXNjcmlwdCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBBIHN0cmluZyBjb250YWluaW5nIEpTT04uXG4gKiBAcmV0dXJuIHsqfSBUaGUgamF2YXNjcmlwdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzcGVjaWZpZWQgSlNPTi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpzb25FdmFsKHN0cjogc3RyaW5nKTogdW5rbm93biB7XG4gIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG59XG5cbi8qKlxuICogUmV0dXJucyBKU09OIHJlcHJlc2VudGluZyBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICogQHBhcmFtIHsqfSBkYXRhIEphdmFTY3JpcHQgb2JqZWN0IHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgSlNPTiBjb250ZW50cyBvZiB0aGUgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KGRhdGE6IHVua25vd24pOiBzdHJpbmcge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgYmFzZTY0RGVjb2RlIH0gZnJvbSAnLi9jcnlwdCc7XG5pbXBvcnQgeyBqc29uRXZhbCB9IGZyb20gJy4vanNvbic7XG5cbmludGVyZmFjZSBDbGFpbXMge1xuICBba2V5OiBzdHJpbmddOiB7fTtcbn1cblxuaW50ZXJmYWNlIERlY29kZWRUb2tlbiB7XG4gIGhlYWRlcjogb2JqZWN0O1xuICBjbGFpbXM6IENsYWltcztcbiAgZGF0YTogb2JqZWN0O1xuICBzaWduYXR1cmU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gaW50byBjb25zdGl0dWVudCBwYXJ0cy5cbiAqXG4gKiBOb3RlczpcbiAqIC0gTWF5IHJldHVybiB3aXRoIGludmFsaWQgLyBpbmNvbXBsZXRlIGNsYWltcyBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWNvZGUgPSBmdW5jdGlvbiAodG9rZW46IHN0cmluZyk6IERlY29kZWRUb2tlbiB7XG4gIGxldCBoZWFkZXIgPSB7fSxcbiAgICBjbGFpbXM6IENsYWltcyA9IHt9LFxuICAgIGRhdGEgPSB7fSxcbiAgICBzaWduYXR1cmUgPSAnJztcblxuICB0cnkge1xuICAgIGNvbnN0IHBhcnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcbiAgICBoZWFkZXIgPSBqc29uRXZhbChiYXNlNjREZWNvZGUocGFydHNbMF0pIHx8ICcnKSBhcyBvYmplY3Q7XG4gICAgY2xhaW1zID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzFdKSB8fCAnJykgYXMgQ2xhaW1zO1xuICAgIHNpZ25hdHVyZSA9IHBhcnRzWzJdO1xuICAgIGRhdGEgPSBjbGFpbXNbJ2QnXSB8fCB7fTtcbiAgICBkZWxldGUgY2xhaW1zWydkJ107XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgcmV0dXJuIHtcbiAgICBoZWFkZXIsXG4gICAgY2xhaW1zLFxuICAgIGRhdGEsXG4gICAgc2lnbmF0dXJlXG4gIH07XG59O1xuXG5pbnRlcmZhY2UgRGVjb2RlZFRva2VuIHtcbiAgaGVhZGVyOiBvYmplY3Q7XG4gIGNsYWltczogQ2xhaW1zO1xuICBkYXRhOiBvYmplY3Q7XG4gIHNpZ25hdHVyZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgdGltZS1iYXNlZCBjbGFpbXMuIFdpbGwgcmV0dXJuIHRydWUgaWYgdGhlXG4gKiB0b2tlbiBpcyB3aXRoaW4gdGhlIHRpbWUgd2luZG93IGF1dGhvcml6ZWQgYnkgdGhlICduYmYnIChub3QtYmVmb3JlKSBhbmQgJ2lhdCcgKGlzc3VlZC1hdCkgY2xhaW1zLlxuICpcbiAqIE5vdGVzOlxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZFRpbWVzdGFtcCA9IGZ1bmN0aW9uICh0b2tlbjogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGNsYWltczogQ2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XG4gIGNvbnN0IG5vdzogbnVtYmVyID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApO1xuICBsZXQgdmFsaWRTaW5jZTogbnVtYmVyID0gMCxcbiAgICB2YWxpZFVudGlsOiBudW1iZXIgPSAwO1xuXG4gIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ25iZicpKSB7XG4gICAgICB2YWxpZFNpbmNlID0gY2xhaW1zWyduYmYnXSBhcyBudW1iZXI7XG4gICAgfSBlbHNlIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XG4gICAgICB2YWxpZFNpbmNlID0gY2xhaW1zWydpYXQnXSBhcyBudW1iZXI7XG4gICAgfVxuXG4gICAgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnZXhwJykpIHtcbiAgICAgIHZhbGlkVW50aWwgPSBjbGFpbXNbJ2V4cCddIGFzIG51bWJlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdG9rZW4gd2lsbCBleHBpcmUgYWZ0ZXIgMjRoIGJ5IGRlZmF1bHRcbiAgICAgIHZhbGlkVW50aWwgPSB2YWxpZFNpbmNlICsgODY0MDA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICAhIW5vdyAmJlxuICAgICEhdmFsaWRTaW5jZSAmJlxuICAgICEhdmFsaWRVbnRpbCAmJlxuICAgIG5vdyA+PSB2YWxpZFNpbmNlICYmXG4gICAgbm93IDw9IHZhbGlkVW50aWxcbiAgKTtcbn07XG5cbi8qKlxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCByZXR1cm5zIGl0cyBpc3N1ZWQgYXQgdGltZSBpZiB2YWxpZCwgbnVsbCBvdGhlcndpc2UuXG4gKlxuICogTm90ZXM6XG4gKiAtIE1heSByZXR1cm4gbnVsbCBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc3N1ZWRBdFRpbWUgPSBmdW5jdGlvbiAodG9rZW46IHN0cmluZyk6IG51bWJlciB8IG51bGwge1xuICBjb25zdCBjbGFpbXM6IENsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xuICBpZiAodHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKSkge1xuICAgIHJldHVybiBjbGFpbXNbJ2lhdCddIGFzIG51bWJlcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCBjaGVja3MgdGhlIHZhbGlkaXR5IG9mIGl0cyBmb3JtYXQuIEV4cGVjdHMgYSB2YWxpZCBpc3N1ZWQtYXQgdGltZS5cbiAqXG4gKiBOb3RlczpcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzVmFsaWRGb3JtYXQgPSBmdW5jdGlvbiAodG9rZW46IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBkZWNvZGVkID0gZGVjb2RlKHRva2VuKSxcbiAgICBjbGFpbXMgPSBkZWNvZGVkLmNsYWltcztcblxuICByZXR1cm4gISFjbGFpbXMgJiYgdHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKTtcbn07XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gcGVlciBpbnRvIGFuIGF1dGggdG9rZW4gYW5kIGRldGVybWluZSBpZiBpdCdzIGFuIGFkbWluIGF1dGggdG9rZW4gYnkgbG9va2luZyBhdCB0aGUgY2xhaW1zIHBvcnRpb24uXG4gKlxuICogTm90ZXM6XG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0FkbWluID0gZnVuY3Rpb24gKHRva2VuOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgY2xhaW1zOiBDbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcbiAgcmV0dXJuIHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltc1snYWRtaW4nXSA9PT0gdHJ1ZTtcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zPFQgZXh0ZW5kcyBvYmplY3Q+KG9iajogVCwga2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZlR2V0PFQgZXh0ZW5kcyBvYmplY3QsIEsgZXh0ZW5kcyBrZXlvZiBUPihcbiAgb2JqOiBULFxuICBrZXk6IEtcbik6IFRbS10gfCB1bmRlZmluZWQge1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KG9iajogb2JqZWN0KTogb2JqIGlzIHt9IHtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXA8SyBleHRlbmRzIHN0cmluZywgViwgVT4oXG4gIG9iajogeyBba2V5IGluIEtdOiBWIH0sXG4gIGZuOiAodmFsdWU6IFYsIGtleTogSywgb2JqOiB7IFtrZXkgaW4gS106IFYgfSkgPT4gVSxcbiAgY29udGV4dE9iaj86IHVua25vd25cbik6IHsgW2tleSBpbiBLXTogVSB9IHtcbiAgY29uc3QgcmVzOiBQYXJ0aWFsPHsgW2tleSBpbiBLXTogVSB9PiA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgcmVzW2tleV0gPSBmbi5jYWxsKGNvbnRleHRPYmosIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXMgYXMgeyBba2V5IGluIEtdOiBVIH07XG59XG5cbi8qKlxuICogRGVlcCBlcXVhbCB0d28gb2JqZWN0cy4gU3VwcG9ydCBBcnJheXMgYW5kIE9iamVjdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRXF1YWwoYTogb2JqZWN0LCBiOiBvYmplY3QpOiBib29sZWFuIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gIGNvbnN0IGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG4gIGZvciAoY29uc3QgayBvZiBhS2V5cykge1xuICAgIGlmICghYktleXMuaW5jbHVkZXMoaykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBhUHJvcCA9IChhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtrXTtcbiAgICBjb25zdCBiUHJvcCA9IChiIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtrXTtcbiAgICBpZiAoaXNPYmplY3QoYVByb3ApICYmIGlzT2JqZWN0KGJQcm9wKSkge1xuICAgICAgaWYgKCFkZWVwRXF1YWwoYVByb3AsIGJQcm9wKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhUHJvcCAhPT0gYlByb3ApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGNvbnN0IGsgb2YgYktleXMpIHtcbiAgICBpZiAoIWFLZXlzLmluY2x1ZGVzKGspKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdCh0aGluZzogdW5rbm93bik6IHRoaW5nIGlzIG9iamVjdCB7XG4gIHJldHVybiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IERlZmVycmVkIH0gZnJvbSAnLi9kZWZlcnJlZCc7XG5cbi8qKlxuICogUmVqZWN0cyBpZiB0aGUgZ2l2ZW4gcHJvbWlzZSBkb2Vzbid0IHJlc29sdmUgaW4gdGltZUluTVMgbWlsbGlzZWNvbmRzLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlV2l0aFRpbWVvdXQ8VD4oXG4gIHByb21pc2U6IFByb21pc2U8VD4sXG4gIHRpbWVJbk1TID0gMjAwMFxuKTogUHJvbWlzZTxUPiB7XG4gIGNvbnN0IGRlZmVycmVkUHJvbWlzZSA9IG5ldyBEZWZlcnJlZDxUPigpO1xuICBzZXRUaW1lb3V0KCgpID0+IGRlZmVycmVkUHJvbWlzZS5yZWplY3QoJ3RpbWVvdXQhJyksIHRpbWVJbk1TKTtcbiAgcHJvbWlzZS50aGVuKGRlZmVycmVkUHJvbWlzZS5yZXNvbHZlLCBkZWZlcnJlZFByb21pc2UucmVqZWN0KTtcbiAgcmV0dXJuIGRlZmVycmVkUHJvbWlzZS5wcm9taXNlO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogUmV0dXJucyBhIHF1ZXJ5c3RyaW5nLWZvcm1hdHRlZCBzdHJpbmcgKGUuZy4gJmFyZz12YWwmYXJnMj12YWwyKSBmcm9tIGFcbiAqIHBhcmFtcyBvYmplY3QgKGUuZy4ge2FyZzogJ3ZhbCcsIGFyZzI6ICd2YWwyJ30pXG4gKiBOb3RlOiBZb3UgbXVzdCBwcmVwZW5kIGl0IHdpdGggPyB3aGVuIGFkZGluZyBpdCB0byBhIFVSTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5c3RyaW5nKHF1ZXJ5c3RyaW5nUGFyYW1zOiB7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlcjtcbn0pOiBzdHJpbmcge1xuICBjb25zdCBwYXJhbXMgPSBbXTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocXVlcnlzdHJpbmdQYXJhbXMpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKGFycmF5VmFsID0+IHtcbiAgICAgICAgcGFyYW1zLnB1c2goXG4gICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoYXJyYXlWYWwpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcmFtcy5sZW5ndGggPyAnJicgKyBwYXJhbXMuam9pbignJicpIDogJyc7XG59XG5cbi8qKlxuICogRGVjb2RlcyBhIHF1ZXJ5c3RyaW5nIChlLmcuID9hcmc9dmFsJmFyZzI9dmFsMikgaW50byBhIHBhcmFtcyBvYmplY3RcbiAqIChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlzdHJpbmdEZWNvZGUocXVlcnlzdHJpbmc6IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICBjb25zdCBvYmo6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgY29uc3QgdG9rZW5zID0gcXVlcnlzdHJpbmcucmVwbGFjZSgvXlxcPy8sICcnKS5zcGxpdCgnJicpO1xuXG4gIHRva2Vucy5mb3JFYWNoKHRva2VuID0+IHtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IHRva2VuLnNwbGl0KCc9Jyk7XG4gICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KGtleSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEV4dHJhY3QgdGhlIHF1ZXJ5IHN0cmluZyBwYXJ0IG9mIGEgVVJMLCBpbmNsdWRpbmcgdGhlIGxlYWRpbmcgcXVlc3Rpb24gbWFyayAoaWYgcHJlc2VudCkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UXVlcnlzdHJpbmcodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgaWYgKCFxdWVyeVN0YXJ0KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGNvbnN0IGZyYWdtZW50U3RhcnQgPSB1cmwuaW5kZXhPZignIycsIHF1ZXJ5U3RhcnQpO1xuICByZXR1cm4gdXJsLnN1YnN0cmluZyhcbiAgICBxdWVyeVN0YXJ0LFxuICAgIGZyYWdtZW50U3RhcnQgPiAwID8gZnJhZ21lbnRTdGFydCA6IHVuZGVmaW5lZFxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBTSEEtMSBjcnlwdG9ncmFwaGljIGhhc2guXG4gKiBWYXJpYWJsZSBuYW1lcyBmb2xsb3cgdGhlIG5vdGF0aW9uIGluIEZJUFMgUFVCIDE4MC0zOlxuICogaHR0cDovL2NzcmMubmlzdC5nb3YvcHVibGljYXRpb25zL2ZpcHMvZmlwczE4MC0zL2ZpcHMxODAtM19maW5hbC5wZGYuXG4gKlxuICogVXNhZ2U6XG4gKiAgIHZhciBzaGExID0gbmV3IHNoYTEoKTtcbiAqICAgc2hhMS51cGRhdGUoYnl0ZXMpO1xuICogICB2YXIgaGFzaCA9IHNoYTEuZGlnZXN0KCk7XG4gKlxuICogUGVyZm9ybWFuY2U6XG4gKiAgIENocm9tZSAyMzogICB+NDAwIE1iaXQvc1xuICogICBGaXJlZm94IDE2OiAgfjI1MCBNYml0L3NcbiAqXG4gKi9cblxuLyoqXG4gKiBTSEEtMSBjcnlwdG9ncmFwaGljIGhhc2ggY29uc3RydWN0b3IuXG4gKlxuICogVGhlIHByb3BlcnRpZXMgZGVjbGFyZWQgaGVyZSBhcmUgZGlzY3Vzc2VkIGluIHRoZSBhYm92ZSBhbGdvcml0aG0gZG9jdW1lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBmaW5hbFxuICogQHN0cnVjdFxuICovXG5leHBvcnQgY2xhc3MgU2hhMSB7XG4gIC8qKlxuICAgKiBIb2xkcyB0aGUgcHJldmlvdXMgdmFsdWVzIG9mIGFjY3VtdWxhdGVkIHZhcmlhYmxlcyBhLWUgaW4gdGhlIGNvbXByZXNzX1xuICAgKiBmdW5jdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgY2hhaW5fOiBudW1iZXJbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBBIGJ1ZmZlciBob2xkaW5nIHRoZSBwYXJ0aWFsbHkgY29tcHV0ZWQgaGFzaCByZXN1bHQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIGJ1Zl86IG51bWJlcltdID0gW107XG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIDgwIGJ5dGVzLCBlYWNoIGEgcGFydCBvZiB0aGUgbWVzc2FnZSB0byBiZSBoYXNoZWQuICBSZWZlcnJlZCB0b1xuICAgKiBhcyB0aGUgbWVzc2FnZSBzY2hlZHVsZSBpbiB0aGUgZG9jcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgV186IG51bWJlcltdID0gW107XG5cbiAgLyoqXG4gICAqIENvbnRhaW5zIGRhdGEgbmVlZGVkIHRvIHBhZCBtZXNzYWdlcyBsZXNzIHRoYW4gNjQgYnl0ZXMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHBhZF86IG51bWJlcltdID0gW107XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlIHtudW1iZXJ9XG4gICAqL1xuICBwcml2YXRlIGluYnVmXzogbnVtYmVyID0gMDtcblxuICAvKipcbiAgICogQHByaXZhdGUge251bWJlcn1cbiAgICovXG4gIHByaXZhdGUgdG90YWxfOiBudW1iZXIgPSAwO1xuXG4gIGJsb2NrU2l6ZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYmxvY2tTaXplID0gNTEyIC8gODtcblxuICAgIHRoaXMucGFkX1swXSA9IDEyODtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuYmxvY2tTaXplOyArK2kpIHtcbiAgICAgIHRoaXMucGFkX1tpXSA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5jaGFpbl9bMF0gPSAweDY3NDUyMzAxO1xuICAgIHRoaXMuY2hhaW5fWzFdID0gMHhlZmNkYWI4OTtcbiAgICB0aGlzLmNoYWluX1syXSA9IDB4OThiYWRjZmU7XG4gICAgdGhpcy5jaGFpbl9bM10gPSAweDEwMzI1NDc2O1xuICAgIHRoaXMuY2hhaW5fWzRdID0gMHhjM2QyZTFmMDtcblxuICAgIHRoaXMuaW5idWZfID0gMDtcbiAgICB0aGlzLnRvdGFsXyA9IDA7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJuYWwgY29tcHJlc3MgaGVscGVyIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0gYnVmIEJsb2NrIHRvIGNvbXByZXNzLlxuICAgKiBAcGFyYW0gb2Zmc2V0IE9mZnNldCBvZiB0aGUgYmxvY2sgaW4gdGhlIGJ1ZmZlci5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbXByZXNzXyhidWY6IG51bWJlcltdIHwgVWludDhBcnJheSB8IHN0cmluZywgb2Zmc2V0PzogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCFvZmZzZXQpIHtcbiAgICAgIG9mZnNldCA9IDA7XG4gICAgfVxuXG4gICAgY29uc3QgVyA9IHRoaXMuV187XG5cbiAgICAvLyBnZXQgMTYgYmlnIGVuZGlhbiB3b3Jkc1xuICAgIGlmICh0eXBlb2YgYnVmID09PSAnc3RyaW5nJykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIC8vIFRPRE8odXNlcik6IFtidWcgODE0MDEyMl0gUmVjZW50IHZlcnNpb25zIG9mIFNhZmFyaSBmb3IgTWFjIE9TIGFuZCBpT1NcbiAgICAgICAgLy8gaGF2ZSBhIGJ1ZyB0aGF0IHR1cm5zIHRoZSBwb3N0LWluY3JlbWVudCArKyBvcGVyYXRvciBpbnRvIHByZS1pbmNyZW1lbnRcbiAgICAgICAgLy8gZHVyaW5nIEpJVCBjb21waWxhdGlvbi4gIFdlIGhhdmUgY29kZSB0aGF0IGRlcGVuZHMgaGVhdmlseSBvbiBTSEEtMSBmb3JcbiAgICAgICAgLy8gY29ycmVjdG5lc3MgYW5kIHdoaWNoIGlzIGFmZmVjdGVkIGJ5IHRoaXMgYnVnLCBzbyBJJ3ZlIHJlbW92ZWQgYWxsIHVzZXNcbiAgICAgICAgLy8gb2YgcG9zdC1pbmNyZW1lbnQgKysgaW4gd2hpY2ggdGhlIHJlc3VsdCB2YWx1ZSBpcyB1c2VkLiAgV2UgY2FuIHJldmVydFxuICAgICAgICAvLyB0aGlzIGNoYW5nZSBvbmNlIHRoZSBTYWZhcmkgYnVnXG4gICAgICAgIC8vIChodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTA5MDM2KSBoYXMgYmVlbiBmaXhlZCBhbmRcbiAgICAgICAgLy8gbW9zdCBjbGllbnRzIGhhdmUgYmVlbiB1cGRhdGVkLlxuICAgICAgICBXW2ldID1cbiAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0KSA8PCAyNCkgfFxuICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQgKyAxKSA8PCAxNikgfFxuICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQgKyAyKSA8PCA4KSB8XG4gICAgICAgICAgYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMyk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgV1tpXSA9XG4gICAgICAgICAgKGJ1ZltvZmZzZXRdIDw8IDI0KSB8XG4gICAgICAgICAgKGJ1ZltvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICAgICAgIChidWZbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICAgICAgIGJ1ZltvZmZzZXQgKyAzXTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXhwYW5kIHRvIDgwIHdvcmRzXG4gICAgZm9yIChsZXQgaSA9IDE2OyBpIDwgODA7IGkrKykge1xuICAgICAgY29uc3QgdCA9IFdbaSAtIDNdIF4gV1tpIC0gOF0gXiBXW2kgLSAxNF0gXiBXW2kgLSAxNl07XG4gICAgICBXW2ldID0gKCh0IDw8IDEpIHwgKHQgPj4+IDMxKSkgJiAweGZmZmZmZmZmO1xuICAgIH1cblxuICAgIGxldCBhID0gdGhpcy5jaGFpbl9bMF07XG4gICAgbGV0IGIgPSB0aGlzLmNoYWluX1sxXTtcbiAgICBsZXQgYyA9IHRoaXMuY2hhaW5fWzJdO1xuICAgIGxldCBkID0gdGhpcy5jaGFpbl9bM107XG4gICAgbGV0IGUgPSB0aGlzLmNoYWluX1s0XTtcbiAgICBsZXQgZiwgaztcblxuICAgIC8vIFRPRE8odXNlcik6IFRyeSB0byB1bnJvbGwgdGhpcyBsb29wIHRvIHNwZWVkIHVwIHRoZSBjb21wdXRhdGlvbi5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDgwOyBpKyspIHtcbiAgICAgIGlmIChpIDwgNDApIHtcbiAgICAgICAgaWYgKGkgPCAyMCkge1xuICAgICAgICAgIGYgPSBkIF4gKGIgJiAoYyBeIGQpKTtcbiAgICAgICAgICBrID0gMHg1YTgyNzk5OTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmID0gYiBeIGMgXiBkO1xuICAgICAgICAgIGsgPSAweDZlZDllYmExO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaSA8IDYwKSB7XG4gICAgICAgICAgZiA9IChiICYgYykgfCAoZCAmIChiIHwgYykpO1xuICAgICAgICAgIGsgPSAweDhmMWJiY2RjO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGYgPSBiIF4gYyBeIGQ7XG4gICAgICAgICAgayA9IDB4Y2E2MmMxZDY7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdCA9ICgoKGEgPDwgNSkgfCAoYSA+Pj4gMjcpKSArIGYgKyBlICsgayArIFdbaV0pICYgMHhmZmZmZmZmZjtcbiAgICAgIGUgPSBkO1xuICAgICAgZCA9IGM7XG4gICAgICBjID0gKChiIDw8IDMwKSB8IChiID4+PiAyKSkgJiAweGZmZmZmZmZmO1xuICAgICAgYiA9IGE7XG4gICAgICBhID0gdDtcbiAgICB9XG5cbiAgICB0aGlzLmNoYWluX1swXSA9ICh0aGlzLmNoYWluX1swXSArIGEpICYgMHhmZmZmZmZmZjtcbiAgICB0aGlzLmNoYWluX1sxXSA9ICh0aGlzLmNoYWluX1sxXSArIGIpICYgMHhmZmZmZmZmZjtcbiAgICB0aGlzLmNoYWluX1syXSA9ICh0aGlzLmNoYWluX1syXSArIGMpICYgMHhmZmZmZmZmZjtcbiAgICB0aGlzLmNoYWluX1szXSA9ICh0aGlzLmNoYWluX1szXSArIGQpICYgMHhmZmZmZmZmZjtcbiAgICB0aGlzLmNoYWluX1s0XSA9ICh0aGlzLmNoYWluX1s0XSArIGUpICYgMHhmZmZmZmZmZjtcbiAgfVxuXG4gIHVwZGF0ZShieXRlcz86IG51bWJlcltdIHwgVWludDhBcnJheSB8IHN0cmluZywgbGVuZ3RoPzogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gVE9ETyhqb2hubGVueik6IHRpZ2h0ZW4gdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBhbmQgcmVtb3ZlIHRoaXMgY2hlY2tcbiAgICBpZiAoYnl0ZXMgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IGxlbmd0aE1pbnVzQmxvY2sgPSBsZW5ndGggLSB0aGlzLmJsb2NrU2l6ZTtcbiAgICBsZXQgbiA9IDA7XG4gICAgLy8gVXNpbmcgbG9jYWwgaW5zdGVhZCBvZiBtZW1iZXIgdmFyaWFibGVzIGdpdmVzIH41JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYuXG4gICAgY29uc3QgYnVmID0gdGhpcy5idWZfO1xuICAgIGxldCBpbmJ1ZiA9IHRoaXMuaW5idWZfO1xuXG4gICAgLy8gVGhlIG91dGVyIHdoaWxlIGxvb3Agc2hvdWxkIGV4ZWN1dGUgYXQgbW9zdCB0d2ljZS5cbiAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xuICAgICAgLy8gV2hlbiB3ZSBoYXZlIG5vIGRhdGEgaW4gdGhlIGJsb2NrIHRvIHRvcCB1cCwgd2UgY2FuIGRpcmVjdGx5IHByb2Nlc3MgdGhlXG4gICAgICAvLyBpbnB1dCBidWZmZXIgKGFzc3VtaW5nIGl0IGNvbnRhaW5zIHN1ZmZpY2llbnQgZGF0YSkuIFRoaXMgZ2l2ZXMgfjI1JVxuICAgICAgLy8gc3BlZWR1cCBvbiBDaHJvbWUgMjMgYW5kIH4xNSUgc3BlZWR1cCBvbiBGaXJlZm94IDE2LCBidXQgcmVxdWlyZXMgdGhhdFxuICAgICAgLy8gdGhlIGRhdGEgaXMgcHJvdmlkZWQgaW4gbGFyZ2UgY2h1bmtzIChvciBpbiBtdWx0aXBsZXMgb2YgNjQgYnl0ZXMpLlxuICAgICAgaWYgKGluYnVmID09PSAwKSB7XG4gICAgICAgIHdoaWxlIChuIDw9IGxlbmd0aE1pbnVzQmxvY2spIHtcbiAgICAgICAgICB0aGlzLmNvbXByZXNzXyhieXRlcywgbik7XG4gICAgICAgICAgbiArPSB0aGlzLmJsb2NrU2l6ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xuICAgICAgICAgIGJ1ZltpbmJ1Zl0gPSBieXRlcy5jaGFyQ29kZUF0KG4pO1xuICAgICAgICAgICsraW5idWY7XG4gICAgICAgICAgKytuO1xuICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gdGhpcy5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ1Zik7XG4gICAgICAgICAgICBpbmJ1ZiA9IDA7XG4gICAgICAgICAgICAvLyBKdW1wIHRvIHRoZSBvdXRlciBsb29wIHNvIHdlIHVzZSB0aGUgZnVsbC1ibG9jayBvcHRpbWl6YXRpb24uXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzW25dO1xuICAgICAgICAgICsraW5idWY7XG4gICAgICAgICAgKytuO1xuICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gdGhpcy5ibG9ja1NpemUpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ1Zik7XG4gICAgICAgICAgICBpbmJ1ZiA9IDA7XG4gICAgICAgICAgICAvLyBKdW1wIHRvIHRoZSBvdXRlciBsb29wIHNvIHdlIHVzZSB0aGUgZnVsbC1ibG9jayBvcHRpbWl6YXRpb24uXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmluYnVmXyA9IGluYnVmO1xuICAgIHRoaXMudG90YWxfICs9IGxlbmd0aDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZGlnZXN0KCk6IG51bWJlcltdIHtcbiAgICBjb25zdCBkaWdlc3Q6IG51bWJlcltdID0gW107XG4gICAgbGV0IHRvdGFsQml0cyA9IHRoaXMudG90YWxfICogODtcblxuICAgIC8vIEFkZCBwYWQgMHg4MCAweDAwKi5cbiAgICBpZiAodGhpcy5pbmJ1Zl8gPCA1Nikge1xuICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWRfLCA1NiAtIHRoaXMuaW5idWZfKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWRfLCB0aGlzLmJsb2NrU2l6ZSAtICh0aGlzLmluYnVmXyAtIDU2KSk7XG4gICAgfVxuXG4gICAgLy8gQWRkICMgYml0cy5cbiAgICBmb3IgKGxldCBpID0gdGhpcy5ibG9ja1NpemUgLSAxOyBpID49IDU2OyBpLS0pIHtcbiAgICAgIHRoaXMuYnVmX1tpXSA9IHRvdGFsQml0cyAmIDI1NTtcbiAgICAgIHRvdGFsQml0cyAvPSAyNTY7IC8vIERvbid0IHVzZSBiaXQtc2hpZnRpbmcgaGVyZSFcbiAgICB9XG5cbiAgICB0aGlzLmNvbXByZXNzXyh0aGlzLmJ1Zl8pO1xuXG4gICAgbGV0IG4gPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMjQ7IGogPj0gMDsgaiAtPSA4KSB7XG4gICAgICAgIGRpZ2VzdFtuXSA9ICh0aGlzLmNoYWluX1tpXSA+PiBqKSAmIDI1NTtcbiAgICAgICAgKytuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGlnZXN0O1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmV4cG9ydCB0eXBlIE5leHRGbjxUPiA9ICh2YWx1ZTogVCkgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIEVycm9yRm4gPSAoZXJyb3I6IEVycm9yKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgQ29tcGxldGVGbiA9ICgpID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JzZXJ2ZXI8VD4ge1xuICAvLyBDYWxsZWQgb25jZSBmb3IgZWFjaCB2YWx1ZSBpbiBhIHN0cmVhbSBvZiB2YWx1ZXMuXG4gIG5leHQ6IE5leHRGbjxUPjtcblxuICAvLyBBIHN0cmVhbSB0ZXJtaW5hdGVzIGJ5IGEgc2luZ2xlIGNhbGwgdG8gRUlUSEVSIGVycm9yKCkgb3IgY29tcGxldGUoKS5cbiAgZXJyb3I6IEVycm9yRm47XG5cbiAgLy8gTm8gZXZlbnRzIHdpbGwgYmUgc2VudCB0byBuZXh0KCkgb25jZSBjb21wbGV0ZSgpIGlzIGNhbGxlZC5cbiAgY29tcGxldGU6IENvbXBsZXRlRm47XG59XG5cbmV4cG9ydCB0eXBlIFBhcnRpYWxPYnNlcnZlcjxUPiA9IFBhcnRpYWw8T2JzZXJ2ZXI8VD4+O1xuXG4vLyBUT0RPOiBTdXBwb3J0IGFsc28gVW5zdWJzY3JpYmUudW5zdWJzY3JpYmU/XG5leHBvcnQgdHlwZSBVbnN1YnNjcmliZSA9ICgpID0+IHZvaWQ7XG5cbi8qKlxuICogVGhlIFN1YnNjcmliZSBpbnRlcmZhY2UgaGFzIHR3byBmb3JtcyAtIHBhc3NpbmcgdGhlIGlubGluZSBmdW5jdGlvblxuICogY2FsbGJhY2tzLCBvciBhIG9iamVjdCBpbnRlcmZhY2Ugd2l0aCBjYWxsYmFjayBwcm9wZXJ0aWVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmliZTxUPiB7XG4gIChuZXh0PzogTmV4dEZuPFQ+LCBlcnJvcj86IEVycm9yRm4sIGNvbXBsZXRlPzogQ29tcGxldGVGbik6IFVuc3Vic2NyaWJlO1xuICAob2JzZXJ2ZXI6IFBhcnRpYWxPYnNlcnZlcjxUPik6IFVuc3Vic2NyaWJlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmFibGU8VD4ge1xuICAvLyBTdWJzY3JpYmUgbWV0aG9kXG4gIHN1YnNjcmliZTogU3Vic2NyaWJlPFQ+O1xufVxuXG5leHBvcnQgdHlwZSBFeGVjdXRvcjxUPiA9IChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHZvaWQ7XG5cbi8qKlxuICogSGVscGVyIHRvIG1ha2UgYSBTdWJzY3JpYmUgZnVuY3Rpb24gKGp1c3QgbGlrZSBQcm9taXNlIGhlbHBzIG1ha2UgYVxuICogVGhlbmFibGUpLlxuICpcbiAqIEBwYXJhbSBleGVjdXRvciBGdW5jdGlvbiB3aGljaCBjYW4gbWFrZSBjYWxscyB0byBhIHNpbmdsZSBPYnNlcnZlclxuICogICAgIGFzIGEgcHJveHkuXG4gKiBAcGFyYW0gb25Ob09ic2VydmVycyBDYWxsYmFjayB3aGVuIGNvdW50IG9mIE9ic2VydmVycyBnb2VzIHRvIHplcm8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdWJzY3JpYmU8VD4oXG4gIGV4ZWN1dG9yOiBFeGVjdXRvcjxUPixcbiAgb25Ob09ic2VydmVycz86IEV4ZWN1dG9yPFQ+XG4pOiBTdWJzY3JpYmU8VD4ge1xuICBjb25zdCBwcm94eSA9IG5ldyBPYnNlcnZlclByb3h5PFQ+KGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKTtcbiAgcmV0dXJuIHByb3h5LnN1YnNjcmliZS5iaW5kKHByb3h5KTtcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnQgZmFuLW91dCBmb3IgYW55IG51bWJlciBvZiBPYnNlcnZlcnMgYXR0YWNoZWQgdmlhIGEgc3Vic2NyaWJlXG4gKiBmdW5jdGlvbi5cbiAqL1xuY2xhc3MgT2JzZXJ2ZXJQcm94eTxUPiBpbXBsZW1lbnRzIE9ic2VydmVyPFQ+IHtcbiAgcHJpdmF0ZSBvYnNlcnZlcnM6IEFycmF5PE9ic2VydmVyPFQ+PiB8IHVuZGVmaW5lZCA9IFtdO1xuICBwcml2YXRlIHVuc3Vic2NyaWJlczogVW5zdWJzY3JpYmVbXSA9IFtdO1xuICBwcml2YXRlIG9uTm9PYnNlcnZlcnM6IEV4ZWN1dG9yPFQ+IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIG9ic2VydmVyQ291bnQgPSAwO1xuICAvLyBNaWNyby10YXNrIHNjaGVkdWxpbmcgYnkgY2FsbGluZyB0YXNrLnRoZW4oKS5cbiAgcHJpdmF0ZSB0YXNrID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHByaXZhdGUgZmluYWxpemVkID0gZmFsc2U7XG4gIHByaXZhdGUgZmluYWxFcnJvcj86IEVycm9yO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gZXhlY3V0b3IgRnVuY3Rpb24gd2hpY2ggY2FuIG1ha2UgY2FsbHMgdG8gYSBzaW5nbGUgT2JzZXJ2ZXJcbiAgICogICAgIGFzIGEgcHJveHkuXG4gICAqIEBwYXJhbSBvbk5vT2JzZXJ2ZXJzIENhbGxiYWNrIHdoZW4gY291bnQgb2YgT2JzZXJ2ZXJzIGdvZXMgdG8gemVyby5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGV4ZWN1dG9yOiBFeGVjdXRvcjxUPiwgb25Ob09ic2VydmVycz86IEV4ZWN1dG9yPFQ+KSB7XG4gICAgdGhpcy5vbk5vT2JzZXJ2ZXJzID0gb25Ob09ic2VydmVycztcbiAgICAvLyBDYWxsIHRoZSBleGVjdXRvciBhc3luY2hyb25vdXNseSBzbyBzdWJzY3JpYmVycyB0aGF0IGFyZSBjYWxsZWRcbiAgICAvLyBzeW5jaHJvbm91c2x5IGFmdGVyIHRoZSBjcmVhdGlvbiBvZiB0aGUgc3Vic2NyaWJlIGZ1bmN0aW9uXG4gICAgLy8gY2FuIHN0aWxsIHJlY2VpdmUgdGhlIHZlcnkgZmlyc3QgdmFsdWUgZ2VuZXJhdGVkIGluIHRoZSBleGVjdXRvci5cbiAgICB0aGlzLnRhc2tcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZXhlY3V0b3IodGhpcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICB0aGlzLmVycm9yKGUpO1xuICAgICAgfSk7XG4gIH1cblxuICBuZXh0KHZhbHVlOiBUKTogdm9pZCB7XG4gICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4ge1xuICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBlcnJvcihlcnJvcjogRXJyb3IpOiB2b2lkIHtcbiAgICB0aGlzLmZvckVhY2hPYnNlcnZlcigob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSA9PiB7XG4gICAgICBvYnNlcnZlci5lcnJvcihlcnJvcik7XG4gICAgfSk7XG4gICAgdGhpcy5jbG9zZShlcnJvcik7XG4gIH1cblxuICBjb21wbGV0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmZvckVhY2hPYnNlcnZlcigob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSA9PiB7XG4gICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgYW4gT2JzZXJ2ZXIgdG8gdGhlIGZhbi1vdXQgbGlzdC5cbiAgICpcbiAgICogLSBXZSByZXF1aXJlIHRoYXQgbm8gZXZlbnQgaXMgc2VudCB0byBhIHN1YnNjcmliZXIgc3luY2hyb25vdXNseSB0byB0aGVpclxuICAgKiAgIGNhbGwgdG8gc3Vic2NyaWJlKCkuXG4gICAqL1xuICBzdWJzY3JpYmUoXG4gICAgbmV4dE9yT2JzZXJ2ZXI/OiBOZXh0Rm48VD4gfCBQYXJ0aWFsT2JzZXJ2ZXI8VD4sXG4gICAgZXJyb3I/OiBFcnJvckZuLFxuICAgIGNvbXBsZXRlPzogQ29tcGxldGVGblxuICApOiBVbnN1YnNjcmliZSB7XG4gICAgbGV0IG9ic2VydmVyOiBPYnNlcnZlcjxUPjtcblxuICAgIGlmIChcbiAgICAgIG5leHRPck9ic2VydmVyID09PSB1bmRlZmluZWQgJiZcbiAgICAgIGVycm9yID09PSB1bmRlZmluZWQgJiZcbiAgICAgIGNvbXBsZXRlID09PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBPYnNlcnZlci4nKTtcbiAgICB9XG5cbiAgICAvLyBBc3NlbWJsZSBhbiBPYnNlcnZlciBvYmplY3Qgd2hlbiBwYXNzZWQgYXMgY2FsbGJhY2sgZnVuY3Rpb25zLlxuICAgIGlmIChcbiAgICAgIGltcGxlbWVudHNBbnlNZXRob2RzKG5leHRPck9ic2VydmVyIGFzIHsgW2tleTogc3RyaW5nXTogdW5rbm93biB9LCBbXG4gICAgICAgICduZXh0JyxcbiAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgJ2NvbXBsZXRlJ1xuICAgICAgXSlcbiAgICApIHtcbiAgICAgIG9ic2VydmVyID0gbmV4dE9yT2JzZXJ2ZXIgYXMgT2JzZXJ2ZXI8VD47XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ic2VydmVyID0ge1xuICAgICAgICBuZXh0OiBuZXh0T3JPYnNlcnZlciBhcyBOZXh0Rm48VD4sXG4gICAgICAgIGVycm9yLFxuICAgICAgICBjb21wbGV0ZVxuICAgICAgfSBhcyBPYnNlcnZlcjxUPjtcbiAgICB9XG5cbiAgICBpZiAob2JzZXJ2ZXIubmV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvYnNlcnZlci5uZXh0ID0gbm9vcCBhcyBOZXh0Rm48VD47XG4gICAgfVxuICAgIGlmIChvYnNlcnZlci5lcnJvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvYnNlcnZlci5lcnJvciA9IG5vb3AgYXMgRXJyb3JGbjtcbiAgICB9XG4gICAgaWYgKG9ic2VydmVyLmNvbXBsZXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9ic2VydmVyLmNvbXBsZXRlID0gbm9vcCBhcyBDb21wbGV0ZUZuO1xuICAgIH1cblxuICAgIGNvbnN0IHVuc3ViID0gdGhpcy51bnN1YnNjcmliZU9uZS5iaW5kKHRoaXMsIHRoaXMub2JzZXJ2ZXJzIS5sZW5ndGgpO1xuXG4gICAgLy8gQXR0ZW1wdCB0byBzdWJzY3JpYmUgdG8gYSB0ZXJtaW5hdGVkIE9ic2VydmFibGUgLSB3ZVxuICAgIC8vIGp1c3QgcmVzcG9uZCB0byB0aGUgT2JzZXJ2ZXIgd2l0aCB0aGUgZmluYWwgZXJyb3Igb3IgY29tcGxldGVcbiAgICAvLyBldmVudC5cbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcbiAgICAgIHRoaXMudGFzay50aGVuKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodGhpcy5maW5hbEVycm9yKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcih0aGlzLmZpbmFsRXJyb3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIG5vdGhpbmdcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm9ic2VydmVycyEucHVzaChvYnNlcnZlciBhcyBPYnNlcnZlcjxUPik7XG5cbiAgICByZXR1cm4gdW5zdWI7XG4gIH1cblxuICAvLyBVbnN1YnNjcmliZSBpcyBzeW5jaHJvbm91cyAtIHdlIGd1YXJhbnRlZSB0aGF0IG5vIGV2ZW50cyBhcmUgc2VudCB0b1xuICAvLyBhbnkgdW5zdWJzY3JpYmVkIE9ic2VydmVyLlxuICBwcml2YXRlIHVuc3Vic2NyaWJlT25lKGk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLm9ic2VydmVycyA9PT0gdW5kZWZpbmVkIHx8IHRoaXMub2JzZXJ2ZXJzW2ldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy5vYnNlcnZlcnNbaV07XG5cbiAgICB0aGlzLm9ic2VydmVyQ291bnQgLT0gMTtcbiAgICBpZiAodGhpcy5vYnNlcnZlckNvdW50ID09PSAwICYmIHRoaXMub25Ob09ic2VydmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9uTm9PYnNlcnZlcnModGhpcyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmb3JFYWNoT2JzZXJ2ZXIoZm46IChvYnNlcnZlcjogT2JzZXJ2ZXI8VD4pID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIC8vIEFscmVhZHkgY2xvc2VkIGJ5IHByZXZpb3VzIGV2ZW50Li4uLmp1c3QgZWF0IHRoZSBhZGRpdGlvbmFsIHZhbHVlcy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTaW5jZSBzZW5kT25lIGNhbGxzIGFzeW5jaHJvbm91c2x5IC0gdGhlcmUgaXMgbm8gY2hhbmNlIHRoYXRcbiAgICAvLyB0aGlzLm9ic2VydmVycyB3aWxsIGJlY29tZSB1bmRlZmluZWQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycyEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc2VuZE9uZShpLCBmbik7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2FsbCB0aGUgT2JzZXJ2ZXIgdmlhIG9uZSBvZiBpdCdzIGNhbGxiYWNrIGZ1bmN0aW9uLiBXZSBhcmUgY2FyZWZ1bCB0b1xuICAvLyBjb25maXJtIHRoYXQgdGhlIG9ic2VydmUgaGFzIG5vdCBiZWVuIHVuc3Vic2NyaWJlZCBzaW5jZSB0aGlzIGFzeW5jaHJvbm91c1xuICAvLyBmdW5jdGlvbiBoYWQgYmVlbiBxdWV1ZWQuXG4gIHByaXZhdGUgc2VuZE9uZShpOiBudW1iZXIsIGZuOiAob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgLy8gRXhlY3V0ZSB0aGUgY2FsbGJhY2sgYXN5bmNocm9ub3VzbHlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgdGhpcy50YXNrLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vYnNlcnZlcnNbaV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZuKHRoaXMub2JzZXJ2ZXJzW2ldKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIElnbm9yZSBleGNlcHRpb25zIHJhaXNlZCBpbiBPYnNlcnZlcnMgb3IgbWlzc2luZyBtZXRob2RzIG9mIGFuXG4gICAgICAgICAgLy8gT2JzZXJ2ZXIuXG4gICAgICAgICAgLy8gTG9nIGVycm9yIHRvIGNvbnNvbGUuIGIvMzE0MDQ4MDZcbiAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNsb3NlKGVycj86IEVycm9yKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZmluYWxpemVkID0gdHJ1ZTtcbiAgICBpZiAoZXJyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZmluYWxFcnJvciA9IGVycjtcbiAgICB9XG4gICAgLy8gUHJveHkgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIGdhcmJhZ2UgY29sbGVjdCByZWZlcmVuY2VzXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgIHRoaXMudGFzay50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMub2JzZXJ2ZXJzID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzID0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKiBUdXJuIHN5bmNocm9ub3VzIGZ1bmN0aW9uIGludG8gb25lIGNhbGxlZCBhc3luY2hyb25vdXNseS4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5leHBvcnQgZnVuY3Rpb24gYXN5bmMoZm46IEZ1bmN0aW9uLCBvbkVycm9yPzogRXJyb3JGbik6IEZ1bmN0aW9uIHtcbiAgcmV0dXJuICguLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICBQcm9taXNlLnJlc29sdmUodHJ1ZSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZm4oLi4uYXJncyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcjogRXJyb3IpID0+IHtcbiAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG59XG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgdGhlIG9iamVjdCBwYXNzZWQgaW4gaW1wbGVtZW50cyBhbnkgb2YgdGhlIG5hbWVkIG1ldGhvZHMuXG4gKi9cbmZ1bmN0aW9uIGltcGxlbWVudHNBbnlNZXRob2RzKFxuICBvYmo6IHsgW2tleTogc3RyaW5nXTogdW5rbm93biB9LFxuICBtZXRob2RzOiBzdHJpbmdbXVxuKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBtZXRob2RzKSB7XG4gICAgaWYgKG1ldGhvZCBpbiBvYmogJiYgdHlwZW9mIG9ialttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKTogdm9pZCB7XG4gIC8vIGRvIG5vdGhpbmdcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIENoZWNrIHRvIG1ha2Ugc3VyZSB0aGUgYXBwcm9wcmlhdGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgZm9yIGEgcHVibGljIGZ1bmN0aW9uLlxuICogVGhyb3dzIGFuIGVycm9yIGlmIGl0IGZhaWxzLlxuICpcbiAqIEBwYXJhbSBmbk5hbWUgVGhlIGZ1bmN0aW9uIG5hbWVcbiAqIEBwYXJhbSBtaW5Db3VudCBUaGUgbWluaW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxuICogQHBhcmFtIG1heENvdW50IFRoZSBtYXhpbXVtIG51bWJlciBvZiBhcmd1bWVudCB0byBhbGxvdyBmb3IgdGhlIGZ1bmN0aW9uIGNhbGxcbiAqIEBwYXJhbSBhcmdDb3VudCBUaGUgYWN0dWFsIG51bWJlciBvZiBhcmd1bWVudHMgcHJvdmlkZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUFyZ0NvdW50ID0gZnVuY3Rpb24gKFxuICBmbk5hbWU6IHN0cmluZyxcbiAgbWluQ291bnQ6IG51bWJlcixcbiAgbWF4Q291bnQ6IG51bWJlcixcbiAgYXJnQ291bnQ6IG51bWJlclxuKTogdm9pZCB7XG4gIGxldCBhcmdFcnJvcjtcbiAgaWYgKGFyZ0NvdW50IDwgbWluQ291bnQpIHtcbiAgICBhcmdFcnJvciA9ICdhdCBsZWFzdCAnICsgbWluQ291bnQ7XG4gIH0gZWxzZSBpZiAoYXJnQ291bnQgPiBtYXhDb3VudCkge1xuICAgIGFyZ0Vycm9yID0gbWF4Q291bnQgPT09IDAgPyAnbm9uZScgOiAnbm8gbW9yZSB0aGFuICcgKyBtYXhDb3VudDtcbiAgfVxuICBpZiAoYXJnRXJyb3IpIHtcbiAgICBjb25zdCBlcnJvciA9XG4gICAgICBmbk5hbWUgK1xuICAgICAgJyBmYWlsZWQ6IFdhcyBjYWxsZWQgd2l0aCAnICtcbiAgICAgIGFyZ0NvdW50ICtcbiAgICAgIChhcmdDb3VudCA9PT0gMSA/ICcgYXJndW1lbnQuJyA6ICcgYXJndW1lbnRzLicpICtcbiAgICAgICcgRXhwZWN0cyAnICtcbiAgICAgIGFyZ0Vycm9yICtcbiAgICAgICcuJztcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICB9XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHN0cmluZyB0byBwcmVmaXggYW4gZXJyb3IgbWVzc2FnZSBhYm91dCBmYWlsZWQgYXJndW1lbnQgdmFsaWRhdGlvblxuICpcbiAqIEBwYXJhbSBmbk5hbWUgVGhlIGZ1bmN0aW9uIG5hbWVcbiAqIEBwYXJhbSBhcmdOYW1lIFRoZSBuYW1lIG9mIHRoZSBhcmd1bWVudFxuICogQHJldHVybiBUaGUgcHJlZml4IHRvIGFkZCB0byB0aGUgZXJyb3IgdGhyb3duIGZvciB2YWxpZGF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JQcmVmaXgoZm5OYW1lOiBzdHJpbmcsIGFyZ05hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBgJHtmbk5hbWV9IGZhaWxlZDogJHthcmdOYW1lfSBhcmd1bWVudCBgO1xufVxuXG4vKipcbiAqIEBwYXJhbSBmbk5hbWVcbiAqIEBwYXJhbSBhcmd1bWVudE51bWJlclxuICogQHBhcmFtIG5hbWVzcGFjZVxuICogQHBhcmFtIG9wdGlvbmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU5hbWVzcGFjZShcbiAgZm5OYW1lOiBzdHJpbmcsXG4gIG5hbWVzcGFjZTogc3RyaW5nLFxuICBvcHRpb25hbDogYm9vbGVhblxuKTogdm9pZCB7XG4gIGlmIChvcHRpb25hbCAmJiAhbmFtZXNwYWNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgbmFtZXNwYWNlICE9PSAnc3RyaW5nJykge1xuICAgIC8vVE9ETzogSSBzaG91bGQgZG8gbW9yZSB2YWxpZGF0aW9uIGhlcmUuIFdlIG9ubHkgYWxsb3cgY2VydGFpbiBjaGFycyBpbiBuYW1lc3BhY2VzLlxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGVycm9yUHJlZml4KGZuTmFtZSwgJ25hbWVzcGFjZScpICsgJ211c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBuYW1lc3BhY2UuJ1xuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ2FsbGJhY2soXG4gIGZuTmFtZTogc3RyaW5nLFxuICBhcmd1bWVudE5hbWU6IHN0cmluZyxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbiAgY2FsbGJhY2s6IEZ1bmN0aW9uLFxuICBvcHRpb25hbDogYm9vbGVhblxuKTogdm9pZCB7XG4gIGlmIChvcHRpb25hbCAmJiAhY2FsbGJhY2spIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGVycm9yUHJlZml4KGZuTmFtZSwgYXJndW1lbnROYW1lKSArICdtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uJ1xuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ29udGV4dE9iamVjdChcbiAgZm5OYW1lOiBzdHJpbmcsXG4gIGFyZ3VtZW50TmFtZTogc3RyaW5nLFxuICBjb250ZXh0OiB1bmtub3duLFxuICBvcHRpb25hbDogYm9vbGVhblxuKTogdm9pZCB7XG4gIGlmIChvcHRpb25hbCAmJiAhY29udGV4dCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZW9mIGNvbnRleHQgIT09ICdvYmplY3QnIHx8IGNvbnRleHQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TmFtZSkgKyAnbXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LidcbiAgICApO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnQnO1xuXG4vLyBDb2RlIG9yaWdpbmFsbHkgY2FtZSBmcm9tIGdvb2cuY3J5cHQuc3RyaW5nVG9VdGY4Qnl0ZUFycmF5LCBidXQgZm9yIHNvbWUgcmVhc29uIHRoZXlcbi8vIGF1dG9tYXRpY2FsbHkgcmVwbGFjZWQgJ1xcclxcbicgd2l0aCAnXFxuJywgYW5kIHRoZXkgZGlkbid0IGhhbmRsZSBzdXJyb2dhdGUgcGFpcnMsXG4vLyBzbyBpdCdzIGJlZW4gbW9kaWZpZWQuXG5cbi8vIE5vdGUgdGhhdCBub3QgYWxsIFVuaWNvZGUgY2hhcmFjdGVycyBhcHBlYXIgYXMgc2luZ2xlIGNoYXJhY3RlcnMgaW4gSmF2YVNjcmlwdCBzdHJpbmdzLlxuLy8gZnJvbUNoYXJDb2RlIHJldHVybnMgdGhlIFVURi0xNiBlbmNvZGluZyBvZiBhIGNoYXJhY3RlciAtIHNvIHNvbWUgVW5pY29kZSBjaGFyYWN0ZXJzXG4vLyB1c2UgMiBjaGFyYWN0ZXJzIGluIEphdmFTY3JpcHQuICBBbGwgNC1ieXRlIFVURi04IGNoYXJhY3RlcnMgYmVnaW4gd2l0aCBhIGZpcnN0XG4vLyBjaGFyYWN0ZXIgaW4gdGhlIHJhbmdlIDB4RDgwMCAtIDB4REJGRiAodGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHNvLWNhbGxlZCBzdXJyb2dhdGVcbi8vIHBhaXIpLlxuLy8gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS4xLjNcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IHN0cmluZ1RvQnl0ZUFycmF5ID0gZnVuY3Rpb24gKHN0cjogc3RyaW5nKTogbnVtYmVyW10ge1xuICBjb25zdCBvdXQ6IG51bWJlcltdID0gW107XG4gIGxldCBwID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXG4gICAgLy8gSXMgdGhpcyB0aGUgbGVhZCBzdXJyb2dhdGUgaW4gYSBzdXJyb2dhdGUgcGFpcj9cbiAgICBpZiAoYyA+PSAweGQ4MDAgJiYgYyA8PSAweGRiZmYpIHtcbiAgICAgIGNvbnN0IGhpZ2ggPSBjIC0gMHhkODAwOyAvLyB0aGUgaGlnaCAxMCBiaXRzLlxuICAgICAgaSsrO1xuICAgICAgYXNzZXJ0KGkgPCBzdHIubGVuZ3RoLCAnU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuJyk7XG4gICAgICBjb25zdCBsb3cgPSBzdHIuY2hhckNvZGVBdChpKSAtIDB4ZGMwMDsgLy8gdGhlIGxvdyAxMCBiaXRzLlxuICAgICAgYyA9IDB4MTAwMDAgKyAoaGlnaCA8PCAxMCkgKyBsb3c7XG4gICAgfVxuXG4gICAgaWYgKGMgPCAxMjgpIHtcbiAgICAgIG91dFtwKytdID0gYztcbiAgICB9IGVsc2UgaWYgKGMgPCAyMDQ4KSB7XG4gICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xuICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcbiAgICB9IGVsc2UgaWYgKGMgPCA2NTUzNikge1xuICAgICAgb3V0W3ArK10gPSAoYyA+PiAxMikgfCAyMjQ7XG4gICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcbiAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dFtwKytdID0gKGMgPj4gMTgpIHwgMjQwO1xuICAgICAgb3V0W3ArK10gPSAoKGMgPj4gMTIpICYgNjMpIHwgMTI4O1xuICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XG4gICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGUgbGVuZ3RoIHdpdGhvdXQgYWN0dWFsbHkgY29udmVydGluZzsgdXNlZnVsIGZvciBkb2luZyBjaGVhcGVyIHZhbGlkYXRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBzdHJpbmdMZW5ndGggPSBmdW5jdGlvbiAoc3RyOiBzdHJpbmcpOiBudW1iZXIge1xuICBsZXQgcCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGlmIChjIDwgMTI4KSB7XG4gICAgICBwKys7XG4gICAgfSBlbHNlIGlmIChjIDwgMjA0OCkge1xuICAgICAgcCArPSAyO1xuICAgIH0gZWxzZSBpZiAoYyA+PSAweGQ4MDAgJiYgYyA8PSAweGRiZmYpIHtcbiAgICAgIC8vIExlYWQgc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXIuICBUaGUgcGFpciB0b2dldGhlciB3aWxsIHRha2UgNCBieXRlcyB0byByZXByZXNlbnQuXG4gICAgICBwICs9IDQ7XG4gICAgICBpKys7IC8vIHNraXAgdHJhaWwgc3Vycm9nYXRlLlxuICAgIH0gZWxzZSB7XG4gICAgICBwICs9IDM7XG4gICAgfVxuICB9XG4gIHJldHVybiBwO1xufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIENvcGllZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXG4gKiBHZW5lcmF0ZXMgYSBuZXcgdXVpZC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHV1aWR2NCA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBjID0+IHtcbiAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBUaGUgYW1vdW50IG9mIG1pbGxpc2Vjb25kcyB0byBleHBvbmVudGlhbGx5IGluY3JlYXNlLlxuICovXG5jb25zdCBERUZBVUxUX0lOVEVSVkFMX01JTExJUyA9IDEwMDA7XG5cbi8qKlxuICogVGhlIGZhY3RvciB0byBiYWNrb2ZmIGJ5LlxuICogU2hvdWxkIGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAxLlxuICovXG5jb25zdCBERUZBVUxUX0JBQ0tPRkZfRkFDVE9SID0gMjtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdG8gaW5jcmVhc2UgdG8uXG4gKlxuICogPHA+VmlzaWJsZSBmb3IgdGVzdGluZ1xuICovXG5leHBvcnQgY29uc3QgTUFYX1ZBTFVFX01JTExJUyA9IDQgKiA2MCAqIDYwICogMTAwMDsgLy8gRm91ciBob3VycywgbGlrZSBpT1MgYW5kIEFuZHJvaWQuXG5cbi8qKlxuICogVGhlIHBlcmNlbnRhZ2Ugb2YgYmFja29mZiB0aW1lIHRvIHJhbmRvbWl6ZSBieS5cbiAqIFNlZVxuICogaHR0cDovL2dvL3NhZmUtY2xpZW50LWJlaGF2aW9yI3N0ZXAtMS1kZXRlcm1pbmUtdGhlLWFwcHJvcHJpYXRlLXJldHJ5LWludGVydmFsLXRvLWhhbmRsZS1zcGlrZS10cmFmZmljXG4gKiBmb3IgY29udGV4dC5cbiAqXG4gKiA8cD5WaXNpYmxlIGZvciB0ZXN0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBSQU5ET01fRkFDVE9SID0gMC41O1xuXG4vKipcbiAqIEJhc2VkIG9uIHRoZSBiYWNrb2ZmIG1ldGhvZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS9ibG9iL21hc3Rlci9jbG9zdXJlL2dvb2cvbWF0aC9leHBvbmVudGlhbGJhY2tvZmYuanMuXG4gKiBFeHRyYWN0ZWQgaGVyZSBzbyB3ZSBkb24ndCBuZWVkIHRvIHBhc3MgbWV0YWRhdGEgYW5kIGEgc3RhdGVmdWwgRXhwb25lbnRpYWxCYWNrb2ZmIG9iamVjdCBhcm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzKFxuICBiYWNrb2ZmQ291bnQ6IG51bWJlcixcbiAgaW50ZXJ2YWxNaWxsaXM6IG51bWJlciA9IERFRkFVTFRfSU5URVJWQUxfTUlMTElTLFxuICBiYWNrb2ZmRmFjdG9yOiBudW1iZXIgPSBERUZBVUxUX0JBQ0tPRkZfRkFDVE9SXG4pOiBudW1iZXIge1xuICAvLyBDYWxjdWxhdGVzIGFuIGV4cG9uZW50aWFsbHkgaW5jcmVhc2luZyB2YWx1ZS5cbiAgLy8gRGV2aWF0aW9uOiBjYWxjdWxhdGVzIHZhbHVlIGZyb20gY291bnQgYW5kIGEgY29uc3RhbnQgaW50ZXJ2YWwsIHNvIHdlIG9ubHkgbmVlZCB0byBzYXZlIHZhbHVlXG4gIC8vIGFuZCBjb3VudCB0byByZXN0b3JlIHN0YXRlLlxuICBjb25zdCBjdXJyQmFzZVZhbHVlID0gaW50ZXJ2YWxNaWxsaXMgKiBNYXRoLnBvdyhiYWNrb2ZmRmFjdG9yLCBiYWNrb2ZmQ291bnQpO1xuXG4gIC8vIEEgcmFuZG9tIFwiZnV6elwiIHRvIGF2b2lkIHdhdmVzIG9mIHJldHJpZXMuXG4gIC8vIERldmlhdGlvbjogcmFuZG9tRmFjdG9yIGlzIHJlcXVpcmVkLlxuICBjb25zdCByYW5kb21XYWl0ID0gTWF0aC5yb3VuZChcbiAgICAvLyBBIGZyYWN0aW9uIG9mIHRoZSBiYWNrb2ZmIHZhbHVlIHRvIGFkZC9zdWJ0cmFjdC5cbiAgICAvLyBEZXZpYXRpb246IGNoYW5nZXMgbXVsdGlwbGljYXRpb24gb3JkZXIgdG8gaW1wcm92ZSByZWFkYWJpbGl0eS5cbiAgICBSQU5ET01fRkFDVE9SICpcbiAgICAgIGN1cnJCYXNlVmFsdWUgKlxuICAgICAgLy8gQSByYW5kb20gZmxvYXQgKHJvdW5kZWQgdG8gaW50IGJ5IE1hdGgucm91bmQgYWJvdmUpIGluIHRoZSByYW5nZSBbLTEsIDFdLiBEZXRlcm1pbmVzXG4gICAgICAvLyBpZiB3ZSBhZGQgb3Igc3VidHJhY3QuXG4gICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKlxuICAgICAgMlxuICApO1xuXG4gIC8vIExpbWl0cyBiYWNrb2ZmIHRvIG1heCB0byBhdm9pZCBlZmZlY3RpdmVseSBwZXJtYW5lbnQgYmFja29mZi5cbiAgcmV0dXJuIE1hdGgubWluKE1BWF9WQUxVRV9NSUxMSVMsIGN1cnJCYXNlVmFsdWUgKyByYW5kb21XYWl0KTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFByb3ZpZGUgRW5nbGlzaCBvcmRpbmFsIGxldHRlcnMgYWZ0ZXIgYSBudW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yZGluYWwoaTogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaSkpIHtcbiAgICByZXR1cm4gYCR7aX1gO1xuICB9XG4gIHJldHVybiBpICsgaW5kaWNhdG9yKGkpO1xufVxuXG5mdW5jdGlvbiBpbmRpY2F0b3IoaTogbnVtYmVyKTogc3RyaW5nIHtcbiAgaSA9IE1hdGguYWJzKGkpO1xuICBjb25zdCBjZW50ID0gaSAlIDEwMDtcbiAgaWYgKGNlbnQgPj0gMTAgJiYgY2VudCA8PSAyMCkge1xuICAgIHJldHVybiAndGgnO1xuICB9XG4gIGNvbnN0IGRlYyA9IGkgJSAxMDtcbiAgaWYgKGRlYyA9PT0gMSkge1xuICAgIHJldHVybiAnc3QnO1xuICB9XG4gIGlmIChkZWMgPT09IDIpIHtcbiAgICByZXR1cm4gJ25kJztcbiAgfVxuICBpZiAoZGVjID09PSAzKSB7XG4gICAgcmV0dXJuICdyZCc7XG4gIH1cbiAgcmV0dXJuICd0aCc7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBDb21wYXQ8VD4ge1xuICBfZGVsZWdhdGU6IFQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2R1bGFySW5zdGFuY2U8RXhwU2VydmljZT4oXG4gIHNlcnZpY2U6IENvbXBhdDxFeHBTZXJ2aWNlPiB8IEV4cFNlcnZpY2Vcbik6IEV4cFNlcnZpY2Uge1xuICBpZiAoc2VydmljZSAmJiAoc2VydmljZSBhcyBDb21wYXQ8RXhwU2VydmljZT4pLl9kZWxlZ2F0ZSkge1xuICAgIHJldHVybiAoc2VydmljZSBhcyBDb21wYXQ8RXhwU2VydmljZT4pLl9kZWxlZ2F0ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc2VydmljZSBhcyBFeHBTZXJ2aWNlO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7XG4gIEluc3RhbnRpYXRpb25Nb2RlLFxuICBJbnN0YW5jZUZhY3RvcnksXG4gIENvbXBvbmVudFR5cGUsXG4gIERpY3Rpb25hcnksXG4gIE5hbWUsXG4gIG9uSW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2tcbn0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogQ29tcG9uZW50IGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiBgYXV0aGAsIGBhdXRoLWludGVybmFsYFxuICovXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50PFQgZXh0ZW5kcyBOYW1lID0gTmFtZT4ge1xuICBtdWx0aXBsZUluc3RhbmNlcyA9IGZhbHNlO1xuICAvKipcbiAgICogUHJvcGVydGllcyB0byBiZSBhZGRlZCB0byB0aGUgc2VydmljZSBuYW1lc3BhY2VcbiAgICovXG4gIHNlcnZpY2VQcm9wczogRGljdGlvbmFyeSA9IHt9O1xuXG4gIGluc3RhbnRpYXRpb25Nb2RlID0gSW5zdGFudGlhdGlvbk1vZGUuTEFaWTtcblxuICBvbkluc3RhbmNlQ3JlYXRlZDogb25JbnN0YW5jZUNyZWF0ZWRDYWxsYmFjazxUPiB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBUaGUgcHVibGljIHNlcnZpY2UgbmFtZSwgZS5nLiBhcHAsIGF1dGgsIGZpcmVzdG9yZSwgZGF0YWJhc2VcbiAgICogQHBhcmFtIGluc3RhbmNlRmFjdG9yeSBTZXJ2aWNlIGZhY3RvcnkgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoZSBwdWJsaWMgaW50ZXJmYWNlXG4gICAqIEBwYXJhbSB0eXBlIHdoZXRoZXIgdGhlIHNlcnZpY2UgcHJvdmlkZWQgYnkgdGhlIGNvbXBvbmVudCBpcyBwdWJsaWMgb3IgcHJpdmF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgbmFtZTogVCxcbiAgICByZWFkb25seSBpbnN0YW5jZUZhY3Rvcnk6IEluc3RhbmNlRmFjdG9yeTxUPixcbiAgICByZWFkb25seSB0eXBlOiBDb21wb25lbnRUeXBlXG4gICkge31cblxuICBzZXRJbnN0YW50aWF0aW9uTW9kZShtb2RlOiBJbnN0YW50aWF0aW9uTW9kZSk6IHRoaXMge1xuICAgIHRoaXMuaW5zdGFudGlhdGlvbk1vZGUgPSBtb2RlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0TXVsdGlwbGVJbnN0YW5jZXMobXVsdGlwbGVJbnN0YW5jZXM6IGJvb2xlYW4pOiB0aGlzIHtcbiAgICB0aGlzLm11bHRpcGxlSW5zdGFuY2VzID0gbXVsdGlwbGVJbnN0YW5jZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzZXRTZXJ2aWNlUHJvcHMocHJvcHM6IERpY3Rpb25hcnkpOiB0aGlzIHtcbiAgICB0aGlzLnNlcnZpY2VQcm9wcyA9IHByb3BzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2soY2FsbGJhY2s6IG9uSW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2s8VD4pOiB0aGlzIHtcbiAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9FTlRSWV9OQU1FID0gJ1tERUZBVUxUXSc7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRGVmZXJyZWQgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBDb21wb25lbnRDb250YWluZXIgfSBmcm9tICcuL2NvbXBvbmVudF9jb250YWluZXInO1xuaW1wb3J0IHsgREVGQVVMVF9FTlRSWV9OQU1FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHtcbiAgSW5pdGlhbGl6ZU9wdGlvbnMsXG4gIEluc3RhbnRpYXRpb25Nb2RlLFxuICBOYW1lLFxuICBOYW1lU2VydmljZU1hcHBpbmcsXG4gIE9uSW5pdENhbGxCYWNrXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQnO1xuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBpbnN0YW5jZSBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gJ2F1dGgnLCAnYXV0aC1pbnRlcm5hbCdcbiAqIE5hbWVTZXJ2aWNlTWFwcGluZ1tUXSBpcyBhbiBhbGlhcyBmb3IgdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm92aWRlcjxUIGV4dGVuZHMgTmFtZT4ge1xuICBwcml2YXRlIGNvbXBvbmVudDogQ29tcG9uZW50PFQ+IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgaW5zdGFuY2VzOiBNYXA8c3RyaW5nLCBOYW1lU2VydmljZU1hcHBpbmdbVF0+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHJlYWRvbmx5IGluc3RhbmNlc0RlZmVycmVkOiBNYXA8XG4gICAgc3RyaW5nLFxuICAgIERlZmVycmVkPE5hbWVTZXJ2aWNlTWFwcGluZ1tUXT5cbiAgPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSByZWFkb25seSBpbnN0YW5jZXNPcHRpb25zOiBNYXA8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4gPVxuICAgIG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBvbkluaXRDYWxsYmFja3M6IE1hcDxzdHJpbmcsIFNldDxPbkluaXRDYWxsQmFjazxUPj4+ID0gbmV3IE1hcCgpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgbmFtZTogVCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbnRhaW5lcjogQ29tcG9uZW50Q29udGFpbmVyXG4gICkge31cblxuICAvKipcbiAgICogQHBhcmFtIGlkZW50aWZpZXIgQSBwcm92aWRlciBjYW4gcHJvdmlkZSBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgYSBzZXJ2aWNlXG4gICAqIGlmIHRoaXMuY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzIGlzIHRydWUuXG4gICAqL1xuICBnZXQoaWRlbnRpZmllcj86IHN0cmluZyk6IFByb21pc2U8TmFtZVNlcnZpY2VNYXBwaW5nW1RdPiB7XG4gICAgLy8gaWYgbXVsdGlwbGVJbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBkZWZhdWx0IG5hbWVcbiAgICBjb25zdCBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuXG4gICAgaWYgKCF0aGlzLmluc3RhbmNlc0RlZmVycmVkLmhhcyhub3JtYWxpemVkSWRlbnRpZmllcikpIHtcbiAgICAgIGNvbnN0IGRlZmVycmVkID0gbmV3IERlZmVycmVkPE5hbWVTZXJ2aWNlTWFwcGluZ1tUXT4oKTtcbiAgICAgIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuc2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyLCBkZWZlcnJlZCk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSB8fFxuICAgICAgICB0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKClcbiAgICAgICkge1xuICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBzZXJ2aWNlIGlmIGl0IGNhbiBiZSBhdXRvLWluaXRpYWxpemVkXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xuICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uIGR1cmluZyBnZXQoKSwgaXQgc2hvdWxkIG5vdCBjYXVzZVxuICAgICAgICAgIC8vIGEgZmF0YWwgZXJyb3IuIFdlIGp1c3QgcmV0dXJuIHRoZSB1bnJlc29sdmVkIHByb21pc2UgaW4gdGhpcyBjYXNlLlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZ2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyKSEucHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucy5pZGVudGlmaWVyIEEgcHJvdmlkZXIgY2FuIHByb3ZpZGUgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIGEgc2VydmljZVxuICAgKiBpZiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyBpcyB0cnVlLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5vcHRpb25hbCBJZiBvcHRpb25hbCBpcyBmYWxzZSBvciBub3QgcHJvdmlkZWQsIHRoZSBtZXRob2QgdGhyb3dzIGFuIGVycm9yIHdoZW5cbiAgICogdGhlIHNlcnZpY2UgaXMgbm90IGltbWVkaWF0ZWx5IGF2YWlsYWJsZS5cbiAgICogSWYgb3B0aW9uYWwgaXMgdHJ1ZSwgdGhlIG1ldGhvZCByZXR1cm5zIG51bGwgaWYgdGhlIHNlcnZpY2UgaXMgbm90IGltbWVkaWF0ZWx5IGF2YWlsYWJsZS5cbiAgICovXG4gIGdldEltbWVkaWF0ZShvcHRpb25zOiB7XG4gICAgaWRlbnRpZmllcj86IHN0cmluZztcbiAgICBvcHRpb25hbDogdHJ1ZTtcbiAgfSk6IE5hbWVTZXJ2aWNlTWFwcGluZ1tUXSB8IG51bGw7XG4gIGdldEltbWVkaWF0ZShvcHRpb25zPzoge1xuICAgIGlkZW50aWZpZXI/OiBzdHJpbmc7XG4gICAgb3B0aW9uYWw/OiBmYWxzZTtcbiAgfSk6IE5hbWVTZXJ2aWNlTWFwcGluZ1tUXTtcbiAgZ2V0SW1tZWRpYXRlKG9wdGlvbnM/OiB7XG4gICAgaWRlbnRpZmllcj86IHN0cmluZztcbiAgICBvcHRpb25hbD86IGJvb2xlYW47XG4gIH0pOiBOYW1lU2VydmljZU1hcHBpbmdbVF0gfCBudWxsIHtcbiAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoXG4gICAgICBvcHRpb25zPy5pZGVudGlmaWVyXG4gICAgKTtcbiAgICBjb25zdCBvcHRpb25hbCA9IG9wdGlvbnM/Lm9wdGlvbmFsID8/IGZhbHNlO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSB8fFxuICAgICAgdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpXG4gICAgKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcbiAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAob3B0aW9uYWwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEluIGNhc2UgYSBjb21wb25lbnQgaXMgbm90IGluaXRpYWxpemVkIGFuZCBzaG91bGQvY2Fubm90IGJlIGF1dG8taW5pdGlhbGl6ZWQgYXQgdGhlIG1vbWVudCwgcmV0dXJuIG51bGwgaWYgdGhlIG9wdGlvbmFsIGZsYWcgaXMgc2V0LCBvciB0aHJvd1xuICAgICAgaWYgKG9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYFNlcnZpY2UgJHt0aGlzLm5hbWV9IGlzIG5vdCBhdmFpbGFibGVgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRDb21wb25lbnQoKTogQ29tcG9uZW50PFQ+IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50O1xuICB9XG5cbiAgc2V0Q29tcG9uZW50KGNvbXBvbmVudDogQ29tcG9uZW50PFQ+KTogdm9pZCB7XG4gICAgaWYgKGNvbXBvbmVudC5uYW1lICE9PSB0aGlzLm5hbWUpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBgTWlzbWF0Y2hpbmcgQ29tcG9uZW50ICR7Y29tcG9uZW50Lm5hbWV9IGZvciBQcm92aWRlciAke3RoaXMubmFtZX0uYFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgIHRocm93IEVycm9yKGBDb21wb25lbnQgZm9yICR7dGhpcy5uYW1lfSBoYXMgYWxyZWFkeSBiZWVuIHByb3ZpZGVkYCk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG5cbiAgICAvLyByZXR1cm4gZWFybHkgd2l0aG91dCBhdHRlbXB0aW5nIHRvIGluaXRpYWxpemUgdGhlIGNvbXBvbmVudCBpZiB0aGUgY29tcG9uZW50IHJlcXVpcmVzIGV4cGxpY2l0IGluaXRpYWxpemF0aW9uIChjYWxsaW5nIGBQcm92aWRlci5pbml0aWFsaXplKClgKVxuICAgIGlmICghdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIHNlcnZpY2UgaXMgZWFnZXIsIGluaXRpYWxpemUgdGhlIGRlZmF1bHQgaW5zdGFuY2VcbiAgICBpZiAoaXNDb21wb25lbnRFYWdlcihjb21wb25lbnQpKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2UoeyBpbnN0YW5jZUlkZW50aWZpZXI6IERFRkFVTFRfRU5UUllfTkFNRSB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSBmb3IgYW4gZWFnZXIgQ29tcG9uZW50IHRocm93cyBhbiBleGNlcHRpb24gZHVyaW5nIHRoZSBlYWdlclxuICAgICAgICAvLyBpbml0aWFsaXphdGlvbiwgaXQgc2hvdWxkIG5vdCBjYXVzZSBhIGZhdGFsIGVycm9yLlxuICAgICAgICAvLyBUT0RPOiBJbnZlc3RpZ2F0ZSBpZiB3ZSBuZWVkIHRvIG1ha2UgaXQgY29uZmlndXJhYmxlLCBiZWNhdXNlIHNvbWUgY29tcG9uZW50IG1heSB3YW50IHRvIGNhdXNlXG4gICAgICAgIC8vIGEgZmF0YWwgZXJyb3IgaW4gdGhpcyBjYXNlP1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBzZXJ2aWNlIGluc3RhbmNlcyBmb3IgdGhlIHBlbmRpbmcgcHJvbWlzZXMgYW5kIHJlc29sdmUgdGhlbVxuICAgIC8vIE5PVEU6IGlmIHRoaXMubXVsdGlwbGVJbnN0YW5jZXMgaXMgZmFsc2UsIG9ubHkgdGhlIGRlZmF1bHQgaW5zdGFuY2Ugd2lsbCBiZSBjcmVhdGVkXG4gICAgLy8gYW5kIGFsbCBwcm9taXNlcyB3aXRoIHJlc29sdmUgd2l0aCBpdCByZWdhcmRsZXNzIG9mIHRoZSBpZGVudGlmaWVyLlxuICAgIGZvciAoY29uc3QgW1xuICAgICAgaW5zdGFuY2VJZGVudGlmaWVyLFxuICAgICAgaW5zdGFuY2VEZWZlcnJlZFxuICAgIF0gb2YgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRJZGVudGlmaWVyID1cbiAgICAgICAgdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoaW5zdGFuY2VJZGVudGlmaWVyKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gYGdldE9ySW5pdGlhbGl6ZVNlcnZpY2UoKWAgc2hvdWxkIGFsd2F5cyByZXR1cm4gYSB2YWxpZCBpbnN0YW5jZSBzaW5jZSBhIGNvbXBvbmVudCBpcyBndWFyYW50ZWVkLiB1c2UgISB0byBtYWtlIHR5cGVzY3JpcHQgaGFwcHkuXG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcbiAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXG4gICAgICAgIH0pITtcbiAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlXG4gICAgICAgIC8vIGEgZmF0YWwgZXJyb3IuIFdlIGp1c3QgbGVhdmUgdGhlIHByb21pc2UgdW5yZXNvbHZlZC5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhckluc3RhbmNlKGlkZW50aWZpZXI6IHN0cmluZyA9IERFRkFVTFRfRU5UUllfTkFNRSk6IHZvaWQge1xuICAgIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZGVsZXRlKGlkZW50aWZpZXIpO1xuICAgIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5kZWxldGUoaWRlbnRpZmllcik7XG4gICAgdGhpcy5pbnN0YW5jZXMuZGVsZXRlKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgLy8gYXBwLmRlbGV0ZSgpIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBvbiBldmVyeSBwcm92aWRlciB0byBkZWxldGUgdGhlIHNlcnZpY2VzXG4gIC8vIFRPRE86IHNob3VsZCB3ZSBtYXJrIHRoZSBwcm92aWRlciBhcyBkZWxldGVkP1xuICBhc3luYyBkZWxldGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc2VydmljZXMgPSBBcnJheS5mcm9tKHRoaXMuaW5zdGFuY2VzLnZhbHVlcygpKTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIC4uLnNlcnZpY2VzXG4gICAgICAgIC5maWx0ZXIoc2VydmljZSA9PiAnSU5URVJOQUwnIGluIHNlcnZpY2UpIC8vIGxlZ2FjeSBzZXJ2aWNlc1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAubWFwKHNlcnZpY2UgPT4gKHNlcnZpY2UgYXMgYW55KS5JTlRFUk5BTCEuZGVsZXRlKCkpLFxuICAgICAgLi4uc2VydmljZXNcbiAgICAgICAgLmZpbHRlcihzZXJ2aWNlID0+ICdfZGVsZXRlJyBpbiBzZXJ2aWNlKSAvLyBtb2R1bGFyaXplZCBzZXJ2aWNlc1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAubWFwKHNlcnZpY2UgPT4gKHNlcnZpY2UgYXMgYW55KS5fZGVsZXRlKCkpXG4gICAgXSk7XG4gIH1cblxuICBpc0NvbXBvbmVudFNldCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQgIT0gbnVsbDtcbiAgfVxuXG4gIGlzSW5pdGlhbGl6ZWQoaWRlbnRpZmllcjogc3RyaW5nID0gREVGQVVMVF9FTlRSWV9OQU1FKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLmhhcyhpZGVudGlmaWVyKTtcbiAgfVxuXG4gIGdldE9wdGlvbnMoaWRlbnRpZmllcjogc3RyaW5nID0gREVGQVVMVF9FTlRSWV9OQU1FKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlc09wdGlvbnMuZ2V0KGlkZW50aWZpZXIpIHx8IHt9O1xuICB9XG5cbiAgaW5pdGlhbGl6ZShvcHRzOiBJbml0aWFsaXplT3B0aW9ucyA9IHt9KTogTmFtZVNlcnZpY2VNYXBwaW5nW1RdIHtcbiAgICBjb25zdCB7IG9wdGlvbnMgPSB7fSB9ID0gb3B0cztcbiAgICBjb25zdCBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKFxuICAgICAgb3B0cy5pbnN0YW5jZUlkZW50aWZpZXJcbiAgICApO1xuICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYCR7dGhpcy5uYW1lfSgke25vcm1hbGl6ZWRJZGVudGlmaWVyfSkgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZGBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzQ29tcG9uZW50U2V0KCkpIHtcbiAgICAgIHRocm93IEVycm9yKGBDb21wb25lbnQgJHt0aGlzLm5hbWV9IGhhcyBub3QgYmVlbiByZWdpc3RlcmVkIHlldGApO1xuICAgIH1cblxuICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcbiAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXIsXG4gICAgICBvcHRpb25zXG4gICAgfSkhO1xuXG4gICAgLy8gcmVzb2x2ZSBhbnkgcGVuZGluZyBwcm9taXNlIHdhaXRpbmcgZm9yIHRoZSBzZXJ2aWNlIGluc3RhbmNlXG4gICAgZm9yIChjb25zdCBbXG4gICAgICBpbnN0YW5jZUlkZW50aWZpZXIsXG4gICAgICBpbnN0YW5jZURlZmVycmVkXG4gICAgXSBvZiB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmVudHJpZXMoKSkge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZERlZmVycmVkSWRlbnRpZmllciA9XG4gICAgICAgIHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XG4gICAgICBpZiAobm9ybWFsaXplZElkZW50aWZpZXIgPT09IG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIpIHtcbiAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCAgYWZ0ZXIgdGhlIHByb3ZpZGVyIGhhcyBiZWVuIGluaXRpYWxpemVkIGJ5IGNhbGxpbmcgcHJvdmlkZXIuaW5pdGlhbGl6ZSgpLlxuICAgKiBUaGUgZnVuY3Rpb24gaXMgaW52b2tlZCBTWU5DSFJPTk9VU0xZLCBzbyBpdCBzaG91bGQgbm90IGV4ZWN1dGUgYW55IGxvbmdydW5uaW5nIHRhc2tzIGluIG9yZGVyIHRvIG5vdCBibG9jayB0aGUgcHJvZ3JhbS5cbiAgICpcbiAgICogQHBhcmFtIGlkZW50aWZpZXIgQW4gb3B0aW9uYWwgaW5zdGFuY2UgaWRlbnRpZmllclxuICAgKiBAcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVucmVnaXN0ZXIgdGhlIGNhbGxiYWNrXG4gICAqL1xuICBvbkluaXQoY2FsbGJhY2s6IE9uSW5pdENhbGxCYWNrPFQ+LCBpZGVudGlmaWVyPzogc3RyaW5nKTogKCkgPT4gdm9pZCB7XG4gICAgY29uc3Qgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICBjb25zdCBleGlzdGluZ0NhbGxiYWNrcyA9XG4gICAgICB0aGlzLm9uSW5pdENhbGxiYWNrcy5nZXQobm9ybWFsaXplZElkZW50aWZpZXIpID8/XG4gICAgICBuZXcgU2V0PE9uSW5pdENhbGxCYWNrPFQ+PigpO1xuICAgIGV4aXN0aW5nQ2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG4gICAgdGhpcy5vbkluaXRDYWxsYmFja3Muc2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyLCBleGlzdGluZ0NhbGxiYWNrcyk7XG5cbiAgICBjb25zdCBleGlzdGluZ0luc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZ2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyKTtcbiAgICBpZiAoZXhpc3RpbmdJbnN0YW5jZSkge1xuICAgICAgY2FsbGJhY2soZXhpc3RpbmdJbnN0YW5jZSwgbm9ybWFsaXplZElkZW50aWZpZXIpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBleGlzdGluZ0NhbGxiYWNrcy5kZWxldGUoY2FsbGJhY2spO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlIG9uSW5pdCBjYWxsYmFja3Mgc3luY2hyb25vdXNseVxuICAgKiBAcGFyYW0gaW5zdGFuY2UgdGhlIHNlcnZpY2UgaW5zdGFuY2VgXG4gICAqL1xuICBwcml2YXRlIGludm9rZU9uSW5pdENhbGxiYWNrcyhcbiAgICBpbnN0YW5jZTogTmFtZVNlcnZpY2VNYXBwaW5nW1RdLFxuICAgIGlkZW50aWZpZXI6IHN0cmluZ1xuICApOiB2b2lkIHtcbiAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLm9uSW5pdENhbGxiYWNrcy5nZXQoaWRlbnRpZmllcik7XG4gICAgaWYgKCFjYWxsYmFja3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBjYWxsYmFja3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNhbGxiYWNrKGluc3RhbmNlLCBpZGVudGlmaWVyKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGluIHRoZSBvbkluaXQgY2FsbGJhY2tcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xuICAgIGluc3RhbmNlSWRlbnRpZmllcixcbiAgICBvcHRpb25zID0ge31cbiAgfToge1xuICAgIGluc3RhbmNlSWRlbnRpZmllcjogc3RyaW5nO1xuICAgIG9wdGlvbnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgfSk6IE5hbWVTZXJ2aWNlTWFwcGluZ1tUXSB8IG51bGwge1xuICAgIGxldCBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzLmdldChpbnN0YW5jZUlkZW50aWZpZXIpO1xuICAgIGlmICghaW5zdGFuY2UgJiYgdGhpcy5jb21wb25lbnQpIHtcbiAgICAgIGluc3RhbmNlID0gdGhpcy5jb21wb25lbnQuaW5zdGFuY2VGYWN0b3J5KHRoaXMuY29udGFpbmVyLCB7XG4gICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplSWRlbnRpZmllckZvckZhY3RvcnkoaW5zdGFuY2VJZGVudGlmaWVyKSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgfSk7XG4gICAgICB0aGlzLmluc3RhbmNlcy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7XG4gICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgb3B0aW9ucyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogSW52b2tlIG9uSW5pdCBsaXN0ZW5lcnMuXG4gICAgICAgKiBOb3RlIHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkIGlzIGRpZmZlcmVudCwgd2hpY2ggaXMgdXNlZCBieSB0aGUgY29tcG9uZW50IGNyZWF0b3IsXG4gICAgICAgKiB3aGlsZSBvbkluaXQgbGlzdGVuZXJzIGFyZSByZWdpc3RlcmVkIGJ5IGNvbnN1bWVycyBvZiB0aGUgcHJvdmlkZXIuXG4gICAgICAgKi9cbiAgICAgIHRoaXMuaW52b2tlT25Jbml0Q2FsbGJhY2tzKGluc3RhbmNlLCBpbnN0YW5jZUlkZW50aWZpZXIpO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9yZGVyIGlzIGltcG9ydGFudFxuICAgICAgICogb25JbnN0YW5jZUNyZWF0ZWQoKSBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIHRoaXMuaW5zdGFuY2VzLnNldChpbnN0YW5jZUlkZW50aWZpZXIsIGluc3RhbmNlKTsgd2hpY2hcbiAgICAgICAqIG1ha2VzIGBpc0luaXRpYWxpemVkKClgIHJldHVybiB0cnVlLlxuICAgICAgICovXG4gICAgICBpZiAodGhpcy5jb21wb25lbnQub25JbnN0YW5jZUNyZWF0ZWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZChcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyLFxuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGluIHRoZSBvbkluc3RhbmNlQ3JlYXRlZENhbGxiYWNrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2UgfHwgbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgbm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKFxuICAgIGlkZW50aWZpZXI6IHN0cmluZyA9IERFRkFVTFRfRU5UUllfTkFNRVxuICApOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzID8gaWRlbnRpZmllciA6IERFRkFVTFRfRU5UUllfTkFNRTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGlkZW50aWZpZXI7IC8vIGFzc3VtZSBtdWx0aXBsZSBpbnN0YW5jZXMgYXJlIHN1cHBvcnRlZCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBwcm92aWRlZC5cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNob3VsZEF1dG9Jbml0aWFsaXplKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICAhIXRoaXMuY29tcG9uZW50ICYmXG4gICAgICB0aGlzLmNvbXBvbmVudC5pbnN0YW50aWF0aW9uTW9kZSAhPT0gSW5zdGFudGlhdGlvbk1vZGUuRVhQTElDSVRcbiAgICApO1xuICB9XG59XG5cbi8vIHVuZGVmaW5lZCBzaG91bGQgYmUgcGFzc2VkIHRvIHRoZSBzZXJ2aWNlIGZhY3RvcnkgZm9yIHRoZSBkZWZhdWx0IGluc3RhbmNlXG5mdW5jdGlvbiBub3JtYWxpemVJZGVudGlmaWVyRm9yRmFjdG9yeShpZGVudGlmaWVyOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICByZXR1cm4gaWRlbnRpZmllciA9PT0gREVGQVVMVF9FTlRSWV9OQU1FID8gdW5kZWZpbmVkIDogaWRlbnRpZmllcjtcbn1cblxuZnVuY3Rpb24gaXNDb21wb25lbnRFYWdlcjxUIGV4dGVuZHMgTmFtZT4oY29tcG9uZW50OiBDb21wb25lbnQ8VD4pOiBib29sZWFuIHtcbiAgcmV0dXJuIGNvbXBvbmVudC5pbnN0YW50aWF0aW9uTW9kZSA9PT0gSW5zdGFudGlhdGlvbk1vZGUuRUFHRVI7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICcuL3Byb3ZpZGVyJztcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IE5hbWUgfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBDb21wb25lbnRDb250YWluZXIgdGhhdCBwcm92aWRlcyBQcm92aWRlcnMgZm9yIHNlcnZpY2UgbmFtZSBULCBlLmcuIGBhdXRoYCwgYGF1dGgtaW50ZXJuYWxgXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wb25lbnRDb250YWluZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IHByb3ZpZGVycyA9IG5ldyBNYXA8c3RyaW5nLCBQcm92aWRlcjxOYW1lPj4oKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IG5hbWU6IHN0cmluZykge31cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGNvbXBvbmVudCBDb21wb25lbnQgYmVpbmcgYWRkZWRcbiAgICogQHBhcmFtIG92ZXJ3cml0ZSBXaGVuIGEgY29tcG9uZW50IHdpdGggdGhlIHNhbWUgbmFtZSBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQsXG4gICAqIGlmIG92ZXJ3cml0ZSBpcyB0cnVlOiBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGNvbXBvbmVudCB3aXRoIHRoZSBuZXcgY29tcG9uZW50IGFuZCBjcmVhdGUgYSBuZXdcbiAgICogcHJvdmlkZXIgd2l0aCB0aGUgbmV3IGNvbXBvbmVudC4gSXQgY2FuIGJlIHVzZWZ1bCBpbiB0ZXN0cyB3aGVyZSB5b3Ugd2FudCB0byB1c2UgZGlmZmVyZW50IG1vY2tzXG4gICAqIGZvciBkaWZmZXJlbnQgdGVzdHMuXG4gICAqIGlmIG92ZXJ3cml0ZSBpcyBmYWxzZTogdGhyb3cgYW4gZXhjZXB0aW9uXG4gICAqL1xuICBhZGRDb21wb25lbnQ8VCBleHRlbmRzIE5hbWU+KGNvbXBvbmVudDogQ29tcG9uZW50PFQ+KTogdm9pZCB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKGNvbXBvbmVudC5uYW1lKTtcbiAgICBpZiAocHJvdmlkZXIuaXNDb21wb25lbnRTZXQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ29tcG9uZW50ICR7Y29tcG9uZW50Lm5hbWV9IGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCB3aXRoICR7dGhpcy5uYW1lfWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcHJvdmlkZXIuc2V0Q29tcG9uZW50KGNvbXBvbmVudCk7XG4gIH1cblxuICBhZGRPck92ZXJ3cml0ZUNvbXBvbmVudDxUIGV4dGVuZHMgTmFtZT4oY29tcG9uZW50OiBDb21wb25lbnQ8VD4pOiB2b2lkIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIoY29tcG9uZW50Lm5hbWUpO1xuICAgIGlmIChwcm92aWRlci5pc0NvbXBvbmVudFNldCgpKSB7XG4gICAgICAvLyBkZWxldGUgdGhlIGV4aXN0aW5nIHByb3ZpZGVyIGZyb20gdGhlIGNvbnRhaW5lciwgc28gd2UgY2FuIHJlZ2lzdGVyIHRoZSBuZXcgY29tcG9uZW50XG4gICAgICB0aGlzLnByb3ZpZGVycy5kZWxldGUoY29tcG9uZW50Lm5hbWUpO1xuICAgIH1cblxuICAgIHRoaXMuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XG4gIH1cblxuICAvKipcbiAgICogZ2V0UHJvdmlkZXIgcHJvdmlkZXMgYSB0eXBlIHNhZmUgaW50ZXJmYWNlIHdoZXJlIGl0IGNhbiBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgZmllbGQgbmFtZVxuICAgKiBwcmVzZW50IGluIE5hbWVTZXJ2aWNlTWFwcGluZyBpbnRlcmZhY2UuXG4gICAqXG4gICAqIEZpcmViYXNlIFNES3MgcHJvdmlkaW5nIHNlcnZpY2VzIHNob3VsZCBleHRlbmQgTmFtZVNlcnZpY2VNYXBwaW5nIGludGVyZmFjZSB0byByZWdpc3RlclxuICAgKiB0aGVtc2VsdmVzLlxuICAgKi9cbiAgZ2V0UHJvdmlkZXI8VCBleHRlbmRzIE5hbWU+KG5hbWU6IFQpOiBQcm92aWRlcjxUPiB7XG4gICAgaWYgKHRoaXMucHJvdmlkZXJzLmhhcyhuYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzLmdldChuYW1lKSBhcyB1bmtub3duIGFzIFByb3ZpZGVyPFQ+O1xuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBhIFByb3ZpZGVyIGZvciBhIHNlcnZpY2UgdGhhdCBoYXNuJ3QgcmVnaXN0ZXJlZCB3aXRoIEZpcmViYXNlXG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgUHJvdmlkZXI8VD4obmFtZSwgdGhpcyk7XG4gICAgdGhpcy5wcm92aWRlcnMuc2V0KG5hbWUsIHByb3ZpZGVyIGFzIHVua25vd24gYXMgUHJvdmlkZXI8TmFtZT4pO1xuXG4gICAgcmV0dXJuIHByb3ZpZGVyIGFzIFByb3ZpZGVyPFQ+O1xuICB9XG5cbiAgZ2V0UHJvdmlkZXJzKCk6IEFycmF5PFByb3ZpZGVyPE5hbWU+PiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5wcm92aWRlcnMudmFsdWVzKCkpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IHR5cGUgTG9nTGV2ZWxTdHJpbmcgPVxuICB8ICdkZWJ1ZydcbiAgfCAndmVyYm9zZSdcbiAgfCAnaW5mbydcbiAgfCAnd2FybidcbiAgfCAnZXJyb3InXG4gIHwgJ3NpbGVudCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nT3B0aW9ucyB7XG4gIGxldmVsOiBMb2dMZXZlbFN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgTG9nQ2FsbGJhY2sgPSAoY2FsbGJhY2tQYXJhbXM6IExvZ0NhbGxiYWNrUGFyYW1zKSA9PiB2b2lkO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ0NhbGxiYWNrUGFyYW1zIHtcbiAgbGV2ZWw6IExvZ0xldmVsU3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGFyZ3M6IHVua25vd25bXTtcbiAgdHlwZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEEgY29udGFpbmVyIGZvciBhbGwgb2YgdGhlIExvZ2dlciBpbnN0YW5jZXNcbiAqL1xuZXhwb3J0IGNvbnN0IGluc3RhbmNlczogTG9nZ2VyW10gPSBbXTtcblxuLyoqXG4gKiBUaGUgSlMgU0RLIHN1cHBvcnRzIDUgbG9nIGxldmVscyBhbmQgYWxzbyBhbGxvd3MgYSB1c2VyIHRoZSBhYmlsaXR5IHRvXG4gKiBzaWxlbmNlIHRoZSBsb2dzIGFsdG9nZXRoZXIuXG4gKlxuICogVGhlIG9yZGVyIGlzIGEgZm9sbG93czpcbiAqIERFQlVHIDwgVkVSQk9TRSA8IElORk8gPCBXQVJOIDwgRVJST1JcbiAqXG4gKiBBbGwgb2YgdGhlIGxvZyB0eXBlcyBhYm92ZSB0aGUgY3VycmVudCBsb2cgbGV2ZWwgd2lsbCBiZSBjYXB0dXJlZCAoaS5lLiBpZlxuICogeW91IHNldCB0aGUgbG9nIGxldmVsIHRvIGBJTkZPYCwgZXJyb3JzIHdpbGwgc3RpbGwgYmUgbG9nZ2VkLCBidXQgYERFQlVHYCBhbmRcbiAqIGBWRVJCT1NFYCBsb2dzIHdpbGwgbm90KVxuICovXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIERFQlVHLFxuICBWRVJCT1NFLFxuICBJTkZPLFxuICBXQVJOLFxuICBFUlJPUixcbiAgU0lMRU5UXG59XG5cbmNvbnN0IGxldmVsU3RyaW5nVG9FbnVtOiB7IFtrZXkgaW4gTG9nTGV2ZWxTdHJpbmddOiBMb2dMZXZlbCB9ID0ge1xuICAnZGVidWcnOiBMb2dMZXZlbC5ERUJVRyxcbiAgJ3ZlcmJvc2UnOiBMb2dMZXZlbC5WRVJCT1NFLFxuICAnaW5mbyc6IExvZ0xldmVsLklORk8sXG4gICd3YXJuJzogTG9nTGV2ZWwuV0FSTixcbiAgJ2Vycm9yJzogTG9nTGV2ZWwuRVJST1IsXG4gICdzaWxlbnQnOiBMb2dMZXZlbC5TSUxFTlRcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgbG9nIGxldmVsXG4gKi9cbmNvbnN0IGRlZmF1bHRMb2dMZXZlbDogTG9nTGV2ZWwgPSBMb2dMZXZlbC5JTkZPO1xuXG4vKipcbiAqIFdlIGFsbG93IHVzZXJzIHRoZSBhYmlsaXR5IHRvIHBhc3MgdGhlaXIgb3duIGxvZyBoYW5kbGVyLiBXZSB3aWxsIHBhc3MgdGhlXG4gKiB0eXBlIG9mIGxvZywgdGhlIGN1cnJlbnQgbG9nIGxldmVsLCBhbmQgYW55IG90aGVyIGFyZ3VtZW50cyBwYXNzZWQgKGkuZS4gdGhlXG4gKiBtZXNzYWdlcyB0aGF0IHRoZSB1c2VyIHdhbnRzIHRvIGxvZykgdG8gdGhpcyBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgTG9nSGFuZGxlciA9IChcbiAgbG9nZ2VySW5zdGFuY2U6IExvZ2dlcixcbiAgbG9nVHlwZTogTG9nTGV2ZWwsXG4gIC4uLmFyZ3M6IHVua25vd25bXVxuKSA9PiB2b2lkO1xuXG4vKipcbiAqIEJ5IGRlZmF1bHQsIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgZGlzcGxheWVkIGluIHRoZSBkZXZlbG9wZXIgY29uc29sZSAoaW5cbiAqIGNocm9tZSkuIFRvIGF2b2lkIGZvcmNpbmcgdXNlcnMgdG8gaGF2ZSB0byBvcHQtaW4gdG8gdGhlc2UgbG9ncyB0d2ljZVxuICogKGkuZS4gb25jZSBmb3IgZmlyZWJhc2UsIGFuZCBvbmNlIGluIHRoZSBjb25zb2xlKSwgd2UgYXJlIHNlbmRpbmcgYERFQlVHYFxuICogbG9ncyB0byB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbi5cbiAqL1xuY29uc3QgQ29uc29sZU1ldGhvZCA9IHtcbiAgW0xvZ0xldmVsLkRFQlVHXTogJ2xvZycsXG4gIFtMb2dMZXZlbC5WRVJCT1NFXTogJ2xvZycsXG4gIFtMb2dMZXZlbC5JTkZPXTogJ2luZm8nLFxuICBbTG9nTGV2ZWwuV0FSTl06ICd3YXJuJyxcbiAgW0xvZ0xldmVsLkVSUk9SXTogJ2Vycm9yJ1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBsb2cgaGFuZGxlciB3aWxsIGZvcndhcmQgREVCVUcsIFZFUkJPU0UsIElORk8sIFdBUk4sIGFuZCBFUlJPUlxuICogbWVzc2FnZXMgb24gdG8gdGhlaXIgY29ycmVzcG9uZGluZyBjb25zb2xlIGNvdW50ZXJwYXJ0cyAoaWYgdGhlIGxvZyBtZXRob2RcbiAqIGlzIHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBsb2cgbGV2ZWwpXG4gKi9cbmNvbnN0IGRlZmF1bHRMb2dIYW5kbGVyOiBMb2dIYW5kbGVyID0gKGluc3RhbmNlLCBsb2dUeXBlLCAuLi5hcmdzKTogdm9pZCA9PiB7XG4gIGlmIChsb2dUeXBlIDwgaW5zdGFuY2UubG9nTGV2ZWwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICBjb25zdCBtZXRob2QgPSBDb25zb2xlTWV0aG9kW2xvZ1R5cGUgYXMga2V5b2YgdHlwZW9mIENvbnNvbGVNZXRob2RdO1xuICBpZiAobWV0aG9kKSB7XG4gICAgY29uc29sZVttZXRob2QgYXMgJ2xvZycgfCAnaW5mbycgfCAnd2FybicgfCAnZXJyb3InXShcbiAgICAgIGBbJHtub3d9XSAgJHtpbnN0YW5jZS5uYW1lfTpgLFxuICAgICAgLi4uYXJnc1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEF0dGVtcHRlZCB0byBsb2cgYSBtZXNzYWdlIHdpdGggYW4gaW52YWxpZCBsb2dUeXBlICh2YWx1ZTogJHtsb2dUeXBlfSlgXG4gICAgKTtcbiAgfVxufTtcblxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG4gIC8qKlxuICAgKiBHaXZlcyB5b3UgYW4gaW5zdGFuY2Ugb2YgYSBMb2dnZXIgdG8gY2FwdHVyZSBtZXNzYWdlcyBhY2NvcmRpbmcgdG9cbiAgICogRmlyZWJhc2UncyBsb2dnaW5nIHNjaGVtZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdGhhdCB0aGUgbG9ncyB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aFxuICAgKi9cbiAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZykge1xuICAgIC8qKlxuICAgICAqIENhcHR1cmUgdGhlIGN1cnJlbnQgaW5zdGFuY2UgZm9yIGxhdGVyIHVzZVxuICAgICAqL1xuICAgIGluc3RhbmNlcy5wdXNoKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBsb2cgbGV2ZWwgb2YgdGhlIGdpdmVuIExvZ2dlciBpbnN0YW5jZS5cbiAgICovXG4gIHByaXZhdGUgX2xvZ0xldmVsID0gZGVmYXVsdExvZ0xldmVsO1xuXG4gIGdldCBsb2dMZXZlbCgpOiBMb2dMZXZlbCB7XG4gICAgcmV0dXJuIHRoaXMuX2xvZ0xldmVsO1xuICB9XG5cbiAgc2V0IGxvZ0xldmVsKHZhbDogTG9nTGV2ZWwpIHtcbiAgICBpZiAoISh2YWwgaW4gTG9nTGV2ZWwpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIHZhbHVlIFwiJHt2YWx9XCIgYXNzaWduZWQgdG8gXFxgbG9nTGV2ZWxcXGBgKTtcbiAgICB9XG4gICAgdGhpcy5fbG9nTGV2ZWwgPSB2YWw7XG4gIH1cblxuICAvLyBXb3JrYXJvdW5kIGZvciBzZXR0ZXIvZ2V0dGVyIGhhdmluZyB0byBiZSB0aGUgc2FtZSB0eXBlLlxuICBzZXRMb2dMZXZlbCh2YWw6IExvZ0xldmVsIHwgTG9nTGV2ZWxTdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9sb2dMZXZlbCA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gbGV2ZWxTdHJpbmdUb0VudW1bdmFsXSA6IHZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbWFpbiAoaW50ZXJuYWwpIGxvZyBoYW5kbGVyIGZvciB0aGUgTG9nZ2VyIGluc3RhbmNlLlxuICAgKiBDYW4gYmUgc2V0IHRvIGEgbmV3IGZ1bmN0aW9uIGluIGludGVybmFsIHBhY2thZ2UgY29kZSBidXQgbm90IGJ5IHVzZXIuXG4gICAqL1xuICBwcml2YXRlIF9sb2dIYW5kbGVyOiBMb2dIYW5kbGVyID0gZGVmYXVsdExvZ0hhbmRsZXI7XG4gIGdldCBsb2dIYW5kbGVyKCk6IExvZ0hhbmRsZXIge1xuICAgIHJldHVybiB0aGlzLl9sb2dIYW5kbGVyO1xuICB9XG4gIHNldCBsb2dIYW5kbGVyKHZhbDogTG9nSGFuZGxlcikge1xuICAgIGlmICh0eXBlb2YgdmFsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBhc3NpZ25lZCB0byBgbG9nSGFuZGxlcmAgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIHRoaXMuX2xvZ0hhbmRsZXIgPSB2YWw7XG4gIH1cblxuICAvKipcbiAgICogVGhlIG9wdGlvbmFsLCBhZGRpdGlvbmFsLCB1c2VyLWRlZmluZWQgbG9nIGhhbmRsZXIgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXG4gICAqL1xuICBwcml2YXRlIF91c2VyTG9nSGFuZGxlcjogTG9nSGFuZGxlciB8IG51bGwgPSBudWxsO1xuICBnZXQgdXNlckxvZ0hhbmRsZXIoKTogTG9nSGFuZGxlciB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl91c2VyTG9nSGFuZGxlcjtcbiAgfVxuICBzZXQgdXNlckxvZ0hhbmRsZXIodmFsOiBMb2dIYW5kbGVyIHwgbnVsbCkge1xuICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyID0gdmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBmdW5jdGlvbnMgYmVsb3cgYXJlIGFsbCBiYXNlZCBvbiB0aGUgYGNvbnNvbGVgIGludGVyZmFjZVxuICAgKi9cblxuICBkZWJ1ZyguLi5hcmdzOiB1bmtub3duW10pOiB2b2lkIHtcbiAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5ERUJVRywgLi4uYXJncyk7XG4gICAgdGhpcy5fbG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5ERUJVRywgLi4uYXJncyk7XG4gIH1cbiAgbG9nKC4uLmFyZ3M6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmXG4gICAgICB0aGlzLl91c2VyTG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5WRVJCT1NFLCAuLi5hcmdzKTtcbiAgICB0aGlzLl9sb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLlZFUkJPU0UsIC4uLmFyZ3MpO1xuICB9XG4gIGluZm8oLi4uYXJnczogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuSU5GTywgLi4uYXJncyk7XG4gICAgdGhpcy5fbG9nSGFuZGxlcih0aGlzLCBMb2dMZXZlbC5JTkZPLCAuLi5hcmdzKTtcbiAgfVxuICB3YXJuKC4uLmFyZ3M6IHVua25vd25bXSk6IHZvaWQge1xuICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyKHRoaXMsIExvZ0xldmVsLldBUk4sIC4uLmFyZ3MpO1xuICAgIHRoaXMuX2xvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuV0FSTiwgLi4uYXJncyk7XG4gIH1cbiAgZXJyb3IoLi4uYXJnczogdW5rbm93bltdKTogdm9pZCB7XG4gICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuRVJST1IsIC4uLmFyZ3MpO1xuICAgIHRoaXMuX2xvZ0hhbmRsZXIodGhpcywgTG9nTGV2ZWwuRVJST1IsIC4uLmFyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2dMZXZlbChsZXZlbDogTG9nTGV2ZWxTdHJpbmcgfCBMb2dMZXZlbCk6IHZvaWQge1xuICBpbnN0YW5jZXMuZm9yRWFjaChpbnN0ID0+IHtcbiAgICBpbnN0LnNldExvZ0xldmVsKGxldmVsKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRVc2VyTG9nSGFuZGxlcihcbiAgbG9nQ2FsbGJhY2s6IExvZ0NhbGxiYWNrIHwgbnVsbCxcbiAgb3B0aW9ucz86IExvZ09wdGlvbnNcbik6IHZvaWQge1xuICBmb3IgKGNvbnN0IGluc3RhbmNlIG9mIGluc3RhbmNlcykge1xuICAgIGxldCBjdXN0b21Mb2dMZXZlbDogTG9nTGV2ZWwgfCBudWxsID0gbnVsbDtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmxldmVsKSB7XG4gICAgICBjdXN0b21Mb2dMZXZlbCA9IGxldmVsU3RyaW5nVG9FbnVtW29wdGlvbnMubGV2ZWxdO1xuICAgIH1cbiAgICBpZiAobG9nQ2FsbGJhY2sgPT09IG51bGwpIHtcbiAgICAgIGluc3RhbmNlLnVzZXJMb2dIYW5kbGVyID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UudXNlckxvZ0hhbmRsZXIgPSAoXG4gICAgICAgIGluc3RhbmNlOiBMb2dnZXIsXG4gICAgICAgIGxldmVsOiBMb2dMZXZlbCxcbiAgICAgICAgLi4uYXJnczogdW5rbm93bltdXG4gICAgICApID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGFyZ3NcbiAgICAgICAgICAubWFwKGFyZyA9PiB7XG4gICAgICAgICAgICBpZiAoYXJnID09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8IHR5cGVvZiBhcmcgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICByZXR1cm4gYXJnLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhcmcubWVzc2FnZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZyk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbHRlcihhcmcgPT4gYXJnKVxuICAgICAgICAgIC5qb2luKCcgJyk7XG4gICAgICAgIGlmIChsZXZlbCA+PSAoY3VzdG9tTG9nTGV2ZWwgPz8gaW5zdGFuY2UubG9nTGV2ZWwpKSB7XG4gICAgICAgICAgbG9nQ2FsbGJhY2soe1xuICAgICAgICAgICAgbGV2ZWw6IExvZ0xldmVsW2xldmVsXS50b0xvd2VyQ2FzZSgpIGFzIExvZ0xldmVsU3RyaW5nLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICB0eXBlOiBpbnN0YW5jZS5uYW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG59XG4iLCAiY29uc3QgaW5zdGFuY2VPZkFueSA9IChvYmplY3QsIGNvbnN0cnVjdG9ycykgPT4gY29uc3RydWN0b3JzLnNvbWUoKGMpID0+IG9iamVjdCBpbnN0YW5jZW9mIGMpO1xuXG5sZXQgaWRiUHJveHlhYmxlVHlwZXM7XG5sZXQgY3Vyc29yQWR2YW5jZU1ldGhvZHM7XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldElkYlByb3h5YWJsZVR5cGVzKCkge1xuICAgIHJldHVybiAoaWRiUHJveHlhYmxlVHlwZXMgfHxcbiAgICAgICAgKGlkYlByb3h5YWJsZVR5cGVzID0gW1xuICAgICAgICAgICAgSURCRGF0YWJhc2UsXG4gICAgICAgICAgICBJREJPYmplY3RTdG9yZSxcbiAgICAgICAgICAgIElEQkluZGV4LFxuICAgICAgICAgICAgSURCQ3Vyc29yLFxuICAgICAgICAgICAgSURCVHJhbnNhY3Rpb24sXG4gICAgICAgIF0pKTtcbn1cbi8vIFRoaXMgaXMgYSBmdW5jdGlvbiB0byBwcmV2ZW50IGl0IHRocm93aW5nIHVwIGluIG5vZGUgZW52aXJvbm1lbnRzLlxuZnVuY3Rpb24gZ2V0Q3Vyc29yQWR2YW5jZU1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIChjdXJzb3JBZHZhbmNlTWV0aG9kcyB8fFxuICAgICAgICAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgPSBbXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmFkdmFuY2UsXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZVByaW1hcnlLZXksXG4gICAgICAgIF0pKTtcbn1cbmNvbnN0IGN1cnNvclJlcXVlc3RNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNhY3Rpb25Eb25lTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2Zvcm1DYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgdW5saXN0ZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBzdWNjZXNzKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHdyYXAocmVxdWVzdC5yZXN1bHQpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgdW5saXN0ZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgfSk7XG4gICAgcHJvbWlzZVxuICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgLy8gU2luY2UgY3Vyc29yaW5nIHJldXNlcyB0aGUgSURCUmVxdWVzdCAoKnNpZ2gqKSwgd2UgY2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbFxuICAgICAgICAvLyAoc2VlIHdyYXBGdW5jdGlvbikuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQkN1cnNvcikge1xuICAgICAgICAgICAgY3Vyc29yUmVxdWVzdE1hcC5zZXQodmFsdWUsIHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhdGNoaW5nIHRvIGF2b2lkIFwiVW5jYXVnaHQgUHJvbWlzZSBleGNlcHRpb25zXCJcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAvLyBUaGlzIG1hcHBpbmcgZXhpc3RzIGluIHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBidXQgZG9lc24ndCBkb2Vzbid0IGV4aXN0IGluIHRyYW5zZm9ybUNhY2hlLiBUaGlzXG4gICAgLy8gaXMgYmVjYXVzZSB3ZSBjcmVhdGUgbWFueSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QuXG4gICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChwcm9taXNlLCByZXF1ZXN0KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGNhY2hlRG9uZVByb21pc2VGb3JUcmFuc2FjdGlvbih0eCkge1xuICAgIC8vIEVhcmx5IGJhaWwgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIGEgZG9uZSBwcm9taXNlIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgIGlmICh0cmFuc2FjdGlvbkRvbmVNYXAuaGFzKHR4KSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGRvbmUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHR4LmVycm9yIHx8IG5ldyBET01FeGNlcHRpb24oJ0Fib3J0RXJyb3InLCAnQWJvcnRFcnJvcicpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlcnJvcik7XG4gICAgfSk7XG4gICAgLy8gQ2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbC5cbiAgICB0cmFuc2FjdGlvbkRvbmVNYXAuc2V0KHR4LCBkb25lKTtcbn1cbmxldCBpZGJQcm94eVRyYXBzID0ge1xuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgdHJhbnNhY3Rpb24uZG9uZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnZG9uZScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uRG9uZU1hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIFBvbHlmaWxsIGZvciBvYmplY3RTdG9yZU5hbWVzIGJlY2F1c2Ugb2YgRWRnZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnb2JqZWN0U3RvcmVOYW1lcycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm9iamVjdFN0b3JlTmFtZXMgfHwgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFrZSB0eC5zdG9yZSByZXR1cm4gdGhlIG9ubHkgc3RvcmUgaW4gdGhlIHRyYW5zYWN0aW9uLCBvciB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG1hbnkuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3N0b3JlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci5vYmplY3RTdG9yZU5hbWVzWzFdXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogcmVjZWl2ZXIub2JqZWN0U3RvcmUocmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWxzZSB0cmFuc2Zvcm0gd2hhdGV2ZXIgd2UgZ2V0IGJhY2suXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldFtwcm9wXSk7XG4gICAgfSxcbiAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBoYXModGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbiAmJlxuICAgICAgICAgICAgKHByb3AgPT09ICdkb25lJyB8fCBwcm9wID09PSAnc3RvcmUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0O1xuICAgIH0sXG59O1xuZnVuY3Rpb24gcmVwbGFjZVRyYXBzKGNhbGxiYWNrKSB7XG4gICAgaWRiUHJveHlUcmFwcyA9IGNhbGxiYWNrKGlkYlByb3h5VHJhcHMpO1xufVxuZnVuY3Rpb24gd3JhcEZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAvLyBEdWUgdG8gZXhwZWN0ZWQgb2JqZWN0IGVxdWFsaXR5ICh3aGljaCBpcyBlbmZvcmNlZCBieSB0aGUgY2FjaGluZyBpbiBgd3JhcGApLCB3ZVxuICAgIC8vIG9ubHkgY3JlYXRlIG9uZSBuZXcgZnVuYyBwZXIgZnVuYy5cbiAgICAvLyBFZGdlIGRvZXNuJ3Qgc3VwcG9ydCBvYmplY3RTdG9yZU5hbWVzIChib29vKSwgc28gd2UgcG9seWZpbGwgaXQgaGVyZS5cbiAgICBpZiAoZnVuYyA9PT0gSURCRGF0YWJhc2UucHJvdG90eXBlLnRyYW5zYWN0aW9uICYmXG4gICAgICAgICEoJ29iamVjdFN0b3JlTmFtZXMnIGluIElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZU5hbWVzLCAuLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCB0eCA9IGZ1bmMuY2FsbCh1bndyYXAodGhpcyksIHN0b3JlTmFtZXMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLnNldCh0eCwgc3RvcmVOYW1lcy5zb3J0ID8gc3RvcmVOYW1lcy5zb3J0KCkgOiBbc3RvcmVOYW1lc10pO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAodHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBDdXJzb3IgbWV0aG9kcyBhcmUgc3BlY2lhbCwgYXMgdGhlIGJlaGF2aW91ciBpcyBhIGxpdHRsZSBtb3JlIGRpZmZlcmVudCB0byBzdGFuZGFyZCBJREIuIEluXG4gICAgLy8gSURCLCB5b3UgYWR2YW5jZSB0aGUgY3Vyc29yIGFuZCB3YWl0IGZvciBhIG5ldyAnc3VjY2Vzcycgb24gdGhlIElEQlJlcXVlc3QgdGhhdCBnYXZlIHlvdSB0aGVcbiAgICAvLyBjdXJzb3IuIEl0J3Mga2luZGEgbGlrZSBhIHByb21pc2UgdGhhdCBjYW4gcmVzb2x2ZSB3aXRoIG1hbnkgdmFsdWVzLiBUaGF0IGRvZXNuJ3QgbWFrZSBzZW5zZVxuICAgIC8vIHdpdGggcmVhbCBwcm9taXNlcywgc28gZWFjaCBhZHZhbmNlIG1ldGhvZHMgcmV0dXJucyBhIG5ldyBwcm9taXNlIGZvciB0aGUgY3Vyc29yIG9iamVjdCwgb3JcbiAgICAvLyB1bmRlZmluZWQgaWYgdGhlIGVuZCBvZiB0aGUgY3Vyc29yIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgaWYgKGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkuaW5jbHVkZXMoZnVuYykpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAvLyBDYWxsaW5nIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3aXRoIHRoZSBwcm94eSBhcyAndGhpcycgY2F1c2VzIElMTEVHQUwgSU5WT0NBVElPTiwgc28gd2UgdXNlXG4gICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICAgICAgZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAoY3Vyc29yUmVxdWVzdE1hcC5nZXQodGhpcykpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICByZXR1cm4gd3JhcChmdW5jLmFwcGx5KHVud3JhcCh0aGlzKSwgYXJncykpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHdyYXBGdW5jdGlvbih2YWx1ZSk7XG4gICAgLy8gVGhpcyBkb2Vzbid0IHJldHVybiwgaXQganVzdCBjcmVhdGVzIGEgJ2RvbmUnIHByb21pc2UgZm9yIHRoZSB0cmFuc2FjdGlvbixcbiAgICAvLyB3aGljaCBpcyBsYXRlciByZXR1cm5lZCBmb3IgdHJhbnNhY3Rpb24uZG9uZSAoc2VlIGlkYk9iamVjdEhhbmRsZXIpLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uKVxuICAgICAgICBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odmFsdWUpO1xuICAgIGlmIChpbnN0YW5jZU9mQW55KHZhbHVlLCBnZXRJZGJQcm94eWFibGVUeXBlcygpKSlcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgaWRiUHJveHlUcmFwcyk7XG4gICAgLy8gUmV0dXJuIHRoZSBzYW1lIHZhbHVlIGJhY2sgaWYgd2UncmUgbm90IGdvaW5nIHRvIHRyYW5zZm9ybSBpdC5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB3cmFwKHZhbHVlKSB7XG4gICAgLy8gV2Ugc29tZXRpbWVzIGdlbmVyYXRlIG11bHRpcGxlIHByb21pc2VzIGZyb20gYSBzaW5nbGUgSURCUmVxdWVzdCAoZWcgd2hlbiBjdXJzb3JpbmcpLCBiZWNhdXNlXG4gICAgLy8gSURCIGlzIHdlaXJkIGFuZCBhIHNpbmdsZSBJREJSZXF1ZXN0IGNhbiB5aWVsZCBtYW55IHJlc3BvbnNlcywgc28gdGhlc2UgY2FuJ3QgYmUgY2FjaGVkLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlJlcXVlc3QpXG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHZhbHVlKTtcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHRyYW5zZm9ybWVkIHRoaXMgdmFsdWUgYmVmb3JlLCByZXVzZSB0aGUgdHJhbnNmb3JtZWQgdmFsdWUuXG4gICAgLy8gVGhpcyBpcyBmYXN0ZXIsIGJ1dCBpdCBhbHNvIHByb3ZpZGVzIG9iamVjdCBlcXVhbGl0eS5cbiAgICBpZiAodHJhbnNmb3JtQ2FjaGUuaGFzKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKTtcbiAgICAvLyBOb3QgYWxsIHR5cGVzIGFyZSB0cmFuc2Zvcm1lZC5cbiAgICAvLyBUaGVzZSBtYXkgYmUgcHJpbWl0aXZlIHR5cGVzLCBzbyB0aGV5IGNhbid0IGJlIFdlYWtNYXAga2V5cy5cbiAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHRyYW5zZm9ybUNhY2hlLnNldCh2YWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICByZXZlcnNlVHJhbnNmb3JtQ2FjaGUuc2V0KG5ld1ZhbHVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbn1cbmNvbnN0IHVud3JhcCA9ICh2YWx1ZSkgPT4gcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG5cbmV4cG9ydCB7IHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBhcyBhLCBpbnN0YW5jZU9mQW55IGFzIGksIHJlcGxhY2VUcmFwcyBhcyByLCB1bndyYXAgYXMgdSwgd3JhcCBhcyB3IH07XG4iLCAiaW1wb3J0IHsgdyBhcyB3cmFwLCByIGFzIHJlcGxhY2VUcmFwcyB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuZXhwb3J0IHsgdSBhcyB1bndyYXAsIHcgYXMgd3JhcCB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuXG4vKipcbiAqIE9wZW4gYSBkYXRhYmFzZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBkYXRhYmFzZS5cbiAqIEBwYXJhbSB2ZXJzaW9uIFNjaGVtYSB2ZXJzaW9uLlxuICogQHBhcmFtIGNhbGxiYWNrcyBBZGRpdGlvbmFsIGNhbGxiYWNrcy5cbiAqL1xuZnVuY3Rpb24gb3BlbkRCKG5hbWUsIHZlcnNpb24sIHsgYmxvY2tlZCwgdXBncmFkZSwgYmxvY2tpbmcsIHRlcm1pbmF0ZWQgfSA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKG5hbWUsIHZlcnNpb24pO1xuICAgIGNvbnN0IG9wZW5Qcm9taXNlID0gd3JhcChyZXF1ZXN0KTtcbiAgICBpZiAodXBncmFkZSkge1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3VwZ3JhZGVuZWVkZWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHVwZ3JhZGUod3JhcChyZXF1ZXN0LnJlc3VsdCksIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIHdyYXAocmVxdWVzdC50cmFuc2FjdGlvbiksIGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChibG9ja2VkKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsIChldmVudCkgPT4gYmxvY2tlZChcbiAgICAgICAgLy8gQ2FzdGluZyBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0LURPTS1saWItZ2VuZXJhdG9yL3B1bGwvMTQwNVxuICAgICAgICBldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCBldmVudCkpO1xuICAgIH1cbiAgICBvcGVuUHJvbWlzZVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgaWYgKHRlcm1pbmF0ZWQpXG4gICAgICAgICAgICBkYi5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsICgpID0+IHRlcm1pbmF0ZWQoKSk7XG4gICAgICAgIGlmIChibG9ja2luZykge1xuICAgICAgICAgICAgZGIuYWRkRXZlbnRMaXN0ZW5lcigndmVyc2lvbmNoYW5nZScsIChldmVudCkgPT4gYmxvY2tpbmcoZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgZXZlbnQpKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pO1xuICAgIHJldHVybiBvcGVuUHJvbWlzZTtcbn1cbi8qKlxuICogRGVsZXRlIGEgZGF0YWJhc2UuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZGF0YWJhc2UuXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZURCKG5hbWUsIHsgYmxvY2tlZCB9ID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKG5hbWUpO1xuICAgIGlmIChibG9ja2VkKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsIChldmVudCkgPT4gYmxvY2tlZChcbiAgICAgICAgLy8gQ2FzdGluZyBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0LURPTS1saWItZ2VuZXJhdG9yL3B1bGwvMTQwNVxuICAgICAgICBldmVudC5vbGRWZXJzaW9uLCBldmVudCkpO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcChyZXF1ZXN0KS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG59XG5cbmNvbnN0IHJlYWRNZXRob2RzID0gWydnZXQnLCAnZ2V0S2V5JywgJ2dldEFsbCcsICdnZXRBbGxLZXlzJywgJ2NvdW50J107XG5jb25zdCB3cml0ZU1ldGhvZHMgPSBbJ3B1dCcsICdhZGQnLCAnZGVsZXRlJywgJ2NsZWFyJ107XG5jb25zdCBjYWNoZWRNZXRob2RzID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkge1xuICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIElEQkRhdGFiYXNlICYmXG4gICAgICAgICEocHJvcCBpbiB0YXJnZXQpICYmXG4gICAgICAgIHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FjaGVkTWV0aG9kcy5nZXQocHJvcCkpXG4gICAgICAgIHJldHVybiBjYWNoZWRNZXRob2RzLmdldChwcm9wKTtcbiAgICBjb25zdCB0YXJnZXRGdW5jTmFtZSA9IHByb3AucmVwbGFjZSgvRnJvbUluZGV4JC8sICcnKTtcbiAgICBjb25zdCB1c2VJbmRleCA9IHByb3AgIT09IHRhcmdldEZ1bmNOYW1lO1xuICAgIGNvbnN0IGlzV3JpdGUgPSB3cml0ZU1ldGhvZHMuaW5jbHVkZXModGFyZ2V0RnVuY05hbWUpO1xuICAgIGlmIChcbiAgICAvLyBCYWlsIGlmIHRoZSB0YXJnZXQgZG9lc24ndCBleGlzdCBvbiB0aGUgdGFyZ2V0LiBFZywgZ2V0QWxsIGlzbid0IGluIEVkZ2UuXG4gICAgISh0YXJnZXRGdW5jTmFtZSBpbiAodXNlSW5kZXggPyBJREJJbmRleCA6IElEQk9iamVjdFN0b3JlKS5wcm90b3R5cGUpIHx8XG4gICAgICAgICEoaXNXcml0ZSB8fCByZWFkTWV0aG9kcy5pbmNsdWRlcyh0YXJnZXRGdW5jTmFtZSkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0aG9kID0gYXN5bmMgZnVuY3Rpb24gKHN0b3JlTmFtZSwgLi4uYXJncykge1xuICAgICAgICAvLyBpc1dyaXRlID8gJ3JlYWR3cml0ZScgOiB1bmRlZmluZWQgZ3ppcHBzIGJldHRlciwgYnV0IGZhaWxzIGluIEVkZ2UgOihcbiAgICAgICAgY29uc3QgdHggPSB0aGlzLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgaXNXcml0ZSA/ICdyZWFkd3JpdGUnIDogJ3JlYWRvbmx5Jyk7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0eC5zdG9yZTtcbiAgICAgICAgaWYgKHVzZUluZGV4KVxuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmluZGV4KGFyZ3Muc2hpZnQoKSk7XG4gICAgICAgIC8vIE11c3QgcmVqZWN0IGlmIG9wIHJlamVjdHMuXG4gICAgICAgIC8vIElmIGl0J3MgYSB3cml0ZSBvcGVyYXRpb24sIG11c3QgcmVqZWN0IGlmIHR4LmRvbmUgcmVqZWN0cy5cbiAgICAgICAgLy8gTXVzdCByZWplY3Qgd2l0aCBvcCByZWplY3Rpb24gZmlyc3QuXG4gICAgICAgIC8vIE11c3QgcmVzb2x2ZSB3aXRoIG9wIHZhbHVlLlxuICAgICAgICAvLyBNdXN0IGhhbmRsZSBib3RoIHByb21pc2VzIChubyB1bmhhbmRsZWQgcmVqZWN0aW9ucylcbiAgICAgICAgcmV0dXJuIChhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0YXJnZXRbdGFyZ2V0RnVuY05hbWVdKC4uLmFyZ3MpLFxuICAgICAgICAgICAgaXNXcml0ZSAmJiB0eC5kb25lLFxuICAgICAgICBdKSlbMF07XG4gICAgfTtcbiAgICBjYWNoZWRNZXRob2RzLnNldChwcm9wLCBtZXRob2QpO1xuICAgIHJldHVybiBtZXRob2Q7XG59XG5yZXBsYWNlVHJhcHMoKG9sZFRyYXBzKSA9PiAoe1xuICAgIC4uLm9sZFRyYXBzLFxuICAgIGdldDogKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpID0+IGdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHx8IG9sZFRyYXBzLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSxcbiAgICBoYXM6ICh0YXJnZXQsIHByb3ApID0+ICEhZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuaGFzKHRhcmdldCwgcHJvcCksXG59KSk7XG5cbmV4cG9ydCB7IGRlbGV0ZURCLCBvcGVuREIgfTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBDb21wb25lbnRDb250YWluZXIsXG4gIENvbXBvbmVudFR5cGUsXG4gIFByb3ZpZGVyLFxuICBOYW1lXG59IGZyb20gJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlLCBWZXJzaW9uU2VydmljZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbCBpbXBsZW1lbnRzIFBsYXRmb3JtTG9nZ2VyU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOiBDb21wb25lbnRDb250YWluZXIpIHt9XG4gIC8vIEluIGluaXRpYWwgaW1wbGVtZW50YXRpb24sIHRoaXMgd2lsbCBiZSBjYWxsZWQgYnkgaW5zdGFsbGF0aW9ucyBvblxuICAvLyBhdXRoIHRva2VuIHJlZnJlc2gsIGFuZCBpbnN0YWxsYXRpb25zIHdpbGwgc2VuZCB0aGlzIHN0cmluZy5cbiAgZ2V0UGxhdGZvcm1JbmZvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgY29uc3QgcHJvdmlkZXJzID0gdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXJzKCk7XG4gICAgLy8gTG9vcCB0aHJvdWdoIHByb3ZpZGVycyBhbmQgZ2V0IGxpYnJhcnkvdmVyc2lvbiBwYWlycyBmcm9tIGFueSB0aGF0IGFyZVxuICAgIC8vIHZlcnNpb24gY29tcG9uZW50cy5cbiAgICByZXR1cm4gcHJvdmlkZXJzXG4gICAgICAubWFwKHByb3ZpZGVyID0+IHtcbiAgICAgICAgaWYgKGlzVmVyc2lvblNlcnZpY2VQcm92aWRlcihwcm92aWRlcikpIHtcbiAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gcHJvdmlkZXIuZ2V0SW1tZWRpYXRlKCkgYXMgVmVyc2lvblNlcnZpY2U7XG4gICAgICAgICAgcmV0dXJuIGAke3NlcnZpY2UubGlicmFyeX0vJHtzZXJ2aWNlLnZlcnNpb259YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5maWx0ZXIobG9nU3RyaW5nID0+IGxvZ1N0cmluZylcbiAgICAgIC5qb2luKCcgJyk7XG4gIH1cbn1cbi8qKlxuICpcbiAqIEBwYXJhbSBwcm92aWRlciBjaGVjayBpZiB0aGlzIHByb3ZpZGVyIHByb3ZpZGVzIGEgVmVyc2lvblNlcnZpY2VcbiAqXG4gKiBOT1RFOiBVc2luZyBQcm92aWRlcjwnYXBwLXZlcnNpb24nPiBpcyBhIGhhY2sgdG8gaW5kaWNhdGUgdGhhdCB0aGUgcHJvdmlkZXJcbiAqIHByb3ZpZGVzIFZlcnNpb25TZXJ2aWNlLiBUaGUgcHJvdmlkZXIgaXMgbm90IG5lY2Vzc2FyaWx5IGEgJ2FwcC12ZXJzaW9uJ1xuICogcHJvdmlkZXIuXG4gKi9cbmZ1bmN0aW9uIGlzVmVyc2lvblNlcnZpY2VQcm92aWRlcihwcm92aWRlcjogUHJvdmlkZXI8TmFtZT4pOiBib29sZWFuIHtcbiAgY29uc3QgY29tcG9uZW50ID0gcHJvdmlkZXIuZ2V0Q29tcG9uZW50KCk7XG4gIHJldHVybiBjb21wb25lbnQ/LnR5cGUgPT09IENvbXBvbmVudFR5cGUuVkVSU0lPTjtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICdAZmlyZWJhc2UvbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ0BmaXJlYmFzZS9hcHAnKTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBuYW1lIGFzIGFwcE5hbWUgfSBmcm9tICcuLi9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBhcHBDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vYXBwLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBhbmFseXRpY3NDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvYW5hbHl0aWNzLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBhbmFseXRpY3NOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvYW5hbHl0aWNzL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGFwcENoZWNrQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2FwcC1jaGVjay1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgYXBwQ2hlY2tOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvYXBwLWNoZWNrL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGF1dGhOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvYXV0aC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBhdXRoQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2F1dGgtY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGRhdGFiYXNlTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2RhdGFiYXNlL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIGRhdGFjb25uZWN0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2RhdGEtY29ubmVjdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBkYXRhYmFzZUNvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9kYXRhYmFzZS1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgZnVuY3Rpb25zTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2Z1bmN0aW9ucy9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBmdW5jdGlvbnNDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvZnVuY3Rpb25zLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBpbnN0YWxsYXRpb25zTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2luc3RhbGxhdGlvbnMvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgaW5zdGFsbGF0aW9uc0NvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9pbnN0YWxsYXRpb25zLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyBtZXNzYWdpbmdOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvbWVzc2FnaW5nL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIG1lc3NhZ2luZ0NvbXBhdE5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9tZXNzYWdpbmctY29tcGF0L3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIHBlcmZvcm1hbmNlTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL3BlcmZvcm1hbmNlL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIHBlcmZvcm1hbmNlQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL3BlcmZvcm1hbmNlLWNvbXBhdC9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyByZW1vdGVDb25maWdOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvcmVtb3RlLWNvbmZpZy9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyByZW1vdGVDb25maWdDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvcmVtb3RlLWNvbmZpZy1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgc3RvcmFnZU5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9zdG9yYWdlL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBuYW1lIGFzIHN0b3JhZ2VDb21wYXROYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvc3RvcmFnZS1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgZmlyZXN0b3JlTmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2ZpcmVzdG9yZS9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgbmFtZSBhcyB2ZXJ0ZXhOYW1lIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZXMvdmVydGV4YWkvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgZmlyZXN0b3JlQ29tcGF0TmFtZSB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2VzL2ZpcmVzdG9yZS1jb21wYXQvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IG5hbWUgYXMgcGFja2FnZU5hbWUgfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlcy9maXJlYmFzZS9wYWNrYWdlLmpzb24nO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGFwcCBuYW1lXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0VOVFJZX05BTUUgPSAnW0RFRkFVTFRdJztcblxuZXhwb3J0IGNvbnN0IFBMQVRGT1JNX0xPR19TVFJJTkcgPSB7XG4gIFthcHBOYW1lXTogJ2ZpcmUtY29yZScsXG4gIFthcHBDb21wYXROYW1lXTogJ2ZpcmUtY29yZS1jb21wYXQnLFxuICBbYW5hbHl0aWNzTmFtZV06ICdmaXJlLWFuYWx5dGljcycsXG4gIFthbmFseXRpY3NDb21wYXROYW1lXTogJ2ZpcmUtYW5hbHl0aWNzLWNvbXBhdCcsXG4gIFthcHBDaGVja05hbWVdOiAnZmlyZS1hcHAtY2hlY2snLFxuICBbYXBwQ2hlY2tDb21wYXROYW1lXTogJ2ZpcmUtYXBwLWNoZWNrLWNvbXBhdCcsXG4gIFthdXRoTmFtZV06ICdmaXJlLWF1dGgnLFxuICBbYXV0aENvbXBhdE5hbWVdOiAnZmlyZS1hdXRoLWNvbXBhdCcsXG4gIFtkYXRhYmFzZU5hbWVdOiAnZmlyZS1ydGRiJyxcbiAgW2RhdGFjb25uZWN0TmFtZV06ICdmaXJlLWRhdGEtY29ubmVjdCcsXG4gIFtkYXRhYmFzZUNvbXBhdE5hbWVdOiAnZmlyZS1ydGRiLWNvbXBhdCcsXG4gIFtmdW5jdGlvbnNOYW1lXTogJ2ZpcmUtZm4nLFxuICBbZnVuY3Rpb25zQ29tcGF0TmFtZV06ICdmaXJlLWZuLWNvbXBhdCcsXG4gIFtpbnN0YWxsYXRpb25zTmFtZV06ICdmaXJlLWlpZCcsXG4gIFtpbnN0YWxsYXRpb25zQ29tcGF0TmFtZV06ICdmaXJlLWlpZC1jb21wYXQnLFxuICBbbWVzc2FnaW5nTmFtZV06ICdmaXJlLWZjbScsXG4gIFttZXNzYWdpbmdDb21wYXROYW1lXTogJ2ZpcmUtZmNtLWNvbXBhdCcsXG4gIFtwZXJmb3JtYW5jZU5hbWVdOiAnZmlyZS1wZXJmJyxcbiAgW3BlcmZvcm1hbmNlQ29tcGF0TmFtZV06ICdmaXJlLXBlcmYtY29tcGF0JyxcbiAgW3JlbW90ZUNvbmZpZ05hbWVdOiAnZmlyZS1yYycsXG4gIFtyZW1vdGVDb25maWdDb21wYXROYW1lXTogJ2ZpcmUtcmMtY29tcGF0JyxcbiAgW3N0b3JhZ2VOYW1lXTogJ2ZpcmUtZ2NzJyxcbiAgW3N0b3JhZ2VDb21wYXROYW1lXTogJ2ZpcmUtZ2NzLWNvbXBhdCcsXG4gIFtmaXJlc3RvcmVOYW1lXTogJ2ZpcmUtZnN0JyxcbiAgW2ZpcmVzdG9yZUNvbXBhdE5hbWVdOiAnZmlyZS1mc3QtY29tcGF0JyxcbiAgW3ZlcnRleE5hbWVdOiAnZmlyZS12ZXJ0ZXgnLFxuICAnZmlyZS1qcyc6ICdmaXJlLWpzJywgLy8gUGxhdGZvcm0gaWRlbnRpZmllciBmb3IgSlMgU0RLLlxuICBbcGFja2FnZU5hbWVdOiAnZmlyZS1qcy1hbGwnXG59IGFzIGNvbnN0O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEZpcmViYXNlQXBwLFxuICBGaXJlYmFzZU9wdGlvbnMsXG4gIEZpcmViYXNlU2VydmVyQXBwXG59IGZyb20gJy4vcHVibGljLXR5cGVzJztcbmltcG9ydCB7IENvbXBvbmVudCwgUHJvdmlkZXIsIE5hbWUgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IERFRkFVTFRfRU5UUllfTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IEZpcmViYXNlQXBwSW1wbCB9IGZyb20gJy4vZmlyZWJhc2VBcHAnO1xuaW1wb3J0IHsgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsIH0gZnJvbSAnLi9maXJlYmFzZVNlcnZlckFwcCc7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBfYXBwcyA9IG5ldyBNYXA8c3RyaW5nLCBGaXJlYmFzZUFwcD4oKTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IF9zZXJ2ZXJBcHBzID0gbmV3IE1hcDxzdHJpbmcsIEZpcmViYXNlU2VydmVyQXBwPigpO1xuXG4vKipcbiAqIFJlZ2lzdGVyZWQgY29tcG9uZW50cy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBjb25zdCBfY29tcG9uZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBDb21wb25lbnQ8YW55Pj4oKTtcblxuLyoqXG4gKiBAcGFyYW0gY29tcG9uZW50IC0gdGhlIGNvbXBvbmVudCBiZWluZyBhZGRlZCB0byB0aGlzIGFwcCdzIGNvbnRhaW5lclxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gX2FkZENvbXBvbmVudDxUIGV4dGVuZHMgTmFtZT4oXG4gIGFwcDogRmlyZWJhc2VBcHAsXG4gIGNvbXBvbmVudDogQ29tcG9uZW50PFQ+XG4pOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICAoYXBwIGFzIEZpcmViYXNlQXBwSW1wbCkuY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgYENvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSBmYWlsZWQgdG8gcmVnaXN0ZXIgd2l0aCBGaXJlYmFzZUFwcCAke2FwcC5uYW1lfWAsXG4gICAgICBlXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChcbiAgYXBwOiBGaXJlYmFzZUFwcCxcbiAgY29tcG9uZW50OiBDb21wb25lbnRcbik6IHZvaWQge1xuICAoYXBwIGFzIEZpcmViYXNlQXBwSW1wbCkuY29udGFpbmVyLmFkZE9yT3ZlcndyaXRlQ29tcG9uZW50KGNvbXBvbmVudCk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgLSB0aGUgY29tcG9uZW50IHRvIHJlZ2lzdGVyXG4gKiBAcmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5XG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfcmVnaXN0ZXJDb21wb25lbnQ8VCBleHRlbmRzIE5hbWU+KFxuICBjb21wb25lbnQ6IENvbXBvbmVudDxUPlxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQubmFtZTtcbiAgaWYgKF9jb21wb25lbnRzLmhhcyhjb21wb25lbnROYW1lKSkge1xuICAgIGxvZ2dlci5kZWJ1ZyhcbiAgICAgIGBUaGVyZSB3ZXJlIG11bHRpcGxlIGF0dGVtcHRzIHRvIHJlZ2lzdGVyIGNvbXBvbmVudCAke2NvbXBvbmVudE5hbWV9LmBcbiAgICApO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgX2NvbXBvbmVudHMuc2V0KGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudCk7XG5cbiAgLy8gYWRkIHRoZSBjb21wb25lbnQgdG8gZXhpc3RpbmcgYXBwIGluc3RhbmNlc1xuICBmb3IgKGNvbnN0IGFwcCBvZiBfYXBwcy52YWx1ZXMoKSkge1xuICAgIF9hZGRDb21wb25lbnQoYXBwIGFzIEZpcmViYXNlQXBwSW1wbCwgY29tcG9uZW50KTtcbiAgfVxuXG4gIGZvciAoY29uc3Qgc2VydmVyQXBwIG9mIF9zZXJ2ZXJBcHBzLnZhbHVlcygpKSB7XG4gICAgX2FkZENvbXBvbmVudChzZXJ2ZXJBcHAgYXMgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLCBjb21wb25lbnQpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBhcHAgLSBGaXJlYmFzZUFwcCBpbnN0YW5jZVxuICogQHBhcmFtIG5hbWUgLSBzZXJ2aWNlIG5hbWVcbiAqXG4gKiBAcmV0dXJucyB0aGUgcHJvdmlkZXIgZm9yIHRoZSBzZXJ2aWNlIHdpdGggdGhlIG1hdGNoaW5nIG5hbWVcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9nZXRQcm92aWRlcjxUIGV4dGVuZHMgTmFtZT4oXG4gIGFwcDogRmlyZWJhc2VBcHAsXG4gIG5hbWU6IFRcbik6IFByb3ZpZGVyPFQ+IHtcbiAgY29uc3QgaGVhcnRiZWF0Q29udHJvbGxlciA9IChhcHAgYXMgRmlyZWJhc2VBcHBJbXBsKS5jb250YWluZXJcbiAgICAuZ2V0UHJvdmlkZXIoJ2hlYXJ0YmVhdCcpXG4gICAgLmdldEltbWVkaWF0ZSh7IG9wdGlvbmFsOiB0cnVlIH0pO1xuICBpZiAoaGVhcnRiZWF0Q29udHJvbGxlcikge1xuICAgIHZvaWQgaGVhcnRiZWF0Q29udHJvbGxlci50cmlnZ2VySGVhcnRiZWF0KCk7XG4gIH1cbiAgcmV0dXJuIChhcHAgYXMgRmlyZWJhc2VBcHBJbXBsKS5jb250YWluZXIuZ2V0UHJvdmlkZXIobmFtZSk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBhcHAgLSBGaXJlYmFzZUFwcCBpbnN0YW5jZVxuICogQHBhcmFtIG5hbWUgLSBzZXJ2aWNlIG5hbWVcbiAqIEBwYXJhbSBpbnN0YW5jZUlkZW50aWZpZXIgLSBzZXJ2aWNlIGluc3RhbmNlIGlkZW50aWZpZXIgaW4gY2FzZSB0aGUgc2VydmljZSBzdXBwb3J0cyBtdWx0aXBsZSBpbnN0YW5jZXNcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2U8VCBleHRlbmRzIE5hbWU+KFxuICBhcHA6IEZpcmViYXNlQXBwLFxuICBuYW1lOiBULFxuICBpbnN0YW5jZUlkZW50aWZpZXI6IHN0cmluZyA9IERFRkFVTFRfRU5UUllfTkFNRVxuKTogdm9pZCB7XG4gIF9nZXRQcm92aWRlcihhcHAsIG5hbWUpLmNsZWFySW5zdGFuY2UoaW5zdGFuY2VJZGVudGlmaWVyKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIG9iaiAtIGFuIG9iamVjdCBvZiB0eXBlIEZpcmViYXNlQXBwIG9yIEZpcmViYXNlT3B0aW9ucy5cbiAqXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlIG9iamVjdCBpcyBvZiB0eXBlIEZpcmViYXNlQXBwLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gX2lzRmlyZWJhc2VBcHAoXG4gIG9iajogRmlyZWJhc2VBcHAgfCBGaXJlYmFzZU9wdGlvbnNcbik6IG9iaiBpcyBGaXJlYmFzZUFwcCB7XG4gIHJldHVybiAob2JqIGFzIEZpcmViYXNlQXBwKS5vcHRpb25zICE9PSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBvYmogLSBhbiBvYmplY3Qgb2YgdHlwZSBGaXJlYmFzZUFwcC5cbiAqXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBvYmplY3QgaXMgb2YgdHlwZSBGaXJlYmFzZVNlcnZlckFwcEltcGwuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfaXNGaXJlYmFzZVNlcnZlckFwcChcbiAgb2JqOiBGaXJlYmFzZUFwcCB8IEZpcmViYXNlU2VydmVyQXBwXG4pOiBvYmogaXMgRmlyZWJhc2VTZXJ2ZXJBcHAge1xuICByZXR1cm4gKG9iaiBhcyBGaXJlYmFzZVNlcnZlckFwcCkuc2V0dGluZ3MgIT09IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBUZXN0IG9ubHlcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jbGVhckNvbXBvbmVudHMoKTogdm9pZCB7XG4gIF9jb21wb25lbnRzLmNsZWFyKCk7XG59XG5cbi8qKlxuICogRXhwb3J0ZWQgaW4gb3JkZXIgdG8gYmUgdXNlZCBpbiBhcHAtY29tcGF0IHBhY2thZ2VcbiAqL1xuZXhwb3J0IHsgREVGQVVMVF9FTlRSWV9OQU1FIGFzIF9ERUZBVUxUX0VOVFJZX05BTUUgfTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBFcnJvckZhY3RvcnksIEVycm9yTWFwIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5leHBvcnQgY29uc3QgZW51bSBBcHBFcnJvciB7XG4gIE5PX0FQUCA9ICduby1hcHAnLFxuICBCQURfQVBQX05BTUUgPSAnYmFkLWFwcC1uYW1lJyxcbiAgRFVQTElDQVRFX0FQUCA9ICdkdXBsaWNhdGUtYXBwJyxcbiAgQVBQX0RFTEVURUQgPSAnYXBwLWRlbGV0ZWQnLFxuICBTRVJWRVJfQVBQX0RFTEVURUQgPSAnc2VydmVyLWFwcC1kZWxldGVkJyxcbiAgTk9fT1BUSU9OUyA9ICduby1vcHRpb25zJyxcbiAgSU5WQUxJRF9BUFBfQVJHVU1FTlQgPSAnaW52YWxpZC1hcHAtYXJndW1lbnQnLFxuICBJTlZBTElEX0xPR19BUkdVTUVOVCA9ICdpbnZhbGlkLWxvZy1hcmd1bWVudCcsXG4gIElEQl9PUEVOID0gJ2lkYi1vcGVuJyxcbiAgSURCX0dFVCA9ICdpZGItZ2V0JyxcbiAgSURCX1dSSVRFID0gJ2lkYi1zZXQnLFxuICBJREJfREVMRVRFID0gJ2lkYi1kZWxldGUnLFxuICBGSU5BTElaQVRJT05fUkVHSVNUUllfTk9UX1NVUFBPUlRFRCA9ICdmaW5hbGl6YXRpb24tcmVnaXN0cnktbm90LXN1cHBvcnRlZCcsXG4gIElOVkFMSURfU0VSVkVSX0FQUF9FTlZJUk9OTUVOVCA9ICdpbnZhbGlkLXNlcnZlci1hcHAtZW52aXJvbm1lbnQnXG59XG5cbmNvbnN0IEVSUk9SUzogRXJyb3JNYXA8QXBwRXJyb3I+ID0ge1xuICBbQXBwRXJyb3IuTk9fQVBQXTpcbiAgICBcIk5vIEZpcmViYXNlIEFwcCAneyRhcHBOYW1lfScgaGFzIGJlZW4gY3JlYXRlZCAtIFwiICtcbiAgICAnY2FsbCBpbml0aWFsaXplQXBwKCkgZmlyc3QnLFxuICBbQXBwRXJyb3IuQkFEX0FQUF9OQU1FXTogXCJJbGxlZ2FsIEFwcCBuYW1lOiAneyRhcHBOYW1lfSdcIixcbiAgW0FwcEVycm9yLkRVUExJQ0FURV9BUFBdOlxuICAgIFwiRmlyZWJhc2UgQXBwIG5hbWVkICd7JGFwcE5hbWV9JyBhbHJlYWR5IGV4aXN0cyB3aXRoIGRpZmZlcmVudCBvcHRpb25zIG9yIGNvbmZpZ1wiLFxuICBbQXBwRXJyb3IuQVBQX0RFTEVURURdOiBcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBkZWxldGVkXCIsXG4gIFtBcHBFcnJvci5TRVJWRVJfQVBQX0RFTEVURURdOiAnRmlyZWJhc2UgU2VydmVyIEFwcCBoYXMgYmVlbiBkZWxldGVkJyxcbiAgW0FwcEVycm9yLk5PX09QVElPTlNdOlxuICAgICdOZWVkIHRvIHByb3ZpZGUgb3B0aW9ucywgd2hlbiBub3QgYmVpbmcgZGVwbG95ZWQgdG8gaG9zdGluZyB2aWEgc291cmNlLicsXG4gIFtBcHBFcnJvci5JTlZBTElEX0FQUF9BUkdVTUVOVF06XG4gICAgJ2ZpcmViYXNlLnskYXBwTmFtZX0oKSB0YWtlcyBlaXRoZXIgbm8gYXJndW1lbnQgb3IgYSAnICtcbiAgICAnRmlyZWJhc2UgQXBwIGluc3RhbmNlLicsXG4gIFtBcHBFcnJvci5JTlZBTElEX0xPR19BUkdVTUVOVF06XG4gICAgJ0ZpcnN0IGFyZ3VtZW50IHRvIGBvbkxvZ2AgbXVzdCBiZSBudWxsIG9yIGEgZnVuY3Rpb24uJyxcbiAgW0FwcEVycm9yLklEQl9PUEVOXTpcbiAgICAnRXJyb3IgdGhyb3duIHdoZW4gb3BlbmluZyBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxuICBbQXBwRXJyb3IuSURCX0dFVF06XG4gICAgJ0Vycm9yIHRocm93biB3aGVuIHJlYWRpbmcgZnJvbSBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxuICBbQXBwRXJyb3IuSURCX1dSSVRFXTpcbiAgICAnRXJyb3IgdGhyb3duIHdoZW4gd3JpdGluZyB0byBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxuICBbQXBwRXJyb3IuSURCX0RFTEVURV06XG4gICAgJ0Vycm9yIHRocm93biB3aGVuIGRlbGV0aW5nIGZyb20gSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcbiAgW0FwcEVycm9yLkZJTkFMSVpBVElPTl9SRUdJU1RSWV9OT1RfU1VQUE9SVEVEXTpcbiAgICAnRmlyZWJhc2VTZXJ2ZXJBcHAgZGVsZXRlT25EZXJlZiBmaWVsZCBkZWZpbmVkIGJ1dCB0aGUgSlMgcnVudGltZSBkb2VzIG5vdCBzdXBwb3J0IEZpbmFsaXphdGlvblJlZ2lzdHJ5LicsXG4gIFtBcHBFcnJvci5JTlZBTElEX1NFUlZFUl9BUFBfRU5WSVJPTk1FTlRdOlxuICAgICdGaXJlYmFzZVNlcnZlckFwcCBpcyBub3QgZm9yIHVzZSBpbiBicm93c2VyIGVudmlyb25tZW50cy4nXG59O1xuXG5pbnRlcmZhY2UgRXJyb3JQYXJhbXMge1xuICBbQXBwRXJyb3IuTk9fQVBQXTogeyBhcHBOYW1lOiBzdHJpbmcgfTtcbiAgW0FwcEVycm9yLkJBRF9BUFBfTkFNRV06IHsgYXBwTmFtZTogc3RyaW5nIH07XG4gIFtBcHBFcnJvci5EVVBMSUNBVEVfQVBQXTogeyBhcHBOYW1lOiBzdHJpbmcgfTtcbiAgW0FwcEVycm9yLkFQUF9ERUxFVEVEXTogeyBhcHBOYW1lOiBzdHJpbmcgfTtcbiAgW0FwcEVycm9yLklOVkFMSURfQVBQX0FSR1VNRU5UXTogeyBhcHBOYW1lOiBzdHJpbmcgfTtcbiAgW0FwcEVycm9yLklEQl9PUEVOXTogeyBvcmlnaW5hbEVycm9yTWVzc2FnZT86IHN0cmluZyB9O1xuICBbQXBwRXJyb3IuSURCX0dFVF06IHsgb3JpZ2luYWxFcnJvck1lc3NhZ2U/OiBzdHJpbmcgfTtcbiAgW0FwcEVycm9yLklEQl9XUklURV06IHsgb3JpZ2luYWxFcnJvck1lc3NhZ2U/OiBzdHJpbmcgfTtcbiAgW0FwcEVycm9yLklEQl9ERUxFVEVdOiB7IG9yaWdpbmFsRXJyb3JNZXNzYWdlPzogc3RyaW5nIH07XG4gIFtBcHBFcnJvci5GSU5BTElaQVRJT05fUkVHSVNUUllfTk9UX1NVUFBPUlRFRF06IHsgYXBwTmFtZT86IHN0cmluZyB9O1xufVxuXG5leHBvcnQgY29uc3QgRVJST1JfRkFDVE9SWSA9IG5ldyBFcnJvckZhY3Rvcnk8QXBwRXJyb3IsIEVycm9yUGFyYW1zPihcbiAgJ2FwcCcsXG4gICdGaXJlYmFzZScsXG4gIEVSUk9SU1xuKTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBGaXJlYmFzZUFwcCxcbiAgRmlyZWJhc2VPcHRpb25zLFxuICBGaXJlYmFzZUFwcFNldHRpbmdzXG59IGZyb20gJy4vcHVibGljLXR5cGVzJztcbmltcG9ydCB7XG4gIENvbXBvbmVudENvbnRhaW5lcixcbiAgQ29tcG9uZW50LFxuICBDb21wb25lbnRUeXBlXG59IGZyb20gJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgRVJST1JfRkFDVE9SWSwgQXBwRXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5cbmV4cG9ydCBjbGFzcyBGaXJlYmFzZUFwcEltcGwgaW1wbGVtZW50cyBGaXJlYmFzZUFwcCB7XG4gIHByb3RlY3RlZCByZWFkb25seSBfb3B0aW9uczogRmlyZWJhc2VPcHRpb25zO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIE9yaWdpbmFsIGNvbmZpZyB2YWx1ZXMgcGFzc2VkIGluIGFzIGEgY29uc3RydWN0b3IgcGFyYW1ldGVyLlxuICAgKiBJdCBpcyBvbmx5IHVzZWQgdG8gY29tcGFyZSB3aXRoIGFub3RoZXIgY29uZmlnIG9iamVjdCB0byBzdXBwb3J0IGlkZW1wb3RlbnQgaW5pdGlhbGl6ZUFwcCgpLlxuICAgKlxuICAgKiBVcGRhdGluZyBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgb24gdGhlIEFwcCBpbnN0YW5jZSB3aWxsIG5vdCBjaGFuZ2UgaXRzIHZhbHVlIGluIF9jb25maWcuXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IF9jb25maWc6IFJlcXVpcmVkPEZpcmViYXNlQXBwU2V0dGluZ3M+O1xuICBwcml2YXRlIF9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IGJvb2xlYW47XG4gIHByb3RlY3RlZCBfaXNEZWxldGVkID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgX2NvbnRhaW5lcjogQ29tcG9uZW50Q29udGFpbmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIG9wdGlvbnM6IEZpcmViYXNlT3B0aW9ucyxcbiAgICBjb25maWc6IFJlcXVpcmVkPEZpcmViYXNlQXBwU2V0dGluZ3M+LFxuICAgIGNvbnRhaW5lcjogQ29tcG9uZW50Q29udGFpbmVyXG4gICkge1xuICAgIHRoaXMuX29wdGlvbnMgPSB7IC4uLm9wdGlvbnMgfTtcbiAgICB0aGlzLl9jb25maWcgPSB7IC4uLmNvbmZpZyB9O1xuICAgIHRoaXMuX25hbWUgPSBjb25maWcubmFtZTtcbiAgICB0aGlzLl9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPVxuICAgICAgY29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5jb250YWluZXIuYWRkQ29tcG9uZW50KFxuICAgICAgbmV3IENvbXBvbmVudCgnYXBwJywgKCkgPT4gdGhpcywgQ29tcG9uZW50VHlwZS5QVUJMSUMpXG4gICAgKTtcbiAgfVxuXG4gIGdldCBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHJldHVybiB0aGlzLl9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ7XG4gIH1cblxuICBzZXQgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkKHZhbDogYm9vbGVhbikge1xuICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcbiAgICB0aGlzLl9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPSB2YWw7XG4gIH1cblxuICBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgfVxuXG4gIGdldCBvcHRpb25zKCk6IEZpcmViYXNlT3B0aW9ucyB7XG4gICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xuICB9XG5cbiAgZ2V0IGNvbmZpZygpOiBSZXF1aXJlZDxGaXJlYmFzZUFwcFNldHRpbmdzPiB7XG4gICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gIH1cblxuICBnZXQgY29udGFpbmVyKCk6IENvbXBvbmVudENvbnRhaW5lciB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcbiAgfVxuXG4gIGdldCBpc0RlbGV0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2lzRGVsZXRlZDtcbiAgfVxuXG4gIHNldCBpc0RlbGV0ZWQodmFsOiBib29sZWFuKSB7XG4gICAgdGhpcy5faXNEZWxldGVkID0gdmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyBhbiBFcnJvciBpZiB0aGUgQXBwIGhhcyBhbHJlYWR5IGJlZW4gZGVsZXRlZCAtXG4gICAqIHVzZSBiZWZvcmUgcGVyZm9ybWluZyBBUEkgYWN0aW9ucyBvbiB0aGUgQXBwLlxuICAgKi9cbiAgcHJvdGVjdGVkIGNoZWNrRGVzdHJveWVkKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzRGVsZXRlZCkge1xuICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuQVBQX0RFTEVURUQsIHsgYXBwTmFtZTogdGhpcy5fbmFtZSB9KTtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBGaXJlYmFzZUFwcFNldHRpbmdzLFxuICBGaXJlYmFzZVNlcnZlckFwcCxcbiAgRmlyZWJhc2VTZXJ2ZXJBcHBTZXR0aW5ncyxcbiAgRmlyZWJhc2VPcHRpb25zXG59IGZyb20gJy4vcHVibGljLXR5cGVzJztcbmltcG9ydCB7IGRlbGV0ZUFwcCwgcmVnaXN0ZXJWZXJzaW9uIH0gZnJvbSAnLi9hcGknO1xuaW1wb3J0IHsgQ29tcG9uZW50Q29udGFpbmVyIH0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBGaXJlYmFzZUFwcEltcGwgfSBmcm9tICcuL2ZpcmViYXNlQXBwJztcbmltcG9ydCB7IEVSUk9SX0ZBQ1RPUlksIEFwcEVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHsgbmFtZSBhcyBwYWNrYWdlTmFtZSwgdmVyc2lvbiB9IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5cbmV4cG9ydCBjbGFzcyBGaXJlYmFzZVNlcnZlckFwcEltcGxcbiAgZXh0ZW5kcyBGaXJlYmFzZUFwcEltcGxcbiAgaW1wbGVtZW50cyBGaXJlYmFzZVNlcnZlckFwcFxue1xuICBwcml2YXRlIHJlYWRvbmx5IF9zZXJ2ZXJDb25maWc6IEZpcmViYXNlU2VydmVyQXBwU2V0dGluZ3M7XG4gIHByaXZhdGUgX2ZpbmFsaXphdGlvblJlZ2lzdHJ5OiBGaW5hbGl6YXRpb25SZWdpc3RyeTxvYmplY3Q+IHwgbnVsbDtcbiAgcHJpdmF0ZSBfcmVmQ291bnQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBvcHRpb25zOiBGaXJlYmFzZU9wdGlvbnMgfCBGaXJlYmFzZUFwcEltcGwsXG4gICAgc2VydmVyQ29uZmlnOiBGaXJlYmFzZVNlcnZlckFwcFNldHRpbmdzLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBjb250YWluZXI6IENvbXBvbmVudENvbnRhaW5lclxuICApIHtcbiAgICAvLyBCdWlsZCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgZm9yIHRoZSBGaXJlYmFzZUFwcEltcGwgYmFzZSBjbGFzcy5cbiAgICBjb25zdCBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPVxuICAgICAgc2VydmVyQ29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gc2VydmVyQ29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZFxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBGaXJlYmFzZUFwcFNldHRpbmdzIG9iamVjdCBmb3IgdGhlIEZpcmViYXNlQXBwSW1wIGNvbnN0cnVjdG9yLlxuICAgIGNvbnN0IGNvbmZpZzogUmVxdWlyZWQ8RmlyZWJhc2VBcHBTZXR0aW5ncz4gPSB7XG4gICAgICBuYW1lLFxuICAgICAgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXG4gICAgfTtcblxuICAgIGlmICgob3B0aW9ucyBhcyBGaXJlYmFzZU9wdGlvbnMpLmFwaUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBDb25zdHJ1Y3QgdGhlIHBhcmVudCBGaXJlYmFzZUFwcEltcCBvYmplY3QuXG4gICAgICBzdXBlcihvcHRpb25zIGFzIEZpcmViYXNlT3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhcHBJbXBsOiBGaXJlYmFzZUFwcEltcGwgPSBvcHRpb25zIGFzIEZpcmViYXNlQXBwSW1wbDtcbiAgICAgIHN1cGVyKGFwcEltcGwub3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpO1xuICAgIH1cblxuICAgIC8vIE5vdyBjb25zdHJ1Y3QgdGhlIGRhdGEgZm9yIHRoZSBGaXJlYmFzZVNlcnZlckFwcEltcGwuXG4gICAgdGhpcy5fc2VydmVyQ29uZmlnID0ge1xuICAgICAgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkLFxuICAgICAgLi4uc2VydmVyQ29uZmlnXG4gICAgfTtcblxuICAgIHRoaXMuX2ZpbmFsaXphdGlvblJlZ2lzdHJ5ID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5fZmluYWxpemF0aW9uUmVnaXN0cnkgPSBuZXcgRmluYWxpemF0aW9uUmVnaXN0cnkoKCkgPT4ge1xuICAgICAgICB0aGlzLmF1dG9tYXRpY0NsZWFudXAoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZkNvdW50ID0gMDtcbiAgICB0aGlzLmluY1JlZkNvdW50KHRoaXMuX3NlcnZlckNvbmZpZy5yZWxlYXNlT25EZXJlZik7XG5cbiAgICAvLyBEbyBub3QgcmV0YWluIGEgaGFyZCByZWZlcmVuY2UgdG8gdGhlIGRyZWYgb2JqZWN0LCBvdGhlcndpc2UgdGhlIEZpbmFsaXphdGlvblJlZ2lzdHJ5XG4gICAgLy8gd2lsbCBuZXZlciB0cmlnZ2VyLlxuICAgIHRoaXMuX3NlcnZlckNvbmZpZy5yZWxlYXNlT25EZXJlZiA9IHVuZGVmaW5lZDtcbiAgICBzZXJ2ZXJDb25maWcucmVsZWFzZU9uRGVyZWYgPSB1bmRlZmluZWQ7XG5cbiAgICByZWdpc3RlclZlcnNpb24ocGFja2FnZU5hbWUsIHZlcnNpb24sICdzZXJ2ZXJhcHAnKTtcbiAgfVxuXG4gIHRvSlNPTigpOiB1bmRlZmluZWQge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXQgcmVmQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fcmVmQ291bnQ7XG4gIH1cblxuICAvLyBJbmNyZW1lbnQgdGhlIHJlZmVyZW5jZSBjb3VudCBvZiB0aGlzIHNlcnZlciBhcHAuIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCwgcmVnaXN0ZXIgaXRcbiAgLy8gd2l0aCB0aGUgZmluYWxpemF0aW9uIHJlZ2lzdHJ5LlxuICBpbmNSZWZDb3VudChvYmo6IG9iamVjdCB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzRGVsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9yZWZDb3VudCsrO1xuICAgIGlmIChvYmogIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5fZmluYWxpemF0aW9uUmVnaXN0cnkucmVnaXN0ZXIob2JqLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBjb3VudC5cbiAgZGVjUmVmQ291bnQoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gLS10aGlzLl9yZWZDb3VudDtcbiAgfVxuXG4gIC8vIEludm9rZWQgYnkgdGhlIEZpbmFsaXphdGlvblJlZ2lzdHJ5IGNhbGxiYWNrIHRvIG5vdGUgdGhhdCB0aGlzIGFwcCBzaG91bGQgZ28gdGhyb3VnaCBpdHNcbiAgLy8gcmVmZXJlbmNlIGNvdW50cyBhbmQgZGVsZXRlIGl0c2VsZiBpZiBubyByZWZlcmVuY2UgY291bnQgcmVtYWluLiBUaGUgY29vcmRpbmF0aW5nIGxvZ2ljIHRoYXRcbiAgLy8gaGFuZGxlcyB0aGlzIGlzIGluIGRlbGV0ZUFwcCguLi4pLlxuICBwcml2YXRlIGF1dG9tYXRpY0NsZWFudXAoKTogdm9pZCB7XG4gICAgdm9pZCBkZWxldGVBcHAodGhpcyk7XG4gIH1cblxuICBnZXQgc2V0dGluZ3MoKTogRmlyZWJhc2VTZXJ2ZXJBcHBTZXR0aW5ncyB7XG4gICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJDb25maWc7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIEVycm9yIGlmIHRoZSBBcHAgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkIC1cbiAgICogdXNlIGJlZm9yZSBwZXJmb3JtaW5nIEFQSSBhY3Rpb25zIG9uIHRoZSBBcHAuXG4gICAqL1xuICBwcm90ZWN0ZWQgY2hlY2tEZXN0cm95ZWQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNEZWxldGVkKSB7XG4gICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5TRVJWRVJfQVBQX0RFTEVURUQpO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEZpcmViYXNlQXBwLFxuICBGaXJlYmFzZVNlcnZlckFwcCxcbiAgRmlyZWJhc2VPcHRpb25zLFxuICBGaXJlYmFzZUFwcFNldHRpbmdzLFxuICBGaXJlYmFzZVNlcnZlckFwcFNldHRpbmdzXG59IGZyb20gJy4vcHVibGljLXR5cGVzJztcbmltcG9ydCB7IERFRkFVTFRfRU5UUllfTkFNRSwgUExBVEZPUk1fTE9HX1NUUklORyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IEVSUk9SX0ZBQ1RPUlksIEFwcEVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHtcbiAgQ29tcG9uZW50Q29udGFpbmVyLFxuICBDb21wb25lbnQsXG4gIE5hbWUsXG4gIENvbXBvbmVudFR5cGVcbn0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vLi4vZmlyZWJhc2UvcGFja2FnZS5qc29uJztcbmltcG9ydCB7IEZpcmViYXNlQXBwSW1wbCB9IGZyb20gJy4vZmlyZWJhc2VBcHAnO1xuaW1wb3J0IHsgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsIH0gZnJvbSAnLi9maXJlYmFzZVNlcnZlckFwcCc7XG5pbXBvcnQge1xuICBfYXBwcyxcbiAgX2NvbXBvbmVudHMsXG4gIF9pc0ZpcmViYXNlQXBwLFxuICBfcmVnaXN0ZXJDb21wb25lbnQsXG4gIF9zZXJ2ZXJBcHBzXG59IGZyb20gJy4vaW50ZXJuYWwnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHtcbiAgTG9nTGV2ZWxTdHJpbmcsXG4gIHNldExvZ0xldmVsIGFzIHNldExvZ0xldmVsSW1wbCxcbiAgTG9nQ2FsbGJhY2ssXG4gIExvZ09wdGlvbnMsXG4gIHNldFVzZXJMb2dIYW5kbGVyXG59IGZyb20gJ0BmaXJlYmFzZS9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZGVlcEVxdWFsLFxuICBnZXREZWZhdWx0QXBwQ29uZmlnLFxuICBpc0Jyb3dzZXIsXG4gIGlzV2ViV29ya2VyXG59IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuZXhwb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuLyoqXG4gKiBUaGUgY3VycmVudCBTREsgdmVyc2lvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBTREtfVkVSU0lPTiA9IHZlcnNpb247XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZUFwcH0gaW5zdGFuY2UuXG4gKlxuICogU2VlXG4gKiB7QGxpbmtcbiAqICAgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3Mvd2ViL3NldHVwI2FkZF9maXJlYmFzZV90b195b3VyX2FwcFxuICogICB8IEFkZCBGaXJlYmFzZSB0byB5b3VyIGFwcH0gYW5kXG4gKiB7QGxpbmtcbiAqICAgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3Mvd2ViL3NldHVwI211bHRpcGxlLXByb2plY3RzXG4gKiAgIHwgSW5pdGlhbGl6ZSBtdWx0aXBsZSBwcm9qZWN0c30gZm9yIGRldGFpbGVkIGRvY3VtZW50YXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiAvLyBJbml0aWFsaXplIGRlZmF1bHQgYXBwXG4gKiAvLyBSZXRyaWV2ZSB5b3VyIG93biBvcHRpb25zIHZhbHVlcyBieSBhZGRpbmcgYSB3ZWIgYXBwIG9uXG4gKiAvLyBodHRwczovL2NvbnNvbGUuZmlyZWJhc2UuZ29vZ2xlLmNvbVxuICogaW5pdGlhbGl6ZUFwcCh7XG4gKiAgIGFwaUtleTogXCJBSXphLi4uLlwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXV0aCAvIEdlbmVyYWwgVXNlXG4gKiAgIGF1dGhEb21haW46IFwiWU9VUl9BUFAuZmlyZWJhc2VhcHAuY29tXCIsICAgICAgICAgLy8gQXV0aCB3aXRoIHBvcHVwL3JlZGlyZWN0XG4gKiAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vWU9VUl9BUFAuZmlyZWJhc2Vpby5jb21cIiwgLy8gUmVhbHRpbWUgRGF0YWJhc2VcbiAqICAgc3RvcmFnZUJ1Y2tldDogXCJZT1VSX0FQUC5hcHBzcG90LmNvbVwiLCAgICAgICAgICAvLyBTdG9yYWdlXG4gKiAgIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjEyMzQ1Njc4OVwiICAgICAgICAgICAgICAgICAgLy8gQ2xvdWQgTWVzc2FnaW5nXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogLy8gSW5pdGlhbGl6ZSBhbm90aGVyIGFwcFxuICogY29uc3Qgb3RoZXJBcHAgPSBpbml0aWFsaXplQXBwKHtcbiAqICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly88T1RIRVJfREFUQUJBU0VfTkFNRT4uZmlyZWJhc2Vpby5jb21cIixcbiAqICAgc3RvcmFnZUJ1Y2tldDogXCI8T1RIRVJfU1RPUkFHRV9CVUNLRVQ+LmFwcHNwb3QuY29tXCJcbiAqIH0sIFwib3RoZXJBcHBcIik7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gY29uZmlndXJlIHRoZSBhcHAncyBzZXJ2aWNlcy5cbiAqIEBwYXJhbSBuYW1lIC0gT3B0aW9uYWwgbmFtZSBvZiB0aGUgYXBwIHRvIGluaXRpYWxpemUuIElmIG5vIG5hbWVcbiAqICAgaXMgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGlzIGBcIltERUZBVUxUXVwiYC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgaW5pdGlhbGl6ZWQgYXBwLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVBcHAoXG4gIG9wdGlvbnM6IEZpcmViYXNlT3B0aW9ucyxcbiAgbmFtZT86IHN0cmluZ1xuKTogRmlyZWJhc2VBcHA7XG4vKipcbiAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgRmlyZWJhc2VBcHAgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIHRvIGNvbmZpZ3VyZSB0aGUgYXBwJ3Mgc2VydmljZXMuXG4gKiBAcGFyYW0gY29uZmlnIC0gRmlyZWJhc2VBcHAgQ29uZmlndXJhdGlvblxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVBcHAoXG4gIG9wdGlvbnM6IEZpcmViYXNlT3B0aW9ucyxcbiAgY29uZmlnPzogRmlyZWJhc2VBcHBTZXR0aW5nc1xuKTogRmlyZWJhc2VBcHA7XG4vKipcbiAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEgRmlyZWJhc2VBcHAgaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcCgpOiBGaXJlYmFzZUFwcDtcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQXBwKFxuICBfb3B0aW9ucz86IEZpcmViYXNlT3B0aW9ucyxcbiAgcmF3Q29uZmlnID0ge31cbik6IEZpcmViYXNlQXBwIHtcbiAgbGV0IG9wdGlvbnMgPSBfb3B0aW9ucztcblxuICBpZiAodHlwZW9mIHJhd0NvbmZpZyAhPT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBuYW1lID0gcmF3Q29uZmlnO1xuICAgIHJhd0NvbmZpZyA9IHsgbmFtZSB9O1xuICB9XG5cbiAgY29uc3QgY29uZmlnOiBSZXF1aXJlZDxGaXJlYmFzZUFwcFNldHRpbmdzPiA9IHtcbiAgICBuYW1lOiBERUZBVUxUX0VOVFJZX05BTUUsXG4gICAgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkOiBmYWxzZSxcbiAgICAuLi5yYXdDb25maWdcbiAgfTtcbiAgY29uc3QgbmFtZSA9IGNvbmZpZy5uYW1lO1xuXG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgIW5hbWUpIHtcbiAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5CQURfQVBQX05BTUUsIHtcbiAgICAgIGFwcE5hbWU6IFN0cmluZyhuYW1lKVxuICAgIH0pO1xuICB9XG5cbiAgb3B0aW9ucyB8fD0gZ2V0RGVmYXVsdEFwcENvbmZpZygpO1xuXG4gIGlmICghb3B0aW9ucykge1xuICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLk5PX09QVElPTlMpO1xuICB9XG5cbiAgY29uc3QgZXhpc3RpbmdBcHAgPSBfYXBwcy5nZXQobmFtZSkgYXMgRmlyZWJhc2VBcHBJbXBsO1xuICBpZiAoZXhpc3RpbmdBcHApIHtcbiAgICAvLyByZXR1cm4gdGhlIGV4aXN0aW5nIGFwcCBpZiBvcHRpb25zIGFuZCBjb25maWcgZGVlcCBlcXVhbCB0aGUgb25lcyBpbiB0aGUgZXhpc3RpbmcgYXBwLlxuICAgIGlmIChcbiAgICAgIGRlZXBFcXVhbChvcHRpb25zLCBleGlzdGluZ0FwcC5vcHRpb25zKSAmJlxuICAgICAgZGVlcEVxdWFsKGNvbmZpZywgZXhpc3RpbmdBcHAuY29uZmlnKVxuICAgICkge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nQXBwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5EVVBMSUNBVEVfQVBQLCB7IGFwcE5hbWU6IG5hbWUgfSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY29udGFpbmVyID0gbmV3IENvbXBvbmVudENvbnRhaW5lcihuYW1lKTtcbiAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgX2NvbXBvbmVudHMudmFsdWVzKCkpIHtcbiAgICBjb250YWluZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XG4gIH1cblxuICBjb25zdCBuZXdBcHAgPSBuZXcgRmlyZWJhc2VBcHBJbXBsKG9wdGlvbnMsIGNvbmZpZywgY29udGFpbmVyKTtcblxuICBfYXBwcy5zZXQobmFtZSwgbmV3QXBwKTtcblxuICByZXR1cm4gbmV3QXBwO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW5kIGluaXRpYWxpemVzIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9IGluc3RhbmNlLlxuICpcbiAqIFRoZSBgRmlyZWJhc2VTZXJ2ZXJBcHBgIGlzIHNpbWlsYXIgdG8gYEZpcmViYXNlQXBwYCwgYnV0IGlzIGludGVuZGVkIGZvciBleGVjdXRpb24gaW5cbiAqIHNlcnZlciBzaWRlIHJlbmRlcmluZyBlbnZpcm9ubWVudHMgb25seS4gSW5pdGlhbGl6YXRpb24gd2lsbCBmYWlsIGlmIGludm9rZWQgZnJvbSBhXG4gKiBicm93c2VyIGVudmlyb25tZW50LlxuICpcbiAqIFNlZVxuICoge0BsaW5rXG4gKiAgIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL3dlYi9zZXR1cCNhZGRfZmlyZWJhc2VfdG9feW91cl9hcHBcbiAqICAgfCBBZGQgRmlyZWJhc2UgdG8geW91ciBhcHB9IGFuZFxuICoge0BsaW5rXG4gKiAgIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL3dlYi9zZXR1cCNtdWx0aXBsZS1wcm9qZWN0c1xuICogICB8IEluaXRpYWxpemUgbXVsdGlwbGUgcHJvamVjdHN9IGZvciBkZXRhaWxlZCBkb2N1bWVudGF0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogLy8gSW5pdGlhbGl6ZSBhbiBpbnN0YW5jZSBvZiBgRmlyZWJhc2VTZXJ2ZXJBcHBgLlxuICogLy8gUmV0cmlldmUgeW91ciBvd24gb3B0aW9ucyB2YWx1ZXMgYnkgYWRkaW5nIGEgd2ViIGFwcCBvblxuICogLy8gaHR0cHM6Ly9jb25zb2xlLmZpcmViYXNlLmdvb2dsZS5jb21cbiAqIGluaXRpYWxpemVTZXJ2ZXJBcHAoe1xuICogICAgIGFwaUtleTogXCJBSXphLi4uLlwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXV0aCAvIEdlbmVyYWwgVXNlXG4gKiAgICAgYXV0aERvbWFpbjogXCJZT1VSX0FQUC5maXJlYmFzZWFwcC5jb21cIiwgICAgICAgICAvLyBBdXRoIHdpdGggcG9wdXAvcmVkaXJlY3RcbiAqICAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL1lPVVJfQVBQLmZpcmViYXNlaW8uY29tXCIsIC8vIFJlYWx0aW1lIERhdGFiYXNlXG4gKiAgICAgc3RvcmFnZUJ1Y2tldDogXCJZT1VSX0FQUC5hcHBzcG90LmNvbVwiLCAgICAgICAgICAvLyBTdG9yYWdlXG4gKiAgICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiMTIzNDU2Nzg5XCIgICAgICAgICAgICAgICAgICAvLyBDbG91ZCBNZXNzYWdpbmdcbiAqICAgfSxcbiAqICAge1xuICogICAgYXV0aElkVG9rZW46IFwiWW91ciBBdXRoIElEIFRva2VuXCJcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIGBGaXJlYmFzZS5BcHBPcHRpb25zYCB0byBjb25maWd1cmUgdGhlIGFwcCdzIHNlcnZpY2VzLCBvciBhXG4gKiAgIGEgYEZpcmViYXNlQXBwYCBpbnN0YW5jZSB3aGljaCBjb250YWlucyB0aGUgYEFwcE9wdGlvbnNgIHdpdGhpbi5cbiAqIEBwYXJhbSBjb25maWcgLSBgRmlyZWJhc2VTZXJ2ZXJBcHBgIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQHJldHVybnMgVGhlIGluaXRpYWxpemVkIGBGaXJlYmFzZVNlcnZlckFwcGAuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlcnZlckFwcChcbiAgb3B0aW9uczogRmlyZWJhc2VPcHRpb25zIHwgRmlyZWJhc2VBcHAsXG4gIGNvbmZpZzogRmlyZWJhc2VTZXJ2ZXJBcHBTZXR0aW5nc1xuKTogRmlyZWJhc2VTZXJ2ZXJBcHA7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplU2VydmVyQXBwKFxuICBfb3B0aW9uczogRmlyZWJhc2VPcHRpb25zIHwgRmlyZWJhc2VBcHAsXG4gIF9zZXJ2ZXJBcHBDb25maWc6IEZpcmViYXNlU2VydmVyQXBwU2V0dGluZ3Ncbik6IEZpcmViYXNlU2VydmVyQXBwIHtcbiAgaWYgKGlzQnJvd3NlcigpICYmICFpc1dlYldvcmtlcigpKSB7XG4gICAgLy8gRmlyZWJhc2VTZXJ2ZXJBcHAgaXNuJ3QgZGVzaWduZWQgdG8gYmUgcnVuIGluIGJyb3dzZXJzLlxuICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLklOVkFMSURfU0VSVkVSX0FQUF9FTlZJUk9OTUVOVCk7XG4gIH1cblxuICBpZiAoX3NlcnZlckFwcENvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xuICAgIF9zZXJ2ZXJBcHBDb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICBsZXQgYXBwT3B0aW9uczogRmlyZWJhc2VPcHRpb25zO1xuICBpZiAoX2lzRmlyZWJhc2VBcHAoX29wdGlvbnMpKSB7XG4gICAgYXBwT3B0aW9ucyA9IF9vcHRpb25zLm9wdGlvbnM7XG4gIH0gZWxzZSB7XG4gICAgYXBwT3B0aW9ucyA9IF9vcHRpb25zO1xuICB9XG5cbiAgLy8gQnVpbGQgYW4gYXBwIG5hbWUgYmFzZWQgb24gYSBoYXNoIG9mIHRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gIGNvbnN0IG5hbWVPYmogPSB7XG4gICAgLi4uX3NlcnZlckFwcENvbmZpZyxcbiAgICAuLi5hcHBPcHRpb25zXG4gIH07XG5cbiAgLy8gSG93ZXZlciwgRG8gbm90IG1hbmdsZSB0aGUgbmFtZSBiYXNlZCBvbiByZWxlYXNlT25EZXJlZiwgc2luY2UgaXQgd2lsbCB2YXJ5IGJldHdlZW4gdGhlXG4gIC8vIGNvbnN0cnVjdGlvbiBvZiBGaXJlYmFzZVNlcnZlckFwcCBpbnN0YW5jZXMuIEZvciBleGFtcGxlLCBpZiB0aGUgb2JqZWN0IGlzIHRoZSByZXF1ZXN0IGhlYWRlcnMuXG4gIGlmIChuYW1lT2JqLnJlbGVhc2VPbkRlcmVmICE9PSB1bmRlZmluZWQpIHtcbiAgICBkZWxldGUgbmFtZU9iai5yZWxlYXNlT25EZXJlZjtcbiAgfVxuXG4gIGNvbnN0IGhhc2hDb2RlID0gKHM6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gICAgcmV0dXJuIFsuLi5zXS5yZWR1Y2UoXG4gICAgICAoaGFzaCwgYykgPT4gKE1hdGguaW11bCgzMSwgaGFzaCkgKyBjLmNoYXJDb2RlQXQoMCkpIHwgMCxcbiAgICAgIDBcbiAgICApO1xuICB9O1xuXG4gIGlmIChfc2VydmVyQXBwQ29uZmlnLnJlbGVhc2VPbkRlcmVmICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXG4gICAgICAgIEFwcEVycm9yLkZJTkFMSVpBVElPTl9SRUdJU1RSWV9OT1RfU1VQUE9SVEVELFxuICAgICAgICB7fVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBuYW1lU3RyaW5nID0gJycgKyBoYXNoQ29kZShKU09OLnN0cmluZ2lmeShuYW1lT2JqKSk7XG4gIGNvbnN0IGV4aXN0aW5nQXBwID0gX3NlcnZlckFwcHMuZ2V0KG5hbWVTdHJpbmcpIGFzIEZpcmViYXNlU2VydmVyQXBwO1xuICBpZiAoZXhpc3RpbmdBcHApIHtcbiAgICAoZXhpc3RpbmdBcHAgYXMgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsKS5pbmNSZWZDb3VudChcbiAgICAgIF9zZXJ2ZXJBcHBDb25maWcucmVsZWFzZU9uRGVyZWZcbiAgICApO1xuICAgIHJldHVybiBleGlzdGluZ0FwcDtcbiAgfVxuXG4gIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBDb21wb25lbnRDb250YWluZXIobmFtZVN0cmluZyk7XG4gIGZvciAoY29uc3QgY29tcG9uZW50IG9mIF9jb21wb25lbnRzLnZhbHVlcygpKSB7XG4gICAgY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xuICB9XG5cbiAgY29uc3QgbmV3QXBwID0gbmV3IEZpcmViYXNlU2VydmVyQXBwSW1wbChcbiAgICBhcHBPcHRpb25zLFxuICAgIF9zZXJ2ZXJBcHBDb25maWcsXG4gICAgbmFtZVN0cmluZyxcbiAgICBjb250YWluZXJcbiAgKTtcblxuICBfc2VydmVyQXBwcy5zZXQobmFtZVN0cmluZywgbmV3QXBwKTtcblxuICByZXR1cm4gbmV3QXBwO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBpbnN0YW5jZS5cbiAqXG4gKiBXaGVuIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cywgdGhlIGRlZmF1bHQgYXBwIGlzIHJldHVybmVkLiBXaGVuIGFuIGFwcCBuYW1lXG4gKiBpcyBwcm92aWRlZCwgdGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoYXQgbmFtZSBpcyByZXR1cm5lZC5cbiAqXG4gKiBBbiBleGNlcHRpb24gaXMgdGhyb3duIGlmIHRoZSBhcHAgYmVpbmcgcmV0cmlldmVkIGhhcyBub3QgeWV0IGJlZW5cbiAqIGluaXRpYWxpemVkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBSZXR1cm4gdGhlIGRlZmF1bHQgYXBwXG4gKiBjb25zdCBhcHAgPSBnZXRBcHAoKTtcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBSZXR1cm4gYSBuYW1lZCBhcHBcbiAqIGNvbnN0IG90aGVyQXBwID0gZ2V0QXBwKFwib3RoZXJBcHBcIik7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gbmFtZSAtIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGFwcCB0byByZXR1cm4uIElmIG5vIG5hbWUgaXNcbiAqICAgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGlzIGBcIltERUZBVUxUXVwiYC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgYXBwIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3ZpZGVkIGFwcCBuYW1lLlxuICogICBJZiBubyBhcHAgbmFtZSBpcyBwcm92aWRlZCwgdGhlIGRlZmF1bHQgYXBwIGlzIHJldHVybmVkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFwcChuYW1lOiBzdHJpbmcgPSBERUZBVUxUX0VOVFJZX05BTUUpOiBGaXJlYmFzZUFwcCB7XG4gIGNvbnN0IGFwcCA9IF9hcHBzLmdldChuYW1lKTtcbiAgaWYgKCFhcHAgJiYgbmFtZSA9PT0gREVGQVVMVF9FTlRSWV9OQU1FICYmIGdldERlZmF1bHRBcHBDb25maWcoKSkge1xuICAgIHJldHVybiBpbml0aWFsaXplQXBwKCk7XG4gIH1cbiAgaWYgKCFhcHApIHtcbiAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5OT19BUFAsIHsgYXBwTmFtZTogbmFtZSB9KTtcbiAgfVxuXG4gIHJldHVybiBhcHA7XG59XG5cbi8qKlxuICogQSAocmVhZC1vbmx5KSBhcnJheSBvZiBhbGwgaW5pdGlhbGl6ZWQgYXBwcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFwcHMoKTogRmlyZWJhc2VBcHBbXSB7XG4gIHJldHVybiBBcnJheS5mcm9tKF9hcHBzLnZhbHVlcygpKTtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIHRoaXMgYXBwIHVudXNhYmxlIGFuZCBmcmVlcyB0aGUgcmVzb3VyY2VzIG9mIGFsbCBhc3NvY2lhdGVkXG4gKiBzZXJ2aWNlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogZGVsZXRlQXBwKGFwcClcbiAqICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gKiAgICAgY29uc29sZS5sb2coXCJBcHAgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gKiAgIH0pXG4gKiAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICogICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgZGVsZXRpbmcgYXBwOlwiLCBlcnJvcik7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQXBwKGFwcDogRmlyZWJhc2VBcHApOiBQcm9taXNlPHZvaWQ+IHtcbiAgbGV0IGNsZWFudXBQcm92aWRlcnMgPSBmYWxzZTtcbiAgY29uc3QgbmFtZSA9IGFwcC5uYW1lO1xuICBpZiAoX2FwcHMuaGFzKG5hbWUpKSB7XG4gICAgY2xlYW51cFByb3ZpZGVycyA9IHRydWU7XG4gICAgX2FwcHMuZGVsZXRlKG5hbWUpO1xuICB9IGVsc2UgaWYgKF9zZXJ2ZXJBcHBzLmhhcyhuYW1lKSkge1xuICAgIGNvbnN0IGZpcmViYXNlU2VydmVyQXBwID0gYXBwIGFzIEZpcmViYXNlU2VydmVyQXBwSW1wbDtcbiAgICBpZiAoZmlyZWJhc2VTZXJ2ZXJBcHAuZGVjUmVmQ291bnQoKSA8PSAwKSB7XG4gICAgICBfc2VydmVyQXBwcy5kZWxldGUobmFtZSk7XG4gICAgICBjbGVhbnVwUHJvdmlkZXJzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoY2xlYW51cFByb3ZpZGVycykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgKGFwcCBhcyBGaXJlYmFzZUFwcEltcGwpLmNvbnRhaW5lclxuICAgICAgICAuZ2V0UHJvdmlkZXJzKClcbiAgICAgICAgLm1hcChwcm92aWRlciA9PiBwcm92aWRlci5kZWxldGUoKSlcbiAgICApO1xuICAgIChhcHAgYXMgRmlyZWJhc2VBcHBJbXBsKS5pc0RlbGV0ZWQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgbGlicmFyeSdzIG5hbWUgYW5kIHZlcnNpb24gZm9yIHBsYXRmb3JtIGxvZ2dpbmcgcHVycG9zZXMuXG4gKiBAcGFyYW0gbGlicmFyeSAtIE5hbWUgb2YgMXAgb3IgM3AgbGlicmFyeSAoZS5nLiBmaXJlc3RvcmUsIGFuZ3VsYXJmaXJlKVxuICogQHBhcmFtIHZlcnNpb24gLSBDdXJyZW50IHZlcnNpb24gb2YgdGhhdCBsaWJyYXJ5LlxuICogQHBhcmFtIHZhcmlhbnQgLSBCdW5kbGUgdmFyaWFudCwgZS5nLiwgbm9kZSwgcm4sIGV0Yy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclZlcnNpb24oXG4gIGxpYnJhcnlLZXlPck5hbWU6IHN0cmluZyxcbiAgdmVyc2lvbjogc3RyaW5nLFxuICB2YXJpYW50Pzogc3RyaW5nXG4pOiB2b2lkIHtcbiAgLy8gVE9ETzogV2UgY2FuIHVzZSB0aGlzIGNoZWNrIHRvIHdoaXRlbGlzdCBzdHJpbmdzIHdoZW4vaWYgd2Ugc2V0IHVwXG4gIC8vIGEgZ29vZCB3aGl0ZWxpc3Qgc3lzdGVtLlxuICBsZXQgbGlicmFyeSA9IFBMQVRGT1JNX0xPR19TVFJJTkdbbGlicmFyeUtleU9yTmFtZV0gPz8gbGlicmFyeUtleU9yTmFtZTtcbiAgaWYgKHZhcmlhbnQpIHtcbiAgICBsaWJyYXJ5ICs9IGAtJHt2YXJpYW50fWA7XG4gIH1cbiAgY29uc3QgbGlicmFyeU1pc21hdGNoID0gbGlicmFyeS5tYXRjaCgvXFxzfFxcLy8pO1xuICBjb25zdCB2ZXJzaW9uTWlzbWF0Y2ggPSB2ZXJzaW9uLm1hdGNoKC9cXHN8XFwvLyk7XG4gIGlmIChsaWJyYXJ5TWlzbWF0Y2ggfHwgdmVyc2lvbk1pc21hdGNoKSB7XG4gICAgY29uc3Qgd2FybmluZyA9IFtcbiAgICAgIGBVbmFibGUgdG8gcmVnaXN0ZXIgbGlicmFyeSBcIiR7bGlicmFyeX1cIiB3aXRoIHZlcnNpb24gXCIke3ZlcnNpb259XCI6YFxuICAgIF07XG4gICAgaWYgKGxpYnJhcnlNaXNtYXRjaCkge1xuICAgICAgd2FybmluZy5wdXNoKFxuICAgICAgICBgbGlicmFyeSBuYW1lIFwiJHtsaWJyYXJ5fVwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcIi9cIilgXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAobGlicmFyeU1pc21hdGNoICYmIHZlcnNpb25NaXNtYXRjaCkge1xuICAgICAgd2FybmluZy5wdXNoKCdhbmQnKTtcbiAgICB9XG4gICAgaWYgKHZlcnNpb25NaXNtYXRjaCkge1xuICAgICAgd2FybmluZy5wdXNoKFxuICAgICAgICBgdmVyc2lvbiBuYW1lIFwiJHt2ZXJzaW9ufVwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcIi9cIilgXG4gICAgICApO1xuICAgIH1cbiAgICBsb2dnZXIud2Fybih3YXJuaW5nLmpvaW4oJyAnKSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIF9yZWdpc3RlckNvbXBvbmVudChcbiAgICBuZXcgQ29tcG9uZW50KFxuICAgICAgYCR7bGlicmFyeX0tdmVyc2lvbmAgYXMgTmFtZSxcbiAgICAgICgpID0+ICh7IGxpYnJhcnksIHZlcnNpb24gfSksXG4gICAgICBDb21wb25lbnRUeXBlLlZFUlNJT05cbiAgICApXG4gICk7XG59XG5cbi8qKlxuICogU2V0cyBsb2cgaGFuZGxlciBmb3IgYWxsIEZpcmViYXNlIFNES3MuXG4gKiBAcGFyYW0gbG9nQ2FsbGJhY2sgLSBBbiBvcHRpb25hbCBjdXN0b20gbG9nIGhhbmRsZXIgdGhhdCBleGVjdXRlcyB1c2VyIGNvZGUgd2hlbmV2ZXJcbiAqIHRoZSBGaXJlYmFzZSBTREsgbWFrZXMgYSBsb2dnaW5nIGNhbGwuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gb25Mb2coXG4gIGxvZ0NhbGxiYWNrOiBMb2dDYWxsYmFjayB8IG51bGwsXG4gIG9wdGlvbnM/OiBMb2dPcHRpb25zXG4pOiB2b2lkIHtcbiAgaWYgKGxvZ0NhbGxiYWNrICE9PSBudWxsICYmIHR5cGVvZiBsb2dDYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKEFwcEVycm9yLklOVkFMSURfTE9HX0FSR1VNRU5UKTtcbiAgfVxuICBzZXRVc2VyTG9nSGFuZGxlcihsb2dDYWxsYmFjaywgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogU2V0cyBsb2cgbGV2ZWwgZm9yIGFsbCBGaXJlYmFzZSBTREtzLlxuICpcbiAqIEFsbCBvZiB0aGUgbG9nIHR5cGVzIGFib3ZlIHRoZSBjdXJyZW50IGxvZyBsZXZlbCBhcmUgY2FwdHVyZWQgKGkuZS4gaWZcbiAqIHlvdSBzZXQgdGhlIGxvZyBsZXZlbCB0byBgaW5mb2AsIGVycm9ycyBhcmUgbG9nZ2VkLCBidXQgYGRlYnVnYCBhbmRcbiAqIGB2ZXJib3NlYCBsb2dzIGFyZSBub3QpLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldExvZ0xldmVsKGxvZ0xldmVsOiBMb2dMZXZlbFN0cmluZyk6IHZvaWQge1xuICBzZXRMb2dMZXZlbEltcGwobG9nTGV2ZWwpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBEQlNjaGVtYSwgb3BlbkRCLCBJREJQRGF0YWJhc2UgfSBmcm9tICdpZGInO1xuaW1wb3J0IHsgQXBwRXJyb3IsIEVSUk9SX0ZBQ1RPUlkgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyBGaXJlYmFzZUFwcCB9IGZyb20gJy4vcHVibGljLXR5cGVzJztcbmltcG9ydCB7IEhlYXJ0YmVhdHNJbkluZGV4ZWREQiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuXG5jb25zdCBEQl9OQU1FID0gJ2ZpcmViYXNlLWhlYXJ0YmVhdC1kYXRhYmFzZSc7XG5jb25zdCBEQl9WRVJTSU9OID0gMTtcbmNvbnN0IFNUT1JFX05BTUUgPSAnZmlyZWJhc2UtaGVhcnRiZWF0LXN0b3JlJztcblxuaW50ZXJmYWNlIEFwcERCIGV4dGVuZHMgREJTY2hlbWEge1xuICAnZmlyZWJhc2UtaGVhcnRiZWF0LXN0b3JlJzoge1xuICAgIGtleTogc3RyaW5nO1xuICAgIHZhbHVlOiBIZWFydGJlYXRzSW5JbmRleGVkREI7XG4gIH07XG59XG5cbmxldCBkYlByb21pc2U6IFByb21pc2U8SURCUERhdGFiYXNlPEFwcERCPj4gfCBudWxsID0gbnVsbDtcbmZ1bmN0aW9uIGdldERiUHJvbWlzZSgpOiBQcm9taXNlPElEQlBEYXRhYmFzZTxBcHBEQj4+IHtcbiAgaWYgKCFkYlByb21pc2UpIHtcbiAgICBkYlByb21pc2UgPSBvcGVuREI8QXBwREI+KERCX05BTUUsIERCX1ZFUlNJT04sIHtcbiAgICAgIHVwZ3JhZGU6IChkYiwgb2xkVmVyc2lvbikgPT4ge1xuICAgICAgICAvLyBXZSBkb24ndCB1c2UgJ2JyZWFrJyBpbiB0aGlzIHN3aXRjaCBzdGF0ZW1lbnQsIHRoZSBmYWxsLXRocm91Z2hcbiAgICAgICAgLy8gYmVoYXZpb3IgaXMgd2hhdCB3ZSB3YW50LCBiZWNhdXNlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSB2ZXJzaW9ucyBiZXR3ZWVuXG4gICAgICAgIC8vIHRoZSBvbGQgdmVyc2lvbiBhbmQgdGhlIGN1cnJlbnQgdmVyc2lvbiwgd2Ugd2FudCBBTEwgdGhlIG1pZ3JhdGlvbnNcbiAgICAgICAgLy8gdGhhdCBjb3JyZXNwb25kIHRvIHRob3NlIHZlcnNpb25zIHRvIHJ1biwgbm90IG9ubHkgdGhlIGxhc3Qgb25lLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVmYXVsdC1jYXNlXG4gICAgICAgIHN3aXRjaCAob2xkVmVyc2lvbikge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKFNUT1JFX05BTUUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAvLyBTYWZhcmkvaU9TIGJyb3dzZXJzIHRocm93IG9jY2FzaW9uYWwgZXhjZXB0aW9ucyBvblxuICAgICAgICAgICAgICAvLyBkYi5jcmVhdGVPYmplY3RTdG9yZSgpIHRoYXQgbWF5IGJlIGEgYnVnLiBBdm9pZCBibG9ja2luZ1xuICAgICAgICAgICAgICAvLyB0aGUgcmVzdCBvZiB0aGUgYXBwIGZ1bmN0aW9uYWxpdHkuXG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuSURCX09QRU4sIHtcbiAgICAgICAgb3JpZ2luYWxFcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGRiUHJvbWlzZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRIZWFydGJlYXRzRnJvbUluZGV4ZWREQihcbiAgYXBwOiBGaXJlYmFzZUFwcFxuKTogUHJvbWlzZTxIZWFydGJlYXRzSW5JbmRleGVkREIgfCB1bmRlZmluZWQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYiA9IGF3YWl0IGdldERiUHJvbWlzZSgpO1xuICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdHgub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSkuZ2V0KGNvbXB1dGVLZXkoYXBwKSk7XG4gICAgLy8gV2UgYWxyZWFkeSBoYXZlIHRoZSB2YWx1ZSBidXQgdHguZG9uZSBjYW4gdGhyb3csXG4gICAgLy8gc28gd2UgbmVlZCB0byBhd2FpdCBpdCBoZXJlIHRvIGNhdGNoIGVycm9yc1xuICAgIGF3YWl0IHR4LmRvbmU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgRmlyZWJhc2VFcnJvcikge1xuICAgICAgbG9nZ2VyLndhcm4oZS5tZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaWRiR2V0RXJyb3IgPSBFUlJPUl9GQUNUT1JZLmNyZWF0ZShBcHBFcnJvci5JREJfR0VULCB7XG4gICAgICAgIG9yaWdpbmFsRXJyb3JNZXNzYWdlOiAoZSBhcyBFcnJvcik/Lm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgICAgbG9nZ2VyLndhcm4oaWRiR2V0RXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQihcbiAgYXBwOiBGaXJlYmFzZUFwcCxcbiAgaGVhcnRiZWF0T2JqZWN0OiBIZWFydGJlYXRzSW5JbmRleGVkREJcbik6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGJQcm9taXNlKCk7XG4gICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XG4gICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0eC5vYmplY3RTdG9yZShTVE9SRV9OQU1FKTtcbiAgICBhd2FpdCBvYmplY3RTdG9yZS5wdXQoaGVhcnRiZWF0T2JqZWN0LCBjb21wdXRlS2V5KGFwcCkpO1xuICAgIGF3YWl0IHR4LmRvbmU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIEZpcmViYXNlRXJyb3IpIHtcbiAgICAgIGxvZ2dlci53YXJuKGUubWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlkYkdldEVycm9yID0gRVJST1JfRkFDVE9SWS5jcmVhdGUoQXBwRXJyb3IuSURCX1dSSVRFLCB7XG4gICAgICAgIG9yaWdpbmFsRXJyb3JNZXNzYWdlOiAoZSBhcyBFcnJvcik/Lm1lc3NhZ2VcbiAgICAgIH0pO1xuICAgICAgbG9nZ2VyLndhcm4oaWRiR2V0RXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVLZXkoYXBwOiBGaXJlYmFzZUFwcCk6IHN0cmluZyB7XG4gIHJldHVybiBgJHthcHAubmFtZX0hJHthcHAub3B0aW9ucy5hcHBJZH1gO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudENvbnRhaW5lciB9IGZyb20gJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHtcbiAgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcsXG4gIGlzSW5kZXhlZERCQXZhaWxhYmxlLFxuICB2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlXG59IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7XG4gIHJlYWRIZWFydGJlYXRzRnJvbUluZGV4ZWREQixcbiAgd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREJcbn0gZnJvbSAnLi9pbmRleGVkZGInO1xuaW1wb3J0IHsgRmlyZWJhc2VBcHAgfSBmcm9tICcuL3B1YmxpYy10eXBlcyc7XG5pbXBvcnQge1xuICBIZWFydGJlYXRzQnlVc2VyQWdlbnQsXG4gIEhlYXJ0YmVhdFNlcnZpY2UsXG4gIEhlYXJ0YmVhdHNJbkluZGV4ZWREQixcbiAgSGVhcnRiZWF0U3RvcmFnZSxcbiAgU2luZ2xlRGF0ZUhlYXJ0YmVhdFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcblxuY29uc3QgTUFYX0hFQURFUl9CWVRFUyA9IDEwMjQ7XG4vLyAzMCBkYXlzXG5jb25zdCBTVE9SRURfSEVBUlRCRUFUX1JFVEVOVElPTl9NQVhfTUlMTElTID0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuXG5leHBvcnQgY2xhc3MgSGVhcnRiZWF0U2VydmljZUltcGwgaW1wbGVtZW50cyBIZWFydGJlYXRTZXJ2aWNlIHtcbiAgLyoqXG4gICAqIFRoZSBwZXJzaXN0ZW5jZSBsYXllciBmb3IgaGVhcnRiZWF0c1xuICAgKiBMZWF2ZSBwdWJsaWMgZm9yIGVhc2llciB0ZXN0aW5nLlxuICAgKi9cbiAgX3N0b3JhZ2U6IEhlYXJ0YmVhdFN0b3JhZ2VJbXBsO1xuXG4gIC8qKlxuICAgKiBJbi1tZW1vcnkgY2FjaGUgZm9yIGhlYXJ0YmVhdHMsIHVzZWQgYnkgZ2V0SGVhcnRiZWF0c0hlYWRlcigpIHRvIGdlbmVyYXRlXG4gICAqIHRoZSBoZWFkZXIgc3RyaW5nLlxuICAgKiBTdG9yZXMgb25lIHJlY29yZCBwZXIgZGF0ZS4gVGhpcyB3aWxsIGJlIGNvbnNvbGlkYXRlZCBpbnRvIHRoZSBzdGFuZGFyZFxuICAgKiBmb3JtYXQgb2Ygb25lIHJlY29yZCBwZXIgdXNlciBhZ2VudCBzdHJpbmcgYmVmb3JlIGJlaW5nIHNlbnQgYXMgYSBoZWFkZXIuXG4gICAqIFBvcHVsYXRlZCBmcm9tIGluZGV4ZWREQiB3aGVuIHRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkXG4gICAqIGJlIGtlcHQgaW4gc3luYyB3aXRoIGluZGV4ZWREQi5cbiAgICogTGVhdmUgcHVibGljIGZvciBlYXNpZXIgdGVzdGluZy5cbiAgICovXG4gIF9oZWFydGJlYXRzQ2FjaGU6IEhlYXJ0YmVhdHNJbkluZGV4ZWREQiB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiB0aGUgaW5pdGlhbGl6YXRpb24gcHJvbWlzZSBmb3IgcG9wdWxhdGluZyBoZWFydGJlYXRDYWNoZS5cbiAgICogSWYgZ2V0SGVhcnRiZWF0c0hlYWRlcigpIGlzIGNhbGxlZCBiZWZvcmUgdGhlIHByb21pc2UgcmVzb2x2ZXNcbiAgICogKGhlYXJ0YmVhdHNDYWNoZSA9PSBudWxsKSwgaXQgc2hvdWxkIHdhaXQgZm9yIHRoaXMgcHJvbWlzZVxuICAgKiBMZWF2ZSBwdWJsaWMgZm9yIGVhc2llciB0ZXN0aW5nLlxuICAgKi9cbiAgX2hlYXJ0YmVhdHNDYWNoZVByb21pc2U6IFByb21pc2U8SGVhcnRiZWF0c0luSW5kZXhlZERCPjtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IENvbXBvbmVudENvbnRhaW5lcikge1xuICAgIGNvbnN0IGFwcCA9IHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVyKCdhcHAnKS5nZXRJbW1lZGlhdGUoKTtcbiAgICB0aGlzLl9zdG9yYWdlID0gbmV3IEhlYXJ0YmVhdFN0b3JhZ2VJbXBsKGFwcCk7XG4gICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZSA9IHRoaXMuX3N0b3JhZ2UucmVhZCgpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSA9IHJlc3VsdDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHRvIHJlcG9ydCBhIGhlYXJ0YmVhdC4gVGhlIGZ1bmN0aW9uIHdpbGwgZ2VuZXJhdGVcbiAgICogYSBIZWFydGJlYXRzQnlVc2VyQWdlbnQgb2JqZWN0LCB1cGRhdGUgaGVhcnRiZWF0c0NhY2hlLCBhbmQgcGVyc2lzdCBpdFxuICAgKiB0byBJbmRleGVkREIuXG4gICAqIE5vdGUgdGhhdCB3ZSBvbmx5IHN0b3JlIG9uZSBoZWFydGJlYXQgcGVyIGRheS4gU28gaWYgYSBoZWFydGJlYXQgZm9yIHRvZGF5IGlzXG4gICAqIGFscmVhZHkgbG9nZ2VkLCBzdWJzZXF1ZW50IGNhbGxzIHRvIHRoaXMgZnVuY3Rpb24gaW4gdGhlIHNhbWUgZGF5IHdpbGwgYmUgaWdub3JlZC5cbiAgICovXG4gIGFzeW5jIHRyaWdnZXJIZWFydGJlYXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBsYXRmb3JtTG9nZ2VyID0gdGhpcy5jb250YWluZXJcbiAgICAgICAgLmdldFByb3ZpZGVyKCdwbGF0Zm9ybS1sb2dnZXInKVxuICAgICAgICAuZ2V0SW1tZWRpYXRlKCk7XG5cbiAgICAgIC8vIFRoaXMgaXMgdGhlIFwiRmlyZWJhc2UgdXNlciBhZ2VudFwiIHN0cmluZyBmcm9tIHRoZSBwbGF0Zm9ybSBsb2dnZXJcbiAgICAgIC8vIHNlcnZpY2UsIG5vdCB0aGUgYnJvd3NlciB1c2VyIGFnZW50LlxuICAgICAgY29uc3QgYWdlbnQgPSBwbGF0Zm9ybUxvZ2dlci5nZXRQbGF0Zm9ybUluZm9TdHJpbmcoKTtcbiAgICAgIGNvbnN0IGRhdGUgPSBnZXRVVENEYXRlU3RyaW5nKCk7XG4gICAgICBpZiAodGhpcy5faGVhcnRiZWF0c0NhY2hlPy5oZWFydGJlYXRzID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlID0gYXdhaXQgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZTtcbiAgICAgICAgLy8gSWYgd2UgZmFpbGVkIHRvIGNvbnN0cnVjdCBhIGhlYXJ0YmVhdHMgY2FjaGUsIHRoZW4gcmV0dXJuIGltbWVkaWF0ZWx5LlxuICAgICAgICBpZiAodGhpcy5faGVhcnRiZWF0c0NhY2hlPy5oZWFydGJlYXRzID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIERvIG5vdCBzdG9yZSBhIGhlYXJ0YmVhdCBpZiBvbmUgaXMgYWxyZWFkeSBzdG9yZWQgZm9yIHRoaXMgZGF5XG4gICAgICAvLyBvciBpZiBhIGhlYWRlciBoYXMgYWxyZWFkeSBiZWVuIHNlbnQgdG9kYXkuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPT09IGRhdGUgfHxcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMuc29tZShcbiAgICAgICAgICBzaW5nbGVEYXRlSGVhcnRiZWF0ID0+IHNpbmdsZURhdGVIZWFydGJlYXQuZGF0ZSA9PT0gZGF0ZVxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gZW50cnkgZm9yIHRoaXMgZGF0ZS4gQ3JlYXRlIG9uZS5cbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMucHVzaCh7IGRhdGUsIGFnZW50IH0pO1xuICAgICAgfVxuICAgICAgLy8gUmVtb3ZlIGVudHJpZXMgb2xkZXIgdGhhbiAzMCBkYXlzLlxuICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMgPVxuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5maWx0ZXIoc2luZ2xlRGF0ZUhlYXJ0YmVhdCA9PiB7XG4gICAgICAgICAgY29uc3QgaGJUaW1lc3RhbXAgPSBuZXcgRGF0ZShzaW5nbGVEYXRlSGVhcnRiZWF0LmRhdGUpLnZhbHVlT2YoKTtcbiAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIHJldHVybiBub3cgLSBoYlRpbWVzdGFtcCA8PSBTVE9SRURfSEVBUlRCRUFUX1JFVEVOVElPTl9NQVhfTUlMTElTO1xuICAgICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci53YXJuKGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIHdoaWNoIGNhbiBiZSBhdHRhY2hlZCB0byB0aGUgaGVhcnRiZWF0LXNwZWNpZmljIGhlYWRlciBkaXJlY3RseS5cbiAgICogSXQgYWxzbyBjbGVhcnMgYWxsIGhlYXJ0YmVhdHMgZnJvbSBtZW1vcnkgYXMgd2VsbCBhcyBpbiBJbmRleGVkREIuXG4gICAqXG4gICAqIE5PVEU6IENvbnN1bWluZyBwcm9kdWN0IFNES3Mgc2hvdWxkIG5vdCBzZW5kIHRoZSBoZWFkZXIgaWYgdGhpcyBtZXRob2RcbiAgICogcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAqL1xuICBhc3luYyBnZXRIZWFydGJlYXRzSGVhZGVyKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPT09IG51bGwpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIC8vIElmIGl0J3Mgc3RpbGwgbnVsbCBvciB0aGUgYXJyYXkgaXMgZW1wdHksIHRoZXJlIGlzIG5vIGRhdGEgdG8gc2VuZC5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlPy5oZWFydGJlYXRzID09IG51bGwgfHxcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMubGVuZ3RoID09PSAwXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0ZSA9IGdldFVUQ0RhdGVTdHJpbmcoKTtcbiAgICAgIC8vIEV4dHJhY3QgYXMgbWFueSBoZWFydGJlYXRzIGZyb20gdGhlIGNhY2hlIGFzIHdpbGwgZml0IHVuZGVyIHRoZSBzaXplIGxpbWl0LlxuICAgICAgY29uc3QgeyBoZWFydGJlYXRzVG9TZW5kLCB1bnNlbnRFbnRyaWVzIH0gPSBleHRyYWN0SGVhcnRiZWF0c0ZvckhlYWRlcihcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHNcbiAgICAgICk7XG4gICAgICBjb25zdCBoZWFkZXJTdHJpbmcgPSBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoeyB2ZXJzaW9uOiAyLCBoZWFydGJlYXRzOiBoZWFydGJlYXRzVG9TZW5kIH0pXG4gICAgICApO1xuICAgICAgLy8gU3RvcmUgbGFzdCBzZW50IGRhdGUgdG8gcHJldmVudCBhbm90aGVyIGJlaW5nIGxvZ2dlZC9zZW50IGZvciB0aGUgc2FtZSBkYXkuXG4gICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUubGFzdFNlbnRIZWFydGJlYXREYXRlID0gZGF0ZTtcbiAgICAgIGlmICh1bnNlbnRFbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gU3RvcmUgYW55IHVuc2VudCBlbnRyaWVzIGlmIHRoZXkgZXhpc3QuXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzID0gdW5zZW50RW50cmllcztcbiAgICAgICAgLy8gVGhpcyBzZWVtcyBtb3JlIGxpa2VseSB0aGFuIGVtcHR5aW5nIHRoZSBhcnJheSAoYmVsb3cpIHRvIGxlYWQgdG8gc29tZSBvZGQgc3RhdGVcbiAgICAgICAgLy8gc2luY2UgdGhlIGNhY2hlIGlzbid0IGVtcHR5IGFuZCB0aGlzIHdpbGwgYmUgY2FsbGVkIGFnYWluIG9uIHRoZSBuZXh0IHJlcXVlc3QsXG4gICAgICAgIC8vIGFuZCBpcyBwcm9iYWJseSBzYWZlc3QgaWYgd2UgYXdhaXQgaXQuXG4gICAgICAgIGF3YWl0IHRoaXMuX3N0b3JhZ2Uub3ZlcndyaXRlKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cyA9IFtdO1xuICAgICAgICAvLyBEbyBub3Qgd2FpdCBmb3IgdGhpcywgdG8gcmVkdWNlIGxhdGVuY3kuXG4gICAgICAgIHZvaWQgdGhpcy5fc3RvcmFnZS5vdmVyd3JpdGUodGhpcy5faGVhcnRiZWF0c0NhY2hlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWFkZXJTdHJpbmc7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLndhcm4oZSk7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFVUQ0RhdGVTdHJpbmcoKTogc3RyaW5nIHtcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAvLyBSZXR1cm5zIGRhdGUgZm9ybWF0ICdZWVlZLU1NLUREJ1xuICByZXR1cm4gdG9kYXkudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEhlYXJ0YmVhdHNGb3JIZWFkZXIoXG4gIGhlYXJ0YmVhdHNDYWNoZTogU2luZ2xlRGF0ZUhlYXJ0YmVhdFtdLFxuICBtYXhTaXplID0gTUFYX0hFQURFUl9CWVRFU1xuKToge1xuICBoZWFydGJlYXRzVG9TZW5kOiBIZWFydGJlYXRzQnlVc2VyQWdlbnRbXTtcbiAgdW5zZW50RW50cmllczogU2luZ2xlRGF0ZUhlYXJ0YmVhdFtdO1xufSB7XG4gIC8vIEhlYXJ0YmVhdHMgZ3JvdXBlZCBieSB1c2VyIGFnZW50IGluIHRoZSBzdGFuZGFyZCBmb3JtYXQgdG8gYmUgc2VudCBpblxuICAvLyB0aGUgaGVhZGVyLlxuICBjb25zdCBoZWFydGJlYXRzVG9TZW5kOiBIZWFydGJlYXRzQnlVc2VyQWdlbnRbXSA9IFtdO1xuICAvLyBTaW5nbGUgZGF0ZSBmb3JtYXQgaGVhcnRiZWF0cyB0aGF0IGFyZSBub3Qgc2VudC5cbiAgbGV0IHVuc2VudEVudHJpZXMgPSBoZWFydGJlYXRzQ2FjaGUuc2xpY2UoKTtcbiAgZm9yIChjb25zdCBzaW5nbGVEYXRlSGVhcnRiZWF0IG9mIGhlYXJ0YmVhdHNDYWNoZSkge1xuICAgIC8vIExvb2sgZm9yIGFuIGV4aXN0aW5nIGVudHJ5IHdpdGggdGhlIHNhbWUgdXNlciBhZ2VudC5cbiAgICBjb25zdCBoZWFydGJlYXRFbnRyeSA9IGhlYXJ0YmVhdHNUb1NlbmQuZmluZChcbiAgICAgIGhiID0+IGhiLmFnZW50ID09PSBzaW5nbGVEYXRlSGVhcnRiZWF0LmFnZW50XG4gICAgKTtcbiAgICBpZiAoIWhlYXJ0YmVhdEVudHJ5KSB7XG4gICAgICAvLyBJZiBubyBlbnRyeSBmb3IgdGhpcyB1c2VyIGFnZW50IGV4aXN0cywgY3JlYXRlIG9uZS5cbiAgICAgIGhlYXJ0YmVhdHNUb1NlbmQucHVzaCh7XG4gICAgICAgIGFnZW50OiBzaW5nbGVEYXRlSGVhcnRiZWF0LmFnZW50LFxuICAgICAgICBkYXRlczogW3NpbmdsZURhdGVIZWFydGJlYXQuZGF0ZV1cbiAgICAgIH0pO1xuICAgICAgaWYgKGNvdW50Qnl0ZXMoaGVhcnRiZWF0c1RvU2VuZCkgPiBtYXhTaXplKSB7XG4gICAgICAgIC8vIElmIHRoZSBoZWFkZXIgd291bGQgZXhjZWVkIG1heCBzaXplLCByZW1vdmUgdGhlIGFkZGVkIGhlYXJ0YmVhdFxuICAgICAgICAvLyBlbnRyeSBhbmQgc3RvcCBhZGRpbmcgdG8gdGhlIGhlYWRlci5cbiAgICAgICAgaGVhcnRiZWF0c1RvU2VuZC5wb3AoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYXJ0YmVhdEVudHJ5LmRhdGVzLnB1c2goc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlKTtcbiAgICAgIC8vIElmIHRoZSBoZWFkZXIgd291bGQgZXhjZWVkIG1heCBzaXplLCByZW1vdmUgdGhlIGFkZGVkIGRhdGVcbiAgICAgIC8vIGFuZCBzdG9wIGFkZGluZyB0byB0aGUgaGVhZGVyLlxuICAgICAgaWYgKGNvdW50Qnl0ZXMoaGVhcnRiZWF0c1RvU2VuZCkgPiBtYXhTaXplKSB7XG4gICAgICAgIGhlYXJ0YmVhdEVudHJ5LmRhdGVzLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUG9wIHVuc2VudCBlbnRyeSBmcm9tIHF1ZXVlLiAoU2tpcHBlZCBpZiBhZGRpbmcgdGhlIGVudHJ5IGV4Y2VlZGVkXG4gICAgLy8gcXVvdGEgYW5kIHRoZSBsb29wIGJyZWFrcyBlYXJseS4pXG4gICAgdW5zZW50RW50cmllcyA9IHVuc2VudEVudHJpZXMuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBoZWFydGJlYXRzVG9TZW5kLFxuICAgIHVuc2VudEVudHJpZXNcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIEhlYXJ0YmVhdFN0b3JhZ2VJbXBsIGltcGxlbWVudHMgSGVhcnRiZWF0U3RvcmFnZSB7XG4gIHByaXZhdGUgX2NhblVzZUluZGV4ZWREQlByb21pc2U6IFByb21pc2U8Ym9vbGVhbj47XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBhcHA6IEZpcmViYXNlQXBwKSB7XG4gICAgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZSA9IHRoaXMucnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjaygpO1xuICB9XG4gIGFzeW5jIHJ1bkluZGV4ZWREQkVudmlyb25tZW50Q2hlY2soKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKCFpc0luZGV4ZWREQkF2YWlsYWJsZSgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlKClcbiAgICAgICAgLnRoZW4oKCkgPT4gdHJ1ZSlcbiAgICAgICAgLmNhdGNoKCgpID0+IGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlYWQgYWxsIGhlYXJ0YmVhdHMuXG4gICAqL1xuICBhc3luYyByZWFkKCk6IFByb21pc2U8SGVhcnRiZWF0c0luSW5kZXhlZERCPiB7XG4gICAgY29uc3QgY2FuVXNlSW5kZXhlZERCID0gYXdhaXQgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZTtcbiAgICBpZiAoIWNhblVzZUluZGV4ZWREQikge1xuICAgICAgcmV0dXJuIHsgaGVhcnRiZWF0czogW10gfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaWRiSGVhcnRiZWF0T2JqZWN0ID0gYXdhaXQgcmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCKHRoaXMuYXBwKTtcbiAgICAgIGlmIChpZGJIZWFydGJlYXRPYmplY3Q/LmhlYXJ0YmVhdHMpIHtcbiAgICAgICAgcmV0dXJuIGlkYkhlYXJ0YmVhdE9iamVjdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IGhlYXJ0YmVhdHM6IFtdIH07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIG92ZXJ3cml0ZSB0aGUgc3RvcmFnZSB3aXRoIHRoZSBwcm92aWRlZCBoZWFydGJlYXRzXG4gIGFzeW5jIG92ZXJ3cml0ZShoZWFydGJlYXRzT2JqZWN0OiBIZWFydGJlYXRzSW5JbmRleGVkREIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjYW5Vc2VJbmRleGVkREIgPSBhd2FpdCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlO1xuICAgIGlmICghY2FuVXNlSW5kZXhlZERCKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdCA9IGF3YWl0IHRoaXMucmVhZCgpO1xuICAgICAgcmV0dXJuIHdyaXRlSGVhcnRiZWF0c1RvSW5kZXhlZERCKHRoaXMuYXBwLCB7XG4gICAgICAgIGxhc3RTZW50SGVhcnRiZWF0RGF0ZTpcbiAgICAgICAgICBoZWFydGJlYXRzT2JqZWN0Lmxhc3RTZW50SGVhcnRiZWF0RGF0ZSA/P1xuICAgICAgICAgIGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUsXG4gICAgICAgIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNPYmplY3QuaGVhcnRiZWF0c1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8vIGFkZCBoZWFydGJlYXRzXG4gIGFzeW5jIGFkZChoZWFydGJlYXRzT2JqZWN0OiBIZWFydGJlYXRzSW5JbmRleGVkREIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjYW5Vc2VJbmRleGVkREIgPSBhd2FpdCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlO1xuICAgIGlmICghY2FuVXNlSW5kZXhlZERCKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdCA9IGF3YWl0IHRoaXMucmVhZCgpO1xuICAgICAgcmV0dXJuIHdyaXRlSGVhcnRiZWF0c1RvSW5kZXhlZERCKHRoaXMuYXBwLCB7XG4gICAgICAgIGxhc3RTZW50SGVhcnRiZWF0RGF0ZTpcbiAgICAgICAgICBoZWFydGJlYXRzT2JqZWN0Lmxhc3RTZW50SGVhcnRiZWF0RGF0ZSA/P1xuICAgICAgICAgIGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUsXG4gICAgICAgIGhlYXJ0YmVhdHM6IFtcbiAgICAgICAgICAuLi5leGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QuaGVhcnRiZWF0cyxcbiAgICAgICAgICAuLi5oZWFydGJlYXRzT2JqZWN0LmhlYXJ0YmVhdHNcbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIGJ5dGVzIG9mIGEgSGVhcnRiZWF0c0J5VXNlckFnZW50IGFycmF5IGFmdGVyIGJlaW5nIHdyYXBwZWRcbiAqIGluIGEgcGxhdGZvcm0gbG9nZ2luZyBoZWFkZXIgSlNPTiBvYmplY3QsIHN0cmluZ2lmaWVkLCBhbmQgY29udmVydGVkXG4gKiB0byBiYXNlIDY0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY291bnRCeXRlcyhoZWFydGJlYXRzQ2FjaGU6IEhlYXJ0YmVhdHNCeVVzZXJBZ2VudFtdKTogbnVtYmVyIHtcbiAgLy8gYmFzZTY0IGhhcyBhIHJlc3RyaWN0ZWQgc2V0IG9mIGNoYXJhY3RlcnMsIGFsbCBvZiB3aGljaCBzaG91bGQgYmUgMSBieXRlLlxuICByZXR1cm4gYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoXG4gICAgLy8gaGVhcnRiZWF0c0NhY2hlIHdyYXBwZXIgcHJvcGVydGllc1xuICAgIEpTT04uc3RyaW5naWZ5KHsgdmVyc2lvbjogMiwgaGVhcnRiZWF0czogaGVhcnRiZWF0c0NhY2hlIH0pXG4gICkubGVuZ3RoO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgQ29tcG9uZW50VHlwZSB9IGZyb20gJ0BmaXJlYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbCB9IGZyb20gJy4vcGxhdGZvcm1Mb2dnZXJTZXJ2aWNlJztcbmltcG9ydCB7IG5hbWUsIHZlcnNpb24gfSBmcm9tICcuLi9wYWNrYWdlLmpzb24nO1xuaW1wb3J0IHsgX3JlZ2lzdGVyQ29tcG9uZW50IH0gZnJvbSAnLi9pbnRlcm5hbCc7XG5pbXBvcnQgeyByZWdpc3RlclZlcnNpb24gfSBmcm9tICcuL2FwaSc7XG5pbXBvcnQgeyBIZWFydGJlYXRTZXJ2aWNlSW1wbCB9IGZyb20gJy4vaGVhcnRiZWF0U2VydmljZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckNvcmVDb21wb25lbnRzKHZhcmlhbnQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgX3JlZ2lzdGVyQ29tcG9uZW50KFxuICAgIG5ldyBDb21wb25lbnQoXG4gICAgICAncGxhdGZvcm0tbG9nZ2VyJyxcbiAgICAgIGNvbnRhaW5lciA9PiBuZXcgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbChjb250YWluZXIpLFxuICAgICAgQ29tcG9uZW50VHlwZS5QUklWQVRFXG4gICAgKVxuICApO1xuICBfcmVnaXN0ZXJDb21wb25lbnQoXG4gICAgbmV3IENvbXBvbmVudChcbiAgICAgICdoZWFydGJlYXQnLFxuICAgICAgY29udGFpbmVyID0+IG5ldyBIZWFydGJlYXRTZXJ2aWNlSW1wbChjb250YWluZXIpLFxuICAgICAgQ29tcG9uZW50VHlwZS5QUklWQVRFXG4gICAgKVxuICApO1xuXG4gIC8vIFJlZ2lzdGVyIGBhcHBgIHBhY2thZ2UuXG4gIHJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCB2YXJpYW50KTtcbiAgLy8gQlVJTERfVEFSR0VUIHdpbGwgYmUgcmVwbGFjZWQgYnkgdmFsdWVzIGxpa2UgZXNtNSwgZXNtMjAxNywgY2pzNSwgZXRjIGR1cmluZyB0aGUgY29tcGlsYXRpb25cbiAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sICdfX0JVSUxEX1RBUkdFVF9fJyk7XG4gIC8vIFJlZ2lzdGVyIHBsYXRmb3JtIFNESyBpZGVudGlmaWVyIChubyB2ZXJzaW9uKS5cbiAgcmVnaXN0ZXJWZXJzaW9uKCdmaXJlLWpzJywgJycpO1xufVxuIiwgIi8qKlxuICogRmlyZWJhc2UgQXBwXG4gKlxuICogQHJlbWFya3MgVGhpcyBwYWNrYWdlIGNvb3JkaW5hdGVzIHRoZSBjb21tdW5pY2F0aW9uIGJldHdlZW4gdGhlIGRpZmZlcmVudCBGaXJlYmFzZSBjb21wb25lbnRzXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyByZWdpc3RlckNvcmVDb21wb25lbnRzIH0gZnJvbSAnLi9yZWdpc3RlckNvcmVDb21wb25lbnRzJztcblxuZXhwb3J0ICogZnJvbSAnLi9hcGknO1xuZXhwb3J0ICogZnJvbSAnLi9pbnRlcm5hbCc7XG5leHBvcnQgKiBmcm9tICcuL3B1YmxpYy10eXBlcyc7XG5cbnJlZ2lzdGVyQ29yZUNvbXBvbmVudHMoJ19fUlVOVElNRV9FTlZfXycpO1xuIiwgIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCwgSXRlcmF0b3IgKi9cblxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICB9XG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICB9XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XG4gIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcbiAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XG4gICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgfVxuICB9XG4gIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgZG9uZSA9IHRydWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgfVxuICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xuICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgcmV0dXJuIGcubmV4dCA9IHZlcmIoMCksIGdbXCJ0aHJvd1wiXSA9IHZlcmIoMSksIGdbXCJyZXR1cm5cIl0gPSB2ZXJiKDIpLCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gQXN5bmNJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG52YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcbiAgb3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgdmFyIGFyID0gW107XG4gICAgZm9yICh2YXIgayBpbiBvKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIGspKSBhclthci5sZW5ndGhdID0gaztcbiAgICByZXR1cm4gYXI7XG4gIH07XG4gIHJldHVybiBvd25LZXlzKG8pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgPSBvd25LZXlzKG1vZCksIGkgPSAwOyBpIDwgay5sZW5ndGg7IGkrKykgaWYgKGtbaV0gIT09IFwiZGVmYXVsdFwiKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGtbaV0pO1xuICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xuICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XG4gIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52LCB2YWx1ZSwgYXN5bmMpIHtcbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcbiAgICB2YXIgZGlzcG9zZSwgaW5uZXI7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xuICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgICBpZiAoYXN5bmMpIGlubmVyID0gZGlzcG9zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGlmIChpbm5lcikgZGlzcG9zZSA9IGZ1bmN0aW9uKCkgeyB0cnkgeyBpbm5lci5jYWxsKHRoaXMpOyB9IGNhdGNoIChlKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChlKTsgfSB9O1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICB2YXIgciwgcyA9IDA7XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgd2hpbGUgKHIgPSBlbnYuc3RhY2sucG9wKCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghci5hc3luYyAmJiBzID09PSAxKSByZXR1cm4gcyA9IDAsIGVudi5zdGFjay5wdXNoKHIpLCBQcm9taXNlLnJlc29sdmUoKS50aGVuKG5leHQpO1xuICAgICAgICBpZiAoci5kaXNwb3NlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHIuZGlzcG9zZS5jYWxsKHIudmFsdWUpO1xuICAgICAgICAgIGlmIChyLmFzeW5jKSByZXR1cm4gcyB8PSAyLCBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBzIHw9IDE7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBmYWlsKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocyA9PT0gMSkgcmV0dXJuIGVudi5oYXNFcnJvciA/IFByb21pc2UucmVqZWN0KGVudi5lcnJvcikgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uKHBhdGgsIHByZXNlcnZlSnN4KSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcLlxcLj9cXC8vLnRlc3QocGF0aCkpIHtcbiAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLih0c3gpJHwoKD86XFwuZCk/KSgoPzpcXC5bXi4vXSs/KT8pXFwuKFtjbV0/KXRzJC9pLCBmdW5jdGlvbiAobSwgdHN4LCBkLCBleHQsIGNtKSB7XG4gICAgICAgICAgcmV0dXJuIHRzeCA/IHByZXNlcnZlSnN4ID8gXCIuanN4XCIgOiBcIi5qc1wiIDogZCAmJiAoIWV4dCB8fCAhY20pID8gbSA6IChkICsgZXh0ICsgXCIuXCIgKyBjbS50b0xvd2VyQ2FzZSgpICsgXCJqc1wiKTtcbiAgICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19lc0RlY29yYXRlLFxuICBfX3J1bkluaXRpYWxpemVycyxcbiAgX19wcm9wS2V5LFxuICBfX3NldEZ1bmN0aW9uTmFtZSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG4gIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uLFxufTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEFuIGVudW0gb2YgZmFjdG9ycyB0aGF0IG1heSBiZSB1c2VkIGZvciBtdWx0aWZhY3RvciBhdXRoZW50aWNhdGlvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBGYWN0b3JJZCA9IHtcbiAgLyoqIFBob25lIGFzIHNlY29uZCBmYWN0b3IgKi9cbiAgUEhPTkU6ICdwaG9uZScsXG4gIFRPVFA6ICd0b3RwJ1xufSBhcyBjb25zdDtcblxuLyoqXG4gKiBFbnVtZXJhdGlvbiBvZiBzdXBwb3J0ZWQgcHJvdmlkZXJzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFByb3ZpZGVySWQgPSB7XG4gIC8qKiBGYWNlYm9vayBwcm92aWRlciBJRCAqL1xuICBGQUNFQk9PSzogJ2ZhY2Vib29rLmNvbScsXG4gIC8qKiBHaXRIdWIgcHJvdmlkZXIgSUQgKi9cbiAgR0lUSFVCOiAnZ2l0aHViLmNvbScsXG4gIC8qKiBHb29nbGUgcHJvdmlkZXIgSUQgKi9cbiAgR09PR0xFOiAnZ29vZ2xlLmNvbScsXG4gIC8qKiBQYXNzd29yZCBwcm92aWRlciAqL1xuICBQQVNTV09SRDogJ3Bhc3N3b3JkJyxcbiAgLyoqIFBob25lIHByb3ZpZGVyICovXG4gIFBIT05FOiAncGhvbmUnLFxuICAvKiogVHdpdHRlciBwcm92aWRlciBJRCAqL1xuICBUV0lUVEVSOiAndHdpdHRlci5jb20nXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIEVudW1lcmF0aW9uIG9mIHN1cHBvcnRlZCBzaWduLWluIG1ldGhvZHMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgU2lnbkluTWV0aG9kID0ge1xuICAvKiogRW1haWwgbGluayBzaWduIGluIG1ldGhvZCAqL1xuICBFTUFJTF9MSU5LOiAnZW1haWxMaW5rJyxcbiAgLyoqIEVtYWlsL3Bhc3N3b3JkIHNpZ24gaW4gbWV0aG9kICovXG4gIEVNQUlMX1BBU1NXT1JEOiAncGFzc3dvcmQnLFxuICAvKiogRmFjZWJvb2sgc2lnbiBpbiBtZXRob2QgKi9cbiAgRkFDRUJPT0s6ICdmYWNlYm9vay5jb20nLFxuICAvKiogR2l0SHViIHNpZ24gaW4gbWV0aG9kICovXG4gIEdJVEhVQjogJ2dpdGh1Yi5jb20nLFxuICAvKiogR29vZ2xlIHNpZ24gaW4gbWV0aG9kICovXG4gIEdPT0dMRTogJ2dvb2dsZS5jb20nLFxuICAvKiogUGhvbmUgc2lnbiBpbiBtZXRob2QgKi9cbiAgUEhPTkU6ICdwaG9uZScsXG4gIC8qKiBUd2l0dGVyIHNpZ24gaW4gbWV0aG9kICovXG4gIFRXSVRURVI6ICd0d2l0dGVyLmNvbSdcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogRW51bWVyYXRpb24gb2Ygc3VwcG9ydGVkIG9wZXJhdGlvbiB0eXBlcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBPcGVyYXRpb25UeXBlID0ge1xuICAvKiogT3BlcmF0aW9uIGludm9sdmluZyBsaW5raW5nIGFuIGFkZGl0aW9uYWwgcHJvdmlkZXIgdG8gYW4gYWxyZWFkeSBzaWduZWQtaW4gdXNlci4gKi9cbiAgTElOSzogJ2xpbmsnLFxuICAvKiogT3BlcmF0aW9uIGludm9sdmluZyB1c2luZyBhIHByb3ZpZGVyIHRvIHJlYXV0aGVudGljYXRlIGFuIGFscmVhZHkgc2lnbmVkLWluIHVzZXIuICovXG4gIFJFQVVUSEVOVElDQVRFOiAncmVhdXRoZW50aWNhdGUnLFxuICAvKiogT3BlcmF0aW9uIGludm9sdmluZyBzaWduaW5nIGluIGEgdXNlci4gKi9cbiAgU0lHTl9JTjogJ3NpZ25Jbidcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogQW4gZW51bWVyYXRpb24gb2YgdGhlIHBvc3NpYmxlIGVtYWlsIGFjdGlvbiB0eXBlcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBBY3Rpb25Db2RlT3BlcmF0aW9uID0ge1xuICAvKiogVGhlIGVtYWlsIGxpbmsgc2lnbi1pbiBhY3Rpb24uICovXG4gIEVNQUlMX1NJR05JTjogJ0VNQUlMX1NJR05JTicsXG4gIC8qKiBUaGUgcGFzc3dvcmQgcmVzZXQgYWN0aW9uLiAqL1xuICBQQVNTV09SRF9SRVNFVDogJ1BBU1NXT1JEX1JFU0VUJyxcbiAgLyoqIFRoZSBlbWFpbCByZXZvY2F0aW9uIGFjdGlvbi4gKi9cbiAgUkVDT1ZFUl9FTUFJTDogJ1JFQ09WRVJfRU1BSUwnLFxuICAvKiogVGhlIHJldmVydCBzZWNvbmQgZmFjdG9yIGFkZGl0aW9uIGVtYWlsIGFjdGlvbi4gKi9cbiAgUkVWRVJUX1NFQ09ORF9GQUNUT1JfQURESVRJT046ICdSRVZFUlRfU0VDT05EX0ZBQ1RPUl9BRERJVElPTicsXG4gIC8qKiBUaGUgcmV2ZXJ0IHNlY29uZCBmYWN0b3IgYWRkaXRpb24gZW1haWwgYWN0aW9uLiAqL1xuICBWRVJJRllfQU5EX0NIQU5HRV9FTUFJTDogJ1ZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMJyxcbiAgLyoqIFRoZSBlbWFpbCB2ZXJpZmljYXRpb24gYWN0aW9uLiAqL1xuICBWRVJJRllfRU1BSUw6ICdWRVJJRllfRU1BSUwnXG59IGFzIGNvbnN0O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGhFcnJvck1hcCwgVXNlciB9IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBFcnJvckZhY3RvcnksIEVycm9yTWFwIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBJZFRva2VuTWZhUmVzcG9uc2UgfSBmcm9tICcuLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IEFwcE5hbWUgfSBmcm9tICcuLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi9jcmVkZW50aWFscyc7XG5cbi8qKlxuICogRW51bWVyYXRpb24gb2YgRmlyZWJhc2UgQXV0aCBlcnJvciBjb2Rlcy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IGVudW0gQXV0aEVycm9yQ29kZSB7XG4gIEFETUlOX09OTFlfT1BFUkFUSU9OID0gJ2FkbWluLXJlc3RyaWN0ZWQtb3BlcmF0aW9uJyxcbiAgQVJHVU1FTlRfRVJST1IgPSAnYXJndW1lbnQtZXJyb3InLFxuICBBUFBfTk9UX0FVVEhPUklaRUQgPSAnYXBwLW5vdC1hdXRob3JpemVkJyxcbiAgQVBQX05PVF9JTlNUQUxMRUQgPSAnYXBwLW5vdC1pbnN0YWxsZWQnLFxuICBDQVBUQ0hBX0NIRUNLX0ZBSUxFRCA9ICdjYXB0Y2hhLWNoZWNrLWZhaWxlZCcsXG4gIENPREVfRVhQSVJFRCA9ICdjb2RlLWV4cGlyZWQnLFxuICBDT1JET1ZBX05PVF9SRUFEWSA9ICdjb3Jkb3ZhLW5vdC1yZWFkeScsXG4gIENPUlNfVU5TVVBQT1JURUQgPSAnY29ycy11bnN1cHBvcnRlZCcsXG4gIENSRURFTlRJQUxfQUxSRUFEWV9JTl9VU0UgPSAnY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZScsXG4gIENSRURFTlRJQUxfTUlTTUFUQ0ggPSAnY3VzdG9tLXRva2VuLW1pc21hdGNoJyxcbiAgQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOID0gJ3JlcXVpcmVzLXJlY2VudC1sb2dpbicsXG4gIERFUEVOREVOVF9TREtfSU5JVF9CRUZPUkVfQVVUSCA9ICdkZXBlbmRlbnQtc2RrLWluaXRpYWxpemVkLWJlZm9yZS1hdXRoJyxcbiAgRFlOQU1JQ19MSU5LX05PVF9BQ1RJVkFURUQgPSAnZHluYW1pYy1saW5rLW5vdC1hY3RpdmF0ZWQnLFxuICBFTUFJTF9DSEFOR0VfTkVFRFNfVkVSSUZJQ0FUSU9OID0gJ2VtYWlsLWNoYW5nZS1uZWVkcy12ZXJpZmljYXRpb24nLFxuICBFTUFJTF9FWElTVFMgPSAnZW1haWwtYWxyZWFkeS1pbi11c2UnLFxuICBFTVVMQVRPUl9DT05GSUdfRkFJTEVEID0gJ2VtdWxhdG9yLWNvbmZpZy1mYWlsZWQnLFxuICBFWFBJUkVEX09PQl9DT0RFID0gJ2V4cGlyZWQtYWN0aW9uLWNvZGUnLFxuICBFWFBJUkVEX1BPUFVQX1JFUVVFU1QgPSAnY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3QnLFxuICBJTlRFUk5BTF9FUlJPUiA9ICdpbnRlcm5hbC1lcnJvcicsXG4gIElOVkFMSURfQVBJX0tFWSA9ICdpbnZhbGlkLWFwaS1rZXknLFxuICBJTlZBTElEX0FQUF9DUkVERU5USUFMID0gJ2ludmFsaWQtYXBwLWNyZWRlbnRpYWwnLFxuICBJTlZBTElEX0FQUF9JRCA9ICdpbnZhbGlkLWFwcC1pZCcsXG4gIElOVkFMSURfQVVUSCA9ICdpbnZhbGlkLXVzZXItdG9rZW4nLFxuICBJTlZBTElEX0FVVEhfRVZFTlQgPSAnaW52YWxpZC1hdXRoLWV2ZW50JyxcbiAgSU5WQUxJRF9DRVJUX0hBU0ggPSAnaW52YWxpZC1jZXJ0LWhhc2gnLFxuICBJTlZBTElEX0NPREUgPSAnaW52YWxpZC12ZXJpZmljYXRpb24tY29kZScsXG4gIElOVkFMSURfQ09OVElOVUVfVVJJID0gJ2ludmFsaWQtY29udGludWUtdXJpJyxcbiAgSU5WQUxJRF9DT1JET1ZBX0NPTkZJR1VSQVRJT04gPSAnaW52YWxpZC1jb3Jkb3ZhLWNvbmZpZ3VyYXRpb24nLFxuICBJTlZBTElEX0NVU1RPTV9UT0tFTiA9ICdpbnZhbGlkLWN1c3RvbS10b2tlbicsXG4gIElOVkFMSURfRFlOQU1JQ19MSU5LX0RPTUFJTiA9ICdpbnZhbGlkLWR5bmFtaWMtbGluay1kb21haW4nLFxuICBJTlZBTElEX0VNQUlMID0gJ2ludmFsaWQtZW1haWwnLFxuICBJTlZBTElEX0VNVUxBVE9SX1NDSEVNRSA9ICdpbnZhbGlkLWVtdWxhdG9yLXNjaGVtZScsXG4gIElOVkFMSURfQ1JFREVOVElBTCA9ICdpbnZhbGlkLWNyZWRlbnRpYWwnLFxuICBJTlZBTElEX01FU1NBR0VfUEFZTE9BRCA9ICdpbnZhbGlkLW1lc3NhZ2UtcGF5bG9hZCcsXG4gIElOVkFMSURfTUZBX1NFU1NJT04gPSAnaW52YWxpZC1tdWx0aS1mYWN0b3Itc2Vzc2lvbicsXG4gIElOVkFMSURfT0FVVEhfQ0xJRU5UX0lEID0gJ2ludmFsaWQtb2F1dGgtY2xpZW50LWlkJyxcbiAgSU5WQUxJRF9PQVVUSF9QUk9WSURFUiA9ICdpbnZhbGlkLW9hdXRoLXByb3ZpZGVyJyxcbiAgSU5WQUxJRF9PT0JfQ09ERSA9ICdpbnZhbGlkLWFjdGlvbi1jb2RlJyxcbiAgSU5WQUxJRF9PUklHSU4gPSAndW5hdXRob3JpemVkLWRvbWFpbicsXG4gIElOVkFMSURfUEFTU1dPUkQgPSAnd3JvbmctcGFzc3dvcmQnLFxuICBJTlZBTElEX1BFUlNJU1RFTkNFID0gJ2ludmFsaWQtcGVyc2lzdGVuY2UtdHlwZScsXG4gIElOVkFMSURfUEhPTkVfTlVNQkVSID0gJ2ludmFsaWQtcGhvbmUtbnVtYmVyJyxcbiAgSU5WQUxJRF9QUk9WSURFUl9JRCA9ICdpbnZhbGlkLXByb3ZpZGVyLWlkJyxcbiAgSU5WQUxJRF9SRUNJUElFTlRfRU1BSUwgPSAnaW52YWxpZC1yZWNpcGllbnQtZW1haWwnLFxuICBJTlZBTElEX1NFTkRFUiA9ICdpbnZhbGlkLXNlbmRlcicsXG4gIElOVkFMSURfU0VTU0lPTl9JTkZPID0gJ2ludmFsaWQtdmVyaWZpY2F0aW9uLWlkJyxcbiAgSU5WQUxJRF9URU5BTlRfSUQgPSAnaW52YWxpZC10ZW5hbnQtaWQnLFxuICBMT0dJTl9CTE9DS0VEID0gJ2xvZ2luLWJsb2NrZWQnLFxuICBNRkFfSU5GT19OT1RfRk9VTkQgPSAnbXVsdGktZmFjdG9yLWluZm8tbm90LWZvdW5kJyxcbiAgTUZBX1JFUVVJUkVEID0gJ211bHRpLWZhY3Rvci1hdXRoLXJlcXVpcmVkJyxcbiAgTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRSA9ICdtaXNzaW5nLWFuZHJvaWQtcGtnLW5hbWUnLFxuICBNSVNTSU5HX0FQUF9DUkVERU5USUFMID0gJ21pc3NpbmctYXBwLWNyZWRlbnRpYWwnLFxuICBNSVNTSU5HX0FVVEhfRE9NQUlOID0gJ2F1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZCcsXG4gIE1JU1NJTkdfQ09ERSA9ICdtaXNzaW5nLXZlcmlmaWNhdGlvbi1jb2RlJyxcbiAgTUlTU0lOR19DT05USU5VRV9VUkkgPSAnbWlzc2luZy1jb250aW51ZS11cmknLFxuICBNSVNTSU5HX0lGUkFNRV9TVEFSVCA9ICdtaXNzaW5nLWlmcmFtZS1zdGFydCcsXG4gIE1JU1NJTkdfSU9TX0JVTkRMRV9JRCA9ICdtaXNzaW5nLWlvcy1idW5kbGUtaWQnLFxuICBNSVNTSU5HX09SX0lOVkFMSURfTk9OQ0UgPSAnbWlzc2luZy1vci1pbnZhbGlkLW5vbmNlJyxcbiAgTUlTU0lOR19NRkFfSU5GTyA9ICdtaXNzaW5nLW11bHRpLWZhY3Rvci1pbmZvJyxcbiAgTUlTU0lOR19NRkFfU0VTU0lPTiA9ICdtaXNzaW5nLW11bHRpLWZhY3Rvci1zZXNzaW9uJyxcbiAgTUlTU0lOR19QSE9ORV9OVU1CRVIgPSAnbWlzc2luZy1waG9uZS1udW1iZXInLFxuICBNSVNTSU5HX1BBU1NXT1JEID0gJ21pc3NpbmctcGFzc3dvcmQnLFxuICBNSVNTSU5HX1NFU1NJT05fSU5GTyA9ICdtaXNzaW5nLXZlcmlmaWNhdGlvbi1pZCcsXG4gIE1PRFVMRV9ERVNUUk9ZRUQgPSAnYXBwLWRlbGV0ZWQnLFxuICBORUVEX0NPTkZJUk1BVElPTiA9ICdhY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsJyxcbiAgTkVUV09SS19SRVFVRVNUX0ZBSUxFRCA9ICduZXR3b3JrLXJlcXVlc3QtZmFpbGVkJyxcbiAgTlVMTF9VU0VSID0gJ251bGwtdXNlcicsXG4gIE5PX0FVVEhfRVZFTlQgPSAnbm8tYXV0aC1ldmVudCcsXG4gIE5PX1NVQ0hfUFJPVklERVIgPSAnbm8tc3VjaC1wcm92aWRlcicsXG4gIE9QRVJBVElPTl9OT1RfQUxMT1dFRCA9ICdvcGVyYXRpb24tbm90LWFsbG93ZWQnLFxuICBPUEVSQVRJT05fTk9UX1NVUFBPUlRFRCA9ICdvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50JyxcbiAgUE9QVVBfQkxPQ0tFRCA9ICdwb3B1cC1ibG9ja2VkJyxcbiAgUE9QVVBfQ0xPU0VEX0JZX1VTRVIgPSAncG9wdXAtY2xvc2VkLWJ5LXVzZXInLFxuICBQUk9WSURFUl9BTFJFQURZX0xJTktFRCA9ICdwcm92aWRlci1hbHJlYWR5LWxpbmtlZCcsXG4gIFFVT1RBX0VYQ0VFREVEID0gJ3F1b3RhLWV4Y2VlZGVkJyxcbiAgUkVESVJFQ1RfQ0FOQ0VMTEVEX0JZX1VTRVIgPSAncmVkaXJlY3QtY2FuY2VsbGVkLWJ5LXVzZXInLFxuICBSRURJUkVDVF9PUEVSQVRJT05fUEVORElORyA9ICdyZWRpcmVjdC1vcGVyYXRpb24tcGVuZGluZycsXG4gIFJFSkVDVEVEX0NSRURFTlRJQUwgPSAncmVqZWN0ZWQtY3JlZGVudGlhbCcsXG4gIFNFQ09ORF9GQUNUT1JfQUxSRUFEWV9FTlJPTExFRCA9ICdzZWNvbmQtZmFjdG9yLWFscmVhZHktaW4tdXNlJyxcbiAgU0VDT05EX0ZBQ1RPUl9MSU1JVF9FWENFRURFRCA9ICdtYXhpbXVtLXNlY29uZC1mYWN0b3ItY291bnQtZXhjZWVkZWQnLFxuICBURU5BTlRfSURfTUlTTUFUQ0ggPSAndGVuYW50LWlkLW1pc21hdGNoJyxcbiAgVElNRU9VVCA9ICd0aW1lb3V0JyxcbiAgVE9LRU5fRVhQSVJFRCA9ICd1c2VyLXRva2VuLWV4cGlyZWQnLFxuICBUT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVIgPSAndG9vLW1hbnktcmVxdWVzdHMnLFxuICBVTkFVVEhPUklaRURfRE9NQUlOID0gJ3VuYXV0aG9yaXplZC1jb250aW51ZS11cmknLFxuICBVTlNVUFBPUlRFRF9GSVJTVF9GQUNUT1IgPSAndW5zdXBwb3J0ZWQtZmlyc3QtZmFjdG9yJyxcbiAgVU5TVVBQT1JURURfUEVSU0lTVEVOQ0UgPSAndW5zdXBwb3J0ZWQtcGVyc2lzdGVuY2UtdHlwZScsXG4gIFVOU1VQUE9SVEVEX1RFTkFOVF9PUEVSQVRJT04gPSAndW5zdXBwb3J0ZWQtdGVuYW50LW9wZXJhdGlvbicsXG4gIFVOVkVSSUZJRURfRU1BSUwgPSAndW52ZXJpZmllZC1lbWFpbCcsXG4gIFVTRVJfQ0FOQ0VMTEVEID0gJ3VzZXItY2FuY2VsbGVkJyxcbiAgVVNFUl9ERUxFVEVEID0gJ3VzZXItbm90LWZvdW5kJyxcbiAgVVNFUl9ESVNBQkxFRCA9ICd1c2VyLWRpc2FibGVkJyxcbiAgVVNFUl9NSVNNQVRDSCA9ICd1c2VyLW1pc21hdGNoJyxcbiAgVVNFUl9TSUdORURfT1VUID0gJ3VzZXItc2lnbmVkLW91dCcsXG4gIFdFQUtfUEFTU1dPUkQgPSAnd2Vhay1wYXNzd29yZCcsXG4gIFdFQl9TVE9SQUdFX1VOU1VQUE9SVEVEID0gJ3dlYi1zdG9yYWdlLXVuc3VwcG9ydGVkJyxcbiAgQUxSRUFEWV9JTklUSUFMSVpFRCA9ICdhbHJlYWR5LWluaXRpYWxpemVkJyxcbiAgUkVDQVBUQ0hBX05PVF9FTkFCTEVEID0gJ3JlY2FwdGNoYS1ub3QtZW5hYmxlZCcsXG4gIE1JU1NJTkdfUkVDQVBUQ0hBX1RPS0VOID0gJ21pc3NpbmctcmVjYXB0Y2hhLXRva2VuJyxcbiAgSU5WQUxJRF9SRUNBUFRDSEFfVE9LRU4gPSAnaW52YWxpZC1yZWNhcHRjaGEtdG9rZW4nLFxuICBJTlZBTElEX1JFQ0FQVENIQV9BQ1RJT04gPSAnaW52YWxpZC1yZWNhcHRjaGEtYWN0aW9uJyxcbiAgTUlTU0lOR19DTElFTlRfVFlQRSA9ICdtaXNzaW5nLWNsaWVudC10eXBlJyxcbiAgTUlTU0lOR19SRUNBUFRDSEFfVkVSU0lPTiA9ICdtaXNzaW5nLXJlY2FwdGNoYS12ZXJzaW9uJyxcbiAgSU5WQUxJRF9SRUNBUFRDSEFfVkVSU0lPTiA9ICdpbnZhbGlkLXJlY2FwdGNoYS12ZXJzaW9uJyxcbiAgSU5WQUxJRF9SRVFfVFlQRSA9ICdpbnZhbGlkLXJlcS10eXBlJyxcbiAgVU5TVVBQT1JURURfUEFTU1dPUkRfUE9MSUNZX1NDSEVNQV9WRVJTSU9OID0gJ3Vuc3VwcG9ydGVkLXBhc3N3b3JkLXBvbGljeS1zY2hlbWEtdmVyc2lvbicsXG4gIFBBU1NXT1JEX0RPRVNfTk9UX01FRVRfUkVRVUlSRU1FTlRTID0gJ3Bhc3N3b3JkLWRvZXMtbm90LW1lZXQtcmVxdWlyZW1lbnRzJ1xufVxuXG5mdW5jdGlvbiBfZGVidWdFcnJvck1hcCgpOiBFcnJvck1hcDxBdXRoRXJyb3JDb2RlPiB7XG4gIHJldHVybiB7XG4gICAgW0F1dGhFcnJvckNvZGUuQURNSU5fT05MWV9PUEVSQVRJT05dOlxuICAgICAgJ1RoaXMgb3BlcmF0aW9uIGlzIHJlc3RyaWN0ZWQgdG8gYWRtaW5pc3RyYXRvcnMgb25seS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXTogJycsXG4gICAgW0F1dGhFcnJvckNvZGUuQVBQX05PVF9BVVRIT1JJWkVEXTpcbiAgICAgIFwiVGhpcyBhcHAsIGlkZW50aWZpZWQgYnkgdGhlIGRvbWFpbiB3aGVyZSBpdCdzIGhvc3RlZCwgaXMgbm90IFwiICtcbiAgICAgICdhdXRob3JpemVkIHRvIHVzZSBGaXJlYmFzZSBBdXRoZW50aWNhdGlvbiB3aXRoIHRoZSBwcm92aWRlZCBBUEkga2V5LiAnICtcbiAgICAgICdSZXZpZXcgeW91ciBrZXkgY29uZmlndXJhdGlvbiBpbiB0aGUgR29vZ2xlIEFQSSBjb25zb2xlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuQVBQX05PVF9JTlNUQUxMRURdOlxuICAgICAgJ1RoZSByZXF1ZXN0ZWQgbW9iaWxlIGFwcGxpY2F0aW9uIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGlkZW50aWZpZXIgKCcgK1xuICAgICAgJ0FuZHJvaWQgcGFja2FnZSBuYW1lIG9yIGlPUyBidW5kbGUgSUQpIHByb3ZpZGVkIGlzIG5vdCBpbnN0YWxsZWQgb24gJyArXG4gICAgICAndGhpcyBkZXZpY2UuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5DQVBUQ0hBX0NIRUNLX0ZBSUxFRF06XG4gICAgICAnVGhlIHJlQ0FQVENIQSByZXNwb25zZSB0b2tlbiBwcm92aWRlZCBpcyBlaXRoZXIgaW52YWxpZCwgZXhwaXJlZCwgJyArXG4gICAgICAnYWxyZWFkeSB1c2VkIG9yIHRoZSBkb21haW4gYXNzb2NpYXRlZCB3aXRoIGl0IGRvZXMgbm90IG1hdGNoIHRoZSBsaXN0ICcgK1xuICAgICAgJ29mIHdoaXRlbGlzdGVkIGRvbWFpbnMuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5DT0RFX0VYUElSRURdOlxuICAgICAgJ1RoZSBTTVMgY29kZSBoYXMgZXhwaXJlZC4gUGxlYXNlIHJlLXNlbmQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHRvIHRyeSAnICtcbiAgICAgICdhZ2Fpbi4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkNPUkRPVkFfTk9UX1JFQURZXTogJ0NvcmRvdmEgZnJhbWV3b3JrIGlzIG5vdCByZWFkeS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkNPUlNfVU5TVVBQT1JURURdOiAnVGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5DUkVERU5USUFMX0FMUkVBRFlfSU5fVVNFXTpcbiAgICAgICdUaGlzIGNyZWRlbnRpYWwgaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYSBkaWZmZXJlbnQgdXNlciBhY2NvdW50LicsXG4gICAgW0F1dGhFcnJvckNvZGUuQ1JFREVOVElBTF9NSVNNQVRDSF06XG4gICAgICAnVGhlIGN1c3RvbSB0b2tlbiBjb3JyZXNwb25kcyB0byBhIGRpZmZlcmVudCBhdWRpZW5jZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkNSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTl06XG4gICAgICAnVGhpcyBvcGVyYXRpb24gaXMgc2Vuc2l0aXZlIGFuZCByZXF1aXJlcyByZWNlbnQgYXV0aGVudGljYXRpb24uIExvZyBpbiAnICtcbiAgICAgICdhZ2FpbiBiZWZvcmUgcmV0cnlpbmcgdGhpcyByZXF1ZXN0LicsXG4gICAgW0F1dGhFcnJvckNvZGUuREVQRU5ERU5UX1NES19JTklUX0JFRk9SRV9BVVRIXTpcbiAgICAgICdBbm90aGVyIEZpcmViYXNlIFNESyB3YXMgaW5pdGlhbGl6ZWQgYW5kIGlzIHRyeWluZyB0byB1c2UgQXV0aCBiZWZvcmUgQXV0aCBpcyAnICtcbiAgICAgICdpbml0aWFsaXplZC4gUGxlYXNlIGJlIHN1cmUgdG8gY2FsbCBgaW5pdGlhbGl6ZUF1dGhgIG9yIGBnZXRBdXRoYCBiZWZvcmUgJyArXG4gICAgICAnc3RhcnRpbmcgYW55IG90aGVyIEZpcmViYXNlIFNESy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkRZTkFNSUNfTElOS19OT1RfQUNUSVZBVEVEXTpcbiAgICAgICdQbGVhc2UgYWN0aXZhdGUgRHluYW1pYyBMaW5rcyBpbiB0aGUgRmlyZWJhc2UgQ29uc29sZSBhbmQgYWdyZWUgdG8gdGhlIHRlcm1zIGFuZCAnICtcbiAgICAgICdjb25kaXRpb25zLicsXG4gICAgW0F1dGhFcnJvckNvZGUuRU1BSUxfQ0hBTkdFX05FRURTX1ZFUklGSUNBVElPTl06XG4gICAgICAnTXVsdGktZmFjdG9yIHVzZXJzIG11c3QgYWx3YXlzIGhhdmUgYSB2ZXJpZmllZCBlbWFpbC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkVNQUlMX0VYSVNUU106XG4gICAgICAnVGhlIGVtYWlsIGFkZHJlc3MgaXMgYWxyZWFkeSBpbiB1c2UgYnkgYW5vdGhlciBhY2NvdW50LicsXG4gICAgW0F1dGhFcnJvckNvZGUuRU1VTEFUT1JfQ09ORklHX0ZBSUxFRF06XG4gICAgICAnQXV0aCBpbnN0YW5jZSBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgdG8gbWFrZSBhIG5ldHdvcmsgY2FsbC4gQXV0aCBjYW4gJyArXG4gICAgICAnbm8gbG9uZ2VyIGJlIGNvbmZpZ3VyZWQgdG8gdXNlIHRoZSBlbXVsYXRvci4gVHJ5IGNhbGxpbmcgJyArXG4gICAgICAnXCJjb25uZWN0QXV0aEVtdWxhdG9yKClcIiBzb29uZXIuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5FWFBJUkVEX09PQl9DT0RFXTogJ1RoZSBhY3Rpb24gY29kZSBoYXMgZXhwaXJlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkVYUElSRURfUE9QVVBfUkVRVUVTVF06XG4gICAgICAnVGhpcyBvcGVyYXRpb24gaGFzIGJlZW4gY2FuY2VsbGVkIGR1ZSB0byBhbm90aGVyIGNvbmZsaWN0aW5nIHBvcHVwIGJlaW5nIG9wZW5lZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXTogJ0FuIGludGVybmFsIEF1dGhFcnJvciBoYXMgb2NjdXJyZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0FQUF9DUkVERU5USUFMXTpcbiAgICAgICdUaGUgcGhvbmUgdmVyaWZpY2F0aW9uIHJlcXVlc3QgY29udGFpbnMgYW4gaW52YWxpZCBhcHBsaWNhdGlvbiB2ZXJpZmllci4nICtcbiAgICAgICcgVGhlIHJlQ0FQVENIQSB0b2tlbiByZXNwb25zZSBpcyBlaXRoZXIgaW52YWxpZCBvciBleHBpcmVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9BUFBfSURdOlxuICAgICAgJ1RoZSBtb2JpbGUgYXBwIGlkZW50aWZpZXIgaXMgbm90IHJlZ2lzdGVyZWQgZm9yIHRoZSBjdXJyZW50IHByb2plY3QuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0FVVEhdOlxuICAgICAgXCJUaGlzIHVzZXIncyBjcmVkZW50aWFsIGlzbid0IHZhbGlkIGZvciB0aGlzIHByb2plY3QuIFRoaXMgY2FuIGhhcHBlbiBcIiArXG4gICAgICBcImlmIHRoZSB1c2VyJ3MgdG9rZW4gaGFzIGJlZW4gdGFtcGVyZWQgd2l0aCwgb3IgaWYgdGhlIHVzZXIgaXNuJ3QgZm9yIFwiICtcbiAgICAgICd0aGUgcHJvamVjdCBhc3NvY2lhdGVkIHdpdGggdGhpcyBBUEkga2V5LicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9BVVRIX0VWRU5UXTogJ0FuIGludGVybmFsIEF1dGhFcnJvciBoYXMgb2NjdXJyZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0NPREVdOlxuICAgICAgJ1RoZSBTTVMgdmVyaWZpY2F0aW9uIGNvZGUgdXNlZCB0byBjcmVhdGUgdGhlIHBob25lIGF1dGggY3JlZGVudGlhbCBpcyAnICtcbiAgICAgICdpbnZhbGlkLiBQbGVhc2UgcmVzZW5kIHRoZSB2ZXJpZmljYXRpb24gY29kZSBzbXMgYW5kIGJlIHN1cmUgdG8gdXNlIHRoZSAnICtcbiAgICAgICd2ZXJpZmljYXRpb24gY29kZSBwcm92aWRlZCBieSB0aGUgdXNlci4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQ09OVElOVUVfVVJJXTpcbiAgICAgICdUaGUgY29udGludWUgVVJMIHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0IGlzIGludmFsaWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0NPUkRPVkFfQ09ORklHVVJBVElPTl06XG4gICAgICAnVGhlIGZvbGxvd2luZyBDb3Jkb3ZhIHBsdWdpbnMgbXVzdCBiZSBpbnN0YWxsZWQgdG8gZW5hYmxlIE9BdXRoIHNpZ24taW46ICcgK1xuICAgICAgJ2NvcmRvdmEtcGx1Z2luLWJ1aWxkaW5mbywgY29yZG92YS11bml2ZXJzYWwtbGlua3MtcGx1Z2luLCAnICtcbiAgICAgICdjb3Jkb3ZhLXBsdWdpbi1icm93c2VydGFiLCBjb3Jkb3ZhLXBsdWdpbi1pbmFwcGJyb3dzZXIgYW5kICcgK1xuICAgICAgJ2NvcmRvdmEtcGx1Z2luLWN1c3RvbXVybHNjaGVtZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQ1VTVE9NX1RPS0VOXTpcbiAgICAgICdUaGUgY3VzdG9tIHRva2VuIGZvcm1hdCBpcyBpbmNvcnJlY3QuIFBsZWFzZSBjaGVjayB0aGUgZG9jdW1lbnRhdGlvbi4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfRFlOQU1JQ19MSU5LX0RPTUFJTl06XG4gICAgICAnVGhlIHByb3ZpZGVkIGR5bmFtaWMgbGluayBkb21haW4gaXMgbm90IGNvbmZpZ3VyZWQgb3IgYXV0aG9yaXplZCBmb3IgdGhlIGN1cnJlbnQgcHJvamVjdC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfRU1BSUxdOiAnVGhlIGVtYWlsIGFkZHJlc3MgaXMgYmFkbHkgZm9ybWF0dGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9FTVVMQVRPUl9TQ0hFTUVdOlxuICAgICAgJ0VtdWxhdG9yIFVSTCBtdXN0IHN0YXJ0IHdpdGggYSB2YWxpZCBzY2hlbWUgKGh0dHA6Ly8gb3IgaHR0cHM6Ly8pLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9BUElfS0VZXTpcbiAgICAgICdZb3VyIEFQSSBrZXkgaXMgaW52YWxpZCwgcGxlYXNlIGNoZWNrIHlvdSBoYXZlIGNvcGllZCBpdCBjb3JyZWN0bHkuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX0NFUlRfSEFTSF06XG4gICAgICAnVGhlIFNIQS0xIGNlcnRpZmljYXRlIGhhc2ggcHJvdmlkZWQgaXMgaW52YWxpZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfQ1JFREVOVElBTF06XG4gICAgICAnVGhlIHN1cHBsaWVkIGF1dGggY3JlZGVudGlhbCBpcyBpbmNvcnJlY3QsIG1hbGZvcm1lZCBvciBoYXMgZXhwaXJlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfTUVTU0FHRV9QQVlMT0FEXTpcbiAgICAgICdUaGUgZW1haWwgdGVtcGxhdGUgY29ycmVzcG9uZGluZyB0byB0aGlzIGFjdGlvbiBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgaW4gaXRzIG1lc3NhZ2UuICcgK1xuICAgICAgJ1BsZWFzZSBmaXggYnkgZ29pbmcgdG8gdGhlIEF1dGggZW1haWwgdGVtcGxhdGVzIHNlY3Rpb24gaW4gdGhlIEZpcmViYXNlIENvbnNvbGUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX01GQV9TRVNTSU9OXTpcbiAgICAgICdUaGUgcmVxdWVzdCBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgcHJvb2Ygb2YgZmlyc3QgZmFjdG9yIHN1Y2Nlc3NmdWwgc2lnbi1pbi4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfT0FVVEhfUFJPVklERVJdOlxuICAgICAgJ0VtYWlsQXV0aFByb3ZpZGVyIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgb3BlcmF0aW9uLiBUaGlzIG9wZXJhdGlvbiAnICtcbiAgICAgICdvbmx5IHN1cHBvcnRzIE9BdXRoIHByb3ZpZGVycy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfT0FVVEhfQ0xJRU5UX0lEXTpcbiAgICAgICdUaGUgT0F1dGggY2xpZW50IElEIHByb3ZpZGVkIGlzIGVpdGhlciBpbnZhbGlkIG9yIGRvZXMgbm90IG1hdGNoIHRoZSAnICtcbiAgICAgICdzcGVjaWZpZWQgQVBJIGtleS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfT1JJR0lOXTpcbiAgICAgICdUaGlzIGRvbWFpbiBpcyBub3QgYXV0aG9yaXplZCBmb3IgT0F1dGggb3BlcmF0aW9ucyBmb3IgeW91ciBGaXJlYmFzZSAnICtcbiAgICAgICdwcm9qZWN0LiBFZGl0IHRoZSBsaXN0IG9mIGF1dGhvcml6ZWQgZG9tYWlucyBmcm9tIHRoZSBGaXJlYmFzZSBjb25zb2xlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9PT0JfQ09ERV06XG4gICAgICAnVGhlIGFjdGlvbiBjb2RlIGlzIGludmFsaWQuIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29kZSBpcyBtYWxmb3JtZWQsICcgK1xuICAgICAgJ2V4cGlyZWQsIG9yIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfUEFTU1dPUkRdOlxuICAgICAgJ1RoZSBwYXNzd29yZCBpcyBpbnZhbGlkIG9yIHRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYSBwYXNzd29yZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfUEVSU0lTVEVOQ0VdOlxuICAgICAgJ1RoZSBzcGVjaWZpZWQgcGVyc2lzdGVuY2UgdHlwZSBpcyBpbnZhbGlkLiBJdCBjYW4gb25seSBiZSBsb2NhbCwgc2Vzc2lvbiBvciBub25lLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9QSE9ORV9OVU1CRVJdOlxuICAgICAgJ1RoZSBmb3JtYXQgb2YgdGhlIHBob25lIG51bWJlciBwcm92aWRlZCBpcyBpbmNvcnJlY3QuIFBsZWFzZSBlbnRlciB0aGUgJyArXG4gICAgICAncGhvbmUgbnVtYmVyIGluIGEgZm9ybWF0IHRoYXQgY2FuIGJlIHBhcnNlZCBpbnRvIEUuMTY0IGZvcm1hdC4gRS4xNjQgJyArXG4gICAgICAncGhvbmUgbnVtYmVycyBhcmUgd3JpdHRlbiBpbiB0aGUgZm9ybWF0IFsrXVtjb3VudHJ5IGNvZGVdW3N1YnNjcmliZXIgJyArXG4gICAgICAnbnVtYmVyIGluY2x1ZGluZyBhcmVhIGNvZGVdLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9QUk9WSURFUl9JRF06XG4gICAgICAnVGhlIHNwZWNpZmllZCBwcm92aWRlciBJRCBpcyBpbnZhbGlkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9SRUNJUElFTlRfRU1BSUxdOlxuICAgICAgJ1RoZSBlbWFpbCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGZhaWxlZCB0byBzZW5kIGFzIHRoZSBwcm92aWRlZCAnICtcbiAgICAgICdyZWNpcGllbnQgZW1haWwgYWRkcmVzcyBpcyBpbnZhbGlkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9TRU5ERVJdOlxuICAgICAgJ1RoZSBlbWFpbCB0ZW1wbGF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGNvbnRhaW5zIGFuIGludmFsaWQgc2VuZGVyIGVtYWlsIG9yIG5hbWUuICcgK1xuICAgICAgJ1BsZWFzZSBmaXggYnkgZ29pbmcgdG8gdGhlIEF1dGggZW1haWwgdGVtcGxhdGVzIHNlY3Rpb24gaW4gdGhlIEZpcmViYXNlIENvbnNvbGUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1NFU1NJT05fSU5GT106XG4gICAgICAnVGhlIHZlcmlmaWNhdGlvbiBJRCB1c2VkIHRvIGNyZWF0ZSB0aGUgcGhvbmUgYXV0aCBjcmVkZW50aWFsIGlzIGludmFsaWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1RFTkFOVF9JRF06XG4gICAgICBcIlRoZSBBdXRoIGluc3RhbmNlJ3MgdGVuYW50IElEIGlzIGludmFsaWQuXCIsXG4gICAgW0F1dGhFcnJvckNvZGUuTE9HSU5fQkxPQ0tFRF06XG4gICAgICAnTG9naW4gYmxvY2tlZCBieSB1c2VyLXByb3ZpZGVkIG1ldGhvZDogeyRvcmlnaW5hbE1lc3NhZ2V9JyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FXTpcbiAgICAgICdBbiBBbmRyb2lkIFBhY2thZ2UgTmFtZSBtdXN0IGJlIHByb3ZpZGVkIGlmIHRoZSBBbmRyb2lkIEFwcCBpcyByZXF1aXJlZCB0byBiZSBpbnN0YWxsZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX0FVVEhfRE9NQUlOXTpcbiAgICAgICdCZSBzdXJlIHRvIGluY2x1ZGUgYXV0aERvbWFpbiB3aGVuIGNhbGxpbmcgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcCgpLCAnICtcbiAgICAgICdieSBmb2xsb3dpbmcgdGhlIGluc3RydWN0aW9ucyBpbiB0aGUgRmlyZWJhc2UgY29uc29sZS4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQVBQX0NSRURFTlRJQUxdOlxuICAgICAgJ1RoZSBwaG9uZSB2ZXJpZmljYXRpb24gcmVxdWVzdCBpcyBtaXNzaW5nIGFuIGFwcGxpY2F0aW9uIHZlcmlmaWVyICcgK1xuICAgICAgJ2Fzc2VydGlvbi4gQSByZUNBUFRDSEEgcmVzcG9uc2UgdG9rZW4gbmVlZHMgdG8gYmUgcHJvdmlkZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX0NPREVdOlxuICAgICAgJ1RoZSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwgd2FzIGNyZWF0ZWQgd2l0aCBhbiBlbXB0eSBTTVMgdmVyaWZpY2F0aW9uIGNvZGUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX0NPTlRJTlVFX1VSSV06XG4gICAgICAnQSBjb250aW51ZSBVUkwgbXVzdCBiZSBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfSUZSQU1FX1NUQVJUXTogJ0FuIGludGVybmFsIEF1dGhFcnJvciBoYXMgb2NjdXJyZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX0lPU19CVU5ETEVfSURdOlxuICAgICAgJ0FuIGlPUyBCdW5kbGUgSUQgbXVzdCBiZSBwcm92aWRlZCBpZiBhbiBBcHAgU3RvcmUgSUQgaXMgcHJvdmlkZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX09SX0lOVkFMSURfTk9OQ0VdOlxuICAgICAgJ1RoZSByZXF1ZXN0IGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCBub25jZS4gVGhpcyBjYW4gb2NjdXIgaWYgdGhlICcgK1xuICAgICAgJ1NIQS0yNTYgaGFzaCBvZiB0aGUgcHJvdmlkZWQgcmF3IG5vbmNlIGRvZXMgbm90IG1hdGNoIHRoZSBoYXNoZWQgbm9uY2UgJyArXG4gICAgICAnaW4gdGhlIElEIHRva2VuIHBheWxvYWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX1BBU1NXT1JEXTogJ0Egbm9uLWVtcHR5IHBhc3N3b3JkIG11c3QgYmUgcHJvdmlkZWQnLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfTUZBX0lORk9dOlxuICAgICAgJ05vIHNlY29uZCBmYWN0b3IgaWRlbnRpZmllciBpcyBwcm92aWRlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfTUZBX1NFU1NJT05dOlxuICAgICAgJ1RoZSByZXF1ZXN0IGlzIG1pc3NpbmcgcHJvb2Ygb2YgZmlyc3QgZmFjdG9yIHN1Y2Nlc3NmdWwgc2lnbi1pbi4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfUEhPTkVfTlVNQkVSXTpcbiAgICAgICdUbyBzZW5kIHZlcmlmaWNhdGlvbiBjb2RlcywgcHJvdmlkZSBhIHBob25lIG51bWJlciBmb3IgdGhlIHJlY2lwaWVudC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfU0VTU0lPTl9JTkZPXTpcbiAgICAgICdUaGUgcGhvbmUgYXV0aCBjcmVkZW50aWFsIHdhcyBjcmVhdGVkIHdpdGggYW4gZW1wdHkgdmVyaWZpY2F0aW9uIElELicsXG4gICAgW0F1dGhFcnJvckNvZGUuTU9EVUxFX0RFU1RST1lFRF06XG4gICAgICAnVGhpcyBpbnN0YW5jZSBvZiBGaXJlYmFzZUFwcCBoYXMgYmVlbiBkZWxldGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUZBX0lORk9fTk9UX0ZPVU5EXTpcbiAgICAgICdUaGUgdXNlciBkb2VzIG5vdCBoYXZlIGEgc2Vjb25kIGZhY3RvciBtYXRjaGluZyB0aGUgaWRlbnRpZmllciBwcm92aWRlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLk1GQV9SRVFVSVJFRF06XG4gICAgICAnUHJvb2Ygb2Ygb3duZXJzaGlwIG9mIGEgc2Vjb25kIGZhY3RvciBpcyByZXF1aXJlZCB0byBjb21wbGV0ZSBzaWduLWluLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTkVFRF9DT05GSVJNQVRJT05dOlxuICAgICAgJ0FuIGFjY291bnQgYWxyZWFkeSBleGlzdHMgd2l0aCB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzIGJ1dCBkaWZmZXJlbnQgJyArXG4gICAgICAnc2lnbi1pbiBjcmVkZW50aWFscy4gU2lnbiBpbiB1c2luZyBhIHByb3ZpZGVyIGFzc29jaWF0ZWQgd2l0aCB0aGlzICcgK1xuICAgICAgJ2VtYWlsIGFkZHJlc3MuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5ORVRXT1JLX1JFUVVFU1RfRkFJTEVEXTpcbiAgICAgICdBIG5ldHdvcmsgQXV0aEVycm9yIChzdWNoIGFzIHRpbWVvdXQsIGludGVycnVwdGVkIGNvbm5lY3Rpb24gb3IgdW5yZWFjaGFibGUgaG9zdCkgaGFzIG9jY3VycmVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTk9fQVVUSF9FVkVOVF06ICdBbiBpbnRlcm5hbCBBdXRoRXJyb3IgaGFzIG9jY3VycmVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTk9fU1VDSF9QUk9WSURFUl06XG4gICAgICAnVXNlciB3YXMgbm90IGxpbmtlZCB0byBhbiBhY2NvdW50IHdpdGggdGhlIGdpdmVuIHByb3ZpZGVyLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTlVMTF9VU0VSXTpcbiAgICAgICdBIG51bGwgdXNlciBvYmplY3Qgd2FzIHByb3ZpZGVkIGFzIHRoZSBhcmd1bWVudCBmb3IgYW4gb3BlcmF0aW9uIHdoaWNoICcgK1xuICAgICAgJ3JlcXVpcmVzIGEgbm9uLW51bGwgdXNlciBvYmplY3QuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX0FMTE9XRURdOlxuICAgICAgJ1RoZSBnaXZlbiBzaWduLWluIHByb3ZpZGVyIGlzIGRpc2FibGVkIGZvciB0aGlzIEZpcmViYXNlIHByb2plY3QuICcgK1xuICAgICAgJ0VuYWJsZSBpdCBpbiB0aGUgRmlyZWJhc2UgY29uc29sZSwgdW5kZXIgdGhlIHNpZ24taW4gbWV0aG9kIHRhYiBvZiB0aGUgJyArXG4gICAgICAnQXV0aCBzZWN0aW9uLicsXG4gICAgW0F1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9TVVBQT1JURURdOlxuICAgICAgJ1RoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGVudmlyb25tZW50IHRoaXMgYXBwbGljYXRpb24gaXMgJyArXG4gICAgICAncnVubmluZyBvbi4gXCJsb2NhdGlvbi5wcm90b2NvbFwiIG11c3QgYmUgaHR0cCwgaHR0cHMgb3IgY2hyb21lLWV4dGVuc2lvbicgK1xuICAgICAgJyBhbmQgd2ViIHN0b3JhZ2UgbXVzdCBiZSBlbmFibGVkLicsXG4gICAgW0F1dGhFcnJvckNvZGUuUE9QVVBfQkxPQ0tFRF06XG4gICAgICAnVW5hYmxlIHRvIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgcG9wdXAuIEl0IG1heSBoYXZlIGJlZW4gYmxvY2tlZCBieSB0aGUgYnJvd3Nlci4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlBPUFVQX0NMT1NFRF9CWV9VU0VSXTpcbiAgICAgICdUaGUgcG9wdXAgaGFzIGJlZW4gY2xvc2VkIGJ5IHRoZSB1c2VyIGJlZm9yZSBmaW5hbGl6aW5nIHRoZSBvcGVyYXRpb24uJyxcbiAgICBbQXV0aEVycm9yQ29kZS5QUk9WSURFUl9BTFJFQURZX0xJTktFRF06XG4gICAgICAnVXNlciBjYW4gb25seSBiZSBsaW5rZWQgdG8gb25lIGlkZW50aXR5IGZvciB0aGUgZ2l2ZW4gcHJvdmlkZXIuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5RVU9UQV9FWENFRURFRF06XG4gICAgICBcIlRoZSBwcm9qZWN0J3MgcXVvdGEgZm9yIHRoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGV4Y2VlZGVkLlwiLFxuICAgIFtBdXRoRXJyb3JDb2RlLlJFRElSRUNUX0NBTkNFTExFRF9CWV9VU0VSXTpcbiAgICAgICdUaGUgcmVkaXJlY3Qgb3BlcmF0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZCBieSB0aGUgdXNlciBiZWZvcmUgZmluYWxpemluZy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlJFRElSRUNUX09QRVJBVElPTl9QRU5ESU5HXTpcbiAgICAgICdBIHJlZGlyZWN0IHNpZ24taW4gb3BlcmF0aW9uIGlzIGFscmVhZHkgcGVuZGluZy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlJFSkVDVEVEX0NSRURFTlRJQUxdOlxuICAgICAgJ1RoZSByZXF1ZXN0IGNvbnRhaW5zIG1hbGZvcm1lZCBvciBtaXNtYXRjaGluZyBjcmVkZW50aWFscy4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlNFQ09ORF9GQUNUT1JfQUxSRUFEWV9FTlJPTExFRF06XG4gICAgICAnVGhlIHNlY29uZCBmYWN0b3IgaXMgYWxyZWFkeSBlbnJvbGxlZCBvbiB0aGlzIGFjY291bnQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5TRUNPTkRfRkFDVE9SX0xJTUlUX0VYQ0VFREVEXTpcbiAgICAgICdUaGUgbWF4aW11bSBhbGxvd2VkIG51bWJlciBvZiBzZWNvbmQgZmFjdG9ycyBvbiBhIHVzZXIgaGFzIGJlZW4gZXhjZWVkZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5URU5BTlRfSURfTUlTTUFUQ0hdOlxuICAgICAgXCJUaGUgcHJvdmlkZWQgdGVuYW50IElEIGRvZXMgbm90IG1hdGNoIHRoZSBBdXRoIGluc3RhbmNlJ3MgdGVuYW50IElEXCIsXG4gICAgW0F1dGhFcnJvckNvZGUuVElNRU9VVF06ICdUaGUgb3BlcmF0aW9uIGhhcyB0aW1lZCBvdXQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5UT0tFTl9FWFBJUkVEXTpcbiAgICAgIFwiVGhlIHVzZXIncyBjcmVkZW50aWFsIGlzIG5vIGxvbmdlciB2YWxpZC4gVGhlIHVzZXIgbXVzdCBzaWduIGluIGFnYWluLlwiLFxuICAgIFtBdXRoRXJyb3JDb2RlLlRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUl06XG4gICAgICAnV2UgaGF2ZSBibG9ja2VkIGFsbCByZXF1ZXN0cyBmcm9tIHRoaXMgZGV2aWNlIGR1ZSB0byB1bnVzdWFsIGFjdGl2aXR5LiAnICtcbiAgICAgICdUcnkgYWdhaW4gbGF0ZXIuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VTkFVVEhPUklaRURfRE9NQUlOXTpcbiAgICAgICdUaGUgZG9tYWluIG9mIHRoZSBjb250aW51ZSBVUkwgaXMgbm90IHdoaXRlbGlzdGVkLiAgUGxlYXNlIHdoaXRlbGlzdCAnICtcbiAgICAgICd0aGUgZG9tYWluIGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuVU5TVVBQT1JURURfRklSU1RfRkFDVE9SXTpcbiAgICAgICdFbnJvbGxpbmcgYSBzZWNvbmQgZmFjdG9yIG9yIHNpZ25pbmcgaW4gd2l0aCBhIG11bHRpLWZhY3RvciBhY2NvdW50IHJlcXVpcmVzIHNpZ24taW4gd2l0aCBhIHN1cHBvcnRlZCBmaXJzdCBmYWN0b3IuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VTlNVUFBPUlRFRF9QRVJTSVNURU5DRV06XG4gICAgICAnVGhlIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgc3BlY2lmaWVkIHBlcnNpc3RlbmNlIHR5cGUuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VTlNVUFBPUlRFRF9URU5BTlRfT1BFUkFUSU9OXTpcbiAgICAgICdUaGlzIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIGEgbXVsdGktdGVuYW50IGNvbnRleHQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VTlZFUklGSUVEX0VNQUlMXTpcbiAgICAgICdUaGUgb3BlcmF0aW9uIHJlcXVpcmVzIGEgdmVyaWZpZWQgZW1haWwuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VU0VSX0NBTkNFTExFRF06XG4gICAgICAnVGhlIHVzZXIgZGlkIG5vdCBncmFudCB5b3VyIGFwcGxpY2F0aW9uIHRoZSBwZXJtaXNzaW9ucyBpdCByZXF1ZXN0ZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VU0VSX0RFTEVURURdOlxuICAgICAgJ1RoZXJlIGlzIG5vIHVzZXIgcmVjb3JkIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBpZGVudGlmaWVyLiBUaGUgdXNlciBtYXkgJyArXG4gICAgICAnaGF2ZSBiZWVuIGRlbGV0ZWQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VU0VSX0RJU0FCTEVEXTpcbiAgICAgICdUaGUgdXNlciBhY2NvdW50IGhhcyBiZWVuIGRpc2FibGVkIGJ5IGFuIGFkbWluaXN0cmF0b3IuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VU0VSX01JU01BVENIXTpcbiAgICAgICdUaGUgc3VwcGxpZWQgY3JlZGVudGlhbHMgZG8gbm90IGNvcnJlc3BvbmQgdG8gdGhlIHByZXZpb3VzbHkgc2lnbmVkIGluIHVzZXIuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5VU0VSX1NJR05FRF9PVVRdOiAnJyxcbiAgICBbQXV0aEVycm9yQ29kZS5XRUFLX1BBU1NXT1JEXTpcbiAgICAgICdUaGUgcGFzc3dvcmQgbXVzdCBiZSA2IGNoYXJhY3RlcnMgbG9uZyBvciBtb3JlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuV0VCX1NUT1JBR0VfVU5TVVBQT1JURURdOlxuICAgICAgJ1RoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkIG9yIDNyZCBwYXJ0eSBjb29raWVzIGFuZCBkYXRhIG1heSBiZSBkaXNhYmxlZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLkFMUkVBRFlfSU5JVElBTElaRURdOlxuICAgICAgJ2luaXRpYWxpemVBdXRoKCkgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWQgd2l0aCAnICtcbiAgICAgICdkaWZmZXJlbnQgb3B0aW9ucy4gVG8gYXZvaWQgdGhpcyBlcnJvciwgY2FsbCBpbml0aWFsaXplQXV0aCgpIHdpdGggdGhlICcgK1xuICAgICAgJ3NhbWUgb3B0aW9ucyBhcyB3aGVuIGl0IHdhcyBvcmlnaW5hbGx5IGNhbGxlZCwgb3IgY2FsbCBnZXRBdXRoKCkgdG8gcmV0dXJuIHRoZScgK1xuICAgICAgJyBhbHJlYWR5IGluaXRpYWxpemVkIGluc3RhbmNlLicsXG4gICAgW0F1dGhFcnJvckNvZGUuTUlTU0lOR19SRUNBUFRDSEFfVE9LRU5dOlxuICAgICAgJ1RoZSByZUNBUFRDSEEgdG9rZW4gaXMgbWlzc2luZyB3aGVuIHNlbmRpbmcgcmVxdWVzdCB0byB0aGUgYmFja2VuZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfUkVDQVBUQ0hBX1RPS0VOXTpcbiAgICAgICdUaGUgcmVDQVBUQ0hBIHRva2VuIGlzIGludmFsaWQgd2hlbiBzZW5kaW5nIHJlcXVlc3QgdG8gdGhlIGJhY2tlbmQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1JFQ0FQVENIQV9BQ1RJT05dOlxuICAgICAgJ1RoZSByZUNBUFRDSEEgYWN0aW9uIGlzIGludmFsaWQgd2hlbiBzZW5kaW5nIHJlcXVlc3QgdG8gdGhlIGJhY2tlbmQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5SRUNBUFRDSEFfTk9UX0VOQUJMRURdOlxuICAgICAgJ3JlQ0FQVENIQSBFbnRlcnByaXNlIGludGVncmF0aW9uIGlzIG5vdCBlbmFibGVkIGZvciB0aGlzIHByb2plY3QuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX0NMSUVOVF9UWVBFXTpcbiAgICAgICdUaGUgcmVDQVBUQ0hBIGNsaWVudCB0eXBlIGlzIG1pc3Npbmcgd2hlbiBzZW5kaW5nIHJlcXVlc3QgdG8gdGhlIGJhY2tlbmQuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5NSVNTSU5HX1JFQ0FQVENIQV9WRVJTSU9OXTpcbiAgICAgICdUaGUgcmVDQVBUQ0hBIHZlcnNpb24gaXMgbWlzc2luZyB3aGVuIHNlbmRpbmcgcmVxdWVzdCB0byB0aGUgYmFja2VuZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLklOVkFMSURfUkVRX1RZUEVdOiAnSW52YWxpZCByZXF1ZXN0IHBhcmFtZXRlcnMuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5JTlZBTElEX1JFQ0FQVENIQV9WRVJTSU9OXTpcbiAgICAgICdUaGUgcmVDQVBUQ0hBIHZlcnNpb24gaXMgaW52YWxpZCB3aGVuIHNlbmRpbmcgcmVxdWVzdCB0byB0aGUgYmFja2VuZC4nLFxuICAgIFtBdXRoRXJyb3JDb2RlLlVOU1VQUE9SVEVEX1BBU1NXT1JEX1BPTElDWV9TQ0hFTUFfVkVSU0lPTl06XG4gICAgICAnVGhlIHBhc3N3b3JkIHBvbGljeSByZWNlaXZlZCBmcm9tIHRoZSBiYWNrZW5kIHVzZXMgYSBzY2hlbWEgdmVyc2lvbiB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyB2ZXJzaW9uIG9mIHRoZSBGaXJlYmFzZSBTREsuJyxcbiAgICBbQXV0aEVycm9yQ29kZS5QQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UU106XG4gICAgICAnVGhlIHBhc3N3b3JkIGRvZXMgbm90IG1lZXQgdGhlIHJlcXVpcmVtZW50cy4nXG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JNYXBSZXRyaWV2ZXIgZXh0ZW5kcyBBdXRoRXJyb3JNYXAge1xuICAoKTogRXJyb3JNYXA8QXV0aEVycm9yQ29kZT47XG59XG5cbmZ1bmN0aW9uIF9wcm9kRXJyb3JNYXAoKTogRXJyb3JNYXA8QXV0aEVycm9yQ29kZT4ge1xuICAvLyBXZSB3aWxsIGluY2x1ZGUgdGhpcyBvbmUgbWVzc2FnZSBpbiB0aGUgcHJvZCBlcnJvciBtYXAgc2luY2UgYnkgdGhlIHZlcnlcbiAgLy8gbmF0dXJlIG9mIHRoaXMgZXJyb3IsIGRldmVsb3BlcnMgd2lsbCBuZXZlciBiZSBhYmxlIHRvIHNlZSB0aGUgbWVzc2FnZVxuICAvLyB1c2luZyB0aGUgZGVidWdFcnJvck1hcCAod2hpY2ggaXMgaW5zdGFsbGVkIGR1cmluZyBhdXRoIGluaXRpYWxpemF0aW9uKS5cbiAgcmV0dXJuIHtcbiAgICBbQXV0aEVycm9yQ29kZS5ERVBFTkRFTlRfU0RLX0lOSVRfQkVGT1JFX0FVVEhdOlxuICAgICAgJ0Fub3RoZXIgRmlyZWJhc2UgU0RLIHdhcyBpbml0aWFsaXplZCBhbmQgaXMgdHJ5aW5nIHRvIHVzZSBBdXRoIGJlZm9yZSBBdXRoIGlzICcgK1xuICAgICAgJ2luaXRpYWxpemVkLiBQbGVhc2UgYmUgc3VyZSB0byBjYWxsIGBpbml0aWFsaXplQXV0aGAgb3IgYGdldEF1dGhgIGJlZm9yZSAnICtcbiAgICAgICdzdGFydGluZyBhbnkgb3RoZXIgRmlyZWJhc2UgU0RLLidcbiAgfSBhcyBFcnJvck1hcDxBdXRoRXJyb3JDb2RlPjtcbn1cblxuLyoqXG4gKiBBIHZlcmJvc2UgZXJyb3IgbWFwIHdpdGggZGV0YWlsZWQgZGVzY3JpcHRpb25zIGZvciBtb3N0IGVycm9yIGNvZGVzLlxuICpcbiAqIFNlZSBkaXNjdXNzaW9uIGF0IHtAbGluayBBdXRoRXJyb3JNYXB9XG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZGVidWdFcnJvck1hcDogQXV0aEVycm9yTWFwID0gX2RlYnVnRXJyb3JNYXA7XG5cbi8qKlxuICogQSBtaW5pbWFsIGVycm9yIG1hcCB3aXRoIGFsbCB2ZXJib3NlIGVycm9yIG1lc3NhZ2VzIHN0cmlwcGVkLlxuICpcbiAqIFNlZSBkaXNjdXNzaW9uIGF0IHtAbGluayBBdXRoRXJyb3JNYXB9XG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgcHJvZEVycm9yTWFwOiBBdXRoRXJyb3JNYXAgPSBfcHJvZEVycm9yTWFwO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5hbWVkRXJyb3JQYXJhbXMge1xuICBhcHBOYW1lOiBBcHBOYW1lO1xuICBjcmVkZW50aWFsPzogQXV0aENyZWRlbnRpYWw7XG4gIGVtYWlsPzogc3RyaW5nO1xuICBwaG9uZU51bWJlcj86IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG4gIHVzZXI/OiBVc2VyO1xuICBfc2VydmVyUmVzcG9uc2U/OiBvYmplY3Q7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbnR5cGUgR2VuZXJpY0F1dGhFcnJvclBhcmFtcyA9IHtcbiAgW2tleSBpbiBFeGNsdWRlPFxuICAgIEF1dGhFcnJvckNvZGUsXG4gICAgfCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICAgfCBBdXRoRXJyb3JDb2RlLkRFUEVOREVOVF9TREtfSU5JVF9CRUZPUkVfQVVUSFxuICAgIHwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgIHwgQXV0aEVycm9yQ29kZS5NRkFfUkVRVUlSRURcbiAgICB8IEF1dGhFcnJvckNvZGUuTk9fQVVUSF9FVkVOVFxuICAgIHwgQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX1NVUFBPUlRFRFxuICA+XToge1xuICAgIGFwcE5hbWU/OiBBcHBOYW1lO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIHBob25lTnVtYmVyPzogc3RyaW5nO1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIH07XG59O1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhFcnJvclBhcmFtcyBleHRlbmRzIEdlbmVyaWNBdXRoRXJyb3JQYXJhbXMge1xuICBbQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUl06IHsgYXBwTmFtZT86IEFwcE5hbWUgfTtcbiAgW0F1dGhFcnJvckNvZGUuREVQRU5ERU5UX1NES19JTklUX0JFRk9SRV9BVVRIXTogeyBhcHBOYW1lPzogQXBwTmFtZSB9O1xuICBbQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUl06IHsgYXBwTmFtZT86IEFwcE5hbWUgfTtcbiAgW0F1dGhFcnJvckNvZGUuTE9HSU5fQkxPQ0tFRF06IHtcbiAgICBhcHBOYW1lPzogQXBwTmFtZTtcbiAgICBvcmlnaW5hbE1lc3NhZ2U/OiBzdHJpbmc7XG4gIH07XG4gIFtBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfU1VQUE9SVEVEXTogeyBhcHBOYW1lPzogQXBwTmFtZSB9O1xuICBbQXV0aEVycm9yQ29kZS5OT19BVVRIX0VWRU5UXTogeyBhcHBOYW1lPzogQXBwTmFtZSB9O1xuICBbQXV0aEVycm9yQ29kZS5NRkFfUkVRVUlSRURdOiB7XG4gICAgYXBwTmFtZTogQXBwTmFtZTtcbiAgICBfc2VydmVyUmVzcG9uc2U6IElkVG9rZW5NZmFSZXNwb25zZTtcbiAgfTtcbiAgW0F1dGhFcnJvckNvZGUuSU5WQUxJRF9DT1JET1ZBX0NPTkZJR1VSQVRJT05dOiB7XG4gICAgYXBwTmFtZTogQXBwTmFtZTtcbiAgICBtaXNzaW5nUGx1Z2luPzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgY29uc3QgX0RFRkFVTFRfQVVUSF9FUlJPUl9GQUNUT1JZID0gbmV3IEVycm9yRmFjdG9yeTxcbiAgQXV0aEVycm9yQ29kZSxcbiAgQXV0aEVycm9yUGFyYW1zXG4+KCdhdXRoJywgJ0ZpcmViYXNlJywgX3Byb2RFcnJvck1hcCgpKTtcblxuLyoqXG4gKiBBIG1hcCBvZiBwb3RlbnRpYWwgYEF1dGhgIGVycm9yIGNvZGVzLCBmb3IgZWFzaWVyIGNvbXBhcmlzb24gd2l0aCBlcnJvcnNcbiAqIHRocm93biBieSB0aGUgU0RLLlxuICpcbiAqIEByZW1hcmtzXG4gKiBOb3RlIHRoYXQgeW91IGNhbid0IHRyZWUtc2hha2UgaW5kaXZpZHVhbCBrZXlzXG4gKiBpbiB0aGUgbWFwLCBzbyBieSB1c2luZyB0aGUgbWFwIHlvdSBtaWdodCBzdWJzdGFudGlhbGx5IGluY3JlYXNlIHlvdXJcbiAqIGJ1bmRsZSBzaXplLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEFVVEhfRVJST1JfQ09ERVNfTUFQX0RPX05PVF9VU0VfSU5URVJOQUxMWSA9IHtcbiAgQURNSU5fT05MWV9PUEVSQVRJT046ICdhdXRoL2FkbWluLXJlc3RyaWN0ZWQtb3BlcmF0aW9uJyxcbiAgQVJHVU1FTlRfRVJST1I6ICdhdXRoL2FyZ3VtZW50LWVycm9yJyxcbiAgQVBQX05PVF9BVVRIT1JJWkVEOiAnYXV0aC9hcHAtbm90LWF1dGhvcml6ZWQnLFxuICBBUFBfTk9UX0lOU1RBTExFRDogJ2F1dGgvYXBwLW5vdC1pbnN0YWxsZWQnLFxuICBDQVBUQ0hBX0NIRUNLX0ZBSUxFRDogJ2F1dGgvY2FwdGNoYS1jaGVjay1mYWlsZWQnLFxuICBDT0RFX0VYUElSRUQ6ICdhdXRoL2NvZGUtZXhwaXJlZCcsXG4gIENPUkRPVkFfTk9UX1JFQURZOiAnYXV0aC9jb3Jkb3ZhLW5vdC1yZWFkeScsXG4gIENPUlNfVU5TVVBQT1JURUQ6ICdhdXRoL2NvcnMtdW5zdXBwb3J0ZWQnLFxuICBDUkVERU5USUFMX0FMUkVBRFlfSU5fVVNFOiAnYXV0aC9jcmVkZW50aWFsLWFscmVhZHktaW4tdXNlJyxcbiAgQ1JFREVOVElBTF9NSVNNQVRDSDogJ2F1dGgvY3VzdG9tLXRva2VuLW1pc21hdGNoJyxcbiAgQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOOiAnYXV0aC9yZXF1aXJlcy1yZWNlbnQtbG9naW4nLFxuICBERVBFTkRFTlRfU0RLX0lOSVRfQkVGT1JFX0FVVEg6ICdhdXRoL2RlcGVuZGVudC1zZGstaW5pdGlhbGl6ZWQtYmVmb3JlLWF1dGgnLFxuICBEWU5BTUlDX0xJTktfTk9UX0FDVElWQVRFRDogJ2F1dGgvZHluYW1pYy1saW5rLW5vdC1hY3RpdmF0ZWQnLFxuICBFTUFJTF9DSEFOR0VfTkVFRFNfVkVSSUZJQ0FUSU9OOiAnYXV0aC9lbWFpbC1jaGFuZ2UtbmVlZHMtdmVyaWZpY2F0aW9uJyxcbiAgRU1BSUxfRVhJU1RTOiAnYXV0aC9lbWFpbC1hbHJlYWR5LWluLXVzZScsXG4gIEVNVUxBVE9SX0NPTkZJR19GQUlMRUQ6ICdhdXRoL2VtdWxhdG9yLWNvbmZpZy1mYWlsZWQnLFxuICBFWFBJUkVEX09PQl9DT0RFOiAnYXV0aC9leHBpcmVkLWFjdGlvbi1jb2RlJyxcbiAgRVhQSVJFRF9QT1BVUF9SRVFVRVNUOiAnYXV0aC9jYW5jZWxsZWQtcG9wdXAtcmVxdWVzdCcsXG4gIElOVEVSTkFMX0VSUk9SOiAnYXV0aC9pbnRlcm5hbC1lcnJvcicsXG4gIElOVkFMSURfQVBJX0tFWTogJ2F1dGgvaW52YWxpZC1hcGkta2V5JyxcbiAgSU5WQUxJRF9BUFBfQ1JFREVOVElBTDogJ2F1dGgvaW52YWxpZC1hcHAtY3JlZGVudGlhbCcsXG4gIElOVkFMSURfQVBQX0lEOiAnYXV0aC9pbnZhbGlkLWFwcC1pZCcsXG4gIElOVkFMSURfQVVUSDogJ2F1dGgvaW52YWxpZC11c2VyLXRva2VuJyxcbiAgSU5WQUxJRF9BVVRIX0VWRU5UOiAnYXV0aC9pbnZhbGlkLWF1dGgtZXZlbnQnLFxuICBJTlZBTElEX0NFUlRfSEFTSDogJ2F1dGgvaW52YWxpZC1jZXJ0LWhhc2gnLFxuICBJTlZBTElEX0NPREU6ICdhdXRoL2ludmFsaWQtdmVyaWZpY2F0aW9uLWNvZGUnLFxuICBJTlZBTElEX0NPTlRJTlVFX1VSSTogJ2F1dGgvaW52YWxpZC1jb250aW51ZS11cmknLFxuICBJTlZBTElEX0NPUkRPVkFfQ09ORklHVVJBVElPTjogJ2F1dGgvaW52YWxpZC1jb3Jkb3ZhLWNvbmZpZ3VyYXRpb24nLFxuICBJTlZBTElEX0NVU1RPTV9UT0tFTjogJ2F1dGgvaW52YWxpZC1jdXN0b20tdG9rZW4nLFxuICBJTlZBTElEX0RZTkFNSUNfTElOS19ET01BSU46ICdhdXRoL2ludmFsaWQtZHluYW1pYy1saW5rLWRvbWFpbicsXG4gIElOVkFMSURfRU1BSUw6ICdhdXRoL2ludmFsaWQtZW1haWwnLFxuICBJTlZBTElEX0VNVUxBVE9SX1NDSEVNRTogJ2F1dGgvaW52YWxpZC1lbXVsYXRvci1zY2hlbWUnLFxuICBJTlZBTElEX0lEUF9SRVNQT05TRTogJ2F1dGgvaW52YWxpZC1jcmVkZW50aWFsJyxcbiAgSU5WQUxJRF9MT0dJTl9DUkVERU5USUFMUzogJ2F1dGgvaW52YWxpZC1jcmVkZW50aWFsJyxcbiAgSU5WQUxJRF9NRVNTQUdFX1BBWUxPQUQ6ICdhdXRoL2ludmFsaWQtbWVzc2FnZS1wYXlsb2FkJyxcbiAgSU5WQUxJRF9NRkFfU0VTU0lPTjogJ2F1dGgvaW52YWxpZC1tdWx0aS1mYWN0b3Itc2Vzc2lvbicsXG4gIElOVkFMSURfT0FVVEhfQ0xJRU5UX0lEOiAnYXV0aC9pbnZhbGlkLW9hdXRoLWNsaWVudC1pZCcsXG4gIElOVkFMSURfT0FVVEhfUFJPVklERVI6ICdhdXRoL2ludmFsaWQtb2F1dGgtcHJvdmlkZXInLFxuICBJTlZBTElEX09PQl9DT0RFOiAnYXV0aC9pbnZhbGlkLWFjdGlvbi1jb2RlJyxcbiAgSU5WQUxJRF9PUklHSU46ICdhdXRoL3VuYXV0aG9yaXplZC1kb21haW4nLFxuICBJTlZBTElEX1BBU1NXT1JEOiAnYXV0aC93cm9uZy1wYXNzd29yZCcsXG4gIElOVkFMSURfUEVSU0lTVEVOQ0U6ICdhdXRoL2ludmFsaWQtcGVyc2lzdGVuY2UtdHlwZScsXG4gIElOVkFMSURfUEhPTkVfTlVNQkVSOiAnYXV0aC9pbnZhbGlkLXBob25lLW51bWJlcicsXG4gIElOVkFMSURfUFJPVklERVJfSUQ6ICdhdXRoL2ludmFsaWQtcHJvdmlkZXItaWQnLFxuICBJTlZBTElEX1JFQ0lQSUVOVF9FTUFJTDogJ2F1dGgvaW52YWxpZC1yZWNpcGllbnQtZW1haWwnLFxuICBJTlZBTElEX1NFTkRFUjogJ2F1dGgvaW52YWxpZC1zZW5kZXInLFxuICBJTlZBTElEX1NFU1NJT05fSU5GTzogJ2F1dGgvaW52YWxpZC12ZXJpZmljYXRpb24taWQnLFxuICBJTlZBTElEX1RFTkFOVF9JRDogJ2F1dGgvaW52YWxpZC10ZW5hbnQtaWQnLFxuICBNRkFfSU5GT19OT1RfRk9VTkQ6ICdhdXRoL211bHRpLWZhY3Rvci1pbmZvLW5vdC1mb3VuZCcsXG4gIE1GQV9SRVFVSVJFRDogJ2F1dGgvbXVsdGktZmFjdG9yLWF1dGgtcmVxdWlyZWQnLFxuICBNSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FOiAnYXV0aC9taXNzaW5nLWFuZHJvaWQtcGtnLW5hbWUnLFxuICBNSVNTSU5HX0FQUF9DUkVERU5USUFMOiAnYXV0aC9taXNzaW5nLWFwcC1jcmVkZW50aWFsJyxcbiAgTUlTU0lOR19BVVRIX0RPTUFJTjogJ2F1dGgvYXV0aC1kb21haW4tY29uZmlnLXJlcXVpcmVkJyxcbiAgTUlTU0lOR19DT0RFOiAnYXV0aC9taXNzaW5nLXZlcmlmaWNhdGlvbi1jb2RlJyxcbiAgTUlTU0lOR19DT05USU5VRV9VUkk6ICdhdXRoL21pc3NpbmctY29udGludWUtdXJpJyxcbiAgTUlTU0lOR19JRlJBTUVfU1RBUlQ6ICdhdXRoL21pc3NpbmctaWZyYW1lLXN0YXJ0JyxcbiAgTUlTU0lOR19JT1NfQlVORExFX0lEOiAnYXV0aC9taXNzaW5nLWlvcy1idW5kbGUtaWQnLFxuICBNSVNTSU5HX09SX0lOVkFMSURfTk9OQ0U6ICdhdXRoL21pc3Npbmctb3ItaW52YWxpZC1ub25jZScsXG4gIE1JU1NJTkdfTUZBX0lORk86ICdhdXRoL21pc3NpbmctbXVsdGktZmFjdG9yLWluZm8nLFxuICBNSVNTSU5HX01GQV9TRVNTSU9OOiAnYXV0aC9taXNzaW5nLW11bHRpLWZhY3Rvci1zZXNzaW9uJyxcbiAgTUlTU0lOR19QSE9ORV9OVU1CRVI6ICdhdXRoL21pc3NpbmctcGhvbmUtbnVtYmVyJyxcbiAgTUlTU0lOR19TRVNTSU9OX0lORk86ICdhdXRoL21pc3NpbmctdmVyaWZpY2F0aW9uLWlkJyxcbiAgTU9EVUxFX0RFU1RST1lFRDogJ2F1dGgvYXBwLWRlbGV0ZWQnLFxuICBORUVEX0NPTkZJUk1BVElPTjogJ2F1dGgvYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbCcsXG4gIE5FVFdPUktfUkVRVUVTVF9GQUlMRUQ6ICdhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWQnLFxuICBOVUxMX1VTRVI6ICdhdXRoL251bGwtdXNlcicsXG4gIE5PX0FVVEhfRVZFTlQ6ICdhdXRoL25vLWF1dGgtZXZlbnQnLFxuICBOT19TVUNIX1BST1ZJREVSOiAnYXV0aC9uby1zdWNoLXByb3ZpZGVyJyxcbiAgT1BFUkFUSU9OX05PVF9BTExPV0VEOiAnYXV0aC9vcGVyYXRpb24tbm90LWFsbG93ZWQnLFxuICBPUEVSQVRJT05fTk9UX1NVUFBPUlRFRDogJ2F1dGgvb3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudCcsXG4gIFBPUFVQX0JMT0NLRUQ6ICdhdXRoL3BvcHVwLWJsb2NrZWQnLFxuICBQT1BVUF9DTE9TRURfQllfVVNFUjogJ2F1dGgvcG9wdXAtY2xvc2VkLWJ5LXVzZXInLFxuICBQUk9WSURFUl9BTFJFQURZX0xJTktFRDogJ2F1dGgvcHJvdmlkZXItYWxyZWFkeS1saW5rZWQnLFxuICBRVU9UQV9FWENFRURFRDogJ2F1dGgvcXVvdGEtZXhjZWVkZWQnLFxuICBSRURJUkVDVF9DQU5DRUxMRURfQllfVVNFUjogJ2F1dGgvcmVkaXJlY3QtY2FuY2VsbGVkLWJ5LXVzZXInLFxuICBSRURJUkVDVF9PUEVSQVRJT05fUEVORElORzogJ2F1dGgvcmVkaXJlY3Qtb3BlcmF0aW9uLXBlbmRpbmcnLFxuICBSRUpFQ1RFRF9DUkVERU5USUFMOiAnYXV0aC9yZWplY3RlZC1jcmVkZW50aWFsJyxcbiAgU0VDT05EX0ZBQ1RPUl9BTFJFQURZX0VOUk9MTEVEOiAnYXV0aC9zZWNvbmQtZmFjdG9yLWFscmVhZHktaW4tdXNlJyxcbiAgU0VDT05EX0ZBQ1RPUl9MSU1JVF9FWENFRURFRDogJ2F1dGgvbWF4aW11bS1zZWNvbmQtZmFjdG9yLWNvdW50LWV4Y2VlZGVkJyxcbiAgVEVOQU5UX0lEX01JU01BVENIOiAnYXV0aC90ZW5hbnQtaWQtbWlzbWF0Y2gnLFxuICBUSU1FT1VUOiAnYXV0aC90aW1lb3V0JyxcbiAgVE9LRU5fRVhQSVJFRDogJ2F1dGgvdXNlci10b2tlbi1leHBpcmVkJyxcbiAgVE9PX01BTllfQVRURU1QVFNfVFJZX0xBVEVSOiAnYXV0aC90b28tbWFueS1yZXF1ZXN0cycsXG4gIFVOQVVUSE9SSVpFRF9ET01BSU46ICdhdXRoL3VuYXV0aG9yaXplZC1jb250aW51ZS11cmknLFxuICBVTlNVUFBPUlRFRF9GSVJTVF9GQUNUT1I6ICdhdXRoL3Vuc3VwcG9ydGVkLWZpcnN0LWZhY3RvcicsXG4gIFVOU1VQUE9SVEVEX1BFUlNJU1RFTkNFOiAnYXV0aC91bnN1cHBvcnRlZC1wZXJzaXN0ZW5jZS10eXBlJyxcbiAgVU5TVVBQT1JURURfVEVOQU5UX09QRVJBVElPTjogJ2F1dGgvdW5zdXBwb3J0ZWQtdGVuYW50LW9wZXJhdGlvbicsXG4gIFVOVkVSSUZJRURfRU1BSUw6ICdhdXRoL3VudmVyaWZpZWQtZW1haWwnLFxuICBVU0VSX0NBTkNFTExFRDogJ2F1dGgvdXNlci1jYW5jZWxsZWQnLFxuICBVU0VSX0RFTEVURUQ6ICdhdXRoL3VzZXItbm90LWZvdW5kJyxcbiAgVVNFUl9ESVNBQkxFRDogJ2F1dGgvdXNlci1kaXNhYmxlZCcsXG4gIFVTRVJfTUlTTUFUQ0g6ICdhdXRoL3VzZXItbWlzbWF0Y2gnLFxuICBVU0VSX1NJR05FRF9PVVQ6ICdhdXRoL3VzZXItc2lnbmVkLW91dCcsXG4gIFdFQUtfUEFTU1dPUkQ6ICdhdXRoL3dlYWstcGFzc3dvcmQnLFxuICBXRUJfU1RPUkFHRV9VTlNVUFBPUlRFRDogJ2F1dGgvd2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWQnLFxuICBBTFJFQURZX0lOSVRJQUxJWkVEOiAnYXV0aC9hbHJlYWR5LWluaXRpYWxpemVkJyxcbiAgUkVDQVBUQ0hBX05PVF9FTkFCTEVEOiAnYXV0aC9yZWNhcHRjaGEtbm90LWVuYWJsZWQnLFxuICBNSVNTSU5HX1JFQ0FQVENIQV9UT0tFTjogJ2F1dGgvbWlzc2luZy1yZWNhcHRjaGEtdG9rZW4nLFxuICBJTlZBTElEX1JFQ0FQVENIQV9UT0tFTjogJ2F1dGgvaW52YWxpZC1yZWNhcHRjaGEtdG9rZW4nLFxuICBJTlZBTElEX1JFQ0FQVENIQV9BQ1RJT046ICdhdXRoL2ludmFsaWQtcmVjYXB0Y2hhLWFjdGlvbicsXG4gIE1JU1NJTkdfQ0xJRU5UX1RZUEU6ICdhdXRoL21pc3NpbmctY2xpZW50LXR5cGUnLFxuICBNSVNTSU5HX1JFQ0FQVENIQV9WRVJTSU9OOiAnYXV0aC9taXNzaW5nLXJlY2FwdGNoYS12ZXJzaW9uJyxcbiAgSU5WQUxJRF9SRUNBUFRDSEFfVkVSU0lPTjogJ2F1dGgvaW52YWxpZC1yZWNhcHRjaGEtdmVyc2lvbicsXG4gIElOVkFMSURfUkVRX1RZUEU6ICdhdXRoL2ludmFsaWQtcmVxLXR5cGUnXG59IGFzIGNvbnN0O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IExvZ2dlciwgTG9nTGV2ZWwgfSBmcm9tICdAZmlyZWJhc2UvbG9nZ2VyJztcbmltcG9ydCB7IFNES19WRVJTSU9OIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbmV4cG9ydCB7IExvZ0xldmVsIH07XG5cbmNvbnN0IGxvZ0NsaWVudCA9IG5ldyBMb2dnZXIoJ0BmaXJlYmFzZS9hdXRoJyk7XG5cbi8vIEhlbHBlciBtZXRob2RzIGFyZSBuZWVkZWQgYmVjYXVzZSB2YXJpYWJsZXMgY2FuJ3QgYmUgZXhwb3J0ZWQgYXMgcmVhZC93cml0ZVxuZXhwb3J0IGZ1bmN0aW9uIF9nZXRMb2dMZXZlbCgpOiBMb2dMZXZlbCB7XG4gIHJldHVybiBsb2dDbGllbnQubG9nTGV2ZWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfc2V0TG9nTGV2ZWwobmV3TGV2ZWw6IExvZ0xldmVsKTogdm9pZCB7XG4gIGxvZ0NsaWVudC5sb2dMZXZlbCA9IG5ld0xldmVsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2xvZ0RlYnVnKG1zZzogc3RyaW5nLCAuLi5hcmdzOiBzdHJpbmdbXSk6IHZvaWQge1xuICBpZiAobG9nQ2xpZW50LmxvZ0xldmVsIDw9IExvZ0xldmVsLkRFQlVHKSB7XG4gICAgbG9nQ2xpZW50LmRlYnVnKGBBdXRoICgke1NES19WRVJTSU9OfSk6ICR7bXNnfWAsIC4uLmFyZ3MpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfbG9nV2Fybihtc2c6IHN0cmluZywgLi4uYXJnczogc3RyaW5nW10pOiB2b2lkIHtcbiAgaWYgKGxvZ0NsaWVudC5sb2dMZXZlbCA8PSBMb2dMZXZlbC5XQVJOKSB7XG4gICAgbG9nQ2xpZW50Lndhcm4oYEF1dGggKCR7U0RLX1ZFUlNJT059KTogJHttc2d9YCwgLi4uYXJncyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9sb2dFcnJvcihtc2c6IHN0cmluZywgLi4uYXJnczogc3RyaW5nW10pOiB2b2lkIHtcbiAgaWYgKGxvZ0NsaWVudC5sb2dMZXZlbCA8PSBMb2dMZXZlbC5FUlJPUikge1xuICAgIGxvZ0NsaWVudC5lcnJvcihgQXV0aCAoJHtTREtfVkVSU0lPTn0pOiAke21zZ31gLCAuLi5hcmdzKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgRXJyb3JGYWN0b3J5LCBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQge1xuICBfREVGQVVMVF9BVVRIX0VSUk9SX0ZBQ1RPUlksXG4gIEF1dGhFcnJvckNvZGUsXG4gIEF1dGhFcnJvclBhcmFtcyxcbiAgcHJvZEVycm9yTWFwLFxuICBFcnJvck1hcFJldHJpZXZlclxufSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2xvZ0Vycm9yIH0gZnJvbSAnLi9sb2cnO1xuXG50eXBlIEF1dGhFcnJvckxpc3RQYXJhbXM8Sz4gPSBLIGV4dGVuZHMga2V5b2YgQXV0aEVycm9yUGFyYW1zXG4gID8gW0F1dGhFcnJvclBhcmFtc1tLXV1cbiAgOiBbXTtcbnR5cGUgTGVzc0FwcE5hbWU8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+ID0gT21pdDxBdXRoRXJyb3JQYXJhbXNbS10sICdhcHBOYW1lJz47XG5cbi8qKlxuICogVW5jb25kaXRpb25hbGx5IGZhaWxzLCB0aHJvd2luZyBhIGRldmVsb3BlciBmYWNpbmcgSU5URVJOQUxfRVJST1JcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLk1GQV9SRVFVSVJFRCk7ICAvLyBFcnJvcjogdGhlIE1GQV9SRVFVSVJFRCBlcnJvciBuZWVkcyBtb3JlIHBhcmFtcyB0aGFuIGFwcE5hbWVcbiAqIGZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5NRkFfUkVRVUlSRUQsIHtzZXJ2ZXJSZXNwb25zZX0pOyAgLy8gQ29tcGlsZXNcbiAqIGZhaWwoQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7ICAvLyBDb21waWxlczsgaW50ZXJuYWwgZXJyb3IgZG9lcyBub3QgbmVlZCBhcHBOYW1lXG4gKiBmYWlsKEF1dGhFcnJvckNvZGUuVVNFUl9ERUxFVEVEKTsgIC8vIEVycm9yOiBVU0VSX0RFTEVURUQgcmVxdWlyZXMgYXBwIG5hbWVcbiAqIGZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5VU0VSX0RFTEVURUQpOyAgLy8gQ29tcGlsZXM7IFVTRVJfREVMRVRFRCBfb25seV8gbmVlZHMgYXBwIG5hbWVcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhcHBOYW1lIEFwcCBuYW1lIGZvciB0YWdnaW5nIHRoZSBlcnJvclxuICogQHRocm93cyBGaXJlYmFzZUVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfZmFpbDxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGNvZGU6IEssXG4gIC4uLmRhdGE6IHt9IGV4dGVuZHMgQXV0aEVycm9yUGFyYW1zW0tdXG4gICAgPyBbQXV0aEVycm9yUGFyYW1zW0tdP11cbiAgICA6IFtBdXRoRXJyb3JQYXJhbXNbS11dXG4pOiBuZXZlcjtcbmV4cG9ydCBmdW5jdGlvbiBfZmFpbDxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGF1dGg6IEF1dGgsXG4gIGNvZGU6IEssXG4gIC4uLmRhdGE6IHt9IGV4dGVuZHMgTGVzc0FwcE5hbWU8Sz4gPyBbTGVzc0FwcE5hbWU8Sz4/XSA6IFtMZXNzQXBwTmFtZTxLPl1cbik6IG5ldmVyO1xuZXhwb3J0IGZ1bmN0aW9uIF9mYWlsPEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgYXV0aE9yQ29kZTogQXV0aCB8IEssXG4gIC4uLnJlc3Q6IHVua25vd25bXVxuKTogbmV2ZXIge1xuICB0aHJvdyBjcmVhdGVFcnJvckludGVybmFsKGF1dGhPckNvZGUsIC4uLnJlc3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2NyZWF0ZUVycm9yPEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgY29kZTogSyxcbiAgLi4uZGF0YToge30gZXh0ZW5kcyBBdXRoRXJyb3JQYXJhbXNbS11cbiAgICA/IFtBdXRoRXJyb3JQYXJhbXNbS10/XVxuICAgIDogW0F1dGhFcnJvclBhcmFtc1tLXV1cbik6IEZpcmViYXNlRXJyb3I7XG5leHBvcnQgZnVuY3Rpb24gX2NyZWF0ZUVycm9yPEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgYXV0aDogQXV0aCxcbiAgY29kZTogSyxcbiAgLi4uZGF0YToge30gZXh0ZW5kcyBMZXNzQXBwTmFtZTxLPiA/IFtMZXNzQXBwTmFtZTxLPj9dIDogW0xlc3NBcHBOYW1lPEs+XVxuKTogRmlyZWJhc2VFcnJvcjtcbmV4cG9ydCBmdW5jdGlvbiBfY3JlYXRlRXJyb3I8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBhdXRoT3JDb2RlOiBBdXRoIHwgSyxcbiAgLi4ucmVzdDogdW5rbm93bltdXG4pOiBGaXJlYmFzZUVycm9yIHtcbiAgcmV0dXJuIGNyZWF0ZUVycm9ySW50ZXJuYWwoYXV0aE9yQ29kZSwgLi4ucmVzdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZXJyb3JXaXRoQ3VzdG9tTWVzc2FnZShcbiAgYXV0aDogQXV0aCxcbiAgY29kZTogQXV0aEVycm9yQ29kZSxcbiAgbWVzc2FnZTogc3RyaW5nXG4pOiBGaXJlYmFzZUVycm9yIHtcbiAgY29uc3QgZXJyb3JNYXAgPSB7XG4gICAgLi4uKHByb2RFcnJvck1hcCBhcyBFcnJvck1hcFJldHJpZXZlcikoKSxcbiAgICBbY29kZV06IG1lc3NhZ2VcbiAgfTtcbiAgY29uc3QgZmFjdG9yeSA9IG5ldyBFcnJvckZhY3Rvcnk8QXV0aEVycm9yQ29kZSwgQXV0aEVycm9yUGFyYW1zPihcbiAgICAnYXV0aCcsXG4gICAgJ0ZpcmViYXNlJyxcbiAgICBlcnJvck1hcFxuICApO1xuICByZXR1cm4gZmFjdG9yeS5jcmVhdGUoY29kZSwge1xuICAgIGFwcE5hbWU6IGF1dGgubmFtZVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKFxuICBhdXRoOiBBdXRoXG4pOiBGaXJlYmFzZUVycm9yIHtcbiAgcmV0dXJuIF9lcnJvcldpdGhDdXN0b21NZXNzYWdlKFxuICAgIGF1dGgsXG4gICAgQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX1NVUFBPUlRFRCxcbiAgICAnT3BlcmF0aW9ucyB0aGF0IGFsdGVyIHRoZSBjdXJyZW50IHVzZXIgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gY29uanVuY3Rpb24gd2l0aCBGaXJlYmFzZVNlcnZlckFwcCdcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9hc3NlcnRJbnN0YW5jZU9mKFxuICBhdXRoOiBBdXRoLFxuICBvYmplY3Q6IG9iamVjdCxcbiAgaW5zdGFuY2U6IHVua25vd25cbik6IHZvaWQge1xuICBjb25zdCBjb25zdHJ1Y3Rvckluc3RhbmNlID0gaW5zdGFuY2UgYXMgeyBuZXcgKC4uLmFyZ3M6IHVua25vd25bXSk6IHVua25vd24gfTtcbiAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgY29uc3RydWN0b3JJbnN0YW5jZSkpIHtcbiAgICBpZiAoY29uc3RydWN0b3JJbnN0YW5jZS5uYW1lICE9PSBvYmplY3QuY29uc3RydWN0b3IubmFtZSkge1xuICAgICAgX2ZhaWwoYXV0aCwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG4gICAgfVxuXG4gICAgdGhyb3cgX2Vycm9yV2l0aEN1c3RvbU1lc3NhZ2UoXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUixcbiAgICAgIGBUeXBlIG9mICR7b2JqZWN0LmNvbnN0cnVjdG9yLm5hbWV9IGRvZXMgbm90IG1hdGNoIGV4cGVjdGVkIGluc3RhbmNlLmAgK1xuICAgICAgICBgRGlkIHlvdSBwYXNzIGEgcmVmZXJlbmNlIGZyb20gYSBkaWZmZXJlbnQgQXV0aCBTREs/YFxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRXJyb3JJbnRlcm5hbDxLIGV4dGVuZHMgQXV0aEVycm9yQ29kZT4oXG4gIGF1dGhPckNvZGU6IEF1dGggfCBLLFxuICAuLi5yZXN0OiB1bmtub3duW11cbik6IEZpcmViYXNlRXJyb3Ige1xuICBpZiAodHlwZW9mIGF1dGhPckNvZGUgIT09ICdzdHJpbmcnKSB7XG4gICAgY29uc3QgY29kZSA9IHJlc3RbMF0gYXMgSztcbiAgICBjb25zdCBmdWxsUGFyYW1zID0gWy4uLnJlc3Quc2xpY2UoMSldIGFzIEF1dGhFcnJvckxpc3RQYXJhbXM8Sz47XG4gICAgaWYgKGZ1bGxQYXJhbXNbMF0pIHtcbiAgICAgIGZ1bGxQYXJhbXNbMF0uYXBwTmFtZSA9IGF1dGhPckNvZGUubmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGF1dGhPckNvZGUgYXMgQXV0aEludGVybmFsKS5fZXJyb3JGYWN0b3J5LmNyZWF0ZShcbiAgICAgIGNvZGUsXG4gICAgICAuLi5mdWxsUGFyYW1zXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBfREVGQVVMVF9BVVRIX0VSUk9SX0ZBQ1RPUlkuY3JlYXRlKFxuICAgIGF1dGhPckNvZGUsXG4gICAgLi4uKHJlc3QgYXMgQXV0aEVycm9yTGlzdFBhcmFtczxLPilcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9hc3NlcnQ8SyBleHRlbmRzIEF1dGhFcnJvckNvZGU+KFxuICBhc3NlcnRpb246IHVua25vd24sXG4gIGNvZGU6IEssXG4gIC4uLmRhdGE6IHt9IGV4dGVuZHMgQXV0aEVycm9yUGFyYW1zW0tdXG4gICAgPyBbQXV0aEVycm9yUGFyYW1zW0tdP11cbiAgICA6IFtBdXRoRXJyb3JQYXJhbXNbS11dXG4pOiBhc3NlcnRzIGFzc2VydGlvbjtcbmV4cG9ydCBmdW5jdGlvbiBfYXNzZXJ0PEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgYXNzZXJ0aW9uOiB1bmtub3duLFxuICBhdXRoOiBBdXRoLFxuICBjb2RlOiBLLFxuICAuLi5kYXRhOiB7fSBleHRlbmRzIExlc3NBcHBOYW1lPEs+ID8gW0xlc3NBcHBOYW1lPEs+P10gOiBbTGVzc0FwcE5hbWU8Sz5dXG4pOiBhc3NlcnRzIGFzc2VydGlvbjtcbmV4cG9ydCBmdW5jdGlvbiBfYXNzZXJ0PEsgZXh0ZW5kcyBBdXRoRXJyb3JDb2RlPihcbiAgYXNzZXJ0aW9uOiB1bmtub3duLFxuICBhdXRoT3JDb2RlOiBBdXRoIHwgSyxcbiAgLi4ucmVzdDogdW5rbm93bltdXG4pOiBhc3NlcnRzIGFzc2VydGlvbiB7XG4gIGlmICghYXNzZXJ0aW9uKSB7XG4gICAgdGhyb3cgY3JlYXRlRXJyb3JJbnRlcm5hbChhdXRoT3JDb2RlLCAuLi5yZXN0KTtcbiAgfVxufVxuXG4vLyBXZSByZWFsbHkgZG8gd2FudCB0byBhY2NlcHQgbGl0ZXJhbGx5IGFueSBmdW5jdGlvbiB0eXBlIGhlcmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG50eXBlIFR5cGVFeHBlY3RhdGlvbiA9IEZ1bmN0aW9uIHwgc3RyaW5nIHwgTWFwVHlwZTtcblxuaW50ZXJmYWNlIE1hcFR5cGUgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBUeXBlRXhwZWN0YXRpb24gfCBPcHRpb25hbD4ge31cblxuY2xhc3MgT3B0aW9uYWwge1xuICBjb25zdHJ1Y3RvcihyZWFkb25seSB0eXBlOiBUeXBlRXhwZWN0YXRpb24pIHt9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvcHQodHlwZTogVHlwZUV4cGVjdGF0aW9uKTogT3B0aW9uYWwge1xuICByZXR1cm4gbmV3IE9wdGlvbmFsKHR5cGUpO1xufVxuXG4vKipcbiAqIEFzc2VydHMgdGhlIHJ1bnRpbWUgdHlwZXMgb2YgYXJndW1lbnRzLiBUaGUgJ2V4cGVjdGVkJyBmaWVsZCBjYW4gYmUgb25lIG9mXG4gKiBhIGNsYXNzLCBhIHN0cmluZyAocmVwcmVzZW50aW5nIGEgXCJ0eXBlb2ZcIiBjYWxsKSwgb3IgYSByZWNvcmQgbWFwIG9mIG5hbWVcbiAqIHRvIHR5cGUuIEZ1cnRoZXJtb3JlLCB0aGUgb3B0KCkgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gbWFyayBhIGZpZWxkIGFzXG4gKiBvcHRpb25hbC4gRm9yIGV4YW1wbGU6XG4gKlxuICogZnVuY3Rpb24gZm9vKGF1dGg6IEF1dGgsIHByb2ZpbGU6IHtkaXNwbGF5TmFtZT86IHN0cmluZ30sIHVwZGF0ZSA9IGZhbHNlKSB7XG4gKiAgIGFzc2VydFR5cGVzKGFyZ3VtZW50cywgW0F1dGhJbXBsLCB7ZGlzcGxheU5hbWU6IG9wdCgnc3RyaW5nJyl9LCBvcHQoJ2Jvb2xlYW4nKV0pO1xuICogfVxuICpcbiAqIG9wdCgpIGNhbiBiZSB1c2VkIGZvciBhbnkgdHlwZTpcbiAqIGZ1bmN0aW9uIGZvbyhhdXRoPzogQXV0aCkge1xuICogICBhc3NlcnRUeXBlcyhhcmd1bWVudHMsIFtvcHQoQXV0aEltcGwpXSk7XG4gKiB9XG4gKlxuICogVGhlIHN0cmluZyB0eXBlcyBjYW4gYmUgb3InZCB0b2dldGhlciwgYW5kIHlvdSBjYW4gdXNlIFwibnVsbFwiIGFzIHdlbGwgKG5vdGVcbiAqIHRoYXQgdHlwZW9mIG51bGwgPT09ICdvYmplY3QnOyB0aGlzIGlzIGFuIGVkZ2UgY2FzZSkuIEZvciBleGFtcGxlOlxuICpcbiAqIGZ1bmN0aW9uIGZvbyhwcm9maWxlOiB7ZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsfSkge1xuICogICBhc3NlcnRUeXBlcyhhcmd1bWVudHMsIFt7ZGlzcGxheU5hbWU6IG9wdCgnc3RyaW5nfG51bGwnKX1dKTtcbiAqIH1cbiAqXG4gKiBAcGFyYW0gYXJnc1xuICogQHBhcmFtIGV4cGVjdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUeXBlcyhcbiAgYXJnczogT21pdDxJQXJndW1lbnRzLCAnY2FsbGVlJz4sXG4gIC4uLmV4cGVjdGVkOiBBcnJheTxUeXBlRXhwZWN0YXRpb24gfCBPcHRpb25hbD5cbik6IHZvaWQge1xuICBpZiAoYXJncy5sZW5ndGggPiBleHBlY3RlZC5sZW5ndGgpIHtcbiAgICBfZmFpbChBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SLCB7fSk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGV4cGVjdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGV4cGVjdCA9IGV4cGVjdGVkW2ldO1xuICAgIGNvbnN0IGFyZyA9IGFyZ3NbaV07XG5cbiAgICBpZiAoZXhwZWN0IGluc3RhbmNlb2YgT3B0aW9uYWwpIHtcbiAgICAgIC8vIElmIHRoZSBhcmcgaXMgdW5kZWZpbmVkLCB0aGVuIGl0IG1hdGNoZXMgXCJvcHRpb25hbFwiIGFuZCB3ZSBjYW4gbW92ZSB0b1xuICAgICAgLy8gdGhlIG5leHQgYXJnXG4gICAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBleHBlY3QgPSBleHBlY3QudHlwZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGV4cGVjdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEhhbmRsZSB0aGUgZWRnZSBjYXNlIGZvciBudWxsIGJlY2F1c2UgdHlwZW9mIG51bGwgPT09ICdvYmplY3QnXG4gICAgICBpZiAoZXhwZWN0LmluY2x1ZGVzKCdudWxsJykgJiYgYXJnID09PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXF1aXJlZCA9IGV4cGVjdC5zcGxpdCgnfCcpO1xuICAgICAgX2Fzc2VydChyZXF1aXJlZC5pbmNsdWRlcyh0eXBlb2YgYXJnKSwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUiwge30pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cGVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNoZWNrIHJlY29yZCBhcmd1bWVudHNcbiAgICAgIGNvbnN0IHJlY29yZCA9IGFyZyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgICAgIGNvbnN0IG1hcCA9IGV4cGVjdCBhcyBNYXBUeXBlO1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGV4cGVjdCk7XG5cbiAgICAgIGFzc2VydFR5cGVzKFxuICAgICAgICBrZXlzLm1hcChrID0+IHJlY29yZFtrXSksXG4gICAgICAgIC4uLmtleXMubWFwKGsgPT4gbWFwW2tdKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2Fzc2VydChhcmcgaW5zdGFuY2VvZiBleHBlY3QsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IsIHt9KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBVbmNvbmRpdGlvbmFsbHkgZmFpbHMsIHRocm93aW5nIGFuIGludGVybmFsIGVycm9yIHdpdGggdGhlIGdpdmVuIG1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIGZhaWx1cmUgdHlwZSBvZiBmYWlsdXJlIGVuY291bnRlcmVkXG4gKiBAdGhyb3dzIEVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z0ZhaWwoZmFpbHVyZTogc3RyaW5nKTogbmV2ZXIge1xuICAvLyBMb2cgdGhlIGZhaWx1cmUgaW4gYWRkaXRpb24gdG8gdGhyb3cgYW4gZXhjZXB0aW9uLCBqdXN0IGluIGNhc2UgdGhlXG4gIC8vIGV4Y2VwdGlvbiBpcyBzd2FsbG93ZWQuXG4gIGNvbnN0IG1lc3NhZ2UgPSBgSU5URVJOQUwgQVNTRVJUSU9OIEZBSUxFRDogYCArIGZhaWx1cmU7XG4gIF9sb2dFcnJvcihtZXNzYWdlKTtcblxuICAvLyBOT1RFOiBXZSBkb24ndCB1c2UgRmlyZWJhc2VFcnJvciBoZXJlIGJlY2F1c2UgdGhlc2UgYXJlIGludGVybmFsIGZhaWx1cmVzXG4gIC8vIHRoYXQgY2Fubm90IGJlIGhhbmRsZWQgYnkgdGhlIHVzZXIuIChBbHNvIGl0IHdvdWxkIGNyZWF0ZSBhIGNpcmN1bGFyXG4gIC8vIGRlcGVuZGVuY3kgYmV0d2VlbiB0aGUgZXJyb3IgYW5kIGFzc2VydCBtb2R1bGVzIHdoaWNoIGRvZXNuJ3Qgd29yay4pXG4gIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbn1cblxuLyoqXG4gKiBGYWlscyBpZiB0aGUgZ2l2ZW4gYXNzZXJ0aW9uIGNvbmRpdGlvbiBpcyBmYWxzZSwgdGhyb3dpbmcgYW4gRXJyb3Igd2l0aCB0aGVcbiAqIGdpdmVuIG1lc3NhZ2UgaWYgaXQgZGlkLlxuICpcbiAqIEBwYXJhbSBhc3NlcnRpb25cbiAqIEBwYXJhbSBtZXNzYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z0Fzc2VydChcbiAgYXNzZXJ0aW9uOiB1bmtub3duLFxuICBtZXNzYWdlOiBzdHJpbmdcbik6IGFzc2VydHMgYXNzZXJ0aW9uIHtcbiAgaWYgKCFhc3NlcnRpb24pIHtcbiAgICBkZWJ1Z0ZhaWwobWVzc2FnZSk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gX2dldEN1cnJlbnRVcmwoKTogc3RyaW5nIHtcbiAgcmV0dXJuICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5sb2NhdGlvbj8uaHJlZikgfHwgJyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNIdHRwT3JIdHRwcygpOiBib29sZWFuIHtcbiAgcmV0dXJuIF9nZXRDdXJyZW50U2NoZW1lKCkgPT09ICdodHRwOicgfHwgX2dldEN1cnJlbnRTY2hlbWUoKSA9PT0gJ2h0dHBzOic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0Q3VycmVudFNjaGVtZSgpOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5sb2NhdGlvbj8ucHJvdG9jb2wpIHx8IG51bGw7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgaXNCcm93c2VyRXh0ZW5zaW9uIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgX2lzSHR0cE9ySHR0cHMgfSBmcm9tICcuL2xvY2F0aW9uJztcblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgYnJvd3NlciBpcyB3b3JraW5nIG9ubGluZVxuICovXG5leHBvcnQgZnVuY3Rpb24gX2lzT25saW5lKCk6IGJvb2xlYW4ge1xuICBpZiAoXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBuYXZpZ2F0b3IgJiZcbiAgICAnb25MaW5lJyBpbiBuYXZpZ2F0b3IgJiZcbiAgICB0eXBlb2YgbmF2aWdhdG9yLm9uTGluZSA9PT0gJ2Jvb2xlYW4nICYmXG4gICAgLy8gQXBwbHkgb25seSBmb3IgdHJhZGl0aW9uYWwgd2ViIGFwcHMgYW5kIENocm9tZSBleHRlbnNpb25zLlxuICAgIC8vIFRoaXMgaXMgZXNwZWNpYWxseSB0cnVlIGZvciBDb3Jkb3ZhIGFwcHMgd2hpY2ggaGF2ZSB1bnJlbGlhYmxlXG4gICAgLy8gbmF2aWdhdG9yLm9uTGluZSBiZWhhdmlvciB1bmxlc3MgY29yZG92YS1wbHVnaW4tbmV0d29yay1pbmZvcm1hdGlvbiBpc1xuICAgIC8vIGluc3RhbGxlZCB3aGljaCBvdmVyd3JpdGVzIHRoZSBuYXRpdmUgbmF2aWdhdG9yLm9uTGluZSB2YWx1ZSBhbmRcbiAgICAvLyBkZWZpbmVzIG5hdmlnYXRvci5jb25uZWN0aW9uLlxuICAgIChfaXNIdHRwT3JIdHRwcygpIHx8IGlzQnJvd3NlckV4dGVuc2lvbigpIHx8ICdjb25uZWN0aW9uJyBpbiBuYXZpZ2F0b3IpXG4gICkge1xuICAgIHJldHVybiBuYXZpZ2F0b3Iub25MaW5lO1xuICB9XG4gIC8vIElmIHdlIGNhbid0IGRldGVybWluZSB0aGUgc3RhdGUsIGFzc3VtZSBpdCBpcyBvbmxpbmUuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2dldFVzZXJMYW5ndWFnZSgpOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbmF2aWdhdG9yTGFuZ3VhZ2U6IE5hdmlnYXRvckxhbmd1YWdlID0gbmF2aWdhdG9yO1xuICByZXR1cm4gKFxuICAgIC8vIE1vc3QgcmVsaWFibGUsIGJ1dCBvbmx5IHN1cHBvcnRlZCBpbiBDaHJvbWUvRmlyZWZveC5cbiAgICAobmF2aWdhdG9yTGFuZ3VhZ2UubGFuZ3VhZ2VzICYmIG5hdmlnYXRvckxhbmd1YWdlLmxhbmd1YWdlc1swXSkgfHxcbiAgICAvLyBTdXBwb3J0ZWQgaW4gbW9zdCBicm93c2VycywgYnV0IHJldHVybnMgdGhlIGxhbmd1YWdlIG9mIHRoZSBicm93c2VyXG4gICAgLy8gVUksIG5vdCB0aGUgbGFuZ3VhZ2Ugc2V0IGluIGJyb3dzZXIgc2V0dGluZ3MuXG4gICAgbmF2aWdhdG9yTGFuZ3VhZ2UubGFuZ3VhZ2UgfHxcbiAgICAvLyBDb3VsZG4ndCBkZXRlcm1pbmUgbGFuZ3VhZ2UuXG4gICAgbnVsbFxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGlzTW9iaWxlQ29yZG92YSwgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IF9pc09ubGluZSB9IGZyb20gJy4vbmF2aWdhdG9yJztcbmltcG9ydCB7IGRlYnVnQXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnQnO1xuXG5leHBvcnQgY29uc3QgZW51bSBEZWxheU1pbiB7XG4gIE9GRkxJTkUgPSA1MDAwXG59XG5cbi8qKlxuICogQSBzdHJ1Y3R1cmUgdG8gaGVscCBwaWNrIGJldHdlZW4gYSByYW5nZSBvZiBsb25nIGFuZCBzaG9ydCBkZWxheSBkdXJhdGlvbnNcbiAqIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCBlbnZpcm9ubWVudC4gSW4gZ2VuZXJhbCwgdGhlIGxvbmcgZGVsYXkgaXMgdXNlZCBmb3JcbiAqIG1vYmlsZSBlbnZpcm9ubWVudHMgd2hlcmVhcyBzaG9ydCBkZWxheXMgYXJlIHVzZWQgZm9yIGRlc2t0b3AgZW52aXJvbm1lbnRzLlxuICovXG5leHBvcnQgY2xhc3MgRGVsYXkge1xuICAvLyBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIG9mZmxpbmUgZGVsYXkgdGltZW91dCBpbiBtcy5cblxuICBwcml2YXRlIHJlYWRvbmx5IGlzTW9iaWxlOiBib29sZWFuO1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNob3J0RGVsYXk6IG51bWJlcixcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxvbmdEZWxheTogbnVtYmVyXG4gICkge1xuICAgIC8vIEludGVybmFsIGVycm9yIHdoZW4gaW1wcm9wZXJseSBpbml0aWFsaXplZC5cbiAgICBkZWJ1Z0Fzc2VydChcbiAgICAgIGxvbmdEZWxheSA+IHNob3J0RGVsYXksXG4gICAgICAnU2hvcnQgZGVsYXkgc2hvdWxkIGJlIGxlc3MgdGhhbiBsb25nIGRlbGF5ISdcbiAgICApO1xuICAgIHRoaXMuaXNNb2JpbGUgPSBpc01vYmlsZUNvcmRvdmEoKSB8fCBpc1JlYWN0TmF0aXZlKCk7XG4gIH1cblxuICBnZXQoKTogbnVtYmVyIHtcbiAgICBpZiAoIV9pc09ubGluZSgpKSB7XG4gICAgICAvLyBQaWNrIHRoZSBzaG9ydGVyIHRpbWVvdXQuXG4gICAgICByZXR1cm4gTWF0aC5taW4oRGVsYXlNaW4uT0ZGTElORSwgdGhpcy5zaG9ydERlbGF5KTtcbiAgICB9XG4gICAgLy8gSWYgcnVubmluZyBpbiBhIG1vYmlsZSBlbnZpcm9ubWVudCwgcmV0dXJuIHRoZSBsb25nIGRlbGF5LCBvdGhlcndpc2VcbiAgICAvLyByZXR1cm4gdGhlIHNob3J0IGRlbGF5LlxuICAgIC8vIFRoaXMgY291bGQgYmUgaW1wcm92ZWQgaW4gdGhlIGZ1dHVyZSB0byBkeW5hbWljYWxseSBjaGFuZ2UgYmFzZWQgb24gb3RoZXJcbiAgICAvLyB2YXJpYWJsZXMgaW5zdGVhZCBvZiBqdXN0IHJlYWRpbmcgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuXG4gICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB0aGlzLmxvbmdEZWxheSA6IHRoaXMuc2hvcnREZWxheTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbmZpZ0ludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBkZWJ1Z0Fzc2VydCB9IGZyb20gJy4vYXNzZXJ0JztcblxuZXhwb3J0IGZ1bmN0aW9uIF9lbXVsYXRvclVybChjb25maWc6IENvbmZpZ0ludGVybmFsLCBwYXRoPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgZGVidWdBc3NlcnQoY29uZmlnLmVtdWxhdG9yLCAnRW11bGF0b3Igc2hvdWxkIGFsd2F5cyBiZSBzZXQgaGVyZScpO1xuICBjb25zdCB7IHVybCB9ID0gY29uZmlnLmVtdWxhdG9yO1xuXG4gIGlmICghcGF0aCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICByZXR1cm4gYCR7dXJsfSR7cGF0aC5zdGFydHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDEpIDogcGF0aH1gO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGRlYnVnRmFpbCB9IGZyb20gJy4vYXNzZXJ0JztcblxuZXhwb3J0IGNsYXNzIEZldGNoUHJvdmlkZXIge1xuICBwcml2YXRlIHN0YXRpYyBmZXRjaEltcGw6IHR5cGVvZiBmZXRjaCB8IG51bGw7XG4gIHByaXZhdGUgc3RhdGljIGhlYWRlcnNJbXBsOiB0eXBlb2YgSGVhZGVycyB8IG51bGw7XG4gIHByaXZhdGUgc3RhdGljIHJlc3BvbnNlSW1wbDogdHlwZW9mIFJlc3BvbnNlIHwgbnVsbDtcblxuICBzdGF0aWMgaW5pdGlhbGl6ZShcbiAgICBmZXRjaEltcGw6IHR5cGVvZiBmZXRjaCxcbiAgICBoZWFkZXJzSW1wbD86IHR5cGVvZiBIZWFkZXJzLFxuICAgIHJlc3BvbnNlSW1wbD86IHR5cGVvZiBSZXNwb25zZVxuICApOiB2b2lkIHtcbiAgICB0aGlzLmZldGNoSW1wbCA9IGZldGNoSW1wbDtcbiAgICBpZiAoaGVhZGVyc0ltcGwpIHtcbiAgICAgIHRoaXMuaGVhZGVyc0ltcGwgPSBoZWFkZXJzSW1wbDtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlSW1wbCkge1xuICAgICAgdGhpcy5yZXNwb25zZUltcGwgPSByZXNwb25zZUltcGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGZldGNoKCk6IHR5cGVvZiBmZXRjaCB7XG4gICAgaWYgKHRoaXMuZmV0Y2hJbXBsKSB7XG4gICAgICByZXR1cm4gdGhpcy5mZXRjaEltcGw7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2ZldGNoJyBpbiBzZWxmKSB7XG4gICAgICByZXR1cm4gc2VsZi5mZXRjaDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzLmZldGNoKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsVGhpcy5mZXRjaDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmZXRjaCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBmZXRjaDtcbiAgICB9XG4gICAgZGVidWdGYWlsKFxuICAgICAgJ0NvdWxkIG5vdCBmaW5kIGZldGNoIGltcGxlbWVudGF0aW9uLCBtYWtlIHN1cmUgeW91IGNhbGwgRmV0Y2hQcm92aWRlci5pbml0aWFsaXplKCkgd2l0aCBhbiBhcHByb3ByaWF0ZSBwb2x5ZmlsbCdcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGhlYWRlcnMoKTogdHlwZW9mIEhlYWRlcnMge1xuICAgIGlmICh0aGlzLmhlYWRlcnNJbXBsKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWFkZXJzSW1wbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiAnSGVhZGVycycgaW4gc2VsZikge1xuICAgICAgcmV0dXJuIHNlbGYuSGVhZGVycztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzLkhlYWRlcnMpIHtcbiAgICAgIHJldHVybiBnbG9iYWxUaGlzLkhlYWRlcnM7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgSGVhZGVycyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBIZWFkZXJzO1xuICAgIH1cbiAgICBkZWJ1Z0ZhaWwoXG4gICAgICAnQ291bGQgbm90IGZpbmQgSGVhZGVycyBpbXBsZW1lbnRhdGlvbiwgbWFrZSBzdXJlIHlvdSBjYWxsIEZldGNoUHJvdmlkZXIuaW5pdGlhbGl6ZSgpIHdpdGggYW4gYXBwcm9wcmlhdGUgcG9seWZpbGwnXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyByZXNwb25zZSgpOiB0eXBlb2YgUmVzcG9uc2Uge1xuICAgIGlmICh0aGlzLnJlc3BvbnNlSW1wbCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VJbXBsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmICdSZXNwb25zZScgaW4gc2VsZikge1xuICAgICAgcmV0dXJuIHNlbGYuUmVzcG9uc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcy5SZXNwb25zZSkge1xuICAgICAgcmV0dXJuIGdsb2JhbFRoaXMuUmVzcG9uc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgUmVzcG9uc2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gUmVzcG9uc2U7XG4gICAgfVxuICAgIGRlYnVnRmFpbChcbiAgICAgICdDb3VsZCBub3QgZmluZCBSZXNwb25zZSBpbXBsZW1lbnRhdGlvbiwgbWFrZSBzdXJlIHlvdSBjYWxsIEZldGNoUHJvdmlkZXIuaW5pdGlhbGl6ZSgpIHdpdGggYW4gYXBwcm9wcmlhdGUgcG9seWZpbGwnXG4gICAgKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2Vycm9ycyc7XG5cbi8qKlxuICogRXJyb3JzIHRoYXQgY2FuIGJlIHJldHVybmVkIGJ5IHRoZSBiYWNrZW5kXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIFNlcnZlckVycm9yIHtcbiAgQURNSU5fT05MWV9PUEVSQVRJT04gPSAnQURNSU5fT05MWV9PUEVSQVRJT04nLFxuICBCTE9DS0lOR19GVU5DVElPTl9FUlJPUl9SRVNQT05TRSA9ICdCTE9DS0lOR19GVU5DVElPTl9FUlJPUl9SRVNQT05TRScsXG4gIENBUFRDSEFfQ0hFQ0tfRkFJTEVEID0gJ0NBUFRDSEFfQ0hFQ0tfRkFJTEVEJyxcbiAgQ09SU19VTlNVUFBPUlRFRCA9ICdDT1JTX1VOU1VQUE9SVEVEJyxcbiAgQ1JFREVOVElBTF9NSVNNQVRDSCA9ICdDUkVERU5USUFMX01JU01BVENIJyxcbiAgQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOID0gJ0NSRURFTlRJQUxfVE9PX09MRF9MT0dJTl9BR0FJTicsXG4gIERZTkFNSUNfTElOS19OT1RfQUNUSVZBVEVEID0gJ0RZTkFNSUNfTElOS19OT1RfQUNUSVZBVEVEJyxcbiAgRU1BSUxfQ0hBTkdFX05FRURTX1ZFUklGSUNBVElPTiA9ICdFTUFJTF9DSEFOR0VfTkVFRFNfVkVSSUZJQ0FUSU9OJyxcbiAgRU1BSUxfRVhJU1RTID0gJ0VNQUlMX0VYSVNUUycsXG4gIEVNQUlMX05PVF9GT1VORCA9ICdFTUFJTF9OT1RfRk9VTkQnLFxuICBFWFBJUkVEX09PQl9DT0RFID0gJ0VYUElSRURfT09CX0NPREUnLFxuICBGRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRCA9ICdGRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRCcsXG4gIElOVkFMSURfQVBQX0NSRURFTlRJQUwgPSAnSU5WQUxJRF9BUFBfQ1JFREVOVElBTCcsXG4gIElOVkFMSURfQVBQX0lEID0gJ0lOVkFMSURfQVBQX0lEJyxcbiAgSU5WQUxJRF9DRVJUX0hBU0ggPSAnSU5WQUxJRF9DRVJUX0hBU0gnLFxuICBJTlZBTElEX0NPREUgPSAnSU5WQUxJRF9DT0RFJyxcbiAgSU5WQUxJRF9DT05USU5VRV9VUkkgPSAnSU5WQUxJRF9DT05USU5VRV9VUkknLFxuICBJTlZBTElEX0NVU1RPTV9UT0tFTiA9ICdJTlZBTElEX0NVU1RPTV9UT0tFTicsXG4gIElOVkFMSURfRFlOQU1JQ19MSU5LX0RPTUFJTiA9ICdJTlZBTElEX0RZTkFNSUNfTElOS19ET01BSU4nLFxuICBJTlZBTElEX0VNQUlMID0gJ0lOVkFMSURfRU1BSUwnLFxuICBJTlZBTElEX0lEX1RPS0VOID0gJ0lOVkFMSURfSURfVE9LRU4nLFxuICBJTlZBTElEX0lEUF9SRVNQT05TRSA9ICdJTlZBTElEX0lEUF9SRVNQT05TRScsXG4gIElOVkFMSURfSURFTlRJRklFUiA9ICdJTlZBTElEX0lERU5USUZJRVInLFxuICBJTlZBTElEX0xPR0lOX0NSRURFTlRJQUxTID0gJ0lOVkFMSURfTE9HSU5fQ1JFREVOVElBTFMnLFxuICBJTlZBTElEX01FU1NBR0VfUEFZTE9BRCA9ICdJTlZBTElEX01FU1NBR0VfUEFZTE9BRCcsXG4gIElOVkFMSURfTUZBX1BFTkRJTkdfQ1JFREVOVElBTCA9ICdJTlZBTElEX01GQV9QRU5ESU5HX0NSRURFTlRJQUwnLFxuICBJTlZBTElEX09BVVRIX0NMSUVOVF9JRCA9ICdJTlZBTElEX09BVVRIX0NMSUVOVF9JRCcsXG4gIElOVkFMSURfT09CX0NPREUgPSAnSU5WQUxJRF9PT0JfQ09ERScsXG4gIElOVkFMSURfUEFTU1dPUkQgPSAnSU5WQUxJRF9QQVNTV09SRCcsXG4gIElOVkFMSURfUEVORElOR19UT0tFTiA9ICdJTlZBTElEX1BFTkRJTkdfVE9LRU4nLFxuICBJTlZBTElEX1BIT05FX05VTUJFUiA9ICdJTlZBTElEX1BIT05FX05VTUJFUicsXG4gIElOVkFMSURfUFJPVklERVJfSUQgPSAnSU5WQUxJRF9QUk9WSURFUl9JRCcsXG4gIElOVkFMSURfUkVDSVBJRU5UX0VNQUlMID0gJ0lOVkFMSURfUkVDSVBJRU5UX0VNQUlMJyxcbiAgSU5WQUxJRF9TRU5ERVIgPSAnSU5WQUxJRF9TRU5ERVInLFxuICBJTlZBTElEX1NFU1NJT05fSU5GTyA9ICdJTlZBTElEX1NFU1NJT05fSU5GTycsXG4gIElOVkFMSURfVEVNUE9SQVJZX1BST09GID0gJ0lOVkFMSURfVEVNUE9SQVJZX1BST09GJyxcbiAgSU5WQUxJRF9URU5BTlRfSUQgPSAnSU5WQUxJRF9URU5BTlRfSUQnLFxuICBNRkFfRU5ST0xMTUVOVF9OT1RfRk9VTkQgPSAnTUZBX0VOUk9MTE1FTlRfTk9UX0ZPVU5EJyxcbiAgTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRSA9ICdNSVNTSU5HX0FORFJPSURfUEFDS0FHRV9OQU1FJyxcbiAgTUlTU0lOR19BUFBfQ1JFREVOVElBTCA9ICdNSVNTSU5HX0FQUF9DUkVERU5USUFMJyxcbiAgTUlTU0lOR19DT0RFID0gJ01JU1NJTkdfQ09ERScsXG4gIE1JU1NJTkdfQ09OVElOVUVfVVJJID0gJ01JU1NJTkdfQ09OVElOVUVfVVJJJyxcbiAgTUlTU0lOR19DVVNUT01fVE9LRU4gPSAnTUlTU0lOR19DVVNUT01fVE9LRU4nLFxuICBNSVNTSU5HX0lPU19CVU5ETEVfSUQgPSAnTUlTU0lOR19JT1NfQlVORExFX0lEJyxcbiAgTUlTU0lOR19NRkFfRU5ST0xMTUVOVF9JRCA9ICdNSVNTSU5HX01GQV9FTlJPTExNRU5UX0lEJyxcbiAgTUlTU0lOR19NRkFfUEVORElOR19DUkVERU5USUFMID0gJ01JU1NJTkdfTUZBX1BFTkRJTkdfQ1JFREVOVElBTCcsXG4gIE1JU1NJTkdfT09CX0NPREUgPSAnTUlTU0lOR19PT0JfQ09ERScsXG4gIE1JU1NJTkdfT1JfSU5WQUxJRF9OT05DRSA9ICdNSVNTSU5HX09SX0lOVkFMSURfTk9OQ0UnLFxuICBNSVNTSU5HX1BBU1NXT1JEID0gJ01JU1NJTkdfUEFTU1dPUkQnLFxuICBNSVNTSU5HX1JFUV9UWVBFID0gJ01JU1NJTkdfUkVRX1RZUEUnLFxuICBNSVNTSU5HX1BIT05FX05VTUJFUiA9ICdNSVNTSU5HX1BIT05FX05VTUJFUicsXG4gIE1JU1NJTkdfU0VTU0lPTl9JTkZPID0gJ01JU1NJTkdfU0VTU0lPTl9JTkZPJyxcbiAgT1BFUkFUSU9OX05PVF9BTExPV0VEID0gJ09QRVJBVElPTl9OT1RfQUxMT1dFRCcsXG4gIFBBU1NXT1JEX0xPR0lOX0RJU0FCTEVEID0gJ1BBU1NXT1JEX0xPR0lOX0RJU0FCTEVEJyxcbiAgUVVPVEFfRVhDRUVERUQgPSAnUVVPVEFfRVhDRUVERUQnLFxuICBSRVNFVF9QQVNTV09SRF9FWENFRURfTElNSVQgPSAnUkVTRVRfUEFTU1dPUkRfRVhDRUVEX0xJTUlUJyxcbiAgUkVKRUNURURfQ1JFREVOVElBTCA9ICdSRUpFQ1RFRF9DUkVERU5USUFMJyxcbiAgU0VDT05EX0ZBQ1RPUl9FWElTVFMgPSAnU0VDT05EX0ZBQ1RPUl9FWElTVFMnLFxuICBTRUNPTkRfRkFDVE9SX0xJTUlUX0VYQ0VFREVEID0gJ1NFQ09ORF9GQUNUT1JfTElNSVRfRVhDRUVERUQnLFxuICBTRVNTSU9OX0VYUElSRUQgPSAnU0VTU0lPTl9FWFBJUkVEJyxcbiAgVEVOQU5UX0lEX01JU01BVENIID0gJ1RFTkFOVF9JRF9NSVNNQVRDSCcsXG4gIFRPS0VOX0VYUElSRUQgPSAnVE9LRU5fRVhQSVJFRCcsXG4gIFRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUiA9ICdUT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVInLFxuICBVTlNVUFBPUlRFRF9GSVJTVF9GQUNUT1IgPSAnVU5TVVBQT1JURURfRklSU1RfRkFDVE9SJyxcbiAgVU5TVVBQT1JURURfVEVOQU5UX09QRVJBVElPTiA9ICdVTlNVUFBPUlRFRF9URU5BTlRfT1BFUkFUSU9OJyxcbiAgVU5BVVRIT1JJWkVEX0RPTUFJTiA9ICdVTkFVVEhPUklaRURfRE9NQUlOJyxcbiAgVU5WRVJJRklFRF9FTUFJTCA9ICdVTlZFUklGSUVEX0VNQUlMJyxcbiAgVVNFUl9DQU5DRUxMRUQgPSAnVVNFUl9DQU5DRUxMRUQnLFxuICBVU0VSX0RJU0FCTEVEID0gJ1VTRVJfRElTQUJMRUQnLFxuICBVU0VSX05PVF9GT1VORCA9ICdVU0VSX05PVF9GT1VORCcsXG4gIFdFQUtfUEFTU1dPUkQgPSAnV0VBS19QQVNTV09SRCcsXG4gIFJFQ0FQVENIQV9OT1RfRU5BQkxFRCA9ICdSRUNBUFRDSEFfTk9UX0VOQUJMRUQnLFxuICBNSVNTSU5HX1JFQ0FQVENIQV9UT0tFTiA9ICdNSVNTSU5HX1JFQ0FQVENIQV9UT0tFTicsXG4gIElOVkFMSURfUkVDQVBUQ0hBX1RPS0VOID0gJ0lOVkFMSURfUkVDQVBUQ0hBX1RPS0VOJyxcbiAgSU5WQUxJRF9SRUNBUFRDSEFfQUNUSU9OID0gJ0lOVkFMSURfUkVDQVBUQ0hBX0FDVElPTicsXG4gIE1JU1NJTkdfQ0xJRU5UX1RZUEUgPSAnTUlTU0lOR19DTElFTlRfVFlQRScsXG4gIE1JU1NJTkdfUkVDQVBUQ0hBX1ZFUlNJT04gPSAnTUlTU0lOR19SRUNBUFRDSEFfVkVSU0lPTicsXG4gIElOVkFMSURfUkVDQVBUQ0hBX1ZFUlNJT04gPSAnSU5WQUxJRF9SRUNBUFRDSEFfVkVSU0lPTicsXG4gIElOVkFMSURfUkVRX1RZUEUgPSAnSU5WQUxJRF9SRVFfVFlQRScsXG4gIFBBU1NXT1JEX0RPRVNfTk9UX01FRVRfUkVRVUlSRU1FTlRTID0gJ1BBU1NXT1JEX0RPRVNfTk9UX01FRVRfUkVRVUlSRU1FTlRTJ1xufVxuXG4vKipcbiAqIEFQSSBSZXNwb25zZSBpbiB0aGUgZXZlbnQgb2YgYW4gZXJyb3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKc29uRXJyb3Ige1xuICBlcnJvcjoge1xuICAgIGNvZGU6IG51bWJlcjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgZXJyb3JzPzogW1xuICAgICAge1xuICAgICAgICBtZXNzYWdlOiBTZXJ2ZXJFcnJvcjtcbiAgICAgICAgZG9tYWluOiBzdHJpbmc7XG4gICAgICAgIHJlYXNvbjogc3RyaW5nO1xuICAgICAgfVxuICAgIF07XG4gIH07XG59XG5cbi8qKlxuICogVHlwZSBkZWZpbml0aW9uIGZvciBhIG1hcCBmcm9tIHNlcnZlciBlcnJvcnMgdG8gZGV2ZWxvcGVyIHZpc2libGUgZXJyb3JzXG4gKi9cbmV4cG9ydCBkZWNsYXJlIHR5cGUgU2VydmVyRXJyb3JNYXA8QXBpRXJyb3IgZXh0ZW5kcyBzdHJpbmc+ID0ge1xuICByZWFkb25seSBbSyBpbiBBcGlFcnJvcl06IEF1dGhFcnJvckNvZGU7XG59O1xuXG4vKipcbiAqIE1hcCBmcm9tIGVycm9ycyByZXR1cm5lZCBieSB0aGUgc2VydmVyIHRvIGVycm9ycyB0byBkZXZlbG9wZXIgdmlzaWJsZSBlcnJvcnNcbiAqL1xuZXhwb3J0IGNvbnN0IFNFUlZFUl9FUlJPUl9NQVA6IFBhcnRpYWw8U2VydmVyRXJyb3JNYXA8U2VydmVyRXJyb3I+PiA9IHtcbiAgLy8gQ3VzdG9tIHRva2VuIGVycm9ycy5cbiAgW1NlcnZlckVycm9yLkNSRURFTlRJQUxfTUlTTUFUQ0hdOiBBdXRoRXJyb3JDb2RlLkNSRURFTlRJQUxfTUlTTUFUQ0gsXG4gIC8vIFRoaXMgY2FuIG9ubHkgaGFwcGVuIGlmIHRoZSBTREsgc2VuZHMgYSBiYWQgcmVxdWVzdC5cbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfQ1VTVE9NX1RPS0VOXTogQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUixcblxuICAvLyBDcmVhdGUgQXV0aCBVUkkgZXJyb3JzLlxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9JREVOVElGSUVSXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX0VNQUlMLFxuICAvLyBUaGlzIGNhbiBvbmx5IGhhcHBlbiBpZiB0aGUgU0RLIHNlbmRzIGEgYmFkIHJlcXVlc3QuXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX0NPTlRJTlVFX1VSSV06IEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IsXG5cbiAgLy8gU2lnbiBpbiB3aXRoIGVtYWlsIGFuZCBwYXNzd29yZCBlcnJvcnMgKHNvbWUgYXBwbHkgdG8gc2lnbiB1cCB0b28pLlxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9QQVNTV09SRF06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9QQVNTV09SRCxcbiAgLy8gVGhpcyBjYW4gb25seSBoYXBwZW4gaWYgdGhlIFNESyBzZW5kcyBhIGJhZCByZXF1ZXN0LlxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19QQVNTV09SRF06IEF1dGhFcnJvckNvZGUuTUlTU0lOR19QQVNTV09SRCxcbiAgLy8gVGhyb3duIGlmIEVtYWlsIEVudW1lcmF0aW9uIFByb3RlY3Rpb24gaXMgZW5hYmxlZCBpbiB0aGUgcHJvamVjdCBhbmQgdGhlIGVtYWlsIG9yIHBhc3N3b3JkIGlzXG4gIC8vIGludmFsaWQuXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX0xPR0lOX0NSRURFTlRJQUxTXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX0NSRURFTlRJQUwsXG5cbiAgLy8gU2lnbiB1cCB3aXRoIGVtYWlsIGFuZCBwYXNzd29yZCBlcnJvcnMuXG4gIFtTZXJ2ZXJFcnJvci5FTUFJTF9FWElTVFNdOiBBdXRoRXJyb3JDb2RlLkVNQUlMX0VYSVNUUyxcbiAgW1NlcnZlckVycm9yLlBBU1NXT1JEX0xPR0lOX0RJU0FCTEVEXTogQXV0aEVycm9yQ29kZS5PUEVSQVRJT05fTk9UX0FMTE9XRUQsXG5cbiAgLy8gVmVyaWZ5IGFzc2VydGlvbiBmb3Igc2lnbiBpbiB3aXRoIGNyZWRlbnRpYWwgZXJyb3JzOlxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9JRFBfUkVTUE9OU0VdOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfQ1JFREVOVElBTCxcbiAgW1NlcnZlckVycm9yLklOVkFMSURfUEVORElOR19UT0tFTl06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9DUkVERU5USUFMLFxuICBbU2VydmVyRXJyb3IuRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRURdOlxuICAgIEF1dGhFcnJvckNvZGUuQ1JFREVOVElBTF9BTFJFQURZX0lOX1VTRSxcblxuICAvLyBUaGlzIGNhbiBvbmx5IGhhcHBlbiBpZiB0aGUgU0RLIHNlbmRzIGEgYmFkIHJlcXVlc3QuXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX1JFUV9UWVBFXTogQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUixcblxuICAvLyBTZW5kIFBhc3N3b3JkIHJlc2V0IGVtYWlsIGVycm9yczpcbiAgW1NlcnZlckVycm9yLkVNQUlMX05PVF9GT1VORF06IEF1dGhFcnJvckNvZGUuVVNFUl9ERUxFVEVELFxuICBbU2VydmVyRXJyb3IuUkVTRVRfUEFTU1dPUkRfRVhDRUVEX0xJTUlUXTpcbiAgICBBdXRoRXJyb3JDb2RlLlRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUixcblxuICBbU2VydmVyRXJyb3IuRVhQSVJFRF9PT0JfQ09ERV06IEF1dGhFcnJvckNvZGUuRVhQSVJFRF9PT0JfQ09ERSxcbiAgW1NlcnZlckVycm9yLklOVkFMSURfT09CX0NPREVdOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfT09CX0NPREUsXG4gIC8vIFRoaXMgY2FuIG9ubHkgaGFwcGVuIGlmIHRoZSBTREsgc2VuZHMgYSBiYWQgcmVxdWVzdC5cbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfT09CX0NPREVdOiBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SLFxuXG4gIC8vIE9wZXJhdGlvbnMgdGhhdCByZXF1aXJlIElEIHRva2VuIGluIHJlcXVlc3Q6XG4gIFtTZXJ2ZXJFcnJvci5DUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU5dOlxuICAgIEF1dGhFcnJvckNvZGUuQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOLFxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9JRF9UT0tFTl06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9BVVRILFxuICBbU2VydmVyRXJyb3IuVE9LRU5fRVhQSVJFRF06IEF1dGhFcnJvckNvZGUuVE9LRU5fRVhQSVJFRCxcbiAgW1NlcnZlckVycm9yLlVTRVJfTk9UX0ZPVU5EXTogQXV0aEVycm9yQ29kZS5UT0tFTl9FWFBJUkVELFxuXG4gIC8vIE90aGVyIGVycm9ycy5cbiAgW1NlcnZlckVycm9yLlRPT19NQU5ZX0FUVEVNUFRTX1RSWV9MQVRFUl06XG4gICAgQXV0aEVycm9yQ29kZS5UT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVIsXG4gIFtTZXJ2ZXJFcnJvci5QQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UU106XG4gICAgQXV0aEVycm9yQ29kZS5QQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UUyxcblxuICAvLyBQaG9uZSBBdXRoIHJlbGF0ZWQgZXJyb3JzLlxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9DT0RFXTogQXV0aEVycm9yQ29kZS5JTlZBTElEX0NPREUsXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX1NFU1NJT05fSU5GT106IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9TRVNTSU9OX0lORk8sXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX1RFTVBPUkFSWV9QUk9PRl06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9DUkVERU5USUFMLFxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19TRVNTSU9OX0lORk9dOiBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfU0VTU0lPTl9JTkZPLFxuICBbU2VydmVyRXJyb3IuU0VTU0lPTl9FWFBJUkVEXTogQXV0aEVycm9yQ29kZS5DT0RFX0VYUElSRUQsXG5cbiAgLy8gT3RoZXIgYWN0aW9uIGNvZGUgZXJyb3JzIHdoZW4gYWRkaXRpb25hbCBzZXR0aW5ncyBwYXNzZWQuXG4gIC8vIE1JU1NJTkdfQ09OVElOVUVfVVJJIGlzIGdldHRpbmcgbWFwcGVkIHRvIElOVEVSTkFMX0VSUk9SIGFib3ZlLlxuICAvLyBUaGlzIGlzIE9LIGFzIHRoaXMgZXJyb3Igd2lsbCBiZSBjYXVnaHQgYnkgY2xpZW50IHNpZGUgdmFsaWRhdGlvbi5cbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfQU5EUk9JRF9QQUNLQUdFX05BTUVdOlxuICAgIEF1dGhFcnJvckNvZGUuTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRSxcbiAgW1NlcnZlckVycm9yLlVOQVVUSE9SSVpFRF9ET01BSU5dOiBBdXRoRXJyb3JDb2RlLlVOQVVUSE9SSVpFRF9ET01BSU4sXG5cbiAgLy8gZ2V0UHJvamVjdENvbmZpZyBlcnJvcnMgd2hlbiBjbGllbnRJZCBpcyBwYXNzZWQuXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX09BVVRIX0NMSUVOVF9JRF06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9PQVVUSF9DTElFTlRfSUQsXG5cbiAgLy8gVXNlciBhY3Rpb25zIChzaWduLXVwIG9yIGRlbGV0aW9uKSBkaXNhYmxlZCBlcnJvcnMuXG4gIFtTZXJ2ZXJFcnJvci5BRE1JTl9PTkxZX09QRVJBVElPTl06IEF1dGhFcnJvckNvZGUuQURNSU5fT05MWV9PUEVSQVRJT04sXG5cbiAgLy8gTXVsdGkgZmFjdG9yIHJlbGF0ZWQgZXJyb3JzLlxuICBbU2VydmVyRXJyb3IuSU5WQUxJRF9NRkFfUEVORElOR19DUkVERU5USUFMXTpcbiAgICBBdXRoRXJyb3JDb2RlLklOVkFMSURfTUZBX1NFU1NJT04sXG4gIFtTZXJ2ZXJFcnJvci5NRkFfRU5ST0xMTUVOVF9OT1RfRk9VTkRdOiBBdXRoRXJyb3JDb2RlLk1GQV9JTkZPX05PVF9GT1VORCxcbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfTUZBX0VOUk9MTE1FTlRfSURdOiBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfTUZBX0lORk8sXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX01GQV9QRU5ESU5HX0NSRURFTlRJQUxdOlxuICAgIEF1dGhFcnJvckNvZGUuTUlTU0lOR19NRkFfU0VTU0lPTixcbiAgW1NlcnZlckVycm9yLlNFQ09ORF9GQUNUT1JfRVhJU1RTXTpcbiAgICBBdXRoRXJyb3JDb2RlLlNFQ09ORF9GQUNUT1JfQUxSRUFEWV9FTlJPTExFRCxcbiAgW1NlcnZlckVycm9yLlNFQ09ORF9GQUNUT1JfTElNSVRfRVhDRUVERURdOlxuICAgIEF1dGhFcnJvckNvZGUuU0VDT05EX0ZBQ1RPUl9MSU1JVF9FWENFRURFRCxcblxuICAvLyBCbG9ja2luZyBmdW5jdGlvbnMgcmVsYXRlZCBlcnJvcnMuXG4gIFtTZXJ2ZXJFcnJvci5CTE9DS0lOR19GVU5DVElPTl9FUlJPUl9SRVNQT05TRV06IEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IsXG5cbiAgLy8gUmVjYXB0Y2hhIHJlbGF0ZWQgZXJyb3JzLlxuICBbU2VydmVyRXJyb3IuUkVDQVBUQ0hBX05PVF9FTkFCTEVEXTogQXV0aEVycm9yQ29kZS5SRUNBUFRDSEFfTk9UX0VOQUJMRUQsXG4gIFtTZXJ2ZXJFcnJvci5NSVNTSU5HX1JFQ0FQVENIQV9UT0tFTl06IEF1dGhFcnJvckNvZGUuTUlTU0lOR19SRUNBUFRDSEFfVE9LRU4sXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX1JFQ0FQVENIQV9UT0tFTl06IEF1dGhFcnJvckNvZGUuSU5WQUxJRF9SRUNBUFRDSEFfVE9LRU4sXG4gIFtTZXJ2ZXJFcnJvci5JTlZBTElEX1JFQ0FQVENIQV9BQ1RJT05dOlxuICAgIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9SRUNBUFRDSEFfQUNUSU9OLFxuICBbU2VydmVyRXJyb3IuTUlTU0lOR19DTElFTlRfVFlQRV06IEF1dGhFcnJvckNvZGUuTUlTU0lOR19DTElFTlRfVFlQRSxcbiAgW1NlcnZlckVycm9yLk1JU1NJTkdfUkVDQVBUQ0hBX1ZFUlNJT05dOlxuICAgIEF1dGhFcnJvckNvZGUuTUlTU0lOR19SRUNBUFRDSEFfVkVSU0lPTixcbiAgW1NlcnZlckVycm9yLklOVkFMSURfUkVDQVBUQ0hBX1ZFUlNJT05dOlxuICAgIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9SRUNBUFRDSEFfVkVSU0lPTixcbiAgW1NlcnZlckVycm9yLklOVkFMSURfUkVRX1RZUEVdOiBBdXRoRXJyb3JDb2RlLklOVkFMSURfUkVRX1RZUEVcbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciwgaXNDbG91ZGZsYXJlV29ya2VyLCBxdWVyeXN0cmluZyB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSwgTmFtZWRFcnJvclBhcmFtcyB9IGZyb20gJy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7XG4gIF9jcmVhdGVFcnJvcixcbiAgX2Vycm9yV2l0aEN1c3RvbU1lc3NhZ2UsXG4gIF9mYWlsXG59IGZyb20gJy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgRGVsYXkgfSBmcm9tICcuLi9jb3JlL3V0aWwvZGVsYXknO1xuaW1wb3J0IHsgX2VtdWxhdG9yVXJsIH0gZnJvbSAnLi4vY29yZS91dGlsL2VtdWxhdG9yJztcbmltcG9ydCB7IEZldGNoUHJvdmlkZXIgfSBmcm9tICcuLi9jb3JlL3V0aWwvZmV0Y2hfcHJvdmlkZXInO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwsIENvbmZpZ0ludGVybmFsIH0gZnJvbSAnLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UsIFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgSWRUb2tlbk1mYVJlc3BvbnNlIH0gZnJvbSAnLi9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgU0VSVkVSX0VSUk9SX01BUCwgU2VydmVyRXJyb3IsIFNlcnZlckVycm9yTWFwIH0gZnJvbSAnLi9lcnJvcnMnO1xuXG5leHBvcnQgY29uc3QgZW51bSBIdHRwTWV0aG9kIHtcbiAgUE9TVCA9ICdQT1NUJyxcbiAgR0VUID0gJ0dFVCdcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gSHR0cEhlYWRlciB7XG4gIENPTlRFTlRfVFlQRSA9ICdDb250ZW50LVR5cGUnLFxuICBYX0ZJUkVCQVNFX0xPQ0FMRSA9ICdYLUZpcmViYXNlLUxvY2FsZScsXG4gIFhfQ0xJRU5UX1ZFUlNJT04gPSAnWC1DbGllbnQtVmVyc2lvbicsXG4gIFhfRklSRUJBU0VfR01QSUQgPSAnWC1GaXJlYmFzZS1nbXBpZCcsXG4gIFhfRklSRUJBU0VfQ0xJRU5UID0gJ1gtRmlyZWJhc2UtQ2xpZW50JyxcbiAgWF9GSVJFQkFTRV9BUFBfQ0hFQ0sgPSAnWC1GaXJlYmFzZS1BcHBDaGVjaydcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gRW5kcG9pbnQge1xuICBDUkVBVEVfQVVUSF9VUkkgPSAnL3YxL2FjY291bnRzOmNyZWF0ZUF1dGhVcmknLFxuICBERUxFVEVfQUNDT1VOVCA9ICcvdjEvYWNjb3VudHM6ZGVsZXRlJyxcbiAgUkVTRVRfUEFTU1dPUkQgPSAnL3YxL2FjY291bnRzOnJlc2V0UGFzc3dvcmQnLFxuICBTSUdOX1VQID0gJy92MS9hY2NvdW50czpzaWduVXAnLFxuICBTSUdOX0lOX1dJVEhfQ1VTVE9NX1RPS0VOID0gJy92MS9hY2NvdW50czpzaWduSW5XaXRoQ3VzdG9tVG9rZW4nLFxuICBTSUdOX0lOX1dJVEhfRU1BSUxfTElOSyA9ICcvdjEvYWNjb3VudHM6c2lnbkluV2l0aEVtYWlsTGluaycsXG4gIFNJR05fSU5fV0lUSF9JRFAgPSAnL3YxL2FjY291bnRzOnNpZ25JbldpdGhJZHAnLFxuICBTSUdOX0lOX1dJVEhfUEFTU1dPUkQgPSAnL3YxL2FjY291bnRzOnNpZ25JbldpdGhQYXNzd29yZCcsXG4gIFNJR05fSU5fV0lUSF9QSE9ORV9OVU1CRVIgPSAnL3YxL2FjY291bnRzOnNpZ25JbldpdGhQaG9uZU51bWJlcicsXG4gIFNFTkRfVkVSSUZJQ0FUSU9OX0NPREUgPSAnL3YxL2FjY291bnRzOnNlbmRWZXJpZmljYXRpb25Db2RlJyxcbiAgU0VORF9PT0JfQ09ERSA9ICcvdjEvYWNjb3VudHM6c2VuZE9vYkNvZGUnLFxuICBTRVRfQUNDT1VOVF9JTkZPID0gJy92MS9hY2NvdW50czp1cGRhdGUnLFxuICBHRVRfQUNDT1VOVF9JTkZPID0gJy92MS9hY2NvdW50czpsb29rdXAnLFxuICBHRVRfUkVDQVBUQ0hBX1BBUkFNID0gJy92MS9yZWNhcHRjaGFQYXJhbXMnLFxuICBTVEFSVF9NRkFfRU5ST0xMTUVOVCA9ICcvdjIvYWNjb3VudHMvbWZhRW5yb2xsbWVudDpzdGFydCcsXG4gIEZJTkFMSVpFX01GQV9FTlJPTExNRU5UID0gJy92Mi9hY2NvdW50cy9tZmFFbnJvbGxtZW50OmZpbmFsaXplJyxcbiAgU1RBUlRfTUZBX1NJR05fSU4gPSAnL3YyL2FjY291bnRzL21mYVNpZ25JbjpzdGFydCcsXG4gIEZJTkFMSVpFX01GQV9TSUdOX0lOID0gJy92Mi9hY2NvdW50cy9tZmFTaWduSW46ZmluYWxpemUnLFxuICBXSVRIRFJBV19NRkEgPSAnL3YyL2FjY291bnRzL21mYUVucm9sbG1lbnQ6d2l0aGRyYXcnLFxuICBHRVRfUFJPSkVDVF9DT05GSUcgPSAnL3YxL3Byb2plY3RzJyxcbiAgR0VUX1JFQ0FQVENIQV9DT05GSUcgPSAnL3YyL3JlY2FwdGNoYUNvbmZpZycsXG4gIEdFVF9QQVNTV09SRF9QT0xJQ1kgPSAnL3YyL3Bhc3N3b3JkUG9saWN5JyxcbiAgVE9LRU4gPSAnL3YxL3Rva2VuJyxcbiAgUkVWT0tFX1RPS0VOID0gJy92Mi9hY2NvdW50czpyZXZva2VUb2tlbidcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gUmVjYXB0Y2hhQ2xpZW50VHlwZSB7XG4gIFdFQiA9ICdDTElFTlRfVFlQRV9XRUInLFxuICBBTkRST0lEID0gJ0NMSUVOVF9UWVBFX0FORFJPSUQnLFxuICBJT1MgPSAnQ0xJRU5UX1RZUEVfSU9TJ1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBSZWNhcHRjaGFWZXJzaW9uIHtcbiAgRU5URVJQUklTRSA9ICdSRUNBUFRDSEFfRU5URVJQUklTRSdcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gUmVjYXB0Y2hhQWN0aW9uTmFtZSB7XG4gIFNJR05fSU5fV0lUSF9QQVNTV09SRCA9ICdzaWduSW5XaXRoUGFzc3dvcmQnLFxuICBHRVRfT09CX0NPREUgPSAnZ2V0T29iQ29kZScsXG4gIFNJR05fVVBfUEFTU1dPUkQgPSAnc2lnblVwUGFzc3dvcmQnXG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIEVuZm9yY2VtZW50U3RhdGUge1xuICBFTkZPUkNFID0gJ0VORk9SQ0UnLFxuICBBVURJVCA9ICdBVURJVCcsXG4gIE9GRiA9ICdPRkYnLFxuICBFTkZPUkNFTUVOVF9TVEFURV9VTlNQRUNJRklFRCA9ICdFTkZPUkNFTUVOVF9TVEFURV9VTlNQRUNJRklFRCdcbn1cblxuLy8gUHJvdmlkZXJzIHRoYXQgaGF2ZSByZUNBUFRDSEEgRW50ZXJwcmlzZSBzdXBwb3J0LlxuZXhwb3J0IGNvbnN0IGVudW0gUmVjYXB0Y2hhUHJvdmlkZXIge1xuICBFTUFJTF9QQVNTV09SRF9QUk9WSURFUiA9ICdFTUFJTF9QQVNTV09SRF9QUk9WSURFUidcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVBJX1RJTUVPVVRfTVMgPSBuZXcgRGVsYXkoMzBfMDAwLCA2MF8wMDApO1xuXG5leHBvcnQgZnVuY3Rpb24gX2FkZFRpZElmTmVjZXNzYXJ5PFQgZXh0ZW5kcyB7IHRlbmFudElkPzogc3RyaW5nIH0+KFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBUXG4pOiBUIHtcbiAgaWYgKGF1dGgudGVuYW50SWQgJiYgIXJlcXVlc3QudGVuYW50SWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucmVxdWVzdCxcbiAgICAgIHRlbmFudElkOiBhdXRoLnRlbmFudElkXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9wZXJmb3JtQXBpUmVxdWVzdDxULCBWPihcbiAgYXV0aDogQXV0aCxcbiAgbWV0aG9kOiBIdHRwTWV0aG9kLFxuICBwYXRoOiBFbmRwb2ludCxcbiAgcmVxdWVzdD86IFQsXG4gIGN1c3RvbUVycm9yTWFwOiBQYXJ0aWFsPFNlcnZlckVycm9yTWFwPFNlcnZlckVycm9yPj4gPSB7fVxuKTogUHJvbWlzZTxWPiB7XG4gIHJldHVybiBfcGVyZm9ybUZldGNoV2l0aEVycm9ySGFuZGxpbmcoYXV0aCwgY3VzdG9tRXJyb3JNYXAsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgYm9keSA9IHt9O1xuICAgIGxldCBwYXJhbXMgPSB7fTtcbiAgICBpZiAocmVxdWVzdCkge1xuICAgICAgaWYgKG1ldGhvZCA9PT0gSHR0cE1ldGhvZC5HRVQpIHtcbiAgICAgICAgcGFyYW1zID0gcmVxdWVzdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHkgPSB7XG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBxdWVyeSA9IHF1ZXJ5c3RyaW5nKHtcbiAgICAgIGtleTogYXV0aC5jb25maWcuYXBpS2V5LFxuICAgICAgLi4ucGFyYW1zXG4gICAgfSkuc2xpY2UoMSk7XG5cbiAgICBjb25zdCBoZWFkZXJzID0gYXdhaXQgKGF1dGggYXMgQXV0aEludGVybmFsKS5fZ2V0QWRkaXRpb25hbEhlYWRlcnMoKTtcbiAgICBoZWFkZXJzW0h0dHBIZWFkZXIuQ09OVEVOVF9UWVBFXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcblxuICAgIGlmIChhdXRoLmxhbmd1YWdlQ29kZSkge1xuICAgICAgaGVhZGVyc1tIdHRwSGVhZGVyLlhfRklSRUJBU0VfTE9DQUxFXSA9IGF1dGgubGFuZ3VhZ2VDb2RlO1xuICAgIH1cblxuICAgIGNvbnN0IGZldGNoQXJnczogUmVxdWVzdEluaXQgPSB7XG4gICAgICBtZXRob2QsXG4gICAgICBoZWFkZXJzLFxuICAgICAgLi4uYm9keVxuICAgIH07XG5cbiAgICAvKiBTZWN1cml0eS1jb25zY2lvdXMgc2VydmVyLXNpZGUgZnJhbWV3b3JrcyB0ZW5kIHRvIGhhdmUgYnVpbHQgaW4gbWl0aWdhdGlvbnMgZm9yIHJlZmVycmVyXG4gICAgICAgcHJvYmxlbXNcIi4gU2VlIHRoZSBDbG91ZGZsYXJlIEdpdEh1YiBpc3N1ZSAjNDg3OiBFcnJvcjogVGhlICdyZWZlcnJlclBvbGljeScgZmllbGQgb25cbiAgICAgICAnUmVxdWVzdEluaXRpYWxpemVyRGljdCcgaXMgbm90IGltcGxlbWVudGVkLlwiXG4gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkZmxhcmUvbmV4dC1vbi1wYWdlcy9pc3N1ZXMvNDg3ICovXG4gICAgaWYgKCFpc0Nsb3VkZmxhcmVXb3JrZXIoKSkge1xuICAgICAgZmV0Y2hBcmdzLnJlZmVycmVyUG9saWN5ID0gJ25vLXJlZmVycmVyJztcbiAgICB9XG5cbiAgICByZXR1cm4gRmV0Y2hQcm92aWRlci5mZXRjaCgpKFxuICAgICAgX2dldEZpbmFsVGFyZ2V0KGF1dGgsIGF1dGguY29uZmlnLmFwaUhvc3QsIHBhdGgsIHF1ZXJ5KSxcbiAgICAgIGZldGNoQXJnc1xuICAgICk7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3BlcmZvcm1GZXRjaFdpdGhFcnJvckhhbmRsaW5nPFY+KFxuICBhdXRoOiBBdXRoLFxuICBjdXN0b21FcnJvck1hcDogUGFydGlhbDxTZXJ2ZXJFcnJvck1hcDxTZXJ2ZXJFcnJvcj4+LFxuICBmZXRjaEZuOiAoKSA9PiBQcm9taXNlPFJlc3BvbnNlPlxuKTogUHJvbWlzZTxWPiB7XG4gIChhdXRoIGFzIEF1dGhJbnRlcm5hbCkuX2NhbkluaXRFbXVsYXRvciA9IGZhbHNlO1xuICBjb25zdCBlcnJvck1hcCA9IHsgLi4uU0VSVkVSX0VSUk9SX01BUCwgLi4uY3VzdG9tRXJyb3JNYXAgfTtcbiAgdHJ5IHtcbiAgICBjb25zdCBuZXR3b3JrVGltZW91dCA9IG5ldyBOZXR3b3JrVGltZW91dDxSZXNwb25zZT4oYXV0aCk7XG4gICAgY29uc3QgcmVzcG9uc2U6IFJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlPFByb21pc2U8UmVzcG9uc2U+PihbXG4gICAgICBmZXRjaEZuKCksXG4gICAgICBuZXR3b3JrVGltZW91dC5wcm9taXNlXG4gICAgXSk7XG5cbiAgICAvLyBJZiB3ZSd2ZSByZWFjaGVkIHRoaXMgcG9pbnQsIHRoZSBmZXRjaCBzdWNjZWVkZWQgYW5kIHRoZSBuZXR3b3JrVGltZW91dFxuICAgIC8vIGRpZG4ndCB0aHJvdzsgY2xlYXIgdGhlIG5ldHdvcmsgdGltZW91dCBkZWxheSBzbyB0aGF0IE5vZGUgd29uJ3QgaGFuZ1xuICAgIG5ldHdvcmtUaW1lb3V0LmNsZWFyTmV0d29ya1RpbWVvdXQoKTtcblxuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKCduZWVkQ29uZmlybWF0aW9uJyBpbiBqc29uKSB7XG4gICAgICB0aHJvdyBfbWFrZVRhZ2dlZEVycm9yKGF1dGgsIEF1dGhFcnJvckNvZGUuTkVFRF9DT05GSVJNQVRJT04sIGpzb24pO1xuICAgIH1cblxuICAgIGlmIChyZXNwb25zZS5vayAmJiAhKCdlcnJvck1lc3NhZ2UnIGluIGpzb24pKSB7XG4gICAgICByZXR1cm4ganNvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gcmVzcG9uc2Uub2sgPyBqc29uLmVycm9yTWVzc2FnZSA6IGpzb24uZXJyb3IubWVzc2FnZTtcbiAgICAgIGNvbnN0IFtzZXJ2ZXJFcnJvckNvZGUsIHNlcnZlckVycm9yTWVzc2FnZV0gPSBlcnJvck1lc3NhZ2Uuc3BsaXQoJyA6ICcpO1xuICAgICAgaWYgKHNlcnZlckVycm9yQ29kZSA9PT0gU2VydmVyRXJyb3IuRkVERVJBVEVEX1VTRVJfSURfQUxSRUFEWV9MSU5LRUQpIHtcbiAgICAgICAgdGhyb3cgX21ha2VUYWdnZWRFcnJvcihcbiAgICAgICAgICBhdXRoLFxuICAgICAgICAgIEF1dGhFcnJvckNvZGUuQ1JFREVOVElBTF9BTFJFQURZX0lOX1VTRSxcbiAgICAgICAgICBqc29uXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHNlcnZlckVycm9yQ29kZSA9PT0gU2VydmVyRXJyb3IuRU1BSUxfRVhJU1RTKSB7XG4gICAgICAgIHRocm93IF9tYWtlVGFnZ2VkRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5FTUFJTF9FWElTVFMsIGpzb24pO1xuICAgICAgfSBlbHNlIGlmIChzZXJ2ZXJFcnJvckNvZGUgPT09IFNlcnZlckVycm9yLlVTRVJfRElTQUJMRUQpIHtcbiAgICAgICAgdGhyb3cgX21ha2VUYWdnZWRFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLlVTRVJfRElTQUJMRUQsIGpzb24pO1xuICAgICAgfVxuICAgICAgY29uc3QgYXV0aEVycm9yID1cbiAgICAgICAgZXJyb3JNYXBbc2VydmVyRXJyb3JDb2RlIGFzIFNlcnZlckVycm9yXSB8fFxuICAgICAgICAoc2VydmVyRXJyb3JDb2RlXG4gICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAucmVwbGFjZSgvW19cXHNdKy9nLCAnLScpIGFzIHVua25vd24gYXMgQXV0aEVycm9yQ29kZSk7XG4gICAgICBpZiAoc2VydmVyRXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRocm93IF9lcnJvcldpdGhDdXN0b21NZXNzYWdlKGF1dGgsIGF1dGhFcnJvciwgc2VydmVyRXJyb3JNZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9mYWlsKGF1dGgsIGF1dGhFcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBGaXJlYmFzZUVycm9yKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICAvLyBDaGFuZ2luZyB0aGlzIHRvIGEgZGlmZmVyZW50IGVycm9yIGNvZGUgd2lsbCBsb2cgdXNlciBvdXQgd2hlbiB0aGVyZSBpcyBhIG5ldHdvcmsgZXJyb3JcbiAgICAvLyBiZWNhdXNlIHdlIHRyZWF0IGFueSBlcnJvciBvdGhlciB0aGFuIE5FVFdPUktfUkVRVUVTVF9GQUlMRUQgYXMgdG9rZW4gaXMgaW52YWxpZC5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvZmlyZWJhc2UtanMtc2RrL2Jsb2IvNGZiYzczNjEwZDcwYmU0ZTA4NTJlN2RlNjNhMzljYjc4OTdlODU0Ni9wYWNrYWdlcy9hdXRoL3NyYy9jb3JlL2F1dGgvYXV0aF9pbXBsLnRzI0wzMDktTDMxNlxuICAgIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuTkVUV09SS19SRVFVRVNUX0ZBSUxFRCwgeyAnbWVzc2FnZSc6IFN0cmluZyhlKSB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFQsIFYgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2U+KFxuICBhdXRoOiBBdXRoLFxuICBtZXRob2Q6IEh0dHBNZXRob2QsXG4gIHBhdGg6IEVuZHBvaW50LFxuICByZXF1ZXN0PzogVCxcbiAgY3VzdG9tRXJyb3JNYXA6IFBhcnRpYWw8U2VydmVyRXJyb3JNYXA8U2VydmVyRXJyb3I+PiA9IHt9XG4pOiBQcm9taXNlPFY+IHtcbiAgY29uc3Qgc2VydmVyUmVzcG9uc2UgPSAoYXdhaXQgX3BlcmZvcm1BcGlSZXF1ZXN0PFQsIFYgfCBJZFRva2VuTWZhUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgbWV0aG9kLFxuICAgIHBhdGgsXG4gICAgcmVxdWVzdCxcbiAgICBjdXN0b21FcnJvck1hcFxuICApKSBhcyBWO1xuICBpZiAoJ21mYVBlbmRpbmdDcmVkZW50aWFsJyBpbiBzZXJ2ZXJSZXNwb25zZSkge1xuICAgIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuTUZBX1JFUVVJUkVELCB7XG4gICAgICBfc2VydmVyUmVzcG9uc2U6IHNlcnZlclJlc3BvbnNlXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2VydmVyUmVzcG9uc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0RmluYWxUYXJnZXQoXG4gIGF1dGg6IEF1dGgsXG4gIGhvc3Q6IHN0cmluZyxcbiAgcGF0aDogc3RyaW5nLFxuICBxdWVyeTogc3RyaW5nXG4pOiBzdHJpbmcge1xuICBjb25zdCBiYXNlID0gYCR7aG9zdH0ke3BhdGh9PyR7cXVlcnl9YDtcblxuICBpZiAoIShhdXRoIGFzIEF1dGhJbnRlcm5hbCkuY29uZmlnLmVtdWxhdG9yKSB7XG4gICAgcmV0dXJuIGAke2F1dGguY29uZmlnLmFwaVNjaGVtZX06Ly8ke2Jhc2V9YDtcbiAgfVxuXG4gIHJldHVybiBfZW11bGF0b3JVcmwoYXV0aC5jb25maWcgYXMgQ29uZmlnSW50ZXJuYWwsIGJhc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3BhcnNlRW5mb3JjZW1lbnRTdGF0ZShcbiAgZW5mb3JjZW1lbnRTdGF0ZVN0cjogc3RyaW5nXG4pOiBFbmZvcmNlbWVudFN0YXRlIHtcbiAgc3dpdGNoIChlbmZvcmNlbWVudFN0YXRlU3RyKSB7XG4gICAgY2FzZSAnRU5GT1JDRSc6XG4gICAgICByZXR1cm4gRW5mb3JjZW1lbnRTdGF0ZS5FTkZPUkNFO1xuICAgIGNhc2UgJ0FVRElUJzpcbiAgICAgIHJldHVybiBFbmZvcmNlbWVudFN0YXRlLkFVRElUO1xuICAgIGNhc2UgJ09GRic6XG4gICAgICByZXR1cm4gRW5mb3JjZW1lbnRTdGF0ZS5PRkY7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBFbmZvcmNlbWVudFN0YXRlLkVORk9SQ0VNRU5UX1NUQVRFX1VOU1BFQ0lGSUVEO1xuICB9XG59XG5cbmNsYXNzIE5ldHdvcmtUaW1lb3V0PFQ+IHtcbiAgLy8gTm9kZSB0aW1lcnMgYW5kIGJyb3dzZXIgdGltZXJzIGFyZSBmdW5kYW1lbnRhbGx5IGluY29tcGF0aWJsZSwgYnV0IHdlXG4gIC8vIGRvbid0IGNhcmUgYWJvdXQgdGhlIHZhbHVlIGhlcmVcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgcHJpdmF0ZSB0aW1lcjogYW55IHwgbnVsbCA9IG51bGw7XG4gIHJlYWRvbmx5IHByb21pc2UgPSBuZXcgUHJvbWlzZTxUPigoXywgcmVqZWN0KSA9PiB7XG4gICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgX2NyZWF0ZUVycm9yKHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5ORVRXT1JLX1JFUVVFU1RfRkFJTEVEKVxuICAgICAgKTtcbiAgICB9LCBERUZBVUxUX0FQSV9USU1FT1VUX01TLmdldCgpKTtcbiAgfSk7XG5cbiAgY2xlYXJOZXR3b3JrVGltZW91dCgpOiB2b2lkIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGgpIHt9XG59XG5cbmludGVyZmFjZSBQb3RlbnRpYWxSZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7XG4gIGVtYWlsPzogc3RyaW5nO1xuICBwaG9uZU51bWJlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9tYWtlVGFnZ2VkRXJyb3IoXG4gIGF1dGg6IEF1dGgsXG4gIGNvZGU6IEF1dGhFcnJvckNvZGUsXG4gIHJlc3BvbnNlOiBQb3RlbnRpYWxSZXNwb25zZVxuKTogRmlyZWJhc2VFcnJvciB7XG4gIGNvbnN0IGVycm9yUGFyYW1zOiBOYW1lZEVycm9yUGFyYW1zID0ge1xuICAgIGFwcE5hbWU6IGF1dGgubmFtZVxuICB9O1xuXG4gIGlmIChyZXNwb25zZS5lbWFpbCkge1xuICAgIGVycm9yUGFyYW1zLmVtYWlsID0gcmVzcG9uc2UuZW1haWw7XG4gIH1cbiAgaWYgKHJlc3BvbnNlLnBob25lTnVtYmVyKSB7XG4gICAgZXJyb3JQYXJhbXMucGhvbmVOdW1iZXIgPSByZXNwb25zZS5waG9uZU51bWJlcjtcbiAgfVxuXG4gIGNvbnN0IGVycm9yID0gX2NyZWF0ZUVycm9yKGF1dGgsIGNvZGUsIGVycm9yUGFyYW1zKTtcblxuICAvLyBXZSBrbm93IGN1c3RvbURhdGEgaXMgZGVmaW5lZCBvbiBlcnJvciBiZWNhdXNlIGVycm9yUGFyYW1zIGlzIGRlZmluZWRcbiAgKGVycm9yLmN1c3RvbURhdGEhIGFzIFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlKS5fdG9rZW5SZXNwb25zZSA9IHJlc3BvbnNlO1xuICByZXR1cm4gZXJyb3I7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUmVjYXB0Y2hhUGFyYW1ldGVycyB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQge1xuICBHZXRSZWNhcHRjaGFDb25maWdSZXNwb25zZSxcbiAgUmVjYXB0Y2hhRW5mb3JjZW1lbnRQcm92aWRlclN0YXRlXG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9yZWNhcHRjaGEnO1xuaW1wb3J0IHsgRW5mb3JjZW1lbnRTdGF0ZSwgX3BhcnNlRW5mb3JjZW1lbnRTdGF0ZSB9IGZyb20gJy4uLy4uL2FwaS9pbmRleCc7XG5cbi8vIHJlQ0FQVENIQSB2MiBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgUmVjYXB0Y2hhIHtcbiAgcmVuZGVyOiAoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcGFyYW1ldGVyczogUmVjYXB0Y2hhUGFyYW1ldGVycykgPT4gbnVtYmVyO1xuICBnZXRSZXNwb25zZTogKGlkOiBudW1iZXIpID0+IHN0cmluZztcbiAgZXhlY3V0ZTogKGlkOiBudW1iZXIpID0+IHVua25vd247XG4gIHJlc2V0OiAoaWQ6IG51bWJlcikgPT4gdW5rbm93bjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVjIoXG4gIGdyZWNhcHRjaGE6IFJlY2FwdGNoYSB8IEdyZUNBUFRDSEEgfCB1bmRlZmluZWRcbik6IGdyZWNhcHRjaGEgaXMgUmVjYXB0Y2hhIHtcbiAgcmV0dXJuIChcbiAgICBncmVjYXB0Y2hhICE9PSB1bmRlZmluZWQgJiZcbiAgICAoZ3JlY2FwdGNoYSBhcyBSZWNhcHRjaGEpLmdldFJlc3BvbnNlICE9PSB1bmRlZmluZWRcbiAgKTtcbn1cblxuLy8gcmVDQVBUQ0hBIEVudGVycHJpc2UgJiB2MyBzaGFyZWQgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIEdyZUNBUFRDSEFUb3BMZXZlbCBleHRlbmRzIEdyZUNBUFRDSEEge1xuICBlbnRlcnByaXNlOiBHcmVDQVBUQ0hBO1xufVxuXG4vLyByZUNBUFRDSEEgRW50ZXJwcmlzZSBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgR3JlQ0FQVENIQSB7XG4gIHJlYWR5OiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHZvaWQ7XG4gIGV4ZWN1dGU6IChzaXRlS2V5OiBzdHJpbmcsIG9wdGlvbnM6IHsgYWN0aW9uOiBzdHJpbmcgfSkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICByZW5kZXI6IChcbiAgICBjb250YWluZXI6IHN0cmluZyB8IEhUTUxFbGVtZW50LFxuICAgIHBhcmFtZXRlcnM6IEdyZUNBUFRDSEFSZW5kZXJPcHRpb25cbiAgKSA9PiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JlQ0FQVENIQVJlbmRlck9wdGlvbiB7XG4gIHNpdGVrZXk6IHN0cmluZztcbiAgc2l6ZTogJ2ludmlzaWJsZSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VudGVycHJpc2UoXG4gIGdyZWNhcHRjaGE6IFJlY2FwdGNoYSB8IEdyZUNBUFRDSEEgfCB1bmRlZmluZWRcbik6IGdyZWNhcHRjaGEgaXMgR3JlQ0FQVENIQVRvcExldmVsIHtcbiAgcmV0dXJuIChcbiAgICBncmVjYXB0Y2hhICE9PSB1bmRlZmluZWQgJiZcbiAgICAoZ3JlY2FwdGNoYSBhcyBHcmVDQVBUQ0hBVG9wTGV2ZWwpLmVudGVycHJpc2UgIT09IHVuZGVmaW5lZFxuICApO1xufVxuXG4vLyBUT0RPKGNodWFucik6IFJlcGxhY2UgdGhpcyB3aXRoIHRoZSBBdXRoV2luZG93IGFmdGVyIHJlc29sdmluZyB0aGUgZGVwZW5kZW5jeSBpc3N1ZSBpbiBOb2RlLmpzIGVudi5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgZ3JlY2FwdGNoYT86IFJlY2FwdGNoYSB8IEdyZUNBUFRDSEFUb3BMZXZlbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVjYXB0Y2hhQ29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSByZUNBUFRDSEEgc2l0ZSBrZXkuXG4gICAqL1xuICBzaXRlS2V5OiBzdHJpbmcgPSAnJztcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcHJvdmlkZXJzIGFuZCB0aGVpciBlbmFibGVtZW50IHN0YXR1cyBmb3IgcmVDQVBUQ0hBIEVudGVycHJpc2UuXG4gICAqL1xuICByZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlOiBSZWNhcHRjaGFFbmZvcmNlbWVudFByb3ZpZGVyU3RhdGVbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlOiBHZXRSZWNhcHRjaGFDb25maWdSZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5yZWNhcHRjaGFLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZWNhcHRjaGFLZXkgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIC8vIEV4YW1wbGUgcmVzcG9uc2UucmVjYXB0Y2hhS2V5OiBcInByb2plY3RzL3Byb2oxMjMva2V5cy9zaXRla2V5MTIzXCJcbiAgICB0aGlzLnNpdGVLZXkgPSByZXNwb25zZS5yZWNhcHRjaGFLZXkuc3BsaXQoJy8nKVszXTtcbiAgICB0aGlzLnJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGUgPSByZXNwb25zZS5yZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHJlQ0FQVENIQSBFbnRlcnByaXNlIGVuZm9yY2VtZW50IHN0YXRlIGZvciB0aGUgZ2l2ZW4gcHJvdmlkZXIuXG4gICAqXG4gICAqIEBwYXJhbSBwcm92aWRlclN0ciAtIFRoZSBwcm92aWRlciB3aG9zZSBlbmZvcmNlbWVudCBzdGF0ZSBpcyB0byBiZSByZXR1cm5lZC5cbiAgICogQHJldHVybnMgVGhlIHJlQ0FQVENIQSBFbnRlcnByaXNlIGVuZm9yY2VtZW50IHN0YXRlIGZvciB0aGUgZ2l2ZW4gcHJvdmlkZXIuXG4gICAqL1xuICBnZXRQcm92aWRlckVuZm9yY2VtZW50U3RhdGUocHJvdmlkZXJTdHI6IHN0cmluZyk6IEVuZm9yY2VtZW50U3RhdGUgfCBudWxsIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5yZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlIHx8XG4gICAgICB0aGlzLnJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGUubGVuZ3RoID09PSAwXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGUgb2YgdGhpcy5yZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHJlY2FwdGNoYUVuZm9yY2VtZW50U3RhdGUucHJvdmlkZXIgJiZcbiAgICAgICAgcmVjYXB0Y2hhRW5mb3JjZW1lbnRTdGF0ZS5wcm92aWRlciA9PT0gcHJvdmlkZXJTdHJcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gX3BhcnNlRW5mb3JjZW1lbnRTdGF0ZShcbiAgICAgICAgICByZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlLmVuZm9yY2VtZW50U3RhdGVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSByZUNBUFRDSEEgRW50ZXJwcmlzZSBlbmZvcmNlbWVudCBzdGF0ZSBmb3IgdGhlIHByb3ZpZGVyIGlzIHNldCB0byBFTkZPUkNFIG9yIEFVRElULlxuICAgKlxuICAgKiBAcGFyYW0gcHJvdmlkZXJTdHIgLSBUaGUgcHJvdmlkZXIgd2hvc2UgZW5hYmxlbWVudCBzdGF0ZSBpcyB0byBiZSByZXR1cm5lZC5cbiAgICogQHJldHVybnMgV2hldGhlciBvciBub3QgcmVDQVBUQ0hBIEVudGVycHJpc2UgcHJvdGVjdGlvbiBpcyBlbmFibGVkIGZvciB0aGUgZ2l2ZW4gcHJvdmlkZXIuXG4gICAqL1xuICBpc1Byb3ZpZGVyRW5hYmxlZChwcm92aWRlclN0cjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZ2V0UHJvdmlkZXJFbmZvcmNlbWVudFN0YXRlKHByb3ZpZGVyU3RyKSA9PT1cbiAgICAgICAgRW5mb3JjZW1lbnRTdGF0ZS5FTkZPUkNFIHx8XG4gICAgICB0aGlzLmdldFByb3ZpZGVyRW5mb3JjZW1lbnRTdGF0ZShwcm92aWRlclN0cikgPT09IEVuZm9yY2VtZW50U3RhdGUuQVVESVRcbiAgICApO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIFJlY2FwdGNoYUNsaWVudFR5cGUsXG4gIFJlY2FwdGNoYVZlcnNpb24sXG4gIF9wZXJmb3JtQXBpUmVxdWVzdCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbnRlcmZhY2UgR2V0UmVjYXB0Y2hhUGFyYW1SZXNwb25zZSB7XG4gIHJlY2FwdGNoYVNpdGVLZXk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZWNhcHRjaGFQYXJhbXMoYXV0aDogQXV0aCk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiAoXG4gICAgKFxuICAgICAgYXdhaXQgX3BlcmZvcm1BcGlSZXF1ZXN0PHZvaWQsIEdldFJlY2FwdGNoYVBhcmFtUmVzcG9uc2U+KFxuICAgICAgICBhdXRoLFxuICAgICAgICBIdHRwTWV0aG9kLkdFVCxcbiAgICAgICAgRW5kcG9pbnQuR0VUX1JFQ0FQVENIQV9QQVJBTVxuICAgICAgKVxuICAgICkucmVjYXB0Y2hhU2l0ZUtleSB8fCAnJ1xuICApO1xufVxuXG4vLyBUaGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBhcmUgZm9yIHJlQ0FQVENIQSBlbnRlcnByaXNlIGludGVncmF0aW9uLlxuaW50ZXJmYWNlIEdldFJlY2FwdGNoYUNvbmZpZ1JlcXVlc3Qge1xuICB0ZW5hbnRJZD86IHN0cmluZztcbiAgY2xpZW50VHlwZT86IFJlY2FwdGNoYUNsaWVudFR5cGU7XG4gIHZlcnNpb24/OiBSZWNhcHRjaGFWZXJzaW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlY2FwdGNoYUVuZm9yY2VtZW50UHJvdmlkZXJTdGF0ZSB7XG4gIHByb3ZpZGVyOiBzdHJpbmc7XG4gIGVuZm9yY2VtZW50U3RhdGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRSZWNhcHRjaGFDb25maWdSZXNwb25zZSB7XG4gIHJlY2FwdGNoYUtleTogc3RyaW5nO1xuICByZWNhcHRjaGFFbmZvcmNlbWVudFN0YXRlOiBSZWNhcHRjaGFFbmZvcmNlbWVudFByb3ZpZGVyU3RhdGVbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlY2FwdGNoYUNvbmZpZyhcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogR2V0UmVjYXB0Y2hhQ29uZmlnUmVxdWVzdFxuKTogUHJvbWlzZTxHZXRSZWNhcHRjaGFDb25maWdSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIEdldFJlY2FwdGNoYUNvbmZpZ1JlcXVlc3QsXG4gICAgR2V0UmVjYXB0Y2hhQ29uZmlnUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuR0VULFxuICAgIEVuZHBvaW50LkdFVF9SRUNBUFRDSEFfQ09ORklHLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEVuZHBvaW50LCBIdHRwTWV0aG9kLCBfcGVyZm9ybUFwaVJlcXVlc3QgfSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBNZmFFbnJvbGxtZW50IH0gZnJvbSAnLi9tZmEnO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlQWNjb3VudFJlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVBY2NvdW50KFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBEZWxldGVBY2NvdW50UmVxdWVzdFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8RGVsZXRlQWNjb3VudFJlcXVlc3QsIHZvaWQ+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LkRFTEVURV9BQ0NPVU5ULFxuICAgIHJlcXVlc3RcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm92aWRlclVzZXJJbmZvIHtcbiAgcHJvdmlkZXJJZDogc3RyaW5nO1xuICByYXdJZD86IHN0cmluZztcbiAgZW1haWw/OiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICBwaG90b1VybD86IHN0cmluZztcbiAgcGhvbmVOdW1iZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlTGlua2VkQWNjb3VudHNSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xuICBkZWxldGVQcm92aWRlcjogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlTGlua2VkQWNjb3VudHNSZXNwb25zZSB7XG4gIHByb3ZpZGVyVXNlckluZm86IFByb3ZpZGVyVXNlckluZm9bXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUxpbmtlZEFjY291bnRzKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBEZWxldGVMaW5rZWRBY2NvdW50c1JlcXVlc3Rcbik6IFByb21pc2U8RGVsZXRlTGlua2VkQWNjb3VudHNSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIERlbGV0ZUxpbmtlZEFjY291bnRzUmVxdWVzdCxcbiAgICBEZWxldGVMaW5rZWRBY2NvdW50c1Jlc3BvbnNlXG4gID4oYXV0aCwgSHR0cE1ldGhvZC5QT1NULCBFbmRwb2ludC5TRVRfQUNDT1VOVF9JTkZPLCByZXF1ZXN0KTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBUElVc2VySW5mbyB7XG4gIGxvY2FsSWQ/OiBzdHJpbmc7XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICBwaG90b1VybD86IHN0cmluZztcbiAgZW1haWw/OiBzdHJpbmc7XG4gIGVtYWlsVmVyaWZpZWQ/OiBib29sZWFuO1xuICBwaG9uZU51bWJlcj86IHN0cmluZztcbiAgbGFzdExvZ2luQXQ/OiBudW1iZXI7XG4gIGNyZWF0ZWRBdD86IG51bWJlcjtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG4gIHBhc3N3b3JkSGFzaD86IHN0cmluZztcbiAgcHJvdmlkZXJVc2VySW5mbz86IFByb3ZpZGVyVXNlckluZm9bXTtcbiAgbWZhSW5mbz86IE1mYUVucm9sbG1lbnRbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRBY2NvdW50SW5mb1JlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0QWNjb3VudEluZm9SZXNwb25zZSB7XG4gIHVzZXJzOiBBUElVc2VySW5mb1tdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWNjb3VudEluZm8oXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEdldEFjY291bnRJbmZvUmVxdWVzdFxuKTogUHJvbWlzZTxHZXRBY2NvdW50SW5mb1Jlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8R2V0QWNjb3VudEluZm9SZXF1ZXN0LCBHZXRBY2NvdW50SW5mb1Jlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5HRVRfQUNDT1VOVF9JTkZPLFxuICAgIHJlcXVlc3RcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdXRjVGltZXN0YW1wVG9EYXRlU3RyaW5nKFxuICB1dGNUaW1lc3RhbXA/OiBzdHJpbmcgfCBudW1iZXJcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGlmICghdXRjVGltZXN0YW1wKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICB0cnkge1xuICAgIC8vIENvbnZlcnQgdG8gZGF0ZSBvYmplY3QuXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKE51bWJlcih1dGNUaW1lc3RhbXApKTtcbiAgICAvLyBUZXN0IGRhdGUgaXMgdmFsaWQuXG4gICAgaWYgKCFpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgIC8vIENvbnZlcnQgdG8gVVRDIGRhdGUgc3RyaW5nLlxuICAgICAgcmV0dXJuIGRhdGUudG9VVENTdHJpbmcoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBEbyBub3RoaW5nLiB1bmRlZmluZWQgd2lsbCBiZSByZXR1cm5lZC5cbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IElkVG9rZW5SZXN1bHQsIFBhcnNlZFRva2VuLCBVc2VyIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IGJhc2U2NERlY29kZSwgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyB1dGNUaW1lc3RhbXBUb0RhdGVTdHJpbmcgfSBmcm9tICcuLi91dGlsL3RpbWUnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5cbi8qKlxuICogUmV0dXJucyBhIEpTT04gV2ViIFRva2VuIChKV1QpIHVzZWQgdG8gaWRlbnRpZnkgdGhlIHVzZXIgdG8gYSBGaXJlYmFzZSBzZXJ2aWNlLlxuICpcbiAqIEByZW1hcmtzXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHRva2VuIGlmIGl0IGhhcyBub3QgZXhwaXJlZCBvciBpZiBpdCB3aWxsIG5vdCBleHBpcmUgaW4gdGhlIG5leHQgZml2ZVxuICogbWludXRlcy4gT3RoZXJ3aXNlLCB0aGlzIHdpbGwgcmVmcmVzaCB0aGUgdG9rZW4gYW5kIHJldHVybiBhIG5ldyBvbmUuXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBmb3JjZVJlZnJlc2ggLSBGb3JjZSByZWZyZXNoIHJlZ2FyZGxlc3Mgb2YgdG9rZW4gZXhwaXJhdGlvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJZFRva2VuKHVzZXI6IFVzZXIsIGZvcmNlUmVmcmVzaCA9IGZhbHNlKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKS5nZXRJZFRva2VuKGZvcmNlUmVmcmVzaCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGRlc2VyaWFsaXplZCBKU09OIFdlYiBUb2tlbiAoSldUKSB1c2VkIHRvIGlkZW50aWZ5IHRoZSB1c2VyIHRvIGEgRmlyZWJhc2Ugc2VydmljZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogUmV0dXJucyB0aGUgY3VycmVudCB0b2tlbiBpZiBpdCBoYXMgbm90IGV4cGlyZWQgb3IgaWYgaXQgd2lsbCBub3QgZXhwaXJlIGluIHRoZSBuZXh0IGZpdmVcbiAqIG1pbnV0ZXMuIE90aGVyd2lzZSwgdGhpcyB3aWxsIHJlZnJlc2ggdGhlIHRva2VuIGFuZCByZXR1cm4gYSBuZXcgb25lLlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gZm9yY2VSZWZyZXNoIC0gRm9yY2UgcmVmcmVzaCByZWdhcmRsZXNzIG9mIHRva2VuIGV4cGlyYXRpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SWRUb2tlblJlc3VsdChcbiAgdXNlcjogVXNlcixcbiAgZm9yY2VSZWZyZXNoID0gZmFsc2Vcbik6IFByb21pc2U8SWRUb2tlblJlc3VsdD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBjb25zdCB0b2tlbiA9IGF3YWl0IHVzZXJJbnRlcm5hbC5nZXRJZFRva2VuKGZvcmNlUmVmcmVzaCk7XG4gIGNvbnN0IGNsYWltcyA9IF9wYXJzZVRva2VuKHRva2VuKTtcblxuICBfYXNzZXJ0KFxuICAgIGNsYWltcyAmJiBjbGFpbXMuZXhwICYmIGNsYWltcy5hdXRoX3RpbWUgJiYgY2xhaW1zLmlhdCxcbiAgICB1c2VySW50ZXJuYWwuYXV0aCxcbiAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICk7XG4gIGNvbnN0IGZpcmViYXNlID1cbiAgICB0eXBlb2YgY2xhaW1zLmZpcmViYXNlID09PSAnb2JqZWN0JyA/IGNsYWltcy5maXJlYmFzZSA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBzaWduSW5Qcm92aWRlcjogc3RyaW5nIHwgdW5kZWZpbmVkID0gZmlyZWJhc2U/Llsnc2lnbl9pbl9wcm92aWRlciddO1xuXG4gIHJldHVybiB7XG4gICAgY2xhaW1zLFxuICAgIHRva2VuLFxuICAgIGF1dGhUaW1lOiB1dGNUaW1lc3RhbXBUb0RhdGVTdHJpbmcoXG4gICAgICBzZWNvbmRzU3RyaW5nVG9NaWxsaXNlY29uZHMoY2xhaW1zLmF1dGhfdGltZSlcbiAgICApISxcbiAgICBpc3N1ZWRBdFRpbWU6IHV0Y1RpbWVzdGFtcFRvRGF0ZVN0cmluZyhcbiAgICAgIHNlY29uZHNTdHJpbmdUb01pbGxpc2Vjb25kcyhjbGFpbXMuaWF0KVxuICAgICkhLFxuICAgIGV4cGlyYXRpb25UaW1lOiB1dGNUaW1lc3RhbXBUb0RhdGVTdHJpbmcoXG4gICAgICBzZWNvbmRzU3RyaW5nVG9NaWxsaXNlY29uZHMoY2xhaW1zLmV4cClcbiAgICApISxcbiAgICBzaWduSW5Qcm92aWRlcjogc2lnbkluUHJvdmlkZXIgfHwgbnVsbCxcbiAgICBzaWduSW5TZWNvbmRGYWN0b3I6IGZpcmViYXNlPy5bJ3NpZ25faW5fc2Vjb25kX2ZhY3RvciddIHx8IG51bGxcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2Vjb25kc1N0cmluZ1RvTWlsbGlzZWNvbmRzKHNlY29uZHM6IHN0cmluZyk6IG51bWJlciB7XG4gIHJldHVybiBOdW1iZXIoc2Vjb25kcykgKiAxMDAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3BhcnNlVG9rZW4odG9rZW46IHN0cmluZyk6IFBhcnNlZFRva2VuIHwgbnVsbCB7XG4gIGNvbnN0IFthbGdvcml0aG0sIHBheWxvYWQsIHNpZ25hdHVyZV0gPSB0b2tlbi5zcGxpdCgnLicpO1xuICBpZiAoXG4gICAgYWxnb3JpdGhtID09PSB1bmRlZmluZWQgfHxcbiAgICBwYXlsb2FkID09PSB1bmRlZmluZWQgfHxcbiAgICBzaWduYXR1cmUgPT09IHVuZGVmaW5lZFxuICApIHtcbiAgICBfbG9nRXJyb3IoJ0pXVCBtYWxmb3JtZWQsIGNvbnRhaW5lZCBmZXdlciB0aGFuIDMgc2VjdGlvbnMnKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgZGVjb2RlZCA9IGJhc2U2NERlY29kZShwYXlsb2FkKTtcbiAgICBpZiAoIWRlY29kZWQpIHtcbiAgICAgIF9sb2dFcnJvcignRmFpbGVkIHRvIGRlY29kZSBiYXNlNjQgSldUIHBheWxvYWQnKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVkKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIF9sb2dFcnJvcihcbiAgICAgICdDYXVnaHQgZXJyb3IgcGFyc2luZyBKV1QgcGF5bG9hZCBhcyBKU09OJyxcbiAgICAgIChlIGFzIEVycm9yKT8udG9TdHJpbmcoKVxuICAgICk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRyYWN0IGV4cGlyZXNJbiBUVEwgZnJvbSBhIHRva2VuIGJ5IHN1YnRyYWN0aW5nIHRoZSBleHBpcmF0aW9uIGZyb20gdGhlIGlzc3VhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gX3Rva2VuRXhwaXJlc0luKHRva2VuOiBzdHJpbmcpOiBudW1iZXIge1xuICBjb25zdCBwYXJzZWRUb2tlbiA9IF9wYXJzZVRva2VuKHRva2VuKTtcbiAgX2Fzc2VydChwYXJzZWRUb2tlbiwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIF9hc3NlcnQodHlwZW9mIHBhcnNlZFRva2VuLmV4cCAhPT0gJ3VuZGVmaW5lZCcsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICBfYXNzZXJ0KHR5cGVvZiBwYXJzZWRUb2tlbi5pYXQgIT09ICd1bmRlZmluZWQnLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgcmV0dXJuIE51bWJlcihwYXJzZWRUb2tlbi5leHApIC0gTnVtYmVyKHBhcnNlZFRva2VuLmlhdCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9sb2dvdXRJZkludmFsaWRhdGVkPFQ+KFxuICB1c2VyOiBVc2VySW50ZXJuYWwsXG4gIHByb21pc2U6IFByb21pc2U8VD4sXG4gIGJ5cGFzc0F1dGhTdGF0ZSA9IGZhbHNlXG4pOiBQcm9taXNlPFQ+IHtcbiAgaWYgKGJ5cGFzc0F1dGhTdGF0ZSkge1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIGF3YWl0IHByb21pc2U7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIEZpcmViYXNlRXJyb3IgJiYgaXNVc2VySW52YWxpZGF0ZWQoZSkpIHtcbiAgICAgIGlmICh1c2VyLmF1dGguY3VycmVudFVzZXIgPT09IHVzZXIpIHtcbiAgICAgICAgYXdhaXQgdXNlci5hdXRoLnNpZ25PdXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aHJvdyBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVXNlckludmFsaWRhdGVkKHsgY29kZSB9OiBGaXJlYmFzZUVycm9yKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgY29kZSA9PT0gYGF1dGgvJHtBdXRoRXJyb3JDb2RlLlVTRVJfRElTQUJMRUR9YCB8fFxuICAgIGNvZGUgPT09IGBhdXRoLyR7QXV0aEVycm9yQ29kZS5UT0tFTl9FWFBJUkVEfWBcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcblxuLy8gUmVmcmVzaCB0aGUgdG9rZW4gZml2ZSBtaW51dGVzIGJlZm9yZSBleHBpcmF0aW9uXG5leHBvcnQgY29uc3QgZW51bSBEdXJhdGlvbiB7XG4gIE9GRlNFVCA9IDUgKiAxMDAwICogNjAsXG4gIFJFVFJZX0JBQ0tPRkZfTUlOID0gMzAgKiAxMDAwLFxuICBSRVRSWV9CQUNLT0ZGX01BWCA9IDE2ICogNjAgKiAxMDAwXG59XG5cbmV4cG9ydCBjbGFzcyBQcm9hY3RpdmVSZWZyZXNoIHtcbiAgcHJpdmF0ZSBpc1J1bm5pbmcgPSBmYWxzZTtcblxuICAvLyBOb2RlIHRpbWVycyBhbmQgYnJvd3NlciB0aW1lcnMgcmV0dXJuIGZ1bmRhbWVudGFsbHkgZGlmZmVyZW50IHR5cGVzLlxuICAvLyBXZSBkb24ndCBhY3R1YWxseSBjYXJlIHdoYXQgdGhlIHZhbHVlIGlzIGJ1dCBUUyB3b24ndCBhY2NlcHQgdW5rbm93biBhbmRcbiAgLy8gd2UgY2FuJ3QgY2FzdCBwcm9wZXJseSBpbiBib3RoIGVudmlyb25tZW50cy5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgcHJpdmF0ZSB0aW1lcklkOiBhbnkgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBlcnJvckJhY2tvZmYgPSBEdXJhdGlvbi5SRVRSWV9CQUNLT0ZGX01JTjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHVzZXI6IFVzZXJJbnRlcm5hbCkge31cblxuICBfc3RhcnQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xuICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgfVxuXG4gIF9zdG9wKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnRpbWVySWQgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0SW50ZXJ2YWwod2FzRXJyb3I6IGJvb2xlYW4pOiBudW1iZXIge1xuICAgIGlmICh3YXNFcnJvcikge1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSB0aGlzLmVycm9yQmFja29mZjtcbiAgICAgIHRoaXMuZXJyb3JCYWNrb2ZmID0gTWF0aC5taW4oXG4gICAgICAgIHRoaXMuZXJyb3JCYWNrb2ZmICogMixcbiAgICAgICAgRHVyYXRpb24uUkVUUllfQkFDS09GRl9NQVhcbiAgICAgICk7XG4gICAgICByZXR1cm4gaW50ZXJ2YWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlc2V0IHRoZSBlcnJvciBiYWNrb2ZmXG4gICAgICB0aGlzLmVycm9yQmFja29mZiA9IER1cmF0aW9uLlJFVFJZX0JBQ0tPRkZfTUlOO1xuICAgICAgY29uc3QgZXhwVGltZSA9IHRoaXMudXNlci5zdHNUb2tlbk1hbmFnZXIuZXhwaXJhdGlvblRpbWUgPz8gMDtcbiAgICAgIGNvbnN0IGludGVydmFsID0gZXhwVGltZSAtIERhdGUubm93KCkgLSBEdXJhdGlvbi5PRkZTRVQ7XG5cbiAgICAgIHJldHVybiBNYXRoLm1heCgwLCBpbnRlcnZhbCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzY2hlZHVsZSh3YXNFcnJvciA9IGZhbHNlKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzUnVubmluZykge1xuICAgICAgLy8gSnVzdCBpbiBjYXNlLi4uXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSB0aGlzLmdldEludGVydmFsKHdhc0Vycm9yKTtcbiAgICB0aGlzLnRpbWVySWQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuaXRlcmF0aW9uKCk7XG4gICAgfSwgaW50ZXJ2YWwpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpdGVyYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMudXNlci5nZXRJZFRva2VuKHRydWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIE9ubHkgcmV0cnkgb24gbmV0d29yayBlcnJvcnNcbiAgICAgIGlmIChcbiAgICAgICAgKGUgYXMgRmlyZWJhc2VFcnJvcik/LmNvZGUgPT09XG4gICAgICAgIGBhdXRoLyR7QXV0aEVycm9yQ29kZS5ORVRXT1JLX1JFUVVFU1RfRkFJTEVEfWBcbiAgICAgICkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlKC8qIHdhc0Vycm9yICovIHRydWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXJNZXRhZGF0YSBhcyBVc2VyTWV0YWRhdGFUeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgdXRjVGltZXN0YW1wVG9EYXRlU3RyaW5nIH0gZnJvbSAnLi4vdXRpbC90aW1lJztcblxuZXhwb3J0IGNsYXNzIFVzZXJNZXRhZGF0YSBpbXBsZW1lbnRzIFVzZXJNZXRhZGF0YVR5cGUge1xuICBjcmVhdGlvblRpbWU/OiBzdHJpbmc7XG4gIGxhc3RTaWduSW5UaW1lPzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgY3JlYXRlZEF0Pzogc3RyaW5nIHwgbnVtYmVyLFxuICAgIHByaXZhdGUgbGFzdExvZ2luQXQ/OiBzdHJpbmcgfCBudW1iZXJcbiAgKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZVRpbWUoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2luaXRpYWxpemVUaW1lKCk6IHZvaWQge1xuICAgIHRoaXMubGFzdFNpZ25JblRpbWUgPSB1dGNUaW1lc3RhbXBUb0RhdGVTdHJpbmcodGhpcy5sYXN0TG9naW5BdCk7XG4gICAgdGhpcy5jcmVhdGlvblRpbWUgPSB1dGNUaW1lc3RhbXBUb0RhdGVTdHJpbmcodGhpcy5jcmVhdGVkQXQpO1xuICB9XG5cbiAgX2NvcHkobWV0YWRhdGE6IFVzZXJNZXRhZGF0YSk6IHZvaWQge1xuICAgIHRoaXMuY3JlYXRlZEF0ID0gbWV0YWRhdGEuY3JlYXRlZEF0O1xuICAgIHRoaXMubGFzdExvZ2luQXQgPSBtZXRhZGF0YS5sYXN0TG9naW5BdDtcbiAgICB0aGlzLl9pbml0aWFsaXplVGltZSgpO1xuICB9XG5cbiAgdG9KU09OKCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZWRBdDogdGhpcy5jcmVhdGVkQXQsXG4gICAgICBsYXN0TG9naW5BdDogdGhpcy5sYXN0TG9naW5BdFxuICAgIH07XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyLCBVc2VySW5mbyB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7XG4gIGdldEFjY291bnRJbmZvLFxuICBQcm92aWRlclVzZXJJbmZvXG59IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvYWNjb3VudCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9sb2dvdXRJZkludmFsaWRhdGVkIH0gZnJvbSAnLi9pbnZhbGlkYXRpb24nO1xuaW1wb3J0IHsgVXNlck1ldGFkYXRhIH0gZnJvbSAnLi91c2VyX21ldGFkYXRhJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9yZWxvYWRXaXRob3V0U2F2aW5nKHVzZXI6IFVzZXJJbnRlcm5hbCk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBhdXRoID0gdXNlci5hdXRoO1xuICBjb25zdCBpZFRva2VuID0gYXdhaXQgdXNlci5nZXRJZFRva2VuKCk7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX2xvZ291dElmSW52YWxpZGF0ZWQoXG4gICAgdXNlcixcbiAgICBnZXRBY2NvdW50SW5mbyhhdXRoLCB7IGlkVG9rZW4gfSlcbiAgKTtcblxuICBfYXNzZXJ0KHJlc3BvbnNlPy51c2Vycy5sZW5ndGgsIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuXG4gIGNvbnN0IGNvcmVBY2NvdW50ID0gcmVzcG9uc2UudXNlcnNbMF07XG5cbiAgdXNlci5fbm90aWZ5UmVsb2FkTGlzdGVuZXIoY29yZUFjY291bnQpO1xuXG4gIGNvbnN0IG5ld1Byb3ZpZGVyRGF0YSA9IGNvcmVBY2NvdW50LnByb3ZpZGVyVXNlckluZm8/Lmxlbmd0aFxuICAgID8gZXh0cmFjdFByb3ZpZGVyRGF0YShjb3JlQWNjb3VudC5wcm92aWRlclVzZXJJbmZvKVxuICAgIDogW107XG5cbiAgY29uc3QgcHJvdmlkZXJEYXRhID0gbWVyZ2VQcm92aWRlckRhdGEodXNlci5wcm92aWRlckRhdGEsIG5ld1Byb3ZpZGVyRGF0YSk7XG5cbiAgLy8gUHJlc2VydmVzIHRoZSBub24tbm9ueW1vdXMgc3RhdHVzIG9mIHRoZSBzdG9yZWQgdXNlciwgZXZlbiBpZiBubyBtb3JlXG4gIC8vIGNyZWRlbnRpYWxzIChmZWRlcmF0ZWQgb3IgZW1haWwvcGFzc3dvcmQpIGFyZSBsaW5rZWQgdG8gdGhlIHVzZXIuIElmXG4gIC8vIHRoZSB1c2VyIHdhcyBwcmV2aW91c2x5IGFub255bW91cywgdGhlbiB1c2UgcHJvdmlkZXIgZGF0YSB0byB1cGRhdGUuXG4gIC8vIE9uIHRoZSBvdGhlciBoYW5kLCBpZiBpdCB3YXMgbm90IGFub255bW91cyBiZWZvcmUsIGl0IHNob3VsZCBuZXZlciBiZVxuICAvLyBjb25zaWRlcmVkIGFub255bW91cyBub3cuXG4gIGNvbnN0IG9sZElzQW5vbnltb3VzID0gdXNlci5pc0Fub255bW91cztcbiAgY29uc3QgbmV3SXNBbm9ueW1vdXMgPVxuICAgICEodXNlci5lbWFpbCAmJiBjb3JlQWNjb3VudC5wYXNzd29yZEhhc2gpICYmICFwcm92aWRlckRhdGE/Lmxlbmd0aDtcbiAgY29uc3QgaXNBbm9ueW1vdXMgPSAhb2xkSXNBbm9ueW1vdXMgPyBmYWxzZSA6IG5ld0lzQW5vbnltb3VzO1xuXG4gIGNvbnN0IHVwZGF0ZXM6IFBhcnRpYWw8VXNlckludGVybmFsPiA9IHtcbiAgICB1aWQ6IGNvcmVBY2NvdW50LmxvY2FsSWQsXG4gICAgZGlzcGxheU5hbWU6IGNvcmVBY2NvdW50LmRpc3BsYXlOYW1lIHx8IG51bGwsXG4gICAgcGhvdG9VUkw6IGNvcmVBY2NvdW50LnBob3RvVXJsIHx8IG51bGwsXG4gICAgZW1haWw6IGNvcmVBY2NvdW50LmVtYWlsIHx8IG51bGwsXG4gICAgZW1haWxWZXJpZmllZDogY29yZUFjY291bnQuZW1haWxWZXJpZmllZCB8fCBmYWxzZSxcbiAgICBwaG9uZU51bWJlcjogY29yZUFjY291bnQucGhvbmVOdW1iZXIgfHwgbnVsbCxcbiAgICB0ZW5hbnRJZDogY29yZUFjY291bnQudGVuYW50SWQgfHwgbnVsbCxcbiAgICBwcm92aWRlckRhdGEsXG4gICAgbWV0YWRhdGE6IG5ldyBVc2VyTWV0YWRhdGEoY29yZUFjY291bnQuY3JlYXRlZEF0LCBjb3JlQWNjb3VudC5sYXN0TG9naW5BdCksXG4gICAgaXNBbm9ueW1vdXNcbiAgfTtcblxuICBPYmplY3QuYXNzaWduKHVzZXIsIHVwZGF0ZXMpO1xufVxuXG4vKipcbiAqIFJlbG9hZHMgdXNlciBhY2NvdW50IGRhdGEsIGlmIHNpZ25lZCBpbi5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbG9hZCh1c2VyOiBVc2VyKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbDogVXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgYXdhaXQgX3JlbG9hZFdpdGhvdXRTYXZpbmcodXNlckludGVybmFsKTtcblxuICAvLyBFdmVuIHRob3VnaCB0aGUgY3VycmVudCB1c2VyIGhhc24ndCBjaGFuZ2VkLCB1cGRhdGVcbiAgLy8gY3VycmVudCB1c2VyIHdpbGwgdHJpZ2dlciBhIHBlcnNpc3RlbmNlIHVwZGF0ZSB3LyB0aGVcbiAgLy8gbmV3IGluZm8uXG4gIGF3YWl0IHVzZXJJbnRlcm5hbC5hdXRoLl9wZXJzaXN0VXNlcklmQ3VycmVudCh1c2VySW50ZXJuYWwpO1xuICB1c2VySW50ZXJuYWwuYXV0aC5fbm90aWZ5TGlzdGVuZXJzSWZDdXJyZW50KHVzZXJJbnRlcm5hbCk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlUHJvdmlkZXJEYXRhKFxuICBvcmlnaW5hbDogVXNlckluZm9bXSxcbiAgbmV3RGF0YTogVXNlckluZm9bXVxuKTogVXNlckluZm9bXSB7XG4gIGNvbnN0IGRlZHVwZWQgPSBvcmlnaW5hbC5maWx0ZXIoXG4gICAgbyA9PiAhbmV3RGF0YS5zb21lKG4gPT4gbi5wcm92aWRlcklkID09PSBvLnByb3ZpZGVySWQpXG4gICk7XG4gIHJldHVybiBbLi4uZGVkdXBlZCwgLi4ubmV3RGF0YV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UHJvdmlkZXJEYXRhKHByb3ZpZGVyczogUHJvdmlkZXJVc2VySW5mb1tdKTogVXNlckluZm9bXSB7XG4gIHJldHVybiBwcm92aWRlcnMubWFwKCh7IHByb3ZpZGVySWQsIC4uLnByb3ZpZGVyIH0pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvdmlkZXJJZCxcbiAgICAgIHVpZDogcHJvdmlkZXIucmF3SWQgfHwgJycsXG4gICAgICBkaXNwbGF5TmFtZTogcHJvdmlkZXIuZGlzcGxheU5hbWUgfHwgbnVsbCxcbiAgICAgIGVtYWlsOiBwcm92aWRlci5lbWFpbCB8fCBudWxsLFxuICAgICAgcGhvbmVOdW1iZXI6IHByb3ZpZGVyLnBob25lTnVtYmVyIHx8IG51bGwsXG4gICAgICBwaG90b1VSTDogcHJvdmlkZXIucGhvdG9VcmwgfHwgbnVsbFxuICAgIH07XG4gIH0pO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuXG5pbXBvcnQgeyBxdWVyeXN0cmluZyB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHtcbiAgX2dldEZpbmFsVGFyZ2V0LFxuICBfcGVyZm9ybUZldGNoV2l0aEVycm9ySGFuZGxpbmcsXG4gIF9wZXJmb3JtQXBpUmVxdWVzdCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5LFxuICBIdHRwTWV0aG9kLFxuICBIdHRwSGVhZGVyLFxuICBFbmRwb2ludFxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBGZXRjaFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2ZldGNoX3Byb3ZpZGVyJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5cbmV4cG9ydCBjb25zdCBlbnVtIFRva2VuVHlwZSB7XG4gIFJFRlJFU0hfVE9LRU4gPSAnUkVGUkVTSF9UT0tFTicsXG4gIEFDQ0VTU19UT0tFTiA9ICdBQ0NFU1NfVE9LRU4nXG59XG5cbi8qKiBUaGUgc2VydmVyIHJlc3BvbnNlcyB3aXRoIHNuYWtlX2Nhc2U7IHdlIGNvbnZlcnQgdG8gY2FtZWxDYXNlICovXG5pbnRlcmZhY2UgUmVxdWVzdFN0c1Rva2VuU2VydmVyUmVzcG9uc2Uge1xuICBhY2Nlc3NfdG9rZW46IHN0cmluZztcbiAgZXhwaXJlc19pbjogc3RyaW5nO1xuICByZWZyZXNoX3Rva2VuOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdFN0c1Rva2VuUmVzcG9uc2Uge1xuICBhY2Nlc3NUb2tlbjogc3RyaW5nO1xuICBleHBpcmVzSW46IHN0cmluZztcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmV2b2tlVG9rZW5SZXF1ZXN0IHtcbiAgcHJvdmlkZXJJZDogc3RyaW5nO1xuICB0b2tlblR5cGU6IFRva2VuVHlwZTtcbiAgdG9rZW46IHN0cmluZztcbiAgaWRUb2tlbjogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXZva2VUb2tlblJlc3BvbnNlIHt9XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXF1ZXN0U3RzVG9rZW4oXG4gIGF1dGg6IEF1dGgsXG4gIHJlZnJlc2hUb2tlbjogc3RyaW5nXG4pOiBQcm9taXNlPFJlcXVlc3RTdHNUb2tlblJlc3BvbnNlPiB7XG4gIGNvbnN0IHJlc3BvbnNlID1cbiAgICBhd2FpdCBfcGVyZm9ybUZldGNoV2l0aEVycm9ySGFuZGxpbmc8UmVxdWVzdFN0c1Rva2VuU2VydmVyUmVzcG9uc2U+KFxuICAgICAgYXV0aCxcbiAgICAgIHt9LFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBib2R5ID0gcXVlcnlzdHJpbmcoe1xuICAgICAgICAgICdncmFudF90eXBlJzogJ3JlZnJlc2hfdG9rZW4nLFxuICAgICAgICAgICdyZWZyZXNoX3Rva2VuJzogcmVmcmVzaFRva2VuXG4gICAgICAgIH0pLnNsaWNlKDEpO1xuICAgICAgICBjb25zdCB7IHRva2VuQXBpSG9zdCwgYXBpS2V5IH0gPSBhdXRoLmNvbmZpZztcbiAgICAgICAgY29uc3QgdXJsID0gX2dldEZpbmFsVGFyZ2V0KFxuICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgdG9rZW5BcGlIb3N0LFxuICAgICAgICAgIEVuZHBvaW50LlRPS0VOLFxuICAgICAgICAgIGBrZXk9JHthcGlLZXl9YFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBhd2FpdCAoYXV0aCBhcyBBdXRoSW50ZXJuYWwpLl9nZXRBZGRpdGlvbmFsSGVhZGVycygpO1xuICAgICAgICBoZWFkZXJzW0h0dHBIZWFkZXIuQ09OVEVOVF9UWVBFXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnO1xuXG4gICAgICAgIHJldHVybiBGZXRjaFByb3ZpZGVyLmZldGNoKCkodXJsLCB7XG4gICAgICAgICAgbWV0aG9kOiBIdHRwTWV0aG9kLlBPU1QsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBib2R5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG5cbiAgLy8gVGhlIHJlc3BvbnNlIGNvbWVzIGJhY2sgaW4gc25ha2VfY2FzZS4gQ29udmVydCB0byBjYW1lbDpcbiAgcmV0dXJuIHtcbiAgICBhY2Nlc3NUb2tlbjogcmVzcG9uc2UuYWNjZXNzX3Rva2VuLFxuICAgIGV4cGlyZXNJbjogcmVzcG9uc2UuZXhwaXJlc19pbixcbiAgICByZWZyZXNoVG9rZW46IHJlc3BvbnNlLnJlZnJlc2hfdG9rZW5cbiAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldm9rZVRva2VuKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBSZXZva2VUb2tlblJlcXVlc3Rcbik6IFByb21pc2U8UmV2b2tlVG9rZW5SZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFJldm9rZVRva2VuUmVxdWVzdCwgUmV2b2tlVG9rZW5SZXNwb25zZT4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuUkVWT0tFX1RPS0VOLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpbmFsaXplTWZhUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IHJlcXVlc3RTdHNUb2tlbiB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi90b2tlbic7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgUGVyc2lzdGVkQmxvYiB9IGZyb20gJy4uL3BlcnNpc3RlbmNlJztcbmltcG9ydCB7IF9hc3NlcnQsIGRlYnVnRmFpbCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF90b2tlbkV4cGlyZXNJbiB9IGZyb20gJy4vaWRfdG9rZW5fcmVzdWx0JztcblxuLyoqXG4gKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZWZvcmUgdGhlIG9mZmljaWFsIGV4cGlyYXRpb24gdGltZSBvZiBhIHRva2VuXG4gKiB0byByZWZyZXNoIHRoYXQgdG9rZW4sIHRvIHByb3ZpZGUgYSBidWZmZXIgZm9yIFJQQ3MgdG8gY29tcGxldGUuXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIEJ1ZmZlciB7XG4gIFRPS0VOX1JFRlJFU0ggPSAzMF8wMDBcbn1cblxuLyoqXG4gKiBXZSBuZWVkIHRvIG1hcmsgdGhpcyBjbGFzcyBhcyBpbnRlcm5hbCBleHBsaWNpdGx5IHRvIGV4Y2x1ZGUgaXQgaW4gdGhlIHB1YmxpYyB0eXBpbmdzLCBiZWNhdXNlXG4gKiBpdCByZWZlcmVuY2VzIEF1dGhJbnRlcm5hbCB3aGljaCBoYXMgYSBjaXJjdWxhciBkZXBlbmRlbmN5IHdpdGggVXNlckludGVybmFsLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgU3RzVG9rZW5NYW5hZ2VyIHtcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgYWNjZXNzVG9rZW46IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBleHBpcmF0aW9uVGltZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgZ2V0IGlzRXhwaXJlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMuZXhwaXJhdGlvblRpbWUgfHxcbiAgICAgIERhdGUubm93KCkgPiB0aGlzLmV4cGlyYXRpb25UaW1lIC0gQnVmZmVyLlRPS0VOX1JFRlJFU0hcbiAgICApO1xuICB9XG5cbiAgdXBkYXRlRnJvbVNlcnZlclJlc3BvbnNlKFxuICAgIHJlc3BvbnNlOiBJZFRva2VuUmVzcG9uc2UgfCBGaW5hbGl6ZU1mYVJlc3BvbnNlXG4gICk6IHZvaWQge1xuICAgIF9hc3NlcnQocmVzcG9uc2UuaWRUb2tlbiwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgX2Fzc2VydChcbiAgICAgIHR5cGVvZiByZXNwb25zZS5pZFRva2VuICE9PSAndW5kZWZpbmVkJyxcbiAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICApO1xuICAgIF9hc3NlcnQoXG4gICAgICB0eXBlb2YgcmVzcG9uc2UucmVmcmVzaFRva2VuICE9PSAndW5kZWZpbmVkJyxcbiAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICApO1xuICAgIGNvbnN0IGV4cGlyZXNJbiA9XG4gICAgICAnZXhwaXJlc0luJyBpbiByZXNwb25zZSAmJiB0eXBlb2YgcmVzcG9uc2UuZXhwaXJlc0luICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IE51bWJlcihyZXNwb25zZS5leHBpcmVzSW4pXG4gICAgICAgIDogX3Rva2VuRXhwaXJlc0luKHJlc3BvbnNlLmlkVG9rZW4pO1xuICAgIHRoaXMudXBkYXRlVG9rZW5zQW5kRXhwaXJhdGlvbihcbiAgICAgIHJlc3BvbnNlLmlkVG9rZW4sXG4gICAgICByZXNwb25zZS5yZWZyZXNoVG9rZW4sXG4gICAgICBleHBpcmVzSW5cbiAgICApO1xuICB9XG5cbiAgdXBkYXRlRnJvbUlkVG9rZW4oaWRUb2tlbjogc3RyaW5nKTogdm9pZCB7XG4gICAgX2Fzc2VydChpZFRva2VuLmxlbmd0aCAhPT0gMCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgY29uc3QgZXhwaXJlc0luID0gX3Rva2VuRXhwaXJlc0luKGlkVG9rZW4pO1xuICAgIHRoaXMudXBkYXRlVG9rZW5zQW5kRXhwaXJhdGlvbihpZFRva2VuLCBudWxsLCBleHBpcmVzSW4pO1xuICB9XG5cbiAgYXN5bmMgZ2V0VG9rZW4oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGZvcmNlUmVmcmVzaCA9IGZhbHNlXG4gICk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIGlmICghZm9yY2VSZWZyZXNoICYmIHRoaXMuYWNjZXNzVG9rZW4gJiYgIXRoaXMuaXNFeHBpcmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbjtcbiAgICB9XG5cbiAgICBfYXNzZXJ0KHRoaXMucmVmcmVzaFRva2VuLCBhdXRoLCBBdXRoRXJyb3JDb2RlLlRPS0VOX0VYUElSRUQpO1xuXG4gICAgaWYgKHRoaXMucmVmcmVzaFRva2VuKSB7XG4gICAgICBhd2FpdCB0aGlzLnJlZnJlc2goYXV0aCwgdGhpcy5yZWZyZXNoVG9rZW4hKTtcbiAgICAgIHJldHVybiB0aGlzLmFjY2Vzc1Rva2VuO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY2xlYXJSZWZyZXNoVG9rZW4oKTogdm9pZCB7XG4gICAgdGhpcy5yZWZyZXNoVG9rZW4gPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZWZyZXNoKGF1dGg6IEF1dGhJbnRlcm5hbCwgb2xkVG9rZW46IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbiwgZXhwaXJlc0luIH0gPSBhd2FpdCByZXF1ZXN0U3RzVG9rZW4oXG4gICAgICBhdXRoLFxuICAgICAgb2xkVG9rZW5cbiAgICApO1xuICAgIHRoaXMudXBkYXRlVG9rZW5zQW5kRXhwaXJhdGlvbihcbiAgICAgIGFjY2Vzc1Rva2VuLFxuICAgICAgcmVmcmVzaFRva2VuLFxuICAgICAgTnVtYmVyKGV4cGlyZXNJbilcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVUb2tlbnNBbmRFeHBpcmF0aW9uKFxuICAgIGFjY2Vzc1Rva2VuOiBzdHJpbmcsXG4gICAgcmVmcmVzaFRva2VuOiBzdHJpbmcgfCBudWxsLFxuICAgIGV4cGlyZXNJblNlYzogbnVtYmVyXG4gICk6IHZvaWQge1xuICAgIHRoaXMucmVmcmVzaFRva2VuID0gcmVmcmVzaFRva2VuIHx8IG51bGw7XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuIHx8IG51bGw7XG4gICAgdGhpcy5leHBpcmF0aW9uVGltZSA9IERhdGUubm93KCkgKyBleHBpcmVzSW5TZWMgKiAxMDAwO1xuICB9XG5cbiAgc3RhdGljIGZyb21KU09OKGFwcE5hbWU6IHN0cmluZywgb2JqZWN0OiBQZXJzaXN0ZWRCbG9iKTogU3RzVG9rZW5NYW5hZ2VyIHtcbiAgICBjb25zdCB7IHJlZnJlc2hUb2tlbiwgYWNjZXNzVG9rZW4sIGV4cGlyYXRpb25UaW1lIH0gPSBvYmplY3Q7XG5cbiAgICBjb25zdCBtYW5hZ2VyID0gbmV3IFN0c1Rva2VuTWFuYWdlcigpO1xuICAgIGlmIChyZWZyZXNoVG9rZW4pIHtcbiAgICAgIF9hc3NlcnQodHlwZW9mIHJlZnJlc2hUb2tlbiA9PT0gJ3N0cmluZycsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IsIHtcbiAgICAgICAgYXBwTmFtZVxuICAgICAgfSk7XG4gICAgICBtYW5hZ2VyLnJlZnJlc2hUb2tlbiA9IHJlZnJlc2hUb2tlbjtcbiAgICB9XG4gICAgaWYgKGFjY2Vzc1Rva2VuKSB7XG4gICAgICBfYXNzZXJ0KHR5cGVvZiBhY2Nlc3NUb2tlbiA9PT0gJ3N0cmluZycsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IsIHtcbiAgICAgICAgYXBwTmFtZVxuICAgICAgfSk7XG4gICAgICBtYW5hZ2VyLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47XG4gICAgfVxuICAgIGlmIChleHBpcmF0aW9uVGltZSkge1xuICAgICAgX2Fzc2VydChcbiAgICAgICAgdHlwZW9mIGV4cGlyYXRpb25UaW1lID09PSAnbnVtYmVyJyxcbiAgICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUixcbiAgICAgICAge1xuICAgICAgICAgIGFwcE5hbWVcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIG1hbmFnZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICB9XG4gICAgcmV0dXJuIG1hbmFnZXI7XG4gIH1cblxuICB0b0pTT04oKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVmcmVzaFRva2VuOiB0aGlzLnJlZnJlc2hUb2tlbixcbiAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmFjY2Vzc1Rva2VuLFxuICAgICAgZXhwaXJhdGlvblRpbWU6IHRoaXMuZXhwaXJhdGlvblRpbWVcbiAgICB9O1xuICB9XG5cbiAgX2Fzc2lnbihzdHNUb2tlbk1hbmFnZXI6IFN0c1Rva2VuTWFuYWdlcik6IHZvaWQge1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBzdHNUb2tlbk1hbmFnZXIuYWNjZXNzVG9rZW47XG4gICAgdGhpcy5yZWZyZXNoVG9rZW4gPSBzdHNUb2tlbk1hbmFnZXIucmVmcmVzaFRva2VuO1xuICAgIHRoaXMuZXhwaXJhdGlvblRpbWUgPSBzdHNUb2tlbk1hbmFnZXIuZXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICBfY2xvbmUoKTogU3RzVG9rZW5NYW5hZ2VyIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgU3RzVG9rZW5NYW5hZ2VyKCksIHRoaXMudG9KU09OKCkpO1xuICB9XG5cbiAgX3BlcmZvcm1SZWZyZXNoKCk6IG5ldmVyIHtcbiAgICByZXR1cm4gZGVidWdGYWlsKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IElkVG9rZW5SZXN1bHQsIFVzZXJJbmZvIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IE5leHRGbiB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7XG4gIEFQSVVzZXJJbmZvLFxuICBHZXRBY2NvdW50SW5mb1Jlc3BvbnNlLFxuICBkZWxldGVBY2NvdW50XG59IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvYWNjb3VudCc7XG5pbXBvcnQgeyBGaW5hbGl6ZU1mYVJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7XG4gIE11dGFibGVVc2VySW5mbyxcbiAgVXNlckludGVybmFsLFxuICBVc2VyUGFyYW1ldGVyc1xufSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgUGVyc2lzdGVkQmxvYiB9IGZyb20gJy4uL3BlcnNpc3RlbmNlJztcbmltcG9ydCB7XG4gIF9hc3NlcnQsXG4gIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yXG59IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IGdldElkVG9rZW5SZXN1bHQgfSBmcm9tICcuL2lkX3Rva2VuX3Jlc3VsdCc7XG5pbXBvcnQgeyBfbG9nb3V0SWZJbnZhbGlkYXRlZCB9IGZyb20gJy4vaW52YWxpZGF0aW9uJztcbmltcG9ydCB7IFByb2FjdGl2ZVJlZnJlc2ggfSBmcm9tICcuL3Byb2FjdGl2ZV9yZWZyZXNoJztcbmltcG9ydCB7IGV4dHJhY3RQcm92aWRlckRhdGEsIF9yZWxvYWRXaXRob3V0U2F2aW5nLCByZWxvYWQgfSBmcm9tICcuL3JlbG9hZCc7XG5pbXBvcnQgeyBTdHNUb2tlbk1hbmFnZXIgfSBmcm9tICcuL3Rva2VuX21hbmFnZXInO1xuaW1wb3J0IHsgVXNlck1ldGFkYXRhIH0gZnJvbSAnLi91c2VyX21ldGFkYXRhJztcbmltcG9ydCB7IFByb3ZpZGVySWQgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG5mdW5jdGlvbiBhc3NlcnRTdHJpbmdPclVuZGVmaW5lZChcbiAgYXNzZXJ0aW9uOiB1bmtub3duLFxuICBhcHBOYW1lOiBzdHJpbmdcbik6IGFzc2VydHMgYXNzZXJ0aW9uIGlzIHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIF9hc3NlcnQoXG4gICAgdHlwZW9mIGFzc2VydGlvbiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGFzc2VydGlvbiA9PT0gJ3VuZGVmaW5lZCcsXG4gICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUixcbiAgICB7IGFwcE5hbWUgfVxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgVXNlckltcGwgaW1wbGVtZW50cyBVc2VySW50ZXJuYWwge1xuICAvLyBGb3IgdGhlIHVzZXIgb2JqZWN0LCBwcm92aWRlciBpcyBhbHdheXMgRmlyZWJhc2UuXG4gIHJlYWRvbmx5IHByb3ZpZGVySWQgPSBQcm92aWRlcklkLkZJUkVCQVNFO1xuICBzdHNUb2tlbk1hbmFnZXI6IFN0c1Rva2VuTWFuYWdlcjtcbiAgLy8gTGFzdCBrbm93biBhY2Nlc3NUb2tlbiBzbyB3ZSBrbm93IHdoZW4gaXQgY2hhbmdlc1xuICBwcml2YXRlIGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsO1xuXG4gIHVpZDogc3RyaW5nO1xuICBhdXRoOiBBdXRoSW50ZXJuYWw7XG4gIGVtYWlsVmVyaWZpZWQ6IGJvb2xlYW47XG4gIGlzQW5vbnltb3VzOiBib29sZWFuO1xuICB0ZW5hbnRJZDogc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgbWV0YWRhdGE6IFVzZXJNZXRhZGF0YTtcbiAgcHJvdmlkZXJEYXRhOiBNdXRhYmxlVXNlckluZm9bXTtcblxuICAvLyBPcHRpb25hbCBmaWVsZHMgZnJvbSBVc2VySW5mb1xuICBkaXNwbGF5TmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgZW1haWw6IHN0cmluZyB8IG51bGw7XG4gIHBob25lTnVtYmVyOiBzdHJpbmcgfCBudWxsO1xuICBwaG90b1VSTDogc3RyaW5nIHwgbnVsbDtcblxuICBfcmVkaXJlY3RFdmVudElkPzogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IHByb2FjdGl2ZVJlZnJlc2ggPSBuZXcgUHJvYWN0aXZlUmVmcmVzaCh0aGlzKTtcblxuICBjb25zdHJ1Y3Rvcih7IHVpZCwgYXV0aCwgc3RzVG9rZW5NYW5hZ2VyLCAuLi5vcHQgfTogVXNlclBhcmFtZXRlcnMpIHtcbiAgICB0aGlzLnVpZCA9IHVpZDtcbiAgICB0aGlzLmF1dGggPSBhdXRoO1xuICAgIHRoaXMuc3RzVG9rZW5NYW5hZ2VyID0gc3RzVG9rZW5NYW5hZ2VyO1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBzdHNUb2tlbk1hbmFnZXIuYWNjZXNzVG9rZW47XG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IG9wdC5kaXNwbGF5TmFtZSB8fCBudWxsO1xuICAgIHRoaXMuZW1haWwgPSBvcHQuZW1haWwgfHwgbnVsbDtcbiAgICB0aGlzLmVtYWlsVmVyaWZpZWQgPSBvcHQuZW1haWxWZXJpZmllZCB8fCBmYWxzZTtcbiAgICB0aGlzLnBob25lTnVtYmVyID0gb3B0LnBob25lTnVtYmVyIHx8IG51bGw7XG4gICAgdGhpcy5waG90b1VSTCA9IG9wdC5waG90b1VSTCB8fCBudWxsO1xuICAgIHRoaXMuaXNBbm9ueW1vdXMgPSBvcHQuaXNBbm9ueW1vdXMgfHwgZmFsc2U7XG4gICAgdGhpcy50ZW5hbnRJZCA9IG9wdC50ZW5hbnRJZCB8fCBudWxsO1xuICAgIHRoaXMucHJvdmlkZXJEYXRhID0gb3B0LnByb3ZpZGVyRGF0YSA/IFsuLi5vcHQucHJvdmlkZXJEYXRhXSA6IFtdO1xuICAgIHRoaXMubWV0YWRhdGEgPSBuZXcgVXNlck1ldGFkYXRhKFxuICAgICAgb3B0LmNyZWF0ZWRBdCB8fCB1bmRlZmluZWQsXG4gICAgICBvcHQubGFzdExvZ2luQXQgfHwgdW5kZWZpbmVkXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGdldElkVG9rZW4oZm9yY2VSZWZyZXNoPzogYm9vbGVhbik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSBhd2FpdCBfbG9nb3V0SWZJbnZhbGlkYXRlZChcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLnN0c1Rva2VuTWFuYWdlci5nZXRUb2tlbih0aGlzLmF1dGgsIGZvcmNlUmVmcmVzaClcbiAgICApO1xuICAgIF9hc3NlcnQoYWNjZXNzVG9rZW4sIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG5cbiAgICBpZiAodGhpcy5hY2Nlc3NUb2tlbiAhPT0gYWNjZXNzVG9rZW4pIHtcbiAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbjtcbiAgICAgIGF3YWl0IHRoaXMuYXV0aC5fcGVyc2lzdFVzZXJJZkN1cnJlbnQodGhpcyk7XG4gICAgICB0aGlzLmF1dGguX25vdGlmeUxpc3RlbmVyc0lmQ3VycmVudCh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjZXNzVG9rZW47XG4gIH1cblxuICBnZXRJZFRva2VuUmVzdWx0KGZvcmNlUmVmcmVzaD86IGJvb2xlYW4pOiBQcm9taXNlPElkVG9rZW5SZXN1bHQ+IHtcbiAgICByZXR1cm4gZ2V0SWRUb2tlblJlc3VsdCh0aGlzLCBmb3JjZVJlZnJlc2gpO1xuICB9XG5cbiAgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiByZWxvYWQodGhpcyk7XG4gIH1cblxuICBwcml2YXRlIHJlbG9hZFVzZXJJbmZvOiBBUElVc2VySW5mbyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlbG9hZExpc3RlbmVyOiBOZXh0Rm48QVBJVXNlckluZm8+IHwgbnVsbCA9IG51bGw7XG5cbiAgX2Fzc2lnbih1c2VyOiBVc2VySW50ZXJuYWwpOiB2b2lkIHtcbiAgICBpZiAodGhpcyA9PT0gdXNlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfYXNzZXJ0KHRoaXMudWlkID09PSB1c2VyLnVpZCwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gdXNlci5kaXNwbGF5TmFtZTtcbiAgICB0aGlzLnBob3RvVVJMID0gdXNlci5waG90b1VSTDtcbiAgICB0aGlzLmVtYWlsID0gdXNlci5lbWFpbDtcbiAgICB0aGlzLmVtYWlsVmVyaWZpZWQgPSB1c2VyLmVtYWlsVmVyaWZpZWQ7XG4gICAgdGhpcy5waG9uZU51bWJlciA9IHVzZXIucGhvbmVOdW1iZXI7XG4gICAgdGhpcy5pc0Fub255bW91cyA9IHVzZXIuaXNBbm9ueW1vdXM7XG4gICAgdGhpcy50ZW5hbnRJZCA9IHVzZXIudGVuYW50SWQ7XG4gICAgdGhpcy5wcm92aWRlckRhdGEgPSB1c2VyLnByb3ZpZGVyRGF0YS5tYXAodXNlckluZm8gPT4gKHsgLi4udXNlckluZm8gfSkpO1xuICAgIHRoaXMubWV0YWRhdGEuX2NvcHkodXNlci5tZXRhZGF0YSk7XG4gICAgdGhpcy5zdHNUb2tlbk1hbmFnZXIuX2Fzc2lnbih1c2VyLnN0c1Rva2VuTWFuYWdlcik7XG4gIH1cblxuICBfY2xvbmUoYXV0aDogQXV0aEludGVybmFsKTogVXNlckludGVybmFsIHtcbiAgICBjb25zdCBuZXdVc2VyID0gbmV3IFVzZXJJbXBsKHtcbiAgICAgIC4uLnRoaXMsXG4gICAgICBhdXRoLFxuICAgICAgc3RzVG9rZW5NYW5hZ2VyOiB0aGlzLnN0c1Rva2VuTWFuYWdlci5fY2xvbmUoKVxuICAgIH0pO1xuICAgIG5ld1VzZXIubWV0YWRhdGEuX2NvcHkodGhpcy5tZXRhZGF0YSk7XG4gICAgcmV0dXJuIG5ld1VzZXI7XG4gIH1cblxuICBfb25SZWxvYWQoY2FsbGJhY2s6IE5leHRGbjxBUElVc2VySW5mbz4pOiB2b2lkIHtcbiAgICAvLyBUaGVyZSBzaG91bGQgb25seSBldmVyIGJlIG9uZSBsaXN0ZW5lciwgYW5kIHRoYXQgaXMgYSBzaW5nbGUgaW5zdGFuY2Ugb2YgTXVsdGlGYWN0b3JVc2VyXG4gICAgX2Fzc2VydCghdGhpcy5yZWxvYWRMaXN0ZW5lciwgdGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICB0aGlzLnJlbG9hZExpc3RlbmVyID0gY2FsbGJhY2s7XG4gICAgaWYgKHRoaXMucmVsb2FkVXNlckluZm8pIHtcbiAgICAgIHRoaXMuX25vdGlmeVJlbG9hZExpc3RlbmVyKHRoaXMucmVsb2FkVXNlckluZm8pO1xuICAgICAgdGhpcy5yZWxvYWRVc2VySW5mbyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgX25vdGlmeVJlbG9hZExpc3RlbmVyKHVzZXJJbmZvOiBBUElVc2VySW5mbyk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlbG9hZExpc3RlbmVyKSB7XG4gICAgICB0aGlzLnJlbG9hZExpc3RlbmVyKHVzZXJJbmZvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgbm8gbGlzdGVuZXIgaXMgc3Vic2NyaWJlZCB5ZXQsIHNhdmUgdGhlIHJlc3VsdCBzbyBpdCdzIGF2YWlsYWJsZSB3aGVuIHRoZXkgZG8gc3Vic2NyaWJlXG4gICAgICB0aGlzLnJlbG9hZFVzZXJJbmZvID0gdXNlckluZm87XG4gICAgfVxuICB9XG5cbiAgX3N0YXJ0UHJvYWN0aXZlUmVmcmVzaCgpOiB2b2lkIHtcbiAgICB0aGlzLnByb2FjdGl2ZVJlZnJlc2guX3N0YXJ0KCk7XG4gIH1cblxuICBfc3RvcFByb2FjdGl2ZVJlZnJlc2goKTogdm9pZCB7XG4gICAgdGhpcy5wcm9hY3RpdmVSZWZyZXNoLl9zdG9wKCk7XG4gIH1cblxuICBhc3luYyBfdXBkYXRlVG9rZW5zSWZOZWNlc3NhcnkoXG4gICAgcmVzcG9uc2U6IElkVG9rZW5SZXNwb25zZSB8IEZpbmFsaXplTWZhUmVzcG9uc2UsXG4gICAgcmVsb2FkID0gZmFsc2VcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgbGV0IHRva2Vuc1JlZnJlc2hlZCA9IGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHJlc3BvbnNlLmlkVG9rZW4gJiZcbiAgICAgIHJlc3BvbnNlLmlkVG9rZW4gIT09IHRoaXMuc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VuXG4gICAgKSB7XG4gICAgICB0aGlzLnN0c1Rva2VuTWFuYWdlci51cGRhdGVGcm9tU2VydmVyUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgdG9rZW5zUmVmcmVzaGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAocmVsb2FkKSB7XG4gICAgICBhd2FpdCBfcmVsb2FkV2l0aG91dFNhdmluZyh0aGlzKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmF1dGguX3BlcnNpc3RVc2VySWZDdXJyZW50KHRoaXMpO1xuICAgIGlmICh0b2tlbnNSZWZyZXNoZWQpIHtcbiAgICAgIHRoaXMuYXV0aC5fbm90aWZ5TGlzdGVuZXJzSWZDdXJyZW50KHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodGhpcy5hdXRoLmFwcCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IodGhpcy5hdXRoKVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IHRoaXMuZ2V0SWRUb2tlbigpO1xuICAgIGF3YWl0IF9sb2dvdXRJZkludmFsaWRhdGVkKHRoaXMsIGRlbGV0ZUFjY291bnQodGhpcy5hdXRoLCB7IGlkVG9rZW4gfSkpO1xuICAgIHRoaXMuc3RzVG9rZW5NYW5hZ2VyLmNsZWFyUmVmcmVzaFRva2VuKCk7XG5cbiAgICAvLyBUT0RPOiBEZXRlcm1pbmUgaWYgY2FuY2VsbGFibGUtcHJvbWlzZXMgYXJlIG5lY2Vzc2FyeSB0byB1c2UgaW4gdGhpcyBjbGFzcyBzbyB0aGF0IGRlbGV0ZSgpXG4gICAgLy8gICAgICAgY2FuY2VscyBwZW5kaW5nIGFjdGlvbnMuLi5cblxuICAgIHJldHVybiB0aGlzLmF1dGguc2lnbk91dCgpO1xuICB9XG5cbiAgdG9KU09OKCk6IFBlcnNpc3RlZEJsb2Ige1xuICAgIHJldHVybiB7XG4gICAgICB1aWQ6IHRoaXMudWlkLFxuICAgICAgZW1haWw6IHRoaXMuZW1haWwgfHwgdW5kZWZpbmVkLFxuICAgICAgZW1haWxWZXJpZmllZDogdGhpcy5lbWFpbFZlcmlmaWVkLFxuICAgICAgZGlzcGxheU5hbWU6IHRoaXMuZGlzcGxheU5hbWUgfHwgdW5kZWZpbmVkLFxuICAgICAgaXNBbm9ueW1vdXM6IHRoaXMuaXNBbm9ueW1vdXMsXG4gICAgICBwaG90b1VSTDogdGhpcy5waG90b1VSTCB8fCB1bmRlZmluZWQsXG4gICAgICBwaG9uZU51bWJlcjogdGhpcy5waG9uZU51bWJlciB8fCB1bmRlZmluZWQsXG4gICAgICB0ZW5hbnRJZDogdGhpcy50ZW5hbnRJZCB8fCB1bmRlZmluZWQsXG4gICAgICBwcm92aWRlckRhdGE6IHRoaXMucHJvdmlkZXJEYXRhLm1hcCh1c2VySW5mbyA9PiAoeyAuLi51c2VySW5mbyB9KSksXG4gICAgICBzdHNUb2tlbk1hbmFnZXI6IHRoaXMuc3RzVG9rZW5NYW5hZ2VyLnRvSlNPTigpLFxuICAgICAgLy8gUmVkaXJlY3QgZXZlbnQgSUQgbXVzdCBiZSBtYWludGFpbmVkIGluIGNhc2UgdGhlcmUgaXMgYSBwZW5kaW5nXG4gICAgICAvLyByZWRpcmVjdCBldmVudC5cbiAgICAgIF9yZWRpcmVjdEV2ZW50SWQ6IHRoaXMuX3JlZGlyZWN0RXZlbnRJZCxcbiAgICAgIC4uLnRoaXMubWV0YWRhdGEudG9KU09OKCksXG5cbiAgICAgIC8vIFJlcXVpcmVkIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdGhlIGxlZ2FjeSBTREsgKGdvL2ZpcmViYXNlLWF1dGgtc2RrLXBlcnNpc3RlbmNlLXBhcnNpbmcpOlxuICAgICAgYXBpS2V5OiB0aGlzLmF1dGguY29uZmlnLmFwaUtleSxcbiAgICAgIGFwcE5hbWU6IHRoaXMuYXV0aC5uYW1lXG4gICAgICAvLyBNaXNzaW5nIGF1dGhEb21haW4gd2lsbCBiZSB0b2xlcmF0ZWQgYnkgdGhlIGxlZ2FjeSBTREsuXG4gICAgICAvLyBzdHNUb2tlbk1hbmFnZXIuYXBpS2V5IGlzbid0IGFjdHVhbGx5IHJlcXVpcmVkIChkZXNwaXRlIHRoZSBsZWdhY3kgU0RLIHBlcnNpc3RpbmcgaXQpLlxuICAgIH07XG4gIH1cblxuICBnZXQgcmVmcmVzaFRva2VuKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuc3RzVG9rZW5NYW5hZ2VyLnJlZnJlc2hUb2tlbiB8fCAnJztcbiAgfVxuXG4gIHN0YXRpYyBfZnJvbUpTT04oYXV0aDogQXV0aEludGVybmFsLCBvYmplY3Q6IFBlcnNpc3RlZEJsb2IpOiBVc2VySW50ZXJuYWwge1xuICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gb2JqZWN0LmRpc3BsYXlOYW1lID8/IHVuZGVmaW5lZDtcbiAgICBjb25zdCBlbWFpbCA9IG9iamVjdC5lbWFpbCA/PyB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGhvbmVOdW1iZXIgPSBvYmplY3QucGhvbmVOdW1iZXIgPz8gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHBob3RvVVJMID0gb2JqZWN0LnBob3RvVVJMID8/IHVuZGVmaW5lZDtcbiAgICBjb25zdCB0ZW5hbnRJZCA9IG9iamVjdC50ZW5hbnRJZCA/PyB1bmRlZmluZWQ7XG4gICAgY29uc3QgX3JlZGlyZWN0RXZlbnRJZCA9IG9iamVjdC5fcmVkaXJlY3RFdmVudElkID8/IHVuZGVmaW5lZDtcbiAgICBjb25zdCBjcmVhdGVkQXQgPSBvYmplY3QuY3JlYXRlZEF0ID8/IHVuZGVmaW5lZDtcbiAgICBjb25zdCBsYXN0TG9naW5BdCA9IG9iamVjdC5sYXN0TG9naW5BdCA/PyB1bmRlZmluZWQ7XG4gICAgY29uc3Qge1xuICAgICAgdWlkLFxuICAgICAgZW1haWxWZXJpZmllZCxcbiAgICAgIGlzQW5vbnltb3VzLFxuICAgICAgcHJvdmlkZXJEYXRhLFxuICAgICAgc3RzVG9rZW5NYW5hZ2VyOiBwbGFpbk9iamVjdFRva2VuTWFuYWdlclxuICAgIH0gPSBvYmplY3Q7XG5cbiAgICBfYXNzZXJ0KHVpZCAmJiBwbGFpbk9iamVjdFRva2VuTWFuYWdlciwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG5cbiAgICBjb25zdCBzdHNUb2tlbk1hbmFnZXIgPSBTdHNUb2tlbk1hbmFnZXIuZnJvbUpTT04oXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICBwbGFpbk9iamVjdFRva2VuTWFuYWdlciBhcyBQZXJzaXN0ZWRCbG9iXG4gICAgKTtcblxuICAgIF9hc3NlcnQodHlwZW9mIHVpZCA9PT0gJ3N0cmluZycsIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIGFzc2VydFN0cmluZ09yVW5kZWZpbmVkKGRpc3BsYXlOYW1lLCBhdXRoLm5hbWUpO1xuICAgIGFzc2VydFN0cmluZ09yVW5kZWZpbmVkKGVtYWlsLCBhdXRoLm5hbWUpO1xuICAgIF9hc3NlcnQoXG4gICAgICB0eXBlb2YgZW1haWxWZXJpZmllZCA9PT0gJ2Jvb2xlYW4nLFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICApO1xuICAgIF9hc3NlcnQoXG4gICAgICB0eXBlb2YgaXNBbm9ueW1vdXMgPT09ICdib29sZWFuJyxcbiAgICAgIGF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgKTtcbiAgICBhc3NlcnRTdHJpbmdPclVuZGVmaW5lZChwaG9uZU51bWJlciwgYXV0aC5uYW1lKTtcbiAgICBhc3NlcnRTdHJpbmdPclVuZGVmaW5lZChwaG90b1VSTCwgYXV0aC5uYW1lKTtcbiAgICBhc3NlcnRTdHJpbmdPclVuZGVmaW5lZCh0ZW5hbnRJZCwgYXV0aC5uYW1lKTtcbiAgICBhc3NlcnRTdHJpbmdPclVuZGVmaW5lZChfcmVkaXJlY3RFdmVudElkLCBhdXRoLm5hbWUpO1xuICAgIGFzc2VydFN0cmluZ09yVW5kZWZpbmVkKGNyZWF0ZWRBdCwgYXV0aC5uYW1lKTtcbiAgICBhc3NlcnRTdHJpbmdPclVuZGVmaW5lZChsYXN0TG9naW5BdCwgYXV0aC5uYW1lKTtcbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXJJbXBsKHtcbiAgICAgIHVpZCxcbiAgICAgIGF1dGgsXG4gICAgICBlbWFpbCxcbiAgICAgIGVtYWlsVmVyaWZpZWQsXG4gICAgICBkaXNwbGF5TmFtZSxcbiAgICAgIGlzQW5vbnltb3VzLFxuICAgICAgcGhvdG9VUkwsXG4gICAgICBwaG9uZU51bWJlcixcbiAgICAgIHRlbmFudElkLFxuICAgICAgc3RzVG9rZW5NYW5hZ2VyLFxuICAgICAgY3JlYXRlZEF0LFxuICAgICAgbGFzdExvZ2luQXRcbiAgICB9KTtcblxuICAgIGlmIChwcm92aWRlckRhdGEgJiYgQXJyYXkuaXNBcnJheShwcm92aWRlckRhdGEpKSB7XG4gICAgICB1c2VyLnByb3ZpZGVyRGF0YSA9IHByb3ZpZGVyRGF0YS5tYXAodXNlckluZm8gPT4gKHsgLi4udXNlckluZm8gfSkpO1xuICAgIH1cblxuICAgIGlmIChfcmVkaXJlY3RFdmVudElkKSB7XG4gICAgICB1c2VyLl9yZWRpcmVjdEV2ZW50SWQgPSBfcmVkaXJlY3RFdmVudElkO1xuICAgIH1cblxuICAgIHJldHVybiB1c2VyO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBVc2VyIGZyb20gYW4gaWRUb2tlbiBzZXJ2ZXIgcmVzcG9uc2VcbiAgICogQHBhcmFtIGF1dGhcbiAgICogQHBhcmFtIGlkVG9rZW5SZXNwb25zZVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIF9mcm9tSWRUb2tlblJlc3BvbnNlKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBpZFRva2VuUmVzcG9uc2U6IElkVG9rZW5SZXNwb25zZSxcbiAgICBpc0Fub255bW91czogYm9vbGVhbiA9IGZhbHNlXG4gICk6IFByb21pc2U8VXNlckludGVybmFsPiB7XG4gICAgY29uc3Qgc3RzVG9rZW5NYW5hZ2VyID0gbmV3IFN0c1Rva2VuTWFuYWdlcigpO1xuICAgIHN0c1Rva2VuTWFuYWdlci51cGRhdGVGcm9tU2VydmVyUmVzcG9uc2UoaWRUb2tlblJlc3BvbnNlKTtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIEZpcmViYXNlIEF1dGggdXNlci5cbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXJJbXBsKHtcbiAgICAgIHVpZDogaWRUb2tlblJlc3BvbnNlLmxvY2FsSWQsXG4gICAgICBhdXRoLFxuICAgICAgc3RzVG9rZW5NYW5hZ2VyLFxuICAgICAgaXNBbm9ueW1vdXNcbiAgICB9KTtcblxuICAgIC8vIFVwZGF0ZXMgdGhlIHVzZXIgaW5mbyBhbmQgZGF0YSBhbmQgcmVzb2x2ZXMgd2l0aCBhIHVzZXIgaW5zdGFuY2UuXG4gICAgYXdhaXQgX3JlbG9hZFdpdGhvdXRTYXZpbmcodXNlcik7XG4gICAgcmV0dXJuIHVzZXI7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIFVzZXIgZnJvbSBhbiBpZFRva2VuIHNlcnZlciByZXNwb25zZVxuICAgKiBAcGFyYW0gYXV0aFxuICAgKiBAcGFyYW0gaWRUb2tlblJlc3BvbnNlXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgX2Zyb21HZXRBY2NvdW50SW5mb1Jlc3BvbnNlKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICByZXNwb25zZTogR2V0QWNjb3VudEluZm9SZXNwb25zZSxcbiAgICBpZFRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxVc2VySW50ZXJuYWw+IHtcbiAgICBjb25zdCBjb3JlQWNjb3VudCA9IHJlc3BvbnNlLnVzZXJzWzBdO1xuICAgIF9hc3NlcnQoY29yZUFjY291bnQubG9jYWxJZCAhPT0gdW5kZWZpbmVkLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcblxuICAgIGNvbnN0IHByb3ZpZGVyRGF0YTogVXNlckluZm9bXSA9XG4gICAgICBjb3JlQWNjb3VudC5wcm92aWRlclVzZXJJbmZvICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBleHRyYWN0UHJvdmlkZXJEYXRhKGNvcmVBY2NvdW50LnByb3ZpZGVyVXNlckluZm8pXG4gICAgICAgIDogW107XG5cbiAgICBjb25zdCBpc0Fub255bW91cyA9XG4gICAgICAhKGNvcmVBY2NvdW50LmVtYWlsICYmIGNvcmVBY2NvdW50LnBhc3N3b3JkSGFzaCkgJiYgIXByb3ZpZGVyRGF0YT8ubGVuZ3RoO1xuXG4gICAgY29uc3Qgc3RzVG9rZW5NYW5hZ2VyID0gbmV3IFN0c1Rva2VuTWFuYWdlcigpO1xuICAgIHN0c1Rva2VuTWFuYWdlci51cGRhdGVGcm9tSWRUb2tlbihpZFRva2VuKTtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIEZpcmViYXNlIEF1dGggdXNlci5cbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXJJbXBsKHtcbiAgICAgIHVpZDogY29yZUFjY291bnQubG9jYWxJZCxcbiAgICAgIGF1dGgsXG4gICAgICBzdHNUb2tlbk1hbmFnZXIsXG4gICAgICBpc0Fub255bW91c1xuICAgIH0pO1xuXG4gICAgLy8gdXBkYXRlIHRoZSB1c2VyIHdpdGggZGF0YSBmcm9tIHRoZSBHZXRBY2NvdW50SW5mbyByZXNwb25zZS5cbiAgICBjb25zdCB1cGRhdGVzOiBQYXJ0aWFsPFVzZXJJbnRlcm5hbD4gPSB7XG4gICAgICB1aWQ6IGNvcmVBY2NvdW50LmxvY2FsSWQsXG4gICAgICBkaXNwbGF5TmFtZTogY29yZUFjY291bnQuZGlzcGxheU5hbWUgfHwgbnVsbCxcbiAgICAgIHBob3RvVVJMOiBjb3JlQWNjb3VudC5waG90b1VybCB8fCBudWxsLFxuICAgICAgZW1haWw6IGNvcmVBY2NvdW50LmVtYWlsIHx8IG51bGwsXG4gICAgICBlbWFpbFZlcmlmaWVkOiBjb3JlQWNjb3VudC5lbWFpbFZlcmlmaWVkIHx8IGZhbHNlLFxuICAgICAgcGhvbmVOdW1iZXI6IGNvcmVBY2NvdW50LnBob25lTnVtYmVyIHx8IG51bGwsXG4gICAgICB0ZW5hbnRJZDogY29yZUFjY291bnQudGVuYW50SWQgfHwgbnVsbCxcbiAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgIG1ldGFkYXRhOiBuZXcgVXNlck1ldGFkYXRhKFxuICAgICAgICBjb3JlQWNjb3VudC5jcmVhdGVkQXQsXG4gICAgICAgIGNvcmVBY2NvdW50Lmxhc3RMb2dpbkF0XG4gICAgICApLFxuICAgICAgaXNBbm9ueW1vdXM6XG4gICAgICAgICEoY29yZUFjY291bnQuZW1haWwgJiYgY29yZUFjY291bnQucGFzc3dvcmRIYXNoKSAmJlxuICAgICAgICAhcHJvdmlkZXJEYXRhPy5sZW5ndGhcbiAgICB9O1xuXG4gICAgT2JqZWN0LmFzc2lnbih1c2VyLCB1cGRhdGVzKTtcbiAgICByZXR1cm4gdXNlcjtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IGRlYnVnQXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnQnO1xuXG4vKipcbiAqIE91ciBBUEkgaGFzIGEgbG90IG9mIG9uZS1vZmYgY29uc3RhbnRzIHRoYXQgYXJlIHVzZWQgdG8gZG8gdGhpbmdzLlxuICogVW5mb3J0dW5hdGVseSB3ZSBjYW4ndCBleHBvcnQgdGhlc2UgYXMgY2xhc3NlcyBpbnN0YW50aWF0ZWQgZGlyZWN0bHkgc2luY2VcbiAqIHRoZSBjb25zdHJ1Y3RvciBtYXkgc2lkZSBlZmZlY3QgYW5kIHRoZXJlZm9yZSBjYW4ndCBiZSBwcm92ZW4gdG8gYmUgc2FmZWx5XG4gKiBjdWxsZWQuIEluc3RlYWQsIHdlIGV4cG9ydCB0aGVzZSBjbGFzc2VzIHRoZW1zZWx2ZXMgYXMgYSBsb3dlckNhbWVsQ2FzZVxuICogY29uc3RhbnQsIGFuZCBpbnN0YW50aWF0ZSB0aGVtIHVuZGVyIHRoZSBob29kLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNpbmdsZXRvbkluc3RhbnRpYXRvcjxUPiB7XG4gIG5ldyAoKTogVDtcbn1cblxuY29uc3QgaW5zdGFuY2VDYWNoZTogTWFwPHVua25vd24sIHVua25vd24+ID0gbmV3IE1hcCgpO1xuXG5leHBvcnQgZnVuY3Rpb24gX2dldEluc3RhbmNlPFQ+KGNsczogdW5rbm93bik6IFQge1xuICBkZWJ1Z0Fzc2VydChjbHMgaW5zdGFuY2VvZiBGdW5jdGlvbiwgJ0V4cGVjdGVkIGEgY2xhc3MgZGVmaW5pdGlvbicpO1xuICBsZXQgaW5zdGFuY2UgPSBpbnN0YW5jZUNhY2hlLmdldChjbHMpIGFzIFQgfCB1bmRlZmluZWQ7XG5cbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgZGVidWdBc3NlcnQoXG4gICAgICBpbnN0YW5jZSBpbnN0YW5jZW9mIGNscyxcbiAgICAgICdJbnN0YW5jZSBzdG9yZWQgaW4gY2FjaGUgbWlzbWF0Y2hlZCB3aXRoIGNsYXNzJ1xuICAgICk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgaW5zdGFuY2UgPSBuZXcgKGNscyBhcyBTaW5nbGV0b25JbnN0YW50aWF0b3I8VD4pKCk7XG4gIGluc3RhbmNlQ2FjaGUuc2V0KGNscywgaW5zdGFuY2UpO1xuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfY2xlYXJJbnN0YW5jZU1hcCgpOiB2b2lkIHtcbiAgaW5zdGFuY2VDYWNoZS5jbGVhcigpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFBlcnNpc3RlbmNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHtcbiAgUGVyc2lzdGVuY2VJbnRlcm5hbCxcbiAgUGVyc2lzdGVuY2VUeXBlLFxuICBQZXJzaXN0ZW5jZVZhbHVlLFxuICBTdG9yYWdlRXZlbnRMaXN0ZW5lclxufSBmcm9tICcuLi9wZXJzaXN0ZW5jZSc7XG5cbmV4cG9ydCBjbGFzcyBJbk1lbW9yeVBlcnNpc3RlbmNlIGltcGxlbWVudHMgUGVyc2lzdGVuY2VJbnRlcm5hbCB7XG4gIHN0YXRpYyB0eXBlOiAnTk9ORScgPSAnTk9ORSc7XG4gIHJlYWRvbmx5IHR5cGUgPSBQZXJzaXN0ZW5jZVR5cGUuTk9ORTtcbiAgc3RvcmFnZTogUmVjb3JkPHN0cmluZywgUGVyc2lzdGVuY2VWYWx1ZT4gPSB7fTtcblxuICBhc3luYyBfaXNBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBhc3luYyBfc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogUGVyc2lzdGVuY2VWYWx1ZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuc3RvcmFnZVtrZXldID0gdmFsdWU7XG4gIH1cblxuICBhc3luYyBfZ2V0PFQgZXh0ZW5kcyBQZXJzaXN0ZW5jZVZhbHVlPihrZXk6IHN0cmluZyk6IFByb21pc2U8VCB8IG51bGw+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc3RvcmFnZVtrZXldO1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6ICh2YWx1ZSBhcyBUKTtcbiAgfVxuXG4gIGFzeW5jIF9yZW1vdmUoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBkZWxldGUgdGhpcy5zdG9yYWdlW2tleV07XG4gIH1cblxuICBfYWRkTGlzdGVuZXIoX2tleTogc3RyaW5nLCBfbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgLy8gTGlzdGVuZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBpbi1tZW1vcnkgc3RvcmFnZSBzaW5jZSBpdCBjYW5ub3QgYmUgc2hhcmVkIGFjcm9zcyB3aW5kb3dzL3dvcmtlcnNcbiAgICByZXR1cm47XG4gIH1cblxuICBfcmVtb3ZlTGlzdGVuZXIoX2tleTogc3RyaW5nLCBfbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgLy8gTGlzdGVuZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBpbi1tZW1vcnkgc3RvcmFnZSBzaW5jZSBpdCBjYW5ub3QgYmUgc2hhcmVkIGFjcm9zcyB3aW5kb3dzL3dvcmtlcnNcbiAgICByZXR1cm47XG4gIH1cbn1cblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgUGVyc2lzdGVuY2V9IG9mIHR5cGUgJ05PTkUnLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGluTWVtb3J5UGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlID0gSW5NZW1vcnlQZXJzaXN0ZW5jZTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBcGlLZXksIEFwcE5hbWUsIEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBQZXJzaXN0ZWRCbG9iLCBQZXJzaXN0ZW5jZUludGVybmFsIH0gZnJvbSAnLi4vcGVyc2lzdGVuY2UnO1xuaW1wb3J0IHsgVXNlckltcGwgfSBmcm9tICcuLi91c2VyL3VzZXJfaW1wbCc7XG5pbXBvcnQgeyBfZ2V0SW5zdGFuY2UgfSBmcm9tICcuLi91dGlsL2luc3RhbnRpYXRvcic7XG5pbXBvcnQgeyBpbk1lbW9yeVBlcnNpc3RlbmNlIH0gZnJvbSAnLi9pbl9tZW1vcnknO1xuXG5leHBvcnQgY29uc3QgZW51bSBLZXlOYW1lIHtcbiAgQVVUSF9VU0VSID0gJ2F1dGhVc2VyJyxcbiAgQVVUSF9FVkVOVCA9ICdhdXRoRXZlbnQnLFxuICBSRURJUkVDVF9VU0VSID0gJ3JlZGlyZWN0VXNlcicsXG4gIFBFUlNJU1RFTkNFX1VTRVIgPSAncGVyc2lzdGVuY2UnXG59XG5leHBvcnQgY29uc3QgZW51bSBOYW1lc3BhY2Uge1xuICBQRVJTSVNURU5DRSA9ICdmaXJlYmFzZSdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9wZXJzaXN0ZW5jZUtleU5hbWUoXG4gIGtleTogc3RyaW5nLFxuICBhcGlLZXk6IEFwaUtleSxcbiAgYXBwTmFtZTogQXBwTmFtZVxuKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke05hbWVzcGFjZS5QRVJTSVNURU5DRX06JHtrZXl9OiR7YXBpS2V5fToke2FwcE5hbWV9YDtcbn1cblxuZXhwb3J0IGNsYXNzIFBlcnNpc3RlbmNlVXNlck1hbmFnZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGZ1bGxVc2VyS2V5OiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgZnVsbFBlcnNpc3RlbmNlS2V5OiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgYm91bmRFdmVudEhhbmRsZXI6ICgpID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlSW50ZXJuYWwsXG4gICAgcHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgcHJpdmF0ZSByZWFkb25seSB1c2VyS2V5OiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3QgeyBjb25maWcsIG5hbWUgfSA9IHRoaXMuYXV0aDtcbiAgICB0aGlzLmZ1bGxVc2VyS2V5ID0gX3BlcnNpc3RlbmNlS2V5TmFtZSh0aGlzLnVzZXJLZXksIGNvbmZpZy5hcGlLZXksIG5hbWUpO1xuICAgIHRoaXMuZnVsbFBlcnNpc3RlbmNlS2V5ID0gX3BlcnNpc3RlbmNlS2V5TmFtZShcbiAgICAgIEtleU5hbWUuUEVSU0lTVEVOQ0VfVVNFUixcbiAgICAgIGNvbmZpZy5hcGlLZXksXG4gICAgICBuYW1lXG4gICAgKTtcbiAgICB0aGlzLmJvdW5kRXZlbnRIYW5kbGVyID0gYXV0aC5fb25TdG9yYWdlRXZlbnQuYmluZChhdXRoKTtcbiAgICB0aGlzLnBlcnNpc3RlbmNlLl9hZGRMaXN0ZW5lcih0aGlzLmZ1bGxVc2VyS2V5LCB0aGlzLmJvdW5kRXZlbnRIYW5kbGVyKTtcbiAgfVxuXG4gIHNldEN1cnJlbnRVc2VyKHVzZXI6IFVzZXJJbnRlcm5hbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLl9zZXQodGhpcy5mdWxsVXNlcktleSwgdXNlci50b0pTT04oKSk7XG4gIH1cblxuICBhc3luYyBnZXRDdXJyZW50VXNlcigpOiBQcm9taXNlPFVzZXJJbnRlcm5hbCB8IG51bGw+IHtcbiAgICBjb25zdCBibG9iID0gYXdhaXQgdGhpcy5wZXJzaXN0ZW5jZS5fZ2V0PFBlcnNpc3RlZEJsb2I+KHRoaXMuZnVsbFVzZXJLZXkpO1xuICAgIHJldHVybiBibG9iID8gVXNlckltcGwuX2Zyb21KU09OKHRoaXMuYXV0aCwgYmxvYikgOiBudWxsO1xuICB9XG5cbiAgcmVtb3ZlQ3VycmVudFVzZXIoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuX3JlbW92ZSh0aGlzLmZ1bGxVc2VyS2V5KTtcbiAgfVxuXG4gIHNhdmVQZXJzaXN0ZW5jZUZvclJlZGlyZWN0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLl9zZXQoXG4gICAgICB0aGlzLmZ1bGxQZXJzaXN0ZW5jZUtleSxcbiAgICAgIHRoaXMucGVyc2lzdGVuY2UudHlwZVxuICAgICk7XG4gIH1cblxuICBhc3luYyBzZXRQZXJzaXN0ZW5jZShuZXdQZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2VJbnRlcm5hbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLnBlcnNpc3RlbmNlID09PSBuZXdQZXJzaXN0ZW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXdhaXQgdGhpcy5nZXRDdXJyZW50VXNlcigpO1xuICAgIGF3YWl0IHRoaXMucmVtb3ZlQ3VycmVudFVzZXIoKTtcblxuICAgIHRoaXMucGVyc2lzdGVuY2UgPSBuZXdQZXJzaXN0ZW5jZTtcblxuICAgIGlmIChjdXJyZW50VXNlcikge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFVzZXIoY3VycmVudFVzZXIpO1xuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnBlcnNpc3RlbmNlLl9yZW1vdmVMaXN0ZW5lcih0aGlzLmZ1bGxVc2VyS2V5LCB0aGlzLmJvdW5kRXZlbnRIYW5kbGVyKTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIHBlcnNpc3RlbmNlSGllcmFyY2h5OiBQZXJzaXN0ZW5jZUludGVybmFsW10sXG4gICAgdXNlcktleSA9IEtleU5hbWUuQVVUSF9VU0VSXG4gICk6IFByb21pc2U8UGVyc2lzdGVuY2VVc2VyTWFuYWdlcj4ge1xuICAgIGlmICghcGVyc2lzdGVuY2VIaWVyYXJjaHkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlVXNlck1hbmFnZXIoXG4gICAgICAgIF9nZXRJbnN0YW5jZShpbk1lbW9yeVBlcnNpc3RlbmNlKSxcbiAgICAgICAgYXV0aCxcbiAgICAgICAgdXNlcktleVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBFbGltaW5hdGUgYW55IHBlcnNpc3RlbmNlcyB0aGF0IGFyZSBub3QgYXZhaWxhYmxlXG4gICAgY29uc3QgYXZhaWxhYmxlUGVyc2lzdGVuY2VzID0gKFxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHBlcnNpc3RlbmNlSGllcmFyY2h5Lm1hcChhc3luYyBwZXJzaXN0ZW5jZSA9PiB7XG4gICAgICAgICAgaWYgKGF3YWl0IHBlcnNpc3RlbmNlLl9pc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGVyc2lzdGVuY2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKS5maWx0ZXIocGVyc2lzdGVuY2UgPT4gcGVyc2lzdGVuY2UpIGFzIFBlcnNpc3RlbmNlSW50ZXJuYWxbXTtcblxuICAgIC8vIEZhbGwgYmFjayB0byB0aGUgZmlyc3QgcGVyc2lzdGVuY2UgbGlzdGVkLCBvciBpbiBtZW1vcnkgaWYgbm9uZSBhdmFpbGFibGVcbiAgICBsZXQgc2VsZWN0ZWRQZXJzaXN0ZW5jZSA9XG4gICAgICBhdmFpbGFibGVQZXJzaXN0ZW5jZXNbMF0gfHxcbiAgICAgIF9nZXRJbnN0YW5jZTxQZXJzaXN0ZW5jZUludGVybmFsPihpbk1lbW9yeVBlcnNpc3RlbmNlKTtcblxuICAgIGNvbnN0IGtleSA9IF9wZXJzaXN0ZW5jZUtleU5hbWUodXNlcktleSwgYXV0aC5jb25maWcuYXBpS2V5LCBhdXRoLm5hbWUpO1xuXG4gICAgLy8gUHVsbCBvdXQgdGhlIGV4aXN0aW5nIHVzZXIsIHNldHRpbmcgdGhlIGNob3NlbiBwZXJzaXN0ZW5jZSB0byB0aGF0XG4gICAgLy8gcGVyc2lzdGVuY2UgaWYgdGhlIHVzZXIgZXhpc3RzLlxuICAgIGxldCB1c2VyVG9NaWdyYXRlOiBVc2VySW50ZXJuYWwgfCBudWxsID0gbnVsbDtcbiAgICAvLyBOb3RlLCBoZXJlIHdlIGNoZWNrIGZvciBhIHVzZXIgaW4gX2FsbF8gcGVyc2lzdGVuY2VzLCBub3QganVzdCB0aGVcbiAgICAvLyBvbmVzIGRlZW1lZCBhdmFpbGFibGUuIElmIHdlIGNhbiBtaWdyYXRlIGEgdXNlciBvdXQgb2YgYSBicm9rZW5cbiAgICAvLyBwZXJzaXN0ZW5jZSwgd2Ugd2lsbCAoYnV0IG9ubHkgaWYgdGhhdCBwZXJzaXN0ZW5jZSBzdXBwb3J0cyBtaWdyYXRpb24pLlxuICAgIGZvciAoY29uc3QgcGVyc2lzdGVuY2Ugb2YgcGVyc2lzdGVuY2VIaWVyYXJjaHkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBwZXJzaXN0ZW5jZS5fZ2V0PFBlcnNpc3RlZEJsb2I+KGtleSk7XG4gICAgICAgIGlmIChibG9iKSB7XG4gICAgICAgICAgY29uc3QgdXNlciA9IFVzZXJJbXBsLl9mcm9tSlNPTihhdXRoLCBibG9iKTsgLy8gdGhyb3dzIGZvciB1bnBhcnNhYmxlIGJsb2IgKHdyb25nIGZvcm1hdClcbiAgICAgICAgICBpZiAocGVyc2lzdGVuY2UgIT09IHNlbGVjdGVkUGVyc2lzdGVuY2UpIHtcbiAgICAgICAgICAgIHVzZXJUb01pZ3JhdGUgPSB1c2VyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxlY3RlZFBlcnNpc3RlbmNlID0gcGVyc2lzdGVuY2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge31cbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBmaW5kIHRoZSB1c2VyIGluIGEgcGVyc2lzdGVuY2UgdGhhdCBkb2VzIHN1cHBvcnQgbWlncmF0aW9uLCB1c2VcbiAgICAvLyB0aGF0IG1pZ3JhdGlvbiBwYXRoIChvZiBvbmx5IHBlcnNpc3RlbmNlcyB0aGF0IHN1cHBvcnQgbWlncmF0aW9uKVxuICAgIGNvbnN0IG1pZ3JhdGlvbkhpZXJhcmNoeSA9IGF2YWlsYWJsZVBlcnNpc3RlbmNlcy5maWx0ZXIoXG4gICAgICBwID0+IHAuX3Nob3VsZEFsbG93TWlncmF0aW9uXG4gICAgKTtcblxuICAgIC8vIElmIHRoZSBwZXJzaXN0ZW5jZSBkb2VzIF9ub3RfIGFsbG93IG1pZ3JhdGlvbiwganVzdCBmaW5pc2ggb2ZmIGhlcmVcbiAgICBpZiAoXG4gICAgICAhc2VsZWN0ZWRQZXJzaXN0ZW5jZS5fc2hvdWxkQWxsb3dNaWdyYXRpb24gfHxcbiAgICAgICFtaWdyYXRpb25IaWVyYXJjaHkubGVuZ3RoXG4gICAgKSB7XG4gICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlVXNlck1hbmFnZXIoc2VsZWN0ZWRQZXJzaXN0ZW5jZSwgYXV0aCwgdXNlcktleSk7XG4gICAgfVxuXG4gICAgc2VsZWN0ZWRQZXJzaXN0ZW5jZSA9IG1pZ3JhdGlvbkhpZXJhcmNoeVswXTtcbiAgICBpZiAodXNlclRvTWlncmF0ZSkge1xuICAgICAgLy8gVGhpcyBub3JtYWxseSBzaG91bGRuJ3QgdGhyb3cgc2luY2UgY2hvc2VuUGVyc2lzdGVuY2UuaXNBdmFpbGFibGUoKSBpcyB0cnVlLCBidXQgaWYgaXQgZG9lc1xuICAgICAgLy8gd2UnbGwganVzdCBsZXQgaXQgYnViYmxlIHRvIHN1cmZhY2UgdGhlIGVycm9yLlxuICAgICAgYXdhaXQgc2VsZWN0ZWRQZXJzaXN0ZW5jZS5fc2V0KGtleSwgdXNlclRvTWlncmF0ZS50b0pTT04oKSk7XG4gICAgfVxuXG4gICAgLy8gQXR0ZW1wdCB0byBjbGVhciB0aGUga2V5IGluIG90aGVyIHBlcnNpc3RlbmNlcyBidXQgaWdub3JlIGVycm9ycy4gVGhpcyBoZWxwcyBwcmV2ZW50IGlzc3Vlc1xuICAgIC8vIHN1Y2ggYXMgdXNlcnMgZ2V0dGluZyBzdHVjayB3aXRoIGEgcHJldmlvdXMgYWNjb3VudCBhZnRlciBzaWduaW5nIG91dCBhbmQgcmVmcmVzaGluZyB0aGUgdGFiLlxuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgcGVyc2lzdGVuY2VIaWVyYXJjaHkubWFwKGFzeW5jIHBlcnNpc3RlbmNlID0+IHtcbiAgICAgICAgaWYgKHBlcnNpc3RlbmNlICE9PSBzZWxlY3RlZFBlcnNpc3RlbmNlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHBlcnNpc3RlbmNlLl9yZW1vdmUoa2V5KTtcbiAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlVXNlck1hbmFnZXIoc2VsZWN0ZWRQZXJzaXN0ZW5jZSwgYXV0aCwgdXNlcktleSk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBpc0lFLCBnZXRVQSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW50ZXJmYWNlIE5hdmlnYXRvclN0YW5kYWxvbmUgZXh0ZW5kcyBOYXZpZ2F0b3Ige1xuICBzdGFuZGFsb25lPzogdW5rbm93bjtcbn1cblxuaW50ZXJmYWNlIERvY3VtZW50IHtcbiAgZG9jdW1lbnRNb2RlPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEVudW1zIGZvciBCcm93c2VyIG5hbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIEJyb3dzZXJOYW1lIHtcbiAgQU5EUk9JRCA9ICdBbmRyb2lkJyxcbiAgQkxBQ0tCRVJSWSA9ICdCbGFja2JlcnJ5JyxcbiAgRURHRSA9ICdFZGdlJyxcbiAgRklSRUZPWCA9ICdGaXJlZm94JyxcbiAgSUUgPSAnSUUnLFxuICBJRU1PQklMRSA9ICdJRU1vYmlsZScsXG4gIE9QRVJBID0gJ09wZXJhJyxcbiAgT1RIRVIgPSAnT3RoZXInLFxuICBDSFJPTUUgPSAnQ2hyb21lJyxcbiAgU0FGQVJJID0gJ1NhZmFyaScsXG4gIFNJTEsgPSAnU2lsaycsXG4gIFdFQk9TID0gJ1dlYm9zJ1xufVxuXG4vKipcbiAqIERldGVybWluZSB0aGUgYnJvd3NlciBmb3IgdGhlIHB1cnBvc2VzIG9mIHJlcG9ydGluZyB1c2FnZSB0byB0aGUgQVBJXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0QnJvd3Nlck5hbWUodXNlckFnZW50OiBzdHJpbmcpOiBCcm93c2VyTmFtZSB8IHN0cmluZyB7XG4gIGNvbnN0IHVhID0gdXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gIGlmICh1YS5pbmNsdWRlcygnb3BlcmEvJykgfHwgdWEuaW5jbHVkZXMoJ29wci8nKSB8fCB1YS5pbmNsdWRlcygnb3Bpb3MvJykpIHtcbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuT1BFUkE7XG4gIH0gZWxzZSBpZiAoX2lzSUVNb2JpbGUodWEpKSB7XG4gICAgLy8gV2luZG93cyBwaG9uZSBJRU1vYmlsZSBicm93c2VyLlxuICAgIHJldHVybiBCcm93c2VyTmFtZS5JRU1PQklMRTtcbiAgfSBlbHNlIGlmICh1YS5pbmNsdWRlcygnbXNpZScpIHx8IHVhLmluY2x1ZGVzKCd0cmlkZW50LycpKSB7XG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLklFO1xuICB9IGVsc2UgaWYgKHVhLmluY2x1ZGVzKCdlZGdlLycpKSB7XG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLkVER0U7XG4gIH0gZWxzZSBpZiAoX2lzRmlyZWZveCh1YSkpIHtcbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuRklSRUZPWDtcbiAgfSBlbHNlIGlmICh1YS5pbmNsdWRlcygnc2lsay8nKSkge1xuICAgIHJldHVybiBCcm93c2VyTmFtZS5TSUxLO1xuICB9IGVsc2UgaWYgKF9pc0JsYWNrQmVycnkodWEpKSB7XG4gICAgLy8gQmxhY2tiZXJyeSBicm93c2VyLlxuICAgIHJldHVybiBCcm93c2VyTmFtZS5CTEFDS0JFUlJZO1xuICB9IGVsc2UgaWYgKF9pc1dlYk9TKHVhKSkge1xuICAgIC8vIFdlYk9TIGRlZmF1bHQgYnJvd3Nlci5cbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuV0VCT1M7XG4gIH0gZWxzZSBpZiAoX2lzU2FmYXJpKHVhKSkge1xuICAgIHJldHVybiBCcm93c2VyTmFtZS5TQUZBUkk7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHVhLmluY2x1ZGVzKCdjaHJvbWUvJykgfHwgX2lzQ2hyb21lSU9TKHVhKSkgJiZcbiAgICAhdWEuaW5jbHVkZXMoJ2VkZ2UvJylcbiAgKSB7XG4gICAgcmV0dXJuIEJyb3dzZXJOYW1lLkNIUk9NRTtcbiAgfSBlbHNlIGlmIChfaXNBbmRyb2lkKHVhKSkge1xuICAgIC8vIEFuZHJvaWQgc3RvY2sgYnJvd3Nlci5cbiAgICByZXR1cm4gQnJvd3Nlck5hbWUuQU5EUk9JRDtcbiAgfSBlbHNlIHtcbiAgICAvLyBNb3N0IG1vZGVybiBicm93c2VycyBoYXZlIG5hbWUvdmVyc2lvbiBhdCBlbmQgb2YgdXNlciBhZ2VudCBzdHJpbmcuXG4gICAgY29uc3QgcmUgPSAvKFthLXpBLVpcXGRcXC5dKylcXC9bYS16QS1aXFxkXFwuXSokLztcbiAgICBjb25zdCBtYXRjaGVzID0gdXNlckFnZW50Lm1hdGNoKHJlKTtcbiAgICBpZiAobWF0Y2hlcz8ubGVuZ3RoID09PSAyKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlc1sxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIEJyb3dzZXJOYW1lLk9USEVSO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzRmlyZWZveCh1YSA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIC9maXJlZm94XFwvL2kudGVzdCh1YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNTYWZhcmkodXNlckFnZW50ID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICBjb25zdCB1YSA9IHVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKFxuICAgIHVhLmluY2x1ZGVzKCdzYWZhcmkvJykgJiZcbiAgICAhdWEuaW5jbHVkZXMoJ2Nocm9tZS8nKSAmJlxuICAgICF1YS5pbmNsdWRlcygnY3Jpb3MvJykgJiZcbiAgICAhdWEuaW5jbHVkZXMoJ2FuZHJvaWQnKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzQ2hyb21lSU9TKHVhID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gL2NyaW9zXFwvL2kudGVzdCh1YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNJRU1vYmlsZSh1YSA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIC9pZW1vYmlsZS9pLnRlc3QodWEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzQW5kcm9pZCh1YSA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIC9hbmRyb2lkL2kudGVzdCh1YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNCbGFja0JlcnJ5KHVhID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gL2JsYWNrYmVycnkvaS50ZXN0KHVhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc1dlYk9TKHVhID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICByZXR1cm4gL3dlYm9zL2kudGVzdCh1YSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNJT1ModWEgPSBnZXRVQSgpKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgL2lwaG9uZXxpcGFkfGlwb2QvaS50ZXN0KHVhKSB8fFxuICAgICgvbWFjaW50b3NoL2kudGVzdCh1YSkgJiYgL21vYmlsZS9pLnRlc3QodWEpKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzSU9TN09yOCh1YSA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICAvKGlQYWR8aVBob25lfGlQb2QpLipPUyA3X1xcZC9pLnRlc3QodWEpIHx8XG4gICAgLyhpUGFkfGlQaG9uZXxpUG9kKS4qT1MgOF9cXGQvaS50ZXN0KHVhKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzSU9TU3RhbmRhbG9uZSh1YSA9IGdldFVBKCkpOiBib29sZWFuIHtcbiAgcmV0dXJuIF9pc0lPUyh1YSkgJiYgISEod2luZG93Lm5hdmlnYXRvciBhcyBOYXZpZ2F0b3JTdGFuZGFsb25lKT8uc3RhbmRhbG9uZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pc0lFMTAoKTogYm9vbGVhbiB7XG4gIHJldHVybiBpc0lFKCkgJiYgKGRvY3VtZW50IGFzIERvY3VtZW50KS5kb2N1bWVudE1vZGUgPT09IDEwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2lzTW9iaWxlQnJvd3Nlcih1YTogc3RyaW5nID0gZ2V0VUEoKSk6IGJvb2xlYW4ge1xuICAvLyBUT0RPOiBpbXBsZW1lbnQgZ2V0QnJvd3Nlck5hbWUgZXF1aXZhbGVudCBmb3IgT1MuXG4gIHJldHVybiAoXG4gICAgX2lzSU9TKHVhKSB8fFxuICAgIF9pc0FuZHJvaWQodWEpIHx8XG4gICAgX2lzV2ViT1ModWEpIHx8XG4gICAgX2lzQmxhY2tCZXJyeSh1YSkgfHxcbiAgICAvd2luZG93cyBwaG9uZS9pLnRlc3QodWEpIHx8XG4gICAgX2lzSUVNb2JpbGUodWEpXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfaXNJZnJhbWUoKTogYm9vbGVhbiB7XG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgdGhhdCB0aGUgY3VycmVudCB3aW5kb3cgaXMgbm90IHRoZSB0b3Agd2luZG93LlxuICAgIC8vIElmIHNvLCByZXR1cm4gdHJ1ZS5cbiAgICByZXR1cm4gISEod2luZG93ICYmIHdpbmRvdyAhPT0gd2luZG93LnRvcCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBTREtfVkVSU0lPTiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgX2dldEJyb3dzZXJOYW1lIH0gZnJvbSAnLi9icm93c2VyJztcbmltcG9ydCB7IGdldFVBIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5leHBvcnQgY29uc3QgZW51bSBDbGllbnRJbXBsZW1lbnRhdGlvbiB7XG4gIENPUkUgPSAnSnNDb3JlJ1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgZW51bSBDbGllbnRQbGF0Zm9ybSB7XG4gIEJST1dTRVIgPSAnQnJvd3NlcicsXG4gIE5PREUgPSAnTm9kZScsXG4gIFJFQUNUX05BVElWRSA9ICdSZWFjdE5hdGl2ZScsXG4gIENPUkRPVkEgPSAnQ29yZG92YScsXG4gIFdPUktFUiA9ICdXb3JrZXInLFxuICBXRUJfRVhURU5TSU9OID0gJ1dlYkV4dGVuc2lvbidcbn1cblxuLypcbiAqIERldGVybWluZSB0aGUgU0RLIHZlcnNpb24gc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0Q2xpZW50VmVyc2lvbihcbiAgY2xpZW50UGxhdGZvcm06IENsaWVudFBsYXRmb3JtLFxuICBmcmFtZXdvcmtzOiByZWFkb25seSBzdHJpbmdbXSA9IFtdXG4pOiBzdHJpbmcge1xuICBsZXQgcmVwb3J0ZWRQbGF0Zm9ybTogc3RyaW5nO1xuICBzd2l0Y2ggKGNsaWVudFBsYXRmb3JtKSB7XG4gICAgY2FzZSBDbGllbnRQbGF0Zm9ybS5CUk9XU0VSOlxuICAgICAgLy8gSW4gYSBicm93c2VyIGVudmlyb25tZW50LCByZXBvcnQgdGhlIGJyb3dzZXIgbmFtZS5cbiAgICAgIHJlcG9ydGVkUGxhdGZvcm0gPSBfZ2V0QnJvd3Nlck5hbWUoZ2V0VUEoKSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIENsaWVudFBsYXRmb3JtLldPUktFUjpcbiAgICAgIC8vIFRlY2huaWNhbGx5IGEgd29ya2VyIHJ1bnMgZnJvbSBhIGJyb3dzZXIgYnV0IHdlIG5lZWQgdG8gZGlmZmVyZW50aWF0ZSBhXG4gICAgICAvLyB3b3JrZXIgZnJvbSBhIGJyb3dzZXIuXG4gICAgICAvLyBGb3IgZXhhbXBsZTogQ2hyb21lLVdvcmtlci9Kc0NvcmUvNC45LjEvRmlyZWJhc2VDb3JlLXdlYi5cbiAgICAgIHJlcG9ydGVkUGxhdGZvcm0gPSBgJHtfZ2V0QnJvd3Nlck5hbWUoZ2V0VUEoKSl9LSR7Y2xpZW50UGxhdGZvcm19YDtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXBvcnRlZFBsYXRmb3JtID0gY2xpZW50UGxhdGZvcm07XG4gIH1cbiAgY29uc3QgcmVwb3J0ZWRGcmFtZXdvcmtzID0gZnJhbWV3b3Jrcy5sZW5ndGhcbiAgICA/IGZyYW1ld29ya3Muam9pbignLCcpXG4gICAgOiAnRmlyZWJhc2VDb3JlLXdlYic7IC8qIGRlZmF1bHQgdmFsdWUgaWYgbm8gb3RoZXIgZnJhbWV3b3JrIGlzIHVzZWQgKi9cbiAgcmV0dXJuIGAke3JlcG9ydGVkUGxhdGZvcm19LyR7Q2xpZW50SW1wbGVtZW50YXRpb24uQ09SRX0vJHtTREtfVkVSU0lPTn0vJHtyZXBvcnRlZEZyYW1ld29ya3N9YDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IFVuc3Vic2NyaWJlLCBVc2VyIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuXG5pbnRlcmZhY2UgTWlkZGxld2FyZUVudHJ5IHtcbiAgKHVzZXI6IFVzZXIgfCBudWxsKTogUHJvbWlzZTx2b2lkPjtcbiAgb25BYm9ydD86ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBBdXRoTWlkZGxld2FyZVF1ZXVlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBxdWV1ZTogTWlkZGxld2FyZUVudHJ5W10gPSBbXTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbCkge31cblxuICBwdXNoQ2FsbGJhY2soXG4gICAgY2FsbGJhY2s6ICh1c2VyOiBVc2VyIHwgbnVsbCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4gICAgb25BYm9ydD86ICgpID0+IHZvaWRcbiAgKTogVW5zdWJzY3JpYmUge1xuICAgIC8vIFRoZSBjYWxsYmFjayBjb3VsZCBiZSBzeW5jIG9yIGFzeW5jLiBXcmFwIGl0IGludG8gYVxuICAgIC8vIGZ1bmN0aW9uIHRoYXQgaXMgYWx3YXlzIGFzeW5jLlxuICAgIGNvbnN0IHdyYXBwZWRDYWxsYmFjazogTWlkZGxld2FyZUVudHJ5ID0gKFxuICAgICAgdXNlcjogVXNlciB8IG51bGxcbiAgICApOiBQcm9taXNlPHZvaWQ+ID0+XG4gICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FsbGJhY2sodXNlcik7XG4gICAgICAgICAgLy8gRWl0aGVyIHJlc29sdmUgd2l0aCBleGlzdGluZyBwcm9taXNlIG9yIHdyYXAgYSBub24tcHJvbWlzZVxuICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSBpbnRvIGEgcHJvbWlzZS5cbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBTeW5jIGNhbGxiYWNrIHRocm93cy5cbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIC8vIEF0dGFjaCB0aGUgb25BYm9ydCBpZiBwcmVzZW50XG4gICAgd3JhcHBlZENhbGxiYWNrLm9uQWJvcnQgPSBvbkFib3J0O1xuICAgIHRoaXMucXVldWUucHVzaCh3cmFwcGVkQ2FsbGJhY2spO1xuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnF1ZXVlLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIC8vIFVuc3Vic2NyaWJlLiBSZXBsYWNlIHdpdGggbm8tb3AuIERvIG5vdCByZW1vdmUgZnJvbSBhcnJheSwgb3IgaXQgd2lsbCBkaXN0dXJiXG4gICAgICAvLyBpbmRleGluZyBvZiBvdGhlciBlbGVtZW50cy5cbiAgICAgIHRoaXMucXVldWVbaW5kZXhdID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIHJ1bk1pZGRsZXdhcmUobmV4dFVzZXI6IFVzZXIgfCBudWxsKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuYXV0aC5jdXJyZW50VXNlciA9PT0gbmV4dFVzZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXaGlsZSBydW5uaW5nIHRoZSBtaWRkbGV3YXJlLCBidWlsZCBhIHRlbXBvcmFyeSBzdGFjayBvZiBvbkFib3J0XG4gICAgLy8gY2FsbGJhY2tzIHRvIGNhbGwgaWYgb25lIG1pZGRsZXdhcmUgY2FsbGJhY2sgcmVqZWN0cy5cblxuICAgIGNvbnN0IG9uQWJvcnRTdGFjazogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcbiAgICB0cnkge1xuICAgICAgZm9yIChjb25zdCBiZWZvcmVTdGF0ZUNhbGxiYWNrIG9mIHRoaXMucXVldWUpIHtcbiAgICAgICAgYXdhaXQgYmVmb3JlU3RhdGVDYWxsYmFjayhuZXh0VXNlcik7XG5cbiAgICAgICAgLy8gT25seSBwdXNoIHRoZSBvbkFib3J0IGlmIHRoZSBjYWxsYmFjayBzdWNjZWVkc1xuICAgICAgICBpZiAoYmVmb3JlU3RhdGVDYWxsYmFjay5vbkFib3J0KSB7XG4gICAgICAgICAgb25BYm9ydFN0YWNrLnB1c2goYmVmb3JlU3RhdGVDYWxsYmFjay5vbkFib3J0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFJ1biBhbGwgb25BYm9ydCwgd2l0aCBzZXBhcmF0ZSB0cnkvY2F0Y2ggdG8gaWdub3JlIGFueSBlcnJvcnMgYW5kXG4gICAgICAvLyBjb250aW51ZVxuICAgICAgb25BYm9ydFN0YWNrLnJldmVyc2UoKTtcbiAgICAgIGZvciAoY29uc3Qgb25BYm9ydCBvZiBvbkFib3J0U3RhY2spIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBvbkFib3J0KCk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAvKiBzd2FsbG93IGVycm9yICovXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgdGhpcy5hdXRoLl9lcnJvckZhY3RvcnkuY3JlYXRlKEF1dGhFcnJvckNvZGUuTE9HSU5fQkxPQ0tFRCwge1xuICAgICAgICBvcmlnaW5hbE1lc3NhZ2U6IChlIGFzIEVycm9yKT8ubWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgX3BlcmZvcm1BcGlSZXF1ZXN0LFxuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG4vKipcbiAqIFJlcXVlc3Qgb2JqZWN0IGZvciBmZXRjaGluZyB0aGUgcGFzc3dvcmQgcG9saWN5LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldFBhc3N3b3JkUG9saWN5UmVxdWVzdCB7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlc3BvbnNlIG9iamVjdCBmb3IgZmV0Y2hpbmcgdGhlIHBhc3N3b3JkIHBvbGljeS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRQYXNzd29yZFBvbGljeVJlc3BvbnNlIHtcbiAgY3VzdG9tU3RyZW5ndGhPcHRpb25zOiB7XG4gICAgbWluUGFzc3dvcmRMZW5ndGg/OiBudW1iZXI7XG4gICAgbWF4UGFzc3dvcmRMZW5ndGg/OiBudW1iZXI7XG4gICAgY29udGFpbnNMb3dlcmNhc2VDaGFyYWN0ZXI/OiBib29sZWFuO1xuICAgIGNvbnRhaW5zVXBwZXJjYXNlQ2hhcmFjdGVyPzogYm9vbGVhbjtcbiAgICBjb250YWluc051bWVyaWNDaGFyYWN0ZXI/OiBib29sZWFuO1xuICAgIGNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyPzogYm9vbGVhbjtcbiAgfTtcbiAgYWxsb3dlZE5vbkFscGhhbnVtZXJpY0NoYXJhY3RlcnM/OiBzdHJpbmdbXTtcbiAgZW5mb3JjZW1lbnRTdGF0ZTogc3RyaW5nO1xuICBmb3JjZVVwZ3JhZGVPblNpZ25pbj86IGJvb2xlYW47XG4gIHNjaGVtYVZlcnNpb246IG51bWJlcjtcbn1cblxuLyoqXG4gKiBGZXRjaGVzIHRoZSBwYXNzd29yZCBwb2xpY3kgZm9yIHRoZSBjdXJyZW50bHkgc2V0IHRlbmFudCBvciB0aGUgcHJvamVjdCBpZiBubyB0ZW5hbnQgaXMgc2V0LlxuICpcbiAqIEBwYXJhbSBhdXRoIEF1dGggb2JqZWN0LlxuICogQHBhcmFtIHJlcXVlc3QgUGFzc3dvcmQgcG9saWN5IHJlcXVlc3QuXG4gKiBAcmV0dXJucyBQYXNzd29yZCBwb2xpY3kgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfZ2V0UGFzc3dvcmRQb2xpY3koXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEdldFBhc3N3b3JkUG9saWN5UmVxdWVzdCA9IHt9XG4pOiBQcm9taXNlPEdldFBhc3N3b3JkUG9saWN5UmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBHZXRQYXNzd29yZFBvbGljeVJlcXVlc3QsXG4gICAgR2V0UGFzc3dvcmRQb2xpY3lSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5HRVQsXG4gICAgRW5kcG9pbnQuR0VUX1BBU1NXT1JEX1BPTElDWSxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBHZXRQYXNzd29yZFBvbGljeVJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL3Bhc3N3b3JkX3BvbGljeS9nZXRfcGFzc3dvcmRfcG9saWN5JztcbmltcG9ydCB7XG4gIFBhc3N3b3JkUG9saWN5Q3VzdG9tU3RyZW5ndGhPcHRpb25zLFxuICBQYXNzd29yZFBvbGljeUludGVybmFsLFxuICBQYXNzd29yZFZhbGlkYXRpb25TdGF0dXNJbnRlcm5hbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wYXNzd29yZF9wb2xpY3knO1xuaW1wb3J0IHsgUGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuLy8gTWluaW11bSBtaW4gcGFzc3dvcmQgbGVuZ3RoIGVuZm9yY2VkIGJ5IHRoZSBiYWNrZW5kLCBldmVuIGlmIG5vIG1pbmltdW0gbGVuZ3RoIGlzIHNldC5cbmNvbnN0IE1JTklNVU1fTUlOX1BBU1NXT1JEX0xFTkdUSCA9IDY7XG5cbi8qKlxuICogU3RvcmVzIHBhc3N3b3JkIHBvbGljeSByZXF1aXJlbWVudHMgYW5kIHByb3ZpZGVzIHBhc3N3b3JkIHZhbGlkYXRpb24gYWdhaW5zdCB0aGUgcG9saWN5LlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRQb2xpY3lJbXBsIGltcGxlbWVudHMgUGFzc3dvcmRQb2xpY3lJbnRlcm5hbCB7XG4gIHJlYWRvbmx5IGN1c3RvbVN0cmVuZ3RoT3B0aW9uczogUGFzc3dvcmRQb2xpY3lDdXN0b21TdHJlbmd0aE9wdGlvbnM7XG4gIHJlYWRvbmx5IGFsbG93ZWROb25BbHBoYW51bWVyaWNDaGFyYWN0ZXJzOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGVuZm9yY2VtZW50U3RhdGU6IHN0cmluZztcbiAgcmVhZG9ubHkgZm9yY2VVcGdyYWRlT25TaWduaW46IGJvb2xlYW47XG4gIHJlYWRvbmx5IHNjaGVtYVZlcnNpb246IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihyZXNwb25zZTogR2V0UGFzc3dvcmRQb2xpY3lSZXNwb25zZSkge1xuICAgIC8vIE9ubHkgaW5jbHVkZSBjdXN0b20gc3RyZW5ndGggb3B0aW9ucyBkZWZpbmVkIGluIHRoZSByZXNwb25zZS5cbiAgICBjb25zdCByZXNwb25zZU9wdGlvbnMgPSByZXNwb25zZS5jdXN0b21TdHJlbmd0aE9wdGlvbnM7XG4gICAgdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMgPSB7fTtcbiAgICAvLyBUT0RPOiBSZW1vdmUgb25jZSB0aGUgYmFja2VuZCBpcyB1cGRhdGVkIHRvIGluY2x1ZGUgdGhlIG1pbmltdW0gbWluIHBhc3N3b3JkIGxlbmd0aCBpbnN0ZWFkIG9mIHVuZGVmaW5lZCB3aGVuIHRoZXJlIGlzIG5vIG1pbmltdW0gbGVuZ3RoIHNldC5cbiAgICB0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5taW5QYXNzd29yZExlbmd0aCA9XG4gICAgICByZXNwb25zZU9wdGlvbnMubWluUGFzc3dvcmRMZW5ndGggPz8gTUlOSU1VTV9NSU5fUEFTU1dPUkRfTEVOR1RIO1xuICAgIGlmIChyZXNwb25zZU9wdGlvbnMubWF4UGFzc3dvcmRMZW5ndGgpIHtcbiAgICAgIHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLm1heFBhc3N3b3JkTGVuZ3RoID1cbiAgICAgICAgcmVzcG9uc2VPcHRpb25zLm1heFBhc3N3b3JkTGVuZ3RoO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2VPcHRpb25zLmNvbnRhaW5zTG93ZXJjYXNlQ2hhcmFjdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLmNvbnRhaW5zTG93ZXJjYXNlTGV0dGVyID1cbiAgICAgICAgcmVzcG9uc2VPcHRpb25zLmNvbnRhaW5zTG93ZXJjYXNlQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2VPcHRpb25zLmNvbnRhaW5zVXBwZXJjYXNlQ2hhcmFjdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLmNvbnRhaW5zVXBwZXJjYXNlTGV0dGVyID1cbiAgICAgICAgcmVzcG9uc2VPcHRpb25zLmNvbnRhaW5zVXBwZXJjYXNlQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2VPcHRpb25zLmNvbnRhaW5zTnVtZXJpY0NoYXJhY3RlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc051bWVyaWNDaGFyYWN0ZXIgPVxuICAgICAgICByZXNwb25zZU9wdGlvbnMuY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2VPcHRpb25zLmNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLmNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyID1cbiAgICAgICAgcmVzcG9uc2VPcHRpb25zLmNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyO1xuICAgIH1cblxuICAgIHRoaXMuZW5mb3JjZW1lbnRTdGF0ZSA9IHJlc3BvbnNlLmVuZm9yY2VtZW50U3RhdGU7XG4gICAgaWYgKHRoaXMuZW5mb3JjZW1lbnRTdGF0ZSA9PT0gJ0VORk9SQ0VNRU5UX1NUQVRFX1VOU1BFQ0lGSUVEJykge1xuICAgICAgdGhpcy5lbmZvcmNlbWVudFN0YXRlID0gJ09GRic7XG4gICAgfVxuXG4gICAgLy8gVXNlIGFuIGVtcHR5IHN0cmluZyBpZiBubyBub24tYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYXJlIHNwZWNpZmllZCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgdGhpcy5hbGxvd2VkTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVycyA9XG4gICAgICByZXNwb25zZS5hbGxvd2VkTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVycz8uam9pbignJykgPz8gJyc7XG5cbiAgICB0aGlzLmZvcmNlVXBncmFkZU9uU2lnbmluID0gcmVzcG9uc2UuZm9yY2VVcGdyYWRlT25TaWduaW4gPz8gZmFsc2U7XG4gICAgdGhpcy5zY2hlbWFWZXJzaW9uID0gcmVzcG9uc2Uuc2NoZW1hVmVyc2lvbjtcbiAgfVxuXG4gIHZhbGlkYXRlUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1cyB7XG4gICAgY29uc3Qgc3RhdHVzOiBQYXNzd29yZFZhbGlkYXRpb25TdGF0dXNJbnRlcm5hbCA9IHtcbiAgICAgIGlzVmFsaWQ6IHRydWUsXG4gICAgICBwYXNzd29yZFBvbGljeTogdGhpc1xuICAgIH07XG5cbiAgICAvLyBDaGVjayB0aGUgcGFzc3dvcmQgbGVuZ3RoIGFuZCBjaGFyYWN0ZXIgb3B0aW9ucy5cbiAgICB0aGlzLnZhbGlkYXRlUGFzc3dvcmRMZW5ndGhPcHRpb25zKHBhc3N3b3JkLCBzdGF0dXMpO1xuICAgIHRoaXMudmFsaWRhdGVQYXNzd29yZENoYXJhY3Rlck9wdGlvbnMocGFzc3dvcmQsIHN0YXR1cyk7XG5cbiAgICAvLyBDb21iaW5lIHRoZSBzdGF0dXMgaW50byBzaW5nbGUgaXNWYWxpZCBwcm9wZXJ0eS5cbiAgICBzdGF0dXMuaXNWYWxpZCAmJj0gc3RhdHVzLm1lZXRzTWluUGFzc3dvcmRMZW5ndGggPz8gdHJ1ZTtcbiAgICBzdGF0dXMuaXNWYWxpZCAmJj0gc3RhdHVzLm1lZXRzTWF4UGFzc3dvcmRMZW5ndGggPz8gdHJ1ZTtcbiAgICBzdGF0dXMuaXNWYWxpZCAmJj0gc3RhdHVzLmNvbnRhaW5zTG93ZXJjYXNlTGV0dGVyID8/IHRydWU7XG4gICAgc3RhdHVzLmlzVmFsaWQgJiY9IHN0YXR1cy5jb250YWluc1VwcGVyY2FzZUxldHRlciA/PyB0cnVlO1xuICAgIHN0YXR1cy5pc1ZhbGlkICYmPSBzdGF0dXMuY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyID8/IHRydWU7XG4gICAgc3RhdHVzLmlzVmFsaWQgJiY9IHN0YXR1cy5jb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3RlciA/PyB0cnVlO1xuXG4gICAgcmV0dXJuIHN0YXR1cztcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgcGFzc3dvcmQgbWVldHMgdGhlIGxlbmd0aCBvcHRpb25zIGZvciB0aGUgcG9saWN5LlxuICAgKlxuICAgKiBAcGFyYW0gcGFzc3dvcmQgUGFzc3dvcmQgdG8gdmFsaWRhdGUuXG4gICAqIEBwYXJhbSBzdGF0dXMgVmFsaWRhdGlvbiBzdGF0dXMuXG4gICAqL1xuICBwcml2YXRlIHZhbGlkYXRlUGFzc3dvcmRMZW5ndGhPcHRpb25zKFxuICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgc3RhdHVzOiBQYXNzd29yZFZhbGlkYXRpb25TdGF0dXNJbnRlcm5hbFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBtaW5QYXNzd29yZExlbmd0aCA9IHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLm1pblBhc3N3b3JkTGVuZ3RoO1xuICAgIGNvbnN0IG1heFBhc3N3b3JkTGVuZ3RoID0gdGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMubWF4UGFzc3dvcmRMZW5ndGg7XG4gICAgaWYgKG1pblBhc3N3b3JkTGVuZ3RoKSB7XG4gICAgICBzdGF0dXMubWVldHNNaW5QYXNzd29yZExlbmd0aCA9IHBhc3N3b3JkLmxlbmd0aCA+PSBtaW5QYXNzd29yZExlbmd0aDtcbiAgICB9XG4gICAgaWYgKG1heFBhc3N3b3JkTGVuZ3RoKSB7XG4gICAgICBzdGF0dXMubWVldHNNYXhQYXNzd29yZExlbmd0aCA9IHBhc3N3b3JkLmxlbmd0aCA8PSBtYXhQYXNzd29yZExlbmd0aDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHBhc3N3b3JkIG1lZXRzIHRoZSBjaGFyYWN0ZXIgb3B0aW9ucyBmb3IgdGhlIHBvbGljeS5cbiAgICpcbiAgICogQHBhcmFtIHBhc3N3b3JkIFBhc3N3b3JkIHRvIHZhbGlkYXRlLlxuICAgKiBAcGFyYW0gc3RhdHVzIFZhbGlkYXRpb24gc3RhdHVzLlxuICAgKi9cbiAgcHJpdmF0ZSB2YWxpZGF0ZVBhc3N3b3JkQ2hhcmFjdGVyT3B0aW9ucyhcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIHN0YXR1czogUGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzSW50ZXJuYWxcbiAgKTogdm9pZCB7XG4gICAgLy8gQXNzaWduIHN0YXR1c2VzIGZvciByZXF1aXJlbWVudHMgZXZlbiBpZiB0aGUgcGFzc3dvcmQgaXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgIHRoaXMudXBkYXRlUGFzc3dvcmRDaGFyYWN0ZXJPcHRpb25zU3RhdHVzZXMoXG4gICAgICBzdGF0dXMsXG4gICAgICAvKiBjb250YWluc0xvd2VyY2FzZUNoYXJhY3Rlcj0gKi8gZmFsc2UsXG4gICAgICAvKiBjb250YWluc1VwcGVyY2FzZUNoYXJhY3Rlcj0gKi8gZmFsc2UsXG4gICAgICAvKiBjb250YWluc051bWVyaWNDaGFyYWN0ZXI9ICovIGZhbHNlLFxuICAgICAgLyogY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXI9ICovIGZhbHNlXG4gICAgKTtcblxuICAgIGxldCBwYXNzd29yZENoYXI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzd29yZC5sZW5ndGg7IGkrKykge1xuICAgICAgcGFzc3dvcmRDaGFyID0gcGFzc3dvcmQuY2hhckF0KGkpO1xuICAgICAgdGhpcy51cGRhdGVQYXNzd29yZENoYXJhY3Rlck9wdGlvbnNTdGF0dXNlcyhcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICAvKiBjb250YWluc0xvd2VyY2FzZUNoYXJhY3Rlcj0gKi8gcGFzc3dvcmRDaGFyID49ICdhJyAmJlxuICAgICAgICAgIHBhc3N3b3JkQ2hhciA8PSAneicsXG4gICAgICAgIC8qIGNvbnRhaW5zVXBwZXJjYXNlQ2hhcmFjdGVyPSAqLyBwYXNzd29yZENoYXIgPj0gJ0EnICYmXG4gICAgICAgICAgcGFzc3dvcmRDaGFyIDw9ICdaJyxcbiAgICAgICAgLyogY29udGFpbnNOdW1lcmljQ2hhcmFjdGVyPSAqLyBwYXNzd29yZENoYXIgPj0gJzAnICYmXG4gICAgICAgICAgcGFzc3dvcmRDaGFyIDw9ICc5JyxcbiAgICAgICAgLyogY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXI9ICovIHRoaXMuYWxsb3dlZE5vbkFscGhhbnVtZXJpY0NoYXJhY3RlcnMuaW5jbHVkZXMoXG4gICAgICAgICAgcGFzc3dvcmRDaGFyXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHJ1bm5pbmcgdmFsaWRhdGlvbiBzdGF0dXMgd2l0aCB0aGUgc3RhdHVzZXMgZm9yIHRoZSBjaGFyYWN0ZXIgb3B0aW9ucy5cbiAgICogRXhwZWN0ZWQgdG8gYmUgY2FsbGVkIGVhY2ggdGltZSBhIGNoYXJhY3RlciBpcyBwcm9jZXNzZWQgdG8gdXBkYXRlIGVhY2ggb3B0aW9uIHN0YXR1c1xuICAgKiBiYXNlZCBvbiB0aGUgY3VycmVudCBjaGFyYWN0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSBzdGF0dXMgVmFsaWRhdGlvbiBzdGF0dXMuXG4gICAqIEBwYXJhbSBjb250YWluc0xvd2VyY2FzZUNoYXJhY3RlciBXaGV0aGVyIHRoZSBjaGFyYWN0ZXIgaXMgYSBsb3dlcmNhc2UgbGV0dGVyLlxuICAgKiBAcGFyYW0gY29udGFpbnNVcHBlcmNhc2VDaGFyYWN0ZXIgV2hldGhlciB0aGUgY2hhcmFjdGVyIGlzIGFuIHVwcGVyY2FzZSBsZXR0ZXIuXG4gICAqIEBwYXJhbSBjb250YWluc051bWVyaWNDaGFyYWN0ZXIgV2hldGhlciB0aGUgY2hhcmFjdGVyIGlzIGEgbnVtZXJpYyBjaGFyYWN0ZXIuXG4gICAqIEBwYXJhbSBjb250YWluc05vbkFscGhhbnVtZXJpY0NoYXJhY3RlciBXaGV0aGVyIHRoZSBjaGFyYWN0ZXIgaXMgYSBub24tYWxwaGFudW1lcmljIGNoYXJhY3Rlci5cbiAgICovXG4gIHByaXZhdGUgdXBkYXRlUGFzc3dvcmRDaGFyYWN0ZXJPcHRpb25zU3RhdHVzZXMoXG4gICAgc3RhdHVzOiBQYXNzd29yZFZhbGlkYXRpb25TdGF0dXNJbnRlcm5hbCxcbiAgICBjb250YWluc0xvd2VyY2FzZUNoYXJhY3RlcjogYm9vbGVhbixcbiAgICBjb250YWluc1VwcGVyY2FzZUNoYXJhY3RlcjogYm9vbGVhbixcbiAgICBjb250YWluc051bWVyaWNDaGFyYWN0ZXI6IGJvb2xlYW4sXG4gICAgY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXI6IGJvb2xlYW5cbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLmNvbnRhaW5zTG93ZXJjYXNlTGV0dGVyKSB7XG4gICAgICBzdGF0dXMuY29udGFpbnNMb3dlcmNhc2VMZXR0ZXIgfHw9IGNvbnRhaW5zTG93ZXJjYXNlQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAodGhpcy5jdXN0b21TdHJlbmd0aE9wdGlvbnMuY29udGFpbnNVcHBlcmNhc2VMZXR0ZXIpIHtcbiAgICAgIHN0YXR1cy5jb250YWluc1VwcGVyY2FzZUxldHRlciB8fD0gY29udGFpbnNVcHBlcmNhc2VDaGFyYWN0ZXI7XG4gICAgfVxuICAgIGlmICh0aGlzLmN1c3RvbVN0cmVuZ3RoT3B0aW9ucy5jb250YWluc051bWVyaWNDaGFyYWN0ZXIpIHtcbiAgICAgIHN0YXR1cy5jb250YWluc051bWVyaWNDaGFyYWN0ZXIgfHw9IGNvbnRhaW5zTnVtZXJpY0NoYXJhY3RlcjtcbiAgICB9XG4gICAgaWYgKHRoaXMuY3VzdG9tU3RyZW5ndGhPcHRpb25zLmNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyKSB7XG4gICAgICBzdGF0dXMuY29udGFpbnNOb25BbHBoYW51bWVyaWNDaGFyYWN0ZXIgfHw9XG4gICAgICAgIGNvbnRhaW5zTm9uQWxwaGFudW1lcmljQ2hhcmFjdGVyO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIF9pc0ZpcmViYXNlU2VydmVyQXBwLFxuICBfRmlyZWJhc2VTZXJ2aWNlLFxuICBGaXJlYmFzZUFwcFxufSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnQGZpcmViYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBBcHBDaGVja0ludGVybmFsQ29tcG9uZW50TmFtZSB9IGZyb20gJ0BmaXJlYmFzZS9hcHAtY2hlY2staW50ZXJvcC10eXBlcyc7XG5pbXBvcnQge1xuICBBdXRoLFxuICBBdXRoRXJyb3JNYXAsXG4gIEF1dGhTZXR0aW5ncyxcbiAgRW11bGF0b3JDb25maWcsXG4gIE5leHRPck9ic2VydmVyLFxuICBQZXJzaXN0ZW5jZSxcbiAgUG9wdXBSZWRpcmVjdFJlc29sdmVyLFxuICBVc2VyLFxuICBVc2VyQ3JlZGVudGlhbCxcbiAgQ29tcGxldGVGbixcbiAgRXJyb3JGbixcbiAgTmV4dEZuLFxuICBVbnN1YnNjcmliZSxcbiAgUGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzXG59IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQge1xuICBjcmVhdGVTdWJzY3JpYmUsXG4gIEVycm9yRmFjdG9yeSxcbiAgRmlyZWJhc2VFcnJvcixcbiAgZ2V0TW9kdWxhckluc3RhbmNlLFxuICBPYnNlcnZlcixcbiAgU3Vic2NyaWJlXG59IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgQXV0aEludGVybmFsLCBDb25maWdJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7XG4gIEF1dGhFcnJvckNvZGUsXG4gIEF1dGhFcnJvclBhcmFtcyxcbiAgRXJyb3JNYXBSZXRyaWV2ZXIsXG4gIF9ERUZBVUxUX0FVVEhfRVJST1JfRkFDVE9SWVxufSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgUGVyc2lzdGVuY2VJbnRlcm5hbCB9IGZyb20gJy4uL3BlcnNpc3RlbmNlJztcbmltcG9ydCB7XG4gIEtleU5hbWUsXG4gIFBlcnNpc3RlbmNlVXNlck1hbmFnZXJcbn0gZnJvbSAnLi4vcGVyc2lzdGVuY2UvcGVyc2lzdGVuY2VfdXNlcl9tYW5hZ2VyJztcbmltcG9ydCB7IF9yZWxvYWRXaXRob3V0U2F2aW5nIH0gZnJvbSAnLi4vdXNlci9yZWxvYWQnO1xuaW1wb3J0IHtcbiAgX2Fzc2VydCxcbiAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3Jcbn0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX2dldEluc3RhbmNlIH0gZnJvbSAnLi4vdXRpbC9pbnN0YW50aWF0b3InO1xuaW1wb3J0IHsgX2dldFVzZXJMYW5ndWFnZSB9IGZyb20gJy4uL3V0aWwvbmF2aWdhdG9yJztcbmltcG9ydCB7IF9nZXRDbGllbnRWZXJzaW9uIH0gZnJvbSAnLi4vdXRpbC92ZXJzaW9uJztcbmltcG9ydCB7IEh0dHBIZWFkZXIgfSBmcm9tICcuLi8uLi9hcGknO1xuaW1wb3J0IHtcbiAgUmV2b2tlVG9rZW5SZXF1ZXN0LFxuICBUb2tlblR5cGUsXG4gIHJldm9rZVRva2VuXG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi90b2tlbic7XG5pbXBvcnQgeyBBdXRoTWlkZGxld2FyZVF1ZXVlIH0gZnJvbSAnLi9taWRkbGV3YXJlJztcbmltcG9ydCB7IFJlY2FwdGNoYUNvbmZpZyB9IGZyb20gJy4uLy4uL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYSc7XG5pbXBvcnQgeyBfbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IF9nZXRQYXNzd29yZFBvbGljeSB9IGZyb20gJy4uLy4uL2FwaS9wYXNzd29yZF9wb2xpY3kvZ2V0X3Bhc3N3b3JkX3BvbGljeSc7XG5pbXBvcnQgeyBQYXNzd29yZFBvbGljeUludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcGFzc3dvcmRfcG9saWN5JztcbmltcG9ydCB7IFBhc3N3b3JkUG9saWN5SW1wbCB9IGZyb20gJy4vcGFzc3dvcmRfcG9saWN5X2ltcGwnO1xuaW1wb3J0IHsgZ2V0QWNjb3VudEluZm8gfSBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L2FjY291bnQnO1xuaW1wb3J0IHsgVXNlckltcGwgfSBmcm9tICcuLi91c2VyL3VzZXJfaW1wbCc7XG5cbmludGVyZmFjZSBBc3luY0FjdGlvbiB7XG4gICgpOiBQcm9taXNlPHZvaWQ+O1xufVxuXG5leHBvcnQgY29uc3QgZW51bSBEZWZhdWx0Q29uZmlnIHtcbiAgVE9LRU5fQVBJX0hPU1QgPSAnc2VjdXJldG9rZW4uZ29vZ2xlYXBpcy5jb20nLFxuICBBUElfSE9TVCA9ICdpZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20nLFxuICBBUElfU0NIRU1FID0gJ2h0dHBzJ1xufVxuXG5leHBvcnQgY2xhc3MgQXV0aEltcGwgaW1wbGVtZW50cyBBdXRoSW50ZXJuYWwsIF9GaXJlYmFzZVNlcnZpY2Uge1xuICBjdXJyZW50VXNlcjogVXNlciB8IG51bGwgPSBudWxsO1xuICBlbXVsYXRvckNvbmZpZzogRW11bGF0b3JDb25maWcgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBvcGVyYXRpb25zID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHByaXZhdGUgcGVyc2lzdGVuY2VNYW5hZ2VyPzogUGVyc2lzdGVuY2VVc2VyTWFuYWdlcjtcbiAgcHJpdmF0ZSByZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlcj86IFBlcnNpc3RlbmNlVXNlck1hbmFnZXI7XG4gIHByaXZhdGUgYXV0aFN0YXRlU3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbjxVc2VyPih0aGlzKTtcbiAgcHJpdmF0ZSBpZFRva2VuU3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbjxVc2VyPih0aGlzKTtcbiAgcHJpdmF0ZSByZWFkb25seSBiZWZvcmVTdGF0ZVF1ZXVlID0gbmV3IEF1dGhNaWRkbGV3YXJlUXVldWUodGhpcyk7XG4gIHByaXZhdGUgcmVkaXJlY3RVc2VyOiBVc2VySW50ZXJuYWwgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBpc1Byb2FjdGl2ZVJlZnJlc2hFbmFibGVkID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgRVhQRUNURURfUEFTU1dPUkRfUE9MSUNZX1NDSEVNQV9WRVJTSU9OOiBudW1iZXIgPSAxO1xuXG4gIC8vIEFueSBuZXR3b3JrIGNhbGxzIHdpbGwgc2V0IHRoaXMgdG8gdHJ1ZSBhbmQgcHJldmVudCBzdWJzZXF1ZW50IGVtdWxhdG9yXG4gIC8vIGluaXRpYWxpemF0aW9uXG4gIF9jYW5Jbml0RW11bGF0b3IgPSB0cnVlO1xuICBfaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICBfZGVsZXRlZCA9IGZhbHNlO1xuICBfaW5pdGlhbGl6YXRpb25Qcm9taXNlOiBQcm9taXNlPHZvaWQ+IHwgbnVsbCA9IG51bGw7XG4gIF9wb3B1cFJlZGlyZWN0UmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsIHwgbnVsbCA9IG51bGw7XG4gIF9lcnJvckZhY3Rvcnk6IEVycm9yRmFjdG9yeTxBdXRoRXJyb3JDb2RlLCBBdXRoRXJyb3JQYXJhbXM+ID1cbiAgICBfREVGQVVMVF9BVVRIX0VSUk9SX0ZBQ1RPUlk7XG4gIF9hZ2VudFJlY2FwdGNoYUNvbmZpZzogUmVjYXB0Y2hhQ29uZmlnIHwgbnVsbCA9IG51bGw7XG4gIF90ZW5hbnRSZWNhcHRjaGFDb25maWdzOiBSZWNvcmQ8c3RyaW5nLCBSZWNhcHRjaGFDb25maWc+ID0ge307XG4gIF9wcm9qZWN0UGFzc3dvcmRQb2xpY3k6IFBhc3N3b3JkUG9saWN5SW50ZXJuYWwgfCBudWxsID0gbnVsbDtcbiAgX3RlbmFudFBhc3N3b3JkUG9saWNpZXM6IFJlY29yZDxzdHJpbmcsIFBhc3N3b3JkUG9saWN5SW50ZXJuYWw+ID0ge307XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcblxuICAvLyBUcmFja3MgdGhlIGxhc3Qgbm90aWZpZWQgVUlEIGZvciBzdGF0ZSBjaGFuZ2UgbGlzdGVuZXJzIHRvIHByZXZlbnRcbiAgLy8gcmVwZWF0ZWQgY2FsbHMgdG8gdGhlIGNhbGxiYWNrcy4gVW5kZWZpbmVkIG1lYW5zIGl0J3MgbmV2ZXIgYmVlblxuICAvLyBjYWxsZWQsIHdoZXJlYXMgbnVsbCBtZWFucyBpdCdzIGJlZW4gY2FsbGVkIHdpdGggYSBzaWduZWQgb3V0IHVzZXJcbiAgcHJpdmF0ZSBsYXN0Tm90aWZpZWRVaWQ6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgbGFuZ3VhZ2VDb2RlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdGVuYW50SWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBzZXR0aW5nczogQXV0aFNldHRpbmdzID0geyBhcHBWZXJpZmljYXRpb25EaXNhYmxlZEZvclRlc3Rpbmc6IGZhbHNlIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGFwcDogRmlyZWJhc2VBcHAsXG4gICAgcHJpdmF0ZSByZWFkb25seSBoZWFydGJlYXRTZXJ2aWNlUHJvdmlkZXI6IFByb3ZpZGVyPCdoZWFydGJlYXQnPixcbiAgICBwcml2YXRlIHJlYWRvbmx5IGFwcENoZWNrU2VydmljZVByb3ZpZGVyOiBQcm92aWRlcjxBcHBDaGVja0ludGVybmFsQ29tcG9uZW50TmFtZT4sXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbmZpZzogQ29uZmlnSW50ZXJuYWxcbiAgKSB7XG4gICAgdGhpcy5uYW1lID0gYXBwLm5hbWU7XG4gICAgdGhpcy5jbGllbnRWZXJzaW9uID0gY29uZmlnLnNka0NsaWVudFZlcnNpb247XG4gIH1cblxuICBfaW5pdGlhbGl6ZVdpdGhQZXJzaXN0ZW5jZShcbiAgICBwZXJzaXN0ZW5jZUhpZXJhcmNoeTogUGVyc2lzdGVuY2VJbnRlcm5hbFtdLFxuICAgIHBvcHVwUmVkaXJlY3RSZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAocG9wdXBSZWRpcmVjdFJlc29sdmVyKSB7XG4gICAgICB0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIgPSBfZ2V0SW5zdGFuY2UocG9wdXBSZWRpcmVjdFJlc29sdmVyKTtcbiAgICB9XG5cbiAgICAvLyBIYXZlIHRvIGNoZWNrIGZvciBhcHAgZGVsZXRpb24gdGhyb3VnaG91dCBpbml0aWFsaXphdGlvbiAoYWZ0ZXIgZWFjaFxuICAgIC8vIHByb21pc2UgcmVzb2x1dGlvbilcbiAgICB0aGlzLl9pbml0aWFsaXphdGlvblByb21pc2UgPSB0aGlzLnF1ZXVlKGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9kZWxldGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wZXJzaXN0ZW5jZU1hbmFnZXIgPSBhd2FpdCBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyLmNyZWF0ZShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgcGVyc2lzdGVuY2VIaWVyYXJjaHlcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLl9kZWxldGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgcmVzb2x2ZXIgZWFybHkgaWYgbmVjZXNzYXJ5IChvbmx5IGFwcGxpY2FibGUgdG8gd2ViOlxuICAgICAgLy8gdGhpcyB3aWxsIGNhdXNlIHRoZSBpZnJhbWUgdG8gbG9hZCBpbW1lZGlhdGVseSBpbiBjZXJ0YWluIGNhc2VzKVxuICAgICAgaWYgKHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlcj8uX3Nob3VsZEluaXRQcm9hY3RpdmVseSkge1xuICAgICAgICAvLyBJZiB0aGlzIGZhaWxzLCBkb24ndCBoYWx0IGF1dGggbG9hZGluZ1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlci5faW5pdGlhbGl6ZSh0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8qIElnbm9yZSB0aGUgZXJyb3IgKi9cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVDdXJyZW50VXNlcihwb3B1cFJlZGlyZWN0UmVzb2x2ZXIpO1xuXG4gICAgICB0aGlzLmxhc3ROb3RpZmllZFVpZCA9IHRoaXMuY3VycmVudFVzZXI/LnVpZCB8fCBudWxsO1xuXG4gICAgICBpZiAodGhpcy5fZGVsZXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemF0aW9uUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGUgcGVyc2lzdGVuY2UgaXMgY2hhbmdlZCBpbiBhbm90aGVyIHdpbmRvdywgdGhlIHVzZXIgbWFuYWdlciB3aWxsIGxldCB1cyBrbm93XG4gICAqL1xuICBhc3luYyBfb25TdG9yYWdlRXZlbnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuX2RlbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5hc3NlcnRlZFBlcnNpc3RlbmNlLmdldEN1cnJlbnRVc2VyKCk7XG5cbiAgICBpZiAoIXRoaXMuY3VycmVudFVzZXIgJiYgIXVzZXIpIHtcbiAgICAgIC8vIE5vIGNoYW5nZSwgZG8gbm90aGluZyAod2FzIHNpZ25lZCBvdXQgYW5kIHJlbWFpbmVkIHNpZ25lZCBvdXQpLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBzYW1lIHVzZXIgaXMgdG8gYmUgc3luY2hyb25pemVkLlxuICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyICYmIHVzZXIgJiYgdGhpcy5jdXJyZW50VXNlci51aWQgPT09IHVzZXIudWlkKSB7XG4gICAgICAvLyBEYXRhIHVwZGF0ZSwgc2ltcGx5IGNvcHkgZGF0YSBjaGFuZ2VzLlxuICAgICAgdGhpcy5fY3VycmVudFVzZXIuX2Fzc2lnbih1c2VyKTtcbiAgICAgIC8vIElmIHRva2VucyBjaGFuZ2VkIGZyb20gcHJldmlvdXMgdXNlciB0b2tlbnMsIHRoaXMgd2lsbCB0cmlnZ2VyXG4gICAgICAvLyBub3RpZnlBdXRoTGlzdGVuZXJzXy5cbiAgICAgIGF3YWl0IHRoaXMuY3VycmVudFVzZXIuZ2V0SWRUb2tlbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBjdXJyZW50IEF1dGggc3RhdGUuIEVpdGhlciBhIG5ldyBsb2dpbiBvciBsb2dvdXQuXG4gICAgLy8gU2tpcCBibG9ja2luZyBjYWxsYmFja3MsIHRoZXkgc2hvdWxkIG5vdCBhcHBseSB0byBhIGNoYW5nZSBpbiBhbm90aGVyIHRhYi5cbiAgICBhd2FpdCB0aGlzLl91cGRhdGVDdXJyZW50VXNlcih1c2VyLCAvKiBza2lwQmVmb3JlU3RhdGVDYWxsYmFja3MgKi8gdHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVDdXJyZW50VXNlckZyb21JZFRva2VuKFxuICAgIGlkVG9rZW46IHN0cmluZ1xuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRBY2NvdW50SW5mbyh0aGlzLCB7IGlkVG9rZW4gfSk7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlckltcGwuX2Zyb21HZXRBY2NvdW50SW5mb1Jlc3BvbnNlKFxuICAgICAgICB0aGlzLFxuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgaWRUb2tlblxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcih1c2VyKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ0ZpcmViYXNlU2VydmVyQXBwIGNvdWxkIG5vdCBsb2dpbiB1c2VyIHdpdGggcHJvdmlkZWQgYXV0aElkVG9rZW46ICcsXG4gICAgICAgIGVyclxuICAgICAgKTtcbiAgICAgIGF3YWl0IHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcihudWxsKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVDdXJyZW50VXNlcihcbiAgICBwb3B1cFJlZGlyZWN0UmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHRoaXMuYXBwKSkge1xuICAgICAgY29uc3QgaWRUb2tlbiA9IHRoaXMuYXBwLnNldHRpbmdzLmF1dGhJZFRva2VuO1xuICAgICAgaWYgKGlkVG9rZW4pIHtcbiAgICAgICAgLy8gU3RhcnQgdGhlIGF1dGggb3BlcmF0aW9uIGluIHRoZSBuZXh0IHRpY2sgdG8gYWxsb3cgYSBtb21lbnQgZm9yIHRoZSBjdXN0b21lcidzIGFwcCB0b1xuICAgICAgICAvLyBhdHRhY2ggYW4gZW11bGF0b3IsIGlmIGRlc2lyZWQuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVDdXJyZW50VXNlckZyb21JZFRva2VuKGlkVG9rZW4pLnRoZW4oXG4gICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgIHJlc29sdmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIobnVsbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmlyc3QgY2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSBwZW5kaW5nIHJlZGlyZWN0IGV2ZW50LlxuICAgIGNvbnN0IHByZXZpb3VzbHlTdG9yZWRVc2VyID1cbiAgICAgIChhd2FpdCB0aGlzLmFzc2VydGVkUGVyc2lzdGVuY2UuZ2V0Q3VycmVudFVzZXIoKSkgYXMgVXNlckludGVybmFsIHwgbnVsbDtcbiAgICBsZXQgZnV0dXJlQ3VycmVudFVzZXIgPSBwcmV2aW91c2x5U3RvcmVkVXNlcjtcbiAgICBsZXQgbmVlZHNUb2NoZWNrTWlkZGxld2FyZSA9IGZhbHNlO1xuICAgIGlmIChwb3B1cFJlZGlyZWN0UmVzb2x2ZXIgJiYgdGhpcy5jb25maWcuYXV0aERvbWFpbikge1xuICAgICAgYXdhaXQgdGhpcy5nZXRPckluaXRSZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlcigpO1xuICAgICAgY29uc3QgcmVkaXJlY3RVc2VyRXZlbnRJZCA9IHRoaXMucmVkaXJlY3RVc2VyPy5fcmVkaXJlY3RFdmVudElkO1xuICAgICAgY29uc3Qgc3RvcmVkVXNlckV2ZW50SWQgPSBmdXR1cmVDdXJyZW50VXNlcj8uX3JlZGlyZWN0RXZlbnRJZDtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMudHJ5UmVkaXJlY3RTaWduSW4ocG9wdXBSZWRpcmVjdFJlc29sdmVyKTtcblxuICAgICAgLy8gSWYgdGhlIHN0b3JlZCB1c2VyIChpLmUuIHRoZSBvbGQgXCJjdXJyZW50VXNlclwiKSBoYXMgYSByZWRpcmVjdElkIHRoYXRcbiAgICAgIC8vIG1hdGNoZXMgdGhlIHJlZGlyZWN0IHVzZXIsIHRoZW4gd2Ugd2FudCB0byBpbml0aWFsbHkgc2lnbiBpbiB3aXRoIHRoZVxuICAgICAgLy8gbmV3IHVzZXIgb2JqZWN0IGZyb20gcmVzdWx0LlxuICAgICAgLy8gVE9ETyhzYW1naG8pOiBNb3JlIHRob3JvdWdobHkgdGVzdCBhbGwgb2YgdGhpc1xuICAgICAgaWYgKFxuICAgICAgICAoIXJlZGlyZWN0VXNlckV2ZW50SWQgfHwgcmVkaXJlY3RVc2VyRXZlbnRJZCA9PT0gc3RvcmVkVXNlckV2ZW50SWQpICYmXG4gICAgICAgIHJlc3VsdD8udXNlclxuICAgICAgKSB7XG4gICAgICAgIGZ1dHVyZUN1cnJlbnRVc2VyID0gcmVzdWx0LnVzZXIgYXMgVXNlckludGVybmFsO1xuICAgICAgICBuZWVkc1RvY2hlY2tNaWRkbGV3YXJlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBubyB1c2VyIGluIHBlcnNpc3RlbmNlLCB0aGVyZSBpcyBubyBjdXJyZW50IHVzZXIuIFNldCB0byBudWxsLlxuICAgIGlmICghZnV0dXJlQ3VycmVudFVzZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIobnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKCFmdXR1cmVDdXJyZW50VXNlci5fcmVkaXJlY3RFdmVudElkKSB7XG4gICAgICAvLyBUaGlzIGlzbid0IGEgcmVkaXJlY3QgbGluayBvcGVyYXRpb24sIHdlIGNhbiByZWxvYWQgYW5kIGJhaWwuXG4gICAgICAvLyBGaXJzdCB0aG91Z2gsIGVuc3VyZSB0aGF0IHdlIGNoZWNrIHRoZSBtaWRkbGV3YXJlIGlzIGhhcHB5LlxuICAgICAgaWYgKG5lZWRzVG9jaGVja01pZGRsZXdhcmUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmJlZm9yZVN0YXRlUXVldWUucnVuTWlkZGxld2FyZShmdXR1cmVDdXJyZW50VXNlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBmdXR1cmVDdXJyZW50VXNlciA9IHByZXZpb3VzbHlTdG9yZWRVc2VyO1xuICAgICAgICAgIC8vIFdlIGtub3cgdGhpcyBpcyBhdmFpbGFibGUgc2luY2UgdGhlIGJpdCBpcyBvbmx5IHNldCB3aGVuIHRoZVxuICAgICAgICAgIC8vIHJlc29sdmVyIGlzIGF2YWlsYWJsZVxuICAgICAgICAgIHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlciEuX292ZXJyaWRlUmVkaXJlY3RSZXN1bHQodGhpcywgKCkgPT5cbiAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZnV0dXJlQ3VycmVudFVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVsb2FkQW5kU2V0Q3VycmVudFVzZXJPckNsZWFyKGZ1dHVyZUN1cnJlbnRVc2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIobnVsbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2Fzc2VydCh0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIsIHRoaXMsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuICAgIGF3YWl0IHRoaXMuZ2V0T3JJbml0UmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXIoKTtcblxuICAgIC8vIElmIHRoZSByZWRpcmVjdCB1c2VyJ3MgZXZlbnQgSUQgbWF0Y2hlcyB0aGUgY3VycmVudCB1c2VyJ3MgZXZlbnQgSUQsXG4gICAgLy8gRE8gTk9UIHJlbG9hZCB0aGUgY3VycmVudCB1c2VyLCBvdGhlcndpc2UgdGhleSdsbCBiZSBjbGVhcmVkIGZyb20gc3RvcmFnZS5cbiAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBmb3IgdGhlIHJlYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0KCkgZmxvdy5cbiAgICBpZiAoXG4gICAgICB0aGlzLnJlZGlyZWN0VXNlciAmJlxuICAgICAgdGhpcy5yZWRpcmVjdFVzZXIuX3JlZGlyZWN0RXZlbnRJZCA9PT0gZnV0dXJlQ3VycmVudFVzZXIuX3JlZGlyZWN0RXZlbnRJZFxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlyZWN0bHlTZXRDdXJyZW50VXNlcihmdXR1cmVDdXJyZW50VXNlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmVsb2FkQW5kU2V0Q3VycmVudFVzZXJPckNsZWFyKGZ1dHVyZUN1cnJlbnRVc2VyKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgdHJ5UmVkaXJlY3RTaWduSW4oXG4gICAgcmVkaXJlY3RSZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4gICk6IFByb21pc2U8VXNlckNyZWRlbnRpYWwgfCBudWxsPiB7XG4gICAgLy8gVGhlIHJlZGlyZWN0IHVzZXIgbmVlZHMgdG8gYmUgY2hlY2tlZCAoYW5kIHNpZ25lZCBpbiBpZiBhdmFpbGFibGUpXG4gICAgLy8gZHVyaW5nIGF1dGggaW5pdGlhbGl6YXRpb24uIEFsbCBvZiB0aGUgbm9ybWFsIHNpZ24gaW4gYW5kIGxpbmsvcmVhdXRoXG4gICAgLy8gZmxvd3MgY2FsbCBiYWNrIGludG8gYXV0aCBhbmQgcHVzaCB0aGluZ3Mgb250byB0aGUgcHJvbWlzZSBxdWV1ZS4gV2VcbiAgICAvLyBuZWVkIHRvIGF3YWl0IHRoZSByZXN1bHQgb2YgdGhlIHJlZGlyZWN0IHNpZ24gaW4gKmluc2lkZSB0aGUgcHJvbWlzZVxuICAgIC8vIHF1ZXVlKi4gVGhpcyBwcmVzZW50cyBhIHByb2JsZW06IHdlIHJ1biBpbnRvIGRlYWRsb2NrLiBTZWU6XG4gICAgLy8gICAg4pSMPiBbSW5pdGlhbGl6YXRpb25dIOKUgOKUgOKUgOKUgOKUgOKUkFxuICAgIC8vICAgIOKUjD4gWzxvdGhlciBxdWV1ZSB0YXNrcz5dIOKUglxuICAgIC8vICAgIOKUlOKUgCBbZ2V0UmVkaXJlY3RSZXN1bHRdIDzilIDilJhcbiAgICAvLyAgICB3aGVyZSBbXSBhcmUgdGFza3Mgb24gdGhlIHF1ZXVlIGFuZCBhcnJvd3MgZGVub3RlIGF3YWl0c1xuICAgIC8vIEluaXRpYWxpemF0aW9uIHdpbGwgbmV2ZXIgY29tcGxldGUgYmVjYXVzZSBpdCdzIHdhaXRpbmcgb24gc29tZXRoaW5nXG4gICAgLy8gdGhhdCdzIHdhaXRpbmcgZm9yIGluaXRpYWxpemF0aW9uIHRvIGNvbXBsZXRlIVxuICAgIC8vXG4gICAgLy8gSW5zdGVhZCwgdGhpcyBtZXRob2QgY2FsbHMgZ2V0UmVkaXJlY3RSZXN1bHQoKSAoc3RvcmVkIGluXG4gICAgLy8gX2NvbXBsZXRlUmVkaXJlY3RGbikgd2l0aCBhbiBvcHRpb25hbCBwYXJhbWV0ZXIgdGhhdCBpbnN0cnVjdHMgYWxsIG9mXG4gICAgLy8gdGhlIHVuZGVybHlpbmcgYXV0aCBvcGVyYXRpb25zIHRvIHNraXAgYW55dGhpbmcgdGhhdCBtdXRhdGVzIGF1dGggc3RhdGUuXG5cbiAgICBsZXQgcmVzdWx0OiBVc2VyQ3JlZGVudGlhbCB8IG51bGwgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICAvLyBXZSBrbm93IHRoaXMuX3BvcHVwUmVkaXJlY3RSZXNvbHZlciBpcyBzZXQgc2luY2UgcmVkaXJlY3RSZXNvbHZlclxuICAgICAgLy8gaXMgcGFzc2VkIGluLiBUaGUgX2NvbXBsZXRlUmVkaXJlY3RGbiBleHBlY3RzIHRoZSB1bndyYXBwZWQgZXh0ZXJuLlxuICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy5fcG9wdXBSZWRpcmVjdFJlc29sdmVyIS5fY29tcGxldGVSZWRpcmVjdEZuKFxuICAgICAgICB0aGlzLFxuICAgICAgICByZWRpcmVjdFJlc29sdmVyLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFN3YWxsb3cgYW55IGVycm9ycyBoZXJlOyB0aGUgY29kZSBjYW4gcmV0cmlldmUgdGhlbSBpblxuICAgICAgLy8gZ2V0UmVkaXJlY3RSZXN1bHQoKS5cbiAgICAgIGF3YWl0IHRoaXMuX3NldFJlZGlyZWN0VXNlcihudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZWxvYWRBbmRTZXRDdXJyZW50VXNlck9yQ2xlYXIoXG4gICAgdXNlcjogVXNlckludGVybmFsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBfcmVsb2FkV2l0aG91dFNhdmluZyh1c2VyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIChlIGFzIEZpcmViYXNlRXJyb3IpPy5jb2RlICE9PVxuICAgICAgICBgYXV0aC8ke0F1dGhFcnJvckNvZGUuTkVUV09SS19SRVFVRVNUX0ZBSUxFRH1gXG4gICAgICApIHtcbiAgICAgICAgLy8gU29tZXRoaW5nJ3Mgd3Jvbmcgd2l0aCB0aGUgdXNlcidzIHRva2VuLiBMb2cgdGhlbSBvdXQgYW5kIHJlbW92ZVxuICAgICAgICAvLyB0aGVtIGZyb20gc3RvcmFnZVxuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRpcmVjdGx5U2V0Q3VycmVudFVzZXIodXNlcik7XG4gIH1cblxuICB1c2VEZXZpY2VMYW5ndWFnZSgpOiB2b2lkIHtcbiAgICB0aGlzLmxhbmd1YWdlQ29kZSA9IF9nZXRVc2VyTGFuZ3VhZ2UoKTtcbiAgfVxuXG4gIGFzeW5jIF9kZWxldGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5fZGVsZXRlZCA9IHRydWU7XG4gIH1cblxuICBhc3luYyB1cGRhdGVDdXJyZW50VXNlcih1c2VyRXh0ZXJuOiBVc2VyIHwgbnVsbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh0aGlzLmFwcCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IodGhpcylcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIFRoZSBwdWJsaWMgdXBkYXRlQ3VycmVudFVzZXIgbWV0aG9kIG5lZWRzIHRvIG1ha2UgYSBjb3B5IG9mIHRoZSB1c2VyLFxuICAgIC8vIGFuZCBhbHNvIGNoZWNrIHRoYXQgdGhlIHByb2plY3QgbWF0Y2hlc1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXh0ZXJuXG4gICAgICA/IChnZXRNb2R1bGFySW5zdGFuY2UodXNlckV4dGVybikgYXMgVXNlckludGVybmFsKVxuICAgICAgOiBudWxsO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICBfYXNzZXJ0KFxuICAgICAgICB1c2VyLmF1dGguY29uZmlnLmFwaUtleSA9PT0gdGhpcy5jb25maWcuYXBpS2V5LFxuICAgICAgICB0aGlzLFxuICAgICAgICBBdXRoRXJyb3JDb2RlLklOVkFMSURfQVVUSFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUN1cnJlbnRVc2VyKHVzZXIgJiYgdXNlci5fY2xvbmUodGhpcykpO1xuICB9XG5cbiAgYXN5bmMgX3VwZGF0ZUN1cnJlbnRVc2VyKFxuICAgIHVzZXI6IFVzZXIgfCBudWxsLFxuICAgIHNraXBCZWZvcmVTdGF0ZUNhbGxiYWNrczogYm9vbGVhbiA9IGZhbHNlXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLl9kZWxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh1c2VyKSB7XG4gICAgICBfYXNzZXJ0KFxuICAgICAgICB0aGlzLnRlbmFudElkID09PSB1c2VyLnRlbmFudElkLFxuICAgICAgICB0aGlzLFxuICAgICAgICBBdXRoRXJyb3JDb2RlLlRFTkFOVF9JRF9NSVNNQVRDSFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIXNraXBCZWZvcmVTdGF0ZUNhbGxiYWNrcykge1xuICAgICAgYXdhaXQgdGhpcy5iZWZvcmVTdGF0ZVF1ZXVlLnJ1bk1pZGRsZXdhcmUodXNlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucXVldWUoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKHVzZXIgYXMgVXNlckludGVybmFsIHwgbnVsbCk7XG4gICAgICB0aGlzLm5vdGlmeUF1dGhMaXN0ZW5lcnMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHNpZ25PdXQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHRoaXMuYXBwKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcih0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gUnVuIGZpcnN0LCB0byBibG9jayBfc2V0UmVkaXJlY3RVc2VyKCkgaWYgYW55IGNhbGxiYWNrcyBmYWlsLlxuICAgIGF3YWl0IHRoaXMuYmVmb3JlU3RhdGVRdWV1ZS5ydW5NaWRkbGV3YXJlKG51bGwpO1xuICAgIC8vIENsZWFyIHRoZSByZWRpcmVjdCB1c2VyIHdoZW4gc2lnbk91dCBpcyBjYWxsZWRcbiAgICBpZiAodGhpcy5yZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlciB8fCB0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMuX3NldFJlZGlyZWN0VXNlcihudWxsKTtcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50IGNhbGxiYWNrcyBmcm9tIGJlaW5nIGNhbGxlZCBhZ2FpbiBpbiBfdXBkYXRlQ3VycmVudFVzZXIsIGFzXG4gICAgLy8gdGhleSB3ZXJlIGFscmVhZHkgY2FsbGVkIGluIHRoZSBmaXJzdCBsaW5lLlxuICAgIHJldHVybiB0aGlzLl91cGRhdGVDdXJyZW50VXNlcihudWxsLCAvKiBza2lwQmVmb3JlU3RhdGVDYWxsYmFja3MgKi8gdHJ1ZSk7XG4gIH1cblxuICBzZXRQZXJzaXN0ZW5jZShwZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodGhpcy5hcHApKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5xdWV1ZShhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLmFzc2VydGVkUGVyc2lzdGVuY2Uuc2V0UGVyc2lzdGVuY2UoX2dldEluc3RhbmNlKHBlcnNpc3RlbmNlKSk7XG4gICAgfSk7XG4gIH1cblxuICBfZ2V0UmVjYXB0Y2hhQ29uZmlnKCk6IFJlY2FwdGNoYUNvbmZpZyB8IG51bGwge1xuICAgIGlmICh0aGlzLnRlbmFudElkID09IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hZ2VudFJlY2FwdGNoYUNvbmZpZztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3RlbmFudFJlY2FwdGNoYUNvbmZpZ3NbdGhpcy50ZW5hbnRJZF07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdmFsaWRhdGVQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxQYXNzd29yZFZhbGlkYXRpb25TdGF0dXM+IHtcbiAgICBpZiAoIXRoaXMuX2dldFBhc3N3b3JkUG9saWN5SW50ZXJuYWwoKSkge1xuICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUGFzc3dvcmRQb2xpY3koKTtcbiAgICB9XG5cbiAgICAvLyBQYXNzd29yZCBwb2xpY3kgd2lsbCBiZSBkZWZpbmVkIGFmdGVyIGZldGNoaW5nLlxuICAgIGNvbnN0IHBhc3N3b3JkUG9saWN5OiBQYXNzd29yZFBvbGljeUludGVybmFsID1cbiAgICAgIHRoaXMuX2dldFBhc3N3b3JkUG9saWN5SW50ZXJuYWwoKSE7XG5cbiAgICAvLyBDaGVjayB0aGF0IHRoZSBwb2xpY3kgc2NoZW1hIHZlcnNpb24gaXMgc3VwcG9ydGVkIGJ5IHRoZSBTREsuXG4gICAgLy8gVE9ETzogVXBkYXRlIHRoaXMgbG9naWMgdG8gdXNlIGEgbWF4IHN1cHBvcnRlZCBwb2xpY3kgc2NoZW1hIHZlcnNpb24gb25jZSB3ZSBoYXZlIG11bHRpcGxlIHNjaGVtYSB2ZXJzaW9ucy5cbiAgICBpZiAoXG4gICAgICBwYXNzd29yZFBvbGljeS5zY2hlbWFWZXJzaW9uICE9PVxuICAgICAgdGhpcy5FWFBFQ1RFRF9QQVNTV09SRF9QT0xJQ1lfU0NIRU1BX1ZFUlNJT05cbiAgICApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgdGhpcy5fZXJyb3JGYWN0b3J5LmNyZWF0ZShcbiAgICAgICAgICBBdXRoRXJyb3JDb2RlLlVOU1VQUE9SVEVEX1BBU1NXT1JEX1BPTElDWV9TQ0hFTUFfVkVSU0lPTixcbiAgICAgICAgICB7fVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwYXNzd29yZFBvbGljeS52YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgfVxuXG4gIF9nZXRQYXNzd29yZFBvbGljeUludGVybmFsKCk6IFBhc3N3b3JkUG9saWN5SW50ZXJuYWwgfCBudWxsIHtcbiAgICBpZiAodGhpcy50ZW5hbnRJZCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Byb2plY3RQYXNzd29yZFBvbGljeTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3RlbmFudFBhc3N3b3JkUG9saWNpZXNbdGhpcy50ZW5hbnRJZF07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX3VwZGF0ZVBhc3N3b3JkUG9saWN5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX2dldFBhc3N3b3JkUG9saWN5KHRoaXMpO1xuXG4gICAgY29uc3QgcGFzc3dvcmRQb2xpY3k6IFBhc3N3b3JkUG9saWN5SW50ZXJuYWwgPSBuZXcgUGFzc3dvcmRQb2xpY3lJbXBsKFxuICAgICAgcmVzcG9uc2VcbiAgICApO1xuXG4gICAgaWYgKHRoaXMudGVuYW50SWQgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuX3Byb2plY3RQYXNzd29yZFBvbGljeSA9IHBhc3N3b3JkUG9saWN5O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl90ZW5hbnRQYXNzd29yZFBvbGljaWVzW3RoaXMudGVuYW50SWRdID0gcGFzc3dvcmRQb2xpY3k7XG4gICAgfVxuICB9XG5cbiAgX2dldFBlcnNpc3RlbmNlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuYXNzZXJ0ZWRQZXJzaXN0ZW5jZS5wZXJzaXN0ZW5jZS50eXBlO1xuICB9XG5cbiAgX3VwZGF0ZUVycm9yTWFwKGVycm9yTWFwOiBBdXRoRXJyb3JNYXApOiB2b2lkIHtcbiAgICB0aGlzLl9lcnJvckZhY3RvcnkgPSBuZXcgRXJyb3JGYWN0b3J5PEF1dGhFcnJvckNvZGUsIEF1dGhFcnJvclBhcmFtcz4oXG4gICAgICAnYXV0aCcsXG4gICAgICAnRmlyZWJhc2UnLFxuICAgICAgKGVycm9yTWFwIGFzIEVycm9yTWFwUmV0cmlldmVyKSgpXG4gICAgKTtcbiAgfVxuXG4gIG9uQXV0aFN0YXRlQ2hhbmdlZChcbiAgICBuZXh0T3JPYnNlcnZlcjogTmV4dE9yT2JzZXJ2ZXI8VXNlcj4sXG4gICAgZXJyb3I/OiBFcnJvckZuLFxuICAgIGNvbXBsZXRlZD86IENvbXBsZXRlRm5cbiAgKTogVW5zdWJzY3JpYmUge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU3RhdGVMaXN0ZW5lcihcbiAgICAgIHRoaXMuYXV0aFN0YXRlU3Vic2NyaXB0aW9uLFxuICAgICAgbmV4dE9yT2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlZFxuICAgICk7XG4gIH1cblxuICBiZWZvcmVBdXRoU3RhdGVDaGFuZ2VkKFxuICAgIGNhbGxiYWNrOiAodXNlcjogVXNlciB8IG51bGwpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuICAgIG9uQWJvcnQ/OiAoKSA9PiB2b2lkXG4gICk6IFVuc3Vic2NyaWJlIHtcbiAgICByZXR1cm4gdGhpcy5iZWZvcmVTdGF0ZVF1ZXVlLnB1c2hDYWxsYmFjayhjYWxsYmFjaywgb25BYm9ydCk7XG4gIH1cblxuICBvbklkVG9rZW5DaGFuZ2VkKFxuICAgIG5leHRPck9ic2VydmVyOiBOZXh0T3JPYnNlcnZlcjxVc2VyPixcbiAgICBlcnJvcj86IEVycm9yRm4sXG4gICAgY29tcGxldGVkPzogQ29tcGxldGVGblxuICApOiBVbnN1YnNjcmliZSB7XG4gICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJTdGF0ZUxpc3RlbmVyKFxuICAgICAgdGhpcy5pZFRva2VuU3Vic2NyaXB0aW9uLFxuICAgICAgbmV4dE9yT2JzZXJ2ZXIsXG4gICAgICBlcnJvcixcbiAgICAgIGNvbXBsZXRlZFxuICAgICk7XG4gIH1cblxuICBhdXRoU3RhdGVSZWFkeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMuY3VycmVudFVzZXIpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLm9uQXV0aFN0YXRlQ2hhbmdlZCgoKSA9PiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV2b2tlcyB0aGUgZ2l2ZW4gYWNjZXNzIHRva2VuLiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyBBcHBsZSBPQXV0aCBhY2Nlc3MgdG9rZW5zLlxuICAgKi9cbiAgYXN5bmMgcmV2b2tlQWNjZXNzVG9rZW4odG9rZW46IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyKSB7XG4gICAgICBjb25zdCBpZFRva2VuID0gYXdhaXQgdGhpcy5jdXJyZW50VXNlci5nZXRJZFRva2VuKCk7XG4gICAgICAvLyBHZW5lcmFsaXplIHRoaXMgdG8gYWNjZXB0IG90aGVyIHByb3ZpZGVycyBvbmNlIHN1cHBvcnRlZC5cbiAgICAgIGNvbnN0IHJlcXVlc3Q6IFJldm9rZVRva2VuUmVxdWVzdCA9IHtcbiAgICAgICAgcHJvdmlkZXJJZDogJ2FwcGxlLmNvbScsXG4gICAgICAgIHRva2VuVHlwZTogVG9rZW5UeXBlLkFDQ0VTU19UT0tFTixcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIGlkVG9rZW5cbiAgICAgIH07XG4gICAgICBpZiAodGhpcy50ZW5hbnRJZCAhPSBudWxsKSB7XG4gICAgICAgIHJlcXVlc3QudGVuYW50SWQgPSB0aGlzLnRlbmFudElkO1xuICAgICAgfVxuICAgICAgYXdhaXQgcmV2b2tlVG9rZW4odGhpcywgcmVxdWVzdCk7XG4gICAgfVxuICB9XG5cbiAgdG9KU09OKCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFwaUtleTogdGhpcy5jb25maWcuYXBpS2V5LFxuICAgICAgYXV0aERvbWFpbjogdGhpcy5jb25maWcuYXV0aERvbWFpbixcbiAgICAgIGFwcE5hbWU6IHRoaXMubmFtZSxcbiAgICAgIGN1cnJlbnRVc2VyOiB0aGlzLl9jdXJyZW50VXNlcj8udG9KU09OKClcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgX3NldFJlZGlyZWN0VXNlcihcbiAgICB1c2VyOiBVc2VySW50ZXJuYWwgfCBudWxsLFxuICAgIHBvcHVwUmVkaXJlY3RSZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByZWRpcmVjdE1hbmFnZXIgPSBhd2FpdCB0aGlzLmdldE9ySW5pdFJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyKFxuICAgICAgcG9wdXBSZWRpcmVjdFJlc29sdmVyXG4gICAgKTtcbiAgICByZXR1cm4gdXNlciA9PT0gbnVsbFxuICAgICAgPyByZWRpcmVjdE1hbmFnZXIucmVtb3ZlQ3VycmVudFVzZXIoKVxuICAgICAgOiByZWRpcmVjdE1hbmFnZXIuc2V0Q3VycmVudFVzZXIodXNlcik7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldE9ySW5pdFJlZGlyZWN0UGVyc2lzdGVuY2VNYW5hZ2VyKFxuICAgIHBvcHVwUmVkaXJlY3RSZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuICApOiBQcm9taXNlPFBlcnNpc3RlbmNlVXNlck1hbmFnZXI+IHtcbiAgICBpZiAoIXRoaXMucmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXIpIHtcbiAgICAgIGNvbnN0IHJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCB8IG51bGwgPVxuICAgICAgICAocG9wdXBSZWRpcmVjdFJlc29sdmVyICYmIF9nZXRJbnN0YW5jZShwb3B1cFJlZGlyZWN0UmVzb2x2ZXIpKSB8fFxuICAgICAgICB0aGlzLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXI7XG4gICAgICBfYXNzZXJ0KHJlc29sdmVyLCB0aGlzLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcbiAgICAgIHRoaXMucmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXIgPSBhd2FpdCBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyLmNyZWF0ZShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgW19nZXRJbnN0YW5jZShyZXNvbHZlci5fcmVkaXJlY3RQZXJzaXN0ZW5jZSldLFxuICAgICAgICBLZXlOYW1lLlJFRElSRUNUX1VTRVJcbiAgICAgICk7XG4gICAgICB0aGlzLnJlZGlyZWN0VXNlciA9XG4gICAgICAgIGF3YWl0IHRoaXMucmVkaXJlY3RQZXJzaXN0ZW5jZU1hbmFnZXIuZ2V0Q3VycmVudFVzZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZWRpcmVjdFBlcnNpc3RlbmNlTWFuYWdlcjtcbiAgfVxuXG4gIGFzeW5jIF9yZWRpcmVjdFVzZXJGb3JJZChpZDogc3RyaW5nKTogUHJvbWlzZTxVc2VySW50ZXJuYWwgfCBudWxsPiB7XG4gICAgLy8gTWFrZSBzdXJlIHdlJ3ZlIGNsZWFyZWQgYW55IHBlbmRpbmcgcGVyc2lzdGVuY2UgYWN0aW9ucyBpZiB3ZSdyZSBub3QgaW5cbiAgICAvLyB0aGUgaW5pdGlhbGl6ZXJcbiAgICBpZiAodGhpcy5faXNJbml0aWFsaXplZCkge1xuICAgICAgYXdhaXQgdGhpcy5xdWV1ZShhc3luYyAoKSA9PiB7fSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRVc2VyPy5fcmVkaXJlY3RFdmVudElkID09PSBpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRVc2VyO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJlZGlyZWN0VXNlcj8uX3JlZGlyZWN0RXZlbnRJZCA9PT0gaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlZGlyZWN0VXNlcjtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGFzeW5jIF9wZXJzaXN0VXNlcklmQ3VycmVudCh1c2VyOiBVc2VySW50ZXJuYWwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodXNlciA9PT0gdGhpcy5jdXJyZW50VXNlcikge1xuICAgICAgcmV0dXJuIHRoaXMucXVldWUoYXN5bmMgKCkgPT4gdGhpcy5kaXJlY3RseVNldEN1cnJlbnRVc2VyKHVzZXIpKTtcbiAgICB9XG4gIH1cblxuICAvKiogTm90aWZpZXMgbGlzdGVuZXJzIG9ubHkgaWYgdGhlIHVzZXIgaXMgY3VycmVudCAqL1xuICBfbm90aWZ5TGlzdGVuZXJzSWZDdXJyZW50KHVzZXI6IFVzZXJJbnRlcm5hbCk6IHZvaWQge1xuICAgIGlmICh1c2VyID09PSB0aGlzLmN1cnJlbnRVc2VyKSB7XG4gICAgICB0aGlzLm5vdGlmeUF1dGhMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cblxuICBfa2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMuY29uZmlnLmF1dGhEb21haW59OiR7dGhpcy5jb25maWcuYXBpS2V5fToke3RoaXMubmFtZX1gO1xuICB9XG5cbiAgX3N0YXJ0UHJvYWN0aXZlUmVmcmVzaCgpOiB2b2lkIHtcbiAgICB0aGlzLmlzUHJvYWN0aXZlUmVmcmVzaEVuYWJsZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyKSB7XG4gICAgICB0aGlzLl9jdXJyZW50VXNlci5fc3RhcnRQcm9hY3RpdmVSZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgX3N0b3BQcm9hY3RpdmVSZWZyZXNoKCk6IHZvaWQge1xuICAgIHRoaXMuaXNQcm9hY3RpdmVSZWZyZXNoRW5hYmxlZCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyKSB7XG4gICAgICB0aGlzLl9jdXJyZW50VXNlci5fc3RvcFByb2FjdGl2ZVJlZnJlc2goKTtcbiAgICB9XG4gIH1cblxuICAvKiogUmV0dXJucyB0aGUgY3VycmVudCB1c2VyIGNhc3QgYXMgdGhlIGludGVybmFsIHR5cGUgKi9cbiAgZ2V0IF9jdXJyZW50VXNlcigpOiBVc2VySW50ZXJuYWwge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRVc2VyIGFzIFVzZXJJbnRlcm5hbDtcbiAgfVxuXG4gIHByaXZhdGUgbm90aWZ5QXV0aExpc3RlbmVycygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlkVG9rZW5TdWJzY3JpcHRpb24ubmV4dCh0aGlzLmN1cnJlbnRVc2VyKTtcblxuICAgIGNvbnN0IGN1cnJlbnRVaWQgPSB0aGlzLmN1cnJlbnRVc2VyPy51aWQgPz8gbnVsbDtcbiAgICBpZiAodGhpcy5sYXN0Tm90aWZpZWRVaWQgIT09IGN1cnJlbnRVaWQpIHtcbiAgICAgIHRoaXMubGFzdE5vdGlmaWVkVWlkID0gY3VycmVudFVpZDtcbiAgICAgIHRoaXMuYXV0aFN0YXRlU3Vic2NyaXB0aW9uLm5leHQodGhpcy5jdXJyZW50VXNlcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3RlclN0YXRlTGlzdGVuZXIoXG4gICAgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb248VXNlcj4sXG4gICAgbmV4dE9yT2JzZXJ2ZXI6IE5leHRPck9ic2VydmVyPFVzZXI+LFxuICAgIGVycm9yPzogRXJyb3JGbixcbiAgICBjb21wbGV0ZWQ/OiBDb21wbGV0ZUZuXG4gICk6IFVuc3Vic2NyaWJlIHtcbiAgICBpZiAodGhpcy5fZGVsZXRlZCkge1xuICAgICAgcmV0dXJuICgpID0+IHt9O1xuICAgIH1cblxuICAgIGNvbnN0IGNiID1cbiAgICAgIHR5cGVvZiBuZXh0T3JPYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IG5leHRPck9ic2VydmVyXG4gICAgICAgIDogbmV4dE9yT2JzZXJ2ZXIubmV4dC5iaW5kKG5leHRPck9ic2VydmVyKTtcblxuICAgIGxldCBpc1Vuc3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuX2lzSW5pdGlhbGl6ZWRcbiAgICAgID8gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIDogdGhpcy5faW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICAgIF9hc3NlcnQocHJvbWlzZSwgdGhpcywgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgLy8gVGhlIGNhbGxiYWNrIG5lZWRzIHRvIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseSBwZXIgdGhlIHNwZWMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICBpZiAoaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2IodGhpcy5jdXJyZW50VXNlcik7XG4gICAgfSk7XG5cbiAgICBpZiAodHlwZW9mIG5leHRPck9ic2VydmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHN1YnNjcmlwdGlvbi5hZGRPYnNlcnZlcihcbiAgICAgICAgbmV4dE9yT2JzZXJ2ZXIsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBjb21wbGV0ZWRcbiAgICAgICk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpc1Vuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHN1YnNjcmlwdGlvbi5hZGRPYnNlcnZlcihuZXh0T3JPYnNlcnZlcik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpc1Vuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVbnByb3RlY3RlZCAoZnJvbSByYWNlIGNvbmRpdGlvbnMpIG1ldGhvZCB0byBzZXQgdGhlIGN1cnJlbnQgdXNlci4gVGhpc1xuICAgKiBzaG91bGQgb25seSBiZSBjYWxsZWQgZnJvbSB3aXRoaW4gYSBxdWV1ZWQgY2FsbGJhY2suIFRoaXMgaXMgbmVjZXNzYXJ5XG4gICAqIGJlY2F1c2UgdGhlIHF1ZXVlIHNob3VsZG4ndCByZWx5IG9uIGFub3RoZXIgcXVldWVkIGNhbGxiYWNrLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBkaXJlY3RseVNldEN1cnJlbnRVc2VyKFxuICAgIHVzZXI6IFVzZXJJbnRlcm5hbCB8IG51bGxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuY3VycmVudFVzZXIgJiYgdGhpcy5jdXJyZW50VXNlciAhPT0gdXNlcikge1xuICAgICAgdGhpcy5fY3VycmVudFVzZXIuX3N0b3BQcm9hY3RpdmVSZWZyZXNoKCk7XG4gICAgfVxuICAgIGlmICh1c2VyICYmIHRoaXMuaXNQcm9hY3RpdmVSZWZyZXNoRW5hYmxlZCkge1xuICAgICAgdXNlci5fc3RhcnRQcm9hY3RpdmVSZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50VXNlciA9IHVzZXI7XG5cbiAgICBpZiAodXNlcikge1xuICAgICAgYXdhaXQgdGhpcy5hc3NlcnRlZFBlcnNpc3RlbmNlLnNldEN1cnJlbnRVc2VyKHVzZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLmFzc2VydGVkUGVyc2lzdGVuY2UucmVtb3ZlQ3VycmVudFVzZXIoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHF1ZXVlKGFjdGlvbjogQXN5bmNBY3Rpb24pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBJbiBjYXNlIHNvbWV0aGluZyBlcnJvcnMsIHRoZSBjYWxsYmFjayBzdGlsbCBzaG91bGQgYmUgY2FsbGVkIGluIG9yZGVyXG4gICAgLy8gdG8ga2VlcCB0aGUgcHJvbWlzZSBjaGFpbiBhbGl2ZVxuICAgIHRoaXMub3BlcmF0aW9ucyA9IHRoaXMub3BlcmF0aW9ucy50aGVuKGFjdGlvbiwgYWN0aW9uKTtcbiAgICByZXR1cm4gdGhpcy5vcGVyYXRpb25zO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgYXNzZXJ0ZWRQZXJzaXN0ZW5jZSgpOiBQZXJzaXN0ZW5jZVVzZXJNYW5hZ2VyIHtcbiAgICBfYXNzZXJ0KHRoaXMucGVyc2lzdGVuY2VNYW5hZ2VyLCB0aGlzLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZU1hbmFnZXI7XG4gIH1cblxuICBwcml2YXRlIGZyYW1ld29ya3M6IHN0cmluZ1tdID0gW107XG4gIHByaXZhdGUgY2xpZW50VmVyc2lvbjogc3RyaW5nO1xuICBfbG9nRnJhbWV3b3JrKGZyYW1ld29yazogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCFmcmFtZXdvcmsgfHwgdGhpcy5mcmFtZXdvcmtzLmluY2x1ZGVzKGZyYW1ld29yaykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5mcmFtZXdvcmtzLnB1c2goZnJhbWV3b3JrKTtcblxuICAgIC8vIFNvcnQgYWxwaGFiZXRpY2FsbHkgc28gdGhhdCBcIkZpcmViYXNlQ29yZS13ZWIsRmlyZWJhc2VVSS13ZWJcIiBhbmRcbiAgICAvLyBcIkZpcmViYXNlVUktd2ViLEZpcmViYXNlQ29yZS13ZWJcIiBhcmVuJ3Qgdmlld2VkIGFzIGRpZmZlcmVudC5cbiAgICB0aGlzLmZyYW1ld29ya3Muc29ydCgpO1xuICAgIHRoaXMuY2xpZW50VmVyc2lvbiA9IF9nZXRDbGllbnRWZXJzaW9uKFxuICAgICAgdGhpcy5jb25maWcuY2xpZW50UGxhdGZvcm0sXG4gICAgICB0aGlzLl9nZXRGcmFtZXdvcmtzKClcbiAgICApO1xuICB9XG4gIF9nZXRGcmFtZXdvcmtzKCk6IHJlYWRvbmx5IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5mcmFtZXdvcmtzO1xuICB9XG4gIGFzeW5jIF9nZXRBZGRpdGlvbmFsSGVhZGVycygpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+IHtcbiAgICAvLyBBZGRpdGlvbmFsIGhlYWRlcnMgb24gZXZlcnkgcmVxdWVzdFxuICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBbSHR0cEhlYWRlci5YX0NMSUVOVF9WRVJTSU9OXTogdGhpcy5jbGllbnRWZXJzaW9uXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmFwcC5vcHRpb25zLmFwcElkKSB7XG4gICAgICBoZWFkZXJzW0h0dHBIZWFkZXIuWF9GSVJFQkFTRV9HTVBJRF0gPSB0aGlzLmFwcC5vcHRpb25zLmFwcElkO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBoZWFydGJlYXQgc2VydmljZSBleGlzdHMsIGFkZCB0aGUgaGVhcnRiZWF0IHN0cmluZ1xuICAgIGNvbnN0IGhlYXJ0YmVhdHNIZWFkZXIgPSBhd2FpdCB0aGlzLmhlYXJ0YmVhdFNlcnZpY2VQcm92aWRlclxuICAgICAgLmdldEltbWVkaWF0ZSh7XG4gICAgICAgIG9wdGlvbmFsOiB0cnVlXG4gICAgICB9KVxuICAgICAgPy5nZXRIZWFydGJlYXRzSGVhZGVyKCk7XG4gICAgaWYgKGhlYXJ0YmVhdHNIZWFkZXIpIHtcbiAgICAgIGhlYWRlcnNbSHR0cEhlYWRlci5YX0ZJUkVCQVNFX0NMSUVOVF0gPSBoZWFydGJlYXRzSGVhZGVyO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBBcHAgQ2hlY2sgc2VydmljZSBleGlzdHMsIGFkZCB0aGUgQXBwIENoZWNrIHRva2VuIGluIHRoZSBoZWFkZXJzXG4gICAgY29uc3QgYXBwQ2hlY2tUb2tlbiA9IGF3YWl0IHRoaXMuX2dldEFwcENoZWNrVG9rZW4oKTtcbiAgICBpZiAoYXBwQ2hlY2tUb2tlbikge1xuICAgICAgaGVhZGVyc1tIdHRwSGVhZGVyLlhfRklSRUJBU0VfQVBQX0NIRUNLXSA9IGFwcENoZWNrVG9rZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIH1cblxuICBhc3luYyBfZ2V0QXBwQ2hlY2tUb2tlbigpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IGFwcENoZWNrVG9rZW5SZXN1bHQgPSBhd2FpdCB0aGlzLmFwcENoZWNrU2VydmljZVByb3ZpZGVyXG4gICAgICAuZ2V0SW1tZWRpYXRlKHsgb3B0aW9uYWw6IHRydWUgfSlcbiAgICAgID8uZ2V0VG9rZW4oKTtcbiAgICBpZiAoYXBwQ2hlY2tUb2tlblJlc3VsdD8uZXJyb3IpIHtcbiAgICAgIC8vIENvbnRleHQ6IGFwcENoZWNrLmdldFRva2VuKCkgd2lsbCBuZXZlciB0aHJvdyBldmVuIGlmIGFuIGVycm9yIGhhcHBlbmVkLlxuICAgICAgLy8gSW4gdGhlIGVycm9yIGNhc2UsIGEgZHVtbXkgdG9rZW4gd2lsbCBiZSByZXR1cm5lZCBhbG9uZyB3aXRoIGFuIGVycm9yIGZpZWxkIGRlc2NyaWJpbmdcbiAgICAgIC8vIHRoZSBlcnJvci4gSW4gZ2VuZXJhbCwgd2Ugc2hvdWxkbid0IGNhcmUgYWJvdXQgdGhlIGVycm9yIGNvbmRpdGlvbiBhbmQganVzdCB1c2VcbiAgICAgIC8vIHRoZSB0b2tlbiAoYWN0dWFsIG9yIGR1bW15KSB0byBzZW5kIHJlcXVlc3RzLlxuICAgICAgX2xvZ1dhcm4oXG4gICAgICAgIGBFcnJvciB3aGlsZSByZXRyaWV2aW5nIEFwcCBDaGVjayB0b2tlbjogJHthcHBDaGVja1Rva2VuUmVzdWx0LmVycm9yfWBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBhcHBDaGVja1Rva2VuUmVzdWx0Py50b2tlbjtcbiAgfVxufVxuXG4vKipcbiAqIE1ldGhvZCB0byBiZSB1c2VkIHRvIGNhc3QgZG93biB0byBvdXIgcHJpdmF0ZSBpbXBsZW1lbnRhdGlvbiBvZiBBdXRoLlxuICogSXQgd2lsbCBhbHNvIGhhbmRsZSB1bndyYXBwaW5nIGZyb20gdGhlIGNvbXBhdCB0eXBlIGlmIG5lY2Vzc2FyeVxuICpcbiAqIEBwYXJhbSBhdXRoIEF1dGggb2JqZWN0IHBhc3NlZCBpbiBmcm9tIGRldmVsb3BlclxuICovXG5leHBvcnQgZnVuY3Rpb24gX2Nhc3RBdXRoKGF1dGg6IEF1dGgpOiBBdXRoSW50ZXJuYWwge1xuICByZXR1cm4gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpIGFzIEF1dGhJbnRlcm5hbDtcbn1cblxuLyoqIEhlbHBlciBjbGFzcyB0byB3cmFwIHN1YnNjcmliZXIgbG9naWMgKi9cbmNsYXNzIFN1YnNjcmlwdGlvbjxUPiB7XG4gIHByaXZhdGUgb2JzZXJ2ZXI6IE9ic2VydmVyPFQgfCBudWxsPiB8IG51bGwgPSBudWxsO1xuICByZWFkb25seSBhZGRPYnNlcnZlcjogU3Vic2NyaWJlPFQgfCBudWxsPiA9IGNyZWF0ZVN1YnNjcmliZShcbiAgICBvYnNlcnZlciA9PiAodGhpcy5vYnNlcnZlciA9IG9ic2VydmVyKVxuICApO1xuXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbCkge31cblxuICBnZXQgbmV4dCgpOiBOZXh0Rm48VCB8IG51bGw+IHtcbiAgICBfYXNzZXJ0KHRoaXMub2JzZXJ2ZXIsIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXIubmV4dC5iaW5kKHRoaXMub2JzZXJ2ZXIpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW50ZXJmYWNlIEV4dGVybmFsSlNQcm92aWRlciB7XG4gIGxvYWRKUyh1cmw6IHN0cmluZyk6IFByb21pc2U8RXZlbnQ+O1xuICByZWNhcHRjaGFWMlNjcmlwdDogc3RyaW5nO1xuICByZWNhcHRjaGFFbnRlcnByaXNlU2NyaXB0OiBzdHJpbmc7XG4gIGdhcGlTY3JpcHQ6IHN0cmluZztcbn1cblxubGV0IGV4dGVybmFsSlNQcm92aWRlcjogRXh0ZXJuYWxKU1Byb3ZpZGVyID0ge1xuICBhc3luYyBsb2FkSlMoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gbG9hZCBleHRlcm5hbCBzY3JpcHRzJyk7XG4gIH0sXG5cbiAgcmVjYXB0Y2hhVjJTY3JpcHQ6ICcnLFxuICByZWNhcHRjaGFFbnRlcnByaXNlU2NyaXB0OiAnJyxcbiAgZ2FwaVNjcmlwdDogJydcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfc2V0RXh0ZXJuYWxKU1Byb3ZpZGVyKHA6IEV4dGVybmFsSlNQcm92aWRlcik6IHZvaWQge1xuICBleHRlcm5hbEpTUHJvdmlkZXIgPSBwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2xvYWRKUyh1cmw6IHN0cmluZyk6IFByb21pc2U8RXZlbnQ+IHtcbiAgcmV0dXJuIGV4dGVybmFsSlNQcm92aWRlci5sb2FkSlModXJsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9yZWNhcHRjaGFWMlNjcmlwdFVybCgpOiBzdHJpbmcge1xuICByZXR1cm4gZXh0ZXJuYWxKU1Byb3ZpZGVyLnJlY2FwdGNoYVYyU2NyaXB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3JlY2FwdGNoYUVudGVycHJpc2VTY3JpcHRVcmwoKTogc3RyaW5nIHtcbiAgcmV0dXJuIGV4dGVybmFsSlNQcm92aWRlci5yZWNhcHRjaGFFbnRlcnByaXNlU2NyaXB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2dhcGlTY3JpcHRVcmwoKTogc3RyaW5nIHtcbiAgcmV0dXJuIGV4dGVybmFsSlNQcm92aWRlci5nYXBpU2NyaXB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX2dlbmVyYXRlQ2FsbGJhY2tOYW1lKHByZWZpeDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBfXyR7cHJlZml4fSR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCl9YDtcbn1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVxdWlyZS1pbXBvcnRzICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBpc0VudGVycHJpc2UsIFJlY2FwdGNoYUNvbmZpZyB9IGZyb20gJy4vcmVjYXB0Y2hhJztcbmltcG9ydCB7IGdldFJlY2FwdGNoYUNvbmZpZyB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9yZWNhcHRjaGEnO1xuaW1wb3J0IHtcbiAgUmVjYXB0Y2hhQ2xpZW50VHlwZSxcbiAgUmVjYXB0Y2hhVmVyc2lvbixcbiAgUmVjYXB0Y2hhQWN0aW9uTmFtZSxcbiAgUmVjYXB0Y2hhUHJvdmlkZXJcbn0gZnJvbSAnLi4vLi4vYXBpJztcblxuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uLy4uL2NvcmUvYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0ICogYXMganNIZWxwZXJzIGZyb20gJy4uL2xvYWRfanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcblxuZXhwb3J0IGNvbnN0IFJFQ0FQVENIQV9FTlRFUlBSSVNFX1ZFUklGSUVSX1RZUEUgPSAncmVjYXB0Y2hhLWVudGVycHJpc2UnO1xuZXhwb3J0IGNvbnN0IEZBS0VfVE9LRU4gPSAnTk9fUkVDQVBUQ0hBJztcblxuZXhwb3J0IGNsYXNzIFJlY2FwdGNoYUVudGVycHJpc2VWZXJpZmllciB7XG4gIC8qKlxuICAgKiBJZGVudGlmaWVzIHRoZSB0eXBlIG9mIGFwcGxpY2F0aW9uIHZlcmlmaWVyIChlLmcuIFwicmVjYXB0Y2hhLWVudGVycHJpc2VcIikuXG4gICAqL1xuICByZWFkb25seSB0eXBlID0gUkVDQVBUQ0hBX0VOVEVSUFJJU0VfVkVSSUZJRVJfVFlQRTtcblxuICBwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbDtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGF1dGhFeHRlcm4gLSBUaGUgY29ycmVzcG9uZGluZyBGaXJlYmFzZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gICAqXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhdXRoRXh0ZXJuOiBBdXRoKSB7XG4gICAgdGhpcy5hdXRoID0gX2Nhc3RBdXRoKGF1dGhFeHRlcm4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSB2ZXJpZmljYXRpb24gcHJvY2Vzcy5cbiAgICpcbiAgICogQHJldHVybnMgQSBQcm9taXNlIGZvciBhIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gYXNzZXJ0IHRoZSB2YWxpZGl0eSBvZiBhIHJlcXVlc3QuXG4gICAqL1xuICBhc3luYyB2ZXJpZnkoXG4gICAgYWN0aW9uOiBzdHJpbmcgPSAndmVyaWZ5JyxcbiAgICBmb3JjZVJlZnJlc2ggPSBmYWxzZVxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGFzeW5jIGZ1bmN0aW9uIHJldHJpZXZlU2l0ZUtleShhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgaWYgKCFmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgaWYgKGF1dGgudGVuYW50SWQgPT0gbnVsbCAmJiBhdXRoLl9hZ2VudFJlY2FwdGNoYUNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGF1dGguX2FnZW50UmVjYXB0Y2hhQ29uZmlnLnNpdGVLZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGF1dGgudGVuYW50SWQgIT0gbnVsbCAmJlxuICAgICAgICAgIGF1dGguX3RlbmFudFJlY2FwdGNoYUNvbmZpZ3NbYXV0aC50ZW5hbnRJZF0gIT09IHVuZGVmaW5lZFxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gYXV0aC5fdGVuYW50UmVjYXB0Y2hhQ29uZmlnc1thdXRoLnRlbmFudElkXS5zaXRlS2V5O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgZ2V0UmVjYXB0Y2hhQ29uZmlnKGF1dGgsIHtcbiAgICAgICAgICBjbGllbnRUeXBlOiBSZWNhcHRjaGFDbGllbnRUeXBlLldFQixcbiAgICAgICAgICB2ZXJzaW9uOiBSZWNhcHRjaGFWZXJzaW9uLkVOVEVSUFJJU0VcbiAgICAgICAgfSlcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UucmVjYXB0Y2hhS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcigncmVjYXB0Y2hhIEVudGVycHJpc2Ugc2l0ZSBrZXkgdW5kZWZpbmVkJykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbmV3IFJlY2FwdGNoYUNvbmZpZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgIGlmIChhdXRoLnRlbmFudElkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdXRoLl9hZ2VudFJlY2FwdGNoYUNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdXRoLl90ZW5hbnRSZWNhcHRjaGFDb25maWdzW2F1dGgudGVuYW50SWRdID0gY29uZmlnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGNvbmZpZy5zaXRlS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmV0cmlldmVSZWNhcHRjaGFUb2tlbihcbiAgICAgIHNpdGVLZXk6IHN0cmluZyxcbiAgICAgIHJlc29sdmU6ICh2YWx1ZTogc3RyaW5nIHwgUHJvbWlzZUxpa2U8c3RyaW5nPikgPT4gdm9pZCxcbiAgICAgIHJlamVjdDogKHJlYXNvbj86IHVua25vd24pID0+IHZvaWRcbiAgICApOiB2b2lkIHtcbiAgICAgIGNvbnN0IGdyZWNhcHRjaGEgPSB3aW5kb3cuZ3JlY2FwdGNoYTtcbiAgICAgIGlmIChpc0VudGVycHJpc2UoZ3JlY2FwdGNoYSkpIHtcbiAgICAgICAgZ3JlY2FwdGNoYS5lbnRlcnByaXNlLnJlYWR5KCgpID0+IHtcbiAgICAgICAgICBncmVjYXB0Y2hhLmVudGVycHJpc2VcbiAgICAgICAgICAgIC5leGVjdXRlKHNpdGVLZXksIHsgYWN0aW9uIH0pXG4gICAgICAgICAgICAudGhlbih0b2tlbiA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUodG9rZW4pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoRkFLRV9UT0tFTik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWplY3QoRXJyb3IoJ05vIHJlQ0FQVENIQSBlbnRlcnByaXNlIHNjcmlwdCBsb2FkZWQuJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHJldHJpZXZlU2l0ZUtleSh0aGlzLmF1dGgpXG4gICAgICAgIC50aGVuKHNpdGVLZXkgPT4ge1xuICAgICAgICAgIGlmICghZm9yY2VSZWZyZXNoICYmIGlzRW50ZXJwcmlzZSh3aW5kb3cuZ3JlY2FwdGNoYSkpIHtcbiAgICAgICAgICAgIHJldHJpZXZlUmVjYXB0Y2hhVG9rZW4oc2l0ZUtleSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHJlamVjdChcbiAgICAgICAgICAgICAgICBuZXcgRXJyb3IoJ1JlY2FwdGNoYVZlcmlmaWVyIGlzIG9ubHkgc3VwcG9ydGVkIGluIGJyb3dzZXInKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdXJsID0ganNIZWxwZXJzLl9yZWNhcHRjaGFFbnRlcnByaXNlU2NyaXB0VXJsKCk7XG4gICAgICAgICAgICBpZiAodXJsLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICB1cmwgKz0gc2l0ZUtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGpzSGVscGVyc1xuICAgICAgICAgICAgICAuX2xvYWRKUyh1cmwpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXRyaWV2ZVJlY2FwdGNoYVRva2VuKHNpdGVLZXksIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbmplY3RSZWNhcHRjaGFGaWVsZHM8VD4oXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgcmVxdWVzdDogVCxcbiAgYWN0aW9uOiBSZWNhcHRjaGFBY3Rpb25OYW1lLFxuICBjYXB0Y2hhUmVzcCA9IGZhbHNlXG4pOiBQcm9taXNlPFQ+IHtcbiAgY29uc3QgdmVyaWZpZXIgPSBuZXcgUmVjYXB0Y2hhRW50ZXJwcmlzZVZlcmlmaWVyKGF1dGgpO1xuICBsZXQgY2FwdGNoYVJlc3BvbnNlO1xuICB0cnkge1xuICAgIGNhcHRjaGFSZXNwb25zZSA9IGF3YWl0IHZlcmlmaWVyLnZlcmlmeShhY3Rpb24pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNhcHRjaGFSZXNwb25zZSA9IGF3YWl0IHZlcmlmaWVyLnZlcmlmeShhY3Rpb24sIHRydWUpO1xuICB9XG4gIGNvbnN0IG5ld1JlcXVlc3QgPSB7IC4uLnJlcXVlc3QgfTtcbiAgaWYgKCFjYXB0Y2hhUmVzcCkge1xuICAgIE9iamVjdC5hc3NpZ24obmV3UmVxdWVzdCwgeyBjYXB0Y2hhUmVzcG9uc2UgfSk7XG4gIH0gZWxzZSB7XG4gICAgT2JqZWN0LmFzc2lnbihuZXdSZXF1ZXN0LCB7ICdjYXB0Y2hhUmVzcCc6IGNhcHRjaGFSZXNwb25zZSB9KTtcbiAgfVxuICBPYmplY3QuYXNzaWduKG5ld1JlcXVlc3QsIHsgJ2NsaWVudFR5cGUnOiBSZWNhcHRjaGFDbGllbnRUeXBlLldFQiB9KTtcbiAgT2JqZWN0LmFzc2lnbihuZXdSZXF1ZXN0LCB7XG4gICAgJ3JlY2FwdGNoYVZlcnNpb24nOiBSZWNhcHRjaGFWZXJzaW9uLkVOVEVSUFJJU0VcbiAgfSk7XG4gIHJldHVybiBuZXdSZXF1ZXN0O1xufVxuXG50eXBlIEFjdGlvbk1ldGhvZDxUUmVxdWVzdCwgVFJlc3BvbnNlPiA9IChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogVFJlcXVlc3RcbikgPT4gUHJvbWlzZTxUUmVzcG9uc2U+O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVjYXB0Y2hhRmxvdzxUUmVxdWVzdCwgVFJlc3BvbnNlPihcbiAgYXV0aEluc3RhbmNlOiBBdXRoSW50ZXJuYWwsXG4gIHJlcXVlc3Q6IFRSZXF1ZXN0LFxuICBhY3Rpb25OYW1lOiBSZWNhcHRjaGFBY3Rpb25OYW1lLFxuICBhY3Rpb25NZXRob2Q6IEFjdGlvbk1ldGhvZDxUUmVxdWVzdCwgVFJlc3BvbnNlPlxuKTogUHJvbWlzZTxUUmVzcG9uc2U+IHtcbiAgaWYgKFxuICAgIGF1dGhJbnN0YW5jZVxuICAgICAgLl9nZXRSZWNhcHRjaGFDb25maWcoKVxuICAgICAgPy5pc1Byb3ZpZGVyRW5hYmxlZChSZWNhcHRjaGFQcm92aWRlci5FTUFJTF9QQVNTV09SRF9QUk9WSURFUilcbiAgKSB7XG4gICAgY29uc3QgcmVxdWVzdFdpdGhSZWNhcHRjaGEgPSBhd2FpdCBpbmplY3RSZWNhcHRjaGFGaWVsZHMoXG4gICAgICBhdXRoSW5zdGFuY2UsXG4gICAgICByZXF1ZXN0LFxuICAgICAgYWN0aW9uTmFtZSxcbiAgICAgIGFjdGlvbk5hbWUgPT09IFJlY2FwdGNoYUFjdGlvbk5hbWUuR0VUX09PQl9DT0RFXG4gICAgKTtcbiAgICByZXR1cm4gYWN0aW9uTWV0aG9kKGF1dGhJbnN0YW5jZSwgcmVxdWVzdFdpdGhSZWNhcHRjaGEpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhY3Rpb25NZXRob2QoYXV0aEluc3RhbmNlLCByZXF1ZXN0KS5jYXRjaChhc3luYyBlcnJvciA9PiB7XG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gYGF1dGgvJHtBdXRoRXJyb3JDb2RlLk1JU1NJTkdfUkVDQVBUQ0hBX1RPS0VOfWApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYCR7YWN0aW9uTmFtZX0gaXMgcHJvdGVjdGVkIGJ5IHJlQ0FQVENIQSBFbnRlcnByaXNlIGZvciB0aGlzIHByb2plY3QuIEF1dG9tYXRpY2FsbHkgdHJpZ2dlcmluZyB0aGUgcmVDQVBUQ0hBIGZsb3cgYW5kIHJlc3RhcnRpbmcgdGhlIGZsb3cuYFxuICAgICAgICApO1xuICAgICAgICBjb25zdCByZXF1ZXN0V2l0aFJlY2FwdGNoYSA9IGF3YWl0IGluamVjdFJlY2FwdGNoYUZpZWxkcyhcbiAgICAgICAgICBhdXRoSW5zdGFuY2UsXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBhY3Rpb25OYW1lLFxuICAgICAgICAgIGFjdGlvbk5hbWUgPT09IFJlY2FwdGNoYUFjdGlvbk5hbWUuR0VUX09PQl9DT0RFXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBhY3Rpb25NZXRob2QoYXV0aEluc3RhbmNlLCByZXF1ZXN0V2l0aFJlY2FwdGNoYSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfaW5pdGlhbGl6ZVJlY2FwdGNoYUNvbmZpZyhhdXRoOiBBdXRoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFJlY2FwdGNoYUNvbmZpZyhhdXRoSW50ZXJuYWwsIHtcbiAgICBjbGllbnRUeXBlOiBSZWNhcHRjaGFDbGllbnRUeXBlLldFQixcbiAgICB2ZXJzaW9uOiBSZWNhcHRjaGFWZXJzaW9uLkVOVEVSUFJJU0VcbiAgfSk7XG5cbiAgY29uc3QgY29uZmlnID0gbmV3IFJlY2FwdGNoYUNvbmZpZyhyZXNwb25zZSk7XG4gIGlmIChhdXRoSW50ZXJuYWwudGVuYW50SWQgPT0gbnVsbCkge1xuICAgIGF1dGhJbnRlcm5hbC5fYWdlbnRSZWNhcHRjaGFDb25maWcgPSBjb25maWc7XG4gIH0gZWxzZSB7XG4gICAgYXV0aEludGVybmFsLl90ZW5hbnRSZWNhcHRjaGFDb25maWdzW2F1dGhJbnRlcm5hbC50ZW5hbnRJZF0gPSBjb25maWc7XG4gIH1cblxuICBpZiAoY29uZmlnLmlzUHJvdmlkZXJFbmFibGVkKFJlY2FwdGNoYVByb3ZpZGVyLkVNQUlMX1BBU1NXT1JEX1BST1ZJREVSKSkge1xuICAgIGNvbnN0IHZlcmlmaWVyID0gbmV3IFJlY2FwdGNoYUVudGVycHJpc2VWZXJpZmllcihhdXRoSW50ZXJuYWwpO1xuICAgIHZvaWQgdmVyaWZpZXIudmVyaWZ5KCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBfZ2V0UHJvdmlkZXIsIEZpcmViYXNlQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBkZWVwRXF1YWwgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBBdXRoLCBEZXBlbmRlbmNpZXMgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFBlcnNpc3RlbmNlSW50ZXJuYWwgfSBmcm9tICcuLi9wZXJzaXN0ZW5jZSc7XG5pbXBvcnQgeyBfZmFpbCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9nZXRJbnN0YW5jZSB9IGZyb20gJy4uL3V0aWwvaW5zdGFudGlhdG9yJztcbmltcG9ydCB7IEF1dGhJbXBsIH0gZnJvbSAnLi9hdXRoX2ltcGwnO1xuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuIHtAbGluayBBdXRofSBpbnN0YW5jZSB3aXRoIGZpbmUtZ3JhaW5lZCBjb250cm9sIG92ZXJcbiAqIHtAbGluayBEZXBlbmRlbmNpZXN9LlxuICpcbiAqIEByZW1hcmtzXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhbGxvd3MgbW9yZSBjb250cm9sIG92ZXIgdGhlIHtAbGluayBBdXRofSBpbnN0YW5jZSB0aGFuXG4gKiB7QGxpbmsgZ2V0QXV0aH0uIGBnZXRBdXRoYCB1c2VzIHBsYXRmb3JtLXNwZWNpZmljIGRlZmF1bHRzIHRvIHN1cHBseVxuICogdGhlIHtAbGluayBEZXBlbmRlbmNpZXN9LiBJbiBnZW5lcmFsLCBgZ2V0QXV0aGAgaXMgdGhlIGVhc2llc3Qgd2F5IHRvXG4gKiBpbml0aWFsaXplIEF1dGggYW5kIHdvcmtzIGZvciBtb3N0IHVzZSBjYXNlcy4gVXNlIGBpbml0aWFsaXplQXV0aGAgaWYgeW91XG4gKiBuZWVkIGNvbnRyb2wgb3ZlciB3aGljaCBwZXJzaXN0ZW5jZSBsYXllciBpcyB1c2VkLCBvciB0byBtaW5pbWl6ZSBidW5kbGVcbiAqIHNpemUgaWYgeW91J3JlIG5vdCB1c2luZyBlaXRoZXIgYHNpZ25JbldpdGhQb3B1cGAgb3IgYHNpZ25JbldpdGhSZWRpcmVjdGAuXG4gKlxuICogRm9yIGV4YW1wbGUsIGlmIHlvdXIgYXBwIG9ubHkgdXNlcyBhbm9ueW1vdXMgYWNjb3VudHMgYW5kIHlvdSBvbmx5IHdhbnRcbiAqIGFjY291bnRzIHNhdmVkIGZvciB0aGUgY3VycmVudCBzZXNzaW9uLCBpbml0aWFsaXplIGBBdXRoYCB3aXRoOlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBhdXRoID0gaW5pdGlhbGl6ZUF1dGgoYXBwLCB7XG4gKiAgIHBlcnNpc3RlbmNlOiBicm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlLFxuICogICBwb3B1cFJlZGlyZWN0UmVzb2x2ZXI6IHVuZGVmaW5lZCxcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUF1dGgoYXBwOiBGaXJlYmFzZUFwcCwgZGVwcz86IERlcGVuZGVuY2llcyk6IEF1dGgge1xuICBjb25zdCBwcm92aWRlciA9IF9nZXRQcm92aWRlcihhcHAsICdhdXRoJyk7XG5cbiAgaWYgKHByb3ZpZGVyLmlzSW5pdGlhbGl6ZWQoKSkge1xuICAgIGNvbnN0IGF1dGggPSBwcm92aWRlci5nZXRJbW1lZGlhdGUoKSBhcyBBdXRoSW1wbDtcbiAgICBjb25zdCBpbml0aWFsT3B0aW9ucyA9IHByb3ZpZGVyLmdldE9wdGlvbnMoKSBhcyBEZXBlbmRlbmNpZXM7XG4gICAgaWYgKGRlZXBFcXVhbChpbml0aWFsT3B0aW9ucywgZGVwcyA/PyB7fSkpIHtcbiAgICAgIHJldHVybiBhdXRoO1xuICAgIH0gZWxzZSB7XG4gICAgICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLkFMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGF1dGggPSBwcm92aWRlci5pbml0aWFsaXplKHsgb3B0aW9uczogZGVwcyB9KSBhcyBBdXRoSW1wbDtcblxuICByZXR1cm4gYXV0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9pbml0aWFsaXplQXV0aEluc3RhbmNlKFxuICBhdXRoOiBBdXRoSW1wbCxcbiAgZGVwcz86IERlcGVuZGVuY2llc1xuKTogdm9pZCB7XG4gIGNvbnN0IHBlcnNpc3RlbmNlID0gZGVwcz8ucGVyc2lzdGVuY2UgfHwgW107XG4gIGNvbnN0IGhpZXJhcmNoeSA9IChcbiAgICBBcnJheS5pc0FycmF5KHBlcnNpc3RlbmNlKSA/IHBlcnNpc3RlbmNlIDogW3BlcnNpc3RlbmNlXVxuICApLm1hcDxQZXJzaXN0ZW5jZUludGVybmFsPihfZ2V0SW5zdGFuY2UpO1xuICBpZiAoZGVwcz8uZXJyb3JNYXApIHtcbiAgICBhdXRoLl91cGRhdGVFcnJvck1hcChkZXBzLmVycm9yTWFwKTtcbiAgfVxuXG4gIC8vIFRoaXMgcHJvbWlzZSBpcyBpbnRlbmRlZCB0byBmbG9hdDsgYXV0aCBpbml0aWFsaXphdGlvbiBoYXBwZW5zIGluIHRoZVxuICAvLyBiYWNrZ3JvdW5kLCBtZWFud2hpbGUgdGhlIGF1dGggb2JqZWN0IG1heSBiZSB1c2VkIGJ5IHRoZSBhcHAuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcbiAgYXV0aC5faW5pdGlhbGl6ZVdpdGhQZXJzaXN0ZW5jZShoaWVyYXJjaHksIGRlcHM/LnBvcHVwUmVkaXJlY3RSZXNvbHZlcik7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi9hdXRoX2ltcGwnO1xuXG4vKipcbiAqIENoYW5nZXMgdGhlIHtAbGluayBBdXRofSBpbnN0YW5jZSB0byBjb21tdW5pY2F0ZSB3aXRoIHRoZSBGaXJlYmFzZSBBdXRoIEVtdWxhdG9yLCBpbnN0ZWFkIG9mIHByb2R1Y3Rpb25cbiAqIEZpcmViYXNlIEF1dGggc2VydmljZXMuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgbXVzdCBiZSBjYWxsZWQgc3luY2hyb25vdXNseSBpbW1lZGlhdGVseSBmb2xsb3dpbmcgdGhlIGZpcnN0IGNhbGwgdG9cbiAqIHtAbGluayBpbml0aWFsaXplQXV0aH0uICBEbyBub3QgdXNlIHdpdGggcHJvZHVjdGlvbiBjcmVkZW50aWFscyBhcyBlbXVsYXRvclxuICogdHJhZmZpYyBpcyBub3QgZW5jcnlwdGVkLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29ubmVjdEF1dGhFbXVsYXRvcihhdXRoLCAnaHR0cDovLzEyNy4wLjAuMTo5MDk5JywgeyBkaXNhYmxlV2FybmluZ3M6IHRydWUgfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gdXJsIC0gVGhlIFVSTCBhdCB3aGljaCB0aGUgZW11bGF0b3IgaXMgcnVubmluZyAoZWcsICdodHRwOi8vbG9jYWxob3N0OjkwOTknKS5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwuIGBvcHRpb25zLmRpc2FibGVXYXJuaW5nc2AgZGVmYXVsdHMgdG8gYGZhbHNlYC4gU2V0IGl0IHRvXG4gKiBgdHJ1ZWAgdG8gZGlzYWJsZSB0aGUgd2FybmluZyBiYW5uZXIgYXR0YWNoZWQgdG8gdGhlIERPTS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0QXV0aEVtdWxhdG9yKFxuICBhdXRoOiBBdXRoLFxuICB1cmw6IHN0cmluZyxcbiAgb3B0aW9ucz86IHsgZGlzYWJsZVdhcm5pbmdzOiBib29sZWFuIH1cbik6IHZvaWQge1xuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIF9hc3NlcnQoXG4gICAgYXV0aEludGVybmFsLl9jYW5Jbml0RW11bGF0b3IsXG4gICAgYXV0aEludGVybmFsLFxuICAgIEF1dGhFcnJvckNvZGUuRU1VTEFUT1JfQ09ORklHX0ZBSUxFRFxuICApO1xuXG4gIF9hc3NlcnQoXG4gICAgL15odHRwcz86XFwvXFwvLy50ZXN0KHVybCksXG4gICAgYXV0aEludGVybmFsLFxuICAgIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9FTVVMQVRPUl9TQ0hFTUVcbiAgKTtcblxuICBjb25zdCBkaXNhYmxlV2FybmluZ3MgPSAhIW9wdGlvbnM/LmRpc2FibGVXYXJuaW5ncztcblxuICBjb25zdCBwcm90b2NvbCA9IGV4dHJhY3RQcm90b2NvbCh1cmwpO1xuICBjb25zdCB7IGhvc3QsIHBvcnQgfSA9IGV4dHJhY3RIb3N0QW5kUG9ydCh1cmwpO1xuICBjb25zdCBwb3J0U3RyID0gcG9ydCA9PT0gbnVsbCA/ICcnIDogYDoke3BvcnR9YDtcblxuICAvLyBBbHdheXMgcmVwbGFjZSBwYXRoIHdpdGggXCIvXCIgKGV2ZW4gaWYgaW5wdXQgdXJsIGhhZCBubyBwYXRoIGF0IGFsbCwgb3IgaGFkIGEgZGlmZmVyZW50IG9uZSkuXG4gIGF1dGhJbnRlcm5hbC5jb25maWcuZW11bGF0b3IgPSB7IHVybDogYCR7cHJvdG9jb2x9Ly8ke2hvc3R9JHtwb3J0U3RyfS9gIH07XG4gIGF1dGhJbnRlcm5hbC5zZXR0aW5ncy5hcHBWZXJpZmljYXRpb25EaXNhYmxlZEZvclRlc3RpbmcgPSB0cnVlO1xuICBhdXRoSW50ZXJuYWwuZW11bGF0b3JDb25maWcgPSBPYmplY3QuZnJlZXplKHtcbiAgICBob3N0LFxuICAgIHBvcnQsXG4gICAgcHJvdG9jb2w6IHByb3RvY29sLnJlcGxhY2UoJzonLCAnJyksXG4gICAgb3B0aW9uczogT2JqZWN0LmZyZWV6ZSh7IGRpc2FibGVXYXJuaW5ncyB9KVxuICB9KTtcblxuICBpZiAoIWRpc2FibGVXYXJuaW5ncykge1xuICAgIGVtaXRFbXVsYXRvcldhcm5pbmcoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0UHJvdG9jb2wodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwcm90b2NvbEVuZCA9IHVybC5pbmRleE9mKCc6Jyk7XG4gIHJldHVybiBwcm90b2NvbEVuZCA8IDAgPyAnJyA6IHVybC5zdWJzdHIoMCwgcHJvdG9jb2xFbmQgKyAxKTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEhvc3RBbmRQb3J0KHVybDogc3RyaW5nKToge1xuICBob3N0OiBzdHJpbmc7XG4gIHBvcnQ6IG51bWJlciB8IG51bGw7XG59IHtcbiAgY29uc3QgcHJvdG9jb2wgPSBleHRyYWN0UHJvdG9jb2wodXJsKTtcbiAgY29uc3QgYXV0aG9yaXR5ID0gLyhcXC9cXC8pPyhbXj8jL10rKS8uZXhlYyh1cmwuc3Vic3RyKHByb3RvY29sLmxlbmd0aCkpOyAvLyBCZXR3ZWVuIC8vIGFuZCAvLCA/IG9yICMuXG4gIGlmICghYXV0aG9yaXR5KSB7XG4gICAgcmV0dXJuIHsgaG9zdDogJycsIHBvcnQ6IG51bGwgfTtcbiAgfVxuICBjb25zdCBob3N0QW5kUG9ydCA9IGF1dGhvcml0eVsyXS5zcGxpdCgnQCcpLnBvcCgpIHx8ICcnOyAvLyBTdHJpcCBvdXQgXCJ1c2VybmFtZTpwYXNzd29yZEBcIi5cbiAgY29uc3QgYnJhY2tldGVkSVB2NiA9IC9eKFxcW1teXFxdXStcXF0pKDp8JCkvLmV4ZWMoaG9zdEFuZFBvcnQpO1xuICBpZiAoYnJhY2tldGVkSVB2Nikge1xuICAgIGNvbnN0IGhvc3QgPSBicmFja2V0ZWRJUHY2WzFdO1xuICAgIHJldHVybiB7IGhvc3QsIHBvcnQ6IHBhcnNlUG9ydChob3N0QW5kUG9ydC5zdWJzdHIoaG9zdC5sZW5ndGggKyAxKSkgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBbaG9zdCwgcG9ydF0gPSBob3N0QW5kUG9ydC5zcGxpdCgnOicpO1xuICAgIHJldHVybiB7IGhvc3QsIHBvcnQ6IHBhcnNlUG9ydChwb3J0KSB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlUG9ydChwb3J0U3RyOiBzdHJpbmcpOiBudW1iZXIgfCBudWxsIHtcbiAgaWYgKCFwb3J0U3RyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcG9ydCA9IE51bWJlcihwb3J0U3RyKTtcbiAgaWYgKGlzTmFOKHBvcnQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHBvcnQ7XG59XG5cbmZ1bmN0aW9uIGVtaXRFbXVsYXRvcldhcm5pbmcoKTogdm9pZCB7XG4gIGZ1bmN0aW9uIGF0dGFjaEJhbm5lcigpOiB2b2lkIHtcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBzdHkgPSBlbC5zdHlsZTtcbiAgICBlbC5pbm5lclRleHQgPVxuICAgICAgJ1J1bm5pbmcgaW4gZW11bGF0b3IgbW9kZS4gRG8gbm90IHVzZSB3aXRoIHByb2R1Y3Rpb24gY3JlZGVudGlhbHMuJztcbiAgICBzdHkucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIHN0eS53aWR0aCA9ICcxMDAlJztcbiAgICBzdHkuYmFja2dyb3VuZENvbG9yID0gJyNmZmZmZmYnO1xuICAgIHN0eS5ib3JkZXIgPSAnLjFlbSBzb2xpZCAjMDAwMDAwJztcbiAgICBzdHkuY29sb3IgPSAnI2I1MDAwMCc7XG4gICAgc3R5LmJvdHRvbSA9ICcwcHgnO1xuICAgIHN0eS5sZWZ0ID0gJzBweCc7XG4gICAgc3R5Lm1hcmdpbiA9ICcwcHgnO1xuICAgIHN0eS56SW5kZXggPSAnMTAwMDAnO1xuICAgIHN0eS50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdmaXJlYmFzZS1lbXVsYXRvci13YXJuaW5nJyk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmluZm8gPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmluZm8oXG4gICAgICAnV0FSTklORzogWW91IGFyZSB1c2luZyB0aGUgQXV0aCBFbXVsYXRvciwnICtcbiAgICAgICAgJyB3aGljaCBpcyBpbnRlbmRlZCBmb3IgbG9jYWwgdGVzdGluZyBvbmx5LiAgRG8gbm90IHVzZSB3aXRoJyArXG4gICAgICAgICcgcHJvZHVjdGlvbiBjcmVkZW50aWFscy4nXG4gICAgKTtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgYXR0YWNoQmFubmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXR0YWNoQmFubmVyKCk7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBkZWJ1Z0ZhaWwgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5cbi8qKlxuICogSW50ZXJmYWNlIHRoYXQgcmVwcmVzZW50cyB0aGUgY3JlZGVudGlhbHMgcmV0dXJuZWQgYnkgYW4ge0BsaW5rIEF1dGhQcm92aWRlcn0uXG4gKlxuICogQHJlbWFya3NcbiAqIEltcGxlbWVudGF0aW9ucyBzcGVjaWZ5IHRoZSBkZXRhaWxzIGFib3V0IGVhY2ggYXV0aCBwcm92aWRlcidzIGNyZWRlbnRpYWwgcmVxdWlyZW1lbnRzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEF1dGhDcmVkZW50aWFsIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGF1dGhlbnRpY2F0aW9uIHByb3ZpZGVyIElEIGZvciB0aGUgY3JlZGVudGlhbC5cbiAgICAgKlxuICAgICAqIEByZW1hcmtzXG4gICAgICogRm9yIGV4YW1wbGUsICdmYWNlYm9vay5jb20nLCBvciAnZ29vZ2xlLmNvbScuXG4gICAgICovXG4gICAgcmVhZG9ubHkgcHJvdmlkZXJJZDogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRoZSBhdXRoZW50aWNhdGlvbiBzaWduIGluIG1ldGhvZCBmb3IgdGhlIGNyZWRlbnRpYWwuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIEZvciBleGFtcGxlLCB7QGxpbmsgU2lnbkluTWV0aG9kfS5FTUFJTF9QQVNTV09SRCwgb3JcbiAgICAgKiB7QGxpbmsgU2lnbkluTWV0aG9kfS5FTUFJTF9MSU5LLiBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSBzaWduLWluIG1ldGhvZFxuICAgICAqIGlkZW50aWZpZXIgYXMgcmV0dXJuZWQgaW4ge0BsaW5rIGZldGNoU2lnbkluTWV0aG9kc0ZvckVtYWlsfS5cbiAgICAgKi9cbiAgICByZWFkb25seSBzaWduSW5NZXRob2Q6IHN0cmluZ1xuICApIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBKU09OLXNlcmlhbGl6YWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cbiAgICpcbiAgICogQHJldHVybnMgYSBKU09OLXNlcmlhbGl6YWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cbiAgICovXG4gIHRvSlNPTigpOiBvYmplY3Qge1xuICAgIHJldHVybiBkZWJ1Z0ZhaWwoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZ2V0SWRUb2tlblJlc3BvbnNlKF9hdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gZGVidWdGYWlsKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIF9saW5rVG9JZFRva2VuKFxuICAgIF9hdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgX2lkVG9rZW46IHN0cmluZ1xuICApOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiBkZWJ1Z0ZhaWwoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2dldFJlYXV0aGVudGljYXRpb25SZXNvbHZlcihfYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gZGVidWdGYWlsKCdub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFjdGlvbkNvZGVPcGVyYXRpb24sIEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQge1xuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5LFxuICBfcGVyZm9ybUFwaVJlcXVlc3Rcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgTWZhRW5yb2xsbWVudCB9IGZyb20gJy4vbWZhJztcbmltcG9ydCB7IFNpZ25VcFJlcXVlc3QsIFNpZ25VcFJlc3BvbnNlIH0gZnJvbSAnLi4vYXV0aGVudGljYXRpb24vc2lnbl91cCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzZXRQYXNzd29yZFJlcXVlc3Qge1xuICBvb2JDb2RlOiBzdHJpbmc7XG4gIG5ld1Bhc3N3b3JkPzogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNldFBhc3N3b3JkUmVzcG9uc2Uge1xuICBlbWFpbDogc3RyaW5nO1xuICBuZXdFbWFpbD86IHN0cmluZztcbiAgcmVxdWVzdFR5cGU/OiBBY3Rpb25Db2RlT3BlcmF0aW9uO1xuICBtZmFJbmZvPzogTWZhRW5yb2xsbWVudDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFJlc2V0UGFzc3dvcmRSZXF1ZXN0XG4pOiBQcm9taXNlPFJlc2V0UGFzc3dvcmRSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFJlc2V0UGFzc3dvcmRSZXF1ZXN0LCBSZXNldFBhc3N3b3JkUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlJFU0VUX1BBU1NXT1JELFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVFbWFpbFBhc3N3b3JkUmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgcmV0dXJuU2VjdXJlVG9rZW4/OiBib29sZWFuO1xuICBlbWFpbD86IHN0cmluZztcbiAgcGFzc3dvcmQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlRW1haWxQYXNzd29yZFJlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHt9XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVFbWFpbFBhc3N3b3JkKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBVcGRhdGVFbWFpbFBhc3N3b3JkUmVxdWVzdFxuKTogUHJvbWlzZTxVcGRhdGVFbWFpbFBhc3N3b3JkUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBVcGRhdGVFbWFpbFBhc3N3b3JkUmVxdWVzdCxcbiAgICBVcGRhdGVFbWFpbFBhc3N3b3JkUmVzcG9uc2VcbiAgPihhdXRoLCBIdHRwTWV0aG9kLlBPU1QsIEVuZHBvaW50LlNFVF9BQ0NPVU5UX0lORk8sIHJlcXVlc3QpO1xufVxuXG4vLyBVc2VkIGZvciBsaW5raW5nIGFuIGVtYWlsL3Bhc3N3b3JkIGFjY291bnQgdG8gYW4gZXhpc3RpbmcgaWRUb2tlbi4gVXNlcyB0aGUgc2FtZSByZXF1ZXN0L3Jlc3BvbnNlXG4vLyBmb3JtYXQgYXMgdXBkYXRlRW1haWxQYXNzd29yZC5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaW5rRW1haWxQYXNzd29yZChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2lnblVwUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduVXBSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFNpZ25VcFJlcXVlc3QsIFNpZ25VcFJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX1VQLFxuICAgIHJlcXVlc3RcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBcHBseUFjdGlvbkNvZGVSZXF1ZXN0IHtcbiAgb29iQ29kZTogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBcHBseUFjdGlvbkNvZGVSZXNwb25zZSB7fVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwbHlBY3Rpb25Db2RlKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBBcHBseUFjdGlvbkNvZGVSZXF1ZXN0XG4pOiBQcm9taXNlPEFwcGx5QWN0aW9uQ29kZVJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8QXBwbHlBY3Rpb25Db2RlUmVxdWVzdCwgQXBwbHlBY3Rpb25Db2RlUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNFVF9BQ0NPVU5UX0lORk8sXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQWN0aW9uQ29kZU9wZXJhdGlvbiwgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7XG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBSZWNhcHRjaGFDbGllbnRUeXBlLFxuICBSZWNhcHRjaGFWZXJzaW9uLFxuICBfYWRkVGlkSWZOZWNlc3NhcnksXG4gIF9wZXJmb3JtQXBpUmVxdWVzdCxcbiAgX3BlcmZvcm1TaWduSW5SZXF1ZXN0XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IElkVG9rZW4sIElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcblxuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoUGFzc3dvcmRSZXF1ZXN0IHtcbiAgcmV0dXJuU2VjdXJlVG9rZW4/OiBib29sZWFuO1xuICBlbWFpbDogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbiAgY2FwdGNoYVJlc3BvbnNlPzogc3RyaW5nO1xuICBjbGllbnRUeXBlPzogUmVjYXB0Y2hhQ2xpZW50VHlwZTtcbiAgcmVjYXB0Y2hhVmVyc2lvbj86IFJlY2FwdGNoYVZlcnNpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aFBhc3N3b3JkUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge1xuICBlbWFpbDogc3RyaW5nO1xuICBkaXNwbGF5TmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aFBhc3N3b3JkKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTaWduSW5XaXRoUGFzc3dvcmRSZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25JbldpdGhQYXNzd29yZFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8XG4gICAgU2lnbkluV2l0aFBhc3N3b3JkUmVxdWVzdCxcbiAgICBTaWduSW5XaXRoUGFzc3dvcmRSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fSU5fV0lUSF9QQVNTV09SRCxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRPb2JDb2RlUmVxdWVzdCB7XG4gIGVtYWlsPzogc3RyaW5nOyAvLyBFdmVyeXRoaW5nIGV4Y2VwdCBWRVJJRllfQU5EX0NIQU5HRV9FTUFJTFxuICBjb250aW51ZVVybD86IHN0cmluZztcbiAgaU9TQnVuZGxlSWQ/OiBzdHJpbmc7XG4gIGlvc0FwcFN0b3JlSWQ/OiBzdHJpbmc7XG4gIGFuZHJvaWRQYWNrYWdlTmFtZT86IHN0cmluZztcbiAgYW5kcm9pZEluc3RhbGxBcHA/OiBib29sZWFuO1xuICBhbmRyb2lkTWluaW11bVZlcnNpb25Db2RlPzogc3RyaW5nO1xuICBjYW5IYW5kbGVDb2RlSW5BcHA/OiBib29sZWFuO1xuICBkeW5hbWljTGlua0RvbWFpbj86IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG4gIHRhcmdldFByb2plY3RpZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWZXJpZnlFbWFpbFJlcXVlc3QgZXh0ZW5kcyBHZXRPb2JDb2RlUmVxdWVzdCB7XG4gIHJlcXVlc3RUeXBlOiBBY3Rpb25Db2RlT3BlcmF0aW9uLlZFUklGWV9FTUFJTDtcbiAgaWRUb2tlbjogSWRUb2tlbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXNzd29yZFJlc2V0UmVxdWVzdCBleHRlbmRzIEdldE9vYkNvZGVSZXF1ZXN0IHtcbiAgcmVxdWVzdFR5cGU6IEFjdGlvbkNvZGVPcGVyYXRpb24uUEFTU1dPUkRfUkVTRVQ7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGNhcHRjaGFSZXNwPzogc3RyaW5nO1xuICBjbGllbnRUeXBlPzogUmVjYXB0Y2hhQ2xpZW50VHlwZTtcbiAgcmVjYXB0Y2hhVmVyc2lvbj86IFJlY2FwdGNoYVZlcnNpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1haWxTaWduSW5SZXF1ZXN0IGV4dGVuZHMgR2V0T29iQ29kZVJlcXVlc3Qge1xuICByZXF1ZXN0VHlwZTogQWN0aW9uQ29kZU9wZXJhdGlvbi5FTUFJTF9TSUdOSU47XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGNhcHRjaGFSZXNwPzogc3RyaW5nO1xuICBjbGllbnRUeXBlPzogUmVjYXB0Y2hhQ2xpZW50VHlwZTtcbiAgcmVjYXB0Y2hhVmVyc2lvbj86IFJlY2FwdGNoYVZlcnNpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZ5QW5kQ2hhbmdlRW1haWxSZXF1ZXN0IGV4dGVuZHMgR2V0T29iQ29kZVJlcXVlc3Qge1xuICByZXF1ZXN0VHlwZTogQWN0aW9uQ29kZU9wZXJhdGlvbi5WRVJJRllfQU5EX0NIQU5HRV9FTUFJTDtcbiAgaWRUb2tlbjogSWRUb2tlbjtcbiAgbmV3RW1haWw6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEdldE9vYkNvZGVSZXNwb25zZSB7XG4gIGVtYWlsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmVyaWZ5RW1haWxSZXNwb25zZSBleHRlbmRzIEdldE9vYkNvZGVSZXNwb25zZSB7fVxuZXhwb3J0IGludGVyZmFjZSBQYXNzd29yZFJlc2V0UmVzcG9uc2UgZXh0ZW5kcyBHZXRPb2JDb2RlUmVzcG9uc2Uge31cbmV4cG9ydCBpbnRlcmZhY2UgRW1haWxTaWduSW5SZXNwb25zZSBleHRlbmRzIEdldE9vYkNvZGVSZXNwb25zZSB7fVxuZXhwb3J0IGludGVyZmFjZSBWZXJpZnlBbmRDaGFuZ2VFbWFpbFJlc3BvbnNlIGV4dGVuZHMgR2V0T29iQ29kZVJlcXVlc3Qge31cblxuYXN5bmMgZnVuY3Rpb24gc2VuZE9vYkNvZGUoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEdldE9vYkNvZGVSZXF1ZXN0XG4pOiBQcm9taXNlPEdldE9vYkNvZGVSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PEdldE9vYkNvZGVSZXF1ZXN0LCBHZXRPb2JDb2RlUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNFTkRfT09CX0NPREUsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kRW1haWxWZXJpZmljYXRpb24oXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFZlcmlmeUVtYWlsUmVxdWVzdFxuKTogUHJvbWlzZTxWZXJpZnlFbWFpbFJlc3BvbnNlPiB7XG4gIHJldHVybiBzZW5kT29iQ29kZShhdXRoLCByZXF1ZXN0KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRQYXNzd29yZFJlc2V0RW1haWwoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFBhc3N3b3JkUmVzZXRSZXF1ZXN0XG4pOiBQcm9taXNlPFBhc3N3b3JkUmVzZXRSZXNwb25zZT4ge1xuICByZXR1cm4gc2VuZE9vYkNvZGUoYXV0aCwgcmVxdWVzdCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kU2lnbkluTGlua1RvRW1haWwoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEVtYWlsU2lnbkluUmVxdWVzdFxuKTogUHJvbWlzZTxFbWFpbFNpZ25JblJlc3BvbnNlPiB7XG4gIHJldHVybiBzZW5kT29iQ29kZShhdXRoLCByZXF1ZXN0KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeUFuZENoYW5nZUVtYWlsKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBWZXJpZnlBbmRDaGFuZ2VFbWFpbFJlcXVlc3Rcbik6IFByb21pc2U8VmVyaWZ5QW5kQ2hhbmdlRW1haWxSZXNwb25zZT4ge1xuICByZXR1cm4gc2VuZE9vYkNvZGUoYXV0aCwgcmVxdWVzdCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgX3BlcmZvcm1TaWduSW5SZXF1ZXN0LFxuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhFbWFpbExpbmtSZXF1ZXN0IHtcbiAgZW1haWw6IHN0cmluZztcbiAgb29iQ29kZTogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoRW1haWxMaW5rUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge1xuICBlbWFpbDogc3RyaW5nO1xuICBpc05ld1VzZXI6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoRW1haWxMaW5rKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTaWduSW5XaXRoRW1haWxMaW5rUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduSW5XaXRoRW1haWxMaW5rUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtU2lnbkluUmVxdWVzdDxcbiAgICBTaWduSW5XaXRoRW1haWxMaW5rUmVxdWVzdCxcbiAgICBTaWduSW5XaXRoRW1haWxMaW5rUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX0lOX1dJVEhfRU1BSUxfTElOSyxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoRW1haWxMaW5rRm9yTGlua2luZ1JlcXVlc3RcbiAgZXh0ZW5kcyBTaWduSW5XaXRoRW1haWxMaW5rUmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhFbWFpbExpbmtGb3JMaW5raW5nKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTaWduSW5XaXRoRW1haWxMaW5rRm9yTGlua2luZ1JlcXVlc3Rcbik6IFByb21pc2U8U2lnbkluV2l0aEVtYWlsTGlua1Jlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8XG4gICAgU2lnbkluV2l0aEVtYWlsTGlua0ZvckxpbmtpbmdSZXF1ZXN0LFxuICAgIFNpZ25JbldpdGhFbWFpbExpbmtSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fSU5fV0lUSF9FTUFJTF9MSU5LLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFByb3ZpZGVySWQsIFNpZ25Jbk1ldGhvZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuaW1wb3J0IHsgbGlua0VtYWlsUGFzc3dvcmQgfSBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L2VtYWlsX2FuZF9wYXNzd29yZCc7XG5pbXBvcnQge1xuICBzaWduSW5XaXRoUGFzc3dvcmQsXG4gIFNpZ25JbldpdGhQYXNzd29yZFJlcXVlc3Rcbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2VtYWlsX2FuZF9wYXNzd29yZCc7XG5pbXBvcnQge1xuICBzaWduSW5XaXRoRW1haWxMaW5rLFxuICBzaWduSW5XaXRoRW1haWxMaW5rRm9yTGlua2luZ1xufSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfbGluayc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2ZhaWwgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vYXV0aF9jcmVkZW50aWFsJztcbmltcG9ydCB7IGhhbmRsZVJlY2FwdGNoYUZsb3cgfSBmcm9tICcuLi8uLi9wbGF0Zm9ybV9icm93c2VyL3JlY2FwdGNoYS9yZWNhcHRjaGFfZW50ZXJwcmlzZV92ZXJpZmllcic7XG5pbXBvcnQgeyBSZWNhcHRjaGFBY3Rpb25OYW1lLCBSZWNhcHRjaGFDbGllbnRUeXBlIH0gZnJvbSAnLi4vLi4vYXBpJztcbmltcG9ydCB7IFNpZ25VcFJlcXVlc3QgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vc2lnbl91cCc7XG4vKipcbiAqIEludGVyZmFjZSB0aGF0IHJlcHJlc2VudHMgdGhlIGNyZWRlbnRpYWxzIHJldHVybmVkIGJ5IHtAbGluayBFbWFpbEF1dGhQcm92aWRlcn0gZm9yXG4gKiB7QGxpbmsgUHJvdmlkZXJJZH0uUEFTU1dPUkRcbiAqXG4gKiBAcmVtYXJrc1xuICogQ292ZXJzIGJvdGgge0BsaW5rIFNpZ25Jbk1ldGhvZH0uRU1BSUxfUEFTU1dPUkQgYW5kXG4gKiB7QGxpbmsgU2lnbkluTWV0aG9kfS5FTUFJTF9MSU5LLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEVtYWlsQXV0aENyZWRlbnRpYWwgZXh0ZW5kcyBBdXRoQ3JlZGVudGlhbCB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICAvKiogQGludGVybmFsICovXG4gICAgcmVhZG9ubHkgX2VtYWlsOiBzdHJpbmcsXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJlYWRvbmx5IF9wYXNzd29yZDogc3RyaW5nLFxuICAgIHNpZ25Jbk1ldGhvZDogU2lnbkluTWV0aG9kLFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICByZWFkb25seSBfdGVuYW50SWQ6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gICkge1xuICAgIHN1cGVyKFByb3ZpZGVySWQuUEFTU1dPUkQsIHNpZ25Jbk1ldGhvZCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbUVtYWlsQW5kUGFzc3dvcmQoXG4gICAgZW1haWw6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nXG4gICk6IEVtYWlsQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBuZXcgRW1haWxBdXRoQ3JlZGVudGlhbChcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBTaWduSW5NZXRob2QuRU1BSUxfUEFTU1dPUkRcbiAgICApO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgX2Zyb21FbWFpbEFuZENvZGUoXG4gICAgZW1haWw6IHN0cmluZyxcbiAgICBvb2JDb2RlOiBzdHJpbmcsXG4gICAgdGVuYW50SWQ6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gICk6IEVtYWlsQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBuZXcgRW1haWxBdXRoQ3JlZGVudGlhbChcbiAgICAgIGVtYWlsLFxuICAgICAgb29iQ29kZSxcbiAgICAgIFNpZ25Jbk1ldGhvZC5FTUFJTF9MSU5LLFxuICAgICAgdGVuYW50SWRcbiAgICApO1xuICB9XG5cbiAgLyoqIHtAaW5oZXJpdGRvYyBBdXRoQ3JlZGVudGlhbC50b0pTT059ICovXG4gIHRvSlNPTigpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICBlbWFpbDogdGhpcy5fZW1haWwsXG4gICAgICBwYXNzd29yZDogdGhpcy5fcGFzc3dvcmQsXG4gICAgICBzaWduSW5NZXRob2Q6IHRoaXMuc2lnbkluTWV0aG9kLFxuICAgICAgdGVuYW50SWQ6IHRoaXMuX3RlbmFudElkXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgbWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhbiBvYmplY3QgaW50byBhbiB7QGxpbmsgIEF1dGhDcmVkZW50aWFsfS5cbiAgICpcbiAgICogQHBhcmFtIGpzb24gLSBFaXRoZXIgYG9iamVjdGAgb3IgdGhlIHN0cmluZ2lmaWVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QuIFdoZW4gc3RyaW5nIGlzXG4gICAqIHByb3ZpZGVkLCBgSlNPTi5wYXJzZWAgd291bGQgYmUgY2FsbGVkIGZpcnN0LlxuICAgKlxuICAgKiBAcmV0dXJucyBJZiB0aGUgSlNPTiBpbnB1dCBkb2VzIG5vdCByZXByZXNlbnQgYW4ge0BsaW5rIEF1dGhDcmVkZW50aWFsfSwgbnVsbCBpcyByZXR1cm5lZC5cbiAgICovXG4gIHN0YXRpYyBmcm9tSlNPTihqc29uOiBvYmplY3QgfCBzdHJpbmcpOiBFbWFpbEF1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgY29uc3Qgb2JqID0gdHlwZW9mIGpzb24gPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShqc29uKSA6IGpzb247XG4gICAgaWYgKG9iaj8uZW1haWwgJiYgb2JqPy5wYXNzd29yZCkge1xuICAgICAgaWYgKG9iai5zaWduSW5NZXRob2QgPT09IFNpZ25Jbk1ldGhvZC5FTUFJTF9QQVNTV09SRCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnJvbUVtYWlsQW5kUGFzc3dvcmQob2JqLmVtYWlsLCBvYmoucGFzc3dvcmQpO1xuICAgICAgfSBlbHNlIGlmIChvYmouc2lnbkluTWV0aG9kID09PSBTaWduSW5NZXRob2QuRU1BSUxfTElOSykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnJvbUVtYWlsQW5kQ29kZShvYmouZW1haWwsIG9iai5wYXNzd29yZCwgb2JqLnRlbmFudElkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIGFzeW5jIF9nZXRJZFRva2VuUmVzcG9uc2UoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICBzd2l0Y2ggKHRoaXMuc2lnbkluTWV0aG9kKSB7XG4gICAgICBjYXNlIFNpZ25Jbk1ldGhvZC5FTUFJTF9QQVNTV09SRDpcbiAgICAgICAgY29uc3QgcmVxdWVzdDogU2lnbkluV2l0aFBhc3N3b3JkUmVxdWVzdCA9IHtcbiAgICAgICAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZSxcbiAgICAgICAgICBlbWFpbDogdGhpcy5fZW1haWwsXG4gICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuX3Bhc3N3b3JkLFxuICAgICAgICAgIGNsaWVudFR5cGU6IFJlY2FwdGNoYUNsaWVudFR5cGUuV0VCXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBoYW5kbGVSZWNhcHRjaGFGbG93KFxuICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBSZWNhcHRjaGFBY3Rpb25OYW1lLlNJR05fSU5fV0lUSF9QQVNTV09SRCxcbiAgICAgICAgICBzaWduSW5XaXRoUGFzc3dvcmRcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgU2lnbkluTWV0aG9kLkVNQUlMX0xJTks6XG4gICAgICAgIHJldHVybiBzaWduSW5XaXRoRW1haWxMaW5rKGF1dGgsIHtcbiAgICAgICAgICBlbWFpbDogdGhpcy5fZW1haWwsXG4gICAgICAgICAgb29iQ29kZTogdGhpcy5fcGFzc3dvcmRcbiAgICAgICAgfSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICB9XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIGFzeW5jIF9saW5rVG9JZFRva2VuKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBpZFRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICBzd2l0Y2ggKHRoaXMuc2lnbkluTWV0aG9kKSB7XG4gICAgICBjYXNlIFNpZ25Jbk1ldGhvZC5FTUFJTF9QQVNTV09SRDpcbiAgICAgICAgY29uc3QgcmVxdWVzdDogU2lnblVwUmVxdWVzdCA9IHtcbiAgICAgICAgICBpZFRva2VuLFxuICAgICAgICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlLFxuICAgICAgICAgIGVtYWlsOiB0aGlzLl9lbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogdGhpcy5fcGFzc3dvcmQsXG4gICAgICAgICAgY2xpZW50VHlwZTogUmVjYXB0Y2hhQ2xpZW50VHlwZS5XRUJcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlY2FwdGNoYUZsb3coXG4gICAgICAgICAgYXV0aCxcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIFJlY2FwdGNoYUFjdGlvbk5hbWUuU0lHTl9VUF9QQVNTV09SRCxcbiAgICAgICAgICBsaW5rRW1haWxQYXNzd29yZFxuICAgICAgICApO1xuICAgICAgY2FzZSBTaWduSW5NZXRob2QuRU1BSUxfTElOSzpcbiAgICAgICAgcmV0dXJuIHNpZ25JbldpdGhFbWFpbExpbmtGb3JMaW5raW5nKGF1dGgsIHtcbiAgICAgICAgICBpZFRva2VuLFxuICAgICAgICAgIGVtYWlsOiB0aGlzLl9lbWFpbCxcbiAgICAgICAgICBvb2JDb2RlOiB0aGlzLl9wYXNzd29yZFxuICAgICAgICB9KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2dldFJlYXV0aGVudGljYXRpb25SZXNvbHZlcihhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiB0aGlzLl9nZXRJZFRva2VuUmVzcG9uc2UoYXV0aCk7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5LFxuICBfcGVyZm9ybVNpZ25JblJlcXVlc3Rcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgSWRUb2tlbiwgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aElkcFJlcXVlc3Qge1xuICByZXF1ZXN0VXJpOiBzdHJpbmc7XG4gIHBvc3RCb2R5Pzogc3RyaW5nO1xuICBzZXNzaW9uSWQ/OiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xuICByZXR1cm5TZWN1cmVUb2tlbjogYm9vbGVhbjtcbiAgcmV0dXJuSWRwQ3JlZGVudGlhbD86IGJvb2xlYW47XG4gIGlkVG9rZW4/OiBJZFRva2VuO1xuICBhdXRvQ3JlYXRlPzogYm9vbGVhbjtcbiAgcGVuZGluZ1Rva2VuPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhJZHBSZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7XG4gIG9hdXRoQWNjZXNzVG9rZW4/OiBzdHJpbmc7XG4gIG9hdXRoVG9rZW5TZWNyZXQ/OiBzdHJpbmc7XG4gIG5vbmNlPzogc3RyaW5nO1xuICBvYXV0aElkVG9rZW4/OiBzdHJpbmc7XG4gIHBlbmRpbmdUb2tlbj86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhJZHAoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFNpZ25JbldpdGhJZHBSZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25JbldpdGhJZHBSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFNpZ25JbldpdGhJZHBSZXF1ZXN0LCBTaWduSW5XaXRoSWRwUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fSU5fV0lUSF9JRFAsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgcXVlcnlzdHJpbmcgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7XG4gIHNpZ25JbldpdGhJZHAsXG4gIFNpZ25JbldpdGhJZHBSZXF1ZXN0XG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9pZHAnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9mYWlsIH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuL2F1dGhfY3JlZGVudGlhbCc7XG5cbmNvbnN0IElEUF9SRVFVRVNUX1VSSSA9ICdodHRwOi8vbG9jYWxob3N0JztcblxuZXhwb3J0IGludGVyZmFjZSBPQXV0aENyZWRlbnRpYWxQYXJhbXMge1xuICAvLyBPQXV0aCAyIHVzZXMgZWl0aGVyIGlkIHRva2VuIG9yIGFjY2VzcyB0b2tlblxuICBpZFRva2VuPzogc3RyaW5nIHwgbnVsbDtcbiAgYWNjZXNzVG9rZW4/OiBzdHJpbmcgfCBudWxsO1xuXG4gIC8vIFRoZXNlIGZpZWxkcyBhcmUgdXNlZCB3aXRoIE9BdXRoIDFcbiAgb2F1dGhUb2tlbj86IHN0cmluZztcbiAgc2VjcmV0Pzogc3RyaW5nO1xuICBvYXV0aFRva2VuU2VjcmV0Pzogc3RyaW5nO1xuXG4gIC8vIE5vbmNlIGlzIG9ubHkgc2V0IGlmIHBlbmRpbmdUb2tlbiBpcyBub3QgcHJlc2VudFxuICBub25jZT86IHN0cmluZztcbiAgcGVuZGluZ1Rva2VuPzogc3RyaW5nO1xuXG4gIC8vIFV0aWxpdGllc1xuICBwcm92aWRlcklkOiBzdHJpbmc7XG4gIHNpZ25Jbk1ldGhvZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIE9BdXRoIGNyZWRlbnRpYWxzIHJldHVybmVkIGJ5IGFuIHtAbGluayBPQXV0aFByb3ZpZGVyfS5cbiAqXG4gKiBAcmVtYXJrc1xuICogSW1wbGVtZW50YXRpb25zIHNwZWNpZnkgdGhlIGRldGFpbHMgYWJvdXQgZWFjaCBhdXRoIHByb3ZpZGVyJ3MgY3JlZGVudGlhbCByZXF1aXJlbWVudHMuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgT0F1dGhDcmVkZW50aWFsIGV4dGVuZHMgQXV0aENyZWRlbnRpYWwge1xuICAvKipcbiAgICogVGhlIE9BdXRoIElEIHRva2VuIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3JlZGVudGlhbCBpZiBpdCBiZWxvbmdzIHRvIGFuIE9JREMgcHJvdmlkZXIsXG4gICAqIHN1Y2ggYXMgYGdvb2dsZS5jb21gLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGlkVG9rZW4/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgT0F1dGggYWNjZXNzIHRva2VuIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3JlZGVudGlhbCBpZiBpdCBiZWxvbmdzIHRvIGFuXG4gICAqIHtAbGluayBPQXV0aFByb3ZpZGVyfSwgc3VjaCBhcyBgZmFjZWJvb2suY29tYCwgYHR3aXR0ZXIuY29tYCwgZXRjLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGFjY2Vzc1Rva2VuPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIE9BdXRoIGFjY2VzcyB0b2tlbiBzZWNyZXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjcmVkZW50aWFsIGlmIGl0IGJlbG9uZ3MgdG8gYW4gT0F1dGggMS4wXG4gICAqIHByb3ZpZGVyLCBzdWNoIGFzIGB0d2l0dGVyLmNvbWAuXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgc2VjcmV0Pzogc3RyaW5nO1xuXG4gIHByaXZhdGUgbm9uY2U/OiBzdHJpbmc7XG4gIHByaXZhdGUgcGVuZGluZ1Rva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbVBhcmFtcyhwYXJhbXM6IE9BdXRoQ3JlZGVudGlhbFBhcmFtcyk6IE9BdXRoQ3JlZGVudGlhbCB7XG4gICAgY29uc3QgY3JlZCA9IG5ldyBPQXV0aENyZWRlbnRpYWwocGFyYW1zLnByb3ZpZGVySWQsIHBhcmFtcy5zaWduSW5NZXRob2QpO1xuXG4gICAgaWYgKHBhcmFtcy5pZFRva2VuIHx8IHBhcmFtcy5hY2Nlc3NUb2tlbikge1xuICAgICAgLy8gT0F1dGggMiBhbmQgZWl0aGVyIElEIHRva2VuIG9yIGFjY2VzcyB0b2tlbi5cbiAgICAgIGlmIChwYXJhbXMuaWRUb2tlbikge1xuICAgICAgICBjcmVkLmlkVG9rZW4gPSBwYXJhbXMuaWRUb2tlbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5hY2Nlc3NUb2tlbikge1xuICAgICAgICBjcmVkLmFjY2Vzc1Rva2VuID0gcGFyYW1zLmFjY2Vzc1Rva2VuO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgbm9uY2UgaWYgYXZhaWxhYmxlIGFuZCBubyBwZW5kaW5nVG9rZW4gaXMgcHJlc2VudC5cbiAgICAgIGlmIChwYXJhbXMubm9uY2UgJiYgIXBhcmFtcy5wZW5kaW5nVG9rZW4pIHtcbiAgICAgICAgY3JlZC5ub25jZSA9IHBhcmFtcy5ub25jZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmFtcy5wZW5kaW5nVG9rZW4pIHtcbiAgICAgICAgY3JlZC5wZW5kaW5nVG9rZW4gPSBwYXJhbXMucGVuZGluZ1Rva2VuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGFyYW1zLm9hdXRoVG9rZW4gJiYgcGFyYW1zLm9hdXRoVG9rZW5TZWNyZXQpIHtcbiAgICAgIC8vIE9BdXRoIDEgYW5kIE9BdXRoIHRva2VuIHdpdGggdG9rZW4gc2VjcmV0XG4gICAgICBjcmVkLmFjY2Vzc1Rva2VuID0gcGFyYW1zLm9hdXRoVG9rZW47XG4gICAgICBjcmVkLnNlY3JldCA9IHBhcmFtcy5vYXV0aFRva2VuU2VjcmV0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfZmFpbChBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlZDtcbiAgfVxuXG4gIC8qKiB7QGluaGVyaXRkb2MgQXV0aENyZWRlbnRpYWwudG9KU09OfSAgKi9cbiAgdG9KU09OKCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkVG9rZW46IHRoaXMuaWRUb2tlbixcbiAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmFjY2Vzc1Rva2VuLFxuICAgICAgc2VjcmV0OiB0aGlzLnNlY3JldCxcbiAgICAgIG5vbmNlOiB0aGlzLm5vbmNlLFxuICAgICAgcGVuZGluZ1Rva2VuOiB0aGlzLnBlbmRpbmdUb2tlbixcbiAgICAgIHByb3ZpZGVySWQ6IHRoaXMucHJvdmlkZXJJZCxcbiAgICAgIHNpZ25Jbk1ldGhvZDogdGhpcy5zaWduSW5NZXRob2RcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBtZXRob2QgdG8gZGVzZXJpYWxpemUgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGFuIG9iamVjdCBpbnRvIGFuXG4gICAqIHtAbGluayAgQXV0aENyZWRlbnRpYWx9LlxuICAgKlxuICAgKiBAcGFyYW0ganNvbiAtIElucHV0IGNhbiBiZSBlaXRoZXIgT2JqZWN0IG9yIHRoZSBzdHJpbmdpZmllZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0LlxuICAgKiBXaGVuIHN0cmluZyBpcyBwcm92aWRlZCwgSlNPTi5wYXJzZSB3b3VsZCBiZSBjYWxsZWQgZmlyc3QuXG4gICAqXG4gICAqIEByZXR1cm5zIElmIHRoZSBKU09OIGlucHV0IGRvZXMgbm90IHJlcHJlc2VudCBhbiB7QGxpbmsgIEF1dGhDcmVkZW50aWFsfSwgbnVsbCBpcyByZXR1cm5lZC5cbiAgICovXG4gIHN0YXRpYyBmcm9tSlNPTihqc29uOiBzdHJpbmcgfCBvYmplY3QpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBjb25zdCBvYmogPSB0eXBlb2YganNvbiA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGpzb24pIDoganNvbjtcbiAgICBjb25zdCB7IHByb3ZpZGVySWQsIHNpZ25Jbk1ldGhvZCwgLi4ucmVzdCB9OiBPQXV0aENyZWRlbnRpYWxQYXJhbXMgPSBvYmo7XG4gICAgaWYgKCFwcm92aWRlcklkIHx8ICFzaWduSW5NZXRob2QpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGNyZWQgPSBuZXcgT0F1dGhDcmVkZW50aWFsKHByb3ZpZGVySWQsIHNpZ25Jbk1ldGhvZCk7XG4gICAgY3JlZC5pZFRva2VuID0gcmVzdC5pZFRva2VuIHx8IHVuZGVmaW5lZDtcbiAgICBjcmVkLmFjY2Vzc1Rva2VuID0gcmVzdC5hY2Nlc3NUb2tlbiB8fCB1bmRlZmluZWQ7XG4gICAgY3JlZC5zZWNyZXQgPSByZXN0LnNlY3JldDtcbiAgICBjcmVkLm5vbmNlID0gcmVzdC5ub25jZTtcbiAgICBjcmVkLnBlbmRpbmdUb2tlbiA9IHJlc3QucGVuZGluZ1Rva2VuIHx8IG51bGw7XG4gICAgcmV0dXJuIGNyZWQ7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9nZXRJZFRva2VuUmVzcG9uc2UoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5idWlsZFJlcXVlc3QoKTtcbiAgICByZXR1cm4gc2lnbkluV2l0aElkcChhdXRoLCByZXF1ZXN0KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2xpbmtUb0lkVG9rZW4oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGlkVG9rZW46IHN0cmluZ1xuICApOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmJ1aWxkUmVxdWVzdCgpO1xuICAgIHJlcXVlc3QuaWRUb2tlbiA9IGlkVG9rZW47XG4gICAgcmV0dXJuIHNpZ25JbldpdGhJZHAoYXV0aCwgcmVxdWVzdCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9nZXRSZWF1dGhlbnRpY2F0aW9uUmVzb2x2ZXIoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5idWlsZFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0LmF1dG9DcmVhdGUgPSBmYWxzZTtcbiAgICByZXR1cm4gc2lnbkluV2l0aElkcChhdXRoLCByZXF1ZXN0KTtcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRSZXF1ZXN0KCk6IFNpZ25JbldpdGhJZHBSZXF1ZXN0IHtcbiAgICBjb25zdCByZXF1ZXN0OiBTaWduSW5XaXRoSWRwUmVxdWVzdCA9IHtcbiAgICAgIHJlcXVlc3RVcmk6IElEUF9SRVFVRVNUX1VSSSxcbiAgICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlXG4gICAgfTtcblxuICAgIGlmICh0aGlzLnBlbmRpbmdUb2tlbikge1xuICAgICAgcmVxdWVzdC5wZW5kaW5nVG9rZW4gPSB0aGlzLnBlbmRpbmdUb2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcG9zdEJvZHk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICAgIGlmICh0aGlzLmlkVG9rZW4pIHtcbiAgICAgICAgcG9zdEJvZHlbJ2lkX3Rva2VuJ10gPSB0aGlzLmlkVG9rZW47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hY2Nlc3NUb2tlbikge1xuICAgICAgICBwb3N0Qm9keVsnYWNjZXNzX3Rva2VuJ10gPSB0aGlzLmFjY2Vzc1Rva2VuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2VjcmV0KSB7XG4gICAgICAgIHBvc3RCb2R5WydvYXV0aF90b2tlbl9zZWNyZXQnXSA9IHRoaXMuc2VjcmV0O1xuICAgICAgfVxuXG4gICAgICBwb3N0Qm9keVsncHJvdmlkZXJJZCddID0gdGhpcy5wcm92aWRlcklkO1xuICAgICAgaWYgKHRoaXMubm9uY2UgJiYgIXRoaXMucGVuZGluZ1Rva2VuKSB7XG4gICAgICAgIHBvc3RCb2R5Wydub25jZSddID0gdGhpcy5ub25jZTtcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5wb3N0Qm9keSA9IHF1ZXJ5c3RyaW5nKHBvc3RCb2R5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBfYWRkVGlkSWZOZWNlc3NhcnksXG4gIF9tYWtlVGFnZ2VkRXJyb3IsXG4gIF9wZXJmb3JtQXBpUmVxdWVzdCxcbiAgX3BlcmZvcm1TaWduSW5SZXF1ZXN0XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBTZXJ2ZXJFcnJvciwgU2VydmVyRXJyb3JNYXAgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFBob25lVmVyaWZpY2F0aW9uQ29kZVJlcXVlc3Qge1xuICBwaG9uZU51bWJlcjogc3RyaW5nO1xuICByZWNhcHRjaGFUb2tlbjogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZW5kUGhvbmVWZXJpZmljYXRpb25Db2RlUmVzcG9uc2Uge1xuICBzZXNzaW9uSW5mbzogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFBob25lVmVyaWZpY2F0aW9uQ29kZShcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2VuZFBob25lVmVyaWZpY2F0aW9uQ29kZVJlcXVlc3Rcbik6IFByb21pc2U8U2VuZFBob25lVmVyaWZpY2F0aW9uQ29kZVJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgU2VuZFBob25lVmVyaWZpY2F0aW9uQ29kZVJlcXVlc3QsXG4gICAgU2VuZFBob25lVmVyaWZpY2F0aW9uQ29kZVJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0VORF9WRVJJRklDQVRJT05fQ09ERSxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0IHtcbiAgdGVtcG9yYXJ5UHJvb2Y/OiBzdHJpbmc7XG4gIHBob25lTnVtYmVyPzogc3RyaW5nO1xuICBzZXNzaW9uSW5mbz86IHN0cmluZztcbiAgY29kZT86IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlua1dpdGhQaG9uZU51bWJlclJlcXVlc3RcbiAgZXh0ZW5kcyBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHtcbiAgdGVtcG9yYXJ5UHJvb2Y/OiBzdHJpbmc7XG4gIHBob25lTnVtYmVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aFBob25lTnVtYmVyKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybVNpZ25JblJlcXVlc3Q8XG4gICAgU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdCxcbiAgICBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fSU5fV0lUSF9QSE9ORV9OVU1CRVIsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaW5rV2l0aFBob25lTnVtYmVyKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBMaW5rV2l0aFBob25lTnVtYmVyUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9wZXJmb3JtU2lnbkluUmVxdWVzdDxcbiAgICBMaW5rV2l0aFBob25lTnVtYmVyUmVxdWVzdCxcbiAgICBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNJR05fSU5fV0lUSF9QSE9ORV9OVU1CRVIsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG4gIGlmIChyZXNwb25zZS50ZW1wb3JhcnlQcm9vZikge1xuICAgIHRocm93IF9tYWtlVGFnZ2VkRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5ORUVEX0NPTkZJUk1BVElPTiwgcmVzcG9uc2UpO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuaW50ZXJmYWNlIFZlcmlmeVBob25lTnVtYmVyRm9yRXhpc3RpbmdSZXF1ZXN0XG4gIGV4dGVuZHMgU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdCB7XG4gIG9wZXJhdGlvbjogJ1JFQVVUSCc7XG59XG5cbmNvbnN0IFZFUklGWV9QSE9ORV9OVU1CRVJfRk9SX0VYSVNUSU5HX0VSUk9SX01BUF86IFBhcnRpYWw8XG4gIFNlcnZlckVycm9yTWFwPFNlcnZlckVycm9yPlxuPiA9IHtcbiAgW1NlcnZlckVycm9yLlVTRVJfTk9UX0ZPVU5EXTogQXV0aEVycm9yQ29kZS5VU0VSX0RFTEVURURcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQaG9uZU51bWJlckZvckV4aXN0aW5nKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0XG4pOiBQcm9taXNlPFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlPiB7XG4gIGNvbnN0IGFwaVJlcXVlc3Q6IFZlcmlmeVBob25lTnVtYmVyRm9yRXhpc3RpbmdSZXF1ZXN0ID0ge1xuICAgIC4uLnJlcXVlc3QsXG4gICAgb3BlcmF0aW9uOiAnUkVBVVRIJ1xuICB9O1xuICByZXR1cm4gX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFxuICAgIFZlcmlmeVBob25lTnVtYmVyRm9yRXhpc3RpbmdSZXF1ZXN0LFxuICAgIFNpZ25JbldpdGhQaG9uZU51bWJlclJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuU0lHTl9JTl9XSVRIX1BIT05FX05VTUJFUixcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgYXBpUmVxdWVzdCksXG4gICAgVkVSSUZZX1BIT05FX05VTUJFUl9GT1JfRVhJU1RJTkdfRVJST1JfTUFQX1xuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFByb3ZpZGVySWQsIFNpZ25Jbk1ldGhvZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuaW1wb3J0IHsgUGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHtcbiAgbGlua1dpdGhQaG9uZU51bWJlcixcbiAgc2lnbkluV2l0aFBob25lTnVtYmVyLFxuICBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0LFxuICB2ZXJpZnlQaG9uZU51bWJlckZvckV4aXN0aW5nXG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9zbXMnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vYXV0aF9jcmVkZW50aWFsJztcblxuZXhwb3J0IGludGVyZmFjZSBQaG9uZUF1dGhDcmVkZW50aWFsUGFyYW1ldGVycyB7XG4gIHZlcmlmaWNhdGlvbklkPzogc3RyaW5nO1xuICB2ZXJpZmljYXRpb25Db2RlPzogc3RyaW5nO1xuICBwaG9uZU51bWJlcj86IHN0cmluZztcbiAgdGVtcG9yYXJ5UHJvb2Y/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgY3JlZGVudGlhbHMgcmV0dXJuZWQgYnkge0BsaW5rIFBob25lQXV0aFByb3ZpZGVyfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQaG9uZUF1dGhDcmVkZW50aWFsIGV4dGVuZHMgQXV0aENyZWRlbnRpYWwge1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgcGFyYW1zOiBQaG9uZUF1dGhDcmVkZW50aWFsUGFyYW1ldGVycykge1xuICAgIHN1cGVyKFByb3ZpZGVySWQuUEhPTkUsIFNpZ25Jbk1ldGhvZC5QSE9ORSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbVZlcmlmaWNhdGlvbihcbiAgICB2ZXJpZmljYXRpb25JZDogc3RyaW5nLFxuICAgIHZlcmlmaWNhdGlvbkNvZGU6IHN0cmluZ1xuICApOiBQaG9uZUF1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gbmV3IFBob25lQXV0aENyZWRlbnRpYWwoeyB2ZXJpZmljYXRpb25JZCwgdmVyaWZpY2F0aW9uQ29kZSB9KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tVG9rZW5SZXNwb25zZShcbiAgICBwaG9uZU51bWJlcjogc3RyaW5nLFxuICAgIHRlbXBvcmFyeVByb29mOiBzdHJpbmdcbiAgKTogUGhvbmVBdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIG5ldyBQaG9uZUF1dGhDcmVkZW50aWFsKHsgcGhvbmVOdW1iZXIsIHRlbXBvcmFyeVByb29mIH0pO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZ2V0SWRUb2tlblJlc3BvbnNlKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8UGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiBzaWduSW5XaXRoUGhvbmVOdW1iZXIoYXV0aCwgdGhpcy5fbWFrZVZlcmlmaWNhdGlvblJlcXVlc3QoKSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9saW5rVG9JZFRva2VuKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBpZFRva2VuOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gbGlua1dpdGhQaG9uZU51bWJlcihhdXRoLCB7XG4gICAgICBpZFRva2VuLFxuICAgICAgLi4udGhpcy5fbWFrZVZlcmlmaWNhdGlvblJlcXVlc3QoKVxuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZ2V0UmVhdXRoZW50aWNhdGlvblJlc29sdmVyKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHZlcmlmeVBob25lTnVtYmVyRm9yRXhpc3RpbmcoYXV0aCwgdGhpcy5fbWFrZVZlcmlmaWNhdGlvblJlcXVlc3QoKSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9tYWtlVmVyaWZpY2F0aW9uUmVxdWVzdCgpOiBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0IHtcbiAgICBjb25zdCB7IHRlbXBvcmFyeVByb29mLCBwaG9uZU51bWJlciwgdmVyaWZpY2F0aW9uSWQsIHZlcmlmaWNhdGlvbkNvZGUgfSA9XG4gICAgICB0aGlzLnBhcmFtcztcbiAgICBpZiAodGVtcG9yYXJ5UHJvb2YgJiYgcGhvbmVOdW1iZXIpIHtcbiAgICAgIHJldHVybiB7IHRlbXBvcmFyeVByb29mLCBwaG9uZU51bWJlciB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzZXNzaW9uSW5mbzogdmVyaWZpY2F0aW9uSWQsXG4gICAgICBjb2RlOiB2ZXJpZmljYXRpb25Db2RlXG4gICAgfTtcbiAgfVxuXG4gIC8qKiB7QGluaGVyaXRkb2MgQXV0aENyZWRlbnRpYWwudG9KU09OfSAqL1xuICB0b0pTT04oKTogb2JqZWN0IHtcbiAgICBjb25zdCBvYmo6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBwcm92aWRlcklkOiB0aGlzLnByb3ZpZGVySWRcbiAgICB9O1xuICAgIGlmICh0aGlzLnBhcmFtcy5waG9uZU51bWJlcikge1xuICAgICAgb2JqLnBob25lTnVtYmVyID0gdGhpcy5wYXJhbXMucGhvbmVOdW1iZXI7XG4gICAgfVxuICAgIGlmICh0aGlzLnBhcmFtcy50ZW1wb3JhcnlQcm9vZikge1xuICAgICAgb2JqLnRlbXBvcmFyeVByb29mID0gdGhpcy5wYXJhbXMudGVtcG9yYXJ5UHJvb2Y7XG4gICAgfVxuICAgIGlmICh0aGlzLnBhcmFtcy52ZXJpZmljYXRpb25Db2RlKSB7XG4gICAgICBvYmoudmVyaWZpY2F0aW9uQ29kZSA9IHRoaXMucGFyYW1zLnZlcmlmaWNhdGlvbkNvZGU7XG4gICAgfVxuICAgIGlmICh0aGlzLnBhcmFtcy52ZXJpZmljYXRpb25JZCkge1xuICAgICAgb2JqLnZlcmlmaWNhdGlvbklkID0gdGhpcy5wYXJhbXMudmVyaWZpY2F0aW9uSWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIC8qKiBHZW5lcmF0ZXMgYSBwaG9uZSBjcmVkZW50aWFsIGJhc2VkIG9uIGEgcGxhaW4gb2JqZWN0IG9yIGEgSlNPTiBzdHJpbmcuICovXG4gIHN0YXRpYyBmcm9tSlNPTihqc29uOiBvYmplY3QgfCBzdHJpbmcpOiBQaG9uZUF1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgaWYgKHR5cGVvZiBqc29uID09PSAnc3RyaW5nJykge1xuICAgICAganNvbiA9IEpTT04ucGFyc2UoanNvbik7XG4gICAgfVxuXG4gICAgY29uc3QgeyB2ZXJpZmljYXRpb25JZCwgdmVyaWZpY2F0aW9uQ29kZSwgcGhvbmVOdW1iZXIsIHRlbXBvcmFyeVByb29mIH0gPVxuICAgICAganNvbiBhcyB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAgIGlmIChcbiAgICAgICF2ZXJpZmljYXRpb25Db2RlICYmXG4gICAgICAhdmVyaWZpY2F0aW9uSWQgJiZcbiAgICAgICFwaG9uZU51bWJlciAmJlxuICAgICAgIXRlbXBvcmFyeVByb29mXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFBob25lQXV0aENyZWRlbnRpYWwoe1xuICAgICAgdmVyaWZpY2F0aW9uSWQsXG4gICAgICB2ZXJpZmljYXRpb25Db2RlLFxuICAgICAgcGhvbmVOdW1iZXIsXG4gICAgICB0ZW1wb3JhcnlQcm9vZlxuICAgIH0pO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgZXh0cmFjdFF1ZXJ5c3RyaW5nLCBxdWVyeXN0cmluZ0RlY29kZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IEFjdGlvbkNvZGVPcGVyYXRpb24gfSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuL3V0aWwvYXNzZXJ0JztcblxuLyoqXG4gKiBFbnVtcyBmb3IgZmllbGRzIGluIFVSTCBxdWVyeSBzdHJpbmcuXG4gKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuY29uc3QgZW51bSBRdWVyeUZpZWxkIHtcbiAgQVBJX0tFWSA9ICdhcGlLZXknLFxuICBDT0RFID0gJ29vYkNvZGUnLFxuICBDT05USU5VRV9VUkwgPSAnY29udGludWVVcmwnLFxuICBMQU5HVUFHRV9DT0RFID0gJ2xhbmd1YWdlQ29kZScsXG4gIE1PREUgPSAnbW9kZScsXG4gIFRFTkFOVF9JRCA9ICd0ZW5hbnRJZCdcbn1cblxuLyoqXG4gKiBNYXBzIHRoZSBtb2RlIHN0cmluZyBpbiBhY3Rpb24gY29kZSBVUkwgdG8gQWN0aW9uIENvZGUgSW5mbyBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIG1vZGVcbiAqL1xuZnVuY3Rpb24gcGFyc2VNb2RlKG1vZGU6IHN0cmluZyB8IG51bGwpOiBBY3Rpb25Db2RlT3BlcmF0aW9uIHwgbnVsbCB7XG4gIHN3aXRjaCAobW9kZSkge1xuICAgIGNhc2UgJ3JlY292ZXJFbWFpbCc6XG4gICAgICByZXR1cm4gQWN0aW9uQ29kZU9wZXJhdGlvbi5SRUNPVkVSX0VNQUlMO1xuICAgIGNhc2UgJ3Jlc2V0UGFzc3dvcmQnOlxuICAgICAgcmV0dXJuIEFjdGlvbkNvZGVPcGVyYXRpb24uUEFTU1dPUkRfUkVTRVQ7XG4gICAgY2FzZSAnc2lnbkluJzpcbiAgICAgIHJldHVybiBBY3Rpb25Db2RlT3BlcmF0aW9uLkVNQUlMX1NJR05JTjtcbiAgICBjYXNlICd2ZXJpZnlFbWFpbCc6XG4gICAgICByZXR1cm4gQWN0aW9uQ29kZU9wZXJhdGlvbi5WRVJJRllfRU1BSUw7XG4gICAgY2FzZSAndmVyaWZ5QW5kQ2hhbmdlRW1haWwnOlxuICAgICAgcmV0dXJuIEFjdGlvbkNvZGVPcGVyYXRpb24uVkVSSUZZX0FORF9DSEFOR0VfRU1BSUw7XG4gICAgY2FzZSAncmV2ZXJ0U2Vjb25kRmFjdG9yQWRkaXRpb24nOlxuICAgICAgcmV0dXJuIEFjdGlvbkNvZGVPcGVyYXRpb24uUkVWRVJUX1NFQ09ORF9GQUNUT1JfQURESVRJT047XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRvIHBhcnNlIEZETCBsaW5rc1xuICpcbiAqIEBwYXJhbSB1cmxcbiAqL1xuZnVuY3Rpb24gcGFyc2VEZWVwTGluayh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGxpbmsgPSBxdWVyeXN0cmluZ0RlY29kZShleHRyYWN0UXVlcnlzdHJpbmcodXJsKSlbJ2xpbmsnXTtcblxuICAvLyBEb3VibGUgbGluayBjYXNlIChhdXRvbWF0aWMgcmVkaXJlY3QpLlxuICBjb25zdCBkb3VibGVEZWVwTGluayA9IGxpbmtcbiAgICA/IHF1ZXJ5c3RyaW5nRGVjb2RlKGV4dHJhY3RRdWVyeXN0cmluZyhsaW5rKSlbJ2RlZXBfbGlua19pZCddXG4gICAgOiBudWxsO1xuICAvLyBpT1MgY3VzdG9tIHNjaGVtZSBsaW5rcy5cbiAgY29uc3QgaU9TRGVlcExpbmsgPSBxdWVyeXN0cmluZ0RlY29kZShleHRyYWN0UXVlcnlzdHJpbmcodXJsKSlbXG4gICAgJ2RlZXBfbGlua19pZCdcbiAgXTtcbiAgY29uc3QgaU9TRG91YmxlRGVlcExpbmsgPSBpT1NEZWVwTGlua1xuICAgID8gcXVlcnlzdHJpbmdEZWNvZGUoZXh0cmFjdFF1ZXJ5c3RyaW5nKGlPU0RlZXBMaW5rKSlbJ2xpbmsnXVxuICAgIDogbnVsbDtcbiAgcmV0dXJuIGlPU0RvdWJsZURlZXBMaW5rIHx8IGlPU0RlZXBMaW5rIHx8IGRvdWJsZURlZXBMaW5rIHx8IGxpbmsgfHwgdXJsO1xufVxuXG4vKipcbiAqIEEgdXRpbGl0eSBjbGFzcyB0byBwYXJzZSBlbWFpbCBhY3Rpb24gVVJMcyBzdWNoIGFzIHBhc3N3b3JkIHJlc2V0LCBlbWFpbCB2ZXJpZmljYXRpb24sXG4gKiBlbWFpbCBsaW5rIHNpZ24gaW4sIGV0Yy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBBY3Rpb25Db2RlVVJMIHtcbiAgLyoqXG4gICAqIFRoZSBBUEkga2V5IG9mIHRoZSBlbWFpbCBhY3Rpb24gbGluay5cbiAgICovXG4gIHJlYWRvbmx5IGFwaUtleTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGFjdGlvbiBjb2RlIG9mIHRoZSBlbWFpbCBhY3Rpb24gbGluay5cbiAgICovXG4gIHJlYWRvbmx5IGNvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBjb250aW51ZSBVUkwgb2YgdGhlIGVtYWlsIGFjdGlvbiBsaW5rLiBOdWxsIGlmIG5vdCBwcm92aWRlZC5cbiAgICovXG4gIHJlYWRvbmx5IGNvbnRpbnVlVXJsOiBzdHJpbmcgfCBudWxsO1xuICAvKipcbiAgICogVGhlIGxhbmd1YWdlIGNvZGUgb2YgdGhlIGVtYWlsIGFjdGlvbiBsaW5rLiBOdWxsIGlmIG5vdCBwcm92aWRlZC5cbiAgICovXG4gIHJlYWRvbmx5IGxhbmd1YWdlQ29kZTogc3RyaW5nIHwgbnVsbDtcbiAgLyoqXG4gICAqIFRoZSBhY3Rpb24gcGVyZm9ybWVkIGJ5IHRoZSBlbWFpbCBhY3Rpb24gbGluay4gSXQgcmV0dXJucyBmcm9tIG9uZSBvZiB0aGUgdHlwZXMgZnJvbVxuICAgKiB7QGxpbmsgQWN0aW9uQ29kZUluZm99XG4gICAqL1xuICByZWFkb25seSBvcGVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0ZW5hbnQgSUQgb2YgdGhlIGVtYWlsIGFjdGlvbiBsaW5rLiBOdWxsIGlmIHRoZSBlbWFpbCBhY3Rpb24gaXMgZnJvbSB0aGUgcGFyZW50IHByb2plY3QuXG4gICAqL1xuICByZWFkb25seSB0ZW5hbnRJZDogc3RyaW5nIHwgbnVsbDtcblxuICAvKipcbiAgICogQHBhcmFtIGFjdGlvbkxpbmsgLSBUaGUgbGluayBmcm9tIHdoaWNoIHRvIGV4dHJhY3QgdGhlIFVSTC5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBBY3Rpb25Db2RlVVJMfSBvYmplY3QsIG9yIG51bGwgaWYgdGhlIGxpbmsgaXMgaW52YWxpZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhY3Rpb25MaW5rOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBxdWVyeXN0cmluZ0RlY29kZShleHRyYWN0UXVlcnlzdHJpbmcoYWN0aW9uTGluaykpO1xuICAgIGNvbnN0IGFwaUtleSA9IHNlYXJjaFBhcmFtc1tRdWVyeUZpZWxkLkFQSV9LRVldID8/IG51bGw7XG4gICAgY29uc3QgY29kZSA9IHNlYXJjaFBhcmFtc1tRdWVyeUZpZWxkLkNPREVdID8/IG51bGw7XG4gICAgY29uc3Qgb3BlcmF0aW9uID0gcGFyc2VNb2RlKHNlYXJjaFBhcmFtc1tRdWVyeUZpZWxkLk1PREVdID8/IG51bGwpO1xuICAgIC8vIFZhbGlkYXRlIEFQSSBrZXksIGNvZGUgYW5kIG1vZGUuXG4gICAgX2Fzc2VydChhcGlLZXkgJiYgY29kZSAmJiBvcGVyYXRpb24sIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICAgIHRoaXMub3BlcmF0aW9uID0gb3BlcmF0aW9uO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgdGhpcy5jb250aW51ZVVybCA9IHNlYXJjaFBhcmFtc1tRdWVyeUZpZWxkLkNPTlRJTlVFX1VSTF0gPz8gbnVsbDtcbiAgICB0aGlzLmxhbmd1YWdlQ29kZSA9IHNlYXJjaFBhcmFtc1tRdWVyeUZpZWxkLkxBTkdVQUdFX0NPREVdID8/IG51bGw7XG4gICAgdGhpcy50ZW5hbnRJZCA9IHNlYXJjaFBhcmFtc1tRdWVyeUZpZWxkLlRFTkFOVF9JRF0gPz8gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZXMgdGhlIGVtYWlsIGFjdGlvbiBsaW5rIHN0cmluZyBhbmQgcmV0dXJucyBhbiB7QGxpbmsgQWN0aW9uQ29kZVVSTH0gaWYgdGhlIGxpbmsgaXMgdmFsaWQsXG4gICAqIG90aGVyd2lzZSByZXR1cm5zIG51bGwuXG4gICAqXG4gICAqIEBwYXJhbSBsaW5rICAtIFRoZSBlbWFpbCBhY3Rpb24gbGluayBzdHJpbmcuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgQWN0aW9uQ29kZVVSTH0gb2JqZWN0LCBvciBudWxsIGlmIHRoZSBsaW5rIGlzIGludmFsaWQuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHN0YXRpYyBwYXJzZUxpbmsobGluazogc3RyaW5nKTogQWN0aW9uQ29kZVVSTCB8IG51bGwge1xuICAgIGNvbnN0IGFjdGlvbkxpbmsgPSBwYXJzZURlZXBMaW5rKGxpbmspO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IEFjdGlvbkNvZGVVUkwoYWN0aW9uTGluayk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBQYXJzZXMgdGhlIGVtYWlsIGFjdGlvbiBsaW5rIHN0cmluZyBhbmQgcmV0dXJucyBhbiB7QGxpbmsgQWN0aW9uQ29kZVVSTH0gaWZcbiAqIHRoZSBsaW5rIGlzIHZhbGlkLCBvdGhlcndpc2UgcmV0dXJucyBudWxsLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQWN0aW9uQ29kZVVSTChsaW5rOiBzdHJpbmcpOiBBY3Rpb25Db2RlVVJMIHwgbnVsbCB7XG4gIHJldHVybiBBY3Rpb25Db2RlVVJMLnBhcnNlTGluayhsaW5rKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQcm92aWRlcklkLCBTaWduSW5NZXRob2QgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBBY3Rpb25Db2RlVVJMIH0gZnJvbSAnLi4vYWN0aW9uX2NvZGVfdXJsJztcbmltcG9ydCB7IEVtYWlsQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscy9lbWFpbCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcge0BsaW5rIEVtYWlsQXV0aENyZWRlbnRpYWx9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEVtYWlsQXV0aFByb3ZpZGVyIGltcGxlbWVudHMgQXV0aFByb3ZpZGVyIHtcbiAgLyoqXG4gICAqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFByb3ZpZGVySWR9LlBBU1NXT1JELCBldmVuIGZvciBlbWFpbCBsaW5rLlxuICAgKi9cbiAgc3RhdGljIHJlYWRvbmx5IFBST1ZJREVSX0lEOiAncGFzc3dvcmQnID0gUHJvdmlkZXJJZC5QQVNTV09SRDtcbiAgLyoqXG4gICAqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFNpZ25Jbk1ldGhvZH0uRU1BSUxfUEFTU1dPUkQuXG4gICAqL1xuICBzdGF0aWMgcmVhZG9ubHkgRU1BSUxfUEFTU1dPUkRfU0lHTl9JTl9NRVRIT0Q6ICdwYXNzd29yZCcgPVxuICAgIFNpZ25Jbk1ldGhvZC5FTUFJTF9QQVNTV09SRDtcbiAgLyoqXG4gICAqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFNpZ25Jbk1ldGhvZH0uRU1BSUxfTElOSy5cbiAgICovXG4gIHN0YXRpYyByZWFkb25seSBFTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EOiAnZW1haWxMaW5rJyA9XG4gICAgU2lnbkluTWV0aG9kLkVNQUlMX0xJTks7XG4gIC8qKlxuICAgKiBBbHdheXMgc2V0IHRvIHtAbGluayBQcm92aWRlcklkfS5QQVNTV09SRCwgZXZlbiBmb3IgZW1haWwgbGluay5cbiAgICovXG4gIHJlYWRvbmx5IHByb3ZpZGVySWQgPSBFbWFpbEF1dGhQcm92aWRlci5QUk9WSURFUl9JRDtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhbiB7QGxpbmsgQXV0aENyZWRlbnRpYWx9IHVzaW5nIGFuIGVtYWlsIGFuZCBwYXNzd29yZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBhdXRoQ3JlZGVudGlhbCA9IEVtYWlsQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoZW1haWwsIHBhc3N3b3JkKTtcbiAgICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoQ3JlZGVudGlhbChhdXRoLCBhdXRoQ3JlZGVudGlhbCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBlbWFpbCAtIEVtYWlsIGFkZHJlc3MuXG4gICAqIEBwYXJhbSBwYXNzd29yZCAtIFVzZXIgYWNjb3VudCBwYXNzd29yZC5cbiAgICogQHJldHVybnMgVGhlIGF1dGggcHJvdmlkZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBFbWFpbEF1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gRW1haWxBdXRoQ3JlZGVudGlhbC5fZnJvbUVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGFuIHtAbGluayBBdXRoQ3JlZGVudGlhbH0gdXNpbmcgYW4gZW1haWwgYW5kIGFuIGVtYWlsIGxpbmsgYWZ0ZXIgYSBzaWduIGluIHdpdGhcbiAgICogZW1haWwgbGluayBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3QgYXV0aENyZWRlbnRpYWwgPSBFbWFpbEF1dGhQcm92aWRlci5jcmVkZW50aWFsV2l0aExpbmsoYXV0aCwgZW1haWwsIGVtYWlsTGluayk7XG4gICAqIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aENyZWRlbnRpYWwoYXV0aCwgYXV0aENyZWRlbnRpYWwpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBhd2FpdCBzZW5kU2lnbkluTGlua1RvRW1haWwoYXV0aCwgZW1haWwpO1xuICAgKiAvLyBPYnRhaW4gZW1haWxMaW5rIGZyb20gdXNlci5cbiAgICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoRW1haWxMaW5rKGF1dGgsIGVtYWlsLCBlbWFpbExpbmspO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlIHVzZWQgdG8gdmVyaWZ5IHRoZSBsaW5rLlxuICAgKiBAcGFyYW0gZW1haWwgLSBFbWFpbCBhZGRyZXNzLlxuICAgKiBAcGFyYW0gZW1haWxMaW5rIC0gU2lnbi1pbiBlbWFpbCBsaW5rLlxuICAgKiBAcmV0dXJucyAtIFRoZSBhdXRoIHByb3ZpZGVyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbFdpdGhMaW5rKFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgZW1haWxMaW5rOiBzdHJpbmdcbiAgKTogRW1haWxBdXRoQ3JlZGVudGlhbCB7XG4gICAgY29uc3QgYWN0aW9uQ29kZVVybCA9IEFjdGlvbkNvZGVVUkwucGFyc2VMaW5rKGVtYWlsTGluayk7XG4gICAgX2Fzc2VydChhY3Rpb25Db2RlVXJsLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcblxuICAgIHJldHVybiBFbWFpbEF1dGhDcmVkZW50aWFsLl9mcm9tRW1haWxBbmRDb2RlKFxuICAgICAgZW1haWwsXG4gICAgICBhY3Rpb25Db2RlVXJsLmNvZGUsXG4gICAgICBhY3Rpb25Db2RlVXJsLnRlbmFudElkXG4gICAgKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGhQcm92aWRlciB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbi8qKlxuICogTWFwIG9mIE9BdXRoIEN1c3RvbSBQYXJhbWV0ZXJzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgQ3VzdG9tUGFyYW1ldGVycyA9IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBGZWRlcmF0ZWQgcHJvdmlkZXJzIChPQXV0aCAoaW5jbHVkaW5nIE9JREMpLCBTQU1MKS5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIG5vdCBtZWFudCB0byBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRmVkZXJhdGVkQXV0aFByb3ZpZGVyIGltcGxlbWVudHMgQXV0aFByb3ZpZGVyIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBkZWZhdWx0TGFuZ3VhZ2VDb2RlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcml2YXRlIGN1c3RvbVBhcmFtZXRlcnM6IEN1c3RvbVBhcmFtZXRlcnMgPSB7fTtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGdlbmVyaWMgT0F1dGggcHJvdmlkZXJzLlxuICAgKlxuICAgKiBAcGFyYW0gcHJvdmlkZXJJZCAtIFByb3ZpZGVyIGZvciB3aGljaCBjcmVkZW50aWFscyBzaG91bGQgYmUgZ2VuZXJhdGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IocmVhZG9ubHkgcHJvdmlkZXJJZDogc3RyaW5nKSB7fVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxhbmd1YWdlIGdvZGUuXG4gICAqXG4gICAqIEBwYXJhbSBsYW5ndWFnZUNvZGUgLSBsYW5ndWFnZSBjb2RlXG4gICAqL1xuICBzZXREZWZhdWx0TGFuZ3VhZ2UobGFuZ3VhZ2VDb2RlOiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy5kZWZhdWx0TGFuZ3VhZ2VDb2RlID0gbGFuZ3VhZ2VDb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIE9BdXRoIGN1c3RvbSBwYXJhbWV0ZXJzIHRvIHBhc3MgaW4gYW4gT0F1dGggcmVxdWVzdCBmb3IgcG9wdXAgYW5kIHJlZGlyZWN0IHNpZ24taW5cbiAgICogb3BlcmF0aW9ucy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogRm9yIGEgZGV0YWlsZWQgbGlzdCwgY2hlY2sgdGhlIHJlc2VydmVkIHJlcXVpcmVkIE9BdXRoIDIuMCBwYXJhbWV0ZXJzIHN1Y2ggYXMgYGNsaWVudF9pZGAsXG4gICAqIGByZWRpcmVjdF91cmlgLCBgc2NvcGVgLCBgcmVzcG9uc2VfdHlwZWAsIGFuZCBgc3RhdGVgIGFyZSBub3QgYWxsb3dlZCBhbmQgd2lsbCBiZSBpZ25vcmVkLlxuICAgKlxuICAgKiBAcGFyYW0gY3VzdG9tT0F1dGhQYXJhbWV0ZXJzIC0gVGhlIGN1c3RvbSBPQXV0aCBwYXJhbWV0ZXJzIHRvIHBhc3MgaW4gdGhlIE9BdXRoIHJlcXVlc3QuXG4gICAqL1xuICBzZXRDdXN0b21QYXJhbWV0ZXJzKGN1c3RvbU9BdXRoUGFyYW1ldGVyczogQ3VzdG9tUGFyYW1ldGVycyk6IEF1dGhQcm92aWRlciB7XG4gICAgdGhpcy5jdXN0b21QYXJhbWV0ZXJzID0gY3VzdG9tT0F1dGhQYXJhbWV0ZXJzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBjdXJyZW50IGxpc3Qgb2Yge0BsaW5rIEN1c3RvbVBhcmFtZXRlcnN9LlxuICAgKi9cbiAgZ2V0Q3VzdG9tUGFyYW1ldGVycygpOiBDdXN0b21QYXJhbWV0ZXJzIHtcbiAgICByZXR1cm4gdGhpcy5jdXN0b21QYXJhbWV0ZXJzO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aFByb3ZpZGVyLCBVc2VyQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcblxuaW1wb3J0IHsgT0F1dGhDcmVkZW50aWFsLCBPQXV0aENyZWRlbnRpYWxQYXJhbXMgfSBmcm9tICcuLi9jcmVkZW50aWFscy9vYXV0aCc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBTaWduSW5XaXRoSWRwUmVzcG9uc2UgfSBmcm9tICcuLi8uLi8uLi9pbnRlcm5hbCc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIgfSBmcm9tICcuL2ZlZGVyYXRlZCc7XG5cbi8qKlxuICogRGVmaW5lcyB0aGUgb3B0aW9ucyBmb3IgaW5pdGlhbGl6aW5nIGFuIHtAbGluayBPQXV0aENyZWRlbnRpYWx9LlxuICpcbiAqIEByZW1hcmtzXG4gKiBGb3IgSUQgdG9rZW5zIHdpdGggbm9uY2UgY2xhaW0sIHRoZSByYXcgbm9uY2UgaGFzIHRvIGFsc28gYmUgcHJvdmlkZWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE9BdXRoQ3JlZGVudGlhbE9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIE9BdXRoIElEIHRva2VuIHVzZWQgdG8gaW5pdGlhbGl6ZSB0aGUge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0uXG4gICAqL1xuICBpZFRva2VuPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIE9BdXRoIGFjY2VzcyB0b2tlbiB1c2VkIHRvIGluaXRpYWxpemUgdGhlIHtAbGluayBPQXV0aENyZWRlbnRpYWx9LlxuICAgKi9cbiAgYWNjZXNzVG9rZW4/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgcmF3IG5vbmNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgSUQgdG9rZW4uXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIEl0IGlzIHJlcXVpcmVkIHdoZW4gYW4gSUQgdG9rZW4gd2l0aCBhIG5vbmNlIGZpZWxkIGlzIHByb3ZpZGVkLiBUaGUgU0hBLTI1NiBoYXNoIG9mIHRoZVxuICAgKiByYXcgbm9uY2UgbXVzdCBtYXRjaCB0aGUgbm9uY2UgZmllbGQgaW4gdGhlIElEIHRva2VuLlxuICAgKi9cbiAgcmF3Tm9uY2U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQ29tbW9uIGNvZGUgdG8gYWxsIE9BdXRoIHByb3ZpZGVycy4gVGhpcyBpcyBzZXBhcmF0ZSBmcm9tIHRoZVxuICoge0BsaW5rIE9BdXRoUHJvdmlkZXJ9IHNvIHRoYXQgY2hpbGQgcHJvdmlkZXJzIChsaWtlXG4gKiB7QGxpbmsgR29vZ2xlQXV0aFByb3ZpZGVyfSkgZG9uJ3QgaW5oZXJpdCB0aGUgYGNyZWRlbnRpYWxgIGluc3RhbmNlIG1ldGhvZC5cbiAqIEluc3RlYWQsIHRoZXkgcmVseSBvbiBhIHN0YXRpYyBgY3JlZGVudGlhbGAgbWV0aG9kLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZU9BdXRoUHJvdmlkZXJcbiAgZXh0ZW5kcyBGZWRlcmF0ZWRBdXRoUHJvdmlkZXJcbiAgaW1wbGVtZW50cyBBdXRoUHJvdmlkZXJcbntcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcml2YXRlIHNjb3Blczogc3RyaW5nW10gPSBbXTtcblxuICAvKipcbiAgICogQWRkIGFuIE9BdXRoIHNjb3BlIHRvIHRoZSBjcmVkZW50aWFsLlxuICAgKlxuICAgKiBAcGFyYW0gc2NvcGUgLSBQcm92aWRlciBPQXV0aCBzY29wZSB0byBhZGQuXG4gICAqL1xuICBhZGRTY29wZShzY29wZTogc3RyaW5nKTogQXV0aFByb3ZpZGVyIHtcbiAgICAvLyBJZiBub3QgYWxyZWFkeSBhZGRlZCwgYWRkIHNjb3BlIHRvIGxpc3QuXG4gICAgaWYgKCF0aGlzLnNjb3Blcy5pbmNsdWRlcyhzY29wZSkpIHtcbiAgICAgIHRoaXMuc2NvcGVzLnB1c2goc2NvcGUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgY3VycmVudCBsaXN0IG9mIE9BdXRoIHNjb3Blcy5cbiAgICovXG4gIGdldFNjb3BlcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLnNjb3Blc107XG4gIH1cbn1cblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyBnZW5lcmljIHtAbGluayBPQXV0aENyZWRlbnRpYWx9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcmVkaXJlY3QuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBPQXV0aFByb3ZpZGVyKCdnb29nbGUuY29tJyk7XG4gKiAvLyBTdGFydCBhIHNpZ24gaW4gcHJvY2VzcyBmb3IgYW4gdW5hdXRoZW50aWNhdGVkIHVzZXIuXG4gKiBwcm92aWRlci5hZGRTY29wZSgncHJvZmlsZScpO1xuICogcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7XG4gKiBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiBpZiAocmVzdWx0KSB7XG4gKiAgIC8vIFRoaXMgaXMgdGhlIHNpZ25lZC1pbiB1c2VyXG4gKiAgIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBPQXV0aCBBY2Nlc3MgVG9rZW4gZm9yIHRoZSBwcm92aWRlci5cbiAqICAgY29uc3QgY3JlZGVudGlhbCA9IHByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KGF1dGgsIHJlc3VsdCk7XG4gKiAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcG9wdXAuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBPQXV0aFByb3ZpZGVyKCdnb29nbGUuY29tJyk7XG4gKiBwcm92aWRlci5hZGRTY29wZSgncHJvZmlsZScpO1xuICogcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICpcbiAqIC8vIFRoZSBzaWduZWQtaW4gdXNlciBpbmZvLlxuICogY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogLy8gVGhpcyBnaXZlcyB5b3UgYSBPQXV0aCBBY2Nlc3MgVG9rZW4gZm9yIHRoZSBwcm92aWRlci5cbiAqIGNvbnN0IGNyZWRlbnRpYWwgPSBwcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChhdXRoLCByZXN1bHQpO1xuICogY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogYGBgXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBPQXV0aFByb3ZpZGVyIGV4dGVuZHMgQmFzZU9BdXRoUHJvdmlkZXIge1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEgSlNPTiBzdHJpbmcgb3IgYSBwbGFpbiBvYmplY3QuXG4gICAqIEBwYXJhbSBqc29uIC0gQSBwbGFpbiBvYmplY3Qgb3IgYSBKU09OIHN0cmluZ1xuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tSlNPTihqc29uOiBvYmplY3QgfCBzdHJpbmcpOiBPQXV0aENyZWRlbnRpYWwge1xuICAgIGNvbnN0IG9iaiA9IHR5cGVvZiBqc29uID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoanNvbikgOiBqc29uO1xuICAgIF9hc3NlcnQoXG4gICAgICAncHJvdmlkZXJJZCcgaW4gb2JqICYmICdzaWduSW5NZXRob2QnIGluIG9iaixcbiAgICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgICApO1xuICAgIHJldHVybiBPQXV0aENyZWRlbnRpYWwuX2Zyb21QYXJhbXMob2JqKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIGdlbmVyaWMgT0F1dGggcHJvdmlkZXIncyBhY2Nlc3MgdG9rZW4gb3IgSUQgdG9rZW4uXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoZSByYXcgbm9uY2UgaXMgcmVxdWlyZWQgd2hlbiBhbiBJRCB0b2tlbiB3aXRoIGEgbm9uY2UgZmllbGQgaXMgcHJvdmlkZWQuIFRoZSBTSEEtMjU2IGhhc2ggb2ZcbiAgICogdGhlIHJhdyBub25jZSBtdXN0IG1hdGNoIHRoZSBub25jZSBmaWVsZCBpbiB0aGUgSUQgdG9rZW4uXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogLy8gYGdvb2dsZVVzZXJgIGZyb20gdGhlIG9uc3VjY2VzcyBHb29nbGUgU2lnbiBJbiBjYWxsYmFjay5cbiAgICogLy8gSW5pdGlhbGl6ZSBhIGdlbmVyYXRlIE9BdXRoIHByb3ZpZGVyIHdpdGggYSBgZ29vZ2xlLmNvbWAgcHJvdmlkZXJJZC5cbiAgICogY29uc3QgcHJvdmlkZXIgPSBuZXcgT0F1dGhQcm92aWRlcignZ29vZ2xlLmNvbScpO1xuICAgKiBjb25zdCBjcmVkZW50aWFsID0gcHJvdmlkZXIuY3JlZGVudGlhbCh7XG4gICAqICAgaWRUb2tlbjogZ29vZ2xlVXNlci5nZXRBdXRoUmVzcG9uc2UoKS5pZF90b2tlbixcbiAgICogfSk7XG4gICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhDcmVkZW50aWFsKGNyZWRlbnRpYWwpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIEVpdGhlciB0aGUgb3B0aW9ucyBvYmplY3QgY29udGFpbmluZyB0aGUgSUQgdG9rZW4sIGFjY2VzcyB0b2tlbiBhbmQgcmF3IG5vbmNlXG4gICAqIG9yIHRoZSBJRCB0b2tlbiBzdHJpbmcuXG4gICAqL1xuICBjcmVkZW50aWFsKHBhcmFtczogT0F1dGhDcmVkZW50aWFsT3B0aW9ucyk6IE9BdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIHRoaXMuX2NyZWRlbnRpYWwoeyAuLi5wYXJhbXMsIG5vbmNlOiBwYXJhbXMucmF3Tm9uY2UgfSk7XG4gIH1cblxuICAvKiogQW4gaW50ZXJuYWwgY3JlZGVudGlhbCBtZXRob2QgdGhhdCBhY2NlcHRzIG1vcmUgcGVybWlzc2l2ZSBvcHRpb25zICovXG4gIHByaXZhdGUgX2NyZWRlbnRpYWwoXG4gICAgcGFyYW1zOiBPbWl0PE9BdXRoQ3JlZGVudGlhbFBhcmFtcywgJ3NpZ25Jbk1ldGhvZCcgfCAncHJvdmlkZXJJZCc+XG4gICk6IE9BdXRoQ3JlZGVudGlhbCB7XG4gICAgX2Fzc2VydChwYXJhbXMuaWRUb2tlbiB8fCBwYXJhbXMuYWNjZXNzVG9rZW4sIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuICAgIC8vIEZvciBPQXV0aENyZWRlbnRpYWwsIHNpZ24gaW4gbWV0aG9kIGlzIHNhbWUgYXMgcHJvdmlkZXJJZC5cbiAgICByZXR1cm4gT0F1dGhDcmVkZW50aWFsLl9mcm9tUGFyYW1zKHtcbiAgICAgIC4uLnBhcmFtcyxcbiAgICAgIHByb3ZpZGVySWQ6IHRoaXMucHJvdmlkZXJJZCxcbiAgICAgIHNpZ25Jbk1ldGhvZDogdGhpcy5wcm92aWRlcklkXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgVXNlckNyZWRlbnRpYWx9LlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tUmVzdWx0KFxuICAgIHVzZXJDcmVkZW50aWFsOiBVc2VyQ3JlZGVudGlhbFxuICApOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gT0F1dGhQcm92aWRlci5vYXV0aENyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgdXNlckNyZWRlbnRpYWwgYXMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIEF1dGhFcnJvcn0gd2hpY2ggd2FzXG4gICAqIHRocm93biBkdXJpbmcgYSBzaWduLWluLCBsaW5rLCBvciByZWF1dGhlbnRpY2F0ZSBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21FcnJvcihlcnJvcjogRmlyZWJhc2VFcnJvcik6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBPQXV0aFByb3ZpZGVyLm9hdXRoQ3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICAoZXJyb3IuY3VzdG9tRGF0YSB8fCB7fSkgYXMgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2VcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgb2F1dGhDcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdCh7XG4gICAgX3Rva2VuUmVzcG9uc2U6IHRva2VuUmVzcG9uc2VcbiAgfTogVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBpZiAoIXRva2VuUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIG9hdXRoSWRUb2tlbixcbiAgICAgIG9hdXRoQWNjZXNzVG9rZW4sXG4gICAgICBvYXV0aFRva2VuU2VjcmV0LFxuICAgICAgcGVuZGluZ1Rva2VuLFxuICAgICAgbm9uY2UsXG4gICAgICBwcm92aWRlcklkXG4gICAgfSA9IHRva2VuUmVzcG9uc2UgYXMgU2lnbkluV2l0aElkcFJlc3BvbnNlO1xuICAgIGlmIChcbiAgICAgICFvYXV0aEFjY2Vzc1Rva2VuICYmXG4gICAgICAhb2F1dGhUb2tlblNlY3JldCAmJlxuICAgICAgIW9hdXRoSWRUb2tlbiAmJlxuICAgICAgIXBlbmRpbmdUb2tlblxuICAgICkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFwcm92aWRlcklkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBPQXV0aFByb3ZpZGVyKHByb3ZpZGVySWQpLl9jcmVkZW50aWFsKHtcbiAgICAgICAgaWRUb2tlbjogb2F1dGhJZFRva2VuLFxuICAgICAgICBhY2Nlc3NUb2tlbjogb2F1dGhBY2Nlc3NUb2tlbixcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIHBlbmRpbmdUb2tlblxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuaW1wb3J0IHsgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBPQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscy9vYXV0aCc7XG5pbXBvcnQgeyBCYXNlT0F1dGhQcm92aWRlciB9IGZyb20gJy4vb2F1dGgnO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCwgU2lnbkluTWV0aG9kIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIGFuIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZvciB7QGxpbmsgUHJvdmlkZXJJZH0uRkFDRUJPT0suXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSByZWRpcmVjdC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG4gKiAvLyBTdGFydCBhIHNpZ24gaW4gcHJvY2VzcyBmb3IgYW4gdW5hdXRoZW50aWNhdGVkIHVzZXIuXG4gKiBwcm92aWRlci5hZGRTY29wZSgndXNlcl9iaXJ0aGRheScpO1xuICogYXdhaXQgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogaWYgKHJlc3VsdCkge1xuICogICAvLyBUaGlzIGlzIHRoZSBzaWduZWQtaW4gdXNlclxuICogICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgRmFjZWJvb2sgQWNjZXNzIFRva2VuLlxuICogICBjb25zdCBjcmVkZW50aWFsID0gRmFjZWJvb2tBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KTtcbiAqICAgY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSBwb3B1cC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG4gKiBwcm92aWRlci5hZGRTY29wZSgndXNlcl9iaXJ0aGRheScpO1xuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aFBvcHVwKGF1dGgsIHByb3ZpZGVyKTtcbiAqXG4gKiAvLyBUaGUgc2lnbmVkLWluIHVzZXIgaW5mby5cbiAqIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqIC8vIFRoaXMgZ2l2ZXMgeW91IGEgRmFjZWJvb2sgQWNjZXNzIFRva2VuLlxuICogY29uc3QgY3JlZGVudGlhbCA9IEZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHJlc3VsdCk7XG4gKiBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBGYWNlYm9va0F1dGhQcm92aWRlciBleHRlbmRzIEJhc2VPQXV0aFByb3ZpZGVyIHtcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFNpZ25Jbk1ldGhvZH0uRkFDRUJPT0suICovXG4gIHN0YXRpYyByZWFkb25seSBGQUNFQk9PS19TSUdOX0lOX01FVEhPRDogJ2ZhY2Vib29rLmNvbScgPVxuICAgIFNpZ25Jbk1ldGhvZC5GQUNFQk9PSztcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFByb3ZpZGVySWR9LkZBQ0VCT09LLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfSUQ6ICdmYWNlYm9vay5jb20nID0gUHJvdmlkZXJJZC5GQUNFQk9PSztcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihQcm92aWRlcklkLkZBQ0VCT09LKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY3JlZGVudGlhbCBmb3IgRmFjZWJvb2suXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogLy8gYGV2ZW50YCBmcm9tIHRoZSBGYWNlYm9vayBhdXRoLmF1dGhSZXNwb25zZUNoYW5nZSBjYWxsYmFjay5cbiAgICogY29uc3QgY3JlZGVudGlhbCA9IEZhY2Vib29rQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoZXZlbnQuYXV0aFJlc3BvbnNlLmFjY2Vzc1Rva2VuKTtcbiAgICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aENyZWRlbnRpYWwoY3JlZGVudGlhbCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gYWNjZXNzVG9rZW4gLSBGYWNlYm9vayBhY2Nlc3MgdG9rZW4uXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbChhY2Nlc3NUb2tlbjogc3RyaW5nKTogT0F1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gT0F1dGhDcmVkZW50aWFsLl9mcm9tUGFyYW1zKHtcbiAgICAgIHByb3ZpZGVySWQ6IEZhY2Vib29rQXV0aFByb3ZpZGVyLlBST1ZJREVSX0lELFxuICAgICAgc2lnbkluTWV0aG9kOiBGYWNlYm9va0F1dGhQcm92aWRlci5GQUNFQk9PS19TSUdOX0lOX01FVEhPRCxcbiAgICAgIGFjY2Vzc1Rva2VuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgVXNlckNyZWRlbnRpYWx9LlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tUmVzdWx0KFxuICAgIHVzZXJDcmVkZW50aWFsOiBVc2VyQ3JlZGVudGlhbFxuICApOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gRmFjZWJvb2tBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICB1c2VyQ3JlZGVudGlhbCBhcyBVc2VyQ3JlZGVudGlhbEludGVybmFsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBBdXRoRXJyb3J9IHdoaWNoIHdhc1xuICAgKiB0aHJvd24gZHVyaW5nIGEgc2lnbi1pbiwgbGluaywgb3IgcmVhdXRoZW50aWNhdGUgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tRXJyb3IoZXJyb3I6IEZpcmViYXNlRXJyb3IpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gRmFjZWJvb2tBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICAoZXJyb3IuY3VzdG9tRGF0YSB8fCB7fSkgYXMgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2VcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3Qoe1xuICAgIF90b2tlblJlc3BvbnNlOiB0b2tlblJlc3BvbnNlXG4gIH06IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgaWYgKCF0b2tlblJlc3BvbnNlIHx8ICEoJ29hdXRoQWNjZXNzVG9rZW4nIGluIHRva2VuUmVzcG9uc2UpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXRva2VuUmVzcG9uc2Uub2F1dGhBY2Nlc3NUb2tlbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBGYWNlYm9va0F1dGhQcm92aWRlci5jcmVkZW50aWFsKHRva2VuUmVzcG9uc2Uub2F1dGhBY2Nlc3NUb2tlbik7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBTaWduSW5XaXRoSWRwUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vaWRwJztcbmltcG9ydCB7IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgT0F1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMvb2F1dGgnO1xuaW1wb3J0IHsgQmFzZU9BdXRoUHJvdmlkZXIgfSBmcm9tICcuL29hdXRoJztcbmltcG9ydCB7IFByb3ZpZGVySWQsIFNpZ25Jbk1ldGhvZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyBhbiB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmb3Ige0BsaW5rIFByb3ZpZGVySWR9LkdPT0dMRS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHJlZGlyZWN0LlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG4gKiAvLyBTdGFydCBhIHNpZ24gaW4gcHJvY2VzcyBmb3IgYW4gdW5hdXRoZW50aWNhdGVkIHVzZXIuXG4gKiBwcm92aWRlci5hZGRTY29wZSgncHJvZmlsZScpO1xuICogcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7XG4gKiBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiBpZiAocmVzdWx0KSB7XG4gKiAgIC8vIFRoaXMgaXMgdGhlIHNpZ25lZC1pbiB1c2VyXG4gKiAgIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjtcbiAqICAgLy8gVGhpcyBnaXZlcyB5b3UgYSBHb29nbGUgQWNjZXNzIFRva2VuLlxuICogICBjb25zdCBjcmVkZW50aWFsID0gR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHJlc3VsdCk7XG4gKiAgIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcG9wdXAuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBHb29nbGVBdXRoUHJvdmlkZXIoKTtcbiAqIHByb3ZpZGVyLmFkZFNjb3BlKCdwcm9maWxlJyk7XG4gKiBwcm92aWRlci5hZGRTY29wZSgnZW1haWwnKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gKlxuICogLy8gVGhlIHNpZ25lZC1pbiB1c2VyIGluZm8uXG4gKiBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAvLyBUaGlzIGdpdmVzIHlvdSBhIEdvb2dsZSBBY2Nlc3MgVG9rZW4uXG4gKiBjb25zdCBjcmVkZW50aWFsID0gR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHJlc3VsdCk7XG4gKiBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBHb29nbGVBdXRoUHJvdmlkZXIgZXh0ZW5kcyBCYXNlT0F1dGhQcm92aWRlciB7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBTaWduSW5NZXRob2R9LkdPT0dMRS4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IEdPT0dMRV9TSUdOX0lOX01FVEhPRDogJ2dvb2dsZS5jb20nID0gU2lnbkluTWV0aG9kLkdPT0dMRTtcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFByb3ZpZGVySWR9LkdPT0dMRS4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IFBST1ZJREVSX0lEOiAnZ29vZ2xlLmNvbScgPSBQcm92aWRlcklkLkdPT0dMRTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihQcm92aWRlcklkLkdPT0dMRSk7XG4gICAgdGhpcy5hZGRTY29wZSgncHJvZmlsZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjcmVkZW50aWFsIGZvciBHb29nbGUuIEF0IGxlYXN0IG9uZSBvZiBJRCB0b2tlbiBhbmQgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIC8vIFxcYGdvb2dsZVVzZXJcXGAgZnJvbSB0aGUgb25zdWNjZXNzIEdvb2dsZSBTaWduIEluIGNhbGxiYWNrLlxuICAgKiBjb25zdCBjcmVkZW50aWFsID0gR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwoZ29vZ2xlVXNlci5nZXRBdXRoUmVzcG9uc2UoKS5pZF90b2tlbik7XG4gICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhDcmVkZW50aWFsKGNyZWRlbnRpYWwpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGlkVG9rZW4gLSBHb29nbGUgSUQgdG9rZW4uXG4gICAqIEBwYXJhbSBhY2Nlc3NUb2tlbiAtIEdvb2dsZSBhY2Nlc3MgdG9rZW4uXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbChcbiAgICBpZFRva2VuPzogc3RyaW5nIHwgbnVsbCxcbiAgICBhY2Nlc3NUb2tlbj86IHN0cmluZyB8IG51bGxcbiAgKTogT0F1dGhDcmVkZW50aWFsIHtcbiAgICByZXR1cm4gT0F1dGhDcmVkZW50aWFsLl9mcm9tUGFyYW1zKHtcbiAgICAgIHByb3ZpZGVySWQ6IEdvb2dsZUF1dGhQcm92aWRlci5QUk9WSURFUl9JRCxcbiAgICAgIHNpZ25Jbk1ldGhvZDogR29vZ2xlQXV0aFByb3ZpZGVyLkdPT0dMRV9TSUdOX0lOX01FVEhPRCxcbiAgICAgIGlkVG9rZW4sXG4gICAgICBhY2Nlc3NUb2tlblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIFVzZXJDcmVkZW50aWFsfS5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbVJlc3VsdChcbiAgICB1c2VyQ3JlZGVudGlhbDogVXNlckNyZWRlbnRpYWxcbiAgKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIHVzZXJDcmVkZW50aWFsIGFzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBBdXRoRXJyb3J9IHdoaWNoIHdhc1xuICAgKiB0aHJvd24gZHVyaW5nIGEgc2lnbi1pbiwgbGluaywgb3IgcmVhdXRoZW50aWNhdGUgb3BlcmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tRXJyb3IoZXJyb3I6IEZpcmViYXNlRXJyb3IpOiBPQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICByZXR1cm4gR29vZ2xlQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgKGVycm9yLmN1c3RvbURhdGEgfHwge30pIGFzIFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KHtcbiAgICBfdG9rZW5SZXNwb25zZTogdG9rZW5SZXNwb25zZVxuICB9OiBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGlmICghdG9rZW5SZXNwb25zZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgeyBvYXV0aElkVG9rZW4sIG9hdXRoQWNjZXNzVG9rZW4gfSA9XG4gICAgICB0b2tlblJlc3BvbnNlIGFzIFNpZ25JbldpdGhJZHBSZXNwb25zZTtcbiAgICBpZiAoIW9hdXRoSWRUb2tlbiAmJiAhb2F1dGhBY2Nlc3NUb2tlbikge1xuICAgICAgLy8gVGhpcyBjb3VsZCBiZSBhbiBvYXV0aCAxIGNyZWRlbnRpYWwgb3IgYSBwaG9uZSBjcmVkZW50aWFsXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEdvb2dsZUF1dGhQcm92aWRlci5jcmVkZW50aWFsKG9hdXRoSWRUb2tlbiwgb2F1dGhBY2Nlc3NUb2tlbik7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQgeyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IE9BdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzL29hdXRoJztcbmltcG9ydCB7IEJhc2VPQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9vYXV0aCc7XG5pbXBvcnQgeyBQcm92aWRlcklkLCBTaWduSW5NZXRob2QgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcgYW4ge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZm9yIHtAbGluayBQcm92aWRlcklkfS5HSVRIVUIuXG4gKlxuICogQHJlbWFya3NcbiAqIEdpdEh1YiByZXF1aXJlcyBhbiBPQXV0aCAyLjAgcmVkaXJlY3QsIHNvIHlvdSBjYW4gZWl0aGVyIGhhbmRsZSB0aGUgcmVkaXJlY3QgZGlyZWN0bHksIG9yIHVzZVxuICogdGhlIHtAbGluayBzaWduSW5XaXRoUG9wdXB9IGhhbmRsZXI6XG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSByZWRpcmVjdC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEdpdGh1YkF1dGhQcm92aWRlcigpO1xuICogLy8gU3RhcnQgYSBzaWduIGluIHByb2Nlc3MgZm9yIGFuIHVuYXV0aGVudGljYXRlZCB1c2VyLlxuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3JlcG8nKTtcbiAqIGF3YWl0IHNpZ25JbldpdGhSZWRpcmVjdChhdXRoLCBwcm92aWRlcik7XG4gKiAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIGZ1bGwgcGFnZSByZWRpcmVjdCBhd2F5IGZyb20geW91ciBhcHBcbiAqXG4gKiAvLyBBZnRlciByZXR1cm5pbmcgZnJvbSB0aGUgcmVkaXJlY3Qgd2hlbiB5b3VyIGFwcCBpbml0aWFsaXplcyB5b3UgY2FuIG9idGFpbiB0aGUgcmVzdWx0XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRSZWRpcmVjdFJlc3VsdChhdXRoKTtcbiAqIGlmIChyZXN1bHQpIHtcbiAqICAgLy8gVGhpcyBpcyB0aGUgc2lnbmVkLWluIHVzZXJcbiAqICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogICAvLyBUaGlzIGdpdmVzIHlvdSBhIEdpdEh1YiBBY2Nlc3MgVG9rZW4uXG4gKiAgIGNvbnN0IGNyZWRlbnRpYWwgPSBHaXRodWJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KTtcbiAqICAgY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSBwb3B1cC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEdpdGh1YkF1dGhQcm92aWRlcigpO1xuICogcHJvdmlkZXIuYWRkU2NvcGUoJ3JlcG8nKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gKlxuICogLy8gVGhlIHNpZ25lZC1pbiB1c2VyIGluZm8uXG4gKiBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAvLyBUaGlzIGdpdmVzIHlvdSBhIEdpdEh1YiBBY2Nlc3MgVG9rZW4uXG4gKiBjb25zdCBjcmVkZW50aWFsID0gR2l0aHViQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tUmVzdWx0KHJlc3VsdCk7XG4gKiBjb25zdCB0b2tlbiA9IGNyZWRlbnRpYWwuYWNjZXNzVG9rZW47XG4gKiBgYGBcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEdpdGh1YkF1dGhQcm92aWRlciBleHRlbmRzIEJhc2VPQXV0aFByb3ZpZGVyIHtcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFNpZ25Jbk1ldGhvZH0uR0lUSFVCLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgR0lUSFVCX1NJR05fSU5fTUVUSE9EOiAnZ2l0aHViLmNvbScgPSBTaWduSW5NZXRob2QuR0lUSFVCO1xuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgUHJvdmlkZXJJZH0uR0lUSFVCLiAqL1xuICBzdGF0aWMgcmVhZG9ubHkgUFJPVklERVJfSUQ6ICdnaXRodWIuY29tJyA9IFByb3ZpZGVySWQuR0lUSFVCO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFByb3ZpZGVySWQuR0lUSFVCKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY3JlZGVudGlhbCBmb3IgR2l0SHViLlxuICAgKlxuICAgKiBAcGFyYW0gYWNjZXNzVG9rZW4gLSBHaXRIdWIgYWNjZXNzIHRva2VuLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWwoYWNjZXNzVG9rZW46IHN0cmluZyk6IE9BdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIE9BdXRoQ3JlZGVudGlhbC5fZnJvbVBhcmFtcyh7XG4gICAgICBwcm92aWRlcklkOiBHaXRodWJBdXRoUHJvdmlkZXIuUFJPVklERVJfSUQsXG4gICAgICBzaWduSW5NZXRob2Q6IEdpdGh1YkF1dGhQcm92aWRlci5HSVRIVUJfU0lHTl9JTl9NRVRIT0QsXG4gICAgICBhY2Nlc3NUb2tlblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIFVzZXJDcmVkZW50aWFsfS5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbVJlc3VsdChcbiAgICB1c2VyQ3JlZGVudGlhbDogVXNlckNyZWRlbnRpYWxcbiAgKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIEdpdGh1YkF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIHVzZXJDcmVkZW50aWFsIGFzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIEF1dGhFcnJvcn0gd2hpY2ggd2FzXG4gICAqIHRocm93biBkdXJpbmcgYSBzaWduLWluLCBsaW5rLCBvciByZWF1dGhlbnRpY2F0ZSBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21FcnJvcihlcnJvcjogRmlyZWJhc2VFcnJvcik6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBHaXRodWJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICAoZXJyb3IuY3VzdG9tRGF0YSB8fCB7fSkgYXMgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2VcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3Qoe1xuICAgIF90b2tlblJlc3BvbnNlOiB0b2tlblJlc3BvbnNlXG4gIH06IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgaWYgKCF0b2tlblJlc3BvbnNlIHx8ICEoJ29hdXRoQWNjZXNzVG9rZW4nIGluIHRva2VuUmVzcG9uc2UpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIXRva2VuUmVzcG9uc2Uub2F1dGhBY2Nlc3NUb2tlbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBHaXRodWJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh0b2tlblJlc3BvbnNlLm9hdXRoQWNjZXNzVG9rZW4pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBTQU1MIGNyZWRlbnRpYWxzIHJldHVybmVkIGJ5IGFuIHtAbGluayBTQU1MQXV0aFByb3ZpZGVyfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cblxuaW1wb3J0IHtcbiAgc2lnbkluV2l0aElkcCxcbiAgU2lnbkluV2l0aElkcFJlcXVlc3Rcbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2lkcCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi9hdXRoX2NyZWRlbnRpYWwnO1xuXG5jb25zdCBJRFBfUkVRVUVTVF9VUkkgPSAnaHR0cDovL2xvY2FsaG9zdCc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgU0FNTEF1dGhDcmVkZW50aWFsIGV4dGVuZHMgQXV0aENyZWRlbnRpYWwge1xuICAvKiogQGludGVybmFsICovXG4gIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgcHJvdmlkZXJJZDogc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGVuZGluZ1Rva2VuOiBzdHJpbmdcbiAgKSB7XG4gICAgc3VwZXIocHJvdmlkZXJJZCwgcHJvdmlkZXJJZCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9nZXRJZFRva2VuUmVzcG9uc2UoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5idWlsZFJlcXVlc3QoKTtcbiAgICByZXR1cm4gc2lnbkluV2l0aElkcChhdXRoLCByZXF1ZXN0KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2xpbmtUb0lkVG9rZW4oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGlkVG9rZW46IHN0cmluZ1xuICApOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmJ1aWxkUmVxdWVzdCgpO1xuICAgIHJlcXVlc3QuaWRUb2tlbiA9IGlkVG9rZW47XG4gICAgcmV0dXJuIHNpZ25JbldpdGhJZHAoYXV0aCwgcmVxdWVzdCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9nZXRSZWF1dGhlbnRpY2F0aW9uUmVzb2x2ZXIoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5idWlsZFJlcXVlc3QoKTtcbiAgICByZXF1ZXN0LmF1dG9DcmVhdGUgPSBmYWxzZTtcbiAgICByZXR1cm4gc2lnbkluV2l0aElkcChhdXRoLCByZXF1ZXN0KTtcbiAgfVxuXG4gIC8qKiB7QGluaGVyaXRkb2MgQXV0aENyZWRlbnRpYWwudG9KU09OfSAgKi9cbiAgdG9KU09OKCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNpZ25Jbk1ldGhvZDogdGhpcy5zaWduSW5NZXRob2QsXG4gICAgICBwcm92aWRlcklkOiB0aGlzLnByb3ZpZGVySWQsXG4gICAgICBwZW5kaW5nVG9rZW46IHRoaXMucGVuZGluZ1Rva2VuXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgbWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhbiBvYmplY3QgaW50byBhblxuICAgKiB7QGxpbmsgIEF1dGhDcmVkZW50aWFsfS5cbiAgICpcbiAgICogQHBhcmFtIGpzb24gLSBJbnB1dCBjYW4gYmUgZWl0aGVyIE9iamVjdCBvciB0aGUgc3RyaW5naWZpZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdC5cbiAgICogV2hlbiBzdHJpbmcgaXMgcHJvdmlkZWQsIEpTT04ucGFyc2Ugd291bGQgYmUgY2FsbGVkIGZpcnN0LlxuICAgKlxuICAgKiBAcmV0dXJucyBJZiB0aGUgSlNPTiBpbnB1dCBkb2VzIG5vdCByZXByZXNlbnQgYW4ge0BsaW5rICBBdXRoQ3JlZGVudGlhbH0sIG51bGwgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBzdGF0aWMgZnJvbUpTT04oanNvbjogc3RyaW5nIHwgb2JqZWN0KTogU0FNTEF1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgY29uc3Qgb2JqID0gdHlwZW9mIGpzb24gPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShqc29uKSA6IGpzb247XG4gICAgY29uc3QgeyBwcm92aWRlcklkLCBzaWduSW5NZXRob2QsIHBlbmRpbmdUb2tlbiB9OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID1cbiAgICAgIG9iajtcbiAgICBpZiAoXG4gICAgICAhcHJvdmlkZXJJZCB8fFxuICAgICAgIXNpZ25Jbk1ldGhvZCB8fFxuICAgICAgIXBlbmRpbmdUb2tlbiB8fFxuICAgICAgcHJvdmlkZXJJZCAhPT0gc2lnbkluTWV0aG9kXG4gICAgKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFNBTUxBdXRoQ3JlZGVudGlhbChwcm92aWRlcklkLCBwZW5kaW5nVG9rZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBzdGF0aWMgbWV0aG9kIHRvIGF2b2lkIGV4cG9zaW5nIHRoZSBjb25zdHJ1Y3RvciB0byBlbmQgdXNlcnMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGUocHJvdmlkZXJJZDogc3RyaW5nLCBwZW5kaW5nVG9rZW46IHN0cmluZyk6IFNBTUxBdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIG5ldyBTQU1MQXV0aENyZWRlbnRpYWwocHJvdmlkZXJJZCwgcGVuZGluZ1Rva2VuKTtcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRSZXF1ZXN0KCk6IFNpZ25JbldpdGhJZHBSZXF1ZXN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWVzdFVyaTogSURQX1JFUVVFU1RfVVJJLFxuICAgICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWUsXG4gICAgICBwZW5kaW5nVG9rZW46IHRoaXMucGVuZGluZ1Rva2VuXG4gICAgfTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBTaWduSW5XaXRoSWRwUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vaWRwJztcbmltcG9ydCB7IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscyc7XG5pbXBvcnQgeyBTQU1MQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscy9zYW1sJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IEZlZGVyYXRlZEF1dGhQcm92aWRlciB9IGZyb20gJy4vZmVkZXJhdGVkJztcblxuY29uc3QgU0FNTF9QUk9WSURFUl9QUkVGSVggPSAnc2FtbC4nO1xuXG4vKipcbiAqIEFuIHtAbGluayBBdXRoUHJvdmlkZXJ9IGZvciBTQU1MLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFNBTUxBdXRoUHJvdmlkZXIgZXh0ZW5kcyBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IuIFRoZSBwcm92aWRlcklkIG11c3Qgc3RhcnQgd2l0aCBcInNhbWwuXCJcbiAgICogQHBhcmFtIHByb3ZpZGVySWQgLSBTQU1MIHByb3ZpZGVyIElELlxuICAgKi9cbiAgY29uc3RydWN0b3IocHJvdmlkZXJJZDogc3RyaW5nKSB7XG4gICAgX2Fzc2VydChcbiAgICAgIHByb3ZpZGVySWQuc3RhcnRzV2l0aChTQU1MX1BST1ZJREVSX1BSRUZJWCksXG4gICAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICAgKTtcbiAgICBzdXBlcihwcm92aWRlcklkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYW4ge0BsaW5rIEF1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIFVzZXJDcmVkZW50aWFsfSBhZnRlciBhXG4gICAqIHN1Y2Nlc3NmdWwgU0FNTCBmbG93IGNvbXBsZXRlcy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIHRvIGdldCBhbiB7QGxpbmsgQXV0aENyZWRlbnRpYWx9LCB5b3UgY291bGQgd3JpdGUgdGhlXG4gICAqIGZvbGxvd2luZyBjb2RlOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBzYW1sUHJvdmlkZXIpO1xuICAgKiBjb25zdCBjcmVkZW50aWFsID0gU0FNTEF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdCh1c2VyQ3JlZGVudGlhbCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tUmVzdWx0KFxuICAgIHVzZXJDcmVkZW50aWFsOiBVc2VyQ3JlZGVudGlhbFxuICApOiBBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBTQU1MQXV0aFByb3ZpZGVyLnNhbWxDcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIHVzZXJDcmVkZW50aWFsIGFzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyB7QGxpbmsgT0F1dGhDcmVkZW50aWFsfSBmcm9tIGEge0BsaW5rIEF1dGhFcnJvcn0gd2hpY2ggd2FzXG4gICAqIHRocm93biBkdXJpbmcgYSBzaWduLWluLCBsaW5rLCBvciByZWF1dGhlbnRpY2F0ZSBvcGVyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21FcnJvcihlcnJvcjogRmlyZWJhc2VFcnJvcik6IEF1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIFNBTUxBdXRoUHJvdmlkZXIuc2FtbENyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgKGVycm9yLmN1c3RvbURhdGEgfHwge30pIGFzIFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIHtAbGluayBBdXRoQ3JlZGVudGlhbH0gZnJvbSBhIEpTT04gc3RyaW5nIG9yIGEgcGxhaW4gb2JqZWN0LlxuICAgKiBAcGFyYW0ganNvbiAtIEEgcGxhaW4gb2JqZWN0IG9yIGEgSlNPTiBzdHJpbmdcbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbUpTT04oanNvbjogc3RyaW5nIHwgb2JqZWN0KTogQXV0aENyZWRlbnRpYWwge1xuICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBTQU1MQXV0aENyZWRlbnRpYWwuZnJvbUpTT04oanNvbik7XG4gICAgX2Fzc2VydChjcmVkZW50aWFsLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SKTtcbiAgICByZXR1cm4gY3JlZGVudGlhbDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHNhbWxDcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdCh7XG4gICAgX3Rva2VuUmVzcG9uc2U6IHRva2VuUmVzcG9uc2VcbiAgfTogVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UpOiBTQU1MQXV0aENyZWRlbnRpYWwgfCBudWxsIHtcbiAgICBpZiAoIXRva2VuUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHsgcGVuZGluZ1Rva2VuLCBwcm92aWRlcklkIH0gPSB0b2tlblJlc3BvbnNlIGFzIFNpZ25JbldpdGhJZHBSZXNwb25zZTtcblxuICAgIGlmICghcGVuZGluZ1Rva2VuIHx8ICFwcm92aWRlcklkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIFNBTUxBdXRoQ3JlZGVudGlhbC5fY3JlYXRlKHByb3ZpZGVySWQsIHBlbmRpbmdUb2tlbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgVHdpdHRlciBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IFNpZ25JbldpdGhJZHBSZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9pZHAnO1xuaW1wb3J0IHsgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBPQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscy9vYXV0aCc7XG5pbXBvcnQgeyBCYXNlT0F1dGhQcm92aWRlciB9IGZyb20gJy4vb2F1dGgnO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCwgU2lnbkluTWV0aG9kIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG4vKipcbiAqIFByb3ZpZGVyIGZvciBnZW5lcmF0aW5nIGFuIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZvciB7QGxpbmsgUHJvdmlkZXJJZH0uVFdJVFRFUi5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHJlZGlyZWN0LlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgVHdpdHRlckF1dGhQcm92aWRlcigpO1xuICogLy8gU3RhcnQgYSBzaWduIGluIHByb2Nlc3MgZm9yIGFuIHVuYXV0aGVudGljYXRlZCB1c2VyLlxuICogYXdhaXQgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogaWYgKHJlc3VsdCkge1xuICogICAvLyBUaGlzIGlzIHRoZSBzaWduZWQtaW4gdXNlclxuICogICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgVHdpdHRlciBBY2Nlc3MgVG9rZW4gYW5kIFNlY3JldC5cbiAqICAgY29uc3QgY3JlZGVudGlhbCA9IFR3aXR0ZXJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KTtcbiAqICAgY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogICBjb25zdCBzZWNyZXQgPSBjcmVkZW50aWFsLnNlY3JldDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIGEgcG9wdXAuXG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBUd2l0dGVyQXV0aFByb3ZpZGVyKCk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUG9wdXAoYXV0aCwgcHJvdmlkZXIpO1xuICpcbiAqIC8vIFRoZSBzaWduZWQtaW4gdXNlciBpbmZvLlxuICogY29uc3QgdXNlciA9IHJlc3VsdC51c2VyO1xuICogLy8gVGhpcyBnaXZlcyB5b3UgYSBUd2l0dGVyIEFjY2VzcyBUb2tlbiBhbmQgU2VjcmV0LlxuICogY29uc3QgY3JlZGVudGlhbCA9IFR3aXR0ZXJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQocmVzdWx0KTtcbiAqIGNvbnN0IHRva2VuID0gY3JlZGVudGlhbC5hY2Nlc3NUb2tlbjtcbiAqIGNvbnN0IHNlY3JldCA9IGNyZWRlbnRpYWwuc2VjcmV0O1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgVHdpdHRlckF1dGhQcm92aWRlciBleHRlbmRzIEJhc2VPQXV0aFByb3ZpZGVyIHtcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFNpZ25Jbk1ldGhvZH0uVFdJVFRFUi4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IFRXSVRURVJfU0lHTl9JTl9NRVRIT0Q6ICd0d2l0dGVyLmNvbScgPSBTaWduSW5NZXRob2QuVFdJVFRFUjtcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFByb3ZpZGVySWR9LlRXSVRURVIuICovXG4gIHN0YXRpYyByZWFkb25seSBQUk9WSURFUl9JRDogJ3R3aXR0ZXIuY29tJyA9IFByb3ZpZGVySWQuVFdJVFRFUjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihQcm92aWRlcklkLlRXSVRURVIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjcmVkZW50aWFsIGZvciBUd2l0dGVyLlxuICAgKlxuICAgKiBAcGFyYW0gdG9rZW4gLSBUd2l0dGVyIGFjY2VzcyB0b2tlbi5cbiAgICogQHBhcmFtIHNlY3JldCAtIFR3aXR0ZXIgc2VjcmV0LlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWwodG9rZW46IHN0cmluZywgc2VjcmV0OiBzdHJpbmcpOiBPQXV0aENyZWRlbnRpYWwge1xuICAgIHJldHVybiBPQXV0aENyZWRlbnRpYWwuX2Zyb21QYXJhbXMoe1xuICAgICAgcHJvdmlkZXJJZDogVHdpdHRlckF1dGhQcm92aWRlci5QUk9WSURFUl9JRCxcbiAgICAgIHNpZ25Jbk1ldGhvZDogVHdpdHRlckF1dGhQcm92aWRlci5UV0lUVEVSX1NJR05fSU5fTUVUSE9ELFxuICAgICAgb2F1dGhUb2tlbjogdG9rZW4sXG4gICAgICBvYXV0aFRva2VuU2VjcmV0OiBzZWNyZXRcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGV4dHJhY3QgdGhlIHVuZGVybHlpbmcge0BsaW5rIE9BdXRoQ3JlZGVudGlhbH0gZnJvbSBhIHtAbGluayBVc2VyQ3JlZGVudGlhbH0uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gICAqL1xuICBzdGF0aWMgY3JlZGVudGlhbEZyb21SZXN1bHQoXG4gICAgdXNlckNyZWRlbnRpYWw6IFVzZXJDcmVkZW50aWFsXG4gICk6IE9BdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBUd2l0dGVyQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWxGcm9tVGFnZ2VkT2JqZWN0KFxuICAgICAgdXNlckNyZWRlbnRpYWwgYXMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCB0byBleHRyYWN0IHRoZSB1bmRlcmx5aW5nIHtAbGluayBPQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgQXV0aEVycm9yfSB3aGljaCB3YXNcbiAgICogdGhyb3duIGR1cmluZyBhIHNpZ24taW4sIGxpbmssIG9yIHJlYXV0aGVudGljYXRlIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJDcmVkZW50aWFsIC0gVGhlIHVzZXIgY3JlZGVudGlhbC5cbiAgICovXG4gIHN0YXRpYyBjcmVkZW50aWFsRnJvbUVycm9yKGVycm9yOiBGaXJlYmFzZUVycm9yKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgcmV0dXJuIFR3aXR0ZXJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3QoXG4gICAgICAoZXJyb3IuY3VzdG9tRGF0YSB8fCB7fSkgYXMgVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2VcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgY3JlZGVudGlhbEZyb21UYWdnZWRPYmplY3Qoe1xuICAgIF90b2tlblJlc3BvbnNlOiB0b2tlblJlc3BvbnNlXG4gIH06IFRhZ2dlZFdpdGhUb2tlblJlc3BvbnNlKTogT0F1dGhDcmVkZW50aWFsIHwgbnVsbCB7XG4gICAgaWYgKCF0b2tlblJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBvYXV0aEFjY2Vzc1Rva2VuLCBvYXV0aFRva2VuU2VjcmV0IH0gPVxuICAgICAgdG9rZW5SZXNwb25zZSBhcyBTaWduSW5XaXRoSWRwUmVzcG9uc2U7XG4gICAgaWYgKCFvYXV0aEFjY2Vzc1Rva2VuIHx8ICFvYXV0aFRva2VuU2VjcmV0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIFR3aXR0ZXJBdXRoUHJvdmlkZXIuY3JlZGVudGlhbChvYXV0aEFjY2Vzc1Rva2VuLCBvYXV0aFRva2VuU2VjcmV0KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBSZWNhcHRjaGFDbGllbnRUeXBlLFxuICBSZWNhcHRjaGFWZXJzaW9uLFxuICBfYWRkVGlkSWZOZWNlc3NhcnksXG4gIF9wZXJmb3JtU2lnbkluUmVxdWVzdFxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBTaWduVXBSZXF1ZXN0IHtcbiAgaWRUb2tlbj86IHN0cmluZztcbiAgcmV0dXJuU2VjdXJlVG9rZW4/OiBib29sZWFuO1xuICBlbWFpbD86IHN0cmluZztcbiAgcGFzc3dvcmQ/OiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xuICBjYXB0Y2hhUmVzcG9uc2U/OiBzdHJpbmc7XG4gIGNsaWVudFR5cGU/OiBSZWNhcHRjaGFDbGllbnRUeXBlO1xuICByZWNhcHRjaGFWZXJzaW9uPzogUmVjYXB0Y2hhVmVyc2lvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaWduVXBSZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICBlbWFpbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25VcChcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2lnblVwUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduVXBSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFNpZ25VcFJlcXVlc3QsIFNpZ25VcFJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX1VQLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFBob25lT3JPYXV0aFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCwgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgVXNlckltcGwgfSBmcm9tICcuL3VzZXJfaW1wbCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IE9wZXJhdGlvblR5cGUsIFByb3ZpZGVySWQgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbmludGVyZmFjZSBVc2VyQ3JlZGVudGlhbFBhcmFtcyB7XG4gIHJlYWRvbmx5IHVzZXI6IFVzZXJJbnRlcm5hbDtcbiAgcmVhZG9ubHkgcHJvdmlkZXJJZDogUHJvdmlkZXJJZCB8IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5IF90b2tlblJlc3BvbnNlPzogUGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZTtcbiAgcmVhZG9ubHkgb3BlcmF0aW9uVHlwZTogT3BlcmF0aW9uVHlwZTtcbn1cblxuZXhwb3J0IGNsYXNzIFVzZXJDcmVkZW50aWFsSW1wbFxuICBpbXBsZW1lbnRzIFVzZXJDcmVkZW50aWFsSW50ZXJuYWwsIFVzZXJDcmVkZW50aWFsUGFyYW1zXG57XG4gIHJlYWRvbmx5IHVzZXI6IFVzZXJJbnRlcm5hbDtcbiAgcmVhZG9ubHkgcHJvdmlkZXJJZDogUHJvdmlkZXJJZCB8IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5IF90b2tlblJlc3BvbnNlOiBQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBvcGVyYXRpb25UeXBlOiBPcGVyYXRpb25UeXBlO1xuXG4gIGNvbnN0cnVjdG9yKHBhcmFtczogVXNlckNyZWRlbnRpYWxQYXJhbXMpIHtcbiAgICB0aGlzLnVzZXIgPSBwYXJhbXMudXNlcjtcbiAgICB0aGlzLnByb3ZpZGVySWQgPSBwYXJhbXMucHJvdmlkZXJJZDtcbiAgICB0aGlzLl90b2tlblJlc3BvbnNlID0gcGFyYW1zLl90b2tlblJlc3BvbnNlO1xuICAgIHRoaXMub3BlcmF0aW9uVHlwZSA9IHBhcmFtcy5vcGVyYXRpb25UeXBlO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIF9mcm9tSWRUb2tlblJlc3BvbnNlKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBvcGVyYXRpb25UeXBlOiBPcGVyYXRpb25UeXBlLFxuICAgIGlkVG9rZW5SZXNwb25zZTogSWRUb2tlblJlc3BvbnNlLFxuICAgIGlzQW5vbnltb3VzOiBib29sZWFuID0gZmFsc2VcbiAgKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsPiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJJbXBsLl9mcm9tSWRUb2tlblJlc3BvbnNlKFxuICAgICAgYXV0aCxcbiAgICAgIGlkVG9rZW5SZXNwb25zZSxcbiAgICAgIGlzQW5vbnltb3VzXG4gICAgKTtcbiAgICBjb25zdCBwcm92aWRlcklkID0gcHJvdmlkZXJJZEZvclJlc3BvbnNlKGlkVG9rZW5SZXNwb25zZSk7XG4gICAgY29uc3QgdXNlckNyZWQgPSBuZXcgVXNlckNyZWRlbnRpYWxJbXBsKHtcbiAgICAgIHVzZXIsXG4gICAgICBwcm92aWRlcklkLFxuICAgICAgX3Rva2VuUmVzcG9uc2U6IGlkVG9rZW5SZXNwb25zZSxcbiAgICAgIG9wZXJhdGlvblR5cGVcbiAgICB9KTtcbiAgICByZXR1cm4gdXNlckNyZWQ7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgX2Zvck9wZXJhdGlvbihcbiAgICB1c2VyOiBVc2VySW50ZXJuYWwsXG4gICAgb3BlcmF0aW9uVHlwZTogT3BlcmF0aW9uVHlwZSxcbiAgICByZXNwb25zZTogUGhvbmVPck9hdXRoVG9rZW5SZXNwb25zZVxuICApOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW1wbD4ge1xuICAgIGF3YWl0IHVzZXIuX3VwZGF0ZVRva2Vuc0lmTmVjZXNzYXJ5KHJlc3BvbnNlLCAvKiByZWxvYWQgKi8gdHJ1ZSk7XG4gICAgY29uc3QgcHJvdmlkZXJJZCA9IHByb3ZpZGVySWRGb3JSZXNwb25zZShyZXNwb25zZSk7XG4gICAgcmV0dXJuIG5ldyBVc2VyQ3JlZGVudGlhbEltcGwoe1xuICAgICAgdXNlcixcbiAgICAgIHByb3ZpZGVySWQsXG4gICAgICBfdG9rZW5SZXNwb25zZTogcmVzcG9uc2UsXG4gICAgICBvcGVyYXRpb25UeXBlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvdmlkZXJJZEZvclJlc3BvbnNlKFxuICByZXNwb25zZTogSWRUb2tlblJlc3BvbnNlXG4pOiBQcm92aWRlcklkIHwgc3RyaW5nIHwgbnVsbCB7XG4gIGlmIChyZXNwb25zZS5wcm92aWRlcklkKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnByb3ZpZGVySWQ7XG4gIH1cblxuICBpZiAoJ3Bob25lTnVtYmVyJyBpbiByZXNwb25zZSkge1xuICAgIHJldHVybiBQcm92aWRlcklkLlBIT05FO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXV0aCwgVXNlckNyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgc2lnblVwIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3NpZ25fdXAnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEltcGwgfSBmcm9tICcuLi91c2VyL3VzZXJfY3JlZGVudGlhbF9pbXBsJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IE9wZXJhdGlvblR5cGUgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzaWducyBpbiBhcyBhbiBhbm9ueW1vdXMgdXNlci5cbiAqXG4gKiBAcmVtYXJrc1xuICogSWYgdGhlcmUgaXMgYWxyZWFkeSBhbiBhbm9ueW1vdXMgdXNlciBzaWduZWQgaW4sIHRoYXQgdXNlciB3aWxsIGJlIHJldHVybmVkOyBvdGhlcndpc2UsIGFcbiAqIG5ldyBhbm9ueW1vdXMgdXNlciBpZGVudGl0eSB3aWxsIGJlIGNyZWF0ZWQgYW5kIHJldHVybmVkLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5Bbm9ueW1vdXNseShhdXRoOiBBdXRoKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgYXdhaXQgYXV0aEludGVybmFsLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gIGlmIChhdXRoSW50ZXJuYWwuY3VycmVudFVzZXI/LmlzQW5vbnltb3VzKSB7XG4gICAgLy8gSWYgYW4gYW5vbnltb3VzIHVzZXIgaXMgYWxyZWFkeSBzaWduZWQgaW4sIG5vIG5lZWQgdG8gc2lnbiB0aGVtIGluIGFnYWluLlxuICAgIHJldHVybiBuZXcgVXNlckNyZWRlbnRpYWxJbXBsKHtcbiAgICAgIHVzZXI6IGF1dGhJbnRlcm5hbC5jdXJyZW50VXNlciBhcyBVc2VySW50ZXJuYWwsXG4gICAgICBwcm92aWRlcklkOiBudWxsLFxuICAgICAgb3BlcmF0aW9uVHlwZTogT3BlcmF0aW9uVHlwZS5TSUdOX0lOXG4gICAgfSk7XG4gIH1cbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzaWduVXAoYXV0aEludGVybmFsLCB7XG4gICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWVcbiAgfSk7XG4gIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgVXNlckNyZWRlbnRpYWxJbXBsLl9mcm9tSWRUb2tlblJlc3BvbnNlKFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICBPcGVyYXRpb25UeXBlLlNJR05fSU4sXG4gICAgcmVzcG9uc2UsXG4gICAgdHJ1ZVxuICApO1xuICBhd2FpdCBhdXRoSW50ZXJuYWwuX3VwZGF0ZUN1cnJlbnRVc2VyKHVzZXJDcmVkZW50aWFsLnVzZXIpO1xuICByZXR1cm4gdXNlckNyZWRlbnRpYWw7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTXVsdGlGYWN0b3JFcnJvciBhcyBNdWx0aUZhY3RvckVycm9yUHVibGljIH0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY29yZS9jcmVkZW50aWFscyc7XG5pbXBvcnQgeyBJZFRva2VuTWZhUmVzcG9uc2UgfSBmcm9tICcuLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IE9wZXJhdGlvblR5cGUgfSBmcm9tICcuLi9tb2RlbC9lbnVtcyc7XG5cbmV4cG9ydCB0eXBlIE11bHRpRmFjdG9yRXJyb3JEYXRhID0gTXVsdGlGYWN0b3JFcnJvclB1YmxpY1snY3VzdG9tRGF0YSddICYge1xuICBfc2VydmVyUmVzcG9uc2U6IElkVG9rZW5NZmFSZXNwb25zZTtcbn07XG5cbmV4cG9ydCBjbGFzcyBNdWx0aUZhY3RvckVycm9yXG4gIGV4dGVuZHMgRmlyZWJhc2VFcnJvclxuICBpbXBsZW1lbnRzIE11bHRpRmFjdG9yRXJyb3JQdWJsaWNcbntcbiAgcmVhZG9ubHkgY3VzdG9tRGF0YTogTXVsdGlGYWN0b3JFcnJvckRhdGE7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgZXJyb3I6IEZpcmViYXNlRXJyb3IsXG4gICAgcmVhZG9ubHkgb3BlcmF0aW9uVHlwZTogT3BlcmF0aW9uVHlwZSxcbiAgICByZWFkb25seSB1c2VyPzogVXNlckludGVybmFsXG4gICkge1xuICAgIHN1cGVyKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC13aWtpL2Jsb2IvbWFzdGVyL0JyZWFraW5nLUNoYW5nZXMubWQjZXh0ZW5kaW5nLWJ1aWx0LWlucy1saWtlLWVycm9yLWFycmF5LWFuZC1tYXAtbWF5LW5vLWxvbmdlci13b3JrXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE11bHRpRmFjdG9yRXJyb3IucHJvdG90eXBlKTtcbiAgICB0aGlzLmN1c3RvbURhdGEgPSB7XG4gICAgICBhcHBOYW1lOiBhdXRoLm5hbWUsXG4gICAgICB0ZW5hbnRJZDogYXV0aC50ZW5hbnRJZCA/PyB1bmRlZmluZWQsXG4gICAgICBfc2VydmVyUmVzcG9uc2U6IGVycm9yLmN1c3RvbURhdGEhLl9zZXJ2ZXJSZXNwb25zZSBhcyBJZFRva2VuTWZhUmVzcG9uc2UsXG4gICAgICBvcGVyYXRpb25UeXBlXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBfZnJvbUVycm9yQW5kT3BlcmF0aW9uKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBlcnJvcjogRmlyZWJhc2VFcnJvcixcbiAgICBvcGVyYXRpb25UeXBlOiBPcGVyYXRpb25UeXBlLFxuICAgIHVzZXI/OiBVc2VySW50ZXJuYWxcbiAgKTogTXVsdGlGYWN0b3JFcnJvciB7XG4gICAgcmV0dXJuIG5ldyBNdWx0aUZhY3RvckVycm9yKGF1dGgsIGVycm9yLCBvcGVyYXRpb25UeXBlLCB1c2VyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX3Byb2Nlc3NDcmVkZW50aWFsU2F2aW5nTWZhQ29udGV4dElmTmVjZXNzYXJ5KFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIG9wZXJhdGlvblR5cGU6IE9wZXJhdGlvblR5cGUsXG4gIGNyZWRlbnRpYWw6IEF1dGhDcmVkZW50aWFsLFxuICB1c2VyPzogVXNlckludGVybmFsXG4pOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICBjb25zdCBpZFRva2VuUHJvdmlkZXIgPVxuICAgIG9wZXJhdGlvblR5cGUgPT09IE9wZXJhdGlvblR5cGUuUkVBVVRIRU5USUNBVEVcbiAgICAgID8gY3JlZGVudGlhbC5fZ2V0UmVhdXRoZW50aWNhdGlvblJlc29sdmVyKGF1dGgpXG4gICAgICA6IGNyZWRlbnRpYWwuX2dldElkVG9rZW5SZXNwb25zZShhdXRoKTtcblxuICByZXR1cm4gaWRUb2tlblByb3ZpZGVyLmNhdGNoKGVycm9yID0+IHtcbiAgICBpZiAoZXJyb3IuY29kZSA9PT0gYGF1dGgvJHtBdXRoRXJyb3JDb2RlLk1GQV9SRVFVSVJFRH1gKSB7XG4gICAgICB0aHJvdyBNdWx0aUZhY3RvckVycm9yLl9mcm9tRXJyb3JBbmRPcGVyYXRpb24oXG4gICAgICAgIGF1dGgsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBvcGVyYXRpb25UeXBlLFxuICAgICAgICB1c2VyXG4gICAgICApO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb3ZpZGVyQXNzb2NpYXRlZE9iamVjdCB7XG4gIHByb3ZpZGVySWQ/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGFrZXMgYSBzZXQgb2YgVXNlckluZm8gcHJvdmlkZXIgZGF0YSBhbmQgY29udmVydHMgaXQgdG8gYSBzZXQgb2YgbmFtZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3ZpZGVyRGF0YUFzTmFtZXM8VCBleHRlbmRzIFByb3ZpZGVyQXNzb2NpYXRlZE9iamVjdD4oXG4gIHByb3ZpZGVyRGF0YTogVFtdXG4pOiBTZXQ8c3RyaW5nPiB7XG4gIHJldHVybiBuZXcgU2V0KFxuICAgIHByb3ZpZGVyRGF0YVxuICAgICAgLm1hcCgoeyBwcm92aWRlcklkIH0pID0+IHByb3ZpZGVySWQpXG4gICAgICAuZmlsdGVyKHBpZCA9PiAhIXBpZCkgYXMgc3RyaW5nW11cbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgZGVsZXRlTGlua2VkQWNjb3VudHMgfSBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L2FjY291bnQnO1xuaW1wb3J0IHsgVXNlckludGVybmFsLCBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IHByb3ZpZGVyRGF0YUFzTmFtZXMgfSBmcm9tICcuLi91dGlsL3Byb3ZpZGVycyc7XG5pbXBvcnQgeyBfbG9nb3V0SWZJbnZhbGlkYXRlZCB9IGZyb20gJy4vaW52YWxpZGF0aW9uJztcbmltcG9ydCB7IF9yZWxvYWRXaXRob3V0U2F2aW5nIH0gZnJvbSAnLi9yZWxvYWQnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbXBsIH0gZnJvbSAnLi91c2VyX2NyZWRlbnRpYWxfaW1wbCc7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlLCBQcm92aWRlcklkIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG4vKipcbiAqIFVubGlua3MgYSBwcm92aWRlciBmcm9tIGEgdXNlciBhY2NvdW50LlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gcHJvdmlkZXJJZCAtIFRoZSBwcm92aWRlciB0byB1bmxpbmsuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5saW5rKHVzZXI6IFVzZXIsIHByb3ZpZGVySWQ6IHN0cmluZyk6IFByb21pc2U8VXNlcj4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBhd2FpdCBfYXNzZXJ0TGlua2VkU3RhdHVzKHRydWUsIHVzZXJJbnRlcm5hbCwgcHJvdmlkZXJJZCk7XG4gIGNvbnN0IHsgcHJvdmlkZXJVc2VySW5mbyB9ID0gYXdhaXQgZGVsZXRlTGlua2VkQWNjb3VudHModXNlckludGVybmFsLmF1dGgsIHtcbiAgICBpZFRva2VuOiBhd2FpdCB1c2VySW50ZXJuYWwuZ2V0SWRUb2tlbigpLFxuICAgIGRlbGV0ZVByb3ZpZGVyOiBbcHJvdmlkZXJJZF1cbiAgfSk7XG5cbiAgY29uc3QgcHJvdmlkZXJzTGVmdCA9IHByb3ZpZGVyRGF0YUFzTmFtZXMocHJvdmlkZXJVc2VySW5mbyB8fCBbXSk7XG5cbiAgdXNlckludGVybmFsLnByb3ZpZGVyRGF0YSA9IHVzZXJJbnRlcm5hbC5wcm92aWRlckRhdGEuZmlsdGVyKHBkID0+XG4gICAgcHJvdmlkZXJzTGVmdC5oYXMocGQucHJvdmlkZXJJZClcbiAgKTtcbiAgaWYgKCFwcm92aWRlcnNMZWZ0LmhhcyhQcm92aWRlcklkLlBIT05FKSkge1xuICAgIHVzZXJJbnRlcm5hbC5waG9uZU51bWJlciA9IG51bGw7XG4gIH1cblxuICBhd2FpdCB1c2VySW50ZXJuYWwuYXV0aC5fcGVyc2lzdFVzZXJJZkN1cnJlbnQodXNlckludGVybmFsKTtcbiAgcmV0dXJuIHVzZXJJbnRlcm5hbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9saW5rKFxuICB1c2VyOiBVc2VySW50ZXJuYWwsXG4gIGNyZWRlbnRpYWw6IEF1dGhDcmVkZW50aWFsLFxuICBieXBhc3NBdXRoU3RhdGUgPSBmYWxzZVxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsPiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX2xvZ291dElmSW52YWxpZGF0ZWQoXG4gICAgdXNlcixcbiAgICBjcmVkZW50aWFsLl9saW5rVG9JZFRva2VuKHVzZXIuYXV0aCwgYXdhaXQgdXNlci5nZXRJZFRva2VuKCkpLFxuICAgIGJ5cGFzc0F1dGhTdGF0ZVxuICApO1xuICByZXR1cm4gVXNlckNyZWRlbnRpYWxJbXBsLl9mb3JPcGVyYXRpb24odXNlciwgT3BlcmF0aW9uVHlwZS5MSU5LLCByZXNwb25zZSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfYXNzZXJ0TGlua2VkU3RhdHVzKFxuICBleHBlY3RlZDogYm9vbGVhbixcbiAgdXNlcjogVXNlckludGVybmFsLFxuICBwcm92aWRlcjogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgX3JlbG9hZFdpdGhvdXRTYXZpbmcodXNlcik7XG4gIGNvbnN0IHByb3ZpZGVySWRzID0gcHJvdmlkZXJEYXRhQXNOYW1lcyh1c2VyLnByb3ZpZGVyRGF0YSk7XG5cbiAgY29uc3QgY29kZSA9XG4gICAgZXhwZWN0ZWQgPT09IGZhbHNlXG4gICAgICA/IEF1dGhFcnJvckNvZGUuUFJPVklERVJfQUxSRUFEWV9MSU5LRURcbiAgICAgIDogQXV0aEVycm9yQ29kZS5OT19TVUNIX1BST1ZJREVSO1xuICBfYXNzZXJ0KHByb3ZpZGVySWRzLmhhcyhwcm92aWRlcikgPT09IGV4cGVjdGVkLCB1c2VyLmF1dGgsIGNvZGUpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBfcHJvY2Vzc0NyZWRlbnRpYWxTYXZpbmdNZmFDb250ZXh0SWZOZWNlc3NhcnkgfSBmcm9tICcuLi8uLi9tZmEvbWZhX2Vycm9yJztcbmltcG9ydCB7IE9wZXJhdGlvblR5cGUgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5pbXBvcnQgeyBVc2VySW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC91c2VyJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vY3JlZGVudGlhbHMnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0LCBfZmFpbCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9wYXJzZVRva2VuIH0gZnJvbSAnLi9pZF90b2tlbl9yZXN1bHQnO1xuaW1wb3J0IHsgX2xvZ291dElmSW52YWxpZGF0ZWQgfSBmcm9tICcuL2ludmFsaWRhdGlvbic7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEltcGwgfSBmcm9tICcuL3VzZXJfY3JlZGVudGlhbF9pbXBsJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3JlYXV0aGVudGljYXRlKFxuICB1c2VyOiBVc2VySW50ZXJuYWwsXG4gIGNyZWRlbnRpYWw6IEF1dGhDcmVkZW50aWFsLFxuICBieXBhc3NBdXRoU3RhdGUgPSBmYWxzZVxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEltcGw+IHtcbiAgY29uc3QgeyBhdXRoIH0gPSB1c2VyO1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IG9wZXJhdGlvblR5cGUgPSBPcGVyYXRpb25UeXBlLlJFQVVUSEVOVElDQVRFO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfbG9nb3V0SWZJbnZhbGlkYXRlZChcbiAgICAgIHVzZXIsXG4gICAgICBfcHJvY2Vzc0NyZWRlbnRpYWxTYXZpbmdNZmFDb250ZXh0SWZOZWNlc3NhcnkoXG4gICAgICAgIGF1dGgsXG4gICAgICAgIG9wZXJhdGlvblR5cGUsXG4gICAgICAgIGNyZWRlbnRpYWwsXG4gICAgICAgIHVzZXJcbiAgICAgICksXG4gICAgICBieXBhc3NBdXRoU3RhdGVcbiAgICApO1xuICAgIF9hc3NlcnQocmVzcG9uc2UuaWRUb2tlbiwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgY29uc3QgcGFyc2VkID0gX3BhcnNlVG9rZW4ocmVzcG9uc2UuaWRUb2tlbik7XG4gICAgX2Fzc2VydChwYXJzZWQsIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuXG4gICAgY29uc3QgeyBzdWI6IGxvY2FsSWQgfSA9IHBhcnNlZDtcbiAgICBfYXNzZXJ0KHVzZXIudWlkID09PSBsb2NhbElkLCBhdXRoLCBBdXRoRXJyb3JDb2RlLlVTRVJfTUlTTUFUQ0gpO1xuXG4gICAgcmV0dXJuIFVzZXJDcmVkZW50aWFsSW1wbC5fZm9yT3BlcmF0aW9uKHVzZXIsIG9wZXJhdGlvblR5cGUsIHJlc3BvbnNlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIENvbnZlcnQgdXNlciBkZWxldGVkIGVycm9yIGludG8gdXNlciBtaXNtYXRjaFxuICAgIGlmICgoZSBhcyBGaXJlYmFzZUVycm9yKT8uY29kZSA9PT0gYGF1dGgvJHtBdXRoRXJyb3JDb2RlLlVTRVJfREVMRVRFRH1gKSB7XG4gICAgICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLlVTRVJfTUlTTUFUQ0gpO1xuICAgIH1cbiAgICB0aHJvdyBlO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWwsIEF1dGgsIFVzZXIgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBfcHJvY2Vzc0NyZWRlbnRpYWxTYXZpbmdNZmFDb250ZXh0SWZOZWNlc3NhcnkgfSBmcm9tICcuLi8uLi9tZmEvbWZhX2Vycm9yJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IF9hc3NlcnRMaW5rZWRTdGF0dXMsIF9saW5rIH0gZnJvbSAnLi4vdXNlci9saW5rX3VubGluayc7XG5pbXBvcnQgeyBfcmVhdXRoZW50aWNhdGUgfSBmcm9tICcuLi91c2VyL3JlYXV0aGVudGljYXRlJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW1wbCB9IGZyb20gJy4uL3VzZXIvdXNlcl9jcmVkZW50aWFsX2ltcGwnO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgT3BlcmF0aW9uVHlwZSB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3NpZ25JbldpdGhDcmVkZW50aWFsKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIGNyZWRlbnRpYWw6IEF1dGhDcmVkZW50aWFsLFxuICBieXBhc3NBdXRoU3RhdGUgPSBmYWxzZVxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IG9wZXJhdGlvblR5cGUgPSBPcGVyYXRpb25UeXBlLlNJR05fSU47XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX3Byb2Nlc3NDcmVkZW50aWFsU2F2aW5nTWZhQ29udGV4dElmTmVjZXNzYXJ5KFxuICAgIGF1dGgsXG4gICAgb3BlcmF0aW9uVHlwZSxcbiAgICBjcmVkZW50aWFsXG4gICk7XG4gIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgVXNlckNyZWRlbnRpYWxJbXBsLl9mcm9tSWRUb2tlblJlc3BvbnNlKFxuICAgIGF1dGgsXG4gICAgb3BlcmF0aW9uVHlwZSxcbiAgICByZXNwb25zZVxuICApO1xuXG4gIGlmICghYnlwYXNzQXV0aFN0YXRlKSB7XG4gICAgYXdhaXQgYXV0aC5fdXBkYXRlQ3VycmVudFVzZXIodXNlckNyZWRlbnRpYWwudXNlcik7XG4gIH1cbiAgcmV0dXJuIHVzZXJDcmVkZW50aWFsO1xufVxuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNpZ25zIGluIHdpdGggdGhlIGdpdmVuIGNyZWRlbnRpYWxzLlxuICpcbiAqIEByZW1hcmtzXG4gKiBBbiB7QGxpbmsgQXV0aFByb3ZpZGVyfSBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSB0aGUgY3JlZGVudGlhbC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gY3JlZGVudGlhbCAtIFRoZSBhdXRoIGNyZWRlbnRpYWwuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aENyZWRlbnRpYWwoXG4gIGF1dGg6IEF1dGgsXG4gIGNyZWRlbnRpYWw6IEF1dGhDcmVkZW50aWFsXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIHJldHVybiBfc2lnbkluV2l0aENyZWRlbnRpYWwoX2Nhc3RBdXRoKGF1dGgpLCBjcmVkZW50aWFsKTtcbn1cblxuLyoqXG4gKiBMaW5rcyB0aGUgdXNlciBhY2NvdW50IHdpdGggdGhlIGdpdmVuIGNyZWRlbnRpYWxzLlxuICpcbiAqIEByZW1hcmtzXG4gKiBBbiB7QGxpbmsgQXV0aFByb3ZpZGVyfSBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSB0aGUgY3JlZGVudGlhbC5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIGNyZWRlbnRpYWwgLSBUaGUgYXV0aCBjcmVkZW50aWFsLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpbmtXaXRoQ3JlZGVudGlhbChcbiAgdXNlcjogVXNlcixcbiAgY3JlZGVudGlhbDogQXV0aENyZWRlbnRpYWxcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcblxuICBhd2FpdCBfYXNzZXJ0TGlua2VkU3RhdHVzKGZhbHNlLCB1c2VySW50ZXJuYWwsIGNyZWRlbnRpYWwucHJvdmlkZXJJZCk7XG5cbiAgcmV0dXJuIF9saW5rKHVzZXJJbnRlcm5hbCwgY3JlZGVudGlhbCk7XG59XG5cbi8qKlxuICogUmUtYXV0aGVudGljYXRlcyBhIHVzZXIgdXNpbmcgYSBmcmVzaCBjcmVkZW50aWFsLlxuICpcbiAqIEByZW1hcmtzXG4gKiBVc2UgYmVmb3JlIG9wZXJhdGlvbnMgc3VjaCBhcyB7QGxpbmsgdXBkYXRlUGFzc3dvcmR9IHRoYXQgcmVxdWlyZSB0b2tlbnMgZnJvbSByZWNlbnQgc2lnbi1pblxuICogYXR0ZW1wdHMuIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIHJlY292ZXIgZnJvbSBhIGBDUkVERU5USUFMX1RPT19PTERfTE9HSU5fQUdBSU5gIGVycm9yXG4gKiBvciBhIGBUT0tFTl9FWFBJUkVEYCBlcnJvci5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIG9uIGFueSB7QGxpbmsgVXNlcn0gc2lnbmVkIGluIGJ5IHtAbGluayBBdXRofSBpbnN0YW5jZXNcbiAqIGNyZWF0ZWQgd2l0aCBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIGNyZWRlbnRpYWwgLSBUaGUgYXV0aCBjcmVkZW50aWFsLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWwoXG4gIHVzZXI6IFVzZXIsXG4gIGNyZWRlbnRpYWw6IEF1dGhDcmVkZW50aWFsXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIHJldHVybiBfcmVhdXRoZW50aWNhdGUoZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbCwgY3JlZGVudGlhbCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgRW5kcG9pbnQsXG4gIEh0dHBNZXRob2QsXG4gIF9hZGRUaWRJZk5lY2Vzc2FyeSxcbiAgX3BlcmZvcm1TaWduSW5SZXF1ZXN0XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25JbldpdGhDdXN0b21Ub2tlblJlcXVlc3Qge1xuICB0b2tlbjogc3RyaW5nO1xuICByZXR1cm5TZWN1cmVUb2tlbjogYm9vbGVhbjtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbkluV2l0aEN1c3RvbVRva2VuUmVzcG9uc2UgZXh0ZW5kcyBJZFRva2VuUmVzcG9uc2Uge31cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhDdXN0b21Ub2tlbihcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogU2lnbkluV2l0aEN1c3RvbVRva2VuUmVxdWVzdFxuKTogUHJvbWlzZTxTaWduSW5XaXRoQ3VzdG9tVG9rZW5SZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1TaWduSW5SZXF1ZXN0PFxuICAgIFNpZ25JbldpdGhDdXN0b21Ub2tlblJlcXVlc3QsXG4gICAgU2lnbkluV2l0aEN1c3RvbVRva2VuUmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TSUdOX0lOX1dJVEhfQ1VTVE9NX1RPS0VOLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGgsIFVzZXJDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgc2lnbkluV2l0aEN1c3RvbVRva2VuIGFzIGdldElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9jdXN0b21fdG9rZW4nO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbXBsIH0gZnJvbSAnLi4vdXNlci91c2VyX2NyZWRlbnRpYWxfaW1wbCc7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBPcGVyYXRpb25UeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuaW1wb3J0IHsgX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNpZ25zIGluIHVzaW5nIGEgY3VzdG9tIHRva2VuLlxuICpcbiAqIEByZW1hcmtzXG4gKiBDdXN0b20gdG9rZW5zIGFyZSB1c2VkIHRvIGludGVncmF0ZSBGaXJlYmFzZSBBdXRoIHdpdGggZXhpc3RpbmcgYXV0aCBzeXN0ZW1zLCBhbmQgbXVzdFxuICogYmUgZ2VuZXJhdGVkIGJ5IGFuIGF1dGggYmFja2VuZCB1c2luZyB0aGVcbiAqIHtAbGluayBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy9yZWZlcmVuY2UvYWRtaW4vbm9kZS9hZG1pbi5hdXRoLkF1dGgjY3JlYXRlY3VzdG9tdG9rZW4gfCBjcmVhdGVDdXN0b21Ub2tlbn1cbiAqIG1ldGhvZCBpbiB0aGUge0BsaW5rIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL2F1dGgvYWRtaW4gfCBBZG1pbiBTREt9IC5cbiAqXG4gKiBGYWlscyB3aXRoIGFuIGVycm9yIGlmIHRoZSB0b2tlbiBpcyBpbnZhbGlkLCBleHBpcmVkLCBvciBub3QgYWNjZXB0ZWQgYnkgdGhlIEZpcmViYXNlIEF1dGggc2VydmljZS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gY3VzdG9tVG9rZW4gLSBUaGUgY3VzdG9tIHRva2VuIHRvIHNpZ24gaW4gd2l0aC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoQ3VzdG9tVG9rZW4oXG4gIGF1dGg6IEF1dGgsXG4gIGN1c3RvbVRva2VuOiBzdHJpbmdcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIGNvbnN0IHJlc3BvbnNlOiBJZFRva2VuUmVzcG9uc2UgPSBhd2FpdCBnZXRJZFRva2VuUmVzcG9uc2UoYXV0aEludGVybmFsLCB7XG4gICAgdG9rZW46IGN1c3RvbVRva2VuLFxuICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlXG4gIH0pO1xuICBjb25zdCBjcmVkID0gYXdhaXQgVXNlckNyZWRlbnRpYWxJbXBsLl9mcm9tSWRUb2tlblJlc3BvbnNlKFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICBPcGVyYXRpb25UeXBlLlNJR05fSU4sXG4gICAgcmVzcG9uc2VcbiAgKTtcbiAgYXdhaXQgYXV0aEludGVybmFsLl91cGRhdGVDdXJyZW50VXNlcihjcmVkLnVzZXIpO1xuICByZXR1cm4gY3JlZDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBGYWN0b3JJZCxcbiAgTXVsdGlGYWN0b3JJbmZvLFxuICBQaG9uZU11bHRpRmFjdG9ySW5mbyxcbiAgVG90cE11bHRpRmFjdG9ySW5mb1xufSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHtcbiAgUGhvbmVNZmFFbnJvbGxtZW50LFxuICBNZmFFbnJvbGxtZW50LFxuICBUb3RwTWZhRW5yb2xsbWVudFxufSBmcm9tICcuLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L21mYSc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2ZhaWwgfSBmcm9tICcuLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uL21vZGVsL2F1dGgnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTXVsdGlGYWN0b3JJbmZvSW1wbCBpbXBsZW1lbnRzIE11bHRpRmFjdG9ySW5mbyB7XG4gIHJlYWRvbmx5IHVpZDogc3RyaW5nO1xuICByZWFkb25seSBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5IGVucm9sbG1lbnRUaW1lOiBzdHJpbmc7XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGZhY3RvcklkOiBGYWN0b3JJZCwgcmVzcG9uc2U6IE1mYUVucm9sbG1lbnQpIHtcbiAgICB0aGlzLnVpZCA9IHJlc3BvbnNlLm1mYUVucm9sbG1lbnRJZDtcbiAgICB0aGlzLmVucm9sbG1lbnRUaW1lID0gbmV3IERhdGUocmVzcG9uc2UuZW5yb2xsZWRBdCkudG9VVENTdHJpbmcoKTtcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gcmVzcG9uc2UuZGlzcGxheU5hbWU7XG4gIH1cblxuICBzdGF0aWMgX2Zyb21TZXJ2ZXJSZXNwb25zZShcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgZW5yb2xsbWVudDogTWZhRW5yb2xsbWVudFxuICApOiBNdWx0aUZhY3RvckluZm9JbXBsIHtcbiAgICBpZiAoJ3Bob25lSW5mbycgaW4gZW5yb2xsbWVudCkge1xuICAgICAgcmV0dXJuIFBob25lTXVsdGlGYWN0b3JJbmZvSW1wbC5fZnJvbVNlcnZlclJlc3BvbnNlKGF1dGgsIGVucm9sbG1lbnQpO1xuICAgIH0gZWxzZSBpZiAoJ3RvdHBJbmZvJyBpbiBlbnJvbGxtZW50KSB7XG4gICAgICByZXR1cm4gVG90cE11bHRpRmFjdG9ySW5mb0ltcGwuX2Zyb21TZXJ2ZXJSZXNwb25zZShhdXRoLCBlbnJvbGxtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQaG9uZU11bHRpRmFjdG9ySW5mb0ltcGxcbiAgZXh0ZW5kcyBNdWx0aUZhY3RvckluZm9JbXBsXG4gIGltcGxlbWVudHMgUGhvbmVNdWx0aUZhY3RvckluZm9cbntcbiAgcmVhZG9ubHkgcGhvbmVOdW1iZXI6IHN0cmluZztcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKHJlc3BvbnNlOiBQaG9uZU1mYUVucm9sbG1lbnQpIHtcbiAgICBzdXBlcihGYWN0b3JJZC5QSE9ORSwgcmVzcG9uc2UpO1xuICAgIHRoaXMucGhvbmVOdW1iZXIgPSByZXNwb25zZS5waG9uZUluZm87XG4gIH1cblxuICBzdGF0aWMgX2Zyb21TZXJ2ZXJSZXNwb25zZShcbiAgICBfYXV0aDogQXV0aEludGVybmFsLFxuICAgIGVucm9sbG1lbnQ6IE1mYUVucm9sbG1lbnRcbiAgKTogUGhvbmVNdWx0aUZhY3RvckluZm9JbXBsIHtcbiAgICByZXR1cm4gbmV3IFBob25lTXVsdGlGYWN0b3JJbmZvSW1wbChlbnJvbGxtZW50IGFzIFBob25lTWZhRW5yb2xsbWVudCk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBUb3RwTXVsdGlGYWN0b3JJbmZvSW1wbFxuICBleHRlbmRzIE11bHRpRmFjdG9ySW5mb0ltcGxcbiAgaW1wbGVtZW50cyBUb3RwTXVsdGlGYWN0b3JJbmZvXG57XG4gIHByaXZhdGUgY29uc3RydWN0b3IocmVzcG9uc2U6IFRvdHBNZmFFbnJvbGxtZW50KSB7XG4gICAgc3VwZXIoRmFjdG9ySWQuVE9UUCwgcmVzcG9uc2UpO1xuICB9XG5cbiAgc3RhdGljIF9mcm9tU2VydmVyUmVzcG9uc2UoXG4gICAgX2F1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBlbnJvbGxtZW50OiBNZmFFbnJvbGxtZW50XG4gICk6IFRvdHBNdWx0aUZhY3RvckluZm9JbXBsIHtcbiAgICByZXR1cm4gbmV3IFRvdHBNdWx0aUZhY3RvckluZm9JbXBsKGVucm9sbG1lbnQgYXMgVG90cE1mYUVucm9sbG1lbnQpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQWN0aW9uQ29kZVNldHRpbmdzLCBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgR2V0T29iQ29kZVJlcXVlc3QgfSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfYW5kX3Bhc3N3b3JkJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcblxuZXhwb3J0IGZ1bmN0aW9uIF9zZXRBY3Rpb25Db2RlU2V0dGluZ3NPblJlcXVlc3QoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEdldE9vYkNvZGVSZXF1ZXN0LFxuICBhY3Rpb25Db2RlU2V0dGluZ3M6IEFjdGlvbkNvZGVTZXR0aW5nc1xuKTogdm9pZCB7XG4gIF9hc3NlcnQoXG4gICAgYWN0aW9uQ29kZVNldHRpbmdzLnVybD8ubGVuZ3RoID4gMCxcbiAgICBhdXRoLFxuICAgIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9DT05USU5VRV9VUklcbiAgKTtcbiAgX2Fzc2VydChcbiAgICB0eXBlb2YgYWN0aW9uQ29kZVNldHRpbmdzLmR5bmFtaWNMaW5rRG9tYWluID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgYWN0aW9uQ29kZVNldHRpbmdzLmR5bmFtaWNMaW5rRG9tYWluLmxlbmd0aCA+IDAsXG4gICAgYXV0aCxcbiAgICBBdXRoRXJyb3JDb2RlLklOVkFMSURfRFlOQU1JQ19MSU5LX0RPTUFJTlxuICApO1xuXG4gIHJlcXVlc3QuY29udGludWVVcmwgPSBhY3Rpb25Db2RlU2V0dGluZ3MudXJsO1xuICByZXF1ZXN0LmR5bmFtaWNMaW5rRG9tYWluID0gYWN0aW9uQ29kZVNldHRpbmdzLmR5bmFtaWNMaW5rRG9tYWluO1xuICByZXF1ZXN0LmNhbkhhbmRsZUNvZGVJbkFwcCA9IGFjdGlvbkNvZGVTZXR0aW5ncy5oYW5kbGVDb2RlSW5BcHA7XG5cbiAgaWYgKGFjdGlvbkNvZGVTZXR0aW5ncy5pT1MpIHtcbiAgICBfYXNzZXJ0KFxuICAgICAgYWN0aW9uQ29kZVNldHRpbmdzLmlPUy5idW5kbGVJZC5sZW5ndGggPiAwLFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuTUlTU0lOR19JT1NfQlVORExFX0lEXG4gICAgKTtcbiAgICByZXF1ZXN0LmlPU0J1bmRsZUlkID0gYWN0aW9uQ29kZVNldHRpbmdzLmlPUy5idW5kbGVJZDtcbiAgfVxuXG4gIGlmIChhY3Rpb25Db2RlU2V0dGluZ3MuYW5kcm9pZCkge1xuICAgIF9hc3NlcnQoXG4gICAgICBhY3Rpb25Db2RlU2V0dGluZ3MuYW5kcm9pZC5wYWNrYWdlTmFtZS5sZW5ndGggPiAwLFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRVxuICAgICk7XG4gICAgcmVxdWVzdC5hbmRyb2lkSW5zdGFsbEFwcCA9IGFjdGlvbkNvZGVTZXR0aW5ncy5hbmRyb2lkLmluc3RhbGxBcHA7XG4gICAgcmVxdWVzdC5hbmRyb2lkTWluaW11bVZlcnNpb25Db2RlID1cbiAgICAgIGFjdGlvbkNvZGVTZXR0aW5ncy5hbmRyb2lkLm1pbmltdW1WZXJzaW9uO1xuICAgIHJlcXVlc3QuYW5kcm9pZFBhY2thZ2VOYW1lID0gYWN0aW9uQ29kZVNldHRpbmdzLmFuZHJvaWQucGFja2FnZU5hbWU7XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBY3Rpb25Db2RlSW5mbyxcbiAgQWN0aW9uQ29kZU9wZXJhdGlvbixcbiAgQWN0aW9uQ29kZVNldHRpbmdzLFxuICBBdXRoLFxuICBVc2VyQ3JlZGVudGlhbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgKiBhcyBhY2NvdW50IGZyb20gJy4uLy4uL2FwaS9hY2NvdW50X21hbmFnZW1lbnQvZW1haWxfYW5kX3Bhc3N3b3JkJztcbmltcG9ydCAqIGFzIGF1dGhlbnRpY2F0aW9uIGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9lbWFpbF9hbmRfcGFzc3dvcmQnO1xuaW1wb3J0IHsgc2lnblVwLCBTaWduVXBSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL3NpZ25fdXAnO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JJbmZvSW1wbCB9IGZyb20gJy4uLy4uL21mYS9tZmFfaW5mbyc7XG5pbXBvcnQgeyBFbWFpbEF1dGhQcm92aWRlciB9IGZyb20gJy4uL3Byb3ZpZGVycy9lbWFpbCc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEltcGwgfSBmcm9tICcuLi91c2VyL3VzZXJfY3JlZGVudGlhbF9pbXBsJztcbmltcG9ydCB7XG4gIF9hc3NlcnQsXG4gIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yXG59IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9zZXRBY3Rpb25Db2RlU2V0dGluZ3NPblJlcXVlc3QgfSBmcm9tICcuL2FjdGlvbl9jb2RlX3NldHRpbmdzJztcbmltcG9ydCB7IHNpZ25JbldpdGhDcmVkZW50aWFsIH0gZnJvbSAnLi9jcmVkZW50aWFsJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgT3BlcmF0aW9uVHlwZSB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcbmltcG9ydCB7IGhhbmRsZVJlY2FwdGNoYUZsb3cgfSBmcm9tICcuLi8uLi9wbGF0Zm9ybV9icm93c2VyL3JlY2FwdGNoYS9yZWNhcHRjaGFfZW50ZXJwcmlzZV92ZXJpZmllcic7XG5pbXBvcnQgeyBJZFRva2VuUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9tb2RlbC9pZF90b2tlbic7XG5pbXBvcnQgeyBSZWNhcHRjaGFBY3Rpb25OYW1lLCBSZWNhcHRjaGFDbGllbnRUeXBlIH0gZnJvbSAnLi4vLi4vYXBpJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgcGFzc3dvcmQgcG9saWN5IGNhY2hlZCBpbiB0aGUge0BsaW5rIEF1dGh9IGluc3RhbmNlIGlmIGEgcG9saWN5IGlzIGFscmVhZHlcbiAqIGNhY2hlZCBmb3IgdGhlIHByb2plY3Qgb3IgdGVuYW50LlxuICpcbiAqIEByZW1hcmtzXG4gKiBXZSBvbmx5IGZldGNoIHRoZSBwYXNzd29yZCBwb2xpY3kgaWYgdGhlIHBhc3N3b3JkIGRpZCBub3QgbWVldCBwb2xpY3kgcmVxdWlyZW1lbnRzIGFuZFxuICogdGhlcmUgaXMgYW4gZXhpc3RpbmcgcG9saWN5IGNhY2hlZC4gQSBkZXZlbG9wZXIgbXVzdCBjYWxsIHZhbGlkYXRlUGFzc3dvcmQgYXQgbGVhc3RcbiAqIG9uY2UgZm9yIHRoZSBjYWNoZSB0byBiZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlY2FjaGVQYXNzd29yZFBvbGljeShhdXRoOiBBdXRoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgaWYgKGF1dGhJbnRlcm5hbC5fZ2V0UGFzc3dvcmRQb2xpY3lJbnRlcm5hbCgpKSB7XG4gICAgYXdhaXQgYXV0aEludGVybmFsLl91cGRhdGVQYXNzd29yZFBvbGljeSgpO1xuICB9XG59XG5cbi8qKlxuICogU2VuZHMgYSBwYXNzd29yZCByZXNldCBlbWFpbCB0byB0aGUgZ2l2ZW4gZW1haWwgYWRkcmVzcy4gVGhpcyBtZXRob2QgZG9lcyBub3QgdGhyb3cgYW4gZXJyb3Igd2hlblxuICogdGhlcmUncyBubyB1c2VyIGFjY291bnQgd2l0aCB0aGUgZ2l2ZW4gZW1haWwgYWRkcmVzcyBhbmRcbiAqIHtAbGluayBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vaWRlbnRpdHktcGxhdGZvcm0vZG9jcy9hZG1pbi9lbWFpbC1lbnVtZXJhdGlvbi1wcm90ZWN0aW9uIHwgRW1haWwgRW51bWVyYXRpb24gUHJvdGVjdGlvbn1cbiAqIGlzIGVuYWJsZWQuXG4gKlxuICogQHJlbWFya3NcbiAqIFRvIGNvbXBsZXRlIHRoZSBwYXNzd29yZCByZXNldCwgY2FsbCB7QGxpbmsgY29uZmlybVBhc3N3b3JkUmVzZXR9IHdpdGggdGhlIGNvZGUgc3VwcGxpZWQgaW5cbiAqIHRoZSBlbWFpbCBzZW50IHRvIHRoZSB1c2VyLCBhbG9uZyB3aXRoIHRoZSBuZXcgcGFzc3dvcmQgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBhY3Rpb25Db2RlU2V0dGluZ3MgPSB7XG4gKiAgIHVybDogJ2h0dHBzOi8vd3d3LmV4YW1wbGUuY29tLz9lbWFpbD11c2VyQGV4YW1wbGUuY29tJyxcbiAqICAgaU9TOiB7XG4gKiAgICAgIGJ1bmRsZUlkOiAnY29tLmV4YW1wbGUuaW9zJ1xuICogICB9LFxuICogICBhbmRyb2lkOiB7XG4gKiAgICAgcGFja2FnZU5hbWU6ICdjb20uZXhhbXBsZS5hbmRyb2lkJyxcbiAqICAgICBpbnN0YWxsQXBwOiB0cnVlLFxuICogICAgIG1pbmltdW1WZXJzaW9uOiAnMTInXG4gKiAgIH0sXG4gKiAgIGhhbmRsZUNvZGVJbkFwcDogdHJ1ZVxuICogfTtcbiAqIGF3YWl0IHNlbmRQYXNzd29yZFJlc2V0RW1haWwoYXV0aCwgJ3VzZXJAZXhhbXBsZS5jb20nLCBhY3Rpb25Db2RlU2V0dGluZ3MpO1xuICogLy8gT2J0YWluIGNvZGUgZnJvbSB1c2VyLlxuICogYXdhaXQgY29uZmlybVBhc3N3b3JkUmVzZXQoJ3VzZXJAZXhhbXBsZS5jb20nLCBjb2RlKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlbWFpbCAtIFRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcy5cbiAqIEBwYXJhbSBhY3Rpb25Db2RlU2V0dGluZ3MgLSBUaGUge0BsaW5rIEFjdGlvbkNvZGVTZXR0aW5nc30uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChcbiAgYXV0aDogQXV0aCxcbiAgZW1haWw6IHN0cmluZyxcbiAgYWN0aW9uQ29kZVNldHRpbmdzPzogQWN0aW9uQ29kZVNldHRpbmdzXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBjb25zdCByZXF1ZXN0OiBhdXRoZW50aWNhdGlvbi5QYXNzd29yZFJlc2V0UmVxdWVzdCA9IHtcbiAgICByZXF1ZXN0VHlwZTogQWN0aW9uQ29kZU9wZXJhdGlvbi5QQVNTV09SRF9SRVNFVCxcbiAgICBlbWFpbCxcbiAgICBjbGllbnRUeXBlOiBSZWNhcHRjaGFDbGllbnRUeXBlLldFQlxuICB9O1xuICBpZiAoYWN0aW9uQ29kZVNldHRpbmdzKSB7XG4gICAgX3NldEFjdGlvbkNvZGVTZXR0aW5nc09uUmVxdWVzdChhdXRoSW50ZXJuYWwsIHJlcXVlc3QsIGFjdGlvbkNvZGVTZXR0aW5ncyk7XG4gIH1cbiAgYXdhaXQgaGFuZGxlUmVjYXB0Y2hhRmxvdyhcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgcmVxdWVzdCxcbiAgICBSZWNhcHRjaGFBY3Rpb25OYW1lLkdFVF9PT0JfQ09ERSxcbiAgICBhdXRoZW50aWNhdGlvbi5zZW5kUGFzc3dvcmRSZXNldEVtYWlsXG4gICk7XG59XG5cbi8qKlxuICogQ29tcGxldGVzIHRoZSBwYXNzd29yZCByZXNldCBwcm9jZXNzLCBnaXZlbiBhIGNvbmZpcm1hdGlvbiBjb2RlIGFuZCBuZXcgcGFzc3dvcmQuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIG9vYkNvZGUgLSBBIGNvbmZpcm1hdGlvbiBjb2RlIHNlbnQgdG8gdGhlIHVzZXIuXG4gKiBAcGFyYW0gbmV3UGFzc3dvcmQgLSBUaGUgbmV3IHBhc3N3b3JkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbmZpcm1QYXNzd29yZFJlc2V0KFxuICBhdXRoOiBBdXRoLFxuICBvb2JDb2RlOiBzdHJpbmcsXG4gIG5ld1Bhc3N3b3JkOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBhY2NvdW50XG4gICAgLnJlc2V0UGFzc3dvcmQoZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLCB7XG4gICAgICBvb2JDb2RlLFxuICAgICAgbmV3UGFzc3dvcmRcbiAgICB9KVxuICAgIC5jYXRjaChhc3luYyBlcnJvciA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGVycm9yLmNvZGUgPT09XG4gICAgICAgIGBhdXRoLyR7QXV0aEVycm9yQ29kZS5QQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UU31gXG4gICAgICApIHtcbiAgICAgICAgdm9pZCByZWNhY2hlUGFzc3dvcmRQb2xpY3koYXV0aCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0pO1xuICAvLyBEbyBub3QgcmV0dXJuIHRoZSBlbWFpbC5cbn1cblxuLyoqXG4gKiBBcHBsaWVzIGEgdmVyaWZpY2F0aW9uIGNvZGUgc2VudCB0byB0aGUgdXNlciBieSBlbWFpbCBvciBvdGhlciBvdXQtb2YtYmFuZCBtZWNoYW5pc20uXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIG9vYkNvZGUgLSBBIHZlcmlmaWNhdGlvbiBjb2RlIHNlbnQgdG8gdGhlIHVzZXIuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwbHlBY3Rpb25Db2RlKFxuICBhdXRoOiBBdXRoLFxuICBvb2JDb2RlOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBhY2NvdW50LmFwcGx5QWN0aW9uQ29kZShnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCksIHsgb29iQ29kZSB9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSB2ZXJpZmljYXRpb24gY29kZSBzZW50IHRvIHRoZSB1c2VyIGJ5IGVtYWlsIG9yIG90aGVyIG91dC1vZi1iYW5kIG1lY2hhbmlzbS5cbiAqXG4gKiBAcmV0dXJucyBtZXRhZGF0YSBhYm91dCB0aGUgY29kZS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gb29iQ29kZSAtIEEgdmVyaWZpY2F0aW9uIGNvZGUgc2VudCB0byB0aGUgdXNlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0FjdGlvbkNvZGUoXG4gIGF1dGg6IEF1dGgsXG4gIG9vYkNvZGU6IHN0cmluZ1xuKTogUHJvbWlzZTxBY3Rpb25Db2RlSW5mbz4ge1xuICBjb25zdCBhdXRoTW9kdWxhciA9IGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhY2NvdW50LnJlc2V0UGFzc3dvcmQoYXV0aE1vZHVsYXIsIHsgb29iQ29kZSB9KTtcblxuICAvLyBFbWFpbCBjb3VsZCBiZSBlbXB0eSBvbmx5IGlmIHRoZSByZXF1ZXN0IHR5cGUgaXMgRU1BSUxfU0lHTklOIG9yXG4gIC8vIFZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMLlxuICAvLyBOZXcgZW1haWwgc2hvdWxkIG5vdCBiZSBlbXB0eSBpZiB0aGUgcmVxdWVzdCB0eXBlIGlzXG4gIC8vIFZFUklGWV9BTkRfQ0hBTkdFX0VNQUlMLlxuICAvLyBNdWx0aS1mYWN0b3IgaW5mbyBjb3VsZCBub3QgYmUgZW1wdHkgaWYgdGhlIHJlcXVlc3QgdHlwZSBpc1xuICAvLyBSRVZFUlRfU0VDT05EX0ZBQ1RPUl9BRERJVElPTi5cbiAgY29uc3Qgb3BlcmF0aW9uID0gcmVzcG9uc2UucmVxdWVzdFR5cGU7XG4gIF9hc3NlcnQob3BlcmF0aW9uLCBhdXRoTW9kdWxhciwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIHN3aXRjaCAob3BlcmF0aW9uKSB7XG4gICAgY2FzZSBBY3Rpb25Db2RlT3BlcmF0aW9uLkVNQUlMX1NJR05JTjpcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQWN0aW9uQ29kZU9wZXJhdGlvbi5WRVJJRllfQU5EX0NIQU5HRV9FTUFJTDpcbiAgICAgIF9hc3NlcnQocmVzcG9uc2UubmV3RW1haWwsIGF1dGhNb2R1bGFyLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQWN0aW9uQ29kZU9wZXJhdGlvbi5SRVZFUlRfU0VDT05EX0ZBQ1RPUl9BRERJVElPTjpcbiAgICAgIF9hc3NlcnQocmVzcG9uc2UubWZhSW5mbywgYXV0aE1vZHVsYXIsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgIGRlZmF1bHQ6XG4gICAgICBfYXNzZXJ0KHJlc3BvbnNlLmVtYWlsLCBhdXRoTW9kdWxhciwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIH1cblxuICAvLyBUaGUgbXVsdGktZmFjdG9yIGluZm8gZm9yIHJldmVydCBzZWNvbmQgZmFjdG9yIGFkZGl0aW9uXG4gIGxldCBtdWx0aUZhY3RvckluZm86IE11bHRpRmFjdG9ySW5mb0ltcGwgfCBudWxsID0gbnVsbDtcbiAgaWYgKHJlc3BvbnNlLm1mYUluZm8pIHtcbiAgICBtdWx0aUZhY3RvckluZm8gPSBNdWx0aUZhY3RvckluZm9JbXBsLl9mcm9tU2VydmVyUmVzcG9uc2UoXG4gICAgICBfY2FzdEF1dGgoYXV0aE1vZHVsYXIpLFxuICAgICAgcmVzcG9uc2UubWZhSW5mb1xuICAgICk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRhdGE6IHtcbiAgICAgIGVtYWlsOlxuICAgICAgICAocmVzcG9uc2UucmVxdWVzdFR5cGUgPT09IEFjdGlvbkNvZGVPcGVyYXRpb24uVkVSSUZZX0FORF9DSEFOR0VfRU1BSUxcbiAgICAgICAgICA/IHJlc3BvbnNlLm5ld0VtYWlsXG4gICAgICAgICAgOiByZXNwb25zZS5lbWFpbCkgfHwgbnVsbCxcbiAgICAgIHByZXZpb3VzRW1haWw6XG4gICAgICAgIChyZXNwb25zZS5yZXF1ZXN0VHlwZSA9PT0gQWN0aW9uQ29kZU9wZXJhdGlvbi5WRVJJRllfQU5EX0NIQU5HRV9FTUFJTFxuICAgICAgICAgID8gcmVzcG9uc2UuZW1haWxcbiAgICAgICAgICA6IHJlc3BvbnNlLm5ld0VtYWlsKSB8fCBudWxsLFxuICAgICAgbXVsdGlGYWN0b3JJbmZvXG4gICAgfSxcbiAgICBvcGVyYXRpb25cbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBwYXNzd29yZCByZXNldCBjb2RlIHNlbnQgdG8gdGhlIHVzZXIgYnkgZW1haWwgb3Igb3RoZXIgb3V0LW9mLWJhbmQgbWVjaGFuaXNtLlxuICpcbiAqIEByZXR1cm5zIHRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcyBpZiB2YWxpZC5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gY29kZSAtIEEgdmVyaWZpY2F0aW9uIGNvZGUgc2VudCB0byB0aGUgdXNlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXNzd29yZFJlc2V0Q29kZShcbiAgYXV0aDogQXV0aCxcbiAgY29kZTogc3RyaW5nXG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGNoZWNrQWN0aW9uQ29kZShnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCksIGNvZGUpO1xuICAvLyBFbWFpbCBzaG91bGQgYWx3YXlzIGJlIHByZXNlbnQgc2luY2UgYSBjb2RlIHdhcyBzZW50IHRvIGl0XG4gIHJldHVybiBkYXRhLmVtYWlsITtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHVzZXIgYWNjb3VudCBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBlbWFpbCBhZGRyZXNzIGFuZCBwYXNzd29yZC5cbiAqXG4gKiBAcmVtYXJrc1xuICogT24gc3VjY2Vzc2Z1bCBjcmVhdGlvbiBvZiB0aGUgdXNlciBhY2NvdW50LCB0aGlzIHVzZXIgd2lsbCBhbHNvIGJlIHNpZ25lZCBpbiB0byB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFVzZXIgYWNjb3VudCBjcmVhdGlvbiBjYW4gZmFpbCBpZiB0aGUgYWNjb3VudCBhbHJlYWR5IGV4aXN0cyBvciB0aGUgcGFzc3dvcmQgaXMgaW52YWxpZC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIG9uIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBOb3RlOiBUaGUgZW1haWwgYWRkcmVzcyBhY3RzIGFzIGEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSB1c2VyIGFuZCBlbmFibGVzIGFuIGVtYWlsLWJhc2VkXG4gKiBwYXNzd29yZCByZXNldC4gVGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBhIG5ldyB1c2VyIGFjY291bnQgYW5kIHNldCB0aGUgaW5pdGlhbCB1c2VyIHBhc3N3b3JkLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlbWFpbCAtIFRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcy5cbiAqIEBwYXJhbSBwYXNzd29yZCAtIFRoZSB1c2VyJ3MgY2hvc2VuIHBhc3N3b3JkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChcbiAgYXV0aDogQXV0aCxcbiAgZW1haWw6IHN0cmluZyxcbiAgcGFzc3dvcmQ6IHN0cmluZ1xuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgY29uc3QgcmVxdWVzdDogU2lnblVwUmVxdWVzdCA9IHtcbiAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZSxcbiAgICBlbWFpbCxcbiAgICBwYXNzd29yZCxcbiAgICBjbGllbnRUeXBlOiBSZWNhcHRjaGFDbGllbnRUeXBlLldFQlxuICB9O1xuICBjb25zdCBzaWduVXBSZXNwb25zZTogUHJvbWlzZTxJZFRva2VuUmVzcG9uc2U+ID0gaGFuZGxlUmVjYXB0Y2hhRmxvdyhcbiAgICBhdXRoSW50ZXJuYWwsXG4gICAgcmVxdWVzdCxcbiAgICBSZWNhcHRjaGFBY3Rpb25OYW1lLlNJR05fVVBfUEFTU1dPUkQsXG4gICAgc2lnblVwXG4gICk7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2lnblVwUmVzcG9uc2UuY2F0Y2goZXJyb3IgPT4ge1xuICAgIGlmIChcbiAgICAgIGVycm9yLmNvZGUgPT09IGBhdXRoLyR7QXV0aEVycm9yQ29kZS5QQVNTV09SRF9ET0VTX05PVF9NRUVUX1JFUVVJUkVNRU5UU31gXG4gICAgKSB7XG4gICAgICB2b2lkIHJlY2FjaGVQYXNzd29yZFBvbGljeShhdXRoKTtcbiAgICB9XG5cbiAgICB0aHJvdyBlcnJvcjtcbiAgfSk7XG5cbiAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBVc2VyQ3JlZGVudGlhbEltcGwuX2Zyb21JZFRva2VuUmVzcG9uc2UoXG4gICAgYXV0aEludGVybmFsLFxuICAgIE9wZXJhdGlvblR5cGUuU0lHTl9JTixcbiAgICByZXNwb25zZVxuICApO1xuICBhd2FpdCBhdXRoSW50ZXJuYWwuX3VwZGF0ZUN1cnJlbnRVc2VyKHVzZXJDcmVkZW50aWFsLnVzZXIpO1xuXG4gIHJldHVybiB1c2VyQ3JlZGVudGlhbDtcbn1cblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzaWducyBpbiB1c2luZyBhbiBlbWFpbCBhbmQgcGFzc3dvcmQuXG4gKlxuICogQHJlbWFya3NcbiAqIEZhaWxzIHdpdGggYW4gZXJyb3IgaWYgdGhlIGVtYWlsIGFkZHJlc3MgYW5kIHBhc3N3b3JkIGRvIG5vdCBtYXRjaC4gV2hlblxuICoge0BsaW5rIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9pZGVudGl0eS1wbGF0Zm9ybS9kb2NzL2FkbWluL2VtYWlsLWVudW1lcmF0aW9uLXByb3RlY3Rpb24gfCBFbWFpbCBFbnVtZXJhdGlvbiBQcm90ZWN0aW9ufVxuICogaXMgZW5hYmxlZCwgdGhpcyBtZXRob2QgZmFpbHMgd2l0aCBcImF1dGgvaW52YWxpZC1jcmVkZW50aWFsXCIgaW4gY2FzZSBvZiBhbiBpbnZhbGlkXG4gKiBlbWFpbC9wYXNzd29yZC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIG9uIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBOb3RlOiBUaGUgdXNlcidzIHBhc3N3b3JkIGlzIE5PVCB0aGUgcGFzc3dvcmQgdXNlZCB0byBhY2Nlc3MgdGhlIHVzZXIncyBlbWFpbCBhY2NvdW50LiBUaGVcbiAqIGVtYWlsIGFkZHJlc3Mgc2VydmVzIGFzIGEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSB1c2VyLCBhbmQgdGhlIHBhc3N3b3JkIGlzIHVzZWQgdG8gYWNjZXNzXG4gKiB0aGUgdXNlcidzIGFjY291bnQgaW4geW91ciBGaXJlYmFzZSBwcm9qZWN0LiBTZWUgYWxzbzoge0BsaW5rIGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZH0uXG4gKlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlbWFpbCAtIFRoZSB1c2VycyBlbWFpbCBhZGRyZXNzLlxuICogQHBhcmFtIHBhc3N3b3JkIC0gVGhlIHVzZXJzIHBhc3N3b3JkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKFxuICBhdXRoOiBBdXRoLFxuICBlbWFpbDogc3RyaW5nLFxuICBwYXNzd29yZDogc3RyaW5nXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcChhdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcihhdXRoKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHNpZ25JbldpdGhDcmVkZW50aWFsKFxuICAgIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKSxcbiAgICBFbWFpbEF1dGhQcm92aWRlci5jcmVkZW50aWFsKGVtYWlsLCBwYXNzd29yZClcbiAgKS5jYXRjaChhc3luYyBlcnJvciA9PiB7XG4gICAgaWYgKFxuICAgICAgZXJyb3IuY29kZSA9PT0gYGF1dGgvJHtBdXRoRXJyb3JDb2RlLlBBU1NXT1JEX0RPRVNfTk9UX01FRVRfUkVRVUlSRU1FTlRTfWBcbiAgICApIHtcbiAgICAgIHZvaWQgcmVjYWNoZVBhc3N3b3JkUG9saWN5KGF1dGgpO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBY3Rpb25Db2RlT3BlcmF0aW9uLFxuICBBY3Rpb25Db2RlU2V0dGluZ3MsXG4gIEF1dGgsXG4gIFVzZXJDcmVkZW50aWFsXG59IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCAqIGFzIGFwaSBmcm9tICcuLi8uLi9hcGkvYXV0aGVudGljYXRpb24vZW1haWxfYW5kX3Bhc3N3b3JkJztcbmltcG9ydCB7IEFjdGlvbkNvZGVVUkwgfSBmcm9tICcuLi9hY3Rpb25fY29kZV91cmwnO1xuaW1wb3J0IHsgRW1haWxBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi9wcm92aWRlcnMvZW1haWwnO1xuaW1wb3J0IHsgX2dldEN1cnJlbnRVcmwgfSBmcm9tICcuLi91dGlsL2xvY2F0aW9uJztcbmltcG9ydCB7IF9zZXRBY3Rpb25Db2RlU2V0dGluZ3NPblJlcXVlc3QgfSBmcm9tICcuL2FjdGlvbl9jb2RlX3NldHRpbmdzJztcbmltcG9ydCB7IHNpZ25JbldpdGhDcmVkZW50aWFsIH0gZnJvbSAnLi9jcmVkZW50aWFsJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IGhhbmRsZVJlY2FwdGNoYUZsb3cgfSBmcm9tICcuLi8uLi9wbGF0Zm9ybV9icm93c2VyL3JlY2FwdGNoYS9yZWNhcHRjaGFfZW50ZXJwcmlzZV92ZXJpZmllcic7XG5pbXBvcnQgeyBSZWNhcHRjaGFBY3Rpb25OYW1lLCBSZWNhcHRjaGFDbGllbnRUeXBlIH0gZnJvbSAnLi4vLi4vYXBpJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuXG4vKipcbiAqIFNlbmRzIGEgc2lnbi1pbiBlbWFpbCBsaW5rIHRvIHRoZSB1c2VyIHdpdGggdGhlIHNwZWNpZmllZCBlbWFpbC5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhlIHNpZ24taW4gb3BlcmF0aW9uIGhhcyB0byBhbHdheXMgYmUgY29tcGxldGVkIGluIHRoZSBhcHAgdW5saWtlIG90aGVyIG91dCBvZiBiYW5kIGVtYWlsXG4gKiBhY3Rpb25zIChwYXNzd29yZCByZXNldCBhbmQgZW1haWwgdmVyaWZpY2F0aW9ucykuIFRoaXMgaXMgYmVjYXVzZSwgYXQgdGhlIGVuZCBvZiB0aGUgZmxvdyxcbiAqIHRoZSB1c2VyIGlzIGV4cGVjdGVkIHRvIGJlIHNpZ25lZCBpbiBhbmQgdGhlaXIgQXV0aCBzdGF0ZSBwZXJzaXN0ZWQgd2l0aGluIHRoZSBhcHAuXG4gKlxuICogVG8gY29tcGxldGUgc2lnbiBpbiB3aXRoIHRoZSBlbWFpbCBsaW5rLCBjYWxsIHtAbGluayBzaWduSW5XaXRoRW1haWxMaW5rfSB3aXRoIHRoZSBlbWFpbFxuICogYWRkcmVzcyBhbmQgdGhlIGVtYWlsIGxpbmsgc3VwcGxpZWQgaW4gdGhlIGVtYWlsIHNlbnQgdG8gdGhlIHVzZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IGFjdGlvbkNvZGVTZXR0aW5ncyA9IHtcbiAqICAgdXJsOiAnaHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vP2VtYWlsPXVzZXJAZXhhbXBsZS5jb20nLFxuICogICBpT1M6IHtcbiAqICAgICAgYnVuZGxlSWQ6ICdjb20uZXhhbXBsZS5pb3MnXG4gKiAgIH0sXG4gKiAgIGFuZHJvaWQ6IHtcbiAqICAgICBwYWNrYWdlTmFtZTogJ2NvbS5leGFtcGxlLmFuZHJvaWQnLFxuICogICAgIGluc3RhbGxBcHA6IHRydWUsXG4gKiAgICAgbWluaW11bVZlcnNpb246ICcxMidcbiAqICAgfSxcbiAqICAgaGFuZGxlQ29kZUluQXBwOiB0cnVlXG4gKiB9O1xuICogYXdhaXQgc2VuZFNpZ25JbkxpbmtUb0VtYWlsKGF1dGgsICd1c2VyQGV4YW1wbGUuY29tJywgYWN0aW9uQ29kZVNldHRpbmdzKTtcbiAqIC8vIE9idGFpbiBlbWFpbExpbmsgZnJvbSB0aGUgdXNlci5cbiAqIGlmKGlzU2lnbkluV2l0aEVtYWlsTGluayhhdXRoLCBlbWFpbExpbmspKSB7XG4gKiAgIGF3YWl0IHNpZ25JbldpdGhFbWFpbExpbmsoYXV0aCwgJ3VzZXJAZXhhbXBsZS5jb20nLCBlbWFpbExpbmspO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGhJbnRlcm5hbCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gZW1haWwgLSBUaGUgdXNlcidzIGVtYWlsIGFkZHJlc3MuXG4gKiBAcGFyYW0gYWN0aW9uQ29kZVNldHRpbmdzIC0gVGhlIHtAbGluayBBY3Rpb25Db2RlU2V0dGluZ3N9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRTaWduSW5MaW5rVG9FbWFpbChcbiAgYXV0aDogQXV0aCxcbiAgZW1haWw6IHN0cmluZyxcbiAgYWN0aW9uQ29kZVNldHRpbmdzOiBBY3Rpb25Db2RlU2V0dGluZ3Ncbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIGNvbnN0IHJlcXVlc3Q6IGFwaS5FbWFpbFNpZ25JblJlcXVlc3QgPSB7XG4gICAgcmVxdWVzdFR5cGU6IEFjdGlvbkNvZGVPcGVyYXRpb24uRU1BSUxfU0lHTklOLFxuICAgIGVtYWlsLFxuICAgIGNsaWVudFR5cGU6IFJlY2FwdGNoYUNsaWVudFR5cGUuV0VCXG4gIH07XG4gIGZ1bmN0aW9uIHNldEFjdGlvbkNvZGVTZXR0aW5ncyhcbiAgICByZXF1ZXN0OiBhcGkuRW1haWxTaWduSW5SZXF1ZXN0LFxuICAgIGFjdGlvbkNvZGVTZXR0aW5nczogQWN0aW9uQ29kZVNldHRpbmdzXG4gICk6IHZvaWQge1xuICAgIF9hc3NlcnQoXG4gICAgICBhY3Rpb25Db2RlU2V0dGluZ3MuaGFuZGxlQ29kZUluQXBwLFxuICAgICAgYXV0aEludGVybmFsLFxuICAgICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICAgICk7XG4gICAgaWYgKGFjdGlvbkNvZGVTZXR0aW5ncykge1xuICAgICAgX3NldEFjdGlvbkNvZGVTZXR0aW5nc09uUmVxdWVzdChcbiAgICAgICAgYXV0aEludGVybmFsLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBhY3Rpb25Db2RlU2V0dGluZ3NcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHNldEFjdGlvbkNvZGVTZXR0aW5ncyhyZXF1ZXN0LCBhY3Rpb25Db2RlU2V0dGluZ3MpO1xuICBhd2FpdCBoYW5kbGVSZWNhcHRjaGFGbG93KFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICByZXF1ZXN0LFxuICAgIFJlY2FwdGNoYUFjdGlvbk5hbWUuR0VUX09PQl9DT0RFLFxuICAgIGFwaS5zZW5kU2lnbkluTGlua1RvRW1haWxcbiAgKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYW4gaW5jb21pbmcgbGluayBpcyBhIHNpZ24taW4gd2l0aCBlbWFpbCBsaW5rIHN1aXRhYmxlIGZvciB7QGxpbmsgc2lnbkluV2l0aEVtYWlsTGlua30uXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGVtYWlsTGluayAtIFRoZSBsaW5rIHNlbnQgdG8gdGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2lnbkluV2l0aEVtYWlsTGluayhhdXRoOiBBdXRoLCBlbWFpbExpbms6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBhY3Rpb25Db2RlVXJsID0gQWN0aW9uQ29kZVVSTC5wYXJzZUxpbmsoZW1haWxMaW5rKTtcbiAgcmV0dXJuIGFjdGlvbkNvZGVVcmw/Lm9wZXJhdGlvbiA9PT0gQWN0aW9uQ29kZU9wZXJhdGlvbi5FTUFJTF9TSUdOSU47XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2lnbnMgaW4gdXNpbmcgYW4gZW1haWwgYW5kIHNpZ24taW4gZW1haWwgbGluay5cbiAqXG4gKiBAcmVtYXJrc1xuICogSWYgbm8gbGluayBpcyBwYXNzZWQsIHRoZSBsaW5rIGlzIGluZmVycmVkIGZyb20gdGhlIGN1cnJlbnQgVVJMLlxuICpcbiAqIEZhaWxzIHdpdGggYW4gZXJyb3IgaWYgdGhlIGVtYWlsIGFkZHJlc3MgaXMgaW52YWxpZCBvciBPVFAgaW4gZW1haWwgbGluayBleHBpcmVzLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIE5vdGU6IENvbmZpcm0gdGhlIGxpbmsgaXMgYSBzaWduLWluIGVtYWlsIGxpbmsgYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QgZmlyZWJhc2UuYXV0aC5BdXRoLmlzU2lnbkluV2l0aEVtYWlsTGluay5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgYWN0aW9uQ29kZVNldHRpbmdzID0ge1xuICogICB1cmw6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS8/ZW1haWw9dXNlckBleGFtcGxlLmNvbScsXG4gKiAgIGlPUzoge1xuICogICAgICBidW5kbGVJZDogJ2NvbS5leGFtcGxlLmlvcydcbiAqICAgfSxcbiAqICAgYW5kcm9pZDoge1xuICogICAgIHBhY2thZ2VOYW1lOiAnY29tLmV4YW1wbGUuYW5kcm9pZCcsXG4gKiAgICAgaW5zdGFsbEFwcDogdHJ1ZSxcbiAqICAgICBtaW5pbXVtVmVyc2lvbjogJzEyJ1xuICogICB9LFxuICogICBoYW5kbGVDb2RlSW5BcHA6IHRydWVcbiAqIH07XG4gKiBhd2FpdCBzZW5kU2lnbkluTGlua1RvRW1haWwoYXV0aCwgJ3VzZXJAZXhhbXBsZS5jb20nLCBhY3Rpb25Db2RlU2V0dGluZ3MpO1xuICogLy8gT2J0YWluIGVtYWlsTGluayBmcm9tIHRoZSB1c2VyLlxuICogaWYoaXNTaWduSW5XaXRoRW1haWxMaW5rKGF1dGgsIGVtYWlsTGluaykpIHtcbiAqICAgYXdhaXQgc2lnbkluV2l0aEVtYWlsTGluayhhdXRoLCAndXNlckBleGFtcGxlLmNvbScsIGVtYWlsTGluayk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGVtYWlsIC0gVGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzLlxuICogQHBhcmFtIGVtYWlsTGluayAtIFRoZSBsaW5rIHNlbnQgdG8gdGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhFbWFpbExpbmsoXG4gIGF1dGg6IEF1dGgsXG4gIGVtYWlsOiBzdHJpbmcsXG4gIGVtYWlsTGluaz86IHN0cmluZ1xuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IGF1dGhNb2R1bGFyID0gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpO1xuICBjb25zdCBjcmVkZW50aWFsID0gRW1haWxBdXRoUHJvdmlkZXIuY3JlZGVudGlhbFdpdGhMaW5rKFxuICAgIGVtYWlsLFxuICAgIGVtYWlsTGluayB8fCBfZ2V0Q3VycmVudFVybCgpXG4gICk7XG4gIC8vIENoZWNrIGlmIHRoZSB0ZW5hbnQgSUQgaW4gdGhlIGVtYWlsIGxpbmsgbWF0Y2hlcyB0aGUgdGVuYW50IElEIG9uIEF1dGhcbiAgLy8gaW5zdGFuY2UuXG4gIF9hc3NlcnQoXG4gICAgY3JlZGVudGlhbC5fdGVuYW50SWQgPT09IChhdXRoTW9kdWxhci50ZW5hbnRJZCB8fCBudWxsKSxcbiAgICBhdXRoTW9kdWxhcixcbiAgICBBdXRoRXJyb3JDb2RlLlRFTkFOVF9JRF9NSVNNQVRDSFxuICApO1xuICByZXR1cm4gc2lnbkluV2l0aENyZWRlbnRpYWwoYXV0aE1vZHVsYXIsIGNyZWRlbnRpYWwpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEVuZHBvaW50LFxuICBIdHRwTWV0aG9kLFxuICBfYWRkVGlkSWZOZWNlc3NhcnksXG4gIF9wZXJmb3JtQXBpUmVxdWVzdFxufSBmcm9tICcuLi9pbmRleCc7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVBdXRoVXJpUmVxdWVzdCB7XG4gIGlkZW50aWZpZXI6IHN0cmluZztcbiAgY29udGludWVVcmk6IHN0cmluZztcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlQXV0aFVyaVJlc3BvbnNlIHtcbiAgc2lnbmluTWV0aG9kczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBdXRoVXJpKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBDcmVhdGVBdXRoVXJpUmVxdWVzdFxuKTogUHJvbWlzZTxDcmVhdGVBdXRoVXJpUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxDcmVhdGVBdXRoVXJpUmVxdWVzdCwgQ3JlYXRlQXV0aFVyaVJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5DUkVBVEVfQVVUSF9VUkksXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQWN0aW9uQ29kZU9wZXJhdGlvbixcbiAgQWN0aW9uQ29kZVNldHRpbmdzLFxuICBBdXRoLFxuICBVc2VyXG59IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7XG4gIGNyZWF0ZUF1dGhVcmksXG4gIENyZWF0ZUF1dGhVcmlSZXF1ZXN0XG59IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9jcmVhdGVfYXV0aF91cmknO1xuaW1wb3J0ICogYXMgYXBpIGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9lbWFpbF9hbmRfcGFzc3dvcmQnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBfZ2V0Q3VycmVudFVybCwgX2lzSHR0cE9ySHR0cHMgfSBmcm9tICcuLi91dGlsL2xvY2F0aW9uJztcbmltcG9ydCB7IF9zZXRBY3Rpb25Db2RlU2V0dGluZ3NPblJlcXVlc3QgfSBmcm9tICcuL2FjdGlvbl9jb2RlX3NldHRpbmdzJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IG9mIHBvc3NpYmxlIHNpZ24gaW4gbWV0aG9kcyBmb3IgdGhlIGdpdmVuIGVtYWlsIGFkZHJlc3MuIFRoaXMgbWV0aG9kIHJldHVybnMgYW5cbiAqIGVtcHR5IGxpc3Qgd2hlblxuICoge0BsaW5rIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9pZGVudGl0eS1wbGF0Zm9ybS9kb2NzL2FkbWluL2VtYWlsLWVudW1lcmF0aW9uLXByb3RlY3Rpb24gfCBFbWFpbCBFbnVtZXJhdGlvbiBQcm90ZWN0aW9ufVxuICogaXMgZW5hYmxlZCwgaXJyZXNwZWN0aXZlIG9mIHRoZSBudW1iZXIgb2YgYXV0aGVudGljYXRpb24gbWV0aG9kcyBhdmFpbGFibGUgZm9yIHRoZSBnaXZlbiBlbWFpbC5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBpcyB1c2VmdWwgdG8gZGlmZmVyZW50aWF0ZSBtZXRob2RzIG9mIHNpZ24taW4gZm9yIHRoZSBzYW1lIHByb3ZpZGVyLCBlZy5cbiAqIHtAbGluayBFbWFpbEF1dGhQcm92aWRlcn0gd2hpY2ggaGFzIDIgbWV0aG9kcyBvZiBzaWduLWluLFxuICoge0BsaW5rIFNpZ25Jbk1ldGhvZH0uRU1BSUxfUEFTU1dPUkQgYW5kXG4gKiB7QGxpbmsgU2lnbkluTWV0aG9kfS5FTUFJTF9MSU5LLlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlbWFpbCAtIFRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcy5cbiAqXG4gKiBEZXByZWNhdGVkLiBNaWdyYXRpbmcgb2ZmIG9mIHRoaXMgbWV0aG9kIGlzIHJlY29tbWVuZGVkIGFzIGEgc2VjdXJpdHkgYmVzdC1wcmFjdGljZS5cbiAqIExlYXJuIG1vcmUgaW4gdGhlIElkZW50aXR5IFBsYXRmb3JtIGRvY3VtZW50YXRpb24gZm9yXG4gKiB7QGxpbmsgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2lkZW50aXR5LXBsYXRmb3JtL2RvY3MvYWRtaW4vZW1haWwtZW51bWVyYXRpb24tcHJvdGVjdGlvbiB8IEVtYWlsIEVudW1lcmF0aW9uIFByb3RlY3Rpb259LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hTaWduSW5NZXRob2RzRm9yRW1haWwoXG4gIGF1dGg6IEF1dGgsXG4gIGVtYWlsOiBzdHJpbmdcbik6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgLy8gY3JlYXRlQXV0aFVyaSByZXR1cm5zIGFuIGVycm9yIGlmIGNvbnRpbnVlIFVSSSBpcyBub3QgaHR0cCBvciBodHRwcy5cbiAgLy8gRm9yIGVudmlyb25tZW50cyBsaWtlIENvcmRvdmEsIENocm9tZSBleHRlbnNpb25zLCBuYXRpdmUgZnJhbWV3b3JrcywgZmlsZVxuICAvLyBzeXN0ZW1zLCBldGMsIHVzZSBodHRwOi8vbG9jYWxob3N0IGFzIGNvbnRpbnVlIFVSTC5cbiAgY29uc3QgY29udGludWVVcmkgPSBfaXNIdHRwT3JIdHRwcygpID8gX2dldEN1cnJlbnRVcmwoKSA6ICdodHRwOi8vbG9jYWxob3N0JztcbiAgY29uc3QgcmVxdWVzdDogQ3JlYXRlQXV0aFVyaVJlcXVlc3QgPSB7XG4gICAgaWRlbnRpZmllcjogZW1haWwsXG4gICAgY29udGludWVVcmlcbiAgfTtcblxuICBjb25zdCB7IHNpZ25pbk1ldGhvZHMgfSA9IGF3YWl0IGNyZWF0ZUF1dGhVcmkoXG4gICAgZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLFxuICAgIHJlcXVlc3RcbiAgKTtcblxuICByZXR1cm4gc2lnbmluTWV0aG9kcyB8fCBbXTtcbn1cblxuLyoqXG4gKiBTZW5kcyBhIHZlcmlmaWNhdGlvbiBlbWFpbCB0byBhIHVzZXIuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoZSB2ZXJpZmljYXRpb24gcHJvY2VzcyBpcyBjb21wbGV0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYXBwbHlBY3Rpb25Db2RlfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgYWN0aW9uQ29kZVNldHRpbmdzID0ge1xuICogICB1cmw6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS8/ZW1haWw9dXNlckBleGFtcGxlLmNvbScsXG4gKiAgIGlPUzoge1xuICogICAgICBidW5kbGVJZDogJ2NvbS5leGFtcGxlLmlvcydcbiAqICAgfSxcbiAqICAgYW5kcm9pZDoge1xuICogICAgIHBhY2thZ2VOYW1lOiAnY29tLmV4YW1wbGUuYW5kcm9pZCcsXG4gKiAgICAgaW5zdGFsbEFwcDogdHJ1ZSxcbiAqICAgICBtaW5pbXVtVmVyc2lvbjogJzEyJ1xuICogICB9LFxuICogICBoYW5kbGVDb2RlSW5BcHA6IHRydWVcbiAqIH07XG4gKiBhd2FpdCBzZW5kRW1haWxWZXJpZmljYXRpb24odXNlciwgYWN0aW9uQ29kZVNldHRpbmdzKTtcbiAqIC8vIE9idGFpbiBjb2RlIGZyb20gdGhlIHVzZXIuXG4gKiBhd2FpdCBhcHBseUFjdGlvbkNvZGUoYXV0aCwgY29kZSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIGFjdGlvbkNvZGVTZXR0aW5ncyAtIFRoZSB7QGxpbmsgQWN0aW9uQ29kZVNldHRpbmdzfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kRW1haWxWZXJpZmljYXRpb24oXG4gIHVzZXI6IFVzZXIsXG4gIGFjdGlvbkNvZGVTZXR0aW5ncz86IEFjdGlvbkNvZGVTZXR0aW5ncyB8IG51bGxcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBjb25zdCBpZFRva2VuID0gYXdhaXQgdXNlci5nZXRJZFRva2VuKCk7XG4gIGNvbnN0IHJlcXVlc3Q6IGFwaS5WZXJpZnlFbWFpbFJlcXVlc3QgPSB7XG4gICAgcmVxdWVzdFR5cGU6IEFjdGlvbkNvZGVPcGVyYXRpb24uVkVSSUZZX0VNQUlMLFxuICAgIGlkVG9rZW5cbiAgfTtcbiAgaWYgKGFjdGlvbkNvZGVTZXR0aW5ncykge1xuICAgIF9zZXRBY3Rpb25Db2RlU2V0dGluZ3NPblJlcXVlc3QoXG4gICAgICB1c2VySW50ZXJuYWwuYXV0aCxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBhY3Rpb25Db2RlU2V0dGluZ3NcbiAgICApO1xuICB9XG5cbiAgY29uc3QgeyBlbWFpbCB9ID0gYXdhaXQgYXBpLnNlbmRFbWFpbFZlcmlmaWNhdGlvbih1c2VySW50ZXJuYWwuYXV0aCwgcmVxdWVzdCk7XG5cbiAgaWYgKGVtYWlsICE9PSB1c2VyLmVtYWlsKSB7XG4gICAgYXdhaXQgdXNlci5yZWxvYWQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbmRzIGEgdmVyaWZpY2F0aW9uIGVtYWlsIHRvIGEgbmV3IGVtYWlsIGFkZHJlc3MuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoZSB1c2VyJ3MgZW1haWwgd2lsbCBiZSB1cGRhdGVkIHRvIHRoZSBuZXcgb25lIGFmdGVyIGJlaW5nIHZlcmlmaWVkLlxuICpcbiAqIElmIHlvdSBoYXZlIGEgY3VzdG9tIGVtYWlsIGFjdGlvbiBoYW5kbGVyLCB5b3UgY2FuIGNvbXBsZXRlIHRoZSB2ZXJpZmljYXRpb24gcHJvY2VzcyBieSBjYWxsaW5nXG4gKiB7QGxpbmsgYXBwbHlBY3Rpb25Db2RlfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgYWN0aW9uQ29kZVNldHRpbmdzID0ge1xuICogICB1cmw6ICdodHRwczovL3d3dy5leGFtcGxlLmNvbS8/ZW1haWw9dXNlckBleGFtcGxlLmNvbScsXG4gKiAgIGlPUzoge1xuICogICAgICBidW5kbGVJZDogJ2NvbS5leGFtcGxlLmlvcydcbiAqICAgfSxcbiAqICAgYW5kcm9pZDoge1xuICogICAgIHBhY2thZ2VOYW1lOiAnY29tLmV4YW1wbGUuYW5kcm9pZCcsXG4gKiAgICAgaW5zdGFsbEFwcDogdHJ1ZSxcbiAqICAgICBtaW5pbXVtVmVyc2lvbjogJzEyJ1xuICogICB9LFxuICogICBoYW5kbGVDb2RlSW5BcHA6IHRydWVcbiAqIH07XG4gKiBhd2FpdCB2ZXJpZnlCZWZvcmVVcGRhdGVFbWFpbCh1c2VyLCAnbmV3ZW1haWxAZXhhbXBsZS5jb20nLCBhY3Rpb25Db2RlU2V0dGluZ3MpO1xuICogLy8gT2J0YWluIGNvZGUgZnJvbSB0aGUgdXNlci5cbiAqIGF3YWl0IGFwcGx5QWN0aW9uQ29kZShhdXRoLCBjb2RlKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gbmV3RW1haWwgLSBUaGUgbmV3IGVtYWlsIGFkZHJlc3MgdG8gYmUgdmVyaWZpZWQgYmVmb3JlIHVwZGF0ZS5cbiAqIEBwYXJhbSBhY3Rpb25Db2RlU2V0dGluZ3MgLSBUaGUge0BsaW5rIEFjdGlvbkNvZGVTZXR0aW5nc30uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5QmVmb3JlVXBkYXRlRW1haWwoXG4gIHVzZXI6IFVzZXIsXG4gIG5ld0VtYWlsOiBzdHJpbmcsXG4gIGFjdGlvbkNvZGVTZXR0aW5ncz86IEFjdGlvbkNvZGVTZXR0aW5ncyB8IG51bGxcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBjb25zdCBpZFRva2VuID0gYXdhaXQgdXNlci5nZXRJZFRva2VuKCk7XG4gIGNvbnN0IHJlcXVlc3Q6IGFwaS5WZXJpZnlBbmRDaGFuZ2VFbWFpbFJlcXVlc3QgPSB7XG4gICAgcmVxdWVzdFR5cGU6IEFjdGlvbkNvZGVPcGVyYXRpb24uVkVSSUZZX0FORF9DSEFOR0VfRU1BSUwsXG4gICAgaWRUb2tlbixcbiAgICBuZXdFbWFpbFxuICB9O1xuICBpZiAoYWN0aW9uQ29kZVNldHRpbmdzKSB7XG4gICAgX3NldEFjdGlvbkNvZGVTZXR0aW5nc09uUmVxdWVzdChcbiAgICAgIHVzZXJJbnRlcm5hbC5hdXRoLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGFjdGlvbkNvZGVTZXR0aW5nc1xuICAgICk7XG4gIH1cblxuICBjb25zdCB7IGVtYWlsIH0gPSBhd2FpdCBhcGkudmVyaWZ5QW5kQ2hhbmdlRW1haWwodXNlckludGVybmFsLmF1dGgsIHJlcXVlc3QpO1xuXG4gIGlmIChlbWFpbCAhPT0gdXNlci5lbWFpbCkge1xuICAgIC8vIElmIHRoZSBsb2NhbCBjb3B5IG9mIHRoZSBlbWFpbCBvbiB1c2VyIGlzIG91dGRhdGVkLCByZWxvYWQgdGhlXG4gICAgLy8gdXNlci5cbiAgICBhd2FpdCB1c2VyLnJlbG9hZCgpO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRW5kcG9pbnQsIEh0dHBNZXRob2QsIF9wZXJmb3JtQXBpUmVxdWVzdCB9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVByb2ZpbGVSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xuICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGw7XG4gIHBob3RvVXJsPzogc3RyaW5nIHwgbnVsbDtcbiAgcmV0dXJuU2VjdXJlVG9rZW46IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlUHJvZmlsZVJlc3BvbnNlIGV4dGVuZHMgSWRUb2tlblJlc3BvbnNlIHtcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsO1xuICBwaG90b1VybD86IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQcm9maWxlKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBVcGRhdGVQcm9maWxlUmVxdWVzdFxuKTogUHJvbWlzZTxVcGRhdGVQcm9maWxlUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxVcGRhdGVQcm9maWxlUmVxdWVzdCwgVXBkYXRlUHJvZmlsZVJlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TRVRfQUNDT1VOVF9JTkZPLFxuICAgIHJlcXVlc3RcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHtcbiAgdXBkYXRlRW1haWxQYXNzd29yZCBhcyBhcGlVcGRhdGVFbWFpbFBhc3N3b3JkLFxuICBVcGRhdGVFbWFpbFBhc3N3b3JkUmVxdWVzdFxufSBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L2VtYWlsX2FuZF9wYXNzd29yZCc7XG5pbXBvcnQgeyB1cGRhdGVQcm9maWxlIGFzIGFwaVVwZGF0ZVByb2ZpbGUgfSBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L3Byb2ZpbGUnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBfbG9nb3V0SWZJbnZhbGlkYXRlZCB9IGZyb20gJy4vaW52YWxpZGF0aW9uJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IFByb3ZpZGVySWQgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcblxuLyoqXG4gKiBVcGRhdGVzIGEgdXNlcidzIHByb2ZpbGUgZGF0YS5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIHByb2ZpbGUgLSBUaGUgcHJvZmlsZSdzIGBkaXNwbGF5TmFtZWAgYW5kIGBwaG90b1VSTGAgdG8gdXBkYXRlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb2ZpbGUoXG4gIHVzZXI6IFVzZXIsXG4gIHtcbiAgICBkaXNwbGF5TmFtZSxcbiAgICBwaG90b1VSTDogcGhvdG9VcmxcbiAgfTogeyBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGw7IHBob3RvVVJMPzogc3RyaW5nIHwgbnVsbCB9XG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKGRpc3BsYXlOYW1lID09PSB1bmRlZmluZWQgJiYgcGhvdG9VcmwgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCB1c2VySW50ZXJuYWwuZ2V0SWRUb2tlbigpO1xuICBjb25zdCBwcm9maWxlUmVxdWVzdCA9IHtcbiAgICBpZFRva2VuLFxuICAgIGRpc3BsYXlOYW1lLFxuICAgIHBob3RvVXJsLFxuICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlXG4gIH07XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgX2xvZ291dElmSW52YWxpZGF0ZWQoXG4gICAgdXNlckludGVybmFsLFxuICAgIGFwaVVwZGF0ZVByb2ZpbGUodXNlckludGVybmFsLmF1dGgsIHByb2ZpbGVSZXF1ZXN0KVxuICApO1xuXG4gIHVzZXJJbnRlcm5hbC5kaXNwbGF5TmFtZSA9IHJlc3BvbnNlLmRpc3BsYXlOYW1lIHx8IG51bGw7XG4gIHVzZXJJbnRlcm5hbC5waG90b1VSTCA9IHJlc3BvbnNlLnBob3RvVXJsIHx8IG51bGw7XG5cbiAgLy8gVXBkYXRlIHRoZSBwYXNzd29yZCBwcm92aWRlciBhcyB3ZWxsXG4gIGNvbnN0IHBhc3N3b3JkUHJvdmlkZXIgPSB1c2VySW50ZXJuYWwucHJvdmlkZXJEYXRhLmZpbmQoXG4gICAgKHsgcHJvdmlkZXJJZCB9KSA9PiBwcm92aWRlcklkID09PSBQcm92aWRlcklkLlBBU1NXT1JEXG4gICk7XG4gIGlmIChwYXNzd29yZFByb3ZpZGVyKSB7XG4gICAgcGFzc3dvcmRQcm92aWRlci5kaXNwbGF5TmFtZSA9IHVzZXJJbnRlcm5hbC5kaXNwbGF5TmFtZTtcbiAgICBwYXNzd29yZFByb3ZpZGVyLnBob3RvVVJMID0gdXNlckludGVybmFsLnBob3RvVVJMO1xuICB9XG5cbiAgYXdhaXQgdXNlckludGVybmFsLl91cGRhdGVUb2tlbnNJZk5lY2Vzc2FyeShyZXNwb25zZSk7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdXNlcidzIGVtYWlsIGFkZHJlc3MuXG4gKlxuICogQHJlbWFya3NcbiAqIEFuIGVtYWlsIHdpbGwgYmUgc2VudCB0byB0aGUgb3JpZ2luYWwgZW1haWwgYWRkcmVzcyAoaWYgaXQgd2FzIHNldCkgdGhhdCBhbGxvd3MgdG8gcmV2b2tlIHRoZVxuICogZW1haWwgYWRkcmVzcyBjaGFuZ2UsIGluIG9yZGVyIHRvIHByb3RlY3QgdGhlbSBmcm9tIGFjY291bnQgaGlqYWNraW5nLlxuICpcbiAqIFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgb24gYW55IHtAbGluayBVc2VyfSBzaWduZWQgaW4gYnkge0BsaW5rIEF1dGh9IGluc3RhbmNlc1xuICogY3JlYXRlZCB3aXRoIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEltcG9ydGFudDogdGhpcyBpcyBhIHNlY3VyaXR5IHNlbnNpdGl2ZSBvcGVyYXRpb24gdGhhdCByZXF1aXJlcyB0aGUgdXNlciB0byBoYXZlIHJlY2VudGx5IHNpZ25lZFxuICogaW4uIElmIHRoaXMgcmVxdWlyZW1lbnQgaXNuJ3QgbWV0LCBhc2sgdGhlIHVzZXIgdG8gYXV0aGVudGljYXRlIGFnYWluIGFuZCB0aGVuIGNhbGxcbiAqIHtAbGluayByZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsfS5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIG5ld0VtYWlsIC0gVGhlIG5ldyBlbWFpbCBhZGRyZXNzLlxuICpcbiAqIFRocm93cyBcImF1dGgvb3BlcmF0aW9uLW5vdC1hbGxvd2VkXCIgZXJyb3Igd2hlblxuICoge0BsaW5rIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9pZGVudGl0eS1wbGF0Zm9ybS9kb2NzL2FkbWluL2VtYWlsLWVudW1lcmF0aW9uLXByb3RlY3Rpb24gfCBFbWFpbCBFbnVtZXJhdGlvbiBQcm90ZWN0aW9ufVxuICogaXMgZW5hYmxlZC5cbiAqIERlcHJlY2F0ZWQgLSBVc2Uge0BsaW5rIHZlcmlmeUJlZm9yZVVwZGF0ZUVtYWlsfSBpbnN0ZWFkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUVtYWlsKHVzZXI6IFVzZXIsIG5ld0VtYWlsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHVzZXJJbnRlcm5hbC5hdXRoLmFwcCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvcih1c2VySW50ZXJuYWwuYXV0aClcbiAgICApO1xuICB9XG4gIHJldHVybiB1cGRhdGVFbWFpbE9yUGFzc3dvcmQodXNlckludGVybmFsLCBuZXdFbWFpbCwgbnVsbCk7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdXNlcidzIHBhc3N3b3JkLlxuICpcbiAqIEByZW1hcmtzXG4gKiBJbXBvcnRhbnQ6IHRoaXMgaXMgYSBzZWN1cml0eSBzZW5zaXRpdmUgb3BlcmF0aW9uIHRoYXQgcmVxdWlyZXMgdGhlIHVzZXIgdG8gaGF2ZSByZWNlbnRseSBzaWduZWRcbiAqIGluLiBJZiB0aGlzIHJlcXVpcmVtZW50IGlzbid0IG1ldCwgYXNrIHRoZSB1c2VyIHRvIGF1dGhlbnRpY2F0ZSBhZ2FpbiBhbmQgdGhlbiBjYWxsXG4gKiB7QGxpbmsgcmVhdXRoZW50aWNhdGVXaXRoQ3JlZGVudGlhbH0uXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBuZXdQYXNzd29yZCAtIFRoZSBuZXcgcGFzc3dvcmQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUGFzc3dvcmQodXNlcjogVXNlciwgbmV3UGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gdXBkYXRlRW1haWxPclBhc3N3b3JkKFxuICAgIGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWwsXG4gICAgbnVsbCxcbiAgICBuZXdQYXNzd29yZFxuICApO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVFbWFpbE9yUGFzc3dvcmQoXG4gIHVzZXI6IFVzZXJJbnRlcm5hbCxcbiAgZW1haWw6IHN0cmluZyB8IG51bGwsXG4gIHBhc3N3b3JkOiBzdHJpbmcgfCBudWxsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgeyBhdXRoIH0gPSB1c2VyO1xuICBjb25zdCBpZFRva2VuID0gYXdhaXQgdXNlci5nZXRJZFRva2VuKCk7XG4gIGNvbnN0IHJlcXVlc3Q6IFVwZGF0ZUVtYWlsUGFzc3dvcmRSZXF1ZXN0ID0ge1xuICAgIGlkVG9rZW4sXG4gICAgcmV0dXJuU2VjdXJlVG9rZW46IHRydWVcbiAgfTtcblxuICBpZiAoZW1haWwpIHtcbiAgICByZXF1ZXN0LmVtYWlsID0gZW1haWw7XG4gIH1cblxuICBpZiAocGFzc3dvcmQpIHtcbiAgICByZXF1ZXN0LnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gIH1cblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9sb2dvdXRJZkludmFsaWRhdGVkKFxuICAgIHVzZXIsXG4gICAgYXBpVXBkYXRlRW1haWxQYXNzd29yZChhdXRoLCByZXF1ZXN0KVxuICApO1xuICBhd2FpdCB1c2VyLl91cGRhdGVUb2tlbnNJZk5lY2Vzc2FyeShyZXNwb25zZSwgLyogcmVsb2FkICovIHRydWUpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFkZGl0aW9uYWxVc2VySW5mbywgVXNlckNyZWRlbnRpYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlLCBJZFRva2VuUmVzcG9uc2VLaW5kIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgX3BhcnNlVG9rZW4gfSBmcm9tICcuL2lkX3Rva2VuX3Jlc3VsdCc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBQcm92aWRlcklkIH0gZnJvbSAnLi4vLi4vbW9kZWwvZW51bXMnO1xuXG4vKipcbiAqIFBhcnNlIHRoZSBgQWRkaXRpb25hbFVzZXJJbmZvYCBmcm9tIHRoZSBJRCB0b2tlbiByZXNwb25zZS5cbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfZnJvbUlkVG9rZW5SZXNwb25zZShcbiAgaWRUb2tlblJlc3BvbnNlPzogSWRUb2tlblJlc3BvbnNlXG4pOiBBZGRpdGlvbmFsVXNlckluZm8gfCBudWxsIHtcbiAgaWYgKCFpZFRva2VuUmVzcG9uc2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCB7IHByb3ZpZGVySWQgfSA9IGlkVG9rZW5SZXNwb25zZTtcbiAgY29uc3QgcHJvZmlsZSA9IGlkVG9rZW5SZXNwb25zZS5yYXdVc2VySW5mb1xuICAgID8gSlNPTi5wYXJzZShpZFRva2VuUmVzcG9uc2UucmF3VXNlckluZm8pXG4gICAgOiB7fTtcbiAgY29uc3QgaXNOZXdVc2VyID1cbiAgICBpZFRva2VuUmVzcG9uc2UuaXNOZXdVc2VyIHx8XG4gICAgaWRUb2tlblJlc3BvbnNlLmtpbmQgPT09IElkVG9rZW5SZXNwb25zZUtpbmQuU2lnbnVwTmV3VXNlcjtcbiAgaWYgKCFwcm92aWRlcklkICYmIGlkVG9rZW5SZXNwb25zZT8uaWRUb2tlbikge1xuICAgIGNvbnN0IHNpZ25JblByb3ZpZGVyID0gX3BhcnNlVG9rZW4oaWRUb2tlblJlc3BvbnNlLmlkVG9rZW4pPy5maXJlYmFzZT8uW1xuICAgICAgJ3NpZ25faW5fcHJvdmlkZXInXG4gICAgXTtcbiAgICBpZiAoc2lnbkluUHJvdmlkZXIpIHtcbiAgICAgIGNvbnN0IGZpbHRlcmVkUHJvdmlkZXJJZCA9XG4gICAgICAgIHNpZ25JblByb3ZpZGVyICE9PSBQcm92aWRlcklkLkFOT05ZTU9VUyAmJlxuICAgICAgICBzaWduSW5Qcm92aWRlciAhPT0gUHJvdmlkZXJJZC5DVVNUT01cbiAgICAgICAgICA/IChzaWduSW5Qcm92aWRlciBhcyBQcm92aWRlcklkKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIC8vIFVzZXMgZ2VuZXJpYyBjbGFzcyBpbiBhY2NvcmRhbmNlIHdpdGggdGhlIGxlZ2FjeSBTREsuXG4gICAgICByZXR1cm4gbmV3IEdlbmVyaWNBZGRpdGlvbmFsVXNlckluZm8oaXNOZXdVc2VyLCBmaWx0ZXJlZFByb3ZpZGVySWQpO1xuICAgIH1cbiAgfVxuICBpZiAoIXByb3ZpZGVySWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBzd2l0Y2ggKHByb3ZpZGVySWQpIHtcbiAgICBjYXNlIFByb3ZpZGVySWQuRkFDRUJPT0s6XG4gICAgICByZXR1cm4gbmV3IEZhY2Vib29rQWRkaXRpb25hbFVzZXJJbmZvKGlzTmV3VXNlciwgcHJvZmlsZSk7XG4gICAgY2FzZSBQcm92aWRlcklkLkdJVEhVQjpcbiAgICAgIHJldHVybiBuZXcgR2l0aHViQWRkaXRpb25hbFVzZXJJbmZvKGlzTmV3VXNlciwgcHJvZmlsZSk7XG4gICAgY2FzZSBQcm92aWRlcklkLkdPT0dMRTpcbiAgICAgIHJldHVybiBuZXcgR29vZ2xlQWRkaXRpb25hbFVzZXJJbmZvKGlzTmV3VXNlciwgcHJvZmlsZSk7XG4gICAgY2FzZSBQcm92aWRlcklkLlRXSVRURVI6XG4gICAgICByZXR1cm4gbmV3IFR3aXR0ZXJBZGRpdGlvbmFsVXNlckluZm8oXG4gICAgICAgIGlzTmV3VXNlcixcbiAgICAgICAgcHJvZmlsZSxcbiAgICAgICAgaWRUb2tlblJlc3BvbnNlLnNjcmVlbk5hbWUgfHwgbnVsbFxuICAgICAgKTtcbiAgICBjYXNlIFByb3ZpZGVySWQuQ1VTVE9NOlxuICAgIGNhc2UgUHJvdmlkZXJJZC5BTk9OWU1PVVM6XG4gICAgICByZXR1cm4gbmV3IEdlbmVyaWNBZGRpdGlvbmFsVXNlckluZm8oaXNOZXdVc2VyLCBudWxsKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG5ldyBHZW5lcmljQWRkaXRpb25hbFVzZXJJbmZvKGlzTmV3VXNlciwgcHJvdmlkZXJJZCwgcHJvZmlsZSk7XG4gIH1cbn1cblxuY2xhc3MgR2VuZXJpY0FkZGl0aW9uYWxVc2VySW5mbyBpbXBsZW1lbnRzIEFkZGl0aW9uYWxVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IGlzTmV3VXNlcjogYm9vbGVhbixcbiAgICByZWFkb25seSBwcm92aWRlcklkOiBQcm92aWRlcklkIHwgc3RyaW5nIHwgbnVsbCxcbiAgICByZWFkb25seSBwcm9maWxlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9XG4gICkge31cbn1cblxuY2xhc3MgRmVkZXJhdGVkQWRkaXRpb25hbFVzZXJJbmZvV2l0aFVzZXJuYW1lIGV4dGVuZHMgR2VuZXJpY0FkZGl0aW9uYWxVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGlzTmV3VXNlcjogYm9vbGVhbixcbiAgICBwcm92aWRlcklkOiBQcm92aWRlcklkLFxuICAgIHByb2ZpbGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgIHJlYWRvbmx5IHVzZXJuYW1lOiBzdHJpbmcgfCBudWxsXG4gICkge1xuICAgIHN1cGVyKGlzTmV3VXNlciwgcHJvdmlkZXJJZCwgcHJvZmlsZSk7XG4gIH1cbn1cblxuY2xhc3MgRmFjZWJvb2tBZGRpdGlvbmFsVXNlckluZm8gZXh0ZW5kcyBHZW5lcmljQWRkaXRpb25hbFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoaXNOZXdVc2VyOiBib29sZWFuLCBwcm9maWxlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikge1xuICAgIHN1cGVyKGlzTmV3VXNlciwgUHJvdmlkZXJJZC5GQUNFQk9PSywgcHJvZmlsZSk7XG4gIH1cbn1cblxuY2xhc3MgR2l0aHViQWRkaXRpb25hbFVzZXJJbmZvIGV4dGVuZHMgRmVkZXJhdGVkQWRkaXRpb25hbFVzZXJJbmZvV2l0aFVzZXJuYW1lIHtcbiAgY29uc3RydWN0b3IoaXNOZXdVc2VyOiBib29sZWFuLCBwcm9maWxlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikge1xuICAgIHN1cGVyKFxuICAgICAgaXNOZXdVc2VyLFxuICAgICAgUHJvdmlkZXJJZC5HSVRIVUIsXG4gICAgICBwcm9maWxlLFxuICAgICAgdHlwZW9mIHByb2ZpbGU/LmxvZ2luID09PSAnc3RyaW5nJyA/IHByb2ZpbGU/LmxvZ2luIDogbnVsbFxuICAgICk7XG4gIH1cbn1cblxuY2xhc3MgR29vZ2xlQWRkaXRpb25hbFVzZXJJbmZvIGV4dGVuZHMgR2VuZXJpY0FkZGl0aW9uYWxVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKGlzTmV3VXNlcjogYm9vbGVhbiwgcHJvZmlsZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgICBzdXBlcihpc05ld1VzZXIsIFByb3ZpZGVySWQuR09PR0xFLCBwcm9maWxlKTtcbiAgfVxufVxuXG5jbGFzcyBUd2l0dGVyQWRkaXRpb25hbFVzZXJJbmZvIGV4dGVuZHMgRmVkZXJhdGVkQWRkaXRpb25hbFVzZXJJbmZvV2l0aFVzZXJuYW1lIHtcbiAgY29uc3RydWN0b3IoXG4gICAgaXNOZXdVc2VyOiBib29sZWFuLFxuICAgIHByb2ZpbGU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgIHNjcmVlbk5hbWU6IHN0cmluZyB8IG51bGxcbiAgKSB7XG4gICAgc3VwZXIoaXNOZXdVc2VyLCBQcm92aWRlcklkLlRXSVRURVIsIHByb2ZpbGUsIHNjcmVlbk5hbWUpO1xuICB9XG59XG5cbi8qKlxuICogRXh0cmFjdHMgcHJvdmlkZXIgc3BlY2lmaWMge0BsaW5rIEFkZGl0aW9uYWxVc2VySW5mb30gZm9yIHRoZSBnaXZlbiBjcmVkZW50aWFsLlxuICpcbiAqIEBwYXJhbSB1c2VyQ3JlZGVudGlhbCAtIFRoZSB1c2VyIGNyZWRlbnRpYWwuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWRkaXRpb25hbFVzZXJJbmZvKFxuICB1c2VyQ3JlZGVudGlhbDogVXNlckNyZWRlbnRpYWxcbik6IEFkZGl0aW9uYWxVc2VySW5mbyB8IG51bGwge1xuICBjb25zdCB7IHVzZXIsIF90b2tlblJlc3BvbnNlIH0gPSB1c2VyQ3JlZGVudGlhbCBhcyBVc2VyQ3JlZGVudGlhbEludGVybmFsO1xuICBpZiAodXNlci5pc0Fub255bW91cyAmJiAhX3Rva2VuUmVzcG9uc2UpIHtcbiAgICAvLyBIYW5kbGUgdGhlIHNwZWNpYWwgY2FzZSB3aGVyZSBzaWduSW5Bbm9ueW1vdXNseSgpIGdldHMgY2FsbGVkIHR3aWNlLlxuICAgIC8vIE5vIG5ldHdvcmsgY2FsbCBpcyBtYWRlIHNvIHRoZXJlJ3Mgbm90aGluZyB0byBhY3R1YWxseSBmaWxsIHRoaXMgaW5cbiAgICByZXR1cm4ge1xuICAgICAgcHJvdmlkZXJJZDogbnVsbCxcbiAgICAgIGlzTmV3VXNlcjogZmFsc2UsXG4gICAgICBwcm9maWxlOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfZnJvbUlkVG9rZW5SZXNwb25zZShfdG9rZW5SZXNwb25zZSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHtcbiAgQXV0aCxcbiAgTmV4dE9yT2JzZXJ2ZXIsXG4gIFBlcnNpc3RlbmNlLFxuICBVc2VyLFxuICBDb21wbGV0ZUZuLFxuICBFcnJvckZuLFxuICBVbnN1YnNjcmliZSxcbiAgUGFzc3dvcmRWYWxpZGF0aW9uU3RhdHVzXG59IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBfaW5pdGlhbGl6ZVJlY2FwdGNoYUNvbmZpZyB9IGZyb20gJy4uL3BsYXRmb3JtX2Jyb3dzZXIvcmVjYXB0Y2hhL3JlY2FwdGNoYV9lbnRlcnByaXNlX3ZlcmlmaWVyJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uL2NvcmUvYXV0aC9hdXRoX2ltcGwnO1xuXG5leHBvcnQge1xuICBkZWJ1Z0Vycm9yTWFwLFxuICBwcm9kRXJyb3JNYXAsXG4gIEFVVEhfRVJST1JfQ09ERVNfTUFQX0RPX05PVF9VU0VfSU5URVJOQUxMWSBhcyBBdXRoRXJyb3JDb2Rlc1xufSBmcm9tICcuL2Vycm9ycyc7XG5cbi8vIE5vbi1vcHRpb25hbCBhdXRoIG1ldGhvZHMuXG4vKipcbiAqIENoYW5nZXMgdGhlIHR5cGUgb2YgcGVyc2lzdGVuY2Ugb24gdGhlIHtAbGluayBBdXRofSBpbnN0YW5jZSBmb3IgdGhlIGN1cnJlbnRseSBzYXZlZFxuICogYEF1dGhgIHNlc3Npb24gYW5kIGFwcGxpZXMgdGhpcyB0eXBlIG9mIHBlcnNpc3RlbmNlIGZvciBmdXR1cmUgc2lnbi1pbiByZXF1ZXN0cywgaW5jbHVkaW5nXG4gKiBzaWduLWluIHdpdGggcmVkaXJlY3QgcmVxdWVzdHMuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgbWFrZXMgaXQgZWFzeSBmb3IgYSB1c2VyIHNpZ25pbmcgaW4gdG8gc3BlY2lmeSB3aGV0aGVyIHRoZWlyIHNlc3Npb24gc2hvdWxkIGJlXG4gKiByZW1lbWJlcmVkIG9yIG5vdC4gSXQgYWxzbyBtYWtlcyBpdCBlYXNpZXIgdG8gbmV2ZXIgcGVyc2lzdCB0aGUgYEF1dGhgIHN0YXRlIGZvciBhcHBsaWNhdGlvbnNcbiAqIHRoYXQgYXJlIHNoYXJlZCBieSBvdGhlciB1c2VycyBvciBoYXZlIHNlbnNpdGl2ZSBkYXRhLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIHdpdGgge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYVxuICoge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBzZXRQZXJzaXN0ZW5jZShhdXRoLCBicm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBwZXJzaXN0ZW5jZSAtIFRoZSB7QGxpbmsgUGVyc2lzdGVuY2V9IHRvIHVzZS5cbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgb25jZSB0aGUgcGVyc2lzdGVuY2UgY2hhbmdlIGhhcyBjb21wbGV0ZWRcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQZXJzaXN0ZW5jZShcbiAgYXV0aDogQXV0aCxcbiAgcGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKS5zZXRQZXJzaXN0ZW5jZShwZXJzaXN0ZW5jZSk7XG59XG5cbi8qKlxuICogTG9hZHMgdGhlIHJlQ0FQVENIQSBjb25maWd1cmF0aW9uIGludG8gdGhlIGBBdXRoYCBpbnN0YW5jZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyB3aWxsIGxvYWQgdGhlIHJlQ0FQVENIQSBjb25maWcsIHdoaWNoIGluZGljYXRlcyB3aGV0aGVyIHRoZSByZUNBUFRDSEFcbiAqIHZlcmlmaWNhdGlvbiBmbG93IHNob3VsZCBiZSB0cmlnZ2VyZWQgZm9yIGVhY2ggYXV0aCBwcm92aWRlciwgaW50byB0aGVcbiAqIGN1cnJlbnQgQXV0aCBzZXNzaW9uLlxuICpcbiAqIElmIGluaXRpYWxpemVSZWNhcHRjaGFDb25maWcoKSBpcyBub3QgaW52b2tlZCwgdGhlIGF1dGggZmxvdyB3aWxsIGFsd2F5cyBzdGFydFxuICogd2l0aG91dCByZUNBUFRDSEEgdmVyaWZpY2F0aW9uLiBJZiB0aGUgcHJvdmlkZXIgaXMgY29uZmlndXJlZCB0byByZXF1aXJlIHJlQ0FQVENIQVxuICogdmVyaWZpY2F0aW9uLCB0aGUgU0RLIHdpbGwgdHJhbnNwYXJlbnRseSBsb2FkIHRoZSByZUNBUFRDSEEgY29uZmlnIGFuZCByZXN0YXJ0IHRoZVxuICogYXV0aCBmbG93cy5cbiAqXG4gKiBUaHVzLCBieSBjYWxsaW5nIHRoaXMgb3B0aW9uYWwgbWV0aG9kLCB5b3Ugd2lsbCByZWR1Y2UgdGhlIGxhdGVuY3kgb2YgZnV0dXJlIGF1dGggZmxvd3MuXG4gKiBMb2FkaW5nIHRoZSByZUNBUFRDSEEgY29uZmlnIGVhcmx5IHdpbGwgYWxzbyBlbmhhbmNlIHRoZSBzaWduYWwgY29sbGVjdGVkIGJ5IHJlQ0FQVENIQS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogaW5pdGlhbGl6ZVJlY2FwdGNoYUNvbmZpZyhhdXRoKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplUmVjYXB0Y2hhQ29uZmlnKGF1dGg6IEF1dGgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIF9pbml0aWFsaXplUmVjYXB0Y2hhQ29uZmlnKGF1dGgpO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgcGFzc3dvcmQgYWdhaW5zdCB0aGUgcGFzc3dvcmQgcG9saWN5IGNvbmZpZ3VyZWQgZm9yIHRoZSBwcm9qZWN0IG9yIHRlbmFudC5cbiAqXG4gKiBAcmVtYXJrc1xuICogSWYgbm8gdGVuYW50IElEIGlzIHNldCBvbiB0aGUgYEF1dGhgIGluc3RhbmNlLCB0aGVuIHRoaXMgbWV0aG9kIHdpbGwgdXNlIHRoZSBwYXNzd29yZFxuICogcG9saWN5IGNvbmZpZ3VyZWQgZm9yIHRoZSBwcm9qZWN0LiBPdGhlcndpc2UsIHRoaXMgbWV0aG9kIHdpbGwgdXNlIHRoZSBwb2xpY3kgY29uZmlndXJlZFxuICogZm9yIHRoZSB0ZW5hbnQuIElmIGEgcGFzc3dvcmQgcG9saWN5IGhhcyBub3QgYmVlbiBjb25maWd1cmVkLCB0aGVuIHRoZSBkZWZhdWx0IHBvbGljeVxuICogY29uZmlndXJlZCBmb3IgYWxsIHByb2plY3RzIHdpbGwgYmUgdXNlZC5cbiAqXG4gKiBJZiBhbiBhdXRoIGZsb3cgZmFpbHMgYmVjYXVzZSBhIHN1Ym1pdHRlZCBwYXNzd29yZCBkb2VzIG5vdCBtZWV0IHRoZSBwYXNzd29yZCBwb2xpY3lcbiAqIHJlcXVpcmVtZW50cyBhbmQgdGhpcyBtZXRob2QgaGFzIHByZXZpb3VzbHkgYmVlbiBjYWxsZWQsIHRoZW4gdGhpcyBtZXRob2Qgd2lsbCB1c2UgdGhlXG4gKiBtb3N0IHJlY2VudCBwb2xpY3kgYXZhaWxhYmxlIHdoZW4gY2FsbGVkIGFnYWluLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YWxpZGF0ZVBhc3N3b3JkKGF1dGgsICdzb21lLXBhc3N3b3JkJyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aCBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIHBhc3N3b3JkIFRoZSBwYXNzd29yZCB0byB2YWxpZGF0ZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2YWxpZGF0ZVBhc3N3b3JkKFxuICBhdXRoOiBBdXRoLFxuICBwYXNzd29yZDogc3RyaW5nXG4pOiBQcm9taXNlPFBhc3N3b3JkVmFsaWRhdGlvblN0YXR1cz4ge1xuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIHJldHVybiBhdXRoSW50ZXJuYWwudmFsaWRhdGVQYXNzd29yZChwYXNzd29yZCk7XG59XG5cbi8qKlxuICogQWRkcyBhbiBvYnNlcnZlciBmb3IgY2hhbmdlcyB0byB0aGUgc2lnbmVkLWluIHVzZXIncyBJRCB0b2tlbi5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBpbmNsdWRlcyBzaWduLWluLCBzaWduLW91dCwgYW5kIHRva2VuIHJlZnJlc2ggZXZlbnRzLlxuICogVGhpcyB3aWxsIG5vdCBiZSB0cmlnZ2VyZWQgYXV0b21hdGljYWxseSB1cG9uIElEIHRva2VuIGV4cGlyYXRpb24uIFVzZSB7QGxpbmsgVXNlci5nZXRJZFRva2VufSB0byByZWZyZXNoIHRoZSBJRCB0b2tlbi5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gbmV4dE9yT2JzZXJ2ZXIgLSBjYWxsYmFjayB0cmlnZ2VyZWQgb24gY2hhbmdlLlxuICogQHBhcmFtIGVycm9yIC0gRGVwcmVjYXRlZC4gVGhpcyBjYWxsYmFjayBpcyBuZXZlciB0cmlnZ2VyZWQuIEVycm9yc1xuICogb24gc2lnbmluZyBpbi9vdXQgY2FuIGJlIGNhdWdodCBpbiBwcm9taXNlcyByZXR1cm5lZCBmcm9tXG4gKiBzaWduLWluL3NpZ24tb3V0IGZ1bmN0aW9ucy5cbiAqIEBwYXJhbSBjb21wbGV0ZWQgLSBEZXByZWNhdGVkLiBUaGlzIGNhbGxiYWNrIGlzIG5ldmVyIHRyaWdnZXJlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbklkVG9rZW5DaGFuZ2VkKFxuICBhdXRoOiBBdXRoLFxuICBuZXh0T3JPYnNlcnZlcjogTmV4dE9yT2JzZXJ2ZXI8VXNlcj4sXG4gIGVycm9yPzogRXJyb3JGbixcbiAgY29tcGxldGVkPzogQ29tcGxldGVGblxuKTogVW5zdWJzY3JpYmUge1xuICByZXR1cm4gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLm9uSWRUb2tlbkNoYW5nZWQoXG4gICAgbmV4dE9yT2JzZXJ2ZXIsXG4gICAgZXJyb3IsXG4gICAgY29tcGxldGVkXG4gICk7XG59XG4vKipcbiAqIEFkZHMgYSBibG9ja2luZyBjYWxsYmFjayB0aGF0IHJ1bnMgYmVmb3JlIGFuIGF1dGggc3RhdGUgY2hhbmdlXG4gKiBzZXRzIGEgbmV3IHVzZXIuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdHJpZ2dlcmVkIGJlZm9yZSBuZXcgdXNlciB2YWx1ZSBpcyBzZXQuXG4gKiAgIElmIHRoaXMgdGhyb3dzLCBpdCBibG9ja3MgdGhlIHVzZXIgZnJvbSBiZWluZyBzZXQuXG4gKiBAcGFyYW0gb25BYm9ydCAtIGNhbGxiYWNrIHRyaWdnZXJlZCBpZiBhIGxhdGVyIGBiZWZvcmVBdXRoU3RhdGVDaGFuZ2VkKClgXG4gKiAgIGNhbGxiYWNrIHRocm93cywgYWxsb3dpbmcgeW91IHRvIHVuZG8gYW55IHNpZGUgZWZmZWN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJlZm9yZUF1dGhTdGF0ZUNoYW5nZWQoXG4gIGF1dGg6IEF1dGgsXG4gIGNhbGxiYWNrOiAodXNlcjogVXNlciB8IG51bGwpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuICBvbkFib3J0PzogKCkgPT4gdm9pZFxuKTogVW5zdWJzY3JpYmUge1xuICByZXR1cm4gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLmJlZm9yZUF1dGhTdGF0ZUNoYW5nZWQoY2FsbGJhY2ssIG9uQWJvcnQpO1xufVxuLyoqXG4gKiBBZGRzIGFuIG9ic2VydmVyIGZvciBjaGFuZ2VzIHRvIHRoZSB1c2VyJ3Mgc2lnbi1pbiBzdGF0ZS5cbiAqXG4gKiBAcmVtYXJrc1xuICogVG8ga2VlcCB0aGUgb2xkIGJlaGF2aW9yLCBzZWUge0BsaW5rIG9uSWRUb2tlbkNoYW5nZWR9LlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBuZXh0T3JPYnNlcnZlciAtIGNhbGxiYWNrIHRyaWdnZXJlZCBvbiBjaGFuZ2UuXG4gKiBAcGFyYW0gZXJyb3IgLSBEZXByZWNhdGVkLiBUaGlzIGNhbGxiYWNrIGlzIG5ldmVyIHRyaWdnZXJlZC4gRXJyb3JzXG4gKiBvbiBzaWduaW5nIGluL291dCBjYW4gYmUgY2F1Z2h0IGluIHByb21pc2VzIHJldHVybmVkIGZyb21cbiAqIHNpZ24taW4vc2lnbi1vdXQgZnVuY3Rpb25zLlxuICogQHBhcmFtIGNvbXBsZXRlZCAtIERlcHJlY2F0ZWQuIFRoaXMgY2FsbGJhY2sgaXMgbmV2ZXIgdHJpZ2dlcmVkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uQXV0aFN0YXRlQ2hhbmdlZChcbiAgYXV0aDogQXV0aCxcbiAgbmV4dE9yT2JzZXJ2ZXI6IE5leHRPck9ic2VydmVyPFVzZXI+LFxuICBlcnJvcj86IEVycm9yRm4sXG4gIGNvbXBsZXRlZD86IENvbXBsZXRlRm5cbik6IFVuc3Vic2NyaWJlIHtcbiAgcmV0dXJuIGdldE1vZHVsYXJJbnN0YW5jZShhdXRoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoXG4gICAgbmV4dE9yT2JzZXJ2ZXIsXG4gICAgZXJyb3IsXG4gICAgY29tcGxldGVkXG4gICk7XG59XG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgbGFuZ3VhZ2UgdG8gdGhlIGRlZmF1bHQgZGV2aWNlL2Jyb3dzZXIgcHJlZmVyZW5jZS5cbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlRGV2aWNlTGFuZ3VhZ2UoYXV0aDogQXV0aCk6IHZvaWQge1xuICBnZXRNb2R1bGFySW5zdGFuY2UoYXV0aCkudXNlRGV2aWNlTGFuZ3VhZ2UoKTtcbn1cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2V0cyB0aGUgcHJvdmlkZWQgdXNlciBhcyB7QGxpbmsgQXV0aC5jdXJyZW50VXNlcn0gb24gdGhlXG4gKiB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKlxuICogQHJlbWFya3NcbiAqIEEgbmV3IGluc3RhbmNlIGNvcHkgb2YgdGhlIHVzZXIgcHJvdmlkZWQgd2lsbCBiZSBtYWRlIGFuZCBzZXQgYXMgY3VycmVudFVzZXIuXG4gKlxuICogVGhpcyB3aWxsIHRyaWdnZXIge0BsaW5rIG9uQXV0aFN0YXRlQ2hhbmdlZH0gYW5kIHtAbGluayBvbklkVG9rZW5DaGFuZ2VkfSBsaXN0ZW5lcnNcbiAqIGxpa2Ugb3RoZXIgc2lnbiBpbiBtZXRob2RzLlxuICpcbiAqIFRoZSBvcGVyYXRpb24gZmFpbHMgd2l0aCBhbiBlcnJvciBpZiB0aGUgdXNlciB0byBiZSB1cGRhdGVkIGJlbG9uZ3MgdG8gYSBkaWZmZXJlbnQgRmlyZWJhc2VcbiAqIHByb2plY3QuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIHVzZXIgLSBUaGUgbmV3IHtAbGluayBVc2VyfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDdXJyZW50VXNlcihcbiAgYXV0aDogQXV0aCxcbiAgdXNlcjogVXNlciB8IG51bGxcbik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLnVwZGF0ZUN1cnJlbnRVc2VyKHVzZXIpO1xufVxuLyoqXG4gKiBTaWducyBvdXQgdGhlIGN1cnJlbnQgdXNlci5cbiAqXG4gKiBAcmVtYXJrc1xuICogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBieSB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ25PdXQoYXV0aDogQXV0aCk6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpLnNpZ25PdXQoKTtcbn1cblxuLyoqXG4gKiBSZXZva2VzIHRoZSBnaXZlbiBhY2Nlc3MgdG9rZW4uIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIEFwcGxlIE9BdXRoIGFjY2VzcyB0b2tlbnMuXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIHRva2VuIC0gVGhlIEFwcGxlIE9BdXRoIGFjY2VzcyB0b2tlbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXZva2VBY2Nlc3NUb2tlbihhdXRoOiBBdXRoLCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgcmV0dXJuIGF1dGhJbnRlcm5hbC5yZXZva2VBY2Nlc3NUb2tlbih0b2tlbik7XG59XG5cbmV4cG9ydCB7IGluaXRpYWxpemVBdXRoIH0gZnJvbSAnLi9hdXRoL2luaXRpYWxpemUnO1xuZXhwb3J0IHsgY29ubmVjdEF1dGhFbXVsYXRvciB9IGZyb20gJy4vYXV0aC9lbXVsYXRvcic7XG5cbi8vIGNyZWRlbnRpYWxzXG5leHBvcnQgeyBBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vY3JlZGVudGlhbHMnO1xuZXhwb3J0IHsgRW1haWxBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vY3JlZGVudGlhbHMvZW1haWwnO1xuZXhwb3J0IHsgT0F1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi9jcmVkZW50aWFscy9vYXV0aCc7XG5leHBvcnQgeyBQaG9uZUF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi9jcmVkZW50aWFscy9waG9uZSc7XG5cbi8vIHBlcnNpc3RlbmNlXG5leHBvcnQgeyBpbk1lbW9yeVBlcnNpc3RlbmNlIH0gZnJvbSAnLi9wZXJzaXN0ZW5jZS9pbl9tZW1vcnknO1xuXG4vLyBwcm92aWRlcnNcbmV4cG9ydCB7IEVtYWlsQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcnMvZW1haWwnO1xuZXhwb3J0IHsgRmFjZWJvb2tBdXRoUHJvdmlkZXIgfSBmcm9tICcuL3Byb3ZpZGVycy9mYWNlYm9vayc7XG5leHBvcnQgeyBDdXN0b21QYXJhbWV0ZXJzIH0gZnJvbSAnLi9wcm92aWRlcnMvZmVkZXJhdGVkJztcbmV4cG9ydCB7IEdvb2dsZUF1dGhQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL2dvb2dsZSc7XG5leHBvcnQgeyBHaXRodWJBdXRoUHJvdmlkZXIgfSBmcm9tICcuL3Byb3ZpZGVycy9naXRodWInO1xuZXhwb3J0IHsgT0F1dGhQcm92aWRlciwgT0F1dGhDcmVkZW50aWFsT3B0aW9ucyB9IGZyb20gJy4vcHJvdmlkZXJzL29hdXRoJztcbmV4cG9ydCB7IFNBTUxBdXRoUHJvdmlkZXIgfSBmcm9tICcuL3Byb3ZpZGVycy9zYW1sJztcbmV4cG9ydCB7IFR3aXR0ZXJBdXRoUHJvdmlkZXIgfSBmcm9tICcuL3Byb3ZpZGVycy90d2l0dGVyJztcblxuLy8gc3RyYXRlZ2llc1xuZXhwb3J0IHsgc2lnbkluQW5vbnltb3VzbHkgfSBmcm9tICcuL3N0cmF0ZWdpZXMvYW5vbnltb3VzJztcbmV4cG9ydCB7XG4gIHNpZ25JbldpdGhDcmVkZW50aWFsLFxuICBsaW5rV2l0aENyZWRlbnRpYWwsXG4gIHJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWxcbn0gZnJvbSAnLi9zdHJhdGVnaWVzL2NyZWRlbnRpYWwnO1xuZXhwb3J0IHsgc2lnbkluV2l0aEN1c3RvbVRva2VuIH0gZnJvbSAnLi9zdHJhdGVnaWVzL2N1c3RvbV90b2tlbic7XG5leHBvcnQge1xuICBzZW5kUGFzc3dvcmRSZXNldEVtYWlsLFxuICBjb25maXJtUGFzc3dvcmRSZXNldCxcbiAgYXBwbHlBY3Rpb25Db2RlLFxuICBjaGVja0FjdGlvbkNvZGUsXG4gIHZlcmlmeVBhc3N3b3JkUmVzZXRDb2RlLFxuICBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQsXG4gIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkXG59IGZyb20gJy4vc3RyYXRlZ2llcy9lbWFpbF9hbmRfcGFzc3dvcmQnO1xuZXhwb3J0IHtcbiAgc2VuZFNpZ25JbkxpbmtUb0VtYWlsLFxuICBpc1NpZ25JbldpdGhFbWFpbExpbmssXG4gIHNpZ25JbldpdGhFbWFpbExpbmtcbn0gZnJvbSAnLi9zdHJhdGVnaWVzL2VtYWlsX2xpbmsnO1xuZXhwb3J0IHtcbiAgZmV0Y2hTaWduSW5NZXRob2RzRm9yRW1haWwsXG4gIHNlbmRFbWFpbFZlcmlmaWNhdGlvbixcbiAgdmVyaWZ5QmVmb3JlVXBkYXRlRW1haWxcbn0gZnJvbSAnLi9zdHJhdGVnaWVzL2VtYWlsJztcblxuLy8gY29yZVxuZXhwb3J0IHsgQWN0aW9uQ29kZVVSTCwgcGFyc2VBY3Rpb25Db2RlVVJMIH0gZnJvbSAnLi9hY3Rpb25fY29kZV91cmwnO1xuXG4vLyB1c2VyXG5leHBvcnQge1xuICB1cGRhdGVQcm9maWxlLFxuICB1cGRhdGVFbWFpbCxcbiAgdXBkYXRlUGFzc3dvcmRcbn0gZnJvbSAnLi91c2VyL2FjY291bnRfaW5mbyc7XG5leHBvcnQgeyBnZXRJZFRva2VuLCBnZXRJZFRva2VuUmVzdWx0IH0gZnJvbSAnLi91c2VyL2lkX3Rva2VuX3Jlc3VsdCc7XG5leHBvcnQgeyB1bmxpbmsgfSBmcm9tICcuL3VzZXIvbGlua191bmxpbmsnO1xuZXhwb3J0IHsgZ2V0QWRkaXRpb25hbFVzZXJJbmZvIH0gZnJvbSAnLi91c2VyL2FkZGl0aW9uYWxfdXNlcl9pbmZvJztcblxuLy8gTm9uLW9wdGlvbmFsIHVzZXIgbWV0aG9kcy5cbmV4cG9ydCB7IHJlbG9hZCB9IGZyb20gJy4vdXNlci9yZWxvYWQnO1xuLyoqXG4gKiBEZWxldGVzIGFuZCBzaWducyBvdXQgdGhlIHVzZXIuXG4gKlxuICogQHJlbWFya3NcbiAqIEltcG9ydGFudDogdGhpcyBpcyBhIHNlY3VyaXR5LXNlbnNpdGl2ZSBvcGVyYXRpb24gdGhhdCByZXF1aXJlcyB0aGUgdXNlciB0byBoYXZlIHJlY2VudGx5XG4gKiBzaWduZWQgaW4uIElmIHRoaXMgcmVxdWlyZW1lbnQgaXNuJ3QgbWV0LCBhc2sgdGhlIHVzZXIgdG8gYXV0aGVudGljYXRlIGFnYWluIGFuZCB0aGVuIGNhbGxcbiAqIHtAbGluayByZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsfS5cbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVVzZXIodXNlcjogVXNlcik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpLmRlbGV0ZSgpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JTZXNzaW9uIH0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGVudW0gTXVsdGlGYWN0b3JTZXNzaW9uVHlwZSB7XG4gIEVOUk9MTCA9ICdlbnJvbGwnLFxuICBTSUdOX0lOID0gJ3NpZ25pbidcbn1cblxuaW50ZXJmYWNlIFNlcmlhbGl6ZWRNdWx0aUZhY3RvclNlc3Npb24ge1xuICBtdWx0aUZhY3RvclNlc3Npb246IHtcbiAgICBpZFRva2VuPzogc3RyaW5nO1xuICAgIHBlbmRpbmdDcmVkZW50aWFsPzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCBpbXBsZW1lbnRzIE11bHRpRmFjdG9yU2Vzc2lvbiB7XG4gIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgdHlwZTogTXVsdGlGYWN0b3JTZXNzaW9uVHlwZSxcbiAgICByZWFkb25seSBjcmVkZW50aWFsOiBzdHJpbmcsXG4gICAgcmVhZG9ubHkgdXNlcj86IFVzZXJJbnRlcm5hbFxuICApIHt9XG5cbiAgc3RhdGljIF9mcm9tSWR0b2tlbihcbiAgICBpZFRva2VuOiBzdHJpbmcsXG4gICAgdXNlcj86IFVzZXJJbnRlcm5hbFxuICApOiBNdWx0aUZhY3RvclNlc3Npb25JbXBsIHtcbiAgICByZXR1cm4gbmV3IE11bHRpRmFjdG9yU2Vzc2lvbkltcGwoXG4gICAgICBNdWx0aUZhY3RvclNlc3Npb25UeXBlLkVOUk9MTCxcbiAgICAgIGlkVG9rZW4sXG4gICAgICB1c2VyXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBfZnJvbU1mYVBlbmRpbmdDcmVkZW50aWFsKFxuICAgIG1mYVBlbmRpbmdDcmVkZW50aWFsOiBzdHJpbmdcbiAgKTogTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCB7XG4gICAgcmV0dXJuIG5ldyBNdWx0aUZhY3RvclNlc3Npb25JbXBsKFxuICAgICAgTXVsdGlGYWN0b3JTZXNzaW9uVHlwZS5TSUdOX0lOLFxuICAgICAgbWZhUGVuZGluZ0NyZWRlbnRpYWxcbiAgICApO1xuICB9XG5cbiAgdG9KU09OKCk6IFNlcmlhbGl6ZWRNdWx0aUZhY3RvclNlc3Npb24ge1xuICAgIGNvbnN0IGtleSA9XG4gICAgICB0aGlzLnR5cGUgPT09IE11bHRpRmFjdG9yU2Vzc2lvblR5cGUuRU5ST0xMXG4gICAgICAgID8gJ2lkVG9rZW4nXG4gICAgICAgIDogJ3BlbmRpbmdDcmVkZW50aWFsJztcbiAgICByZXR1cm4ge1xuICAgICAgbXVsdGlGYWN0b3JTZXNzaW9uOiB7XG4gICAgICAgIFtrZXldOiB0aGlzLmNyZWRlbnRpYWxcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGZyb21KU09OKFxuICAgIG9iajogUGFydGlhbDxTZXJpYWxpemVkTXVsdGlGYWN0b3JTZXNzaW9uPlxuICApOiBNdWx0aUZhY3RvclNlc3Npb25JbXBsIHwgbnVsbCB7XG4gICAgaWYgKG9iaj8ubXVsdGlGYWN0b3JTZXNzaW9uKSB7XG4gICAgICBpZiAob2JqLm11bHRpRmFjdG9yU2Vzc2lvbj8ucGVuZGluZ0NyZWRlbnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIE11bHRpRmFjdG9yU2Vzc2lvbkltcGwuX2Zyb21NZmFQZW5kaW5nQ3JlZGVudGlhbChcbiAgICAgICAgICBvYmoubXVsdGlGYWN0b3JTZXNzaW9uLnBlbmRpbmdDcmVkZW50aWFsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG9iai5tdWx0aUZhY3RvclNlc3Npb24/LmlkVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIE11bHRpRmFjdG9yU2Vzc2lvbkltcGwuX2Zyb21JZHRva2VuKFxuICAgICAgICAgIG9iai5tdWx0aUZhY3RvclNlc3Npb24uaWRUb2tlblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEF1dGgsXG4gIE11bHRpRmFjdG9yUmVzb2x2ZXIsXG4gIFVzZXJDcmVkZW50aWFsLFxuICBNdWx0aUZhY3RvckVycm9yXG59IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uL2NvcmUvYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW1wbCB9IGZyb20gJy4uL2NvcmUvdXNlci91c2VyX2NyZWRlbnRpYWxfaW1wbCc7XG5pbXBvcnQgeyBfYXNzZXJ0LCBfZmFpbCB9IGZyb20gJy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsIH0gZnJvbSAnLi9tZmFfYXNzZXJ0aW9uJztcbmltcG9ydCB7IE11bHRpRmFjdG9yRXJyb3IgYXMgTXVsdGlGYWN0b3JFcnJvckludGVybmFsIH0gZnJvbSAnLi9tZmFfZXJyb3InO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JJbmZvSW1wbCB9IGZyb20gJy4vbWZhX2luZm8nO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCB9IGZyb20gJy4vbWZhX3Nlc3Npb24nO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgT3BlcmF0aW9uVHlwZSB9IGZyb20gJy4uL21vZGVsL2VudW1zJztcblxuZXhwb3J0IGNsYXNzIE11bHRpRmFjdG9yUmVzb2x2ZXJJbXBsIGltcGxlbWVudHMgTXVsdGlGYWN0b3JSZXNvbHZlciB7XG4gIHByaXZhdGUgY29uc3RydWN0b3IoXG4gICAgcmVhZG9ubHkgc2Vzc2lvbjogTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCxcbiAgICByZWFkb25seSBoaW50czogTXVsdGlGYWN0b3JJbmZvSW1wbFtdLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc2lnbkluUmVzb2x2ZXI6IChcbiAgICAgIGFzc2VydGlvbjogTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsXG4gICAgKSA9PiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWw+XG4gICkge31cblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbUVycm9yKFxuICAgIGF1dGhFeHRlcm46IEF1dGgsXG4gICAgZXJyb3I6IE11bHRpRmFjdG9yRXJyb3JJbnRlcm5hbFxuICApOiBNdWx0aUZhY3RvclJlc29sdmVySW1wbCB7XG4gICAgY29uc3QgYXV0aCA9IF9jYXN0QXV0aChhdXRoRXh0ZXJuKTtcbiAgICBjb25zdCBzZXJ2ZXJSZXNwb25zZSA9IGVycm9yLmN1c3RvbURhdGEuX3NlcnZlclJlc3BvbnNlO1xuICAgIGNvbnN0IGhpbnRzID0gKHNlcnZlclJlc3BvbnNlLm1mYUluZm8gfHwgW10pLm1hcChlbnJvbGxtZW50ID0+XG4gICAgICBNdWx0aUZhY3RvckluZm9JbXBsLl9mcm9tU2VydmVyUmVzcG9uc2UoYXV0aCwgZW5yb2xsbWVudClcbiAgICApO1xuXG4gICAgX2Fzc2VydChcbiAgICAgIHNlcnZlclJlc3BvbnNlLm1mYVBlbmRpbmdDcmVkZW50aWFsLFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICApO1xuICAgIGNvbnN0IHNlc3Npb24gPSBNdWx0aUZhY3RvclNlc3Npb25JbXBsLl9mcm9tTWZhUGVuZGluZ0NyZWRlbnRpYWwoXG4gICAgICBzZXJ2ZXJSZXNwb25zZS5tZmFQZW5kaW5nQ3JlZGVudGlhbFxuICAgICk7XG5cbiAgICByZXR1cm4gbmV3IE11bHRpRmFjdG9yUmVzb2x2ZXJJbXBsKFxuICAgICAgc2Vzc2lvbixcbiAgICAgIGhpbnRzLFxuICAgICAgYXN5bmMgKFxuICAgICAgICBhc3NlcnRpb246IE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbFxuICAgICAgKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsPiA9PiB7XG4gICAgICAgIGNvbnN0IG1mYVJlc3BvbnNlID0gYXdhaXQgYXNzZXJ0aW9uLl9wcm9jZXNzKGF1dGgsIHNlc3Npb24pO1xuICAgICAgICAvLyBDbGVhciBvdXQgdGhlIHVubmVlZGVkIGZpZWxkcyBmcm9tIHRoZSBvbGQgbG9naW4gcmVzcG9uc2VcbiAgICAgICAgZGVsZXRlIHNlcnZlclJlc3BvbnNlLm1mYUluZm87XG4gICAgICAgIGRlbGV0ZSBzZXJ2ZXJSZXNwb25zZS5tZmFQZW5kaW5nQ3JlZGVudGlhbDtcblxuICAgICAgICAvLyBVc2UgaW4gdGhlIG5ldyB0b2tlbiAmIHJlZnJlc2ggdG9rZW4gaW4gdGhlIG9sZCByZXNwb25zZVxuICAgICAgICBjb25zdCBpZFRva2VuUmVzcG9uc2UgPSB7XG4gICAgICAgICAgLi4uc2VydmVyUmVzcG9uc2UsXG4gICAgICAgICAgaWRUb2tlbjogbWZhUmVzcG9uc2UuaWRUb2tlbixcbiAgICAgICAgICByZWZyZXNoVG9rZW46IG1mYVJlc3BvbnNlLnJlZnJlc2hUb2tlblxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRPRE86IHdlIHNob3VsZCBjb2xsYXBzZSB0aGlzIHN3aXRjaCBzdGF0ZW1lbnQgaW50byBVc2VyQ3JlZGVudGlhbEltcGwuX2Zvck9wZXJhdGlvbiBhbmQgaGF2ZSBpdCBzdXBwb3J0IHRoZSBTSUdOX0lOIGNhc2VcbiAgICAgICAgc3dpdGNoIChlcnJvci5vcGVyYXRpb25UeXBlKSB7XG4gICAgICAgICAgY2FzZSBPcGVyYXRpb25UeXBlLlNJR05fSU46XG4gICAgICAgICAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9XG4gICAgICAgICAgICAgIGF3YWl0IFVzZXJDcmVkZW50aWFsSW1wbC5fZnJvbUlkVG9rZW5SZXNwb25zZShcbiAgICAgICAgICAgICAgICBhdXRoLFxuICAgICAgICAgICAgICAgIGVycm9yLm9wZXJhdGlvblR5cGUsXG4gICAgICAgICAgICAgICAgaWRUb2tlblJlc3BvbnNlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhd2FpdCBhdXRoLl91cGRhdGVDdXJyZW50VXNlcih1c2VyQ3JlZGVudGlhbC51c2VyKTtcbiAgICAgICAgICAgIHJldHVybiB1c2VyQ3JlZGVudGlhbDtcbiAgICAgICAgICBjYXNlIE9wZXJhdGlvblR5cGUuUkVBVVRIRU5USUNBVEU6XG4gICAgICAgICAgICBfYXNzZXJ0KGVycm9yLnVzZXIsIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgICAgICAgICAgcmV0dXJuIFVzZXJDcmVkZW50aWFsSW1wbC5fZm9yT3BlcmF0aW9uKFxuICAgICAgICAgICAgICBlcnJvci51c2VyLFxuICAgICAgICAgICAgICBlcnJvci5vcGVyYXRpb25UeXBlLFxuICAgICAgICAgICAgICBpZFRva2VuUmVzcG9uc2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIHJlc29sdmVTaWduSW4oXG4gICAgYXNzZXJ0aW9uRXh0ZXJuOiBNdWx0aUZhY3RvckFzc2VydGlvbkltcGxcbiAgKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbD4ge1xuICAgIGNvbnN0IGFzc2VydGlvbiA9IGFzc2VydGlvbkV4dGVybiBhcyBNdWx0aUZhY3RvckFzc2VydGlvbkltcGw7XG4gICAgcmV0dXJuIHRoaXMuc2lnbkluUmVzb2x2ZXIoYXNzZXJ0aW9uKTtcbiAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIGEge0BsaW5rIE11bHRpRmFjdG9yUmVzb2x2ZXJ9IHN1aXRhYmxlIGZvciBjb21wbGV0aW9uIG9mIGFcbiAqIG11bHRpLWZhY3RvciBmbG93LlxuICpcbiAqIEBwYXJhbSBhdXRoIC0gVGhlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBlcnJvciAtIFRoZSB7QGxpbmsgTXVsdGlGYWN0b3JFcnJvcn0gcmFpc2VkIGR1cmluZyBhIHNpZ24taW4sIG9yXG4gKiByZWF1dGhlbnRpY2F0aW9uIG9wZXJhdGlvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNdWx0aUZhY3RvclJlc29sdmVyKFxuICBhdXRoOiBBdXRoLFxuICBlcnJvcjogTXVsdGlGYWN0b3JFcnJvclxuKTogTXVsdGlGYWN0b3JSZXNvbHZlciB7XG4gIGNvbnN0IGF1dGhNb2R1bGFyID0gZ2V0TW9kdWxhckluc3RhbmNlKGF1dGgpO1xuICBjb25zdCBlcnJvckludGVybmFsID0gZXJyb3IgYXMgTXVsdGlGYWN0b3JFcnJvckludGVybmFsO1xuICBfYXNzZXJ0KFxuICAgIGVycm9yLmN1c3RvbURhdGEub3BlcmF0aW9uVHlwZSxcbiAgICBhdXRoTW9kdWxhcixcbiAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICk7XG4gIF9hc3NlcnQoXG4gICAgZXJyb3JJbnRlcm5hbC5jdXN0b21EYXRhLl9zZXJ2ZXJSZXNwb25zZT8ubWZhUGVuZGluZ0NyZWRlbnRpYWwsXG4gICAgYXV0aE1vZHVsYXIsXG4gICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICApO1xuXG4gIHJldHVybiBNdWx0aUZhY3RvclJlc29sdmVySW1wbC5fZnJvbUVycm9yKGF1dGhNb2R1bGFyLCBlcnJvckludGVybmFsKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5LFxuICBfcGVyZm9ybUFwaVJlcXVlc3Rcbn0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsgU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdCB9IGZyb20gJy4uL2F1dGhlbnRpY2F0aW9uL3Ntcyc7XG5pbXBvcnQgeyBGaW5hbGl6ZU1mYVJlc3BvbnNlIH0gZnJvbSAnLi4vYXV0aGVudGljYXRpb24vbWZhJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuXG4vKipcbiAqIE1GQSBJbmZvIGFzIHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gKi9cbmludGVyZmFjZSBCYXNlTWZhRW5yb2xsbWVudCB7XG4gIG1mYUVucm9sbG1lbnRJZDogc3RyaW5nO1xuICBlbnJvbGxlZEF0OiBudW1iZXI7XG4gIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEFuIE1GQSBwcm92aWRlZCBieSBTTVMgdmVyaWZpY2F0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBob25lTWZhRW5yb2xsbWVudCBleHRlbmRzIEJhc2VNZmFFbnJvbGxtZW50IHtcbiAgcGhvbmVJbmZvOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQW4gTUZBIHByb3ZpZGVkIGJ5IFRPVFAgKFRpbWUtYmFzZWQgT25lIFRpbWUgUGFzc3dvcmQpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRvdHBNZmFFbnJvbGxtZW50IGV4dGVuZHMgQmFzZU1mYUVucm9sbG1lbnQge31cblxuLyoqXG4gKiBNZmFFbnJvbGxtZW50IGNhbiBiZSBhbnkgc3VidHlwZSBvZiBCYXNlTWZhRW5yb2xsbWVudCwgY3VycmVudGx5IG9ubHkgUGhvbmVNZmFFbnJvbGxtZW50IGFuZCBUb3RwTWZhRW5yb2xsbWVudCBhcmUgc3VwcG9ydGVkLlxuICovXG5leHBvcnQgdHlwZSBNZmFFbnJvbGxtZW50ID0gUGhvbmVNZmFFbnJvbGxtZW50IHwgVG90cE1mYUVucm9sbG1lbnQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRQaG9uZU1mYUVucm9sbG1lbnRSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xuICBwaG9uZUVucm9sbG1lbnRJbmZvOiB7XG4gICAgcGhvbmVOdW1iZXI6IHN0cmluZztcbiAgICByZWNhcHRjaGFUb2tlbjogc3RyaW5nO1xuICB9O1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGFydFBob25lTWZhRW5yb2xsbWVudFJlc3BvbnNlIHtcbiAgcGhvbmVTZXNzaW9uSW5mbzoge1xuICAgIHNlc3Npb25JbmZvOiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydEVucm9sbFBob25lTWZhKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHJlcXVlc3Q6IFN0YXJ0UGhvbmVNZmFFbnJvbGxtZW50UmVxdWVzdFxuKTogUHJvbWlzZTxTdGFydFBob25lTWZhRW5yb2xsbWVudFJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgU3RhcnRQaG9uZU1mYUVucm9sbG1lbnRSZXF1ZXN0LFxuICAgIFN0YXJ0UGhvbmVNZmFFbnJvbGxtZW50UmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5TVEFSVF9NRkFfRU5ST0xMTUVOVCxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaW5hbGl6ZVBob25lTWZhRW5yb2xsbWVudFJlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIHBob25lVmVyaWZpY2F0aW9uSW5mbzogU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdDtcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaW5hbGl6ZVBob25lTWZhRW5yb2xsbWVudFJlc3BvbnNlXG4gIGV4dGVuZHMgRmluYWxpemVNZmFSZXNwb25zZSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVFbnJvbGxQaG9uZU1mYShcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICByZXF1ZXN0OiBGaW5hbGl6ZVBob25lTWZhRW5yb2xsbWVudFJlcXVlc3Rcbik6IFByb21pc2U8RmluYWxpemVQaG9uZU1mYUVucm9sbG1lbnRSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIEZpbmFsaXplUGhvbmVNZmFFbnJvbGxtZW50UmVxdWVzdCxcbiAgICBGaW5hbGl6ZVBob25lTWZhRW5yb2xsbWVudFJlc3BvbnNlXG4gID4oXG4gICAgYXV0aCxcbiAgICBIdHRwTWV0aG9kLlBPU1QsXG4gICAgRW5kcG9pbnQuRklOQUxJWkVfTUZBX0VOUk9MTE1FTlQsXG4gICAgX2FkZFRpZElmTmVjZXNzYXJ5KGF1dGgsIHJlcXVlc3QpXG4gICk7XG59XG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXF1ZXN0IHtcbiAgaWRUb2tlbjogc3RyaW5nO1xuICB0b3RwRW5yb2xsbWVudEluZm86IHt9O1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGFydFRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2Uge1xuICB0b3RwU2Vzc2lvbkluZm86IHtcbiAgICBzaGFyZWRTZWNyZXRLZXk6IHN0cmluZztcbiAgICB2ZXJpZmljYXRpb25Db2RlTGVuZ3RoOiBudW1iZXI7XG4gICAgaGFzaGluZ0FsZ29yaXRobTogc3RyaW5nO1xuICAgIHBlcmlvZFNlYzogbnVtYmVyO1xuICAgIHNlc3Npb25JbmZvOiBzdHJpbmc7XG4gICAgZmluYWxpemVFbnJvbGxtZW50VGltZTogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRFbnJvbGxUb3RwTWZhKFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHJlcXVlc3Q6IFN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXF1ZXN0XG4pOiBQcm9taXNlPFN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIFN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXF1ZXN0LFxuICAgIFN0YXJ0VG90cE1mYUVucm9sbG1lbnRSZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNUQVJUX01GQV9FTlJPTExNRU5ULFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvdHBWZXJpZmljYXRpb25JbmZvIHtcbiAgc2Vzc2lvbkluZm86IHN0cmluZztcbiAgdmVyaWZpY2F0aW9uQ29kZTogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBGaW5hbGl6ZVRvdHBNZmFFbnJvbGxtZW50UmVxdWVzdCB7XG4gIGlkVG9rZW46IHN0cmluZztcbiAgdG90cFZlcmlmaWNhdGlvbkluZm86IFRvdHBWZXJpZmljYXRpb25JbmZvO1xuICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGw7XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmFsaXplVG90cE1mYUVucm9sbG1lbnRSZXNwb25zZVxuICBleHRlbmRzIEZpbmFsaXplTWZhUmVzcG9uc2Uge31cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplRW5yb2xsVG90cE1mYShcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICByZXF1ZXN0OiBGaW5hbGl6ZVRvdHBNZmFFbnJvbGxtZW50UmVxdWVzdFxuKTogUHJvbWlzZTxGaW5hbGl6ZVRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxcbiAgICBGaW5hbGl6ZVRvdHBNZmFFbnJvbGxtZW50UmVxdWVzdCxcbiAgICBGaW5hbGl6ZVRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2VcbiAgPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuUE9TVCxcbiAgICBFbmRwb2ludC5GSU5BTElaRV9NRkFfRU5ST0xMTUVOVCxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaXRoZHJhd01mYVJlcXVlc3Qge1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIG1mYUVucm9sbG1lbnRJZDogc3RyaW5nO1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaXRoZHJhd01mYVJlc3BvbnNlIGV4dGVuZHMgRmluYWxpemVNZmFSZXNwb25zZSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aGRyYXdNZmEoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgcmVxdWVzdDogV2l0aGRyYXdNZmFSZXF1ZXN0XG4pOiBQcm9taXNlPFdpdGhkcmF3TWZhUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxXaXRoZHJhd01mYVJlcXVlc3QsIFdpdGhkcmF3TWZhUmVzcG9uc2U+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LldJVEhEUkFXX01GQSxcbiAgICBfYWRkVGlkSWZOZWNlc3NhcnkoYXV0aCwgcmVxdWVzdClcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtcbiAgTXVsdGlGYWN0b3JBc3NlcnRpb24sXG4gIE11bHRpRmFjdG9ySW5mbyxcbiAgTXVsdGlGYWN0b3JTZXNzaW9uLFxuICBNdWx0aUZhY3RvclVzZXIsXG4gIFVzZXJcbn0gZnJvbSAnLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgd2l0aGRyYXdNZmEgfSBmcm9tICcuLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L21mYSc7XG5pbXBvcnQgeyBfbG9nb3V0SWZJbnZhbGlkYXRlZCB9IGZyb20gJy4uL2NvcmUvdXNlci9pbnZhbGlkYXRpb24nO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwgfSBmcm9tICcuL21mYV9hc3NlcnRpb24nO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JJbmZvSW1wbCB9IGZyb20gJy4vbWZhX2luZm8nO1xuaW1wb3J0IHsgTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCB9IGZyb20gJy4vbWZhX3Nlc3Npb24nO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5leHBvcnQgY2xhc3MgTXVsdGlGYWN0b3JVc2VySW1wbCBpbXBsZW1lbnRzIE11bHRpRmFjdG9yVXNlciB7XG4gIGVucm9sbGVkRmFjdG9yczogTXVsdGlGYWN0b3JJbmZvW10gPSBbXTtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHVzZXI6IFVzZXJJbnRlcm5hbCkge1xuICAgIHVzZXIuX29uUmVsb2FkKHVzZXJJbmZvID0+IHtcbiAgICAgIGlmICh1c2VySW5mby5tZmFJbmZvKSB7XG4gICAgICAgIHRoaXMuZW5yb2xsZWRGYWN0b3JzID0gdXNlckluZm8ubWZhSW5mby5tYXAoZW5yb2xsbWVudCA9PlxuICAgICAgICAgIE11bHRpRmFjdG9ySW5mb0ltcGwuX2Zyb21TZXJ2ZXJSZXNwb25zZSh1c2VyLmF1dGgsIGVucm9sbG1lbnQpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgX2Zyb21Vc2VyKHVzZXI6IFVzZXJJbnRlcm5hbCk6IE11bHRpRmFjdG9yVXNlckltcGwge1xuICAgIHJldHVybiBuZXcgTXVsdGlGYWN0b3JVc2VySW1wbCh1c2VyKTtcbiAgfVxuXG4gIGFzeW5jIGdldFNlc3Npb24oKTogUHJvbWlzZTxNdWx0aUZhY3RvclNlc3Npb24+IHtcbiAgICByZXR1cm4gTXVsdGlGYWN0b3JTZXNzaW9uSW1wbC5fZnJvbUlkdG9rZW4oXG4gICAgICBhd2FpdCB0aGlzLnVzZXIuZ2V0SWRUb2tlbigpLFxuICAgICAgdGhpcy51c2VyXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGVucm9sbChcbiAgICBhc3NlcnRpb25FeHRlcm46IE11bHRpRmFjdG9yQXNzZXJ0aW9uLFxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBhc3NlcnRpb24gPSBhc3NlcnRpb25FeHRlcm4gYXMgTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsO1xuICAgIGNvbnN0IHNlc3Npb24gPSAoYXdhaXQgdGhpcy5nZXRTZXNzaW9uKCkpIGFzIE11bHRpRmFjdG9yU2Vzc2lvbkltcGw7XG4gICAgY29uc3QgZmluYWxpemVNZmFSZXNwb25zZSA9IGF3YWl0IF9sb2dvdXRJZkludmFsaWRhdGVkKFxuICAgICAgdGhpcy51c2VyLFxuICAgICAgYXNzZXJ0aW9uLl9wcm9jZXNzKHRoaXMudXNlci5hdXRoLCBzZXNzaW9uLCBkaXNwbGF5TmFtZSlcbiAgICApO1xuICAgIC8vIE5ldyB0b2tlbnMgd2lsbCBiZSBpc3N1ZWQgYWZ0ZXIgZW5yb2xsbWVudCBvZiB0aGUgbmV3IHNlY29uZCBmYWN0b3JzLlxuICAgIC8vIFRoZXkgbmVlZCB0byBiZSB1cGRhdGVkIG9uIHRoZSB1c2VyLlxuICAgIGF3YWl0IHRoaXMudXNlci5fdXBkYXRlVG9rZW5zSWZOZWNlc3NhcnkoZmluYWxpemVNZmFSZXNwb25zZSk7XG4gICAgLy8gVGhlIHVzZXIgbmVlZHMgdG8gYmUgcmVsb2FkZWQgdG8gZ2V0IHRoZSBuZXcgbXVsdGktZmFjdG9yIGluZm9ybWF0aW9uXG4gICAgLy8gZnJvbSBzZXJ2ZXIuIFVTRVJfUkVMT0FERUQgZXZlbnQgd2lsbCBiZSB0cmlnZ2VyZWQgYW5kIGBlbnJvbGxlZEZhY3RvcnNgXG4gICAgLy8gd2lsbCBiZSB1cGRhdGVkLlxuICAgIHJldHVybiB0aGlzLnVzZXIucmVsb2FkKCk7XG4gIH1cblxuICBhc3luYyB1bmVucm9sbChpbmZvT3JVaWQ6IE11bHRpRmFjdG9ySW5mbyB8IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IG1mYUVucm9sbG1lbnRJZCA9XG4gICAgICB0eXBlb2YgaW5mb09yVWlkID09PSAnc3RyaW5nJyA/IGluZm9PclVpZCA6IGluZm9PclVpZC51aWQ7XG4gICAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IHRoaXMudXNlci5nZXRJZFRva2VuKCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlkVG9rZW5SZXNwb25zZSA9IGF3YWl0IF9sb2dvdXRJZkludmFsaWRhdGVkKFxuICAgICAgICB0aGlzLnVzZXIsXG4gICAgICAgIHdpdGhkcmF3TWZhKHRoaXMudXNlci5hdXRoLCB7XG4gICAgICAgICAgaWRUb2tlbixcbiAgICAgICAgICBtZmFFbnJvbGxtZW50SWRcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICAvLyBSZW1vdmUgdGhlIHNlY29uZCBmYWN0b3IgZnJvbSB0aGUgdXNlcidzIGxpc3QuXG4gICAgICB0aGlzLmVucm9sbGVkRmFjdG9ycyA9IHRoaXMuZW5yb2xsZWRGYWN0b3JzLmZpbHRlcihcbiAgICAgICAgKHsgdWlkIH0pID0+IHVpZCAhPT0gbWZhRW5yb2xsbWVudElkXG4gICAgICApO1xuICAgICAgLy8gRGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGJhY2tlbmQgZGVjaWRlZCB0byByZXZva2UgdGhlIHVzZXIncyBzZXNzaW9uLFxuICAgICAgLy8gdGhlIHRva2VuUmVzcG9uc2UgbWF5IGJlIGVtcHR5LiBJZiB0aGUgdG9rZW5zIHdlcmUgbm90IHVwZGF0ZWQgKGFuZCB0aGV5XG4gICAgICAvLyBhcmUgbm93IGludmFsaWQpLCByZWxvYWRpbmcgdGhlIHVzZXIgd2lsbCBkaXNjb3ZlciB0aGlzIGFuZCBpbnZhbGlkYXRlXG4gICAgICAvLyB0aGUgdXNlcidzIHN0YXRlIGFjY29yZGluZ2x5LlxuICAgICAgYXdhaXQgdGhpcy51c2VyLl91cGRhdGVUb2tlbnNJZk5lY2Vzc2FyeShpZFRva2VuUmVzcG9uc2UpO1xuICAgICAgYXdhaXQgdGhpcy51c2VyLnJlbG9hZCgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IG11bHRpRmFjdG9yVXNlckNhY2hlID0gbmV3IFdlYWtNYXA8VXNlciwgTXVsdGlGYWN0b3JVc2VyPigpO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgTXVsdGlGYWN0b3JVc2VyfSBjb3JyZXNwb25kaW5nIHRvIHRoZSB1c2VyLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIGlzIHVzZWQgdG8gYWNjZXNzIGFsbCBtdWx0aS1mYWN0b3IgcHJvcGVydGllcyBhbmQgb3BlcmF0aW9ucyByZWxhdGVkIHRvIHRoZSB1c2VyLlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlGYWN0b3IodXNlcjogVXNlcik6IE11bHRpRmFjdG9yVXNlciB7XG4gIGNvbnN0IHVzZXJNb2R1bGFyID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpO1xuICBpZiAoIW11bHRpRmFjdG9yVXNlckNhY2hlLmhhcyh1c2VyTW9kdWxhcikpIHtcbiAgICBtdWx0aUZhY3RvclVzZXJDYWNoZS5zZXQoXG4gICAgICB1c2VyTW9kdWxhcixcbiAgICAgIE11bHRpRmFjdG9yVXNlckltcGwuX2Zyb21Vc2VyKHVzZXJNb2R1bGFyIGFzIFVzZXJJbnRlcm5hbClcbiAgICApO1xuICB9XG4gIHJldHVybiBtdWx0aUZhY3RvclVzZXJDYWNoZS5nZXQodXNlck1vZHVsYXIpITtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgUGVyc2lzdGVuY2UgfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgZW51bSBQZXJzaXN0ZW5jZVR5cGUge1xuICBTRVNTSU9OID0gJ1NFU1NJT04nLFxuICBMT0NBTCA9ICdMT0NBTCcsXG4gIE5PTkUgPSAnTk9ORSdcbn1cblxuZXhwb3J0IHR5cGUgUGVyc2lzdGVkQmxvYiA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEluc3RhbnRpYXRvcjxUPiB7XG4gIChibG9iOiBQZXJzaXN0ZWRCbG9iKTogVDtcbn1cblxuZXhwb3J0IHR5cGUgUGVyc2lzdGVuY2VWYWx1ZSA9IFBlcnNpc3RlZEJsb2IgfCBzdHJpbmc7XG5cbmV4cG9ydCBjb25zdCBTVE9SQUdFX0FWQUlMQUJMRV9LRVkgPSAnX19zYWsnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3JhZ2VFdmVudExpc3RlbmVyIHtcbiAgKHZhbHVlOiBQZXJzaXN0ZW5jZVZhbHVlIHwgbnVsbCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyc2lzdGVuY2VJbnRlcm5hbCBleHRlbmRzIFBlcnNpc3RlbmNlIHtcbiAgdHlwZTogUGVyc2lzdGVuY2VUeXBlO1xuICBfaXNBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPjtcbiAgX3NldChrZXk6IHN0cmluZywgdmFsdWU6IFBlcnNpc3RlbmNlVmFsdWUpOiBQcm9taXNlPHZvaWQ+O1xuICBfZ2V0PFQgZXh0ZW5kcyBQZXJzaXN0ZW5jZVZhbHVlPihrZXk6IHN0cmluZyk6IFByb21pc2U8VCB8IG51bGw+O1xuICBfcmVtb3ZlKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPjtcbiAgX2FkZExpc3RlbmVyKGtleTogc3RyaW5nLCBsaXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkO1xuICBfcmVtb3ZlTGlzdGVuZXIoa2V5OiBzdHJpbmcsIGxpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQ7XG4gIC8vIFNob3VsZCB0aGlzIHBlcnNpc3RlbmNlIGFsbG93IG1pZ3JhdGlvbiB1cCB0aGUgY2hvc2VuIGhpZXJhcmNoeT9cbiAgX3Nob3VsZEFsbG93TWlncmF0aW9uPzogYm9vbGVhbjtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBQZXJzaXN0ZW5jZVZhbHVlLFxuICBTVE9SQUdFX0FWQUlMQUJMRV9LRVksXG4gIFBlcnNpc3RlbmNlVHlwZVxufSBmcm9tICcuLi8uLi9jb3JlL3BlcnNpc3RlbmNlJztcblxuLy8gVGhlcmUgYXJlIHR3byBkaWZmZXJlbnQgYnJvd3NlciBwZXJzaXN0ZW5jZSB0eXBlczogbG9jYWwgYW5kIHNlc3Npb24uXG4vLyBCb3RoIGhhdmUgdGhlIHNhbWUgaW1wbGVtZW50YXRpb24gYnV0IHVzZSBhIGRpZmZlcmVudCB1bmRlcmx5aW5nIHN0b3JhZ2Vcbi8vIG9iamVjdC5cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJyb3dzZXJQZXJzaXN0ZW5jZUNsYXNzIHtcbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCByZWFkb25seSBzdG9yYWdlUmV0cmlldmVyOiAoKSA9PiBTdG9yYWdlLFxuICAgIHJlYWRvbmx5IHR5cGU6IFBlcnNpc3RlbmNlVHlwZVxuICApIHt9XG5cbiAgX2lzQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuc3RvcmFnZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfQVZBSUxBQkxFX0tFWSwgJzEnKTtcbiAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfQVZBSUxBQkxFX0tFWSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgX3NldChrZXk6IHN0cmluZywgdmFsdWU6IFBlcnNpc3RlbmNlVmFsdWUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgX2dldDxUIGV4dGVuZHMgUGVyc2lzdGVuY2VWYWx1ZT4oa2V5OiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gICAgY29uc3QganNvbiA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShqc29uID8gSlNPTi5wYXJzZShqc29uKSA6IG51bGwpO1xuICB9XG5cbiAgX3JlbW92ZShrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldCBzdG9yYWdlKCk6IFN0b3JhZ2Uge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2VSZXRyaWV2ZXIoKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFBlcnNpc3RlbmNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgX2lzTW9iaWxlQnJvd3NlciwgX2lzSUUxMCB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9icm93c2VyJztcbmltcG9ydCB7XG4gIFBlcnNpc3RlbmNlSW50ZXJuYWwgYXMgSW50ZXJuYWxQZXJzaXN0ZW5jZSxcbiAgUGVyc2lzdGVuY2VUeXBlLFxuICBQZXJzaXN0ZW5jZVZhbHVlLFxuICBTdG9yYWdlRXZlbnRMaXN0ZW5lclxufSBmcm9tICcuLi8uLi9jb3JlL3BlcnNpc3RlbmNlJztcbmltcG9ydCB7IEJyb3dzZXJQZXJzaXN0ZW5jZUNsYXNzIH0gZnJvbSAnLi9icm93c2VyJztcblxuLy8gVGhlIHBvbGxpbmcgcGVyaW9kIGluIGNhc2UgZXZlbnRzIGFyZSBub3Qgc3VwcG9ydGVkXG5leHBvcnQgY29uc3QgX1BPTExJTkdfSU5URVJWQUxfTVMgPSAxMDAwO1xuXG4vLyBUaGUgSUUgMTAgbG9jYWxTdG9yYWdlIGNyb3NzIHRhYiBzeW5jaHJvbml6YXRpb24gZGVsYXkgaW4gbWlsbGlzZWNvbmRzXG5jb25zdCBJRTEwX0xPQ0FMX1NUT1JBR0VfU1lOQ19ERUxBWSA9IDEwO1xuXG5jbGFzcyBCcm93c2VyTG9jYWxQZXJzaXN0ZW5jZVxuICBleHRlbmRzIEJyb3dzZXJQZXJzaXN0ZW5jZUNsYXNzXG4gIGltcGxlbWVudHMgSW50ZXJuYWxQZXJzaXN0ZW5jZVxue1xuICBzdGF0aWMgdHlwZTogJ0xPQ0FMJyA9ICdMT0NBTCc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKCkgPT4gd2luZG93LmxvY2FsU3RvcmFnZSwgUGVyc2lzdGVuY2VUeXBlLkxPQ0FMKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgYm91bmRFdmVudEhhbmRsZXIgPSAoXG4gICAgZXZlbnQ6IFN0b3JhZ2VFdmVudCxcbiAgICBwb2xsPzogYm9vbGVhblxuICApOiB2b2lkID0+IHRoaXMub25TdG9yYWdlRXZlbnQoZXZlbnQsIHBvbGwpO1xuICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogUmVjb3JkPHN0cmluZywgU2V0PFN0b3JhZ2VFdmVudExpc3RlbmVyPj4gPSB7fTtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2NhbENhY2hlOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudWxsPiA9IHt9O1xuICAvLyBzZXRUaW1lb3V0IHJldHVybiB2YWx1ZSBpcyBwbGF0Zm9ybSBzcGVjaWZpY1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBwcml2YXRlIHBvbGxUaW1lcjogYW55IHwgbnVsbCA9IG51bGw7XG5cbiAgLy8gV2hldGhlciB0byB1c2UgcG9sbGluZyBpbnN0ZWFkIG9mIGRlcGVuZGluZyBvbiB3aW5kb3cgZXZlbnRzXG4gIHByaXZhdGUgcmVhZG9ubHkgZmFsbGJhY2tUb1BvbGxpbmcgPSBfaXNNb2JpbGVCcm93c2VyKCk7XG4gIHJlYWRvbmx5IF9zaG91bGRBbGxvd01pZ3JhdGlvbiA9IHRydWU7XG5cbiAgcHJpdmF0ZSBmb3JBbGxDaGFuZ2VkS2V5cyhcbiAgICBjYjogKGtleTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nIHwgbnVsbCwgbmV3VmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHZvaWRcbiAgKTogdm9pZCB7XG4gICAgLy8gQ2hlY2sgYWxsIGtleXMgd2l0aCBsaXN0ZW5lcnMgb24gdGhlbS5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgIC8vIEdldCB2YWx1ZSBmcm9tIGxvY2FsU3RvcmFnZS5cbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5sb2NhbENhY2hlW2tleV07XG4gICAgICAvLyBJZiBsb2NhbCBtYXAgdmFsdWUgZG9lcyBub3QgbWF0Y2gsIHRyaWdnZXIgbGlzdGVuZXIgd2l0aCBzdG9yYWdlIGV2ZW50LlxuICAgICAgLy8gRGlmZmVyZW50aWF0ZSB0aGlzIHNpbXVsYXRlZCBldmVudCBmcm9tIHRoZSByZWFsIHN0b3JhZ2UgZXZlbnQuXG4gICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgIGNiKGtleSwgb2xkVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG9uU3RvcmFnZUV2ZW50KGV2ZW50OiBTdG9yYWdlRXZlbnQsIHBvbGwgPSBmYWxzZSk6IHZvaWQge1xuICAgIC8vIEtleSB3b3VsZCBiZSBudWxsIGluIHNvbWUgc2l0dWF0aW9ucywgbGlrZSB3aGVuIGxvY2FsU3RvcmFnZSBpcyBjbGVhcmVkXG4gICAgaWYgKCFldmVudC5rZXkpIHtcbiAgICAgIHRoaXMuZm9yQWxsQ2hhbmdlZEtleXMoXG4gICAgICAgIChrZXk6IHN0cmluZywgX29sZFZhbHVlOiBzdHJpbmcgfCBudWxsLCBuZXdWYWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleTtcblxuICAgIC8vIENoZWNrIHRoZSBtZWNoYW5pc20gaG93IHRoaXMgZXZlbnQgd2FzIGRldGVjdGVkLlxuICAgIC8vIFRoZSBmaXJzdCBldmVudCB3aWxsIGRpY3RhdGUgdGhlIG1lY2hhbmlzbSB0byBiZSB1c2VkLlxuICAgIGlmIChwb2xsKSB7XG4gICAgICAvLyBFbnZpcm9ubWVudCBkZXRlY3RzIHN0b3JhZ2UgY2hhbmdlcyB2aWEgcG9sbGluZy5cbiAgICAgIC8vIFJlbW92ZSBzdG9yYWdlIGV2ZW50IGxpc3RlbmVyIHRvIHByZXZlbnQgcG9zc2libGUgZXZlbnQgZHVwbGljYXRpb24uXG4gICAgICB0aGlzLmRldGFjaExpc3RlbmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEVudmlyb25tZW50IGRldGVjdHMgc3RvcmFnZSBjaGFuZ2VzIHZpYSBzdG9yYWdlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgLy8gUmVtb3ZlIHBvbGxpbmcgbGlzdGVuZXIgdG8gcHJldmVudCBwb3NzaWJsZSBldmVudCBkdXBsaWNhdGlvbi5cbiAgICAgIHRoaXMuc3RvcFBvbGxpbmcoKTtcbiAgICB9XG5cbiAgICBjb25zdCB0cmlnZ2VyTGlzdGVuZXJzID0gKCk6IHZvaWQgPT4ge1xuICAgICAgLy8gS2VlcCBsb2NhbCBtYXAgdXAgdG8gZGF0ZSBpbiBjYXNlIHN0b3JhZ2UgZXZlbnQgaXMgdHJpZ2dlcmVkIGJlZm9yZVxuICAgICAgLy8gcG9sbC5cbiAgICAgIGNvbnN0IHN0b3JlZFZhbHVlID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGlmICghcG9sbCAmJiB0aGlzLmxvY2FsQ2FjaGVba2V5XSA9PT0gc3RvcmVkVmFsdWUpIHtcbiAgICAgICAgLy8gUmVhbCBzdG9yYWdlIGV2ZW50IHdoaWNoIGhhcyBhbHJlYWR5IGJlZW4gZGV0ZWN0ZWQsIGRvIG5vdGhpbmcuXG4gICAgICAgIC8vIFRoaXMgc2VlbXMgdG8gdHJpZ2dlciBpbiBzb21lIElFIGJyb3dzZXJzIGZvciBzb21lIHJlYXNvbi5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoa2V5LCBzdG9yZWRWYWx1ZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHN0b3JlZFZhbHVlID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICBpZiAoXG4gICAgICBfaXNJRTEwKCkgJiZcbiAgICAgIHN0b3JlZFZhbHVlICE9PSBldmVudC5uZXdWYWx1ZSAmJlxuICAgICAgZXZlbnQubmV3VmFsdWUgIT09IGV2ZW50Lm9sZFZhbHVlXG4gICAgKSB7XG4gICAgICAvLyBJRSAxMCBoYXMgdGhpcyB3ZWlyZCBidWcgd2hlcmUgYSBzdG9yYWdlIGV2ZW50IHdvdWxkIHRyaWdnZXIgd2l0aCB0aGVcbiAgICAgIC8vIGNvcnJlY3Qga2V5LCBvbGRWYWx1ZSBhbmQgbmV3VmFsdWUgYnV0IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgZG9lc1xuICAgICAgLy8gbm90IHlpZWxkIHRoZSB1cGRhdGVkIHZhbHVlIHVudGlsIGEgZmV3IG1pbGxpc2Vjb25kcy4gVGhpcyBlbnN1cmVzXG4gICAgICAvLyB0aGlzIHJlY292ZXJzIGZyb20gdGhhdCBzaXR1YXRpb24uXG4gICAgICBzZXRUaW1lb3V0KHRyaWdnZXJMaXN0ZW5lcnMsIElFMTBfTE9DQUxfU1RPUkFHRV9TWU5DX0RFTEFZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJpZ2dlckxpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbm90aWZ5TGlzdGVuZXJzKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMubG9jYWxDYWNoZVtrZXldID0gdmFsdWU7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNba2V5XTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIEFycmF5LmZyb20obGlzdGVuZXJzKSkge1xuICAgICAgICBsaXN0ZW5lcih2YWx1ZSA/IEpTT04ucGFyc2UodmFsdWUpIDogdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhcnRQb2xsaW5nKCk6IHZvaWQge1xuICAgIHRoaXMuc3RvcFBvbGxpbmcoKTtcblxuICAgIHRoaXMucG9sbFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5mb3JBbGxDaGFuZ2VkS2V5cyhcbiAgICAgICAgKGtleTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nIHwgbnVsbCwgbmV3VmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHtcbiAgICAgICAgICB0aGlzLm9uU3RvcmFnZUV2ZW50KFxuICAgICAgICAgICAgbmV3IFN0b3JhZ2VFdmVudCgnc3RvcmFnZScsIHtcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICAgICAgbmV3VmFsdWVcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLyogcG9sbCAqLyB0cnVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9LCBfUE9MTElOR19JTlRFUlZBTF9NUyk7XG4gIH1cblxuICBwcml2YXRlIHN0b3BQb2xsaW5nKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnBvbGxUaW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBvbGxUaW1lcik7XG4gICAgICB0aGlzLnBvbGxUaW1lciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhdHRhY2hMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIHRoaXMuYm91bmRFdmVudEhhbmRsZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBkZXRhY2hMaXN0ZW5lcigpOiB2b2lkIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIHRoaXMuYm91bmRFdmVudEhhbmRsZXIpO1xuICB9XG5cbiAgX2FkZExpc3RlbmVyKGtleTogc3RyaW5nLCBsaXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gV2hldGhlciBicm93c2VyIGNhbiBkZXRlY3Qgc3RvcmFnZSBldmVudCB3aGVuIGl0IGhhZCBhbHJlYWR5IGJlZW4gcHVzaGVkIHRvIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAgLy8gVGhpcyBtYXkgaGFwcGVuIGluIHNvbWUgbW9iaWxlIGJyb3dzZXJzLiBBIGxvY2FsU3RvcmFnZSBjaGFuZ2UgaW4gdGhlIGZvcmVncm91bmQgd2luZG93XG4gICAgICAvLyB3aWxsIG5vdCBiZSBkZXRlY3RlZCBpbiB0aGUgYmFja2dyb3VuZCB3aW5kb3cgdmlhIHRoZSBzdG9yYWdlIGV2ZW50LlxuICAgICAgLy8gVGhpcyB3YXMgZGV0ZWN0ZWQgaW4gaU9TIDcueCBtb2JpbGUgYnJvd3NlcnNcbiAgICAgIGlmICh0aGlzLmZhbGxiYWNrVG9Qb2xsaW5nKSB7XG4gICAgICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmF0dGFjaExpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5saXN0ZW5lcnNba2V5XSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IG5ldyBTZXQoKTtcbiAgICAgIC8vIFBvcHVsYXRlIHRoZSBjYWNoZSB0byBhdm9pZCBzcHVyaW91c2x5IHRyaWdnZXJpbmcgb24gZmlyc3QgcG9sbC5cbiAgICAgIHRoaXMubG9jYWxDYWNoZVtrZXldID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICB9XG4gICAgdGhpcy5saXN0ZW5lcnNba2V5XS5hZGQobGlzdGVuZXIpO1xuICB9XG5cbiAgX3JlbW92ZUxpc3RlbmVyKGtleTogc3RyaW5nLCBsaXN0ZW5lcjogU3RvcmFnZUV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5saXN0ZW5lcnNba2V5XSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XS5kZWxldGUobGlzdGVuZXIpO1xuXG4gICAgICBpZiAodGhpcy5saXN0ZW5lcnNba2V5XS5zaXplID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1trZXldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmRldGFjaExpc3RlbmVyKCk7XG4gICAgICB0aGlzLnN0b3BQb2xsaW5nKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIGxvY2FsIGNhY2hlIG9uIGJhc2Ugb3BlcmF0aW9uczpcblxuICBhc3luYyBfc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogUGVyc2lzdGVuY2VWYWx1ZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHN1cGVyLl9zZXQoa2V5LCB2YWx1ZSk7XG4gICAgdGhpcy5sb2NhbENhY2hlW2tleV0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gIH1cblxuICBhc3luYyBfZ2V0PFQgZXh0ZW5kcyBQZXJzaXN0ZW5jZVZhbHVlPihrZXk6IHN0cmluZyk6IFByb21pc2U8VCB8IG51bGw+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHN1cGVyLl9nZXQ8VD4oa2V5KTtcbiAgICB0aGlzLmxvY2FsQ2FjaGVba2V5XSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBhc3luYyBfcmVtb3ZlKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgc3VwZXIuX3JlbW92ZShrZXkpO1xuICAgIGRlbGV0ZSB0aGlzLmxvY2FsQ2FjaGVba2V5XTtcbiAgfVxufVxuXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBQZXJzaXN0ZW5jZX0gb2YgdHlwZSBgTE9DQUxgIHVzaW5nIGBsb2NhbFN0b3JhZ2VgXG4gKiBmb3IgdGhlIHVuZGVybHlpbmcgc3RvcmFnZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBicm93c2VyTG9jYWxQZXJzaXN0ZW5jZTogUGVyc2lzdGVuY2UgPSBCcm93c2VyTG9jYWxQZXJzaXN0ZW5jZTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQZXJzaXN0ZW5jZSB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7XG4gIFBlcnNpc3RlbmNlSW50ZXJuYWwgYXMgSW50ZXJuYWxQZXJzaXN0ZW5jZSxcbiAgUGVyc2lzdGVuY2VUeXBlLFxuICBTdG9yYWdlRXZlbnRMaXN0ZW5lclxufSBmcm9tICcuLi8uLi9jb3JlL3BlcnNpc3RlbmNlJztcbmltcG9ydCB7IEJyb3dzZXJQZXJzaXN0ZW5jZUNsYXNzIH0gZnJvbSAnLi9icm93c2VyJztcblxuY2xhc3MgQnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZVxuICBleHRlbmRzIEJyb3dzZXJQZXJzaXN0ZW5jZUNsYXNzXG4gIGltcGxlbWVudHMgSW50ZXJuYWxQZXJzaXN0ZW5jZVxue1xuICBzdGF0aWMgdHlwZTogJ1NFU1NJT04nID0gJ1NFU1NJT04nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCgpID0+IHdpbmRvdy5zZXNzaW9uU3RvcmFnZSwgUGVyc2lzdGVuY2VUeXBlLlNFU1NJT04pO1xuICB9XG5cbiAgX2FkZExpc3RlbmVyKF9rZXk6IHN0cmluZywgX2xpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIC8vIExpc3RlbmVycyBhcmUgbm90IHN1cHBvcnRlZCBmb3Igc2Vzc2lvbiBzdG9yYWdlIHNpbmNlIGl0IGNhbm5vdCBiZSBzaGFyZWQgYWNyb3NzIHdpbmRvd3NcbiAgICByZXR1cm47XG4gIH1cblxuICBfcmVtb3ZlTGlzdGVuZXIoX2tleTogc3RyaW5nLCBfbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgLy8gTGlzdGVuZXJzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBzZXNzaW9uIHN0b3JhZ2Ugc2luY2UgaXQgY2Fubm90IGJlIHNoYXJlZCBhY3Jvc3Mgd2luZG93c1xuICAgIHJldHVybjtcbiAgfVxufVxuXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBQZXJzaXN0ZW5jZX0gb2YgYFNFU1NJT05gIHVzaW5nIGBzZXNzaW9uU3RvcmFnZWBcbiAqIGZvciB0aGUgdW5kZXJseWluZyBzdG9yYWdlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGJyb3dzZXJTZXNzaW9uUGVyc2lzdGVuY2U6IFBlcnNpc3RlbmNlID0gQnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiogVE9ETzogcmVtb3ZlIHRoaXMgb25jZSB0c2xpYiBoYXMgYSBwb2x5ZmlsbCBmb3IgUHJvbWlzZS5hbGxTZXR0bGVkICovXG5pbnRlcmZhY2UgUHJvbWlzZUZ1bGZpbGxlZFJlc3VsdDxUPiB7XG4gIGZ1bGZpbGxlZDogdHJ1ZTtcbiAgdmFsdWU6IFQ7XG59XG5cbmludGVyZmFjZSBQcm9taXNlUmVqZWN0ZWRSZXN1bHQge1xuICBmdWxmaWxsZWQ6IGZhbHNlO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICByZWFzb246IGFueTtcbn1cblxuZXhwb3J0IHR5cGUgUHJvbWlzZVNldHRsZWRSZXN1bHQ8VD4gPVxuICB8IFByb21pc2VGdWxmaWxsZWRSZXN1bHQ8VD5cbiAgfCBQcm9taXNlUmVqZWN0ZWRSZXN1bHQ7XG5cbi8qKlxuICogU2hpbSBmb3IgUHJvbWlzZS5hbGxTZXR0bGVkLCBub3RlIHRoZSBzbGlnaHRseSBkaWZmZXJlbnQgZm9ybWF0IG9mIGBmdWxmaWxsZWRgIHZzIGBzdGF0dXNgLlxuICpcbiAqIEBwYXJhbSBwcm9taXNlcyAtIEFycmF5IG9mIHByb21pc2VzIHRvIHdhaXQgb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfYWxsU2V0dGxlZDxUPihcbiAgcHJvbWlzZXM6IEFycmF5PFByb21pc2U8VD4+XG4pOiBQcm9taXNlPEFycmF5PFByb21pc2VTZXR0bGVkUmVzdWx0PFQ+Pj4ge1xuICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgcHJvbWlzZXMubWFwKGFzeW5jIHByb21pc2UgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwcm9taXNlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGZ1bGZpbGxlZDogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9IGFzIFByb21pc2VGdWxmaWxsZWRSZXN1bHQ8VD47XG4gICAgICB9IGNhdGNoIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBmdWxmaWxsZWQ6IGZhbHNlLFxuICAgICAgICAgIHJlYXNvblxuICAgICAgICB9IGFzIFByb21pc2VSZWplY3RlZFJlc3VsdDtcbiAgICAgIH1cbiAgICB9KVxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIFJlY2VpdmVySGFuZGxlcixcbiAgX0V2ZW50VHlwZSxcbiAgX1JlY2VpdmVyUmVzcG9uc2UsXG4gIFNlbmRlck1lc3NhZ2VFdmVudCxcbiAgX1N0YXR1cyxcbiAgX1NlbmRlclJlcXVlc3Rcbn0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBfYWxsU2V0dGxlZCB9IGZyb20gJy4vcHJvbWlzZSc7XG5cbi8qKlxuICogSW50ZXJmYWNlIGNsYXNzIGZvciByZWNlaXZpbmcgbWVzc2FnZXMuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgUmVjZWl2ZXIge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSByZWNlaXZlcnM6IFJlY2VpdmVyW10gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBib3VuZEV2ZW50SGFuZGxlcjogRXZlbnRMaXN0ZW5lcjtcblxuICBwcml2YXRlIHJlYWRvbmx5IGhhbmRsZXJzTWFwOiB7XG4gICAgLy8gVHlwZVNjcmlwdCBkb2Vzbid0IGhhdmUgZXhpc3RlbnRpYWwgdHlwZXMgOihcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIFtldmVudFR5cGU6IHN0cmluZ106IFNldDxSZWNlaXZlckhhbmRsZXI8YW55LCBhbnk+PjtcbiAgfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0KSB7XG4gICAgdGhpcy5ib3VuZEV2ZW50SGFuZGxlciA9IHRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRhaW4gYW4gaW5zdGFuY2Ugb2YgYSBSZWNlaXZlciBmb3IgYSBnaXZlbiBldmVudCB0YXJnZXQsIGlmIG5vbmUgZXhpc3RzIGl0IHdpbGwgYmUgY3JlYXRlZC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50VGFyZ2V0IC0gQW4gZXZlbnQgdGFyZ2V0IChzdWNoIGFzIHdpbmRvdyBvciBzZWxmKSB0aHJvdWdoIHdoaWNoIHRoZSB1bmRlcmx5aW5nXG4gICAqIG1lc3NhZ2VzIHdpbGwgYmUgcmVjZWl2ZWQuXG4gICAqL1xuICBzdGF0aWMgX2dldEluc3RhbmNlKGV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldCk6IFJlY2VpdmVyIHtcbiAgICAvLyBUaGUgcmVzdWx0cyBhcmUgc3RvcmVkIGluIGFuIGFycmF5IHNpbmNlIG9iamVjdHMgY2FuJ3QgYmUga2V5cyBmb3Igb3RoZXJcbiAgICAvLyBvYmplY3RzLiBJbiBhZGRpdGlvbiwgc2V0dGluZyBhIHVuaXF1ZSBwcm9wZXJ0eSBvbiBhbiBldmVudCB0YXJnZXQgYXMgYVxuICAgIC8vIGhhc2ggbWFwIGtleSBtYXkgbm90IGJlIGFsbG93ZWQgZHVlIHRvIENPUlMgcmVzdHJpY3Rpb25zLlxuICAgIGNvbnN0IGV4aXN0aW5nSW5zdGFuY2UgPSB0aGlzLnJlY2VpdmVycy5maW5kKHJlY2VpdmVyID0+XG4gICAgICByZWNlaXZlci5pc0xpc3RlbmluZ3RvKGV2ZW50VGFyZ2V0KVxuICAgICk7XG4gICAgaWYgKGV4aXN0aW5nSW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBleGlzdGluZ0luc3RhbmNlO1xuICAgIH1cbiAgICBjb25zdCBuZXdJbnN0YW5jZSA9IG5ldyBSZWNlaXZlcihldmVudFRhcmdldCk7XG4gICAgdGhpcy5yZWNlaXZlcnMucHVzaChuZXdJbnN0YW5jZSk7XG4gICAgcmV0dXJuIG5ld0luc3RhbmNlO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0xpc3RlbmluZ3RvKGV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0ID09PSBldmVudFRhcmdldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGYW5zIG91dCBhIE1lc3NhZ2VFdmVudCB0byB0aGUgYXBwcm9wcmlhdGUgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBTZW5kcyBhbiB7QGxpbmsgU3RhdHVzLkFDS30gdXBvbiByZWNlaXB0IGFuZCBhIHtAbGluayBTdGF0dXMuRE9ORX0gb25jZSBhbGwgaGFuZGxlcnMgaGF2ZVxuICAgKiBmaW5pc2hlZCBwcm9jZXNzaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgTWVzc2FnZUV2ZW50LlxuICAgKlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVFdmVudDxcbiAgICBUIGV4dGVuZHMgX1JlY2VpdmVyUmVzcG9uc2UsXG4gICAgUyBleHRlbmRzIF9TZW5kZXJSZXF1ZXN0XG4gID4oZXZlbnQ6IEV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgbWVzc2FnZUV2ZW50ID0gZXZlbnQgYXMgTWVzc2FnZUV2ZW50PFNlbmRlck1lc3NhZ2VFdmVudDxTPj47XG4gICAgY29uc3QgeyBldmVudElkLCBldmVudFR5cGUsIGRhdGEgfSA9IG1lc3NhZ2VFdmVudC5kYXRhO1xuXG4gICAgY29uc3QgaGFuZGxlcnM6IFNldDxSZWNlaXZlckhhbmRsZXI8VCwgUz4+IHwgdW5kZWZpbmVkID1cbiAgICAgIHRoaXMuaGFuZGxlcnNNYXBbZXZlbnRUeXBlXTtcbiAgICBpZiAoIWhhbmRsZXJzPy5zaXplKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWVzc2FnZUV2ZW50LnBvcnRzWzBdLnBvc3RNZXNzYWdlKHtcbiAgICAgIHN0YXR1czogX1N0YXR1cy5BQ0ssXG4gICAgICBldmVudElkLFxuICAgICAgZXZlbnRUeXBlXG4gICAgfSk7XG5cbiAgICBjb25zdCBwcm9taXNlcyA9IEFycmF5LmZyb20oaGFuZGxlcnMpLm1hcChhc3luYyBoYW5kbGVyID0+XG4gICAgICBoYW5kbGVyKG1lc3NhZ2VFdmVudC5vcmlnaW4sIGRhdGEpXG4gICAgKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9hbGxTZXR0bGVkKHByb21pc2VzKTtcbiAgICBtZXNzYWdlRXZlbnQucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe1xuICAgICAgc3RhdHVzOiBfU3RhdHVzLkRPTkUsXG4gICAgICBldmVudElkLFxuICAgICAgZXZlbnRUeXBlLFxuICAgICAgcmVzcG9uc2VcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgYW4gZXZlbnQgaGFuZGxlciBmb3IgYSBwYXJ0aWN1bGFyIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRUeXBlIC0gRXZlbnQgbmFtZSB0byBzdWJzY3JpYmUgdG8uXG4gICAqIEBwYXJhbSBldmVudEhhbmRsZXIgLSBUaGUgZXZlbnQgaGFuZGxlciB3aGljaCBzaG91bGQgcmVjZWl2ZSB0aGUgZXZlbnRzLlxuICAgKlxuICAgKi9cbiAgX3N1YnNjcmliZTxUIGV4dGVuZHMgX1JlY2VpdmVyUmVzcG9uc2UsIFMgZXh0ZW5kcyBfU2VuZGVyUmVxdWVzdD4oXG4gICAgZXZlbnRUeXBlOiBfRXZlbnRUeXBlLFxuICAgIGV2ZW50SGFuZGxlcjogUmVjZWl2ZXJIYW5kbGVyPFQsIFM+XG4gICk6IHZvaWQge1xuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmhhbmRsZXJzTWFwKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuYm91bmRFdmVudEhhbmRsZXIpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5oYW5kbGVyc01hcFtldmVudFR5cGVdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzTWFwW2V2ZW50VHlwZV0gPSBuZXcgU2V0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kbGVyc01hcFtldmVudFR5cGVdLmFkZChldmVudEhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGFuIGV2ZW50IGhhbmRsZXIgZnJvbSBhIHBhcnRpY3VsYXIgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFR5cGUgLSBFdmVudCBuYW1lIHRvIHVuc3Vic2NyaWJlIGZyb20uXG4gICAqIEBwYXJhbSBldmVudEhhbmRsZXIgLSBPcHRpb25hbCBldmVudCBoYW5kbGVyLCBpZiBub25lIHByb3ZpZGVkLCB1bnN1YnNjcmliZSBhbGwgaGFuZGxlcnMgb24gdGhpcyBldmVudC5cbiAgICpcbiAgICovXG4gIF91bnN1YnNjcmliZTxUIGV4dGVuZHMgX1JlY2VpdmVyUmVzcG9uc2UsIFMgZXh0ZW5kcyBfU2VuZGVyUmVxdWVzdD4oXG4gICAgZXZlbnRUeXBlOiBfRXZlbnRUeXBlLFxuICAgIGV2ZW50SGFuZGxlcj86IFJlY2VpdmVySGFuZGxlcjxULCBTPlxuICApOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyc01hcFtldmVudFR5cGVdICYmIGV2ZW50SGFuZGxlcikge1xuICAgICAgdGhpcy5oYW5kbGVyc01hcFtldmVudFR5cGVdLmRlbGV0ZShldmVudEhhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAoIWV2ZW50SGFuZGxlciB8fCB0aGlzLmhhbmRsZXJzTWFwW2V2ZW50VHlwZV0uc2l6ZSA9PT0gMCkge1xuICAgICAgZGVsZXRlIHRoaXMuaGFuZGxlcnNNYXBbZXZlbnRUeXBlXTtcbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5oYW5kbGVyc01hcCkubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLmJvdW5kRXZlbnRIYW5kbGVyKTtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gX2dlbmVyYXRlRXZlbnRJZChwcmVmaXggPSAnJywgZGlnaXRzID0gMTApOiBzdHJpbmcge1xuICBsZXQgcmFuZG9tID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlnaXRzOyBpKyspIHtcbiAgICByYW5kb20gKz0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICB9XG4gIHJldHVybiBwcmVmaXggKyByYW5kb207XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgX2dlbmVyYXRlRXZlbnRJZCB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9ldmVudF9pZCc7XG5pbXBvcnQge1xuICBfU2VuZGVyUmVxdWVzdCxcbiAgX0V2ZW50VHlwZSxcbiAgUmVjZWl2ZXJNZXNzYWdlRXZlbnQsXG4gIF9NZXNzYWdlRXJyb3IsXG4gIFNlbmRlck1lc3NhZ2VFdmVudCxcbiAgX1N0YXR1cyxcbiAgX1JlY2VpdmVyTWVzc2FnZVJlc3BvbnNlLFxuICBfUmVjZWl2ZXJSZXNwb25zZSxcbiAgX1RpbWVvdXREdXJhdGlvblxufSBmcm9tICcuL2luZGV4JztcblxuaW50ZXJmYWNlIE1lc3NhZ2VIYW5kbGVyIHtcbiAgbWVzc2FnZUNoYW5uZWw6IE1lc3NhZ2VDaGFubmVsO1xuICBvbk1lc3NhZ2U6IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3Q7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBzZW5kaW5nIG1lc3NhZ2VzIGFuZCB3YWl0aW5nIGZvciBhIGNvbXBsZXRpb24gcmVzcG9uc2UuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgU2VuZGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBoYW5kbGVycyA9IG5ldyBTZXQ8TWVzc2FnZUhhbmRsZXI+KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSB0YXJnZXQ6IFNlcnZpY2VXb3JrZXIpIHt9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIHRoZSBoYW5kbGVyIGFuZCByZW1vdmUgaXQgZnJvbSBvdXIgdHJhY2tpbmcgU2V0LlxuICAgKlxuICAgKiBAcGFyYW0gaGFuZGxlciAtIFRoZSBoYW5kbGVyIHRvIHVuc3Vic2NyaWJlLlxuICAgKi9cbiAgcHJpdmF0ZSByZW1vdmVNZXNzYWdlSGFuZGxlcihoYW5kbGVyOiBNZXNzYWdlSGFuZGxlcik6IHZvaWQge1xuICAgIGlmIChoYW5kbGVyLm1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICBoYW5kbGVyLm1lc3NhZ2VDaGFubmVsLnBvcnQxLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdtZXNzYWdlJyxcbiAgICAgICAgaGFuZGxlci5vbk1lc3NhZ2VcbiAgICAgICk7XG4gICAgICBoYW5kbGVyLm1lc3NhZ2VDaGFubmVsLnBvcnQxLmNsb3NlKCk7XG4gICAgfVxuICAgIHRoaXMuaGFuZGxlcnMuZGVsZXRlKGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBSZWNlaXZlciBsb2NhdGVkIGF0IHtAbGluayB0YXJnZXR9LlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBXZSdsbCBmaXJzdCB3YWl0IGEgYml0IGZvciBhbiBBQ0sgLCBpZiB3ZSBnZXQgb25lIHdlIHdpbGwgd2FpdCBzaWduaWZpY2FudGx5IGxvbmdlciB1bnRpbCB0aGVcbiAgICogcmVjZWl2ZXIgaGFzIGhhZCBhIGNoYW5jZSB0byBmdWxseSBwcm9jZXNzIHRoZSBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50VHlwZSAtIFR5cGUgb2YgZXZlbnQgdG8gc2VuZC5cbiAgICogQHBhcmFtIGRhdGEgLSBUaGUgcGF5bG9hZCBvZiB0aGUgZXZlbnQuXG4gICAqIEBwYXJhbSB0aW1lb3V0IC0gVGltZW91dCBmb3Igd2FpdGluZyBvbiBhbiBBQ0sgZnJvbSB0aGUgcmVjZWl2ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHNldHRsZWQgcHJvbWlzZXMgZnJvbSBhbGwgdGhlIGhhbmRsZXJzIHRoYXQgd2VyZSBsaXN0ZW5pbmcgb24gdGhlIHJlY2VpdmVyLlxuICAgKi9cbiAgYXN5bmMgX3NlbmQ8VCBleHRlbmRzIF9SZWNlaXZlclJlc3BvbnNlLCBTIGV4dGVuZHMgX1NlbmRlclJlcXVlc3Q+KFxuICAgIGV2ZW50VHlwZTogX0V2ZW50VHlwZSxcbiAgICBkYXRhOiBTLFxuICAgIHRpbWVvdXQgPSBfVGltZW91dER1cmF0aW9uLkFDS1xuICApOiBQcm9taXNlPF9SZWNlaXZlck1lc3NhZ2VSZXNwb25zZTxUPj4ge1xuICAgIGNvbnN0IG1lc3NhZ2VDaGFubmVsID1cbiAgICAgIHR5cGVvZiBNZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgTWVzc2FnZUNoYW5uZWwoKSA6IG51bGw7XG4gICAgaWYgKCFtZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKF9NZXNzYWdlRXJyb3IuQ09OTkVDVElPTl9VTkFWQUlMQUJMRSk7XG4gICAgfVxuICAgIC8vIE5vZGUgdGltZXJzIGFuZCBicm93c2VyIHRpbWVycyByZXR1cm4gZnVuZGFtZW50YWxseSBkaWZmZXJlbnQgdHlwZXMuXG4gICAgLy8gV2UgZG9uJ3QgYWN0dWFsbHkgY2FyZSB3aGF0IHRoZSB2YWx1ZSBpcyBidXQgVFMgd29uJ3QgYWNjZXB0IHVua25vd24gYW5kXG4gICAgLy8gd2UgY2FuJ3QgY2FzdCBwcm9wZXJseSBpbiBib3RoIGVudmlyb25tZW50cy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCBjb21wbGV0aW9uVGltZXI6IGFueTtcbiAgICBsZXQgaGFuZGxlcjogTWVzc2FnZUhhbmRsZXI7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPF9SZWNlaXZlck1lc3NhZ2VSZXNwb25zZTxUPj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgZXZlbnRJZCA9IF9nZW5lcmF0ZUV2ZW50SWQoJycsIDIwKTtcbiAgICAgIG1lc3NhZ2VDaGFubmVsLnBvcnQxLnN0YXJ0KCk7XG4gICAgICBjb25zdCBhY2tUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKF9NZXNzYWdlRXJyb3IuVU5TVVBQT1JURURfRVZFTlQpKTtcbiAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgaGFuZGxlciA9IHtcbiAgICAgICAgbWVzc2FnZUNoYW5uZWwsXG4gICAgICAgIG9uTWVzc2FnZShldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlRXZlbnQgPSBldmVudCBhcyBNZXNzYWdlRXZlbnQ8UmVjZWl2ZXJNZXNzYWdlRXZlbnQ8VD4+O1xuICAgICAgICAgIGlmIChtZXNzYWdlRXZlbnQuZGF0YS5ldmVudElkICE9PSBldmVudElkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAobWVzc2FnZUV2ZW50LmRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIF9TdGF0dXMuQUNLOlxuICAgICAgICAgICAgICAvLyBUaGUgcmVjZWl2ZXIgc2hvdWxkIEFDSyBmaXJzdC5cbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFja1RpbWVyKTtcbiAgICAgICAgICAgICAgY29tcGxldGlvblRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihfTWVzc2FnZUVycm9yLlRJTUVPVVQpKTtcbiAgICAgICAgICAgICAgfSwgX1RpbWVvdXREdXJhdGlvbi5DT01QTEVUSU9OKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIF9TdGF0dXMuRE9ORTpcbiAgICAgICAgICAgICAgLy8gT25jZSB0aGUgcmVjZWl2ZXIncyBoYW5kbGVycyBhcmUgZmluaXNoZWQgd2Ugd2lsbCBnZXQgdGhlIHJlc3VsdHMuXG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb21wbGV0aW9uVGltZXIpO1xuICAgICAgICAgICAgICByZXNvbHZlKG1lc3NhZ2VFdmVudC5kYXRhLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoYWNrVGltZXIpO1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29tcGxldGlvblRpbWVyKTtcbiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihfTWVzc2FnZUVycm9yLklOVkFMSURfUkVTUE9OU0UpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5oYW5kbGVycy5hZGQoaGFuZGxlcik7XG4gICAgICBtZXNzYWdlQ2hhbm5lbC5wb3J0MS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlci5vbk1lc3NhZ2UpO1xuICAgICAgdGhpcy50YXJnZXQucG9zdE1lc3NhZ2UoXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudFR5cGUsXG4gICAgICAgICAgZXZlbnRJZCxcbiAgICAgICAgICBkYXRhXG4gICAgICAgIH0gYXMgU2VuZGVyTWVzc2FnZUV2ZW50PFM+LFxuICAgICAgICBbbWVzc2FnZUNoYW5uZWwucG9ydDJdXG4gICAgICApO1xuICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVNZXNzYWdlSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFJlY2FwdGNoYSwgR3JlQ0FQVENIQVRvcExldmVsIH0gZnJvbSAnLi9yZWNhcHRjaGEvcmVjYXB0Y2hhJztcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHdpbmRvdyB0eXBlIHRoYXQgbWVsZHMgdGhlIG5vcm1hbCB3aW5kb3cgdHlwZSBwbHVzIHRoZVxuICogdmFyaW91cyBiaXRzIHdlIG5lZWQuIFRoZSB0aHJlZSBkaWZmZXJlbnQgYmxvY2tzIHRoYXQgYXJlICYnZCB0b2dldGhlclxuICogY2FudCBiZSBkZWZpbmVkIGluIHRoZSBzYW1lIGJsb2NrIHRvZ2V0aGVyLlxuICovXG5leHBvcnQgdHlwZSBBdXRoV2luZG93ID0ge1xuICAvLyBTdGFuZGFyZCB3aW5kb3cgdHlwZXNcbiAgW1QgaW4ga2V5b2YgV2luZG93XTogV2luZG93W1RdO1xufSAmIHtcbiAgLy8gQW55IGtub3duIC8gbmFtZWQgcHJvcGVydGllcyB3ZSB3YW50IHRvIGFkZFxuICBncmVjYXB0Y2hhPzogUmVjYXB0Y2hhIHwgR3JlQ0FQVENIQVRvcExldmVsO1xuICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuICBfX19qc2w/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBnYXBpPzogdHlwZW9mIGdhcGk7XG59ICYge1xuICAvLyBBIGZpbmFsIGNhdGNoLWFsbCBmb3IgY2FsbGJhY2tzICh3aGljaCB3aWxsIGhhdmUgcmFuZG9tIG5hbWVzKSB0aGF0XG4gIC8vIHdlIHdpbGwgc3RpY2sgb24gdGhlIHdpbmRvdy5cbiAgW2NhbGxiYWNrOiBzdHJpbmddOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB2b2lkO1xufTtcblxuLyoqXG4gKiBMYXp5IGFjY2Vzc29yIGZvciB3aW5kb3csIHNpbmNlIHRoZSBjb21wYXQgbGF5ZXIgd29uJ3QgdHJlZSBzaGFrZSB0aGlzIG91dCxcbiAqIHdlIG5lZWQgdG8gbWFrZSBzdXJlIG5vdCB0byBtZXNzIHdpdGggd2luZG93IHVubGVzcyB3ZSBoYXZlIHRvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfd2luZG93KCk6IEF1dGhXaW5kb3cge1xuICByZXR1cm4gd2luZG93IGFzIHVua25vd24gYXMgQXV0aFdpbmRvdztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9zZXRXaW5kb3dMb2NhdGlvbih1cmw6IHN0cmluZyk6IHZvaWQge1xuICBfd2luZG93KCkubG9jYXRpb24uaHJlZiA9IHVybDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgX3dpbmRvdyB9IGZyb20gJy4uL2F1dGhfd2luZG93JztcblxuZXhwb3J0IGZ1bmN0aW9uIF9pc1dvcmtlcigpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgX3dpbmRvdygpWydXb3JrZXJHbG9iYWxTY29wZSddICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBfd2luZG93KClbJ2ltcG9ydFNjcmlwdHMnXSA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2dldEFjdGl2ZVNlcnZpY2VXb3JrZXIoKTogUHJvbWlzZTxTZXJ2aWNlV29ya2VyIHwgbnVsbD4ge1xuICBpZiAoIW5hdmlnYXRvcj8uc2VydmljZVdvcmtlcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgcmVnaXN0cmF0aW9uID0gYXdhaXQgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHk7XG4gICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5hY3RpdmU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0U2VydmljZVdvcmtlckNvbnRyb2xsZXIoKTogU2VydmljZVdvcmtlciB8IG51bGwge1xuICByZXR1cm4gbmF2aWdhdG9yPy5zZXJ2aWNlV29ya2VyPy5jb250cm9sbGVyIHx8IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZ2V0V29ya2VyR2xvYmFsU2NvcGUoKTogU2VydmljZVdvcmtlciB8IG51bGwge1xuICByZXR1cm4gX2lzV29ya2VyKCkgPyAoc2VsZiBhcyB1bmtub3duIGFzIFNlcnZpY2VXb3JrZXIpIDogbnVsbDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQZXJzaXN0ZW5jZSB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQge1xuICBQZXJzaXN0ZWRCbG9iLFxuICBQZXJzaXN0ZW5jZUludGVybmFsIGFzIEludGVybmFsUGVyc2lzdGVuY2UsXG4gIFBlcnNpc3RlbmNlVHlwZSxcbiAgUGVyc2lzdGVuY2VWYWx1ZSxcbiAgU3RvcmFnZUV2ZW50TGlzdGVuZXIsXG4gIFNUT1JBR0VfQVZBSUxBQkxFX0tFWVxufSBmcm9tICcuLi8uLi9jb3JlL3BlcnNpc3RlbmNlLyc7XG5pbXBvcnQge1xuICBfRXZlbnRUeXBlLFxuICBfUGluZ1Jlc3BvbnNlLFxuICBLZXlDaGFuZ2VkUmVzcG9uc2UsXG4gIEtleUNoYW5nZWRSZXF1ZXN0LFxuICBQaW5nUmVxdWVzdCxcbiAgX1RpbWVvdXREdXJhdGlvblxufSBmcm9tICcuLi9tZXNzYWdlY2hhbm5lbC9pbmRleCc7XG5pbXBvcnQgeyBSZWNlaXZlciB9IGZyb20gJy4uL21lc3NhZ2VjaGFubmVsL3JlY2VpdmVyJztcbmltcG9ydCB7IFNlbmRlciB9IGZyb20gJy4uL21lc3NhZ2VjaGFubmVsL3NlbmRlcic7XG5pbXBvcnQge1xuICBfaXNXb3JrZXIsXG4gIF9nZXRBY3RpdmVTZXJ2aWNlV29ya2VyLFxuICBfZ2V0U2VydmljZVdvcmtlckNvbnRyb2xsZXIsXG4gIF9nZXRXb3JrZXJHbG9iYWxTY29wZVxufSBmcm9tICcuLi91dGlsL3dvcmtlcic7XG5cbmV4cG9ydCBjb25zdCBEQl9OQU1FID0gJ2ZpcmViYXNlTG9jYWxTdG9yYWdlRGInO1xuY29uc3QgREJfVkVSU0lPTiA9IDE7XG5jb25zdCBEQl9PQkpFQ1RTVE9SRV9OQU1FID0gJ2ZpcmViYXNlTG9jYWxTdG9yYWdlJztcbmNvbnN0IERCX0RBVEFfS0VZUEFUSCA9ICdmYmFzZV9rZXknO1xuXG5pbnRlcmZhY2UgREJPYmplY3Qge1xuICBbREJfREFUQV9LRVlQQVRIXTogc3RyaW5nO1xuICB2YWx1ZTogUGVyc2lzdGVkQmxvYjtcbn1cblxuLyoqXG4gKiBQcm9taXNlIHdyYXBwZXIgZm9yIElEQlJlcXVlc3RcbiAqXG4gKiBVbmZvcnR1bmF0ZWx5IHdlIGNhbid0IGNsZWFubHkgZXh0ZW5kIFByb21pc2U8VD4gc2luY2UgcHJvbWlzZXMgYXJlIG5vdCBjYWxsYWJsZSBpbiBFUzZcbiAqXG4gKi9cbmNsYXNzIERCUHJvbWlzZTxUPiB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgcmVxdWVzdDogSURCUmVxdWVzdCkge31cblxuICB0b1Byb21pc2UoKTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHRoaXMucmVxdWVzdC5yZXN1bHQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XG4gICAgICAgIHJlamVjdCh0aGlzLnJlcXVlc3QuZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0T2JqZWN0U3RvcmUoZGI6IElEQkRhdGFiYXNlLCBpc1JlYWRXcml0ZTogYm9vbGVhbik6IElEQk9iamVjdFN0b3JlIHtcbiAgcmV0dXJuIGRiXG4gICAgLnRyYW5zYWN0aW9uKFtEQl9PQkpFQ1RTVE9SRV9OQU1FXSwgaXNSZWFkV3JpdGUgPyAncmVhZHdyaXRlJyA6ICdyZWFkb25seScpXG4gICAgLm9iamVjdFN0b3JlKERCX09CSkVDVFNUT1JFX05BTUUpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX2NsZWFyRGF0YWJhc2UoZGI6IElEQkRhdGFiYXNlKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IG9iamVjdFN0b3JlID0gZ2V0T2JqZWN0U3RvcmUoZGIsIHRydWUpO1xuICByZXR1cm4gbmV3IERCUHJvbWlzZTx2b2lkPihvYmplY3RTdG9yZS5jbGVhcigpKS50b1Byb21pc2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9kZWxldGVEYXRhYmFzZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShEQl9OQU1FKTtcbiAgcmV0dXJuIG5ldyBEQlByb21pc2U8dm9pZD4ocmVxdWVzdCkudG9Qcm9taXNlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfb3BlbkRhdGFiYXNlKCk6IFByb21pc2U8SURCRGF0YWJhc2U+IHtcbiAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKERCX05BTUUsIERCX1ZFUlNJT04pO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XG4gICAgICByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgfSk7XG5cbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3VwZ3JhZGVuZWVkZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBkYiA9IHJlcXVlc3QucmVzdWx0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShEQl9PQkpFQ1RTVE9SRV9OQU1FLCB7IGtleVBhdGg6IERCX0RBVEFfS0VZUEFUSCB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGI6IElEQkRhdGFiYXNlID0gcmVxdWVzdC5yZXN1bHQ7XG4gICAgICAvLyBTdHJhbmdlIGJ1ZyB0aGF0IG9jY3VycyBpbiBGaXJlZm94IHdoZW4gbXVsdGlwbGUgdGFicyBhcmUgb3BlbmVkIGF0IHRoZVxuICAgICAgLy8gc2FtZSB0aW1lLiBUaGUgb25seSB3YXkgdG8gcmVjb3ZlciBzZWVtcyB0byBiZSBkZWxldGluZyB0aGUgZGF0YWJhc2VcbiAgICAgIC8vIGFuZCByZS1pbml0aWFsaXppbmcgaXQuXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvZmlyZWJhc2UtanMtc2RrL2lzc3Vlcy82MzRcblxuICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKERCX09CSkVDVFNUT1JFX05BTUUpKSB7XG4gICAgICAgIC8vIE5lZWQgdG8gY2xvc2UgdGhlIGRhdGFiYXNlIG9yIGVsc2UgeW91IGdldCBhIGBibG9ja2VkYCBldmVudFxuICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICBhd2FpdCBfZGVsZXRlRGF0YWJhc2UoKTtcbiAgICAgICAgcmVzb2x2ZShhd2FpdCBfb3BlbkRhdGFiYXNlKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZShkYik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3B1dE9iamVjdChcbiAgZGI6IElEQkRhdGFiYXNlLFxuICBrZXk6IHN0cmluZyxcbiAgdmFsdWU6IFBlcnNpc3RlbmNlVmFsdWUgfCBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCByZXF1ZXN0ID0gZ2V0T2JqZWN0U3RvcmUoZGIsIHRydWUpLnB1dCh7XG4gICAgW0RCX0RBVEFfS0VZUEFUSF06IGtleSxcbiAgICB2YWx1ZVxuICB9KTtcbiAgcmV0dXJuIG5ldyBEQlByb21pc2U8dm9pZD4ocmVxdWVzdCkudG9Qcm9taXNlKCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldE9iamVjdChcbiAgZGI6IElEQkRhdGFiYXNlLFxuICBrZXk6IHN0cmluZ1xuKTogUHJvbWlzZTxQZXJzaXN0ZWRCbG9iIHwgbnVsbD4ge1xuICBjb25zdCByZXF1ZXN0ID0gZ2V0T2JqZWN0U3RvcmUoZGIsIGZhbHNlKS5nZXQoa2V5KTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IG5ldyBEQlByb21pc2U8REJPYmplY3QgfCB1bmRlZmluZWQ+KHJlcXVlc3QpLnRvUHJvbWlzZSgpO1xuICByZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRhdGEudmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfZGVsZXRlT2JqZWN0KGRiOiBJREJEYXRhYmFzZSwga2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcmVxdWVzdCA9IGdldE9iamVjdFN0b3JlKGRiLCB0cnVlKS5kZWxldGUoa2V5KTtcbiAgcmV0dXJuIG5ldyBEQlByb21pc2U8dm9pZD4ocmVxdWVzdCkudG9Qcm9taXNlKCk7XG59XG5cbmV4cG9ydCBjb25zdCBfUE9MTElOR19JTlRFUlZBTF9NUyA9IDgwMDtcbmV4cG9ydCBjb25zdCBfVFJBTlNBQ1RJT05fUkVUUllfQ09VTlQgPSAzO1xuXG5jbGFzcyBJbmRleGVkREJMb2NhbFBlcnNpc3RlbmNlIGltcGxlbWVudHMgSW50ZXJuYWxQZXJzaXN0ZW5jZSB7XG4gIHN0YXRpYyB0eXBlOiAnTE9DQUwnID0gJ0xPQ0FMJztcblxuICB0eXBlID0gUGVyc2lzdGVuY2VUeXBlLkxPQ0FMO1xuICBkYj86IElEQkRhdGFiYXNlO1xuICByZWFkb25seSBfc2hvdWxkQWxsb3dNaWdyYXRpb24gPSB0cnVlO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbGlzdGVuZXJzOiBSZWNvcmQ8c3RyaW5nLCBTZXQ8U3RvcmFnZUV2ZW50TGlzdGVuZXI+PiA9IHt9O1xuICBwcml2YXRlIHJlYWRvbmx5IGxvY2FsQ2FjaGU6IFJlY29yZDxzdHJpbmcsIFBlcnNpc3RlbmNlVmFsdWUgfCBudWxsPiA9IHt9O1xuICAvLyBzZXRUaW1lb3V0IHJldHVybiB2YWx1ZSBpcyBwbGF0Zm9ybSBzcGVjaWZpY1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBwcml2YXRlIHBvbGxUaW1lcjogYW55IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcGVuZGluZ1dyaXRlcyA9IDA7XG5cbiAgcHJpdmF0ZSByZWNlaXZlcjogUmVjZWl2ZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBzZW5kZXI6IFNlbmRlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHNlcnZpY2VXb3JrZXJSZWNlaXZlckF2YWlsYWJsZSA9IGZhbHNlO1xuICBwcml2YXRlIGFjdGl2ZVNlcnZpY2VXb3JrZXI6IFNlcnZpY2VXb3JrZXIgfCBudWxsID0gbnVsbDtcbiAgLy8gVmlzaWJsZSBmb3IgdGVzdGluZyBvbmx5XG4gIHJlYWRvbmx5IF93b3JrZXJJbml0aWFsaXphdGlvblByb21pc2U6IFByb21pc2U8dm9pZD47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gRmlyZSAmIGZvcmdldCB0aGUgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIGFzIGl0IG1heSBuZXZlciByZXNvbHZlXG4gICAgdGhpcy5fd29ya2VySW5pdGlhbGl6YXRpb25Qcm9taXNlID1cbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVNlcnZpY2VXb3JrZXJNZXNzYWdpbmcoKS50aGVuKFxuICAgICAgICAoKSA9PiB7fSxcbiAgICAgICAgKCkgPT4ge31cbiAgICAgICk7XG4gIH1cblxuICBhc3luYyBfb3BlbkRiKCk6IFByb21pc2U8SURCRGF0YWJhc2U+IHtcbiAgICBpZiAodGhpcy5kYikge1xuICAgICAgcmV0dXJuIHRoaXMuZGI7XG4gICAgfVxuICAgIHRoaXMuZGIgPSBhd2FpdCBfb3BlbkRhdGFiYXNlKCk7XG4gICAgcmV0dXJuIHRoaXMuZGI7XG4gIH1cblxuICBhc3luYyBfd2l0aFJldHJpZXM8VD4ob3A6IChkYjogSURCRGF0YWJhc2UpID0+IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+IHtcbiAgICBsZXQgbnVtQXR0ZW1wdHMgPSAwO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5fb3BlbkRiKCk7XG4gICAgICAgIHJldHVybiBhd2FpdCBvcChkYik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChudW1BdHRlbXB0cysrID4gX1RSQU5TQUNUSU9OX1JFVFJZX0NPVU5UKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kYikge1xuICAgICAgICAgIHRoaXMuZGIuY2xvc2UoKTtcbiAgICAgICAgICB0aGlzLmRiID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IGNvbnNpZGVyIGFkZGluZyBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluZGV4ZWREQiBldmVudHMgZG8gbm90IHByb3BhZ2F0ZSBmcm9tIHRoZSBtYWluIHdpbmRvdyB0byB0aGUgd29ya2VyIGNvbnRleHQuICBXZSByZWx5IG9uIGFcbiAgICogcG9zdE1lc3NhZ2UgaW50ZXJmYWNlIHRvIHNlbmQgdGhlc2UgZXZlbnRzIHRvIHRoZSB3b3JrZXIgb3Vyc2VsdmVzLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplU2VydmljZVdvcmtlck1lc3NhZ2luZygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gX2lzV29ya2VyKCkgPyB0aGlzLmluaXRpYWxpemVSZWNlaXZlcigpIDogdGhpcy5pbml0aWFsaXplU2VuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQXMgdGhlIHdvcmtlciB3ZSBzaG91bGQgbGlzdGVuIHRvIGV2ZW50cyBmcm9tIHRoZSBtYWluIHdpbmRvdy5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVJlY2VpdmVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMucmVjZWl2ZXIgPSBSZWNlaXZlci5fZ2V0SW5zdGFuY2UoX2dldFdvcmtlckdsb2JhbFNjb3BlKCkhKTtcbiAgICAvLyBSZWZyZXNoIGZyb20gcGVyc2lzdGVuY2UgaWYgd2UgcmVjZWl2ZSBhIEtleUNoYW5nZWQgbWVzc2FnZS5cbiAgICB0aGlzLnJlY2VpdmVyLl9zdWJzY3JpYmUoXG4gICAgICBfRXZlbnRUeXBlLktFWV9DSEFOR0VELFxuICAgICAgYXN5bmMgKF9vcmlnaW46IHN0cmluZywgZGF0YTogS2V5Q2hhbmdlZFJlcXVlc3QpID0+IHtcbiAgICAgICAgY29uc3Qga2V5cyA9IGF3YWl0IHRoaXMuX3BvbGwoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBrZXlQcm9jZXNzZWQ6IGtleXMuaW5jbHVkZXMoZGF0YS5rZXkpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgKTtcbiAgICAvLyBMZXQgdGhlIHNlbmRlciBrbm93IHRoYXQgd2UgYXJlIGxpc3RlbmluZyBzbyB0aGV5IGdpdmUgdXMgbW9yZSB0aW1lb3V0LlxuICAgIHRoaXMucmVjZWl2ZXIuX3N1YnNjcmliZShcbiAgICAgIF9FdmVudFR5cGUuUElORyxcbiAgICAgIGFzeW5jIChfb3JpZ2luOiBzdHJpbmcsIF9kYXRhOiBQaW5nUmVxdWVzdCkgPT4ge1xuICAgICAgICByZXR1cm4gW19FdmVudFR5cGUuS0VZX0NIQU5HRURdO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQXMgdGhlIG1haW4gd2luZG93LCB3ZSBzaG91bGQgbGV0IHRoZSB3b3JrZXIga25vdyB3aGVuIGtleXMgY2hhbmdlIChzZXQgYW5kIHJlbW92ZSkuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmljZVdvcmtlckNvbnRhaW5lci9yZWFkeSB8IFNlcnZpY2VXb3JrZXJDb250YWluZXIucmVhZHl9XG4gICAqIG1heSBub3QgcmVzb2x2ZS5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZVNlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlcmUncyBhbiBhY3RpdmUgc2VydmljZSB3b3JrZXIuXG4gICAgdGhpcy5hY3RpdmVTZXJ2aWNlV29ya2VyID0gYXdhaXQgX2dldEFjdGl2ZVNlcnZpY2VXb3JrZXIoKTtcbiAgICBpZiAoIXRoaXMuYWN0aXZlU2VydmljZVdvcmtlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNlbmRlciA9IG5ldyBTZW5kZXIodGhpcy5hY3RpdmVTZXJ2aWNlV29ya2VyKTtcbiAgICAvLyBQaW5nIHRoZSBzZXJ2aWNlIHdvcmtlciB0byBjaGVjayB3aGF0IGV2ZW50cyB0aGV5IGNhbiBoYW5kbGUuXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuc2VuZGVyLl9zZW5kPF9QaW5nUmVzcG9uc2UsIFBpbmdSZXF1ZXN0PihcbiAgICAgIF9FdmVudFR5cGUuUElORyxcbiAgICAgIHt9LFxuICAgICAgX1RpbWVvdXREdXJhdGlvbi5MT05HX0FDS1xuICAgICk7XG4gICAgaWYgKCFyZXN1bHRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHJlc3VsdHNbMF0/LmZ1bGZpbGxlZCAmJlxuICAgICAgcmVzdWx0c1swXT8udmFsdWUuaW5jbHVkZXMoX0V2ZW50VHlwZS5LRVlfQ0hBTkdFRClcbiAgICApIHtcbiAgICAgIHRoaXMuc2VydmljZVdvcmtlclJlY2VpdmVyQXZhaWxhYmxlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGV0IHRoZSB3b3JrZXIga25vdyBhYm91dCBhIGNoYW5nZWQga2V5LCB0aGUgZXhhY3Qga2V5IGRvZXNuJ3QgdGVjaG5pY2FsbHkgbWF0dGVyIHNpbmNlIHRoZVxuICAgKiB3b3JrZXIgd2lsbCBqdXN0IHRyaWdnZXIgYSBmdWxsIHN5bmMgYW55d2F5LlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBGb3Igbm93LCB3ZSBvbmx5IHN1cHBvcnQgb25lIHNlcnZpY2Ugd29ya2VyIHBlciBwYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IC0gU3RvcmFnZSBrZXkgd2hpY2ggY2hhbmdlZC5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgbm90aWZ5U2VydmljZVdvcmtlcihrZXk6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChcbiAgICAgICF0aGlzLnNlbmRlciB8fFxuICAgICAgIXRoaXMuYWN0aXZlU2VydmljZVdvcmtlciB8fFxuICAgICAgX2dldFNlcnZpY2VXb3JrZXJDb250cm9sbGVyKCkgIT09IHRoaXMuYWN0aXZlU2VydmljZVdvcmtlclxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5zZW5kZXIuX3NlbmQ8S2V5Q2hhbmdlZFJlc3BvbnNlLCBLZXlDaGFuZ2VkUmVxdWVzdD4oXG4gICAgICAgIF9FdmVudFR5cGUuS0VZX0NIQU5HRUQsXG4gICAgICAgIHsga2V5IH0sXG4gICAgICAgIC8vIFVzZSBsb25nIHRpbWVvdXQgaWYgcmVjZWl2ZXIgaGFzIHByZXZpb3VzbHkgcmVzcG9uZGVkIHRvIGEgcGluZyBmcm9tIHVzLlxuICAgICAgICB0aGlzLnNlcnZpY2VXb3JrZXJSZWNlaXZlckF2YWlsYWJsZVxuICAgICAgICAgID8gX1RpbWVvdXREdXJhdGlvbi5MT05HX0FDS1xuICAgICAgICAgIDogX1RpbWVvdXREdXJhdGlvbi5BQ0tcbiAgICAgICk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBUaGlzIGlzIGEgYmVzdCBlZmZvcnQgYXBwcm9hY2guIElnbm9yZSBlcnJvcnMuXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgX2lzQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIWluZGV4ZWREQikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBkYiA9IGF3YWl0IF9vcGVuRGF0YWJhc2UoKTtcbiAgICAgIGF3YWl0IF9wdXRPYmplY3QoZGIsIFNUT1JBR0VfQVZBSUxBQkxFX0tFWSwgJzEnKTtcbiAgICAgIGF3YWl0IF9kZWxldGVPYmplY3QoZGIsIFNUT1JBR0VfQVZBSUxBQkxFX0tFWSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfd2l0aFBlbmRpbmdXcml0ZSh3cml0ZTogKCkgPT4gUHJvbWlzZTx2b2lkPik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMucGVuZGluZ1dyaXRlcysrO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB3cml0ZSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnBlbmRpbmdXcml0ZXMtLTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBfc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogUGVyc2lzdGVuY2VWYWx1ZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLl93aXRoUGVuZGluZ1dyaXRlKGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuX3dpdGhSZXRyaWVzKChkYjogSURCRGF0YWJhc2UpID0+IF9wdXRPYmplY3QoZGIsIGtleSwgdmFsdWUpKTtcbiAgICAgIHRoaXMubG9jYWxDYWNoZVtrZXldID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcy5ub3RpZnlTZXJ2aWNlV29ya2VyKGtleSk7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBfZ2V0PFQgZXh0ZW5kcyBQZXJzaXN0ZW5jZVZhbHVlPihrZXk6IHN0cmluZyk6IFByb21pc2U8VCB8IG51bGw+IHtcbiAgICBjb25zdCBvYmogPSAoYXdhaXQgdGhpcy5fd2l0aFJldHJpZXMoKGRiOiBJREJEYXRhYmFzZSkgPT5cbiAgICAgIGdldE9iamVjdChkYiwga2V5KVxuICAgICkpIGFzIFQ7XG4gICAgdGhpcy5sb2NhbENhY2hlW2tleV0gPSBvYmo7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGFzeW5jIF9yZW1vdmUoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fd2l0aFBlbmRpbmdXcml0ZShhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLl93aXRoUmV0cmllcygoZGI6IElEQkRhdGFiYXNlKSA9PiBfZGVsZXRlT2JqZWN0KGRiLCBrZXkpKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmxvY2FsQ2FjaGVba2V5XTtcbiAgICAgIHJldHVybiB0aGlzLm5vdGlmeVNlcnZpY2VXb3JrZXIoa2V5KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3BvbGwoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIC8vIFRPRE86IGNoZWNrIGlmIHdlIG5lZWQgdG8gZmFsbGJhY2sgaWYgZ2V0QWxsIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl93aXRoUmV0cmllcygoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICBjb25zdCBnZXRBbGxSZXF1ZXN0ID0gZ2V0T2JqZWN0U3RvcmUoZGIsIGZhbHNlKS5nZXRBbGwoKTtcbiAgICAgIHJldHVybiBuZXcgREJQcm9taXNlPERCT2JqZWN0W10gfCBudWxsPihnZXRBbGxSZXF1ZXN0KS50b1Byb21pc2UoKTtcbiAgICB9KTtcblxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgaGF2ZSBwZW5kaW5nIHdyaXRlcyBpbiBwcm9ncmVzcyBhYm9ydCwgd2UnbGwgZ2V0IHBpY2tlZCB1cCBvbiB0aGUgbmV4dCBwb2xsXG4gICAgaWYgKHRoaXMucGVuZGluZ1dyaXRlcyAhPT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICBjb25zdCBrZXlzSW5SZXN1bHQgPSBuZXcgU2V0KCk7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggIT09IDApIHtcbiAgICAgIGZvciAoY29uc3QgeyBmYmFzZV9rZXk6IGtleSwgdmFsdWUgfSBvZiByZXN1bHQpIHtcbiAgICAgICAga2V5c0luUmVzdWx0LmFkZChrZXkpO1xuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodGhpcy5sb2NhbENhY2hlW2tleV0pICE9PSBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhrZXksIHZhbHVlIGFzIFBlcnNpc3RlbmNlVmFsdWUpO1xuICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBsb2NhbEtleSBvZiBPYmplY3Qua2V5cyh0aGlzLmxvY2FsQ2FjaGUpKSB7XG4gICAgICBpZiAodGhpcy5sb2NhbENhY2hlW2xvY2FsS2V5XSAmJiAha2V5c0luUmVzdWx0Lmhhcyhsb2NhbEtleSkpIHtcbiAgICAgICAgLy8gRGVsZXRlZFxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhsb2NhbEtleSwgbnVsbCk7XG4gICAgICAgIGtleXMucHVzaChsb2NhbEtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgcHJpdmF0ZSBub3RpZnlMaXN0ZW5lcnMoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgbmV3VmFsdWU6IFBlcnNpc3RlbmNlVmFsdWUgfCBudWxsXG4gICk6IHZvaWQge1xuICAgIHRoaXMubG9jYWxDYWNoZVtrZXldID0gbmV3VmFsdWU7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNba2V5XTtcbiAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIEFycmF5LmZyb20obGlzdGVuZXJzKSkge1xuICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGFydFBvbGxpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wUG9sbGluZygpO1xuXG4gICAgdGhpcy5wb2xsVGltZXIgPSBzZXRJbnRlcnZhbChcbiAgICAgIGFzeW5jICgpID0+IHRoaXMuX3BvbGwoKSxcbiAgICAgIF9QT0xMSU5HX0lOVEVSVkFMX01TXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RvcFBvbGxpbmcoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucG9sbFRpbWVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMucG9sbFRpbWVyKTtcbiAgICAgIHRoaXMucG9sbFRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBfYWRkTGlzdGVuZXIoa2V5OiBzdHJpbmcsIGxpc3RlbmVyOiBTdG9yYWdlRXZlbnRMaXN0ZW5lcik6IHZvaWQge1xuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmxpc3RlbmVycykubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzW2tleV0pIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0gPSBuZXcgU2V0KCk7XG4gICAgICAvLyBQb3B1bGF0ZSB0aGUgY2FjaGUgdG8gYXZvaWQgc3B1cmlvdXNseSB0cmlnZ2VyaW5nIG9uIGZpcnN0IHBvbGwuXG4gICAgICB2b2lkIHRoaXMuX2dldChrZXkpOyAvLyBUaGlzIGNhbiBoYXBwZW4gaW4gdGhlIGJhY2tncm91bmQgYXN5bmMgYW5kIHdlIGNhbiByZXR1cm4gaW1tZWRpYXRlbHkuXG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzW2tleV0uYWRkKGxpc3RlbmVyKTtcbiAgfVxuXG4gIF9yZW1vdmVMaXN0ZW5lcihrZXk6IHN0cmluZywgbGlzdGVuZXI6IFN0b3JhZ2VFdmVudExpc3RlbmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGlzdGVuZXJzW2tleV0pIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzW2tleV0uZGVsZXRlKGxpc3RlbmVyKTtcblxuICAgICAgaWYgKHRoaXMubGlzdGVuZXJzW2tleV0uc2l6ZSA9PT0gMCkge1xuICAgICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcnNba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5saXN0ZW5lcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5zdG9wUG9sbGluZygpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBQZXJzaXN0ZW5jZX0gb2YgdHlwZSBgTE9DQUxgIHVzaW5nIGBpbmRleGVkREJgXG4gKiBmb3IgdGhlIHVuZGVybHlpbmcgc3RvcmFnZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBpbmRleGVkREJMb2NhbFBlcnNpc3RlbmNlOiBQZXJzaXN0ZW5jZSA9IEluZGV4ZWREQkxvY2FsUGVyc2lzdGVuY2U7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgX3BlcmZvcm1BcGlSZXF1ZXN0LFxuICBFbmRwb2ludCxcbiAgSHR0cE1ldGhvZCxcbiAgX2FkZFRpZElmTmVjZXNzYXJ5XG59IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgSWRUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vbW9kZWwvaWRfdG9rZW4nO1xuaW1wb3J0IHsgTWZhRW5yb2xsbWVudCB9IGZyb20gJy4uL2FjY291bnRfbWFuYWdlbWVudC9tZmEnO1xuaW1wb3J0IHsgU2lnbkluV2l0aElkcFJlc3BvbnNlIH0gZnJvbSAnLi9pZHAnO1xuaW1wb3J0IHtcbiAgU2lnbkluV2l0aFBob25lTnVtYmVyUmVxdWVzdCxcbiAgU2lnbkluV2l0aFBob25lTnVtYmVyUmVzcG9uc2Vcbn0gZnJvbSAnLi9zbXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmFsaXplTWZhUmVzcG9uc2Uge1xuICBpZFRva2VuOiBzdHJpbmc7XG4gIHJlZnJlc2hUb2tlbjogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElkVG9rZW5NZmFSZXNwb25zZSBleHRlbmRzIElkVG9rZW5SZXNwb25zZSB7XG4gIG1mYVBlbmRpbmdDcmVkZW50aWFsPzogc3RyaW5nO1xuICBtZmFJbmZvPzogTWZhRW5yb2xsbWVudFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UGhvbmVNZmFTaWduSW5SZXF1ZXN0IHtcbiAgbWZhUGVuZGluZ0NyZWRlbnRpYWw6IHN0cmluZztcbiAgbWZhRW5yb2xsbWVudElkOiBzdHJpbmc7XG4gIHBob25lU2lnbkluSW5mbzoge1xuICAgIHJlY2FwdGNoYVRva2VuOiBzdHJpbmc7XG4gIH07XG4gIHRlbmFudElkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UGhvbmVNZmFTaWduSW5SZXNwb25zZSB7XG4gIHBob25lUmVzcG9uc2VJbmZvOiB7XG4gICAgc2Vzc2lvbkluZm86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2lnbkluUGhvbmVNZmEoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IFN0YXJ0UGhvbmVNZmFTaWduSW5SZXF1ZXN0XG4pOiBQcm9taXNlPFN0YXJ0UGhvbmVNZmFTaWduSW5SZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIFN0YXJ0UGhvbmVNZmFTaWduSW5SZXF1ZXN0LFxuICAgIFN0YXJ0UGhvbmVNZmFTaWduSW5SZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LlNUQVJUX01GQV9TSUdOX0lOLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmFsaXplUGhvbmVNZmFTaWduSW5SZXF1ZXN0IHtcbiAgbWZhUGVuZGluZ0NyZWRlbnRpYWw6IHN0cmluZztcbiAgcGhvbmVWZXJpZmljYXRpb25JbmZvOiBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXF1ZXN0O1xuICB0ZW5hbnRJZD86IHN0cmluZztcbn1cblxuLy8gVE9UUCBNRkEgU2lnbiBpbiBvbmx5IGhhcyBhIGZpbmFsaXplIHBoYXNlLiBQaG9uZSBNRkEgaGFzIGEgc3RhcnQgcGhhc2UgdG8gaW5pdGlhdGUgc2VuZGluZyBhblxuLy8gU01TIGFuZCBhIGZpbmFsaXplIHBoYXNlIHRvIGNvbXBsZXRlIHNpZ24gaW4uIFdpdGggVE9UUCwgdGhlIHVzZXIgYWxyZWFkeSBoYXMgdGhlIE9UUCBpbiB0aGVcbi8vIFRPVFAvQXV0aGVudGljYXRvciBhcHAuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmFsaXplVG90cE1mYVNpZ25JblJlcXVlc3Qge1xuICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogc3RyaW5nO1xuICB0b3RwVmVyaWZpY2F0aW9uSW5mbzogeyB2ZXJpZmljYXRpb25Db2RlOiBzdHJpbmcgfTtcbiAgdGVuYW50SWQ/OiBzdHJpbmc7XG4gIG1mYUVucm9sbG1lbnRJZDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpbmFsaXplUGhvbmVNZmFTaWduSW5SZXNwb25zZSBleHRlbmRzIEZpbmFsaXplTWZhUmVzcG9uc2Uge31cblxuZXhwb3J0IGludGVyZmFjZSBGaW5hbGl6ZVRvdHBNZmFTaWduSW5SZXNwb25zZSBleHRlbmRzIEZpbmFsaXplTWZhUmVzcG9uc2Uge31cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplU2lnbkluUGhvbmVNZmEoXG4gIGF1dGg6IEF1dGgsXG4gIHJlcXVlc3Q6IEZpbmFsaXplUGhvbmVNZmFTaWduSW5SZXF1ZXN0XG4pOiBQcm9taXNlPEZpbmFsaXplUGhvbmVNZmFTaWduSW5SZXNwb25zZT4ge1xuICByZXR1cm4gX3BlcmZvcm1BcGlSZXF1ZXN0PFxuICAgIEZpbmFsaXplUGhvbmVNZmFTaWduSW5SZXF1ZXN0LFxuICAgIEZpbmFsaXplUGhvbmVNZmFTaWduSW5SZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LkZJTkFMSVpFX01GQV9TSUdOX0lOLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemVTaWduSW5Ub3RwTWZhKFxuICBhdXRoOiBBdXRoLFxuICByZXF1ZXN0OiBGaW5hbGl6ZVRvdHBNZmFTaWduSW5SZXF1ZXN0XG4pOiBQcm9taXNlPEZpbmFsaXplVG90cE1mYVNpZ25JblJlc3BvbnNlPiB7XG4gIHJldHVybiBfcGVyZm9ybUFwaVJlcXVlc3Q8XG4gICAgRmluYWxpemVUb3RwTWZhU2lnbkluUmVxdWVzdCxcbiAgICBGaW5hbGl6ZVRvdHBNZmFTaWduSW5SZXNwb25zZVxuICA+KFxuICAgIGF1dGgsXG4gICAgSHR0cE1ldGhvZC5QT1NULFxuICAgIEVuZHBvaW50LkZJTkFMSVpFX01GQV9TSUdOX0lOLFxuICAgIF9hZGRUaWRJZk5lY2Vzc2FyeShhdXRoLCByZXF1ZXN0KVxuICApO1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdHlwZSBQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlID1cbiAgfCBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZVxuICB8IFNpZ25JbldpdGhJZHBSZXNwb25zZVxuICB8IElkVG9rZW5SZXNwb25zZTtcbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBSZWNhcHRjaGFQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7XG4gIFJlY2FwdGNoYSxcbiAgR3JlQ0FQVENIQVRvcExldmVsLFxuICBHcmVDQVBUQ0hBUmVuZGVyT3B0aW9uLFxuICBHcmVDQVBUQ0hBXG59IGZyb20gJy4vcmVjYXB0Y2hhJztcblxuZXhwb3J0IGNvbnN0IF9TT0xWRV9USU1FX01TID0gNTAwO1xuZXhwb3J0IGNvbnN0IF9FWFBJUkFUSU9OX1RJTUVfTVMgPSA2MF8wMDA7XG5leHBvcnQgY29uc3QgX1dJREdFVF9JRF9TVEFSVCA9IDFfMDAwXzAwMF8wMDBfMDAwO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdpZGdldCB7XG4gIGdldFJlc3BvbnNlOiAoKSA9PiBzdHJpbmcgfCBudWxsO1xuICBkZWxldGU6ICgpID0+IHZvaWQ7XG4gIGV4ZWN1dGU6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBNb2NrUmVDYXB0Y2hhIGltcGxlbWVudHMgUmVjYXB0Y2hhIHtcbiAgcHJpdmF0ZSBjb3VudGVyID0gX1dJREdFVF9JRF9TVEFSVDtcbiAgX3dpZGdldHMgPSBuZXcgTWFwPG51bWJlciwgV2lkZ2V0PigpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsKSB7fVxuXG4gIHJlbmRlcihcbiAgICBjb250YWluZXI6IHN0cmluZyB8IEhUTUxFbGVtZW50LFxuICAgIHBhcmFtZXRlcnM/OiBSZWNhcHRjaGFQYXJhbWV0ZXJzXG4gICk6IG51bWJlciB7XG4gICAgY29uc3QgaWQgPSB0aGlzLmNvdW50ZXI7XG4gICAgdGhpcy5fd2lkZ2V0cy5zZXQoXG4gICAgICBpZCxcbiAgICAgIG5ldyBNb2NrV2lkZ2V0KGNvbnRhaW5lciwgdGhpcy5hdXRoLm5hbWUsIHBhcmFtZXRlcnMgfHwge30pXG4gICAgKTtcbiAgICB0aGlzLmNvdW50ZXIrKztcbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICByZXNldChvcHRXaWRnZXRJZD86IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGlkID0gb3B0V2lkZ2V0SWQgfHwgX1dJREdFVF9JRF9TVEFSVDtcbiAgICB2b2lkIHRoaXMuX3dpZGdldHMuZ2V0KGlkKT8uZGVsZXRlKCk7XG4gICAgdGhpcy5fd2lkZ2V0cy5kZWxldGUoaWQpO1xuICB9XG5cbiAgZ2V0UmVzcG9uc2Uob3B0V2lkZ2V0SWQ/OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGNvbnN0IGlkID0gb3B0V2lkZ2V0SWQgfHwgX1dJREdFVF9JRF9TVEFSVDtcbiAgICByZXR1cm4gdGhpcy5fd2lkZ2V0cy5nZXQoaWQpPy5nZXRSZXNwb25zZSgpIHx8ICcnO1xuICB9XG5cbiAgYXN5bmMgZXhlY3V0ZShvcHRXaWRnZXRJZD86IG51bWJlciB8IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgaWQ6IG51bWJlciA9IChvcHRXaWRnZXRJZCBhcyBudW1iZXIpIHx8IF9XSURHRVRfSURfU1RBUlQ7XG4gICAgdm9pZCB0aGlzLl93aWRnZXRzLmdldChpZCk/LmV4ZWN1dGUoKTtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vY2tHcmVDQVBUQ0hBVG9wTGV2ZWwgaW1wbGVtZW50cyBHcmVDQVBUQ0hBVG9wTGV2ZWwge1xuICBlbnRlcnByaXNlOiBHcmVDQVBUQ0hBID0gbmV3IE1vY2tHcmVDQVBUQ0hBKCk7XG4gIHJlYWR5KGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuXG4gIGV4ZWN1dGUoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIF9zaXRlS2V5OiBzdHJpbmcsXG4gICAgX29wdGlvbnM6IHsgYWN0aW9uOiBzdHJpbmcgfVxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ3Rva2VuJyk7XG4gIH1cbiAgcmVuZGVyKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBfY29udGFpbmVyOiBzdHJpbmcgfCBIVE1MRWxlbWVudCxcbiAgICBfcGFyYW1ldGVyczogR3JlQ0FQVENIQVJlbmRlck9wdGlvblxuICApOiBzdHJpbmcge1xuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9ja0dyZUNBUFRDSEEgaW1wbGVtZW50cyBHcmVDQVBUQ0hBIHtcbiAgcmVhZHkoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG5cbiAgZXhlY3V0ZShcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgX3NpdGVLZXk6IHN0cmluZyxcbiAgICBfb3B0aW9uczogeyBhY3Rpb246IHN0cmluZyB9XG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgndG9rZW4nKTtcbiAgfVxuICByZW5kZXIoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIF9jb250YWluZXI6IHN0cmluZyB8IEhUTUxFbGVtZW50LFxuICAgIF9wYXJhbWV0ZXJzOiBHcmVDQVBUQ0hBUmVuZGVyT3B0aW9uXG4gICk6IHN0cmluZyB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2NrV2lkZ2V0IHtcbiAgcHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHJlYWRvbmx5IGlzVmlzaWJsZTogYm9vbGVhbjtcbiAgcHJpdmF0ZSB0aW1lcklkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBkZWxldGVkID0gZmFsc2U7XG4gIHByaXZhdGUgcmVzcG9uc2VUb2tlbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2xpY2tIYW5kbGVyID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuZXhlY3V0ZSgpO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbnRhaW5lck9ySWQ6IHN0cmluZyB8IEhUTUxFbGVtZW50LFxuICAgIGFwcE5hbWU6IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhcmFtczogUmVjYXB0Y2hhUGFyYW1ldGVyc1xuICApIHtcbiAgICBjb25zdCBjb250YWluZXIgPVxuICAgICAgdHlwZW9mIGNvbnRhaW5lck9ySWQgPT09ICdzdHJpbmcnXG4gICAgICAgID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVyT3JJZClcbiAgICAgICAgOiBjb250YWluZXJPcklkO1xuICAgIF9hc3NlcnQoY29udGFpbmVyLCBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SLCB7IGFwcE5hbWUgfSk7XG5cbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLmlzVmlzaWJsZSA9IHRoaXMucGFyYW1zLnNpemUgIT09ICdpbnZpc2libGUnO1xuICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xuICAgICAgdGhpcy5leGVjdXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpO1xuICAgIH1cbiAgfVxuXG4gIGdldFJlc3BvbnNlKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHRoaXMuY2hlY2tJZkRlbGV0ZWQoKTtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVRva2VuO1xuICB9XG5cbiAgZGVsZXRlKCk6IHZvaWQge1xuICAgIHRoaXMuY2hlY2tJZkRlbGV0ZWQoKTtcbiAgICB0aGlzLmRlbGV0ZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLnRpbWVySWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO1xuICAgICAgdGhpcy50aW1lcklkID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlcik7XG4gIH1cblxuICBleGVjdXRlKCk6IHZvaWQge1xuICAgIHRoaXMuY2hlY2tJZkRlbGV0ZWQoKTtcbiAgICBpZiAodGhpcy50aW1lcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy50aW1lcklkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5yZXNwb25zZVRva2VuID0gZ2VuZXJhdGVSYW5kb21BbHBoYU51bWVyaWNTdHJpbmcoNTApO1xuICAgICAgY29uc3QgeyBjYWxsYmFjaywgJ2V4cGlyZWQtY2FsbGJhY2snOiBleHBpcmVkQ2FsbGJhY2sgfSA9IHRoaXMucGFyYW1zO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2FsbGJhY2sodGhpcy5yZXNwb25zZVRva2VuKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cblxuICAgICAgdGhpcy50aW1lcklkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnRpbWVySWQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlc3BvbnNlVG9rZW4gPSBudWxsO1xuICAgICAgICBpZiAoZXhwaXJlZENhbGxiYWNrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4cGlyZWRDYWxsYmFjaygpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX0VYUElSQVRJT05fVElNRV9NUyk7XG4gICAgfSwgX1NPTFZFX1RJTUVfTVMpO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0lmRGVsZXRlZCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kZWxldGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlQ0FQVENIQSBtb2NrIHdhcyBhbHJlYWR5IGRlbGV0ZWQhJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tQWxwaGFOdW1lcmljU3RyaW5nKGxlbjogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3QgY2hhcnMgPSBbXTtcbiAgY29uc3QgYWxsb3dlZENoYXJzID1cbiAgICAnMTIzNDU2Nzg5MGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY2hhcnMucHVzaChcbiAgICAgIGFsbG93ZWRDaGFycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYWxsb3dlZENoYXJzLmxlbmd0aCkpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2hhcnMuam9pbignJyk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgcXVlcnlzdHJpbmcgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0LCBfY3JlYXRlRXJyb3IgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IERlbGF5IH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2RlbGF5JztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgX3dpbmRvdyB9IGZyb20gJy4uL2F1dGhfd2luZG93JztcbmltcG9ydCAqIGFzIGpzSGVscGVycyBmcm9tICcuLi9sb2FkX2pzJztcbmltcG9ydCB7IFJlY2FwdGNoYSwgaXNWMiB9IGZyb20gJy4vcmVjYXB0Y2hhJztcbmltcG9ydCB7IE1vY2tSZUNhcHRjaGEgfSBmcm9tICcuL3JlY2FwdGNoYV9tb2NrJztcblxuLy8gUmVDYXB0Y2hhIHdpbGwgbG9hZCB1c2luZyB0aGUgc2FtZSBjYWxsYmFjaywgc28gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIG5lZWRzXG4vLyB0byBiZSBrZXB0IGFyb3VuZFxuZXhwb3J0IGNvbnN0IF9KU0xPQURfQ0FMTEJBQ0sgPSBqc0hlbHBlcnMuX2dlbmVyYXRlQ2FsbGJhY2tOYW1lKCdyY2InKTtcbmNvbnN0IE5FVFdPUktfVElNRU9VVF9ERUxBWSA9IG5ldyBEZWxheSgzMDAwMCwgNjAwMDApO1xuXG4vKipcbiAqIFdlIG5lZWQgdG8gbWFyayB0aGlzIGludGVyZmFjZSBhcyBpbnRlcm5hbCBleHBsaWNpdGx5IHRvIGV4Y2x1ZGUgaXQgaW4gdGhlIHB1YmxpYyB0eXBpbmdzLCBiZWNhdXNlXG4gKiBpdCByZWZlcmVuY2VzIEF1dGhJbnRlcm5hbCB3aGljaCBoYXMgYSBjaXJjdWxhciBkZXBlbmRlbmN5IHdpdGggVXNlckludGVybmFsLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlQ2FwdGNoYUxvYWRlciB7XG4gIGxvYWQoYXV0aDogQXV0aEludGVybmFsLCBobD86IHN0cmluZyk6IFByb21pc2U8UmVjYXB0Y2hhPjtcbiAgY2xlYXJlZE9uZUluc3RhbmNlKCk6IHZvaWQ7XG59XG5cbi8qKlxuICogTG9hZGVyIGZvciB0aGUgR1JlQ2FwdGNoYSBsaWJyYXJ5LiBUaGVyZSBzaG91bGQgb25seSBldmVyIGJlIG9uZSBvZiB0aGlzLlxuICovXG5leHBvcnQgY2xhc3MgUmVDYXB0Y2hhTG9hZGVySW1wbCBpbXBsZW1lbnRzIFJlQ2FwdGNoYUxvYWRlciB7XG4gIHByaXZhdGUgaG9zdExhbmd1YWdlID0gJyc7XG4gIHByaXZhdGUgY291bnRlciA9IDA7XG4gIC8qKlxuICAgKiBDaGVjayBmb3IgYHJlbmRlcigpYCBtZXRob2QuIGB3aW5kb3cuZ3JlY2FwdGNoYWAgd2lsbCBleGlzdCBpZiB0aGUgRW50ZXJwcmlzZVxuICAgKiB2ZXJzaW9uIG9mIHRoZSBSZUNBUFRDSEEgc2NyaXB0IHdhcyBsb2FkZWQgYnkgc29tZW9uZSBlbHNlIChlLmcuIEFwcCBDaGVjaykgYnV0XG4gICAqIGB3aW5kb3cuZ3JlY2FwdGNoYS5yZW5kZXIoKWAgd2lsbCBub3QuIEFub3RoZXIgbG9hZCB3aWxsIGFkZCBpdC5cbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgbGlicmFyeVNlcGFyYXRlbHlMb2FkZWQgPSAhIV93aW5kb3coKS5ncmVjYXB0Y2hhPy5yZW5kZXI7XG5cbiAgbG9hZChhdXRoOiBBdXRoSW50ZXJuYWwsIGhsID0gJycpOiBQcm9taXNlPFJlY2FwdGNoYT4ge1xuICAgIF9hc3NlcnQoaXNIb3N0TGFuZ3VhZ2VWYWxpZChobCksIGF1dGgsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuXG4gICAgaWYgKHRoaXMuc2hvdWxkUmVzb2x2ZUltbWVkaWF0ZWx5KGhsKSAmJiBpc1YyKF93aW5kb3coKS5ncmVjYXB0Y2hhKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfd2luZG93KCkuZ3JlY2FwdGNoYSEgYXMgUmVjYXB0Y2hhKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFJlY2FwdGNoYT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgbmV0d29ya1RpbWVvdXQgPSBfd2luZG93KCkuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlamVjdChfY3JlYXRlRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5ORVRXT1JLX1JFUVVFU1RfRkFJTEVEKSk7XG4gICAgICB9LCBORVRXT1JLX1RJTUVPVVRfREVMQVkuZ2V0KCkpO1xuXG4gICAgICBfd2luZG93KClbX0pTTE9BRF9DQUxMQkFDS10gPSAoKSA9PiB7XG4gICAgICAgIF93aW5kb3coKS5jbGVhclRpbWVvdXQobmV0d29ya1RpbWVvdXQpO1xuICAgICAgICBkZWxldGUgX3dpbmRvdygpW19KU0xPQURfQ0FMTEJBQ0tdO1xuXG4gICAgICAgIGNvbnN0IHJlY2FwdGNoYSA9IF93aW5kb3coKS5ncmVjYXB0Y2hhIGFzIFJlY2FwdGNoYTtcblxuICAgICAgICBpZiAoIXJlY2FwdGNoYSB8fCAhaXNWMihyZWNhcHRjaGEpKSB7XG4gICAgICAgICAgcmVqZWN0KF9jcmVhdGVFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV3JhcCB0aGUgcmVjYXB0Y2hhIHJlbmRlciBmdW5jdGlvbiBzbyB0aGF0IHdlIGtub3cgaWYgdGhlIGRldmVsb3BlciBoYXNcbiAgICAgICAgLy8gY2FsbGVkIGl0IHNlcGFyYXRlbHlcbiAgICAgICAgY29uc3QgcmVuZGVyID0gcmVjYXB0Y2hhLnJlbmRlcjtcbiAgICAgICAgcmVjYXB0Y2hhLnJlbmRlciA9IChjb250YWluZXIsIHBhcmFtcykgPT4ge1xuICAgICAgICAgIGNvbnN0IHdpZGdldElkID0gcmVuZGVyKGNvbnRhaW5lciwgcGFyYW1zKTtcbiAgICAgICAgICB0aGlzLmNvdW50ZXIrKztcbiAgICAgICAgICByZXR1cm4gd2lkZ2V0SWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5ob3N0TGFuZ3VhZ2UgPSBobDtcbiAgICAgICAgcmVzb2x2ZShyZWNhcHRjaGEpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgdXJsID0gYCR7anNIZWxwZXJzLl9yZWNhcHRjaGFWMlNjcmlwdFVybCgpfT8ke3F1ZXJ5c3RyaW5nKHtcbiAgICAgICAgb25sb2FkOiBfSlNMT0FEX0NBTExCQUNLLFxuICAgICAgICByZW5kZXI6ICdleHBsaWNpdCcsXG4gICAgICAgIGhsXG4gICAgICB9KX1gO1xuXG4gICAgICBqc0hlbHBlcnMuX2xvYWRKUyh1cmwpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KG5ldHdvcmtUaW1lb3V0KTtcbiAgICAgICAgcmVqZWN0KF9jcmVhdGVFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFyZWRPbmVJbnN0YW5jZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNvdW50ZXItLTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkUmVzb2x2ZUltbWVkaWF0ZWx5KGhsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAvLyBXZSBjYW4gcmVzb2x2ZSBpbW1lZGlhdGVseSBpZjpcbiAgICAvLyAgIOKAoiBncmVjYXB0Y2hhIGlzIGFscmVhZHkgZGVmaW5lZCBBTkQgKFxuICAgIC8vICAgICAxLiB0aGUgcmVxdWVzdGVkIGxhbmd1YWdlIGNvZGVzIGFyZSB0aGUgc2FtZSBPUlxuICAgIC8vICAgICAyLiB0aGVyZSBleGlzdHMgYWxyZWFkeSBhIFJlQ2FwdGNoYSBvbiB0aGUgcGFnZVxuICAgIC8vICAgICAzLiB0aGUgbGlicmFyeSB3YXMgYWxyZWFkeSBsb2FkZWQgYnkgdGhlIGFwcFxuICAgIC8vIEluIGNhc2VzICgyKSBhbmQgKDMpLCB3ZSBfY2FuJ3RfIHJlbG9hZCBhcyBpdCB3b3VsZCBicmVhayB0aGUgcmVjYXB0Y2hhc1xuICAgIC8vIHRoYXQgYXJlIGFscmVhZHkgaW4gdGhlIHBhZ2VcbiAgICByZXR1cm4gKFxuICAgICAgISFfd2luZG93KCkuZ3JlY2FwdGNoYT8ucmVuZGVyICYmXG4gICAgICAoaGwgPT09IHRoaXMuaG9zdExhbmd1YWdlIHx8XG4gICAgICAgIHRoaXMuY291bnRlciA+IDAgfHxcbiAgICAgICAgdGhpcy5saWJyYXJ5U2VwYXJhdGVseUxvYWRlZClcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzSG9zdExhbmd1YWdlVmFsaWQoaGw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gaGwubGVuZ3RoIDw9IDYgJiYgL15cXHMqW2EtekEtWjAtOVxcLV0qXFxzKiQvLnRlc3QoaGwpO1xufVxuXG5leHBvcnQgY2xhc3MgTW9ja1JlQ2FwdGNoYUxvYWRlckltcGwgaW1wbGVtZW50cyBSZUNhcHRjaGFMb2FkZXIge1xuICBhc3luYyBsb2FkKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8UmVjYXB0Y2hhPiB7XG4gICAgcmV0dXJuIG5ldyBNb2NrUmVDYXB0Y2hhKGF1dGgpO1xuICB9XG5cbiAgY2xlYXJlZE9uZUluc3RhbmNlKCk6IHZvaWQge31cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoLCBSZWNhcHRjaGFQYXJhbWV0ZXJzIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IGdldFJlY2FwdGNoYVBhcmFtcyB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9yZWNhcHRjaGEnO1xuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vLi4vY29yZS9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgX2lzSHR0cE9ySHR0cHMgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvbG9jYXRpb24nO1xuaW1wb3J0IHsgQXBwbGljYXRpb25WZXJpZmllckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXBwbGljYXRpb25fdmVyaWZpZXInO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBfd2luZG93IH0gZnJvbSAnLi4vYXV0aF93aW5kb3cnO1xuaW1wb3J0IHsgX2lzV29ya2VyIH0gZnJvbSAnLi4vdXRpbC93b3JrZXInO1xuaW1wb3J0IHsgUmVjYXB0Y2hhIH0gZnJvbSAnLi9yZWNhcHRjaGEnO1xuaW1wb3J0IHtcbiAgTW9ja1JlQ2FwdGNoYUxvYWRlckltcGwsXG4gIFJlQ2FwdGNoYUxvYWRlcixcbiAgUmVDYXB0Y2hhTG9hZGVySW1wbFxufSBmcm9tICcuL3JlY2FwdGNoYV9sb2FkZXInO1xuXG5leHBvcnQgY29uc3QgUkVDQVBUQ0hBX1ZFUklGSUVSX1RZUEUgPSAncmVjYXB0Y2hhJztcblxuY29uc3QgREVGQVVMVF9QQVJBTVM6IFJlY2FwdGNoYVBhcmFtZXRlcnMgPSB7XG4gIHRoZW1lOiAnbGlnaHQnLFxuICB0eXBlOiAnaW1hZ2UnXG59O1xuXG50eXBlIFRva2VuQ2FsbGJhY2sgPSAodG9rZW46IHN0cmluZykgPT4gdm9pZDtcblxuLyoqXG4gKiBBbiB7QGxpbmsgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvIHwgcmVDQVBUQ0hBfS1iYXNlZCBhcHBsaWNhdGlvbiB2ZXJpZmllci5cbiAqXG4gKiBAcmVtYXJrc1xuICogYFJlY2FwdGNoYVZlcmlmaWVyYCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWNhcHRjaGFWZXJpZmllciBpbXBsZW1lbnRzIEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbCB7XG4gIC8qKlxuICAgKiBUaGUgYXBwbGljYXRpb24gdmVyaWZpZXIgdHlwZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogRm9yIGEgcmVDQVBUQ0hBIHZlcmlmaWVyLCB0aGlzIGlzICdyZWNhcHRjaGEnLlxuICAgKi9cbiAgcmVhZG9ubHkgdHlwZSA9IFJFQ0FQVENIQV9WRVJJRklFUl9UWVBFO1xuICBwcml2YXRlIGRlc3Ryb3llZCA9IGZhbHNlO1xuICBwcml2YXRlIHdpZGdldElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSByZWFkb25seSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHJlYWRvbmx5IGlzSW52aXNpYmxlOiBib29sZWFuO1xuICBwcml2YXRlIHJlYWRvbmx5IHRva2VuQ2hhbmdlTGlzdGVuZXJzID0gbmV3IFNldDxUb2tlbkNhbGxiYWNrPigpO1xuICBwcml2YXRlIHJlbmRlclByb21pc2U6IFByb21pc2U8bnVtYmVyPiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHJlYWRvbmx5IGF1dGg6IEF1dGhJbnRlcm5hbDtcblxuICAvKiogQGludGVybmFsICovXG4gIHJlYWRvbmx5IF9yZWNhcHRjaGFMb2FkZXI6IFJlQ2FwdGNoYUxvYWRlcjtcbiAgcHJpdmF0ZSByZWNhcHRjaGE6IFJlY2FwdGNoYSB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gYXV0aEV4dGVybiAtIFRoZSBjb3JyZXNwb25kaW5nIEZpcmViYXNlIHtAbGluayBBdXRofSBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIGNvbnRhaW5lck9ySWQgLSBUaGUgcmVDQVBUQ0hBIGNvbnRhaW5lciBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFRoaXMgaGFzIGRpZmZlcmVudCBtZWFuaW5nIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSByZUNBUFRDSEEgaXMgaGlkZGVuIG9yIHZpc2libGUuIEZvciBhXG4gICAqIHZpc2libGUgcmVDQVBUQ0hBIHRoZSBjb250YWluZXIgbXVzdCBiZSBlbXB0eS4gSWYgYSBzdHJpbmcgaXMgdXNlZCwgaXQgaGFzIHRvIGNvcnJlc3BvbmQgdG9cbiAgICogYW4gZWxlbWVudCBJRC4gVGhlIGNvcnJlc3BvbmRpbmcgZWxlbWVudCBtdXN0IGFsc28gbXVzdCBiZSBpbiB0aGUgRE9NIGF0IHRoZSB0aW1lIG9mXG4gICAqIGluaXRpYWxpemF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIFRoZSBvcHRpb25hbCByZUNBUFRDSEEgcGFyYW1ldGVycy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogQ2hlY2sgdGhlIHJlQ0FQVENIQSBkb2NzIGZvciBhIGNvbXByZWhlbnNpdmUgbGlzdC4gQWxsIHBhcmFtZXRlcnMgYXJlIGFjY2VwdGVkIGV4Y2VwdCBmb3JcbiAgICogdGhlIHNpdGVrZXkuIEZpcmViYXNlIEF1dGggYmFja2VuZCBwcm92aXNpb25zIGEgcmVDQVBUQ0hBIGZvciBlYWNoIHByb2plY3QgYW5kIHdpbGxcbiAgICogY29uZmlndXJlIHRoaXMgdXBvbiByZW5kZXJpbmcuIEZvciBhbiBpbnZpc2libGUgcmVDQVBUQ0hBLCBhIHNpemUga2V5IG11c3QgaGF2ZSB0aGUgdmFsdWVcbiAgICogJ2ludmlzaWJsZScuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBhdXRoRXh0ZXJuOiBBdXRoLFxuICAgIGNvbnRhaW5lck9ySWQ6IEhUTUxFbGVtZW50IHwgc3RyaW5nLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFyYW1ldGVyczogUmVjYXB0Y2hhUGFyYW1ldGVycyA9IHtcbiAgICAgIC4uLkRFRkFVTFRfUEFSQU1TXG4gICAgfVxuICApIHtcbiAgICB0aGlzLmF1dGggPSBfY2FzdEF1dGgoYXV0aEV4dGVybik7XG4gICAgdGhpcy5pc0ludmlzaWJsZSA9IHRoaXMucGFyYW1ldGVycy5zaXplID09PSAnaW52aXNpYmxlJztcbiAgICBfYXNzZXJ0KFxuICAgICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyxcbiAgICAgIHRoaXMuYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9TVVBQT1JURURcbiAgICApO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9XG4gICAgICB0eXBlb2YgY29udGFpbmVyT3JJZCA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJPcklkKVxuICAgICAgICA6IGNvbnRhaW5lck9ySWQ7XG4gICAgX2Fzc2VydChjb250YWluZXIsIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUik7XG5cbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnBhcmFtZXRlcnMuY2FsbGJhY2sgPSB0aGlzLm1ha2VUb2tlbkNhbGxiYWNrKHRoaXMucGFyYW1ldGVycy5jYWxsYmFjayk7XG5cbiAgICB0aGlzLl9yZWNhcHRjaGFMb2FkZXIgPSB0aGlzLmF1dGguc2V0dGluZ3MuYXBwVmVyaWZpY2F0aW9uRGlzYWJsZWRGb3JUZXN0aW5nXG4gICAgICA/IG5ldyBNb2NrUmVDYXB0Y2hhTG9hZGVySW1wbCgpXG4gICAgICA6IG5ldyBSZUNhcHRjaGFMb2FkZXJJbXBsKCk7XG5cbiAgICB0aGlzLnZhbGlkYXRlU3RhcnRpbmdTdGF0ZSgpO1xuICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgaWYgc2RrIHZlcnNpb24gaXMgbmVlZGVkXG4gIH1cblxuICAvKipcbiAgICogV2FpdHMgZm9yIHRoZSB1c2VyIHRvIHNvbHZlIHRoZSByZUNBUFRDSEEgYW5kIHJlc29sdmVzIHdpdGggdGhlIHJlQ0FQVENIQSB0b2tlbi5cbiAgICpcbiAgICogQHJldHVybnMgQSBQcm9taXNlIGZvciB0aGUgcmVDQVBUQ0hBIHRva2VuLlxuICAgKi9cbiAgYXN5bmMgdmVyaWZ5KCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtcbiAgICBjb25zdCBpZCA9IGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgY29uc3QgcmVjYXB0Y2hhID0gdGhpcy5nZXRBc3NlcnRlZFJlY2FwdGNoYSgpO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSByZWNhcHRjaGEuZ2V0UmVzcG9uc2UoaWQpO1xuICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgdG9rZW5DaGFuZ2UgPSAodG9rZW46IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBJZ25vcmUgdG9rZW4gZXhwaXJhdGlvbnMuXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b2tlbkNoYW5nZUxpc3RlbmVycy5kZWxldGUodG9rZW5DaGFuZ2UpO1xuICAgICAgICByZXNvbHZlKHRva2VuKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMudG9rZW5DaGFuZ2VMaXN0ZW5lcnMuYWRkKHRva2VuQ2hhbmdlKTtcbiAgICAgIGlmICh0aGlzLmlzSW52aXNpYmxlKSB7XG4gICAgICAgIHJlY2FwdGNoYS5leGVjdXRlKGlkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHRoZSByZUNBUFRDSEEgd2lkZ2V0IG9uIHRoZSBwYWdlLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZUNBUFRDSEEgd2lkZ2V0IElELlxuICAgKi9cbiAgcmVuZGVyKCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gVGhpcyBtZXRob2QgcmV0dXJucyBhIHByb21pc2UuIFNpbmNlIGl0J3Mgbm90IGFzeW5jICh3ZSB3YW50IHRvIHJldHVybiB0aGVcbiAgICAgIC8vIF9zYW1lXyBwcm9taXNlIGlmIHJlbmRlcmluZyBpcyBzdGlsbCBvY2N1cnJpbmcpLCB0aGUgQVBJIHN1cmZhY2Ugc2hvdWxkXG4gICAgICAvLyByZWplY3Qgd2l0aCB0aGUgZXJyb3IgcmF0aGVyIHRoYW4ganVzdCB0aHJvd1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJlbmRlclByb21pc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlclByb21pc2U7XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJQcm9taXNlID0gdGhpcy5tYWtlUmVuZGVyUHJvbWlzZSgpLmNhdGNoKGUgPT4ge1xuICAgICAgdGhpcy5yZW5kZXJQcm9taXNlID0gbnVsbDtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJQcm9taXNlO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtcbiAgICBpZiAodGhpcy53aWRnZXRJZCAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5nZXRBc3NlcnRlZFJlY2FwdGNoYSgpLnJlc2V0KHRoaXMud2lkZ2V0SWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHJlQ0FQVENIQSB3aWRnZXQgZnJvbSB0aGUgcGFnZSBhbmQgZGVzdHJveXMgdGhlIGluc3RhbmNlLlxuICAgKi9cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgdGhpcy5fcmVjYXB0Y2hhTG9hZGVyLmNsZWFyZWRPbmVJbnN0YW5jZSgpO1xuICAgIGlmICghdGhpcy5pc0ludmlzaWJsZSkge1xuICAgICAgdGhpcy5jb250YWluZXIuY2hpbGROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdmFsaWRhdGVTdGFydGluZ1N0YXRlKCk6IHZvaWQge1xuICAgIF9hc3NlcnQoIXRoaXMucGFyYW1ldGVycy5zaXRla2V5LCB0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuICAgIF9hc3NlcnQoXG4gICAgICB0aGlzLmlzSW52aXNpYmxlIHx8ICF0aGlzLmNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCksXG4gICAgICB0aGlzLmF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLkFSR1VNRU5UX0VSUk9SXG4gICAgKTtcbiAgICBfYXNzZXJ0KFxuICAgICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyxcbiAgICAgIHRoaXMuYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuT1BFUkFUSU9OX05PVF9TVVBQT1JURURcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBtYWtlVG9rZW5DYWxsYmFjayhcbiAgICBleGlzdGluZzogVG9rZW5DYWxsYmFjayB8IHN0cmluZyB8IHVuZGVmaW5lZFxuICApOiBUb2tlbkNhbGxiYWNrIHtcbiAgICByZXR1cm4gdG9rZW4gPT4ge1xuICAgICAgdGhpcy50b2tlbkNoYW5nZUxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKHRva2VuKSk7XG4gICAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV4aXN0aW5nKHRva2VuKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBnbG9iYWxGdW5jID0gX3dpbmRvdygpW2V4aXN0aW5nXTtcbiAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWxGdW5jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZ2xvYmFsRnVuYyh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBhc3NlcnROb3REZXN0cm95ZWQoKTogdm9pZCB7XG4gICAgX2Fzc2VydCghdGhpcy5kZXN0cm95ZWQsIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIG1ha2VSZW5kZXJQcm9taXNlKCk6IFByb21pc2U8bnVtYmVyPiB7XG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgaWYgKCF0aGlzLndpZGdldElkKSB7XG4gICAgICBsZXQgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICBpZiAoIXRoaXMuaXNJbnZpc2libGUpIHtcbiAgICAgICAgY29uc3QgZ3VhcmFudGVlZEVtcHR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChndWFyYW50ZWVkRW1wdHkpO1xuICAgICAgICBjb250YWluZXIgPSBndWFyYW50ZWVkRW1wdHk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMud2lkZ2V0SWQgPSB0aGlzLmdldEFzc2VydGVkUmVjYXB0Y2hhKCkucmVuZGVyKFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHRoaXMucGFyYW1ldGVyc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy53aWRnZXRJZDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBfYXNzZXJ0KFxuICAgICAgX2lzSHR0cE9ySHR0cHMoKSAmJiAhX2lzV29ya2VyKCksXG4gICAgICB0aGlzLmF1dGgsXG4gICAgICBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SXG4gICAgKTtcblxuICAgIGF3YWl0IGRvbVJlYWR5KCk7XG4gICAgdGhpcy5yZWNhcHRjaGEgPSBhd2FpdCB0aGlzLl9yZWNhcHRjaGFMb2FkZXIubG9hZChcbiAgICAgIHRoaXMuYXV0aCxcbiAgICAgIHRoaXMuYXV0aC5sYW5ndWFnZUNvZGUgfHwgdW5kZWZpbmVkXG4gICAgKTtcblxuICAgIGNvbnN0IHNpdGVLZXkgPSBhd2FpdCBnZXRSZWNhcHRjaGFQYXJhbXModGhpcy5hdXRoKTtcbiAgICBfYXNzZXJ0KHNpdGVLZXksIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgdGhpcy5wYXJhbWV0ZXJzLnNpdGVrZXkgPSBzaXRlS2V5O1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRBc3NlcnRlZFJlY2FwdGNoYSgpOiBSZWNhcHRjaGEge1xuICAgIF9hc3NlcnQodGhpcy5yZWNhcHRjaGEsIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgcmV0dXJuIHRoaXMucmVjYXB0Y2hhO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRvbVJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xuICBsZXQgcmVzb2x2ZXI6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEb2N1bWVudCBub3QgcmVhZHksIHdhaXQgZm9yIGxvYWQgYmVmb3JlIHJlc29sdmluZy5cbiAgICAvLyBTYXZlIHJlc29sdmVyLCBzbyB3ZSBjYW4gcmVtb3ZlIGxpc3RlbmVyIGluIGNhc2UgaXQgd2FzIGV4dGVybmFsbHlcbiAgICAvLyBjYW5jZWxsZWQuXG4gICAgcmVzb2x2ZXIgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXNvbHZlcik7XG4gIH0pLmNhdGNoKGUgPT4ge1xuICAgIGlmIChyZXNvbHZlcikge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXNvbHZlcik7XG4gICAgfVxuXG4gICAgdGhyb3cgZTtcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQXBwbGljYXRpb25WZXJpZmllcixcbiAgQXV0aCxcbiAgQ29uZmlybWF0aW9uUmVzdWx0LFxuICBQaG9uZUluZm9PcHRpb25zLFxuICBVc2VyLFxuICBVc2VyQ3JlZGVudGlhbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBzdGFydEVucm9sbFBob25lTWZhIH0gZnJvbSAnLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9tZmEnO1xuaW1wb3J0IHsgc3RhcnRTaWduSW5QaG9uZU1mYSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9tZmEnO1xuaW1wb3J0IHsgc2VuZFBob25lVmVyaWZpY2F0aW9uQ29kZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9zbXMnO1xuaW1wb3J0IHsgQXBwbGljYXRpb25WZXJpZmllckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXBwbGljYXRpb25fdmVyaWZpZXInO1xuaW1wb3J0IHsgUGhvbmVBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL2NvcmUvY3JlZGVudGlhbHMvcGhvbmUnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnRMaW5rZWRTdGF0dXMsIF9saW5rIH0gZnJvbSAnLi4vLi4vY29yZS91c2VyL2xpbmtfdW5saW5rJztcbmltcG9ydCB7XG4gIF9hc3NlcnQsXG4gIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yXG59IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQge1xuICBsaW5rV2l0aENyZWRlbnRpYWwsXG4gIHJlYXV0aGVudGljYXRlV2l0aENyZWRlbnRpYWwsXG4gIHNpZ25JbldpdGhDcmVkZW50aWFsXG59IGZyb20gJy4uLy4uL2NvcmUvc3RyYXRlZ2llcy9jcmVkZW50aWFsJztcbmltcG9ydCB7XG4gIE11bHRpRmFjdG9yU2Vzc2lvbkltcGwsXG4gIE11bHRpRmFjdG9yU2Vzc2lvblR5cGVcbn0gZnJvbSAnLi4vLi4vbWZhL21mYV9zZXNzaW9uJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgUkVDQVBUQ0hBX1ZFUklGSUVSX1RZUEUgfSBmcm9tICcuLi9yZWNhcHRjaGEvcmVjYXB0Y2hhX3ZlcmlmaWVyJztcbmltcG9ydCB7IF9jYXN0QXV0aCB9IGZyb20gJy4uLy4uL2NvcmUvYXV0aC9hdXRoX2ltcGwnO1xuaW1wb3J0IHsgZ2V0TW9kdWxhckluc3RhbmNlIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgUHJvdmlkZXJJZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbmludGVyZmFjZSBPbkNvbmZpcm1hdGlvbkNhbGxiYWNrIHtcbiAgKGNyZWRlbnRpYWw6IFBob25lQXV0aENyZWRlbnRpYWwpOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPjtcbn1cblxuY2xhc3MgQ29uZmlybWF0aW9uUmVzdWx0SW1wbCBpbXBsZW1lbnRzIENvbmZpcm1hdGlvblJlc3VsdCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHJlYWRvbmx5IHZlcmlmaWNhdGlvbklkOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBvbkNvbmZpcm1hdGlvbjogT25Db25maXJtYXRpb25DYWxsYmFja1xuICApIHt9XG5cbiAgY29uZmlybSh2ZXJpZmljYXRpb25Db2RlOiBzdHJpbmcpOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gICAgY29uc3QgYXV0aENyZWRlbnRpYWwgPSBQaG9uZUF1dGhDcmVkZW50aWFsLl9mcm9tVmVyaWZpY2F0aW9uKFxuICAgICAgdGhpcy52ZXJpZmljYXRpb25JZCxcbiAgICAgIHZlcmlmaWNhdGlvbkNvZGVcbiAgICApO1xuICAgIHJldHVybiB0aGlzLm9uQ29uZmlybWF0aW9uKGF1dGhDcmVkZW50aWFsKTtcbiAgfVxufVxuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNpZ25zIGluIHVzaW5nIGEgcGhvbmUgbnVtYmVyLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIG1ldGhvZCBzZW5kcyBhIGNvZGUgdmlhIFNNUyB0byB0aGUgZ2l2ZW5cbiAqIHBob25lIG51bWJlciwgYW5kIHJldHVybnMgYSB7QGxpbmsgQ29uZmlybWF0aW9uUmVzdWx0fS4gQWZ0ZXIgdGhlIHVzZXJcbiAqIHByb3ZpZGVzIHRoZSBjb2RlIHNlbnQgdG8gdGhlaXIgcGhvbmUsIGNhbGwge0BsaW5rIENvbmZpcm1hdGlvblJlc3VsdC5jb25maXJtfVxuICogd2l0aCB0aGUgY29kZSB0byBzaWduIHRoZSB1c2VyIGluLlxuICpcbiAqIEZvciBhYnVzZSBwcmV2ZW50aW9uLCB0aGlzIG1ldGhvZCBhbHNvIHJlcXVpcmVzIGEge0BsaW5rIEFwcGxpY2F0aW9uVmVyaWZpZXJ9LlxuICogVGhpcyBTREsgaW5jbHVkZXMgYSByZUNBUFRDSEEtYmFzZWQgaW1wbGVtZW50YXRpb24sIHtAbGluayBSZWNhcHRjaGFWZXJpZmllcn0uXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiB3b3JrIG9uIG90aGVyIHBsYXRmb3JtcyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZVxuICoge0BsaW5rIFJlY2FwdGNoYVZlcmlmaWVyfSAobGlrZSBSZWFjdCBOYXRpdmUpLCBidXQgeW91IG5lZWQgdG8gdXNlIGFcbiAqIHRoaXJkLXBhcnR5IHtAbGluayBBcHBsaWNhdGlvblZlcmlmaWVyfSBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciB3aXRoIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gJ3JlY2FwdGNoYS1jb250YWluZXInIGlzIHRoZSBJRCBvZiBhbiBlbGVtZW50IGluIHRoZSBET00uXG4gKiBjb25zdCBhcHBsaWNhdGlvblZlcmlmaWVyID0gbmV3IGZpcmViYXNlLmF1dGguUmVjYXB0Y2hhVmVyaWZpZXIoJ3JlY2FwdGNoYS1jb250YWluZXInKTtcbiAqIGNvbnN0IGNvbmZpcm1hdGlvblJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQaG9uZU51bWJlcihhdXRoLCBwaG9uZU51bWJlciwgYXBwbGljYXRpb25WZXJpZmllcik7XG4gKiAvLyBPYnRhaW4gYSB2ZXJpZmljYXRpb25Db2RlIGZyb20gdGhlIHVzZXIuXG4gKiBjb25zdCBjcmVkZW50aWFsID0gYXdhaXQgY29uZmlybWF0aW9uUmVzdWx0LmNvbmZpcm0odmVyaWZpY2F0aW9uQ29kZSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aCAtIFRoZSB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG4gKiBAcGFyYW0gcGhvbmVOdW1iZXIgLSBUaGUgdXNlcidzIHBob25lIG51bWJlciBpbiBFLjE2NCBmb3JtYXQgKGUuZy4gKzE2NTA1NTUwMTAxKS5cbiAqIEBwYXJhbSBhcHBWZXJpZmllciAtIFRoZSB7QGxpbmsgQXBwbGljYXRpb25WZXJpZmllcn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aFBob25lTnVtYmVyKFxuICBhdXRoOiBBdXRoLFxuICBwaG9uZU51bWJlcjogc3RyaW5nLFxuICBhcHBWZXJpZmllcjogQXBwbGljYXRpb25WZXJpZmllclxuKTogUHJvbWlzZTxDb25maXJtYXRpb25SZXN1bHQ+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKGF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCBhdXRoSW50ZXJuYWwgPSBfY2FzdEF1dGgoYXV0aCk7XG4gIGNvbnN0IHZlcmlmaWNhdGlvbklkID0gYXdhaXQgX3ZlcmlmeVBob25lTnVtYmVyKFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICBwaG9uZU51bWJlcixcbiAgICBnZXRNb2R1bGFySW5zdGFuY2UoYXBwVmVyaWZpZXIgYXMgQXBwbGljYXRpb25WZXJpZmllckludGVybmFsKVxuICApO1xuICByZXR1cm4gbmV3IENvbmZpcm1hdGlvblJlc3VsdEltcGwodmVyaWZpY2F0aW9uSWQsIGNyZWQgPT5cbiAgICBzaWduSW5XaXRoQ3JlZGVudGlhbChhdXRoSW50ZXJuYWwsIGNyZWQpXG4gICk7XG59XG5cbi8qKlxuICogTGlua3MgdGhlIHVzZXIgYWNjb3VudCB3aXRoIHRoZSBnaXZlbiBwaG9uZSBudW1iZXIuXG4gKlxuICogQHJlbWFya3NcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LlxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gcGhvbmVOdW1iZXIgLSBUaGUgdXNlcidzIHBob25lIG51bWJlciBpbiBFLjE2NCBmb3JtYXQgKGUuZy4gKzE2NTA1NTUwMTAxKS5cbiAqIEBwYXJhbSBhcHBWZXJpZmllciAtIFRoZSB7QGxpbmsgQXBwbGljYXRpb25WZXJpZmllcn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlua1dpdGhQaG9uZU51bWJlcihcbiAgdXNlcjogVXNlcixcbiAgcGhvbmVOdW1iZXI6IHN0cmluZyxcbiAgYXBwVmVyaWZpZXI6IEFwcGxpY2F0aW9uVmVyaWZpZXJcbik6IFByb21pc2U8Q29uZmlybWF0aW9uUmVzdWx0PiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGF3YWl0IF9hc3NlcnRMaW5rZWRTdGF0dXMoZmFsc2UsIHVzZXJJbnRlcm5hbCwgUHJvdmlkZXJJZC5QSE9ORSk7XG4gIGNvbnN0IHZlcmlmaWNhdGlvbklkID0gYXdhaXQgX3ZlcmlmeVBob25lTnVtYmVyKFxuICAgIHVzZXJJbnRlcm5hbC5hdXRoLFxuICAgIHBob25lTnVtYmVyLFxuICAgIGdldE1vZHVsYXJJbnN0YW5jZShhcHBWZXJpZmllciBhcyBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWwpXG4gICk7XG4gIHJldHVybiBuZXcgQ29uZmlybWF0aW9uUmVzdWx0SW1wbCh2ZXJpZmljYXRpb25JZCwgY3JlZCA9PlxuICAgIGxpbmtXaXRoQ3JlZGVudGlhbCh1c2VySW50ZXJuYWwsIGNyZWQpXG4gICk7XG59XG5cbi8qKlxuICogUmUtYXV0aGVudGljYXRlcyBhIHVzZXIgdXNpbmcgYSBmcmVzaCBwaG9uZSBjcmVkZW50aWFsLlxuICpcbiAqIEByZW1hcmtzXG4gKiBVc2UgYmVmb3JlIG9wZXJhdGlvbnMgc3VjaCBhcyB7QGxpbmsgdXBkYXRlUGFzc3dvcmR9IHRoYXQgcmVxdWlyZSB0b2tlbnMgZnJvbSByZWNlbnQgc2lnbi1pbiBhdHRlbXB0cy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciBvbiBhbnkge0BsaW5rIFVzZXJ9IHNpZ25lZCBpbiBieVxuICoge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBwaG9uZU51bWJlciAtIFRoZSB1c2VyJ3MgcGhvbmUgbnVtYmVyIGluIEUuMTY0IGZvcm1hdCAoZS5nLiArMTY1MDU1NTAxMDEpLlxuICogQHBhcmFtIGFwcFZlcmlmaWVyIC0gVGhlIHtAbGluayBBcHBsaWNhdGlvblZlcmlmaWVyfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWF1dGhlbnRpY2F0ZVdpdGhQaG9uZU51bWJlcihcbiAgdXNlcjogVXNlcixcbiAgcGhvbmVOdW1iZXI6IHN0cmluZyxcbiAgYXBwVmVyaWZpZXI6IEFwcGxpY2F0aW9uVmVyaWZpZXJcbik6IFByb21pc2U8Q29uZmlybWF0aW9uUmVzdWx0PiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh1c2VySW50ZXJuYWwuYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IodXNlckludGVybmFsLmF1dGgpXG4gICAgKTtcbiAgfVxuICBjb25zdCB2ZXJpZmljYXRpb25JZCA9IGF3YWl0IF92ZXJpZnlQaG9uZU51bWJlcihcbiAgICB1c2VySW50ZXJuYWwuYXV0aCxcbiAgICBwaG9uZU51bWJlcixcbiAgICBnZXRNb2R1bGFySW5zdGFuY2UoYXBwVmVyaWZpZXIgYXMgQXBwbGljYXRpb25WZXJpZmllckludGVybmFsKVxuICApO1xuICByZXR1cm4gbmV3IENvbmZpcm1hdGlvblJlc3VsdEltcGwodmVyaWZpY2F0aW9uSWQsIGNyZWQgPT5cbiAgICByZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsKHVzZXJJbnRlcm5hbCwgY3JlZClcbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgdmVyaWZpY2F0aW9uIElEIHRvIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgU01TIGNvZGUgdGhhdCBpcyBzZW50LlxuICpcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF92ZXJpZnlQaG9uZU51bWJlcihcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICBvcHRpb25zOiBQaG9uZUluZm9PcHRpb25zIHwgc3RyaW5nLFxuICB2ZXJpZmllcjogQXBwbGljYXRpb25WZXJpZmllckludGVybmFsXG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCByZWNhcHRjaGFUb2tlbiA9IGF3YWl0IHZlcmlmaWVyLnZlcmlmeSgpO1xuXG4gIHRyeSB7XG4gICAgX2Fzc2VydChcbiAgICAgIHR5cGVvZiByZWNhcHRjaGFUb2tlbiA9PT0gJ3N0cmluZycsXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICAgICk7XG4gICAgX2Fzc2VydChcbiAgICAgIHZlcmlmaWVyLnR5cGUgPT09IFJFQ0FQVENIQV9WRVJJRklFUl9UWVBFLFxuICAgICAgYXV0aCxcbiAgICAgIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1JcbiAgICApO1xuXG4gICAgbGV0IHBob25lSW5mb09wdGlvbnM6IFBob25lSW5mb09wdGlvbnM7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwaG9uZUluZm9PcHRpb25zID0ge1xuICAgICAgICBwaG9uZU51bWJlcjogb3B0aW9uc1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGhvbmVJbmZvT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgaWYgKCdzZXNzaW9uJyBpbiBwaG9uZUluZm9PcHRpb25zKSB7XG4gICAgICBjb25zdCBzZXNzaW9uID0gcGhvbmVJbmZvT3B0aW9ucy5zZXNzaW9uIGFzIE11bHRpRmFjdG9yU2Vzc2lvbkltcGw7XG5cbiAgICAgIGlmICgncGhvbmVOdW1iZXInIGluIHBob25lSW5mb09wdGlvbnMpIHtcbiAgICAgICAgX2Fzc2VydChcbiAgICAgICAgICBzZXNzaW9uLnR5cGUgPT09IE11bHRpRmFjdG9yU2Vzc2lvblR5cGUuRU5ST0xMLFxuICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgICAgICApO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN0YXJ0RW5yb2xsUGhvbmVNZmEoYXV0aCwge1xuICAgICAgICAgIGlkVG9rZW46IHNlc3Npb24uY3JlZGVudGlhbCxcbiAgICAgICAgICBwaG9uZUVucm9sbG1lbnRJbmZvOiB7XG4gICAgICAgICAgICBwaG9uZU51bWJlcjogcGhvbmVJbmZvT3B0aW9ucy5waG9uZU51bWJlcixcbiAgICAgICAgICAgIHJlY2FwdGNoYVRva2VuXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnBob25lU2Vzc2lvbkluZm8uc2Vzc2lvbkluZm87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfYXNzZXJ0KFxuICAgICAgICAgIHNlc3Npb24udHlwZSA9PT0gTXVsdGlGYWN0b3JTZXNzaW9uVHlwZS5TSUdOX0lOLFxuICAgICAgICAgIGF1dGgsXG4gICAgICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBtZmFFbnJvbGxtZW50SWQgPVxuICAgICAgICAgIHBob25lSW5mb09wdGlvbnMubXVsdGlGYWN0b3JIaW50Py51aWQgfHxcbiAgICAgICAgICBwaG9uZUluZm9PcHRpb25zLm11bHRpRmFjdG9yVWlkO1xuICAgICAgICBfYXNzZXJ0KG1mYUVucm9sbG1lbnRJZCwgYXV0aCwgQXV0aEVycm9yQ29kZS5NSVNTSU5HX01GQV9JTkZPKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdGFydFNpZ25JblBob25lTWZhKGF1dGgsIHtcbiAgICAgICAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogc2Vzc2lvbi5jcmVkZW50aWFsLFxuICAgICAgICAgIG1mYUVucm9sbG1lbnRJZCxcbiAgICAgICAgICBwaG9uZVNpZ25JbkluZm86IHtcbiAgICAgICAgICAgIHJlY2FwdGNoYVRva2VuXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnBob25lUmVzcG9uc2VJbmZvLnNlc3Npb25JbmZvO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IHNlc3Npb25JbmZvIH0gPSBhd2FpdCBzZW5kUGhvbmVWZXJpZmljYXRpb25Db2RlKGF1dGgsIHtcbiAgICAgICAgcGhvbmVOdW1iZXI6IHBob25lSW5mb09wdGlvbnMucGhvbmVOdW1iZXIsXG4gICAgICAgIHJlY2FwdGNoYVRva2VuXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzZXNzaW9uSW5mbztcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgdmVyaWZpZXIuX3Jlc2V0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSB1c2VyJ3MgcGhvbmUgbnVtYmVyLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciBvbiBhbnkge0BsaW5rIFVzZXJ9IHNpZ25lZCBpbiBieVxuICoge0BsaW5rIEF1dGh9IGluc3RhbmNlcyBjcmVhdGVkIHdpdGggYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICogLy8gJ3JlY2FwdGNoYS1jb250YWluZXInIGlzIHRoZSBJRCBvZiBhbiBlbGVtZW50IGluIHRoZSBET00uXG4gKiBjb25zdCBhcHBsaWNhdGlvblZlcmlmaWVyID0gbmV3IFJlY2FwdGNoYVZlcmlmaWVyKCdyZWNhcHRjaGEtY29udGFpbmVyJyk7XG4gKiBjb25zdCBwcm92aWRlciA9IG5ldyBQaG9uZUF1dGhQcm92aWRlcihhdXRoKTtcbiAqIGNvbnN0IHZlcmlmaWNhdGlvbklkID0gYXdhaXQgcHJvdmlkZXIudmVyaWZ5UGhvbmVOdW1iZXIoJysxNjUwNTU1MDEwMScsIGFwcGxpY2F0aW9uVmVyaWZpZXIpO1xuICogLy8gT2J0YWluIHRoZSB2ZXJpZmljYXRpb25Db2RlIGZyb20gdGhlIHVzZXIuXG4gKiBjb25zdCBwaG9uZUNyZWRlbnRpYWwgPSBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsKHZlcmlmaWNhdGlvbklkLCB2ZXJpZmljYXRpb25Db2RlKTtcbiAqIGF3YWl0IHVwZGF0ZVBob25lTnVtYmVyKHVzZXIsIHBob25lQ3JlZGVudGlhbCk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIGNyZWRlbnRpYWwgLSBBIGNyZWRlbnRpYWwgYXV0aGVudGljYXRpbmcgdGhlIG5ldyBwaG9uZSBudW1iZXIuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUGhvbmVOdW1iZXIoXG4gIHVzZXI6IFVzZXIsXG4gIGNyZWRlbnRpYWw6IFBob25lQXV0aENyZWRlbnRpYWxcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB1c2VySW50ZXJuYWwgPSBnZXRNb2R1bGFySW5zdGFuY2UodXNlcikgYXMgVXNlckludGVybmFsO1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodXNlckludGVybmFsLmF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKHVzZXJJbnRlcm5hbC5hdXRoKVxuICAgICk7XG4gIH1cbiAgYXdhaXQgX2xpbmsodXNlckludGVybmFsLCBjcmVkZW50aWFsKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBdXRoLFxuICBQaG9uZUluZm9PcHRpb25zLFxuICBBcHBsaWNhdGlvblZlcmlmaWVyLFxuICBVc2VyQ3JlZGVudGlhbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5pbXBvcnQgeyBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaS9hdXRoZW50aWNhdGlvbi9zbXMnO1xuaW1wb3J0IHsgQXBwbGljYXRpb25WZXJpZmllckludGVybmFsIGFzIEFwcGxpY2F0aW9uVmVyaWZpZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2FwcGxpY2F0aW9uX3ZlcmlmaWVyJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCBhcyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgYXMgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgUGhvbmVBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uL2NvcmUvY3JlZGVudGlhbHMvcGhvbmUnO1xuaW1wb3J0IHsgX3ZlcmlmeVBob25lTnVtYmVyIH0gZnJvbSAnLi4vc3RyYXRlZ2llcy9waG9uZSc7XG5pbXBvcnQgeyBfY2FzdEF1dGggfSBmcm9tICcuLi8uLi9jb3JlL2F1dGgvYXV0aF9pbXBsJztcbmltcG9ydCB7IEF1dGhDcmVkZW50aWFsIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yLCBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFByb3ZpZGVySWQsIFNpZ25Jbk1ldGhvZCB9IGZyb20gJy4uLy4uL21vZGVsL2VudW1zJztcblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyBhbiB7QGxpbmsgUGhvbmVBdXRoQ3JlZGVudGlhbH0uXG4gKlxuICogQHJlbWFya3NcbiAqIGBQaG9uZUF1dGhQcm92aWRlcmAgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vICdyZWNhcHRjaGEtY29udGFpbmVyJyBpcyB0aGUgSUQgb2YgYW4gZWxlbWVudCBpbiB0aGUgRE9NLlxuICogY29uc3QgYXBwbGljYXRpb25WZXJpZmllciA9IG5ldyBSZWNhcHRjaGFWZXJpZmllcigncmVjYXB0Y2hhLWNvbnRhaW5lcicpO1xuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgUGhvbmVBdXRoUHJvdmlkZXIoYXV0aCk7XG4gKiBjb25zdCB2ZXJpZmljYXRpb25JZCA9IGF3YWl0IHByb3ZpZGVyLnZlcmlmeVBob25lTnVtYmVyKCcrMTY1MDU1NTAxMDEnLCBhcHBsaWNhdGlvblZlcmlmaWVyKTtcbiAqIC8vIE9idGFpbiB0aGUgdmVyaWZpY2F0aW9uQ29kZSBmcm9tIHRoZSB1c2VyLlxuICogY29uc3QgcGhvbmVDcmVkZW50aWFsID0gUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbCh2ZXJpZmljYXRpb25JZCwgdmVyaWZpY2F0aW9uQ29kZSk7XG4gKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHNpZ25JbldpdGhDcmVkZW50aWFsKGF1dGgsIHBob25lQ3JlZGVudGlhbCk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQaG9uZUF1dGhQcm92aWRlciB7XG4gIC8qKiBBbHdheXMgc2V0IHRvIHtAbGluayBQcm92aWRlcklkfS5QSE9ORS4gKi9cbiAgc3RhdGljIHJlYWRvbmx5IFBST1ZJREVSX0lEOiAncGhvbmUnID0gUHJvdmlkZXJJZC5QSE9ORTtcbiAgLyoqIEFsd2F5cyBzZXQgdG8ge0BsaW5rIFNpZ25Jbk1ldGhvZH0uUEhPTkUuICovXG4gIHN0YXRpYyByZWFkb25seSBQSE9ORV9TSUdOX0lOX01FVEhPRDogJ3Bob25lJyA9IFNpZ25Jbk1ldGhvZC5QSE9ORTtcblxuICAvKiogQWx3YXlzIHNldCB0byB7QGxpbmsgUHJvdmlkZXJJZH0uUEhPTkUuICovXG4gIHJlYWRvbmx5IHByb3ZpZGVySWQgPSBQaG9uZUF1dGhQcm92aWRlci5QUk9WSURFUl9JRDtcbiAgcHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBhdXRoIC0gVGhlIEZpcmViYXNlIHtAbGluayBBdXRofSBpbnN0YW5jZSBpbiB3aGljaCBzaWduLWlucyBzaG91bGQgb2NjdXIuXG4gICAqXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhdXRoOiBBdXRoKSB7XG4gICAgdGhpcy5hdXRoID0gX2Nhc3RBdXRoKGF1dGgpO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIFN0YXJ0cyBhIHBob25lIG51bWJlciBhdXRoZW50aWNhdGlvbiBmbG93IGJ5IHNlbmRpbmcgYSB2ZXJpZmljYXRpb24gY29kZSB0byB0aGUgZ2l2ZW4gcGhvbmVcbiAgICogbnVtYmVyLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IFBob25lQXV0aFByb3ZpZGVyKGF1dGgpO1xuICAgKiBjb25zdCB2ZXJpZmljYXRpb25JZCA9IGF3YWl0IHByb3ZpZGVyLnZlcmlmeVBob25lTnVtYmVyKHBob25lTnVtYmVyLCBhcHBsaWNhdGlvblZlcmlmaWVyKTtcbiAgICogLy8gT2J0YWluIHZlcmlmaWNhdGlvbkNvZGUgZnJvbSB0aGUgdXNlci5cbiAgICogY29uc3QgYXV0aENyZWRlbnRpYWwgPSBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsKHZlcmlmaWNhdGlvbklkLCB2ZXJpZmljYXRpb25Db2RlKTtcbiAgICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoQ3JlZGVudGlhbChhdXRoLCBhdXRoQ3JlZGVudGlhbCk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBBbiBhbHRlcm5hdGl2ZSBmbG93IGlzIHByb3ZpZGVkIHVzaW5nIHRoZSBgc2lnbkluV2l0aFBob25lTnVtYmVyYCBtZXRob2QuXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3QgY29uZmlybWF0aW9uUmVzdWx0ID0gc2lnbkluV2l0aFBob25lTnVtYmVyKGF1dGgsIHBob25lTnVtYmVyLCBhcHBsaWNhdGlvblZlcmlmaWVyKTtcbiAgICogLy8gT2J0YWluIHZlcmlmaWNhdGlvbkNvZGUgZnJvbSB0aGUgdXNlci5cbiAgICogY29uc3QgdXNlckNyZWRlbnRpYWwgPSBjb25maXJtYXRpb25SZXN1bHQuY29uZmlybSh2ZXJpZmljYXRpb25Db2RlKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBwaG9uZUluZm9PcHRpb25zIC0gVGhlIHVzZXIncyB7QGxpbmsgUGhvbmVJbmZvT3B0aW9uc30uIFRoZSBwaG9uZSBudW1iZXIgc2hvdWxkIGJlIGluXG4gICAqIEUuMTY0IGZvcm1hdCAoZS5nLiArMTY1MDU1NTAxMDEpLlxuICAgKiBAcGFyYW0gYXBwbGljYXRpb25WZXJpZmllciAtIEZvciBhYnVzZSBwcmV2ZW50aW9uLCB0aGlzIG1ldGhvZCBhbHNvIHJlcXVpcmVzIGFcbiAgICoge0BsaW5rIEFwcGxpY2F0aW9uVmVyaWZpZXJ9LiBUaGlzIFNESyBpbmNsdWRlcyBhIHJlQ0FQVENIQS1iYXNlZCBpbXBsZW1lbnRhdGlvbixcbiAgICoge0BsaW5rIFJlY2FwdGNoYVZlcmlmaWVyfS5cbiAgICpcbiAgICogQHJldHVybnMgQSBQcm9taXNlIGZvciBhIHZlcmlmaWNhdGlvbiBJRCB0aGF0IGNhbiBiZSBwYXNzZWQgdG9cbiAgICoge0BsaW5rIFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWx9IHRvIGlkZW50aWZ5IHRoaXMgZmxvdy4uXG4gICAqL1xuICB2ZXJpZnlQaG9uZU51bWJlcihcbiAgICBwaG9uZU9wdGlvbnM6IFBob25lSW5mb09wdGlvbnMgfCBzdHJpbmcsXG4gICAgYXBwbGljYXRpb25WZXJpZmllcjogQXBwbGljYXRpb25WZXJpZmllclxuICApOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBfdmVyaWZ5UGhvbmVOdW1iZXIoXG4gICAgICB0aGlzLmF1dGgsXG4gICAgICBwaG9uZU9wdGlvbnMsXG4gICAgICBnZXRNb2R1bGFySW5zdGFuY2UoYXBwbGljYXRpb25WZXJpZmllciBhcyBBcHBsaWNhdGlvblZlcmlmaWVySW50ZXJuYWwpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcGhvbmUgYXV0aCBjcmVkZW50aWFsLCBnaXZlbiB0aGUgdmVyaWZpY2F0aW9uIElEIGZyb21cbiAgICoge0BsaW5rIFBob25lQXV0aFByb3ZpZGVyLnZlcmlmeVBob25lTnVtYmVyfSBhbmQgdGhlIGNvZGUgdGhhdCB3YXMgc2VudCB0byB0aGUgdXNlcidzXG4gICAqIG1vYmlsZSBkZXZpY2UuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGphdmFzY3JpcHRcbiAgICogY29uc3QgcHJvdmlkZXIgPSBuZXcgUGhvbmVBdXRoUHJvdmlkZXIoYXV0aCk7XG4gICAqIGNvbnN0IHZlcmlmaWNhdGlvbklkID0gcHJvdmlkZXIudmVyaWZ5UGhvbmVOdW1iZXIocGhvbmVOdW1iZXIsIGFwcGxpY2F0aW9uVmVyaWZpZXIpO1xuICAgKiAvLyBPYnRhaW4gdmVyaWZpY2F0aW9uQ29kZSBmcm9tIHRoZSB1c2VyLlxuICAgKiBjb25zdCBhdXRoQ3JlZGVudGlhbCA9IFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWwodmVyaWZpY2F0aW9uSWQsIHZlcmlmaWNhdGlvbkNvZGUpO1xuICAgKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IHNpZ25JbldpdGhDcmVkZW50aWFsKGF1dGgsIGF1dGhDcmVkZW50aWFsKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIEFuIGFsdGVybmF0aXZlIGZsb3cgaXMgcHJvdmlkZWQgdXNpbmcgdGhlIGBzaWduSW5XaXRoUGhvbmVOdW1iZXJgIG1ldGhvZC5cbiAgICogYGBgamF2YXNjcmlwdFxuICAgKiBjb25zdCBjb25maXJtYXRpb25SZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUGhvbmVOdW1iZXIoYXV0aCwgcGhvbmVOdW1iZXIsIGFwcGxpY2F0aW9uVmVyaWZpZXIpO1xuICAgKiAvLyBPYnRhaW4gdmVyaWZpY2F0aW9uQ29kZSBmcm9tIHRoZSB1c2VyLlxuICAgKiBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGNvbmZpcm1hdGlvblJlc3VsdC5jb25maXJtKHZlcmlmaWNhdGlvbkNvZGUpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHZlcmlmaWNhdGlvbklkIC0gVGhlIHZlcmlmaWNhdGlvbiBJRCByZXR1cm5lZCBmcm9tIHtAbGluayBQaG9uZUF1dGhQcm92aWRlci52ZXJpZnlQaG9uZU51bWJlcn0uXG4gICAqIEBwYXJhbSB2ZXJpZmljYXRpb25Db2RlIC0gVGhlIHZlcmlmaWNhdGlvbiBjb2RlIHNlbnQgdG8gdGhlIHVzZXIncyBtb2JpbGUgZGV2aWNlLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgYXV0aCBwcm92aWRlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWwoXG4gICAgdmVyaWZpY2F0aW9uSWQ6IHN0cmluZyxcbiAgICB2ZXJpZmljYXRpb25Db2RlOiBzdHJpbmdcbiAgKTogUGhvbmVBdXRoQ3JlZGVudGlhbCB7XG4gICAgcmV0dXJuIFBob25lQXV0aENyZWRlbnRpYWwuX2Zyb21WZXJpZmljYXRpb24oXG4gICAgICB2ZXJpZmljYXRpb25JZCxcbiAgICAgIHZlcmlmaWNhdGlvbkNvZGVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiB7QGxpbmsgQXV0aENyZWRlbnRpYWx9IGZyb20gYSB7QGxpbmsgVXNlckNyZWRlbnRpYWx9LlxuICAgKiBAcGFyYW0gdXNlckNyZWRlbnRpYWwgLSBUaGUgdXNlciBjcmVkZW50aWFsLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tUmVzdWx0KFxuICAgIHVzZXJDcmVkZW50aWFsOiBVc2VyQ3JlZGVudGlhbFxuICApOiBBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGNvbnN0IGNyZWRlbnRpYWwgPSB1c2VyQ3JlZGVudGlhbCBhcyBVc2VyQ3JlZGVudGlhbEludGVybmFsO1xuICAgIHJldHVybiBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChjcmVkZW50aWFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIHtAbGluayBBdXRoQ3JlZGVudGlhbH0gd2hlbiBwYXNzZWQgYW4gZXJyb3IuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHdvcmtzIGZvciBlcnJvcnMgbGlrZVxuICAgKiBgYXV0aC9hY2NvdW50LWV4aXN0cy13aXRoLWRpZmZlcmVudC1jcmVkZW50aWFsc2AuIFRoaXMgaXMgdXNlZnVsIGZvclxuICAgKiByZWNvdmVyaW5nIHdoZW4gYXR0ZW1wdGluZyB0byBzZXQgYSB1c2VyJ3MgcGhvbmUgbnVtYmVyIGJ1dCB0aGUgbnVtYmVyXG4gICAqIGluIHF1ZXN0aW9uIGlzIGFscmVhZHkgdGllZCB0byBhbm90aGVyIGFjY291bnQuIEZvciBleGFtcGxlLCB0aGUgZm9sbG93aW5nXG4gICAqIGNvZGUgdHJpZXMgdG8gdXBkYXRlIHRoZSBjdXJyZW50IHVzZXIncyBwaG9uZSBudW1iZXIsIGFuZCBpZiB0aGF0XG4gICAqIGZhaWxzLCBsaW5rcyB0aGUgdXNlciB3aXRoIHRoZSBhY2NvdW50IGFzc29jaWF0ZWQgd2l0aCB0aGF0IG51bWJlcjpcbiAgICpcbiAgICogYGBganNcbiAgICogY29uc3QgcHJvdmlkZXIgPSBuZXcgUGhvbmVBdXRoUHJvdmlkZXIoYXV0aCk7XG4gICAqIGNvbnN0IHZlcmlmaWNhdGlvbklkID0gYXdhaXQgcHJvdmlkZXIudmVyaWZ5UGhvbmVOdW1iZXIobnVtYmVyLCB2ZXJpZmllcik7XG4gICAqIHRyeSB7XG4gICAqICAgY29uc3QgY29kZSA9ICcnOyAvLyBQcm9tcHQgdGhlIHVzZXIgZm9yIHRoZSB2ZXJpZmljYXRpb24gY29kZVxuICAgKiAgIGF3YWl0IHVwZGF0ZVBob25lTnVtYmVyKFxuICAgKiAgICAgICBhdXRoLmN1cnJlbnRVc2VyLFxuICAgKiAgICAgICBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsKHZlcmlmaWNhdGlvbklkLCBjb2RlKSk7XG4gICAqIH0gY2F0Y2ggKGUpIHtcbiAgICogICBpZiAoKGUgYXMgRmlyZWJhc2VFcnJvcik/LmNvZGUgPT09ICdhdXRoL2FjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWwnKSB7XG4gICAqICAgICBjb25zdCBjcmVkID0gUGhvbmVBdXRoUHJvdmlkZXIuY3JlZGVudGlhbEZyb21FcnJvcihlKTtcbiAgICogICAgIGF3YWl0IGxpbmtXaXRoQ3JlZGVudGlhbChhdXRoLmN1cnJlbnRVc2VyLCBjcmVkKTtcbiAgICogICB9XG4gICAqIH1cbiAgICpcbiAgICogLy8gQXQgdGhpcyBwb2ludCwgYXV0aC5jdXJyZW50VXNlci5waG9uZU51bWJlciA9PT0gbnVtYmVyLlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGVycm9yIC0gVGhlIGVycm9yIHRvIGdlbmVyYXRlIGEgY3JlZGVudGlhbCBmcm9tLlxuICAgKi9cbiAgc3RhdGljIGNyZWRlbnRpYWxGcm9tRXJyb3IoZXJyb3I6IEZpcmViYXNlRXJyb3IpOiBBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIHJldHVybiBQaG9uZUF1dGhQcm92aWRlci5jcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdChcbiAgICAgIChlcnJvci5jdXN0b21EYXRhIHx8IHt9KSBhcyBUYWdnZWRXaXRoVG9rZW5SZXNwb25zZVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjcmVkZW50aWFsRnJvbVRhZ2dlZE9iamVjdCh7XG4gICAgX3Rva2VuUmVzcG9uc2U6IHRva2VuUmVzcG9uc2VcbiAgfTogVGFnZ2VkV2l0aFRva2VuUmVzcG9uc2UpOiBBdXRoQ3JlZGVudGlhbCB8IG51bGwge1xuICAgIGlmICghdG9rZW5SZXNwb25zZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgcGhvbmVOdW1iZXIsIHRlbXBvcmFyeVByb29mIH0gPVxuICAgICAgdG9rZW5SZXNwb25zZSBhcyBTaWduSW5XaXRoUGhvbmVOdW1iZXJSZXNwb25zZTtcbiAgICBpZiAocGhvbmVOdW1iZXIgJiYgdGVtcG9yYXJ5UHJvb2YpIHtcbiAgICAgIHJldHVybiBQaG9uZUF1dGhDcmVkZW50aWFsLl9mcm9tVG9rZW5SZXNwb25zZShcbiAgICAgICAgcGhvbmVOdW1iZXIsXG4gICAgICAgIHRlbXBvcmFyeVByb29mXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFBvcHVwUmVkaXJlY3RSZXNvbHZlciB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi9hc3NlcnQnO1xuaW1wb3J0IHsgX2dldEluc3RhbmNlIH0gZnJvbSAnLi9pbnN0YW50aWF0b3InO1xuXG4vKipcbiAqIENob29zZXMgYSBwb3B1cC9yZWRpcmVjdCByZXNvbHZlciB0byB1c2UuIFRoaXMgcHJlZmVycyB0aGUgb3ZlcnJpZGUgKHdoaWNoXG4gKiBpcyBkaXJlY3RseSBwYXNzZWQgaW4pLCBhbmQgZmFsbHMgYmFjayB0byB0aGUgcHJvcGVydHkgc2V0IG9uIHRoZSBhdXRoXG4gKiBvYmplY3QuIElmIG5laXRoZXIgYXJlIGF2YWlsYWJsZSwgdGhpcyBmdW5jdGlvbiBlcnJvcnMgdy8gYW4gYXJndW1lbnQgZXJyb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfd2l0aERlZmF1bHRSZXNvbHZlcihcbiAgYXV0aDogQXV0aEludGVybmFsLFxuICByZXNvbHZlck92ZXJyaWRlOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXIgfCB1bmRlZmluZWRcbik6IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsIHtcbiAgaWYgKHJlc29sdmVyT3ZlcnJpZGUpIHtcbiAgICByZXR1cm4gX2dldEluc3RhbmNlKHJlc29sdmVyT3ZlcnJpZGUpO1xuICB9XG5cbiAgX2Fzc2VydChhdXRoLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXIsIGF1dGgsIEF1dGhFcnJvckNvZGUuQVJHVU1FTlRfRVJST1IpO1xuXG4gIHJldHVybiBhdXRoLl9wb3B1cFJlZGlyZWN0UmVzb2x2ZXI7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgc2lnbkluV2l0aElkcCxcbiAgU2lnbkluV2l0aElkcFJlcXVlc3Rcbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL2lkcCc7XG5pbXBvcnQgeyBQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IElkVG9rZW5SZXNwb25zZSB9IGZyb20gJy4uLy4uL21vZGVsL2lkX3Rva2VuJztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCwgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aENyZWRlbnRpYWwgfSBmcm9tICcuLi9jcmVkZW50aWFscyc7XG5pbXBvcnQgeyBfbGluayBhcyBfbGlua1VzZXIgfSBmcm9tICcuLi91c2VyL2xpbmtfdW5saW5rJztcbmltcG9ydCB7IF9yZWF1dGhlbnRpY2F0ZSB9IGZyb20gJy4uL3VzZXIvcmVhdXRoZW50aWNhdGUnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9zaWduSW5XaXRoQ3JlZGVudGlhbCB9IGZyb20gJy4vY3JlZGVudGlhbCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IFByb3ZpZGVySWQgfSBmcm9tICcuLi8uLi9tb2RlbC9lbnVtcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSWRwVGFza1BhcmFtcyB7XG4gIGF1dGg6IEF1dGhJbnRlcm5hbDtcbiAgcmVxdWVzdFVyaTogc3RyaW5nO1xuICBzZXNzaW9uSWQ/OiBzdHJpbmc7XG4gIHRlbmFudElkPzogc3RyaW5nO1xuICBwb3N0Qm9keT86IHN0cmluZztcbiAgcGVuZGluZ1Rva2VuPzogc3RyaW5nO1xuICB1c2VyPzogVXNlckludGVybmFsO1xuICBieXBhc3NBdXRoU3RhdGU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBJZHBUYXNrID0gKFxuICBwYXJhbXM6IElkcFRhc2tQYXJhbXNcbikgPT4gUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsPjtcblxuY2xhc3MgSWRwQ3JlZGVudGlhbCBleHRlbmRzIEF1dGhDcmVkZW50aWFsIHtcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgcGFyYW1zOiBJZHBUYXNrUGFyYW1zKSB7XG4gICAgc3VwZXIoUHJvdmlkZXJJZC5DVVNUT00sIFByb3ZpZGVySWQuQ1VTVE9NKTtcbiAgfVxuXG4gIF9nZXRJZFRva2VuUmVzcG9uc2UoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxQaG9uZU9yT2F1dGhUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHNpZ25JbldpdGhJZHAoYXV0aCwgdGhpcy5fYnVpbGRJZHBSZXF1ZXN0KCkpO1xuICB9XG5cbiAgX2xpbmtUb0lkVG9rZW4oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGlkVG9rZW46IHN0cmluZ1xuICApOiBQcm9taXNlPElkVG9rZW5SZXNwb25zZT4ge1xuICAgIHJldHVybiBzaWduSW5XaXRoSWRwKGF1dGgsIHRoaXMuX2J1aWxkSWRwUmVxdWVzdChpZFRva2VuKSk7XG4gIH1cblxuICBfZ2V0UmVhdXRoZW50aWNhdGlvblJlc29sdmVyKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8SWRUb2tlblJlc3BvbnNlPiB7XG4gICAgcmV0dXJuIHNpZ25JbldpdGhJZHAoYXV0aCwgdGhpcy5fYnVpbGRJZHBSZXF1ZXN0KCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBfYnVpbGRJZHBSZXF1ZXN0KGlkVG9rZW4/OiBzdHJpbmcpOiBTaWduSW5XaXRoSWRwUmVxdWVzdCB7XG4gICAgY29uc3QgcmVxdWVzdDogU2lnbkluV2l0aElkcFJlcXVlc3QgPSB7XG4gICAgICByZXF1ZXN0VXJpOiB0aGlzLnBhcmFtcy5yZXF1ZXN0VXJpLFxuICAgICAgc2Vzc2lvbklkOiB0aGlzLnBhcmFtcy5zZXNzaW9uSWQsXG4gICAgICBwb3N0Qm9keTogdGhpcy5wYXJhbXMucG9zdEJvZHksXG4gICAgICB0ZW5hbnRJZDogdGhpcy5wYXJhbXMudGVuYW50SWQsXG4gICAgICBwZW5kaW5nVG9rZW46IHRoaXMucGFyYW1zLnBlbmRpbmdUb2tlbixcbiAgICAgIHJldHVyblNlY3VyZVRva2VuOiB0cnVlLFxuICAgICAgcmV0dXJuSWRwQ3JlZGVudGlhbDogdHJ1ZVxuICAgIH07XG5cbiAgICBpZiAoaWRUb2tlbikge1xuICAgICAgcmVxdWVzdC5pZFRva2VuID0gaWRUb2tlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX3NpZ25JbihcbiAgcGFyYW1zOiBJZHBUYXNrUGFyYW1zXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWw+IHtcbiAgcmV0dXJuIF9zaWduSW5XaXRoQ3JlZGVudGlhbChcbiAgICBwYXJhbXMuYXV0aCxcbiAgICBuZXcgSWRwQ3JlZGVudGlhbChwYXJhbXMpLFxuICAgIHBhcmFtcy5ieXBhc3NBdXRoU3RhdGVcbiAgKSBhcyBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWw+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3JlYXV0aChcbiAgcGFyYW1zOiBJZHBUYXNrUGFyYW1zXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWw+IHtcbiAgY29uc3QgeyBhdXRoLCB1c2VyIH0gPSBwYXJhbXM7XG4gIF9hc3NlcnQodXNlciwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gIHJldHVybiBfcmVhdXRoZW50aWNhdGUoXG4gICAgdXNlcixcbiAgICBuZXcgSWRwQ3JlZGVudGlhbChwYXJhbXMpLFxuICAgIHBhcmFtcy5ieXBhc3NBdXRoU3RhdGVcbiAgKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9saW5rKFxuICBwYXJhbXM6IElkcFRhc2tQYXJhbXNcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbD4ge1xuICBjb25zdCB7IGF1dGgsIHVzZXIgfSA9IHBhcmFtcztcbiAgX2Fzc2VydCh1c2VyLCBhdXRoLCBBdXRoRXJyb3JDb2RlLklOVEVSTkFMX0VSUk9SKTtcbiAgcmV0dXJuIF9saW5rVXNlcih1c2VyLCBuZXcgSWRwQ3JlZGVudGlhbChwYXJhbXMpLCBwYXJhbXMuYnlwYXNzQXV0aFN0YXRlKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaXJlYmFzZUVycm9yIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuXG5pbXBvcnQge1xuICBBdXRoRXZlbnQsXG4gIEF1dGhFdmVudENvbnN1bWVyLFxuICBBdXRoRXZlbnRUeXBlLFxuICBFdmVudE1hbmFnZXIsXG4gIFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsXG59IGZyb20gJy4uLy4uL21vZGVsL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCwgVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBkZWJ1Z0Fzc2VydCwgX2ZhaWwgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQge1xuICBfbGluayxcbiAgX3JlYXV0aCxcbiAgX3NpZ25JbixcbiAgSWRwVGFzayxcbiAgSWRwVGFza1BhcmFtc1xufSBmcm9tICcuLi9zdHJhdGVnaWVzL2lkcCc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcblxuaW50ZXJmYWNlIFBlbmRpbmdQcm9taXNlIHtcbiAgcmVzb2x2ZTogKGNyZWQ6IFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfCBudWxsKSA9PiB2b2lkO1xuICByZWplY3Q6IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogUG9wdXAgZXZlbnQgbWFuYWdlci4gSGFuZGxlcyB0aGUgcG9wdXAncyBlbnRpcmUgbGlmZWN5Y2xlOyBsaXN0ZW5zIHRvIGF1dGhcbiAqIGV2ZW50c1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RQb3B1cFJlZGlyZWN0T3BlcmF0aW9uXG4gIGltcGxlbWVudHMgQXV0aEV2ZW50Q29uc3VtZXJcbntcbiAgcHJpdmF0ZSBwZW5kaW5nUHJvbWlzZTogUGVuZGluZ1Byb21pc2UgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBldmVudE1hbmFnZXI6IEV2ZW50TWFuYWdlciB8IG51bGwgPSBudWxsO1xuICByZWFkb25seSBmaWx0ZXI6IEF1dGhFdmVudFR5cGVbXTtcblxuICBhYnN0cmFjdCBldmVudElkOiBzdHJpbmcgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgZmlsdGVyOiBBdXRoRXZlbnRUeXBlIHwgQXV0aEV2ZW50VHlwZVtdLFxuICAgIHByb3RlY3RlZCByZWFkb25seSByZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWwsXG4gICAgcHJvdGVjdGVkIHVzZXI/OiBVc2VySW50ZXJuYWwsXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGJ5cGFzc0F1dGhTdGF0ZSA9IGZhbHNlXG4gICkge1xuICAgIHRoaXMuZmlsdGVyID0gQXJyYXkuaXNBcnJheShmaWx0ZXIpID8gZmlsdGVyIDogW2ZpbHRlcl07XG4gIH1cblxuICBhYnN0cmFjdCBvbkV4ZWN1dGlvbigpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIGV4ZWN1dGUoKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsIHwgbnVsbD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsIHwgbnVsbD4oXG4gICAgICBhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMucGVuZGluZ1Byb21pc2UgPSB7IHJlc29sdmUsIHJlamVjdCB9O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIgPSBhd2FpdCB0aGlzLnJlc29sdmVyLl9pbml0aWFsaXplKHRoaXMuYXV0aCk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5vbkV4ZWN1dGlvbigpO1xuICAgICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnJlZ2lzdGVyQ29uc3VtZXIodGhpcyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aGlzLnJlamVjdChlIGFzIEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBhc3luYyBvbkF1dGhFdmVudChldmVudDogQXV0aEV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyB1cmxSZXNwb25zZSwgc2Vzc2lvbklkLCBwb3N0Qm9keSwgdGVuYW50SWQsIGVycm9yLCB0eXBlIH0gPSBldmVudDtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHRoaXMucmVqZWN0KGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXM6IElkcFRhc2tQYXJhbXMgPSB7XG4gICAgICBhdXRoOiB0aGlzLmF1dGgsXG4gICAgICByZXF1ZXN0VXJpOiB1cmxSZXNwb25zZSEsXG4gICAgICBzZXNzaW9uSWQ6IHNlc3Npb25JZCEsXG4gICAgICB0ZW5hbnRJZDogdGVuYW50SWQgfHwgdW5kZWZpbmVkLFxuICAgICAgcG9zdEJvZHk6IHBvc3RCb2R5IHx8IHVuZGVmaW5lZCxcbiAgICAgIHVzZXI6IHRoaXMudXNlcixcbiAgICAgIGJ5cGFzc0F1dGhTdGF0ZTogdGhpcy5ieXBhc3NBdXRoU3RhdGVcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucmVzb2x2ZShhd2FpdCB0aGlzLmdldElkcFRhc2sodHlwZSkocGFyYW1zKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5yZWplY3QoZSBhcyBFcnJvcik7XG4gICAgfVxuICB9XG5cbiAgb25FcnJvcihlcnJvcjogRmlyZWJhc2VFcnJvcik6IHZvaWQge1xuICAgIHRoaXMucmVqZWN0KGVycm9yKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0SWRwVGFzayh0eXBlOiBBdXRoRXZlbnRUeXBlKTogSWRwVGFzayB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIEF1dGhFdmVudFR5cGUuU0lHTl9JTl9WSUFfUE9QVVA6XG4gICAgICBjYXNlIEF1dGhFdmVudFR5cGUuU0lHTl9JTl9WSUFfUkVESVJFQ1Q6XG4gICAgICAgIHJldHVybiBfc2lnbkluO1xuICAgICAgY2FzZSBBdXRoRXZlbnRUeXBlLkxJTktfVklBX1BPUFVQOlxuICAgICAgY2FzZSBBdXRoRXZlbnRUeXBlLkxJTktfVklBX1JFRElSRUNUOlxuICAgICAgICByZXR1cm4gX2xpbms7XG4gICAgICBjYXNlIEF1dGhFdmVudFR5cGUuUkVBVVRIX1ZJQV9QT1BVUDpcbiAgICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5SRUFVVEhfVklBX1JFRElSRUNUOlxuICAgICAgICByZXR1cm4gX3JlYXV0aDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIF9mYWlsKHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHJlc29sdmUoY3JlZDogVXNlckNyZWRlbnRpYWxJbnRlcm5hbCB8IG51bGwpOiB2b2lkIHtcbiAgICBkZWJ1Z0Fzc2VydCh0aGlzLnBlbmRpbmdQcm9taXNlLCAnUGVuZGluZyBwcm9taXNlIHdhcyBuZXZlciBzZXQnKTtcbiAgICB0aGlzLnBlbmRpbmdQcm9taXNlLnJlc29sdmUoY3JlZCk7XG4gICAgdGhpcy51bnJlZ2lzdGVyQW5kQ2xlYW5VcCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlamVjdChlcnJvcjogRXJyb3IpOiB2b2lkIHtcbiAgICBkZWJ1Z0Fzc2VydCh0aGlzLnBlbmRpbmdQcm9taXNlLCAnUGVuZGluZyBwcm9taXNlIHdhcyBuZXZlciBzZXQnKTtcbiAgICB0aGlzLnBlbmRpbmdQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgdGhpcy51bnJlZ2lzdGVyQW5kQ2xlYW5VcCgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1bnJlZ2lzdGVyQW5kQ2xlYW5VcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ldmVudE1hbmFnZXIpIHtcbiAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyLnVucmVnaXN0ZXJDb25zdW1lcih0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLnBlbmRpbmdQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLmNsZWFuVXAoKTtcbiAgfVxuXG4gIGFic3RyYWN0IGNsZWFuVXAoKTogdm9pZDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBdXRoLFxuICBBdXRoUHJvdmlkZXIsXG4gIFBvcHVwUmVkaXJlY3RSZXNvbHZlcixcbiAgVXNlcixcbiAgVXNlckNyZWRlbnRpYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vLi4vY29yZS9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHtcbiAgX2Fzc2VydCxcbiAgZGVidWdBc3NlcnQsXG4gIF9jcmVhdGVFcnJvcixcbiAgX2Fzc2VydEluc3RhbmNlT2Zcbn0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBEZWxheSB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9kZWxheSc7XG5pbXBvcnQgeyBfZ2VuZXJhdGVFdmVudElkIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2V2ZW50X2lkJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHtcbiAgQXV0aEV2ZW50VHlwZSxcbiAgUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBfd2l0aERlZmF1bHRSZXNvbHZlciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9yZXNvbHZlcic7XG5pbXBvcnQgeyBBdXRoUG9wdXAgfSBmcm9tICcuLi91dGlsL3BvcHVwJztcbmltcG9ydCB7IEFic3RyYWN0UG9wdXBSZWRpcmVjdE9wZXJhdGlvbiB9IGZyb20gJy4uLy4uL2NvcmUvc3RyYXRlZ2llcy9hYnN0cmFjdF9wb3B1cF9yZWRpcmVjdF9vcGVyYXRpb24nO1xuaW1wb3J0IHsgRmVkZXJhdGVkQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vY29yZS9wcm92aWRlcnMvZmVkZXJhdGVkJztcbmltcG9ydCB7IGdldE1vZHVsYXJJbnN0YW5jZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IF9pc0ZpcmViYXNlU2VydmVyQXBwIH0gZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5cbi8qXG4gKiBUaGUgZXZlbnQgdGltZW91dCBpcyB0aGUgc2FtZSBvbiBtb2JpbGUgYW5kIGRlc2t0b3AsIG5vIG5lZWQgZm9yIERlbGF5LiBTZXQgdGhpcyB0byA4cyBzaW5jZVxuICogYmxvY2tpbmcgZnVuY3Rpb25zIGNhbiB0YWtlIHVwdG8gN3MgdG8gY29tcGxldGUgc2lnbiBpbiwgYXMgZG9jdW1lbnRlZCBpbjpcbiAqIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9pZGVudGl0eS1wbGF0Zm9ybS9kb2NzL2Jsb2NraW5nLWZ1bmN0aW9ucyN1bmRlcnN0YW5kaW5nX2Jsb2NraW5nX2Z1bmN0aW9uc1xuICogaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvYXV0aC9leHRlbmQtd2l0aC1ibG9ja2luZy1mdW5jdGlvbnMjdW5kZXJzdGFuZGluZ19ibG9ja2luZ19mdW5jdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGVudW0gX1RpbWVvdXQge1xuICBBVVRIX0VWRU5UID0gODAwMFxufVxuZXhwb3J0IGNvbnN0IF9QT0xMX1dJTkRPV19DTE9TRV9USU1FT1VUID0gbmV3IERlbGF5KDIwMDAsIDEwMDAwKTtcblxuLyoqXG4gKiBBdXRoZW50aWNhdGVzIGEgRmlyZWJhc2UgY2xpZW50IHVzaW5nIGEgcG9wdXAtYmFzZWQgT0F1dGggYXV0aGVudGljYXRpb24gZmxvdy5cbiAqXG4gKiBAcmVtYXJrc1xuICogSWYgc3VjY2VlZHMsIHJldHVybnMgdGhlIHNpZ25lZCBpbiB1c2VyIGFsb25nIHdpdGggdGhlIHByb3ZpZGVyJ3MgY3JlZGVudGlhbC4gSWYgc2lnbiBpbiB3YXNcbiAqIHVuc3VjY2Vzc2Z1bCwgcmV0dXJucyBhbiBlcnJvciBvYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudCBvciB3aXRoIHtAbGluayBBdXRofSBpbnN0YW5jZXMgY3JlYXRlZCB3aXRoIGFcbiAqIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHBvcHVwLlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gKlxuICogLy8gVGhlIHNpZ25lZC1pbiB1c2VyIGluZm8uXG4gKiBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAvLyBUaGlzIGdpdmVzIHlvdSBhIEZhY2Vib29rIEFjY2VzcyBUb2tlbi5cbiAqIGNvbnN0IGNyZWRlbnRpYWwgPSBwcm92aWRlci5jcmVkZW50aWFsRnJvbVJlc3VsdChhdXRoLCByZXN1bHQpO1xuICogY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIHByb3ZpZGVyIC0gVGhlIHByb3ZpZGVyIHRvIGF1dGhlbnRpY2F0ZS4gVGhlIHByb3ZpZGVyIGhhcyB0byBiZSBhbiB7QGxpbmsgT0F1dGhQcm92aWRlcn0uXG4gKiBOb24tT0F1dGggcHJvdmlkZXJzIGxpa2Uge0BsaW5rIEVtYWlsQXV0aFByb3ZpZGVyfSB3aWxsIHRocm93IGFuIGVycm9yLlxuICogQHBhcmFtIHJlc29sdmVyIC0gQW4gaW5zdGFuY2Ugb2Yge0BsaW5rIFBvcHVwUmVkaXJlY3RSZXNvbHZlcn0sIG9wdGlvbmFsXG4gKiBpZiBhbHJlYWR5IHN1cHBsaWVkIHRvIHtAbGluayBpbml0aWFsaXplQXV0aH0gb3IgcHJvdmlkZWQgYnkge0BsaW5rIGdldEF1dGh9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhQb3B1cChcbiAgYXV0aDogQXV0aCxcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8VXNlckNyZWRlbnRpYWw+IHtcbiAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKGF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9jcmVhdGVFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfU1VQUE9SVEVEKVxuICAgICk7XG4gIH1cbiAgY29uc3QgYXV0aEludGVybmFsID0gX2Nhc3RBdXRoKGF1dGgpO1xuICBfYXNzZXJ0SW5zdGFuY2VPZihhdXRoLCBwcm92aWRlciwgRmVkZXJhdGVkQXV0aFByb3ZpZGVyKTtcbiAgY29uc3QgcmVzb2x2ZXJJbnRlcm5hbCA9IF93aXRoRGVmYXVsdFJlc29sdmVyKGF1dGhJbnRlcm5hbCwgcmVzb2x2ZXIpO1xuICBjb25zdCBhY3Rpb24gPSBuZXcgUG9wdXBPcGVyYXRpb24oXG4gICAgYXV0aEludGVybmFsLFxuICAgIEF1dGhFdmVudFR5cGUuU0lHTl9JTl9WSUFfUE9QVVAsXG4gICAgcHJvdmlkZXIsXG4gICAgcmVzb2x2ZXJJbnRlcm5hbFxuICApO1xuICByZXR1cm4gYWN0aW9uLmV4ZWN1dGVOb3ROdWxsKCk7XG59XG5cbi8qKlxuICogUmVhdXRoZW50aWNhdGVzIHRoZSBjdXJyZW50IHVzZXIgd2l0aCB0aGUgc3BlY2lmaWVkIHtAbGluayBPQXV0aFByb3ZpZGVyfSB1c2luZyBhIHBvcC11cCBiYXNlZFxuICogT0F1dGggZmxvdy5cbiAqXG4gKiBAcmVtYXJrc1xuICogSWYgdGhlIHJlYXV0aGVudGljYXRpb24gaXMgc3VjY2Vzc2Z1bCwgdGhlIHJldHVybmVkIHJlc3VsdCB3aWxsIGNvbnRhaW4gdGhlIHVzZXIgYW5kIHRoZVxuICogcHJvdmlkZXIncyBjcmVkZW50aWFsLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIG9uIGFueSB7QGxpbmsgVXNlcn0gc2lnbmVkIGluIGJ5XG4gKiB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlU2VydmVyQXBwfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBhIHBvcHVwLlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcik7XG4gKiAvLyBSZWF1dGhlbnRpY2F0ZSB1c2luZyBhIHBvcHVwLlxuICogYXdhaXQgcmVhdXRoZW50aWNhdGVXaXRoUG9wdXAocmVzdWx0LnVzZXIsIHByb3ZpZGVyKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIuXG4gKiBAcGFyYW0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIgdG8gYXV0aGVudGljYXRlLiBUaGUgcHJvdmlkZXIgaGFzIHRvIGJlIGFuIHtAbGluayBPQXV0aFByb3ZpZGVyfS5cbiAqIE5vbi1PQXV0aCBwcm92aWRlcnMgbGlrZSB7QGxpbmsgRW1haWxBdXRoUHJvdmlkZXJ9IHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gKiBAcGFyYW0gcmVzb2x2ZXIgLSBBbiBpbnN0YW5jZSBvZiB7QGxpbmsgUG9wdXBSZWRpcmVjdFJlc29sdmVyfSwgb3B0aW9uYWxcbiAqIGlmIGFscmVhZHkgc3VwcGxpZWQgdG8ge0BsaW5rIGluaXRpYWxpemVBdXRofSBvciBwcm92aWRlZCBieSB7QGxpbmsgZ2V0QXV0aH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhdXRoZW50aWNhdGVXaXRoUG9wdXAoXG4gIHVzZXI6IFVzZXIsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIGlmIChfaXNGaXJlYmFzZVNlcnZlckFwcCh1c2VySW50ZXJuYWwuYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX2NyZWF0ZUVycm9yKHVzZXJJbnRlcm5hbC5hdXRoLCBBdXRoRXJyb3JDb2RlLk9QRVJBVElPTl9OT1RfU1VQUE9SVEVEKVxuICAgICk7XG4gIH1cbiAgX2Fzc2VydEluc3RhbmNlT2YodXNlckludGVybmFsLmF1dGgsIHByb3ZpZGVyLCBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIpO1xuICBjb25zdCByZXNvbHZlckludGVybmFsID0gX3dpdGhEZWZhdWx0UmVzb2x2ZXIodXNlckludGVybmFsLmF1dGgsIHJlc29sdmVyKTtcbiAgY29uc3QgYWN0aW9uID0gbmV3IFBvcHVwT3BlcmF0aW9uKFxuICAgIHVzZXJJbnRlcm5hbC5hdXRoLFxuICAgIEF1dGhFdmVudFR5cGUuUkVBVVRIX1ZJQV9QT1BVUCxcbiAgICBwcm92aWRlcixcbiAgICByZXNvbHZlckludGVybmFsLFxuICAgIHVzZXJJbnRlcm5hbFxuICApO1xuICByZXR1cm4gYWN0aW9uLmV4ZWN1dGVOb3ROdWxsKCk7XG59XG5cbi8qKlxuICogTGlua3MgdGhlIGF1dGhlbnRpY2F0ZWQgcHJvdmlkZXIgdG8gdGhlIHVzZXIgYWNjb3VudCB1c2luZyBhIHBvcC11cCBiYXNlZCBPQXV0aCBmbG93LlxuICpcbiAqIEByZW1hcmtzXG4gKiBJZiB0aGUgbGlua2luZyBpcyBzdWNjZXNzZnVsLCB0aGUgcmV0dXJuZWQgcmVzdWx0IHdpbGwgY29udGFpbiB0aGUgdXNlciBhbmQgdGhlIHByb3ZpZGVyJ3MgY3JlZGVudGlhbC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gU2lnbiBpbiB1c2luZyBzb21lIG90aGVyIHByb3ZpZGVyLlxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKTtcbiAqIC8vIExpbmsgdXNpbmcgYSBwb3B1cC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG4gKiBhd2FpdCBsaW5rV2l0aFBvcHVwKHJlc3VsdC51c2VyLCBwcm92aWRlcik7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyLlxuICogQHBhcmFtIHByb3ZpZGVyIC0gVGhlIHByb3ZpZGVyIHRvIGF1dGhlbnRpY2F0ZS4gVGhlIHByb3ZpZGVyIGhhcyB0byBiZSBhbiB7QGxpbmsgT0F1dGhQcm92aWRlcn0uXG4gKiBOb24tT0F1dGggcHJvdmlkZXJzIGxpa2Uge0BsaW5rIEVtYWlsQXV0aFByb3ZpZGVyfSB3aWxsIHRocm93IGFuIGVycm9yLlxuICogQHBhcmFtIHJlc29sdmVyIC0gQW4gaW5zdGFuY2Ugb2Yge0BsaW5rIFBvcHVwUmVkaXJlY3RSZXNvbHZlcn0sIG9wdGlvbmFsXG4gKiBpZiBhbHJlYWR5IHN1cHBsaWVkIHRvIHtAbGluayBpbml0aWFsaXplQXV0aH0gb3IgcHJvdmlkZWQgYnkge0BsaW5rIGdldEF1dGh9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpbmtXaXRoUG9wdXAoXG4gIHVzZXI6IFVzZXIsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIF9hc3NlcnRJbnN0YW5jZU9mKHVzZXJJbnRlcm5hbC5hdXRoLCBwcm92aWRlciwgRmVkZXJhdGVkQXV0aFByb3ZpZGVyKTtcbiAgY29uc3QgcmVzb2x2ZXJJbnRlcm5hbCA9IF93aXRoRGVmYXVsdFJlc29sdmVyKHVzZXJJbnRlcm5hbC5hdXRoLCByZXNvbHZlcik7XG5cbiAgY29uc3QgYWN0aW9uID0gbmV3IFBvcHVwT3BlcmF0aW9uKFxuICAgIHVzZXJJbnRlcm5hbC5hdXRoLFxuICAgIEF1dGhFdmVudFR5cGUuTElOS19WSUFfUE9QVVAsXG4gICAgcHJvdmlkZXIsXG4gICAgcmVzb2x2ZXJJbnRlcm5hbCxcbiAgICB1c2VySW50ZXJuYWxcbiAgKTtcbiAgcmV0dXJuIGFjdGlvbi5leGVjdXRlTm90TnVsbCgpO1xufVxuXG4vKipcbiAqIFBvcHVwIGV2ZW50IG1hbmFnZXIuIEhhbmRsZXMgdGhlIHBvcHVwJ3MgZW50aXJlIGxpZmVjeWNsZTsgbGlzdGVucyB0byBhdXRoXG4gKiBldmVudHNcbiAqXG4gKi9cbmNsYXNzIFBvcHVwT3BlcmF0aW9uIGV4dGVuZHMgQWJzdHJhY3RQb3B1cFJlZGlyZWN0T3BlcmF0aW9uIHtcbiAgLy8gT25seSBvbmUgcG9wdXAgaXMgZXZlciBzaG93biBhdCBvbmNlLiBUaGUgbGlmZWN5Y2xlIG9mIHRoZSBjdXJyZW50IHBvcHVwXG4gIC8vIGNhbiBiZSBtYW5hZ2VkIC8gY2FuY2VsbGVkIGJ5IHRoZSBjb25zdHJ1Y3Rvci5cbiAgcHJpdmF0ZSBzdGF0aWMgY3VycmVudFBvcHVwQWN0aW9uOiBQb3B1cE9wZXJhdGlvbiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGF1dGhXaW5kb3c6IEF1dGhQb3B1cCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHBvbGxJZDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGZpbHRlcjogQXV0aEV2ZW50VHlwZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gICAgcmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsLFxuICAgIHVzZXI/OiBVc2VySW50ZXJuYWxcbiAgKSB7XG4gICAgc3VwZXIoYXV0aCwgZmlsdGVyLCByZXNvbHZlciwgdXNlcik7XG4gICAgaWYgKFBvcHVwT3BlcmF0aW9uLmN1cnJlbnRQb3B1cEFjdGlvbikge1xuICAgICAgUG9wdXBPcGVyYXRpb24uY3VycmVudFBvcHVwQWN0aW9uLmNhbmNlbCgpO1xuICAgIH1cblxuICAgIFBvcHVwT3BlcmF0aW9uLmN1cnJlbnRQb3B1cEFjdGlvbiA9IHRoaXM7XG4gIH1cblxuICBhc3luYyBleGVjdXRlTm90TnVsbCgpOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5leGVjdXRlKCk7XG4gICAgX2Fzc2VydChyZXN1bHQsIHRoaXMuYXV0aCwgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGFzeW5jIG9uRXhlY3V0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGRlYnVnQXNzZXJ0KFxuICAgICAgdGhpcy5maWx0ZXIubGVuZ3RoID09PSAxLFxuICAgICAgJ1BvcHVwIG9wZXJhdGlvbnMgb25seSBoYW5kbGUgb25lIGV2ZW50J1xuICAgICk7XG4gICAgY29uc3QgZXZlbnRJZCA9IF9nZW5lcmF0ZUV2ZW50SWQoKTtcbiAgICB0aGlzLmF1dGhXaW5kb3cgPSBhd2FpdCB0aGlzLnJlc29sdmVyLl9vcGVuUG9wdXAoXG4gICAgICB0aGlzLmF1dGgsXG4gICAgICB0aGlzLnByb3ZpZGVyLFxuICAgICAgdGhpcy5maWx0ZXJbMF0sIC8vIFRoZXJlJ3MgYWx3YXlzIG9uZSwgc2VlIGNvbnN0cnVjdG9yXG4gICAgICBldmVudElkXG4gICAgKTtcbiAgICB0aGlzLmF1dGhXaW5kb3cuYXNzb2NpYXRlZEV2ZW50ID0gZXZlbnRJZDtcblxuICAgIC8vIENoZWNrIGZvciB3ZWIgc3RvcmFnZSBzdXBwb3J0IGFuZCBvcmlnaW4gdmFsaWRhdGlvbiBfYWZ0ZXJfIHRoZSBwb3B1cCBpc1xuICAgIC8vIGxvYWRlZC4gVGhlc2Ugb3BlcmF0aW9ucyBhcmUgc2xvdyAofjEgc2Vjb25kIG9yIHNvKSBSYXRoZXIgdGhhblxuICAgIC8vIHdhaXRpbmcgb24gdGhlbSBiZWZvcmUgb3BlbmluZyB0aGUgd2luZG93LCBvcHRpbWlzdGljYWxseSBvcGVuIHRoZSBwb3B1cFxuICAgIC8vIGFuZCBjaGVjayBmb3Igc3RvcmFnZSBzdXBwb3J0IGF0IHRoZSBzYW1lIHRpbWUuIElmIHN0b3JhZ2Ugc3VwcG9ydCBpc1xuICAgIC8vIG5vdCBhdmFpbGFibGUsIHRoaXMgd2lsbCBjYXVzZSB0aGUgd2hvbGUgdGhpbmcgdG8gcmVqZWN0IHByb3Blcmx5LiBJdFxuICAgIC8vIHdpbGwgYWxzbyBjbG9zZSB0aGUgcG9wdXAsIGJ1dCBzaW5jZSB0aGUgcHJvbWlzZSBoYXMgYWxyZWFkeSByZWplY3RlZCxcbiAgICAvLyB0aGUgcG9wdXAgY2xvc2VkIGJ5IHVzZXIgcG9sbCB3aWxsIHJlamVjdCBpbnRvIHRoZSB2b2lkLlxuICAgIHRoaXMucmVzb2x2ZXIuX29yaWdpblZhbGlkYXRpb24odGhpcy5hdXRoKS5jYXRjaChlID0+IHtcbiAgICAgIHRoaXMucmVqZWN0KGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZXNvbHZlci5faXNJZnJhbWVXZWJTdG9yYWdlU3VwcG9ydGVkKHRoaXMuYXV0aCwgaXNTdXBwb3J0ZWQgPT4ge1xuICAgICAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgICAgICB0aGlzLnJlamVjdChcbiAgICAgICAgICBfY3JlYXRlRXJyb3IodGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLldFQl9TVE9SQUdFX1VOU1VQUE9SVEVEKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIHVzZXIgY2xvc3VyZS4gTm90aWNlIHRoaXMgZG9lcyAqbm90KiB1c2UgYXdhaXRcbiAgICB0aGlzLnBvbGxVc2VyQ2FuY2VsbGF0aW9uKCk7XG4gIH1cblxuICBnZXQgZXZlbnRJZCgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5hdXRoV2luZG93Py5hc3NvY2lhdGVkRXZlbnQgfHwgbnVsbDtcbiAgfVxuXG4gIGNhbmNlbCgpOiB2b2lkIHtcbiAgICB0aGlzLnJlamVjdChfY3JlYXRlRXJyb3IodGhpcy5hdXRoLCBBdXRoRXJyb3JDb2RlLkVYUElSRURfUE9QVVBfUkVRVUVTVCkpO1xuICB9XG5cbiAgY2xlYW5VcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5hdXRoV2luZG93KSB7XG4gICAgICB0aGlzLmF1dGhXaW5kb3cuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wb2xsSWQpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5wb2xsSWQpO1xuICAgIH1cblxuICAgIHRoaXMuYXV0aFdpbmRvdyA9IG51bGw7XG4gICAgdGhpcy5wb2xsSWQgPSBudWxsO1xuICAgIFBvcHVwT3BlcmF0aW9uLmN1cnJlbnRQb3B1cEFjdGlvbiA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIHBvbGxVc2VyQ2FuY2VsbGF0aW9uKCk6IHZvaWQge1xuICAgIGNvbnN0IHBvbGwgPSAoKTogdm9pZCA9PiB7XG4gICAgICBpZiAodGhpcy5hdXRoV2luZG93Py53aW5kb3c/LmNsb3NlZCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGVyZSBpcyBzdWZmaWNpZW50IHRpbWUgZm9yIHdoYXRldmVyIGFjdGlvbiB0b1xuICAgICAgICAvLyBjb21wbGV0ZS4gVGhlIHdpbmRvdyBjb3VsZCBoYXZlIGNsb3NlZCBidXQgdGhlIHNpZ24gaW4gbmV0d29ya1xuICAgICAgICAvLyBjYWxsIGNvdWxkIHN0aWxsIGJlIGluIGZsaWdodC4gVGhpcyBpcyBzcGVjaWZpY2FsbHkgdHJ1ZSBmb3JcbiAgICAgICAgLy8gRmlyZWZveCBvciBpZiB0aGUgb3BlbmVyIGlzIGluIGFuIGlmcmFtZSwgaW4gd2hpY2ggY2FzZSB0aGUgb2F1dGhcbiAgICAgICAgLy8gaGVscGVyIGNsb3NlcyB0aGUgcG9wdXAuXG4gICAgICAgIHRoaXMucG9sbElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucG9sbElkID0gbnVsbDtcbiAgICAgICAgICB0aGlzLnJlamVjdChcbiAgICAgICAgICAgIF9jcmVhdGVFcnJvcih0aGlzLmF1dGgsIEF1dGhFcnJvckNvZGUuUE9QVVBfQ0xPU0VEX0JZX1VTRVIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSwgX1RpbWVvdXQuQVVUSF9FVkVOVCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wb2xsSWQgPSB3aW5kb3cuc2V0VGltZW91dChwb2xsLCBfUE9MTF9XSU5ET1dfQ0xPU0VfVElNRU9VVC5nZXQoKSk7XG4gICAgfTtcblxuICAgIHBvbGwoKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHtcbiAgQXV0aEV2ZW50LFxuICBBdXRoRXZlbnRUeXBlLFxuICBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbFxufSBmcm9tICcuLi8uLi9tb2RlbC9wb3B1cF9yZWRpcmVjdCc7XG5pbXBvcnQgeyBVc2VyQ3JlZGVudGlhbEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBQZXJzaXN0ZW5jZUludGVybmFsIH0gZnJvbSAnLi4vcGVyc2lzdGVuY2UnO1xuaW1wb3J0IHsgX3BlcnNpc3RlbmNlS2V5TmFtZSB9IGZyb20gJy4uL3BlcnNpc3RlbmNlL3BlcnNpc3RlbmNlX3VzZXJfbWFuYWdlcic7XG5pbXBvcnQgeyBfZ2V0SW5zdGFuY2UgfSBmcm9tICcuLi91dGlsL2luc3RhbnRpYXRvcic7XG5pbXBvcnQgeyBBYnN0cmFjdFBvcHVwUmVkaXJlY3RPcGVyYXRpb24gfSBmcm9tICcuL2Fic3RyYWN0X3BvcHVwX3JlZGlyZWN0X29wZXJhdGlvbic7XG5cbmNvbnN0IFBFTkRJTkdfUkVESVJFQ1RfS0VZID0gJ3BlbmRpbmdSZWRpcmVjdCc7XG5cbi8vIFdlIG9ubHkgZ2V0IG9uZSByZWRpcmVjdCBvdXRjb21lIGZvciBhbnkgb25lIGF1dGgsIHNvIGp1c3Qgc3RvcmUgaXRcbi8vIGluIGhlcmUuXG5jb25zdCByZWRpcmVjdE91dGNvbWVNYXA6IE1hcDxcbiAgc3RyaW5nLFxuICAoKSA9PiBQcm9taXNlPFVzZXJDcmVkZW50aWFsSW50ZXJuYWwgfCBudWxsPlxuPiA9IG5ldyBNYXAoKTtcblxuZXhwb3J0IGNsYXNzIFJlZGlyZWN0QWN0aW9uIGV4dGVuZHMgQWJzdHJhY3RQb3B1cFJlZGlyZWN0T3BlcmF0aW9uIHtcbiAgZXZlbnRJZCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIHJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCxcbiAgICBieXBhc3NBdXRoU3RhdGUgPSBmYWxzZVxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIGF1dGgsXG4gICAgICBbXG4gICAgICAgIEF1dGhFdmVudFR5cGUuU0lHTl9JTl9WSUFfUkVESVJFQ1QsXG4gICAgICAgIEF1dGhFdmVudFR5cGUuTElOS19WSUFfUkVESVJFQ1QsXG4gICAgICAgIEF1dGhFdmVudFR5cGUuUkVBVVRIX1ZJQV9SRURJUkVDVCxcbiAgICAgICAgQXV0aEV2ZW50VHlwZS5VTktOT1dOXG4gICAgICBdLFxuICAgICAgcmVzb2x2ZXIsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBieXBhc3NBdXRoU3RhdGVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBleGVjdXRlIGZ1bmN0aW9uOyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSByZWRpcmVjdCByZXN1bHQsIHRoZW5cbiAgICoganVzdCByZXR1cm4gaXQuXG4gICAqL1xuICBhc3luYyBleGVjdXRlKCk6IFByb21pc2U8VXNlckNyZWRlbnRpYWxJbnRlcm5hbCB8IG51bGw+IHtcbiAgICBsZXQgcmVhZHlPdXRjb21lID0gcmVkaXJlY3RPdXRjb21lTWFwLmdldCh0aGlzLmF1dGguX2tleSgpKTtcbiAgICBpZiAoIXJlYWR5T3V0Y29tZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaGFzUGVuZGluZ1JlZGlyZWN0ID0gYXdhaXQgX2dldEFuZENsZWFyUGVuZGluZ1JlZGlyZWN0U3RhdHVzKFxuICAgICAgICAgIHRoaXMucmVzb2x2ZXIsXG4gICAgICAgICAgdGhpcy5hdXRoXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGhhc1BlbmRpbmdSZWRpcmVjdCA/IGF3YWl0IHN1cGVyLmV4ZWN1dGUoKSA6IG51bGw7XG4gICAgICAgIHJlYWR5T3V0Y29tZSA9ICgpID0+IFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWFkeU91dGNvbWUgPSAoKSA9PiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgIH1cblxuICAgICAgcmVkaXJlY3RPdXRjb21lTWFwLnNldCh0aGlzLmF1dGguX2tleSgpLCByZWFkeU91dGNvbWUpO1xuICAgIH1cblxuICAgIC8vIElmIHdlJ3JlIG5vdCBieXBhc3NpbmcgYXV0aCBzdGF0ZSwgdGhlIHJlYWR5IG91dGNvbWUgc2hvdWxkIGJlIHNldCB0b1xuICAgIC8vIG51bGwuXG4gICAgaWYgKCF0aGlzLmJ5cGFzc0F1dGhTdGF0ZSkge1xuICAgICAgcmVkaXJlY3RPdXRjb21lTWFwLnNldCh0aGlzLmF1dGguX2tleSgpLCAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZWFkeU91dGNvbWUoKTtcbiAgfVxuXG4gIGFzeW5jIG9uQXV0aEV2ZW50KGV2ZW50OiBBdXRoRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gQXV0aEV2ZW50VHlwZS5TSUdOX0lOX1ZJQV9SRURJUkVDVCkge1xuICAgICAgcmV0dXJuIHN1cGVyLm9uQXV0aEV2ZW50KGV2ZW50KTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IEF1dGhFdmVudFR5cGUuVU5LTk9XTikge1xuICAgICAgLy8gVGhpcyBpcyBhIHNlbnRpbmVsIHZhbHVlIGluZGljYXRpbmcgdGhlcmUncyBubyBwZW5kaW5nIHJlZGlyZWN0XG4gICAgICB0aGlzLnJlc29sdmUobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmV2ZW50SWQpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmF1dGguX3JlZGlyZWN0VXNlckZvcklkKGV2ZW50LmV2ZW50SWQpO1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm9uQXV0aEV2ZW50KGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZShudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBvbkV4ZWN1dGlvbigpOiBQcm9taXNlPHZvaWQ+IHt9XG5cbiAgY2xlYW5VcCgpOiB2b2lkIHt9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfZ2V0QW5kQ2xlYXJQZW5kaW5nUmVkaXJlY3RTdGF0dXMoXG4gIHJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJJbnRlcm5hbCxcbiAgYXV0aDogQXV0aEludGVybmFsXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3Qga2V5ID0gcGVuZGluZ1JlZGlyZWN0S2V5KGF1dGgpO1xuICBjb25zdCBwZXJzaXN0ZW5jZSA9IHJlc29sdmVyUGVyc2lzdGVuY2UocmVzb2x2ZXIpO1xuICBpZiAoIShhd2FpdCBwZXJzaXN0ZW5jZS5faXNBdmFpbGFibGUoKSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgaGFzUGVuZGluZ1JlZGlyZWN0ID0gKGF3YWl0IHBlcnNpc3RlbmNlLl9nZXQoa2V5KSkgPT09ICd0cnVlJztcbiAgYXdhaXQgcGVyc2lzdGVuY2UuX3JlbW92ZShrZXkpO1xuICByZXR1cm4gaGFzUGVuZGluZ1JlZGlyZWN0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3NldFBlbmRpbmdSZWRpcmVjdFN0YXR1cyhcbiAgcmVzb2x2ZXI6IFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsLFxuICBhdXRoOiBBdXRoSW50ZXJuYWxcbik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gcmVzb2x2ZXJQZXJzaXN0ZW5jZShyZXNvbHZlcikuX3NldChwZW5kaW5nUmVkaXJlY3RLZXkoYXV0aCksICd0cnVlJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfY2xlYXJSZWRpcmVjdE91dGNvbWVzKCk6IHZvaWQge1xuICByZWRpcmVjdE91dGNvbWVNYXAuY2xlYXIoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9vdmVycmlkZVJlZGlyZWN0UmVzdWx0KFxuICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gIHJlc3VsdDogKCkgPT4gUHJvbWlzZTxVc2VyQ3JlZGVudGlhbEludGVybmFsIHwgbnVsbD5cbik6IHZvaWQge1xuICByZWRpcmVjdE91dGNvbWVNYXAuc2V0KGF1dGguX2tleSgpLCByZXN1bHQpO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlclBlcnNpc3RlbmNlKFxuICByZXNvbHZlcjogUG9wdXBSZWRpcmVjdFJlc29sdmVySW50ZXJuYWxcbik6IFBlcnNpc3RlbmNlSW50ZXJuYWwge1xuICByZXR1cm4gX2dldEluc3RhbmNlKHJlc29sdmVyLl9yZWRpcmVjdFBlcnNpc3RlbmNlKTtcbn1cblxuZnVuY3Rpb24gcGVuZGluZ1JlZGlyZWN0S2V5KGF1dGg6IEF1dGhJbnRlcm5hbCk6IHN0cmluZyB7XG4gIHJldHVybiBfcGVyc2lzdGVuY2VLZXlOYW1lKFxuICAgIFBFTkRJTkdfUkVESVJFQ1RfS0VZLFxuICAgIGF1dGguY29uZmlnLmFwaUtleSxcbiAgICBhdXRoLm5hbWVcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBdXRoLFxuICBBdXRoUHJvdmlkZXIsXG4gIFBvcHVwUmVkaXJlY3RSZXNvbHZlcixcbiAgVXNlcixcbiAgVXNlckNyZWRlbnRpYWxcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgX2Nhc3RBdXRoIH0gZnJvbSAnLi4vLi4vY29yZS9hdXRoL2F1dGhfaW1wbCc7XG5pbXBvcnQgeyBfYXNzZXJ0TGlua2VkU3RhdHVzIH0gZnJvbSAnLi4vLi4vY29yZS91c2VyL2xpbmtfdW5saW5rJztcbmltcG9ydCB7XG4gIF9hc3NlcnRJbnN0YW5jZU9mLFxuICBfc2VydmVyQXBwQ3VycmVudFVzZXJPcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvclxufSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9nZW5lcmF0ZUV2ZW50SWQgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvZXZlbnRfaWQnO1xuaW1wb3J0IHsgQXV0aEV2ZW50VHlwZSB9IGZyb20gJy4uLy4uL21vZGVsL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IFVzZXJJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL3VzZXInO1xuaW1wb3J0IHsgX3dpdGhEZWZhdWx0UmVzb2x2ZXIgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvcmVzb2x2ZXInO1xuaW1wb3J0IHtcbiAgUmVkaXJlY3RBY3Rpb24sXG4gIF9zZXRQZW5kaW5nUmVkaXJlY3RTdGF0dXNcbn0gZnJvbSAnLi4vLi4vY29yZS9zdHJhdGVnaWVzL3JlZGlyZWN0JztcbmltcG9ydCB7IEZlZGVyYXRlZEF1dGhQcm92aWRlciB9IGZyb20gJy4uLy4uL2NvcmUvcHJvdmlkZXJzL2ZlZGVyYXRlZCc7XG5pbXBvcnQgeyBnZXRNb2R1bGFySW5zdGFuY2UgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG4vKipcbiAqIEF1dGhlbnRpY2F0ZXMgYSBGaXJlYmFzZSBjbGllbnQgdXNpbmcgYSBmdWxsLXBhZ2UgcmVkaXJlY3QgZmxvdy5cbiAqXG4gKiBAcmVtYXJrc1xuICogVG8gaGFuZGxlIHRoZSByZXN1bHRzIGFuZCBlcnJvcnMgZm9yIHRoaXMgb3BlcmF0aW9uLCByZWZlciB0byB7QGxpbmsgZ2V0UmVkaXJlY3RSZXN1bHR9LlxuICogRm9sbG93IHRoZSB7QGxpbmsgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvYXV0aC93ZWIvcmVkaXJlY3QtYmVzdC1wcmFjdGljZXNcbiAqIHwgYmVzdCBwcmFjdGljZXN9IHdoZW4gdXNpbmcge0BsaW5rIHNpZ25JbldpdGhSZWRpcmVjdH0uXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igd2l0aCB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSByZWRpcmVjdC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG4gKiAvLyBZb3UgY2FuIGFkZCBhZGRpdGlvbmFsIHNjb3BlcyB0byB0aGUgcHJvdmlkZXI6XG4gKiBwcm92aWRlci5hZGRTY29wZSgndXNlcl9iaXJ0aGRheScpO1xuICogLy8gU3RhcnQgYSBzaWduIGluIHByb2Nlc3MgZm9yIGFuIHVuYXV0aGVudGljYXRlZCB1c2VyLlxuICogYXdhaXQgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogaWYgKHJlc3VsdCkge1xuICogICAvLyBUaGlzIGlzIHRoZSBzaWduZWQtaW4gdXNlclxuICogICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgRmFjZWJvb2sgQWNjZXNzIFRva2VuLlxuICogICBjb25zdCBjcmVkZW50aWFsID0gcHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQoYXV0aCwgcmVzdWx0KTtcbiAqICAgY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogfVxuICogLy8gQXMgdGhpcyBBUEkgY2FuIGJlIHVzZWQgZm9yIHNpZ24taW4sIGxpbmtpbmcgYW5kIHJlYXV0aGVudGljYXRpb24sXG4gKiAvLyBjaGVjayB0aGUgb3BlcmF0aW9uVHlwZSB0byBkZXRlcm1pbmUgd2hhdCB0cmlnZ2VyZWQgdGhpcyByZWRpcmVjdFxuICogLy8gb3BlcmF0aW9uLlxuICogY29uc3Qgb3BlcmF0aW9uVHlwZSA9IHJlc3VsdC5vcGVyYXRpb25UeXBlO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIHByb3ZpZGVyIC0gVGhlIHByb3ZpZGVyIHRvIGF1dGhlbnRpY2F0ZS4gVGhlIHByb3ZpZGVyIGhhcyB0byBiZSBhbiB7QGxpbmsgT0F1dGhQcm92aWRlcn0uXG4gKiBOb24tT0F1dGggcHJvdmlkZXJzIGxpa2Uge0BsaW5rIEVtYWlsQXV0aFByb3ZpZGVyfSB3aWxsIHRocm93IGFuIGVycm9yLlxuICogQHBhcmFtIHJlc29sdmVyIC0gQW4gaW5zdGFuY2Ugb2Yge0BsaW5rIFBvcHVwUmVkaXJlY3RSZXNvbHZlcn0sIG9wdGlvbmFsXG4gKiBpZiBhbHJlYWR5IHN1cHBsaWVkIHRvIHtAbGluayBpbml0aWFsaXplQXV0aH0gb3IgcHJvdmlkZWQgYnkge0BsaW5rIGdldEF1dGh9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ25JbldpdGhSZWRpcmVjdChcbiAgYXV0aDogQXV0aCxcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8bmV2ZXI+IHtcbiAgcmV0dXJuIF9zaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIsIHJlc29sdmVyKSBhcyBQcm9taXNlPG5ldmVyPjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9zaWduSW5XaXRoUmVkaXJlY3QoXG4gIGF1dGg6IEF1dGgsXG4gIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gIHJlc29sdmVyPzogUG9wdXBSZWRpcmVjdFJlc29sdmVyXG4pOiBQcm9taXNlPHZvaWQgfCBuZXZlcj4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgX2Fzc2VydEluc3RhbmNlT2YoYXV0aCwgcHJvdmlkZXIsIEZlZGVyYXRlZEF1dGhQcm92aWRlcik7XG4gIC8vIFdhaXQgZm9yIGF1dGggaW5pdGlhbGl6YXRpb24gdG8gY29tcGxldGUsIHRoaXMgd2lsbCBwcm9jZXNzIHBlbmRpbmcgcmVkaXJlY3RzIGFuZCBjbGVhciB0aGVcbiAgLy8gUEVORElOR19SRURJUkVDVF9LRVkgaW4gcGVyc2lzdGVuY2UuIFRoaXMgc2hvdWxkIGJlIGNvbXBsZXRlZCBiZWZvcmUgc3RhcnRpbmcgYSBuZXdcbiAgLy8gcmVkaXJlY3QgYW5kIGNyZWF0aW5nIGEgUEVORElOR19SRURJUkVDVF9LRVkgZW50cnkuXG4gIGF3YWl0IGF1dGhJbnRlcm5hbC5faW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICBjb25zdCByZXNvbHZlckludGVybmFsID0gX3dpdGhEZWZhdWx0UmVzb2x2ZXIoYXV0aEludGVybmFsLCByZXNvbHZlcik7XG4gIGF3YWl0IF9zZXRQZW5kaW5nUmVkaXJlY3RTdGF0dXMocmVzb2x2ZXJJbnRlcm5hbCwgYXV0aEludGVybmFsKTtcblxuICByZXR1cm4gcmVzb2x2ZXJJbnRlcm5hbC5fb3BlblJlZGlyZWN0KFxuICAgIGF1dGhJbnRlcm5hbCxcbiAgICBwcm92aWRlcixcbiAgICBBdXRoRXZlbnRUeXBlLlNJR05fSU5fVklBX1JFRElSRUNUXG4gICk7XG59XG5cbi8qKlxuICogUmVhdXRoZW50aWNhdGVzIHRoZSBjdXJyZW50IHVzZXIgd2l0aCB0aGUgc3BlY2lmaWVkIHtAbGluayBPQXV0aFByb3ZpZGVyfSB1c2luZyBhIGZ1bGwtcGFnZSByZWRpcmVjdCBmbG93LlxuICogQHJlbWFya3NcbiAqIFRvIGhhbmRsZSB0aGUgcmVzdWx0cyBhbmQgZXJyb3JzIGZvciB0aGlzIG9wZXJhdGlvbiwgcmVmZXIgdG8ge0BsaW5rIGdldFJlZGlyZWN0UmVzdWx0fS5cbiAqIEZvbGxvdyB0aGUge0BsaW5rIGh0dHBzOi8vZmlyZWJhc2UuZ29vZ2xlLmNvbS9kb2NzL2F1dGgvd2ViL3JlZGlyZWN0LWJlc3QtcHJhY3RpY2VzXG4gKiB8IGJlc3QgcHJhY3RpY2VzfSB3aGVuIHVzaW5nIHtAbGluayByZWF1dGhlbnRpY2F0ZVdpdGhSZWRpcmVjdH0uXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igd2l0aCB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzXG4gKiBjcmVhdGVkIHdpdGggYSB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSByZWRpcmVjdC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoUmVkaXJlY3QoYXV0aCwgcHJvdmlkZXIpO1xuICogLy8gVGhpcyB3aWxsIHRyaWdnZXIgYSBmdWxsIHBhZ2UgcmVkaXJlY3QgYXdheSBmcm9tIHlvdXIgYXBwXG4gKlxuICogLy8gQWZ0ZXIgcmV0dXJuaW5nIGZyb20gdGhlIHJlZGlyZWN0IHdoZW4geW91ciBhcHAgaW5pdGlhbGl6ZXMgeW91IGNhbiBvYnRhaW4gdGhlIHJlc3VsdFxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCk7XG4gKiAvLyBSZWF1dGhlbnRpY2F0ZSB1c2luZyBhIHJlZGlyZWN0LlxuICogYXdhaXQgcmVhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3QocmVzdWx0LnVzZXIsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCBhZ2FpbiB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBhdXRoZW50aWNhdGUuIFRoZSBwcm92aWRlciBoYXMgdG8gYmUgYW4ge0BsaW5rIE9BdXRoUHJvdmlkZXJ9LlxuICogTm9uLU9BdXRoIHByb3ZpZGVycyBsaWtlIHtAbGluayBFbWFpbEF1dGhQcm92aWRlcn0gd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAqIEBwYXJhbSByZXNvbHZlciAtIEFuIGluc3RhbmNlIG9mIHtAbGluayBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJ9LCBvcHRpb25hbFxuICogaWYgYWxyZWFkeSBzdXBwbGllZCB0byB7QGxpbmsgaW5pdGlhbGl6ZUF1dGh9IG9yIHByb3ZpZGVkIGJ5IHtAbGluayBnZXRBdXRofS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWF1dGhlbnRpY2F0ZVdpdGhSZWRpcmVjdChcbiAgdXNlcjogVXNlcixcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8bmV2ZXI+IHtcbiAgcmV0dXJuIF9yZWF1dGhlbnRpY2F0ZVdpdGhSZWRpcmVjdChcbiAgICB1c2VyLFxuICAgIHByb3ZpZGVyLFxuICAgIHJlc29sdmVyXG4gICkgYXMgUHJvbWlzZTxuZXZlcj47XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3JlYXV0aGVudGljYXRlV2l0aFJlZGlyZWN0KFxuICB1c2VyOiBVc2VyLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTx2b2lkIHwgbmV2ZXI+IHtcbiAgY29uc3QgdXNlckludGVybmFsID0gZ2V0TW9kdWxhckluc3RhbmNlKHVzZXIpIGFzIFVzZXJJbnRlcm5hbDtcbiAgX2Fzc2VydEluc3RhbmNlT2YodXNlckludGVybmFsLmF1dGgsIHByb3ZpZGVyLCBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIpO1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAodXNlckludGVybmFsLmF1dGguYXBwKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIF9zZXJ2ZXJBcHBDdXJyZW50VXNlck9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKHVzZXJJbnRlcm5hbC5hdXRoKVxuICAgICk7XG4gIH1cbiAgLy8gV2FpdCBmb3IgYXV0aCBpbml0aWFsaXphdGlvbiB0byBjb21wbGV0ZSwgdGhpcyB3aWxsIHByb2Nlc3MgcGVuZGluZyByZWRpcmVjdHMgYW5kIGNsZWFyIHRoZVxuICAvLyBQRU5ESU5HX1JFRElSRUNUX0tFWSBpbiBwZXJzaXN0ZW5jZS4gVGhpcyBzaG91bGQgYmUgY29tcGxldGVkIGJlZm9yZSBzdGFydGluZyBhIG5ld1xuICAvLyByZWRpcmVjdCBhbmQgY3JlYXRpbmcgYSBQRU5ESU5HX1JFRElSRUNUX0tFWSBlbnRyeS5cbiAgYXdhaXQgdXNlckludGVybmFsLmF1dGguX2luaXRpYWxpemF0aW9uUHJvbWlzZTtcbiAgLy8gQWxsb3cgdGhlIHJlc29sdmVyIHRvIGVycm9yIGJlZm9yZSBwZXJzaXN0aW5nIHRoZSByZWRpcmVjdCB1c2VyXG4gIGNvbnN0IHJlc29sdmVySW50ZXJuYWwgPSBfd2l0aERlZmF1bHRSZXNvbHZlcih1c2VySW50ZXJuYWwuYXV0aCwgcmVzb2x2ZXIpO1xuICBhd2FpdCBfc2V0UGVuZGluZ1JlZGlyZWN0U3RhdHVzKHJlc29sdmVySW50ZXJuYWwsIHVzZXJJbnRlcm5hbC5hdXRoKTtcblxuICBjb25zdCBldmVudElkID0gYXdhaXQgcHJlcGFyZVVzZXJGb3JSZWRpcmVjdCh1c2VySW50ZXJuYWwpO1xuICByZXR1cm4gcmVzb2x2ZXJJbnRlcm5hbC5fb3BlblJlZGlyZWN0KFxuICAgIHVzZXJJbnRlcm5hbC5hdXRoLFxuICAgIHByb3ZpZGVyLFxuICAgIEF1dGhFdmVudFR5cGUuUkVBVVRIX1ZJQV9SRURJUkVDVCxcbiAgICBldmVudElkXG4gICk7XG59XG5cbi8qKlxuICogTGlua3MgdGhlIHtAbGluayBPQXV0aFByb3ZpZGVyfSB0byB0aGUgdXNlciBhY2NvdW50IHVzaW5nIGEgZnVsbC1wYWdlIHJlZGlyZWN0IGZsb3cuXG4gKiBAcmVtYXJrc1xuICogVG8gaGFuZGxlIHRoZSByZXN1bHRzIGFuZCBlcnJvcnMgZm9yIHRoaXMgb3BlcmF0aW9uLCByZWZlciB0byB7QGxpbmsgZ2V0UmVkaXJlY3RSZXN1bHR9LlxuICogRm9sbG93IHRoZSB7QGxpbmsgaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL2RvY3MvYXV0aC93ZWIvcmVkaXJlY3QtYmVzdC1wcmFjdGljZXNcbiAqIHwgYmVzdCBwcmFjdGljZXN9IHdoZW4gdXNpbmcge0BsaW5rIGxpbmtXaXRoUmVkaXJlY3R9LlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IG9yIHdpdGgge0BsaW5rIEF1dGh9IGluc3RhbmNlc1xuICogY3JlYXRlZCB3aXRoIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VTZXJ2ZXJBcHB9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBTaWduIGluIHVzaW5nIHNvbWUgb3RoZXIgcHJvdmlkZXIuXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChhdXRoLCBlbWFpbCwgcGFzc3dvcmQpO1xuICogLy8gTGluayB1c2luZyBhIHJlZGlyZWN0LlxuICogY29uc3QgcHJvdmlkZXIgPSBuZXcgRmFjZWJvb2tBdXRoUHJvdmlkZXIoKTtcbiAqIGF3YWl0IGxpbmtXaXRoUmVkaXJlY3QocmVzdWx0LnVzZXIsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlci5cbiAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byBhdXRoZW50aWNhdGUuIFRoZSBwcm92aWRlciBoYXMgdG8gYmUgYW4ge0BsaW5rIE9BdXRoUHJvdmlkZXJ9LlxuICogTm9uLU9BdXRoIHByb3ZpZGVycyBsaWtlIHtAbGluayBFbWFpbEF1dGhQcm92aWRlcn0gd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAqIEBwYXJhbSByZXNvbHZlciAtIEFuIGluc3RhbmNlIG9mIHtAbGluayBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJ9LCBvcHRpb25hbFxuICogaWYgYWxyZWFkeSBzdXBwbGllZCB0byB7QGxpbmsgaW5pdGlhbGl6ZUF1dGh9IG9yIHByb3ZpZGVkIGJ5IHtAbGluayBnZXRBdXRofS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW5rV2l0aFJlZGlyZWN0KFxuICB1c2VyOiBVc2VyLFxuICBwcm92aWRlcjogQXV0aFByb3ZpZGVyLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTxuZXZlcj4ge1xuICByZXR1cm4gX2xpbmtXaXRoUmVkaXJlY3QodXNlciwgcHJvdmlkZXIsIHJlc29sdmVyKSBhcyBQcm9taXNlPG5ldmVyPjtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfbGlua1dpdGhSZWRpcmVjdChcbiAgdXNlcjogVXNlcixcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgcmVzb2x2ZXI/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXJcbik6IFByb21pc2U8dm9pZCB8IG5ldmVyPiB7XG4gIGNvbnN0IHVzZXJJbnRlcm5hbCA9IGdldE1vZHVsYXJJbnN0YW5jZSh1c2VyKSBhcyBVc2VySW50ZXJuYWw7XG4gIF9hc3NlcnRJbnN0YW5jZU9mKHVzZXJJbnRlcm5hbC5hdXRoLCBwcm92aWRlciwgRmVkZXJhdGVkQXV0aFByb3ZpZGVyKTtcbiAgLy8gV2FpdCBmb3IgYXV0aCBpbml0aWFsaXphdGlvbiB0byBjb21wbGV0ZSwgdGhpcyB3aWxsIHByb2Nlc3MgcGVuZGluZyByZWRpcmVjdHMgYW5kIGNsZWFyIHRoZVxuICAvLyBQRU5ESU5HX1JFRElSRUNUX0tFWSBpbiBwZXJzaXN0ZW5jZS4gVGhpcyBzaG91bGQgYmUgY29tcGxldGVkIGJlZm9yZSBzdGFydGluZyBhIG5ld1xuICAvLyByZWRpcmVjdCBhbmQgY3JlYXRpbmcgYSBQRU5ESU5HX1JFRElSRUNUX0tFWSBlbnRyeS5cbiAgYXdhaXQgdXNlckludGVybmFsLmF1dGguX2luaXRpYWxpemF0aW9uUHJvbWlzZTtcbiAgLy8gQWxsb3cgdGhlIHJlc29sdmVyIHRvIGVycm9yIGJlZm9yZSBwZXJzaXN0aW5nIHRoZSByZWRpcmVjdCB1c2VyXG4gIGNvbnN0IHJlc29sdmVySW50ZXJuYWwgPSBfd2l0aERlZmF1bHRSZXNvbHZlcih1c2VySW50ZXJuYWwuYXV0aCwgcmVzb2x2ZXIpO1xuICBhd2FpdCBfYXNzZXJ0TGlua2VkU3RhdHVzKGZhbHNlLCB1c2VySW50ZXJuYWwsIHByb3ZpZGVyLnByb3ZpZGVySWQpO1xuICBhd2FpdCBfc2V0UGVuZGluZ1JlZGlyZWN0U3RhdHVzKHJlc29sdmVySW50ZXJuYWwsIHVzZXJJbnRlcm5hbC5hdXRoKTtcblxuICBjb25zdCBldmVudElkID0gYXdhaXQgcHJlcGFyZVVzZXJGb3JSZWRpcmVjdCh1c2VySW50ZXJuYWwpO1xuICByZXR1cm4gcmVzb2x2ZXJJbnRlcm5hbC5fb3BlblJlZGlyZWN0KFxuICAgIHVzZXJJbnRlcm5hbC5hdXRoLFxuICAgIHByb3ZpZGVyLFxuICAgIEF1dGhFdmVudFR5cGUuTElOS19WSUFfUkVESVJFQ1QsXG4gICAgZXZlbnRJZFxuICApO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB7QGxpbmsgVXNlckNyZWRlbnRpYWx9IGZyb20gdGhlIHJlZGlyZWN0LWJhc2VkIHNpZ24taW4gZmxvdy5cbiAqXG4gKiBAcmVtYXJrc1xuICogSWYgc2lnbi1pbiBzdWNjZWVkZWQsIHJldHVybnMgdGhlIHNpZ25lZCBpbiB1c2VyLiBJZiBzaWduLWluIHdhcyB1bnN1Y2Nlc3NmdWwsIGZhaWxzIHdpdGggYW5cbiAqIGVycm9yLiBJZiBubyByZWRpcmVjdCBvcGVyYXRpb24gd2FzIGNhbGxlZCwgcmV0dXJucyBgbnVsbGAuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQgb3Igd2l0aCB7QGxpbmsgQXV0aH0gaW5zdGFuY2VzIGNyZWF0ZWQgd2l0aCBhXG4gKiB7QGxpbmsgQGZpcmViYXNlL2FwcCNGaXJlYmFzZVNlcnZlckFwcH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIFNpZ24gaW4gdXNpbmcgYSByZWRpcmVjdC5cbiAqIGNvbnN0IHByb3ZpZGVyID0gbmV3IEZhY2Vib29rQXV0aFByb3ZpZGVyKCk7XG4gKiAvLyBZb3UgY2FuIGFkZCBhZGRpdGlvbmFsIHNjb3BlcyB0byB0aGUgcHJvdmlkZXI6XG4gKiBwcm92aWRlci5hZGRTY29wZSgndXNlcl9iaXJ0aGRheScpO1xuICogLy8gU3RhcnQgYSBzaWduIGluIHByb2Nlc3MgZm9yIGFuIHVuYXV0aGVudGljYXRlZCB1c2VyLlxuICogYXdhaXQgc2lnbkluV2l0aFJlZGlyZWN0KGF1dGgsIHByb3ZpZGVyKTtcbiAqIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgZnVsbCBwYWdlIHJlZGlyZWN0IGF3YXkgZnJvbSB5b3VyIGFwcFxuICpcbiAqIC8vIEFmdGVyIHJldHVybmluZyBmcm9tIHRoZSByZWRpcmVjdCB3aGVuIHlvdXIgYXBwIGluaXRpYWxpemVzIHlvdSBjYW4gb2J0YWluIHRoZSByZXN1bHRcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFJlZGlyZWN0UmVzdWx0KGF1dGgpO1xuICogaWYgKHJlc3VsdCkge1xuICogICAvLyBUaGlzIGlzIHRoZSBzaWduZWQtaW4gdXNlclxuICogICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7XG4gKiAgIC8vIFRoaXMgZ2l2ZXMgeW91IGEgRmFjZWJvb2sgQWNjZXNzIFRva2VuLlxuICogICBjb25zdCBjcmVkZW50aWFsID0gcHJvdmlkZXIuY3JlZGVudGlhbEZyb21SZXN1bHQoYXV0aCwgcmVzdWx0KTtcbiAqICAgY29uc3QgdG9rZW4gPSBjcmVkZW50aWFsLmFjY2Vzc1Rva2VuO1xuICogfVxuICogLy8gQXMgdGhpcyBBUEkgY2FuIGJlIHVzZWQgZm9yIHNpZ24taW4sIGxpbmtpbmcgYW5kIHJlYXV0aGVudGljYXRpb24sXG4gKiAvLyBjaGVjayB0aGUgb3BlcmF0aW9uVHlwZSB0byBkZXRlcm1pbmUgd2hhdCB0cmlnZ2VyZWQgdGhpcyByZWRpcmVjdFxuICogLy8gb3BlcmF0aW9uLlxuICogY29uc3Qgb3BlcmF0aW9uVHlwZSA9IHJlc3VsdC5vcGVyYXRpb25UeXBlO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGggLSBUaGUge0BsaW5rIEF1dGh9IGluc3RhbmNlLlxuICogQHBhcmFtIHJlc29sdmVyIC0gQW4gaW5zdGFuY2Ugb2Yge0BsaW5rIFBvcHVwUmVkaXJlY3RSZXNvbHZlcn0sIG9wdGlvbmFsXG4gKiBpZiBhbHJlYWR5IHN1cHBsaWVkIHRvIHtAbGluayBpbml0aWFsaXplQXV0aH0gb3IgcHJvdmlkZWQgYnkge0BsaW5rIGdldEF1dGh9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlZGlyZWN0UmVzdWx0KFxuICBhdXRoOiBBdXRoLFxuICByZXNvbHZlcj86IFBvcHVwUmVkaXJlY3RSZXNvbHZlclxuKTogUHJvbWlzZTxVc2VyQ3JlZGVudGlhbCB8IG51bGw+IHtcbiAgYXdhaXQgX2Nhc3RBdXRoKGF1dGgpLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gIHJldHVybiBfZ2V0UmVkaXJlY3RSZXN1bHQoYXV0aCwgcmVzb2x2ZXIsIGZhbHNlKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9nZXRSZWRpcmVjdFJlc3VsdChcbiAgYXV0aDogQXV0aCxcbiAgcmVzb2x2ZXJFeHRlcm4/OiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXIsXG4gIGJ5cGFzc0F1dGhTdGF0ZSA9IGZhbHNlXG4pOiBQcm9taXNlPFVzZXJDcmVkZW50aWFsIHwgbnVsbD4ge1xuICBpZiAoX2lzRmlyZWJhc2VTZXJ2ZXJBcHAoYXV0aC5hcHApKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgX3NlcnZlckFwcEN1cnJlbnRVc2VyT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IoYXV0aClcbiAgICApO1xuICB9XG4gIGNvbnN0IGF1dGhJbnRlcm5hbCA9IF9jYXN0QXV0aChhdXRoKTtcbiAgY29uc3QgcmVzb2x2ZXIgPSBfd2l0aERlZmF1bHRSZXNvbHZlcihhdXRoSW50ZXJuYWwsIHJlc29sdmVyRXh0ZXJuKTtcbiAgY29uc3QgYWN0aW9uID0gbmV3IFJlZGlyZWN0QWN0aW9uKGF1dGhJbnRlcm5hbCwgcmVzb2x2ZXIsIGJ5cGFzc0F1dGhTdGF0ZSk7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFjdGlvbi5leGVjdXRlKCk7XG5cbiAgaWYgKHJlc3VsdCAmJiAhYnlwYXNzQXV0aFN0YXRlKSB7XG4gICAgZGVsZXRlIHJlc3VsdC51c2VyLl9yZWRpcmVjdEV2ZW50SWQ7XG4gICAgYXdhaXQgYXV0aEludGVybmFsLl9wZXJzaXN0VXNlcklmQ3VycmVudChyZXN1bHQudXNlciBhcyBVc2VySW50ZXJuYWwpO1xuICAgIGF3YWl0IGF1dGhJbnRlcm5hbC5fc2V0UmVkaXJlY3RVc2VyKG51bGwsIHJlc29sdmVyRXh0ZXJuKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHByZXBhcmVVc2VyRm9yUmVkaXJlY3QodXNlcjogVXNlckludGVybmFsKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgZXZlbnRJZCA9IF9nZW5lcmF0ZUV2ZW50SWQoYCR7dXNlci51aWR9Ojo6YCk7XG4gIHVzZXIuX3JlZGlyZWN0RXZlbnRJZCA9IGV2ZW50SWQ7XG4gIGF3YWl0IHVzZXIuYXV0aC5fc2V0UmVkaXJlY3RVc2VyKHVzZXIpO1xuICBhd2FpdCB1c2VyLmF1dGguX3BlcnNpc3RVc2VySWZDdXJyZW50KHVzZXIpO1xuICByZXR1cm4gZXZlbnRJZDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBBdXRoRXZlbnQsXG4gIEF1dGhFdmVudENvbnN1bWVyLFxuICBBdXRoRXZlbnRUeXBlLFxuICBFdmVudE1hbmFnZXJcbn0gZnJvbSAnLi4vLi4vbW9kZWwvcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IF9jcmVhdGVFcnJvciB9IGZyb20gJy4uL3V0aWwvYXNzZXJ0JztcblxuLy8gVGhlIGFtb3VudCBvZiB0aW1lIHRvIHN0b3JlIHRoZSBVSURzIG9mIHNlZW4gZXZlbnRzOyB0aGlzIGlzXG4vLyBzZXQgdG8gMTAgbWluIGJ5IGRlZmF1bHRcbmNvbnN0IEVWRU5UX0RVUExJQ0FUSU9OX0NBQ0hFX0RVUkFUSU9OX01TID0gMTAgKiA2MCAqIDEwMDA7XG5cbmV4cG9ydCBjbGFzcyBBdXRoRXZlbnRNYW5hZ2VyIGltcGxlbWVudHMgRXZlbnRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBjYWNoZWRFdmVudFVpZHM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNvbnN1bWVyczogU2V0PEF1dGhFdmVudENvbnN1bWVyPiA9IG5ldyBTZXQoKTtcbiAgcHJvdGVjdGVkIHF1ZXVlZFJlZGlyZWN0RXZlbnQ6IEF1dGhFdmVudCB8IG51bGwgPSBudWxsO1xuICBwcm90ZWN0ZWQgaGFzSGFuZGxlZFBvdGVudGlhbFJlZGlyZWN0ID0gZmFsc2U7XG4gIHByaXZhdGUgbGFzdFByb2Nlc3NlZEV2ZW50VGltZSA9IERhdGUubm93KCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWwpIHt9XG5cbiAgcmVnaXN0ZXJDb25zdW1lcihhdXRoRXZlbnRDb25zdW1lcjogQXV0aEV2ZW50Q29uc3VtZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvbnN1bWVycy5hZGQoYXV0aEV2ZW50Q29uc3VtZXIpO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5xdWV1ZWRSZWRpcmVjdEV2ZW50ICYmXG4gICAgICB0aGlzLmlzRXZlbnRGb3JDb25zdW1lcih0aGlzLnF1ZXVlZFJlZGlyZWN0RXZlbnQsIGF1dGhFdmVudENvbnN1bWVyKVxuICAgICkge1xuICAgICAgdGhpcy5zZW5kVG9Db25zdW1lcih0aGlzLnF1ZXVlZFJlZGlyZWN0RXZlbnQsIGF1dGhFdmVudENvbnN1bWVyKTtcbiAgICAgIHRoaXMuc2F2ZUV2ZW50VG9DYWNoZSh0aGlzLnF1ZXVlZFJlZGlyZWN0RXZlbnQpO1xuICAgICAgdGhpcy5xdWV1ZWRSZWRpcmVjdEV2ZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICB1bnJlZ2lzdGVyQ29uc3VtZXIoYXV0aEV2ZW50Q29uc3VtZXI6IEF1dGhFdmVudENvbnN1bWVyKTogdm9pZCB7XG4gICAgdGhpcy5jb25zdW1lcnMuZGVsZXRlKGF1dGhFdmVudENvbnN1bWVyKTtcbiAgfVxuXG4gIG9uRXZlbnQoZXZlbnQ6IEF1dGhFdmVudCk6IGJvb2xlYW4ge1xuICAgIC8vIENoZWNrIGlmIHRoZSBldmVudCBoYXMgYWxyZWFkeSBiZWVuIGhhbmRsZWRcbiAgICBpZiAodGhpcy5oYXNFdmVudEJlZW5IYW5kbGVkKGV2ZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxldCBoYW5kbGVkID0gZmFsc2U7XG4gICAgdGhpcy5jb25zdW1lcnMuZm9yRWFjaChjb25zdW1lciA9PiB7XG4gICAgICBpZiAodGhpcy5pc0V2ZW50Rm9yQ29uc3VtZXIoZXZlbnQsIGNvbnN1bWVyKSkge1xuICAgICAgICBoYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZW5kVG9Db25zdW1lcihldmVudCwgY29uc3VtZXIpO1xuICAgICAgICB0aGlzLnNhdmVFdmVudFRvQ2FjaGUoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuaGFzSGFuZGxlZFBvdGVudGlhbFJlZGlyZWN0IHx8ICFpc1JlZGlyZWN0RXZlbnQoZXZlbnQpKSB7XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHNlZW4gYSByZWRpcmVjdCBiZWZvcmUsIG9yIHRoaXMgaXMgYSBwb3B1cCBldmVudCxcbiAgICAgIC8vIGJhaWwgbm93XG4gICAgICByZXR1cm4gaGFuZGxlZDtcbiAgICB9XG5cbiAgICB0aGlzLmhhc0hhbmRsZWRQb3RlbnRpYWxSZWRpcmVjdCA9IHRydWU7XG5cbiAgICAvLyBJZiB0aGUgcmVkaXJlY3Qgd2Fzbid0IGhhbmRsZWQsIGhhbmcgb24gdG8gaXRcbiAgICBpZiAoIWhhbmRsZWQpIHtcbiAgICAgIHRoaXMucXVldWVkUmVkaXJlY3RFdmVudCA9IGV2ZW50O1xuICAgICAgaGFuZGxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZWQ7XG4gIH1cblxuICBwcml2YXRlIHNlbmRUb0NvbnN1bWVyKGV2ZW50OiBBdXRoRXZlbnQsIGNvbnN1bWVyOiBBdXRoRXZlbnRDb25zdW1lcik6IHZvaWQge1xuICAgIGlmIChldmVudC5lcnJvciAmJiAhaXNOdWxsUmVkaXJlY3RFdmVudChldmVudCkpIHtcbiAgICAgIGNvbnN0IGNvZGUgPVxuICAgICAgICAoZXZlbnQuZXJyb3IuY29kZT8uc3BsaXQoJ2F1dGgvJylbMV0gYXMgQXV0aEVycm9yQ29kZSkgfHxcbiAgICAgICAgQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUjtcbiAgICAgIGNvbnN1bWVyLm9uRXJyb3IoX2NyZWF0ZUVycm9yKHRoaXMuYXV0aCwgY29kZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdW1lci5vbkF1dGhFdmVudChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc0V2ZW50Rm9yQ29uc3VtZXIoXG4gICAgZXZlbnQ6IEF1dGhFdmVudCxcbiAgICBjb25zdW1lcjogQXV0aEV2ZW50Q29uc3VtZXJcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZXZlbnRJZE1hdGNoZXMgPVxuICAgICAgY29uc3VtZXIuZXZlbnRJZCA9PT0gbnVsbCB8fFxuICAgICAgKCEhZXZlbnQuZXZlbnRJZCAmJiBldmVudC5ldmVudElkID09PSBjb25zdW1lci5ldmVudElkKTtcbiAgICByZXR1cm4gY29uc3VtZXIuZmlsdGVyLmluY2x1ZGVzKGV2ZW50LnR5cGUpICYmIGV2ZW50SWRNYXRjaGVzO1xuICB9XG5cbiAgcHJpdmF0ZSBoYXNFdmVudEJlZW5IYW5kbGVkKGV2ZW50OiBBdXRoRXZlbnQpOiBib29sZWFuIHtcbiAgICBpZiAoXG4gICAgICBEYXRlLm5vdygpIC0gdGhpcy5sYXN0UHJvY2Vzc2VkRXZlbnRUaW1lID49XG4gICAgICBFVkVOVF9EVVBMSUNBVElPTl9DQUNIRV9EVVJBVElPTl9NU1xuICAgICkge1xuICAgICAgdGhpcy5jYWNoZWRFdmVudFVpZHMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jYWNoZWRFdmVudFVpZHMuaGFzKGV2ZW50VWlkKGV2ZW50KSk7XG4gIH1cblxuICBwcml2YXRlIHNhdmVFdmVudFRvQ2FjaGUoZXZlbnQ6IEF1dGhFdmVudCk6IHZvaWQge1xuICAgIHRoaXMuY2FjaGVkRXZlbnRVaWRzLmFkZChldmVudFVpZChldmVudCkpO1xuICAgIHRoaXMubGFzdFByb2Nlc3NlZEV2ZW50VGltZSA9IERhdGUubm93KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRVaWQoZTogQXV0aEV2ZW50KTogc3RyaW5nIHtcbiAgcmV0dXJuIFtlLnR5cGUsIGUuZXZlbnRJZCwgZS5zZXNzaW9uSWQsIGUudGVuYW50SWRdLmZpbHRlcih2ID0+IHYpLmpvaW4oJy0nKTtcbn1cblxuZnVuY3Rpb24gaXNOdWxsUmVkaXJlY3RFdmVudCh7IHR5cGUsIGVycm9yIH06IEF1dGhFdmVudCk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHR5cGUgPT09IEF1dGhFdmVudFR5cGUuVU5LTk9XTiAmJlxuICAgIGVycm9yPy5jb2RlID09PSBgYXV0aC8ke0F1dGhFcnJvckNvZGUuTk9fQVVUSF9FVkVOVH1gXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzUmVkaXJlY3RFdmVudChldmVudDogQXV0aEV2ZW50KTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgIGNhc2UgQXV0aEV2ZW50VHlwZS5TSUdOX0lOX1ZJQV9SRURJUkVDVDpcbiAgICBjYXNlIEF1dGhFdmVudFR5cGUuTElOS19WSUFfUkVESVJFQ1Q6XG4gICAgY2FzZSBBdXRoRXZlbnRUeXBlLlJFQVVUSF9WSUFfUkVESVJFQ1Q6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBjYXNlIEF1dGhFdmVudFR5cGUuVU5LTk9XTjpcbiAgICAgIHJldHVybiBpc051bGxSZWRpcmVjdEV2ZW50KGV2ZW50KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgX3BlcmZvcm1BcGlSZXF1ZXN0LCBFbmRwb2ludCwgSHR0cE1ldGhvZCB9IGZyb20gJy4uL2luZGV4JztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdldFByb2plY3RDb25maWdSZXF1ZXN0IHtcbiAgYW5kcm9pZFBhY2thZ2VOYW1lPzogc3RyaW5nO1xuICBpb3NCdW5kbGVJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXRQcm9qZWN0Q29uZmlnUmVzcG9uc2Uge1xuICBhdXRob3JpemVkRG9tYWluczogc3RyaW5nW107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfZ2V0UHJvamVjdENvbmZpZyhcbiAgYXV0aDogQXV0aCxcbiAgcmVxdWVzdDogR2V0UHJvamVjdENvbmZpZ1JlcXVlc3QgPSB7fVxuKTogUHJvbWlzZTxHZXRQcm9qZWN0Q29uZmlnUmVzcG9uc2U+IHtcbiAgcmV0dXJuIF9wZXJmb3JtQXBpUmVxdWVzdDxHZXRQcm9qZWN0Q29uZmlnUmVxdWVzdCwgR2V0UHJvamVjdENvbmZpZ1Jlc3BvbnNlPihcbiAgICBhdXRoLFxuICAgIEh0dHBNZXRob2QuR0VULFxuICAgIEVuZHBvaW50LkdFVF9QUk9KRUNUX0NPTkZJRyxcbiAgICByZXF1ZXN0XG4gICk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgX2dldFByb2plY3RDb25maWcgfSBmcm9tICcuLi8uLi9hcGkvcHJvamVjdF9jb25maWcvZ2V0X3Byb2plY3RfY29uZmlnJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBfZmFpbCB9IGZyb20gJy4vYXNzZXJ0JztcbmltcG9ydCB7IF9nZXRDdXJyZW50VXJsIH0gZnJvbSAnLi9sb2NhdGlvbic7XG5cbmNvbnN0IElQX0FERFJFU1NfUkVHRVggPSAvXlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9JC87XG5jb25zdCBIVFRQX1JFR0VYID0gL15odHRwcz8vO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX3ZhbGlkYXRlT3JpZ2luKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8dm9pZD4ge1xuICAvLyBTa2lwIG9yaWdpbiB2YWxpZGF0aW9uIGlmIHdlIGFyZSBpbiBhbiBlbXVsYXRlZCBlbnZpcm9ubWVudFxuICBpZiAoYXV0aC5jb25maWcuZW11bGF0b3IpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7IGF1dGhvcml6ZWREb21haW5zIH0gPSBhd2FpdCBfZ2V0UHJvamVjdENvbmZpZyhhdXRoKTtcblxuICBmb3IgKGNvbnN0IGRvbWFpbiBvZiBhdXRob3JpemVkRG9tYWlucykge1xuICAgIHRyeSB7XG4gICAgICBpZiAobWF0Y2hEb21haW4oZG9tYWluKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZXJlJ3MgYSBVUkwgZXJyb3I7IGp1c3QgY29udGludWUgc2VhcmNoaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gSW4gdGhlIG9sZCBTREssIHRoaXMgZXJyb3IgYWxzbyBwcm92aWRlcyBoZWxwZnVsIG1lc3NhZ2VzLlxuICBfZmFpbChhdXRoLCBBdXRoRXJyb3JDb2RlLklOVkFMSURfT1JJR0lOKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hEb21haW4oZXhwZWN0ZWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBjdXJyZW50VXJsID0gX2dldEN1cnJlbnRVcmwoKTtcbiAgY29uc3QgeyBwcm90b2NvbCwgaG9zdG5hbWUgfSA9IG5ldyBVUkwoY3VycmVudFVybCk7XG4gIGlmIChleHBlY3RlZC5zdGFydHNXaXRoKCdjaHJvbWUtZXh0ZW5zaW9uOi8vJykpIHtcbiAgICBjb25zdCBjZVVybCA9IG5ldyBVUkwoZXhwZWN0ZWQpO1xuXG4gICAgaWYgKGNlVXJsLmhvc3RuYW1lID09PSAnJyAmJiBob3N0bmFtZSA9PT0gJycpIHtcbiAgICAgIC8vIEZvciBzb21lIHJlYXNvbiB3ZSdyZSBub3QgcGFyc2luZyBjaHJvbWUgVVJMcyBwcm9wZXJseVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgcHJvdG9jb2wgPT09ICdjaHJvbWUtZXh0ZW5zaW9uOicgJiZcbiAgICAgICAgZXhwZWN0ZWQucmVwbGFjZSgnY2hyb21lLWV4dGVuc2lvbjovLycsICcnKSA9PT1cbiAgICAgICAgICBjdXJyZW50VXJsLnJlcGxhY2UoJ2Nocm9tZS1leHRlbnNpb246Ly8nLCAnJylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3RvY29sID09PSAnY2hyb21lLWV4dGVuc2lvbjonICYmIGNlVXJsLmhvc3RuYW1lID09PSBob3N0bmFtZTtcbiAgfVxuXG4gIGlmICghSFRUUF9SRUdFWC50ZXN0KHByb3RvY29sKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChJUF9BRERSRVNTX1JFR0VYLnRlc3QoZXhwZWN0ZWQpKSB7XG4gICAgLy8gVGhlIGRvbWFpbiBoYXMgdG8gYmUgZXhhY3RseSBlcXVhbCB0byB0aGUgcGF0dGVybiwgYXMgYW4gSVAgZG9tYWluIHdpbGxcbiAgICAvLyBvbmx5IGNvbnRhaW4gdGhlIElQLCBubyBleHRyYSBjaGFyYWN0ZXIuXG4gICAgcmV0dXJuIGhvc3RuYW1lID09PSBleHBlY3RlZDtcbiAgfVxuXG4gIC8vIERvdHMgaW4gcGF0dGVybiBzaG91bGQgYmUgZXNjYXBlZC5cbiAgY29uc3QgZXNjYXBlZERvbWFpblBhdHRlcm4gPSBleHBlY3RlZC5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyk7XG4gIC8vIE5vbiBpcCBhZGRyZXNzIGRvbWFpbnMuXG4gIC8vIGRvbWFpbi5jb20gPSAqLmRvbWFpbi5jb20gT1IgZG9tYWluLmNvbVxuICBjb25zdCByZSA9IG5ldyBSZWdFeHAoXG4gICAgJ14oLitcXFxcLicgKyBlc2NhcGVkRG9tYWluUGF0dGVybiArICd8JyArIGVzY2FwZWREb21haW5QYXR0ZXJuICsgJykkJyxcbiAgICAnaSdcbiAgKTtcbiAgcmV0dXJuIHJlLnRlc3QoaG9zdG5hbWUpO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vLi4vY29yZS9lcnJvcnMnO1xuaW1wb3J0IHsgX2NyZWF0ZUVycm9yIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBEZWxheSB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9kZWxheSc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7IF93aW5kb3cgfSBmcm9tICcuLi9hdXRoX3dpbmRvdyc7XG5pbXBvcnQgKiBhcyBqcyBmcm9tICcuLi9sb2FkX2pzJztcblxuY29uc3QgTkVUV09SS19USU1FT1VUID0gbmV3IERlbGF5KDMwMDAwLCA2MDAwMCk7XG5cbi8qKlxuICogUmVzZXQgdW5sb2FkZWQgR0FwaSBtb2R1bGVzLiBJZiBnYXBpLmxvYWQgZmFpbHMgZHVlIHRvIGEgbmV0d29yayBlcnJvcixcbiAqIGl0IHdpbGwgc3RvcCB3b3JraW5nIGFmdGVyIGEgcmV0cmlhbC4gVGhpcyBpcyBhIGhhY2sgdG8gZml4IHRoaXMgaXNzdWUuXG4gKi9cbmZ1bmN0aW9uIHJlc2V0VW5sb2FkZWRHYXBpTW9kdWxlcygpOiB2b2lkIHtcbiAgLy8gQ2xlYXIgbGFzdCBmYWlsZWQgZ2FwaS5sb2FkIHN0YXRlIHRvIGZvcmNlIG5leHQgZ2FwaS5sb2FkIHRvIGZpcnN0XG4gIC8vIGxvYWQgdGhlIGZhaWxlZCBnYXBpLmlmcmFtZXMgbW9kdWxlLlxuICAvLyBHZXQgZ2FwaXguYmVhY29uIGNvbnRleHQuXG4gIGNvbnN0IGJlYWNvbiA9IF93aW5kb3coKS5fX19qc2w7XG4gIC8vIEdldCBjdXJyZW50IGhpbnQuXG4gIGlmIChiZWFjb24/LkgpIHtcbiAgICAvLyBHZXQgZ2FwaSBoaW50LlxuICAgIGZvciAoY29uc3QgaGludCBvZiBPYmplY3Qua2V5cyhiZWFjb24uSCkpIHtcbiAgICAgIC8vIFJlcXVlc3RlZCBtb2R1bGVzLlxuICAgICAgYmVhY29uLkhbaGludF0uciA9IGJlYWNvbi5IW2hpbnRdLnIgfHwgW107XG4gICAgICAvLyBMb2FkZWQgbW9kdWxlcy5cbiAgICAgIGJlYWNvbi5IW2hpbnRdLkwgPSBiZWFjb24uSFtoaW50XS5MIHx8IFtdO1xuICAgICAgLy8gU2V0IHJlcXVlc3RlZCBtb2R1bGVzIHRvIGEgY29weSBvZiB0aGUgbG9hZGVkIG1vZHVsZXMuXG4gICAgICBiZWFjb24uSFtoaW50XS5yID0gWy4uLmJlYWNvbi5IW2hpbnRdLkxdO1xuICAgICAgLy8gQ2xlYXIgcGVuZGluZyBjYWxsYmFja3MuXG4gICAgICBpZiAoYmVhY29uLkNQKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmVhY29uLkNQLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIGFsbCBmYWlsZWQgcGVuZGluZyBjYWxsYmFja3MuXG4gICAgICAgICAgYmVhY29uLkNQW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBsb2FkR2FwaShhdXRoOiBBdXRoSW50ZXJuYWwpOiBQcm9taXNlPGdhcGkuaWZyYW1lcy5Db250ZXh0PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxnYXBpLmlmcmFtZXMuQ29udGV4dD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIC8vIEZ1bmN0aW9uIHRvIHJ1biB3aGVuIGdhcGkubG9hZCBpcyByZWFkeS5cbiAgICBmdW5jdGlvbiBsb2FkR2FwaUlmcmFtZSgpOiB2b2lkIHtcbiAgICAgIC8vIFRoZSBkZXZlbG9wZXIgbWF5IGhhdmUgdHJpZWQgdG8gcHJldmlvdXNseSBydW4gZ2FwaS5sb2FkIGFuZCBmYWlsZWQuXG4gICAgICAvLyBSdW4gdGhpcyB0byBmaXggdGhhdC5cbiAgICAgIHJlc2V0VW5sb2FkZWRHYXBpTW9kdWxlcygpO1xuICAgICAgZ2FwaS5sb2FkKCdnYXBpLmlmcmFtZXMnLCB7XG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShnYXBpLmlmcmFtZXMuZ2V0Q29udGV4dCgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgb250aW1lb3V0OiAoKSA9PiB7XG4gICAgICAgICAgLy8gVGhlIGFib3ZlIHJlc2V0IG1heSBiZSBzdWZmaWNpZW50LCBidXQgaGF2aW5nIHRoaXMgcmVzZXQgYWZ0ZXJcbiAgICAgICAgICAvLyBmYWlsdXJlIGVuc3VyZXMgdGhhdCBpZiB0aGUgZGV2ZWxvcGVyIGNhbGxzIGdhcGkubG9hZCBhZnRlciB0aGVcbiAgICAgICAgICAvLyBjb25uZWN0aW9uIGlzIHJlLWVzdGFibGlzaGVkIGFuZCBiZWZvcmUgYW5vdGhlciBhdHRlbXB0IHRvIGVtYmVkXG4gICAgICAgICAgLy8gdGhlIGlmcmFtZSwgaXQgd291bGQgd29yayBhbmQgd291bGQgbm90IGJlIGJyb2tlbiBiZWNhdXNlIG9mIG91clxuICAgICAgICAgIC8vIGZhaWxlZCBhdHRlbXB0LlxuICAgICAgICAgIC8vIFRpbWVvdXQgd2hlbiBnYXBpLmlmcmFtZXMuSWZyYW1lIG5vdCBsb2FkZWQuXG4gICAgICAgICAgcmVzZXRVbmxvYWRlZEdhcGlNb2R1bGVzKCk7XG4gICAgICAgICAgcmVqZWN0KF9jcmVhdGVFcnJvcihhdXRoLCBBdXRoRXJyb3JDb2RlLk5FVFdPUktfUkVRVUVTVF9GQUlMRUQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dDogTkVUV09SS19USU1FT1VULmdldCgpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoX3dpbmRvdygpLmdhcGk/LmlmcmFtZXM/LklmcmFtZSkge1xuICAgICAgLy8gSWYgZ2FwaS5pZnJhbWVzLklmcmFtZSBhdmFpbGFibGUsIHJlc29sdmUuXG4gICAgICByZXNvbHZlKGdhcGkuaWZyYW1lcy5nZXRDb250ZXh0KCkpO1xuICAgIH0gZWxzZSBpZiAoISFfd2luZG93KCkuZ2FwaT8ubG9hZCkge1xuICAgICAgLy8gR2FwaSBsb2FkZXIgcmVhZHksIGxvYWQgZ2FwaS5pZnJhbWVzLlxuICAgICAgbG9hZEdhcGlJZnJhbWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIGEgbmV3IGlmcmFtZSBjYWxsYmFjayB3aGVuIHRoaXMgaXMgY2FsbGVkIHNvIGFzIG5vdCB0byBvdmVyd3JpdGVcbiAgICAgIC8vIGFueSBwcmV2aW91cyBkZWZpbmVkIGNhbGxiYWNrLiBUaGlzIGhhcHBlbnMgaWYgdGhpcyBtZXRob2QgaXMgY2FsbGVkXG4gICAgICAvLyBtdWx0aXBsZSB0aW1lcyBpbiBwYXJhbGxlbCBhbmQgY291bGQgcmVzdWx0IGluIHRoZSBsYXRlciBjYWxsYmFja1xuICAgICAgLy8gb3ZlcndyaXRpbmcgdGhlIHByZXZpb3VzIG9uZS4gVGhpcyB3b3VsZCBlbmQgdXAgd2l0aCBhIGlmcmFtZVxuICAgICAgLy8gdGltZW91dC5cbiAgICAgIGNvbnN0IGNiTmFtZSA9IGpzLl9nZW5lcmF0ZUNhbGxiYWNrTmFtZSgnaWZyYW1lZmNiJyk7XG4gICAgICAvLyBHQXBpIGxvYWRlciBub3QgYXZhaWxhYmxlLCBkeW5hbWljYWxseSBsb2FkIHBsYXRmb3JtLmpzLlxuICAgICAgX3dpbmRvdygpW2NiTmFtZV0gPSAoKSA9PiB7XG4gICAgICAgIC8vIEdBcGkgbG9hZGVyIHNob3VsZCBiZSByZWFkeS5cbiAgICAgICAgaWYgKCEhZ2FwaS5sb2FkKSB7XG4gICAgICAgICAgbG9hZEdhcGlJZnJhbWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBHYXBpIGxvYWRlciBmYWlsZWQsIHRocm93IGVycm9yLlxuICAgICAgICAgIHJlamVjdChfY3JlYXRlRXJyb3IoYXV0aCwgQXV0aEVycm9yQ29kZS5ORVRXT1JLX1JFUVVFU1RfRkFJTEVEKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvLyBMb2FkIEdBcGkgbG9hZGVyLlxuICAgICAgcmV0dXJuIGpzXG4gICAgICAgIC5fbG9hZEpTKGAke2pzLl9nYXBpU2NyaXB0VXJsKCl9P29ubG9hZD0ke2NiTmFtZX1gKVxuICAgICAgICAuY2F0Y2goZSA9PiByZWplY3QoZSkpO1xuICAgIH1cbiAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgIC8vIFJlc2V0IGNhY2hlZCBwcm9taXNlIHRvIGFsbG93IGZvciByZXRyaWFsLlxuICAgIGNhY2hlZEdBcGlMb2FkZXIgPSBudWxsO1xuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn1cblxubGV0IGNhY2hlZEdBcGlMb2FkZXI6IFByb21pc2U8Z2FwaS5pZnJhbWVzLkNvbnRleHQ+IHwgbnVsbCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gX2xvYWRHYXBpKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8Z2FwaS5pZnJhbWVzLkNvbnRleHQ+IHtcbiAgY2FjaGVkR0FwaUxvYWRlciA9IGNhY2hlZEdBcGlMb2FkZXIgfHwgbG9hZEdhcGkoYXV0aCk7XG4gIHJldHVybiBjYWNoZWRHQXBpTG9hZGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3Jlc2V0TG9hZGVyKCk6IHZvaWQge1xuICBjYWNoZWRHQXBpTG9hZGVyID0gbnVsbDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgU0RLX1ZFUlNJT04gfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IHF1ZXJ5c3RyaW5nIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgRGVmYXVsdENvbmZpZyB9IGZyb20gJy4uLy4uLy4uL2ludGVybmFsJztcblxuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQsIF9jcmVhdGVFcnJvciB9IGZyb20gJy4uLy4uL2NvcmUvdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgRGVsYXkgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvZGVsYXknO1xuaW1wb3J0IHsgX2VtdWxhdG9yVXJsIH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2VtdWxhdG9yJztcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgX3dpbmRvdyB9IGZyb20gJy4uL2F1dGhfd2luZG93JztcbmltcG9ydCAqIGFzIGdhcGlMb2FkZXIgZnJvbSAnLi9nYXBpJztcblxuY29uc3QgUElOR19USU1FT1VUID0gbmV3IERlbGF5KDUwMDAsIDE1MDAwKTtcbmNvbnN0IElGUkFNRV9QQVRIID0gJ19fL2F1dGgvaWZyYW1lJztcbmNvbnN0IEVNVUxBVEVEX0lGUkFNRV9QQVRIID0gJ2VtdWxhdG9yL2F1dGgvaWZyYW1lJztcblxuY29uc3QgSUZSQU1FX0FUVFJJQlVURVMgPSB7XG4gIHN0eWxlOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAnLTEwMHB4JyxcbiAgICB3aWR0aDogJzFweCcsXG4gICAgaGVpZ2h0OiAnMXB4J1xuICB9LFxuICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gIHRhYmluZGV4OiAnLTEnXG59O1xuXG4vLyBNYXAgZnJvbSBhcGlIb3N0IHRvIGVuZHBvaW50IElEIGZvciBwYXNzaW5nIGludG8gaWZyYW1lLiBJbiBjdXJyZW50IFNESywgYXBpSG9zdCBjYW4gYmUgc2V0IHRvXG4vLyBhbnl0aGluZyAobm90IGZyb20gYSBsaXN0IG9mIGVuZHBvaW50cyB3aXRoIElEcyBhcyBpbiBsZWdhY3kpLCBzbyB0aGlzIGlzIHRoZSBjbG9zZXN0IHdlIGNhbiBnZXQuXG5jb25zdCBFSURfRlJPTV9BUElIT1NUID0gbmV3IE1hcChbXG4gIFtEZWZhdWx0Q29uZmlnLkFQSV9IT1NULCAncCddLCAvLyBwcm9kdWN0aW9uXG4gIFsnc3RhZ2luZy1pZGVudGl0eXRvb2xraXQuc2FuZGJveC5nb29nbGVhcGlzLmNvbScsICdzJ10sIC8vIHN0YWdpbmdcbiAgWyd0ZXN0LWlkZW50aXR5dG9vbGtpdC5zYW5kYm94Lmdvb2dsZWFwaXMuY29tJywgJ3QnXSAvLyB0ZXN0XG5dKTtcblxuZnVuY3Rpb24gZ2V0SWZyYW1lVXJsKGF1dGg6IEF1dGhJbnRlcm5hbCk6IHN0cmluZyB7XG4gIGNvbnN0IGNvbmZpZyA9IGF1dGguY29uZmlnO1xuICBfYXNzZXJ0KGNvbmZpZy5hdXRoRG9tYWluLCBhdXRoLCBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQVVUSF9ET01BSU4pO1xuICBjb25zdCB1cmwgPSBjb25maWcuZW11bGF0b3JcbiAgICA/IF9lbXVsYXRvclVybChjb25maWcsIEVNVUxBVEVEX0lGUkFNRV9QQVRIKVxuICAgIDogYGh0dHBzOi8vJHthdXRoLmNvbmZpZy5hdXRoRG9tYWlufS8ke0lGUkFNRV9QQVRIfWA7XG5cbiAgY29uc3QgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgIGFwaUtleTogY29uZmlnLmFwaUtleSxcbiAgICBhcHBOYW1lOiBhdXRoLm5hbWUsXG4gICAgdjogU0RLX1ZFUlNJT05cbiAgfTtcbiAgY29uc3QgZWlkID0gRUlEX0ZST01fQVBJSE9TVC5nZXQoYXV0aC5jb25maWcuYXBpSG9zdCk7XG4gIGlmIChlaWQpIHtcbiAgICBwYXJhbXMuZWlkID0gZWlkO1xuICB9XG4gIGNvbnN0IGZyYW1ld29ya3MgPSBhdXRoLl9nZXRGcmFtZXdvcmtzKCk7XG4gIGlmIChmcmFtZXdvcmtzLmxlbmd0aCkge1xuICAgIHBhcmFtcy5mdyA9IGZyYW1ld29ya3Muam9pbignLCcpO1xuICB9XG4gIHJldHVybiBgJHt1cmx9PyR7cXVlcnlzdHJpbmcocGFyYW1zKS5zbGljZSgxKX1gO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gX29wZW5JZnJhbWUoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbFxuKTogUHJvbWlzZTxnYXBpLmlmcmFtZXMuSWZyYW1lPiB7XG4gIGNvbnN0IGNvbnRleHQgPSBhd2FpdCBnYXBpTG9hZGVyLl9sb2FkR2FwaShhdXRoKTtcbiAgY29uc3QgZ2FwaSA9IF93aW5kb3coKS5nYXBpO1xuICBfYXNzZXJ0KGdhcGksIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICByZXR1cm4gY29udGV4dC5vcGVuKFxuICAgIHtcbiAgICAgIHdoZXJlOiBkb2N1bWVudC5ib2R5LFxuICAgICAgdXJsOiBnZXRJZnJhbWVVcmwoYXV0aCksXG4gICAgICBtZXNzYWdlSGFuZGxlcnNGaWx0ZXI6IGdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVIsXG4gICAgICBhdHRyaWJ1dGVzOiBJRlJBTUVfQVRUUklCVVRFUyxcbiAgICAgIGRvbnRjbGVhcjogdHJ1ZVxuICAgIH0sXG4gICAgKGlmcmFtZTogZ2FwaS5pZnJhbWVzLklmcmFtZSkgPT5cbiAgICAgIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgYXdhaXQgaWZyYW1lLnJlc3R5bGUoe1xuICAgICAgICAgIC8vIFByZXZlbnQgaWZyYW1lIGZyb20gY2xvc2luZyBvbiBtb3VzZSBvdXQuXG4gICAgICAgICAgc2V0SGlkZU9uTGVhdmU6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IG5ldHdvcmtFcnJvciA9IF9jcmVhdGVFcnJvcihcbiAgICAgICAgICBhdXRoLFxuICAgICAgICAgIEF1dGhFcnJvckNvZGUuTkVUV09SS19SRVFVRVNUX0ZBSUxFRFxuICAgICAgICApO1xuICAgICAgICAvLyBDb25maXJtIGlmcmFtZSBpcyBjb3JyZWN0bHkgbG9hZGVkLlxuICAgICAgICAvLyBUbyBmYWxsYmFjayBvbiBmYWlsdXJlLCBzZXQgYSB0aW1lb3V0LlxuICAgICAgICBjb25zdCBuZXR3b3JrRXJyb3JUaW1lciA9IF93aW5kb3coKS5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZWplY3QobmV0d29ya0Vycm9yKTtcbiAgICAgICAgfSwgUElOR19USU1FT1VULmdldCgpKTtcbiAgICAgICAgLy8gQ2xlYXIgdGltZXIgYW5kIHJlc29sdmUgcGVuZGluZyBpZnJhbWUgcmVhZHkgcHJvbWlzZS5cbiAgICAgICAgZnVuY3Rpb24gY2xlYXJUaW1lckFuZFJlc29sdmUoKTogdm9pZCB7XG4gICAgICAgICAgX3dpbmRvdygpLmNsZWFyVGltZW91dChuZXR3b3JrRXJyb3JUaW1lcik7XG4gICAgICAgICAgcmVzb2x2ZShpZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgcmV0dXJucyBhbiBJVGhlbmFibGUuIEhvd2V2ZXIgdGhlIHJlamVjdCBwYXJ0IGRvZXMgbm90IGNhbGxcbiAgICAgICAgLy8gd2hlbiB0aGUgaWZyYW1lIGlzIG5vdCBsb2FkZWQuXG4gICAgICAgIGlmcmFtZS5waW5nKGNsZWFyVGltZXJBbmRSZXNvbHZlKS50aGVuKGNsZWFyVGltZXJBbmRSZXNvbHZlLCAoKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldHdvcmtFcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgZ2V0VUEgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5cbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi8uLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQge1xuICBfaXNDaHJvbWVJT1MsXG4gIF9pc0ZpcmVmb3gsXG4gIF9pc0lPU1N0YW5kYWxvbmVcbn0gZnJvbSAnLi4vLi4vY29yZS91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5cbmNvbnN0IEJBU0VfUE9QVVBfT1BUSU9OUyA9IHtcbiAgbG9jYXRpb246ICd5ZXMnLFxuICByZXNpemFibGU6ICd5ZXMnLFxuICBzdGF0dXNiYXI6ICd5ZXMnLFxuICB0b29sYmFyOiAnbm8nXG59O1xuXG5jb25zdCBERUZBVUxUX1dJRFRIID0gNTAwO1xuY29uc3QgREVGQVVMVF9IRUlHSFQgPSA2MDA7XG5jb25zdCBUQVJHRVRfQkxBTksgPSAnX2JsYW5rJztcblxuY29uc3QgRklSRUZPWF9FTVBUWV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdCc7XG5cbmV4cG9ydCBjbGFzcyBBdXRoUG9wdXAge1xuICBhc3NvY2lhdGVkRXZlbnQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHdpbmRvdzogV2luZG93IHwgbnVsbCkge31cblxuICBjbG9zZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy53aW5kb3cpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMud2luZG93LmNsb3NlKCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX29wZW4oXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgdXJsPzogc3RyaW5nLFxuICBuYW1lPzogc3RyaW5nLFxuICB3aWR0aCA9IERFRkFVTFRfV0lEVEgsXG4gIGhlaWdodCA9IERFRkFVTFRfSEVJR0hUXG4pOiBBdXRoUG9wdXAge1xuICBjb25zdCB0b3AgPSBNYXRoLm1heCgod2luZG93LnNjcmVlbi5hdmFpbEhlaWdodCAtIGhlaWdodCkgLyAyLCAwKS50b1N0cmluZygpO1xuICBjb25zdCBsZWZ0ID0gTWF0aC5tYXgoKHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCAtIHdpZHRoKSAvIDIsIDApLnRvU3RyaW5nKCk7XG4gIGxldCB0YXJnZXQgPSAnJztcblxuICBjb25zdCBvcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICAgIC4uLkJBU0VfUE9QVVBfT1BUSU9OUyxcbiAgICB3aWR0aDogd2lkdGgudG9TdHJpbmcoKSxcbiAgICBoZWlnaHQ6IGhlaWdodC50b1N0cmluZygpLFxuICAgIHRvcCxcbiAgICBsZWZ0XG4gIH07XG5cbiAgLy8gQ2hyb21lIGlPUyA3IGFuZCA4IGlzIHJldHVybmluZyBhbiB1bmRlZmluZWQgcG9wdXAgd2luIHdoZW4gdGFyZ2V0IGlzXG4gIC8vIHNwZWNpZmllZCwgZXZlbiB0aG91Z2ggdGhlIHBvcHVwIGlzIG5vdCBuZWNlc3NhcmlseSBibG9ja2VkLlxuICBjb25zdCB1YSA9IGdldFVBKCkudG9Mb3dlckNhc2UoKTtcblxuICBpZiAobmFtZSkge1xuICAgIHRhcmdldCA9IF9pc0Nocm9tZUlPUyh1YSkgPyBUQVJHRVRfQkxBTksgOiBuYW1lO1xuICB9XG5cbiAgaWYgKF9pc0ZpcmVmb3godWEpKSB7XG4gICAgLy8gRmlyZWZveCBjb21wbGFpbnMgd2hlbiBpbnZhbGlkIFVSTHMgYXJlIHBvcHBlZCBvdXQuIEhhY2t5IHdheSB0byBieXBhc3MuXG4gICAgdXJsID0gdXJsIHx8IEZJUkVGT1hfRU1QVFlfVVJMO1xuICAgIC8vIEZpcmVmb3ggZGlzYWJsZXMgYnkgZGVmYXVsdCBzY3JvbGxpbmcgb24gcG9wdXAgd2luZG93cywgd2hpY2ggY2FuIGNyZWF0ZVxuICAgIC8vIGlzc3VlcyB3aGVuIHRoZSB1c2VyIGhhcyBtYW55IEdvb2dsZSBhY2NvdW50cywgZm9yIGluc3RhbmNlLlxuICAgIG9wdGlvbnMuc2Nyb2xsYmFycyA9ICd5ZXMnO1xuICB9XG5cbiAgY29uc3Qgb3B0aW9uc1N0cmluZyA9IE9iamVjdC5lbnRyaWVzKG9wdGlvbnMpLnJlZHVjZShcbiAgICAoYWNjdW0sIFtrZXksIHZhbHVlXSkgPT4gYCR7YWNjdW19JHtrZXl9PSR7dmFsdWV9LGAsXG4gICAgJydcbiAgKTtcblxuICBpZiAoX2lzSU9TU3RhbmRhbG9uZSh1YSkgJiYgdGFyZ2V0ICE9PSAnX3NlbGYnKSB7XG4gICAgb3BlbkFzTmV3V2luZG93SU9TKHVybCB8fCAnJywgdGFyZ2V0KTtcbiAgICByZXR1cm4gbmV3IEF1dGhQb3B1cChudWxsKTtcbiAgfVxuXG4gIC8vIGFib3V0OmJsYW5rIGdldHRpbmcgc2FuaXRpemVkIGNhdXNpbmcgYnJvd3NlcnMgbGlrZSBJRS9FZGdlIHRvIGRpc3BsYXlcbiAgLy8gYnJpZWYgZXJyb3IgbWVzc2FnZSBiZWZvcmUgcmVkaXJlY3RpbmcgdG8gaGFuZGxlci5cbiAgY29uc3QgbmV3V2luID0gd2luZG93Lm9wZW4odXJsIHx8ICcnLCB0YXJnZXQsIG9wdGlvbnNTdHJpbmcpO1xuICBfYXNzZXJ0KG5ld1dpbiwgYXV0aCwgQXV0aEVycm9yQ29kZS5QT1BVUF9CTE9DS0VEKTtcblxuICAvLyBGbGFreSBvbiBJRSBlZGdlLCBlbmNhcHN1bGF0ZSB3aXRoIGEgdHJ5IGFuZCBjYXRjaC5cbiAgdHJ5IHtcbiAgICBuZXdXaW4uZm9jdXMoKTtcbiAgfSBjYXRjaCAoZSkge31cblxuICByZXR1cm4gbmV3IEF1dGhQb3B1cChuZXdXaW4pO1xufVxuXG5mdW5jdGlvbiBvcGVuQXNOZXdXaW5kb3dJT1ModXJsOiBzdHJpbmcsIHRhcmdldDogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBlbC5ocmVmID0gdXJsO1xuICBlbC50YXJnZXQgPSB0YXJnZXQ7XG4gIGNvbnN0IGNsaWNrID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnQnKTtcbiAgY2xpY2suaW5pdE1vdXNlRXZlbnQoXG4gICAgJ2NsaWNrJyxcbiAgICB0cnVlLFxuICAgIHRydWUsXG4gICAgd2luZG93LFxuICAgIDEsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICBmYWxzZSxcbiAgICBmYWxzZSxcbiAgICBmYWxzZSxcbiAgICBmYWxzZSxcbiAgICAxLFxuICAgIG51bGxcbiAgKTtcbiAgZWwuZGlzcGF0Y2hFdmVudChjbGljayk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgU0RLX1ZFUlNJT04gfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IEF1dGhQcm92aWRlciB9IGZyb20gJy4uLy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBBcGlLZXksIEFwcE5hbWUsIEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgQXV0aEV2ZW50VHlwZSB9IGZyb20gJy4uLy4uL21vZGVsL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9lcnJvcnMnO1xuaW1wb3J0IHsgX2Fzc2VydCB9IGZyb20gJy4vYXNzZXJ0JztcbmltcG9ydCB7IGlzRW1wdHksIHF1ZXJ5c3RyaW5nIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgX2VtdWxhdG9yVXJsIH0gZnJvbSAnLi9lbXVsYXRvcic7XG5pbXBvcnQgeyBGZWRlcmF0ZWRBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi9wcm92aWRlcnMvZmVkZXJhdGVkJztcbmltcG9ydCB7IEJhc2VPQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vcHJvdmlkZXJzL29hdXRoJztcblxuLyoqXG4gKiBVUkwgZm9yIEF1dGhlbnRpY2F0aW9uIHdpZGdldCB3aGljaCB3aWxsIGluaXRpYXRlIHRoZSBPQXV0aCBoYW5kc2hha2VcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgV0lER0VUX1BBVEggPSAnX18vYXV0aC9oYW5kbGVyJztcblxuLyoqXG4gKiBVUkwgZm9yIGVtdWxhdGVkIGVudmlyb25tZW50XG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IEVNVUxBVE9SX1dJREdFVF9QQVRIID0gJ2VtdWxhdG9yL2F1dGgvaGFuZGxlcic7XG5cbi8qKlxuICogRnJhZ21lbnQgbmFtZSBmb3IgdGhlIEFwcCBDaGVjayB0b2tlbiB0aGF0IGdldHMgcGFzc2VkIHRvIHRoZSB3aWRnZXRcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgRklSRUJBU0VfQVBQX0NIRUNLX0ZSQUdNRU5UX0lEID0gZW5jb2RlVVJJQ29tcG9uZW50KCdmYWMnKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtZGVmaW5pdGlvbnNcbnR5cGUgV2lkZ2V0UGFyYW1zID0ge1xuICBhcGlLZXk6IEFwaUtleTtcbiAgYXBwTmFtZTogQXBwTmFtZTtcbiAgYXV0aFR5cGU6IEF1dGhFdmVudFR5cGU7XG4gIHJlZGlyZWN0VXJsPzogc3RyaW5nO1xuICB2OiBzdHJpbmc7XG4gIHByb3ZpZGVySWQ/OiBzdHJpbmc7XG4gIHNjb3Blcz86IHN0cmluZztcbiAgY3VzdG9tUGFyYW1ldGVycz86IHN0cmluZztcbiAgZXZlbnRJZD86IHN0cmluZztcbiAgdGlkPzogc3RyaW5nO1xufSAmIHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgdW5kZWZpbmVkIH07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBfZ2V0UmVkaXJlY3RVcmwoXG4gIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgcHJvdmlkZXI6IEF1dGhQcm92aWRlcixcbiAgYXV0aFR5cGU6IEF1dGhFdmVudFR5cGUsXG4gIHJlZGlyZWN0VXJsPzogc3RyaW5nLFxuICBldmVudElkPzogc3RyaW5nLFxuICBhZGRpdGlvbmFsUGFyYW1zPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPlxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgX2Fzc2VydChhdXRoLmNvbmZpZy5hdXRoRG9tYWluLCBhdXRoLCBBdXRoRXJyb3JDb2RlLk1JU1NJTkdfQVVUSF9ET01BSU4pO1xuICBfYXNzZXJ0KGF1dGguY29uZmlnLmFwaUtleSwgYXV0aCwgQXV0aEVycm9yQ29kZS5JTlZBTElEX0FQSV9LRVkpO1xuXG4gIGNvbnN0IHBhcmFtczogV2lkZ2V0UGFyYW1zID0ge1xuICAgIGFwaUtleTogYXV0aC5jb25maWcuYXBpS2V5LFxuICAgIGFwcE5hbWU6IGF1dGgubmFtZSxcbiAgICBhdXRoVHlwZSxcbiAgICByZWRpcmVjdFVybCxcbiAgICB2OiBTREtfVkVSU0lPTixcbiAgICBldmVudElkXG4gIH07XG5cbiAgaWYgKHByb3ZpZGVyIGluc3RhbmNlb2YgRmVkZXJhdGVkQXV0aFByb3ZpZGVyKSB7XG4gICAgcHJvdmlkZXIuc2V0RGVmYXVsdExhbmd1YWdlKGF1dGgubGFuZ3VhZ2VDb2RlKTtcbiAgICBwYXJhbXMucHJvdmlkZXJJZCA9IHByb3ZpZGVyLnByb3ZpZGVySWQgfHwgJyc7XG4gICAgaWYgKCFpc0VtcHR5KHByb3ZpZGVyLmdldEN1c3RvbVBhcmFtZXRlcnMoKSkpIHtcbiAgICAgIHBhcmFtcy5jdXN0b21QYXJhbWV0ZXJzID0gSlNPTi5zdHJpbmdpZnkocHJvdmlkZXIuZ2V0Q3VzdG9tUGFyYW1ldGVycygpKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIHNldCBhZGRpdGlvbmFsUGFyYW1zIGZyb20gdGhlIHByb3ZpZGVyIGFzIHdlbGw/XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoYWRkaXRpb25hbFBhcmFtcyB8fCB7fSkpIHtcbiAgICAgIHBhcmFtc1trZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKHByb3ZpZGVyIGluc3RhbmNlb2YgQmFzZU9BdXRoUHJvdmlkZXIpIHtcbiAgICBjb25zdCBzY29wZXMgPSBwcm92aWRlci5nZXRTY29wZXMoKS5maWx0ZXIoc2NvcGUgPT4gc2NvcGUgIT09ICcnKTtcbiAgICBpZiAoc2NvcGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHBhcmFtcy5zY29wZXMgPSBzY29wZXMuam9pbignLCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChhdXRoLnRlbmFudElkKSB7XG4gICAgcGFyYW1zLnRpZCA9IGF1dGgudGVuYW50SWQ7XG4gIH1cblxuICAvLyBUT0RPOiBtYXliZSBzZXQgZWlkIGFzIGVuZHBvaW50SWRcbiAgLy8gVE9ETzogbWF5YmUgc2V0IGZ3IGFzIEZyYW1ld29ya3Muam9pbihcIixcIilcblxuICBjb25zdCBwYXJhbXNEaWN0ID0gcGFyYW1zIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlcj47XG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHBhcmFtc0RpY3QpKSB7XG4gICAgaWYgKHBhcmFtc0RpY3Rba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWxldGUgcGFyYW1zRGljdFtrZXldO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNldHMgdGhlIEFwcCBDaGVjayB0b2tlbiB0byBwYXNzIHRvIHRoZSB3aWRnZXRcbiAgY29uc3QgYXBwQ2hlY2tUb2tlbiA9IGF3YWl0IGF1dGguX2dldEFwcENoZWNrVG9rZW4oKTtcbiAgY29uc3QgYXBwQ2hlY2tUb2tlbkZyYWdtZW50ID0gYXBwQ2hlY2tUb2tlblxuICAgID8gYCMke0ZJUkVCQVNFX0FQUF9DSEVDS19GUkFHTUVOVF9JRH09JHtlbmNvZGVVUklDb21wb25lbnQoYXBwQ2hlY2tUb2tlbil9YFxuICAgIDogJyc7XG5cbiAgLy8gU3RhcnQgYXQgaW5kZXggMSB0byBza2lwIHRoZSBsZWFkaW5nICcmJyBpbiB0aGUgcXVlcnkgc3RyaW5nXG4gIHJldHVybiBgJHtnZXRIYW5kbGVyQmFzZShhdXRoKX0/JHtxdWVyeXN0cmluZyhwYXJhbXNEaWN0KS5zbGljZShcbiAgICAxXG4gICl9JHthcHBDaGVja1Rva2VuRnJhZ21lbnR9YDtcbn1cblxuZnVuY3Rpb24gZ2V0SGFuZGxlckJhc2UoeyBjb25maWcgfTogQXV0aEludGVybmFsKTogc3RyaW5nIHtcbiAgaWYgKCFjb25maWcuZW11bGF0b3IpIHtcbiAgICByZXR1cm4gYGh0dHBzOi8vJHtjb25maWcuYXV0aERvbWFpbn0vJHtXSURHRVRfUEFUSH1gO1xuICB9XG5cbiAgcmV0dXJuIF9lbXVsYXRvclVybChjb25maWcsIEVNVUxBVE9SX1dJREdFVF9QQVRIKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIsIFBvcHVwUmVkaXJlY3RSZXNvbHZlciB9IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5cbmltcG9ydCB7IEF1dGhFdmVudE1hbmFnZXIgfSBmcm9tICcuLi9jb3JlL2F1dGgvYXV0aF9ldmVudF9tYW5hZ2VyJztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2Vycm9ycyc7XG5pbXBvcnQgeyBfYXNzZXJ0LCBkZWJ1Z0Fzc2VydCwgX2ZhaWwgfSBmcm9tICcuLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IF9nZW5lcmF0ZUV2ZW50SWQgfSBmcm9tICcuLi9jb3JlL3V0aWwvZXZlbnRfaWQnO1xuaW1wb3J0IHsgX2dldEN1cnJlbnRVcmwgfSBmcm9tICcuLi9jb3JlL3V0aWwvbG9jYXRpb24nO1xuaW1wb3J0IHsgX3ZhbGlkYXRlT3JpZ2luIH0gZnJvbSAnLi4vY29yZS91dGlsL3ZhbGlkYXRlX29yaWdpbic7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi9tb2RlbC9hdXRoJztcbmltcG9ydCB7XG4gIEF1dGhFdmVudFR5cGUsXG4gIEV2ZW50TWFuYWdlcixcbiAgR2FwaUF1dGhFdmVudCxcbiAgR2FwaU91dGNvbWUsXG4gIFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsXG59IGZyb20gJy4uL21vZGVsL3BvcHVwX3JlZGlyZWN0JztcbmltcG9ydCB7IF9zZXRXaW5kb3dMb2NhdGlvbiB9IGZyb20gJy4vYXV0aF93aW5kb3cnO1xuaW1wb3J0IHsgX29wZW5JZnJhbWUgfSBmcm9tICcuL2lmcmFtZS9pZnJhbWUnO1xuaW1wb3J0IHsgYnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZSB9IGZyb20gJy4vcGVyc2lzdGVuY2Uvc2Vzc2lvbl9zdG9yYWdlJztcbmltcG9ydCB7IF9vcGVuLCBBdXRoUG9wdXAgfSBmcm9tICcuL3V0aWwvcG9wdXAnO1xuaW1wb3J0IHsgX2dldFJlZGlyZWN0UmVzdWx0IH0gZnJvbSAnLi9zdHJhdGVnaWVzL3JlZGlyZWN0JztcbmltcG9ydCB7IF9nZXRSZWRpcmVjdFVybCB9IGZyb20gJy4uL2NvcmUvdXRpbC9oYW5kbGVyJztcbmltcG9ydCB7IF9pc0lPUywgX2lzTW9iaWxlQnJvd3NlciwgX2lzU2FmYXJpIH0gZnJvbSAnLi4vY29yZS91dGlsL2Jyb3dzZXInO1xuaW1wb3J0IHsgX292ZXJyaWRlUmVkaXJlY3RSZXN1bHQgfSBmcm9tICcuLi9jb3JlL3N0cmF0ZWdpZXMvcmVkaXJlY3QnO1xuXG4vKipcbiAqIFRoZSBzcGVjaWFsIHdlYiBzdG9yYWdlIGV2ZW50XG4gKlxuICovXG5jb25zdCBXRUJfU1RPUkFHRV9TVVBQT1JUX0tFWSA9ICd3ZWJTdG9yYWdlU3VwcG9ydCc7XG5cbmludGVyZmFjZSBXZWJTdG9yYWdlU3VwcG9ydE1lc3NhZ2UgZXh0ZW5kcyBnYXBpLmlmcmFtZXMuTWVzc2FnZSB7XG4gIFtpbmRleDogbnVtYmVyXTogUmVjb3JkPHN0cmluZywgYm9vbGVhbj47XG59XG5cbmludGVyZmFjZSBNYW5hZ2VyT3JQcm9taXNlIHtcbiAgbWFuYWdlcj86IEV2ZW50TWFuYWdlcjtcbiAgcHJvbWlzZT86IFByb21pc2U8RXZlbnRNYW5hZ2VyPjtcbn1cblxuY2xhc3MgQnJvd3NlclBvcHVwUmVkaXJlY3RSZXNvbHZlciBpbXBsZW1lbnRzIFBvcHVwUmVkaXJlY3RSZXNvbHZlckludGVybmFsIHtcbiAgcHJpdmF0ZSByZWFkb25seSBldmVudE1hbmFnZXJzOiBSZWNvcmQ8c3RyaW5nLCBNYW5hZ2VyT3JQcm9taXNlPiA9IHt9O1xuICBwcml2YXRlIHJlYWRvbmx5IGlmcmFtZXM6IFJlY29yZDxzdHJpbmcsIGdhcGkuaWZyYW1lcy5JZnJhbWU+ID0ge307XG4gIHByaXZhdGUgcmVhZG9ubHkgb3JpZ2luVmFsaWRhdGlvblByb21pc2VzOiBSZWNvcmQ8c3RyaW5nLCBQcm9taXNlPHZvaWQ+PiA9IHt9O1xuXG4gIHJlYWRvbmx5IF9yZWRpcmVjdFBlcnNpc3RlbmNlID0gYnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZTtcblxuICAvLyBXcmFwcGluZyBpbiBhc3luYyBldmVuIHRob3VnaCB3ZSBkb24ndCBhd2FpdCBhbnl3aGVyZSBpbiBvcmRlclxuICAvLyB0byBtYWtlIHN1cmUgZXJyb3JzIGFyZSByYWlzZWQgYXMgcHJvbWlzZSByZWplY3Rpb25zXG4gIGFzeW5jIF9vcGVuUG9wdXAoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gICAgYXV0aFR5cGU6IEF1dGhFdmVudFR5cGUsXG4gICAgZXZlbnRJZD86IHN0cmluZ1xuICApOiBQcm9taXNlPEF1dGhQb3B1cD4ge1xuICAgIGRlYnVnQXNzZXJ0KFxuICAgICAgdGhpcy5ldmVudE1hbmFnZXJzW2F1dGguX2tleSgpXT8ubWFuYWdlcixcbiAgICAgICdfaW5pdGlhbGl6ZSgpIG5vdCBjYWxsZWQgYmVmb3JlIF9vcGVuUG9wdXAoKSdcbiAgICApO1xuXG4gICAgY29uc3QgdXJsID0gYXdhaXQgX2dldFJlZGlyZWN0VXJsKFxuICAgICAgYXV0aCxcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgYXV0aFR5cGUsXG4gICAgICBfZ2V0Q3VycmVudFVybCgpLFxuICAgICAgZXZlbnRJZFxuICAgICk7XG4gICAgcmV0dXJuIF9vcGVuKGF1dGgsIHVybCwgX2dlbmVyYXRlRXZlbnRJZCgpKTtcbiAgfVxuXG4gIGFzeW5jIF9vcGVuUmVkaXJlY3QoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIHByb3ZpZGVyOiBBdXRoUHJvdmlkZXIsXG4gICAgYXV0aFR5cGU6IEF1dGhFdmVudFR5cGUsXG4gICAgZXZlbnRJZD86IHN0cmluZ1xuICApOiBQcm9taXNlPG5ldmVyPiB7XG4gICAgYXdhaXQgdGhpcy5fb3JpZ2luVmFsaWRhdGlvbihhdXRoKTtcbiAgICBjb25zdCB1cmwgPSBhd2FpdCBfZ2V0UmVkaXJlY3RVcmwoXG4gICAgICBhdXRoLFxuICAgICAgcHJvdmlkZXIsXG4gICAgICBhdXRoVHlwZSxcbiAgICAgIF9nZXRDdXJyZW50VXJsKCksXG4gICAgICBldmVudElkXG4gICAgKTtcbiAgICBfc2V0V2luZG93TG9jYXRpb24odXJsKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4ge30pO1xuICB9XG5cbiAgX2luaXRpYWxpemUoYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTxFdmVudE1hbmFnZXI+IHtcbiAgICBjb25zdCBrZXkgPSBhdXRoLl9rZXkoKTtcbiAgICBpZiAodGhpcy5ldmVudE1hbmFnZXJzW2tleV0pIHtcbiAgICAgIGNvbnN0IHsgbWFuYWdlciwgcHJvbWlzZSB9ID0gdGhpcy5ldmVudE1hbmFnZXJzW2tleV07XG4gICAgICBpZiAobWFuYWdlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1hbmFnZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWdBc3NlcnQocHJvbWlzZSwgJ0lmIG1hbmFnZXIgaXMgbm90IHNldCwgcHJvbWlzZSBzaG91bGQgYmUnKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuaW5pdEFuZEdldE1hbmFnZXIoYXV0aCk7XG4gICAgdGhpcy5ldmVudE1hbmFnZXJzW2tleV0gPSB7IHByb21pc2UgfTtcblxuICAgIC8vIElmIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkLCB0aGUga2V5IHNob3VsZCBiZSByZW1vdmVkIHNvIHRoYXQgdGhlXG4gICAgLy8gb3BlcmF0aW9uIGNhbiBiZSByZXRyaWVkIGxhdGVyLlxuICAgIHByb21pc2UuY2F0Y2goKCkgPT4ge1xuICAgICAgZGVsZXRlIHRoaXMuZXZlbnRNYW5hZ2Vyc1trZXldO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGluaXRBbmRHZXRNYW5hZ2VyKGF1dGg6IEF1dGhJbnRlcm5hbCk6IFByb21pc2U8RXZlbnRNYW5hZ2VyPiB7XG4gICAgY29uc3QgaWZyYW1lID0gYXdhaXQgX29wZW5JZnJhbWUoYXV0aCk7XG4gICAgY29uc3QgbWFuYWdlciA9IG5ldyBBdXRoRXZlbnRNYW5hZ2VyKGF1dGgpO1xuICAgIGlmcmFtZS5yZWdpc3RlcjxHYXBpQXV0aEV2ZW50PihcbiAgICAgICdhdXRoRXZlbnQnLFxuICAgICAgKGlmcmFtZUV2ZW50OiBHYXBpQXV0aEV2ZW50IHwgbnVsbCkgPT4ge1xuICAgICAgICBfYXNzZXJ0KGlmcmFtZUV2ZW50Py5hdXRoRXZlbnQsIGF1dGgsIEF1dGhFcnJvckNvZGUuSU5WQUxJRF9BVVRIX0VWRU5UKTtcbiAgICAgICAgLy8gVE9ETzogQ29uc2lkZXIgc3BsaXR0aW5nIHJlZGlyZWN0IGFuZCBwb3B1cCBldmVudHMgZWFybGllciBvblxuXG4gICAgICAgIGNvbnN0IGhhbmRsZWQgPSBtYW5hZ2VyLm9uRXZlbnQoaWZyYW1lRXZlbnQuYXV0aEV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBoYW5kbGVkID8gR2FwaU91dGNvbWUuQUNLIDogR2FwaU91dGNvbWUuRVJST1IgfTtcbiAgICAgIH0sXG4gICAgICBnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSXG4gICAgKTtcblxuICAgIHRoaXMuZXZlbnRNYW5hZ2Vyc1thdXRoLl9rZXkoKV0gPSB7IG1hbmFnZXIgfTtcbiAgICB0aGlzLmlmcmFtZXNbYXV0aC5fa2V5KCldID0gaWZyYW1lO1xuICAgIHJldHVybiBtYW5hZ2VyO1xuICB9XG5cbiAgX2lzSWZyYW1lV2ViU3RvcmFnZVN1cHBvcnRlZChcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgY2I6IChzdXBwb3J0ZWQ6IGJvb2xlYW4pID0+IHVua25vd25cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgaWZyYW1lID0gdGhpcy5pZnJhbWVzW2F1dGguX2tleSgpXTtcbiAgICBpZnJhbWUuc2VuZDxnYXBpLmlmcmFtZXMuTWVzc2FnZSwgV2ViU3RvcmFnZVN1cHBvcnRNZXNzYWdlPihcbiAgICAgIFdFQl9TVE9SQUdFX1NVUFBPUlRfS0VZLFxuICAgICAgeyB0eXBlOiBXRUJfU1RPUkFHRV9TVVBQT1JUX0tFWSB9LFxuICAgICAgcmVzdWx0ID0+IHtcbiAgICAgICAgY29uc3QgaXNTdXBwb3J0ZWQgPSByZXN1bHQ/LlswXT8uW1dFQl9TVE9SQUdFX1NVUFBPUlRfS0VZXTtcbiAgICAgICAgaWYgKGlzU3VwcG9ydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjYighIWlzU3VwcG9ydGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9mYWlsKGF1dGgsIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1IpO1xuICAgICAgfSxcbiAgICAgIGdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcbiAgICApO1xuICB9XG5cbiAgX29yaWdpblZhbGlkYXRpb24oYXV0aDogQXV0aEludGVybmFsKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qga2V5ID0gYXV0aC5fa2V5KCk7XG4gICAgaWYgKCF0aGlzLm9yaWdpblZhbGlkYXRpb25Qcm9taXNlc1trZXldKSB7XG4gICAgICB0aGlzLm9yaWdpblZhbGlkYXRpb25Qcm9taXNlc1trZXldID0gX3ZhbGlkYXRlT3JpZ2luKGF1dGgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9yaWdpblZhbGlkYXRpb25Qcm9taXNlc1trZXldO1xuICB9XG5cbiAgZ2V0IF9zaG91bGRJbml0UHJvYWN0aXZlbHkoKTogYm9vbGVhbiB7XG4gICAgLy8gTW9iaWxlIGJyb3dzZXJzIGFuZCBTYWZhcmkgbmVlZCB0byBvcHRpbWlzdGljYWxseSBpbml0aWFsaXplXG4gICAgcmV0dXJuIF9pc01vYmlsZUJyb3dzZXIoKSB8fCBfaXNTYWZhcmkoKSB8fCBfaXNJT1MoKTtcbiAgfVxuXG4gIF9jb21wbGV0ZVJlZGlyZWN0Rm4gPSBfZ2V0UmVkaXJlY3RSZXN1bHQ7XG5cbiAgX292ZXJyaWRlUmVkaXJlY3RSZXN1bHQgPSBfb3ZlcnJpZGVSZWRpcmVjdFJlc3VsdDtcbn1cblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgUG9wdXBSZWRpcmVjdFJlc29sdmVyfSBzdWl0YWJsZSBmb3IgYnJvd3NlclxuICogYmFzZWQgYXBwbGljYXRpb25zLlxuICpcbiAqIEByZW1hcmtzXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBicm93c2VyUG9wdXBSZWRpcmVjdFJlc29sdmVyOiBQb3B1cFJlZGlyZWN0UmVzb2x2ZXIgPVxuICBCcm93c2VyUG9wdXBSZWRpcmVjdFJlc29sdmVyO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBGYWN0b3JJZCwgTXVsdGlGYWN0b3JBc3NlcnRpb24gfSBmcm9tICcuLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgZGVidWdGYWlsIH0gZnJvbSAnLi4vY29yZS91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBNdWx0aUZhY3RvclNlc3Npb25JbXBsLCBNdWx0aUZhY3RvclNlc3Npb25UeXBlIH0gZnJvbSAnLi9tZmFfc2Vzc2lvbic7XG5pbXBvcnQgeyBGaW5hbGl6ZU1mYVJlc3BvbnNlIH0gZnJvbSAnLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwgfSBmcm9tICcuLi9tb2RlbC9hdXRoJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbCBpbXBsZW1lbnRzIE11bHRpRmFjdG9yQXNzZXJ0aW9uIHtcbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGZhY3RvcklkOiBGYWN0b3JJZCkge31cblxuICBfcHJvY2VzcyhcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgc2Vzc2lvbjogTXVsdGlGYWN0b3JTZXNzaW9uSW1wbCxcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGxcbiAgKTogUHJvbWlzZTxGaW5hbGl6ZU1mYVJlc3BvbnNlPiB7XG4gICAgc3dpdGNoIChzZXNzaW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgTXVsdGlGYWN0b3JTZXNzaW9uVHlwZS5FTlJPTEw6XG4gICAgICAgIHJldHVybiB0aGlzLl9maW5hbGl6ZUVucm9sbChhdXRoLCBzZXNzaW9uLmNyZWRlbnRpYWwsIGRpc3BsYXlOYW1lKTtcbiAgICAgIGNhc2UgTXVsdGlGYWN0b3JTZXNzaW9uVHlwZS5TSUdOX0lOOlxuICAgICAgICByZXR1cm4gdGhpcy5fZmluYWxpemVTaWduSW4oYXV0aCwgc2Vzc2lvbi5jcmVkZW50aWFsKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBkZWJ1Z0ZhaWwoJ3VuZXhwZWN0ZWQgTXVsdGlGYWN0b3JTZXNzaW9uVHlwZScpO1xuICAgIH1cbiAgfVxuXG4gIGFic3RyYWN0IF9maW5hbGl6ZUVucm9sbChcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgaWRUb2tlbjogc3RyaW5nLFxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nIHwgbnVsbFxuICApOiBQcm9taXNlPEZpbmFsaXplTWZhUmVzcG9uc2U+O1xuICBhYnN0cmFjdCBfZmluYWxpemVTaWduSW4oXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIG1mYVBlbmRpbmdDcmVkZW50aWFsOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxGaW5hbGl6ZU1mYVJlc3BvbnNlPjtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtcbiAgRmFjdG9ySWQsXG4gIFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb25cbn0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcblxuaW1wb3J0IHsgTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsIH0gZnJvbSAnLi4vLi4vLi4vbWZhL21mYV9hc3NlcnRpb24nO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQgeyBmaW5hbGl6ZUVucm9sbFBob25lTWZhIH0gZnJvbSAnLi4vLi4vLi4vYXBpL2FjY291bnRfbWFuYWdlbWVudC9tZmEnO1xuaW1wb3J0IHsgUGhvbmVBdXRoQ3JlZGVudGlhbCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvY3JlZGVudGlhbHMvcGhvbmUnO1xuaW1wb3J0IHtcbiAgZmluYWxpemVTaWduSW5QaG9uZU1mYSxcbiAgRmluYWxpemVNZmFSZXNwb25zZVxufSBmcm9tICcuLi8uLi8uLi9hcGkvYXV0aGVudGljYXRpb24vbWZhJztcblxuLyoqXG4gKiB7QGluaGVyaXRkb2MgUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbn1cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbFxuICBleHRlbmRzIE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbFxuICBpbXBsZW1lbnRzIFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb25cbntcbiAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNyZWRlbnRpYWw6IFBob25lQXV0aENyZWRlbnRpYWwpIHtcbiAgICBzdXBlcihGYWN0b3JJZC5QSE9ORSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbUNyZWRlbnRpYWwoXG4gICAgY3JlZGVudGlhbDogUGhvbmVBdXRoQ3JlZGVudGlhbFxuICApOiBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbCB7XG4gICAgcmV0dXJuIG5ldyBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbChjcmVkZW50aWFsKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2ZpbmFsaXplRW5yb2xsKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBpZFRva2VuOiBzdHJpbmcsXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmcgfCBudWxsXG4gICk6IFByb21pc2U8RmluYWxpemVNZmFSZXNwb25zZT4ge1xuICAgIHJldHVybiBmaW5hbGl6ZUVucm9sbFBob25lTWZhKGF1dGgsIHtcbiAgICAgIGlkVG9rZW4sXG4gICAgICBkaXNwbGF5TmFtZSxcbiAgICAgIHBob25lVmVyaWZpY2F0aW9uSW5mbzogdGhpcy5jcmVkZW50aWFsLl9tYWtlVmVyaWZpY2F0aW9uUmVxdWVzdCgpXG4gICAgfSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9maW5hbGl6ZVNpZ25JbihcbiAgICBhdXRoOiBBdXRoSW50ZXJuYWwsXG4gICAgbWZhUGVuZGluZ0NyZWRlbnRpYWw6IHN0cmluZ1xuICApOiBQcm9taXNlPEZpbmFsaXplTWZhUmVzcG9uc2U+IHtcbiAgICByZXR1cm4gZmluYWxpemVTaWduSW5QaG9uZU1mYShhdXRoLCB7XG4gICAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbCxcbiAgICAgIHBob25lVmVyaWZpY2F0aW9uSW5mbzogdGhpcy5jcmVkZW50aWFsLl9tYWtlVmVyaWZpY2F0aW9uUmVxdWVzdCgpXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyBhIHtAbGluayBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9ufS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBQaG9uZU11bHRpRmFjdG9yR2VuZXJhdG9yIHtcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEge0BsaW5rIFBob25lTXVsdGlGYWN0b3JBc3NlcnRpb259IHRvIGNvbmZpcm0gb3duZXJzaGlwIG9mIHRoZSBwaG9uZSBzZWNvbmQgZmFjdG9yLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAgICpcbiAgICogQHBhcmFtIHBob25lQXV0aENyZWRlbnRpYWwgLSBBIGNyZWRlbnRpYWwgcHJvdmlkZWQgYnkge0BsaW5rIFBob25lQXV0aFByb3ZpZGVyLmNyZWRlbnRpYWx9LlxuICAgKiBAcmV0dXJucyBBIHtAbGluayBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9ufSB3aGljaCBjYW4gYmUgdXNlZCB3aXRoXG4gICAqIHtAbGluayBNdWx0aUZhY3RvclJlc29sdmVyLnJlc29sdmVTaWduSW59XG4gICAqL1xuICBzdGF0aWMgYXNzZXJ0aW9uKGNyZWRlbnRpYWw6IFBob25lQXV0aENyZWRlbnRpYWwpOiBQaG9uZU11bHRpRmFjdG9yQXNzZXJ0aW9uIHtcbiAgICByZXR1cm4gUGhvbmVNdWx0aUZhY3RvckFzc2VydGlvbkltcGwuX2Zyb21DcmVkZW50aWFsKGNyZWRlbnRpYWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBwaG9uZSBzZWNvbmQgZmFjdG9yOiBgcGhvbmVgLlxuICAgKi9cbiAgc3RhdGljIEZBQ1RPUl9JRCA9ICdwaG9uZSc7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7XG4gIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbixcbiAgTXVsdGlGYWN0b3JTZXNzaW9uLFxuICBGYWN0b3JJZFxufSBmcm9tICcuLi8uLi9tb2RlbC9wdWJsaWNfdHlwZXMnO1xuaW1wb3J0IHsgQXV0aEludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvYXV0aCc7XG5pbXBvcnQge1xuICBmaW5hbGl6ZUVucm9sbFRvdHBNZmEsXG4gIHN0YXJ0RW5yb2xsVG90cE1mYSxcbiAgU3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlLFxuICBUb3RwVmVyaWZpY2F0aW9uSW5mb1xufSBmcm9tICcuLi8uLi9hcGkvYWNjb3VudF9tYW5hZ2VtZW50L21mYSc7XG5pbXBvcnQge1xuICBGaW5hbGl6ZU1mYVJlc3BvbnNlLFxuICBmaW5hbGl6ZVNpZ25JblRvdHBNZmFcbn0gZnJvbSAnLi4vLi4vYXBpL2F1dGhlbnRpY2F0aW9uL21mYSc7XG5pbXBvcnQgeyBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwgfSBmcm9tICcuLi8uLi9tZmEvbWZhX2Fzc2VydGlvbic7XG5pbXBvcnQgeyBNdWx0aUZhY3RvclNlc3Npb25JbXBsIH0gZnJvbSAnLi4vbWZhX3Nlc3Npb24nO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL2NvcmUvZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi8uLi9jb3JlL3V0aWwvYXNzZXJ0JztcblxuLyoqXG4gKiBQcm92aWRlciBmb3IgZ2VuZXJhdGluZyBhIHtAbGluayBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb259LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFRvdHBNdWx0aUZhY3RvckdlbmVyYXRvciB7XG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIHtAbGluayBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb259IHRvIGNvbmZpcm0gb3duZXJzaGlwIG9mXG4gICAqIHRoZSBUT1RQICh0aW1lLWJhc2VkIG9uZS10aW1lIHBhc3N3b3JkKSBzZWNvbmQgZmFjdG9yLlxuICAgKiBUaGlzIGFzc2VydGlvbiBpcyB1c2VkIHRvIGNvbXBsZXRlIGVucm9sbG1lbnQgaW4gVE9UUCBzZWNvbmQgZmFjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0gc2VjcmV0IEEge0BsaW5rIFRvdHBTZWNyZXR9IGNvbnRhaW5pbmcgdGhlIHNoYXJlZCBzZWNyZXQga2V5IGFuZCBvdGhlciBUT1RQIHBhcmFtZXRlcnMuXG4gICAqIEBwYXJhbSBvbmVUaW1lUGFzc3dvcmQgT25lLXRpbWUgcGFzc3dvcmQgZnJvbSBUT1RQIEFwcC5cbiAgICogQHJldHVybnMgQSB7QGxpbmsgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9ufSB3aGljaCBjYW4gYmUgdXNlZCB3aXRoXG4gICAqIHtAbGluayBNdWx0aUZhY3RvclVzZXIuZW5yb2xsfS5cbiAgICovXG4gIHN0YXRpYyBhc3NlcnRpb25Gb3JFbnJvbGxtZW50KFxuICAgIHNlY3JldDogVG90cFNlY3JldCxcbiAgICBvbmVUaW1lUGFzc3dvcmQ6IHN0cmluZ1xuICApOiBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb24ge1xuICAgIHJldHVybiBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsLl9mcm9tU2VjcmV0KHNlY3JldCwgb25lVGltZVBhc3N3b3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIHtAbGluayBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb259IHRvIGNvbmZpcm0gb3duZXJzaGlwIG9mIHRoZSBUT1RQIHNlY29uZCBmYWN0b3IuXG4gICAqIFRoaXMgYXNzZXJ0aW9uIGlzIHVzZWQgdG8gY29tcGxldGUgc2lnbkluIHdpdGggVE9UUCBhcyB0aGUgc2Vjb25kIGZhY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIGVucm9sbG1lbnRJZCBpZGVudGlmaWVzIHRoZSBlbnJvbGxlZCBUT1RQIHNlY29uZCBmYWN0b3IuXG4gICAqIEBwYXJhbSBvbmVUaW1lUGFzc3dvcmQgT25lLXRpbWUgcGFzc3dvcmQgZnJvbSBUT1RQIEFwcC5cbiAgICogQHJldHVybnMgQSB7QGxpbmsgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9ufSB3aGljaCBjYW4gYmUgdXNlZCB3aXRoXG4gICAqIHtAbGluayBNdWx0aUZhY3RvclJlc29sdmVyLnJlc29sdmVTaWduSW59LlxuICAgKi9cbiAgc3RhdGljIGFzc2VydGlvbkZvclNpZ25JbihcbiAgICBlbnJvbGxtZW50SWQ6IHN0cmluZyxcbiAgICBvbmVUaW1lUGFzc3dvcmQ6IHN0cmluZ1xuICApOiBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb24ge1xuICAgIHJldHVybiBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsLl9mcm9tRW5yb2xsbWVudElkKFxuICAgICAgZW5yb2xsbWVudElkLFxuICAgICAgb25lVGltZVBhc3N3b3JkXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0byB7QGxpbmsgVG90cFNlY3JldH0gd2hpY2ggY29udGFpbnMgdGhlIFRPVFAgc2hhcmVkIHNlY3JldCBrZXkgYW5kIG90aGVyIHBhcmFtZXRlcnMuXG4gICAqIENyZWF0ZXMgYSBUT1RQIHNlY3JldCBhcyBwYXJ0IG9mIGVucm9sbGluZyBhIFRPVFAgc2Vjb25kIGZhY3Rvci5cbiAgICogVXNlZCBmb3IgZ2VuZXJhdGluZyBhIFFSIGNvZGUgVVJMIG9yIGlucHV0dGluZyBpbnRvIGEgVE9UUCBhcHAuXG4gICAqIFRoaXMgbWV0aG9kIHVzZXMgdGhlIGF1dGggaW5zdGFuY2UgY29ycmVzcG9uZGluZyB0byB0aGUgdXNlciBpbiB0aGUgbXVsdGlGYWN0b3JTZXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbiBUaGUge0BsaW5rIE11bHRpRmFjdG9yU2Vzc2lvbn0gdGhhdCB0aGUgdXNlciBpcyBwYXJ0IG9mLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdG8ge0BsaW5rIFRvdHBTZWNyZXR9LlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdlbmVyYXRlU2VjcmV0KFxuICAgIHNlc3Npb246IE11bHRpRmFjdG9yU2Vzc2lvblxuICApOiBQcm9taXNlPFRvdHBTZWNyZXQ+IHtcbiAgICBjb25zdCBtZmFTZXNzaW9uID0gc2Vzc2lvbiBhcyBNdWx0aUZhY3RvclNlc3Npb25JbXBsO1xuICAgIF9hc3NlcnQoXG4gICAgICB0eXBlb2YgbWZhU2Vzc2lvbi51c2VyPy5hdXRoICE9PSAndW5kZWZpbmVkJyxcbiAgICAgIEF1dGhFcnJvckNvZGUuSU5URVJOQUxfRVJST1JcbiAgICApO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3RhcnRFbnJvbGxUb3RwTWZhKG1mYVNlc3Npb24udXNlci5hdXRoLCB7XG4gICAgICBpZFRva2VuOiBtZmFTZXNzaW9uLmNyZWRlbnRpYWwsXG4gICAgICB0b3RwRW5yb2xsbWVudEluZm86IHt9XG4gICAgfSk7XG4gICAgcmV0dXJuIFRvdHBTZWNyZXQuX2Zyb21TdGFydFRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2UoXG4gICAgICByZXNwb25zZSxcbiAgICAgIG1mYVNlc3Npb24udXNlci5hdXRoXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaWRlbnRpZmllciBvZiB0aGUgVE9UUCBzZWNvbmQgZmFjdG9yOiBgdG90cGAuXG4gICAqL1xuICBzdGF0aWMgRkFDVE9SX0lEOiAndG90cCcgPSBGYWN0b3JJZC5UT1RQO1xufVxuXG5leHBvcnQgY2xhc3MgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbFxuICBleHRlbmRzIE11bHRpRmFjdG9yQXNzZXJ0aW9uSW1wbFxuICBpbXBsZW1lbnRzIFRvdHBNdWx0aUZhY3RvckFzc2VydGlvblxue1xuICBjb25zdHJ1Y3RvcihcbiAgICByZWFkb25seSBvdHA6IHN0cmluZyxcbiAgICByZWFkb25seSBlbnJvbGxtZW50SWQ/OiBzdHJpbmcsXG4gICAgcmVhZG9ubHkgc2VjcmV0PzogVG90cFNlY3JldFxuICApIHtcbiAgICBzdXBlcihGYWN0b3JJZC5UT1RQKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tU2VjcmV0KFxuICAgIHNlY3JldDogVG90cFNlY3JldCxcbiAgICBvdHA6IHN0cmluZ1xuICApOiBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsIHtcbiAgICByZXR1cm4gbmV3IFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwob3RwLCB1bmRlZmluZWQsIHNlY3JldCk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBfZnJvbUVucm9sbG1lbnRJZChcbiAgICBlbnJvbGxtZW50SWQ6IHN0cmluZyxcbiAgICBvdHA6IHN0cmluZ1xuICApOiBUb3RwTXVsdGlGYWN0b3JBc3NlcnRpb25JbXBsIHtcbiAgICByZXR1cm4gbmV3IFRvdHBNdWx0aUZhY3RvckFzc2VydGlvbkltcGwob3RwLCBlbnJvbGxtZW50SWQpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc3luYyBfZmluYWxpemVFbnJvbGwoXG4gICAgYXV0aDogQXV0aEludGVybmFsLFxuICAgIGlkVG9rZW46IHN0cmluZyxcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGxcbiAgKTogUHJvbWlzZTxGaW5hbGl6ZU1mYVJlc3BvbnNlPiB7XG4gICAgX2Fzc2VydChcbiAgICAgIHR5cGVvZiB0aGlzLnNlY3JldCAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICAgICk7XG4gICAgcmV0dXJuIGZpbmFsaXplRW5yb2xsVG90cE1mYShhdXRoLCB7XG4gICAgICBpZFRva2VuLFxuICAgICAgZGlzcGxheU5hbWUsXG4gICAgICB0b3RwVmVyaWZpY2F0aW9uSW5mbzogdGhpcy5zZWNyZXQuX21ha2VUb3RwVmVyaWZpY2F0aW9uSW5mbyh0aGlzLm90cClcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXN5bmMgX2ZpbmFsaXplU2lnbkluKFxuICAgIGF1dGg6IEF1dGhJbnRlcm5hbCxcbiAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogc3RyaW5nXG4gICk6IFByb21pc2U8RmluYWxpemVNZmFSZXNwb25zZT4ge1xuICAgIF9hc3NlcnQoXG4gICAgICB0aGlzLmVucm9sbG1lbnRJZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMub3RwICE9PSB1bmRlZmluZWQsXG4gICAgICBhdXRoLFxuICAgICAgQXV0aEVycm9yQ29kZS5BUkdVTUVOVF9FUlJPUlxuICAgICk7XG4gICAgY29uc3QgdG90cFZlcmlmaWNhdGlvbkluZm8gPSB7IHZlcmlmaWNhdGlvbkNvZGU6IHRoaXMub3RwIH07XG4gICAgcmV0dXJuIGZpbmFsaXplU2lnbkluVG90cE1mYShhdXRoLCB7XG4gICAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbCxcbiAgICAgIG1mYUVucm9sbG1lbnRJZDogdGhpcy5lbnJvbGxtZW50SWQsXG4gICAgICB0b3RwVmVyaWZpY2F0aW9uSW5mb1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIGdlbmVyYXRpbmcgYSB7QGxpbmsgVG90cE11bHRpRmFjdG9yQXNzZXJ0aW9ufS5cbiAqXG4gKiBTdG9yZXMgdGhlIHNoYXJlZCBzZWNyZXQga2V5IGFuZCBvdGhlciBwYXJhbWV0ZXJzIHRvIGdlbmVyYXRlIHRpbWUtYmFzZWQgT1RQcy5cbiAqIEltcGxlbWVudHMgbWV0aG9kcyB0byByZXRyaWV2ZSB0aGUgc2hhcmVkIHNlY3JldCBrZXkgYW5kIGdlbmVyYXRlIGEgUVIgY29kZSBVUkwuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBUb3RwU2VjcmV0IHtcbiAgLyoqXG4gICAqIFNoYXJlZCBzZWNyZXQga2V5L3NlZWQgdXNlZCBmb3IgZW5yb2xsaW5nIGluIFRPVFAgTUZBIGFuZCBnZW5lcmF0aW5nIE9UUHMuXG4gICAqL1xuICByZWFkb25seSBzZWNyZXRLZXk6IHN0cmluZztcbiAgLyoqXG4gICAqIEhhc2hpbmcgYWxnb3JpdGhtIHVzZWQuXG4gICAqL1xuICByZWFkb25seSBoYXNoaW5nQWxnb3JpdGhtOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBMZW5ndGggb2YgdGhlIG9uZS10aW1lIHBhc3N3b3JkcyB0byBiZSBnZW5lcmF0ZWQuXG4gICAqL1xuICByZWFkb25seSBjb2RlTGVuZ3RoOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgaW50ZXJ2YWwgKGluIHNlY29uZHMpIHdoZW4gdGhlIE9UUCBjb2RlcyBzaG91bGQgY2hhbmdlLlxuICAgKi9cbiAgcmVhZG9ubHkgY29kZUludGVydmFsU2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIHRpbWVzdGFtcCAoVVRDIHN0cmluZykgYnkgd2hpY2ggVE9UUCBlbnJvbGxtZW50IHNob3VsZCBiZSBjb21wbGV0ZWQuXG4gICAqL1xuICAvLyBUaGlzIGNhbiBiZSB1c2VkIGJ5IGNhbGxlcnMgdG8gc2hvdyBhIGNvdW50ZG93biBvZiB3aGVuIHRvIGVudGVyIE9UUCBjb2RlIGJ5LlxuICByZWFkb25seSBlbnJvbGxtZW50Q29tcGxldGlvbkRlYWRsaW5lOiBzdHJpbmc7XG5cbiAgLy8gVGhlIHB1YmxpYyBtZW1iZXJzIGFyZSBkZWNsYXJlZCBvdXRzaWRlIHRoZSBjb25zdHJ1Y3RvciBzbyB0aGUgZG9jcyBjYW4gYmUgZ2VuZXJhdGVkLlxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIHNlY3JldEtleTogc3RyaW5nLFxuICAgIGhhc2hpbmdBbGdvcml0aG06IHN0cmluZyxcbiAgICBjb2RlTGVuZ3RoOiBudW1iZXIsXG4gICAgY29kZUludGVydmFsU2Vjb25kczogbnVtYmVyLFxuICAgIGVucm9sbG1lbnRDb21wbGV0aW9uRGVhZGxpbmU6IHN0cmluZyxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlc3Npb25JbmZvOiBzdHJpbmcsXG4gICAgcHJpdmF0ZSByZWFkb25seSBhdXRoOiBBdXRoSW50ZXJuYWxcbiAgKSB7XG4gICAgdGhpcy5zZWNyZXRLZXkgPSBzZWNyZXRLZXk7XG4gICAgdGhpcy5oYXNoaW5nQWxnb3JpdGhtID0gaGFzaGluZ0FsZ29yaXRobTtcbiAgICB0aGlzLmNvZGVMZW5ndGggPSBjb2RlTGVuZ3RoO1xuICAgIHRoaXMuY29kZUludGVydmFsU2Vjb25kcyA9IGNvZGVJbnRlcnZhbFNlY29uZHM7XG4gICAgdGhpcy5lbnJvbGxtZW50Q29tcGxldGlvbkRlYWRsaW5lID0gZW5yb2xsbWVudENvbXBsZXRpb25EZWFkbGluZTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIF9mcm9tU3RhcnRUb3RwTWZhRW5yb2xsbWVudFJlc3BvbnNlKFxuICAgIHJlc3BvbnNlOiBTdGFydFRvdHBNZmFFbnJvbGxtZW50UmVzcG9uc2UsXG4gICAgYXV0aDogQXV0aEludGVybmFsXG4gICk6IFRvdHBTZWNyZXQge1xuICAgIHJldHVybiBuZXcgVG90cFNlY3JldChcbiAgICAgIHJlc3BvbnNlLnRvdHBTZXNzaW9uSW5mby5zaGFyZWRTZWNyZXRLZXksXG4gICAgICByZXNwb25zZS50b3RwU2Vzc2lvbkluZm8uaGFzaGluZ0FsZ29yaXRobSxcbiAgICAgIHJlc3BvbnNlLnRvdHBTZXNzaW9uSW5mby52ZXJpZmljYXRpb25Db2RlTGVuZ3RoLFxuICAgICAgcmVzcG9uc2UudG90cFNlc3Npb25JbmZvLnBlcmlvZFNlYyxcbiAgICAgIG5ldyBEYXRlKHJlc3BvbnNlLnRvdHBTZXNzaW9uSW5mby5maW5hbGl6ZUVucm9sbG1lbnRUaW1lKS50b1VUQ1N0cmluZygpLFxuICAgICAgcmVzcG9uc2UudG90cFNlc3Npb25JbmZvLnNlc3Npb25JbmZvLFxuICAgICAgYXV0aFxuICAgICk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9tYWtlVG90cFZlcmlmaWNhdGlvbkluZm8ob3RwOiBzdHJpbmcpOiBUb3RwVmVyaWZpY2F0aW9uSW5mbyB7XG4gICAgcmV0dXJuIHsgc2Vzc2lvbkluZm86IHRoaXMuc2Vzc2lvbkluZm8sIHZlcmlmaWNhdGlvbkNvZGU6IG90cCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBRUiBjb2RlIFVSTCBhcyBkZXNjcmliZWQgaW5cbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9nb29nbGUtYXV0aGVudGljYXRvci93aWtpL0tleS1VcmktRm9ybWF0XG4gICAqIFRoaXMgY2FuIGJlIGRpc3BsYXllZCB0byB0aGUgdXNlciBhcyBhIFFSIGNvZGUgdG8gYmUgc2Nhbm5lZCBpbnRvIGEgVE9UUCBhcHAgbGlrZSBHb29nbGUgQXV0aGVudGljYXRvci5cbiAgICogSWYgdGhlIG9wdGlvbmFsIHBhcmFtZXRlcnMgYXJlIHVuc3BlY2lmaWVkLCBhbiBhY2NvdW50TmFtZSBvZiA8dXNlckVtYWlsPiBhbmQgaXNzdWVyIG9mIDxmaXJlYmFzZUFwcE5hbWU+IGFyZSB1c2VkLlxuICAgKlxuICAgKiBAcGFyYW0gYWNjb3VudE5hbWUgdGhlIG5hbWUgb2YgdGhlIGFjY291bnQvYXBwIGFsb25nIHdpdGggYSB1c2VyIGlkZW50aWZpZXIuXG4gICAqIEBwYXJhbSBpc3N1ZXIgaXNzdWVyIG9mIHRoZSBUT1RQIChsaWtlbHkgdGhlIGFwcCBuYW1lKS5cbiAgICogQHJldHVybnMgQSBRUiBjb2RlIFVSTCBzdHJpbmcuXG4gICAqL1xuICBnZW5lcmF0ZVFyQ29kZVVybChhY2NvdW50TmFtZT86IHN0cmluZywgaXNzdWVyPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgdXNlRGVmYXVsdHMgPSBmYWxzZTtcbiAgICBpZiAoX2lzRW1wdHlTdHJpbmcoYWNjb3VudE5hbWUpIHx8IF9pc0VtcHR5U3RyaW5nKGlzc3VlcikpIHtcbiAgICAgIHVzZURlZmF1bHRzID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHVzZURlZmF1bHRzKSB7XG4gICAgICBpZiAoX2lzRW1wdHlTdHJpbmcoYWNjb3VudE5hbWUpKSB7XG4gICAgICAgIGFjY291bnROYW1lID0gdGhpcy5hdXRoLmN1cnJlbnRVc2VyPy5lbWFpbCB8fCAndW5rbm93bnVzZXInO1xuICAgICAgfVxuICAgICAgaWYgKF9pc0VtcHR5U3RyaW5nKGlzc3VlcikpIHtcbiAgICAgICAgaXNzdWVyID0gdGhpcy5hdXRoLm5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBgb3RwYXV0aDovL3RvdHAvJHtpc3N1ZXJ9OiR7YWNjb3VudE5hbWV9P3NlY3JldD0ke3RoaXMuc2VjcmV0S2V5fSZpc3N1ZXI9JHtpc3N1ZXJ9JmFsZ29yaXRobT0ke3RoaXMuaGFzaGluZ0FsZ29yaXRobX0mZGlnaXRzPSR7dGhpcy5jb2RlTGVuZ3RofWA7XG4gIH1cbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gX2lzRW1wdHlTdHJpbmcoaW5wdXQ/OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcgfHwgaW5wdXQ/Lmxlbmd0aCA9PT0gMDtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVbnN1YnNjcmliZSB9IGZyb20gJ0BmaXJlYmFzZS91dGlsJztcbmltcG9ydCB7IEZpcmViYXNlQXV0aEludGVybmFsIH0gZnJvbSAnQGZpcmViYXNlL2F1dGgtaW50ZXJvcC10eXBlcyc7XG5cbmltcG9ydCB7IEF1dGhJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgVXNlckludGVybmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvdXNlcic7XG5pbXBvcnQgeyBfYXNzZXJ0IH0gZnJvbSAnLi4vdXRpbC9hc3NlcnQnO1xuaW1wb3J0IHsgQXV0aEVycm9yQ29kZSB9IGZyb20gJy4uL2Vycm9ycyc7XG5cbmludGVyZmFjZSBUb2tlbkxpc3RlbmVyIHtcbiAgKHRvazogc3RyaW5nIHwgbnVsbCk6IHVua25vd247XG59XG5cbmV4cG9ydCBjbGFzcyBBdXRoSW50ZXJvcCBpbXBsZW1lbnRzIEZpcmViYXNlQXV0aEludGVybmFsIHtcbiAgcHJpdmF0ZSByZWFkb25seSBpbnRlcm5hbExpc3RlbmVyczogTWFwPFRva2VuTGlzdGVuZXIsIFVuc3Vic2NyaWJlPiA9XG4gICAgbmV3IE1hcCgpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXV0aDogQXV0aEludGVybmFsKSB7fVxuXG4gIGdldFVpZCgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICB0aGlzLmFzc2VydEF1dGhDb25maWd1cmVkKCk7XG4gICAgcmV0dXJuIHRoaXMuYXV0aC5jdXJyZW50VXNlcj8udWlkIHx8IG51bGw7XG4gIH1cblxuICBhc3luYyBnZXRUb2tlbihcbiAgICBmb3JjZVJlZnJlc2g/OiBib29sZWFuXG4gICk6IFByb21pc2U8eyBhY2Nlc3NUb2tlbjogc3RyaW5nIH0gfCBudWxsPiB7XG4gICAgdGhpcy5hc3NlcnRBdXRoQ29uZmlndXJlZCgpO1xuICAgIGF3YWl0IHRoaXMuYXV0aC5faW5pdGlhbGl6YXRpb25Qcm9taXNlO1xuICAgIGlmICghdGhpcy5hdXRoLmN1cnJlbnRVc2VyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGF3YWl0IHRoaXMuYXV0aC5jdXJyZW50VXNlci5nZXRJZFRva2VuKGZvcmNlUmVmcmVzaCk7XG4gICAgcmV0dXJuIHsgYWNjZXNzVG9rZW4gfTtcbiAgfVxuXG4gIGFkZEF1dGhUb2tlbkxpc3RlbmVyKGxpc3RlbmVyOiBUb2tlbkxpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5hc3NlcnRBdXRoQ29uZmlndXJlZCgpO1xuICAgIGlmICh0aGlzLmludGVybmFsTGlzdGVuZXJzLmhhcyhsaXN0ZW5lcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuYXV0aC5vbklkVG9rZW5DaGFuZ2VkKHVzZXIgPT4ge1xuICAgICAgbGlzdGVuZXIoXG4gICAgICAgICh1c2VyIGFzIFVzZXJJbnRlcm5hbCB8IG51bGwpPy5zdHNUb2tlbk1hbmFnZXIuYWNjZXNzVG9rZW4gfHwgbnVsbFxuICAgICAgKTtcbiAgICB9KTtcbiAgICB0aGlzLmludGVybmFsTGlzdGVuZXJzLnNldChsaXN0ZW5lciwgdW5zdWJzY3JpYmUpO1xuICAgIHRoaXMudXBkYXRlUHJvYWN0aXZlUmVmcmVzaCgpO1xuICB9XG5cbiAgcmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIobGlzdGVuZXI6IFRva2VuTGlzdGVuZXIpOiB2b2lkIHtcbiAgICB0aGlzLmFzc2VydEF1dGhDb25maWd1cmVkKCk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLmludGVybmFsTGlzdGVuZXJzLmdldChsaXN0ZW5lcik7XG4gICAgaWYgKCF1bnN1YnNjcmliZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaW50ZXJuYWxMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB1bnN1YnNjcmliZSgpO1xuICAgIHRoaXMudXBkYXRlUHJvYWN0aXZlUmVmcmVzaCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3NlcnRBdXRoQ29uZmlndXJlZCgpOiB2b2lkIHtcbiAgICBfYXNzZXJ0KFxuICAgICAgdGhpcy5hdXRoLl9pbml0aWFsaXphdGlvblByb21pc2UsXG4gICAgICBBdXRoRXJyb3JDb2RlLkRFUEVOREVOVF9TREtfSU5JVF9CRUZPUkVfQVVUSFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVByb2FjdGl2ZVJlZnJlc2goKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaW50ZXJuYWxMaXN0ZW5lcnMuc2l6ZSA+IDApIHtcbiAgICAgIHRoaXMuYXV0aC5fc3RhcnRQcm9hY3RpdmVSZWZyZXNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXV0aC5fc3RvcFByb2FjdGl2ZVJlZnJlc2goKTtcbiAgICB9XG4gIH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBfcmVnaXN0ZXJDb21wb25lbnQsIHJlZ2lzdGVyVmVyc2lvbiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBDb21wb25lbnRUeXBlLFxuICBJbnN0YW50aWF0aW9uTW9kZVxufSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcblxuaW1wb3J0IHsgbmFtZSwgdmVyc2lvbiB9IGZyb20gJy4uLy4uLy4uL3BhY2thZ2UuanNvbic7XG5pbXBvcnQgeyBBdXRoRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3JzJztcbmltcG9ydCB7IF9hc3NlcnQgfSBmcm9tICcuLi91dGlsL2Fzc2VydCc7XG5pbXBvcnQgeyBfZ2V0Q2xpZW50VmVyc2lvbiwgQ2xpZW50UGxhdGZvcm0gfSBmcm9tICcuLi91dGlsL3ZlcnNpb24nO1xuaW1wb3J0IHsgX2Nhc3RBdXRoLCBBdXRoSW1wbCwgRGVmYXVsdENvbmZpZyB9IGZyb20gJy4vYXV0aF9pbXBsJztcbmltcG9ydCB7IEF1dGhJbnRlcm9wIH0gZnJvbSAnLi9maXJlYmFzZV9pbnRlcm5hbCc7XG5pbXBvcnQgeyBDb25maWdJbnRlcm5hbCB9IGZyb20gJy4uLy4uL21vZGVsL2F1dGgnO1xuaW1wb3J0IHsgRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi4vLi4vbW9kZWwvcHVibGljX3R5cGVzJztcbmltcG9ydCB7IF9pbml0aWFsaXplQXV0aEluc3RhbmNlIH0gZnJvbSAnLi9pbml0aWFsaXplJztcblxuZXhwb3J0IGNvbnN0IGVudW0gX0NvbXBvbmVudE5hbWUge1xuICBBVVRIID0gJ2F1dGgnLFxuICBBVVRIX0lOVEVSTkFMID0gJ2F1dGgtaW50ZXJuYWwnXG59XG5cbmZ1bmN0aW9uIGdldFZlcnNpb25Gb3JQbGF0Zm9ybShcbiAgY2xpZW50UGxhdGZvcm06IENsaWVudFBsYXRmb3JtXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBzd2l0Y2ggKGNsaWVudFBsYXRmb3JtKSB7XG4gICAgY2FzZSBDbGllbnRQbGF0Zm9ybS5OT0RFOlxuICAgICAgcmV0dXJuICdub2RlJztcbiAgICBjYXNlIENsaWVudFBsYXRmb3JtLlJFQUNUX05BVElWRTpcbiAgICAgIHJldHVybiAncm4nO1xuICAgIGNhc2UgQ2xpZW50UGxhdGZvcm0uV09SS0VSOlxuICAgICAgcmV0dXJuICd3ZWJ3b3JrZXInO1xuICAgIGNhc2UgQ2xpZW50UGxhdGZvcm0uQ09SRE9WQTpcbiAgICAgIHJldHVybiAnY29yZG92YSc7XG4gICAgY2FzZSBDbGllbnRQbGF0Zm9ybS5XRUJfRVhURU5TSU9OOlxuICAgICAgcmV0dXJuICd3ZWItZXh0ZW5zaW9uJztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJBdXRoKGNsaWVudFBsYXRmb3JtOiBDbGllbnRQbGF0Zm9ybSk6IHZvaWQge1xuICBfcmVnaXN0ZXJDb21wb25lbnQoXG4gICAgbmV3IENvbXBvbmVudChcbiAgICAgIF9Db21wb25lbnROYW1lLkFVVEgsXG4gICAgICAoY29udGFpbmVyLCB7IG9wdGlvbnM6IGRlcHMgfTogeyBvcHRpb25zPzogRGVwZW5kZW5jaWVzIH0pID0+IHtcbiAgICAgICAgY29uc3QgYXBwID0gY29udGFpbmVyLmdldFByb3ZpZGVyKCdhcHAnKS5nZXRJbW1lZGlhdGUoKSE7XG4gICAgICAgIGNvbnN0IGhlYXJ0YmVhdFNlcnZpY2VQcm92aWRlciA9XG4gICAgICAgICAgY29udGFpbmVyLmdldFByb3ZpZGVyPCdoZWFydGJlYXQnPignaGVhcnRiZWF0Jyk7XG4gICAgICAgIGNvbnN0IGFwcENoZWNrU2VydmljZVByb3ZpZGVyID1cbiAgICAgICAgICBjb250YWluZXIuZ2V0UHJvdmlkZXI8J2FwcC1jaGVjay1pbnRlcm5hbCc+KCdhcHAtY2hlY2staW50ZXJuYWwnKTtcbiAgICAgICAgY29uc3QgeyBhcGlLZXksIGF1dGhEb21haW4gfSA9IGFwcC5vcHRpb25zO1xuXG4gICAgICAgIF9hc3NlcnQoXG4gICAgICAgICAgYXBpS2V5ICYmICFhcGlLZXkuaW5jbHVkZXMoJzonKSxcbiAgICAgICAgICBBdXRoRXJyb3JDb2RlLklOVkFMSURfQVBJX0tFWSxcbiAgICAgICAgICB7IGFwcE5hbWU6IGFwcC5uYW1lIH1cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjb25maWc6IENvbmZpZ0ludGVybmFsID0ge1xuICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICBhdXRoRG9tYWluLFxuICAgICAgICAgIGNsaWVudFBsYXRmb3JtLFxuICAgICAgICAgIGFwaUhvc3Q6IERlZmF1bHRDb25maWcuQVBJX0hPU1QsXG4gICAgICAgICAgdG9rZW5BcGlIb3N0OiBEZWZhdWx0Q29uZmlnLlRPS0VOX0FQSV9IT1NULFxuICAgICAgICAgIGFwaVNjaGVtZTogRGVmYXVsdENvbmZpZy5BUElfU0NIRU1FLFxuICAgICAgICAgIHNka0NsaWVudFZlcnNpb246IF9nZXRDbGllbnRWZXJzaW9uKGNsaWVudFBsYXRmb3JtKVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGF1dGhJbnN0YW5jZSA9IG5ldyBBdXRoSW1wbChcbiAgICAgICAgICBhcHAsXG4gICAgICAgICAgaGVhcnRiZWF0U2VydmljZVByb3ZpZGVyLFxuICAgICAgICAgIGFwcENoZWNrU2VydmljZVByb3ZpZGVyLFxuICAgICAgICAgIGNvbmZpZ1xuICAgICAgICApO1xuICAgICAgICBfaW5pdGlhbGl6ZUF1dGhJbnN0YW5jZShhdXRoSW5zdGFuY2UsIGRlcHMpO1xuXG4gICAgICAgIHJldHVybiBhdXRoSW5zdGFuY2U7XG4gICAgICB9LFxuICAgICAgQ29tcG9uZW50VHlwZS5QVUJMSUNcbiAgICApXG4gICAgICAvKipcbiAgICAgICAqIEF1dGggY2FuIG9ubHkgYmUgaW5pdGlhbGl6ZWQgYnkgZXhwbGljaXRseSBjYWxsaW5nIGdldEF1dGgoKSBvciBpbml0aWFsaXplQXV0aCgpXG4gICAgICAgKiBGb3Igd2h5IHdlIGRvIHRoaXMsIFNlZSBnby9maXJlYmFzZS1uZXh0LWF1dGgtaW5pdFxuICAgICAgICovXG4gICAgICAuc2V0SW5zdGFudGlhdGlvbk1vZGUoSW5zdGFudGlhdGlvbk1vZGUuRVhQTElDSVQpXG4gICAgICAvKipcbiAgICAgICAqIEJlY2F1c2UgYWxsIGZpcmViYXNlIHByb2R1Y3RzIHRoYXQgZGVwZW5kIG9uIGF1dGggZGVwZW5kIG9uIGF1dGgtaW50ZXJuYWwgZGlyZWN0bHksXG4gICAgICAgKiB3ZSBuZWVkIHRvIGluaXRpYWxpemUgYXV0aC1pbnRlcm5hbCBhZnRlciBhdXRoIGlzIGluaXRpYWxpemVkIHRvIG1ha2UgaXQgYXZhaWxhYmxlIHRvIG90aGVyIGZpcmViYXNlIHByb2R1Y3RzLlxuICAgICAgICovXG4gICAgICAuc2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2soXG4gICAgICAgIChjb250YWluZXIsIF9pbnN0YW5jZUlkZW50aWZpZXIsIF9pbnN0YW5jZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGF1dGhJbnRlcm5hbFByb3ZpZGVyID0gY29udGFpbmVyLmdldFByb3ZpZGVyKFxuICAgICAgICAgICAgX0NvbXBvbmVudE5hbWUuQVVUSF9JTlRFUk5BTFxuICAgICAgICAgICk7XG4gICAgICAgICAgYXV0aEludGVybmFsUHJvdmlkZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICApXG4gICk7XG5cbiAgX3JlZ2lzdGVyQ29tcG9uZW50KFxuICAgIG5ldyBDb21wb25lbnQoXG4gICAgICBfQ29tcG9uZW50TmFtZS5BVVRIX0lOVEVSTkFMLFxuICAgICAgY29udGFpbmVyID0+IHtcbiAgICAgICAgY29uc3QgYXV0aCA9IF9jYXN0QXV0aChcbiAgICAgICAgICBjb250YWluZXIuZ2V0UHJvdmlkZXIoX0NvbXBvbmVudE5hbWUuQVVUSCkuZ2V0SW1tZWRpYXRlKCkhXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiAoYXV0aCA9PiBuZXcgQXV0aEludGVyb3AoYXV0aCkpKGF1dGgpO1xuICAgICAgfSxcbiAgICAgIENvbXBvbmVudFR5cGUuUFJJVkFURVxuICAgICkuc2V0SW5zdGFudGlhdGlvbk1vZGUoSW5zdGFudGlhdGlvbk1vZGUuRVhQTElDSVQpXG4gICk7XG5cbiAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sIGdldFZlcnNpb25Gb3JQbGF0Zm9ybShjbGllbnRQbGF0Zm9ybSkpO1xuICAvLyBCVUlMRF9UQVJHRVQgd2lsbCBiZSByZXBsYWNlZCBieSB2YWx1ZXMgbGlrZSBlc201LCBlc20yMDE3LCBjanM1LCBldGMgZHVyaW5nIHRoZSBjb21waWxhdGlvblxuICByZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgJ19fQlVJTERfVEFSR0VUX18nKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGaXJlYmFzZUFwcCwgZ2V0QXBwLCBfZ2V0UHJvdmlkZXIgfSBmcm9tICdAZmlyZWJhc2UvYXBwJztcblxuaW1wb3J0IHtcbiAgaW5pdGlhbGl6ZUF1dGgsXG4gIGJlZm9yZUF1dGhTdGF0ZUNoYW5nZWQsXG4gIG9uSWRUb2tlbkNoYW5nZWQsXG4gIGNvbm5lY3RBdXRoRW11bGF0b3Jcbn0gZnJvbSAnLi4nO1xuaW1wb3J0IHsgcmVnaXN0ZXJBdXRoIH0gZnJvbSAnLi4vY29yZS9hdXRoL3JlZ2lzdGVyJztcbmltcG9ydCB7IENsaWVudFBsYXRmb3JtIH0gZnJvbSAnLi4vY29yZS91dGlsL3ZlcnNpb24nO1xuaW1wb3J0IHsgYnJvd3NlckxvY2FsUGVyc2lzdGVuY2UgfSBmcm9tICcuL3BlcnNpc3RlbmNlL2xvY2FsX3N0b3JhZ2UnO1xuaW1wb3J0IHsgYnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZSB9IGZyb20gJy4vcGVyc2lzdGVuY2Uvc2Vzc2lvbl9zdG9yYWdlJztcbmltcG9ydCB7IGluZGV4ZWREQkxvY2FsUGVyc2lzdGVuY2UgfSBmcm9tICcuL3BlcnNpc3RlbmNlL2luZGV4ZWRfZGInO1xuaW1wb3J0IHsgYnJvd3NlclBvcHVwUmVkaXJlY3RSZXNvbHZlciB9IGZyb20gJy4vcG9wdXBfcmVkaXJlY3QnO1xuaW1wb3J0IHsgQXV0aCwgVXNlciB9IGZyb20gJy4uL21vZGVsL3B1YmxpY190eXBlcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0RW11bGF0b3JIb3N0LCBnZXRFeHBlcmltZW50YWxTZXR0aW5nIH0gZnJvbSAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0IHsgX3NldEV4dGVybmFsSlNQcm92aWRlciB9IGZyb20gJy4vbG9hZF9qcyc7XG5pbXBvcnQgeyBfY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9jb3JlL3V0aWwvYXNzZXJ0JztcbmltcG9ydCB7IEF1dGhFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2Vycm9ycyc7XG5cbmNvbnN0IERFRkFVTFRfSURfVE9LRU5fTUFYX0FHRSA9IDUgKiA2MDtcbmNvbnN0IGF1dGhJZFRva2VuTWF4QWdlID1cbiAgZ2V0RXhwZXJpbWVudGFsU2V0dGluZygnYXV0aElkVG9rZW5NYXhBZ2UnKSB8fCBERUZBVUxUX0lEX1RPS0VOX01BWF9BR0U7XG5cbmxldCBsYXN0UG9zdGVkSWRUb2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCA9IG51bGw7XG5cbmNvbnN0IG1pbnRDb29raWVGYWN0b3J5ID0gKHVybDogc3RyaW5nKSA9PiBhc3luYyAodXNlcjogVXNlciB8IG51bGwpID0+IHtcbiAgY29uc3QgaWRUb2tlblJlc3VsdCA9IHVzZXIgJiYgKGF3YWl0IHVzZXIuZ2V0SWRUb2tlblJlc3VsdCgpKTtcbiAgY29uc3QgaWRUb2tlbkFnZSA9XG4gICAgaWRUb2tlblJlc3VsdCAmJlxuICAgIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIERhdGUucGFyc2UoaWRUb2tlblJlc3VsdC5pc3N1ZWRBdFRpbWUpKSAvIDFfMDAwO1xuICBpZiAoaWRUb2tlbkFnZSAmJiBpZFRva2VuQWdlID4gYXV0aElkVG9rZW5NYXhBZ2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gU3BlY2lmaWNhbGx5IHRyaXAgbnVsbCA9PiB1bmRlZmluZWQgd2hlbiBsb2dnZWQgb3V0LCB0byBkZWxldGUgYW55IGV4aXN0aW5nIGNvb2tpZVxuICBjb25zdCBpZFRva2VuID0gaWRUb2tlblJlc3VsdD8udG9rZW47XG4gIGlmIChsYXN0UG9zdGVkSWRUb2tlbiA9PT0gaWRUb2tlbikge1xuICAgIHJldHVybjtcbiAgfVxuICBsYXN0UG9zdGVkSWRUb2tlbiA9IGlkVG9rZW47XG4gIGF3YWl0IGZldGNoKHVybCwge1xuICAgIG1ldGhvZDogaWRUb2tlbiA/ICdQT1NUJyA6ICdERUxFVEUnLFxuICAgIGhlYWRlcnM6IGlkVG9rZW5cbiAgICAgID8ge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2lkVG9rZW59YFxuICAgICAgICB9XG4gICAgICA6IHt9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBBdXRoIGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvdmlkZWQge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9LlxuICogSWYgbm8gaW5zdGFuY2UgZXhpc3RzLCBpbml0aWFsaXplcyBhbiBBdXRoIGluc3RhbmNlIHdpdGggcGxhdGZvcm0tc3BlY2lmaWMgZGVmYXVsdCBkZXBlbmRlbmNpZXMuXG4gKlxuICogQHBhcmFtIGFwcCAtIFRoZSBGaXJlYmFzZSBBcHAuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXV0aChhcHA6IEZpcmViYXNlQXBwID0gZ2V0QXBwKCkpOiBBdXRoIHtcbiAgY29uc3QgcHJvdmlkZXIgPSBfZ2V0UHJvdmlkZXIoYXBwLCAnYXV0aCcpO1xuXG4gIGlmIChwcm92aWRlci5pc0luaXRpYWxpemVkKCkpIHtcbiAgICByZXR1cm4gcHJvdmlkZXIuZ2V0SW1tZWRpYXRlKCk7XG4gIH1cblxuICBjb25zdCBhdXRoID0gaW5pdGlhbGl6ZUF1dGgoYXBwLCB7XG4gICAgcG9wdXBSZWRpcmVjdFJlc29sdmVyOiBicm93c2VyUG9wdXBSZWRpcmVjdFJlc29sdmVyLFxuICAgIHBlcnNpc3RlbmNlOiBbXG4gICAgICBpbmRleGVkREJMb2NhbFBlcnNpc3RlbmNlLFxuICAgICAgYnJvd3NlckxvY2FsUGVyc2lzdGVuY2UsXG4gICAgICBicm93c2VyU2Vzc2lvblBlcnNpc3RlbmNlXG4gICAgXVxuICB9KTtcblxuICBjb25zdCBhdXRoVG9rZW5TeW5jUGF0aCA9IGdldEV4cGVyaW1lbnRhbFNldHRpbmcoJ2F1dGhUb2tlblN5bmNVUkwnKTtcbiAgLy8gT25seSBkbyB0aGUgQ29va2llIGV4Y2hhbmdlIGluIGEgc2VjdXJlIGNvbnRleHRcbiAgaWYgKFxuICAgIGF1dGhUb2tlblN5bmNQYXRoICYmXG4gICAgdHlwZW9mIGlzU2VjdXJlQ29udGV4dCA9PT0gJ2Jvb2xlYW4nICYmXG4gICAgaXNTZWN1cmVDb250ZXh0XG4gICkge1xuICAgIC8vIERvbid0IGFsbG93IHVybHMgKFhTUyBwb3NzaWJpbGl0eSksIG9ubHkgcGF0aHMgb24gdGhlIHNhbWUgZG9tYWluXG4gICAgY29uc3QgYXV0aFRva2VuU3luY1VybCA9IG5ldyBVUkwoYXV0aFRva2VuU3luY1BhdGgsIGxvY2F0aW9uLm9yaWdpbik7XG4gICAgaWYgKGxvY2F0aW9uLm9yaWdpbiA9PT0gYXV0aFRva2VuU3luY1VybC5vcmlnaW4pIHtcbiAgICAgIGNvbnN0IG1pbnRDb29raWUgPSBtaW50Q29va2llRmFjdG9yeShhdXRoVG9rZW5TeW5jVXJsLnRvU3RyaW5nKCkpO1xuICAgICAgYmVmb3JlQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBtaW50Q29va2llLCAoKSA9PlxuICAgICAgICBtaW50Q29va2llKGF1dGguY3VycmVudFVzZXIpXG4gICAgICApO1xuICAgICAgb25JZFRva2VuQ2hhbmdlZChhdXRoLCB1c2VyID0+IG1pbnRDb29raWUodXNlcikpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGF1dGhFbXVsYXRvckhvc3QgPSBnZXREZWZhdWx0RW11bGF0b3JIb3N0KCdhdXRoJyk7XG4gIGlmIChhdXRoRW11bGF0b3JIb3N0KSB7XG4gICAgY29ubmVjdEF1dGhFbXVsYXRvcihhdXRoLCBgaHR0cDovLyR7YXV0aEVtdWxhdG9ySG9zdH1gKTtcbiAgfVxuXG4gIHJldHVybiBhdXRoO1xufVxuXG5mdW5jdGlvbiBnZXRTY3JpcHRQYXJlbnRFbGVtZW50KCk6IEhUTUxEb2N1bWVudCB8IEhUTUxIZWFkRWxlbWVudCB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpPy5bMF0gPz8gZG9jdW1lbnQ7XG59XG5cbl9zZXRFeHRlcm5hbEpTUHJvdmlkZXIoe1xuICBsb2FkSlModXJsOiBzdHJpbmcpOiBQcm9taXNlPEV2ZW50PiB7XG4gICAgLy8gVE9ETzogY29uc2lkZXIgYWRkaW5nIHRpbWVvdXQgc3VwcG9ydCAmIGNhbmNlbGxhdGlvblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xuICAgICAgZWwub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgIGVsLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBfY3JlYXRlRXJyb3IoQXV0aEVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUik7XG4gICAgICAgIGVycm9yLmN1c3RvbURhdGEgPSBlIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9O1xuICAgICAgZWwudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuICAgICAgZWwuY2hhcnNldCA9ICdVVEYtOCc7XG4gICAgICBnZXRTY3JpcHRQYXJlbnRFbGVtZW50KCkuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIH0pO1xuICB9LFxuXG4gIGdhcGlTY3JpcHQ6ICdodHRwczovL2FwaXMuZ29vZ2xlLmNvbS9qcy9hcGkuanMnLFxuICByZWNhcHRjaGFWMlNjcmlwdDogJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qcycsXG4gIHJlY2FwdGNoYUVudGVycHJpc2VTY3JpcHQ6XG4gICAgJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2VudGVycHJpc2UuanM/cmVuZGVyPSdcbn0pO1xuXG5yZWdpc3RlckF1dGgoQ2xpZW50UGxhdGZvcm0uQlJPV1NFUik7XG4iLCAiZXhwb3J0IHsgQSBhcyBBY3Rpb25Db2RlT3BlcmF0aW9uLCBhaSBhcyBBY3Rpb25Db2RlVVJMLCBMIGFzIEF1dGhDcmVkZW50aWFsLCBJIGFzIEF1dGhFcnJvckNvZGVzLCBNIGFzIEVtYWlsQXV0aENyZWRlbnRpYWwsIFYgYXMgRW1haWxBdXRoUHJvdmlkZXIsIFcgYXMgRmFjZWJvb2tBdXRoUHJvdmlkZXIsIEYgYXMgRmFjdG9ySWQsIFkgYXMgR2l0aHViQXV0aFByb3ZpZGVyLCBYIGFzIEdvb2dsZUF1dGhQcm92aWRlciwgTiBhcyBPQXV0aENyZWRlbnRpYWwsIFogYXMgT0F1dGhQcm92aWRlciwgTyBhcyBPcGVyYXRpb25UeXBlLCBRIGFzIFBob25lQXV0aENyZWRlbnRpYWwsIFAgYXMgUGhvbmVBdXRoUHJvdmlkZXIsIG0gYXMgUGhvbmVNdWx0aUZhY3RvckdlbmVyYXRvciwgcCBhcyBQcm92aWRlcklkLCBSIGFzIFJlY2FwdGNoYVZlcmlmaWVyLCBfIGFzIFNBTUxBdXRoUHJvdmlkZXIsIFMgYXMgU2lnbkluTWV0aG9kLCBUIGFzIFRvdHBNdWx0aUZhY3RvckdlbmVyYXRvciwgbiBhcyBUb3RwU2VjcmV0LCAkIGFzIFR3aXR0ZXJBdXRoUHJvdmlkZXIsIGE3IGFzIGFwcGx5QWN0aW9uQ29kZSwgeCBhcyBiZWZvcmVBdXRoU3RhdGVDaGFuZ2VkLCBiIGFzIGJyb3dzZXJMb2NhbFBlcnNpc3RlbmNlLCBrIGFzIGJyb3dzZXJQb3B1cFJlZGlyZWN0UmVzb2x2ZXIsIGEgYXMgYnJvd3NlclNlc3Npb25QZXJzaXN0ZW5jZSwgYTggYXMgY2hlY2tBY3Rpb25Db2RlLCBhNiBhcyBjb25maXJtUGFzc3dvcmRSZXNldCwgSyBhcyBjb25uZWN0QXV0aEVtdWxhdG9yLCBhYSBhcyBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQsIEcgYXMgZGVidWdFcnJvck1hcCwgRSBhcyBkZWxldGVVc2VyLCBhZiBhcyBmZXRjaFNpZ25Jbk1ldGhvZHNGb3JFbWFpbCwgYXEgYXMgZ2V0QWRkaXRpb25hbFVzZXJJbmZvLCBvIGFzIGdldEF1dGgsIGFuIGFzIGdldElkVG9rZW4sIGFvIGFzIGdldElkVG9rZW5SZXN1bHQsIGFzIGFzIGdldE11bHRpRmFjdG9yUmVzb2x2ZXIsIGogYXMgZ2V0UmVkaXJlY3RSZXN1bHQsIFUgYXMgaW5NZW1vcnlQZXJzaXN0ZW5jZSwgaSBhcyBpbmRleGVkREJMb2NhbFBlcnNpc3RlbmNlLCBKIGFzIGluaXRpYWxpemVBdXRoLCB0IGFzIGluaXRpYWxpemVSZWNhcHRjaGFDb25maWcsIGFkIGFzIGlzU2lnbkluV2l0aEVtYWlsTGluaywgYTIgYXMgbGlua1dpdGhDcmVkZW50aWFsLCBsIGFzIGxpbmtXaXRoUGhvbmVOdW1iZXIsIGQgYXMgbGlua1dpdGhQb3B1cCwgZyBhcyBsaW5rV2l0aFJlZGlyZWN0LCBhdCBhcyBtdWx0aUZhY3RvciwgeSBhcyBvbkF1dGhTdGF0ZUNoYW5nZWQsIHcgYXMgb25JZFRva2VuQ2hhbmdlZCwgYWogYXMgcGFyc2VBY3Rpb25Db2RlVVJMLCBIIGFzIHByb2RFcnJvck1hcCwgYTMgYXMgcmVhdXRoZW50aWNhdGVXaXRoQ3JlZGVudGlhbCwgciBhcyByZWF1dGhlbnRpY2F0ZVdpdGhQaG9uZU51bWJlciwgZSBhcyByZWF1dGhlbnRpY2F0ZVdpdGhQb3B1cCwgaCBhcyByZWF1dGhlbnRpY2F0ZVdpdGhSZWRpcmVjdCwgYXIgYXMgcmVsb2FkLCBEIGFzIHJldm9rZUFjY2Vzc1Rva2VuLCBhZyBhcyBzZW5kRW1haWxWZXJpZmljYXRpb24sIGE1IGFzIHNlbmRQYXNzd29yZFJlc2V0RW1haWwsIGFjIGFzIHNlbmRTaWduSW5MaW5rVG9FbWFpbCwgcSBhcyBzZXRQZXJzaXN0ZW5jZSwgYTAgYXMgc2lnbkluQW5vbnltb3VzbHksIGExIGFzIHNpZ25JbldpdGhDcmVkZW50aWFsLCBhNCBhcyBzaWduSW5XaXRoQ3VzdG9tVG9rZW4sIGFiIGFzIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkLCBhZSBhcyBzaWduSW5XaXRoRW1haWxMaW5rLCBzIGFzIHNpZ25JbldpdGhQaG9uZU51bWJlciwgYyBhcyBzaWduSW5XaXRoUG9wdXAsIGYgYXMgc2lnbkluV2l0aFJlZGlyZWN0LCBDIGFzIHNpZ25PdXQsIGFwIGFzIHVubGluaywgQiBhcyB1cGRhdGVDdXJyZW50VXNlciwgYWwgYXMgdXBkYXRlRW1haWwsIGFtIGFzIHVwZGF0ZVBhc3N3b3JkLCB1IGFzIHVwZGF0ZVBob25lTnVtYmVyLCBhayBhcyB1cGRhdGVQcm9maWxlLCB6IGFzIHVzZURldmljZUxhbmd1YWdlLCB2IGFzIHZhbGlkYXRlUGFzc3dvcmQsIGFoIGFzIHZlcmlmeUJlZm9yZVVwZGF0ZUVtYWlsLCBhOSBhcyB2ZXJpZnlQYXNzd29yZFJlc2V0Q29kZSB9IGZyb20gJy4vaW5kZXgtNjg2MDJkMjQuanMnO1xuaW1wb3J0ICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCAnQGZpcmViYXNlL3V0aWwnO1xuaW1wb3J0ICdAZmlyZWJhc2UvbG9nZ2VyJztcbmltcG9ydCAndHNsaWInO1xuaW1wb3J0ICdAZmlyZWJhc2UvY29tcG9uZW50Jztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIiwgImV4cG9ydCAqIGZyb20gJ0BmaXJlYmFzZS9hdXRoJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiIsICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG4ndXNlIHN0cmljdCc7dmFyIGY9cmVxdWlyZShcInJlYWN0XCIpLGs9U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksbD1TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksbT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49Zi5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRC5SZWFjdEN1cnJlbnRPd25lcixwPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07XG5mdW5jdGlvbiBxKGMsYSxnKXt2YXIgYixkPXt9LGU9bnVsbCxoPW51bGw7dm9pZCAwIT09ZyYmKGU9XCJcIitnKTt2b2lkIDAhPT1hLmtleSYmKGU9XCJcIithLmtleSk7dm9pZCAwIT09YS5yZWYmJihoPWEucmVmKTtmb3IoYiBpbiBhKW0uY2FsbChhLGIpJiYhcC5oYXNPd25Qcm9wZXJ0eShiKSYmKGRbYl09YVtiXSk7aWYoYyYmYy5kZWZhdWx0UHJvcHMpZm9yKGIgaW4gYT1jLmRlZmF1bHRQcm9wcyxhKXZvaWQgMD09PWRbYl0mJihkW2JdPWFbYl0pO3JldHVybnskJHR5cGVvZjprLHR5cGU6YyxrZXk6ZSxyZWY6aCxwcm9wczpkLF9vd25lcjpuLmN1cnJlbnR9fWV4cG9ydHMuRnJhZ21lbnQ9bDtleHBvcnRzLmpzeD1xO2V4cG9ydHMuanN4cz1xO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwgImltcG9ydCB7IFN0cmljdE1vZGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZVJvb3QgfSBmcm9tIFwicmVhY3QtZG9tL2NsaWVudFwiO1xuaW1wb3J0IHsgQnJvd3NlclJvdXRlciB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBjYWNoZUV4Y2hhbmdlLCBjcmVhdGVDbGllbnQsIGZldGNoRXhjaGFuZ2UsIFByb3ZpZGVyIH0gZnJvbSBcInVycWxcIjtcbmltcG9ydCBBcHAgZnJvbSBcIi4vQXBwLnRzeFwiO1xuaW1wb3J0IHsgcmVmZXRjaE9uVHlwZW5hbWUgfSBmcm9tIFwiLi91dGlscy9yZWZldGNoT25UeXBlbmFtZS50c1wiO1xuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSBcIi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcbmltcG9ydCB7IGF1dGggfSBmcm9tIFwiLi9maXJlYmFzZS9hdXRoLnRzXCI7XG5cbi8vIHVycWxcdTMwQUZcdTMwRTlcdTMwQTRcdTMwQTJcdTMwRjNcdTMwQzhcdTMwOTJcdTRGNUNcdTYyMTBcdUZGMDhcdThBOERcdThBM0NcdTMwQzhcdTMwRkNcdTMwQUZcdTMwRjNcdTRFRDhcdTMwNERcdUZGMDlcbmNvbnN0IHVycWxDbGllbnQgPSBjcmVhdGVDbGllbnQoe1xuICB1cmw6IFwiL2dyYXBocWxcIixcbiAgZXhjaGFuZ2VzOiBbcmVmZXRjaE9uVHlwZW5hbWUsIGNhY2hlRXhjaGFuZ2UsIGZldGNoRXhjaGFuZ2VdLFxuICBmZXRjaE9wdGlvbnM6ICgpID0+IHtcbiAgICAvLyBGaXJlYmFzZSBcdTMwNkVcdTczRkVcdTU3MjhcdTMwNkVcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTMwNEJcdTMwODlcdTMwQzhcdTMwRkNcdTMwQUZcdTMwRjNcdTMwOTJcdTUzRDZcdTVGOTdcbiAgICBjb25zdCB1c2VyID0gYXV0aC5jdXJyZW50VXNlcjtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvLyBnZXRJZFRva2VuIFx1MzA2Rlx1OTc1RVx1NTQwQ1x1NjcxRlx1MzA2MFx1MzA0Q1x1MzAwMVx1MzBBRFx1MzBFM1x1MzBDM1x1MzBCN1x1MzBFNVx1MzA1NVx1MzA4Q1x1MzA1Rlx1MzBDOFx1MzBGQ1x1MzBBRlx1MzBGM1x1MzA5Mlx1NTQwQ1x1NjcxRlx1NzY4NFx1MzA2Qlx1NTNENlx1NUY5N1x1MzA1OVx1MzA4Qlx1MzA1Rlx1MzA4MVxuICAgIC8vIGFjY2Vzc1Rva2VuIFx1MzBEN1x1MzBFRFx1MzBEMVx1MzBDNlx1MzBBM1x1MzA5Mlx1NzZGNFx1NjNBNVx1NEY3Rlx1NzUyOFx1RkYwOEZpcmViYXNlIFNESyBcdTMwNENcdTUxODVcdTkwRThcdTMwNjdcdTMwQURcdTMwRTNcdTMwQzNcdTMwQjdcdTMwRTVcdUZGMDlcbiAgICAvLyBkZW5vLWxpbnQtaWdub3JlIG5vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHRva2VuID0gKHVzZXIgYXMgYW55KS5hY2Nlc3NUb2tlbjtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICB9LFxuICAgIH07XG4gIH0sXG59KTtcblxuY29uc3Qgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKTtcbmlmICghcm9vdEVsZW1lbnQpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiUm9vdCBlbGVtZW50IG5vdCBmb3VuZFwiKTtcbn1cblxuY29uc3Qgcm9vdCA9IGNyZWF0ZVJvb3Qocm9vdEVsZW1lbnQpO1xucm9vdC5yZW5kZXIoXG4gIDxTdHJpY3RNb2RlPlxuICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgPFByb3ZpZGVyIHZhbHVlPXt1cnFsQ2xpZW50fT5cbiAgICAgICAgPEF1dGhQcm92aWRlcj5cbiAgICAgICAgICA8QXBwIC8+XG4gICAgICAgIDwvQXV0aFByb3ZpZGVyPlxuICAgICAgPC9Qcm92aWRlcj5cbiAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gIDwvU3RyaWN0TW9kZT4sXG4pO1xuIiwgIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyNyZWdpb24gVHlwZXMgYW5kIENvbnN0YW50c1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBBY3Rpb25zIHJlcHJlc2VudCB0aGUgdHlwZSBvZiBjaGFuZ2UgdG8gYSBsb2NhdGlvbiB2YWx1ZS5cbiAqL1xuZXhwb3J0IGVudW0gQWN0aW9uIHtcbiAgLyoqXG4gICAqIEEgUE9QIGluZGljYXRlcyBhIGNoYW5nZSB0byBhbiBhcmJpdHJhcnkgaW5kZXggaW4gdGhlIGhpc3Rvcnkgc3RhY2ssIHN1Y2hcbiAgICogYXMgYSBiYWNrIG9yIGZvcndhcmQgbmF2aWdhdGlvbi4gSXQgZG9lcyBub3QgZGVzY3JpYmUgdGhlIGRpcmVjdGlvbiBvZiB0aGVcbiAgICogbmF2aWdhdGlvbiwgb25seSB0aGF0IHRoZSBjdXJyZW50IGluZGV4IGNoYW5nZWQuXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgaXMgdGhlIGRlZmF1bHQgYWN0aW9uIGZvciBuZXdseSBjcmVhdGVkIGhpc3Rvcnkgb2JqZWN0cy5cbiAgICovXG4gIFBvcCA9IFwiUE9QXCIsXG5cbiAgLyoqXG4gICAqIEEgUFVTSCBpbmRpY2F0ZXMgYSBuZXcgZW50cnkgYmVpbmcgYWRkZWQgdG8gdGhlIGhpc3Rvcnkgc3RhY2ssIHN1Y2ggYXMgd2hlblxuICAgKiBhIGxpbmsgaXMgY2xpY2tlZCBhbmQgYSBuZXcgcGFnZSBsb2Fkcy4gV2hlbiB0aGlzIGhhcHBlbnMsIGFsbCBzdWJzZXF1ZW50XG4gICAqIGVudHJpZXMgaW4gdGhlIHN0YWNrIGFyZSBsb3N0LlxuICAgKi9cbiAgUHVzaCA9IFwiUFVTSFwiLFxuXG4gIC8qKlxuICAgKiBBIFJFUExBQ0UgaW5kaWNhdGVzIHRoZSBlbnRyeSBhdCB0aGUgY3VycmVudCBpbmRleCBpbiB0aGUgaGlzdG9yeSBzdGFja1xuICAgKiBiZWluZyByZXBsYWNlZCBieSBhIG5ldyBvbmUuXG4gICAqL1xuICBSZXBsYWNlID0gXCJSRVBMQUNFXCIsXG59XG5cbi8qKlxuICogVGhlIHBhdGhuYW1lLCBzZWFyY2gsIGFuZCBoYXNoIHZhbHVlcyBvZiBhIFVSTC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXRoIHtcbiAgLyoqXG4gICAqIEEgVVJMIHBhdGhuYW1lLCBiZWdpbm5pbmcgd2l0aCBhIC8uXG4gICAqL1xuICBwYXRobmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIFVSTCBzZWFyY2ggc3RyaW5nLCBiZWdpbm5pbmcgd2l0aCBhID8uXG4gICAqL1xuICBzZWFyY2g6IHN0cmluZztcblxuICAvKipcbiAgICogQSBVUkwgZnJhZ21lbnQgaWRlbnRpZmllciwgYmVnaW5uaW5nIHdpdGggYSAjLlxuICAgKi9cbiAgaGFzaDogc3RyaW5nO1xufVxuXG4vLyBUT0RPOiAodjcpIENoYW5nZSB0aGUgTG9jYXRpb24gZ2VuZXJpYyBkZWZhdWx0IGZyb20gYGFueWAgdG8gYHVua25vd25gIGFuZFxuLy8gcmVtb3ZlIFJlbWl4IGB1c2VMb2NhdGlvbmAgd3JhcHBlci5cblxuLyoqXG4gKiBBbiBlbnRyeSBpbiBhIGhpc3Rvcnkgc3RhY2suIEEgbG9jYXRpb24gY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlXG4gKiBVUkwgcGF0aCwgYXMgd2VsbCBhcyBwb3NzaWJseSBzb21lIGFyYml0cmFyeSBzdGF0ZSBhbmQgYSBrZXkuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb248U3RhdGUgPSBhbnk+IGV4dGVuZHMgUGF0aCB7XG4gIC8qKlxuICAgKiBBIHZhbHVlIG9mIGFyYml0cmFyeSBkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxvY2F0aW9uLlxuICAgKi9cbiAgc3RhdGU6IFN0YXRlO1xuXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBzdHJpbmcgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbG9jYXRpb24uIE1heSBiZSB1c2VkIHRvIHNhZmVseSBzdG9yZVxuICAgKiBhbmQgcmV0cmlldmUgZGF0YSBpbiBzb21lIG90aGVyIHN0b3JhZ2UgQVBJLCBsaWtlIGBsb2NhbFN0b3JhZ2VgLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIHZhbHVlIGlzIGFsd2F5cyBcImRlZmF1bHRcIiBvbiB0aGUgaW5pdGlhbCBsb2NhdGlvbi5cbiAgICovXG4gIGtleTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEEgY2hhbmdlIHRvIHRoZSBjdXJyZW50IGxvY2F0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZSB7XG4gIC8qKlxuICAgKiBUaGUgYWN0aW9uIHRoYXQgdHJpZ2dlcmVkIHRoZSBjaGFuZ2UuXG4gICAqL1xuICBhY3Rpb246IEFjdGlvbjtcblxuICAvKipcbiAgICogVGhlIG5ldyBsb2NhdGlvbi5cbiAgICovXG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcblxuICAvKipcbiAgICogVGhlIGRlbHRhIGJldHdlZW4gdGhpcyBsb2NhdGlvbiBhbmQgdGhlIGZvcm1lciBsb2NhdGlvbiBpbiB0aGUgaGlzdG9yeSBzdGFja1xuICAgKi9cbiAgZGVsdGE6IG51bWJlciB8IG51bGw7XG59XG5cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIG5vdGlmaWNhdGlvbnMgYWJvdXQgbG9jYXRpb24gY2hhbmdlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0ZW5lciB7XG4gICh1cGRhdGU6IFVwZGF0ZSk6IHZvaWQ7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgbG9jYXRpb24gdGhhdCBpcyB0aGUgZGVzdGluYXRpb24gb2Ygc29tZSBuYXZpZ2F0aW9uLCBlaXRoZXIgdmlhXG4gKiBgaGlzdG9yeS5wdXNoYCBvciBgaGlzdG9yeS5yZXBsYWNlYC4gVGhpcyBtYXkgYmUgZWl0aGVyIGEgVVJMIG9yIHRoZSBwaWVjZXNcbiAqIG9mIGEgVVJMIHBhdGguXG4gKi9cbmV4cG9ydCB0eXBlIFRvID0gc3RyaW5nIHwgUGFydGlhbDxQYXRoPjtcblxuLyoqXG4gKiBBIGhpc3RvcnkgaXMgYW4gaW50ZXJmYWNlIHRvIHRoZSBuYXZpZ2F0aW9uIHN0YWNrLiBUaGUgaGlzdG9yeSBzZXJ2ZXMgYXMgdGhlXG4gKiBzb3VyY2Ugb2YgdHJ1dGggZm9yIHRoZSBjdXJyZW50IGxvY2F0aW9uLCBhcyB3ZWxsIGFzIHByb3ZpZGVzIGEgc2V0IG9mXG4gKiBtZXRob2RzIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hhbmdlIGl0LlxuICpcbiAqIEl0IGlzIHNpbWlsYXIgdG8gdGhlIERPTSdzIGB3aW5kb3cuaGlzdG9yeWAgb2JqZWN0LCBidXQgd2l0aCBhIHNtYWxsZXIsIG1vcmVcbiAqIGZvY3VzZWQgQVBJLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhpc3Rvcnkge1xuICAvKipcbiAgICogVGhlIGxhc3QgYWN0aW9uIHRoYXQgbW9kaWZpZWQgdGhlIGN1cnJlbnQgbG9jYXRpb24uIFRoaXMgd2lsbCBhbHdheXMgYmVcbiAgICogQWN0aW9uLlBvcCB3aGVuIGEgaGlzdG9yeSBpbnN0YW5jZSBpcyBmaXJzdCBjcmVhdGVkLiBUaGlzIHZhbHVlIGlzIG11dGFibGUuXG4gICAqL1xuICByZWFkb25seSBhY3Rpb246IEFjdGlvbjtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgbG9jYXRpb24uIFRoaXMgdmFsdWUgaXMgbXV0YWJsZS5cbiAgICovXG4gIHJlYWRvbmx5IGxvY2F0aW9uOiBMb2NhdGlvbjtcblxuICAvKipcbiAgICogUmV0dXJucyBhIHZhbGlkIGhyZWYgZm9yIHRoZSBnaXZlbiBgdG9gIHZhbHVlIHRoYXQgbWF5IGJlIHVzZWQgYXNcbiAgICogdGhlIHZhbHVlIG9mIGFuIDxhIGhyZWY+IGF0dHJpYnV0ZS5cbiAgICpcbiAgICogQHBhcmFtIHRvIC0gVGhlIGRlc3RpbmF0aW9uIFVSTFxuICAgKi9cbiAgY3JlYXRlSHJlZih0bzogVG8pOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBVUkwgZm9yIHRoZSBnaXZlbiBgdG9gIHZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSB0byAtIFRoZSBkZXN0aW5hdGlvbiBVUkxcbiAgICovXG4gIGNyZWF0ZVVSTCh0bzogVG8pOiBVUkw7XG5cbiAgLyoqXG4gICAqIEVuY29kZSBhIGxvY2F0aW9uIHRoZSBzYW1lIHdheSB3aW5kb3cuaGlzdG9yeSB3b3VsZCBkbyAobm8tb3AgZm9yIG1lbW9yeVxuICAgKiBoaXN0b3J5KSBzbyB3ZSBlbnN1cmUgb3VyIFBVU0gvUkVQTEFDRSBuYXZpZ2F0aW9ucyBmb3IgZGF0YSByb3V0ZXJzXG4gICAqIGJlaGF2ZSB0aGUgc2FtZSBhcyBQT1BcbiAgICpcbiAgICogQHBhcmFtIHRvIFVuZW5jb2RlZCBwYXRoXG4gICAqL1xuICBlbmNvZGVMb2NhdGlvbih0bzogVG8pOiBQYXRoO1xuXG4gIC8qKlxuICAgKiBQdXNoZXMgYSBuZXcgbG9jYXRpb24gb250byB0aGUgaGlzdG9yeSBzdGFjaywgaW5jcmVhc2luZyBpdHMgbGVuZ3RoIGJ5IG9uZS5cbiAgICogSWYgdGhlcmUgd2VyZSBhbnkgZW50cmllcyBpbiB0aGUgc3RhY2sgYWZ0ZXIgdGhlIGN1cnJlbnQgb25lLCB0aGV5IGFyZVxuICAgKiBsb3N0LlxuICAgKlxuICAgKiBAcGFyYW0gdG8gLSBUaGUgbmV3IFVSTFxuICAgKiBAcGFyYW0gc3RhdGUgLSBEYXRhIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBuZXcgbG9jYXRpb25cbiAgICovXG4gIHB1c2godG86IFRvLCBzdGF0ZT86IGFueSk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSBjdXJyZW50IGxvY2F0aW9uIGluIHRoZSBoaXN0b3J5IHN0YWNrIHdpdGggYSBuZXcgb25lLiAgVGhlXG4gICAqIGxvY2F0aW9uIHRoYXQgd2FzIHJlcGxhY2VkIHdpbGwgbm8gbG9uZ2VyIGJlIGF2YWlsYWJsZS5cbiAgICpcbiAgICogQHBhcmFtIHRvIC0gVGhlIG5ldyBVUkxcbiAgICogQHBhcmFtIHN0YXRlIC0gRGF0YSB0byBhc3NvY2lhdGUgd2l0aCB0aGUgbmV3IGxvY2F0aW9uXG4gICAqL1xuICByZXBsYWNlKHRvOiBUbywgc3RhdGU/OiBhbnkpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZXMgYG5gIGVudHJpZXMgYmFja3dhcmQvZm9yd2FyZCBpbiB0aGUgaGlzdG9yeSBzdGFjayByZWxhdGl2ZSB0byB0aGVcbiAgICogY3VycmVudCBpbmRleC4gRm9yIGV4YW1wbGUsIGEgXCJiYWNrXCIgbmF2aWdhdGlvbiB3b3VsZCB1c2UgZ28oLTEpLlxuICAgKlxuICAgKiBAcGFyYW0gZGVsdGEgLSBUaGUgZGVsdGEgaW4gdGhlIHN0YWNrIGluZGV4XG4gICAqL1xuICBnbyhkZWx0YTogbnVtYmVyKTogdm9pZDtcblxuICAvKipcbiAgICogU2V0cyB1cCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICogY2hhbmdlcy5cbiAgICpcbiAgICogQHBhcmFtIGxpc3RlbmVyIC0gQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGxvY2F0aW9uIGNoYW5nZXNcbiAgICogQHJldHVybnMgdW5saXN0ZW4gLSBBIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gc3RvcCBsaXN0ZW5pbmdcbiAgICovXG4gIGxpc3RlbihsaXN0ZW5lcjogTGlzdGVuZXIpOiAoKSA9PiB2b2lkO1xufVxuXG50eXBlIEhpc3RvcnlTdGF0ZSA9IHtcbiAgdXNyOiBhbnk7XG4gIGtleT86IHN0cmluZztcbiAgaWR4OiBudW1iZXI7XG59O1xuXG5jb25zdCBQb3BTdGF0ZUV2ZW50VHlwZSA9IFwicG9wc3RhdGVcIjtcbi8vI2VuZHJlZ2lvblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8jcmVnaW9uIE1lbW9yeSBIaXN0b3J5XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEEgdXNlci1zdXBwbGllZCBvYmplY3QgdGhhdCBkZXNjcmliZXMgYSBsb2NhdGlvbi4gVXNlZCB3aGVuIHByb3ZpZGluZ1xuICogZW50cmllcyB0byBgY3JlYXRlTWVtb3J5SGlzdG9yeWAgdmlhIGl0cyBgaW5pdGlhbEVudHJpZXNgIG9wdGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgSW5pdGlhbEVudHJ5ID0gc3RyaW5nIHwgUGFydGlhbDxMb2NhdGlvbj47XG5cbmV4cG9ydCB0eXBlIE1lbW9yeUhpc3RvcnlPcHRpb25zID0ge1xuICBpbml0aWFsRW50cmllcz86IEluaXRpYWxFbnRyeVtdO1xuICBpbml0aWFsSW5kZXg/OiBudW1iZXI7XG4gIHY1Q29tcGF0PzogYm9vbGVhbjtcbn07XG5cbi8qKlxuICogQSBtZW1vcnkgaGlzdG9yeSBzdG9yZXMgbG9jYXRpb25zIGluIG1lbW9yeS4gVGhpcyBpcyB1c2VmdWwgaW4gc3RhdGVmdWxcbiAqIGVudmlyb25tZW50cyB3aGVyZSB0aGVyZSBpcyBubyB3ZWIgYnJvd3Nlciwgc3VjaCBhcyBub2RlIHRlc3RzIG9yIFJlYWN0XG4gKiBOYXRpdmUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb3J5SGlzdG9yeSBleHRlbmRzIEhpc3Rvcnkge1xuICAvKipcbiAgICogVGhlIGN1cnJlbnQgaW5kZXggaW4gdGhlIGhpc3Rvcnkgc3RhY2suXG4gICAqL1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xufVxuXG4vKipcbiAqIE1lbW9yeSBoaXN0b3J5IHN0b3JlcyB0aGUgY3VycmVudCBsb2NhdGlvbiBpbiBtZW1vcnkuIEl0IGlzIGRlc2lnbmVkIGZvciB1c2VcbiAqIGluIHN0YXRlZnVsIG5vbi1icm93c2VyIGVudmlyb25tZW50cyBsaWtlIHRlc3RzIGFuZCBSZWFjdCBOYXRpdmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KFxuICBvcHRpb25zOiBNZW1vcnlIaXN0b3J5T3B0aW9ucyA9IHt9XG4pOiBNZW1vcnlIaXN0b3J5IHtcbiAgbGV0IHsgaW5pdGlhbEVudHJpZXMgPSBbXCIvXCJdLCBpbml0aWFsSW5kZXgsIHY1Q29tcGF0ID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGxldCBlbnRyaWVzOiBMb2NhdGlvbltdOyAvLyBEZWNsYXJlIHNvIHdlIGNhbiBhY2Nlc3MgZnJvbSBjcmVhdGVNZW1vcnlMb2NhdGlvblxuICBlbnRyaWVzID0gaW5pdGlhbEVudHJpZXMubWFwKChlbnRyeSwgaW5kZXgpID0+XG4gICAgY3JlYXRlTWVtb3J5TG9jYXRpb24oXG4gICAgICBlbnRyeSxcbiAgICAgIHR5cGVvZiBlbnRyeSA9PT0gXCJzdHJpbmdcIiA/IG51bGwgOiBlbnRyeS5zdGF0ZSxcbiAgICAgIGluZGV4ID09PSAwID8gXCJkZWZhdWx0XCIgOiB1bmRlZmluZWRcbiAgICApXG4gICk7XG4gIGxldCBpbmRleCA9IGNsYW1wSW5kZXgoXG4gICAgaW5pdGlhbEluZGV4ID09IG51bGwgPyBlbnRyaWVzLmxlbmd0aCAtIDEgOiBpbml0aWFsSW5kZXhcbiAgKTtcbiAgbGV0IGFjdGlvbiA9IEFjdGlvbi5Qb3A7XG4gIGxldCBsaXN0ZW5lcjogTGlzdGVuZXIgfCBudWxsID0gbnVsbDtcblxuICBmdW5jdGlvbiBjbGFtcEluZGV4KG46IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIDApLCBlbnRyaWVzLmxlbmd0aCAtIDEpO1xuICB9XG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpOiBMb2NhdGlvbiB7XG4gICAgcmV0dXJuIGVudHJpZXNbaW5kZXhdO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUxvY2F0aW9uKFxuICAgIHRvOiBUbyxcbiAgICBzdGF0ZTogYW55ID0gbnVsbCxcbiAgICBrZXk/OiBzdHJpbmdcbiAgKTogTG9jYXRpb24ge1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFxuICAgICAgZW50cmllcyA/IGdldEN1cnJlbnRMb2NhdGlvbigpLnBhdGhuYW1lIDogXCIvXCIsXG4gICAgICB0byxcbiAgICAgIHN0YXRlLFxuICAgICAga2V5XG4gICAgKTtcbiAgICB3YXJuaW5nKFxuICAgICAgbG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApID09PSBcIi9cIixcbiAgICAgIGByZWxhdGl2ZSBwYXRobmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gbWVtb3J5IGhpc3Rvcnk6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIHRvXG4gICAgICApfWBcbiAgICApO1xuICAgIHJldHVybiBsb2NhdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUhyZWYodG86IFRvKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gIH1cblxuICBsZXQgaGlzdG9yeTogTWVtb3J5SGlzdG9yeSA9IHtcbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfSxcbiAgICBnZXQgYWN0aW9uKCkge1xuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9LFxuICAgIGdldCBsb2NhdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXRDdXJyZW50TG9jYXRpb24oKTtcbiAgICB9LFxuICAgIGNyZWF0ZUhyZWYsXG4gICAgY3JlYXRlVVJMKHRvKSB7XG4gICAgICByZXR1cm4gbmV3IFVSTChjcmVhdGVIcmVmKHRvKSwgXCJodHRwOi8vbG9jYWxob3N0XCIpO1xuICAgIH0sXG4gICAgZW5jb2RlTG9jYXRpb24odG86IFRvKSB7XG4gICAgICBsZXQgcGF0aCA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aCh0bykgOiB0bztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGhuYW1lOiBwYXRoLnBhdGhuYW1lIHx8IFwiXCIsXG4gICAgICAgIHNlYXJjaDogcGF0aC5zZWFyY2ggfHwgXCJcIixcbiAgICAgICAgaGFzaDogcGF0aC5oYXNoIHx8IFwiXCIsXG4gICAgICB9O1xuICAgIH0sXG4gICAgcHVzaCh0bywgc3RhdGUpIHtcbiAgICAgIGFjdGlvbiA9IEFjdGlvbi5QdXNoO1xuICAgICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZU1lbW9yeUxvY2F0aW9uKHRvLCBzdGF0ZSk7XG4gICAgICBpbmRleCArPSAxO1xuICAgICAgZW50cmllcy5zcGxpY2UoaW5kZXgsIGVudHJpZXMubGVuZ3RoLCBuZXh0TG9jYXRpb24pO1xuICAgICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogbmV4dExvY2F0aW9uLCBkZWx0YTogMSB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlcGxhY2UodG8sIHN0YXRlKSB7XG4gICAgICBhY3Rpb24gPSBBY3Rpb24uUmVwbGFjZTtcbiAgICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVNZW1vcnlMb2NhdGlvbih0bywgc3RhdGUpO1xuICAgICAgZW50cmllc1tpbmRleF0gPSBuZXh0TG9jYXRpb247XG4gICAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sIGRlbHRhOiAwIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ28oZGVsdGEpIHtcbiAgICAgIGFjdGlvbiA9IEFjdGlvbi5Qb3A7XG4gICAgICBsZXQgbmV4dEluZGV4ID0gY2xhbXBJbmRleChpbmRleCArIGRlbHRhKTtcbiAgICAgIGxldCBuZXh0TG9jYXRpb24gPSBlbnRyaWVzW25leHRJbmRleF07XG4gICAgICBpbmRleCA9IG5leHRJbmRleDtcbiAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IG5leHRMb2NhdGlvbiwgZGVsdGEgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsaXN0ZW4oZm46IExpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lciA9IGZuO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xuICAgICAgfTtcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBoaXN0b3J5O1xufVxuLy8jZW5kcmVnaW9uXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyNyZWdpb24gQnJvd3NlciBIaXN0b3J5XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEEgYnJvd3NlciBoaXN0b3J5IHN0b3JlcyB0aGUgY3VycmVudCBsb2NhdGlvbiBpbiByZWd1bGFyIFVSTHMgaW4gYSB3ZWJcbiAqIGJyb3dzZXIgZW52aXJvbm1lbnQuIFRoaXMgaXMgdGhlIHN0YW5kYXJkIGZvciBtb3N0IHdlYiBhcHBzIGFuZCBwcm92aWRlcyB0aGVcbiAqIGNsZWFuZXN0IFVSTHMgdGhlIGJyb3dzZXIncyBhZGRyZXNzIGJhci5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vaGlzdG9yeS90cmVlL21haW4vZG9jcy9hcGktcmVmZXJlbmNlLm1kI2Jyb3dzZXJoaXN0b3J5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvd3Nlckhpc3RvcnkgZXh0ZW5kcyBVcmxIaXN0b3J5IHt9XG5cbmV4cG9ydCB0eXBlIEJyb3dzZXJIaXN0b3J5T3B0aW9ucyA9IFVybEhpc3RvcnlPcHRpb25zO1xuXG4vKipcbiAqIEJyb3dzZXIgaGlzdG9yeSBzdG9yZXMgdGhlIGxvY2F0aW9uIGluIHJlZ3VsYXIgVVJMcy4gVGhpcyBpcyB0aGUgc3RhbmRhcmQgZm9yXG4gKiBtb3N0IHdlYiBhcHBzLCBidXQgaXQgcmVxdWlyZXMgc29tZSBjb25maWd1cmF0aW9uIG9uIHRoZSBzZXJ2ZXIgdG8gZW5zdXJlIHlvdVxuICogc2VydmUgdGhlIHNhbWUgYXBwIGF0IG11bHRpcGxlIFVSTHMuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL2hpc3RvcnkvdHJlZS9tYWluL2RvY3MvYXBpLXJlZmVyZW5jZS5tZCNjcmVhdGVicm93c2VyaGlzdG9yeVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3RvcnkoXG4gIG9wdGlvbnM6IEJyb3dzZXJIaXN0b3J5T3B0aW9ucyA9IHt9XG4pOiBCcm93c2VySGlzdG9yeSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJMb2NhdGlvbihcbiAgICB3aW5kb3c6IFdpbmRvdyxcbiAgICBnbG9iYWxIaXN0b3J5OiBXaW5kb3dbXCJoaXN0b3J5XCJdXG4gICkge1xuICAgIGxldCB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24oXG4gICAgICBcIlwiLFxuICAgICAgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0sXG4gICAgICAvLyBzdGF0ZSBkZWZhdWx0cyB0byBgbnVsbGAgYmVjYXVzZSBgd2luZG93Lmhpc3Rvcnkuc3RhdGVgIGRvZXNcbiAgICAgIChnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUudXNyKSB8fCBudWxsLFxuICAgICAgKGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS5rZXkpIHx8IFwiZGVmYXVsdFwiXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIcmVmKHdpbmRvdzogV2luZG93LCB0bzogVG8pIHtcbiAgICByZXR1cm4gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgfVxuXG4gIHJldHVybiBnZXRVcmxCYXNlZEhpc3RvcnkoXG4gICAgY3JlYXRlQnJvd3NlckxvY2F0aW9uLFxuICAgIGNyZWF0ZUJyb3dzZXJIcmVmLFxuICAgIG51bGwsXG4gICAgb3B0aW9uc1xuICApO1xufVxuLy8jZW5kcmVnaW9uXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyNyZWdpb24gSGFzaCBIaXN0b3J5XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEEgaGFzaCBoaXN0b3J5IHN0b3JlcyB0aGUgY3VycmVudCBsb2NhdGlvbiBpbiB0aGUgZnJhZ21lbnQgaWRlbnRpZmllciBwb3J0aW9uXG4gKiBvZiB0aGUgVVJMIGluIGEgd2ViIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gKlxuICogVGhpcyBpcyBpZGVhbCBmb3IgYXBwcyB0aGF0IGRvIG5vdCBjb250cm9sIHRoZSBzZXJ2ZXIgZm9yIHNvbWUgcmVhc29uXG4gKiAoYmVjYXVzZSB0aGUgZnJhZ21lbnQgaWRlbnRpZmllciBpcyBuZXZlciBzZW50IHRvIHRoZSBzZXJ2ZXIpLCBpbmNsdWRpbmcgc29tZVxuICogc2hhcmVkIGhvc3RpbmcgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IHByb3ZpZGUgZmluZS1ncmFpbmVkIGNvbnRyb2xzIG92ZXJcbiAqIHdoaWNoIHBhZ2VzIGFyZSBzZXJ2ZWQgYXQgd2hpY2ggVVJMcy5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vaGlzdG9yeS90cmVlL21haW4vZG9jcy9hcGktcmVmZXJlbmNlLm1kI2hhc2hoaXN0b3J5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSGFzaEhpc3RvcnkgZXh0ZW5kcyBVcmxIaXN0b3J5IHt9XG5cbmV4cG9ydCB0eXBlIEhhc2hIaXN0b3J5T3B0aW9ucyA9IFVybEhpc3RvcnlPcHRpb25zO1xuXG4vKipcbiAqIEhhc2ggaGlzdG9yeSBzdG9yZXMgdGhlIGxvY2F0aW9uIGluIHdpbmRvdy5sb2NhdGlvbi5oYXNoLiBUaGlzIG1ha2VzIGl0IGlkZWFsXG4gKiBmb3Igc2l0dWF0aW9ucyB3aGVyZSB5b3UgZG9uJ3Qgd2FudCB0byBzZW5kIHRoZSBsb2NhdGlvbiB0byB0aGUgc2VydmVyIGZvclxuICogc29tZSByZWFzb24sIGVpdGhlciBiZWNhdXNlIHlvdSBkbyBjYW5ub3QgY29uZmlndXJlIGl0IG9yIHRoZSBVUkwgc3BhY2UgaXNcbiAqIHJlc2VydmVkIGZvciBzb21ldGhpbmcgZWxzZS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vaGlzdG9yeS90cmVlL21haW4vZG9jcy9hcGktcmVmZXJlbmNlLm1kI2NyZWF0ZWhhc2hoaXN0b3J5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIYXNoSGlzdG9yeShcbiAgb3B0aW9uczogSGFzaEhpc3RvcnlPcHRpb25zID0ge31cbik6IEhhc2hIaXN0b3J5IHtcbiAgZnVuY3Rpb24gY3JlYXRlSGFzaExvY2F0aW9uKFxuICAgIHdpbmRvdzogV2luZG93LFxuICAgIGdsb2JhbEhpc3Rvcnk6IFdpbmRvd1tcImhpc3RvcnlcIl1cbiAgKSB7XG4gICAgbGV0IHtcbiAgICAgIHBhdGhuYW1lID0gXCIvXCIsXG4gICAgICBzZWFyY2ggPSBcIlwiLFxuICAgICAgaGFzaCA9IFwiXCIsXG4gICAgfSA9IHBhcnNlUGF0aCh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSkpO1xuXG4gICAgLy8gSGFzaCBVUkwgc2hvdWxkIGFsd2F5cyBoYXZlIGEgbGVhZGluZyAvIGp1c3QgbGlrZSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVcbiAgICAvLyBkb2VzLCBzbyBpZiBhbiBhcHAgZW5kcyB1cCBhdCBhIHJvdXRlIGxpa2UgLyNzb21ldGhpbmcgdGhlbiB3ZSBhZGQgYVxuICAgIC8vIGxlYWRpbmcgc2xhc2ggc28gYWxsIG9mIG91ciBwYXRoLW1hdGNoaW5nIGJlaGF2ZXMgdGhlIHNhbWUgYXMgaWYgaXQgd291bGRcbiAgICAvLyBpbiBhIGJyb3dzZXIgcm91dGVyLiAgVGhpcyBpcyBwYXJ0aWN1bGFybHkgaW1wb3J0YW50IHdoZW4gdGhlcmUgZXhpc3RzIGFcbiAgICAvLyByb290IHNwbGF0IHJvdXRlICg8Um91dGUgcGF0aD1cIipcIj4pIHNpbmNlIHRoYXQgbWF0Y2hlcyBpbnRlcm5hbGx5IGFnYWluc3RcbiAgICAvLyBcIi8qXCIgYW5kIHdlJ2QgZXhwZWN0IC8jc29tZXRoaW5nIHRvIDQwNCBpbiBhIGhhc2ggcm91dGVyIGFwcC5cbiAgICBpZiAoIXBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvXCIpICYmICFwYXRobmFtZS5zdGFydHNXaXRoKFwiLlwiKSkge1xuICAgICAgcGF0aG5hbWUgPSBcIi9cIiArIHBhdGhuYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihcbiAgICAgIFwiXCIsXG4gICAgICB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSxcbiAgICAgIC8vIHN0YXRlIGRlZmF1bHRzIHRvIGBudWxsYCBiZWNhdXNlIGB3aW5kb3cuaGlzdG9yeS5zdGF0ZWAgZG9lc1xuICAgICAgKGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS51c3IpIHx8IG51bGwsXG4gICAgICAoZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLmtleSkgfHwgXCJkZWZhdWx0XCJcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSGFzaEhyZWYod2luZG93OiBXaW5kb3csIHRvOiBUbykge1xuICAgIGxldCBiYXNlID0gd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpO1xuICAgIGxldCBocmVmID0gXCJcIjtcblxuICAgIGlmIChiYXNlICYmIGJhc2UuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSkge1xuICAgICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgbGV0IGhhc2hJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcbiAgICAgIGhyZWYgPSBoYXNoSW5kZXggPT09IC0xID8gdXJsIDogdXJsLnNsaWNlKDAsIGhhc2hJbmRleCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhyZWYgKyBcIiNcIiArICh0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbGlkYXRlSGFzaExvY2F0aW9uKGxvY2F0aW9uOiBMb2NhdGlvbiwgdG86IFRvKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gXCIvXCIsXG4gICAgICBgcmVsYXRpdmUgcGF0aG5hbWVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGhhc2ggaGlzdG9yeS5wdXNoKCR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIHRvXG4gICAgICApfSlgXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBnZXRVcmxCYXNlZEhpc3RvcnkoXG4gICAgY3JlYXRlSGFzaExvY2F0aW9uLFxuICAgIGNyZWF0ZUhhc2hIcmVmLFxuICAgIHZhbGlkYXRlSGFzaExvY2F0aW9uLFxuICAgIG9wdGlvbnNcbiAgKTtcbn1cbi8vI2VuZHJlZ2lvblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8jcmVnaW9uIFVUSUxTXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhcmlhbnQodmFsdWU6IGJvb2xlYW4sIG1lc3NhZ2U/OiBzdHJpbmcpOiBhc3NlcnRzIHZhbHVlO1xuZXhwb3J0IGZ1bmN0aW9uIGludmFyaWFudDxUPihcbiAgdmFsdWU6IFQgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBtZXNzYWdlPzogc3RyaW5nXG4pOiBhc3NlcnRzIHZhbHVlIGlzIFQ7XG5leHBvcnQgZnVuY3Rpb24gaW52YXJpYW50KHZhbHVlOiBhbnksIG1lc3NhZ2U/OiBzdHJpbmcpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdhcm5pbmcoY29uZDogYW55LCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgaWYgKCFjb25kKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIGNvbnNvbGUud2FybihtZXNzYWdlKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBXZWxjb21lIHRvIGRlYnVnZ2luZyBoaXN0b3J5IVxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgZXJyb3IgaXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2UsIHNvIHlvdSBjYW4gbW9yZSBlYXNpbHlcbiAgICAgIC8vIGZpbmQgdGhlIHNvdXJjZSBmb3IgYSB3YXJuaW5nIHRoYXQgYXBwZWFycyBpbiB0aGUgY29uc29sZSBieVxuICAgICAgLy8gZW5hYmxpbmcgXCJwYXVzZSBvbiBleGNlcHRpb25zXCIgaW4geW91ciBKYXZhU2NyaXB0IGRlYnVnZ2VyLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOCk7XG59XG5cbi8qKlxuICogRm9yIGJyb3dzZXItYmFzZWQgaGlzdG9yaWVzLCB3ZSBjb21iaW5lIHRoZSBzdGF0ZSBhbmQga2V5IGludG8gYW4gb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGdldEhpc3RvcnlTdGF0ZShsb2NhdGlvbjogTG9jYXRpb24sIGluZGV4OiBudW1iZXIpOiBIaXN0b3J5U3RhdGUge1xuICByZXR1cm4ge1xuICAgIHVzcjogbG9jYXRpb24uc3RhdGUsXG4gICAga2V5OiBsb2NhdGlvbi5rZXksXG4gICAgaWR4OiBpbmRleCxcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgTG9jYXRpb24gb2JqZWN0IHdpdGggYSB1bmlxdWUga2V5IGZyb20gdGhlIGdpdmVuIFBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKFxuICBjdXJyZW50OiBzdHJpbmcgfCBMb2NhdGlvbixcbiAgdG86IFRvLFxuICBzdGF0ZTogYW55ID0gbnVsbCxcbiAga2V5Pzogc3RyaW5nXG4pOiBSZWFkb25seTxMb2NhdGlvbj4ge1xuICBsZXQgbG9jYXRpb246IFJlYWRvbmx5PExvY2F0aW9uPiA9IHtcbiAgICBwYXRobmFtZTogdHlwZW9mIGN1cnJlbnQgPT09IFwic3RyaW5nXCIgPyBjdXJyZW50IDogY3VycmVudC5wYXRobmFtZSxcbiAgICBzZWFyY2g6IFwiXCIsXG4gICAgaGFzaDogXCJcIixcbiAgICAuLi4odHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHRvKSA6IHRvKSxcbiAgICBzdGF0ZSxcbiAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIGJlIGNsZWFuZWQgdXAuICBwdXNoL3JlcGxhY2Ugc2hvdWxkIHByb2JhYmx5IGp1c3QgdGFrZVxuICAgIC8vIGZ1bGwgTG9jYXRpb25zIG5vdyBhbmQgYXZvaWQgdGhlIG5lZWQgdG8gcnVuIHRocm91Z2ggdGhpcyBmbG93IGF0IGFsbFxuICAgIC8vIEJ1dCB0aGF0J3MgYSBwcmV0dHkgYmlnIHJlZmFjdG9yIHRvIHRoZSBjdXJyZW50IHRlc3Qgc3VpdGUgc28gZ29pbmcgdG9cbiAgICAvLyBrZWVwIGFzIGlzIGZvciB0aGUgdGltZSBiZWluZyBhbmQganVzdCBsZXQgYW55IGluY29taW5nIGtleXMgdGFrZSBwcmVjZWRlbmNlXG4gICAga2V5OiAodG8gJiYgKHRvIGFzIExvY2F0aW9uKS5rZXkpIHx8IGtleSB8fCBjcmVhdGVLZXkoKSxcbiAgfTtcbiAgcmV0dXJuIGxvY2F0aW9uO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdHJpbmcgVVJMIHBhdGggZnJvbSB0aGUgZ2l2ZW4gcGF0aG5hbWUsIHNlYXJjaCwgYW5kIGhhc2ggY29tcG9uZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhdGgoe1xuICBwYXRobmFtZSA9IFwiL1wiLFxuICBzZWFyY2ggPSBcIlwiLFxuICBoYXNoID0gXCJcIixcbn06IFBhcnRpYWw8UGF0aD4pIHtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2ggIT09IFwiP1wiKVxuICAgIHBhdGhuYW1lICs9IHNlYXJjaC5jaGFyQXQoMCkgPT09IFwiP1wiID8gc2VhcmNoIDogXCI/XCIgKyBzZWFyY2g7XG4gIGlmIChoYXNoICYmIGhhc2ggIT09IFwiI1wiKVxuICAgIHBhdGhuYW1lICs9IGhhc2guY2hhckF0KDApID09PSBcIiNcIiA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XG4gIHJldHVybiBwYXRobmFtZTtcbn1cblxuLyoqXG4gKiBQYXJzZXMgYSBzdHJpbmcgVVJMIHBhdGggaW50byBpdHMgc2VwYXJhdGUgcGF0aG5hbWUsIHNlYXJjaCwgYW5kIGhhc2ggY29tcG9uZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoOiBzdHJpbmcpOiBQYXJ0aWFsPFBhdGg+IHtcbiAgbGV0IHBhcnNlZFBhdGg6IFBhcnRpYWw8UGF0aD4gPSB7fTtcblxuICBpZiAocGF0aCkge1xuICAgIGxldCBoYXNoSW5kZXggPSBwYXRoLmluZGV4T2YoXCIjXCIpO1xuICAgIGlmIChoYXNoSW5kZXggPj0gMCkge1xuICAgICAgcGFyc2VkUGF0aC5oYXNoID0gcGF0aC5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICAgIHBhdGggPSBwYXRoLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICAgIH1cblxuICAgIGxldCBzZWFyY2hJbmRleCA9IHBhdGguaW5kZXhPZihcIj9cIik7XG4gICAgaWYgKHNlYXJjaEluZGV4ID49IDApIHtcbiAgICAgIHBhcnNlZFBhdGguc2VhcmNoID0gcGF0aC5zdWJzdHIoc2VhcmNoSW5kZXgpO1xuICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDAsIHNlYXJjaEluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAocGF0aCkge1xuICAgICAgcGFyc2VkUGF0aC5wYXRobmFtZSA9IHBhdGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcnNlZFBhdGg7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXJsSGlzdG9yeSBleHRlbmRzIEhpc3Rvcnkge31cblxuZXhwb3J0IHR5cGUgVXJsSGlzdG9yeU9wdGlvbnMgPSB7XG4gIHdpbmRvdz86IFdpbmRvdztcbiAgdjVDb21wYXQ/OiBib29sZWFuO1xufTtcblxuZnVuY3Rpb24gZ2V0VXJsQmFzZWRIaXN0b3J5KFxuICBnZXRMb2NhdGlvbjogKHdpbmRvdzogV2luZG93LCBnbG9iYWxIaXN0b3J5OiBXaW5kb3dbXCJoaXN0b3J5XCJdKSA9PiBMb2NhdGlvbixcbiAgY3JlYXRlSHJlZjogKHdpbmRvdzogV2luZG93LCB0bzogVG8pID0+IHN0cmluZyxcbiAgdmFsaWRhdGVMb2NhdGlvbjogKChsb2NhdGlvbjogTG9jYXRpb24sIHRvOiBUbykgPT4gdm9pZCkgfCBudWxsLFxuICBvcHRpb25zOiBVcmxIaXN0b3J5T3B0aW9ucyA9IHt9XG4pOiBVcmxIaXN0b3J5IHtcbiAgbGV0IHsgd2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXchLCB2NUNvbXBhdCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBsZXQgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICBsZXQgYWN0aW9uID0gQWN0aW9uLlBvcDtcbiAgbGV0IGxpc3RlbmVyOiBMaXN0ZW5lciB8IG51bGwgPSBudWxsO1xuXG4gIGxldCBpbmRleCA9IGdldEluZGV4KCkhO1xuICAvLyBJbmRleCBzaG91bGQgb25seSBiZSBudWxsIHdoZW4gd2UgaW5pdGlhbGl6ZS4gSWYgbm90LCBpdCdzIGJlY2F1c2UgdGhlXG4gIC8vIHVzZXIgY2FsbGVkIGhpc3RvcnkucHVzaFN0YXRlIG9yIGhpc3RvcnkucmVwbGFjZVN0YXRlIGRpcmVjdGx5LCBpbiB3aGljaFxuICAvLyBjYXNlIHdlIHNob3VsZCBsb2cgYSB3YXJuaW5nIGFzIGl0IHdpbGwgcmVzdWx0IGluIGJ1Z3MuXG4gIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgaW5kZXggPSAwO1xuICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHsgLi4uZ2xvYmFsSGlzdG9yeS5zdGF0ZSwgaWR4OiBpbmRleCB9LCBcIlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluZGV4KCk6IG51bWJlciB7XG4gICAgbGV0IHN0YXRlID0gZ2xvYmFsSGlzdG9yeS5zdGF0ZSB8fCB7IGlkeDogbnVsbCB9O1xuICAgIHJldHVybiBzdGF0ZS5pZHg7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQb3AoKSB7XG4gICAgYWN0aW9uID0gQWN0aW9uLlBvcDtcbiAgICBsZXQgbmV4dEluZGV4ID0gZ2V0SW5kZXgoKTtcbiAgICBsZXQgZGVsdGEgPSBuZXh0SW5kZXggPT0gbnVsbCA/IG51bGwgOiBuZXh0SW5kZXggLSBpbmRleDtcbiAgICBpbmRleCA9IG5leHRJbmRleDtcbiAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbiwgZGVsdGEgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHVzaCh0bzogVG8sIHN0YXRlPzogYW55KSB7XG4gICAgYWN0aW9uID0gQWN0aW9uLlB1c2g7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oaGlzdG9yeS5sb2NhdGlvbiwgdG8sIHN0YXRlKTtcbiAgICBpZiAodmFsaWRhdGVMb2NhdGlvbikgdmFsaWRhdGVMb2NhdGlvbihsb2NhdGlvbiwgdG8pO1xuXG4gICAgaW5kZXggPSBnZXRJbmRleCgpICsgMTtcbiAgICBsZXQgaGlzdG9yeVN0YXRlID0gZ2V0SGlzdG9yeVN0YXRlKGxvY2F0aW9uLCBpbmRleCk7XG4gICAgbGV0IHVybCA9IGhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbik7XG5cbiAgICAvLyB0cnkuLi5jYXRjaCBiZWNhdXNlIGlPUyBsaW1pdHMgdXMgdG8gMTAwIHB1c2hTdGF0ZSBjYWxscyA6L1xuICAgIHRyeSB7XG4gICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZShoaXN0b3J5U3RhdGUsIFwiXCIsIHVybCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIHRoZSBleGNlcHRpb24gaXMgYmVjYXVzZSBgc3RhdGVgIGNhbid0IGJlIHNlcmlhbGl6ZWQsIGxldCB0aGF0IHRocm93XG4gICAgICAvLyBvdXR3YXJkcyBqdXN0IGxpa2UgYSByZXBsYWNlIGNhbGwgd291bGQgc28gdGhlIGRldiBrbm93cyB0aGUgY2F1c2VcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL25hdi1oaXN0b3J5LWFwaXMuaHRtbCNzaGFyZWQtaGlzdG9yeS1wdXNoL3JlcGxhY2Utc3RhdGUtc3RlcHNcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N0cnVjdHVyZWQtZGF0YS5odG1sI3N0cnVjdHVyZWRzZXJpYWxpemVpbnRlcm5hbFxuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGVycm9yLm5hbWUgPT09IFwiRGF0YUNsb25lRXJyb3JcIikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIC8vIFRoZXkgYXJlIGdvaW5nIHRvIGxvc2Ugc3RhdGUgaGVyZSwgYnV0IHRoZXJlIGlzIG5vIHJlYWxcbiAgICAgIC8vIHdheSB0byB3YXJuIHRoZW0gYWJvdXQgaXQgc2luY2UgdGhlIHBhZ2Ugd2lsbCByZWZyZXNoLi4uXG4gICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKHVybCk7XG4gICAgfVxuXG4gICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sIGRlbHRhOiAxIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UodG86IFRvLCBzdGF0ZT86IGFueSkge1xuICAgIGFjdGlvbiA9IEFjdGlvbi5SZXBsYWNlO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKGhpc3RvcnkubG9jYXRpb24sIHRvLCBzdGF0ZSk7XG4gICAgaWYgKHZhbGlkYXRlTG9jYXRpb24pIHZhbGlkYXRlTG9jYXRpb24obG9jYXRpb24sIHRvKTtcblxuICAgIGluZGV4ID0gZ2V0SW5kZXgoKTtcbiAgICBsZXQgaGlzdG9yeVN0YXRlID0gZ2V0SGlzdG9yeVN0YXRlKGxvY2F0aW9uLCBpbmRleCk7XG4gICAgbGV0IHVybCA9IGhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeVN0YXRlLCBcIlwiLCB1cmwpO1xuXG4gICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sIGRlbHRhOiAwIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVVSTCh0bzogVG8pOiBVUkwge1xuICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gaXMgXCJudWxsXCIgKHRoZSBsaXRlcmFsIHN0cmluZyB2YWx1ZSkgaW4gRmlyZWZveFxuICAgIC8vIHVuZGVyIGNlcnRhaW4gY29uZGl0aW9ucywgbm90YWJseSB3aGVuIHNlcnZpbmcgZnJvbSBhIGxvY2FsIEhUTUwgZmlsZVxuICAgIC8vIFNlZSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04NzgyOTdcbiAgICBsZXQgYmFzZSA9XG4gICAgICB3aW5kb3cubG9jYXRpb24ub3JpZ2luICE9PSBcIm51bGxcIlxuICAgICAgICA/IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cbiAgICAgICAgOiB3aW5kb3cubG9jYXRpb24uaHJlZjtcblxuICAgIGxldCBocmVmID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgICAvLyBUcmVhdGluZyB0aGlzIGFzIGEgZnVsbCBVUkwgd2lsbCBzdHJpcCBhbnkgdHJhaWxpbmcgc3BhY2VzIHNvIHdlIG5lZWQgdG9cbiAgICAvLyBwcmUtZW5jb2RlIHRoZW0gc2luY2UgdGhleSBtaWdodCBiZSBwYXJ0IG9mIGEgbWF0Y2hpbmcgc3BsYXQgcGFyYW0gZnJvbVxuICAgIC8vIGFuIGFuY2VzdG9yIHJvdXRlXG4gICAgaHJlZiA9IGhyZWYucmVwbGFjZSgvICQvLCBcIiUyMFwiKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBiYXNlLFxuICAgICAgYE5vIHdpbmRvdy5sb2NhdGlvbi4ob3JpZ2lufGhyZWYpIGF2YWlsYWJsZSB0byBjcmVhdGUgVVJMIGZvciBocmVmOiAke2hyZWZ9YFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBVUkwoaHJlZiwgYmFzZSk7XG4gIH1cblxuICBsZXQgaGlzdG9yeTogSGlzdG9yeSA9IHtcbiAgICBnZXQgYWN0aW9uKCkge1xuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9LFxuICAgIGdldCBsb2NhdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXRMb2NhdGlvbih3aW5kb3csIGdsb2JhbEhpc3RvcnkpO1xuICAgIH0sXG4gICAgbGlzdGVuKGZuOiBMaXN0ZW5lcikge1xuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgaGlzdG9yeSBvbmx5IGFjY2VwdHMgb25lIGFjdGl2ZSBsaXN0ZW5lclwiKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnRUeXBlLCBoYW5kbGVQb3ApO1xuICAgICAgbGlzdGVuZXIgPSBmbjtcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudFR5cGUsIGhhbmRsZVBvcCk7XG4gICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGVIcmVmKHRvKSB7XG4gICAgICByZXR1cm4gY3JlYXRlSHJlZih3aW5kb3csIHRvKTtcbiAgICB9LFxuICAgIGNyZWF0ZVVSTCxcbiAgICBlbmNvZGVMb2NhdGlvbih0bykge1xuICAgICAgLy8gRW5jb2RlIGEgTG9jYXRpb24gdGhlIHNhbWUgd2F5IHdpbmRvdy5sb2NhdGlvbiB3b3VsZFxuICAgICAgbGV0IHVybCA9IGNyZWF0ZVVSTCh0byk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRobmFtZTogdXJsLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2g6IHVybC5zZWFyY2gsXG4gICAgICAgIGhhc2g6IHVybC5oYXNoLFxuICAgICAgfTtcbiAgICB9LFxuICAgIHB1c2gsXG4gICAgcmVwbGFjZSxcbiAgICBnbyhuKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBoaXN0b3J5O1xufVxuXG4vLyNlbmRyZWdpb25cbiIsICJpbXBvcnQgdHlwZSB7IExvY2F0aW9uLCBQYXRoLCBUbyB9IGZyb20gXCIuL2hpc3RvcnlcIjtcbmltcG9ydCB7IGludmFyaWFudCwgcGFyc2VQYXRoLCB3YXJuaW5nIH0gZnJvbSBcIi4vaGlzdG9yeVwiO1xuXG4vKipcbiAqIE1hcCBvZiByb3V0ZUlkIC0+IGRhdGEgcmV0dXJuZWQgZnJvbSBhIGxvYWRlci9hY3Rpb24vZXJyb3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb3V0ZURhdGEge1xuICBbcm91dGVJZDogc3RyaW5nXTogYW55O1xufVxuXG5leHBvcnQgZW51bSBSZXN1bHRUeXBlIHtcbiAgZGF0YSA9IFwiZGF0YVwiLFxuICBkZWZlcnJlZCA9IFwiZGVmZXJyZWRcIixcbiAgcmVkaXJlY3QgPSBcInJlZGlyZWN0XCIsXG4gIGVycm9yID0gXCJlcnJvclwiLFxufVxuXG4vKipcbiAqIFN1Y2Nlc3NmdWwgcmVzdWx0IGZyb20gYSBsb2FkZXIgb3IgYWN0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3VjY2Vzc1Jlc3VsdCB7XG4gIHR5cGU6IFJlc3VsdFR5cGUuZGF0YTtcbiAgZGF0YTogdW5rbm93bjtcbiAgc3RhdHVzQ29kZT86IG51bWJlcjtcbiAgaGVhZGVycz86IEhlYWRlcnM7XG59XG5cbi8qKlxuICogU3VjY2Vzc2Z1bCBkZWZlcigpIHJlc3VsdCBmcm9tIGEgbG9hZGVyIG9yIGFjdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIERlZmVycmVkUmVzdWx0IHtcbiAgdHlwZTogUmVzdWx0VHlwZS5kZWZlcnJlZDtcbiAgZGVmZXJyZWREYXRhOiBEZWZlcnJlZERhdGE7XG4gIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gIGhlYWRlcnM/OiBIZWFkZXJzO1xufVxuXG4vKipcbiAqIFJlZGlyZWN0IHJlc3VsdCBmcm9tIGEgbG9hZGVyIG9yIGFjdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlZGlyZWN0UmVzdWx0IHtcbiAgdHlwZTogUmVzdWx0VHlwZS5yZWRpcmVjdDtcbiAgLy8gV2Uga2VlcCB0aGUgcmF3IFJlc3BvbnNlIGZvciByZWRpcmVjdHMgc28gd2UgY2FuIHJldHVybiBpdCB2ZXJiYXRpbVxuICByZXNwb25zZTogUmVzcG9uc2U7XG59XG5cbi8qKlxuICogVW5zdWNjZXNzZnVsIHJlc3VsdCBmcm9tIGEgbG9hZGVyIG9yIGFjdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yUmVzdWx0IHtcbiAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcjtcbiAgZXJyb3I6IHVua25vd247XG4gIHN0YXR1c0NvZGU/OiBudW1iZXI7XG4gIGhlYWRlcnM/OiBIZWFkZXJzO1xufVxuXG4vKipcbiAqIFJlc3VsdCBmcm9tIGEgbG9hZGVyIG9yIGFjdGlvbiAtIHBvdGVudGlhbGx5IHN1Y2Nlc3NmdWwgb3IgdW5zdWNjZXNzZnVsXG4gKi9cbmV4cG9ydCB0eXBlIERhdGFSZXN1bHQgPVxuICB8IFN1Y2Nlc3NSZXN1bHRcbiAgfCBEZWZlcnJlZFJlc3VsdFxuICB8IFJlZGlyZWN0UmVzdWx0XG4gIHwgRXJyb3JSZXN1bHQ7XG5cbnR5cGUgTG93ZXJDYXNlRm9ybU1ldGhvZCA9IFwiZ2V0XCIgfCBcInBvc3RcIiB8IFwicHV0XCIgfCBcInBhdGNoXCIgfCBcImRlbGV0ZVwiO1xudHlwZSBVcHBlckNhc2VGb3JtTWV0aG9kID0gVXBwZXJjYXNlPExvd2VyQ2FzZUZvcm1NZXRob2Q+O1xuXG4vKipcbiAqIFVzZXJzIGNhbiBzcGVjaWZ5IGVpdGhlciBsb3dlcmNhc2Ugb3IgdXBwZXJjYXNlIGZvcm0gbWV0aG9kcyBvbiBgPEZvcm0+YCxcbiAqIHVzZVN1Ym1pdCgpLCBgPGZldGNoZXIuRm9ybT5gLCBldGMuXG4gKi9cbmV4cG9ydCB0eXBlIEhUTUxGb3JtTWV0aG9kID0gTG93ZXJDYXNlRm9ybU1ldGhvZCB8IFVwcGVyQ2FzZUZvcm1NZXRob2Q7XG5cbi8qKlxuICogQWN0aXZlIG5hdmlnYXRpb24vZmV0Y2hlciBmb3JtIG1ldGhvZHMgYXJlIGV4cG9zZWQgaW4gbG93ZXJjYXNlIG9uIHRoZVxuICogUm91dGVyU3RhdGVcbiAqL1xuZXhwb3J0IHR5cGUgRm9ybU1ldGhvZCA9IExvd2VyQ2FzZUZvcm1NZXRob2Q7XG5leHBvcnQgdHlwZSBNdXRhdGlvbkZvcm1NZXRob2QgPSBFeGNsdWRlPEZvcm1NZXRob2QsIFwiZ2V0XCI+O1xuXG4vKipcbiAqIEluIHY3LCBhY3RpdmUgbmF2aWdhdGlvbi9mZXRjaGVyIGZvcm0gbWV0aG9kcyBhcmUgZXhwb3NlZCBpbiB1cHBlcmNhc2Ugb24gdGhlXG4gKiBSb3V0ZXJTdGF0ZS4gIFRoaXMgaXMgdG8gYWxpZ24gd2l0aCB0aGUgbm9ybWFsaXphdGlvbiBkb25lIHZpYSBmZXRjaCgpLlxuICovXG5leHBvcnQgdHlwZSBWN19Gb3JtTWV0aG9kID0gVXBwZXJDYXNlRm9ybU1ldGhvZDtcbmV4cG9ydCB0eXBlIFY3X011dGF0aW9uRm9ybU1ldGhvZCA9IEV4Y2x1ZGU8VjdfRm9ybU1ldGhvZCwgXCJHRVRcIj47XG5cbmV4cG9ydCB0eXBlIEZvcm1FbmNUeXBlID1cbiAgfCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiXG4gIHwgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCJcbiAgfCBcImFwcGxpY2F0aW9uL2pzb25cIlxuICB8IFwidGV4dC9wbGFpblwiO1xuXG4vLyBUaGFua3MgaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy90eXBlLWZlc3QhXG50eXBlIEpzb25PYmplY3QgPSB7IFtLZXkgaW4gc3RyaW5nXTogSnNvblZhbHVlIH0gJiB7XG4gIFtLZXkgaW4gc3RyaW5nXT86IEpzb25WYWx1ZSB8IHVuZGVmaW5lZDtcbn07XG50eXBlIEpzb25BcnJheSA9IEpzb25WYWx1ZVtdIHwgcmVhZG9ubHkgSnNvblZhbHVlW107XG50eXBlIEpzb25QcmltaXRpdmUgPSBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgbnVsbDtcbnR5cGUgSnNvblZhbHVlID0gSnNvblByaW1pdGl2ZSB8IEpzb25PYmplY3QgfCBKc29uQXJyYXk7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEludGVybmFsIGludGVyZmFjZSB0byBwYXNzIGFyb3VuZCBmb3IgYWN0aW9uIHN1Ym1pc3Npb25zLCBub3QgaW50ZW5kZWQgZm9yXG4gKiBleHRlcm5hbCBjb25zdW1wdGlvblxuICovXG5leHBvcnQgdHlwZSBTdWJtaXNzaW9uID1cbiAgfCB7XG4gICAgICBmb3JtTWV0aG9kOiBGb3JtTWV0aG9kIHwgVjdfRm9ybU1ldGhvZDtcbiAgICAgIGZvcm1BY3Rpb246IHN0cmluZztcbiAgICAgIGZvcm1FbmNUeXBlOiBGb3JtRW5jVHlwZTtcbiAgICAgIGZvcm1EYXRhOiBGb3JtRGF0YTtcbiAgICAgIGpzb246IHVuZGVmaW5lZDtcbiAgICAgIHRleHQ6IHVuZGVmaW5lZDtcbiAgICB9XG4gIHwge1xuICAgICAgZm9ybU1ldGhvZDogRm9ybU1ldGhvZCB8IFY3X0Zvcm1NZXRob2Q7XG4gICAgICBmb3JtQWN0aW9uOiBzdHJpbmc7XG4gICAgICBmb3JtRW5jVHlwZTogRm9ybUVuY1R5cGU7XG4gICAgICBmb3JtRGF0YTogdW5kZWZpbmVkO1xuICAgICAganNvbjogSnNvblZhbHVlO1xuICAgICAgdGV4dDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfCB7XG4gICAgICBmb3JtTWV0aG9kOiBGb3JtTWV0aG9kIHwgVjdfRm9ybU1ldGhvZDtcbiAgICAgIGZvcm1BY3Rpb246IHN0cmluZztcbiAgICAgIGZvcm1FbmNUeXBlOiBGb3JtRW5jVHlwZTtcbiAgICAgIGZvcm1EYXRhOiB1bmRlZmluZWQ7XG4gICAgICBqc29uOiB1bmRlZmluZWQ7XG4gICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgfTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQXJndW1lbnRzIHBhc3NlZCB0byByb3V0ZSBsb2FkZXIvYWN0aW9uIGZ1bmN0aW9ucy4gIFNhbWUgZm9yIG5vdyBidXQgd2Uga2VlcFxuICogdGhpcyBhcyBhIHByaXZhdGUgaW1wbGVtZW50YXRpb24gZGV0YWlsIGluIGNhc2UgdGhleSBkaXZlcmdlIGluIHRoZSBmdXR1cmUuXG4gKi9cbmludGVyZmFjZSBEYXRhRnVuY3Rpb25BcmdzPENvbnRleHQ+IHtcbiAgcmVxdWVzdDogUmVxdWVzdDtcbiAgcGFyYW1zOiBQYXJhbXM7XG4gIGNvbnRleHQ/OiBDb250ZXh0O1xufVxuXG4vLyBUT0RPOiAodjcpIENoYW5nZSB0aGUgZGVmYXVsdHMgZnJvbSBhbnkgdG8gdW5rbm93biBpbiBhbmQgcmVtb3ZlIFJlbWl4IHdyYXBwZXJzOlxuLy8gICBBY3Rpb25GdW5jdGlvbiwgQWN0aW9uRnVuY3Rpb25BcmdzLCBMb2FkZXJGdW5jdGlvbiwgTG9hZGVyRnVuY3Rpb25BcmdzXG4vLyAgIEFsc28sIG1ha2UgdGhlbSBhIHR5cGUgYWxpYXMgaW5zdGVhZCBvZiBhbiBpbnRlcmZhY2VcblxuLyoqXG4gKiBBcmd1bWVudHMgcGFzc2VkIHRvIGxvYWRlciBmdW5jdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMb2FkZXJGdW5jdGlvbkFyZ3M8Q29udGV4dCA9IGFueT5cbiAgZXh0ZW5kcyBEYXRhRnVuY3Rpb25BcmdzPENvbnRleHQ+IHt9XG5cbi8qKlxuICogQXJndW1lbnRzIHBhc3NlZCB0byBhY3Rpb24gZnVuY3Rpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uRnVuY3Rpb25BcmdzPENvbnRleHQgPSBhbnk+XG4gIGV4dGVuZHMgRGF0YUZ1bmN0aW9uQXJnczxDb250ZXh0PiB7fVxuXG4vKipcbiAqIExvYWRlcnMgYW5kIGFjdGlvbnMgY2FuIHJldHVybiBhbnl0aGluZyBleGNlcHQgYHVuZGVmaW5lZGAgKGBudWxsYCBpcyBhXG4gKiB2YWxpZCByZXR1cm4gdmFsdWUgaWYgdGhlcmUgaXMgbm8gZGF0YSB0byByZXR1cm4pLiAgUmVzcG9uc2VzIGFyZSBwcmVmZXJyZWRcbiAqIGFuZCB3aWxsIGVhc2UgYW55IGZ1dHVyZSBtaWdyYXRpb24gdG8gUmVtaXhcbiAqL1xudHlwZSBEYXRhRnVuY3Rpb25WYWx1ZSA9IFJlc3BvbnNlIHwgTm9uTnVsbGFibGU8dW5rbm93bj4gfCBudWxsO1xuXG50eXBlIERhdGFGdW5jdGlvblJldHVyblZhbHVlID0gUHJvbWlzZTxEYXRhRnVuY3Rpb25WYWx1ZT4gfCBEYXRhRnVuY3Rpb25WYWx1ZTtcblxuLyoqXG4gKiBSb3V0ZSBsb2FkZXIgZnVuY3Rpb24gc2lnbmF0dXJlXG4gKi9cbmV4cG9ydCB0eXBlIExvYWRlckZ1bmN0aW9uPENvbnRleHQgPSBhbnk+ID0ge1xuICAoXG4gICAgYXJnczogTG9hZGVyRnVuY3Rpb25BcmdzPENvbnRleHQ+LFxuICAgIGhhbmRsZXJDdHg/OiB1bmtub3duXG4gICk6IERhdGFGdW5jdGlvblJldHVyblZhbHVlO1xufSAmIHsgaHlkcmF0ZT86IGJvb2xlYW4gfTtcblxuLyoqXG4gKiBSb3V0ZSBhY3Rpb24gZnVuY3Rpb24gc2lnbmF0dXJlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uRnVuY3Rpb248Q29udGV4dCA9IGFueT4ge1xuICAoXG4gICAgYXJnczogQWN0aW9uRnVuY3Rpb25BcmdzPENvbnRleHQ+LFxuICAgIGhhbmRsZXJDdHg/OiB1bmtub3duXG4gICk6IERhdGFGdW5jdGlvblJldHVyblZhbHVlO1xufVxuXG4vKipcbiAqIEFyZ3VtZW50cyBwYXNzZWQgdG8gc2hvdWxkUmV2YWxpZGF0ZSBmdW5jdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbkFyZ3Mge1xuICBjdXJyZW50VXJsOiBVUkw7XG4gIGN1cnJlbnRQYXJhbXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXCJwYXJhbXNcIl07XG4gIG5leHRVcmw6IFVSTDtcbiAgbmV4dFBhcmFtczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtcInBhcmFtc1wiXTtcbiAgZm9ybU1ldGhvZD86IFN1Ym1pc3Npb25bXCJmb3JtTWV0aG9kXCJdO1xuICBmb3JtQWN0aW9uPzogU3VibWlzc2lvbltcImZvcm1BY3Rpb25cIl07XG4gIGZvcm1FbmNUeXBlPzogU3VibWlzc2lvbltcImZvcm1FbmNUeXBlXCJdO1xuICB0ZXh0PzogU3VibWlzc2lvbltcInRleHRcIl07XG4gIGZvcm1EYXRhPzogU3VibWlzc2lvbltcImZvcm1EYXRhXCJdO1xuICBqc29uPzogU3VibWlzc2lvbltcImpzb25cIl07XG4gIGFjdGlvblN0YXR1cz86IG51bWJlcjtcbiAgYWN0aW9uUmVzdWx0PzogYW55O1xuICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBSb3V0ZSBzaG91bGRSZXZhbGlkYXRlIGZ1bmN0aW9uIHNpZ25hdHVyZS4gIFRoaXMgcnVucyBhZnRlciBhbnkgc3VibWlzc2lvblxuICogKG5hdmlnYXRpb24gb3IgZmV0Y2hlciksIHNvIHdlIGZsYXR0ZW4gdGhlIG5hdmlnYXRpb24vZmV0Y2hlciBzdWJtaXNzaW9uXG4gKiBvbnRvIHRoZSBhcmd1bWVudHMuICBJdCBzaG91bGRuJ3QgbWF0dGVyIHdoZXRoZXIgaXQgY2FtZSBmcm9tIGEgbmF2aWdhdGlvblxuICogb3IgYSBmZXRjaGVyLCB3aGF0IHJlYWxseSBtYXR0ZXJzIGlzIHRoZSBVUkxzIGFuZCB0aGUgZm9ybURhdGEgc2luY2UgbG9hZGVyc1xuICogaGF2ZSB0byByZS1ydW4gYmFzZWQgb24gdGhlIGRhdGEgbW9kZWxzIHRoYXQgd2VyZSBwb3RlbnRpYWxseSBtdXRhdGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbiB7XG4gIChhcmdzOiBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb25BcmdzKTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBwcm92aWRlZCBieSB0aGUgZnJhbWV3b3JrLWF3YXJlIGxheWVycyB0byBzZXQgYGhhc0Vycm9yQm91bmRhcnlgXG4gKiBmcm9tIHRoZSBmcmFtZXdvcmstYXdhcmUgYGVycm9yRWxlbWVudGAgcHJvcFxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSBgbWFwUm91dGVQcm9wZXJ0aWVzYCBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV0ZWN0RXJyb3JCb3VuZGFyeUZ1bmN0aW9uIHtcbiAgKHJvdXRlOiBBZ25vc3RpY1JvdXRlT2JqZWN0KTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhU3RyYXRlZ3lNYXRjaFxuICBleHRlbmRzIEFnbm9zdGljUm91dGVNYXRjaDxzdHJpbmcsIEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0PiB7XG4gIHNob3VsZExvYWQ6IGJvb2xlYW47XG4gIHJlc29sdmU6IChcbiAgICBoYW5kbGVyT3ZlcnJpZGU/OiAoXG4gICAgICBoYW5kbGVyOiAoY3R4PzogdW5rbm93bikgPT4gRGF0YUZ1bmN0aW9uUmV0dXJuVmFsdWVcbiAgICApID0+IERhdGFGdW5jdGlvblJldHVyblZhbHVlXG4gICkgPT4gUHJvbWlzZTxEYXRhU3RyYXRlZ3lSZXN1bHQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTdHJhdGVneUZ1bmN0aW9uQXJnczxDb250ZXh0ID0gYW55PlxuICBleHRlbmRzIERhdGFGdW5jdGlvbkFyZ3M8Q29udGV4dD4ge1xuICBtYXRjaGVzOiBEYXRhU3RyYXRlZ3lNYXRjaFtdO1xuICBmZXRjaGVyS2V5OiBzdHJpbmcgfCBudWxsO1xufVxuXG4vKipcbiAqIFJlc3VsdCBmcm9tIGEgbG9hZGVyIG9yIGFjdGlvbiBjYWxsZWQgdmlhIGRhdGFTdHJhdGVneVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTdHJhdGVneVJlc3VsdCB7XG4gIHR5cGU6IFwiZGF0YVwiIHwgXCJlcnJvclwiO1xuICByZXN1bHQ6IHVua25vd247IC8vIGRhdGEsIEVycm9yLCBSZXNwb25zZSwgRGVmZXJyZWREYXRhLCBEYXRhV2l0aFJlc3BvbnNlSW5pdFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFTdHJhdGVneUZ1bmN0aW9uIHtcbiAgKGFyZ3M6IERhdGFTdHJhdGVneUZ1bmN0aW9uQXJncyk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgRGF0YVN0cmF0ZWd5UmVzdWx0Pj47XG59XG5cbmV4cG9ydCB0eXBlIEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbkFyZ3M8XG4gIE8gZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0ID0gQWdub3N0aWNSb3V0ZU9iamVjdCxcbiAgTSBleHRlbmRzIEFnbm9zdGljUm91dGVNYXRjaCA9IEFnbm9zdGljUm91dGVNYXRjaFxuPiA9IHtcbiAgc2lnbmFsOiBBYm9ydFNpZ25hbDtcbiAgcGF0aDogc3RyaW5nO1xuICBtYXRjaGVzOiBNW107XG4gIGZldGNoZXJLZXk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcGF0Y2g6IChyb3V0ZUlkOiBzdHJpbmcgfCBudWxsLCBjaGlsZHJlbjogT1tdKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IHR5cGUgQWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uPFxuICBPIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdCA9IEFnbm9zdGljUm91dGVPYmplY3QsXG4gIE0gZXh0ZW5kcyBBZ25vc3RpY1JvdXRlTWF0Y2ggPSBBZ25vc3RpY1JvdXRlTWF0Y2hcbj4gPSAoXG4gIG9wdHM6IEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbkFyZ3M8TywgTT5cbikgPT4gdm9pZCB8IFByb21pc2U8dm9pZD47XG5cbi8qKlxuICogRnVuY3Rpb24gcHJvdmlkZWQgYnkgdGhlIGZyYW1ld29yay1hd2FyZSBsYXllcnMgdG8gc2V0IGFueSBmcmFtZXdvcmstc3BlY2lmaWNcbiAqIHByb3BlcnRpZXMgZnJvbSBmcmFtZXdvcmstYWdub3N0aWMgcHJvcGVydGllc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uIHtcbiAgKHJvdXRlOiBBZ25vc3RpY1JvdXRlT2JqZWN0KToge1xuICAgIGhhc0Vycm9yQm91bmRhcnk6IGJvb2xlYW47XG4gIH0gJiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG4vKipcbiAqIEtleXMgd2UgY2Fubm90IGNoYW5nZSBmcm9tIHdpdGhpbiBhIGxhenkoKSBmdW5jdGlvbi4gV2Ugc3ByZWFkIGFsbCBvdGhlciBrZXlzXG4gKiBvbnRvIHRoZSByb3V0ZS4gRWl0aGVyIHRoZXkncmUgbWVhbmluZ2Z1bCB0byB0aGUgcm91dGVyLCBvciB0aGV5J2xsIGdldFxuICogaWdub3JlZC5cbiAqL1xuZXhwb3J0IHR5cGUgSW1tdXRhYmxlUm91dGVLZXkgPVxuICB8IFwibGF6eVwiXG4gIHwgXCJjYXNlU2Vuc2l0aXZlXCJcbiAgfCBcInBhdGhcIlxuICB8IFwiaWRcIlxuICB8IFwiaW5kZXhcIlxuICB8IFwiY2hpbGRyZW5cIjtcblxuZXhwb3J0IGNvbnN0IGltbXV0YWJsZVJvdXRlS2V5cyA9IG5ldyBTZXQ8SW1tdXRhYmxlUm91dGVLZXk+KFtcbiAgXCJsYXp5XCIsXG4gIFwiY2FzZVNlbnNpdGl2ZVwiLFxuICBcInBhdGhcIixcbiAgXCJpZFwiLFxuICBcImluZGV4XCIsXG4gIFwiY2hpbGRyZW5cIixcbl0pO1xuXG50eXBlIFJlcXVpcmVPbmU8VCwgS2V5ID0ga2V5b2YgVD4gPSBFeGNsdWRlPFxuICB7XG4gICAgW0sgaW4ga2V5b2YgVF06IEsgZXh0ZW5kcyBLZXkgPyBPbWl0PFQsIEs+ICYgUmVxdWlyZWQ8UGljazxULCBLPj4gOiBuZXZlcjtcbiAgfVtrZXlvZiBUXSxcbiAgdW5kZWZpbmVkXG4+O1xuXG4vKipcbiAqIGxhenkoKSBmdW5jdGlvbiB0byBsb2FkIGEgcm91dGUgZGVmaW5pdGlvbiwgd2hpY2ggY2FuIGFkZCBub24tbWF0Y2hpbmdcbiAqIHJlbGF0ZWQgcHJvcGVydGllcyB0byBhIHJvdXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGF6eVJvdXRlRnVuY3Rpb248UiBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3Q+IHtcbiAgKCk6IFByb21pc2U8UmVxdWlyZU9uZTxPbWl0PFIsIEltbXV0YWJsZVJvdXRlS2V5Pj4+O1xufVxuXG4vKipcbiAqIEJhc2UgUm91dGVPYmplY3Qgd2l0aCBjb21tb24gcHJvcHMgc2hhcmVkIGJ5IGFsbCB0eXBlcyBvZiByb3V0ZXNcbiAqL1xudHlwZSBBZ25vc3RpY0Jhc2VSb3V0ZU9iamVjdCA9IHtcbiAgY2FzZVNlbnNpdGl2ZT86IGJvb2xlYW47XG4gIHBhdGg/OiBzdHJpbmc7XG4gIGlkPzogc3RyaW5nO1xuICBsb2FkZXI/OiBMb2FkZXJGdW5jdGlvbiB8IGJvb2xlYW47XG4gIGFjdGlvbj86IEFjdGlvbkZ1bmN0aW9uIHwgYm9vbGVhbjtcbiAgaGFzRXJyb3JCb3VuZGFyeT86IGJvb2xlYW47XG4gIHNob3VsZFJldmFsaWRhdGU/OiBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb247XG4gIGhhbmRsZT86IGFueTtcbiAgbGF6eT86IExhenlSb3V0ZUZ1bmN0aW9uPEFnbm9zdGljQmFzZVJvdXRlT2JqZWN0Pjtcbn07XG5cbi8qKlxuICogSW5kZXggcm91dGVzIG11c3Qgbm90IGhhdmUgY2hpbGRyZW5cbiAqL1xuZXhwb3J0IHR5cGUgQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0ID0gQWdub3N0aWNCYXNlUm91dGVPYmplY3QgJiB7XG4gIGNoaWxkcmVuPzogdW5kZWZpbmVkO1xuICBpbmRleDogdHJ1ZTtcbn07XG5cbi8qKlxuICogTm9uLWluZGV4IHJvdXRlcyBtYXkgaGF2ZSBjaGlsZHJlbiwgYnV0IGNhbm5vdCBoYXZlIGluZGV4XG4gKi9cbmV4cG9ydCB0eXBlIEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdCA9IEFnbm9zdGljQmFzZVJvdXRlT2JqZWN0ICYge1xuICBjaGlsZHJlbj86IEFnbm9zdGljUm91dGVPYmplY3RbXTtcbiAgaW5kZXg/OiBmYWxzZTtcbn07XG5cbi8qKlxuICogQSByb3V0ZSBvYmplY3QgcmVwcmVzZW50cyBhIGxvZ2ljYWwgcm91dGUsIHdpdGggKG9wdGlvbmFsbHkpIGl0cyBjaGlsZFxuICogcm91dGVzIG9yZ2FuaXplZCBpbiBhIHRyZWUtbGlrZSBzdHJ1Y3R1cmUuXG4gKi9cbmV4cG9ydCB0eXBlIEFnbm9zdGljUm91dGVPYmplY3QgPVxuICB8IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdFxuICB8IEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdDtcblxuZXhwb3J0IHR5cGUgQWdub3N0aWNEYXRhSW5kZXhSb3V0ZU9iamVjdCA9IEFnbm9zdGljSW5kZXhSb3V0ZU9iamVjdCAmIHtcbiAgaWQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEFnbm9zdGljRGF0YU5vbkluZGV4Um91dGVPYmplY3QgPSBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3QgJiB7XG4gIGNoaWxkcmVuPzogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXTtcbiAgaWQ6IHN0cmluZztcbn07XG5cbi8qKlxuICogQSBkYXRhIHJvdXRlIG9iamVjdCwgd2hpY2ggaXMganVzdCBhIFJvdXRlT2JqZWN0IHdpdGggYSByZXF1aXJlZCB1bmlxdWUgSURcbiAqL1xuZXhwb3J0IHR5cGUgQWdub3N0aWNEYXRhUm91dGVPYmplY3QgPVxuICB8IEFnbm9zdGljRGF0YUluZGV4Um91dGVPYmplY3RcbiAgfCBBZ25vc3RpY0RhdGFOb25JbmRleFJvdXRlT2JqZWN0O1xuXG5leHBvcnQgdHlwZSBSb3V0ZU1hbmlmZXN0ID0gUmVjb3JkPHN0cmluZywgQWdub3N0aWNEYXRhUm91dGVPYmplY3QgfCB1bmRlZmluZWQ+O1xuXG4vLyBSZWN1cnNpdmUgaGVscGVyIGZvciBmaW5kaW5nIHBhdGggcGFyYW1ldGVycyBpbiB0aGUgYWJzZW5jZSBvZiB3aWxkY2FyZHNcbnR5cGUgX1BhdGhQYXJhbTxQYXRoIGV4dGVuZHMgc3RyaW5nPiA9XG4gIC8vIHNwbGl0IHBhdGggaW50byBpbmRpdmlkdWFsIHBhdGggc2VnbWVudHNcbiAgUGF0aCBleHRlbmRzIGAke2luZmVyIEx9LyR7aW5mZXIgUn1gXG4gICAgPyBfUGF0aFBhcmFtPEw+IHwgX1BhdGhQYXJhbTxSPlxuICAgIDogLy8gZmluZCBwYXJhbXMgYWZ0ZXIgYDpgXG4gICAgUGF0aCBleHRlbmRzIGA6JHtpbmZlciBQYXJhbX1gXG4gICAgPyBQYXJhbSBleHRlbmRzIGAke2luZmVyIE9wdGlvbmFsfT9gXG4gICAgICA/IE9wdGlvbmFsXG4gICAgICA6IFBhcmFtXG4gICAgOiAvLyBvdGhlcndpc2UsIHRoZXJlIGFyZW4ndCBhbnkgcGFyYW1zIHByZXNlbnRcbiAgICAgIG5ldmVyO1xuXG4vKipcbiAqIEV4YW1wbGVzOlxuICogXCIvYS9iLypcIiAtPiBcIipcIlxuICogXCI6YVwiIC0+IFwiYVwiXG4gKiBcIi9hLzpiXCIgLT4gXCJiXCJcbiAqIFwiL2EvYmxhaGJsYWhibGFoOmJcIiAtPiBcImJcIlxuICogXCIvOmEvOmJcIiAtPiBcImFcIiB8IFwiYlwiXG4gKiBcIi86YS9iLzpjLypcIiAtPiBcImFcIiB8IFwiY1wiIHwgXCIqXCJcbiAqL1xuZXhwb3J0IHR5cGUgUGF0aFBhcmFtPFBhdGggZXh0ZW5kcyBzdHJpbmc+ID1cbiAgLy8gY2hlY2sgaWYgcGF0aCBpcyBqdXN0IGEgd2lsZGNhcmRcbiAgUGF0aCBleHRlbmRzIFwiKlwiIHwgXCIvKlwiXG4gICAgPyBcIipcIlxuICAgIDogLy8gbG9vayBmb3Igd2lsZGNhcmQgYXQgdGhlIGVuZCBvZiB0aGUgcGF0aFxuICAgIFBhdGggZXh0ZW5kcyBgJHtpbmZlciBSZXN0fS8qYFxuICAgID8gXCIqXCIgfCBfUGF0aFBhcmFtPFJlc3Q+XG4gICAgOiAvLyBsb29rIGZvciBwYXJhbXMgaW4gdGhlIGFic2VuY2Ugb2Ygd2lsZGNhcmRzXG4gICAgICBfUGF0aFBhcmFtPFBhdGg+O1xuXG4vLyBBdHRlbXB0IHRvIHBhcnNlIHRoZSBnaXZlbiBzdHJpbmcgc2VnbWVudC4gSWYgaXQgZmFpbHMsIHRoZW4ganVzdCByZXR1cm4gdGhlXG4vLyBwbGFpbiBzdHJpbmcgdHlwZSBhcyBhIGRlZmF1bHQgZmFsbGJhY2suIE90aGVyd2lzZSwgcmV0dXJuIHRoZSB1bmlvbiBvZiB0aGVcbi8vIHBhcnNlZCBzdHJpbmcgbGl0ZXJhbHMgdGhhdCB3ZXJlIHJlZmVyZW5jZWQgYXMgZHluYW1pYyBzZWdtZW50cyBpbiB0aGUgcm91dGUuXG5leHBvcnQgdHlwZSBQYXJhbVBhcnNlS2V5PFNlZ21lbnQgZXh0ZW5kcyBzdHJpbmc+ID1cbiAgLy8gaWYgeW91IGNvdWxkIG5vdCBmaW5kIHBhdGggcGFyYW1zLCBmYWxsYmFjayB0byBgc3RyaW5nYFxuICBbUGF0aFBhcmFtPFNlZ21lbnQ+XSBleHRlbmRzIFtuZXZlcl0gPyBzdHJpbmcgOiBQYXRoUGFyYW08U2VnbWVudD47XG5cbi8qKlxuICogVGhlIHBhcmFtZXRlcnMgdGhhdCB3ZXJlIHBhcnNlZCBmcm9tIHRoZSBVUkwgcGF0aC5cbiAqL1xuZXhwb3J0IHR5cGUgUGFyYW1zPEtleSBleHRlbmRzIHN0cmluZyA9IHN0cmluZz4gPSB7XG4gIHJlYWRvbmx5IFtrZXkgaW4gS2V5XTogc3RyaW5nIHwgdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBBIFJvdXRlTWF0Y2ggY29udGFpbnMgaW5mbyBhYm91dCBob3cgYSByb3V0ZSBtYXRjaGVkIGEgVVJMLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFnbm9zdGljUm91dGVNYXRjaDxcbiAgUGFyYW1LZXkgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG4gIFJvdXRlT2JqZWN0VHlwZSBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3QgPSBBZ25vc3RpY1JvdXRlT2JqZWN0XG4+IHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lcyBhbmQgdmFsdWVzIG9mIGR5bmFtaWMgcGFyYW1ldGVycyBpbiB0aGUgVVJMLlxuICAgKi9cbiAgcGFyYW1zOiBQYXJhbXM8UGFyYW1LZXk+O1xuICAvKipcbiAgICogVGhlIHBvcnRpb24gb2YgdGhlIFVSTCBwYXRobmFtZSB0aGF0IHdhcyBtYXRjaGVkLlxuICAgKi9cbiAgcGF0aG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBwb3J0aW9uIG9mIHRoZSBVUkwgcGF0aG5hbWUgdGhhdCB3YXMgbWF0Y2hlZCBiZWZvcmUgY2hpbGQgcm91dGVzLlxuICAgKi9cbiAgcGF0aG5hbWVCYXNlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgcm91dGUgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbWF0Y2guXG4gICAqL1xuICByb3V0ZTogUm91dGVPYmplY3RUeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hcbiAgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlTWF0Y2g8c3RyaW5nLCBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdD4ge31cblxuZnVuY3Rpb24gaXNJbmRleFJvdXRlKFxuICByb3V0ZTogQWdub3N0aWNSb3V0ZU9iamVjdFxuKTogcm91dGUgaXMgQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0IHtcbiAgcmV0dXJuIHJvdXRlLmluZGV4ID09PSB0cnVlO1xufVxuXG4vLyBXYWxrIHRoZSByb3V0ZSB0cmVlIGdlbmVyYXRpbmcgdW5pcXVlIElEcyB3aGVyZSBuZWNlc3NhcnksIHNvIHdlIGFyZSB3b3JraW5nXG4vLyBzb2xlbHkgd2l0aCBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdCdzIHdpdGhpbiB0aGUgUm91dGVyXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgcm91dGVzOiBBZ25vc3RpY1JvdXRlT2JqZWN0W10sXG4gIG1hcFJvdXRlUHJvcGVydGllczogTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb24sXG4gIHBhcmVudFBhdGg6IHN0cmluZ1tdID0gW10sXG4gIG1hbmlmZXN0OiBSb3V0ZU1hbmlmZXN0ID0ge31cbik6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W10ge1xuICByZXR1cm4gcm91dGVzLm1hcCgocm91dGUsIGluZGV4KSA9PiB7XG4gICAgbGV0IHRyZWVQYXRoID0gWy4uLnBhcmVudFBhdGgsIFN0cmluZyhpbmRleCldO1xuICAgIGxldCBpZCA9IHR5cGVvZiByb3V0ZS5pZCA9PT0gXCJzdHJpbmdcIiA/IHJvdXRlLmlkIDogdHJlZVBhdGguam9pbihcIi1cIik7XG4gICAgaW52YXJpYW50KFxuICAgICAgcm91dGUuaW5kZXggIT09IHRydWUgfHwgIXJvdXRlLmNoaWxkcmVuLFxuICAgICAgYENhbm5vdCBzcGVjaWZ5IGNoaWxkcmVuIG9uIGFuIGluZGV4IHJvdXRlYFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIW1hbmlmZXN0W2lkXSxcbiAgICAgIGBGb3VuZCBhIHJvdXRlIGlkIGNvbGxpc2lvbiBvbiBpZCBcIiR7aWR9XCIuICBSb3V0ZSBgICtcbiAgICAgICAgXCJpZCdzIG11c3QgYmUgZ2xvYmFsbHkgdW5pcXVlIHdpdGhpbiBEYXRhIFJvdXRlciB1c2FnZXNcIlxuICAgICk7XG5cbiAgICBpZiAoaXNJbmRleFJvdXRlKHJvdXRlKSkge1xuICAgICAgbGV0IGluZGV4Um91dGU6IEFnbm9zdGljRGF0YUluZGV4Um91dGVPYmplY3QgPSB7XG4gICAgICAgIC4uLnJvdXRlLFxuICAgICAgICAuLi5tYXBSb3V0ZVByb3BlcnRpZXMocm91dGUpLFxuICAgICAgICBpZCxcbiAgICAgIH07XG4gICAgICBtYW5pZmVzdFtpZF0gPSBpbmRleFJvdXRlO1xuICAgICAgcmV0dXJuIGluZGV4Um91dGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwYXRoT3JMYXlvdXRSb3V0ZTogQWdub3N0aWNEYXRhTm9uSW5kZXhSb3V0ZU9iamVjdCA9IHtcbiAgICAgICAgLi4ucm91dGUsXG4gICAgICAgIC4uLm1hcFJvdXRlUHJvcGVydGllcyhyb3V0ZSksXG4gICAgICAgIGlkLFxuICAgICAgICBjaGlsZHJlbjogdW5kZWZpbmVkLFxuICAgICAgfTtcbiAgICAgIG1hbmlmZXN0W2lkXSA9IHBhdGhPckxheW91dFJvdXRlO1xuXG4gICAgICBpZiAocm91dGUuY2hpbGRyZW4pIHtcbiAgICAgICAgcGF0aE9yTGF5b3V0Um91dGUuY2hpbGRyZW4gPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgICAgICAgIHJvdXRlLmNoaWxkcmVuLFxuICAgICAgICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICAgICAgICB0cmVlUGF0aCxcbiAgICAgICAgICBtYW5pZmVzdFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGF0aE9yTGF5b3V0Um91dGU7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBNYXRjaGVzIHRoZSBnaXZlbiByb3V0ZXMgdG8gYSBsb2NhdGlvbiBhbmQgcmV0dXJucyB0aGUgbWF0Y2ggZGF0YS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3V0aWxzL21hdGNoLXJvdXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hSb3V0ZXM8XG4gIFJvdXRlT2JqZWN0VHlwZSBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3QgPSBBZ25vc3RpY1JvdXRlT2JqZWN0XG4+KFxuICByb3V0ZXM6IFJvdXRlT2JqZWN0VHlwZVtdLFxuICBsb2NhdGlvbkFyZzogUGFydGlhbDxMb2NhdGlvbj4gfCBzdHJpbmcsXG4gIGJhc2VuYW1lID0gXCIvXCJcbik6IEFnbm9zdGljUm91dGVNYXRjaDxzdHJpbmcsIFJvdXRlT2JqZWN0VHlwZT5bXSB8IG51bGwge1xuICByZXR1cm4gbWF0Y2hSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcsIGJhc2VuYW1lLCBmYWxzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaFJvdXRlc0ltcGw8XG4gIFJvdXRlT2JqZWN0VHlwZSBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3QgPSBBZ25vc3RpY1JvdXRlT2JqZWN0XG4+KFxuICByb3V0ZXM6IFJvdXRlT2JqZWN0VHlwZVtdLFxuICBsb2NhdGlvbkFyZzogUGFydGlhbDxMb2NhdGlvbj4gfCBzdHJpbmcsXG4gIGJhc2VuYW1lOiBzdHJpbmcsXG4gIGFsbG93UGFydGlhbDogYm9vbGVhblxuKTogQWdub3N0aWNSb3V0ZU1hdGNoPHN0cmluZywgUm91dGVPYmplY3RUeXBlPltdIHwgbnVsbCB7XG4gIGxldCBsb2NhdGlvbiA9XG4gICAgdHlwZW9mIGxvY2F0aW9uQXJnID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKGxvY2F0aW9uQXJnKSA6IGxvY2F0aW9uQXJnO1xuXG4gIGxldCBwYXRobmFtZSA9IHN0cmlwQmFzZW5hbWUobG9jYXRpb24ucGF0aG5hbWUgfHwgXCIvXCIsIGJhc2VuYW1lKTtcblxuICBpZiAocGF0aG5hbWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGV0IGJyYW5jaGVzID0gZmxhdHRlblJvdXRlcyhyb3V0ZXMpO1xuICByYW5rUm91dGVCcmFuY2hlcyhicmFuY2hlcyk7XG5cbiAgbGV0IG1hdGNoZXMgPSBudWxsO1xuICBmb3IgKGxldCBpID0gMDsgbWF0Y2hlcyA9PSBudWxsICYmIGkgPCBicmFuY2hlcy5sZW5ndGg7ICsraSkge1xuICAgIC8vIEluY29taW5nIHBhdGhuYW1lcyBhcmUgZ2VuZXJhbGx5IGVuY29kZWQgZnJvbSBlaXRoZXIgd2luZG93LmxvY2F0aW9uXG4gICAgLy8gb3IgZnJvbSByb3V0ZXIubmF2aWdhdGUsIGJ1dCB3ZSB3YW50IHRvIG1hdGNoIGFnYWluc3QgdGhlIHVuZW5jb2RlZFxuICAgIC8vIHBhdGhzIGluIHRoZSByb3V0ZSBkZWZpbml0aW9ucy4gIE1lbW9yeSByb3V0ZXIgbG9jYXRpb25zIHdvbid0IGJlXG4gICAgLy8gZW5jb2RlZCBoZXJlIGJ1dCB0aGVyZSBhbHNvIHNob3VsZG4ndCBiZSBhbnl0aGluZyB0byBkZWNvZGUgc28gdGhpc1xuICAgIC8vIHNob3VsZCBiZSBhIHNhZmUgb3BlcmF0aW9uLiAgVGhpcyBhdm9pZHMgbmVlZGluZyBtYXRjaFJvdXRlcyB0byBiZVxuICAgIC8vIGhpc3RvcnktYXdhcmUuXG4gICAgbGV0IGRlY29kZWQgPSBkZWNvZGVQYXRoKHBhdGhuYW1lKTtcbiAgICBtYXRjaGVzID0gbWF0Y2hSb3V0ZUJyYW5jaDxzdHJpbmcsIFJvdXRlT2JqZWN0VHlwZT4oXG4gICAgICBicmFuY2hlc1tpXSxcbiAgICAgIGRlY29kZWQsXG4gICAgICBhbGxvd1BhcnRpYWxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVUlNYXRjaDxEYXRhID0gdW5rbm93biwgSGFuZGxlID0gdW5rbm93bj4ge1xuICBpZDogc3RyaW5nO1xuICBwYXRobmFtZTogc3RyaW5nO1xuICBwYXJhbXM6IEFnbm9zdGljUm91dGVNYXRjaFtcInBhcmFtc1wiXTtcbiAgZGF0YTogRGF0YTtcbiAgaGFuZGxlOiBIYW5kbGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChcbiAgbWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gsXG4gIGxvYWRlckRhdGE6IFJvdXRlRGF0YVxuKTogVUlNYXRjaCB7XG4gIGxldCB7IHJvdXRlLCBwYXRobmFtZSwgcGFyYW1zIH0gPSBtYXRjaDtcbiAgcmV0dXJuIHtcbiAgICBpZDogcm91dGUuaWQsXG4gICAgcGF0aG5hbWUsXG4gICAgcGFyYW1zLFxuICAgIGRhdGE6IGxvYWRlckRhdGFbcm91dGUuaWRdLFxuICAgIGhhbmRsZTogcm91dGUuaGFuZGxlLFxuICB9O1xufVxuXG5pbnRlcmZhY2UgUm91dGVNZXRhPFxuICBSb3V0ZU9iamVjdFR5cGUgZXh0ZW5kcyBBZ25vc3RpY1JvdXRlT2JqZWN0ID0gQWdub3N0aWNSb3V0ZU9iamVjdFxuPiB7XG4gIHJlbGF0aXZlUGF0aDogc3RyaW5nO1xuICBjYXNlU2Vuc2l0aXZlOiBib29sZWFuO1xuICBjaGlsZHJlbkluZGV4OiBudW1iZXI7XG4gIHJvdXRlOiBSb3V0ZU9iamVjdFR5cGU7XG59XG5cbmludGVyZmFjZSBSb3V0ZUJyYW5jaDxcbiAgUm91dGVPYmplY3RUeXBlIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdCA9IEFnbm9zdGljUm91dGVPYmplY3Rcbj4ge1xuICBwYXRoOiBzdHJpbmc7XG4gIHNjb3JlOiBudW1iZXI7XG4gIHJvdXRlc01ldGE6IFJvdXRlTWV0YTxSb3V0ZU9iamVjdFR5cGU+W107XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5Sb3V0ZXM8XG4gIFJvdXRlT2JqZWN0VHlwZSBleHRlbmRzIEFnbm9zdGljUm91dGVPYmplY3QgPSBBZ25vc3RpY1JvdXRlT2JqZWN0XG4+KFxuICByb3V0ZXM6IFJvdXRlT2JqZWN0VHlwZVtdLFxuICBicmFuY2hlczogUm91dGVCcmFuY2g8Um91dGVPYmplY3RUeXBlPltdID0gW10sXG4gIHBhcmVudHNNZXRhOiBSb3V0ZU1ldGE8Um91dGVPYmplY3RUeXBlPltdID0gW10sXG4gIHBhcmVudFBhdGggPSBcIlwiXG4pOiBSb3V0ZUJyYW5jaDxSb3V0ZU9iamVjdFR5cGU+W10ge1xuICBsZXQgZmxhdHRlblJvdXRlID0gKFxuICAgIHJvdXRlOiBSb3V0ZU9iamVjdFR5cGUsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICByZWxhdGl2ZVBhdGg/OiBzdHJpbmdcbiAgKSA9PiB7XG4gICAgbGV0IG1ldGE6IFJvdXRlTWV0YTxSb3V0ZU9iamVjdFR5cGU+ID0ge1xuICAgICAgcmVsYXRpdmVQYXRoOlxuICAgICAgICByZWxhdGl2ZVBhdGggPT09IHVuZGVmaW5lZCA/IHJvdXRlLnBhdGggfHwgXCJcIiA6IHJlbGF0aXZlUGF0aCxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IHJvdXRlLmNhc2VTZW5zaXRpdmUgPT09IHRydWUsXG4gICAgICBjaGlsZHJlbkluZGV4OiBpbmRleCxcbiAgICAgIHJvdXRlLFxuICAgIH07XG5cbiAgICBpZiAobWV0YS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgbWV0YS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChwYXJlbnRQYXRoKSxcbiAgICAgICAgYEFic29sdXRlIHJvdXRlIHBhdGggXCIke21ldGEucmVsYXRpdmVQYXRofVwiIG5lc3RlZCB1bmRlciBwYXRoIGAgK1xuICAgICAgICAgIGBcIiR7cGFyZW50UGF0aH1cIiBpcyBub3QgdmFsaWQuIEFuIGFic29sdXRlIGNoaWxkIHJvdXRlIHBhdGggYCArXG4gICAgICAgICAgYG11c3Qgc3RhcnQgd2l0aCB0aGUgY29tYmluZWQgcGF0aCBvZiBhbGwgaXRzIHBhcmVudCByb3V0ZXMuYFxuICAgICAgKTtcblxuICAgICAgbWV0YS5yZWxhdGl2ZVBhdGggPSBtZXRhLnJlbGF0aXZlUGF0aC5zbGljZShwYXJlbnRQYXRoLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgbGV0IHBhdGggPSBqb2luUGF0aHMoW3BhcmVudFBhdGgsIG1ldGEucmVsYXRpdmVQYXRoXSk7XG4gICAgbGV0IHJvdXRlc01ldGEgPSBwYXJlbnRzTWV0YS5jb25jYXQobWV0YSk7XG5cbiAgICAvLyBBZGQgdGhlIGNoaWxkcmVuIGJlZm9yZSBhZGRpbmcgdGhpcyByb3V0ZSB0byB0aGUgYXJyYXksIHNvIHdlIHRyYXZlcnNlIHRoZVxuICAgIC8vIHJvdXRlIHRyZWUgZGVwdGgtZmlyc3QgYW5kIGNoaWxkIHJvdXRlcyBhcHBlYXIgYmVmb3JlIHRoZWlyIHBhcmVudHMgaW5cbiAgICAvLyB0aGUgXCJmbGF0dGVuZWRcIiB2ZXJzaW9uLlxuICAgIGlmIChyb3V0ZS5jaGlsZHJlbiAmJiByb3V0ZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIC8vIE91ciB0eXBlcyBrbm93IGJldHRlciwgYnV0IHJ1bnRpbWUgSlMgbWF5IG5vdCFcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICByb3V0ZS5pbmRleCAhPT0gdHJ1ZSxcbiAgICAgICAgYEluZGV4IHJvdXRlcyBtdXN0IG5vdCBoYXZlIGNoaWxkIHJvdXRlcy4gUGxlYXNlIHJlbW92ZSBgICtcbiAgICAgICAgICBgYWxsIGNoaWxkIHJvdXRlcyBmcm9tIHJvdXRlIHBhdGggXCIke3BhdGh9XCIuYFxuICAgICAgKTtcbiAgICAgIGZsYXR0ZW5Sb3V0ZXMocm91dGUuY2hpbGRyZW4sIGJyYW5jaGVzLCByb3V0ZXNNZXRhLCBwYXRoKTtcbiAgICB9XG5cbiAgICAvLyBSb3V0ZXMgd2l0aG91dCBhIHBhdGggc2hvdWxkbid0IGV2ZXIgbWF0Y2ggYnkgdGhlbXNlbHZlcyB1bmxlc3MgdGhleSBhcmVcbiAgICAvLyBpbmRleCByb3V0ZXMsIHNvIGRvbid0IGFkZCB0aGVtIHRvIHRoZSBsaXN0IG9mIHBvc3NpYmxlIGJyYW5jaGVzLlxuICAgIGlmIChyb3V0ZS5wYXRoID09IG51bGwgJiYgIXJvdXRlLmluZGV4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYnJhbmNoZXMucHVzaCh7XG4gICAgICBwYXRoLFxuICAgICAgc2NvcmU6IGNvbXB1dGVTY29yZShwYXRoLCByb3V0ZS5pbmRleCksXG4gICAgICByb3V0ZXNNZXRhLFxuICAgIH0pO1xuICB9O1xuICByb3V0ZXMuZm9yRWFjaCgocm91dGUsIGluZGV4KSA9PiB7XG4gICAgLy8gY29hcnNlLWdyYWluIGNoZWNrIGZvciBvcHRpb25hbCBwYXJhbXNcbiAgICBpZiAocm91dGUucGF0aCA9PT0gXCJcIiB8fCAhcm91dGUucGF0aD8uaW5jbHVkZXMoXCI/XCIpKSB7XG4gICAgICBmbGF0dGVuUm91dGUocm91dGUsIGluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgZXhwbG9kZWQgb2YgZXhwbG9kZU9wdGlvbmFsU2VnbWVudHMocm91dGUucGF0aCkpIHtcbiAgICAgICAgZmxhdHRlblJvdXRlKHJvdXRlLCBpbmRleCwgZXhwbG9kZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGJyYW5jaGVzO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGFsbCBjb21iaW5hdGlvbnMgb2Ygb3B0aW9uYWwgcGF0aCBzZWdtZW50cyBmb3IgYSBnaXZlbiBwYXRoLFxuICogZXhjbHVkaW5nIGNvbWJpbmF0aW9ucyB0aGF0IGFyZSBhbWJpZ3VvdXMgYW5kIG9mIGxvd2VyIHByaW9yaXR5LlxuICpcbiAqIEZvciBleGFtcGxlLCBgL29uZS86dHdvPy90aHJlZS86Zm91cj8vOmZpdmU/YCBleHBsb2RlcyB0bzpcbiAqIC0gYC9vbmUvdGhyZWVgXG4gKiAtIGAvb25lLzp0d28vdGhyZWVgXG4gKiAtIGAvb25lL3RocmVlLzpmb3VyYFxuICogLSBgL29uZS90aHJlZS86Zml2ZWBcbiAqIC0gYC9vbmUvOnR3by90aHJlZS86Zm91cmBcbiAqIC0gYC9vbmUvOnR3by90aHJlZS86Zml2ZWBcbiAqIC0gYC9vbmUvdGhyZWUvOmZvdXIvOmZpdmVgXG4gKiAtIGAvb25lLzp0d28vdGhyZWUvOmZvdXIvOmZpdmVgXG4gKi9cbmZ1bmN0aW9uIGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHBhdGg6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgbGV0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi9cIik7XG4gIGlmIChzZWdtZW50cy5sZW5ndGggPT09IDApIHJldHVybiBbXTtcblxuICBsZXQgW2ZpcnN0LCAuLi5yZXN0XSA9IHNlZ21lbnRzO1xuXG4gIC8vIE9wdGlvbmFsIHBhdGggc2VnbWVudHMgYXJlIGRlbm90ZWQgYnkgYSB0cmFpbGluZyBgP2BcbiAgbGV0IGlzT3B0aW9uYWwgPSBmaXJzdC5lbmRzV2l0aChcIj9cIik7XG4gIC8vIENvbXB1dGUgdGhlIGNvcnJlc3BvbmRpbmcgcmVxdWlyZWQgc2VnbWVudDogYGZvbz9gIC0+IGBmb29gXG4gIGxldCByZXF1aXJlZCA9IGZpcnN0LnJlcGxhY2UoL1xcPyQvLCBcIlwiKTtcblxuICBpZiAocmVzdC5sZW5ndGggPT09IDApIHtcbiAgICAvLyBJbnRlcHJldCBlbXB0eSBzdHJpbmcgYXMgb21pdHRpbmcgYW4gb3B0aW9uYWwgc2VnbWVudFxuICAgIC8vIGBbXCJvbmVcIiwgXCJcIiwgXCJ0aHJlZVwiXWAgY29ycmVzcG9uZHMgdG8gb21pdHRpbmcgYDp0d29gIGZyb20gYC9vbmUvOnR3bz8vdGhyZWVgIC0+IGAvb25lL3RocmVlYFxuICAgIHJldHVybiBpc09wdGlvbmFsID8gW3JlcXVpcmVkLCBcIlwiXSA6IFtyZXF1aXJlZF07XG4gIH1cblxuICBsZXQgcmVzdEV4cGxvZGVkID0gZXhwbG9kZU9wdGlvbmFsU2VnbWVudHMocmVzdC5qb2luKFwiL1wiKSk7XG5cbiAgbGV0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcblxuICAvLyBBbGwgY2hpbGQgcGF0aHMgd2l0aCB0aGUgcHJlZml4LiAgRG8gdGhpcyBmb3IgYWxsIGNoaWxkcmVuIGJlZm9yZSB0aGVcbiAgLy8gb3B0aW9uYWwgdmVyc2lvbiBmb3IgYWxsIGNoaWxkcmVuLCBzbyB3ZSBnZXQgY29uc2lzdGVudCBvcmRlcmluZyB3aGVyZSB0aGVcbiAgLy8gcGFyZW50IG9wdGlvbmFsIGFzcGVjdCBpcyBwcmVmZXJyZWQgYXMgcmVxdWlyZWQuICBPdGhlcndpc2UsIHdlIGNhbiBnZXRcbiAgLy8gY2hpbGQgc2VjdGlvbnMgaW50ZXJzcGVyc2VkIHdoZXJlIGRlZXBlciBvcHRpb25hbCBzZWdtZW50cyBhcmUgaGlnaGVyIHRoYW5cbiAgLy8gcGFyZW50IG9wdGlvbmFsIHNlZ21lbnRzLCB3aGVyZSBmb3IgZXhhbXBsZSwgLzp0d28gd291bGQgZXhwbG9kZSBfZWFybGllcl9cbiAgLy8gdGhlbiAvOm9uZS4gIEJ5IGFsd2F5cyBpbmNsdWRpbmcgdGhlIHBhcmVudCBhcyByZXF1aXJlZCBfZm9yIGFsbCBjaGlsZHJlbl9cbiAgLy8gZmlyc3QsIHdlIGF2b2lkIHRoaXMgaXNzdWVcbiAgcmVzdWx0LnB1c2goXG4gICAgLi4ucmVzdEV4cGxvZGVkLm1hcCgoc3VicGF0aCkgPT5cbiAgICAgIHN1YnBhdGggPT09IFwiXCIgPyByZXF1aXJlZCA6IFtyZXF1aXJlZCwgc3VicGF0aF0uam9pbihcIi9cIilcbiAgICApXG4gICk7XG5cbiAgLy8gVGhlbiwgaWYgdGhpcyBpcyBhbiBvcHRpb25hbCB2YWx1ZSwgYWRkIGFsbCBjaGlsZCB2ZXJzaW9ucyB3aXRob3V0XG4gIGlmIChpc09wdGlvbmFsKSB7XG4gICAgcmVzdWx0LnB1c2goLi4ucmVzdEV4cGxvZGVkKTtcbiAgfVxuXG4gIC8vIGZvciBhYnNvbHV0ZSBwYXRocywgZW5zdXJlIGAvYCBpbnN0ZWFkIG9mIGVtcHR5IHNlZ21lbnRcbiAgcmV0dXJuIHJlc3VsdC5tYXAoKGV4cGxvZGVkKSA9PlxuICAgIHBhdGguc3RhcnRzV2l0aChcIi9cIikgJiYgZXhwbG9kZWQgPT09IFwiXCIgPyBcIi9cIiA6IGV4cGxvZGVkXG4gICk7XG59XG5cbmZ1bmN0aW9uIHJhbmtSb3V0ZUJyYW5jaGVzKGJyYW5jaGVzOiBSb3V0ZUJyYW5jaFtdKTogdm9pZCB7XG4gIGJyYW5jaGVzLnNvcnQoKGEsIGIpID0+XG4gICAgYS5zY29yZSAhPT0gYi5zY29yZVxuICAgICAgPyBiLnNjb3JlIC0gYS5zY29yZSAvLyBIaWdoZXIgc2NvcmUgZmlyc3RcbiAgICAgIDogY29tcGFyZUluZGV4ZXMoXG4gICAgICAgICAgYS5yb3V0ZXNNZXRhLm1hcCgobWV0YSkgPT4gbWV0YS5jaGlsZHJlbkluZGV4KSxcbiAgICAgICAgICBiLnJvdXRlc01ldGEubWFwKChtZXRhKSA9PiBtZXRhLmNoaWxkcmVuSW5kZXgpXG4gICAgICAgIClcbiAgKTtcbn1cblxuY29uc3QgcGFyYW1SZSA9IC9eOltcXHctXSskLztcbmNvbnN0IGR5bmFtaWNTZWdtZW50VmFsdWUgPSAzO1xuY29uc3QgaW5kZXhSb3V0ZVZhbHVlID0gMjtcbmNvbnN0IGVtcHR5U2VnbWVudFZhbHVlID0gMTtcbmNvbnN0IHN0YXRpY1NlZ21lbnRWYWx1ZSA9IDEwO1xuY29uc3Qgc3BsYXRQZW5hbHR5ID0gLTI7XG5jb25zdCBpc1NwbGF0ID0gKHM6IHN0cmluZykgPT4gcyA9PT0gXCIqXCI7XG5cbmZ1bmN0aW9uIGNvbXB1dGVTY29yZShwYXRoOiBzdHJpbmcsIGluZGV4OiBib29sZWFuIHwgdW5kZWZpbmVkKTogbnVtYmVyIHtcbiAgbGV0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi9cIik7XG4gIGxldCBpbml0aWFsU2NvcmUgPSBzZWdtZW50cy5sZW5ndGg7XG4gIGlmIChzZWdtZW50cy5zb21lKGlzU3BsYXQpKSB7XG4gICAgaW5pdGlhbFNjb3JlICs9IHNwbGF0UGVuYWx0eTtcbiAgfVxuXG4gIGlmIChpbmRleCkge1xuICAgIGluaXRpYWxTY29yZSArPSBpbmRleFJvdXRlVmFsdWU7XG4gIH1cblxuICByZXR1cm4gc2VnbWVudHNcbiAgICAuZmlsdGVyKChzKSA9PiAhaXNTcGxhdChzKSlcbiAgICAucmVkdWNlKFxuICAgICAgKHNjb3JlLCBzZWdtZW50KSA9PlxuICAgICAgICBzY29yZSArXG4gICAgICAgIChwYXJhbVJlLnRlc3Qoc2VnbWVudClcbiAgICAgICAgICA/IGR5bmFtaWNTZWdtZW50VmFsdWVcbiAgICAgICAgICA6IHNlZ21lbnQgPT09IFwiXCJcbiAgICAgICAgICA/IGVtcHR5U2VnbWVudFZhbHVlXG4gICAgICAgICAgOiBzdGF0aWNTZWdtZW50VmFsdWUpLFxuICAgICAgaW5pdGlhbFNjb3JlXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUluZGV4ZXMoYTogbnVtYmVyW10sIGI6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgbGV0IHNpYmxpbmdzID1cbiAgICBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5zbGljZSgwLCAtMSkuZXZlcnkoKG4sIGkpID0+IG4gPT09IGJbaV0pO1xuXG4gIHJldHVybiBzaWJsaW5nc1xuICAgID8gLy8gSWYgdHdvIHJvdXRlcyBhcmUgc2libGluZ3MsIHdlIHNob3VsZCB0cnkgdG8gbWF0Y2ggdGhlIGVhcmxpZXIgc2libGluZ1xuICAgICAgLy8gZmlyc3QuIFRoaXMgYWxsb3dzIHBlb3BsZSB0byBoYXZlIGZpbmUtZ3JhaW5lZCBjb250cm9sIG92ZXIgdGhlIG1hdGNoaW5nXG4gICAgICAvLyBiZWhhdmlvciBieSBzaW1wbHkgcHV0dGluZyByb3V0ZXMgd2l0aCBpZGVudGljYWwgcGF0aHMgaW4gdGhlIG9yZGVyIHRoZXlcbiAgICAgIC8vIHdhbnQgdGhlbSB0cmllZC5cbiAgICAgIGFbYS5sZW5ndGggLSAxXSAtIGJbYi5sZW5ndGggLSAxXVxuICAgIDogLy8gT3RoZXJ3aXNlLCBpdCBkb2Vzbid0IHJlYWxseSBtYWtlIHNlbnNlIHRvIHJhbmsgbm9uLXNpYmxpbmdzIGJ5IGluZGV4LFxuICAgICAgLy8gc28gdGhleSBzb3J0IGVxdWFsbHkuXG4gICAgICAwO1xufVxuXG5mdW5jdGlvbiBtYXRjaFJvdXRlQnJhbmNoPFxuICBQYXJhbUtleSBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcbiAgUm91dGVPYmplY3RUeXBlIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU9iamVjdCA9IEFnbm9zdGljUm91dGVPYmplY3Rcbj4oXG4gIGJyYW5jaDogUm91dGVCcmFuY2g8Um91dGVPYmplY3RUeXBlPixcbiAgcGF0aG5hbWU6IHN0cmluZyxcbiAgYWxsb3dQYXJ0aWFsID0gZmFsc2Vcbik6IEFnbm9zdGljUm91dGVNYXRjaDxQYXJhbUtleSwgUm91dGVPYmplY3RUeXBlPltdIHwgbnVsbCB7XG4gIGxldCB7IHJvdXRlc01ldGEgfSA9IGJyYW5jaDtcblxuICBsZXQgbWF0Y2hlZFBhcmFtcyA9IHt9O1xuICBsZXQgbWF0Y2hlZFBhdGhuYW1lID0gXCIvXCI7XG4gIGxldCBtYXRjaGVzOiBBZ25vc3RpY1JvdXRlTWF0Y2g8UGFyYW1LZXksIFJvdXRlT2JqZWN0VHlwZT5bXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdXRlc01ldGEubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgbWV0YSA9IHJvdXRlc01ldGFbaV07XG4gICAgbGV0IGVuZCA9IGkgPT09IHJvdXRlc01ldGEubGVuZ3RoIC0gMTtcbiAgICBsZXQgcmVtYWluaW5nUGF0aG5hbWUgPVxuICAgICAgbWF0Y2hlZFBhdGhuYW1lID09PSBcIi9cIlxuICAgICAgICA/IHBhdGhuYW1lXG4gICAgICAgIDogcGF0aG5hbWUuc2xpY2UobWF0Y2hlZFBhdGhuYW1lLmxlbmd0aCkgfHwgXCIvXCI7XG4gICAgbGV0IG1hdGNoID0gbWF0Y2hQYXRoKFxuICAgICAgeyBwYXRoOiBtZXRhLnJlbGF0aXZlUGF0aCwgY2FzZVNlbnNpdGl2ZTogbWV0YS5jYXNlU2Vuc2l0aXZlLCBlbmQgfSxcbiAgICAgIHJlbWFpbmluZ1BhdGhuYW1lXG4gICAgKTtcblxuICAgIGxldCByb3V0ZSA9IG1ldGEucm91dGU7XG5cbiAgICBpZiAoXG4gICAgICAhbWF0Y2ggJiZcbiAgICAgIGVuZCAmJlxuICAgICAgYWxsb3dQYXJ0aWFsICYmXG4gICAgICAhcm91dGVzTWV0YVtyb3V0ZXNNZXRhLmxlbmd0aCAtIDFdLnJvdXRlLmluZGV4XG4gICAgKSB7XG4gICAgICBtYXRjaCA9IG1hdGNoUGF0aChcbiAgICAgICAge1xuICAgICAgICAgIHBhdGg6IG1ldGEucmVsYXRpdmVQYXRoLFxuICAgICAgICAgIGNhc2VTZW5zaXRpdmU6IG1ldGEuY2FzZVNlbnNpdGl2ZSxcbiAgICAgICAgICBlbmQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICByZW1haW5pbmdQYXRobmFtZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKG1hdGNoZWRQYXJhbXMsIG1hdGNoLnBhcmFtcyk7XG5cbiAgICBtYXRjaGVzLnB1c2goe1xuICAgICAgLy8gVE9ETzogQ2FuIHRoaXMgYXMgYmUgYXZvaWRlZD9cbiAgICAgIHBhcmFtczogbWF0Y2hlZFBhcmFtcyBhcyBQYXJhbXM8UGFyYW1LZXk+LFxuICAgICAgcGF0aG5hbWU6IGpvaW5QYXRocyhbbWF0Y2hlZFBhdGhuYW1lLCBtYXRjaC5wYXRobmFtZV0pLFxuICAgICAgcGF0aG5hbWVCYXNlOiBub3JtYWxpemVQYXRobmFtZShcbiAgICAgICAgam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lQmFzZV0pXG4gICAgICApLFxuICAgICAgcm91dGUsXG4gICAgfSk7XG5cbiAgICBpZiAobWF0Y2gucGF0aG5hbWVCYXNlICE9PSBcIi9cIikge1xuICAgICAgbWF0Y2hlZFBhdGhuYW1lID0gam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lQmFzZV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtYXRjaGVzO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwYXRoIHdpdGggcGFyYW1zIGludGVycG9sYXRlZC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3V0aWxzL2dlbmVyYXRlLXBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUGF0aDxQYXRoIGV4dGVuZHMgc3RyaW5nPihcbiAgb3JpZ2luYWxQYXRoOiBQYXRoLFxuICBwYXJhbXM6IHtcbiAgICBba2V5IGluIFBhdGhQYXJhbTxQYXRoPl06IHN0cmluZyB8IG51bGw7XG4gIH0gPSB7fSBhcyBhbnlcbik6IHN0cmluZyB7XG4gIGxldCBwYXRoOiBzdHJpbmcgPSBvcmlnaW5hbFBhdGg7XG4gIGlmIChwYXRoLmVuZHNXaXRoKFwiKlwiKSAmJiBwYXRoICE9PSBcIipcIiAmJiAhcGF0aC5lbmRzV2l0aChcIi8qXCIpKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgYFJvdXRlIHBhdGggXCIke3BhdGh9XCIgd2lsbCBiZSB0cmVhdGVkIGFzIGlmIGl0IHdlcmUgYCArXG4gICAgICAgIGBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIiBiZWNhdXNlIHRoZSBcXGAqXFxgIGNoYXJhY3RlciBtdXN0IGAgK1xuICAgICAgICBgYWx3YXlzIGZvbGxvdyBhIFxcYC9cXGAgaW4gdGhlIHBhdHRlcm4uIFRvIGdldCByaWQgb2YgdGhpcyB3YXJuaW5nLCBgICtcbiAgICAgICAgYHBsZWFzZSBjaGFuZ2UgdGhlIHJvdXRlIHBhdGggdG8gXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIuYFxuICAgICk7XG4gICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIikgYXMgUGF0aDtcbiAgfVxuXG4gIC8vIGVuc3VyZSBgL2AgaXMgYWRkZWQgYXQgdGhlIGJlZ2lubmluZyBpZiB0aGUgcGF0aCBpcyBhYnNvbHV0ZVxuICBjb25zdCBwcmVmaXggPSBwYXRoLnN0YXJ0c1dpdGgoXCIvXCIpID8gXCIvXCIgOiBcIlwiO1xuXG4gIGNvbnN0IHN0cmluZ2lmeSA9IChwOiBhbnkpID0+XG4gICAgcCA9PSBudWxsID8gXCJcIiA6IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8gcCA6IFN0cmluZyhwKTtcblxuICBjb25zdCBzZWdtZW50cyA9IHBhdGhcbiAgICAuc3BsaXQoL1xcLysvKVxuICAgIC5tYXAoKHNlZ21lbnQsIGluZGV4LCBhcnJheSkgPT4ge1xuICAgICAgY29uc3QgaXNMYXN0U2VnbWVudCA9IGluZGV4ID09PSBhcnJheS5sZW5ndGggLSAxO1xuXG4gICAgICAvLyBvbmx5IGFwcGx5IHRoZSBzcGxhdCBpZiBpdCdzIHRoZSBsYXN0IHNlZ21lbnRcbiAgICAgIGlmIChpc0xhc3RTZWdtZW50ICYmIHNlZ21lbnQgPT09IFwiKlwiKSB7XG4gICAgICAgIGNvbnN0IHN0YXIgPSBcIipcIiBhcyBQYXRoUGFyYW08UGF0aD47XG4gICAgICAgIC8vIEFwcGx5IHRoZSBzcGxhdFxuICAgICAgICByZXR1cm4gc3RyaW5naWZ5KHBhcmFtc1tzdGFyXSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleU1hdGNoID0gc2VnbWVudC5tYXRjaCgvXjooW1xcdy1dKykoXFw/PykkLyk7XG4gICAgICBpZiAoa2V5TWF0Y2gpIHtcbiAgICAgICAgY29uc3QgWywga2V5LCBvcHRpb25hbF0gPSBrZXlNYXRjaDtcbiAgICAgICAgbGV0IHBhcmFtID0gcGFyYW1zW2tleSBhcyBQYXRoUGFyYW08UGF0aD5dO1xuICAgICAgICBpbnZhcmlhbnQob3B0aW9uYWwgPT09IFwiP1wiIHx8IHBhcmFtICE9IG51bGwsIGBNaXNzaW5nIFwiOiR7a2V5fVwiIHBhcmFtYCk7XG4gICAgICAgIHJldHVybiBzdHJpbmdpZnkocGFyYW0pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgYW55IG9wdGlvbmFsIG1hcmtlcnMgZnJvbSBvcHRpb25hbCBzdGF0aWMgc2VnbWVudHNcbiAgICAgIHJldHVybiBzZWdtZW50LnJlcGxhY2UoL1xcPyQvZywgXCJcIik7XG4gICAgfSlcbiAgICAvLyBSZW1vdmUgZW1wdHkgc2VnbWVudHNcbiAgICAuZmlsdGVyKChzZWdtZW50KSA9PiAhIXNlZ21lbnQpO1xuXG4gIHJldHVybiBwcmVmaXggKyBzZWdtZW50cy5qb2luKFwiL1wiKTtcbn1cblxuLyoqXG4gKiBBIFBhdGhQYXR0ZXJuIGlzIHVzZWQgdG8gbWF0Y2ggb24gc29tZSBwb3J0aW9uIG9mIGEgVVJMIHBhdGhuYW1lLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhdGhQYXR0ZXJuPFBhdGggZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmc+IHtcbiAgLyoqXG4gICAqIEEgc3RyaW5nIHRvIG1hdGNoIGFnYWluc3QgYSBVUkwgcGF0aG5hbWUuIE1heSBjb250YWluIGA6aWRgLXN0eWxlIHNlZ21lbnRzXG4gICAqIHRvIGluZGljYXRlIHBsYWNlaG9sZGVycyBmb3IgZHluYW1pYyBwYXJhbWV0ZXJzLiBNYXkgYWxzbyBlbmQgd2l0aCBgLypgIHRvXG4gICAqIGluZGljYXRlIG1hdGNoaW5nIHRoZSByZXN0IG9mIHRoZSBVUkwgcGF0aG5hbWUuXG4gICAqL1xuICBwYXRoOiBQYXRoO1xuICAvKipcbiAgICogU2hvdWxkIGJlIGB0cnVlYCBpZiB0aGUgc3RhdGljIHBvcnRpb25zIG9mIHRoZSBgcGF0aGAgc2hvdWxkIGJlIG1hdGNoZWQgaW5cbiAgICogdGhlIHNhbWUgY2FzZS5cbiAgICovXG4gIGNhc2VTZW5zaXRpdmU/OiBib29sZWFuO1xuICAvKipcbiAgICogU2hvdWxkIGJlIGB0cnVlYCBpZiB0aGlzIHBhdHRlcm4gc2hvdWxkIG1hdGNoIHRoZSBlbnRpcmUgVVJMIHBhdGhuYW1lLlxuICAgKi9cbiAgZW5kPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBBIFBhdGhNYXRjaCBjb250YWlucyBpbmZvIGFib3V0IGhvdyBhIFBhdGhQYXR0ZXJuIG1hdGNoZWQgb24gYSBVUkwgcGF0aG5hbWUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGF0aE1hdGNoPFBhcmFtS2V5IGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nPiB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZXMgYW5kIHZhbHVlcyBvZiBkeW5hbWljIHBhcmFtZXRlcnMgaW4gdGhlIFVSTC5cbiAgICovXG4gIHBhcmFtczogUGFyYW1zPFBhcmFtS2V5PjtcbiAgLyoqXG4gICAqIFRoZSBwb3J0aW9uIG9mIHRoZSBVUkwgcGF0aG5hbWUgdGhhdCB3YXMgbWF0Y2hlZC5cbiAgICovXG4gIHBhdGhuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgcG9ydGlvbiBvZiB0aGUgVVJMIHBhdGhuYW1lIHRoYXQgd2FzIG1hdGNoZWQgYmVmb3JlIGNoaWxkIHJvdXRlcy5cbiAgICovXG4gIHBhdGhuYW1lQmFzZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHBhdHRlcm4gdGhhdCB3YXMgdXNlZCB0byBtYXRjaC5cbiAgICovXG4gIHBhdHRlcm46IFBhdGhQYXR0ZXJuO1xufVxuXG50eXBlIE11dGFibGU8VD4gPSB7XG4gIC1yZWFkb25seSBbUCBpbiBrZXlvZiBUXTogVFtQXTtcbn07XG5cbi8qKlxuICogUGVyZm9ybXMgcGF0dGVybiBtYXRjaGluZyBvbiBhIFVSTCBwYXRobmFtZSBhbmQgcmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dFxuICogdGhlIG1hdGNoLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXRpbHMvbWF0Y2gtcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hQYXRoPFxuICBQYXJhbUtleSBleHRlbmRzIFBhcmFtUGFyc2VLZXk8UGF0aD4sXG4gIFBhdGggZXh0ZW5kcyBzdHJpbmdcbj4oXG4gIHBhdHRlcm46IFBhdGhQYXR0ZXJuPFBhdGg+IHwgUGF0aCxcbiAgcGF0aG5hbWU6IHN0cmluZ1xuKTogUGF0aE1hdGNoPFBhcmFtS2V5PiB8IG51bGwge1xuICBpZiAodHlwZW9mIHBhdHRlcm4gPT09IFwic3RyaW5nXCIpIHtcbiAgICBwYXR0ZXJuID0geyBwYXRoOiBwYXR0ZXJuLCBjYXNlU2Vuc2l0aXZlOiBmYWxzZSwgZW5kOiB0cnVlIH07XG4gIH1cblxuICBsZXQgW21hdGNoZXIsIGNvbXBpbGVkUGFyYW1zXSA9IGNvbXBpbGVQYXRoKFxuICAgIHBhdHRlcm4ucGF0aCxcbiAgICBwYXR0ZXJuLmNhc2VTZW5zaXRpdmUsXG4gICAgcGF0dGVybi5lbmRcbiAgKTtcblxuICBsZXQgbWF0Y2ggPSBwYXRobmFtZS5tYXRjaChtYXRjaGVyKTtcbiAgaWYgKCFtYXRjaCkgcmV0dXJuIG51bGw7XG5cbiAgbGV0IG1hdGNoZWRQYXRobmFtZSA9IG1hdGNoWzBdO1xuICBsZXQgcGF0aG5hbWVCYXNlID0gbWF0Y2hlZFBhdGhuYW1lLnJlcGxhY2UoLyguKVxcLyskLywgXCIkMVwiKTtcbiAgbGV0IGNhcHR1cmVHcm91cHMgPSBtYXRjaC5zbGljZSgxKTtcbiAgbGV0IHBhcmFtczogUGFyYW1zID0gY29tcGlsZWRQYXJhbXMucmVkdWNlPE11dGFibGU8UGFyYW1zPj4oXG4gICAgKG1lbW8sIHsgcGFyYW1OYW1lLCBpc09wdGlvbmFsIH0sIGluZGV4KSA9PiB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGNvbXB1dGUgdGhlIHBhdGhuYW1lQmFzZSBoZXJlIHVzaW5nIHRoZSByYXcgc3BsYXQgdmFsdWVcbiAgICAgIC8vIGluc3RlYWQgb2YgdXNpbmcgcGFyYW1zW1wiKlwiXSBsYXRlciBiZWNhdXNlIGl0IHdpbGwgYmUgZGVjb2RlZCB0aGVuXG4gICAgICBpZiAocGFyYW1OYW1lID09PSBcIipcIikge1xuICAgICAgICBsZXQgc3BsYXRWYWx1ZSA9IGNhcHR1cmVHcm91cHNbaW5kZXhdIHx8IFwiXCI7XG4gICAgICAgIHBhdGhuYW1lQmFzZSA9IG1hdGNoZWRQYXRobmFtZVxuICAgICAgICAgIC5zbGljZSgwLCBtYXRjaGVkUGF0aG5hbWUubGVuZ3RoIC0gc3BsYXRWYWx1ZS5sZW5ndGgpXG4gICAgICAgICAgLnJlcGxhY2UoLyguKVxcLyskLywgXCIkMVwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFsdWUgPSBjYXB0dXJlR3JvdXBzW2luZGV4XTtcbiAgICAgIGlmIChpc09wdGlvbmFsICYmICF2YWx1ZSkge1xuICAgICAgICBtZW1vW3BhcmFtTmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW1vW3BhcmFtTmFtZV0gPSAodmFsdWUgfHwgXCJcIikucmVwbGFjZSgvJTJGL2csIFwiL1wiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sXG4gICAge31cbiAgKTtcblxuICByZXR1cm4ge1xuICAgIHBhcmFtcyxcbiAgICBwYXRobmFtZTogbWF0Y2hlZFBhdGhuYW1lLFxuICAgIHBhdGhuYW1lQmFzZSxcbiAgICBwYXR0ZXJuLFxuICB9O1xufVxuXG50eXBlIENvbXBpbGVkUGF0aFBhcmFtID0geyBwYXJhbU5hbWU6IHN0cmluZzsgaXNPcHRpb25hbD86IGJvb2xlYW4gfTtcblxuZnVuY3Rpb24gY29tcGlsZVBhdGgoXG4gIHBhdGg6IHN0cmluZyxcbiAgY2FzZVNlbnNpdGl2ZSA9IGZhbHNlLFxuICBlbmQgPSB0cnVlXG4pOiBbUmVnRXhwLCBDb21waWxlZFBhdGhQYXJhbVtdXSB7XG4gIHdhcm5pbmcoXG4gICAgcGF0aCA9PT0gXCIqXCIgfHwgIXBhdGguZW5kc1dpdGgoXCIqXCIpIHx8IHBhdGguZW5kc1dpdGgoXCIvKlwiKSxcbiAgICBgUm91dGUgcGF0aCBcIiR7cGF0aH1cIiB3aWxsIGJlIHRyZWF0ZWQgYXMgaWYgaXQgd2VyZSBgICtcbiAgICAgIGBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIiBiZWNhdXNlIHRoZSBcXGAqXFxgIGNoYXJhY3RlciBtdXN0IGAgK1xuICAgICAgYGFsd2F5cyBmb2xsb3cgYSBcXGAvXFxgIGluIHRoZSBwYXR0ZXJuLiBUbyBnZXQgcmlkIG9mIHRoaXMgd2FybmluZywgYCArXG4gICAgICBgcGxlYXNlIGNoYW5nZSB0aGUgcm91dGUgcGF0aCB0byBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIi5gXG4gICk7XG5cbiAgbGV0IHBhcmFtczogQ29tcGlsZWRQYXRoUGFyYW1bXSA9IFtdO1xuICBsZXQgcmVnZXhwU291cmNlID1cbiAgICBcIl5cIiArXG4gICAgcGF0aFxuICAgICAgLnJlcGxhY2UoL1xcLypcXCo/JC8sIFwiXCIpIC8vIElnbm9yZSB0cmFpbGluZyAvIGFuZCAvKiwgd2UnbGwgaGFuZGxlIGl0IGJlbG93XG4gICAgICAucmVwbGFjZSgvXlxcLyovLCBcIi9cIikgLy8gTWFrZSBzdXJlIGl0IGhhcyBhIGxlYWRpbmcgL1xuICAgICAgLnJlcGxhY2UoL1tcXFxcLiorXiR7fXwoKVtcXF1dL2csIFwiXFxcXCQmXCIpIC8vIEVzY2FwZSBzcGVjaWFsIHJlZ2V4IGNoYXJzXG4gICAgICAucmVwbGFjZShcbiAgICAgICAgL1xcLzooW1xcdy1dKykoXFw/KT8vZyxcbiAgICAgICAgKF86IHN0cmluZywgcGFyYW1OYW1lOiBzdHJpbmcsIGlzT3B0aW9uYWwpID0+IHtcbiAgICAgICAgICBwYXJhbXMucHVzaCh7IHBhcmFtTmFtZSwgaXNPcHRpb25hbDogaXNPcHRpb25hbCAhPSBudWxsIH0pO1xuICAgICAgICAgIHJldHVybiBpc09wdGlvbmFsID8gXCIvPyhbXlxcXFwvXSspP1wiIDogXCIvKFteXFxcXC9dKylcIjtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICBpZiAocGF0aC5lbmRzV2l0aChcIipcIikpIHtcbiAgICBwYXJhbXMucHVzaCh7IHBhcmFtTmFtZTogXCIqXCIgfSk7XG4gICAgcmVnZXhwU291cmNlICs9XG4gICAgICBwYXRoID09PSBcIipcIiB8fCBwYXRoID09PSBcIi8qXCJcbiAgICAgICAgPyBcIiguKikkXCIgLy8gQWxyZWFkeSBtYXRjaGVkIHRoZSBpbml0aWFsIC8sIGp1c3QgbWF0Y2ggdGhlIHJlc3RcbiAgICAgICAgOiBcIig/OlxcXFwvKC4rKXxcXFxcLyopJFwiOyAvLyBEb24ndCBpbmNsdWRlIHRoZSAvIGluIHBhcmFtc1tcIipcIl1cbiAgfSBlbHNlIGlmIChlbmQpIHtcbiAgICAvLyBXaGVuIG1hdGNoaW5nIHRvIHRoZSBlbmQsIGlnbm9yZSB0cmFpbGluZyBzbGFzaGVzXG4gICAgcmVnZXhwU291cmNlICs9IFwiXFxcXC8qJFwiO1xuICB9IGVsc2UgaWYgKHBhdGggIT09IFwiXCIgJiYgcGF0aCAhPT0gXCIvXCIpIHtcbiAgICAvLyBJZiBvdXIgcGF0aCBpcyBub24tZW1wdHkgYW5kIGNvbnRhaW5zIGFueXRoaW5nIGJleW9uZCBhbiBpbml0aWFsIHNsYXNoLFxuICAgIC8vIHRoZW4gd2UgaGF2ZSBfc29tZV8gZm9ybSBvZiBwYXRoIGluIG91ciByZWdleCwgc28gd2Ugc2hvdWxkIGV4cGVjdCB0b1xuICAgIC8vIG1hdGNoIG9ubHkgaWYgd2UgZmluZCB0aGUgZW5kIG9mIHRoaXMgcGF0aCBzZWdtZW50LiAgTG9vayBmb3IgYW4gb3B0aW9uYWxcbiAgICAvLyBub24tY2FwdHVyZWQgdHJhaWxpbmcgc2xhc2ggKHRvIG1hdGNoIGEgcG9ydGlvbiBvZiB0aGUgVVJMKSBvciB0aGUgZW5kXG4gICAgLy8gb2YgdGhlIHBhdGggKGlmIHdlJ3ZlIG1hdGNoZWQgdG8gdGhlIGVuZCkuICBXZSB1c2VkIHRvIGRvIHRoaXMgd2l0aCBhXG4gICAgLy8gd29yZCBib3VuZGFyeSBidXQgdGhhdCBnaXZlcyBmYWxzZSBwb3NpdGl2ZXMgb24gcm91dGVzIGxpa2VcbiAgICAvLyAvdXNlci1wcmVmZXJlbmNlcyBzaW5jZSBgLWAgY291bnRzIGFzIGEgd29yZCBib3VuZGFyeS5cbiAgICByZWdleHBTb3VyY2UgKz0gXCIoPzooPz1cXFxcL3wkKSlcIjtcbiAgfSBlbHNlIHtcbiAgICAvLyBOb3RoaW5nIHRvIG1hdGNoIGZvciBcIlwiIG9yIFwiL1wiXG4gIH1cblxuICBsZXQgbWF0Y2hlciA9IG5ldyBSZWdFeHAocmVnZXhwU291cmNlLCBjYXNlU2Vuc2l0aXZlID8gdW5kZWZpbmVkIDogXCJpXCIpO1xuXG4gIHJldHVybiBbbWF0Y2hlciwgcGFyYW1zXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZVBhdGgodmFsdWU6IHN0cmluZykge1xuICB0cnkge1xuICAgIHJldHVybiB2YWx1ZVxuICAgICAgLnNwbGl0KFwiL1wiKVxuICAgICAgLm1hcCgodikgPT4gZGVjb2RlVVJJQ29tcG9uZW50KHYpLnJlcGxhY2UoL1xcLy9nLCBcIiUyRlwiKSlcbiAgICAgIC5qb2luKFwiL1wiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBgVGhlIFVSTCBwYXRoIFwiJHt2YWx1ZX1cIiBjb3VsZCBub3QgYmUgZGVjb2RlZCBiZWNhdXNlIGl0IGlzIGlzIGEgYCArXG4gICAgICAgIGBtYWxmb3JtZWQgVVJMIHNlZ21lbnQuIFRoaXMgaXMgcHJvYmFibHkgZHVlIHRvIGEgYmFkIHBlcmNlbnQgYCArXG4gICAgICAgIGBlbmNvZGluZyAoJHtlcnJvcn0pLmBcbiAgICApO1xuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUoXG4gIHBhdGhuYW1lOiBzdHJpbmcsXG4gIGJhc2VuYW1lOiBzdHJpbmdcbik6IHN0cmluZyB8IG51bGwge1xuICBpZiAoYmFzZW5hbWUgPT09IFwiL1wiKSByZXR1cm4gcGF0aG5hbWU7XG5cbiAgaWYgKCFwYXRobmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoYmFzZW5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIFdlIHdhbnQgdG8gbGVhdmUgdHJhaWxpbmcgc2xhc2ggYmVoYXZpb3IgaW4gdGhlIHVzZXIncyBjb250cm9sLCBzbyBpZiB0aGV5XG4gIC8vIHNwZWNpZnkgYSBiYXNlbmFtZSB3aXRoIGEgdHJhaWxpbmcgc2xhc2gsIHdlIHNob3VsZCBzdXBwb3J0IGl0XG4gIGxldCBzdGFydEluZGV4ID0gYmFzZW5hbWUuZW5kc1dpdGgoXCIvXCIpXG4gICAgPyBiYXNlbmFtZS5sZW5ndGggLSAxXG4gICAgOiBiYXNlbmFtZS5sZW5ndGg7XG4gIGxldCBuZXh0Q2hhciA9IHBhdGhuYW1lLmNoYXJBdChzdGFydEluZGV4KTtcbiAgaWYgKG5leHRDaGFyICYmIG5leHRDaGFyICE9PSBcIi9cIikge1xuICAgIC8vIHBhdGhuYW1lIGRvZXMgbm90IHN0YXJ0IHdpdGggYmFzZW5hbWUvXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gcGF0aG5hbWUuc2xpY2Uoc3RhcnRJbmRleCkgfHwgXCIvXCI7XG59XG5cbmNvbnN0IEFCU09MVVRFX1VSTF9SRUdFWCA9IC9eKD86W2Etel1bYS16MC05Ky4tXSo6fFxcL1xcLykvaTtcbmV4cG9ydCBjb25zdCBpc0Fic29sdXRlVXJsID0gKHVybDogc3RyaW5nKSA9PiBBQlNPTFVURV9VUkxfUkVHRVgudGVzdCh1cmwpO1xuXG4vKipcbiAqIFJldHVybnMgYSByZXNvbHZlZCBwYXRoIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgZ2l2ZW4gcGF0aG5hbWUuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91dGlscy9yZXNvbHZlLXBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXRoKHRvOiBUbywgZnJvbVBhdGhuYW1lID0gXCIvXCIpOiBQYXRoIHtcbiAgbGV0IHtcbiAgICBwYXRobmFtZTogdG9QYXRobmFtZSxcbiAgICBzZWFyY2ggPSBcIlwiLFxuICAgIGhhc2ggPSBcIlwiLFxuICB9ID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHRvKSA6IHRvO1xuXG4gIGxldCBwYXRobmFtZTogc3RyaW5nO1xuICBpZiAodG9QYXRobmFtZSkge1xuICAgIGlmIChpc0Fic29sdXRlVXJsKHRvUGF0aG5hbWUpKSB7XG4gICAgICBwYXRobmFtZSA9IHRvUGF0aG5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0b1BhdGhuYW1lLmluY2x1ZGVzKFwiLy9cIikpIHtcbiAgICAgICAgbGV0IG9sZFBhdGhuYW1lID0gdG9QYXRobmFtZTtcbiAgICAgICAgdG9QYXRobmFtZSA9IHRvUGF0aG5hbWUucmVwbGFjZSgvXFwvXFwvKy9nLCBcIi9cIik7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgYFBhdGhuYW1lcyBjYW5ub3QgaGF2ZSBlbWJlZGRlZCBkb3VibGUgc2xhc2hlcyAtIG5vcm1hbGl6aW5nIGAgK1xuICAgICAgICAgICAgYCR7b2xkUGF0aG5hbWV9IC0+ICR7dG9QYXRobmFtZX1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodG9QYXRobmFtZS5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBwYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZSh0b1BhdGhuYW1lLnN1YnN0cmluZygxKSwgXCIvXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aG5hbWUgPSByZXNvbHZlUGF0aG5hbWUodG9QYXRobmFtZSwgZnJvbVBhdGhuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGF0aG5hbWUgPSBmcm9tUGF0aG5hbWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lLFxuICAgIHNlYXJjaDogbm9ybWFsaXplU2VhcmNoKHNlYXJjaCksXG4gICAgaGFzaDogbm9ybWFsaXplSGFzaChoYXNoKSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVBhdGhuYW1lKHJlbGF0aXZlUGF0aDogc3RyaW5nLCBmcm9tUGF0aG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGxldCBzZWdtZW50cyA9IGZyb21QYXRobmFtZS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpLnNwbGl0KFwiL1wiKTtcbiAgbGV0IHJlbGF0aXZlU2VnbWVudHMgPSByZWxhdGl2ZVBhdGguc3BsaXQoXCIvXCIpO1xuXG4gIHJlbGF0aXZlU2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudCkgPT4ge1xuICAgIGlmIChzZWdtZW50ID09PSBcIi4uXCIpIHtcbiAgICAgIC8vIEtlZXAgdGhlIHJvb3QgXCJcIiBzZWdtZW50IHNvIHRoZSBwYXRobmFtZSBzdGFydHMgYXQgL1xuICAgICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA+IDEpIHNlZ21lbnRzLnBvcCgpO1xuICAgIH0gZWxzZSBpZiAoc2VnbWVudCAhPT0gXCIuXCIpIHtcbiAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gc2VnbWVudHMubGVuZ3RoID4gMSA/IHNlZ21lbnRzLmpvaW4oXCIvXCIpIDogXCIvXCI7XG59XG5cbmZ1bmN0aW9uIGdldEludmFsaWRQYXRoRXJyb3IoXG4gIGNoYXI6IHN0cmluZyxcbiAgZmllbGQ6IHN0cmluZyxcbiAgZGVzdDogc3RyaW5nLFxuICBwYXRoOiBQYXJ0aWFsPFBhdGg+XG4pIHtcbiAgcmV0dXJuIChcbiAgICBgQ2Fubm90IGluY2x1ZGUgYSAnJHtjaGFyfScgY2hhcmFjdGVyIGluIGEgbWFudWFsbHkgc3BlY2lmaWVkIGAgK1xuICAgIGBcXGB0by4ke2ZpZWxkfVxcYCBmaWVsZCBbJHtKU09OLnN0cmluZ2lmeShcbiAgICAgIHBhdGhcbiAgICApfV0uICBQbGVhc2Ugc2VwYXJhdGUgaXQgb3V0IHRvIHRoZSBgICtcbiAgICBgXFxgdG8uJHtkZXN0fVxcYCBmaWVsZC4gQWx0ZXJuYXRpdmVseSB5b3UgbWF5IHByb3ZpZGUgdGhlIGZ1bGwgcGF0aCBhcyBgICtcbiAgICBgYSBzdHJpbmcgaW4gPExpbmsgdG89XCIuLi5cIj4gYW5kIHRoZSByb3V0ZXIgd2lsbCBwYXJzZSBpdCBmb3IgeW91LmBcbiAgKTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIFdoZW4gcHJvY2Vzc2luZyByZWxhdGl2ZSBuYXZpZ2F0aW9uIHdlIHdhbnQgdG8gaWdub3JlIGFuY2VzdG9yIHJvdXRlcyB0aGF0XG4gKiBkbyBub3QgY29udHJpYnV0ZSB0byB0aGUgcGF0aCwgc3VjaCB0aGF0IGluZGV4L3BhdGhsZXNzIGxheW91dCByb3V0ZXMgZG9uJ3RcbiAqIGludGVyZmVyZS5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgd2hlbiBtb3ZpbmcgYSByb3V0ZSBlbGVtZW50IGludG8gYW4gaW5kZXggcm91dGUgYW5kL29yIGFcbiAqIHBhdGhsZXNzIGxheW91dCByb3V0ZSwgcmVsYXRpdmUgbGluayBiZWhhdmlvciBjb250YWluZWQgd2l0aGluIHNob3VsZCBzdGF5XG4gKiB0aGUgc2FtZS4gIEJvdGggb2YgdGhlIGZvbGxvd2luZyBleGFtcGxlcyBzaG91bGQgbGluayBiYWNrIHRvIHRoZSByb290OlxuICpcbiAqICAgPFJvdXRlIHBhdGg9XCIvXCI+XG4gKiAgICAgPFJvdXRlIHBhdGg9XCJhY2NvdW50c1wiIGVsZW1lbnQ9ezxMaW5rIHRvPVwiLi5cIn0+XG4gKiAgIDwvUm91dGU+XG4gKlxuICogICA8Um91dGUgcGF0aD1cIi9cIj5cbiAqICAgICA8Um91dGUgcGF0aD1cImFjY291bnRzXCI+XG4gKiAgICAgICA8Um91dGUgZWxlbWVudD17PEFjY291bnRzTGF5b3V0IC8+fT4gICAgICAgLy8gPC0tIERvZXMgbm90IGNvbnRyaWJ1dGVcbiAqICAgICAgICAgPFJvdXRlIGluZGV4IGVsZW1lbnQ9ezxMaW5rIHRvPVwiLi5cIn0gLz4gIC8vIDwtLSBEb2VzIG5vdCBjb250cmlidXRlXG4gKiAgICAgICA8L1JvdXRlXG4gKiAgICAgPC9Sb3V0ZT5cbiAqICAgPC9Sb3V0ZT5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzPFxuICBUIGV4dGVuZHMgQWdub3N0aWNSb3V0ZU1hdGNoID0gQWdub3N0aWNSb3V0ZU1hdGNoXG4+KG1hdGNoZXM6IFRbXSkge1xuICByZXR1cm4gbWF0Y2hlcy5maWx0ZXIoXG4gICAgKG1hdGNoLCBpbmRleCkgPT5cbiAgICAgIGluZGV4ID09PSAwIHx8IChtYXRjaC5yb3V0ZS5wYXRoICYmIG1hdGNoLnJvdXRlLnBhdGgubGVuZ3RoID4gMClcbiAgKTtcbn1cblxuLy8gUmV0dXJuIHRoZSBhcnJheSBvZiBwYXRobmFtZXMgZm9yIHRoZSBjdXJyZW50IHJvdXRlIG1hdGNoZXMgLSB1c2VkIHRvXG4vLyBnZW5lcmF0ZSB0aGUgcm91dGVQYXRobmFtZXMgaW5wdXQgZm9yIHJlc29sdmVUbygpXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzb2x2ZVRvTWF0Y2hlczxcbiAgVCBleHRlbmRzIEFnbm9zdGljUm91dGVNYXRjaCA9IEFnbm9zdGljUm91dGVNYXRjaFxuPihtYXRjaGVzOiBUW10sIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBib29sZWFuKSB7XG4gIGxldCBwYXRoTWF0Y2hlcyA9IGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzKG1hdGNoZXMpO1xuXG4gIC8vIFdoZW4gdjdfcmVsYXRpdmVTcGxhdFBhdGggaXMgZW5hYmxlZCwgdXNlIHRoZSBmdWxsIHBhdGhuYW1lIGZvciB0aGUgbGVhZlxuICAvLyBtYXRjaCBzbyB3ZSBpbmNsdWRlIHNwbGF0IHZhbHVlcyBmb3IgXCIuXCIgbGlua3MuICBTZWU6XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vcmVhY3Qtcm91dGVyL2lzc3Vlcy8xMTA1MiNpc3N1ZWNvbW1lbnQtMTgzNjU4OTMyOVxuICBpZiAodjdfcmVsYXRpdmVTcGxhdFBhdGgpIHtcbiAgICByZXR1cm4gcGF0aE1hdGNoZXMubWFwKChtYXRjaCwgaWR4KSA9PlxuICAgICAgaWR4ID09PSBwYXRoTWF0Y2hlcy5sZW5ndGggLSAxID8gbWF0Y2gucGF0aG5hbWUgOiBtYXRjaC5wYXRobmFtZUJhc2VcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHBhdGhNYXRjaGVzLm1hcCgobWF0Y2gpID0+IG1hdGNoLnBhdGhuYW1lQmFzZSk7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVUbyhcbiAgdG9Bcmc6IFRvLFxuICByb3V0ZVBhdGhuYW1lczogc3RyaW5nW10sXG4gIGxvY2F0aW9uUGF0aG5hbWU6IHN0cmluZyxcbiAgaXNQYXRoUmVsYXRpdmUgPSBmYWxzZVxuKTogUGF0aCB7XG4gIGxldCB0bzogUGFydGlhbDxQYXRoPjtcbiAgaWYgKHR5cGVvZiB0b0FyZyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRvID0gcGFyc2VQYXRoKHRvQXJnKTtcbiAgfSBlbHNlIHtcbiAgICB0byA9IHsgLi4udG9BcmcgfTtcblxuICAgIGludmFyaWFudChcbiAgICAgICF0by5wYXRobmFtZSB8fCAhdG8ucGF0aG5hbWUuaW5jbHVkZXMoXCI/XCIpLFxuICAgICAgZ2V0SW52YWxpZFBhdGhFcnJvcihcIj9cIiwgXCJwYXRobmFtZVwiLCBcInNlYXJjaFwiLCB0bylcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICF0by5wYXRobmFtZSB8fCAhdG8ucGF0aG5hbWUuaW5jbHVkZXMoXCIjXCIpLFxuICAgICAgZ2V0SW52YWxpZFBhdGhFcnJvcihcIiNcIiwgXCJwYXRobmFtZVwiLCBcImhhc2hcIiwgdG8pXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdG8uc2VhcmNoIHx8ICF0by5zZWFyY2guaW5jbHVkZXMoXCIjXCIpLFxuICAgICAgZ2V0SW52YWxpZFBhdGhFcnJvcihcIiNcIiwgXCJzZWFyY2hcIiwgXCJoYXNoXCIsIHRvKVxuICAgICk7XG4gIH1cblxuICBsZXQgaXNFbXB0eVBhdGggPSB0b0FyZyA9PT0gXCJcIiB8fCB0by5wYXRobmFtZSA9PT0gXCJcIjtcbiAgbGV0IHRvUGF0aG5hbWUgPSBpc0VtcHR5UGF0aCA/IFwiL1wiIDogdG8ucGF0aG5hbWU7XG5cbiAgbGV0IGZyb206IHN0cmluZztcblxuICAvLyBSb3V0aW5nIGlzIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IHBhdGhuYW1lIGlmIGV4cGxpY2l0bHkgcmVxdWVzdGVkLlxuICAvL1xuICAvLyBJZiBhIHBhdGhuYW1lIGlzIGV4cGxpY2l0bHkgcHJvdmlkZWQgaW4gYHRvYCwgaXQgc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZVxuICAvLyByb3V0ZSBjb250ZXh0LiBUaGlzIGlzIGV4cGxhaW5lZCBpbiBgTm90ZSBvbiBgPExpbmsgdG8+YCB2YWx1ZXNgIGluIG91clxuICAvLyBtaWdyYXRpb24gZ3VpZGUgZnJvbSB2NSBhcyBhIG1lYW5zIG9mIGRpc2FtYmlndWF0aW9uIGJldHdlZW4gYHRvYCB2YWx1ZXNcbiAgLy8gdGhhdCBiZWdpbiB3aXRoIGAvYCBhbmQgdGhvc2UgdGhhdCBkbyBub3QuIEhvd2V2ZXIsIHRoaXMgaXMgcHJvYmxlbWF0aWMgZm9yXG4gIC8vIGB0b2AgdmFsdWVzIHRoYXQgZG8gbm90IHByb3ZpZGUgYSBwYXRobmFtZS4gYHRvYCBjYW4gc2ltcGx5IGJlIGEgc2VhcmNoIG9yXG4gIC8vIGhhc2ggc3RyaW5nLCBpbiB3aGljaCBjYXNlIHdlIHNob3VsZCBhc3N1bWUgdGhhdCB0aGUgbmF2aWdhdGlvbiBpcyByZWxhdGl2ZVxuICAvLyB0byB0aGUgY3VycmVudCBsb2NhdGlvbidzIHBhdGhuYW1lIGFuZCAqbm90KiB0aGUgcm91dGUgcGF0aG5hbWUuXG4gIGlmICh0b1BhdGhuYW1lID09IG51bGwpIHtcbiAgICBmcm9tID0gbG9jYXRpb25QYXRobmFtZTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgcm91dGVQYXRobmFtZUluZGV4ID0gcm91dGVQYXRobmFtZXMubGVuZ3RoIC0gMTtcblxuICAgIC8vIFdpdGggcmVsYXRpdmU9XCJyb3V0ZVwiICh0aGUgZGVmYXVsdCksIGVhY2ggbGVhZGluZyAuLiBzZWdtZW50IG1lYW5zXG4gICAgLy8gXCJnbyB1cCBvbmUgcm91dGVcIiBpbnN0ZWFkIG9mIFwiZ28gdXAgb25lIFVSTCBzZWdtZW50XCIuICBUaGlzIGlzIGEga2V5XG4gICAgLy8gZGlmZmVyZW5jZSBmcm9tIGhvdyA8YSBocmVmPiB3b3JrcyBhbmQgYSBtYWpvciByZWFzb24gd2UgY2FsbCB0aGlzIGFcbiAgICAvLyBcInRvXCIgdmFsdWUgaW5zdGVhZCBvZiBhIFwiaHJlZlwiLlxuICAgIGlmICghaXNQYXRoUmVsYXRpdmUgJiYgdG9QYXRobmFtZS5zdGFydHNXaXRoKFwiLi5cIikpIHtcbiAgICAgIGxldCB0b1NlZ21lbnRzID0gdG9QYXRobmFtZS5zcGxpdChcIi9cIik7XG5cbiAgICAgIHdoaWxlICh0b1NlZ21lbnRzWzBdID09PSBcIi4uXCIpIHtcbiAgICAgICAgdG9TZWdtZW50cy5zaGlmdCgpO1xuICAgICAgICByb3V0ZVBhdGhuYW1lSW5kZXggLT0gMTtcbiAgICAgIH1cblxuICAgICAgdG8ucGF0aG5hbWUgPSB0b1NlZ21lbnRzLmpvaW4oXCIvXCIpO1xuICAgIH1cblxuICAgIGZyb20gPSByb3V0ZVBhdGhuYW1lSW5kZXggPj0gMCA/IHJvdXRlUGF0aG5hbWVzW3JvdXRlUGF0aG5hbWVJbmRleF0gOiBcIi9cIjtcbiAgfVxuXG4gIGxldCBwYXRoID0gcmVzb2x2ZVBhdGgodG8sIGZyb20pO1xuXG4gIC8vIEVuc3VyZSB0aGUgcGF0aG5hbWUgaGFzIGEgdHJhaWxpbmcgc2xhc2ggaWYgdGhlIG9yaWdpbmFsIFwidG9cIiBoYWQgb25lXG4gIGxldCBoYXNFeHBsaWNpdFRyYWlsaW5nU2xhc2ggPVxuICAgIHRvUGF0aG5hbWUgJiYgdG9QYXRobmFtZSAhPT0gXCIvXCIgJiYgdG9QYXRobmFtZS5lbmRzV2l0aChcIi9cIik7XG4gIC8vIE9yIGlmIHRoaXMgd2FzIGEgbGluayB0byB0aGUgY3VycmVudCBwYXRoIHdoaWNoIGhhcyBhIHRyYWlsaW5nIHNsYXNoXG4gIGxldCBoYXNDdXJyZW50VHJhaWxpbmdTbGFzaCA9XG4gICAgKGlzRW1wdHlQYXRoIHx8IHRvUGF0aG5hbWUgPT09IFwiLlwiKSAmJiBsb2NhdGlvblBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKTtcbiAgaWYgKFxuICAgICFwYXRoLnBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSAmJlxuICAgIChoYXNFeHBsaWNpdFRyYWlsaW5nU2xhc2ggfHwgaGFzQ3VycmVudFRyYWlsaW5nU2xhc2gpXG4gICkge1xuICAgIHBhdGgucGF0aG5hbWUgKz0gXCIvXCI7XG4gIH1cblxuICByZXR1cm4gcGF0aDtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9QYXRobmFtZSh0bzogVG8pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAvLyBFbXB0eSBzdHJpbmdzIHNob3VsZCBiZSB0cmVhdGVkIHRoZSBzYW1lIGFzIC8gcGF0aHNcbiAgcmV0dXJuIHRvID09PSBcIlwiIHx8ICh0byBhcyBQYXRoKS5wYXRobmFtZSA9PT0gXCJcIlxuICAgID8gXCIvXCJcbiAgICA6IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIlxuICAgID8gcGFyc2VQYXRoKHRvKS5wYXRobmFtZVxuICAgIDogdG8ucGF0aG5hbWU7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IGpvaW5QYXRocyA9IChwYXRoczogc3RyaW5nW10pOiBzdHJpbmcgPT5cbiAgcGF0aHMuam9pbihcIi9cIikucmVwbGFjZSgvXFwvXFwvKy9nLCBcIi9cIik7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVBhdGhuYW1lID0gKHBhdGhuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgcGF0aG5hbWUucmVwbGFjZSgvXFwvKyQvLCBcIlwiKS5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU2VhcmNoID0gKHNlYXJjaDogc3RyaW5nKTogc3RyaW5nID0+XG4gICFzZWFyY2ggfHwgc2VhcmNoID09PSBcIj9cIlxuICAgID8gXCJcIlxuICAgIDogc2VhcmNoLnN0YXJ0c1dpdGgoXCI/XCIpXG4gICAgPyBzZWFyY2hcbiAgICA6IFwiP1wiICsgc2VhcmNoO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBub3JtYWxpemVIYXNoID0gKGhhc2g6IHN0cmluZyk6IHN0cmluZyA9PlxuICAhaGFzaCB8fCBoYXNoID09PSBcIiNcIiA/IFwiXCIgOiBoYXNoLnN0YXJ0c1dpdGgoXCIjXCIpID8gaGFzaCA6IFwiI1wiICsgaGFzaDtcblxuZXhwb3J0IHR5cGUgSnNvbkZ1bmN0aW9uID0gPERhdGE+KFxuICBkYXRhOiBEYXRhLFxuICBpbml0PzogbnVtYmVyIHwgUmVzcG9uc2VJbml0XG4pID0+IFJlc3BvbnNlO1xuXG4vKipcbiAqIFRoaXMgaXMgYSBzaG9ydGN1dCBmb3IgY3JlYXRpbmcgYGFwcGxpY2F0aW9uL2pzb25gIHJlc3BvbnNlcy4gQ29udmVydHMgYGRhdGFgXG4gKiB0byBKU09OIGFuZCBzZXRzIHRoZSBgQ29udGVudC1UeXBlYCBoZWFkZXIuXG4gKlxuICogQGRlcHJlY2F0ZWQgVGhlIGBqc29uYCBtZXRob2QgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiByZXR1cm5pbmcgcmF3IG9iamVjdHMuXG4gKiBUaGlzIG1ldGhvZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjcuXG4gKi9cbmV4cG9ydCBjb25zdCBqc29uOiBKc29uRnVuY3Rpb24gPSAoZGF0YSwgaW5pdCA9IHt9KSA9PiB7XG4gIGxldCByZXNwb25zZUluaXQgPSB0eXBlb2YgaW5pdCA9PT0gXCJudW1iZXJcIiA/IHsgc3RhdHVzOiBpbml0IH0gOiBpbml0O1xuXG4gIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMocmVzcG9uc2VJbml0LmhlYWRlcnMpO1xuICBpZiAoIWhlYWRlcnMuaGFzKFwiQ29udGVudC1UeXBlXCIpKSB7XG4gICAgaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCIpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShkYXRhKSwge1xuICAgIC4uLnJlc3BvbnNlSW5pdCxcbiAgICBoZWFkZXJzLFxuICB9KTtcbn07XG5cbmV4cG9ydCBjbGFzcyBEYXRhV2l0aFJlc3BvbnNlSW5pdDxEPiB7XG4gIHR5cGU6IHN0cmluZyA9IFwiRGF0YVdpdGhSZXNwb25zZUluaXRcIjtcbiAgZGF0YTogRDtcbiAgaW5pdDogUmVzcG9uc2VJbml0IHwgbnVsbDtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBELCBpbml0PzogUmVzcG9uc2VJbml0KSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLmluaXQgPSBpbml0IHx8IG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgXCJyZXNwb25zZXNcIiB0aGF0IGNvbnRhaW4gYHN0YXR1c2AvYGhlYWRlcnNgIHdpdGhvdXQgZm9yY2luZ1xuICogc2VyaWFsaXphdGlvbiBpbnRvIGFuIGFjdHVhbCBgUmVzcG9uc2VgIC0gdXNlZCBieSBSZW1peCBzaW5nbGUgZmV0Y2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGE8RD4oZGF0YTogRCwgaW5pdD86IG51bWJlciB8IFJlc3BvbnNlSW5pdCkge1xuICByZXR1cm4gbmV3IERhdGFXaXRoUmVzcG9uc2VJbml0KFxuICAgIGRhdGEsXG4gICAgdHlwZW9mIGluaXQgPT09IFwibnVtYmVyXCIgPyB7IHN0YXR1czogaW5pdCB9IDogaW5pdFxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrZWRQcm9taXNlIGV4dGVuZHMgUHJvbWlzZTxhbnk+IHtcbiAgX3RyYWNrZWQ/OiBib29sZWFuO1xuICBfZGF0YT86IGFueTtcbiAgX2Vycm9yPzogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgQWJvcnRlZERlZmVycmVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5leHBvcnQgY2xhc3MgRGVmZXJyZWREYXRhIHtcbiAgcHJpdmF0ZSBwZW5kaW5nS2V5c1NldDogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgcHJpdmF0ZSBjb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG4gIHByaXZhdGUgYWJvcnRQcm9taXNlOiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIHVubGlzdGVuQWJvcnRTaWduYWw6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgc3Vic2NyaWJlcnM6IFNldDwoYWJvcnRlZDogYm9vbGVhbiwgc2V0dGxlZEtleT86IHN0cmluZykgPT4gdm9pZD4gPVxuICAgIG5ldyBTZXQoKTtcbiAgZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGluaXQ/OiBSZXNwb25zZUluaXQ7XG4gIGRlZmVycmVkS2V5czogc3RyaW5nW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgcmVzcG9uc2VJbml0PzogUmVzcG9uc2VJbml0KSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShkYXRhKSxcbiAgICAgIFwiZGVmZXIoKSBvbmx5IGFjY2VwdHMgcGxhaW4gb2JqZWN0c1wiXG4gICAgKTtcblxuICAgIC8vIFNldCB1cCBhbiBBYm9ydENvbnRyb2xsZXIgKyBQcm9taXNlIHdlIGNhbiByYWNlIGFnYWluc3QgdG8gZXhpdCBlYXJseVxuICAgIC8vIGNhbmNlbGxhdGlvblxuICAgIGxldCByZWplY3Q6IChlOiBBYm9ydGVkRGVmZXJyZWRFcnJvcikgPT4gdm9pZDtcbiAgICB0aGlzLmFib3J0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChfLCByKSA9PiAocmVqZWN0ID0gcikpO1xuICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgb25BYm9ydCA9ICgpID0+XG4gICAgICByZWplY3QobmV3IEFib3J0ZWREZWZlcnJlZEVycm9yKFwiRGVmZXJyZWQgZGF0YSBhYm9ydGVkXCIpKTtcbiAgICB0aGlzLnVubGlzdGVuQWJvcnRTaWduYWwgPSAoKSA9PlxuICAgICAgdGhpcy5jb250cm9sbGVyLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG4gICAgdGhpcy5jb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG5cbiAgICB0aGlzLmRhdGEgPSBPYmplY3QuZW50cmllcyhkYXRhKS5yZWR1Y2UoXG4gICAgICAoYWNjLCBba2V5LCB2YWx1ZV0pID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oYWNjLCB7XG4gICAgICAgICAgW2tleV06IHRoaXMudHJhY2tQcm9taXNlKGtleSwgdmFsdWUpLFxuICAgICAgICB9KSxcbiAgICAgIHt9XG4gICAgKTtcblxuICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgIC8vIEFsbCBpbmNvbWluZyB2YWx1ZXMgd2VyZSByZXNvbHZlZFxuICAgICAgdGhpcy51bmxpc3RlbkFib3J0U2lnbmFsKCk7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0ID0gcmVzcG9uc2VJbml0O1xuICB9XG5cbiAgcHJpdmF0ZSB0cmFja1Byb21pc2UoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgdmFsdWU6IFByb21pc2U8dW5rbm93bj4gfCB1bmtub3duXG4gICk6IFRyYWNrZWRQcm9taXNlIHwgdW5rbm93biB7XG4gICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHRoaXMuZGVmZXJyZWRLZXlzLnB1c2goa2V5KTtcbiAgICB0aGlzLnBlbmRpbmdLZXlzU2V0LmFkZChrZXkpO1xuXG4gICAgLy8gV2Ugc3RvcmUgYSBsaXR0bGUgd3JhcHBlciBwcm9taXNlIHRoYXQgd2lsbCBiZSBleHRlbmRlZCB3aXRoXG4gICAgLy8gX2RhdGEvX2Vycm9yIHByb3BzIHVwb24gcmVzb2x2ZS9yZWplY3RcbiAgICBsZXQgcHJvbWlzZTogVHJhY2tlZFByb21pc2UgPSBQcm9taXNlLnJhY2UoW3ZhbHVlLCB0aGlzLmFib3J0UHJvbWlzZV0pLnRoZW4oXG4gICAgICAoZGF0YSkgPT4gdGhpcy5vblNldHRsZShwcm9taXNlLCBrZXksIHVuZGVmaW5lZCwgZGF0YSBhcyB1bmtub3duKSxcbiAgICAgIChlcnJvcikgPT4gdGhpcy5vblNldHRsZShwcm9taXNlLCBrZXksIGVycm9yIGFzIHVua25vd24pXG4gICAgKTtcblxuICAgIC8vIFJlZ2lzdGVyIHJlamVjdGlvbiBsaXN0ZW5lcnMgdG8gYXZvaWQgdW5jYXVnaHQgcHJvbWlzZSByZWplY3Rpb25zIG9uXG4gICAgLy8gZXJyb3JzIG9yIGFib3J0ZWQgZGVmZXJyZWQgdmFsdWVzXG4gICAgcHJvbWlzZS5jYXRjaCgoKSA9PiB7fSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfdHJhY2tlZFwiLCB7IGdldDogKCkgPT4gdHJ1ZSB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHByaXZhdGUgb25TZXR0bGUoXG4gICAgcHJvbWlzZTogVHJhY2tlZFByb21pc2UsXG4gICAga2V5OiBzdHJpbmcsXG4gICAgZXJyb3I6IHVua25vd24sXG4gICAgZGF0YT86IHVua25vd25cbiAgKTogdW5rbm93biB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5jb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkICYmXG4gICAgICBlcnJvciBpbnN0YW5jZW9mIEFib3J0ZWREZWZlcnJlZEVycm9yXG4gICAgKSB7XG4gICAgICB0aGlzLnVubGlzdGVuQWJvcnRTaWduYWwoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl9lcnJvclwiLCB7IGdldDogKCkgPT4gZXJyb3IgfSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIHRoaXMucGVuZGluZ0tleXNTZXQuZGVsZXRlKGtleSk7XG5cbiAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAvLyBOb3RoaW5nIGxlZnQgdG8gYWJvcnQhXG4gICAgICB0aGlzLnVubGlzdGVuQWJvcnRTaWduYWwoKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcHJvbWlzZSB3YXMgcmVzb2x2ZWQvcmVqZWN0ZWQgd2l0aCB1bmRlZmluZWQsIHdlJ2xsIHRocm93IGFuIGVycm9yIGFzIHlvdVxuICAgIC8vIHNob3VsZCBhbHdheXMgcmVzb2x2ZSB3aXRoIGEgdmFsdWUgb3IgbnVsbFxuICAgIGlmIChlcnJvciA9PT0gdW5kZWZpbmVkICYmIGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IHVuZGVmaW5lZEVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBgRGVmZXJyZWQgZGF0YSBmb3Iga2V5IFwiJHtrZXl9XCIgcmVzb2x2ZWQvcmVqZWN0ZWQgd2l0aCBcXGB1bmRlZmluZWRcXGAsIGAgK1xuICAgICAgICAgIGB5b3UgbXVzdCByZXNvbHZlL3JlamVjdCB3aXRoIGEgdmFsdWUgb3IgXFxgbnVsbFxcYC5gXG4gICAgICApO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2Vycm9yXCIsIHsgZ2V0OiAoKSA9PiB1bmRlZmluZWRFcnJvciB9KTtcbiAgICAgIHRoaXMuZW1pdChmYWxzZSwga2V5KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh1bmRlZmluZWRFcnJvcik7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2Vycm9yXCIsIHsgZ2V0OiAoKSA9PiBlcnJvciB9KTtcbiAgICAgIHRoaXMuZW1pdChmYWxzZSwga2V5KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2RhdGFcIiwgeyBnZXQ6ICgpID0+IGRhdGEgfSk7XG4gICAgdGhpcy5lbWl0KGZhbHNlLCBrZXkpO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgcHJpdmF0ZSBlbWl0KGFib3J0ZWQ6IGJvb2xlYW4sIHNldHRsZWRLZXk/OiBzdHJpbmcpIHtcbiAgICB0aGlzLnN1YnNjcmliZXJzLmZvckVhY2goKHN1YnNjcmliZXIpID0+IHN1YnNjcmliZXIoYWJvcnRlZCwgc2V0dGxlZEtleSkpO1xuICB9XG5cbiAgc3Vic2NyaWJlKGZuOiAoYWJvcnRlZDogYm9vbGVhbiwgc2V0dGxlZEtleT86IHN0cmluZykgPT4gdm9pZCkge1xuICAgIHRoaXMuc3Vic2NyaWJlcnMuYWRkKGZuKTtcbiAgICByZXR1cm4gKCkgPT4gdGhpcy5zdWJzY3JpYmVycy5kZWxldGUoZm4pO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgIHRoaXMucGVuZGluZ0tleXNTZXQuZm9yRWFjaCgodiwgaykgPT4gdGhpcy5wZW5kaW5nS2V5c1NldC5kZWxldGUoaykpO1xuICAgIHRoaXMuZW1pdCh0cnVlKTtcbiAgfVxuXG4gIGFzeW5jIHJlc29sdmVEYXRhKHNpZ25hbDogQWJvcnRTaWduYWwpIHtcbiAgICBsZXQgYWJvcnRlZCA9IGZhbHNlO1xuICAgIGlmICghdGhpcy5kb25lKSB7XG4gICAgICBsZXQgb25BYm9ydCA9ICgpID0+IHRoaXMuY2FuY2VsKCk7XG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnQpO1xuICAgICAgYWJvcnRlZCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKChhYm9ydGVkKSA9PiB7XG4gICAgICAgICAgc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvbkFib3J0KTtcbiAgICAgICAgICBpZiAoYWJvcnRlZCB8fCB0aGlzLmRvbmUpIHtcbiAgICAgICAgICAgIHJlc29sdmUoYWJvcnRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYWJvcnRlZDtcbiAgfVxuXG4gIGdldCBkb25lKCkge1xuICAgIHJldHVybiB0aGlzLnBlbmRpbmdLZXlzU2V0LnNpemUgPT09IDA7XG4gIH1cblxuICBnZXQgdW53cmFwcGVkRGF0YSgpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB0aGlzLmRhdGEgIT09IG51bGwgJiYgdGhpcy5kb25lLFxuICAgICAgXCJDYW4gb25seSB1bndyYXAgZGF0YSBvbiBpbml0aWFsaXplZCBhbmQgc2V0dGxlZCBkZWZlcnJlZHNcIlxuICAgICk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy5kYXRhKS5yZWR1Y2UoXG4gICAgICAoYWNjLCBba2V5LCB2YWx1ZV0pID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oYWNjLCB7XG4gICAgICAgICAgW2tleV06IHVud3JhcFRyYWNrZWRQcm9taXNlKHZhbHVlKSxcbiAgICAgICAgfSksXG4gICAgICB7fVxuICAgICk7XG4gIH1cblxuICBnZXQgcGVuZGluZ0tleXMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5wZW5kaW5nS2V5c1NldCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNUcmFja2VkUHJvbWlzZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgVHJhY2tlZFByb21pc2Uge1xuICByZXR1cm4gKFxuICAgIHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSAmJiAodmFsdWUgYXMgVHJhY2tlZFByb21pc2UpLl90cmFja2VkID09PSB0cnVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcFRyYWNrZWRQcm9taXNlKHZhbHVlOiBhbnkpIHtcbiAgaWYgKCFpc1RyYWNrZWRQcm9taXNlKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGlmICh2YWx1ZS5fZXJyb3IpIHtcbiAgICB0aHJvdyB2YWx1ZS5fZXJyb3I7XG4gIH1cbiAgcmV0dXJuIHZhbHVlLl9kYXRhO1xufVxuXG5leHBvcnQgdHlwZSBEZWZlckZ1bmN0aW9uID0gKFxuICBkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgaW5pdD86IG51bWJlciB8IFJlc3BvbnNlSW5pdFxuKSA9PiBEZWZlcnJlZERhdGE7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhlIGBkZWZlcmAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgcmV0dXJuaW5nIHJhd1xuICogb2JqZWN0cy4gVGhpcyBtZXRob2Qgd2lsbCBiZSByZW1vdmVkIGluIHY3LlxuICovXG5leHBvcnQgY29uc3QgZGVmZXI6IERlZmVyRnVuY3Rpb24gPSAoZGF0YSwgaW5pdCA9IHt9KSA9PiB7XG4gIGxldCByZXNwb25zZUluaXQgPSB0eXBlb2YgaW5pdCA9PT0gXCJudW1iZXJcIiA/IHsgc3RhdHVzOiBpbml0IH0gOiBpbml0O1xuXG4gIHJldHVybiBuZXcgRGVmZXJyZWREYXRhKGRhdGEsIHJlc3BvbnNlSW5pdCk7XG59O1xuXG5leHBvcnQgdHlwZSBSZWRpcmVjdEZ1bmN0aW9uID0gKFxuICB1cmw6IHN0cmluZyxcbiAgaW5pdD86IG51bWJlciB8IFJlc3BvbnNlSW5pdFxuKSA9PiBSZXNwb25zZTtcblxuLyoqXG4gKiBBIHJlZGlyZWN0IHJlc3BvbnNlLiBTZXRzIHRoZSBzdGF0dXMgY29kZSBhbmQgdGhlIGBMb2NhdGlvbmAgaGVhZGVyLlxuICogRGVmYXVsdHMgdG8gXCIzMDIgRm91bmRcIi5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlZGlyZWN0OiBSZWRpcmVjdEZ1bmN0aW9uID0gKHVybCwgaW5pdCA9IDMwMikgPT4ge1xuICBsZXQgcmVzcG9uc2VJbml0ID0gaW5pdDtcbiAgaWYgKHR5cGVvZiByZXNwb25zZUluaXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXNwb25zZUluaXQgPSB7IHN0YXR1czogcmVzcG9uc2VJbml0IH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlc3BvbnNlSW5pdC5zdGF0dXMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXNwb25zZUluaXQuc3RhdHVzID0gMzAyO1xuICB9XG5cbiAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhyZXNwb25zZUluaXQuaGVhZGVycyk7XG4gIGhlYWRlcnMuc2V0KFwiTG9jYXRpb25cIiwgdXJsKTtcblxuICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAuLi5yZXNwb25zZUluaXQsXG4gICAgaGVhZGVycyxcbiAgfSk7XG59O1xuXG4vKipcbiAqIEEgcmVkaXJlY3QgcmVzcG9uc2UgdGhhdCB3aWxsIGZvcmNlIGEgZG9jdW1lbnQgcmVsb2FkIHRvIHRoZSBuZXcgbG9jYXRpb24uXG4gKiBTZXRzIHRoZSBzdGF0dXMgY29kZSBhbmQgdGhlIGBMb2NhdGlvbmAgaGVhZGVyLlxuICogRGVmYXVsdHMgdG8gXCIzMDIgRm91bmRcIi5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlZGlyZWN0RG9jdW1lbnQ6IFJlZGlyZWN0RnVuY3Rpb24gPSAodXJsLCBpbml0KSA9PiB7XG4gIGxldCByZXNwb25zZSA9IHJlZGlyZWN0KHVybCwgaW5pdCk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIiwgXCJ0cnVlXCIpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuXG4vKipcbiAqIEEgcmVkaXJlY3QgcmVzcG9uc2UgdGhhdCB3aWxsIHBlcmZvcm0gYSBgaGlzdG9yeS5yZXBsYWNlU3RhdGVgIGluc3RlYWQgb2YgYVxuICogYGhpc3RvcnkucHVzaFN0YXRlYCBmb3IgY2xpZW50LXNpZGUgbmF2aWdhdGlvbiByZWRpcmVjdHMuXG4gKiBTZXRzIHRoZSBzdGF0dXMgY29kZSBhbmQgdGhlIGBMb2NhdGlvbmAgaGVhZGVyLlxuICogRGVmYXVsdHMgdG8gXCIzMDIgRm91bmRcIi5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlcGxhY2U6IFJlZGlyZWN0RnVuY3Rpb24gPSAodXJsLCBpbml0KSA9PiB7XG4gIGxldCByZXNwb25zZSA9IHJlZGlyZWN0KHVybCwgaW5pdCk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiWC1SZW1peC1SZXBsYWNlXCIsIFwidHJ1ZVwiKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcblxuZXhwb3J0IHR5cGUgRXJyb3JSZXNwb25zZSA9IHtcbiAgc3RhdHVzOiBudW1iZXI7XG4gIHN0YXR1c1RleHQ6IHN0cmluZztcbiAgZGF0YTogYW55O1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogVXRpbGl0eSBjbGFzcyB3ZSB1c2UgdG8gaG9sZCBhdXRvLXVud3JhcHBlZCA0eHgvNXh4IFJlc3BvbnNlIGJvZGllc1xuICpcbiAqIFdlIGRvbid0IGV4cG9ydCB0aGUgY2xhc3MgZm9yIHB1YmxpYyB1c2Ugc2luY2UgaXQncyBhbiBpbXBsZW1lbnRhdGlvblxuICogZGV0YWlsLCBidXQgd2UgZXhwb3J0IHRoZSBpbnRlcmZhY2UgYWJvdmUgc28gZm9sa3MgY2FuIGJ1aWxkIHRoZWlyIG93blxuICogYWJzdHJhY3Rpb25zIGFyb3VuZCBpbnN0YW5jZXMgdmlhIGlzUm91dGVFcnJvclJlc3BvbnNlKClcbiAqL1xuZXhwb3J0IGNsYXNzIEVycm9yUmVzcG9uc2VJbXBsIGltcGxlbWVudHMgRXJyb3JSZXNwb25zZSB7XG4gIHN0YXR1czogbnVtYmVyO1xuICBzdGF0dXNUZXh0OiBzdHJpbmc7XG4gIGRhdGE6IGFueTtcbiAgcHJpdmF0ZSBlcnJvcj86IEVycm9yO1xuICBwcml2YXRlIGludGVybmFsOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0YXR1czogbnVtYmVyLFxuICAgIHN0YXR1c1RleHQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICBkYXRhOiBhbnksXG4gICAgaW50ZXJuYWwgPSBmYWxzZVxuICApIHtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0IHx8IFwiXCI7XG4gICAgdGhpcy5pbnRlcm5hbCA9IGludGVybmFsO1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGEudG9TdHJpbmcoKTtcbiAgICAgIHRoaXMuZXJyb3IgPSBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiBlcnJvciBpcyBhbiBFcnJvclJlc3BvbnNlIGdlbmVyYXRlZCBmcm9tIGEgNHh4LzV4eFxuICogUmVzcG9uc2UgdGhyb3duIGZyb20gYW4gYWN0aW9uL2xvYWRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3I6IGFueSk6IGVycm9yIGlzIEVycm9yUmVzcG9uc2Uge1xuICByZXR1cm4gKFxuICAgIGVycm9yICE9IG51bGwgJiZcbiAgICB0eXBlb2YgZXJyb3Iuc3RhdHVzID09PSBcIm51bWJlclwiICYmXG4gICAgdHlwZW9mIGVycm9yLnN0YXR1c1RleHQgPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgZXJyb3IuaW50ZXJuYWwgPT09IFwiYm9vbGVhblwiICYmXG4gICAgXCJkYXRhXCIgaW4gZXJyb3JcbiAgKTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEhpc3RvcnksIExvY2F0aW9uLCBQYXRoLCBUbyB9IGZyb20gXCIuL2hpc3RvcnlcIjtcbmltcG9ydCB7XG4gIEFjdGlvbiBhcyBIaXN0b3J5QWN0aW9uLFxuICBjcmVhdGVMb2NhdGlvbixcbiAgY3JlYXRlUGF0aCxcbiAgaW52YXJpYW50LFxuICBwYXJzZVBhdGgsXG4gIHdhcm5pbmcsXG59IGZyb20gXCIuL2hpc3RvcnlcIjtcbmltcG9ydCB0eXBlIHtcbiAgQWdub3N0aWNEYXRhUm91dGVNYXRjaCxcbiAgQWdub3N0aWNEYXRhUm91dGVPYmplY3QsXG4gIERhdGFTdHJhdGVneU1hdGNoLFxuICBBZ25vc3RpY1JvdXRlT2JqZWN0LFxuICBEYXRhUmVzdWx0LFxuICBEYXRhU3RyYXRlZ3lGdW5jdGlvbixcbiAgRGF0YVN0cmF0ZWd5RnVuY3Rpb25BcmdzLFxuICBEZWZlcnJlZERhdGEsXG4gIERlZmVycmVkUmVzdWx0LFxuICBEZXRlY3RFcnJvckJvdW5kYXJ5RnVuY3Rpb24sXG4gIEVycm9yUmVzdWx0LFxuICBGb3JtRW5jVHlwZSxcbiAgRm9ybU1ldGhvZCxcbiAgSFRNTEZvcm1NZXRob2QsXG4gIERhdGFTdHJhdGVneVJlc3VsdCxcbiAgSW1tdXRhYmxlUm91dGVLZXksXG4gIE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uLFxuICBNdXRhdGlvbkZvcm1NZXRob2QsXG4gIFJlZGlyZWN0UmVzdWx0LFxuICBSb3V0ZURhdGEsXG4gIFJvdXRlTWFuaWZlc3QsXG4gIFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbkFyZ3MsXG4gIFN1Ym1pc3Npb24sXG4gIFN1Y2Nlc3NSZXN1bHQsXG4gIFVJTWF0Y2gsXG4gIFY3X0Zvcm1NZXRob2QsXG4gIFY3X011dGF0aW9uRm9ybU1ldGhvZCxcbiAgQWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uLFxuICBEYXRhV2l0aFJlc3BvbnNlSW5pdCxcbn0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7XG4gIEVycm9yUmVzcG9uc2VJbXBsLFxuICBSZXN1bHRUeXBlLFxuICBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaCxcbiAgY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyxcbiAgZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMsXG4gIGdldFJlc29sdmVUb01hdGNoZXMsXG4gIGltbXV0YWJsZVJvdXRlS2V5cyxcbiAgaXNSb3V0ZUVycm9yUmVzcG9uc2UsXG4gIGpvaW5QYXRocyxcbiAgbWF0Y2hSb3V0ZXMsXG4gIG1hdGNoUm91dGVzSW1wbCxcbiAgcmVzb2x2ZVRvLFxuICBzdHJpcEJhc2VuYW1lLFxufSBmcm9tIFwiLi91dGlsc1wiO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8jcmVnaW9uIFR5cGVzIGFuZCBDb25zdGFudHNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQSBSb3V0ZXIgaW5zdGFuY2UgbWFuYWdlcyBhbGwgbmF2aWdhdGlvbiBhbmQgZGF0YSBsb2FkaW5nL211dGF0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlciB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogUmV0dXJuIHRoZSBiYXNlbmFtZSBmb3IgdGhlIHJvdXRlclxuICAgKi9cbiAgZ2V0IGJhc2VuYW1lKCk6IFJvdXRlckluaXRbXCJiYXNlbmFtZVwiXTtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFJldHVybiB0aGUgZnV0dXJlIGNvbmZpZyBmb3IgdGhlIHJvdXRlclxuICAgKi9cbiAgZ2V0IGZ1dHVyZSgpOiBGdXR1cmVDb25maWc7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHJvdXRlclxuICAgKi9cbiAgZ2V0IHN0YXRlKCk6IFJvdXRlclN0YXRlO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogUmV0dXJuIHRoZSByb3V0ZXMgZm9yIHRoaXMgcm91dGVyIGluc3RhbmNlXG4gICAqL1xuICBnZXQgcm91dGVzKCk6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W107XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBSZXR1cm4gdGhlIHdpbmRvdyBhc3NvY2lhdGVkIHdpdGggdGhlIHJvdXRlclxuICAgKi9cbiAgZ2V0IHdpbmRvdygpOiBSb3V0ZXJJbml0W1wid2luZG93XCJdO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogSW5pdGlhbGl6ZSB0aGUgcm91dGVyLCBpbmNsdWRpbmcgYWRkaW5nIGhpc3RvcnkgbGlzdGVuZXJzIGFuZCBraWNraW5nIG9mZlxuICAgKiBpbml0aWFsIGRhdGEgZmV0Y2hlcy4gIFJldHVybnMgYSBmdW5jdGlvbiB0byBjbGVhbnVwIGxpc3RlbmVycyBhbmQgYWJvcnRcbiAgICogYW55IGluLXByb2dyZXNzIGxvYWRzXG4gICAqL1xuICBpbml0aWFsaXplKCk6IFJvdXRlcjtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFN1YnNjcmliZSB0byByb3V0ZXIuc3RhdGUgdXBkYXRlc1xuICAgKlxuICAgKiBAcGFyYW0gZm4gZnVuY3Rpb24gdG8gY2FsbCB3aXRoIHRoZSBuZXcgc3RhdGVcbiAgICovXG4gIHN1YnNjcmliZShmbjogUm91dGVyU3Vic2NyaWJlcik6ICgpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBFbmFibGUgc2Nyb2xsIHJlc3RvcmF0aW9uIGJlaGF2aW9yIGluIHRoZSByb3V0ZXJcbiAgICpcbiAgICogQHBhcmFtIHNhdmVkU2Nyb2xsUG9zaXRpb25zIE9iamVjdCB0aGF0IHdpbGwgbWFuYWdlIHBvc2l0aW9ucywgaW4gY2FzZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXQncyBiZWluZyByZXN0b3JlZCBmcm9tIHNlc3Npb25TdG9yYWdlXG4gICAqIEBwYXJhbSBnZXRTY3JvbGxQb3NpdGlvbiAgICBGdW5jdGlvbiB0byBnZXQgdGhlIGFjdGl2ZSBZIHNjcm9sbCBwb3NpdGlvblxuICAgKiBAcGFyYW0gZ2V0S2V5ICAgICAgICAgICAgICAgRnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXkgdG8gdXNlIGZvciByZXN0b3JhdGlvblxuICAgKi9cbiAgZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24oXG4gICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4sXG4gICAgZ2V0U2Nyb2xsUG9zaXRpb246IEdldFNjcm9sbFBvc2l0aW9uRnVuY3Rpb24sXG4gICAgZ2V0S2V5PzogR2V0U2Nyb2xsUmVzdG9yYXRpb25LZXlGdW5jdGlvblxuICApOiAoKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogTmF2aWdhdGUgZm9yd2FyZC9iYWNrd2FyZCBpbiB0aGUgaGlzdG9yeSBzdGFja1xuICAgKiBAcGFyYW0gdG8gRGVsdGEgdG8gbW92ZSBpbiB0aGUgaGlzdG9yeSBzdGFja1xuICAgKi9cbiAgbmF2aWdhdGUodG86IG51bWJlcik6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIE5hdmlnYXRlIHRvIHRoZSBnaXZlbiBwYXRoXG4gICAqIEBwYXJhbSB0byBQYXRoIHRvIG5hdmlnYXRlIHRvXG4gICAqIEBwYXJhbSBvcHRzIE5hdmlnYXRpb24gb3B0aW9ucyAobWV0aG9kLCBzdWJtaXNzaW9uLCBldGMuKVxuICAgKi9cbiAgbmF2aWdhdGUodG86IFRvIHwgbnVsbCwgb3B0cz86IFJvdXRlck5hdmlnYXRlT3B0aW9ucyk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBUcmlnZ2VyIGEgZmV0Y2hlciBsb2FkL3N1Ym1pc3Npb25cbiAgICpcbiAgICogQHBhcmFtIGtleSAgICAgRmV0Y2hlciBrZXlcbiAgICogQHBhcmFtIHJvdXRlSWQgUm91dGUgdGhhdCBvd25zIHRoZSBmZXRjaGVyXG4gICAqIEBwYXJhbSBocmVmICAgIGhyZWYgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdHMgICAgRmV0Y2hlciBvcHRpb25zLCAobWV0aG9kLCBzdWJtaXNzaW9uLCBldGMuKVxuICAgKi9cbiAgZmV0Y2goXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcm91dGVJZDogc3RyaW5nLFxuICAgIGhyZWY6IHN0cmluZyB8IG51bGwsXG4gICAgb3B0cz86IFJvdXRlckZldGNoT3B0aW9uc1xuICApOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogVHJpZ2dlciBhIHJldmFsaWRhdGlvbiBvZiBhbGwgY3VycmVudCByb3V0ZSBsb2FkZXJzIGFuZCBmZXRjaGVyIGxvYWRzXG4gICAqL1xuICByZXZhbGlkYXRlKCk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhbiBocmVmIGZvciB0aGUgZ2l2ZW4gbG9jYXRpb25cbiAgICogQHBhcmFtIGxvY2F0aW9uXG4gICAqL1xuICBjcmVhdGVIcmVmKGxvY2F0aW9uOiBMb2NhdGlvbiB8IFVSTCk6IHN0cmluZztcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gVVJMIGVuY29kZSBhIGRlc3RpbmF0aW9uIHBhdGggYWNjb3JkaW5nIHRvIHRoZSBpbnRlcm5hbFxuICAgKiBoaXN0b3J5IGltcGxlbWVudGF0aW9uXG4gICAqIEBwYXJhbSB0b1xuICAgKi9cbiAgZW5jb2RlTG9jYXRpb24odG86IFRvKTogUGF0aDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIEdldC9jcmVhdGUgYSBmZXRjaGVyIGZvciB0aGUgZ2l2ZW4ga2V5XG4gICAqIEBwYXJhbSBrZXlcbiAgICovXG4gIGdldEZldGNoZXI8VERhdGEgPSBhbnk+KGtleTogc3RyaW5nKTogRmV0Y2hlcjxURGF0YT47XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBEZWxldGUgdGhlIGZldGNoZXIgZm9yIGEgZ2l2ZW4ga2V5XG4gICAqIEBwYXJhbSBrZXlcbiAgICovXG4gIGRlbGV0ZUZldGNoZXIoa2V5OiBzdHJpbmcpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogQ2xlYW51cCBsaXN0ZW5lcnMgYW5kIGFib3J0IGFueSBpbi1wcm9ncmVzcyBsb2Fkc1xuICAgKi9cbiAgZGlzcG9zZSgpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogR2V0IGEgbmF2aWdhdGlvbiBibG9ja2VyXG4gICAqIEBwYXJhbSBrZXkgVGhlIGlkZW50aWZpZXIgZm9yIHRoZSBibG9ja2VyXG4gICAqIEBwYXJhbSBmbiBUaGUgYmxvY2tlciBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgZ2V0QmxvY2tlcihrZXk6IHN0cmluZywgZm46IEJsb2NrZXJGdW5jdGlvbik6IEJsb2NrZXI7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBQUklWQVRFIC0gRE8gTk9UIFVTRVxuICAgKlxuICAgKiBEZWxldGUgYSBuYXZpZ2F0aW9uIGJsb2NrZXJcbiAgICogQHBhcmFtIGtleSBUaGUgaWRlbnRpZmllciBmb3IgdGhlIGJsb2NrZXJcbiAgICovXG4gIGRlbGV0ZUJsb2NrZXIoa2V5OiBzdHJpbmcpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSBETyBOT1QgVVNFXG4gICAqXG4gICAqIFBhdGNoIGFkZGl0aW9uYWwgY2hpbGRyZW4gcm91dGVzIGludG8gYW4gZXhpc3RpbmcgcGFyZW50IHJvdXRlXG4gICAqIEBwYXJhbSByb3V0ZUlkIFRoZSBwYXJlbnQgcm91dGUgaWQgb3IgYSBjYWxsYmFjayBmdW5jdGlvbiBhY2NlcHRpbmcgYHBhdGNoYFxuICAgKiAgICAgICAgICAgICAgICB0byBwZXJmb3JtIGJhdGNoIHBhdGNoaW5nXG4gICAqIEBwYXJhbSBjaGlsZHJlbiBUaGUgYWRkaXRpb25hbCBjaGlsZHJlbiByb3V0ZXNcbiAgICovXG4gIHBhdGNoUm91dGVzKHJvdXRlSWQ6IHN0cmluZyB8IG51bGwsIGNoaWxkcmVuOiBBZ25vc3RpY1JvdXRlT2JqZWN0W10pOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogUFJJVkFURSAtIERPIE5PVCBVU0VcbiAgICpcbiAgICogSE1SIG5lZWRzIHRvIHBhc3MgaW4tZmxpZ2h0IHJvdXRlIHVwZGF0ZXMgdG8gUmVhY3QgUm91dGVyXG4gICAqIFRPRE86IFJlcGxhY2UgdGhpcyB3aXRoIGdyYW51bGFyIHJvdXRlIHVwZGF0ZSBBUElzIChhZGRSb3V0ZSwgdXBkYXRlUm91dGUsIGRlbGV0ZVJvdXRlKVxuICAgKi9cbiAgX2ludGVybmFsU2V0Um91dGVzKHJvdXRlczogQWdub3N0aWNSb3V0ZU9iamVjdFtdKTogdm9pZDtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIEludGVybmFsIGZldGNoIEFib3J0Q29udHJvbGxlcnMgYWNjZXNzZWQgYnkgdW5pdCB0ZXN0c1xuICAgKi9cbiAgX2ludGVybmFsRmV0Y2hDb250cm9sbGVyczogTWFwPHN0cmluZywgQWJvcnRDb250cm9sbGVyPjtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIFBSSVZBVEUgLSBETyBOT1QgVVNFXG4gICAqXG4gICAqIEludGVybmFsIHBlbmRpbmcgRGVmZXJyZWREYXRhIGluc3RhbmNlcyBhY2Nlc3NlZCBieSB1bml0IHRlc3RzXG4gICAqL1xuICBfaW50ZXJuYWxBY3RpdmVEZWZlcnJlZHM6IE1hcDxzdHJpbmcsIERlZmVycmVkRGF0YT47XG59XG5cbi8qKlxuICogU3RhdGUgbWFpbnRhaW5lZCBpbnRlcm5hbGx5IGJ5IHRoZSByb3V0ZXIuICBEdXJpbmcgYSBuYXZpZ2F0aW9uLCBhbGwgc3RhdGVzXG4gKiByZWZsZWN0IHRoZSB0aGUgXCJvbGRcIiBsb2NhdGlvbiB1bmxlc3Mgb3RoZXJ3aXNlIG5vdGVkLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlclN0YXRlIHtcbiAgLyoqXG4gICAqIFRoZSBhY3Rpb24gb2YgdGhlIG1vc3QgcmVjZW50IG5hdmlnYXRpb25cbiAgICovXG4gIGhpc3RvcnlBY3Rpb246IEhpc3RvcnlBY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IGxvY2F0aW9uIHJlZmxlY3RlZCBieSB0aGUgcm91dGVyXG4gICAqL1xuICBsb2NhdGlvbjogTG9jYXRpb247XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHNldCBvZiByb3V0ZSBtYXRjaGVzXG4gICAqL1xuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW107XG5cbiAgLyoqXG4gICAqIFRyYWNrcyB3aGV0aGVyIHdlJ3ZlIGNvbXBsZXRlZCBvdXIgaW5pdGlhbCBkYXRhIGxvYWRcbiAgICovXG4gIGluaXRpYWxpemVkOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBDdXJyZW50IHNjcm9sbCBwb3NpdGlvbiB3ZSBzaG91bGQgc3RhcnQgYXQgZm9yIGEgbmV3IHZpZXdcbiAgICogIC0gbnVtYmVyIC0+IHNjcm9sbCBwb3NpdGlvbiB0byByZXN0b3JlIHRvXG4gICAqICAtIGZhbHNlIC0+IGRvIG5vdCByZXN0b3JlIHNjcm9sbCBhdCBhbGwgKHVzZWQgZHVyaW5nIHN1Ym1pc3Npb25zKVxuICAgKiAgLSBudWxsIC0+IGRvbid0IGhhdmUgYSBzYXZlZCBwb3NpdGlvbiwgc2Nyb2xsIHRvIGhhc2ggb3IgdG9wIG9mIHBhZ2VcbiAgICovXG4gIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogbnVtYmVyIHwgZmFsc2UgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZSB3aGV0aGVyIHRoaXMgbmF2aWdhdGlvbiBzaG91bGQgc2tpcCByZXNldHRpbmcgdGhlIHNjcm9sbCBwb3NpdGlvblxuICAgKiBpZiB3ZSBhcmUgdW5hYmxlIHRvIHJlc3RvcmUgdGhlIHNjcm9sbCBwb3NpdGlvblxuICAgKi9cbiAgcHJldmVudFNjcm9sbFJlc2V0OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUcmFja3MgdGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IG5hdmlnYXRpb25cbiAgICovXG4gIG5hdmlnYXRpb246IE5hdmlnYXRpb247XG5cbiAgLyoqXG4gICAqIFRyYWNrcyBhbnkgaW4tcHJvZ3Jlc3MgcmV2YWxpZGF0aW9uc1xuICAgKi9cbiAgcmV2YWxpZGF0aW9uOiBSZXZhbGlkYXRpb25TdGF0ZTtcblxuICAvKipcbiAgICogRGF0YSBmcm9tIHRoZSBsb2FkZXJzIGZvciB0aGUgY3VycmVudCBtYXRjaGVzXG4gICAqL1xuICBsb2FkZXJEYXRhOiBSb3V0ZURhdGE7XG5cbiAgLyoqXG4gICAqIERhdGEgZnJvbSB0aGUgYWN0aW9uIGZvciB0aGUgY3VycmVudCBtYXRjaGVzXG4gICAqL1xuICBhY3Rpb25EYXRhOiBSb3V0ZURhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBFcnJvcnMgY2F1Z2h0IGZyb20gbG9hZGVycyBmb3IgdGhlIGN1cnJlbnQgbWF0Y2hlc1xuICAgKi9cbiAgZXJyb3JzOiBSb3V0ZURhdGEgfCBudWxsO1xuXG4gIC8qKlxuICAgKiBNYXAgb2YgY3VycmVudCBmZXRjaGVyc1xuICAgKi9cbiAgZmV0Y2hlcnM6IE1hcDxzdHJpbmcsIEZldGNoZXI+O1xuXG4gIC8qKlxuICAgKiBNYXAgb2YgY3VycmVudCBibG9ja2Vyc1xuICAgKi9cbiAgYmxvY2tlcnM6IE1hcDxzdHJpbmcsIEJsb2NrZXI+O1xufVxuXG4vKipcbiAqIERhdGEgdGhhdCBjYW4gYmUgcGFzc2VkIGludG8gaHlkcmF0ZSBhIFJvdXRlciBmcm9tIFNTUlxuICovXG5leHBvcnQgdHlwZSBIeWRyYXRpb25TdGF0ZSA9IFBhcnRpYWw8XG4gIFBpY2s8Um91dGVyU3RhdGUsIFwibG9hZGVyRGF0YVwiIHwgXCJhY3Rpb25EYXRhXCIgfCBcImVycm9yc1wiPlxuPjtcblxuLyoqXG4gKiBGdXR1cmUgZmxhZ3MgdG8gdG9nZ2xlIG5ldyBmZWF0dXJlIGJlaGF2aW9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRnV0dXJlQ29uZmlnIHtcbiAgdjdfZmV0Y2hlclBlcnNpc3Q6IGJvb2xlYW47XG4gIHY3X25vcm1hbGl6ZUZvcm1NZXRob2Q6IGJvb2xlYW47XG4gIHY3X3BhcnRpYWxIeWRyYXRpb246IGJvb2xlYW47XG4gIHY3X3ByZXBlbmRCYXNlbmFtZTogYm9vbGVhbjtcbiAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGJvb2xlYW47XG4gIHY3X3NraXBBY3Rpb25FcnJvclJldmFsaWRhdGlvbjogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXphdGlvbiBvcHRpb25zIGZvciBjcmVhdGVSb3V0ZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb3V0ZXJJbml0IHtcbiAgcm91dGVzOiBBZ25vc3RpY1JvdXRlT2JqZWN0W107XG4gIGhpc3Rvcnk6IEhpc3Rvcnk7XG4gIGJhc2VuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBtYXBSb3V0ZVByb3BlcnRpZXNgIGluc3RlYWRcbiAgICovXG4gIGRldGVjdEVycm9yQm91bmRhcnk/OiBEZXRlY3RFcnJvckJvdW5kYXJ5RnVuY3Rpb247XG4gIG1hcFJvdXRlUHJvcGVydGllcz86IE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uO1xuICBmdXR1cmU/OiBQYXJ0aWFsPEZ1dHVyZUNvbmZpZz47XG4gIGh5ZHJhdGlvbkRhdGE/OiBIeWRyYXRpb25TdGF0ZTtcbiAgd2luZG93PzogV2luZG93O1xuICBkYXRhU3RyYXRlZ3k/OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbjtcbiAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24/OiBBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb247XG59XG5cbi8qKlxuICogU3RhdGUgcmV0dXJuZWQgZnJvbSBhIHNlcnZlci1zaWRlIHF1ZXJ5KCkgY2FsbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpY0hhbmRsZXJDb250ZXh0IHtcbiAgYmFzZW5hbWU6IFJvdXRlcltcImJhc2VuYW1lXCJdO1xuICBsb2NhdGlvbjogUm91dGVyU3RhdGVbXCJsb2NhdGlvblwiXTtcbiAgbWF0Y2hlczogUm91dGVyU3RhdGVbXCJtYXRjaGVzXCJdO1xuICBsb2FkZXJEYXRhOiBSb3V0ZXJTdGF0ZVtcImxvYWRlckRhdGFcIl07XG4gIGFjdGlvbkRhdGE6IFJvdXRlclN0YXRlW1wiYWN0aW9uRGF0YVwiXTtcbiAgZXJyb3JzOiBSb3V0ZXJTdGF0ZVtcImVycm9yc1wiXTtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xuICBsb2FkZXJIZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBIZWFkZXJzPjtcbiAgYWN0aW9uSGVhZGVyczogUmVjb3JkPHN0cmluZywgSGVhZGVycz47XG4gIGFjdGl2ZURlZmVycmVkczogUmVjb3JkPHN0cmluZywgRGVmZXJyZWREYXRhPiB8IG51bGw7XG4gIF9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBBIFN0YXRpY0hhbmRsZXIgaW5zdGFuY2UgbWFuYWdlcyBhIHNpbmd1bGFyIFNTUiBuYXZpZ2F0aW9uL2ZldGNoIGV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGljSGFuZGxlciB7XG4gIGRhdGFSb3V0ZXM6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W107XG4gIHF1ZXJ5KFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgb3B0cz86IHtcbiAgICAgIHJlcXVlc3RDb250ZXh0PzogdW5rbm93bjtcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nPzogYm9vbGVhbjtcbiAgICAgIGRhdGFTdHJhdGVneT86IERhdGFTdHJhdGVneUZ1bmN0aW9uO1xuICAgIH1cbiAgKTogUHJvbWlzZTxTdGF0aWNIYW5kbGVyQ29udGV4dCB8IFJlc3BvbnNlPjtcbiAgcXVlcnlSb3V0ZShcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIG9wdHM/OiB7XG4gICAgICByb3V0ZUlkPzogc3RyaW5nO1xuICAgICAgcmVxdWVzdENvbnRleHQ/OiB1bmtub3duO1xuICAgICAgZGF0YVN0cmF0ZWd5PzogRGF0YVN0cmF0ZWd5RnVuY3Rpb247XG4gICAgfVxuICApOiBQcm9taXNlPGFueT47XG59XG5cbnR5cGUgVmlld1RyYW5zaXRpb25PcHRzID0ge1xuICBjdXJyZW50TG9jYXRpb246IExvY2F0aW9uO1xuICBuZXh0TG9jYXRpb246IExvY2F0aW9uO1xufTtcblxuLyoqXG4gKiBTdWJzY3JpYmVyIGZ1bmN0aW9uIHNpZ25hdHVyZSBmb3IgY2hhbmdlcyB0byByb3V0ZXIgc3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb3V0ZXJTdWJzY3JpYmVyIHtcbiAgKFxuICAgIHN0YXRlOiBSb3V0ZXJTdGF0ZSxcbiAgICBvcHRzOiB7XG4gICAgICBkZWxldGVkRmV0Y2hlcnM6IHN0cmluZ1tdO1xuICAgICAgdmlld1RyYW5zaXRpb25PcHRzPzogVmlld1RyYW5zaXRpb25PcHRzO1xuICAgICAgZmx1c2hTeW5jOiBib29sZWFuO1xuICAgIH1cbiAgKTogdm9pZDtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBzaWduYXR1cmUgZm9yIGRldGVybWluaW5nIHRoZSBrZXkgdG8gYmUgdXNlZCBpbiBzY3JvbGwgcmVzdG9yYXRpb25cbiAqIGZvciBhIGdpdmVuIGxvY2F0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0U2Nyb2xsUmVzdG9yYXRpb25LZXlGdW5jdGlvbiB7XG4gIChsb2NhdGlvbjogTG9jYXRpb24sIG1hdGNoZXM6IFVJTWF0Y2hbXSk6IHN0cmluZyB8IG51bGw7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gc2lnbmF0dXJlIGZvciBkZXRlcm1pbmluZyB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRTY3JvbGxQb3NpdGlvbkZ1bmN0aW9uIHtcbiAgKCk6IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgUmVsYXRpdmVSb3V0aW5nVHlwZSA9IFwicm91dGVcIiB8IFwicGF0aFwiO1xuXG4vLyBBbGxvd2VkIGZvciBhbnkgbmF2aWdhdGlvbiBvciBmZXRjaFxudHlwZSBCYXNlTmF2aWdhdGVPckZldGNoT3B0aW9ucyA9IHtcbiAgcHJldmVudFNjcm9sbFJlc2V0PzogYm9vbGVhbjtcbiAgcmVsYXRpdmU/OiBSZWxhdGl2ZVJvdXRpbmdUeXBlO1xuICBmbHVzaFN5bmM/OiBib29sZWFuO1xufTtcblxuLy8gT25seSBhbGxvd2VkIGZvciBuYXZpZ2F0aW9uc1xudHlwZSBCYXNlTmF2aWdhdGVPcHRpb25zID0gQmFzZU5hdmlnYXRlT3JGZXRjaE9wdGlvbnMgJiB7XG4gIHJlcGxhY2U/OiBib29sZWFuO1xuICBzdGF0ZT86IGFueTtcbiAgZnJvbVJvdXRlSWQ/OiBzdHJpbmc7XG4gIHZpZXdUcmFuc2l0aW9uPzogYm9vbGVhbjtcbn07XG5cbi8vIE9ubHkgYWxsb3dlZCBmb3Igc3VibWlzc2lvbiBuYXZpZ2F0aW9uc1xudHlwZSBCYXNlU3VibWlzc2lvbk9wdGlvbnMgPSB7XG4gIGZvcm1NZXRob2Q/OiBIVE1MRm9ybU1ldGhvZDtcbiAgZm9ybUVuY1R5cGU/OiBGb3JtRW5jVHlwZTtcbn0gJiAoXG4gIHwgeyBmb3JtRGF0YTogRm9ybURhdGE7IGJvZHk/OiB1bmRlZmluZWQgfVxuICB8IHsgZm9ybURhdGE/OiB1bmRlZmluZWQ7IGJvZHk6IGFueSB9XG4pO1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIGEgbmF2aWdhdGUoKSBjYWxsIGZvciBhIG5vcm1hbCAobm9uLXN1Ym1pc3Npb24pIG5hdmlnYXRpb25cbiAqL1xudHlwZSBMaW5rTmF2aWdhdGVPcHRpb25zID0gQmFzZU5hdmlnYXRlT3B0aW9ucztcblxuLyoqXG4gKiBPcHRpb25zIGZvciBhIG5hdmlnYXRlKCkgY2FsbCBmb3IgYSBzdWJtaXNzaW9uIG5hdmlnYXRpb25cbiAqL1xudHlwZSBTdWJtaXNzaW9uTmF2aWdhdGVPcHRpb25zID0gQmFzZU5hdmlnYXRlT3B0aW9ucyAmIEJhc2VTdWJtaXNzaW9uT3B0aW9ucztcblxuLyoqXG4gKiBPcHRpb25zIHRvIHBhc3MgdG8gbmF2aWdhdGUoKSBmb3IgYSBuYXZpZ2F0aW9uXG4gKi9cbmV4cG9ydCB0eXBlIFJvdXRlck5hdmlnYXRlT3B0aW9ucyA9XG4gIHwgTGlua05hdmlnYXRlT3B0aW9uc1xuICB8IFN1Ym1pc3Npb25OYXZpZ2F0ZU9wdGlvbnM7XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgYSBmZXRjaCgpIGxvYWRcbiAqL1xudHlwZSBMb2FkRmV0Y2hPcHRpb25zID0gQmFzZU5hdmlnYXRlT3JGZXRjaE9wdGlvbnM7XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgYSBmZXRjaCgpIHN1Ym1pc3Npb25cbiAqL1xudHlwZSBTdWJtaXRGZXRjaE9wdGlvbnMgPSBCYXNlTmF2aWdhdGVPckZldGNoT3B0aW9ucyAmIEJhc2VTdWJtaXNzaW9uT3B0aW9ucztcblxuLyoqXG4gKiBPcHRpb25zIHRvIHBhc3MgdG8gZmV0Y2goKVxuICovXG5leHBvcnQgdHlwZSBSb3V0ZXJGZXRjaE9wdGlvbnMgPSBMb2FkRmV0Y2hPcHRpb25zIHwgU3VibWl0RmV0Y2hPcHRpb25zO1xuXG4vKipcbiAqIFBvdGVudGlhbCBzdGF0ZXMgZm9yIHN0YXRlLm5hdmlnYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgTmF2aWdhdGlvblN0YXRlcyA9IHtcbiAgSWRsZToge1xuICAgIHN0YXRlOiBcImlkbGVcIjtcbiAgICBsb2NhdGlvbjogdW5kZWZpbmVkO1xuICAgIGZvcm1NZXRob2Q6IHVuZGVmaW5lZDtcbiAgICBmb3JtQWN0aW9uOiB1bmRlZmluZWQ7XG4gICAgZm9ybUVuY1R5cGU6IHVuZGVmaW5lZDtcbiAgICBmb3JtRGF0YTogdW5kZWZpbmVkO1xuICAgIGpzb246IHVuZGVmaW5lZDtcbiAgICB0ZXh0OiB1bmRlZmluZWQ7XG4gIH07XG4gIExvYWRpbmc6IHtcbiAgICBzdGF0ZTogXCJsb2FkaW5nXCI7XG4gICAgbG9jYXRpb246IExvY2F0aW9uO1xuICAgIGZvcm1NZXRob2Q6IFN1Ym1pc3Npb25bXCJmb3JtTWV0aG9kXCJdIHwgdW5kZWZpbmVkO1xuICAgIGZvcm1BY3Rpb246IFN1Ym1pc3Npb25bXCJmb3JtQWN0aW9uXCJdIHwgdW5kZWZpbmVkO1xuICAgIGZvcm1FbmNUeXBlOiBTdWJtaXNzaW9uW1wiZm9ybUVuY1R5cGVcIl0gfCB1bmRlZmluZWQ7XG4gICAgZm9ybURhdGE6IFN1Ym1pc3Npb25bXCJmb3JtRGF0YVwiXSB8IHVuZGVmaW5lZDtcbiAgICBqc29uOiBTdWJtaXNzaW9uW1wianNvblwiXSB8IHVuZGVmaW5lZDtcbiAgICB0ZXh0OiBTdWJtaXNzaW9uW1widGV4dFwiXSB8IHVuZGVmaW5lZDtcbiAgfTtcbiAgU3VibWl0dGluZzoge1xuICAgIHN0YXRlOiBcInN1Ym1pdHRpbmdcIjtcbiAgICBsb2NhdGlvbjogTG9jYXRpb247XG4gICAgZm9ybU1ldGhvZDogU3VibWlzc2lvbltcImZvcm1NZXRob2RcIl07XG4gICAgZm9ybUFjdGlvbjogU3VibWlzc2lvbltcImZvcm1BY3Rpb25cIl07XG4gICAgZm9ybUVuY1R5cGU6IFN1Ym1pc3Npb25bXCJmb3JtRW5jVHlwZVwiXTtcbiAgICBmb3JtRGF0YTogU3VibWlzc2lvbltcImZvcm1EYXRhXCJdO1xuICAgIGpzb246IFN1Ym1pc3Npb25bXCJqc29uXCJdO1xuICAgIHRleHQ6IFN1Ym1pc3Npb25bXCJ0ZXh0XCJdO1xuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgTmF2aWdhdGlvbiA9IE5hdmlnYXRpb25TdGF0ZXNba2V5b2YgTmF2aWdhdGlvblN0YXRlc107XG5cbmV4cG9ydCB0eXBlIFJldmFsaWRhdGlvblN0YXRlID0gXCJpZGxlXCIgfCBcImxvYWRpbmdcIjtcblxuLyoqXG4gKiBQb3RlbnRpYWwgc3RhdGVzIGZvciBmZXRjaGVyc1xuICovXG50eXBlIEZldGNoZXJTdGF0ZXM8VERhdGEgPSBhbnk+ID0ge1xuICBJZGxlOiB7XG4gICAgc3RhdGU6IFwiaWRsZVwiO1xuICAgIGZvcm1NZXRob2Q6IHVuZGVmaW5lZDtcbiAgICBmb3JtQWN0aW9uOiB1bmRlZmluZWQ7XG4gICAgZm9ybUVuY1R5cGU6IHVuZGVmaW5lZDtcbiAgICB0ZXh0OiB1bmRlZmluZWQ7XG4gICAgZm9ybURhdGE6IHVuZGVmaW5lZDtcbiAgICBqc29uOiB1bmRlZmluZWQ7XG4gICAgZGF0YTogVERhdGEgfCB1bmRlZmluZWQ7XG4gIH07XG4gIExvYWRpbmc6IHtcbiAgICBzdGF0ZTogXCJsb2FkaW5nXCI7XG4gICAgZm9ybU1ldGhvZDogU3VibWlzc2lvbltcImZvcm1NZXRob2RcIl0gfCB1bmRlZmluZWQ7XG4gICAgZm9ybUFjdGlvbjogU3VibWlzc2lvbltcImZvcm1BY3Rpb25cIl0gfCB1bmRlZmluZWQ7XG4gICAgZm9ybUVuY1R5cGU6IFN1Ym1pc3Npb25bXCJmb3JtRW5jVHlwZVwiXSB8IHVuZGVmaW5lZDtcbiAgICB0ZXh0OiBTdWJtaXNzaW9uW1widGV4dFwiXSB8IHVuZGVmaW5lZDtcbiAgICBmb3JtRGF0YTogU3VibWlzc2lvbltcImZvcm1EYXRhXCJdIHwgdW5kZWZpbmVkO1xuICAgIGpzb246IFN1Ym1pc3Npb25bXCJqc29uXCJdIHwgdW5kZWZpbmVkO1xuICAgIGRhdGE6IFREYXRhIHwgdW5kZWZpbmVkO1xuICB9O1xuICBTdWJtaXR0aW5nOiB7XG4gICAgc3RhdGU6IFwic3VibWl0dGluZ1wiO1xuICAgIGZvcm1NZXRob2Q6IFN1Ym1pc3Npb25bXCJmb3JtTWV0aG9kXCJdO1xuICAgIGZvcm1BY3Rpb246IFN1Ym1pc3Npb25bXCJmb3JtQWN0aW9uXCJdO1xuICAgIGZvcm1FbmNUeXBlOiBTdWJtaXNzaW9uW1wiZm9ybUVuY1R5cGVcIl07XG4gICAgdGV4dDogU3VibWlzc2lvbltcInRleHRcIl07XG4gICAgZm9ybURhdGE6IFN1Ym1pc3Npb25bXCJmb3JtRGF0YVwiXTtcbiAgICBqc29uOiBTdWJtaXNzaW9uW1wianNvblwiXTtcbiAgICBkYXRhOiBURGF0YSB8IHVuZGVmaW5lZDtcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIEZldGNoZXI8VERhdGEgPSBhbnk+ID1cbiAgRmV0Y2hlclN0YXRlczxURGF0YT5ba2V5b2YgRmV0Y2hlclN0YXRlczxURGF0YT5dO1xuXG5pbnRlcmZhY2UgQmxvY2tlckJsb2NrZWQge1xuICBzdGF0ZTogXCJibG9ja2VkXCI7XG4gIHJlc2V0KCk6IHZvaWQ7XG4gIHByb2NlZWQoKTogdm9pZDtcbiAgbG9jYXRpb246IExvY2F0aW9uO1xufVxuXG5pbnRlcmZhY2UgQmxvY2tlclVuYmxvY2tlZCB7XG4gIHN0YXRlOiBcInVuYmxvY2tlZFwiO1xuICByZXNldDogdW5kZWZpbmVkO1xuICBwcm9jZWVkOiB1bmRlZmluZWQ7XG4gIGxvY2F0aW9uOiB1bmRlZmluZWQ7XG59XG5cbmludGVyZmFjZSBCbG9ja2VyUHJvY2VlZGluZyB7XG4gIHN0YXRlOiBcInByb2NlZWRpbmdcIjtcbiAgcmVzZXQ6IHVuZGVmaW5lZDtcbiAgcHJvY2VlZDogdW5kZWZpbmVkO1xuICBsb2NhdGlvbjogTG9jYXRpb247XG59XG5cbmV4cG9ydCB0eXBlIEJsb2NrZXIgPSBCbG9ja2VyVW5ibG9ja2VkIHwgQmxvY2tlckJsb2NrZWQgfCBCbG9ja2VyUHJvY2VlZGluZztcblxuZXhwb3J0IHR5cGUgQmxvY2tlckZ1bmN0aW9uID0gKGFyZ3M6IHtcbiAgY3VycmVudExvY2F0aW9uOiBMb2NhdGlvbjtcbiAgbmV4dExvY2F0aW9uOiBMb2NhdGlvbjtcbiAgaGlzdG9yeUFjdGlvbjogSGlzdG9yeUFjdGlvbjtcbn0pID0+IGJvb2xlYW47XG5cbmludGVyZmFjZSBTaG9ydENpcmN1aXRhYmxlIHtcbiAgLyoqXG4gICAqIHN0YXJ0TmF2aWdhdGlvbiBkb2VzIG5vdCBuZWVkIHRvIGNvbXBsZXRlIHRoZSBuYXZpZ2F0aW9uIGJlY2F1c2Ugd2VcbiAgICogcmVkaXJlY3RlZCBvciBnb3QgaW50ZXJydXB0ZWRcbiAgICovXG4gIHNob3J0Q2lyY3VpdGVkPzogYm9vbGVhbjtcbn1cblxudHlwZSBQZW5kaW5nQWN0aW9uUmVzdWx0ID0gW3N0cmluZywgU3VjY2Vzc1Jlc3VsdCB8IEVycm9yUmVzdWx0XTtcblxuaW50ZXJmYWNlIEhhbmRsZUFjdGlvblJlc3VsdCBleHRlbmRzIFNob3J0Q2lyY3VpdGFibGUge1xuICAvKipcbiAgICogUm91dGUgbWF0Y2hlcyB3aGljaCBtYXkgaGF2ZSBiZWVuIHVwZGF0ZWQgZnJvbSBmb2cgb2Ygd2FyIGRpc2NvdmVyeVxuICAgKi9cbiAgbWF0Y2hlcz86IFJvdXRlclN0YXRlW1wibWF0Y2hlc1wiXTtcbiAgLyoqXG4gICAqIFR1cGxlIGZvciB0aGUgcmV0dXJuZWQgb3IgdGhyb3duIHZhbHVlIGZyb20gdGhlIGN1cnJlbnQgYWN0aW9uLiAgVGhlIHJvdXRlSWRcbiAgICogaXMgdGhlIGFjdGlvbiByb3V0ZSBmb3Igc3VjY2VzcyBhbmQgdGhlIGJ1YmJsZWQgYm91bmRhcnkgcm91dGUgZm9yIGVycm9ycy5cbiAgICovXG4gIHBlbmRpbmdBY3Rpb25SZXN1bHQ/OiBQZW5kaW5nQWN0aW9uUmVzdWx0O1xufVxuXG5pbnRlcmZhY2UgSGFuZGxlTG9hZGVyc1Jlc3VsdCBleHRlbmRzIFNob3J0Q2lyY3VpdGFibGUge1xuICAvKipcbiAgICogUm91dGUgbWF0Y2hlcyB3aGljaCBtYXkgaGF2ZSBiZWVuIHVwZGF0ZWQgZnJvbSBmb2cgb2Ygd2FyIGRpc2NvdmVyeVxuICAgKi9cbiAgbWF0Y2hlcz86IFJvdXRlclN0YXRlW1wibWF0Y2hlc1wiXTtcbiAgLyoqXG4gICAqIGxvYWRlckRhdGEgcmV0dXJuZWQgZnJvbSB0aGUgY3VycmVudCBzZXQgb2YgbG9hZGVyc1xuICAgKi9cbiAgbG9hZGVyRGF0YT86IFJvdXRlclN0YXRlW1wibG9hZGVyRGF0YVwiXTtcbiAgLyoqXG4gICAqIGVycm9ycyB0aHJvd24gZnJvbSB0aGUgY3VycmVudCBzZXQgb2YgbG9hZGVyc1xuICAgKi9cbiAgZXJyb3JzPzogUm91dGVyU3RhdGVbXCJlcnJvcnNcIl07XG59XG5cbi8qKlxuICogQ2FjaGVkIGluZm8gZm9yIGFjdGl2ZSBmZXRjaGVyLmxvYWQoKSBpbnN0YW5jZXMgc28gdGhleSBjYW4gcGFydGljaXBhdGVcbiAqIGluIHJldmFsaWRhdGlvblxuICovXG5pbnRlcmZhY2UgRmV0Y2hMb2FkTWF0Y2gge1xuICByb3V0ZUlkOiBzdHJpbmc7XG4gIHBhdGg6IHN0cmluZztcbn1cblxuLyoqXG4gKiBJZGVudGlmaWVkIGZldGNoZXIubG9hZCgpIGNhbGxzIHRoYXQgbmVlZCB0byBiZSByZXZhbGlkYXRlZFxuICovXG5pbnRlcmZhY2UgUmV2YWxpZGF0aW5nRmV0Y2hlciBleHRlbmRzIEZldGNoTG9hZE1hdGNoIHtcbiAga2V5OiBzdHJpbmc7XG4gIG1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoIHwgbnVsbDtcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdIHwgbnVsbDtcbiAgY29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyIHwgbnVsbDtcbn1cblxuY29uc3QgdmFsaWRNdXRhdGlvbk1ldGhvZHNBcnI6IE11dGF0aW9uRm9ybU1ldGhvZFtdID0gW1xuICBcInBvc3RcIixcbiAgXCJwdXRcIixcbiAgXCJwYXRjaFwiLFxuICBcImRlbGV0ZVwiLFxuXTtcbmNvbnN0IHZhbGlkTXV0YXRpb25NZXRob2RzID0gbmV3IFNldDxNdXRhdGlvbkZvcm1NZXRob2Q+KFxuICB2YWxpZE11dGF0aW9uTWV0aG9kc0FyclxuKTtcblxuY29uc3QgdmFsaWRSZXF1ZXN0TWV0aG9kc0FycjogRm9ybU1ldGhvZFtdID0gW1xuICBcImdldFwiLFxuICAuLi52YWxpZE11dGF0aW9uTWV0aG9kc0Fycixcbl07XG5jb25zdCB2YWxpZFJlcXVlc3RNZXRob2RzID0gbmV3IFNldDxGb3JtTWV0aG9kPih2YWxpZFJlcXVlc3RNZXRob2RzQXJyKTtcblxuY29uc3QgcmVkaXJlY3RTdGF0dXNDb2RlcyA9IG5ldyBTZXQoWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XSk7XG5jb25zdCByZWRpcmVjdFByZXNlcnZlTWV0aG9kU3RhdHVzQ29kZXMgPSBuZXcgU2V0KFszMDcsIDMwOF0pO1xuXG5leHBvcnQgY29uc3QgSURMRV9OQVZJR0FUSU9OOiBOYXZpZ2F0aW9uU3RhdGVzW1wiSWRsZVwiXSA9IHtcbiAgc3RhdGU6IFwiaWRsZVwiLFxuICBsb2NhdGlvbjogdW5kZWZpbmVkLFxuICBmb3JtTWV0aG9kOiB1bmRlZmluZWQsXG4gIGZvcm1BY3Rpb246IHVuZGVmaW5lZCxcbiAgZm9ybUVuY1R5cGU6IHVuZGVmaW5lZCxcbiAgZm9ybURhdGE6IHVuZGVmaW5lZCxcbiAganNvbjogdW5kZWZpbmVkLFxuICB0ZXh0OiB1bmRlZmluZWQsXG59O1xuXG5leHBvcnQgY29uc3QgSURMRV9GRVRDSEVSOiBGZXRjaGVyU3RhdGVzW1wiSWRsZVwiXSA9IHtcbiAgc3RhdGU6IFwiaWRsZVwiLFxuICBkYXRhOiB1bmRlZmluZWQsXG4gIGZvcm1NZXRob2Q6IHVuZGVmaW5lZCxcbiAgZm9ybUFjdGlvbjogdW5kZWZpbmVkLFxuICBmb3JtRW5jVHlwZTogdW5kZWZpbmVkLFxuICBmb3JtRGF0YTogdW5kZWZpbmVkLFxuICBqc29uOiB1bmRlZmluZWQsXG4gIHRleHQ6IHVuZGVmaW5lZCxcbn07XG5cbmV4cG9ydCBjb25zdCBJRExFX0JMT0NLRVI6IEJsb2NrZXJVbmJsb2NrZWQgPSB7XG4gIHN0YXRlOiBcInVuYmxvY2tlZFwiLFxuICBwcm9jZWVkOiB1bmRlZmluZWQsXG4gIHJlc2V0OiB1bmRlZmluZWQsXG4gIGxvY2F0aW9uOiB1bmRlZmluZWQsXG59O1xuXG5jb25zdCBBQlNPTFVURV9VUkxfUkVHRVggPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG5cbmNvbnN0IGRlZmF1bHRNYXBSb3V0ZVByb3BlcnRpZXM6IE1hcFJvdXRlUHJvcGVydGllc0Z1bmN0aW9uID0gKHJvdXRlKSA9PiAoe1xuICBoYXNFcnJvckJvdW5kYXJ5OiBCb29sZWFuKHJvdXRlLmhhc0Vycm9yQm91bmRhcnkpLFxufSk7XG5cbmNvbnN0IFRSQU5TSVRJT05TX1NUT1JBR0VfS0VZID0gXCJyZW1peC1yb3V0ZXItdHJhbnNpdGlvbnNcIjtcblxuLy8jZW5kcmVnaW9uXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyNyZWdpb24gY3JlYXRlUm91dGVyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIENyZWF0ZSBhIHJvdXRlciBhbmQgbGlzdGVuIHRvIGhpc3RvcnkgUE9QIG5hdmlnYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSb3V0ZXIoaW5pdDogUm91dGVySW5pdCk6IFJvdXRlciB7XG4gIGNvbnN0IHJvdXRlcldpbmRvdyA9IGluaXQud2luZG93XG4gICAgPyBpbml0LndpbmRvd1xuICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgID8gd2luZG93XG4gICAgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGlzQnJvd3NlciA9XG4gICAgdHlwZW9mIHJvdXRlcldpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiByb3V0ZXJXaW5kb3cuZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICB0eXBlb2Ygcm91dGVyV2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG4gIGNvbnN0IGlzU2VydmVyID0gIWlzQnJvd3NlcjtcblxuICBpbnZhcmlhbnQoXG4gICAgaW5pdC5yb3V0ZXMubGVuZ3RoID4gMCxcbiAgICBcIllvdSBtdXN0IHByb3ZpZGUgYSBub24tZW1wdHkgcm91dGVzIGFycmF5IHRvIGNyZWF0ZVJvdXRlclwiXG4gICk7XG5cbiAgbGV0IG1hcFJvdXRlUHJvcGVydGllczogTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb247XG4gIGlmIChpbml0Lm1hcFJvdXRlUHJvcGVydGllcykge1xuICAgIG1hcFJvdXRlUHJvcGVydGllcyA9IGluaXQubWFwUm91dGVQcm9wZXJ0aWVzO1xuICB9IGVsc2UgaWYgKGluaXQuZGV0ZWN0RXJyb3JCb3VuZGFyeSkge1xuICAgIC8vIElmIHRoZXkgYXJlIHN0aWxsIHVzaW5nIHRoZSBkZXByZWNhdGVkIHZlcnNpb24sIHdyYXAgaXQgd2l0aCB0aGUgbmV3IEFQSVxuICAgIGxldCBkZXRlY3RFcnJvckJvdW5kYXJ5ID0gaW5pdC5kZXRlY3RFcnJvckJvdW5kYXJ5O1xuICAgIG1hcFJvdXRlUHJvcGVydGllcyA9IChyb3V0ZSkgPT4gKHtcbiAgICAgIGhhc0Vycm9yQm91bmRhcnk6IGRldGVjdEVycm9yQm91bmRhcnkocm91dGUpLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG1hcFJvdXRlUHJvcGVydGllcyA9IGRlZmF1bHRNYXBSb3V0ZVByb3BlcnRpZXM7XG4gIH1cblxuICAvLyBSb3V0ZXMga2V5ZWQgYnkgSURcbiAgbGV0IG1hbmlmZXN0OiBSb3V0ZU1hbmlmZXN0ID0ge307XG4gIC8vIFJvdXRlcyBpbiB0cmVlIGZvcm1hdCBmb3IgbWF0Y2hpbmdcbiAgbGV0IGRhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIGluaXQucm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICB1bmRlZmluZWQsXG4gICAgbWFuaWZlc3RcbiAgKTtcbiAgbGV0IGluRmxpZ2h0RGF0YVJvdXRlczogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXSB8IHVuZGVmaW5lZDtcbiAgbGV0IGJhc2VuYW1lID0gaW5pdC5iYXNlbmFtZSB8fCBcIi9cIjtcbiAgbGV0IGRhdGFTdHJhdGVneUltcGwgPSBpbml0LmRhdGFTdHJhdGVneSB8fCBkZWZhdWx0RGF0YVN0cmF0ZWd5O1xuICBsZXQgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25JbXBsID0gaW5pdC5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbjtcblxuICAvLyBDb25maWcgZHJpdmVuIGJlaGF2aW9yIGZsYWdzXG4gIGxldCBmdXR1cmU6IEZ1dHVyZUNvbmZpZyA9IHtcbiAgICB2N19mZXRjaGVyUGVyc2lzdDogZmFsc2UsXG4gICAgdjdfbm9ybWFsaXplRm9ybU1ldGhvZDogZmFsc2UsXG4gICAgdjdfcGFydGlhbEh5ZHJhdGlvbjogZmFsc2UsXG4gICAgdjdfcHJlcGVuZEJhc2VuYW1lOiBmYWxzZSxcbiAgICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogZmFsc2UsXG4gICAgdjdfc2tpcEFjdGlvbkVycm9yUmV2YWxpZGF0aW9uOiBmYWxzZSxcbiAgICAuLi5pbml0LmZ1dHVyZSxcbiAgfTtcbiAgLy8gQ2xlYW51cCBmdW5jdGlvbiBmb3IgaGlzdG9yeVxuICBsZXQgdW5saXN0ZW5IaXN0b3J5OiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcbiAgLy8gRXh0ZXJuYWxseS1wcm92aWRlZCBmdW5jdGlvbnMgdG8gY2FsbCBvbiBhbGwgc3RhdGUgY2hhbmdlc1xuICBsZXQgc3Vic2NyaWJlcnMgPSBuZXcgU2V0PFJvdXRlclN1YnNjcmliZXI+KCk7XG4gIC8vIEV4dGVybmFsbHktcHJvdmlkZWQgb2JqZWN0IHRvIGhvbGQgc2Nyb2xsIHJlc3RvcmF0aW9uIGxvY2F0aW9ucyBkdXJpbmcgcm91dGluZ1xuICBsZXQgc2F2ZWRTY3JvbGxQb3NpdGlvbnM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gfCBudWxsID0gbnVsbDtcbiAgLy8gRXh0ZXJuYWxseS1wcm92aWRlZCBmdW5jdGlvbiB0byBnZXQgc2Nyb2xsIHJlc3RvcmF0aW9uIGtleXNcbiAgbGV0IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5OiBHZXRTY3JvbGxSZXN0b3JhdGlvbktleUZ1bmN0aW9uIHwgbnVsbCA9IG51bGw7XG4gIC8vIEV4dGVybmFsbHktcHJvdmlkZWQgZnVuY3Rpb24gdG8gZ2V0IGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uXG4gIGxldCBnZXRTY3JvbGxQb3NpdGlvbjogR2V0U2Nyb2xsUG9zaXRpb25GdW5jdGlvbiB8IG51bGwgPSBudWxsO1xuICAvLyBPbmUtdGltZSBmbGFnIHRvIGNvbnRyb2wgdGhlIGluaXRpYWwgaHlkcmF0aW9uIHNjcm9sbCByZXN0b3JhdGlvbi4gIEJlY2F1c2VcbiAgLy8gd2UgZG9uJ3QgZ2V0IHRoZSBzYXZlZCBwb3NpdGlvbnMgZnJvbSA8U2Nyb2xsUmVzdG9yYXRpb24gLz4gdW50aWwgX2FmdGVyX1xuICAvLyB0aGUgaW5pdGlhbCByZW5kZXIsIHdlIG5lZWQgdG8gbWFudWFsbHkgdHJpZ2dlciBhIHNlcGFyYXRlIHVwZGF0ZVN0YXRlIHRvXG4gIC8vIHNlbmQgYWxvbmcgdGhlIHJlc3RvcmVTY3JvbGxQb3NpdGlvblxuICAvLyBTZXQgdG8gdHJ1ZSBpZiB3ZSBoYXZlIGBoeWRyYXRpb25EYXRhYCBzaW5jZSB3ZSBhc3N1bWUgd2Ugd2VyZSBTU1InZCBhbmQgdGhhdFxuICAvLyBTU1IgZGlkIHRoZSBpbml0aWFsIHNjcm9sbCByZXN0b3JhdGlvbi5cbiAgbGV0IGluaXRpYWxTY3JvbGxSZXN0b3JlZCA9IGluaXQuaHlkcmF0aW9uRGF0YSAhPSBudWxsO1xuXG4gIGxldCBpbml0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGluaXQuaGlzdG9yeS5sb2NhdGlvbiwgYmFzZW5hbWUpO1xuICBsZXQgaW5pdGlhbE1hdGNoZXNJc0ZPVyA9IGZhbHNlO1xuICBsZXQgaW5pdGlhbEVycm9yczogUm91dGVEYXRhIHwgbnVsbCA9IG51bGw7XG5cbiAgaWYgKGluaXRpYWxNYXRjaGVzID09IG51bGwgJiYgIXBhdGNoUm91dGVzT25OYXZpZ2F0aW9uSW1wbCkge1xuICAgIC8vIElmIHdlIGRvIG5vdCBtYXRjaCBhIHVzZXItcHJvdmlkZWQtcm91dGUsIGZhbGwgYmFjayB0byB0aGUgcm9vdFxuICAgIC8vIHRvIGFsbG93IHRoZSBlcnJvciBib3VuZGFyeSB0byB0YWtlIG92ZXJcbiAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgcGF0aG5hbWU6IGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZSxcbiAgICB9KTtcbiAgICBsZXQgeyBtYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICBpbml0aWFsTWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgaW5pdGlhbEVycm9ycyA9IHsgW3JvdXRlLmlkXTogZXJyb3IgfTtcbiAgfVxuXG4gIC8vIEluIFNQQSBhcHBzLCBpZiB0aGUgdXNlciBwcm92aWRlZCBhIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uIGltcGxlbWVudGF0aW9uIGFuZFxuICAvLyBvdXIgaW5pdGlhbCBtYXRjaCBpcyBhIHNwbGF0IHJvdXRlLCBjbGVhciB0aGVtIG91dCBzbyB3ZSBydW4gdGhyb3VnaCBsYXp5XG4gIC8vIGRpc2NvdmVyeSBvbiBoeWRyYXRpb24gaW4gY2FzZSB0aGVyZSdzIGEgbW9yZSBhY2N1cmF0ZSBsYXp5IHJvdXRlIG1hdGNoLlxuICAvLyBJbiBTU1IgYXBwcyAod2l0aCBgaHlkcmF0aW9uRGF0YWApLCB3ZSBleHBlY3QgdGhhdCB0aGUgc2VydmVyIHdpbGwgc2VuZFxuICAvLyB1cCB0aGUgcHJvcGVyIG1hdGNoZWQgcm91dGVzIHNvIHdlIGRvbid0IHdhbnQgdG8gcnVuIGxhenkgZGlzY292ZXJ5IG9uXG4gIC8vIGluaXRpYWwgaHlkcmF0aW9uIGFuZCB3YW50IHRvIGh5ZHJhdGUgaW50byB0aGUgc3BsYXQgcm91dGUuXG4gIGlmIChpbml0aWFsTWF0Y2hlcyAmJiAhaW5pdC5oeWRyYXRpb25EYXRhKSB7XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihcbiAgICAgIGluaXRpYWxNYXRjaGVzLFxuICAgICAgZGF0YVJvdXRlcyxcbiAgICAgIGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgICk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSkge1xuICAgICAgaW5pdGlhbE1hdGNoZXMgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGxldCBpbml0aWFsaXplZDogYm9vbGVhbjtcbiAgaWYgKCFpbml0aWFsTWF0Y2hlcykge1xuICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgaW5pdGlhbE1hdGNoZXMgPSBbXTtcblxuICAgIC8vIElmIHBhcnRpYWwgaHlkcmF0aW9uIGFuZCBmb2cgb2Ygd2FyIGlzIGVuYWJsZWQsIHdlIHdpbGwgYmUgcnVubmluZ1xuICAgIC8vIGBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbmAgZHVyaW5nIGh5ZHJhdGlvbiBzbyBpbmNsdWRlIGFueSBwYXJ0aWFsIG1hdGNoZXMgYXNcbiAgICAvLyB0aGUgaW5pdGlhbCBtYXRjaGVzIHNvIHdlIGNhbiBwcm9wZXJseSByZW5kZXIgYEh5ZHJhdGVGYWxsYmFja2Anc1xuICAgIGlmIChmdXR1cmUudjdfcGFydGlhbEh5ZHJhdGlvbikge1xuICAgICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZGF0YVJvdXRlcyxcbiAgICAgICAgaW5pdC5oaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICApO1xuICAgICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSAmJiBmb2dPZldhci5tYXRjaGVzKSB7XG4gICAgICAgIGluaXRpYWxNYXRjaGVzSXNGT1cgPSB0cnVlO1xuICAgICAgICBpbml0aWFsTWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGluaXRpYWxNYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUubGF6eSkpIHtcbiAgICAvLyBBbGwgaW5pdGlhbE1hdGNoZXMgbmVlZCB0byBiZSBsb2FkZWQgYmVmb3JlIHdlJ3JlIHJlYWR5LiAgSWYgd2UgaGF2ZSBsYXp5XG4gICAgLy8gZnVuY3Rpb25zIGFyb3VuZCBzdGlsbCB0aGVuIHdlJ2xsIG5lZWQgdG8gcnVuIHRoZW0gaW4gaW5pdGlhbGl6ZSgpXG4gICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgfSBlbHNlIGlmICghaW5pdGlhbE1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5sb2FkZXIpKSB7XG4gICAgLy8gSWYgd2UndmUgZ290IG5vIGxvYWRlcnMgdG8gcnVuLCB0aGVuIHdlJ3JlIGdvb2QgdG8gZ29cbiAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gIH0gZWxzZSBpZiAoZnV0dXJlLnY3X3BhcnRpYWxIeWRyYXRpb24pIHtcbiAgICAvLyBJZiBwYXJ0aWFsIGh5ZHJhdGlvbiBpcyBlbmFibGVkLCB3ZSdyZSBpbml0aWFsaXplZCBzbyBsb25nIGFzIHdlIHdlcmVcbiAgICAvLyBwcm92aWRlZCB3aXRoIGh5ZHJhdGlvbkRhdGEgZm9yIGV2ZXJ5IHJvdXRlIHdpdGggYSBsb2FkZXIsIGFuZCBubyBsb2FkZXJzXG4gICAgLy8gd2VyZSBtYXJrZWQgZm9yIGV4cGxpY2l0IGh5ZHJhdGlvblxuICAgIGxldCBsb2FkZXJEYXRhID0gaW5pdC5oeWRyYXRpb25EYXRhID8gaW5pdC5oeWRyYXRpb25EYXRhLmxvYWRlckRhdGEgOiBudWxsO1xuICAgIGxldCBlcnJvcnMgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgPyBpbml0Lmh5ZHJhdGlvbkRhdGEuZXJyb3JzIDogbnVsbDtcbiAgICAvLyBJZiBlcnJvcnMgZXhpc3QsIGRvbid0IGNvbnNpZGVyIHJvdXRlcyBiZWxvdyB0aGUgYm91bmRhcnlcbiAgICBpZiAoZXJyb3JzKSB7XG4gICAgICBsZXQgaWR4ID0gaW5pdGlhbE1hdGNoZXMuZmluZEluZGV4KFxuICAgICAgICAobSkgPT4gZXJyb3JzIVttLnJvdXRlLmlkXSAhPT0gdW5kZWZpbmVkXG4gICAgICApO1xuICAgICAgaW5pdGlhbGl6ZWQgPSBpbml0aWFsTWF0Y2hlc1xuICAgICAgICAuc2xpY2UoMCwgaWR4ICsgMSlcbiAgICAgICAgLmV2ZXJ5KChtKSA9PiAhc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24obS5yb3V0ZSwgbG9hZGVyRGF0YSwgZXJyb3JzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXRpYWxpemVkID0gaW5pdGlhbE1hdGNoZXMuZXZlcnkoXG4gICAgICAgIChtKSA9PiAhc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24obS5yb3V0ZSwgbG9hZGVyRGF0YSwgZXJyb3JzKVxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2l0aG91dCBwYXJ0aWFsIGh5ZHJhdGlvbiAtIHdlJ3JlIGluaXRpYWxpemVkIGlmIHdlIHdlcmUgcHJvdmlkZWQgYW55XG4gICAgLy8gaHlkcmF0aW9uRGF0YSAtIHdoaWNoIGlzIGV4cGVjdGVkIHRvIGJlIGNvbXBsZXRlXG4gICAgaW5pdGlhbGl6ZWQgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgIT0gbnVsbDtcbiAgfVxuXG4gIGxldCByb3V0ZXI6IFJvdXRlcjtcbiAgbGV0IHN0YXRlOiBSb3V0ZXJTdGF0ZSA9IHtcbiAgICBoaXN0b3J5QWN0aW9uOiBpbml0Lmhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBpbml0Lmhpc3RvcnkubG9jYXRpb24sXG4gICAgbWF0Y2hlczogaW5pdGlhbE1hdGNoZXMsXG4gICAgaW5pdGlhbGl6ZWQsXG4gICAgbmF2aWdhdGlvbjogSURMRV9OQVZJR0FUSU9OLFxuICAgIC8vIERvbid0IHJlc3RvcmUgb24gaW5pdGlhbCB1cGRhdGVTdGF0ZSgpIGlmIHdlIHdlcmUgU1NSJ2RcbiAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IGluaXQuaHlkcmF0aW9uRGF0YSAhPSBudWxsID8gZmFsc2UgOiBudWxsLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldDogZmFsc2UsXG4gICAgcmV2YWxpZGF0aW9uOiBcImlkbGVcIixcbiAgICBsb2FkZXJEYXRhOiAoaW5pdC5oeWRyYXRpb25EYXRhICYmIGluaXQuaHlkcmF0aW9uRGF0YS5sb2FkZXJEYXRhKSB8fCB7fSxcbiAgICBhY3Rpb25EYXRhOiAoaW5pdC5oeWRyYXRpb25EYXRhICYmIGluaXQuaHlkcmF0aW9uRGF0YS5hY3Rpb25EYXRhKSB8fCBudWxsLFxuICAgIGVycm9yczogKGluaXQuaHlkcmF0aW9uRGF0YSAmJiBpbml0Lmh5ZHJhdGlvbkRhdGEuZXJyb3JzKSB8fCBpbml0aWFsRXJyb3JzLFxuICAgIGZldGNoZXJzOiBuZXcgTWFwKCksXG4gICAgYmxvY2tlcnM6IG5ldyBNYXAoKSxcbiAgfTtcblxuICAvLyAtLSBTdGF0ZWZ1bCBpbnRlcm5hbCB2YXJpYWJsZXMgdG8gbWFuYWdlIG5hdmlnYXRpb25zIC0tXG4gIC8vIEN1cnJlbnQgbmF2aWdhdGlvbiBpbiBwcm9ncmVzcyAodG8gYmUgY29tbWl0dGVkIGluIGNvbXBsZXRlTmF2aWdhdGlvbilcbiAgbGV0IHBlbmRpbmdBY3Rpb246IEhpc3RvcnlBY3Rpb24gPSBIaXN0b3J5QWN0aW9uLlBvcDtcblxuICAvLyBTaG91bGQgdGhlIGN1cnJlbnQgbmF2aWdhdGlvbiBwcmV2ZW50IHRoZSBzY3JvbGwgcmVzZXQgaWYgc2Nyb2xsIGNhbm5vdFxuICAvLyBiZSByZXN0b3JlZD9cbiAgbGV0IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPSBmYWxzZTtcblxuICAvLyBBYm9ydENvbnRyb2xsZXIgZm9yIHRoZSBhY3RpdmUgbmF2aWdhdGlvblxuICBsZXQgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIgfCBudWxsO1xuXG4gIC8vIFNob3VsZCB0aGUgY3VycmVudCBuYXZpZ2F0aW9uIGVuYWJsZSBkb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uP1xuICBsZXQgcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9IGZhbHNlO1xuXG4gIC8vIFN0b3JlIGFwcGxpZWQgdmlldyB0cmFuc2l0aW9ucyBzbyB3ZSBjYW4gYXBwbHkgdGhlbSBvbiBQT1BcbiAgbGV0IGFwcGxpZWRWaWV3VHJhbnNpdGlvbnM6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PiA9IG5ldyBNYXA8XG4gICAgc3RyaW5nLFxuICAgIFNldDxzdHJpbmc+XG4gID4oKTtcblxuICAvLyBDbGVhbnVwIGZ1bmN0aW9uIGZvciBwZXJzaXN0aW5nIGFwcGxpZWQgdHJhbnNpdGlvbnMgdG8gc2Vzc2lvblN0b3JhZ2VcbiAgbGV0IHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lcjogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG5cbiAgLy8gV2UgdXNlIHRoaXMgdG8gYXZvaWQgdG91Y2hpbmcgaGlzdG9yeSBpbiBjb21wbGV0ZU5hdmlnYXRpb24gaWYgYVxuICAvLyByZXZhbGlkYXRpb24gaXMgZW50aXJlbHkgdW5pbnRlcnJ1cHRlZFxuICBsZXQgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID0gZmFsc2U7XG5cbiAgLy8gVXNlIHRoaXMgaW50ZXJuYWwgZmxhZyB0byBmb3JjZSByZXZhbGlkYXRpb24gb2YgYWxsIGxvYWRlcnM6XG4gIC8vICAtIHN1Ym1pc3Npb25zIChjb21wbGV0ZWQgb3IgaW50ZXJydXB0ZWQpXG4gIC8vICAtIHVzZVJldmFsaWRhdG9yKClcbiAgLy8gIC0gWC1SZW1peC1SZXZhbGlkYXRlIChmcm9tIHJlZGlyZWN0KVxuICBsZXQgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xuXG4gIC8vIFVzZSB0aGlzIGludGVybmFsIGFycmF5IHRvIGNhcHR1cmUgcm91dGVzIHRoYXQgcmVxdWlyZSByZXZhbGlkYXRpb24gZHVlXG4gIC8vIHRvIGEgY2FuY2VsbGVkIGRlZmVycmVkIG9uIGFjdGlvbiBzdWJtaXNzaW9uXG4gIGxldCBjYW5jZWxsZWREZWZlcnJlZFJvdXRlczogc3RyaW5nW10gPSBbXTtcblxuICAvLyBVc2UgdGhpcyBpbnRlcm5hbCBhcnJheSB0byBjYXB0dXJlIGZldGNoZXIgbG9hZHMgdGhhdCB3ZXJlIGNhbmNlbGxlZCBieSBhblxuICAvLyBhY3Rpb24gbmF2aWdhdGlvbiBhbmQgcmVxdWlyZSByZXZhbGlkYXRpb25cbiAgbGV0IGNhbmNlbGxlZEZldGNoZXJMb2FkczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cbiAgLy8gQWJvcnRDb250cm9sbGVycyBmb3IgYW55IGluLWZsaWdodCBmZXRjaGVyc1xuICBsZXQgZmV0Y2hDb250cm9sbGVycyA9IG5ldyBNYXA8c3RyaW5nLCBBYm9ydENvbnRyb2xsZXI+KCk7XG5cbiAgLy8gVHJhY2sgbG9hZHMgYmFzZWQgb24gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgc3RhcnRlZFxuICBsZXQgaW5jcmVtZW50aW5nTG9hZElkID0gMDtcblxuICAvLyBUcmFjayB0aGUgb3V0c3RhbmRpbmcgcGVuZGluZyBuYXZpZ2F0aW9uIGRhdGEgbG9hZCB0byBiZSBjb21wYXJlZCBhZ2FpbnN0XG4gIC8vIHRoZSBnbG9iYWxseSBpbmNyZW1lbnRpbmcgbG9hZCB3aGVuIGEgZmV0Y2hlciBsb2FkIGxhbmRzIGFmdGVyIGEgY29tcGxldGVkXG4gIC8vIG5hdmlnYXRpb25cbiAgbGV0IHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID0gLTE7XG5cbiAgLy8gRmV0Y2hlcnMgdGhhdCB0cmlnZ2VyZWQgZGF0YSByZWxvYWRzIGFzIGEgcmVzdWx0IG9mIHRoZWlyIGFjdGlvbnNcbiAgbGV0IGZldGNoUmVsb2FkSWRzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcblxuICAvLyBGZXRjaGVycyB0aGF0IHRyaWdnZXJlZCByZWRpcmVjdCBuYXZpZ2F0aW9uc1xuICBsZXQgZmV0Y2hSZWRpcmVjdElkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gIC8vIE1vc3QgcmVjZW50IGhyZWYvbWF0Y2ggZm9yIGZldGNoZXIubG9hZCBjYWxscyBmb3IgZmV0Y2hlcnNcbiAgbGV0IGZldGNoTG9hZE1hdGNoZXMgPSBuZXcgTWFwPHN0cmluZywgRmV0Y2hMb2FkTWF0Y2g+KCk7XG5cbiAgLy8gUmVmLWNvdW50IG1vdW50ZWQgZmV0Y2hlcnMgc28gd2Uga25vdyB3aGVuIGl0J3Mgb2sgdG8gY2xlYW4gdGhlbSB1cFxuICBsZXQgYWN0aXZlRmV0Y2hlcnMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuXG4gIC8vIEZldGNoZXJzIHRoYXQgaGF2ZSByZXF1ZXN0ZWQgYSBkZWxldGUgd2hlbiB1c2luZyB2N19mZXRjaGVyUGVyc2lzdCxcbiAgLy8gdGhleSdsbCBiZSBvZmZpY2lhbGx5IHJlbW92ZWQgYWZ0ZXIgdGhleSByZXR1cm4gdG8gaWRsZVxuICBsZXQgZGVsZXRlZEZldGNoZXJzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgLy8gU3RvcmUgRGVmZXJyZWREYXRhIGluc3RhbmNlcyBmb3IgYWN0aXZlIHJvdXRlIG1hdGNoZXMuICBXaGVuIGFcbiAgLy8gcm91dGUgbG9hZGVyIHJldHVybnMgZGVmZXIoKSB3ZSBzdGljayBvbmUgaW4gaGVyZS4gIFRoZW4sIHdoZW4gYSBuZXN0ZWRcbiAgLy8gcHJvbWlzZSByZXNvbHZlcyB3ZSB1cGRhdGUgbG9hZGVyRGF0YS4gIElmIGEgbmV3IG5hdmlnYXRpb24gc3RhcnRzIHdlXG4gIC8vIGNhbmNlbCBhY3RpdmUgZGVmZXJyZWRzIGZvciBlbGltaW5hdGVkIHJvdXRlcy5cbiAgbGV0IGFjdGl2ZURlZmVycmVkcyA9IG5ldyBNYXA8c3RyaW5nLCBEZWZlcnJlZERhdGE+KCk7XG5cbiAgLy8gU3RvcmUgYmxvY2tlciBmdW5jdGlvbnMgaW4gYSBzZXBhcmF0ZSBNYXAgb3V0c2lkZSBvZiByb3V0ZXIgc3RhdGUgc2luY2VcbiAgLy8gd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgVUkgc3RhdGUgaWYgdGhleSBjaGFuZ2VcbiAgbGV0IGJsb2NrZXJGdW5jdGlvbnMgPSBuZXcgTWFwPHN0cmluZywgQmxvY2tlckZ1bmN0aW9uPigpO1xuXG4gIC8vIE1hcCBvZiBwZW5kaW5nIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uKCkgcHJvbWlzZXMgKGtleWVkIGJ5IHBhdGgvbWF0Y2hlcykgc29cbiAgLy8gdGhhdCB3ZSBvbmx5IGtpY2sgdGhlbSBvZmYgb25jZSBmb3IgYSBnaXZlbiBjb21ib1xuICBsZXQgcGVuZGluZ1BhdGNoUm91dGVzID0gbmV3IE1hcDxcbiAgICBzdHJpbmcsXG4gICAgUmV0dXJuVHlwZTxBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24+XG4gID4oKTtcblxuICAvLyBGbGFnIHRvIGlnbm9yZSB0aGUgbmV4dCBoaXN0b3J5IHVwZGF0ZSwgc28gd2UgY2FuIHJldmVydCB0aGUgVVJMIGNoYW5nZSBvblxuICAvLyBhIFBPUCBuYXZpZ2F0aW9uIHRoYXQgd2FzIGJsb2NrZWQgYnkgdGhlIHVzZXIgd2l0aG91dCB0b3VjaGluZyByb3V0ZXIgc3RhdGVcbiAgbGV0IHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZTogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIC8vIEluaXRpYWxpemUgdGhlIHJvdXRlciwgYWxsIHNpZGUgZWZmZWN0cyBzaG91bGQgYmUga2lja2VkIG9mZiBmcm9tIGhlcmUuXG4gIC8vIEltcGxlbWVudGVkIGFzIGEgRmx1ZW50IEFQSSBmb3IgZWFzZSBvZjpcbiAgLy8gICBsZXQgcm91dGVyID0gY3JlYXRlUm91dGVyKGluaXQpLmluaXRpYWxpemUoKTtcbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAvLyBJZiBoaXN0b3J5IGluZm9ybXMgdXMgb2YgYSBQT1AgbmF2aWdhdGlvbiwgc3RhcnQgdGhlIG5hdmlnYXRpb24gYnV0IGRvIG5vdCB1cGRhdGVcbiAgICAvLyBzdGF0ZS4gIFdlJ2xsIHVwZGF0ZSBvdXIgb3duIHN0YXRlIG9uY2UgdGhlIG5hdmlnYXRpb24gY29tcGxldGVzXG4gICAgdW5saXN0ZW5IaXN0b3J5ID0gaW5pdC5oaXN0b3J5Lmxpc3RlbihcbiAgICAgICh7IGFjdGlvbjogaGlzdG9yeUFjdGlvbiwgbG9jYXRpb24sIGRlbHRhIH0pID0+IHtcbiAgICAgICAgLy8gSWdub3JlIHRoaXMgZXZlbnQgaWYgaXQgd2FzIGp1c3QgdXMgcmVzZXR0aW5nIHRoZSBVUkwgZnJvbSBhXG4gICAgICAgIC8vIGJsb2NrZWQgUE9QIG5hdmlnYXRpb25cbiAgICAgICAgaWYgKHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSkge1xuICAgICAgICAgIHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSgpO1xuICAgICAgICAgIHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGJsb2NrZXJGdW5jdGlvbnMuc2l6ZSA9PT0gMCB8fCBkZWx0YSAhPSBudWxsLFxuICAgICAgICAgIFwiWW91IGFyZSB0cnlpbmcgdG8gdXNlIGEgYmxvY2tlciBvbiBhIFBPUCBuYXZpZ2F0aW9uIHRvIGEgbG9jYXRpb24gXCIgK1xuICAgICAgICAgICAgXCJ0aGF0IHdhcyBub3QgY3JlYXRlZCBieSBAcmVtaXgtcnVuL3JvdXRlci4gVGhpcyB3aWxsIGZhaWwgc2lsZW50bHkgaW4gXCIgK1xuICAgICAgICAgICAgXCJwcm9kdWN0aW9uLiBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IGFyZSBuYXZpZ2F0aW5nIG91dHNpZGUgdGhlIHJvdXRlciBcIiArXG4gICAgICAgICAgICBcInZpYSBgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlYC9gd2luZG93LmxvY2F0aW9uLmhhc2hgIGluc3RlYWQgb2YgdXNpbmcgXCIgK1xuICAgICAgICAgICAgXCJyb3V0ZXIgbmF2aWdhdGlvbiBBUElzLiAgVGhpcyBjYW4gYWxzbyBoYXBwZW4gaWYgeW91IGFyZSB1c2luZyBcIiArXG4gICAgICAgICAgICBcImNyZWF0ZUhhc2hSb3V0ZXIgYW5kIHRoZSB1c2VyIG1hbnVhbGx5IGNoYW5nZXMgdGhlIFVSTC5cIlxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBibG9ja2VyS2V5ID0gc2hvdWxkQmxvY2tOYXZpZ2F0aW9uKHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgaGlzdG9yeUFjdGlvbixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGJsb2NrZXJLZXkgJiYgZGVsdGEgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIFVSTCB0byBtYXRjaCB0aGUgY3VycmVudCBVSSwgYnV0IGRvbid0IHVwZGF0ZSByb3V0ZXIgc3RhdGVcbiAgICAgICAgICBsZXQgbmV4dEhpc3RvcnlVcGRhdGVQcm9taXNlID0gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSA9IHJlc29sdmU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5pdC5oaXN0b3J5LmdvKGRlbHRhICogLTEpO1xuXG4gICAgICAgICAgLy8gUHV0IHRoZSBibG9ja2VyIGludG8gYSBibG9ja2VkIHN0YXRlXG4gICAgICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5LCB7XG4gICAgICAgICAgICBzdGF0ZTogXCJibG9ja2VkXCIsXG4gICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgIHByb2NlZWQoKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSEsIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogXCJwcm9jZWVkaW5nXCIsXG4gICAgICAgICAgICAgICAgcHJvY2VlZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHJlc2V0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAvLyBSZS1kbyB0aGUgc2FtZSBQT1AgbmF2aWdhdGlvbiB3ZSBqdXN0IGJsb2NrZWQsIGFmdGVyIHRoZSB1cmxcbiAgICAgICAgICAgICAgLy8gcmVzdG9yYXRpb24gaXMgYWxzbyBjb21wbGV0ZS4gIFNlZTpcbiAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9yZWFjdC1yb3V0ZXIvaXNzdWVzLzExNjEzXG4gICAgICAgICAgICAgIG5leHRIaXN0b3J5VXBkYXRlUHJvbWlzZS50aGVuKCgpID0+IGluaXQuaGlzdG9yeS5nbyhkZWx0YSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc2V0KCkge1xuICAgICAgICAgICAgICBsZXQgYmxvY2tlcnMgPSBuZXcgTWFwKHN0YXRlLmJsb2NrZXJzKTtcbiAgICAgICAgICAgICAgYmxvY2tlcnMuc2V0KGJsb2NrZXJLZXkhLCBJRExFX0JMT0NLRVIpO1xuICAgICAgICAgICAgICB1cGRhdGVTdGF0ZSh7IGJsb2NrZXJzIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhcnROYXZpZ2F0aW9uKGhpc3RvcnlBY3Rpb24sIGxvY2F0aW9uKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgLy8gRklYTUU6IFRoaXMgZmVlbHMgZ3Jvc3MuICBIb3cgY2FuIHdlIGNsZWFudXAgdGhlIGxpbmVzIGJldHdlZW5cbiAgICAgIC8vIHNjcm9sbFJlc3RvcmF0aW9uL2FwcGxpZWRUcmFuc2l0aW9ucyBwZXJzaXN0YW5jZT9cbiAgICAgIHJlc3RvcmVBcHBsaWVkVHJhbnNpdGlvbnMocm91dGVyV2luZG93LCBhcHBsaWVkVmlld1RyYW5zaXRpb25zKTtcbiAgICAgIGxldCBfc2F2ZUFwcGxpZWRUcmFuc2l0aW9ucyA9ICgpID0+XG4gICAgICAgIHBlcnNpc3RBcHBsaWVkVHJhbnNpdGlvbnMocm91dGVyV2luZG93LCBhcHBsaWVkVmlld1RyYW5zaXRpb25zKTtcbiAgICAgIHJvdXRlcldpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX3NhdmVBcHBsaWVkVHJhbnNpdGlvbnMpO1xuICAgICAgcmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyID0gKCkgPT5cbiAgICAgICAgcm91dGVyV2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBfc2F2ZUFwcGxpZWRUcmFuc2l0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8gS2ljayBvZmYgaW5pdGlhbCBkYXRhIGxvYWQgaWYgbmVlZGVkLiAgVXNlIFBvcCB0byBhdm9pZCBtb2RpZnlpbmcgaGlzdG9yeVxuICAgIC8vIE5vdGUgd2UgZG9uJ3QgZG8gYW55IGhhbmRsaW5nIG9mIGxhenkgaGVyZS4gIEZvciBTUEEncyBpdCdsbCBnZXQgaGFuZGxlZFxuICAgIC8vIGluIHRoZSBub3JtYWwgbmF2aWdhdGlvbiBmbG93LiAgRm9yIFNTUiBpdCdzIGV4cGVjdGVkIHRoYXQgbGF6eSBtb2R1bGVzIGFyZVxuICAgIC8vIHJlc29sdmVkIHByaW9yIHRvIHJvdXRlciBjcmVhdGlvbiBzaW5jZSB3ZSBjYW4ndCBnbyBpbnRvIGEgZmFsbGJhY2tFbGVtZW50XG4gICAgLy8gVUkgZm9yIFNTUidkIGFwcHNcbiAgICBpZiAoIXN0YXRlLmluaXRpYWxpemVkKSB7XG4gICAgICBzdGFydE5hdmlnYXRpb24oSGlzdG9yeUFjdGlvbi5Qb3AsIHN0YXRlLmxvY2F0aW9uLCB7XG4gICAgICAgIGluaXRpYWxIeWRyYXRpb246IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm91dGVyO1xuICB9XG5cbiAgLy8gQ2xlYW4gdXAgYSByb3V0ZXIgYW5kIGl0J3Mgc2lkZSBlZmZlY3RzXG4gIGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgaWYgKHVubGlzdGVuSGlzdG9yeSkge1xuICAgICAgdW5saXN0ZW5IaXN0b3J5KCk7XG4gICAgfVxuICAgIGlmIChyZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lcigpO1xuICAgIH1cbiAgICBzdWJzY3JpYmVycy5jbGVhcigpO1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciAmJiBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICBzdGF0ZS5mZXRjaGVycy5mb3JFYWNoKChfLCBrZXkpID0+IGRlbGV0ZUZldGNoZXIoa2V5KSk7XG4gICAgc3RhdGUuYmxvY2tlcnMuZm9yRWFjaCgoXywga2V5KSA9PiBkZWxldGVCbG9ja2VyKGtleSkpO1xuICB9XG5cbiAgLy8gU3Vic2NyaWJlIHRvIHN0YXRlIHVwZGF0ZXMgZm9yIHRoZSByb3V0ZXJcbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGZuOiBSb3V0ZXJTdWJzY3JpYmVyKSB7XG4gICAgc3Vic2NyaWJlcnMuYWRkKGZuKTtcbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaWJlcnMuZGVsZXRlKGZuKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSBvdXIgc3RhdGUgYW5kIG5vdGlmeSB0aGUgY2FsbGluZyBjb250ZXh0IG9mIHRoZSBjaGFuZ2VcbiAgZnVuY3Rpb24gdXBkYXRlU3RhdGUoXG4gICAgbmV3U3RhdGU6IFBhcnRpYWw8Um91dGVyU3RhdGU+LFxuICAgIG9wdHM6IHtcbiAgICAgIGZsdXNoU3luYz86IGJvb2xlYW47XG4gICAgICB2aWV3VHJhbnNpdGlvbk9wdHM/OiBWaWV3VHJhbnNpdGlvbk9wdHM7XG4gICAgfSA9IHt9XG4gICk6IHZvaWQge1xuICAgIHN0YXRlID0ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICAuLi5uZXdTdGF0ZSxcbiAgICB9O1xuXG4gICAgLy8gUHJlcCBmZXRjaGVyIGNsZWFudXAgc28gd2UgY2FuIHRlbGwgdGhlIFVJIHdoaWNoIGZldGNoZXIgZGF0YSBlbnRyaWVzXG4gICAgLy8gY2FuIGJlIHJlbW92ZWRcbiAgICBsZXQgY29tcGxldGVkRmV0Y2hlcnM6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IGRlbGV0ZWRGZXRjaGVyc0tleXM6IHN0cmluZ1tdID0gW107XG5cbiAgICBpZiAoZnV0dXJlLnY3X2ZldGNoZXJQZXJzaXN0KSB7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5mb3JFYWNoKChmZXRjaGVyLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGZldGNoZXIuc3RhdGUgPT09IFwiaWRsZVwiKSB7XG4gICAgICAgICAgaWYgKGRlbGV0ZWRGZXRjaGVycy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgLy8gVW5tb3VudGVkIGZyb20gdGhlIFVJIGFuZCBjYW4gYmUgdG90YWxseSByZW1vdmVkXG4gICAgICAgICAgICBkZWxldGVkRmV0Y2hlcnNLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmV0dXJuZWQgdG8gaWRsZSBidXQgc3RpbGwgbW91bnRlZCBpbiB0aGUgVUksIHNvIHNlbWktcmVtYWlucyBmb3JcbiAgICAgICAgICAgIC8vIHJldmFsaWRhdGlvbnMgYW5kIHN1Y2hcbiAgICAgICAgICAgIGNvbXBsZXRlZEZldGNoZXJzLnB1c2goa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbnkgbGluZ2VyaW5nIGRlbGV0ZWQgZmV0Y2hlcnMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiByZW1vdmVkXG4gICAgLy8gZnJvbSBzdGF0ZS5mZXRjaGVyc1xuICAgIGRlbGV0ZWRGZXRjaGVycy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmICghc3RhdGUuZmV0Y2hlcnMuaGFzKGtleSkgJiYgIWZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgZGVsZXRlZEZldGNoZXJzS2V5cy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgYSBsb2NhbCBjb3B5IHNvIHRoYXQgaWYgZmx1c2hTeW5jIGlzIHVzZWQgYW5kIHdlIGVuZCB1cFxuICAgIC8vIHJlbW92aW5nIGFuZCBhZGRpbmcgYSBuZXcgc3Vic2NyaWJlciBkdWUgdG8gdGhlIHVzZUNhbGxiYWNrIGRlcGVuZGVuY2llcyxcbiAgICAvLyB3ZSBkb24ndCBnZXQgb3Vyc2VsdmVzIGludG8gYSBsb29wIGNhbGxpbmcgdGhlIG5ldyBzdWJzY3JpYmVyIGltbWVkaWF0ZWx5XG4gICAgWy4uLnN1YnNjcmliZXJzXS5mb3JFYWNoKChzdWJzY3JpYmVyKSA9PlxuICAgICAgc3Vic2NyaWJlcihzdGF0ZSwge1xuICAgICAgICBkZWxldGVkRmV0Y2hlcnM6IGRlbGV0ZWRGZXRjaGVyc0tleXMsXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0czogb3B0cy52aWV3VHJhbnNpdGlvbk9wdHMsXG4gICAgICAgIGZsdXNoU3luYzogb3B0cy5mbHVzaFN5bmMgPT09IHRydWUsXG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBSZW1vdmUgaWRsZSBmZXRjaGVycyBmcm9tIHN0YXRlIHNpbmNlIHdlIG9ubHkgY2FyZSBhYm91dCBpbi1mbGlnaHQgZmV0Y2hlcnMuXG4gICAgaWYgKGZ1dHVyZS52N19mZXRjaGVyUGVyc2lzdCkge1xuICAgICAgY29tcGxldGVkRmV0Y2hlcnMuZm9yRWFjaCgoa2V5KSA9PiBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KSk7XG4gICAgICBkZWxldGVkRmV0Y2hlcnNLZXlzLmZvckVhY2goKGtleSkgPT4gZGVsZXRlRmV0Y2hlcihrZXkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2UgYWxyZWFkeSBjYWxsZWQgZGVsZXRlRmV0Y2hlcigpIG9uIHRoZXNlLCBjYW4gcmVtb3ZlIHRoZW0gZnJvbSB0aGlzXG4gICAgICAvLyBTZXQgbm93IHRoYXQgd2UndmUgaGFuZGVkIHRoZSBrZXlzIG9mZiB0byB0aGUgZGF0YSBsYXllclxuICAgICAgZGVsZXRlZEZldGNoZXJzS2V5cy5mb3JFYWNoKChrZXkpID0+IGRlbGV0ZWRGZXRjaGVycy5kZWxldGUoa2V5KSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tcGxldGUgYSBuYXZpZ2F0aW9uIHJldHVybmluZyB0aGUgc3RhdGUubmF2aWdhdGlvbiBiYWNrIHRvIHRoZSBJRExFX05BVklHQVRJT05cbiAgLy8gYW5kIHNldHRpbmcgc3RhdGUuW2hpc3RvcnlBY3Rpb24vbG9jYXRpb24vbWF0Y2hlc10gdG8gdGhlIG5ldyByb3V0ZS5cbiAgLy8gLSBMb2NhdGlvbiBpcyBhIHJlcXVpcmVkIHBhcmFtXG4gIC8vIC0gTmF2aWdhdGlvbiB3aWxsIGFsd2F5cyBiZSBzZXQgdG8gSURMRV9OQVZJR0FUSU9OXG4gIC8vIC0gQ2FuIHBhc3MgYW55IG90aGVyIHN0YXRlIGluIG5ld1N0YXRlXG4gIGZ1bmN0aW9uIGNvbXBsZXRlTmF2aWdhdGlvbihcbiAgICBsb2NhdGlvbjogTG9jYXRpb24sXG4gICAgbmV3U3RhdGU6IFBhcnRpYWw8T21pdDxSb3V0ZXJTdGF0ZSwgXCJhY3Rpb25cIiB8IFwibG9jYXRpb25cIiB8IFwibmF2aWdhdGlvblwiPj4sXG4gICAgeyBmbHVzaFN5bmMgfTogeyBmbHVzaFN5bmM/OiBib29sZWFuIH0gPSB7fVxuICApOiB2b2lkIHtcbiAgICAvLyBEZWR1Y2UgaWYgd2UncmUgaW4gYSBsb2FkaW5nL2FjdGlvblJlbG9hZCBzdGF0ZTpcbiAgICAvLyAtIFdlIGhhdmUgY29tbWl0dGVkIGFjdGlvbkRhdGEgaW4gdGhlIHN0b3JlXG4gICAgLy8gLSBUaGUgY3VycmVudCBuYXZpZ2F0aW9uIHdhcyBhIG11dGF0aW9uIHN1Ym1pc3Npb25cbiAgICAvLyAtIFdlJ3JlIHBhc3QgdGhlIHN1Ym1pdHRpbmcgc3RhdGUgYW5kIGludG8gdGhlIGxvYWRpbmcgc3RhdGVcbiAgICAvLyAtIFRoZSBsb2NhdGlvbiBiZWluZyBsb2FkZWQgaXMgbm90IHRoZSByZXN1bHQgb2YgYSByZWRpcmVjdFxuICAgIGxldCBpc0FjdGlvblJlbG9hZCA9XG4gICAgICBzdGF0ZS5hY3Rpb25EYXRhICE9IG51bGwgJiZcbiAgICAgIHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCAhPSBudWxsICYmXG4gICAgICBpc011dGF0aW9uTWV0aG9kKHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCkgJiZcbiAgICAgIHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwibG9hZGluZ1wiICYmXG4gICAgICBsb2NhdGlvbi5zdGF0ZT8uX2lzUmVkaXJlY3QgIT09IHRydWU7XG5cbiAgICBsZXQgYWN0aW9uRGF0YTogUm91dGVEYXRhIHwgbnVsbDtcbiAgICBpZiAobmV3U3RhdGUuYWN0aW9uRGF0YSkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1N0YXRlLmFjdGlvbkRhdGEpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYWN0aW9uRGF0YSA9IG5ld1N0YXRlLmFjdGlvbkRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbXB0eSBhY3Rpb25EYXRhIC0+IGNsZWFyIHByaW9yIGFjdGlvbkRhdGEgZHVlIHRvIGFuIGFjdGlvbiBlcnJvclxuICAgICAgICBhY3Rpb25EYXRhID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQWN0aW9uUmVsb2FkKSB7XG4gICAgICAvLyBLZWVwIHRoZSBjdXJyZW50IGRhdGEgaWYgd2UncmUgd3JhcHBpbmcgdXAgdGhlIGFjdGlvbiByZWxvYWRcbiAgICAgIGFjdGlvbkRhdGEgPSBzdGF0ZS5hY3Rpb25EYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDbGVhciBhY3Rpb25EYXRhIG9uIGFueSBvdGhlciBjb21wbGV0ZWQgbmF2aWdhdGlvbnNcbiAgICAgIGFjdGlvbkRhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIEFsd2F5cyBwcmVzZXJ2ZSBhbnkgZXhpc3RpbmcgbG9hZGVyRGF0YSBmcm9tIHJlLXVzZWQgcm91dGVzXG4gICAgbGV0IGxvYWRlckRhdGEgPSBuZXdTdGF0ZS5sb2FkZXJEYXRhXG4gICAgICA/IG1lcmdlTG9hZGVyRGF0YShcbiAgICAgICAgICBzdGF0ZS5sb2FkZXJEYXRhLFxuICAgICAgICAgIG5ld1N0YXRlLmxvYWRlckRhdGEsXG4gICAgICAgICAgbmV3U3RhdGUubWF0Y2hlcyB8fCBbXSxcbiAgICAgICAgICBuZXdTdGF0ZS5lcnJvcnNcbiAgICAgICAgKVxuICAgICAgOiBzdGF0ZS5sb2FkZXJEYXRhO1xuXG4gICAgLy8gT24gYSBzdWNjZXNzZnVsIG5hdmlnYXRpb24gd2UgY2FuIGFzc3VtZSB3ZSBnb3QgdGhyb3VnaCBhbGwgYmxvY2tlcnNcbiAgICAvLyBzbyB3ZSBjYW4gc3RhcnQgZnJlc2hcbiAgICBsZXQgYmxvY2tlcnMgPSBzdGF0ZS5ibG9ja2VycztcbiAgICBpZiAoYmxvY2tlcnMuc2l6ZSA+IDApIHtcbiAgICAgIGJsb2NrZXJzID0gbmV3IE1hcChibG9ja2Vycyk7XG4gICAgICBibG9ja2Vycy5mb3JFYWNoKChfLCBrKSA9PiBibG9ja2Vycy5zZXQoaywgSURMRV9CTE9DS0VSKSk7XG4gICAgfVxuXG4gICAgLy8gQWx3YXlzIHJlc3BlY3QgdGhlIHVzZXIgZmxhZy4gIE90aGVyd2lzZSBkb24ndCByZXNldCBvbiBtdXRhdGlvblxuICAgIC8vIHN1Ym1pc3Npb24gbmF2aWdhdGlvbnMgdW5sZXNzIHRoZXkgcmVkaXJlY3RcbiAgICBsZXQgcHJldmVudFNjcm9sbFJlc2V0ID1cbiAgICAgIHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPT09IHRydWUgfHxcbiAgICAgIChzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QgIT0gbnVsbCAmJlxuICAgICAgICBpc011dGF0aW9uTWV0aG9kKHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCkgJiZcbiAgICAgICAgbG9jYXRpb24uc3RhdGU/Ll9pc1JlZGlyZWN0ICE9PSB0cnVlKTtcblxuICAgIC8vIENvbW1pdCBhbnkgaW4tZmxpZ2h0IHJvdXRlcyBhdCB0aGUgZW5kIG9mIHRoZSBITVIgcmV2YWxpZGF0aW9uIFwibmF2aWdhdGlvblwiXG4gICAgaWYgKGluRmxpZ2h0RGF0YVJvdXRlcykge1xuICAgICAgZGF0YVJvdXRlcyA9IGluRmxpZ2h0RGF0YVJvdXRlcztcbiAgICAgIGluRmxpZ2h0RGF0YVJvdXRlcyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uKSB7XG4gICAgICAvLyBJZiB0aGlzIHdhcyBhbiB1bmludGVycnVwdGVkIHJldmFsaWRhdGlvbiB0aGVuIGRvIG5vdCB0b3VjaCBoaXN0b3J5XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uID09PSBIaXN0b3J5QWN0aW9uLlBvcCkge1xuICAgICAgLy8gRG8gbm90aGluZyBmb3IgUE9QIC0gVVJMIGhhcyBhbHJlYWR5IGJlZW4gdXBkYXRlZFxuICAgIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvbiA9PT0gSGlzdG9yeUFjdGlvbi5QdXNoKSB7XG4gICAgICBpbml0Lmhpc3RvcnkucHVzaChsb2NhdGlvbiwgbG9jYXRpb24uc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvbiA9PT0gSGlzdG9yeUFjdGlvbi5SZXBsYWNlKSB7XG4gICAgICBpbml0Lmhpc3RvcnkucmVwbGFjZShsb2NhdGlvbiwgbG9jYXRpb24uc3RhdGUpO1xuICAgIH1cblxuICAgIGxldCB2aWV3VHJhbnNpdGlvbk9wdHM6IFZpZXdUcmFuc2l0aW9uT3B0cyB8IHVuZGVmaW5lZDtcblxuICAgIC8vIE9uIFBPUCwgZW5hYmxlIHRyYW5zaXRpb25zIGlmIHRoZXkgd2VyZSBlbmFibGVkIG9uIHRoZSBvcmlnaW5hbCBuYXZpZ2F0aW9uXG4gICAgaWYgKHBlbmRpbmdBY3Rpb24gPT09IEhpc3RvcnlBY3Rpb24uUG9wKSB7XG4gICAgICAvLyBGb3J3YXJkIHRha2VzIHByZWNlZGVuY2Ugc28gdGhleSBiZWhhdmUgbGlrZSB0aGUgb3JpZ2luYWwgbmF2aWdhdGlvblxuICAgICAgbGV0IHByaW9yUGF0aHMgPSBhcHBsaWVkVmlld1RyYW5zaXRpb25zLmdldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICBpZiAocHJpb3JQYXRocyAmJiBwcmlvclBhdGhzLmhhcyhsb2NhdGlvbi5wYXRobmFtZSkpIHtcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzID0ge1xuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5oYXMobG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBwcmV2aW91cyBmb3J3YXJkIG5hdiwgYXNzdW1lIHdlJ3JlIHBvcHBpbmcgYmFjayB0b1xuICAgICAgICAvLyB0aGUgbmV3IGxvY2F0aW9uIGFuZCBlbmFibGUgaWYgdGhhdCBsb2NhdGlvbiBwcmV2aW91c2x5IGVuYWJsZWRcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzID0ge1xuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQpIHtcbiAgICAgIC8vIFN0b3JlIHRoZSBhcHBsaWVkIHRyYW5zaXRpb24gb24gUFVTSC9SRVBMQUNFXG4gICAgICBsZXQgdG9QYXRocyA9IGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMuZ2V0KHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgIGlmICh0b1BhdGhzKSB7XG4gICAgICAgIHRvUGF0aHMuYWRkKGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvUGF0aHMgPSBuZXcgU2V0PHN0cmluZz4oW2xvY2F0aW9uLnBhdGhuYW1lXSk7XG4gICAgICAgIGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMuc2V0KHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lLCB0b1BhdGhzKTtcbiAgICAgIH1cbiAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdXBkYXRlU3RhdGUoXG4gICAgICB7XG4gICAgICAgIC4uLm5ld1N0YXRlLCAvLyBtYXRjaGVzLCBlcnJvcnMsIGZldGNoZXJzIGdvIHRocm91Z2ggYXMtaXNcbiAgICAgICAgYWN0aW9uRGF0YSxcbiAgICAgICAgbG9hZGVyRGF0YSxcbiAgICAgICAgaGlzdG9yeUFjdGlvbjogcGVuZGluZ0FjdGlvbixcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICBuYXZpZ2F0aW9uOiBJRExFX05BVklHQVRJT04sXG4gICAgICAgIHJldmFsaWRhdGlvbjogXCJpZGxlXCIsXG4gICAgICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihcbiAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICBuZXdTdGF0ZS5tYXRjaGVzIHx8IHN0YXRlLm1hdGNoZXNcbiAgICAgICAgKSxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBibG9ja2VycyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyxcbiAgICAgICAgZmx1c2hTeW5jOiBmbHVzaFN5bmMgPT09IHRydWUsXG4gICAgICB9XG4gICAgKTtcblxuICAgIC8vIFJlc2V0IHN0YXRlZnVsIG5hdmlnYXRpb24gdmFyc1xuICAgIHBlbmRpbmdBY3Rpb24gPSBIaXN0b3J5QWN0aW9uLlBvcDtcbiAgICBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gZmFsc2U7XG4gICAgcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgIGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA9IGZhbHNlO1xuICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcbiAgICBjYW5jZWxsZWREZWZlcnJlZFJvdXRlcyA9IFtdO1xuICB9XG5cbiAgLy8gVHJpZ2dlciBhIG5hdmlnYXRpb24gZXZlbnQsIHdoaWNoIGNhbiBlaXRoZXIgYmUgYSBudW1lcmljYWwgUE9QIG9yIGEgUFVTSFxuICAvLyByZXBsYWNlIHdpdGggYW4gb3B0aW9uYWwgc3VibWlzc2lvblxuICBhc3luYyBmdW5jdGlvbiBuYXZpZ2F0ZShcbiAgICB0bzogbnVtYmVyIHwgVG8gfCBudWxsLFxuICAgIG9wdHM/OiBSb3V0ZXJOYXZpZ2F0ZU9wdGlvbnNcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgaW5pdC5oaXN0b3J5LmdvKHRvKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVUbyhcbiAgICAgIHN0YXRlLmxvY2F0aW9uLFxuICAgICAgc3RhdGUubWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgZnV0dXJlLnY3X3ByZXBlbmRCYXNlbmFtZSxcbiAgICAgIHRvLFxuICAgICAgZnV0dXJlLnY3X3JlbGF0aXZlU3BsYXRQYXRoLFxuICAgICAgb3B0cz8uZnJvbVJvdXRlSWQsXG4gICAgICBvcHRzPy5yZWxhdGl2ZVxuICAgICk7XG4gICAgbGV0IHsgcGF0aCwgc3VibWlzc2lvbiwgZXJyb3IgfSA9IG5vcm1hbGl6ZU5hdmlnYXRlT3B0aW9ucyhcbiAgICAgIGZ1dHVyZS52N19ub3JtYWxpemVGb3JtTWV0aG9kLFxuICAgICAgZmFsc2UsXG4gICAgICBub3JtYWxpemVkUGF0aCxcbiAgICAgIG9wdHNcbiAgICApO1xuXG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IHN0YXRlLmxvY2F0aW9uO1xuICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihzdGF0ZS5sb2NhdGlvbiwgcGF0aCwgb3B0cyAmJiBvcHRzLnN0YXRlKTtcblxuICAgIC8vIFdoZW4gdXNpbmcgbmF2aWdhdGUgYXMgYSBQVVNIL1JFUExBQ0Ugd2UgYXJlbid0IHJlYWRpbmcgYW4gYWxyZWFkeS1lbmNvZGVkXG4gICAgLy8gVVJMIGZyb20gd2luZG93LmxvY2F0aW9uLCBzbyB3ZSBuZWVkIHRvIGVuY29kZSBpdCBoZXJlIHNvIHRoZSBiZWhhdmlvclxuICAgIC8vIHJlbWFpbnMgdGhlIHNhbWUgYXMgUE9QIGFuZCBub24tZGF0YS1yb3V0ZXIgdXNhZ2VzLiAgbmV3IFVSTCgpIGRvZXMgYWxsXG4gICAgLy8gdGhlIHNhbWUgZW5jb2Rpbmcgd2UnZCBnZXQgZnJvbSBhIGhpc3RvcnkucHVzaFN0YXRlL3dpbmRvdy5sb2NhdGlvbiByZWFkXG4gICAgLy8gd2l0aG91dCBoYXZpbmcgdG8gdG91Y2ggaGlzdG9yeVxuICAgIG5leHRMb2NhdGlvbiA9IHtcbiAgICAgIC4uLm5leHRMb2NhdGlvbixcbiAgICAgIC4uLmluaXQuaGlzdG9yeS5lbmNvZGVMb2NhdGlvbihuZXh0TG9jYXRpb24pLFxuICAgIH07XG5cbiAgICBsZXQgdXNlclJlcGxhY2UgPSBvcHRzICYmIG9wdHMucmVwbGFjZSAhPSBudWxsID8gb3B0cy5yZXBsYWNlIDogdW5kZWZpbmVkO1xuXG4gICAgbGV0IGhpc3RvcnlBY3Rpb24gPSBIaXN0b3J5QWN0aW9uLlB1c2g7XG5cbiAgICBpZiAodXNlclJlcGxhY2UgPT09IHRydWUpIHtcbiAgICAgIGhpc3RvcnlBY3Rpb24gPSBIaXN0b3J5QWN0aW9uLlJlcGxhY2U7XG4gICAgfSBlbHNlIGlmICh1c2VyUmVwbGFjZSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIG5vLW9wXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHN1Ym1pc3Npb24gIT0gbnVsbCAmJlxuICAgICAgaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpICYmXG4gICAgICBzdWJtaXNzaW9uLmZvcm1BY3Rpb24gPT09IHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lICsgc3RhdGUubG9jYXRpb24uc2VhcmNoXG4gICAgKSB7XG4gICAgICAvLyBCeSBkZWZhdWx0IG9uIHN1Ym1pc3Npb25zIHRvIHRoZSBjdXJyZW50IGxvY2F0aW9uIHdlIFJFUExBQ0Ugc28gdGhhdFxuICAgICAgLy8gdXNlcnMgZG9uJ3QgaGF2ZSB0byBkb3VibGUtY2xpY2sgdGhlIGJhY2sgYnV0dG9uIHRvIGdldCB0byB0aGUgcHJpb3JcbiAgICAgIC8vIGxvY2F0aW9uLiAgSWYgdGhlIHVzZXIgcmVkaXJlY3RzIHRvIGEgZGlmZmVyZW50IGxvY2F0aW9uIGZyb20gdGhlXG4gICAgICAvLyBhY3Rpb24vbG9hZGVyIHRoaXMgd2lsbCBiZSBpZ25vcmVkIGFuZCB0aGUgcmVkaXJlY3Qgd2lsbCBiZSBhIFBVU0hcbiAgICAgIGhpc3RvcnlBY3Rpb24gPSBIaXN0b3J5QWN0aW9uLlJlcGxhY2U7XG4gICAgfVxuXG4gICAgbGV0IHByZXZlbnRTY3JvbGxSZXNldCA9XG4gICAgICBvcHRzICYmIFwicHJldmVudFNjcm9sbFJlc2V0XCIgaW4gb3B0c1xuICAgICAgICA/IG9wdHMucHJldmVudFNjcm9sbFJlc2V0ID09PSB0cnVlXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgbGV0IGZsdXNoU3luYyA9IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZTtcblxuICAgIGxldCBibG9ja2VyS2V5ID0gc2hvdWxkQmxvY2tOYXZpZ2F0aW9uKHtcbiAgICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICAgIG5leHRMb2NhdGlvbixcbiAgICAgIGhpc3RvcnlBY3Rpb24sXG4gICAgfSk7XG5cbiAgICBpZiAoYmxvY2tlcktleSkge1xuICAgICAgLy8gUHV0IHRoZSBibG9ja2VyIGludG8gYSBibG9ja2VkIHN0YXRlXG4gICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgc3RhdGU6IFwiYmxvY2tlZFwiLFxuICAgICAgICBsb2NhdGlvbjogbmV4dExvY2F0aW9uLFxuICAgICAgICBwcm9jZWVkKCkge1xuICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSEsIHtcbiAgICAgICAgICAgIHN0YXRlOiBcInByb2NlZWRpbmdcIixcbiAgICAgICAgICAgIHByb2NlZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlc2V0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBsb2NhdGlvbjogbmV4dExvY2F0aW9uLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIFNlbmQgdGhlIHNhbWUgbmF2aWdhdGlvbiB0aHJvdWdoXG4gICAgICAgICAgbmF2aWdhdGUodG8sIG9wdHMpO1xuICAgICAgICB9LFxuICAgICAgICByZXNldCgpIHtcbiAgICAgICAgICBsZXQgYmxvY2tlcnMgPSBuZXcgTWFwKHN0YXRlLmJsb2NrZXJzKTtcbiAgICAgICAgICBibG9ja2Vycy5zZXQoYmxvY2tlcktleSEsIElETEVfQkxPQ0tFUik7XG4gICAgICAgICAgdXBkYXRlU3RhdGUoeyBibG9ja2VycyB9KTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBzdGFydE5hdmlnYXRpb24oaGlzdG9yeUFjdGlvbiwgbmV4dExvY2F0aW9uLCB7XG4gICAgICBzdWJtaXNzaW9uLFxuICAgICAgLy8gU2VuZCB0aHJvdWdoIHRoZSBmb3JtRGF0YSBzZXJpYWxpemF0aW9uIGVycm9yIGlmIHdlIGhhdmUgb25lIHNvIHdlIGNhblxuICAgICAgLy8gcmVuZGVyIGF0IHRoZSByaWdodCBlcnJvciBib3VuZGFyeSBhZnRlciB3ZSBtYXRjaCByb3V0ZXNcbiAgICAgIHBlbmRpbmdFcnJvcjogZXJyb3IsXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICByZXBsYWNlOiBvcHRzICYmIG9wdHMucmVwbGFjZSxcbiAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBvcHRzICYmIG9wdHMudmlld1RyYW5zaXRpb24sXG4gICAgICBmbHVzaFN5bmMsXG4gICAgfSk7XG4gIH1cblxuICAvLyBSZXZhbGlkYXRlIGFsbCBjdXJyZW50IGxvYWRlcnMuICBJZiBhIG5hdmlnYXRpb24gaXMgaW4gcHJvZ3Jlc3Mgb3IgaWYgdGhpc1xuICAvLyBpcyBpbnRlcnJ1cHRlZCBieSBhIG5hdmlnYXRpb24sIGFsbG93IHRoaXMgdG8gXCJzdWNjZWVkXCIgYnkgY2FsbGluZyBhbGxcbiAgLy8gbG9hZGVycyBkdXJpbmcgdGhlIG5leHQgbG9hZGVyIHJvdW5kXG4gIGZ1bmN0aW9uIHJldmFsaWRhdGUoKSB7XG4gICAgaW50ZXJydXB0QWN0aXZlTG9hZHMoKTtcbiAgICB1cGRhdGVTdGF0ZSh7IHJldmFsaWRhdGlvbjogXCJsb2FkaW5nXCIgfSk7XG5cbiAgICAvLyBJZiB3ZSdyZSBjdXJyZW50bHkgc3VibWl0dGluZyBhbiBhY3Rpb24sIHdlIGRvbid0IG5lZWQgdG8gc3RhcnQgYSBuZXdcbiAgICAvLyBuYXZpZ2F0aW9uLCB3ZSdsbCBqdXN0IGxldCB0aGUgZm9sbG93IHVwIGxvYWRlciBleGVjdXRpb24gY2FsbCBhbGwgbG9hZGVyc1xuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcInN1Ym1pdHRpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHdlJ3JlIGN1cnJlbnRseSBpbiBhbiBpZGxlIHN0YXRlLCBzdGFydCBhIG5ldyBuYXZpZ2F0aW9uIGZvciB0aGUgY3VycmVudFxuICAgIC8vIGFjdGlvbi9sb2NhdGlvbiBhbmQgbWFyayBpdCBhcyB1bmludGVycnVwdGVkLCB3aGljaCB3aWxsIHNraXAgdGhlIGhpc3RvcnlcbiAgICAvLyB1cGRhdGUgaW4gY29tcGxldGVOYXZpZ2F0aW9uXG4gICAgaWYgKHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwiaWRsZVwiKSB7XG4gICAgICBzdGFydE5hdmlnYXRpb24oc3RhdGUuaGlzdG9yeUFjdGlvbiwgc3RhdGUubG9jYXRpb24sIHtcbiAgICAgICAgc3RhcnRVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiB3ZSdyZSBjdXJyZW50bHkgaW4gYSBsb2FkaW5nIHN0YXRlLCBqdXN0IHN0YXJ0IGEgbmV3XG4gICAgLy8gbmF2aWdhdGlvbiB0byB0aGUgbmF2aWdhdGlvbi5sb2NhdGlvbiBidXQgZG8gbm90IHRyaWdnZXIgYW4gdW5pbnRlcnJ1cHRlZFxuICAgIC8vIHJldmFsaWRhdGlvbiBzbyB0aGF0IGhpc3RvcnkgY29ycmVjdGx5IHVwZGF0ZXMgb25jZSB0aGUgbmF2aWdhdGlvbiBjb21wbGV0ZXNcbiAgICBzdGFydE5hdmlnYXRpb24oXG4gICAgICBwZW5kaW5nQWN0aW9uIHx8IHN0YXRlLmhpc3RvcnlBY3Rpb24sXG4gICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLFxuICAgICAge1xuICAgICAgICBvdmVycmlkZU5hdmlnYXRpb246IHN0YXRlLm5hdmlnYXRpb24sXG4gICAgICAgIC8vIFByb3h5IHRocm91Z2ggYW55IHJlbmRpbmcgdmlldyB0cmFuc2l0aW9uXG4gICAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID09PSB0cnVlLFxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICAvLyBTdGFydCBhIG5hdmlnYXRpb24gdG8gdGhlIGdpdmVuIGFjdGlvbi9sb2NhdGlvbi4gIENhbiBvcHRpb25hbGx5IHByb3ZpZGUgYVxuICAvLyBvdmVycmlkZU5hdmlnYXRpb24gd2hpY2ggd2lsbCBvdmVycmlkZSB0aGUgbm9ybWFsTG9hZCBpbiB0aGUgY2FzZSBvZiBhIHJlZGlyZWN0XG4gIC8vIG5hdmlnYXRpb25cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnROYXZpZ2F0aW9uKFxuICAgIGhpc3RvcnlBY3Rpb246IEhpc3RvcnlBY3Rpb24sXG4gICAgbG9jYXRpb246IExvY2F0aW9uLFxuICAgIG9wdHM/OiB7XG4gICAgICBpbml0aWFsSHlkcmF0aW9uPzogYm9vbGVhbjtcbiAgICAgIHN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uO1xuICAgICAgZmV0Y2hlclN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uO1xuICAgICAgb3ZlcnJpZGVOYXZpZ2F0aW9uPzogTmF2aWdhdGlvbjtcbiAgICAgIHBlbmRpbmdFcnJvcj86IEVycm9yUmVzcG9uc2VJbXBsO1xuICAgICAgc3RhcnRVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uPzogYm9vbGVhbjtcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldD86IGJvb2xlYW47XG4gICAgICByZXBsYWNlPzogYm9vbGVhbjtcbiAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uPzogYm9vbGVhbjtcbiAgICAgIGZsdXNoU3luYz86IGJvb2xlYW47XG4gICAgfVxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBBYm9ydCBhbnkgaW4tcHJvZ3Jlc3MgbmF2aWdhdGlvbnMgYW5kIHN0YXJ0IGEgbmV3IG9uZS4gVW5zZXQgYW55IG9uZ29pbmdcbiAgICAvLyB1bmludGVycnVwdGVkIHJldmFsaWRhdGlvbnMgdW5sZXNzIHRvbGQgb3RoZXJ3aXNlLCBzaW5jZSB3ZSB3YW50IHRoaXNcbiAgICAvLyBuZXcgbmF2aWdhdGlvbiB0byB1cGRhdGUgaGlzdG9yeSBub3JtYWxseVxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciAmJiBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuICAgIHBlbmRpbmdBY3Rpb24gPSBoaXN0b3J5QWN0aW9uO1xuICAgIGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA9XG4gICAgICAob3B0cyAmJiBvcHRzLnN0YXJ0VW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbikgPT09IHRydWU7XG5cbiAgICAvLyBTYXZlIHRoZSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbiBldmVyeSB0aW1lIHdlIHN0YXJ0IGEgbmV3IG5hdmlnYXRpb24sXG4gICAgLy8gYW5kIHRyYWNrIHdoZXRoZXIgd2Ugc2hvdWxkIHJlc2V0IHNjcm9sbCBvbiBjb21wbGV0aW9uXG4gICAgc2F2ZVNjcm9sbFBvc2l0aW9uKHN0YXRlLmxvY2F0aW9uLCBzdGF0ZS5tYXRjaGVzKTtcbiAgICBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gKG9wdHMgJiYgb3B0cy5wcmV2ZW50U2Nyb2xsUmVzZXQpID09PSB0cnVlO1xuXG4gICAgcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9IChvcHRzICYmIG9wdHMuZW5hYmxlVmlld1RyYW5zaXRpb24pID09PSB0cnVlO1xuXG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IGxvYWRpbmdOYXZpZ2F0aW9uID0gb3B0cyAmJiBvcHRzLm92ZXJyaWRlTmF2aWdhdGlvbjtcbiAgICBsZXQgbWF0Y2hlcyA9XG4gICAgICBvcHRzPy5pbml0aWFsSHlkcmF0aW9uICYmXG4gICAgICBzdGF0ZS5tYXRjaGVzICYmXG4gICAgICBzdGF0ZS5tYXRjaGVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICFpbml0aWFsTWF0Y2hlc0lzRk9XXG4gICAgICAgID8gLy8gYG1hdGNoUm91dGVzKClgIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkIGlmIHdlJ3JlIGluIGhlcmUgdmlhIGByb3V0ZXIuaW5pdGlhbGl6ZSgpYFxuICAgICAgICAgIHN0YXRlLm1hdGNoZXNcbiAgICAgICAgOiBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgbG9jYXRpb24sIGJhc2VuYW1lKTtcbiAgICBsZXQgZmx1c2hTeW5jID0gKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlO1xuXG4gICAgLy8gU2hvcnQgY2lyY3VpdCBpZiBpdCdzIG9ubHkgYSBoYXNoIGNoYW5nZSBhbmQgbm90IGEgcmV2YWxpZGF0aW9uIG9yXG4gICAgLy8gbXV0YXRpb24gc3VibWlzc2lvbi5cbiAgICAvL1xuICAgIC8vIElnbm9yZSBvbiBpbml0aWFsIHBhZ2UgbG9hZHMgYmVjYXVzZSBzaW5jZSB0aGUgaW5pdGlhbCBoeWRyYXRpb24gd2lsbCBhbHdheXNcbiAgICAvLyBiZSBcInNhbWUgaGFzaFwiLiAgRm9yIGV4YW1wbGUsIG9uIC9wYWdlI2hhc2ggYW5kIHN1Ym1pdCBhIDxGb3JtIG1ldGhvZD1cInBvc3RcIj5cbiAgICAvLyB3aGljaCB3aWxsIGRlZmF1bHQgdG8gYSBuYXZpZ2F0aW9uIHRvIC9wYWdlXG4gICAgaWYgKFxuICAgICAgbWF0Y2hlcyAmJlxuICAgICAgc3RhdGUuaW5pdGlhbGl6ZWQgJiZcbiAgICAgICFpc1JldmFsaWRhdGlvblJlcXVpcmVkICYmXG4gICAgICBpc0hhc2hDaGFuZ2VPbmx5KHN0YXRlLmxvY2F0aW9uLCBsb2NhdGlvbikgJiZcbiAgICAgICEob3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChvcHRzLnN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpXG4gICAgKSB7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIHsgbWF0Y2hlcyB9LCB7IGZsdXNoU3luYyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZm9nT2ZXYXIgPSBjaGVja0ZvZ09mV2FyKG1hdGNoZXMsIHJvdXRlc1RvVXNlLCBsb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSAmJiBmb2dPZldhci5tYXRjaGVzKSB7XG4gICAgICBtYXRjaGVzID0gZm9nT2ZXYXIubWF0Y2hlcztcbiAgICB9XG5cbiAgICAvLyBTaG9ydCBjaXJjdWl0IHdpdGggYSA0MDQgb24gdGhlIHJvb3QgZXJyb3IgYm91bmRhcnkgaWYgd2UgbWF0Y2ggbm90aGluZ1xuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgbGV0IHsgZXJyb3IsIG5vdEZvdW5kTWF0Y2hlcywgcm91dGUgfSA9IGhhbmRsZU5hdmlnYXRpb25hbDQwNChcbiAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICk7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3IsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBjb250cm9sbGVyL1JlcXVlc3QgZm9yIHRoaXMgbmF2aWdhdGlvblxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgcmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgb3B0cyAmJiBvcHRzLnN1Ym1pc3Npb25cbiAgICApO1xuICAgIGxldCBwZW5kaW5nQWN0aW9uUmVzdWx0OiBQZW5kaW5nQWN0aW9uUmVzdWx0IHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKG9wdHMgJiYgb3B0cy5wZW5kaW5nRXJyb3IpIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBwZW5kaW5nRXJyb3IsIGl0IG1lYW5zIHRoZSB1c2VyIGF0dGVtcHRlZCBhIEdFVCBzdWJtaXNzaW9uXG4gICAgICAvLyB3aXRoIGJpbmFyeSBGb3JtRGF0YSBzbyBhc3NpZ24gaGVyZSBhbmQgc2tpcCB0byBoYW5kbGVMb2FkZXJzLiAgVGhhdFxuICAgICAgLy8gd2F5IHdlIGhhbmRsZSBjYWxsaW5nIGxvYWRlcnMgYWJvdmUgdGhlIGJvdW5kYXJ5IGV0Yy4gIEl0J3Mgbm90IHJlYWxseVxuICAgICAgLy8gZGlmZmVyZW50IGZyb20gYW4gYWN0aW9uRXJyb3IgaW4gdGhhdCBzZW5zZS5cbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgPSBbXG4gICAgICAgIGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcykucm91dGUuaWQsXG4gICAgICAgIHsgdHlwZTogUmVzdWx0VHlwZS5lcnJvciwgZXJyb3I6IG9wdHMucGVuZGluZ0Vycm9yIH0sXG4gICAgICBdO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBvcHRzICYmXG4gICAgICBvcHRzLnN1Ym1pc3Npb24gJiZcbiAgICAgIGlzTXV0YXRpb25NZXRob2Qob3B0cy5zdWJtaXNzaW9uLmZvcm1NZXRob2QpXG4gICAgKSB7XG4gICAgICAvLyBDYWxsIGFjdGlvbiBpZiB3ZSByZWNlaXZlZCBhbiBhY3Rpb24gc3VibWlzc2lvblxuICAgICAgbGV0IGFjdGlvblJlc3VsdCA9IGF3YWl0IGhhbmRsZUFjdGlvbihcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG9wdHMuc3VibWlzc2lvbixcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgICB7IHJlcGxhY2U6IG9wdHMucmVwbGFjZSwgZmx1c2hTeW5jIH1cbiAgICAgICk7XG5cbiAgICAgIGlmIChhY3Rpb25SZXN1bHQuc2hvcnRDaXJjdWl0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB3ZSByZWNlaXZlZCBhIDQwNCBmcm9tIGhhbmRsZUFjdGlvbiwgaXQncyBiZWNhdXNlIHdlIGNvdWxkbid0IGxhemlseVxuICAgICAgLy8gZGlzY292ZXIgdGhlIGRlc3RpbmF0aW9uIHJvdXRlIHNvIHdlIGRvbid0IHdhbnQgdG8gY2FsbCBsb2FkZXJzXG4gICAgICBpZiAoYWN0aW9uUmVzdWx0LnBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICAgICAgbGV0IFtyb3V0ZUlkLCByZXN1bHRdID0gYWN0aW9uUmVzdWx0LnBlbmRpbmdBY3Rpb25SZXN1bHQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc0Vycm9yUmVzdWx0KHJlc3VsdCkgJiZcbiAgICAgICAgICBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpICYmXG4gICAgICAgICAgcmVzdWx0LmVycm9yLnN0YXR1cyA9PT0gNDA0XG4gICAgICAgICkge1xuICAgICAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG5cbiAgICAgICAgICBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIHtcbiAgICAgICAgICAgIG1hdGNoZXM6IGFjdGlvblJlc3VsdC5tYXRjaGVzLFxuICAgICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgICAgW3JvdXRlSWRdOiByZXN1bHQuZXJyb3IsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtYXRjaGVzID0gYWN0aW9uUmVzdWx0Lm1hdGNoZXMgfHwgbWF0Y2hlcztcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgPSBhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICAgIGxvYWRpbmdOYXZpZ2F0aW9uID0gZ2V0TG9hZGluZ05hdmlnYXRpb24obG9jYXRpb24sIG9wdHMuc3VibWlzc2lvbik7XG4gICAgICBmbHVzaFN5bmMgPSBmYWxzZTtcbiAgICAgIC8vIE5vIG5lZWQgdG8gZG8gZm9nIG9mIHdhciBtYXRjaGluZyBhZ2FpbiBvbiBsb2FkZXIgZXhlY3V0aW9uXG4gICAgICBmb2dPZldhci5hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgLy8gQ3JlYXRlIGEgR0VUIHJlcXVlc3QgZm9yIHRoZSBsb2FkZXJzXG4gICAgICByZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgICAgcmVxdWVzdC51cmwsXG4gICAgICAgIHJlcXVlc3Quc2lnbmFsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENhbGwgbG9hZGVyc1xuICAgIGxldCB7XG4gICAgICBzaG9ydENpcmN1aXRlZCxcbiAgICAgIG1hdGNoZXM6IHVwZGF0ZWRNYXRjaGVzLFxuICAgICAgbG9hZGVyRGF0YSxcbiAgICAgIGVycm9ycyxcbiAgICB9ID0gYXdhaXQgaGFuZGxlTG9hZGVycyhcbiAgICAgIHJlcXVlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG1hdGNoZXMsXG4gICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICBsb2FkaW5nTmF2aWdhdGlvbixcbiAgICAgIG9wdHMgJiYgb3B0cy5zdWJtaXNzaW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLmZldGNoZXJTdWJtaXNzaW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLnJlcGxhY2UsXG4gICAgICBvcHRzICYmIG9wdHMuaW5pdGlhbEh5ZHJhdGlvbiA9PT0gdHJ1ZSxcbiAgICAgIGZsdXNoU3luYyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgICApO1xuXG4gICAgaWYgKHNob3J0Q2lyY3VpdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4gdXAgbm93IHRoYXQgdGhlIGFjdGlvbi9sb2FkZXJzIGhhdmUgY29tcGxldGVkLiAgRG9uJ3QgY2xlYW4gdXAgaWZcbiAgICAvLyB3ZSBzaG9ydCBjaXJjdWl0ZWQgYmVjYXVzZSBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgd2lsbCBoYXZlIGFscmVhZHlcbiAgICAvLyBiZWVuIGFzc2lnbmVkIHRvIGEgbmV3IGNvbnRyb2xsZXIgZm9yIHRoZSBuZXh0IG5hdmlnYXRpb25cbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuXG4gICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7XG4gICAgICBtYXRjaGVzOiB1cGRhdGVkTWF0Y2hlcyB8fCBtYXRjaGVzLFxuICAgICAgLi4uZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChwZW5kaW5nQWN0aW9uUmVzdWx0KSxcbiAgICAgIGxvYWRlckRhdGEsXG4gICAgICBlcnJvcnMsXG4gICAgfSk7XG4gIH1cblxuICAvLyBDYWxsIHRoZSBhY3Rpb24gbWF0Y2hlZCBieSB0aGUgbGVhZiByb3V0ZSBmb3IgdGhpcyBuYXZpZ2F0aW9uIGFuZCBoYW5kbGVcbiAgLy8gcmVkaXJlY3RzL2Vycm9yc1xuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBY3Rpb24oXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICBsb2NhdGlvbjogTG9jYXRpb24sXG4gICAgc3VibWlzc2lvbjogU3VibWlzc2lvbixcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgaXNGb2dPZldhcjogYm9vbGVhbixcbiAgICBvcHRzOiB7IHJlcGxhY2U/OiBib29sZWFuOyBmbHVzaFN5bmM/OiBib29sZWFuIH0gPSB7fVxuICApOiBQcm9taXNlPEhhbmRsZUFjdGlvblJlc3VsdD4ge1xuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG5cbiAgICAvLyBQdXQgdXMgaW4gYSBzdWJtaXR0aW5nIHN0YXRlXG4gICAgbGV0IG5hdmlnYXRpb24gPSBnZXRTdWJtaXR0aW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbik7XG4gICAgdXBkYXRlU3RhdGUoeyBuYXZpZ2F0aW9uIH0sIHsgZmx1c2hTeW5jOiBvcHRzLmZsdXNoU3luYyA9PT0gdHJ1ZSB9KTtcblxuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHJlcXVlc3Quc2lnbmFsXG4gICAgICApO1xuICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBsZXQgYm91bmRhcnlJZCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMpXG4gICAgICAgICAgLnJvdXRlLmlkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzLFxuICAgICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFtcbiAgICAgICAgICAgIGJvdW5kYXJ5SWQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgICAgICAgIGVycm9yOiBkaXNjb3ZlclJlc3VsdC5lcnJvcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgbGV0IHsgbm90Rm91bmRNYXRjaGVzLCBlcnJvciwgcm91dGUgfSA9IGhhbmRsZU5hdmlnYXRpb25hbDQwNChcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbXG4gICAgICAgICAgICByb3V0ZS5pZCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYWxsIG91ciBhY3Rpb24gYW5kIGdldCB0aGUgcmVzdWx0XG4gICAgbGV0IHJlc3VsdDogRGF0YVJlc3VsdDtcbiAgICBsZXQgYWN0aW9uTWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbik7XG5cbiAgICBpZiAoIWFjdGlvbk1hdGNoLnJvdXRlLmFjdGlvbiAmJiAhYWN0aW9uTWF0Y2gucm91dGUubGF6eSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgICByb3V0ZUlkOiBhY3Rpb25NYXRjaC5yb3V0ZS5pZCxcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICAgIFwiYWN0aW9uXCIsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBbYWN0aW9uTWF0Y2hdLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0c1thY3Rpb25NYXRjaC5yb3V0ZS5pZF07XG5cbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IHJlcGxhY2U6IGJvb2xlYW47XG4gICAgICBpZiAob3B0cyAmJiBvcHRzLnJlcGxhY2UgIT0gbnVsbCkge1xuICAgICAgICByZXBsYWNlID0gb3B0cy5yZXBsYWNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgZGlkbid0IGV4cGxpY2l0eSBpbmRpY2F0ZSByZXBsYWNlIGJlaGF2aW9yLCByZXBsYWNlIGlmXG4gICAgICAgIC8vIHdlIHJlZGlyZWN0ZWQgdG8gdGhlIGV4YWN0IHNhbWUgbG9jYXRpb24gd2UncmUgY3VycmVudGx5IGF0IHRvIGF2b2lkXG4gICAgICAgIC8vIGRvdWJsZSBiYWNrLWJ1dHRvbnNcbiAgICAgICAgbGV0IGxvY2F0aW9uID0gbm9ybWFsaXplUmVkaXJlY3RMb2NhdGlvbihcbiAgICAgICAgICByZXN1bHQucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKSEsXG4gICAgICAgICAgbmV3IFVSTChyZXF1ZXN0LnVybCksXG4gICAgICAgICAgYmFzZW5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgcmVwbGFjZSA9IGxvY2F0aW9uID09PSBzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSArIHN0YXRlLmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlc3VsdCwgdHJ1ZSwge1xuICAgICAgICBzdWJtaXNzaW9uLFxuICAgICAgICByZXBsYWNlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cblxuICAgIGlmIChpc0RlZmVycmVkUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAwLCB7IHR5cGU6IFwiZGVmZXItYWN0aW9uXCIgfSk7XG4gICAgfVxuXG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgLy8gU3RvcmUgb2ZmIHRoZSBwZW5kaW5nIGVycm9yIC0gd2UgdXNlIGl0IHRvIGRldGVybWluZSB3aGljaCBsb2FkZXJzXG4gICAgICAvLyB0byBjYWxsIGFuZCB3aWxsIGNvbW1pdCBpdCB3aGVuIHdlIGNvbXBsZXRlIHRoZSBuYXZpZ2F0aW9uXG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgYWN0aW9uTWF0Y2gucm91dGUuaWQpO1xuXG4gICAgICAvLyBCeSBkZWZhdWx0LCBhbGwgc3VibWlzc2lvbnMgdG8gdGhlIGN1cnJlbnQgbG9jYXRpb24gYXJlIFJFUExBQ0VcbiAgICAgIC8vIG5hdmlnYXRpb25zLCBidXQgaWYgdGhlIGFjdGlvbiB0aHJldyBhbiBlcnJvciB0aGF0J2xsIGJlIHJlbmRlcmVkIGluXG4gICAgICAvLyBhbiBlcnJvckVsZW1lbnQsIHdlIGZhbGwgYmFjayB0byBQVVNIIHNvIHRoYXQgdGhlIHVzZXIgY2FuIHVzZSB0aGVcbiAgICAgIC8vIGJhY2sgYnV0dG9uIHRvIGdldCBiYWNrIHRvIHRoZSBwcmUtc3VibWlzc2lvbiBmb3JtIGxvY2F0aW9uIHRvIHRyeVxuICAgICAgLy8gYWdhaW5cbiAgICAgIGlmICgob3B0cyAmJiBvcHRzLnJlcGxhY2UpICE9PSB0cnVlKSB7XG4gICAgICAgIHBlbmRpbmdBY3Rpb24gPSBIaXN0b3J5QWN0aW9uLlB1c2g7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkLCByZXN1bHRdLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlcyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFthY3Rpb25NYXRjaC5yb3V0ZS5pZCwgcmVzdWx0XSxcbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBhbGwgYXBwbGljYWJsZSBsb2FkZXJzIGZvciB0aGUgZ2l2ZW4gbWF0Y2hlcywgaGFuZGxpbmcgcmVkaXJlY3RzLFxuICAvLyBlcnJvcnMsIGV0Yy5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlTG9hZGVycyhcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgaXNGb2dPZldhcjogYm9vbGVhbixcbiAgICBvdmVycmlkZU5hdmlnYXRpb24/OiBOYXZpZ2F0aW9uLFxuICAgIHN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uLFxuICAgIGZldGNoZXJTdWJtaXNzaW9uPzogU3VibWlzc2lvbixcbiAgICByZXBsYWNlPzogYm9vbGVhbixcbiAgICBpbml0aWFsSHlkcmF0aW9uPzogYm9vbGVhbixcbiAgICBmbHVzaFN5bmM/OiBib29sZWFuLFxuICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ/OiBQZW5kaW5nQWN0aW9uUmVzdWx0XG4gICk6IFByb21pc2U8SGFuZGxlTG9hZGVyc1Jlc3VsdD4ge1xuICAgIC8vIEZpZ3VyZSBvdXQgdGhlIHJpZ2h0IG5hdmlnYXRpb24gd2Ugd2FudCB0byB1c2UgZm9yIGRhdGEgbG9hZGluZ1xuICAgIGxldCBsb2FkaW5nTmF2aWdhdGlvbiA9XG4gICAgICBvdmVycmlkZU5hdmlnYXRpb24gfHwgZ2V0TG9hZGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pO1xuXG4gICAgLy8gSWYgdGhpcyB3YXMgYSByZWRpcmVjdCBmcm9tIGFuIGFjdGlvbiB3ZSBkb24ndCBoYXZlIGEgXCJzdWJtaXNzaW9uXCIgYnV0XG4gICAgLy8gd2UgaGF2ZSBpdCBvbiB0aGUgbG9hZGluZyBuYXZpZ2F0aW9uIHNvIHVzZSB0aGF0IGlmIGF2YWlsYWJsZVxuICAgIGxldCBhY3RpdmVTdWJtaXNzaW9uID1cbiAgICAgIHN1Ym1pc3Npb24gfHxcbiAgICAgIGZldGNoZXJTdWJtaXNzaW9uIHx8XG4gICAgICBnZXRTdWJtaXNzaW9uRnJvbU5hdmlnYXRpb24obG9hZGluZ05hdmlnYXRpb24pO1xuXG4gICAgLy8gSWYgdGhpcyBpcyBhbiB1bmludGVycnVwdGVkIHJldmFsaWRhdGlvbiwgd2UgcmVtYWluIGluIG91ciBjdXJyZW50IGlkbGVcbiAgICAvLyBzdGF0ZS4gIElmIG5vdCwgd2UgbmVlZCB0byBzd2l0Y2ggdG8gb3VyIGxvYWRpbmcgc3RhdGUgYW5kIGxvYWQgZGF0YSxcbiAgICAvLyBwcmVzZXJ2aW5nIGFueSBuZXcgYWN0aW9uIGRhdGEgb3IgZXhpc3RpbmcgYWN0aW9uIGRhdGEgKGluIHRoZSBjYXNlIG9mXG4gICAgLy8gYSByZXZhbGlkYXRpb24gaW50ZXJydXB0aW5nIGFuIGFjdGlvblJlbG9hZClcbiAgICAvLyBJZiB3ZSBoYXZlIHBhcnRpYWxIeWRyYXRpb24gZW5hYmxlZCwgdGhlbiBkb24ndCB1cGRhdGUgdGhlIHN0YXRlIGZvciB0aGVcbiAgICAvLyBpbml0aWFsIGRhdGEgbG9hZCBzaW5jZSBpdCdzIG5vdCBhIFwibmF2aWdhdGlvblwiXG4gICAgbGV0IHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSA9XG4gICAgICAhaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uICYmXG4gICAgICAoIWZ1dHVyZS52N19wYXJ0aWFsSHlkcmF0aW9uIHx8ICFpbml0aWFsSHlkcmF0aW9uKTtcblxuICAgIC8vIFdoZW4gZm9nIG9mIHdhciBpcyBlbmFibGVkLCB3ZSBlbnRlciBvdXIgYGxvYWRpbmdgIHN0YXRlIGVhcmxpZXIgc28gd2VcbiAgICAvLyBjYW4gZGlzY292ZXIgbmV3IHJvdXRlcyBkdXJpbmcgdGhlIGBsb2FkaW5nYCBzdGF0ZS4gIFdlIHNraXAgdGhpcyBpZlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgcnVuIGFjdGlvbnMgc2luY2Ugd2Ugd291bGQgaGF2ZSBkb25lIG91ciBtYXRjaGluZyBhbHJlYWR5LlxuICAgIC8vIElmIHRoZSBjaGlsZHJlbigpIGZ1bmN0aW9uIHRocmV3IHRoZW4sIHdlIHdhbnQgdG8gcHJvY2VlZCB3aXRoIHRoZVxuICAgIC8vIHBhcnRpYWwgbWF0Y2hlcyBpdCBkaXNjb3ZlcmVkLlxuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlKSB7XG4gICAgICAgIGxldCBhY3Rpb25EYXRhID0gZ2V0VXBkYXRlZEFjdGlvbkRhdGEocGVuZGluZ0FjdGlvblJlc3VsdCk7XG4gICAgICAgIHVwZGF0ZVN0YXRlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hdmlnYXRpb246IGxvYWRpbmdOYXZpZ2F0aW9uLFxuICAgICAgICAgICAgLi4uKGFjdGlvbkRhdGEgIT09IHVuZGVmaW5lZCA/IHsgYWN0aW9uRGF0YSB9IDoge30pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZmx1c2hTeW5jLFxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcblxuICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBsZXQgYm91bmRhcnlJZCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMpXG4gICAgICAgICAgLnJvdXRlLmlkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW2JvdW5kYXJ5SWRdOiBkaXNjb3ZlclJlc3VsdC5lcnJvcixcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBsZXQgeyBlcnJvciwgbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3IsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCBbbWF0Y2hlc1RvTG9hZCwgcmV2YWxpZGF0aW5nRmV0Y2hlcnNdID0gZ2V0TWF0Y2hlc1RvTG9hZChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGFjdGl2ZVN1Ym1pc3Npb24sXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGZ1dHVyZS52N19wYXJ0aWFsSHlkcmF0aW9uICYmIGluaXRpYWxIeWRyYXRpb24gPT09IHRydWUsXG4gICAgICBmdXR1cmUudjdfc2tpcEFjdGlvbkVycm9yUmV2YWxpZGF0aW9uLFxuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCxcbiAgICAgIGNhbmNlbGxlZERlZmVycmVkUm91dGVzLFxuICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLFxuICAgICAgZGVsZXRlZEZldGNoZXJzLFxuICAgICAgZmV0Y2hMb2FkTWF0Y2hlcyxcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMsXG4gICAgICByb3V0ZXNUb1VzZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdFxuICAgICk7XG5cbiAgICAvLyBDYW5jZWwgcGVuZGluZyBkZWZlcnJlZHMgZm9yIG5vLWxvbmdlci1tYXRjaGVkIHJvdXRlcyBvciByb3V0ZXMgd2UncmVcbiAgICAvLyBhYm91dCB0byByZWxvYWQuICBOb3RlIHRoYXQgaWYgdGhpcyBpcyBhbiBhY3Rpb24gcmVsb2FkIHdlIHdvdWxkIGhhdmVcbiAgICAvLyBhbHJlYWR5IGNhbmNlbGxlZCBhbGwgcGVuZGluZyBkZWZlcnJlZHMgc28gdGhpcyB3b3VsZCBiZSBhIG5vLW9wXG4gICAgY2FuY2VsQWN0aXZlRGVmZXJyZWRzKFxuICAgICAgKHJvdXRlSWQpID0+XG4gICAgICAgICEobWF0Y2hlcyAmJiBtYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpKSB8fFxuICAgICAgICAobWF0Y2hlc1RvTG9hZCAmJiBtYXRjaGVzVG9Mb2FkLnNvbWUoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpKVxuICAgICk7XG5cbiAgICBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA9ICsraW5jcmVtZW50aW5nTG9hZElkO1xuXG4gICAgLy8gU2hvcnQgY2lyY3VpdCBpZiB3ZSBoYXZlIG5vIGxvYWRlcnMgdG8gcnVuXG4gICAgaWYgKG1hdGNoZXNUb0xvYWQubGVuZ3RoID09PSAwICYmIHJldmFsaWRhdGluZ0ZldGNoZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbGV0IHVwZGF0ZWRGZXRjaGVycyA9IG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKTtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIC8vIENvbW1pdCBwZW5kaW5nIGVycm9yIGlmIHdlJ3JlIHNob3J0IGNpcmN1aXRpbmdcbiAgICAgICAgICBlcnJvcnM6XG4gICAgICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSlcbiAgICAgICAgICAgICAgPyB7IFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvciB9XG4gICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAuLi5nZXRBY3Rpb25EYXRhRm9yQ29tbWl0KHBlbmRpbmdBY3Rpb25SZXN1bHQpLFxuICAgICAgICAgIC4uLih1cGRhdGVkRmV0Y2hlcnMgPyB7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9IDoge30pLFxuICAgICAgICB9LFxuICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlKSB7XG4gICAgICBsZXQgdXBkYXRlczogUGFydGlhbDxSb3V0ZXJTdGF0ZT4gPSB7fTtcbiAgICAgIGlmICghaXNGb2dPZldhcikge1xuICAgICAgICAvLyBPbmx5IHVwZGF0ZSBuYXZpZ2F0aW9uL2FjdGlvbk5EYXRhIGlmIHdlIGRpZG4ndCBhbHJlYWR5IGRvIGl0IGFib3ZlXG4gICAgICAgIHVwZGF0ZXMubmF2aWdhdGlvbiA9IGxvYWRpbmdOYXZpZ2F0aW9uO1xuICAgICAgICBsZXQgYWN0aW9uRGF0YSA9IGdldFVwZGF0ZWRBY3Rpb25EYXRhKHBlbmRpbmdBY3Rpb25SZXN1bHQpO1xuICAgICAgICBpZiAoYWN0aW9uRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdXBkYXRlcy5hY3Rpb25EYXRhID0gYWN0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJldmFsaWRhdGluZ0ZldGNoZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXBkYXRlcy5mZXRjaGVycyA9IGdldFVwZGF0ZWRSZXZhbGlkYXRpbmdGZXRjaGVycyhyZXZhbGlkYXRpbmdGZXRjaGVycyk7XG4gICAgICB9XG4gICAgICB1cGRhdGVTdGF0ZSh1cGRhdGVzLCB7IGZsdXNoU3luYyB9KTtcbiAgICB9XG5cbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4ge1xuICAgICAgYWJvcnRGZXRjaGVyKHJmLmtleSk7XG4gICAgICBpZiAocmYuY29udHJvbGxlcikge1xuICAgICAgICAvLyBGZXRjaGVycyB1c2UgYW4gaW5kZXBlbmRlbnQgQWJvcnRDb250cm9sbGVyIHNvIHRoYXQgYWJvcnRpbmcgYSBmZXRjaGVyXG4gICAgICAgIC8vICh2aWEgZGVsZXRlRmV0Y2hlcikgZG9lcyBub3QgYWJvcnQgdGhlIHRyaWdnZXJpbmcgbmF2aWdhdGlvbiB0aGF0XG4gICAgICAgIC8vIHRyaWdnZXJlZCB0aGUgcmV2YWxpZGF0aW9uXG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KHJmLmtleSwgcmYuY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBQcm94eSBuYXZpZ2F0aW9uIGFib3J0IHRocm91Z2ggdG8gcmV2YWxpZGF0aW9uIGZldGNoZXJzXG4gICAgbGV0IGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9ucyA9ICgpID0+XG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChmKSA9PiBhYm9ydEZldGNoZXIoZi5rZXkpKTtcbiAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyKSB7XG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiYWJvcnRcIixcbiAgICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCB7IGxvYWRlclJlc3VsdHMsIGZldGNoZXJSZXN1bHRzIH0gPVxuICAgICAgYXdhaXQgY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgICk7XG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG5cbiAgICAvLyBDbGVhbiB1cCBfYWZ0ZXJfIGxvYWRlcnMgaGF2ZSBjb21wbGV0ZWQuICBEb24ndCBjbGVhbiB1cCBpZiB3ZSBzaG9ydFxuICAgIC8vIGNpcmN1aXRlZCBiZWNhdXNlIGZldGNoQ29udHJvbGxlcnMgd291bGQgaGF2ZSBiZWVuIGFib3J0ZWQgYW5kXG4gICAgLy8gcmVhc3NpZ25lZCB0byBuZXcgY29udHJvbGxlcnMgZm9yIHRoZSBuZXh0IG5hdmlnYXRpb25cbiAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyKSB7XG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiYWJvcnRcIixcbiAgICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShyZi5rZXkpKTtcblxuICAgIC8vIElmIGFueSBsb2FkZXJzIHJldHVybmVkIGEgcmVkaXJlY3QgUmVzcG9uc2UsIHN0YXJ0IGEgbmV3IFJFUExBQ0UgbmF2aWdhdGlvblxuICAgIGxldCByZWRpcmVjdCA9IGZpbmRSZWRpcmVjdChsb2FkZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QpIHtcbiAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlZGlyZWN0LnJlc3VsdCwgdHJ1ZSwge1xuICAgICAgICByZXBsYWNlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cblxuICAgIHJlZGlyZWN0ID0gZmluZFJlZGlyZWN0KGZldGNoZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QpIHtcbiAgICAgIC8vIElmIHRoaXMgcmVkaXJlY3QgY2FtZSBmcm9tIGEgZmV0Y2hlciBtYWtlIHN1cmUgd2UgbWFyayBpdCBpblxuICAgICAgLy8gZmV0Y2hSZWRpcmVjdElkcyBzbyBpdCBkb2Vzbid0IGdldCByZXZhbGlkYXRlZCBvbiB0aGUgbmV4dCBzZXQgb2ZcbiAgICAgIC8vIGxvYWRlciBleGVjdXRpb25zXG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChyZWRpcmVjdC5rZXkpO1xuICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVkaXJlY3QucmVzdWx0LCB0cnVlLCB7XG4gICAgICAgIHJlcGxhY2UsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyBhbmQgY29tbWl0IG91dHB1dCBmcm9tIGxvYWRlcnNcbiAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NMb2FkZXJEYXRhKFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIGZldGNoZXJSZXN1bHRzLFxuICAgICAgYWN0aXZlRGVmZXJyZWRzXG4gICAgKTtcblxuICAgIC8vIFdpcmUgdXAgc3Vic2NyaWJlcnMgdG8gdXBkYXRlIGxvYWRlckRhdGEgYXMgcHJvbWlzZXMgc2V0dGxlXG4gICAgYWN0aXZlRGVmZXJyZWRzLmZvckVhY2goKGRlZmVycmVkRGF0YSwgcm91dGVJZCkgPT4ge1xuICAgICAgZGVmZXJyZWREYXRhLnN1YnNjcmliZSgoYWJvcnRlZCkgPT4ge1xuICAgICAgICAvLyBOb3RlOiBObyBuZWVkIHRvIHVwZGF0ZVN0YXRlIGhlcmUgc2luY2UgdGhlIFRyYWNrZWRQcm9taXNlIG9uXG4gICAgICAgIC8vIGxvYWRlckRhdGEgaXMgc3RhYmxlIGFjcm9zcyByZXNvbHZlL3JlamVjdFxuICAgICAgICAvLyBSZW1vdmUgdGhpcyBpbnN0YW5jZSBpZiB3ZSB3ZXJlIGFib3J0ZWQgb3IgaWYgcHJvbWlzZXMgaGF2ZSBzZXR0bGVkXG4gICAgICAgIGlmIChhYm9ydGVkIHx8IGRlZmVycmVkRGF0YS5kb25lKSB7XG4gICAgICAgICAgYWN0aXZlRGVmZXJyZWRzLmRlbGV0ZShyb3V0ZUlkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBQcmVzZXJ2ZSBTU1IgZXJyb3JzIGR1cmluZyBwYXJ0aWFsIGh5ZHJhdGlvblxuICAgIGlmIChmdXR1cmUudjdfcGFydGlhbEh5ZHJhdGlvbiAmJiBpbml0aWFsSHlkcmF0aW9uICYmIHN0YXRlLmVycm9ycykge1xuICAgICAgZXJyb3JzID0geyAuLi5zdGF0ZS5lcnJvcnMsIC4uLmVycm9ycyB9O1xuICAgIH1cblxuICAgIGxldCB1cGRhdGVkRmV0Y2hlcnMgPSBtYXJrRmV0Y2hSZWRpcmVjdHNEb25lKCk7XG4gICAgbGV0IGRpZEFib3J0RmV0Y2hMb2FkcyA9IGFib3J0U3RhbGVGZXRjaExvYWRzKHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkKTtcbiAgICBsZXQgc2hvdWxkVXBkYXRlRmV0Y2hlcnMgPVxuICAgICAgdXBkYXRlZEZldGNoZXJzIHx8IGRpZEFib3J0RmV0Y2hMb2FkcyB8fCByZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPiAwO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGNoZXMsXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzLFxuICAgICAgLi4uKHNob3VsZFVwZGF0ZUZldGNoZXJzID8geyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSA6IHt9KSxcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VXBkYXRlZEFjdGlvbkRhdGEoXG4gICAgcGVuZGluZ0FjdGlvblJlc3VsdDogUGVuZGluZ0FjdGlvblJlc3VsdCB8IHVuZGVmaW5lZFxuICApOiBSZWNvcmQ8c3RyaW5nLCBSb3V0ZURhdGE+IHwgbnVsbCB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgIWlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkpIHtcbiAgICAgIC8vIFRoaXMgaXMgY2FzdCB0byBgYW55YCBjdXJyZW50bHkgYmVjYXVzZSBgUm91dGVEYXRhYHVzZXMgYW55IGFuZCBpdFxuICAgICAgLy8gd291bGQgYmUgYSBicmVha2luZyBjaGFuZ2UgdG8gdXNlIGFueS5cbiAgICAgIC8vIFRPRE86IHY3IC0gY2hhbmdlIGBSb3V0ZURhdGFgIHRvIHVzZSBgdW5rbm93bmAgaW5zdGVhZCBvZiBgYW55YFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGEgYXMgYW55LFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmFjdGlvbkRhdGEpIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhzdGF0ZS5hY3Rpb25EYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhdGUuYWN0aW9uRGF0YTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRVcGRhdGVkUmV2YWxpZGF0aW5nRmV0Y2hlcnMoXG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnM6IFJldmFsaWRhdGluZ0ZldGNoZXJbXVxuICApIHtcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4ge1xuICAgICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQocmYua2V5KTtcbiAgICAgIGxldCByZXZhbGlkYXRpbmdGZXRjaGVyID0gZ2V0TG9hZGluZ0ZldGNoZXIoXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgZmV0Y2hlciA/IGZldGNoZXIuZGF0YSA6IHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChyZi5rZXksIHJldmFsaWRhdGluZ0ZldGNoZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKTtcbiAgfVxuXG4gIC8vIFRyaWdnZXIgYSBmZXRjaGVyIGxvYWQvc3VibWl0IGZvciB0aGUgZ2l2ZW4gZmV0Y2hlciBrZXlcbiAgZnVuY3Rpb24gZmV0Y2goXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcm91dGVJZDogc3RyaW5nLFxuICAgIGhyZWY6IHN0cmluZyB8IG51bGwsXG4gICAgb3B0cz86IFJvdXRlckZldGNoT3B0aW9uc1xuICApIHtcbiAgICBpZiAoaXNTZXJ2ZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJyb3V0ZXIuZmV0Y2goKSB3YXMgY2FsbGVkIGR1cmluZyB0aGUgc2VydmVyIHJlbmRlciwgYnV0IGl0IHNob3VsZG4ndCBiZS4gXCIgK1xuICAgICAgICAgIFwiWW91IGFyZSBsaWtlbHkgY2FsbGluZyBhIHVzZUZldGNoZXIoKSBtZXRob2QgaW4gdGhlIGJvZHkgb2YgeW91ciBjb21wb25lbnQuIFwiICtcbiAgICAgICAgICBcIlRyeSBtb3ZpbmcgaXQgdG8gYSB1c2VFZmZlY3Qgb3IgYSBjYWxsYmFjay5cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBhYm9ydEZldGNoZXIoa2V5KTtcblxuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG5cbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVUbyhcbiAgICAgIHN0YXRlLmxvY2F0aW9uLFxuICAgICAgc3RhdGUubWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgZnV0dXJlLnY3X3ByZXBlbmRCYXNlbmFtZSxcbiAgICAgIGhyZWYsXG4gICAgICBmdXR1cmUudjdfcmVsYXRpdmVTcGxhdFBhdGgsXG4gICAgICByb3V0ZUlkLFxuICAgICAgb3B0cz8ucmVsYXRpdmVcbiAgICApO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIG5vcm1hbGl6ZWRQYXRoLCBiYXNlbmFtZSk7XG5cbiAgICBsZXQgZm9nT2ZXYXIgPSBjaGVja0ZvZ09mV2FyKG1hdGNoZXMsIHJvdXRlc1RvVXNlLCBub3JtYWxpemVkUGF0aCk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSAmJiBmb2dPZldhci5tYXRjaGVzKSB7XG4gICAgICBtYXRjaGVzID0gZm9nT2ZXYXIubWF0Y2hlcztcbiAgICB9XG5cbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIHNldEZldGNoZXJFcnJvcihcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkLFxuICAgICAgICBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbm9ybWFsaXplZFBhdGggfSksXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHsgcGF0aCwgc3VibWlzc2lvbiwgZXJyb3IgfSA9IG5vcm1hbGl6ZU5hdmlnYXRlT3B0aW9ucyhcbiAgICAgIGZ1dHVyZS52N19ub3JtYWxpemVGb3JtTWV0aG9kLFxuICAgICAgdHJ1ZSxcbiAgICAgIG5vcm1hbGl6ZWRQYXRoLFxuICAgICAgb3B0c1xuICAgICk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBwYXRoKTtcblxuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPSAob3B0cyAmJiBvcHRzLnByZXZlbnRTY3JvbGxSZXNldCkgPT09IHRydWU7XG5cbiAgICBpZiAoc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICAgIGhhbmRsZUZldGNoZXJBY3Rpb24oXG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZCxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgICAgZmx1c2hTeW5jLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIHN1Ym1pc3Npb25cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgb2ZmIHRoZSBtYXRjaCBzbyB3ZSBjYW4gY2FsbCBpdCdzIHNob3VsZFJldmFsaWRhdGUgb24gc3Vic2VxdWVudFxuICAgIC8vIHJldmFsaWRhdGlvbnNcbiAgICBmZXRjaExvYWRNYXRjaGVzLnNldChrZXksIHsgcm91dGVJZCwgcGF0aCB9KTtcbiAgICBoYW5kbGVGZXRjaGVyTG9hZGVyKFxuICAgICAga2V5LFxuICAgICAgcm91dGVJZCxcbiAgICAgIHBhdGgsXG4gICAgICBtYXRjaCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICBmbHVzaFN5bmMsXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICBzdWJtaXNzaW9uXG4gICAgKTtcbiAgfVxuXG4gIC8vIENhbGwgdGhlIGFjdGlvbiBmb3IgdGhlIG1hdGNoZWQgZmV0Y2hlci5zdWJtaXQoKSwgYW5kIHRoZW4gaGFuZGxlIHJlZGlyZWN0cyxcbiAgLy8gZXJyb3JzLCBhbmQgcmV2YWxpZGF0aW9uXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZldGNoZXJBY3Rpb24oXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcm91dGVJZDogc3RyaW5nLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBtYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCxcbiAgICByZXF1ZXN0TWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIGlzRm9nT2ZXYXI6IGJvb2xlYW4sXG4gICAgZmx1c2hTeW5jOiBib29sZWFuLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldDogYm9vbGVhbixcbiAgICBzdWJtaXNzaW9uOiBTdWJtaXNzaW9uXG4gICkge1xuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5kZWxldGUoa2V5KTtcblxuICAgIGZ1bmN0aW9uIGRldGVjdEFuZEhhbmRsZTQwNUVycm9yKG06IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gpIHtcbiAgICAgIGlmICghbS5yb3V0ZS5hY3Rpb24gJiYgIW0ucm91dGUubGF6eSkge1xuICAgICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICAgIG1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgICAgICAgIHBhdGhuYW1lOiBwYXRoLFxuICAgICAgICAgIHJvdXRlSWQ6IHJvdXRlSWQsXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBlcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghaXNGb2dPZldhciAmJiBkZXRlY3RBbmRIYW5kbGU0MDVFcnJvcihtYXRjaCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQdXQgdGhpcyBmZXRjaGVyIGludG8gaXQncyBzdWJtaXR0aW5nIHN0YXRlXG4gICAgbGV0IGV4aXN0aW5nRmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldFN1Ym1pdHRpbmdGZXRjaGVyKHN1Ym1pc3Npb24sIGV4aXN0aW5nRmV0Y2hlciksIHtcbiAgICAgIGZsdXNoU3luYyxcbiAgICB9KTtcblxuICAgIGxldCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbGV0IGZldGNoUmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgcGF0aCxcbiAgICAgIGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICBzdWJtaXNzaW9uXG4gICAgKTtcblxuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgcmVxdWVzdE1hdGNoZXMsXG4gICAgICAgIG5ldyBVUkwoZmV0Y2hSZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIGZldGNoUmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGtleVxuICAgICAgKTtcblxuICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGRpc2NvdmVyUmVzdWx0LmVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3IoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IHBhdGggfSksXG4gICAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXF1ZXN0TWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICAgIG1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gocmVxdWVzdE1hdGNoZXMsIHBhdGgpO1xuXG4gICAgICAgIGlmIChkZXRlY3RBbmRIYW5kbGU0MDVFcnJvcihtYXRjaCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDYWxsIHRoZSBhY3Rpb24gZm9yIHRoZSBmZXRjaGVyXG4gICAgZmV0Y2hDb250cm9sbGVycy5zZXQoa2V5LCBhYm9ydENvbnRyb2xsZXIpO1xuXG4gICAgbGV0IG9yaWdpbmF0aW5nTG9hZElkID0gaW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGxldCBhY3Rpb25SZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwiYWN0aW9uXCIsXG4gICAgICBzdGF0ZSxcbiAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgIFttYXRjaF0sXG4gICAgICByZXF1ZXN0TWF0Y2hlcyxcbiAgICAgIGtleVxuICAgICk7XG4gICAgbGV0IGFjdGlvblJlc3VsdCA9IGFjdGlvblJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuXG4gICAgaWYgKGZldGNoUmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgLy8gV2UgY2FuIGRlbGV0ZSB0aGlzIHNvIGxvbmcgYXMgd2Ugd2VyZW4ndCBhYm9ydGVkIGJ5IG91ciBvd24gZmV0Y2hlclxuICAgICAgLy8gcmUtc3VibWl0IHdoaWNoIHdvdWxkIGhhdmUgcHV0IF9uZXdfIGNvbnRyb2xsZXIgaXMgaW4gZmV0Y2hDb250cm9sbGVyc1xuICAgICAgaWYgKGZldGNoQ29udHJvbGxlcnMuZ2V0KGtleSkgPT09IGFib3J0Q29udHJvbGxlcikge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdoZW4gdXNpbmcgdjdfZmV0Y2hlclBlcnNpc3QsIHdlIGRvbid0IHdhbnQgZXJyb3JzIGJ1YmJsaW5nIHVwIHRvIHRoZSBVSVxuICAgIC8vIG9yIHJlZGlyZWN0cyBwcm9jZXNzZWQgZm9yIHVubW91bnRlZCBmZXRjaGVycyBzbyB3ZSBqdXN0IHJldmVydCB0aGVtIHRvXG4gICAgLy8gaWRsZVxuICAgIGlmIChmdXR1cmUudjdfZmV0Y2hlclBlcnNpc3QgJiYgZGVsZXRlZEZldGNoZXJzLmhhcyhrZXkpKSB7XG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChhY3Rpb25SZXN1bHQpIHx8IGlzRXJyb3JSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih1bmRlZmluZWQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTGV0IFN1Y2Nlc3NSZXN1bHQncyBmYWxsIHRocm91Z2ggZm9yIHJldmFsaWRhdGlvblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA+IG9yaWdpbmF0aW5nTG9hZElkKSB7XG4gICAgICAgICAgLy8gQSBuZXcgbmF2aWdhdGlvbiB3YXMga2lja2VkIG9mZiBhZnRlciBvdXIgYWN0aW9uIHN0YXJ0ZWQsIHNvIHRoYXRcbiAgICAgICAgICAvLyBzaG91bGQgdGFrZSBwcmVjZWRlbmNlIG92ZXIgdGhpcyByZWRpcmVjdCBuYXZpZ2F0aW9uLiAgV2UgYWxyZWFkeVxuICAgICAgICAgIC8vIHNldCBpc1JldmFsaWRhdGlvblJlcXVpcmVkIHNvIGFsbCBsb2FkZXJzIGZvciB0aGUgbmV3IHJvdXRlIHNob3VsZFxuICAgICAgICAgIC8vIGZpcmUgdW5sZXNzIG9wdGVkIG91dCB2aWEgc2hvdWxkUmV2YWxpZGF0ZVxuICAgICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHVuZGVmaW5lZCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChrZXkpO1xuICAgICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldExvYWRpbmdGZXRjaGVyKHN1Ym1pc3Npb24pKTtcbiAgICAgICAgICByZXR1cm4gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oZmV0Y2hSZXF1ZXN0LCBhY3Rpb25SZXN1bHQsIGZhbHNlLCB7XG4gICAgICAgICAgICBmZXRjaGVyU3VibWlzc2lvbjogc3VibWlzc2lvbixcbiAgICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQcm9jZXNzIGFueSBub24tcmVkaXJlY3QgZXJyb3JzIHRocm93blxuICAgICAgaWYgKGlzRXJyb3JSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBhY3Rpb25SZXN1bHQuZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmZXJyZWRSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDAsIHsgdHlwZTogXCJkZWZlci1hY3Rpb25cIiB9KTtcbiAgICB9XG5cbiAgICAvLyBTdGFydCB0aGUgZGF0YSBsb2FkIGZvciBjdXJyZW50IG1hdGNoZXMsIG9yIHRoZSBuZXh0IGxvY2F0aW9uIGlmIHdlJ3JlXG4gICAgLy8gaW4gdGhlIG1pZGRsZSBvZiBhIG5hdmlnYXRpb25cbiAgICBsZXQgbmV4dExvY2F0aW9uID0gc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiB8fCBzdGF0ZS5sb2NhdGlvbjtcbiAgICBsZXQgcmV2YWxpZGF0aW9uUmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICAgICk7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IG1hdGNoZXMgPVxuICAgICAgc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSAhPT0gXCJpZGxlXCJcbiAgICAgICAgPyBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiwgYmFzZW5hbWUpXG4gICAgICAgIDogc3RhdGUubWF0Y2hlcztcblxuICAgIGludmFyaWFudChtYXRjaGVzLCBcIkRpZG4ndCBmaW5kIGFueSBtYXRjaGVzIGFmdGVyIGZldGNoZXIgYWN0aW9uXCIpO1xuXG4gICAgbGV0IGxvYWRJZCA9ICsraW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGZldGNoUmVsb2FkSWRzLnNldChrZXksIGxvYWRJZCk7XG5cbiAgICBsZXQgbG9hZEZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBhY3Rpb25SZXN1bHQuZGF0YSk7XG4gICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgbG9hZEZldGNoZXIpO1xuXG4gICAgbGV0IFttYXRjaGVzVG9Mb2FkLCByZXZhbGlkYXRpbmdGZXRjaGVyc10gPSBnZXRNYXRjaGVzVG9Mb2FkKFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgc3VibWlzc2lvbixcbiAgICAgIG5leHRMb2NhdGlvbixcbiAgICAgIGZhbHNlLFxuICAgICAgZnV0dXJlLnY3X3NraXBBY3Rpb25FcnJvclJldmFsaWRhdGlvbixcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQsXG4gICAgICBjYW5jZWxsZWREZWZlcnJlZFJvdXRlcyxcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2FkcyxcbiAgICAgIGRlbGV0ZWRGZXRjaGVycyxcbiAgICAgIGZldGNoTG9hZE1hdGNoZXMsXG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLFxuICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIFttYXRjaC5yb3V0ZS5pZCwgYWN0aW9uUmVzdWx0XVxuICAgICk7XG5cbiAgICAvLyBQdXQgYWxsIHJldmFsaWRhdGluZyBmZXRjaGVycyBpbnRvIHRoZSBsb2FkaW5nIHN0YXRlLCBleGNlcHQgZm9yIHRoZVxuICAgIC8vIGN1cnJlbnQgZmV0Y2hlciB3aGljaCB3ZSB3YW50IHRvIGtlZXAgaW4gaXQncyBjdXJyZW50IGxvYWRpbmcgc3RhdGUgd2hpY2hcbiAgICAvLyBjb250YWlucyBpdCdzIGFjdGlvbiBzdWJtaXNzaW9uIGluZm8gKyBhY3Rpb24gZGF0YVxuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzXG4gICAgICAuZmlsdGVyKChyZikgPT4gcmYua2V5ICE9PSBrZXkpXG4gICAgICAuZm9yRWFjaCgocmYpID0+IHtcbiAgICAgICAgbGV0IHN0YWxlS2V5ID0gcmYua2V5O1xuICAgICAgICBsZXQgZXhpc3RpbmdGZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KHN0YWxlS2V5KTtcbiAgICAgICAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgZXhpc3RpbmdGZXRjaGVyID8gZXhpc3RpbmdGZXRjaGVyLmRhdGEgOiB1bmRlZmluZWRcbiAgICAgICAgKTtcbiAgICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KHN0YWxlS2V5LCByZXZhbGlkYXRpbmdGZXRjaGVyKTtcbiAgICAgICAgYWJvcnRGZXRjaGVyKHN0YWxlS2V5KTtcbiAgICAgICAgaWYgKHJmLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBmZXRjaENvbnRyb2xsZXJzLnNldChzdGFsZUtleSwgcmYuY29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgdXBkYXRlU3RhdGUoeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSk7XG5cbiAgICBsZXQgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zID0gKCkgPT5cbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiBhYm9ydEZldGNoZXIocmYua2V5KSk7XG5cbiAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImFib3J0XCIsXG4gICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICApO1xuXG4gICAgbGV0IHsgbG9hZGVyUmVzdWx0cywgZmV0Y2hlclJlc3VsdHMgfSA9XG4gICAgICBhd2FpdCBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEoXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgICAgcmV2YWxpZGF0aW9uUmVxdWVzdFxuICAgICAgKTtcblxuICAgIGlmIChhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcImFib3J0XCIsXG4gICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICApO1xuXG4gICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyKSA9PiBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShyLmtleSkpO1xuXG4gICAgbGV0IHJlZGlyZWN0ID0gZmluZFJlZGlyZWN0KGxvYWRlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdCkge1xuICAgICAgcmV0dXJuIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKFxuICAgICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgICByZWRpcmVjdC5yZXN1bHQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7IHByZXZlbnRTY3JvbGxSZXNldCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIHJlZGlyZWN0ID0gZmluZFJlZGlyZWN0KGZldGNoZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QpIHtcbiAgICAgIC8vIElmIHRoaXMgcmVkaXJlY3QgY2FtZSBmcm9tIGEgZmV0Y2hlciBtYWtlIHN1cmUgd2UgbWFyayBpdCBpblxuICAgICAgLy8gZmV0Y2hSZWRpcmVjdElkcyBzbyBpdCBkb2Vzbid0IGdldCByZXZhbGlkYXRlZCBvbiB0aGUgbmV4dCBzZXQgb2ZcbiAgICAgIC8vIGxvYWRlciBleGVjdXRpb25zXG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChyZWRpcmVjdC5rZXkpO1xuICAgICAgcmV0dXJuIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKFxuICAgICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgICByZWRpcmVjdC5yZXN1bHQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7IHByZXZlbnRTY3JvbGxSZXNldCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgYW5kIGNvbW1pdCBvdXRwdXQgZnJvbSBsb2FkZXJzXG4gICAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzIH0gPSBwcm9jZXNzTG9hZGVyRGF0YShcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIGZldGNoZXJSZXN1bHRzLFxuICAgICAgYWN0aXZlRGVmZXJyZWRzXG4gICAgKTtcblxuICAgIC8vIFNpbmNlIHdlIGxldCByZXZhbGlkYXRpb25zIGNvbXBsZXRlIGV2ZW4gaWYgdGhlIHN1Ym1pdHRpbmcgZmV0Y2hlciB3YXNcbiAgICAvLyBkZWxldGVkLCBvbmx5IHB1dCBpdCBiYWNrIHRvIGlkbGUgaWYgaXQgaGFzbid0IGJlZW4gZGVsZXRlZFxuICAgIGlmIChzdGF0ZS5mZXRjaGVycy5oYXMoa2V5KSkge1xuICAgICAgbGV0IGRvbmVGZXRjaGVyID0gZ2V0RG9uZUZldGNoZXIoYWN0aW9uUmVzdWx0LmRhdGEpO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZG9uZUZldGNoZXIpO1xuICAgIH1cblxuICAgIGFib3J0U3RhbGVGZXRjaExvYWRzKGxvYWRJZCk7XG5cbiAgICAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IGluIGEgbmF2aWdhdGlvbiBsb2FkaW5nIHN0YXRlIGFuZCB0aGlzIGZldGNoZXIgaXNcbiAgICAvLyBtb3JlIHJlY2VudCB0aGFuIHRoZSBuYXZpZ2F0aW9uLCB3ZSB3YW50IHRoZSBuZXdlciBkYXRhIHNvIGFib3J0IHRoZVxuICAgIC8vIG5hdmlnYXRpb24gYW5kIGNvbXBsZXRlIGl0IHdpdGggdGhlIGZldGNoZXIgZGF0YVxuICAgIGlmIChcbiAgICAgIHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwibG9hZGluZ1wiICYmXG4gICAgICBsb2FkSWQgPiBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZFxuICAgICkge1xuICAgICAgaW52YXJpYW50KHBlbmRpbmdBY3Rpb24sIFwiRXhwZWN0ZWQgcGVuZGluZyBhY3Rpb25cIik7XG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG5cbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLCB7XG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgIGVycm9ycyxcbiAgICAgICAgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG90aGVyd2lzZSBqdXN0IHVwZGF0ZSB3aXRoIHRoZSBmZXRjaGVyIGRhdGEsIHByZXNlcnZpbmcgYW55IGV4aXN0aW5nXG4gICAgICAvLyBsb2FkZXJEYXRhIGZvciBsb2FkZXJzIHRoYXQgZGlkIG5vdCBuZWVkIHRvIHJlbG9hZC4gIFdlIGhhdmUgdG9cbiAgICAgIC8vIG1hbnVhbGx5IG1lcmdlIGhlcmUgc2luY2Ugd2UgYXJlbid0IGdvaW5nIHRocm91Z2ggY29tcGxldGVOYXZpZ2F0aW9uXG4gICAgICB1cGRhdGVTdGF0ZSh7XG4gICAgICAgIGVycm9ycyxcbiAgICAgICAgbG9hZGVyRGF0YTogbWVyZ2VMb2FkZXJEYXRhKFxuICAgICAgICAgIHN0YXRlLmxvYWRlckRhdGEsXG4gICAgICAgICAgbG9hZGVyRGF0YSxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGVycm9yc1xuICAgICAgICApLFxuICAgICAgICBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycyksXG4gICAgICB9KTtcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBDYWxsIHRoZSBtYXRjaGVkIGxvYWRlciBmb3IgZmV0Y2hlci5sb2FkKCksIGhhbmRsaW5nIHJlZGlyZWN0cywgZXJyb3JzLCBldGMuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZldGNoZXJMb2FkZXIoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcm91dGVJZDogc3RyaW5nLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBtYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCxcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgaXNGb2dPZldhcjogYm9vbGVhbixcbiAgICBmbHVzaFN5bmM6IGJvb2xlYW4sXG4gICAgcHJldmVudFNjcm9sbFJlc2V0OiBib29sZWFuLFxuICAgIHN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uXG4gICkge1xuICAgIGxldCBleGlzdGluZ0ZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoXG4gICAgICBrZXksXG4gICAgICBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgc3VibWlzc2lvbixcbiAgICAgICAgZXhpc3RpbmdGZXRjaGVyID8gZXhpc3RpbmdGZXRjaGVyLmRhdGEgOiB1bmRlZmluZWRcbiAgICAgICksXG4gICAgICB7IGZsdXNoU3luYyB9XG4gICAgKTtcblxuICAgIGxldCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbGV0IGZldGNoUmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgcGF0aCxcbiAgICAgIGFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgICApO1xuXG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBuZXcgVVJMKGZldGNoUmVxdWVzdC51cmwpLnBhdGhuYW1lLFxuICAgICAgICBmZXRjaFJlcXVlc3Quc2lnbmFsLFxuICAgICAgICBrZXlcbiAgICAgICk7XG5cbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBkaXNjb3ZlclJlc3VsdC5lcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBwYXRoIH0pLFxuICAgICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICAgIG1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgcGF0aCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FsbCB0aGUgbG9hZGVyIGZvciB0aGlzIGZldGNoZXIgcm91dGUgbWF0Y2hcbiAgICBmZXRjaENvbnRyb2xsZXJzLnNldChrZXksIGFib3J0Q29udHJvbGxlcik7XG5cbiAgICBsZXQgb3JpZ2luYXRpbmdMb2FkSWQgPSBpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJsb2FkZXJcIixcbiAgICAgIHN0YXRlLFxuICAgICAgZmV0Y2hSZXF1ZXN0LFxuICAgICAgW21hdGNoXSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBrZXlcbiAgICApO1xuICAgIGxldCByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcblxuICAgIC8vIERlZmVycmVkIGlzbid0IHN1cHBvcnRlZCBmb3IgZmV0Y2hlciBsb2FkcywgYXdhaXQgZXZlcnl0aGluZyBhbmQgdHJlYXQgaXRcbiAgICAvLyBhcyBhIG5vcm1hbCBsb2FkLiAgcmVzb2x2ZURlZmVycmVkRGF0YSB3aWxsIHJldHVybiB1bmRlZmluZWQgaWYgdGhpc1xuICAgIC8vIGZldGNoZXIgZ2V0cyBhYm9ydGVkLCBzbyB3ZSBqdXN0IGxlYXZlIHJlc3VsdCB1bnRvdWNoZWQgYW5kIHNob3J0IGNpcmN1aXRcbiAgICAvLyBiZWxvdyBpZiB0aGF0IGhhcHBlbnNcbiAgICBpZiAoaXNEZWZlcnJlZFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICByZXN1bHQgPVxuICAgICAgICAoYXdhaXQgcmVzb2x2ZURlZmVycmVkRGF0YShyZXN1bHQsIGZldGNoUmVxdWVzdC5zaWduYWwsIHRydWUpKSB8fFxuICAgICAgICByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gV2UgY2FuIGRlbGV0ZSB0aGlzIHNvIGxvbmcgYXMgd2Ugd2VyZW4ndCBhYm9ydGVkIGJ5IG91ciBvdXIgb3duIGZldGNoZXJcbiAgICAvLyByZS1sb2FkIHdoaWNoIHdvdWxkIGhhdmUgcHV0IF9uZXdfIGNvbnRyb2xsZXIgaXMgaW4gZmV0Y2hDb250cm9sbGVyc1xuICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmdldChrZXkpID09PSBhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgfVxuXG4gICAgaWYgKGZldGNoUmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdlIGRvbid0IHdhbnQgZXJyb3JzIGJ1YmJsaW5nIHVwIG9yIHJlZGlyZWN0cyBmb2xsb3dlZCBmb3IgdW5tb3VudGVkXG4gICAgLy8gZmV0Y2hlcnMsIHNvIHNob3J0IGNpcmN1aXQgaGVyZSBpZiBpdCB3YXMgcmVtb3ZlZCBmcm9tIHRoZSBVSVxuICAgIGlmIChkZWxldGVkRmV0Y2hlcnMuaGFzKGtleSkpIHtcbiAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHVuZGVmaW5lZCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBsb2FkZXIgdGhyZXcgYSByZWRpcmVjdCBSZXNwb25zZSwgc3RhcnQgYSBuZXcgUkVQTEFDRSBuYXZpZ2F0aW9uXG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID4gb3JpZ2luYXRpbmdMb2FkSWQpIHtcbiAgICAgICAgLy8gQSBuZXcgbmF2aWdhdGlvbiB3YXMga2lja2VkIG9mZiBhZnRlciBvdXIgbG9hZGVyIHN0YXJ0ZWQsIHNvIHRoYXRcbiAgICAgICAgLy8gc2hvdWxkIHRha2UgcHJlY2VkZW5jZSBvdmVyIHRoaXMgcmVkaXJlY3QgbmF2aWdhdGlvblxuICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih1bmRlZmluZWQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQoa2V5KTtcbiAgICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oZmV0Y2hSZXF1ZXN0LCByZXN1bHQsIGZhbHNlLCB7XG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgYW55IG5vbi1yZWRpcmVjdCBlcnJvcnMgdGhyb3duXG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgcmVzdWx0LmVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbnZhcmlhbnQoIWlzRGVmZXJyZWRSZXN1bHQocmVzdWx0KSwgXCJVbmhhbmRsZWQgZmV0Y2hlciBkZWZlcnJlZCBkYXRhXCIpO1xuXG4gICAgLy8gUHV0IHRoZSBmZXRjaGVyIGJhY2sgaW50byBhbiBpZGxlIHN0YXRlXG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIocmVzdWx0LmRhdGEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGhhbmRsZSByZWRpcmVjdHMgcmV0dXJuZWQgZnJvbSBhbiBhY3Rpb24gb3IgbG9hZGVyLlxuICAgKiBOb3JtYWxseSwgYSByZWRpcmVjdCBcInJlcGxhY2VzXCIgdGhlIG5hdmlnYXRpb24gdGhhdCB0cmlnZ2VyZWQgaXQuICBTbywgZm9yXG4gICAqIGV4YW1wbGU6XG4gICAqXG4gICAqICAtIHVzZXIgaXMgb24gL2FcbiAgICogIC0gdXNlciBjbGlja3MgYSBsaW5rIHRvIC9iXG4gICAqICAtIGxvYWRlciBmb3IgL2IgcmVkaXJlY3RzIHRvIC9jXG4gICAqXG4gICAqIEluIGEgbm9uLUpTIGFwcCB0aGUgYnJvd3NlciB3b3VsZCB0cmFjayB0aGUgaW4tZmxpZ2h0IG5hdmlnYXRpb24gdG8gL2IgYW5kXG4gICAqIHRoZW4gcmVwbGFjZSBpdCB3aXRoIC9jIHdoZW4gaXQgZW5jb3VudGVyZWQgdGhlIHJlZGlyZWN0IHJlc3BvbnNlLiAgSW5cbiAgICogdGhlIGVuZCBpdCB3b3VsZCBvbmx5IGV2ZXIgdXBkYXRlIHRoZSBVUkwgYmFyIHdpdGggL2MuXG4gICAqXG4gICAqIEluIGNsaWVudC1zaWRlIHJvdXRpbmcgdXNpbmcgcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZSwgd2UgYWltIHRvIGVtdWxhdGVcbiAgICogdGhpcyBiZWhhdmlvciBhbmQgd2UgYWxzbyBkbyBub3QgdXBkYXRlIGhpc3RvcnkgdW50aWwgdGhlIGVuZCBvZiB0aGVcbiAgICogbmF2aWdhdGlvbiAoaW5jbHVkaW5nIHByb2Nlc3NlZCByZWRpcmVjdHMpLiAgVGhpcyBtZWFucyB0aGF0IHdlIG5ldmVyXG4gICAqIGFjdHVhbGx5IHRvdWNoIGhpc3RvcnkgdW50aWwgd2UndmUgcHJvY2Vzc2VkIHJlZGlyZWN0cywgc28gd2UganVzdCB1c2VcbiAgICogdGhlIGhpc3RvcnkgYWN0aW9uIGZyb20gdGhlIG9yaWdpbmFsIG5hdmlnYXRpb24gKFBVU0ggb3IgUkVQTEFDRSkuXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIHJlZGlyZWN0OiBSZWRpcmVjdFJlc3VsdCxcbiAgICBpc05hdmlnYXRpb246IGJvb2xlYW4sXG4gICAge1xuICAgICAgc3VibWlzc2lvbixcbiAgICAgIGZldGNoZXJTdWJtaXNzaW9uLFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgcmVwbGFjZSxcbiAgICB9OiB7XG4gICAgICBzdWJtaXNzaW9uPzogU3VibWlzc2lvbjtcbiAgICAgIGZldGNoZXJTdWJtaXNzaW9uPzogU3VibWlzc2lvbjtcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldD86IGJvb2xlYW47XG4gICAgICByZXBsYWNlPzogYm9vbGVhbjtcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgaWYgKHJlZGlyZWN0LnJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXZhbGlkYXRlXCIpKSB7XG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBsZXQgbG9jYXRpb24gPSByZWRpcmVjdC5yZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICAgIGludmFyaWFudChsb2NhdGlvbiwgXCJFeHBlY3RlZCBhIExvY2F0aW9uIGhlYWRlciBvbiB0aGUgcmVkaXJlY3QgUmVzcG9uc2VcIik7XG4gICAgbG9jYXRpb24gPSBub3JtYWxpemVSZWRpcmVjdExvY2F0aW9uKFxuICAgICAgbG9jYXRpb24sXG4gICAgICBuZXcgVVJMKHJlcXVlc3QudXJsKSxcbiAgICAgIGJhc2VuYW1lXG4gICAgKTtcbiAgICBsZXQgcmVkaXJlY3RMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHN0YXRlLmxvY2F0aW9uLCBsb2NhdGlvbiwge1xuICAgICAgX2lzUmVkaXJlY3Q6IHRydWUsXG4gICAgfSk7XG5cbiAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICBsZXQgaXNEb2N1bWVudFJlbG9hZCA9IGZhbHNlO1xuXG4gICAgICBpZiAocmVkaXJlY3QucmVzcG9uc2UuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiKSkge1xuICAgICAgICAvLyBIYXJkIHJlbG9hZCBpZiB0aGUgcmVzcG9uc2UgY29udGFpbmVkIFgtUmVtaXgtUmVsb2FkLURvY3VtZW50XG4gICAgICAgIGlzRG9jdW1lbnRSZWxvYWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChBQlNPTFVURV9VUkxfUkVHRVgudGVzdChsb2NhdGlvbikpIHtcbiAgICAgICAgY29uc3QgdXJsID0gaW5pdC5oaXN0b3J5LmNyZWF0ZVVSTChsb2NhdGlvbik7XG4gICAgICAgIGlzRG9jdW1lbnRSZWxvYWQgPVxuICAgICAgICAgIC8vIEhhcmQgcmVsb2FkIGlmIGl0J3MgYW4gYWJzb2x1dGUgVVJMIHRvIGEgbmV3IG9yaWdpblxuICAgICAgICAgIHVybC5vcmlnaW4gIT09IHJvdXRlcldpbmRvdy5sb2NhdGlvbi5vcmlnaW4gfHxcbiAgICAgICAgICAvLyBIYXJkIHJlbG9hZCBpZiBpdCdzIGFuIGFic29sdXRlIFVSTCB0aGF0IGRvZXMgbm90IG1hdGNoIG91ciBiYXNlbmFtZVxuICAgICAgICAgIHN0cmlwQmFzZW5hbWUodXJsLnBhdGhuYW1lLCBiYXNlbmFtZSkgPT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRG9jdW1lbnRSZWxvYWQpIHtcbiAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICByb3V0ZXJXaW5kb3cubG9jYXRpb24ucmVwbGFjZShsb2NhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm91dGVyV2luZG93LmxvY2F0aW9uLmFzc2lnbihsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRoZXJlJ3Mgbm8gbmVlZCB0byBhYm9ydCBvbiByZWRpcmVjdHMsIHNpbmNlIHdlIGRvbid0IGRldGVjdCB0aGVcbiAgICAvLyByZWRpcmVjdCB1bnRpbCB0aGUgYWN0aW9uL2xvYWRlcnMgaGF2ZSBzZXR0bGVkXG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcblxuICAgIGxldCByZWRpcmVjdEhpc3RvcnlBY3Rpb24gPVxuICAgICAgcmVwbGFjZSA9PT0gdHJ1ZSB8fCByZWRpcmVjdC5yZXNwb25zZS5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVwbGFjZVwiKVxuICAgICAgICA/IEhpc3RvcnlBY3Rpb24uUmVwbGFjZVxuICAgICAgICA6IEhpc3RvcnlBY3Rpb24uUHVzaDtcblxuICAgIC8vIFVzZSB0aGUgaW5jb21pbmcgc3VibWlzc2lvbiBpZiBwcm92aWRlZCwgZmFsbGJhY2sgb24gdGhlIGFjdGl2ZSBvbmUgaW5cbiAgICAvLyBzdGF0ZS5uYXZpZ2F0aW9uXG4gICAgbGV0IHsgZm9ybU1ldGhvZCwgZm9ybUFjdGlvbiwgZm9ybUVuY1R5cGUgfSA9IHN0YXRlLm5hdmlnYXRpb247XG4gICAgaWYgKFxuICAgICAgIXN1Ym1pc3Npb24gJiZcbiAgICAgICFmZXRjaGVyU3VibWlzc2lvbiAmJlxuICAgICAgZm9ybU1ldGhvZCAmJlxuICAgICAgZm9ybUFjdGlvbiAmJlxuICAgICAgZm9ybUVuY1R5cGVcbiAgICApIHtcbiAgICAgIHN1Ym1pc3Npb24gPSBnZXRTdWJtaXNzaW9uRnJvbU5hdmlnYXRpb24oc3RhdGUubmF2aWdhdGlvbik7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhpcyB3YXMgYSAzMDcvMzA4IHN1Ym1pc3Npb24gd2Ugd2FudCB0byBwcmVzZXJ2ZSB0aGUgSFRUUCBtZXRob2QgYW5kXG4gICAgLy8gcmUtc3VibWl0IHRoZSBHRVQvUE9TVC9QVVQvUEFUQ0gvREVMRVRFIGFzIGEgc3VibWlzc2lvbiBuYXZpZ2F0aW9uIHRvIHRoZVxuICAgIC8vIHJlZGlyZWN0ZWQgbG9jYXRpb25cbiAgICBsZXQgYWN0aXZlU3VibWlzc2lvbiA9IHN1Ym1pc3Npb24gfHwgZmV0Y2hlclN1Ym1pc3Npb247XG4gICAgaWYgKFxuICAgICAgcmVkaXJlY3RQcmVzZXJ2ZU1ldGhvZFN0YXR1c0NvZGVzLmhhcyhyZWRpcmVjdC5yZXNwb25zZS5zdGF0dXMpICYmXG4gICAgICBhY3RpdmVTdWJtaXNzaW9uICYmXG4gICAgICBpc011dGF0aW9uTWV0aG9kKGFjdGl2ZVN1Ym1pc3Npb24uZm9ybU1ldGhvZClcbiAgICApIHtcbiAgICAgIGF3YWl0IHN0YXJ0TmF2aWdhdGlvbihyZWRpcmVjdEhpc3RvcnlBY3Rpb24sIHJlZGlyZWN0TG9jYXRpb24sIHtcbiAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgIC4uLmFjdGl2ZVN1Ym1pc3Npb24sXG4gICAgICAgICAgZm9ybUFjdGlvbjogbG9jYXRpb24sXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFByZXNlcnZlIHRoZXNlIGZsYWdzIGFjcm9zcyByZWRpcmVjdHNcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBwcmV2ZW50U2Nyb2xsUmVzZXQgfHwgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IGlzTmF2aWdhdGlvblxuICAgICAgICAgID8gcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZFxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBuYXZpZ2F0aW9uIHN1Ym1pc3Npb24sIHdlIHdpbGwgcHJlc2VydmUgaXQgdGhyb3VnaCB0aGVcbiAgICAgIC8vIHJlZGlyZWN0IG5hdmlnYXRpb25cbiAgICAgIGxldCBvdmVycmlkZU5hdmlnYXRpb24gPSBnZXRMb2FkaW5nTmF2aWdhdGlvbihcbiAgICAgICAgcmVkaXJlY3RMb2NhdGlvbixcbiAgICAgICAgc3VibWlzc2lvblxuICAgICAgKTtcbiAgICAgIGF3YWl0IHN0YXJ0TmF2aWdhdGlvbihyZWRpcmVjdEhpc3RvcnlBY3Rpb24sIHJlZGlyZWN0TG9jYXRpb24sIHtcbiAgICAgICAgb3ZlcnJpZGVOYXZpZ2F0aW9uLFxuICAgICAgICAvLyBTZW5kIGZldGNoZXIgc3VibWlzc2lvbnMgdGhyb3VnaCBmb3Igc2hvdWxkUmV2YWxpZGF0ZVxuICAgICAgICBmZXRjaGVyU3VibWlzc2lvbixcbiAgICAgICAgLy8gUHJlc2VydmUgdGhlc2UgZmxhZ3MgYWNyb3NzIHJlZGlyZWN0c1xuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IHByZXZlbnRTY3JvbGxSZXNldCB8fCBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogaXNOYXZpZ2F0aW9uXG4gICAgICAgICAgPyBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBVdGlsaXR5IHdyYXBwZXIgZm9yIGNhbGxpbmcgZGF0YVN0cmF0ZWd5IGNsaWVudC1zaWRlIHdpdGhvdXQgaGF2aW5nIHRvXG4gIC8vIHBhc3MgYXJvdW5kIHRoZSBtYW5pZmVzdCwgbWFwUm91dGVQcm9wZXJ0aWVzLCBldGMuXG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgdHlwZTogXCJsb2FkZXJcIiB8IFwiYWN0aW9uXCIsXG4gICAgc3RhdGU6IFJvdXRlclN0YXRlLFxuICAgIHJlcXVlc3Q6IFJlcXVlc3QsXG4gICAgbWF0Y2hlc1RvTG9hZDogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBmZXRjaGVyS2V5OiBzdHJpbmcgfCBudWxsXG4gICk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD4+IHtcbiAgICBsZXQgcmVzdWx0czogUmVjb3JkPHN0cmluZywgRGF0YVN0cmF0ZWd5UmVzdWx0PjtcbiAgICBsZXQgZGF0YVJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+ID0ge307XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5SW1wbChcbiAgICAgICAgZGF0YVN0cmF0ZWd5SW1wbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGZldGNoZXJLZXksXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXNcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWYgdGhlIG91dGVyIGRhdGFTdHJhdGVneSBtZXRob2QgdGhyb3dzLCBqdXN0IHJldHVybiB0aGUgZXJyb3IgZm9yIGFsbFxuICAgICAgLy8gbWF0Y2hlcyAtIGFuZCBpdCdsbCBuYXR1cmFsbHkgYnViYmxlIHRvIHRoZSByb290XG4gICAgICBtYXRjaGVzVG9Mb2FkLmZvckVhY2goKG0pID0+IHtcbiAgICAgICAgZGF0YVJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7XG4gICAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgICBlcnJvcjogZSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRhdGFSZXN1bHRzO1xuICAgIH1cblxuICAgIGZvciAobGV0IFtyb3V0ZUlkLCByZXN1bHRdIG9mIE9iamVjdC5lbnRyaWVzKHJlc3VsdHMpKSB7XG4gICAgICBpZiAoaXNSZWRpcmVjdERhdGFTdHJhdGVneVJlc3VsdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgIGxldCByZXNwb25zZSA9IHJlc3VsdC5yZXN1bHQgYXMgUmVzcG9uc2U7XG4gICAgICAgIGRhdGFSZXN1bHRzW3JvdXRlSWRdID0ge1xuICAgICAgICAgIHR5cGU6IFJlc3VsdFR5cGUucmVkaXJlY3QsXG4gICAgICAgICAgcmVzcG9uc2U6IG5vcm1hbGl6ZVJlbGF0aXZlUm91dGluZ1JlZGlyZWN0UmVzcG9uc2UoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgICAgZnV0dXJlLnY3X3JlbGF0aXZlU3BsYXRQYXRoXG4gICAgICAgICAgKSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFSZXN1bHRzW3JvdXRlSWRdID0gYXdhaXQgY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChcbiAgICAgICAgICByZXN1bHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVJlc3VsdHM7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEoXG4gICAgc3RhdGU6IFJvdXRlclN0YXRlLFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBtYXRjaGVzVG9Mb2FkOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgZmV0Y2hlcnNUb0xvYWQ6IFJldmFsaWRhdGluZ0ZldGNoZXJbXSxcbiAgICByZXF1ZXN0OiBSZXF1ZXN0XG4gICkge1xuICAgIGxldCBjdXJyZW50TWF0Y2hlcyA9IHN0YXRlLm1hdGNoZXM7XG5cbiAgICAvLyBLaWNrIG9mZiBsb2FkZXJzIGFuZCBmZXRjaGVycyBpbiBwYXJhbGxlbFxuICAgIGxldCBsb2FkZXJSZXN1bHRzUHJvbWlzZSA9IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBcImxvYWRlclwiLFxuICAgICAgc3RhdGUsXG4gICAgICByZXF1ZXN0LFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBudWxsXG4gICAgKTtcblxuICAgIGxldCBmZXRjaGVyUmVzdWx0c1Byb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICAgIGZldGNoZXJzVG9Mb2FkLm1hcChhc3luYyAoZikgPT4ge1xuICAgICAgICBpZiAoZi5tYXRjaGVzICYmIGYubWF0Y2ggJiYgZi5jb250cm9sbGVyKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgICAgICAgXCJsb2FkZXJcIixcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoaW5pdC5oaXN0b3J5LCBmLnBhdGgsIGYuY29udHJvbGxlci5zaWduYWwpLFxuICAgICAgICAgICAgW2YubWF0Y2hdLFxuICAgICAgICAgICAgZi5tYXRjaGVzLFxuICAgICAgICAgICAgZi5rZXlcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCByZXN1bHQgPSByZXN1bHRzW2YubWF0Y2gucm91dGUuaWRdO1xuICAgICAgICAgIC8vIEZldGNoZXIgcmVzdWx0cyBhcmUga2V5ZWQgYnkgZmV0Y2hlciBrZXkgZnJvbSBoZXJlIG9uIG91dCwgbm90IHJvdXRlSWRcbiAgICAgICAgICByZXR1cm4geyBbZi5rZXldOiByZXN1bHQgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIFtmLmtleV06IHtcbiAgICAgICAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgICAgICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7XG4gICAgICAgICAgICAgICAgcGF0aG5hbWU6IGYucGF0aCxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9IGFzIEVycm9yUmVzdWx0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG5cbiAgICBsZXQgbG9hZGVyUmVzdWx0cyA9IGF3YWl0IGxvYWRlclJlc3VsdHNQcm9taXNlO1xuICAgIGxldCBmZXRjaGVyUmVzdWx0cyA9IChhd2FpdCBmZXRjaGVyUmVzdWx0c1Byb21pc2UpLnJlZHVjZShcbiAgICAgIChhY2MsIHIpID0+IE9iamVjdC5hc3NpZ24oYWNjLCByKSxcbiAgICAgIHt9XG4gICAgKTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHJlc29sdmVOYXZpZ2F0aW9uRGVmZXJyZWRSZXN1bHRzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAgY3VycmVudE1hdGNoZXMsXG4gICAgICAgIHN0YXRlLmxvYWRlckRhdGFcbiAgICAgICksXG4gICAgICByZXNvbHZlRmV0Y2hlckRlZmVycmVkUmVzdWx0cyhtYXRjaGVzLCBmZXRjaGVyUmVzdWx0cywgZmV0Y2hlcnNUb0xvYWQpLFxuICAgIF0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICBmZXRjaGVyUmVzdWx0cyxcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaW50ZXJydXB0QWN0aXZlTG9hZHMoKSB7XG4gICAgLy8gRXZlcnkgaW50ZXJydXB0aW9uIHRyaWdnZXJzIGEgcmV2YWxpZGF0aW9uXG4gICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IHRydWU7XG5cbiAgICAvLyBDYW5jZWwgcGVuZGluZyByb3V0ZS1sZXZlbCBkZWZlcnJlZHMgYW5kIG1hcmsgY2FuY2VsbGVkIHJvdXRlcyBmb3JcbiAgICAvLyByZXZhbGlkYXRpb25cbiAgICBjYW5jZWxsZWREZWZlcnJlZFJvdXRlcy5wdXNoKC4uLmNhbmNlbEFjdGl2ZURlZmVycmVkcygpKTtcblxuICAgIC8vIEFib3J0IGluLWZsaWdodCBmZXRjaGVyIGxvYWRzXG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmhhcyhrZXkpKSB7XG4gICAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5hZGQoa2V5KTtcbiAgICAgIH1cbiAgICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRmV0Y2hlclN0YXRlKFxuICAgIGtleTogc3RyaW5nLFxuICAgIGZldGNoZXI6IEZldGNoZXIsXG4gICAgb3B0czogeyBmbHVzaFN5bmM/OiBib29sZWFuIH0gPSB7fVxuICApIHtcbiAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBmZXRjaGVyKTtcbiAgICB1cGRhdGVTdGF0ZShcbiAgICAgIHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0sXG4gICAgICB7IGZsdXNoU3luYzogKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlIH1cbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0RmV0Y2hlckVycm9yKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJvdXRlSWQ6IHN0cmluZyxcbiAgICBlcnJvcjogYW55LFxuICAgIG9wdHM6IHsgZmx1c2hTeW5jPzogYm9vbGVhbiB9ID0ge31cbiAgKSB7XG4gICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KHN0YXRlLm1hdGNoZXMsIHJvdXRlSWQpO1xuICAgIGRlbGV0ZUZldGNoZXIoa2V5KTtcbiAgICB1cGRhdGVTdGF0ZShcbiAgICAgIHtcbiAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiBlcnJvcixcbiAgICAgICAgfSxcbiAgICAgICAgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpLFxuICAgICAgfSxcbiAgICAgIHsgZmx1c2hTeW5jOiAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWUgfVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRGZXRjaGVyPFREYXRhID0gYW55PihrZXk6IHN0cmluZyk6IEZldGNoZXI8VERhdGE+IHtcbiAgICBhY3RpdmVGZXRjaGVycy5zZXQoa2V5LCAoYWN0aXZlRmV0Y2hlcnMuZ2V0KGtleSkgfHwgMCkgKyAxKTtcbiAgICAvLyBJZiB0aGlzIGZldGNoZXIgd2FzIHByZXZpb3VzbHkgbWFya2VkIGZvciBkZWxldGlvbiwgdW5tYXJrIGl0IHNpbmNlIHdlXG4gICAgLy8gaGF2ZSBhIG5ldyBpbnN0YW5jZVxuICAgIGlmIChkZWxldGVkRmV0Y2hlcnMuaGFzKGtleSkpIHtcbiAgICAgIGRlbGV0ZWRGZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLmZldGNoZXJzLmdldChrZXkpIHx8IElETEVfRkVUQ0hFUjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZUZldGNoZXIoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIC8vIERvbid0IGFib3J0IHRoZSBjb250cm9sbGVyIGlmIHRoaXMgaXMgYSBkZWxldGlvbiBvZiBhIGZldGNoZXIuc3VibWl0KClcbiAgICAvLyBpbiBpdCdzIGxvYWRpbmcgcGhhc2Ugc2luY2UgLSB3ZSBkb24ndCB3YW50IHRvIGFib3J0IHRoZSBjb3JyZXNwb25kaW5nXG4gICAgLy8gcmV2YWxpZGF0aW9uIGFuZCB3YW50IHRoZW0gdG8gY29tcGxldGUgYW5kIGxhbmRcbiAgICBpZiAoXG4gICAgICBmZXRjaENvbnRyb2xsZXJzLmhhcyhrZXkpICYmXG4gICAgICAhKGZldGNoZXIgJiYgZmV0Y2hlci5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIgJiYgZmV0Y2hSZWxvYWRJZHMuaGFzKGtleSkpXG4gICAgKSB7XG4gICAgICBhYm9ydEZldGNoZXIoa2V5KTtcbiAgICB9XG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5kZWxldGUoa2V5KTtcbiAgICBmZXRjaFJlbG9hZElkcy5kZWxldGUoa2V5KTtcbiAgICBmZXRjaFJlZGlyZWN0SWRzLmRlbGV0ZShrZXkpO1xuXG4gICAgLy8gSWYgd2Ugb3B0ZWQgaW50byB0aGUgZmxhZyB3ZSBjYW4gY2xlYXIgdGhpcyBub3cgc2luY2Ugd2UncmUgY2FsbGluZ1xuICAgIC8vIGRlbGV0ZUZldGNoZXIoKSBhdCB0aGUgZW5kIG9mIHVwZGF0ZVN0YXRlKCkgYW5kIHdlJ3ZlIGFscmVhZHkgaGFuZGVkIHRoZVxuICAgIC8vIGRlbGV0ZWQgZmV0Y2hlciBrZXlzIG9mZiB0byB0aGUgZGF0YSBsYXllci5cbiAgICAvLyBJZiBub3QsIHdlJ3JlIGVhZ2VybHkgY2FsbGluZyBkZWxldGVGZXRjaGVyKCkgYW5kIHdlIG5lZWQgdG8ga2VlcCB0aGlzXG4gICAgLy8gU2V0IHBvcHVsYXRlZCB1bnRpbCB0aGUgbmV4dCB1cGRhdGVTdGF0ZSBjYWxsLCBhbmQgd2UnbGwgY2xlYXJcbiAgICAvLyBgZGVsZXRlZEZldGNoZXJzYCB0aGVuXG4gICAgaWYgKGZ1dHVyZS52N19mZXRjaGVyUGVyc2lzdCkge1xuICAgICAgZGVsZXRlZEZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5kZWxldGUoa2V5KTtcbiAgICBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZUZldGNoZXJBbmRVcGRhdGVTdGF0ZShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBjb3VudCA9IChhY3RpdmVGZXRjaGVycy5nZXQoa2V5KSB8fCAwKSAtIDE7XG4gICAgaWYgKGNvdW50IDw9IDApIHtcbiAgICAgIGFjdGl2ZUZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICAgICAgZGVsZXRlZEZldGNoZXJzLmFkZChrZXkpO1xuICAgICAgaWYgKCFmdXR1cmUudjdfZmV0Y2hlclBlcnNpc3QpIHtcbiAgICAgICAgZGVsZXRlRmV0Y2hlcihrZXkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVGZXRjaGVycy5zZXQoa2V5LCBjb3VudCk7XG4gICAgfVxuXG4gICAgdXBkYXRlU3RhdGUoeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhYm9ydEZldGNoZXIoa2V5OiBzdHJpbmcpIHtcbiAgICBsZXQgY29udHJvbGxlciA9IGZldGNoQ29udHJvbGxlcnMuZ2V0KGtleSk7XG4gICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFya0ZldGNoZXJzRG9uZShrZXlzOiBzdHJpbmdbXSkge1xuICAgIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgICBsZXQgZmV0Y2hlciA9IGdldEZldGNoZXIoa2V5KTtcbiAgICAgIGxldCBkb25lRmV0Y2hlciA9IGdldERvbmVGZXRjaGVyKGZldGNoZXIuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFya0ZldGNoUmVkaXJlY3RzRG9uZSgpOiBib29sZWFuIHtcbiAgICBsZXQgZG9uZUtleXMgPSBbXTtcbiAgICBsZXQgdXBkYXRlZEZldGNoZXJzID0gZmFsc2U7XG4gICAgZm9yIChsZXQga2V5IG9mIGZldGNoUmVkaXJlY3RJZHMpIHtcbiAgICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgICBpbnZhcmlhbnQoZmV0Y2hlciwgYEV4cGVjdGVkIGZldGNoZXI6ICR7a2V5fWApO1xuICAgICAgaWYgKGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgIGZldGNoUmVkaXJlY3RJZHMuZGVsZXRlKGtleSk7XG4gICAgICAgIGRvbmVLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgdXBkYXRlZEZldGNoZXJzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWFya0ZldGNoZXJzRG9uZShkb25lS2V5cyk7XG4gICAgcmV0dXJuIHVwZGF0ZWRGZXRjaGVycztcbiAgfVxuXG4gIGZ1bmN0aW9uIGFib3J0U3RhbGVGZXRjaExvYWRzKGxhbmRlZElkOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBsZXQgeWVldGVkS2V5cyA9IFtdO1xuICAgIGZvciAobGV0IFtrZXksIGlkXSBvZiBmZXRjaFJlbG9hZElkcykge1xuICAgICAgaWYgKGlkIDwgbGFuZGVkSWQpIHtcbiAgICAgICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICAgICAgaW52YXJpYW50KGZldGNoZXIsIGBFeHBlY3RlZCBmZXRjaGVyOiAke2tleX1gKTtcbiAgICAgICAgaWYgKGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgICAgICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgeWVldGVkS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbWFya0ZldGNoZXJzRG9uZSh5ZWV0ZWRLZXlzKTtcbiAgICByZXR1cm4geWVldGVkS2V5cy5sZW5ndGggPiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmxvY2tlcihrZXk6IHN0cmluZywgZm46IEJsb2NrZXJGdW5jdGlvbikge1xuICAgIGxldCBibG9ja2VyOiBCbG9ja2VyID0gc3RhdGUuYmxvY2tlcnMuZ2V0KGtleSkgfHwgSURMRV9CTE9DS0VSO1xuXG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbnMuZ2V0KGtleSkgIT09IGZuKSB7XG4gICAgICBibG9ja2VyRnVuY3Rpb25zLnNldChrZXksIGZuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmxvY2tlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrZXIoa2V5OiBzdHJpbmcpIHtcbiAgICBzdGF0ZS5ibG9ja2Vycy5kZWxldGUoa2V5KTtcbiAgICBibG9ja2VyRnVuY3Rpb25zLmRlbGV0ZShrZXkpO1xuICB9XG5cbiAgLy8gVXRpbGl0eSBmdW5jdGlvbiB0byB1cGRhdGUgYmxvY2tlcnMsIGVuc3VyaW5nIHZhbGlkIHN0YXRlIHRyYW5zaXRpb25zXG4gIGZ1bmN0aW9uIHVwZGF0ZUJsb2NrZXIoa2V5OiBzdHJpbmcsIG5ld0Jsb2NrZXI6IEJsb2NrZXIpIHtcbiAgICBsZXQgYmxvY2tlciA9IHN0YXRlLmJsb2NrZXJzLmdldChrZXkpIHx8IElETEVfQkxPQ0tFUjtcblxuICAgIC8vIFBvb3IgbWFucyBzdGF0ZSBtYWNoaW5lIDopXG4gICAgLy8gaHR0cHM6Ly9tZXJtYWlkLmxpdmUvZWRpdCNwYWtvOmVOcVZrYzlPd3pBTXhsOGw4bm5qQVlyRXRESU9IRUJJZ3d2S0pUUmVHeTNfbERwSXFPMjdrNmF3TUcwWGNyTGxuejg3bndkb25FU29nS1hYQnVFNzlycTc1WFpPMy15SGRzMFJKVnV2NzBZclBsVXJDRWUySGZyT1JTM3J1YnFaZnVodHBnNUM5d2s1dFo0VktjUlVxODhxOVo4UlMwLTQ4Y0UxaUhKa0wwdWdiSHVGTHVzOUw2c3BaeThuWDlNUDJDTmRvbVZhcG9zcXUzZkdheVQ4VDgtakpRd2hlcG9fVXRwZ0JRYURFVW9tMDRkWmhBTjFhSkJEbFVLSkJ4RTFjZUIyU21qME1sbi1JQlc1QUZVMmR3VWlrdHRfMlFhcTJkQmZhS2RFdXA4NVVWN1lkLWRLamxua2FibDJQdnIwRFRrVHJlTVxuICAgIGludmFyaWFudChcbiAgICAgIChibG9ja2VyLnN0YXRlID09PSBcInVuYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiKSB8fFxuICAgICAgICAoYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIpIHx8XG4gICAgICAgIChibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcInByb2NlZWRpbmdcIikgfHxcbiAgICAgICAgKGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwidW5ibG9ja2VkXCIpIHx8XG4gICAgICAgIChibG9ja2VyLnN0YXRlID09PSBcInByb2NlZWRpbmdcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcInVuYmxvY2tlZFwiKSxcbiAgICAgIGBJbnZhbGlkIGJsb2NrZXIgc3RhdGUgdHJhbnNpdGlvbjogJHtibG9ja2VyLnN0YXRlfSAtPiAke25ld0Jsb2NrZXIuc3RhdGV9YFxuICAgICk7XG5cbiAgICBsZXQgYmxvY2tlcnMgPSBuZXcgTWFwKHN0YXRlLmJsb2NrZXJzKTtcbiAgICBibG9ja2Vycy5zZXQoa2V5LCBuZXdCbG9ja2VyKTtcbiAgICB1cGRhdGVTdGF0ZSh7IGJsb2NrZXJzIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkQmxvY2tOYXZpZ2F0aW9uKHtcbiAgICBjdXJyZW50TG9jYXRpb24sXG4gICAgbmV4dExvY2F0aW9uLFxuICAgIGhpc3RvcnlBY3Rpb24sXG4gIH06IHtcbiAgICBjdXJyZW50TG9jYXRpb246IExvY2F0aW9uO1xuICAgIG5leHRMb2NhdGlvbjogTG9jYXRpb247XG4gICAgaGlzdG9yeUFjdGlvbjogSGlzdG9yeUFjdGlvbjtcbiAgfSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbnMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdlIG9ueSBzdXBwb3J0IGEgc2luZ2xlIGFjdGl2ZSBibG9ja2VyIGF0IHRoZSBtb21lbnQgc2luY2Ugd2UgZG9uJ3QgaGF2ZVxuICAgIC8vIGFueSBjb21wZWxsaW5nIHVzZSBjYXNlcyBmb3IgbXVsdGktYmxvY2tlciB5ZXRcbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9ucy5zaXplID4gMSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgXCJBIHJvdXRlciBvbmx5IHN1cHBvcnRzIG9uZSBibG9ja2VyIGF0IGEgdGltZVwiKTtcbiAgICB9XG5cbiAgICBsZXQgZW50cmllcyA9IEFycmF5LmZyb20oYmxvY2tlckZ1bmN0aW9ucy5lbnRyaWVzKCkpO1xuICAgIGxldCBbYmxvY2tlcktleSwgYmxvY2tlckZ1bmN0aW9uXSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXTtcbiAgICBsZXQgYmxvY2tlciA9IHN0YXRlLmJsb2NrZXJzLmdldChibG9ja2VyS2V5KTtcblxuICAgIGlmIChibG9ja2VyICYmIGJsb2NrZXIuc3RhdGUgPT09IFwicHJvY2VlZGluZ1wiKSB7XG4gICAgICAvLyBJZiB0aGUgYmxvY2tlciBpcyBjdXJyZW50bHkgcHJvY2VlZGluZywgd2UgZG9uJ3QgbmVlZCB0byByZS1jaGVja1xuICAgICAgLy8gaXQgYW5kIGNhbiBsZXQgdGhpcyBuYXZpZ2F0aW9uIGNvbnRpbnVlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQXQgdGhpcyBwb2ludCwgd2Uga25vdyB3ZSdyZSB1bmJsb2NrZWQvYmxvY2tlZCBzbyB3ZSBuZWVkIHRvIGNoZWNrIHRoZVxuICAgIC8vIHVzZXItcHJvdmlkZWQgYmxvY2tlciBmdW5jdGlvblxuICAgIGlmIChibG9ja2VyRnVuY3Rpb24oeyBjdXJyZW50TG9jYXRpb24sIG5leHRMb2NhdGlvbiwgaGlzdG9yeUFjdGlvbiB9KSkge1xuICAgICAgcmV0dXJuIGJsb2NrZXJLZXk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KHBhdGhuYW1lOiBzdHJpbmcpIHtcbiAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZSB9KTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgeyBtYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhyb3V0ZXNUb1VzZSk7XG5cbiAgICAvLyBDYW5jZWwgYWxsIHBlbmRpbmcgZGVmZXJyZWQgb24gNDA0cyBzaW5jZSB3ZSBkb24ndCBrZWVwIGFueSByb3V0ZXNcbiAgICBjYW5jZWxBY3RpdmVEZWZlcnJlZHMoKTtcblxuICAgIHJldHVybiB7IG5vdEZvdW5kTWF0Y2hlczogbWF0Y2hlcywgcm91dGUsIGVycm9yIH07XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWxBY3RpdmVEZWZlcnJlZHMoXG4gICAgcHJlZGljYXRlPzogKHJvdXRlSWQ6IHN0cmluZykgPT4gYm9vbGVhblxuICApOiBzdHJpbmdbXSB7XG4gICAgbGV0IGNhbmNlbGxlZFJvdXRlSWRzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGFjdGl2ZURlZmVycmVkcy5mb3JFYWNoKChkZmQsIHJvdXRlSWQpID0+IHtcbiAgICAgIGlmICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZShyb3V0ZUlkKSkge1xuICAgICAgICAvLyBDYW5jZWwgdGhlIGRlZmVycmVkIC0gYnV0IGRvIG5vdCByZW1vdmUgZnJvbSBhY3RpdmVEZWZlcnJlZHMgaGVyZSAtXG4gICAgICAgIC8vIHdlIHJlbHkgb24gdGhlIHN1YnNjcmliZXJzIHRvIGRvIHRoYXQgc28gb3VyIHRlc3RzIGNhbiBhc3NlcnQgcHJvcGVyXG4gICAgICAgIC8vIGNsZWFudXAgdmlhIF9pbnRlcm5hbEFjdGl2ZURlZmVycmVkc1xuICAgICAgICBkZmQuY2FuY2VsKCk7XG4gICAgICAgIGNhbmNlbGxlZFJvdXRlSWRzLnB1c2gocm91dGVJZCk7XG4gICAgICAgIGFjdGl2ZURlZmVycmVkcy5kZWxldGUocm91dGVJZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNhbmNlbGxlZFJvdXRlSWRzO1xuICB9XG5cbiAgLy8gT3B0IGluIHRvIGNhcHR1cmluZyBhbmQgcmVwb3J0aW5nIHNjcm9sbCBwb3NpdGlvbnMgZHVyaW5nIG5hdmlnYXRpb25zLFxuICAvLyB1c2VkIGJ5IHRoZSA8U2Nyb2xsUmVzdG9yYXRpb24+IGNvbXBvbmVudFxuICBmdW5jdGlvbiBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbihcbiAgICBwb3NpdGlvbnM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4sXG4gICAgZ2V0UG9zaXRpb246IEdldFNjcm9sbFBvc2l0aW9uRnVuY3Rpb24sXG4gICAgZ2V0S2V5PzogR2V0U2Nyb2xsUmVzdG9yYXRpb25LZXlGdW5jdGlvblxuICApIHtcbiAgICBzYXZlZFNjcm9sbFBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgICBnZXRTY3JvbGxQb3NpdGlvbiA9IGdldFBvc2l0aW9uO1xuICAgIGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5ID0gZ2V0S2V5IHx8IG51bGw7XG5cbiAgICAvLyBQZXJmb3JtIGluaXRpYWwgaHlkcmF0aW9uIHNjcm9sbCByZXN0b3JhdGlvbiwgc2luY2Ugd2UgbWlzcyB0aGUgYm9hdCBvblxuICAgIC8vIHRoZSBpbml0aWFsIHVwZGF0ZVN0YXRlKCkgYmVjYXVzZSB3ZSd2ZSBub3QgeWV0IHJlbmRlcmVkIDxTY3JvbGxSZXN0b3JhdGlvbi8+XG4gICAgLy8gYW5kIHRoZXJlZm9yZSBoYXZlIG5vIHNhdmVkU2Nyb2xsUG9zaXRpb25zIGF2YWlsYWJsZVxuICAgIGlmICghaW5pdGlhbFNjcm9sbFJlc3RvcmVkICYmIHN0YXRlLm5hdmlnYXRpb24gPT09IElETEVfTkFWSUdBVElPTikge1xuICAgICAgaW5pdGlhbFNjcm9sbFJlc3RvcmVkID0gdHJ1ZTtcbiAgICAgIGxldCB5ID0gZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihzdGF0ZS5sb2NhdGlvbiwgc3RhdGUubWF0Y2hlcyk7XG4gICAgICBpZiAoeSAhPSBudWxsKSB7XG4gICAgICAgIHVwZGF0ZVN0YXRlKHsgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiB5IH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzYXZlZFNjcm9sbFBvc2l0aW9ucyA9IG51bGw7XG4gICAgICBnZXRTY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gICAgICBnZXRTY3JvbGxSZXN0b3JhdGlvbktleSA9IG51bGw7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNjcm9sbEtleShsb2NhdGlvbjogTG9jYXRpb24sIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSkge1xuICAgIGlmIChnZXRTY3JvbGxSZXN0b3JhdGlvbktleSkge1xuICAgICAgbGV0IGtleSA9IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlcy5tYXAoKG0pID0+IGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoKG0sIHN0YXRlLmxvYWRlckRhdGEpKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBrZXkgfHwgbG9jYXRpb24ua2V5O1xuICAgIH1cbiAgICByZXR1cm4gbG9jYXRpb24ua2V5O1xuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZVNjcm9sbFBvc2l0aW9uKFxuICAgIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW11cbiAgKTogdm9pZCB7XG4gICAgaWYgKHNhdmVkU2Nyb2xsUG9zaXRpb25zICYmIGdldFNjcm9sbFBvc2l0aW9uKSB7XG4gICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsS2V5KGxvY2F0aW9uLCBtYXRjaGVzKTtcbiAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zW2tleV0gPSBnZXRTY3JvbGxQb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oXG4gICAgbG9jYXRpb246IExvY2F0aW9uLFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXVxuICApOiBudW1iZXIgfCBudWxsIHtcbiAgICBpZiAoc2F2ZWRTY3JvbGxQb3NpdGlvbnMpIHtcbiAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxLZXkobG9jYXRpb24sIG1hdGNoZXMpO1xuICAgICAgbGV0IHkgPSBzYXZlZFNjcm9sbFBvc2l0aW9uc1trZXldO1xuICAgICAgaWYgKHR5cGVvZiB5ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB5O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrRm9nT2ZXYXIoXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdIHwgbnVsbCxcbiAgICByb3V0ZXNUb1VzZTogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXSxcbiAgICBwYXRobmFtZTogc3RyaW5nXG4gICk6IHsgYWN0aXZlOiBib29sZWFuOyBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10gfCBudWxsIH0ge1xuICAgIGlmIChwYXRjaFJvdXRlc09uTmF2aWdhdGlvbkltcGwpIHtcbiAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICBsZXQgZm9nTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbDxBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdD4oXG4gICAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB7IGFjdGl2ZTogdHJ1ZSwgbWF0Y2hlczogZm9nTWF0Y2hlcyB8fCBbXSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1hdGNoZXNbMF0ucGFyYW1zKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gSWYgd2UgbWF0Y2hlZCBhIGR5bmFtaWMgcGFyYW0gb3IgYSBzcGxhdCwgaXQgbWlnaHQgb25seSBiZSBiZWNhdXNlXG4gICAgICAgICAgLy8gd2UgaGF2ZW4ndCB5ZXQgZGlzY292ZXJlZCBvdGhlciByb3V0ZXMgdGhhdCB3b3VsZCBtYXRjaCB3aXRoIGFcbiAgICAgICAgICAvLyBoaWdoZXIgc2NvcmUuICBDYWxsIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uIGp1c3QgdG8gYmUgc3VyZVxuICAgICAgICAgIGxldCBwYXJ0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbDxBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdD4oXG4gICAgICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgICAgIHBhdGhuYW1lLFxuICAgICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4geyBhY3RpdmU6IHRydWUsIG1hdGNoZXM6IHBhcnRpYWxNYXRjaGVzIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBhY3RpdmU6IGZhbHNlLCBtYXRjaGVzOiBudWxsIH07XG4gIH1cblxuICB0eXBlIERpc2NvdmVyUm91dGVzU3VjY2Vzc1Jlc3VsdCA9IHtcbiAgICB0eXBlOiBcInN1Y2Nlc3NcIjtcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10gfCBudWxsO1xuICB9O1xuICB0eXBlIERpc2NvdmVyUm91dGVzRXJyb3JSZXN1bHQgPSB7XG4gICAgdHlwZTogXCJlcnJvclwiO1xuICAgIGVycm9yOiBhbnk7XG4gICAgcGFydGlhbE1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXTtcbiAgfTtcbiAgdHlwZSBEaXNjb3ZlclJvdXRlc0Fib3J0ZWRSZXN1bHQgPSB7IHR5cGU6IFwiYWJvcnRlZFwiIH07XG4gIHR5cGUgRGlzY292ZXJSb3V0ZXNSZXN1bHQgPVxuICAgIHwgRGlzY292ZXJSb3V0ZXNTdWNjZXNzUmVzdWx0XG4gICAgfCBEaXNjb3ZlclJvdXRlc0Vycm9yUmVzdWx0XG4gICAgfCBEaXNjb3ZlclJvdXRlc0Fib3J0ZWRSZXN1bHQ7XG5cbiAgYXN5bmMgZnVuY3Rpb24gZGlzY292ZXJSb3V0ZXMoXG4gICAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICAgIHBhdGhuYW1lOiBzdHJpbmcsXG4gICAgc2lnbmFsOiBBYm9ydFNpZ25hbCxcbiAgICBmZXRjaGVyS2V5Pzogc3RyaW5nXG4gICk6IFByb21pc2U8RGlzY292ZXJSb3V0ZXNSZXN1bHQ+IHtcbiAgICBpZiAoIXBhdGNoUm91dGVzT25OYXZpZ2F0aW9uSW1wbCkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXMgfTtcbiAgICB9XG5cbiAgICBsZXQgcGFydGlhbE1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSB8IG51bGwgPSBtYXRjaGVzO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgaXNOb25ITVIgPSBpbkZsaWdodERhdGFSb3V0ZXMgPT0gbnVsbDtcbiAgICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgICAgbGV0IGxvY2FsTWFuaWZlc3QgPSBtYW5pZmVzdDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uSW1wbCh7XG4gICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgIHBhdGg6IHBhdGhuYW1lLFxuICAgICAgICAgIG1hdGNoZXM6IHBhcnRpYWxNYXRjaGVzLFxuICAgICAgICAgIGZldGNoZXJLZXksXG4gICAgICAgICAgcGF0Y2g6IChyb3V0ZUlkLCBjaGlsZHJlbikgPT4ge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSByZXR1cm47XG4gICAgICAgICAgICBwYXRjaFJvdXRlc0ltcGwoXG4gICAgICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgICAgICAgbG9jYWxNYW5pZmVzdCxcbiAgICAgICAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIGVycm9yOiBlLCBwYXJ0aWFsTWF0Y2hlcyB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCBpbiB0aGUgbWlkZGxlIG9mIGFuIEhNUiByZXZhbGlkYXRpb24gYW5kIHdlIGNoYW5nZWQgdGhlXG4gICAgICAgIC8vIHJvdXRlcywgcHJvdmlkZSBhIG5ldyBpZGVudGl0eSBzbyB3aGVuIHdlIGB1cGRhdGVTdGF0ZWAgYXQgdGhlIGVuZCBvZlxuICAgICAgICAvLyB0aGlzIG5hdmlnYXRpb24vZmV0Y2ggYHJvdXRlci5yb3V0ZXNgIHdpbGwgYmUgYSBuZXcgaWRlbnRpdHkgYW5kXG4gICAgICAgIC8vIHRyaWdnZXIgYSByZS1ydW4gb2YgbWVtb2l6ZWQgYHJvdXRlci5yb3V0ZXNgIGRlcGVuZGVuY2llcy5cbiAgICAgICAgLy8gSE1SIHdpbGwgYWxyZWFkeSB1cGRhdGUgdGhlIGlkZW50aXR5IGFuZCByZWZsb3cgd2hlbiBpdCBsYW5kc1xuICAgICAgICAvLyBgaW5GbGlnaHREYXRhUm91dGVzYCBpbiBgY29tcGxldGVOYXZpZ2F0aW9uYFxuICAgICAgICBpZiAoaXNOb25ITVIgJiYgIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgZGF0YVJvdXRlcyA9IFsuLi5kYXRhUm91dGVzXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJhYm9ydGVkXCIgfTtcbiAgICAgIH1cblxuICAgICAgbGV0IG5ld01hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgcGF0aG5hbWUsIGJhc2VuYW1lKTtcbiAgICAgIGlmIChuZXdNYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwic3VjY2Vzc1wiLCBtYXRjaGVzOiBuZXdNYXRjaGVzIH07XG4gICAgICB9XG5cbiAgICAgIGxldCBuZXdQYXJ0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbDxBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdD4oXG4gICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG5cbiAgICAgIC8vIEF2b2lkIGxvb3BzIGlmIHRoZSBzZWNvbmQgcGFzcyByZXN1bHRzIGluIHRoZSBzYW1lIHBhcnRpYWwgbWF0Y2hlc1xuICAgICAgaWYgKFxuICAgICAgICAhbmV3UGFydGlhbE1hdGNoZXMgfHxcbiAgICAgICAgKHBhcnRpYWxNYXRjaGVzLmxlbmd0aCA9PT0gbmV3UGFydGlhbE1hdGNoZXMubGVuZ3RoICYmXG4gICAgICAgICAgcGFydGlhbE1hdGNoZXMuZXZlcnkoXG4gICAgICAgICAgICAobSwgaSkgPT4gbS5yb3V0ZS5pZCA9PT0gbmV3UGFydGlhbE1hdGNoZXMhW2ldLnJvdXRlLmlkXG4gICAgICAgICAgKSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWF0Y2hlczogbnVsbCB9O1xuICAgICAgfVxuXG4gICAgICBwYXJ0aWFsTWF0Y2hlcyA9IG5ld1BhcnRpYWxNYXRjaGVzO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9pbnRlcm5hbFNldFJvdXRlcyhuZXdSb3V0ZXM6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W10pIHtcbiAgICBtYW5pZmVzdCA9IHt9O1xuICAgIGluRmxpZ2h0RGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgICBuZXdSb3V0ZXMsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBtYW5pZmVzdFxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXRjaFJvdXRlcyhcbiAgICByb3V0ZUlkOiBzdHJpbmcgfCBudWxsLFxuICAgIGNoaWxkcmVuOiBBZ25vc3RpY1JvdXRlT2JqZWN0W11cbiAgKTogdm9pZCB7XG4gICAgbGV0IGlzTm9uSE1SID0gaW5GbGlnaHREYXRhUm91dGVzID09IG51bGw7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgcGF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgcm91dGVJZCxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllc1xuICAgICk7XG5cbiAgICAvLyBJZiB3ZSBhcmUgbm90IGluIHRoZSBtaWRkbGUgb2YgYW4gSE1SIHJldmFsaWRhdGlvbiBhbmQgd2UgY2hhbmdlZCB0aGVcbiAgICAvLyByb3V0ZXMsIHByb3ZpZGUgYSBuZXcgaWRlbnRpdHkgYW5kIHRyaWdnZXIgYSByZWZsb3cgdmlhIGB1cGRhdGVTdGF0ZWBcbiAgICAvLyB0byByZS1ydW4gbWVtb2l6ZWQgYHJvdXRlci5yb3V0ZXNgIGRlcGVuZGVuY2llcy5cbiAgICAvLyBITVIgd2lsbCBhbHJlYWR5IHVwZGF0ZSB0aGUgaWRlbnRpdHkgYW5kIHJlZmxvdyB3aGVuIGl0IGxhbmRzXG4gICAgLy8gYGluRmxpZ2h0RGF0YVJvdXRlc2AgaW4gYGNvbXBsZXRlTmF2aWdhdGlvbmBcbiAgICBpZiAoaXNOb25ITVIpIHtcbiAgICAgIGRhdGFSb3V0ZXMgPSBbLi4uZGF0YVJvdXRlc107XG4gICAgICB1cGRhdGVTdGF0ZSh7fSk7XG4gICAgfVxuICB9XG5cbiAgcm91dGVyID0ge1xuICAgIGdldCBiYXNlbmFtZSgpIHtcbiAgICAgIHJldHVybiBiYXNlbmFtZTtcbiAgICB9LFxuICAgIGdldCBmdXR1cmUoKSB7XG4gICAgICByZXR1cm4gZnV0dXJlO1xuICAgIH0sXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sXG4gICAgZ2V0IHJvdXRlcygpIHtcbiAgICAgIHJldHVybiBkYXRhUm91dGVzO1xuICAgIH0sXG4gICAgZ2V0IHdpbmRvdygpIHtcbiAgICAgIHJldHVybiByb3V0ZXJXaW5kb3c7XG4gICAgfSxcbiAgICBpbml0aWFsaXplLFxuICAgIHN1YnNjcmliZSxcbiAgICBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbixcbiAgICBuYXZpZ2F0ZSxcbiAgICBmZXRjaCxcbiAgICByZXZhbGlkYXRlLFxuICAgIC8vIFBhc3N0aHJvdWdoIHRvIGhpc3RvcnktYXdhcmUgY3JlYXRlSHJlZiB1c2VkIGJ5IHVzZUhyZWYgc28gd2UgZ2V0IHByb3BlclxuICAgIC8vIGhhc2gtYXdhcmUgVVJMcyBpbiBET00gcGF0aHNcbiAgICBjcmVhdGVIcmVmOiAodG86IFRvKSA9PiBpbml0Lmhpc3RvcnkuY3JlYXRlSHJlZih0byksXG4gICAgZW5jb2RlTG9jYXRpb246ICh0bzogVG8pID0+IGluaXQuaGlzdG9yeS5lbmNvZGVMb2NhdGlvbih0byksXG4gICAgZ2V0RmV0Y2hlcixcbiAgICBkZWxldGVGZXRjaGVyOiBkZWxldGVGZXRjaGVyQW5kVXBkYXRlU3RhdGUsXG4gICAgZGlzcG9zZSxcbiAgICBnZXRCbG9ja2VyLFxuICAgIGRlbGV0ZUJsb2NrZXIsXG4gICAgcGF0Y2hSb3V0ZXMsXG4gICAgX2ludGVybmFsRmV0Y2hDb250cm9sbGVyczogZmV0Y2hDb250cm9sbGVycyxcbiAgICBfaW50ZXJuYWxBY3RpdmVEZWZlcnJlZHM6IGFjdGl2ZURlZmVycmVkcyxcbiAgICAvLyBUT0RPOiBSZW1vdmUgc2V0Um91dGVzLCBpdCdzIHRlbXBvcmFyeSB0byBhdm9pZCBkZWFsaW5nIHdpdGhcbiAgICAvLyB1cGRhdGluZyB0aGUgdHJlZSB3aGlsZSB2YWxpZGF0aW5nIHRoZSB1cGRhdGUgYWxnb3JpdGhtLlxuICAgIF9pbnRlcm5hbFNldFJvdXRlcyxcbiAgfTtcblxuICByZXR1cm4gcm91dGVyO1xufVxuLy8jZW5kcmVnaW9uXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyNyZWdpb24gY3JlYXRlU3RhdGljSGFuZGxlclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGNvbnN0IFVOU0FGRV9ERUZFUlJFRF9TWU1CT0wgPSBTeW1ib2woXCJkZWZlcnJlZFwiKTtcblxuLyoqXG4gKiBGdXR1cmUgZmxhZ3MgdG8gdG9nZ2xlIG5ldyBmZWF0dXJlIGJlaGF2aW9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGljSGFuZGxlckZ1dHVyZUNvbmZpZyB7XG4gIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiBib29sZWFuO1xuICB2N190aHJvd0Fib3J0UmVhc29uOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVN0YXRpY0hhbmRsZXJPcHRpb25zIHtcbiAgYmFzZW5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgYG1hcFJvdXRlUHJvcGVydGllc2AgaW5zdGVhZFxuICAgKi9cbiAgZGV0ZWN0RXJyb3JCb3VuZGFyeT86IERldGVjdEVycm9yQm91bmRhcnlGdW5jdGlvbjtcbiAgbWFwUm91dGVQcm9wZXJ0aWVzPzogTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb247XG4gIGZ1dHVyZT86IFBhcnRpYWw8U3RhdGljSGFuZGxlckZ1dHVyZUNvbmZpZz47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdGF0aWNIYW5kbGVyKFxuICByb3V0ZXM6IEFnbm9zdGljUm91dGVPYmplY3RbXSxcbiAgb3B0cz86IENyZWF0ZVN0YXRpY0hhbmRsZXJPcHRpb25zXG4pOiBTdGF0aWNIYW5kbGVyIHtcbiAgaW52YXJpYW50KFxuICAgIHJvdXRlcy5sZW5ndGggPiAwLFxuICAgIFwiWW91IG11c3QgcHJvdmlkZSBhIG5vbi1lbXB0eSByb3V0ZXMgYXJyYXkgdG8gY3JlYXRlU3RhdGljSGFuZGxlclwiXG4gICk7XG5cbiAgbGV0IG1hbmlmZXN0OiBSb3V0ZU1hbmlmZXN0ID0ge307XG4gIGxldCBiYXNlbmFtZSA9IChvcHRzID8gb3B0cy5iYXNlbmFtZSA6IG51bGwpIHx8IFwiL1wiO1xuICBsZXQgbWFwUm91dGVQcm9wZXJ0aWVzOiBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbjtcbiAgaWYgKG9wdHM/Lm1hcFJvdXRlUHJvcGVydGllcykge1xuICAgIG1hcFJvdXRlUHJvcGVydGllcyA9IG9wdHMubWFwUm91dGVQcm9wZXJ0aWVzO1xuICB9IGVsc2UgaWYgKG9wdHM/LmRldGVjdEVycm9yQm91bmRhcnkpIHtcbiAgICAvLyBJZiB0aGV5IGFyZSBzdGlsbCB1c2luZyB0aGUgZGVwcmVjYXRlZCB2ZXJzaW9uLCB3cmFwIGl0IHdpdGggdGhlIG5ldyBBUElcbiAgICBsZXQgZGV0ZWN0RXJyb3JCb3VuZGFyeSA9IG9wdHMuZGV0ZWN0RXJyb3JCb3VuZGFyeTtcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMgPSAocm91dGUpID0+ICh7XG4gICAgICBoYXNFcnJvckJvdW5kYXJ5OiBkZXRlY3RFcnJvckJvdW5kYXJ5KHJvdXRlKSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMgPSBkZWZhdWx0TWFwUm91dGVQcm9wZXJ0aWVzO1xuICB9XG4gIC8vIENvbmZpZyBkcml2ZW4gYmVoYXZpb3IgZmxhZ3NcbiAgbGV0IGZ1dHVyZTogU3RhdGljSGFuZGxlckZ1dHVyZUNvbmZpZyA9IHtcbiAgICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogZmFsc2UsXG4gICAgdjdfdGhyb3dBYm9ydFJlYXNvbjogZmFsc2UsXG4gICAgLi4uKG9wdHMgPyBvcHRzLmZ1dHVyZSA6IG51bGwpLFxuICB9O1xuXG4gIGxldCBkYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIHVuZGVmaW5lZCxcbiAgICBtYW5pZmVzdFxuICApO1xuXG4gIC8qKlxuICAgKiBUaGUgcXVlcnkoKSBtZXRob2QgaXMgaW50ZW5kZWQgZm9yIGRvY3VtZW50IHJlcXVlc3RzLCBpbiB3aGljaCB3ZSB3YW50IHRvXG4gICAqIGNhbGwgYW4gb3B0aW9uYWwgYWN0aW9uIGFuZCBwb3RlbnRpYWxseSBtdWx0aXBsZSBsb2FkZXJzIGZvciBhbGwgbmVzdGVkXG4gICAqIHJvdXRlcy4gIEl0IHJldHVybnMgYSBTdGF0aWNIYW5kbGVyQ29udGV4dCBvYmplY3QsIHdoaWNoIGlzIHZlcnkgc2ltaWxhclxuICAgKiB0byB0aGUgcm91dGVyIHN0YXRlIChsb2NhdGlvbiwgbG9hZGVyRGF0YSwgYWN0aW9uRGF0YSwgZXJyb3JzLCBldGMuKSBhbmRcbiAgICogYWxzbyBhZGRzIFNTUi1zcGVjaWZpYyBpbmZvcm1hdGlvbiBzdWNoIGFzIHRoZSBzdGF0dXNDb2RlIGFuZCBoZWFkZXJzXG4gICAqIGZyb20gYWN0aW9uL2xvYWRlcnMgUmVzcG9uc2VzLlxuICAgKlxuICAgKiBJdCBfc2hvdWxkXyBuZXZlciB0aHJvdyBhbmQgc2hvdWxkIHJlcG9ydCBhbGwgZXJyb3JzIHRocm91Z2ggdGhlXG4gICAqIHJldHVybmVkIGNvbnRleHQuZXJyb3JzIG9iamVjdCwgcHJvcGVybHkgYXNzb2NpYXRpbmcgZXJyb3JzIHRvIHRoZWlyIGVycm9yXG4gICAqIGJvdW5kYXJ5LiAgQWRkaXRpb25hbGx5LCBpdCB0cmFja3MgX2RlZXBlc3RSZW5kZXJlZEJvdW5kYXJ5SWQgd2hpY2ggY2FuIGJlXG4gICAqIHVzZWQgdG8gZW11bGF0ZSBSZWFjdCBlcnJvciBib3VuZGFyaWVzIGR1cmluZyBTU3IgYnkgcGVyZm9ybWluZyBhIHNlY29uZFxuICAgKiBwYXNzIG9ubHkgZG93biB0byB0aGUgYm91bmRhcnlJZC5cbiAgICpcbiAgICogVGhlIG9uZSBleGNlcHRpb24gd2hlcmUgd2UgZG8gbm90IHJldHVybiBhIFN0YXRpY0hhbmRsZXJDb250ZXh0IGlzIHdoZW4gYVxuICAgKiByZWRpcmVjdCByZXNwb25zZSBpcyByZXR1cm5lZCBvciB0aHJvd24gZnJvbSBhbnkgYWN0aW9uL2xvYWRlci4gIFdlXG4gICAqIHByb3BhZ2F0ZSB0aGF0IG91dCBhbmQgcmV0dXJuIHRoZSByYXcgUmVzcG9uc2Ugc28gdGhlIEhUVFAgc2VydmVyIGNhblxuICAgKiByZXR1cm4gaXQgZGlyZWN0bHkuXG4gICAqXG4gICAqIC0gYG9wdHMucmVxdWVzdENvbnRleHRgIGlzIGFuIG9wdGlvbmFsIHNlcnZlciBjb250ZXh0IHRoYXQgd2lsbCBiZSBwYXNzZWRcbiAgICogICB0byBhY3Rpb25zL2xvYWRlcnMgaW4gdGhlIGBjb250ZXh0YCBwYXJhbWV0ZXJcbiAgICogLSBgb3B0cy5za2lwTG9hZGVyRXJyb3JCdWJibGluZ2AgaXMgYW4gb3B0aW9uYWwgcGFyYW1ldGVyIHRoYXQgd2lsbCBwcmV2ZW50XG4gICAqICAgdGhlIGJ1YmJsaW5nIG9mIGVycm9ycyB3aGljaCBhbGxvd3Mgc2luZ2xlLWZldGNoLXR5cGUgaW1wbGVtZW50YXRpb25zXG4gICAqICAgd2hlcmUgdGhlIGNsaWVudCB3aWxsIGhhbmRsZSB0aGUgYnViYmxpbmcgYW5kIHdlIG1heSBuZWVkIHRvIHJldHVybiBkYXRhXG4gICAqICAgZm9yIHRoZSBoYW5kbGluZyByb3V0ZVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnkoXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICB7XG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgIH06IHtcbiAgICAgIHJlcXVlc3RDb250ZXh0PzogdW5rbm93bjtcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nPzogYm9vbGVhbjtcbiAgICAgIGRhdGFTdHJhdGVneT86IERhdGFTdHJhdGVneUZ1bmN0aW9uO1xuICAgIH0gPSB7fVxuICApOiBQcm9taXNlPFN0YXRpY0hhbmRsZXJDb250ZXh0IHwgUmVzcG9uc2U+IHtcbiAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgbGV0IG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFwiXCIsIGNyZWF0ZVBhdGgodXJsKSwgbnVsbCwgXCJkZWZhdWx0XCIpO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgbG9jYXRpb24sIGJhc2VuYW1lKTtcblxuICAgIC8vIFNTUiBzdXBwb3J0cyBIRUFEIHJlcXVlc3RzIHdoaWxlIFNQQSBkb2Vzbid0XG4gICAgaWYgKCFpc1ZhbGlkTWV0aG9kKG1ldGhvZCkgJiYgbWV0aG9kICE9PSBcIkhFQURcIikge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHsgbWV0aG9kIH0pO1xuICAgICAgbGV0IHsgbWF0Y2hlczogbWV0aG9kTm90QWxsb3dlZE1hdGNoZXMsIHJvdXRlIH0gPVxuICAgICAgICBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzOiBtZXRob2ROb3RBbGxvd2VkTWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yLFxuICAgICAgICB9LFxuICAgICAgICBzdGF0dXNDb2RlOiBlcnJvci5zdGF0dXMsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aXZlRGVmZXJyZWRzOiBudWxsLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaGVzKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gICAgICBsZXQgeyBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsIHJvdXRlIH0gPVxuICAgICAgICBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvcixcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzQ29kZTogZXJyb3Iuc3RhdHVzLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge30sXG4gICAgICAgIGFjdGl2ZURlZmVycmVkczogbnVsbCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5SW1wbChcbiAgICAgIHJlcXVlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSB8fCBudWxsLFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcgPT09IHRydWUsXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIFdoZW4gcmV0dXJuaW5nIFN0YXRpY0hhbmRsZXJDb250ZXh0LCB3ZSBwYXRjaCBiYWNrIGluIHRoZSBsb2NhdGlvbiBoZXJlXG4gICAgLy8gc2luY2Ugd2UgbmVlZCBpdCBmb3IgUmVhY3QgQ29udGV4dC4gIEJ1dCB0aGlzIGhlbHBzIGtlZXAgb3VyIHN1Ym1pdCBhbmRcbiAgICAvLyBsb2FkUm91dGVEYXRhIG9wZXJhdGluZyBvbiBhIFJlcXVlc3QgaW5zdGVhZCBvZiBhIExvY2F0aW9uXG4gICAgcmV0dXJuIHsgbG9jYXRpb24sIGJhc2VuYW1lLCAuLi5yZXN1bHQgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcXVlcnlSb3V0ZSgpIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgdGFyZ2V0ZWQgcm91dGUgcmVxdWVzdHMsIGVpdGhlclxuICAgKiBmb3IgZmV0Y2ggP19kYXRhIHJlcXVlc3RzIG9yIHJlc291cmNlIHJvdXRlIHJlcXVlc3RzLiAgSW4gdGhpcyBjYXNlLCB3ZVxuICAgKiBhcmUgb25seSBldmVyIGNhbGxpbmcgYSBzaW5nbGUgYWN0aW9uIG9yIGxvYWRlciwgYW5kIHdlIGFyZSByZXR1cm5pbmcgdGhlXG4gICAqIHJldHVybmVkIHZhbHVlIGRpcmVjdGx5LiAgSW4gbW9zdCBjYXNlcywgdGhpcyB3aWxsIGJlIGEgUmVzcG9uc2UgcmV0dXJuZWRcbiAgICogZnJvbSB0aGUgYWN0aW9uL2xvYWRlciwgYnV0IGl0IG1heSBiZSBhIHByaW1pdGl2ZSBvciBvdGhlciB2YWx1ZSBhcyB3ZWxsIC1cbiAgICogYW5kIGluIHN1Y2ggY2FzZXMgdGhlIGNhbGxpbmcgY29udGV4dCBzaG91bGQgaGFuZGxlIHRoYXQgYWNjb3JkaW5nbHkuXG4gICAqXG4gICAqIFdlIGRvIHJlc3BlY3QgdGhlIHRocm93L3JldHVybiBkaWZmZXJlbnRpYXRpb24sIHNvIGlmIGFuIGFjdGlvbi9sb2FkZXJcbiAgICogdGhyb3dzLCB0aGVuIHRoaXMgbWV0aG9kIHdpbGwgdGhyb3cgdGhlIHZhbHVlLiAgVGhpcyBpcyBpbXBvcnRhbnQgc28gd2VcbiAgICogY2FuIGRvIHByb3BlciBib3VuZGFyeSBpZGVudGlmaWNhdGlvbiBpbiBSZW1peCB3aGVyZSBhIHRocm93biBSZXNwb25zZVxuICAgKiBtdXN0IGdvIHRvIHRoZSBDYXRjaCBCb3VuZGFyeSBidXQgYSByZXR1cm5lZCBSZXNwb25zZSBpcyBoYXBweS1wYXRoLlxuICAgKlxuICAgKiBPbmUgdGhpbmcgdG8gbm90ZSBpcyB0aGF0IGFueSBSb3V0ZXItaW5pdGlhdGVkIEVycm9ycyB0aGF0IG1ha2Ugc2Vuc2VcbiAgICogdG8gYXNzb2NpYXRlIHdpdGggYSBzdGF0dXMgY29kZSB3aWxsIGJlIHRocm93biBhcyBhbiBFcnJvclJlc3BvbnNlXG4gICAqIGluc3RhbmNlIHdoaWNoIGluY2x1ZGUgdGhlIHJhdyBFcnJvciwgc3VjaCB0aGF0IHRoZSBjYWxsaW5nIGNvbnRleHQgY2FuXG4gICAqIHNlcmlhbGl6ZSB0aGUgZXJyb3IgYXMgdGhleSBzZWUgZml0IHdoaWxlIGluY2x1ZGluZyB0aGUgcHJvcGVyIHJlc3BvbnNlXG4gICAqIGNvZGUuICBFeGFtcGxlcyBoZXJlIGFyZSA0MDQgYW5kIDQwNSBlcnJvcnMgdGhhdCBvY2N1ciBwcmlvciB0byByZWFjaGluZ1xuICAgKiBhbnkgdXNlci1kZWZpbmVkIGxvYWRlcnMuXG4gICAqXG4gICAqIC0gYG9wdHMucm91dGVJZGAgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRoZSBzcGVjaWZpYyByb3V0ZSBoYW5kbGVyIHRvIGNhbGwuXG4gICAqICAgSWYgbm90IHByb3ZpZGVkIHRoZSBoYW5kbGVyIHdpbGwgZGV0ZXJtaW5lIHRoZSBwcm9wZXIgcm91dGUgYnkgbWF0Y2hpbmdcbiAgICogICBhZ2FpbnN0IGByZXF1ZXN0LnVybGBcbiAgICogLSBgb3B0cy5yZXF1ZXN0Q29udGV4dGAgaXMgYW4gb3B0aW9uYWwgc2VydmVyIGNvbnRleHQgdGhhdCB3aWxsIGJlIHBhc3NlZFxuICAgKiAgICB0byBhY3Rpb25zL2xvYWRlcnMgaW4gdGhlIGBjb250ZXh0YCBwYXJhbWV0ZXJcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5Um91dGUoXG4gICAgcmVxdWVzdDogUmVxdWVzdCxcbiAgICB7XG4gICAgICByb3V0ZUlkLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgfToge1xuICAgICAgcmVxdWVzdENvbnRleHQ/OiB1bmtub3duO1xuICAgICAgcm91dGVJZD86IHN0cmluZztcbiAgICAgIGRhdGFTdHJhdGVneT86IERhdGFTdHJhdGVneUZ1bmN0aW9uO1xuICAgIH0gPSB7fVxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBsZXQgbWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oXCJcIiwgY3JlYXRlUGF0aCh1cmwpLCBudWxsLCBcImRlZmF1bHRcIik7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhkYXRhUm91dGVzLCBsb2NhdGlvbiwgYmFzZW5hbWUpO1xuXG4gICAgLy8gU1NSIHN1cHBvcnRzIEhFQUQgcmVxdWVzdHMgd2hpbGUgU1BBIGRvZXNuJ3RcbiAgICBpZiAoIWlzVmFsaWRNZXRob2QobWV0aG9kKSAmJiBtZXRob2QgIT09IFwiSEVBRFwiICYmIG1ldGhvZCAhPT0gXCJPUFRJT05TXCIpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7IG1ldGhvZCB9KTtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaGVzKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gICAgfVxuXG4gICAgbGV0IG1hdGNoID0gcm91dGVJZFxuICAgICAgPyBtYXRjaGVzLmZpbmQoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpXG4gICAgICA6IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKTtcblxuICAgIGlmIChyb3V0ZUlkICYmICFtYXRjaCkge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDMsIHtcbiAgICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByb3V0ZUlkLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghbWF0Y2gpIHtcbiAgICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGhpdCBJIGRvbid0IHRoaW5rP1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgIH1cblxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgIGZhbHNlLFxuICAgICAgbWF0Y2hcbiAgICApO1xuXG4gICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBsZXQgZXJyb3IgPSByZXN1bHQuZXJyb3JzID8gT2JqZWN0LnZhbHVlcyhyZXN1bHQuZXJyb3JzKVswXSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoZXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gSWYgd2UgZ290IGJhY2sgcmVzdWx0LmVycm9ycywgdGhhdCBtZWFucyB0aGUgbG9hZGVyL2FjdGlvbiB0aHJld1xuICAgICAgLy8gX3NvbWV0aGluZ18gdGhhdCB3YXNuJ3QgYSBSZXNwb25zZSwgYnV0IGl0J3Mgbm90IGd1YXJhbnRlZWQvcmVxdWlyZWRcbiAgICAgIC8vIHRvIGJlIGFuIGBpbnN0YW5jZW9mIEVycm9yYCBlaXRoZXIsIHNvIHdlIGhhdmUgdG8gdXNlIHRocm93IGhlcmUgdG9cbiAgICAgIC8vIHByZXNlcnZlIHRoZSBcImVycm9yXCIgc3RhdGUgb3V0c2lkZSBvZiBxdWVyeUltcGwuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICAvLyBQaWNrIG9mZiB0aGUgcmlnaHQgc3RhdGUgdmFsdWUgdG8gcmV0dXJuXG4gICAgaWYgKHJlc3VsdC5hY3Rpb25EYXRhKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXN1bHQuYWN0aW9uRGF0YSlbMF07XG4gICAgfVxuXG4gICAgaWYgKHJlc3VsdC5sb2FkZXJEYXRhKSB7XG4gICAgICBsZXQgZGF0YSA9IE9iamVjdC52YWx1ZXMocmVzdWx0LmxvYWRlckRhdGEpWzBdO1xuICAgICAgaWYgKHJlc3VsdC5hY3RpdmVEZWZlcnJlZHM/LlttYXRjaC5yb3V0ZS5pZF0pIHtcbiAgICAgICAgZGF0YVtVTlNBRkVfREVGRVJSRURfU1lNQk9MXSA9IHJlc3VsdC5hY3RpdmVEZWZlcnJlZHNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5SW1wbChcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgcmVxdWVzdENvbnRleHQ6IHVua25vd24sXG4gICAgZGF0YVN0cmF0ZWd5OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbiB8IG51bGwsXG4gICAgc2tpcExvYWRlckVycm9yQnViYmxpbmc6IGJvb2xlYW4sXG4gICAgcm91dGVNYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCB8IG51bGxcbiAgKTogUHJvbWlzZTxPbWl0PFN0YXRpY0hhbmRsZXJDb250ZXh0LCBcImxvY2F0aW9uXCIgfCBcImJhc2VuYW1lXCI+IHwgUmVzcG9uc2U+IHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgIFwicXVlcnkoKS9xdWVyeVJvdXRlKCkgcmVxdWVzdHMgbXVzdCBjb250YWluIGFuIEFib3J0Q29udHJvbGxlciBzaWduYWxcIlxuICAgICk7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKGlzTXV0YXRpb25NZXRob2QocmVxdWVzdC5tZXRob2QudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHN1Ym1pdChcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgcm91dGVNYXRjaCB8fCBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbiksXG4gICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICAgIHJvdXRlTWF0Y2ggIT0gbnVsbFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbG9hZFJvdXRlRGF0YShcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICAgIHJvdXRlTWF0Y2hcbiAgICAgICk7XG4gICAgICByZXR1cm4gaXNSZXNwb25zZShyZXN1bHQpXG4gICAgICAgID8gcmVzdWx0XG4gICAgICAgIDoge1xuICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9LFxuICAgICAgICAgIH07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWYgdGhlIHVzZXIgdGhyZXcvcmV0dXJuZWQgYSBSZXNwb25zZSBpbiBjYWxsTG9hZGVyT3JBY3Rpb24gZm9yIGFcbiAgICAgIC8vIGBxdWVyeVJvdXRlYCBjYWxsLCB3ZSB0aHJvdyB0aGUgYERhdGFTdHJhdGVneVJlc3VsdGAgdG8gYmFpbCBvdXQgZWFybHlcbiAgICAgIC8vIGFuZCB0aGVuIHJldHVybiBvciB0aHJvdyB0aGUgcmF3IFJlc3BvbnNlIGhlcmUgYWNjb3JkaW5nbHlcbiAgICAgIGlmIChpc0RhdGFTdHJhdGVneVJlc3VsdChlKSAmJiBpc1Jlc3BvbnNlKGUucmVzdWx0KSkge1xuICAgICAgICBpZiAoZS50eXBlID09PSBSZXN1bHRUeXBlLmVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUucmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gUmVkaXJlY3RzIGFyZSBhbHdheXMgcmV0dXJuZWQgc2luY2UgdGhleSBkb24ndCBwcm9wYWdhdGUgdG8gY2F0Y2hcbiAgICAgIC8vIGJvdW5kYXJpZXNcbiAgICAgIGlmIChpc1JlZGlyZWN0UmVzcG9uc2UoZSkpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdChcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBhY3Rpb25NYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaCxcbiAgICByZXF1ZXN0Q29udGV4dDogdW5rbm93bixcbiAgICBkYXRhU3RyYXRlZ3k6IERhdGFTdHJhdGVneUZ1bmN0aW9uIHwgbnVsbCxcbiAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZzogYm9vbGVhbixcbiAgICBpc1JvdXRlUmVxdWVzdDogYm9vbGVhblxuICApOiBQcm9taXNlPE9taXQ8U3RhdGljSGFuZGxlckNvbnRleHQsIFwibG9jYXRpb25cIiB8IFwiYmFzZW5hbWVcIj4gfCBSZXNwb25zZT4ge1xuICAgIGxldCByZXN1bHQ6IERhdGFSZXN1bHQ7XG5cbiAgICBpZiAoIWFjdGlvbk1hdGNoLnJvdXRlLmFjdGlvbiAmJiAhYWN0aW9uTWF0Y2gucm91dGUubGF6eSkge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgcGF0aG5hbWU6IG5ldyBVUkwocmVxdWVzdC51cmwpLnBhdGhuYW1lLFxuICAgICAgICByb3V0ZUlkOiBhY3Rpb25NYXRjaC5yb3V0ZS5pZCxcbiAgICAgIH0pO1xuICAgICAgaWYgKGlzUm91dGVSZXF1ZXN0KSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgICBlcnJvcixcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgXCJhY3Rpb25cIixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgW2FjdGlvbk1hdGNoXSxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgaXNSb3V0ZVJlcXVlc3QsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3lcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSByZXN1bHRzW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTtcblxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgdGhyb3dTdGF0aWNIYW5kbGVyQWJvcnRlZEVycm9yKHJlcXVlc3QsIGlzUm91dGVSZXF1ZXN0LCBmdXR1cmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIC8vIFVoaGhoIC0gdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuLCB3ZSBzaG91bGQgYWx3YXlzIHRocm93IHRoZXNlIGZyb21cbiAgICAgIC8vIGNhbGxMb2FkZXJPckFjdGlvbiwgYnV0IHRoZSB0eXBlIG5hcnJvd2luZyBoZXJlIGtlZXBzIFRTIGhhcHB5IGFuZCB3ZVxuICAgICAgLy8gY2FuIGdldCBiYWNrIG9uIHRoZSBcInRocm93IGFsbCByZWRpcmVjdCByZXNwb25zZXNcIiB0cmFpbiBoZXJlIHNob3VsZFxuICAgICAgLy8gdGhpcyBldmVyIGhhcHBlbiA6L1xuICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgc3RhdHVzOiByZXN1bHQucmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgTG9jYXRpb246IHJlc3VsdC5yZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpISxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmVycmVkUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAwLCB7IHR5cGU6IFwiZGVmZXItYWN0aW9uXCIgfSk7XG4gICAgICBpZiAoaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgIGVycm9yLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgIC8vIE5vdGU6IFRoaXMgc2hvdWxkIG9ubHkgYmUgbm9uLVJlc3BvbnNlIHZhbHVlcyBpZiB3ZSBnZXQgaGVyZSwgc2luY2VcbiAgICAgIC8vIGlzUm91dGVSZXF1ZXN0IHNob3VsZCB0aHJvdyBhbnkgUmVzcG9uc2UgcmVjZWl2ZWQgaW4gY2FsbExvYWRlck9yQWN0aW9uXG4gICAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlczogW2FjdGlvbk1hdGNoXSxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmRhdGEgfSxcbiAgICAgICAgZXJyb3JzOiBudWxsLFxuICAgICAgICAvLyBOb3RlOiBzdGF0dXNDb2RlICsgaGVhZGVycyBhcmUgdW51c2VkIGhlcmUgc2luY2UgcXVlcnlSb3V0ZSB3aWxsXG4gICAgICAgIC8vIHJldHVybiB0aGUgcmF3IFJlc3BvbnNlIG9yIHZhbHVlXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9LFxuICAgICAgICBhY3RpdmVEZWZlcnJlZHM6IG51bGwsXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIEdFVCByZXF1ZXN0IGZvciB0aGUgbG9hZGVyc1xuICAgIGxldCBsb2FkZXJSZXF1ZXN0ID0gbmV3IFJlcXVlc3QocmVxdWVzdC51cmwsIHtcbiAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgIHJlZGlyZWN0OiByZXF1ZXN0LnJlZGlyZWN0LFxuICAgICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbCxcbiAgICB9KTtcblxuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIC8vIFN0b3JlIG9mZiB0aGUgcGVuZGluZyBlcnJvciAtIHdlIHVzZSBpdCB0byBkZXRlcm1pbmUgd2hpY2ggbG9hZGVyc1xuICAgICAgLy8gdG8gY2FsbCBhbmQgd2lsbCBjb21taXQgaXQgd2hlbiB3ZSBjb21wbGV0ZSB0aGUgbmF2aWdhdGlvblxuICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBza2lwTG9hZGVyRXJyb3JCdWJibGluZ1xuICAgICAgICA/IGFjdGlvbk1hdGNoXG4gICAgICAgIDogZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBhY3Rpb25NYXRjaC5yb3V0ZS5pZCk7XG5cbiAgICAgIGxldCBjb250ZXh0ID0gYXdhaXQgbG9hZFJvdXRlRGF0YShcbiAgICAgICAgbG9hZGVyUmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICAgIG51bGwsXG4gICAgICAgIFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkLCByZXN1bHRdXG4gICAgICApO1xuXG4gICAgICAvLyBhY3Rpb24gc3RhdHVzIGNvZGVzIHRha2UgcHJlY2VkZW5jZSBvdmVyIGxvYWRlciBzdGF0dXMgY29kZXNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcilcbiAgICAgICAgICA/IHJlc3VsdC5lcnJvci5zdGF0dXNcbiAgICAgICAgICA6IHJlc3VsdC5zdGF0dXNDb2RlICE9IG51bGxcbiAgICAgICAgICA/IHJlc3VsdC5zdGF0dXNDb2RlXG4gICAgICAgICAgOiA1MDAsXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHtcbiAgICAgICAgICAuLi4ocmVzdWx0LmhlYWRlcnMgPyB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5oZWFkZXJzIH0gOiB7fSksXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGxldCBjb250ZXh0ID0gYXdhaXQgbG9hZFJvdXRlRGF0YShcbiAgICAgIGxvYWRlclJlcXVlc3QsXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgIG51bGxcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBhY3Rpb25EYXRhOiB7XG4gICAgICAgIFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5kYXRhLFxuICAgICAgfSxcbiAgICAgIC8vIGFjdGlvbiBzdGF0dXMgY29kZXMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgbG9hZGVyIHN0YXR1cyBjb2Rlc1xuICAgICAgLi4uKHJlc3VsdC5zdGF0dXNDb2RlID8geyBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzQ29kZSB9IDoge30pLFxuICAgICAgYWN0aW9uSGVhZGVyczogcmVzdWx0LmhlYWRlcnNcbiAgICAgICAgPyB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5oZWFkZXJzIH1cbiAgICAgICAgOiB7fSxcbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZFJvdXRlRGF0YShcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICByZXF1ZXN0Q29udGV4dDogdW5rbm93bixcbiAgICBkYXRhU3RyYXRlZ3k6IERhdGFTdHJhdGVneUZ1bmN0aW9uIHwgbnVsbCxcbiAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZzogYm9vbGVhbixcbiAgICByb3V0ZU1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoIHwgbnVsbCxcbiAgICBwZW5kaW5nQWN0aW9uUmVzdWx0PzogUGVuZGluZ0FjdGlvblJlc3VsdFxuICApOiBQcm9taXNlPFxuICAgIHwgT21pdDxcbiAgICAgICAgU3RhdGljSGFuZGxlckNvbnRleHQsXG4gICAgICAgIFwibG9jYXRpb25cIiB8IFwiYmFzZW5hbWVcIiB8IFwiYWN0aW9uRGF0YVwiIHwgXCJhY3Rpb25IZWFkZXJzXCJcbiAgICAgID5cbiAgICB8IFJlc3BvbnNlXG4gID4ge1xuICAgIGxldCBpc1JvdXRlUmVxdWVzdCA9IHJvdXRlTWF0Y2ggIT0gbnVsbDtcblxuICAgIC8vIFNob3J0IGNpcmN1aXQgaWYgd2UgaGF2ZSBubyBsb2FkZXJzIHRvIHJ1biAocXVlcnlSb3V0ZSgpKVxuICAgIGlmIChcbiAgICAgIGlzUm91dGVSZXF1ZXN0ICYmXG4gICAgICAhcm91dGVNYXRjaD8ucm91dGUubG9hZGVyICYmXG4gICAgICAhcm91dGVNYXRjaD8ucm91dGUubGF6eVxuICAgICkge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDAsIHtcbiAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgcGF0aG5hbWU6IG5ldyBVUkwocmVxdWVzdC51cmwpLnBhdGhuYW1lLFxuICAgICAgICByb3V0ZUlkOiByb3V0ZU1hdGNoPy5yb3V0ZS5pZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCByZXF1ZXN0TWF0Y2hlcyA9IHJvdXRlTWF0Y2hcbiAgICAgID8gW3JvdXRlTWF0Y2hdXG4gICAgICA6IHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKVxuICAgICAgPyBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShtYXRjaGVzLCBwZW5kaW5nQWN0aW9uUmVzdWx0WzBdKVxuICAgICAgOiBtYXRjaGVzO1xuICAgIGxldCBtYXRjaGVzVG9Mb2FkID0gcmVxdWVzdE1hdGNoZXMuZmlsdGVyKFxuICAgICAgKG0pID0+IG0ucm91dGUubG9hZGVyIHx8IG0ucm91dGUubGF6eVxuICAgICk7XG5cbiAgICAvLyBTaG9ydCBjaXJjdWl0IGlmIHdlIGhhdmUgbm8gbG9hZGVycyB0byBydW4gKHF1ZXJ5KCkpXG4gICAgaWYgKG1hdGNoZXNUb0xvYWQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICAvLyBBZGQgYSBudWxsIGZvciBhbGwgbWF0Y2hlZCByb3V0ZXMgZm9yIHByb3BlciByZXZhbGlkYXRpb24gb24gdGhlIGNsaWVudFxuICAgICAgICBsb2FkZXJEYXRhOiBtYXRjaGVzLnJlZHVjZShcbiAgICAgICAgICAoYWNjLCBtKSA9PiBPYmplY3QuYXNzaWduKGFjYywgeyBbbS5yb3V0ZS5pZF06IG51bGwgfSksXG4gICAgICAgICAge31cbiAgICAgICAgKSxcbiAgICAgICAgZXJyb3JzOlxuICAgICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKVxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGl2ZURlZmVycmVkczogbnVsbCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJsb2FkZXJcIixcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGlzUm91dGVSZXF1ZXN0LFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3lcbiAgICApO1xuXG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihyZXF1ZXN0LCBpc1JvdXRlUmVxdWVzdCwgZnV0dXJlKTtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGFuZCBjb21taXQgb3V0cHV0IGZyb20gbG9hZGVyc1xuICAgIGxldCBhY3RpdmVEZWZlcnJlZHMgPSBuZXcgTWFwPHN0cmluZywgRGVmZXJyZWREYXRhPigpO1xuICAgIGxldCBjb250ZXh0ID0gcHJvY2Vzc1JvdXRlTG9hZGVyRGF0YShcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXN1bHRzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCxcbiAgICAgIGFjdGl2ZURlZmVycmVkcyxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nXG4gICAgKTtcblxuICAgIC8vIEFkZCBhIG51bGwgZm9yIGFueSBub24tbG9hZGVyIG1hdGNoZXMgZm9yIHByb3BlciByZXZhbGlkYXRpb24gb24gdGhlIGNsaWVudFxuICAgIGxldCBleGVjdXRlZExvYWRlcnMgPSBuZXcgU2V0PHN0cmluZz4oXG4gICAgICBtYXRjaGVzVG9Mb2FkLm1hcCgobWF0Y2gpID0+IG1hdGNoLnJvdXRlLmlkKVxuICAgICk7XG4gICAgbWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT4ge1xuICAgICAgaWYgKCFleGVjdXRlZExvYWRlcnMuaGFzKG1hdGNoLnJvdXRlLmlkKSkge1xuICAgICAgICBjb250ZXh0LmxvYWRlckRhdGFbbWF0Y2gucm91dGUuaWRdID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5jb250ZXh0LFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGFjdGl2ZURlZmVycmVkczpcbiAgICAgICAgYWN0aXZlRGVmZXJyZWRzLnNpemUgPiAwXG4gICAgICAgICAgPyBPYmplY3QuZnJvbUVudHJpZXMoYWN0aXZlRGVmZXJyZWRzLmVudHJpZXMoKSlcbiAgICAgICAgICA6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIC8vIFV0aWxpdHkgd3JhcHBlciBmb3IgY2FsbGluZyBkYXRhU3RyYXRlZ3kgc2VydmVyLXNpZGUgd2l0aG91dCBoYXZpbmcgdG9cbiAgLy8gcGFzcyBhcm91bmQgdGhlIG1hbmlmZXN0LCBtYXBSb3V0ZVByb3BlcnRpZXMsIGV0Yy5cbiAgYXN5bmMgZnVuY3Rpb24gY2FsbERhdGFTdHJhdGVneShcbiAgICB0eXBlOiBcImxvYWRlclwiIHwgXCJhY3Rpb25cIixcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuICAgIG1hdGNoZXNUb0xvYWQ6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gICAgaXNSb3V0ZVJlcXVlc3Q6IGJvb2xlYW4sXG4gICAgcmVxdWVzdENvbnRleHQ6IHVua25vd24sXG4gICAgZGF0YVN0cmF0ZWd5OiBEYXRhU3RyYXRlZ3lGdW5jdGlvbiB8IG51bGxcbiAgKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0Pj4ge1xuICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneUltcGwoXG4gICAgICBkYXRhU3RyYXRlZ3kgfHwgZGVmYXVsdERhdGFTdHJhdGVneSxcbiAgICAgIHR5cGUsXG4gICAgICBudWxsLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbnVsbCxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgICAgcmVxdWVzdENvbnRleHRcbiAgICApO1xuXG4gICAgbGV0IGRhdGFSZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0PiA9IHt9O1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgbWF0Y2hlcy5tYXAoYXN5bmMgKG1hdGNoKSA9PiB7XG4gICAgICAgIGlmICghKG1hdGNoLnJvdXRlLmlkIGluIHJlc3VsdHMpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgaWYgKGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHRSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICAgIGxldCByZXNwb25zZSA9IHJlc3VsdC5yZXN1bHQgYXMgUmVzcG9uc2U7XG4gICAgICAgICAgLy8gVGhyb3cgcmVkaXJlY3RzIGFuZCBsZXQgdGhlIHNlcnZlciBoYW5kbGUgdGhlbSB3aXRoIGFuIEhUVFAgcmVkaXJlY3RcbiAgICAgICAgICB0aHJvdyBub3JtYWxpemVSZWxhdGl2ZVJvdXRpbmdSZWRpcmVjdFJlc3BvbnNlKFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgbWF0Y2gucm91dGUuaWQsXG4gICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgICBmdXR1cmUudjdfcmVsYXRpdmVTcGxhdFBhdGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdC5yZXN1bHQpICYmIGlzUm91dGVSZXF1ZXN0KSB7XG4gICAgICAgICAgLy8gRm9yIFNTUiBzaW5nbGUtcm91dGUgcmVxdWVzdHMsIHdlIHdhbnQgdG8gaGFuZCBSZXNwb25zZXMgYmFja1xuICAgICAgICAgIC8vIGRpcmVjdGx5IHdpdGhvdXQgdW53cmFwcGluZ1xuICAgICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFSZXN1bHRzW21hdGNoLnJvdXRlLmlkXSA9XG4gICAgICAgICAgYXdhaXQgY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChyZXN1bHQpO1xuICAgICAgfSlcbiAgICApO1xuICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZGF0YVJvdXRlcyxcbiAgICBxdWVyeSxcbiAgICBxdWVyeVJvdXRlLFxuICB9O1xufVxuXG4vLyNlbmRyZWdpb25cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vI3JlZ2lvbiBIZWxwZXJzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEdpdmVuIGFuIGV4aXN0aW5nIFN0YXRpY0hhbmRsZXJDb250ZXh0IGFuZCBhbiBlcnJvciB0aHJvd24gYXQgcmVuZGVyIHRpbWUsXG4gKiBwcm92aWRlIGFuIHVwZGF0ZWQgU3RhdGljSGFuZGxlckNvbnRleHQgc3VpdGFibGUgZm9yIGEgc2Vjb25kIFNTUiByZW5kZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRpY0NvbnRleHRGcm9tRXJyb3IoXG4gIHJvdXRlczogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXSxcbiAgY29udGV4dDogU3RhdGljSGFuZGxlckNvbnRleHQsXG4gIGVycm9yOiBhbnlcbikge1xuICBsZXQgbmV3Q29udGV4dDogU3RhdGljSGFuZGxlckNvbnRleHQgPSB7XG4gICAgLi4uY29udGV4dCxcbiAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikgPyBlcnJvci5zdGF0dXMgOiA1MDAsXG4gICAgZXJyb3JzOiB7XG4gICAgICBbY29udGV4dC5fZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZCB8fCByb3V0ZXNbMF0uaWRdOiBlcnJvcixcbiAgICB9LFxuICB9O1xuICByZXR1cm4gbmV3Q29udGV4dDtcbn1cblxuZnVuY3Rpb24gdGhyb3dTdGF0aWNIYW5kbGVyQWJvcnRlZEVycm9yKFxuICByZXF1ZXN0OiBSZXF1ZXN0LFxuICBpc1JvdXRlUmVxdWVzdDogYm9vbGVhbixcbiAgZnV0dXJlOiBTdGF0aWNIYW5kbGVyRnV0dXJlQ29uZmlnXG4pIHtcbiAgaWYgKGZ1dHVyZS52N190aHJvd0Fib3J0UmVhc29uICYmIHJlcXVlc3Quc2lnbmFsLnJlYXNvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgcmVxdWVzdC5zaWduYWwucmVhc29uO1xuICB9XG5cbiAgbGV0IG1ldGhvZCA9IGlzUm91dGVSZXF1ZXN0ID8gXCJxdWVyeVJvdXRlXCIgOiBcInF1ZXJ5XCI7XG4gIHRocm93IG5ldyBFcnJvcihgJHttZXRob2R9KCkgY2FsbCBhYm9ydGVkOiAke3JlcXVlc3QubWV0aG9kfSAke3JlcXVlc3QudXJsfWApO1xufVxuXG5mdW5jdGlvbiBpc1N1Ym1pc3Npb25OYXZpZ2F0aW9uKFxuICBvcHRzOiBCYXNlTmF2aWdhdGVPckZldGNoT3B0aW9uc1xuKTogb3B0cyBpcyBTdWJtaXNzaW9uTmF2aWdhdGVPcHRpb25zIHtcbiAgcmV0dXJuIChcbiAgICBvcHRzICE9IG51bGwgJiZcbiAgICAoKFwiZm9ybURhdGFcIiBpbiBvcHRzICYmIG9wdHMuZm9ybURhdGEgIT0gbnVsbCkgfHxcbiAgICAgIChcImJvZHlcIiBpbiBvcHRzICYmIG9wdHMuYm9keSAhPT0gdW5kZWZpbmVkKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVG8oXG4gIGxvY2F0aW9uOiBQYXRoLFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIGJhc2VuYW1lOiBzdHJpbmcsXG4gIHByZXBlbmRCYXNlbmFtZTogYm9vbGVhbixcbiAgdG86IFRvIHwgbnVsbCxcbiAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGJvb2xlYW4sXG4gIGZyb21Sb3V0ZUlkPzogc3RyaW5nLFxuICByZWxhdGl2ZT86IFJlbGF0aXZlUm91dGluZ1R5cGVcbikge1xuICBsZXQgY29udGV4dHVhbE1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXTtcbiAgbGV0IGFjdGl2ZVJvdXRlTWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2ggfCB1bmRlZmluZWQ7XG4gIGlmIChmcm9tUm91dGVJZCkge1xuICAgIC8vIEdyYWIgbWF0Y2hlcyB1cCB0byB0aGUgY2FsbGluZyByb3V0ZSBzbyBvdXIgcm91dGUtcmVsYXRpdmUgbG9naWMgaXNcbiAgICAvLyByZWxhdGl2ZSB0byB0aGUgY29ycmVjdCBzb3VyY2Ugcm91dGVcbiAgICBjb250ZXh0dWFsTWF0Y2hlcyA9IFtdO1xuICAgIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgIGNvbnRleHR1YWxNYXRjaGVzLnB1c2gobWF0Y2gpO1xuICAgICAgaWYgKG1hdGNoLnJvdXRlLmlkID09PSBmcm9tUm91dGVJZCkge1xuICAgICAgICBhY3RpdmVSb3V0ZU1hdGNoID0gbWF0Y2g7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb250ZXh0dWFsTWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgYWN0aXZlUm91dGVNYXRjaCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIC8vIFJlc29sdmUgdGhlIHJlbGF0aXZlIHBhdGhcbiAgbGV0IHBhdGggPSByZXNvbHZlVG8oXG4gICAgdG8gPyB0byA6IFwiLlwiLFxuICAgIGdldFJlc29sdmVUb01hdGNoZXMoY29udGV4dHVhbE1hdGNoZXMsIHY3X3JlbGF0aXZlU3BsYXRQYXRoKSxcbiAgICBzdHJpcEJhc2VuYW1lKGxvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgcmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICk7XG5cbiAgLy8gV2hlbiBgdG9gIGlzIG5vdCBzcGVjaWZpZWQgd2UgaW5oZXJpdCBzZWFyY2gvaGFzaCBmcm9tIHRoZSBjdXJyZW50XG4gIC8vIGxvY2F0aW9uLCB1bmxpa2Ugd2hlbiB0bz1cIi5cIiBhbmQgd2UganVzdCBpbmhlcml0IHRoZSBwYXRoLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9yZW1peC9pc3N1ZXMvOTI3XG4gIGlmICh0byA9PSBudWxsKSB7XG4gICAgcGF0aC5zZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgcGF0aC5oYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgfVxuXG4gIC8vIEFjY291bnQgZm9yIGA/aW5kZXhgIHBhcmFtcyB3aGVuIHJvdXRpbmcgdG8gdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgaWYgKCh0byA9PSBudWxsIHx8IHRvID09PSBcIlwiIHx8IHRvID09PSBcIi5cIikgJiYgYWN0aXZlUm91dGVNYXRjaCkge1xuICAgIGxldCBuYWtlZEluZGV4ID0gaGFzTmFrZWRJbmRleFF1ZXJ5KHBhdGguc2VhcmNoKTtcbiAgICBpZiAoYWN0aXZlUm91dGVNYXRjaC5yb3V0ZS5pbmRleCAmJiAhbmFrZWRJbmRleCkge1xuICAgICAgLy8gQWRkIG9uZSB3aGVuIHdlJ3JlIHRhcmdldGluZyBhbiBpbmRleCByb3V0ZVxuICAgICAgcGF0aC5zZWFyY2ggPSBwYXRoLnNlYXJjaFxuICAgICAgICA/IHBhdGguc2VhcmNoLnJlcGxhY2UoL15cXD8vLCBcIj9pbmRleCZcIilcbiAgICAgICAgOiBcIj9pbmRleFwiO1xuICAgIH0gZWxzZSBpZiAoIWFjdGl2ZVJvdXRlTWF0Y2gucm91dGUuaW5kZXggJiYgbmFrZWRJbmRleCkge1xuICAgICAgLy8gUmVtb3ZlIGV4aXN0aW5nIG9uZXMgd2hlbiB3ZSdyZSBub3RcbiAgICAgIGxldCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhdGguc2VhcmNoKTtcbiAgICAgIGxldCBpbmRleFZhbHVlcyA9IHBhcmFtcy5nZXRBbGwoXCJpbmRleFwiKTtcbiAgICAgIHBhcmFtcy5kZWxldGUoXCJpbmRleFwiKTtcbiAgICAgIGluZGV4VmFsdWVzLmZpbHRlcigodikgPT4gdikuZm9yRWFjaCgodikgPT4gcGFyYW1zLmFwcGVuZChcImluZGV4XCIsIHYpKTtcbiAgICAgIGxldCBxcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICAgICAgcGF0aC5zZWFyY2ggPSBxcyA/IGA/JHtxc31gIDogXCJcIjtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB3ZSdyZSBvcGVyYXRpbmcgd2l0aGluIGEgYmFzZW5hbWUsIHByZXBlbmQgaXQgdG8gdGhlIHBhdGhuYW1lLiAgSWZcbiAgLy8gdGhpcyBpcyBhIHJvb3QgbmF2aWdhdGlvbiwgdGhlbiBqdXN0IHVzZSB0aGUgcmF3IGJhc2VuYW1lIHdoaWNoIGFsbG93c1xuICAvLyB0aGUgYmFzZW5hbWUgdG8gaGF2ZSBmdWxsIGNvbnRyb2wgb3ZlciB0aGUgcHJlc2VuY2Ugb2YgYSB0cmFpbGluZyBzbGFzaFxuICAvLyBvbiByb290IGFjdGlvbnNcbiAgaWYgKHByZXBlbmRCYXNlbmFtZSAmJiBiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICBwYXRoLnBhdGhuYW1lID1cbiAgICAgIHBhdGgucGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRoLnBhdGhuYW1lXSk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlUGF0aChwYXRoKTtcbn1cblxuLy8gTm9ybWFsaXplIG5hdmlnYXRpb24gb3B0aW9ucyBieSBjb252ZXJ0aW5nIGZvcm1NZXRob2Q9R0VUIGZvcm1EYXRhIG9iamVjdHMgdG9cbi8vIFVSTFNlYXJjaFBhcmFtcyBzbyB0aGV5IGJlaGF2ZSBpZGVudGljYWxseSB0byBsaW5rcyB3aXRoIHF1ZXJ5IHBhcmFtc1xuZnVuY3Rpb24gbm9ybWFsaXplTmF2aWdhdGVPcHRpb25zKFxuICBub3JtYWxpemVGb3JtTWV0aG9kOiBib29sZWFuLFxuICBpc0ZldGNoZXI6IGJvb2xlYW4sXG4gIHBhdGg6IHN0cmluZyxcbiAgb3B0cz86IEJhc2VOYXZpZ2F0ZU9yRmV0Y2hPcHRpb25zXG4pOiB7XG4gIHBhdGg6IHN0cmluZztcbiAgc3VibWlzc2lvbj86IFN1Ym1pc3Npb247XG4gIGVycm9yPzogRXJyb3JSZXNwb25zZUltcGw7XG59IHtcbiAgLy8gUmV0dXJuIGxvY2F0aW9uIHZlcmJhdGltIG9uIG5vbi1zdWJtaXNzaW9uIG5hdmlnYXRpb25zXG4gIGlmICghb3B0cyB8fCAhaXNTdWJtaXNzaW9uTmF2aWdhdGlvbihvcHRzKSkge1xuICAgIHJldHVybiB7IHBhdGggfTtcbiAgfVxuXG4gIGlmIChvcHRzLmZvcm1NZXRob2QgJiYgIWlzVmFsaWRNZXRob2Qob3B0cy5mb3JtTWV0aG9kKSkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXRoLFxuICAgICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7IG1ldGhvZDogb3B0cy5mb3JtTWV0aG9kIH0pLFxuICAgIH07XG4gIH1cblxuICBsZXQgZ2V0SW52YWxpZEJvZHlFcnJvciA9ICgpID0+ICh7XG4gICAgcGF0aCxcbiAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDAsIHsgdHlwZTogXCJpbnZhbGlkLWJvZHlcIiB9KSxcbiAgfSk7XG5cbiAgLy8gQ3JlYXRlIGEgU3VibWlzc2lvbiBvbiBub24tR0VUIG5hdmlnYXRpb25zXG4gIGxldCByYXdGb3JtTWV0aG9kID0gb3B0cy5mb3JtTWV0aG9kIHx8IFwiZ2V0XCI7XG4gIGxldCBmb3JtTWV0aG9kID0gbm9ybWFsaXplRm9ybU1ldGhvZFxuICAgID8gKHJhd0Zvcm1NZXRob2QudG9VcHBlckNhc2UoKSBhcyBWN19Gb3JtTWV0aG9kKVxuICAgIDogKHJhd0Zvcm1NZXRob2QudG9Mb3dlckNhc2UoKSBhcyBGb3JtTWV0aG9kKTtcbiAgbGV0IGZvcm1BY3Rpb24gPSBzdHJpcEhhc2hGcm9tUGF0aChwYXRoKTtcblxuICBpZiAob3B0cy5ib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAob3B0cy5mb3JtRW5jVHlwZSA9PT0gXCJ0ZXh0L3BsYWluXCIpIHtcbiAgICAgIC8vIHRleHQgb25seSBzdXBwb3J0IFBPU1QvUFVUL1BBVENIL0RFTEVURSBzdWJtaXNzaW9uc1xuICAgICAgaWYgKCFpc011dGF0aW9uTWV0aG9kKGZvcm1NZXRob2QpKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgICB9XG5cbiAgICAgIGxldCB0ZXh0ID1cbiAgICAgICAgdHlwZW9mIG9wdHMuYm9keSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgID8gb3B0cy5ib2R5XG4gICAgICAgICAgOiBvcHRzLmJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSB8fFxuICAgICAgICAgICAgb3B0cy5ib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zXG4gICAgICAgICAgPyAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3JtLWNvbnRyb2wtaW5mcmFzdHJ1Y3R1cmUuaHRtbCNwbGFpbi10ZXh0LWZvcm0tZGF0YVxuICAgICAgICAgICAgQXJyYXkuZnJvbShvcHRzLmJvZHkuZW50cmllcygpKS5yZWR1Y2UoXG4gICAgICAgICAgICAgIChhY2MsIFtuYW1lLCB2YWx1ZV0pID0+IGAke2FjY30ke25hbWV9PSR7dmFsdWV9XFxuYCxcbiAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogU3RyaW5nKG9wdHMuYm9keSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGgsXG4gICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICBmb3JtTWV0aG9kLFxuICAgICAgICAgIGZvcm1BY3Rpb24sXG4gICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdHMuZm9ybUVuY1R5cGUsXG4gICAgICAgICAgZm9ybURhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgICBqc29uOiB1bmRlZmluZWQsXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChvcHRzLmZvcm1FbmNUeXBlID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgLy8ganNvbiBvbmx5IHN1cHBvcnRzIFBPU1QvUFVUL1BBVENIL0RFTEVURSBzdWJtaXNzaW9uc1xuICAgICAgaWYgKCFpc011dGF0aW9uTWV0aG9kKGZvcm1NZXRob2QpKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBqc29uID1cbiAgICAgICAgICB0eXBlb2Ygb3B0cy5ib2R5ID09PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShvcHRzLmJvZHkpIDogb3B0cy5ib2R5O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgICBmb3JtTWV0aG9kLFxuICAgICAgICAgICAgZm9ybUFjdGlvbixcbiAgICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRzLmZvcm1FbmNUeXBlLFxuICAgICAgICAgICAgZm9ybURhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGpzb24sXG4gICAgICAgICAgICB0ZXh0OiB1bmRlZmluZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbnZhcmlhbnQoXG4gICAgdHlwZW9mIEZvcm1EYXRhID09PSBcImZ1bmN0aW9uXCIsXG4gICAgXCJGb3JtRGF0YSBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnRcIlxuICApO1xuXG4gIGxldCBzZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtcztcbiAgbGV0IGZvcm1EYXRhOiBGb3JtRGF0YTtcblxuICBpZiAob3B0cy5mb3JtRGF0YSkge1xuICAgIHNlYXJjaFBhcmFtcyA9IGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKG9wdHMuZm9ybURhdGEpO1xuICAgIGZvcm1EYXRhID0gb3B0cy5mb3JtRGF0YTtcbiAgfSBlbHNlIGlmIChvcHRzLmJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgIHNlYXJjaFBhcmFtcyA9IGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKG9wdHMuYm9keSk7XG4gICAgZm9ybURhdGEgPSBvcHRzLmJvZHk7XG4gIH0gZWxzZSBpZiAob3B0cy5ib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gb3B0cy5ib2R5O1xuICAgIGZvcm1EYXRhID0gY29udmVydFNlYXJjaFBhcmFtc1RvRm9ybURhdGEoc2VhcmNoUGFyYW1zKTtcbiAgfSBlbHNlIGlmIChvcHRzLmJvZHkgPT0gbnVsbCkge1xuICAgIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKG9wdHMuYm9keSk7XG4gICAgICBmb3JtRGF0YSA9IGNvbnZlcnRTZWFyY2hQYXJhbXNUb0Zvcm1EYXRhKHNlYXJjaFBhcmFtcyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICB9XG4gIH1cblxuICBsZXQgc3VibWlzc2lvbjogU3VibWlzc2lvbiA9IHtcbiAgICBmb3JtTWV0aG9kLFxuICAgIGZvcm1BY3Rpb24sXG4gICAgZm9ybUVuY1R5cGU6XG4gICAgICAob3B0cyAmJiBvcHRzLmZvcm1FbmNUeXBlKSB8fCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuICAgIGZvcm1EYXRhLFxuICAgIGpzb246IHVuZGVmaW5lZCxcbiAgICB0ZXh0OiB1bmRlZmluZWQsXG4gIH07XG5cbiAgaWYgKGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgIHJldHVybiB7IHBhdGgsIHN1Ym1pc3Npb24gfTtcbiAgfVxuXG4gIC8vIEZsYXR0ZW4gc3VibWlzc2lvbiBvbnRvIFVSTFNlYXJjaFBhcmFtcyBmb3IgR0VUIHN1Ym1pc3Npb25zXG4gIGxldCBwYXJzZWRQYXRoID0gcGFyc2VQYXRoKHBhdGgpO1xuICAvLyBPbiBHRVQgbmF2aWdhdGlvbiBzdWJtaXNzaW9ucyB3ZSBjYW4gZHJvcCB0aGUgP2luZGV4IHBhcmFtIGZyb20gdGhlXG4gIC8vIHJlc3VsdGluZyBsb2NhdGlvbiBzaW5jZSBhbGwgbG9hZGVycyB3aWxsIHJ1bi4gIEJ1dCBmZXRjaGVyIEdFVCBzdWJtaXNzaW9uc1xuICAvLyBvbmx5IHJ1biBhIHNpbmdsZSBsb2FkZXIgc28gd2UgbmVlZCB0byBwcmVzZXJ2ZSBhbnkgaW5jb21pbmcgP2luZGV4IHBhcmFtc1xuICBpZiAoaXNGZXRjaGVyICYmIHBhcnNlZFBhdGguc2VhcmNoICYmIGhhc05ha2VkSW5kZXhRdWVyeShwYXJzZWRQYXRoLnNlYXJjaCkpIHtcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgXCJcIik7XG4gIH1cbiAgcGFyc2VkUGF0aC5zZWFyY2ggPSBgPyR7c2VhcmNoUGFyYW1zfWA7XG5cbiAgcmV0dXJuIHsgcGF0aDogY3JlYXRlUGF0aChwYXJzZWRQYXRoKSwgc3VibWlzc2lvbiB9O1xufVxuXG4vLyBGaWx0ZXIgb3V0IGFsbCByb3V0ZXMgYXQvYmVsb3cgYW55IGNhdWdodCBlcnJvciBhcyB0aGV5IGFyZW4ndCBnb2luZyB0b1xuLy8gcmVuZGVyIHNvIHdlIGRvbid0IG5lZWQgdG8gbG9hZCB0aGVtXG5mdW5jdGlvbiBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICBib3VuZGFyeUlkOiBzdHJpbmcsXG4gIGluY2x1ZGVCb3VuZGFyeSA9IGZhbHNlXG4pIHtcbiAgbGV0IGluZGV4ID0gbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUuaWQgPT09IGJvdW5kYXJ5SWQpO1xuICBpZiAoaW5kZXggPj0gMCkge1xuICAgIHJldHVybiBtYXRjaGVzLnNsaWNlKDAsIGluY2x1ZGVCb3VuZGFyeSA/IGluZGV4ICsgMSA6IGluZGV4KTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcztcbn1cblxuZnVuY3Rpb24gZ2V0TWF0Y2hlc1RvTG9hZChcbiAgaGlzdG9yeTogSGlzdG9yeSxcbiAgc3RhdGU6IFJvdXRlclN0YXRlLFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIHN1Ym1pc3Npb246IFN1Ym1pc3Npb24gfCB1bmRlZmluZWQsXG4gIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgaW5pdGlhbEh5ZHJhdGlvbjogYm9vbGVhbixcbiAgc2tpcEFjdGlvbkVycm9yUmV2YWxpZGF0aW9uOiBib29sZWFuLFxuICBpc1JldmFsaWRhdGlvblJlcXVpcmVkOiBib29sZWFuLFxuICBjYW5jZWxsZWREZWZlcnJlZFJvdXRlczogc3RyaW5nW10sXG4gIGNhbmNlbGxlZEZldGNoZXJMb2FkczogU2V0PHN0cmluZz4sXG4gIGRlbGV0ZWRGZXRjaGVyczogU2V0PHN0cmluZz4sXG4gIGZldGNoTG9hZE1hdGNoZXM6IE1hcDxzdHJpbmcsIEZldGNoTG9hZE1hdGNoPixcbiAgZmV0Y2hSZWRpcmVjdElkczogU2V0PHN0cmluZz4sXG4gIHJvdXRlc1RvVXNlOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdLFxuICBiYXNlbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBwZW5kaW5nQWN0aW9uUmVzdWx0PzogUGVuZGluZ0FjdGlvblJlc3VsdFxuKTogW0Fnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSwgUmV2YWxpZGF0aW5nRmV0Y2hlcltdXSB7XG4gIGxldCBhY3Rpb25SZXN1bHQgPSBwZW5kaW5nQWN0aW9uUmVzdWx0XG4gICAgPyBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pXG4gICAgICA/IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3JcbiAgICAgIDogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5kYXRhXG4gICAgOiB1bmRlZmluZWQ7XG4gIGxldCBjdXJyZW50VXJsID0gaGlzdG9yeS5jcmVhdGVVUkwoc3RhdGUubG9jYXRpb24pO1xuICBsZXQgbmV4dFVybCA9IGhpc3RvcnkuY3JlYXRlVVJMKGxvY2F0aW9uKTtcblxuICAvLyBQaWNrIG5hdmlnYXRpb24gbWF0Y2hlcyB0aGF0IGFyZSBuZXQtbmV3IG9yIHF1YWxpZnkgZm9yIHJldmFsaWRhdGlvblxuICBsZXQgYm91bmRhcnlNYXRjaGVzID0gbWF0Y2hlcztcbiAgaWYgKGluaXRpYWxIeWRyYXRpb24gJiYgc3RhdGUuZXJyb3JzKSB7XG4gICAgLy8gT24gaW5pdGlhbCBoeWRyYXRpb24sIG9ubHkgY29uc2lkZXIgbWF0Y2hlcyB1cCB0byBfYW5kIGluY2x1ZGluZ18gdGhlIGJvdW5kYXJ5LlxuICAgIC8vIFRoaXMgaXMgaW5jbHVzaXZlIHRvIGhhbmRsZSBjYXNlcyB3aGVyZSBhIHNlcnZlciBsb2FkZXIgcmFuIHN1Y2Nlc3NmdWxseSxcbiAgICAvLyBhIGNoaWxkIHNlcnZlciBsb2FkZXIgYnViYmxlZCB1cCB0byB0aGlzIHJvdXRlLCBidXQgdGhpcyByb3V0ZSBoYXNcbiAgICAvLyBgY2xpZW50TG9hZGVyLmh5ZHJhdGVgIHNvIHdlIHdhbnQgdG8gc3RpbGwgcnVuIHRoZSBgY2xpZW50TG9hZGVyYCBzbyB0aGF0XG4gICAgLy8gd2UgaGF2ZSBhIGNvbXBsZXRlIHZlcnNpb24gb2YgYGxvYWRlckRhdGFgXG4gICAgYm91bmRhcnlNYXRjaGVzID0gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkoXG4gICAgICBtYXRjaGVzLFxuICAgICAgT2JqZWN0LmtleXMoc3RhdGUuZXJyb3JzKVswXSxcbiAgICAgIHRydWVcbiAgICApO1xuICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSkge1xuICAgIC8vIElmIGFuIGFjdGlvbiB0aHJldyBhbiBlcnJvciwgd2UgY2FsbCBsb2FkZXJzIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZyB0aGVcbiAgICAvLyBib3VuZGFyeVxuICAgIGJvdW5kYXJ5TWF0Y2hlcyA9IGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRbMF1cbiAgICApO1xuICB9XG5cbiAgLy8gRG9uJ3QgcmV2YWxpZGF0ZSBsb2FkZXJzIGJ5IGRlZmF1bHQgYWZ0ZXIgYWN0aW9uIDR4eC81eHggcmVzcG9uc2VzXG4gIC8vIHdoZW4gdGhlIGZsYWcgaXMgZW5hYmxlZC4gIFRoZXkgY2FuIHN0aWxsIG9wdC1pbnRvIHJldmFsaWRhdGlvbiB2aWFcbiAgLy8gYHNob3VsZFJldmFsaWRhdGVgIHZpYSBgYWN0aW9uUmVzdWx0YFxuICBsZXQgYWN0aW9uU3RhdHVzID0gcGVuZGluZ0FjdGlvblJlc3VsdFxuICAgID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5zdGF0dXNDb2RlXG4gICAgOiB1bmRlZmluZWQ7XG4gIGxldCBzaG91bGRTa2lwUmV2YWxpZGF0aW9uID1cbiAgICBza2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb24gJiYgYWN0aW9uU3RhdHVzICYmIGFjdGlvblN0YXR1cyA+PSA0MDA7XG5cbiAgbGV0IG5hdmlnYXRpb25NYXRjaGVzID0gYm91bmRhcnlNYXRjaGVzLmZpbHRlcigobWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgbGV0IHsgcm91dGUgfSA9IG1hdGNoO1xuICAgIGlmIChyb3V0ZS5sYXp5KSB7XG4gICAgICAvLyBXZSBoYXZlbid0IGxvYWRlZCB0aGlzIHJvdXRlIHlldCBzbyB3ZSBkb24ndCBrbm93IGlmIGl0J3MgZ290IGEgbG9hZGVyIVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHJvdXRlLmxvYWRlciA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGluaXRpYWxIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybiBzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihyb3V0ZSwgc3RhdGUubG9hZGVyRGF0YSwgc3RhdGUuZXJyb3JzKTtcbiAgICB9XG5cbiAgICAvLyBBbHdheXMgY2FsbCB0aGUgbG9hZGVyIG9uIG5ldyByb3V0ZSBpbnN0YW5jZXMgYW5kIHBlbmRpbmcgZGVmZXIgY2FuY2VsbGF0aW9uc1xuICAgIGlmIChcbiAgICAgIGlzTmV3TG9hZGVyKHN0YXRlLmxvYWRlckRhdGEsIHN0YXRlLm1hdGNoZXNbaW5kZXhdLCBtYXRjaCkgfHxcbiAgICAgIGNhbmNlbGxlZERlZmVycmVkUm91dGVzLnNvbWUoKGlkKSA9PiBpZCA9PT0gbWF0Y2gucm91dGUuaWQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZvciB3aGVuIHdlIHJldmFsaWRhdGUuICBJZiB0aGUgcm91dGVcbiAgICAvLyBwcm92aWRlcyBpdCdzIG93biBpbXBsZW1lbnRhdGlvbiwgdGhlbiB3ZSBnaXZlIHRoZW0gZnVsbCBjb250cm9sIGJ1dFxuICAgIC8vIHByb3ZpZGUgdGhpcyB2YWx1ZSBzbyB0aGV5IGNhbiBsZXZlcmFnZSBpdCBpZiBuZWVkZWQgYWZ0ZXIgdGhleSBjaGVja1xuICAgIC8vIHRoZWlyIG93biBzcGVjaWZpYyB1c2UgY2FzZXNcbiAgICBsZXQgY3VycmVudFJvdXRlTWF0Y2ggPSBzdGF0ZS5tYXRjaGVzW2luZGV4XTtcbiAgICBsZXQgbmV4dFJvdXRlTWF0Y2ggPSBtYXRjaDtcblxuICAgIHJldHVybiBzaG91bGRSZXZhbGlkYXRlTG9hZGVyKG1hdGNoLCB7XG4gICAgICBjdXJyZW50VXJsLFxuICAgICAgY3VycmVudFBhcmFtczogY3VycmVudFJvdXRlTWF0Y2gucGFyYW1zLFxuICAgICAgbmV4dFVybCxcbiAgICAgIG5leHRQYXJhbXM6IG5leHRSb3V0ZU1hdGNoLnBhcmFtcyxcbiAgICAgIC4uLnN1Ym1pc3Npb24sXG4gICAgICBhY3Rpb25SZXN1bHQsXG4gICAgICBhY3Rpb25TdGF0dXMsXG4gICAgICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogc2hvdWxkU2tpcFJldmFsaWRhdGlvblxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogLy8gRm9yY2VkIHJldmFsaWRhdGlvbiBkdWUgdG8gc3VibWlzc2lvbiwgdXNlUmV2YWxpZGF0b3IsIG9yIFgtUmVtaXgtUmV2YWxpZGF0ZVxuICAgICAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgfHxcbiAgICAgICAgICBjdXJyZW50VXJsLnBhdGhuYW1lICsgY3VycmVudFVybC5zZWFyY2ggPT09XG4gICAgICAgICAgICBuZXh0VXJsLnBhdGhuYW1lICsgbmV4dFVybC5zZWFyY2ggfHxcbiAgICAgICAgICAvLyBTZWFyY2ggcGFyYW1zIGFmZmVjdCBhbGwgbG9hZGVyc1xuICAgICAgICAgIGN1cnJlbnRVcmwuc2VhcmNoICE9PSBuZXh0VXJsLnNlYXJjaCB8fFxuICAgICAgICAgIGlzTmV3Um91dGVJbnN0YW5jZShjdXJyZW50Um91dGVNYXRjaCwgbmV4dFJvdXRlTWF0Y2gpLFxuICAgIH0pO1xuICB9KTtcblxuICAvLyBQaWNrIGZldGNoZXIubG9hZHMgdGhhdCBuZWVkIHRvIGJlIHJldmFsaWRhdGVkXG4gIGxldCByZXZhbGlkYXRpbmdGZXRjaGVyczogUmV2YWxpZGF0aW5nRmV0Y2hlcltdID0gW107XG4gIGZldGNoTG9hZE1hdGNoZXMuZm9yRWFjaCgoZiwga2V5KSA9PiB7XG4gICAgLy8gRG9uJ3QgcmV2YWxpZGF0ZTpcbiAgICAvLyAgLSBvbiBpbml0aWFsIGh5ZHJhdGlvbiAoc2hvdWxkbid0IGJlIGFueSBmZXRjaGVycyB0aGVuIGFueXdheSlcbiAgICAvLyAgLSBpZiBmZXRjaGVyIHdvbid0IGJlIHByZXNlbnQgaW4gdGhlIHN1YnNlcXVlbnQgcmVuZGVyXG4gICAgLy8gICAgLSBubyBsb25nZXIgbWF0Y2hlcyB0aGUgVVJMICh2N19mZXRjaGVyUGVyc2lzdD1mYWxzZSlcbiAgICAvLyAgICAtIHdhcyB1bm1vdW50ZWQgYnV0IHBlcnNpc3RlZCBkdWUgdG8gdjdfZmV0Y2hlclBlcnNpc3Q9dHJ1ZVxuICAgIGlmIChcbiAgICAgIGluaXRpYWxIeWRyYXRpb24gfHxcbiAgICAgICFtYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUuaWQgPT09IGYucm91dGVJZCkgfHxcbiAgICAgIGRlbGV0ZWRGZXRjaGVycy5oYXMoa2V5KVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBmZXRjaGVyTWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBmLnBhdGgsIGJhc2VuYW1lKTtcblxuICAgIC8vIElmIHRoZSBmZXRjaGVyIHBhdGggbm8gbG9uZ2VyIG1hdGNoZXMsIHB1c2ggaXQgaW4gd2l0aCBudWxsIG1hdGNoZXMgc29cbiAgICAvLyB3ZSBjYW4gdHJpZ2dlciBhIDQwNCBpbiBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEuICBOb3RlIHRoaXMgaXNcbiAgICAvLyBjdXJyZW50bHkgb25seSBhIHVzZS1jYXNlIGZvciBSZW1peCBITVIgd2hlcmUgdGhlIHJvdXRlIHRyZWUgY2FuIGNoYW5nZVxuICAgIC8vIGF0IHJ1bnRpbWUgYW5kIHJlbW92ZSBhIHJvdXRlIHByZXZpb3VzbHkgbG9hZGVkIHZpYSBhIGZldGNoZXJcbiAgICBpZiAoIWZldGNoZXJNYXRjaGVzKSB7XG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5wdXNoKHtcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkOiBmLnJvdXRlSWQsXG4gICAgICAgIHBhdGg6IGYucGF0aCxcbiAgICAgICAgbWF0Y2hlczogbnVsbCxcbiAgICAgICAgbWF0Y2g6IG51bGwsXG4gICAgICAgIGNvbnRyb2xsZXI6IG51bGwsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZXZhbGlkYXRpbmcgZmV0Y2hlcnMgYXJlIGRlY291cGxlZCBmcm9tIHRoZSByb3V0ZSBtYXRjaGVzIHNpbmNlIHRoZXlcbiAgICAvLyBsb2FkIGZyb20gYSBzdGF0aWMgaHJlZi4gIFRoZXkgcmV2YWxpZGF0ZSBiYXNlZCBvbiBleHBsaWNpdCByZXZhbGlkYXRpb25cbiAgICAvLyAoc3VibWlzc2lvbiwgdXNlUmV2YWxpZGF0b3IsIG9yIFgtUmVtaXgtUmV2YWxpZGF0ZSlcbiAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIGxldCBmZXRjaGVyTWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChmZXRjaGVyTWF0Y2hlcywgZi5wYXRoKTtcblxuICAgIGxldCBzaG91bGRSZXZhbGlkYXRlID0gZmFsc2U7XG4gICAgaWYgKGZldGNoUmVkaXJlY3RJZHMuaGFzKGtleSkpIHtcbiAgICAgIC8vIE5ldmVyIHRyaWdnZXIgYSByZXZhbGlkYXRpb24gb2YgYW4gYWN0aXZlbHkgcmVkaXJlY3RpbmcgZmV0Y2hlclxuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmhhcyhrZXkpKSB7XG4gICAgICAvLyBBbHdheXMgbWFyayBmb3IgcmV2YWxpZGF0aW9uIGlmIHRoZSBmZXRjaGVyIHdhcyBjYW5jZWxsZWRcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5kZWxldGUoa2V5KTtcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBmZXRjaGVyICYmXG4gICAgICBmZXRjaGVyLnN0YXRlICE9PSBcImlkbGVcIiAmJlxuICAgICAgZmV0Y2hlci5kYXRhID09PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIC8vIElmIHRoZSBmZXRjaGVyIGhhc24ndCBldmVyIGNvbXBsZXRlZCBsb2FkaW5nIHlldCwgdGhlbiB0aGlzIGlzbid0IGFcbiAgICAgIC8vIHJldmFsaWRhdGlvbiwgaXQgd291bGQganVzdCBiZSBhIGJyYW5kIG5ldyBsb2FkIGlmIGFuIGV4cGxpY2l0XG4gICAgICAvLyByZXZhbGlkYXRpb24gaXMgcmVxdWlyZWRcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSBpc1JldmFsaWRhdGlvblJlcXVpcmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UgZmFsbCBiYWNrIG9uIGFueSB1c2VyLWRlZmluZWQgc2hvdWxkUmV2YWxpZGF0ZSwgZGVmYXVsdGluZ1xuICAgICAgLy8gdG8gZXhwbGljaXQgcmV2YWxpZGF0aW9ucyBvbmx5XG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihmZXRjaGVyTWF0Y2gsIHtcbiAgICAgICAgY3VycmVudFVybCxcbiAgICAgICAgY3VycmVudFBhcmFtczogc3RhdGUubWF0Y2hlc1tzdGF0ZS5tYXRjaGVzLmxlbmd0aCAtIDFdLnBhcmFtcyxcbiAgICAgICAgbmV4dFVybCxcbiAgICAgICAgbmV4dFBhcmFtczogbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnBhcmFtcyxcbiAgICAgICAgLi4uc3VibWlzc2lvbixcbiAgICAgICAgYWN0aW9uUmVzdWx0LFxuICAgICAgICBhY3Rpb25TdGF0dXMsXG4gICAgICAgIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiBzaG91bGRTa2lwUmV2YWxpZGF0aW9uXG4gICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgIDogaXNSZXZhbGlkYXRpb25SZXF1aXJlZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5wdXNoKHtcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkOiBmLnJvdXRlSWQsXG4gICAgICAgIHBhdGg6IGYucGF0aCxcbiAgICAgICAgbWF0Y2hlczogZmV0Y2hlck1hdGNoZXMsXG4gICAgICAgIG1hdGNoOiBmZXRjaGVyTWF0Y2gsXG4gICAgICAgIGNvbnRyb2xsZXI6IG5ldyBBYm9ydENvbnRyb2xsZXIoKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIFtuYXZpZ2F0aW9uTWF0Y2hlcywgcmV2YWxpZGF0aW5nRmV0Y2hlcnNdO1xufVxuXG5mdW5jdGlvbiBzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihcbiAgcm91dGU6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0LFxuICBsb2FkZXJEYXRhOiBSb3V0ZURhdGEgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBlcnJvcnM6IFJvdXRlRGF0YSB8IG51bGwgfCB1bmRlZmluZWRcbikge1xuICAvLyBXZSBkdW5ubyBpZiB3ZSBoYXZlIGEgbG9hZGVyIC0gZ290dGEgZmluZCBvdXQhXG4gIGlmIChyb3V0ZS5sYXp5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBObyBsb2FkZXIsIG5vdGhpbmcgdG8gaW5pdGlhbGl6ZVxuICBpZiAoIXJvdXRlLmxvYWRlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGxldCBoYXNEYXRhID0gbG9hZGVyRGF0YSAhPSBudWxsICYmIGxvYWRlckRhdGFbcm91dGUuaWRdICE9PSB1bmRlZmluZWQ7XG4gIGxldCBoYXNFcnJvciA9IGVycm9ycyAhPSBudWxsICYmIGVycm9yc1tyb3V0ZS5pZF0gIT09IHVuZGVmaW5lZDtcblxuICAvLyBEb24ndCBydW4gaWYgd2UgZXJyb3InZCBkdXJpbmcgU1NSXG4gIGlmICghaGFzRGF0YSAmJiBoYXNFcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEV4cGxpY2l0bHkgb3B0aW5nLWluIHRvIHJ1bm5pbmcgb24gaHlkcmF0aW9uXG4gIGlmICh0eXBlb2Ygcm91dGUubG9hZGVyID09PSBcImZ1bmN0aW9uXCIgJiYgcm91dGUubG9hZGVyLmh5ZHJhdGUgPT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSwgcnVuIGlmIHdlJ3JlIG5vdCB5ZXQgaW5pdGlhbGl6ZWQgd2l0aCBhbnl0aGluZ1xuICByZXR1cm4gIWhhc0RhdGEgJiYgIWhhc0Vycm9yO1xufVxuXG5mdW5jdGlvbiBpc05ld0xvYWRlcihcbiAgY3VycmVudExvYWRlckRhdGE6IFJvdXRlRGF0YSxcbiAgY3VycmVudE1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoLFxuICBtYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaFxuKSB7XG4gIGxldCBpc05ldyA9XG4gICAgLy8gW2FdIC0+IFthLCBiXVxuICAgICFjdXJyZW50TWF0Y2ggfHxcbiAgICAvLyBbYSwgYl0gLT4gW2EsIGNdXG4gICAgbWF0Y2gucm91dGUuaWQgIT09IGN1cnJlbnRNYXRjaC5yb3V0ZS5pZDtcblxuICAvLyBIYW5kbGUgdGhlIGNhc2UgdGhhdCB3ZSBkb24ndCBoYXZlIGRhdGEgZm9yIGEgcmUtdXNlZCByb3V0ZSwgcG90ZW50aWFsbHlcbiAgLy8gZnJvbSBhIHByaW9yIGVycm9yIG9yIGZyb20gYSBjYW5jZWxsZWQgcGVuZGluZyBkZWZlcnJlZFxuICBsZXQgaXNNaXNzaW5nRGF0YSA9IGN1cnJlbnRMb2FkZXJEYXRhW21hdGNoLnJvdXRlLmlkXSA9PT0gdW5kZWZpbmVkO1xuXG4gIC8vIEFsd2F5cyBsb2FkIGlmIHRoaXMgaXMgYSBuZXQtbmV3IHJvdXRlIG9yIHdlIGRvbid0IHlldCBoYXZlIGRhdGFcbiAgcmV0dXJuIGlzTmV3IHx8IGlzTWlzc2luZ0RhdGE7XG59XG5cbmZ1bmN0aW9uIGlzTmV3Um91dGVJbnN0YW5jZShcbiAgY3VycmVudE1hdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoLFxuICBtYXRjaDogQWdub3N0aWNEYXRhUm91dGVNYXRjaFxuKSB7XG4gIGxldCBjdXJyZW50UGF0aCA9IGN1cnJlbnRNYXRjaC5yb3V0ZS5wYXRoO1xuICByZXR1cm4gKFxuICAgIC8vIHBhcmFtIGNoYW5nZSBmb3IgdGhpcyBtYXRjaCwgL3VzZXJzLzEyMyAtPiAvdXNlcnMvNDU2XG4gICAgY3VycmVudE1hdGNoLnBhdGhuYW1lICE9PSBtYXRjaC5wYXRobmFtZSB8fFxuICAgIC8vIHNwbGF0IHBhcmFtIGNoYW5nZWQsIHdoaWNoIGlzIG5vdCBwcmVzZW50IGluIG1hdGNoLnBhdGhcbiAgICAvLyBlLmcuIC9maWxlcy9pbWFnZXMvYXZhdGFyLmpwZyAtPiBmaWxlcy9maW5hbmNlcy54bHNcbiAgICAoY3VycmVudFBhdGggIT0gbnVsbCAmJlxuICAgICAgY3VycmVudFBhdGguZW5kc1dpdGgoXCIqXCIpICYmXG4gICAgICBjdXJyZW50TWF0Y2gucGFyYW1zW1wiKlwiXSAhPT0gbWF0Y2gucGFyYW1zW1wiKlwiXSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihcbiAgbG9hZGVyTWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gsXG4gIGFyZzogU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uQXJnc1xuKSB7XG4gIGlmIChsb2FkZXJNYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgbGV0IHJvdXRlQ2hvaWNlID0gbG9hZGVyTWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZShhcmcpO1xuICAgIGlmICh0eXBlb2Ygcm91dGVDaG9pY2UgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gcm91dGVDaG9pY2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyZy5kZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTtcbn1cblxuZnVuY3Rpb24gcGF0Y2hSb3V0ZXNJbXBsKFxuICByb3V0ZUlkOiBzdHJpbmcgfCBudWxsLFxuICBjaGlsZHJlbjogQWdub3N0aWNSb3V0ZU9iamVjdFtdLFxuICByb3V0ZXNUb1VzZTogQWdub3N0aWNEYXRhUm91dGVPYmplY3RbXSxcbiAgbWFuaWZlc3Q6IFJvdXRlTWFuaWZlc3QsXG4gIG1hcFJvdXRlUHJvcGVydGllczogTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb25cbikge1xuICBsZXQgY2hpbGRyZW5Ub1BhdGNoOiBBZ25vc3RpY0RhdGFSb3V0ZU9iamVjdFtdO1xuICBpZiAocm91dGVJZCkge1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0W3JvdXRlSWRdO1xuICAgIGludmFyaWFudChcbiAgICAgIHJvdXRlLFxuICAgICAgYE5vIHJvdXRlIGZvdW5kIHRvIHBhdGNoIGNoaWxkcmVuIGludG86IHJvdXRlSWQgPSAke3JvdXRlSWR9YFxuICAgICk7XG4gICAgaWYgKCFyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgcm91dGUuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG4gICAgY2hpbGRyZW5Ub1BhdGNoID0gcm91dGUuY2hpbGRyZW47XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW5Ub1BhdGNoID0gcm91dGVzVG9Vc2U7XG4gIH1cblxuICAvLyBEb24ndCBwYXRjaCBpbiByb3V0ZXMgd2UgYWxyZWFkeSBrbm93IGFib3V0IHNvIHRoYXQgYHBhdGNoYCBpcyBpZGVtcG90ZW50XG4gIC8vIHRvIHNpbXBsaWZ5IHVzZXItbGFuZCBjb2RlLiBUaGlzIGlzIHVzZWZ1bCBiZWNhdXNlIHdlIHJlLWNhbGwgdGhlXG4gIC8vIGBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbmAgZnVuY3Rpb24gZm9yIG1hdGNoZWQgcm91dGVzIHdpdGggcGFyYW1zLlxuICBsZXQgdW5pcXVlQ2hpbGRyZW4gPSBjaGlsZHJlbi5maWx0ZXIoXG4gICAgKG5ld1JvdXRlKSA9PlxuICAgICAgIWNoaWxkcmVuVG9QYXRjaC5zb21lKChleGlzdGluZ1JvdXRlKSA9PlxuICAgICAgICBpc1NhbWVSb3V0ZShuZXdSb3V0ZSwgZXhpc3RpbmdSb3V0ZSlcbiAgICAgIClcbiAgKTtcblxuICBsZXQgbmV3Um91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICB1bmlxdWVDaGlsZHJlbixcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgW3JvdXRlSWQgfHwgXCJfXCIsIFwicGF0Y2hcIiwgU3RyaW5nKGNoaWxkcmVuVG9QYXRjaD8ubGVuZ3RoIHx8IFwiMFwiKV0sXG4gICAgbWFuaWZlc3RcbiAgKTtcblxuICBjaGlsZHJlblRvUGF0Y2gucHVzaCguLi5uZXdSb3V0ZXMpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZShcbiAgbmV3Um91dGU6IEFnbm9zdGljUm91dGVPYmplY3QsXG4gIGV4aXN0aW5nUm91dGU6IEFnbm9zdGljUm91dGVPYmplY3Rcbik6IGJvb2xlYW4ge1xuICAvLyBNb3N0IG9wdGltYWwgY2hlY2sgaXMgYnkgaWRcbiAgaWYgKFxuICAgIFwiaWRcIiBpbiBuZXdSb3V0ZSAmJlxuICAgIFwiaWRcIiBpbiBleGlzdGluZ1JvdXRlICYmXG4gICAgbmV3Um91dGUuaWQgPT09IGV4aXN0aW5nUm91dGUuaWRcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBTZWNvbmQgaXMgYnkgcGF0aGluZyBkaWZmZXJlbmNlc1xuICBpZiAoXG4gICAgIShcbiAgICAgIG5ld1JvdXRlLmluZGV4ID09PSBleGlzdGluZ1JvdXRlLmluZGV4ICYmXG4gICAgICBuZXdSb3V0ZS5wYXRoID09PSBleGlzdGluZ1JvdXRlLnBhdGggJiZcbiAgICAgIG5ld1JvdXRlLmNhc2VTZW5zaXRpdmUgPT09IGV4aXN0aW5nUm91dGUuY2FzZVNlbnNpdGl2ZVxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gUGF0aGxlc3MgbGF5b3V0IHJvdXRlcyBhcmUgdHJpY2tpZXIgc2luY2Ugd2UgbmVlZCB0byBjaGVjayBjaGlsZHJlbi5cbiAgLy8gSWYgdGhleSBoYXZlIG5vIGNoaWxkcmVuIHRoZW4gdGhleSdyZSB0aGUgc2FtZSBhcyBmYXIgYXMgd2UgY2FuIHRlbGxcbiAgaWYgKFxuICAgICghbmV3Um91dGUuY2hpbGRyZW4gfHwgbmV3Um91dGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSAmJlxuICAgICghZXhpc3RpbmdSb3V0ZS5jaGlsZHJlbiB8fCBleGlzdGluZ1JvdXRlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBPdGhlcndpc2UsIHdlIGxvb2sgdG8gc2VlIGlmIGV2ZXJ5IGNoaWxkIGluIHRoZSBuZXcgcm91dGUgaXMgYWxyZWFkeVxuICAvLyByZXByZXNlbnRlZCBpbiB0aGUgZXhpc3Rpbmcgcm91dGUncyBjaGlsZHJlblxuICByZXR1cm4gbmV3Um91dGUuY2hpbGRyZW4hLmV2ZXJ5KChhQ2hpbGQsIGkpID0+XG4gICAgZXhpc3RpbmdSb3V0ZS5jaGlsZHJlbj8uc29tZSgoYkNoaWxkKSA9PiBpc1NhbWVSb3V0ZShhQ2hpbGQsIGJDaGlsZCkpXG4gICk7XG59XG5cbi8qKlxuICogRXhlY3V0ZSByb3V0ZS5sYXp5KCkgbWV0aG9kcyB0byBsYXppbHkgbG9hZCByb3V0ZSBtb2R1bGVzIChsb2FkZXIsIGFjdGlvbixcbiAqIHNob3VsZFJldmFsaWRhdGUpIGFuZCB1cGRhdGUgdGhlIHJvdXRlTWFuaWZlc3QgaW4gcGxhY2Ugd2hpY2ggc2hhcmVzIG9iamVjdHNcbiAqIHdpdGggZGF0YVJvdXRlcyBzbyB0aG9zZSBnZXQgdXBkYXRlZCBhcyB3ZWxsLlxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkTGF6eVJvdXRlTW9kdWxlKFxuICByb3V0ZTogQWdub3N0aWNEYXRhUm91dGVPYmplY3QsXG4gIG1hcFJvdXRlUHJvcGVydGllczogTWFwUm91dGVQcm9wZXJ0aWVzRnVuY3Rpb24sXG4gIG1hbmlmZXN0OiBSb3V0ZU1hbmlmZXN0XG4pIHtcbiAgaWYgKCFyb3V0ZS5sYXp5KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGxhenlSb3V0ZSA9IGF3YWl0IHJvdXRlLmxhenkoKTtcblxuICAvLyBJZiB0aGUgbGF6eSByb3V0ZSBmdW5jdGlvbiB3YXMgZXhlY3V0ZWQgYW5kIHJlbW92ZWQgYnkgYW5vdGhlciBwYXJhbGxlbFxuICAvLyBjYWxsIHRoZW4gd2UgY2FuIHJldHVybiAtIGZpcnN0IGxhenkoKSB0byBmaW5pc2ggd2lucyBiZWNhdXNlIHRoZSByZXR1cm5cbiAgLy8gdmFsdWUgb2YgbGF6eSBpcyBleHBlY3RlZCB0byBiZSBzdGF0aWNcbiAgaWYgKCFyb3V0ZS5sYXp5KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHJvdXRlVG9VcGRhdGUgPSBtYW5pZmVzdFtyb3V0ZS5pZF07XG4gIGludmFyaWFudChyb3V0ZVRvVXBkYXRlLCBcIk5vIHJvdXRlIGZvdW5kIGluIG1hbmlmZXN0XCIpO1xuXG4gIC8vIFVwZGF0ZSB0aGUgcm91dGUgaW4gcGxhY2UuICBUaGlzIHNob3VsZCBiZSBzYWZlIGJlY2F1c2UgdGhlcmUncyBubyB3YXlcbiAgLy8gd2UgY291bGQgeWV0IGJlIHNpdHRpbmcgb24gdGhpcyByb3V0ZSBhcyB3ZSBjYW4ndCBnZXQgdGhlcmUgd2l0aG91dFxuICAvLyByZXNvbHZpbmcgbGF6eSgpIGZpcnN0LlxuICAvL1xuICAvLyBUaGlzIGlzIGRpZmZlcmVudCB0aGFuIHRoZSBITVIgXCJ1cGRhdGVcIiB1c2UtY2FzZSB3aGVyZSB3ZSBtYXkgYWN0aXZlbHkgYmVcbiAgLy8gb24gdGhlIHJvdXRlIGJlaW5nIHVwZGF0ZWQuICBUaGUgbWFpbiBjb25jZXJuIGJvaWxzIGRvd24gdG8gXCJkb2VzIHRoaXNcbiAgLy8gbXV0YXRpb24gYWZmZWN0IGFueSBvbmdvaW5nIG5hdmlnYXRpb25zIG9yIGFueSBjdXJyZW50IHN0YXRlLm1hdGNoZXNcbiAgLy8gdmFsdWVzP1wiLiAgSWYgbm90LCBpdCBzaG91bGQgYmUgc2FmZSB0byB1cGRhdGUgaW4gcGxhY2UuXG4gIGxldCByb3V0ZVVwZGF0ZXM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgZm9yIChsZXQgbGF6eVJvdXRlUHJvcGVydHkgaW4gbGF6eVJvdXRlKSB7XG4gICAgbGV0IHN0YXRpY1JvdXRlVmFsdWUgPVxuICAgICAgcm91dGVUb1VwZGF0ZVtsYXp5Um91dGVQcm9wZXJ0eSBhcyBrZXlvZiB0eXBlb2Ygcm91dGVUb1VwZGF0ZV07XG5cbiAgICBsZXQgaXNQcm9wZXJ0eVN0YXRpY2FsbHlEZWZpbmVkID1cbiAgICAgIHN0YXRpY1JvdXRlVmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBpc24ndCBzdGF0aWMgc2luY2UgaXQgc2hvdWxkIGFsd2F5cyBiZSB1cGRhdGVkIGJhc2VkXG4gICAgICAvLyBvbiB0aGUgcm91dGUgdXBkYXRlc1xuICAgICAgbGF6eVJvdXRlUHJvcGVydHkgIT09IFwiaGFzRXJyb3JCb3VuZGFyeVwiO1xuXG4gICAgd2FybmluZyhcbiAgICAgICFpc1Byb3BlcnR5U3RhdGljYWxseURlZmluZWQsXG4gICAgICBgUm91dGUgXCIke3JvdXRlVG9VcGRhdGUuaWR9XCIgaGFzIGEgc3RhdGljIHByb3BlcnR5IFwiJHtsYXp5Um91dGVQcm9wZXJ0eX1cIiBgICtcbiAgICAgICAgYGRlZmluZWQgYnV0IGl0cyBsYXp5IGZ1bmN0aW9uIGlzIGFsc28gcmV0dXJuaW5nIGEgdmFsdWUgZm9yIHRoaXMgcHJvcGVydHkuIGAgK1xuICAgICAgICBgVGhlIGxhenkgcm91dGUgcHJvcGVydHkgXCIke2xhenlSb3V0ZVByb3BlcnR5fVwiIHdpbGwgYmUgaWdub3JlZC5gXG4gICAgKTtcblxuICAgIGlmIChcbiAgICAgICFpc1Byb3BlcnR5U3RhdGljYWxseURlZmluZWQgJiZcbiAgICAgICFpbW11dGFibGVSb3V0ZUtleXMuaGFzKGxhenlSb3V0ZVByb3BlcnR5IGFzIEltbXV0YWJsZVJvdXRlS2V5KVxuICAgICkge1xuICAgICAgcm91dGVVcGRhdGVzW2xhenlSb3V0ZVByb3BlcnR5XSA9XG4gICAgICAgIGxhenlSb3V0ZVtsYXp5Um91dGVQcm9wZXJ0eSBhcyBrZXlvZiB0eXBlb2YgbGF6eVJvdXRlXTtcbiAgICB9XG4gIH1cblxuICAvLyBNdXRhdGUgdGhlIHJvdXRlIHdpdGggdGhlIHByb3ZpZGVkIHVwZGF0ZXMuICBEbyB0aGlzIGZpcnN0IHNvIHdlIHBhc3NcbiAgLy8gdGhlIHVwZGF0ZWQgdmVyc2lvbiB0byBtYXBSb3V0ZVByb3BlcnRpZXNcbiAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCByb3V0ZVVwZGF0ZXMpO1xuXG4gIC8vIE11dGF0ZSB0aGUgYGhhc0Vycm9yQm91bmRhcnlgIHByb3BlcnR5IG9uIHRoZSByb3V0ZSBiYXNlZCBvbiB0aGUgcm91dGVcbiAgLy8gdXBkYXRlcyBhbmQgcmVtb3ZlIHRoZSBgbGF6eWAgZnVuY3Rpb24gc28gd2UgZG9uJ3QgcmVzb2x2ZSB0aGUgbGF6eVxuICAvLyByb3V0ZSBhZ2Fpbi5cbiAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCB7XG4gICAgLy8gVG8ga2VlcCB0aGluZ3MgZnJhbWV3b3JrIGFnbm9zdGljLCB3ZSB1c2UgdGhlIHByb3ZpZGVkXG4gICAgLy8gYG1hcFJvdXRlUHJvcGVydGllc2AgKG9yIHdyYXBwZWQgYGRldGVjdEVycm9yQm91bmRhcnlgKSBmdW5jdGlvbiB0b1xuICAgIC8vIHNldCB0aGUgZnJhbWV3b3JrLWF3YXJlIHByb3BlcnRpZXMgKGBlbGVtZW50YC9gaGFzRXJyb3JCb3VuZGFyeWApIHNpbmNlXG4gICAgLy8gdGhlIGxvZ2ljIHdpbGwgZGlmZmVyIGJldHdlZW4gZnJhbWV3b3Jrcy5cbiAgICAuLi5tYXBSb3V0ZVByb3BlcnRpZXMocm91dGVUb1VwZGF0ZSksXG4gICAgbGF6eTogdW5kZWZpbmVkLFxuICB9KTtcbn1cblxuLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgZGF0YVN0cmF0ZWd5YCB3aGljaCBmZXRjaGVzIGFsbCBsb2FkZXJzIGluIHBhcmFsbGVsXG5hc3luYyBmdW5jdGlvbiBkZWZhdWx0RGF0YVN0cmF0ZWd5KHtcbiAgbWF0Y2hlcyxcbn06IERhdGFTdHJhdGVneUZ1bmN0aW9uQXJncyk6IFJldHVyblR5cGU8RGF0YVN0cmF0ZWd5RnVuY3Rpb24+IHtcbiAgbGV0IG1hdGNoZXNUb0xvYWQgPSBtYXRjaGVzLmZpbHRlcigobSkgPT4gbS5zaG91bGRMb2FkKTtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChtYXRjaGVzVG9Mb2FkLm1hcCgobSkgPT4gbS5yZXNvbHZlKCkpKTtcbiAgcmV0dXJuIHJlc3VsdHMucmVkdWNlKFxuICAgIChhY2MsIHJlc3VsdCwgaSkgPT5cbiAgICAgIE9iamVjdC5hc3NpZ24oYWNjLCB7IFttYXRjaGVzVG9Mb2FkW2ldLnJvdXRlLmlkXTogcmVzdWx0IH0pLFxuICAgIHt9XG4gICk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3lJbXBsKFxuICBkYXRhU3RyYXRlZ3lJbXBsOiBEYXRhU3RyYXRlZ3lGdW5jdGlvbixcbiAgdHlwZTogXCJsb2FkZXJcIiB8IFwiYWN0aW9uXCIsXG4gIHN0YXRlOiBSb3V0ZXJTdGF0ZSB8IG51bGwsXG4gIHJlcXVlc3Q6IFJlcXVlc3QsXG4gIG1hdGNoZXNUb0xvYWQ6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICBmZXRjaGVyS2V5OiBzdHJpbmcgfCBudWxsLFxuICBtYW5pZmVzdDogUm91dGVNYW5pZmVzdCxcbiAgbWFwUm91dGVQcm9wZXJ0aWVzOiBNYXBSb3V0ZVByb3BlcnRpZXNGdW5jdGlvbixcbiAgcmVxdWVzdENvbnRleHQ/OiB1bmtub3duXG4pOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIERhdGFTdHJhdGVneVJlc3VsdD4+IHtcbiAgbGV0IGxvYWRSb3V0ZURlZmluaXRpb25zUHJvbWlzZXMgPSBtYXRjaGVzLm1hcCgobSkgPT5cbiAgICBtLnJvdXRlLmxhenlcbiAgICAgID8gbG9hZExhenlSb3V0ZU1vZHVsZShtLnJvdXRlLCBtYXBSb3V0ZVByb3BlcnRpZXMsIG1hbmlmZXN0KVxuICAgICAgOiB1bmRlZmluZWRcbiAgKTtcblxuICBsZXQgZHNNYXRjaGVzID0gbWF0Y2hlcy5tYXAoKG1hdGNoLCBpKSA9PiB7XG4gICAgbGV0IGxvYWRSb3V0ZVByb21pc2UgPSBsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzW2ldO1xuICAgIGxldCBzaG91bGRMb2FkID0gbWF0Y2hlc1RvTG9hZC5zb21lKChtKSA9PiBtLnJvdXRlLmlkID09PSBtYXRjaC5yb3V0ZS5pZCk7XG4gICAgLy8gYHJlc29sdmVgIGVuY2Fwc3VsYXRlcyByb3V0ZS5sYXp5KCksIGV4ZWN1dGluZyB0aGUgbG9hZGVyL2FjdGlvbixcbiAgICAvLyBhbmQgbWFwcGluZyByZXR1cm4gdmFsdWVzL3Rocm93biBlcnJvcnMgdG8gYSBgRGF0YVN0cmF0ZWd5UmVzdWx0YC4gIFVzZXJzXG4gICAgLy8gY2FuIHBhc3MgYSBjYWxsYmFjayB0byB0YWtlIGZpbmUtZ3JhaW5lZCBjb250cm9sIG92ZXIgdGhlIGV4ZWN1dGlvblxuICAgIC8vIG9mIHRoZSBsb2FkZXIvYWN0aW9uXG4gICAgbGV0IHJlc29sdmU6IERhdGFTdHJhdGVneU1hdGNoW1wicmVzb2x2ZVwiXSA9IGFzeW5jIChoYW5kbGVyT3ZlcnJpZGUpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgaGFuZGxlck92ZXJyaWRlICYmXG4gICAgICAgIHJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiICYmXG4gICAgICAgIChtYXRjaC5yb3V0ZS5sYXp5IHx8IG1hdGNoLnJvdXRlLmxvYWRlcilcbiAgICAgICkge1xuICAgICAgICBzaG91bGRMb2FkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaG91bGRMb2FkXG4gICAgICAgID8gY2FsbExvYWRlck9yQWN0aW9uKFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICAgIGxvYWRSb3V0ZVByb21pc2UsXG4gICAgICAgICAgICBoYW5kbGVyT3ZlcnJpZGUsXG4gICAgICAgICAgICByZXF1ZXN0Q29udGV4dFxuICAgICAgICAgIClcbiAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiBSZXN1bHRUeXBlLmRhdGEsIHJlc3VsdDogdW5kZWZpbmVkIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ubWF0Y2gsXG4gICAgICBzaG91bGRMb2FkLFxuICAgICAgcmVzb2x2ZSxcbiAgICB9O1xuICB9KTtcblxuICAvLyBTZW5kIGFsbCBtYXRjaGVzIGhlcmUgdG8gYWxsb3cgZm9yIGEgbWlkZGxld2FyZS10eXBlIGltcGxlbWVudGF0aW9uLlxuICAvLyBoYW5kbGVyIHdpbGwgYmUgYSBuby1vcCBmb3IgdW5uZWVkZWQgcm91dGVzIGFuZCB3ZSBmaWx0ZXIgdGhvc2UgcmVzdWx0c1xuICAvLyBiYWNrIG91dCBiZWxvdy5cbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBkYXRhU3RyYXRlZ3lJbXBsKHtcbiAgICBtYXRjaGVzOiBkc01hdGNoZXMsXG4gICAgcmVxdWVzdCxcbiAgICBwYXJhbXM6IG1hdGNoZXNbMF0ucGFyYW1zLFxuICAgIGZldGNoZXJLZXksXG4gICAgY29udGV4dDogcmVxdWVzdENvbnRleHQsXG4gIH0pO1xuXG4gIC8vIFdhaXQgZm9yIGFsbCByb3V0ZXMgdG8gbG9hZCBoZXJlIGJ1dCAnc3dhbGxvdyB0aGUgZXJyb3Igc2luY2Ugd2Ugd2FudFxuICAvLyBpdCB0byBidWJibGUgdXAgZnJvbSB0aGUgYGF3YWl0IGxvYWRSb3V0ZVByb21pc2VgIGluIGBjYWxsTG9hZGVyT3JBY3Rpb25gIC1cbiAgLy8gY2FsbGVkIGZyb20gYG1hdGNoLnJlc29sdmUoKWBcbiAgdHJ5IHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIE5vLW9wXG4gIH1cblxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuLy8gRGVmYXVsdCBsb2dpYyBmb3IgY2FsbGluZyBhIGxvYWRlci9hY3Rpb24gaXMgdGhlIHVzZXIgaGFzIG5vIHNwZWNpZmllZCBhIGRhdGFTdHJhdGVneVxuYXN5bmMgZnVuY3Rpb24gY2FsbExvYWRlck9yQWN0aW9uKFxuICB0eXBlOiBcImxvYWRlclwiIHwgXCJhY3Rpb25cIixcbiAgcmVxdWVzdDogUmVxdWVzdCxcbiAgbWF0Y2g6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gsXG4gIGxvYWRSb3V0ZVByb21pc2U6IFByb21pc2U8dm9pZD4gfCB1bmRlZmluZWQsXG4gIGhhbmRsZXJPdmVycmlkZTogUGFyYW1ldGVyczxEYXRhU3RyYXRlZ3lNYXRjaFtcInJlc29sdmVcIl0+WzBdLFxuICBzdGF0aWNDb250ZXh0PzogdW5rbm93blxuKTogUHJvbWlzZTxEYXRhU3RyYXRlZ3lSZXN1bHQ+IHtcbiAgbGV0IHJlc3VsdDogRGF0YVN0cmF0ZWd5UmVzdWx0O1xuICBsZXQgb25SZWplY3Q6ICgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcblxuICBsZXQgcnVuSGFuZGxlciA9IChcbiAgICBoYW5kbGVyOiBBZ25vc3RpY1JvdXRlT2JqZWN0W1wibG9hZGVyXCJdIHwgQWdub3N0aWNSb3V0ZU9iamVjdFtcImFjdGlvblwiXVxuICApOiBQcm9taXNlPERhdGFTdHJhdGVneVJlc3VsdD4gPT4ge1xuICAgIC8vIFNldHVwIGEgcHJvbWlzZSB3ZSBjYW4gcmFjZSBhZ2FpbnN0IHNvIHRoYXQgYWJvcnQgc2lnbmFscyBzaG9ydCBjaXJjdWl0XG4gICAgbGV0IHJlamVjdDogKCkgPT4gdm9pZDtcbiAgICAvLyBUaGlzIHdpbGwgbmV2ZXIgcmVzb2x2ZSBzbyBzYWZlIHRvIHR5cGUgaXQgYXMgUHJvbWlzZTxEYXRhU3RyYXRlZ3lSZXN1bHQ+IHRvXG4gICAgLy8gc2F0aXNmeSB0aGUgZnVuY3Rpb24gcmV0dXJuIHZhbHVlXG4gICAgbGV0IGFib3J0UHJvbWlzZSA9IG5ldyBQcm9taXNlPERhdGFTdHJhdGVneVJlc3VsdD4oKF8sIHIpID0+IChyZWplY3QgPSByKSk7XG4gICAgb25SZWplY3QgPSAoKSA9PiByZWplY3QoKTtcbiAgICByZXF1ZXN0LnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25SZWplY3QpO1xuXG4gICAgbGV0IGFjdHVhbEhhbmRsZXIgPSAoY3R4PzogdW5rbm93bikgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgIG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBZb3UgY2Fubm90IGNhbGwgdGhlIGhhbmRsZXIgZm9yIGEgcm91dGUgd2hpY2ggZGVmaW5lcyBhIGJvb2xlYW4gYCArXG4gICAgICAgICAgICAgIGBcIiR7dHlwZX1cIiBbcm91dGVJZDogJHttYXRjaC5yb3V0ZS5pZH1dYFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYW5kbGVyKFxuICAgICAgICB7XG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBwYXJhbXM6IG1hdGNoLnBhcmFtcyxcbiAgICAgICAgICBjb250ZXh0OiBzdGF0aWNDb250ZXh0LFxuICAgICAgICB9LFxuICAgICAgICAuLi4oY3R4ICE9PSB1bmRlZmluZWQgPyBbY3R4XSA6IFtdKVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgbGV0IGhhbmRsZXJQcm9taXNlOiBQcm9taXNlPERhdGFTdHJhdGVneVJlc3VsdD4gPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHZhbCA9IGF3YWl0IChoYW5kbGVyT3ZlcnJpZGVcbiAgICAgICAgICA/IGhhbmRsZXJPdmVycmlkZSgoY3R4OiB1bmtub3duKSA9PiBhY3R1YWxIYW5kbGVyKGN0eCkpXG4gICAgICAgICAgOiBhY3R1YWxIYW5kbGVyKCkpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0OiB2YWwgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmFjZShbaGFuZGxlclByb21pc2UsIGFib3J0UHJvbWlzZV0pO1xuICB9O1xuXG4gIHRyeSB7XG4gICAgbGV0IGhhbmRsZXIgPSBtYXRjaC5yb3V0ZVt0eXBlXTtcblxuICAgIC8vIElmIHdlIGhhdmUgYSByb3V0ZS5sYXp5IHByb21pc2UsIGF3YWl0IHRoYXQgZmlyc3RcbiAgICBpZiAobG9hZFJvdXRlUHJvbWlzZSkge1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgLy8gUnVuIHN0YXRpY2FsbHkgZGVmaW5lZCBoYW5kbGVyIGluIHBhcmFsbGVsIHdpdGggbGF6eSgpXG4gICAgICAgIGxldCBoYW5kbGVyRXJyb3I7XG4gICAgICAgIGxldCBbdmFsdWVdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIHRocm93cywgZG9uJ3QgbGV0IGl0IGltbWVkaWF0ZWx5IGJ1YmJsZSBvdXQsXG4gICAgICAgICAgLy8gc2luY2Ugd2UgbmVlZCB0byBsZXQgdGhlIGxhenkoKSBleGVjdXRpb24gZmluaXNoIHNvIHdlIGtub3cgaWYgdGhpc1xuICAgICAgICAgIC8vIHJvdXRlIGhhcyBhIGJvdW5kYXJ5IHRoYXQgY2FuIGhhbmRsZSB0aGUgZXJyb3JcbiAgICAgICAgICBydW5IYW5kbGVyKGhhbmRsZXIpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyRXJyb3IgPSBlO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIGxvYWRSb3V0ZVByb21pc2UsXG4gICAgICAgIF0pO1xuICAgICAgICBpZiAoaGFuZGxlckVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBoYW5kbGVyRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gdmFsdWUhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTG9hZCBsYXp5IHJvdXRlIG1vZHVsZSwgdGhlbiBydW4gYW55IHJldHVybmVkIGhhbmRsZXJcbiAgICAgICAgYXdhaXQgbG9hZFJvdXRlUHJvbWlzZTtcblxuICAgICAgICBoYW5kbGVyID0gbWF0Y2gucm91dGVbdHlwZV07XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgLy8gSGFuZGxlciBzdGlsbCBydW5zIGV2ZW4gaWYgd2UgZ290IGludGVycnVwdGVkIHRvIG1haW50YWluIGNvbnNpc3RlbmN5XG4gICAgICAgICAgLy8gd2l0aCB1bi1hYm9ydGFibGUgYmVoYXZpb3Igb2YgaGFuZGxlciBleGVjdXRpb24gb24gbm9uLWxhenkgb3JcbiAgICAgICAgICAvLyBwcmV2aW91c2x5LWxhenktbG9hZGVkIHJvdXRlc1xuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHJ1bkhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJhY3Rpb25cIikge1xuICAgICAgICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgICAgICBsZXQgcGF0aG5hbWUgPSB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoO1xuICAgICAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgICAgICByb3V0ZUlkOiBtYXRjaC5yb3V0ZS5pZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBsYXp5KCkgcm91dGUgaGFzIG5vIGxvYWRlciB0byBydW4uICBTaG9ydCBjaXJjdWl0IGhlcmUgc28gd2UgZG9uJ3RcbiAgICAgICAgICAvLyBoaXQgdGhlIGludmFyaWFudCBiZWxvdyB0aGF0IGVycm9ycyBvbiByZXR1cm5pbmcgdW5kZWZpbmVkLlxuICAgICAgICAgIHJldHVybiB7IHR5cGU6IFJlc3VsdFR5cGUuZGF0YSwgcmVzdWx0OiB1bmRlZmluZWQgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgIGxldCBwYXRobmFtZSA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgICBwYXRobmFtZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBydW5IYW5kbGVyKGhhbmRsZXIpO1xuICAgIH1cblxuICAgIGludmFyaWFudChcbiAgICAgIHJlc3VsdC5yZXN1bHQgIT09IHVuZGVmaW5lZCxcbiAgICAgIGBZb3UgZGVmaW5lZCAke3R5cGUgPT09IFwiYWN0aW9uXCIgPyBcImFuIGFjdGlvblwiIDogXCJhIGxvYWRlclwifSBmb3Igcm91dGUgYCArXG4gICAgICAgIGBcIiR7bWF0Y2gucm91dGUuaWR9XCIgYnV0IGRpZG4ndCByZXR1cm4gYW55dGhpbmcgZnJvbSB5b3VyIFxcYCR7dHlwZX1cXGAgYCArXG4gICAgICAgIGBmdW5jdGlvbi4gUGxlYXNlIHJldHVybiBhIHZhbHVlIG9yIFxcYG51bGxcXGAuYFxuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBXZSBzaG91bGQgYWxyZWFkeSBiZSBjYXRjaGluZyBhbmQgY29udmVydGluZyBub3JtYWwgaGFuZGxlciBleGVjdXRpb25zIHRvXG4gICAgLy8gRGF0YVN0cmF0ZWd5UmVzdWx0cyBhbmQgcmV0dXJuaW5nIHRoZW0sIHNvIGFueXRoaW5nIHRoYXQgdGhyb3dzIGhlcmUgaXMgYW5cbiAgICAvLyB1bmV4cGVjdGVkIGVycm9yIHdlIHN0aWxsIG5lZWQgdG8gd3JhcFxuICAgIHJldHVybiB7IHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsIHJlc3VsdDogZSB9O1xuICB9IGZpbmFsbHkge1xuICAgIGlmIChvblJlamVjdCkge1xuICAgICAgcmVxdWVzdC5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uUmVqZWN0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KFxuICBkYXRhU3RyYXRlZ3lSZXN1bHQ6IERhdGFTdHJhdGVneVJlc3VsdFxuKTogUHJvbWlzZTxEYXRhUmVzdWx0PiB7XG4gIGxldCB7IHJlc3VsdCwgdHlwZSB9ID0gZGF0YVN0cmF0ZWd5UmVzdWx0O1xuXG4gIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICBsZXQgZGF0YTogYW55O1xuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBjb250ZW50VHlwZSA9IHJlc3VsdC5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgIC8vIENoZWNrIGJldHdlZW4gd29yZCBib3VuZGFyaWVzIGluc3RlYWQgb2Ygc3RhcnRzV2l0aCgpIGR1ZSB0byB0aGUgbGFzdFxuICAgICAgLy8gcGFyYWdyYXBoIG9mIGh0dHBzOi8vaHR0cHdnLm9yZy9zcGVjcy9yZmM5MTEwLmh0bWwjZmllbGQuY29udGVudC10eXBlXG4gICAgICBpZiAoY29udGVudFR5cGUgJiYgL1xcYmFwcGxpY2F0aW9uXFwvanNvblxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5ib2R5ID09IG51bGwpIHtcbiAgICAgICAgICBkYXRhID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhID0gYXdhaXQgcmVzdWx0Lmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YSA9IGF3YWl0IHJlc3VsdC50ZXh0KCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogUmVzdWx0VHlwZS5lcnJvciwgZXJyb3I6IGUgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gUmVzdWx0VHlwZS5lcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUmVzdWx0VHlwZS5lcnJvcixcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvclJlc3BvbnNlSW1wbChyZXN1bHQuc3RhdHVzLCByZXN1bHQuc3RhdHVzVGV4dCwgZGF0YSksXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXMsXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogUmVzdWx0VHlwZS5kYXRhLFxuICAgICAgZGF0YSxcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXMsXG4gICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVycyxcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFJlc3VsdFR5cGUuZXJyb3IpIHtcbiAgICBpZiAoaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChyZXN1bHQpKSB7XG4gICAgICBpZiAocmVzdWx0LmRhdGEgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgICAgZXJyb3I6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5pbml0Py5zdGF0dXMsXG4gICAgICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnNcbiAgICAgICAgICAgID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IHRocm93biBkYXRhKCkgdG8gRXJyb3JSZXNwb25zZSBpbnN0YW5jZXNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgICAgICAgcmVzdWx0LmluaXQ/LnN0YXR1cyB8fCA1MDAsXG4gICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgIHJlc3VsdC5kYXRhXG4gICAgICAgICksXG4gICAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdCkgPyByZXN1bHQuc3RhdHVzIDogdW5kZWZpbmVkLFxuICAgICAgICBoZWFkZXJzOiByZXN1bHQuaW5pdD8uaGVhZGVyc1xuICAgICAgICAgID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycylcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBSZXN1bHRUeXBlLmVycm9yLFxuICAgICAgZXJyb3I6IHJlc3VsdCxcbiAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdCkgPyByZXN1bHQuc3RhdHVzIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICBpZiAoaXNEZWZlcnJlZERhdGEocmVzdWx0KSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBSZXN1bHRUeXBlLmRlZmVycmVkLFxuICAgICAgZGVmZXJyZWREYXRhOiByZXN1bHQsXG4gICAgICBzdGF0dXNDb2RlOiByZXN1bHQuaW5pdD8uc3RhdHVzLFxuICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnMgJiYgbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycyksXG4gICAgfTtcbiAgfVxuXG4gIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogUmVzdWx0VHlwZS5kYXRhLFxuICAgICAgZGF0YTogcmVzdWx0LmRhdGEsXG4gICAgICBzdGF0dXNDb2RlOiByZXN1bHQuaW5pdD8uc3RhdHVzLFxuICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnNcbiAgICAgICAgPyBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHsgdHlwZTogUmVzdWx0VHlwZS5kYXRhLCBkYXRhOiByZXN1bHQgfTtcbn1cblxuLy8gU3VwcG9ydCByZWxhdGl2ZSByb3V0aW5nIGluIGludGVybmFsIHJlZGlyZWN0c1xuZnVuY3Rpb24gbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShcbiAgcmVzcG9uc2U6IFJlc3BvbnNlLFxuICByZXF1ZXN0OiBSZXF1ZXN0LFxuICByb3V0ZUlkOiBzdHJpbmcsXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgYmFzZW5hbWU6IHN0cmluZyxcbiAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGJvb2xlYW5cbikge1xuICBsZXQgbG9jYXRpb24gPSByZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICBpbnZhcmlhbnQoXG4gICAgbG9jYXRpb24sXG4gICAgXCJSZWRpcmVjdHMgcmV0dXJuZWQvdGhyb3duIGZyb20gbG9hZGVycy9hY3Rpb25zIG11c3QgaGF2ZSBhIExvY2F0aW9uIGhlYWRlclwiXG4gICk7XG5cbiAgaWYgKCFBQlNPTFVURV9VUkxfUkVHRVgudGVzdChsb2NhdGlvbikpIHtcbiAgICBsZXQgdHJpbW1lZE1hdGNoZXMgPSBtYXRjaGVzLnNsaWNlKFxuICAgICAgMCxcbiAgICAgIG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSArIDFcbiAgICApO1xuICAgIGxvY2F0aW9uID0gbm9ybWFsaXplVG8oXG4gICAgICBuZXcgVVJMKHJlcXVlc3QudXJsKSxcbiAgICAgIHRyaW1tZWRNYXRjaGVzLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICB0cnVlLFxuICAgICAgbG9jYXRpb24sXG4gICAgICB2N19yZWxhdGl2ZVNwbGF0UGF0aFxuICAgICk7XG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoXCJMb2NhdGlvblwiLCBsb2NhdGlvbik7XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJlZGlyZWN0TG9jYXRpb24oXG4gIGxvY2F0aW9uOiBzdHJpbmcsXG4gIGN1cnJlbnRVcmw6IFVSTCxcbiAgYmFzZW5hbWU6IHN0cmluZ1xuKTogc3RyaW5nIHtcbiAgaWYgKEFCU09MVVRFX1VSTF9SRUdFWC50ZXN0KGxvY2F0aW9uKSkge1xuICAgIC8vIFN0cmlwIG9mZiB0aGUgcHJvdG9jb2wrb3JpZ2luIGZvciBzYW1lLW9yaWdpbiArIHNhbWUtYmFzZW5hbWUgYWJzb2x1dGUgcmVkaXJlY3RzXG4gICAgbGV0IG5vcm1hbGl6ZWRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgIGxldCB1cmwgPSBub3JtYWxpemVkTG9jYXRpb24uc3RhcnRzV2l0aChcIi8vXCIpXG4gICAgICA/IG5ldyBVUkwoY3VycmVudFVybC5wcm90b2NvbCArIG5vcm1hbGl6ZWRMb2NhdGlvbilcbiAgICAgIDogbmV3IFVSTChub3JtYWxpemVkTG9jYXRpb24pO1xuICAgIGxldCBpc1NhbWVCYXNlbmFtZSA9IHN0cmlwQmFzZW5hbWUodXJsLnBhdGhuYW1lLCBiYXNlbmFtZSkgIT0gbnVsbDtcbiAgICBpZiAodXJsLm9yaWdpbiA9PT0gY3VycmVudFVybC5vcmlnaW4gJiYgaXNTYW1lQmFzZW5hbWUpIHtcbiAgICAgIHJldHVybiB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoICsgdXJsLmhhc2g7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb2NhdGlvbjtcbn1cblxuLy8gVXRpbGl0eSBtZXRob2QgZm9yIGNyZWF0aW5nIHRoZSBSZXF1ZXN0IGluc3RhbmNlcyBmb3IgbG9hZGVycy9hY3Rpb25zIGR1cmluZ1xuLy8gY2xpZW50LXNpZGUgbmF2aWdhdGlvbnMgYW5kIGZldGNoZXMuICBEdXJpbmcgU1NSIHdlIHdpbGwgYWx3YXlzIGhhdmUgYVxuLy8gUmVxdWVzdCBpbnN0YW5jZSBmcm9tIHRoZSBzdGF0aWMgaGFuZGxlciAocXVlcnkvcXVlcnlSb3V0ZSlcbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICBoaXN0b3J5OiBIaXN0b3J5LFxuICBsb2NhdGlvbjogc3RyaW5nIHwgTG9jYXRpb24sXG4gIHNpZ25hbDogQWJvcnRTaWduYWwsXG4gIHN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uXG4pOiBSZXF1ZXN0IHtcbiAgbGV0IHVybCA9IGhpc3RvcnkuY3JlYXRlVVJMKHN0cmlwSGFzaEZyb21QYXRoKGxvY2F0aW9uKSkudG9TdHJpbmcoKTtcbiAgbGV0IGluaXQ6IFJlcXVlc3RJbml0ID0geyBzaWduYWwgfTtcblxuICBpZiAoc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICBsZXQgeyBmb3JtTWV0aG9kLCBmb3JtRW5jVHlwZSB9ID0gc3VibWlzc2lvbjtcbiAgICAvLyBEaWRuJ3QgdGhpbmsgd2UgbmVlZGVkIHRoaXMgYnV0IGl0IHR1cm5zIG91dCB1bmxpa2Ugb3RoZXIgbWV0aG9kcywgcGF0Y2hcbiAgICAvLyB3b24ndCBiZSBwcm9wZXJseSBub3JtYWxpemVkIHRvIHVwcGVyY2FzZSBhbmQgcmVzdWx0cyBpbiBhIDQwNSBlcnJvci5cbiAgICAvLyBTZWU6IGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LW1ldGhvZFxuICAgIGluaXQubWV0aG9kID0gZm9ybU1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuXG4gICAgaWYgKGZvcm1FbmNUeXBlID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgaW5pdC5oZWFkZXJzID0gbmV3IEhlYWRlcnMoeyBcIkNvbnRlbnQtVHlwZVwiOiBmb3JtRW5jVHlwZSB9KTtcbiAgICAgIGluaXQuYm9keSA9IEpTT04uc3RyaW5naWZ5KHN1Ym1pc3Npb24uanNvbik7XG4gICAgfSBlbHNlIGlmIChmb3JtRW5jVHlwZSA9PT0gXCJ0ZXh0L3BsYWluXCIpIHtcbiAgICAgIC8vIENvbnRlbnQtVHlwZSBpcyBpbmZlcnJlZCAoaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2RvbS1yZXF1ZXN0KVxuICAgICAgaW5pdC5ib2R5ID0gc3VibWlzc2lvbi50ZXh0O1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBmb3JtRW5jVHlwZSA9PT0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiAmJlxuICAgICAgc3VibWlzc2lvbi5mb3JtRGF0YVxuICAgICkge1xuICAgICAgLy8gQ29udGVudC1UeXBlIGlzIGluZmVycmVkIChodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jZG9tLXJlcXVlc3QpXG4gICAgICBpbml0LmJvZHkgPSBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhzdWJtaXNzaW9uLmZvcm1EYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29udGVudC1UeXBlIGlzIGluZmVycmVkIChodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jZG9tLXJlcXVlc3QpXG4gICAgICBpbml0LmJvZHkgPSBzdWJtaXNzaW9uLmZvcm1EYXRhO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgUmVxdWVzdCh1cmwsIGluaXQpO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhmb3JtRGF0YTogRm9ybURhdGEpOiBVUkxTZWFyY2hQYXJhbXMge1xuICBsZXQgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuXG4gIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHtcbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3JtLWNvbnRyb2wtaW5mcmFzdHJ1Y3R1cmUuaHRtbCNjb252ZXJ0aW5nLWFuLWVudHJ5LWxpc3QtdG8tYS1saXN0LW9mLW5hbWUtdmFsdWUtcGFpcnNcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUgOiB2YWx1ZS5uYW1lKTtcbiAgfVxuXG4gIHJldHVybiBzZWFyY2hQYXJhbXM7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRTZWFyY2hQYXJhbXNUb0Zvcm1EYXRhKFxuICBzZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtc1xuKTogRm9ybURhdGEge1xuICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIHNlYXJjaFBhcmFtcy5lbnRyaWVzKCkpIHtcbiAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzUm91dGVMb2FkZXJEYXRhKFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+LFxuICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBQZW5kaW5nQWN0aW9uUmVzdWx0IHwgdW5kZWZpbmVkLFxuICBhY3RpdmVEZWZlcnJlZHM6IE1hcDxzdHJpbmcsIERlZmVycmVkRGF0YT4sXG4gIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nOiBib29sZWFuXG4pOiB7XG4gIGxvYWRlckRhdGE6IFJvdXRlclN0YXRlW1wibG9hZGVyRGF0YVwiXTtcbiAgZXJyb3JzOiBSb3V0ZXJTdGF0ZVtcImVycm9yc1wiXSB8IG51bGw7XG4gIHN0YXR1c0NvZGU6IG51bWJlcjtcbiAgbG9hZGVySGVhZGVyczogUmVjb3JkPHN0cmluZywgSGVhZGVycz47XG59IHtcbiAgLy8gRmlsbCBpbiBsb2FkZXJEYXRhL2Vycm9ycyBmcm9tIG91ciBsb2FkZXJzXG4gIGxldCBsb2FkZXJEYXRhOiBSb3V0ZXJTdGF0ZVtcImxvYWRlckRhdGFcIl0gPSB7fTtcbiAgbGV0IGVycm9yczogUm91dGVyU3RhdGVbXCJlcnJvcnNcIl0gfCBudWxsID0gbnVsbDtcbiAgbGV0IHN0YXR1c0NvZGU6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgbGV0IGZvdW5kRXJyb3IgPSBmYWxzZTtcbiAgbGV0IGxvYWRlckhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIEhlYWRlcnM+ID0ge307XG4gIGxldCBwZW5kaW5nRXJyb3IgPVxuICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKVxuICAgICAgPyBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAvLyBQcm9jZXNzIGxvYWRlciByZXN1bHRzIGludG8gc3RhdGUubG9hZGVyRGF0YS9zdGF0ZS5lcnJvcnNcbiAgbWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT4ge1xuICAgIGlmICghKG1hdGNoLnJvdXRlLmlkIGluIHJlc3VsdHMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgIGxldCByZXN1bHQgPSByZXN1bHRzW2lkXTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpLFxuICAgICAgXCJDYW5ub3QgaGFuZGxlIHJlZGlyZWN0IHJlc3VsdHMgaW4gcHJvY2Vzc0xvYWRlckRhdGFcIlxuICAgICk7XG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGVycm9yID0gcmVzdWx0LmVycm9yO1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBlbmRpbmcgYWN0aW9uIGVycm9yLCB3ZSByZXBvcnQgaXQgYXQgdGhlIGhpZ2hlc3Qtcm91dGVcbiAgICAgIC8vIHRoYXQgdGhyb3dzIGEgbG9hZGVyIGVycm9yLCBhbmQgdGhlbiBjbGVhciBpdCBvdXQgdG8gaW5kaWNhdGUgdGhhdFxuICAgICAgLy8gaXQgd2FzIGNvbnN1bWVkXG4gICAgICBpZiAocGVuZGluZ0Vycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXJyb3IgPSBwZW5kaW5nRXJyb3I7XG4gICAgICAgIHBlbmRpbmdFcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IHt9O1xuXG4gICAgICBpZiAoc2tpcExvYWRlckVycm9yQnViYmxpbmcpIHtcbiAgICAgICAgZXJyb3JzW2lkXSA9IGVycm9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTG9vayB1cHdhcmRzIGZyb20gdGhlIG1hdGNoZWQgcm91dGUgZm9yIHRoZSBjbG9zZXN0IGFuY2VzdG9yIGVycm9yXG4gICAgICAgIC8vIGJvdW5kYXJ5LCBkZWZhdWx0aW5nIHRvIHRoZSByb290IG1hdGNoLiAgUHJlZmVyIGhpZ2hlciBlcnJvciB2YWx1ZXNcbiAgICAgICAgLy8gaWYgbG93ZXIgZXJyb3JzIGJ1YmJsZSB0byB0aGUgc2FtZSBib3VuZGFyeVxuICAgICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgaWQpO1xuICAgICAgICBpZiAoZXJyb3JzW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdID09IG51bGwpIHtcbiAgICAgICAgICBlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0gPSBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBvdXIgYW55IHByaW9yIGxvYWRlckRhdGEgZm9yIHRoZSB0aHJvd2luZyByb3V0ZVxuICAgICAgbG9hZGVyRGF0YVtpZF0gPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIE9uY2Ugd2UgZmluZCBvdXIgZmlyc3QgKGhpZ2hlc3QpIGVycm9yLCB3ZSBzZXQgdGhlIHN0YXR1cyBjb2RlIGFuZFxuICAgICAgLy8gcHJldmVudCBkZWVwZXIgc3RhdHVzIGNvZGVzIGZyb20gb3ZlcnJpZGluZ1xuICAgICAgaWYgKCFmb3VuZEVycm9yKSB7XG4gICAgICAgIGZvdW5kRXJyb3IgPSB0cnVlO1xuICAgICAgICBzdGF0dXNDb2RlID0gaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKVxuICAgICAgICAgID8gcmVzdWx0LmVycm9yLnN0YXR1c1xuICAgICAgICAgIDogNTAwO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdC5oZWFkZXJzKSB7XG4gICAgICAgIGxvYWRlckhlYWRlcnNbaWRdID0gcmVzdWx0LmhlYWRlcnM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc0RlZmVycmVkUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgYWN0aXZlRGVmZXJyZWRzLnNldChpZCwgcmVzdWx0LmRlZmVycmVkRGF0YSk7XG4gICAgICAgIGxvYWRlckRhdGFbaWRdID0gcmVzdWx0LmRlZmVycmVkRGF0YS5kYXRhO1xuICAgICAgICAvLyBFcnJvciBzdGF0dXMgY29kZXMgYWx3YXlzIG92ZXJyaWRlIHN1Y2Nlc3Mgc3RhdHVzIGNvZGVzLCBidXQgaWYgYWxsXG4gICAgICAgIC8vIGxvYWRlcnMgYXJlIHN1Y2Nlc3NmdWwgd2UgdGFrZSB0aGUgZGVlcGVzdCBzdGF0dXMgY29kZS5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHJlc3VsdC5zdGF0dXNDb2RlICE9IG51bGwgJiZcbiAgICAgICAgICByZXN1bHQuc3RhdHVzQ29kZSAhPT0gMjAwICYmXG4gICAgICAgICAgIWZvdW5kRXJyb3JcbiAgICAgICAgKSB7XG4gICAgICAgICAgc3RhdHVzQ29kZSA9IHJlc3VsdC5zdGF0dXNDb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQuaGVhZGVycykge1xuICAgICAgICAgIGxvYWRlckhlYWRlcnNbaWRdID0gcmVzdWx0LmhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvYWRlckRhdGFbaWRdID0gcmVzdWx0LmRhdGE7XG4gICAgICAgIC8vIEVycm9yIHN0YXR1cyBjb2RlcyBhbHdheXMgb3ZlcnJpZGUgc3VjY2VzcyBzdGF0dXMgY29kZXMsIGJ1dCBpZiBhbGxcbiAgICAgICAgLy8gbG9hZGVycyBhcmUgc3VjY2Vzc2Z1bCB3ZSB0YWtlIHRoZSBkZWVwZXN0IHN0YXR1cyBjb2RlLlxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1c0NvZGUgJiYgcmVzdWx0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiAhZm91bmRFcnJvcikge1xuICAgICAgICAgIHN0YXR1c0NvZGUgPSByZXN1bHQuc3RhdHVzQ29kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LmhlYWRlcnMpIHtcbiAgICAgICAgICBsb2FkZXJIZWFkZXJzW2lkXSA9IHJlc3VsdC5oZWFkZXJzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBJZiB3ZSBkaWRuJ3QgY29uc3VtZSB0aGUgcGVuZGluZyBhY3Rpb24gZXJyb3IgKGkuZS4sIGFsbCBsb2FkZXJzXG4gIC8vIHJlc29sdmVkKSwgdGhlbiBjb25zdW1lIGl0IGhlcmUuICBBbHNvIGNsZWFyIG91dCBhbnkgbG9hZGVyRGF0YSBmb3IgdGhlXG4gIC8vIHRocm93aW5nIHJvdXRlXG4gIGlmIChwZW5kaW5nRXJyb3IgIT09IHVuZGVmaW5lZCAmJiBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgZXJyb3JzID0geyBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdFcnJvciB9O1xuICAgIGxvYWRlckRhdGFbcGVuZGluZ0FjdGlvblJlc3VsdFswXV0gPSB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxvYWRlckRhdGEsXG4gICAgZXJyb3JzLFxuICAgIHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUgfHwgMjAwLFxuICAgIGxvYWRlckhlYWRlcnMsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NMb2FkZXJEYXRhKFxuICBzdGF0ZTogUm91dGVyU3RhdGUsXG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXSxcbiAgcmVzdWx0czogUmVjb3JkPHN0cmluZywgRGF0YVJlc3VsdD4sXG4gIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFBlbmRpbmdBY3Rpb25SZXN1bHQgfCB1bmRlZmluZWQsXG4gIHJldmFsaWRhdGluZ0ZldGNoZXJzOiBSZXZhbGlkYXRpbmdGZXRjaGVyW10sXG4gIGZldGNoZXJSZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0PixcbiAgYWN0aXZlRGVmZXJyZWRzOiBNYXA8c3RyaW5nLCBEZWZlcnJlZERhdGE+XG4pOiB7XG4gIGxvYWRlckRhdGE6IFJvdXRlclN0YXRlW1wibG9hZGVyRGF0YVwiXTtcbiAgZXJyb3JzPzogUm91dGVyU3RhdGVbXCJlcnJvcnNcIl07XG59IHtcbiAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzIH0gPSBwcm9jZXNzUm91dGVMb2FkZXJEYXRhKFxuICAgIG1hdGNoZXMsXG4gICAgcmVzdWx0cyxcbiAgICBwZW5kaW5nQWN0aW9uUmVzdWx0LFxuICAgIGFjdGl2ZURlZmVycmVkcyxcbiAgICBmYWxzZSAvLyBUaGlzIG1ldGhvZCBpcyBvbmx5IGNhbGxlZCBjbGllbnQgc2lkZSBzbyB3ZSBhbHdheXMgd2FudCB0byBidWJibGVcbiAgKTtcblxuICAvLyBQcm9jZXNzIHJlc3VsdHMgZnJvbSBvdXIgcmV2YWxpZGF0aW5nIGZldGNoZXJzXG4gIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiB7XG4gICAgbGV0IHsga2V5LCBtYXRjaCwgY29udHJvbGxlciB9ID0gcmY7XG4gICAgbGV0IHJlc3VsdCA9IGZldGNoZXJSZXN1bHRzW2tleV07XG4gICAgaW52YXJpYW50KHJlc3VsdCwgXCJEaWQgbm90IGZpbmQgY29ycmVzcG9uZGluZyBmZXRjaGVyIHJlc3VsdFwiKTtcblxuICAgIC8vIFByb2Nlc3MgZmV0Y2hlciBub24tcmVkaXJlY3QgZXJyb3JzXG4gICAgaWYgKGNvbnRyb2xsZXIgJiYgY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgLy8gTm90aGluZyB0byBkbyBmb3IgYWJvcnRlZCBmZXRjaGVyc1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoc3RhdGUubWF0Y2hlcywgbWF0Y2g/LnJvdXRlLmlkKTtcbiAgICAgIGlmICghKGVycm9ycyAmJiBlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0pKSB7XG4gICAgICAgIGVycm9ycyA9IHtcbiAgICAgICAgICAuLi5lcnJvcnMsXG4gICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZXJyb3IsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgICB9IGVsc2UgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgLy8gU2hvdWxkIG5ldmVyIGdldCBoZXJlLCByZWRpcmVjdHMgc2hvdWxkIGdldCBwcm9jZXNzZWQgYWJvdmUsIGJ1dCB3ZVxuICAgICAgLy8ga2VlcCB0aGlzIHRvIHR5cGUgbmFycm93IHRvIGEgc3VjY2VzcyByZXN1bHQgaW4gdGhlIGVsc2VcbiAgICAgIGludmFyaWFudChmYWxzZSwgXCJVbmhhbmRsZWQgZmV0Y2hlciByZXZhbGlkYXRpb24gcmVkaXJlY3RcIik7XG4gICAgfSBlbHNlIGlmIChpc0RlZmVycmVkUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIC8vIFNob3VsZCBuZXZlciBnZXQgaGVyZSwgZGVmZXJyZWQgZGF0YSBzaG91bGQgYmUgYXdhaXRlZCBmb3IgZmV0Y2hlcnNcbiAgICAgIC8vIGluIHJlc29sdmVEZWZlcnJlZFJlc3VsdHNcbiAgICAgIGludmFyaWFudChmYWxzZSwgXCJVbmhhbmRsZWQgZmV0Y2hlciBkZWZlcnJlZCBkYXRhXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihyZXN1bHQuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4geyBsb2FkZXJEYXRhLCBlcnJvcnMgfTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VMb2FkZXJEYXRhKFxuICBsb2FkZXJEYXRhOiBSb3V0ZURhdGEsXG4gIG5ld0xvYWRlckRhdGE6IFJvdXRlRGF0YSxcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICBlcnJvcnM6IFJvdXRlRGF0YSB8IG51bGwgfCB1bmRlZmluZWRcbik6IFJvdXRlRGF0YSB7XG4gIGxldCBtZXJnZWRMb2FkZXJEYXRhID0geyAuLi5uZXdMb2FkZXJEYXRhIH07XG4gIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICBsZXQgaWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICBpZiAobmV3TG9hZGVyRGF0YS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgIGlmIChuZXdMb2FkZXJEYXRhW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1lcmdlZExvYWRlckRhdGFbaWRdID0gbmV3TG9hZGVyRGF0YVtpZF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOby1vcCAtIHRoaXMgaXMgc28gd2UgaWdub3JlIGV4aXN0aW5nIGRhdGEgaWYgd2UgaGF2ZSBhIGtleSBpbiB0aGVcbiAgICAgICAgLy8gaW5jb21pbmcgb2JqZWN0IHdpdGggYW4gdW5kZWZpbmVkIHZhbHVlLCB3aGljaCBpcyBob3cgd2UgdW5zZXQgYSBwcmlvclxuICAgICAgICAvLyBsb2FkZXJEYXRhIGlmIHdlIGVuY291bnRlciBhIGxvYWRlciBlcnJvclxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobG9hZGVyRGF0YVtpZF0gIT09IHVuZGVmaW5lZCAmJiBtYXRjaC5yb3V0ZS5sb2FkZXIpIHtcbiAgICAgIC8vIFByZXNlcnZlIGV4aXN0aW5nIGtleXMgbm90IGluY2x1ZGVkIGluIG5ld0xvYWRlckRhdGEgYW5kIHdoZXJlIGEgbG9hZGVyXG4gICAgICAvLyB3YXNuJ3QgcmVtb3ZlZCBieSBITVJcbiAgICAgIG1lcmdlZExvYWRlckRhdGFbaWRdID0gbG9hZGVyRGF0YVtpZF07XG4gICAgfVxuXG4gICAgaWYgKGVycm9ycyAmJiBlcnJvcnMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAvLyBEb24ndCBrZWVwIGFueSBsb2FkZXIgZGF0YSBiZWxvdyB0aGUgYm91bmRhcnlcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWVyZ2VkTG9hZGVyRGF0YTtcbn1cblxuZnVuY3Rpb24gZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChcbiAgcGVuZGluZ0FjdGlvblJlc3VsdDogUGVuZGluZ0FjdGlvblJlc3VsdCB8IHVuZGVmaW5lZFxuKSB7XG4gIGlmICghcGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICByZXR1cm4gaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKVxuICAgID8ge1xuICAgICAgICAvLyBDbGVhciBvdXQgcHJpb3IgYWN0aW9uRGF0YSBvbiBlcnJvcnNcbiAgICAgICAgYWN0aW9uRGF0YToge30sXG4gICAgICB9XG4gICAgOiB7XG4gICAgICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgICAgICBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZGF0YSxcbiAgICAgICAgfSxcbiAgICAgIH07XG59XG5cbi8vIEZpbmQgdGhlIG5lYXJlc3QgZXJyb3IgYm91bmRhcnksIGxvb2tpbmcgdXB3YXJkcyBmcm9tIHRoZSBsZWFmIHJvdXRlIChvciB0aGVcbi8vIHJvdXRlIHNwZWNpZmllZCBieSByb3V0ZUlkKSBmb3IgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgZXJyb3IgYm91bmRhcnksXG4vLyBkZWZhdWx0aW5nIHRvIHRoZSByb290IG1hdGNoXG5mdW5jdGlvbiBmaW5kTmVhcmVzdEJvdW5kYXJ5KFxuICBtYXRjaGVzOiBBZ25vc3RpY0RhdGFSb3V0ZU1hdGNoW10sXG4gIHJvdXRlSWQ/OiBzdHJpbmdcbik6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2gge1xuICBsZXQgZWxpZ2libGVNYXRjaGVzID0gcm91dGVJZFxuICAgID8gbWF0Y2hlcy5zbGljZSgwLCBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkgKyAxKVxuICAgIDogWy4uLm1hdGNoZXNdO1xuICByZXR1cm4gKFxuICAgIGVsaWdpYmxlTWF0Y2hlcy5yZXZlcnNlKCkuZmluZCgobSkgPT4gbS5yb3V0ZS5oYXNFcnJvckJvdW5kYXJ5ID09PSB0cnVlKSB8fFxuICAgIG1hdGNoZXNbMF1cbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhyb3V0ZXM6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0W10pOiB7XG4gIG1hdGNoZXM6IEFnbm9zdGljRGF0YVJvdXRlTWF0Y2hbXTtcbiAgcm91dGU6IEFnbm9zdGljRGF0YVJvdXRlT2JqZWN0O1xufSB7XG4gIC8vIFByZWZlciBhIHJvb3QgbGF5b3V0IHJvdXRlIGlmIHByZXNlbnQsIG90aGVyd2lzZSBzaGltIGluIGEgcm91dGUgb2JqZWN0XG4gIGxldCByb3V0ZSA9XG4gICAgcm91dGVzLmxlbmd0aCA9PT0gMVxuICAgICAgPyByb3V0ZXNbMF1cbiAgICAgIDogcm91dGVzLmZpbmQoKHIpID0+IHIuaW5kZXggfHwgIXIucGF0aCB8fCByLnBhdGggPT09IFwiL1wiKSB8fCB7XG4gICAgICAgICAgaWQ6IGBfX3NoaW0tZXJyb3Itcm91dGVfX2AsXG4gICAgICAgIH07XG5cbiAgcmV0dXJuIHtcbiAgICBtYXRjaGVzOiBbXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge30sXG4gICAgICAgIHBhdGhuYW1lOiBcIlwiLFxuICAgICAgICBwYXRobmFtZUJhc2U6IFwiXCIsXG4gICAgICAgIHJvdXRlLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHJvdXRlLFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKFxuICBzdGF0dXM6IG51bWJlcixcbiAge1xuICAgIHBhdGhuYW1lLFxuICAgIHJvdXRlSWQsXG4gICAgbWV0aG9kLFxuICAgIHR5cGUsXG4gICAgbWVzc2FnZSxcbiAgfToge1xuICAgIHBhdGhuYW1lPzogc3RyaW5nO1xuICAgIHJvdXRlSWQ/OiBzdHJpbmc7XG4gICAgbWV0aG9kPzogc3RyaW5nO1xuICAgIHR5cGU/OiBcImRlZmVyLWFjdGlvblwiIHwgXCJpbnZhbGlkLWJvZHlcIjtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICB9ID0ge31cbikge1xuICBsZXQgc3RhdHVzVGV4dCA9IFwiVW5rbm93biBTZXJ2ZXIgRXJyb3JcIjtcbiAgbGV0IGVycm9yTWVzc2FnZSA9IFwiVW5rbm93biBAcmVtaXgtcnVuL3JvdXRlciBlcnJvclwiO1xuXG4gIGlmIChzdGF0dXMgPT09IDQwMCkge1xuICAgIHN0YXR1c1RleHQgPSBcIkJhZCBSZXF1ZXN0XCI7XG4gICAgaWYgKG1ldGhvZCAmJiBwYXRobmFtZSAmJiByb3V0ZUlkKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPVxuICAgICAgICBgWW91IG1hZGUgYSAke21ldGhvZH0gcmVxdWVzdCB0byBcIiR7cGF0aG5hbWV9XCIgYnV0IGAgK1xuICAgICAgICBgZGlkIG5vdCBwcm92aWRlIGEgXFxgbG9hZGVyXFxgIGZvciByb3V0ZSBcIiR7cm91dGVJZH1cIiwgYCArXG4gICAgICAgIGBzbyB0aGVyZSBpcyBubyB3YXkgdG8gaGFuZGxlIHRoZSByZXF1ZXN0LmA7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcImRlZmVyLWFjdGlvblwiKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBcImRlZmVyKCkgaXMgbm90IHN1cHBvcnRlZCBpbiBhY3Rpb25zXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcImludmFsaWQtYm9keVwiKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBcIlVuYWJsZSB0byBlbmNvZGUgc3VibWlzc2lvbiBib2R5XCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDAzKSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiRm9yYmlkZGVuXCI7XG4gICAgZXJyb3JNZXNzYWdlID0gYFJvdXRlIFwiJHtyb3V0ZUlkfVwiIGRvZXMgbm90IG1hdGNoIFVSTCBcIiR7cGF0aG5hbWV9XCJgO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiTm90IEZvdW5kXCI7XG4gICAgZXJyb3JNZXNzYWdlID0gYE5vIHJvdXRlIG1hdGNoZXMgVVJMIFwiJHtwYXRobmFtZX1cImA7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDUpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJNZXRob2QgTm90IEFsbG93ZWRcIjtcbiAgICBpZiAobWV0aG9kICYmIHBhdGhuYW1lICYmIHJvdXRlSWQpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9XG4gICAgICAgIGBZb3UgbWFkZSBhICR7bWV0aG9kLnRvVXBwZXJDYXNlKCl9IHJlcXVlc3QgdG8gXCIke3BhdGhuYW1lfVwiIGJ1dCBgICtcbiAgICAgICAgYGRpZCBub3QgcHJvdmlkZSBhbiBcXGBhY3Rpb25cXGAgZm9yIHJvdXRlIFwiJHtyb3V0ZUlkfVwiLCBgICtcbiAgICAgICAgYHNvIHRoZXJlIGlzIG5vIHdheSB0byBoYW5kbGUgdGhlIHJlcXVlc3QuYDtcbiAgICB9IGVsc2UgaWYgKG1ldGhvZCkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYEludmFsaWQgcmVxdWVzdCBtZXRob2QgXCIke21ldGhvZC50b1VwcGVyQ2FzZSgpfVwiYDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgIHN0YXR1cyB8fCA1MDAsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSxcbiAgICB0cnVlXG4gICk7XG59XG5cbi8vIEZpbmQgYW55IHJldHVybmVkIHJlZGlyZWN0IGVycm9ycywgc3RhcnRpbmcgZnJvbSB0aGUgbG93ZXN0IG1hdGNoXG5mdW5jdGlvbiBmaW5kUmVkaXJlY3QoXG4gIHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+XG4pOiB7IGtleTogc3RyaW5nOyByZXN1bHQ6IFJlZGlyZWN0UmVzdWx0IH0gfCB1bmRlZmluZWQge1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHJlc3VsdHMpO1xuICBmb3IgKGxldCBpID0gZW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGxldCBba2V5LCByZXN1bHRdID0gZW50cmllc1tpXTtcbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICByZXR1cm4geyBrZXksIHJlc3VsdCB9O1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdHJpcEhhc2hGcm9tUGF0aChwYXRoOiBUbykge1xuICBsZXQgcGFyc2VkUGF0aCA9IHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHBhdGgpIDogcGF0aDtcbiAgcmV0dXJuIGNyZWF0ZVBhdGgoeyAuLi5wYXJzZWRQYXRoLCBoYXNoOiBcIlwiIH0pO1xufVxuXG5mdW5jdGlvbiBpc0hhc2hDaGFuZ2VPbmx5KGE6IExvY2F0aW9uLCBiOiBMb2NhdGlvbik6IGJvb2xlYW4ge1xuICBpZiAoYS5wYXRobmFtZSAhPT0gYi5wYXRobmFtZSB8fCBhLnNlYXJjaCAhPT0gYi5zZWFyY2gpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoYS5oYXNoID09PSBcIlwiKSB7XG4gICAgLy8gL3BhZ2UgLT4gL3BhZ2UjaGFzaFxuICAgIHJldHVybiBiLmhhc2ggIT09IFwiXCI7XG4gIH0gZWxzZSBpZiAoYS5oYXNoID09PSBiLmhhc2gpIHtcbiAgICAvLyAvcGFnZSNoYXNoIC0+IC9wYWdlI2hhc2hcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChiLmhhc2ggIT09IFwiXCIpIHtcbiAgICAvLyAvcGFnZSNoYXNoIC0+IC9wYWdlI290aGVyXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBJZiB0aGUgaGFzaCBpcyByZW1vdmVkIHRoZSBicm93c2VyIHdpbGwgcmUtcGVyZm9ybSBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlclxuICAvLyAvcGFnZSNoYXNoIC0+IC9wYWdlXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNQcm9taXNlPFQgPSB1bmtub3duPih2YWw6IHVua25vd24pOiB2YWwgaXMgUHJvbWlzZTxUPiB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSBcIm9iamVjdFwiICYmIHZhbCAhPSBudWxsICYmIFwidGhlblwiIGluIHZhbDtcbn1cblxuZnVuY3Rpb24gaXNEYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0OiB1bmtub3duKTogcmVzdWx0IGlzIERhdGFTdHJhdGVneVJlc3VsdCB7XG4gIHJldHVybiAoXG4gICAgcmVzdWx0ICE9IG51bGwgJiZcbiAgICB0eXBlb2YgcmVzdWx0ID09PSBcIm9iamVjdFwiICYmXG4gICAgXCJ0eXBlXCIgaW4gcmVzdWx0ICYmXG4gICAgXCJyZXN1bHRcIiBpbiByZXN1bHQgJiZcbiAgICAocmVzdWx0LnR5cGUgPT09IFJlc3VsdFR5cGUuZGF0YSB8fCByZXN1bHQudHlwZSA9PT0gUmVzdWx0VHlwZS5lcnJvcilcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNSZWRpcmVjdERhdGFTdHJhdGVneVJlc3VsdFJlc3VsdChyZXN1bHQ6IERhdGFTdHJhdGVneVJlc3VsdCkge1xuICByZXR1cm4gKFxuICAgIGlzUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgJiYgcmVkaXJlY3RTdGF0dXNDb2Rlcy5oYXMocmVzdWx0LnJlc3VsdC5zdGF0dXMpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzRGVmZXJyZWRSZXN1bHQocmVzdWx0OiBEYXRhUmVzdWx0KTogcmVzdWx0IGlzIERlZmVycmVkUmVzdWx0IHtcbiAgcmV0dXJuIHJlc3VsdC50eXBlID09PSBSZXN1bHRUeXBlLmRlZmVycmVkO1xufVxuXG5mdW5jdGlvbiBpc0Vycm9yUmVzdWx0KHJlc3VsdDogRGF0YVJlc3VsdCk6IHJlc3VsdCBpcyBFcnJvclJlc3VsdCB7XG4gIHJldHVybiByZXN1bHQudHlwZSA9PT0gUmVzdWx0VHlwZS5lcnJvcjtcbn1cblxuZnVuY3Rpb24gaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQ/OiBEYXRhUmVzdWx0KTogcmVzdWx0IGlzIFJlZGlyZWN0UmVzdWx0IHtcbiAgcmV0dXJuIChyZXN1bHQgJiYgcmVzdWx0LnR5cGUpID09PSBSZXN1bHRUeXBlLnJlZGlyZWN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChcbiAgdmFsdWU6IGFueVxuKTogdmFsdWUgaXMgRGF0YVdpdGhSZXNwb25zZUluaXQ8dW5rbm93bj4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHZhbHVlICE9IG51bGwgJiZcbiAgICBcInR5cGVcIiBpbiB2YWx1ZSAmJlxuICAgIFwiZGF0YVwiIGluIHZhbHVlICYmXG4gICAgXCJpbml0XCIgaW4gdmFsdWUgJiZcbiAgICB2YWx1ZS50eXBlID09PSBcIkRhdGFXaXRoUmVzcG9uc2VJbml0XCJcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmZXJyZWREYXRhKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBEZWZlcnJlZERhdGEge1xuICBsZXQgZGVmZXJyZWQ6IERlZmVycmVkRGF0YSA9IHZhbHVlO1xuICByZXR1cm4gKFxuICAgIGRlZmVycmVkICYmXG4gICAgdHlwZW9mIGRlZmVycmVkID09PSBcIm9iamVjdFwiICYmXG4gICAgdHlwZW9mIGRlZmVycmVkLmRhdGEgPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgZGVmZXJyZWQuc3Vic2NyaWJlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICB0eXBlb2YgZGVmZXJyZWQuY2FuY2VsID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICB0eXBlb2YgZGVmZXJyZWQucmVzb2x2ZURhdGEgPT09IFwiZnVuY3Rpb25cIlxuICApO1xufVxuXG5mdW5jdGlvbiBpc1Jlc3BvbnNlKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBSZXNwb25zZSB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiB2YWx1ZS5zdGF0dXMgPT09IFwibnVtYmVyXCIgJiZcbiAgICB0eXBlb2YgdmFsdWUuc3RhdHVzVGV4dCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIHR5cGVvZiB2YWx1ZS5oZWFkZXJzID09PSBcIm9iamVjdFwiICYmXG4gICAgdHlwZW9mIHZhbHVlLmJvZHkgIT09IFwidW5kZWZpbmVkXCJcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3VsdDogYW55KTogcmVzdWx0IGlzIFJlc3BvbnNlIHtcbiAgaWYgKCFpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBsZXQgc3RhdHVzID0gcmVzdWx0LnN0YXR1cztcbiAgbGV0IGxvY2F0aW9uID0gcmVzdWx0LmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIik7XG4gIHJldHVybiBzdGF0dXMgPj0gMzAwICYmIHN0YXR1cyA8PSAzOTkgJiYgbG9jYXRpb24gIT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZE1ldGhvZChtZXRob2Q6IHN0cmluZyk6IG1ldGhvZCBpcyBGb3JtTWV0aG9kIHwgVjdfRm9ybU1ldGhvZCB7XG4gIHJldHVybiB2YWxpZFJlcXVlc3RNZXRob2RzLmhhcyhtZXRob2QudG9Mb3dlckNhc2UoKSBhcyBGb3JtTWV0aG9kKTtcbn1cblxuZnVuY3Rpb24gaXNNdXRhdGlvbk1ldGhvZChcbiAgbWV0aG9kOiBzdHJpbmdcbik6IG1ldGhvZCBpcyBNdXRhdGlvbkZvcm1NZXRob2QgfCBWN19NdXRhdGlvbkZvcm1NZXRob2Qge1xuICByZXR1cm4gdmFsaWRNdXRhdGlvbk1ldGhvZHMuaGFzKG1ldGhvZC50b0xvd2VyQ2FzZSgpIGFzIE11dGF0aW9uRm9ybU1ldGhvZCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlc29sdmVOYXZpZ2F0aW9uRGVmZXJyZWRSZXN1bHRzKFxuICBtYXRjaGVzOiAoQWdub3N0aWNEYXRhUm91dGVNYXRjaCB8IG51bGwpW10sXG4gIHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIERhdGFSZXN1bHQ+LFxuICBzaWduYWw6IEFib3J0U2lnbmFsLFxuICBjdXJyZW50TWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICBjdXJyZW50TG9hZGVyRGF0YTogUm91dGVEYXRhXG4pIHtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhyZXN1bHRzKTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGVudHJpZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgbGV0IFtyb3V0ZUlkLCByZXN1bHRdID0gZW50cmllc1tpbmRleF07XG4gICAgbGV0IG1hdGNoID0gbWF0Y2hlcy5maW5kKChtKSA9PiBtPy5yb3V0ZS5pZCA9PT0gcm91dGVJZCk7XG4gICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIG1hdGNoLCB0aGVuIHdlIGNhbiBoYXZlIGEgZGVmZXJyZWQgcmVzdWx0IHRvIGRvXG4gICAgLy8gYW55dGhpbmcgd2l0aC4gIFRoaXMgaXMgZm9yIHJldmFsaWRhdGluZyBmZXRjaGVycyB3aGVyZSB0aGUgcm91dGUgd2FzXG4gICAgLy8gcmVtb3ZlZCBkdXJpbmcgSE1SXG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbGV0IGN1cnJlbnRNYXRjaCA9IGN1cnJlbnRNYXRjaGVzLmZpbmQoXG4gICAgICAobSkgPT4gbS5yb3V0ZS5pZCA9PT0gbWF0Y2ghLnJvdXRlLmlkXG4gICAgKTtcbiAgICBsZXQgaXNSZXZhbGlkYXRpbmdMb2FkZXIgPVxuICAgICAgY3VycmVudE1hdGNoICE9IG51bGwgJiZcbiAgICAgICFpc05ld1JvdXRlSW5zdGFuY2UoY3VycmVudE1hdGNoLCBtYXRjaCkgJiZcbiAgICAgIChjdXJyZW50TG9hZGVyRGF0YSAmJiBjdXJyZW50TG9hZGVyRGF0YVttYXRjaC5yb3V0ZS5pZF0pICE9PSB1bmRlZmluZWQ7XG5cbiAgICBpZiAoaXNEZWZlcnJlZFJlc3VsdChyZXN1bHQpICYmIGlzUmV2YWxpZGF0aW5nTG9hZGVyKSB7XG4gICAgICAvLyBOb3RlOiB3ZSBkbyBub3QgaGF2ZSB0byB0b3VjaCBhY3RpdmVEZWZlcnJlZHMgaGVyZSBzaW5jZSB3ZSByYWNlIHRoZW1cbiAgICAgIC8vIGFnYWluc3QgdGhlIHNpZ25hbCBpbiByZXNvbHZlRGVmZXJyZWREYXRhIGFuZCB0aGV5J2xsIGdldCBhYm9ydGVkXG4gICAgICAvLyB0aGVyZSBpZiBuZWVkZWRcbiAgICAgIGF3YWl0IHJlc29sdmVEZWZlcnJlZERhdGEocmVzdWx0LCBzaWduYWwsIGZhbHNlKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdHNbcm91dGVJZF0gPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlRmV0Y2hlckRlZmVycmVkUmVzdWx0cyhcbiAgbWF0Y2hlczogKEFnbm9zdGljRGF0YVJvdXRlTWF0Y2ggfCBudWxsKVtdLFxuICByZXN1bHRzOiBSZWNvcmQ8c3RyaW5nLCBEYXRhUmVzdWx0PixcbiAgcmV2YWxpZGF0aW5nRmV0Y2hlcnM6IFJldmFsaWRhdGluZ0ZldGNoZXJbXVxuKSB7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCByZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBsZXQgeyBrZXksIHJvdXRlSWQsIGNvbnRyb2xsZXIgfSA9IHJldmFsaWRhdGluZ0ZldGNoZXJzW2luZGV4XTtcbiAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1trZXldO1xuICAgIGxldCBtYXRjaCA9IG1hdGNoZXMuZmluZCgobSkgPT4gbT8ucm91dGUuaWQgPT09IHJvdXRlSWQpO1xuICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBtYXRjaCwgdGhlbiB3ZSBjYW4gaGF2ZSBhIGRlZmVycmVkIHJlc3VsdCB0byBkb1xuICAgIC8vIGFueXRoaW5nIHdpdGguICBUaGlzIGlzIGZvciByZXZhbGlkYXRpbmcgZmV0Y2hlcnMgd2hlcmUgdGhlIHJvdXRlIHdhc1xuICAgIC8vIHJlbW92ZWQgZHVyaW5nIEhNUlxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChpc0RlZmVycmVkUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIC8vIE5vdGU6IHdlIGRvIG5vdCBoYXZlIHRvIHRvdWNoIGFjdGl2ZURlZmVycmVkcyBoZXJlIHNpbmNlIHdlIHJhY2UgdGhlbVxuICAgICAgLy8gYWdhaW5zdCB0aGUgc2lnbmFsIGluIHJlc29sdmVEZWZlcnJlZERhdGEgYW5kIHRoZXknbGwgZ2V0IGFib3J0ZWRcbiAgICAgIC8vIHRoZXJlIGlmIG5lZWRlZFxuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICBcIkV4cGVjdGVkIGFuIEFib3J0Q29udHJvbGxlciBmb3IgcmV2YWxpZGF0aW5nIGZldGNoZXIgZGVmZXJyZWQgcmVzdWx0XCJcbiAgICAgICk7XG4gICAgICBhd2FpdCByZXNvbHZlRGVmZXJyZWREYXRhKHJlc3VsdCwgY29udHJvbGxlci5zaWduYWwsIHRydWUpLnRoZW4oXG4gICAgICAgIChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHRzW2tleV0gPSByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlRGVmZXJyZWREYXRhKFxuICByZXN1bHQ6IERlZmVycmVkUmVzdWx0LFxuICBzaWduYWw6IEFib3J0U2lnbmFsLFxuICB1bndyYXAgPSBmYWxzZVxuKTogUHJvbWlzZTxTdWNjZXNzUmVzdWx0IHwgRXJyb3JSZXN1bHQgfCB1bmRlZmluZWQ+IHtcbiAgbGV0IGFib3J0ZWQgPSBhd2FpdCByZXN1bHQuZGVmZXJyZWREYXRhLnJlc29sdmVEYXRhKHNpZ25hbCk7XG4gIGlmIChhYm9ydGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHVud3JhcCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBSZXN1bHRUeXBlLmRhdGEsXG4gICAgICAgIGRhdGE6IHJlc3VsdC5kZWZlcnJlZERhdGEudW53cmFwcGVkRGF0YSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSGFuZGxlIGFueSBUcmFja2VkUHJvbWlzZS5fZXJyb3IgdmFsdWVzIGVuY291bnRlcmVkIHdoaWxlIHVud3JhcHBpbmdcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFJlc3VsdFR5cGUuZXJyb3IsXG4gICAgICAgIGVycm9yOiBlLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHR5cGU6IFJlc3VsdFR5cGUuZGF0YSxcbiAgICBkYXRhOiByZXN1bHQuZGVmZXJyZWREYXRhLmRhdGEsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhc05ha2VkSW5kZXhRdWVyeShzZWFyY2g6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2gpLmdldEFsbChcImluZGV4XCIpLnNvbWUoKHYpID0+IHYgPT09IFwiXCIpO1xufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXRNYXRjaChcbiAgbWF0Y2hlczogQWdub3N0aWNEYXRhUm91dGVNYXRjaFtdLFxuICBsb2NhdGlvbjogTG9jYXRpb24gfCBzdHJpbmdcbikge1xuICBsZXQgc2VhcmNoID1cbiAgICB0eXBlb2YgbG9jYXRpb24gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgobG9jYXRpb24pLnNlYXJjaCA6IGxvY2F0aW9uLnNlYXJjaDtcbiAgaWYgKFxuICAgIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5pbmRleCAmJlxuICAgIGhhc05ha2VkSW5kZXhRdWVyeShzZWFyY2ggfHwgXCJcIilcbiAgKSB7XG4gICAgLy8gUmV0dXJuIHRoZSBsZWFmIGluZGV4IHJvdXRlIHdoZW4gaW5kZXggaXMgcHJlc2VudFxuICAgIHJldHVybiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIH1cbiAgLy8gT3RoZXJ3aXNlIGdyYWIgdGhlIGRlZXBlc3QgXCJwYXRoIGNvbnRyaWJ1dGluZ1wiIG1hdGNoIChpZ25vcmluZyBpbmRleCBhbmRcbiAgLy8gcGF0aGxlc3MgbGF5b3V0IHJvdXRlcylcbiAgbGV0IHBhdGhNYXRjaGVzID0gZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMobWF0Y2hlcyk7XG4gIHJldHVybiBwYXRoTWF0Y2hlc1twYXRoTWF0Y2hlcy5sZW5ndGggLSAxXTtcbn1cblxuZnVuY3Rpb24gZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKFxuICBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uXG4pOiBTdWJtaXNzaW9uIHwgdW5kZWZpbmVkIHtcbiAgbGV0IHsgZm9ybU1ldGhvZCwgZm9ybUFjdGlvbiwgZm9ybUVuY1R5cGUsIHRleHQsIGZvcm1EYXRhLCBqc29uIH0gPVxuICAgIG5hdmlnYXRpb247XG4gIGlmICghZm9ybU1ldGhvZCB8fCAhZm9ybUFjdGlvbiB8fCAhZm9ybUVuY1R5cGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGV4dCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogdW5kZWZpbmVkLFxuICAgICAganNvbjogdW5kZWZpbmVkLFxuICAgICAgdGV4dCxcbiAgICB9O1xuICB9IGVsc2UgaWYgKGZvcm1EYXRhICE9IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhLFxuICAgICAganNvbjogdW5kZWZpbmVkLFxuICAgICAgdGV4dDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0gZWxzZSBpZiAoanNvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogdW5kZWZpbmVkLFxuICAgICAganNvbixcbiAgICAgIHRleHQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldExvYWRpbmdOYXZpZ2F0aW9uKFxuICBsb2NhdGlvbjogTG9jYXRpb24sXG4gIHN1Ym1pc3Npb24/OiBTdWJtaXNzaW9uXG4pOiBOYXZpZ2F0aW9uU3RhdGVzW1wiTG9hZGluZ1wiXSB7XG4gIGlmIChzdWJtaXNzaW9uKSB7XG4gICAgbGV0IG5hdmlnYXRpb246IE5hdmlnYXRpb25TdGF0ZXNbXCJMb2FkaW5nXCJdID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LFxuICAgIH07XG4gICAgcmV0dXJuIG5hdmlnYXRpb247XG4gIH0gZWxzZSB7XG4gICAgbGV0IG5hdmlnYXRpb246IE5hdmlnYXRpb25TdGF0ZXNbXCJMb2FkaW5nXCJdID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBmb3JtTWV0aG9kOiB1bmRlZmluZWQsXG4gICAgICBmb3JtQWN0aW9uOiB1bmRlZmluZWQsXG4gICAgICBmb3JtRW5jVHlwZTogdW5kZWZpbmVkLFxuICAgICAgZm9ybURhdGE6IHVuZGVmaW5lZCxcbiAgICAgIGpzb246IHVuZGVmaW5lZCxcbiAgICAgIHRleHQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIHJldHVybiBuYXZpZ2F0aW9uO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFN1Ym1pdHRpbmdOYXZpZ2F0aW9uKFxuICBsb2NhdGlvbjogTG9jYXRpb24sXG4gIHN1Ym1pc3Npb246IFN1Ym1pc3Npb25cbik6IE5hdmlnYXRpb25TdGF0ZXNbXCJTdWJtaXR0aW5nXCJdIHtcbiAgbGV0IG5hdmlnYXRpb246IE5hdmlnYXRpb25TdGF0ZXNbXCJTdWJtaXR0aW5nXCJdID0ge1xuICAgIHN0YXRlOiBcInN1Ym1pdHRpbmdcIixcbiAgICBsb2NhdGlvbixcbiAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHQsXG4gIH07XG4gIHJldHVybiBuYXZpZ2F0aW9uO1xufVxuXG5mdW5jdGlvbiBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgc3VibWlzc2lvbj86IFN1Ym1pc3Npb24sXG4gIGRhdGE/OiBGZXRjaGVyW1wiZGF0YVwiXVxuKTogRmV0Y2hlclN0YXRlc1tcIkxvYWRpbmdcIl0ge1xuICBpZiAoc3VibWlzc2lvbikge1xuICAgIGxldCBmZXRjaGVyOiBGZXRjaGVyU3RhdGVzW1wiTG9hZGluZ1wiXSA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHQsXG4gICAgICBkYXRhLFxuICAgIH07XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGZldGNoZXI6IEZldGNoZXJTdGF0ZXNbXCJMb2FkaW5nXCJdID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgZm9ybU1ldGhvZDogdW5kZWZpbmVkLFxuICAgICAgZm9ybUFjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgZm9ybUVuY1R5cGU6IHVuZGVmaW5lZCxcbiAgICAgIGZvcm1EYXRhOiB1bmRlZmluZWQsXG4gICAgICBqc29uOiB1bmRlZmluZWQsXG4gICAgICB0ZXh0OiB1bmRlZmluZWQsXG4gICAgICBkYXRhLFxuICAgIH07XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3VibWl0dGluZ0ZldGNoZXIoXG4gIHN1Ym1pc3Npb246IFN1Ym1pc3Npb24sXG4gIGV4aXN0aW5nRmV0Y2hlcj86IEZldGNoZXJcbik6IEZldGNoZXJTdGF0ZXNbXCJTdWJtaXR0aW5nXCJdIHtcbiAgbGV0IGZldGNoZXI6IEZldGNoZXJTdGF0ZXNbXCJTdWJtaXR0aW5nXCJdID0ge1xuICAgIHN0YXRlOiBcInN1Ym1pdHRpbmdcIixcbiAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHQsXG4gICAgZGF0YTogZXhpc3RpbmdGZXRjaGVyID8gZXhpc3RpbmdGZXRjaGVyLmRhdGEgOiB1bmRlZmluZWQsXG4gIH07XG4gIHJldHVybiBmZXRjaGVyO1xufVxuXG5mdW5jdGlvbiBnZXREb25lRmV0Y2hlcihkYXRhOiBGZXRjaGVyW1wiZGF0YVwiXSk6IEZldGNoZXJTdGF0ZXNbXCJJZGxlXCJdIHtcbiAgbGV0IGZldGNoZXI6IEZldGNoZXJTdGF0ZXNbXCJJZGxlXCJdID0ge1xuICAgIHN0YXRlOiBcImlkbGVcIixcbiAgICBmb3JtTWV0aG9kOiB1bmRlZmluZWQsXG4gICAgZm9ybUFjdGlvbjogdW5kZWZpbmVkLFxuICAgIGZvcm1FbmNUeXBlOiB1bmRlZmluZWQsXG4gICAgZm9ybURhdGE6IHVuZGVmaW5lZCxcbiAgICBqc29uOiB1bmRlZmluZWQsXG4gICAgdGV4dDogdW5kZWZpbmVkLFxuICAgIGRhdGEsXG4gIH07XG4gIHJldHVybiBmZXRjaGVyO1xufVxuXG5mdW5jdGlvbiByZXN0b3JlQXBwbGllZFRyYW5zaXRpb25zKFxuICBfd2luZG93OiBXaW5kb3csXG4gIHRyYW5zaXRpb25zOiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj5cbikge1xuICB0cnkge1xuICAgIGxldCBzZXNzaW9uUG9zaXRpb25zID0gX3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFxuICAgICAgVFJBTlNJVElPTlNfU1RPUkFHRV9LRVlcbiAgICApO1xuICAgIGlmIChzZXNzaW9uUG9zaXRpb25zKSB7XG4gICAgICBsZXQganNvbiA9IEpTT04ucGFyc2Uoc2Vzc2lvblBvc2l0aW9ucyk7XG4gICAgICBmb3IgKGxldCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoanNvbiB8fCB7fSkpIHtcbiAgICAgICAgaWYgKHYgJiYgQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgICAgIHRyYW5zaXRpb25zLnNldChrLCBuZXcgU2V0KHYgfHwgW10pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIG5vLW9wLCB1c2UgZGVmYXVsdCBlbXB0eSBvYmplY3RcbiAgfVxufVxuXG5mdW5jdGlvbiBwZXJzaXN0QXBwbGllZFRyYW5zaXRpb25zKFxuICBfd2luZG93OiBXaW5kb3csXG4gIHRyYW5zaXRpb25zOiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj5cbikge1xuICBpZiAodHJhbnNpdGlvbnMuc2l6ZSA+IDApIHtcbiAgICBsZXQganNvbjogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge307XG4gICAgZm9yIChsZXQgW2ssIHZdIG9mIHRyYW5zaXRpb25zKSB7XG4gICAgICBqc29uW2tdID0gWy4uLnZdO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgX3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICBUUkFOU0lUSU9OU19TVE9SQUdFX0tFWSxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoanNvbilcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBgRmFpbGVkIHRvIHNhdmUgYXBwbGllZCB2aWV3IHRyYW5zaXRpb25zIGluIHNlc3Npb25TdG9yYWdlICgke2Vycm9yfSkuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbi8vI2VuZHJlZ2lvblxuIiwgImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHR5cGUge1xuICBBZ25vc3RpY0luZGV4Um91dGVPYmplY3QsXG4gIEFnbm9zdGljTm9uSW5kZXhSb3V0ZU9iamVjdCxcbiAgQWdub3N0aWNSb3V0ZU1hdGNoLFxuICBIaXN0b3J5LFxuICBMYXp5Um91dGVGdW5jdGlvbixcbiAgTG9jYXRpb24sXG4gIEFjdGlvbiBhcyBOYXZpZ2F0aW9uVHlwZSxcbiAgUmVsYXRpdmVSb3V0aW5nVHlwZSxcbiAgUm91dGVyLFxuICBTdGF0aWNIYW5kbGVyQ29udGV4dCxcbiAgVG8sXG4gIFRyYWNrZWRQcm9taXNlLFxufSBmcm9tIFwiQHJlbWl4LXJ1bi9yb3V0ZXJcIjtcblxuLy8gQ3JlYXRlIHJlYWN0LXNwZWNpZmljIHR5cGVzIGZyb20gdGhlIGFnbm9zdGljIHR5cGVzIGluIEByZW1peC1ydW4vcm91dGVyIHRvXG4vLyBleHBvcnQgZnJvbSByZWFjdC1yb3V0ZXJcbmV4cG9ydCBpbnRlcmZhY2UgSW5kZXhSb3V0ZU9iamVjdCB7XG4gIGNhc2VTZW5zaXRpdmU/OiBBZ25vc3RpY0luZGV4Um91dGVPYmplY3RbXCJjYXNlU2Vuc2l0aXZlXCJdO1xuICBwYXRoPzogQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0W1wicGF0aFwiXTtcbiAgaWQ/OiBBZ25vc3RpY0luZGV4Um91dGVPYmplY3RbXCJpZFwiXTtcbiAgbG9hZGVyPzogQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0W1wibG9hZGVyXCJdO1xuICBhY3Rpb24/OiBBZ25vc3RpY0luZGV4Um91dGVPYmplY3RbXCJhY3Rpb25cIl07XG4gIGhhc0Vycm9yQm91bmRhcnk/OiBBZ25vc3RpY0luZGV4Um91dGVPYmplY3RbXCJoYXNFcnJvckJvdW5kYXJ5XCJdO1xuICBzaG91bGRSZXZhbGlkYXRlPzogQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0W1wic2hvdWxkUmV2YWxpZGF0ZVwiXTtcbiAgaGFuZGxlPzogQWdub3N0aWNJbmRleFJvdXRlT2JqZWN0W1wiaGFuZGxlXCJdO1xuICBpbmRleDogdHJ1ZTtcbiAgY2hpbGRyZW4/OiB1bmRlZmluZWQ7XG4gIGVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgZXJyb3JFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgQ29tcG9uZW50PzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIEh5ZHJhdGVGYWxsYmFjaz86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBFcnJvckJvdW5kYXJ5PzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIGxhenk/OiBMYXp5Um91dGVGdW5jdGlvbjxSb3V0ZU9iamVjdD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9uSW5kZXhSb3V0ZU9iamVjdCB7XG4gIGNhc2VTZW5zaXRpdmU/OiBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3RbXCJjYXNlU2Vuc2l0aXZlXCJdO1xuICBwYXRoPzogQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0W1wicGF0aFwiXTtcbiAgaWQ/OiBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3RbXCJpZFwiXTtcbiAgbG9hZGVyPzogQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0W1wibG9hZGVyXCJdO1xuICBhY3Rpb24/OiBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3RbXCJhY3Rpb25cIl07XG4gIGhhc0Vycm9yQm91bmRhcnk/OiBBZ25vc3RpY05vbkluZGV4Um91dGVPYmplY3RbXCJoYXNFcnJvckJvdW5kYXJ5XCJdO1xuICBzaG91bGRSZXZhbGlkYXRlPzogQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0W1wic2hvdWxkUmV2YWxpZGF0ZVwiXTtcbiAgaGFuZGxlPzogQWdub3N0aWNOb25JbmRleFJvdXRlT2JqZWN0W1wiaGFuZGxlXCJdO1xuICBpbmRleD86IGZhbHNlO1xuICBjaGlsZHJlbj86IFJvdXRlT2JqZWN0W107XG4gIGVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgZXJyb3JFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgQ29tcG9uZW50PzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIEh5ZHJhdGVGYWxsYmFjaz86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBFcnJvckJvdW5kYXJ5PzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIGxhenk/OiBMYXp5Um91dGVGdW5jdGlvbjxSb3V0ZU9iamVjdD47XG59XG5cbmV4cG9ydCB0eXBlIFJvdXRlT2JqZWN0ID0gSW5kZXhSb3V0ZU9iamVjdCB8IE5vbkluZGV4Um91dGVPYmplY3Q7XG5cbmV4cG9ydCB0eXBlIERhdGFSb3V0ZU9iamVjdCA9IFJvdXRlT2JqZWN0ICYge1xuICBjaGlsZHJlbj86IERhdGFSb3V0ZU9iamVjdFtdO1xuICBpZDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZU1hdGNoPFxuICBQYXJhbUtleSBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcbiAgUm91dGVPYmplY3RUeXBlIGV4dGVuZHMgUm91dGVPYmplY3QgPSBSb3V0ZU9iamVjdFxuPiBleHRlbmRzIEFnbm9zdGljUm91dGVNYXRjaDxQYXJhbUtleSwgUm91dGVPYmplY3RUeXBlPiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFSb3V0ZU1hdGNoIGV4dGVuZHMgUm91dGVNYXRjaDxzdHJpbmcsIERhdGFSb3V0ZU9iamVjdD4ge31cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhUm91dGVyQ29udGV4dE9iamVjdFxuICAvLyBPbWl0IGBmdXR1cmVgIHNpbmNlIHRob3NlIGNhbiBiZSBwdWxsZWQgZnJvbSB0aGUgYHJvdXRlcmBcbiAgLy8gYE5hdmlnYXRpb25Db250ZXh0YCBuZWVkcyBmdXR1cmUgc2luY2UgaXQgZG9lc24ndCBoYXZlIGEgYHJvdXRlcmAgaW4gYWxsIGNhc2VzXG4gIGV4dGVuZHMgT21pdDxOYXZpZ2F0aW9uQ29udGV4dE9iamVjdCwgXCJmdXR1cmVcIj4ge1xuICByb3V0ZXI6IFJvdXRlcjtcbiAgc3RhdGljQ29udGV4dD86IFN0YXRpY0hhbmRsZXJDb250ZXh0O1xufVxuXG5leHBvcnQgY29uc3QgRGF0YVJvdXRlckNvbnRleHQgPVxuICBSZWFjdC5jcmVhdGVDb250ZXh0PERhdGFSb3V0ZXJDb250ZXh0T2JqZWN0IHwgbnVsbD4obnVsbCk7XG5pZiAoX19ERVZfXykge1xuICBEYXRhUm91dGVyQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRGF0YVJvdXRlclwiO1xufVxuXG5leHBvcnQgY29uc3QgRGF0YVJvdXRlclN0YXRlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8XG4gIFJvdXRlcltcInN0YXRlXCJdIHwgbnVsbFxuPihudWxsKTtcbmlmIChfX0RFVl9fKSB7XG4gIERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQuZGlzcGxheU5hbWUgPSBcIkRhdGFSb3V0ZXJTdGF0ZVwiO1xufVxuXG5leHBvcnQgY29uc3QgQXdhaXRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxUcmFja2VkUHJvbWlzZSB8IG51bGw+KG51bGwpO1xuaWYgKF9fREVWX18pIHtcbiAgQXdhaXRDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJBd2FpdFwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRlT3B0aW9ucyB7XG4gIHJlcGxhY2U/OiBib29sZWFuO1xuICBzdGF0ZT86IGFueTtcbiAgcHJldmVudFNjcm9sbFJlc2V0PzogYm9vbGVhbjtcbiAgcmVsYXRpdmU/OiBSZWxhdGl2ZVJvdXRpbmdUeXBlO1xuICBmbHVzaFN5bmM/OiBib29sZWFuO1xuICB2aWV3VHJhbnNpdGlvbj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQSBOYXZpZ2F0b3IgaXMgYSBcImxvY2F0aW9uIGNoYW5nZXJcIjsgaXQncyBob3cgeW91IGdldCB0byBkaWZmZXJlbnQgbG9jYXRpb25zLlxuICpcbiAqIEV2ZXJ5IGhpc3RvcnkgaW5zdGFuY2UgY29uZm9ybXMgdG8gdGhlIE5hdmlnYXRvciBpbnRlcmZhY2UsIGJ1dCB0aGVcbiAqIGRpc3RpbmN0aW9uIGlzIHVzZWZ1bCBwcmltYXJpbHkgd2hlbiBpdCBjb21lcyB0byB0aGUgbG93LWxldmVsIGA8Um91dGVyPmAgQVBJXG4gKiB3aGVyZSBib3RoIHRoZSBsb2NhdGlvbiBhbmQgYSBuYXZpZ2F0b3IgbXVzdCBiZSBwcm92aWRlZCBzZXBhcmF0ZWx5IGluIG9yZGVyXG4gKiB0byBhdm9pZCBcInRlYXJpbmdcIiB0aGF0IG1heSBvY2N1ciBpbiBhIHN1c3BlbnNlLWVuYWJsZWQgYXBwIGlmIHRoZSBhY3Rpb25cbiAqIGFuZC9vciBsb2NhdGlvbiB3ZXJlIHRvIGJlIHJlYWQgZGlyZWN0bHkgZnJvbSB0aGUgaGlzdG9yeSBpbnN0YW5jZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0b3Ige1xuICBjcmVhdGVIcmVmOiBIaXN0b3J5W1wiY3JlYXRlSHJlZlwiXTtcbiAgLy8gT3B0aW9uYWwgZm9yIGJhY2t3YXJkcy1jb21wYXQgd2l0aCBSb3V0ZXIvSGlzdG9yeVJvdXRlciB1c2FnZSAoZWRnZSBjYXNlKVxuICBlbmNvZGVMb2NhdGlvbj86IEhpc3RvcnlbXCJlbmNvZGVMb2NhdGlvblwiXTtcbiAgZ286IEhpc3RvcnlbXCJnb1wiXTtcbiAgcHVzaCh0bzogVG8sIHN0YXRlPzogYW55LCBvcHRzPzogTmF2aWdhdGVPcHRpb25zKTogdm9pZDtcbiAgcmVwbGFjZSh0bzogVG8sIHN0YXRlPzogYW55LCBvcHRzPzogTmF2aWdhdGVPcHRpb25zKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIE5hdmlnYXRpb25Db250ZXh0T2JqZWN0IHtcbiAgYmFzZW5hbWU6IHN0cmluZztcbiAgbmF2aWdhdG9yOiBOYXZpZ2F0b3I7XG4gIHN0YXRpYzogYm9vbGVhbjtcbiAgZnV0dXJlOiB7XG4gICAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGJvb2xlYW47XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8TmF2aWdhdGlvbkNvbnRleHRPYmplY3Q+KFxuICBudWxsIVxuKTtcblxuaWYgKF9fREVWX18pIHtcbiAgTmF2aWdhdGlvbkNvbnRleHQuZGlzcGxheU5hbWUgPSBcIk5hdmlnYXRpb25cIjtcbn1cblxuaW50ZXJmYWNlIExvY2F0aW9uQ29udGV4dE9iamVjdCB7XG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcbiAgbmF2aWdhdGlvblR5cGU6IE5hdmlnYXRpb25UeXBlO1xufVxuXG5leHBvcnQgY29uc3QgTG9jYXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxMb2NhdGlvbkNvbnRleHRPYmplY3Q+KFxuICBudWxsIVxuKTtcblxuaWYgKF9fREVWX18pIHtcbiAgTG9jYXRpb25Db250ZXh0LmRpc3BsYXlOYW1lID0gXCJMb2NhdGlvblwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlQ29udGV4dE9iamVjdCB7XG4gIG91dGxldDogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbDtcbiAgbWF0Y2hlczogUm91dGVNYXRjaFtdO1xuICBpc0RhdGFSb3V0ZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IFJvdXRlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8Um91dGVDb250ZXh0T2JqZWN0Pih7XG4gIG91dGxldDogbnVsbCxcbiAgbWF0Y2hlczogW10sXG4gIGlzRGF0YVJvdXRlOiBmYWxzZSxcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBSb3V0ZUNvbnRleHQuZGlzcGxheU5hbWUgPSBcIlJvdXRlXCI7XG59XG5cbmV4cG9ydCBjb25zdCBSb3V0ZUVycm9yQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8YW55PihudWxsKTtcblxuaWYgKF9fREVWX18pIHtcbiAgUm91dGVFcnJvckNvbnRleHQuZGlzcGxheU5hbWUgPSBcIlJvdXRlRXJyb3JcIjtcbn1cbiIsICJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB0eXBlIHtcbiAgQmxvY2tlcixcbiAgQmxvY2tlckZ1bmN0aW9uLFxuICBMb2NhdGlvbixcbiAgUGFyYW1QYXJzZUtleSxcbiAgUGFyYW1zLFxuICBQYXRoLFxuICBQYXRoTWF0Y2gsXG4gIFBhdGhQYXR0ZXJuLFxuICBSZWxhdGl2ZVJvdXRpbmdUeXBlLFxuICBSb3V0ZXIgYXMgUmVtaXhSb3V0ZXIsXG4gIFJldmFsaWRhdGlvblN0YXRlLFxuICBUbyxcbiAgVUlNYXRjaCxcbn0gZnJvbSBcIkByZW1peC1ydW4vcm91dGVyXCI7XG5pbXBvcnQge1xuICBJRExFX0JMT0NLRVIsXG4gIEFjdGlvbiBhcyBOYXZpZ2F0aW9uVHlwZSxcbiAgVU5TQUZFX2NvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoIGFzIGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoLFxuICBVTlNBRkVfZGVjb2RlUGF0aCBhcyBkZWNvZGVQYXRoLFxuICBVTlNBRkVfZ2V0UmVzb2x2ZVRvTWF0Y2hlcyBhcyBnZXRSZXNvbHZlVG9NYXRjaGVzLFxuICBVTlNBRkVfaW52YXJpYW50IGFzIGludmFyaWFudCxcbiAgaXNSb3V0ZUVycm9yUmVzcG9uc2UsXG4gIGpvaW5QYXRocyxcbiAgbWF0Y2hQYXRoLFxuICBtYXRjaFJvdXRlcyxcbiAgcGFyc2VQYXRoLFxuICByZXNvbHZlVG8sXG4gIHN0cmlwQmFzZW5hbWUsXG4gIFVOU0FGRV93YXJuaW5nIGFzIHdhcm5pbmcsXG59IGZyb20gXCJAcmVtaXgtcnVuL3JvdXRlclwiO1xuXG5pbXBvcnQgdHlwZSB7XG4gIERhdGFSb3V0ZU1hdGNoLFxuICBOYXZpZ2F0ZU9wdGlvbnMsXG4gIFJvdXRlQ29udGV4dE9iamVjdCxcbiAgUm91dGVNYXRjaCxcbiAgUm91dGVPYmplY3QsXG59IGZyb20gXCIuL2NvbnRleHRcIjtcbmltcG9ydCB7XG4gIEF3YWl0Q29udGV4dCxcbiAgRGF0YVJvdXRlckNvbnRleHQsXG4gIERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQsXG4gIExvY2F0aW9uQ29udGV4dCxcbiAgTmF2aWdhdGlvbkNvbnRleHQsXG4gIFJvdXRlQ29udGV4dCxcbiAgUm91dGVFcnJvckNvbnRleHQsXG59IGZyb20gXCIuL2NvbnRleHRcIjtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSBnaXZlbiBcInRvXCIgdmFsdWUuIFRoaXMgaXMgdXNlZnVsIGZvciBidWlsZGluZ1xuICogY3VzdG9tIGxpbmtzIHRoYXQgYXJlIGFsc28gYWNjZXNzaWJsZSBhbmQgcHJlc2VydmUgcmlnaHQtY2xpY2sgYmVoYXZpb3IuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2UtaHJlZlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlSHJlZihcbiAgdG86IFRvLFxuICB7IHJlbGF0aXZlIH06IHsgcmVsYXRpdmU/OiBSZWxhdGl2ZVJvdXRpbmdUeXBlIH0gPSB7fVxuKTogc3RyaW5nIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlSHJlZigpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuXG4gIGxldCB7IGJhc2VuYW1lLCBuYXZpZ2F0b3IgfSA9IFJlYWN0LnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgeyBoYXNoLCBwYXRobmFtZSwgc2VhcmNoIH0gPSB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmUgfSk7XG5cbiAgbGV0IGpvaW5lZFBhdGhuYW1lID0gcGF0aG5hbWU7XG5cbiAgLy8gSWYgd2UncmUgb3BlcmF0aW5nIHdpdGhpbiBhIGJhc2VuYW1lLCBwcmVwZW5kIGl0IHRvIHRoZSBwYXRobmFtZSBwcmlvclxuICAvLyB0byBjcmVhdGluZyB0aGUgaHJlZi4gIElmIHRoaXMgaXMgYSByb290IG5hdmlnYXRpb24sIHRoZW4ganVzdCB1c2UgdGhlIHJhd1xuICAvLyBiYXNlbmFtZSB3aGljaCBhbGxvd3MgdGhlIGJhc2VuYW1lIHRvIGhhdmUgZnVsbCBjb250cm9sIG92ZXIgdGhlIHByZXNlbmNlXG4gIC8vIG9mIGEgdHJhaWxpbmcgc2xhc2ggb24gcm9vdCBsaW5rc1xuICBpZiAoYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgam9pbmVkUGF0aG5hbWUgPVxuICAgICAgcGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRobmFtZV0pO1xuICB9XG5cbiAgcmV0dXJuIG5hdmlnYXRvci5jcmVhdGVIcmVmKHsgcGF0aG5hbWU6IGpvaW5lZFBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgY29tcG9uZW50IGlzIGEgZGVzY2VuZGFudCBvZiBhIGA8Um91dGVyPmAuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2UtaW4tcm91dGVyLWNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUluUm91dGVyQ29udGV4dCgpOiBib29sZWFuIHtcbiAgcmV0dXJuIFJlYWN0LnVzZUNvbnRleHQoTG9jYXRpb25Db250ZXh0KSAhPSBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgbG9jYXRpb24gb2JqZWN0LCB3aGljaCByZXByZXNlbnRzIHRoZSBjdXJyZW50IFVSTCBpbiB3ZWJcbiAqIGJyb3dzZXJzLlxuICpcbiAqIE5vdGU6IElmIHlvdSdyZSB1c2luZyB0aGlzIGl0IG1heSBtZWFuIHlvdSdyZSBkb2luZyBzb21lIG9mIHlvdXIgb3duXG4gKiBcInJvdXRpbmdcIiBpbiB5b3VyIGFwcCwgYW5kIHdlJ2QgbGlrZSB0byBrbm93IHdoYXQgeW91ciB1c2UgY2FzZSBpcy4gV2UgbWF5XG4gKiBiZSBhYmxlIHRvIHByb3ZpZGUgc29tZXRoaW5nIGhpZ2hlci1sZXZlbCB0byBiZXR0ZXIgc3VpdCB5b3VyIG5lZWRzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLWxvY2F0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VMb2NhdGlvbigpOiBMb2NhdGlvbiB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZUxvY2F0aW9uKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG5cbiAgcmV0dXJuIFJlYWN0LnVzZUNvbnRleHQoTG9jYXRpb25Db250ZXh0KS5sb2NhdGlvbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IG5hdmlnYXRpb24gYWN0aW9uIHdoaWNoIGRlc2NyaWJlcyBob3cgdGhlIHJvdXRlciBjYW1lIHRvXG4gKiB0aGUgY3VycmVudCBsb2NhdGlvbiwgZWl0aGVyIGJ5IGEgcG9wLCBwdXNoLCBvciByZXBsYWNlIG9uIHRoZSBoaXN0b3J5IHN0YWNrLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLW5hdmlnYXRpb24tdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTmF2aWdhdGlvblR5cGUoKTogTmF2aWdhdGlvblR5cGUge1xuICByZXR1cm4gUmVhY3QudXNlQ29udGV4dChMb2NhdGlvbkNvbnRleHQpLm5hdmlnYXRpb25UeXBlO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBQYXRoTWF0Y2ggb2JqZWN0IGlmIHRoZSBnaXZlbiBwYXR0ZXJuIG1hdGNoZXMgdGhlIGN1cnJlbnQgVVJMLlxuICogVGhpcyBpcyB1c2VmdWwgZm9yIGNvbXBvbmVudHMgdGhhdCBuZWVkIHRvIGtub3cgXCJhY3RpdmVcIiBzdGF0ZSwgZS5nLlxuICogYDxOYXZMaW5rPmAuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2UtbWF0Y2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1hdGNoPFxuICBQYXJhbUtleSBleHRlbmRzIFBhcmFtUGFyc2VLZXk8UGF0aD4sXG4gIFBhdGggZXh0ZW5kcyBzdHJpbmdcbj4ocGF0dGVybjogUGF0aFBhdHRlcm48UGF0aD4gfCBQYXRoKTogUGF0aE1hdGNoPFBhcmFtS2V5PiB8IG51bGwge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VNYXRjaCgpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuXG4gIGxldCB7IHBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICByZXR1cm4gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PiBtYXRjaFBhdGg8UGFyYW1LZXksIFBhdGg+KHBhdHRlcm4sIGRlY29kZVBhdGgocGF0aG5hbWUpKSxcbiAgICBbcGF0aG5hbWUsIHBhdHRlcm5dXG4gICk7XG59XG5cbi8qKlxuICogVGhlIGludGVyZmFjZSBmb3IgdGhlIG5hdmlnYXRlKCkgZnVuY3Rpb24gcmV0dXJuZWQgZnJvbSB1c2VOYXZpZ2F0ZSgpLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRlRnVuY3Rpb24ge1xuICAodG86IFRvLCBvcHRpb25zPzogTmF2aWdhdGVPcHRpb25zKTogdm9pZDtcbiAgKGRlbHRhOiBudW1iZXIpOiB2b2lkO1xufVxuXG5jb25zdCBuYXZpZ2F0ZUVmZmVjdFdhcm5pbmcgPVxuICBgWW91IHNob3VsZCBjYWxsIG5hdmlnYXRlKCkgaW4gYSBSZWFjdC51c2VFZmZlY3QoKSwgbm90IHdoZW4gYCArXG4gIGB5b3VyIGNvbXBvbmVudCBpcyBmaXJzdCByZW5kZXJlZC5gO1xuXG4vLyBNdXRlIHdhcm5pbmdzIGZvciBjYWxscyB0byB1c2VOYXZpZ2F0ZSBpbiBTU1IgZW52aXJvbm1lbnRzXG5mdW5jdGlvbiB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KFxuICBjYjogUGFyYW1ldGVyczx0eXBlb2YgUmVhY3QudXNlTGF5b3V0RWZmZWN0PlswXVxuKSB7XG4gIGxldCBpc1N0YXRpYyA9IFJlYWN0LnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpLnN0YXRpYztcbiAgaWYgKCFpc1N0YXRpYykge1xuICAgIC8vIFdlIHNob3VsZCBiZSBhYmxlIHRvIGdldCByaWQgb2YgdGhpcyBvbmNlIHJlYWN0IDE4LjMgaXMgcmVsZWFzZWRcbiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzI2Mzk1XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KGNiKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYW4gaW1wZXJhdGl2ZSBtZXRob2QgZm9yIGNoYW5naW5nIHRoZSBsb2NhdGlvbi4gVXNlZCBieSBgPExpbms+YHMsIGJ1dFxuICogbWF5IGFsc28gYmUgdXNlZCBieSBvdGhlciBlbGVtZW50cyB0byBjaGFuZ2UgdGhlIGxvY2F0aW9uLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvaG9va3MvdXNlLW5hdmlnYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VOYXZpZ2F0ZSgpOiBOYXZpZ2F0ZUZ1bmN0aW9uIHtcbiAgbGV0IHsgaXNEYXRhUm91dGUgfSA9IFJlYWN0LnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgLy8gQ29uZGl0aW9uYWwgdXNhZ2UgaXMgT0sgaGVyZSBiZWNhdXNlIHRoZSB1c2FnZSBvZiBhIGRhdGEgcm91dGVyIGlzIHN0YXRpY1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgcmV0dXJuIGlzRGF0YVJvdXRlID8gdXNlTmF2aWdhdGVTdGFibGUoKSA6IHVzZU5hdmlnYXRlVW5zdGFibGUoKTtcbn1cblxuZnVuY3Rpb24gdXNlTmF2aWdhdGVVbnN0YWJsZSgpOiBOYXZpZ2F0ZUZ1bmN0aW9uIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlTmF2aWdhdGUoKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcblxuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgbGV0IHsgYmFzZW5hbWUsIGZ1dHVyZSwgbmF2aWdhdG9yIH0gPSBSZWFjdC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgeyBwYXRobmFtZTogbG9jYXRpb25QYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcblxuICBsZXQgcm91dGVQYXRobmFtZXNKc29uID0gSlNPTi5zdHJpbmdpZnkoXG4gICAgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzLCBmdXR1cmUudjdfcmVsYXRpdmVTcGxhdFBhdGgpXG4gICk7XG5cbiAgbGV0IGFjdGl2ZVJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGFjdGl2ZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSk7XG5cbiAgbGV0IG5hdmlnYXRlOiBOYXZpZ2F0ZUZ1bmN0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHRvOiBUbyB8IG51bWJlciwgb3B0aW9uczogTmF2aWdhdGVPcHRpb25zID0ge30pID0+IHtcbiAgICAgIHdhcm5pbmcoYWN0aXZlUmVmLmN1cnJlbnQsIG5hdmlnYXRlRWZmZWN0V2FybmluZyk7XG5cbiAgICAgIC8vIFNob3J0IGNpcmN1aXQgaGVyZSBzaW5jZSBpZiB0aGlzIGhhcHBlbnMgb24gZmlyc3QgcmVuZGVyIHRoZSBuYXZpZ2F0ZVxuICAgICAgLy8gaXMgdXNlbGVzcyBiZWNhdXNlIHdlIGhhdmVuJ3Qgd2lyZWQgdXAgb3VyIGhpc3RvcnkgbGlzdGVuZXIgeWV0XG4gICAgICBpZiAoIWFjdGl2ZVJlZi5jdXJyZW50KSByZXR1cm47XG5cbiAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgbmF2aWdhdG9yLmdvKHRvKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgcGF0aCA9IHJlc29sdmVUbyhcbiAgICAgICAgdG8sXG4gICAgICAgIEpTT04ucGFyc2Uocm91dGVQYXRobmFtZXNKc29uKSxcbiAgICAgICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICAgICAgb3B0aW9ucy5yZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgICAgICk7XG5cbiAgICAgIC8vIElmIHdlJ3JlIG9wZXJhdGluZyB3aXRoaW4gYSBiYXNlbmFtZSwgcHJlcGVuZCBpdCB0byB0aGUgcGF0aG5hbWUgcHJpb3JcbiAgICAgIC8vIHRvIGhhbmRpbmcgb2ZmIHRvIGhpc3RvcnkgKGJ1dCBvbmx5IGlmIHdlJ3JlIG5vdCBpbiBhIGRhdGEgcm91dGVyLFxuICAgICAgLy8gb3RoZXJ3aXNlIGl0J2xsIHByZXBlbmQgdGhlIGJhc2VuYW1lIGluc2lkZSBvZiB0aGUgcm91dGVyKS5cbiAgICAgIC8vIElmIHRoaXMgaXMgYSByb290IG5hdmlnYXRpb24sIHRoZW4gd2UgbmF2aWdhdGUgdG8gdGhlIHJhdyBiYXNlbmFtZVxuICAgICAgLy8gd2hpY2ggYWxsb3dzIHRoZSBiYXNlbmFtZSB0byBoYXZlIGZ1bGwgY29udHJvbCBvdmVyIHRoZSBwcmVzZW5jZSBvZiBhXG4gICAgICAvLyB0cmFpbGluZyBzbGFzaCBvbiByb290IGxpbmtzXG4gICAgICBpZiAoZGF0YVJvdXRlckNvbnRleHQgPT0gbnVsbCAmJiBiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICAgICAgcGF0aC5wYXRobmFtZSA9XG4gICAgICAgICAgcGF0aC5wYXRobmFtZSA9PT0gXCIvXCJcbiAgICAgICAgICAgID8gYmFzZW5hbWVcbiAgICAgICAgICAgIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aC5wYXRobmFtZV0pO1xuICAgICAgfVxuXG4gICAgICAoISFvcHRpb25zLnJlcGxhY2UgPyBuYXZpZ2F0b3IucmVwbGFjZSA6IG5hdmlnYXRvci5wdXNoKShcbiAgICAgICAgcGF0aCxcbiAgICAgICAgb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9LFxuICAgIFtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbmF2aWdhdG9yLFxuICAgICAgcm91dGVQYXRobmFtZXNKc29uLFxuICAgICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICAgIGRhdGFSb3V0ZXJDb250ZXh0LFxuICAgIF1cbiAgKTtcblxuICByZXR1cm4gbmF2aWdhdGU7XG59XG5cbmNvbnN0IE91dGxldENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PHVua25vd24+KG51bGwpO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGNvbnRleHQgKGlmIHByb3ZpZGVkKSBmb3IgdGhlIGNoaWxkIHJvdXRlIGF0IHRoaXMgbGV2ZWwgb2YgdGhlIHJvdXRlXG4gKiBoaWVyYXJjaHkuXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1vdXRsZXQtY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlT3V0bGV0Q29udGV4dDxDb250ZXh0ID0gdW5rbm93bj4oKTogQ29udGV4dCB7XG4gIHJldHVybiBSZWFjdC51c2VDb250ZXh0KE91dGxldENvbnRleHQpIGFzIENvbnRleHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZWxlbWVudCBmb3IgdGhlIGNoaWxkIHJvdXRlIGF0IHRoaXMgbGV2ZWwgb2YgdGhlIHJvdXRlXG4gKiBoaWVyYXJjaHkuIFVzZWQgaW50ZXJuYWxseSBieSBgPE91dGxldD5gIHRvIHJlbmRlciBjaGlsZCByb3V0ZXMuXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2Utb3V0bGV0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VPdXRsZXQoY29udGV4dD86IHVua25vd24pOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgbGV0IG91dGxldCA9IFJlYWN0LnVzZUNvbnRleHQoUm91dGVDb250ZXh0KS5vdXRsZXQ7XG4gIGlmIChvdXRsZXQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE91dGxldENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PntvdXRsZXR9PC9PdXRsZXRDb250ZXh0LlByb3ZpZGVyPlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG91dGxldDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBrZXkvdmFsdWUgcGFpcnMgb2YgdGhlIGR5bmFtaWMgcGFyYW1zIGZyb20gdGhlIGN1cnJlbnRcbiAqIFVSTCB0aGF0IHdlcmUgbWF0Y2hlZCBieSB0aGUgcm91dGUgcGF0aC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1wYXJhbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBhcmFtczxcbiAgUGFyYW1zT3JLZXkgZXh0ZW5kcyBzdHJpbmcgfCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCB1bmRlZmluZWQ+ID0gc3RyaW5nXG4+KCk6IFJlYWRvbmx5PFxuICBbUGFyYW1zT3JLZXldIGV4dGVuZHMgW3N0cmluZ10gPyBQYXJhbXM8UGFyYW1zT3JLZXk+IDogUGFydGlhbDxQYXJhbXNPcktleT5cbj4ge1xuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZU1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gcm91dGVNYXRjaCA/IChyb3V0ZU1hdGNoLnBhcmFtcyBhcyBhbnkpIDoge307XG59XG5cbi8qKlxuICogUmVzb2x2ZXMgdGhlIHBhdGhuYW1lIG9mIHRoZSBnaXZlbiBgdG9gIHZhbHVlIGFnYWluc3QgdGhlIGN1cnJlbnQgbG9jYXRpb24uXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9ob29rcy91c2UtcmVzb2x2ZWQtcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVzb2x2ZWRQYXRoKFxuICB0bzogVG8sXG4gIHsgcmVsYXRpdmUgfTogeyByZWxhdGl2ZT86IFJlbGF0aXZlUm91dGluZ1R5cGUgfSA9IHt9XG4pOiBQYXRoIHtcbiAgbGV0IHsgZnV0dXJlIH0gPSBSZWFjdC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgeyBwYXRobmFtZTogbG9jYXRpb25QYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHJvdXRlUGF0aG5hbWVzSnNvbiA9IEpTT04uc3RyaW5naWZ5KFxuICAgIGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcywgZnV0dXJlLnY3X3JlbGF0aXZlU3BsYXRQYXRoKVxuICApO1xuXG4gIHJldHVybiBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+XG4gICAgICByZXNvbHZlVG8oXG4gICAgICAgIHRvLFxuICAgICAgICBKU09OLnBhcnNlKHJvdXRlUGF0aG5hbWVzSnNvbiksXG4gICAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICAgIHJlbGF0aXZlID09PSBcInBhdGhcIlxuICAgICAgKSxcbiAgICBbdG8sIHJvdXRlUGF0aG5hbWVzSnNvbiwgbG9jYXRpb25QYXRobmFtZSwgcmVsYXRpdmVdXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZWxlbWVudCBvZiB0aGUgcm91dGUgdGhhdCBtYXRjaGVkIHRoZSBjdXJyZW50IGxvY2F0aW9uLCBwcmVwYXJlZFxuICogd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0IHRvIHJlbmRlciB0aGUgcmVtYWluZGVyIG9mIHRoZSByb3V0ZSB0cmVlLiBSb3V0ZVxuICogZWxlbWVudHMgaW4gdGhlIHRyZWUgbXVzdCByZW5kZXIgYW4gYDxPdXRsZXQ+YCB0byByZW5kZXIgdGhlaXIgY2hpbGQgcm91dGUnc1xuICogZWxlbWVudC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2hvb2tzL3VzZS1yb3V0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJvdXRlcyhcbiAgcm91dGVzOiBSb3V0ZU9iamVjdFtdLFxuICBsb2NhdGlvbkFyZz86IFBhcnRpYWw8TG9jYXRpb24+IHwgc3RyaW5nXG4pOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgcmV0dXJuIHVzZVJvdXRlc0ltcGwocm91dGVzLCBsb2NhdGlvbkFyZyk7XG59XG5cbi8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIHdpdGggYWNjZXB0IG9wdGlvbmFsIHBhcmFtIGZvciBSb3V0ZXJQcm92aWRlciB1c2FnZVxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJvdXRlc0ltcGwoXG4gIHJvdXRlczogUm91dGVPYmplY3RbXSxcbiAgbG9jYXRpb25Bcmc/OiBQYXJ0aWFsPExvY2F0aW9uPiB8IHN0cmluZyxcbiAgZGF0YVJvdXRlclN0YXRlPzogUmVtaXhSb3V0ZXJbXCJzdGF0ZVwiXSxcbiAgZnV0dXJlPzogUmVtaXhSb3V0ZXJbXCJmdXR1cmVcIl1cbik6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VSb3V0ZXMoKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcblxuICBsZXQgeyBuYXZpZ2F0b3IgfSA9IFJlYWN0LnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgeyBtYXRjaGVzOiBwYXJlbnRNYXRjaGVzIH0gPSBSZWFjdC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZU1hdGNoID0gcGFyZW50TWF0Y2hlc1twYXJlbnRNYXRjaGVzLmxlbmd0aCAtIDFdO1xuICBsZXQgcGFyZW50UGFyYW1zID0gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGFyYW1zIDoge307XG4gIGxldCBwYXJlbnRQYXRobmFtZSA9IHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhdGhuYW1lIDogXCIvXCI7XG4gIGxldCBwYXJlbnRQYXRobmFtZUJhc2UgPSByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXRobmFtZUJhc2UgOiBcIi9cIjtcbiAgbGV0IHBhcmVudFJvdXRlID0gcm91dGVNYXRjaCAmJiByb3V0ZU1hdGNoLnJvdXRlO1xuXG4gIGlmIChfX0RFVl9fKSB7XG4gICAgLy8gWW91IHdvbid0IGdldCBhIHdhcm5pbmcgYWJvdXQgMiBkaWZmZXJlbnQgPFJvdXRlcz4gdW5kZXIgYSA8Um91dGU+XG4gICAgLy8gd2l0aG91dCBhIHRyYWlsaW5nICosIGJ1dCB0aGlzIGlzIGEgYmVzdC1lZmZvcnQgd2FybmluZyBhbnl3YXkgc2luY2Ugd2VcbiAgICAvLyBjYW5ub3QgZXZlbiBnaXZlIHRoZSB3YXJuaW5nIHVubGVzcyB0aGV5IGxhbmQgYXQgdGhlIHBhcmVudCByb3V0ZS5cbiAgICAvL1xuICAgIC8vIEV4YW1wbGU6XG4gICAgLy9cbiAgICAvLyA8Um91dGVzPlxuICAgIC8vICAgey8qIFRoaXMgcm91dGUgcGF0aCBNVVNUIGVuZCB3aXRoIC8qIGJlY2F1c2Ugb3RoZXJ3aXNlXG4gICAgLy8gICAgICAgaXQgd2lsbCBuZXZlciBtYXRjaCAvYmxvZy9wb3N0LzEyMyAqL31cbiAgICAvLyAgIDxSb3V0ZSBwYXRoPVwiYmxvZ1wiIGVsZW1lbnQ9ezxCbG9nIC8+fSAvPlxuICAgIC8vICAgPFJvdXRlIHBhdGg9XCJibG9nL2ZlZWRcIiBlbGVtZW50PXs8QmxvZ0ZlZWQgLz59IC8+XG4gICAgLy8gPC9Sb3V0ZXM+XG4gICAgLy9cbiAgICAvLyBmdW5jdGlvbiBCbG9nKCkge1xuICAgIC8vICAgcmV0dXJuIChcbiAgICAvLyAgICAgPFJvdXRlcz5cbiAgICAvLyAgICAgICA8Um91dGUgcGF0aD1cInBvc3QvOmlkXCIgZWxlbWVudD17PFBvc3QgLz59IC8+XG4gICAgLy8gICAgIDwvUm91dGVzPlxuICAgIC8vICAgKTtcbiAgICAvLyB9XG4gICAgbGV0IHBhcmVudFBhdGggPSAocGFyZW50Um91dGUgJiYgcGFyZW50Um91dGUucGF0aCkgfHwgXCJcIjtcbiAgICB3YXJuaW5nT25jZShcbiAgICAgIHBhcmVudFBhdGhuYW1lLFxuICAgICAgIXBhcmVudFJvdXRlIHx8IHBhcmVudFBhdGguZW5kc1dpdGgoXCIqXCIpLFxuICAgICAgYFlvdSByZW5kZXJlZCBkZXNjZW5kYW50IDxSb3V0ZXM+IChvciBjYWxsZWQgXFxgdXNlUm91dGVzKClcXGApIGF0IGAgK1xuICAgICAgICBgXCIke3BhcmVudFBhdGhuYW1lfVwiICh1bmRlciA8Um91dGUgcGF0aD1cIiR7cGFyZW50UGF0aH1cIj4pIGJ1dCB0aGUgYCArXG4gICAgICAgIGBwYXJlbnQgcm91dGUgcGF0aCBoYXMgbm8gdHJhaWxpbmcgXCIqXCIuIFRoaXMgbWVhbnMgaWYgeW91IG5hdmlnYXRlIGAgK1xuICAgICAgICBgZGVlcGVyLCB0aGUgcGFyZW50IHdvbid0IG1hdGNoIGFueW1vcmUgYW5kIHRoZXJlZm9yZSB0aGUgY2hpbGQgYCArXG4gICAgICAgIGByb3V0ZXMgd2lsbCBuZXZlciByZW5kZXIuXFxuXFxuYCArXG4gICAgICAgIGBQbGVhc2UgY2hhbmdlIHRoZSBwYXJlbnQgPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGh9XCI+IHRvIDxSb3V0ZSBgICtcbiAgICAgICAgYHBhdGg9XCIke3BhcmVudFBhdGggPT09IFwiL1wiID8gXCIqXCIgOiBgJHtwYXJlbnRQYXRofS8qYH1cIj4uYFxuICAgICk7XG4gIH1cblxuICBsZXQgbG9jYXRpb25Gcm9tQ29udGV4dCA9IHVzZUxvY2F0aW9uKCk7XG5cbiAgbGV0IGxvY2F0aW9uO1xuICBpZiAobG9jYXRpb25BcmcpIHtcbiAgICBsZXQgcGFyc2VkTG9jYXRpb25BcmcgPVxuICAgICAgdHlwZW9mIGxvY2F0aW9uQXJnID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKGxvY2F0aW9uQXJnKSA6IGxvY2F0aW9uQXJnO1xuXG4gICAgaW52YXJpYW50KFxuICAgICAgcGFyZW50UGF0aG5hbWVCYXNlID09PSBcIi9cIiB8fFxuICAgICAgICBwYXJzZWRMb2NhdGlvbkFyZy5wYXRobmFtZT8uc3RhcnRzV2l0aChwYXJlbnRQYXRobmFtZUJhc2UpLFxuICAgICAgYFdoZW4gb3ZlcnJpZGluZyB0aGUgbG9jYXRpb24gdXNpbmcgXFxgPFJvdXRlcyBsb2NhdGlvbj5cXGAgb3IgXFxgdXNlUm91dGVzKHJvdXRlcywgbG9jYXRpb24pXFxgLCBgICtcbiAgICAgICAgYHRoZSBsb2NhdGlvbiBwYXRobmFtZSBtdXN0IGJlZ2luIHdpdGggdGhlIHBvcnRpb24gb2YgdGhlIFVSTCBwYXRobmFtZSB0aGF0IHdhcyBgICtcbiAgICAgICAgYG1hdGNoZWQgYnkgYWxsIHBhcmVudCByb3V0ZXMuIFRoZSBjdXJyZW50IHBhdGhuYW1lIGJhc2UgaXMgXCIke3BhcmVudFBhdGhuYW1lQmFzZX1cIiBgICtcbiAgICAgICAgYGJ1dCBwYXRobmFtZSBcIiR7cGFyc2VkTG9jYXRpb25BcmcucGF0aG5hbWV9XCIgd2FzIGdpdmVuIGluIHRoZSBcXGBsb2NhdGlvblxcYCBwcm9wLmBcbiAgICApO1xuXG4gICAgbG9jYXRpb24gPSBwYXJzZWRMb2NhdGlvbkFyZztcbiAgfSBlbHNlIHtcbiAgICBsb2NhdGlvbiA9IGxvY2F0aW9uRnJvbUNvbnRleHQ7XG4gIH1cblxuICBsZXQgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZSB8fCBcIi9cIjtcblxuICBsZXQgcmVtYWluaW5nUGF0aG5hbWUgPSBwYXRobmFtZTtcbiAgaWYgKHBhcmVudFBhdGhuYW1lQmFzZSAhPT0gXCIvXCIpIHtcbiAgICAvLyBEZXRlcm1pbmUgdGhlIHJlbWFpbmluZyBwYXRobmFtZSBieSByZW1vdmluZyB0aGUgIyBvZiBVUkwgc2VnbWVudHMgdGhlXG4gICAgLy8gcGFyZW50UGF0aG5hbWVCYXNlIGhhcywgaW5zdGVhZCBvZiByZW1vdmluZyBiYXNlZCBvbiBjaGFyYWN0ZXIgY291bnQuXG4gICAgLy8gVGhpcyBpcyBiZWNhdXNlIHdlIGNhbid0IGd1YXJhbnRlZSB0aGF0IGluY29taW5nL291dGdvaW5nIGVuY29kaW5ncy9cbiAgICAvLyBkZWNvZGluZ3Mgd2lsbCBtYXRjaCBleGFjdGx5LlxuICAgIC8vIFdlIGRlY29kZSBwYXRocyBiZWZvcmUgbWF0Y2hpbmcgb24gYSBwZXItc2VnbWVudCBiYXNpcyB3aXRoXG4gICAgLy8gZGVjb2RlVVJJQ29tcG9uZW50KCksIGJ1dCB3ZSByZS1lbmNvZGUgcGF0aG5hbWVzIHZpYSBgbmV3IFVSTCgpYCBzbyB0aGV5XG4gICAgLy8gbWF0Y2ggd2hhdCBgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lYCB3b3VsZCByZWZsZWN0LiAgVGhvc2UgZG9uJ3QgMTAwJVxuICAgIC8vIGFsaWduIHdoZW4gaXQgY29tZXMgdG8gZW5jb2RlZCBVUkkgY2hhcmFjdGVycyBzdWNoIGFzICUgYW5kICYuXG4gICAgLy9cbiAgICAvLyBTbyB3ZSBtYXkgZW5kIHVwIHdpdGg6XG4gICAgLy8gICBwYXRobmFtZTogICAgICAgICAgIFwiL2Rlc2NlbmRhbnQvYSUyNWIvbWF0Y2hcIlxuICAgIC8vICAgcGFyZW50UGF0aG5hbWVCYXNlOiBcIi9kZXNjZW5kYW50L2ElYlwiXG4gICAgLy9cbiAgICAvLyBBbmQgdGhlIGRpcmVjdCBzdWJzdHJpbmcgcmVtb3ZhbCBhcHByb2FjaCB3b24ndCB3b3JrIDovXG4gICAgbGV0IHBhcmVudFNlZ21lbnRzID0gcGFyZW50UGF0aG5hbWVCYXNlLnJlcGxhY2UoL15cXC8vLCBcIlwiKS5zcGxpdChcIi9cIik7XG4gICAgbGV0IHNlZ21lbnRzID0gcGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sIFwiXCIpLnNwbGl0KFwiL1wiKTtcbiAgICByZW1haW5pbmdQYXRobmFtZSA9IFwiL1wiICsgc2VnbWVudHMuc2xpY2UocGFyZW50U2VnbWVudHMubGVuZ3RoKS5qb2luKFwiL1wiKTtcbiAgfVxuXG4gIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzLCB7IHBhdGhuYW1lOiByZW1haW5pbmdQYXRobmFtZSB9KTtcblxuICBpZiAoX19ERVZfXykge1xuICAgIHdhcm5pbmcoXG4gICAgICBwYXJlbnRSb3V0ZSB8fCBtYXRjaGVzICE9IG51bGwsXG4gICAgICBgTm8gcm91dGVzIG1hdGNoZWQgbG9jYXRpb24gXCIke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofSR7bG9jYXRpb24uaGFzaH1cIiBgXG4gICAgKTtcblxuICAgIHdhcm5pbmcoXG4gICAgICBtYXRjaGVzID09IG51bGwgfHxcbiAgICAgICAgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmVsZW1lbnQgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuQ29tcG9uZW50ICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmxhenkgIT09IHVuZGVmaW5lZCxcbiAgICAgIGBNYXRjaGVkIGxlYWYgcm91dGUgYXQgbG9jYXRpb24gXCIke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofSR7bG9jYXRpb24uaGFzaH1cIiBgICtcbiAgICAgICAgYGRvZXMgbm90IGhhdmUgYW4gZWxlbWVudCBvciBDb21wb25lbnQuIFRoaXMgbWVhbnMgaXQgd2lsbCByZW5kZXIgYW4gPE91dGxldCAvPiB3aXRoIGEgYCArXG4gICAgICAgIGBudWxsIHZhbHVlIGJ5IGRlZmF1bHQgcmVzdWx0aW5nIGluIGFuIFwiZW1wdHlcIiBwYWdlLmBcbiAgICApO1xuICB9XG5cbiAgbGV0IHJlbmRlcmVkTWF0Y2hlcyA9IF9yZW5kZXJNYXRjaGVzKFxuICAgIG1hdGNoZXMgJiZcbiAgICAgIG1hdGNoZXMubWFwKChtYXRjaCkgPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgbWF0Y2gsIHtcbiAgICAgICAgICBwYXJhbXM6IE9iamVjdC5hc3NpZ24oe30sIHBhcmVudFBhcmFtcywgbWF0Y2gucGFyYW1zKSxcbiAgICAgICAgICBwYXRobmFtZTogam9pblBhdGhzKFtcbiAgICAgICAgICAgIHBhcmVudFBhdGhuYW1lQmFzZSxcbiAgICAgICAgICAgIC8vIFJlLWVuY29kZSBwYXRobmFtZXMgdGhhdCB3ZXJlIGRlY29kZWQgaW5zaWRlIG1hdGNoUm91dGVzXG4gICAgICAgICAgICBuYXZpZ2F0b3IuZW5jb2RlTG9jYXRpb25cbiAgICAgICAgICAgICAgPyBuYXZpZ2F0b3IuZW5jb2RlTG9jYXRpb24obWF0Y2gucGF0aG5hbWUpLnBhdGhuYW1lXG4gICAgICAgICAgICAgIDogbWF0Y2gucGF0aG5hbWUsXG4gICAgICAgICAgXSksXG4gICAgICAgICAgcGF0aG5hbWVCYXNlOlxuICAgICAgICAgICAgbWF0Y2gucGF0aG5hbWVCYXNlID09PSBcIi9cIlxuICAgICAgICAgICAgICA/IHBhcmVudFBhdGhuYW1lQmFzZVxuICAgICAgICAgICAgICA6IGpvaW5QYXRocyhbXG4gICAgICAgICAgICAgICAgICBwYXJlbnRQYXRobmFtZUJhc2UsXG4gICAgICAgICAgICAgICAgICAvLyBSZS1lbmNvZGUgcGF0aG5hbWVzIHRoYXQgd2VyZSBkZWNvZGVkIGluc2lkZSBtYXRjaFJvdXRlc1xuICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmVuY29kZUxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gbmF2aWdhdG9yLmVuY29kZUxvY2F0aW9uKG1hdGNoLnBhdGhuYW1lQmFzZSkucGF0aG5hbWVcbiAgICAgICAgICAgICAgICAgICAgOiBtYXRjaC5wYXRobmFtZUJhc2UsXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgIH0pXG4gICAgICApLFxuICAgIHBhcmVudE1hdGNoZXMsXG4gICAgZGF0YVJvdXRlclN0YXRlLFxuICAgIGZ1dHVyZVxuICApO1xuXG4gIC8vIFdoZW4gYSB1c2VyIHBhc3NlcyBpbiBhIGBsb2NhdGlvbkFyZ2AsIHRoZSBhc3NvY2lhdGVkIHJvdXRlcyBuZWVkIHRvXG4gIC8vIGJlIHdyYXBwZWQgaW4gYSBuZXcgYExvY2F0aW9uQ29udGV4dC5Qcm92aWRlcmAgaW4gb3JkZXIgZm9yIGB1c2VMb2NhdGlvbmBcbiAgLy8gdG8gdXNlIHRoZSBzY29wZWQgbG9jYXRpb24gaW5zdGVhZCBvZiB0aGUgZ2xvYmFsIGxvY2F0aW9uLlxuICBpZiAobG9jYXRpb25BcmcgJiYgcmVuZGVyZWRNYXRjaGVzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMb2NhdGlvbkNvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgcGF0aG5hbWU6IFwiL1wiLFxuICAgICAgICAgICAgc2VhcmNoOiBcIlwiLFxuICAgICAgICAgICAgaGFzaDogXCJcIixcbiAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAga2V5OiBcImRlZmF1bHRcIixcbiAgICAgICAgICAgIC4uLmxvY2F0aW9uLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmF2aWdhdGlvblR5cGU6IE5hdmlnYXRpb25UeXBlLlBvcCxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge3JlbmRlcmVkTWF0Y2hlc31cbiAgICAgIDwvTG9jYXRpb25Db250ZXh0LlByb3ZpZGVyPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gcmVuZGVyZWRNYXRjaGVzO1xufVxuXG5mdW5jdGlvbiBEZWZhdWx0RXJyb3JDb21wb25lbnQoKSB7XG4gIGxldCBlcnJvciA9IHVzZVJvdXRlRXJyb3IoKTtcbiAgbGV0IG1lc3NhZ2UgPSBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcilcbiAgICA/IGAke2Vycm9yLnN0YXR1c30gJHtlcnJvci5zdGF0dXNUZXh0fWBcbiAgICA6IGVycm9yIGluc3RhbmNlb2YgRXJyb3JcbiAgICA/IGVycm9yLm1lc3NhZ2VcbiAgICA6IEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbiAgbGV0IHN0YWNrID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogbnVsbDtcbiAgbGV0IGxpZ2h0Z3JleSA9IFwicmdiYSgyMDAsMjAwLDIwMCwgMC41KVwiO1xuICBsZXQgcHJlU3R5bGVzID0geyBwYWRkaW5nOiBcIjAuNXJlbVwiLCBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Z3JleSB9O1xuICBsZXQgY29kZVN0eWxlcyA9IHsgcGFkZGluZzogXCIycHggNHB4XCIsIGJhY2tncm91bmRDb2xvcjogbGlnaHRncmV5IH07XG5cbiAgbGV0IGRldkluZm8gPSBudWxsO1xuICBpZiAoX19ERVZfXykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIkVycm9yIGhhbmRsZWQgYnkgUmVhY3QgUm91dGVyIGRlZmF1bHQgRXJyb3JCb3VuZGFyeTpcIixcbiAgICAgIGVycm9yXG4gICAgKTtcblxuICAgIGRldkluZm8gPSAoXG4gICAgICA8PlxuICAgICAgICA8cD7wn5K/IEhleSBkZXZlbG9wZXIg8J+RizwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAgWW91IGNhbiBwcm92aWRlIGEgd2F5IGJldHRlciBVWCB0aGFuIHRoaXMgd2hlbiB5b3VyIGFwcCB0aHJvd3MgZXJyb3JzXG4gICAgICAgICAgYnkgcHJvdmlkaW5nIHlvdXIgb3duIDxjb2RlIHN0eWxlPXtjb2RlU3R5bGVzfT5FcnJvckJvdW5kYXJ5PC9jb2RlPiBvcntcIiBcIn1cbiAgICAgICAgICA8Y29kZSBzdHlsZT17Y29kZVN0eWxlc30+ZXJyb3JFbGVtZW50PC9jb2RlPiBwcm9wIG9uIHlvdXIgcm91dGUuXG4gICAgICAgIDwvcD5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8aDI+VW5leHBlY3RlZCBBcHBsaWNhdGlvbiBFcnJvciE8L2gyPlxuICAgICAgPGgzIHN0eWxlPXt7IGZvbnRTdHlsZTogXCJpdGFsaWNcIiB9fT57bWVzc2FnZX08L2gzPlxuICAgICAge3N0YWNrID8gPHByZSBzdHlsZT17cHJlU3R5bGVzfT57c3RhY2t9PC9wcmU+IDogbnVsbH1cbiAgICAgIHtkZXZJbmZvfVxuICAgIDwvPlxuICApO1xufVxuXG5jb25zdCBkZWZhdWx0RXJyb3JFbGVtZW50ID0gPERlZmF1bHRFcnJvckNvbXBvbmVudCAvPjtcblxudHlwZSBSZW5kZXJFcnJvckJvdW5kYXJ5UHJvcHMgPSBSZWFjdC5Qcm9wc1dpdGhDaGlsZHJlbjx7XG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcbiAgcmV2YWxpZGF0aW9uOiBSZXZhbGlkYXRpb25TdGF0ZTtcbiAgZXJyb3I6IGFueTtcbiAgY29tcG9uZW50OiBSZWFjdC5SZWFjdE5vZGU7XG4gIHJvdXRlQ29udGV4dDogUm91dGVDb250ZXh0T2JqZWN0O1xufT47XG5cbnR5cGUgUmVuZGVyRXJyb3JCb3VuZGFyeVN0YXRlID0ge1xuICBsb2NhdGlvbjogTG9jYXRpb247XG4gIHJldmFsaWRhdGlvbjogUmV2YWxpZGF0aW9uU3RhdGU7XG4gIGVycm9yOiBhbnk7XG59O1xuXG5leHBvcnQgY2xhc3MgUmVuZGVyRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcbiAgUmVuZGVyRXJyb3JCb3VuZGFyeVByb3BzLFxuICBSZW5kZXJFcnJvckJvdW5kYXJ5U3RhdGVcbj4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wczogUmVuZGVyRXJyb3JCb3VuZGFyeVByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24sXG4gICAgICByZXZhbGlkYXRpb246IHByb3BzLnJldmFsaWRhdGlvbixcbiAgICAgIGVycm9yOiBwcm9wcy5lcnJvcixcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcjogYW55KSB7XG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgIHByb3BzOiBSZW5kZXJFcnJvckJvdW5kYXJ5UHJvcHMsXG4gICAgc3RhdGU6IFJlbmRlckVycm9yQm91bmRhcnlTdGF0ZVxuICApIHtcbiAgICAvLyBXaGVuIHdlIGdldCBpbnRvIGFuIGVycm9yIHN0YXRlLCB0aGUgdXNlciB3aWxsIGxpa2VseSBjbGljayBcImJhY2tcIiB0byB0aGVcbiAgICAvLyBwcmV2aW91cyBwYWdlIHRoYXQgZGlkbid0IGhhdmUgYW4gZXJyb3IuIEJlY2F1c2UgdGhpcyB3cmFwcyB0aGUgZW50aXJlXG4gICAgLy8gYXBwbGljYXRpb24sIHRoYXQgd2lsbCBoYXZlIG5vIGVmZmVjdC0tdGhlIGVycm9yIHBhZ2UgY29udGludWVzIHRvIGRpc3BsYXkuXG4gICAgLy8gVGhpcyBnaXZlcyB1cyBhIG1lY2hhbmlzbSB0byByZWNvdmVyIGZyb20gdGhlIGVycm9yIHdoZW4gdGhlIGxvY2F0aW9uIGNoYW5nZXMuXG4gICAgLy9cbiAgICAvLyBXaGV0aGVyIHdlJ3JlIGluIGFuIGVycm9yIHN0YXRlIG9yIG5vdCwgd2UgdXBkYXRlIHRoZSBsb2NhdGlvbiBpbiBzdGF0ZVxuICAgIC8vIHNvIHRoYXQgd2hlbiB3ZSBhcmUgaW4gYW4gZXJyb3Igc3RhdGUsIGl0IGdldHMgcmVzZXQgd2hlbiBhIG5ldyBsb2NhdGlvblxuICAgIC8vIGNvbWVzIGluIGFuZCB0aGUgdXNlciByZWNvdmVycyBmcm9tIHRoZSBlcnJvci5cbiAgICBpZiAoXG4gICAgICBzdGF0ZS5sb2NhdGlvbiAhPT0gcHJvcHMubG9jYXRpb24gfHxcbiAgICAgIChzdGF0ZS5yZXZhbGlkYXRpb24gIT09IFwiaWRsZVwiICYmIHByb3BzLnJldmFsaWRhdGlvbiA9PT0gXCJpZGxlXCIpXG4gICAgKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcjogcHJvcHMuZXJyb3IsXG4gICAgICAgIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbixcbiAgICAgICAgcmV2YWxpZGF0aW9uOiBwcm9wcy5yZXZhbGlkYXRpb24sXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHdlJ3JlIG5vdCBjaGFuZ2luZyBsb2NhdGlvbnMsIHByZXNlcnZlIHRoZSBsb2NhdGlvbiBidXQgc3RpbGwgc3VyZmFjZVxuICAgIC8vIGFueSBuZXcgZXJyb3JzIHRoYXQgbWF5IGNvbWUgdGhyb3VnaC4gV2UgcmV0YWluIHRoZSBleGlzdGluZyBlcnJvciwgd2UgZG9cbiAgICAvLyB0aGlzIGJlY2F1c2UgdGhlIGVycm9yIHByb3ZpZGVkIGZyb20gdGhlIGFwcCBzdGF0ZSBtYXkgYmUgY2xlYXJlZCB3aXRob3V0XG4gICAgLy8gdGhlIGxvY2F0aW9uIGNoYW5naW5nLlxuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogcHJvcHMuZXJyb3IgIT09IHVuZGVmaW5lZCA/IHByb3BzLmVycm9yIDogc3RhdGUuZXJyb3IsXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICByZXZhbGlkYXRpb246IHByb3BzLnJldmFsaWRhdGlvbiB8fCBzdGF0ZS5yZXZhbGlkYXRpb24sXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yOiBhbnksIGVycm9ySW5mbzogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiUmVhY3QgUm91dGVyIGNhdWdodCB0aGUgZm9sbG93aW5nIGVycm9yIGR1cmluZyByZW5kZXJcIixcbiAgICAgIGVycm9yLFxuICAgICAgZXJyb3JJbmZvXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5lcnJvciAhPT0gdW5kZWZpbmVkID8gKFxuICAgICAgPFJvdXRlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dGhpcy5wcm9wcy5yb3V0ZUNvbnRleHR9PlxuICAgICAgICA8Um91dGVFcnJvckNvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lcnJvcn1cbiAgICAgICAgICBjaGlsZHJlbj17dGhpcy5wcm9wcy5jb21wb25lbnR9XG4gICAgICAgIC8+XG4gICAgICA8L1JvdXRlQ29udGV4dC5Qcm92aWRlcj5cbiAgICApIDogKFxuICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICk7XG4gIH1cbn1cblxuaW50ZXJmYWNlIFJlbmRlcmVkUm91dGVQcm9wcyB7XG4gIHJvdXRlQ29udGV4dDogUm91dGVDb250ZXh0T2JqZWN0O1xuICBtYXRjaDogUm91dGVNYXRjaDxzdHJpbmcsIFJvdXRlT2JqZWN0PjtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB8IG51bGw7XG59XG5cbmZ1bmN0aW9uIFJlbmRlcmVkUm91dGUoeyByb3V0ZUNvbnRleHQsIG1hdGNoLCBjaGlsZHJlbiB9OiBSZW5kZXJlZFJvdXRlUHJvcHMpIHtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG5cbiAgLy8gVHJhY2sgaG93IGRlZXAgd2UgZ290IGluIG91ciByZW5kZXIgcGFzcyB0byBlbXVsYXRlIFNTUiBjb21wb25lbnREaWRDYXRjaFxuICAvLyBpbiBhIERhdGFTdGF0aWNSb3V0ZXJcbiAgaWYgKFxuICAgIGRhdGFSb3V0ZXJDb250ZXh0ICYmXG4gICAgZGF0YVJvdXRlckNvbnRleHQuc3RhdGljICYmXG4gICAgZGF0YVJvdXRlckNvbnRleHQuc3RhdGljQ29udGV4dCAmJlxuICAgIChtYXRjaC5yb3V0ZS5lcnJvckVsZW1lbnQgfHwgbWF0Y2gucm91dGUuRXJyb3JCb3VuZGFyeSlcbiAgKSB7XG4gICAgZGF0YVJvdXRlckNvbnRleHQuc3RhdGljQ29udGV4dC5fZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZCA9IG1hdGNoLnJvdXRlLmlkO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Um91dGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtyb3V0ZUNvbnRleHR9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvUm91dGVDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3JlbmRlck1hdGNoZXMoXG4gIG1hdGNoZXM6IFJvdXRlTWF0Y2hbXSB8IG51bGwsXG4gIHBhcmVudE1hdGNoZXM6IFJvdXRlTWF0Y2hbXSA9IFtdLFxuICBkYXRhUm91dGVyU3RhdGU6IFJlbWl4Um91dGVyW1wic3RhdGVcIl0gfCBudWxsID0gbnVsbCxcbiAgZnV0dXJlOiBSZW1peFJvdXRlcltcImZ1dHVyZVwiXSB8IG51bGwgPSBudWxsXG4pOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgaWYgKG1hdGNoZXMgPT0gbnVsbCkge1xuICAgIGlmICghZGF0YVJvdXRlclN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoZGF0YVJvdXRlclN0YXRlLmVycm9ycykge1xuICAgICAgLy8gRG9uJ3QgYmFpbCBpZiB3ZSBoYXZlIGRhdGEgcm91dGVyIGVycm9ycyBzbyB3ZSBjYW4gcmVuZGVyIHRoZW0gaW4gdGhlXG4gICAgICAvLyBib3VuZGFyeS4gIFVzZSB0aGUgcHJlLW1hdGNoZWQgKG9yIHNoaW1tZWQpIG1hdGNoZXNcbiAgICAgIG1hdGNoZXMgPSBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcyBhcyBEYXRhUm91dGVNYXRjaFtdO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBmdXR1cmU/LnY3X3BhcnRpYWxIeWRyYXRpb24gJiZcbiAgICAgIHBhcmVudE1hdGNoZXMubGVuZ3RoID09PSAwICYmXG4gICAgICAhZGF0YVJvdXRlclN0YXRlLmluaXRpYWxpemVkICYmXG4gICAgICBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcy5sZW5ndGggPiAwXG4gICAgKSB7XG4gICAgICAvLyBEb24ndCBiYWlsIGlmIHdlJ3JlIGluaXRpYWxpemluZyB3aXRoIHBhcnRpYWwgaHlkcmF0aW9uIGFuZCB3ZSBoYXZlXG4gICAgICAvLyByb3V0ZXIgbWF0Y2hlcy4gIFRoYXQgbWVhbnMgd2UncmUgYWN0aXZlbHkgcnVubmluZyBgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25gXG4gICAgICAvLyBzbyB3ZSBzaG91bGQgcmVuZGVyIGRvd24gdGhlIHBhcnRpYWwgbWF0Y2hlcyB0byB0aGUgYXBwcm9wcmlhdGVcbiAgICAgIC8vIGBIeWRyYXRlRmFsbGJhY2tgLiAgV2Ugb25seSBkbyB0aGlzIGlmIGBwYXJlbnRNYXRjaGVzYCBpcyBlbXB0eSBzbyBpdFxuICAgICAgLy8gb25seSBpbXBhY3RzIHRoZSByb290IG1hdGNoZXMgZm9yIGBSb3V0ZXJQcm92aWRlcmAgYW5kIG5vIGRlc2NlbmRhbnRcbiAgICAgIC8vIGA8Um91dGVzPmBcbiAgICAgIG1hdGNoZXMgPSBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcyBhcyBEYXRhUm91dGVNYXRjaFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBsZXQgcmVuZGVyZWRNYXRjaGVzID0gbWF0Y2hlcztcblxuICAvLyBJZiB3ZSBoYXZlIGRhdGEgZXJyb3JzLCB0cmltIG1hdGNoZXMgdG8gdGhlIGhpZ2hlc3QgZXJyb3IgYm91bmRhcnlcbiAgbGV0IGVycm9ycyA9IGRhdGFSb3V0ZXJTdGF0ZT8uZXJyb3JzO1xuICBpZiAoZXJyb3JzICE9IG51bGwpIHtcbiAgICBsZXQgZXJyb3JJbmRleCA9IHJlbmRlcmVkTWF0Y2hlcy5maW5kSW5kZXgoXG4gICAgICAobSkgPT4gbS5yb3V0ZS5pZCAmJiBlcnJvcnM/LlttLnJvdXRlLmlkXSAhPT0gdW5kZWZpbmVkXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBlcnJvckluZGV4ID49IDAsXG4gICAgICBgQ291bGQgbm90IGZpbmQgYSBtYXRjaGluZyByb3V0ZSBmb3IgZXJyb3JzIG9uIHJvdXRlIElEczogJHtPYmplY3Qua2V5cyhcbiAgICAgICAgZXJyb3JzXG4gICAgICApLmpvaW4oXCIsXCIpfWBcbiAgICApO1xuICAgIHJlbmRlcmVkTWF0Y2hlcyA9IHJlbmRlcmVkTWF0Y2hlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICBNYXRoLm1pbihyZW5kZXJlZE1hdGNoZXMubGVuZ3RoLCBlcnJvckluZGV4ICsgMSlcbiAgICApO1xuICB9XG5cbiAgLy8gSWYgd2UncmUgaW4gYSBwYXJ0aWFsIGh5ZHJhdGlvbiBtb2RlLCBkZXRlY3QgaWYgd2UgbmVlZCB0byByZW5kZXIgZG93biB0b1xuICAvLyBhIGdpdmVuIEh5ZHJhdGVGYWxsYmFjayB3aGlsZSB3ZSBsb2FkIHRoZSByZXN0IG9mIHRoZSBoeWRyYXRpb24gZGF0YVxuICBsZXQgcmVuZGVyRmFsbGJhY2sgPSBmYWxzZTtcbiAgbGV0IGZhbGxiYWNrSW5kZXggPSAtMTtcbiAgaWYgKGRhdGFSb3V0ZXJTdGF0ZSAmJiBmdXR1cmUgJiYgZnV0dXJlLnY3X3BhcnRpYWxIeWRyYXRpb24pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcmVkTWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1hdGNoID0gcmVuZGVyZWRNYXRjaGVzW2ldO1xuICAgICAgLy8gVHJhY2sgdGhlIGRlZXBlc3QgZmFsbGJhY2sgdXAgdW50aWwgdGhlIGZpcnN0IHJvdXRlIHdpdGhvdXQgZGF0YVxuICAgICAgaWYgKG1hdGNoLnJvdXRlLkh5ZHJhdGVGYWxsYmFjayB8fCBtYXRjaC5yb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50KSB7XG4gICAgICAgIGZhbGxiYWNrSW5kZXggPSBpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWF0Y2gucm91dGUuaWQpIHtcbiAgICAgICAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzIH0gPSBkYXRhUm91dGVyU3RhdGU7XG4gICAgICAgIGxldCBuZWVkc1RvUnVuTG9hZGVyID1cbiAgICAgICAgICBtYXRjaC5yb3V0ZS5sb2FkZXIgJiZcbiAgICAgICAgICBsb2FkZXJEYXRhW21hdGNoLnJvdXRlLmlkXSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgKCFlcnJvcnMgfHwgZXJyb3JzW21hdGNoLnJvdXRlLmlkXSA9PT0gdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKG1hdGNoLnJvdXRlLmxhenkgfHwgbmVlZHNUb1J1bkxvYWRlcikge1xuICAgICAgICAgIC8vIFdlIGZvdW5kIHRoZSBmaXJzdCByb3V0ZSB0aGF0J3Mgbm90IHJlYWR5IHRvIHJlbmRlciAod2FpdGluZyBvblxuICAgICAgICAgIC8vIGxhenksIG9yIGhhcyBhIGxvYWRlciB0aGF0IGhhc24ndCBydW4geWV0KS4gIEZsYWcgdGhhdCB3ZSBuZWVkIHRvXG4gICAgICAgICAgLy8gcmVuZGVyIGEgZmFsbGJhY2sgYW5kIHJlbmRlciB1cCB1bnRpbCB0aGUgYXBwcm9wcmlhdGUgZmFsbGJhY2tcbiAgICAgICAgICByZW5kZXJGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgaWYgKGZhbGxiYWNrSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgcmVuZGVyZWRNYXRjaGVzID0gcmVuZGVyZWRNYXRjaGVzLnNsaWNlKDAsIGZhbGxiYWNrSW5kZXggKyAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZWRNYXRjaGVzID0gW3JlbmRlcmVkTWF0Y2hlc1swXV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlbmRlcmVkTWF0Y2hlcy5yZWR1Y2VSaWdodCgob3V0bGV0LCBtYXRjaCwgaW5kZXgpID0+IHtcbiAgICAvLyBPbmx5IGRhdGEgcm91dGVycyBoYW5kbGUgZXJyb3JzL2ZhbGxiYWNrc1xuICAgIGxldCBlcnJvcjogYW55O1xuICAgIGxldCBzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2sgPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JFbGVtZW50OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKGRhdGFSb3V0ZXJTdGF0ZSkge1xuICAgICAgZXJyb3IgPSBlcnJvcnMgJiYgbWF0Y2gucm91dGUuaWQgPyBlcnJvcnNbbWF0Y2gucm91dGUuaWRdIDogdW5kZWZpbmVkO1xuICAgICAgZXJyb3JFbGVtZW50ID0gbWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IGRlZmF1bHRFcnJvckVsZW1lbnQ7XG5cbiAgICAgIGlmIChyZW5kZXJGYWxsYmFjaykge1xuICAgICAgICBpZiAoZmFsbGJhY2tJbmRleCA8IDAgJiYgaW5kZXggPT09IDApIHtcbiAgICAgICAgICB3YXJuaW5nT25jZShcbiAgICAgICAgICAgIFwicm91dGUtZmFsbGJhY2tcIixcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCJObyBgSHlkcmF0ZUZhbGxiYWNrYCBlbGVtZW50IHByb3ZpZGVkIHRvIHJlbmRlciBkdXJpbmcgaW5pdGlhbCBoeWRyYXRpb25cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChmYWxsYmFja0luZGV4ID09PSBpbmRleCkge1xuICAgICAgICAgIHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCA9IG1hdGNoLnJvdXRlLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBtYXRjaGVzID0gcGFyZW50TWF0Y2hlcy5jb25jYXQocmVuZGVyZWRNYXRjaGVzLnNsaWNlKDAsIGluZGV4ICsgMSkpO1xuICAgIGxldCBnZXRDaGlsZHJlbiA9ICgpID0+IHtcbiAgICAgIGxldCBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZXJyb3JFbGVtZW50O1xuICAgICAgfSBlbHNlIGlmIChzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2spIHtcbiAgICAgICAgY2hpbGRyZW4gPSBoeWRyYXRlRmFsbGJhY2tFbGVtZW50O1xuICAgICAgfSBlbHNlIGlmIChtYXRjaC5yb3V0ZS5Db21wb25lbnQpIHtcbiAgICAgICAgLy8gTm90ZTogVGhpcyBpcyBhIGRlLW9wdGltaXplZCBwYXRoIHNpbmNlIFJlYWN0IHdvbid0IHJlLXVzZSB0aGVcbiAgICAgICAgLy8gUmVhY3RFbGVtZW50IHNpbmNlIGl0J3MgaWRlbnRpdHkgY2hhbmdlcyB3aXRoIGVhY2ggbmV3XG4gICAgICAgIC8vIFJlYWN0LmNyZWF0ZUVsZW1lbnQgY2FsbC4gIFdlIGtlZXAgdGhpcyBzbyBmb2xrcyBjYW4gdXNlXG4gICAgICAgIC8vIGA8Um91dGUgQ29tcG9uZW50PXsuLi59PmAgaW4gYDxSb3V0ZXM+YCBidXQgZ2VuZXJhbGx5IGBDb21wb25lbnRgXG4gICAgICAgIC8vIHVzYWdlIGlzIG9ubHkgYWR2aXNlZCBpbiBgUm91dGVyUHJvdmlkZXJgIHdoZW4gd2UgY2FuIGNvbnZlcnQgaXQgdG9cbiAgICAgICAgLy8gYGVsZW1lbnRgIGFoZWFkIG9mIHRpbWUuXG4gICAgICAgIGNoaWxkcmVuID0gPG1hdGNoLnJvdXRlLkNvbXBvbmVudCAvPjtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2gucm91dGUuZWxlbWVudCkge1xuICAgICAgICBjaGlsZHJlbiA9IG1hdGNoLnJvdXRlLmVsZW1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbiA9IG91dGxldDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZW5kZXJlZFJvdXRlXG4gICAgICAgICAgbWF0Y2g9e21hdGNofVxuICAgICAgICAgIHJvdXRlQ29udGV4dD17e1xuICAgICAgICAgICAgb3V0bGV0LFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIGlzRGF0YVJvdXRlOiBkYXRhUm91dGVyU3RhdGUgIT0gbnVsbCxcbiAgICAgICAgICB9fVxuICAgICAgICAgIGNoaWxkcmVuPXtjaGlsZHJlbn1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfTtcbiAgICAvLyBPbmx5IHdyYXAgaW4gYW4gZXJyb3IgYm91bmRhcnkgd2l0aGluIGRhdGEgcm91dGVyIHVzYWdlcyB3aGVuIHdlIGhhdmUgYW5cbiAgICAvLyBFcnJvckJvdW5kYXJ5L2Vycm9yRWxlbWVudCBvbiB0aGlzIHJvdXRlLiAgT3RoZXJ3aXNlIGxldCBpdCBidWJibGUgdXAgdG9cbiAgICAvLyBhbiBhbmNlc3RvciBFcnJvckJvdW5kYXJ5L2Vycm9yRWxlbWVudFxuICAgIHJldHVybiBkYXRhUm91dGVyU3RhdGUgJiZcbiAgICAgIChtYXRjaC5yb3V0ZS5FcnJvckJvdW5kYXJ5IHx8IG1hdGNoLnJvdXRlLmVycm9yRWxlbWVudCB8fCBpbmRleCA9PT0gMCkgPyAoXG4gICAgICA8UmVuZGVyRXJyb3JCb3VuZGFyeVxuICAgICAgICBsb2NhdGlvbj17ZGF0YVJvdXRlclN0YXRlLmxvY2F0aW9ufVxuICAgICAgICByZXZhbGlkYXRpb249e2RhdGFSb3V0ZXJTdGF0ZS5yZXZhbGlkYXRpb259XG4gICAgICAgIGNvbXBvbmVudD17ZXJyb3JFbGVtZW50fVxuICAgICAgICBlcnJvcj17ZXJyb3J9XG4gICAgICAgIGNoaWxkcmVuPXtnZXRDaGlsZHJlbigpfVxuICAgICAgICByb3V0ZUNvbnRleHQ9e3sgb3V0bGV0OiBudWxsLCBtYXRjaGVzLCBpc0RhdGFSb3V0ZTogdHJ1ZSB9fVxuICAgICAgLz5cbiAgICApIDogKFxuICAgICAgZ2V0Q2hpbGRyZW4oKVxuICAgICk7XG4gIH0sIG51bGwgYXMgUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCk7XG59XG5cbmVudW0gRGF0YVJvdXRlckhvb2sge1xuICBVc2VCbG9ja2VyID0gXCJ1c2VCbG9ja2VyXCIsXG4gIFVzZVJldmFsaWRhdG9yID0gXCJ1c2VSZXZhbGlkYXRvclwiLFxuICBVc2VOYXZpZ2F0ZVN0YWJsZSA9IFwidXNlTmF2aWdhdGVcIixcbn1cblxuZW51bSBEYXRhUm91dGVyU3RhdGVIb29rIHtcbiAgVXNlQmxvY2tlciA9IFwidXNlQmxvY2tlclwiLFxuICBVc2VMb2FkZXJEYXRhID0gXCJ1c2VMb2FkZXJEYXRhXCIsXG4gIFVzZUFjdGlvbkRhdGEgPSBcInVzZUFjdGlvbkRhdGFcIixcbiAgVXNlUm91dGVFcnJvciA9IFwidXNlUm91dGVFcnJvclwiLFxuICBVc2VOYXZpZ2F0aW9uID0gXCJ1c2VOYXZpZ2F0aW9uXCIsXG4gIFVzZVJvdXRlTG9hZGVyRGF0YSA9IFwidXNlUm91dGVMb2FkZXJEYXRhXCIsXG4gIFVzZU1hdGNoZXMgPSBcInVzZU1hdGNoZXNcIixcbiAgVXNlUmV2YWxpZGF0b3IgPSBcInVzZVJldmFsaWRhdG9yXCIsXG4gIFVzZU5hdmlnYXRlU3RhYmxlID0gXCJ1c2VOYXZpZ2F0ZVwiLFxuICBVc2VSb3V0ZUlkID0gXCJ1c2VSb3V0ZUlkXCIsXG59XG5cbmZ1bmN0aW9uIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoXG4gIGhvb2tOYW1lOiBEYXRhUm91dGVySG9vayB8IERhdGFSb3V0ZXJTdGF0ZUhvb2tcbikge1xuICByZXR1cm4gYCR7aG9va05hbWV9IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBkYXRhIHJvdXRlci4gIFNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9yb3V0ZXJzL3BpY2tpbmctYS1yb3V0ZXIuYDtcbn1cblxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlckNvbnRleHQoaG9va05hbWU6IERhdGFSb3V0ZXJIb29rKSB7XG4gIGxldCBjdHggPSBSZWFjdC51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgaW52YXJpYW50KGN0eCwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihob29rTmFtZSkpO1xuICByZXR1cm4gY3R4O1xufVxuXG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyU3RhdGUoaG9va05hbWU6IERhdGFSb3V0ZXJTdGF0ZUhvb2spIHtcbiAgbGV0IHN0YXRlID0gUmVhY3QudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHN0YXRlLCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZnVuY3Rpb24gdXNlUm91dGVDb250ZXh0KGhvb2tOYW1lOiBEYXRhUm91dGVyU3RhdGVIb29rKSB7XG4gIGxldCByb3V0ZSA9IFJlYWN0LnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHJvdXRlLCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiByb3V0ZTtcbn1cblxuLy8gSW50ZXJuYWwgdmVyc2lvbiB3aXRoIGhvb2tOYW1lLWF3YXJlIGRlYnVnZ2luZ1xuZnVuY3Rpb24gdXNlQ3VycmVudFJvdXRlSWQoaG9va05hbWU6IERhdGFSb3V0ZXJTdGF0ZUhvb2spIHtcbiAgbGV0IHJvdXRlID0gdXNlUm91dGVDb250ZXh0KGhvb2tOYW1lKTtcbiAgbGV0IHRoaXNSb3V0ZSA9IHJvdXRlLm1hdGNoZXNbcm91dGUubWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgaW52YXJpYW50KFxuICAgIHRoaXNSb3V0ZS5yb3V0ZS5pZCxcbiAgICBgJHtob29rTmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiByb3V0ZXMgdGhhdCBjb250YWluIGEgdW5pcXVlIFwiaWRcImBcbiAgKTtcbiAgcmV0dXJuIHRoaXNSb3V0ZS5yb3V0ZS5pZDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBJRCBmb3IgdGhlIG5lYXJlc3QgY29udGV4dHVhbCByb3V0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUm91dGVJZCgpIHtcbiAgcmV0dXJuIHVzZUN1cnJlbnRSb3V0ZUlkKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlUm91dGVJZCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBuYXZpZ2F0aW9uLCBkZWZhdWx0aW5nIHRvIGFuIFwiaWRsZVwiIG5hdmlnYXRpb24gd2hlblxuICogbm8gbmF2aWdhdGlvbiBpcyBpbiBwcm9ncmVzc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTmF2aWdhdGlvbigpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlTmF2aWdhdGlvbik7XG4gIHJldHVybiBzdGF0ZS5uYXZpZ2F0aW9uO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSByZXZhbGlkYXRlIGZ1bmN0aW9uIGZvciBtYW51YWxseSB0cmlnZ2VyaW5nIHJldmFsaWRhdGlvbiwgYXMgd2VsbFxuICogYXMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgYW55IG1hbnVhbCByZXZhbGlkYXRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZXZhbGlkYXRvcigpIHtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoRGF0YVJvdXRlckhvb2suVXNlUmV2YWxpZGF0b3IpO1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VSZXZhbGlkYXRvcik7XG4gIHJldHVybiBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICByZXZhbGlkYXRlOiBkYXRhUm91dGVyQ29udGV4dC5yb3V0ZXIucmV2YWxpZGF0ZSxcbiAgICAgIHN0YXRlOiBzdGF0ZS5yZXZhbGlkYXRpb24sXG4gICAgfSksXG4gICAgW2RhdGFSb3V0ZXJDb250ZXh0LnJvdXRlci5yZXZhbGlkYXRlLCBzdGF0ZS5yZXZhbGlkYXRpb25dXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYWN0aXZlIHJvdXRlIG1hdGNoZXMsIHVzZWZ1bCBmb3IgYWNjZXNzaW5nIGxvYWRlckRhdGEgZm9yXG4gKiBwYXJlbnQvY2hpbGQgcm91dGVzIG9yIHRoZSByb3V0ZSBcImhhbmRsZVwiIHByb3BlcnR5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNYXRjaGVzKCk6IFVJTWF0Y2hbXSB7XG4gIGxldCB7IG1hdGNoZXMsIGxvYWRlckRhdGEgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcbiAgICBEYXRhUm91dGVyU3RhdGVIb29rLlVzZU1hdGNoZXNcbiAgKTtcbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gbWF0Y2hlcy5tYXAoKG0pID0+IGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoKG0sIGxvYWRlckRhdGEpKSxcbiAgICBbbWF0Y2hlcywgbG9hZGVyRGF0YV1cbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsb2FkZXIgZGF0YSBmb3IgdGhlIG5lYXJlc3QgYW5jZXN0b3IgUm91dGUgbG9hZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VMb2FkZXJEYXRhKCk6IHVua25vd24ge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VMb2FkZXJEYXRhKTtcbiAgbGV0IHJvdXRlSWQgPSB1c2VDdXJyZW50Um91dGVJZChEYXRhUm91dGVyU3RhdGVIb29rLlVzZUxvYWRlckRhdGEpO1xuXG4gIGlmIChzdGF0ZS5lcnJvcnMgJiYgc3RhdGUuZXJyb3JzW3JvdXRlSWRdICE9IG51bGwpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYFlvdSBjYW5ub3QgXFxgdXNlTG9hZGVyRGF0YVxcYCBpbiBhbiBlcnJvckVsZW1lbnQgKHJvdXRlSWQ6ICR7cm91dGVJZH0pYFxuICAgICk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gc3RhdGUubG9hZGVyRGF0YVtyb3V0ZUlkXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsb2FkZXJEYXRhIGZvciB0aGUgZ2l2ZW4gcm91dGVJZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUm91dGVMb2FkZXJEYXRhKHJvdXRlSWQ6IHN0cmluZyk6IHVua25vd24ge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VSb3V0ZUxvYWRlckRhdGEpO1xuICByZXR1cm4gc3RhdGUubG9hZGVyRGF0YVtyb3V0ZUlkXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhY3Rpb24gZGF0YSBmb3IgdGhlIG5lYXJlc3QgYW5jZXN0b3IgUm91dGUgYWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBY3Rpb25EYXRhKCk6IHVua25vd24ge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VBY3Rpb25EYXRhKTtcbiAgbGV0IHJvdXRlSWQgPSB1c2VDdXJyZW50Um91dGVJZChEYXRhUm91dGVyU3RhdGVIb29rLlVzZUxvYWRlckRhdGEpO1xuICByZXR1cm4gc3RhdGUuYWN0aW9uRGF0YSA/IHN0YXRlLmFjdGlvbkRhdGFbcm91dGVJZF0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbmVhcmVzdCBhbmNlc3RvciBSb3V0ZSBlcnJvciwgd2hpY2ggY291bGQgYmUgYSBsb2FkZXIvYWN0aW9uXG4gKiBlcnJvciBvciBhIHJlbmRlciBlcnJvci4gIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmUgY2FsbGVkIGZyb20geW91clxuICogRXJyb3JCb3VuZGFyeS9lcnJvckVsZW1lbnQgdG8gZGlzcGxheSBhIHByb3BlciBlcnJvciBtZXNzYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUm91dGVFcnJvcigpOiB1bmtub3duIHtcbiAgbGV0IGVycm9yID0gUmVhY3QudXNlQ29udGV4dChSb3V0ZUVycm9yQ29udGV4dCk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShEYXRhUm91dGVyU3RhdGVIb29rLlVzZVJvdXRlRXJyb3IpO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKERhdGFSb3V0ZXJTdGF0ZUhvb2suVXNlUm91dGVFcnJvcik7XG5cbiAgLy8gSWYgdGhpcyB3YXMgYSByZW5kZXIgZXJyb3IsIHdlIHB1dCBpdCBpbiBhIFJvdXRlRXJyb3IgY29udGV4dCBpbnNpZGVcbiAgLy8gb2YgUmVuZGVyRXJyb3JCb3VuZGFyeVxuICBpZiAoZXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSBsb29rIGZvciBlcnJvcnMgZnJvbSBvdXIgZGF0YSByb3V0ZXIgc3RhdGVcbiAgcmV0dXJuIHN0YXRlLmVycm9ycz8uW3JvdXRlSWRdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGhhcHB5LXBhdGggZGF0YSBmcm9tIHRoZSBuZWFyZXN0IGFuY2VzdG9yIGA8QXdhaXQgLz5gIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBc3luY1ZhbHVlKCk6IHVua25vd24ge1xuICBsZXQgdmFsdWUgPSBSZWFjdC51c2VDb250ZXh0KEF3YWl0Q29udGV4dCk7XG4gIHJldHVybiB2YWx1ZT8uX2RhdGE7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZXJyb3IgZnJvbSB0aGUgbmVhcmVzdCBhbmNlc3RvciBgPEF3YWl0IC8+YCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQXN5bmNFcnJvcigpOiB1bmtub3duIHtcbiAgbGV0IHZhbHVlID0gUmVhY3QudXNlQ29udGV4dChBd2FpdENvbnRleHQpO1xuICByZXR1cm4gdmFsdWU/Ll9lcnJvcjtcbn1cblxubGV0IGJsb2NrZXJJZCA9IDA7XG5cbi8qKlxuICogQWxsb3cgdGhlIGFwcGxpY2F0aW9uIHRvIGJsb2NrIG5hdmlnYXRpb25zIHdpdGhpbiB0aGUgU1BBIGFuZCBwcmVzZW50IHRoZVxuICogdXNlciBhIGNvbmZpcm1hdGlvbiBkaWFsb2cgdG8gY29uZmlybSB0aGUgbmF2aWdhdGlvbi4gIE1vc3RseSB1c2VkIHRvIGF2b2lkXG4gKiB1c2luZyBoYWxmLWZpbGxlZCBmb3JtIGRhdGEuICBUaGlzIGRvZXMgbm90IGhhbmRsZSBoYXJkLXJlbG9hZHMgb3JcbiAqIGNyb3NzLW9yaWdpbiBuYXZpZ2F0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUJsb2NrZXIoc2hvdWxkQmxvY2s6IGJvb2xlYW4gfCBCbG9ja2VyRnVuY3Rpb24pOiBCbG9ja2VyIHtcbiAgbGV0IHsgcm91dGVyLCBiYXNlbmFtZSB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoRGF0YVJvdXRlckhvb2suVXNlQmxvY2tlcik7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShEYXRhUm91dGVyU3RhdGVIb29rLlVzZUJsb2NrZXIpO1xuXG4gIGxldCBbYmxvY2tlcktleSwgc2V0QmxvY2tlcktleV0gPSBSZWFjdC51c2VTdGF0ZShcIlwiKTtcbiAgbGV0IGJsb2NrZXJGdW5jdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrPEJsb2NrZXJGdW5jdGlvbj4oXG4gICAgKGFyZykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBzaG91bGRCbG9jayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiAhIXNob3VsZEJsb2NrO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VuYW1lID09PSBcIi9cIikge1xuICAgICAgICByZXR1cm4gc2hvdWxkQmxvY2soYXJnKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhleSBwcm92aWRlZCB1cyBhIGZ1bmN0aW9uIGFuZCB3ZSd2ZSBnb3QgYW4gYWN0aXZlIGJhc2VuYW1lLCBzdHJpcFxuICAgICAgLy8gaXQgZnJvbSB0aGUgbG9jYXRpb25zIHdlIGV4cG9zZSB0byB0aGUgdXNlciB0byBtYXRjaCB0aGUgYmVoYXZpb3Igb2ZcbiAgICAgIC8vIHVzZUxvY2F0aW9uXG4gICAgICBsZXQgeyBjdXJyZW50TG9jYXRpb24sIG5leHRMb2NhdGlvbiwgaGlzdG9yeUFjdGlvbiB9ID0gYXJnO1xuICAgICAgcmV0dXJuIHNob3VsZEJsb2NrKHtcbiAgICAgICAgY3VycmVudExvY2F0aW9uOiB7XG4gICAgICAgICAgLi4uY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgIHBhdGhuYW1lOlxuICAgICAgICAgICAgc3RyaXBCYXNlbmFtZShjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fFxuICAgICAgICAgICAgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICB9LFxuICAgICAgICBuZXh0TG9jYXRpb246IHtcbiAgICAgICAgICAuLi5uZXh0TG9jYXRpb24sXG4gICAgICAgICAgcGF0aG5hbWU6XG4gICAgICAgICAgICBzdHJpcEJhc2VuYW1lKG5leHRMb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8XG4gICAgICAgICAgICBuZXh0TG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIH0sXG4gICAgICAgIGhpc3RvcnlBY3Rpb24sXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtiYXNlbmFtZSwgc2hvdWxkQmxvY2tdXG4gICk7XG5cbiAgLy8gVGhpcyBlZmZlY3QgaXMgaW4gY2hhcmdlIG9mIGJsb2NrZXIga2V5IGFzc2lnbm1lbnQgYW5kIGRlbGV0aW9uICh3aGljaCBpc1xuICAvLyB0aWdodGx5IGNvdXBsZWQgdG8gdGhlIGtleSlcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQga2V5ID0gU3RyaW5nKCsrYmxvY2tlcklkKTtcbiAgICBzZXRCbG9ja2VyS2V5KGtleSk7XG4gICAgcmV0dXJuICgpID0+IHJvdXRlci5kZWxldGVCbG9ja2VyKGtleSk7XG4gIH0sIFtyb3V0ZXJdKTtcblxuICAvLyBUaGlzIGVmZmVjdCBoYW5kbGVzIGFzc2lnbmluZyB0aGUgYmxvY2tlckZ1bmN0aW9uLiAgVGhpcyBpcyB0byBoYW5kbGVcbiAgLy8gdW5zdGFibGUgYmxvY2tlciBmdW5jdGlvbiBpZGVudGl0aWVzLCBhbmQgaGFwcGVucyBvbmx5IGFmdGVyIHRoZSBwcmlvclxuICAvLyBlZmZlY3Qgc28gd2UgZG9uJ3QgZ2V0IGFuIG9ycGhhbmVkIGJsb2NrZXJGdW5jdGlvbiBpbiB0aGUgcm91dGVyIHdpdGggYVxuICAvLyBrZXkgb2YgXCJcIi4gIFVudGlsIHRoZW4gd2UganVzdCBoYXZlIHRoZSBJRExFX0JMT0NLRVIuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJsb2NrZXJLZXkgIT09IFwiXCIpIHtcbiAgICAgIHJvdXRlci5nZXRCbG9ja2VyKGJsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbik7XG4gICAgfVxuICB9LCBbcm91dGVyLCBibG9ja2VyS2V5LCBibG9ja2VyRnVuY3Rpb25dKTtcblxuICAvLyBQcmVmZXIgdGhlIGJsb2NrZXIgZnJvbSBgc3RhdGVgIG5vdCBgcm91dGVyLnN0YXRlYCBzaW5jZSBEYXRhUm91dGVyQ29udGV4dFxuICAvLyBpcyBtZW1vaXplZCBzbyB0aGlzIGVuc3VyZXMgd2UgdXBkYXRlIG9uIGJsb2NrZXIgc3RhdGUgdXBkYXRlc1xuICByZXR1cm4gYmxvY2tlcktleSAmJiBzdGF0ZS5ibG9ja2Vycy5oYXMoYmxvY2tlcktleSlcbiAgICA/IHN0YXRlLmJsb2NrZXJzLmdldChibG9ja2VyS2V5KSFcbiAgICA6IElETEVfQkxPQ0tFUjtcbn1cblxuLyoqXG4gKiBTdGFibGUgdmVyc2lvbiBvZiB1c2VOYXZpZ2F0ZSB0aGF0IGlzIHVzZWQgd2hlbiB3ZSBhcmUgaW4gdGhlIGNvbnRleHQgb2ZcbiAqIGEgUm91dGVyUHJvdmlkZXIuXG4gKi9cbmZ1bmN0aW9uIHVzZU5hdmlnYXRlU3RhYmxlKCk6IE5hdmlnYXRlRnVuY3Rpb24ge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0KERhdGFSb3V0ZXJIb29rLlVzZU5hdmlnYXRlU3RhYmxlKTtcbiAgbGV0IGlkID0gdXNlQ3VycmVudFJvdXRlSWQoRGF0YVJvdXRlclN0YXRlSG9vay5Vc2VOYXZpZ2F0ZVN0YWJsZSk7XG5cbiAgbGV0IGFjdGl2ZVJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGFjdGl2ZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSk7XG5cbiAgbGV0IG5hdmlnYXRlOiBOYXZpZ2F0ZUZ1bmN0aW9uID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHRvOiBUbyB8IG51bWJlciwgb3B0aW9uczogTmF2aWdhdGVPcHRpb25zID0ge30pID0+IHtcbiAgICAgIHdhcm5pbmcoYWN0aXZlUmVmLmN1cnJlbnQsIG5hdmlnYXRlRWZmZWN0V2FybmluZyk7XG5cbiAgICAgIC8vIFNob3J0IGNpcmN1aXQgaGVyZSBzaW5jZSBpZiB0aGlzIGhhcHBlbnMgb24gZmlyc3QgcmVuZGVyIHRoZSBuYXZpZ2F0ZVxuICAgICAgLy8gaXMgdXNlbGVzcyBiZWNhdXNlIHdlIGhhdmVuJ3Qgd2lyZWQgdXAgb3VyIHJvdXRlciBzdWJzY3JpYmVyIHlldFxuICAgICAgaWYgKCFhY3RpdmVSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJvdXRlci5uYXZpZ2F0ZSh0byk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3V0ZXIubmF2aWdhdGUodG8sIHsgZnJvbVJvdXRlSWQ6IGlkLCAuLi5vcHRpb25zIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3JvdXRlciwgaWRdXG4gICk7XG5cbiAgcmV0dXJuIG5hdmlnYXRlO1xufVxuXG5jb25zdCBhbHJlYWR5V2FybmVkOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPiA9IHt9O1xuXG5mdW5jdGlvbiB3YXJuaW5nT25jZShrZXk6IHN0cmluZywgY29uZDogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nKSB7XG4gIGlmICghY29uZCAmJiAhYWxyZWFkeVdhcm5lZFtrZXldKSB7XG4gICAgYWxyZWFkeVdhcm5lZFtrZXldID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCBtZXNzYWdlKTtcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgRnV0dXJlQ29uZmlnIGFzIFJvdXRlckZ1dHVyZUNvbmZpZyB9IGZyb20gXCJAcmVtaXgtcnVuL3JvdXRlclwiO1xuaW1wb3J0IHR5cGUgeyBGdXR1cmVDb25maWcgYXMgUmVuZGVyRnV0dXJlQ29uZmlnIH0gZnJvbSBcIi4vY29tcG9uZW50c1wiO1xuXG5jb25zdCBhbHJlYWR5V2FybmVkOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gd2Fybk9uY2Uoa2V5OiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoX19ERVZfXyAmJiAhYWxyZWFkeVdhcm5lZFttZXNzYWdlXSkge1xuICAgIGFscmVhZHlXYXJuZWRbbWVzc2FnZV0gPSB0cnVlO1xuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgfVxufVxuXG5jb25zdCBsb2dEZXByZWNhdGlvbiA9IChmbGFnOiBzdHJpbmcsIG1zZzogc3RyaW5nLCBsaW5rOiBzdHJpbmcpID0+XG4gIHdhcm5PbmNlKFxuICAgIGZsYWcsXG4gICAgYOKaoO+4jyBSZWFjdCBSb3V0ZXIgRnV0dXJlIEZsYWcgV2FybmluZzogJHttc2d9LiBgICtcbiAgICAgIGBZb3UgY2FuIHVzZSB0aGUgXFxgJHtmbGFnfVxcYCBmdXR1cmUgZmxhZyB0byBvcHQtaW4gZWFybHkuIGAgK1xuICAgICAgYEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgJHtsaW5rfS5gXG4gICk7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dWNkRlcHJlY2F0aW9uV2FybmluZ3MoXG4gIHJlbmRlckZ1dHVyZTogUGFydGlhbDxSZW5kZXJGdXR1cmVDb25maWc+IHwgdW5kZWZpbmVkLFxuICByb3V0ZXJGdXR1cmU/OiBPbWl0PFJvdXRlckZ1dHVyZUNvbmZpZywgXCJ2N19wcmVwZW5kQmFzZW5hbWVcIj5cbikge1xuICBpZiAocmVuZGVyRnV0dXJlPy52N19zdGFydFRyYW5zaXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIGxvZ0RlcHJlY2F0aW9uKFxuICAgICAgXCJ2N19zdGFydFRyYW5zaXRpb25cIixcbiAgICAgIFwiUmVhY3QgUm91dGVyIHdpbGwgYmVnaW4gd3JhcHBpbmcgc3RhdGUgdXBkYXRlcyBpbiBgUmVhY3Quc3RhcnRUcmFuc2l0aW9uYCBpbiB2N1wiLFxuICAgICAgXCJodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91cGdyYWRpbmcvZnV0dXJlI3Y3X3N0YXJ0dHJhbnNpdGlvblwiXG4gICAgKTtcbiAgfVxuXG4gIGlmIChcbiAgICByZW5kZXJGdXR1cmU/LnY3X3JlbGF0aXZlU3BsYXRQYXRoID09PSB1bmRlZmluZWQgJiZcbiAgICAoIXJvdXRlckZ1dHVyZSB8fCByb3V0ZXJGdXR1cmUudjdfcmVsYXRpdmVTcGxhdFBhdGggPT09IHVuZGVmaW5lZClcbiAgKSB7XG4gICAgbG9nRGVwcmVjYXRpb24oXG4gICAgICBcInY3X3JlbGF0aXZlU3BsYXRQYXRoXCIsXG4gICAgICBcIlJlbGF0aXZlIHJvdXRlIHJlc29sdXRpb24gd2l0aGluIFNwbGF0IHJvdXRlcyBpcyBjaGFuZ2luZyBpbiB2N1wiLFxuICAgICAgXCJodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91cGdyYWRpbmcvZnV0dXJlI3Y3X3JlbGF0aXZlc3BsYXRwYXRoXCJcbiAgICApO1xuICB9XG5cbiAgaWYgKHJvdXRlckZ1dHVyZSkge1xuICAgIGlmIChyb3V0ZXJGdXR1cmUudjdfZmV0Y2hlclBlcnNpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbG9nRGVwcmVjYXRpb24oXG4gICAgICAgIFwidjdfZmV0Y2hlclBlcnNpc3RcIixcbiAgICAgICAgXCJUaGUgcGVyc2lzdGVuY2UgYmVoYXZpb3Igb2YgZmV0Y2hlcnMgaXMgY2hhbmdpbmcgaW4gdjdcIixcbiAgICAgICAgXCJodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91cGdyYWRpbmcvZnV0dXJlI3Y3X2ZldGNoZXJwZXJzaXN0XCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHJvdXRlckZ1dHVyZS52N19ub3JtYWxpemVGb3JtTWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZ0RlcHJlY2F0aW9uKFxuICAgICAgICBcInY3X25vcm1hbGl6ZUZvcm1NZXRob2RcIixcbiAgICAgICAgXCJDYXNpbmcgb2YgYGZvcm1NZXRob2RgIGZpZWxkcyBpcyBiZWluZyBub3JtYWxpemVkIHRvIHVwcGVyY2FzZSBpbiB2N1wiLFxuICAgICAgICBcImh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L3VwZ3JhZGluZy9mdXR1cmUjdjdfbm9ybWFsaXplZm9ybW1ldGhvZFwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChyb3V0ZXJGdXR1cmUudjdfcGFydGlhbEh5ZHJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2dEZXByZWNhdGlvbihcbiAgICAgICAgXCJ2N19wYXJ0aWFsSHlkcmF0aW9uXCIsXG4gICAgICAgIFwiYFJvdXRlclByb3ZpZGVyYCBoeWRyYXRpb24gYmVoYXZpb3IgaXMgY2hhbmdpbmcgaW4gdjdcIixcbiAgICAgICAgXCJodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91cGdyYWRpbmcvZnV0dXJlI3Y3X3BhcnRpYWxoeWRyYXRpb25cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAocm91dGVyRnV0dXJlLnY3X3NraXBBY3Rpb25FcnJvclJldmFsaWRhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsb2dEZXByZWNhdGlvbihcbiAgICAgICAgXCJ2N19za2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb25cIixcbiAgICAgICAgXCJUaGUgcmV2YWxpZGF0aW9uIGJlaGF2aW9yIGFmdGVyIDR4eC81eHggYGFjdGlvbmAgcmVzcG9uc2VzIGlzIGNoYW5naW5nIGluIHY3XCIsXG4gICAgICAgIFwiaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvdXBncmFkaW5nL2Z1dHVyZSN2N19za2lwYWN0aW9uZXJyb3JyZXZhbGlkYXRpb25cIlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7XG4gIEluaXRpYWxFbnRyeSxcbiAgTGF6eVJvdXRlRnVuY3Rpb24sXG4gIExvY2F0aW9uLFxuICBNZW1vcnlIaXN0b3J5LFxuICBSZWxhdGl2ZVJvdXRpbmdUeXBlLFxuICBSb3V0ZXIgYXMgUmVtaXhSb3V0ZXIsXG4gIFJvdXRlclN0YXRlLFxuICBSb3V0ZXJTdWJzY3JpYmVyLFxuICBUbyxcbiAgVHJhY2tlZFByb21pc2UsXG59IGZyb20gXCJAcmVtaXgtcnVuL3JvdXRlclwiO1xuaW1wb3J0IHtcbiAgQWJvcnRlZERlZmVycmVkRXJyb3IsXG4gIEFjdGlvbiBhcyBOYXZpZ2F0aW9uVHlwZSxcbiAgY3JlYXRlTWVtb3J5SGlzdG9yeSxcbiAgVU5TQUZFX2dldFJlc29sdmVUb01hdGNoZXMgYXMgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyxcbiAgVU5TQUZFX2ludmFyaWFudCBhcyBpbnZhcmlhbnQsXG4gIHBhcnNlUGF0aCxcbiAgcmVzb2x2ZVRvLFxuICBzdHJpcEJhc2VuYW1lLFxuICBVTlNBRkVfd2FybmluZyBhcyB3YXJuaW5nLFxufSBmcm9tIFwiQHJlbWl4LXJ1bi9yb3V0ZXJcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgdHlwZSB7XG4gIERhdGFSb3V0ZU9iamVjdCxcbiAgSW5kZXhSb3V0ZU9iamVjdCxcbiAgTmF2aWdhdG9yLFxuICBOb25JbmRleFJvdXRlT2JqZWN0LFxuICBSb3V0ZU1hdGNoLFxuICBSb3V0ZU9iamVjdCxcbn0gZnJvbSBcIi4vY29udGV4dFwiO1xuaW1wb3J0IHtcbiAgQXdhaXRDb250ZXh0LFxuICBEYXRhUm91dGVyQ29udGV4dCxcbiAgRGF0YVJvdXRlclN0YXRlQ29udGV4dCxcbiAgTG9jYXRpb25Db250ZXh0LFxuICBOYXZpZ2F0aW9uQ29udGV4dCxcbiAgUm91dGVDb250ZXh0LFxufSBmcm9tIFwiLi9jb250ZXh0XCI7XG5pbXBvcnQge1xuICBfcmVuZGVyTWF0Y2hlcyxcbiAgdXNlQXN5bmNWYWx1ZSxcbiAgdXNlSW5Sb3V0ZXJDb250ZXh0LFxuICB1c2VMb2NhdGlvbixcbiAgdXNlTmF2aWdhdGUsXG4gIHVzZU91dGxldCxcbiAgdXNlUm91dGVzLFxuICB1c2VSb3V0ZXNJbXBsLFxufSBmcm9tIFwiLi9ob29rc1wiO1xuaW1wb3J0IHsgbG9nVjZEZXByZWNhdGlvbldhcm5pbmdzIH0gZnJvbSBcIi4vZGVwcmVjYXRpb25zXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnV0dXJlQ29uZmlnIHtcbiAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGJvb2xlYW47XG4gIHY3X3N0YXJ0VHJhbnNpdGlvbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZXJQcm92aWRlclByb3BzIHtcbiAgZmFsbGJhY2tFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlO1xuICByb3V0ZXI6IFJlbWl4Um91dGVyO1xuICAvLyBPbmx5IGFjY2VwdCBmdXR1cmUgZmxhZ3MgcmVsZXZhbnQgdG8gcmVuZGVyaW5nIGJlaGF2aW9yXG4gIC8vIHJvdXRpbmcgZmxhZ3Mgc2hvdWxkIGJlIGFjY2Vzc2VkIHZpYSByb3V0ZXIuZnV0dXJlXG4gIGZ1dHVyZT86IFBhcnRpYWw8UGljazxGdXR1cmVDb25maWcsIFwidjdfc3RhcnRUcmFuc2l0aW9uXCI+Pjtcbn1cblxuLyoqXG4gIFdlYnBhY2sgKyBSZWFjdCAxNyBmYWlscyB0byBjb21waWxlIG9uIGFueSBvZiB0aGUgZm9sbG93aW5nIGJlY2F1c2Ugd2VicGFja1xuICBjb21wbGFpbnMgdGhhdCBgc3RhcnRUcmFuc2l0aW9uYCBkb2Vzbid0IGV4aXN0IGluIGBSZWFjdGA6XG4gICogaW1wb3J0IHsgc3RhcnRUcmFuc2l0aW9uIH0gZnJvbSBcInJlYWN0XCJcbiAgKiBpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIGZyb20gXCJyZWFjdFwiO1xuICAgIFwic3RhcnRUcmFuc2l0aW9uXCIgaW4gUmVhY3QgPyBSZWFjdC5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGUoKSkgOiBzZXRTdGF0ZSgpXG4gICogaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBmcm9tIFwicmVhY3RcIjtcbiAgICBcInN0YXJ0VHJhbnNpdGlvblwiIGluIFJlYWN0ID8gUmVhY3RbXCJzdGFydFRyYW5zaXRpb25cIl0oKCkgPT4gc2V0U3RhdGUoKSkgOiBzZXRTdGF0ZSgpXG5cbiAgTW92aW5nIGl0IHRvIGEgY29uc3RhbnQgc3VjaCBhcyB0aGUgZm9sbG93aW5nIHNvbHZlcyB0aGUgV2VicGFjay9SZWFjdCAxNyBpc3N1ZTpcbiAgKiBpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIGZyb20gXCJyZWFjdFwiO1xuICAgIGNvbnN0IFNUQVJUX1RSQU5TSVRJT04gPSBcInN0YXJ0VHJhbnNpdGlvblwiO1xuICAgIFNUQVJUX1RSQU5TSVRJT04gaW4gUmVhY3QgPyBSZWFjdFtTVEFSVF9UUkFOU0lUSU9OXSgoKSA9PiBzZXRTdGF0ZSgpKSA6IHNldFN0YXRlKClcblxuICBIb3dldmVyLCB0aGF0IGludHJvZHVjZXMgd2VicGFjay90ZXJzZXIgbWluaWZpY2F0aW9uIGlzc3VlcyBpbiBwcm9kdWN0aW9uIGJ1aWxkc1xuICBpbiBSZWFjdCAxOCB3aGVyZSBtaW5pZmljYXRpb24vb2JmdXNjYXRpb24gZW5kcyB1cCByZW1vdmluZyB0aGUgY2FsbCBvZlxuICBSZWFjdC5zdGFydFRyYW5zaXRpb24gZW50aXJlbHkgZnJvbSB0aGUgZmlyc3QgaGFsZiBvZiB0aGUgdGVybmFyeS4gIEdyYWJiaW5nXG4gIHRoaXMgZXhwb3J0ZWQgcmVmZXJlbmNlIG9uY2UgdXAgZnJvbnQgcmVzb2x2ZXMgdGhhdCBpc3N1ZS5cblxuICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9yZWFjdC1yb3V0ZXIvaXNzdWVzLzEwNTc5XG4qL1xuY29uc3QgU1RBUlRfVFJBTlNJVElPTiA9IFwic3RhcnRUcmFuc2l0aW9uXCI7XG5jb25zdCBzdGFydFRyYW5zaXRpb25JbXBsID0gUmVhY3RbU1RBUlRfVFJBTlNJVElPTl07XG5cbi8qKlxuICogR2l2ZW4gYSBSZW1peCBSb3V0ZXIgaW5zdGFuY2UsIHJlbmRlciB0aGUgYXBwcm9wcmlhdGUgVUlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJvdXRlclByb3ZpZGVyKHtcbiAgZmFsbGJhY2tFbGVtZW50LFxuICByb3V0ZXIsXG4gIGZ1dHVyZSxcbn06IFJvdXRlclByb3ZpZGVyUHJvcHMpOiBSZWFjdC5SZWFjdEVsZW1lbnQge1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QudXNlU3RhdGUocm91dGVyLnN0YXRlKTtcbiAgbGV0IHsgdjdfc3RhcnRUcmFuc2l0aW9uIH0gPSBmdXR1cmUgfHwge307XG5cbiAgbGV0IHNldFN0YXRlID0gUmVhY3QudXNlQ2FsbGJhY2s8Um91dGVyU3Vic2NyaWJlcj4oXG4gICAgKG5ld1N0YXRlOiBSb3V0ZXJTdGF0ZSkgPT4ge1xuICAgICAgaWYgKHY3X3N0YXJ0VHJhbnNpdGlvbiAmJiBzdGFydFRyYW5zaXRpb25JbXBsKSB7XG4gICAgICAgIHN0YXJ0VHJhbnNpdGlvbkltcGwoKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRTdGF0ZUltcGwobmV3U3RhdGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbCwgdjdfc3RhcnRUcmFuc2l0aW9uXVxuICApO1xuXG4gIC8vIE5lZWQgdG8gdXNlIGEgbGF5b3V0IGVmZmVjdCBoZXJlIHNvIHdlIGFyZSBzdWJzY3JpYmVkIGVhcmx5IGVub3VnaCB0b1xuICAvLyBwaWNrIHVwIG9uIGFueSByZW5kZXItZHJpdmVuIHJlZGlyZWN0cy9uYXZpZ2F0aW9ucyAodXNlRWZmZWN0LzxOYXZpZ2F0ZT4pXG4gIFJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiByb3V0ZXIuc3Vic2NyaWJlKHNldFN0YXRlKSwgW3JvdXRlciwgc2V0U3RhdGVdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHdhcm5pbmcoXG4gICAgICBmYWxsYmFja0VsZW1lbnQgPT0gbnVsbCB8fCAhcm91dGVyLmZ1dHVyZS52N19wYXJ0aWFsSHlkcmF0aW9uLFxuICAgICAgXCJgPFJvdXRlclByb3ZpZGVyIGZhbGxiYWNrRWxlbWVudD5gIGlzIGRlcHJlY2F0ZWQgd2hlbiB1c2luZyBcIiArXG4gICAgICAgIFwiYHY3X3BhcnRpYWxIeWRyYXRpb25gLCB1c2UgYSBgSHlkcmF0ZUZhbGxiYWNrYCBjb21wb25lbnQgaW5zdGVhZFwiXG4gICAgKTtcbiAgICAvLyBPbmx5IGxvZyB0aGlzIG9uY2Ugb24gaW5pdGlhbCBtb3VudFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW10pO1xuXG4gIGxldCBuYXZpZ2F0b3IgPSBSZWFjdC51c2VNZW1vKCgpOiBOYXZpZ2F0b3IgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVIcmVmOiByb3V0ZXIuY3JlYXRlSHJlZixcbiAgICAgIGVuY29kZUxvY2F0aW9uOiByb3V0ZXIuZW5jb2RlTG9jYXRpb24sXG4gICAgICBnbzogKG4pID0+IHJvdXRlci5uYXZpZ2F0ZShuKSxcbiAgICAgIHB1c2g6ICh0bywgc3RhdGUsIG9wdHMpID0+XG4gICAgICAgIHJvdXRlci5uYXZpZ2F0ZSh0bywge1xuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0cz8ucHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICB9KSxcbiAgICAgIHJlcGxhY2U6ICh0bywgc3RhdGUsIG9wdHMpID0+XG4gICAgICAgIHJvdXRlci5uYXZpZ2F0ZSh0bywge1xuICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRzPy5wcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIH0pLFxuICAgIH07XG4gIH0sIFtyb3V0ZXJdKTtcblxuICBsZXQgYmFzZW5hbWUgPSByb3V0ZXIuYmFzZW5hbWUgfHwgXCIvXCI7XG5cbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgcm91dGVyLFxuICAgICAgbmF2aWdhdG9yLFxuICAgICAgc3RhdGljOiBmYWxzZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgIH0pLFxuICAgIFtyb3V0ZXIsIG5hdmlnYXRvciwgYmFzZW5hbWVdXG4gICk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KFxuICAgICgpID0+IGxvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyhmdXR1cmUsIHJvdXRlci5mdXR1cmUpLFxuICAgIFtyb3V0ZXIsIGZ1dHVyZV1cbiAgKTtcblxuICAvLyBUaGUgZnJhZ21lbnQgYW5kIHtudWxsfSBoZXJlIGFyZSBpbXBvcnRhbnQhICBXZSBuZWVkIHRoZW0gdG8ga2VlcCBSZWFjdCAxOCdzXG4gIC8vIHVzZUlkIGhhcHB5IHdoZW4gd2UgYXJlIHNlcnZlci1yZW5kZXJpbmcgc2luY2Ugd2UgbWF5IGhhdmUgYSA8c2NyaXB0PiBoZXJlXG4gIC8vIGNvbnRhaW5pbmcgdGhlIGh5ZHJhdGVkIHNlcnZlci1zaWRlIHN0YXRpY0NvbnRleHQgKGZyb20gU3RhdGljUm91dGVyUHJvdmlkZXIpLlxuICAvLyB1c2VJZCByZWxpZXMgb24gdGhlIGNvbXBvbmVudCB0cmVlIHN0cnVjdHVyZSB0byBnZW5lcmF0ZSBkZXRlcm1pbmlzdGljIGlkJ3NcbiAgLy8gc28gd2UgbmVlZCB0byBlbnN1cmUgaXQgcmVtYWlucyB0aGUgc2FtZSBvbiB0aGUgY2xpZW50IGV2ZW4gdGhvdWdoXG4gIC8vIHdlIGRvbid0IG5lZWQgdGhlIDxzY3JpcHQ+IHRhZ1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8RGF0YVJvdXRlckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2RhdGFSb3V0ZXJDb250ZXh0fT5cbiAgICAgICAgPERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3N0YXRlfT5cbiAgICAgICAgICA8Um91dGVyXG4gICAgICAgICAgICBiYXNlbmFtZT17YmFzZW5hbWV9XG4gICAgICAgICAgICBsb2NhdGlvbj17c3RhdGUubG9jYXRpb259XG4gICAgICAgICAgICBuYXZpZ2F0aW9uVHlwZT17c3RhdGUuaGlzdG9yeUFjdGlvbn1cbiAgICAgICAgICAgIG5hdmlnYXRvcj17bmF2aWdhdG9yfVxuICAgICAgICAgICAgZnV0dXJlPXt7XG4gICAgICAgICAgICAgIHY3X3JlbGF0aXZlU3BsYXRQYXRoOiByb3V0ZXIuZnV0dXJlLnY3X3JlbGF0aXZlU3BsYXRQYXRoLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7c3RhdGUuaW5pdGlhbGl6ZWQgfHwgcm91dGVyLmZ1dHVyZS52N19wYXJ0aWFsSHlkcmF0aW9uID8gKFxuICAgICAgICAgICAgICA8RGF0YVJvdXRlc1xuICAgICAgICAgICAgICAgIHJvdXRlcz17cm91dGVyLnJvdXRlc31cbiAgICAgICAgICAgICAgICBmdXR1cmU9e3JvdXRlci5mdXR1cmV9XG4gICAgICAgICAgICAgICAgc3RhdGU9e3N0YXRlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgZmFsbGJhY2tFbGVtZW50XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvUm91dGVyPlxuICAgICAgICA8L0RhdGFSb3V0ZXJTdGF0ZUNvbnRleHQuUHJvdmlkZXI+XG4gICAgICA8L0RhdGFSb3V0ZXJDb250ZXh0LlByb3ZpZGVyPlxuICAgICAge251bGx9XG4gICAgPC8+XG4gICk7XG59XG5cbmZ1bmN0aW9uIERhdGFSb3V0ZXMoe1xuICByb3V0ZXMsXG4gIGZ1dHVyZSxcbiAgc3RhdGUsXG59OiB7XG4gIHJvdXRlczogRGF0YVJvdXRlT2JqZWN0W107XG4gIGZ1dHVyZTogUmVtaXhSb3V0ZXJbXCJmdXR1cmVcIl07XG4gIHN0YXRlOiBSb3V0ZXJTdGF0ZTtcbn0pOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgcmV0dXJuIHVzZVJvdXRlc0ltcGwocm91dGVzLCB1bmRlZmluZWQsIHN0YXRlLCBmdXR1cmUpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lbW9yeVJvdXRlclByb3BzIHtcbiAgYmFzZW5hbWU/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBpbml0aWFsRW50cmllcz86IEluaXRpYWxFbnRyeVtdO1xuICBpbml0aWFsSW5kZXg/OiBudW1iZXI7XG4gIGZ1dHVyZT86IFBhcnRpYWw8RnV0dXJlQ29uZmlnPjtcbn1cblxuLyoqXG4gKiBBIGA8Um91dGVyPmAgdGhhdCBzdG9yZXMgYWxsIGVudHJpZXMgaW4gbWVtb3J5LlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvcm91dGVyLWNvbXBvbmVudHMvbWVtb3J5LXJvdXRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gTWVtb3J5Um91dGVyKHtcbiAgYmFzZW5hbWUsXG4gIGNoaWxkcmVuLFxuICBpbml0aWFsRW50cmllcyxcbiAgaW5pdGlhbEluZGV4LFxuICBmdXR1cmUsXG59OiBNZW1vcnlSb3V0ZXJQcm9wcyk6IFJlYWN0LlJlYWN0RWxlbWVudCB7XG4gIGxldCBoaXN0b3J5UmVmID0gUmVhY3QudXNlUmVmPE1lbW9yeUhpc3Rvcnk+KCk7XG4gIGlmIChoaXN0b3J5UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgIGhpc3RvcnlSZWYuY3VycmVudCA9IGNyZWF0ZU1lbW9yeUhpc3Rvcnkoe1xuICAgICAgaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsSW5kZXgsXG4gICAgICB2NUNvbXBhdDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBoaXN0b3J5ID0gaGlzdG9yeVJlZi5jdXJyZW50O1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QudXNlU3RhdGUoe1xuICAgIGFjdGlvbjogaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sXG4gIH0pO1xuICBsZXQgeyB2N19zdGFydFRyYW5zaXRpb24gfSA9IGZ1dHVyZSB8fCB7fTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlOiB7IGFjdGlvbjogTmF2aWdhdGlvblR5cGU7IGxvY2F0aW9uOiBMb2NhdGlvbiB9KSA9PiB7XG4gICAgICB2N19zdGFydFRyYW5zaXRpb24gJiYgc3RhcnRUcmFuc2l0aW9uSW1wbFxuICAgICAgICA/IHN0YXJ0VHJhbnNpdGlvbkltcGwoKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSlcbiAgICAgICAgOiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbCwgdjdfc3RhcnRUcmFuc2l0aW9uXVxuICApO1xuXG4gIFJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiBoaXN0b3J5Lmxpc3RlbihzZXRTdGF0ZSksIFtoaXN0b3J5LCBzZXRTdGF0ZV0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiBsb2dWNkRlcHJlY2F0aW9uV2FybmluZ3MoZnV0dXJlKSwgW2Z1dHVyZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPFJvdXRlclxuICAgICAgYmFzZW5hbWU9e2Jhc2VuYW1lfVxuICAgICAgY2hpbGRyZW49e2NoaWxkcmVufVxuICAgICAgbG9jYXRpb249e3N0YXRlLmxvY2F0aW9ufVxuICAgICAgbmF2aWdhdGlvblR5cGU9e3N0YXRlLmFjdGlvbn1cbiAgICAgIG5hdmlnYXRvcj17aGlzdG9yeX1cbiAgICAgIGZ1dHVyZT17ZnV0dXJlfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGVQcm9wcyB7XG4gIHRvOiBUbztcbiAgcmVwbGFjZT86IGJvb2xlYW47XG4gIHN0YXRlPzogYW55O1xuICByZWxhdGl2ZT86IFJlbGF0aXZlUm91dGluZ1R5cGU7XG59XG5cbi8qKlxuICogQ2hhbmdlcyB0aGUgY3VycmVudCBsb2NhdGlvbi5cbiAqXG4gKiBOb3RlOiBUaGlzIEFQSSBpcyBtb3N0bHkgdXNlZnVsIGluIFJlYWN0LkNvbXBvbmVudCBzdWJjbGFzc2VzIHRoYXQgYXJlIG5vdFxuICogYWJsZSB0byB1c2UgaG9va3MuIEluIGZ1bmN0aW9uYWwgY29tcG9uZW50cywgd2UgcmVjb21tZW5kIHlvdSB1c2UgdGhlXG4gKiBgdXNlTmF2aWdhdGVgIGhvb2sgaW5zdGVhZC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2NvbXBvbmVudHMvbmF2aWdhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE5hdmlnYXRlKHtcbiAgdG8sXG4gIHJlcGxhY2UsXG4gIHN0YXRlLFxuICByZWxhdGl2ZSxcbn06IE5hdmlnYXRlUHJvcHMpOiBudWxsIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mXG4gICAgLy8gdGhlIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgPE5hdmlnYXRlPiBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcblxuICBsZXQgeyBmdXR1cmUsIHN0YXRpYzogaXNTdGF0aWMgfSA9IFJlYWN0LnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuXG4gIHdhcm5pbmcoXG4gICAgIWlzU3RhdGljLFxuICAgIGA8TmF2aWdhdGU+IG11c3Qgbm90IGJlIHVzZWQgb24gdGhlIGluaXRpYWwgcmVuZGVyIGluIGEgPFN0YXRpY1JvdXRlcj4uIGAgK1xuICAgICAgYFRoaXMgaXMgYSBuby1vcCwgYnV0IHlvdSBzaG91bGQgbW9kaWZ5IHlvdXIgY29kZSBzbyB0aGUgPE5hdmlnYXRlPiBpcyBgICtcbiAgICAgIGBvbmx5IGV2ZXIgcmVuZGVyZWQgaW4gcmVzcG9uc2UgdG8gc29tZSB1c2VyIGludGVyYWN0aW9uIG9yIHN0YXRlIGNoYW5nZS5gXG4gICk7XG5cbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgeyBwYXRobmFtZTogbG9jYXRpb25QYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcblxuICAvLyBSZXNvbHZlIHRoZSBwYXRoIG91dHNpZGUgb2YgdGhlIGVmZmVjdCBzbyB0aGF0IHdoZW4gZWZmZWN0cyBydW4gdHdpY2UgaW5cbiAgLy8gU3RyaWN0TW9kZSB0aGV5IG5hdmlnYXRlIHRvIHRoZSBzYW1lIHBsYWNlXG4gIGxldCBwYXRoID0gcmVzb2x2ZVRvKFxuICAgIHRvLFxuICAgIGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcywgZnV0dXJlLnY3X3JlbGF0aXZlU3BsYXRQYXRoKSxcbiAgICBsb2NhdGlvblBhdGhuYW1lLFxuICAgIHJlbGF0aXZlID09PSBcInBhdGhcIlxuICApO1xuICBsZXQganNvblBhdGggPSBKU09OLnN0cmluZ2lmeShwYXRoKTtcblxuICBSZWFjdC51c2VFZmZlY3QoXG4gICAgKCkgPT4gbmF2aWdhdGUoSlNPTi5wYXJzZShqc29uUGF0aCksIHsgcmVwbGFjZSwgc3RhdGUsIHJlbGF0aXZlIH0pLFxuICAgIFtuYXZpZ2F0ZSwganNvblBhdGgsIHJlbGF0aXZlLCByZXBsYWNlLCBzdGF0ZV1cbiAgKTtcblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPdXRsZXRQcm9wcyB7XG4gIGNvbnRleHQ/OiB1bmtub3duO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgdGhlIGNoaWxkIHJvdXRlJ3MgZWxlbWVudCwgaWYgdGhlcmUgaXMgb25lLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvY29tcG9uZW50cy9vdXRsZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE91dGxldChwcm9wczogT3V0bGV0UHJvcHMpOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgcmV0dXJuIHVzZU91dGxldChwcm9wcy5jb250ZXh0KTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXRoUm91dGVQcm9wcyB7XG4gIGNhc2VTZW5zaXRpdmU/OiBOb25JbmRleFJvdXRlT2JqZWN0W1wiY2FzZVNlbnNpdGl2ZVwiXTtcbiAgcGF0aD86IE5vbkluZGV4Um91dGVPYmplY3RbXCJwYXRoXCJdO1xuICBpZD86IE5vbkluZGV4Um91dGVPYmplY3RbXCJpZFwiXTtcbiAgbGF6eT86IExhenlSb3V0ZUZ1bmN0aW9uPE5vbkluZGV4Um91dGVPYmplY3Q+O1xuICBsb2FkZXI/OiBOb25JbmRleFJvdXRlT2JqZWN0W1wibG9hZGVyXCJdO1xuICBhY3Rpb24/OiBOb25JbmRleFJvdXRlT2JqZWN0W1wiYWN0aW9uXCJdO1xuICBoYXNFcnJvckJvdW5kYXJ5PzogTm9uSW5kZXhSb3V0ZU9iamVjdFtcImhhc0Vycm9yQm91bmRhcnlcIl07XG4gIHNob3VsZFJldmFsaWRhdGU/OiBOb25JbmRleFJvdXRlT2JqZWN0W1wic2hvdWxkUmV2YWxpZGF0ZVwiXTtcbiAgaGFuZGxlPzogTm9uSW5kZXhSb3V0ZU9iamVjdFtcImhhbmRsZVwiXTtcbiAgaW5kZXg/OiBmYWxzZTtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgZXJyb3JFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgQ29tcG9uZW50PzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIEh5ZHJhdGVGYWxsYmFjaz86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBFcnJvckJvdW5kYXJ5PzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGF5b3V0Um91dGVQcm9wcyBleHRlbmRzIFBhdGhSb3V0ZVByb3BzIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5kZXhSb3V0ZVByb3BzIHtcbiAgY2FzZVNlbnNpdGl2ZT86IEluZGV4Um91dGVPYmplY3RbXCJjYXNlU2Vuc2l0aXZlXCJdO1xuICBwYXRoPzogSW5kZXhSb3V0ZU9iamVjdFtcInBhdGhcIl07XG4gIGlkPzogSW5kZXhSb3V0ZU9iamVjdFtcImlkXCJdO1xuICBsYXp5PzogTGF6eVJvdXRlRnVuY3Rpb248SW5kZXhSb3V0ZU9iamVjdD47XG4gIGxvYWRlcj86IEluZGV4Um91dGVPYmplY3RbXCJsb2FkZXJcIl07XG4gIGFjdGlvbj86IEluZGV4Um91dGVPYmplY3RbXCJhY3Rpb25cIl07XG4gIGhhc0Vycm9yQm91bmRhcnk/OiBJbmRleFJvdXRlT2JqZWN0W1wiaGFzRXJyb3JCb3VuZGFyeVwiXTtcbiAgc2hvdWxkUmV2YWxpZGF0ZT86IEluZGV4Um91dGVPYmplY3RbXCJzaG91bGRSZXZhbGlkYXRlXCJdO1xuICBoYW5kbGU/OiBJbmRleFJvdXRlT2JqZWN0W1wiaGFuZGxlXCJdO1xuICBpbmRleDogdHJ1ZTtcbiAgY2hpbGRyZW4/OiB1bmRlZmluZWQ7XG4gIGVsZW1lbnQ/OiBSZWFjdC5SZWFjdE5vZGUgfCBudWxsO1xuICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgZXJyb3JFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlIHwgbnVsbDtcbiAgQ29tcG9uZW50PzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG4gIEh5ZHJhdGVGYWxsYmFjaz86IFJlYWN0LkNvbXBvbmVudFR5cGUgfCBudWxsO1xuICBFcnJvckJvdW5kYXJ5PzogUmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIFJvdXRlUHJvcHMgPSBQYXRoUm91dGVQcm9wcyB8IExheW91dFJvdXRlUHJvcHMgfCBJbmRleFJvdXRlUHJvcHM7XG5cbi8qKlxuICogRGVjbGFyZXMgYW4gZWxlbWVudCB0aGF0IHNob3VsZCBiZSByZW5kZXJlZCBhdCBhIGNlcnRhaW4gVVJMIHBhdGguXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni9jb21wb25lbnRzL3JvdXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSb3V0ZShfcHJvcHM6IFJvdXRlUHJvcHMpOiBSZWFjdC5SZWFjdEVsZW1lbnQgfCBudWxsIHtcbiAgaW52YXJpYW50KFxuICAgIGZhbHNlLFxuICAgIGBBIDxSb3V0ZT4gaXMgb25seSBldmVyIHRvIGJlIHVzZWQgYXMgdGhlIGNoaWxkIG9mIDxSb3V0ZXM+IGVsZW1lbnQsIGAgK1xuICAgICAgYG5ldmVyIHJlbmRlcmVkIGRpcmVjdGx5LiBQbGVhc2Ugd3JhcCB5b3VyIDxSb3V0ZT4gaW4gYSA8Um91dGVzPi5gXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm91dGVyUHJvcHMge1xuICBiYXNlbmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGxvY2F0aW9uOiBQYXJ0aWFsPExvY2F0aW9uPiB8IHN0cmluZztcbiAgbmF2aWdhdGlvblR5cGU/OiBOYXZpZ2F0aW9uVHlwZTtcbiAgbmF2aWdhdG9yOiBOYXZpZ2F0b3I7XG4gIHN0YXRpYz86IGJvb2xlYW47XG4gIGZ1dHVyZT86IFBhcnRpYWw8UGljazxGdXR1cmVDb25maWcsIFwidjdfcmVsYXRpdmVTcGxhdFBhdGhcIj4+O1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGxvY2F0aW9uIGNvbnRleHQgZm9yIHRoZSByZXN0IG9mIHRoZSBhcHAuXG4gKlxuICogTm90ZTogWW91IHVzdWFsbHkgd29uJ3QgcmVuZGVyIGEgYDxSb3V0ZXI+YCBkaXJlY3RseS4gSW5zdGVhZCwgeW91J2xsIHJlbmRlciBhXG4gKiByb3V0ZXIgdGhhdCBpcyBtb3JlIHNwZWNpZmljIHRvIHlvdXIgZW52aXJvbm1lbnQgc3VjaCBhcyBhIGA8QnJvd3NlclJvdXRlcj5gXG4gKiBpbiB3ZWIgYnJvd3NlcnMgb3IgYSBgPFN0YXRpY1JvdXRlcj5gIGZvciBzZXJ2ZXIgcmVuZGVyaW5nLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vdjYvcm91dGVyLWNvbXBvbmVudHMvcm91dGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSb3V0ZXIoe1xuICBiYXNlbmFtZTogYmFzZW5hbWVQcm9wID0gXCIvXCIsXG4gIGNoaWxkcmVuID0gbnVsbCxcbiAgbG9jYXRpb246IGxvY2F0aW9uUHJvcCxcbiAgbmF2aWdhdGlvblR5cGUgPSBOYXZpZ2F0aW9uVHlwZS5Qb3AsXG4gIG5hdmlnYXRvcixcbiAgc3RhdGljOiBzdGF0aWNQcm9wID0gZmFsc2UsXG4gIGZ1dHVyZSxcbn06IFJvdXRlclByb3BzKTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gIGludmFyaWFudChcbiAgICAhdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgYFlvdSBjYW5ub3QgcmVuZGVyIGEgPFJvdXRlcj4gaW5zaWRlIGFub3RoZXIgPFJvdXRlcj4uYCArXG4gICAgICBgIFlvdSBzaG91bGQgbmV2ZXIgaGF2ZSBtb3JlIHRoYW4gb25lIGluIHlvdXIgYXBwLmBcbiAgKTtcblxuICAvLyBQcmVzZXJ2ZSB0cmFpbGluZyBzbGFzaGVzIG9uIGJhc2VuYW1lLCBzbyB3ZSBjYW4gbGV0IHRoZSB1c2VyIGNvbnRyb2xcbiAgLy8gdGhlIGVuZm9yY2VtZW50IG9mIHRyYWlsaW5nIHNsYXNoZXMgdGhyb3VnaG91dCB0aGUgYXBwXG4gIGxldCBiYXNlbmFtZSA9IGJhc2VuYW1lUHJvcC5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKTtcbiAgbGV0IG5hdmlnYXRpb25Db250ZXh0ID0gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBuYXZpZ2F0b3IsXG4gICAgICBzdGF0aWM6IHN0YXRpY1Byb3AsXG4gICAgICBmdXR1cmU6IHtcbiAgICAgICAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IGZhbHNlLFxuICAgICAgICAuLi5mdXR1cmUsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIFtiYXNlbmFtZSwgZnV0dXJlLCBuYXZpZ2F0b3IsIHN0YXRpY1Byb3BdXG4gICk7XG5cbiAgaWYgKHR5cGVvZiBsb2NhdGlvblByb3AgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsb2NhdGlvblByb3AgPSBwYXJzZVBhdGgobG9jYXRpb25Qcm9wKTtcbiAgfVxuXG4gIGxldCB7XG4gICAgcGF0aG5hbWUgPSBcIi9cIixcbiAgICBzZWFyY2ggPSBcIlwiLFxuICAgIGhhc2ggPSBcIlwiLFxuICAgIHN0YXRlID0gbnVsbCxcbiAgICBrZXkgPSBcImRlZmF1bHRcIixcbiAgfSA9IGxvY2F0aW9uUHJvcDtcblxuICBsZXQgbG9jYXRpb25Db250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IHRyYWlsaW5nUGF0aG5hbWUgPSBzdHJpcEJhc2VuYW1lKHBhdGhuYW1lLCBiYXNlbmFtZSk7XG5cbiAgICBpZiAodHJhaWxpbmdQYXRobmFtZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgcGF0aG5hbWU6IHRyYWlsaW5nUGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCxcbiAgICAgICAgaGFzaCxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGtleSxcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0aW9uVHlwZSxcbiAgICB9O1xuICB9LCBbYmFzZW5hbWUsIHBhdGhuYW1lLCBzZWFyY2gsIGhhc2gsIHN0YXRlLCBrZXksIG5hdmlnYXRpb25UeXBlXSk7XG5cbiAgd2FybmluZyhcbiAgICBsb2NhdGlvbkNvbnRleHQgIT0gbnVsbCxcbiAgICBgPFJvdXRlciBiYXNlbmFtZT1cIiR7YmFzZW5hbWV9XCI+IGlzIG5vdCBhYmxlIHRvIG1hdGNoIHRoZSBVUkwgYCArXG4gICAgICBgXCIke3BhdGhuYW1lfSR7c2VhcmNofSR7aGFzaH1cIiBiZWNhdXNlIGl0IGRvZXMgbm90IHN0YXJ0IHdpdGggdGhlIGAgK1xuICAgICAgYGJhc2VuYW1lLCBzbyB0aGUgPFJvdXRlcj4gd29uJ3QgcmVuZGVyIGFueXRoaW5nLmBcbiAgKTtcblxuICBpZiAobG9jYXRpb25Db250ZXh0ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPE5hdmlnYXRpb25Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXtuYXZpZ2F0aW9uQ29udGV4dH0+XG4gICAgICA8TG9jYXRpb25Db250ZXh0LlByb3ZpZGVyIGNoaWxkcmVuPXtjaGlsZHJlbn0gdmFsdWU9e2xvY2F0aW9uQ29udGV4dH0gLz5cbiAgICA8L05hdmlnYXRpb25Db250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlc1Byb3BzIHtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGxvY2F0aW9uPzogUGFydGlhbDxMb2NhdGlvbj4gfCBzdHJpbmc7XG59XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGEgbmVzdGVkIHRyZWUgb2YgYDxSb3V0ZT5gIGVsZW1lbnRzIHRoYXQgcmVuZGVycyB0aGUgYnJhbmNoXG4gKiB0aGF0IGJlc3QgbWF0Y2hlcyB0aGUgY3VycmVudCBsb2NhdGlvbi5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL3Y2L2NvbXBvbmVudHMvcm91dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSb3V0ZXMoe1xuICBjaGlsZHJlbixcbiAgbG9jYXRpb24sXG59OiBSb3V0ZXNQcm9wcyk6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICByZXR1cm4gdXNlUm91dGVzKGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihjaGlsZHJlbiksIGxvY2F0aW9uKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBd2FpdFJlc29sdmVSZW5kZXJGdW5jdGlvbiB7XG4gIChkYXRhOiBBd2FpdGVkPGFueT4pOiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXdhaXRQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfCBBd2FpdFJlc29sdmVSZW5kZXJGdW5jdGlvbjtcbiAgZXJyb3JFbGVtZW50PzogUmVhY3QuUmVhY3ROb2RlO1xuICByZXNvbHZlOiBUcmFja2VkUHJvbWlzZSB8IGFueTtcbn1cblxuLyoqXG4gKiBDb21wb25lbnQgdG8gdXNlIGZvciByZW5kZXJpbmcgbGF6aWx5IGxvYWRlZCBkYXRhIGZyb20gcmV0dXJuaW5nIGRlZmVyKClcbiAqIGluIGEgbG9hZGVyIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBd2FpdCh7IGNoaWxkcmVuLCBlcnJvckVsZW1lbnQsIHJlc29sdmUgfTogQXdhaXRQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBd2FpdEVycm9yQm91bmRhcnkgcmVzb2x2ZT17cmVzb2x2ZX0gZXJyb3JFbGVtZW50PXtlcnJvckVsZW1lbnR9PlxuICAgICAgPFJlc29sdmVBd2FpdD57Y2hpbGRyZW59PC9SZXNvbHZlQXdhaXQ+XG4gICAgPC9Bd2FpdEVycm9yQm91bmRhcnk+XG4gICk7XG59XG5cbnR5cGUgQXdhaXRFcnJvckJvdW5kYXJ5UHJvcHMgPSBSZWFjdC5Qcm9wc1dpdGhDaGlsZHJlbjx7XG4gIGVycm9yRWxlbWVudD86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgcmVzb2x2ZTogVHJhY2tlZFByb21pc2UgfCBhbnk7XG59PjtcblxudHlwZSBBd2FpdEVycm9yQm91bmRhcnlTdGF0ZSA9IHtcbiAgZXJyb3I6IGFueTtcbn07XG5cbmVudW0gQXdhaXRSZW5kZXJTdGF0dXMge1xuICBwZW5kaW5nLFxuICBzdWNjZXNzLFxuICBlcnJvcixcbn1cblxuY29uc3QgbmV2ZXJTZXR0bGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKCgpID0+IHt9KTtcblxuY2xhc3MgQXdhaXRFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFxuICBBd2FpdEVycm9yQm91bmRhcnlQcm9wcyxcbiAgQXdhaXRFcnJvckJvdW5kYXJ5U3RhdGVcbj4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wczogQXdhaXRFcnJvckJvdW5kYXJ5UHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgZXJyb3I6IG51bGwgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3I6IGFueSkge1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH1cblxuICBjb21wb25lbnREaWRDYXRjaChlcnJvcjogYW55LCBlcnJvckluZm86IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIjxBd2FpdD4gY2F1Z2h0IHRoZSBmb2xsb3dpbmcgZXJyb3IgZHVyaW5nIHJlbmRlclwiLFxuICAgICAgZXJyb3IsXG4gICAgICBlcnJvckluZm9cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7IGNoaWxkcmVuLCBlcnJvckVsZW1lbnQsIHJlc29sdmUgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBsZXQgcHJvbWlzZTogVHJhY2tlZFByb21pc2UgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgc3RhdHVzOiBBd2FpdFJlbmRlclN0YXR1cyA9IEF3YWl0UmVuZGVyU3RhdHVzLnBlbmRpbmc7XG5cbiAgICBpZiAoIShyZXNvbHZlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgIC8vIERpZG4ndCBnZXQgYSBwcm9taXNlIC0gcHJvdmlkZSBhcyBhIHJlc29sdmVkIHByb21pc2VcbiAgICAgIHN0YXR1cyA9IEF3YWl0UmVuZGVyU3RhdHVzLnN1Y2Nlc3M7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfdHJhY2tlZFwiLCB7IGdldDogKCkgPT4gdHJ1ZSB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl9kYXRhXCIsIHsgZ2V0OiAoKSA9PiByZXNvbHZlIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgLy8gQ2F1Z2h0IGEgcmVuZGVyIGVycm9yLCBwcm92aWRlIGl0IGFzIGEgcmVqZWN0ZWQgcHJvbWlzZVxuICAgICAgc3RhdHVzID0gQXdhaXRSZW5kZXJTdGF0dXMuZXJyb3I7XG4gICAgICBsZXQgcmVuZGVyRXJyb3IgPSB0aGlzLnN0YXRlLmVycm9yO1xuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KCkuY2F0Y2goKCkgPT4ge30pOyAvLyBBdm9pZCB1bmhhbmRsZWQgcmVqZWN0aW9uIHdhcm5pbmdzXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfdHJhY2tlZFwiLCB7IGdldDogKCkgPT4gdHJ1ZSB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl9lcnJvclwiLCB7IGdldDogKCkgPT4gcmVuZGVyRXJyb3IgfSk7XG4gICAgfSBlbHNlIGlmICgocmVzb2x2ZSBhcyBUcmFja2VkUHJvbWlzZSkuX3RyYWNrZWQpIHtcbiAgICAgIC8vIEFscmVhZHkgdHJhY2tlZCBwcm9taXNlIC0gY2hlY2sgY29udGVudHNcbiAgICAgIHByb21pc2UgPSByZXNvbHZlO1xuICAgICAgc3RhdHVzID1cbiAgICAgICAgXCJfZXJyb3JcIiBpbiBwcm9taXNlXG4gICAgICAgICAgPyBBd2FpdFJlbmRlclN0YXR1cy5lcnJvclxuICAgICAgICAgIDogXCJfZGF0YVwiIGluIHByb21pc2VcbiAgICAgICAgICA/IEF3YWl0UmVuZGVyU3RhdHVzLnN1Y2Nlc3NcbiAgICAgICAgICA6IEF3YWl0UmVuZGVyU3RhdHVzLnBlbmRpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJhdyAodW50cmFja2VkKSBwcm9taXNlIC0gdHJhY2sgaXRcbiAgICAgIHN0YXR1cyA9IEF3YWl0UmVuZGVyU3RhdHVzLnBlbmRpbmc7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfdHJhY2tlZFwiLCB7IGdldDogKCkgPT4gdHJ1ZSB9KTtcbiAgICAgIHByb21pc2UgPSByZXNvbHZlLnRoZW4oXG4gICAgICAgIChkYXRhOiBhbnkpID0+XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc29sdmUsIFwiX2RhdGFcIiwgeyBnZXQ6ICgpID0+IGRhdGEgfSksXG4gICAgICAgIChlcnJvcjogYW55KSA9PlxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvbHZlLCBcIl9lcnJvclwiLCB7IGdldDogKCkgPT4gZXJyb3IgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgc3RhdHVzID09PSBBd2FpdFJlbmRlclN0YXR1cy5lcnJvciAmJlxuICAgICAgcHJvbWlzZS5fZXJyb3IgaW5zdGFuY2VvZiBBYm9ydGVkRGVmZXJyZWRFcnJvclxuICAgICkge1xuICAgICAgLy8gRnJlZXplIHRoZSBVSSBieSB0aHJvd2luZyBhIG5ldmVyIHJlc29sdmVkIHByb21pc2VcbiAgICAgIHRocm93IG5ldmVyU2V0dGxlZFByb21pc2U7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gQXdhaXRSZW5kZXJTdGF0dXMuZXJyb3IgJiYgIWVycm9yRWxlbWVudCkge1xuICAgICAgLy8gTm8gZXJyb3JFbGVtZW50LCB0aHJvdyB0byB0aGUgbmVhcmVzdCByb3V0ZS1sZXZlbCBlcnJvciBib3VuZGFyeVxuICAgICAgdGhyb3cgcHJvbWlzZS5fZXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cyA9PT0gQXdhaXRSZW5kZXJTdGF0dXMuZXJyb3IpIHtcbiAgICAgIC8vIFJlbmRlciB2aWEgb3VyIGVycm9yRWxlbWVudFxuICAgICAgcmV0dXJuIDxBd2FpdENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3Byb21pc2V9IGNoaWxkcmVuPXtlcnJvckVsZW1lbnR9IC8+O1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgPT09IEF3YWl0UmVuZGVyU3RhdHVzLnN1Y2Nlc3MpIHtcbiAgICAgIC8vIFJlbmRlciBjaGlsZHJlbiB3aXRoIHJlc29sdmVkIHZhbHVlXG4gICAgICByZXR1cm4gPEF3YWl0Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17cHJvbWlzZX0gY2hpbGRyZW49e2NoaWxkcmVufSAvPjtcbiAgICB9XG5cbiAgICAvLyBUaHJvdyB0byB0aGUgc3VzcGVuc2UgYm91bmRhcnlcbiAgICB0aHJvdyBwcm9taXNlO1xuICB9XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEluZGlyZWN0aW9uIHRvIGxldmVyYWdlIHVzZUFzeW5jVmFsdWUgZm9yIGEgcmVuZGVyLXByb3AgQVBJIG9uIGA8QXdhaXQ+YFxuICovXG5mdW5jdGlvbiBSZXNvbHZlQXdhaXQoe1xuICBjaGlsZHJlbixcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB8IEF3YWl0UmVzb2x2ZVJlbmRlckZ1bmN0aW9uO1xufSkge1xuICBsZXQgZGF0YSA9IHVzZUFzeW5jVmFsdWUoKTtcbiAgbGV0IHRvUmVuZGVyID0gdHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIgPyBjaGlsZHJlbihkYXRhKSA6IGNoaWxkcmVuO1xuICByZXR1cm4gPD57dG9SZW5kZXJ9PC8+O1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBVVElMU1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIENyZWF0ZXMgYSByb3V0ZSBjb25maWcgZnJvbSBhIFJlYWN0IFwiY2hpbGRyZW5cIiBvYmplY3QsIHdoaWNoIGlzIHVzdWFsbHlcbiAqIGVpdGhlciBhIGA8Um91dGU+YCBlbGVtZW50IG9yIGFuIGFycmF5IG9mIHRoZW0uIFVzZWQgaW50ZXJuYWxseSBieVxuICogYDxSb3V0ZXM+YCB0byBjcmVhdGUgYSByb3V0ZSBjb25maWcgZnJvbSBpdHMgY2hpbGRyZW4uXG4gKlxuICogQHNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS92Ni91dGlscy9jcmVhdGUtcm91dGVzLWZyb20tY2hpbGRyZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSxcbiAgcGFyZW50UGF0aDogbnVtYmVyW10gPSBbXVxuKTogUm91dGVPYmplY3RbXSB7XG4gIGxldCByb3V0ZXM6IFJvdXRlT2JqZWN0W10gPSBbXTtcblxuICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAvLyBJZ25vcmUgbm9uLWVsZW1lbnRzLiBUaGlzIGFsbG93cyBwZW9wbGUgdG8gbW9yZSBlYXNpbHkgaW5saW5lXG4gICAgICAvLyBjb25kaXRpb25hbHMgaW4gdGhlaXIgcm91dGUgY29uZmlnLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB0cmVlUGF0aCA9IFsuLi5wYXJlbnRQYXRoLCBpbmRleF07XG5cbiAgICBpZiAoZWxlbWVudC50eXBlID09PSBSZWFjdC5GcmFnbWVudCkge1xuICAgICAgLy8gVHJhbnNwYXJlbnRseSBzdXBwb3J0IFJlYWN0LkZyYWdtZW50IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICByb3V0ZXMucHVzaC5hcHBseShcbiAgICAgICAgcm91dGVzLFxuICAgICAgICBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oZWxlbWVudC5wcm9wcy5jaGlsZHJlbiwgdHJlZVBhdGgpXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGludmFyaWFudChcbiAgICAgIGVsZW1lbnQudHlwZSA9PT0gUm91dGUsXG4gICAgICBgWyR7XG4gICAgICAgIHR5cGVvZiBlbGVtZW50LnR5cGUgPT09IFwic3RyaW5nXCIgPyBlbGVtZW50LnR5cGUgOiBlbGVtZW50LnR5cGUubmFtZVxuICAgICAgfV0gaXMgbm90IGEgPFJvdXRlPiBjb21wb25lbnQuIEFsbCBjb21wb25lbnQgY2hpbGRyZW4gb2YgPFJvdXRlcz4gbXVzdCBiZSBhIDxSb3V0ZT4gb3IgPFJlYWN0LkZyYWdtZW50PmBcbiAgICApO1xuXG4gICAgaW52YXJpYW50KFxuICAgICAgIWVsZW1lbnQucHJvcHMuaW5kZXggfHwgIWVsZW1lbnQucHJvcHMuY2hpbGRyZW4sXG4gICAgICBcIkFuIGluZGV4IHJvdXRlIGNhbm5vdCBoYXZlIGNoaWxkIHJvdXRlcy5cIlxuICAgICk7XG5cbiAgICBsZXQgcm91dGU6IFJvdXRlT2JqZWN0ID0ge1xuICAgICAgaWQ6IGVsZW1lbnQucHJvcHMuaWQgfHwgdHJlZVBhdGguam9pbihcIi1cIiksXG4gICAgICBjYXNlU2Vuc2l0aXZlOiBlbGVtZW50LnByb3BzLmNhc2VTZW5zaXRpdmUsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LnByb3BzLmVsZW1lbnQsXG4gICAgICBDb21wb25lbnQ6IGVsZW1lbnQucHJvcHMuQ29tcG9uZW50LFxuICAgICAgaW5kZXg6IGVsZW1lbnQucHJvcHMuaW5kZXgsXG4gICAgICBwYXRoOiBlbGVtZW50LnByb3BzLnBhdGgsXG4gICAgICBsb2FkZXI6IGVsZW1lbnQucHJvcHMubG9hZGVyLFxuICAgICAgYWN0aW9uOiBlbGVtZW50LnByb3BzLmFjdGlvbixcbiAgICAgIGVycm9yRWxlbWVudDogZWxlbWVudC5wcm9wcy5lcnJvckVsZW1lbnQsXG4gICAgICBFcnJvckJvdW5kYXJ5OiBlbGVtZW50LnByb3BzLkVycm9yQm91bmRhcnksXG4gICAgICBoYXNFcnJvckJvdW5kYXJ5OlxuICAgICAgICBlbGVtZW50LnByb3BzLkVycm9yQm91bmRhcnkgIT0gbnVsbCB8fFxuICAgICAgICBlbGVtZW50LnByb3BzLmVycm9yRWxlbWVudCAhPSBudWxsLFxuICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogZWxlbWVudC5wcm9wcy5zaG91bGRSZXZhbGlkYXRlLFxuICAgICAgaGFuZGxlOiBlbGVtZW50LnByb3BzLmhhbmRsZSxcbiAgICAgIGxhenk6IGVsZW1lbnQucHJvcHMubGF6eSxcbiAgICB9O1xuXG4gICAgaWYgKGVsZW1lbnQucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIHJvdXRlLmNoaWxkcmVuID0gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKFxuICAgICAgICBlbGVtZW50LnByb3BzLmNoaWxkcmVuLFxuICAgICAgICB0cmVlUGF0aFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByb3V0ZXMucHVzaChyb3V0ZSk7XG4gIH0pO1xuXG4gIHJldHVybiByb3V0ZXM7XG59XG5cbi8qKlxuICogUmVuZGVycyB0aGUgcmVzdWx0IG9mIGBtYXRjaFJvdXRlcygpYCBpbnRvIGEgUmVhY3QgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlck1hdGNoZXMoXG4gIG1hdGNoZXM6IFJvdXRlTWF0Y2hbXSB8IG51bGxcbik6IFJlYWN0LlJlYWN0RWxlbWVudCB8IG51bGwge1xuICByZXR1cm4gX3JlbmRlck1hdGNoZXMobWF0Y2hlcyk7XG59XG4iLCAiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdHlwZSB7XG4gIEFjdGlvbkZ1bmN0aW9uLFxuICBBY3Rpb25GdW5jdGlvbkFyZ3MsXG4gIEFnbm9zdGljUGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbixcbiAgQWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uQXJncyxcbiAgQmxvY2tlcixcbiAgQmxvY2tlckZ1bmN0aW9uLFxuICBEYXRhU3RyYXRlZ3lGdW5jdGlvbixcbiAgRGF0YVN0cmF0ZWd5RnVuY3Rpb25BcmdzLFxuICBEYXRhU3RyYXRlZ3lNYXRjaCxcbiAgRGF0YVN0cmF0ZWd5UmVzdWx0LFxuICBFcnJvclJlc3BvbnNlLFxuICBGZXRjaGVyLFxuICBIeWRyYXRpb25TdGF0ZSxcbiAgSW5pdGlhbEVudHJ5LFxuICBKc29uRnVuY3Rpb24sXG4gIExhenlSb3V0ZUZ1bmN0aW9uLFxuICBMb2FkZXJGdW5jdGlvbixcbiAgTG9hZGVyRnVuY3Rpb25BcmdzLFxuICBMb2NhdGlvbixcbiAgTmF2aWdhdGlvbixcbiAgUGFyYW1QYXJzZUtleSxcbiAgUGFyYW1zLFxuICBQYXRoLFxuICBQYXRoTWF0Y2gsXG4gIFBhdGhQYXJhbSxcbiAgUGF0aFBhdHRlcm4sXG4gIFJlZGlyZWN0RnVuY3Rpb24sXG4gIFJlbGF0aXZlUm91dGluZ1R5cGUsXG4gIFJvdXRlciBhcyBSZW1peFJvdXRlcixcbiAgRnV0dXJlQ29uZmlnIGFzIFJvdXRlckZ1dHVyZUNvbmZpZyxcbiAgU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uLFxuICBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb25BcmdzLFxuICBUbyxcbiAgVUlNYXRjaCxcbn0gZnJvbSBcIkByZW1peC1ydW4vcm91dGVyXCI7XG5pbXBvcnQge1xuICBBYm9ydGVkRGVmZXJyZWRFcnJvcixcbiAgQWN0aW9uIGFzIE5hdmlnYXRpb25UeXBlLFxuICBjcmVhdGVNZW1vcnlIaXN0b3J5LFxuICBjcmVhdGVQYXRoLFxuICBjcmVhdGVSb3V0ZXIsXG4gIGRlZmVyLFxuICBnZW5lcmF0ZVBhdGgsXG4gIGlzUm91dGVFcnJvclJlc3BvbnNlLFxuICBqc29uLFxuICBtYXRjaFBhdGgsXG4gIG1hdGNoUm91dGVzLFxuICBwYXJzZVBhdGgsXG4gIHJlZGlyZWN0LFxuICByZWRpcmVjdERvY3VtZW50LFxuICByZXBsYWNlLFxuICByZXNvbHZlUGF0aCxcbiAgVU5TQUZFX3dhcm5pbmcgYXMgd2FybmluZyxcbn0gZnJvbSBcIkByZW1peC1ydW4vcm91dGVyXCI7XG5cbmltcG9ydCB0eXBlIHtcbiAgQXdhaXRQcm9wcyxcbiAgRnV0dXJlQ29uZmlnLFxuICBJbmRleFJvdXRlUHJvcHMsXG4gIExheW91dFJvdXRlUHJvcHMsXG4gIE1lbW9yeVJvdXRlclByb3BzLFxuICBOYXZpZ2F0ZVByb3BzLFxuICBPdXRsZXRQcm9wcyxcbiAgUGF0aFJvdXRlUHJvcHMsXG4gIFJvdXRlUHJvcHMsXG4gIFJvdXRlclByb3BzLFxuICBSb3V0ZXJQcm92aWRlclByb3BzLFxuICBSb3V0ZXNQcm9wcyxcbn0gZnJvbSBcIi4vbGliL2NvbXBvbmVudHNcIjtcbmltcG9ydCB7XG4gIEF3YWl0LFxuICBNZW1vcnlSb3V0ZXIsXG4gIE5hdmlnYXRlLFxuICBPdXRsZXQsXG4gIFJvdXRlLFxuICBSb3V0ZXIsXG4gIFJvdXRlclByb3ZpZGVyLFxuICBSb3V0ZXMsXG4gIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbixcbiAgcmVuZGVyTWF0Y2hlcyxcbn0gZnJvbSBcIi4vbGliL2NvbXBvbmVudHNcIjtcbmltcG9ydCB0eXBlIHtcbiAgRGF0YVJvdXRlTWF0Y2gsXG4gIERhdGFSb3V0ZU9iamVjdCxcbiAgSW5kZXhSb3V0ZU9iamVjdCxcbiAgTmF2aWdhdGVPcHRpb25zLFxuICBOYXZpZ2F0b3IsXG4gIE5vbkluZGV4Um91dGVPYmplY3QsXG4gIFJvdXRlTWF0Y2gsXG4gIFJvdXRlT2JqZWN0LFxufSBmcm9tIFwiLi9saWIvY29udGV4dFwiO1xuaW1wb3J0IHtcbiAgRGF0YVJvdXRlckNvbnRleHQsXG4gIERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQsXG4gIExvY2F0aW9uQ29udGV4dCxcbiAgTmF2aWdhdGlvbkNvbnRleHQsXG4gIFJvdXRlQ29udGV4dCxcbn0gZnJvbSBcIi4vbGliL2NvbnRleHRcIjtcbmltcG9ydCB0eXBlIHsgTmF2aWdhdGVGdW5jdGlvbiB9IGZyb20gXCIuL2xpYi9ob29rc1wiO1xuaW1wb3J0IHtcbiAgdXNlQWN0aW9uRGF0YSxcbiAgdXNlQXN5bmNFcnJvcixcbiAgdXNlQXN5bmNWYWx1ZSxcbiAgdXNlQmxvY2tlcixcbiAgdXNlSHJlZixcbiAgdXNlSW5Sb3V0ZXJDb250ZXh0LFxuICB1c2VMb2FkZXJEYXRhLFxuICB1c2VMb2NhdGlvbixcbiAgdXNlTWF0Y2gsXG4gIHVzZU1hdGNoZXMsXG4gIHVzZU5hdmlnYXRlLFxuICB1c2VOYXZpZ2F0aW9uLFxuICB1c2VOYXZpZ2F0aW9uVHlwZSxcbiAgdXNlT3V0bGV0LFxuICB1c2VPdXRsZXRDb250ZXh0LFxuICB1c2VQYXJhbXMsXG4gIHVzZVJlc29sdmVkUGF0aCxcbiAgdXNlUmV2YWxpZGF0b3IsXG4gIHVzZVJvdXRlRXJyb3IsXG4gIHVzZVJvdXRlSWQsXG4gIHVzZVJvdXRlTG9hZGVyRGF0YSxcbiAgdXNlUm91dGVzLFxuICB1c2VSb3V0ZXNJbXBsLFxufSBmcm9tIFwiLi9saWIvaG9va3NcIjtcbmltcG9ydCB7IGxvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyB9IGZyb20gXCIuL2xpYi9kZXByZWNhdGlvbnNcIjtcblxuLy8gRXhwb3J0ZWQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCBidXQgbm90IGJlaW5nIHVzZWQgaW50ZXJuYWxseSBhbnltb3JlXG50eXBlIEhhc2ggPSBzdHJpbmc7XG50eXBlIFBhdGhuYW1lID0gc3RyaW5nO1xudHlwZSBTZWFyY2ggPSBzdHJpbmc7XG5cbi8vIEV4cG9zZSByZWFjdC1yb3V0ZXIgcHVibGljIEFQSVxuZXhwb3J0IHR5cGUge1xuICBBY3Rpb25GdW5jdGlvbixcbiAgQWN0aW9uRnVuY3Rpb25BcmdzLFxuICBBd2FpdFByb3BzLFxuICBEYXRhUm91dGVNYXRjaCxcbiAgRGF0YVJvdXRlT2JqZWN0LFxuICBEYXRhU3RyYXRlZ3lGdW5jdGlvbixcbiAgRGF0YVN0cmF0ZWd5RnVuY3Rpb25BcmdzLFxuICBEYXRhU3RyYXRlZ3lNYXRjaCxcbiAgRGF0YVN0cmF0ZWd5UmVzdWx0LFxuICBFcnJvclJlc3BvbnNlLFxuICBGZXRjaGVyLFxuICBGdXR1cmVDb25maWcsXG4gIEhhc2gsXG4gIEluZGV4Um91dGVPYmplY3QsXG4gIEluZGV4Um91dGVQcm9wcyxcbiAgSnNvbkZ1bmN0aW9uLFxuICBMYXlvdXRSb3V0ZVByb3BzLFxuICBMYXp5Um91dGVGdW5jdGlvbixcbiAgTG9hZGVyRnVuY3Rpb24sXG4gIExvYWRlckZ1bmN0aW9uQXJncyxcbiAgTG9jYXRpb24sXG4gIE1lbW9yeVJvdXRlclByb3BzLFxuICBOYXZpZ2F0ZUZ1bmN0aW9uLFxuICBOYXZpZ2F0ZU9wdGlvbnMsXG4gIE5hdmlnYXRlUHJvcHMsXG4gIE5hdmlnYXRpb24sXG4gIE5hdmlnYXRvcixcbiAgTm9uSW5kZXhSb3V0ZU9iamVjdCxcbiAgT3V0bGV0UHJvcHMsXG4gIFBhcmFtUGFyc2VLZXksXG4gIFBhcmFtcyxcbiAgUGF0aCxcbiAgUGF0aE1hdGNoLFxuICBQYXRoUGFyYW0sXG4gIFBhdGhQYXR0ZXJuLFxuICBQYXRoUm91dGVQcm9wcyxcbiAgUGF0aG5hbWUsXG4gIFJlZGlyZWN0RnVuY3Rpb24sXG4gIFJlbGF0aXZlUm91dGluZ1R5cGUsXG4gIFJvdXRlTWF0Y2gsXG4gIFJvdXRlT2JqZWN0LFxuICBSb3V0ZVByb3BzLFxuICBSb3V0ZXJQcm9wcyxcbiAgUm91dGVyUHJvdmlkZXJQcm9wcyxcbiAgUm91dGVzUHJvcHMsXG4gIFNlYXJjaCxcbiAgU2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uLFxuICBTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb25BcmdzLFxuICBUbyxcbiAgVUlNYXRjaCxcbiAgQmxvY2tlcixcbiAgQmxvY2tlckZ1bmN0aW9uLFxufTtcbmV4cG9ydCB7XG4gIEFib3J0ZWREZWZlcnJlZEVycm9yLFxuICBBd2FpdCxcbiAgTWVtb3J5Um91dGVyLFxuICBOYXZpZ2F0ZSxcbiAgTmF2aWdhdGlvblR5cGUsXG4gIE91dGxldCxcbiAgUm91dGUsXG4gIFJvdXRlcixcbiAgUm91dGVyUHJvdmlkZXIsXG4gIFJvdXRlcyxcbiAgY3JlYXRlUGF0aCxcbiAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuLFxuICBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4gYXMgY3JlYXRlUm91dGVzRnJvbUVsZW1lbnRzLFxuICBkZWZlcixcbiAgZ2VuZXJhdGVQYXRoLFxuICBpc1JvdXRlRXJyb3JSZXNwb25zZSxcbiAganNvbixcbiAgbWF0Y2hQYXRoLFxuICBtYXRjaFJvdXRlcyxcbiAgcGFyc2VQYXRoLFxuICByZWRpcmVjdCxcbiAgcmVkaXJlY3REb2N1bWVudCxcbiAgcmVwbGFjZSxcbiAgcmVuZGVyTWF0Y2hlcyxcbiAgcmVzb2x2ZVBhdGgsXG4gIHVzZUJsb2NrZXIsXG4gIHVzZUFjdGlvbkRhdGEsXG4gIHVzZUFzeW5jRXJyb3IsXG4gIHVzZUFzeW5jVmFsdWUsXG4gIHVzZUhyZWYsXG4gIHVzZUluUm91dGVyQ29udGV4dCxcbiAgdXNlTG9hZGVyRGF0YSxcbiAgdXNlTG9jYXRpb24sXG4gIHVzZU1hdGNoLFxuICB1c2VNYXRjaGVzLFxuICB1c2VOYXZpZ2F0ZSxcbiAgdXNlTmF2aWdhdGlvbixcbiAgdXNlTmF2aWdhdGlvblR5cGUsXG4gIHVzZU91dGxldCxcbiAgdXNlT3V0bGV0Q29udGV4dCxcbiAgdXNlUGFyYW1zLFxuICB1c2VSZXNvbHZlZFBhdGgsXG4gIHVzZVJldmFsaWRhdG9yLFxuICB1c2VSb3V0ZUVycm9yLFxuICB1c2VSb3V0ZUxvYWRlckRhdGEsXG4gIHVzZVJvdXRlcyxcbn07XG5cbmV4cG9ydCB0eXBlIFBhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb25BcmdzID1cbiAgQWdub3N0aWNQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uQXJnczxSb3V0ZU9iamVjdCwgUm91dGVNYXRjaD47XG5cbmV4cG9ydCB0eXBlIFBhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24gPVxuICBBZ25vc3RpY1BhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb248Um91dGVPYmplY3QsIFJvdXRlTWF0Y2g+O1xuXG5mdW5jdGlvbiBtYXBSb3V0ZVByb3BlcnRpZXMocm91dGU6IFJvdXRlT2JqZWN0KSB7XG4gIGxldCB1cGRhdGVzOiBQYXJ0aWFsPFJvdXRlT2JqZWN0PiAmIHsgaGFzRXJyb3JCb3VuZGFyeTogYm9vbGVhbiB9ID0ge1xuICAgIC8vIE5vdGU6IHRoaXMgY2hlY2sgYWxzbyBvY2N1cnMgaW4gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuIHNvIHVwZGF0ZVxuICAgIC8vIHRoZXJlIGlmIHlvdSBjaGFuZ2UgdGhpcyAtLSBwbGVhc2UgYW5kIHRoYW5rIHlvdSFcbiAgICBoYXNFcnJvckJvdW5kYXJ5OiByb3V0ZS5FcnJvckJvdW5kYXJ5ICE9IG51bGwgfHwgcm91dGUuZXJyb3JFbGVtZW50ICE9IG51bGwsXG4gIH07XG5cbiAgaWYgKHJvdXRlLkNvbXBvbmVudCkge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICBpZiAocm91dGUuZWxlbWVudCkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSBib3RoIGBDb21wb25lbnRgIGFuZCBgZWxlbWVudGAgb24geW91ciByb3V0ZSAtIFwiICtcbiAgICAgICAgICAgIFwiYENvbXBvbmVudGAgd2lsbCBiZSB1c2VkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24odXBkYXRlcywge1xuICAgICAgZWxlbWVudDogUmVhY3QuY3JlYXRlRWxlbWVudChyb3V0ZS5Db21wb25lbnQpLFxuICAgICAgQ29tcG9uZW50OiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH1cblxuICBpZiAocm91dGUuSHlkcmF0ZUZhbGxiYWNrKSB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGlmIChyb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50KSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIGJvdGggYEh5ZHJhdGVGYWxsYmFja2AgYW5kIGBoeWRyYXRlRmFsbGJhY2tFbGVtZW50YCBvbiB5b3VyIHJvdXRlIC0gXCIgK1xuICAgICAgICAgICAgXCJgSHlkcmF0ZUZhbGxiYWNrYCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiBSZWFjdC5jcmVhdGVFbGVtZW50KHJvdXRlLkh5ZHJhdGVGYWxsYmFjayksXG4gICAgICBIeWRyYXRlRmFsbGJhY2s6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChyb3V0ZS5FcnJvckJvdW5kYXJ5KSB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGlmIChyb3V0ZS5lcnJvckVsZW1lbnQpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgYm90aCBgRXJyb3JCb3VuZGFyeWAgYW5kIGBlcnJvckVsZW1lbnRgIG9uIHlvdXIgcm91dGUgLSBcIiArXG4gICAgICAgICAgICBcImBFcnJvckJvdW5kYXJ5YCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBlcnJvckVsZW1lbnQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQocm91dGUuRXJyb3JCb3VuZGFyeSksXG4gICAgICBFcnJvckJvdW5kYXJ5OiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdXBkYXRlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1lbW9yeVJvdXRlcihcbiAgcm91dGVzOiBSb3V0ZU9iamVjdFtdLFxuICBvcHRzPzoge1xuICAgIGJhc2VuYW1lPzogc3RyaW5nO1xuICAgIGZ1dHVyZT86IFBhcnRpYWw8T21pdDxSb3V0ZXJGdXR1cmVDb25maWcsIFwidjdfcHJlcGVuZEJhc2VuYW1lXCI+PjtcbiAgICBoeWRyYXRpb25EYXRhPzogSHlkcmF0aW9uU3RhdGU7XG4gICAgaW5pdGlhbEVudHJpZXM/OiBJbml0aWFsRW50cnlbXTtcbiAgICBpbml0aWFsSW5kZXg/OiBudW1iZXI7XG4gICAgZGF0YVN0cmF0ZWd5PzogRGF0YVN0cmF0ZWd5RnVuY3Rpb247XG4gICAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24/OiBQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uO1xuICB9XG4pOiBSZW1peFJvdXRlciB7XG4gIHJldHVybiBjcmVhdGVSb3V0ZXIoe1xuICAgIGJhc2VuYW1lOiBvcHRzPy5iYXNlbmFtZSxcbiAgICBmdXR1cmU6IHtcbiAgICAgIC4uLm9wdHM/LmZ1dHVyZSxcbiAgICAgIHY3X3ByZXBlbmRCYXNlbmFtZTogdHJ1ZSxcbiAgICB9LFxuICAgIGhpc3Rvcnk6IGNyZWF0ZU1lbW9yeUhpc3Rvcnkoe1xuICAgICAgaW5pdGlhbEVudHJpZXM6IG9wdHM/LmluaXRpYWxFbnRyaWVzLFxuICAgICAgaW5pdGlhbEluZGV4OiBvcHRzPy5pbml0aWFsSW5kZXgsXG4gICAgfSksXG4gICAgaHlkcmF0aW9uRGF0YTogb3B0cz8uaHlkcmF0aW9uRGF0YSxcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIGRhdGFTdHJhdGVneTogb3B0cz8uZGF0YVN0cmF0ZWd5LFxuICAgIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uOiBvcHRzPy5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbixcbiAgfSkuaW5pdGlhbGl6ZSgpO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBEQU5HRVIhIFBMRUFTRSBSRUFEIE1FIVxuLy8gV2UgcHJvdmlkZSB0aGVzZSBleHBvcnRzIGFzIGFuIGVzY2FwZSBoYXRjaCBpbiB0aGUgZXZlbnQgdGhhdCB5b3UgbmVlZCBhbnlcbi8vIHJvdXRpbmcgZGF0YSB0aGF0IHdlIGRvbid0IHByb3ZpZGUgYW4gZXhwbGljaXQgQVBJIGZvci4gV2l0aCB0aGF0IHNhaWQsIHdlXG4vLyB3YW50IHRvIGNvdmVyIHlvdXIgdXNlIGNhc2UgaWYgd2UgY2FuLCBzbyBpZiB5b3UgZmVlbCB0aGUgbmVlZCB0byB1c2UgdGhlc2Vcbi8vIHdlIHdhbnQgdG8gaGVhciBmcm9tIHlvdS4gTGV0IHVzIGtub3cgd2hhdCB5b3UncmUgYnVpbGRpbmcgYW5kIHdlJ2xsIGRvIG91clxuLy8gYmVzdCB0byBtYWtlIHN1cmUgd2UgY2FuIHN1cHBvcnQgeW91IVxuLy9cbi8vIFdlIGNvbnNpZGVyIHRoZXNlIGV4cG9ydHMgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsIGFuZCBkbyBub3QgZ3VhcmFudGVlXG4vLyBhZ2FpbnN0IGFueSBicmVha2luZyBjaGFuZ2VzLCByZWdhcmRsZXNzIG9mIHRoZSBzZW12ZXIgcmVsZWFzZS4gVXNlIHdpdGhcbi8vIGV4dHJlbWUgY2F1dGlvbiBhbmQgb25seSBpZiB5b3UgdW5kZXJzdGFuZCB0aGUgY29uc2VxdWVuY2VzLiBHb2RzcGVlZC5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHtcbiAgRGF0YVJvdXRlckNvbnRleHQgYXMgVU5TQUZFX0RhdGFSb3V0ZXJDb250ZXh0LFxuICBEYXRhUm91dGVyU3RhdGVDb250ZXh0IGFzIFVOU0FGRV9EYXRhUm91dGVyU3RhdGVDb250ZXh0LFxuICBMb2NhdGlvbkNvbnRleHQgYXMgVU5TQUZFX0xvY2F0aW9uQ29udGV4dCxcbiAgTmF2aWdhdGlvbkNvbnRleHQgYXMgVU5TQUZFX05hdmlnYXRpb25Db250ZXh0LFxuICBSb3V0ZUNvbnRleHQgYXMgVU5TQUZFX1JvdXRlQ29udGV4dCxcbiAgbWFwUm91dGVQcm9wZXJ0aWVzIGFzIFVOU0FGRV9tYXBSb3V0ZVByb3BlcnRpZXMsXG4gIHVzZVJvdXRlSWQgYXMgVU5TQUZFX3VzZVJvdXRlSWQsXG4gIHVzZVJvdXRlc0ltcGwgYXMgVU5TQUZFX3VzZVJvdXRlc0ltcGwsXG4gIGxvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyBhcyBVTlNBRkVfbG9nVjZEZXByZWNhdGlvbldhcm5pbmdzLFxufTtcbiIsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsICJ2YXIgdGVhcmRvd25QbGFjZWhvbGRlciA9ICgpID0+IHt9O1xuXG52YXIgZSA9IHRlYXJkb3duUGxhY2Vob2xkZXI7XG5cbmZ1bmN0aW9uIHN0YXJ0KGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0YWc6IDAsXG4gICAgMDogZVxuICB9O1xufVxuXG5mdW5jdGlvbiBwdXNoKGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0YWc6IDEsXG4gICAgMDogZVxuICB9O1xufVxuXG52YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICgpID0+IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG5cbnZhciBvYnNlcnZhYmxlU3ltYm9sID0gKCkgPT4gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLm9ic2VydmFibGUgfHwgXCJAQG9ic2VydmFibGVcIjtcblxudmFyIGlkZW50aXR5ID0gZSA9PiBlO1xuXG5mdW5jdGlvbiBidWZmZXIocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IFtdO1xuICAgIHZhciBmID0gZTtcbiAgICB2YXIgbiA9IGU7XG4gICAgdmFyIHMgPSAhMTtcbiAgICB2YXIgbCA9ICExO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKGwpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBuKDEpO1xuICAgICAgICBpZiAoYS5sZW5ndGgpIHtcbiAgICAgICAgICBpKHB1c2goYSkpO1xuICAgICAgICB9XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGYgPSBlWzBdO1xuICAgICAgICByKChlID0+IHtcbiAgICAgICAgICBpZiAobCkge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgICAgbCA9ICEwO1xuICAgICAgICAgICAgZigxKTtcbiAgICAgICAgICAgIGlmIChhLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpKHB1c2goYSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSgwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgICBuID0gZVswXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgciA9IHB1c2goYSk7XG4gICAgICAgICAgICBhID0gW107XG4gICAgICAgICAgICBpKHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYS5wdXNoKGVbMF0pO1xuICAgICAgICBpZiAoIXMpIHtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgZigwKTtcbiAgICAgICAgICBuKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKTtcbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlICYmICFsKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgZigxKTtcbiAgICAgICAgbigxKTtcbiAgICAgIH0gZWxzZSBpZiAoIWwgJiYgIXMpIHtcbiAgICAgICAgcyA9ICEwO1xuICAgICAgICBmKDApO1xuICAgICAgICBuKDApO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbmNhdE1hcChyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gW107XG4gICAgdmFyIGYgPSBlO1xuICAgIHZhciBuID0gZTtcbiAgICB2YXIgcyA9ICExO1xuICAgIHZhciBsID0gITE7XG4gICAgdmFyIHUgPSAhMTtcbiAgICB2YXIgbyA9ICExO1xuICAgIGZ1bmN0aW9uIGFwcGx5SW5uZXJTb3VyY2UoZSkge1xuICAgICAgdSA9ICEwO1xuICAgICAgZSgoZSA9PiB7XG4gICAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICAgIHUgPSAhMTtcbiAgICAgICAgICAgIGlmIChhLmxlbmd0aCkge1xuICAgICAgICAgICAgICBhcHBseUlubmVyU291cmNlKHIoYS5zaGlmdCgpKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG8pIHtcbiAgICAgICAgICAgICAgaSgwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXMpIHtcbiAgICAgICAgICAgICAgcyA9ICEwO1xuICAgICAgICAgICAgICBmKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgIGwgPSAhMTtcbiAgICAgICAgICAobiA9IGVbMF0pKDApO1xuICAgICAgICB9IGVsc2UgaWYgKHUpIHtcbiAgICAgICAgICBpKGUpO1xuICAgICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgICBsID0gITE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG4oMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKG8pIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgbyA9ICEwO1xuICAgICAgICBpZiAoIXUgJiYgIWEubGVuZ3RoKSB7XG4gICAgICAgICAgaSgwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBmID0gZVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMgPSAhMTtcbiAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICBhLnB1c2goZVswXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXBwbHlJbm5lclNvdXJjZShyKGVbMF0pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKTtcbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgIGlmICghbykge1xuICAgICAgICAgIG8gPSAhMDtcbiAgICAgICAgICBmKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgdSA9ICExO1xuICAgICAgICAgIG4oMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghbyAmJiAhcykge1xuICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICBmKDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1ICYmICFsKSB7XG4gICAgICAgICAgbCA9ICEwO1xuICAgICAgICAgIG4oMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjb25jYXRBbGwoZSkge1xuICByZXR1cm4gY29uY2F0TWFwKGlkZW50aXR5KShlKTtcbn1cblxuZnVuY3Rpb24gY29uY2F0KGUpIHtcbiAgcmV0dXJuIGNvbmNhdEFsbChyKGUpKTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBlO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIGkoZSk7XG4gICAgICB9IGVsc2UgaWYgKCFyKGVbMF0pKSB7XG4gICAgICAgIGEoMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKGUpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFwKGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiByKChyID0+IHtcbiAgICBpZiAoMCA9PT0gciB8fCAwID09PSByLnRhZykge1xuICAgICAgdChyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdChwdXNoKGUoclswXSkpKTtcbiAgICB9XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VNYXAocikge1xuICByZXR1cm4gdCA9PiBpID0+IHtcbiAgICB2YXIgYSA9IFtdO1xuICAgIHZhciBmID0gZTtcbiAgICB2YXIgbiA9ICExO1xuICAgIHZhciBzID0gITE7XG4gICAgdCgodCA9PiB7XG4gICAgICBpZiAocykge30gZWxzZSBpZiAoMCA9PT0gdCkge1xuICAgICAgICBzID0gITA7XG4gICAgICAgIGlmICghYS5sZW5ndGgpIHtcbiAgICAgICAgICBpKDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IHQudGFnKSB7XG4gICAgICAgIGYgPSB0WzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9ICExO1xuICAgICAgICAhZnVuY3Rpb24gYXBwbHlJbm5lclNvdXJjZShyKSB7XG4gICAgICAgICAgdmFyIHQgPSBlO1xuICAgICAgICAgIHIoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICAgICAgaWYgKGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSBhLmluZGV4T2YodCk7XG4gICAgICAgICAgICAgICAgaWYgKHIgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgKGEgPSBhLnNsaWNlKCkpLnNwbGljZShyLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaSgwKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgICAgICAgICAgICBmKDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgICAgICBhLnB1c2godCA9IGVbMF0pO1xuICAgICAgICAgICAgICB0KDApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpKGUpO1xuICAgICAgICAgICAgICB0KDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfShyKHRbMF0pKTtcbiAgICAgICAgaWYgKCFuKSB7XG4gICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICBpZiAoIXMpIHtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgZigxKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciByID0gMCwgdCA9IGEsIGkgPSBhLmxlbmd0aDsgciA8IGk7IHIrKykge1xuICAgICAgICAgIHRbcl0oMSk7XG4gICAgICAgIH1cbiAgICAgICAgYS5sZW5ndGggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFzICYmICFuKSB7XG4gICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgIGYoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbiA9ICExO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGwgPSAwLCB1ID0gYSwgbyA9IGEubGVuZ3RoOyBsIDwgbzsgbCsrKSB7XG4gICAgICAgICAgdVtsXSgwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1lcmdlQWxsKGUpIHtcbiAgcmV0dXJuIG1lcmdlTWFwKGlkZW50aXR5KShlKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2UoZSkge1xuICByZXR1cm4gbWVyZ2VBbGwocihlKSk7XG59XG5cbmZ1bmN0aW9uIG9uRW5kKGUpIHtcbiAgcmV0dXJuIHIgPT4gdCA9PiB7XG4gICAgdmFyIGkgPSAhMTtcbiAgICByKChyID0+IHtcbiAgICAgIGlmIChpKSB7fSBlbHNlIGlmICgwID09PSByKSB7XG4gICAgICAgIGkgPSAhMDtcbiAgICAgICAgdCgwKTtcbiAgICAgICAgZSgpO1xuICAgICAgfSBlbHNlIGlmICgwID09PSByLnRhZykge1xuICAgICAgICB2YXIgYSA9IHJbMF07XG4gICAgICAgIHQoc3RhcnQoKHIgPT4ge1xuICAgICAgICAgIGlmICgxID09PSByKSB7XG4gICAgICAgICAgICBpID0gITA7XG4gICAgICAgICAgICBhKDEpO1xuICAgICAgICAgICAgZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhKHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHQocik7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvblB1c2goZSkge1xuICByZXR1cm4gciA9PiB0ID0+IHtcbiAgICB2YXIgaSA9ICExO1xuICAgIHIoKHIgPT4ge1xuICAgICAgaWYgKGkpIHt9IGVsc2UgaWYgKDAgPT09IHIpIHtcbiAgICAgICAgaSA9ICEwO1xuICAgICAgICB0KDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSByLnRhZykge1xuICAgICAgICB2YXIgYSA9IHJbMF07XG4gICAgICAgIHQoc3RhcnQoKGUgPT4ge1xuICAgICAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgICAgICBpID0gITA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGEoZSk7XG4gICAgICAgIH0pKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlKHJbMF0pO1xuICAgICAgICB0KHIpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gb25TdGFydChlKSB7XG4gIHJldHVybiByID0+IHQgPT4gcigociA9PiB7XG4gICAgaWYgKDAgPT09IHIpIHtcbiAgICAgIHQoMCk7XG4gICAgfSBlbHNlIGlmICgwID09PSByLnRhZykge1xuICAgICAgdChyKTtcbiAgICAgIGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdChyKTtcbiAgICB9XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gc2FtcGxlKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBlO1xuICAgIHZhciBmID0gZTtcbiAgICB2YXIgbjtcbiAgICB2YXIgcyA9ICExO1xuICAgIHZhciBsID0gITE7XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAobCkge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIGYoMSk7XG4gICAgICAgIGkoMCk7XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgIGEgPSBlWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IGVbMF07XG4gICAgICAgIGlmICghcykge1xuICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICBmKDApO1xuICAgICAgICAgIGEoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcyA9ICExO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICAgIHIoKGUgPT4ge1xuICAgICAgaWYgKGwpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgbCA9ICEwO1xuICAgICAgICBhKDEpO1xuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBmID0gZVswXTtcbiAgICAgIH0gZWxzZSBpZiAodm9pZCAwICE9PSBuKSB7XG4gICAgICAgIHZhciByID0gcHVzaChuKTtcbiAgICAgICAgbiA9IHZvaWQgMDtcbiAgICAgICAgaShyKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSAmJiAhbCkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIGEoMSk7XG4gICAgICAgIGYoMSk7XG4gICAgICB9IGVsc2UgaWYgKCFsICYmICFzKSB7XG4gICAgICAgIHMgPSAhMDtcbiAgICAgICAgYSgwKTtcbiAgICAgICAgZigwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzY2FuKGUsIHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSByO1xuICAgIHQoKHIgPT4ge1xuICAgICAgaWYgKDAgPT09IHIpIHtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgICAgaShyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkocHVzaChhID0gZShhLCByWzBdKSkpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2hhcmUocikge1xuICB2YXIgdCA9IFtdO1xuICB2YXIgaSA9IGU7XG4gIHZhciBhID0gITE7XG4gIHJldHVybiBlID0+IHtcbiAgICB0LnB1c2goZSk7XG4gICAgaWYgKDEgPT09IHQubGVuZ3RoKSB7XG4gICAgICByKChlID0+IHtcbiAgICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICBmb3IgKHZhciByID0gMCwgZiA9IHQsIG4gPSB0Lmxlbmd0aDsgciA8IG47IHIrKykge1xuICAgICAgICAgICAgZltyXSgwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdC5sZW5ndGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgaSA9IGVbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYSA9ICExO1xuICAgICAgICAgIGZvciAodmFyIHMgPSAwLCBsID0gdCwgdSA9IHQubGVuZ3RoOyBzIDwgdTsgcysrKSB7XG4gICAgICAgICAgICBsW3NdKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgICBlKHN0YXJ0KChyID0+IHtcbiAgICAgIGlmICgxID09PSByKSB7XG4gICAgICAgIHZhciBmID0gdC5pbmRleE9mKGUpO1xuICAgICAgICBpZiAoZiA+IC0xKSB7XG4gICAgICAgICAgKHQgPSB0LnNsaWNlKCkpLnNwbGljZShmLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXQubGVuZ3RoKSB7XG4gICAgICAgICAgaSgxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghYSkge1xuICAgICAgICBhID0gITA7XG4gICAgICAgIGkoMCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2tpcChyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9IHI7XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBhID0gZVswXTtcbiAgICAgICAgaShlKTtcbiAgICAgIH0gZWxzZSBpZiAoZi0tID4gMCkge1xuICAgICAgICBhKDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaShlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNraXBVbnRpbChyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSAhMDtcbiAgICB2YXIgcyA9ICExO1xuICAgIHZhciBsID0gITE7XG4gICAgdCgoZSA9PiB7XG4gICAgICBpZiAobCkge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgZigxKTtcbiAgICAgICAgfVxuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBhID0gZVswXTtcbiAgICAgICAgcigoZSA9PiB7XG4gICAgICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgIGwgPSAhMDtcbiAgICAgICAgICAgICAgYSgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgICAoZiA9IGVbMF0pKDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuID0gITE7XG4gICAgICAgICAgICBmKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIGlmICghbikge1xuICAgICAgICBzID0gITE7XG4gICAgICAgIGkoZSk7XG4gICAgICB9IGVsc2UgaWYgKCFzKSB7XG4gICAgICAgIHMgPSAhMDtcbiAgICAgICAgYSgwKTtcbiAgICAgICAgZigwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMgPSAhMTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgaShzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSAmJiAhbCkge1xuICAgICAgICBsID0gITA7XG4gICAgICAgIGEoMSk7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgZigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghbCAmJiAhcykge1xuICAgICAgICBzID0gITA7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgZigwKTtcbiAgICAgICAgfVxuICAgICAgICBhKDApO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNraXBXaGlsZShyKSB7XG4gIHJldHVybiB0ID0+IGkgPT4ge1xuICAgIHZhciBhID0gZTtcbiAgICB2YXIgZiA9ICEwO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgaSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIGkoZSk7XG4gICAgICB9IGVsc2UgaWYgKGYpIHtcbiAgICAgICAgaWYgKHIoZVswXSkpIHtcbiAgICAgICAgICBhKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGYgPSAhMTtcbiAgICAgICAgICBpKGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKGUpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3dpdGNoTWFwKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBlO1xuICAgIHZhciBmID0gZTtcbiAgICB2YXIgbiA9ICExO1xuICAgIHZhciBzID0gITE7XG4gICAgdmFyIGwgPSAhMTtcbiAgICB2YXIgdSA9ICExO1xuICAgIHQoKHQgPT4ge1xuICAgICAgaWYgKHUpIHt9IGVsc2UgaWYgKDAgPT09IHQpIHtcbiAgICAgICAgdSA9ICEwO1xuICAgICAgICBpZiAoIWwpIHtcbiAgICAgICAgICBpKDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKDAgPT09IHQudGFnKSB7XG4gICAgICAgIGEgPSB0WzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICBmKDEpO1xuICAgICAgICAgIGYgPSBlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbikge1xuICAgICAgICAgIG4gPSAhMDtcbiAgICAgICAgICBhKDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG4gPSAhMTtcbiAgICAgICAgfVxuICAgICAgICAhZnVuY3Rpb24gYXBwbHlJbm5lclNvdXJjZShlKSB7XG4gICAgICAgICAgbCA9ICEwO1xuICAgICAgICAgIGUoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFsKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgICAgIGwgPSAhMTtcbiAgICAgICAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICAgICAgICBpKDApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFuKSB7XG4gICAgICAgICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgICAgICAgIGEoMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICAgICAgcyA9ICExO1xuICAgICAgICAgICAgICAoZiA9IGVbMF0pKDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaShlKTtcbiAgICAgICAgICAgICAgaWYgKCFzKSB7XG4gICAgICAgICAgICAgICAgZigwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzID0gITE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0ocih0WzBdKSk7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgaWYgKCF1KSB7XG4gICAgICAgICAgdSA9ICEwO1xuICAgICAgICAgIGEoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICBsID0gITE7XG4gICAgICAgICAgZigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF1ICYmICFuKSB7XG4gICAgICAgICAgbiA9ICEwO1xuICAgICAgICAgIGEoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGwgJiYgIXMpIHtcbiAgICAgICAgICBzID0gITA7XG4gICAgICAgICAgZigwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN3aXRjaEFsbChlKSB7XG4gIHJldHVybiBzd2l0Y2hNYXAoaWRlbnRpdHkpKGUpO1xufVxuXG5mdW5jdGlvbiB0YWtlKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBlO1xuICAgIHZhciBmID0gITE7XG4gICAgdmFyIG4gPSAwO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKGYpIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgZiA9ICEwO1xuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBpZiAociA8PSAwKSB7XG4gICAgICAgICAgZiA9ICEwO1xuICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgZVswXSgxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhID0gZVswXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChuKysgPCByKSB7XG4gICAgICAgIGkoZSk7XG4gICAgICAgIGlmICghZiAmJiBuID49IHIpIHtcbiAgICAgICAgICBmID0gITA7XG4gICAgICAgICAgaSgwKTtcbiAgICAgICAgICBhKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKGUpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlICYmICFmKSB7XG4gICAgICAgIGYgPSAhMDtcbiAgICAgICAgYSgxKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZSAmJiAhZiAmJiBuIDwgcikge1xuICAgICAgICBhKDApO1xuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRha2VMYXN0KHQpIHtcbiAgcmV0dXJuIGkgPT4gYSA9PiB7XG4gICAgdmFyIGYgPSBbXTtcbiAgICB2YXIgbiA9IGU7XG4gICAgaSgoZSA9PiB7XG4gICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICByKGYpKGEpO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBpZiAodCA8PSAwKSB7XG4gICAgICAgICAgZVswXSgxKTtcbiAgICAgICAgICByKGYpKGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIChuID0gZVswXSkoMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmLmxlbmd0aCA+PSB0ICYmIHQpIHtcbiAgICAgICAgICBmLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZi5wdXNoKGVbMF0pO1xuICAgICAgICBuKDApO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGFrZVVudGlsKHIpIHtcbiAgcmV0dXJuIHQgPT4gaSA9PiB7XG4gICAgdmFyIGEgPSBlO1xuICAgIHZhciBmID0gZTtcbiAgICB2YXIgbiA9ICExO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKG4pIHt9IGVsc2UgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgbiA9ICEwO1xuICAgICAgICBmKDEpO1xuICAgICAgICBpKDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICBhID0gZVswXTtcbiAgICAgICAgcigoZSA9PiB7XG4gICAgICAgICAgaWYgKDAgPT09IGUpIHt9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgICAoZiA9IGVbMF0pKDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuID0gITA7XG4gICAgICAgICAgICBmKDEpO1xuICAgICAgICAgICAgYSgxKTtcbiAgICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKGUpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICBpKHN0YXJ0KChlID0+IHtcbiAgICAgIGlmICgxID09PSBlICYmICFuKSB7XG4gICAgICAgIG4gPSAhMDtcbiAgICAgICAgYSgxKTtcbiAgICAgICAgZigxKTtcbiAgICAgIH0gZWxzZSBpZiAoIW4pIHtcbiAgICAgICAgYSgwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0YWtlV2hpbGUociwgdCkge1xuICByZXR1cm4gaSA9PiBhID0+IHtcbiAgICB2YXIgZiA9IGU7XG4gICAgdmFyIG4gPSAhMTtcbiAgICBpKChlID0+IHtcbiAgICAgIGlmIChuKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgIG4gPSAhMDtcbiAgICAgICAgYSgwKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgZiA9IGVbMF07XG4gICAgICAgIGEoZSk7XG4gICAgICB9IGVsc2UgaWYgKCFyKGVbMF0pKSB7XG4gICAgICAgIG4gPSAhMDtcbiAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICBhKGUpO1xuICAgICAgICB9XG4gICAgICAgIGEoMCk7XG4gICAgICAgIGYoMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhKGUpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVib3VuY2UoZSkge1xuICByZXR1cm4gciA9PiB0ID0+IHtcbiAgICB2YXIgaTtcbiAgICB2YXIgYSA9ICExO1xuICAgIHZhciBmID0gITE7XG4gICAgcigociA9PiB7XG4gICAgICBpZiAoZikge30gZWxzZSBpZiAoMCA9PT0gcikge1xuICAgICAgICBmID0gITA7XG4gICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgYSA9ICEwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHQoMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoMCA9PT0gci50YWcpIHtcbiAgICAgICAgdmFyIG4gPSByWzBdO1xuICAgICAgICB0KHN0YXJ0KChlID0+IHtcbiAgICAgICAgICBpZiAoMSA9PT0gZSAmJiAhZikge1xuICAgICAgICAgICAgZiA9ICEwO1xuICAgICAgICAgICAgYSA9ICExO1xuICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbigxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFmKSB7XG4gICAgICAgICAgICBuKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGkpO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgICAgaSA9IHZvaWQgMDtcbiAgICAgICAgICB0KHIpO1xuICAgICAgICAgIGlmIChhKSB7XG4gICAgICAgICAgICB0KDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksIGUoclswXSkpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVsYXkoZSkge1xuICByZXR1cm4gciA9PiB0ID0+IHtcbiAgICB2YXIgaSA9IDA7XG4gICAgcigociA9PiB7XG4gICAgICBpZiAoMCAhPT0gciAmJiAwID09PSByLnRhZykge1xuICAgICAgICB0KHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSsrO1xuICAgICAgICBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIHQocik7XG4gICAgICAgICAgfVxuICAgICAgICB9KSwgZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0aHJvdHRsZShlKSB7XG4gIHJldHVybiByID0+IHQgPT4ge1xuICAgIHZhciBpID0gITE7XG4gICAgdmFyIGE7XG4gICAgcigociA9PiB7XG4gICAgICBpZiAoMCA9PT0gcikge1xuICAgICAgICBpZiAoYSkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChhKTtcbiAgICAgICAgfVxuICAgICAgICB0KDApO1xuICAgICAgfSBlbHNlIGlmICgwID09PSByLnRhZykge1xuICAgICAgICB2YXIgZiA9IHJbMF07XG4gICAgICAgIHQoc3RhcnQoKGUgPT4ge1xuICAgICAgICAgIGlmICgxID09PSBlKSB7XG4gICAgICAgICAgICBpZiAoYSkge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmKDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpKTtcbiAgICAgIH0gZWxzZSBpZiAoIWkpIHtcbiAgICAgICAgaSA9ICEwO1xuICAgICAgICBpZiAoYSkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChhKTtcbiAgICAgICAgfVxuICAgICAgICBhID0gc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgIGEgPSB2b2lkIDA7XG4gICAgICAgICAgaSA9ICExO1xuICAgICAgICB9KSwgZShyWzBdKSk7XG4gICAgICAgIHQocik7XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBsYXp5KGUpIHtcbiAgcmV0dXJuIHIgPT4gZSgpKHIpO1xufVxuXG5mdW5jdGlvbiBmcm9tQXN5bmNJdGVyYWJsZShlKSB7XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9IGVbYXN5bmNJdGVyYXRvclN5bWJvbCgpXSAmJiBlW2FzeW5jSXRlcmF0b3JTeW1ib2woKV0oKSB8fCBlO1xuICAgIHZhciBpID0gITE7XG4gICAgdmFyIGEgPSAhMTtcbiAgICB2YXIgZiA9ICExO1xuICAgIHZhciBuO1xuICAgIHIoc3RhcnQoKGFzeW5jIGUgPT4ge1xuICAgICAgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgaSA9ICEwO1xuICAgICAgICBpZiAodC5yZXR1cm4pIHtcbiAgICAgICAgICB0LnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGEpIHtcbiAgICAgICAgZiA9ICEwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChmID0gYSA9ICEwOyBmICYmICFpOyApIHtcbiAgICAgICAgICBpZiAoKG4gPSBhd2FpdCB0Lm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaSA9ICEwO1xuICAgICAgICAgICAgaWYgKHQucmV0dXJuKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHQucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByKDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmID0gITE7XG4gICAgICAgICAgICAgIHIocHVzaChuLnZhbHVlKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGlmICh0LnRocm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPSAhIShhd2FpdCB0LnRocm93KGUpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICByKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGEgPSAhMTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmcm9tSXRlcmFibGUoZSkge1xuICBpZiAoZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pIHtcbiAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUoZSk7XG4gIH1cbiAgcmV0dXJuIHIgPT4ge1xuICAgIHZhciB0ID0gZVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgdmFyIGkgPSAhMTtcbiAgICB2YXIgYSA9ICExO1xuICAgIHZhciBmID0gITE7XG4gICAgdmFyIG47XG4gICAgcihzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICBpID0gITA7XG4gICAgICAgIGlmICh0LnJldHVybikge1xuICAgICAgICAgIHQucmV0dXJuKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYSkge1xuICAgICAgICBmID0gITA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGYgPSBhID0gITA7IGYgJiYgIWk7ICkge1xuICAgICAgICAgIGlmICgobiA9IHQubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBpID0gITA7XG4gICAgICAgICAgICBpZiAodC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgdC5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHIoMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGYgPSAhMTtcbiAgICAgICAgICAgICAgcihwdXNoKG4udmFsdWUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgaWYgKHQudGhyb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9ICEhdC50aHJvdyhlKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICByKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGEgPSAhMTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG52YXIgciA9IGZyb21JdGVyYWJsZTtcblxuZnVuY3Rpb24gZnJvbVZhbHVlKGUpIHtcbiAgcmV0dXJuIHIgPT4ge1xuICAgIHZhciB0ID0gITE7XG4gICAgcihzdGFydCgoaSA9PiB7XG4gICAgICBpZiAoMSA9PT0gaSkge1xuICAgICAgICB0ID0gITA7XG4gICAgICB9IGVsc2UgaWYgKCF0KSB7XG4gICAgICAgIHQgPSAhMDtcbiAgICAgICAgcihwdXNoKGUpKTtcbiAgICAgICAgcigwKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlKGUpIHtcbiAgcmV0dXJuIHIgPT4ge1xuICAgIHZhciB0ID0gITE7XG4gICAgdmFyIGkgPSBlKHtcbiAgICAgIG5leHQoZSkge1xuICAgICAgICBpZiAoIXQpIHtcbiAgICAgICAgICByKHB1c2goZSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgIGlmICghdCkge1xuICAgICAgICAgIHQgPSAhMDtcbiAgICAgICAgICByKDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcihzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSAmJiAhdCkge1xuICAgICAgICB0ID0gITA7XG4gICAgICAgIGkoKTtcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlU3ViamVjdCgpIHtcbiAgdmFyIGU7XG4gIHZhciByO1xuICByZXR1cm4ge1xuICAgIHNvdXJjZTogc2hhcmUobWFrZSgodCA9PiB7XG4gICAgICBlID0gdC5uZXh0O1xuICAgICAgciA9IHQuY29tcGxldGU7XG4gICAgICByZXR1cm4gdGVhcmRvd25QbGFjZWhvbGRlcjtcbiAgICB9KSkpLFxuICAgIG5leHQocikge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgZShyKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlKCkge1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgcigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxudmFyIGVtcHR5ID0gZSA9PiB7XG4gIHZhciByID0gITE7XG4gIGUoc3RhcnQoKHQgPT4ge1xuICAgIGlmICgxID09PSB0KSB7XG4gICAgICByID0gITA7XG4gICAgfSBlbHNlIGlmICghcikge1xuICAgICAgciA9ICEwO1xuICAgICAgZSgwKTtcbiAgICB9XG4gIH0pKSk7XG59O1xuXG52YXIgbmV2ZXIgPSByID0+IHtcbiAgcihzdGFydChlKSk7XG59O1xuXG5mdW5jdGlvbiBpbnRlcnZhbChlKSB7XG4gIHJldHVybiBtYWtlKChyID0+IHtcbiAgICB2YXIgdCA9IDA7XG4gICAgdmFyIGkgPSBzZXRJbnRlcnZhbCgoKCkgPT4gci5uZXh0KHQrKykpLCBlKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpKTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBmcm9tRG9tRXZlbnQoZSwgcikge1xuICByZXR1cm4gbWFrZSgodCA9PiB7XG4gICAgZS5hZGRFdmVudExpc3RlbmVyKHIsIHQubmV4dCk7XG4gICAgcmV0dXJuICgpID0+IGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLCB0Lm5leHQpO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGZyb21Qcm9taXNlKGUpIHtcbiAgcmV0dXJuIG1ha2UoKHIgPT4ge1xuICAgIGUudGhlbigoZSA9PiB7XG4gICAgICBQcm9taXNlLnJlc29sdmUoZSkudGhlbigoKCkgPT4ge1xuICAgICAgICByLm5leHQoZSk7XG4gICAgICAgIHIuY29tcGxldGUoKTtcbiAgICAgIH0pKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIHRlYXJkb3duUGxhY2Vob2xkZXI7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gc3Vic2NyaWJlKHIpIHtcbiAgcmV0dXJuIHQgPT4ge1xuICAgIHZhciBpID0gZTtcbiAgICB2YXIgYSA9ICExO1xuICAgIHQoKGUgPT4ge1xuICAgICAgaWYgKDAgPT09IGUpIHtcbiAgICAgICAgYSA9ICEwO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAoaSA9IGVbMF0pKDApO1xuICAgICAgfSBlbHNlIGlmICghYSkge1xuICAgICAgICByKGVbMF0pO1xuICAgICAgICBpKDApO1xuICAgICAgfVxuICAgIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICghYSkge1xuICAgICAgICAgIGEgPSAhMDtcbiAgICAgICAgICBpKDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaChlKSB7XG4gIHJldHVybiByID0+IHtcbiAgICBzdWJzY3JpYmUoZSkocik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goZSkge1xuICBzdWJzY3JpYmUoKGUgPT4ge30pKShlKTtcbn1cblxudmFyIHQgPSB7XG4gIGRvbmU6ICEwXG59O1xuXG52YXIgdG9Bc3luY0l0ZXJhYmxlID0gciA9PiB7XG4gIHZhciBpID0gW107XG4gIHZhciBhID0gITE7XG4gIHZhciBmID0gITE7XG4gIHZhciBuID0gITE7XG4gIHZhciBzID0gZTtcbiAgdmFyIGw7XG4gIHJldHVybiB7XG4gICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgIGlmICghZikge1xuICAgICAgICBmID0gITA7XG4gICAgICAgIHIoKGUgPT4ge1xuICAgICAgICAgIGlmIChhKSB7fSBlbHNlIGlmICgwID09PSBlKSB7XG4gICAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgICBsID0gbCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEgPSAhMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAgICAgICBuID0gITA7XG4gICAgICAgICAgICAocyA9IGVbMF0pKDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuID0gITE7XG4gICAgICAgICAgICBpZiAobCkge1xuICAgICAgICAgICAgICBsID0gbCh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGVbMF0sXG4gICAgICAgICAgICAgICAgZG9uZTogITFcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpLnB1c2goZVswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBpZiAoYSAmJiAhaS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgICB9IGVsc2UgaWYgKCFhICYmICFuICYmIGkubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgbiA9ICEwO1xuICAgICAgICBzKDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGkubGVuZ3RoID8ge1xuICAgICAgICB2YWx1ZTogaS5zaGlmdCgpLFxuICAgICAgICBkb25lOiAhMVxuICAgICAgfSA6IG5ldyBQcm9taXNlKChlID0+IGwgPSBlKSk7XG4gICAgfSxcbiAgICBhc3luYyByZXR1cm4oKSB7XG4gICAgICBpZiAoIWEpIHtcbiAgICAgICAgbCA9IHMoMSk7XG4gICAgICB9XG4gICAgICBhID0gITA7XG4gICAgICByZXR1cm4gdDtcbiAgICB9LFxuICAgIFthc3luY0l0ZXJhdG9yU3ltYm9sKCldKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gdG9BcnJheShyKSB7XG4gIHZhciB0ID0gW107XG4gIHZhciBpID0gZTtcbiAgdmFyIGEgPSAhMTtcbiAgcigoZSA9PiB7XG4gICAgaWYgKDAgPT09IGUpIHtcbiAgICAgIGEgPSAhMDtcbiAgICB9IGVsc2UgaWYgKDAgPT09IGUudGFnKSB7XG4gICAgICAoaSA9IGVbMF0pKDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0LnB1c2goZVswXSk7XG4gICAgICBpKDApO1xuICAgIH1cbiAgfSkpO1xuICBpZiAoIWEpIHtcbiAgICBpKDEpO1xuICB9XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiB0b1Byb21pc2Uocikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHQgPT4ge1xuICAgIHZhciBpID0gZTtcbiAgICB2YXIgYTtcbiAgICByKChlID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZShhKS50aGVuKHQpO1xuICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAoaSA9IGVbMF0pKDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYSA9IGVbMF07XG4gICAgICAgIGkoMCk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIHppcChyKSB7XG4gIHZhciB0ID0gT2JqZWN0LmtleXMocikubGVuZ3RoO1xuICByZXR1cm4gaSA9PiB7XG4gICAgdmFyIGEgPSBuZXcgU2V0O1xuICAgIHZhciBmID0gQXJyYXkuaXNBcnJheShyKSA/IG5ldyBBcnJheSh0KS5maWxsKGUpIDoge307XG4gICAgdmFyIG4gPSBBcnJheS5pc0FycmF5KHIpID8gbmV3IEFycmF5KHQpIDoge307XG4gICAgdmFyIHMgPSAhMTtcbiAgICB2YXIgbCA9ICExO1xuICAgIHZhciB1ID0gITE7XG4gICAgdmFyIG8gPSAwO1xuICAgIHZhciBsb29wID0gZnVuY3Rpb24odikge1xuICAgICAgclt2XSgoYyA9PiB7XG4gICAgICAgIGlmICgwID09PSBjKSB7XG4gICAgICAgICAgaWYgKG8gPj0gdCAtIDEpIHtcbiAgICAgICAgICAgIHUgPSAhMDtcbiAgICAgICAgICAgIGkoMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG8rKztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gYy50YWcpIHtcbiAgICAgICAgICBmW3ZdID0gY1swXTtcbiAgICAgICAgfSBlbHNlIGlmICghdSkge1xuICAgICAgICAgIG5bdl0gPSBjWzBdO1xuICAgICAgICAgIGEuYWRkKHYpO1xuICAgICAgICAgIGlmICghcyAmJiBhLnNpemUgPCB0KSB7XG4gICAgICAgICAgICBpZiAoIWwpIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaCBpbiByKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhLmhhcyhoKSkge1xuICAgICAgICAgICAgICAgICAgKGZbaF0gfHwgZSkoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsID0gITE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICAgIGwgPSAhMTtcbiAgICAgICAgICAgIGkocHVzaChBcnJheS5pc0FycmF5KG4pID8gbi5zbGljZSgpIDoge1xuICAgICAgICAgICAgICAuLi5uXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfTtcbiAgICBmb3IgKHZhciB2IGluIHIpIHtcbiAgICAgIGxvb3Aodik7XG4gICAgfVxuICAgIGkoc3RhcnQoKGUgPT4ge1xuICAgICAgaWYgKHUpIHt9IGVsc2UgaWYgKDEgPT09IGUpIHtcbiAgICAgICAgdSA9ICEwO1xuICAgICAgICBmb3IgKHZhciByIGluIGYpIHtcbiAgICAgICAgICBmW3JdKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFsKSB7XG4gICAgICAgIGwgPSAhMDtcbiAgICAgICAgZm9yICh2YXIgdCBpbiBmKSB7XG4gICAgICAgICAgZlt0XSgwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbWJpbmUoLi4uZSkge1xuICByZXR1cm4gemlwKGUpO1xufVxuXG5mdW5jdGlvbiBmcm9tT2JzZXJ2YWJsZShlKSB7XG4gIHJldHVybiByID0+IHtcbiAgICB2YXIgdCA9IChlW29ic2VydmFibGVTeW1ib2woKV0gPyBlW29ic2VydmFibGVTeW1ib2woKV0oKSA6IGUpLnN1YnNjcmliZSh7XG4gICAgICBuZXh0KGUpIHtcbiAgICAgICAgcihwdXNoKGUpKTtcbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZSgpIHtcbiAgICAgICAgcigwKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcihlKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcihzdGFydCgoZSA9PiB7XG4gICAgICBpZiAoMSA9PT0gZSkge1xuICAgICAgICB0LnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdG9PYnNlcnZhYmxlKHIpIHtcbiAgcmV0dXJuIHtcbiAgICBzdWJzY3JpYmUodCwgaSwgYSkge1xuICAgICAgdmFyIGYgPSBcIm9iamVjdFwiID09IHR5cGVvZiB0ID8gdCA6IHtcbiAgICAgICAgbmV4dDogdCxcbiAgICAgICAgZXJyb3I6IGksXG4gICAgICAgIGNvbXBsZXRlOiBhXG4gICAgICB9O1xuICAgICAgdmFyIG4gPSBlO1xuICAgICAgdmFyIHMgPSAhMTtcbiAgICAgIHIoKGUgPT4ge1xuICAgICAgICBpZiAocykge30gZWxzZSBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICBpZiAoZi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgZi5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgwID09PSBlLnRhZykge1xuICAgICAgICAgIChuID0gZVswXSkoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZi5uZXh0KGVbMF0pO1xuICAgICAgICAgIG4oMCk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICAgIHZhciBsID0ge1xuICAgICAgICBjbG9zZWQ6ICExLFxuICAgICAgICB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgICBsLmNsb3NlZCA9ICEwO1xuICAgICAgICAgIHMgPSAhMDtcbiAgICAgICAgICBuKDEpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGw7XG4gICAgfSxcbiAgICBbb2JzZXJ2YWJsZVN5bWJvbCgpXSgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZnJvbUNhbGxiYWcoZSkge1xuICByZXR1cm4gciA9PiB7XG4gICAgZSgwLCAoKGUsIHQpID0+IHtcbiAgICAgIGlmICgwID09PSBlKSB7XG4gICAgICAgIHIoc3RhcnQoKGUgPT4ge1xuICAgICAgICAgIHQoZSArIDEpO1xuICAgICAgICB9KSkpO1xuICAgICAgfSBlbHNlIGlmICgxID09PSBlKSB7XG4gICAgICAgIHIocHVzaCh0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByKDApO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdG9DYWxsYmFnKGUpIHtcbiAgcmV0dXJuIChyLCB0KSA9PiB7XG4gICAgaWYgKDAgPT09IHIpIHtcbiAgICAgIGUoKGUgPT4ge1xuICAgICAgICBpZiAoMCA9PT0gZSkge1xuICAgICAgICAgIHQoMik7XG4gICAgICAgIH0gZWxzZSBpZiAoMCA9PT0gZS50YWcpIHtcbiAgICAgICAgICB0KDAsIChyID0+IHtcbiAgICAgICAgICAgIGlmIChyIDwgMykge1xuICAgICAgICAgICAgICBlWzBdKHIgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdCgxLCBlWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIHBpcGUgPSAoLi4uZSkgPT4ge1xuICB2YXIgciA9IGVbMF07XG4gIGZvciAodmFyIHQgPSAxLCBpID0gZS5sZW5ndGg7IHQgPCBpOyB0KyspIHtcbiAgICByID0gZVt0XShyKTtcbiAgfVxuICByZXR1cm4gcjtcbn07XG5cbmV4cG9ydCB7IGJ1ZmZlciwgY29tYmluZSwgY29uY2F0LCBjb25jYXRBbGwsIGNvbmNhdE1hcCwgZGVib3VuY2UsIGRlbGF5LCBlbXB0eSwgZmlsdGVyLCBtZXJnZUFsbCBhcyBmbGF0dGVuLCBmb3JFYWNoLCByIGFzIGZyb21BcnJheSwgZnJvbUFzeW5jSXRlcmFibGUsIGZyb21DYWxsYmFnLCBmcm9tRG9tRXZlbnQsIGZyb21JdGVyYWJsZSwgZnJvbU9ic2VydmFibGUsIGZyb21Qcm9taXNlLCBmcm9tVmFsdWUsIGludGVydmFsLCBsYXp5LCBtYWtlLCBtYWtlU3ViamVjdCwgbWFwLCBtZXJnZSwgbWVyZ2VBbGwsIG1lcmdlTWFwLCBuZXZlciwgb25FbmQsIG9uUHVzaCwgb25TdGFydCwgcGlwZSwgcHVibGlzaCwgc2FtcGxlLCBzY2FuLCBzaGFyZSwgc2tpcCwgc2tpcFVudGlsLCBza2lwV2hpbGUsIHN1YnNjcmliZSwgc3dpdGNoQWxsLCBzd2l0Y2hNYXAsIHRha2UsIHRha2VMYXN0LCB0YWtlVW50aWwsIHRha2VXaGlsZSwgb25QdXNoIGFzIHRhcCwgdGhyb3R0bGUsIHRvQXJyYXksIHRvQXN5bmNJdGVyYWJsZSwgdG9DYWxsYmFnLCB0b09ic2VydmFibGUsIHRvUHJvbWlzZSwgemlwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13b25rYS5tanMubWFwXG4iLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCAiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VOYXZpZ2F0ZSB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBMb2dpbkZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Mb2dpbkZvcm0udHN4XCI7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSBcIi4uL2NvbnRleHQvQXV0aENvbnRleHQudHN4XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2dpblBhZ2UoKSB7XG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCBpc0xvYWRpbmcgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuXG4gIC8vIFx1OEE4RFx1OEEzQ1x1NkUwOFx1MzA3Rlx1MzA2QVx1MzA4OVx1MzBDMFx1MzBDM1x1MzBCN1x1MzBFNVx1MzBEQ1x1MzBGQ1x1MzBDOVx1MzA3OFx1MzBFQVx1MzBDMFx1MzBBNFx1MzBFQ1x1MzBBRlx1MzBDOFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNMb2FkaW5nICYmIGlzQXV0aGVudGljYXRlZCkge1xuICAgICAgbmF2aWdhdGUoXCIvXCIsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIGlzTG9hZGluZywgbmF2aWdhdGVdKTtcblxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItYi0yIGJvcmRlci1ibHVlLTYwMFwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIHB5LTEyIHB4LTQgc206cHgtNiBsZzpweC04XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LW1kIG14LWF1dG9cIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktOTAwIG1iLThcIj5cbiAgICAgICAgICBSZWFjdCBBdXRoIERlbW9cbiAgICAgICAgPC9oMT5cbiAgICAgICAgPExvZ2luRm9ybVxuICAgICAgICAgIG9uU3VjY2Vzcz17KCkgPT4gbmF2aWdhdGUoXCIvXCIsIHsgcmVwbGFjZTogdHJ1ZSB9KX1cbiAgICAgICAgICBvblN3aXRjaFRvU2lnbnVwPXsoKSA9PiBuYXZpZ2F0ZShcIi9zaWdudXBcIil9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsICIvLyBcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwRDVcdTMwQTlcdTMwRkNcdTMwRTBcblxuaW1wb3J0IHsgdHlwZSBGb3JtRXZlbnQsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSBcIi4uL2NvbnRleHQvQXV0aENvbnRleHQudHN4XCI7XG5pbXBvcnQgeyBzZW5kUGFzc3dvcmRSZXNldCB9IGZyb20gXCIuLi9maXJlYmFzZS9hdXRoLnRzXCI7XG5cbnR5cGUgTG9naW5Gb3JtUHJvcHMgPSB7XG4gIG9uU3VjY2Vzcz86ICgpID0+IHZvaWQ7XG4gIG9uU3dpdGNoVG9TaWdudXA/OiAoKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIExvZ2luRm9ybSh7IG9uU3VjY2Vzcywgb25Td2l0Y2hUb1NpZ251cCB9OiBMb2dpbkZvcm1Qcm9wcykge1xuICBjb25zdCB7IGxvZ2luLCBpc0xvYWRpbmcgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzaG93UmVzZXRGb3JtLCBzZXRTaG93UmVzZXRGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Jlc2V0TG9hZGluZywgc2V0UmVzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZTogRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNldEVycm9yKFwiXCIpO1xuICAgIHNldE1lc3NhZ2UoXCJcIik7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBsb2dpbihlbWFpbCwgcGFzc3dvcmQpO1xuXG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBzZXRFbWFpbChcIlwiKTtcbiAgICAgIHNldFBhc3N3b3JkKFwiXCIpO1xuICAgICAgb25TdWNjZXNzPy4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RXJyb3IocmVzdWx0Lm1lc3NhZ2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQYXNzd29yZFJlc2V0ID0gYXN5bmMgKGU6IEZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRFcnJvcihcIlwiKTtcbiAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgIHNldFJlc2V0TG9hZGluZyh0cnVlKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRQYXNzd29yZFJlc2V0KGVtYWlsKTtcblxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgc2V0TWVzc2FnZShyZXN1bHQubWVzc2FnZSk7XG4gICAgICBzZXRTaG93UmVzZXRGb3JtKGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RXJyb3IocmVzdWx0Lm1lc3NhZ2UpO1xuICAgIH1cbiAgICBzZXRSZXNldExvYWRpbmcoZmFsc2UpO1xuICB9O1xuXG4gIC8vIFx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzBFQVx1MzBCQlx1MzBDM1x1MzBDOFx1MzBENVx1MzBBOVx1MzBGQ1x1MzBFMFxuICBpZiAoc2hvd1Jlc2V0Rm9ybSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1tZCByb3VuZGVkLWxnIHAtNlwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgbWItNFwiPlxuICAgICAgICAgIFx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzA5Mlx1MzBFQVx1MzBCQlx1MzBDM1x1MzBDOFxuICAgICAgICA8L2gyPlxuXG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1yZWQtMTAwIHRleHQtcmVkLTcwMCByb3VuZGVkLW1kIHRleHQtc21cIj5cbiAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWItNFwiPlxuICAgICAgICAgIFx1NzY3Qlx1OTMzMlx1MzA1N1x1MzA1Rlx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVx1MzA5Mlx1NTE2NVx1NTI5Qlx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFx1MzAwMlx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzBFQVx1MzBCQlx1MzBDM1x1MzBDOFx1NzUyOFx1MzA2RVx1MzBFQVx1MzBGM1x1MzBBRlx1MzA5Mlx1OTAwMVx1NEZFMVx1MzA1N1x1MzA3RVx1MzA1OVx1MzAwMlxuICAgICAgICA8L3A+XG5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVBhc3N3b3JkUmVzZXR9IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgaHRtbEZvcj1cInJlc2V0LWVtYWlsXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgaWQ9XCJyZXNldC1lbWFpbFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtlbWFpbH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZXhhbXBsZUBleGFtcGxlLmNvbVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17cmVzZXRMb2FkaW5nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cmVzZXRMb2FkaW5nID8gXCJcdTkwMDFcdTRGRTFcdTRFMkQuLi5cIiA6IFwiXHUzMEVBXHUzMEJCXHUzMEMzXHUzMEM4XHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU5MDAxXHU0RkUxXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZm9ybT5cblxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgc2V0U2hvd1Jlc2V0Rm9ybShmYWxzZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihcIlwiKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTQgdy1mdWxsIHRleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTgwMCB0ZXh0LXNtXCJcbiAgICAgICAgPlxuICAgICAgICAgIFx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1MzA2Qlx1NjIzQlx1MzA4QlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgc2hhZG93LW1kIHJvdW5kZWQtbGcgcC02XCI+XG4gICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgbWItNFwiPlx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGMzwvaDI+XG5cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBwLTMgYmctcmVkLTEwMCB0ZXh0LXJlZC03MDAgcm91bmRlZC1tZCB0ZXh0LXNtXCI+XG4gICAgICAgICAge2Vycm9yfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHttZXNzYWdlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi03MDAgcm91bmRlZC1tZCB0ZXh0LXNtXCI+XG4gICAgICAgICAge21lc3NhZ2V9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBodG1sRm9yPVwibG9naW4tZW1haWxcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgaWQ9XCJsb2dpbi1lbWFpbFwiXG4gICAgICAgICAgICB2YWx1ZT17ZW1haWx9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJleGFtcGxlQGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgaHRtbEZvcj1cImxvZ2luLXBhc3N3b3JkXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0xXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgIGlkPVwibG9naW4tcGFzc3dvcmRcIlxuICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQYXNzd29yZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiNlx1NjU4N1x1NUI1N1x1NEVFNVx1NEUwQVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtpc0xvYWRpbmcgPyBcIlx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1NEUyRC4uLlwiIDogXCJcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICBzZXRTaG93UmVzZXRGb3JtKHRydWUpO1xuICAgICAgICAgIHNldEVycm9yKFwiXCIpO1xuICAgICAgICAgIHNldE1lc3NhZ2UoXCJcIik7XG4gICAgICAgIH19XG4gICAgICAgIGNsYXNzTmFtZT1cIm10LTMgdy1mdWxsIHRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIHRleHQtc21cIlxuICAgICAgPlxuICAgICAgICBcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwOTJcdTVGRDhcdTMwOENcdTMwNUZcdTU4MzRcdTU0MDhcbiAgICAgIDwvYnV0dG9uPlxuXG4gICAgICB7b25Td2l0Y2hUb1NpZ251cCAmJiAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgXHUzMEEyXHUzMEFCXHUzMEE2XHUzMEYzXHUzMEM4XHUzMDkyXHUzMDRBXHU2MzAxXHUzMDYxXHUzMDY3XHUzMDZBXHUzMDQ0XHU2NUI5XHUzMDZGe1wiIFwifVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17b25Td2l0Y2hUb1NpZ251cH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBcdTY1QjBcdTg5OEZcdTc2N0JcdTkzMzJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsICIvLyBGaXJlYmFzZSBcdThBOERcdThBM0NcdTMwQjNcdTMwRjNcdTMwQzZcdTMwQURcdTMwQjlcdTMwQzhcblxuaW1wb3J0IHtcbiAgY3JlYXRlQ29udGV4dCxcbiAgdHlwZSBSZWFjdE5vZGUsXG4gIHVzZUNhbGxiYWNrLFxuICB1c2VDb250ZXh0LFxuICB1c2VFZmZlY3QsXG4gIHVzZVN0YXRlLFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGZpcmViYXNlTG9naW4sXG4gIGZpcmViYXNlTG9nb3V0LFxuICBmaXJlYmFzZVNpZ251cCxcbiAgb25BdXRoQ2hhbmdlLFxuICByZXNlbmRWZXJpZmljYXRpb25FbWFpbCxcbn0gZnJvbSBcIi4uL2ZpcmViYXNlL2F1dGgudHNcIjtcbmltcG9ydCB0eXBlIHsgVXNlciB9IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XG5cbi8vIFx1OEE4RFx1OEEzQ1x1MzBFNlx1MzBGQ1x1MzBCNlx1MzBGQ1x1NTc4QlxudHlwZSBBdXRoVXNlciA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBlbWFpbFZlcmlmaWVkOiBib29sZWFuO1xufTtcblxuLy8gXHU4QThEXHU4QTNDXHUzMEIzXHUzMEYzXHUzMEM2XHUzMEFEXHUzMEI5XHUzMEM4XHU1NzhCXG50eXBlIEF1dGhDb250ZXh0VHlwZSA9IHtcbiAgdXNlcjogQXV0aFVzZXIgfCBudWxsO1xuICBmaXJlYmFzZVVzZXI6IFVzZXIgfCBudWxsO1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgc2lnbnVwOiAoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgKSA9PiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+O1xuICBsb2dpbjogKFxuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgKSA9PiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+O1xuICBsb2dvdXQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHJlc2VuZFZlcmlmaWNhdGlvbjogKCkgPT4gUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9Pjtcbn07XG5cbi8vIFx1MzBCM1x1MzBGM1x1MzBDNlx1MzBBRFx1MzBCOVx1MzBDOFx1NEY1Q1x1NjIxMFxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZSB8IG51bGw+KG51bGwpO1xuXG4vLyBGaXJlYmFzZSBVc2VyIFx1MzA5MiBBdXRoVXNlciBcdTMwNkJcdTU5MDlcdTYzREJcbmZ1bmN0aW9uIHRvQXV0aFVzZXIoZmlyZWJhc2VVc2VyOiBVc2VyKTogQXV0aFVzZXIge1xuICByZXR1cm4ge1xuICAgIGlkOiBmaXJlYmFzZVVzZXIudWlkLFxuICAgIG5hbWU6IGZpcmViYXNlVXNlci5kaXNwbGF5TmFtZSB8fCBcIlwiLFxuICAgIGVtYWlsOiBmaXJlYmFzZVVzZXIuZW1haWwgfHwgXCJcIixcbiAgICBlbWFpbFZlcmlmaWVkOiBmaXJlYmFzZVVzZXIuZW1haWxWZXJpZmllZCxcbiAgfTtcbn1cblxuLy8gQXV0aFByb3ZpZGVyIFx1MzBCM1x1MzBGM1x1MzBERFx1MzBGQ1x1MzBDRFx1MzBGM1x1MzBDOFxudHlwZSBBdXRoUHJvdmlkZXJQcm9wcyA9IHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBBdXRoUHJvdmlkZXIoeyBjaGlsZHJlbiB9OiBBdXRoUHJvdmlkZXJQcm9wcykge1xuICBjb25zdCBbZmlyZWJhc2VVc2VyLCBzZXRGaXJlYmFzZVVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxBdXRoVXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgLy8gRmlyZWJhc2UgXHU4QThEXHU4QTNDXHU3MkI2XHU2MTRCXHUzMDZFXHU3NkUzXHU4OTk2XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhDaGFuZ2UoKGZiVXNlcikgPT4ge1xuICAgICAgc2V0RmlyZWJhc2VVc2VyKGZiVXNlcik7XG4gICAgICBpZiAoZmJVc2VyKSB7XG4gICAgICAgIHNldFVzZXIodG9BdXRoVXNlcihmYlVzZXIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICB9XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XG4gIH0sIFtdKTtcblxuICAvLyBcdTMwQjVcdTMwQTRcdTMwRjNcdTMwQTJcdTMwQzNcdTMwRDdcbiAgY29uc3Qgc2lnbnVwID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKFxuICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgZW1haWw6IHN0cmluZyxcbiAgICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9PiA9PiB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmaXJlYmFzZVNpZ251cChlbWFpbCwgcGFzc3dvcmQpO1xuXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQudXNlcikge1xuICAgICAgICAgIC8vIGRpc3BsYXlOYW1lIFx1MzA5Mlx1OEEyRFx1NUI5QVxuICAgICAgICAgIGNvbnN0IHsgdXBkYXRlUHJvZmlsZSB9ID0gYXdhaXQgaW1wb3J0KFwiZmlyZWJhc2UvYXV0aFwiKTtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVQcm9maWxlKHJlc3VsdC51c2VyLCB7IGRpc3BsYXlOYW1lOiBuYW1lIH0pO1xuXG4gICAgICAgICAgLy8gXHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXHU2MEM1XHU1ODMxXHUzMDkyXHU2NkY0XHU2NUIwXG4gICAgICAgICAgc2V0VXNlcih7XG4gICAgICAgICAgICBpZDogcmVzdWx0LnVzZXIudWlkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiByZXN1bHQudXNlci5lbWFpbCB8fCBcIlwiLFxuICAgICAgICAgICAgZW1haWxWZXJpZmllZDogcmVzdWx0LnVzZXIuZW1haWxWZXJpZmllZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHJlc3VsdC5zdWNjZXNzLCBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSB9O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICA/IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgIDogXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIixcbiAgICAgICAgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXSxcbiAgKTtcblxuICAvLyBcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcbiAgY29uc3QgbG9naW4gPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoXG4gICAgICBlbWFpbDogc3RyaW5nLFxuICAgICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICApOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+ID0+IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZpcmViYXNlTG9naW4oZW1haWwsIHBhc3N3b3JkKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogcmVzdWx0LnN1Y2Nlc3MsIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3JcbiAgICAgICAgICAgID8gZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgOiBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiLFxuICAgICAgICB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtdLFxuICApO1xuXG4gIC8vIFx1MzBFRFx1MzBCMFx1MzBBMlx1MzBBNlx1MzBDOFxuICBjb25zdCBsb2dvdXQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmlyZWJhc2VMb2dvdXQoKTtcbiAgICBzZXRVc2VyKG51bGwpO1xuICAgIHNldEZpcmViYXNlVXNlcihudWxsKTtcbiAgfSwgW10pO1xuXG4gIC8vIFx1NzhCQVx1OEE4RFx1MzBFMVx1MzBGQ1x1MzBFQlx1NTE4RFx1OTAwMVx1NEZFMVxuICBjb25zdCByZXNlbmRWZXJpZmljYXRpb24gPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHJlc2VuZFZlcmlmaWNhdGlvbkVtYWlsKCk7XG4gIH0sIFtdKTtcblxuICAvLyBcdTMwRTFcdTMwRkNcdTMwRUJcdThBOERcdThBM0NcdTZFMDhcdTMwN0ZcdTMwNEJcdTMwNjlcdTMwNDZcdTMwNEJcdTMwNjdcdThBOERcdThBM0NcdTcyQjZcdTYxNEJcdTMwOTJcdTUyMjRcdTVCOUFcbiAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gdXNlciAhPT0gbnVsbCAmJiB1c2VyLmVtYWlsVmVyaWZpZWQ7XG5cbiAgY29uc3QgdmFsdWU6IEF1dGhDb250ZXh0VHlwZSA9IHtcbiAgICB1c2VyLFxuICAgIGZpcmViYXNlVXNlcixcbiAgICBpc0xvYWRpbmcsXG4gICAgaXNBdXRoZW50aWNhdGVkLFxuICAgIHNpZ251cCxcbiAgICBsb2dpbixcbiAgICBsb2dvdXQsXG4gICAgcmVzZW5kVmVyaWZpY2F0aW9uLFxuICB9O1xuXG4gIHJldHVybiA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9BdXRoQ29udGV4dC5Qcm92aWRlcj47XG59XG5cbi8vIHVzZUF1dGggXHUzMEQ1XHUzMEMzXHUzMEFGXG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpOiBBdXRoQ29udGV4dFR5cGUge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IHJlZ2lzdGVyVmVyc2lvbiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgbmFtZSwgdmVyc2lvbiB9IGZyb20gJy4uL3BhY2thZ2UuanNvbic7XG5cbnJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCAnYXBwJyk7XG5leHBvcnQgKiBmcm9tICdAZmlyZWJhc2UvYXBwJztcbiIsICJpbXBvcnQgeyBnZXRBcHBzLCBpbml0aWFsaXplQXBwIH0gZnJvbSBcImZpcmViYXNlL2FwcFwiO1xuaW1wb3J0IHtcbiAgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkLFxuICBnZXRBdXRoLFxuICBvbkF1dGhTdGF0ZUNoYW5nZWQsXG4gIHNlbmRFbWFpbFZlcmlmaWNhdGlvbixcbiAgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbCxcbiAgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsXG4gIHNpZ25PdXQsXG4gIHR5cGUgVXNlcixcbn0gZnJvbSBcImZpcmViYXNlL2F1dGhcIjtcbmltcG9ydCB7IGZpcmViYXNlQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnLnRzXCI7XG5cbi8vIEZpcmViYXNlIFx1MzBBMlx1MzBEN1x1MzBFQVx1MzA2RVx1NTIxRFx1NjcxRlx1NTMxNlx1RkYwOFx1OTFDRFx1ODkwN1x1NTIxRFx1NjcxRlx1NTMxNlx1MzA5Mlx1OTYzMlx1MzA1MFx1RkYwOVxuY29uc3QgYXBwID0gZ2V0QXBwcygpLmxlbmd0aCA9PT0gMFxuICA/IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpXG4gIDogZ2V0QXBwcygpWzBdO1xuY29uc3QgYXV0aCA9IGdldEF1dGgoYXBwKTtcblxuZXhwb3J0IHsgYXV0aCB9O1xuXG4vLyBcdTMwQjVcdTMwQTRcdTMwRjNcdTMwQTJcdTMwQzNcdTMwRDdcdUZGMDhcdTY1QjBcdTg5OEZcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTRGNUNcdTYyMTAgKyBcdTc4QkFcdThBOERcdTMwRTFcdTMwRkNcdTMwRUJcdTkwMDFcdTRGRTFcdUZGMDlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaXJlYmFzZVNpZ251cChcbiAgZW1haWw6IHN0cmluZyxcbiAgcGFzc3dvcmQ6IHN0cmluZyxcbik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlOiBzdHJpbmc7IHVzZXI/OiBVc2VyIH0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChcbiAgICAgIGF1dGgsXG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkLFxuICAgICk7XG4gICAgY29uc3QgdXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXI7XG5cbiAgICAvLyBcdTc4QkFcdThBOERcdTMwRTFcdTMwRkNcdTMwRUJcdTMwOTJcdTkwMDFcdTRGRTFcbiAgICBhd2FpdCBzZW5kRW1haWxWZXJpZmljYXRpb24odXNlcik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IFwiXHU3OEJBXHU4QThEXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU5MDAxXHU0RkUxXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXHUzMDAyXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU3OEJBXHU4QThEXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0XHUzMDAyXCIsXG4gICAgICB1c2VyLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgY29uc3QgZmlyZWJhc2VFcnJvciA9IGVycm9yIGFzIHsgY29kZT86IHN0cmluZzsgbWVzc2FnZT86IHN0cmluZyB9O1xuICAgIGxldCBtZXNzYWdlID0gXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIjtcblxuICAgIHN3aXRjaCAoZmlyZWJhc2VFcnJvci5jb2RlKSB7XG4gICAgICBjYXNlIFwiYXV0aC9lbWFpbC1hbHJlYWR5LWluLXVzZVwiOlxuICAgICAgICBtZXNzYWdlID0gXCJcdTMwNTNcdTMwNkVcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcdTMwNkZcdTY1RTJcdTMwNkJcdTRGN0ZcdTc1MjhcdTMwNTVcdTMwOENcdTMwNjZcdTMwNDRcdTMwN0VcdTMwNTlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYXV0aC9pbnZhbGlkLWVtYWlsXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1NzEyMVx1NTJCOVx1MzA2QVx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVx1MzA2N1x1MzA1OVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL3dlYWstcGFzc3dvcmRcIjpcbiAgICAgICAgbWVzc2FnZSA9IFwiXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMDZGNlx1NjU4N1x1NUI1N1x1NEVFNVx1NEUwQVx1MzA2Qlx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG1lc3NhZ2UgPSBmaXJlYmFzZUVycm9yLm1lc3NhZ2UgfHwgXCJcdTMwQThcdTMwRTlcdTMwRkNcdTMwNENcdTc2N0FcdTc1MUZcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIjtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZSB9O1xuICB9XG59XG5cbi8vIFx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpcmViYXNlTG9naW4oXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmcsXG4pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nOyB1c2VyPzogVXNlciB9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChcbiAgICAgIGF1dGgsXG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkLFxuICAgICk7XG4gICAgY29uc3QgdXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXI7XG5cbiAgICAvLyBcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTYwQzVcdTU4MzFcdTMwOTJcdTMwRUFcdTMwRURcdTMwRkNcdTMwQzlcdTMwNTdcdTMwNjZcdTY3MDBcdTY1QjBcdTMwNkUgZW1haWxWZXJpZmllZCBcdTMwOTJcdTUzRDZcdTVGOTdcbiAgICBhd2FpdCB1c2VyLnJlbG9hZCgpO1xuXG4gICAgaWYgKCF1c2VyLmVtYWlsVmVyaWZpZWQpIHtcbiAgICAgIC8vIFx1NjcyQVx1NzhCQVx1OEE4RFx1MzA2RVx1NTgzNFx1NTQwOFx1MzA2Rlx1MzBCNVx1MzBBNFx1MzBGM1x1MzBBMlx1MzBBNlx1MzBDOFxuICAgICAgYXdhaXQgc2lnbk91dChhdXRoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgIFwiXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XHUzMDRDXHU3OEJBXHU4QThEXHUzMDU1XHUzMDhDXHUzMDY2XHUzMDQ0XHUzMDdFXHUzMDVCXHUzMDkzXHUzMDAyXHU3OEJBXHU4QThEXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU3OEJBXHU4QThEXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0XHUzMDAyXCIsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogXCJcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcIixcbiAgICAgIHVzZXIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICBjb25zdCBmaXJlYmFzZUVycm9yID0gZXJyb3IgYXMgeyBjb2RlPzogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH07XG4gICAgbGV0IG1lc3NhZ2UgPSBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiO1xuXG4gICAgc3dpdGNoIChmaXJlYmFzZUVycm9yLmNvZGUpIHtcbiAgICAgIGNhc2UgXCJhdXRoL3VzZXItbm90LWZvdW5kXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1MzBFNlx1MzBGQ1x1MzBCNlx1MzBGQ1x1MzA0Q1x1ODk4Qlx1MzA2NFx1MzA0Qlx1MzA4QVx1MzA3RVx1MzA1Qlx1MzA5M1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL3dyb25nLXBhc3N3b3JkXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1MzBEMVx1MzBCOVx1MzBFRlx1MzBGQ1x1MzBDOVx1MzA0Q1x1OTU5M1x1OTA1NVx1MzA2M1x1MzA2Nlx1MzA0NFx1MzA3RVx1MzA1OVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL2ludmFsaWQtY3JlZGVudGlhbFwiOlxuICAgICAgICBtZXNzYWdlID0gXCJcdTMwRTFcdTMwRkNcdTMwRUJcdTMwQTJcdTMwQzlcdTMwRUNcdTMwQjlcdTMwN0VcdTMwNUZcdTMwNkZcdTMwRDFcdTMwQjlcdTMwRUZcdTMwRkNcdTMwQzlcdTMwNENcdTk1OTNcdTkwNTVcdTMwNjNcdTMwNjZcdTMwNDRcdTMwN0VcdTMwNTlcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBtZXNzYWdlID0gZmlyZWJhc2VFcnJvci5tZXNzYWdlIHx8IFwiXHUzMEE4XHUzMEU5XHUzMEZDXHUzMDRDXHU3NjdBXHU3NTFGXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2UgfTtcbiAgfVxufVxuXG4vLyBcdTMwRURcdTMwQjBcdTMwQTJcdTMwQTZcdTMwQzhcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaXJlYmFzZUxvZ291dCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgc2lnbk91dChhdXRoKTtcbn1cblxuLy8gXHU4QThEXHU4QTNDXHU3MkI2XHU2MTRCXHUzMDZFXHU3NkUzXHU4OTk2XG5leHBvcnQgZnVuY3Rpb24gb25BdXRoQ2hhbmdlKFxuICBjYWxsYmFjazogKHVzZXI6IFVzZXIgfCBudWxsKSA9PiB2b2lkLFxuKTogKCkgPT4gdm9pZCB7XG4gIHJldHVybiBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgY2FsbGJhY2spO1xufVxuXG4vLyBcdTc4QkFcdThBOERcdTMwRTFcdTMwRkNcdTMwRUJcdTMwNkVcdTUxOERcdTkwMDFcdTRGRTFcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNlbmRWZXJpZmljYXRpb25FbWFpbCgpOiBQcm9taXNlPFxuICB7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U6IHN0cmluZyB9XG4+IHtcbiAgY29uc3QgdXNlciA9IGF1dGguY3VycmVudFVzZXI7XG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBcIlx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1MzA1N1x1MzA2Nlx1MzA0NFx1MzA3RVx1MzA1Qlx1MzA5M1wiIH07XG4gIH1cblxuICB0cnkge1xuICAgIGF3YWl0IHNlbmRFbWFpbFZlcmlmaWNhdGlvbih1c2VyKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIlx1NzhCQVx1OEE4RFx1MzBFMVx1MzBGQ1x1MzBFQlx1MzA5Mlx1NTE4RFx1OTAwMVx1NEZFMVx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiIH07XG4gIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgY29uc3QgZmlyZWJhc2VFcnJvciA9IGVycm9yIGFzIHsgbWVzc2FnZT86IHN0cmluZyB9O1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IGZpcmViYXNlRXJyb3IubWVzc2FnZSB8fCBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiLFxuICAgIH07XG4gIH1cbn1cblxuLy8gXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMEVBXHUzMEJCXHUzMEMzXHUzMEM4XHUzMEUxXHUzMEZDXHUzMEVCXHUzMDZFXHU5MDAxXHU0RkUxXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFBhc3N3b3JkUmVzZXQoXG4gIGVtYWlsOiBzdHJpbmcsXG4pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKGF1dGgsIGVtYWlsKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6XG4gICAgICAgIFwiXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XHUzMEVBXHUzMEJCXHUzMEMzXHUzMEM4XHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU5MDAxXHU0RkUxXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXHUzMDAyXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU3OEJBXHU4QThEXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0XHUzMDAyXCIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICBjb25zdCBmaXJlYmFzZUVycm9yID0gZXJyb3IgYXMgeyBjb2RlPzogc3RyaW5nOyBtZXNzYWdlPzogc3RyaW5nIH07XG4gICAgbGV0IG1lc3NhZ2UgPSBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiO1xuXG4gICAgc3dpdGNoIChmaXJlYmFzZUVycm9yLmNvZGUpIHtcbiAgICAgIGNhc2UgXCJhdXRoL3VzZXItbm90LWZvdW5kXCI6XG4gICAgICAgIG1lc3NhZ2UgPSBcIlx1MzA1M1x1MzA2RVx1MzBFMVx1MzBGQ1x1MzBFQlx1MzBBMlx1MzBDOVx1MzBFQ1x1MzBCOVx1MzA2Rlx1NzY3Qlx1OTMzMlx1MzA1NVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA3RVx1MzA1Qlx1MzA5M1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhdXRoL2ludmFsaWQtZW1haWxcIjpcbiAgICAgICAgbWVzc2FnZSA9IFwiXHU3MTIxXHU1MkI5XHUzMDZBXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XHUzMDY3XHUzMDU5XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbWVzc2FnZSA9IGZpcmViYXNlRXJyb3IubWVzc2FnZSB8fCBcIlx1MzBBOFx1MzBFOVx1MzBGQ1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1N1x1MzA3RVx1MzA1N1x1MzA1RlwiO1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlIH07XG4gIH1cbn1cbiIsICIvLyBGaXJlYmFzZSBjb25maWd1cmF0aW9uXG4vLyBcdTc0QjBcdTU4ODNcdTU5MDlcdTY1NzBcdTMwNEJcdTMwODlcdThBMkRcdTVCOUFcdTMwOTJcdThBQURcdTMwN0ZcdThGQkNcdTMwN0ZcdUZGMDhcdTMwRDNcdTMwRUJcdTMwQzlcdTY2NDJcdTMwNkJcdTU3Q0JcdTMwODFcdThGQkNcdTMwN0VcdTMwOENcdTMwOEJcdUZGMDlcblxuLy8gZGVuby1saW50LWlnbm9yZSBuby1leHBsaWNpdC1hbnlcbmRlY2xhcmUgY29uc3QgcHJvY2VzczogYW55O1xuXG5leHBvcnQgY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVBJX0tFWSxcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVVUSF9ET01BSU4sXG4gIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfUFJPSkVDVF9JRCxcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQsXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lELFxuICBhcHBJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQVBQX0lELFxuICBtZWFzdXJlbWVudElkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9NRUFTVVJFTUVOVF9JRCxcbn07XG4iLCAiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTGluaywgdXNlTmF2aWdhdGUgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgU2lnbnVwRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NpZ251cEZvcm0udHN4XCI7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSBcIi4uL2NvbnRleHQvQXV0aENvbnRleHQudHN4XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTaWdudXBQYWdlKCkge1xuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGNvbnN0IFtzaWdudXBDb21wbGV0ZSwgc2V0U2lnbnVwQ29tcGxldGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFx1OEE4RFx1OEEzQ1x1NkUwOFx1MzA3Rlx1MzA2QVx1MzA4OVx1MzBDMFx1MzBDM1x1MzBCN1x1MzBFNVx1MzBEQ1x1MzBGQ1x1MzBDOVx1MzA3OFx1MzBFQVx1MzBDMFx1MzBBNFx1MzBFQ1x1MzBBRlx1MzBDOFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIG5hdmlnYXRlKFwiL1wiLCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgfVxuICB9LCBbaXNBdXRoZW50aWNhdGVkLCBuYXZpZ2F0ZV0pO1xuXG4gIC8vIFx1MzBCNVx1MzBBNFx1MzBGM1x1MzBBMlx1MzBDM1x1MzBEN1x1NUI4Q1x1NEU4Nlx1NUY4Q1x1MzA2RVx1MzBFMVx1MzBGQ1x1MzBFQlx1NzhCQVx1OEE4RFx1Njg0OFx1NTE4NVx1NzUzQlx1OTc2MlxuICBpZiAoc2lnbnVwQ29tcGxldGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBweS0xMiBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LW1kIG14LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1tZCByb3VuZGVkLWxnIHAtOCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTV4bCBtYi00XCI+XHVEODNEXHVEQ0U3PC9kaXY+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNFwiPlxuICAgICAgICAgICAgICBcdTMwRTFcdTMwRkNcdTMwRUJcdTMwOTJcdTkwMDFcdTRGRTFcdTMwNTdcdTMwN0VcdTMwNTdcdTMwNUZcbiAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTZcIj5cbiAgICAgICAgICAgICAgXHUzMDU0XHU3NjdCXHU5MzMyXHUzMDQ0XHUzMDVGXHUzMDYwXHUzMDQ0XHUzMDVGXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XHUzMDZCXHU3OEJBXHU4QThEXHUzMEUxXHUzMEZDXHUzMEVCXHUzMDkyXHU5MDAxXHU0RkUxXHUzMDU3XHUzMDdFXHUzMDU3XHUzMDVGXHUzMDAyXG4gICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICBcdTMwRTFcdTMwRkNcdTMwRUJcdTUxODVcdTMwNkVcdTMwRUFcdTMwRjNcdTMwQUZcdTMwOTJcdTMwQUZcdTMwRUFcdTMwQzNcdTMwQUZcdTMwNTdcdTMwNjZcdTMwMDFcdTc2N0JcdTkzMzJcdTMwOTJcdTVCOENcdTRFODZcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDRcdTMwMDJcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgdG89XCIvbG9naW5cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHctZnVsbCBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTIgcHgtNCByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtY2VudGVyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1MzBEQVx1MzBGQ1x1MzBCOFx1MzA3OFxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaWdudXBDb21wbGV0ZShmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHRleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTgwMCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFx1NTIyNVx1MzA2RVx1MzBBMlx1MzBBQlx1MzBBNlx1MzBGM1x1MzBDOFx1MzA2N1x1NzY3Qlx1OTMzMlx1MzA1OVx1MzA4QlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgcHktMTIgcHgtNCBzbTpweC02IGxnOnB4LThcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgbXgtYXV0b1wiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtY2VudGVyIHRleHQtZ3JheS05MDAgbWItOFwiPlxuICAgICAgICAgIFJlYWN0IEF1dGggRGVtb1xuICAgICAgICA8L2gxPlxuICAgICAgICA8U2lnbnVwRm9ybVxuICAgICAgICAgIG9uU3VjY2Vzcz17KCkgPT4gc2V0U2lnbnVwQ29tcGxldGUodHJ1ZSl9XG4gICAgICAgICAgb25Td2l0Y2hUb0xvZ2luPXsoKSA9PiBuYXZpZ2F0ZShcIi9sb2dpblwiKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwgIi8vIFx1MzBCNVx1MzBBNFx1MzBGM1x1MzBBMlx1MzBDM1x1MzBEN1x1MzBENVx1MzBBOVx1MzBGQ1x1MzBFMFxuXG5pbXBvcnQgeyB0eXBlIEZvcm1FdmVudCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcblxudHlwZSBTaWdudXBGb3JtUHJvcHMgPSB7XG4gIG9uU3VjY2Vzcz86ICgpID0+IHZvaWQ7XG4gIG9uU3dpdGNoVG9Mb2dpbj86ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gU2lnbnVwRm9ybSh7IG9uU3VjY2Vzcywgb25Td2l0Y2hUb0xvZ2luIH06IFNpZ251cEZvcm1Qcm9wcykge1xuICBjb25zdCB7IHNpZ251cCwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFtuYW1lLCBzZXROYW1lXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbcGFzc3dvcmQsIHNldFBhc3N3b3JkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBGb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2V0RXJyb3IoXCJcIik7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzaWdudXAobmFtZSwgZW1haWwsIHBhc3N3b3JkKTtcblxuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgc2V0TmFtZShcIlwiKTtcbiAgICAgIHNldEVtYWlsKFwiXCIpO1xuICAgICAgc2V0UGFzc3dvcmQoXCJcIik7XG4gICAgICBvblN1Y2Nlc3M/LigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRFcnJvcihyZXN1bHQubWVzc2FnZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBzaGFkb3ctbWQgcm91bmRlZC1sZyBwLTZcIj5cbiAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMCBtYi00XCI+XHU2NUIwXHU4OThGXHU3NjdCXHU5MzMyPC9oMj5cblxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1yZWQtMTAwIHRleHQtcmVkLTcwMCByb3VuZGVkLW1kIHRleHQtc21cIj5cbiAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBodG1sRm9yPVwic2lnbnVwLW5hbWVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFx1NTQwRFx1NTI0RFxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBpZD1cInNpZ251cC1uYW1lXCJcbiAgICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcdTVDNzFcdTc1MzAgXHU1OTJBXHU5MENFXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgaHRtbEZvcj1cInNpZ251cC1lbWFpbFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgXHUzMEUxXHUzMEZDXHUzMEVCXHUzMEEyXHUzMEM5XHUzMEVDXHUzMEI5XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICBpZD1cInNpZ251cC1lbWFpbFwiXG4gICAgICAgICAgICB2YWx1ZT17ZW1haWx9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJleGFtcGxlQGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgaHRtbEZvcj1cInNpZ251cC1wYXNzd29yZFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgXHUzMEQxXHUzMEI5XHUzMEVGXHUzMEZDXHUzMEM5XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICBpZD1cInNpZ251cC1wYXNzd29yZFwiXG4gICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhc3N3b3JkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBtaW5MZW5ndGg9ezZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCI2XHU2NTg3XHU1QjU3XHU0RUU1XHU0RTBBXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQtbWQgaG92ZXI6YmctZ3JlZW4tNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ncmVlbi01MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICA+XG4gICAgICAgICAge2lzTG9hZGluZyA/IFwiXHU3NjdCXHU5MzMyXHU0RTJELi4uXCIgOiBcIlx1NzY3Qlx1OTMzMlx1MzA1OVx1MzA4QlwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cblxuICAgICAge29uU3dpdGNoVG9Mb2dpbiAmJiAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgXHUzMDU5XHUzMDY3XHUzMDZCXHUzMEEyXHUzMEFCXHUzMEE2XHUzMEYzXHUzMEM4XHUzMDkyXHUzMDRBXHU2MzAxXHUzMDYxXHUzMDZFXHU2NUI5XHUzMDZGe1wiIFwifVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17b25Td2l0Y2hUb0xvZ2lufVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIiwgImltcG9ydCB0eXBlIHsgTGlua2VkRmllbGQsIExpbmtlZFR5cGUgfSBmcm9tICcuL3R5cGVzLnRzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEFyZ3Mge1xuICAgIFthcmc6IHN0cmluZ106IGFueSB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpZWxkcyB7XG4gICAgW2ZpZWxkOiBzdHJpbmddOiBSZXF1ZXN0XG59XG5cbmV4cG9ydCB0eXBlIFJlcXVlc3QgPSBib29sZWFuIHwgbnVtYmVyIHwgRmllbGRzXG5cbmV4cG9ydCBpbnRlcmZhY2UgVmFyaWFibGVzIHtcbiAgICBbbmFtZTogc3RyaW5nXToge1xuICAgICAgICB2YWx1ZTogYW55XG4gICAgICAgIHR5cGluZzogW0xpbmtlZFR5cGUsIHN0cmluZ11cbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGV4dCB7XG4gICAgcm9vdDogTGlua2VkVHlwZVxuICAgIHZhckNvdW50ZXI6IG51bWJlclxuICAgIHZhcmlhYmxlczogVmFyaWFibGVzXG4gICAgZnJhZ21lbnRDb3VudGVyOiBudW1iZXJcbiAgICBmcmFnbWVudHM6IHN0cmluZ1tdXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JhcGhxbE9wZXJhdGlvbiB7XG4gICAgcXVlcnk6IHN0cmluZ1xuICAgIHZhcmlhYmxlcz86IHsgW25hbWU6IHN0cmluZ106IGFueSB9XG4gICAgb3BlcmF0aW9uTmFtZT86IHN0cmluZ1xufVxuXG5jb25zdCBwYXJzZVJlcXVlc3QgPSAoXG4gICAgcmVxdWVzdDogUmVxdWVzdCB8IHVuZGVmaW5lZCxcbiAgICBjdHg6IENvbnRleHQsXG4gICAgcGF0aDogc3RyaW5nW10sXG4pOiBzdHJpbmcgPT4ge1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdCA9PT0gJ29iamVjdCcgJiYgJ19fYXJncycgaW4gcmVxdWVzdCkge1xuICAgICAgICBjb25zdCBhcmdzOiBhbnkgPSByZXF1ZXN0Ll9fYXJnc1xuICAgICAgICBsZXQgZmllbGRzOiBSZXF1ZXN0IHwgdW5kZWZpbmVkID0geyAuLi5yZXF1ZXN0IH1cbiAgICAgICAgZGVsZXRlIGZpZWxkcy5fX2FyZ3NcbiAgICAgICAgY29uc3QgYXJnTmFtZXMgPSBPYmplY3Qua2V5cyhhcmdzKVxuXG4gICAgICAgIGlmIChhcmdOYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVJlcXVlc3QoZmllbGRzLCBjdHgsIHBhdGgpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWVsZCA9IGdldEZpZWxkRnJvbVBhdGgoY3R4LnJvb3QsIHBhdGgpXG5cbiAgICAgICAgY29uc3QgYXJnU3RyaW5ncyA9IGFyZ05hbWVzLm1hcCgoYXJnTmFtZSkgPT4ge1xuICAgICAgICAgICAgY3R4LnZhckNvdW50ZXIrK1xuICAgICAgICAgICAgY29uc3QgdmFyTmFtZSA9IGB2JHtjdHgudmFyQ291bnRlcn1gXG5cbiAgICAgICAgICAgIGNvbnN0IHR5cGluZyA9IGZpZWxkLmFyZ3MgJiYgZmllbGQuYXJnc1thcmdOYW1lXSAvLyB0eXBlTWFwIHVzZWQgaGVyZSwgLmFyZ3NcblxuICAgICAgICAgICAgaWYgKCF0eXBpbmcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBubyB0eXBpbmcgZGVmaW5lZCBmb3IgYXJndW1lbnQgXFxgJHthcmdOYW1lfVxcYCBpbiBwYXRoIFxcYCR7cGF0aC5qb2luKFxuICAgICAgICAgICAgICAgICAgICAgICAgJy4nLFxuICAgICAgICAgICAgICAgICAgICApfVxcYGAsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHgudmFyaWFibGVzW3Zhck5hbWVdID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBhcmdzW2FyZ05hbWVdLFxuICAgICAgICAgICAgICAgIHR5cGluZyxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGAke2FyZ05hbWV9OiQke3Zhck5hbWV9YFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gYCgke2FyZ1N0cmluZ3N9KSR7cGFyc2VSZXF1ZXN0KGZpZWxkcywgY3R4LCBwYXRoKX1gXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcmVxdWVzdCA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMocmVxdWVzdCkubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBmaWVsZHMgPSByZXF1ZXN0XG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZXMgPSBPYmplY3Qua2V5cyhmaWVsZHMpLmZpbHRlcigoaykgPT4gQm9vbGVhbihmaWVsZHNba10pKVxuXG4gICAgICAgIGlmIChmaWVsZE5hbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBmaWVsZCBzZWxlY3Rpb24gc2hvdWxkIG5vdCBiZSBlbXB0eTogJHtwYXRoLmpvaW4oJy4nKX1gLFxuICAgICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHlwZSA9XG4gICAgICAgICAgICBwYXRoLmxlbmd0aCA+IDAgPyBnZXRGaWVsZEZyb21QYXRoKGN0eC5yb290LCBwYXRoKS50eXBlIDogY3R4LnJvb3RcbiAgICAgICAgY29uc3Qgc2NhbGFyRmllbGRzID0gdHlwZS5zY2FsYXJcblxuICAgICAgICBsZXQgc2NhbGFyRmllbGRzRnJhZ21lbnQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuXG4gICAgICAgIGlmIChmaWVsZE5hbWVzLmluY2x1ZGVzKCdfX3NjYWxhcicpKSB7XG4gICAgICAgICAgICBjb25zdCBmYWxzeUZpZWxkTmFtZXMgPSBuZXcgU2V0KFxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpZWxkcykuZmlsdGVyKChrKSA9PiAhQm9vbGVhbihmaWVsZHNba10pKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChzY2FsYXJGaWVsZHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGN0eC5mcmFnbWVudENvdW50ZXIrK1xuICAgICAgICAgICAgICAgIHNjYWxhckZpZWxkc0ZyYWdtZW50ID0gYGYke2N0eC5mcmFnbWVudENvdW50ZXJ9YFxuXG4gICAgICAgICAgICAgICAgY3R4LmZyYWdtZW50cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBgZnJhZ21lbnQgJHtzY2FsYXJGaWVsZHNGcmFnbWVudH0gb24gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUubmFtZVxuICAgICAgICAgICAgICAgICAgICB9eyR7c2NhbGFyRmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChmKSA9PiAhZmFsc3lGaWVsZE5hbWVzLmhhcyhmKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcsJyl9fWAsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmllbGRzU2VsZWN0aW9uID0gZmllbGROYW1lc1xuICAgICAgICAgICAgLmZpbHRlcigoZikgPT4gIVsnX19zY2FsYXInLCAnX19uYW1lJ10uaW5jbHVkZXMoZikpXG4gICAgICAgICAgICAubWFwKChmKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VSZXF1ZXN0KGZpZWxkc1tmXSwgY3R4LCBbLi4ucGF0aCwgZl0pXG5cbiAgICAgICAgICAgICAgICBpZiAoZi5zdGFydHNXaXRoKCdvbl8nKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHguZnJhZ21lbnRDb3VudGVyKytcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1wbGVtZW50YXRpb25GcmFnbWVudCA9IGBmJHtjdHguZnJhZ21lbnRDb3VudGVyfWBcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlTWF0Y2ggPSBmLm1hdGNoKC9eb25fKC4rKS8pXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0eXBlTWF0Y2ggfHwgIXR5cGVNYXRjaFsxXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF0Y2ggZmFpbGVkJylcblxuICAgICAgICAgICAgICAgICAgICBjdHguZnJhZ21lbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICBgZnJhZ21lbnQgJHtpbXBsZW1lbnRhdGlvbkZyYWdtZW50fSBvbiAke3R5cGVNYXRjaFsxXX0ke3BhcnNlZH1gLFxuICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAuLi4ke2ltcGxlbWVudGF0aW9uRnJhZ21lbnR9YFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtmfSR7cGFyc2VkfWBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNvbmNhdChzY2FsYXJGaWVsZHNGcmFnbWVudCA/IFtgLi4uJHtzY2FsYXJGaWVsZHNGcmFnbWVudH1gXSA6IFtdKVxuICAgICAgICAgICAgLmpvaW4oJywnKVxuXG4gICAgICAgIHJldHVybiBgeyR7ZmllbGRzU2VsZWN0aW9ufX1gXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVHcmFwaHFsT3BlcmF0aW9uID0gKFxuICAgIG9wZXJhdGlvbjogJ3F1ZXJ5JyB8ICdtdXRhdGlvbicgfCAnc3Vic2NyaXB0aW9uJyxcbiAgICByb290OiBMaW5rZWRUeXBlLFxuICAgIGZpZWxkcz86IEZpZWxkcyxcbik6IEdyYXBocWxPcGVyYXRpb24gPT4ge1xuICAgIGNvbnN0IGN0eDogQ29udGV4dCA9IHtcbiAgICAgICAgcm9vdDogcm9vdCxcbiAgICAgICAgdmFyQ291bnRlcjogMCxcbiAgICAgICAgdmFyaWFibGVzOiB7fSxcbiAgICAgICAgZnJhZ21lbnRDb3VudGVyOiAwLFxuICAgICAgICBmcmFnbWVudHM6IFtdLFxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBwYXJzZVJlcXVlc3QoZmllbGRzLCBjdHgsIFtdKVxuXG4gICAgY29uc3QgdmFyTmFtZXMgPSBPYmplY3Qua2V5cyhjdHgudmFyaWFibGVzKVxuXG4gICAgY29uc3QgdmFyc1N0cmluZyA9XG4gICAgICAgIHZhck5hbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gYCgke3Zhck5hbWVzLm1hcCgodikgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGVUeXBlID0gY3R4LnZhcmlhYmxlc1t2XS50eXBpbmdbMV1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBgJCR7dn06JHt2YXJpYWJsZVR5cGV9YFxuICAgICAgICAgICAgICB9KX0pYFxuICAgICAgICAgICAgOiAnJ1xuXG4gICAgY29uc3Qgb3BlcmF0aW9uTmFtZSA9IGZpZWxkcz8uX19uYW1lIHx8ICcnXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeTogW1xuICAgICAgICAgICAgYCR7b3BlcmF0aW9ufSAke29wZXJhdGlvbk5hbWV9JHt2YXJzU3RyaW5nfSR7cmVzdWx0fWAsXG4gICAgICAgICAgICAuLi5jdHguZnJhZ21lbnRzLFxuICAgICAgICBdLmpvaW4oJywnKSxcbiAgICAgICAgdmFyaWFibGVzOiBPYmplY3Qua2V5cyhjdHgudmFyaWFibGVzKS5yZWR1Y2U8eyBbbmFtZTogc3RyaW5nXTogYW55IH0+KFxuICAgICAgICAgICAgKHIsIHYpID0+IHtcbiAgICAgICAgICAgICAgICByW3ZdID0gY3R4LnZhcmlhYmxlc1t2XS52YWx1ZVxuICAgICAgICAgICAgICAgIHJldHVybiByXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge30sXG4gICAgICAgICksXG4gICAgICAgIC4uLihvcGVyYXRpb25OYW1lID8geyBvcGVyYXRpb25OYW1lOiBvcGVyYXRpb25OYW1lLnRvU3RyaW5nKCkgfSA6IHt9KSxcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZEZyb21QYXRoID0gKFxuICAgIHJvb3Q6IExpbmtlZFR5cGUgfCB1bmRlZmluZWQsXG4gICAgcGF0aDogc3RyaW5nW10sXG4pID0+IHtcbiAgICBsZXQgY3VycmVudDogTGlua2VkRmllbGQgfCB1bmRlZmluZWRcblxuICAgIGlmICghcm9vdCkgdGhyb3cgbmV3IEVycm9yKCdyb290IHR5cGUgaXMgbm90IHByb3ZpZGVkJylcblxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKGBwYXRoIGlzIGVtcHR5YClcblxuICAgIHBhdGguZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICBjb25zdCB0eXBlID0gY3VycmVudCA/IGN1cnJlbnQudHlwZSA6IHJvb3RcblxuICAgICAgICBpZiAoIXR5cGUuZmllbGRzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB0eXBlIFxcYCR7dHlwZS5uYW1lfVxcYCBkb2VzIG5vdCBoYXZlIGZpZWxkc2ApXG5cbiAgICAgICAgY29uc3QgcG9zc2libGVUeXBlcyA9IE9iamVjdC5rZXlzKHR5cGUuZmllbGRzKVxuICAgICAgICAgICAgLmZpbHRlcigoaSkgPT4gaS5zdGFydHNXaXRoKCdvbl8nKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgKHR5cGVzLCBmaWVsZE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSB0eXBlLmZpZWxkcyAmJiB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCkgdHlwZXMucHVzaChmaWVsZC50eXBlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFt0eXBlXSxcbiAgICAgICAgICAgIClcblxuICAgICAgICBsZXQgZmllbGQ6IExpbmtlZEZpZWxkIHwgbnVsbCA9IG51bGxcblxuICAgICAgICBwb3NzaWJsZVR5cGVzLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gdHlwZS5maWVsZHMgJiYgdHlwZS5maWVsZHNbZl1cbiAgICAgICAgICAgIGlmIChmb3VuZCkgZmllbGQgPSBmb3VuZFxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICghZmllbGQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgYHR5cGUgXFxgJHt0eXBlLm5hbWV9XFxgIGRvZXMgbm90IGhhdmUgYSBmaWVsZCBcXGAke2Z9XFxgYCxcbiAgICAgICAgICAgIClcblxuICAgICAgICBjdXJyZW50ID0gZmllbGRcbiAgICB9KVxuXG4gICAgcmV0dXJuIGN1cnJlbnQgYXMgTGlua2VkRmllbGRcbn1cbiIsICJpbXBvcnQgdHlwZSB7XG4gICAgQ29tcHJlc3NlZFR5cGUsXG4gICAgQ29tcHJlc3NlZFR5cGVNYXAsXG4gICAgTGlua2VkQXJnTWFwLFxuICAgIExpbmtlZEZpZWxkLFxuICAgIExpbmtlZFR5cGUsXG4gICAgTGlua2VkVHlwZU1hcCxcbn0gZnJvbSAnLi90eXBlcy50cydcblxuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWFsTGlua2VkRmllbGRNYXAge1xuICAgIFtmaWVsZDogc3RyaW5nXToge1xuICAgICAgICB0eXBlOiBzdHJpbmdcbiAgICAgICAgYXJncz86IExpbmtlZEFyZ01hcFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGxpbmtUeXBlTWFwID0gKFxuICAgIHR5cGVNYXA6IENvbXByZXNzZWRUeXBlTWFwPG51bWJlcj4sXG4pOiBMaW5rZWRUeXBlTWFwID0+IHtcbiAgICBjb25zdCBpbmRleFRvTmFtZTogUmVjb3JkPG51bWJlciwgc3RyaW5nPiA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICAuLi5PYmplY3Qua2V5cyh0eXBlTWFwLnR5cGVzKS5tYXAoKGssIGkpID0+ICh7IFtpXTogayB9KSksXG4gICAgKVxuXG4gICAgbGV0IGludGVybWVkaWFyeVR5cGVNYXAgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgLi4uT2JqZWN0LmtleXModHlwZU1hcC50eXBlcyB8fCB7fSkubWFwKFxuICAgICAgICAgICAgKGspOiBSZWNvcmQ8c3RyaW5nLCBMaW5rZWRUeXBlPiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZTogQ29tcHJlc3NlZFR5cGUgPSB0eXBlTWFwLnR5cGVzW2tdIVxuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IHR5cGUgfHwge31cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBba106IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGssXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0eXBlIHNjYWxhciBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsYXI6IE9iamVjdC5rZXlzKGZpZWxkcykuZmlsdGVyKChmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3R5cGVdID0gZmllbGRzW2ZdIHx8IFtdXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NjYWxhciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgJiYgdHlwZU1hcC5zY2FsYXJzLmluY2x1ZGVzKHR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1NjYWxhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IGZpZWxkc1tmXT8uWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJnVHlwZXMgPSBPYmplY3QudmFsdWVzKGFyZ3MgfHwge30pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHgpID0+IHg/LlsxXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzUmVxdWlyZWRBcmdzID0gYXJnVHlwZXMuc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cikgPT4gc3RyICYmIHN0ci5lbmRzV2l0aCgnIScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzUmVxdWlyZWRBcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWVsZHMgd2l0aCBjb3JyZXNwb25kaW5nIGB0eXBlYCBhbmQgYGFyZ3NgXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXMoZmllbGRzKS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmKTogUGFydGlhbExpbmtlZEZpZWxkTWFwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFt0eXBlSW5kZXgsIGFyZ3NdID0gZmllbGRzW2ZdIHx8IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZUluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ZdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgaW5kZXggd2l0aCB0eXBlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogaW5kZXhUb05hbWVbdHlwZUluZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXMoYXJncyB8fCB7fSkubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGFyZ1R5cGVTdHJpbmcgPT0gYXJnVHlwZU5hbWUsIGFyZ1R5cGVTdHJpbmcgaXMgbWlzc2luZywgbmVlZCB0byByZWFkZCBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFyZ3MgfHwgIWFyZ3Nba10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1R5cGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnVHlwZVN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSA9IGFyZ3Nba10gYXMgYW55XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba106IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleFRvTmFtZVtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnVHlwZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ1R5cGVTdHJpbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhUb05hbWVbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdUeXBlTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgKSxcbiAgICApXG4gICAgY29uc3QgcmVzID0gcmVzb2x2ZUNvbmNyZXRlVHlwZXMoaW50ZXJtZWRpYXJ5VHlwZU1hcClcbiAgICByZXR1cm4gcmVzXG59XG5cbi8vIHJlcGxhY2UgdHlwZW5hbWUgd2l0aCBjb25jcmV0ZSB0eXBlXG5leHBvcnQgY29uc3QgcmVzb2x2ZUNvbmNyZXRlVHlwZXMgPSAobGlua2VkVHlwZU1hcDogTGlua2VkVHlwZU1hcCkgPT4ge1xuICAgIE9iamVjdC5rZXlzKGxpbmtlZFR5cGVNYXApLmZvckVhY2goKHR5cGVOYW1lRnJvbUtleSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlOiBMaW5rZWRUeXBlID0gbGlua2VkVHlwZU1hcFt0eXBlTmFtZUZyb21LZXldIVxuICAgICAgICAvLyB0eXBlLm5hbWUgPSB0eXBlTmFtZUZyb21LZXlcbiAgICAgICAgaWYgKCF0eXBlLmZpZWxkcykge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWVsZHMgPSB0eXBlLmZpZWxkc1xuXG4gICAgICAgIE9iamVjdC5rZXlzKGZpZWxkcykuZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmllbGQ6IExpbmtlZEZpZWxkID0gZmllbGRzW2ZdIVxuXG4gICAgICAgICAgICBpZiAoZmllbGQuYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBmaWVsZC5hcmdzXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYXJncykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZyA9IGFyZ3Nba2V5XVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFt0eXBlTmFtZV0gPSBhcmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmtlZFR5cGVNYXBbdHlwZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtlZFR5cGVNYXBbdHlwZU5hbWVdID0geyBuYW1lOiB0eXBlTmFtZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnWzBdID0gbGlua2VkVHlwZU1hcFt0eXBlTmFtZV0hXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGZpZWxkLnR5cGUgYXMgTGlua2VkVHlwZSB8IHN0cmluZ1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVOYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmICghbGlua2VkVHlwZU1hcFt0eXBlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua2VkVHlwZU1hcFt0eXBlTmFtZV0gPSB7IG5hbWU6IHR5cGVOYW1lIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmaWVsZC50eXBlID0gbGlua2VkVHlwZU1hcFt0eXBlTmFtZV0hXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIHJldHVybiBsaW5rZWRUeXBlTWFwXG59XG4iLCAiZXhwb3J0IGRlZmF1bHQge1xuICAgIFwic2NhbGFyc1wiOiBbXG4gICAgICAgIDEsXG4gICAgICAgIDIsXG4gICAgICAgIDUsXG4gICAgICAgIDdcbiAgICBdLFxuICAgIFwidHlwZXNcIjoge1xuICAgICAgICBcIk11dGF0aW9uXCI6IHtcbiAgICAgICAgICAgIFwiY3JlYXRlVXNlclwiOiBbXG4gICAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmchXCJcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcImRlbGV0ZVVzZXJcIjogW1xuICAgICAgICAgICAgICAgIDYsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIklEIVwiXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJfX3R5cGVuYW1lXCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwiU3RyaW5nXCI6IHt9LFxuICAgICAgICBcIklEXCI6IHt9LFxuICAgICAgICBcIlBvc3RcIjoge1xuICAgICAgICAgICAgXCJjb250ZW50XCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJpZFwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidGl0bGVcIjogW1xuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcIl9fdHlwZW5hbWVcIjogW1xuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJRdWVyeVwiOiB7XG4gICAgICAgICAgICBcIm1lXCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwb3N0XCI6IFtcbiAgICAgICAgICAgICAgICAzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJJRCFcIlxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwicG9zdENvdW50XCI6IFtcbiAgICAgICAgICAgICAgICA1XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJwb3N0c1wiOiBbXG4gICAgICAgICAgICAgICAgM1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidGVzdFwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwidXNlclwiOiBbXG4gICAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSUQhXCJcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBcInVzZXJzXCI6IFtcbiAgICAgICAgICAgICAgICA2XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJfX3R5cGVuYW1lXCI6IFtcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwiSW50XCI6IHt9LFxuICAgICAgICBcIlVzZXJcIjoge1xuICAgICAgICAgICAgXCJpZFwiOiBbXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiX190eXBlbmFtZVwiOiBbXG4gICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcIkJvb2xlYW5cIjoge31cbiAgICB9XG59IiwgImltcG9ydCB0eXBlIHtcbiAgUXVlcnlHZW5xbFNlbGVjdGlvbixcbiAgUXVlcnksXG4gIE11dGF0aW9uR2VucWxTZWxlY3Rpb24sXG4gIE11dGF0aW9uLFxufSBmcm9tICcuL3NjaGVtYS50cydcbmltcG9ydCB7XG4gIGxpbmtUeXBlTWFwLFxuICBjcmVhdGVDbGllbnQgYXMgY3JlYXRlQ2xpZW50T3JpZ2luYWwsXG4gIGdlbmVyYXRlR3JhcGhxbE9wZXJhdGlvbixcbiAgdHlwZSBGaWVsZHNTZWxlY3Rpb24sXG4gIHR5cGUgR3JhcGhxbE9wZXJhdGlvbixcbiAgdHlwZSBDbGllbnRPcHRpb25zLFxuICBHZW5xbEVycm9yLFxufSBmcm9tICcuL3J1bnRpbWUvaW5kZXgudHMnXG5leHBvcnQgdHlwZSB7IEZpZWxkc1NlbGVjdGlvbiB9IGZyb20gJy4vcnVudGltZS9pbmRleC50cydcbmV4cG9ydCB7IEdlbnFsRXJyb3IgfVxuXG5pbXBvcnQgdHlwZXMgZnJvbSAnLi90eXBlcy50cydcbmV4cG9ydCAqIGZyb20gJy4vc2NoZW1hLnRzJ1xuY29uc3QgdHlwZU1hcCA9IGxpbmtUeXBlTWFwKHR5cGVzIGFzIGFueSlcblxuZXhwb3J0IGludGVyZmFjZSBDbGllbnQge1xuICBxdWVyeTxSIGV4dGVuZHMgUXVlcnlHZW5xbFNlbGVjdGlvbj4oXG4gICAgcmVxdWVzdDogUiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4gICk6IFByb21pc2U8RmllbGRzU2VsZWN0aW9uPFF1ZXJ5LCBSPj5cblxuICBtdXRhdGlvbjxSIGV4dGVuZHMgTXV0YXRpb25HZW5xbFNlbGVjdGlvbj4oXG4gICAgcmVxdWVzdDogUiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4gICk6IFByb21pc2U8RmllbGRzU2VsZWN0aW9uPE11dGF0aW9uLCBSPj5cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNsaWVudCA9IGZ1bmN0aW9uIChvcHRpb25zPzogQ2xpZW50T3B0aW9ucyk6IENsaWVudCB7XG4gIHJldHVybiBjcmVhdGVDbGllbnRPcmlnaW5hbCh7XG4gICAgdXJsOiB1bmRlZmluZWQsXG5cbiAgICAuLi5vcHRpb25zLFxuICAgIHF1ZXJ5Um9vdDogdHlwZU1hcC5RdWVyeSEsXG4gICAgbXV0YXRpb25Sb290OiB0eXBlTWFwLk11dGF0aW9uISxcbiAgICBzdWJzY3JpcHRpb25Sb290OiB0eXBlTWFwLlN1YnNjcmlwdGlvbiEsXG4gIH0pIGFzIGFueVxufVxuXG5leHBvcnQgY29uc3QgZXZlcnl0aGluZyA9IHtcbiAgX19zY2FsYXI6IHRydWUsXG59XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5UmVzdWx0PGZpZWxkcyBleHRlbmRzIFF1ZXJ5R2VucWxTZWxlY3Rpb24+ID0gRmllbGRzU2VsZWN0aW9uPFxuICBRdWVyeSxcbiAgZmllbGRzXG4+XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVRdWVyeU9wOiAoXG4gIGZpZWxkczogUXVlcnlHZW5xbFNlbGVjdGlvbiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4pID0+IEdyYXBocWxPcGVyYXRpb24gPSBmdW5jdGlvbiAoZmllbGRzKSB7XG4gIHJldHVybiBnZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24oJ3F1ZXJ5JywgdHlwZU1hcC5RdWVyeSEsIGZpZWxkcyBhcyBhbnkpXG59XG5cbmV4cG9ydCB0eXBlIE11dGF0aW9uUmVzdWx0PGZpZWxkcyBleHRlbmRzIE11dGF0aW9uR2VucWxTZWxlY3Rpb24+ID1cbiAgRmllbGRzU2VsZWN0aW9uPE11dGF0aW9uLCBmaWVsZHM+XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVNdXRhdGlvbk9wOiAoXG4gIGZpZWxkczogTXV0YXRpb25HZW5xbFNlbGVjdGlvbiAmIHsgX19uYW1lPzogc3RyaW5nIH0sXG4pID0+IEdyYXBocWxPcGVyYXRpb24gPSBmdW5jdGlvbiAoZmllbGRzKSB7XG4gIHJldHVybiBnZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24oJ211dGF0aW9uJywgdHlwZU1hcC5NdXRhdGlvbiEsIGZpZWxkcyBhcyBhbnkpXG59XG4iLCAiLyoqXG4gKiBHZW5RTFx1RkYwOHNlbGVjdGlvbiBcdTMwNEJcdTMwODkgR3JhcGhRTCBPcGVyYXRpb24gXHUzMDkyXHU3NTFGXHU2MjEwXHVGRjA5XHUzMDY4XG4gKiB1cnFsXHVGRjA4XHUzMEFGXHUzMEU5XHUzMEE0XHUzMEEyXHUzMEYzXHUzMEM4XHU1QjlGXHU4ODRDXHUzMEZCXHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1XHVGRjA5XHUzMDkyXHU2QTRCXHU2RTIxXHUzMDU3XHUzMDU5XHUzMDhCXHUzMDVGXHUzMDgxXHUzMDZFXHUzMEU2XHUzMEZDXHUzMEM2XHUzMEEzXHUzMEVBXHUzMEM2XHUzMEEzXHUzMDAyXG4gKlxuICogXHU2NUI5XHU5MUREOlxuICogLSBcdTMwRDVcdTMwRURcdTMwRjNcdTMwQzhcdTUwNzRcdTMwNjdcdTMwNkYgR2VuUUwgXHUzMDZFIHNlbGVjdGlvbiBcdTMwNjdcdTU3OEJcdTVCODlcdTUxNjhcdTMwNkJcdTMwQUZcdTMwQThcdTMwRUEvXHUzMERGXHUzMEU1XHUzMEZDXHUzMEM2XHUzMEZDXHUzMEI3XHUzMEU3XHUzMEYzXHU1MTg1XHU1QkI5XHUzMDkyXHU4ODY4XHU3M0ZFXG4gKiAtIFx1NUI5Rlx1ODg0Q1x1MzA2RiB1cnFsIFx1MzA2RSBob29rIC8gY2xpZW50IFx1MzA5Mlx1NzUyOFx1MzA0NFx1MzA2Nlx1ODg0Q1x1MzA0NFx1MzAwMXVycWwgXHUzMDZFXHUzMEE4XHUzMEIzXHUzMEI3XHUzMEI5XHUzMEM2XHUzMEUwXHVGRjA4XHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1XHU3QjQ5XHVGRjA5XHUzMDkyXHU2RDNCXHU3NTI4XG4gKiAtIGdyYXBocWwtY29kZWdlbiBcdTMwNkZcdTRGN0ZcdTMwOEZcdTMwNUFcdTMwMDFHZW5RTCBcdTMwNkVcdTc1MUZcdTYyMTBcdTcyNjlcdTMwNkVcdTMwN0ZcdTMwOTJcdTRGOURcdTVCNThcdTVCRkVcdThDNjFcdTMwNkJcdTMwNTlcdTMwOEJcbiAqL1xuXG5pbXBvcnQgdHlwZSB7IE11dGF0aW9uUmVzdWx0LCBRdWVyeVJlc3VsdCB9IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ2VucWwvaW5kZXgudHNcIjtcbmltcG9ydCB7IGdlbmVyYXRlUXVlcnlPcCB9IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ2VucWwvaW5kZXgudHNcIjtcbmltcG9ydCB0eXBlIHtcbiAgTXV0YXRpb25HZW5xbFNlbGVjdGlvbixcbiAgUXVlcnlHZW5xbFNlbGVjdGlvbixcbn0gZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC9zY2hlbWEudHNcIjtcbmltcG9ydCB0eXBlIHsgT3BlcmF0aW9uQ29udGV4dCB9IGZyb20gXCJ1cnFsXCI7XG5pbXBvcnQgeyB1c2VNdXRhdGlvbiwgdXNlUXVlcnkgfSBmcm9tIFwidXJxbFwiO1xuaW1wb3J0IHtcbiAgQXJncyxcbiAgRmllbGRzLFxuICBnZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24sXG59IGZyb20gXCIuLi9nZW5lcmF0ZWQvZ2VucWwvcnVudGltZS9nZW5lcmF0ZUdyYXBocWxPcGVyYXRpb24udHNcIjtcbmltcG9ydCB7IGxpbmtUeXBlTWFwIH0gZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC9ydW50aW1lL2xpbmtUeXBlTWFwLnRzXCI7XG5pbXBvcnQgdHlwZXMgZnJvbSBcIi4uL2dlbmVyYXRlZC9nZW5xbC90eXBlcy50c1wiO1xuXG50eXBlIFJlcXVlc3RQb2xpY3kgPVxuICB8IFwiY2FjaGUtZmlyc3RcIlxuICB8IFwiY2FjaGUtb25seVwiXG4gIHwgXCJuZXR3b3JrLW9ubHlcIlxuICB8IFwiY2FjaGUtYW5kLW5ldHdvcmtcIjtcblxuLyoqXG4gKiB1c2VUeXBlZFF1ZXJ5XG4gKlxuICogXHU1Rjc5XHU1MjcyOiBHZW5RTCBcdTMwNkUgc2VsZWN0aW9uXHVGRjA4XHUzMDY5XHUzMDZFXHUzMEQ1XHUzMEEzXHUzMEZDXHUzMEVCXHUzMEM5XHUzMDkyXHU1M0Q2XHU1Rjk3XHUzMDU3XHUzMDAxXHUzMDY5XHUzMDZFXHU1RjE1XHU2NTcwXHUzMDkyXHU2RTIxXHUzMDU5XHUzMDRCXHVGRjA5XHUzMDRCXHUzMDg5XG4gKiBcdTVCOUZcdTg4NENcdTUzRUZcdTgwRkRcdTMwNkEgeyBxdWVyeSwgdmFyaWFibGVzIH0gXHUzMDkyXHU3NTFGXHU2MjEwXHUzMDU3XHUzMDAxXHUzMDVEXHUzMDZFXHUzMDdFXHUzMDdFIHVycWwgXHUzMDZFIHVzZVF1ZXJ5IFx1MzA2Qlx1NkUyMVx1MzA1OVx1MzAwMlxuICpcbiAqIFx1NTJCOVx1Njc5Qzogc2VsZWN0aW9uIFx1MzA2Qlx1MzA4OFx1MzA4Qlx1NTc4Qlx1NUI4OVx1NTE2OFx1MzA2OFx1MzAwMXVycWwgXHUzMDZFXHUzMEFEXHUzMEUzXHUzMEMzXHUzMEI3XHUzMEU1L1x1MzBERFx1MzBFQVx1MzBCN1x1MzBGQ1x1MzA5Mlx1NTQwQ1x1NjY0Mlx1MzA2Qlx1NkQzQlx1NzUyOFx1MzA2N1x1MzA0RFx1MzA4Qlx1MzAwMlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlVHlwZWRRdWVyeTxRdWVyeSBleHRlbmRzIFF1ZXJ5R2VucWxTZWxlY3Rpb24+KG9wdHM6IHtcbiAgcXVlcnk6IFF1ZXJ5O1xuICBwYXVzZT86IGJvb2xlYW47XG4gIHJlcXVlc3RQb2xpY3k/OiBSZXF1ZXN0UG9saWN5O1xuICBjb250ZXh0PzogUGFydGlhbDxPcGVyYXRpb25Db250ZXh0Pjtcbn0pIHtcbiAgY29uc3QgeyBxdWVyeSwgdmFyaWFibGVzIH0gPSBnZW5lcmF0ZVF1ZXJ5T3Aob3B0cy5xdWVyeSk7XG5cbiAgcmV0dXJuIHVzZVF1ZXJ5PFF1ZXJ5UmVzdWx0PFF1ZXJ5Pj4oe1xuICAgIC4uLm9wdHMsXG4gICAgcXVlcnksXG4gICAgdmFyaWFibGVzLFxuICB9KTtcbn1cblxuLy8gZGVuby1saW50LWlnbm9yZSBuby1leHBsaWNpdC1hbnlcbmNvbnN0IHR5cGVNYXAgPSBsaW5rVHlwZU1hcCh0eXBlcyBhcyBhbnkpO1xuXG4vKipcbiAqIHVzZVR5cGVkTXV0YXRpb25cbiAqXG4gKiBcdTVGNzlcdTUyNzI6IEdlblFMIFx1MzA2RSBzZWxlY3Rpb24gXHUzMDRCXHUzMDg5IE11dGF0aW9uIFx1MzA5Mlx1NUI5Rlx1ODg0Q1x1MzA1OVx1MzA4Qlx1MzA1Rlx1MzA4MVx1MzA2RVx1MzBENVx1MzBDM1x1MzBBRlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlVHlwZWRNdXRhdGlvbjxNdXRhdGlvbiBleHRlbmRzIE11dGF0aW9uR2VucWxTZWxlY3Rpb24+KFxuICBvcHRzOiB7XG4gICAgbXV0YXRpb246IE11dGF0aW9uO1xuICAgIGNvbnRleHQ/OiBQYXJ0aWFsPE9wZXJhdGlvbkNvbnRleHQ+O1xuICAgIGFkZGl0aW9uYWxUeXBlbmFtZXM/OiBzdHJpbmdbXTtcbiAgfSxcbikge1xuICAvLyBcdTMwQUZcdTMwQThcdTMwRUFcdTY1ODdcdTVCNTdcdTUyMTdcdTMwOTJcdTc1MUZcdTYyMTBcdUZGMDhcdTRFMDBcdTVFQTZcdTMwNjBcdTMwNTFcdUZGMDlcbiAgY29uc3Qgb3BlcmF0aW9uID0gZ2VuZXJhdGVHcmFwaHFsT3BlcmF0aW9uKFxuICAgIFwibXV0YXRpb25cIixcbiAgICB0eXBlTWFwLk11dGF0aW9uISxcbiAgICBvcHRzLm11dGF0aW9uIGFzIHVua25vd24gYXMgRmllbGRzLFxuICApO1xuXG4gIC8vIHVzZU11dGF0aW9uXHUzMDZCXHUzMDZGXHUzMEFGXHUzMEE4XHUzMEVBXHU2NTg3XHU1QjU3XHU1MjE3XHUzMDkyXHU3NkY0XHU2M0E1XHU2RTIxXHUzMDU5XG4gIGNvbnN0IFtyZXN1bHQsIGV4ZWN1dGVNdXRhdGlvbl0gPSB1c2VNdXRhdGlvbjxNdXRhdGlvblJlc3VsdDxNdXRhdGlvbj4+KFxuICAgIG9wZXJhdGlvbi5xdWVyeSxcbiAgKTtcblxuICBjb25zdCBleGVjdXRlID0gKHZhcmlhYmxlcz86IEFyZ3MpID0+IHtcbiAgICAvLyBcdTU5MDlcdTY1NzBcdTMwOTJcdTUxOERcdTc1MUZcdTYyMTBcdTMwNTdcdTMwNjZcdTMwMDFcdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTZFMjFcdTMwNTVcdTMwOENcdTMwNUZcdTUwMjRcdTMwNjdcdTRFMEFcdTY2RjhcdTMwNERcbiAgICBjb25zdCBvcGVyYXRpb25XaXRoVmFycyA9IGdlbmVyYXRlR3JhcGhxbE9wZXJhdGlvbihcbiAgICAgIFwibXV0YXRpb25cIixcbiAgICAgIHR5cGVNYXAuTXV0YXRpb24hLFxuICAgICAgb3B0cy5tdXRhdGlvbiBhcyB1bmtub3duIGFzIEZpZWxkcyxcbiAgICApO1xuXG4gICAgLy8gXHU1QjlGXHU4ODRDXHU2NjQyXHUzMDZCXHU2RTIxXHUzMDU1XHUzMDhDXHUzMDVGXHU1OTA5XHU2NTcwXHUzMDY3XHU0RTBBXHU2NkY4XHUzMDREXG4gICAgLy8gZ2VucWxcdTMwNkZ2MSwgdjJcdTMwNkFcdTMwNjlcdTMwNkVcdTU5MDlcdTY1NzBcdTU0MERcdTMwOTJcdTc1MUZcdTYyMTBcdTMwNTlcdTMwOEJcdTMwNENcdTMwMDFcbiAgICAvLyBcdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTZFMjFcdTMwNTVcdTMwOENcdTMwNUZcdTU5MDlcdTY1NzBcdTMwNkVcdTMwQURcdTMwRkNcdUZGMDhcdTRGOEI6IFwibmFtZVwiXHVGRjA5XHUzMDkyXHUzMDAxb3BlcmF0aW9uLnZhcmlhYmxlc1x1MzA2RVx1NTAyNFx1MzA2OFx1NzE2N1x1NTQwOFx1MzA1N1x1MzA2Nlx1NEUwQVx1NjZGOFx1MzA0RFxuICAgIGNvbnN0IGZpbmFsVmFyaWFibGVzID0geyAuLi5vcGVyYXRpb25XaXRoVmFycy52YXJpYWJsZXMgfTtcblxuICAgIGlmICh2YXJpYWJsZXMgJiYgb3BlcmF0aW9uV2l0aFZhcnMudmFyaWFibGVzKSB7XG4gICAgICBjb25zdCB2YXJLZXlzID0gT2JqZWN0LmtleXMob3BlcmF0aW9uV2l0aFZhcnMudmFyaWFibGVzKTtcbiAgICAgIC8vIG9wZXJhdGlvbi52YXJpYWJsZXNcdTMwNkVcdTU0MDRcdTU5MDlcdTY1NzBcdTMwNkJcdTMwNjRcdTMwNDRcdTMwNjZcdTMwMDFcdTVCOUZcdTg4NENcdTY2NDJcdTMwNkJcdTZFMjFcdTMwNTVcdTMwOENcdTMwNUZcdTU5MDlcdTY1NzBcdTMwNjhcdTcxNjdcdTU0MDhcbiAgICAgIHZhcktleXMuZm9yRWFjaCgodmFyS2V5KSA9PiB7XG4gICAgICAgIC8vIF9fYXJnc1x1MzA2N1x1NjMwN1x1NUI5QVx1MzA1NVx1MzA4Q1x1MzA1Rlx1NUYxNVx1NjU3MFx1NTQwRFx1MzA5Mlx1NTNENlx1NUY5N1x1RkYwOFx1MzA1M1x1MzA4Q1x1MzA2Rm11dGF0aW9uXHUzMDZFXHU2OUNCXHU5MDIwXHUzMDRCXHUzMDg5XHU2M0E4XHU2RTJDXHUzMDU5XHUzMDhCXHU1RkM1XHU4OTgxXHUzMDRDXHUzMDQyXHUzMDhCXHVGRjA5XG4gICAgICAgIC8vIFx1N0MyMVx1NjYxM1x1NzY4NFx1MzA2QVx1NUI5Rlx1ODhDNTogbXV0YXRpb25cdTMwNkVfX2FyZ3NcdTMwNkVcdTMwQURcdTMwRkNcdTMwOTJcdTk4MDZcdTc1NkFcdTMwNkJcdTMwREVcdTMwQzNcdTMwRDRcdTMwRjNcdTMwQjBcbiAgICAgICAgY29uc3QgbXV0YXRpb25LZXlzID0gT2JqZWN0LmtleXMob3B0cy5tdXRhdGlvbik7XG4gICAgICAgIGlmIChtdXRhdGlvbktleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IG11dGF0aW9uRmllbGQgPVxuICAgICAgICAgICAgKG9wdHMubXV0YXRpb24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW211dGF0aW9uS2V5c1swXV07XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbXV0YXRpb25GaWVsZCAmJiB0eXBlb2YgbXV0YXRpb25GaWVsZCA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgXCJfX2FyZ3NcIiBpbiBtdXRhdGlvbkZpZWxkICYmIG11dGF0aW9uRmllbGQuX19hcmdzICYmXG4gICAgICAgICAgICB0eXBlb2YgbXV0YXRpb25GaWVsZC5fX2FyZ3MgPT09IFwib2JqZWN0XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZ05hbWVzID0gT2JqZWN0LmtleXMobXV0YXRpb25GaWVsZC5fX2FyZ3MpO1xuICAgICAgICAgICAgY29uc3QgdmFySW5kZXggPSB2YXJLZXlzLmluZGV4T2YodmFyS2V5KTtcbiAgICAgICAgICAgIGlmICh2YXJJbmRleCA+PSAwICYmIHZhckluZGV4IDwgYXJnTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFyZ05hbWUgPSBhcmdOYW1lc1t2YXJJbmRleF07XG4gICAgICAgICAgICAgIGlmICh2YXJpYWJsZXNbYXJnTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZpbmFsVmFyaWFibGVzW3ZhcktleV0gPSB2YXJpYWJsZXNbYXJnTmFtZV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGFkZGl0aW9uYWxUeXBlbmFtZXNcdTMwOTJjb250ZXh0XHUzMDZCXHU4RkZEXHU1MkEwXG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIC4uLm9wdHMuY29udGV4dCxcbiAgICAgIC4uLihvcHRzLmFkZGl0aW9uYWxUeXBlbmFtZXMgJiYge1xuICAgICAgICBhZGRpdGlvbmFsVHlwZW5hbWVzOiBvcHRzLmFkZGl0aW9uYWxUeXBlbmFtZXMsXG4gICAgICB9KSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGV4ZWN1dGVNdXRhdGlvbihmaW5hbFZhcmlhYmxlcywgY29udGV4dCk7XG4gIH07XG5cbiAgcmV0dXJuIFtyZXN1bHQsIGV4ZWN1dGVdIGFzIGNvbnN0O1xufVxuIiwgImltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vY29udGV4dC9BdXRoQ29udGV4dC50c3hcIjtcbmltcG9ydCB7IHVzZVR5cGVkUXVlcnkgfSBmcm9tIFwiLi4vdXRpbHMvZ2VucWwtdXJxbC1icmlkZ2UudHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIERhc2hib2FyZFBhZ2UoKSB7XG4gIGNvbnN0IHsgdXNlciwgbG9nb3V0IH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcblxuICAvLyBcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTRFMDBcdTg5QTdcdTMwOTJcdTUzRDZcdTVGOTdcbiAgY29uc3QgW3VzZXJzUmVzdWx0XSA9IHVzZVR5cGVkUXVlcnkoe1xuICAgIHF1ZXJ5OiB7XG4gICAgICB1c2Vyczoge1xuICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgLy8gXHU2Mjk1XHU3QTNGXHU0RTAwXHU4OUE3XHUzMDkyXHU1M0Q2XHU1Rjk3XG4gIGNvbnN0IFtwb3N0c1Jlc3VsdF0gPSB1c2VUeXBlZFF1ZXJ5KHtcbiAgICBxdWVyeToge1xuICAgICAgcG9zdHM6IHtcbiAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgIHRpdGxlOiB0cnVlLFxuICAgICAgICBjb250ZW50OiB0cnVlLFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBbdGVzdFJlc3VsdF0gPSB1c2VUeXBlZFF1ZXJ5KHtcbiAgICBxdWVyeToge1xuICAgICAgdGVzdDogdHJ1ZSxcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBoYW5kbGVMb2dvdXQgPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgbG9nb3V0KCk7XG4gICAgbmF2aWdhdGUoXCIvbG9naW5cIiwgeyByZXBsYWNlOiB0cnVlIH0pO1xuICB9O1xuXG4gIGNvbnN0IHVzZXJzID0gdXNlcnNSZXN1bHQuZGF0YT8udXNlcnMgPz8gW107XG4gIGNvbnN0IHBvc3RzID0gcG9zdHNSZXN1bHQuZGF0YT8ucG9zdHMgPz8gW107XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIHB5LTEyIHB4LTQgc206cHgtNiBsZzpweC04XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvXCI+XG4gICAgICAgIHsvKiBcdTMwRDhcdTMwQzNcdTMwQzBcdTMwRkMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLThcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5cdTMwQzBcdTMwQzNcdTMwQjdcdTMwRTVcdTMwRENcdTMwRkNcdTMwQzk8L2gxPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTG9nb3V0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JheS0yMDAgdGV4dC1ncmF5LTcwMCBweC00IHB5LTIgcm91bmRlZC1tZCBob3ZlcjpiZy1ncmF5LTMwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgXHUzMEVEXHUzMEIwXHUzMEEyXHUzMEE2XHUzMEM4XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTYwQzVcdTU4MzFcdTMwQUJcdTMwRkNcdTMwQzkgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cgcC02IG1iLTZcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgbWItNFwiPlxuICAgICAgICAgICAgXHUzMEVEXHUzMEIwXHUzMEE0XHUzMEYzXHU0RTJEXHUzMDZFXHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXG4gICAgICAgICAgPC9oMj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEyIGJnLWJsdWUtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGZvbnQtYm9sZCB0ZXh0LXhsXCI+XG4gICAgICAgICAgICAgICAge3VzZXI/Lm5hbWU/LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIHx8IFwiP1wifVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgICAgICB7dXNlcj8ubmFtZSB8fCBcIlx1NTQwRFx1NTI0RFx1NjcyQVx1OEEyRFx1NUI5QVwifVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPnt1c2VyPy5lbWFpbH08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHt1c2VyPy5lbWFpbFZlcmlmaWVkICYmIChcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtYXV0byBweC0yIHB5LTEgdGV4dC14cyBmb250LW1lZGl1bSBiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAgcm91bmRlZC1mdWxsXCI+XG4gICAgICAgICAgICAgICAgXHU4QThEXHU4QTNDXHU2RTA4XHUzMDdGXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBcdTMwQzdcdTMwRkNcdTMwQkZcdTg4NjhcdTc5M0EgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNlwiPlxuICAgICAgICAgIHsvKiBcdTMwRTZcdTMwRkNcdTMwQjZcdTMwRkNcdTRFMDBcdTg5QTcgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTZcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMCBtYi00XCI+XG4gICAgICAgICAgICAgIFx1MzBFNlx1MzBGQ1x1MzBCNlx1MzBGQ1x1NEUwMFx1ODlBNyAoe3VzZXJzLmxlbmd0aH1cdTRFRjYpXG4gICAgICAgICAgICA8L2gyPlxuXG4gICAgICAgICAgICB7dXNlcnNSZXN1bHQuZmV0Y2hpbmdcbiAgICAgICAgICAgICAgPyA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XHU4QUFEXHUzMDdGXHU4RkJDXHUzMDdGXHU0RTJELi4uPC9wPlxuICAgICAgICAgICAgICA6IHVzZXJzUmVzdWx0LmVycm9yXG4gICAgICAgICAgICAgID8gKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgXHUzMEE4XHUzMEU5XHUzMEZDOiB7dXNlcnNSZXN1bHQuZXJyb3IubWVzc2FnZX1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiB1c2Vycy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgPyA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XHUzMEU2XHUzMEZDXHUzMEI2XHUzMEZDXHUzMDRDXHUzMDQ0XHUzMDdFXHUzMDVCXHUzMDkzPC9wPlxuICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICB7dXNlcnMubWFwKCh1KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgIGtleT17dS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTIgYmctZ3JheS01MCByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1ibHVlLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgZm9udC1tZWRpdW0gdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dS5uYW1lPy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSB8fCBcIj9cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktOTAwXCI+e3UubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCB0ZXh0LXhzIG1sLWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIElEOiB7dS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFx1NjI5NVx1N0EzRlx1NEUwMFx1ODlBNyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93IHAtNlwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgXHU2Mjk1XHU3QTNGXHU0RTAwXHU4OUE3ICh7cG9zdHMubGVuZ3RofVx1NEVGNilcbiAgICAgICAgICAgIDwvaDI+XG5cbiAgICAgICAgICAgIHtwb3N0c1Jlc3VsdC5mZXRjaGluZ1xuICAgICAgICAgICAgICA/IDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5cdThBQURcdTMwN0ZcdThGQkNcdTMwN0ZcdTRFMkQuLi48L3A+XG4gICAgICAgICAgICAgIDogcG9zdHNSZXN1bHQuZXJyb3JcbiAgICAgICAgICAgICAgPyAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwXCI+XG4gICAgICAgICAgICAgICAgICBcdTMwQThcdTMwRTlcdTMwRkM6IHtwb3N0c1Jlc3VsdC5lcnJvci5tZXNzYWdlfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHBvc3RzLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICA/IDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5cdTYyOTVcdTdBM0ZcdTMwNENcdTMwNDJcdTMwOEFcdTMwN0VcdTMwNUJcdTMwOTM8L3A+XG4gICAgICAgICAgICAgIDogKFxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIHtwb3N0cy5tYXAoKHApID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGxpIGtleT17cC5pZH0gY2xhc3NOYW1lPVwicC0zIGJnLWdyYXktNTAgcm91bmRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+e3AudGl0bGV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbXQtMSBsaW5lLWNsYW1wLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTZcIj5cbiAgICAgICAgICB7dGVzdFJlc3VsdC5kYXRhPy50ZXN0fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwgImltcG9ydCB7IHR5cGUgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBOYXZpZ2F0ZSwgdXNlTG9jYXRpb24gfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCIuLi9jb250ZXh0L0F1dGhDb250ZXh0LnRzeFwiO1xuXG50eXBlIFByb3RlY3RlZFJvdXRlUHJvcHMgPSB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG4gIHJlZGlyZWN0VG8/OiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIFx1OEE4RFx1OEEzQ1x1MzA0Q1x1NUZDNVx1ODk4MVx1MzA2QVx1MzBFQlx1MzBGQ1x1MzBDOFx1MzA5Mlx1NEZERFx1OEI3N1x1MzA1OVx1MzA4Qlx1MzBCM1x1MzBGM1x1MzBERFx1MzBGQ1x1MzBDRFx1MzBGM1x1MzBDOFxuICpcbiAqIFx1NEY3Rlx1NzUyOFx1NEY4QjpcbiAqIDxSb3V0ZVxuICogICBwYXRoPVwiL1wiXG4gKiAgIGVsZW1lbnQ9e1xuICogICAgIDxQcm90ZWN0ZWRSb3V0ZT5cbiAqICAgICAgIDxEYXNoYm9hcmRQYWdlIC8+XG4gKiAgICAgPC9Qcm90ZWN0ZWRSb3V0ZT5cbiAqICAgfVxuICogLz5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFByb3RlY3RlZFJvdXRlKHtcbiAgY2hpbGRyZW4sXG4gIHJlZGlyZWN0VG8gPSBcIi9sb2dpblwiLFxufTogUHJvdGVjdGVkUm91dGVQcm9wcykge1xuICBjb25zdCB7IGlzQXV0aGVudGljYXRlZCwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcblxuICAvLyBcdTMwRURcdTMwRkNcdTMwQzdcdTMwQTNcdTMwRjNcdTMwQjBcdTRFMkRcdTMwNkZcdTMwQjlcdTMwRDRcdTMwQ0FcdTMwRkNcdTMwOTJcdTg4NjhcdTc5M0FcbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLWItMiBib3JkZXItYmx1ZS02MDBcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFx1NjcyQVx1OEE4RFx1OEEzQ1x1MzA2QVx1MzA4OVx1MzBFRFx1MzBCMFx1MzBBNFx1MzBGM1x1MzBEQVx1MzBGQ1x1MzBCOFx1MzA3OFx1MzBFQVx1MzBDMFx1MzBBNFx1MzBFQ1x1MzBBRlx1MzBDOFxuICAvLyBzdGF0ZSBcdTMwNkJcdTczRkVcdTU3MjhcdTMwNkVcdTMwRDFcdTMwQjlcdTMwOTJcdTRGRERcdTVCNThcdTMwNTdcdTMwNjZcdTMwMDFcdTMwRURcdTMwQjBcdTMwQTRcdTMwRjNcdTVGOENcdTMwNkJcdTYyM0JcdTMwOENcdTMwOEJcdTMwODhcdTMwNDZcdTMwNkJcdTMwNTlcdTMwOEJcbiAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gPE5hdmlnYXRlIHRvPXtyZWRpcmVjdFRvfSBzdGF0ZT17eyBmcm9tOiBsb2NhdGlvbiB9fSByZXBsYWNlIC8+O1xuICB9XG5cbiAgcmV0dXJuIDw+e2NoaWxkcmVufTwvPjtcbn1cbiIsICJpbXBvcnQgeyBSb3V0ZSwgUm91dGVzIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IERhc2hib2FyZFBhZ2UsIExvZ2luUGFnZSwgU2lnbnVwUGFnZSB9IGZyb20gXCIuL3BhZ2VzL2luZGV4LnRzXCI7XG5pbXBvcnQgeyBQcm90ZWN0ZWRSb3V0ZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUHJvdGVjdGVkUm91dGUudHN4XCI7XG5cbmZ1bmN0aW9uIEFwcCgpIHtcbiAgcmV0dXJuIChcbiAgICA8Um91dGVzPlxuICAgICAgey8qIFx1NTE2Q1x1OTU4Qlx1MzBFQlx1MzBGQ1x1MzBDOCAqL31cbiAgICAgIDxSb3V0ZSBwYXRoPVwiL2xvZ2luXCIgZWxlbWVudD17PExvZ2luUGFnZSAvPn0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiL3NpZ251cFwiIGVsZW1lbnQ9ezxTaWdudXBQYWdlIC8+fSAvPlxuXG4gICAgICB7LyogXHU4QThEXHU4QTNDXHU1RkM1XHU5ODA4XHUzMEVCXHUzMEZDXHUzMEM4ICovfVxuICAgICAgPFJvdXRlXG4gICAgICAgIHBhdGg9XCIvXCJcbiAgICAgICAgZWxlbWVudD17XG4gICAgICAgICAgPFByb3RlY3RlZFJvdXRlPlxuICAgICAgICAgICAgPERhc2hib2FyZFBhZ2UgLz5cbiAgICAgICAgICA8L1Byb3RlY3RlZFJvdXRlPlxuICAgICAgICB9XG4gICAgICAvPlxuXG4gICAgICB7LyogNDA0OiBcdTY3MkFcdTVCOUFcdTdGQTlcdTMwNkVcdTMwRDFcdTMwQjlcdTMwNkZcdTMwQzBcdTMwQzNcdTMwQjdcdTMwRTVcdTMwRENcdTMwRkNcdTMwQzlcdTMwNzggKi99XG4gICAgICA8Um91dGVcbiAgICAgICAgcGF0aD1cIipcIlxuICAgICAgICBlbGVtZW50PXtcbiAgICAgICAgICA8UHJvdGVjdGVkUm91dGU+XG4gICAgICAgICAgICA8RGFzaGJvYXJkUGFnZSAvPlxuICAgICAgICAgIDwvUHJvdGVjdGVkUm91dGU+XG4gICAgICAgIH1cbiAgICAgIC8+XG4gICAgPC9Sb3V0ZXM+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiIsICJpbXBvcnQgdHlwZSB7IEV4Y2hhbmdlLCBPcGVyYXRpb24sIE9wZXJhdGlvblJlc3VsdCB9IGZyb20gXCJ1cnFsXCI7XG5cbmltcG9ydCB7IHBpcGUsIHRhcCB9IGZyb20gXCJ3b25rYVwiO1xuXG4vKipcbiAqIFx1MzBERlx1MzBFNVx1MzBGQ1x1MzBDNlx1MzBGQ1x1MzBCN1x1MzBFN1x1MzBGM1x1N0Q1MFx1Njc5Q1x1MzA0Qlx1MzA4OSBfX3R5cGVuYW1lIFx1MzA5Mlx1NTE4RFx1NUUzMFx1NzY4NFx1MzA2Qlx1NTNDRVx1OTZDNlxuICovXG5mdW5jdGlvbiBjb2xsZWN0VHlwZW5hbWVzKG5vZGU6IHVua25vd24sIG91dDogU2V0PHN0cmluZz4pIHtcbiAgaWYgKG5vZGUgPT0gbnVsbCkgcmV0dXJuO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgZm9yIChjb25zdCB2IG9mIG5vZGUpIGNvbGxlY3RUeXBlbmFtZXModiwgb3V0KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodHlwZW9mIG5vZGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBvYmogPSBub2RlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIGNvbnN0IHRuID0gb2JqLl9fdHlwZW5hbWU7XG5cbiAgICBpZiAodHlwZW9mIHRuID09PSBcInN0cmluZ1wiKSBvdXQuYWRkKHRuKTtcblxuICAgIGZvciAoY29uc3QgdiBvZiBPYmplY3QudmFsdWVzKG9iaikpIGNvbGxlY3RUeXBlbmFtZXModiwgb3V0KTtcbiAgfVxufVxuXG4vKipcbiAqIE11dGF0aW9uXHUzMDY3XHU1QjlGXHU4ODRDXHU2NjQyUXVlcnlcdTMwOTJcdTc2N0FcdTcwNkJcdTMwNTlcdTMwOEJFeGNoYW5nZVxuICogXHU2NzYxXHU0RUY2XG4gKiAgXHUzMEZCMS4gXHU1QjlGXHU4ODRDXHU2RTA4XHUzMDdGXHUzMDZFUXVlcnlcbiAqICBcdTMwRkIyLiBNdXRhdGlvblx1NUI5Rlx1ODg0Q1x1NjY0Mlx1MzA2Qlx1NzY3QVx1NzA2Qlx1NUJGRVx1OEM2MVx1MzA2RVx1NTc4Qlx1NjMwN1x1NUI5QSB7IGFkZGl0aW9uYWxUeXBlbmFtZXM6IFtcIk1lc3NhZ2VBY2NvdW50KFx1NEY4QilcIl0gfVxuICogIFx1MzBGQjMuIFx1NEUwQVx1OEExOFx1MzA2RVx1NTc4Qlx1MzA0Q1x1OEE3Mlx1NUY1M1x1MzA2RVF1ZXJ5XHUzMDZFX190eXBlbmFtZVx1MzA2Qlx1NTQyQlx1MzA3RVx1MzA4Q1x1MzA2Nlx1MzA0NFx1MzA4QlxuICogXHU4OERDXHU4REIzXG4gKiAgXHUzMEZCZ3JhcGhjYWNoZVx1MzA2Qlx1MzA4OFx1MzA4QmNhY2hlRXhjaGFuZ2VcdTMwNkVcdTU4MzRcdTU0MDhcdTMwNkZhZGRpdGlvbmFsVHlwZW5hbWVzXHUzMDkyXHU0RjdGXHUzMDQ2XHUzMDUzXHUzMDY4XHUzMDRDXHUzMDY3XHUzMDREXHUzMDhCXHUzMDRDXHUzMDUzXHUzMDYxXHUzMDg5XHUzMDgyXHVGRjEwXHU0RUY2XHUzMDZFXHU1ODM0XHU1NDA4XHU1QkZFXHU1RkRDXHU0RTBEXHU1M0VGXHUzMDZFXHUzMDVGXHUzMDgxXHUzMDUzXHUzMDYxXHUzMDg5XHU4MUVBXHU0RjVDXHUzMDU3XHUzMDVGXG4gKi9cbmV4cG9ydCBjb25zdCByZWZldGNoT25UeXBlbmFtZTogRXhjaGFuZ2UgPSAoeyBmb3J3YXJkLCBjbGllbnQgfSkgPT4gKG9wcyQpID0+IHtcbiAgLy8gXHUzMEEyXHUzMEFGXHUzMEM2XHUzMEEzXHUzMEQ2XHUzMDZBXHUzMEFGXHUzMEE4XHUzMEVBXHUzMDkyXHU0RkREXHU2MzAxXHUzMDU5XHUzMDhCIE1hcFxuICBjb25zdCBhY3RpdmVRdWVyaWVzID0gbmV3IE1hcDxudW1iZXIsIE9wZXJhdGlvbj4oKTtcblxuICAvLyBvcHMkIFx1MzA5Mlx1NzZFM1x1ODk5Nlx1MzA1N1x1MzA2NiB0ZWFyZG93biBcdTY2NDJcdTMwNkJcdTUyNEFcdTk2NjRcbiAgLy8gXHUyMDNCIHVycWwgXHUzMDY3XHUzMDZGXHUzMDAxXHUzMEFGXHUzMEE4XHUzMEVBXHUzMDRDXHU0RTBEXHU4OTgxXHUzMDZCXHUzMDZBXHUzMDYzXHUzMDVGXHUzMDY4XHUzMDREXHVGRjA4XHUzMEIzXHUzMEYzXHUzMEREXHUzMEZDXHUzMENEXHUzMEYzXHUzMEM4XHUzMDRDXHUzMEEyXHUzMEYzXHUzMERFXHUzMEE2XHUzMEYzXHUzMEM4XHUzMDU1XHUzMDhDXHUzMDVGXHUzMDY4XHUzMDREXHUzMDZBXHUzMDY5XHVGRjA5XHUzMDZCIHRlYXJkb3duIFx1NjRDRFx1NEY1Q1x1MzA0Q1x1NzY3QVx1NzUxRlx1MzA1OVx1MzA4QlxuICBjb25zdCByZXN1bHRzJCA9IHBpcGUoXG4gICAgb3BzJCxcbiAgICB0YXAoKG9wZXJhdGlvbjogT3BlcmF0aW9uKSA9PiB7XG4gICAgICBpZiAob3BlcmF0aW9uLmtpbmQgPT09IFwidGVhcmRvd25cIikge1xuICAgICAgICBhY3RpdmVRdWVyaWVzLmRlbGV0ZShvcGVyYXRpb24ua2V5KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBmb3J3YXJkLFxuICApO1xuXG4gIC8vIHJlc3VsdHMkIFx1MzA5Mlx1NTkwOVx1NjZGNFx1MzA1Qlx1MzA1QVx1MzA2Qlx1NTFFNlx1NzQwNlx1MzA5Mlx1ODg0Q1x1MzA0Nlx1RkYwOFx1OTc1RVx1NTQwQ1x1NjcxRlx1MzA2Qlx1NUI5Rlx1ODg0Q1x1RkYwOVxuICByZXR1cm4gcGlwZShcbiAgICByZXN1bHRzJCxcbiAgICB0YXAoKHJlc3VsdDogT3BlcmF0aW9uUmVzdWx0KSA9PiB7XG4gICAgICAvLyAxLiBcdTMwQUZcdTMwQThcdTMwRUFcdTMwNENcdTVCOUZcdTg4NENcdTMwNTVcdTMwOENcdTMwNUZcdTMwODkgTWFwIFx1MzA2Qlx1NzY3Qlx1OTMzMlxuICAgICAgaWYgKHJlc3VsdC5vcGVyYXRpb24ua2luZCA9PT0gXCJxdWVyeVwiKSB7XG4gICAgICAgIGFjdGl2ZVF1ZXJpZXMuc2V0KHJlc3VsdC5vcGVyYXRpb24ua2V5LCByZXN1bHQub3BlcmF0aW9uKTtcblxuICAgICAgICBjb25zdCBnZXRRdWVyeU5hbWUgPSAob3A6IE9wZXJhdGlvbik6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICAgICAgY29uc3QgZGVmID0gb3AucXVlcnkuZGVmaW5pdGlvbnNbMF07XG4gICAgICAgICAgaWYgKCFkZWYgfHwgZGVmLmtpbmQgIT09IFwiT3BlcmF0aW9uRGVmaW5pdGlvblwiKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgLy8gXHU1NDBEXHU1MjREXHU0RUQ4XHUzMDREXHUzMEFGXHUzMEE4XHUzMEVBXHUzMDZFXHU1ODM0XHU1NDA4XG4gICAgICAgICAgaWYgKGRlZi5uYW1lPy52YWx1ZSkgcmV0dXJuIGRlZi5uYW1lLnZhbHVlO1xuXG4gICAgICAgICAgLy8gXHU1MzNGXHU1NDBEXHUzMEFGXHUzMEE4XHUzMEVBXHUzMDZFXHU1ODM0XHU1NDA4XHUzMDZGXHU2NzAwXHU1MjFEXHUzMDZFXHUzMEQ1XHUzMEEzXHUzMEZDXHUzMEVCXHUzMEM5XHU1NDBEXHUzMDkyXHU0RjdGXHU3NTI4XG4gICAgICAgICAgY29uc3QgZmlyc3RTZWxlY3Rpb24gPSBkZWYuc2VsZWN0aW9uU2V0Py5zZWxlY3Rpb25zPy5bMF07XG4gICAgICAgICAgaWYgKGZpcnN0U2VsZWN0aW9uICYmIGZpcnN0U2VsZWN0aW9uLmtpbmQgPT09IFwiRmllbGRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0U2VsZWN0aW9uLm5hbWUudmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBxdWVyeU5hbWUgPSBnZXRRdWVyeU5hbWUocmVzdWx0Lm9wZXJhdGlvbik7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJbcmVmZXRjaE9uVHlwZW5hbWVdIHF1ZXJ5IGFkZGVkOlwiLCB7XG4gICAgICAgICAga2V5OiByZXN1bHQub3BlcmF0aW9uLmtleSxcbiAgICAgICAgICBxdWVyeU5hbWUsXG4gICAgICAgICAgdG90YWxDb3VudDogYWN0aXZlUXVlcmllcy5zaXplLFxuICAgICAgICAgIGFsbFF1ZXJpZXM6IEFycmF5LmZyb20oYWN0aXZlUXVlcmllcy52YWx1ZXMoKSkubWFwKChvcCkgPT4gKHtcbiAgICAgICAgICAgIGtleTogb3Aua2V5LFxuICAgICAgICAgICAgbmFtZTogZ2V0UXVlcnlOYW1lKG9wKSxcbiAgICAgICAgICB9KSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyAyLiBcdTMwREZcdTMwRTVcdTMwRkNcdTMwQzZcdTMwRkNcdTMwQjdcdTMwRTdcdTMwRjNcdTMwNENcdTYyMTBcdTUyOUZcdTMwNTdcdTMwNUZcdTMwODlcdTUxOERcdTVCOUZcdTg4NENcdTMwOTJcdTUyMjRcdTVCOUFcbiAgICAgIGlmIChyZXN1bHQub3BlcmF0aW9uLmtpbmQgPT09IFwibXV0YXRpb25cIiAmJiAhcmVzdWx0LmVycm9yKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHJlc3VsdC5vcGVyYXRpb24uY29udGV4dCBhcyB7XG4gICAgICAgICAgYWRkaXRpb25hbFR5cGVuYW1lcz86IHN0cmluZ1tdO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlZmV0Y2hUeXBlbmFtZXMgPSBBcnJheS5pc0FycmF5KGN0eD8uYWRkaXRpb25hbFR5cGVuYW1lcylcbiAgICAgICAgICA/IGN0eC5hZGRpdGlvbmFsVHlwZW5hbWVzXG4gICAgICAgICAgOiBbXTtcblxuICAgICAgICBpZiAocmVmZXRjaFR5cGVuYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0VHlwZW5hbWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICAgICAgICAvLyBcdTMwREZcdTMwRTVcdTMwRkNcdTMwQzZcdTMwRkNcdTMwQjdcdTMwRTdcdTMwRjNcdTdENTBcdTY3OUNcdTMwNEJcdTMwODkgX190eXBlbmFtZSBcdTMwOTJcdTUxOERcdTVFMzBcdTc2ODRcdTMwNkJcdTUzQ0VcdTk2QzYocmVzdWx0VHlwZW5hbWVzXHUzMDc4XHU2ODNDXHU3RDBEKVxuICAgICAgICAgIGNvbGxlY3RUeXBlbmFtZXMocmVzdWx0LmRhdGEsIHJlc3VsdFR5cGVuYW1lcyk7XG5cbiAgICAgICAgICAvLyBcdTRFMDBcdTgxRjRcdTMwNTdcdTMwNUZcdTMwQTJcdTMwQUZcdTMwQzZcdTMwQTNcdTMwRDZcdTMwQUZcdTMwQThcdTMwRUFcdTMwOTJcdTUxOERcdTVCOUZcdTg4NENcbiAgICAgICAgICBmb3IgKGNvbnN0IG9wIG9mIGFjdGl2ZVF1ZXJpZXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChyZWZldGNoVHlwZW5hbWVzLnNvbWUoKHQpID0+IHJlc3VsdFR5cGVuYW1lcy5oYXModCkpKSB7XG4gICAgICAgICAgICAgIGNsaWVudC5yZWV4ZWN1dGVPcGVyYXRpb24oe1xuICAgICAgICAgICAgICAgIC4uLm9wLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsgLi4ub3AuY29udGV4dCwgcmVxdWVzdFBvbGljeTogXCJuZXR3b3JrLW9ubHlcIiB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgKTtcbn07XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBU2EsUUFBSUEsS0FBRSxPQUFPLElBQUksZUFBZTtBQUFoQyxRQUFrQ0MsS0FBRSxPQUFPLElBQUksY0FBYztBQUE3RCxRQUErREMsS0FBRSxPQUFPLElBQUksZ0JBQWdCO0FBQTVGLFFBQThGLElBQUUsT0FBTyxJQUFJLG1CQUFtQjtBQUE5SCxRQUFnSUMsS0FBRSxPQUFPLElBQUksZ0JBQWdCO0FBQTdKLFFBQStKQyxLQUFFLE9BQU8sSUFBSSxnQkFBZ0I7QUFBNUwsUUFBOExDLEtBQUUsT0FBTyxJQUFJLGVBQWU7QUFBMU4sUUFBNE5DLEtBQUUsT0FBTyxJQUFJLG1CQUFtQjtBQUE1UCxRQUE4UCxJQUFFLE9BQU8sSUFBSSxnQkFBZ0I7QUFBM1IsUUFBNlIsSUFBRSxPQUFPLElBQUksWUFBWTtBQUF0VCxRQUF3VEMsS0FBRSxPQUFPLElBQUksWUFBWTtBQUFqVixRQUFtVixJQUFFLE9BQU87QUFBUyxhQUFTLEVBQUVDLElBQUU7QUFBQyxVQUFHLFNBQU9BLE1BQUcsYUFBVyxPQUFPQSxHQUFFLFFBQU87QUFBSyxNQUFBQSxLQUFFLEtBQUdBLEdBQUUsQ0FBQyxLQUFHQSxHQUFFLFlBQVk7QUFBRSxhQUFNLGVBQWEsT0FBT0EsS0FBRUEsS0FBRTtBQUFBLElBQUk7QUFDMWUsUUFBSSxJQUFFLEVBQUMsV0FBVSxXQUFVO0FBQUMsYUFBTTtBQUFBLElBQUUsR0FBRSxvQkFBbUIsV0FBVTtBQUFBLElBQUMsR0FBRSxxQkFBb0IsV0FBVTtBQUFBLElBQUMsR0FBRSxpQkFBZ0IsV0FBVTtBQUFBLElBQUMsRUFBQztBQUFuSSxRQUFxSUMsS0FBRSxPQUFPO0FBQTlJLFFBQXFKLElBQUUsQ0FBQztBQUFFLGFBQVMs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LFFBQU87QUFBRSxlQUFRQyxLQUFFRCxHQUFFLFlBQVdDLE1BQUc7QUFBQyxZQUFHLElBQUVBLEdBQUUsRUFBRSxLQUFHQSxHQUFFLEVBQUUsR0FBRTtBQUFDLFVBQUFBLEtBQUUsRUFBRTtBQUFVLGNBQUcsU0FBTyxFQUFFLFNBQU8sU0FBT0EsTUFBRyxTQUFPQSxHQUFFLE1BQU0sTUFBSUQsS0FBRSxHQUFHQSxFQUFDLEdBQUUsU0FBT0EsTUFBRztBQUFDLGdCQUFHQyxLQUFFRCxHQUFFLEVBQUUsRUFBRSxRQUFPQztBQUFFLFlBQUFELEtBQUUsR0FBR0EsRUFBQztBQUFBLFVBQUM7QUFBQyxpQkFBTztBQUFBLFFBQUM7QUFBQyxRQUFBQSxLQUFFQztBQUFFLFFBQUFBLEtBQUVELEdBQUU7QUFBQSxNQUFVO0FBQUMsYUFBTztBQUFBLElBQUk7QUFBQyxhQUFTLEdBQUdBLElBQUU7QUFBQyxNQUFBQSxLQUFFQSxHQUFFLEVBQUUsS0FBR0EsR0FBRSxFQUFFO0FBQUUsYUFBTSxDQUFDQSxNQUFHLE1BQUlBLEdBQUUsT0FBSyxNQUFJQSxHQUFFLE9BQUssT0FBS0EsR0FBRSxPQUFLLE1BQUlBLEdBQUUsTUFBSSxPQUFLQTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUU7QUFBQyxVQUFHLE1BQUlBLEdBQUUsT0FBSyxNQUFJQSxHQUFFLElBQUksUUFBT0EsR0FBRTtBQUFVLFlBQU0sTUFBTUQsR0FBRSxFQUFFLENBQUM7QUFBQSxJQUFFO0FBQUMsYUFBUyxHQUFHQyxJQUFFO0FBQUMsYUFBT0EsR0FBRSxFQUFFLEtBQUc7QUFBQSxJQUFJO0FBQUMsUUFBSSxLQUFHLENBQUM7QUFBUixRQUFVLEtBQUc7QUFBRyxhQUFTLEdBQUdBLElBQUU7QUFBQyxhQUFNLEVBQUMsU0FBUUEsR0FBQztBQUFBLElBQUM7QUFDdmUsYUFBUyxFQUFFQSxJQUFFO0FBQUMsVUFBRSxPQUFLQSxHQUFFLFVBQVEsR0FBRyxFQUFFLEdBQUUsR0FBRyxFQUFFLElBQUUsTUFBSztBQUFBLElBQUs7QUFBQyxhQUFTLEVBQUVB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QUFFLElBQUksR0FBRTtBQUFDLFVBQUFFLEdBQUUsZ0JBQWMsR0FBRyxHQUFFSCxJQUFFSSxJQUFFSCxFQUFDO0FBQUU7QUFBQSxRQUFNO0FBQUEsTUFBQztBQUFDLFFBQUUsU0FBT0Y7QUFBRSxNQUFBSSxHQUFFLGdCQUFjLEdBQUcsSUFBRSxHQUFFSCxJQUFFSSxJQUFFSCxFQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0YsSUFBRSxHQUFFO0FBQUMsYUFBTyxHQUFHLFNBQVEsR0FBRUEsSUFBRSxDQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsYUFBTyxHQUFHLE1BQUssR0FBRUEsSUFBRSxDQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsYUFBTyxHQUFHLEdBQUUsR0FBRUEsSUFBRSxDQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsYUFBTyxHQUFHLEdBQUUsR0FBRUEsSUFBRSxDQUFDO0FBQUEsSUFBQztBQUNoWCxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLFVBQUcsZUFBYSxPQUFPLEVBQUUsUUFBT0EsS0FBRUEsR0FBRSxHQUFFLEVBQUVBLEVBQUMsR0FBRSxXQUFVO0FBQUMsVUFBRSxJQUFJO0FBQUEsTUFBQztBQUFFLFVBQUcsU0FBTyxLQUFHLFdBQVMsRUFBRSxRQUFPQSxLQUFFQSxHQUFFLEdBQUUsRUFBRSxVQUFRQSxJQUFFLFdBQVU7QUFBQyxVQUFFLFVBQVE7QUFBQSxNQUFJO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsTUFBQUEsS0FBRSxTQUFPQSxNQUFHLFdBQVNBLEtBQUVBLEdBQUUsT0FBTyxDQUFDRCxFQUFDLENBQUMsSUFBRTtBQUFLLGFBQU8sR0FBRyxHQUFFLEdBQUUsR0FBRyxLQUFLLE1BQUssR0FBRUEsRUFBQyxHQUFFQyxFQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsS0FBSTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdELElBQUUsR0FBRTtBQUFDLFVBQUlDLEtBQUUsR0FBRztBQUFFLFVBQUUsV0FBUyxJQUFFLE9BQUs7QUFBRSxVQUFJQyxLQUFFRCxHQUFFO0FBQWMsVUFBRyxTQUFPQyxNQUFHLFNBQU8sS0FBRyxHQUFHLEdBQUVBLEdBQUUsQ0FBQyxDQUFDLEVBQUUsUUFBT0EsR0FBRSxDQUFDO0FBQUUsTUFBQUQsR0FBRSxnQkFBYyxDQUFDRCxJQUFFLENBQUM7QUFBRSxhQUFPQTtBQUFBLElBQUM7QUFDN1osYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFLEdBQUc7QUFBRSxVQUFFLFdBQVMsSUFBRSxPQUFLO0FBQUUsVUFBSUMsS0FBRUQsR0FBRTtBQUFjLFVBQUcsU0FBT0MsTUFBRyxTQUFPLEtBQUcsR0FBRyxHQUFFQSxHQUFFLENBQUMsQ0FBQyxFQUFFLFFBQU9BLEdBQUUsQ0FBQztBQUFFLE1BQUFGLEtBQUVBLEdBQUU7QUFBRSxNQUFBQyxHQUFFLGdCQUFjLENBQUNELElBQUUsQ0FBQztBQUFFLGFBQU9BO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBRyxPQUFLLEtBQUcsSUFBSSxRQUFPRCxHQUFFLGNBQVlBLEdBQUUsWUFBVSxPQUFHLEtBQUcsT0FBSUEsR0FBRSxnQkFBY0M7QUFBRSxTQUFHQSxJQUFFLENBQUMsTUFBSUEsS0FBRSxHQUFHLEdBQUUsRUFBRSxTQUFPQSxJQUFFLE1BQUlBLElBQUVELEdBQUUsWUFBVTtBQUFJLGFBQU87QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFTztBQUFFLE1BQUFBLEtBQUUsTUFBSVAsTUFBRyxJQUFFQSxLQUFFQSxLQUFFO0FBQUUsTUFBQUQsR0FBRSxJQUFFO0FBQUUsVUFBSUUsS0FBRSxHQUFHO0FBQVcsU0FBRyxhQUFXLENBQUM7QUFBRSxVQUFHO0FBQUMsUUFBQUYsR0FBRSxLQUFFLEdBQUUsRUFBRTtBQUFBLE1BQUMsVUFBQztBQUFRLFFBQUFRLEtBQUVQLElBQUUsR0FBRyxhQUFXQztBQUFBLE1BQUM7QUFBQSxJQUFDO0FBQUMsYUFBUyxLQUFJO0FBQUMsYUFBTyxHQUFHLEVBQUU7QUFBQSxJQUFhO0FBQzFkLGFBQVMsR0FBR0YsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBSUMsS0FBRSxHQUFHRixFQUFDO0FBQUUsTUFBQUMsS0FBRSxFQUFDLE1BQUtDLElBQUUsUUFBT0QsSUFBRSxlQUFjLE9BQUcsWUFBVyxNQUFLLE1BQUssS0FBSTtBQUFFLFVBQUcsR0FBR0QsRUFBQyxFQUFFLElBQUcsR0FBRUMsRUFBQztBQUFBLGVBQVVBLEtBQUUsR0FBR0QsSUFBRSxHQUFFQyxJQUFFQyxFQUFDLEdBQUUsU0FBT0QsSUFBRTtBQUFDLFlBQUlHLEtBQUUsRUFBRTtBQUFFLFdBQUdILElBQUVELElBQUVFLElBQUVFLEVBQUM7QUFBRSxXQUFHSCxJQUFFLEdBQUVDLEVBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUMvSyxhQUFTLEdBQUdGLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsR0FBR0YsRUFBQyxHQUFFSSxLQUFFLEVBQUMsTUFBS0YsSUFBRSxRQUFPRCxJQUFFLGVBQWMsT0FBRyxZQUFXLE1BQUssTUFBSyxLQUFJO0FBQUUsVUFBRyxHQUFHRCxFQUFDLEVBQUUsSUFBRyxHQUFFSSxFQUFDO0FBQUEsV0FBTTtBQUFDLFlBQUlDLEtBQUVMLEdBQUU7QUFBVSxZQUFHLE1BQUlBLEdBQUUsVUFBUSxTQUFPSyxNQUFHLE1BQUlBLEdBQUUsV0FBU0EsS0FBRSxFQUFFLHFCQUFvQixTQUFPQSxJQUFHLEtBQUc7QUFBQyxjQUFJLElBQUUsRUFBRSxtQkFBa0JFLEtBQUVGLEdBQUUsR0FBRUosRUFBQztBQUFFLFVBQUFHLEdBQUUsZ0JBQWM7QUFBRyxVQUFBQSxHQUFFLGFBQVdHO0FBQUUsY0FBRyxHQUFHQSxJQUFFLENBQUMsR0FBRTtBQUFDLGdCQUFJLElBQUUsRUFBRTtBQUFZLHFCQUFPLEtBQUdILEdBQUUsT0FBS0EsSUFBRSxHQUFHLENBQUMsTUFBSUEsR0FBRSxPQUFLLEVBQUUsTUFBSyxFQUFFLE9BQUtBO0FBQUcsY0FBRSxjQUFZQTtBQUFFO0FBQUEsVUFBTTtBQUFBLFFBQUMsU0FBT0UsSUFBRTtBQUFBLFFBQUMsVUFBQztBQUFBLFFBQVE7QUFBQyxRQUFBTCxLQUFFLEdBQUdELElBQUUsR0FBRUksSUFBRUYsRUFBQztBQUFFLGlCQUFPRCxPQUFJRyxLQUFFLEVBQUUsR0FBRSxHQUFHSCxJQUFFRCxJQUFFRSxJQUFFRSxFQUFDLEdBQUUsR0FBR0gsSUFBRSxHQUFFQyxFQUFDO0FBQUEsTUFBRTtBQUFBLElBQUM7QUFDL2MsYUFBUyxHQUFHRixJQUFFO0FBQUMsVUFBSSxJQUFFQSxHQUFFO0FBQVUsYUFBT0EsT0FBSSxLQUFHLFNBQU8sS0FBRyxNQUFJO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsV0FBRyxLQUFHO0FBQUcsVUFBSUMsS0FBRUQsR0FBRTtBQUFRLGVBQU9DLEtBQUUsRUFBRSxPQUFLLEtBQUcsRUFBRSxPQUFLQSxHQUFFLE1BQUtBLEdBQUUsT0FBSztBQUFHLE1BQUFELEdBQUUsVUFBUTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUcsT0FBS0EsS0FBRSxVQUFTO0FBQUMsWUFBSUMsS0FBRSxFQUFFO0FBQU0sUUFBQUEsTUFBR0YsR0FBRTtBQUFhLFFBQUFDLE1BQUdDO0FBQUUsVUFBRSxRQUFNRDtBQUFFLFdBQUdELElBQUVDLEVBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUM5UCxRQUFJLEtBQUcsRUFBQyxhQUFZLElBQUcsYUFBWSxHQUFFLFlBQVcsR0FBRSxXQUFVLEdBQUUscUJBQW9CLEdBQUUsb0JBQW1CLEdBQUUsaUJBQWdCLEdBQUUsU0FBUSxHQUFFLFlBQVcsR0FBRSxRQUFPLEdBQUUsVUFBUyxHQUFFLGVBQWMsR0FBRSxrQkFBaUIsR0FBRSxlQUFjLEdBQUUsa0JBQWlCLEdBQUUsc0JBQXFCLEdBQUUsT0FBTSxHQUFFLDBCQUF5QixNQUFFO0FBQXRTLFFBQXdTLEtBQUcsRUFBQyxhQUFZLElBQUcsYUFBWSxTQUFTRCxJQUFFLEdBQUU7QUFBQyxTQUFHLEVBQUUsZ0JBQWMsQ0FBQ0EsSUFBRSxXQUFTLElBQUUsT0FBSyxDQUFDO0FBQUUsYUFBT0E7QUFBQSxJQUFDLEdBQUUsWUFBVyxJQUFHLFdBQVUsSUFBRyxxQkFBb0IsU0FBU0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsTUFBQUEsS0FBRSxTQUFPQSxNQUFHLFdBQVNBLEtBQUVBLEdBQUUsT0FBTyxDQUFDRCxFQUFDLENBQUMsSUFBRTtBQUFLLGFBQU87QUFBQSxRQUFHO0FBQUEsUUFDM2Y7QUFBQSxRQUFFLEdBQUcsS0FBSyxNQUFLLEdBQUVBLEVBQUM7QUFBQSxRQUFFQztBQUFBLE1BQUM7QUFBQSxJQUFDLEdBQUUsaUJBQWdCLFNBQVNELElBQUUsR0FBRTtBQUFDLGFBQU8sR0FBRyxTQUFRLEdBQUVBLElBQUUsQ0FBQztBQUFBLElBQUMsR0FBRSxvQkFBbUIsU0FBU0EsSUFBRSxHQUFFO0FBQUMsYUFBTyxHQUFHLEdBQUUsR0FBRUEsSUFBRSxDQUFDO0FBQUEsSUFBQyxHQUFFLFNBQVEsU0FBU0EsSUFBRSxHQUFFO0FBQUMsVUFBSUMsS0FBRSxHQUFHO0FBQUUsVUFBRSxXQUFTLElBQUUsT0FBSztBQUFFLE1BQUFELEtBQUVBLEdBQUU7QUFBRSxNQUFBQyxHQUFFLGdCQUFjLENBQUNELElBQUUsQ0FBQztBQUFFLGFBQU9BO0FBQUEsSUFBQyxHQUFFLFlBQVcsU0FBU0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBSUMsS0FBRSxHQUFHO0FBQUUsVUFBRSxXQUFTRCxLQUFFQSxHQUFFLENBQUMsSUFBRTtBQUFFLE1BQUFDLEdBQUUsZ0JBQWNBLEdBQUUsWUFBVTtBQUFFLE1BQUFGLEtBQUUsRUFBQyxTQUFRLE1BQUssYUFBWSxNQUFLLE9BQU0sR0FBRSxVQUFTLE1BQUsscUJBQW9CQSxJQUFFLG1CQUFrQixFQUFDO0FBQUUsTUFBQUUsR0FBRSxRQUFNRjtBQUFFLE1BQUFBLEtBQUVBLEdBQUUsV0FBUyxHQUFHLEtBQUssTUFBSyxHQUFFQSxFQUFDO0FBQUUsYUFBTSxDQUFDRSxHQUFFLGVBQWNGLEVBQUM7QUFBQSxJQUFDLEdBQUUsUUFBTyxTQUFTQSxJQUFFO0FBQUMsVUFBSSxJQUNyZixHQUFHO0FBQUUsTUFBQUEsS0FBRSxFQUFDLFNBQVFBLEdBQUM7QUFBRSxhQUFPLEVBQUUsZ0JBQWNBO0FBQUEsSUFBQyxHQUFFLFVBQVMsSUFBRyxlQUFjLElBQUcsa0JBQWlCLFNBQVNBLElBQUU7QUFBQyxhQUFPLEdBQUcsRUFBRSxnQkFBY0E7QUFBQSxJQUFDLEdBQUUsZUFBYyxXQUFVO0FBQUMsVUFBSUEsS0FBRSxHQUFHLEtBQUUsR0FBRSxJQUFFQSxHQUFFLENBQUM7QUFBRSxNQUFBQSxLQUFFLEdBQUcsS0FBSyxNQUFLQSxHQUFFLENBQUMsQ0FBQztBQUFFLFNBQUcsRUFBRSxnQkFBY0E7QUFBRSxhQUFNLENBQUMsR0FBRUEsRUFBQztBQUFBLElBQUMsR0FBRSxrQkFBaUIsV0FBVTtBQUFBLElBQUMsR0FBRSxzQkFBcUIsU0FBU0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBSUMsS0FBRSxHQUFFRSxLQUFFLEdBQUc7QUFBRSxVQUFHVyxJQUFFO0FBQUMsWUFBRyxXQUFTZCxHQUFFLE9BQU0sTUFBTUYsR0FBRSxHQUFHLENBQUM7QUFBRSxRQUFBRSxLQUFFQSxHQUFFO0FBQUEsTUFBQyxPQUFLO0FBQUMsUUFBQUEsS0FBRSxFQUFFO0FBQUUsWUFBRyxTQUFPa0IsR0FBRSxPQUFNLE1BQU1wQixHQUFFLEdBQUcsQ0FBQztBQUFFLGVBQUssS0FBRyxPQUFLLEdBQUdHLElBQUUsR0FBRUQsRUFBQztBQUFBLE1BQUM7QUFBQyxNQUFBRyxHQUFFLGdCQUFjSDtBQUFFLFVBQUlJLEtBQUUsRUFBQyxPQUFNSixJQUFFLGFBQVksRUFBQztBQUFFLE1BQUFHLEdBQUUsUUFBTUM7QUFBRSxTQUFHLEdBQUc7QUFBQSxRQUFLO0FBQUEsUUFBS0g7QUFBQSxRQUNwZkc7QUFBQSxRQUFFTDtBQUFBLE1BQUMsR0FBRSxDQUFDQSxFQUFDLENBQUM7QUFBRSxNQUFBRSxHQUFFLFNBQU87QUFBSyxTQUFHLEdBQUUsR0FBRyxLQUFLLE1BQUtBLElBQUVHLElBQUVKLElBQUUsQ0FBQyxHQUFFLFFBQU8sSUFBSTtBQUFFLGFBQU9BO0FBQUEsSUFBQyxHQUFFLE9BQU0sV0FBVTtBQUFDLFVBQUlELEtBQUUsR0FBRyxHQUFFLElBQUVtQixHQUFFO0FBQWlCLFVBQUdKLElBQUU7QUFBQyxZQUFJZCxLQUFFO0FBQUcsWUFBSUMsS0FBRTtBQUFHLFFBQUFELE1BQUdDLEtBQUUsRUFBRSxLQUFHLEtBQUcsR0FBR0EsRUFBQyxJQUFFLElBQUksU0FBUyxFQUFFLElBQUVEO0FBQUUsWUFBRSxNQUFJLElBQUUsTUFBSUE7QUFBRSxRQUFBQSxLQUFFO0FBQUssWUFBRUEsT0FBSSxLQUFHLE1BQUlBLEdBQUUsU0FBUyxFQUFFO0FBQUcsYUFBRztBQUFBLE1BQUcsTUFBTSxDQUFBQSxLQUFFLE1BQUssSUFBRSxNQUFJLElBQUUsTUFBSUEsR0FBRSxTQUFTLEVBQUUsSUFBRTtBQUFJLGFBQU9ELEdBQUUsZ0JBQWM7QUFBQSxJQUFDLEdBQUUsMEJBQXlCLE1BQUU7QUFIbFYsUUFHb1YsS0FBRztBQUFBLE1BQUMsYUFBWTtBQUFBLE1BQUcsYUFBWTtBQUFBLE1BQUcsWUFBVztBQUFBLE1BQUcsV0FBVTtBQUFBLE1BQUcscUJBQW9CO0FBQUEsTUFBRyxvQkFBbUI7QUFBQSxNQUFHLGlCQUFnQjtBQUFBLE1BQUcsU0FBUTtBQUFBLE1BQUcsWUFBVztBQUFBLE1BQUcsUUFBTztBQUFBLE1BQUcsVUFBUyxXQUFVO0FBQUMsZUFBTyxHQUFHLEVBQUU7QUFBQSxNQUFDO0FBQUEsTUFDcmhCLGVBQWM7QUFBQSxNQUFHLGtCQUFpQixTQUFTQSxJQUFFO0FBQUMsWUFBSSxJQUFFLEdBQUc7QUFBRSxlQUFPLEdBQUcsR0FBRSxFQUFFLGVBQWNBLEVBQUM7QUFBQSxNQUFDO0FBQUEsTUFBRSxlQUFjLFdBQVU7QUFBQyxZQUFJQSxLQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRSxJQUFFLEdBQUcsRUFBRTtBQUFjLGVBQU0sQ0FBQ0EsSUFBRSxDQUFDO0FBQUEsTUFBQztBQUFBLE1BQUUsa0JBQWlCO0FBQUEsTUFBRyxzQkFBcUI7QUFBQSxNQUFHLE9BQU07QUFBQSxNQUFHLDBCQUF5QjtBQUFBLElBQUU7QUFKcFAsUUFJc1AsS0FBRyxFQUFDLGFBQVksSUFBRyxhQUFZLElBQUcsWUFBVyxJQUFHLFdBQVUsSUFBRyxxQkFBb0IsSUFBRyxvQkFBbUIsSUFBRyxpQkFBZ0IsSUFBRyxTQUFRLElBQUcsWUFBVyxJQUFHLFFBQU8sSUFBRyxVQUFTLFdBQVU7QUFBQyxhQUFPLEdBQUcsRUFBRTtBQUFBLElBQUMsR0FBRSxlQUFjLElBQUcsa0JBQWlCLFNBQVNBLElBQUU7QUFBQyxVQUFJLElBQUUsR0FBRztBQUFFLGFBQU8sU0FDemYsSUFBRSxFQUFFLGdCQUFjQSxLQUFFLEdBQUcsR0FBRSxFQUFFLGVBQWNBLEVBQUM7QUFBQSxJQUFDLEdBQUUsZUFBYyxXQUFVO0FBQUMsVUFBSUEsS0FBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUUsSUFBRSxHQUFHLEVBQUU7QUFBYyxhQUFNLENBQUNBLElBQUUsQ0FBQztBQUFBLElBQUMsR0FBRSxrQkFBaUIsSUFBRyxzQkFBcUIsSUFBRyxPQUFNLElBQUcsMEJBQXlCLE1BQUU7QUFBRSxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLFVBQUdBLE1BQUdBLEdBQUUsY0FBYTtBQUFDLFlBQUUsRUFBRSxDQUFDLEdBQUUsQ0FBQztBQUFFLFFBQUFBLEtBQUVBLEdBQUU7QUFBYSxpQkFBUUMsTUFBS0QsR0FBRSxZQUFTLEVBQUVDLEVBQUMsTUFBSSxFQUFFQSxFQUFDLElBQUVELEdBQUVDLEVBQUM7QUFBRyxlQUFPO0FBQUEsTUFBQztBQUFDLGFBQU87QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHRCxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxVQUFFRixHQUFFO0FBQWMsTUFBQUMsS0FBRUEsR0FBRUMsSUFBRSxDQUFDO0FBQUUsTUFBQUQsS0FBRSxTQUFPQSxNQUFHLFdBQVNBLEtBQUUsSUFBRSxFQUFFLENBQUMsR0FBRSxHQUFFQSxFQUFDO0FBQUUsTUFBQUQsR0FBRSxnQkFBY0M7QUFBRSxZQUFJRCxHQUFFLFVBQVFBLEdBQUUsWUFBWSxZQUFVQztBQUFBLElBQUU7QUFDcmQsUUFBSSxLQUFHLEVBQUMsV0FBVSxTQUFTRCxJQUFFO0FBQUMsY0FBT0EsS0FBRUEsR0FBRSxtQkFBaUIsR0FBR0EsRUFBQyxNQUFJQSxLQUFFO0FBQUEsSUFBRSxHQUFFLGlCQUFnQixTQUFTQSxJQUFFLEdBQUVDLElBQUU7QUFBQyxNQUFBRCxLQUFFQSxHQUFFO0FBQWdCLFVBQUlFLEtBQUUsRUFBRSxHQUFFRSxLQUFFLEdBQUdKLEVBQUMsR0FBRUssS0FBRSxHQUFHSCxJQUFFRSxFQUFDO0FBQUUsTUFBQUMsR0FBRSxVQUFRO0FBQUUsaUJBQVNKLE1BQUcsU0FBT0EsT0FBSUksR0FBRSxXQUFTSjtBQUFHLFVBQUUsR0FBR0QsSUFBRUssSUFBRUQsRUFBQztBQUFFLGVBQU8sTUFBSSxHQUFHLEdBQUVKLElBQUVJLElBQUVGLEVBQUMsR0FBRSxHQUFHLEdBQUVGLElBQUVJLEVBQUM7QUFBQSxJQUFFLEdBQUUscUJBQW9CLFNBQVNKLElBQUUsR0FBRUMsSUFBRTtBQUFDLE1BQUFELEtBQUVBLEdBQUU7QUFBZ0IsVUFBSUUsS0FBRSxFQUFFLEdBQUVFLEtBQUUsR0FBR0osRUFBQyxHQUFFSyxLQUFFLEdBQUdILElBQUVFLEVBQUM7QUFBRSxNQUFBQyxHQUFFLE1BQUk7QUFBRSxNQUFBQSxHQUFFLFVBQVE7QUFBRSxpQkFBU0osTUFBRyxTQUFPQSxPQUFJSSxHQUFFLFdBQVNKO0FBQUcsVUFBRSxHQUFHRCxJQUFFSyxJQUFFRCxFQUFDO0FBQUUsZUFBTyxNQUFJLEdBQUcsR0FBRUosSUFBRUksSUFBRUYsRUFBQyxHQUFFLEdBQUcsR0FBRUYsSUFBRUksRUFBQztBQUFBLElBQUUsR0FBRSxvQkFBbUIsU0FBU0osSUFBRSxHQUFFO0FBQUMsTUFBQUEsS0FBRUEsR0FBRTtBQUFnQixVQUFJQyxLQUFFLEVBQUUsR0FBRUMsS0FDbmYsR0FBR0YsRUFBQyxHQUFFSSxLQUFFLEdBQUdILElBQUVDLEVBQUM7QUFBRSxNQUFBRSxHQUFFLE1BQUk7QUFBRSxpQkFBUyxLQUFHLFNBQU8sTUFBSUEsR0FBRSxXQUFTO0FBQUcsVUFBRSxHQUFHSixJQUFFSSxJQUFFRixFQUFDO0FBQUUsZUFBTyxNQUFJLEdBQUcsR0FBRUYsSUFBRUUsSUFBRUQsRUFBQyxHQUFFLEdBQUcsR0FBRUQsSUFBRUUsRUFBQztBQUFBLElBQUUsRUFBQztBQUFFLGFBQVMsR0FBR0YsSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFQyxJQUFFLEdBQUU7QUFBQyxNQUFBTCxLQUFFQSxHQUFFO0FBQVUsYUFBTSxlQUFhLE9BQU9BLEdBQUUsd0JBQXNCQSxHQUFFLHNCQUFzQkUsSUFBRUcsSUFBRSxDQUFDLElBQUUsRUFBRSxhQUFXLEVBQUUsVUFBVSx1QkFBcUIsQ0FBQyxHQUFHSixJQUFFQyxFQUFDLEtBQUcsQ0FBQyxHQUFHRSxJQUFFQyxFQUFDLElBQUU7QUFBQSxJQUFFO0FBQzFTLGFBQVMsR0FBR0wsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBSUMsS0FBRSxPQUFHRSxLQUFFO0FBQUcsVUFBSUMsS0FBRSxFQUFFO0FBQVksbUJBQVcsT0FBT0EsTUFBRyxTQUFPQSxLQUFFQSxLQUFFLEdBQUdBLEVBQUMsS0FBR0QsS0FBRSxHQUFHLENBQUMsSUFBRSxLQUFHLEVBQUUsU0FBUUYsS0FBRSxFQUFFLGNBQWFHLE1BQUdILEtBQUUsU0FBT0EsTUFBRyxXQUFTQSxNQUFHLEdBQUdGLElBQUVJLEVBQUMsSUFBRTtBQUFJLFVBQUUsSUFBSSxFQUFFSCxJQUFFSSxFQUFDO0FBQUUsTUFBQUwsR0FBRSxnQkFBYyxTQUFPLEVBQUUsU0FBTyxXQUFTLEVBQUUsUUFBTSxFQUFFLFFBQU07QUFBSyxRQUFFLFVBQVE7QUFBRyxNQUFBQSxHQUFFLFlBQVU7QUFBRSxRQUFFLGtCQUFnQkE7QUFBRSxNQUFBRSxPQUFJRixLQUFFQSxHQUFFLFdBQVVBLEdBQUUsOENBQTRDSSxJQUFFSixHQUFFLDRDQUEwQ0s7QUFBRyxhQUFPO0FBQUEsSUFBQztBQUM1WixhQUFTLEdBQUdMLElBQUUsR0FBRUMsSUFBRUMsSUFBRTtBQUFDLE1BQUFGLEtBQUUsRUFBRTtBQUFNLHFCQUFhLE9BQU8sRUFBRSw2QkFBMkIsRUFBRSwwQkFBMEJDLElBQUVDLEVBQUM7QUFBRSxxQkFBYSxPQUFPLEVBQUUsb0NBQWtDLEVBQUUsaUNBQWlDRCxJQUFFQyxFQUFDO0FBQUUsUUFBRSxVQUFRRixNQUFHLEdBQUcsb0JBQW9CLEdBQUUsRUFBRSxPQUFNLElBQUk7QUFBQSxJQUFDO0FBQ3BRLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsVUFBSUUsS0FBRUosR0FBRTtBQUFVLE1BQUFJLEdBQUUsUUFBTUg7QUFBRSxNQUFBRyxHQUFFLFFBQU1KLEdBQUU7QUFBYyxNQUFBSSxHQUFFLE9BQUssQ0FBQztBQUFFLFNBQUdKLEVBQUM7QUFBRSxVQUFJSyxLQUFFLEVBQUU7QUFBWSxtQkFBVyxPQUFPQSxNQUFHLFNBQU9BLEtBQUVELEdBQUUsVUFBUSxHQUFHQyxFQUFDLEtBQUdBLEtBQUUsR0FBRyxDQUFDLElBQUUsS0FBRyxFQUFFLFNBQVFELEdBQUUsVUFBUSxHQUFHSixJQUFFSyxFQUFDO0FBQUcsTUFBQUQsR0FBRSxRQUFNSixHQUFFO0FBQWMsTUFBQUssS0FBRSxFQUFFO0FBQXlCLHFCQUFhLE9BQU9BLE9BQUksR0FBR0wsSUFBRSxHQUFFSyxJQUFFSixFQUFDLEdBQUVHLEdBQUUsUUFBTUosR0FBRTtBQUFlLHFCQUFhLE9BQU8sRUFBRSw0QkFBMEIsZUFBYSxPQUFPSSxHQUFFLDJCQUF5QixlQUFhLE9BQU9BLEdBQUUsNkJBQTJCLGVBQWEsT0FBT0EsR0FBRSx1QkFBcUIsSUFBRUEsR0FBRSxPQUNyZixlQUFhLE9BQU9BLEdBQUUsc0JBQW9CQSxHQUFFLG1CQUFtQixHQUFFLGVBQWEsT0FBT0EsR0FBRSw2QkFBMkJBLEdBQUUsMEJBQTBCLEdBQUUsTUFBSUEsR0FBRSxTQUFPLEdBQUcsb0JBQW9CQSxJQUFFQSxHQUFFLE9BQU0sSUFBSSxHQUFFLEdBQUdKLElBQUVDLElBQUVHLElBQUVGLEVBQUMsR0FBRUUsR0FBRSxRQUFNSixHQUFFO0FBQWUscUJBQWEsT0FBT0ksR0FBRSxzQkFBb0JKLEdBQUUsU0FBTztBQUFBLElBQVE7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLFVBQUc7QUFBQyxZQUFJQyxLQUFFLElBQUdDLEtBQUU7QUFBRTtBQUFHLFVBQUFELE1BQUcsR0FBR0MsRUFBQyxHQUFFQSxLQUFFQSxHQUFFO0FBQUEsZUFBYUE7QUFBRyxZQUFJRSxLQUFFSDtBQUFBLE1BQUMsU0FBT0ksSUFBRTtBQUFDLFFBQUFELEtBQUUsK0JBQTZCQyxHQUFFLFVBQVEsT0FBS0EsR0FBRTtBQUFBLE1BQUs7QUFBQyxhQUFNLEVBQUMsT0FBTUwsSUFBRSxRQUFPLEdBQUUsT0FBTUksSUFBRSxRQUFPLEtBQUk7QUFBQSxJQUFDO0FBQzFkLGFBQVMsR0FBR0osSUFBRSxHQUFFQyxJQUFFO0FBQUMsYUFBTSxFQUFDLE9BQU1ELElBQUUsUUFBTyxNQUFLLE9BQU0sUUFBTUMsS0FBRUEsS0FBRSxNQUFLLFFBQU8sUUFBTSxJQUFFLElBQUUsS0FBSTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdELElBQUUsR0FBRTtBQUFDLFVBQUc7QUFBQyxnQkFBUSxNQUFNLEVBQUUsS0FBSztBQUFBLE1BQUMsU0FBT0MsSUFBRTtBQUFDLG1CQUFXLFdBQVU7QUFBQyxnQkFBTUE7QUFBQSxRQUFFLENBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUFDLFFBQUksS0FBRyxlQUFhLE9BQU8sVUFBUSxVQUFRO0FBQUksYUFBUyxHQUFHRCxJQUFFLEdBQUVDLElBQUU7QUFBQyxNQUFBQSxLQUFFLEdBQUcsSUFBR0EsRUFBQztBQUFFLE1BQUFBLEdBQUUsTUFBSTtBQUFFLE1BQUFBLEdBQUUsVUFBUSxFQUFDLFNBQVEsS0FBSTtBQUFFLFVBQUlDLEtBQUUsRUFBRTtBQUFNLE1BQUFELEdBQUUsV0FBUyxXQUFVO0FBQUMsZUFBSyxLQUFHLE1BQUcsS0FBR0M7QUFBRyxXQUFHRixJQUFFLENBQUM7QUFBQSxNQUFDO0FBQUUsYUFBT0M7QUFBQSxJQUFDO0FBQ3JXLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFO0FBQUMsTUFBQUEsS0FBRSxHQUFHLElBQUdBLEVBQUM7QUFBRSxNQUFBQSxHQUFFLE1BQUk7QUFBRSxVQUFJQyxLQUFFRixHQUFFLEtBQUs7QUFBeUIsVUFBRyxlQUFhLE9BQU9FLElBQUU7QUFBQyxZQUFJRSxLQUFFLEVBQUU7QUFBTSxRQUFBSCxHQUFFLFVBQVEsV0FBVTtBQUFDLGlCQUFPQyxHQUFFRSxFQUFDO0FBQUEsUUFBQztBQUFFLFFBQUFILEdBQUUsV0FBUyxXQUFVO0FBQUMsYUFBR0QsSUFBRSxDQUFDO0FBQUEsUUFBQztBQUFBLE1BQUM7QUFBQyxVQUFJSyxLQUFFTCxHQUFFO0FBQVUsZUFBT0ssTUFBRyxlQUFhLE9BQU9BLEdBQUUsc0JBQW9CSixHQUFFLFdBQVMsV0FBVTtBQUFDLFdBQUdELElBQUUsQ0FBQztBQUFFLHVCQUFhLE9BQU9FLE9BQUksU0FBTyxLQUFHLEtBQUcsb0JBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFFLEdBQUcsSUFBSSxJQUFJO0FBQUcsWUFBSUQsS0FBRSxFQUFFO0FBQU0sYUFBSyxrQkFBa0IsRUFBRSxPQUFNLEVBQUMsZ0JBQWUsU0FBT0EsS0FBRUEsS0FBRSxHQUFFLENBQUM7QUFBQSxNQUFDO0FBQUcsYUFBT0E7QUFBQSxJQUFDO0FBQ25iLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBSUMsS0FBRUYsR0FBRTtBQUFVLFVBQUcsU0FBT0UsSUFBRTtBQUFDLFFBQUFBLEtBQUVGLEdBQUUsWUFBVSxJQUFJO0FBQUcsWUFBSUksS0FBRSxvQkFBSTtBQUFJLFFBQUFGLEdBQUUsSUFBSSxHQUFFRSxFQUFDO0FBQUEsTUFBQyxNQUFNLENBQUFBLEtBQUVGLEdBQUUsSUFBSSxDQUFDLEdBQUUsV0FBU0UsT0FBSUEsS0FBRSxvQkFBSSxPQUFJRixHQUFFLElBQUksR0FBRUUsRUFBQztBQUFHLE1BQUFBLEdBQUUsSUFBSUgsRUFBQyxNQUFJRyxHQUFFLElBQUlILEVBQUMsR0FBRUQsS0FBRSxHQUFHLEtBQUssTUFBS0EsSUFBRSxHQUFFQyxFQUFDLEdBQUUsRUFBRSxLQUFLRCxJQUFFQSxFQUFDO0FBQUEsSUFBRTtBQUFDLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFNBQUU7QUFBQyxZQUFJO0FBQUUsWUFBRyxJQUFFLE9BQUtBLEdBQUUsSUFBSSxLQUFFQSxHQUFFLGVBQWMsSUFBRSxTQUFPLElBQUUsU0FBTyxFQUFFLGFBQVcsT0FBRyxRQUFHO0FBQUcsWUFBRyxFQUFFLFFBQU9BO0FBQUUsUUFBQUEsS0FBRUEsR0FBRTtBQUFBLE1BQU0sU0FBTyxTQUFPQTtBQUFHLGFBQU87QUFBQSxJQUFJO0FBQ2hXLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsVUFBRyxPQUFLSixHQUFFLE9BQUssR0FBRyxRQUFPQSxPQUFJLElBQUVBLEdBQUUsU0FBTyxTQUFPQSxHQUFFLFNBQU8sS0FBSUMsR0FBRSxTQUFPLFFBQU9BLEdBQUUsU0FBTyxRQUFPLE1BQUlBLEdBQUUsUUFBTSxTQUFPQSxHQUFFLFlBQVVBLEdBQUUsTUFBSSxNQUFJLElBQUUsR0FBRyxJQUFHLENBQUMsR0FBRSxFQUFFLE1BQUksR0FBRSxHQUFHQSxJQUFFLEdBQUUsQ0FBQyxLQUFJQSxHQUFFLFNBQU8sSUFBR0Q7QUFBRSxNQUFBQSxHQUFFLFNBQU87QUFBTSxNQUFBQSxHQUFFLFFBQU1JO0FBQUUsYUFBT0o7QUFBQSxJQUFDO0FBQUMsUUFBSSxLQUFHLEdBQUc7QUFBVixRQUE0QixLQUFHO0FBQUcsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxRQUFFLFFBQU0sU0FBT0YsS0FBRSxHQUFHLEdBQUUsTUFBS0MsSUFBRUMsRUFBQyxJQUFFLEdBQUcsR0FBRUYsR0FBRSxPQUFNQyxJQUFFQyxFQUFDO0FBQUEsSUFBQztBQUNuVixhQUFTLEdBQUdGLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLE1BQUFILEtBQUVBLEdBQUU7QUFBTyxVQUFJSSxLQUFFLEVBQUU7QUFBSSxTQUFHLEdBQUVELEVBQUM7QUFBRSxNQUFBRixLQUFFLEdBQUdGLElBQUUsR0FBRUMsSUFBRUMsSUFBRUcsSUFBRUQsRUFBQztBQUFFLE1BQUFILEtBQUUsR0FBRztBQUFFLFVBQUcsU0FBT0QsTUFBRyxDQUFDLEdBQUcsUUFBTyxFQUFFLGNBQVlBLEdBQUUsYUFBWSxFQUFFLFNBQU8sT0FBTUEsR0FBRSxTQUFPLENBQUNJLElBQUUsR0FBR0osSUFBRSxHQUFFSSxFQUFDO0FBQUUsTUFBQVcsTUFBR2QsTUFBRyxHQUFHLENBQUM7QUFBRSxRQUFFLFNBQU87QUFBRSxTQUFHRCxJQUFFLEdBQUVFLElBQUVFLEVBQUM7QUFBRSxhQUFPLEVBQUU7QUFBQSxJQUFLO0FBQ3pOLGFBQVMsR0FBR0osSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsVUFBRyxTQUFPSixJQUFFO0FBQUMsWUFBSUssS0FBRUosR0FBRTtBQUFLLFlBQUcsZUFBYSxPQUFPSSxNQUFHLENBQUMsR0FBR0EsRUFBQyxLQUFHLFdBQVNBLEdBQUUsZ0JBQWMsU0FBT0osR0FBRSxXQUFTLFdBQVNBLEdBQUUsYUFBYSxRQUFPLEVBQUUsTUFBSSxJQUFHLEVBQUUsT0FBS0ksSUFBRSxHQUFHTCxJQUFFLEdBQUVLLElBQUVILElBQUVFLEVBQUM7QUFBRSxRQUFBSixLQUFFLEdBQUdDLEdBQUUsTUFBSyxNQUFLQyxJQUFFLEdBQUUsRUFBRSxNQUFLRSxFQUFDO0FBQUUsUUFBQUosR0FBRSxNQUFJLEVBQUU7QUFBSSxRQUFBQSxHQUFFLFNBQU87QUFBRSxlQUFPLEVBQUUsUUFBTUE7QUFBQSxNQUFDO0FBQUMsTUFBQUssS0FBRUwsR0FBRTtBQUFNLFVBQUcsT0FBS0EsR0FBRSxRQUFNSSxLQUFHO0FBQUMsWUFBSSxJQUFFQyxHQUFFO0FBQWMsUUFBQUosS0FBRUEsR0FBRTtBQUFRLFFBQUFBLEtBQUUsU0FBT0EsS0FBRUEsS0FBRTtBQUFHLFlBQUdBLEdBQUUsR0FBRUMsRUFBQyxLQUFHRixHQUFFLFFBQU0sRUFBRSxJQUFJLFFBQU8sR0FBR0EsSUFBRSxHQUFFSSxFQUFDO0FBQUEsTUFBQztBQUFDLFFBQUUsU0FBTztBQUFFLE1BQUFKLEtBQUUsR0FBR0ssSUFBRUgsRUFBQztBQUFFLE1BQUFGLEdBQUUsTUFBSSxFQUFFO0FBQUksTUFBQUEsR0FBRSxTQUFPO0FBQUUsYUFBTyxFQUFFLFFBQU1BO0FBQUEsSUFBQztBQUMxYixhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLFVBQUcsU0FBT0osSUFBRTtBQUFDLFlBQUlLLEtBQUVMLEdBQUU7QUFBYyxZQUFHLEdBQUdLLElBQUVILEVBQUMsS0FBR0YsR0FBRSxRQUFNLEVBQUUsSUFBSSxLQUFHLEtBQUcsT0FBRyxFQUFFLGVBQWFFLEtBQUVHLElBQUUsT0FBS0wsR0FBRSxRQUFNSSxJQUFHLFFBQUtKLEdBQUUsUUFBTSxZQUFVLEtBQUc7QUFBQSxZQUFTLFFBQU8sRUFBRSxRQUFNQSxHQUFFLE9BQU0sR0FBR0EsSUFBRSxHQUFFSSxFQUFDO0FBQUEsTUFBQztBQUFDLGFBQU8sR0FBR0osSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxFQUFDO0FBQUEsSUFBQztBQUN4TixhQUFTLEdBQUdKLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsRUFBRSxjQUFhRSxLQUFFRixHQUFFLFVBQVNHLEtBQUUsU0FBT0wsS0FBRUEsR0FBRSxnQkFBYztBQUFLLFVBQUcsYUFBV0UsR0FBRSxLQUFLLEtBQUcsT0FBSyxFQUFFLE9BQUssR0FBRyxHQUFFLGdCQUFjLEVBQUMsV0FBVSxHQUFFLFdBQVUsTUFBSyxhQUFZLEtBQUksR0FBRSxFQUFFLElBQUcsRUFBRSxHQUFFLE1BQUlEO0FBQUEsV0FBTTtBQUFDLFlBQUcsT0FBS0EsS0FBRSxZQUFZLFFBQU9ELEtBQUUsU0FBT0ssS0FBRUEsR0FBRSxZQUFVSixLQUFFQSxJQUFFLEVBQUUsUUFBTSxFQUFFLGFBQVcsWUFBVyxFQUFFLGdCQUFjLEVBQUMsV0FBVUQsSUFBRSxXQUFVLE1BQUssYUFBWSxLQUFJLEdBQUUsRUFBRSxjQUFZLE1BQUssRUFBRSxJQUFHLEVBQUUsR0FBRSxNQUFJQSxJQUFFO0FBQUssVUFBRSxnQkFBYyxFQUFDLFdBQVUsR0FBRSxXQUFVLE1BQUssYUFBWSxLQUFJO0FBQUUsUUFBQUUsS0FBRSxTQUFPRyxLQUFFQSxHQUFFLFlBQVVKO0FBQUUsVUFBRSxJQUFHLEVBQUU7QUFBRSxjQUFJQztBQUFBLE1BQUM7QUFBQSxVQUFNLFVBQ3RmRyxNQUFHSCxLQUFFRyxHQUFFLFlBQVVKLElBQUUsRUFBRSxnQkFBYyxRQUFNQyxLQUFFRCxJQUFFLEVBQUUsSUFBRyxFQUFFLEdBQUUsTUFBSUM7QUFBRSxTQUFHRixJQUFFLEdBQUVJLElBQUVILEVBQUM7QUFBRSxhQUFPLEVBQUU7QUFBQSxJQUFLO0FBQUMsYUFBUyxHQUFHRCxJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFLEVBQUU7QUFBSSxVQUFHLFNBQU9ELE1BQUcsU0FBT0MsTUFBRyxTQUFPRCxNQUFHQSxHQUFFLFFBQU1DLEdBQUUsR0FBRSxTQUFPLEtBQUksRUFBRSxTQUFPO0FBQUEsSUFBTztBQUFDLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsVUFBSUMsS0FBRSxHQUFHSixFQUFDLElBQUUsS0FBRyxFQUFFO0FBQVEsTUFBQUksS0FBRSxHQUFHLEdBQUVBLEVBQUM7QUFBRSxTQUFHLEdBQUVELEVBQUM7QUFBRSxNQUFBSCxLQUFFLEdBQUdELElBQUUsR0FBRUMsSUFBRUMsSUFBRUcsSUFBRUQsRUFBQztBQUFFLE1BQUFGLEtBQUUsR0FBRztBQUFFLFVBQUcsU0FBT0YsTUFBRyxDQUFDLEdBQUcsUUFBTyxFQUFFLGNBQVlBLEdBQUUsYUFBWSxFQUFFLFNBQU8sT0FBTUEsR0FBRSxTQUFPLENBQUNJLElBQUUsR0FBR0osSUFBRSxHQUFFSSxFQUFDO0FBQUUsTUFBQVcsTUFBR2IsTUFBRyxHQUFHLENBQUM7QUFBRSxRQUFFLFNBQU87QUFBRSxTQUFHRixJQUFFLEdBQUVDLElBQUVHLEVBQUM7QUFBRSxhQUFPLEVBQUU7QUFBQSxJQUFLO0FBQ2xhLGFBQVMsR0FBR0osSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsVUFBRyxHQUFHSCxFQUFDLEdBQUU7QUFBQyxZQUFJSSxLQUFFO0FBQUcsV0FBRyxDQUFDO0FBQUEsTUFBQyxNQUFNLENBQUFBLEtBQUU7QUFBRyxTQUFHLEdBQUVELEVBQUM7QUFBRSxVQUFHLFNBQU8sRUFBRSxVQUFVLElBQUdKLElBQUUsQ0FBQyxHQUFFLEdBQUcsR0FBRUMsSUFBRUMsRUFBQyxHQUFFLEdBQUcsR0FBRUQsSUFBRUMsSUFBRUUsRUFBQyxHQUFFRixLQUFFO0FBQUEsZUFBVyxTQUFPRixJQUFFO0FBQUMsWUFBSSxJQUFFLEVBQUUsV0FBVU8sS0FBRSxFQUFFO0FBQWMsVUFBRSxRQUFNQTtBQUFFLFlBQUksSUFBRSxFQUFFLFNBQVFELEtBQUVMLEdBQUU7QUFBWSxxQkFBVyxPQUFPSyxNQUFHLFNBQU9BLEtBQUVBLEtBQUUsR0FBR0EsRUFBQyxLQUFHQSxLQUFFLEdBQUdMLEVBQUMsSUFBRSxLQUFHLEVBQUUsU0FBUUssS0FBRSxHQUFHLEdBQUVBLEVBQUM7QUFBRyxZQUFJLElBQUVMLEdBQUUsMEJBQXlCLElBQUUsZUFBYSxPQUFPLEtBQUcsZUFBYSxPQUFPLEVBQUU7QUFBd0IsYUFBRyxlQUFhLE9BQU8sRUFBRSxvQ0FBa0MsZUFBYSxPQUFPLEVBQUUsOEJBQzFkTSxPQUFJTCxNQUFHLE1BQUlJLE9BQUksR0FBRyxHQUFFLEdBQUVKLElBQUVJLEVBQUM7QUFBRSxhQUFHO0FBQUcsWUFBSVUsS0FBRSxFQUFFO0FBQWMsVUFBRSxRQUFNQTtBQUFFLFdBQUcsR0FBRWQsSUFBRSxHQUFFRSxFQUFDO0FBQUUsWUFBRSxFQUFFO0FBQWMsUUFBQUcsT0FBSUwsTUFBR2MsT0FBSSxLQUFHLEdBQUcsV0FBUyxNQUFJLGVBQWEsT0FBTyxNQUFJLEdBQUcsR0FBRWYsSUFBRSxHQUFFQyxFQUFDLEdBQUUsSUFBRSxFQUFFLGlCQUFnQkssS0FBRSxNQUFJLEdBQUcsR0FBRU4sSUFBRU0sSUFBRUwsSUFBRWMsSUFBRSxHQUFFVixFQUFDLE1BQUksS0FBRyxlQUFhLE9BQU8sRUFBRSw2QkFBMkIsZUFBYSxPQUFPLEVBQUUsdUJBQXFCLGVBQWEsT0FBTyxFQUFFLHNCQUFvQixFQUFFLG1CQUFtQixHQUFFLGVBQWEsT0FBTyxFQUFFLDZCQUEyQixFQUFFLDBCQUEwQixJQUFHLGVBQWEsT0FBTyxFQUFFLHNCQUFvQixFQUFFLFNBQU8sYUFDbGYsZUFBYSxPQUFPLEVBQUUsc0JBQW9CLEVBQUUsU0FBTyxVQUFTLEVBQUUsZ0JBQWNKLElBQUUsRUFBRSxnQkFBYyxJQUFHLEVBQUUsUUFBTUEsSUFBRSxFQUFFLFFBQU0sR0FBRSxFQUFFLFVBQVFJLElBQUVKLEtBQUVLLE9BQUksZUFBYSxPQUFPLEVBQUUsc0JBQW9CLEVBQUUsU0FBTyxVQUFTTCxLQUFFO0FBQUEsTUFBRyxPQUFLO0FBQUMsWUFBRSxFQUFFO0FBQVUsV0FBR0YsSUFBRSxDQUFDO0FBQUUsUUFBQU8sS0FBRSxFQUFFO0FBQWMsUUFBQUQsS0FBRSxFQUFFLFNBQU8sRUFBRSxjQUFZQyxLQUFFLEdBQUcsRUFBRSxNQUFLQSxFQUFDO0FBQUUsVUFBRSxRQUFNRDtBQUFFLFlBQUUsRUFBRTtBQUFhLFFBQUFVLEtBQUUsRUFBRTtBQUFRLFlBQUVmLEdBQUU7QUFBWSxxQkFBVyxPQUFPLEtBQUcsU0FBTyxJQUFFLElBQUUsR0FBRyxDQUFDLEtBQUcsSUFBRSxHQUFHQSxFQUFDLElBQUUsS0FBRyxFQUFFLFNBQVEsSUFBRSxHQUFHLEdBQUUsQ0FBQztBQUFHLFlBQUlnQixLQUFFaEIsR0FBRTtBQUF5QixTQUFDLElBQUUsZUFBYSxPQUFPZ0IsTUFBRyxlQUFhLE9BQU8sRUFBRSw0QkFDOWUsZUFBYSxPQUFPLEVBQUUsb0NBQWtDLGVBQWEsT0FBTyxFQUFFLDhCQUE0QlYsT0FBSSxLQUFHUyxPQUFJLE1BQUksR0FBRyxHQUFFLEdBQUVkLElBQUUsQ0FBQztBQUFFLGFBQUc7QUFBRyxRQUFBYyxLQUFFLEVBQUU7QUFBYyxVQUFFLFFBQU1BO0FBQUUsV0FBRyxHQUFFZCxJQUFFLEdBQUVFLEVBQUM7QUFBRSxZQUFJUSxLQUFFLEVBQUU7QUFBYyxRQUFBTCxPQUFJLEtBQUdTLE9BQUlKLE1BQUcsR0FBRyxXQUFTLE1BQUksZUFBYSxPQUFPSyxPQUFJLEdBQUcsR0FBRWhCLElBQUVnQixJQUFFZixFQUFDLEdBQUVVLEtBQUUsRUFBRSxpQkFBZ0JOLEtBQUUsTUFBSSxHQUFHLEdBQUVMLElBQUVLLElBQUVKLElBQUVjLElBQUVKLElBQUUsQ0FBQyxLQUFHLFVBQUssS0FBRyxlQUFhLE9BQU8sRUFBRSw4QkFBNEIsZUFBYSxPQUFPLEVBQUUsd0JBQXNCLGVBQWEsT0FBTyxFQUFFLHVCQUFxQixFQUFFLG9CQUFvQlYsSUFBRVUsSUFBRSxDQUFDLEdBQUUsZUFBYSxPQUFPLEVBQUUsOEJBQzVmLEVBQUUsMkJBQTJCVixJQUFFVSxJQUFFLENBQUMsSUFBRyxlQUFhLE9BQU8sRUFBRSx1QkFBcUIsRUFBRSxTQUFPLElBQUcsZUFBYSxPQUFPLEVBQUUsNEJBQTBCLEVBQUUsU0FBTyxVQUFRLGVBQWEsT0FBTyxFQUFFLHNCQUFvQkwsT0FBSVAsR0FBRSxpQkFBZWdCLE9BQUloQixHQUFFLGtCQUFnQixFQUFFLFNBQU8sSUFBRyxlQUFhLE9BQU8sRUFBRSwyQkFBeUJPLE9BQUlQLEdBQUUsaUJBQWVnQixPQUFJaEIsR0FBRSxrQkFBZ0IsRUFBRSxTQUFPLE9BQU0sRUFBRSxnQkFBY0UsSUFBRSxFQUFFLGdCQUFjVSxLQUFHLEVBQUUsUUFBTVYsSUFBRSxFQUFFLFFBQU1VLElBQUUsRUFBRSxVQUFRLEdBQUVWLEtBQUVJLE9BQUksZUFBYSxPQUFPLEVBQUUsc0JBQW9CQyxPQUFJUCxHQUFFLGlCQUFlZ0IsT0FDamZoQixHQUFFLGtCQUFnQixFQUFFLFNBQU8sSUFBRyxlQUFhLE9BQU8sRUFBRSwyQkFBeUJPLE9BQUlQLEdBQUUsaUJBQWVnQixPQUFJaEIsR0FBRSxrQkFBZ0IsRUFBRSxTQUFPLE9BQU1FLEtBQUU7QUFBQSxNQUFHO0FBQUMsYUFBTyxHQUFHRixJQUFFLEdBQUVDLElBQUVDLElBQUVHLElBQUVELEVBQUM7QUFBQSxJQUFDO0FBQ25LLGFBQVMsR0FBR0osSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFQyxJQUFFO0FBQUMsU0FBR0wsSUFBRSxDQUFDO0FBQUUsVUFBSSxJQUFFLE9BQUssRUFBRSxRQUFNO0FBQUssVUFBRyxDQUFDRSxNQUFHLENBQUMsRUFBRSxRQUFPRSxNQUFHLEdBQUcsR0FBRUgsSUFBRSxLQUFFLEdBQUUsR0FBR0QsSUFBRSxHQUFFSyxFQUFDO0FBQUUsTUFBQUgsS0FBRSxFQUFFO0FBQVUsU0FBRyxVQUFRO0FBQUUsVUFBSUssS0FBRSxLQUFHLGVBQWEsT0FBT04sR0FBRSwyQkFBeUIsT0FBS0MsR0FBRSxPQUFPO0FBQUUsUUFBRSxTQUFPO0FBQUUsZUFBT0YsTUFBRyxLQUFHLEVBQUUsUUFBTSxHQUFHLEdBQUVBLEdBQUUsT0FBTSxNQUFLSyxFQUFDLEdBQUUsRUFBRSxRQUFNLEdBQUcsR0FBRSxNQUFLRSxJQUFFRixFQUFDLEtBQUcsR0FBR0wsSUFBRSxHQUFFTyxJQUFFRixFQUFDO0FBQUUsUUFBRSxnQkFBY0gsR0FBRTtBQUFNLE1BQUFFLE1BQUcsR0FBRyxHQUFFSCxJQUFFLElBQUU7QUFBRSxhQUFPLEVBQUU7QUFBQSxJQUFLO0FBQUMsYUFBUyxHQUFHRCxJQUFFO0FBQUMsVUFBSSxJQUFFQSxHQUFFO0FBQVUsUUFBRSxpQkFBZSxHQUFHQSxJQUFFLEVBQUUsZ0JBQWUsRUFBRSxtQkFBaUIsRUFBRSxPQUFPLElBQUUsRUFBRSxXQUFTLEdBQUdBLElBQUUsRUFBRSxTQUFRLEtBQUU7QUFBRSxTQUFHQSxJQUFFLEVBQUUsYUFBYTtBQUFBLElBQUM7QUFDNWUsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUVFLElBQUU7QUFBQyxTQUFHO0FBQUUsU0FBR0EsRUFBQztBQUFFLFFBQUUsU0FBTztBQUFJLFNBQUdKLElBQUUsR0FBRUMsSUFBRUMsRUFBQztBQUFFLGFBQU8sRUFBRTtBQUFBLElBQUs7QUFBQyxRQUFJLEtBQUcsRUFBQyxZQUFXLE1BQUssYUFBWSxNQUFLLFdBQVUsRUFBQztBQUFFLGFBQVMsR0FBR0YsSUFBRTtBQUFDLGFBQU0sRUFBQyxXQUFVQSxJQUFFLFdBQVUsTUFBSyxhQUFZLEtBQUk7QUFBQSxJQUFDO0FBQ2xNLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBSUMsS0FBRSxFQUFFLGNBQWFFLEtBQUUsRUFBRSxTQUFRQyxLQUFFLE9BQUcsSUFBRSxPQUFLLEVBQUUsUUFBTSxNQUFLRTtBQUFFLE9BQUNBLEtBQUUsT0FBS0EsS0FBRSxTQUFPUCxNQUFHLFNBQU9BLEdBQUUsZ0JBQWMsUUFBRyxPQUFLSSxLQUFFO0FBQUksVUFBR0csR0FBRSxDQUFBRixLQUFFLE1BQUcsRUFBRSxTQUFPO0FBQUEsZUFBYSxTQUFPTCxNQUFHLFNBQU9BLEdBQUUsY0FBYyxDQUFBSSxNQUFHO0FBQUUsUUFBRSxHQUFFQSxLQUFFLENBQUM7QUFBRSxVQUFHLFNBQU9KLElBQUU7QUFBQyxXQUFHLENBQUM7QUFBRSxRQUFBQSxLQUFFLEVBQUU7QUFBYyxZQUFHLFNBQU9BLE9BQUlBLEtBQUVBLEdBQUUsWUFBVyxTQUFPQSxJQUFHLFFBQU8sT0FBSyxFQUFFLE9BQUssS0FBRyxFQUFFLFFBQU0sSUFBRSxTQUFPQSxHQUFFLE9BQUssRUFBRSxRQUFNLElBQUUsRUFBRSxRQUFNLFlBQVc7QUFBSyxZQUFFRSxHQUFFO0FBQVMsUUFBQUYsS0FBRUUsR0FBRTtBQUFTLGVBQU9HLE1BQUdILEtBQUUsRUFBRSxNQUFLRyxLQUFFLEVBQUUsT0FBTSxJQUFFLEVBQUMsTUFBSyxVQUFTLFVBQVMsRUFBQyxHQUFFLE9BQUtILEtBQUUsTUFBSSxTQUFPRyxNQUFHQSxHQUFFLGFBQVcsR0FBRUEsR0FBRSxlQUM3ZSxLQUFHQSxLQUFFLEdBQUcsR0FBRUgsSUFBRSxHQUFFLElBQUksR0FBRUYsS0FBRSxHQUFHQSxJQUFFRSxJQUFFRCxJQUFFLElBQUksR0FBRUksR0FBRSxTQUFPLEdBQUVMLEdBQUUsU0FBTyxHQUFFSyxHQUFFLFVBQVFMLElBQUUsRUFBRSxRQUFNSyxJQUFFLEVBQUUsTUFBTSxnQkFBYyxHQUFHSixFQUFDLEdBQUUsRUFBRSxnQkFBYyxJQUFHRCxNQUFHLEdBQUcsR0FBRSxDQUFDO0FBQUEsTUFBQztBQUFDLE1BQUFJLEtBQUVKLEdBQUU7QUFBYyxVQUFHLFNBQU9JLE9BQUlHLEtBQUVILEdBQUUsWUFBVyxTQUFPRyxJQUFHLFFBQU8sR0FBR1AsSUFBRSxHQUFFLEdBQUVFLElBQUVLLElBQUVILElBQUVILEVBQUM7QUFBRSxVQUFHSSxJQUFFO0FBQUMsUUFBQUEsS0FBRUgsR0FBRTtBQUFTLFlBQUUsRUFBRTtBQUFLLFFBQUFFLEtBQUVKLEdBQUU7QUFBTSxRQUFBTyxLQUFFSCxHQUFFO0FBQVEsWUFBSSxJQUFFLEVBQUMsTUFBSyxVQUFTLFVBQVNGLEdBQUUsU0FBUTtBQUFFLGVBQUssSUFBRSxNQUFJLEVBQUUsVUFBUUUsTUFBR0YsS0FBRSxFQUFFLE9BQU1BLEdBQUUsYUFBVyxHQUFFQSxHQUFFLGVBQWEsR0FBRSxFQUFFLFlBQVUsU0FBT0EsS0FBRSxHQUFHRSxJQUFFLENBQUMsR0FBRUYsR0FBRSxlQUFhRSxHQUFFLGVBQWE7QUFBVSxpQkFBT0csS0FBRUYsS0FBRSxHQUFHRSxJQUFFRixFQUFDLEtBQUdBLEtBQUUsR0FBR0EsSUFBRSxHQUFFSixJQUFFLElBQUksR0FBRUksR0FBRSxTQUFPO0FBQUcsUUFBQUEsR0FBRSxTQUNuZjtBQUFFLFFBQUFILEdBQUUsU0FBTztBQUFFLFFBQUFBLEdBQUUsVUFBUUc7QUFBRSxVQUFFLFFBQU1IO0FBQUUsUUFBQUEsS0FBRUc7QUFBRSxRQUFBQSxLQUFFLEVBQUU7QUFBTSxZQUFFTCxHQUFFLE1BQU07QUFBYyxZQUFFLFNBQU8sSUFBRSxHQUFHQyxFQUFDLElBQUUsRUFBQyxXQUFVLEVBQUUsWUFBVUEsSUFBRSxXQUFVLE1BQUssYUFBWSxFQUFFLFlBQVc7QUFBRSxRQUFBSSxHQUFFLGdCQUFjO0FBQUUsUUFBQUEsR0FBRSxhQUFXTCxHQUFFLGFBQVcsQ0FBQ0M7QUFBRSxVQUFFLGdCQUFjO0FBQUcsZUFBT0M7QUFBQSxNQUFDO0FBQUMsTUFBQUcsS0FBRUwsR0FBRTtBQUFNLE1BQUFBLEtBQUVLLEdBQUU7QUFBUSxNQUFBSCxLQUFFLEdBQUdHLElBQUUsRUFBQyxNQUFLLFdBQVUsVUFBU0gsR0FBRSxTQUFRLENBQUM7QUFBRSxhQUFLLEVBQUUsT0FBSyxPQUFLQSxHQUFFLFFBQU1EO0FBQUcsTUFBQUMsR0FBRSxTQUFPO0FBQUUsTUFBQUEsR0FBRSxVQUFRO0FBQUssZUFBT0YsT0FBSUMsS0FBRSxFQUFFLFdBQVUsU0FBT0EsTUFBRyxFQUFFLFlBQVUsQ0FBQ0QsRUFBQyxHQUFFLEVBQUUsU0FBTyxNQUFJQyxHQUFFLEtBQUtELEVBQUM7QUFBRyxRQUFFLFFBQU1FO0FBQUUsUUFBRSxnQkFBYztBQUFLLGFBQU9BO0FBQUEsSUFBQztBQUNuZCxhQUFTLEdBQUdGLElBQUUsR0FBRTtBQUFDLFVBQUUsR0FBRyxFQUFDLE1BQUssV0FBVSxVQUFTLEVBQUMsR0FBRUEsR0FBRSxNQUFLLEdBQUUsSUFBSTtBQUFFLFFBQUUsU0FBT0E7QUFBRSxhQUFPQSxHQUFFLFFBQU07QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxlQUFPQSxNQUFHLEdBQUdBLEVBQUM7QUFBRSxTQUFHLEdBQUVGLEdBQUUsT0FBTSxNQUFLQyxFQUFDO0FBQUUsTUFBQUQsS0FBRSxHQUFHLEdBQUUsRUFBRSxhQUFhLFFBQVE7QUFBRSxNQUFBQSxHQUFFLFNBQU87QUFBRSxRQUFFLGdCQUFjO0FBQUssYUFBT0E7QUFBQSxJQUFDO0FBQy9OLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFQyxJQUFFLEdBQUU7QUFBQyxVQUFHSixJQUFFO0FBQUMsWUFBRyxFQUFFLFFBQU0sSUFBSSxRQUFPLEVBQUUsU0FBTyxNQUFLQyxLQUFFLEdBQUcsTUFBTUgsR0FBRSxHQUFHLENBQUMsQ0FBQyxHQUFFLEdBQUdDLElBQUUsR0FBRSxHQUFFRSxFQUFDO0FBQUUsWUFBRyxTQUFPLEVBQUUsY0FBYyxRQUFPLEVBQUUsUUFBTUYsR0FBRSxPQUFNLEVBQUUsU0FBTyxLQUFJO0FBQUssUUFBQUssS0FBRUgsR0FBRTtBQUFTLFFBQUFFLEtBQUUsRUFBRTtBQUFLLFFBQUFGLEtBQUUsR0FBRyxFQUFDLE1BQUssV0FBVSxVQUFTQSxHQUFFLFNBQVEsR0FBRUUsSUFBRSxHQUFFLElBQUk7QUFBRSxRQUFBQyxLQUFFLEdBQUdBLElBQUVELElBQUUsR0FBRSxJQUFJO0FBQUUsUUFBQUMsR0FBRSxTQUFPO0FBQUUsUUFBQUgsR0FBRSxTQUFPO0FBQUUsUUFBQUcsR0FBRSxTQUFPO0FBQUUsUUFBQUgsR0FBRSxVQUFRRztBQUFFLFVBQUUsUUFBTUg7QUFBRSxlQUFLLEVBQUUsT0FBSyxNQUFJLEdBQUcsR0FBRUYsR0FBRSxPQUFNLE1BQUssQ0FBQztBQUFFLFVBQUUsTUFBTSxnQkFBYyxHQUFHLENBQUM7QUFBRSxVQUFFLGdCQUFjO0FBQUcsZUFBT0s7QUFBQSxNQUFDO0FBQUMsVUFBRyxPQUFLLEVBQUUsT0FBSyxHQUFHLFFBQU8sR0FBR0wsSUFBRSxHQUFFLEdBQUUsSUFBSTtBQUFFLFVBQUcsU0FBT0ksR0FBRSxNQUFLO0FBQUMsUUFBQUYsS0FBRUUsR0FBRSxlQUFhQSxHQUFFLFlBQVk7QUFDaGYsWUFBR0YsR0FBRSxLQUFJSyxLQUFFTCxHQUFFO0FBQUssUUFBQUEsS0FBRUs7QUFBRSxRQUFBRixLQUFFLE1BQU1OLEdBQUUsR0FBRyxDQUFDO0FBQUUsUUFBQUcsS0FBRSxHQUFHRyxJQUFFSCxJQUFFLE1BQU07QUFBRSxlQUFPLEdBQUdGLElBQUUsR0FBRSxHQUFFRSxFQUFDO0FBQUEsTUFBQztBQUFDLE1BQUFLLEtBQUUsT0FBSyxJQUFFUCxHQUFFO0FBQVksVUFBRyxNQUFJTyxJQUFFO0FBQUMsUUFBQUwsS0FBRWlCO0FBQUUsWUFBRyxTQUFPakIsSUFBRTtBQUFDLGtCQUFPLElBQUUsQ0FBQyxHQUFFO0FBQUEsWUFBQyxLQUFLO0FBQUUsY0FBQUUsS0FBRTtBQUFFO0FBQUEsWUFBTSxLQUFLO0FBQUcsY0FBQUEsS0FBRTtBQUFFO0FBQUEsWUFBTSxLQUFLO0FBQUEsWUFBRyxLQUFLO0FBQUEsWUFBSSxLQUFLO0FBQUEsWUFBSSxLQUFLO0FBQUEsWUFBSSxLQUFLO0FBQUEsWUFBSyxLQUFLO0FBQUEsWUFBSyxLQUFLO0FBQUEsWUFBSyxLQUFLO0FBQUEsWUFBSyxLQUFLO0FBQUEsWUFBTSxLQUFLO0FBQUEsWUFBTSxLQUFLO0FBQUEsWUFBTSxLQUFLO0FBQUEsWUFBTyxLQUFLO0FBQUEsWUFBTyxLQUFLO0FBQUEsWUFBTyxLQUFLO0FBQUEsWUFBUSxLQUFLO0FBQUEsWUFBUSxLQUFLO0FBQUEsWUFBUSxLQUFLO0FBQUEsWUFBUSxLQUFLO0FBQUEsWUFBUyxLQUFLO0FBQUEsWUFBUyxLQUFLO0FBQVMsY0FBQUEsS0FBRTtBQUFHO0FBQUEsWUFBTSxLQUFLO0FBQVUsY0FBQUEsS0FBRTtBQUFVO0FBQUEsWUFBTTtBQUFRLGNBQUFBLEtBQUU7QUFBQSxVQUFDO0FBQUMsVUFBQUEsS0FBRSxPQUFLQSxNQUFHRixHQUFFLGlCQUFlLE1BQUksSUFBRUU7QUFDbmYsZ0JBQUlBLE1BQUdBLE9BQUlDLEdBQUUsY0FBWUEsR0FBRSxZQUFVRCxJQUFFLEdBQUdKLElBQUVJLEVBQUMsR0FBRSxHQUFHRixJQUFFRixJQUFFSSxJQUFFLEVBQUU7QUFBQSxRQUFFO0FBQUMsV0FBRztBQUFFLFFBQUFGLEtBQUUsR0FBRyxNQUFNSCxHQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQUUsZUFBTyxHQUFHQyxJQUFFLEdBQUUsR0FBRUUsRUFBQztBQUFBLE1BQUM7QUFBQyxVQUFHLFNBQU9FLEdBQUUsS0FBSyxRQUFPLEVBQUUsU0FBTyxLQUFJLEVBQUUsUUFBTUosR0FBRSxPQUFNLElBQUUsR0FBRyxLQUFLLE1BQUtBLEVBQUMsR0FBRUksR0FBRSxjQUFZLEdBQUU7QUFBSyxNQUFBSixLQUFFSyxHQUFFO0FBQVksV0FBRyxHQUFHRCxHQUFFLFdBQVc7QUFBRSxXQUFHO0FBQUUsTUFBQVcsS0FBRTtBQUFHLFdBQUc7QUFBSyxlQUFPZixPQUFJLEdBQUcsSUFBSSxJQUFFLElBQUcsR0FBRyxJQUFJLElBQUUsSUFBRyxHQUFHLElBQUksSUFBRSxJQUFHLEtBQUdBLEdBQUUsSUFBRyxLQUFHQSxHQUFFLFVBQVMsS0FBRztBQUFHLFVBQUUsR0FBRyxHQUFFRSxHQUFFLFFBQVE7QUFBRSxRQUFFLFNBQU87QUFBSyxhQUFPO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0YsSUFBRSxHQUFFQyxJQUFFO0FBQUMsTUFBQUQsR0FBRSxTQUFPO0FBQUUsVUFBSUUsS0FBRUYsR0FBRTtBQUFVLGVBQU9FLE9BQUlBLEdBQUUsU0FBTztBQUFHLFNBQUdGLEdBQUUsUUFBTyxHQUFFQyxFQUFDO0FBQUEsSUFBQztBQUN4YyxhQUFTLEdBQUdELElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsSUFBRTtBQUFDLFVBQUlDLEtBQUVMLEdBQUU7QUFBYyxlQUFPSyxLQUFFTCxHQUFFLGdCQUFjLEVBQUMsYUFBWSxHQUFFLFdBQVUsTUFBSyxvQkFBbUIsR0FBRSxNQUFLRSxJQUFFLE1BQUtELElBQUUsVUFBU0csR0FBQyxLQUFHQyxHQUFFLGNBQVksR0FBRUEsR0FBRSxZQUFVLE1BQUtBLEdBQUUscUJBQW1CLEdBQUVBLEdBQUUsT0FBS0gsSUFBRUcsR0FBRSxPQUFLSixJQUFFSSxHQUFFLFdBQVNEO0FBQUEsSUFBRTtBQUMzTyxhQUFTLEdBQUdKLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsRUFBRSxjQUFhRSxLQUFFRixHQUFFLGFBQVlHLEtBQUVILEdBQUU7QUFBSyxTQUFHRixJQUFFLEdBQUVFLEdBQUUsVUFBU0QsRUFBQztBQUFFLE1BQUFDLEtBQUUsRUFBRTtBQUFRLFVBQUcsT0FBS0EsS0FBRSxHQUFHLENBQUFBLEtBQUVBLEtBQUUsSUFBRSxHQUFFLEVBQUUsU0FBTztBQUFBLFdBQVE7QUFBQyxZQUFHLFNBQU9GLE1BQUcsT0FBS0EsR0FBRSxRQUFNLEtBQUssR0FBRSxNQUFJQSxLQUFFLEVBQUUsT0FBTSxTQUFPQSxNQUFHO0FBQUMsY0FBRyxPQUFLQSxHQUFFLElBQUksVUFBT0EsR0FBRSxpQkFBZSxHQUFHQSxJQUFFQyxJQUFFLENBQUM7QUFBQSxtQkFBVSxPQUFLRCxHQUFFLElBQUksSUFBR0EsSUFBRUMsSUFBRSxDQUFDO0FBQUEsbUJBQVUsU0FBT0QsR0FBRSxPQUFNO0FBQUMsWUFBQUEsR0FBRSxNQUFNLFNBQU9BO0FBQUUsWUFBQUEsS0FBRUEsR0FBRTtBQUFNO0FBQUEsVUFBUTtBQUFDLGNBQUdBLE9BQUksRUFBRSxPQUFNO0FBQUUsaUJBQUssU0FBT0EsR0FBRSxXQUFTO0FBQUMsZ0JBQUcsU0FBT0EsR0FBRSxVQUFRQSxHQUFFLFdBQVMsRUFBRSxPQUFNO0FBQUUsWUFBQUEsS0FBRUEsR0FBRTtBQUFBLFVBQU07QUFBQyxVQUFBQSxHQUFFLFFBQVEsU0FBT0EsR0FBRTtBQUFPLFVBQUFBLEtBQUVBLEdBQUU7QUFBQSxRQUFPO0FBQUMsUUFBQUUsTUFBRztBQUFBLE1BQUM7QUFBQyxRQUFFLEdBQUVBLEVBQUM7QUFBRSxVQUFHLE9BQUssRUFBRSxPQUFLLEdBQUcsR0FBRSxnQkFDL2U7QUFBQSxVQUFVLFNBQU9FLElBQUU7QUFBQSxRQUFDLEtBQUs7QUFBVyxVQUFBSCxLQUFFLEVBQUU7QUFBTSxlQUFJRyxLQUFFLE1BQUssU0FBT0gsS0FBRyxDQUFBRCxLQUFFQyxHQUFFLFdBQVUsU0FBT0QsTUFBRyxTQUFPLEdBQUdBLEVBQUMsTUFBSUksS0FBRUgsS0FBR0EsS0FBRUEsR0FBRTtBQUFRLFVBQUFBLEtBQUVHO0FBQUUsbUJBQU9ILE1BQUdHLEtBQUUsRUFBRSxPQUFNLEVBQUUsUUFBTSxTQUFPQSxLQUFFSCxHQUFFLFNBQVFBLEdBQUUsVUFBUTtBQUFNLGFBQUcsR0FBRSxPQUFHRyxJQUFFSCxJQUFFSSxFQUFDO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBWSxVQUFBSixLQUFFO0FBQUssVUFBQUcsS0FBRSxFQUFFO0FBQU0sZUFBSSxFQUFFLFFBQU0sTUFBSyxTQUFPQSxNQUFHO0FBQUMsWUFBQUosS0FBRUksR0FBRTtBQUFVLGdCQUFHLFNBQU9KLE1BQUcsU0FBTyxHQUFHQSxFQUFDLEdBQUU7QUFBQyxnQkFBRSxRQUFNSTtBQUFFO0FBQUEsWUFBSztBQUFDLFlBQUFKLEtBQUVJLEdBQUU7QUFBUSxZQUFBQSxHQUFFLFVBQVFIO0FBQUUsWUFBQUEsS0FBRUc7QUFBRSxZQUFBQSxLQUFFSjtBQUFBLFVBQUM7QUFBQyxhQUFHLEdBQUUsTUFBR0MsSUFBRSxNQUFLSSxFQUFDO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBVyxhQUFHLEdBQUUsT0FBRyxNQUFLLE1BQUssTUFBTTtBQUFFO0FBQUEsUUFBTTtBQUFRLFlBQUUsZ0JBQWM7QUFBQSxNQUFJO0FBQUMsYUFBTyxFQUFFO0FBQUEsSUFBSztBQUM3ZCxhQUFTLEdBQUdMLElBQUUsR0FBRTtBQUFDLGFBQUssRUFBRSxPQUFLLE1BQUksU0FBT0EsT0FBSUEsR0FBRSxZQUFVLE1BQUssRUFBRSxZQUFVLE1BQUssRUFBRSxTQUFPO0FBQUEsSUFBRTtBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsZUFBT0QsT0FBSSxFQUFFLGVBQWFBLEdBQUU7QUFBYyxZQUFJLEVBQUU7QUFBTSxVQUFHLE9BQUtDLEtBQUUsRUFBRSxZQUFZLFFBQU87QUFBSyxVQUFHLFNBQU9ELE1BQUcsRUFBRSxVQUFRQSxHQUFFLE1BQU0sT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLFVBQUcsU0FBTyxFQUFFLE9BQU07QUFBQyxRQUFBQyxLQUFFLEVBQUU7QUFBTSxRQUFBQyxLQUFFLEdBQUdELElBQUVBLEdBQUUsWUFBWTtBQUFFLFVBQUUsUUFBTUM7QUFBRSxhQUFJQSxHQUFFLFNBQU8sR0FBRSxTQUFPRCxHQUFFLFVBQVMsQ0FBQUEsS0FBRUEsR0FBRSxTQUFRQyxLQUFFQSxHQUFFLFVBQVEsR0FBR0QsSUFBRUEsR0FBRSxZQUFZLEdBQUVDLEdBQUUsU0FBTztBQUFFLFFBQUFBLEdBQUUsVUFBUTtBQUFBLE1BQUk7QUFBQyxhQUFPLEVBQUU7QUFBQSxJQUFLO0FBQzlhLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFO0FBQUMsY0FBTyxFQUFFLEtBQUk7QUFBQSxRQUFDLEtBQUs7QUFBRSxhQUFHLENBQUM7QUFBRSxhQUFHO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRSxhQUFHLENBQUM7QUFBRTtBQUFBLFFBQU0sS0FBSztBQUFFLGFBQUcsRUFBRSxJQUFJLEtBQUcsR0FBRyxDQUFDO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRSxhQUFHLEdBQUUsRUFBRSxVQUFVLGFBQWE7QUFBRTtBQUFBLFFBQU0sS0FBSztBQUFHLGNBQUlDLEtBQUUsRUFBRSxLQUFLLFVBQVNFLEtBQUUsRUFBRSxjQUFjO0FBQU0sWUFBRSxJQUFHRixHQUFFLGFBQWE7QUFBRSxVQUFBQSxHQUFFLGdCQUFjRTtBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUcsVUFBQUYsS0FBRSxFQUFFO0FBQWMsY0FBRyxTQUFPQSxJQUFFO0FBQUMsZ0JBQUcsU0FBT0EsR0FBRSxXQUFXLFFBQU8sRUFBRSxHQUFFLEVBQUUsVUFBUSxDQUFDLEdBQUUsRUFBRSxTQUFPLEtBQUk7QUFBSyxnQkFBRyxPQUFLRCxLQUFFLEVBQUUsTUFBTSxZQUFZLFFBQU8sR0FBR0QsSUFBRSxHQUFFQyxFQUFDO0FBQUUsY0FBRSxHQUFFLEVBQUUsVUFBUSxDQUFDO0FBQUUsWUFBQUQsS0FBRSxHQUFHQSxJQUFFLEdBQUVDLEVBQUM7QUFBRSxtQkFBTyxTQUFPRCxLQUFFQSxHQUFFLFVBQVE7QUFBQSxVQUFJO0FBQUMsWUFBRSxHQUFFLEVBQUUsVUFBUSxDQUFDO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRyxVQUFBRSxLQUFFLE9BQUtELEtBQ3JmLEVBQUU7QUFBWSxjQUFHLE9BQUtELEdBQUUsUUFBTSxNQUFLO0FBQUMsZ0JBQUdFLEdBQUUsUUFBTyxHQUFHRixJQUFFLEdBQUVDLEVBQUM7QUFBRSxjQUFFLFNBQU87QUFBQSxVQUFHO0FBQUMsVUFBQUcsS0FBRSxFQUFFO0FBQWMsbUJBQU9BLE9BQUlBLEdBQUUsWUFBVSxNQUFLQSxHQUFFLE9BQUssTUFBS0EsR0FBRSxhQUFXO0FBQU0sWUFBRSxHQUFFLEVBQUUsT0FBTztBQUFFLGNBQUdGLEdBQUU7QUFBQSxjQUFXLFFBQU87QUFBQSxRQUFLLEtBQUs7QUFBQSxRQUFHLEtBQUs7QUFBRyxpQkFBTyxFQUFFLFFBQU0sR0FBRSxHQUFHRixJQUFFLEdBQUVDLEVBQUM7QUFBQSxNQUFDO0FBQUMsYUFBTyxHQUFHRCxJQUFFLEdBQUVDLEVBQUM7QUFBQSxJQUFDO0FBQUMsUUFBSTtBQUFKLFFBQU87QUFBUCxRQUFVO0FBQVYsUUFBYTtBQUN4USxTQUFHLFNBQVNELElBQUUsR0FBRTtBQUFDLGVBQVFDLEtBQUUsRUFBRSxPQUFNLFNBQU9BLE1BQUc7QUFBQyxZQUFHLE1BQUlBLEdBQUUsT0FBSyxNQUFJQSxHQUFFLElBQUksQ0FBQUQsR0FBRSxZQUFZQyxHQUFFLFNBQVM7QUFBQSxpQkFBVSxNQUFJQSxHQUFFLE9BQUssU0FBT0EsR0FBRSxPQUFNO0FBQUMsVUFBQUEsR0FBRSxNQUFNLFNBQU9BO0FBQUUsVUFBQUEsS0FBRUEsR0FBRTtBQUFNO0FBQUEsUUFBUTtBQUFDLFlBQUdBLE9BQUksRUFBRTtBQUFNLGVBQUssU0FBT0EsR0FBRSxXQUFTO0FBQUMsY0FBRyxTQUFPQSxHQUFFLFVBQVFBLEdBQUUsV0FBUyxFQUFFO0FBQU8sVUFBQUEsS0FBRUEsR0FBRTtBQUFBLFFBQU07QUFBQyxRQUFBQSxHQUFFLFFBQVEsU0FBT0EsR0FBRTtBQUFPLFFBQUFBLEtBQUVBLEdBQUU7QUFBQSxNQUFPO0FBQUEsSUFBQztBQUFFLFNBQUcsV0FBVTtBQUFBLElBQUM7QUFDeFQsU0FBRyxTQUFTRCxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxVQUFJRSxLQUFFSixHQUFFO0FBQWMsVUFBR0ksT0FBSUYsSUFBRTtBQUFDLFFBQUFGLEtBQUUsRUFBRTtBQUFVLFdBQUcsR0FBRyxPQUFPO0FBQUUsWUFBSUssS0FBRTtBQUFLLGdCQUFPSixJQUFFO0FBQUEsVUFBQyxLQUFLO0FBQVEsWUFBQUcsS0FBRSxHQUFHSixJQUFFSSxFQUFDO0FBQUUsWUFBQUYsS0FBRSxHQUFHRixJQUFFRSxFQUFDO0FBQUUsWUFBQUcsS0FBRSxDQUFDO0FBQUU7QUFBQSxVQUFNLEtBQUs7QUFBUyxZQUFBRCxLQUFFLEVBQUUsQ0FBQyxHQUFFQSxJQUFFLEVBQUMsT0FBTSxPQUFNLENBQUM7QUFBRSxZQUFBRixLQUFFLEVBQUUsQ0FBQyxHQUFFQSxJQUFFLEVBQUMsT0FBTSxPQUFNLENBQUM7QUFBRSxZQUFBRyxLQUFFLENBQUM7QUFBRTtBQUFBLFVBQU0sS0FBSztBQUFXLFlBQUFELEtBQUUsR0FBR0osSUFBRUksRUFBQztBQUFFLFlBQUFGLEtBQUUsR0FBR0YsSUFBRUUsRUFBQztBQUFFLFlBQUFHLEtBQUUsQ0FBQztBQUFFO0FBQUEsVUFBTTtBQUFRLDJCQUFhLE9BQU9ELEdBQUUsV0FBUyxlQUFhLE9BQU9GLEdBQUUsWUFBVUYsR0FBRSxVQUFRO0FBQUEsUUFBRztBQUFDLFdBQUdDLElBQUVDLEVBQUM7QUFBRSxZQUFJO0FBQUUsUUFBQUQsS0FBRTtBQUFLLGFBQUlLLE1BQUtGLEdBQUUsS0FBRyxDQUFDRixHQUFFLGVBQWVJLEVBQUMsS0FBR0YsR0FBRSxlQUFlRSxFQUFDLEtBQUcsUUFBTUYsR0FBRUUsRUFBQyxFQUFFLEtBQUcsWUFBVUEsSUFBRTtBQUFDLGNBQUlDLEtBQUVILEdBQUVFLEVBQUM7QUFBRSxlQUFJLEtBQUtDLEdBQUUsQ0FBQUEsR0FBRSxlQUFlLENBQUMsTUFDbGZOLE9BQUlBLEtBQUUsQ0FBQyxJQUFHQSxHQUFFLENBQUMsSUFBRTtBQUFBLFFBQUcsTUFBSywrQkFBNEJLLE1BQUcsZUFBYUEsTUFBRyxxQ0FBbUNBLE1BQUcsK0JBQTZCQSxNQUFHLGdCQUFjQSxPQUFJLEdBQUcsZUFBZUEsRUFBQyxJQUFFRCxPQUFJQSxLQUFFLENBQUMsTUFBSUEsS0FBRUEsTUFBRyxDQUFDLEdBQUcsS0FBS0MsSUFBRSxJQUFJO0FBQUcsYUFBSUEsTUFBS0osSUFBRTtBQUFDLGNBQUksSUFBRUEsR0FBRUksRUFBQztBQUFFLFVBQUFDLEtBQUUsUUFBTUgsS0FBRUEsR0FBRUUsRUFBQyxJQUFFO0FBQU8sY0FBR0osR0FBRSxlQUFlSSxFQUFDLEtBQUcsTUFBSUMsT0FBSSxRQUFNLEtBQUcsUUFBTUEsSUFBRyxLQUFHLFlBQVVELEdBQUUsS0FBR0MsSUFBRTtBQUFDLGlCQUFJLEtBQUtBLEdBQUUsRUFBQ0EsR0FBRSxlQUFlLENBQUMsS0FBRyxLQUFHLEVBQUUsZUFBZSxDQUFDLE1BQUlOLE9BQUlBLEtBQUUsQ0FBQyxJQUFHQSxHQUFFLENBQUMsSUFBRTtBQUFJLGlCQUFJLEtBQUssRUFBRSxHQUFFLGVBQWUsQ0FBQyxLQUFHTSxHQUFFLENBQUMsTUFBSSxFQUFFLENBQUMsTUFBSU4sT0FBSUEsS0FBRSxDQUFDLElBQUdBLEdBQUUsQ0FBQyxJQUFFLEVBQUUsQ0FBQztBQUFBLFVBQUUsTUFBTSxDQUFBQSxPQUFJSSxPQUFJQSxLQUFFLENBQUMsSUFBR0EsR0FBRTtBQUFBLFlBQUtDO0FBQUEsWUFDcGZMO0FBQUEsVUFBQyxJQUFHQSxLQUFFO0FBQUEsY0FBTSwrQkFBNEJLLE1BQUcsSUFBRSxJQUFFLEVBQUUsU0FBTyxRQUFPQyxLQUFFQSxLQUFFQSxHQUFFLFNBQU8sUUFBTyxRQUFNLEtBQUdBLE9BQUksTUFBSUYsS0FBRUEsTUFBRyxDQUFDLEdBQUcsS0FBS0MsSUFBRSxDQUFDLEtBQUcsZUFBYUEsS0FBRSxhQUFXLE9BQU8sS0FBRyxhQUFXLE9BQU8sTUFBSUQsS0FBRUEsTUFBRyxDQUFDLEdBQUcsS0FBS0MsSUFBRSxLQUFHLENBQUMsSUFBRSxxQ0FBbUNBLE1BQUcsK0JBQTZCQSxPQUFJLEdBQUcsZUFBZUEsRUFBQyxLQUFHLFFBQU0sS0FBRyxlQUFhQSxNQUFHLEVBQUUsVUFBU04sRUFBQyxHQUFFSyxNQUFHRSxPQUFJLE1BQUlGLEtBQUUsQ0FBQyxPQUFLQSxLQUFFQSxNQUFHLENBQUMsR0FBRyxLQUFLQyxJQUFFLENBQUM7QUFBQSxRQUFFO0FBQUMsUUFBQUwsT0FBSUksS0FBRUEsTUFBRyxDQUFDLEdBQUcsS0FBSyxTQUFRSixFQUFDO0FBQUUsWUFBSUssS0FBRUQ7QUFBRSxZQUFHLEVBQUUsY0FBWUMsR0FBRSxHQUFFLFNBQU87QUFBQSxNQUFDO0FBQUEsSUFBQztBQUFFLFNBQUcsU0FBU04sSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsTUFBQUQsT0FBSUMsT0FBSSxFQUFFLFNBQU87QUFBQSxJQUFFO0FBQ2hlLGFBQVMsR0FBR0YsSUFBRSxHQUFFO0FBQUMsVUFBRyxDQUFDZSxHQUFFLFNBQU9mLEdBQUUsVUFBUztBQUFBLFFBQUMsS0FBSztBQUFTLGNBQUVBLEdBQUU7QUFBSyxtQkFBUUMsS0FBRSxNQUFLLFNBQU8sSUFBRyxVQUFPLEVBQUUsY0FBWUEsS0FBRSxJQUFHLElBQUUsRUFBRTtBQUFRLG1CQUFPQSxLQUFFRCxHQUFFLE9BQUssT0FBS0MsR0FBRSxVQUFRO0FBQUs7QUFBQSxRQUFNLEtBQUs7QUFBWSxVQUFBQSxLQUFFRCxHQUFFO0FBQUssbUJBQVFFLEtBQUUsTUFBSyxTQUFPRCxLQUFHLFVBQU9BLEdBQUUsY0FBWUMsS0FBRUQsS0FBR0EsS0FBRUEsR0FBRTtBQUFRLG1CQUFPQyxLQUFFLEtBQUcsU0FBT0YsR0FBRSxPQUFLQSxHQUFFLE9BQUssT0FBS0EsR0FBRSxLQUFLLFVBQVEsT0FBS0UsR0FBRSxVQUFRO0FBQUEsTUFBSTtBQUFBLElBQUM7QUFDNVUsYUFBUyxFQUFFRixJQUFFO0FBQUMsVUFBSSxJQUFFLFNBQU9BLEdBQUUsYUFBV0EsR0FBRSxVQUFVLFVBQVFBLEdBQUUsT0FBTUMsS0FBRSxHQUFFQyxLQUFFO0FBQUUsVUFBRyxFQUFFLFVBQVFFLEtBQUVKLEdBQUUsT0FBTSxTQUFPSSxLQUFHLENBQUFILE1BQUdHLEdBQUUsUUFBTUEsR0FBRSxZQUFXRixNQUFHRSxHQUFFLGVBQWEsVUFBU0YsTUFBR0UsR0FBRSxRQUFNLFVBQVNBLEdBQUUsU0FBT0osSUFBRUksS0FBRUEsR0FBRTtBQUFBLFVBQWEsTUFBSUEsS0FBRUosR0FBRSxPQUFNLFNBQU9JLEtBQUcsQ0FBQUgsTUFBR0csR0FBRSxRQUFNQSxHQUFFLFlBQVdGLE1BQUdFLEdBQUUsY0FBYUYsTUFBR0UsR0FBRSxPQUFNQSxHQUFFLFNBQU9KLElBQUVJLEtBQUVBLEdBQUU7QUFBUSxNQUFBSixHQUFFLGdCQUFjRTtBQUFFLE1BQUFGLEdBQUUsYUFBV0M7QUFBRSxhQUFPO0FBQUEsSUFBQztBQUM3VixhQUFTLEdBQUdELElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsRUFBRTtBQUFhLFNBQUcsQ0FBQztBQUFFLGNBQU8sRUFBRSxLQUFJO0FBQUEsUUFBQyxLQUFLO0FBQUEsUUFBRSxLQUFLO0FBQUEsUUFBRyxLQUFLO0FBQUEsUUFBRyxLQUFLO0FBQUEsUUFBRSxLQUFLO0FBQUEsUUFBRyxLQUFLO0FBQUEsUUFBRSxLQUFLO0FBQUEsUUFBRSxLQUFLO0FBQUEsUUFBRyxLQUFLO0FBQUEsUUFBRSxLQUFLO0FBQUcsaUJBQU8sRUFBRSxDQUFDLEdBQUU7QUFBQSxRQUFLLEtBQUs7QUFBRSxpQkFBTyxHQUFHLEVBQUUsSUFBSSxLQUFHLEdBQUcsR0FBRSxFQUFFLENBQUMsR0FBRTtBQUFBLFFBQUssS0FBSztBQUFFLFVBQUFBLEtBQUUsRUFBRTtBQUFVLGFBQUc7QUFBRSxZQUFFLEVBQUU7QUFBRSxZQUFFLENBQUM7QUFBRSxhQUFHO0FBQUUsVUFBQUEsR0FBRSxtQkFBaUJBLEdBQUUsVUFBUUEsR0FBRSxnQkFBZUEsR0FBRSxpQkFBZTtBQUFNLGNBQUcsU0FBT0YsTUFBRyxTQUFPQSxHQUFFLE1BQU0sSUFBRyxDQUFDLElBQUUsRUFBRSxTQUFPLElBQUUsU0FBT0EsTUFBR0EsR0FBRSxjQUFjLGdCQUFjLE9BQUssRUFBRSxRQUFNLFNBQU8sRUFBRSxTQUFPLE1BQUssU0FBTyxPQUFLLEdBQUcsRUFBRSxHQUFFLEtBQUc7QUFBTyxhQUFHQSxJQUFFLENBQUM7QUFBRSxZQUFFLENBQUM7QUFBRSxpQkFBTztBQUFBLFFBQUssS0FBSztBQUFFLGFBQUcsQ0FBQztBQUFFLGNBQUlJLEtBQUUsR0FBRyxHQUFHLE9BQU87QUFDN2YsVUFBQUgsS0FBRSxFQUFFO0FBQUssY0FBRyxTQUFPRCxNQUFHLFFBQU0sRUFBRSxVQUFVLElBQUdBLElBQUUsR0FBRUMsSUFBRUMsSUFBRUUsRUFBQyxHQUFFSixHQUFFLFFBQU0sRUFBRSxRQUFNLEVBQUUsU0FBTyxLQUFJLEVBQUUsU0FBTztBQUFBLGVBQWE7QUFBQyxnQkFBRyxDQUFDRSxJQUFFO0FBQUMsa0JBQUcsU0FBTyxFQUFFLFVBQVUsT0FBTSxNQUFNSCxHQUFFLEdBQUcsQ0FBQztBQUFFLGdCQUFFLENBQUM7QUFBRSxxQkFBTztBQUFBLFlBQUk7QUFBQyxZQUFBQyxLQUFFLEdBQUcsR0FBRyxPQUFPO0FBQUUsZ0JBQUcsR0FBRyxDQUFDLEdBQUU7QUFBQyxjQUFBRSxLQUFFLEVBQUU7QUFBVSxjQUFBRCxLQUFFLEVBQUU7QUFBSyxrQkFBSUksS0FBRSxFQUFFO0FBQWMsY0FBQUgsR0FBRSxFQUFFLElBQUU7QUFBRSxjQUFBQSxHQUFFLEVBQUUsSUFBRUc7QUFBRSxjQUFBTCxLQUFFLE9BQUssRUFBRSxPQUFLO0FBQUcsc0JBQU9DLElBQUU7QUFBQSxnQkFBQyxLQUFLO0FBQVMsb0JBQUUsVUFBU0MsRUFBQztBQUFFLG9CQUFFLFNBQVFBLEVBQUM7QUFBRTtBQUFBLGdCQUFNLEtBQUs7QUFBQSxnQkFBUyxLQUFLO0FBQUEsZ0JBQVMsS0FBSztBQUFRLG9CQUFFLFFBQU9BLEVBQUM7QUFBRTtBQUFBLGdCQUFNLEtBQUs7QUFBQSxnQkFBUSxLQUFLO0FBQVEsdUJBQUlFLEtBQUUsR0FBRUEsS0FBRSxHQUFHLFFBQU9BLEtBQUksR0FBRSxHQUFHQSxFQUFDLEdBQUVGLEVBQUM7QUFBRTtBQUFBLGdCQUFNLEtBQUs7QUFBUyxvQkFBRSxTQUFRQSxFQUFDO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQUEsZ0JBQU0sS0FBSztBQUFBLGdCQUFRLEtBQUs7QUFBTztBQUFBLG9CQUFFO0FBQUEsb0JBQ25oQkE7QUFBQSxrQkFBQztBQUFFLG9CQUFFLFFBQU9BLEVBQUM7QUFBRTtBQUFBLGdCQUFNLEtBQUs7QUFBVSxvQkFBRSxVQUFTQSxFQUFDO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQVEscUJBQUdBLElBQUVHLEVBQUM7QUFBRSxvQkFBRSxXQUFVSCxFQUFDO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQVMsa0JBQUFBLEdBQUUsZ0JBQWMsRUFBQyxhQUFZLENBQUMsQ0FBQ0csR0FBRSxTQUFRO0FBQUUsb0JBQUUsV0FBVUgsRUFBQztBQUFFO0FBQUEsZ0JBQU0sS0FBSztBQUFXLHFCQUFHQSxJQUFFRyxFQUFDLEdBQUUsRUFBRSxXQUFVSCxFQUFDO0FBQUEsY0FBQztBQUFDLGlCQUFHRCxJQUFFSSxFQUFDO0FBQUUsY0FBQUQsS0FBRTtBQUFLLHVCQUFRLEtBQUtDLEdBQUUsS0FBR0EsR0FBRSxlQUFlLENBQUMsR0FBRTtBQUFDLG9CQUFJRSxLQUFFRixHQUFFLENBQUM7QUFBRSwrQkFBYSxJQUFFLGFBQVcsT0FBT0UsS0FBRUwsR0FBRSxnQkFBY0ssT0FBSSxTQUFLRixHQUFFLDRCQUEwQixHQUFHSCxHQUFFLGFBQVlLLElBQUVQLEVBQUMsR0FBRUksS0FBRSxDQUFDLFlBQVdHLEVBQUMsS0FBRyxhQUFXLE9BQU9BLE1BQUdMLEdBQUUsZ0JBQWMsS0FBR0ssT0FBSSxTQUFLRixHQUFFLDRCQUEwQjtBQUFBLGtCQUFHSCxHQUFFO0FBQUEsa0JBQzFlSztBQUFBLGtCQUFFUDtBQUFBLGdCQUFDLEdBQUVJLEtBQUUsQ0FBQyxZQUFXLEtBQUdHLEVBQUMsS0FBRyxHQUFHLGVBQWUsQ0FBQyxLQUFHLFFBQU1BLE1BQUcsZUFBYSxLQUFHLEVBQUUsVUFBU0wsRUFBQztBQUFBLGNBQUM7QUFBQyxzQkFBT0QsSUFBRTtBQUFBLGdCQUFDLEtBQUs7QUFBUSxxQkFBR0MsRUFBQztBQUFFLHFCQUFHQSxJQUFFRyxJQUFFLElBQUU7QUFBRTtBQUFBLGdCQUFNLEtBQUs7QUFBVyxxQkFBR0gsRUFBQztBQUFFLHFCQUFHQSxFQUFDO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQUEsZ0JBQVMsS0FBSztBQUFTO0FBQUEsZ0JBQU07QUFBUSxpQ0FBYSxPQUFPRyxHQUFFLFlBQVVILEdBQUUsVUFBUTtBQUFBLGNBQUc7QUFBQyxjQUFBQSxLQUFFRTtBQUFFLGdCQUFFLGNBQVlGO0FBQUUsdUJBQU9BLE9BQUksRUFBRSxTQUFPO0FBQUEsWUFBRSxPQUFLO0FBQUMsa0JBQUUsTUFBSUUsR0FBRSxXQUFTQSxLQUFFQSxHQUFFO0FBQWMsaURBQWlDSixPQUFJQSxLQUFFLEdBQUdDLEVBQUM7QUFBRyxpREFBaUNELEtBQUUsYUFBV0MsTUFBR0QsS0FBRSxFQUFFLGNBQWMsS0FBSyxHQUFFQSxHQUFFLFlBQVUsc0JBQXVCQSxLQUFFQSxHQUFFLFlBQVlBLEdBQUUsVUFBVSxLQUN6Z0IsYUFBVyxPQUFPRSxHQUFFLEtBQUdGLEtBQUUsRUFBRSxjQUFjQyxJQUFFLEVBQUMsSUFBR0MsR0FBRSxHQUFFLENBQUMsS0FBR0YsS0FBRSxFQUFFLGNBQWNDLEVBQUMsR0FBRSxhQUFXQSxPQUFJLElBQUVELElBQUVFLEdBQUUsV0FBUyxFQUFFLFdBQVMsT0FBR0EsR0FBRSxTQUFPLEVBQUUsT0FBS0EsR0FBRSxVQUFRRixLQUFFLEVBQUUsZ0JBQWdCQSxJQUFFQyxFQUFDO0FBQUUsY0FBQUQsR0FBRSxFQUFFLElBQUU7QUFBRSxjQUFBQSxHQUFFLEVBQUUsSUFBRUU7QUFBRSxpQkFBR0YsSUFBRSxHQUFFLE9BQUcsS0FBRTtBQUFFLGdCQUFFLFlBQVVBO0FBQUUsaUJBQUU7QUFBQyxvQkFBRSxHQUFHQyxJQUFFQyxFQUFDO0FBQUUsd0JBQU9ELElBQUU7QUFBQSxrQkFBQyxLQUFLO0FBQVMsc0JBQUUsVUFBU0QsRUFBQztBQUFFLHNCQUFFLFNBQVFBLEVBQUM7QUFBRSxvQkFBQUksS0FBRUY7QUFBRTtBQUFBLGtCQUFNLEtBQUs7QUFBQSxrQkFBUyxLQUFLO0FBQUEsa0JBQVMsS0FBSztBQUFRLHNCQUFFLFFBQU9GLEVBQUM7QUFBRSxvQkFBQUksS0FBRUY7QUFBRTtBQUFBLGtCQUFNLEtBQUs7QUFBQSxrQkFBUSxLQUFLO0FBQVEseUJBQUlFLEtBQUUsR0FBRUEsS0FBRSxHQUFHLFFBQU9BLEtBQUksR0FBRSxHQUFHQSxFQUFDLEdBQUVKLEVBQUM7QUFBRSxvQkFBQUksS0FBRUY7QUFBRTtBQUFBLGtCQUFNLEtBQUs7QUFBUyxzQkFBRSxTQUFRRixFQUFDO0FBQUUsb0JBQUFJLEtBQUVGO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQUEsa0JBQU0sS0FBSztBQUFBLGtCQUFRLEtBQUs7QUFBTztBQUFBLHNCQUFFO0FBQUEsc0JBQ2xmRjtBQUFBLG9CQUFDO0FBQUUsc0JBQUUsUUFBT0EsRUFBQztBQUFFLG9CQUFBSSxLQUFFRjtBQUFFO0FBQUEsa0JBQU0sS0FBSztBQUFVLHNCQUFFLFVBQVNGLEVBQUM7QUFBRSxvQkFBQUksS0FBRUY7QUFBRTtBQUFBLGtCQUFNLEtBQUs7QUFBUSx1QkFBR0YsSUFBRUUsRUFBQztBQUFFLG9CQUFBRSxLQUFFLEdBQUdKLElBQUVFLEVBQUM7QUFBRSxzQkFBRSxXQUFVRixFQUFDO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQVMsb0JBQUFJLEtBQUVGO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQVMsb0JBQUFGLEdBQUUsZ0JBQWMsRUFBQyxhQUFZLENBQUMsQ0FBQ0UsR0FBRSxTQUFRO0FBQUUsb0JBQUFFLEtBQUUsRUFBRSxDQUFDLEdBQUVGLElBQUUsRUFBQyxPQUFNLE9BQU0sQ0FBQztBQUFFLHNCQUFFLFdBQVVGLEVBQUM7QUFBRTtBQUFBLGtCQUFNLEtBQUs7QUFBVyx1QkFBR0EsSUFBRUUsRUFBQztBQUFFLG9CQUFBRSxLQUFFLEdBQUdKLElBQUVFLEVBQUM7QUFBRSxzQkFBRSxXQUFVRixFQUFDO0FBQUU7QUFBQSxrQkFBTTtBQUFRLG9CQUFBSSxLQUFFRjtBQUFBLGdCQUFDO0FBQUMsbUJBQUdELElBQUVHLEVBQUM7QUFBRSxnQkFBQUcsS0FBRUg7QUFBRSxxQkFBSUMsTUFBS0UsR0FBRSxLQUFHQSxHQUFFLGVBQWVGLEVBQUMsR0FBRTtBQUFDLHNCQUFJLElBQUVFLEdBQUVGLEVBQUM7QUFBRSw4QkFBVUEsS0FBRSxHQUFHTCxJQUFFLENBQUMsSUFBRSw4QkFBNEJLLE1BQUcsSUFBRSxJQUFFLEVBQUUsU0FBTyxRQUFPLFFBQU0sS0FBRyxHQUFHTCxJQUFFLENBQUMsS0FBRyxlQUFhSyxLQUFFLGFBQVcsT0FBTyxLQUFHLGVBQzdlSixNQUFHLE9BQUssTUFBSSxHQUFHRCxJQUFFLENBQUMsSUFBRSxhQUFXLE9BQU8sS0FBRyxHQUFHQSxJQUFFLEtBQUcsQ0FBQyxJQUFFLHFDQUFtQ0ssTUFBRywrQkFBNkJBLE1BQUcsZ0JBQWNBLE9BQUksR0FBRyxlQUFlQSxFQUFDLElBQUUsUUFBTSxLQUFHLGVBQWFBLE1BQUcsRUFBRSxVQUFTTCxFQUFDLElBQUUsUUFBTSxLQUFHLEdBQUdBLElBQUVLLElBQUUsR0FBRSxDQUFDO0FBQUEsZ0JBQUU7QUFBQyx3QkFBT0osSUFBRTtBQUFBLGtCQUFDLEtBQUs7QUFBUSx1QkFBR0QsRUFBQztBQUFFLHVCQUFHQSxJQUFFRSxJQUFFLEtBQUU7QUFBRTtBQUFBLGtCQUFNLEtBQUs7QUFBVyx1QkFBR0YsRUFBQztBQUFFLHVCQUFHQSxFQUFDO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQVMsNEJBQU1FLEdBQUUsU0FBT0YsR0FBRSxhQUFhLFNBQVEsS0FBRyxHQUFHRSxHQUFFLEtBQUssQ0FBQztBQUFFO0FBQUEsa0JBQU0sS0FBSztBQUFTLG9CQUFBRixHQUFFLFdBQVMsQ0FBQyxDQUFDRSxHQUFFO0FBQVMsb0JBQUFHLEtBQUVILEdBQUU7QUFBTSw0QkFBTUcsS0FBRSxHQUFHTCxJQUFFLENBQUMsQ0FBQ0UsR0FBRSxVQUFTRyxJQUFFLEtBQUUsSUFBRSxRQUFNSCxHQUFFLGdCQUFjO0FBQUEsc0JBQUdGO0FBQUEsc0JBQUUsQ0FBQyxDQUFDRSxHQUFFO0FBQUEsc0JBQVNBLEdBQUU7QUFBQSxzQkFDbGY7QUFBQSxvQkFBRTtBQUFFO0FBQUEsa0JBQU07QUFBUSxtQ0FBYSxPQUFPRSxHQUFFLFlBQVVKLEdBQUUsVUFBUTtBQUFBLGdCQUFHO0FBQUMsd0JBQU9DLElBQUU7QUFBQSxrQkFBQyxLQUFLO0FBQUEsa0JBQVMsS0FBSztBQUFBLGtCQUFRLEtBQUs7QUFBQSxrQkFBUyxLQUFLO0FBQVcsb0JBQUFDLEtBQUUsQ0FBQyxDQUFDQSxHQUFFO0FBQVUsMEJBQU07QUFBQSxrQkFBRSxLQUFLO0FBQU0sb0JBQUFBLEtBQUU7QUFBRywwQkFBTTtBQUFBLGtCQUFFO0FBQVEsb0JBQUFBLEtBQUU7QUFBQSxnQkFBRTtBQUFBLGNBQUM7QUFBQyxjQUFBQSxPQUFJLEVBQUUsU0FBTztBQUFBLFlBQUU7QUFBQyxxQkFBTyxFQUFFLFFBQU0sRUFBRSxTQUFPLEtBQUksRUFBRSxTQUFPO0FBQUEsVUFBUTtBQUFDLFlBQUUsQ0FBQztBQUFFLGlCQUFPO0FBQUEsUUFBSyxLQUFLO0FBQUUsY0FBR0YsTUFBRyxRQUFNLEVBQUUsVUFBVSxJQUFHQSxJQUFFLEdBQUVBLEdBQUUsZUFBY0UsRUFBQztBQUFBLGVBQU07QUFBQyxnQkFBRyxhQUFXLE9BQU9BLE1BQUcsU0FBTyxFQUFFLFVBQVUsT0FBTSxNQUFNSCxHQUFFLEdBQUcsQ0FBQztBQUFFLFlBQUFFLEtBQUUsR0FBRyxHQUFHLE9BQU87QUFBRSxlQUFHLEdBQUcsT0FBTztBQUFFLGdCQUFHLEdBQUcsQ0FBQyxHQUFFO0FBQUMsY0FBQUMsS0FBRSxFQUFFO0FBQVUsY0FBQUQsS0FBRSxFQUFFO0FBQWMsY0FBQUMsR0FBRSxFQUFFLElBQUU7QUFBRSxrQkFBR0csS0FBRUgsR0FBRSxjQUFZRDtBQUFFLG9CQUFHRCxLQUN2ZixJQUFHLFNBQU9BLEdBQUUsU0FBT0EsR0FBRSxLQUFJO0FBQUEsa0JBQUMsS0FBSztBQUFFLHVCQUFHRSxHQUFFLFdBQVVELElBQUUsT0FBS0QsR0FBRSxPQUFLLEVBQUU7QUFBRTtBQUFBLGtCQUFNLEtBQUs7QUFBRSw2QkFBS0EsR0FBRSxjQUFjLDRCQUEwQixHQUFHRSxHQUFFLFdBQVVELElBQUUsT0FBS0QsR0FBRSxPQUFLLEVBQUU7QUFBQSxnQkFBQztBQUFBO0FBQUMsY0FBQUssT0FBSSxFQUFFLFNBQU87QUFBQSxZQUFFLE1BQU0sQ0FBQUgsTUFBRyxNQUFJRCxHQUFFLFdBQVNBLEtBQUVBLEdBQUUsZUFBZSxlQUFlQyxFQUFDLEdBQUVBLEdBQUUsRUFBRSxJQUFFLEdBQUUsRUFBRSxZQUFVQTtBQUFBLFVBQUM7QUFBQyxZQUFFLENBQUM7QUFBRSxpQkFBTztBQUFBLFFBQUssS0FBSztBQUFHLFlBQUUsQ0FBQztBQUFFLFVBQUFBLEtBQUUsRUFBRTtBQUFjLGNBQUcsU0FBT0YsTUFBRyxTQUFPQSxHQUFFLGlCQUFlLFNBQU9BLEdBQUUsY0FBYyxZQUFXO0FBQUMsZ0JBQUdlLE1BQUcsU0FBTyxNQUFJLE9BQUssRUFBRSxPQUFLLE1BQUksT0FBSyxFQUFFLFFBQU0sS0FBSyxJQUFHLEdBQUUsR0FBRyxHQUFFLEVBQUUsU0FBTyxPQUFNVixLQUFFO0FBQUEscUJBQVdBLEtBQUUsR0FBRyxDQUFDLEdBQUUsU0FBT0gsTUFBRyxTQUFPQSxHQUFFLFlBQVc7QUFBQyxrQkFBRyxTQUM1ZkYsSUFBRTtBQUFDLG9CQUFHLENBQUNLLEdBQUUsT0FBTSxNQUFNTixHQUFFLEdBQUcsQ0FBQztBQUFFLGdCQUFBTSxLQUFFLEVBQUU7QUFBYyxnQkFBQUEsS0FBRSxTQUFPQSxLQUFFQSxHQUFFLGFBQVc7QUFBSyxvQkFBRyxDQUFDQSxHQUFFLE9BQU0sTUFBTU4sR0FBRSxHQUFHLENBQUM7QUFBRSxnQkFBQU0sR0FBRSxFQUFFLElBQUU7QUFBQSxjQUFDLE1BQU0sSUFBRyxHQUFFLE9BQUssRUFBRSxRQUFNLFNBQU8sRUFBRSxnQkFBYyxPQUFNLEVBQUUsU0FBTztBQUFFLGdCQUFFLENBQUM7QUFBRSxjQUFBQSxLQUFFO0FBQUEsWUFBRSxNQUFNLFVBQU8sT0FBSyxHQUFHLEVBQUUsR0FBRSxLQUFHLE9BQU1BLEtBQUU7QUFBRyxnQkFBRyxDQUFDQSxHQUFFLFFBQU8sRUFBRSxRQUFNLFFBQU0sSUFBRTtBQUFBLFVBQUk7QUFBQyxjQUFHLE9BQUssRUFBRSxRQUFNLEtBQUssUUFBTyxFQUFFLFFBQU1KLElBQUU7QUFBRSxVQUFBQyxLQUFFLFNBQU9BO0FBQUUsVUFBQUEsUUFBSyxTQUFPRixNQUFHLFNBQU9BLEdBQUUsa0JBQWdCRSxPQUFJLEVBQUUsTUFBTSxTQUFPLE1BQUssT0FBSyxFQUFFLE9BQUssT0FBSyxTQUFPRixNQUFHLE9BQUssRUFBRSxVQUFRLEtBQUcsTUFBSSxNQUFJLElBQUUsS0FBRyxHQUFHO0FBQUksbUJBQU8sRUFBRSxnQkFBYyxFQUFFLFNBQU87QUFBRyxZQUFFLENBQUM7QUFBRSxpQkFBTztBQUFBLFFBQUssS0FBSztBQUFFLGlCQUFPLEdBQUcsR0FDeGYsR0FBR0EsSUFBRSxDQUFDLEdBQUUsU0FBT0EsTUFBRyxHQUFHLEVBQUUsVUFBVSxhQUFhLEdBQUUsRUFBRSxDQUFDLEdBQUU7QUFBQSxRQUFLLEtBQUs7QUFBRyxpQkFBTyxHQUFHLEVBQUUsS0FBSyxRQUFRLEdBQUUsRUFBRSxDQUFDLEdBQUU7QUFBQSxRQUFLLEtBQUs7QUFBRyxpQkFBTyxHQUFHLEVBQUUsSUFBSSxLQUFHLEdBQUcsR0FBRSxFQUFFLENBQUMsR0FBRTtBQUFBLFFBQUssS0FBSztBQUFHLFlBQUUsQ0FBQztBQUFFLFVBQUFLLEtBQUUsRUFBRTtBQUFjLGNBQUcsU0FBT0EsR0FBRSxRQUFPLEVBQUUsQ0FBQyxHQUFFO0FBQUssVUFBQUgsS0FBRSxPQUFLLEVBQUUsUUFBTTtBQUFLLGNBQUVHLEdBQUU7QUFBVSxjQUFHLFNBQU8sRUFBRSxLQUFHSCxHQUFFLElBQUdHLElBQUUsS0FBRTtBQUFBLGVBQU07QUFBQyxnQkFBRyxNQUFJLEtBQUcsU0FBT0wsTUFBRyxPQUFLQSxHQUFFLFFBQU0sS0FBSyxNQUFJQSxLQUFFLEVBQUUsT0FBTSxTQUFPQSxNQUFHO0FBQUMsa0JBQUUsR0FBR0EsRUFBQztBQUFFLGtCQUFHLFNBQU8sR0FBRTtBQUFDLGtCQUFFLFNBQU87QUFBSSxtQkFBR0ssSUFBRSxLQUFFO0FBQUUsZ0JBQUFILEtBQUUsRUFBRTtBQUFZLHlCQUFPQSxPQUFJLEVBQUUsY0FBWUEsSUFBRSxFQUFFLFNBQU87QUFBRyxrQkFBRSxlQUFhO0FBQUUsZ0JBQUFBLEtBQUVEO0FBQUUscUJBQUlBLEtBQUUsRUFBRSxPQUFNLFNBQU9BLEtBQUcsQ0FBQUksS0FBRUosSUFBRUQsS0FBRUUsSUFBRUcsR0FBRSxTQUFPLFVBQzdlLElBQUVBLEdBQUUsV0FBVSxTQUFPLEtBQUdBLEdBQUUsYUFBVyxHQUFFQSxHQUFFLFFBQU1MLElBQUVLLEdBQUUsUUFBTSxNQUFLQSxHQUFFLGVBQWEsR0FBRUEsR0FBRSxnQkFBYyxNQUFLQSxHQUFFLGdCQUFjLE1BQUtBLEdBQUUsY0FBWSxNQUFLQSxHQUFFLGVBQWEsTUFBS0EsR0FBRSxZQUFVLFNBQU9BLEdBQUUsYUFBVyxFQUFFLFlBQVdBLEdBQUUsUUFBTSxFQUFFLE9BQU1BLEdBQUUsUUFBTSxFQUFFLE9BQU1BLEdBQUUsZUFBYSxHQUFFQSxHQUFFLFlBQVUsTUFBS0EsR0FBRSxnQkFBYyxFQUFFLGVBQWNBLEdBQUUsZ0JBQWMsRUFBRSxlQUFjQSxHQUFFLGNBQVksRUFBRSxhQUFZQSxHQUFFLE9BQUssRUFBRSxNQUFLTCxLQUFFLEVBQUUsY0FBYUssR0FBRSxlQUFhLFNBQU9MLEtBQUUsT0FBSyxFQUFDLE9BQU1BLEdBQUUsT0FBTSxjQUFhQSxHQUFFLGFBQVksSUFBR0MsS0FBRUEsR0FBRTtBQUFRLGtCQUFFLEdBQUUsRUFBRSxVQUFRLElBQUUsQ0FBQztBQUFFLHVCQUFPLEVBQUU7QUFBQSxjQUFLO0FBQUMsY0FBQUQsS0FDbGdCQSxHQUFFO0FBQUEsWUFBTztBQUFDLHFCQUFPSyxHQUFFLFFBQU0sRUFBRSxJQUFFLE9BQUssRUFBRSxTQUFPLEtBQUlILEtBQUUsTUFBRyxHQUFHRyxJQUFFLEtBQUUsR0FBRSxFQUFFLFFBQU07QUFBQSxVQUFRO0FBQUEsZUFBSztBQUFDLGdCQUFHLENBQUNILEdBQUUsS0FBR0YsS0FBRSxHQUFHLENBQUMsR0FBRSxTQUFPQSxJQUFFO0FBQUMsa0JBQUcsRUFBRSxTQUFPLEtBQUlFLEtBQUUsTUFBR0QsS0FBRUQsR0FBRSxhQUFZLFNBQU9DLE9BQUksRUFBRSxjQUFZQSxJQUFFLEVBQUUsU0FBTyxJQUFHLEdBQUdJLElBQUUsSUFBRSxHQUFFLFNBQU9BLEdBQUUsUUFBTSxhQUFXQSxHQUFFLFlBQVUsQ0FBQyxFQUFFLGFBQVcsQ0FBQ1UsR0FBRSxRQUFPLEVBQUUsQ0FBQyxHQUFFO0FBQUEsWUFBSSxNQUFNLEtBQUUsRUFBRSxJQUFFVixHQUFFLHFCQUFtQixNQUFJLGVBQWFKLE9BQUksRUFBRSxTQUFPLEtBQUlDLEtBQUUsTUFBRyxHQUFHRyxJQUFFLEtBQUUsR0FBRSxFQUFFLFFBQU07QUFBUyxZQUFBQSxHQUFFLGVBQWEsRUFBRSxVQUFRLEVBQUUsT0FBTSxFQUFFLFFBQU0sTUFBSUosS0FBRUksR0FBRSxNQUFLLFNBQU9KLEtBQUVBLEdBQUUsVUFBUSxJQUFFLEVBQUUsUUFBTSxHQUFFSSxHQUFFLE9BQUs7QUFBQSxVQUFFO0FBQUMsY0FBRyxTQUFPQSxHQUFFLEtBQUssUUFBTyxJQUFFQSxHQUFFLE1BQUtBLEdBQUUsWUFDOWUsR0FBRUEsR0FBRSxPQUFLLEVBQUUsU0FBUUEsR0FBRSxxQkFBbUIsRUFBRSxHQUFFLEVBQUUsVUFBUSxNQUFLSixLQUFFLEVBQUUsU0FBUSxFQUFFLEdBQUVDLEtBQUVELEtBQUUsSUFBRSxJQUFFQSxLQUFFLENBQUMsR0FBRTtBQUFFLFlBQUUsQ0FBQztBQUFFLGlCQUFPO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBRyxLQUFLO0FBQUcsaUJBQU8sR0FBRyxHQUFFQyxLQUFFLFNBQU8sRUFBRSxlQUFjLFNBQU9GLE1BQUcsU0FBT0EsR0FBRSxrQkFBZ0JFLE9BQUksRUFBRSxTQUFPLE9BQU1BLE1BQUcsT0FBSyxFQUFFLE9BQUssS0FBRyxPQUFLLEtBQUcsZ0JBQWMsRUFBRSxDQUFDLEdBQUUsRUFBRSxlQUFhLE1BQUksRUFBRSxTQUFPLFNBQU8sRUFBRSxDQUFDLEdBQUU7QUFBQSxRQUFLLEtBQUs7QUFBRyxpQkFBTztBQUFBLFFBQUssS0FBSztBQUFHLGlCQUFPO0FBQUEsTUFBSTtBQUFDLFlBQU0sTUFBTUgsR0FBRSxLQUFJLEVBQUUsR0FBRyxDQUFDO0FBQUEsSUFBRTtBQUNsWCxhQUFTLEdBQUdDLElBQUUsR0FBRTtBQUFDLFNBQUcsQ0FBQztBQUFFLGNBQU8sRUFBRSxLQUFJO0FBQUEsUUFBQyxLQUFLO0FBQUUsaUJBQU8sR0FBRyxFQUFFLElBQUksS0FBRyxHQUFHLEdBQUVBLEtBQUUsRUFBRSxPQUFNQSxLQUFFLFNBQU8sRUFBRSxRQUFNQSxLQUFFLFNBQU8sS0FBSSxLQUFHO0FBQUEsUUFBSyxLQUFLO0FBQUUsaUJBQU8sR0FBRyxHQUFFLEVBQUUsRUFBRSxHQUFFLEVBQUUsQ0FBQyxHQUFFLEdBQUcsR0FBRUEsS0FBRSxFQUFFLE9BQU0sT0FBS0EsS0FBRSxVQUFRLE9BQUtBLEtBQUUsUUFBTSxFQUFFLFFBQU1BLEtBQUUsU0FBTyxLQUFJLEtBQUc7QUFBQSxRQUFLLEtBQUs7QUFBRSxpQkFBTyxHQUFHLENBQUMsR0FBRTtBQUFBLFFBQUssS0FBSztBQUFHLFlBQUUsQ0FBQztBQUFFLFVBQUFBLEtBQUUsRUFBRTtBQUFjLGNBQUcsU0FBT0EsTUFBRyxTQUFPQSxHQUFFLFlBQVc7QUFBQyxnQkFBRyxTQUFPLEVBQUUsVUFBVSxPQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUUsZUFBRztBQUFBLFVBQUM7QUFBQyxVQUFBQyxLQUFFLEVBQUU7QUFBTSxpQkFBT0EsS0FBRSxTQUFPLEVBQUUsUUFBTUEsS0FBRSxTQUFPLEtBQUksS0FBRztBQUFBLFFBQUssS0FBSztBQUFHLGlCQUFPLEVBQUUsQ0FBQyxHQUFFO0FBQUEsUUFBSyxLQUFLO0FBQUUsaUJBQU8sR0FBRyxHQUFFO0FBQUEsUUFBSyxLQUFLO0FBQUcsaUJBQU8sR0FBRyxFQUFFLEtBQUssUUFBUSxHQUFFO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBRyxLQUFLO0FBQUcsaUJBQU8sR0FBRyxHQUM3Z0I7QUFBQSxRQUFLLEtBQUs7QUFBRyxpQkFBTztBQUFBLFFBQUs7QUFBUSxpQkFBTztBQUFBLE1BQUk7QUFBQSxJQUFDO0FBQUMsUUFBSSxLQUFHO0FBQVAsUUFBVSxJQUFFO0FBQVosUUFBZSxLQUFHLGVBQWEsT0FBTyxVQUFRLFVBQVE7QUFBdEQsUUFBMEQsSUFBRTtBQUFLLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsVUFBSUMsS0FBRUQsR0FBRTtBQUFJLFVBQUcsU0FBT0MsR0FBRSxLQUFHLGVBQWEsT0FBT0EsR0FBRSxLQUFHO0FBQUMsUUFBQUEsR0FBRSxJQUFJO0FBQUEsTUFBQyxTQUFPQyxJQUFFO0FBQUMsVUFBRUYsSUFBRSxHQUFFRSxFQUFDO0FBQUEsTUFBQztBQUFBLFVBQU0sQ0FBQUQsR0FBRSxVQUFRO0FBQUEsSUFBSTtBQUFDLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBRztBQUFDLFFBQUFBLEdBQUU7QUFBQSxNQUFDLFNBQU9DLElBQUU7QUFBQyxVQUFFRixJQUFFLEdBQUVFLEVBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUFDLFFBQUksS0FBRztBQUN4UixhQUFTLEdBQUdGLElBQUUsR0FBRTtBQUFDLFdBQUc7QUFBRyxNQUFBQSxLQUFFLEdBQUc7QUFBRSxVQUFHLEdBQUdBLEVBQUMsR0FBRTtBQUFDLFlBQUcsb0JBQW1CQSxHQUFFLEtBQUlDLEtBQUUsRUFBQyxPQUFNRCxHQUFFLGdCQUFlLEtBQUlBLEdBQUUsYUFBWTtBQUFBLFlBQU8sSUFBRTtBQUFDLFVBQUFDLE1BQUdBLEtBQUVELEdBQUUsa0JBQWdCQyxHQUFFLGVBQWE7QUFBTyxjQUFJQyxLQUFFRCxHQUFFLGdCQUFjQSxHQUFFLGFBQWE7QUFBRSxjQUFHQyxNQUFHLE1BQUlBLEdBQUUsWUFBVztBQUFDLFlBQUFELEtBQUVDLEdBQUU7QUFBVyxnQkFBSUUsS0FBRUYsR0FBRSxjQUFhRyxLQUFFSCxHQUFFO0FBQVUsWUFBQUEsS0FBRUEsR0FBRTtBQUFZLGdCQUFHO0FBQUMsY0FBQUQsR0FBRSxVQUFTSSxHQUFFO0FBQUEsWUFBUSxTQUFPLEdBQUU7QUFBQyxjQUFBSixLQUFFO0FBQUssb0JBQU07QUFBQSxZQUFDO0FBQUMsZ0JBQUksSUFBRSxHQUFFTSxLQUFFLElBQUcsSUFBRSxJQUFHRCxLQUFFLEdBQUUsSUFBRSxHQUFFLElBQUVOLElBQUVnQixLQUFFO0FBQUssY0FBRSxZQUFPO0FBQUMsdUJBQVFDLFFBQUk7QUFBQyxzQkFBSWhCLE1BQUcsTUFBSUcsTUFBRyxNQUFJLEVBQUUsYUFBV0csS0FBRSxJQUFFSDtBQUFHLHNCQUFJQyxNQUFHLE1BQUlILE1BQUcsTUFBSSxFQUFFLGFBQVcsSUFBRSxJQUFFQTtBQUFHLHNCQUFJLEVBQUUsYUFBVyxLQUNuZixFQUFFLFVBQVU7QUFBUSxvQkFBRyxVQUFRZSxLQUFFLEVBQUUsWUFBWTtBQUFNLGdCQUFBRCxLQUFFO0FBQUUsb0JBQUVDO0FBQUEsY0FBQztBQUFDLHlCQUFPO0FBQUMsb0JBQUcsTUFBSWpCLEdBQUUsT0FBTTtBQUFFLGdCQUFBZ0IsT0FBSWYsTUFBRyxFQUFFSyxPQUFJRixPQUFJRyxLQUFFO0FBQUcsZ0JBQUFTLE9BQUlYLE1BQUcsRUFBRSxNQUFJSCxPQUFJLElBQUU7QUFBRyxvQkFBRyxVQUFRZSxLQUFFLEVBQUUsYUFBYTtBQUFNLG9CQUFFRDtBQUFFLGdCQUFBQSxLQUFFLEVBQUU7QUFBQSxjQUFVO0FBQUMsa0JBQUVDO0FBQUEsWUFBQztBQUFDLFlBQUFoQixLQUFFLE9BQUtNLE1BQUcsT0FBSyxJQUFFLE9BQUssRUFBQyxPQUFNQSxJQUFFLEtBQUksRUFBQztBQUFBLFVBQUMsTUFBTSxDQUFBTixLQUFFO0FBQUEsUUFBSTtBQUFDLFFBQUFBLEtBQUVBLE1BQUcsRUFBQyxPQUFNLEdBQUUsS0FBSSxFQUFDO0FBQUEsTUFBQyxNQUFNLENBQUFBLEtBQUU7QUFBSyxXQUFHLEVBQUMsYUFBWUQsSUFBRSxnQkFBZUMsR0FBQztBQUFFLFdBQUc7QUFBRyxXQUFJLElBQUUsR0FBRSxTQUFPLElBQUcsS0FBRyxJQUFFLEdBQUVELEtBQUUsRUFBRSxPQUFNLE9BQUssRUFBRSxlQUFhLFNBQU8sU0FBT0EsR0FBRSxDQUFBQSxHQUFFLFNBQU8sR0FBRSxJQUFFQTtBQUFBLFVBQU8sUUFBSyxTQUFPLEtBQUc7QUFBQyxZQUFFO0FBQUUsWUFBRztBQUFDLGNBQUlZLEtBQUUsRUFBRTtBQUFVLGNBQUcsT0FBSyxFQUFFLFFBQU0sTUFBTSxTQUFPLEVBQUUsS0FBSTtBQUFBLFlBQUMsS0FBSztBQUFBLFlBQUUsS0FBSztBQUFBLFlBQUcsS0FBSztBQUFHO0FBQUEsWUFDeGYsS0FBSztBQUFFLGtCQUFHLFNBQU9BLElBQUU7QUFBQyxvQkFBSUMsS0FBRUQsR0FBRSxlQUFjLElBQUVBLEdBQUUsZUFBYyxJQUFFLEVBQUUsV0FBVSxJQUFFLEVBQUUsd0JBQXdCLEVBQUUsZ0JBQWMsRUFBRSxPQUFLQyxLQUFFLEdBQUcsRUFBRSxNQUFLQSxFQUFDLEdBQUUsQ0FBQztBQUFFLGtCQUFFLHNDQUFvQztBQUFBLGNBQUM7QUFBQztBQUFBLFlBQU0sS0FBSztBQUFFLGtCQUFJQyxLQUFFLEVBQUUsVUFBVTtBQUFjLG9CQUFJQSxHQUFFLFdBQVNBLEdBQUUsY0FBWSxLQUFHLE1BQUlBLEdBQUUsWUFBVUEsR0FBRSxtQkFBaUJBLEdBQUUsWUFBWUEsR0FBRSxlQUFlO0FBQUU7QUFBQSxZQUFNLEtBQUs7QUFBQSxZQUFFLEtBQUs7QUFBQSxZQUFFLEtBQUs7QUFBQSxZQUFFLEtBQUs7QUFBRztBQUFBLFlBQU07QUFBUSxvQkFBTSxNQUFNZixHQUFFLEdBQUcsQ0FBQztBQUFBLFVBQUU7QUFBQSxRQUFDLFNBQU8sR0FBRTtBQUFDLFlBQUUsR0FBRSxFQUFFLFFBQU8sQ0FBQztBQUFBLFFBQUM7QUFBQyxRQUFBQyxLQUFFLEVBQUU7QUFBUSxZQUFHLFNBQU9BLElBQUU7QUFBQyxVQUFBQSxHQUFFLFNBQU8sRUFBRTtBQUFPLGNBQUVBO0FBQUU7QUFBQSxRQUFLO0FBQUMsWUFBRSxFQUFFO0FBQUEsTUFBTTtBQUFDLE1BQUFZLEtBQUU7QUFBRyxXQUFHO0FBQUcsYUFBT0E7QUFBQSxJQUFDO0FBQzNmLGFBQVMsR0FBR1osSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBSUMsS0FBRSxFQUFFO0FBQVksTUFBQUEsS0FBRSxTQUFPQSxLQUFFQSxHQUFFLGFBQVc7QUFBSyxVQUFHLFNBQU9BLElBQUU7QUFBQyxZQUFJRSxLQUFFRixLQUFFQSxHQUFFO0FBQUssV0FBRTtBQUFDLGVBQUlFLEdBQUUsTUFBSUosUUFBS0EsSUFBRTtBQUFDLGdCQUFJSyxLQUFFRCxHQUFFO0FBQVEsWUFBQUEsR0FBRSxVQUFRO0FBQU8sdUJBQVNDLE1BQUcsR0FBRyxHQUFFSixJQUFFSSxFQUFDO0FBQUEsVUFBQztBQUFDLFVBQUFELEtBQUVBLEdBQUU7QUFBQSxRQUFJLFNBQU9BLE9BQUlGO0FBQUEsTUFBRTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdGLElBQUUsR0FBRTtBQUFDLFVBQUUsRUFBRTtBQUFZLFVBQUUsU0FBTyxJQUFFLEVBQUUsYUFBVztBQUFLLFVBQUcsU0FBTyxHQUFFO0FBQUMsWUFBSUMsS0FBRSxJQUFFLEVBQUU7QUFBSyxXQUFFO0FBQUMsZUFBSUEsR0FBRSxNQUFJRCxRQUFLQSxJQUFFO0FBQUMsZ0JBQUlFLEtBQUVELEdBQUU7QUFBTyxZQUFBQSxHQUFFLFVBQVFDLEdBQUU7QUFBQSxVQUFDO0FBQUMsVUFBQUQsS0FBRUEsR0FBRTtBQUFBLFFBQUksU0FBT0EsT0FBSTtBQUFBLE1BQUU7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHRCxJQUFFO0FBQUMsVUFBSSxJQUFFQSxHQUFFO0FBQUksVUFBRyxTQUFPLEdBQUU7QUFBQyxZQUFJQyxLQUFFRCxHQUFFO0FBQVUsZ0JBQU9BLEdBQUUsS0FBSTtBQUFBLFVBQUMsS0FBSztBQUFFLFlBQUFBLEtBQUVDO0FBQUU7QUFBQSxVQUFNO0FBQVEsWUFBQUQsS0FBRUM7QUFBQSxRQUFDO0FBQUMsdUJBQWEsT0FBTyxJQUFFLEVBQUVELEVBQUMsSUFBRSxFQUFFLFVBQVFBO0FBQUEsTUFBQztBQUFBLElBQUM7QUFDbGYsYUFBUyxHQUFHQSxJQUFFO0FBQUMsVUFBSSxJQUFFQSxHQUFFO0FBQVUsZUFBTyxNQUFJQSxHQUFFLFlBQVUsTUFBSyxHQUFHLENBQUM7QUFBRyxNQUFBQSxHQUFFLFFBQU07QUFBSyxNQUFBQSxHQUFFLFlBQVU7QUFBSyxNQUFBQSxHQUFFLFVBQVE7QUFBSyxZQUFJQSxHQUFFLFFBQU0sSUFBRUEsR0FBRSxXQUFVLFNBQU8sTUFBSSxPQUFPLEVBQUUsRUFBRSxHQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUUsT0FBTyxFQUFFLEVBQUUsR0FBRSxPQUFPLEVBQUUsRUFBRSxHQUFFLE9BQU8sRUFBRSxFQUFFO0FBQUksTUFBQUEsR0FBRSxZQUFVO0FBQUssTUFBQUEsR0FBRSxTQUFPO0FBQUssTUFBQUEsR0FBRSxlQUFhO0FBQUssTUFBQUEsR0FBRSxnQkFBYztBQUFLLE1BQUFBLEdBQUUsZ0JBQWM7QUFBSyxNQUFBQSxHQUFFLGVBQWE7QUFBSyxNQUFBQSxHQUFFLFlBQVU7QUFBSyxNQUFBQSxHQUFFLGNBQVk7QUFBQSxJQUFJO0FBQUMsYUFBUyxHQUFHQSxJQUFFO0FBQUMsYUFBTyxNQUFJQSxHQUFFLE9BQUssTUFBSUEsR0FBRSxPQUFLLE1BQUlBLEdBQUU7QUFBQSxJQUFHO0FBQ25hLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFFBQUUsWUFBTztBQUFDLGVBQUssU0FBT0EsR0FBRSxXQUFTO0FBQUMsY0FBRyxTQUFPQSxHQUFFLFVBQVEsR0FBR0EsR0FBRSxNQUFNLEVBQUUsUUFBTztBQUFLLFVBQUFBLEtBQUVBLEdBQUU7QUFBQSxRQUFNO0FBQUMsUUFBQUEsR0FBRSxRQUFRLFNBQU9BLEdBQUU7QUFBTyxhQUFJQSxLQUFFQSxHQUFFLFNBQVEsTUFBSUEsR0FBRSxPQUFLLE1BQUlBLEdBQUUsT0FBSyxPQUFLQSxHQUFFLE9BQUs7QUFBQyxjQUFHQSxHQUFFLFFBQU0sRUFBRSxVQUFTO0FBQUUsY0FBRyxTQUFPQSxHQUFFLFNBQU8sTUFBSUEsR0FBRSxJQUFJLFVBQVM7QUFBQSxjQUFPLENBQUFBLEdBQUUsTUFBTSxTQUFPQSxJQUFFQSxLQUFFQSxHQUFFO0FBQUEsUUFBSztBQUFDLFlBQUcsRUFBRUEsR0FBRSxRQUFNLEdBQUcsUUFBT0EsR0FBRTtBQUFBLE1BQVM7QUFBQSxJQUFDO0FBQ3pULGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBSUMsS0FBRUYsR0FBRTtBQUFJLFVBQUcsTUFBSUUsTUFBRyxNQUFJQSxHQUFFLENBQUFGLEtBQUVBLEdBQUUsV0FBVSxJQUFFLE1BQUlDLEdBQUUsV0FBU0EsR0FBRSxXQUFXLGFBQWFELElBQUUsQ0FBQyxJQUFFQyxHQUFFLGFBQWFELElBQUUsQ0FBQyxLQUFHLE1BQUlDLEdBQUUsWUFBVSxJQUFFQSxHQUFFLFlBQVcsRUFBRSxhQUFhRCxJQUFFQyxFQUFDLE1BQUksSUFBRUEsSUFBRSxFQUFFLFlBQVlELEVBQUMsSUFBR0MsS0FBRUEsR0FBRSxxQkFBb0IsU0FBT0EsTUFBRyxXQUFTQSxNQUFHLFNBQU8sRUFBRSxZQUFVLEVBQUUsVUFBUTtBQUFBLGVBQWEsTUFBSUMsT0FBSUYsS0FBRUEsR0FBRSxPQUFNLFNBQU9BLElBQUcsTUFBSSxHQUFHQSxJQUFFLEdBQUVDLEVBQUMsR0FBRUQsS0FBRUEsR0FBRSxTQUFRLFNBQU9BLEtBQUcsSUFBR0EsSUFBRSxHQUFFQyxFQUFDLEdBQUVELEtBQUVBLEdBQUU7QUFBQSxJQUFPO0FBQzFYLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBSUMsS0FBRUYsR0FBRTtBQUFJLFVBQUcsTUFBSUUsTUFBRyxNQUFJQSxHQUFFLENBQUFGLEtBQUVBLEdBQUUsV0FBVSxJQUFFQyxHQUFFLGFBQWFELElBQUUsQ0FBQyxJQUFFQyxHQUFFLFlBQVlELEVBQUM7QUFBQSxlQUFVLE1BQUlFLE9BQUlGLEtBQUVBLEdBQUUsT0FBTSxTQUFPQSxJQUFHLE1BQUksR0FBR0EsSUFBRSxHQUFFQyxFQUFDLEdBQUVELEtBQUVBLEdBQUUsU0FBUSxTQUFPQSxLQUFHLElBQUdBLElBQUUsR0FBRUMsRUFBQyxHQUFFRCxLQUFFQSxHQUFFO0FBQUEsSUFBTztBQUFDLFFBQUksSUFBRTtBQUFOLFFBQVcsS0FBRztBQUFHLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsV0FBSUEsS0FBRUEsR0FBRSxPQUFNLFNBQU9BLEtBQUcsSUFBR0QsSUFBRSxHQUFFQyxFQUFDLEdBQUVBLEtBQUVBLEdBQUU7QUFBQSxJQUFPO0FBQ25SLGFBQVMsR0FBR0QsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBRyxNQUFJLGVBQWEsT0FBTyxHQUFHLHFCQUFxQixLQUFHO0FBQUMsV0FBRyxxQkFBcUIsSUFBR0EsRUFBQztBQUFBLE1BQUMsU0FBT00sSUFBRTtBQUFBLE1BQUM7QUFBQyxjQUFPTixHQUFFLEtBQUk7QUFBQSxRQUFDLEtBQUs7QUFBRSxlQUFHLEdBQUdBLElBQUUsQ0FBQztBQUFBLFFBQUUsS0FBSztBQUFFLGNBQUlDLEtBQUUsR0FBRUUsS0FBRTtBQUFHLGNBQUU7QUFBSyxhQUFHSixJQUFFLEdBQUVDLEVBQUM7QUFBRSxjQUFFQztBQUFFLGVBQUdFO0FBQUUsbUJBQU8sTUFBSSxNQUFJSixLQUFFLEdBQUVDLEtBQUVBLEdBQUUsV0FBVSxNQUFJRCxHQUFFLFdBQVNBLEdBQUUsV0FBVyxZQUFZQyxFQUFDLElBQUVELEdBQUUsWUFBWUMsRUFBQyxLQUFHLEVBQUUsWUFBWUEsR0FBRSxTQUFTO0FBQUc7QUFBQSxRQUFNLEtBQUs7QUFBRyxtQkFBTyxNQUFJLE1BQUlELEtBQUUsR0FBRUMsS0FBRUEsR0FBRSxXQUFVLE1BQUlELEdBQUUsV0FBUyxHQUFHQSxHQUFFLFlBQVdDLEVBQUMsSUFBRSxNQUFJRCxHQUFFLFlBQVUsR0FBR0EsSUFBRUMsRUFBQyxHQUFFLEdBQUdELEVBQUMsS0FBRyxHQUFHLEdBQUVDLEdBQUUsU0FBUztBQUFHO0FBQUEsUUFBTSxLQUFLO0FBQUUsVUFBQUMsS0FBRTtBQUFFLFVBQUFFLEtBQUU7QUFBRyxjQUFFSCxHQUFFLFVBQVU7QUFBYyxlQUFHO0FBQ2xmLGFBQUdELElBQUUsR0FBRUMsRUFBQztBQUFFLGNBQUVDO0FBQUUsZUFBR0U7QUFBRTtBQUFBLFFBQU0sS0FBSztBQUFBLFFBQUUsS0FBSztBQUFBLFFBQUcsS0FBSztBQUFBLFFBQUcsS0FBSztBQUFHLGNBQUcsQ0FBQyxNQUFJRixLQUFFRCxHQUFFLGFBQVksU0FBT0MsT0FBSUEsS0FBRUEsR0FBRSxZQUFXLFNBQU9BLE1BQUk7QUFBQyxZQUFBRSxLQUFFRixLQUFFQSxHQUFFO0FBQUssZUFBRTtBQUFDLGtCQUFJRyxLQUFFRCxJQUFFLElBQUVDLEdBQUU7QUFBUSxjQUFBQSxLQUFFQSxHQUFFO0FBQUkseUJBQVMsTUFBSSxPQUFLQSxLQUFFLEtBQUcsR0FBR0osSUFBRSxHQUFFLENBQUMsSUFBRSxPQUFLSSxLQUFFLE1BQUksR0FBR0osSUFBRSxHQUFFLENBQUM7QUFBRyxjQUFBRyxLQUFFQSxHQUFFO0FBQUEsWUFBSSxTQUFPQSxPQUFJRjtBQUFBLFVBQUU7QUFBQyxhQUFHRixJQUFFLEdBQUVDLEVBQUM7QUFBRTtBQUFBLFFBQU0sS0FBSztBQUFFLGNBQUcsQ0FBQyxNQUFJLEdBQUdBLElBQUUsQ0FBQyxHQUFFQyxLQUFFRCxHQUFFLFdBQVUsZUFBYSxPQUFPQyxHQUFFLHNCQUFzQixLQUFHO0FBQUMsWUFBQUEsR0FBRSxRQUFNRCxHQUFFLGVBQWNDLEdBQUUsUUFBTUQsR0FBRSxlQUFjQyxHQUFFLHFCQUFxQjtBQUFBLFVBQUMsU0FBT0ssSUFBRTtBQUFDLGNBQUVOLElBQUUsR0FBRU0sRUFBQztBQUFBLFVBQUM7QUFBQyxhQUFHUCxJQUFFLEdBQUVDLEVBQUM7QUFBRTtBQUFBLFFBQU0sS0FBSztBQUFHLGFBQUdELElBQUUsR0FBRUMsRUFBQztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUcsVUFBQUEsR0FBRSxPQUFLLEtBQUcsS0FBR0MsS0FBRSxNQUFJLFNBQ2hmRCxHQUFFLGVBQWMsR0FBR0QsSUFBRSxHQUFFQyxFQUFDLEdBQUUsSUFBRUMsTUFBRyxHQUFHRixJQUFFLEdBQUVDLEVBQUM7QUFBRTtBQUFBLFFBQU07QUFBUSxhQUFHRCxJQUFFLEdBQUVDLEVBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0QsSUFBRTtBQUFDLFVBQUksSUFBRUEsR0FBRTtBQUFZLFVBQUcsU0FBTyxHQUFFO0FBQUMsUUFBQUEsR0FBRSxjQUFZO0FBQUssWUFBSUMsS0FBRUQsR0FBRTtBQUFVLGlCQUFPQyxPQUFJQSxLQUFFRCxHQUFFLFlBQVUsSUFBSTtBQUFJLFVBQUUsUUFBUSxTQUFTUyxJQUFFO0FBQUMsY0FBSVAsS0FBRSxHQUFHLEtBQUssTUFBS0YsSUFBRVMsRUFBQztBQUFFLFVBQUFSLEdBQUUsSUFBSVEsRUFBQyxNQUFJUixHQUFFLElBQUlRLEVBQUMsR0FBRUEsR0FBRSxLQUFLUCxJQUFFQSxFQUFDO0FBQUEsUUFBRSxDQUFDO0FBQUEsTUFBQztBQUFBLElBQUM7QUFDelEsYUFBUyxHQUFHRixJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFLEVBQUU7QUFBVSxVQUFHLFNBQU9BLEdBQUUsVUFBUUMsS0FBRSxHQUFFQSxLQUFFRCxHQUFFLFFBQU9DLE1BQUk7QUFBQyxZQUFJRSxLQUFFSCxHQUFFQyxFQUFDO0FBQUUsWUFBRztBQUFDLGNBQUlHLEtBQUVMLElBQUUsSUFBRSxHQUFFTyxLQUFFO0FBQUUsWUFBRSxRQUFLLFNBQU9BLE1BQUc7QUFBQyxvQkFBT0EsR0FBRSxLQUFJO0FBQUEsY0FBQyxLQUFLO0FBQUUsb0JBQUVBLEdBQUU7QUFBVSxxQkFBRztBQUFHLHNCQUFNO0FBQUEsY0FBRSxLQUFLO0FBQUUsb0JBQUVBLEdBQUUsVUFBVTtBQUFjLHFCQUFHO0FBQUcsc0JBQU07QUFBQSxjQUFFLEtBQUs7QUFBRSxvQkFBRUEsR0FBRSxVQUFVO0FBQWMscUJBQUc7QUFBRyxzQkFBTTtBQUFBLFlBQUM7QUFBQyxZQUFBQSxLQUFFQSxHQUFFO0FBQUEsVUFBTTtBQUFDLGNBQUcsU0FBTyxFQUFFLE9BQU0sTUFBTVIsR0FBRSxHQUFHLENBQUM7QUFBRSxhQUFHTSxJQUFFLEdBQUVELEVBQUM7QUFBRSxjQUFFO0FBQUssZUFBRztBQUFHLGNBQUksSUFBRUEsR0FBRTtBQUFVLG1CQUFPLE1BQUksRUFBRSxTQUFPO0FBQU0sVUFBQUEsR0FBRSxTQUFPO0FBQUEsUUFBSSxTQUFPRSxJQUFFO0FBQUMsWUFBRUYsSUFBRSxHQUFFRSxFQUFDO0FBQUEsUUFBQztBQUFBLE1BQUM7QUFBQyxVQUFHLEVBQUUsZUFBYSxNQUFNLE1BQUksSUFBRSxFQUFFLE9BQU0sU0FBTyxJQUFHLElBQUcsR0FBRU4sRUFBQyxHQUFFLElBQUUsRUFBRTtBQUFBLElBQU87QUFDamUsYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFRCxHQUFFLFdBQVVFLEtBQUVGLEdBQUU7QUFBTSxjQUFPQSxHQUFFLEtBQUk7QUFBQSxRQUFDLEtBQUs7QUFBQSxRQUFFLEtBQUs7QUFBQSxRQUFHLEtBQUs7QUFBQSxRQUFHLEtBQUs7QUFBRyxhQUFHLEdBQUVBLEVBQUM7QUFBRSxhQUFHQSxFQUFDO0FBQUUsY0FBR0UsS0FBRSxHQUFFO0FBQUMsZ0JBQUc7QUFBQyxpQkFBRyxHQUFFRixJQUFFQSxHQUFFLE1BQU0sR0FBRSxHQUFHLEdBQUVBLEVBQUM7QUFBQSxZQUFDLFNBQU9hLElBQUU7QUFBQyxnQkFBRWIsSUFBRUEsR0FBRSxRQUFPYSxFQUFDO0FBQUEsWUFBQztBQUFDLGdCQUFHO0FBQUMsaUJBQUcsR0FBRWIsSUFBRUEsR0FBRSxNQUFNO0FBQUEsWUFBQyxTQUFPYSxJQUFFO0FBQUMsZ0JBQUViLElBQUVBLEdBQUUsUUFBT2EsRUFBQztBQUFBLFlBQUM7QUFBQSxVQUFDO0FBQUM7QUFBQSxRQUFNLEtBQUs7QUFBRSxhQUFHLEdBQUViLEVBQUM7QUFBRSxhQUFHQSxFQUFDO0FBQUUsVUFBQUUsS0FBRSxPQUFLLFNBQU9ELE1BQUcsR0FBR0EsSUFBRUEsR0FBRSxNQUFNO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRSxhQUFHLEdBQUVELEVBQUM7QUFBRSxhQUFHQSxFQUFDO0FBQUUsVUFBQUUsS0FBRSxPQUFLLFNBQU9ELE1BQUcsR0FBR0EsSUFBRUEsR0FBRSxNQUFNO0FBQUUsY0FBR0QsR0FBRSxRQUFNLElBQUc7QUFBQyxnQkFBSUksS0FBRUosR0FBRTtBQUFVLGdCQUFHO0FBQUMsaUJBQUdJLElBQUUsRUFBRTtBQUFBLFlBQUMsU0FBT1MsSUFBRTtBQUFDLGdCQUFFYixJQUFFQSxHQUFFLFFBQU9hLEVBQUM7QUFBQSxZQUFDO0FBQUEsVUFBQztBQUFDLGNBQUdYLEtBQUUsTUFBSUUsS0FBRUosR0FBRSxXQUFVLFFBQU1JLEtBQUc7QUFBQyxnQkFBSUMsS0FBRUwsR0FBRSxlQUFjLElBQUUsU0FBT0MsS0FBRUEsR0FBRSxnQkFBY0ksSUFBRUUsS0FBRVAsR0FBRSxNQUFLLElBQUVBLEdBQUU7QUFDcGYsWUFBQUEsR0FBRSxjQUFZO0FBQUssZ0JBQUcsU0FBTyxFQUFFLEtBQUc7QUFBQywwQkFBVU8sTUFBRyxZQUFVRixHQUFFLFFBQU0sUUFBTUEsR0FBRSxRQUFNLEdBQUdELElBQUVDLEVBQUM7QUFBRSxpQkFBR0UsSUFBRSxDQUFDO0FBQUUsa0JBQUlELEtBQUUsR0FBR0MsSUFBRUYsRUFBQztBQUFFLG1CQUFJLElBQUUsR0FBRSxJQUFFLEVBQUUsUUFBTyxLQUFHLEdBQUU7QUFBQyxvQkFBSSxJQUFFLEVBQUUsQ0FBQyxHQUFFLElBQUUsRUFBRSxJQUFFLENBQUM7QUFBRSw0QkFBVSxJQUFFLEdBQUdELElBQUUsQ0FBQyxJQUFFLDhCQUE0QixJQUFFLEdBQUdBLElBQUUsQ0FBQyxJQUFFLGVBQWEsSUFBRSxHQUFHQSxJQUFFLENBQUMsSUFBRSxHQUFHQSxJQUFFLEdBQUUsR0FBRUUsRUFBQztBQUFBLGNBQUM7QUFBQyxzQkFBT0MsSUFBRTtBQUFBLGdCQUFDLEtBQUs7QUFBUSxxQkFBR0gsSUFBRUMsRUFBQztBQUFFO0FBQUEsZ0JBQU0sS0FBSztBQUFXLHFCQUFHRCxJQUFFQyxFQUFDO0FBQUU7QUFBQSxnQkFBTSxLQUFLO0FBQVMsc0JBQUlXLEtBQUVaLEdBQUUsY0FBYztBQUFZLGtCQUFBQSxHQUFFLGNBQWMsY0FBWSxDQUFDLENBQUNDLEdBQUU7QUFBUyxzQkFBSVksS0FBRVosR0FBRTtBQUFNLDBCQUFNWSxLQUFFLEdBQUdiLElBQUUsQ0FBQyxDQUFDQyxHQUFFLFVBQVNZLElBQUUsS0FBRSxJQUFFRCxPQUFJLENBQUMsQ0FBQ1gsR0FBRSxhQUFXLFFBQU1BLEdBQUUsZUFBYTtBQUFBLG9CQUFHRDtBQUFBLG9CQUFFLENBQUMsQ0FBQ0MsR0FBRTtBQUFBLG9CQUNuZkEsR0FBRTtBQUFBLG9CQUFhO0FBQUEsa0JBQUUsSUFBRSxHQUFHRCxJQUFFLENBQUMsQ0FBQ0MsR0FBRSxVQUFTQSxHQUFFLFdBQVMsQ0FBQyxJQUFFLElBQUcsS0FBRTtBQUFBLGNBQUU7QUFBQyxjQUFBRCxHQUFFLEVBQUUsSUFBRUM7QUFBQSxZQUFDLFNBQU9RLElBQUU7QUFBQyxnQkFBRWIsSUFBRUEsR0FBRSxRQUFPYSxFQUFDO0FBQUEsWUFBQztBQUFBLFVBQUM7QUFBQztBQUFBLFFBQU0sS0FBSztBQUFFLGFBQUcsR0FBRWIsRUFBQztBQUFFLGFBQUdBLEVBQUM7QUFBRSxjQUFHRSxLQUFFLEdBQUU7QUFBQyxnQkFBRyxTQUFPRixHQUFFLFVBQVUsT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLFlBQUFLLEtBQUVKLEdBQUU7QUFBVSxZQUFBSyxLQUFFTCxHQUFFO0FBQWMsZ0JBQUc7QUFBQyxjQUFBSSxHQUFFLFlBQVVDO0FBQUEsWUFBQyxTQUFPUSxJQUFFO0FBQUMsZ0JBQUViLElBQUVBLEdBQUUsUUFBT2EsRUFBQztBQUFBLFlBQUM7QUFBQSxVQUFDO0FBQUM7QUFBQSxRQUFNLEtBQUs7QUFBRSxhQUFHLEdBQUViLEVBQUM7QUFBRSxhQUFHQSxFQUFDO0FBQUUsY0FBR0UsS0FBRSxLQUFHLFNBQU9ELE1BQUdBLEdBQUUsY0FBYyxhQUFhLEtBQUc7QUFBQyxlQUFHLEVBQUUsYUFBYTtBQUFBLFVBQUMsU0FBT1ksSUFBRTtBQUFDLGNBQUViLElBQUVBLEdBQUUsUUFBT2EsRUFBQztBQUFBLFVBQUM7QUFBQztBQUFBLFFBQU0sS0FBSztBQUFFLGFBQUcsR0FBRWIsRUFBQztBQUFFLGFBQUdBLEVBQUM7QUFBRTtBQUFBLFFBQU0sS0FBSztBQUFHLGFBQUcsR0FBRUEsRUFBQztBQUFFLGFBQUdBLEVBQUM7QUFBRSxVQUFBSSxLQUFFSixHQUFFO0FBQU0sVUFBQUksR0FBRSxRQUFNLFNBQU9DLEtBQUUsU0FBT0QsR0FBRSxlQUFjQSxHQUFFLFVBQVUsV0FBU0MsSUFBRSxDQUFDQSxNQUNsZixTQUFPRCxHQUFFLGFBQVcsU0FBT0EsR0FBRSxVQUFVLGtCQUFnQixLQUFHLEVBQUU7QUFBSSxVQUFBRixLQUFFLEtBQUcsR0FBR0YsRUFBQztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUcsY0FBRSxTQUFPQyxNQUFHLFNBQU9BLEdBQUU7QUFBYyxVQUFBRCxHQUFFLE9BQUssS0FBRyxLQUFHTSxLQUFFLE1BQUksR0FBRSxHQUFHLEdBQUVOLEVBQUMsR0FBRSxJQUFFTSxNQUFHLEdBQUcsR0FBRU4sRUFBQztBQUFFLGFBQUdBLEVBQUM7QUFBRSxjQUFHRSxLQUFFLE1BQUs7QUFBQyxZQUFBSSxLQUFFLFNBQU9OLEdBQUU7QUFBYyxpQkFBSUEsR0FBRSxVQUFVLFdBQVNNLE9BQUksQ0FBQyxLQUFHLE9BQUtOLEdBQUUsT0FBSyxHQUFHLE1BQUksSUFBRUEsSUFBRSxJQUFFQSxHQUFFLE9BQU0sU0FBTyxLQUFHO0FBQUMsbUJBQUksSUFBRSxJQUFFLEdBQUUsU0FBTyxLQUFHO0FBQUMsZ0JBQUFnQixLQUFFO0FBQUUsZ0JBQUFDLEtBQUVELEdBQUU7QUFBTSx3QkFBT0EsR0FBRSxLQUFJO0FBQUEsa0JBQUMsS0FBSztBQUFBLGtCQUFFLEtBQUs7QUFBQSxrQkFBRyxLQUFLO0FBQUEsa0JBQUcsS0FBSztBQUFHLHVCQUFHLEdBQUVBLElBQUVBLEdBQUUsTUFBTTtBQUFFO0FBQUEsa0JBQU0sS0FBSztBQUFFLHVCQUFHQSxJQUFFQSxHQUFFLE1BQU07QUFBRSx3QkFBSUosS0FBRUksR0FBRTtBQUFVLHdCQUFHLGVBQWEsT0FBT0osR0FBRSxzQkFBcUI7QUFBQyxzQkFBQVYsS0FBRWM7QUFBRSxzQkFBQWYsS0FBRWUsR0FBRTtBQUFPLDBCQUFHO0FBQUMsNEJBQUVkLElBQUVVLEdBQUUsUUFDcGYsRUFBRSxlQUFjQSxHQUFFLFFBQU0sRUFBRSxlQUFjQSxHQUFFLHFCQUFxQjtBQUFBLHNCQUFDLFNBQU9DLElBQUU7QUFBQywwQkFBRVgsSUFBRUQsSUFBRVksRUFBQztBQUFBLHNCQUFDO0FBQUEsb0JBQUM7QUFBQztBQUFBLGtCQUFNLEtBQUs7QUFBRSx1QkFBR0csSUFBRUEsR0FBRSxNQUFNO0FBQUU7QUFBQSxrQkFBTSxLQUFLO0FBQUcsd0JBQUcsU0FBT0EsR0FBRSxlQUFjO0FBQUMseUJBQUcsQ0FBQztBQUFFO0FBQUEsb0JBQVE7QUFBQSxnQkFBQztBQUFDLHlCQUFPQyxNQUFHQSxHQUFFLFNBQU9ELElBQUUsSUFBRUMsTUFBRyxHQUFHLENBQUM7QUFBQSxjQUFDO0FBQUMsa0JBQUUsRUFBRTtBQUFBLFlBQU87QUFBQyxjQUFFLE1BQUksSUFBRSxNQUFLLElBQUVqQixRQUFJO0FBQUMsa0JBQUcsTUFBSSxFQUFFLEtBQUk7QUFBQyxvQkFBRyxTQUFPLEdBQUU7QUFBQyxzQkFBRTtBQUFFLHNCQUFHO0FBQUMsb0JBQUFJLEtBQUUsRUFBRSxXQUFVRSxNQUFHRCxLQUFFRCxHQUFFLE9BQU0sZUFBYSxPQUFPQyxHQUFFLGNBQVlBLEdBQUUsWUFBWSxXQUFVLFFBQU8sV0FBVyxJQUFFQSxHQUFFLFVBQVEsV0FBU0UsS0FBRSxFQUFFLFdBQVUsSUFBRSxFQUFFLGNBQWMsT0FBTSxJQUFFLFdBQVMsS0FBRyxTQUFPLEtBQUcsRUFBRSxlQUFlLFNBQVMsSUFBRSxFQUFFLFVBQVEsTUFBS0EsR0FBRSxNQUFNLFVBQ3pmLEdBQUcsV0FBVSxDQUFDO0FBQUEsa0JBQUUsU0FBT00sSUFBRTtBQUFDLHNCQUFFYixJQUFFQSxHQUFFLFFBQU9hLEVBQUM7QUFBQSxrQkFBQztBQUFBLGdCQUFDO0FBQUEsY0FBQyxXQUFTLE1BQUksRUFBRSxLQUFJO0FBQUMsb0JBQUcsU0FBTyxFQUFFLEtBQUc7QUFBQyxvQkFBRSxVQUFVLFlBQVVQLEtBQUUsS0FBRyxFQUFFO0FBQUEsZ0JBQWEsU0FBT08sSUFBRTtBQUFDLG9CQUFFYixJQUFFQSxHQUFFLFFBQU9hLEVBQUM7QUFBQSxnQkFBQztBQUFBLGNBQUMsWUFBVSxPQUFLLEVBQUUsT0FBSyxPQUFLLEVBQUUsT0FBSyxTQUFPLEVBQUUsaUJBQWUsTUFBSWIsT0FBSSxTQUFPLEVBQUUsT0FBTTtBQUFDLGtCQUFFLE1BQU0sU0FBTztBQUFFLG9CQUFFLEVBQUU7QUFBTTtBQUFBLGNBQVE7QUFBQyxrQkFBRyxNQUFJQSxHQUFFLE9BQU07QUFBRSxxQkFBSyxTQUFPLEVBQUUsV0FBUztBQUFDLG9CQUFHLFNBQU8sRUFBRSxVQUFRLEVBQUUsV0FBU0EsR0FBRSxPQUFNO0FBQUUsc0JBQUksTUFBSSxJQUFFO0FBQU0sb0JBQUUsRUFBRTtBQUFBLGNBQU07QUFBQyxvQkFBSSxNQUFJLElBQUU7QUFBTSxnQkFBRSxRQUFRLFNBQU8sRUFBRTtBQUFPLGtCQUFFLEVBQUU7QUFBQSxZQUFPO0FBQUEsVUFBQztBQUFDO0FBQUEsUUFBTSxLQUFLO0FBQUcsYUFBRyxHQUFFQSxFQUFDO0FBQUUsYUFBR0EsRUFBQztBQUFFLFVBQUFFLEtBQUUsS0FBRyxHQUFHRixFQUFDO0FBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRztBQUFBLFFBQU07QUFBUTtBQUFBLFlBQUc7QUFBQSxZQUNuZkE7QUFBQSxVQUFDLEdBQUUsR0FBR0EsRUFBQztBQUFBLE1BQUM7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFO0FBQUMsVUFBSSxJQUFFQSxHQUFFO0FBQU0sVUFBRyxJQUFFLEdBQUU7QUFBQyxZQUFHO0FBQUMsYUFBRTtBQUFDLHFCQUFRQyxLQUFFRCxHQUFFLFFBQU8sU0FBT0MsTUFBRztBQUFDLGtCQUFHLEdBQUdBLEVBQUMsR0FBRTtBQUFDLG9CQUFJQyxLQUFFRDtBQUFFLHNCQUFNO0FBQUEsY0FBQztBQUFDLGNBQUFBLEtBQUVBLEdBQUU7QUFBQSxZQUFNO0FBQUMsa0JBQU0sTUFBTUYsR0FBRSxHQUFHLENBQUM7QUFBQSxVQUFFO0FBQUMsa0JBQU9HLEdBQUUsS0FBSTtBQUFBLFlBQUMsS0FBSztBQUFFLGtCQUFJRSxLQUFFRixHQUFFO0FBQVUsY0FBQUEsR0FBRSxRQUFNLE9BQUssR0FBR0UsSUFBRSxFQUFFLEdBQUVGLEdBQUUsU0FBTztBQUFLLGtCQUFJRyxLQUFFLEdBQUdMLEVBQUM7QUFBRSxpQkFBR0EsSUFBRUssSUFBRUQsRUFBQztBQUFFO0FBQUEsWUFBTSxLQUFLO0FBQUEsWUFBRSxLQUFLO0FBQUUsa0JBQUksSUFBRUYsR0FBRSxVQUFVLGVBQWNLLEtBQUUsR0FBR1AsRUFBQztBQUFFLGlCQUFHQSxJQUFFTyxJQUFFLENBQUM7QUFBRTtBQUFBLFlBQU07QUFBUSxvQkFBTSxNQUFNUixHQUFFLEdBQUcsQ0FBQztBQUFBLFVBQUU7QUFBQSxRQUFDLFNBQU8sR0FBRTtBQUFDLFlBQUVDLElBQUVBLEdBQUUsUUFBTyxDQUFDO0FBQUEsUUFBQztBQUFDLFFBQUFBLEdBQUUsU0FBTztBQUFBLE1BQUU7QUFBQyxVQUFFLFNBQU9BLEdBQUUsU0FBTztBQUFBLElBQU07QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUVEO0FBQUUsU0FBR0EsSUFBRSxHQUFFQyxFQUFDO0FBQUEsSUFBQztBQUN2YixhQUFTLEdBQUdELElBQUUsR0FBRUMsSUFBRTtBQUFDLGVBQVFDLEtBQUUsT0FBS0YsR0FBRSxPQUFLLElBQUcsU0FBTyxLQUFHO0FBQUMsWUFBSUksS0FBRSxHQUFFQyxLQUFFRCxHQUFFO0FBQU0sWUFBRyxPQUFLQSxHQUFFLE9BQUtGLElBQUU7QUFBQyxjQUFJLElBQUUsU0FBT0UsR0FBRSxpQkFBZTtBQUFHLGNBQUcsQ0FBQyxHQUFFO0FBQUMsZ0JBQUlHLEtBQUVILEdBQUUsV0FBVSxJQUFFLFNBQU9HLE1BQUcsU0FBT0EsR0FBRSxpQkFBZTtBQUFFLFlBQUFBLEtBQUU7QUFBRyxnQkFBSUQsS0FBRTtBQUFFLGlCQUFHO0FBQUUsaUJBQUksSUFBRSxNQUFJLENBQUNBLEdBQUUsTUFBSSxJQUFFRixJQUFFLFNBQU8sSUFBRyxLQUFFLEdBQUUsSUFBRSxFQUFFLE9BQU0sT0FBSyxFQUFFLE9BQUssU0FBTyxFQUFFLGdCQUFjLEdBQUdBLEVBQUMsSUFBRSxTQUFPLEtBQUcsRUFBRSxTQUFPLEdBQUUsSUFBRSxLQUFHLEdBQUdBLEVBQUM7QUFBRSxtQkFBSyxTQUFPQyxLQUFHLEtBQUVBLElBQUUsR0FBR0EsSUFBRSxHQUFFSixFQUFDLEdBQUVJLEtBQUVBLEdBQUU7QUFBUSxnQkFBRUQ7QUFBRSxpQkFBR0c7QUFBRSxnQkFBRUQ7QUFBQSxVQUFDO0FBQUMsYUFBR04sSUFBRSxHQUFFQyxFQUFDO0FBQUEsUUFBQyxNQUFNLFFBQUtHLEdBQUUsZUFBYSxTQUFPLFNBQU9DLE1BQUdBLEdBQUUsU0FBT0QsSUFBRSxJQUFFQyxNQUFHLEdBQUdMLElBQUUsR0FBRUMsRUFBQztBQUFBLE1BQUM7QUFBQSxJQUFDO0FBQ3ZjLGFBQVMsR0FBR0QsSUFBRTtBQUFDLGFBQUssU0FBTyxLQUFHO0FBQUMsWUFBSSxJQUFFO0FBQUUsWUFBRyxPQUFLLEVBQUUsUUFBTSxPQUFNO0FBQUMsY0FBSUMsS0FBRSxFQUFFO0FBQVUsY0FBRztBQUFDLGdCQUFHLE9BQUssRUFBRSxRQUFNLE1BQU0sU0FBTyxFQUFFLEtBQUk7QUFBQSxjQUFDLEtBQUs7QUFBQSxjQUFFLEtBQUs7QUFBQSxjQUFHLEtBQUs7QUFBRyxxQkFBRyxHQUFHLEdBQUUsQ0FBQztBQUFFO0FBQUEsY0FBTSxLQUFLO0FBQUUsb0JBQUlDLEtBQUUsRUFBRTtBQUFVLG9CQUFHLEVBQUUsUUFBTSxLQUFHLENBQUMsRUFBRSxLQUFHLFNBQU9ELEdBQUUsQ0FBQUMsR0FBRSxrQkFBa0I7QUFBQSxxQkFBTTtBQUFDLHNCQUFJRSxLQUFFLEVBQUUsZ0JBQWMsRUFBRSxPQUFLSCxHQUFFLGdCQUFjLEdBQUcsRUFBRSxNQUFLQSxHQUFFLGFBQWE7QUFBRSxrQkFBQUMsR0FBRSxtQkFBbUJFLElBQUVILEdBQUUsZUFBY0MsR0FBRSxtQ0FBbUM7QUFBQSxnQkFBQztBQUFDLG9CQUFJRyxLQUFFLEVBQUU7QUFBWSx5QkFBT0EsTUFBRyxHQUFHLEdBQUVBLElBQUVILEVBQUM7QUFBRTtBQUFBLGNBQU0sS0FBSztBQUFFLG9CQUFJLElBQUUsRUFBRTtBQUFZLG9CQUFHLFNBQU8sR0FBRTtBQUFDLGtCQUFBRCxLQUFFO0FBQUssc0JBQUcsU0FBTyxFQUFFLE1BQU0sU0FBTyxFQUFFLE1BQU0sS0FBSTtBQUFBLG9CQUFDLEtBQUs7QUFBRSxzQkFBQUEsS0FDamhCLEVBQUUsTUFBTTtBQUFVO0FBQUEsb0JBQU0sS0FBSztBQUFFLHNCQUFBQSxLQUFFLEVBQUUsTUFBTTtBQUFBLGtCQUFTO0FBQUMscUJBQUcsR0FBRSxHQUFFQSxFQUFDO0FBQUEsZ0JBQUM7QUFBQztBQUFBLGNBQU0sS0FBSztBQUFFLG9CQUFJTSxLQUFFLEVBQUU7QUFBVSxvQkFBRyxTQUFPTixNQUFHLEVBQUUsUUFBTSxHQUFFO0FBQUMsa0JBQUFBLEtBQUVNO0FBQUUsc0JBQUksSUFBRSxFQUFFO0FBQWMsMEJBQU8sRUFBRSxNQUFLO0FBQUEsb0JBQUMsS0FBSztBQUFBLG9CQUFTLEtBQUs7QUFBQSxvQkFBUSxLQUFLO0FBQUEsb0JBQVMsS0FBSztBQUFXLHdCQUFFLGFBQVdOLEdBQUUsTUFBTTtBQUFFO0FBQUEsb0JBQU0sS0FBSztBQUFNLHdCQUFFLFFBQU1BLEdBQUUsTUFBSSxFQUFFO0FBQUEsa0JBQUk7QUFBQSxnQkFBQztBQUFDO0FBQUEsY0FBTSxLQUFLO0FBQUU7QUFBQSxjQUFNLEtBQUs7QUFBRTtBQUFBLGNBQU0sS0FBSztBQUFHO0FBQUEsY0FBTSxLQUFLO0FBQUcsb0JBQUcsU0FBTyxFQUFFLGVBQWM7QUFBQyxzQkFBSUssS0FBRSxFQUFFO0FBQVUsc0JBQUcsU0FBT0EsSUFBRTtBQUFDLHdCQUFJLElBQUVBLEdBQUU7QUFBYyx3QkFBRyxTQUFPLEdBQUU7QUFBQywwQkFBSSxJQUFFLEVBQUU7QUFBVywrQkFBTyxLQUFHLEdBQUcsQ0FBQztBQUFBLG9CQUFDO0FBQUEsa0JBQUM7QUFBQSxnQkFBQztBQUFDO0FBQUEsY0FBTSxLQUFLO0FBQUEsY0FBRyxLQUFLO0FBQUEsY0FBRyxLQUFLO0FBQUEsY0FBRyxLQUFLO0FBQUEsY0FBRyxLQUFLO0FBQUEsY0FBRyxLQUFLO0FBQUc7QUFBQSxjQUNsZ0I7QUFBUSxzQkFBTSxNQUFNUCxHQUFFLEdBQUcsQ0FBQztBQUFBLFlBQUU7QUFBQyxpQkFBRyxFQUFFLFFBQU0sT0FBSyxHQUFHLENBQUM7QUFBQSxVQUFDLFNBQU9pQixJQUFFO0FBQUMsY0FBRSxHQUFFLEVBQUUsUUFBT0EsRUFBQztBQUFBLFVBQUM7QUFBQSxRQUFDO0FBQUMsWUFBRyxNQUFJaEIsSUFBRTtBQUFDLGNBQUU7QUFBSztBQUFBLFFBQUs7QUFBQyxRQUFBQyxLQUFFLEVBQUU7QUFBUSxZQUFHLFNBQU9BLElBQUU7QUFBQyxVQUFBQSxHQUFFLFNBQU8sRUFBRTtBQUFPLGNBQUVBO0FBQUU7QUFBQSxRQUFLO0FBQUMsWUFBRSxFQUFFO0FBQUEsTUFBTTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdELElBQUU7QUFBQyxhQUFLLFNBQU8sS0FBRztBQUFDLFlBQUksSUFBRTtBQUFFLFlBQUcsTUFBSUEsSUFBRTtBQUFDLGNBQUU7QUFBSztBQUFBLFFBQUs7QUFBQyxZQUFJQyxLQUFFLEVBQUU7QUFBUSxZQUFHLFNBQU9BLElBQUU7QUFBQyxVQUFBQSxHQUFFLFNBQU8sRUFBRTtBQUFPLGNBQUVBO0FBQUU7QUFBQSxRQUFLO0FBQUMsWUFBRSxFQUFFO0FBQUEsTUFBTTtBQUFBLElBQUM7QUFDdlMsYUFBUyxHQUFHRCxJQUFFO0FBQUMsYUFBSyxTQUFPLEtBQUc7QUFBQyxZQUFJLElBQUU7QUFBRSxZQUFHO0FBQUMsa0JBQU8sRUFBRSxLQUFJO0FBQUEsWUFBQyxLQUFLO0FBQUEsWUFBRSxLQUFLO0FBQUEsWUFBRyxLQUFLO0FBQUcsa0JBQUlDLEtBQUUsRUFBRTtBQUFPLGtCQUFHO0FBQUMsbUJBQUcsR0FBRSxDQUFDO0FBQUEsY0FBQyxTQUFPLEdBQUU7QUFBQyxrQkFBRSxHQUFFQSxJQUFFLENBQUM7QUFBQSxjQUFDO0FBQUM7QUFBQSxZQUFNLEtBQUs7QUFBRSxrQkFBSUMsS0FBRSxFQUFFO0FBQVUsa0JBQUcsZUFBYSxPQUFPQSxHQUFFLG1CQUFrQjtBQUFDLG9CQUFJRSxLQUFFLEVBQUU7QUFBTyxvQkFBRztBQUFDLGtCQUFBRixHQUFFLGtCQUFrQjtBQUFBLGdCQUFDLFNBQU8sR0FBRTtBQUFDLG9CQUFFLEdBQUVFLElBQUUsQ0FBQztBQUFBLGdCQUFDO0FBQUEsY0FBQztBQUFDLGtCQUFJQyxLQUFFLEVBQUU7QUFBTyxrQkFBRztBQUFDLG1CQUFHLENBQUM7QUFBQSxjQUFDLFNBQU8sR0FBRTtBQUFDLGtCQUFFLEdBQUVBLElBQUUsQ0FBQztBQUFBLGNBQUM7QUFBQztBQUFBLFlBQU0sS0FBSztBQUFFLGtCQUFJLElBQUUsRUFBRTtBQUFPLGtCQUFHO0FBQUMsbUJBQUcsQ0FBQztBQUFBLGNBQUMsU0FBTyxHQUFFO0FBQUMsa0JBQUUsR0FBRSxHQUFFLENBQUM7QUFBQSxjQUFDO0FBQUEsVUFBQztBQUFBLFFBQUMsU0FBTyxHQUFFO0FBQUMsWUFBRSxHQUFFLEVBQUUsUUFBTyxDQUFDO0FBQUEsUUFBQztBQUFDLFlBQUcsTUFBSUwsSUFBRTtBQUFDLGNBQUU7QUFBSztBQUFBLFFBQUs7QUFBQyxZQUFJTyxLQUFFLEVBQUU7QUFBUSxZQUFHLFNBQU9BLElBQUU7QUFBQyxVQUFBQSxHQUFFLFNBQU8sRUFBRTtBQUFPLGNBQUVBO0FBQUU7QUFBQSxRQUFLO0FBQUMsWUFBRSxFQUFFO0FBQUEsTUFBTTtBQUFBLElBQUM7QUFDN2QsUUFBSSxLQUFHLEtBQUs7QUFBWixRQUFpQixLQUFHLEdBQUc7QUFBdkIsUUFBOEMsS0FBRyxHQUFHO0FBQXBELFFBQXNFLEtBQUcsR0FBRztBQUE1RSxRQUFvRyxJQUFFO0FBQXRHLFFBQXdHWSxLQUFFO0FBQTFHLFFBQStHLElBQUU7QUFBakgsUUFBc0gsSUFBRTtBQUF4SCxRQUEwSCxLQUFHO0FBQTdILFFBQStILEtBQUcsR0FBRyxDQUFDO0FBQXRJLFFBQXdJLElBQUU7QUFBMUksUUFBNEksS0FBRztBQUEvSSxRQUFvSixLQUFHO0FBQXZKLFFBQXlKLEtBQUc7QUFBNUosUUFBOEosS0FBRztBQUFqSyxRQUFtSyxLQUFHO0FBQXRLLFFBQTJLLEtBQUc7QUFBOUssUUFBbUwsS0FBRztBQUF0TCxRQUF3TCxLQUFHO0FBQTNMLFFBQW9NLEtBQUc7QUFBdk0sUUFBNE0sS0FBRztBQUEvTSxRQUFrTixLQUFHO0FBQXJOLFFBQTBOLEtBQUc7QUFBN04sUUFBa08sS0FBRztBQUFyTyxRQUF3TyxLQUFHO0FBQTNPLFFBQWdQLEtBQUc7QUFBblAsUUFBcVAsS0FBRztBQUF4UCxRQUEwUCxLQUFHO0FBQTdQLFFBQWtRLEtBQUc7QUFBclEsUUFBd1EsS0FBRztBQUFFLGFBQVMsSUFBRztBQUFDLGFBQU8sT0FBSyxJQUFFLEtBQUcsRUFBRSxJQUFFLE9BQUssS0FBRyxLQUFHLEtBQUcsRUFBRTtBQUFBLElBQUM7QUFDaFUsYUFBUyxHQUFHbkIsSUFBRTtBQUFDLFVBQUcsT0FBS0EsR0FBRSxPQUFLLEdBQUcsUUFBTztBQUFFLFVBQUcsT0FBSyxJQUFFLE1BQUksTUFBSSxFQUFFLFFBQU8sSUFBRSxDQUFDO0FBQUUsVUFBRyxTQUFPLEdBQUcsV0FBVyxRQUFPLE1BQUksT0FBSyxLQUFHLEdBQUcsSUFBRztBQUFHLE1BQUFBLEtBQUVRO0FBQUUsVUFBRyxNQUFJUixHQUFFLFFBQU9BO0FBQUUsTUFBQUEsS0FBRSxPQUFPO0FBQU0sTUFBQUEsS0FBRSxXQUFTQSxLQUFFLEtBQUcsR0FBR0EsR0FBRSxJQUFJO0FBQUUsYUFBT0E7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxVQUFHLEtBQUcsR0FBRyxPQUFNLEtBQUcsR0FBRSxLQUFHLE1BQUssTUFBTUgsR0FBRSxHQUFHLENBQUM7QUFBRSxTQUFHQyxJQUFFQyxJQUFFQyxFQUFDO0FBQUUsVUFBRyxPQUFLLElBQUUsTUFBSUYsT0FBSW1CLEdBQUUsQ0FBQW5CLE9BQUltQixPQUFJLE9BQUssSUFBRSxPQUFLLE1BQUlsQixLQUFHLE1BQUksS0FBRyxHQUFHRCxJQUFFLENBQUMsSUFBRyxHQUFHQSxJQUFFRSxFQUFDLEdBQUUsTUFBSUQsTUFBRyxNQUFJLEtBQUcsT0FBSyxFQUFFLE9BQUssT0FBSyxLQUFHLEVBQUUsSUFBRSxLQUFJLE1BQUksR0FBRztBQUFBLElBQUU7QUFDMVksYUFBUyxHQUFHRCxJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFRCxHQUFFO0FBQWEsU0FBR0EsSUFBRSxDQUFDO0FBQUUsVUFBSUUsS0FBRSxHQUFHRixJQUFFQSxPQUFJbUIsS0FBRSxJQUFFLENBQUM7QUFBRSxVQUFHLE1BQUlqQixHQUFFLFVBQU9ELE1BQUcsR0FBR0EsRUFBQyxHQUFFRCxHQUFFLGVBQWEsTUFBS0EsR0FBRSxtQkFBaUI7QUFBQSxlQUFVLElBQUVFLEtBQUUsQ0FBQ0EsSUFBRUYsR0FBRSxxQkFBbUIsR0FBRTtBQUFDLGdCQUFNQyxNQUFHLEdBQUdBLEVBQUM7QUFBRSxZQUFHLE1BQUksRUFBRSxPQUFJRCxHQUFFLE1BQUksR0FBRyxHQUFHLEtBQUssTUFBS0EsRUFBQyxDQUFDLElBQUUsR0FBRyxHQUFHLEtBQUssTUFBS0EsRUFBQyxDQUFDLEdBQUUsR0FBRyxXQUFVO0FBQUMsaUJBQUssSUFBRSxNQUFJLEdBQUc7QUFBQSxRQUFDLENBQUMsR0FBRUMsS0FBRTtBQUFBLGFBQVM7QUFBQyxrQkFBTyxHQUFHQyxFQUFDLEdBQUU7QUFBQSxZQUFDLEtBQUs7QUFBRSxjQUFBRCxLQUFFO0FBQUc7QUFBQSxZQUFNLEtBQUs7QUFBRSxjQUFBQSxLQUFFO0FBQUc7QUFBQSxZQUFNLEtBQUs7QUFBRyxjQUFBQSxLQUFFO0FBQUc7QUFBQSxZQUFNLEtBQUs7QUFBVSxjQUFBQSxLQUFFO0FBQUc7QUFBQSxZQUFNO0FBQVEsY0FBQUEsS0FBRTtBQUFBLFVBQUU7QUFBQyxVQUFBQSxLQUFFLEdBQUdBLElBQUUsR0FBRyxLQUFLLE1BQUtELEVBQUMsQ0FBQztBQUFBLFFBQUM7QUFBQyxRQUFBQSxHQUFFLG1CQUFpQjtBQUFFLFFBQUFBLEdBQUUsZUFBYUM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUM3YyxhQUFTLEdBQUdELElBQUUsR0FBRTtBQUFDLFdBQUc7QUFBRyxXQUFHO0FBQUUsVUFBRyxPQUFLLElBQUUsR0FBRyxPQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUUsVUFBSUUsS0FBRUQsR0FBRTtBQUFhLFVBQUcsR0FBRyxLQUFHQSxHQUFFLGlCQUFlQyxHQUFFLFFBQU87QUFBSyxVQUFJQyxLQUFFLEdBQUdGLElBQUVBLE9BQUltQixLQUFFLElBQUUsQ0FBQztBQUFFLFVBQUcsTUFBSWpCLEdBQUUsUUFBTztBQUFLLFVBQUcsT0FBS0EsS0FBRSxPQUFLLE9BQUtBLEtBQUVGLEdBQUUsaUJBQWUsRUFBRSxLQUFFLEdBQUdBLElBQUVFLEVBQUM7QUFBQSxXQUFNO0FBQUMsWUFBRUE7QUFBRSxZQUFJRSxLQUFFO0FBQUUsYUFBRztBQUFFLFlBQUlDLEtBQUUsR0FBRztBQUFFLFlBQUdjLE9BQUluQixNQUFHLE1BQUksRUFBRSxNQUFHLE1BQUssS0FBRyxFQUFFLElBQUUsS0FBSSxHQUFHQSxJQUFFLENBQUM7QUFBRTtBQUFHLGNBQUc7QUFBQyxlQUFHO0FBQUU7QUFBQSxVQUFLLFNBQU9PLElBQUU7QUFBQyxlQUFHUCxJQUFFTyxFQUFDO0FBQUEsVUFBQztBQUFBLGVBQU87QUFBRyxXQUFHO0FBQUUsV0FBRyxVQUFRRjtBQUFFLFlBQUVEO0FBQUUsaUJBQU8sSUFBRSxJQUFFLEtBQUdlLEtBQUUsTUFBSyxJQUFFLEdBQUUsSUFBRTtBQUFBLE1BQUU7QUFBQyxVQUFHLE1BQUksR0FBRTtBQUFDLGNBQUksTUFBSWYsS0FBRSxHQUFHSixFQUFDLEdBQUUsTUFBSUksT0FBSUYsS0FBRUUsSUFBRSxJQUFFLEdBQUdKLElBQUVJLEVBQUM7QUFBSSxZQUFHLE1BQUksRUFBRSxPQUFNSCxLQUFFLElBQUcsR0FBR0QsSUFBRSxDQUFDLEdBQUUsR0FBR0EsSUFBRUUsRUFBQyxHQUFFLEdBQUdGLElBQUUsRUFBRSxDQUFDLEdBQUVDO0FBQUUsWUFBRyxNQUFJLEVBQUUsSUFBR0QsSUFBRUUsRUFBQztBQUFBLGFBQ2pmO0FBQUMsVUFBQUUsS0FBRUosR0FBRSxRQUFRO0FBQVUsY0FBRyxPQUFLRSxLQUFFLE9BQUssQ0FBQyxHQUFHRSxFQUFDLE1BQUksSUFBRSxHQUFHSixJQUFFRSxFQUFDLEdBQUUsTUFBSSxNQUFJRyxLQUFFLEdBQUdMLEVBQUMsR0FBRSxNQUFJSyxPQUFJSCxLQUFFRyxJQUFFLElBQUUsR0FBR0wsSUFBRUssRUFBQyxLQUFJLE1BQUksR0FBRyxPQUFNSixLQUFFLElBQUcsR0FBR0QsSUFBRSxDQUFDLEdBQUUsR0FBR0EsSUFBRUUsRUFBQyxHQUFFLEdBQUdGLElBQUUsRUFBRSxDQUFDLEdBQUVDO0FBQUUsVUFBQUQsR0FBRSxlQUFhSTtBQUFFLFVBQUFKLEdBQUUsZ0JBQWNFO0FBQUUsa0JBQU8sR0FBRTtBQUFBLFlBQUMsS0FBSztBQUFBLFlBQUUsS0FBSztBQUFFLG9CQUFNLE1BQU1ILEdBQUUsR0FBRyxDQUFDO0FBQUEsWUFBRSxLQUFLO0FBQUUsaUJBQUdDLElBQUUsSUFBRyxFQUFFO0FBQUU7QUFBQSxZQUFNLEtBQUs7QUFBRSxpQkFBR0EsSUFBRUUsRUFBQztBQUFFLG1CQUFJQSxLQUFFLGVBQWFBLE9BQUksSUFBRSxLQUFHLE1BQUksRUFBRSxHQUFFLEtBQUcsSUFBRztBQUFDLG9CQUFHLE1BQUksR0FBR0YsSUFBRSxDQUFDLEVBQUU7QUFBTSxnQkFBQUksS0FBRUosR0FBRTtBQUFlLHFCQUFJSSxLQUFFRixRQUFLQSxJQUFFO0FBQUMsb0JBQUU7QUFBRSxrQkFBQUYsR0FBRSxlQUFhQSxHQUFFLGlCQUFlSTtBQUFFO0FBQUEsZ0JBQUs7QUFBQyxnQkFBQUosR0FBRSxnQkFBYyxHQUFHLEdBQUcsS0FBSyxNQUFLQSxJQUFFLElBQUcsRUFBRSxHQUFFLENBQUM7QUFBRTtBQUFBLGNBQUs7QUFBQyxpQkFBR0EsSUFBRSxJQUFHLEVBQUU7QUFBRTtBQUFBLFlBQU0sS0FBSztBQUFFLGlCQUFHQSxJQUFFRSxFQUFDO0FBQUUsbUJBQUlBLEtBQUUsYUFDaGZBLEdBQUU7QUFBTSxrQkFBRUYsR0FBRTtBQUFXLG1CQUFJSSxLQUFFLElBQUcsSUFBRUYsTUFBRztBQUFDLG9CQUFJLElBQUUsS0FBRyxHQUFHQSxFQUFDO0FBQUUsZ0JBQUFHLEtBQUUsS0FBRztBQUFFLG9CQUFFLEVBQUUsQ0FBQztBQUFFLG9CQUFFRCxPQUFJQSxLQUFFO0FBQUcsZ0JBQUFGLE1BQUcsQ0FBQ0c7QUFBQSxjQUFDO0FBQUMsY0FBQUgsS0FBRUU7QUFBRSxjQUFBRixLQUFFLEVBQUUsSUFBRUE7QUFBRSxjQUFBQSxNQUFHLE1BQUlBLEtBQUUsTUFBSSxNQUFJQSxLQUFFLE1BQUksT0FBS0EsS0FBRSxPQUFLLE9BQUtBLEtBQUUsT0FBSyxNQUFJQSxLQUFFLE1BQUksT0FBS0EsS0FBRSxPQUFLLE9BQUssR0FBR0EsS0FBRSxJQUFJLEtBQUdBO0FBQUUsa0JBQUcsS0FBR0EsSUFBRTtBQUFDLGdCQUFBRixHQUFFLGdCQUFjLEdBQUcsR0FBRyxLQUFLLE1BQUtBLElBQUUsSUFBRyxFQUFFLEdBQUVFLEVBQUM7QUFBRTtBQUFBLGNBQUs7QUFBQyxpQkFBR0YsSUFBRSxJQUFHLEVBQUU7QUFBRTtBQUFBLFlBQU0sS0FBSztBQUFFLGlCQUFHQSxJQUFFLElBQUcsRUFBRTtBQUFFO0FBQUEsWUFBTTtBQUFRLG9CQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUEsVUFBRTtBQUFBLFFBQUM7QUFBQSxNQUFDO0FBQUMsU0FBR0MsSUFBRSxFQUFFLENBQUM7QUFBRSxhQUFPQSxHQUFFLGlCQUFlQyxLQUFFLEdBQUcsS0FBSyxNQUFLRCxFQUFDLElBQUU7QUFBQSxJQUFJO0FBQ3JYLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsVUFBSUMsS0FBRTtBQUFHLE1BQUFELEdBQUUsUUFBUSxjQUFjLGlCQUFlLEdBQUdBLElBQUUsQ0FBQyxFQUFFLFNBQU87QUFBSyxNQUFBQSxLQUFFLEdBQUdBLElBQUUsQ0FBQztBQUFFLFlBQUlBLE9BQUksSUFBRSxJQUFHLEtBQUdDLElBQUUsU0FBTyxLQUFHLEdBQUcsQ0FBQztBQUFHLGFBQU9EO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRTtBQUFDLGVBQU8sS0FBRyxLQUFHQSxLQUFFLEdBQUcsS0FBSyxNQUFNLElBQUdBLEVBQUM7QUFBQSxJQUFDO0FBQzVMLGFBQVMsR0FBR0EsSUFBRTtBQUFDLGVBQVEsSUFBRUEsUUFBSTtBQUFDLFlBQUcsRUFBRSxRQUFNLE9BQU07QUFBQyxjQUFJQyxLQUFFLEVBQUU7QUFBWSxjQUFHLFNBQU9BLE9BQUlBLEtBQUVBLEdBQUUsUUFBTyxTQUFPQSxJQUFHLFVBQVFDLEtBQUUsR0FBRUEsS0FBRUQsR0FBRSxRQUFPQyxNQUFJO0FBQUMsZ0JBQUlFLEtBQUVILEdBQUVDLEVBQUMsR0FBRUcsS0FBRUQsR0FBRTtBQUFZLFlBQUFBLEtBQUVBLEdBQUU7QUFBTSxnQkFBRztBQUFDLGtCQUFHLENBQUMsR0FBR0MsR0FBRSxHQUFFRCxFQUFDLEVBQUUsUUFBTTtBQUFBLFlBQUUsU0FBTyxHQUFFO0FBQUMscUJBQU07QUFBQSxZQUFFO0FBQUEsVUFBQztBQUFBLFFBQUM7QUFBQyxRQUFBSCxLQUFFLEVBQUU7QUFBTSxZQUFHLEVBQUUsZUFBYSxTQUFPLFNBQU9BLEdBQUUsQ0FBQUEsR0FBRSxTQUFPLEdBQUUsSUFBRUE7QUFBQSxhQUFNO0FBQUMsY0FBRyxNQUFJRCxHQUFFO0FBQU0saUJBQUssU0FBTyxFQUFFLFdBQVM7QUFBQyxnQkFBRyxTQUFPLEVBQUUsVUFBUSxFQUFFLFdBQVNBLEdBQUUsUUFBTTtBQUFHLGdCQUFFLEVBQUU7QUFBQSxVQUFNO0FBQUMsWUFBRSxRQUFRLFNBQU8sRUFBRTtBQUFPLGNBQUUsRUFBRTtBQUFBLFFBQU87QUFBQSxNQUFDO0FBQUMsYUFBTTtBQUFBLElBQUU7QUFDbGEsYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxXQUFHLENBQUM7QUFBRyxXQUFHLENBQUM7QUFBRyxNQUFBQSxHQUFFLGtCQUFnQjtBQUFFLE1BQUFBLEdBQUUsZUFBYSxDQUFDO0FBQUUsV0FBSUEsS0FBRUEsR0FBRSxpQkFBZ0IsSUFBRSxLQUFHO0FBQUMsWUFBSUMsS0FBRSxLQUFHLEdBQUcsQ0FBQyxHQUFFQyxLQUFFLEtBQUdEO0FBQUUsUUFBQUQsR0FBRUMsRUFBQyxJQUFFO0FBQUcsYUFBRyxDQUFDQztBQUFBLE1BQUM7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHRixJQUFFO0FBQUMsVUFBRyxPQUFLLElBQUUsR0FBRyxPQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUUsU0FBRztBQUFFLFVBQUksSUFBRSxHQUFHQyxJQUFFLENBQUM7QUFBRSxVQUFHLE9BQUssSUFBRSxHQUFHLFFBQU8sR0FBR0EsSUFBRSxFQUFFLENBQUMsR0FBRTtBQUFLLFVBQUlDLEtBQUUsR0FBR0QsSUFBRSxDQUFDO0FBQUUsVUFBRyxNQUFJQSxHQUFFLE9BQUssTUFBSUMsSUFBRTtBQUFDLFlBQUlDLEtBQUUsR0FBR0YsRUFBQztBQUFFLGNBQUlFLE9BQUksSUFBRUEsSUFBRUQsS0FBRSxHQUFHRCxJQUFFRSxFQUFDO0FBQUEsTUFBRTtBQUFDLFVBQUcsTUFBSUQsR0FBRSxPQUFNQSxLQUFFLElBQUcsR0FBR0QsSUFBRSxDQUFDLEdBQUUsR0FBR0EsSUFBRSxDQUFDLEdBQUUsR0FBR0EsSUFBRSxFQUFFLENBQUMsR0FBRUM7QUFBRSxVQUFHLE1BQUlBLEdBQUUsT0FBTSxNQUFNRixHQUFFLEdBQUcsQ0FBQztBQUFFLE1BQUFDLEdBQUUsZUFBYUEsR0FBRSxRQUFRO0FBQVUsTUFBQUEsR0FBRSxnQkFBYztBQUFFLFNBQUdBLElBQUUsSUFBRyxFQUFFO0FBQUUsU0FBR0EsSUFBRSxFQUFFLENBQUM7QUFBRSxhQUFPO0FBQUEsSUFBSTtBQUN2ZCxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLFVBQUlDLEtBQUU7QUFBRSxXQUFHO0FBQUUsVUFBRztBQUFDLGVBQU9ELEdBQUUsQ0FBQztBQUFBLE1BQUMsVUFBQztBQUFRLFlBQUVDLElBQUUsTUFBSSxNQUFJLEtBQUcsRUFBRSxJQUFFLEtBQUksTUFBSSxHQUFHO0FBQUEsTUFBRTtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdELElBQUU7QUFBQyxlQUFPLE1BQUksTUFBSSxHQUFHLE9BQUssT0FBSyxJQUFFLE1BQUksR0FBRztBQUFFLFVBQUksSUFBRTtBQUFFLFdBQUc7QUFBRSxVQUFJQyxLQUFFLEdBQUcsWUFBV0MsS0FBRU07QUFBRSxVQUFHO0FBQUMsWUFBRyxHQUFHLGFBQVcsTUFBS0EsS0FBRSxHQUFFUixHQUFFLFFBQU9BLEdBQUU7QUFBQSxNQUFDLFVBQUM7QUFBUSxRQUFBUSxLQUFFTixJQUFFLEdBQUcsYUFBV0QsSUFBRSxJQUFFLEdBQUUsT0FBSyxJQUFFLE1BQUksR0FBRztBQUFBLE1BQUM7QUFBQSxJQUFDO0FBQUMsYUFBUyxLQUFJO0FBQUMsV0FBRyxHQUFHO0FBQVEsUUFBRSxFQUFFO0FBQUEsSUFBQztBQUNoVCxhQUFTLEdBQUdELElBQUUsR0FBRTtBQUFDLE1BQUFBLEdBQUUsZUFBYTtBQUFLLE1BQUFBLEdBQUUsZ0JBQWM7QUFBRSxVQUFJQyxLQUFFRCxHQUFFO0FBQWMsYUFBS0MsT0FBSUQsR0FBRSxnQkFBYyxJQUFHLEdBQUdDLEVBQUM7QUFBRyxVQUFHLFNBQU8sRUFBRSxNQUFJQSxLQUFFLEVBQUUsUUFBTyxTQUFPQSxNQUFHO0FBQUMsWUFBSUMsS0FBRUQ7QUFBRSxXQUFHQyxFQUFDO0FBQUUsZ0JBQU9BLEdBQUUsS0FBSTtBQUFBLFVBQUMsS0FBSztBQUFFLFlBQUFBLEtBQUVBLEdBQUUsS0FBSztBQUFrQixxQkFBT0EsTUFBRyxXQUFTQSxNQUFHLEdBQUc7QUFBRTtBQUFBLFVBQU0sS0FBSztBQUFFLGVBQUc7QUFBRSxjQUFFLEVBQUU7QUFBRSxjQUFFLENBQUM7QUFBRSxlQUFHO0FBQUU7QUFBQSxVQUFNLEtBQUs7QUFBRSxlQUFHQSxFQUFDO0FBQUU7QUFBQSxVQUFNLEtBQUs7QUFBRSxlQUFHO0FBQUU7QUFBQSxVQUFNLEtBQUs7QUFBRyxjQUFFLENBQUM7QUFBRTtBQUFBLFVBQU0sS0FBSztBQUFHLGNBQUUsQ0FBQztBQUFFO0FBQUEsVUFBTSxLQUFLO0FBQUcsZUFBR0EsR0FBRSxLQUFLLFFBQVE7QUFBRTtBQUFBLFVBQU0sS0FBSztBQUFBLFVBQUcsS0FBSztBQUFHLGVBQUc7QUFBQSxRQUFDO0FBQUMsUUFBQUQsS0FBRUEsR0FBRTtBQUFBLE1BQU07QUFBQyxNQUFBa0IsS0FBRW5CO0FBQUUsVUFBRUEsS0FBRSxHQUFHQSxHQUFFLFNBQVEsSUFBSTtBQUFFLFVBQUUsS0FBRztBQUFFLFVBQUU7QUFBRSxXQUFHO0FBQUssV0FBRyxLQUFHLEtBQUc7QUFBRSxXQUFHLEtBQUc7QUFBSyxVQUFHLFNBQU8sSUFBRztBQUFDLGFBQUksSUFDMWYsR0FBRSxJQUFFLEdBQUcsUUFBTyxJQUFJLEtBQUdDLEtBQUUsR0FBRyxDQUFDLEdBQUVDLEtBQUVELEdBQUUsYUFBWSxTQUFPQyxJQUFFO0FBQUMsVUFBQUQsR0FBRSxjQUFZO0FBQUssY0FBSUcsS0FBRUYsR0FBRSxNQUFLRyxLQUFFSixHQUFFO0FBQVEsY0FBRyxTQUFPSSxJQUFFO0FBQUMsZ0JBQUksSUFBRUEsR0FBRTtBQUFLLFlBQUFBLEdBQUUsT0FBS0Q7QUFBRSxZQUFBRixHQUFFLE9BQUs7QUFBQSxVQUFDO0FBQUMsVUFBQUQsR0FBRSxVQUFRQztBQUFBLFFBQUM7QUFBQyxhQUFHO0FBQUEsTUFBSTtBQUFDLGFBQU9GO0FBQUEsSUFBQztBQUMzSyxhQUFTLEdBQUdBLElBQUUsR0FBRTtBQUFDLFNBQUU7QUFBQyxZQUFJQyxLQUFFO0FBQUUsWUFBRztBQUFDLGFBQUc7QUFBRSxhQUFHLFVBQVE7QUFBRyxjQUFHLElBQUc7QUFBQyxxQkFBUUMsS0FBRSxFQUFFLGVBQWMsU0FBT0EsTUFBRztBQUFDLGtCQUFJRSxLQUFFRixHQUFFO0FBQU0sdUJBQU9FLE9BQUlBLEdBQUUsVUFBUTtBQUFNLGNBQUFGLEtBQUVBLEdBQUU7QUFBQSxZQUFJO0FBQUMsaUJBQUc7QUFBQSxVQUFFO0FBQUMsZUFBRztBQUFFLGNBQUUsSUFBRSxJQUFFO0FBQUssZUFBRztBQUFHLGVBQUc7QUFBRSxhQUFHLFVBQVE7QUFBSyxjQUFHLFNBQU9ELE1BQUcsU0FBT0EsR0FBRSxRQUFPO0FBQUMsZ0JBQUU7QUFBRSxpQkFBRztBQUFFLGdCQUFFO0FBQUs7QUFBQSxVQUFLO0FBQUMsYUFBRTtBQUFDLGdCQUFJSSxLQUFFTCxJQUFFLElBQUVDLEdBQUUsUUFBT00sS0FBRU4sSUFBRSxJQUFFO0FBQUUsZ0JBQUU7QUFBRSxZQUFBTSxHQUFFLFNBQU87QUFBTSxnQkFBRyxTQUFPLEtBQUcsYUFBVyxPQUFPLEtBQUcsZUFBYSxPQUFPLEVBQUUsTUFBSztBQUFDLGtCQUFJRCxLQUFFLEdBQUUsSUFBRUMsSUFBRSxJQUFFLEVBQUU7QUFBSSxrQkFBRyxPQUFLLEVBQUUsT0FBSyxPQUFLLE1BQUksS0FBRyxPQUFLLEtBQUcsT0FBSyxJQUFHO0FBQUMsb0JBQUlTLEtBQUUsRUFBRTtBQUFVLGdCQUFBQSxNQUFHLEVBQUUsY0FBWUEsR0FBRSxhQUFZLEVBQUUsZ0JBQWNBLEdBQUUsZUFDeGUsRUFBRSxRQUFNQSxHQUFFLFVBQVEsRUFBRSxjQUFZLE1BQUssRUFBRSxnQkFBYztBQUFBLGNBQUs7QUFBQyxrQkFBSUMsS0FBRSxHQUFHLENBQUM7QUFBRSxrQkFBRyxTQUFPQSxJQUFFO0FBQUMsZ0JBQUFBLEdBQUUsU0FBTztBQUFLLG1CQUFHQSxJQUFFLEdBQUVWLElBQUVGLElBQUUsQ0FBQztBQUFFLGdCQUFBWSxHQUFFLE9BQUssS0FBRyxHQUFHWixJQUFFQyxJQUFFLENBQUM7QUFBRSxvQkFBRVc7QUFBRSxvQkFBRVg7QUFBRSxvQkFBSU0sS0FBRSxFQUFFO0FBQVksb0JBQUcsU0FBT0EsSUFBRTtBQUFDLHNCQUFJQyxLQUFFLG9CQUFJO0FBQUksa0JBQUFBLEdBQUUsSUFBSSxDQUFDO0FBQUUsb0JBQUUsY0FBWUE7QUFBQSxnQkFBQyxNQUFNLENBQUFELEdBQUUsSUFBSSxDQUFDO0FBQUUsc0JBQU07QUFBQSxjQUFDLE9BQUs7QUFBQyxvQkFBRyxPQUFLLElBQUUsSUFBRztBQUFDLHFCQUFHUCxJQUFFQyxJQUFFLENBQUM7QUFBRSxxQkFBRztBQUFFLHdCQUFNO0FBQUEsZ0JBQUM7QUFBQyxvQkFBRSxNQUFNUCxHQUFFLEdBQUcsQ0FBQztBQUFBLGNBQUM7QUFBQSxZQUFDLFdBQVNnQixNQUFHUixHQUFFLE9BQUssR0FBRTtBQUFDLGtCQUFJLElBQUUsR0FBRyxDQUFDO0FBQUUsa0JBQUcsU0FBTyxHQUFFO0FBQUMsdUJBQUssRUFBRSxRQUFNLFdBQVMsRUFBRSxTQUFPO0FBQUssbUJBQUcsR0FBRSxHQUFFQSxJQUFFRixJQUFFLENBQUM7QUFBRSxtQkFBRyxHQUFHLEdBQUVFLEVBQUMsQ0FBQztBQUFFLHNCQUFNO0FBQUEsY0FBQztBQUFBLFlBQUM7QUFBQyxZQUFBRixLQUFFLElBQUUsR0FBRyxHQUFFRSxFQUFDO0FBQUUsa0JBQUksTUFBSSxJQUFFO0FBQUcscUJBQU8sS0FBRyxLQUFHLENBQUNGLEVBQUMsSUFBRSxHQUFHLEtBQUtBLEVBQUM7QUFBRSxZQUFBQSxLQUFFO0FBQUUsZUFBRTtBQUFDLHNCQUFPQSxHQUFFLEtBQUk7QUFBQSxnQkFBQyxLQUFLO0FBQUUsa0JBQUFBLEdBQUUsU0FBTztBQUNwZix1QkFBRyxDQUFDO0FBQUUsa0JBQUFBLEdBQUUsU0FBTztBQUFFLHNCQUFJLElBQUUsR0FBR0EsSUFBRSxHQUFFLENBQUM7QUFBRSxxQkFBR0EsSUFBRSxDQUFDO0FBQUUsd0JBQU07QUFBQSxnQkFBRSxLQUFLO0FBQUUsa0JBQUFFLEtBQUU7QUFBRSxzQkFBSSxJQUFFRixHQUFFLE1BQUtTLEtBQUVULEdBQUU7QUFBVSxzQkFBRyxPQUFLQSxHQUFFLFFBQU0sU0FBTyxlQUFhLE9BQU8sRUFBRSw0QkFBMEIsU0FBT1MsTUFBRyxlQUFhLE9BQU9BLEdBQUUsc0JBQW9CLFNBQU8sTUFBSSxDQUFDLEdBQUcsSUFBSUEsRUFBQyxLQUFJO0FBQUMsb0JBQUFULEdBQUUsU0FBTztBQUFNLHlCQUFHLENBQUM7QUFBRSxvQkFBQUEsR0FBRSxTQUFPO0FBQUUsd0JBQUksSUFBRSxHQUFHQSxJQUFFRSxJQUFFLENBQUM7QUFBRSx1QkFBR0YsSUFBRSxDQUFDO0FBQUUsMEJBQU07QUFBQSxrQkFBQztBQUFBLGNBQUM7QUFBQyxjQUFBQSxLQUFFQSxHQUFFO0FBQUEsWUFBTSxTQUFPLFNBQU9BO0FBQUEsVUFBRTtBQUFDLGFBQUdKLEVBQUM7QUFBQSxRQUFDLFNBQU8sSUFBRztBQUFDLGNBQUU7QUFBRyxnQkFBSUEsTUFBRyxTQUFPQSxPQUFJLElBQUVBLEtBQUVBLEdBQUU7QUFBUTtBQUFBLFFBQVE7QUFBQztBQUFBLE1BQUssU0FBTztBQUFBLElBQUU7QUFBQyxhQUFTLEtBQUk7QUFBQyxVQUFJRCxLQUFFLEdBQUc7QUFBUSxTQUFHLFVBQVE7QUFBRyxhQUFPLFNBQU9BLEtBQUUsS0FBR0E7QUFBQSxJQUFDO0FBQ3JkLGFBQVMsS0FBSTtBQUFDLFVBQUcsTUFBSSxLQUFHLE1BQUksS0FBRyxNQUFJLEVBQUUsS0FBRTtBQUFFLGVBQU9tQixNQUFHLE9BQUssS0FBRyxjQUFZLE9BQUssS0FBRyxjQUFZLEdBQUdBLElBQUUsQ0FBQztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUduQixJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFO0FBQUUsV0FBRztBQUFFLFVBQUlDLEtBQUUsR0FBRztBQUFFLFVBQUdpQixPQUFJbkIsTUFBRyxNQUFJLEVBQUUsTUFBRyxNQUFLLEdBQUdBLElBQUUsQ0FBQztBQUFFO0FBQUcsWUFBRztBQUFDLGFBQUc7QUFBRTtBQUFBLFFBQUssU0FBT0ksSUFBRTtBQUFDLGFBQUdKLElBQUVJLEVBQUM7QUFBQSxRQUFDO0FBQUEsYUFBTztBQUFHLFNBQUc7QUFBRSxVQUFFSDtBQUFFLFNBQUcsVUFBUUM7QUFBRSxVQUFHLFNBQU8sRUFBRSxPQUFNLE1BQU1ILEdBQUUsR0FBRyxDQUFDO0FBQUUsTUFBQW9CLEtBQUU7QUFBSyxVQUFFO0FBQUUsYUFBTztBQUFBLElBQUM7QUFBQyxhQUFTLEtBQUk7QUFBQyxhQUFLLFNBQU8sSUFBRyxJQUFHLENBQUM7QUFBQSxJQUFDO0FBQUMsYUFBUyxLQUFJO0FBQUMsYUFBSyxTQUFPLEtBQUcsQ0FBQyxHQUFHLElBQUcsSUFBRyxDQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR25CLElBQUU7QUFBQyxVQUFJLElBQUUsR0FBR0EsR0FBRSxXQUFVQSxJQUFFLEVBQUU7QUFBRSxNQUFBQSxHQUFFLGdCQUFjQSxHQUFFO0FBQWEsZUFBTyxJQUFFLEdBQUdBLEVBQUMsSUFBRSxJQUFFO0FBQUUsU0FBRyxVQUFRO0FBQUEsSUFBSTtBQUMxZCxhQUFTLEdBQUdBLElBQUU7QUFBQyxVQUFJLElBQUVBO0FBQUUsU0FBRTtBQUFDLFlBQUlDLEtBQUUsRUFBRTtBQUFVLFFBQUFELEtBQUUsRUFBRTtBQUFPLFlBQUcsT0FBSyxFQUFFLFFBQU0sUUFBTztBQUFDLGNBQUdDLEtBQUUsR0FBR0EsSUFBRSxHQUFFLEVBQUUsR0FBRSxTQUFPQSxJQUFFO0FBQUMsZ0JBQUVBO0FBQUU7QUFBQSxVQUFNO0FBQUEsUUFBQyxPQUFLO0FBQUMsVUFBQUEsS0FBRSxHQUFHQSxJQUFFLENBQUM7QUFBRSxjQUFHLFNBQU9BLElBQUU7QUFBQyxZQUFBQSxHQUFFLFNBQU87QUFBTSxnQkFBRUE7QUFBRTtBQUFBLFVBQU07QUFBQyxjQUFHLFNBQU9ELEdBQUUsQ0FBQUEsR0FBRSxTQUFPLE9BQU1BLEdBQUUsZUFBYSxHQUFFQSxHQUFFLFlBQVU7QUFBQSxlQUFTO0FBQUMsZ0JBQUU7QUFBRSxnQkFBRTtBQUFLO0FBQUEsVUFBTTtBQUFBLFFBQUM7QUFBQyxZQUFFLEVBQUU7QUFBUSxZQUFHLFNBQU8sR0FBRTtBQUFDLGNBQUU7QUFBRTtBQUFBLFFBQU07QUFBQyxZQUFFLElBQUVBO0FBQUEsTUFBQyxTQUFPLFNBQU87QUFBRyxZQUFJLE1BQUksSUFBRTtBQUFBLElBQUU7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUVNLElBQUVKLEtBQUUsR0FBRztBQUFXLFVBQUc7QUFBQyxXQUFHLGFBQVcsTUFBS0ksS0FBRSxHQUFFLEdBQUdSLElBQUUsR0FBRUMsSUFBRUMsRUFBQztBQUFBLE1BQUMsVUFBQztBQUFRLFdBQUcsYUFBV0UsSUFBRUksS0FBRU47QUFBQSxNQUFDO0FBQUMsYUFBTztBQUFBLElBQUk7QUFDaGMsYUFBUyxHQUFHRixJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQztBQUFHLFdBQUc7QUFBQSxhQUFRLFNBQU87QUFBSSxVQUFHLE9BQUssSUFBRSxHQUFHLE9BQU0sTUFBTUgsR0FBRSxHQUFHLENBQUM7QUFBRSxNQUFBRSxLQUFFRCxHQUFFO0FBQWEsVUFBSUksS0FBRUosR0FBRTtBQUFjLFVBQUcsU0FBT0MsR0FBRSxRQUFPO0FBQUssTUFBQUQsR0FBRSxlQUFhO0FBQUssTUFBQUEsR0FBRSxnQkFBYztBQUFFLFVBQUdDLE9BQUlELEdBQUUsUUFBUSxPQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUUsTUFBQUMsR0FBRSxlQUFhO0FBQUssTUFBQUEsR0FBRSxtQkFBaUI7QUFBRSxVQUFJSyxLQUFFSixHQUFFLFFBQU1BLEdBQUU7QUFBVyxTQUFHRCxJQUFFSyxFQUFDO0FBQUUsTUFBQUwsT0FBSW1CLE9BQUksSUFBRUEsS0FBRSxNQUFLLElBQUU7QUFBRyxhQUFLbEIsR0FBRSxlQUFhLFNBQU8sT0FBS0EsR0FBRSxRQUFNLFNBQU8sT0FBSyxLQUFHLE1BQUcsR0FBRyxJQUFHLFdBQVU7QUFBQyxXQUFHO0FBQUUsZUFBTztBQUFBLE1BQUksQ0FBQztBQUFHLE1BQUFJLEtBQUUsT0FBS0osR0FBRSxRQUFNO0FBQU8sVUFBRyxPQUFLQSxHQUFFLGVBQWEsVUFBUUksSUFBRTtBQUFDLFFBQUFBLEtBQUUsR0FBRztBQUFXLFdBQUcsYUFBVztBQUNoZixZQUFJLElBQUVHO0FBQUUsUUFBQUEsS0FBRTtBQUFFLFlBQUlELEtBQUU7QUFBRSxhQUFHO0FBQUUsV0FBRyxVQUFRO0FBQUssV0FBR1AsSUFBRUMsRUFBQztBQUFFLFdBQUdBLElBQUVELEVBQUM7QUFBRSxXQUFHLEVBQUU7QUFBRSxhQUFHLENBQUMsQ0FBQztBQUFHLGFBQUcsS0FBRztBQUFLLFFBQUFBLEdBQUUsVUFBUUM7QUFBRSxXQUFHQSxJQUFFRCxJQUFFSSxFQUFDO0FBQUUsV0FBRztBQUFFLFlBQUVHO0FBQUUsUUFBQUMsS0FBRTtBQUFFLFdBQUcsYUFBV0g7QUFBQSxNQUFDLE1BQU0sQ0FBQUwsR0FBRSxVQUFRQztBQUFFLGFBQUssS0FBRyxPQUFHLEtBQUdELElBQUUsS0FBR0k7QUFBRyxNQUFBQyxLQUFFTCxHQUFFO0FBQWEsWUFBSUssT0FBSSxLQUFHO0FBQU0sU0FBR0osR0FBRSxXQUFVQyxFQUFDO0FBQUUsU0FBR0YsSUFBRSxFQUFFLENBQUM7QUFBRSxVQUFHLFNBQU8sRUFBRSxNQUFJRSxLQUFFRixHQUFFLG9CQUFtQkMsS0FBRSxHQUFFQSxLQUFFLEVBQUUsUUFBT0EsS0FBSSxDQUFBRyxLQUFFLEVBQUVILEVBQUMsR0FBRUMsR0FBRUUsR0FBRSxPQUFNLEVBQUMsZ0JBQWVBLEdBQUUsT0FBTSxRQUFPQSxHQUFFLE9BQU0sQ0FBQztBQUFFLFVBQUcsR0FBRyxPQUFNLEtBQUcsT0FBR0osS0FBRSxJQUFHLEtBQUcsTUFBS0E7QUFBRSxhQUFLLEtBQUcsTUFBSSxNQUFJQSxHQUFFLE9BQUssR0FBRztBQUFFLE1BQUFLLEtBQUVMLEdBQUU7QUFBYSxhQUFLSyxLQUFFLEtBQUdMLE9BQUksS0FBRyxRQUFNLEtBQUcsR0FBRSxLQUFHQSxNQUFHLEtBQUc7QUFBRSxTQUFHO0FBQUUsYUFBTztBQUFBLElBQUk7QUFDcmUsYUFBUyxLQUFJO0FBQUMsVUFBRyxTQUFPLElBQUc7QUFBQyxZQUFJQSxLQUFFLEdBQUcsRUFBRSxHQUFFLElBQUUsR0FBRyxZQUFXQyxLQUFFTztBQUFFLFlBQUc7QUFBQyxhQUFHLGFBQVc7QUFBSyxVQUFBQSxLQUFFLEtBQUdSLEtBQUUsS0FBR0E7QUFBRSxjQUFHLFNBQU8sR0FBRyxLQUFJRSxLQUFFO0FBQUEsZUFBTztBQUFDLFlBQUFGLEtBQUU7QUFBRyxpQkFBRztBQUFLLGlCQUFHO0FBQUUsZ0JBQUcsT0FBSyxJQUFFLEdBQUcsT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLGdCQUFJSyxLQUFFO0FBQUUsaUJBQUc7QUFBRSxpQkFBSSxJQUFFSixHQUFFLFNBQVEsU0FBTyxLQUFHO0FBQUMsa0JBQUlLLEtBQUUsR0FBRSxJQUFFQSxHQUFFO0FBQU0sa0JBQUcsT0FBSyxFQUFFLFFBQU0sS0FBSTtBQUFDLG9CQUFJRSxLQUFFRixHQUFFO0FBQVUsb0JBQUcsU0FBT0UsSUFBRTtBQUFDLDJCQUFRLElBQUUsR0FBRSxJQUFFQSxHQUFFLFFBQU8sS0FBSTtBQUFDLHdCQUFJRCxLQUFFQyxHQUFFLENBQUM7QUFBRSx5QkFBSSxJQUFFRCxJQUFFLFNBQU8sS0FBRztBQUFDLDBCQUFJLElBQUU7QUFBRSw4QkFBTyxFQUFFLEtBQUk7QUFBQSx3QkFBQyxLQUFLO0FBQUEsd0JBQUUsS0FBSztBQUFBLHdCQUFHLEtBQUs7QUFBRyw2QkFBRyxHQUFFLEdBQUVELEVBQUM7QUFBQSxzQkFBQztBQUFDLDBCQUFJLElBQUUsRUFBRTtBQUFNLDBCQUFHLFNBQU8sRUFBRSxHQUFFLFNBQU8sR0FBRSxJQUFFO0FBQUEsMEJBQU8sUUFBSyxTQUFPLEtBQUc7QUFBQyw0QkFBRTtBQUFFLDRCQUFJVyxLQUFFLEVBQUUsU0FBUUMsS0FBRSxFQUFFO0FBQU8sMkJBQUcsQ0FBQztBQUFFLDRCQUFHLE1BQ25mWCxJQUFFO0FBQUMsOEJBQUU7QUFBSztBQUFBLHdCQUFLO0FBQUMsNEJBQUcsU0FBT1UsSUFBRTtBQUFDLDBCQUFBQSxHQUFFLFNBQU9DO0FBQUUsOEJBQUVEO0FBQUU7QUFBQSx3QkFBSztBQUFDLDRCQUFFQztBQUFBLHNCQUFDO0FBQUEsb0JBQUM7QUFBQSxrQkFBQztBQUFDLHNCQUFJTCxLQUFFUCxHQUFFO0FBQVUsc0JBQUcsU0FBT08sSUFBRTtBQUFDLHdCQUFJQyxLQUFFRCxHQUFFO0FBQU0sd0JBQUcsU0FBT0MsSUFBRTtBQUFDLHNCQUFBRCxHQUFFLFFBQU07QUFBSyx5QkFBRTtBQUFDLDRCQUFJLElBQUVDLEdBQUU7QUFBUSx3QkFBQUEsR0FBRSxVQUFRO0FBQUssd0JBQUFBLEtBQUU7QUFBQSxzQkFBQyxTQUFPLFNBQU9BO0FBQUEsb0JBQUU7QUFBQSxrQkFBQztBQUFDLHNCQUFFUjtBQUFBLGdCQUFDO0FBQUEsY0FBQztBQUFDLGtCQUFHLE9BQUtBLEdBQUUsZUFBYSxTQUFPLFNBQU8sRUFBRSxHQUFFLFNBQU9BLElBQUUsSUFBRTtBQUFBLGtCQUFPLEdBQUUsUUFBSyxTQUFPLEtBQUc7QUFBQyxnQkFBQUEsS0FBRTtBQUFFLG9CQUFHLE9BQUtBLEdBQUUsUUFBTSxNQUFNLFNBQU9BLEdBQUUsS0FBSTtBQUFBLGtCQUFDLEtBQUs7QUFBQSxrQkFBRSxLQUFLO0FBQUEsa0JBQUcsS0FBSztBQUFHLHVCQUFHLEdBQUVBLElBQUVBLEdBQUUsTUFBTTtBQUFBLGdCQUFDO0FBQUMsb0JBQUksSUFBRUEsR0FBRTtBQUFRLG9CQUFHLFNBQU8sR0FBRTtBQUFDLG9CQUFFLFNBQU9BLEdBQUU7QUFBTyxzQkFBRTtBQUFFLHdCQUFNO0FBQUEsZ0JBQUM7QUFBQyxvQkFBRUEsR0FBRTtBQUFBLGNBQU07QUFBQSxZQUFDO0FBQUMsZ0JBQUksSUFBRUwsR0FBRTtBQUFRLGlCQUFJLElBQUUsR0FBRSxTQUFPLEtBQUc7QUFBQyxrQkFBRTtBQUFFLGtCQUFJYyxLQUFFLEVBQUU7QUFBTSxrQkFBRyxPQUFLLEVBQUUsZUFBYSxTQUFPLFNBQ2xmQSxHQUFFLENBQUFBLEdBQUUsU0FBTyxHQUFFLElBQUVBO0FBQUEsa0JBQU8sR0FBRSxNQUFJLElBQUUsR0FBRSxTQUFPLEtBQUc7QUFBQyxnQkFBQVAsS0FBRTtBQUFFLG9CQUFHLE9BQUtBLEdBQUUsUUFBTSxNQUFNLEtBQUc7QUFBQywwQkFBT0EsR0FBRSxLQUFJO0FBQUEsb0JBQUMsS0FBSztBQUFBLG9CQUFFLEtBQUs7QUFBQSxvQkFBRyxLQUFLO0FBQUcseUJBQUcsR0FBRUEsRUFBQztBQUFBLGtCQUFDO0FBQUEsZ0JBQUMsU0FBTyxJQUFHO0FBQUMsb0JBQUVBLElBQUVBLEdBQUUsUUFBTyxFQUFFO0FBQUEsZ0JBQUM7QUFBQyxvQkFBR0EsT0FBSSxHQUFFO0FBQUMsc0JBQUU7QUFBSyx3QkFBTTtBQUFBLGdCQUFDO0FBQUMsb0JBQUksSUFBRUEsR0FBRTtBQUFRLG9CQUFHLFNBQU8sR0FBRTtBQUFDLG9CQUFFLFNBQU9BLEdBQUU7QUFBTyxzQkFBRTtBQUFFLHdCQUFNO0FBQUEsZ0JBQUM7QUFBQyxvQkFBRUEsR0FBRTtBQUFBLGNBQU07QUFBQSxZQUFDO0FBQUMsZ0JBQUVIO0FBQUUsZUFBRztBQUFFLGdCQUFHLE1BQUksZUFBYSxPQUFPLEdBQUcsc0JBQXNCLEtBQUc7QUFBQyxpQkFBRyxzQkFBc0IsSUFBR0osRUFBQztBQUFBLFlBQUMsU0FBTyxJQUFHO0FBQUEsWUFBQztBQUFDLFlBQUFFLEtBQUU7QUFBQSxVQUFFO0FBQUMsaUJBQU9BO0FBQUEsUUFBQyxVQUFDO0FBQVEsVUFBQU0sS0FBRVAsSUFBRSxHQUFHLGFBQVc7QUFBQSxRQUFDO0FBQUEsTUFBQztBQUFDLGFBQU07QUFBQSxJQUFFO0FBQUMsYUFBUyxHQUFHRCxJQUFFLEdBQUVDLElBQUU7QUFBQyxVQUFFLEdBQUdBLElBQUUsQ0FBQztBQUFFLFVBQUUsR0FBR0QsSUFBRSxHQUFFLENBQUM7QUFBRSxNQUFBQSxLQUFFLEdBQUdBLElBQUUsR0FBRSxDQUFDO0FBQUUsVUFBRSxFQUFFO0FBQUUsZUFBT0EsT0FBSSxHQUFHQSxJQUFFLEdBQUUsQ0FBQyxHQUFFLEdBQUdBLElBQUUsQ0FBQztBQUFBLElBQUU7QUFDemUsYUFBUyxFQUFFQSxJQUFFLEdBQUVDLElBQUU7QUFBQyxVQUFHLE1BQUlELEdBQUUsSUFBSSxJQUFHQSxJQUFFQSxJQUFFQyxFQUFDO0FBQUEsVUFBTyxRQUFLLFNBQU8sS0FBRztBQUFDLFlBQUcsTUFBSSxFQUFFLEtBQUk7QUFBQyxhQUFHLEdBQUVELElBQUVDLEVBQUM7QUFBRTtBQUFBLFFBQUssV0FBUyxNQUFJLEVBQUUsS0FBSTtBQUFDLGNBQUlDLEtBQUUsRUFBRTtBQUFVLGNBQUcsZUFBYSxPQUFPLEVBQUUsS0FBSyw0QkFBMEIsZUFBYSxPQUFPQSxHQUFFLHNCQUFvQixTQUFPLE1BQUksQ0FBQyxHQUFHLElBQUlBLEVBQUMsSUFBRztBQUFDLFlBQUFGLEtBQUUsR0FBR0MsSUFBRUQsRUFBQztBQUFFLFlBQUFBLEtBQUUsR0FBRyxHQUFFQSxJQUFFLENBQUM7QUFBRSxnQkFBRSxHQUFHLEdBQUVBLElBQUUsQ0FBQztBQUFFLFlBQUFBLEtBQUUsRUFBRTtBQUFFLHFCQUFPLE1BQUksR0FBRyxHQUFFLEdBQUVBLEVBQUMsR0FBRSxHQUFHLEdBQUVBLEVBQUM7QUFBRztBQUFBLFVBQUs7QUFBQSxRQUFDO0FBQUMsWUFBRSxFQUFFO0FBQUEsTUFBTTtBQUFBLElBQUM7QUFDblYsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUU7QUFBQyxVQUFJQyxLQUFFRixHQUFFO0FBQVUsZUFBT0UsTUFBR0EsR0FBRSxPQUFPLENBQUM7QUFBRSxVQUFFLEVBQUU7QUFBRSxNQUFBRixHQUFFLGVBQWFBLEdBQUUsaUJBQWVDO0FBQUUsTUFBQWtCLE9BQUluQixPQUFJLElBQUVDLFFBQUtBLE9BQUksTUFBSSxLQUFHLE1BQUksTUFBSSxJQUFFLGVBQWEsS0FBRyxNQUFJLEVBQUUsSUFBRSxLQUFHLEdBQUdELElBQUUsQ0FBQyxJQUFFLE1BQUlDO0FBQUcsU0FBR0QsSUFBRSxDQUFDO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsWUFBSSxNQUFJLE9BQUtBLEdBQUUsT0FBSyxLQUFHLElBQUUsS0FBRyxJQUFFLElBQUcsT0FBSyxHQUFFLE9BQUssS0FBRyxlQUFhLEtBQUc7QUFBVyxVQUFJQyxLQUFFLEVBQUU7QUFBRSxNQUFBRCxLQUFFLEdBQUdBLElBQUUsQ0FBQztBQUFFLGVBQU9BLE9BQUksR0FBR0EsSUFBRSxHQUFFQyxFQUFDLEdBQUUsR0FBR0QsSUFBRUMsRUFBQztBQUFBLElBQUU7QUFBQyxhQUFTLEdBQUdELElBQUU7QUFBQyxVQUFJLElBQUVBLEdBQUUsZUFBY0MsS0FBRTtBQUFFLGVBQU8sTUFBSUEsS0FBRSxFQUFFO0FBQVcsU0FBR0QsSUFBRUMsRUFBQztBQUFBLElBQUM7QUFDalosYUFBUyxHQUFHRCxJQUFFLEdBQUU7QUFBQyxVQUFJQyxLQUFFO0FBQUUsY0FBT0QsR0FBRSxLQUFJO0FBQUEsUUFBQyxLQUFLO0FBQUcsY0FBSUUsS0FBRUYsR0FBRTtBQUFVLGNBQUlJLEtBQUVKLEdBQUU7QUFBYyxtQkFBT0ksT0FBSUgsS0FBRUcsR0FBRTtBQUFXO0FBQUEsUUFBTSxLQUFLO0FBQUcsVUFBQUYsS0FBRUYsR0FBRTtBQUFVO0FBQUEsUUFBTTtBQUFRLGdCQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUEsTUFBRTtBQUFDLGVBQU9HLE1BQUdBLEdBQUUsT0FBTyxDQUFDO0FBQUUsU0FBR0YsSUFBRUMsRUFBQztBQUFBLElBQUM7QUFBQyxRQUFJO0FBQ2xOLFNBQUcsU0FBU0QsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBRyxTQUFPRCxHQUFFLEtBQUdBLEdBQUUsa0JBQWdCLEVBQUUsZ0JBQWMsR0FBRyxRQUFRLE1BQUc7QUFBQSxXQUFPO0FBQUMsWUFBRyxPQUFLQSxHQUFFLFFBQU1DLE9BQUksT0FBSyxFQUFFLFFBQU0sS0FBSyxRQUFPLEtBQUcsT0FBRyxHQUFHRCxJQUFFLEdBQUVDLEVBQUM7QUFBRSxhQUFHLE9BQUtELEdBQUUsUUFBTSxVQUFRLE9BQUc7QUFBQSxNQUFFO0FBQUEsVUFBTSxNQUFHLE9BQUdlLE1BQUcsT0FBSyxFQUFFLFFBQU0sWUFBVSxHQUFHLEdBQUUsSUFBRyxFQUFFLEtBQUs7QUFBRSxRQUFFLFFBQU07QUFBRSxjQUFPLEVBQUUsS0FBSTtBQUFBLFFBQUMsS0FBSztBQUFFLGNBQUliLEtBQUUsRUFBRTtBQUFLLGFBQUdGLElBQUUsQ0FBQztBQUFFLFVBQUFBLEtBQUUsRUFBRTtBQUFhLGNBQUlJLEtBQUUsR0FBRyxHQUFFLEVBQUUsT0FBTztBQUFFLGFBQUcsR0FBRUgsRUFBQztBQUFFLFVBQUFHLEtBQUUsR0FBRyxNQUFLLEdBQUVGLElBQUVGLElBQUVJLElBQUVILEVBQUM7QUFBRSxjQUFJSSxLQUFFLEdBQUc7QUFBRSxZQUFFLFNBQU87QUFBRSx1QkFBVyxPQUFPRCxNQUFHLFNBQU9BLE1BQUcsZUFBYSxPQUFPQSxHQUFFLFVBQVEsV0FBU0EsR0FBRSxZQUFVLEVBQUUsTUFBSSxHQUFFLEVBQUUsZ0JBQWMsTUFBSyxFQUFFLGNBQzFlLE1BQUssR0FBR0YsRUFBQyxLQUFHRyxLQUFFLE1BQUcsR0FBRyxDQUFDLEtBQUdBLEtBQUUsT0FBRyxFQUFFLGdCQUFjLFNBQU9ELEdBQUUsU0FBTyxXQUFTQSxHQUFFLFFBQU1BLEdBQUUsUUFBTSxNQUFLLEdBQUcsQ0FBQyxHQUFFQSxHQUFFLFVBQVEsSUFBRyxFQUFFLFlBQVVBLElBQUVBLEdBQUUsa0JBQWdCLEdBQUUsR0FBRyxHQUFFRixJQUFFRixJQUFFQyxFQUFDLEdBQUUsSUFBRSxHQUFHLE1BQUssR0FBRUMsSUFBRSxNQUFHRyxJQUFFSixFQUFDLE1BQUksRUFBRSxNQUFJLEdBQUVjLE1BQUdWLE1BQUcsR0FBRyxDQUFDLEdBQUUsR0FBRyxNQUFLLEdBQUVELElBQUVILEVBQUMsR0FBRSxJQUFFLEVBQUU7QUFBTyxpQkFBTztBQUFBLFFBQUUsS0FBSztBQUFHLFVBQUFDLEtBQUUsRUFBRTtBQUFZLGFBQUU7QUFBQyxlQUFHRixJQUFFLENBQUM7QUFBRSxZQUFBQSxLQUFFLEVBQUU7QUFBYSxZQUFBSSxLQUFFRixHQUFFO0FBQU0sWUFBQUEsS0FBRUUsR0FBRUYsR0FBRSxRQUFRO0FBQUUsY0FBRSxPQUFLQTtBQUFFLFlBQUFFLEtBQUUsRUFBRSxNQUFJLEdBQUdGLEVBQUM7QUFBRSxZQUFBRixLQUFFLEdBQUdFLElBQUVGLEVBQUM7QUFBRSxvQkFBT0ksSUFBRTtBQUFBLGNBQUMsS0FBSztBQUFFLG9CQUFFLEdBQUcsTUFBSyxHQUFFRixJQUFFRixJQUFFQyxFQUFDO0FBQUUsc0JBQU07QUFBQSxjQUFFLEtBQUs7QUFBRSxvQkFBRSxHQUFHLE1BQUssR0FBRUMsSUFBRUYsSUFBRUMsRUFBQztBQUFFLHNCQUFNO0FBQUEsY0FBRSxLQUFLO0FBQUcsb0JBQUUsR0FBRyxNQUFLLEdBQUVDLElBQUVGLElBQUVDLEVBQUM7QUFBRSxzQkFBTTtBQUFBLGNBQUUsS0FBSztBQUFHLG9CQUFFLEdBQUcsTUFBSyxHQUFFQyxJQUFFLEdBQUdBLEdBQUUsTUFBS0YsRUFBQyxHQUFFQyxFQUFDO0FBQUUsc0JBQU07QUFBQSxZQUFDO0FBQUMsa0JBQU0sTUFBTUY7QUFBQSxjQUFFO0FBQUEsY0FDdmdCRztBQUFBLGNBQUU7QUFBQSxZQUFFLENBQUM7QUFBQSxVQUFFO0FBQUMsaUJBQU87QUFBQSxRQUFFLEtBQUs7QUFBRSxpQkFBT0EsS0FBRSxFQUFFLE1BQUtFLEtBQUUsRUFBRSxjQUFhQSxLQUFFLEVBQUUsZ0JBQWNGLEtBQUVFLEtBQUUsR0FBR0YsSUFBRUUsRUFBQyxHQUFFLEdBQUdKLElBQUUsR0FBRUUsSUFBRUUsSUFBRUgsRUFBQztBQUFBLFFBQUUsS0FBSztBQUFFLGlCQUFPQyxLQUFFLEVBQUUsTUFBS0UsS0FBRSxFQUFFLGNBQWFBLEtBQUUsRUFBRSxnQkFBY0YsS0FBRUUsS0FBRSxHQUFHRixJQUFFRSxFQUFDLEdBQUUsR0FBR0osSUFBRSxHQUFFRSxJQUFFRSxJQUFFSCxFQUFDO0FBQUEsUUFBRSxLQUFLO0FBQUUsYUFBRTtBQUFDLGVBQUcsQ0FBQztBQUFFLGdCQUFHLFNBQU9ELEdBQUUsT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLFlBQUFHLEtBQUUsRUFBRTtBQUFhLFlBQUFHLEtBQUUsRUFBRTtBQUFjLFlBQUFELEtBQUVDLEdBQUU7QUFBUSxlQUFHTCxJQUFFLENBQUM7QUFBRSxlQUFHLEdBQUVFLElBQUUsTUFBS0QsRUFBQztBQUFFLGdCQUFJLElBQUUsRUFBRTtBQUFjLFlBQUFDLEtBQUUsRUFBRTtBQUFRLGdCQUFHRyxHQUFFLGFBQWEsS0FBR0EsS0FBRSxFQUFDLFNBQVFILElBQUUsY0FBYSxPQUFHLE9BQU0sRUFBRSxPQUFNLDJCQUEwQixFQUFFLDJCQUEwQixhQUFZLEVBQUUsWUFBVyxHQUFFLEVBQUUsWUFBWSxZQUNoZkcsSUFBRSxFQUFFLGdCQUFjQSxJQUFFLEVBQUUsUUFBTSxLQUFJO0FBQUMsY0FBQUQsS0FBRSxHQUFHLE1BQU1MLEdBQUUsR0FBRyxDQUFDLEdBQUUsQ0FBQztBQUFFLGtCQUFFLEdBQUdDLElBQUUsR0FBRUUsSUFBRUQsSUFBRUcsRUFBQztBQUFFLG9CQUFNO0FBQUEsWUFBQyxXQUFTRixPQUFJRSxJQUFFO0FBQUMsY0FBQUEsS0FBRSxHQUFHLE1BQU1MLEdBQUUsR0FBRyxDQUFDLEdBQUUsQ0FBQztBQUFFLGtCQUFFLEdBQUdDLElBQUUsR0FBRUUsSUFBRUQsSUFBRUcsRUFBQztBQUFFLG9CQUFNO0FBQUEsWUFBQyxNQUFNLE1BQUksS0FBRyxHQUFHLEVBQUUsVUFBVSxjQUFjLFVBQVUsR0FBRSxLQUFHLEdBQUVXLEtBQUUsTUFBRyxLQUFHLE1BQUtkLEtBQUUsR0FBRyxHQUFFLE1BQUtDLElBQUVELEVBQUMsR0FBRSxFQUFFLFFBQU1BLElBQUVBLEtBQUcsQ0FBQUEsR0FBRSxRQUFNQSxHQUFFLFFBQU0sS0FBRyxNQUFLQSxLQUFFQSxHQUFFO0FBQUEsaUJBQVk7QUFBQyxpQkFBRztBQUFFLGtCQUFHQyxPQUFJRSxJQUFFO0FBQUMsb0JBQUUsR0FBR0osSUFBRSxHQUFFQyxFQUFDO0FBQUUsc0JBQU07QUFBQSxjQUFDO0FBQUMsaUJBQUdELElBQUUsR0FBRUUsSUFBRUQsRUFBQztBQUFBLFlBQUM7QUFBQyxnQkFBRSxFQUFFO0FBQUEsVUFBSztBQUFDLGlCQUFPO0FBQUEsUUFBRSxLQUFLO0FBQUUsaUJBQU8sR0FBRyxDQUFDLEdBQUUsU0FBT0QsTUFBRyxHQUFHLENBQUMsR0FBRUUsS0FBRSxFQUFFLE1BQUtFLEtBQUUsRUFBRSxjQUFhQyxLQUFFLFNBQU9MLEtBQUVBLEdBQUUsZ0JBQWMsTUFBSyxJQUFFSSxHQUFFLFVBQVMsR0FBR0YsSUFBRUUsRUFBQyxJQUFFLElBQUUsT0FBSyxTQUFPQyxNQUFHLEdBQUdILElBQUVHLEVBQUMsTUFBSSxFQUFFLFNBQU8sS0FDbmYsR0FBR0wsSUFBRSxDQUFDLEdBQUUsR0FBR0EsSUFBRSxHQUFFLEdBQUVDLEVBQUMsR0FBRSxFQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUUsaUJBQU8sU0FBT0QsTUFBRyxHQUFHLENBQUMsR0FBRTtBQUFBLFFBQUssS0FBSztBQUFHLGlCQUFPLEdBQUdBLElBQUUsR0FBRUMsRUFBQztBQUFBLFFBQUUsS0FBSztBQUFFLGlCQUFPLEdBQUcsR0FBRSxFQUFFLFVBQVUsYUFBYSxHQUFFQyxLQUFFLEVBQUUsY0FBYSxTQUFPRixLQUFFLEVBQUUsUUFBTSxHQUFHLEdBQUUsTUFBS0UsSUFBRUQsRUFBQyxJQUFFLEdBQUdELElBQUUsR0FBRUUsSUFBRUQsRUFBQyxHQUFFLEVBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRyxpQkFBT0MsS0FBRSxFQUFFLE1BQUtFLEtBQUUsRUFBRSxjQUFhQSxLQUFFLEVBQUUsZ0JBQWNGLEtBQUVFLEtBQUUsR0FBR0YsSUFBRUUsRUFBQyxHQUFFLEdBQUdKLElBQUUsR0FBRUUsSUFBRUUsSUFBRUgsRUFBQztBQUFBLFFBQUUsS0FBSztBQUFFLGlCQUFPLEdBQUdELElBQUUsR0FBRSxFQUFFLGNBQWFDLEVBQUMsR0FBRSxFQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUUsaUJBQU8sR0FBR0QsSUFBRSxHQUFFLEVBQUUsYUFBYSxVQUFTQyxFQUFDLEdBQUUsRUFBRTtBQUFBLFFBQU0sS0FBSztBQUFHLGlCQUFPLEdBQUdELElBQUUsR0FBRSxFQUFFLGFBQWEsVUFBU0MsRUFBQyxHQUFFLEVBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRyxhQUFFO0FBQUMsWUFBQUMsS0FBRSxFQUFFLEtBQUs7QUFBUyxZQUFBRSxLQUFFLEVBQUU7QUFBYSxZQUFBQyxLQUFFLEVBQUU7QUFDbGYsZ0JBQUVELEdBQUU7QUFBTSxjQUFFLElBQUdGLEdBQUUsYUFBYTtBQUFFLFlBQUFBLEdBQUUsZ0JBQWM7QUFBRSxnQkFBRyxTQUFPRyxHQUFFLEtBQUcsR0FBR0EsR0FBRSxPQUFNLENBQUMsR0FBRTtBQUFDLGtCQUFHQSxHQUFFLGFBQVdELEdBQUUsWUFBVSxDQUFDLEdBQUcsU0FBUTtBQUFDLG9CQUFFLEdBQUdKLElBQUUsR0FBRUMsRUFBQztBQUFFLHNCQUFNO0FBQUEsY0FBQztBQUFBLFlBQUMsTUFBTSxNQUFJSSxLQUFFLEVBQUUsT0FBTSxTQUFPQSxPQUFJQSxHQUFFLFNBQU8sSUFBRyxTQUFPQSxNQUFHO0FBQUMsa0JBQUlFLEtBQUVGLEdBQUU7QUFBYSxrQkFBRyxTQUFPRSxJQUFFO0FBQUMsb0JBQUVGLEdBQUU7QUFBTSx5QkFBUSxJQUFFRSxHQUFFLGNBQWEsU0FBTyxLQUFHO0FBQUMsc0JBQUcsRUFBRSxZQUFVTCxJQUFFO0FBQUMsd0JBQUcsTUFBSUcsR0FBRSxLQUFJO0FBQUMsMEJBQUUsR0FBRyxJQUFHSixLQUFFLENBQUNBLEVBQUM7QUFBRSx3QkFBRSxNQUFJO0FBQUUsMEJBQUlLLEtBQUVELEdBQUU7QUFBWSwwQkFBRyxTQUFPQyxJQUFFO0FBQUMsd0JBQUFBLEtBQUVBLEdBQUU7QUFBTyw0QkFBSSxJQUFFQSxHQUFFO0FBQVEsaUNBQU8sSUFBRSxFQUFFLE9BQUssS0FBRyxFQUFFLE9BQUssRUFBRSxNQUFLLEVBQUUsT0FBSztBQUFHLHdCQUFBQSxHQUFFLFVBQVE7QUFBQSxzQkFBQztBQUFBLG9CQUFDO0FBQUMsb0JBQUFELEdBQUUsU0FBT0o7QUFBRSx3QkFBRUksR0FBRTtBQUFVLDZCQUFPLE1BQUksRUFBRSxTQUFPSjtBQUFHO0FBQUEsc0JBQUdJLEdBQUU7QUFBQSxzQkFDbGZKO0FBQUEsc0JBQUU7QUFBQSxvQkFBQztBQUFFLG9CQUFBTSxHQUFFLFNBQU9OO0FBQUU7QUFBQSxrQkFBSztBQUFDLHNCQUFFLEVBQUU7QUFBQSxnQkFBSTtBQUFBLGNBQUMsV0FBUyxPQUFLSSxHQUFFLElBQUksS0FBRUEsR0FBRSxTQUFPLEVBQUUsT0FBSyxPQUFLQSxHQUFFO0FBQUEsdUJBQWMsT0FBS0EsR0FBRSxLQUFJO0FBQUMsb0JBQUVBLEdBQUU7QUFBTyxvQkFBRyxTQUFPLEVBQUUsT0FBTSxNQUFNTixHQUFFLEdBQUcsQ0FBQztBQUFFLGtCQUFFLFNBQU9FO0FBQUUsZ0JBQUFNLEtBQUUsRUFBRTtBQUFVLHlCQUFPQSxPQUFJQSxHQUFFLFNBQU9OO0FBQUcsbUJBQUcsR0FBRUEsSUFBRSxDQUFDO0FBQUUsb0JBQUVJLEdBQUU7QUFBQSxjQUFPLE1BQU0sS0FBRUEsR0FBRTtBQUFNLGtCQUFHLFNBQU8sRUFBRSxHQUFFLFNBQU9BO0FBQUEsa0JBQU8sTUFBSSxJQUFFQSxJQUFFLFNBQU8sS0FBRztBQUFDLG9CQUFHLE1BQUksR0FBRTtBQUFDLHNCQUFFO0FBQUs7QUFBQSxnQkFBSztBQUFDLGdCQUFBQSxLQUFFLEVBQUU7QUFBUSxvQkFBRyxTQUFPQSxJQUFFO0FBQUMsa0JBQUFBLEdBQUUsU0FBTyxFQUFFO0FBQU8sc0JBQUVBO0FBQUU7QUFBQSxnQkFBSztBQUFDLG9CQUFFLEVBQUU7QUFBQSxjQUFNO0FBQUMsY0FBQUEsS0FBRTtBQUFBLFlBQUM7QUFBQyxlQUFHTCxJQUFFLEdBQUVJLEdBQUUsVUFBU0gsRUFBQztBQUFFLGdCQUFFLEVBQUU7QUFBQSxVQUFLO0FBQUMsaUJBQU87QUFBQSxRQUFFLEtBQUs7QUFBRSxpQkFBT0csS0FBRSxFQUFFLE1BQUtGLEtBQUUsRUFBRSxhQUFhLFVBQVMsR0FBRyxHQUFFRCxFQUFDLEdBQUVHLEtBQUUsR0FBR0EsRUFBQyxHQUFFRixLQUFFQSxHQUFFRSxFQUFDLEdBQUUsRUFBRSxTQUFPLEdBQUUsR0FBR0osSUFBRSxHQUFFRSxJQUFFRCxFQUFDLEdBQ3JmLEVBQUU7QUFBQSxRQUFNLEtBQUs7QUFBRyxpQkFBT0MsS0FBRSxFQUFFLE1BQUtFLEtBQUUsR0FBR0YsSUFBRSxFQUFFLFlBQVksR0FBRUUsS0FBRSxHQUFHRixHQUFFLE1BQUtFLEVBQUMsR0FBRSxHQUFHSixJQUFFLEdBQUVFLElBQUVFLElBQUVILEVBQUM7QUFBQSxRQUFFLEtBQUs7QUFBRyxpQkFBTyxHQUFHRCxJQUFFLEdBQUUsRUFBRSxNQUFLLEVBQUUsY0FBYUMsRUFBQztBQUFBLFFBQUUsS0FBSztBQUFHLGlCQUFPQyxLQUFFLEVBQUUsTUFBS0UsS0FBRSxFQUFFLGNBQWFBLEtBQUUsRUFBRSxnQkFBY0YsS0FBRUUsS0FBRSxHQUFHRixJQUFFRSxFQUFDLEdBQUUsR0FBR0osSUFBRSxDQUFDLEdBQUUsRUFBRSxNQUFJLEdBQUUsR0FBR0UsRUFBQyxLQUFHRixLQUFFLE1BQUcsR0FBRyxDQUFDLEtBQUdBLEtBQUUsT0FBRyxHQUFHLEdBQUVDLEVBQUMsR0FBRSxHQUFHLEdBQUVDLElBQUVFLEVBQUMsR0FBRSxHQUFHLEdBQUVGLElBQUVFLElBQUVILEVBQUMsR0FBRSxHQUFHLE1BQUssR0FBRUMsSUFBRSxNQUFHRixJQUFFQyxFQUFDO0FBQUEsUUFBRSxLQUFLO0FBQUcsaUJBQU8sR0FBR0QsSUFBRSxHQUFFQyxFQUFDO0FBQUEsUUFBRSxLQUFLO0FBQUcsaUJBQU8sR0FBR0QsSUFBRSxHQUFFQyxFQUFDO0FBQUEsTUFBQztBQUFDLFlBQU0sTUFBTUYsR0FBRSxLQUFJLEVBQUUsR0FBRyxDQUFDO0FBQUEsSUFBRTtBQUFFLGFBQVMsR0FBR0MsSUFBRSxHQUFFO0FBQUMsYUFBTyxHQUFHQSxJQUFFLENBQUM7QUFBQSxJQUFDO0FBQ2paLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsV0FBSyxNQUFJRjtBQUFFLFdBQUssTUFBSUM7QUFBRSxXQUFLLFVBQVEsS0FBSyxRQUFNLEtBQUssU0FBTyxLQUFLLFlBQVUsS0FBSyxPQUFLLEtBQUssY0FBWTtBQUFLLFdBQUssUUFBTTtBQUFFLFdBQUssTUFBSTtBQUFLLFdBQUssZUFBYTtBQUFFLFdBQUssZUFBYSxLQUFLLGdCQUFjLEtBQUssY0FBWSxLQUFLLGdCQUFjO0FBQUssV0FBSyxPQUFLQztBQUFFLFdBQUssZUFBYSxLQUFLLFFBQU07QUFBRSxXQUFLLFlBQVU7QUFBSyxXQUFLLGFBQVcsS0FBSyxRQUFNO0FBQUUsV0FBSyxZQUFVO0FBQUEsSUFBSTtBQUFDLGFBQVMsR0FBR0YsSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsYUFBTyxJQUFJLEdBQUdGLElBQUUsR0FBRUMsSUFBRUMsRUFBQztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdGLElBQUU7QUFBQyxNQUFBQSxLQUFFQSxHQUFFO0FBQVUsYUFBTSxFQUFFLENBQUNBLE1BQUcsQ0FBQ0EsR0FBRTtBQUFBLElBQWlCO0FBQ3BkLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFVBQUcsZUFBYSxPQUFPQSxHQUFFLFFBQU8sR0FBR0EsRUFBQyxJQUFFLElBQUU7QUFBRSxVQUFHLFdBQVNBLE1BQUcsU0FBT0EsSUFBRTtBQUFDLFFBQUFBLEtBQUVBLEdBQUU7QUFBUyxZQUFHQSxPQUFJLEdBQUcsUUFBTztBQUFHLFlBQUdBLE9BQUksR0FBRyxRQUFPO0FBQUEsTUFBRTtBQUFDLGFBQU87QUFBQSxJQUFDO0FBQy9JLGFBQVMsR0FBR0EsSUFBRSxHQUFFO0FBQUMsVUFBSUMsS0FBRUQsR0FBRTtBQUFVLGVBQU9DLE1BQUdBLEtBQUUsR0FBR0QsR0FBRSxLQUFJLEdBQUVBLEdBQUUsS0FBSUEsR0FBRSxJQUFJLEdBQUVDLEdBQUUsY0FBWUQsR0FBRSxhQUFZQyxHQUFFLE9BQUtELEdBQUUsTUFBS0MsR0FBRSxZQUFVRCxHQUFFLFdBQVVDLEdBQUUsWUFBVUQsSUFBRUEsR0FBRSxZQUFVQyxPQUFJQSxHQUFFLGVBQWEsR0FBRUEsR0FBRSxPQUFLRCxHQUFFLE1BQUtDLEdBQUUsUUFBTSxHQUFFQSxHQUFFLGVBQWEsR0FBRUEsR0FBRSxZQUFVO0FBQU0sTUFBQUEsR0FBRSxRQUFNRCxHQUFFLFFBQU07QUFBUyxNQUFBQyxHQUFFLGFBQVdELEdBQUU7QUFBVyxNQUFBQyxHQUFFLFFBQU1ELEdBQUU7QUFBTSxNQUFBQyxHQUFFLFFBQU1ELEdBQUU7QUFBTSxNQUFBQyxHQUFFLGdCQUFjRCxHQUFFO0FBQWMsTUFBQUMsR0FBRSxnQkFBY0QsR0FBRTtBQUFjLE1BQUFDLEdBQUUsY0FBWUQsR0FBRTtBQUFZLFVBQUVBLEdBQUU7QUFBYSxNQUFBQyxHQUFFLGVBQWEsU0FBTyxJQUFFLE9BQUssRUFBQyxPQUFNLEVBQUUsT0FBTSxjQUFhLEVBQUUsYUFBWTtBQUMzZixNQUFBQSxHQUFFLFVBQVFELEdBQUU7QUFBUSxNQUFBQyxHQUFFLFFBQU1ELEdBQUU7QUFBTSxNQUFBQyxHQUFFLE1BQUlELEdBQUU7QUFBSSxhQUFPQztBQUFBLElBQUM7QUFDeEQsYUFBUyxHQUFHRCxJQUFFLEdBQUVDLElBQUVDLElBQUVFLElBQUVDLElBQUU7QUFBQyxVQUFJLElBQUU7QUFBRSxNQUFBSCxLQUFFRjtBQUFFLFVBQUcsZUFBYSxPQUFPQSxHQUFFLElBQUdBLEVBQUMsTUFBSSxJQUFFO0FBQUEsZUFBVyxhQUFXLE9BQU9BLEdBQUUsS0FBRTtBQUFBLFVBQU8sR0FBRSxTQUFPQSxJQUFFO0FBQUEsUUFBQyxLQUFLO0FBQUcsaUJBQU8sR0FBR0MsR0FBRSxVQUFTRyxJQUFFQyxJQUFFLENBQUM7QUFBQSxRQUFFLEtBQUs7QUFBRyxjQUFFO0FBQUUsVUFBQUQsTUFBRztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQUcsaUJBQU9KLEtBQUUsR0FBRyxJQUFHQyxJQUFFLEdBQUVHLEtBQUUsQ0FBQyxHQUFFSixHQUFFLGNBQVksSUFBR0EsR0FBRSxRQUFNSyxJQUFFTDtBQUFBLFFBQUUsS0FBSztBQUFHLGlCQUFPQSxLQUFFLEdBQUcsSUFBR0MsSUFBRSxHQUFFRyxFQUFDLEdBQUVKLEdBQUUsY0FBWSxJQUFHQSxHQUFFLFFBQU1LLElBQUVMO0FBQUEsUUFBRSxLQUFLO0FBQUcsaUJBQU9BLEtBQUUsR0FBRyxJQUFHQyxJQUFFLEdBQUVHLEVBQUMsR0FBRUosR0FBRSxjQUFZLElBQUdBLEdBQUUsUUFBTUssSUFBRUw7QUFBQSxRQUFFLEtBQUs7QUFBRyxpQkFBTyxHQUFHQyxJQUFFRyxJQUFFQyxJQUFFLENBQUM7QUFBQSxRQUFFO0FBQVEsY0FBRyxhQUFXLE9BQU9MLE1BQUcsU0FBT0EsR0FBRSxTQUFPQSxHQUFFLFVBQVM7QUFBQSxZQUFDLEtBQUs7QUFBRyxrQkFBRTtBQUFHLG9CQUFNO0FBQUEsWUFBRSxLQUFLO0FBQUcsa0JBQUU7QUFBRSxvQkFBTTtBQUFBLFlBQUUsS0FBSztBQUFHLGtCQUFFO0FBQ3BmLG9CQUFNO0FBQUEsWUFBRSxLQUFLO0FBQUcsa0JBQUU7QUFBRyxvQkFBTTtBQUFBLFlBQUUsS0FBSztBQUFHLGtCQUFFO0FBQUcsY0FBQUUsS0FBRTtBQUFLLG9CQUFNO0FBQUEsVUFBQztBQUFDLGdCQUFNLE1BQU1ILEdBQUUsS0FBSSxRQUFNQyxLQUFFQSxLQUFFLE9BQU9BLElBQUUsRUFBRSxDQUFDO0FBQUEsTUFBRTtBQUFDLFVBQUUsR0FBRyxHQUFFQyxJQUFFLEdBQUVHLEVBQUM7QUFBRSxRQUFFLGNBQVlKO0FBQUUsUUFBRSxPQUFLRTtBQUFFLFFBQUUsUUFBTUc7QUFBRSxhQUFPO0FBQUEsSUFBQztBQUFDLGFBQVMsR0FBR0wsSUFBRSxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsTUFBQUYsS0FBRSxHQUFHLEdBQUVBLElBQUVFLElBQUUsQ0FBQztBQUFFLE1BQUFGLEdBQUUsUUFBTUM7QUFBRSxhQUFPRDtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRUMsSUFBRTtBQUFDLE1BQUFGLEtBQUUsR0FBRyxJQUFHQSxJQUFFRSxJQUFFLENBQUM7QUFBRSxNQUFBRixHQUFFLGNBQVk7QUFBRyxNQUFBQSxHQUFFLFFBQU1DO0FBQUUsTUFBQUQsR0FBRSxZQUFVLEVBQUMsVUFBUyxNQUFFO0FBQUUsYUFBT0E7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUU7QUFBQyxNQUFBRCxLQUFFLEdBQUcsR0FBRUEsSUFBRSxNQUFLLENBQUM7QUFBRSxNQUFBQSxHQUFFLFFBQU1DO0FBQUUsYUFBT0Q7QUFBQSxJQUFDO0FBQzVXLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBRSxHQUFHLEdBQUUsU0FBT0QsR0FBRSxXQUFTQSxHQUFFLFdBQVMsQ0FBQyxHQUFFQSxHQUFFLEtBQUksQ0FBQztBQUFFLFFBQUUsUUFBTUM7QUFBRSxRQUFFLFlBQVUsRUFBQyxlQUFjRCxHQUFFLGVBQWMsaUJBQWdCLE1BQUssZ0JBQWVBLEdBQUUsZUFBYztBQUFFLGFBQU87QUFBQSxJQUFDO0FBQ3RMLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsV0FBSyxNQUFJO0FBQUUsV0FBSyxnQkFBY0o7QUFBRSxXQUFLLGVBQWEsS0FBSyxZQUFVLEtBQUssVUFBUSxLQUFLLGtCQUFnQjtBQUFLLFdBQUssZ0JBQWM7QUFBRyxXQUFLLGVBQWEsS0FBSyxpQkFBZSxLQUFLLFVBQVE7QUFBSyxXQUFLLG1CQUFpQjtBQUFFLFdBQUssYUFBVyxHQUFHLENBQUM7QUFBRSxXQUFLLGtCQUFnQixHQUFHLEVBQUU7QUFBRSxXQUFLLGlCQUFlLEtBQUssZ0JBQWMsS0FBSyxtQkFBaUIsS0FBSyxlQUFhLEtBQUssY0FBWSxLQUFLLGlCQUFlLEtBQUssZUFBYTtBQUFFLFdBQUssZ0JBQWMsR0FBRyxDQUFDO0FBQUUsV0FBSyxtQkFBaUJFO0FBQUUsV0FBSyxxQkFBbUJFO0FBQUUsV0FBSyxrQ0FDL2U7QUFBQSxJQUFJO0FBQUMsYUFBUyxHQUFHSixJQUFFLEdBQUVDLElBQUVDLElBQUVFLElBQUVDLElBQUUsR0FBRUUsSUFBRSxHQUFFO0FBQUMsTUFBQVAsS0FBRSxJQUFJLEdBQUdBLElBQUUsR0FBRUMsSUFBRU0sSUFBRSxDQUFDO0FBQUUsWUFBSSxLQUFHLElBQUUsR0FBRSxTQUFLRixPQUFJLEtBQUcsTUFBSSxJQUFFO0FBQUUsTUFBQUEsS0FBRSxHQUFHLEdBQUUsTUFBSyxNQUFLLENBQUM7QUFBRSxNQUFBTCxHQUFFLFVBQVFLO0FBQUUsTUFBQUEsR0FBRSxZQUFVTDtBQUFFLE1BQUFLLEdBQUUsZ0JBQWMsRUFBQyxTQUFRSCxJQUFFLGNBQWFELElBQUUsT0FBTSxNQUFLLGFBQVksTUFBSywyQkFBMEIsS0FBSTtBQUFFLFNBQUdJLEVBQUM7QUFBRSxhQUFPTDtBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUlDLEtBQUUsSUFBRSxVQUFVLFVBQVEsV0FBUyxVQUFVLENBQUMsSUFBRSxVQUFVLENBQUMsSUFBRTtBQUFLLGFBQU0sRUFBQyxVQUFTLElBQUcsS0FBSSxRQUFNQSxLQUFFLE9BQUssS0FBR0EsSUFBRSxVQUFTRixJQUFFLGVBQWMsR0FBRSxnQkFBZUMsR0FBQztBQUFBLElBQUM7QUFDcGEsYUFBUyxHQUFHRCxJQUFFO0FBQUMsVUFBRyxDQUFDQSxHQUFFLFFBQU87QUFBRyxNQUFBQSxLQUFFQSxHQUFFO0FBQWdCLFNBQUU7QUFBQyxZQUFHLEdBQUdBLEVBQUMsTUFBSUEsTUFBRyxNQUFJQSxHQUFFLElBQUksT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLFlBQUksSUFBRUM7QUFBRSxXQUFFO0FBQUMsa0JBQU8sRUFBRSxLQUFJO0FBQUEsWUFBQyxLQUFLO0FBQUUsa0JBQUUsRUFBRSxVQUFVO0FBQVEsb0JBQU07QUFBQSxZQUFFLEtBQUs7QUFBRSxrQkFBRyxHQUFHLEVBQUUsSUFBSSxHQUFFO0FBQUMsb0JBQUUsRUFBRSxVQUFVO0FBQTBDLHNCQUFNO0FBQUEsY0FBQztBQUFBLFVBQUM7QUFBQyxjQUFFLEVBQUU7QUFBQSxRQUFNLFNBQU8sU0FBTztBQUFHLGNBQU0sTUFBTUQsR0FBRSxHQUFHLENBQUM7QUFBQSxNQUFFO0FBQUMsVUFBRyxNQUFJQyxHQUFFLEtBQUk7QUFBQyxZQUFJQyxLQUFFRCxHQUFFO0FBQUssWUFBRyxHQUFHQyxFQUFDLEVBQUUsUUFBTyxHQUFHRCxJQUFFQyxJQUFFLENBQUM7QUFBQSxNQUFDO0FBQUMsYUFBTztBQUFBLElBQUM7QUFDcFcsYUFBUyxHQUFHRCxJQUFFLEdBQUVDLElBQUVDLElBQUVFLElBQUVDLElBQUUsR0FBRUUsSUFBRSxHQUFFO0FBQUMsTUFBQVAsS0FBRSxHQUFHQyxJQUFFQyxJQUFFLE1BQUdGLElBQUVJLElBQUVDLElBQUUsR0FBRUUsSUFBRSxDQUFDO0FBQUUsTUFBQVAsR0FBRSxVQUFRLEdBQUcsSUFBSTtBQUFFLE1BQUFDLEtBQUVELEdBQUU7QUFBUSxNQUFBRSxLQUFFLEVBQUU7QUFBRSxNQUFBRSxLQUFFLEdBQUdILEVBQUM7QUFBRSxNQUFBSSxLQUFFLEdBQUdILElBQUVFLEVBQUM7QUFBRSxNQUFBQyxHQUFFLFdBQVMsV0FBUyxLQUFHLFNBQU8sSUFBRSxJQUFFO0FBQUssU0FBR0osSUFBRUksSUFBRUQsRUFBQztBQUFFLE1BQUFKLEdBQUUsUUFBUSxRQUFNSTtBQUFFLFNBQUdKLElBQUVJLElBQUVGLEVBQUM7QUFBRSxTQUFHRixJQUFFRSxFQUFDO0FBQUUsYUFBT0Y7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxVQUFJRSxLQUFFLEVBQUUsU0FBUUMsS0FBRSxFQUFFLEdBQUUsSUFBRSxHQUFHRCxFQUFDO0FBQUUsTUFBQUgsS0FBRSxHQUFHQSxFQUFDO0FBQUUsZUFBTyxFQUFFLFVBQVEsRUFBRSxVQUFRQSxLQUFFLEVBQUUsaUJBQWVBO0FBQUUsVUFBRSxHQUFHSSxJQUFFLENBQUM7QUFBRSxRQUFFLFVBQVEsRUFBQyxTQUFRTCxHQUFDO0FBQUUsTUFBQUUsS0FBRSxXQUFTQSxLQUFFLE9BQUtBO0FBQUUsZUFBT0EsT0FBSSxFQUFFLFdBQVNBO0FBQUcsTUFBQUYsS0FBRSxHQUFHSSxJQUFFLEdBQUUsQ0FBQztBQUFFLGVBQU9KLE9BQUksR0FBR0EsSUFBRUksSUFBRSxHQUFFQyxFQUFDLEdBQUUsR0FBR0wsSUFBRUksSUFBRSxDQUFDO0FBQUcsYUFBTztBQUFBLElBQUM7QUFDM2IsYUFBUyxHQUFHSixJQUFFO0FBQUMsTUFBQUEsS0FBRUEsR0FBRTtBQUFRLFVBQUcsQ0FBQ0EsR0FBRSxNQUFNLFFBQU87QUFBSyxjQUFPQSxHQUFFLE1BQU0sS0FBSTtBQUFBLFFBQUMsS0FBSztBQUFFLGlCQUFPQSxHQUFFLE1BQU07QUFBQSxRQUFVO0FBQVEsaUJBQU9BLEdBQUUsTUFBTTtBQUFBLE1BQVM7QUFBQSxJQUFDO0FBQUMsYUFBUyxHQUFHQSxJQUFFLEdBQUU7QUFBQyxNQUFBQSxLQUFFQSxHQUFFO0FBQWMsVUFBRyxTQUFPQSxNQUFHLFNBQU9BLEdBQUUsWUFBVztBQUFDLFlBQUlDLEtBQUVELEdBQUU7QUFBVSxRQUFBQSxHQUFFLFlBQVUsTUFBSUMsTUFBR0EsS0FBRSxJQUFFQSxLQUFFO0FBQUEsTUFBQztBQUFBLElBQUM7QUFBQyxhQUFTLEdBQUdELElBQUUsR0FBRTtBQUFDLFNBQUdBLElBQUUsQ0FBQztBQUFFLE9BQUNBLEtBQUVBLEdBQUUsY0FBWSxHQUFHQSxJQUFFLENBQUM7QUFBQSxJQUFDO0FBQUMsYUFBUyxLQUFJO0FBQUMsYUFBTztBQUFBLElBQUk7QUFBQyxRQUFJLEtBQUcsZUFBYSxPQUFPLGNBQVksY0FBWSxTQUFTQSxJQUFFO0FBQUMsY0FBUSxNQUFNQSxFQUFDO0FBQUEsSUFBQztBQUFFLGFBQVMsR0FBR0EsSUFBRTtBQUFDLFdBQUssZ0JBQWNBO0FBQUEsSUFBQztBQUM1YixPQUFHLFVBQVUsU0FBTyxHQUFHLFVBQVUsU0FBTyxTQUFTQSxJQUFFO0FBQUMsVUFBSSxJQUFFLEtBQUs7QUFBYyxVQUFHLFNBQU8sRUFBRSxPQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUUsU0FBR0MsSUFBRSxHQUFFLE1BQUssSUFBSTtBQUFBLElBQUM7QUFBRSxPQUFHLFVBQVUsVUFBUSxHQUFHLFVBQVUsVUFBUSxXQUFVO0FBQUMsVUFBSUEsS0FBRSxLQUFLO0FBQWMsVUFBRyxTQUFPQSxJQUFFO0FBQUMsYUFBSyxnQkFBYztBQUFLLFlBQUksSUFBRUEsR0FBRTtBQUFjLFdBQUcsV0FBVTtBQUFDLGFBQUcsTUFBS0EsSUFBRSxNQUFLLElBQUk7QUFBQSxRQUFDLENBQUM7QUFBRSxVQUFFLEVBQUUsSUFBRTtBQUFBLE1BQUk7QUFBQSxJQUFDO0FBQUUsYUFBUyxHQUFHQSxJQUFFO0FBQUMsV0FBSyxnQkFBY0E7QUFBQSxJQUFDO0FBQzlWLE9BQUcsVUFBVSw2QkFBMkIsU0FBU0EsSUFBRTtBQUFDLFVBQUdBLElBQUU7QUFBQyxZQUFJLElBQUUsR0FBRztBQUFFLFFBQUFBLEtBQUUsRUFBQyxXQUFVLE1BQUssUUFBT0EsSUFBRSxVQUFTLEVBQUM7QUFBRSxpQkFBUUMsS0FBRSxHQUFFQSxLQUFFLEdBQUcsVUFBUSxNQUFJLEtBQUcsSUFBRSxHQUFHQSxFQUFDLEVBQUUsVUFBU0EsS0FBSTtBQUFDLFdBQUcsT0FBT0EsSUFBRSxHQUFFRCxFQUFDO0FBQUUsY0FBSUMsTUFBRyxHQUFHRCxFQUFDO0FBQUEsTUFBQztBQUFBLElBQUM7QUFBRSxhQUFTLEdBQUdBLElBQUU7QUFBQyxhQUFNLEVBQUUsQ0FBQ0EsTUFBRyxNQUFJQSxHQUFFLFlBQVUsTUFBSUEsR0FBRSxZQUFVLE9BQUtBLEdBQUU7QUFBQSxJQUFTO0FBQUMsYUFBUyxHQUFHQSxJQUFFO0FBQUMsYUFBTSxFQUFFLENBQUNBLE1BQUcsTUFBSUEsR0FBRSxZQUFVLE1BQUlBLEdBQUUsWUFBVSxPQUFLQSxHQUFFLGFBQVcsTUFBSUEsR0FBRSxZQUFVLG1DQUFpQ0EsR0FBRTtBQUFBLElBQVc7QUFBQyxhQUFTLEtBQUk7QUFBQSxJQUFDO0FBQ3hhLGFBQVMsR0FBR0EsSUFBRSxHQUFFQyxJQUFFQyxJQUFFRSxJQUFFO0FBQUMsVUFBR0EsSUFBRTtBQUFDLFlBQUcsZUFBYSxPQUFPRixJQUFFO0FBQUMsY0FBSUcsS0FBRUg7QUFBRSxVQUFBQSxLQUFFLFdBQVU7QUFBQyxnQkFBSUYsS0FBRSxHQUFHLENBQUM7QUFBRSxZQUFBSyxHQUFFLEtBQUtMLEVBQUM7QUFBQSxVQUFDO0FBQUEsUUFBQztBQUFDLFlBQUksSUFBRSxHQUFHLEdBQUVFLElBQUVGLElBQUUsR0FBRSxNQUFLLE9BQUcsT0FBRyxJQUFHLEVBQUU7QUFBRSxRQUFBQSxHQUFFLHNCQUFvQjtBQUFFLFFBQUFBLEdBQUUsRUFBRSxJQUFFLEVBQUU7QUFBUSxXQUFHLE1BQUlBLEdBQUUsV0FBU0EsR0FBRSxhQUFXQSxFQUFDO0FBQUUsV0FBRztBQUFFLGVBQU87QUFBQSxNQUFDO0FBQUMsYUFBS0ksS0FBRUosR0FBRSxZQUFXLENBQUFBLEdBQUUsWUFBWUksRUFBQztBQUFFLFVBQUcsZUFBYSxPQUFPRixJQUFFO0FBQUMsWUFBSUssS0FBRUw7QUFBRSxRQUFBQSxLQUFFLFdBQVU7QUFBQyxjQUFJRixLQUFFLEdBQUcsQ0FBQztBQUFFLFVBQUFPLEdBQUUsS0FBS1AsRUFBQztBQUFBLFFBQUM7QUFBQSxNQUFDO0FBQUMsVUFBSSxJQUFFLEdBQUdBLElBQUUsR0FBRSxPQUFHLE1BQUssTUFBSyxPQUFHLE9BQUcsSUFBRyxFQUFFO0FBQUUsTUFBQUEsR0FBRSxzQkFBb0I7QUFBRSxNQUFBQSxHQUFFLEVBQUUsSUFBRSxFQUFFO0FBQVEsU0FBRyxNQUFJQSxHQUFFLFdBQVNBLEdBQUUsYUFBV0EsRUFBQztBQUFFLFNBQUcsV0FBVTtBQUFDLFdBQUcsR0FBRSxHQUFFQyxJQUFFQyxFQUFDO0FBQUEsTUFBQyxDQUFDO0FBQUUsYUFBTztBQUFBLElBQUM7QUFDOWQsYUFBUyxHQUFHRixJQUFFLEdBQUVDLElBQUVDLElBQUVFLElBQUU7QUFBQyxVQUFJQyxLQUFFSixHQUFFO0FBQW9CLFVBQUdJLElBQUU7QUFBQyxZQUFJLElBQUVBO0FBQUUsWUFBRyxlQUFhLE9BQU9ELElBQUU7QUFBQyxjQUFJRyxLQUFFSDtBQUFFLFVBQUFBLEtBQUUsV0FBVTtBQUFDLGdCQUFJSixLQUFFLEdBQUcsQ0FBQztBQUFFLFlBQUFPLEdBQUUsS0FBS1AsRUFBQztBQUFBLFVBQUM7QUFBQSxRQUFDO0FBQUMsV0FBRyxHQUFFLEdBQUVBLElBQUVJLEVBQUM7QUFBQSxNQUFDLE1BQU0sS0FBRSxHQUFHSCxJQUFFLEdBQUVELElBQUVJLElBQUVGLEVBQUM7QUFBRSxhQUFPLEdBQUcsQ0FBQztBQUFBLElBQUM7QUFBQyxTQUFHLFNBQVNGLElBQUU7QUFBQyxjQUFPQSxHQUFFLEtBQUk7QUFBQSxRQUFDLEtBQUs7QUFBRSxjQUFJLElBQUVBLEdBQUU7QUFBVSxjQUFHLEVBQUUsUUFBUSxjQUFjLGNBQWE7QUFBQyxnQkFBSUMsS0FBRSxHQUFHLEVBQUUsWUFBWTtBQUFFLGtCQUFJQSxPQUFJLEdBQUcsR0FBRUEsS0FBRSxDQUFDLEdBQUUsR0FBRyxHQUFFLEVBQUUsQ0FBQyxHQUFFLE9BQUssSUFBRSxPQUFLLEtBQUcsRUFBRSxJQUFFLEtBQUksR0FBRztBQUFBLFVBQUc7QUFBQztBQUFBLFFBQU0sS0FBSztBQUFHLGFBQUcsV0FBVTtBQUFDLGdCQUFJUSxLQUFFLEdBQUdULElBQUUsQ0FBQztBQUFFLGdCQUFHLFNBQU9TLElBQUU7QUFBQyxrQkFBSVIsS0FBRSxFQUFFO0FBQUUsaUJBQUdRLElBQUVULElBQUUsR0FBRUMsRUFBQztBQUFBLFlBQUM7QUFBQSxVQUFDLENBQUMsR0FBRSxHQUFHRCxJQUFFLENBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUMvYixTQUFHLFNBQVNBLElBQUU7QUFBQyxVQUFHLE9BQUtBLEdBQUUsS0FBSTtBQUFDLFlBQUksSUFBRSxHQUFHQSxJQUFFLFNBQVM7QUFBRSxZQUFHLFNBQU8sR0FBRTtBQUFDLGNBQUlDLEtBQUUsRUFBRTtBQUFFLGFBQUcsR0FBRUQsSUFBRSxXQUFVQyxFQUFDO0FBQUEsUUFBQztBQUFDLFdBQUdELElBQUUsU0FBUztBQUFBLE1BQUM7QUFBQSxJQUFDO0FBQUUsU0FBRyxTQUFTQSxJQUFFO0FBQUMsVUFBRyxPQUFLQSxHQUFFLEtBQUk7QUFBQyxZQUFJLElBQUUsR0FBR0EsRUFBQyxHQUFFQyxLQUFFLEdBQUdELElBQUUsQ0FBQztBQUFFLFlBQUcsU0FBT0MsSUFBRTtBQUFDLGNBQUlDLEtBQUUsRUFBRTtBQUFFLGFBQUdELElBQUVELElBQUUsR0FBRUUsRUFBQztBQUFBLFFBQUM7QUFBQyxXQUFHRixJQUFFLENBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUFFLFNBQUcsV0FBVTtBQUFDLGFBQU9RO0FBQUEsSUFBQztBQUFFLFNBQUcsU0FBU1IsSUFBRSxHQUFFO0FBQUMsVUFBSUMsS0FBRU87QUFBRSxVQUFHO0FBQUMsZUFBT0EsS0FBRVIsSUFBRSxFQUFFO0FBQUEsTUFBQyxVQUFDO0FBQVEsUUFBQVEsS0FBRVA7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUNsUyxTQUFHLFNBQVNELElBQUUsR0FBRUMsSUFBRTtBQUFDLGNBQU8sR0FBRTtBQUFBLFFBQUMsS0FBSztBQUFRLGFBQUdELElBQUVDLEVBQUM7QUFBRSxjQUFFQSxHQUFFO0FBQUssY0FBRyxZQUFVQSxHQUFFLFFBQU0sUUFBTSxHQUFFO0FBQUMsaUJBQUlBLEtBQUVELElBQUVDLEdBQUUsYUFBWSxDQUFBQSxLQUFFQSxHQUFFO0FBQVcsWUFBQUEsS0FBRUEsR0FBRSxpQkFBaUIsZ0JBQWMsS0FBSyxVQUFVLEtBQUcsQ0FBQyxJQUFFLGlCQUFpQjtBQUFFLGlCQUFJLElBQUUsR0FBRSxJQUFFQSxHQUFFLFFBQU8sS0FBSTtBQUFDLGtCQUFJQyxLQUFFRCxHQUFFLENBQUM7QUFBRSxrQkFBR0MsT0FBSUYsTUFBR0UsR0FBRSxTQUFPRixHQUFFLE1BQUs7QUFBQyxvQkFBSUksS0FBRSxHQUFHRixFQUFDO0FBQUUsb0JBQUcsQ0FBQ0UsR0FBRSxPQUFNLE1BQU1MLEdBQUUsRUFBRSxDQUFDO0FBQUUsbUJBQUdHLEVBQUM7QUFBRSxtQkFBR0EsSUFBRUUsRUFBQztBQUFBLGNBQUM7QUFBQSxZQUFDO0FBQUEsVUFBQztBQUFDO0FBQUEsUUFBTSxLQUFLO0FBQVcsYUFBR0osSUFBRUMsRUFBQztBQUFFO0FBQUEsUUFBTSxLQUFLO0FBQVMsY0FBRUEsR0FBRSxPQUFNLFFBQU0sS0FBRyxHQUFHRCxJQUFFLENBQUMsQ0FBQ0MsR0FBRSxVQUFTLEdBQUUsS0FBRTtBQUFBLE1BQUM7QUFBQSxJQUFDO0FBQUUsU0FBRztBQUFHLFNBQUc7QUFDcGEsUUFBSSxLQUFHLEVBQUMsdUJBQXNCLE9BQUcsUUFBTyxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEVBQUM7QUFBM0QsUUFBNkQsS0FBRyxFQUFDLHlCQUF3QixJQUFHLFlBQVcsR0FBRSxTQUFRLFVBQVMscUJBQW9CLFlBQVc7QUFDekosUUFBSSxLQUFHLEVBQUMsWUFBVyxHQUFHLFlBQVcsU0FBUSxHQUFHLFNBQVEscUJBQW9CLEdBQUcscUJBQW9CLGdCQUFlLEdBQUcsZ0JBQWUsbUJBQWtCLE1BQUssNkJBQTRCLE1BQUssNkJBQTRCLE1BQUssZUFBYyxNQUFLLHlCQUF3QixNQUFLLHlCQUF3QixNQUFLLGlCQUFnQixNQUFLLG9CQUFtQixNQUFLLGdCQUFlLE1BQUssc0JBQXFCLEdBQUcsd0JBQXVCLHlCQUF3QixTQUFTRCxJQUFFO0FBQUMsTUFBQUEsS0FBRSxHQUFHQSxFQUFDO0FBQUUsYUFBTyxTQUFPQSxLQUFFLE9BQUtBLEdBQUU7QUFBQSxJQUFTLEdBQUUseUJBQXdCLEdBQUcsMkJBQy9mLElBQUcsNkJBQTRCLE1BQUssaUJBQWdCLE1BQUssY0FBYSxNQUFLLG1CQUFrQixNQUFLLGlCQUFnQixNQUFLLG1CQUFrQixrQ0FBaUM7QUFBRSxRQUFHLGdCQUFjLE9BQU8sZ0NBQStCO0FBQUssV0FBRztBQUErQixVQUFHLENBQUMsR0FBRyxjQUFZLEdBQUcsY0FBYyxLQUFHO0FBQUMsYUFBRyxHQUFHLE9BQU8sRUFBRSxHQUFFLEtBQUc7QUFBQSxNQUFFLFNBQU9BLElBQUU7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUEzRztBQUE0RyxZQUFRLHFEQUFtRDtBQUMvWSxZQUFRLGVBQWEsU0FBU0EsSUFBRSxHQUFFO0FBQUMsVUFBSUMsS0FBRSxJQUFFLFVBQVUsVUFBUSxXQUFTLFVBQVUsQ0FBQyxJQUFFLFVBQVUsQ0FBQyxJQUFFO0FBQUssVUFBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU0sTUFBTUYsR0FBRSxHQUFHLENBQUM7QUFBRSxhQUFPLEdBQUdDLElBQUUsR0FBRSxNQUFLQyxFQUFDO0FBQUEsSUFBQztBQUFFLFlBQVEsYUFBVyxTQUFTRCxJQUFFLEdBQUU7QUFBQyxVQUFHLENBQUMsR0FBR0EsRUFBQyxFQUFFLE9BQU0sTUFBTUQsR0FBRSxHQUFHLENBQUM7QUFBRSxVQUFJRSxLQUFFLE9BQUdDLEtBQUUsSUFBR0UsS0FBRTtBQUFHLGVBQU8sS0FBRyxXQUFTLE1BQUksU0FBSyxFQUFFLHdCQUFzQkgsS0FBRSxPQUFJLFdBQVMsRUFBRSxxQkFBbUJDLEtBQUUsRUFBRSxtQkFBa0IsV0FBUyxFQUFFLHVCQUFxQkUsS0FBRSxFQUFFO0FBQXFCLFVBQUUsR0FBR0osSUFBRSxHQUFFLE9BQUcsTUFBSyxNQUFLQyxJQUFFLE9BQUdDLElBQUVFLEVBQUM7QUFBRSxNQUFBSixHQUFFLEVBQUUsSUFBRSxFQUFFO0FBQVEsU0FBRyxNQUFJQSxHQUFFLFdBQVNBLEdBQUUsYUFBV0EsRUFBQztBQUFFLGFBQU8sSUFBSSxHQUFHLENBQUM7QUFBQSxJQUFDO0FBQ3JmLFlBQVEsY0FBWSxTQUFTQSxJQUFFO0FBQUMsVUFBRyxRQUFNQSxHQUFFLFFBQU87QUFBSyxVQUFHLE1BQUlBLEdBQUUsU0FBUyxRQUFPQTtBQUFFLFVBQUksSUFBRUEsR0FBRTtBQUFnQixVQUFHLFdBQVMsR0FBRTtBQUFDLFlBQUcsZUFBYSxPQUFPQSxHQUFFLE9BQU8sT0FBTSxNQUFNRCxHQUFFLEdBQUcsQ0FBQztBQUFFLFFBQUFDLEtBQUUsT0FBTyxLQUFLQSxFQUFDLEVBQUUsS0FBSyxHQUFHO0FBQUUsY0FBTSxNQUFNRCxHQUFFLEtBQUlDLEVBQUMsQ0FBQztBQUFBLE1BQUU7QUFBQyxNQUFBQSxLQUFFLEdBQUcsQ0FBQztBQUFFLE1BQUFBLEtBQUUsU0FBT0EsS0FBRSxPQUFLQSxHQUFFO0FBQVUsYUFBT0E7QUFBQSxJQUFDO0FBQUUsWUFBUSxZQUFVLFNBQVNBLElBQUU7QUFBQyxhQUFPLEdBQUdBLEVBQUM7QUFBQSxJQUFDO0FBQUUsWUFBUSxVQUFRLFNBQVNBLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFNLE1BQU1GLEdBQUUsR0FBRyxDQUFDO0FBQUUsYUFBTyxHQUFHLE1BQUtDLElBQUUsR0FBRSxNQUFHQyxFQUFDO0FBQUEsSUFBQztBQUMvWSxZQUFRLGNBQVksU0FBU0QsSUFBRSxHQUFFQyxJQUFFO0FBQUMsVUFBRyxDQUFDLEdBQUdELEVBQUMsRUFBRSxPQUFNLE1BQU1ELEdBQUUsR0FBRyxDQUFDO0FBQUUsVUFBSUcsS0FBRSxRQUFNRCxNQUFHQSxHQUFFLG1CQUFpQixNQUFLRyxLQUFFLE9BQUdDLEtBQUUsSUFBRyxJQUFFO0FBQUcsZUFBT0osTUFBRyxXQUFTQSxPQUFJLFNBQUtBLEdBQUUsd0JBQXNCRyxLQUFFLE9BQUksV0FBU0gsR0FBRSxxQkFBbUJJLEtBQUVKLEdBQUUsbUJBQWtCLFdBQVNBLEdBQUUsdUJBQXFCLElBQUVBLEdBQUU7QUFBcUIsVUFBRSxHQUFHLEdBQUUsTUFBS0QsSUFBRSxHQUFFLFFBQU1DLEtBQUVBLEtBQUUsTUFBS0csSUFBRSxPQUFHQyxJQUFFLENBQUM7QUFBRSxNQUFBTCxHQUFFLEVBQUUsSUFBRSxFQUFFO0FBQVEsU0FBR0EsRUFBQztBQUFFLFVBQUdFLEdBQUUsTUFBSUYsS0FBRSxHQUFFQSxLQUFFRSxHQUFFLFFBQU9GLEtBQUksQ0FBQUMsS0FBRUMsR0FBRUYsRUFBQyxHQUFFSSxLQUFFSCxHQUFFLGFBQVlHLEtBQUVBLEdBQUVILEdBQUUsT0FBTyxHQUFFLFFBQU0sRUFBRSxrQ0FBZ0MsRUFBRSxrQ0FBZ0MsQ0FBQ0EsSUFBRUcsRUFBQyxJQUFFLEVBQUUsZ0NBQWdDO0FBQUEsUUFBS0g7QUFBQSxRQUN2aEJHO0FBQUEsTUFBQztBQUFFLGFBQU8sSUFBSSxHQUFHLENBQUM7QUFBQSxJQUFDO0FBQUUsWUFBUSxTQUFPLFNBQVNKLElBQUUsR0FBRUMsSUFBRTtBQUFDLFVBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFNLE1BQU1GLEdBQUUsR0FBRyxDQUFDO0FBQUUsYUFBTyxHQUFHLE1BQUtDLElBQUUsR0FBRSxPQUFHQyxFQUFDO0FBQUEsSUFBQztBQUFFLFlBQVEseUJBQXVCLFNBQVNELElBQUU7QUFBQyxVQUFHLENBQUMsR0FBR0EsRUFBQyxFQUFFLE9BQU0sTUFBTUQsR0FBRSxFQUFFLENBQUM7QUFBRSxhQUFPQyxHQUFFLHVCQUFxQixHQUFHLFdBQVU7QUFBQyxXQUFHLE1BQUssTUFBS0EsSUFBRSxPQUFHLFdBQVU7QUFBQyxVQUFBQSxHQUFFLHNCQUFvQjtBQUFLLFVBQUFBLEdBQUUsRUFBRSxJQUFFO0FBQUEsUUFBSSxDQUFDO0FBQUEsTUFBQyxDQUFDLEdBQUUsUUFBSTtBQUFBLElBQUU7QUFBRSxZQUFRLDBCQUF3QjtBQUMvVSxZQUFRLHNDQUFvQyxTQUFTQSxJQUFFLEdBQUVDLElBQUVDLElBQUU7QUFBQyxVQUFHLENBQUMsR0FBR0QsRUFBQyxFQUFFLE9BQU0sTUFBTUYsR0FBRSxHQUFHLENBQUM7QUFBRSxVQUFHLFFBQU1DLE1BQUcsV0FBU0EsR0FBRSxnQkFBZ0IsT0FBTSxNQUFNRCxHQUFFLEVBQUUsQ0FBQztBQUFFLGFBQU8sR0FBR0MsSUFBRSxHQUFFQyxJQUFFLE9BQUdDLEVBQUM7QUFBQSxJQUFDO0FBQUUsWUFBUSxVQUFRO0FBQUE7QUFBQTs7O0FDalU3TDtBQUFBO0FBQUE7QUFFQSxhQUFTLFdBQVc7QUFFbEIsVUFDRSxPQUFPLG1DQUFtQyxlQUMxQyxPQUFPLCtCQUErQixhQUFhLFlBQ25EO0FBQ0E7QUFBQSxNQUNGO0FBQ0EsVUFBSSxPQUF1QztBQVF6QyxjQUFNLElBQUksTUFBTSxLQUFLO0FBQUEsTUFDdkI7QUFDQSxVQUFJO0FBRUYsdUNBQStCLFNBQVMsUUFBUTtBQUFBLE1BQ2xELFNBQVMsS0FBSztBQUdaLGdCQUFRLE1BQU0sR0FBRztBQUFBLE1BQ25CO0FBQUEsSUFDRjtBQUVBLFFBQUksTUFBdUM7QUFHekMsZUFBUztBQUNULGFBQU8sVUFBVTtBQUFBLElBQ25CLE9BQU87QUFDTCxhQUFPLFVBQVU7QUFBQSxJQUNuQjtBQUFBO0FBQUE7OztBQ3JDQTtBQUFBO0FBQUE7QUFFQSxRQUFJLElBQUk7QUFDUixRQUFJLE1BQXVDO0FBQ3pDLGNBQVEsYUFBYSxFQUFFO0FBQ3ZCLGNBQVEsY0FBYyxFQUFFO0FBQUEsSUFDMUIsT0FBTztBQUNELE1BQUFrQixLQUFJLEVBQUU7QUFDVixjQUFRLGFBQWEsU0FBU0MsSUFBR0MsSUFBRztBQUNsQyxRQUFBRixHQUFFLHdCQUF3QjtBQUMxQixZQUFJO0FBQ0YsaUJBQU8sRUFBRSxXQUFXQyxJQUFHQyxFQUFDO0FBQUEsUUFDMUIsVUFBRTtBQUNBLFVBQUFGLEdBQUUsd0JBQXdCO0FBQUEsUUFDNUI7QUFBQSxNQUNGO0FBQ0EsY0FBUSxjQUFjLFNBQVNDLElBQUdFLElBQUdELElBQUc7QUFDdEMsUUFBQUYsR0FBRSx3QkFBd0I7QUFDMUIsWUFBSTtBQUNGLGlCQUFPLEVBQUUsWUFBWUMsSUFBR0UsSUFBR0QsRUFBQztBQUFBLFFBQzlCLFVBQUU7QUFDQSxVQUFBRixHQUFFLHdCQUF3QjtBQUFBLFFBQzVCO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFqQk0sUUFBQUE7QUFBQTtBQUFBOzs7U0tlVSxZQUFTO0FBQ3ZCLE1BQUksT0FBTyxTQUFTLGFBQWE7QUFDL0IsV0FBTztFQUNSO0FBQ0QsTUFBSSxPQUFPLFdBQVcsYUFBYTtBQUNqQyxXQUFPO0VBQ1I7QUFDRCxNQUFJLE9BQU8sV0FBVyxhQUFhO0FBQ2pDLFdBQU87RUFDUjtBQUNELFFBQU0sSUFBSSxNQUFNLGlDQUFpQztBQUNuRDtTSUpnQixRQUFLO0FBQ25CLE1BQ0UsT0FBTyxjQUFjLGVBQ3JCLE9BQU8sVUFBVSxXQUFXLE1BQU0sVUFDbEM7QUFDQSxXQUFPLFVBQVUsV0FBVztFQUM3QixPQUFNO0FBQ0wsV0FBTztFQUNSO0FBQ0g7U0FTZ0Isa0JBQWU7QUFDN0IsU0FDRSxPQUFPLFdBQVc7O0VBR2xCLENBQUMsRUFBRSxPQUFPLFNBQVMsS0FBSyxPQUFPLFVBQVUsS0FBSyxPQUFPLFVBQVUsTUFDL0Qsb0RBQW9ELEtBQUssTUFBSyxDQUFFO0FBRXBFO1NBaURnQixxQkFBa0I7QUFDaEMsU0FDRSxPQUFPLGNBQWMsZUFDckIsVUFBVSxjQUFjO0FBRTVCO1NBVWdCLHFCQUFrQjtBQUNoQyxRQUFNLFVBQ0osT0FBTyxXQUFXLFdBQ2QsT0FBTyxVQUNQLE9BQU8sWUFBWSxXQUNuQixRQUFRLFVBQ1I7QUFDTixTQUFPLE9BQU8sWUFBWSxZQUFZLFFBQVEsT0FBTztBQUN2RDtTQU9nQixnQkFBYTtBQUMzQixTQUNFLE9BQU8sY0FBYyxZQUFZLFVBQVUsU0FBUyxNQUFNO0FBRTlEO1NBUWdCLE9BQUk7QUFDbEIsUUFBTSxLQUFLLE1BQUs7QUFDaEIsU0FBTyxHQUFHLFFBQVEsT0FBTyxLQUFLLEtBQUssR0FBRyxRQUFRLFVBQVUsS0FBSztBQUMvRDtTQThCZ0IsdUJBQW9CO0FBQ2xDLE1BQUk7QUFDRixXQUFPLE9BQU8sY0FBYztFQUM3QixTQUFRSSxJQUFHO0FBQ1YsV0FBTztFQUNSO0FBQ0g7U0FTZ0IsNEJBQXlCO0FBQ3ZDLFNBQU8sSUFBSSxRQUFRLENBQUMsU0FBUyxXQUFVO0FBQ3JDLFFBQUk7QUFDRixVQUFJLFdBQW9CO0FBQ3hCLFlBQU0sZ0JBQ0o7QUFDRixZQUFNLFVBQVUsS0FBSyxVQUFVLEtBQUssYUFBYTtBQUNqRCxjQUFRLFlBQVksTUFBSztBQUN2QixnQkFBUSxPQUFPLE1BQUs7QUFFcEIsWUFBSSxDQUFDLFVBQVU7QUFDYixlQUFLLFVBQVUsZUFBZSxhQUFhO1FBQzVDO0FBQ0QsZ0JBQVEsSUFBSTtNQUNkO0FBQ0EsY0FBUSxrQkFBa0IsTUFBSztBQUM3QixtQkFBVztNQUNiO0FBRUEsY0FBUSxVQUFVLE1BQUs7O0FBQ3JCLGlCQUFPLEtBQUEsUUFBUSxXQUFLLFFBQUEsT0FBQSxTQUFBLFNBQUEsR0FBRSxZQUFXLEVBQUU7TUFDckM7SUFDRCxTQUFRQyxRQUFPO0FBQ2QsYUFBT0EsTUFBSztJQUNiO0VBQ0gsQ0FBQztBQUNIO0FDOUZBLFNBQVMsZ0JBQWdCLFVBQWtCLE1BQWU7QUFDeEQsU0FBTyxTQUFTLFFBQVEsU0FBUyxDQUFDLEdBQUcsUUFBTztBQUMxQyxVQUFNQyxTQUFRLEtBQUssR0FBRztBQUN0QixXQUFPQSxVQUFTLE9BQU8sT0FBT0EsTUFBSyxJQUFJLElBQUksR0FBRztFQUNoRCxDQUFDO0FBQ0g7QUduR00sU0FBVSxRQUFRLEtBQVc7QUFDakMsYUFBVyxPQUFPLEtBQUs7QUFDckIsUUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLEtBQUssR0FBRyxHQUFHO0FBQ2xELGFBQU87SUFDUjtFQUNGO0FBQ0QsU0FBTztBQUNUO0FBbUJnQixTQUFBLFVBQVVDLElBQVcsR0FBUztBQUM1QyxNQUFJQSxPQUFNLEdBQUc7QUFDWCxXQUFPO0VBQ1I7QUFFRCxRQUFNLFFBQVEsT0FBTyxLQUFLQSxFQUFDO0FBQzNCLFFBQU0sUUFBUSxPQUFPLEtBQUssQ0FBQztBQUMzQixhQUFXLEtBQUssT0FBTztBQUNyQixRQUFJLENBQUMsTUFBTSxTQUFTLENBQUMsR0FBRztBQUN0QixhQUFPO0lBQ1I7QUFFRCxVQUFNLFFBQVNBLEdBQThCLENBQUM7QUFDOUMsVUFBTSxRQUFTLEVBQThCLENBQUM7QUFDOUMsUUFBSSxTQUFTLEtBQUssS0FBSyxTQUFTLEtBQUssR0FBRztBQUN0QyxVQUFJLENBQUMsVUFBVSxPQUFPLEtBQUssR0FBRztBQUM1QixlQUFPO01BQ1I7SUFDRixXQUFVLFVBQVUsT0FBTztBQUMxQixhQUFPO0lBQ1I7RUFDRjtBQUVELGFBQVcsS0FBSyxPQUFPO0FBQ3JCLFFBQUksQ0FBQyxNQUFNLFNBQVMsQ0FBQyxHQUFHO0FBQ3RCLGFBQU87SUFDUjtFQUNGO0FBQ0QsU0FBTztBQUNUO0FBRUEsU0FBUyxTQUFTLE9BQWM7QUFDOUIsU0FBTyxVQUFVLFFBQVEsT0FBTyxVQUFVO0FBQzVDO0FFckVNLFNBQVUsWUFBWSxtQkFFM0I7QUFDQyxRQUFNLFNBQVMsQ0FBQTtBQUNmLGFBQVcsQ0FBQyxLQUFLRCxNQUFLLEtBQUssT0FBTyxRQUFRLGlCQUFpQixHQUFHO0FBQzVELFFBQUksTUFBTSxRQUFRQSxNQUFLLEdBQUc7QUFDeEIsTUFBQUEsT0FBTSxRQUFRLGNBQVc7QUFDdkIsZUFBTyxLQUNMLG1CQUFtQixHQUFHLElBQUksTUFBTSxtQkFBbUIsUUFBUSxDQUFDO01BRWhFLENBQUM7SUFDRixPQUFNO0FBQ0wsYUFBTyxLQUFLLG1CQUFtQixHQUFHLElBQUksTUFBTSxtQkFBbUJBLE1BQUssQ0FBQztJQUN0RTtFQUNGO0FBQ0QsU0FBTyxPQUFPLFNBQVMsTUFBTSxPQUFPLEtBQUssR0FBRyxJQUFJO0FBQ2xEO0FBTU0sU0FBVSxrQkFBa0JFLGNBQW1CO0FBQ25ELFFBQU0sTUFBOEIsQ0FBQTtBQUNwQyxRQUFNLFNBQVNBLGFBQVksUUFBUSxPQUFPLEVBQUUsRUFBRSxNQUFNLEdBQUc7QUFFdkQsU0FBTyxRQUFRLFdBQVE7QUFDckIsUUFBSSxPQUFPO0FBQ1QsWUFBTSxDQUFDLEtBQUtGLE1BQUssSUFBSSxNQUFNLE1BQU0sR0FBRztBQUNwQyxVQUFJLG1CQUFtQixHQUFHLENBQUMsSUFBSSxtQkFBbUJBLE1BQUs7SUFDeEQ7RUFDSCxDQUFDO0FBQ0QsU0FBTztBQUNUO0FBS00sU0FBVSxtQkFBbUIsS0FBVztBQUM1QyxRQUFNLGFBQWEsSUFBSSxRQUFRLEdBQUc7QUFDbEMsTUFBSSxDQUFDLFlBQVk7QUFDZixXQUFPO0VBQ1I7QUFDRCxRQUFNLGdCQUFnQixJQUFJLFFBQVEsS0FBSyxVQUFVO0FBQ2pELFNBQU8sSUFBSSxVQUNULFlBQ0EsZ0JBQWdCLElBQUksZ0JBQWdCLE1BQVM7QUFFakQ7QUVWZ0IsU0FBQSxnQkFDZCxVQUNBLGVBQTJCO0FBRTNCLFFBQU0sUUFBUSxJQUFJLGNBQWlCLFVBQVUsYUFBYTtBQUMxRCxTQUFPLE1BQU0sVUFBVSxLQUFLLEtBQUs7QUFDbkM7QUF1TkEsU0FBUyxxQkFDUCxLQUNBLFNBQWlCO0FBRWpCLE1BQUksT0FBTyxRQUFRLFlBQVksUUFBUSxNQUFNO0FBQzNDLFdBQU87RUFDUjtBQUVELGFBQVcsVUFBVSxTQUFTO0FBQzVCLFFBQUksVUFBVSxPQUFPLE9BQU8sSUFBSSxNQUFNLE1BQU0sWUFBWTtBQUN0RCxhQUFPO0lBQ1I7RUFDRjtBQUVELFNBQU87QUFDVDtBQUVBLFNBQVNHLFFBQUk7QUFFYjtBTXZSTSxTQUFVLG1CQUNkLFNBQXdDO0FBRXhDLE1BQUksV0FBWSxRQUErQixXQUFXO0FBQ3hELFdBQVEsUUFBK0I7RUFDeEMsT0FBTTtBQUNMLFdBQU87RUFDUjtBQUNIO0F0QjdCQSxJRWlCTUMscUJBcUNBLG1CQW9ETyxRQXdPQSx5QkFPQSxjQVNBLCtCQWNBLGNHelRQLHVCQVdBLDRCQVVBLHVCQXVCTyxhQXlCQSx3QkFtQ0EscUJBUUEsd0JDdEpBLFVHNENQLFlBWU8sZUF5QkEsY0FtQ1AsU083REEsZUl2Q087QXBCakNiOztBRWlCQSxJQUFNQSxzQkFBb0IsU0FBVSxLQUFXO0FBRTdDLFlBQU0sTUFBZ0IsQ0FBQTtBQUN0QixVQUFJQyxLQUFJO0FBQ1IsZUFBU0MsS0FBSSxHQUFHQSxLQUFJLElBQUksUUFBUUEsTUFBSztBQUNuQyxZQUFJQyxLQUFJLElBQUksV0FBV0QsRUFBQztBQUN4QixZQUFJQyxLQUFJLEtBQUs7QUFDWCxjQUFJRixJQUFHLElBQUlFO1FBQ1osV0FBVUEsS0FBSSxNQUFNO0FBQ25CLGNBQUlGLElBQUcsSUFBS0UsTUFBSyxJQUFLO0FBQ3RCLGNBQUlGLElBQUcsSUFBS0UsS0FBSSxLQUFNO1FBQ3ZCLFlBQ0VBLEtBQUksV0FBWSxTQUNqQkQsS0FBSSxJQUFJLElBQUksV0FDWCxJQUFJLFdBQVdBLEtBQUksQ0FBQyxJQUFJLFdBQVksT0FDckM7QUFFQSxVQUFBQyxLQUFJLFVBQVlBLEtBQUksU0FBVyxPQUFPLElBQUksV0FBVyxFQUFFRCxFQUFDLElBQUk7QUFDNUQsY0FBSUQsSUFBRyxJQUFLRSxNQUFLLEtBQU07QUFDdkIsY0FBSUYsSUFBRyxJQUFNRSxNQUFLLEtBQU0sS0FBTTtBQUM5QixjQUFJRixJQUFHLElBQU1FLE1BQUssSUFBSyxLQUFNO0FBQzdCLGNBQUlGLElBQUcsSUFBS0UsS0FBSSxLQUFNO1FBQ3ZCLE9BQU07QUFDTCxjQUFJRixJQUFHLElBQUtFLE1BQUssS0FBTTtBQUN2QixjQUFJRixJQUFHLElBQU1FLE1BQUssSUFBSyxLQUFNO0FBQzdCLGNBQUlGLElBQUcsSUFBS0UsS0FBSSxLQUFNO1FBQ3ZCO01BQ0Y7QUFDRCxhQUFPO0lBQ1Q7QUFRQSxJQUFNLG9CQUFvQixTQUFVLE9BQWU7QUFFakQsWUFBTSxNQUFnQixDQUFBO0FBQ3RCLFVBQUksTUFBTSxHQUNSQSxLQUFJO0FBQ04sYUFBTyxNQUFNLE1BQU0sUUFBUTtBQUN6QixjQUFNLEtBQUssTUFBTSxLQUFLO0FBQ3RCLFlBQUksS0FBSyxLQUFLO0FBQ1osY0FBSUEsSUFBRyxJQUFJLE9BQU8sYUFBYSxFQUFFO1FBQ2xDLFdBQVUsS0FBSyxPQUFPLEtBQUssS0FBSztBQUMvQixnQkFBTUMsTUFBSyxNQUFNLEtBQUs7QUFDdEIsY0FBSUQsSUFBRyxJQUFJLE9BQU8sY0FBZSxLQUFLLE9BQU8sSUFBTUMsTUFBSyxFQUFHO1FBQzVELFdBQVUsS0FBSyxPQUFPLEtBQUssS0FBSztBQUUvQixnQkFBTUEsTUFBSyxNQUFNLEtBQUs7QUFDdEIsZ0JBQU1DLE1BQUssTUFBTSxLQUFLO0FBQ3RCLGdCQUFNLEtBQUssTUFBTSxLQUFLO0FBQ3RCLGdCQUFNQyxPQUNELEtBQUssTUFBTSxNQUFRRixNQUFLLE9BQU8sTUFBUUMsTUFBSyxPQUFPLElBQU0sS0FBSyxNQUNqRTtBQUNGLGNBQUlGLElBQUcsSUFBSSxPQUFPLGFBQWEsU0FBVUcsTUFBSyxHQUFHO0FBQ2pELGNBQUlILElBQUcsSUFBSSxPQUFPLGFBQWEsU0FBVUcsS0FBSSxLQUFLO1FBQ25ELE9BQU07QUFDTCxnQkFBTUYsTUFBSyxNQUFNLEtBQUs7QUFDdEIsZ0JBQU1DLE1BQUssTUFBTSxLQUFLO0FBQ3RCLGNBQUlGLElBQUcsSUFBSSxPQUFPLGNBQ2QsS0FBSyxPQUFPLE1BQVFDLE1BQUssT0FBTyxJQUFNQyxNQUFLLEVBQUc7UUFFbkQ7TUFDRjtBQUNELGFBQU8sSUFBSSxLQUFLLEVBQUU7SUFDcEI7QUFxQmEsSUFBQSxTQUFpQjs7OztNQUk1QixnQkFBZ0I7Ozs7TUFLaEIsZ0JBQWdCOzs7OztNQU1oQix1QkFBdUI7Ozs7O01BTXZCLHVCQUF1Qjs7Ozs7TUFNdkIsbUJBQ0U7Ozs7TUFLRixJQUFJLGVBQVk7QUFDZCxlQUFPLEtBQUssb0JBQW9COzs7OztNQU1sQyxJQUFJLHVCQUFvQjtBQUN0QixlQUFPLEtBQUssb0JBQW9COzs7Ozs7Ozs7TUFVbEMsb0JBQW9CLE9BQU8sU0FBUzs7Ozs7Ozs7OztNQVdwQyxnQkFBZ0IsT0FBOEIsU0FBaUI7QUFDN0QsWUFBSSxDQUFDLE1BQU0sUUFBUSxLQUFLLEdBQUc7QUFDekIsZ0JBQU0sTUFBTSwrQ0FBK0M7UUFDNUQ7QUFFRCxhQUFLLE1BQUs7QUFFVixjQUFNLGdCQUFnQixVQUNsQixLQUFLLHdCQUNMLEtBQUs7QUFFVCxjQUFNLFNBQVMsQ0FBQTtBQUVmLGlCQUFTSCxLQUFJLEdBQUdBLEtBQUksTUFBTSxRQUFRQSxNQUFLLEdBQUc7QUFDeEMsZ0JBQU0sUUFBUSxNQUFNQSxFQUFDO0FBQ3JCLGdCQUFNLFlBQVlBLEtBQUksSUFBSSxNQUFNO0FBQ2hDLGdCQUFNLFFBQVEsWUFBWSxNQUFNQSxLQUFJLENBQUMsSUFBSTtBQUN6QyxnQkFBTSxZQUFZQSxLQUFJLElBQUksTUFBTTtBQUNoQyxnQkFBTSxRQUFRLFlBQVksTUFBTUEsS0FBSSxDQUFDLElBQUk7QUFFekMsZ0JBQU0sV0FBVyxTQUFTO0FBQzFCLGdCQUFNLFlBQWEsUUFBUSxNQUFTLElBQU0sU0FBUztBQUNuRCxjQUFJLFlBQWEsUUFBUSxPQUFTLElBQU0sU0FBUztBQUNqRCxjQUFJLFdBQVcsUUFBUTtBQUV2QixjQUFJLENBQUMsV0FBVztBQUNkLHVCQUFXO0FBRVgsZ0JBQUksQ0FBQyxXQUFXO0FBQ2QseUJBQVc7WUFDWjtVQUNGO0FBRUQsaUJBQU8sS0FDTCxjQUFjLFFBQVEsR0FDdEIsY0FBYyxRQUFRLEdBQ3RCLGNBQWMsUUFBUSxHQUN0QixjQUFjLFFBQVEsQ0FBQztRQUUxQjtBQUVELGVBQU8sT0FBTyxLQUFLLEVBQUU7Ozs7Ozs7Ozs7TUFXdkIsYUFBYSxPQUFlLFNBQWlCO0FBRzNDLFlBQUksS0FBSyxzQkFBc0IsQ0FBQyxTQUFTO0FBQ3ZDLGlCQUFPLEtBQUssS0FBSztRQUNsQjtBQUNELGVBQU8sS0FBSyxnQkFBZ0JGLG9CQUFrQixLQUFLLEdBQUcsT0FBTzs7Ozs7Ozs7OztNQVcvRCxhQUFhLE9BQWUsU0FBZ0I7QUFHMUMsWUFBSSxLQUFLLHNCQUFzQixDQUFDLFNBQVM7QUFDdkMsaUJBQU8sS0FBSyxLQUFLO1FBQ2xCO0FBQ0QsZUFBTyxrQkFBa0IsS0FBSyx3QkFBd0IsT0FBTyxPQUFPLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O01Ba0J2RSx3QkFBd0IsT0FBZSxTQUFnQjtBQUNyRCxhQUFLLE1BQUs7QUFFVixjQUFNLGdCQUFnQixVQUNsQixLQUFLLHdCQUNMLEtBQUs7QUFFVCxjQUFNLFNBQW1CLENBQUE7QUFFekIsaUJBQVNFLEtBQUksR0FBR0EsS0FBSSxNQUFNLFVBQVU7QUFDbEMsZ0JBQU0sUUFBUSxjQUFjLE1BQU0sT0FBT0EsSUFBRyxDQUFDO0FBRTdDLGdCQUFNLFlBQVlBLEtBQUksTUFBTTtBQUM1QixnQkFBTSxRQUFRLFlBQVksY0FBYyxNQUFNLE9BQU9BLEVBQUMsQ0FBQyxJQUFJO0FBQzNELFlBQUVBO0FBRUYsZ0JBQU0sWUFBWUEsS0FBSSxNQUFNO0FBQzVCLGdCQUFNLFFBQVEsWUFBWSxjQUFjLE1BQU0sT0FBT0EsRUFBQyxDQUFDLElBQUk7QUFDM0QsWUFBRUE7QUFFRixnQkFBTSxZQUFZQSxLQUFJLE1BQU07QUFDNUIsZ0JBQU0sUUFBUSxZQUFZLGNBQWMsTUFBTSxPQUFPQSxFQUFDLENBQUMsSUFBSTtBQUMzRCxZQUFFQTtBQUVGLGNBQUksU0FBUyxRQUFRLFNBQVMsUUFBUSxTQUFTLFFBQVEsU0FBUyxNQUFNO0FBQ3BFLGtCQUFNLElBQUksd0JBQXVCO1VBQ2xDO0FBRUQsZ0JBQU0sV0FBWSxTQUFTLElBQU0sU0FBUztBQUMxQyxpQkFBTyxLQUFLLFFBQVE7QUFFcEIsY0FBSSxVQUFVLElBQUk7QUFDaEIsa0JBQU0sV0FBYSxTQUFTLElBQUssTUFBUyxTQUFTO0FBQ25ELG1CQUFPLEtBQUssUUFBUTtBQUVwQixnQkFBSSxVQUFVLElBQUk7QUFDaEIsb0JBQU0sV0FBYSxTQUFTLElBQUssTUFBUTtBQUN6QyxxQkFBTyxLQUFLLFFBQVE7WUFDckI7VUFDRjtRQUNGO0FBRUQsZUFBTzs7Ozs7OztNQVFULFFBQUs7QUFDSCxZQUFJLENBQUMsS0FBSyxnQkFBZ0I7QUFDeEIsZUFBSyxpQkFBaUIsQ0FBQTtBQUN0QixlQUFLLGlCQUFpQixDQUFBO0FBQ3RCLGVBQUssd0JBQXdCLENBQUE7QUFDN0IsZUFBSyx3QkFBd0IsQ0FBQTtBQUc3QixtQkFBU0EsS0FBSSxHQUFHQSxLQUFJLEtBQUssYUFBYSxRQUFRQSxNQUFLO0FBQ2pELGlCQUFLLGVBQWVBLEVBQUMsSUFBSSxLQUFLLGFBQWEsT0FBT0EsRUFBQztBQUNuRCxpQkFBSyxlQUFlLEtBQUssZUFBZUEsRUFBQyxDQUFDLElBQUlBO0FBQzlDLGlCQUFLLHNCQUFzQkEsRUFBQyxJQUFJLEtBQUsscUJBQXFCLE9BQU9BLEVBQUM7QUFDbEUsaUJBQUssc0JBQXNCLEtBQUssc0JBQXNCQSxFQUFDLENBQUMsSUFBSUE7QUFHNUQsZ0JBQUlBLE1BQUssS0FBSyxrQkFBa0IsUUFBUTtBQUN0QyxtQkFBSyxlQUFlLEtBQUsscUJBQXFCLE9BQU9BLEVBQUMsQ0FBQyxJQUFJQTtBQUMzRCxtQkFBSyxzQkFBc0IsS0FBSyxhQUFhLE9BQU9BLEVBQUMsQ0FBQyxJQUFJQTtZQUMzRDtVQUNGO1FBQ0Y7OztBQU9DLElBQU8sMEJBQVAsY0FBdUMsTUFBSztNQUFsRCxjQUFBOztBQUNXLGFBQUksT0FBRzs7SUFDakI7QUFLTSxJQUFNLGVBQWUsU0FBVSxLQUFXO0FBQy9DLFlBQU0sWUFBWUYsb0JBQWtCLEdBQUc7QUFDdkMsYUFBTyxPQUFPLGdCQUFnQixXQUFXLElBQUk7SUFDL0M7QUFNTyxJQUFNLGdDQUFnQyxTQUFVLEtBQVc7QUFFaEUsYUFBTyxhQUFhLEdBQUcsRUFBRSxRQUFRLE9BQU8sRUFBRTtJQUM1QztBQVdPLElBQU0sZUFBZSxTQUFVLEtBQVc7QUFDL0MsVUFBSTtBQUNGLGVBQU8sT0FBTyxhQUFhLEtBQUssSUFBSTtNQUNyQyxTQUFRTixJQUFHO0FBQ1YsZ0JBQVEsTUFBTSx5QkFBeUJBLEVBQUM7TUFDekM7QUFDRCxhQUFPO0lBQ1Q7QUdoVUEsSUFBTSx3QkFBd0IsTUFDNUIsVUFBUyxFQUFHO0FBVWQsSUFBTSw2QkFBNkIsTUFBbUM7QUFDcEUsVUFBSSxPQUFPLFlBQVksZUFBZSxPQUFPLFFBQVEsUUFBUSxhQUFhO0FBQ3hFO01BQ0Q7QUFDRCxZQUFNLHFCQUFxQixRQUFRLElBQUk7QUFDdkMsVUFBSSxvQkFBb0I7QUFDdEIsZUFBTyxLQUFLLE1BQU0sa0JBQWtCO01BQ3JDO0lBQ0g7QUFFQSxJQUFNLHdCQUF3QixNQUFtQztBQUMvRCxVQUFJLE9BQU8sYUFBYSxhQUFhO0FBQ25DO01BQ0Q7QUFDRCxVQUFJO0FBQ0osVUFBSTtBQUNGLGdCQUFRLFNBQVMsT0FBTyxNQUFNLCtCQUErQjtNQUM5RCxTQUFRQSxJQUFHO0FBR1Y7TUFDRDtBQUNELFlBQU0sVUFBVSxTQUFTLGFBQWEsTUFBTSxDQUFDLENBQUM7QUFDOUMsYUFBTyxXQUFXLEtBQUssTUFBTSxPQUFPO0lBQ3RDO0FBU08sSUFBTSxjQUFjLE1BQW1DO0FBQzVELFVBQUk7QUFDRixlQUNFLHNCQUFxQixLQUNyQiwyQkFBMEIsS0FDMUIsc0JBQXFCO01BRXhCLFNBQVFBLElBQUc7QUFPVixnQkFBUSxLQUFLLCtDQUErQ0EsRUFBQyxFQUFFO0FBQy9EO01BQ0Q7SUFDSDtJQVFhLHlCQUF5QixDQUNwQyxnQkFDdUI7QUFBQSxVQUFBLElBQUE7QUFBQSxjQUFBLE1BQUEsS0FBQSxZQUFXLE9BQUksUUFBQSxPQUFBLFNBQUEsU0FBQSxHQUFBLG1CQUFhLFFBQUEsT0FBQSxTQUFBLFNBQUEsR0FBRyxXQUFXO0lBQUM7QUFpQzdELElBQU0sc0JBQXNCLE1BQXlDO0FBQUEsVUFBQTtBQUMxRSxjQUFBLEtBQUEsWUFBVyxPQUFFLFFBQUEsT0FBQSxTQUFBLFNBQUEsR0FBRTtJQUFNO0lBT1YseUJBQXlCLENBQ3BDYSxVQUVBO0FBQUEsVUFBQTtBQUFBLGNBQUEsS0FBQSxZQUFXLE9BQUUsUUFBQSxPQUFBLFNBQUEsU0FBQSxHQUFHLElBQUlBLEtBQUksRUFBRTtJQUE4QjtJQ3pKN0MsaUJBQVE7TUFJbkIsY0FBQTtBQUZBLGFBQUEsU0FBb0MsTUFBSztRQUFBO0FBQ3pDLGFBQUEsVUFBcUMsTUFBSztRQUFBO0FBRXhDLGFBQUssVUFBVSxJQUFJLFFBQVEsQ0FBQyxTQUFTLFdBQVU7QUFDN0MsZUFBSyxVQUFVO0FBQ2YsZUFBSyxTQUFTO1FBQ2hCLENBQUM7Ozs7Ozs7TUFRSCxhQUNFLFVBQXFEO0FBRXJELGVBQU8sQ0FBQ1osUUFBT0MsV0FBVTtBQUN2QixjQUFJRCxRQUFPO0FBQ1QsaUJBQUssT0FBT0EsTUFBSztVQUNsQixPQUFNO0FBQ0wsaUJBQUssUUFBUUMsTUFBSztVQUNuQjtBQUNELGNBQUksT0FBTyxhQUFhLFlBQVk7QUFHbEMsaUJBQUssUUFBUSxNQUFNLE1BQUs7WUFBQSxDQUFHO0FBSTNCLGdCQUFJLFNBQVMsV0FBVyxHQUFHO0FBQ3pCLHVCQUFTRCxNQUFLO1lBQ2YsT0FBTTtBQUNMLHVCQUFTQSxRQUFPQyxNQUFLO1lBQ3RCO1VBQ0Y7UUFDSDs7SUFFSDtBR0lELElBQU0sYUFBYTtBQVliLElBQU8sZ0JBQVAsTUFBTyx1QkFBc0IsTUFBSztNQUl0QyxZQUVXLE1BQ1QsU0FFTyxZQUFvQztBQUUzQyxjQUFNLE9BQU87QUFMSixhQUFJLE9BQUo7QUFHRixhQUFVLGFBQVY7QUFQQSxhQUFJLE9BQVc7QUFhdEIsZUFBTyxlQUFlLE1BQU0sZUFBYyxTQUFTO0FBSW5ELFlBQUksTUFBTSxtQkFBbUI7QUFDM0IsZ0JBQU0sa0JBQWtCLE1BQU0sYUFBYSxVQUFVLE1BQU07UUFDNUQ7O0lBRUo7SUFFWSxxQkFBWTtNQUl2QixZQUNtQixTQUNBLGFBQ0EsUUFBMkI7QUFGM0IsYUFBTyxVQUFQO0FBQ0EsYUFBVyxjQUFYO0FBQ0EsYUFBTSxTQUFOOztNQUduQixPQUNFLFNBQ0csTUFBeUQ7QUFFNUQsY0FBTSxhQUFjLEtBQUssQ0FBQyxLQUFtQixDQUFBO0FBQzdDLGNBQU0sV0FBVyxHQUFHLEtBQUssT0FBTyxJQUFJLElBQUk7QUFDeEMsY0FBTSxXQUFXLEtBQUssT0FBTyxJQUFJO0FBRWpDLGNBQU0sVUFBVSxXQUFXLGdCQUFnQixVQUFVLFVBQVUsSUFBSTtBQUVuRSxjQUFNLGNBQWMsR0FBRyxLQUFLLFdBQVcsS0FBSyxPQUFPLEtBQUssUUFBUTtBQUVoRSxjQUFNRCxTQUFRLElBQUksY0FBYyxVQUFVLGFBQWEsVUFBVTtBQUVqRSxlQUFPQTs7SUFFVjtBQVNELElBQU0sVUFBVTtBTzdEaEIsSUFBTSxnQkFBTixNQUFtQjs7Ozs7O01BZWpCLFlBQVksVUFBdUIsZUFBMkI7QUFkdEQsYUFBUyxZQUFtQyxDQUFBO0FBQzVDLGFBQVksZUFBa0IsQ0FBQTtBQUU5QixhQUFhLGdCQUFHO0FBRWhCLGFBQUEsT0FBTyxRQUFRLFFBQU87QUFDdEIsYUFBUyxZQUFHO0FBU2xCLGFBQUssZ0JBQWdCO0FBSXJCLGFBQUssS0FDRixLQUFLLE1BQUs7QUFDVCxtQkFBUyxJQUFJO1FBQ2YsQ0FBQyxFQUNBLE1BQU0sQ0FBQUQsT0FBSTtBQUNULGVBQUssTUFBTUEsRUFBQztRQUNkLENBQUM7O01BR0wsS0FBS0UsUUFBUTtBQUNYLGFBQUssZ0JBQWdCLENBQUMsYUFBeUI7QUFDN0MsbUJBQVMsS0FBS0EsTUFBSztRQUNyQixDQUFDOztNQUdILE1BQU1ELFFBQVk7QUFDaEIsYUFBSyxnQkFBZ0IsQ0FBQyxhQUF5QjtBQUM3QyxtQkFBUyxNQUFNQSxNQUFLO1FBQ3RCLENBQUM7QUFDRCxhQUFLLE1BQU1BLE1BQUs7O01BR2xCLFdBQVE7QUFDTixhQUFLLGdCQUFnQixDQUFDLGFBQXlCO0FBQzdDLG1CQUFTLFNBQVE7UUFDbkIsQ0FBQztBQUNELGFBQUssTUFBSzs7Ozs7Ozs7TUFTWixVQUNFLGdCQUNBQSxRQUNBLFVBQXFCO0FBRXJCLFlBQUk7QUFFSixZQUNFLG1CQUFtQixVQUNuQkEsV0FBVSxVQUNWLGFBQWEsUUFDYjtBQUNBLGdCQUFNLElBQUksTUFBTSxtQkFBbUI7UUFDcEM7QUFHRCxZQUNFLHFCQUFxQixnQkFBOEM7VUFDakU7VUFDQTtVQUNBO1FBQ0QsQ0FBQSxHQUNEO0FBQ0EscUJBQVc7UUFDWixPQUFNO0FBQ0wscUJBQVc7WUFDVCxNQUFNO1lBQ04sT0FBQUE7WUFDQTs7UUFFSDtBQUVELFlBQUksU0FBUyxTQUFTLFFBQVc7QUFDL0IsbUJBQVMsT0FBT0k7UUFDakI7QUFDRCxZQUFJLFNBQVMsVUFBVSxRQUFXO0FBQ2hDLG1CQUFTLFFBQVFBO1FBQ2xCO0FBQ0QsWUFBSSxTQUFTLGFBQWEsUUFBVztBQUNuQyxtQkFBUyxXQUFXQTtRQUNyQjtBQUVELGNBQU0sUUFBUSxLQUFLLGVBQWUsS0FBSyxNQUFNLEtBQUssVUFBVyxNQUFNO0FBS25FLFlBQUksS0FBSyxXQUFXO0FBRWxCLGVBQUssS0FBSyxLQUFLLE1BQUs7QUFDbEIsZ0JBQUk7QUFDRixrQkFBSSxLQUFLLFlBQVk7QUFDbkIseUJBQVMsTUFBTSxLQUFLLFVBQVU7Y0FDL0IsT0FBTTtBQUNMLHlCQUFTLFNBQVE7Y0FDbEI7WUFDRixTQUFRTCxJQUFHO1lBRVg7QUFDRDtVQUNGLENBQUM7UUFDRjtBQUVELGFBQUssVUFBVyxLQUFLLFFBQXVCO0FBRTVDLGVBQU87Ozs7TUFLRCxlQUFlUSxJQUFTO0FBQzlCLFlBQUksS0FBSyxjQUFjLFVBQWEsS0FBSyxVQUFVQSxFQUFDLE1BQU0sUUFBVztBQUNuRTtRQUNEO0FBRUQsZUFBTyxLQUFLLFVBQVVBLEVBQUM7QUFFdkIsYUFBSyxpQkFBaUI7QUFDdEIsWUFBSSxLQUFLLGtCQUFrQixLQUFLLEtBQUssa0JBQWtCLFFBQVc7QUFDaEUsZUFBSyxjQUFjLElBQUk7UUFDeEI7O01BR0ssZ0JBQWdCLElBQW1DO0FBQ3pELFlBQUksS0FBSyxXQUFXO0FBRWxCO1FBQ0Q7QUFJRCxpQkFBU0EsS0FBSSxHQUFHQSxLQUFJLEtBQUssVUFBVyxRQUFRQSxNQUFLO0FBQy9DLGVBQUssUUFBUUEsSUFBRyxFQUFFO1FBQ25COzs7OztNQU1LLFFBQVFBLElBQVcsSUFBbUM7QUFHNUQsYUFBSyxLQUFLLEtBQUssTUFBSztBQUNsQixjQUFJLEtBQUssY0FBYyxVQUFhLEtBQUssVUFBVUEsRUFBQyxNQUFNLFFBQVc7QUFDbkUsZ0JBQUk7QUFDRixpQkFBRyxLQUFLLFVBQVVBLEVBQUMsQ0FBQztZQUNyQixTQUFRUixJQUFHO0FBSVYsa0JBQUksT0FBTyxZQUFZLGVBQWUsUUFBUSxPQUFPO0FBQ25ELHdCQUFRLE1BQU1BLEVBQUM7Y0FDaEI7WUFDRjtVQUNGO1FBQ0gsQ0FBQzs7TUFHSyxNQUFNLEtBQVc7QUFDdkIsWUFBSSxLQUFLLFdBQVc7QUFDbEI7UUFDRDtBQUNELGFBQUssWUFBWTtBQUNqQixZQUFJLFFBQVEsUUFBVztBQUNyQixlQUFLLGFBQWE7UUFDbkI7QUFHRCxhQUFLLEtBQUssS0FBSyxNQUFLO0FBQ2xCLGVBQUssWUFBWTtBQUNqQixlQUFLLGdCQUFnQjtRQUN2QixDQUFDOztJQUVKO0FJbk9NLElBQU0sbUJBQW1CLElBQUksS0FBSyxLQUFLOzs7OztBS2tWOUMsU0FBUyw4QkFBOEIsWUFBa0I7QUFDdkQsU0FBTyxlQUFlLHFCQUFxQixTQUFZO0FBQ3pEO0FBRUEsU0FBUyxpQkFBaUMsV0FBdUI7QUFDL0QsU0FBTyxVQUFVLHNCQUFpQjtBQUNwQztJRjdWYWMsWUNYQSxvQkNnQkEsVUNUQTs7OztJSElBQSxtQkFBUzs7Ozs7OztNQWlCcEIsWUFDV0MsT0FDQSxpQkFDQUMsT0FBbUI7QUFGbkIsYUFBSSxPQUFKRDtBQUNBLGFBQWUsa0JBQWY7QUFDQSxhQUFJLE9BQUpDO0FBbkJYLGFBQWlCLG9CQUFHO0FBSXBCLGFBQVksZUFBZSxDQUFBO0FBRTNCLGFBQUEsb0JBQTJDO0FBRTNDLGFBQWlCLG9CQUF3Qzs7TUFjekQscUJBQXFCLE1BQXVCO0FBQzFDLGFBQUssb0JBQW9CO0FBQ3pCLGVBQU87O01BR1QscUJBQXFCLG1CQUEwQjtBQUM3QyxhQUFLLG9CQUFvQjtBQUN6QixlQUFPOztNQUdULGdCQUFnQixPQUFpQjtBQUMvQixhQUFLLGVBQWU7QUFDcEIsZUFBTzs7TUFHVCwyQkFBMkIsVUFBc0M7QUFDL0QsYUFBSyxvQkFBb0I7QUFDekIsZUFBTzs7SUFFVjtBQ3JETSxJQUFNLHFCQUFxQjtJQ2dCckIsaUJBQVE7TUFXbkIsWUFDbUJELE9BQ0EsV0FBNkI7QUFEN0IsYUFBSSxPQUFKQTtBQUNBLGFBQVMsWUFBVDtBQVpYLGFBQVMsWUFBd0I7QUFDeEIsYUFBQSxZQUFnRCxvQkFBSSxJQUFHO0FBQ3ZELGFBQUEsb0JBR2Isb0JBQUksSUFBRztBQUNNLGFBQUEsbUJBQ2Ysb0JBQUksSUFBRztBQUNELGFBQUEsa0JBQXVELG9CQUFJLElBQUc7Ozs7OztNQVd0RSxJQUFJLFlBQW1CO0FBRXJCLGNBQU0sdUJBQXVCLEtBQUssNEJBQTRCLFVBQVU7QUFFeEUsWUFBSSxDQUFDLEtBQUssa0JBQWtCLElBQUksb0JBQW9CLEdBQUc7QUFDckQsZ0JBQU0sV0FBVyxJQUFJLFNBQVE7QUFDN0IsZUFBSyxrQkFBa0IsSUFBSSxzQkFBc0IsUUFBUTtBQUV6RCxjQUNFLEtBQUssY0FBYyxvQkFBb0IsS0FDdkMsS0FBSyxxQkFBb0IsR0FDekI7QUFFQSxnQkFBSTtBQUNGLG9CQUFNLFdBQVcsS0FBSyx1QkFBdUI7Z0JBQzNDLG9CQUFvQjtjQUNyQixDQUFBO0FBQ0Qsa0JBQUksVUFBVTtBQUNaLHlCQUFTLFFBQVEsUUFBUTtjQUMxQjtZQUNGLFNBQVFFLElBQUc7WUFHWDtVQUNGO1FBQ0Y7QUFFRCxlQUFPLEtBQUssa0JBQWtCLElBQUksb0JBQW9CLEVBQUc7O01BbUIzRCxhQUFhLFNBR1o7O0FBRUMsY0FBTSx1QkFBdUIsS0FBSyw0QkFDaEMsWUFBQSxRQUFBLFlBQUEsU0FBQSxTQUFBLFFBQVMsVUFBVTtBQUVyQixjQUFNLFlBQVcsS0FBQSxZQUFBLFFBQUEsWUFBQSxTQUFBLFNBQUEsUUFBUyxjQUFZLFFBQUEsT0FBQSxTQUFBLEtBQUE7QUFFdEMsWUFDRSxLQUFLLGNBQWMsb0JBQW9CLEtBQ3ZDLEtBQUsscUJBQW9CLEdBQ3pCO0FBQ0EsY0FBSTtBQUNGLG1CQUFPLEtBQUssdUJBQXVCO2NBQ2pDLG9CQUFvQjtZQUNyQixDQUFBO1VBQ0YsU0FBUUEsSUFBRztBQUNWLGdCQUFJLFVBQVU7QUFDWixxQkFBTztZQUNSLE9BQU07QUFDTCxvQkFBTUE7WUFDUDtVQUNGO1FBQ0YsT0FBTTtBQUVMLGNBQUksVUFBVTtBQUNaLG1CQUFPO1VBQ1IsT0FBTTtBQUNMLGtCQUFNLE1BQU0sV0FBVyxLQUFLLElBQUksbUJBQW1CO1VBQ3BEO1FBQ0Y7O01BR0gsZUFBWTtBQUNWLGVBQU8sS0FBSzs7TUFHZCxhQUFhLFdBQXVCO0FBQ2xDLFlBQUksVUFBVSxTQUFTLEtBQUssTUFBTTtBQUNoQyxnQkFBTSxNQUNKLHlCQUF5QixVQUFVLElBQUksaUJBQWlCLEtBQUssSUFBSSxHQUFHO1FBRXZFO0FBRUQsWUFBSSxLQUFLLFdBQVc7QUFDbEIsZ0JBQU0sTUFBTSxpQkFBaUIsS0FBSyxJQUFJLDRCQUE0QjtRQUNuRTtBQUVELGFBQUssWUFBWTtBQUdqQixZQUFJLENBQUMsS0FBSyxxQkFBb0IsR0FBSTtBQUNoQztRQUNEO0FBR0QsWUFBSSxpQkFBaUIsU0FBUyxHQUFHO0FBQy9CLGNBQUk7QUFDRixpQkFBSyx1QkFBdUIsRUFBRSxvQkFBb0IsbUJBQWtCLENBQUU7VUFDdkUsU0FBUUEsSUFBRztVQUtYO1FBQ0Y7QUFLRCxtQkFBVyxDQUNULG9CQUNBLGdCQUFnQixLQUNiLEtBQUssa0JBQWtCLFFBQU8sR0FBSTtBQUNyQyxnQkFBTSx1QkFDSixLQUFLLDRCQUE0QixrQkFBa0I7QUFFckQsY0FBSTtBQUVGLGtCQUFNLFdBQVcsS0FBSyx1QkFBdUI7Y0FDM0Msb0JBQW9CO1lBQ3JCLENBQUE7QUFDRCw2QkFBaUIsUUFBUSxRQUFRO1VBQ2xDLFNBQVFBLElBQUc7VUFHWDtRQUNGOztNQUdILGNBQWMsYUFBcUIsb0JBQWtCO0FBQ25ELGFBQUssa0JBQWtCLE9BQU8sVUFBVTtBQUN4QyxhQUFLLGlCQUFpQixPQUFPLFVBQVU7QUFDdkMsYUFBSyxVQUFVLE9BQU8sVUFBVTs7OztNQUtsQyxNQUFNLFNBQU07QUFDVixjQUFNLFdBQVcsTUFBTSxLQUFLLEtBQUssVUFBVSxPQUFNLENBQUU7QUFFbkQsY0FBTSxRQUFRLElBQUk7VUFDaEIsR0FBRyxTQUNBLE9BQU8sYUFBVyxjQUFjLE9BQU8sRUFFdkMsSUFBSSxhQUFZLFFBQWdCLFNBQVUsT0FBTSxDQUFFO1VBQ3JELEdBQUcsU0FDQSxPQUFPLGFBQVcsYUFBYSxPQUFPLEVBRXRDLElBQUksYUFBWSxRQUFnQixRQUFPLENBQUU7UUFDN0MsQ0FBQTs7TUFHSCxpQkFBYztBQUNaLGVBQU8sS0FBSyxhQUFhOztNQUczQixjQUFjLGFBQXFCLG9CQUFrQjtBQUNuRCxlQUFPLEtBQUssVUFBVSxJQUFJLFVBQVU7O01BR3RDLFdBQVcsYUFBcUIsb0JBQWtCO0FBQ2hELGVBQU8sS0FBSyxpQkFBaUIsSUFBSSxVQUFVLEtBQUssQ0FBQTs7TUFHbEQsV0FBVyxPQUEwQixDQUFBLEdBQUU7QUFDckMsY0FBTSxFQUFFLFVBQVUsQ0FBQSxFQUFFLElBQUs7QUFDekIsY0FBTSx1QkFBdUIsS0FBSyw0QkFDaEMsS0FBSyxrQkFBa0I7QUFFekIsWUFBSSxLQUFLLGNBQWMsb0JBQW9CLEdBQUc7QUFDNUMsZ0JBQU0sTUFDSixHQUFHLEtBQUssSUFBSSxJQUFJLG9CQUFvQixnQ0FBZ0M7UUFFdkU7QUFFRCxZQUFJLENBQUMsS0FBSyxlQUFjLEdBQUk7QUFDMUIsZ0JBQU0sTUFBTSxhQUFhLEtBQUssSUFBSSw4QkFBOEI7UUFDakU7QUFFRCxjQUFNLFdBQVcsS0FBSyx1QkFBdUI7VUFDM0Msb0JBQW9CO1VBQ3BCO1FBQ0QsQ0FBQTtBQUdELG1CQUFXLENBQ1Qsb0JBQ0EsZ0JBQWdCLEtBQ2IsS0FBSyxrQkFBa0IsUUFBTyxHQUFJO0FBQ3JDLGdCQUFNLCtCQUNKLEtBQUssNEJBQTRCLGtCQUFrQjtBQUNyRCxjQUFJLHlCQUF5Qiw4QkFBOEI7QUFDekQsNkJBQWlCLFFBQVEsUUFBUTtVQUNsQztRQUNGO0FBRUQsZUFBTzs7Ozs7Ozs7OztNQVdULE9BQU8sVUFBNkIsWUFBbUI7O0FBQ3JELGNBQU0sdUJBQXVCLEtBQUssNEJBQTRCLFVBQVU7QUFDeEUsY0FBTSxxQkFDSixLQUFBLEtBQUssZ0JBQWdCLElBQUksb0JBQW9CLE9BQUMsUUFBQSxPQUFBLFNBQUEsS0FDOUMsb0JBQUksSUFBRztBQUNULDBCQUFrQixJQUFJLFFBQVE7QUFDOUIsYUFBSyxnQkFBZ0IsSUFBSSxzQkFBc0IsaUJBQWlCO0FBRWhFLGNBQU0sbUJBQW1CLEtBQUssVUFBVSxJQUFJLG9CQUFvQjtBQUNoRSxZQUFJLGtCQUFrQjtBQUNwQixtQkFBUyxrQkFBa0Isb0JBQW9CO1FBQ2hEO0FBRUQsZUFBTyxNQUFLO0FBQ1YsNEJBQWtCLE9BQU8sUUFBUTtRQUNuQzs7Ozs7O01BT00sc0JBQ04sVUFDQSxZQUFrQjtBQUVsQixjQUFNLFlBQVksS0FBSyxnQkFBZ0IsSUFBSSxVQUFVO0FBQ3JELFlBQUksQ0FBQyxXQUFXO0FBQ2Q7UUFDRDtBQUNELG1CQUFXLFlBQVksV0FBVztBQUNoQyxjQUFJO0FBQ0YscUJBQVMsVUFBVSxVQUFVO1VBQzlCLFNBQU8sSUFBQTtVQUVQO1FBQ0Y7O01BR0ssdUJBQXVCLEVBQzdCLG9CQUNBLFVBQVUsQ0FBQSxFQUFFLEdBSWI7QUFDQyxZQUFJLFdBQVcsS0FBSyxVQUFVLElBQUksa0JBQWtCO0FBQ3BELFlBQUksQ0FBQyxZQUFZLEtBQUssV0FBVztBQUMvQixxQkFBVyxLQUFLLFVBQVUsZ0JBQWdCLEtBQUssV0FBVztZQUN4RCxvQkFBb0IsOEJBQThCLGtCQUFrQjtZQUNwRTtVQUNELENBQUE7QUFDRCxlQUFLLFVBQVUsSUFBSSxvQkFBb0IsUUFBUTtBQUMvQyxlQUFLLGlCQUFpQixJQUFJLG9CQUFvQixPQUFPO0FBT3JELGVBQUssc0JBQXNCLFVBQVUsa0JBQWtCO0FBT3ZELGNBQUksS0FBSyxVQUFVLG1CQUFtQjtBQUNwQyxnQkFBSTtBQUNGLG1CQUFLLFVBQVUsa0JBQ2IsS0FBSyxXQUNMLG9CQUNBLFFBQVE7WUFFWCxTQUFPLElBQUE7WUFFUDtVQUNGO1FBQ0Y7QUFFRCxlQUFPLFlBQVk7O01BR2IsNEJBQ04sYUFBcUIsb0JBQWtCO0FBRXZDLFlBQUksS0FBSyxXQUFXO0FBQ2xCLGlCQUFPLEtBQUssVUFBVSxvQkFBb0IsYUFBYTtRQUN4RCxPQUFNO0FBQ0wsaUJBQU87UUFDUjs7TUFHSyx1QkFBb0I7QUFDMUIsZUFDRSxDQUFDLENBQUMsS0FBSyxhQUNQLEtBQUssVUFBVSxzQkFBaUI7O0lBR3JDO0lDeFZZLDJCQUFrQjtNQUc3QixZQUE2QkYsT0FBWTtBQUFaLGFBQUksT0FBSkE7QUFGWixhQUFBLFlBQVksb0JBQUksSUFBRzs7Ozs7Ozs7Ozs7TUFhcEMsYUFBNkIsV0FBdUI7QUFDbEQsY0FBTSxXQUFXLEtBQUssWUFBWSxVQUFVLElBQUk7QUFDaEQsWUFBSSxTQUFTLGVBQWMsR0FBSTtBQUM3QixnQkFBTSxJQUFJLE1BQ1IsYUFBYSxVQUFVLElBQUkscUNBQXFDLEtBQUssSUFBSSxFQUFFO1FBRTlFO0FBRUQsaUJBQVMsYUFBYSxTQUFTOztNQUdqQyx3QkFBd0MsV0FBdUI7QUFDN0QsY0FBTSxXQUFXLEtBQUssWUFBWSxVQUFVLElBQUk7QUFDaEQsWUFBSSxTQUFTLGVBQWMsR0FBSTtBQUU3QixlQUFLLFVBQVUsT0FBTyxVQUFVLElBQUk7UUFDckM7QUFFRCxhQUFLLGFBQWEsU0FBUzs7Ozs7Ozs7O01BVTdCLFlBQTRCQSxPQUFPO0FBQ2pDLFlBQUksS0FBSyxVQUFVLElBQUlBLEtBQUksR0FBRztBQUM1QixpQkFBTyxLQUFLLFVBQVUsSUFBSUEsS0FBSTtRQUMvQjtBQUdELGNBQU0sV0FBVyxJQUFJLFNBQVlBLE9BQU0sSUFBSTtBQUMzQyxhQUFLLFVBQVUsSUFBSUEsT0FBTSxRQUFxQztBQUU5RCxlQUFPOztNQUdULGVBQVk7QUFDVixlQUFPLE1BQU0sS0FBSyxLQUFLLFVBQVUsT0FBTSxDQUFFOztJQUU1Qzs7Ozs7QUNqRkQsSUF5Q2EsV0FhRCxVQVNOLG1CQVlBLGlCQW1CQSxlQWFBLG1CQWtCTztBQTdIYixJQUFBRyxzQkFBQTs7QUF5Q08sSUFBTSxZQUFzQixDQUFBO0FBYW5DLEtBQUEsU0FBWUMsV0FBUTtBQUNsQixNQUFBQSxVQUFBQSxVQUFBLE9BQUEsSUFBQSxDQUFBLElBQUE7QUFDQSxNQUFBQSxVQUFBQSxVQUFBLFNBQUEsSUFBQSxDQUFBLElBQUE7QUFDQSxNQUFBQSxVQUFBQSxVQUFBLE1BQUEsSUFBQSxDQUFBLElBQUE7QUFDQSxNQUFBQSxVQUFBQSxVQUFBLE1BQUEsSUFBQSxDQUFBLElBQUE7QUFDQSxNQUFBQSxVQUFBQSxVQUFBLE9BQUEsSUFBQSxDQUFBLElBQUE7QUFDQSxNQUFBQSxVQUFBQSxVQUFBLFFBQUEsSUFBQSxDQUFBLElBQUE7SUFDRixHQVBZLGFBQUEsV0FPWCxDQUFBLEVBQUE7QUFFRCxJQUFNLG9CQUEyRDtNQUMvRCxTQUFTLFNBQVM7TUFDbEIsV0FBVyxTQUFTO01BQ3BCLFFBQVEsU0FBUztNQUNqQixRQUFRLFNBQVM7TUFDakIsU0FBUyxTQUFTO01BQ2xCLFVBQVUsU0FBUzs7QUFNckIsSUFBTSxrQkFBNEIsU0FBUztBQW1CM0MsSUFBTSxnQkFBZ0I7TUFDcEIsQ0FBQyxTQUFTLEtBQUssR0FBRztNQUNsQixDQUFDLFNBQVMsT0FBTyxHQUFHO01BQ3BCLENBQUMsU0FBUyxJQUFJLEdBQUc7TUFDakIsQ0FBQyxTQUFTLElBQUksR0FBRztNQUNqQixDQUFDLFNBQVMsS0FBSyxHQUFHOztBQVFwQixJQUFNLG9CQUFnQyxDQUFDLFVBQVUsWUFBWSxTQUFjO0FBQ3pFLFVBQUksVUFBVSxTQUFTLFVBQVU7QUFDL0I7TUFDRDtBQUNELFlBQU0sT0FBTSxvQkFBSSxLQUFJLEdBQUcsWUFBVztBQUNsQyxZQUFNLFNBQVMsY0FBYyxPQUFxQztBQUNsRSxVQUFJLFFBQVE7QUFDVixnQkFBUSxNQUEyQyxFQUNqRCxJQUFJLEdBQUcsTUFBTSxTQUFTLElBQUksS0FDMUIsR0FBRyxJQUFJO01BRVYsT0FBTTtBQUNMLGNBQU0sSUFBSSxNQUNSLDhEQUE4RCxPQUFPLEdBQUc7TUFFM0U7SUFDSDtJQUVhLGVBQU07Ozs7Ozs7TUFPakIsWUFBbUJDLE9BQVk7QUFBWixhQUFJLE9BQUpBO0FBVVgsYUFBUyxZQUFHO0FBc0JaLGFBQVcsY0FBZTtBQWMxQixhQUFlLGtCQUFzQjtBQTFDM0Msa0JBQVUsS0FBSyxJQUFJOztNQVFyQixJQUFJLFdBQVE7QUFDVixlQUFPLEtBQUs7O01BR2QsSUFBSSxTQUFTLEtBQWE7QUFDeEIsWUFBSSxFQUFFLE9BQU8sV0FBVztBQUN0QixnQkFBTSxJQUFJLFVBQVUsa0JBQWtCLEdBQUcsNEJBQTRCO1FBQ3RFO0FBQ0QsYUFBSyxZQUFZOzs7TUFJbkIsWUFBWSxLQUE4QjtBQUN4QyxhQUFLLFlBQVksT0FBTyxRQUFRLFdBQVcsa0JBQWtCLEdBQUcsSUFBSTs7TUFRdEUsSUFBSSxhQUFVO0FBQ1osZUFBTyxLQUFLOztNQUVkLElBQUksV0FBVyxLQUFlO0FBQzVCLFlBQUksT0FBTyxRQUFRLFlBQVk7QUFDN0IsZ0JBQU0sSUFBSSxVQUFVLG1EQUFtRDtRQUN4RTtBQUNELGFBQUssY0FBYzs7TUFPckIsSUFBSSxpQkFBYztBQUNoQixlQUFPLEtBQUs7O01BRWQsSUFBSSxlQUFlLEtBQXNCO0FBQ3ZDLGFBQUssa0JBQWtCOzs7OztNQU96QixTQUFTLE1BQWU7QUFDdEIsYUFBSyxtQkFBbUIsS0FBSyxnQkFBZ0IsTUFBTSxTQUFTLE9BQU8sR0FBRyxJQUFJO0FBQzFFLGFBQUssWUFBWSxNQUFNLFNBQVMsT0FBTyxHQUFHLElBQUk7O01BRWhELE9BQU8sTUFBZTtBQUNwQixhQUFLLG1CQUNILEtBQUssZ0JBQWdCLE1BQU0sU0FBUyxTQUFTLEdBQUcsSUFBSTtBQUN0RCxhQUFLLFlBQVksTUFBTSxTQUFTLFNBQVMsR0FBRyxJQUFJOztNQUVsRCxRQUFRLE1BQWU7QUFDckIsYUFBSyxtQkFBbUIsS0FBSyxnQkFBZ0IsTUFBTSxTQUFTLE1BQU0sR0FBRyxJQUFJO0FBQ3pFLGFBQUssWUFBWSxNQUFNLFNBQVMsTUFBTSxHQUFHLElBQUk7O01BRS9DLFFBQVEsTUFBZTtBQUNyQixhQUFLLG1CQUFtQixLQUFLLGdCQUFnQixNQUFNLFNBQVMsTUFBTSxHQUFHLElBQUk7QUFDekUsYUFBSyxZQUFZLE1BQU0sU0FBUyxNQUFNLEdBQUcsSUFBSTs7TUFFL0MsU0FBUyxNQUFlO0FBQ3RCLGFBQUssbUJBQW1CLEtBQUssZ0JBQWdCLE1BQU0sU0FBUyxPQUFPLEdBQUcsSUFBSTtBQUMxRSxhQUFLLFlBQVksTUFBTSxTQUFTLE9BQU8sR0FBRyxJQUFJOztJQUVqRDs7Ozs7QUM5TUQsU0FBUyx1QkFBdUI7QUFDNUIsU0FBUSxzQkFDSCxvQkFBb0I7QUFBQSxJQUNqQjtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNKO0FBQ1I7QUFFQSxTQUFTLDBCQUEwQjtBQUMvQixTQUFRLHlCQUNILHVCQUF1QjtBQUFBLElBQ3BCLFVBQVUsVUFBVTtBQUFBLElBQ3BCLFVBQVUsVUFBVTtBQUFBLElBQ3BCLFVBQVUsVUFBVTtBQUFBLEVBQ3hCO0FBQ1I7QUFNQSxTQUFTLGlCQUFpQixTQUFTO0FBQy9CLFFBQU0sVUFBVSxJQUFJLFFBQVEsQ0FBQyxTQUFTLFdBQVc7QUFDN0MsVUFBTSxXQUFXLE1BQU07QUFDbkIsY0FBUSxvQkFBb0IsV0FBVyxPQUFPO0FBQzlDLGNBQVEsb0JBQW9CLFNBQVNDLE1BQUs7QUFBQSxJQUM5QztBQUNBLFVBQU0sVUFBVSxNQUFNO0FBQ2xCLGNBQVEsS0FBSyxRQUFRLE1BQU0sQ0FBQztBQUM1QixlQUFTO0FBQUEsSUFDYjtBQUNBLFVBQU1BLFNBQVEsTUFBTTtBQUNoQixhQUFPLFFBQVEsS0FBSztBQUNwQixlQUFTO0FBQUEsSUFDYjtBQUNBLFlBQVEsaUJBQWlCLFdBQVcsT0FBTztBQUMzQyxZQUFRLGlCQUFpQixTQUFTQSxNQUFLO0FBQUEsRUFDM0MsQ0FBQztBQUNELFVBQ0ssS0FBSyxDQUFDQyxXQUFVO0FBR2pCLFFBQUlBLGtCQUFpQixXQUFXO0FBQzVCLHVCQUFpQixJQUFJQSxRQUFPLE9BQU87QUFBQSxJQUN2QztBQUFBLEVBRUosQ0FBQyxFQUNJLE1BQU0sTUFBTTtBQUFBLEVBQUUsQ0FBQztBQUdwQix3QkFBc0IsSUFBSSxTQUFTLE9BQU87QUFDMUMsU0FBTztBQUNYO0FBQ0EsU0FBUywrQkFBK0IsSUFBSTtBQUV4QyxNQUFJLG1CQUFtQixJQUFJLEVBQUU7QUFDekI7QUFDSixRQUFNLE9BQU8sSUFBSSxRQUFRLENBQUMsU0FBUyxXQUFXO0FBQzFDLFVBQU0sV0FBVyxNQUFNO0FBQ25CLFNBQUcsb0JBQW9CLFlBQVksUUFBUTtBQUMzQyxTQUFHLG9CQUFvQixTQUFTRCxNQUFLO0FBQ3JDLFNBQUcsb0JBQW9CLFNBQVNBLE1BQUs7QUFBQSxJQUN6QztBQUNBLFVBQU0sV0FBVyxNQUFNO0FBQ25CLGNBQVE7QUFDUixlQUFTO0FBQUEsSUFDYjtBQUNBLFVBQU1BLFNBQVEsTUFBTTtBQUNoQixhQUFPLEdBQUcsU0FBUyxJQUFJLGFBQWEsY0FBYyxZQUFZLENBQUM7QUFDL0QsZUFBUztBQUFBLElBQ2I7QUFDQSxPQUFHLGlCQUFpQixZQUFZLFFBQVE7QUFDeEMsT0FBRyxpQkFBaUIsU0FBU0EsTUFBSztBQUNsQyxPQUFHLGlCQUFpQixTQUFTQSxNQUFLO0FBQUEsRUFDdEMsQ0FBQztBQUVELHFCQUFtQixJQUFJLElBQUksSUFBSTtBQUNuQztBQWlDQSxTQUFTLGFBQWEsVUFBVTtBQUM1QixrQkFBZ0IsU0FBUyxhQUFhO0FBQzFDO0FBQ0EsU0FBUyxhQUFhLE1BQU07QUFJeEIsTUFBSSxTQUFTLFlBQVksVUFBVSxlQUMvQixFQUFFLHNCQUFzQixlQUFlLFlBQVk7QUFDbkQsV0FBTyxTQUFVLGVBQWUsTUFBTTtBQUNsQyxZQUFNLEtBQUssS0FBSyxLQUFLLE9BQU8sSUFBSSxHQUFHLFlBQVksR0FBRyxJQUFJO0FBQ3RELCtCQUF5QixJQUFJLElBQUksV0FBVyxPQUFPLFdBQVcsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDO0FBQ25GLGFBQU8sS0FBSyxFQUFFO0FBQUEsSUFDbEI7QUFBQSxFQUNKO0FBTUEsTUFBSSx3QkFBd0IsRUFBRSxTQUFTLElBQUksR0FBRztBQUMxQyxXQUFPLFlBQWEsTUFBTTtBQUd0QixXQUFLLE1BQU0sT0FBTyxJQUFJLEdBQUcsSUFBSTtBQUM3QixhQUFPLEtBQUssaUJBQWlCLElBQUksSUFBSSxDQUFDO0FBQUEsSUFDMUM7QUFBQSxFQUNKO0FBQ0EsU0FBTyxZQUFhLE1BQU07QUFHdEIsV0FBTyxLQUFLLEtBQUssTUFBTSxPQUFPLElBQUksR0FBRyxJQUFJLENBQUM7QUFBQSxFQUM5QztBQUNKO0FBQ0EsU0FBUyx1QkFBdUJDLFFBQU87QUFDbkMsTUFBSSxPQUFPQSxXQUFVO0FBQ2pCLFdBQU8sYUFBYUEsTUFBSztBQUc3QixNQUFJQSxrQkFBaUI7QUFDakIsbUNBQStCQSxNQUFLO0FBQ3hDLE1BQUksY0FBY0EsUUFBTyxxQkFBcUIsQ0FBQztBQUMzQyxXQUFPLElBQUksTUFBTUEsUUFBTyxhQUFhO0FBRXpDLFNBQU9BO0FBQ1g7QUFDQSxTQUFTLEtBQUtBLFFBQU87QUFHakIsTUFBSUEsa0JBQWlCO0FBQ2pCLFdBQU8saUJBQWlCQSxNQUFLO0FBR2pDLE1BQUksZUFBZSxJQUFJQSxNQUFLO0FBQ3hCLFdBQU8sZUFBZSxJQUFJQSxNQUFLO0FBQ25DLFFBQU0sV0FBVyx1QkFBdUJBLE1BQUs7QUFHN0MsTUFBSSxhQUFhQSxRQUFPO0FBQ3BCLG1CQUFlLElBQUlBLFFBQU8sUUFBUTtBQUNsQywwQkFBc0IsSUFBSSxVQUFVQSxNQUFLO0FBQUEsRUFDN0M7QUFDQSxTQUFPO0FBQ1g7QUFyTEEsSUFBTSxlQUVGLG1CQUNBLHNCQXFCRSxrQkFDQSxvQkFDQSwwQkFDQSxnQkFDQSx1QkEwREYsZUFnR0U7QUF0TE47QUFBQTtBQUFBLElBQU0sZ0JBQWdCLENBQUMsUUFBUSxpQkFBaUIsYUFBYSxLQUFLLENBQUNDLE9BQU0sa0JBQWtCQSxFQUFDO0FBd0I1RixJQUFNLG1CQUFtQixvQkFBSSxRQUFRO0FBQ3JDLElBQU0scUJBQXFCLG9CQUFJLFFBQVE7QUFDdkMsSUFBTSwyQkFBMkIsb0JBQUksUUFBUTtBQUM3QyxJQUFNLGlCQUFpQixvQkFBSSxRQUFRO0FBQ25DLElBQU0sd0JBQXdCLG9CQUFJLFFBQVE7QUEwRDFDLElBQUksZ0JBQWdCO0FBQUEsTUFDaEIsSUFBSSxRQUFRLE1BQU0sVUFBVTtBQUN4QixZQUFJLGtCQUFrQixnQkFBZ0I7QUFFbEMsY0FBSSxTQUFTO0FBQ1QsbUJBQU8sbUJBQW1CLElBQUksTUFBTTtBQUV4QyxjQUFJLFNBQVMsb0JBQW9CO0FBQzdCLG1CQUFPLE9BQU8sb0JBQW9CLHlCQUF5QixJQUFJLE1BQU07QUFBQSxVQUN6RTtBQUVBLGNBQUksU0FBUyxTQUFTO0FBQ2xCLG1CQUFPLFNBQVMsaUJBQWlCLENBQUMsSUFDNUIsU0FDQSxTQUFTLFlBQVksU0FBUyxpQkFBaUIsQ0FBQyxDQUFDO0FBQUEsVUFDM0Q7QUFBQSxRQUNKO0FBRUEsZUFBTyxLQUFLLE9BQU8sSUFBSSxDQUFDO0FBQUEsTUFDNUI7QUFBQSxNQUNBLElBQUksUUFBUSxNQUFNRCxRQUFPO0FBQ3JCLGVBQU8sSUFBSSxJQUFJQTtBQUNmLGVBQU87QUFBQSxNQUNYO0FBQUEsTUFDQSxJQUFJLFFBQVEsTUFBTTtBQUNkLFlBQUksa0JBQWtCLG1CQUNqQixTQUFTLFVBQVUsU0FBUyxVQUFVO0FBQ3ZDLGlCQUFPO0FBQUEsUUFDWDtBQUNBLGVBQU8sUUFBUTtBQUFBLE1BQ25CO0FBQUEsSUFDSjtBQWlFQSxJQUFNLFNBQVMsQ0FBQ0EsV0FBVSxzQkFBc0IsSUFBSUEsTUFBSztBQUFBO0FBQUE7OztBQzVLekQsU0FBUyxPQUFPRSxPQUFNQyxVQUFTLEVBQUUsU0FBUyxTQUFTLFVBQVUsV0FBVyxJQUFJLENBQUMsR0FBRztBQUM1RSxRQUFNLFVBQVUsVUFBVSxLQUFLRCxPQUFNQyxRQUFPO0FBQzVDLFFBQU0sY0FBYyxLQUFLLE9BQU87QUFDaEMsTUFBSSxTQUFTO0FBQ1QsWUFBUSxpQkFBaUIsaUJBQWlCLENBQUMsVUFBVTtBQUNqRCxjQUFRLEtBQUssUUFBUSxNQUFNLEdBQUcsTUFBTSxZQUFZLE1BQU0sWUFBWSxLQUFLLFFBQVEsV0FBVyxHQUFHLEtBQUs7QUFBQSxJQUN0RyxDQUFDO0FBQUEsRUFDTDtBQUNBLE1BQUksU0FBUztBQUNULFlBQVEsaUJBQWlCLFdBQVcsQ0FBQyxVQUFVO0FBQUE7QUFBQSxNQUUvQyxNQUFNO0FBQUEsTUFBWSxNQUFNO0FBQUEsTUFBWTtBQUFBLElBQUssQ0FBQztBQUFBLEVBQzlDO0FBQ0EsY0FDSyxLQUFLLENBQUMsT0FBTztBQUNkLFFBQUk7QUFDQSxTQUFHLGlCQUFpQixTQUFTLE1BQU0sV0FBVyxDQUFDO0FBQ25ELFFBQUksVUFBVTtBQUNWLFNBQUcsaUJBQWlCLGlCQUFpQixDQUFDLFVBQVUsU0FBUyxNQUFNLFlBQVksTUFBTSxZQUFZLEtBQUssQ0FBQztBQUFBLElBQ3ZHO0FBQUEsRUFDSixDQUFDLEVBQ0ksTUFBTSxNQUFNO0FBQUEsRUFBRSxDQUFDO0FBQ3BCLFNBQU87QUFDWDtBQW1CQSxTQUFTLFVBQVUsUUFBUSxNQUFNO0FBQzdCLE1BQUksRUFBRSxrQkFBa0IsZUFDcEIsRUFBRSxRQUFRLFdBQ1YsT0FBTyxTQUFTLFdBQVc7QUFDM0I7QUFBQSxFQUNKO0FBQ0EsTUFBSSxjQUFjLElBQUksSUFBSTtBQUN0QixXQUFPLGNBQWMsSUFBSSxJQUFJO0FBQ2pDLFFBQU0saUJBQWlCLEtBQUssUUFBUSxjQUFjLEVBQUU7QUFDcEQsUUFBTSxXQUFXLFNBQVM7QUFDMUIsUUFBTSxVQUFVLGFBQWEsU0FBUyxjQUFjO0FBQ3BEO0FBQUE7QUFBQSxJQUVBLEVBQUUsbUJBQW1CLFdBQVcsV0FBVyxnQkFBZ0IsY0FDdkQsRUFBRSxXQUFXLFlBQVksU0FBUyxjQUFjO0FBQUEsSUFBSTtBQUNwRDtBQUFBLEVBQ0o7QUFDQSxRQUFNLFNBQVMsZUFBZ0IsY0FBYyxNQUFNO0FBRS9DLFVBQU0sS0FBSyxLQUFLLFlBQVksV0FBVyxVQUFVLGNBQWMsVUFBVTtBQUN6RSxRQUFJQyxVQUFTLEdBQUc7QUFDaEIsUUFBSTtBQUNBLE1BQUFBLFVBQVNBLFFBQU8sTUFBTSxLQUFLLE1BQU0sQ0FBQztBQU10QyxZQUFRLE1BQU0sUUFBUSxJQUFJO0FBQUEsTUFDdEJBLFFBQU8sY0FBYyxFQUFFLEdBQUcsSUFBSTtBQUFBLE1BQzlCLFdBQVcsR0FBRztBQUFBLElBQ2xCLENBQUMsR0FBRyxDQUFDO0FBQUEsRUFDVDtBQUNBLGdCQUFjLElBQUksTUFBTSxNQUFNO0FBQzlCLFNBQU87QUFDWDtBQXZGQSxJQWlETSxhQUNBLGNBQ0E7QUFuRE47QUFBQTtBQUFBO0FBQ0E7QUFnREEsSUFBTSxjQUFjLENBQUMsT0FBTyxVQUFVLFVBQVUsY0FBYyxPQUFPO0FBQ3JFLElBQU0sZUFBZSxDQUFDLE9BQU8sT0FBTyxVQUFVLE9BQU87QUFDckQsSUFBTSxnQkFBZ0Isb0JBQUksSUFBSTtBQXFDOUIsaUJBQWEsQ0FBQyxjQUFjO0FBQUEsTUFDeEIsR0FBRztBQUFBLE1BQ0gsS0FBSyxDQUFDLFFBQVEsTUFBTSxhQUFhLFVBQVUsUUFBUSxJQUFJLEtBQUssU0FBUyxJQUFJLFFBQVEsTUFBTSxRQUFRO0FBQUEsTUFDL0YsS0FBSyxDQUFDLFFBQVEsU0FBUyxDQUFDLENBQUMsVUFBVSxRQUFRLElBQUksS0FBSyxTQUFTLElBQUksUUFBUSxJQUFJO0FBQUEsSUFDakYsRUFBRTtBQUFBO0FBQUE7OztBQ3RDRixTQUFTLHlCQUF5QixVQUF3QjtBQUN4RCxRQUFNLFlBQVksU0FBUyxhQUFZO0FBQ3ZDLFVBQU8sY0FBQSxRQUFBLGNBQVMsU0FBQSxTQUFULFVBQVcsVUFBSTtBQUN4QjtBR05nQixTQUFBLGNBQ2RDLE1BQ0EsV0FBdUI7QUFFdkIsTUFBSTtBQUNELElBQUFBLEtBQXdCLFVBQVUsYUFBYSxTQUFTO0VBQzFELFNBQVFDLElBQUc7QUFDVixXQUFPLE1BQ0wsYUFBYSxVQUFVLElBQUksd0NBQXdDRCxLQUFJLElBQUksSUFDM0VDLEVBQUM7RUFFSjtBQUNIO0FBb0JNLFNBQVUsbUJBQ2QsV0FBdUI7QUFFdkIsUUFBTSxnQkFBZ0IsVUFBVTtBQUNoQyxNQUFJLFlBQVksSUFBSSxhQUFhLEdBQUc7QUFDbEMsV0FBTyxNQUNMLHNEQUFzRCxhQUFhLEdBQUc7QUFHeEUsV0FBTztFQUNSO0FBRUQsY0FBWSxJQUFJLGVBQWUsU0FBUztBQUd4QyxhQUFXRCxRQUFPLE1BQU0sT0FBTSxHQUFJO0FBQ2hDLGtCQUFjQSxNQUF3QixTQUFTO0VBQ2hEO0FBRUQsYUFBVyxhQUFhLFlBQVksT0FBTSxHQUFJO0FBQzVDLGtCQUFjLFdBQW9DLFNBQVM7RUFDNUQ7QUFFRCxTQUFPO0FBQ1Q7QUFXZ0IsU0FBQSxhQUNkQSxNQUNBRSxPQUFPO0FBRVAsUUFBTSxzQkFBdUJGLEtBQXdCLFVBQ2xELFlBQVksV0FBVyxFQUN2QixhQUFhLEVBQUUsVUFBVSxLQUFJLENBQUU7QUFDbEMsTUFBSSxxQkFBcUI7QUFDdkIsU0FBSyxvQkFBb0IsaUJBQWdCO0VBQzFDO0FBQ0QsU0FBUUEsS0FBd0IsVUFBVSxZQUFZRSxLQUFJO0FBQzVEO0FBd0NNLFNBQVUscUJBQ2QsS0FBb0M7QUFFcEMsU0FBUSxJQUEwQixhQUFhO0FBQ2pEO1NJekNnQixjQUNkLFVBQ0EsWUFBWSxDQUFBLEdBQUU7QUFFZCxNQUFJLFVBQVU7QUFFZCxNQUFJLE9BQU8sY0FBYyxVQUFVO0FBQ2pDLFVBQU1BLFFBQU87QUFDYixnQkFBWSxFQUFFLE1BQUFBLE1BQUk7RUFDbkI7QUFFRCxRQUFNLFNBQU0sT0FBQSxPQUFBLEVBQ1YsTUFBTUMscUJBQ04sZ0NBQWdDLE1BQUssR0FDbEMsU0FBUztBQUVkLFFBQU1ELFFBQU8sT0FBTztBQUVwQixNQUFJLE9BQU9BLFVBQVMsWUFBWSxDQUFDQSxPQUFNO0FBQ3JDLFVBQU0sY0FBYyxPQUE4QixnQkFBQTtNQUNoRCxTQUFTLE9BQU9BLEtBQUk7SUFDckIsQ0FBQTtFQUNGO0FBRUQsY0FBQSxVQUFZLG9CQUFtQjtBQUUvQixNQUFJLENBQUMsU0FBUztBQUNaLFVBQU0sY0FBYztNQUFNOztJQUFBO0VBQzNCO0FBRUQsUUFBTSxjQUFjLE1BQU0sSUFBSUEsS0FBSTtBQUNsQyxNQUFJLGFBQWE7QUFFZixRQUNFLFVBQVUsU0FBUyxZQUFZLE9BQU8sS0FDdEMsVUFBVSxRQUFRLFlBQVksTUFBTSxHQUNwQztBQUNBLGFBQU87SUFDUixPQUFNO0FBQ0wsWUFBTSxjQUFjLE9BQStCLGlCQUFBLEVBQUUsU0FBU0EsTUFBSSxDQUFFO0lBQ3JFO0VBQ0Y7QUFFRCxRQUFNLFlBQVksSUFBSSxtQkFBbUJBLEtBQUk7QUFDN0MsYUFBVyxhQUFhLFlBQVksT0FBTSxHQUFJO0FBQzVDLGNBQVUsYUFBYSxTQUFTO0VBQ2pDO0FBRUQsUUFBTSxTQUFTLElBQUksZ0JBQWdCLFNBQVMsUUFBUSxTQUFTO0FBRTdELFFBQU0sSUFBSUEsT0FBTSxNQUFNO0FBRXRCLFNBQU87QUFDVDtBQXVKZ0IsU0FBQSxPQUFPQSxRQUFlQyxxQkFBa0I7QUFDdEQsUUFBTUgsT0FBTSxNQUFNLElBQUlFLEtBQUk7QUFDMUIsTUFBSSxDQUFDRixRQUFPRSxVQUFTQyx1QkFBc0Isb0JBQW1CLEdBQUk7QUFDaEUsV0FBTyxjQUFhO0VBQ3JCO0FBQ0QsTUFBSSxDQUFDSCxNQUFLO0FBQ1IsVUFBTSxjQUFjLE9BQXdCLFVBQUEsRUFBRSxTQUFTRSxNQUFJLENBQUU7RUFDOUQ7QUFFRCxTQUFPRjtBQUNUO1NBTWdCLFVBQU87QUFDckIsU0FBTyxNQUFNLEtBQUssTUFBTSxPQUFNLENBQUU7QUFDbEM7U0FtRGdCLGdCQUNkLGtCQUNBSSxVQUNBLFNBQWdCOztBQUloQixNQUFJLFdBQVUsS0FBQSxvQkFBb0IsZ0JBQWdCLE9BQUssUUFBQSxPQUFBLFNBQUEsS0FBQTtBQUN2RCxNQUFJLFNBQVM7QUFDWCxlQUFXLElBQUksT0FBTztFQUN2QjtBQUNELFFBQU0sa0JBQWtCLFFBQVEsTUFBTSxPQUFPO0FBQzdDLFFBQU0sa0JBQWtCQSxTQUFRLE1BQU0sT0FBTztBQUM3QyxNQUFJLG1CQUFtQixpQkFBaUI7QUFDdEMsVUFBTUMsV0FBVTtNQUNkLCtCQUErQixPQUFPLG1CQUFtQkQsUUFBTzs7QUFFbEUsUUFBSSxpQkFBaUI7QUFDbkIsTUFBQUMsU0FBUSxLQUNOLGlCQUFpQixPQUFPLG1EQUFtRDtJQUU5RTtBQUNELFFBQUksbUJBQW1CLGlCQUFpQjtBQUN0QyxNQUFBQSxTQUFRLEtBQUssS0FBSztJQUNuQjtBQUNELFFBQUksaUJBQWlCO0FBQ25CLE1BQUFBLFNBQVEsS0FDTixpQkFBaUJELFFBQU8sbURBQW1EO0lBRTlFO0FBQ0QsV0FBTyxLQUFLQyxTQUFRLEtBQUssR0FBRyxDQUFDO0FBQzdCO0VBQ0Q7QUFDRCxxQkFDRSxJQUFJQztJQUNGLEdBQUcsT0FBTztJQUNWLE9BQU8sRUFBRSxTQUFTLFNBQUFGLFNBQU87SUFBRzs7RUFBQSxDQUU3QjtBQUVMO0FDelpBLFNBQVMsZUFBWTtBQUNuQixNQUFJLENBQUMsV0FBVztBQUNkLGdCQUFZLE9BQWMsU0FBUyxZQUFZO01BQzdDLFNBQVMsQ0FBQyxJQUFJLGVBQWM7QUFNMUIsZ0JBQVEsWUFBVTtVQUNoQixLQUFLO0FBQ0gsZ0JBQUk7QUFDRixpQkFBRyxrQkFBa0IsVUFBVTtZQUNoQyxTQUFRSCxJQUFHO0FBSVYsc0JBQVEsS0FBS0EsRUFBQztZQUNmO1FBQ0o7O0lBRUosQ0FBQSxFQUFFLE1BQU0sQ0FBQUEsT0FBSTtBQUNYLFlBQU0sY0FBYyxPQUEwQixZQUFBO1FBQzVDLHNCQUFzQkEsR0FBRTtNQUN6QixDQUFBO0lBQ0gsQ0FBQztFQUNGO0FBQ0QsU0FBTztBQUNUO0FBRU8sZUFBZSw0QkFDcEJELE1BQWdCO0FBRWhCLE1BQUk7QUFDRixVQUFNLEtBQUssTUFBTSxhQUFZO0FBQzdCLFVBQU0sS0FBSyxHQUFHLFlBQVksVUFBVTtBQUNwQyxVQUFNLFNBQVMsTUFBTSxHQUFHLFlBQVksVUFBVSxFQUFFLElBQUksV0FBV0EsSUFBRyxDQUFDO0FBR25FLFVBQU0sR0FBRztBQUNULFdBQU87RUFDUixTQUFRQyxJQUFHO0FBQ1YsUUFBSUEsY0FBYSxlQUFlO0FBQzlCLGFBQU8sS0FBS0EsR0FBRSxPQUFPO0lBQ3RCLE9BQU07QUFDTCxZQUFNLGNBQWMsY0FBYyxPQUF5QixXQUFBO1FBQ3pELHNCQUF1QkEsT0FBVyxRQUFYQSxPQUFBLFNBQUEsU0FBQUEsR0FBYTtNQUNyQyxDQUFBO0FBQ0QsYUFBTyxLQUFLLFlBQVksT0FBTztJQUNoQztFQUNGO0FBQ0g7QUFFTyxlQUFlLDJCQUNwQkQsTUFDQSxpQkFBc0M7QUFFdEMsTUFBSTtBQUNGLFVBQU0sS0FBSyxNQUFNLGFBQVk7QUFDN0IsVUFBTSxLQUFLLEdBQUcsWUFBWSxZQUFZLFdBQVc7QUFDakQsVUFBTSxjQUFjLEdBQUcsWUFBWSxVQUFVO0FBQzdDLFVBQU0sWUFBWSxJQUFJLGlCQUFpQixXQUFXQSxJQUFHLENBQUM7QUFDdEQsVUFBTSxHQUFHO0VBQ1YsU0FBUUMsSUFBRztBQUNWLFFBQUlBLGNBQWEsZUFBZTtBQUM5QixhQUFPLEtBQUtBLEdBQUUsT0FBTztJQUN0QixPQUFNO0FBQ0wsWUFBTSxjQUFjLGNBQWMsT0FBMkIsV0FBQTtRQUMzRCxzQkFBdUJBLE9BQVcsUUFBWEEsT0FBQSxTQUFBLFNBQUFBLEdBQWE7TUFDckMsQ0FBQTtBQUNELGFBQU8sS0FBSyxZQUFZLE9BQU87SUFDaEM7RUFDRjtBQUNIO0FBRUEsU0FBUyxXQUFXRCxNQUFnQjtBQUNsQyxTQUFPLEdBQUdBLEtBQUksSUFBSSxJQUFJQSxLQUFJLFFBQVEsS0FBSztBQUN6QztBQzZEQSxTQUFTLG1CQUFnQjtBQUN2QixRQUFNLFFBQVEsb0JBQUksS0FBSTtBQUV0QixTQUFPLE1BQU0sWUFBVyxFQUFHLFVBQVUsR0FBRyxFQUFFO0FBQzVDO1NBRWdCLDJCQUNkLGlCQUNBLFVBQVUsa0JBQWdCO0FBTzFCLFFBQU0sbUJBQTRDLENBQUE7QUFFbEQsTUFBSSxnQkFBZ0IsZ0JBQWdCLE1BQUs7QUFDekMsYUFBVyx1QkFBdUIsaUJBQWlCO0FBRWpELFVBQU0saUJBQWlCLGlCQUFpQixLQUN0QyxRQUFNLEdBQUcsVUFBVSxvQkFBb0IsS0FBSztBQUU5QyxRQUFJLENBQUMsZ0JBQWdCO0FBRW5CLHVCQUFpQixLQUFLO1FBQ3BCLE9BQU8sb0JBQW9CO1FBQzNCLE9BQU8sQ0FBQyxvQkFBb0IsSUFBSTtNQUNqQyxDQUFBO0FBQ0QsVUFBSSxXQUFXLGdCQUFnQixJQUFJLFNBQVM7QUFHMUMseUJBQWlCLElBQUc7QUFDcEI7TUFDRDtJQUNGLE9BQU07QUFDTCxxQkFBZSxNQUFNLEtBQUssb0JBQW9CLElBQUk7QUFHbEQsVUFBSSxXQUFXLGdCQUFnQixJQUFJLFNBQVM7QUFDMUMsdUJBQWUsTUFBTSxJQUFHO0FBQ3hCO01BQ0Q7SUFDRjtBQUdELG9CQUFnQixjQUFjLE1BQU0sQ0FBQztFQUN0QztBQUNELFNBQU87SUFDTDtJQUNBOztBQUVKO0FBd0VNLFNBQVUsV0FBVyxpQkFBd0M7QUFFakUsU0FBTzs7SUFFTCxLQUFLLFVBQVUsRUFBRSxTQUFTLEdBQUcsWUFBWSxnQkFBZSxDQUFFO0VBQUMsRUFDM0Q7QUFDSjtBQ3hSTSxTQUFVLHVCQUF1QixTQUFnQjtBQUNyRCxxQkFDRSxJQUFJTTtJQUNGO0lBQ0EsZUFBYSxJQUFJLDBCQUEwQixTQUFTO0lBQUM7O0VBQUEsQ0FFdEQ7QUFFSCxxQkFDRSxJQUFJQTtJQUNGO0lBQ0EsZUFBYSxJQUFJLHFCQUFxQixTQUFTO0lBQUM7O0VBQUEsQ0FFakQ7QUFJSCxrQkFBZ0JKLFFBQU1FLFdBQVMsT0FBTztBQUV0QyxrQkFBZ0JGLFFBQU1FLFdBQVMsU0FBa0I7QUFFakQsa0JBQWdCLFdBQVcsRUFBRTtBQUMvQjtJVnJCYSw4Q0NOQSxnT0MrQkFELHFCQUVBLHFCQ3JCQSxPQUtBLGFBUUEsYUNSUCxRQTJDTyxlQ2xEQSxpQkVtQ0EsYUN4Q1AsU0FDQSxZQUNBLFlBU0YsV0NFRSxrQkFFQSx1Q0FFTyxzQkEyTEE7Ozs7Ozs7O0lUM01BLGtDQUF5QjtNQUNwQyxZQUE2QixXQUE2QjtBQUE3QixhQUFTLFlBQVQ7Ozs7TUFHN0Isd0JBQXFCO0FBQ25CLGNBQU0sWUFBWSxLQUFLLFVBQVUsYUFBWTtBQUc3QyxlQUFPLFVBQ0osSUFBSSxjQUFXO0FBQ2QsY0FBSSx5QkFBeUIsUUFBUSxHQUFHO0FBQ3RDLGtCQUFNLFVBQVUsU0FBUyxhQUFZO0FBQ3JDLG1CQUFPLEdBQUcsUUFBUSxPQUFPLElBQUksUUFBUSxPQUFPO1VBQzdDLE9BQU07QUFDTCxtQkFBTztVQUNSO1FBQ0gsQ0FBQyxFQUNBLE9BQU8sZUFBYSxTQUFTLEVBQzdCLEtBQUssR0FBRzs7SUFFZDs7O0FDMUJNLElBQU0sU0FBUyxJQUFJLE9BQU8sZUFBZTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQytCekMsSUFBTUEsc0JBQXFCO0FBRTNCLElBQU0sc0JBQXNCO01BQ2pDLENBQUNJLE1BQU8sR0FBRztNQUNYLENBQUNDLE1BQWEsR0FBRztNQUNqQixDQUFDQyxNQUFhLEdBQUc7TUFDakIsQ0FBQ0MsTUFBbUIsR0FBRztNQUN2QixDQUFDQyxNQUFZLEdBQUc7TUFDaEIsQ0FBQ0MsTUFBa0IsR0FBRztNQUN0QixDQUFDQyxNQUFRLEdBQUc7TUFDWixDQUFDQyxNQUFjLEdBQUc7TUFDbEIsQ0FBQ0MsTUFBWSxHQUFHO01BQ2hCLENBQUNDLE1BQWUsR0FBRztNQUNuQixDQUFDQyxNQUFrQixHQUFHO01BQ3RCLENBQUNDLE1BQWEsR0FBRztNQUNqQixDQUFDQyxNQUFtQixHQUFHO01BQ3ZCLENBQUNDLE1BQWlCLEdBQUc7TUFDckIsQ0FBQ0MsTUFBdUIsR0FBRztNQUMzQixDQUFDQyxNQUFhLEdBQUc7TUFDakIsQ0FBQ0MsTUFBbUIsR0FBRztNQUN2QixDQUFDQyxNQUFlLEdBQUc7TUFDbkIsQ0FBQ0MsTUFBcUIsR0FBRztNQUN6QixDQUFDQyxNQUFnQixHQUFHO01BQ3BCLENBQUNDLE1BQXNCLEdBQUc7TUFDMUIsQ0FBQ0MsTUFBVyxHQUFHO01BQ2YsQ0FBQ0MsTUFBaUIsR0FBRztNQUNyQixDQUFDQyxNQUFhLEdBQUc7TUFDakIsQ0FBQ0MsTUFBbUIsR0FBRztNQUN2QixDQUFDQyxNQUFVLEdBQUc7TUFDZCxXQUFXO01BQ1gsQ0FBQ0MsS0FBVyxHQUFHOztBQ2pESixJQUFBLFFBQVEsb0JBQUksSUFBRztBQUtmLElBQUEsY0FBYyxvQkFBSSxJQUFHO0FBUXJCLElBQUEsY0FBYyxvQkFBSSxJQUFHO0FDUmxDLElBQU0sU0FBNkI7TUFDakM7UUFBQTs7TUFBQSxHQUNFO01BRUY7UUFBQTs7TUFBQSxHQUF5QjtNQUN6QjtRQUFBOztNQUFBLEdBQ0U7TUFDRjtRQUFBOztNQUFBLEdBQXdCO01BQ3hCO1FBQUE7O01BQUEsR0FBK0I7TUFDL0I7UUFBQTs7TUFBQSxHQUNFO01BQ0Y7UUFBQTs7TUFBQSxHQUNFO01BRUY7UUFBQTs7TUFBQSxHQUNFO01BQ0Y7UUFBQTs7TUFBQSxHQUNFO01BQ0Y7UUFBQTs7TUFBQSxHQUNFO01BQ0Y7UUFBQTs7TUFBQSxHQUNFO01BQ0Y7UUFBQTs7TUFBQSxHQUNFO01BQ0Y7UUFBQTs7TUFBQSxHQUNFO01BQ0Y7UUFBQTs7TUFBQSxHQUNFOztBQWdCRyxJQUFNLGdCQUFnQixJQUFJLGFBQy9CLE9BQ0EsWUFDQSxNQUFNO0lDckRLLHdCQUFlO01BYzFCLFlBQ0UsU0FDQSxRQUNBLFdBQTZCO0FBTnJCLGFBQVUsYUFBRztBQVFyQixhQUFLLFdBQWdCLE9BQUEsT0FBQSxDQUFBLEdBQUEsT0FBTztBQUM1QixhQUFLLFVBQWUsT0FBQSxPQUFBLENBQUEsR0FBQSxNQUFNO0FBQzFCLGFBQUssUUFBUSxPQUFPO0FBQ3BCLGFBQUssa0NBQ0gsT0FBTztBQUNULGFBQUssYUFBYTtBQUNsQixhQUFLLFVBQVUsYUFDYixJQUFJM0I7VUFBVTtVQUFPLE1BQU07VUFBSTs7UUFBQSxDQUF1Qjs7TUFJMUQsSUFBSSxpQ0FBOEI7QUFDaEMsYUFBSyxlQUFjO0FBQ25CLGVBQU8sS0FBSzs7TUFHZCxJQUFJLCtCQUErQixLQUFZO0FBQzdDLGFBQUssZUFBYztBQUNuQixhQUFLLGtDQUFrQzs7TUFHekMsSUFBSSxPQUFJO0FBQ04sYUFBSyxlQUFjO0FBQ25CLGVBQU8sS0FBSzs7TUFHZCxJQUFJLFVBQU87QUFDVCxhQUFLLGVBQWM7QUFDbkIsZUFBTyxLQUFLOztNQUdkLElBQUksU0FBTTtBQUNSLGFBQUssZUFBYztBQUNuQixlQUFPLEtBQUs7O01BR2QsSUFBSSxZQUFTO0FBQ1gsZUFBTyxLQUFLOztNQUdkLElBQUksWUFBUztBQUNYLGVBQU8sS0FBSzs7TUFHZCxJQUFJLFVBQVUsS0FBWTtBQUN4QixhQUFLLGFBQWE7Ozs7OztNQU9WLGlCQUFjO0FBQ3RCLFlBQUksS0FBSyxXQUFXO0FBQ2xCLGdCQUFNLGNBQWMsT0FBTSxlQUF1QixFQUFFLFNBQVMsS0FBSyxNQUFLLENBQUU7UUFDekU7O0lBRUo7QUV6Q00sSUFBTSxjQUFjO0FDeEMzQixJQUFNLFVBQVU7QUFDaEIsSUFBTSxhQUFhO0FBQ25CLElBQU0sYUFBYTtBQVNuQixJQUFJLFlBQWlEO0FDRXJELElBQU0sbUJBQW1CO0FBRXpCLElBQU0sd0NBQXdDLEtBQUssS0FBSyxLQUFLLEtBQUs7SUFFckQsNkJBQW9CO01BeUIvQixZQUE2QixXQUE2QjtBQUE3QixhQUFTLFlBQVQ7QUFUN0IsYUFBZ0IsbUJBQWlDO0FBVS9DLGNBQU1OLE9BQU0sS0FBSyxVQUFVLFlBQVksS0FBSyxFQUFFLGFBQVk7QUFDMUQsYUFBSyxXQUFXLElBQUkscUJBQXFCQSxJQUFHO0FBQzVDLGFBQUssMEJBQTBCLEtBQUssU0FBUyxLQUFJLEVBQUcsS0FBSyxZQUFTO0FBQ2hFLGVBQUssbUJBQW1CO0FBQ3hCLGlCQUFPO1FBQ1QsQ0FBQzs7Ozs7Ozs7O01BVUgsTUFBTSxtQkFBZ0I7O0FBQ3BCLFlBQUk7QUFDRixnQkFBTSxpQkFBaUIsS0FBSyxVQUN6QixZQUFZLGlCQUFpQixFQUM3QixhQUFZO0FBSWYsZ0JBQU0sUUFBUSxlQUFlLHNCQUFxQjtBQUNsRCxnQkFBTSxPQUFPLGlCQUFnQjtBQUM3QixnQkFBSSxLQUFBLEtBQUssc0JBQWtCLFFBQUEsT0FBQSxTQUFBLFNBQUEsR0FBQSxlQUFjLE1BQU07QUFDN0MsaUJBQUssbUJBQW1CLE1BQU0sS0FBSztBQUVuQyxrQkFBSSxLQUFBLEtBQUssc0JBQWtCLFFBQUEsT0FBQSxTQUFBLFNBQUEsR0FBQSxlQUFjLE1BQU07QUFDN0M7WUFDRDtVQUNGO0FBR0QsY0FDRSxLQUFLLGlCQUFpQiwwQkFBMEIsUUFDaEQsS0FBSyxpQkFBaUIsV0FBVyxLQUMvQix5QkFBdUIsb0JBQW9CLFNBQVMsSUFBSSxHQUUxRDtBQUNBO1VBQ0QsT0FBTTtBQUVMLGlCQUFLLGlCQUFpQixXQUFXLEtBQUssRUFBRSxNQUFNLE1BQUssQ0FBRTtVQUN0RDtBQUVELGVBQUssaUJBQWlCLGFBQ3BCLEtBQUssaUJBQWlCLFdBQVcsT0FBTyx5QkFBc0I7QUFDNUQsa0JBQU0sY0FBYyxJQUFJLEtBQUssb0JBQW9CLElBQUksRUFBRSxRQUFPO0FBQzlELGtCQUFNLE1BQU0sS0FBSyxJQUFHO0FBQ3BCLG1CQUFPLE1BQU0sZUFBZTtVQUM5QixDQUFDO0FBQ0gsaUJBQU8sS0FBSyxTQUFTLFVBQVUsS0FBSyxnQkFBZ0I7UUFDckQsU0FBUUMsSUFBRztBQUNWLGlCQUFPLEtBQUtBLEVBQUM7UUFDZDs7Ozs7Ozs7O01BVUgsTUFBTSxzQkFBbUI7O0FBQ3ZCLFlBQUk7QUFDRixjQUFJLEtBQUsscUJBQXFCLE1BQU07QUFDbEMsa0JBQU0sS0FBSztVQUNaO0FBRUQsZ0JBQ0UsS0FBQSxLQUFLLHNCQUFrQixRQUFBLE9BQUEsU0FBQSxTQUFBLEdBQUEsZUFBYyxRQUNyQyxLQUFLLGlCQUFpQixXQUFXLFdBQVcsR0FDNUM7QUFDQSxtQkFBTztVQUNSO0FBQ0QsZ0JBQU0sT0FBTyxpQkFBZ0I7QUFFN0IsZ0JBQU0sRUFBRSxrQkFBa0IsY0FBYSxJQUFLLDJCQUMxQyxLQUFLLGlCQUFpQixVQUFVO0FBRWxDLGdCQUFNLGVBQWUsOEJBQ25CLEtBQUssVUFBVSxFQUFFLFNBQVMsR0FBRyxZQUFZLGlCQUFnQixDQUFFLENBQUM7QUFHOUQsZUFBSyxpQkFBaUIsd0JBQXdCO0FBQzlDLGNBQUksY0FBYyxTQUFTLEdBQUc7QUFFNUIsaUJBQUssaUJBQWlCLGFBQWE7QUFJbkMsa0JBQU0sS0FBSyxTQUFTLFVBQVUsS0FBSyxnQkFBZ0I7VUFDcEQsT0FBTTtBQUNMLGlCQUFLLGlCQUFpQixhQUFhLENBQUE7QUFFbkMsaUJBQUssS0FBSyxTQUFTLFVBQVUsS0FBSyxnQkFBZ0I7VUFDbkQ7QUFDRCxpQkFBTztRQUNSLFNBQVFBLElBQUc7QUFDVixpQkFBTyxLQUFLQSxFQUFDO0FBQ2IsaUJBQU87UUFDUjs7SUFFSjtJQXdEWSw2QkFBb0I7TUFFL0IsWUFBbUJELE1BQWdCO0FBQWhCLGFBQUcsTUFBSEE7QUFDakIsYUFBSywwQkFBMEIsS0FBSyw2QkFBNEI7O01BRWxFLE1BQU0sK0JBQTRCO0FBQ2hDLFlBQUksQ0FBQyxxQkFBb0IsR0FBSTtBQUMzQixpQkFBTztRQUNSLE9BQU07QUFDTCxpQkFBTywwQkFBeUIsRUFDN0IsS0FBSyxNQUFNLElBQUksRUFDZixNQUFNLE1BQU0sS0FBSztRQUNyQjs7Ozs7TUFLSCxNQUFNLE9BQUk7QUFDUixjQUFNLGtCQUFrQixNQUFNLEtBQUs7QUFDbkMsWUFBSSxDQUFDLGlCQUFpQjtBQUNwQixpQkFBTyxFQUFFLFlBQVksQ0FBQSxFQUFFO1FBQ3hCLE9BQU07QUFDTCxnQkFBTSxxQkFBcUIsTUFBTSw0QkFBNEIsS0FBSyxHQUFHO0FBQ3JFLGNBQUksdUJBQUEsUUFBQSx1QkFBa0IsU0FBQSxTQUFsQixtQkFBb0IsWUFBWTtBQUNsQyxtQkFBTztVQUNSLE9BQU07QUFDTCxtQkFBTyxFQUFFLFlBQVksQ0FBQSxFQUFFO1VBQ3hCO1FBQ0Y7OztNQUdILE1BQU0sVUFBVSxrQkFBdUM7O0FBQ3JELGNBQU0sa0JBQWtCLE1BQU0sS0FBSztBQUNuQyxZQUFJLENBQUMsaUJBQWlCO0FBQ3BCO1FBQ0QsT0FBTTtBQUNMLGdCQUFNLDJCQUEyQixNQUFNLEtBQUssS0FBSTtBQUNoRCxpQkFBTywyQkFBMkIsS0FBSyxLQUFLO1lBQzFDLHdCQUNFLEtBQUEsaUJBQWlCLDJCQUNqQixRQUFBLE9BQUEsU0FBQSxLQUFBLHlCQUF5QjtZQUMzQixZQUFZLGlCQUFpQjtVQUM5QixDQUFBO1FBQ0Y7OztNQUdILE1BQU0sSUFBSSxrQkFBdUM7O0FBQy9DLGNBQU0sa0JBQWtCLE1BQU0sS0FBSztBQUNuQyxZQUFJLENBQUMsaUJBQWlCO0FBQ3BCO1FBQ0QsT0FBTTtBQUNMLGdCQUFNLDJCQUEyQixNQUFNLEtBQUssS0FBSTtBQUNoRCxpQkFBTywyQkFBMkIsS0FBSyxLQUFLO1lBQzFDLHdCQUNFLEtBQUEsaUJBQWlCLDJCQUNqQixRQUFBLE9BQUEsU0FBQSxLQUFBLHlCQUF5QjtZQUMzQixZQUFZO2NBQ1YsR0FBRyx5QkFBeUI7Y0FDNUIsR0FBRyxpQkFBaUI7WUFDckI7VUFDRixDQUFBO1FBQ0Y7O0lBRUo7QUVyUUQsMkJBQXVCLEVBQWlCOzs7OztBQ1lqQyxTQUFTLE9BQU8sR0FBR2tDLElBQUc7QUFDM0IsTUFBSUMsS0FBSSxDQUFDO0FBQ1QsV0FBU0MsTUFBSyxFQUFHLEtBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxHQUFHQSxFQUFDLEtBQUtGLEdBQUUsUUFBUUUsRUFBQyxJQUFJO0FBQzlFLElBQUFELEdBQUVDLEVBQUMsSUFBSSxFQUFFQSxFQUFDO0FBQ2QsTUFBSSxLQUFLLFFBQVEsT0FBTyxPQUFPLDBCQUEwQjtBQUNyRCxhQUFTQyxLQUFJLEdBQUdELEtBQUksT0FBTyxzQkFBc0IsQ0FBQyxHQUFHQyxLQUFJRCxHQUFFLFFBQVFDLE1BQUs7QUFDcEUsVUFBSUgsR0FBRSxRQUFRRSxHQUFFQyxFQUFDLENBQUMsSUFBSSxLQUFLLE9BQU8sVUFBVSxxQkFBcUIsS0FBSyxHQUFHRCxHQUFFQyxFQUFDLENBQUM7QUFDekUsUUFBQUYsR0FBRUMsR0FBRUMsRUFBQyxDQUFDLElBQUksRUFBRUQsR0FBRUMsRUFBQyxDQUFDO0FBQUEsSUFDeEI7QUFDSixTQUFPRjtBQUNUO0FBcERBO0FBQUE7QUFBQTtBQUFBOzs7QUUySUEsU0FBUyxpQkFBYztBQUNyQixTQUFPO0lBQ0w7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUFnQztJQUNoQztNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQW1DO0lBQ25DO01BQUE7O0lBQUEsR0FBa0M7SUFDbEM7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBR0Y7TUFBQTs7SUFBQSxHQUNFO0lBRUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBR0Y7TUFBQTs7SUFBQSxHQUFrQztJQUNsQztNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQWdDO0lBQ2hDO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUdGO01BQUE7O0lBQUEsR0FBb0M7SUFDcEM7TUFBQTs7SUFBQSxHQUNFO0lBR0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBSUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUErQjtJQUMvQjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFJRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQXNDO0lBQ3RDO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUdGO01BQUE7O0lBQUEsR0FBa0M7SUFDbEM7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBR0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUErQjtJQUMvQjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFFRjtNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQ0U7SUFHRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQ0U7SUFDRjtNQUFBOztJQUFBLEdBQXlCO0lBQ3pCO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUVGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FDRTtJQUNGO01BQUE7O0lBQUEsR0FBaUM7SUFDakM7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBSUY7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxHQUNFO0lBQ0Y7TUFBQTs7SUFBQSxH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QUFJLENBQUMsYUFBYTtBQUNoQixRQUFNLElBQUksTUFBTSx3QkFBd0I7QUFDMUM7QUFFQSxJQUFNLFdBQU8sMEJBQVcsV0FBVztBQUNuQyxLQUFLO0FBQUEsRUFDSCw2Q0FBQyw0QkFDQyx1REFBQyxpQkFDQyx1REFBQ0MsSUFBQSxFQUFTLE9BQU8sWUFDZix1REFBQyxnQkFDQyx1REFBQyxlQUFJLEdBQ1AsR0FDRixHQUNGLEdBQ0Y7QUFDRjsiLAogICJuYW1lcyI6IFsibCIsICJuIiwgInAiLCAiciIsICJ0IiwgInUiLCAidiIsICJ5IiwgImEiLCAiQyIsICJlIiwgIkkiLCAiZCIsICJjIiwgImgiLCAiZiIsICJRIiwgImIiLCAiZiIsICJhIiwgImMiLCAiZCIsICJlIiwgImgiLCAiQyIsICJuIiwgImwiLCAicCIsICJyIiwgInQiLCAidSIsICJ2IiwgInkiLCAiSSIsICJRIiwgInAiLCAiYSIsICJjIiwgImQiLCAidiIsICJlIiwgImYiLCAibCIsICJoIiwgIkMiLCAiYiIsICJnIiwgImsiLCAibiIsICJ0IiwgInUiLCAiSSIsICJyIiwgInkiLCAibSIsICJRIiwgImkiLCAiYyIsICJvIiwgImgiLCAiZSIsICJlcnJvciIsICJ2YWx1ZSIsICJhIiwgInF1ZXJ5c3RyaW5nIiwgIm5vb3AiLCAic3RyaW5nVG9CeXRlQXJyYXkiLCAicCIsICJpIiwgImMiLCAiYzIiLCAiYzMiLCAidSIsICJuYW1lIiwgIkNvbXBvbmVudCIsICJuYW1lIiwgInR5cGUiLCAiZSIsICJpbml0X2luZGV4X2VzbTIwMTciLCAiTG9nTGV2ZWwiLCAibmFtZSIsICJlcnJvciIsICJ2YWx1ZSIsICJjIiwgIm5hbWUiLCAidmVyc2lvbiIsICJ0YXJnZXQiLCAiYXBwIiwgImUiLCAibmFtZSIsICJERUZBVUxUX0VOVFJZX05BTUUiLCAidmVyc2lvbiIsICJ3YXJuaW5nIiwgIkNvbXBvbmVudCIsICJhcHBOYW1lIiwgImFwcENvbXBhdE5hbWUiLCAiYW5hbHl0aWNzTmFtZSIsICJhbmFseXRpY3NDb21wYXROYW1lIiwgImFwcENoZWNrTmFtZSIsICJhcHBDaGVja0NvbXBhdE5hbWUiLCAiYXV0aE5hbWUiLCAiYXV0aENvbXBhdE5hbWUiLCAiZGF0YWJhc2VOYW1lIiwgImRhdGFjb25uZWN0TmFtZSIsICJkYXRhYmFzZUNvbXBhdE5hbWUiLCAiZnVuY3Rpb25zTmFtZSIsICJmdW5jdGlvbnNDb21wYXROYW1lIiwgImluc3RhbGxhdGlvbnNOYW1lIiwgImluc3RhbGxhdGlvbnNDb21wYXROYW1lIiwgIm1lc3NhZ2luZ05hbWUiLCAibWVzc2FnaW5nQ29tcGF0TmFtZSIsICJwZXJmb3JtYW5jZU5hbWUiLCAicGVyZm9ybWFuY2VDb21wYXROYW1lIiwgInJlbW90ZUNvbmZpZ05hbWUiLCAicmVtb3RlQ29uZmlnQ29tcGF0TmFtZSIsICJzdG9yYWdlTmFtZSIsICJzdG9yYWdlQ29tcGF0TmFtZSIsICJmaXJlc3RvcmVOYW1lIiwgImZpcmVzdG9yZUNvbXBhdE5hbWUiLCAidmVydGV4TmFtZSIsICJwYWNrYWdlTmFtZSIsICJlIiwgInQiLCAicCIsICJpIiwgImF1dGgiLCAianNvbiIsICJlIiwgImVycm9yIiwgIm8iLCAibiIsICJwIiwgImFwcCIsICJhcHBseUFjdGlvbkNvZGUiLCAic2VuZEVtYWlsVmVyaWZpY2F0aW9uIiwgInNlbmRQYXNzd29yZFJlc2V0RW1haWwiLCAic2VuZFNpZ25JbkxpbmtUb0VtYWlsIiwgInNpZ25JbldpdGhFbWFpbExpbmsiLCAic2lnbkluV2l0aFBob25lTnVtYmVyIiwgImxpbmtXaXRoUGhvbmVOdW1iZXIiLCAiX2xpbmsiLCAic2lnbkluV2l0aEN1c3RvbVRva2VuIiwgImdldElkVG9rZW5SZXNwb25zZSIsICJhdXRoZW50aWNhdGlvbi5zZW5kUGFzc3dvcmRSZXNldEVtYWlsIiwgImFjY291bnRcclxuICAgICAgICAucmVzZXRQYXNzd29yZCIsICJhY2NvdW50LmFwcGx5QWN0aW9uQ29kZSIsICJhY2NvdW50LnJlc2V0UGFzc3dvcmQiLCAicmVxdWVzdCIsICJhY3Rpb25Db2RlU2V0dGluZ3MiLCAiYXBpLnNlbmRTaWduSW5MaW5rVG9FbWFpbCIsICJhcGkuc2VuZEVtYWlsVmVyaWZpY2F0aW9uIiwgImFwaS52ZXJpZnlBbmRDaGFuZ2VFbWFpbCIsICJ1cGRhdGVQcm9maWxlIiwgImFwaVVwZGF0ZVByb2ZpbGUiLCAiYXBpVXBkYXRlRW1haWxQYXNzd29yZCIsICJ2YWx1ZSIsICJpIiwgIkRCX05BTUUiLCAiREJfVkVSU0lPTiIsICJfbGlua1VzZXIiLCAidiIsICJ0eXBlIiwgImpzLl9nZW5lcmF0ZUNhbGxiYWNrTmFtZSIsICJqc1xyXG4gICAgICAgICAgICAgICAgLl9sb2FkSlMiLCAianMuX2dhcGlTY3JpcHRVcmwiLCAiZ2FwaUxvYWRlci5fbG9hZEdhcGkiLCAiZ2FwaSIsICJuYW1lIiwgIkNvbXBvbmVudCIsICJ2ZXJzaW9uIiwgIklEUF9SRVFVRVNUX1VSSSIsICJfUE9MTElOR19JTlRFUlZBTF9NUyIsICJyZWxvYWQiLCAianNIZWxwZXJzLl9yZWNhcHRjaGFFbnRlcnByaXNlU2NyaXB0VXJsIiwgImpzSGVscGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuX2xvYWRKUyIsICJrZXkiLCAic3RvcmVkVmFsdWUiLCAianNIZWxwZXJzLl9nZW5lcmF0ZUNhbGxiYWNrTmFtZSIsICJqc0hlbHBlcnMuX3JlY2FwdGNoYVYyU2NyaXB0VXJsIiwgImpzSGVscGVycy5fbG9hZEpTIiwgImZpbHRlciIsICJ3aW5kb3ciLCAicHJvbWlzZSIsICJpbml0X2luZGV4X2VzbTIwMTciLCAiZiIsICJsIiwgIm4iLCAicCIsICJjIiwgImEiLCAiZCIsICJlIiwgImgiLCAiaW1wb3J0X3JlYWN0IiwgIkFjdGlvbiIsICJQb3BTdGF0ZUV2ZW50VHlwZSIsICJjcmVhdGVCcm93c2VySGlzdG9yeSIsICJvcHRpb25zIiwgImNyZWF0ZUJyb3dzZXJMb2NhdGlvbiIsICJ3aW5kb3ciLCAiZ2xvYmFsSGlzdG9yeSIsICJwYXRobmFtZSIsICJzZWFyY2giLCAiaGFzaCIsICJsb2NhdGlvbiIsICJjcmVhdGVMb2NhdGlvbiIsICJzdGF0ZSIsICJ1c3IiLCAia2V5IiwgImNyZWF0ZUJyb3dzZXJIcmVmIiwgInRvIiwgImNyZWF0ZVBhdGgiLCAiZ2V0VXJsQmFzZWRIaXN0b3J5IiwgImludmFyaWFudCIsICJ2YWx1ZSIsICJtZXNzYWdlIiwgIkVycm9yIiwgIndhcm5pbmciLCAiY29uZCIsICJjb25zb2xlIiwgIndhcm4iLCAiZSIsICJjcmVhdGVLZXkiLCAiTWF0aCIsICJyYW5kb20iLCAidG9TdHJpbmciLCAic3Vic3RyIiwgImdldEhpc3RvcnlTdGF0ZSIsICJsb2NhdGlvbiIsICJpbmRleCIsICJ1c3IiLCAic3RhdGUiLCAia2V5IiwgImlkeCIsICJjcmVhdGVMb2NhdGlvbiIsICJjdXJyZW50IiwgInRvIiwgIl9leHRlbmRzIiwgInBhdGhuYW1lIiwgInNlYXJjaCIsICJoYXNoIiwgInBhcnNlUGF0aCIsICJjcmVhdGVQYXRoIiwgIl9yZWYiLCAiY2hhckF0IiwgInBhdGgiLCAicGFyc2VkUGF0aCIsICJoYXNoSW5kZXgiLCAiaW5kZXhPZiIsICJzZWFyY2hJbmRleCIsICJnZXRVcmxCYXNlZEhpc3RvcnkiLCAiZ2V0TG9jYXRpb24iLCAiY3JlYXRlSHJlZiIsICJ2YWxpZGF0ZUxvY2F0aW9uIiwgIm9wdGlvbnMiLCAid2luZG93IiwgImRvY3VtZW50IiwgImRlZmF1bHRWaWV3IiwgInY1Q29tcGF0IiwgImdsb2JhbEhpc3RvcnkiLCAiaGlzdG9yeSIsICJhY3Rpb24iLCAiQWN0aW9uIiwgIlBvcCIsICJsaXN0ZW5lciIsICJnZXRJbmRleCIsICJyZXBsYWNlU3RhdGUiLCAiaGFuZGxlUG9wIiwgIm5leHRJbmRleCIsICJkZWx0YSIsICJwdXNoIiwgIlB1c2giLCAiaGlzdG9yeVN0YXRlIiwgInVybCIsICJwdXNoU3RhdGUiLCAiZXJyb3IiLCAiRE9NRXhjZXB0aW9uIiwgIm5hbWUiLCAiYXNzaWduIiwgInJlcGxhY2UiLCAiUmVwbGFjZSIsICJjcmVhdGVVUkwiLCAiYmFzZSIsICJvcmlnaW4iLCAiaHJlZiIsICJVUkwiLCAibGlzdGVuIiwgImZuIiwgImFkZEV2ZW50TGlzdGVuZXIiLCAiUG9wU3RhdGVFdmVudFR5cGUiLCAicmVtb3ZlRXZlbnRMaXN0ZW5lciIsICJlbmNvZGVMb2NhdGlvbiIsICJnbyIsICJuIiwgIlJlc3VsdFR5cGUiLCAibWF0Y2hSb3V0ZXMiLCAicm91dGVzIiwgImxvY2F0aW9uQXJnIiwgImJhc2VuYW1lIiwgIm1hdGNoUm91dGVzSW1wbCIsICJhbGxvd1BhcnRpYWwiLCAibG9jYXRpb24iLCAicGFyc2VQYXRoIiwgInBhdGhuYW1lIiwgInN0cmlwQmFzZW5hbWUiLCAiYnJhbmNoZXMiLCAiZmxhdHRlblJvdXRlcyIsICJyYW5rUm91dGVCcmFuY2hlcyIsICJtYXRjaGVzIiwgImkiLCAibGVuZ3RoIiwgImRlY29kZWQiLCAiZGVjb2RlUGF0aCIsICJtYXRjaFJvdXRlQnJhbmNoIiwgImZsYXR0ZW5Sb3V0ZXMiLCAicm91dGVzIiwgImJyYW5jaGVzIiwgInBhcmVudHNNZXRhIiwgInBhcmVudFBhdGgiLCAiZmxhdHRlblJvdXRlIiwgInJvdXRlIiwgImluZGV4IiwgInJlbGF0aXZlUGF0aCIsICJtZXRhIiwgInVuZGVmaW5lZCIsICJwYXRoIiwgImNhc2VTZW5zaXRpdmUiLCAiY2hpbGRyZW5JbmRleCIsICJzdGFydHNXaXRoIiwgImludmFyaWFudCIsICJzbGljZSIsICJsZW5ndGgiLCAiam9pblBhdGhzIiwgInJvdXRlc01ldGEiLCAiY29uY2F0IiwgImNoaWxkcmVuIiwgInB1c2giLCAic2NvcmUiLCAiY29tcHV0ZVNjb3JlIiwgImZvckVhY2giLCAiX3JvdXRlJHBhdGgiLCAiaW5jbHVkZXMiLCAiZXhwbG9kZWQiLCAiZXhwbG9kZU9wdGlvbmFsU2VnbWVudHMiLCAic2VnbWVudHMiLCAic3BsaXQiLCAiZmlyc3QiLCAicmVzdCIsICJpc09wdGlvbmFsIiwgImVuZHNXaXRoIiwgInJlcXVpcmVkIiwgInJlcGxhY2UiLCAicmVzdEV4cGxvZGVkIiwgImpvaW4iLCAicmVzdWx0IiwgIm1hcCIsICJzdWJwYXRoIiwgInJhbmtSb3V0ZUJyYW5jaGVzIiwgInNvcnQiLCAiYSIsICJiIiwgImNvbXBhcmVJbmRleGVzIiwgInBhcmFtUmUiLCAiZHluYW1pY1NlZ21lbnRWYWx1ZSIsICJpbmRleFJvdXRlVmFsdWUiLCAiZW1wdHlTZWdtZW50VmFsdWUiLCAic3RhdGljU2VnbWVudFZhbHVlIiwgInNwbGF0UGVuYWx0eSIsICJpc1NwbGF0IiwgInMiLCAiaW5pdGlhbFNjb3JlIiwgInNvbWUiLCAiZmlsdGVyIiwgInJlZHVjZSIsICJzZWdtZW50IiwgInRlc3QiLCAic2libGluZ3MiLCAiZXZlcnkiLCAibiIsICJpIiwgIm1hdGNoUm91dGVCcmFuY2giLCAiYnJhbmNoIiwgInBhdGhuYW1lIiwgImFsbG93UGFydGlhbCIsICJtYXRjaGVkUGFyYW1zIiwgIm1hdGNoZWRQYXRobmFtZSIsICJtYXRjaGVzIiwgImVuZCIsICJyZW1haW5pbmdQYXRobmFtZSIsICJtYXRjaCIsICJtYXRjaFBhdGgiLCAiT2JqZWN0IiwgImFzc2lnbiIsICJwYXJhbXMiLCAicGF0aG5hbWVCYXNlIiwgIm5vcm1hbGl6ZVBhdGhuYW1lIiwgIm1hdGNoUGF0aCIsICJwYXR0ZXJuIiwgInBhdGhuYW1lIiwgInBhdGgiLCAiY2FzZVNlbnNpdGl2ZSIsICJlbmQiLCAibWF0Y2hlciIsICJjb21waWxlZFBhcmFtcyIsICJjb21waWxlUGF0aCIsICJtYXRjaCIsICJtYXRjaGVkUGF0aG5hbWUiLCAicGF0aG5hbWVCYXNlIiwgInJlcGxhY2UiLCAiY2FwdHVyZUdyb3VwcyIsICJzbGljZSIsICJwYXJhbXMiLCAicmVkdWNlIiwgIm1lbW8iLCAiX3JlZiIsICJpbmRleCIsICJwYXJhbU5hbWUiLCAiaXNPcHRpb25hbCIsICJzcGxhdFZhbHVlIiwgImxlbmd0aCIsICJ2YWx1ZSIsICJ1bmRlZmluZWQiLCAid2FybmluZyIsICJlbmRzV2l0aCIsICJyZWdleHBTb3VyY2UiLCAiXyIsICJwdXNoIiwgIlJlZ0V4cCIsICJkZWNvZGVQYXRoIiwgInNwbGl0IiwgIm1hcCIsICJ2IiwgImRlY29kZVVSSUNvbXBvbmVudCIsICJqb2luIiwgImVycm9yIiwgInN0cmlwQmFzZW5hbWUiLCAiYmFzZW5hbWUiLCAidG9Mb3dlckNhc2UiLCAic3RhcnRzV2l0aCIsICJzdGFydEluZGV4IiwgIm5leHRDaGFyIiwgImNoYXJBdCIsICJBQlNPTFVURV9VUkxfUkVHRVgiLCAiaXNBYnNvbHV0ZVVybCIsICJ1cmwiLCAidGVzdCIsICJyZXNvbHZlUGF0aCIsICJ0byIsICJmcm9tUGF0aG5hbWUiLCAidG9QYXRobmFtZSIsICJzZWFyY2giLCAiaGFzaCIsICJwYXJzZVBhdGgiLCAiaW5jbHVkZXMiLCAib2xkUGF0aG5hbWUiLCAicmVzb2x2ZVBhdGhuYW1lIiwgInN1YnN0cmluZyIsICJub3JtYWxpemVTZWFyY2giLCAibm9ybWFsaXplSGFzaCIsICJyZWxhdGl2ZVBhdGgiLCAic2VnbWVudHMiLCAicmVsYXRpdmVTZWdtZW50cyIsICJmb3JFYWNoIiwgInNlZ21lbnQiLCAicG9wIiwgImdldEludmFsaWRQYXRoRXJyb3IiLCAiY2hhciIsICJmaWVsZCIsICJkZXN0IiwgIkpTT04iLCAic3RyaW5naWZ5IiwgImdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzIiwgIm1hdGNoZXMiLCAiZmlsdGVyIiwgInJvdXRlIiwgImdldFJlc29sdmVUb01hdGNoZXMiLCAidjdfcmVsYXRpdmVTcGxhdFBhdGgiLCAicGF0aE1hdGNoZXMiLCAiaWR4IiwgInJlc29sdmVUbyIsICJ0b0FyZyIsICJyb3V0ZVBhdGhuYW1lcyIsICJsb2NhdGlvblBhdGhuYW1lIiwgImlzUGF0aFJlbGF0aXZlIiwgIl9leHRlbmRzIiwgImludmFyaWFudCIsICJpc0VtcHR5UGF0aCIsICJmcm9tIiwgInJvdXRlUGF0aG5hbWVJbmRleCIsICJ0b1NlZ21lbnRzIiwgInNoaWZ0IiwgImhhc0V4cGxpY2l0VHJhaWxpbmdTbGFzaCIsICJoYXNDdXJyZW50VHJhaWxpbmdTbGFzaCIsICJqb2luUGF0aHMiLCAicGF0aHMiLCAiam9pbiIsICJyZXBsYWNlIiwgIm5vcm1hbGl6ZVBhdGhuYW1lIiwgInBhdGhuYW1lIiwgIm5vcm1hbGl6ZVNlYXJjaCIsICJzZWFyY2giLCAic3RhcnRzV2l0aCIsICJub3JtYWxpemVIYXNoIiwgImhhc2giLCAiaXNSb3V0ZUVycm9yUmVzcG9uc2UiLCAiZXJyb3IiLCAic3RhdHVzIiwgInN0YXR1c1RleHQiLCAiaW50ZXJuYWwiLCAidmFsaWRNdXRhdGlvbk1ldGhvZHNBcnIiLCAidmFsaWRNdXRhdGlvbk1ldGhvZHMiLCAiU2V0IiwgInZhbGlkUmVxdWVzdE1ldGhvZHNBcnIiLCAidmFsaWRSZXF1ZXN0TWV0aG9kcyIsICJVTlNBRkVfREVGRVJSRURfU1lNQk9MIiwgIlN5bWJvbCIsICJEYXRhUm91dGVyQ29udGV4dCIsICJSZWFjdCIsICJjcmVhdGVDb250ZXh0IiwgInByb2Nlc3MiLCAiZGlzcGxheU5hbWUiLCAiRGF0YVJvdXRlclN0YXRlQ29udGV4dCIsICJwcm9jZXNzIiwgIkF3YWl0Q29udGV4dCIsICJkaXNwbGF5TmFtZSIsICJOYXZpZ2F0aW9uQ29udGV4dCIsICJSZWFjdCIsICJjcmVhdGVDb250ZXh0IiwgIkxvY2F0aW9uQ29udGV4dCIsICJSb3V0ZUNvbnRleHQiLCAib3V0bGV0IiwgIm1hdGNoZXMiLCAiaXNEYXRhUm91dGUiLCAiUm91dGVFcnJvckNvbnRleHQiLCAidXNlSHJlZiIsICJ0byIsICJfdGVtcCIsICJyZWxhdGl2ZSIsICJ1c2VJblJvdXRlckNvbnRleHQiLCAiaW52YXJpYW50IiwgImJhc2VuYW1lIiwgIm5hdmlnYXRvciIsICJ1c2VDb250ZXh0IiwgImhhc2giLCAicGF0aG5hbWUiLCAic2VhcmNoIiwgInVzZVJlc29sdmVkUGF0aCIsICJqb2luZWRQYXRobmFtZSIsICJqb2luUGF0aHMiLCAiY3JlYXRlSHJlZiIsICJ1c2VMb2NhdGlvbiIsICJsb2NhdGlvbiIsICJ1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwgImNiIiwgImlzU3RhdGljIiwgInVzZUNvbnRleHQiLCAiTmF2aWdhdGlvbkNvbnRleHQiLCAic3RhdGljIiwgIlJlYWN0IiwgInVzZUxheW91dEVmZmVjdCIsICJ1c2VOYXZpZ2F0ZSIsICJpc0RhdGFSb3V0ZSIsICJSb3V0ZUNvbnRleHQiLCAidXNlTmF2aWdhdGVTdGFibGUiLCAidXNlTmF2aWdhdGVVbnN0YWJsZSIsICJ1c2VJblJvdXRlckNvbnRleHQiLCAicHJvY2VzcyIsICJpbnZhcmlhbnQiLCAiZGF0YVJvdXRlckNvbnRleHQiLCAiRGF0YVJvdXRlckNvbnRleHQiLCAiYmFzZW5hbWUiLCAiZnV0dXJlIiwgIm5hdmlnYXRvciIsICJtYXRjaGVzIiwgInBhdGhuYW1lIiwgImxvY2F0aW9uUGF0aG5hbWUiLCAidXNlTG9jYXRpb24iLCAicm91dGVQYXRobmFtZXNKc29uIiwgIkpTT04iLCAic3RyaW5naWZ5IiwgImdldFJlc29sdmVUb01hdGNoZXMiLCAidjdfcmVsYXRpdmVTcGxhdFBhdGgiLCAiYWN0aXZlUmVmIiwgInVzZVJlZiIsICJjdXJyZW50IiwgIm5hdmlnYXRlIiwgInVzZUNhbGxiYWNrIiwgInRvIiwgIm9wdGlvbnMiLCAid2FybmluZyIsICJuYXZpZ2F0ZUVmZmVjdFdhcm5pbmciLCAiZ28iLCAicGF0aCIsICJyZXNvbHZlVG8iLCAicGFyc2UiLCAicmVsYXRpdmUiLCAiam9pblBhdGhzIiwgInJlcGxhY2UiLCAicHVzaCIsICJzdGF0ZSIsICJ1c2VSZXNvbHZlZFBhdGgiLCAidG8iLCAiX3RlbXAyIiwgInJlbGF0aXZlIiwgImZ1dHVyZSIsICJ1c2VDb250ZXh0IiwgIk5hdmlnYXRpb25Db250ZXh0IiwgIm1hdGNoZXMiLCAiUm91dGVDb250ZXh0IiwgInBhdGhuYW1lIiwgImxvY2F0aW9uUGF0aG5hbWUiLCAidXNlTG9jYXRpb24iLCAicm91dGVQYXRobmFtZXNKc29uIiwgIkpTT04iLCAic3RyaW5naWZ5IiwgImdldFJlc29sdmVUb01hdGNoZXMiLCAidjdfcmVsYXRpdmVTcGxhdFBhdGgiLCAidXNlTWVtbyIsICJyZXNvbHZlVG8iLCAicGFyc2UiLCAidXNlUm91dGVzIiwgInJvdXRlcyIsICJsb2NhdGlvbkFyZyIsICJ1c2VSb3V0ZXNJbXBsIiwgImRhdGFSb3V0ZXJTdGF0ZSIsICJ1c2VJblJvdXRlckNvbnRleHQiLCAicHJvY2VzcyIsICJpbnZhcmlhbnQiLCAibmF2aWdhdG9yIiwgInBhcmVudE1hdGNoZXMiLCAicm91dGVNYXRjaCIsICJsZW5ndGgiLCAicGFyZW50UGFyYW1zIiwgInBhcmFtcyIsICJwYXJlbnRQYXRobmFtZSIsICJwYXJlbnRQYXRobmFtZUJhc2UiLCAicGF0aG5hbWVCYXNlIiwgInBhcmVudFJvdXRlIiwgInJvdXRlIiwgInBhcmVudFBhdGgiLCAicGF0aCIsICJ3YXJuaW5nT25jZSIsICJlbmRzV2l0aCIsICJsb2NhdGlvbkZyb21Db250ZXh0IiwgImxvY2F0aW9uIiwgIl9wYXJzZWRMb2NhdGlvbkFyZyRwYSIsICJwYXJzZWRMb2NhdGlvbkFyZyIsICJwYXJzZVBhdGgiLCAic3RhcnRzV2l0aCIsICJyZW1haW5pbmdQYXRobmFtZSIsICJwYXJlbnRTZWdtZW50cyIsICJyZXBsYWNlIiwgInNwbGl0IiwgInNlZ21lbnRzIiwgInNsaWNlIiwgImpvaW4iLCAibWF0Y2hSb3V0ZXMiLCAid2FybmluZyIsICJzZWFyY2giLCAiaGFzaCIsICJlbGVtZW50IiwgInVuZGVmaW5lZCIsICJDb21wb25lbnQiLCAibGF6eSIsICJyZW5kZXJlZE1hdGNoZXMiLCAiX3JlbmRlck1hdGNoZXMiLCAibWFwIiwgIm1hdGNoIiwgIk9iamVjdCIsICJhc3NpZ24iLCAiam9pblBhdGhzIiwgImVuY29kZUxvY2F0aW9uIiwgIlJlYWN0IiwgImNyZWF0ZUVsZW1lbnQiLCAiTG9jYXRpb25Db250ZXh0IiwgIlByb3ZpZGVyIiwgInZhbHVlIiwgIl9leHRlbmRzIiwgInN0YXRlIiwgImtleSIsICJuYXZpZ2F0aW9uVHlwZSIsICJOYXZpZ2F0aW9uVHlwZSIsICJQb3AiLCAiRGVmYXVsdEVycm9yQ29tcG9uZW50IiwgImVycm9yIiwgInVzZVJvdXRlRXJyb3IiLCAibWVzc2FnZSIsICJpc1JvdXRlRXJyb3JSZXNwb25zZSIsICJzdGF0dXMiLCAic3RhdHVzVGV4dCIsICJFcnJvciIsICJzdGFjayIsICJsaWdodGdyZXkiLCAicHJlU3R5bGVzIiwgInBhZGRpbmciLCAiYmFja2dyb3VuZENvbG9yIiwgImNvZGVTdHlsZXMiLCAiZGV2SW5mbyIsICJjb25zb2xlIiwgIkZyYWdtZW50IiwgInN0eWxlIiwgImZvbnRTdHlsZSIsICJkZWZhdWx0RXJyb3JFbGVtZW50IiwgIlJlbmRlckVycm9yQm91bmRhcnkiLCAiY29uc3RydWN0b3IiLCAicHJvcHMiLCAicmV2YWxpZGF0aW9uIiwgImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsICJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCAiY29tcG9uZW50RGlkQ2F0Y2giLCAiZXJyb3JJbmZvIiwgInJlbmRlciIsICJyb3V0ZUNvbnRleHQiLCAiUm91dGVFcnJvckNvbnRleHQiLCAiY2hpbGRyZW4iLCAiY29tcG9uZW50IiwgIlJlbmRlcmVkUm91dGUiLCAiX3JlZiIsICJkYXRhUm91dGVyQ29udGV4dCIsICJEYXRhUm91dGVyQ29udGV4dCIsICJzdGF0aWMiLCAic3RhdGljQ29udGV4dCIsICJlcnJvckVsZW1lbnQiLCAiRXJyb3JCb3VuZGFyeSIsICJfZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZCIsICJpZCIsICJfZGF0YVJvdXRlclN0YXRlIiwgIl9mdXR1cmUiLCAiZXJyb3JzIiwgInY3X3BhcnRpYWxIeWRyYXRpb24iLCAiaW5pdGlhbGl6ZWQiLCAiZXJyb3JJbmRleCIsICJmaW5kSW5kZXgiLCAibSIsICJrZXlzIiwgIk1hdGgiLCAibWluIiwgInJlbmRlckZhbGxiYWNrIiwgImZhbGxiYWNrSW5kZXgiLCAiaSIsICJIeWRyYXRlRmFsbGJhY2siLCAiaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCIsICJsb2FkZXJEYXRhIiwgIm5lZWRzVG9SdW5Mb2FkZXIiLCAibG9hZGVyIiwgInJlZHVjZVJpZ2h0IiwgIm91dGxldCIsICJpbmRleCIsICJzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2siLCAiY29uY2F0IiwgImdldENoaWxkcmVuIiwgImlzRGF0YVJvdXRlIiwgIkRhdGFSb3V0ZXJIb29rIiwgIkRhdGFSb3V0ZXJTdGF0ZUhvb2siLCAidXNlRGF0YVJvdXRlckNvbnRleHQiLCAiaG9va05hbWUiLCAiY3R4IiwgInVzZUNvbnRleHQiLCAiRGF0YVJvdXRlckNvbnRleHQiLCAicHJvY2VzcyIsICJpbnZhcmlhbnQiLCAiZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvciIsICJ1c2VEYXRhUm91dGVyU3RhdGUiLCAic3RhdGUiLCAiRGF0YVJvdXRlclN0YXRlQ29udGV4dCIsICJ1c2VSb3V0ZUNvbnRleHQiLCAicm91dGUiLCAiUm91dGVDb250ZXh0IiwgInVzZUN1cnJlbnRSb3V0ZUlkIiwgInRoaXNSb3V0ZSIsICJtYXRjaGVzIiwgImxlbmd0aCIsICJpZCIsICJ1c2VSb3V0ZUVycm9yIiwgIl9zdGF0ZSRlcnJvcnMiLCAiZXJyb3IiLCAidXNlQ29udGV4dCIsICJSb3V0ZUVycm9yQ29udGV4dCIsICJzdGF0ZSIsICJ1c2VEYXRhUm91dGVyU3RhdGUiLCAiRGF0YVJvdXRlclN0YXRlSG9vayIsICJVc2VSb3V0ZUVycm9yIiwgInJvdXRlSWQiLCAidXNlQ3VycmVudFJvdXRlSWQiLCAidW5kZWZpbmVkIiwgImVycm9ycyIsICJ1c2VOYXZpZ2F0ZVN0YWJsZSIsICJyb3V0ZXIiLCAidXNlRGF0YVJvdXRlckNvbnRleHQiLCAiRGF0YVJvdXRlckhvb2siLCAiVXNlTmF2aWdhdGVTdGFibGUiLCAiaWQiLCAidXNlQ3VycmVudFJvdXRlSWQiLCAiRGF0YVJvdXRlclN0YXRlSG9vayIsICJhY3RpdmVSZWYiLCAidXNlUmVmIiwgInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QiLCAiY3VycmVudCIsICJuYXZpZ2F0ZSIsICJ1c2VDYWxsYmFjayIsICJ0byIsICJvcHRpb25zIiwgInByb2Nlc3MiLCAid2FybmluZyIsICJuYXZpZ2F0ZUVmZmVjdFdhcm5pbmciLCAiX2V4dGVuZHMiLCAiZnJvbVJvdXRlSWQiLCAiYWxyZWFkeVdhcm5lZCIsICJ3YXJuaW5nT25jZSIsICJrZXkiLCAiY29uZCIsICJtZXNzYWdlIiwgIndhcm5PbmNlIiwgImtleSIsICJtZXNzYWdlIiwgInByb2Nlc3MiLCAiYWxyZWFkeVdhcm5lZCIsICJjb25zb2xlIiwgIndhcm4iLCAibG9nRGVwcmVjYXRpb24iLCAiZmxhZyIsICJtc2ciLCAibGluayIsICJsb2dWNkRlcHJlY2F0aW9uV2FybmluZ3MiLCAicmVuZGVyRnV0dXJlIiwgInJvdXRlckZ1dHVyZSIsICJ2N19zdGFydFRyYW5zaXRpb24iLCAidW5kZWZpbmVkIiwgInY3X3JlbGF0aXZlU3BsYXRQYXRoIiwgInY3X2ZldGNoZXJQZXJzaXN0IiwgInY3X25vcm1hbGl6ZUZvcm1NZXRob2QiLCAidjdfcGFydGlhbEh5ZHJhdGlvbiIsICJ2N19za2lwQWN0aW9uRXJyb3JSZXZhbGlkYXRpb24iLCAiU1RBUlRfVFJBTlNJVElPTiIsICJzdGFydFRyYW5zaXRpb25JbXBsIiwgIlJlYWN0IiwgIk5hdmlnYXRlIiwgIl9yZWY0IiwgInRvIiwgInJlcGxhY2UiLCAic3RhdGUiLCAicmVsYXRpdmUiLCAidXNlSW5Sb3V0ZXJDb250ZXh0IiwgInByb2Nlc3MiLCAiaW52YXJpYW50IiwgImZ1dHVyZSIsICJzdGF0aWMiLCAiaXNTdGF0aWMiLCAidXNlQ29udGV4dCIsICJOYXZpZ2F0aW9uQ29udGV4dCIsICJ3YXJuaW5nIiwgIm1hdGNoZXMiLCAiUm91dGVDb250ZXh0IiwgInBhdGhuYW1lIiwgImxvY2F0aW9uUGF0aG5hbWUiLCAidXNlTG9jYXRpb24iLCAibmF2aWdhdGUiLCAidXNlTmF2aWdhdGUiLCAicGF0aCIsICJyZXNvbHZlVG8iLCAiZ2V0UmVzb2x2ZVRvTWF0Y2hlcyIsICJ2N19yZWxhdGl2ZVNwbGF0UGF0aCIsICJqc29uUGF0aCIsICJKU09OIiwgInN0cmluZ2lmeSIsICJSZWFjdCIsICJ1c2VFZmZlY3QiLCAicGFyc2UiLCAiUm91dGUiLCAiX3Byb3BzIiwgInByb2Nlc3MiLCAiaW52YXJpYW50IiwgIlJvdXRlciIsICJfcmVmNSIsICJiYXNlbmFtZSIsICJiYXNlbmFtZVByb3AiLCAiY2hpbGRyZW4iLCAibG9jYXRpb24iLCAibG9jYXRpb25Qcm9wIiwgIm5hdmlnYXRpb25UeXBlIiwgIk5hdmlnYXRpb25UeXBlIiwgIlBvcCIsICJuYXZpZ2F0b3IiLCAic3RhdGljIiwgInN0YXRpY1Byb3AiLCAiZnV0dXJlIiwgInVzZUluUm91dGVyQ29udGV4dCIsICJyZXBsYWNlIiwgIm5hdmlnYXRpb25Db250ZXh0IiwgInVzZU1lbW8iLCAiX2V4dGVuZHMiLCAidjdfcmVsYXRpdmVTcGxhdFBhdGgiLCAicGFyc2VQYXRoIiwgInBhdGhuYW1lIiwgInNlYXJjaCIsICJoYXNoIiwgInN0YXRlIiwgImtleSIsICJsb2NhdGlvbkNvbnRleHQiLCAidHJhaWxpbmdQYXRobmFtZSIsICJzdHJpcEJhc2VuYW1lIiwgIndhcm5pbmciLCAiUmVhY3QiLCAiY3JlYXRlRWxlbWVudCIsICJOYXZpZ2F0aW9uQ29udGV4dCIsICJQcm92aWRlciIsICJ2YWx1ZSIsICJMb2NhdGlvbkNvbnRleHQiLCAiUm91dGVzIiwgIl9yZWY2IiwgInVzZVJvdXRlcyIsICJjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4iLCAibmV2ZXJTZXR0bGVkUHJvbWlzZSIsICJQcm9taXNlIiwgImNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbiIsICJjaGlsZHJlbiIsICJwYXJlbnRQYXRoIiwgInJvdXRlcyIsICJSZWFjdCIsICJDaGlsZHJlbiIsICJmb3JFYWNoIiwgImVsZW1lbnQiLCAiaW5kZXgiLCAiaXNWYWxpZEVsZW1lbnQiLCAidHJlZVBhdGgiLCAidHlwZSIsICJGcmFnbWVudCIsICJwdXNoIiwgImFwcGx5IiwgInByb3BzIiwgIlJvdXRlIiwgInByb2Nlc3MiLCAiaW52YXJpYW50IiwgIm5hbWUiLCAicm91dGUiLCAiaWQiLCAiam9pbiIsICJjYXNlU2Vuc2l0aXZlIiwgIkNvbXBvbmVudCIsICJwYXRoIiwgImxvYWRlciIsICJhY3Rpb24iLCAiZXJyb3JFbGVtZW50IiwgIkVycm9yQm91bmRhcnkiLCAiaGFzRXJyb3JCb3VuZGFyeSIsICJzaG91bGRSZXZhbGlkYXRlIiwgImhhbmRsZSIsICJsYXp5IiwgImlzTW9kaWZpZWRFdmVudCIsICJldmVudCIsICJtZXRhS2V5IiwgImFsdEtleSIsICJjdHJsS2V5IiwgInNoaWZ0S2V5IiwgInNob3VsZFByb2Nlc3NMaW5rQ2xpY2siLCAidGFyZ2V0IiwgImJ1dHRvbiIsICJSRUFDVF9ST1VURVJfVkVSU0lPTiIsICJ3aW5kb3ciLCAiX19yZWFjdFJvdXRlclZlcnNpb24iLCAiZSIsICJwcm9jZXNzIiwgIlZpZXdUcmFuc2l0aW9uQ29udGV4dCIsICJkaXNwbGF5TmFtZSIsICJwcm9jZXNzIiwgIkZldGNoZXJzQ29udGV4dCIsICJkaXNwbGF5TmFtZSIsICJTVEFSVF9UUkFOU0lUSU9OIiwgInN0YXJ0VHJhbnNpdGlvbkltcGwiLCAiUmVhY3QiLCAiRkxVU0hfU1lOQyIsICJmbHVzaFN5bmNJbXBsIiwgIlJlYWN0RE9NIiwgIlVTRV9JRCIsICJ1c2VJZEltcGwiLCAiQnJvd3NlclJvdXRlciIsICJfcmVmNCIsICJiYXNlbmFtZSIsICJjaGlsZHJlbiIsICJmdXR1cmUiLCAid2luZG93IiwgImhpc3RvcnlSZWYiLCAidXNlUmVmIiwgImN1cnJlbnQiLCAiY3JlYXRlQnJvd3Nlckhpc3RvcnkiLCAidjVDb21wYXQiLCAiaGlzdG9yeSIsICJzdGF0ZSIsICJzZXRTdGF0ZUltcGwiLCAidXNlU3RhdGUiLCAiYWN0aW9uIiwgImxvY2F0aW9uIiwgInY3X3N0YXJ0VHJhbnNpdGlvbiIsICJzZXRTdGF0ZSIsICJ1c2VDYWxsYmFjayIsICJuZXdTdGF0ZSIsICJzdGFydFRyYW5zaXRpb25JbXBsIiwgIlJlYWN0IiwgInVzZUxheW91dEVmZmVjdCIsICJsaXN0ZW4iLCAidXNlRWZmZWN0IiwgImxvZ1Y2RGVwcmVjYXRpb25XYXJuaW5ncyIsICJjcmVhdGVFbGVtZW50IiwgIlJvdXRlciIsICJuYXZpZ2F0aW9uVHlwZSIsICJuYXZpZ2F0b3IiLCAicHJvY2VzcyIsICJIaXN0b3J5Um91dGVyIiwgImRpc3BsYXlOYW1lIiwgImlzQnJvd3NlciIsICJ3aW5kb3ciLCAiZG9jdW1lbnQiLCAiY3JlYXRlRWxlbWVudCIsICJBQlNPTFVURV9VUkxfUkVHRVgiLCAiTGluayIsICJSZWFjdCIsICJmb3J3YXJkUmVmIiwgIkxpbmtXaXRoUmVmIiwgIl9yZWY3IiwgInJlZiIsICJvbkNsaWNrIiwgInJlbGF0aXZlIiwgInJlbG9hZERvY3VtZW50IiwgInJlcGxhY2UiLCAic3RhdGUiLCAidGFyZ2V0IiwgInRvIiwgInByZXZlbnRTY3JvbGxSZXNldCIsICJ2aWV3VHJhbnNpdGlvbiIsICJyZXN0IiwgIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwgIl9leGNsdWRlZCIsICJiYXNlbmFtZSIsICJ1c2VDb250ZXh0IiwgIk5hdmlnYXRpb25Db250ZXh0IiwgImFic29sdXRlSHJlZiIsICJpc0V4dGVybmFsIiwgInRlc3QiLCAiY3VycmVudFVybCIsICJVUkwiLCAibG9jYXRpb24iLCAiaHJlZiIsICJ0YXJnZXRVcmwiLCAic3RhcnRzV2l0aCIsICJwcm90b2NvbCIsICJwYXRoIiwgInN0cmlwQmFzZW5hbWUiLCAicGF0aG5hbWUiLCAib3JpZ2luIiwgInNlYXJjaCIsICJoYXNoIiwgImUiLCAid2FybmluZyIsICJ1c2VIcmVmIiwgImludGVybmFsT25DbGljayIsICJ1c2VMaW5rQ2xpY2tIYW5kbGVyIiwgImhhbmRsZUNsaWNrIiwgImV2ZW50IiwgImRlZmF1bHRQcmV2ZW50ZWQiLCAiX2V4dGVuZHMiLCAicHJvY2VzcyIsICJOYXZMaW5rIiwgImRpc3BsYXlOYW1lIiwgInByb2Nlc3MiLCAiRm9ybSIsICJkaXNwbGF5TmFtZSIsICJwcm9jZXNzIiwgIlNjcm9sbFJlc3RvcmF0aW9uIiwgImRpc3BsYXlOYW1lIiwgIkRhdGFSb3V0ZXJIb29rIiwgIkRhdGFSb3V0ZXJTdGF0ZUhvb2siLCAidXNlTGlua0NsaWNrSGFuZGxlciIsICJ0byIsICJfdGVtcCIsICJ0YXJnZXQiLCAicmVwbGFjZSIsICJyZXBsYWNlUHJvcCIsICJzdGF0ZSIsICJwcmV2ZW50U2Nyb2xsUmVzZXQiLCAicmVsYXRpdmUiLCAidmlld1RyYW5zaXRpb24iLCAibmF2aWdhdGUiLCAidXNlTmF2aWdhdGUiLCAibG9jYXRpb24iLCAidXNlTG9jYXRpb24iLCAicGF0aCIsICJ1c2VSZXNvbHZlZFBhdGgiLCAidXNlQ2FsbGJhY2siLCAiZXZlbnQiLCAic2hvdWxkUHJvY2Vzc0xpbmtDbGljayIsICJwcmV2ZW50RGVmYXVsdCIsICJ1bmRlZmluZWQiLCAiY3JlYXRlUGF0aCIsICJLaW5kIiwgIk5BTUUiLCAiRE9DVU1FTlQiLCAiT1BFUkFUSU9OX0RFRklOSVRJT04iLCAiVkFSSUFCTEVfREVGSU5JVElPTiIsICJTRUxFQ1RJT05fU0VUIiwgIkZJRUxEIiwgIkFSR1VNRU5UIiwgIkZSQUdNRU5UX1NQUkVBRCIsICJJTkxJTkVfRlJBR01FTlQiLCAiRlJBR01FTlRfREVGSU5JVElPTiIsICJWQVJJQUJMRSIsICJJTlQiLCAiRkxPQVQiLCAiU1RSSU5HIiwgIkJPT0xFQU4iLCAiTlVMTCIsICJFTlVNIiwgIkxJU1QiLCAiT0JKRUNUIiwgIk9CSkVDVF9GSUVMRCIsICJESVJFQ1RJVkUiLCAiTkFNRURfVFlQRSIsICJMSVNUX1RZUEUiLCAiTk9OX05VTExfVFlQRSIsICJHcmFwaFFMRXJyb3IiLCAiRXJyb3IiLCAiY29uc3RydWN0b3IiLCAibWVzc2FnZSIsICJub2RlcyIsICJzb3VyY2UiLCAicG9zaXRpb25zIiwgInBhdGgiLCAib3JpZ2luYWxFcnJvciIsICJleHRlbnNpb25zIiwgInN1cGVyIiwgInRoaXMiLCAibmFtZSIsICJBcnJheSIsICJpc0FycmF5IiwgIl9leHRlbnNpb25zIiwgIm9yaWdpbmFsRXh0ZW5zaW9ucyIsICJ0b0pTT04iLCAidG9TdHJpbmciLCAiU3ltYm9sIiwgInRvU3RyaW5nVGFnIiwgImlucHV0IiwgImlkeCIsICJlcnJvciIsICJraW5kIiwgImFkdmFuY2UiLCAicGF0dGVybiIsICJsYXN0SW5kZXgiLCAidGVzdCIsICJzbGljZSIsICJsZWFkaW5nUmUiLCAiYmxvY2tTdHJpbmciLCAic3RyaW5nIiwgImxpbmVzIiwgInNwbGl0IiwgIm91dCIsICJjb21tb25JbmRlbnQiLCAiZmlyc3ROb25FbXB0eUxpbmUiLCAibGFzdE5vbkVtcHR5TGluZSIsICJsZW5ndGgiLCAiaSIsICJyZXBsYWNlIiwgImlnbm9yZWQiLCAiY2hhciIsICJjaGFyQ29kZUF0IiwgInN0YXJ0IiwgInZhbHVlIiwgIm5hbWVOb2RlIiwgInJlc3RCbG9ja1N0cmluZ1JlIiwgImZsb2F0UGFydFJlIiwgImNvbnN0YW50IiwgIm1hdGNoIiwgInZhbHVlcyIsICJwdXNoIiwgImZpZWxkcyIsICJibG9jayIsICJpc0NvbXBsZXgiLCAiSlNPTiIsICJwYXJzZSIsICJpbnRQYXJ0IiwgImFyZ3VtZW50c18iLCAiYXJncyIsICJkaXJlY3RpdmVzIiwgImFyZ3VtZW50cyIsICJ0eXBlIiwgImxpc3RzIiwgInNlbGVjdGlvblNldFN0YXJ0IiwgInNlbGVjdGlvblNldCIsICJzZWxlY3Rpb25zIiwgInR5cGVDb25kaXRpb24iLCAiYWxpYXMiLCAiX2FyZ3VtZW50cyIsICJfZGlyZWN0aXZlcyIsICJfc2VsZWN0aW9uU2V0IiwgInZhcmlhYmxlRGVmaW5pdGlvbnMiLCAidmFycyIsICJfZGVzY3JpcHRpb24iLCAiX3R5cGUiLCAiX2RlZmF1bHRWYWx1ZSIsICJ2YXJEZWYiLCAidmFyaWFibGUiLCAiZGVmYXVsdFZhbHVlIiwgImRlc2NyaXB0aW9uIiwgImZyYWdtZW50RGVmaW5pdGlvbiIsICJmcmFnRGVmIiwgImRlZmluaXRpb25zIiwgIl9kZWZpbml0aW9ucyIsICJvcGVyYXRpb24iLCAiZGVmaW5pdGlvbiIsICJvcERlZiIsICJvcHRpb25zIiwgImJvZHkiLCAibm9Mb2NhdGlvbiIsICJsb2MiLCAiZW5kIiwgInN0YXJ0VG9rZW4iLCAiZW5kVG9rZW4iLCAibG9jYXRpb25PZmZzZXQiLCAibGluZSIsICJjb2x1bW4iLCAibWFwSm9pbiIsICJ2YWx1ZSIsICJqb2luZXIiLCAibWFwcGVyIiwgIm91dCIsICJpbmRleCIsICJsZW5ndGgiLCAicHJpbnRTdHJpbmciLCAic3RyaW5nIiwgIkpTT04iLCAic3RyaW5naWZ5IiwgInByaW50QmxvY2tTdHJpbmciLCAicmVwbGFjZSIsICJMRiIsICJub2RlcyIsICJPcGVyYXRpb25EZWZpbml0aW9uIiwgIm5vZGUiLCAiZGVzY3JpcHRpb24iLCAiU3RyaW5nVmFsdWUiLCAib3BlcmF0aW9uIiwgIm5hbWUiLCAidmFyaWFibGVEZWZpbml0aW9ucyIsICJWYXJpYWJsZURlZmluaXRpb24iLCAiZGlyZWN0aXZlcyIsICJEaXJlY3RpdmUiLCAic2VsZWN0aW9uU2V0IiwgIlNlbGVjdGlvblNldCIsICJWYXJpYWJsZSIsICJ2YXJpYWJsZSIsICJfcHJpbnQiLCAidHlwZSIsICJkZWZhdWx0VmFsdWUiLCAiRmllbGQiLCAiYWxpYXMiLCAiYXJndW1lbnRzIiwgImFyZ3MiLCAiQXJndW1lbnQiLCAic2xpY2UiLCAic2VsZWN0aW9ucyIsICJibG9jayIsICJCb29sZWFuVmFsdWUiLCAiTnVsbFZhbHVlIiwgIl9ub2RlIiwgIkludFZhbHVlIiwgIkZsb2F0VmFsdWUiLCAiRW51bVZhbHVlIiwgIk5hbWUiLCAiTGlzdFZhbHVlIiwgInZhbHVlcyIsICJPYmplY3RWYWx1ZSIsICJmaWVsZHMiLCAiT2JqZWN0RmllbGQiLCAiRG9jdW1lbnQiLCAiZGVmaW5pdGlvbnMiLCAiRnJhZ21lbnRTcHJlYWQiLCAiSW5saW5lRnJhZ21lbnQiLCAidHlwZUNvbmRpdGlvbiIsICJGcmFnbWVudERlZmluaXRpb24iLCAiTmFtZWRUeXBlIiwgIkxpc3RUeXBlIiwgIk5vbk51bGxUeXBlIiwgImtpbmQiLCAicHJpbnQiLCAiZSIsICJlIiwgInIiLCAidCIsICJpIiwgImEiLCAiZSIsICJmIiwgIm4iLCAibCIsICJ1IiwgIm8iLCAiciIsICJ0IiwgImkiLCAiZSIsICJhIiwgImYiLCAibiIsICJsIiwgInUiLCAiciIsICJ0IiwgImkiLCAiYSIsICJlIiwgImYiLCAibiIsICJsIiwgInUiLCAiciIsICJ0IiwgImkiLCAiYSIsICJlIiwgImYiLCAibiIsICJyIiwgInQiLCAiaSIsICJhIiwgImUiLCAiZiIsICJuIiwgImUiLCAiciIsICJ0IiwgImkiLCAiYSIsICJmIiwgIm4iLCAiciIsICJ0IiwgImkiLCAiZSIsICJhIiwgImUiLCAiciIsICJ0IiwgImkiLCAiZSIsICJhIiwgImUiLCAiciIsICJ0IiwgImkiLCAicmVoeWRyYXRlR3JhcGhRbEVycm9yIiwgImVycm9yIiwgIm1lc3NhZ2UiLCAiZXh0ZW5zaW9ucyIsICJuYW1lIiwgIkdyYXBoUUxFcnJvciIsICJub2RlcyIsICJzb3VyY2UiLCAicG9zaXRpb25zIiwgInBhdGgiLCAiQ29tYmluZWRFcnJvciIsICJFcnJvciIsICJjb25zdHJ1Y3RvciIsICJpbnB1dCIsICJub3JtYWxpemVkR3JhcGhRTEVycm9ycyIsICJncmFwaFFMRXJyb3JzIiwgIm1hcCIsICJnZW5lcmF0ZUVycm9yTWVzc2FnZSIsICJuZXR3b3JrRXJyIiwgImdyYXBoUWxFcnJzIiwgImkiLCAibCIsICJsZW5ndGgiLCAibmV0d29ya0Vycm9yIiwgInN1cGVyIiwgInRoaXMiLCAicmVzcG9uc2UiLCAidG9TdHJpbmciLCAicGhhc2giLCAieCIsICJzZWVkIiwgImgiLCAiY2hhckNvZGVBdCIsICJzZWVuIiwgIlNldCIsICJjYWNoZSIsICJXZWFrTWFwIiwgInN0cmluZ2lmeSIsICJpbmNsdWRlRmlsZXMiLCAiaGFzIiwgIkpTT04iLCAidG9KU09OIiwgIkFycmF5IiwgImlzQXJyYXkiLCAib3V0IiwgIkZpbGVDb25zdHJ1Y3RvciIsICJOb29wQ29uc3RydWN0b3IiLCAiQmxvYkNvbnN0cnVjdG9yIiwgImtleXMiLCAiT2JqZWN0IiwgInNvcnQiLCAiZ2V0UHJvdG90eXBlT2YiLCAicHJvdG90eXBlIiwgImtleSIsICJnZXQiLCAiTWF0aCIsICJyYW5kb20iLCAic2xpY2UiLCAic2V0IiwgIl9fa2V5IiwgImFkZCIsICJ2YWx1ZSIsICJkZWxldGUiLCAiZXh0cmFjdCIsICJzdHJpbmdpZnlWYXJpYWJsZXMiLCAiY2xlYXIiLCAiRmlsZSIsICJCbG9iIiwgIkdSQVBIUUxfU1RSSU5HX1JFIiwgIlJFUExBQ0VfQ0hBUl9SRSIsICJyZXBsYWNlT3V0c2lkZVN0cmluZ3MiLCAic3RyIiwgImlkeCIsICJyZXBsYWNlIiwgInNhbml0aXplRG9jdW1lbnQiLCAibm9kZSIsICJzcGxpdCIsICJqb2luIiwgInRyaW0iLCAicHJpbnRzIiwgIk1hcCIsICJkb2NzIiwgInN0cmluZ2lmeURvY3VtZW50IiwgInByaW50ZWQiLCAibG9jIiwgImJvZHkiLCAicHJpbnQiLCAic3RhcnQiLCAiZW5kIiwgImxvY2F0aW9uT2Zmc2V0IiwgImxpbmUiLCAiY29sdW1uIiwgImhhc2hEb2N1bWVudCIsICJkb2N1bWVudElkIiwgImRlZmluaXRpb25zIiwgIm9wZXJhdGlvbk5hbWUiLCAiZ2V0T3BlcmF0aW9uTmFtZSIsICJrZXlEb2N1bWVudCIsICJxdWVyeSIsICJwYXJzZSIsICJub0xvY2F0aW9uIiwgImNyZWF0ZVJlcXVlc3QiLCAiX3F1ZXJ5IiwgIl92YXJpYWJsZXMiLCAidmFyaWFibGVzIiwgInByaW50ZWRWYXJzIiwgImtpbmQiLCAiS2luZCIsICJPUEVSQVRJT05fREVGSU5JVElPTiIsICJtYWtlUmVzdWx0IiwgIm9wZXJhdGlvbiIsICJyZXN1bHQiLCAicmVzcG9uc2UiLCAiQXJyYXkiLCAiaXNBcnJheSIsICJlcnJvcnMiLCAiRXJyb3IiLCAiZGVmYXVsdEhhc05leHQiLCAia2luZCIsICJkYXRhIiwgImVycm9yIiwgIkNvbWJpbmVkRXJyb3IiLCAiZ3JhcGhRTEVycm9ycyIsICJleHRlbnNpb25zIiwgImhhc05leHQiLCAic3RhbGUiLCAiZGVlcE1lcmdlIiwgInRhcmdldCIsICJzb3VyY2UiLCAiaSIsICJsIiwgImxlbmd0aCIsICJjb25zdHJ1Y3RvciIsICJPYmplY3QiLCAia2V5IiwgIm1lcmdlUmVzdWx0UGF0Y2giLCAicHJldlJlc3VsdCIsICJuZXh0UmVzdWx0IiwgInBlbmRpbmciLCAiaGFzRXh0ZW5zaW9ucyIsICJwYXlsb2FkIiwgImluY3JlbWVudGFsIiwgIndpdGhEYXRhIiwgIl9sb29wIiwgInBhdGNoIiwgInB1c2giLCAiYXNzaWduIiwgInByb3AiLCAicGFydCIsICJwYXRoIiwgInJlcyIsICJmaW5kIiwgInBlbmRpbmdSZXMiLCAiaWQiLCAic3ViUGF0aCIsICJpdGVtcyIsICJzdGFydEluZGV4IiwgIm1ha2VFcnJvclJlc3VsdCIsICJuZXR3b3JrRXJyb3IiLCAibWFrZUZldGNoQm9keSIsICJyZXF1ZXN0IiwgImJvZHkiLCAicXVlcnkiLCAiZG9jdW1lbnRJZCIsICJvcGVyYXRpb25OYW1lIiwgImdldE9wZXJhdGlvbk5hbWUiLCAidmFyaWFibGVzIiwgImRlZmluaXRpb25zIiwgInBlcnNpc3RlZFF1ZXJ5IiwgIm1pc3MiLCAic3RyaW5naWZ5RG9jdW1lbnQiLCAibWFrZUZldGNoVVJMIiwgInVzZUdFVE1ldGhvZCIsICJjb250ZXh0IiwgInByZWZlckdldE1ldGhvZCIsICJ1cmwiLCAidXJsUGFydHMiLCAic3BsaXRPdXRTZWFyY2hQYXJhbXMiLCAidmFsdWUiLCAic2V0IiwgInN0cmluZ2lmeVZhcmlhYmxlcyIsICJmaW5hbFVybCIsICJqb2luIiwgInN0YXJ0IiwgImluZGV4T2YiLCAic2xpY2UiLCAiVVJMU2VhcmNoUGFyYW1zIiwgInNlcmlhbGl6ZUJvZHkiLCAianNvbiIsICJmaWxlcyIsICJ4IiwgIm1hcCIsICJNYXAiLCAiRmlsZUNvbnN0cnVjdG9yIiwgIk5vb3BDb25zdHJ1Y3RvciIsICJCbG9iQ29uc3RydWN0b3IiLCAic2VlbiIsICJjbGVhciIsICJleHRyYWN0IiwgInNpemUiLCAiZm9ybSIsICJGb3JtRGF0YSIsICJhcHBlbmQiLCAia2V5cyIsICJpbmRleCIsICJmaWxlIiwgInZhbHVlcyIsICJtYWtlRmV0Y2hPcHRpb25zIiwgImhlYWRlcnMiLCAiYWNjZXB0IiwgImV4dHJhT3B0aW9ucyIsICJmZXRjaE9wdGlvbnMiLCAiZm9yRWFjaCIsICJ0b0xvd2VyQ2FzZSIsICJzZXJpYWxpemVkQm9keSIsICJtZXRob2QiLCAiYm91bmRhcnlIZWFkZXJSZSIsICJldmVudFN0cmVhbVJlIiwgImFzeW5jIiwgInN0cmVhbUJvZHkiLCAiU3ltYm9sIiwgImFzeW5jSXRlcmF0b3IiLCAiY2h1bmsiLCAicmVhZGVyIiwgImdldFJlYWRlciIsICJyZWFkIiwgImRvbmUiLCAiY2FuY2VsIiwgInN0cmVhbVRvQm91bmRlZENodW5rcyIsICJjaHVua3MiLCAiYm91bmRhcnkiLCAiZGVjb2RlciIsICJUZXh0RGVjb2RlciIsICJidWZmZXIiLCAiYm91bmRhcnlJbmRleCIsICJuYW1lIiwgInRvU3RyaW5nIiwgImRlY29kZSIsICJzdHJlYW0iLCAiZmV0Y2hPcGVyYXRpb24iLCAibmV0d29ya01vZGUiLCAiUHJvbWlzZSIsICJyZXNvbHZlIiwgImNvbnRlbnRUeXBlIiwgImZldGNoIiwgImdldCIsICJyZXN1bHRzIiwgInRlc3QiLCAicGFyc2VNdWx0aXBhcnRNaXhlZCIsICJib3VuZGFyeUhlYWRlciIsICJtYXRjaCIsICJpc1ByZWFtYmxlIiwgInByZWFtYmxlSW5kZXgiLCAiSlNPTiIsICJwYXJzZSIsICJwYXJzZUV2ZW50U3RyZWFtIiwgInBhcnNlSlNPTiIsICJ0ZXh0IiwgInBhcnNlTWF5YmVKU09OIiwgIk5PREVfRU5WIiwgImNvbnNvbGUiLCAid2FybiIsICJlIiwgInN0YXR1cyIsICJzdGF0dXNUZXh0IiwgIm1ha2VGZXRjaFNvdXJjZSIsICJhYm9ydENvbnRyb2xsZXIiLCAiQWJvcnRDb250cm9sbGVyIiwgInNpZ25hbCIsICJvbkVuZCIsICJhYm9ydCIsICJmaWx0ZXIiLCAiZnJvbUFzeW5jSXRlcmFibGUiLCAiY29sbGVjdFR5cGVzIiwgIm9iaiIsICJ0eXBlcyIsICJBcnJheSIsICJpc0FycmF5IiwgImkiLCAibCIsICJsZW5ndGgiLCAia2V5IiwgImFkZCIsICJmb3JtYXROb2RlIiwgIm5vZGUiLCAiZGVmaW5pdGlvbnMiLCAibmV3RGVmaW5pdGlvbiIsICJwdXNoIiwgImRpcmVjdGl2ZXMiLCAiX2RpcmVjdGl2ZXMiLCAiZGlyZWN0aXZlIiwgIm5hbWUiLCAidmFsdWUiLCAic2xpY2UiLCAic2VsZWN0aW9ucyIsICJoYXNUeXBlbmFtZSIsICJraW5kIiwgIktpbmQiLCAiT1BFUkFUSU9OX0RFRklOSVRJT04iLCAic2VsZWN0aW9uU2V0IiwgInNlbGVjdGlvbiIsICJGSUVMRCIsICJhbGlhcyIsICJuZXdTZWxlY3Rpb24iLCAiTkFNRSIsICJfZ2VuZXJhdGVkIiwgImZvcm1hdHRlZERvY3MiLCAiTWFwIiwgImZvcm1hdERvY3VtZW50IiwgInF1ZXJ5IiwgImtleURvY3VtZW50IiwgInJlc3VsdCIsICJnZXQiLCAiX19rZXkiLCAic2V0IiwgIk9iamVjdCIsICJkZWZpbmVQcm9wZXJ0eSIsICJlbnVtZXJhYmxlIiwgIndpdGhQcm9taXNlIiwgIl9zb3VyY2UkIiwgInNvdXJjZSQiLCAic2luayIsICJ0b1Byb21pc2UiLCAidGFrZSIsICJmaWx0ZXIiLCAic3RhbGUiLCAiaGFzTmV4dCIsICJ0aGVuIiwgIm9uUmVzb2x2ZSIsICJvblJlamVjdCIsICJzdWJzY3JpYmUiLCAib25SZXN1bHQiLCAibWFrZU9wZXJhdGlvbiIsICJyZXF1ZXN0IiwgImNvbnRleHQiLCAiYWRkTWV0YWRhdGEiLCAib3BlcmF0aW9uIiwgIm1ldGEiLCAibm9vcCIsICJzaG91bGRTa2lwIiwgImtpbmQiLCAibWFwVHlwZU5hbWVzIiwgIm9wZXJhdGlvbiIsICJxdWVyeSIsICJmb3JtYXREb2N1bWVudCIsICJmb3JtYXR0ZWRPcGVyYXRpb24iLCAibWFrZU9wZXJhdGlvbiIsICJjYWNoZUV4Y2hhbmdlIiwgImZvcndhcmQiLCAiY2xpZW50IiwgImRpc3BhdGNoRGVidWciLCAicmVzdWx0Q2FjaGUiLCAiTWFwIiwgIm9wZXJhdGlvbkNhY2hlIiwgImlzT3BlcmF0aW9uQ2FjaGVkIiwgImNvbnRleHQiLCAicmVxdWVzdFBvbGljeSIsICJoYXMiLCAia2V5IiwgIm9wcyQiLCAiY2FjaGVkT3BzJCIsICJtYXAiLCAiY2FjaGVkUmVzdWx0IiwgImdldCIsICJyZXN1bHQiLCAibWFrZVJlc3VsdCIsICJkYXRhIiwgImFkZE1ldGFkYXRhIiwgImNhY2hlT3V0Y29tZSIsICJzdGFsZSIsICJyZWV4ZWN1dGVPcGVyYXRpb24iLCAiZmlsdGVyIiwgIm9wIiwgImZvcndhcmRlZE9wcyQiLCAidGFwIiwgInJlc3BvbnNlIiwgInR5cGVuYW1lcyIsICJhZGRpdGlvbmFsVHlwZW5hbWVzIiwgImNvbGxlY3RUeXBlcyIsICJTZXQiLCAiY29uY2F0IiwgInBlbmRpbmdPcGVyYXRpb25zIiwgImkiLCAibGVuZ3RoIiwgInR5cGVOYW1lIiwgIm9wZXJhdGlvbnMiLCAic2V0IiwgInZhbHVlcyIsICJhZGQiLCAiY2xlYXIiLCAiZGVsZXRlIiwgIm1lcmdlIiwgImZldGNoRXhjaGFuZ2UiLCAiZm9yd2FyZCIsICJkaXNwYXRjaERlYnVnIiwgIm9wcyQiLCAiZmV0Y2hSZXN1bHRzJCIsICJtZXJnZU1hcCIsICJvcGVyYXRpb24iLCAiYm9keSIsICJtYWtlRmV0Y2hCb2R5IiwgInVybCIsICJtYWtlRmV0Y2hVUkwiLCAiZmV0Y2hPcHRpb25zIiwgIm1ha2VGZXRjaE9wdGlvbnMiLCAic291cmNlIiwgInRha2VVbnRpbCIsICJmaWx0ZXIiLCAib3AiLCAia2luZCIsICJrZXkiLCAibWFrZUZldGNoU291cmNlIiwgIk5PREVfRU5WIiwgIm9uUHVzaCIsICJyZXN1bHQiLCAiZXJyb3IiLCAiZGF0YSIsICJjb250ZXh0IiwgImZldGNoU3Vic2NyaXB0aW9ucyIsICJmb3J3YXJkJCIsICJtZXJnZSIsICJjb21wb3NlRXhjaGFuZ2VzIiwgImV4Y2hhbmdlcyIsICJjbGllbnQiLCAicmVkdWNlUmlnaHQiLCAiZXhjaGFuZ2UiLCAiZm9yd2FyZGVkIiwgIm9wZXJhdGlvbnMkIiwgIkVycm9yIiwgInNoYXJlIiwgImV2ZW50IiwgImZhbGxiYWNrRXhjaGFuZ2UiLCAiZGlzcGF0Y2hEZWJ1ZyIsICJvcHMkIiwgIk5PREVfRU5WIiwgInRhcCIsICJvcGVyYXRpb24iLCAia2luZCIsICJtZXNzYWdlIiwgImNvbnNvbGUiLCAid2FybiIsICJmaWx0ZXIiLCAiX3giLCAiQ2xpZW50IiwgIm9wdHMiLCAidXJsIiwgIkVycm9yIiwgImlkcyIsICJyZXBsYXlzIiwgIk1hcCIsICJhY3RpdmUiLCAiZGlzcGF0Y2hlZCIsICJTZXQiLCAicXVldWUiLCAiYmFzZU9wdHMiLCAiZmV0Y2hTdWJzY3JpcHRpb25zIiwgImZldGNoT3B0aW9ucyIsICJmZXRjaCIsICJwcmVmZXJHZXRNZXRob2QiLCAicmVxdWVzdFBvbGljeSIsICJvcGVyYXRpb25zIiwgIm1ha2VTdWJqZWN0IiwgIm5leHRPcGVyYXRpb24iLCAiaGFzIiwgImtleSIsICJkZWxldGUiLCAiYWRkIiwgIm5leHQiLCAiaXNPcGVyYXRpb25CYXRjaEFjdGl2ZSIsICJkaXNwYXRjaE9wZXJhdGlvbiIsICJzaGlmdCIsICJtYWtlUmVzdWx0U291cmNlIiwgInJlc3VsdCQiLCAidGFrZVVudGlsIiwgIm9wIiwgInNvdXJjZSIsICJyZXMiLCAiY29udGV4dCIsICJfaW5zdGFuY2UiLCAicmVzdWx0cyQiLCAidGFrZVdoaWxlIiwgInJlc3VsdCIsICJoYXNOZXh0IiwgInN3aXRjaE1hcCIsICJ2YWx1ZSQiLCAiZnJvbVZhbHVlIiwgInN0YWxlIiwgIm1lcmdlIiwgIm1hcCIsICJ0YWtlIiwgIm9uRW5kIiwgImkiLCAibGVuZ3RoIiwgInNwbGljZSIsICJtYWtlT3BlcmF0aW9uIiwgIm9uUHVzaCIsICJzZXQiLCAib25TdGFydCIsICJzaGFyZSIsICJpbnN0YW5jZSIsICJ0aGlzIiwgIk9iamVjdCIsICJjcmVhdGUiLCAicHJvdG90eXBlIiwgImNsaWVudCIsICJhc3NpZ24iLCAic3VzcGVuc2UiLCAib3BlcmF0aW9ucyQiLCAicmVleGVjdXRlT3BlcmF0aW9uIiwgInB1c2giLCAiUHJvbWlzZSIsICJyZXNvbHZlIiwgInRoZW4iLCAicXVldWVkIiwgImNyZWF0ZVJlcXVlc3RPcGVyYXRpb24iLCAicmVxdWVzdCIsICJyZXF1ZXN0T3BlcmF0aW9uVHlwZSIsICJleGVjdXRlUmVxdWVzdE9wZXJhdGlvbiIsICJ3aXRoUHJvbWlzZSIsICJsYXp5IiwgImdldCIsICJyZXBsYXkiLCAiZXhlY3V0ZVF1ZXJ5IiwgInF1ZXJ5IiwgImV4ZWN1dGVTdWJzY3JpcHRpb24iLCAiZXhlY3V0ZU11dGF0aW9uIiwgInJlYWRRdWVyeSIsICJ2YXJpYWJsZXMiLCAic3Vic2NyaWJlIiwgInVuc3Vic2NyaWJlIiwgImNyZWF0ZVJlcXVlc3QiLCAic3Vic2NyaXB0aW9uIiwgIm11dGF0aW9uIiwgIm5vb3AiLCAic3Vic2NyaWJlVG9EZWJ1Z1RhcmdldCIsICJvbkV2ZW50IiwgImNvbXBvc2VkRXhjaGFuZ2UiLCAiY29tcG9zZUV4Y2hhbmdlcyIsICJleGNoYW5nZXMiLCAiZm9yd2FyZCIsICJwdWJsaXNoIiwgImNyZWF0ZUNsaWVudCIsICJPQkoiLCAiQ29udGV4dCIsICJjcmVhdGVDb250ZXh0IiwgIlByb3ZpZGVyIiwgIkNvbnN1bWVyIiwgImRpc3BsYXlOYW1lIiwgInVzZUNsaWVudCIsICJjbGllbnQiLCAidXNlQ29udGV4dCIsICJlcnJvciIsICJjb25zb2xlIiwgIkVycm9yIiwgImluaXRpYWxTdGF0ZSIsICJmZXRjaGluZyIsICJzdGFsZSIsICJoYXNOZXh0IiwgImRhdGEiLCAiZXh0ZW5zaW9ucyIsICJvcGVyYXRpb24iLCAiYXJlT3BlcmF0aW9uc0VxdWFsIiwgImEiLCAiYiIsICJrZXkiLCAiY29tcHV0ZU5leHRTdGF0ZSIsICJwcmV2U3RhdGUiLCAicmVzdWx0IiwgIm5ld1N0YXRlIiwgImlzU2hhbGxvd0RpZmZlcmVudCIsICJoYXNEZXBzQ2hhbmdlZCIsICJpIiwgImwiLCAibGVuZ3RoIiwgImlzRGlzcGF0Y2hpbmciLCAiZGVmZXJEaXNwYXRjaCIsICJzZXRTdGF0ZSIsICJ2YWx1ZSIsICJQcm9taXNlIiwgInJlc29sdmUiLCAidGhlbiIsICJ1c2VSZXF1ZXN0IiwgInF1ZXJ5IiwgInZhcmlhYmxlcyIsICJwcmV2IiwgInVzZVJlZiIsICJ1bmRlZmluZWQiLCAidXNlTWVtbyIsICJyZXF1ZXN0IiwgImNyZWF0ZVJlcXVlc3QiLCAiY3VycmVudCIsICJrZXkiLCAiZ2V0Q2FjaGVGb3JDbGllbnQiLCAiY2xpZW50IiwgIl9yZWFjdCIsICJyZWNsYWltIiwgIlNldCIsICJtYXAiLCAiTWFwIiwgIm9wZXJhdGlvbnMkIiwgInN1YnNjcmliZSIsICJvcGVyYXRpb24iLCAia2luZCIsICJoYXMiLCAiZGVsZXRlIiwgImdldCIsICJzZXQiLCAidmFsdWUiLCAiZGlzcG9zZSIsICJhZGQiLCAiaXNTdXNwZW5zZSIsICJjb250ZXh0IiwgInN1c3BlbnNlIiwgInVzZVF1ZXJ5IiwgImFyZ3MiLCAidXNlQ2xpZW50IiwgImNhY2hlIiwgInNvdXJjZSIsICJwYXVzZSIsICJleGVjdXRlUXVlcnkiLCAicmVxdWVzdFBvbGljeSIsICJvblB1c2giLCAicmVzdWx0IiwgImdldFNuYXBzaG90IiwgInVzZUNhbGxiYWNrIiwgImZldGNoaW5nIiwgInJlc29sdmUiLCAic3Vic2NyaXB0aW9uIiwgIl9yZXN1bHQiLCAidGFrZVdoaWxlIiwgImhhc05leHQiLCAicHJvbWlzZSIsICJQcm9taXNlIiwgIl9yZXNvbHZlIiwgInVuc3Vic2NyaWJlIiwgImRlcHMiLCAic3RhdGUiLCAic2V0U3RhdGUiLCAidXNlU3RhdGUiLCAiY29tcHV0ZU5leHRTdGF0ZSIsICJpbml0aWFsU3RhdGUiLCAiZGVmZXJEaXNwYXRjaCIsICJjdXJyZW50UmVzdWx0IiwgImhhc0RlcHNDaGFuZ2VkIiwgIlJlYWN0IiwgInVzZUVmZmVjdCIsICJoYXNSZXN1bHQiLCAidXBkYXRlUmVzdWx0IiwgIm5leHRSZXN1bHQiLCAib25FbmQiLCAib3B0cyIsICJpbXBvcnRfcmVhY3QiLCAiaW1wb3J0X3JlYWN0IiwgIm5hbWUiLCAidmVyc2lvbiIsICJlcnJvciIsICJuYW1lIiwgInVwZGF0ZVByb2ZpbGUiLCAiZXJyb3IiLCAidmFsdWUiLCAiaW1wb3J0X2pzeF9ydW50aW1lIiwgImVycm9yIiwgImUiLCAiaW1wb3J0X2pzeF9ydW50aW1lIiwgImltcG9ydF9yZWFjdCIsICJpbXBvcnRfcmVhY3QiLCAiaW1wb3J0X2pzeF9ydW50aW1lIiwgIm5hbWUiLCAiZXJyb3IiLCAiZSIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAidHlwZSIsICJmIiwgInJvb3QiLCAidiIsICJyIiwgImkiLCAiZmllbGQiLCAidHlwZU1hcCIsICJpIiwgInR5cGUiLCAiZiIsICJrIiwgInR5cGVOYW1lIiwgInR5cGVNYXAiLCAiaW1wb3J0X2pzeF9ydW50aW1lIiwgInUiLCAicCIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAibG9jYXRpb24iLCAiaW1wb3J0X2pzeF9ydW50aW1lIiwgInYiLCAidCIsICJpbXBvcnRfanN4X3J1bnRpbWUiLCAiZiJdCn0K
